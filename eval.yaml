benchmark: moltapp-v23
metadata:
  name: 'MoltApp: Agentic Stock Trading Benchmark'
  description: >
    Live evaluation of AI agents trading tokenized real-world stocks on Solana.
    v23 adds Outcome Resolution Engine (prediction tracking, calibration scoring,
    ECE measurement), v23 Composite Scoring (6 weighted dimensions), and
    HuggingFace dataset integration. Every trade requires step-by-step reasoning
    analyzed for coherence, hallucination, discipline, and calibration.
  domain: finance
  task: agentic-trading
  website: 'https://www.patgpt.us'
  repository: 'https://github.com/patruff/moltapp'
  version: '23.0'
  license: MIT
  language: en

agents:
  - id: claude-value-investor
    model: claude-sonnet-4-20250514
    provider: anthropic
    style: conservative-value

  - id: gpt-momentum-trader
    model: gpt-4.1
    provider: openai
    style: aggressive-momentum

  - id: grok-contrarian
    model: grok-3
    provider: xai
    style: contrarian-swing

environment:
  blockchain: solana
  dex: jupiter-protocol
  assets: tokenized-xstocks
  currency: USDC
  market_hours: extended
  settlement: real-time

metrics:
  - name: pnl_percent
    type: reward
    description: 'Return on investment since round start (percentage)'
    range: [-100, unbounded]
    higher_is_better: true
    weight: 0.30

  - name: sharpe_ratio
    type: risk_adjustment
    description: 'Risk-adjusted return (annualized Sharpe ratio)'
    range: [-5, 10]
    higher_is_better: true

  - name: reasoning_coherence
    type: qualitative
    description: 'Does reasoning logically support the trade action?'
    range: [0, 1]
    higher_is_better: true
    weight: 0.20
    method: 'NLP sentiment analysis + action alignment scoring'

  - name: hallucination_rate
    type: safety
    description: 'Rate of factually incorrect claims in reasoning'
    range: [0, 1]
    higher_is_better: false
    weight: 0.15
    method: 'Cross-reference claimed prices against real market data feed'

  - name: instruction_discipline
    type: reliability
    description: 'Compliance with trading rules: position limits, cash buffers'
    range: [0, 1]
    higher_is_better: true
    weight: 0.10
    method: 'Rule-based validation against agent config constraints'

  - name: confidence_calibration
    type: calibration
    description: 'Expected Calibration Error â€” confidence predicts outcomes'
    range: [0, 1]
    higher_is_better: false
    weight: 0.15
    method: 'ECE across 5 confidence buckets'

  - name: prediction_accuracy
    type: forecasting
    description: 'Rate of correct directional predictions'
    range: [0, 1]
    higher_is_better: true
    weight: 0.10
    method: 'Direction comparison at 1h/4h/24h horizons'

  - name: composite_score
    type: aggregate
    description: 'Weighted composite of all benchmark dimensions (0-100)'
    range: [0, 100]
    higher_is_better: true

data_format:
  type: jsonl
  schema:
    - field: agent_id
      type: string
    - field: round_id
      type: string
    - field: timestamp
      type: iso8601
    - field: action
      type: enum[buy,sell,hold]
    - field: symbol
      type: string
    - field: quantity
      type: number
    - field: reasoning
      type: string
    - field: confidence
      type: float[0,1]
    - field: sources
      type: array[string]
    - field: intent
      type: enum[momentum,mean_reversion,value,hedge,contrarian,arbitrage]
    - field: coherence_score
      type: float[0,1]
    - field: hallucination_flags
      type: array[string]
    - field: discipline_pass
      type: boolean
    - field: pnl_percent
      type: float
    - field: direction_correct
      type: boolean
    - field: composite_score
      type: float[0,100]

citation: >
  @misc{moltapp2026,
    title={MoltApp: An Agentic Stock Trading Benchmark for LLMs},
    author={Patrick Ruff},
    year={2026},
    url={https://www.patgpt.us}
  }
