import{createRequire}from'module';const require=createRequire(import.meta.url);
var Jyt=Object.create;var LO=Object.defineProperty;var Wyt=Object.getOwnPropertyDescriptor;var Kyt=Object.getOwnPropertyNames;var Qyt=Object.getPrototypeOf,Xyt=Object.prototype.hasOwnProperty;var ft=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var y=(t,e)=>()=>(t&&(e=t(t=0)),e);var Ue=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),wr=(t,e)=>{for(var r in e)LO(t,r,{get:e[r],enumerable:!0})},w2e=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Kyt(e))!Xyt.call(t,i)&&i!==r&&LO(t,i,{get:()=>e[i],enumerable:!(n=Wyt(e,i))||n.enumerable});return t};var ti=(t,e,r)=>(r=t!=null?Jyt(Qyt(t)):{},w2e(e||!t||!t.__esModule?LO(r,"default",{value:t,enumerable:!0}):r,t)),zj=t=>w2e(LO({},"__esModule",{value:!0}),t);var Il,Cl,fSe=y(()=>{"use strict";Il=t=>({setHttpHandler(e){t.httpHandler=e},httpHandler(){return t.httpHandler},updateHttpClientConfig(e,r){t.httpHandler?.updateHttpClientConfig(e,r)},httpHandlerConfigs(){return t.httpHandler.httpHandlerConfigs()}}),Cl=t=>({httpHandler:t.httpHandler()})});var mSe=y(()=>{"use strict";fSe()});var hSe=y(()=>{"use strict"});var gSe,ySe=y(()=>{"use strict";(function(t){t.HEADER="header",t.QUERY="query"})(gSe||(gSe={}))});var bSe,vSe=y(()=>{"use strict";(function(t){t.HEADER="header",t.QUERY="query"})(bSe||(bSe={}))});var _Se=y(()=>{"use strict"});var xSe=y(()=>{"use strict"});var SSe=y(()=>{"use strict"});var wSe=y(()=>{"use strict"});var ASe=y(()=>{"use strict";ySe();vSe();_Se();xSe();SSe();wSe()});var ESe=y(()=>{"use strict"});var TSe=y(()=>{"use strict"});var RSe=y(()=>{"use strict"});var ISe=y(()=>{"use strict"});var CSe=y(()=>{"use strict"});var NSe=y(()=>{"use strict"});var OSe=y(()=>{"use strict"});var PSe=y(()=>{"use strict";CSe();NSe();OSe()});var kSe=y(()=>{"use strict"});var DSe=y(()=>{"use strict"});var oS,MSe=y(()=>{"use strict";(function(t){t.HTTP="http",t.HTTPS="https"})(oS||(oS={}))});var LSe=y(()=>{"use strict"});var BSe=y(()=>{"use strict"});var $Se=y(()=>{"use strict"});var USe=y(()=>{"use strict"});var FSe=y(()=>{"use strict"});var zSe=y(()=>{"use strict";LSe();BSe();$Se();USe();FSe()});var VSe=y(()=>{"use strict"});var sS,HSe=y(()=>{"use strict";(function(t){t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256"})(sS||(sS={}))});var GSe=y(()=>{"use strict"});var jSe=y(()=>{"use strict"});var qSe=y(()=>{"use strict";GSe();jSe();HSe()});var JSe=y(()=>{"use strict"});var WSe,KSe=y(()=>{"use strict";(function(t){t[t.HEADER=0]="HEADER",t[t.TRAILER=1]="TRAILER"})(WSe||(WSe={}))});var QSe=y(()=>{"use strict"});var XSe=y(()=>{"use strict"});var YSe=y(()=>{"use strict"});var ZSe=y(()=>{"use strict"});var ewe=y(()=>{"use strict"});var twe=y(()=>{"use strict";XSe();YSe();ZSe();ewe()});var rwe=y(()=>{"use strict"});var y3,nwe=y(()=>{"use strict";y3="__smithy_context"});var iwe=y(()=>{"use strict"});var um,owe=y(()=>{"use strict";(function(t){t.PROFILE="profile",t.SSO_SESSION="sso-session",t.SERVICES="services"})(um||(um={}))});var swe=y(()=>{"use strict"});var awe=y(()=>{"use strict"});var cwe=y(()=>{"use strict"});var lwe=y(()=>{"use strict"});var uwe=y(()=>{"use strict"});var dwe=y(()=>{"use strict"});var pwe=y(()=>{"use strict"});var fwe=y(()=>{"use strict"});var mwe=y(()=>{"use strict"});var hwe=y(()=>{"use strict"});var gwe=y(()=>{"use strict"});var ywe=y(()=>{"use strict"});var bwe=y(()=>{"use strict"});var vwe=y(()=>{"use strict"});var _we,xwe=y(()=>{"use strict";(function(t){t.HTTP_0_9="http/0.9",t.HTTP_1_0="http/1.0",t.TDS_8_0="tds/8.0"})(_we||(_we={}))});var Swe=y(()=>{"use strict"});var wwe=y(()=>{"use strict"});var Awe=y(()=>{"use strict"});var Ewe=y(()=>{"use strict"});var Twe=y(()=>{"use strict"});var Rwe=y(()=>{"use strict"});var Iwe=y(()=>{"use strict"});var e0=y(()=>{"use strict";hSe();ASe();ESe();TSe();RSe();ISe();PSe();kSe();DSe();MSe();zSe();VSe();qSe();JSe();KSe();QSe();twe();rwe();nwe();iwe();owe();swe();awe();cwe();lwe();uwe();dwe();pwe();fwe();mwe();hwe();gwe();ywe();bwe();vwe();xwe();Swe();wwe();Awe();Ewe();Twe();Rwe();Iwe()});var Cwe=y(()=>{"use strict"});var Nwe=y(()=>{"use strict"});var Owe=y(()=>{"use strict"});function $2t(t){return Object.keys(t).reduce((e,r)=>{let n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}var an,Pwe=y(()=>{"use strict";an=class t{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){let r=new t({...e,headers:{...e.headers}});return r.query&&(r.query=$2t(r.query)),r}static isInstance(e){if(!e)return!1;let r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return t.clone(this)}}});var Nl,kwe=y(()=>{"use strict";Nl=class{statusCode;reason;headers;body;constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let r=e;return typeof r.statusCode=="number"&&typeof r.headers=="object"}}});var Dwe=y(()=>{"use strict"});var Mwe=y(()=>{"use strict"});var ri=y(()=>{"use strict";mSe();Cwe();Nwe();Owe();Pwe();kwe();Dwe();Mwe()});var U2t,F2t,Ol,db=y(()=>{"use strict";ri();U2t=t=>e=>async r=>{if(!an.isInstance(r.request))return e(r);let{request:n}=r,{handlerProtocol:i=""}=t.requestHandler.metadata||{};if(i.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let o=n.hostname;n.port!=null&&(o+=`:${n.port}`),n.headers.host=o}return e(r)},F2t={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Ol=t=>({applyToStack:e=>{e.add(U2t(t),F2t)}})});var z2t,V2t,Pl,Lwe=y(()=>{"use strict";z2t=()=>(t,e)=>async r=>{try{let n=await t(r),{clientName:i,commandName:o,logger:s,dynamoDbDocumentClientOptions:a={}}=e,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:l}=a,u=c??e.inputFilterSensitiveLog,d=l??e.outputFilterSensitiveLog,{$metadata:p,...f}=n.output;return s?.info?.({clientName:i,commandName:o,input:u(r.input),output:d(f),metadata:p}),n}catch(n){let{clientName:i,commandName:o,logger:s,dynamoDbDocumentClientOptions:a={}}=e,{overrideInputFilterSensitiveLog:c}=a,l=c??e.inputFilterSensitiveLog;throw s?.error?.({clientName:i,commandName:o,input:l(r.input),error:n,metadata:n.$metadata}),n}},V2t={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Pl=t=>({applyToStack:e=>{e.add(z2t(),V2t)}})});var pb=y(()=>{"use strict";Lwe()});var Bwe,$we=y(()=>{"use strict";Bwe={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"}});var b3,FQ,wP,zQ,VQ,AP,Uwe=y(()=>{"use strict";b3={REQUEST_ID:Symbol.for("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol.for("_AWS_LAMBDA_X_RAY_TRACE_ID"),TENANT_ID:Symbol.for("_AWS_LAMBDA_TENANT_ID")},FQ=["true","1"].includes(process.env?.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA??"");FQ||(globalThis.awslambda=globalThis.awslambda||{});wP=class{static PROTECTED_KEYS=b3;isProtectedKey(e){return Object.values(b3).includes(e)}getRequestId(){return this.get(b3.REQUEST_ID)??"-"}getXRayTraceId(){return this.get(b3.X_RAY_TRACE_ID)}getTenantId(){return this.get(b3.TENANT_ID)}},zQ=class extends wP{currentContext;getContext(){return this.currentContext}hasContext(){return this.currentContext!==void 0}get(e){return this.currentContext?.[e]}set(e,r){if(this.isProtectedKey(e))throw new Error(`Cannot modify protected Lambda context field: ${String(e)}`);this.currentContext=this.currentContext||{},this.currentContext[e]=r}run(e,r){return this.currentContext=e,r()}},VQ=class t extends wP{als;static async create(){let e=new t,r=await import("node:async_hooks");return e.als=new r.AsyncLocalStorage,e}getContext(){return this.als.getStore()}hasContext(){return this.als.getStore()!==void 0}get(e){return this.als.getStore()?.[e]}set(e,r){if(this.isProtectedKey(e))throw new Error(`Cannot modify protected Lambda context field: ${String(e)}`);let n=this.als.getStore();if(!n)throw new Error("No context available");n[e]=r}run(e,r){return this.als.run(e,r)}};(function(t){let e=null;async function r(){return e||(e=(async()=>{let i="AWS_LAMBDA_MAX_CONCURRENCY"in process.env?await VQ.create():new zQ;return!FQ&&globalThis.awslambda?.InvokeStore?globalThis.awslambda.InvokeStore:(!FQ&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=i),i)})()),e}t.getInstanceAsync=r,t._testing=process.env.AWS_LAMBDA_BENCHMARK_MODE==="1"?{reset:()=>{e=null,globalThis.awslambda?.InvokeStore&&delete globalThis.awslambda.InvokeStore,globalThis.awslambda={InvokeStore:void 0}}}:void 0})(AP||(AP={}))});var HQ,H2t,G2t,Fwe,GQ=y(()=>{"use strict";Uwe();ri();HQ="X-Amzn-Trace-Id",H2t="AWS_LAMBDA_FUNCTION_NAME",G2t="_X_AMZN_TRACE_ID",Fwe=()=>t=>async e=>{let{request:r}=e;if(!an.isInstance(r))return t(e);let n=Object.keys(r.headers??{}).find(u=>u.toLowerCase()===HQ.toLowerCase())??HQ;if(r.headers.hasOwnProperty(n))return t(e);let i=process.env[H2t],o=process.env[G2t],c=(await AP.getInstanceAsync())?.getXRayTraceId()??o,l=u=>typeof u=="string"&&u.length>0;return l(i)&&l(c)&&(r.headers[HQ]=c),t({...e,request:r})}});var kl,zwe=y(()=>{"use strict";$we();GQ();kl=t=>({applyToStack:e=>{e.add(Fwe(),Bwe)}})});var fb=y(()=>{"use strict";zwe();GQ()});var Vwe=y(()=>{"use strict"});var Ri,Hwe=y(()=>{"use strict";e0();Ri=t=>t[y3]||(t[y3]={})});var cn,Gwe=y(()=>{"use strict";cn=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e}});var Ds=y(()=>{"use strict";Hwe();Gwe()});var jwe,qwe=y(()=>{"use strict";jwe=(t,e)=>{if(!e||e.length===0)return t;let r=[];for(let n of e)for(let i of t)i.schemeId.split("#")[1]===n&&r.push(i);for(let n of t)r.find(({schemeId:i})=>i===n.schemeId)||r.push(n);return r}});function j2t(t){let e=new Map;for(let r of t)e.set(r.schemeId,r);return e}var Jwe,jQ=y(()=>{"use strict";Ds();qwe();Jwe=(t,e)=>(r,n)=>async i=>{let o=t.httpAuthSchemeProvider(await e.httpAuthSchemeParametersProvider(t,n,i.input)),s=t.authSchemePreference?await t.authSchemePreference():[],a=jwe(o,s),c=j2t(t.httpAuthSchemes),l=Ri(n),u=[];for(let d of a){let p=c.get(d.schemeId);if(!p){u.push(`HttpAuthScheme \`${d.schemeId}\` was not enabled for this service.`);continue}let f=p.identityProvider(await e.identityProviderConfigProvider(t));if(!f){u.push(`HttpAuthScheme \`${d.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:h={},signingProperties:m={}}=d.propertiesExtractor?.(t,n)||{};d.identityProperties=Object.assign(d.identityProperties||{},h),d.signingProperties=Object.assign(d.signingProperties||{},m),l.selectedHttpAuthScheme={httpAuthOption:d,identity:await f(d.identityProperties),signer:p.signer};break}if(!l.selectedHttpAuthScheme)throw new Error(u.join(`
`));return r(i)}});var q2t,Dl,Wwe=y(()=>{"use strict";jQ();q2t={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},Dl=(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Jwe(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r}),q2t)}})});var Kwe=y(()=>{"use strict"});var Qwe=y(()=>{"use strict"});var EP,Xwe=y(()=>{"use strict";EP={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var qQ=y(()=>{"use strict";Kwe();Xwe();Qwe()});var CSr,Ywe=y(()=>{"use strict";qQ();CSr={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:EP.name}});var Zwe=y(()=>{"use strict";jQ();Wwe();Ywe()});var J2t,W2t,eAe,JQ=y(()=>{"use strict";ri();Ds();J2t=t=>e=>{throw e},W2t=(t,e)=>{},eAe=t=>(e,r)=>async n=>{if(!an.isInstance(n.request))return e(n);let o=Ri(r).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:s={}},identity:a,signer:c}=o,l=await e({...n,request:await c.sign(n.request,a,s)}).catch((c.errorHandler||J2t)(s));return(c.successHandler||W2t)(l.response,s),l}});var K2t,Ml,tAe=y(()=>{"use strict";JQ();K2t={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},Ml=t=>({applyToStack:e=>{e.addRelativeTo(eAe(t),K2t)}})});var rAe=y(()=>{"use strict";JQ();tAe()});var mb,nAe=y(()=>{"use strict";mb=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e}});function hi(t,e,r,n,i){return async function*(s,a,...c){let l=a,u=s.startingToken??l[r],d=!0,p;for(;d;){if(l[r]=u,i&&(l[i]=l[i]??s.pageSize),s.client instanceof t)p=await Q2t(e,s.client,a,s.withCommand,...c);else throw new Error(`Invalid client, expected instance of ${t.name}`);yield p;let f=u;u=X2t(p,n),d=!!(u&&(!s.stopOnSameToken||u!==f))}return void 0}}var Q2t,X2t,iAe=y(()=>{"use strict";Q2t=async(t,e,r,n=o=>o,...i)=>{let o=new t(r);return o=n(o)??o,await e.send(o,...i)};X2t=(t,e)=>{let r=t,n=e.split(".");for(let i of n){if(!r||typeof r!="object")return;r=r[i]}return r}});var TP,WQ=y(()=>{"use strict";TP=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]"});import{Buffer as KQ}from"buffer";var dm,aS,hb=y(()=>{"use strict";WQ();dm=(t,e=0,r=t.byteLength-e)=>{if(!TP(t))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof t} (${t})`);return KQ.from(t,e,r)},aS=(t,e)=>{if(typeof t!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof t} (${t})`);return e?KQ.from(t,e):KQ.from(t)}});var Y2t,gi,oAe=y(()=>{"use strict";hb();Y2t=/^[A-Za-z0-9+/]*={0,2}$/,gi=t=>{if(t.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!Y2t.exec(t))throw new TypeError("Invalid base64 string.");let e=aS(t,"base64");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}});var Jn,QQ=y(()=>{"use strict";hb();Jn=t=>{let e=aS(t,"utf8");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT)}});var Sd,sAe=y(()=>{"use strict";QQ();Sd=t=>typeof t=="string"?Jn(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)});var $n,aAe=y(()=>{"use strict";hb();$n=t=>{if(typeof t=="string")return t;if(typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return dm(t.buffer,t.byteOffset,t.byteLength).toString("utf8")}});var Fi=y(()=>{"use strict";QQ();sAe();aAe()});var Un,cAe=y(()=>{"use strict";hb();Fi();Un=t=>{let e;if(typeof t=="string"?e=Jn(t):e=t,typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return dm(e.buffer,e.byteOffset,e.byteLength).toString("base64")}});var Ms=y(()=>{"use strict";oAe();cAe()});var cS,lAe=y(()=>{"use strict";Ms();Fi();cS=class t extends Uint8Array{static fromString(e,r="utf-8"){if(typeof e=="string")return r==="base64"?t.mutate(gi(e)):t.mutate(Jn(e));throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}static mutate(e){return Object.setPrototypeOf(e,t.prototype),e}transformToString(e="utf-8"){return e==="base64"?Un(this):$n(this)}}});var uAe=y(()=>{"use strict"});var XQ,dAe=y(()=>{"use strict";XQ=t=>typeof ReadableStream=="function"&&(t?.constructor?.name===ReadableStream.name||t instanceof ReadableStream)});var pAe=y(()=>{"use strict"});var fAe=y(()=>{"use strict"});var mAe=y(()=>{"use strict"});var hAe=y(()=>{"use strict"});var Dp,Z2t,gAe=y(()=>{"use strict";Dp=t=>encodeURIComponent(t).replace(/[!'()*]/g,Z2t),Z2t=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`});var yAe=y(()=>{"use strict"});var RP=y(()=>{"use strict";gAe();yAe()});function bAe(t){let e=[];for(let r of Object.keys(t).sort()){let n=t[r];if(r=Dp(r),Array.isArray(n))for(let i=0,o=n.length;i<o;i++)e.push(`${r}=${Dp(n[i])}`);else{let i=r;(n||typeof n=="string")&&(i+=`=${Dp(n)}`),e.push(i)}}return e.join("&")}var vAe=y(()=>{"use strict";RP()});var _Ae,xAe=y(()=>{"use strict";_Ae=["ECONNRESET","EPIPE","ETIMEDOUT"]});var SAe,wAe=y(()=>{"use strict";SAe=t=>{let e={};for(let r of Object.keys(t)){let n=t[r];e[r]=Array.isArray(n)?n.join(","):n}return e}});var zi,gb=y(()=>{"use strict";zi={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t)}});var AAe,EAe,TAe=y(()=>{"use strict";gb();AAe=1e3,EAe=(t,e,r=0)=>{if(!r)return-1;let n=i=>{let o=zi.setTimeout(()=>{t.destroy(),e(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${r} ms.`),{name:"TimeoutError"}))},r-i),s=a=>{a?.connecting?a.on("connect",()=>{zi.clearTimeout(o)}):zi.clearTimeout(o)};t.socket?s(t.socket):t.on("socket",s)};return r<2e3?(n(0),0):zi.setTimeout(n.bind(null,AAe),AAe)}});var RAe,IAe=y(()=>{"use strict";gb();RAe=(t,e,r=0,n,i)=>r?zi.setTimeout(()=>{let o=`@smithy/node-http-handler - [${n?"ERROR":"WARN"}] a request has exceeded the configured ${r} ms requestTimeout.`;if(n){let s=Object.assign(new Error(o),{name:"TimeoutError",code:"ETIMEDOUT"});t.destroy(s),e(s)}else o+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",i?.warn?.(o)},r):-1});var e_t,CAe,NAe=y(()=>{"use strict";gb();e_t=3e3,CAe=(t,{keepAlive:e,keepAliveMsecs:r},n=e_t)=>{if(e!==!0)return-1;let i=()=>{t.socket?t.socket.setKeepAlive(e,r||0):t.on("socket",o=>{o.setKeepAlive(e,r||0)})};return n===0?(i(),0):zi.setTimeout(i,n)}});var OAe,PAe,kAe=y(()=>{"use strict";gb();OAe=3e3,PAe=(t,e,r=0)=>{let n=i=>{let o=r-i,s=()=>{t.destroy(),e(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${r} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};t.socket?(t.socket.setTimeout(o,s),t.on("close",()=>t.socket?.removeListener("timeout",s))):t.setTimeout(o,s)};return 0<r&&r<6e3?(n(0),0):zi.setTimeout(n.bind(null,r===0?0:OAe),OAe)}});import{Readable as t_t}from"stream";async function MAe(t,e,r=DAe,n=!1){let i=e.headers??{},o=i.Expect||i.expect,s=-1,a=!0;!n&&o==="100-continue"&&(a=await Promise.race([new Promise(c=>{s=Number(zi.setTimeout(()=>c(!0),Math.max(DAe,r)))}),new Promise(c=>{t.on("continue",()=>{zi.clearTimeout(s),c(!0)}),t.on("response",()=>{zi.clearTimeout(s),c(!1)}),t.on("error",()=>{zi.clearTimeout(s),c(!1)})})])),a&&r_t(t,e.body)}function r_t(t,e){if(e instanceof t_t){e.pipe(t);return}if(e){if(Buffer.isBuffer(e)||typeof e=="string"){t.end(e);return}let r=e;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){t.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}t.end(Buffer.from(e));return}t.end()}var DAe,LAe=y(()=>{"use strict";gb();DAe=6e3});import{Agent as YQ,request as n_t}from"http";import{Agent as ZQ,request as i_t}from"https";var Ls,BAe=y(()=>{"use strict";ri();vAe();xAe();wAe();TAe();IAe();NAe();kAe();gb();LAe();Ls=class t{config;configProvider;socketWarningTimestamp=0;externalAgent=!1;metadata={handlerProtocol:"http/1.1"};static create(e){return typeof e?.handle=="function"?e:new t(e)}static checkSocketUsage(e,r,n=console){let{sockets:i,requests:o,maxSockets:s}=e;if(typeof s!="number"||s===1/0||Date.now()-15e3<r)return r;if(i&&o)for(let c in i){let l=i[c]?.length??0,u=o[c]?.length??0;if(l>=s&&u>=2*s)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${l} and ${u} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}constructor(e){this.configProvider=new Promise((r,n)=>{typeof e=="function"?e().then(i=>{r(this.resolveDefaultConfig(i))}).catch(n):r(this.resolveDefaultConfig(e))})}resolveDefaultConfig(e){let{requestTimeout:r,connectionTimeout:n,socketTimeout:i,socketAcquisitionWarningTimeout:o,httpAgent:s,httpsAgent:a,throwOnRequestTimeout:c}=e||{},l=!0,u=50;return{connectionTimeout:n,requestTimeout:r,socketTimeout:i,socketAcquisitionWarningTimeout:o,throwOnRequestTimeout:c,httpAgent:s instanceof YQ||typeof s?.destroy=="function"?(this.externalAgent=!0,s):new YQ({keepAlive:l,maxSockets:u,...s}),httpsAgent:a instanceof ZQ||typeof a?.destroy=="function"?(this.externalAgent=!0,a):new ZQ({keepAlive:l,maxSockets:u,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(e,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((i,o)=>{let s=this.config,a,c=[],l=async k=>{await a,c.forEach(zi.clearTimeout),i(k)},u=async k=>{await a,c.forEach(zi.clearTimeout),o(k)};if(r?.aborted){let k=new Error("Request aborted");k.name="AbortError",u(k);return}let d=e.protocol==="https:",p=e.headers??{},f=(p.Expect??p.expect)==="100-continue",h=d?s.httpsAgent:s.httpAgent;f&&!this.externalAgent&&(h=new(d?ZQ:YQ)({keepAlive:!1,maxSockets:1/0})),c.push(zi.setTimeout(()=>{this.socketWarningTimestamp=t.checkSocketUsage(h,this.socketWarningTimestamp,s.logger)},s.socketAcquisitionWarningTimeout??(s.requestTimeout??2e3)+(s.connectionTimeout??1e3)));let m=bAe(e.query||{}),g;if(e.username!=null||e.password!=null){let k=e.username??"",O=e.password??"";g=`${k}:${O}`}let b=e.path;m&&(b+=`?${m}`),e.fragment&&(b+=`#${e.fragment}`);let _=e.hostname??"";_[0]==="["&&_.endsWith("]")?_=e.hostname.slice(1,-1):_=e.hostname;let x={headers:e.headers,host:_,method:e.method,path:b,port:e.port,agent:h,auth:g},R=(d?i_t:n_t)(x,k=>{let O=new Nl({statusCode:k.statusCode||-1,reason:k.statusMessage,headers:SAe(k.headers),body:k});l({response:O})});if(R.on("error",k=>{_Ae.includes(k.code)?u(Object.assign(k,{name:"TimeoutError"})):u(k)}),r){let k=()=>{R.destroy();let O=new Error("Request aborted");O.name="AbortError",u(O)};if(typeof r.addEventListener=="function"){let O=r;O.addEventListener("abort",k,{once:!0}),R.once("close",()=>O.removeEventListener("abort",k))}else r.onabort=k}let I=n??s.requestTimeout;c.push(EAe(R,u,s.connectionTimeout)),c.push(RAe(R,u,I,s.throwOnRequestTimeout,s.logger??console)),c.push(PAe(R,u,s.socketTimeout));let D=x.agent;typeof D=="object"&&"keepAlive"in D&&c.push(CAe(R,{keepAlive:D.keepAlive,keepAliveMsecs:D.keepAliveMsecs})),a=MAe(R,e,I,this.externalAgent).catch(k=>(c.forEach(zi.clearTimeout),o(k)))})}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[e]:r}))}httpHandlerConfigs(){return this.config??{}}}});var $Ae=y(()=>{"use strict"});import{Writable as o_t}from"stream";var IP,UAe=y(()=>{"use strict";IP=class extends o_t{bufferedBytes=[];_write(e,r,n){this.bufferedBytes.push(e),n()}}});async function a_t(t){let e=[],r=t.getReader(),n=!1,i=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(e.push(c),i+=c.length),n=a}let o=new Uint8Array(i),s=0;for(let a of e)o.set(a,s),s+=a.length;return o}var Ka,s_t,FAe=y(()=>{"use strict";UAe();Ka=t=>s_t(t)?a_t(t):new Promise((e,r)=>{let n=new IP;t.pipe(n),t.on("error",i=>{n.end(),r(i)}),n.on("error",r),n.on("finish",function(){let i=new Uint8Array(Buffer.concat(this.bufferedBytes));e(i)})}),s_t=t=>typeof ReadableStream=="function"&&t instanceof ReadableStream});var pm=y(()=>{"use strict";BAe();$Ae();FAe()});var zAe=y(()=>{"use strict"});async function c_t(t){let e=await u_t(t),r=gi(e);return new Uint8Array(r)}async function l_t(t){let e=[],r=t.getReader(),n=!1,i=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(e.push(c),i+=c.length),n=a}let o=new Uint8Array(i),s=0;for(let a of e)o.set(a,s),s+=a.length;return o}function u_t(t){return new Promise((e,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let i=n.result??"",o=i.indexOf(","),s=o>-1?o+1:i.length;e(i.substring(s))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(t)})}var VAe,HAe=y(()=>{"use strict";Ms();VAe=async t=>typeof Blob=="function"&&t instanceof Blob||t.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await t.arrayBuffer()):c_t(t):l_t(t)});var GAe=y(()=>{"use strict";zAe();HAe()});function qAe(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2){let n=t.slice(r,r+2).toLowerCase();if(n in eX)e[r/2]=eX[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return e}function Qa(t){let e="";for(let r=0;r<t.byteLength;r++)e+=jAe[t[r]];return e}var jAe,eX,yb=y(()=>{"use strict";jAe={},eX={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),jAe[t]=e,eX[e]=t}});var JAe,KAe,WAe,QAe=y(()=>{"use strict";GAe();Ms();yb();Fi();dAe();JAe="The stream has already been transformed.",KAe=t=>{if(!WAe(t)&&!XQ(t)){let i=t?.__proto__?.constructor?.name||t;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${i}`)}let e=!1,r=async()=>{if(e)throw new Error(JAe);return e=!0,await VAe(t)},n=i=>{if(typeof i.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return i.stream()};return Object.assign(t,{transformToByteArray:r,transformToString:async i=>{let o=await r();if(i==="base64")return Un(o);if(i==="hex")return Qa(o);if(i===void 0||i==="utf8"||i==="utf-8")return $n(o);if(typeof TextDecoder=="function")return new TextDecoder(i).decode(o);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(e)throw new Error(JAe);if(e=!0,WAe(t))return n(t);if(XQ(t))return t;throw new Error(`Cannot transform payload to web stream, got ${t}`)}})},WAe=t=>typeof Blob=="function"&&t instanceof Blob});import{Readable as tX}from"stream";var XAe,CP,YAe=y(()=>{"use strict";pm();hb();QAe();XAe="The stream has already been transformed.",CP=t=>{if(!(t instanceof tX))try{return KAe(t)}catch{let i=t?.__proto__?.constructor?.name||t;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${i}`)}let e=!1,r=async()=>{if(e)throw new Error(XAe);return e=!0,await Ka(t)};return Object.assign(t,{transformToByteArray:r,transformToString:async n=>{let i=await r();return n===void 0||Buffer.isEncoding(n)?dm(i.buffer,i.byteOffset,i.byteLength).toString(n):new TextDecoder(n).decode(i)},transformToWebStream:()=>{if(e)throw new Error(XAe);if(t.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof tX.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return e=!0,tX.toWeb(t)}})}});var ZAe=y(()=>{"use strict"});var NP=y(()=>{"use strict";lAe();uAe();pAe();fAe();mAe();hAe();YAe();ZAe()});var Xa,OP=y(()=>{"use strict";NP();Xa=async(t=new Uint8Array,e)=>{if(t instanceof Uint8Array)return cS.mutate(t);if(!t)return cS.mutate(new Uint8Array);let r=e.streamCollector(t);return cS.mutate(await r)}});function lS(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}var rX=y(()=>{"use strict"});var t0,nX=y(()=>{"use strict";t0=t=>typeof t=="function"?t():t});var PP,kP=y(()=>{"use strict";PP=(t,e,r,n,i)=>({name:e,namespace:t,traits:r,input:n,output:i})});var e4e,iX,t4e=y(()=>{"use strict";ri();Ds();kP();e4e=t=>(e,r)=>async n=>{let{response:i}=await e(n),{operationSchema:o}=Ri(r),[,s,a,c,l,u]=o??[];try{let d=await t.protocol.deserializeResponse(PP(s,a,c,l,u),{...t,...r},i);return{response:i,output:d}}catch(d){if(Object.defineProperty(d,"$response",{value:i,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in d)){let p="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{d.message+=`
  `+p}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(p):r.logger?.warn?.(p)}typeof d.$responseBodyText<"u"&&d.$response&&(d.$response.body=d.$responseBodyText);try{if(Nl.isInstance(i)){let{headers:f={}}=i,h=Object.entries(f);d.$metadata={httpStatusCode:i.statusCode,requestId:iX(/^x-[\w-]+-request-?id$/,h),extendedRequestId:iX(/^x-[\w-]+-id-2$/,h),cfId:iX(/^x-[\w-]+-cf-id$/,h)}}}catch{}}throw d}},iX=(t,e)=>(e.find(([r])=>r.match(t))||[void 0,void 0])[1]});var r4e,n4e=y(()=>{"use strict";Ds();kP();r4e=t=>(e,r)=>async n=>{let{operationSchema:i}=Ri(r),[,o,s,a,c,l]=i??[],u=r.endpointV2?.url&&t.urlParser?async()=>t.urlParser(r.endpointV2.url):t.endpoint,d=await t.protocol.serializeRequest(PP(o,s,a,c,l),n.input,{...t,...r,endpoint:u});return e({...n,request:d})}});function Ll(t){return{applyToStack:e=>{e.add(r4e(t),p_t),e.add(e4e(t),d_t),t.protocol.setSerdeContext(t)}}}var d_t,p_t,i4e=y(()=>{"use strict";t4e();n4e();d_t={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},p_t={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var Bl,bb=y(()=>{"use strict";Bl=class{name;namespace;traits;static assign(e,r){return Object.assign(e,r)}static[Symbol.hasInstance](e){let r=this.prototype.isPrototypeOf(e);return!r&&typeof e=="object"&&e!==null?e.symbol===this.symbol:r}getName(){return this.namespace+"#"+this.name}}});var o4e,s4e=y(()=>{"use strict";bb();o4e=class t extends Bl{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=t.symbol}});var a4e,c4e=y(()=>{"use strict";bb();a4e=class t extends Bl{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=t.symbol}});var l4e,u4e=y(()=>{"use strict";bb();l4e=class t extends Bl{static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=t.symbol}});var DP,oX=y(()=>{"use strict";bb();DP=class t extends Bl{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=t.symbol}});var d4e,p4e=y(()=>{"use strict";oX();d4e=class t extends DP{static symbol=Symbol.for("@smithy/err");ctor;symbol=t.symbol}});function fm(t){if(typeof t=="object")return t;t=t|0;let e={},r=0;for(let n of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(t>>r++&1)===1&&(e[n]=1);return e}var sX=y(()=>{"use strict"});function v3(t,e){if(t instanceof Kt)return Object.assign(t,{memberName:e,_isMemberSchema:!0});let r=Kt;return new r(t,e)}var f4e,Kt,aX,f_t,m4e=y(()=>{"use strict";nX();sX();f4e={it:Symbol.for("@smithy/nor-struct-it")},Kt=class t{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=t.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(e,r){this.ref=e,this.memberName=r;let n=[],i=e,o=e;for(this._isMemberSchema=!1;aX(i);)n.push(i[1]),i=i[0],o=t0(i),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let s=n.length-1;s>=0;--s){let a=n[s];Object.assign(this.memberTraits,fm(a))}}else this.memberTraits=0;if(o instanceof t){let s=this.memberTraits;Object.assign(this,o),this.memberTraits=Object.assign({},s,o.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=r??o.memberName;return}if(this.schema=t0(o),f_t(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(o),this.traits=0),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](e){let r=this.prototype.isPrototypeOf(e);return!r&&typeof e=="object"&&e!==null?e.symbol===this.symbol:r}static of(e){let r=t0(e);if(r instanceof t)return r;if(aX(r)){let[n,i]=r;if(n instanceof t)return Object.assign(n.getMergedTraits(),fm(i)),n;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(e,null,2)}.`)}return new t(r)}getSchema(){let e=this.schema;return Array.isArray(e)&&e[0]===0?e[4]:e}getName(e=!1){let{name:r}=this;return!e&&r&&r.includes("#")?r.split("#")[1]:r||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let e=this.getSchema();return typeof e=="number"?e>=64&&e<128:e[0]===1}isMapSchema(){let e=this.getSchema();return typeof e=="number"?e>=128&&e<=255:e[0]===2}isStructSchema(){let e=this.getSchema();if(typeof e!="object")return!1;let r=e[0];return r===3||r===-3||r===4}isUnionSchema(){let e=this.getSchema();return typeof e!="object"?!1:e[0]===4}isBlobSchema(){let e=this.getSchema();return e===21||e===42}isTimestampSchema(){let e=this.getSchema();return typeof e=="number"&&e>=4&&e<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:e}=this.getMergedTraits();return!!e||this.getSchema()===42}isIdempotencyToken(){return!!this.getMergedTraits().idempotencyToken}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return fm(this.memberTraits)}getOwnTraits(){return fm(this.traits)}getKeySchema(){let[e,r]=[this.isDocumentSchema(),this.isMapSchema()];if(!e&&!r)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let n=this.getSchema(),i=e?15:n[4]??0;return v3([i,0],"key")}getValueSchema(){let e=this.getSchema(),[r,n,i]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],o=typeof e=="number"?63&e:e&&typeof e=="object"&&(n||i)?e[3+e[0]]:r?15:void 0;if(o!=null)return v3([o,0],n?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(e){let r=this.getSchema();if(this.isStructSchema()&&r[4].includes(e)){let n=r[4].indexOf(e),i=r[5][n];return v3(aX(i)?i:[i,0],e)}if(this.isDocumentSchema())return v3([15,0],e);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${e}.`)}getMemberSchemas(){let e={};try{for(let[r,n]of this.structIterator())e[r]=n}catch{}return e}getEventStreamMember(){if(this.isStructSchema()){for(let[e,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return e}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let e=this.getSchema(),r=e[4].length,n=e[f4e.it];if(n&&r===n.length){yield*n;return}n=Array(r);for(let i=0;i<r;++i){let o=e[4][i],s=v3([e[5][i],0],o);yield n[i]=[o,s]}e[f4e.it]=n}};aX=t=>Array.isArray(t)&&t.length===2,f_t=t=>Array.isArray(t)&&t.length>=5});var h4e,g4e=y(()=>{"use strict";bb();h4e=class t extends Bl{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=t.symbol}});var y4e=y(()=>{"use strict"});var Ve,b4e=y(()=>{"use strict";Ve=class t{namespace;schemas;exceptions;static registries=new Map;constructor(e,r=new Map,n=new Map){this.namespace=e,this.schemas=r,this.exceptions=n}static for(e){return t.registries.has(e)||t.registries.set(e,new t(e)),t.registries.get(e)}register(e,r){let n=this.normalizeShapeId(e);t.for(n.split("#")[0]).schemas.set(n,r)}getSchema(e){let r=this.normalizeShapeId(e);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}registerError(e,r){let n=e,i=t.for(n[1]);i.schemas.set(n[1]+"#"+n[2],n),i.exceptions.set(n,r)}getErrorCtor(e){let r=e;return t.for(r[1]).exceptions.get(r)}getBaseException(){for(let e of this.exceptions.keys())if(Array.isArray(e)){let[,r,n]=e,i=r+"#"+n;if(i.startsWith("smithy.ts.sdk.synthetic.")&&i.endsWith("ServiceException"))return e}}find(e){return[...this.schemas.values()].find(e)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(e){return e.includes("#")?e:this.namespace+"#"+e}}});var ln=y(()=>{"use strict";nX();i4e();s4e();c4e();u4e();kP();p4e();m4e();bb();g4e();oX();y4e();sX();b4e()});var v4e=y(()=>{"use strict"});var cX,m_t,_4e,h_t,x4e,S4e,w4e,g_t,A4e,E4e,y_t,MP,uS,T4e,b_t,v_t,lX=y(()=>{"use strict";cX=t=>{if(t!=null){if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return String(e)!==String(t)&&v_t.warn(b_t(`Expected number but observed string: ${t}`)),e}if(typeof t=="number")return t;throw new TypeError(`Expected number, got ${typeof t}: ${t}`)}},m_t=Math.ceil(34028234663852886e22),_4e=t=>{let e=cX(t);if(e!==void 0&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0&&Math.abs(e)>m_t)throw new TypeError(`Expected 32-bit float, got ${t}`);return e},h_t=t=>{if(t!=null){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)}},x4e=t=>w4e(t,16),S4e=t=>w4e(t,8),w4e=(t,e)=>{let r=h_t(t);if(r!==void 0&&g_t(r,e)!==r)throw new TypeError(`Expected ${e}-bit integer, got ${t}`);return r},g_t=(t,e)=>{switch(e){case 32:return Int32Array.of(t)[0];case 16:return Int16Array.of(t)[0];case 8:return Int8Array.of(t)[0]}},A4e=t=>cX(typeof t=="string"?MP(t):t),E4e=t=>_4e(typeof t=="string"?MP(t):t),y_t=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,MP=t=>{let e=t.match(y_t);if(e===null||e[0].length!==t.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(t)},uS=t=>x4e(typeof t=="string"?MP(t):t),T4e=t=>S4e(typeof t=="string"?MP(t):t),b_t=t=>String(new TypeError(t).stack||t).split(`
`).slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join(`
`),v_t={warn:console.warn}});function pS(t){let e=t.getUTCFullYear(),r=t.getUTCMonth(),n=t.getUTCDay(),i=t.getUTCDate(),o=t.getUTCHours(),s=t.getUTCMinutes(),a=t.getUTCSeconds(),c=i<10?`0${i}`:`${i}`,l=o<10?`0${o}`:`${o}`,u=s<10?`0${s}`:`${s}`,d=a<10?`0${a}`:`${a}`;return`${__t[n]}, ${c} ${dX[r]} ${e} ${l}:${u}:${d} GMT`}var __t,dX,x_t,R4e,S_t,I4e,w_t,A_t,E_t,C4e,N4e,_3,T_t,R_t,I_t,uX,C_t,N_t,O_t,Mp,P_t,k_t,dS,O4e=y(()=>{"use strict";lX();__t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dX=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];x_t=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),R4e=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=x_t.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,i,o,s,a,c,l]=e,u=uS(dS(n)),d=Mp(i,"month",1,12),p=Mp(o,"day",1,31);return _3(u,d,p,{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l})},S_t=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),I4e=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=S_t.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,i,o,s,a,c,l,u]=e,d=uS(dS(n)),p=Mp(i,"month",1,12),f=Mp(o,"day",1,31),h=_3(d,p,f,{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l});return u.toUpperCase()!="Z"&&h.setTime(h.getTime()-k_t(u)),h},w_t=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),A_t=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),E_t=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),C4e=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let e=w_t.exec(t);if(e){let[r,n,i,o,s,a,c,l]=e;return _3(uS(dS(o)),uX(i),Mp(n,"day",1,31),{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l})}if(e=A_t.exec(t),e){let[r,n,i,o,s,a,c,l]=e;return I_t(_3(T_t(o),uX(i),Mp(n,"day",1,31),{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l}))}if(e=E_t.exec(t),e){let[r,n,i,o,s,a,c,l]=e;return _3(uS(dS(l)),uX(n),Mp(i.trimLeft(),"day",1,31),{hours:o,minutes:s,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},N4e=t=>{if(t==null)return;let e;if(typeof t=="number")e=t;else if(typeof t=="string")e=A4e(t);else if(typeof t=="object"&&t.tag===1)e=t.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(e)||e===1/0||e===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(e*1e3))},_3=(t,e,r,n)=>{let i=e-1;return N_t(t,i,r),new Date(Date.UTC(t,i,r,Mp(n.hours,"hour",0,23),Mp(n.minutes,"minute",0,59),Mp(n.seconds,"seconds",0,60),P_t(n.fractionalMilliseconds)))},T_t=t=>{let e=new Date().getUTCFullYear(),r=Math.floor(e/100)*100+uS(dS(t));return r<e?r+100:r},R_t=50*365*24*60*60*1e3,I_t=t=>t.getTime()-new Date().getTime()>R_t?new Date(Date.UTC(t.getUTCFullYear()-100,t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())):t,uX=t=>{let e=dX.indexOf(t);if(e<0)throw new TypeError(`Invalid month: ${t}`);return e+1},C_t=[31,28,31,30,31,30,31,31,30,31,30,31],N_t=(t,e,r)=>{let n=C_t[e];if(e===1&&O_t(t)&&(n=29),r>n)throw new TypeError(`Invalid day for ${dX[e]} in ${t}: ${r}`)},O_t=t=>t%4===0&&(t%100!==0||t%400===0),Mp=(t,e,r,n)=>{let i=T4e(dS(t));if(i<r||i>n)throw new TypeError(`${e} must be between ${r} and ${n}, inclusive`);return i},P_t=t=>t==null?0:E4e("0."+t)*1e3,k_t=t=>{let e=t[0],r=1;if(e=="+")r=1;else if(e=="-")r=-1;else throw new TypeError(`Offset direction, ${e}, must be "+" or "-"`);let n=Number(t.substring(1,3)),i=Number(t.substring(4,6));return r*(n*60+i)*60*1e3},dS=t=>{let e=0;for(;e<t.length-1&&t.charAt(e)==="0";)e++;return e===0?t:t.slice(e)}});import P4e from"crypto";var pX,k4e=y(()=>{"use strict";pX=P4e.randomUUID.bind(P4e)});var Bs,mm,D4e=y(()=>{"use strict";k4e();Bs=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0")),mm=()=>{if(pX)return pX();let t=new Uint8Array(16);return crypto.getRandomValues(t),t[6]=t[6]&15|64,t[8]=t[8]&63|128,Bs[t[0]]+Bs[t[1]]+Bs[t[2]]+Bs[t[3]]+"-"+Bs[t[4]]+Bs[t[5]]+"-"+Bs[t[6]]+Bs[t[7]]+"-"+Bs[t[8]]+Bs[t[9]]+"-"+Bs[t[10]]+Bs[t[11]]+Bs[t[12]]+Bs[t[13]]+Bs[t[14]]+Bs[t[15]]}});var fX=y(()=>{"use strict";D4e()});var M4e=y(()=>{"use strict";fX()});var Ya,L4e=y(()=>{"use strict";Ya=function(e){return Object.assign(new String(e),{deserializeJSON(){return JSON.parse(String(e))},toString(){return String(e)},toJSON(){return String(e)}})};Ya.from=t=>t&&typeof t=="object"&&(t instanceof Ya||"deserializeJSON"in t)?t:typeof t=="string"||Object.getPrototypeOf(t)===String.prototype?Ya(String(t)):Ya(JSON.stringify(t));Ya.fromObject=Ya.from});function B4e(t){return(t.includes(",")||t.includes('"'))&&(t=`"${t.replace(/"/g,'\\"')}"`),t}var $4e=y(()=>{"use strict"});function hm(t,e,r){let n=Number(t);if(n<e||n>r)throw new Error(`Value ${n} out of range [${e}, ${r}]`)}var mX,hX,gX,U4e,F4e,D_t,M_t,L_t,B_t,$_t,z4e,V4e,H4e,G4e=y(()=>{"use strict";mX="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",hX="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",gX="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",U4e="(\\d?\\d)",F4e="(\\d{4})",D_t=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),M_t=new RegExp(`^${mX}, ${U4e} ${hX} ${F4e} ${gX} GMT$`),L_t=new RegExp(`^${mX}, ${U4e}-${hX}-(\\d\\d) ${gX} GMT$`),B_t=new RegExp(`^${mX} ${hX} ( [1-9]|\\d\\d) ${gX} ${F4e}$`),$_t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],z4e=t=>{if(t==null)return;let e=NaN;if(typeof t=="number")e=t;else if(typeof t=="string"){if(!/^-?\d*\.?\d+$/.test(t))throw new TypeError("parseEpochTimestamp - numeric string invalid.");e=Number.parseFloat(t)}else typeof t=="object"&&t.tag===1&&(e=t.value);if(isNaN(e)||Math.abs(e)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(e*1e3))},V4e=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC3339 timestamps must be strings");let e=D_t.exec(t);if(!e)throw new TypeError(`Invalid RFC3339 timestamp format ${t}`);let[,r,n,i,o,s,a,,c,l]=e;hm(n,1,12),hm(i,1,31),hm(o,0,23),hm(s,0,59),hm(a,0,60);let u=new Date(Date.UTC(Number(r),Number(n)-1,Number(i),Number(o),Number(s),Number(a),Number(c)?Math.round(parseFloat(`0.${c}`)*1e3):0));if(u.setUTCFullYear(Number(r)),l.toUpperCase()!="Z"){let[,d,p,f]=/([+-])(\d\d):(\d\d)/.exec(l)||[void 0,"+",0,0],h=d==="-"?1:-1;u.setTime(u.getTime()+h*(Number(p)*60*60*1e3+Number(f)*60*1e3))}return u},H4e=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC7231 timestamps must be strings.");let e,r,n,i,o,s,a,c;if((c=M_t.exec(t))?[,e,r,n,i,o,s,a]=c:(c=L_t.exec(t))?([,e,r,n,i,o,s,a]=c,n=(Number(n)+1900).toString()):(c=B_t.exec(t))&&([,r,e,i,o,s,a,n]=c),n&&s){let l=Date.UTC(Number(n),$_t.indexOf(r),Number(e),Number(i),Number(o),Number(s),a?Math.round(parseFloat(`0.${a}`)*1e3):0);hm(e,1,31),hm(i,0,23),hm(o,0,59),hm(s,0,60);let u=new Date(l);return u.setUTCFullYear(Number(n)),u}throw new TypeError(`Invalid RFC7231 date-time value ${t}.`)}});function j4e(t,e,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=t.split(e);if(r===1)return n;let i=[],o="";for(let s=0;s<n.length;s++)o===""?o=n[s]:o+=e+n[s],(s+1)%r===0&&(i.push(o),o="");return o!==""&&i.push(o),i}var q4e=y(()=>{"use strict"});var LP,J4e=y(()=>{"use strict";LP=t=>{let e=t.length,r=[],n=!1,i,o=0;for(let s=0;s<e;++s){let a=t[s];switch(a){case'"':i!=="\\"&&(n=!n);break;case",":n||(r.push(t.slice(o,s)),o=s+1);break;default:}i=a}return r.push(t.slice(o)),r.map(s=>{s=s.trim();let a=s.length;return a<2?s:(s[0]==='"'&&s[a-1]==='"'&&(s=s.slice(1,a-1)),s.replace(/\\"/g,'"'))})}});var W4e,Uo,K4e=y(()=>{"use strict";W4e=/^-?\d*(\.\d+)?$/,Uo=class t{string;type;constructor(e,r){if(this.string=e,this.type=r,!W4e.test(e))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](e){if(!e||typeof e!="object")return!1;let r=e;return t.prototype.isPrototypeOf(e)||r.type==="bigDecimal"&&W4e.test(r.string)}}});var Lp=y(()=>{"use strict";v4e();O4e();M4e();L4e();lX();$4e();G4e();q4e();J4e();K4e()});var Bp,fS=y(()=>{"use strict";Bp=class{serdeContext;setSerdeContext(e){this.serdeContext=e}}});var yX,Q4e=y(()=>{"use strict";Fi();yX=class{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:e,serializer:r,deserializer:n,serdeContext:i,defaultContentType:o}){this.marshaller=e,this.serializer=r,this.deserializer=n,this.serdeContext=i,this.defaultContentType=o}async serializeEventStream({eventStream:e,requestSchema:r,initialRequest:n}){let i=this.marshaller,o=r.getEventStreamMember(),s=r.getMemberSchema(o),a=this.serializer,c=this.defaultContentType,l=Symbol("initialRequestMarker"),u={async*[Symbol.asyncIterator](){if(n){let d={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:c}};a.write(r,n);let p=a.flush();yield{[l]:!0,headers:d,body:p}}for await(let d of e)yield d}};return i.serialize(u,d=>{if(d[l])return{headers:d.headers,body:d.body};let p=Object.keys(d).find(_=>_!=="__type")??"",{additionalHeaders:f,body:h,eventType:m,explicitPayloadContentType:g}=this.writeEventBody(p,s,d);return{headers:{":event-type":{type:"string",value:m},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:g??c},...f},body:h}})}async deserializeEventStream({response:e,responseSchema:r,initialResponseContainer:n}){let i=this.marshaller,o=r.getEventStreamMember(),a=r.getMemberSchema(o).getMemberSchemas(),c=Symbol("initialResponseMarker"),l=i.deserialize(e.body,async p=>{let f=Object.keys(p).find(m=>m!=="__type")??"",h=p[f].body;if(f==="initial-response"){let m=await this.deserializer.read(r,h);return delete m[o],{[c]:!0,...m}}else if(f in a){let m=a[f];if(m.isStructSchema()){let g={},b=!1;for(let[_,x]of m.structIterator()){let{eventHeader:E,eventPayload:R}=x.getMergedTraits();if(b=b||!!(E||R),R)x.isBlobSchema()?g[_]=h:x.isStringSchema()?g[_]=(this.serdeContext?.utf8Encoder??$n)(h):x.isStructSchema()&&(g[_]=await this.deserializer.read(x,h));else if(E){let I=p[f].headers[_]?.value;I!=null&&(x.isNumericSchema()?I&&typeof I=="object"&&"bytes"in I?g[_]=BigInt(I.toString()):g[_]=Number(I):g[_]=I)}}if(b)return{[f]:g};if(h.byteLength===0)return{[f]:{}}}return{[f]:await this.deserializer.read(m,h)}}else return{$unknown:p}}),u=l[Symbol.asyncIterator](),d=await u.next();if(d.done)return l;if(d.value?.[c]){if(!r)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[p,f]of Object.entries(d.value))n[p]=f}return{async*[Symbol.asyncIterator](){for(d?.value?.[c]||(yield d.value);;){let{done:p,value:f}=await u.next();if(p)break;yield f}}}}writeEventBody(e,r,n){let i=this.serializer,o=e,s=null,a,c=r.getSchema()[4].includes(e),l={};if(c){let p=r.getMemberSchema(e);if(p.isStructSchema()){for(let[f,h]of p.structIterator()){let{eventHeader:m,eventPayload:g}=h.getMergedTraits();if(g)s=f;else if(m){let b=n[e][f],_="binary";h.isNumericSchema()?(-2)**31<=b&&b<=2**31-1?_="integer":_="long":h.isTimestampSchema()?_="timestamp":h.isStringSchema()?_="string":h.isBooleanSchema()&&(_="boolean"),b!=null&&(l[f]={type:_,value:b},delete n[e][f])}}if(s!==null){let f=p.getMemberSchema(s);f.isBlobSchema()?a="application/octet-stream":f.isStringSchema()&&(a="text/plain"),i.write(f,n[e][s])}else i.write(p,n[e])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[p,f]=n[e];o=p,i.write(15,f)}let u=i.flush();return{body:typeof u=="string"?(this.serdeContext?.utf8Decoder??Jn)(u):u,eventType:o,explicitPayloadContentType:a,additionalHeaders:l}}}});var X4e={};wr(X4e,{EventStreamSerde:()=>yX});var Y4e=y(()=>{"use strict";Q4e()});var mS,BP=y(()=>{"use strict";ln();ri();fS();mS=class extends Bp{options;constructor(e){super(),this.options=e}getRequestType(){return an}getResponseType(){return Nl}setSerdeContext(e){this.serdeContext=e,this.serializer.setSerdeContext(e),this.deserializer.setSerdeContext(e),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(e)}updateServiceEndpoint(e,r){if("url"in r){e.protocol=r.url.protocol,e.hostname=r.url.hostname,e.port=r.url.port?Number(r.url.port):void 0,e.path=r.url.pathname,e.fragment=r.url.hash||void 0,e.username=r.url.username||void 0,e.password=r.url.password||void 0,e.query||(e.query={});for(let[n,i]of r.url.searchParams.entries())e.query[n]=i;return e}else return e.protocol=r.protocol,e.hostname=r.hostname,e.port=r.port?Number(r.port):void 0,e.path=r.path,e.query={...r.query},e}setHostPrefix(e,r,n){if(this.serdeContext?.disableHostPrefix)return;let i=Kt.of(r.input),o=fm(r.traits??{});if(o.endpoint){let s=o.endpoint?.[0];if(typeof s=="string"){let a=[...i.structIterator()].filter(([,c])=>c.getMergedTraits().hostLabel);for(let[c]of a){let l=n[c];if(typeof l!="string")throw new Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);s=s.replace(`{${c}}`,l)}e.hostname=s+e.hostname}}}deserializeMetadata(e){return{httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:e,requestSchema:r,initialRequest:n}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:e,requestSchema:r,initialRequest:n})}async deserializeEventStream({response:e,responseSchema:r,initialResponseContainer:n}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:e,responseSchema:r,initialResponseContainer:n})}async loadEventStreamCapability(){let{EventStreamSerde:e}=await Promise.resolve().then(()=>(Y4e(),X4e));return new e({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(e,r,n,i,o){return[]}getEventStreamMarshaller(){let e=this.serdeContext;if(!e.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return e.eventStreamMarshaller}}});var $P,Z4e=y(()=>{"use strict";ln();Lp();ri();NP();OP();rX();BP();$P=class extends mS{async serializeRequest(e,r,n){let i={...r??{}},o=this.serializer,s={},a={},c=await n.endpoint(),l=Kt.of(e?.input),u=l.getSchema(),d=!1,p,f=new an({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:s,headers:a,body:void 0});if(c){this.updateServiceEndpoint(f,c),this.setHostPrefix(f,e,i);let h=fm(e.traits);if(h.http){f.method=h.http[0];let[m,g]=h.http[1].split("?");f.path=="/"?f.path=m:f.path+=m;let b=new URLSearchParams(g??"");Object.assign(s,Object.fromEntries(b))}}for(let[h,m]of l.structIterator()){let g=m.getMergedTraits()??{},b=i[h];if(b==null&&!m.isIdempotencyToken()){if(g.httpLabel&&(f.path.includes(`{${h}+}`)||f.path.includes(`{${h}}`)))throw new Error(`No value provided for input HTTP label: ${h}.`);continue}if(g.httpPayload)m.isStreaming()?m.isStructSchema()?i[h]&&(p=await this.serializeEventStream({eventStream:i[h],requestSchema:l})):p=b:(o.write(m,b),p=o.flush()),delete i[h];else if(g.httpLabel){o.write(m,b);let _=o.flush();f.path.includes(`{${h}+}`)?f.path=f.path.replace(`{${h}+}`,_.split("/").map(lS).join("/")):f.path.includes(`{${h}}`)&&(f.path=f.path.replace(`{${h}}`,lS(_))),delete i[h]}else if(g.httpHeader)o.write(m,b),a[g.httpHeader.toLowerCase()]=String(o.flush()),delete i[h];else if(typeof g.httpPrefixHeaders=="string"){for(let[_,x]of Object.entries(b)){let E=g.httpPrefixHeaders+_;o.write([m.getValueSchema(),{httpHeader:E}],x),a[E.toLowerCase()]=o.flush()}delete i[h]}else g.httpQuery||g.httpQueryParams?(this.serializeQuery(m,b,s),delete i[h]):d=!0}return d&&i&&(o.write(u,i),p=o.flush()),f.headers=a,f.query=s,f.body=p,f}serializeQuery(e,r,n){let i=this.serializer,o=e.getMergedTraits();if(o.httpQueryParams){for(let[s,a]of Object.entries(r))if(!(s in n)){let c=e.getValueSchema();Object.assign(c.getMergedTraits(),{...o,httpQuery:s,httpQueryParams:void 0}),this.serializeQuery(c,a,n)}return}if(e.isListSchema()){let s=!!e.getMergedTraits().sparse,a=[];for(let c of r){i.write([e.getValueSchema(),o],c);let l=i.flush();(s||l!==void 0)&&a.push(l)}n[o.httpQuery]=a}else i.write([e,o],r),n[o.httpQuery]=i.flush()}async deserializeResponse(e,r,n){let i=this.deserializer,o=Kt.of(e.output),s={};if(n.statusCode>=300){let c=await Xa(n.body,r);throw c.byteLength>0&&Object.assign(s,await i.read(15,c)),await this.handleError(e,r,n,s,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let c in n.headers){let l=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=l}let a=await this.deserializeHttpMessage(o,r,n,s);if(a.length){let c=await Xa(n.body,r);if(c.byteLength>0){let l=await i.read(o,c);for(let u of a)s[u]=l[u]}}else a.discardResponseBody&&await Xa(n.body,r);return s.$metadata=this.deserializeMetadata(n),s}async deserializeHttpMessage(e,r,n,i,o){let s;i instanceof Set?s=o:s=i;let a=!0,c=this.deserializer,l=Kt.of(e),u=[];for(let[d,p]of l.structIterator()){let f=p.getMemberTraits();if(f.httpPayload){if(a=!1,p.isStreaming())p.isStructSchema()?s[d]=await this.deserializeEventStream({response:n,responseSchema:l}):s[d]=CP(n.body);else if(n.body){let m=await Xa(n.body,r);m.byteLength>0&&(s[d]=await c.read(p,m))}}else if(f.httpHeader){let h=String(f.httpHeader).toLowerCase(),m=n.headers[h];if(m!=null)if(p.isListSchema()){let g=p.getValueSchema();g.getMergedTraits().httpHeader=h;let b;g.isTimestampSchema()&&g.getSchema()===4?b=j4e(m,",",2):b=LP(m);let _=[];for(let x of b)_.push(await c.read(g,x.trim()));s[d]=_}else s[d]=await c.read(p,m)}else if(f.httpPrefixHeaders!==void 0){s[d]={};for(let[h,m]of Object.entries(n.headers))if(h.startsWith(f.httpPrefixHeaders)){let g=p.getValueSchema();g.getMergedTraits().httpHeader=h,s[d][h.slice(f.httpPrefixHeaders.length)]=await c.read(g,m)}}else f.httpResponseCode?s[d]=n.statusCode:u.push(d)}return u.discardResponseBody=a,u}}});var hS,eEe=y(()=>{"use strict";ln();ri();OP();BP();hS=class extends mS{async serializeRequest(e,r,n){let i=this.serializer,o={},s={},a=await n.endpoint(),c=Kt.of(e?.input),l=c.getSchema(),u,d=new an({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:o,headers:s,body:void 0});a&&(this.updateServiceEndpoint(d,a),this.setHostPrefix(d,e,r));let p={...r};if(r){let f=c.getEventStreamMember();if(f){if(p[f]){let h={};for(let[m,g]of c.structIterator())m!==f&&p[m]&&(i.write(g,p[m]),h[m]=i.flush());u=await this.serializeEventStream({eventStream:p[f],requestSchema:c,initialRequest:h})}}else i.write(l,p),u=i.flush()}return d.headers=s,d.query=o,d.body=u,d.method="POST",d}async deserializeResponse(e,r,n){let i=this.deserializer,o=Kt.of(e.output),s={};if(n.statusCode>=300){let c=await Xa(n.body,r);throw c.byteLength>0&&Object.assign(s,await i.read(15,c)),await this.handleError(e,r,n,s,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let c in n.headers){let l=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=l}let a=o.getEventStreamMember();if(a)s[a]=await this.deserializeEventStream({response:n,responseSchema:o,initialResponseContainer:s});else{let c=await Xa(n.body,r);c.byteLength>0&&Object.assign(s,await i.read(o,c))}return s.$metadata=this.deserializeMetadata(n),s}}});var tEe=y(()=>{"use strict"});var rEe=y(()=>{"use strict"});function $p(t,e){if(e.timestampFormat.useTrait&&t.isTimestampSchema()&&(t.getSchema()===5||t.getSchema()===6||t.getSchema()===7))return t.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:i,httpQuery:o}=t.getMergedTraits();return(e.httpBindings?typeof n=="string"||i?6:o||r?5:void 0:void 0)??e.timestampFormat.default}var UP=y(()=>{"use strict"});var gS,bX=y(()=>{"use strict";ln();Lp();Ms();Fi();fS();UP();gS=class extends Bp{settings;constructor(e){super(),this.settings=e}read(e,r){let n=Kt.of(e);if(n.isListSchema())return LP(r).map(i=>this.read(n.getValueSchema(),i));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??gi)(r);if(n.isTimestampSchema())switch($p(n,this.settings)){case 5:return V4e(r);case 6:return H4e(r);case 7:return z4e(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let i=n.getMergedTraits().mediaType,o=r;if(i)return n.getMergedTraits().httpHeader&&(o=this.base64ToUtf8(o)),(i==="application/json"||i.endsWith("+json"))&&(o=Ya.from(o)),o}return n.isNumericSchema()?Number(r):n.isBigIntegerSchema()?BigInt(r):n.isBigDecimalSchema()?new Uo(r,"bigDecimal"):n.isBooleanSchema()?String(r).toLowerCase()==="true":r}base64ToUtf8(e){return(this.serdeContext?.utf8Encoder??$n)((this.serdeContext?.base64Decoder??gi)(e))}}});var FP,nEe=y(()=>{"use strict";ln();Fi();fS();bX();FP=class extends Bp{codecDeserializer;stringDeserializer;constructor(e,r){super(),this.codecDeserializer=e,this.stringDeserializer=new gS(r)}setSerdeContext(e){this.stringDeserializer.setSerdeContext(e),this.codecDeserializer.setSerdeContext(e),this.serdeContext=e}read(e,r){let n=Kt.of(e),i=n.getMergedTraits(),o=this.serdeContext?.utf8Encoder??$n;if(i.httpHeader||i.httpResponseCode)return this.stringDeserializer.read(n,o(r));if(i.httpPayload){if(n.isBlobSchema()){let s=this.serdeContext?.utf8Decoder??Jn;return typeof r=="string"?s(r):r}else if(n.isStringSchema())return"byteLength"in r?o(r):r}return this.codecDeserializer.read(n,r)}}});var zP,vX=y(()=>{"use strict";ln();Lp();Ms();fS();UP();zP=class extends Bp{settings;stringBuffer="";constructor(e){super(),this.settings=e}write(e,r){let n=Kt.of(e);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch($p(n,this.settings)){case 5:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=pS(r);break;case 7:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??Un)(r);return}if(n.isListSchema()&&Array.isArray(r)){let s="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let c=this.flush(),l=n.getValueSchema().isTimestampSchema()?c:B4e(c);s!==""&&(s+=", "),s+=l}this.stringBuffer=s;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let i=n.getMergedTraits().mediaType,o=r;if(i&&((i==="application/json"||i.endsWith("+json"))&&(o=Ya.from(o)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??Un)(o.toString());return}this.stringBuffer=r;break;default:n.isIdempotencyToken()?this.stringBuffer=mm():this.stringBuffer=String(r)}}flush(){let e=this.stringBuffer;return this.stringBuffer="",e}}});var VP,iEe=y(()=>{"use strict";ln();vX();VP=class{codecSerializer;stringSerializer;buffer;constructor(e,r,n=new zP(r)){this.codecSerializer=e,this.stringSerializer=n}setSerdeContext(e){this.codecSerializer.setSerdeContext(e),this.stringSerializer.setSerdeContext(e)}write(e,r){let n=Kt.of(e),i=n.getMergedTraits();if(i.httpHeader||i.httpLabel||i.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let e=this.buffer;return this.buffer=void 0,e}return this.codecSerializer.flush()}}});var gm=y(()=>{"use strict";OP();rX();Z4e();BP();eEe();rEe();tEe();bX();nEe();iEe();vX();UP();fS()});var oEe=y(()=>{"use strict"});function sEe(t,e,r){t.__smithy_context?t.__smithy_context.features||(t.__smithy_context.features={}):t.__smithy_context={features:{}},t.__smithy_context.features[e]=r}var aEe=y(()=>{"use strict"});var Za,cEe=y(()=>{"use strict";Za=class{authSchemes=new Map;constructor(e){for(let[r,n]of Object.entries(e))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(e){return this.authSchemes.get(e)}}});var lEe=y(()=>{"use strict"});var uEe=y(()=>{"use strict"});var $l,dEe=y(()=>{"use strict";$l=class{async sign(e,r,n){return e}}});var pEe=y(()=>{"use strict";lEe();uEe();dEe()});var U_t,fEe,_X,mEe,hEe=y(()=>{"use strict";U_t=t=>function(r){return _X(r)&&r.expiration.getTime()-Date.now()<t},fEe=U_t(3e5),_X=t=>t.expiration!==void 0,mEe=(t,e,r)=>{if(t===void 0)return;let n=typeof t!="function"?async()=>Promise.resolve(t):t,i,o,s,a=!1,c=async l=>{o||(o=n(l));try{i=await o,s=!0,a=!1}finally{o=void 0}return i};return e===void 0?async l=>((!s||l?.forceRefresh)&&(i=await c(l)),i):async l=>((!s||l?.forceRefresh)&&(i=await c(l)),a?i:r(i)?(e(i)&&await c(l),i):(a=!0,i))}});var gEe=y(()=>{"use strict";cEe();pEe();hEe()});var Fn=y(()=>{"use strict";Vwe();Zwe();rAe();nAe();iAe();oEe();aEe();gEe()});function F_t(t){return t===void 0?!0:typeof t=="string"&&t.length<=50}function Ul(t){let e=mb(t.userAgentAppId??xX),{customUserAgent:r}=t;return Object.assign(t,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:async()=>{let n=await e();if(!F_t(n)){let i=t.logger?.constructor?.name==="NoOpLogger"||!t.logger?console:t.logger;typeof n!="string"?i?.warn("userAgentAppId must be a string or undefined."):n.length>50&&i?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n}})}var xX,yEe=y(()=>{"use strict";Fn();xX=void 0});var ec,bEe=y(()=>{"use strict";ec=class{capacity;data=new Map;parameters=[];constructor({size:e,params:r}){this.capacity=e??50,r&&(this.parameters=r)}get(e,r){let n=this.hash(e);if(n===!1)return r();if(!this.data.has(n)){if(this.data.size>this.capacity+10){let i=this.data.keys(),o=0;for(;;){let{value:s,done:a}=i.next();if(this.data.delete(s),a||++o>10)break}}this.data.set(n,r())}return this.data.get(n)}size(){return this.data.size}hash(e){let r="",{parameters:n}=this;if(n.length===0)return!1;for(let i of n){let o=String(e[i]??"");if(o.includes("|;"))return!1;r+=o+"|;"}return r}}});var z_t,x3,SX=y(()=>{"use strict";z_t=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),x3=t=>z_t.test(t)||t.startsWith("[")&&t.endsWith("]")});var V_t,vb,wX=y(()=>{"use strict";V_t=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),vb=(t,e=!1)=>{if(!e)return V_t.test(t);let r=t.split(".");for(let n of r)if(!vb(n))return!1;return!0}});var is,HP=y(()=>{"use strict";is={}});var ym,vEe=y(()=>{"use strict";ym="endpoints"});function Fl(t){return typeof t!="object"||t==null?t:"ref"in t?`$${Fl(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(Fl).join(", ")})`:JSON.stringify(t,null,2)}var _Ee=y(()=>{"use strict"});var S3=y(()=>{"use strict";vEe();_Ee()});var Wn,xEe=y(()=>{"use strict";Wn=class extends Error{constructor(e){super(e),this.name="EndpointError"}}});var SEe=y(()=>{"use strict"});var wEe=y(()=>{"use strict"});var AEe=y(()=>{"use strict"});var EEe=y(()=>{"use strict"});var TEe=y(()=>{"use strict"});var REe=y(()=>{"use strict"});var zl=y(()=>{"use strict";xEe();SEe();wEe();AEe();EEe();TEe();REe()});var IEe,CEe=y(()=>{"use strict";IEe=(t,e)=>t===e});var NEe,OEe=y(()=>{"use strict";zl();NEe=t=>{let e=t.split("."),r=[];for(let n of e){let i=n.indexOf("[");if(i!==-1){if(n.indexOf("]")!==n.length-1)throw new Wn(`Path: '${t}' does not end with ']'`);let o=n.slice(i+1,-1);if(Number.isNaN(parseInt(o)))throw new Wn(`Invalid array index: '${o}' in path: '${t}'`);i!==0&&r.push(n.slice(0,i)),r.push(o)}else r.push(n)}return r}});var GP,PEe=y(()=>{"use strict";zl();OEe();GP=(t,e)=>NEe(e).reduce((r,n)=>{if(typeof r!="object")throw new Wn(`Index '${n}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},t)});var kEe,DEe=y(()=>{"use strict";kEe=t=>t!=null});var MEe,LEe=y(()=>{"use strict";MEe=t=>!t});var AX,BEe,$Ee=y(()=>{"use strict";e0();SX();AX={[oS.HTTP]:80,[oS.HTTPS]:443},BEe=t=>{let e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){let{hostname:p,port:f,protocol:h="",path:m="",query:g={}}=t,b=new URL(`${h}//${p}${f?`:${f}`:""}${m}`);return b.search=Object.entries(g).map(([_,x])=>`${_}=${x}`).join("&"),b}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;let r=e.href,{host:n,hostname:i,pathname:o,protocol:s,search:a}=e;if(a)return null;let c=s.slice(0,-1);if(!Object.values(oS).includes(c))return null;let l=x3(i),u=r.includes(`${n}:${AX[c]}`)||typeof t=="string"&&t.includes(`${n}:${AX[c]}`),d=`${n}${u?`:${AX[c]}`:""}`;return{scheme:c,authority:d,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:l}}});var UEe,FEe=y(()=>{"use strict";UEe=(t,e)=>t===e});var zEe,VEe=y(()=>{"use strict";zEe=(t,e,r,n)=>e>=r||t.length<r?null:n?t.substring(t.length-r,t.length-e):t.substring(e,r)});var HEe,GEe=y(()=>{"use strict";HEe=t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)});var EX=y(()=>{"use strict";CEe();PEe();DEe();wX();LEe();$Ee();FEe();VEe();GEe()});var jEe,qEe=y(()=>{"use strict";EX();jEe={booleanEquals:IEe,getAttr:GP,isSet:kEe,isValidHostLabel:vb,not:MEe,parseURL:BEe,stringEquals:UEe,substring:zEe,uriEncode:HEe}});var jP,TX=y(()=>{"use strict";EX();jP=(t,e)=>{let r=[],n={...e.endpointParams,...e.referenceRecord},i=0;for(;i<t.length;){let o=t.indexOf("{",i);if(o===-1){r.push(t.slice(i));break}r.push(t.slice(i,o));let s=t.indexOf("}",o);if(s===-1){r.push(t.slice(o));break}t[o+1]==="{"&&t[s+1]==="}"&&(r.push(t.slice(o+1,s)),i=s+2);let a=t.substring(o+1,s);if(a.includes("#")){let[c,l]=a.split("#");r.push(GP(n[c],l))}else r.push(n[a]);i=s+1}return r.join("")}});var JEe,WEe=y(()=>{"use strict";JEe=({ref:t},e)=>({...e.endpointParams,...e.referenceRecord})[t]});var _b,qP,KEe,w3=y(()=>{"use strict";zl();HP();qEe();TX();WEe();_b=(t,e,r)=>{if(typeof t=="string")return jP(t,r);if(t.fn)return KEe.callFunction(t,r);if(t.ref)return JEe(t,r);throw new Wn(`'${e}': ${String(t)} is not a string, function or reference.`)},qP=({fn:t,argv:e},r)=>{let n=e.map(o=>["boolean","number"].includes(typeof o)?o:KEe.evaluateExpression(o,"arg",r)),i=t.split(".");return i[0]in is&&i[1]!=null?is[i[0]][i[1]](...n):jEe[t](...n)},KEe={evaluateExpression:_b,callFunction:qP}});var QEe=y(()=>{"use strict";w3()});var XEe,YEe=y(()=>{"use strict";S3();zl();QEe();XEe=({assign:t,...e},r)=>{if(t&&t in r.referenceRecord)throw new Wn(`'${t}' is already defined in Reference Record.`);let n=qP(e,r);return r.logger?.debug?.(`${ym} evaluateCondition: ${Fl(e)} = ${Fl(n)}`),{result:n===""?!0:!!n,...t!=null&&{toAssign:{name:t,value:n}}}}});var yS,JP=y(()=>{"use strict";S3();YEe();yS=(t=[],e)=>{let r={};for(let n of t){let{result:i,toAssign:o}=XEe(n,{...e,referenceRecord:{...e.referenceRecord,...r}});if(!i)return{result:i};o&&(r[o.name]=o.value,e.logger?.debug?.(`${ym} assign: ${o.name} := ${Fl(o.value)}`))}return{result:!0,referenceRecord:r}}});var ZEe,e6e=y(()=>{"use strict";zl();w3();ZEe=(t,e)=>Object.entries(t).reduce((r,[n,i])=>({...r,[n]:i.map(o=>{let s=_b(o,"Header value entry",e);if(typeof s!="string")throw new Wn(`Header '${n}' value '${s}' is not a string`);return s})}),{})});var RX,t6e,r6e,n6e=y(()=>{"use strict";zl();TX();RX=(t,e)=>Object.entries(t).reduce((r,[n,i])=>({...r,[n]:r6e.getEndpointProperty(i,e)}),{}),t6e=(t,e)=>{if(Array.isArray(t))return t.map(r=>t6e(r,e));switch(typeof t){case"string":return jP(t,e);case"object":if(t===null)throw new Wn(`Unexpected endpoint property: ${t}`);return r6e.getEndpointProperties(t,e);case"boolean":return t;default:throw new Wn(`Unexpected endpoint property type: ${typeof t}`)}},r6e={getEndpointProperty:t6e,getEndpointProperties:RX}});var i6e,o6e=y(()=>{"use strict";zl();w3();i6e=(t,e)=>{let r=_b(t,"Endpoint URL",e);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new Wn(`Endpoint URL must be a string, got ${typeof r}`)}});var s6e,a6e=y(()=>{"use strict";S3();JP();e6e();n6e();o6e();s6e=(t,e)=>{let{conditions:r,endpoint:n}=t,{result:i,referenceRecord:o}=yS(r,e);if(!i)return;let s={...e,referenceRecord:{...e.referenceRecord,...o}},{url:a,properties:c,headers:l}=n;return e.logger?.debug?.(`${ym} Resolving endpoint from template: ${Fl(n)}`),{...l!=null&&{headers:ZEe(l,s)},...c!=null&&{properties:RX(c,s)},url:i6e(a,s)}}});var c6e,l6e=y(()=>{"use strict";zl();JP();w3();c6e=(t,e)=>{let{conditions:r,error:n}=t,{result:i,referenceRecord:o}=yS(r,e);if(i)throw new Wn(_b(n,"Error",{...e,referenceRecord:{...e.referenceRecord,...o}}))}});var IX,H_t,u6e,d6e=y(()=>{"use strict";zl();JP();a6e();l6e();IX=(t,e)=>{for(let r of t)if(r.type==="endpoint"){let n=s6e(r,e);if(n)return n}else if(r.type==="error")c6e(r,e);else if(r.type==="tree"){let n=u6e.evaluateTreeRule(r,e);if(n)return n}else throw new Wn(`Unknown endpoint rule: ${r}`);throw new Wn("Rules evaluation failed")},H_t=(t,e)=>{let{conditions:r,rules:n}=t,{result:i,referenceRecord:o}=yS(r,e);if(i)return u6e.evaluateRules(n,{...e,referenceRecord:{...e.referenceRecord,...o}})},u6e={evaluateRules:IX,evaluateTreeRule:H_t}});var p6e=y(()=>{"use strict";HP();d6e()});var Vl,f6e=y(()=>{"use strict";S3();zl();p6e();Vl=(t,e)=>{let{endpointParams:r,logger:n}=e,{parameters:i,rules:o}=t;e.logger?.debug?.(`${ym} Initial EndpointParams: ${Fl(r)}`);let s=Object.entries(i).filter(([,l])=>l.default!=null).map(([l,u])=>[l,u.default]);if(s.length>0)for(let[l,u]of s)r[l]=r[l]??u;let a=Object.entries(i).filter(([,l])=>l.required).map(([l])=>l);for(let l of a)if(r[l]==null)throw new Wn(`Missing required parameter: '${l}'`);let c=IX(o,{endpointParams:r,logger:n,referenceRecord:{}});return e.logger?.debug?.(`${ym} Resolved endpoint: ${Fl(c)}`),c}});var wd=y(()=>{"use strict";bEe();SX();wX();HP();f6e();zl()});var CX=y(()=>{"use strict";wd()});var NX,m6e=y(()=>{"use strict";wd();CX();NX=(t,e=!1)=>{if(e){for(let r of t.split("."))if(!NX(r))return!1;return!0}return!(!vb(t)||t.length<3||t.length>63||t!==t.toLowerCase()||x3(t))}});var h6e,g6e=y(()=>{"use strict";h6e=t=>{let e=t.split(":");if(e.length<6)return null;let[r,n,i,o,s,...a]=e;if(r!=="arn"||n===""||i===""||a.join(":")==="")return null;let c=a.map(l=>l.split("/")).flat();return{partition:n,service:i,region:o,accountId:s,resourceId:c}}});var b6e,y6e=y(()=>{b6e={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"AWS European Sovereign Cloud (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"},"us-isob-west-1":{description:"US ISOB West"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],version:"1.1"}});var j_t,q_t,v6e,_6e,OX=y(()=>{"use strict";y6e();j_t=b6e,q_t="",v6e=t=>{let{partitions:e}=j_t;for(let n of e){let{regions:i,outputs:o}=n;for(let[s,a]of Object.entries(i))if(s===t)return{...o,...a}}for(let n of e){let{regionRegex:i,outputs:o}=n;if(new RegExp(i).test(t))return{...o}}let r=e.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},_6e=()=>q_t});var jc,x6e=y(()=>{"use strict";wd();m6e();g6e();OX();jc={isVirtualHostableS3Bucket:NX,parseArn:h6e,partition:v6e};is.aws=jc});function S6e(t){let e={};if(t=t.replace(/^\?/,""),t)for(let r of t.split("&")){let[n,i=null]=r.split("=");n=decodeURIComponent(n),i&&(i=decodeURIComponent(i)),n in e?Array.isArray(e[n])?e[n].push(i):e[n]=[e[n],i]:e[n]=i}return e}var w6e=y(()=>{"use strict"});var Fo,bm=y(()=>{"use strict";w6e();Fo=t=>{if(typeof t=="string")return Fo(new URL(t));let{hostname:e,pathname:r,port:n,protocol:i,search:o}=t,s;return o&&(s=S6e(o)),{hostname:e,port:n?parseInt(n):void 0,protocol:i,path:r,query:s}}});var A6e=y(()=>{"use strict"});var E6e=y(()=>{"use strict"});var T6e=y(()=>{"use strict"});var R6e=y(()=>{"use strict"});var I6e=y(()=>{"use strict"});var C6e=y(()=>{"use strict"});var N6e=y(()=>{"use strict"});var O6e=y(()=>{"use strict"});var P6e=y(()=>{"use strict";T6e();R6e();I6e();C6e();N6e();O6e()});var r0=y(()=>{"use strict";x6e();OX();CX();A6e();E6e();P6e()});var k6e,Hl,D6e=y(()=>{"use strict";k6e={warningEmitted:!1},Hl=t=>{t&&!k6e.warningEmitted&&parseInt(t.substring(1,t.indexOf(".")))<20&&(k6e.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js ${t} in January 2026.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/c895JFp`))}});function Dr(t,e,r){return t.$source||(t.$source={}),t.$source[e]=r,t}var M6e=y(()=>{"use strict"});function Ad(t,e,r){t.__aws_sdk_context?t.__aws_sdk_context.features||(t.__aws_sdk_context.features={}):t.__aws_sdk_context={features:{}},t.__aws_sdk_context.features[e]=r}var L6e=y(()=>{"use strict"});var B6e=y(()=>{"use strict"});var os=y(()=>{"use strict";D6e();M6e();L6e();B6e()});var PX,$6e=y(()=>{"use strict";ri();PX=t=>Nl.isInstance(t)?t.headers?.date??t.headers?.Date:void 0});var WP,kX=y(()=>{"use strict";WP=t=>new Date(Date.now()+t)});var U6e,F6e=y(()=>{"use strict";kX();U6e=(t,e)=>Math.abs(WP(e).getTime()-t)>=3e5});var DX,z6e=y(()=>{"use strict";F6e();DX=(t,e)=>{let r=Date.parse(t);return U6e(r,e)?r-Date.now():e}});var V6e=y(()=>{"use strict";$6e();kX();z6e()});var A3,H6e,ss,G6e=y(()=>{"use strict";ri();V6e();A3=(t,e)=>{if(!e)throw new Error(`Property \`${t}\` is not resolved for AWS SDK SigV4Auth`);return e},H6e=async t=>{let e=A3("context",t.context),r=A3("config",t.config),n=e.endpointV2?.properties?.authSchemes?.[0],o=await A3("signer",r.signer)(n),s=t?.signingRegion,a=t?.signingRegionSet,c=t?.signingName;return{config:r,signer:o,signingRegion:s,signingRegionSet:a,signingName:c}},ss=class{async sign(e,r,n){if(!an.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let i=await H6e(n),{config:o,signer:s}=i,{signingRegion:a,signingName:c}=i,l=n.context;if(l?.authSchemes?.length??!1){let[d,p]=l.authSchemes;d?.name==="sigv4a"&&p?.name==="sigv4"&&(a=p?.signingRegion??a,c=p?.signingName??c)}return await s.sign(e,{signingDate:WP(o.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(e){return r=>{let n=r.ServerTime??PX(r.$response);if(n){let i=A3("config",e.config),o=i.systemClockOffset;i.systemClockOffset=DX(n,i.systemClockOffset),i.systemClockOffset!==o&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(e,r){let n=PX(e);if(n){let i=A3("config",r.config);i.systemClockOffset=DX(n,i.systemClockOffset)}}}});var MX,j6e=y(()=>{"use strict";MX=t=>typeof t=="string"&&t.length>0?t.split(",").map(e=>e.trim()):[]});var q6e,LX=y(()=>{"use strict";q6e=t=>`AWS_BEARER_TOKEN_${t.replace(/[\s-]/g,"_").toUpperCase()}`});var J6e,W6e,Gl,K6e=y(()=>{"use strict";j6e();LX();J6e="AWS_AUTH_SCHEME_PREFERENCE",W6e="auth_scheme_preference",Gl={environmentVariableSelector:(t,e)=>{if(e?.signingName&&q6e(e.signingName)in t)return["httpBearerAuth"];if(J6e in t)return MX(t[J6e])},configFileSelector:t=>{if(W6e in t)return MX(t[W6e])},default:[]}});var jl,E3=y(()=>{"use strict";jl=class t extends Error{name="ProviderError";tryNextLink;constructor(e,r=!0){let n,i=!0;typeof r=="boolean"?(n=void 0,i=r):r!=null&&typeof r=="object"&&(n=r.logger,i=r.tryNextLink??!0),super(e),this.tryNextLink=i,Object.setPrototypeOf(this,t.prototype),n?.debug?.(`@smithy/property-provider ${i?"->":"(!)"} ${e}`)}static from(e,r=!0){return Object.assign(new this(e.message,r),e)}}});var gt,Q6e=y(()=>{"use strict";E3();gt=class t extends jl{name="CredentialsProviderError";constructor(e,r=!0){super(e,r),Object.setPrototypeOf(this,t.prototype)}}});var ql,X6e=y(()=>{"use strict";E3();ql=class t extends jl{name="TokenProviderError";constructor(e,r=!0){super(e,r),Object.setPrototypeOf(this,t.prototype)}}});var bS,Y6e=y(()=>{"use strict";E3();bS=(...t)=>async()=>{if(t.length===0)throw new jl("No providers in chain");let e;for(let r of t)try{return await r()}catch(n){if(e=n,n?.tryNextLink)continue;throw n}throw e}});var Z6e,e3e=y(()=>{"use strict";Z6e=t=>()=>Promise.resolve(t)});var KP,t3e=y(()=>{"use strict";KP=(t,e,r)=>{let n,i,o,s=!1,a=async()=>{i||(i=t());try{n=await i,o=!0,s=!1}finally{i=void 0}return n};return e===void 0?async c=>((!o||c?.forceRefresh)&&(n=await a()),n):async c=>((!o||c?.forceRefresh)&&(n=await a()),s?n:r&&!r(n)?(s=!0,n):(e(n)&&await a(),n))}});var hn=y(()=>{"use strict";Q6e();E3();X6e();Y6e();e3e();t3e()});var r3e=y(()=>{"use strict"});var n3e,i3e,BX,o3e,s3e,$X,UX,FX,zX,J_t,a3e,c3e,T3,l3e,u3e,d3e,p3e,QP,f3e,m3e,h3e,VX,g3e,n0=y(()=>{"use strict";n3e="X-Amz-Algorithm",i3e="X-Amz-Credential",BX="X-Amz-Date",o3e="X-Amz-SignedHeaders",s3e="X-Amz-Expires",$X="X-Amz-Signature",UX="X-Amz-Security-Token",FX="authorization",zX=BX.toLowerCase(),J_t="date",a3e=[FX,zX,J_t],c3e=$X.toLowerCase(),T3="x-amz-content-sha256",l3e=UX.toLowerCase(),u3e={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},d3e=/^proxy-/,p3e=/^sec-/,QP="AWS4-HMAC-SHA256",f3e="AWS4-HMAC-SHA256-PAYLOAD",m3e="UNSIGNED-PAYLOAD",h3e=50,VX="aws4_request",g3e=3600*24*7});var XP,HX,YP,b3e,y3e,GX=y(()=>{"use strict";yb();Fi();n0();XP={},HX=[],YP=(t,e,r)=>`${t}/${e}/${r}/${VX}`,b3e=async(t,e,r,n,i)=>{let o=await y3e(t,e.secretAccessKey,e.accessKeyId),s=`${r}:${n}:${i}:${Qa(o)}:${e.sessionToken}`;if(s in XP)return XP[s];for(HX.push(s);HX.length>h3e;)delete XP[HX.shift()];let a=`AWS4${e.secretAccessKey}`;for(let c of[r,n,i,VX])a=await y3e(t,a,c);return XP[s]=a},y3e=(t,e,r)=>{let n=new t(e);return n.update(Sd(r)),n.digest()}});var jX,v3e=y(()=>{"use strict";n0();jX=({headers:t},e,r)=>{let n={};for(let i of Object.keys(t).sort()){if(t[i]==null)continue;let o=i.toLowerCase();(o in u3e||e?.has(o)||d3e.test(o)||p3e.test(o))&&(!r||r&&!r.has(o))||(n[o]=t[i].trim().replace(/\s+/g," "))}return n}});var ZP,_3e=y(()=>{"use strict";WQ();yb();Fi();n0();ZP=async({headers:t,body:e},r)=>{for(let n of Object.keys(t))if(n.toLowerCase()===T3)return t[n];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||TP(e)){let n=new r;return n.update(Sd(e)),Qa(await n.digest())}return m3e}});function S3e(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}var ek,x3e,W_t,qX,w3e=y(()=>{"use strict";yb();Fi();ek=class{format(e){let r=[];for(let o of Object.keys(e)){let s=Jn(o);r.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(e[o]))}let n=new Uint8Array(r.reduce((o,s)=>o+s.byteLength,0)),i=0;for(let o of r)n.set(o,i),i+=o.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,e.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":let i=new Uint8Array(9);return i[0]=5,i.set(e.value.bytes,1),i;case"binary":let o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);let s=new Uint8Array(o.buffer);return s.set(e.value,3),s;case"string":let a=Jn(e.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let l=new Uint8Array(c.buffer);return l.set(a,3),l;case"timestamp":let u=new Uint8Array(9);return u[0]=8,u.set(qX.fromNumber(e.value.valueOf()).bytes,1),u;case"uuid":if(!W_t.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let d=new Uint8Array(17);return d[0]=9,d.set(qAe(e.value.replace(/\-/g,"")),1),d}}};(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(x3e||(x3e={}));W_t=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,qX=class t{bytes;constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,i=Math.abs(Math.round(e));n>-1&&i>0;n--,i/=256)r[n]=i;return e<0&&S3e(r),new t(r)}valueOf(){let e=this.bytes.slice(0),r=e[0]&128;return r&&S3e(e),parseInt(Qa(e),16)*(r?-1:1)}toString(){return String(this.valueOf())}}});var A3e,E3e=y(()=>{"use strict";A3e=(t,e)=>{t=t.toLowerCase();for(let r of Object.keys(e))if(t===r.toLowerCase())return!0;return!1}});var T3e,R3e=y(()=>{"use strict";ri();T3e=(t,e={})=>{let{headers:r,query:n={}}=an.clone(t);for(let i of Object.keys(r)){let o=i.toLowerCase();(o.slice(0,6)==="x-amz-"&&!e.unhoistableHeaders?.has(o)||e.hoistableHeaders?.has(o))&&(n[i]=r[i],delete r[i])}return{...t,headers:r,query:n}}});var JX,I3e=y(()=>{"use strict";ri();n0();JX=t=>{t=an.clone(t);for(let e of Object.keys(t.headers))a3e.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t}});var C3e,N3e=y(()=>{"use strict";RP();n0();C3e=({query:t={}})=>{let e=[],r={};for(let n of Object.keys(t)){if(n.toLowerCase()===c3e)continue;let i=Dp(n);e.push(i);let o=t[n];typeof o=="string"?r[i]=`${i}=${Dp(o)}`:Array.isArray(o)&&(r[i]=o.slice(0).reduce((s,a)=>s.concat([`${i}=${Dp(a)}`]),[]).sort().join("&"))}return e.sort().map(n=>r[n]).filter(n=>n).join("&")}});var O3e,K_t,P3e=y(()=>{"use strict";O3e=t=>K_t(t).toISOString().replace(/\.\d{3}Z$/,"Z"),K_t=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t});var tk,k3e=y(()=>{"use strict";yb();Ds();RP();Fi();N3e();P3e();tk=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:e,credentials:r,region:n,service:i,sha256:o,uriEscapePath:s=!0}){this.service=i,this.sha256=o,this.uriEscapePath=s,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=cn(n),this.credentialProvider=cn(r)}createCanonicalRequest(e,r,n){let i=Object.keys(r).sort();return`${e.method}
${this.getCanonicalPath(e)}
${C3e(e)}
${i.map(o=>`${o}:${r[o]}`).join(`
`)}

${i.join(";")}
${n}`}async createStringToSign(e,r,n,i){let o=new this.sha256;o.update(Sd(n));let s=await o.digest();return`${i}
${e}
${r}
${Qa(s)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let r=[];for(let o of e.split("/"))o?.length!==0&&o!=="."&&(o===".."?r.pop():r.push(o));let n=`${e?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&e?.endsWith("/")?"/":""}`;return Dp(n).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(e){let r=O3e(e).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}}});var R3,D3e=y(()=>{"use strict";yb();Fi();n0();GX();v3e();_3e();w3e();E3e();R3e();I3e();k3e();R3=class extends tk{headerFormatter=new ek;constructor({applyChecksum:e,credentials:r,region:n,service:i,sha256:o,uriEscapePath:s=!0}){super({applyChecksum:e,credentials:r,region:n,service:i,sha256:o,uriEscapePath:s})}async presign(e,r={}){let{signingDate:n=new Date,expiresIn:i=3600,unsignableHeaders:o,unhoistableHeaders:s,signableHeaders:a,hoistableHeaders:c,signingRegion:l,signingService:u}=r,d=await this.credentialProvider();this.validateResolvedCredentials(d);let p=l??await this.regionProvider(),{longDate:f,shortDate:h}=this.formatDate(n);if(i>g3e)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let m=YP(h,p,u??this.service),g=T3e(JX(e),{unhoistableHeaders:s,hoistableHeaders:c});d.sessionToken&&(g.query[UX]=d.sessionToken),g.query[n3e]=QP,g.query[i3e]=`${d.accessKeyId}/${m}`,g.query[BX]=f,g.query[s3e]=i.toString(10);let b=jX(g,o,a);return g.query[o3e]=this.getCanonicalHeaderList(b),g.query[$X]=await this.getSignature(f,m,this.getSigningKey(d,p,h,u),this.createCanonicalRequest(g,b,await ZP(e,this.sha256))),g}async sign(e,r){return typeof e=="string"?this.signString(e,r):e.headers&&e.payload?this.signEvent(e,r):e.message?this.signMessage(e,r):this.signRequest(e,r)}async signEvent({headers:e,payload:r},{signingDate:n=new Date,priorSignature:i,signingRegion:o,signingService:s}){let a=o??await this.regionProvider(),{shortDate:c,longDate:l}=this.formatDate(n),u=YP(c,a,s??this.service),d=await ZP({headers:{},body:r},this.sha256),p=new this.sha256;p.update(e);let f=Qa(await p.digest()),h=[f3e,l,u,i,f,d].join(`
`);return this.signString(h,{signingDate:n,signingRegion:a,signingService:s})}async signMessage(e,{signingDate:r=new Date,signingRegion:n,signingService:i}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:r,signingRegion:n,signingService:i,priorSignature:e.priorSignature}).then(s=>({message:e.message,signature:s}))}async signString(e,{signingDate:r=new Date,signingRegion:n,signingService:i}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let s=n??await this.regionProvider(),{shortDate:a}=this.formatDate(r),c=new this.sha256(await this.getSigningKey(o,s,a,i));return c.update(Sd(e)),Qa(await c.digest())}async signRequest(e,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:i,signingRegion:o,signingService:s}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=o??await this.regionProvider(),l=JX(e),{longDate:u,shortDate:d}=this.formatDate(r),p=YP(d,c,s??this.service);l.headers[zX]=u,a.sessionToken&&(l.headers[l3e]=a.sessionToken);let f=await ZP(l,this.sha256);!A3e(T3,l.headers)&&this.applyChecksum&&(l.headers[T3]=f);let h=jX(l,i,n),m=await this.getSignature(u,p,this.getSigningKey(a,c,d,s),this.createCanonicalRequest(l,h,f));return l.headers[FX]=`${QP} Credential=${a.accessKeyId}/${p}, SignedHeaders=${this.getCanonicalHeaderList(h)}, Signature=${m}`,l}async getSignature(e,r,n,i){let o=await this.createStringToSign(e,r,i,QP),s=new this.sha256(await n);return s.update(Sd(o)),Qa(await s.digest())}getSigningKey(e,r,n,i){return b3e(this.sha256,e,n,r,i||this.service)}}});var M3e=y(()=>{"use strict"});var L3e=y(()=>{"use strict";D3e();n0();GX();M3e()});function Q_t(t,{credentials:e,credentialDefaultProvider:r}){let n;return e?e?.memoized?n=e:n=mEe(e,fEe,_X):r?n=mb(r(Object.assign({},t,{parentClientConfig:t}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function X_t(t,e){if(e.configBound)return e;let r=async n=>e({...n,callerClientConfig:t});return r.memoized=e.memoized,r.configBound=!0,r}var Jl,B3e=y(()=>{"use strict";os();Fn();L3e();Jl=t=>{let e=t.credentials,r=!!t.credentials,n;Object.defineProperty(t,"credentials",{set(l){l&&l!==e&&l!==n&&(r=!0),e=l;let u=Q_t(t,{credentials:e,credentialDefaultProvider:t.credentialDefaultProvider}),d=X_t(t,u);if(r&&!d.attributed){let p=typeof e=="object"&&e!==null;n=async f=>{let m=await d(f);return p&&(!m.$source||Object.keys(m.$source).length===0)?Dr(m,"CREDENTIALS_CODE","e"):m},n.memoized=d.memoized,n.configBound=d.configBound,n.attributed=!0}else n=d},get(){return n},enumerable:!0,configurable:!0}),t.credentials=e;let{signingEscapePath:i=!0,systemClockOffset:o=t.systemClockOffset||0,sha256:s}=t,a;return t.signer?a=mb(t.signer):t.regionInfoProvider?a=()=>mb(t.region)().then(async l=>[await t.regionInfoProvider(l,{useFipsEndpoint:await t.useFipsEndpoint(),useDualstackEndpoint:await t.useDualstackEndpoint()})||{},l]).then(([l,u])=>{let{signingRegion:d,signingService:p}=l;t.signingRegion=t.signingRegion||d||u,t.signingName=t.signingName||p||t.serviceId;let f={...t,credentials:t.credentials,region:t.signingRegion,service:t.signingName,sha256:s,uriEscapePath:i},h=t.signerConstructor||R3;return new h(f)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:await mb(t.region)(),properties:{}},l);let u=l.signingRegion,d=l.signingName;t.signingRegion=t.signingRegion||u,t.signingName=t.signingName||d||t.serviceId;let p={...t,credentials:t.credentials,region:t.signingRegion,service:t.signingName,sha256:s,uriEscapePath:i},f=t.signerConstructor||R3;return new f(p)},Object.assign(t,{systemClockOffset:o,signingEscapePath:i,signer:a})}});var $3e=y(()=>{"use strict";G6e();K6e();r3e();B3e()});var U3e=y(()=>{"use strict";$3e();LX()});var xb,i0,vS,F3e,z3e,V3e=y(()=>{"use strict";xb=(t,e)=>{let r=[];if(t&&r.push(t),e)for(let n of e)r.push(n);return r},i0=(t,e)=>`${t||"anonymous"}${e&&e.length>0?` (a.k.a. ${e.join(",")})`:""}`,vS=()=>{let t=[],e=[],r=!1,n=new Set,i=d=>d.sort((p,f)=>F3e[f.step]-F3e[p.step]||z3e[f.priority||"normal"]-z3e[p.priority||"normal"]),o=d=>{let p=!1,f=h=>{let m=xb(h.name,h.aliases);if(m.includes(d)){p=!0;for(let g of m)n.delete(g);return!1}return!0};return t=t.filter(f),e=e.filter(f),p},s=d=>{let p=!1,f=h=>{if(h.middleware===d){p=!0;for(let m of xb(h.name,h.aliases))n.delete(m);return!1}return!0};return t=t.filter(f),e=e.filter(f),p},a=d=>(t.forEach(p=>{d.add(p.middleware,{...p})}),e.forEach(p=>{d.addRelativeTo(p.middleware,{...p})}),d.identifyOnResolve?.(u.identifyOnResolve()),d),c=d=>{let p=[];return d.before.forEach(f=>{f.before.length===0&&f.after.length===0?p.push(f):p.push(...c(f))}),p.push(d),d.after.reverse().forEach(f=>{f.before.length===0&&f.after.length===0?p.push(f):p.push(...c(f))}),p},l=(d=!1)=>{let p=[],f=[],h={};return t.forEach(g=>{let b={...g,before:[],after:[]};for(let _ of xb(b.name,b.aliases))h[_]=b;p.push(b)}),e.forEach(g=>{let b={...g,before:[],after:[]};for(let _ of xb(b.name,b.aliases))h[_]=b;f.push(b)}),f.forEach(g=>{if(g.toMiddleware){let b=h[g.toMiddleware];if(b===void 0){if(d)return;throw new Error(`${g.toMiddleware} is not found when adding ${i0(g.name,g.aliases)} middleware ${g.relation} ${g.toMiddleware}`)}g.relation==="after"&&b.after.push(g),g.relation==="before"&&b.before.push(g)}}),i(p).map(c).reduce((g,b)=>(g.push(...b),g),[])},u={add:(d,p={})=>{let{name:f,override:h,aliases:m}=p,g={step:"initialize",priority:"normal",middleware:d,...p},b=xb(f,m);if(b.length>0){if(b.some(_=>n.has(_))){if(!h)throw new Error(`Duplicate middleware name '${i0(f,m)}'`);for(let _ of b){let x=t.findIndex(R=>R.name===_||R.aliases?.some(I=>I===_));if(x===-1)continue;let E=t[x];if(E.step!==g.step||g.priority!==E.priority)throw new Error(`"${i0(E.name,E.aliases)}" middleware with ${E.priority} priority in ${E.step} step cannot be overridden by "${i0(f,m)}" middleware with ${g.priority} priority in ${g.step} step.`);t.splice(x,1)}}for(let _ of b)n.add(_)}t.push(g)},addRelativeTo:(d,p)=>{let{name:f,override:h,aliases:m}=p,g={middleware:d,...p},b=xb(f,m);if(b.length>0){if(b.some(_=>n.has(_))){if(!h)throw new Error(`Duplicate middleware name '${i0(f,m)}'`);for(let _ of b){let x=e.findIndex(R=>R.name===_||R.aliases?.some(I=>I===_));if(x===-1)continue;let E=e[x];if(E.toMiddleware!==g.toMiddleware||E.relation!==g.relation)throw new Error(`"${i0(E.name,E.aliases)}" middleware ${E.relation} "${E.toMiddleware}" middleware cannot be overridden by "${i0(f,m)}" middleware ${g.relation} "${g.toMiddleware}" middleware.`);e.splice(x,1)}}for(let _ of b)n.add(_)}e.push(g)},clone:()=>a(vS()),use:d=>{d.applyToStack(u)},remove:d=>typeof d=="string"?o(d):s(d),removeByTag:d=>{let p=!1,f=h=>{let{tags:m,name:g,aliases:b}=h;if(m&&m.includes(d)){let _=xb(g,b);for(let x of _)n.delete(x);return p=!0,!1}return!0};return t=t.filter(f),e=e.filter(f),p},concat:d=>{let p=a(vS());return p.use(d),p.identifyOnResolve(r||p.identifyOnResolve()||(d.identifyOnResolve?.()??!1)),p},applyToStack:a,identify:()=>l(!0).map(d=>{let p=d.step??d.relation+" "+d.toMiddleware;return i0(d.name,d.aliases)+" - "+p}),identifyOnResolve(d){return typeof d=="boolean"&&(r=d),r},resolve:(d,p)=>{for(let f of l().map(h=>h.middleware).reverse())d=f(d,p);return r&&console.log(u.identify()),d}};return u},F3e={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},z3e={high:3,normal:2,low:1}});var WX=y(()=>{"use strict";V3e()});var Ao,H3e=y(()=>{"use strict";WX();Ao=class{config;middlewareStack=vS();initConfig;handlers;constructor(e){this.config=e;let{protocol:r,protocolSettings:n}=e;n&&typeof r=="function"&&(e.protocol=new r(n))}send(e,r,n){let i=typeof r!="function"?r:void 0,o=typeof r=="function"?r:n,s=i===void 0&&this.config.cacheMiddleware===!0,a;if(s){this.handlers||(this.handlers=new WeakMap);let c=this.handlers;c.has(e.constructor)?a=c.get(e.constructor):(a=e.resolveMiddleware(this.middlewareStack,this.config,i),c.set(e.constructor,a))}else delete this.handlers,a=e.resolveMiddleware(this.middlewareStack,this.config,i);if(o)a(e).then(c=>o(null,c.output),c=>o(c)).catch(()=>{});else return a(e).then(c=>c.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}}});var G3e=y(()=>{"use strict";gm()});function rk(t,e){if(e==null)return e;let r=Kt.of(t);if(r.getMergedTraits().sensitive)return KX;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return KX}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return KX}else if(r.isStructSchema()&&typeof e=="object"){let n=e,i={};for(let[o,s]of r.structIterator())n[o]!=null&&(i[o]=rk(s,n[o]));return i}return e}var KX,j3e=y(()=>{"use strict";ln();KX="***SensitiveInformation***"});var oe,QX,q3e=y(()=>{"use strict";WX();e0();j3e();oe=class{middlewareStack=vS();schema;static classBuilder(){return new QX}resolveMiddlewareWithContext(e,r,n,{middlewareFn:i,clientName:o,commandName:s,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:l,additionalContext:u,CommandCtor:d}){for(let g of i.bind(this)(d,e,r,n))this.middlewareStack.use(g);let p=e.concat(this.middlewareStack),{logger:f}=r,h={logger:f,clientName:o,commandName:s,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[y3]:{commandInstance:this,...l},...u},{requestHandler:m}=r;return p.resolve(g=>m.handle(g.request,n||{}),h)}},QX=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,r,n={}){return this._smithyContext={service:e,operation:r,...n},this}c(e={}){return this._additionalContext=e,this}n(e,r){return this._clientName=e,this._commandName=r,this}f(e=n=>n,r=n=>n){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=r,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){let e=this,r;return r=class extends oe{input;static getEndpointParameterInstructions(){return e._ep}constructor(...[n]){super(),this.input=n??{},e._init(this),this.schema=e._operationSchema}resolveMiddleware(n,i,o){let s=e._operationSchema,a=s?.[4]??s?.input,c=s?.[5]??s?.output;return this.resolveMiddlewareWithContext(n,i,o,{CommandCtor:r,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog??(s?rk.bind(null,a):l=>l),outputFilterSensitiveLog:e._outputFilterSensitiveLog??(s?rk.bind(null,c):l=>l),smithyContext:e._smithyContext,additionalContext:e._additionalContext})}serialize=e._serializer;deserialize=e._deserializer}}}});var J3e=y(()=>{"use strict"});var Wl,W3e=y(()=>{"use strict";Wl=(t,e,r)=>{for(let[o,s]of Object.entries(t)){let a=async function(l,u,d){let p=new s(l);if(typeof u=="function")this.send(p,u);else if(typeof d=="function"){if(typeof u!="object")throw new Error(`Expected http options but got ${typeof u}`);this.send(p,u||{},d)}else return this.send(p,u)},c=(o[0].toLowerCase()+o.slice(1)).replace(/Command$/,"");e.prototype[c]=a}let{paginators:n={},waiters:i={}}=r??{};for(let[o,s]of Object.entries(n))e.prototype[o]===void 0&&(e.prototype[o]=function(a={},c,...l){return s({...c,client:this},a,...l)});for(let[o,s]of Object.entries(i))e.prototype[o]===void 0&&(e.prototype[o]=async function(a={},c,...l){let u=c;return typeof c=="number"&&(u={maxWaitTime:c}),s({...u,client:this},a,...l)})}});var tc,XX,K3e=y(()=>{"use strict";tc=class t extends Error{$fault;$response;$retryable;$metadata;constructor(e){super(e.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}static isInstance(e){if(!e)return!1;let r=e;return t.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](e){if(!e)return!1;let r=e;return this===t?t.isInstance(e):t.isInstance(e)?r.name&&this.name?this.prototype.isPrototypeOf(e)||r.name===this.name:this.prototype.isPrototypeOf(e):!1}},XX=(t,e={})=>{Object.entries(e).filter(([,n])=>n!==void 0).forEach(([n,i])=>{(t[n]==null||t[n]==="")&&(t[n]=i)});let r=t.message||t.Message||"UnknownError";return t.message=r,delete t.Message,t}});var Q3e=y(()=>{"use strict"});var Kl,X3e=y(()=>{"use strict";Kl=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}}});var Y3e,Ql,Z3e=y(()=>{"use strict";Y3e=!1,Ql=t=>{t&&!Y3e&&parseInt(t.substring(1,t.indexOf(".")))<16&&(Y3e=!0)}});var e5e=y(()=>{"use strict"});var t5e,r5e,n5e=y(()=>{"use strict";e0();t5e=t=>{let e=[];for(let r in sS){let n=sS[r];t[n]!==void 0&&e.push({algorithmId:()=>n,checksumConstructor:()=>t[n]})}return{addChecksumAlgorithm(r){e.push(r)},checksumAlgorithms(){return e}}},r5e=t=>{let e={};return t.checksumAlgorithms().forEach(r=>{e[r.algorithmId()]=r.checksumConstructor()}),e}});var i5e,o5e,s5e=y(()=>{"use strict";i5e=t=>({setRetryStrategy(e){t.retryStrategy=e},retryStrategy(){return t.retryStrategy}}),o5e=t=>{let e={};return e.retryStrategy=t.retryStrategy(),e}});var Xl,Yl,a5e=y(()=>{"use strict";n5e();s5e();Xl=t=>Object.assign(t5e(t),i5e(t)),Yl=t=>Object.assign(r5e(t),o5e(t))});var c5e=y(()=>{"use strict";a5e()});var l5e=y(()=>{"use strict"});var YX,u5e=y(()=>{"use strict";YX=t=>{let e="#text";for(let r in t)t.hasOwnProperty(r)&&t[r][e]!==void 0?t[r]=t[r][e]:typeof t[r]=="object"&&t[r]!==null&&(t[r]=YX(t[r]));return t}});var d5e=y(()=>{"use strict"});var $s,p5e=y(()=>{"use strict";$s=class{trace(){}debug(){}info(){}warn(){}error(){}}});var f5e=y(()=>{"use strict"});var m5e=y(()=>{"use strict"});var h5e=y(()=>{"use strict"});var I3,g5e=y(()=>{"use strict";I3=t=>{if(t==null)return{};if(Array.isArray(t))return t.filter(e=>e!=null).map(I3);if(typeof t=="object"){let e={};for(let r of Object.keys(t))t[r]!=null&&(e[r]=I3(t[r]));return e}return t}});var Ae=y(()=>{"use strict";H3e();G3e();q3e();J3e();W3e();Q3e();X3e();Z3e();K3e();e5e();c5e();l5e();u5e();d5e();p5e();f5e();m5e();h5e();g5e();Lp()});var o0,nk=y(()=>{"use strict";ln();Ae();o0=class{queryCompat;constructor(e=!1){this.queryCompat=e}resolveRestContentType(e,r){let n=r.getMemberSchemas(),i=Object.values(n).find(o=>!!o.getMergedTraits().httpPayload);if(i){let o=i.getMergedTraits().mediaType;return o||(i.isStringSchema()?"text/plain":i.isBlobSchema()?"application/octet-stream":e)}else if(!r.isUnitSchema()&&Object.values(n).find(s=>{let{httpQuery:a,httpQueryParams:c,httpHeader:l,httpLabel:u,httpPrefixHeaders:d}=s.getMergedTraits();return!a&&!c&&!l&&!u&&d===void 0}))return e}async getErrorSchemaOrThrowBaseException(e,r,n,i,o,s){let a=r,c=e;e.includes("#")&&([a,c]=e.split("#"));let l={$metadata:o,$fault:n.statusCode<500?"client":"server"},u=Ve.for(a);try{return{errorSchema:s?.(u,c)??u.getSchema(e),errorMetadata:l}}catch{i.message=i.message??i.Message??"UnknownError";let p=Ve.for("smithy.ts.sdk.synthetic."+a),f=p.getBaseException();if(f){let h=p.getErrorCtor(f)??Error;throw this.decorateServiceException(Object.assign(new h({name:c}),l),i)}throw this.decorateServiceException(Object.assign(new Error(c),l),i)}}decorateServiceException(e,r={}){if(this.queryCompat){let n=e.Message??r.Message,i=XX(e,r);n&&(i.message=n),i.Error={...i.Error,Type:i.Error.Type,Code:i.Error.Code,Message:i.Error.message??i.Error.Message??n};let o=i.$metadata.requestId;return o&&(i.RequestId=o),i}return XX(e,r)}setQueryCompatError(e,r){let n=r.headers?.["x-amzn-query-error"];if(e!==void 0&&n!=null){let[i,o]=n.split(";"),s=Object.entries(e),a={Code:i,Type:o};Object.assign(e,a);for(let[c,l]of s)a[c==="message"?"Message":c]=l;delete a.__type,e.Error=a}}queryCompatOutput(e,r){e.Error&&(r.Error=e.Error),e.Type&&(r.Type=e.Type),e.Code&&(r.Code=e.Code)}findQueryCompatibleError(e,r){try{return e.getSchema(r)}catch{return e.find(i=>Kt.of(i).getMergedTraits().awsQueryError?.[0]===r)}}}});var y5e=y(()=>{"use strict"});var b5e=y(()=>{"use strict"});var Zl,_S=y(()=>{"use strict";Zl=class{serdeContext;setSerdeContext(e){this.serdeContext=e}}});var xS,ZX=y(()=>{"use strict";xS=class{from;to;keys;constructor(e,r){this.from=e,this.to=r,this.keys=new Set(Object.keys(this.from).filter(n=>n!=="__type"))}mark(e){this.keys.delete(e)}hasUnknown(){return this.keys.size===1&&Object.keys(this.to).length===0}writeUnknown(){if(this.hasUnknown()){let e=this.keys.values().next().value,r=this.from[e];this.to.$unknown=[e,r]}}}});function v5e(t,e,r){if(r?.source){let n=r.source;if(typeof e=="number"&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER||n!==String(e)))return n.includes(".")?new Uo(n,"bigDecimal"):BigInt(n)}return e}var _5e=y(()=>{"use strict";Lp()});var x5e,S5e=y(()=>{"use strict";Ae();Fi();x5e=(t,e)=>Xa(t,e).then(r=>(e?.utf8Encoder??$n)(r))});var w5e,ik,C3=y(()=>{"use strict";S5e();w5e=(t,e)=>x5e(t,e).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),ik=(t,e)=>{let r=(o,s)=>Object.keys(o).find(a=>a.toLowerCase()===s.toLowerCase()),n=o=>{let s=o;return typeof s=="number"&&(s=s.toString()),s.indexOf(",")>=0&&(s=s.split(",")[0]),s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s},i=r(t.headers,"x-amzn-errortype");if(i!==void 0)return n(t.headers[i]);if(e&&typeof e=="object"){let o=r(e,"code");if(o&&e[o]!==void 0)return n(e[o]);if(e.__type!==void 0)return n(e.__type)}}});var SS,eY=y(()=>{"use strict";gm();ln();Lp();Ms();_S();ZX();_5e();C3();SS=class extends Zl{settings;constructor(e){super(),this.settings=e}async read(e,r){return this._read(e,typeof r=="string"?JSON.parse(r,v5e):await w5e(r,this.serdeContext))}readObject(e,r){return this._read(e,r)}_read(e,r){let n=r!==null&&typeof r=="object",i=Kt.of(e);if(n){if(i.isStructSchema()){let s=r,a=i.isUnionSchema(),c={},l,{jsonName:u}=this.settings;u&&(l={});let d;a&&(d=new xS(s,c));for(let[p,f]of i.structIterator()){let h=p;u&&(h=f.getMergedTraits().jsonName??h,l[h]=p),a&&d.mark(h),s[h]!=null&&(c[p]=this._read(f,s[h]))}if(a)d.writeUnknown();else if(typeof s.__type=="string")for(let[p,f]of Object.entries(s)){let h=u?l[p]??p:p;h in c||(c[h]=f)}return c}if(Array.isArray(r)&&i.isListSchema()){let s=i.getValueSchema(),a=[],c=!!i.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._read(s,l));return a}if(i.isMapSchema()){let s=i.getValueSchema(),a={},c=!!i.getMergedTraits().sparse;for(let[l,u]of Object.entries(r))(c||u!=null)&&(a[l]=this._read(s,u));return a}}if(i.isBlobSchema()&&typeof r=="string")return gi(r);let o=i.getMergedTraits().mediaType;if(i.isStringSchema()&&typeof r=="string"&&o)return o==="application/json"||o.endsWith("+json")?Ya.from(r):r;if(i.isTimestampSchema()&&r!=null)switch($p(i,this.settings)){case 5:return I4e(r);case 6:return C4e(r);case 7:return N4e(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(i.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(i.isBigDecimalSchema()&&r!=null){if(r instanceof Uo)return r;let s=r;return s.type==="bigDecimal"&&"string"in s?new Uo(s.string,s.type):new Uo(String(r),"bigDecimal")}if(i.isNumericSchema()&&typeof r=="string"){switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}if(i.isDocumentSchema())if(n){let s=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof Uo?s[a]=c:s[a]=this._read(i,c);return s}else return structuredClone(r);return r}}});var A5e,ok,E5e=y(()=>{"use strict";Lp();A5e="\u039D",ok=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(e,r)=>{if(r instanceof Uo){let n=`${A5e+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),i=`${A5e+"b"+this.counter++}_`+n;return this.values.set(`"${i}"`,n),i}return r}}replaceInJson(e){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return e;for(let[r,n]of this.values)e=e.replace(r,n);return e}}});var wS,tY=y(()=>{"use strict";gm();ln();Lp();Ms();_S();E5e();wS=class extends Zl{settings;buffer;useReplacer=!1;rootSchema;constructor(e){super(),this.settings=e}write(e,r){this.rootSchema=Kt.of(e),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(e,r){this.write(e,r),typeof this.buffer=="object"&&(this.buffer.__type=Kt.of(e).getName(!0))}flush(){let{rootSchema:e,useReplacer:r}=this;if(this.rootSchema=void 0,this.useReplacer=!1,e?.isStructSchema()||e?.isDocumentSchema()){if(!r)return JSON.stringify(this.buffer);let n=new ok;return n.replaceInJson(JSON.stringify(this.buffer,n.createReplacer(),0))}return this.buffer}_write(e,r,n){let i=r!==null&&typeof r=="object",o=Kt.of(e);if(i){if(o.isStructSchema()){let s=r,a={},{jsonName:c}=this.settings,l;c&&(l={});for(let[u,d]of o.structIterator()){let p=this._write(d,s[u],o);if(p!==void 0){let f=u;c&&(f=d.getMergedTraits().jsonName??u,l[u]=f),a[f]=p}}if(o.isUnionSchema()&&Object.keys(a).length===0){let{$unknown:u}=s;if(Array.isArray(u)){let[d,p]=u;a[d]=this._write(15,p)}}else if(typeof s.__type=="string")for(let[u,d]of Object.entries(s)){let p=c?l[u]??u:u;p in a||(a[p]=this._write(15,d))}return a}if(Array.isArray(r)&&o.isListSchema()){let s=o.getValueSchema(),a=[],c=!!o.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._write(s,l));return a}if(o.isMapSchema()){let s=o.getValueSchema(),a={},c=!!o.getMergedTraits().sparse;for(let[l,u]of Object.entries(r))(c||u!=null)&&(a[l]=this._write(s,u));return a}if(r instanceof Uint8Array&&(o.isBlobSchema()||o.isDocumentSchema()))return o===this.rootSchema?r:(this.serdeContext?.base64Encoder??Un)(r);if(r instanceof Date&&(o.isTimestampSchema()||o.isDocumentSchema()))switch($p(o,this.settings)){case 5:return r.toISOString().replace(".000Z","Z");case 6:return pS(r);case 7:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}r instanceof Uo&&(this.useReplacer=!0)}if(!(r===null&&n?.isStructSchema())){if(o.isStringSchema()){if(typeof r>"u"&&o.isIdempotencyToken())return mm();let s=o.getMergedTraits().mediaType;return r!=null&&s&&(s==="application/json"||s.endsWith("+json"))?Ya.from(r):r}if(typeof r=="number"&&o.isNumericSchema())return Math.abs(r)===1/0||isNaN(r)?String(r):r;if(typeof r=="string"&&o.isBlobSchema())return o===this.rootSchema?r:(this.serdeContext?.base64Encoder??Un)(r);if(typeof r=="bigint"&&(this.useReplacer=!0),o.isDocumentSchema())if(i){let s=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof Uo?(this.useReplacer=!0,s[a]=c):s[a]=this._write(o,c);return s}else return structuredClone(r);return r}}}});var s0,sk=y(()=>{"use strict";_S();eY();tY();s0=class extends Zl{settings;constructor(e){super(),this.settings=e}createSerializer(){let e=new wS(this.settings);return e.setSerdeContext(this.serdeContext),e}createDeserializer(){let e=new SS(this.settings);return e.setSerdeContext(this.serdeContext),e}}});var AS,ak=y(()=>{"use strict";gm();ln();nk();sk();C3();AS=class extends hS{serializer;deserializer;serviceTarget;codec;mixin;awsQueryCompatible;constructor({defaultNamespace:e,serviceTarget:r,awsQueryCompatible:n,jsonCodec:i}){super({defaultNamespace:e}),this.serviceTarget=r,this.codec=i??new s0({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n,this.mixin=new o0(this.awsQueryCompatible)}async serializeRequest(e,r,n){let i=await super.serializeRequest(e,r,n);return i.path.endsWith("/")||(i.path+="/"),Object.assign(i.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${e.name}`}),this.awsQueryCompatible&&(i.headers["x-amzn-query-mode"]="true"),(t0(e.input)==="unit"||!i.body)&&(i.body="{}"),i}getPayloadCodec(){return this.codec}async handleError(e,r,n,i,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(i,n);let s=ik(n,i)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(s,this.options.defaultNamespace,n,i,o,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),l=Kt.of(a),u=i.message??i.Message??"Unknown",d=Ve.for(a[1]).getErrorCtor(a)??Error,p=new d(u),f={};for(let[h,m]of l.structIterator())i[h]!=null&&(f[h]=this.codec.createDeserializer().readObject(m,i[h]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(i,f),this.mixin.decorateServiceException(Object.assign(p,c,{$fault:l.getMergedTraits().error,message:u},f),i)}}});var ck,T5e=y(()=>{"use strict";ak();ck=class extends AS{constructor({defaultNamespace:e,serviceTarget:r,awsQueryCompatible:n,jsonCodec:i}){super({defaultNamespace:e,serviceTarget:r,awsQueryCompatible:n,jsonCodec:i})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var lk,R5e=y(()=>{"use strict";ak();lk=class extends AS{constructor({defaultNamespace:e,serviceTarget:r,awsQueryCompatible:n,jsonCodec:i}){super({defaultNamespace:e,serviceTarget:r,awsQueryCompatible:n,jsonCodec:i})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var a0,I5e=y(()=>{"use strict";gm();ln();nk();sk();C3();a0=class extends $P{serializer;deserializer;codec;mixin=new o0;constructor({defaultNamespace:e}){super({defaultNamespace:e});let r={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new s0(r),this.serializer=new VP(this.codec.createSerializer(),r),this.deserializer=new FP(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(e){this.codec.setSerdeContext(e),super.setSerdeContext(e)}async serializeRequest(e,r,n){let i=await super.serializeRequest(e,r,n),o=Kt.of(e.input);if(!i.headers["content-type"]){let s=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);s&&(i.headers["content-type"]=s)}return i.body==null&&i.headers["content-type"]===this.getDefaultContentType()&&(i.body="{}"),i}async deserializeResponse(e,r,n){let i=await super.deserializeResponse(e,r,n),o=Kt.of(e.output);for(let[s,a]of o.structIterator())a.getMemberTraits().httpPayload&&!(s in i)&&(i[s]=null);return i}async handleError(e,r,n,i,o){let s=ik(n,i)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(s,this.options.defaultNamespace,n,i,o),l=Kt.of(a),u=i.message??i.Message??"Unknown",d=Ve.for(a[1]).getErrorCtor(a)??Error,p=new d(u);await this.deserializeHttpMessage(a,r,n,i);let f={};for(let[h,m]of l.structIterator()){let g=m.getMergedTraits().jsonName??h;f[h]=this.codec.createDeserializer().readObject(m,i[g])}throw this.mixin.decorateServiceException(Object.assign(p,c,{$fault:l.getMergedTraits().error,message:u},f),i)}getDefaultContentType(){return"application/json"}}});var C5e=y(()=>{"use strict"});var N5e=y(()=>{"use strict"});var O5e=y(()=>{"use strict"});function uk(t,e){let r=[],n=e.exec(t);for(;n;){let i=[];i.startIndex=e.lastIndex-n[0].length;let o=n.length;for(let s=0;s<o;s++)i.push(n[s]);r.push(i),n=e.exec(t)}return r}function k5e(t){return typeof t<"u"}var P5e,Y_t,Z_t,ext,N3,dk=y(()=>{"use strict";P5e=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Y_t=P5e+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Z_t="["+P5e+"]["+Y_t+"]*",ext=new RegExp("^"+Z_t+"$");N3=function(t){let e=ext.exec(t);return!(e===null||typeof e>"u")}});function $5e(t,e){e=Object.assign({},txt,e);let r=[],n=!1,i=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let o=0;o<t.length;o++)if(t[o]==="<"&&t[o+1]==="?"){if(o+=2,o=M5e(t,o),o.err)return o}else if(t[o]==="<"){let s=o;if(o++,t[o]==="!"){o=L5e(t,o);continue}else{let a=!1;t[o]==="/"&&(a=!0,o++);let c="";for(;o<t.length&&t[o]!==">"&&t[o]!==" "&&t[o]!=="	"&&t[o]!==`
`&&t[o]!=="\r";o++)c+=t[o];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),o--),!lxt(c)){let d;return c.trim().length===0?d="Invalid space after '<'.":d="Tag '"+c+"' is an invalid name.",Vi("InvalidTag",d,ya(t,o))}let l=ixt(t,o);if(l===!1)return Vi("InvalidAttr","Attributes for '"+c+"' have open quote.",ya(t,o));let u=l.value;if(o=l.index,u[u.length-1]==="/"){let d=o-u.length;u=u.substring(0,u.length-1);let p=B5e(u,e);if(p===!0)n=!0;else return Vi(p.err.code,p.err.msg,ya(t,d+p.err.line))}else if(a)if(l.tagClosed){if(u.trim().length>0)return Vi("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",ya(t,s));if(r.length===0)return Vi("InvalidTag","Closing tag '"+c+"' has not been opened.",ya(t,s));{let d=r.pop();if(c!==d.tagName){let p=ya(t,d.tagStartPos);return Vi("InvalidTag","Expected closing tag '"+d.tagName+"' (opened in line "+p.line+", col "+p.col+") instead of closing tag '"+c+"'.",ya(t,s))}r.length==0&&(i=!0)}}else return Vi("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",ya(t,o));else{let d=B5e(u,e);if(d!==!0)return Vi(d.err.code,d.err.msg,ya(t,o-u.length+d.err.line));if(i===!0)return Vi("InvalidXml","Multiple possible root nodes found.",ya(t,o));e.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:s}),n=!0}for(o++;o<t.length;o++)if(t[o]==="<")if(t[o+1]==="!"){o++,o=L5e(t,o);continue}else if(t[o+1]==="?"){if(o=M5e(t,++o),o.err)return o}else break;else if(t[o]==="&"){let d=axt(t,o);if(d==-1)return Vi("InvalidChar","char '&' is not expected.",ya(t,o));o=d}else if(i===!0&&!D5e(t[o]))return Vi("InvalidXml","Extra text at the end",ya(t,o));t[o]==="<"&&o--}}else{if(D5e(t[o]))continue;return Vi("InvalidChar","char '"+t[o]+"' is not expected.",ya(t,o))}if(n){if(r.length==1)return Vi("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",ya(t,r[0].tagStartPos));if(r.length>0)return Vi("InvalidXml","Invalid '"+JSON.stringify(r.map(o=>o.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return Vi("InvalidXml","Start tag expected.",1);return!0}function D5e(t){return t===" "||t==="	"||t===`
`||t==="\r"}function M5e(t,e){let r=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){let n=t.substr(r,e-r);if(e>5&&n==="xml")return Vi("InvalidXml","XML declaration allowed only at the start of the document.",ya(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function L5e(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let r=1;for(e+=8;e<t.length;e++)if(t[e]==="<")r++;else if(t[e]===">"&&(r--,r===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}function ixt(t,e){let r="",n="",i=!1;for(;e<t.length;e++){if(t[e]===rxt||t[e]===nxt)n===""?n=t[e]:n!==t[e]||(n="");else if(t[e]===">"&&n===""){i=!0;break}r+=t[e]}return n!==""?!1:{value:r,index:e,tagClosed:i}}function B5e(t,e){let r=uk(t,oxt),n={};for(let i=0;i<r.length;i++){if(r[i][1].length===0)return Vi("InvalidAttr","Attribute '"+r[i][2]+"' has no space in starting.",O3(r[i]));if(r[i][3]!==void 0&&r[i][4]===void 0)return Vi("InvalidAttr","Attribute '"+r[i][2]+"' is without value.",O3(r[i]));if(r[i][3]===void 0&&!e.allowBooleanAttributes)return Vi("InvalidAttr","boolean attribute '"+r[i][2]+"' is not allowed.",O3(r[i]));let o=r[i][2];if(!cxt(o))return Vi("InvalidAttr","Attribute '"+o+"' is an invalid name.",O3(r[i]));if(!n.hasOwnProperty(o))n[o]=1;else return Vi("InvalidAttr","Attribute '"+o+"' is repeated.",O3(r[i]))}return!0}function sxt(t,e){let r=/\d/;for(t[e]==="x"&&(e++,r=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(r))break}return-1}function axt(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,sxt(t,e);let r=0;for(;e<t.length;e++,r++)if(!(t[e].match(/\w/)&&r<20)){if(t[e]===";")break;return-1}return e}function Vi(t,e,r){return{err:{code:t,msg:e,line:r.line||r,col:r.col}}}function cxt(t){return N3(t)}function lxt(t){return N3(t)}function ya(t,e){let r=t.substring(0,e).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function O3(t){return t.startIndex+t[1].length}var txt,rxt,nxt,oxt,U5e=y(()=>{"use strict";dk();txt={allowBooleanAttributes:!1,unpairedTags:[]};rxt='"',nxt="'";oxt=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g")});var uxt,F5e,z5e=y(()=>{"use strict";uxt={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,r){return t},captureMetaData:!1},F5e=function(t){return Object.assign({},uxt,t)}});var pk,qc,fk=y(()=>{"use strict";typeof Symbol!="function"?pk="@@xmlMetadata":pk=Symbol("XML Node Metadata");qc=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,r){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:r})}addChild(e,r){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child}),r!==void 0&&(this.child[this.child.length-1][pk]={startIndex:r})}static getMetaDataSymbol(){return pk}}});function rY(t,e){let r={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let n=1,i=!1,o=!1,s="";for(;e<t.length;e++)if(t[e]==="<"&&!o){if(i&&Sb(t,"!ENTITY",e)){e+=7;let a,c;[a,c,e]=dxt(t,e+1),c.indexOf("&")===-1&&(r[a]={regx:RegExp(`&${a};`,"g"),val:c})}else if(i&&Sb(t,"!ELEMENT",e)){e+=8;let{index:a}=fxt(t,e+1);e=a}else if(i&&Sb(t,"!ATTLIST",e))e+=8;else if(i&&Sb(t,"!NOTATION",e)){e+=9;let{index:a}=pxt(t,e+1);e=a}else if(Sb(t,"!--",e))o=!0;else throw new Error("Invalid DOCTYPE");n++,s=""}else if(t[e]===">"){if(o?t[e-1]==="-"&&t[e-2]==="-"&&(o=!1,n--):n--,n===0)break}else t[e]==="["?i=!0:s+=t[e];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:e}}function dxt(t,e){e=c0(t,e);let r="";for(;e<t.length&&!/\s/.test(t[e])&&t[e]!=='"'&&t[e]!=="'";)r+=t[e],e++;if(nY(r),e=c0(t,e),t.substring(e,e+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(t[e]==="%")throw new Error("Parameter entities are not supported");let n="";return[e,n]=mk(t,e,"entity"),e--,[r,n,e]}function pxt(t,e){e=c0(t,e);let r="";for(;e<t.length&&!/\s/.test(t[e]);)r+=t[e],e++;nY(r),e=c0(t,e);let n=t.substring(e,e+6).toUpperCase();if(n!=="SYSTEM"&&n!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${n}"`);e+=n.length,e=c0(t,e);let i=null,o=null;if(n==="PUBLIC")[e,i]=mk(t,e,"publicIdentifier"),e=c0(t,e),(t[e]==='"'||t[e]==="'")&&([e,o]=mk(t,e,"systemIdentifier"));else if(n==="SYSTEM"&&([e,o]=mk(t,e,"systemIdentifier"),!o))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:r,publicIdentifier:i,systemIdentifier:o,index:--e}}function mk(t,e,r){let n="",i=t[e];if(i!=='"'&&i!=="'")throw new Error(`Expected quoted string, found "${i}"`);for(e++;e<t.length&&t[e]!==i;)n+=t[e],e++;if(t[e]!==i)throw new Error(`Unterminated ${r} value`);return e++,[e,n]}function fxt(t,e){e=c0(t,e);let r="";for(;e<t.length&&!/\s/.test(t[e]);)r+=t[e],e++;if(!nY(r))throw new Error(`Invalid element name: "${r}"`);e=c0(t,e);let n="";if(t[e]==="E"&&Sb(t,"MPTY",e))e+=4;else if(t[e]==="A"&&Sb(t,"NY",e))e+=2;else if(t[e]==="("){for(e++;e<t.length&&t[e]!==")";)n+=t[e],e++;if(t[e]!==")")throw new Error("Unterminated content model")}else throw new Error(`Invalid Element Expression, found "${t[e]}"`);return{elementName:r,contentModel:n.trim(),index:e}}function Sb(t,e,r){for(let n=0;n<e.length;n++)if(e[n]!==t[r+n+1])return!1;return!0}function nY(t){if(N3(t))return t;throw new Error(`Invalid entity name ${t}`)}var c0,V5e=y(()=>{"use strict";dk();c0=(t,e)=>{for(;e<t.length&&/\s/.test(t[e]);)e++;return e}});function iY(t,e={}){if(e=Object.assign({},gxt,e),!t||typeof t!="string")return t;let r=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(r))return t;if(t==="0")return 0;if(e.hex&&mxt.test(r))return _xt(r,16);if(r.includes("e")||r.includes("E"))return bxt(t,r,e);{let n=hxt.exec(r);if(n){let i=n[1]||"",o=n[2],s=vxt(n[3]),a=i?t[o.length+1]===".":t[o.length]===".";if(!e.leadingZeros&&(o.length>1||o.length===1&&!a))return t;{let c=Number(r),l=String(c);if(c===0)return c;if(l.search(/[eE]/)!==-1)return e.eNotation?c:t;if(r.indexOf(".")!==-1)return l==="0"||l===s||l===`${i}${s}`?c:t;let u=o?s:r;return o?u===l||i+u===l?c:t:u===l||u===i+l?c:t}}else return t}}function bxt(t,e,r){if(!r.eNotation)return t;let n=e.match(yxt);if(n){let i=n[1]||"",o=n[3].indexOf("e")===-1?"E":"e",s=n[2],a=i?t[s.length+1]===o:t[s.length]===o;return s.length>1&&a?t:s.length===1&&(n[3].startsWith(`.${o}`)||n[3][0]===o)?Number(e):r.leadingZeros&&!a?(e=(n[1]||"")+n[3],Number(e)):t}else return t}function vxt(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substring(0,t.length-1))),t}function _xt(t,e){if(parseInt)return parseInt(t,e);if(Number.parseInt)return Number.parseInt(t,e);if(window&&window.parseInt)return window.parseInt(t,e);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}var mxt,hxt,gxt,yxt,H5e=y(()=>{"use strict";mxt=/^[-+]?0x[a-fA-F0-9]+$/,hxt=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,gxt={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};yxt=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/});function oY(t){return typeof t=="function"?t:Array.isArray(t)?e=>{for(let r of t)if(typeof r=="string"&&e===r||r instanceof RegExp&&r.test(e))return!0}:()=>!1}var G5e=y(()=>{"use strict"});function xxt(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=e[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:t[n]}}}function Sxt(t,e,r,n,i,o,s){if(t!==void 0&&(this.options.trimValues&&!n&&(t=t.trim()),t.length>0)){s||(t=this.replaceEntitiesValue(t));let a=this.options.tagValueProcessor(e,t,r,i,o);return a==null?t:typeof a!=typeof t||a!==t?a:this.options.trimValues?aY(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?aY(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function wxt(t){if(this.options.removeNSPrefix){let e=t.split(":"),r=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=r+e[1])}return t}function Ext(t,e,r){if(this.options.ignoreAttributes!==!0&&typeof t=="string"){let n=uk(t,Axt),i=n.length,o={};for(let s=0;s<i;s++){let a=this.resolveNameSpace(n[s][1]);if(this.ignoreAttributesFn(a,e))continue;let c=n[s][4],l=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let u=this.options.attributeValueProcessor(a,c,e);u==null?o[l]=c:typeof u!=typeof c||u!==c?o[l]=u:o[l]=aY(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(o[l]=!0)}if(!Object.keys(o).length)return;if(this.options.attributesGroupName){let s={};return s[this.options.attributesGroupName]=o,s}return o}}function Rxt(t,e,r,n){this.options.captureMetaData||(n=void 0);let i=this.options.updateTag(e.tagname,r,e[":@"]);i===!1||(typeof i=="string"&&(e.tagname=i),t.addChild(e,n))}function Cxt(t,e,r,n){return t&&(n===void 0&&(n=e.child.length===0),t=this.parseTextData(t,e.tagname,r,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,n),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function Nxt(t,e,r){let n="*."+r;for(let i in t){let o=t[i];if(n===o||e===o)return!0}return!1}function Oxt(t,e,r=">"){let n,i="";for(let o=e;o<t.length;o++){let s=t[o];if(n)s===n&&(n="");else if(s==='"'||s==="'")n=s;else if(s===r[0])if(r[1]){if(t[o+1]===r[1])return{data:i,index:o}}else return{data:i,index:o};else s==="	"&&(s=" ");i+=s}}function wb(t,e,r,n){let i=t.indexOf(e,r);if(i===-1)throw new Error(n);return i+e.length-1}function sY(t,e,r,n=">"){let i=Oxt(t,e+1,n);if(!i)return;let o=i.data,s=i.index,a=o.search(/\s/),c=o,l=!0;a!==-1&&(c=o.substring(0,a),o=o.substring(a+1).trimStart());let u=c;if(r){let d=c.indexOf(":");d!==-1&&(c=c.substr(d+1),l=c!==i.data.substr(d+1))}return{tagName:c,tagExp:o,closeIndex:s,attrExpPresent:l,rawTagName:u}}function Pxt(t,e,r){let n=r,i=1;for(;r<t.length;r++)if(t[r]==="<")if(t[r+1]==="/"){let o=wb(t,">",r,`${e} is not closed`);if(t.substring(r+2,o).trim()===e&&(i--,i===0))return{tagContent:t.substring(n,r),i:o};r=o}else if(t[r+1]==="?")r=wb(t,"?>",r+1,"StopNode is not closed.");else if(t.substr(r+1,3)==="!--")r=wb(t,"-->",r+3,"StopNode is not closed.");else if(t.substr(r+1,2)==="![")r=wb(t,"]]>",r,"StopNode is not closed.")-2;else{let o=sY(t,r,">");o&&((o&&o.tagName)===e&&o.tagExp[o.tagExp.length-1]!=="/"&&i++,r=o.closeIndex)}}function aY(t,e,r){if(e&&typeof t=="string"){let n=t.trim();return n==="true"?!0:n==="false"?!1:iY(t,r)}else return k5e(t)?t:""}var P3,Axt,Txt,Ixt,j5e=y(()=>{"use strict";dk();fk();V5e();H5e();G5e();P3=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,16))}},this.addExternalEntities=xxt,this.parseXml=Txt,this.parseTextData=Sxt,this.resolveNameSpace=wxt,this.buildAttributesMap=Ext,this.isItStopNode=Nxt,this.replaceEntitiesValue=Ixt,this.readStopNodeData=Pxt,this.saveTextToParentTag=Cxt,this.addChild=Rxt,this.ignoreAttributesFn=oY(this.options.ignoreAttributes)}};Axt=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");Txt=function(t){t=t.replace(/\r\n?/g,`
`);let e=new qc("!xml"),r=e,n="",i="";for(let o=0;o<t.length;o++)if(t[o]==="<")if(t[o+1]==="/"){let a=wb(t,">",o,"Closing Tag is not closed."),c=t.substring(o+2,a).trim();if(this.options.removeNSPrefix){let d=c.indexOf(":");d!==-1&&(c=c.substr(d+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,i));let l=i.substring(i.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let u=0;l&&this.options.unpairedTags.indexOf(l)!==-1?(u=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):u=i.lastIndexOf("."),i=i.substring(0,u),r=this.tagsNodeStack.pop(),n="",o=a}else if(t[o+1]==="?"){let a=sY(t,o,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,i),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new qc(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,i,a.tagName)),this.addChild(r,c,i,o)}o=a.closeIndex+1}else if(t.substr(o+1,3)==="!--"){let a=wb(t,"-->",o+4,"Comment is not closed.");if(this.options.commentPropName){let c=t.substring(o+4,a-2);n=this.saveTextToParentTag(n,r,i),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}o=a}else if(t.substr(o+1,2)==="!D"){let a=rY(t,o);this.docTypeEntities=a.entities,o=a.i}else if(t.substr(o+1,2)==="!["){let a=wb(t,"]]>",o,"CDATA is not closed.")-2,c=t.substring(o+9,a);n=this.saveTextToParentTag(n,r,i);let l=this.parseTextData(c,r.tagname,i,!0,!1,!0,!0);l==null&&(l=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):r.add(this.options.textNodeName,l),o=a+2}else{let a=sY(t,o,this.options.removeNSPrefix),c=a.tagName,l=a.rawTagName,u=a.tagExp,d=a.attrExpPresent,p=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,i,!1));let f=r;f&&this.options.unpairedTags.indexOf(f.tagname)!==-1&&(r=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),c!==e.tagname&&(i+=i?"."+c:c);let h=o;if(this.isItStopNode(this.options.stopNodes,i,c)){let m="";if(u.length>0&&u.lastIndexOf("/")===u.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),i=i.substr(0,i.length-1),u=c):u=u.substr(0,u.length-1),o=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)o=a.closeIndex;else{let b=this.readStopNodeData(t,l,p+1);if(!b)throw new Error(`Unexpected end of ${l}`);o=b.i,m=b.tagContent}let g=new qc(c);c!==u&&d&&(g[":@"]=this.buildAttributesMap(u,i,c)),m&&(m=this.parseTextData(m,c,i,!0,d,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),g.add(this.options.textNodeName,m),this.addChild(r,g,i,h)}else{if(u.length>0&&u.lastIndexOf("/")===u.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),i=i.substr(0,i.length-1),u=c):u=u.substr(0,u.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let m=new qc(c);c!==u&&d&&(m[":@"]=this.buildAttributesMap(u,i,c)),this.addChild(r,m,i,h),i=i.substr(0,i.lastIndexOf("."))}else{let m=new qc(c);this.tagsNodeStack.push(r),c!==u&&d&&(m[":@"]=this.buildAttributesMap(u,i,c)),this.addChild(r,m,i,h),r=m}n="",o=p}}else n+=t[o];return e.child};Ixt=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){let r=this.docTypeEntities[e];t=t.replace(r.regx,r.val)}for(let e in this.lastEntities){let r=this.lastEntities[e];t=t.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){let r=this.htmlEntities[e];t=t.replace(r.regex,r.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t}});function lY(t,e){return q5e(t,e)}function q5e(t,e,r){let n,i={};for(let o=0;o<t.length;o++){let s=t[o],a=kxt(s),c="";if(r===void 0?c=a:c=r+"."+a,a===e.textNodeName)n===void 0?n=s[a]:n+=""+s[a];else{if(a===void 0)continue;if(s[a]){let l=q5e(s[a],e,c),u=Mxt(l,e);s[cY]!==void 0&&(l[cY]=s[cY]),s[":@"]?Dxt(l,s[":@"],c,e):Object.keys(l).length===1&&l[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?l=l[e.textNodeName]:Object.keys(l).length===0&&(e.alwaysCreateTextNode?l[e.textNodeName]="":l=""),i[a]!==void 0&&i.hasOwnProperty(a)?(Array.isArray(i[a])||(i[a]=[i[a]]),i[a].push(l)):e.isArray(a,c,u)?i[a]=[l]:i[a]=l}}}return typeof n=="string"?n.length>0&&(i[e.textNodeName]=n):n!==void 0&&(i[e.textNodeName]=n),i}function kxt(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=e[r];if(n!==":@")return n}}function Dxt(t,e,r,n){if(e){let i=Object.keys(e),o=i.length;for(let s=0;s<o;s++){let a=i[s];n.isArray(a,r+"."+a,!0,!0)?t[a]=[e[a]]:t[a]=e[a]}}}function Mxt(t,e){let{textNodeName:r}=e,n=Object.keys(t).length;return!!(n===0||n===1&&(t[r]||typeof t[r]=="boolean"||t[r]===0))}var cY,J5e=y(()=>{"use strict";fk();cY=qc.getMetaDataSymbol()});var ES,W5e=y(()=>{"use strict";z5e();j5e();J5e();U5e();fk();ES=class{constructor(e){this.externalEntities={},this.options=F5e(e)}parse(e,r){if(typeof e!="string")if(e.toString)e=e.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let o=$5e(e,r);if(o!==!0)throw Error(`${o.err.msg}:${o.err.line}:${o.err.col}`)}let n=new P3(this.options);n.addExternalEntities(this.externalEntities);let i=n.parseXml(e);return this.options.preserveOrder||i===void 0?i:lY(i,this.options)}addEntity(e,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=r}static getMetaDataSymbol(){return qc.getMetaDataSymbol()}}});var K5e=y(()=>{"use strict";W5e()});function dY(t){return uY.parse(t,!0)}var uY,Q5e=y(()=>{"use strict";K5e();uY=new ES({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(t,e)=>e.trim()===""&&e.includes(`
`)?"":void 0});uY.addEntity("#xD","\r");uY.addEntity("#10",`
`)});var X5e=y(()=>{"use strict";O5e();N5e();Q5e()});var hk,pY=y(()=>{"use strict";X5e();gm();ln();Ae();Fi();_S();ZX();hk=class extends Zl{settings;stringDeserializer;constructor(e){super(),this.settings=e,this.stringDeserializer=new gS(e)}setSerdeContext(e){this.serdeContext=e,this.stringDeserializer.setSerdeContext(e)}read(e,r,n){let i=Kt.of(e),o=i.getMemberSchemas();if(i.isStructSchema()&&i.isMemberSchema()&&!!Object.values(o).find(l=>!!l.getMemberTraits().eventPayload)){let l={},u=Object.keys(o)[0];return o[u].isBlobSchema()?l[u]=r:l[u]=this.read(o[u],r),l}let a=(this.serdeContext?.utf8Encoder??$n)(r),c=this.parseXml(a);return this.readSchema(e,n?c[n]:c)}readSchema(e,r){let n=Kt.of(e);if(n.isUnitSchema())return;let i=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let o=!!i.sparse,s=!!i.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),l=[],u=c.getMergedTraits().xmlName??"member",d=s?r:(r[0]??r)[u],p=Array.isArray(d)?d:[d];for(let f of p)(f!=null||o)&&l.push(this.readSchema(c,f));return l}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),l=n.getValueSchema(),u;s?u=Array.isArray(r)?r:[r]:u=Array.isArray(r.entry)?r.entry:[r.entry];let d=c.getMergedTraits().xmlName??"key",p=l.getMergedTraits().xmlName??"value";for(let f of u){let h=f[d],m=f[p];(m!=null||o)&&(a[h]=this.readSchema(l,m))}return a}if(n.isStructSchema()){let c=n.isUnionSchema(),l;c&&(l=new xS(r,a));for(let[u,d]of n.structIterator()){let p=d.getMergedTraits(),f=p.httpPayload?p.xmlName??d.getName():d.getMemberTraits().xmlName??u;c&&l.mark(f),r[f]!=null&&(a[u]=this.readSchema(d,r[f]))}return c&&l.writeUnknown(),a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(e){if(e.length){let r;try{r=dY(e)}catch(s){throw s&&typeof s=="object"&&Object.defineProperty(s,"$responseBodyText",{value:e}),s}let n="#text",i=Object.keys(r)[0],o=r[i];return o[n]&&(o[i]=o[n],delete o[n]),YX(o)}return{}}}});var gk,Y5e=y(()=>{"use strict";gm();ln();Lp();Ae();Ms();_S();gk=class extends Zl{settings;buffer;constructor(e){super(),this.settings=e}write(e,r,n=""){this.buffer===void 0&&(this.buffer="");let i=Kt.of(e);if(n&&!n.endsWith(".")&&(n+="."),i.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??Un)(r)));else if(i.isBooleanSchema()||i.isNumericSchema()||i.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):i.isIdempotencyToken()&&(this.writeKey(n),this.writeValue(mm()));else if(i.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(i.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof Uo?r.string:String(r)));else if(i.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),$p(i,this.settings)){case 5:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue(pS(r));break;case 7:this.writeValue(String(r.getTime()/1e3));break}}else if(i.isDocumentSchema())Array.isArray(r)?this.write(79,r,n):r instanceof Date?this.write(4,r,n):r instanceof Uint8Array?this.write(21,r,n):r&&typeof r=="object"?this.write(143,r,n):(this.writeKey(n),this.writeValue(String(r)));else if(i.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let o=i.getValueSchema(),s=this.settings.flattenLists||i.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let l=this.getKey("member",o.getMergedTraits().xmlName),u=s?`${n}${a}`:`${n}${l}.${a}`;this.write(o,c,u),++a}}}else if(i.isMapSchema()){if(r&&typeof r=="object"){let o=i.getKeySchema(),s=i.getValueSchema(),a=i.getMergedTraits().xmlFlattened,c=1;for(let[l,u]of Object.entries(r)){if(u==null)continue;let d=this.getKey("key",o.getMergedTraits().xmlName),p=a?`${n}${c}.${d}`:`${n}entry.${c}.${d}`,f=this.getKey("value",s.getMergedTraits().xmlName),h=a?`${n}${c}.${f}`:`${n}entry.${c}.${f}`;this.write(o,l,p),this.write(s,u,h),++c}}}else if(i.isStructSchema()){if(r&&typeof r=="object"){let o=!1;for(let[s,a]of i.structIterator()){if(r[s]==null&&!a.isIdempotencyToken())continue;let c=this.getKey(s,a.getMergedTraits().xmlName),l=`${n}${c}`;this.write(a,r[s],l),o=!0}if(!o&&i.isUnionSchema()){let{$unknown:s}=r;if(Array.isArray(s)){let[a,c]=s,l=`${n}${a}`;this.write(15,c,l)}}}}else if(!i.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${i.getName(!0)}`)}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let e=this.buffer;return delete this.buffer,e}getKey(e,r){let n=r??e;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(e){e.endsWith(".")&&(e=e.slice(0,e.length-1)),this.buffer+=`&${lS(e)}=`}writeValue(e){this.buffer+=lS(e)}}});var yk,Z5e=y(()=>{"use strict";gm();ln();nk();pY();Y5e();yk=class extends hS{options;serializer;deserializer;mixin=new o0;constructor(e){super({defaultNamespace:e.defaultNamespace}),this.options=e;let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:e.xmlNamespace,serviceNamespace:e.defaultNamespace,serializeEmptyLists:!0};this.serializer=new gk(r),this.deserializer=new hk(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(e){this.serializer.setSerdeContext(e),this.deserializer.setSerdeContext(e)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(e,r,n){let i=await super.serializeRequest(e,r,n);i.path.endsWith("/")||(i.path+="/"),Object.assign(i.headers,{"content-type":"application/x-www-form-urlencoded"}),(t0(e.input)==="unit"||!i.body)&&(i.body="");let o=e.name.split("#")[1]??e.name;return i.body=`Action=${o}&Version=${this.options.version}`+i.body,i.body.endsWith("&")&&(i.body=i.body.slice(-1)),i}async deserializeResponse(e,r,n){let i=this.deserializer,o=Kt.of(e.output),s={};if(n.statusCode>=300){let d=await Xa(n.body,r);d.byteLength>0&&Object.assign(s,await i.read(15,d)),await this.handleError(e,r,n,s,this.deserializeMetadata(n))}for(let d in n.headers){let p=n.headers[d];delete n.headers[d],n.headers[d.toLowerCase()]=p}let a=e.name.split("#")[1]??e.name,c=o.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,l=await Xa(n.body,r);return l.byteLength>0&&Object.assign(s,await i.read(o,l,c)),{$metadata:this.deserializeMetadata(n),...s}}useNestedResult(){return!0}async handleError(e,r,n,i,o){let s=this.loadQueryErrorCode(n,i)??"Unknown",a=this.loadQueryError(i),c=this.loadQueryErrorMessage(i);a.message=c,a.Error={Type:a.Type,Code:a.Code,Message:c};let{errorSchema:l,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(s,this.options.defaultNamespace,n,a,o,this.mixin.findQueryCompatibleError),d=Kt.of(l),p=Ve.for(l[1]).getErrorCtor(l)??Error,f=new p(c),h={Type:a.Error.Type,Code:a.Error.Code,Error:a.Error};for(let[m,g]of d.structIterator()){let b=g.getMergedTraits().xmlName??m,_=a[b]??i[b];h[m]=this.deserializer.readSchema(g,_)}throw this.mixin.decorateServiceException(Object.assign(f,u,{$fault:d.getMergedTraits().error,message:c},h),i)}loadQueryErrorCode(e,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(e.statusCode==404)return"NotFound"}loadQueryError(e){return e.Errors?.[0]?.Error??e.Errors?.Error??e.Error}loadQueryErrorMessage(e){let r=this.loadQueryError(e);return r?.message??r?.Message??e.message??e.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var eTe=y(()=>{"use strict"});var tTe=y(()=>{"use strict"});var rTe=y(()=>{"use strict"});var nTe=y(()=>{"use strict"});var iTe=y(()=>{"use strict"});var vm=y(()=>{"use strict";y5e();b5e();T5e();R5e();ak();I5e();sk();eY();tY();C5e();C3();eTe();Z5e();iTe();nTe();pY();rTe();tTe()});var uo=y(()=>{"use strict";os();U3e();vm()});async function oTe(t,e,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&Ad(t,"PROTOCOL_RPC_V2_CBOR","M"),typeof e.retryStrategy=="function"){let o=await e.retryStrategy();typeof o.acquireInitialRetryToken=="function"?o.constructor?.name?.includes("Adaptive")?Ad(t,"RETRY_MODE_ADAPTIVE","F"):Ad(t,"RETRY_MODE_STANDARD","E"):Ad(t,"RETRY_MODE_LEGACY","D")}if(typeof e.accountIdEndpointMode=="function"){let o=t.endpointV2;switch(String(o?.url?.hostname).match(Lxt)&&Ad(t,"ACCOUNT_ID_ENDPOINT","O"),await e.accountIdEndpointMode?.()){case"disabled":Ad(t,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":Ad(t,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":Ad(t,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let i=t.__smithy_context?.selectedHttpAuthScheme?.identity;if(i?.$source){let o=i;o.accountId&&Ad(t,"RESOLVED_ACCOUNT_ID","T");for(let[s,a]of Object.entries(o.$source??{}))Ad(t,s,a)}}var Lxt,sTe=y(()=>{"use strict";uo();Lxt=/\d{12}\.ddb/});var fY,bk,aTe,cTe,lTe=y(()=>{"use strict";fY="user-agent",bk="x-amz-user-agent",aTe=/[^!$%&'*+\-.^_`|~\w]/g,cTe=/[^!$%&'*+\-.^_`|~\w#]/g});function uTe(t){let e="";for(let r in t){let n=t[r];if(e.length+n.length+1<=1024){e.length?e+=","+n:e+=n;continue}break}return e}var dTe=y(()=>{"use strict"});var Bxt,vk,$xt,eu,mTe=y(()=>{"use strict";r0();ri();sTe();lTe();dTe();Bxt=t=>(e,r)=>async n=>{let{request:i}=n;if(!an.isInstance(i))return e(n);let{headers:o}=i,s=r?.userAgent?.map(vk)||[],a=(await t.defaultUserAgentProvider()).map(vk);await oTe(r,t,n);let c=r;a.push(`m/${uTe(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let l=t?.customUserAgent?.map(vk)||[],u=await t.userAgentAppId();u&&a.push(vk(["app",`${u}`]));let d=_6e(),p=(d?[d]:[]).concat([...a,...s,...l]).join(" "),f=[...a.filter(h=>h.startsWith("aws-sdk-")),...l].join(" ");return t.runtime!=="browser"?(f&&(o[bk]=o[bk]?`${o[fY]} ${f}`:f),o[fY]=p):o[bk]=p,e({...n,request:i})},vk=t=>{let e=t[0].split("/").map(s=>s.replace(aTe,"-")).join("/"),r=t[1]?.replace(cTe,"-"),n=e.indexOf("/"),i=e.substring(0,n),o=e.substring(n+1);return i==="api"&&(o=o.toLowerCase()),[i,o,r].filter(s=>s&&s.length>0).reduce((s,a,c)=>{switch(c){case 0:return a;case 1:return`${s}/${a}`;default:return`${s}#${a}`}},"")},$xt={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},eu=t=>({applyToStack:e=>{e.add(Bxt(t),$xt)}})});var l0=y(()=>{"use strict";yEe();mTe()});var TS,hTe=y(()=>{"use strict";TS=(t,e,r)=>{if(e in t){if(t[e]==="true")return!0;if(t[e]==="false")return!1;throw new Error(`Cannot load ${r} "${e}". Expected "true" or "false", got ${t[e]}.`)}}});var gTe=y(()=>{"use strict"});var u0,yTe=y(()=>{"use strict";(function(t){t.ENV="env",t.CONFIG="shared config entry"})(u0||(u0={}))});var hY=y(()=>{"use strict";hTe();gTe();yTe()});var Uxt,Fxt,tu,bTe=y(()=>{"use strict";hY();Uxt="AWS_USE_DUALSTACK_ENDPOINT",Fxt="use_dualstack_endpoint",tu={environmentVariableSelector:t=>TS(t,Uxt,u0.ENV),configFileSelector:t=>TS(t,Fxt,u0.CONFIG),default:!1}});var zxt,Vxt,ru,vTe=y(()=>{"use strict";hY();zxt="AWS_USE_FIPS_ENDPOINT",Vxt="use_fips_endpoint",ru={environmentVariableSelector:t=>TS(t,zxt,u0.ENV),configFileSelector:t=>TS(t,Vxt,u0.CONFIG),default:!1}});var _Te=y(()=>{"use strict"});var xTe=y(()=>{"use strict"});var STe=y(()=>{"use strict";bTe();vTe();_Te();xTe()});var Hxt,Gxt,Us,rc,wTe=y(()=>{"use strict";Hxt="AWS_REGION",Gxt="region",Us={environmentVariableSelector:t=>t[Hxt],configFileSelector:t=>t[Gxt],default:()=>{throw new Error("Region is missing")}},rc={preferredFile:"credentials"}});var ATe,ETe,TTe=y(()=>{"use strict";wd();ATe=new Set,ETe=(t,e=vb)=>{if(!ATe.has(t)&&!e(t))if(t==="*")console.warn('@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.');else throw new Error(`Region not accepted: region="${t}" is not a valid hostname component.`);else ATe.add(t)}});var _k,gY=y(()=>{"use strict";_k=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips"))});var RTe,ITe=y(()=>{"use strict";gY();RTe=t=>_k(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t});var nu,CTe=y(()=>{"use strict";TTe();ITe();gY();nu=t=>{let{region:e,useFipsEndpoint:r}=t;if(!e)throw new Error("Region is missing");return Object.assign(t,{region:async()=>{let n=typeof e=="function"?await e():e,i=RTe(n);return ETe(i),i},useFipsEndpoint:async()=>{let n=typeof e=="string"?e:await e();return _k(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})}});var NTe=y(()=>{"use strict";wTe();CTe()});var OTe=y(()=>{"use strict"});var PTe=y(()=>{"use strict"});var kTe=y(()=>{"use strict"});var DTe=y(()=>{"use strict";OTe();PTe();kTe()});var ba=y(()=>{"use strict";STe();NTe();DTe()});function jxt(t){return e=>async r=>{let n=r.request;if(an.isInstance(n)){let{body:i,headers:o}=n;if(i&&Object.keys(o).map(s=>s.toLowerCase()).indexOf(MTe)===-1)try{let s=t(i);n.headers={...n.headers,[MTe]:String(s)}}catch{}}return e({...r,request:n})}}var MTe,qxt,iu,Ab=y(()=>{"use strict";ri();MTe="content-length";qxt={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},iu=t=>({applyToStack:e=>{e.add(jxt(t.bodyLengthChecker),qxt)}})});var LTe,Jxt,Wxt,Kxt,Qxt,Xxt,BTe=y(()=>{"use strict";LTe=async t=>{let e=t?.Bucket||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),Xxt(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!Qxt(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t},Jxt=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,Wxt=/(\d+\.){3}\d+/,Kxt=/\.\./,Qxt=t=>Jxt.test(t)&&!Wxt.test(t)&&!Kxt.test(t),Xxt=t=>{let[e,r,n,,,i]=t.split(":"),o=e==="arn"&&t.split(":").length>=6,s=!!(o&&r&&n&&i);if(o&&!s)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return s}});var $Te=y(()=>{"use strict";BTe()});var UTe,FTe=y(()=>{"use strict";UTe=(t,e,r,n=!1)=>{let i=async()=>{let o;return n?o=r.clientContextParams?.[t]??r[t]??r[e]:o=r[t]??r[e],typeof o=="function"?o():o};return t==="credentialScope"||e==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:t==="accountId"||e==="AccountId"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.accountId??o?.AccountId}:t==="endpoint"||e==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let o=await i();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:s,hostname:a,port:c,path:l}=o;return`${s}//${a}${c?":"+c:""}${l}`}}return o}:i}});function xk(t){try{let e=new Set(Array.from(t.match(/([A-Z_]){3,}/g)??[]));return e.delete("CONFIG"),e.delete("CONFIG_PREFIX_SEPARATOR"),e.delete("ENV"),[...e].join(", ")}catch{return t}}var yY=y(()=>{"use strict"});var zTe,VTe=y(()=>{"use strict";hn();yY();zTe=(t,e)=>async()=>{try{let r=t(process.env,e);if(r===void 0)throw new Error;return r}catch(r){throw new gt(r.message||`Not found in ENV: ${xk(t.toString())}`,{logger:e?.logger})}}});import{homedir as Yxt}from"os";import{sep as Zxt}from"path";var bY,eSt,d0,RS=y(()=>{"use strict";bY={},eSt=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",d0=()=>{let{HOME:t,USERPROFILE:e,HOMEPATH:r,HOMEDRIVE:n=`C:${Zxt}`}=process.env;if(t)return t;if(e)return e;if(r)return`${n}${r}`;let i=eSt();return bY[i]||(bY[i]=Yxt()),bY[i]}});var vY,tSt,nc,HTe=y(()=>{"use strict";vY="AWS_PROFILE",tSt="default",nc=t=>t.profile||process.env[vY]||tSt});import{createHash as rSt}from"crypto";import{join as nSt}from"path";var Sk,_Y=y(()=>{"use strict";RS();Sk=t=>{let r=rSt("sha1").update(t).digest("hex");return nSt(d0(),".aws","sso","cache",`${r}.json`)}});import{readFile as iSt}from"fs/promises";var k3,D3,xY=y(()=>{"use strict";_Y();k3={},D3=async t=>{if(k3[t])return k3[t];let e=Sk(t),r=await iSt(e,"utf8");return JSON.parse(r)}});var GTe,jTe=y(()=>{"use strict";e0();GTe=t=>Object.entries(t).filter(([e])=>{let r=e.indexOf(".");return r===-1?!1:Object.values(um).includes(e.substring(0,r))}).reduce((e,[r,n])=>{let i=r.indexOf("."),o=r.substring(0,i)===um.PROFILE?r.substring(i+1):r;return e[o]=n,e},{...t.default&&{default:t.default}})});import{join as oSt}from"path";var sSt,wk,SY=y(()=>{"use strict";RS();sSt="AWS_CONFIG_FILE",wk=()=>process.env[sSt]||oSt(d0(),".aws","config")});import{join as aSt}from"path";var cSt,qTe,JTe=y(()=>{"use strict";RS();cSt="AWS_SHARED_CREDENTIALS_FILE",qTe=()=>process.env[cSt]||aSt(d0(),".aws","credentials")});var lSt,uSt,M3,wY=y(()=>{"use strict";e0();lSt=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,uSt=["__proto__","profile __proto__"],M3=t=>{let e={},r,n;for(let i of t.split(/\r?\n/)){let o=i.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){r=void 0,n=void 0;let a=o.substring(1,o.length-1),c=lSt.exec(a);if(c){let[,l,,u]=c;Object.values(um).includes(l)&&(r=[l,u].join("."))}else r=a;if(uSt.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=o.indexOf("=");if(![0,-1].includes(a)){let[c,l]=[o.substring(0,a).trim(),o.substring(a+1).trim()];if(l==="")n=c;else{n&&i.trimStart()===i&&(n=void 0),e[r]=e[r]||{};let u=n?[n,c].join("."):c;e[r][u]=l}}}}return e}});import{readFile as dSt}from"node:fs/promises";var AY,L3,p0,B3=y(()=>{"use strict";AY={},L3={},p0=(t,e)=>L3[t]!==void 0?L3[t]:((!AY[t]||e?.ignoreCache)&&(AY[t]=dSt(t,"utf8")),AY[t])});import{join as WTe}from"path";var KTe,Ak,EY=y(()=>{"use strict";jTe();SY();JTe();RS();wY();B3();KTe=()=>({}),Ak=async(t={})=>{let{filepath:e=qTe(),configFilepath:r=wk()}=t,n=d0(),i="~/",o=e;e.startsWith(i)&&(o=WTe(n,e.slice(2)));let s=r;r.startsWith(i)&&(s=WTe(n,r.slice(2)));let a=await Promise.all([p0(s,{ignoreCache:t.ignoreCache}).then(M3).then(GTe).catch(KTe),p0(o,{ignoreCache:t.ignoreCache}).then(M3).catch(KTe)]);return{configFile:a[0],credentialsFile:a[1]}}});var QTe,XTe=y(()=>{"use strict";e0();QTe=t=>Object.entries(t).filter(([e])=>e.startsWith(um.SSO_SESSION+".")).reduce((e,[r,n])=>({...e,[r.substring(r.indexOf(".")+1)]:n}),{})});var pSt,Ek,YTe=y(()=>{"use strict";SY();XTe();wY();B3();pSt=()=>({}),Ek=async(t={})=>p0(t.configFilepath??wk()).then(M3).then(QTe).catch(pSt)});var ZTe,eRe=y(()=>{"use strict";ZTe=(...t)=>{let e={};for(let r of t)for(let[n,i]of Object.entries(r))e[n]!==void 0?Object.assign(e[n],i):e[n]=i;return e}});var Up,tRe=y(()=>{"use strict";EY();eRe();Up=async t=>{let e=await Ak(t);return ZTe(e.configFile,e.credentialsFile)}});var $3,rRe=y(()=>{"use strict";xY();B3();$3={getFileRecord(){return L3},interceptFile(t,e){L3[t]=Promise.resolve(e)},getTokenRecord(){return k3},interceptToken(t,e){k3[t]=e}}});var nRe=y(()=>{"use strict"});var ic=y(()=>{"use strict";RS();HTe();_Y();xY();EY();YTe();tRe();rRe();nRe();B3()});var iRe,oRe=y(()=>{"use strict";hn();ic();yY();iRe=(t,{preferredFile:e="config",...r}={})=>async()=>{let n=nc(r),{configFile:i,credentialsFile:o}=await Ak(r),s=o[n]||{},a=i[n]||{},c=e==="config"?{...s,...a}:{...a,...s};try{let u=t(c,e==="config"?i:o);if(u===void 0)throw new Error;return u}catch(l){throw new gt(l.message||`Not found in config files w/ profile [${n}]: ${xk(t.toString())}`,{logger:r.logger})}}});var fSt,sRe,aRe=y(()=>{"use strict";hn();fSt=t=>typeof t=="function",sRe=t=>fSt(t)?async()=>await t():Z6e(t)});var Rt,cRe=y(()=>{"use strict";hn();VTe();oRe();aRe();Rt=({environmentVariableSelector:t,configFileSelector:e,default:r},n={})=>{let{signingName:i,logger:o}=n;return KP(bS(zTe(t,{signingName:i,logger:o}),iRe(e,n),sRe(r)))}});var ou=y(()=>{"use strict";cRe()});var lRe,uRe,dRe,pRe=y(()=>{"use strict";lRe="AWS_ENDPOINT_URL",uRe="endpoint_url",dRe=t=>({environmentVariableSelector:e=>{let r=t.split(" ").map(o=>o.toUpperCase()),n=e[[lRe,...r].join("_")];if(n)return n;let i=e[lRe];if(i)return i},configFileSelector:(e,r)=>{if(r&&e.services){let i=r[["services",e.services].join(".")];if(i){let o=t.split(" ").map(a=>a.toLowerCase()),s=i[[o.join("_"),uRe].join(".")];if(s)return s}}let n=e[uRe];if(n)return n},default:void 0})});var Tk,TY=y(()=>{"use strict";ou();pRe();Tk=async t=>Rt(dRe(t??""))()});var Rk,Ik=y(()=>{"use strict";bm();Rk=t=>typeof t=="object"?"url"in t?Fo(t.url):t:Fo(t)});var fRe,mSt,RY=y(()=>{"use strict";$Te();FTe();TY();Ik();fRe=async(t,e,r,n)=>{if(!r.isCustomEndpoint){let s;r.serviceConfiguredEndpoint?s=await r.serviceConfiguredEndpoint():s=await Tk(r.serviceId),s&&(r.endpoint=()=>Promise.resolve(Rk(s)),r.isCustomEndpoint=!0)}let i=await mSt(t,e,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(i,n)},mSt=async(t,e,r)=>{let n={},i=e?.getEndpointParameterInstructions?.()||{};for(let[o,s]of Object.entries(i))switch(s.type){case"staticContextParams":n[o]=s.value;break;case"contextParams":n[o]=t[s.name];break;case"clientContextParams":case"builtInParams":n[o]=await UTe(s.name,o,r,s.type!=="builtInParams")();break;case"operationContextParams":n[o]=s.get(t);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(s))}return Object.keys(i).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await LTe(n),n}});var mRe=y(()=>{"use strict";RY();Ik()});var hRe,IY=y(()=>{"use strict";Fn();Ds();RY();hRe=({config:t,instructions:e})=>(r,n)=>async i=>{t.isCustomEndpoint&&sEe(n,"ENDPOINT_OVERRIDE","N");let o=await fRe(i.input,{getEndpointParameterInstructions(){return e}},{...t},n);n.endpointV2=o,n.authSchemes=o.properties?.authSchemes;let s=n.authSchemes?.[0];if(s){n.signing_region=s.signingRegion,n.signing_service=s.signingName;let c=Ri(n)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:s.signingRegion,signingRegion:s.signingRegion,signing_service:s.signingName,signingName:s.signingName,signingRegionSet:s.signingRegionSet},s.properties))}return r({...i})}});var hSt,ae,gRe=y(()=>{"use strict";qQ();IY();hSt={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:EP.name},ae=(t,e)=>({applyToStack:r=>{r.addRelativeTo(hRe({config:t,instructions:e}),hSt)}})});var su,yRe=y(()=>{"use strict";Ds();TY();Ik();su=t=>{let e=t.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:i}=t,o=r!=null?async()=>Rk(await cn(r)()):void 0,a=Object.assign(t,{endpoint:o,tls:e,isCustomEndpoint:!!r,useDualstackEndpoint:cn(n??!1),useFipsEndpoint:cn(i??!1)}),c;return a.serviceConfiguredEndpoint=async()=>(t.serviceId&&!c&&(c=Tk(t.serviceId)),c),a}});var bRe=y(()=>{"use strict"});var vRe=y(()=>{"use strict"});var Ge=y(()=>{"use strict";mRe();IY();gRe();yRe();bRe();vRe()});var _m,IS,oc,Ck=y(()=>{"use strict";(function(t){t.STANDARD="standard",t.ADAPTIVE="adaptive"})(_m||(_m={}));IS=3,oc=_m.STANDARD});var _Re,xRe,SRe,wRe,ARe,ERe=y(()=>{"use strict";_Re=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],xRe=["TimeoutError","RequestTimeout","RequestTimeoutException"],SRe=[500,502,503,504],wRe=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],ARe=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"]});var gSt,ySt,bSt,Nk,Ok,TRe,CY=y(()=>{"use strict";ERe();gSt=t=>t?.$retryable!==void 0,ySt=t=>t.$metadata?.clockSkewCorrected,bSt=t=>{let e=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return t&&t instanceof TypeError?e.has(t.message):!1},Nk=t=>t.$metadata?.httpStatusCode===429||_Re.includes(t.name)||t.$retryable?.throttling==!0,Ok=(t,e=0)=>gSt(t)||ySt(t)||xRe.includes(t.name)||wRe.includes(t?.code||"")||ARe.includes(t?.code||"")||SRe.includes(t.$metadata?.httpStatusCode||0)||bSt(t)||t.cause!==void 0&&e<=10&&Ok(t.cause,e+1),TRe=t=>{if(t.$metadata?.httpStatusCode!==void 0){let e=t.$metadata.httpStatusCode;return 500<=e&&e<=599&&!Ok(t)}return!1}});var Pk,NY=y(()=>{"use strict";CY();Pk=class t{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(e){this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){let r=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>t.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){let e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}let r=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=e}updateClientSendingRate(e){let r;if(this.updateMeasuredRate(),Nk(e)){let i=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=i,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(i),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let e=this.getCurrentTimeInSeconds(),r=Math.floor(e*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(e){return parseFloat(e.toFixed(8))}}});var RRe,IRe,CRe=y(()=>{"use strict";RRe="amz-sdk-invocation-id",IRe="amz-sdk-request"});var ORe,PRe=y(()=>{"use strict";ORe=()=>{let t=100;return{computeNextBackoffDelay:n=>Math.floor(Math.min(2e4,Math.random()*2**n*t)),setDelayBase:n=>{t=n}}}});var OY,kRe=y(()=>{"use strict";OY=({retryDelay:t,retryCount:e,retryCost:r})=>({getRetryCount:()=>e,getRetryDelay:()=>Math.min(2e4,t),getRetryCost:()=>r})});var CS,PY=y(()=>{"use strict";Ck();PRe();kRe();CS=class{maxAttempts;mode=_m.STANDARD;capacity=500;retryBackoffStrategy=ORe();maxAttemptsProvider;constructor(e){this.maxAttempts=e,this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}async acquireInitialRetryToken(e){return OY({retryDelay:100,retryCount:0})}async refreshRetryTokenForRetry(e,r){let n=await this.getMaxAttempts();if(this.shouldRetry(e,r,n)){let i=r.errorType;this.retryBackoffStrategy.setDelayBase(i==="THROTTLING"?500:100);let o=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),s=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,o):o,a=this.getCapacityCost(i);return this.capacity-=a,OY({retryDelay:s,retryCount:e.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(500,this.capacity+(e.getRetryCost()??1))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${IS}`),IS}}shouldRetry(e,r,n){return e.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(e){return e==="TRANSIENT"?10:5}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}}});var kk,DRe=y(()=>{"use strict";Ck();NY();PY();kk=class{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=_m.ADAPTIVE;constructor(e,r){this.maxAttemptsProvider=e;let{rateLimiter:n}=r??{};this.rateLimiter=n??new Pk,this.standardRetryStrategy=new CS(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(e,r)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}});var MRe=y(()=>{"use strict"});var LRe=y(()=>{"use strict"});var xm=y(()=>{"use strict";DRe();MRe();NY();PY();Ck();CRe();LRe()});var BRe=y(()=>{"use strict"});var $Re=y(()=>{"use strict"});var URe,FRe=y(()=>{"use strict";URe=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`)});var zRe=y(()=>{"use strict"});var VRe=y(()=>{"use strict"});var HRe,GRe,au,cu,xSt,SSt,lu,jRe=y(()=>{"use strict";Ds();xm();HRe="AWS_MAX_ATTEMPTS",GRe="max_attempts",au={environmentVariableSelector:t=>{let e=t[HRe];if(!e)return;let r=parseInt(e);if(Number.isNaN(r))throw new Error(`Environment variable ${HRe} mast be a number, got "${e}"`);return r},configFileSelector:t=>{let e=t[GRe];if(!e)return;let r=parseInt(e);if(Number.isNaN(r))throw new Error(`Shared config file entry ${GRe} mast be a number, got "${e}"`);return r},default:IS},cu=t=>{let{retryStrategy:e,retryMode:r,maxAttempts:n}=t,i=cn(n??IS);return Object.assign(t,{maxAttempts:i,retryStrategy:async()=>e||(await cn(r)()===_m.ADAPTIVE?new kk(i):new CS(i))})},xSt="AWS_RETRY_MODE",SSt="retry_mode",lu={environmentVariableSelector:t=>t[xSt],configFileSelector:t=>t[SSt],default:oc}});var qRe=y(()=>{"use strict"});import{Readable as wSt}from"stream";var JRe,WRe=y(()=>{"use strict";JRe=t=>t?.body instanceof wSt||typeof ReadableStream<"u"&&t?.body instanceof ReadableStream});var ASt,ESt,TSt,RSt,ISt,uu,CSt,KRe=y(()=>{"use strict";ri();CY();Ae();xm();fX();WRe();FRe();ASt=t=>(e,r)=>async n=>{let i=await t.retryStrategy(),o=await t.maxAttempts();if(ESt(i)){i=i;let s=await i.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,l=0,{request:u}=n,d=an.isInstance(u);for(d&&(u.headers[RRe]=mm());;)try{d&&(u.headers[IRe]=`attempt=${c+1}; max=${o}`);let{response:p,output:f}=await e(n);return i.recordSuccess(s),f.$metadata.attempts=c+1,f.$metadata.totalRetryDelay=l,{response:p,output:f}}catch(p){let f=TSt(p);if(a=URe(p),d&&JRe(u))throw(r.logger instanceof $s?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{s=await i.refreshRetryTokenForRetry(s,f)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=l,a}c=s.getRetryCount();let h=s.getRetryDelay();l+=h,await new Promise(m=>setTimeout(m,h))}}else return i=i,i?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",i.mode]]),i.retry(e,n)},ESt=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",TSt=t=>{let e={error:t,errorType:RSt(t)},r=CSt(t.$response);return r&&(e.retryAfterHint=r),e},RSt=t=>Nk(t)?"THROTTLING":Ok(t)?"TRANSIENT":TRe(t)?"SERVER_ERROR":"CLIENT_ERROR",ISt={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},uu=t=>({applyToStack:e=>{e.add(ASt(t),ISt)}}),CSt=t=>{if(!Nl.isInstance(t))return;let e=Object.keys(t.headers).find(o=>o.toLowerCase()==="retry-after");if(!e)return;let r=t.headers[e],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)}});var Jc=y(()=>{"use strict";VRe();zRe();jRe();BRe();qRe();$Re();KRe()});function NSt(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"secretsmanager",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}var QRe,XRe,YRe,kY=y(()=>{"use strict";uo();Ds();QRe=async(t,e,r)=>({operation:Ri(e).operation,region:await cn(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});XRe=t=>{let e=[];switch(t.operation){default:e.push(NSt(t))}return e},YRe=t=>{let e=Jl(t);return Object.assign(e,{authSchemePreference:cn(t.authSchemePreference??[])})}});var ZRe,rr,Kn=y(()=>{"use strict";ZRe=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"secretsmanager"}),rr={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var t8e,e8e=y(()=>{t8e={name:"@aws-sdk/client-secrets-manager",description:"AWS SDK for JavaScript Secrets Manager Client for Node.js, Browser and React Native",version:"3.980.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-secrets-manager","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"premove dist-cjs dist-es dist-types tsconfig.cjs.tsbuildinfo tsconfig.es.tsbuildinfo tsconfig.types.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo secrets-manager","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"^3.973.5","@aws-sdk/credential-provider-node":"^3.972.4","@aws-sdk/middleware-host-header":"^3.972.3","@aws-sdk/middleware-logger":"^3.972.3","@aws-sdk/middleware-recursion-detection":"^3.972.3","@aws-sdk/middleware-user-agent":"^3.972.5","@aws-sdk/region-config-resolver":"^3.972.3","@aws-sdk/types":"^3.973.1","@aws-sdk/util-endpoints":"3.980.0","@aws-sdk/util-user-agent-browser":"^3.972.3","@aws-sdk/util-user-agent-node":"^3.972.3","@smithy/config-resolver":"^4.4.6","@smithy/core":"^3.22.0","@smithy/fetch-http-handler":"^5.3.9","@smithy/hash-node":"^4.2.8","@smithy/invalid-dependency":"^4.2.8","@smithy/middleware-content-length":"^4.2.8","@smithy/middleware-endpoint":"^4.4.12","@smithy/middleware-retry":"^4.4.29","@smithy/middleware-serde":"^4.2.9","@smithy/middleware-stack":"^4.2.8","@smithy/node-config-provider":"^4.3.8","@smithy/node-http-handler":"^4.4.8","@smithy/protocol-http":"^5.3.8","@smithy/smithy-client":"^4.11.1","@smithy/types":"^4.12.0","@smithy/url-parser":"^4.2.8","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.28","@smithy/util-defaults-mode-node":"^4.2.31","@smithy/util-endpoints":"^3.2.8","@smithy/util-middleware":"^4.2.8","@smithy/util-retry":"^4.2.8","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node20":"20.1.8","@types/node":"^20.14.8",concurrently:"7.0.0","downlevel-dts":"0.10.1",premove:"4.0.0",typescript:"~5.8.3"},engines:{node:">=20.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-secrets-manager",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-secrets-manager"}}});var Dk,Mk,r8e,n8e,i8e,o8e,DY,s8e=y(()=>{"use strict";os();hn();Dk="AWS_ACCESS_KEY_ID",Mk="AWS_SECRET_ACCESS_KEY",r8e="AWS_SESSION_TOKEN",n8e="AWS_CREDENTIAL_EXPIRATION",i8e="AWS_CREDENTIAL_SCOPE",o8e="AWS_ACCOUNT_ID",DY=t=>async()=>{t?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let e=process.env[Dk],r=process.env[Mk],n=process.env[r8e],i=process.env[n8e],o=process.env[i8e],s=process.env[o8e];if(e&&r){let a={accessKeyId:e,secretAccessKey:r,...n&&{sessionToken:n},...i&&{expiration:new Date(i)},...o&&{credentialScope:o},...s&&{accountId:s}};return Dr(a,"CREDENTIALS_ENV_VARS","g"),a}throw new gt("Unable to find environment variable credentials.",{logger:t?.logger})}});var a8e={};wr(a8e,{ENV_ACCOUNT_ID:()=>o8e,ENV_CREDENTIAL_SCOPE:()=>i8e,ENV_EXPIRATION:()=>n8e,ENV_KEY:()=>Dk,ENV_SECRET:()=>Mk,ENV_SESSION:()=>r8e,fromEnv:()=>DY});var MY=y(()=>{"use strict";s8e()});import{Buffer as PSt}from"buffer";import{request as kSt}from"http";function f0(t){return new Promise((e,r)=>{let n=kSt({method:"GET",...t,hostname:t.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",i=>{r(Object.assign(new jl("Unable to connect to instance metadata service"),i)),n.destroy()}),n.on("timeout",()=>{r(new jl("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",i=>{let{statusCode:o=400}=i;(o<200||300<=o)&&(r(Object.assign(new jl("Error response received from instance metadata service"),{statusCode:o})),n.destroy());let s=[];i.on("data",a=>{s.push(a)}),i.on("end",()=>{e(PSt.concat(s)),n.destroy()})}),n.end()})}var Lk=y(()=>{"use strict";hn()});var Bk,$k,LY=y(()=>{"use strict";Bk=t=>!!t&&typeof t=="object"&&typeof t.AccessKeyId=="string"&&typeof t.SecretAccessKey=="string"&&typeof t.Token=="string"&&typeof t.Expiration=="string",$k=t=>({accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,sessionToken:t.Token,expiration:new Date(t.Expiration),...t.AccountId&&{accountId:t.AccountId}})});var ukr,dkr,U3,Uk=y(()=>{"use strict";ukr=1e3,dkr=0,U3=({maxRetries:t=0,timeout:e=1e3})=>({maxRetries:t,timeout:e})});var F3,BY=y(()=>{"use strict";F3=(t,e)=>{let r=t();for(let n=0;n<e;n++)r=r.catch(t);return r}});import{parse as DSt}from"url";var Fk,zk,$Y,MSt,LSt,BSt,$St,USt,FSt,c8e=y(()=>{"use strict";hn();Lk();LY();Uk();BY();Fk="AWS_CONTAINER_CREDENTIALS_FULL_URI",zk="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",$Y="AWS_CONTAINER_AUTHORIZATION_TOKEN",MSt=(t={})=>{let{timeout:e,maxRetries:r}=U3(t);return()=>F3(async()=>{let n=await FSt({logger:t.logger}),i=JSON.parse(await LSt(e,n));if(!Bk(i))throw new gt("Invalid response received from instance metadata service.",{logger:t.logger});return $k(i)},r)},LSt=async(t,e)=>(process.env[$Y]&&(e.headers={...e.headers,Authorization:process.env[$Y]}),(await f0({...e,timeout:t})).toString()),BSt="169.254.170.2",$St={localhost:!0,"127.0.0.1":!0},USt={"http:":!0,"https:":!0},FSt=async({logger:t})=>{if(process.env[zk])return{hostname:BSt,path:process.env[zk]};if(process.env[Fk]){let e=DSt(process.env[Fk]);if(!e.hostname||!(e.hostname in $St))throw new gt(`${e.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:t});if(!e.protocol||!(e.protocol in USt))throw new gt(`${e.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:t});return{...e,port:e.port?parseInt(e.port,10):void 0}}throw new gt(`The container metadata credential provider cannot be used unless the ${zk} or ${Fk} environment variable is set`,{tryNextLink:!1,logger:t})}});var Vk,l8e=y(()=>{"use strict";hn();Vk=class t extends gt{tryNextLink;name="InstanceMetadataV1FallbackError";constructor(e,r=!0){super(e,r),this.tryNextLink=r,Object.setPrototypeOf(this,t.prototype)}}});var Tb,UY=y(()=>{"use strict";(function(t){t.IPv4="http://169.254.169.254",t.IPv6="http://[fd00:ec2::254]"})(Tb||(Tb={}))});var zSt,VSt,u8e,d8e=y(()=>{"use strict";zSt="AWS_EC2_METADATA_SERVICE_ENDPOINT",VSt="ec2_metadata_service_endpoint",u8e={environmentVariableSelector:t=>t[zSt],configFileSelector:t=>t[VSt],default:void 0}});var m0,FY=y(()=>{"use strict";(function(t){t.IPv4="IPv4",t.IPv6="IPv6"})(m0||(m0={}))});var HSt,GSt,p8e,f8e=y(()=>{"use strict";FY();HSt="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",GSt="ec2_metadata_service_endpoint_mode",p8e={environmentVariableSelector:t=>t[HSt],configFileSelector:t=>t[GSt],default:m0.IPv4}});var Hk,jSt,qSt,zY=y(()=>{"use strict";ou();bm();UY();d8e();FY();f8e();Hk=async()=>Fo(await jSt()||await qSt()),jSt=async()=>Rt(u8e)(),qSt=async()=>{let t=await Rt(p8e)();switch(t){case m0.IPv4:return Tb.IPv4;case m0.IPv6:return Tb.IPv6;default:throw new Error(`Unsupported endpoint mode: ${t}. Select from ${Object.values(m0)}`)}}});var JSt,VY,m8e=y(()=>{"use strict";JSt="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",VY=(t,e)=>{let r=300+Math.floor(Math.random()*300),n=new Date(Date.now()+r*1e3);e.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+JSt);let i=t.originalExpiration??t.expiration;return{...t,...i?{originalExpiration:i}:{},expiration:n}}});var h8e,g8e=y(()=>{"use strict";m8e();h8e=(t,e={})=>{let r=e?.logger||console,n;return async()=>{let i;try{i=await t(),i.expiration&&i.expiration.getTime()<Date.now()&&(i=VY(i,r))}catch(o){if(n)r.warn("Credential renew failed: ",o),i=VY(n,r);else throw o}return n=i,i}}});var v8e,WSt,HY,y8e,b8e,KSt,QSt,XSt,YSt,ZSt,_8e=y(()=>{"use strict";ou();hn();l8e();Lk();LY();Uk();BY();zY();g8e();v8e="/latest/meta-data/iam/security-credentials/",WSt="/latest/api/token",HY="AWS_EC2_METADATA_V1_DISABLED",y8e="ec2_metadata_v1_disabled",b8e="x-aws-ec2-metadata-token",KSt=(t={})=>h8e(QSt(t),{logger:t.logger}),QSt=(t={})=>{let e=!1,{logger:r,profile:n}=t,{timeout:i,maxRetries:o}=U3(t),s=async(a,c)=>{if(e||c.headers?.[b8e]==null){let d=!1,p=!1,f=await Rt({environmentVariableSelector:h=>{let m=h[HY];if(p=!!m&&m!=="false",m===void 0)throw new gt(`${HY} not set in env, checking config file next.`,{logger:t.logger});return p},configFileSelector:h=>{let m=h[y8e];return d=!!m&&m!=="false",d},default:!1},{profile:n})();if(t.ec2MetadataV1Disabled||f){let h=[];throw t.ec2MetadataV1Disabled&&h.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),d&&h.push(`config file profile (${y8e})`),p&&h.push(`process environment variable (${HY})`),new Vk(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${h.join(", ")}].`)}}let u=(await F3(async()=>{let d;try{d=await YSt(c)}catch(p){throw p.statusCode===401&&(e=!1),p}return d},a)).trim();return F3(async()=>{let d;try{d=await ZSt(u,c,t)}catch(p){throw p.statusCode===401&&(e=!1),p}return d},a)};return async()=>{let a=await Hk();if(e)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),s(o,{...a,timeout:i});{let c;try{c=(await XSt({...a,timeout:i})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(e=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),s(o,{...a,timeout:i})}return s(o,{...a,headers:{[b8e]:c},timeout:i})}}},XSt=async t=>f0({...t,path:WSt,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),YSt=async t=>(await f0({...t,path:v8e})).toString(),ZSt=async(t,e,r)=>{let n=JSON.parse((await f0({...e,path:v8e+t})).toString());if(!Bk(n))throw new gt("Invalid response received from instance metadata service.",{logger:r.logger});return $k(n)}});var x8e=y(()=>{"use strict"});var z3={};wr(z3,{DEFAULT_MAX_RETRIES:()=>dkr,DEFAULT_TIMEOUT:()=>ukr,ENV_CMDS_AUTH_TOKEN:()=>$Y,ENV_CMDS_FULL_URI:()=>Fk,ENV_CMDS_RELATIVE_URI:()=>zk,Endpoint:()=>Tb,fromContainerMetadata:()=>MSt,fromInstanceMetadata:()=>KSt,getInstanceMetadataEndpoint:()=>Hk,httpRequest:()=>f0,providerConfigFromInit:()=>U3});var V3=y(()=>{"use strict";c8e();_8e();Uk();x8e();Lk();zY();UY()});var ewt,twt,rwt,S8e,w8e=y(()=>{"use strict";hn();ewt="169.254.170.2",twt="169.254.170.23",rwt="[fd00:ec2::23]",S8e=(t,e)=>{if(t.protocol!=="https:"&&!(t.hostname===ewt||t.hostname===twt||t.hostname===rwt)){if(t.hostname.includes("[")){if(t.hostname==="[::1]"||t.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(t.hostname==="localhost")return;let r=t.hostname.split("."),n=i=>{let o=parseInt(i,10);return 0<=o&&o<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new gt(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:e})}}});function A8e(t){return new an({protocol:t.protocol,hostname:t.hostname,port:Number(t.port),path:t.pathname,query:Array.from(t.searchParams.entries()).reduce((e,[r,n])=>(e[r]=n,e),{}),fragment:t.hash})}async function E8e(t,e){let n=await CP(t.body).transformToString();if(t.statusCode===200){let i=JSON.parse(n);if(typeof i.AccessKeyId!="string"||typeof i.SecretAccessKey!="string"||typeof i.Token!="string"||typeof i.Expiration!="string")throw new gt("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:e});return{accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.Token,expiration:R4e(i.Expiration)}}if(t.statusCode>=400&&t.statusCode<500){let i={};try{i=JSON.parse(n)}catch{}throw Object.assign(new gt(`Server responded with status: ${t.statusCode}`,{logger:e}),{Code:i.Code,Message:i.Message})}throw new gt(`Server responded with status: ${t.statusCode}`,{logger:e})}var T8e=y(()=>{"use strict";hn();ri();Ae();NP()});var R8e,I8e=y(()=>{"use strict";R8e=(t,e,r)=>async()=>{for(let n=0;n<e;++n)try{return await t()}catch{await new Promise(o=>setTimeout(o,r))}return await t()}});import nwt from"fs/promises";var iwt,owt,swt,awt,cwt,C8e,N8e=y(()=>{"use strict";os();pm();hn();w8e();T8e();I8e();iwt="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",owt="http://169.254.170.2",swt="AWS_CONTAINER_CREDENTIALS_FULL_URI",awt="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",cwt="AWS_CONTAINER_AUTHORIZATION_TOKEN",C8e=(t={})=>{t.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let e,r=t.awsContainerCredentialsRelativeUri??process.env[iwt],n=t.awsContainerCredentialsFullUri??process.env[swt],i=t.awsContainerAuthorizationToken??process.env[cwt],o=t.awsContainerAuthorizationTokenFile??process.env[awt],s=t.logger?.constructor?.name==="NoOpLogger"||!t.logger?.warn?console.warn:t.logger.warn.bind(t.logger);if(r&&n&&(s("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),s("awsContainerCredentialsFullUri will take precedence.")),i&&o&&(s("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),s("awsContainerAuthorizationToken will take precedence.")),n)e=n;else if(r)e=`${owt}${r}`;else throw new gt(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:t.logger});let a=new URL(e);S8e(a,t.logger);let c=Ls.create({requestTimeout:t.timeout??1e3,connectionTimeout:t.timeout??1e3});return R8e(async()=>{let l=A8e(a);i?l.headers.Authorization=i:o&&(l.headers.Authorization=(await nwt.readFile(o)).toString());try{let u=await c.handle(l);return E8e(u.response).then(d=>Dr(d,"CREDENTIALS_HTTP","z"))}catch(u){throw new gt(String(u),{logger:t.logger})}},t.maxRetries??3,t.timeout??1e3)}});var GY={};wr(GY,{fromHttp:()=>C8e});var jY=y(()=>{"use strict";N8e()});var O8e,P8e,k8e=y(()=>{"use strict";hn();O8e="AWS_EC2_METADATA_DISABLED",P8e=async t=>{let{ENV_CMDS_FULL_URI:e,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:i}=await Promise.resolve().then(()=>(V3(),z3));if(process.env[r]||process.env[e]){t.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:o}=await Promise.resolve().then(()=>(jY(),GY));return bS(o(t),n(t))}return process.env[O8e]&&process.env[O8e]!=="false"?async()=>{throw new gt("EC2 Instance Metadata Service access disabled",{logger:t.logger})}:(t.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),i(t))}});function D8e(t,e){let r=lwt(t),n,i,o,s=async a=>{if(a?.forceRefresh)return await r(a);if(o?.expiration&&o?.expiration?.getTime()<Date.now()&&(o=void 0),n)await n;else if(!o||e?.(o))if(o)i||(i=r(a).then(c=>{o=c}).finally(()=>{i=void 0}));else return n=r(a).then(c=>{o=c}).finally(()=>{n=void 0}),s(a);return o};return s}var lwt,M8e=y(()=>{"use strict";lwt=t=>async e=>{let r;for(let n of t)try{return await n(e)}catch(i){if(r=i,i?.tryNextLink)continue;throw i}throw r}});var qY,JY=y(()=>{"use strict";qY=t=>t&&(typeof t.sso_start_url=="string"||typeof t.sso_account_id=="string"||typeof t.sso_session=="string"||typeof t.sso_region=="string"||typeof t.sso_role_name=="string")});var L8e=y(()=>{"use strict"});var NS,Gk=y(()=>{"use strict";NS="To refresh this SSO session run 'aws sso login' with the corresponding profile."});function uwt(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function dwt(t){return{schemeId:"smithy.api#noAuth"}}var B8e,$8e,U8e,WY=y(()=>{"use strict";uo();Ds();B8e=async(t,e,r)=>({operation:Ri(e).operation,region:await cn(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});$8e=t=>{let e=[];switch(t.operation){case"CreateToken":{e.push(dwt(t));break}default:e.push(uwt(t))}return e},U8e=t=>{let e=Jl(t);return Object.assign(e,{authSchemePreference:cn(t.authSchemePreference??[])})}});var F8e,z8e,KY=y(()=>{"use strict";F8e=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),z8e={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var OS,jk=y(()=>{OS={name:"@aws-sdk/nested-clients",version:"3.980.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"premove dist-cjs dist-es dist-types tsconfig.cjs.tsbuildinfo tsconfig.es.tsbuildinfo tsconfig.types.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=20.0.0"},sideEffects:!1,author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"^3.973.5","@aws-sdk/middleware-host-header":"^3.972.3","@aws-sdk/middleware-logger":"^3.972.3","@aws-sdk/middleware-recursion-detection":"^3.972.3","@aws-sdk/middleware-user-agent":"^3.972.5","@aws-sdk/region-config-resolver":"^3.972.3","@aws-sdk/types":"^3.973.1","@aws-sdk/util-endpoints":"3.980.0","@aws-sdk/util-user-agent-browser":"^3.972.3","@aws-sdk/util-user-agent-node":"^3.972.3","@smithy/config-resolver":"^4.4.6","@smithy/core":"^3.22.0","@smithy/fetch-http-handler":"^5.3.9","@smithy/hash-node":"^4.2.8","@smithy/invalid-dependency":"^4.2.8","@smithy/middleware-content-length":"^4.2.8","@smithy/middleware-endpoint":"^4.4.12","@smithy/middleware-retry":"^4.4.29","@smithy/middleware-serde":"^4.2.9","@smithy/middleware-stack":"^4.2.8","@smithy/node-config-provider":"^4.3.8","@smithy/node-http-handler":"^4.4.8","@smithy/protocol-http":"^5.3.8","@smithy/smithy-client":"^4.11.1","@smithy/types":"^4.12.0","@smithy/url-parser":"^4.2.8","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.28","@smithy/util-defaults-mode-node":"^4.2.31","@smithy/util-endpoints":"^3.2.8","@smithy/util-middleware":"^4.2.8","@smithy/util-retry":"^4.2.8","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",premove:"4.0.0",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./signin.d.ts","./signin.js","./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/signin/runtimeConfig":"./dist-es/submodules/signin/runtimeConfig.browser","./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./package.json":"./package.json","./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"},"./signin":{types:"./dist-types/submodules/signin/index.d.ts",module:"./dist-es/submodules/signin/index.js",node:"./dist-cjs/submodules/signin/index.js",import:"./dist-es/submodules/signin/index.js",require:"./dist-cjs/submodules/signin/index.js"}}}});var V8e,H8e=y(()=>{"use strict";V8e={isCrtAvailable:!1}});var G8e,j8e=y(()=>{"use strict";H8e();G8e=()=>V8e.isCrtAvailable?["md/crt-avail"]:null});import{platform as fwt,release as mwt}from"os";import{env as q8e,versions as hwt}from"process";var du,J8e=y(()=>{"use strict";j8e();du=({serviceId:t,clientVersion:e})=>async r=>{let n=[["aws-sdk-js",e],["ua","2.1"],[`os/${fwt()}`,mwt()],["lang/js"],["md/nodejs",`${hwt.node}`]],i=G8e();i&&n.push(i),t&&n.push([`api/${t}`,e]),q8e.AWS_EXECUTION_ENV&&n.push([`exec-env/${q8e.AWS_EXECUTION_ENV}`]);let o=await r?.userAgentAppId?.();return o?[...n,[`app/${o}`]]:[...n]}});var gwt,ywt,bwt,pu,W8e=y(()=>{"use strict";l0();gwt="AWS_SDK_UA_APP_ID",ywt="sdk_ua_app_id",bwt="sdk-ua-app-id",pu={environmentVariableSelector:t=>t[gwt],configFileSelector:t=>t[ywt]??t[bwt],default:xX}});var Rb=y(()=>{"use strict";J8e();W8e()});import{Buffer as vwt}from"buffer";import{createHash as _wt,createHmac as xwt}from"crypto";function K8e(t,e){return vwt.isBuffer(t)?t:typeof t=="string"?aS(t,e):ArrayBuffer.isView(t)?dm(t.buffer,t.byteOffset,t.byteLength):dm(t)}var sc,Ib=y(()=>{"use strict";hb();Fi();sc=class{algorithmIdentifier;secret;hash;constructor(e,r){this.algorithmIdentifier=e,this.secret=r,this.reset()}update(e,r){this.hash.update(Sd(K8e(e,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?xwt(this.algorithmIdentifier,K8e(this.secret)):_wt(this.algorithmIdentifier)}}});import{fstatSync as Swt,lstatSync as wwt,ReadStream as Awt}from"node:fs";var fu,Q8e=y(()=>{"use strict";fu=t=>{if(!t)return 0;if(typeof t=="string")return Buffer.byteLength(t);if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size;if(typeof t.start=="number"&&typeof t.end=="number")return t.end+1-t.start;if(t instanceof Awt){if(t.path!=null)return wwt(t.path).size;if(typeof t.fd=="number")return Swt(t.fd).size}throw new Error(`Body Length computation failed for ${t}`)}});var Cb=y(()=>{"use strict";Q8e()});var X8e,QY,XY,Y8e,Z8e,eIe,tIe=y(()=>{"use strict";X8e="AWS_EXECUTION_ENV",QY="AWS_REGION",XY="AWS_DEFAULT_REGION",Y8e="AWS_EC2_METADATA_DISABLED",Z8e=["in-region","cross-region","mobile","standard","legacy"],eIe="/latest/meta-data/placement/region"});var Ewt,Twt,rIe,nIe=y(()=>{"use strict";Ewt="AWS_DEFAULTS_MODE",Twt="defaults_mode",rIe={environmentVariableSelector:t=>t[Ewt],configFileSelector:t=>t[Twt],default:"legacy"}});var mu,Rwt,Iwt,iIe=y(()=>{"use strict";ba();ou();hn();tIe();nIe();mu=({region:t=Rt(Us),defaultsMode:e=Rt(rIe)}={})=>KP(async()=>{let r=typeof e=="function"?await e():e;switch(r?.toLowerCase()){case"auto":return Rwt(t);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${Z8e.join(", ")}, got ${r}`)}}),Rwt=async t=>{if(t){let e=typeof t=="function"?await t():t,r=await Iwt();return r?e===r?"in-region":"cross-region":"standard"}return"standard"},Iwt=async()=>{if(process.env[X8e]&&(process.env[QY]||process.env[XY]))return process.env[QY]??process.env[XY];if(!process.env[Y8e])try{let{getInstanceMetadataEndpoint:t,httpRequest:e}=await Promise.resolve().then(()=>(V3(),z3)),r=await t();return(await e({...r,path:eIe})).toString()}catch{}}});var Nb=y(()=>{"use strict";iIe()});var mIe,gu,oIe,H3,PS,kS,Sm,YY,ZY,sIe,aIe,cIe,hIe,gIe,hu,lIe,yIe,uIe,dIe,pIe,fIe,Cwt,bIe,vIe=y(()=>{"use strict";mIe="required",gu="argv",oIe="isSet",H3="booleanEquals",PS="error",kS="endpoint",Sm="tree",YY="PartitionResult",ZY="getAttr",sIe={[mIe]:!1,type:"string"},aIe={[mIe]:!0,default:!1,type:"boolean"},cIe={ref:"Endpoint"},hIe={fn:H3,[gu]:[{ref:"UseFIPS"},!0]},gIe={fn:H3,[gu]:[{ref:"UseDualStack"},!0]},hu={},lIe={fn:ZY,[gu]:[{ref:YY},"supportsFIPS"]},yIe={ref:YY},uIe={fn:H3,[gu]:[!0,{fn:ZY,[gu]:[yIe,"supportsDualStack"]}]},dIe=[hIe],pIe=[gIe],fIe=[{ref:"Region"}],Cwt={version:"1.0",parameters:{Region:sIe,UseDualStack:aIe,UseFIPS:aIe,Endpoint:sIe},rules:[{conditions:[{fn:oIe,[gu]:[cIe]}],rules:[{conditions:dIe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:PS},{conditions:pIe,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:PS},{endpoint:{url:cIe,properties:hu,headers:hu},type:kS}],type:Sm},{conditions:[{fn:oIe,[gu]:fIe}],rules:[{conditions:[{fn:"aws.partition",[gu]:fIe,assign:YY}],rules:[{conditions:[hIe,gIe],rules:[{conditions:[{fn:H3,[gu]:[!0,lIe]},uIe],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:hu,headers:hu},type:kS}],type:Sm},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:PS}],type:Sm},{conditions:dIe,rules:[{conditions:[{fn:H3,[gu]:[lIe,!0]}],rules:[{conditions:[{fn:"stringEquals",[gu]:[{fn:ZY,[gu]:[yIe,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:hu,headers:hu},type:kS},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:hu,headers:hu},type:kS}],type:Sm},{error:"FIPS is enabled but this partition does not support FIPS",type:PS}],type:Sm},{conditions:pIe,rules:[{conditions:[uIe],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:hu,headers:hu},type:kS}],type:Sm},{error:"DualStack is enabled but this partition does not support DualStack",type:PS}],type:Sm},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:hu,headers:hu},type:kS}],type:Sm}],type:Sm},{error:"Invalid Configuration: Missing Region",type:PS}]},bIe=Cwt});var Nwt,_Ie,xIe=y(()=>{"use strict";r0();wd();vIe();Nwt=new ec({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),_Ie=(t,e={})=>Nwt.get(t,()=>Vl(bIe,{endpointParams:t,logger:e.logger}));is.aws=jc});var SIe,wIe=y(()=>{"use strict";uo();vm();Fn();Ae();bm();Ms();Fi();WY();xIe();SIe=t=>({apiVersion:"2019-06-10",base64Decoder:t?.base64Decoder??gi,base64Encoder:t?.base64Encoder??Un,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??_Ie,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??$8e,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new ss},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new $l}],logger:t?.logger??new $s,protocol:t?.protocol??a0,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.ssooidc",version:"2019-06-10",serviceTarget:"AWSSSOOIDCService"},serviceId:t?.serviceId??"SSO OIDC",urlParser:t?.urlParser??Fo,utf8Decoder:t?.utf8Decoder??Jn,utf8Encoder:t?.utf8Encoder??$n})});var AIe,EIe=y(()=>{"use strict";jk();uo();Rb();ba();Ib();Jc();ou();pm();Ae();Cb();Nb();xm();wIe();AIe=t=>{Ql(process.version);let e=mu(t),r=()=>e().then(Kl),n=SIe(t);Hl(process.version);let i={profile:t?.profile,logger:n.logger};return{...n,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??Rt(Gl,i),bodyLengthChecker:t?.bodyLengthChecker??fu,defaultUserAgentProvider:t?.defaultUserAgentProvider??du({serviceId:n.serviceId,clientVersion:OS.version}),maxAttempts:t?.maxAttempts??Rt(au,t),region:t?.region??Rt(Us,{...rc,...i}),requestHandler:Ls.create(t?.requestHandler??r),retryMode:t?.retryMode??Rt({...lu,default:async()=>(await r()).retryMode||oc},t),sha256:t?.sha256??sc.bind(null,"sha256"),streamCollector:t?.streamCollector??Ka,useDualstackEndpoint:t?.useDualstackEndpoint??Rt(tu,i),useFipsEndpoint:t?.useFipsEndpoint??Rt(ru,i),userAgentAppId:t?.userAgentAppId??Rt(pu,i)}}});var yu,bu,TIe=y(()=>{"use strict";yu=t=>({setRegion(e){t.region=e},region(){return t.region}}),bu=t=>({region:t.region()})});var RIe=y(()=>{"use strict"});function IIe(t={}){return Rt({...Us,async default(){return Owt.silence||console.warn("@aws-sdk - WARN - default STS region of us-east-1 used. See @aws-sdk/credential-providers README and set a region explicitly."),"us-east-1"}},{...rc,...t})}var Owt,CIe=y(()=>{"use strict";ba();ou();Owt={silence:!1}});var h0=y(()=>{"use strict";TIe();RIe();CIe()});var NIe,OIe,PIe=y(()=>{"use strict";NIe=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(i){let o=e.findIndex(s=>s.schemeId===i.schemeId);o===-1?e.push(i):e.splice(o,1,i)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},OIe=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var kIe,DIe=y(()=>{"use strict";h0();ri();Ae();PIe();kIe=(t,e)=>{let r=Object.assign(yu(t),Xl(t),Il(t),NIe(t));return e.forEach(n=>n.configure(r)),Object.assign(t,bu(r),Yl(r),Cl(r),OIe(r))}});var G3,eZ=y(()=>{"use strict";db();pb();fb();l0();ba();Fn();ln();Ab();Ge();Jc();Ae();WY();KY();EIe();DIe();G3=class extends Ao{config;constructor(...[e]){let r=AIe(e||{});super(r),this.initConfig=r;let n=F8e(r),i=Ul(n),o=cu(i),s=nu(o),a=s,c=su(a),l=U8e(c),u=kIe(l,e?.extensions||[]);this.config=u,this.middlewareStack.use(Ll(this.config)),this.middlewareStack.use(eu(this.config)),this.middlewareStack.use(uu(this.config)),this.middlewareStack.use(iu(this.config)),this.middlewareStack.use(Ol(this.config)),this.middlewareStack.use(Pl(this.config)),this.middlewareStack.use(kl(this.config)),this.middlewareStack.use(Dl(this.config,{httpAuthSchemeParametersProvider:B8e,identityProviderConfigProvider:async d=>new Za({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(Ml(this.config))}destroy(){super.destroy()}}});var zo,qk=y(()=>{"use strict";Ae();zo=class t extends tc{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var q3,J3,W3,K3,Q3,X3,Y3,Z3,e5,t5,r5,tZ=y(()=>{"use strict";qk();q3=class t extends zo{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.reason=e.reason,this.error_description=e.error_description}},J3=class t extends zo{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(e){super({name:"AuthorizationPendingException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},W3=class t extends zo{name="ExpiredTokenException";$fault="client";error;error_description;constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},K3=class t extends zo{name="InternalServerException";$fault="server";error;error_description;constructor(e){super({name:"InternalServerException",$fault:"server",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},Q3=class t extends zo{name="InvalidClientException";$fault="client";error;error_description;constructor(e){super({name:"InvalidClientException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},X3=class t extends zo{name="InvalidGrantException";$fault="client";error;error_description;constructor(e){super({name:"InvalidGrantException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},Y3=class t extends zo{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.reason=e.reason,this.error_description=e.error_description}},Z3=class t extends zo{name="InvalidScopeException";$fault="client";error;error_description;constructor(e){super({name:"InvalidScopeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},e5=class t extends zo{name="SlowDownException";$fault="client";error;error_description;constructor(e){super({name:"SlowDownException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},t5=class t extends zo{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(e){super({name:"UnauthorizedClientException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},r5=class t extends zo{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(e){super({name:"UnsupportedGrantTypeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}}});var Pwt,kwt,Dwt,Mwt,Lwt,Bwt,$wt,Uwt,Fwt,zwt,Vwt,Hwt,Gwt,jwt,qwt,Jwt,Wwt,Kwt,Qwt,Xwt,Fp,Ywt,Zwt,eAt,tAt,rAt,Ii,nAt,Ed,iAt,oAt,Td,sAt,MIe,LIe,aAt,cAt,lAt,BIe,uAt,un,dAt,pAt,fAt,mAt,$Ie,UIe,FIe,zIe,VIe,HIe,GIe,jIe,qIe,JIe,WIe,KIe,QIe,XIe,YIe,rZ,nZ=y(()=>{"use strict";ln();tZ();qk();Pwt="AccessDeniedException",kwt="AuthorizationPendingException",Dwt="AccessToken",Mwt="ClientSecret",Lwt="CreateToken",Bwt="CreateTokenRequest",$wt="CreateTokenResponse",Uwt="CodeVerifier",Fwt="ExpiredTokenException",zwt="InvalidClientException",Vwt="InvalidGrantException",Hwt="InvalidRequestException",Gwt="InternalServerException",jwt="InvalidScopeException",qwt="IdToken",Jwt="RefreshToken",Wwt="SlowDownException",Kwt="UnauthorizedClientException",Qwt="UnsupportedGrantTypeException",Xwt="accessToken",Fp="client",Ywt="clientId",Zwt="clientSecret",eAt="codeVerifier",tAt="code",rAt="deviceCode",Ii="error",nAt="expiresIn",Ed="error_description",iAt="grantType",oAt="http",Td="httpError",sAt="idToken",MIe="reason",LIe="refreshToken",aAt="redirectUri",cAt="scope",lAt="server",BIe="smithy.ts.sdk.synthetic.com.amazonaws.ssooidc",uAt="tokenType",un="com.amazonaws.ssooidc",dAt=[0,un,Dwt,8,0],pAt=[0,un,Mwt,8,0],fAt=[0,un,Uwt,8,0],mAt=[0,un,qwt,8,0],$Ie=[0,un,Jwt,8,0],UIe=[-3,un,Pwt,{[Ii]:Fp,[Td]:400},[Ii,MIe,Ed],[0,0,0]];Ve.for(un).registerError(UIe,q3);FIe=[-3,un,kwt,{[Ii]:Fp,[Td]:400},[Ii,Ed],[0,0]];Ve.for(un).registerError(FIe,J3);zIe=[3,un,Bwt,0,[Ywt,Zwt,iAt,rAt,tAt,LIe,cAt,aAt,eAt],[0,[()=>pAt,0],0,0,0,[()=>$Ie,0],64,0,[()=>fAt,0]],3],VIe=[3,un,$wt,0,[Xwt,uAt,nAt,LIe,sAt],[[()=>dAt,0],0,1,[()=>$Ie,0],[()=>mAt,0]]],HIe=[-3,un,Fwt,{[Ii]:Fp,[Td]:400},[Ii,Ed],[0,0]];Ve.for(un).registerError(HIe,W3);GIe=[-3,un,Gwt,{[Ii]:lAt,[Td]:500},[Ii,Ed],[0,0]];Ve.for(un).registerError(GIe,K3);jIe=[-3,un,zwt,{[Ii]:Fp,[Td]:401},[Ii,Ed],[0,0]];Ve.for(un).registerError(jIe,Q3);qIe=[-3,un,Vwt,{[Ii]:Fp,[Td]:400},[Ii,Ed],[0,0]];Ve.for(un).registerError(qIe,X3);JIe=[-3,un,Hwt,{[Ii]:Fp,[Td]:400},[Ii,MIe,Ed],[0,0,0]];Ve.for(un).registerError(JIe,Y3);WIe=[-3,un,jwt,{[Ii]:Fp,[Td]:400},[Ii,Ed],[0,0]];Ve.for(un).registerError(WIe,Z3);KIe=[-3,un,Wwt,{[Ii]:Fp,[Td]:400},[Ii,Ed],[0,0]];Ve.for(un).registerError(KIe,e5);QIe=[-3,un,Kwt,{[Ii]:Fp,[Td]:400},[Ii,Ed],[0,0]];Ve.for(un).registerError(QIe,t5);XIe=[-3,un,Qwt,{[Ii]:Fp,[Td]:400},[Ii,Ed],[0,0]];Ve.for(un).registerError(XIe,r5);YIe=[-3,BIe,"SSOOIDCServiceException",0,[],[]];Ve.for(BIe).registerError(YIe,zo);rZ=[9,un,Lwt,{[oAt]:["POST","/token",200]},()=>zIe,()=>VIe]});var n5,iZ=y(()=>{"use strict";Ge();Ae();KY();nZ();n5=class extends oe.classBuilder().ep(z8e).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").sc(rZ).build(){}});var hAt,Jk,ZIe=y(()=>{"use strict";Ae();iZ();eZ();hAt={CreateTokenCommand:n5},Jk=class extends G3{};Wl(hAt,Jk)});var eCe=y(()=>{"use strict";iZ()});var gAt,yAt,tCe=y(()=>{"use strict";gAt={KMS_ACCESS_DENIED:"KMS_AccessDeniedException"},yAt={KMS_DISABLED_KEY:"KMS_DisabledException",KMS_INVALID_KEY_USAGE:"KMS_InvalidKeyUsageException",KMS_INVALID_STATE:"KMS_InvalidStateException",KMS_KEY_NOT_FOUND:"KMS_NotFoundException"}});var rCe=y(()=>{"use strict"});var oZ={};wr(oZ,{$Command:()=>oe,AccessDeniedException:()=>q3,AccessDeniedException$:()=>UIe,AccessDeniedExceptionReason:()=>gAt,AuthorizationPendingException:()=>J3,AuthorizationPendingException$:()=>FIe,CreateToken$:()=>rZ,CreateTokenCommand:()=>n5,CreateTokenRequest$:()=>zIe,CreateTokenResponse$:()=>VIe,ExpiredTokenException:()=>W3,ExpiredTokenException$:()=>HIe,InternalServerException:()=>K3,InternalServerException$:()=>GIe,InvalidClientException:()=>Q3,InvalidClientException$:()=>jIe,InvalidGrantException:()=>X3,InvalidGrantException$:()=>qIe,InvalidRequestException:()=>Y3,InvalidRequestException$:()=>JIe,InvalidRequestExceptionReason:()=>yAt,InvalidScopeException:()=>Z3,InvalidScopeException$:()=>WIe,SSOOIDC:()=>Jk,SSOOIDCClient:()=>G3,SSOOIDCServiceException:()=>zo,SSOOIDCServiceException$:()=>YIe,SlowDownException:()=>e5,SlowDownException$:()=>KIe,UnauthorizedClientException:()=>t5,UnauthorizedClientException$:()=>QIe,UnsupportedGrantTypeException:()=>r5,UnsupportedGrantTypeException$:()=>XIe,__Client:()=>Ao});var sZ=y(()=>{"use strict";eZ();ZIe();eCe();nZ();tCe();tZ();rCe();qk()});var nCe,iCe=y(()=>{"use strict";nCe=async(t,e={},r)=>{let{SSOOIDCClient:n}=await Promise.resolve().then(()=>(sZ(),oZ)),i=s=>e.clientConfig?.[s]??e.parentClientConfig?.[s]??r?.[s];return new n(Object.assign({},e.clientConfig??{},{region:t??e.clientConfig?.region,logger:i("logger"),userAgentAppId:i("userAgentAppId")}))}});var oCe,sCe=y(()=>{"use strict";iCe();oCe=async(t,e,r={},n)=>{let{CreateTokenCommand:i}=await Promise.resolve().then(()=>(sZ(),oZ));return(await nCe(e,r,n)).send(new i({clientId:t.clientId,clientSecret:t.clientSecret,refreshToken:t.refreshToken,grantType:"refresh_token"}))}});var aZ,aCe=y(()=>{"use strict";hn();Gk();aZ=t=>{if(t.expiration&&t.expiration.getTime()<Date.now())throw new ql(`Token is expired. ${NS}`,!1)}});var g0,cCe=y(()=>{"use strict";hn();Gk();g0=(t,e,r=!1)=>{if(typeof e>"u")throw new ql(`Value not present for '${t}' in SSO Token${r?". Cannot refresh":""}. ${NS}`,!1)}});import{promises as bAt}from"fs";var vAt,lCe,uCe=y(()=>{"use strict";ic();({writeFile:vAt}=bAt),lCe=(t,e)=>{let r=Sk(t),n=JSON.stringify(e,null,2);return vAt(r,n)}});var dCe,pCe,fCe=y(()=>{"use strict";hn();ic();Gk();sCe();aCe();cCe();uCe();dCe=new Date(0),pCe=(t={})=>async({callerClientConfig:e}={})=>{t.logger?.debug("@aws-sdk/token-providers - fromSso");let r=await Up(t),n=nc({profile:t.profile??e?.profile}),i=r[n];if(i){if(!i.sso_session)throw new ql(`Profile '${n}' is missing required property 'sso_session'.`)}else throw new ql(`Profile '${n}' could not be found in shared credentials file.`,!1);let o=i.sso_session,a=(await Ek(t))[o];if(!a)throw new ql(`Sso session '${o}' could not be found in shared credentials file.`,!1);for(let h of["sso_start_url","sso_region"])if(!a[h])throw new ql(`Sso session '${o}' is missing required property '${h}'.`,!1);let c=a.sso_start_url,l=a.sso_region,u;try{u=await D3(o)}catch{throw new ql(`The SSO session token associated with profile=${n} was not found or is invalid. ${NS}`,!1)}g0("accessToken",u.accessToken),g0("expiresAt",u.expiresAt);let{accessToken:d,expiresAt:p}=u,f={token:d,expiration:new Date(p)};if(f.expiration.getTime()-Date.now()>3e5)return f;if(Date.now()-dCe.getTime()<30*1e3)return aZ(f),f;g0("clientId",u.clientId,!0),g0("clientSecret",u.clientSecret,!0),g0("refreshToken",u.refreshToken,!0);try{dCe.setTime(Date.now());let h=await oCe(u,l,t,e);g0("accessToken",h.accessToken),g0("expiresIn",h.expiresIn);let m=new Date(Date.now()+h.expiresIn*1e3);try{await lCe(o,{...u,accessToken:h.accessToken,expiresAt:m.toISOString(),refreshToken:h.refreshToken})}catch{}return{token:h.accessToken,expiration:m}}catch{return aZ(f),f}}});var mCe=y(()=>{"use strict"});var hCe=y(()=>{"use strict"});var gCe=y(()=>{"use strict";L8e();fCe();mCe();hCe()});function xAt(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function Wk(t){return{schemeId:"smithy.api#noAuth"}}var yCe,bCe,vCe,cZ=y(()=>{"use strict";uo();Ds();yCe=async(t,e,r)=>({operation:Ri(e).operation,region:await cn(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});bCe=t=>{let e=[];switch(t.operation){case"GetRoleCredentials":{e.push(Wk(t));break}case"ListAccountRoles":{e.push(Wk(t));break}case"ListAccounts":{e.push(Wk(t));break}case"Logout":{e.push(Wk(t));break}default:e.push(xAt(t))}return e},vCe=t=>{let e=Jl(t);return Object.assign(e,{authSchemePreference:cn(t.authSchemePreference??[])})}});var _Ce,y0,DS=y(()=>{"use strict";_Ce=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),y0={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var SCe,xCe=y(()=>{SCe={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.980.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"premove dist-cjs dist-es dist-types tsconfig.cjs.tsbuildinfo tsconfig.es.tsbuildinfo tsconfig.types.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"^3.973.5","@aws-sdk/middleware-host-header":"^3.972.3","@aws-sdk/middleware-logger":"^3.972.3","@aws-sdk/middleware-recursion-detection":"^3.972.3","@aws-sdk/middleware-user-agent":"^3.972.5","@aws-sdk/region-config-resolver":"^3.972.3","@aws-sdk/types":"^3.973.1","@aws-sdk/util-endpoints":"3.980.0","@aws-sdk/util-user-agent-browser":"^3.972.3","@aws-sdk/util-user-agent-node":"^3.972.3","@smithy/config-resolver":"^4.4.6","@smithy/core":"^3.22.0","@smithy/fetch-http-handler":"^5.3.9","@smithy/hash-node":"^4.2.8","@smithy/invalid-dependency":"^4.2.8","@smithy/middleware-content-length":"^4.2.8","@smithy/middleware-endpoint":"^4.4.12","@smithy/middleware-retry":"^4.4.29","@smithy/middleware-serde":"^4.2.9","@smithy/middleware-stack":"^4.2.8","@smithy/node-config-provider":"^4.3.8","@smithy/node-http-handler":"^4.4.8","@smithy/protocol-http":"^5.3.8","@smithy/smithy-client":"^4.11.1","@smithy/types":"^4.12.0","@smithy/url-parser":"^4.2.8","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.28","@smithy/util-defaults-mode-node":"^4.2.31","@smithy/util-endpoints":"^3.2.8","@smithy/util-middleware":"^4.2.8","@smithy/util-retry":"^4.2.8","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node20":"20.1.8","@types/node":"^20.14.8",concurrently:"7.0.0","downlevel-dts":"0.10.1",premove:"4.0.0",typescript:"~5.8.3"},engines:{node:">=20.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var PCe,_u,wCe,i5,MS,LS,wm,lZ,uZ,ACe,ECe,TCe,kCe,DCe,vu,RCe,MCe,ICe,CCe,NCe,OCe,wAt,LCe,BCe=y(()=>{"use strict";PCe="required",_u="argv",wCe="isSet",i5="booleanEquals",MS="error",LS="endpoint",wm="tree",lZ="PartitionResult",uZ="getAttr",ACe={[PCe]:!1,type:"string"},ECe={[PCe]:!0,default:!1,type:"boolean"},TCe={ref:"Endpoint"},kCe={fn:i5,[_u]:[{ref:"UseFIPS"},!0]},DCe={fn:i5,[_u]:[{ref:"UseDualStack"},!0]},vu={},RCe={fn:uZ,[_u]:[{ref:lZ},"supportsFIPS"]},MCe={ref:lZ},ICe={fn:i5,[_u]:[!0,{fn:uZ,[_u]:[MCe,"supportsDualStack"]}]},CCe=[kCe],NCe=[DCe],OCe=[{ref:"Region"}],wAt={version:"1.0",parameters:{Region:ACe,UseDualStack:ECe,UseFIPS:ECe,Endpoint:ACe},rules:[{conditions:[{fn:wCe,[_u]:[TCe]}],rules:[{conditions:CCe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:MS},{conditions:NCe,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:MS},{endpoint:{url:TCe,properties:vu,headers:vu},type:LS}],type:wm},{conditions:[{fn:wCe,[_u]:OCe}],rules:[{conditions:[{fn:"aws.partition",[_u]:OCe,assign:lZ}],rules:[{conditions:[kCe,DCe],rules:[{conditions:[{fn:i5,[_u]:[!0,RCe]},ICe],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:vu,headers:vu},type:LS}],type:wm},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:MS}],type:wm},{conditions:CCe,rules:[{conditions:[{fn:i5,[_u]:[RCe,!0]}],rules:[{conditions:[{fn:"stringEquals",[_u]:[{fn:uZ,[_u]:[MCe,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:vu,headers:vu},type:LS},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:vu,headers:vu},type:LS}],type:wm},{error:"FIPS is enabled but this partition does not support FIPS",type:MS}],type:wm},{conditions:NCe,rules:[{conditions:[ICe],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:vu,headers:vu},type:LS}],type:wm},{error:"DualStack is enabled but this partition does not support DualStack",type:MS}],type:wm},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:vu,headers:vu},type:LS}],type:wm}],type:wm},{error:"Invalid Configuration: Missing Region",type:MS}]},LCe=wAt});var AAt,$Ce,UCe=y(()=>{"use strict";r0();wd();BCe();AAt=new ec({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),$Ce=(t,e={})=>AAt.get(t,()=>Vl(LCe,{endpointParams:t,logger:e.logger}));is.aws=jc});var FCe,zCe=y(()=>{"use strict";uo();vm();Fn();Ae();bm();Ms();Fi();cZ();UCe();FCe=t=>({apiVersion:"2019-06-10",base64Decoder:t?.base64Decoder??gi,base64Encoder:t?.base64Encoder??Un,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??$Ce,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??bCe,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new ss},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new $l}],logger:t?.logger??new $s,protocol:t?.protocol??a0,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.sso",version:"2019-06-10",serviceTarget:"SWBPortalService"},serviceId:t?.serviceId??"SSO",urlParser:t?.urlParser??Fo,utf8Decoder:t?.utf8Decoder??Jn,utf8Encoder:t?.utf8Encoder??$n})});var VCe,HCe=y(()=>{"use strict";xCe();uo();Rb();ba();Ib();Jc();ou();pm();Ae();Cb();Nb();xm();zCe();VCe=t=>{Ql(process.version);let e=mu(t),r=()=>e().then(Kl),n=FCe(t);Hl(process.version);let i={profile:t?.profile,logger:n.logger};return{...n,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??Rt(Gl,i),bodyLengthChecker:t?.bodyLengthChecker??fu,defaultUserAgentProvider:t?.defaultUserAgentProvider??du({serviceId:n.serviceId,clientVersion:SCe.version}),maxAttempts:t?.maxAttempts??Rt(au,t),region:t?.region??Rt(Us,{...rc,...i}),requestHandler:Ls.create(t?.requestHandler??r),retryMode:t?.retryMode??Rt({...lu,default:async()=>(await r()).retryMode||oc},t),sha256:t?.sha256??sc.bind(null,"sha256"),streamCollector:t?.streamCollector??Ka,useDualstackEndpoint:t?.useDualstackEndpoint??Rt(tu,i),useFipsEndpoint:t?.useFipsEndpoint??Rt(ru,i),userAgentAppId:t?.userAgentAppId??Rt(pu,i)}}});var GCe,jCe,qCe=y(()=>{"use strict";GCe=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(i){let o=e.findIndex(s=>s.schemeId===i.schemeId);o===-1?e.push(i):e.splice(o,1,i)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},jCe=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var JCe,WCe=y(()=>{"use strict";h0();ri();Ae();qCe();JCe=(t,e)=>{let r=Object.assign(yu(t),Xl(t),Il(t),GCe(t));return e.forEach(n=>n.configure(r)),Object.assign(t,bu(r),Yl(r),Cl(r),jCe(r))}});var zp,o5=y(()=>{"use strict";db();pb();fb();l0();ba();Fn();ln();Ab();Ge();Jc();Ae();cZ();DS();HCe();WCe();zp=class extends Ao{config;constructor(...[e]){let r=VCe(e||{});super(r),this.initConfig=r;let n=_Ce(r),i=Ul(n),o=cu(i),s=nu(o),a=s,c=su(a),l=vCe(c),u=JCe(l,e?.extensions||[]);this.config=u,this.middlewareStack.use(Ll(this.config)),this.middlewareStack.use(eu(this.config)),this.middlewareStack.use(uu(this.config)),this.middlewareStack.use(iu(this.config)),this.middlewareStack.use(Ol(this.config)),this.middlewareStack.use(Pl(this.config)),this.middlewareStack.use(kl(this.config)),this.middlewareStack.use(Dl(this.config,{httpAuthSchemeParametersProvider:yCe,identityProviderConfigProvider:async d=>new Za({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(Ml(this.config))}destroy(){super.destroy()}}});var Am,dZ=y(()=>{"use strict";Ae();Am=class t extends tc{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var Kk,Qk,Xk,Yk,pZ=y(()=>{"use strict";dZ();Kk=class t extends Am{name="InvalidRequestException";$fault="client";constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Qk=class t extends Am{name="ResourceNotFoundException";$fault="client";constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Xk=class t extends Am{name="TooManyRequestsException";$fault="client";constructor(e){super({name:"TooManyRequestsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Yk=class t extends Am{name="UnauthorizedException";$fault="client";constructor(e){super({name:"UnauthorizedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}}});var EAt,TAt,RAt,IAt,CAt,NAt,OAt,PAt,kAt,DAt,MAt,LAt,BAt,$At,UAt,FAt,zAt,VAt,HAt,GAt,jAt,qAt,JAt,Zk,WAt,KAt,QAt,eD,KCe,tD,rD,XAt,YAt,nD,iD,oD,Ob,sD,QCe,XCe,aD,YCe,ZAt,e4t,ZCe,t4t,e9e,r4t,n4t,cD,Nn,lD,i4t,o4t,s4t,a4t,c4t,l4t,u4t,d4t,p4t,f4t,m4t,h4t,g4t,y4t,b4t,v4t,_4t,x4t,S4t,w4t,t9e,r9e,n9e,i9e,BS=y(()=>{"use strict";ln();pZ();dZ();EAt="AccountInfo",TAt="AccountListType",RAt="AccessTokenType",IAt="GetRoleCredentials",CAt="GetRoleCredentialsRequest",NAt="GetRoleCredentialsResponse",OAt="InvalidRequestException",PAt="Logout",kAt="ListAccounts",DAt="ListAccountsRequest",MAt="ListAccountRolesRequest",LAt="ListAccountRolesResponse",BAt="ListAccountsResponse",$At="ListAccountRoles",UAt="LogoutRequest",FAt="RoleCredentials",zAt="RoleInfo",VAt="RoleListType",HAt="ResourceNotFoundException",GAt="SecretAccessKeyType",jAt="SessionTokenType",qAt="TooManyRequestsException",JAt="UnauthorizedException",Zk="accountId",WAt="accessKeyId",KAt="accountList",QAt="accountName",eD="accessToken",KCe="account_id",tD="client",rD="error",XAt="emailAddress",YAt="expiration",nD="http",iD="httpError",oD="httpHeader",Ob="httpQuery",sD="message",QCe="maxResults",XCe="max_result",aD="nextToken",YCe="next_token",ZAt="roleCredentials",e4t="roleList",ZCe="roleName",t4t="role_name",e9e="smithy.ts.sdk.synthetic.com.amazonaws.sso",r4t="secretAccessKey",n4t="sessionToken",cD="x-amz-sso_bearer_token",Nn="com.amazonaws.sso",lD=[0,Nn,RAt,8,0],i4t=[0,Nn,GAt,8,0],o4t=[0,Nn,jAt,8,0],s4t=[3,Nn,EAt,0,[Zk,QAt,XAt],[0,0,0]],a4t=[3,Nn,CAt,0,[ZCe,Zk,eD],[[0,{[Ob]:t4t}],[0,{[Ob]:KCe}],[()=>lD,{[oD]:cD}]],3],c4t=[3,Nn,NAt,0,[ZAt],[[()=>g4t,0]]],l4t=[-3,Nn,OAt,{[rD]:tD,[iD]:400},[sD],[0]];Ve.for(Nn).registerError(l4t,Kk);u4t=[3,Nn,MAt,0,[eD,Zk,aD,QCe],[[()=>lD,{[oD]:cD}],[0,{[Ob]:KCe}],[0,{[Ob]:YCe}],[1,{[Ob]:XCe}]],2],d4t=[3,Nn,LAt,0,[aD,e4t],[0,()=>w4t]],p4t=[3,Nn,DAt,0,[eD,aD,QCe],[[()=>lD,{[oD]:cD}],[0,{[Ob]:YCe}],[1,{[Ob]:XCe}]],1],f4t=[3,Nn,BAt,0,[aD,KAt],[0,()=>S4t]],m4t=[3,Nn,UAt,0,[eD],[[()=>lD,{[oD]:cD}]],1],h4t=[-3,Nn,HAt,{[rD]:tD,[iD]:404},[sD],[0]];Ve.for(Nn).registerError(h4t,Qk);g4t=[3,Nn,FAt,0,[WAt,r4t,n4t,YAt],[0,[()=>i4t,0],[()=>o4t,0],1]],y4t=[3,Nn,zAt,0,[ZCe,Zk],[0,0]],b4t=[-3,Nn,qAt,{[rD]:tD,[iD]:429},[sD],[0]];Ve.for(Nn).registerError(b4t,Xk);v4t=[-3,Nn,JAt,{[rD]:tD,[iD]:401},[sD],[0]];Ve.for(Nn).registerError(v4t,Yk);_4t="unit",x4t=[-3,e9e,"SSOServiceException",0,[],[]];Ve.for(e9e).registerError(x4t,Am);S4t=[1,Nn,TAt,0,()=>s4t],w4t=[1,Nn,VAt,0,()=>y4t],t9e=[9,Nn,IAt,{[nD]:["GET","/federation/credentials",200]},()=>a4t,()=>c4t],r9e=[9,Nn,$At,{[nD]:["GET","/assignment/roles",200]},()=>u4t,()=>d4t],n9e=[9,Nn,kAt,{[nD]:["GET","/assignment/accounts",200]},()=>p4t,()=>f4t],i9e=[9,Nn,PAt,{[nD]:["POST","/logout",200]},()=>m4t,()=>_4t]});var $S,fZ=y(()=>{"use strict";Ge();Ae();DS();BS();$S=class extends oe.classBuilder().ep(y0).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").sc(t9e).build(){}});var US,uD=y(()=>{"use strict";Ge();Ae();DS();BS();US=class extends oe.classBuilder().ep(y0).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").sc(r9e).build(){}});var FS,dD=y(()=>{"use strict";Ge();Ae();DS();BS();FS=class extends oe.classBuilder().ep(y0).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").sc(n9e).build(){}});var pD,mZ=y(()=>{"use strict";Ge();Ae();DS();BS();pD=class extends oe.classBuilder().ep(y0).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").sc(i9e).build(){}});var o9e,hZ=y(()=>{"use strict";Fn();uD();o5();o9e=hi(zp,US,"nextToken","nextToken","maxResults")});var s9e,gZ=y(()=>{"use strict";Fn();dD();o5();s9e=hi(zp,FS,"nextToken","nextToken","maxResults")});var A4t,E4t,yZ,a9e=y(()=>{"use strict";Ae();fZ();uD();dD();mZ();hZ();gZ();o5();A4t={GetRoleCredentialsCommand:$S,ListAccountRolesCommand:US,ListAccountsCommand:FS,LogoutCommand:pD},E4t={paginateListAccountRoles:o9e,paginateListAccounts:s9e},yZ=class extends zp{};Wl(A4t,yZ,{paginators:E4t})});var c9e=y(()=>{"use strict";fZ();uD();dD();mZ()});var l9e=y(()=>{"use strict"});var u9e=y(()=>{"use strict";l9e();hZ();gZ()});var d9e=y(()=>{"use strict"});var p9e=y(()=>{"use strict";o5();a9e();c9e();BS();u9e();pZ();d9e()});var f9e={};wr(f9e,{GetRoleCredentialsCommand:()=>$S,SSOClient:()=>zp});var m9e=y(()=>{"use strict";p9e()});var s5,bZ,h9e=y(()=>{"use strict";os();gCe();hn();ic();s5=!1,bZ=async({ssoStartUrl:t,ssoSession:e,ssoAccountId:r,ssoRegion:n,ssoRoleName:i,ssoClient:o,clientConfig:s,parentClientConfig:a,callerClientConfig:c,profile:l,filepath:u,configFilepath:d,ignoreCache:p,logger:f})=>{let h,m="To refresh this SSO session run aws sso login with the corresponding profile.";if(e)try{let X=await pCe({profile:l,filepath:u,configFilepath:d,ignoreCache:p})();h={accessToken:X.token,expiresAt:new Date(X.expiration).toISOString()}}catch(X){throw new gt(X.message,{tryNextLink:s5,logger:f})}else try{h=await D3(t)}catch{throw new gt(`The SSO session associated with this profile is invalid. ${m}`,{tryNextLink:s5,logger:f})}if(new Date(h.expiresAt).getTime()-Date.now()<=0)throw new gt(`The SSO session associated with this profile has expired. ${m}`,{tryNextLink:s5,logger:f});let{accessToken:g}=h,{SSOClient:b,GetRoleCredentialsCommand:_}=await Promise.resolve().then(()=>(m9e(),f9e)),x=o||new b(Object.assign({},s??{},{logger:s?.logger??c?.logger??a?.logger,region:s?.region??n,userAgentAppId:s?.userAgentAppId??c?.userAgentAppId??a?.userAgentAppId})),E;try{E=await x.send(new _({accountId:r,roleName:i,accessToken:g}))}catch(X){throw new gt(X,{tryNextLink:s5,logger:f})}let{roleCredentials:{accessKeyId:R,secretAccessKey:I,sessionToken:D,expiration:k,credentialScope:O,accountId:$}={}}=E;if(!R||!I||!D||!k)throw new gt("SSO returns an invalid temporary credential.",{tryNextLink:s5,logger:f});let j={accessKeyId:R,secretAccessKey:I,sessionToken:D,expiration:new Date(k),...O&&{credentialScope:O},...$&&{accountId:$}};return e?Dr(j,"CREDENTIALS_SSO","s"):Dr(j,"CREDENTIALS_SSO_LEGACY","u"),j}});var vZ,_Z=y(()=>{"use strict";hn();vZ=(t,e)=>{let{sso_start_url:r,sso_account_id:n,sso_region:i,sso_role_name:o}=t;if(!r||!n||!i||!o)throw new gt(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(t).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:e});return t}});var T4t,g9e=y(()=>{"use strict";hn();ic();JY();h9e();_Z();T4t=(t={})=>async({callerClientConfig:e}={})=>{t.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:i,ssoRoleName:o,ssoSession:s}=t,{ssoClient:a}=t,c=nc({profile:t.profile??e?.profile});if(!r&&!n&&!i&&!o&&!s){let u=(await Up(t))[c];if(!u)throw new gt(`Profile ${c} was not found.`,{logger:t.logger});if(!qY(u))throw new gt(`Profile ${c} is not configured with SSO credentials.`,{logger:t.logger});if(u?.sso_session){let b=(await Ek(t))[u.sso_session],_=` configurations in profile ${c} and sso-session ${u.sso_session}`;if(i&&i!==b.sso_region)throw new gt("Conflicting SSO region"+_,{tryNextLink:!1,logger:t.logger});if(r&&r!==b.sso_start_url)throw new gt("Conflicting SSO start_url"+_,{tryNextLink:!1,logger:t.logger});u.sso_region=b.sso_region,u.sso_start_url=b.sso_start_url}let{sso_start_url:d,sso_account_id:p,sso_region:f,sso_role_name:h,sso_session:m}=vZ(u,t.logger);return bZ({ssoStartUrl:d,ssoSession:m,ssoAccountId:p,ssoRegion:f,ssoRoleName:h,ssoClient:a,clientConfig:t.clientConfig,parentClientConfig:t.parentClientConfig,callerClientConfig:t.callerClientConfig,profile:c,filepath:t.filepath,configFilepath:t.configFilepath,ignoreCache:t.ignoreCache,logger:t.logger})}else{if(!r||!n||!i||!o)throw new gt('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:t.logger});return bZ({ssoStartUrl:r,ssoSession:s,ssoAccountId:n,ssoRegion:i,ssoRoleName:o,ssoClient:a,clientConfig:t.clientConfig,parentClientConfig:t.parentClientConfig,callerClientConfig:t.callerClientConfig,profile:c,filepath:t.filepath,configFilepath:t.configFilepath,ignoreCache:t.ignoreCache,logger:t.logger})}}});var y9e=y(()=>{"use strict"});var xZ={};wr(xZ,{fromSSO:()=>T4t,isSsoProfile:()=>qY,validateSsoProfile:()=>vZ});var SZ=y(()=>{"use strict";g9e();JY();y9e();_Z()});var b9e,wZ,v9e=y(()=>{"use strict";os();hn();b9e=(t,e,r)=>{let n={EcsContainer:async i=>{let{fromHttp:o}=await Promise.resolve().then(()=>(jY(),GY)),{fromContainerMetadata:s}=await Promise.resolve().then(()=>(V3(),z3));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>bS(o(i??{}),s(i))().then(wZ)},Ec2InstanceMetadata:async i=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:o}=await Promise.resolve().then(()=>(V3(),z3));return async()=>o(i)().then(wZ)},Environment:async i=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:o}=await Promise.resolve().then(()=>(MY(),a8e));return async()=>o(i)().then(wZ)}};if(t in n)return n[t];throw new gt(`Unsupported credential source in profile ${e}. Got ${t}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},wZ=t=>Dr(t,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p")});function R4t(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function I4t(t){return{schemeId:"smithy.api#noAuth"}}var _9e,x9e,C4t,S9e,AZ=y(()=>{"use strict";uo();Ds();a5();_9e=async(t,e,r)=>({operation:Ri(e).operation,region:await cn(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});x9e=t=>{let e=[];switch(t.operation){case"AssumeRoleWithWebIdentity":{e.push(I4t(t));break}default:e.push(R4t(t))}return e},C4t=t=>Object.assign(t,{stsClientCtor:Vp}),S9e=t=>{let e=C4t(t),r=Jl(e);return Object.assign(r,{authSchemePreference:cn(t.authSchemePreference??[])})}});var w9e,fD,mD=y(()=>{"use strict";w9e=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,defaultSigningName:"sts"}),fD={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var D9e,gr,Jr,b0,as,M9e,L9e,ni,A9e,Hp,zS,TZ,E9e,EZ,B9e,T9e,cs,R9e,$9e,U9e,Fs,Wc,I9e,F9e,z9e,C9e,V9e,N9e,O9e,P9e,k9e,N4t,H9e,G9e=y(()=>{"use strict";D9e="required",gr="type",Jr="argv",b0="booleanEquals",as="stringEquals",M9e="sigv4",L9e="us-east-1",ni="endpoint",A9e="https://sts.{Region}.{PartitionResult#dnsSuffix}",Hp="tree",zS="error",TZ="getAttr",E9e={[D9e]:!1,[gr]:"string"},EZ={[D9e]:!0,default:!1,[gr]:"boolean"},B9e={ref:"Endpoint"},T9e={fn:"isSet",[Jr]:[{ref:"Region"}]},cs={ref:"Region"},R9e={fn:"aws.partition",[Jr]:[cs],assign:"PartitionResult"},$9e={ref:"UseFIPS"},U9e={ref:"UseDualStack"},Fs={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:M9e,signingName:"sts",signingRegion:L9e}]},headers:{}},Wc={},I9e={conditions:[{fn:as,[Jr]:[cs,"aws-global"]}],[ni]:Fs,[gr]:ni},F9e={fn:b0,[Jr]:[$9e,!0]},z9e={fn:b0,[Jr]:[U9e,!0]},C9e={fn:TZ,[Jr]:[{ref:"PartitionResult"},"supportsFIPS"]},V9e={ref:"PartitionResult"},N9e={fn:b0,[Jr]:[!0,{fn:TZ,[Jr]:[V9e,"supportsDualStack"]}]},O9e=[{fn:"isSet",[Jr]:[B9e]}],P9e=[F9e],k9e=[z9e],N4t={version:"1.0",parameters:{Region:E9e,UseDualStack:EZ,UseFIPS:EZ,Endpoint:E9e,UseGlobalEndpoint:EZ},rules:[{conditions:[{fn:b0,[Jr]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[Jr]:O9e},T9e,R9e,{fn:b0,[Jr]:[$9e,!1]},{fn:b0,[Jr]:[U9e,!1]}],rules:[{conditions:[{fn:as,[Jr]:[cs,"ap-northeast-1"]}],endpoint:Fs,[gr]:ni},{conditions:[{fn:as,[Jr]:[cs,"ap-south-1"]}],endpoint:Fs,[gr]:ni},{conditions:[{fn:as,[Jr]:[cs,"ap-southeast-1"]}],endpoint:Fs,[gr]:ni},{conditions:[{fn:as,[Jr]:[cs,"ap-southeast-2"]}],endpoint:Fs,[gr]:ni},I9e,{conditions:[{fn:as,[Jr]:[cs,"ca-central-1"]}],endpoint:Fs,[gr]:ni},{conditions:[{fn:as,[Jr]:[cs,"eu-central-1"]}],endpoint:Fs,[gr]:ni},{conditions:[{fn:as,[Jr]:[cs,"eu-north-1"]}],endpoint:Fs,[gr]:ni},{conditions:[{fn:as,[Jr]:[cs,"eu-west-1"]}],endpoint:Fs,[gr]:ni},{conditions:[{fn:as,[Jr]:[cs,"eu-west-2"]}],endpoint:Fs,[gr]:ni},{conditions:[{fn:as,[Jr]:[cs,"eu-west-3"]}],endpoint:Fs,[gr]:ni},{conditions:[{fn:as,[Jr]:[cs,"sa-east-1"]}],endpoint:Fs,[gr]:ni},{conditions:[{fn:as,[Jr]:[cs,L9e]}],endpoint:Fs,[gr]:ni},{conditions:[{fn:as,[Jr]:[cs,"us-east-2"]}],endpoint:Fs,[gr]:ni},{conditions:[{fn:as,[Jr]:[cs,"us-west-1"]}],endpoint:Fs,[gr]:ni},{conditions:[{fn:as,[Jr]:[cs,"us-west-2"]}],endpoint:Fs,[gr]:ni},{endpoint:{url:A9e,properties:{authSchemes:[{name:M9e,signingName:"sts",signingRegion:"{Region}"}]},headers:Wc},[gr]:ni}],[gr]:Hp},{conditions:O9e,rules:[{conditions:P9e,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[gr]:zS},{conditions:k9e,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[gr]:zS},{endpoint:{url:B9e,properties:Wc,headers:Wc},[gr]:ni}],[gr]:Hp},{conditions:[T9e],rules:[{conditions:[R9e],rules:[{conditions:[F9e,z9e],rules:[{conditions:[{fn:b0,[Jr]:[!0,C9e]},N9e],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Wc,headers:Wc},[gr]:ni}],[gr]:Hp},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[gr]:zS}],[gr]:Hp},{conditions:P9e,rules:[{conditions:[{fn:b0,[Jr]:[C9e,!0]}],rules:[{conditions:[{fn:as,[Jr]:[{fn:TZ,[Jr]:[V9e,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:Wc,headers:Wc},[gr]:ni},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Wc,headers:Wc},[gr]:ni}],[gr]:Hp},{error:"FIPS is enabled but this partition does not support FIPS",[gr]:zS}],[gr]:Hp},{conditions:k9e,rules:[{conditions:[N9e],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Wc,headers:Wc},[gr]:ni}],[gr]:Hp},{error:"DualStack is enabled but this partition does not support DualStack",[gr]:zS}],[gr]:Hp},I9e,{endpoint:{url:A9e,properties:Wc,headers:Wc},[gr]:ni}],[gr]:Hp}],[gr]:Hp},{error:"Invalid Configuration: Missing Region",[gr]:zS}]},H9e=N4t});var O4t,j9e,q9e=y(()=>{"use strict";r0();wd();G9e();O4t=new ec({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),j9e=(t,e={})=>O4t.get(t,()=>Vl(H9e,{endpointParams:t,logger:e.logger}));is.aws=jc});var J9e,W9e=y(()=>{"use strict";uo();vm();Fn();Ae();bm();Ms();Fi();AZ();q9e();J9e=t=>({apiVersion:"2011-06-15",base64Decoder:t?.base64Decoder??gi,base64Encoder:t?.base64Encoder??Un,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??j9e,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??x9e,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new ss},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new $l}],logger:t?.logger??new $s,protocol:t?.protocol??yk,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.sts",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/",version:"2011-06-15",serviceTarget:"AWSSecurityTokenServiceV20110615"},serviceId:t?.serviceId??"STS",urlParser:t?.urlParser??Fo,utf8Decoder:t?.utf8Decoder??Jn,utf8Encoder:t?.utf8Encoder??$n})});var K9e,Q9e=y(()=>{"use strict";jk();uo();Rb();ba();Fn();Ib();Jc();ou();pm();Ae();Cb();Nb();xm();W9e();K9e=t=>{Ql(process.version);let e=mu(t),r=()=>e().then(Kl),n=J9e(t);Hl(process.version);let i={profile:t?.profile,logger:n.logger};return{...n,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??Rt(Gl,i),bodyLengthChecker:t?.bodyLengthChecker??fu,defaultUserAgentProvider:t?.defaultUserAgentProvider??du({serviceId:n.serviceId,clientVersion:OS.version}),httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4")||(async s=>await t.credentialDefaultProvider(s?.__config||{})()),signer:new ss},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new $l}],maxAttempts:t?.maxAttempts??Rt(au,t),region:t?.region??Rt(Us,{...rc,...i}),requestHandler:Ls.create(t?.requestHandler??r),retryMode:t?.retryMode??Rt({...lu,default:async()=>(await r()).retryMode||oc},t),sha256:t?.sha256??sc.bind(null,"sha256"),streamCollector:t?.streamCollector??Ka,useDualstackEndpoint:t?.useDualstackEndpoint??Rt(tu,i),useFipsEndpoint:t?.useFipsEndpoint??Rt(ru,i),userAgentAppId:t?.userAgentAppId??Rt(pu,i)}}});var X9e,Y9e,Z9e=y(()=>{"use strict";X9e=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(i){let o=e.findIndex(s=>s.schemeId===i.schemeId);o===-1?e.push(i):e.splice(o,1,i)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},Y9e=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var eNe,tNe=y(()=>{"use strict";h0();ri();Ae();Z9e();eNe=(t,e)=>{let r=Object.assign(yu(t),Xl(t),Il(t),X9e(t));return e.forEach(n=>n.configure(r)),Object.assign(t,bu(r),Yl(r),Cl(r),Y9e(r))}});var Vp,a5=y(()=>{"use strict";db();pb();fb();l0();ba();Fn();ln();Ab();Ge();Jc();Ae();AZ();mD();Q9e();tNe();Vp=class extends Ao{config;constructor(...[e]){let r=K9e(e||{});super(r),this.initConfig=r;let n=w9e(r),i=Ul(n),o=cu(i),s=nu(o),a=s,c=su(a),l=S9e(c),u=eNe(l,e?.extensions||[]);this.config=u,this.middlewareStack.use(Ll(this.config)),this.middlewareStack.use(eu(this.config)),this.middlewareStack.use(uu(this.config)),this.middlewareStack.use(iu(this.config)),this.middlewareStack.use(Ol(this.config)),this.middlewareStack.use(Pl(this.config)),this.middlewareStack.use(kl(this.config)),this.middlewareStack.use(Dl(this.config,{httpAuthSchemeParametersProvider:_9e,identityProviderConfigProvider:async d=>new Za({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(Ml(this.config))}destroy(){super.destroy()}}});var ac,hD=y(()=>{"use strict";Ae();ac=class t extends tc{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var c5,l5,u5,d5,p5,f5,m5,RZ=y(()=>{"use strict";hD();c5=class t extends ac{name="ExpiredTokenException";$fault="client";constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},l5=class t extends ac{name="MalformedPolicyDocumentException";$fault="client";constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},u5=class t extends ac{name="PackedPolicyTooLargeException";$fault="client";constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},d5=class t extends ac{name="RegionDisabledException";$fault="client";constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},p5=class t extends ac{name="IDPRejectedClaimException";$fault="client";constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},f5=class t extends ac{name="InvalidIdentityTokenException";$fault="client";constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},m5=class t extends ac{name="IDPCommunicationErrorException";$fault="client";constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}}});var P4t,k4t,D4t,M4t,L4t,B4t,IZ,$4t,U4t,F4t,z4t,CZ,V4t,rNe,H4t,G4t,j4t,q4t,J4t,W4t,K4t,Q4t,nNe,iNe,X4t,Y4t,Z4t,eEt,tEt,rEt,oNe,nEt,iEt,sNe,oEt,aNe,sEt,aEt,NZ,cEt,lEt,uEt,dEt,pEt,fEt,mEt,hEt,gEt,yEt,Pb,kb,bEt,Db,Mb,Lb,vEt,cNe,_Et,dn,xEt,SEt,OZ,lNe,uNe,dNe,pNe,PZ,fNe,mNe,hNe,gNe,yNe,bNe,vNe,_Ne,xNe,SNe,wNe,ANe,wEt,AEt,kZ,DZ,gD=y(()=>{"use strict";ln();RZ();hD();P4t="Arn",k4t="AccessKeyId",D4t="AssumeRole",M4t="AssumedRoleId",L4t="AssumeRoleRequest",B4t="AssumeRoleResponse",IZ="AssumedRoleUser",$4t="AssumeRoleWithWebIdentity",U4t="AssumeRoleWithWebIdentityRequest",F4t="AssumeRoleWithWebIdentityResponse",z4t="Audience",CZ="Credentials",V4t="ContextAssertion",rNe="DurationSeconds",H4t="Expiration",G4t="ExternalId",j4t="ExpiredTokenException",q4t="IDPCommunicationErrorException",J4t="IDPRejectedClaimException",W4t="InvalidIdentityTokenException",K4t="Key",Q4t="MalformedPolicyDocumentException",nNe="Policy",iNe="PolicyArns",X4t="ProviderArn",Y4t="ProvidedContexts",Z4t="ProvidedContextsListType",eEt="ProvidedContext",tEt="PolicyDescriptorType",rEt="ProviderId",oNe="PackedPolicySize",nEt="PackedPolicyTooLargeException",iEt="Provider",sNe="RoleArn",oEt="RegionDisabledException",aNe="RoleSessionName",sEt="SecretAccessKey",aEt="SubjectFromWebIdentityToken",NZ="SourceIdentity",cEt="SerialNumber",lEt="SessionToken",uEt="Tags",dEt="TokenCode",pEt="TransitiveTagKeys",fEt="Tag",mEt="Value",hEt="WebIdentityToken",gEt="arn",yEt="accessKeySecretType",Pb="awsQueryError",kb="client",bEt="clientTokenType",Db="error",Mb="httpError",Lb="message",vEt="policyDescriptorListType",cNe="smithy.ts.sdk.synthetic.com.amazonaws.sts",_Et="tagListType",dn="com.amazonaws.sts",xEt=[0,dn,yEt,8,0],SEt=[0,dn,bEt,8,0],OZ=[3,dn,IZ,0,[M4t,P4t],[0,0],2],lNe=[3,dn,L4t,0,[sNe,aNe,iNe,nNe,rNe,uEt,pEt,G4t,cEt,dEt,NZ,Y4t],[0,0,()=>ANe,0,1,()=>AEt,64,0,0,0,0,()=>wEt],2],uNe=[3,dn,B4t,0,[CZ,IZ,oNe,NZ],[[()=>PZ,0],()=>OZ,1,0]],dNe=[3,dn,U4t,0,[sNe,aNe,hEt,rEt,iNe,nNe,rNe],[0,0,[()=>SEt,0],0,()=>ANe,0,1],3],pNe=[3,dn,F4t,0,[CZ,aEt,IZ,oNe,iEt,z4t,NZ],[[()=>PZ,0],0,()=>OZ,1,0,0,0]],PZ=[3,dn,CZ,0,[k4t,sEt,lEt,H4t],[0,[()=>xEt,0],0,4],4],fNe=[-3,dn,j4t,{[Pb]:["ExpiredTokenException",400],[Db]:kb,[Mb]:400},[Lb],[0]];Ve.for(dn).registerError(fNe,c5);mNe=[-3,dn,q4t,{[Pb]:["IDPCommunicationError",400],[Db]:kb,[Mb]:400},[Lb],[0]];Ve.for(dn).registerError(mNe,m5);hNe=[-3,dn,J4t,{[Pb]:["IDPRejectedClaim",403],[Db]:kb,[Mb]:403},[Lb],[0]];Ve.for(dn).registerError(hNe,p5);gNe=[-3,dn,W4t,{[Pb]:["InvalidIdentityToken",400],[Db]:kb,[Mb]:400},[Lb],[0]];Ve.for(dn).registerError(gNe,f5);yNe=[-3,dn,Q4t,{[Pb]:["MalformedPolicyDocument",400],[Db]:kb,[Mb]:400},[Lb],[0]];Ve.for(dn).registerError(yNe,l5);bNe=[-3,dn,nEt,{[Pb]:["PackedPolicyTooLarge",400],[Db]:kb,[Mb]:400},[Lb],[0]];Ve.for(dn).registerError(bNe,u5);vNe=[3,dn,tEt,0,[gEt],[0]],_Ne=[3,dn,eEt,0,[X4t,V4t],[0,0]],xNe=[-3,dn,oEt,{[Pb]:["RegionDisabledException",403],[Db]:kb,[Mb]:403},[Lb],[0]];Ve.for(dn).registerError(xNe,d5);SNe=[3,dn,fEt,0,[K4t,mEt],[0,0],2],wNe=[-3,cNe,"STSServiceException",0,[],[]];Ve.for(cNe).registerError(wNe,ac);ANe=[1,dn,vEt,0,()=>vNe],wEt=[1,dn,Z4t,0,()=>_Ne],AEt=[1,dn,_Et,0,()=>SNe],kZ=[9,dn,D4t,0,()=>lNe,()=>uNe],DZ=[9,dn,$4t,0,()=>dNe,()=>pNe]});var Bb,yD=y(()=>{"use strict";Ge();Ae();mD();gD();Bb=class extends oe.classBuilder().ep(fD).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").sc(kZ).build(){}});var $b,bD=y(()=>{"use strict";Ge();Ae();mD();gD();$b=class extends oe.classBuilder().ep(fD).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").sc(DZ).build(){}});var EEt,vD,ENe=y(()=>{"use strict";Ae();yD();bD();a5();EEt={AssumeRoleCommand:Bb,AssumeRoleWithWebIdentityCommand:$b},vD=class extends Vp{};Wl(EEt,vD)});var TNe=y(()=>{"use strict";yD();bD()});var RNe=y(()=>{"use strict"});var INe,CNe,NNe,ONe,PNe,kNe=y(()=>{"use strict";os();h0();yD();bD();INe=t=>{if(typeof t?.Arn=="string"){let e=t.Arn.split(":");if(e.length>4&&e[4]!=="")return e[4]}},CNe=async(t,e,r,n={})=>{let i=typeof t=="function"?await t():t,o=typeof e=="function"?await e():e,s="",a=i??o??(s=await IIe(n)());return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${i} (credential provider clientConfig)`,`${o} (contextual client)`,`${s} (STS default: AWS_REGION, profile region, or us-east-1)`),a},NNe=(t,e)=>{let r,n;return async(i,o)=>{if(n=i,!r){let{logger:u=t?.parentClientConfig?.logger,profile:d=t?.parentClientConfig?.profile,region:p,requestHandler:f=t?.parentClientConfig?.requestHandler,credentialProviderLogger:h,userAgentAppId:m=t?.parentClientConfig?.userAgentAppId}=t,g=await CNe(p,t?.parentClientConfig?.region,h,{logger:u,profile:d}),b=!PNe(f);r=new e({...t,userAgentAppId:m,profile:d,credentialDefaultProvider:()=>async()=>n,region:g,requestHandler:b?f:void 0,logger:u})}let{Credentials:s,AssumedRoleUser:a}=await r.send(new Bb(o));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);let c=INe(a),l={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...c&&{accountId:c}};return Dr(l,"CREDENTIALS_STS_ASSUME_ROLE","i"),l}},ONe=(t,e)=>{let r;return async n=>{if(!r){let{logger:c=t?.parentClientConfig?.logger,profile:l=t?.parentClientConfig?.profile,region:u,requestHandler:d=t?.parentClientConfig?.requestHandler,credentialProviderLogger:p,userAgentAppId:f=t?.parentClientConfig?.userAgentAppId}=t,h=await CNe(u,t?.parentClientConfig?.region,p,{logger:c,profile:l}),m=!PNe(d);r=new e({...t,userAgentAppId:f,profile:l,region:h,requestHandler:m?d:void 0,logger:c})}let{Credentials:i,AssumedRoleUser:o}=await r.send(new $b(n));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let s=INe(o),a={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...s&&{accountId:s}};return s&&Dr(a,"RESOLVED_ACCOUNT_ID","T"),Dr(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},PNe=t=>t?.metadata?.handlerProtocol==="h2"});var DNe,MNe,LNe,TEt,BNe=y(()=>{"use strict";kNe();a5();DNe=(t,e)=>e?class extends t{constructor(n){super(n);for(let i of e)this.middlewareStack.use(i)}}:t,MNe=(t={},e)=>NNe(t,DNe(Vp,e)),LNe=(t={},e)=>ONe(t,DNe(Vp,e)),TEt=t=>e=>t({roleAssumer:MNe(e),roleAssumerWithWebIdentity:LNe(e),...e})});var MZ={};wr(MZ,{$Command:()=>oe,AssumeRole$:()=>kZ,AssumeRoleCommand:()=>Bb,AssumeRoleRequest$:()=>lNe,AssumeRoleResponse$:()=>uNe,AssumeRoleWithWebIdentity$:()=>DZ,AssumeRoleWithWebIdentityCommand:()=>$b,AssumeRoleWithWebIdentityRequest$:()=>dNe,AssumeRoleWithWebIdentityResponse$:()=>pNe,AssumedRoleUser$:()=>OZ,Credentials$:()=>PZ,ExpiredTokenException:()=>c5,ExpiredTokenException$:()=>fNe,IDPCommunicationErrorException:()=>m5,IDPCommunicationErrorException$:()=>mNe,IDPRejectedClaimException:()=>p5,IDPRejectedClaimException$:()=>hNe,InvalidIdentityTokenException:()=>f5,InvalidIdentityTokenException$:()=>gNe,MalformedPolicyDocumentException:()=>l5,MalformedPolicyDocumentException$:()=>yNe,PackedPolicyTooLargeException:()=>u5,PackedPolicyTooLargeException$:()=>bNe,PolicyDescriptorType$:()=>vNe,ProvidedContext$:()=>_Ne,RegionDisabledException:()=>d5,RegionDisabledException$:()=>xNe,STS:()=>vD,STSClient:()=>Vp,STSServiceException:()=>ac,STSServiceException$:()=>wNe,Tag$:()=>SNe,__Client:()=>Ao,decorateDefaultCredentialProvider:()=>TEt,getDefaultRoleAssumer:()=>MNe,getDefaultRoleAssumerWithWebIdentity:()=>LNe});var LZ=y(()=>{"use strict";a5();ENe();TNe();gD();RZ();RNe();BNe();hD()});var UNe,REt,IEt,FNe,$Ne,zNe=y(()=>{"use strict";os();hn();ic();v9e();UNe=(t,{profile:e="default",logger:r}={})=>!!t&&typeof t=="object"&&typeof t.role_arn=="string"&&["undefined","string"].indexOf(typeof t.role_session_name)>-1&&["undefined","string"].indexOf(typeof t.external_id)>-1&&["undefined","string"].indexOf(typeof t.mfa_serial)>-1&&(REt(t,{profile:e,logger:r})||IEt(t,{profile:e,logger:r})),REt=(t,{profile:e,logger:r})=>{let n=typeof t.source_profile=="string"&&typeof t.credential_source>"u";return n&&r?.debug?.(`    ${e} isAssumeRoleWithSourceProfile source_profile=${t.source_profile}`),n},IEt=(t,{profile:e,logger:r})=>{let n=typeof t.credential_source=="string"&&typeof t.source_profile>"u";return n&&r?.debug?.(`    ${e} isCredentialSourceProfile credential_source=${t.credential_source}`),n},FNe=async(t,e,r,n,i={},o)=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let s=e[t],{source_profile:a,region:c}=s;if(!r.roleAssumer){let{getDefaultRoleAssumer:u}=await Promise.resolve().then(()=>(LZ(),MZ));r.roleAssumer=u({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...n,...r?.parentClientConfig,region:c??r?.parentClientConfig?.region??n?.region}},r.clientPlugins)}if(a&&a in i)throw new gt(`Detected a cycle attempting to resolve credentials for profile ${nc(r)}. Profiles visited: `+Object.keys(i).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${a?`source_profile=[${a}]`:`profile=[${t}]`}`);let l=a?o(a,e,r,n,{...i,[a]:!0},$Ne(e[a]??{})):(await b9e(s.credential_source,t,r.logger)(r))();if($Ne(s))return l.then(u=>Dr(u,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let u={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id,DurationSeconds:parseInt(s.duration_seconds||"3600",10)},{mfa_serial:d}=s;if(d){if(!r.mfaCodeProvider)throw new gt(`Profile ${t} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});u.SerialNumber=d,u.TokenCode=await r.mfaCodeProvider(d)}let p=await l;return r.roleAssumer(p,u).then(f=>Dr(f,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},$Ne=t=>!t.role_arn&&!!t.credential_source});function CEt(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"signin",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function NEt(t){return{schemeId:"smithy.api#noAuth"}}var VNe,HNe,GNe,BZ=y(()=>{"use strict";uo();Ds();VNe=async(t,e,r)=>({operation:Ri(e).operation,region:await cn(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});HNe=t=>{let e=[];switch(t.operation){case"CreateOAuth2Token":{e.push(NEt(t));break}default:e.push(CEt(t))}return e},GNe=t=>{let e=Jl(t);return Object.assign(e,{authSchemePreference:cn(t.authSchemePreference??[])})}});var jNe,qNe,$Z=y(()=>{"use strict";jNe=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"signin"}),qNe={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var eOe,Vs,JNe,Ub,VS,v0,Rd,SD,UZ,WNe,KNe,QNe,FZ,zZ,zs,VZ,_D,xD,XNe,YNe,ZNe,OEt,tOe,rOe=y(()=>{"use strict";eOe="required",Vs="argv",JNe="isSet",Ub="booleanEquals",VS="error",v0="endpoint",Rd="tree",SD="PartitionResult",UZ="stringEquals",WNe={[eOe]:!0,default:!1,type:"boolean"},KNe={[eOe]:!1,type:"string"},QNe={ref:"Endpoint"},FZ={fn:Ub,[Vs]:[{ref:"UseFIPS"},!0]},zZ={fn:Ub,[Vs]:[{ref:"UseDualStack"},!0]},zs={},VZ={fn:"getAttr",[Vs]:[{ref:SD},"name"]},_D={fn:Ub,[Vs]:[{ref:"UseFIPS"},!1]},xD={fn:Ub,[Vs]:[{ref:"UseDualStack"},!1]},XNe={fn:"getAttr",[Vs]:[{ref:SD},"supportsFIPS"]},YNe={fn:Ub,[Vs]:[!0,{fn:"getAttr",[Vs]:[{ref:SD},"supportsDualStack"]}]},ZNe=[{ref:"Region"}],OEt={version:"1.0",parameters:{UseDualStack:WNe,UseFIPS:WNe,Endpoint:KNe,Region:KNe},rules:[{conditions:[{fn:JNe,[Vs]:[QNe]}],rules:[{conditions:[FZ],error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:VS},{rules:[{conditions:[zZ],error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:VS},{endpoint:{url:QNe,properties:zs,headers:zs},type:v0}],type:Rd}],type:Rd},{rules:[{conditions:[{fn:JNe,[Vs]:ZNe}],rules:[{conditions:[{fn:"aws.partition",[Vs]:ZNe,assign:SD}],rules:[{conditions:[{fn:UZ,[Vs]:[VZ,"aws"]},_D,xD],endpoint:{url:"https://{Region}.signin.aws.amazon.com",properties:zs,headers:zs},type:v0},{conditions:[{fn:UZ,[Vs]:[VZ,"aws-cn"]},_D,xD],endpoint:{url:"https://{Region}.signin.amazonaws.cn",properties:zs,headers:zs},type:v0},{conditions:[{fn:UZ,[Vs]:[VZ,"aws-us-gov"]},_D,xD],endpoint:{url:"https://{Region}.signin.amazonaws-us-gov.com",properties:zs,headers:zs},type:v0},{conditions:[FZ,zZ],rules:[{conditions:[{fn:Ub,[Vs]:[!0,XNe]},YNe],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:zs,headers:zs},type:v0}],type:Rd},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:VS}],type:Rd},{conditions:[FZ,xD],rules:[{conditions:[{fn:Ub,[Vs]:[XNe,!0]}],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dnsSuffix}",properties:zs,headers:zs},type:v0}],type:Rd},{error:"FIPS is enabled but this partition does not support FIPS",type:VS}],type:Rd},{conditions:[_D,zZ],rules:[{conditions:[YNe],rules:[{endpoint:{url:"https://signin.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:zs,headers:zs},type:v0}],type:Rd},{error:"DualStack is enabled but this partition does not support DualStack",type:VS}],type:Rd},{endpoint:{url:"https://signin.{Region}.{PartitionResult#dnsSuffix}",properties:zs,headers:zs},type:v0}],type:Rd}],type:Rd},{error:"Invalid Configuration: Missing Region",type:VS}],type:Rd}]},tOe=OEt});var PEt,nOe,iOe=y(()=>{"use strict";r0();wd();rOe();PEt=new ec({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),nOe=(t,e={})=>PEt.get(t,()=>Vl(tOe,{endpointParams:t,logger:e.logger}));is.aws=jc});var oOe,sOe=y(()=>{"use strict";uo();vm();Fn();Ae();bm();Ms();Fi();BZ();iOe();oOe=t=>({apiVersion:"2023-01-01",base64Decoder:t?.base64Decoder??gi,base64Encoder:t?.base64Encoder??Un,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??nOe,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??HNe,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new ss},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new $l}],logger:t?.logger??new $s,protocol:t?.protocol??a0,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.signin",version:"2023-01-01",serviceTarget:"Signin"},serviceId:t?.serviceId??"Signin",urlParser:t?.urlParser??Fo,utf8Decoder:t?.utf8Decoder??Jn,utf8Encoder:t?.utf8Encoder??$n})});var aOe,cOe=y(()=>{"use strict";jk();uo();Rb();ba();Ib();Jc();ou();pm();Ae();Cb();Nb();xm();sOe();aOe=t=>{Ql(process.version);let e=mu(t),r=()=>e().then(Kl),n=oOe(t);Hl(process.version);let i={profile:t?.profile,logger:n.logger};return{...n,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??Rt(Gl,i),bodyLengthChecker:t?.bodyLengthChecker??fu,defaultUserAgentProvider:t?.defaultUserAgentProvider??du({serviceId:n.serviceId,clientVersion:OS.version}),maxAttempts:t?.maxAttempts??Rt(au,t),region:t?.region??Rt(Us,{...rc,...i}),requestHandler:Ls.create(t?.requestHandler??r),retryMode:t?.retryMode??Rt({...lu,default:async()=>(await r()).retryMode||oc},t),sha256:t?.sha256??sc.bind(null,"sha256"),streamCollector:t?.streamCollector??Ka,useDualstackEndpoint:t?.useDualstackEndpoint??Rt(tu,i),useFipsEndpoint:t?.useFipsEndpoint??Rt(ru,i),userAgentAppId:t?.userAgentAppId??Rt(pu,i)}}});var lOe,uOe,dOe=y(()=>{"use strict";lOe=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(i){let o=e.findIndex(s=>s.schemeId===i.schemeId);o===-1?e.push(i):e.splice(o,1,i)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},uOe=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var pOe,fOe=y(()=>{"use strict";h0();ri();Ae();dOe();pOe=(t,e)=>{let r=Object.assign(yu(t),Xl(t),Il(t),lOe(t));return e.forEach(n=>n.configure(r)),Object.assign(t,bu(r),Yl(r),Cl(r),uOe(r))}});var h5,HZ=y(()=>{"use strict";db();pb();fb();l0();ba();Fn();ln();Ab();Ge();Jc();Ae();BZ();$Z();cOe();fOe();h5=class extends Ao{config;constructor(...[e]){let r=aOe(e||{});super(r),this.initConfig=r;let n=jNe(r),i=Ul(n),o=cu(i),s=nu(o),a=s,c=su(a),l=GNe(c),u=pOe(l,e?.extensions||[]);this.config=u,this.middlewareStack.use(Ll(this.config)),this.middlewareStack.use(eu(this.config)),this.middlewareStack.use(uu(this.config)),this.middlewareStack.use(iu(this.config)),this.middlewareStack.use(Ol(this.config)),this.middlewareStack.use(Pl(this.config)),this.middlewareStack.use(kl(this.config)),this.middlewareStack.use(Dl(this.config,{httpAuthSchemeParametersProvider:VNe,identityProviderConfigProvider:async d=>new Za({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(Ml(this.config))}destroy(){super.destroy()}}});var Id,wD=y(()=>{"use strict";Ae();Id=class t extends tc{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var g5,y5,b5,v5,GZ=y(()=>{"use strict";wD();g5=class t extends Id{name="AccessDeniedException";$fault="client";error;constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error}},y5=class t extends Id{name="InternalServerException";$fault="server";error;constructor(e){super({name:"InternalServerException",$fault:"server",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error}},b5=class t extends Id{name="TooManyRequestsError";$fault="client";error;constructor(e){super({name:"TooManyRequestsError",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error}},v5=class t extends Id{name="ValidationException";$fault="client";error;constructor(e){super({name:"ValidationException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error}}});var kEt,DEt,MEt,LEt,BEt,$Et,UEt,FEt,zEt,VEt,HEt,mOe,hOe,jZ,gOe,yOe,GEt,_0,bOe,vOe,jEt,qZ,_Oe,Kc,ED,AD,xOe,qEt,SOe,wOe,EOe,JEt,WEt,AOe,va,TOe,ROe,IOe,COe,NOe,OOe,POe,kOe,DOe,MOe,LOe,JZ,WZ=y(()=>{"use strict";ln();GZ();wD();kEt="AccessDeniedException",DEt="AccessToken",MEt="CreateOAuth2Token",LEt="CreateOAuth2TokenRequest",BEt="CreateOAuth2TokenRequestBody",$Et="CreateOAuth2TokenResponseBody",UEt="CreateOAuth2TokenResponse",FEt="InternalServerException",zEt="RefreshToken",VEt="TooManyRequestsError",HEt="ValidationException",mOe="accessKeyId",hOe="accessToken",jZ="client",gOe="clientId",yOe="codeVerifier",GEt="code",_0="error",bOe="expiresIn",vOe="grantType",jEt="http",qZ="httpError",_Oe="idToken",Kc="jsonName",ED="message",AD="refreshToken",xOe="redirectUri",qEt="server",SOe="secretAccessKey",wOe="sessionToken",EOe="smithy.ts.sdk.synthetic.com.amazonaws.signin",JEt="tokenInput",WEt="tokenOutput",AOe="tokenType",va="com.amazonaws.signin",TOe=[0,va,zEt,8,0],ROe=[-3,va,kEt,{[_0]:jZ},[_0,ED],[0,0],2];Ve.for(va).registerError(ROe,g5);IOe=[3,va,DEt,8,[mOe,SOe,wOe],[[0,{[Kc]:mOe}],[0,{[Kc]:SOe}],[0,{[Kc]:wOe}]],3],COe=[3,va,LEt,0,[JEt],[[()=>NOe,16]],1],NOe=[3,va,BEt,0,[gOe,vOe,GEt,xOe,yOe,AD],[[0,{[Kc]:gOe}],[0,{[Kc]:vOe}],0,[0,{[Kc]:xOe}],[0,{[Kc]:yOe}],[()=>TOe,{[Kc]:AD}]],2],OOe=[3,va,UEt,0,[WEt],[[()=>POe,16]],1],POe=[3,va,$Et,0,[hOe,AOe,bOe,AD,_Oe],[[()=>IOe,{[Kc]:hOe}],[0,{[Kc]:AOe}],[1,{[Kc]:bOe}],[()=>TOe,{[Kc]:AD}],[0,{[Kc]:_Oe}]],4],kOe=[-3,va,FEt,{[_0]:qEt,[qZ]:500},[_0,ED],[0,0],2];Ve.for(va).registerError(kOe,y5);DOe=[-3,va,VEt,{[_0]:jZ,[qZ]:429},[_0,ED],[0,0],2];Ve.for(va).registerError(DOe,b5);MOe=[-3,va,HEt,{[_0]:jZ,[qZ]:400},[_0,ED],[0,0],2];Ve.for(va).registerError(MOe,v5);LOe=[-3,EOe,"SigninServiceException",0,[],[]];Ve.for(EOe).registerError(LOe,Id);JZ=[9,va,MEt,{[jEt]:["POST","/v1/token",200]},()=>COe,()=>OOe]});var _5,KZ=y(()=>{"use strict";Ge();Ae();$Z();WZ();_5=class extends oe.classBuilder().ep(qNe).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("Signin","CreateOAuth2Token",{}).n("SigninClient","CreateOAuth2TokenCommand").sc(JZ).build(){}});var KEt,TD,BOe=y(()=>{"use strict";Ae();KZ();HZ();KEt={CreateOAuth2TokenCommand:_5},TD=class extends h5{};Wl(KEt,TD)});var $Oe=y(()=>{"use strict";KZ()});var QEt,UOe=y(()=>{"use strict";QEt={AUTHCODE_EXPIRED:"AUTHCODE_EXPIRED",INSUFFICIENT_PERMISSIONS:"INSUFFICIENT_PERMISSIONS",INVALID_REQUEST:"INVALID_REQUEST",SERVER_ERROR:"server_error",TOKEN_EXPIRED:"TOKEN_EXPIRED",USER_CREDENTIALS_CHANGED:"USER_CREDENTIALS_CHANGED"}});var FOe=y(()=>{"use strict"});var zOe={};wr(zOe,{$Command:()=>oe,AccessDeniedException:()=>g5,AccessDeniedException$:()=>ROe,AccessToken$:()=>IOe,CreateOAuth2Token$:()=>JZ,CreateOAuth2TokenCommand:()=>_5,CreateOAuth2TokenRequest$:()=>COe,CreateOAuth2TokenRequestBody$:()=>NOe,CreateOAuth2TokenResponse$:()=>OOe,CreateOAuth2TokenResponseBody$:()=>POe,InternalServerException:()=>y5,InternalServerException$:()=>kOe,OAuth2ErrorCode:()=>QEt,Signin:()=>TD,SigninClient:()=>h5,SigninServiceException:()=>Id,SigninServiceException$:()=>LOe,TooManyRequestsError:()=>b5,TooManyRequestsError$:()=>DOe,ValidationException:()=>v5,ValidationException$:()=>MOe,__Client:()=>Ao});var VOe=y(()=>{"use strict";HZ();BOe();$Oe();WZ();UOe();GZ();FOe();wD()});import{createHash as XEt,createPrivateKey as YEt,createPublicKey as ZEt,sign as e6t}from"node:crypto";import{promises as QZ}from"node:fs";import{homedir as t6t}from"node:os";import{dirname as r6t,join as HOe}from"node:path";var RD,GOe=y(()=>{"use strict";hn();ri();ic();RD=class t{profileData;init;callerClientConfig;static REFRESH_THRESHOLD=300*1e3;constructor(e,r,n){this.profileData=e,this.init=r,this.callerClientConfig=n}async loadCredentials(){let e=await this.loadToken();if(!e)throw new gt(`Failed to load a token for session ${this.loginSession}, please re-authenticate using aws login`,{tryNextLink:!1,logger:this.logger});let r=e.accessToken,n=Date.now();return new Date(r.expiresAt).getTime()-n<=t.REFRESH_THRESHOLD?this.refresh(e):{accessKeyId:r.accessKeyId,secretAccessKey:r.secretAccessKey,sessionToken:r.sessionToken,accountId:r.accountId,expiration:new Date(r.expiresAt)}}get logger(){return this.init?.logger}get loginSession(){return this.profileData.login_session}async refresh(e){let{SigninClient:r,CreateOAuth2TokenCommand:n}=await Promise.resolve().then(()=>(VOe(),zOe)),{logger:i,userAgentAppId:o}=this.callerClientConfig??{},a=(d=>d?.metadata?.handlerProtocol==="h2")(this.callerClientConfig?.requestHandler)?void 0:this.callerClientConfig?.requestHandler,c=this.profileData.region??await this.callerClientConfig?.region?.()??process.env.AWS_REGION,l=new r({credentials:{accessKeyId:"",secretAccessKey:""},region:c,requestHandler:a,logger:i,userAgentAppId:o,...this.init?.clientConfig});this.createDPoPInterceptor(l.middlewareStack);let u={tokenInput:{clientId:e.clientId,refreshToken:e.refreshToken,grantType:"refresh_token"}};try{let d=await l.send(new n(u)),{accessKeyId:p,secretAccessKey:f,sessionToken:h}=d.tokenOutput?.accessToken??{},{refreshToken:m,expiresIn:g}=d.tokenOutput??{};if(!p||!f||!h||!m)throw new gt("Token refresh response missing required fields",{logger:this.logger,tryNextLink:!1});let b=(g??900)*1e3,_=new Date(Date.now()+b),x={...e,accessToken:{...e.accessToken,accessKeyId:p,secretAccessKey:f,sessionToken:h,expiresAt:_.toISOString()},refreshToken:m};await this.saveToken(x);let E=x.accessToken;return{accessKeyId:E.accessKeyId,secretAccessKey:E.secretAccessKey,sessionToken:E.sessionToken,accountId:E.accountId,expiration:_}}catch(d){if(d.name==="AccessDeniedException"){let p=d.error,f;switch(p){case"TOKEN_EXPIRED":f="Your session has expired. Please reauthenticate.";break;case"USER_CREDENTIALS_CHANGED":f="Unable to refresh credentials because of a change in your password. Please reauthenticate with your new password.";break;case"INSUFFICIENT_PERMISSIONS":f="Unable to refresh credentials due to insufficient permissions. You may be missing permission for the 'CreateOAuth2Token' action.";break;default:f=`Failed to refresh token: ${String(d)}. Please re-authenticate using \`aws login\``}throw new gt(f,{logger:this.logger,tryNextLink:!1})}throw new gt(`Failed to refresh token: ${String(d)}. Please re-authenticate using aws login`,{logger:this.logger})}}async loadToken(){let e=this.getTokenFilePath();try{let r;try{r=await p0(e,{ignoreCache:this.init?.ignoreCache})}catch{r=await QZ.readFile(e,"utf8")}let n=JSON.parse(r),i=["accessToken","clientId","refreshToken","dpopKey"].filter(o=>!n[o]);if(n.accessToken?.accountId||i.push("accountId"),i.length>0)throw new gt(`Token validation failed, missing fields: ${i.join(", ")}`,{logger:this.logger,tryNextLink:!1});return n}catch(r){throw new gt(`Failed to load token from ${e}: ${String(r)}`,{logger:this.logger,tryNextLink:!1})}}async saveToken(e){let r=this.getTokenFilePath(),n=r6t(r);try{await QZ.mkdir(n,{recursive:!0})}catch{}await QZ.writeFile(r,JSON.stringify(e,null,2),"utf8")}getTokenFilePath(){let e=process.env.AWS_LOGIN_CACHE_DIRECTORY??HOe(t6t(),".aws","login","cache"),r=Buffer.from(this.loginSession,"utf8"),n=XEt("sha256").update(r).digest("hex");return HOe(e,`${n}.json`)}derToRawSignature(e){let r=2;if(e[r]!==2)throw new Error("Invalid DER signature");r++;let n=e[r++],i=e.subarray(r,r+n);if(r+=n,e[r]!==2)throw new Error("Invalid DER signature");r++;let o=e[r++],s=e.subarray(r,r+o);i=i[0]===0?i.subarray(1):i,s=s[0]===0?s.subarray(1):s;let a=Buffer.concat([Buffer.alloc(32-i.length),i]),c=Buffer.concat([Buffer.alloc(32-s.length),s]);return Buffer.concat([a,c])}createDPoPInterceptor(e){e.add(r=>async n=>{if(an.isInstance(n.request)){let i=n.request,o=`${i.protocol}//${i.hostname}${i.port?`:${i.port}`:""}${i.path}`,s=await this.generateDpop(i.method,o);i.headers={...i.headers,DPoP:s}}return r(n)},{step:"finalizeRequest",name:"dpopInterceptor",override:!0})}async generateDpop(e="POST",r){let n=await this.loadToken();try{let i=YEt({key:n.dpopKey,format:"pem",type:"sec1"}),s=ZEt(i).export({format:"der",type:"spki"}),a=-1;for(let _=0;_<s.length;_++)if(s[_]===4){a=_;break}let c=s.slice(a+1,a+33),l=s.slice(a+33,a+65),u={alg:"ES256",typ:"dpop+jwt",jwk:{kty:"EC",crv:"P-256",x:c.toString("base64url"),y:l.toString("base64url")}},d={jti:crypto.randomUUID(),htm:e,htu:r,iat:Math.floor(Date.now()/1e3)},p=Buffer.from(JSON.stringify(u)).toString("base64url"),f=Buffer.from(JSON.stringify(d)).toString("base64url"),h=`${p}.${f}`,m=e6t("sha256",Buffer.from(h),i),b=this.derToRawSignature(m).toString("base64url");return`${h}.${b}`}catch(i){throw new gt(`Failed to generate Dpop proof: ${i instanceof Error?i.message:String(i)}`,{logger:this.logger,tryNextLink:!1})}}}});var jOe,qOe=y(()=>{"use strict";os();hn();ic();GOe();jOe=t=>async({callerClientConfig:e}={})=>{t?.logger?.debug?.("@aws-sdk/credential-providers - fromLoginCredentials");let r=await Up(t||{}),n=nc({profile:t?.profile??e?.profile}),i=r[n];if(!i?.login_session)throw new gt(`Profile ${n} does not contain login_session.`,{tryNextLink:!0,logger:t?.logger});let s=await new RD(i,t,e).loadCredentials();return Dr(s,"CREDENTIALS_LOGIN","AD")}});var JOe=y(()=>{"use strict"});var WOe=y(()=>{"use strict";qOe();JOe()});var KOe,QOe,XOe=y(()=>{"use strict";os();WOe();KOe=t=>!!(t&&t.login_session),QOe=async(t,e,r)=>{let n=await jOe({...e,profile:t})({callerClientConfig:r});return Dr(n,"CREDENTIALS_PROFILE_LOGIN","AC")}});var YOe,ZOe=y(()=>{"use strict";os();YOe=(t,e,r)=>{if(e.Version!==1)throw Error(`Profile ${t} credential_process did not return Version 1.`);if(e.AccessKeyId===void 0||e.SecretAccessKey===void 0)throw Error(`Profile ${t} credential_process returned invalid credentials.`);if(e.Expiration){let o=new Date;if(new Date(e.Expiration)<o)throw Error(`Profile ${t} credential_process returned expired credentials.`)}let n=e.AccountId;!n&&r?.[t]?.aws_account_id&&(n=r[t].aws_account_id);let i={accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,...e.SessionToken&&{sessionToken:e.SessionToken},...e.Expiration&&{expiration:new Date(e.Expiration)},...e.CredentialScope&&{credentialScope:e.CredentialScope},...n&&{accountId:n}};return Dr(i,"CREDENTIALS_PROCESS","w"),i}});import{exec as n6t}from"child_process";import{promisify as i6t}from"util";var e7e,t7e=y(()=>{"use strict";hn();ic();ZOe();e7e=async(t,e,r)=>{let n=e[t];if(e[t]){let i=n.credential_process;if(i!==void 0){let o=i6t($3?.getTokenRecord?.().exec??n6t);try{let{stdout:s}=await o(i),a;try{a=JSON.parse(s.trim())}catch{throw Error(`Profile ${t} credential_process returned invalid JSON.`)}return YOe(t,a,e)}catch(s){throw new gt(s.message,{logger:r})}}else throw new gt(`Profile ${t} did not contain credential_process.`,{logger:r})}else throw new gt(`Profile ${t} could not be found in shared credentials file.`,{logger:r})}});var o6t,r7e=y(()=>{"use strict";ic();t7e();o6t=(t={})=>async({callerClientConfig:e}={})=>{t.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await Up(t);return e7e(nc({profile:t.profile??e?.profile}),r,t.logger)}});var XZ={};wr(XZ,{fromProcess:()=>o6t});var YZ=y(()=>{"use strict";r7e()});var n7e,i7e,o7e=y(()=>{"use strict";os();n7e=t=>!!t&&typeof t=="object"&&typeof t.credential_process=="string",i7e=async(t,e)=>Promise.resolve().then(()=>(YZ(),XZ)).then(({fromProcess:r})=>r({...t,profile:e})().then(n=>Dr(n,"CREDENTIALS_PROFILE_PROCESS","v")))});var s7e,a7e,c7e=y(()=>{"use strict";os();s7e=async(t,e,r={},n)=>{let{fromSSO:i}=await Promise.resolve().then(()=>(SZ(),xZ));return i({profile:t,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})({callerClientConfig:n}).then(o=>e.sso_session?Dr(o,"CREDENTIALS_PROFILE_SSO","r"):Dr(o,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},a7e=t=>t&&(typeof t.sso_start_url=="string"||typeof t.sso_account_id=="string"||typeof t.sso_session=="string"||typeof t.sso_region=="string"||typeof t.sso_role_name=="string")});var ZZ,eee,l7e=y(()=>{"use strict";os();ZZ=t=>!!t&&typeof t=="object"&&typeof t.aws_access_key_id=="string"&&typeof t.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof t.aws_session_token)>-1&&["undefined","string"].indexOf(typeof t.aws_account_id)>-1,eee=async(t,e)=>{e?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:t.aws_access_key_id,secretAccessKey:t.aws_secret_access_key,sessionToken:t.aws_session_token,...t.aws_credential_scope&&{credentialScope:t.aws_credential_scope},...t.aws_account_id&&{accountId:t.aws_account_id}};return Dr(r,"CREDENTIALS_PROFILE","n")}});var tee,ree=y(()=>{"use strict";tee=t=>async e=>{t.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:i,providerId:o,policyArns:s,policy:a,durationSeconds:c}=t,{roleAssumerWithWebIdentity:l}=t;if(!l){let{getDefaultRoleAssumerWithWebIdentity:u}=await Promise.resolve().then(()=>(LZ(),MZ));l=u({...t.clientConfig,credentialProviderLogger:t.logger,parentClientConfig:{...e?.callerClientConfig,...t.parentClientConfig}},t.clientPlugins)}return l({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:i,ProviderId:o,PolicyArns:s,Policy:a,DurationSeconds:c})}});import{readFileSync as s6t}from"fs";var u7e,a6t,c6t,l6t,d7e=y(()=>{"use strict";os();hn();ic();ree();u7e="AWS_WEB_IDENTITY_TOKEN_FILE",a6t="AWS_ROLE_ARN",c6t="AWS_ROLE_SESSION_NAME",l6t=(t={})=>async e=>{t.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let r=t?.webIdentityTokenFile??process.env[u7e],n=t?.roleArn??process.env[a6t],i=t?.roleSessionName??process.env[c6t];if(!r||!n)throw new gt("Web identity configuration not specified",{logger:t.logger});let o=await tee({...t,webIdentityToken:$3?.getTokenRecord?.()[r]??s6t(r,{encoding:"ascii"}),roleArn:n,roleSessionName:i})(e);return r===process.env[u7e]&&Dr(o,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),o}});var nee={};wr(nee,{fromTokenFile:()=>l6t,fromWebToken:()=>tee});var iee=y(()=>{"use strict";d7e();ree()});var p7e,f7e,m7e=y(()=>{"use strict";os();p7e=t=>!!t&&typeof t=="object"&&typeof t.web_identity_token_file=="string"&&typeof t.role_arn=="string"&&["undefined","string"].indexOf(typeof t.role_session_name)>-1,f7e=async(t,e,r)=>Promise.resolve().then(()=>(iee(),nee)).then(({fromTokenFile:n})=>n({webIdentityTokenFile:t.web_identity_token_file,roleArn:t.role_arn,roleSessionName:t.role_session_name,roleAssumerWithWebIdentity:e.roleAssumerWithWebIdentity,logger:e.logger,parentClientConfig:e.parentClientConfig})({callerClientConfig:r}).then(i=>Dr(i,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q")))});var oee,h7e=y(()=>{"use strict";hn();zNe();XOe();o7e();c7e();l7e();m7e();oee=async(t,e,r,n,i={},o=!1)=>{let s=e[t];if(Object.keys(i).length>0&&ZZ(s))return eee(s,r);if(o||UNe(s,{profile:t,logger:r.logger}))return FNe(t,e,r,n,i,oee);if(ZZ(s))return eee(s,r);if(p7e(s))return f7e(s,r,n);if(n7e(s))return i7e(r,t);if(a7e(s))return await s7e(t,s,r,n);if(KOe(s))return QOe(t,r,n);throw new gt(`Could not resolve credentials using profile: [${t}] in configuration/credentials file(s).`,{logger:r.logger})}});var u6t,g7e=y(()=>{"use strict";ic();h7e();u6t=(t={})=>async({callerClientConfig:e}={})=>{t.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let r=await Up(t);return oee(nc({profile:t.profile??e?.profile}),r,t,e)}});var y7e={};wr(y7e,{fromIni:()=>u6t});var b7e=y(()=>{"use strict";g7e()});var v7e,ID,d6t,_7e=y(()=>{"use strict";MY();hn();ic();k8e();M8e();v7e=!1,ID=(t={})=>D8e([async()=>{if(t.profile??process.env[vY])throw process.env[Dk]&&process.env[Mk]&&(v7e||((t.logger?.warn&&t.logger?.constructor?.name!=="NoOpLogger"?t.logger.warn.bind(t.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),v7e=!0)),new gt("AWS_PROFILE is set, skipping fromEnv provider.",{logger:t.logger,tryNextLink:!0});return t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),DY(t)()},async e=>{t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:i,ssoRoleName:o,ssoSession:s}=t;if(!r&&!n&&!i&&!o&&!s)throw new gt("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:t.logger});let{fromSSO:a}=await Promise.resolve().then(()=>(SZ(),xZ));return a(t)(e)},async e=>{t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>(b7e(),y7e));return r(t)(e)},async e=>{t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>(YZ(),XZ));return r(t)(e)},async e=>{t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>(iee(),nee));return r(t)(e)},async()=>(t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await P8e(t))()),async()=>{throw new gt("Could not load credentials from any providers",{tryNextLink:!1,logger:t.logger})}],d6t),d6t=t=>t?.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5});var see=y(()=>{"use strict";_7e()});var D7e,cc,x0,S0,x7e,x5,HS,Gp,Em,CD,aee,S7e,w7e,A7e,M7e,L7e,xu,E7e,T7e,cee,R7e,I7e,C7e,N7e,O7e,P7e,k7e,p6t,B7e,$7e=y(()=>{"use strict";D7e="required",cc="argv",x0="properties",S0="headers",x7e="isSet",x5="booleanEquals",HS="error",Gp="endpoint",Em="tree",CD="PartitionResult",aee="stringEquals",S7e={[D7e]:!1,type:"string"},w7e={[D7e]:!0,default:!1,type:"boolean"},A7e={ref:"Endpoint"},M7e={fn:x5,[cc]:[{ref:"UseFIPS"},!0]},L7e={fn:x5,[cc]:[{ref:"UseDualStack"},!0]},xu={},E7e={fn:"getAttr",[cc]:[{ref:CD},"supportsFIPS"]},T7e={fn:x5,[cc]:[!0,{fn:"getAttr",[cc]:[{ref:CD},"supportsDualStack"]}]},cee={fn:"getAttr",[cc]:[{ref:CD},"name"]},R7e={url:"https://secretsmanager-fips.{Region}.amazonaws.com",[x0]:{},[S0]:{}},I7e={url:"https://secretsmanager.{Region}.amazonaws.com",[x0]:{},[S0]:{}},C7e=[M7e],N7e=[L7e],O7e=[{ref:"Region"}],P7e=[{fn:aee,[cc]:["aws",cee]}],k7e=[{fn:aee,[cc]:["aws-us-gov",cee]}],p6t={version:"1.0",parameters:{Region:S7e,UseDualStack:w7e,UseFIPS:w7e,Endpoint:S7e},rules:[{conditions:[{fn:x7e,[cc]:[A7e]}],rules:[{conditions:C7e,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:HS},{conditions:N7e,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:HS},{endpoint:{url:A7e,[x0]:xu,[S0]:xu},type:Gp}],type:Em},{conditions:[{fn:x7e,[cc]:O7e}],rules:[{conditions:[{fn:"aws.partition",[cc]:O7e,assign:CD}],rules:[{conditions:[M7e,L7e],rules:[{conditions:[{fn:x5,[cc]:[!0,E7e]},T7e],rules:[{conditions:P7e,endpoint:R7e,type:Gp},{conditions:k7e,endpoint:R7e,type:Gp},{endpoint:{url:"https://secretsmanager-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[x0]:xu,[S0]:xu},type:Gp}],type:Em},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:HS}],type:Em},{conditions:C7e,rules:[{conditions:[{fn:x5,[cc]:[E7e,!0]}],rules:[{endpoint:{url:"https://secretsmanager-fips.{Region}.{PartitionResult#dnsSuffix}",[x0]:xu,[S0]:xu},type:Gp}],type:Em},{error:"FIPS is enabled but this partition does not support FIPS",type:HS}],type:Em},{conditions:N7e,rules:[{conditions:[T7e],rules:[{conditions:P7e,endpoint:I7e,type:Gp},{conditions:[{fn:aee,[cc]:["aws-cn",cee]}],endpoint:{url:"https://secretsmanager.{Region}.amazonaws.com.cn",[x0]:xu,[S0]:xu},type:Gp},{conditions:k7e,endpoint:I7e,type:Gp},{endpoint:{url:"https://secretsmanager.{Region}.{PartitionResult#dualStackDnsSuffix}",[x0]:xu,[S0]:xu},type:Gp}],type:Em},{error:"DualStack is enabled but this partition does not support DualStack",type:HS}],type:Em},{endpoint:{url:"https://secretsmanager.{Region}.{PartitionResult#dnsSuffix}",[x0]:xu,[S0]:xu},type:Gp}],type:Em}],type:Em},{error:"Invalid Configuration: Missing Region",type:HS}]},B7e=p6t});var f6t,U7e,F7e=y(()=>{"use strict";r0();wd();$7e();f6t=new ec({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),U7e=(t,e={})=>f6t.get(t,()=>Vl(B7e,{endpointParams:t,logger:e.logger}));is.aws=jc});var z7e,V7e=y(()=>{"use strict";uo();vm();Ae();bm();Ms();Fi();kY();F7e();z7e=t=>({apiVersion:"2017-10-17",base64Decoder:t?.base64Decoder??gi,base64Encoder:t?.base64Encoder??Un,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??U7e,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??XRe,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new ss}],logger:t?.logger??new $s,protocol:t?.protocol??lk,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.secretsmanager",version:"2017-10-17",serviceTarget:"secretsmanager"},serviceId:t?.serviceId??"Secrets Manager",urlParser:t?.urlParser??Fo,utf8Decoder:t?.utf8Decoder??Jn,utf8Encoder:t?.utf8Encoder??$n})});var H7e,G7e=y(()=>{"use strict";e8e();uo();see();Rb();ba();Ib();Jc();ou();pm();Ae();Cb();Nb();xm();V7e();H7e=t=>{Ql(process.version);let e=mu(t),r=()=>e().then(Kl),n=z7e(t);Hl(process.version);let i={profile:t?.profile,logger:n.logger};return{...n,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??Rt(Gl,i),bodyLengthChecker:t?.bodyLengthChecker??fu,credentialDefaultProvider:t?.credentialDefaultProvider??ID,defaultUserAgentProvider:t?.defaultUserAgentProvider??du({serviceId:n.serviceId,clientVersion:t8e.version}),maxAttempts:t?.maxAttempts??Rt(au,t),region:t?.region??Rt(Us,{...rc,...i}),requestHandler:Ls.create(t?.requestHandler??r),retryMode:t?.retryMode??Rt({...lu,default:async()=>(await r()).retryMode||oc},t),sha256:t?.sha256??sc.bind(null,"sha256"),streamCollector:t?.streamCollector??Ka,useDualstackEndpoint:t?.useDualstackEndpoint??Rt(tu,i),useFipsEndpoint:t?.useFipsEndpoint??Rt(ru,i),userAgentAppId:t?.userAgentAppId??Rt(pu,i)}}});var j7e,q7e,J7e=y(()=>{"use strict";j7e=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(i){let o=e.findIndex(s=>s.schemeId===i.schemeId);o===-1?e.push(i):e.splice(o,1,i)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},q7e=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var W7e,K7e=y(()=>{"use strict";h0();ri();Ae();J7e();W7e=(t,e)=>{let r=Object.assign(yu(t),Xl(t),Il(t),j7e(t));return e.forEach(n=>n.configure(r)),Object.assign(t,bu(r),Yl(r),Cl(r),q7e(r))}});var Cd,GS=y(()=>{"use strict";db();pb();fb();l0();ba();Fn();ln();Ab();Ge();Jc();Ae();kY();Kn();G7e();K7e();Cd=class extends Ao{config;constructor(...[e]){let r=H7e(e||{});super(r),this.initConfig=r;let n=ZRe(r),i=Ul(n),o=cu(i),s=nu(o),a=s,c=su(a),l=YRe(c),u=W7e(l,e?.extensions||[]);this.config=u,this.middlewareStack.use(Ll(this.config)),this.middlewareStack.use(eu(this.config)),this.middlewareStack.use(uu(this.config)),this.middlewareStack.use(iu(this.config)),this.middlewareStack.use(Ol(this.config)),this.middlewareStack.use(Pl(this.config)),this.middlewareStack.use(kl(this.config)),this.middlewareStack.use(Dl(this.config,{httpAuthSchemeParametersProvider:QRe,identityProviderConfigProvider:async d=>new Za({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(Ml(this.config))}destroy(){super.destroy()}}});var Eo,ND=y(()=>{"use strict";Ae();Eo=class t extends tc{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var S5,w5,A5,E5,T5,R5,I5,C5,N5,O5,P5,k5,lee=y(()=>{"use strict";ND();S5=class t extends Eo{name="DecryptionFailure";$fault="client";Message;constructor(e){super({name:"DecryptionFailure",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},w5=class t extends Eo{name="InternalServiceError";$fault="server";Message;constructor(e){super({name:"InternalServiceError",$fault:"server",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},A5=class t extends Eo{name="InvalidNextTokenException";$fault="client";Message;constructor(e){super({name:"InvalidNextTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},E5=class t extends Eo{name="InvalidParameterException";$fault="client";Message;constructor(e){super({name:"InvalidParameterException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},T5=class t extends Eo{name="InvalidRequestException";$fault="client";Message;constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},R5=class t extends Eo{name="ResourceNotFoundException";$fault="client";Message;constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},I5=class t extends Eo{name="EncryptionFailure";$fault="client";Message;constructor(e){super({name:"EncryptionFailure",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},C5=class t extends Eo{name="LimitExceededException";$fault="client";Message;constructor(e){super({name:"LimitExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},N5=class t extends Eo{name="MalformedPolicyDocumentException";$fault="client";Message;constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},O5=class t extends Eo{name="PreconditionNotMetException";$fault="client";Message;constructor(e){super({name:"PreconditionNotMetException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},P5=class t extends Eo{name="ResourceExistsException";$fault="client";Message;constructor(e){super({name:"ResourceExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},k5=class t extends Eo{name="PublicPolicyException";$fault="client";Message;constructor(e){super({name:"PublicPolicyException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}}});var m6t,h6t,g6t,To,Q7e,y6t,b6t,v6t,_6t,x6t,D5,S6t,w6t,A6t,E6t,OD,T6t,R6t,I6t,PD,C6t,X7e,N6t,O6t,P6t,k6t,D6t,M6t,L6t,B6t,$6t,U6t,F6t,z6t,V6t,H6t,G6t,j6t,q6t,J6t,W6t,uee,K6t,Q6t,dee,X6t,Y7e,Y6t,Z6t,Z7e,e3t,t3t,r3t,n3t,i3t,o3t,s3t,a3t,c3t,l3t,u3t,d3t,p3t,f3t,m3t,h3t,g3t,pee,jS,y3t,kD,ePe,b3t,tPe,v3t,_3t,x3t,S3t,w3t,A3t,Qc,E3t,fee,T3t,ls,rPe,qS,nPe,R3t,I3t,C3t,iPe,N3t,O3t,P3t,k3t,D3t,M3t,L3t,oPe,sPe,B3t,$3t,U3t,F3t,mee,z3t,V3t,H3t,hee,gee,G3t,j3t,q3t,J3t,W3t,K3t,DD,Q3t,X3t,Y3t,Z3t,e5t,t5t,r5t,n5t,i5t,o5t,s5t,a5t,c5t,l5t,u5t,M5,d5t,p5t,f5t,po,m5t,h5t,g5t,y5t,b5t,v5t,_5t,x5t,S5t,L5,w5t,A5t,E5t,T5t,R5t,I5t,C5t,aPe,MD,N5t,O5t,P5t,k5t,D5t,LD,M5t,L5t,B5t,$5t,U5t,F5t,z5t,V5t,cPe,H5t,G5t,j5t,Tm,q5t,J5t,W5t,K5t,lPe,B5,Q5t,X5t,Nd,Su,Y5t,uPe,Ce,Z5t,eTt,$5,U5,dPe,pPe,fPe,mPe,hPe,gPe,yPe,bPe,vPe,_Pe,xPe,SPe,wPe,APe,EPe,TPe,RPe,IPe,CPe,NPe,OPe,PPe,kPe,DPe,MPe,LPe,BPe,$Pe,UPe,FPe,zPe,VPe,HPe,GPe,jPe,qPe,JPe,WPe,KPe,QPe,XPe,YPe,ZPe,eke,tke,rke,nke,ike,oke,ske,ake,BD,cke,lke,uke,dke,pke,fke,mke,hke,gke,yke,bke,vke,_ke,xke,Ske,wke,Ake,Eke,tTt,yee,Tke,$D,rTt,nTt,iTt,UD,oTt,bee,vee,_ee,xee,See,wee,Aee,Eee,Tee,Ree,Iee,Cee,Nee,Oee,Pee,kee,Dee,Mee,Lee,Bee,$ee,Uee,Fee,Qn=y(()=>{"use strict";ln();lee();ND();m6t="AutomaticallyAfterDays",h6t="APIErrorListType",g6t="APIErrorType",To="ARN",Q7e="AddReplicaRegions",y6t="AddReplicaRegionListType",b6t="BatchGetSecretValue",v6t="BatchGetSecretValueRequest",_6t="BatchGetSecretValueResponse",x6t="BlockPublicPolicy",D5="CreatedDate",S6t="CheckName",w6t="CancelRotateSecret",A6t="CancelRotateSecretRequest",E6t="CancelRotateSecretResponse",OD="ClientRequestToken",T6t="CreateSecret",R6t="CreateSecretRequest",I6t="CreateSecretResponse",PD="Description",C6t="DeletionDate",X7e="DeletedDate",N6t="DecryptionFailure",O6t="DeleteResourcePolicy",P6t="DeleteResourcePolicyRequest",k6t="DeleteResourcePolicyResponse",D6t="DeleteSecret",M6t="DeleteSecretRequest",L6t="DeleteSecretResponse",B6t="DescribeSecretRequest",$6t="DescribeSecretResponse",U6t="DescribeSecret",F6t="Duration",z6t="Errors",V6t="ErrorCode",H6t="ExcludeCharacters",G6t="EncryptionFailure",j6t="ExcludeLowercase",q6t="ErrorMessage",J6t="ExcludeNumbers",W6t="ExcludePunctuation",uee="ExternalSecretRotationMetadata",K6t="ExternalSecretRotationMetadataItem",Q6t="ExternalSecretRotationMetadataType",dee="ExternalSecretRotationRoleArn",X6t="ExcludeUppercase",Y7e="Filters",Y6t="ForceDeleteWithoutRecovery",Z6t="FiltersListType",Z7e="ForceOverwriteReplicaSecret",e3t="Filter",t3t="GetRandomPassword",r3t="GetRandomPasswordRequest",n3t="GetRandomPasswordResponse",i3t="GetResourcePolicyRequest",o3t="GetResourcePolicyResponse",s3t="GetResourcePolicy",a3t="GetSecretValue",c3t="GetSecretValueRequest",l3t="GetSecretValueResponse",u3t="IncludeDeprecated",d3t="InvalidNextTokenException",p3t="IncludePlannedDeletion",f3t="InvalidParameterException",m3t="InvalidRequestException",h3t="IncludeSpace",g3t="InternalServiceError",pee="Key",jS="KmsKeyId",y3t="KmsKeyIds",kD="LastAccessedDate",ePe="LastChangedDate",b3t="LimitExceededException",tPe="LastRotatedDate",v3t="ListSecrets",_3t="ListSecretsRequest",x3t="ListSecretsResponse",S3t="ListSecretVersionIds",w3t="ListSecretVersionIdsRequest",A3t="ListSecretVersionIdsResponse",Qc="Message",E3t="MalformedPolicyDocumentException",fee="MaxResults",T3t="MoveToVersionId",ls="Name",rPe="NextRotationDate",qS="NextToken",nPe="OwningService",R3t="PasswordLength",I3t="PreconditionNotMetException",C3t="PublicPolicyException",iPe="PrimaryRegion",N3t="PutResourcePolicy",O3t="PutResourcePolicyRequest",P3t="PutResourcePolicyResponse",k3t="PutSecretValue",D3t="PutSecretValueRequest",M3t="PutSecretValueResponse",L3t="PolicyValidationPassed",oPe="Region",sPe="RotationEnabled",B3t="ResourceExistsException",$3t="RequireEachIncludedType",U3t="RemoveFromVersionId",F3t="RotateImmediately",mee="RotationLambdaARN",z3t="ResourceNotFoundException",V3t="RandomPassword",H3t="RandomPasswordType",hee="ResourcePolicy",gee="RotationRules",G3t="RemoveRegionsFromReplication",j3t="RemoveRegionsFromReplicationRequest",q3t="RemoveRegionsFromReplicationResponse",J3t="RemoveReplicaRegions",W3t="ReplicaRegionType",K3t="RotationRulesType",DD="ReplicationStatus",Q3t="ReplicationStatusListType",X3t="RestoreSecretRequest",Y3t="RestoreSecretResponse",Z3t="RotateSecretRequest",e5t="RotateSecretResponse",t5t="ReplicationStatusType",r5t="ReplicateSecretToRegions",n5t="ReplicateSecretToRegionsRequest",i5t="ReplicateSecretToRegionsResponse",o5t="RestoreSecret",s5t="RotateSecret",a5t="RotationToken",c5t="RotationTokenType",l5t="RecoveryWindowInDays",u5t="Status",M5="SecretBinary",d5t="SecretBinaryType",p5t="SortBy",f5t="ScheduleExpression",po="SecretId",m5t="SecretIdList",h5t="SecretList",g5t="SecretListEntry",y5t="SecretListType",b5t="StatusMessage",v5t="SortOrder",_5t="StopReplicationToReplica",x5t="StopReplicationToReplicaRequest",S5t="StopReplicationToReplicaResponse",L5="SecretString",w5t="SecretStringType",A5t="SecretValues",E5t="SecretValueEntry",T5t="SecretVersionsListEntry",R5t="SecretVersionsListType",I5t="SecretValuesType",C5t="SecretVersionsToStages",aPe="SecretVersionsToStagesMapType",MD="Tags",N5t="TagKeys",O5t="TagListType",P5t="TagResource",k5t="TagResourceRequest",D5t="Tag",LD="Type",M5t="UntagResource",L5t="UntagResourceRequest",B5t="UpdateSecret",$5t="UpdateSecretRequest",U5t="UpdateSecretResponse",F5t="UpdateSecretVersionStage",z5t="UpdateSecretVersionStageRequest",V5t="UpdateSecretVersionStageResponse",cPe="Value",H5t="ValidationErrors",G5t="ValidationErrorsEntry",j5t="ValidationErrorsType",Tm="VersionId",q5t="VersionIdsToStages",J5t="ValidateResourcePolicy",W5t="ValidateResourcePolicyRequest",K5t="ValidateResourcePolicyResponse",lPe="VersionStage",B5="VersionStages",Q5t="Values",X5t="Versions",Nd="client",Su="error",Y5t="server",uPe="smithy.ts.sdk.synthetic.com.amazonaws.secretsmanager",Ce="com.amazonaws.secretsmanager",Z5t=[0,Ce,H3t,8,0],eTt=[0,Ce,c5t,8,0],$5=[0,Ce,d5t,8,21],U5=[0,Ce,w5t,8,0],dPe=[3,Ce,g6t,0,[po,V6t,Qc],[0,0,0]],pPe=[3,Ce,v6t,0,[m5t,Y7e,fee,qS],[64,()=>Tke,1,0]],fPe=[3,Ce,_6t,0,[A5t,qS,z6t],[[()=>nTt,0],0,()=>tTt]],mPe=[3,Ce,A6t,0,[po],[0],1],hPe=[3,Ce,E6t,0,[To,ls,Tm],[0,0,0]],gPe=[3,Ce,R6t,0,[ls,OD,PD,jS,M5,L5,MD,Q7e,Z7e,LD],[0,[0,4],0,0,[()=>$5,0],[()=>U5,0],()=>UD,()=>Eke,2,0],1],yPe=[3,Ce,I6t,0,[To,ls,Tm,DD],[0,0,0,()=>$D]],bPe=[-3,Ce,N6t,{[Su]:Nd},[Qc],[0]];Ve.for(Ce).registerError(bPe,S5);vPe=[3,Ce,P6t,0,[po],[0],1],_Pe=[3,Ce,k6t,0,[To,ls],[0,0]],xPe=[3,Ce,M6t,0,[po,l5t,Y6t],[0,1,2],1],SPe=[3,Ce,L6t,0,[To,ls,C6t],[0,0,4]],wPe=[3,Ce,B6t,0,[po],[0],1],APe=[3,Ce,$6t,0,[To,ls,LD,PD,jS,sPe,mee,gee,uee,dee,tPe,ePe,kD,X7e,rPe,MD,q5t,nPe,D5,iPe,DD],[0,0,0,0,0,2,0,()=>BD,()=>yee,0,4,4,4,4,4,()=>UD,[2,Ce,aPe,0,0,64],0,4,0,()=>$D]],EPe=[-3,Ce,G6t,{[Su]:Nd},[Qc],[0]];Ve.for(Ce).registerError(EPe,I5);TPe=[3,Ce,K6t,0,[pee,cPe],[0,0]],RPe=[3,Ce,e3t,0,[pee,Q5t],[0,64]],IPe=[3,Ce,r3t,0,[R3t,H6t,J6t,W6t,X6t,j6t,h3t,$3t],[1,0,2,2,2,2,2,2]],CPe=[3,Ce,n3t,0,[V3t],[[()=>Z5t,0]]],NPe=[3,Ce,i3t,0,[po],[0],1],OPe=[3,Ce,o3t,0,[To,ls,hee],[0,0,0]],PPe=[3,Ce,c3t,0,[po,Tm,lPe],[0,0,0],1],kPe=[3,Ce,l3t,0,[To,ls,Tm,M5,L5,B5,D5],[0,0,0,[()=>$5,0],[()=>U5,0],64,4]],DPe=[-3,Ce,g3t,{[Su]:Y5t},[Qc],[0]];Ve.for(Ce).registerError(DPe,w5);MPe=[-3,Ce,d3t,{[Su]:Nd},[Qc],[0]];Ve.for(Ce).registerError(MPe,A5);LPe=[-3,Ce,f3t,{[Su]:Nd},[Qc],[0]];Ve.for(Ce).registerError(LPe,E5);BPe=[-3,Ce,m3t,{[Su]:Nd},[Qc],[0]];Ve.for(Ce).registerError(BPe,T5);$Pe=[-3,Ce,b3t,{[Su]:Nd},[Qc],[0]];Ve.for(Ce).registerError($Pe,C5);UPe=[3,Ce,_3t,0,[p3t,fee,qS,Y7e,v5t,p5t],[2,1,0,()=>Tke,0,0]],FPe=[3,Ce,x3t,0,[h5t,qS],[()=>rTt,0]],zPe=[3,Ce,w3t,0,[po,fee,qS,u3t],[0,1,0,2],1],VPe=[3,Ce,A3t,0,[X5t,qS,To,ls],[()=>iTt,0,0,0]],HPe=[-3,Ce,E3t,{[Su]:Nd},[Qc],[0]];Ve.for(Ce).registerError(HPe,N5);GPe=[-3,Ce,I3t,{[Su]:Nd},[Qc],[0]];Ve.for(Ce).registerError(GPe,O5);jPe=[-3,Ce,C3t,{[Su]:Nd},[Qc],[0]];Ve.for(Ce).registerError(jPe,k5);qPe=[3,Ce,O3t,0,[po,hee,x6t],[0,0,2],2],JPe=[3,Ce,P3t,0,[To,ls],[0,0]],WPe=[3,Ce,D3t,0,[po,OD,M5,L5,B5,a5t],[0,[0,4],[()=>$5,0],[()=>U5,0],64,[()=>eTt,0]],1],KPe=[3,Ce,M3t,0,[To,ls,Tm,B5],[0,0,0,64]],QPe=[3,Ce,j3t,0,[po,J3t],[0,64],2],XPe=[3,Ce,q3t,0,[To,DD],[0,()=>$D]],YPe=[3,Ce,W3t,0,[oPe,jS],[0,0]],ZPe=[3,Ce,n5t,0,[po,Q7e,Z7e],[0,()=>Eke,2],2],eke=[3,Ce,i5t,0,[To,DD],[0,()=>$D]],tke=[3,Ce,t5t,0,[oPe,jS,u5t,b5t,kD],[0,0,0,0,4]],rke=[-3,Ce,B3t,{[Su]:Nd},[Qc],[0]];Ve.for(Ce).registerError(rke,P5);nke=[-3,Ce,z3t,{[Su]:Nd},[Qc],[0]];Ve.for(Ce).registerError(nke,R5);ike=[3,Ce,X3t,0,[po],[0],1],oke=[3,Ce,Y3t,0,[To,ls],[0,0]],ske=[3,Ce,Z3t,0,[po,OD,mee,gee,uee,dee,F3t],[0,[0,4],0,()=>BD,()=>yee,0,2],1],ake=[3,Ce,e5t,0,[To,ls,Tm],[0,0,0]],BD=[3,Ce,K3t,0,[m6t,F6t,f5t],[1,0,0]],cke=[3,Ce,g5t,0,[To,ls,LD,PD,jS,sPe,mee,gee,uee,dee,tPe,ePe,kD,X7e,rPe,MD,C5t,nPe,D5,iPe],[0,0,0,0,0,2,0,()=>BD,()=>yee,0,4,4,4,4,4,()=>UD,[2,Ce,aPe,0,0,64],0,4,0]],lke=[3,Ce,E5t,0,[To,ls,Tm,M5,L5,B5,D5],[0,0,0,[()=>$5,0],[()=>U5,0],64,4]],uke=[3,Ce,T5t,0,[Tm,B5,kD,D5,y3t],[0,64,4,4,64]],dke=[3,Ce,x5t,0,[po],[0],1],pke=[3,Ce,S5t,0,[To],[0]],fke=[3,Ce,D5t,0,[pee,cPe],[0,0]],mke=[3,Ce,k5t,0,[po,MD],[0,()=>UD],2],hke=[3,Ce,L5t,0,[po,N5t],[0,64],2],gke=[3,Ce,$5t,0,[po,OD,PD,jS,M5,L5,LD],[0,[0,4],0,0,[()=>$5,0],[()=>U5,0],0],1],yke=[3,Ce,U5t,0,[To,ls,Tm],[0,0,0]],bke=[3,Ce,z5t,0,[po,lPe,U3t,T3t],[0,0,0,0],2],vke=[3,Ce,V5t,0,[To,ls],[0,0]],_ke=[3,Ce,W5t,0,[hee,po],[0,0],1],xke=[3,Ce,K5t,0,[L3t,H5t],[2,()=>oTt]],Ske=[3,Ce,G5t,0,[S6t,q6t],[0,0]],wke="unit",Ake=[-3,uPe,"SecretsManagerServiceException",0,[],[]];Ve.for(uPe).registerError(Ake,Eo);Eke=[1,Ce,y6t,0,()=>YPe],tTt=[1,Ce,h6t,0,()=>dPe],yee=[1,Ce,Q6t,0,()=>TPe],Tke=[1,Ce,Z6t,0,()=>RPe],$D=[1,Ce,Q3t,0,()=>tke],rTt=[1,Ce,y5t,0,()=>cke],nTt=[1,Ce,I5t,0,[()=>lke,0]],iTt=[1,Ce,R5t,0,()=>uke],UD=[1,Ce,O5t,0,()=>fke],oTt=[1,Ce,j5t,0,()=>Ske],bee=[9,Ce,b6t,0,()=>pPe,()=>fPe],vee=[9,Ce,w6t,0,()=>mPe,()=>hPe],_ee=[9,Ce,T6t,0,()=>gPe,()=>yPe],xee=[9,Ce,O6t,0,()=>vPe,()=>_Pe],See=[9,Ce,D6t,0,()=>xPe,()=>SPe],wee=[9,Ce,U6t,0,()=>wPe,()=>APe],Aee=[9,Ce,t3t,0,()=>IPe,()=>CPe],Eee=[9,Ce,s3t,0,()=>NPe,()=>OPe],Tee=[9,Ce,a3t,0,()=>PPe,()=>kPe],Ree=[9,Ce,v3t,0,()=>UPe,()=>FPe],Iee=[9,Ce,S3t,0,()=>zPe,()=>VPe],Cee=[9,Ce,N3t,0,()=>qPe,()=>JPe],Nee=[9,Ce,k3t,0,()=>WPe,()=>KPe],Oee=[9,Ce,G3t,0,()=>QPe,()=>XPe],Pee=[9,Ce,r5t,0,()=>ZPe,()=>eke],kee=[9,Ce,o5t,0,()=>ike,()=>oke],Dee=[9,Ce,s5t,0,()=>ske,()=>ake],Mee=[9,Ce,_5t,0,()=>dke,()=>pke],Lee=[9,Ce,P5t,0,()=>mke,()=>wke],Bee=[9,Ce,M5t,0,()=>hke,()=>wke],$ee=[9,Ce,B5t,0,()=>gke,()=>yke],Uee=[9,Ce,F5t,0,()=>bke,()=>vke],Fee=[9,Ce,J5t,0,()=>_ke,()=>xke]});var Fb,FD=y(()=>{"use strict";Ge();Ae();Kn();Qn();Fb=class extends oe.classBuilder().ep(rr).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","BatchGetSecretValue",{}).n("SecretsManagerClient","BatchGetSecretValueCommand").sc(bee).build(){}});var F5,zee=y(()=>{"use strict";Ge();Ae();Kn();Qn();F5=class extends oe.classBuilder().ep(rr).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","CancelRotateSecret",{}).n("SecretsManagerClient","CancelRotateSecretCommand").sc(vee).build(){}});var z5,Vee=y(()=>{"use strict";Ge();Ae();Kn();Qn();z5=class extends oe.classBuilder().ep(rr).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","CreateSecret",{}).n("SecretsManagerClient","CreateSecretCommand").sc(_ee).build(){}});var V5,Hee=y(()=>{"use strict";Ge();Ae();Kn();Qn();V5=class extends oe.classBuilder().ep(rr).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","DeleteResourcePolicy",{}).n("SecretsManagerClient","DeleteResourcePolicyCommand").sc(xee).build(){}});var H5,Gee=y(()=>{"use strict";Ge();Ae();Kn();Qn();H5=class extends oe.classBuilder().ep(rr).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","DeleteSecret",{}).n("SecretsManagerClient","DeleteSecretCommand").sc(See).build(){}});var G5,jee=y(()=>{"use strict";Ge();Ae();Kn();Qn();G5=class extends oe.classBuilder().ep(rr).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","DescribeSecret",{}).n("SecretsManagerClient","DescribeSecretCommand").sc(wee).build(){}});var j5,qee=y(()=>{"use strict";Ge();Ae();Kn();Qn();j5=class extends oe.classBuilder().ep(rr).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","GetRandomPassword",{}).n("SecretsManagerClient","GetRandomPasswordCommand").sc(Aee).build(){}});var q5,Jee=y(()=>{"use strict";Ge();Ae();Kn();Qn();q5=class extends oe.classBuilder().ep(rr).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","GetResourcePolicy",{}).n("SecretsManagerClient","GetResourcePolicyCommand").sc(Eee).build(){}});var J5,Wee=y(()=>{"use strict";Ge();Ae();Kn();Qn();J5=class extends oe.classBuilder().ep(rr).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","GetSecretValue",{}).n("SecretsManagerClient","GetSecretValueCommand").sc(Tee).build(){}});var zb,zD=y(()=>{"use strict";Ge();Ae();Kn();Qn();zb=class extends oe.classBuilder().ep(rr).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","ListSecrets",{}).n("SecretsManagerClient","ListSecretsCommand").sc(Ree).build(){}});var Vb,VD=y(()=>{"use strict";Ge();Ae();Kn();Qn();Vb=class extends oe.classBuilder().ep(rr).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","ListSecretVersionIds",{}).n("SecretsManagerClient","ListSecretVersionIdsCommand").sc(Iee).build(){}});var W5,Kee=y(()=>{"use strict";Ge();Ae();Kn();Qn();W5=class extends oe.classBuilder().ep(rr).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","PutResourcePolicy",{}).n("SecretsManagerClient","PutResourcePolicyCommand").sc(Cee).build(){}});var K5,Qee=y(()=>{"use strict";Ge();Ae();Kn();Qn();K5=class extends oe.classBuilder().ep(rr).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","PutSecretValue",{}).n("SecretsManagerClient","PutSecretValueCommand").sc(Nee).build(){}});var Q5,Xee=y(()=>{"use strict";Ge();Ae();Kn();Qn();Q5=class extends oe.classBuilder().ep(rr).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","RemoveRegionsFromReplication",{}).n("SecretsManagerClient","RemoveRegionsFromReplicationCommand").sc(Oee).build(){}});var X5,Yee=y(()=>{"use strict";Ge();Ae();Kn();Qn();X5=class extends oe.classBuilder().ep(rr).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","ReplicateSecretToRegions",{}).n("SecretsManagerClient","ReplicateSecretToRegionsCommand").sc(Pee).build(){}});var Y5,Zee=y(()=>{"use strict";Ge();Ae();Kn();Qn();Y5=class extends oe.classBuilder().ep(rr).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","RestoreSecret",{}).n("SecretsManagerClient","RestoreSecretCommand").sc(kee).build(){}});var Z5,ete=y(()=>{"use strict";Ge();Ae();Kn();Qn();Z5=class extends oe.classBuilder().ep(rr).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","RotateSecret",{}).n("SecretsManagerClient","RotateSecretCommand").sc(Dee).build(){}});var eT,tte=y(()=>{"use strict";Ge();Ae();Kn();Qn();eT=class extends oe.classBuilder().ep(rr).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","StopReplicationToReplica",{}).n("SecretsManagerClient","StopReplicationToReplicaCommand").sc(Mee).build(){}});var tT,rte=y(()=>{"use strict";Ge();Ae();Kn();Qn();tT=class extends oe.classBuilder().ep(rr).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","TagResource",{}).n("SecretsManagerClient","TagResourceCommand").sc(Lee).build(){}});var rT,nte=y(()=>{"use strict";Ge();Ae();Kn();Qn();rT=class extends oe.classBuilder().ep(rr).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","UntagResource",{}).n("SecretsManagerClient","UntagResourceCommand").sc(Bee).build(){}});var nT,ite=y(()=>{"use strict";Ge();Ae();Kn();Qn();nT=class extends oe.classBuilder().ep(rr).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","UpdateSecret",{}).n("SecretsManagerClient","UpdateSecretCommand").sc($ee).build(){}});var iT,ote=y(()=>{"use strict";Ge();Ae();Kn();Qn();iT=class extends oe.classBuilder().ep(rr).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","UpdateSecretVersionStage",{}).n("SecretsManagerClient","UpdateSecretVersionStageCommand").sc(Uee).build(){}});var oT,ste=y(()=>{"use strict";Ge();Ae();Kn();Qn();oT=class extends oe.classBuilder().ep(rr).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","ValidateResourcePolicy",{}).n("SecretsManagerClient","ValidateResourcePolicyCommand").sc(Fee).build(){}});var ate,cte=y(()=>{"use strict";Fn();FD();GS();ate=hi(Cd,Fb,"NextToken","NextToken","MaxResults")});var lte,ute=y(()=>{"use strict";Fn();zD();GS();lte=hi(Cd,zb,"NextToken","NextToken","MaxResults")});var dte,pte=y(()=>{"use strict";Fn();VD();GS();dte=hi(Cd,Vb,"NextToken","NextToken","MaxResults")});var sTt,aTt,HD,Rke=y(()=>{"use strict";Ae();FD();zee();Vee();Hee();Gee();jee();qee();Jee();Wee();zD();VD();Kee();Qee();Xee();Yee();Zee();ete();tte();rte();nte();ite();ote();ste();cte();ute();pte();GS();sTt={BatchGetSecretValueCommand:Fb,CancelRotateSecretCommand:F5,CreateSecretCommand:z5,DeleteResourcePolicyCommand:V5,DeleteSecretCommand:H5,DescribeSecretCommand:G5,GetRandomPasswordCommand:j5,GetResourcePolicyCommand:q5,GetSecretValueCommand:J5,ListSecretsCommand:zb,ListSecretVersionIdsCommand:Vb,PutResourcePolicyCommand:W5,PutSecretValueCommand:K5,RemoveRegionsFromReplicationCommand:Q5,ReplicateSecretToRegionsCommand:X5,RestoreSecretCommand:Y5,RotateSecretCommand:Z5,StopReplicationToReplicaCommand:eT,TagResourceCommand:tT,UntagResourceCommand:rT,UpdateSecretCommand:nT,UpdateSecretVersionStageCommand:iT,ValidateResourcePolicyCommand:oT},aTt={paginateBatchGetSecretValue:ate,paginateListSecrets:lte,paginateListSecretVersionIds:dte},HD=class extends Cd{};Wl(sTt,HD,{paginators:aTt})});var Ike=y(()=>{"use strict";FD();zee();Vee();Hee();Gee();jee();qee();Jee();Wee();VD();zD();Kee();Qee();Xee();Yee();Zee();ete();tte();rte();nte();ite();ote();ste()});var Cke=y(()=>{"use strict"});var Nke=y(()=>{"use strict";Cke();cte();ute();pte()});var cTt,lTt,uTt,dTt,Oke=y(()=>{"use strict";cTt={all:"all",description:"description",name:"name",owning_service:"owning-service",primary_region:"primary-region",tag_key:"tag-key",tag_value:"tag-value"},lTt={Failed:"Failed",InProgress:"InProgress",InSync:"InSync"},uTt={created_date:"created-date",last_accessed_date:"last-accessed-date",last_changed_date:"last-changed-date",name:"name"},dTt={asc:"asc",desc:"desc"}});var Pke=y(()=>{"use strict"});var kke={};wr(kke,{$Command:()=>oe,APIErrorType$:()=>dPe,BatchGetSecretValue$:()=>bee,BatchGetSecretValueCommand:()=>Fb,BatchGetSecretValueRequest$:()=>pPe,BatchGetSecretValueResponse$:()=>fPe,CancelRotateSecret$:()=>vee,CancelRotateSecretCommand:()=>F5,CancelRotateSecretRequest$:()=>mPe,CancelRotateSecretResponse$:()=>hPe,CreateSecret$:()=>_ee,CreateSecretCommand:()=>z5,CreateSecretRequest$:()=>gPe,CreateSecretResponse$:()=>yPe,DecryptionFailure:()=>S5,DecryptionFailure$:()=>bPe,DeleteResourcePolicy$:()=>xee,DeleteResourcePolicyCommand:()=>V5,DeleteResourcePolicyRequest$:()=>vPe,DeleteResourcePolicyResponse$:()=>_Pe,DeleteSecret$:()=>See,DeleteSecretCommand:()=>H5,DeleteSecretRequest$:()=>xPe,DeleteSecretResponse$:()=>SPe,DescribeSecret$:()=>wee,DescribeSecretCommand:()=>G5,DescribeSecretRequest$:()=>wPe,DescribeSecretResponse$:()=>APe,EncryptionFailure:()=>I5,EncryptionFailure$:()=>EPe,ExternalSecretRotationMetadataItem$:()=>TPe,Filter$:()=>RPe,FilterNameStringType:()=>cTt,GetRandomPassword$:()=>Aee,GetRandomPasswordCommand:()=>j5,GetRandomPasswordRequest$:()=>IPe,GetRandomPasswordResponse$:()=>CPe,GetResourcePolicy$:()=>Eee,GetResourcePolicyCommand:()=>q5,GetResourcePolicyRequest$:()=>NPe,GetResourcePolicyResponse$:()=>OPe,GetSecretValue$:()=>Tee,GetSecretValueCommand:()=>J5,GetSecretValueRequest$:()=>PPe,GetSecretValueResponse$:()=>kPe,InternalServiceError:()=>w5,InternalServiceError$:()=>DPe,InvalidNextTokenException:()=>A5,InvalidNextTokenException$:()=>MPe,InvalidParameterException:()=>E5,InvalidParameterException$:()=>LPe,InvalidRequestException:()=>T5,InvalidRequestException$:()=>BPe,LimitExceededException:()=>C5,LimitExceededException$:()=>$Pe,ListSecretVersionIds$:()=>Iee,ListSecretVersionIdsCommand:()=>Vb,ListSecretVersionIdsRequest$:()=>zPe,ListSecretVersionIdsResponse$:()=>VPe,ListSecrets$:()=>Ree,ListSecretsCommand:()=>zb,ListSecretsRequest$:()=>UPe,ListSecretsResponse$:()=>FPe,MalformedPolicyDocumentException:()=>N5,MalformedPolicyDocumentException$:()=>HPe,PreconditionNotMetException:()=>O5,PreconditionNotMetException$:()=>GPe,PublicPolicyException:()=>k5,PublicPolicyException$:()=>jPe,PutResourcePolicy$:()=>Cee,PutResourcePolicyCommand:()=>W5,PutResourcePolicyRequest$:()=>qPe,PutResourcePolicyResponse$:()=>JPe,PutSecretValue$:()=>Nee,PutSecretValueCommand:()=>K5,PutSecretValueRequest$:()=>WPe,PutSecretValueResponse$:()=>KPe,RemoveRegionsFromReplication$:()=>Oee,RemoveRegionsFromReplicationCommand:()=>Q5,RemoveRegionsFromReplicationRequest$:()=>QPe,RemoveRegionsFromReplicationResponse$:()=>XPe,ReplicaRegionType$:()=>YPe,ReplicateSecretToRegions$:()=>Pee,ReplicateSecretToRegionsCommand:()=>X5,ReplicateSecretToRegionsRequest$:()=>ZPe,ReplicateSecretToRegionsResponse$:()=>eke,ReplicationStatusType$:()=>tke,ResourceExistsException:()=>P5,ResourceExistsException$:()=>rke,ResourceNotFoundException:()=>R5,ResourceNotFoundException$:()=>nke,RestoreSecret$:()=>kee,RestoreSecretCommand:()=>Y5,RestoreSecretRequest$:()=>ike,RestoreSecretResponse$:()=>oke,RotateSecret$:()=>Dee,RotateSecretCommand:()=>Z5,RotateSecretRequest$:()=>ske,RotateSecretResponse$:()=>ake,RotationRulesType$:()=>BD,SecretListEntry$:()=>cke,SecretValueEntry$:()=>lke,SecretVersionsListEntry$:()=>uke,SecretsManager:()=>HD,SecretsManagerClient:()=>Cd,SecretsManagerServiceException:()=>Eo,SecretsManagerServiceException$:()=>Ake,SortByType:()=>uTt,SortOrderType:()=>dTt,StatusType:()=>lTt,StopReplicationToReplica$:()=>Mee,StopReplicationToReplicaCommand:()=>eT,StopReplicationToReplicaRequest$:()=>dke,StopReplicationToReplicaResponse$:()=>pke,Tag$:()=>fke,TagResource$:()=>Lee,TagResourceCommand:()=>tT,TagResourceRequest$:()=>mke,UntagResource$:()=>Bee,UntagResourceCommand:()=>rT,UntagResourceRequest$:()=>hke,UpdateSecret$:()=>$ee,UpdateSecretCommand:()=>nT,UpdateSecretRequest$:()=>gke,UpdateSecretResponse$:()=>yke,UpdateSecretVersionStage$:()=>Uee,UpdateSecretVersionStageCommand:()=>iT,UpdateSecretVersionStageRequest$:()=>bke,UpdateSecretVersionStageResponse$:()=>vke,ValidateResourcePolicy$:()=>Fee,ValidateResourcePolicyCommand:()=>oT,ValidateResourcePolicyRequest$:()=>_ke,ValidateResourcePolicyResponse$:()=>xke,ValidationErrorsEntry$:()=>Ske,__Client:()=>Ao,paginateBatchGetSecretValue:()=>ate,paginateListSecretVersionIds:()=>dte,paginateListSecrets:()=>lte});var Dke=y(()=>{"use strict";GS();Rke();Ike();Qn();Nke();Oke();lee();Pke();ND()});function xe(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,ee))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(t).constructor;if(r)for(;r;){if(ee in r&&r[ee]===e[ee])return!0;r=Object.getPrototypeOf(r)}return!1}var ee,gKr,rt=y(()=>{"use strict";ee=Symbol.for("drizzle:entityKind"),gKr=Symbol.for("drizzle:hasOwnEntityKind")});var gn,Rm=y(()=>{"use strict";rt();gn=class{constructor(e,r){this.table=e,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}static[ee]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}});var GD,Mke=y(()=>{"use strict";rt();GD=class{static[ee]="ColumnBuilder";config;constructor(e,r,n){this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}});var Od,jD=y(()=>{"use strict";Od=Symbol.for("drizzle:Name")});var qD,fte,mte=y(()=>{"use strict";rt();jD();qD=class{static[ee]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,r){this.reference=()=>{let{name:n,columns:i,foreignColumns:o}=e();return{name:n,columns:i,foreignTable:o[0].table,foreignColumns:o}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new fte(e,this)}},fte=class{constructor(e,r){this.table=e,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}static[ee]="PgForeignKey";reference;onUpdate;onDelete;getName(){let{name:e,columns:r,foreignColumns:n}=this.reference(),i=r.map(a=>a.name),o=n.map(a=>a.name),s=[this.table[Od],...i,n[0].table[Od],...o];return e??`${s.join("_")}_fk`}}});function JD(t,...e){return t(...e)}var hte=y(()=>{"use strict"});function jp(t){return new yte(t)}function vte(t,e){return`${t[Od]}_${e.join("_")}_unique`}var gte,yte,bte,_te=y(()=>{"use strict";rt();jD();gte=class{constructor(e,r){this.name=r,this.columns=e}static[ee]="PgUniqueConstraintBuilder";columns;nullsNotDistinctConfig=!1;nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(e){return new bte(e,this.columns,this.nullsNotDistinctConfig,this.name)}},yte=class{static[ee]="PgUniqueOnConstraintBuilder";name;constructor(e){this.name=e}on(...e){return new gte(e,this.name)}},bte=class{constructor(e,r,n,i){this.table=e,this.columns=r,this.name=i??vte(this.table,this.columns.map(o=>o.name)),this.nullsNotDistinct=n}static[ee]="PgUniqueConstraint";columns;name;nullsNotDistinct=!1;getName(){return this.name}}});function Lke(t,e,r){for(let n=e;n<t.length;n++){let i=t[n];if(i==="\\"){n++;continue}if(i==='"')return[t.slice(e,n).replace(/\\/g,""),n+1];if(!r&&(i===","||i==="}"))return[t.slice(e,n).replace(/\\/g,""),n]}return[t.slice(e).replace(/\\/g,""),t.length]}function Bke(t,e=0){let r=[],n=e,i=!1;for(;n<t.length;){let o=t[n];if(o===","){(i||n===e)&&r.push(""),i=!0,n++;continue}if(i=!1,o==="\\"){n+=2;continue}if(o==='"'){let[c,l]=Lke(t,n+1,!0);r.push(c),n=l;continue}if(o==="}")return[r,n+1];if(o==="{"){let[c,l]=Bke(t,n+1);r.push(c),n=l;continue}let[s,a]=Lke(t,n,!1);r.push(s),n=a}return[r,n]}function $ke(t){let[e]=Bke(t,1);return e}function xte(t){return`{${t.map(e=>Array.isArray(e)?xte(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}var Ste=y(()=>{"use strict"});var xt,Ze,wte,JS,Ate,Ete,Tr=y(()=>{"use strict";Mke();Rm();rt();mte();hte();_te();Ste();xt=class extends GD{foreignKeyConfigs=[];static[ee]="PgColumnBuilder";array(e){return new Ate(this.config.name,this,e)}references(e,r={}){return this.foreignKeyConfigs.push({ref:e,actions:r}),this}unique(e,r){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=r?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,r){return this.foreignKeyConfigs.map(({ref:n,actions:i})=>JD((o,s)=>{let a=new qD(()=>{let c=o();return{columns:[e],foreignColumns:[c]}});return s.onUpdate&&a.onUpdate(s.onUpdate),s.onDelete&&a.onDelete(s.onDelete),a.build(r)},n,i))}buildExtraConfigColumn(e){return new wte(e,this.config)}},Ze=class extends gn{constructor(e,r){r.uniqueName||(r.uniqueName=vte(e,[r.name])),super(e,r),this.table=e}static[ee]="PgColumn"},wte=class extends Ze{static[ee]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}},JS=class{static[ee]="IndexedColumn";constructor(e,r,n,i){this.name=e,this.keyAsName=r,this.type=n,this.indexConfig=i}name;keyAsName;type;indexConfig},Ate=class extends xt{static[ee]="PgArrayBuilder";constructor(e,r,n){super(e,"array","PgArray"),this.config.baseBuilder=r,this.config.size=n}build(e){let r=this.config.baseBuilder.build(e);return new Ete(e,this.config,r)}},Ete=class t extends Ze{constructor(e,r,n,i){super(e,r),this.baseColumn=n,this.range=i,this.size=r.size}size;static[ee]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(e){return typeof e=="string"&&(e=$ke(e)),e.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(e,r=!1){let n=e.map(i=>i===null?null:xe(this.baseColumn,t)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return r?n:xte(n)}}});function Uke(t){return!!t&&typeof t=="function"&&WD in t&&t[WD]===!0}function Fke(t,e,r){let n=Object.assign(i=>new Ite(i??"",n),{enumName:t,enumValues:e,schema:r,[WD]:!0});return n}function zke(t,e,r){let n=Object.assign(i=>new Tte(i??"",n),{enumName:t,enumValues:Object.values(e),schema:r,[WD]:!0});return n}var Tte,Rte,WD,Ite,Cte,KD=y(()=>{"use strict";rt();Tr();Tte=class extends xt{static[ee]="PgEnumObjectColumnBuilder";constructor(e,r){super(e,"string","PgEnumObjectColumn"),this.config.enum=r}build(e){return new Rte(e,this.config)}},Rte=class extends Ze{static[ee]="PgEnumObjectColumn";enum;enumValues=this.config.enum.enumValues;constructor(e,r){super(e,r),this.enum=r.enum}getSQLType(){return this.enum.enumName}},WD=Symbol.for("drizzle:isPgEnum");Ite=class extends xt{static[ee]="PgEnumColumnBuilder";constructor(e,r){super(e,"string","PgEnumColumn"),this.config.enum=r}build(e){return new Cte(e,this.config)}},Cte=class extends Ze{static[ee]="PgEnumColumn";enum=this.config.enum;enumValues=this.config.enum.enumValues;constructor(e,r){super(e,r),this.enum=r.enum}getSQLType(){return this.enum.enumName}}});var Xn,WS,qp=y(()=>{"use strict";rt();Xn=class{static[ee]="Subquery";constructor(e,r,n,i=!1,o=[]){this._={brand:"Subquery",sql:e,selectedFields:r,alias:n,isWith:i,usedTables:o}}},WS=class extends Xn{static[ee]="WithSubquery"}});var Vke,Hke=y(()=>{"use strict";Vke="0.45.1"});var Nte,Ote,On,Im=y(()=>{"use strict";hte();Hke();On={startActiveSpan(t,e){return Nte?(Ote||(Ote=Nte.trace.getTracer("drizzle-orm",Vke)),JD((r,n)=>n.startActiveSpan(t,i=>{try{return e(i)}catch(o){throw i.setStatus({code:r.SpanStatusCode.ERROR,message:o instanceof Error?o.message:"Unknown error"}),o}finally{i.end()}}),Nte,Ote)):e()}}});var zn,w0=y(()=>{"use strict";zn=Symbol.for("drizzle:ViewBaseConfig")});function lc(t){return t[Od]}function Gb(t){return`${t[Hb]??"public"}.${t[Od]}`}var Hb,QD,Gke,Pte,kte,sT,jke,hTt,it,uc=y(()=>{"use strict";rt();jD();Hb=Symbol.for("drizzle:Schema"),QD=Symbol.for("drizzle:Columns"),Gke=Symbol.for("drizzle:ExtraConfigColumns"),Pte=Symbol.for("drizzle:OriginalName"),kte=Symbol.for("drizzle:BaseName"),sT=Symbol.for("drizzle:IsAlias"),jke=Symbol.for("drizzle:ExtraConfigBuilder"),hTt=Symbol.for("drizzle:IsDrizzleTable"),it=class{static[ee]="Table";static Symbol={Name:Od,Schema:Hb,OriginalName:Pte,Columns:QD,ExtraConfigColumns:Gke,BaseName:kte,IsAlias:sT,ExtraConfigBuilder:jke};[Od];[Pte];[Hb];[QD];[Gke];[kte];[sT]=!1;[hTt]=!0;[jke]=void 0;constructor(e,r,n){this[Od]=this[Pte]=e,this[Hb]=r,this[kte]=n}}});function Dte(t){return t!=null&&typeof t.getSQL=="function"}function gTt(t){let e={sql:"",params:[]};for(let r of t)e.sql+=r.sql,e.params.push(...r.params),r.typings?.length&&(e.typings||(e.typings=[]),e.typings.push(...r.typings));return e}function Jke(t){return typeof t=="object"&&t!==null&&"mapToDriverValue"in t&&typeof t.mapToDriverValue=="function"}function re(t,...e){let r=[];(e.length>0||t.length>0&&t[0]!=="")&&r.push(new fo(t[0]));for(let[n,i]of e.entries())r.push(i,new fo(t[n+1]));return new mt(r)}function jb(t,e){return t.map(r=>{if(xe(r,Cm)){if(!(r.name in e))throw new Error(`No value for placeholder "${r.name}" was provided`);return e[r.name]}if(xe(r,dc)&&xe(r.value,Cm)){if(!(r.value.name in e))throw new Error(`No value for placeholder "${r.value.name}" was provided`);return r.encoder.mapToDriverValue(e[r.value.name])}return r})}var qke,fo,mt,aT,Wke,Kke,oQr,dc,Cm,yTt,_a,Ci=y(()=>{"use strict";rt();KD();qp();Im();w0();Rm();uc();qke=class{static[ee]="FakePrimitiveParam"};fo=class{static[ee]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new mt([this])}},mt=class t{constructor(e){this.queryChunks=e;for(let r of e)if(xe(r,it)){let n=r[it.Symbol.Schema];this.usedTables.push(n===void 0?r[it.Symbol.Name]:n+"."+r[it.Symbol.Name])}}static[ee]="SQL";decoder=Wke;shouldInlineParams=!1;usedTables=[];append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return On.startActiveSpan("drizzle.buildSQL",r=>{let n=this.buildQueryFromSourceParams(this.queryChunks,e);return r?.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(e,r){let n=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:i,escapeName:o,escapeParam:s,prepareTyping:a,inlineParams:c,paramStartIndex:l}=n;return gTt(e.map(u=>{if(xe(u,fo))return{sql:u.value.join(""),params:[]};if(xe(u,aT))return{sql:o(u.value),params:[]};if(u===void 0)return{sql:"",params:[]};if(Array.isArray(u)){let d=[new fo("(")];for(let[p,f]of u.entries())d.push(f),p<u.length-1&&d.push(new fo(", "));return d.push(new fo(")")),this.buildQueryFromSourceParams(d,n)}if(xe(u,t))return this.buildQueryFromSourceParams(u.queryChunks,{...n,inlineParams:c||u.shouldInlineParams});if(xe(u,it)){let d=u[it.Symbol.Schema],p=u[it.Symbol.Name];return{sql:d===void 0||u[sT]?o(p):o(d)+"."+o(p),params:[]}}if(xe(u,gn)){let d=i.getColumnCasing(u);if(r.invokeSource==="indexes")return{sql:o(d),params:[]};let p=u.table[it.Symbol.Schema];return{sql:u.table[sT]||p===void 0?o(u.table[it.Symbol.Name])+"."+o(d):o(p)+"."+o(u.table[it.Symbol.Name])+"."+o(d),params:[]}}if(xe(u,_a)){let d=u[zn].schema,p=u[zn].name;return{sql:d===void 0||u[zn].isAlias?o(p):o(d)+"."+o(p),params:[]}}if(xe(u,dc)){if(xe(u.value,Cm))return{sql:s(l.value++,u),params:[u],typings:["none"]};let d=u.value===null?null:u.encoder.mapToDriverValue(u.value);if(xe(d,t))return this.buildQueryFromSourceParams([d],n);if(c)return{sql:this.mapInlineParam(d,n),params:[]};let p=["none"];return a&&(p=[a(u.encoder)]),{sql:s(l.value++,d),params:[d],typings:p}}return xe(u,Cm)?{sql:s(l.value++,u),params:[u],typings:["none"]}:xe(u,t.Aliased)&&u.fieldAlias!==void 0?{sql:o(u.fieldAlias),params:[]}:xe(u,Xn)?u._.isWith?{sql:o(u._.alias),params:[]}:this.buildQueryFromSourceParams([new fo("("),u._.sql,new fo(") "),new aT(u._.alias)],n):Uke(u)?u.schema?{sql:o(u.schema)+"."+o(u.enumName),params:[]}:{sql:o(u.enumName),params:[]}:Dte(u)?u.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([u.getSQL()],n):this.buildQueryFromSourceParams([new fo("("),u.getSQL(),new fo(")")],n):c?{sql:this.mapInlineParam(u,n),params:[]}:{sql:s(l.value++,u),params:[u],typings:["none"]}}))}mapInlineParam(e,{escapeString:r}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return r(e);if(typeof e=="object"){let n=e.toString();return r(n==="[object Object]"?JSON.stringify(e):n)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new t.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}},aT=class{constructor(e){this.value=e}static[ee]="Name";brand;getSQL(){return new mt([this])}};Wke={mapFromDriverValue:t=>t},Kke={mapToDriverValue:t=>t},oQr={...Wke,...Kke},dc=class{constructor(e,r=Kke){this.value=e,this.encoder=r}static[ee]="Param";brand;getSQL(){return new mt([this])}};(t=>{function e(){return new mt([])}t.empty=e;function r(c){return new mt(c)}t.fromList=r;function n(c){return new mt([new fo(c)])}t.raw=n;function i(c,l){let u=[];for(let[d,p]of c.entries())d>0&&l!==void 0&&u.push(l),u.push(p);return new mt(u)}t.join=i;function o(c){return new aT(c)}t.identifier=o;function s(c){return new Cm(c)}t.placeholder=s;function a(c,l){return new dc(c,l)}t.param=a})(re||(re={}));(t=>{class e{constructor(n,i){this.sql=n,this.fieldAlias=i}static[ee]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new e(this.sql,this.fieldAlias)}}t.Aliased=e})(mt||(mt={}));Cm=class{constructor(e){this.name=e}static[ee]="Placeholder";getSQL(){return new mt([this])}};yTt=Symbol.for("drizzle:IsDrizzleView"),_a=class{static[ee]="View";[zn];[yTt]=!0;constructor({name:e,schema:r,selectedFields:n,query:i}){this[zn]={name:e,originalName:e,schema:r,selectedFields:n,query:i,isExisting:!i,isAlias:!1}}getSQL(){return new mt([this])}};gn.prototype.getSQL=function(){return new mt([this])};it.prototype.getSQL=function(){return new mt([this])};Xn.prototype.getSQL=function(){return new mt([this])}});function cT(t,e){return new Proxy(t,new KS(e,!1))}function Jp(t,e){return new Proxy(t,new qb(new Proxy(t.table,new KS(e,!1))))}function Mte(t,e){return new mt.Aliased(lT(t.sql,e),t.fieldAlias)}function lT(t,e){return re.join(t.queryChunks.map(r=>xe(r,gn)?Jp(r,e):xe(r,mt)?lT(r,e):xe(r,mt.Aliased)?Mte(r,e):r))}var qb,KS,Qke,Lte=y(()=>{"use strict";Rm();rt();Ci();uc();w0();qb=class{constructor(e){this.table=e}static[ee]="ColumnAliasProxyHandler";get(e,r){return r==="table"?this.table:e[r]}},KS=class{constructor(e,r){this.alias=e,this.replaceOriginalName=r}static[ee]="TableAliasProxyHandler";get(e,r){if(r===it.Symbol.IsAlias)return!0;if(r===it.Symbol.Name)return this.alias;if(this.replaceOriginalName&&r===it.Symbol.OriginalName)return this.alias;if(r===zn)return{...e[zn],name:this.alias,isAlias:!0};if(r===it.Symbol.Columns){let i=e[it.Symbol.Columns];if(!i)return i;let o={};return Object.keys(i).map(s=>{o[s]=new Proxy(i[s],new qb(new Proxy(e,this)))}),o}let n=e[r];return xe(n,gn)?new Proxy(n,new qb(new Proxy(e,this))):n}},Qke=class{constructor(e){this.alias=e}static[ee]="RelationTableAliasProxyHandler";get(e,r){return r==="sourceTable"?cT(e.sourceTable,this.alias):e[r]}}});var Xke=y(()=>{"use strict"});var Yke,Bte,Zke=y(()=>{"use strict";rt();Yke=class{constructor(e,r){this.name=e,this.value=r}static[ee]="PgCheckBuilder";brand;build(e){return new Bte(e,this)}},Bte=class{constructor(e,r){this.table=e,this.name=r.name,this.value=r.value}static[ee]="PgCheck";name;value}});function XD(t,e,r){let n={},i=t.reduce((o,{path:s,field:a},c)=>{let l;xe(a,gn)?l=a:xe(a,mt)?l=a.decoder:xe(a,Xn)?l=a._.sql.decoder:l=a.sql.decoder;let u=o;for(let[d,p]of s.entries())if(d<s.length-1)p in u||(u[p]={}),u=u[p];else{let f=e[c],h=u[p]=f===null?null:l.mapFromDriverValue(f);if(r&&xe(a,gn)&&s.length===2){let m=s[0];m in n?typeof n[m]=="string"&&n[m]!==lc(a.table)&&(n[m]=!1):n[m]=h===null?lc(a.table):!1}}return o},{});if(r&&Object.keys(n).length>0)for(let[o,s]of Object.entries(n))typeof s=="string"&&!r[s]&&(i[o]=null);return i}function wu(t,e){return Object.entries(t).reduce((r,[n,i])=>{if(typeof n!="string")return r;let o=e?[...e,n]:[n];return xe(i,gn)||xe(i,mt)||xe(i,mt.Aliased)||xe(i,Xn)?r.push({path:o,field:i}):xe(i,it)?r.push(...wu(i[it.Symbol.Columns],o)):r.push(...wu(i,o)),r},[])}function uT(t,e){let r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let[i,o]of r.entries())if(o!==n[i])return!1;return!0}function YD(t,e){let r=Object.entries(e).filter(([,n])=>n!==void 0).map(([n,i])=>xe(i,mt)||xe(i,gn)?[n,i]:[n,new dc(i,t[it.Symbol.Columns][n])]);if(r.length===0)throw new Error("No values to set");return Object.fromEntries(r)}function eDe(t,e){for(let r of e)for(let n of Object.getOwnPropertyNames(r.prototype))n!=="constructor"&&Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(r.prototype,n)||Object.create(null))}function dT(t){return t[it.Symbol.Columns]}function Nm(t){return xe(t,Xn)?t._.alias:xe(t,_a)?t[zn].name:xe(t,mt)?void 0:t[it.Symbol.IsAlias]?t[it.Symbol.Name]:t[it.Symbol.BaseName]}function Cr(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}function ZD(t){if(typeof t!="object"||t===null||t.constructor.name!=="Object")return!1;if("logger"in t){let e=typeof t.logger;return!(e!=="boolean"&&(e!=="object"||typeof t.logger.logQuery!="function")&&e!=="undefined")}if("schema"in t){let e=typeof t.schema;return!(e!=="object"&&e!=="undefined")}if("casing"in t){let e=typeof t.casing;return!(e!=="string"&&e!=="undefined")}if("mode"in t)return!(t.mode!=="default"||t.mode!=="planetscale"||t.mode!==void 0);if("connection"in t){let e=typeof t.connection;return!(e!=="string"&&e!=="object"&&e!=="undefined")}if("client"in t){let e=typeof t.client;return!(e!=="object"&&e!=="function"&&e!=="undefined")}return Object.keys(t).length===0}var SQr,pn=y(()=>{"use strict";Rm();rt();Ci();qp();uc();w0();SQr=typeof TextDecoder>"u"?null:new TextDecoder});var Om,pT=y(()=>{"use strict";rt();Tr();Om=class extends xt{static[ee]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(e){if(e){let{name:r,...n}=e;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){let{name:r,...n}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}});function tDe(t,e){let{name:r,config:n}=Cr(t,e);return n.mode==="number"?new $te(r):new Fte(r)}var $te,Ute,Fte,zte,Vte=y(()=>{"use strict";rt();pn();Tr();pT();$te=class extends Om{static[ee]="PgBigInt53Builder";constructor(e){super(e,"number","PgBigInt53")}build(e){return new Ute(e,this.config)}},Ute=class extends Ze{static[ee]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}},Fte=class extends Om{static[ee]="PgBigInt64Builder";constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new zte(e,this.config)}},zte=class extends Ze{static[ee]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}});function rDe(t,e){let{name:r,config:n}=Cr(t,e);return n.mode==="number"?new Hte(r):new jte(r)}var Hte,Gte,jte,qte,Jte=y(()=>{"use strict";rt();pn();Tr();Hte=class extends xt{static[ee]="PgBigSerial53Builder";constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new Gte(e,this.config)}},Gte=class extends Ze{static[ee]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}},jte=class extends xt{static[ee]="PgBigSerial64Builder";constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new qte(e,this.config)}},qte=class extends Ze{static[ee]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}});function Ni(t){return new Wte(t??"")}var Wte,Kte,Qte=y(()=>{"use strict";rt();Tr();Wte=class extends xt{static[ee]="PgBooleanBuilder";constructor(e){super(e,"boolean","PgBoolean")}build(e){return new Kte(e,this.config)}},Kte=class extends Ze{static[ee]="PgBoolean";getSQLType(){return"boolean"}}});function nDe(t,e={}){let{name:r,config:n}=Cr(t,e);return new Xte(r,n)}var Xte,Yte,Zte=y(()=>{"use strict";rt();pn();Tr();Xte=class extends xt{static[ee]="PgCharBuilder";constructor(e,r){super(e,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new Yte(e,this.config)}},Yte=class extends Ze{static[ee]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}});function iDe(t){return new ere(t??"")}var ere,tre,rre=y(()=>{"use strict";rt();Tr();ere=class extends xt{static[ee]="PgCidrBuilder";constructor(e){super(e,"string","PgCidr")}build(e){return new tre(e,this.config)}},tre=class extends Ze{static[ee]="PgCidr";getSQLType(){return"cidr"}}});function oDe(t){return(e,r)=>{let{name:n,config:i}=Cr(e,r);return new nre(n,i,t)}}var nre,ire,ore=y(()=>{"use strict";rt();pn();Tr();nre=class extends xt{static[ee]="PgCustomColumnBuilder";constructor(e,r,n){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=n}build(e){return new ire(e,this.config)}},ire=class extends Ze{static[ee]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(e,r){super(e,r),this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return typeof this.mapFrom=="function"?this.mapFrom(e):e}mapToDriverValue(e){return typeof this.mapTo=="function"?this.mapTo(e):e}}});var Wp,eM=y(()=>{"use strict";rt();Ci();Tr();Wp=class extends xt{static[ee]="PgDateColumnBaseBuilder";defaultNow(){return this.default(re`now()`)}}});function sDe(t,e){let{name:r,config:n}=Cr(t,e);return n?.mode==="date"?new sre(r):new are(r)}var sre,fT,are,mT,cre=y(()=>{"use strict";rt();pn();Tr();eM();sre=class extends Wp{static[ee]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new fT(e,this.config)}},fT=class extends Ze{static[ee]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return typeof e=="string"?new Date(e):e}mapToDriverValue(e){return e.toISOString()}},are=class extends Wp{static[ee]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new mT(e,this.config)}},mT=class extends Ze{static[ee]="PgDateString";getSQLType(){return"date"}mapFromDriverValue(e){return typeof e=="string"?e:e.toISOString().slice(0,-14)}}});function aDe(t){return new lre(t??"")}var lre,ure,dre=y(()=>{"use strict";rt();Tr();lre=class extends xt{static[ee]="PgDoublePrecisionBuilder";constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new ure(e,this.config)}},ure=class extends Ze{static[ee]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}});function cDe(t){return new pre(t??"")}var pre,fre,mre=y(()=>{"use strict";rt();Tr();pre=class extends xt{static[ee]="PgInetBuilder";constructor(e){super(e,"string","PgInet")}build(e){return new fre(e,this.config)}},fre=class extends Ze{static[ee]="PgInet";getSQLType(){return"inet"}}});function Se(t){return new hre(t??"")}var hre,gre,yre=y(()=>{"use strict";rt();Tr();pT();hre=class extends Om{static[ee]="PgIntegerBuilder";constructor(e){super(e,"number","PgInteger")}build(e){return new gre(e,this.config)}},gre=class extends Ze{static[ee]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}});function lDe(t,e={}){let{name:r,config:n}=Cr(t,e);return new bre(r,n)}var bre,vre,_re=y(()=>{"use strict";rt();pn();Tr();bre=class extends xt{static[ee]="PgIntervalBuilder";constructor(e,r){super(e,"string","PgInterval"),this.config.intervalConfig=r}build(e){return new vre(e,this.config)}},vre=class extends Ze{static[ee]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){let e=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${e}${r}`}}});function uDe(t){return new xre(t??"")}var xre,hT,Sre=y(()=>{"use strict";rt();Tr();xre=class extends xt{static[ee]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new hT(e,this.config)}},hT=class extends Ze{static[ee]="PgJson";constructor(e,r){super(e,r)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}});function lt(t){return new wre(t??"")}var wre,gT,Are=y(()=>{"use strict";rt();Tr();wre=class extends xt{static[ee]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new gT(e,this.config)}},gT=class extends Ze{static[ee]="PgJsonb";constructor(e,r){super(e,r)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}});function dDe(t,e){let{name:r,config:n}=Cr(t,e);return!n?.mode||n.mode==="tuple"?new Ere(r):new Rre(r)}var Ere,Tre,Rre,Ire,Cre=y(()=>{"use strict";rt();pn();Tr();Ere=class extends xt{static[ee]="PgLineBuilder";constructor(e){super(e,"array","PgLine")}build(e){return new Tre(e,this.config)}},Tre=class extends Ze{static[ee]="PgLine";getSQLType(){return"line"}mapFromDriverValue(e){let[r,n,i]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n),Number.parseFloat(i)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}},Rre=class extends xt{static[ee]="PgLineABCBuilder";constructor(e){super(e,"json","PgLineABC")}build(e){return new Ire(e,this.config)}},Ire=class extends Ze{static[ee]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(e){let[r,n,i]=e.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(n),c:Number.parseFloat(i)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}});function pDe(t){return new Nre(t??"")}var Nre,Ore,Pre=y(()=>{"use strict";rt();Tr();Nre=class extends xt{static[ee]="PgMacaddrBuilder";constructor(e){super(e,"string","PgMacaddr")}build(e){return new Ore(e,this.config)}},Ore=class extends Ze{static[ee]="PgMacaddr";getSQLType(){return"macaddr"}}});function fDe(t){return new kre(t??"")}var kre,Dre,Mre=y(()=>{"use strict";rt();Tr();kre=class extends xt{static[ee]="PgMacaddr8Builder";constructor(e){super(e,"string","PgMacaddr8")}build(e){return new Dre(e,this.config)}},Dre=class extends Ze{static[ee]="PgMacaddr8";getSQLType(){return"macaddr8"}}});function zt(t,e){let{name:r,config:n}=Cr(t,e),i=n?.mode;return i==="number"?new Bre(r,n?.precision,n?.scale):i==="bigint"?new Ure(r,n?.precision,n?.scale):new Lre(r,n?.precision,n?.scale)}var Lre,yT,Bre,$re,Ure,Fre,zre=y(()=>{"use strict";rt();pn();Tr();Lre=class extends xt{static[ee]="PgNumericBuilder";constructor(e,r,n){super(e,"string","PgNumeric"),this.config.precision=r,this.config.scale=n}build(e){return new yT(e,this.config)}},yT=class extends Ze{static[ee]="PgNumeric";precision;scale;constructor(e,r){super(e,r),this.precision=r.precision,this.scale=r.scale}mapFromDriverValue(e){return typeof e=="string"?e:String(e)}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}},Bre=class extends xt{static[ee]="PgNumericNumberBuilder";constructor(e,r,n){super(e,"number","PgNumericNumber"),this.config.precision=r,this.config.scale=n}build(e){return new $re(e,this.config)}},$re=class extends Ze{static[ee]="PgNumericNumber";precision;scale;constructor(e,r){super(e,r),this.precision=r.precision,this.scale=r.scale}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}mapToDriverValue=String;getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}},Ure=class extends xt{static[ee]="PgNumericBigIntBuilder";constructor(e,r,n){super(e,"bigint","PgNumericBigInt"),this.config.precision=r,this.config.scale=n}build(e){return new Fre(e,this.config)}},Fre=class extends Ze{static[ee]="PgNumericBigInt";precision;scale;constructor(e,r){super(e,r),this.precision=r.precision,this.scale=r.scale}mapFromDriverValue=BigInt;mapToDriverValue=String;getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}});function mDe(t,e){let{name:r,config:n}=Cr(t,e);return!n?.mode||n.mode==="tuple"?new Vre(r):new Gre(r)}var Vre,Hre,Gre,jre,qre=y(()=>{"use strict";rt();pn();Tr();Vre=class extends xt{static[ee]="PgPointTupleBuilder";constructor(e){super(e,"array","PgPointTuple")}build(e){return new Hre(e,this.config)}},Hre=class extends Ze{static[ee]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){let[r,n]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}},Gre=class extends xt{static[ee]="PgPointObjectBuilder";constructor(e){super(e,"json","PgPointObject")}build(e){return new jre(e,this.config)}},jre=class extends Ze{static[ee]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){let[r,n]=e.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(n)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}});function bTt(t){let e=[];for(let r=0;r<t.length;r+=2)e.push(Number.parseInt(t.slice(r,r+2),16));return new Uint8Array(e)}function hDe(t,e){let r=new ArrayBuffer(8),n=new DataView(r);for(let i=0;i<8;i++)n.setUint8(i,t[e+i]);return n.getFloat64(0,!0)}function Jre(t){let e=bTt(t),r=0,n=e[r];r+=1;let i=new DataView(e.buffer),o=i.getUint32(r,n===1);r+=4;let s;if(o&536870912&&(s=i.getUint32(r,n===1),r+=4),(o&65535)===1){let a=hDe(e,r);r+=8;let c=hDe(e,r);return r+=8,[a,c]}throw new Error("Unsupported geometry type")}var gDe=y(()=>{"use strict"});function yDe(t,e){let{name:r,config:n}=Cr(t,e);return!n?.mode||n.mode==="tuple"?new Wre(r):new Qre(r)}var Wre,Kre,Qre,Xre,Yre=y(()=>{"use strict";rt();pn();Tr();gDe();Wre=class extends xt{static[ee]="PgGeometryBuilder";constructor(e){super(e,"array","PgGeometry")}build(e){return new Kre(e,this.config)}},Kre=class extends Ze{static[ee]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return Jre(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}},Qre=class extends xt{static[ee]="PgGeometryObjectBuilder";constructor(e){super(e,"json","PgGeometryObject")}build(e){return new Xre(e,this.config)}},Xre=class extends Ze{static[ee]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){let r=Jre(e);return{x:r[0],y:r[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}});function C(t){return new Zre(t??"")}var Zre,ene,tne=y(()=>{"use strict";rt();Tr();Zre=class extends xt{static[ee]="PgRealBuilder";constructor(e,r){super(e,"number","PgReal"),this.config.length=r}build(e){return new ene(e,this.config)}},ene=class extends Ze{static[ee]="PgReal";constructor(e,r){super(e,r)}getSQLType(){return"real"}mapFromDriverValue=e=>typeof e=="string"?Number.parseFloat(e):e}});function bDe(t){return new rne(t??"")}var rne,nne,ine=y(()=>{"use strict";rt();Tr();rne=class extends xt{static[ee]="PgSerialBuilder";constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new nne(e,this.config)}},nne=class extends Ze{static[ee]="PgSerial";getSQLType(){return"serial"}}});function vDe(t){return new one(t??"")}var one,sne,ane=y(()=>{"use strict";rt();Tr();pT();one=class extends Om{static[ee]="PgSmallIntBuilder";constructor(e){super(e,"number","PgSmallInt")}build(e){return new sne(e,this.config)}},sne=class extends Ze{static[ee]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=e=>typeof e=="string"?Number(e):e}});function _De(t){return new cne(t??"")}var cne,lne,une=y(()=>{"use strict";rt();Tr();cne=class extends xt{static[ee]="PgSmallSerialBuilder";constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new lne(e,this.config)}},lne=class extends Ze{static[ee]="PgSmallSerial";getSQLType(){return"smallserial"}}});function L(t,e={}){let{name:r,config:n}=Cr(t,e);return new dne(r,n)}var dne,pne,fne=y(()=>{"use strict";rt();pn();Tr();dne=class extends xt{static[ee]="PgTextBuilder";constructor(e,r){super(e,"string","PgText"),this.config.enumValues=r.enum}build(e){return new pne(e,this.config)}},pne=class extends Ze{static[ee]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}});function xDe(t,e={}){let{name:r,config:n}=Cr(t,e);return new mne(r,n.withTimezone??!1,n.precision)}var mne,bT,hne=y(()=>{"use strict";rt();pn();Tr();eM();mne=class extends Wp{constructor(e,r,n){super(e,"string","PgTime"),this.withTimezone=r,this.precision=n,this.config.withTimezone=r,this.config.precision=n}static[ee]="PgTimeBuilder";build(e){return new bT(e,this.config)}},bT=class extends Ze{static[ee]="PgTime";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}});function we(t,e={}){let{name:r,config:n}=Cr(t,e);return n?.mode==="string"?new yne(r,n.withTimezone??!1,n.precision):new gne(r,n?.withTimezone??!1,n?.precision)}var gne,vT,yne,_T,bne=y(()=>{"use strict";rt();pn();Tr();eM();gne=class extends Wp{static[ee]="PgTimestampBuilder";constructor(e,r,n){super(e,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=n}build(e){return new vT(e,this.config)}},vT=class extends Ze{static[ee]="PgTimestamp";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue(e){return typeof e=="string"?new Date(this.withTimezone?e:e+"+0000"):e}mapToDriverValue=e=>e.toISOString()},yne=class extends Wp{static[ee]="PgTimestampStringBuilder";constructor(e,r,n){super(e,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=n}build(e){return new _T(e,this.config)}},_T=class extends Ze{static[ee]="PgTimestampString";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue(e){if(typeof e=="string")return e;let r=e.toISOString().slice(0,-1).replace("T"," ");if(this.withTimezone){let n=e.getTimezoneOffset(),i=n<=0?"+":"-";return`${r}${i}${Math.floor(Math.abs(n)/60).toString().padStart(2,"0")}`}return r}}});function SDe(t){return new vne(t??"")}var vne,xT,_ne=y(()=>{"use strict";rt();Ci();Tr();vne=class extends xt{static[ee]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(re`gen_random_uuid()`)}build(e){return new xT(e,this.config)}},xT=class extends Ze{static[ee]="PgUUID";getSQLType(){return"uuid"}}});function wDe(t,e={}){let{name:r,config:n}=Cr(t,e);return new xne(r,n)}var xne,Sne,wne=y(()=>{"use strict";rt();pn();Tr();xne=class extends xt{static[ee]="PgVarcharBuilder";constructor(e,r){super(e,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new Sne(e,this.config)}},Sne=class extends Ze{static[ee]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}});function ADe(t,e){let{name:r,config:n}=Cr(t,e);return new Ane(r,n)}var Ane,Ene,Tne=y(()=>{"use strict";rt();pn();Tr();Ane=class extends xt{static[ee]="PgBinaryVectorBuilder";constructor(e,r){super(e,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(e){return new Ene(e,this.config)}},Ene=class extends Ze{static[ee]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}});function EDe(t,e){let{name:r,config:n}=Cr(t,e);return new Rne(r,n)}var Rne,Ine,Cne=y(()=>{"use strict";rt();pn();Tr();Rne=class extends xt{static[ee]="PgHalfVectorBuilder";constructor(e,r){super(e,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(e){return new Ine(e,this.config)}},Ine=class extends Ze{static[ee]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}});function TDe(t,e){let{name:r,config:n}=Cr(t,e);return new Nne(r,n)}var Nne,One,Pne=y(()=>{"use strict";rt();pn();Tr();Nne=class extends xt{static[ee]="PgSparseVectorBuilder";constructor(e,r){super(e,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(e){return new One(e,this.config)}},One=class extends Ze{static[ee]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}});function RDe(t,e){let{name:r,config:n}=Cr(t,e);return new kne(r,n)}var kne,Dne,Mne=y(()=>{"use strict";rt();pn();Tr();kne=class extends xt{static[ee]="PgVectorBuilder";constructor(e,r){super(e,"array","PgVector"),this.config.dimensions=r.dimensions}build(e){return new Dne(e,this.config)}},Dne=class extends Ze{static[ee]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}});var tM=y(()=>{"use strict";Vte();Jte();Qte();Zte();rre();Tr();ore();cre();dre();KD();mre();pT();yre();_re();Sre();Are();Cre();Pre();Mre();zre();qre();Yre();tne();ine();ane();une();fne();hne();bne();_ne();wne();Tne();Cne();Pne();Mne()});var Hs,A0=y(()=>{"use strict";rt();Hs=class{static[ee]="QueryPromise";[Symbol.toStringTag]="QueryPromise";catch(e){return this.then(void 0,e)}finally(e){return this.then(r=>(e?.(),r),r=>{throw e?.(),r})}then(e,r){return this.execute().then(e,r)}}});var yn,E0=y(()=>{"use strict";Lte();Rm();rt();Ci();qp();w0();yn=class t{static[ee]="SelectionProxyHandler";config;constructor(e){this.config={...e}}get(e,r){if(r==="_")return{...e._,selectedFields:new Proxy(e._.selectedFields,this)};if(r===zn)return{...e[zn],selectedFields:new Proxy(e[zn].selectedFields,this)};if(typeof r=="symbol")return e[r];let i=(xe(e,Xn)?e._.selectedFields:xe(e,_a)?e[zn].selectedFields:e)[r];if(xe(i,mt.Aliased)){if(this.config.sqlAliasedBehavior==="sql"&&!i.isSelectionField)return i.sql;let o=i.clone();return o.isSelectionField=!0,o}if(xe(i,mt)){if(this.config.sqlBehavior==="sql")return i;throw new Error(`You tried to reference "${r}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`)}return xe(i,gn)?this.config.alias?new Proxy(i,new qb(new Proxy(i.table,new KS(this.config.alias,this.config.replaceOriginalName??!1)))):i:typeof i!="object"||i===null?i:new Proxy(i,new t(this.config))}}});function IDe(){return{bigint:tDe,bigserial:rDe,boolean:Ni,char:nDe,cidr:iDe,customType:oDe,date:sDe,doublePrecision:aDe,inet:cDe,integer:Se,interval:lDe,json:uDe,jsonb:lt,line:dDe,macaddr:pDe,macaddr8:fDe,numeric:zt,point:mDe,geometry:yDe,real:C,serial:bDe,smallint:vDe,smallserial:_De,text:L,time:xDe,timestamp:we,uuid:SDe,varchar:wDe,bit:ADe,halfvec:EDe,sparsevec:TDe,vector:RDe}}var CDe=y(()=>{"use strict";Vte();Jte();Qte();Zte();rre();ore();cre();dre();mre();yre();_re();Sre();Are();Cre();Pre();Mre();zre();qre();Yre();tne();ine();ane();une();fne();hne();bne();_ne();wne();Tne();Cne();Pne();Mne()});function Bne(t,e,r,n,i=t){let o=new mo(t,n,i),s=typeof e=="function"?e(IDe()):e,a=Object.fromEntries(Object.entries(s).map(([u,d])=>{let p=d;p.setName(u);let f=p.build(o);return o[Lne].push(...p.buildForeignKeys(f,o)),[u,f]})),c=Object.fromEntries(Object.entries(s).map(([u,d])=>{let p=d;p.setName(u);let f=p.buildExtraConfigColumn(o);return[u,f]})),l=Object.assign(o,a);return l[it.Symbol.Columns]=a,l[it.Symbol.ExtraConfigColumns]=c,r&&(l[mo.Symbol.ExtraConfigBuilder]=r),Object.assign(l,{enableRLS:()=>(l[mo.Symbol.EnableRLS]=!0,l)})}var Lne,NDe,mo,Re,T0=y(()=>{"use strict";rt();uc();CDe();Lne=Symbol.for("drizzle:PgInlineForeignKeys"),NDe=Symbol.for("drizzle:EnableRLS"),mo=class extends it{static[ee]="PgTable";static Symbol=Object.assign({},it.Symbol,{InlineForeignKeys:Lne,EnableRLS:NDe});[Lne]=[];[NDe]=!1;[it.Symbol.ExtraConfigBuilder]=void 0;[it.Symbol.ExtraConfigColumns]={}};Re=(t,e,r)=>Bne(t,e,r,void 0)});var ODe,ST,$ne,PDe=y(()=>{"use strict";Ci();rt();tM();ODe=class{constructor(e,r){this.unique=e,this.name=r}static[ee]="PgIndexBuilderOn";on(...e){return new ST(e.map(r=>{if(xe(r,mt))return r;r=r;let n=new JS(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=JSON.parse(JSON.stringify(r.defaultConfig)),n}),this.unique,!1,this.name)}onOnly(...e){return new ST(e.map(r=>{if(xe(r,mt))return r;r=r;let n=new JS(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=r.defaultConfig,n}),this.unique,!0,this.name)}using(e,...r){return new ST(r.map(n=>{if(xe(n,mt))return n;n=n;let i=new JS(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=JSON.parse(JSON.stringify(n.defaultConfig)),i}),this.unique,!0,this.name,e)}},ST=class{static[ee]="PgIndexBuilder";config;constructor(e,r,n,i,o="btree"){this.config={name:i,columns:e,unique:r,only:n,method:o}}concurrently(){return this.config.concurrently=!0,this}with(e){return this.config.with=e,this}where(e){return this.config.where=e,this}build(e){return new $ne(this.config,e)}},$ne=class{static[ee]="PgIndex";config;constructor(e,r){this.config={...e,table:r}}}});var kDe,DDe=y(()=>{"use strict";rt();kDe=class{constructor(e,r){this.name=e,r&&(this.as=r.as,this.for=r.for,this.to=r.to,this.using=r.using,this.withCheck=r.withCheck)}static[ee]="PgPolicy";as;for;to;using;withCheck;_linkedTable;link(e){return this._linkedTable=e,this}}});var rM,Une,Fne=y(()=>{"use strict";rt();T0();rM=class{static[ee]="PgPrimaryKeyBuilder";columns;name;constructor(e,r){this.columns=e,this.name=r}build(e){return new Une(e,this.columns,this.name)}},Une=class{constructor(e,r,n){this.table=e,this.columns=r,this.name=n}static[ee]="PgPrimaryKey";columns;name;getName(){return this.name??`${this.table[mo.Symbol.Name]}_${this.columns.map(e=>e.name).join("_")}_pk`}}});var zne,Vne=y(()=>{"use strict";zne=Symbol.for("drizzle:PgViewConfig")});function vTt(t){return(t.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).map(r=>r.toLowerCase()).join("_")}function _Tt(t){return(t.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).reduce((r,n,i)=>{let o=i===0?n.toLowerCase():`${n[0].toUpperCase()}${n.slice(1)}`;return r+o},"")}function xTt(t){return t}var nM,MDe=y(()=>{"use strict";rt();uc();nM=class{static[ee]="CasingCache";cache={};cachedTables={};convert;constructor(e){this.convert=e==="snake_case"?vTt:e==="camelCase"?_Tt:xTt}getColumnCasing(e){if(!e.keyAsName)return e.name;let r=e.table[it.Symbol.Schema]??"public",n=e.table[it.Symbol.OriginalName],i=`${r}.${n}.${e.name}`;return this.cache[i]||this.cacheTable(e.table),this.cache[i]}cacheTable(e){let r=e[it.Symbol.Schema]??"public",n=e[it.Symbol.OriginalName],i=`${r}.${n}`;if(!this.cachedTables[i]){for(let o of Object.values(e[it.Symbol.Columns])){let s=`${i}.${o.name}`;this.cache[s]=this.convert(o.name)}this.cachedTables[i]=!0}}clearCache(){this.cache={},this.cachedTables={}}}});var wT,Pm,iM,Hne=y(()=>{"use strict";rt();wT=class extends Error{static[ee]="DrizzleError";constructor({message:e,cause:r}){super(e),this.name="DrizzleError",this.cause=r}},Pm=class t extends Error{constructor(e,r,n){super(`Failed query: ${e}
params: ${r}`),this.query=e,this.params=r,this.cause=n,Error.captureStackTrace(this,t),n&&(this.cause=n)}},iM=class extends wT{static[ee]="TransactionRollbackError";constructor(){super({message:"Rollback"})}}});function pc(t,e){return Jke(e)&&!Dte(t)&&!xe(t,dc)&&!xe(t,Cm)&&!xe(t,gn)&&!xe(t,it)&&!xe(t,_a)?new dc(t,e):t}function Ro(...t){let e=t.filter(r=>r!==void 0);if(e.length!==0)return e.length===1?new mt(e):new mt([new fo("("),re.join(e,new fo(" and ")),new fo(")")])}function BDe(...t){let e=t.filter(r=>r!==void 0);if(e.length!==0)return e.length===1?new mt(e):new mt([new fo("("),re.join(e,new fo(" or ")),new fo(")")])}function $De(t){return re`not ${t}`}function zDe(t,e){return Array.isArray(e)?e.length===0?re`false`:re`${t} in ${e.map(r=>pc(r,t))}`:re`${t} in ${pc(e,t)}`}function VDe(t,e){return Array.isArray(e)?e.length===0?re`true`:re`${t} not in ${e.map(r=>pc(r,t))}`:re`${t} not in ${pc(e,t)}`}function oM(t){return re`${t} is null`}function HDe(t){return re`${t} is not null`}function GDe(t){return re`exists ${t}`}function jDe(t){return re`not exists ${t}`}function qDe(t,e,r){return re`${t} between ${pc(e,t)} and ${pc(r,t)}`}function JDe(t,e,r){return re`${t} not between ${pc(e,t)} and ${pc(r,t)}`}function WDe(t,e){return re`${t} like ${e}`}function KDe(t,e){return re`${t} not like ${e}`}function QDe(t,e){return re`${t} ilike ${e}`}function XDe(t,e){return re`${t} not ilike ${e}`}var cr,LDe,UDe,AT,FDe,Jb,YDe=y(()=>{"use strict";Rm();rt();uc();Ci();cr=(t,e)=>re`${t} = ${pc(e,t)}`,LDe=(t,e)=>re`${t} <> ${pc(e,t)}`;UDe=(t,e)=>re`${t} > ${pc(e,t)}`,AT=(t,e)=>re`${t} >= ${pc(e,t)}`,FDe=(t,e)=>re`${t} < ${pc(e,t)}`,Jb=(t,e)=>re`${t} <= ${pc(e,t)}`});function ZDe(t){return re`${t} asc`}function Vo(t){return re`${t} desc`}var eMe=y(()=>{"use strict";Ci()});var Gne=y(()=>{"use strict";YDe();eMe()});function tMe(){return{and:Ro,between:qDe,eq:cr,exists:GDe,gt:UDe,gte:AT,ilike:QDe,inArray:zDe,isNull:oM,isNotNull:HDe,like:WDe,lt:FDe,lte:Jb,ne:LDe,not:$De,notBetween:JDe,notExists:jDe,notLike:KDe,notIlike:XDe,notInArray:VDe,or:BDe,sql:re}}function rMe(){return{sql:re,asc:ZDe,desc:Vo}}function cM(t,e){Object.keys(t).length===1&&"default"in t&&!xe(t.default,it)&&(t=t.default);let r={},n={},i={};for(let[o,s]of Object.entries(t))if(xe(s,it)){let a=Gb(s),c=n[a];r[a]=o,i[o]={tsName:o,dbName:s[it.Symbol.Name],schema:s[it.Symbol.Schema],columns:s[it.Symbol.Columns],relations:c?.relations??{},primaryKey:c?.primaryKey??[]};for(let u of Object.values(s[it.Symbol.Columns]))u.primary&&i[o].primaryKey.push(u);let l=s[it.Symbol.ExtraConfigBuilder]?.(s[it.Symbol.ExtraConfigColumns]);if(l)for(let u of Object.values(l))xe(u,rM)&&i[o].primaryKey.push(...u.columns)}else if(xe(s,jne)){let a=Gb(s.table),c=r[a],l=s.config(e(s.table)),u;for(let[d,p]of Object.entries(l))if(c){let f=i[c];f.relations[d]=p,u&&f.primaryKey.push(...u)}else a in n||(n[a]={relations:{},primaryKey:u}),n[a].relations[d]=p}return{tables:i,tableNamesMap:r}}function STt(t){return function(r,n){return new R0(t,r,n,n?.fields.reduce((i,o)=>i&&o.notNull,!0)??!1)}}function wTt(t){return function(r,n){return new ET(t,r,n)}}function nMe(t,e,r){if(xe(r,R0)&&r.config)return{fields:r.config.fields,references:r.config.references};let n=e[Gb(r.referencedTable)];if(!n)throw new Error(`Table "${r.referencedTable[it.Symbol.Name]}" not found in schema`);let i=t[n];if(!i)throw new Error(`Table "${n}" not found in schema`);let o=r.sourceTable,s=e[Gb(o)];if(!s)throw new Error(`Table "${o[it.Symbol.Name]}" not found in schema`);let a=[];for(let c of Object.values(i.relations))(r.relationName&&r!==c&&c.relationName===r.relationName||!r.relationName&&c.referencedTable===r.sourceTable)&&a.push(c);if(a.length>1)throw r.relationName?new Error(`There are multiple relations with name "${r.relationName}" in table "${n}"`):new Error(`There are multiple relations between "${n}" and "${r.sourceTable[it.Symbol.Name]}". Please specify relation name`);if(a[0]&&xe(a[0],R0)&&a[0].config)return{fields:a[0].config.references,references:a[0].config.fields};throw new Error(`There is not enough information to infer relation "${s}.${r.fieldName}"`)}function lM(t){return{one:STt(t),many:wTt(t)}}function aM(t,e,r,n,i=o=>o){let o={};for(let[s,a]of n.entries())if(a.isJson){let c=e.relations[a.tsKey],l=r[s],u=typeof l=="string"?JSON.parse(l):l;o[a.tsKey]=xe(c,R0)?u&&aM(t,t[a.relationTableTsKey],u,a.selection,i):u.map(d=>aM(t,t[a.relationTableTsKey],d,a.selection,i))}else{let c=i(r[s]),l=a.field,u;xe(l,gn)?u=l:xe(l,mt)?u=l.decoder:u=l.sql.decoder,o[a.tsKey]=c===null?null:u.mapFromDriverValue(c)}return o}var sM,jne,R0,ET,TT=y(()=>{"use strict";uc();Rm();rt();Fne();Gne();Ci();sM=class{constructor(e,r,n){this.sourceTable=e,this.referencedTable=r,this.relationName=n,this.referencedTableName=r[it.Symbol.Name]}static[ee]="Relation";referencedTableName;fieldName},jne=class{constructor(e,r){this.table=e,this.config=r}static[ee]="Relations"},R0=class t extends sM{constructor(e,r,n,i){super(e,r,n?.relationName),this.config=n,this.isNullable=i}static[ee]="One";withFieldName(e){let r=new t(this.sourceTable,this.referencedTable,this.config,this.isNullable);return r.fieldName=e,r}},ET=class t extends sM{constructor(e,r,n){super(e,r,n?.relationName),this.config=n}static[ee]="Many";withFieldName(e){let r=new t(this.sourceTable,this.referencedTable,this.config);return r.fieldName=e,r}}});var iMe=y(()=>{"use strict"});var oMe=y(()=>{"use strict"});var sMe=y(()=>{"use strict";iMe();oMe()});var qne=y(()=>{"use strict";Gne();sMe();Ci()});var km,uM=y(()=>{"use strict";rt();Ci();km=class extends _a{static[ee]="PgViewBase"}});var Kp,RT=y(()=>{"use strict";Lte();MDe();Rm();rt();Hne();tM();T0();TT();qne();Ci();qp();uc();pn();w0();uM();Kp=class{static[ee]="PgDialect";casing;constructor(e){this.casing=new nM(e?.casing)}async migrate(e,r,n){let i=typeof n=="string"?"__drizzle_migrations":n.migrationsTable??"__drizzle_migrations",o=typeof n=="string"?"drizzle":n.migrationsSchema??"drizzle",s=re`
			CREATE TABLE IF NOT EXISTS ${re.identifier(o)}.${re.identifier(i)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at bigint
			)
		`;await r.execute(re`CREATE SCHEMA IF NOT EXISTS ${re.identifier(o)}`),await r.execute(s);let c=(await r.all(re`select id, hash, created_at from ${re.identifier(o)}.${re.identifier(i)} order by created_at desc limit 1`))[0];await r.transaction(async l=>{for await(let u of e)if(!c||Number(c.created_at)<u.folderMillis){for(let d of u.sql)await l.execute(re.raw(d));await l.execute(re`insert into ${re.identifier(o)}.${re.identifier(i)} ("hash", "created_at") values(${u.hash}, ${u.folderMillis})`)}})}escapeName(e){return`"${e}"`}escapeParam(e){return`$${e+1}`}escapeString(e){return`'${e.replace(/'/g,"''")}'`}buildWithCTE(e){if(!e?.length)return;let r=[re`with `];for(let[n,i]of e.entries())r.push(re`${re.identifier(i._.alias)} as (${i._.sql})`),n<e.length-1&&r.push(re`, `);return r.push(re` `),re.join(r)}buildDeleteQuery({table:e,where:r,returning:n,withList:i}){let o=this.buildWithCTE(i),s=n?re` returning ${this.buildSelection(n,{isSingleTable:!0})}`:void 0,a=r?re` where ${r}`:void 0;return re`${o}delete from ${e}${a}${s}`}buildUpdateSet(e,r){let n=e[it.Symbol.Columns],i=Object.keys(n).filter(s=>r[s]!==void 0||n[s]?.onUpdateFn!==void 0),o=i.length;return re.join(i.flatMap((s,a)=>{let c=n[s],l=c.onUpdateFn?.(),u=r[s]??(xe(l,mt)?l:re.param(l,c)),d=re`${re.identifier(this.casing.getColumnCasing(c))} = ${u}`;return a<o-1?[d,re.raw(", ")]:[d]}))}buildUpdateQuery({table:e,set:r,where:n,returning:i,withList:o,from:s,joins:a}){let c=this.buildWithCTE(o),l=e[mo.Symbol.Name],u=e[mo.Symbol.Schema],d=e[mo.Symbol.OriginalName],p=l===d?void 0:l,f=re`${u?re`${re.identifier(u)}.`:void 0}${re.identifier(d)}${p&&re` ${re.identifier(p)}`}`,h=this.buildUpdateSet(e,r),m=s&&re.join([re.raw(" from "),this.buildFromTable(s)]),g=this.buildJoins(a),b=i?re` returning ${this.buildSelection(i,{isSingleTable:!s})}`:void 0,_=n?re` where ${n}`:void 0;return re`${c}update ${f} set ${h}${m}${g}${_}${b}`}buildSelection(e,{isSingleTable:r=!1}={}){let n=e.length,i=e.flatMap(({field:o},s)=>{let a=[];if(xe(o,mt.Aliased)&&o.isSelectionField)a.push(re.identifier(o.fieldAlias));else if(xe(o,mt.Aliased)||xe(o,mt)){let c=xe(o,mt.Aliased)?o.sql:o;r?a.push(new mt(c.queryChunks.map(l=>xe(l,Ze)?re.identifier(this.casing.getColumnCasing(l)):l))):a.push(c),xe(o,mt.Aliased)&&a.push(re` as ${re.identifier(o.fieldAlias)}`)}else if(xe(o,gn))r?a.push(re.identifier(this.casing.getColumnCasing(o))):a.push(o);else if(xe(o,Xn)){let c=Object.entries(o._.selectedFields);if(c.length===1){let l=c[0][1],u=xe(l,mt)?l.decoder:xe(l,gn)?{mapFromDriverValue:d=>l.mapFromDriverValue(d)}:l.sql.decoder;u&&(o._.sql.decoder=u)}a.push(o)}return s<n-1&&a.push(re`, `),a});return re.join(i)}buildJoins(e){if(!e||e.length===0)return;let r=[];for(let[n,i]of e.entries()){n===0&&r.push(re` `);let o=i.table,s=i.lateral?re` lateral`:void 0,a=i.on?re` on ${i.on}`:void 0;if(xe(o,mo)){let c=o[mo.Symbol.Name],l=o[mo.Symbol.Schema],u=o[mo.Symbol.OriginalName],d=c===u?void 0:i.alias;r.push(re`${re.raw(i.joinType)} join${s} ${l?re`${re.identifier(l)}.`:void 0}${re.identifier(u)}${d&&re` ${re.identifier(d)}`}${a}`)}else if(xe(o,_a)){let c=o[zn].name,l=o[zn].schema,u=o[zn].originalName,d=c===u?void 0:i.alias;r.push(re`${re.raw(i.joinType)} join${s} ${l?re`${re.identifier(l)}.`:void 0}${re.identifier(u)}${d&&re` ${re.identifier(d)}`}${a}`)}else r.push(re`${re.raw(i.joinType)} join${s} ${o}${a}`);n<e.length-1&&r.push(re` `)}return re.join(r)}buildFromTable(e){if(xe(e,it)&&e[it.Symbol.IsAlias]){let r=re`${re.identifier(e[it.Symbol.OriginalName])}`;return e[it.Symbol.Schema]&&(r=re`${re.identifier(e[it.Symbol.Schema])}.${r}`),re`${r} ${re.identifier(e[it.Symbol.Name])}`}return e}buildSelectQuery({withList:e,fields:r,fieldsFlat:n,where:i,having:o,table:s,joins:a,orderBy:c,groupBy:l,limit:u,offset:d,lockingClause:p,distinct:f,setOperators:h}){let m=n??wu(r);for(let v of m)if(xe(v.field,gn)&&lc(v.field.table)!==(xe(s,Xn)?s._.alias:xe(s,km)?s[zn].name:xe(s,mt)?void 0:lc(s))&&!(S=>a?.some(({alias:T})=>T===(S[it.Symbol.IsAlias]?lc(S):S[it.Symbol.BaseName])))(v.field.table)){let S=lc(v.field.table);throw new Error(`Your "${v.path.join("->")}" field references a column "${S}"."${v.field.name}", but the table "${S}" is not part of the query! Did you forget to join it?`)}let g=!a||a.length===0,b=this.buildWithCTE(e),_;f&&(_=f===!0?re` distinct`:re` distinct on (${re.join(f.on,re`, `)})`);let x=this.buildSelection(m,{isSingleTable:g}),E=this.buildFromTable(s),R=this.buildJoins(a),I=i?re` where ${i}`:void 0,D=o?re` having ${o}`:void 0,k;c&&c.length>0&&(k=re` order by ${re.join(c,re`, `)}`);let O;l&&l.length>0&&(O=re` group by ${re.join(l,re`, `)}`);let $=typeof u=="object"||typeof u=="number"&&u>=0?re` limit ${u}`:void 0,j=d?re` offset ${d}`:void 0,X=re.empty();if(p){let v=re` for ${re.raw(p.strength)}`;p.config.of&&v.append(re` of ${re.join(Array.isArray(p.config.of)?p.config.of:[p.config.of],re`, `)}`),p.config.noWait?v.append(re` nowait`):p.config.skipLocked&&v.append(re` skip locked`),X.append(v)}let N=re`${b}select${_} ${x} from ${E}${R}${I}${O}${D}${k}${$}${j}${X}`;return h.length>0?this.buildSetOperations(N,h):N}buildSetOperations(e,r){let[n,...i]=r;if(!n)throw new Error("Cannot pass undefined values to any set operator");return i.length===0?this.buildSetOperationQuery({leftSelect:e,setOperator:n}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:e,setOperator:n}),i)}buildSetOperationQuery({leftSelect:e,setOperator:{type:r,isAll:n,rightSelect:i,limit:o,orderBy:s,offset:a}}){let c=re`(${e.getSQL()}) `,l=re`(${i.getSQL()})`,u;if(s&&s.length>0){let h=[];for(let m of s)if(xe(m,Ze))h.push(re.identifier(m.name));else if(xe(m,mt)){for(let g=0;g<m.queryChunks.length;g++){let b=m.queryChunks[g];xe(b,Ze)&&(m.queryChunks[g]=re.identifier(b.name))}h.push(re`${m}`)}else h.push(re`${m}`);u=re` order by ${re.join(h,re`, `)} `}let d=typeof o=="object"||typeof o=="number"&&o>=0?re` limit ${o}`:void 0,p=re.raw(`${r} ${n?"all ":""}`),f=a?re` offset ${a}`:void 0;return re`${c}${p}${l}${u}${d}${f}`}buildInsertQuery({table:e,values:r,onConflict:n,returning:i,withList:o,select:s,overridingSystemValue_:a}){let c=[],l=e[it.Symbol.Columns],u=Object.entries(l).filter(([b,_])=>!_.shouldDisableInsert()),d=u.map(([,b])=>re.identifier(this.casing.getColumnCasing(b)));if(s){let b=r;xe(b,mt)?c.push(b):c.push(b.getSQL())}else{let b=r;c.push(re.raw("values "));for(let[_,x]of b.entries()){let E=[];for(let[R,I]of u){let D=x[R];if(D===void 0||xe(D,dc)&&D.value===void 0)if(I.defaultFn!==void 0){let k=I.defaultFn(),O=xe(k,mt)?k:re.param(k,I);E.push(O)}else if(!I.default&&I.onUpdateFn!==void 0){let k=I.onUpdateFn(),O=xe(k,mt)?k:re.param(k,I);E.push(O)}else E.push(re`default`);else E.push(D)}c.push(E),_<b.length-1&&c.push(re`, `)}}let p=this.buildWithCTE(o),f=re.join(c),h=i?re` returning ${this.buildSelection(i,{isSingleTable:!0})}`:void 0,m=n?re` on conflict ${n}`:void 0,g=a===!0?re`overriding system value `:void 0;return re`${p}insert into ${e} ${d} ${g}${f}${m}${h}`}buildRefreshMaterializedViewQuery({view:e,concurrently:r,withNoData:n}){let i=r?re` concurrently`:void 0,o=n?re` with no data`:void 0;return re`refresh materialized view${i} ${e}${o}`}prepareTyping(e){return xe(e,gT)||xe(e,hT)?"json":xe(e,yT)?"decimal":xe(e,bT)?"time":xe(e,vT)||xe(e,_T)?"timestamp":xe(e,fT)||xe(e,mT)?"date":xe(e,xT)?"uuid":"none"}sqlToQuery(e,r){return e.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,prepareTyping:this.prepareTyping,invokeSource:r})}buildRelationalQueryWithoutPK({fullSchema:e,schema:r,tableNamesMap:n,table:i,tableConfig:o,queryConfig:s,tableAlias:a,nestedQueryRelation:c,joinOn:l}){let u=[],d,p,f=[],h,m=[];if(s===!0)u=Object.entries(o.columns).map(([_,x])=>({dbKey:x.name,tsKey:_,field:Jp(x,a),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{let b=Object.fromEntries(Object.entries(o.columns).map(([D,k])=>[D,Jp(k,a)]));if(s.where){let D=typeof s.where=="function"?s.where(b,tMe()):s.where;h=D&&lT(D,a)}let _=[],x=[];if(s.columns){let D=!1;for(let[k,O]of Object.entries(s.columns))O!==void 0&&k in o.columns&&(!D&&O===!0&&(D=!0),x.push(k));x.length>0&&(x=D?x.filter(k=>s.columns?.[k]===!0):Object.keys(o.columns).filter(k=>!x.includes(k)))}else x=Object.keys(o.columns);for(let D of x){let k=o.columns[D];_.push({tsKey:D,value:k})}let E=[];s.with&&(E=Object.entries(s.with).filter(D=>!!D[1]).map(([D,k])=>({tsKey:D,queryConfig:k,relation:o.relations[D]})));let R;if(s.extras){R=typeof s.extras=="function"?s.extras(b,{sql:re}):s.extras;for(let[D,k]of Object.entries(R))_.push({tsKey:D,value:Mte(k,a)})}for(let{tsKey:D,value:k}of _)u.push({dbKey:xe(k,mt.Aliased)?k.fieldAlias:o.columns[D].name,tsKey:D,field:xe(k,gn)?Jp(k,a):k,relationTableTsKey:void 0,isJson:!1,selection:[]});let I=typeof s.orderBy=="function"?s.orderBy(b,rMe()):s.orderBy??[];Array.isArray(I)||(I=[I]),f=I.map(D=>xe(D,gn)?Jp(D,a):lT(D,a)),d=s.limit,p=s.offset;for(let{tsKey:D,queryConfig:k,relation:O}of E){let $=nMe(r,n,O),j=Gb(O.referencedTable),X=n[j],N=`${a}_${D}`,v=Ro(...$.fields.map((M,U)=>cr(Jp($.references[U],N),Jp(M,a)))),S=this.buildRelationalQueryWithoutPK({fullSchema:e,schema:r,tableNamesMap:n,table:e[X],tableConfig:r[X],queryConfig:xe(O,R0)?k===!0?{limit:1}:{...k,limit:1}:k,tableAlias:N,joinOn:v,nestedQueryRelation:O}),T=re`${re.identifier(N)}.${re.identifier("data")}`.as(D);m.push({on:re`true`,table:new Xn(S.sql,{},N),alias:N,joinType:"left",lateral:!0}),u.push({dbKey:D,tsKey:D,field:T,relationTableTsKey:X,isJson:!0,selection:S.selection})}}if(u.length===0)throw new wT({message:`No fields selected for table "${o.tsName}" ("${a}")`});let g;if(h=Ro(l,h),c){let b=re`json_build_array(${re.join(u.map(({field:E,tsKey:R,isJson:I})=>I?re`${re.identifier(`${a}_${R}`)}.${re.identifier("data")}`:xe(E,mt.Aliased)?E.sql:E),re`, `)})`;xe(c,ET)&&(b=re`coalesce(json_agg(${b}${f.length>0?re` order by ${re.join(f,re`, `)}`:void 0}), '[]'::json)`);let _=[{dbKey:"data",tsKey:"data",field:b.as("data"),isJson:!0,relationTableTsKey:o.tsName,selection:u}];d!==void 0||p!==void 0||f.length>0?(g=this.buildSelectQuery({table:cT(i,a),fields:{},fieldsFlat:[{path:[],field:re.raw("*")}],where:h,limit:d,offset:p,orderBy:f,setOperators:[]}),h=void 0,d=void 0,p=void 0,f=[]):g=cT(i,a),g=this.buildSelectQuery({table:xe(g,mo)?g:new Xn(g,{},a),fields:{},fieldsFlat:_.map(({field:E})=>({path:[],field:xe(E,gn)?Jp(E,a):E})),joins:m,where:h,limit:d,offset:p,orderBy:f,setOperators:[]})}else g=this.buildSelectQuery({table:cT(i,a),fields:{},fieldsFlat:u.map(({field:b})=>({path:[],field:xe(b,gn)?Jp(b,a):b})),joins:m,where:h,limit:d,offset:p,orderBy:f,setOperators:[]});return{tableTsKey:o.tsName,sql:g,selection:u}}}});var dM,aMe=y(()=>{"use strict";rt();dM=class{static[ee]="TypedQueryBuilder";getSelectedFields(){return this._.selectedFields}}});function QS(t,e){return(r,n,...i)=>{let o=[n,...i].map(s=>({type:t,isAll:e,rightSelect:s}));for(let s of o)if(!uT(r.getSelectedFields(),s.rightSelect.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return r.addSetOperators(o)}}var Gs,Jne,pM,ATt,ETt,TTt,RTt,ITt,CTt,NTt,Wne=y(()=>{"use strict";rt();uM();aMe();A0();E0();Ci();qp();uc();Im();pn();pn();w0();XS();Gs=class{static[ee]="PgSelectBuilder";fields;session;dialect;withList=[];distinct;constructor(e){this.fields=e.fields,this.session=e.session,this.dialect=e.dialect,e.withList&&(this.withList=e.withList),this.distinct=e.distinct}authToken;setToken(e){return this.authToken=e,this}from(e){let r=!!this.fields,n=e,i;return this.fields?i=this.fields:xe(n,Xn)?i=Object.fromEntries(Object.keys(n._.selectedFields).map(o=>[o,n[o]])):xe(n,km)?i=n[zn].selectedFields:xe(n,mt)?i={}:i=dT(n),new pM({table:n,fields:i,isPartialSelect:r,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct}).setToken(this.authToken)}},Jne=class extends dM{static[ee]="PgSelectQueryBuilder";_;config;joinsNotNullableMap;tableName;isPartialSelect;session;dialect;cacheConfig=void 0;usedTables=new Set;constructor({table:e,fields:r,isPartialSelect:n,session:i,dialect:o,withList:s,distinct:a}){super(),this.config={withList:s,table:e,fields:{...r},distinct:a,setOperators:[]},this.isPartialSelect=n,this.session=i,this.dialect=o,this._={selectedFields:r,config:this.config},this.tableName=Nm(e),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{};for(let c of Pd(e))this.usedTables.add(c)}getUsedTables(){return[...this.usedTables]}createJoin(e,r){return(n,i)=>{let o=this.tableName,s=Nm(n);for(let a of Pd(n))this.usedTables.add(a);if(typeof s=="string"&&this.config.joins?.some(a=>a.alias===s))throw new Error(`Alias "${s}" is already used in this query`);if(!this.isPartialSelect&&(Object.keys(this.joinsNotNullableMap).length===1&&typeof o=="string"&&(this.config.fields={[o]:this.config.fields}),typeof s=="string"&&!xe(n,mt))){let a=xe(n,Xn)?n._.selectedFields:xe(n,_a)?n[zn].selectedFields:n[it.Symbol.Columns];this.config.fields[s]=a}if(typeof i=="function"&&(i=i(new Proxy(this.config.fields,new yn({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:i,table:n,joinType:e,alias:s,lateral:r}),typeof s=="string")switch(e){case"left":{this.joinsNotNullableMap[s]=!1;break}case"right":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([a])=>[a,!1])),this.joinsNotNullableMap[s]=!0;break}case"cross":case"inner":{this.joinsNotNullableMap[s]=!0;break}case"full":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([a])=>[a,!1])),this.joinsNotNullableMap[s]=!1;break}}return this}}leftJoin=this.createJoin("left",!1);leftJoinLateral=this.createJoin("left",!0);rightJoin=this.createJoin("right",!1);innerJoin=this.createJoin("inner",!1);innerJoinLateral=this.createJoin("inner",!0);fullJoin=this.createJoin("full",!1);crossJoin=this.createJoin("cross",!1);crossJoinLateral=this.createJoin("cross",!0);createSetOperator(e,r){return n=>{let i=typeof n=="function"?n(ATt()):n;if(!uT(this.getSelectedFields(),i.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:e,isAll:r,rightSelect:i}),this}}union=this.createSetOperator("union",!1);unionAll=this.createSetOperator("union",!0);intersect=this.createSetOperator("intersect",!1);intersectAll=this.createSetOperator("intersect",!0);except=this.createSetOperator("except",!1);exceptAll=this.createSetOperator("except",!0);addSetOperators(e){return this.config.setOperators.push(...e),this}where(e){return typeof e=="function"&&(e=e(new Proxy(this.config.fields,new yn({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=e,this}having(e){return typeof e=="function"&&(e=e(new Proxy(this.config.fields,new yn({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=e,this}groupBy(...e){if(typeof e[0]=="function"){let r=e[0](new Proxy(this.config.fields,new yn({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(r)?r:[r]}else this.config.groupBy=e;return this}orderBy(...e){if(typeof e[0]=="function"){let r=e[0](new Proxy(this.config.fields,new yn({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),n=Array.isArray(r)?r:[r];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=n:this.config.orderBy=n}else{let r=e;this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=r:this.config.orderBy=r}return this}limit(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=e:this.config.limit=e,this}offset(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=e:this.config.offset=e,this}for(e,r={}){return this.config.lockingClause={strength:e,config:r},this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){let{typings:e,...r}=this.dialect.sqlToQuery(this.getSQL());return r}as(e){let r=[];if(r.push(...Pd(this.config.table)),this.config.joins)for(let n of this.config.joins)r.push(...Pd(n.table));return new Proxy(new Xn(this.getSQL(),this.config.fields,e,!1,[...new Set(r)]),new yn({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new yn({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}$withCache(e){return this.cacheConfig=e===void 0?{config:{},enable:!0,autoInvalidate:!0}:e===!1?{enable:!1}:{enable:!0,autoInvalidate:!0,...e},this}},pM=class extends Jne{static[ee]="PgSelect";_prepare(e){let{session:r,config:n,dialect:i,joinsNotNullableMap:o,authToken:s,cacheConfig:a,usedTables:c}=this;if(!r)throw new Error("Cannot execute a query on a query builder. Please use a database instance instead.");let{fields:l}=n;return On.startActiveSpan("drizzle.prepareQuery",()=>{let u=wu(l),d=r.prepareQuery(i.sqlToQuery(this.getSQL()),u,e,!0,void 0,{type:"select",tables:[...c]},a);return d.joinsNotNullableMap=o,d.setToken(s)})}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>On.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken))};eDe(pM,[Hs]);ATt=()=>({union:ETt,unionAll:TTt,intersect:RTt,intersectAll:ITt,except:CTt,exceptAll:NTt}),ETt=QS("union",!1),TTt=QS("union",!0),RTt=QS("intersect",!1),ITt=QS("intersect",!0),CTt=QS("except",!1),NTt=QS("except",!0)});var Dm,fM=y(()=>{"use strict";rt();RT();E0();qp();Wne();Dm=class{static[ee]="PgQueryBuilder";dialect;dialectConfig;constructor(e){this.dialect=xe(e,Kp)?e:void 0,this.dialectConfig=xe(e,Kp)?void 0:e}$with=(e,r)=>{let n=this;return{as:o=>(typeof o=="function"&&(o=o(n)),new Proxy(new WS(o.getSQL(),r??("getSelectedFields"in o?o.getSelectedFields()??{}:{}),e,!0),new yn({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};with(...e){let r=this;function n(s){return new Gs({fields:s??void 0,session:void 0,dialect:r.getDialect(),withList:e})}function i(s){return new Gs({fields:s??void 0,session:void 0,dialect:r.getDialect(),distinct:!0})}function o(s,a){return new Gs({fields:a??void 0,session:void 0,dialect:r.getDialect(),distinct:{on:s}})}return{select:n,selectDistinct:i,selectDistinctOn:o}}select(e){return new Gs({fields:e??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(e){return new Gs({fields:e??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}selectDistinctOn(e,r){return new Gs({fields:r??void 0,session:void 0,dialect:this.getDialect(),distinct:{on:e}})}getDialect(){return this.dialect||(this.dialect=new Kp(this.dialectConfig)),this.dialect}}});function lMe(t,e,r){return e?new Qne(t,e,r):new Kne(t,r)}function uMe(t,e,r){return e?new Yne(t,e,r):new Xne(t,r)}var mM,Kne,Qne,hM,Xne,Yne,IT,cMe,CT,Zne=y(()=>{"use strict";rt();E0();pn();fM();T0();uM();Vne();mM=class{constructor(e,r){this.name=e,this.schema=r}static[ee]="PgDefaultViewBuilderCore";config={};with(e){return this.config.with=e,this}},Kne=class extends mM{static[ee]="PgViewBuilder";as(e){typeof e=="function"&&(e=e(new Dm));let r=new yn({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}),n=new Proxy(e.getSelectedFields(),r);return new Proxy(new IT({pgConfig:this.config,config:{name:this.name,schema:this.schema,selectedFields:n,query:e.getSQL().inlineParams()}}),r)}},Qne=class extends mM{static[ee]="PgManualViewBuilder";columns;constructor(e,r,n){super(e,n),this.columns=dT(Re(e,r))}existing(){return new Proxy(new IT({pgConfig:void 0,config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:void 0}}),new yn({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}as(e){return new Proxy(new IT({pgConfig:this.config,config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:e.inlineParams()}}),new yn({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}},hM=class{constructor(e,r){this.name=e,this.schema=r}static[ee]="PgMaterializedViewBuilderCore";config={};using(e){return this.config.using=e,this}with(e){return this.config.with=e,this}tablespace(e){return this.config.tablespace=e,this}withNoData(){return this.config.withNoData=!0,this}},Xne=class extends hM{static[ee]="PgMaterializedViewBuilder";as(e){typeof e=="function"&&(e=e(new Dm));let r=new yn({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}),n=new Proxy(e.getSelectedFields(),r);return new Proxy(new CT({pgConfig:{with:this.config.with,using:this.config.using,tablespace:this.config.tablespace,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:n,query:e.getSQL().inlineParams()}}),r)}},Yne=class extends hM{static[ee]="PgManualMaterializedViewBuilder";columns;constructor(e,r,n){super(e,n),this.columns=dT(Re(e,r))}existing(){return new Proxy(new CT({pgConfig:{tablespace:this.config.tablespace,using:this.config.using,with:this.config.with,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:void 0}}),new yn({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}as(e){return new Proxy(new CT({pgConfig:{tablespace:this.config.tablespace,using:this.config.using,with:this.config.with,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:e.inlineParams()}}),new yn({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}},IT=class extends km{static[ee]="PgView";[zne];constructor({pgConfig:e,config:r}){super(r),e&&(this[zne]={with:e.with})}},cMe=Symbol.for("drizzle:PgMaterializedViewConfig"),CT=class extends km{static[ee]="PgMaterializedView";[cMe];constructor({pgConfig:e,config:r}){super(r),this[cMe]={with:e?.with,using:e?.using,tablespace:e?.tablespace,withNoData:e?.withNoData}}}});function Pd(t){return xe(t,mo)?[t[Hb]?`${t[Hb]}.${t[it.Symbol.BaseName]}`:t[it.Symbol.BaseName]]:xe(t,Xn)?t._.usedTables??[]:xe(t,mt)?t.usedTables??[]:[]}var XS=y(()=>{"use strict";rt();T0();Ci();qp();uc()});var NT,dMe=y(()=>{"use strict";rt();A0();E0();uc();Im();pn();XS();NT=class extends Hs{constructor(e,r,n,i){super(),this.session=r,this.dialect=n,this.config={table:e,withList:i}}static[ee]="PgDelete";config;cacheConfig;where(e){return this.config.where=e,this}returning(e=this.config.table[it.Symbol.Columns]){return this.config.returningFields=e,this.config.returning=wu(e),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){let{typings:e,...r}=this.dialect.sqlToQuery(this.getSQL());return r}_prepare(e){return On.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0,void 0,{type:"delete",tables:Pd(this.config.table)},this.cacheConfig))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>On.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken));getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new yn({alias:lc(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}});var OT,gM,pMe=y(()=>{"use strict";rt();A0();E0();Ci();uc();Im();pn();XS();fM();OT=class{constructor(e,r,n,i,o){this.table=e,this.session=r,this.dialect=n,this.withList=i,this.overridingSystemValue_=o}static[ee]="PgInsertBuilder";authToken;setToken(e){return this.authToken=e,this}overridingSystemValue(){return this.overridingSystemValue_=!0,this}values(e){if(e=Array.isArray(e)?e:[e],e.length===0)throw new Error("values() must be called with at least one value");let r=e.map(n=>{let i={},o=this.table[it.Symbol.Columns];for(let s of Object.keys(n)){let a=n[s];i[s]=xe(a,mt)?a:new dc(a,o[s])}return i});return new gM(this.table,r,this.session,this.dialect,this.withList,!1,this.overridingSystemValue_).setToken(this.authToken)}select(e){let r=typeof e=="function"?e(new Dm):e;if(!xe(r,mt)&&!uT(this.table[QD],r._.selectedFields))throw new Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");return new gM(this.table,r,this.session,this.dialect,this.withList,!0)}},gM=class extends Hs{constructor(e,r,n,i,o,s,a){super(),this.session=n,this.dialect=i,this.config={table:e,values:r,withList:o,select:s,overridingSystemValue_:a}}static[ee]="PgInsert";config;cacheConfig;returning(e=this.config.table[it.Symbol.Columns]){return this.config.returningFields=e,this.config.returning=wu(e),this}onConflictDoNothing(e={}){if(e.target===void 0)this.config.onConflict=re`do nothing`;else{let r="";r=Array.isArray(e.target)?e.target.map(i=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(i))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(e.target));let n=e.where?re` where ${e.where}`:void 0;this.config.onConflict=re`(${re.raw(r)})${n} do nothing`}return this}onConflictDoUpdate(e){if(e.where&&(e.targetWhere||e.setWhere))throw new Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');let r=e.where?re` where ${e.where}`:void 0,n=e.targetWhere?re` where ${e.targetWhere}`:void 0,i=e.setWhere?re` where ${e.setWhere}`:void 0,o=this.dialect.buildUpdateSet(this.config.table,YD(this.config.table,e.set)),s="";return s=Array.isArray(e.target)?e.target.map(a=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(a))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(e.target)),this.config.onConflict=re`(${re.raw(s)})${n} do update set ${o}${r}${i}`,this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){let{typings:e,...r}=this.dialect.sqlToQuery(this.getSQL());return r}_prepare(e){return On.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0,void 0,{type:"insert",tables:Pd(this.config.table)},this.cacheConfig))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>On.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken));getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new yn({alias:lc(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}});var yM,eie=y(()=>{"use strict";rt();A0();Im();yM=class extends Hs{constructor(e,r,n){super(),this.session=r,this.dialect=n,this.config={view:e}}static[ee]="PgRefreshMaterializedView";config;concurrently(){if(this.config.withNoData!==void 0)throw new Error("Cannot use concurrently and withNoData together");return this.config.concurrently=!0,this}withNoData(){if(this.config.concurrently!==void 0)throw new Error("Cannot use concurrently and withNoData together");return this.config.withNoData=!0,this}getSQL(){return this.dialect.buildRefreshMaterializedViewQuery(this.config)}toSQL(){let{typings:e,...r}=this.dialect.sqlToQuery(this.getSQL());return r}_prepare(e){return On.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),void 0,e,!0))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>On.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken))}});var fMe=y(()=>{"use strict"});var PT,tie,mMe=y(()=>{"use strict";rt();T0();A0();E0();Ci();qp();uc();pn();w0();XS();PT=class{constructor(e,r,n,i){this.table=e,this.session=r,this.dialect=n,this.withList=i}static[ee]="PgUpdateBuilder";authToken;setToken(e){return this.authToken=e,this}set(e){return new tie(this.table,YD(this.table,e),this.session,this.dialect,this.withList).setToken(this.authToken)}},tie=class extends Hs{constructor(e,r,n,i,o){super(),this.session=n,this.dialect=i,this.config={set:r,table:e,withList:o,joins:[]},this.tableName=Nm(e),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{}}static[ee]="PgUpdate";config;tableName;joinsNotNullableMap;cacheConfig;from(e){let r=e,n=Nm(r);return typeof n=="string"&&(this.joinsNotNullableMap[n]=!0),this.config.from=r,this}getTableLikeFields(e){return xe(e,mo)?e[it.Symbol.Columns]:xe(e,Xn)?e._.selectedFields:e[zn].selectedFields}createJoin(e){return(r,n)=>{let i=Nm(r);if(typeof i=="string"&&this.config.joins.some(o=>o.alias===i))throw new Error(`Alias "${i}" is already used in this query`);if(typeof n=="function"){let o=this.config.from&&!xe(this.config.from,mt)?this.getTableLikeFields(this.config.from):void 0;n=n(new Proxy(this.config.table[it.Symbol.Columns],new yn({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})),o&&new Proxy(o,new yn({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))}if(this.config.joins.push({on:n,table:r,joinType:e,alias:i}),typeof i=="string")switch(e){case"left":{this.joinsNotNullableMap[i]=!1;break}case"right":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([o])=>[o,!1])),this.joinsNotNullableMap[i]=!0;break}case"inner":{this.joinsNotNullableMap[i]=!0;break}case"full":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([o])=>[o,!1])),this.joinsNotNullableMap[i]=!1;break}}return this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");where(e){return this.config.where=e,this}returning(e){if(!e&&(e=Object.assign({},this.config.table[it.Symbol.Columns]),this.config.from)){let r=Nm(this.config.from);if(typeof r=="string"&&this.config.from&&!xe(this.config.from,mt)){let n=this.getTableLikeFields(this.config.from);e[r]=n}for(let n of this.config.joins){let i=Nm(n.table);if(typeof i=="string"&&!xe(n.table,mt)){let o=this.getTableLikeFields(n.table);e[i]=o}}}return this.config.returningFields=e,this.config.returning=wu(e),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){let{typings:e,...r}=this.dialect.sqlToQuery(this.getSQL());return r}_prepare(e){let r=this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0,void 0,{type:"insert",tables:Pd(this.config.table)},this.cacheConfig);return r.joinsNotNullableMap=this.joinsNotNullableMap,r}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>this._prepare().execute(e,this.authToken);getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new yn({alias:lc(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}});var rie=y(()=>{"use strict";dMe();pMe();fM();eie();Wne();fMe();mMe()});var bM,hMe=y(()=>{"use strict";rt();Ci();bM=class t extends mt{constructor(e){super(t.buildEmbeddedCount(e.source,e.filters).queryChunks),this.params=e,this.mapWith(Number),this.session=e.session,this.sql=t.buildCount(e.source,e.filters)}sql;token;static[ee]="PgCountBuilder";[Symbol.toStringTag]="PgCountBuilder";session;static buildEmbeddedCount(e,r){return re`(select count(*) from ${e}${re.raw(" where ").if(r)}${r})`}static buildCount(e,r){return re`select count(*) as count from ${e}${re.raw(" where ").if(r)}${r};`}setToken(e){return this.token=e,this}then(e,r){return Promise.resolve(this.session.count(this.sql,this.token)).then(e,r)}catch(e){return this.then(void 0,e)}finally(e){return this.then(r=>(e?.(),r),r=>{throw e?.(),r})}}});var vM,_M,gMe=y(()=>{"use strict";rt();A0();TT();Im();vM=class{constructor(e,r,n,i,o,s,a){this.fullSchema=e,this.schema=r,this.tableNamesMap=n,this.table=i,this.tableConfig=o,this.dialect=s,this.session=a}static[ee]="PgRelationalQueryBuilder";findMany(e){return new _M(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many")}findFirst(e){return new _M(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first")}},_M=class extends Hs{constructor(e,r,n,i,o,s,a,c,l){super(),this.fullSchema=e,this.schema=r,this.tableNamesMap=n,this.table=i,this.tableConfig=o,this.dialect=s,this.session=a,this.config=c,this.mode=l}static[ee]="PgRelationalQuery";_prepare(e){return On.startActiveSpan("drizzle.prepareQuery",()=>{let{query:r,builtQuery:n}=this._toSQL();return this.session.prepareQuery(n,void 0,e,!0,(i,o)=>{let s=i.map(a=>aM(this.schema,this.tableConfig,a,r.selection,o));return this.mode==="first"?s[0]:s})})}prepare(e){return this._prepare(e)}_getQuery(){return this.dialect.buildRelationalQueryWithoutPK({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName})}getSQL(){return this._getQuery().sql}_toSQL(){let e=this._getQuery(),r=this.dialect.sqlToQuery(e.sql);return{query:e,builtQuery:r}}toSQL(){return this._toSQL().builtQuery}authToken;setToken(e){return this.authToken=e,this}execute(){return On.startActiveSpan("drizzle.operation",()=>this._prepare().execute(void 0,this.authToken))}}});var xM,yMe=y(()=>{"use strict";rt();A0();xM=class extends Hs{constructor(e,r,n,i){super(),this.execute=e,this.sql=r,this.query=n,this.mapBatchResult=i}static[ee]="PgRaw";getSQL(){return this.sql}getQuery(){return this.query}mapResult(e,r){return r?this.mapBatchResult(e):e}_prepare(){return this}isResponseInArrayMode(){return!1}}});var I0,kT=y(()=>{"use strict";rt();rie();E0();Ci();qp();hMe();gMe();yMe();eie();I0=class{constructor(e,r,n){if(this.dialect=e,this.session=r,this._=n?{schema:n.schema,fullSchema:n.fullSchema,tableNamesMap:n.tableNamesMap,session:r}:{schema:void 0,fullSchema:{},tableNamesMap:{},session:r},this.query={},this._.schema)for(let[i,o]of Object.entries(this._.schema))this.query[i]=new vM(n.fullSchema,this._.schema,this._.tableNamesMap,n.fullSchema[i],o,e,r);this.$cache={invalidate:async i=>{}}}static[ee]="PgDatabase";query;$with=(e,r)=>{let n=this;return{as:o=>(typeof o=="function"&&(o=o(new Dm(n.dialect))),new Proxy(new WS(o.getSQL(),r??("getSelectedFields"in o?o.getSelectedFields()??{}:{}),e,!0),new yn({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};$count(e,r){return new bM({source:e,filters:r,session:this.session})}$cache;with(...e){let r=this;function n(l){return new Gs({fields:l??void 0,session:r.session,dialect:r.dialect,withList:e})}function i(l){return new Gs({fields:l??void 0,session:r.session,dialect:r.dialect,withList:e,distinct:!0})}function o(l,u){return new Gs({fields:u??void 0,session:r.session,dialect:r.dialect,withList:e,distinct:{on:l}})}function s(l){return new PT(l,r.session,r.dialect,e)}function a(l){return new OT(l,r.session,r.dialect,e)}function c(l){return new NT(l,r.session,r.dialect,e)}return{select:n,selectDistinct:i,selectDistinctOn:o,update:s,insert:a,delete:c}}select(e){return new Gs({fields:e??void 0,session:this.session,dialect:this.dialect})}selectDistinct(e){return new Gs({fields:e??void 0,session:this.session,dialect:this.dialect,distinct:!0})}selectDistinctOn(e,r){return new Gs({fields:r??void 0,session:this.session,dialect:this.dialect,distinct:{on:e}})}update(e){return new PT(e,this.session,this.dialect)}insert(e){return new OT(e,this.session,this.dialect)}delete(e){return new NT(e,this.session,this.dialect)}refreshMaterializedView(e){return new yM(e,this.session,this.dialect)}authToken;execute(e){let r=typeof e=="string"?re.raw(e):e.getSQL(),n=this.dialect.sqlToQuery(r),i=this.session.prepareQuery(n,void 0,void 0,!1);return new xM(()=>i.execute(void 0,this.authToken),r,n,o=>i.mapResult(o,!0))}transaction(e,r){return this.session.transaction(e,r)}}});var bMe,vMe=y(()=>{"use strict";rt();bMe=class{constructor(e,r){this.name=e,r&&(this.createDb=r.createDb,this.createRole=r.createRole,this.inherit=r.inherit)}static[ee]="PgRole";_existing;createDb;createRole;inherit;existing(){return this._existing=!0,this}}});function _Me(t,e,r){return new nie(t,e,r)}var nie,iie=y(()=>{"use strict";rt();nie=class{constructor(e,r,n){this.seqName=e,this.seqOptions=r,this.schema=n}static[ee]="PgSequence"}});var xMe,SMe=y(()=>{"use strict";rt();Ci();KD();iie();T0();Zne();xMe=class{constructor(e){this.schemaName=e}static[ee]="PgSchema";table=(e,r,n)=>Bne(e,r,n,this.schemaName);view=(e,r)=>lMe(e,r,this.schemaName);materializedView=(e,r)=>uMe(e,r,this.schemaName);enum(e,r){return Array.isArray(r)?Fke(e,[...r],this.schemaName):zke(e,r,this.schemaName)}sequence=(e,r)=>_Me(e,r,this.schemaName);getSQL(){return new mt([re.identifier(this.schemaName)])}shouldOmitSQLParens(){return!0}}});async function sie(t,e){let r=`${t}-${JSON.stringify(e)}`,i=new TextEncoder().encode(r),o=await crypto.subtle.digest("SHA-256",i);return[...new Uint8Array(o)].map(c=>c.toString(16).padStart(2,"0")).join("")}var oie,C0,aie=y(()=>{"use strict";rt();oie=class{static[ee]="Cache"},C0=class extends oie{strategy(){return"all"}static[ee]="NoopCache";async get(e){}async put(e,r,n,i){}async onMutate(e){}}});var YS,ZS,ew,SM=y(()=>{"use strict";aie();rt();Hne();qne();Im();kT();YS=class{constructor(e,r,n,i){this.query=e,this.cache=r,this.queryMetadata=n,this.cacheConfig=i,r&&r.strategy()==="all"&&i===void 0&&(this.cacheConfig={enable:!0,autoInvalidate:!0}),this.cacheConfig?.enable||(this.cacheConfig=void 0)}authToken;getQuery(){return this.query}mapResult(e,r){return e}setToken(e){return this.authToken=e,this}static[ee]="PgPreparedQuery";joinsNotNullableMap;async queryWithCache(e,r,n){if(this.cache===void 0||xe(this.cache,C0)||this.queryMetadata===void 0)try{return await n()}catch(i){throw new Pm(e,r,i)}if(this.cacheConfig&&!this.cacheConfig.enable)try{return await n()}catch(i){throw new Pm(e,r,i)}if((this.queryMetadata.type==="insert"||this.queryMetadata.type==="update"||this.queryMetadata.type==="delete")&&this.queryMetadata.tables.length>0)try{let[i]=await Promise.all([n(),this.cache.onMutate({tables:this.queryMetadata.tables})]);return i}catch(i){throw new Pm(e,r,i)}if(!this.cacheConfig)try{return await n()}catch(i){throw new Pm(e,r,i)}if(this.queryMetadata.type==="select"){let i=await this.cache.get(this.cacheConfig.tag??await sie(e,r),this.queryMetadata.tables,this.cacheConfig.tag!==void 0,this.cacheConfig.autoInvalidate);if(i===void 0){let o;try{o=await n()}catch(s){throw new Pm(e,r,s)}return await this.cache.put(this.cacheConfig.tag??await sie(e,r),o,this.cacheConfig.autoInvalidate?this.queryMetadata.tables:[],this.cacheConfig.tag!==void 0,this.cacheConfig.config),o}return i}try{return await n()}catch(i){throw new Pm(e,r,i)}}},ZS=class{constructor(e){this.dialect=e}static[ee]="PgSession";execute(e,r){return On.startActiveSpan("drizzle.operation",()=>On.startActiveSpan("drizzle.prepareQuery",()=>this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1)).setToken(r).execute(void 0,r))}all(e){return this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1).all()}async count(e,r){let n=await this.execute(e,r);return Number(n[0].count)}},ew=class extends I0{constructor(e,r,n,i=0){super(e,r,n),this.schema=n,this.nestedIndex=i}static[ee]="PgTransaction";rollback(){throw new iM}getTransactionConfigSQL(e){let r=[];return e.isolationLevel&&r.push(`isolation level ${e.isolationLevel}`),e.accessMode&&r.push(e.accessMode),typeof e.deferrable=="boolean"&&r.push(e.deferrable?"deferrable":"not deferrable"),re.raw(r.join(" "))}setTransaction(e){return this.session.execute(re`set transaction ${this.getTransactionConfigSQL(e)}`)}}});var wMe=y(()=>{"use strict"});var AMe=y(()=>{"use strict";Ste()});var Mr=y(()=>{"use strict";Xke();Zke();tM();kT();RT();mte();PDe();DDe();Fne();rie();vMe();SMe();iie();SM();wMe();T0();_te();XS();AMe();Vne();Zne()});var cie,tw,rw,MT=y(()=>{"use strict";rt();cie=class{static[ee]="ConsoleLogWriter";write(e){console.log(e)}},tw=class{static[ee]="DefaultLogger";writer;constructor(e){this.writer=e?.writer??new cie}logQuery(e,r){let n=r.map(o=>{try{return JSON.stringify(o)}catch{return String(o)}}),i=n.length?` -- params: [${n.join(", ")}]`:"";this.writer.write(`Query: ${e}${i}`)}},rw=class{static[ee]="NoopLogger";logQuery(){}}});var qBe={};wr(qBe,{Client:()=>HBe,DatabaseError:()=>MRt,NeonDbError:()=>Wb,NeonQueryPromise:()=>UT,Pool:()=>kRt,SqlTemplate:()=>Rie,UnsafeRawSql:()=>Iie,_bundleExt:()=>DRt,defaults:()=>LRt,escapeIdentifier:()=>BRt,escapeLiteral:()=>$Rt,neon:()=>Xb,neonConfig:()=>nw,types:()=>xa,warnIfBrowser:()=>PM});function rBe(t){return 0}function vie(t,e=!1){let{protocol:r}=new URL(t),n="http:"+t.substring(r.length),{username:i,password:o,host:s,hostname:a,port:c,pathname:l,search:u,searchParams:d,hash:p}=new URL(n);o=decodeURIComponent(o),i=decodeURIComponent(i),l=decodeURIComponent(l);let f=i+":"+o,h=e?Object.fromEntries(d.entries()):u;return{href:t,protocol:r,auth:f,username:i,password:o,host:s,hostname:a,port:c,pathname:l,search:u,query:h,hash:p}}function $T(t){let e=1779033703,r=3144134277,n=1013904242,i=2773480762,o=1359893119,s=2600822924,a=528734635,c=1541459225,l=0,u=0,d=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],p=q((_,x)=>_>>>x|_<<32-x,"rrot"),f=new Uint32Array(64),h=new Uint8Array(64),m=q(()=>{for(let $=0,j=0;$<16;$++,j+=4)f[$]=h[j]<<24|h[j+1]<<16|h[j+2]<<8|h[j+3];for(let $=16;$<64;$++){let j=p(f[$-15],7)^p(f[$-15],18)^f[$-15]>>>3,X=p(f[$-2],17)^p(f[$-2],19)^f[$-2]>>>10;f[$]=f[$-16]+j+f[$-7]+X|0}let _=e,x=r,E=n,R=i,I=o,D=s,k=a,O=c;for(let $=0;$<64;$++){let j=p(I,6)^p(I,11)^p(I,25),X=I&D^~I&k,N=O+j+X+d[$]+f[$]|0,v=p(_,2)^p(_,13)^p(_,22),S=_&x^_&E^x&E,T=v+S|0;O=k,k=D,D=I,I=R+N|0,R=E,E=x,x=_,_=N+T|0}e=e+_|0,r=r+x|0,n=n+E|0,i=i+R|0,o=o+I|0,s=s+D|0,a=a+k|0,c=c+O|0,u=0},"process"),g=q(_=>{typeof _=="string"&&(_=new TextEncoder().encode(_));for(let x=0;x<_.length;x++)h[u++]=_[x],u===64&&m();l+=_.length},"add"),b=q(()=>{if(h[u++]=128,u==64&&m(),u+8>64){for(;u<64;)h[u++]=0;m()}for(;u<58;)h[u++]=0;let _=l*8;h[u++]=_/1099511627776&255,h[u++]=_/4294967296&255,h[u++]=_>>>24,h[u++]=_>>>16&255,h[u++]=_>>>8&255,h[u++]=_&255,m();let x=new Uint8Array(32);return x[0]=e>>>24,x[1]=e>>>16&255,x[2]=e>>>8&255,x[3]=e&255,x[4]=r>>>24,x[5]=r>>>16&255,x[6]=r>>>8&255,x[7]=r&255,x[8]=n>>>24,x[9]=n>>>16&255,x[10]=n>>>8&255,x[11]=n&255,x[12]=i>>>24,x[13]=i>>>16&255,x[14]=i>>>8&255,x[15]=i&255,x[16]=o>>>24,x[17]=o>>>16&255,x[18]=o>>>8&255,x[19]=o&255,x[20]=s>>>24,x[21]=s>>>16&255,x[22]=s>>>8&255,x[23]=s&255,x[24]=a>>>24,x[25]=a>>>16&255,x[26]=a>>>8&255,x[27]=a&255,x[28]=c>>>24,x[29]=c>>>16&255,x[30]=c>>>8&255,x[31]=c&255,x},"digest");return t===void 0?{add:g,digest:b}:(g(t),b())}function cBe(t){return crypto.getRandomValues(Qt.alloc(t))}function lBe(t){if(t==="sha256")return{update:q(function(e){return{digest:q(function(){return Qt.from($T(e))},"digest")}},"update")};if(t==="md5")return{update:q(function(e){return{digest:q(function(){return typeof e=="string"?hie.hashStr(e):hie.hashByteArray(e)},"digest")}},"update")};throw new Error(`Hash type '${t}' not supported`)}function uBe(t,e){if(t!=="sha256")throw new Error(`Only sha256 is supported (requested: '${t}')`);return{update:q(function(r){return{digest:q(function(){typeof e=="string"&&(e=new TextEncoder().encode(e)),typeof r=="string"&&(r=new TextEncoder().encode(r));let n=e.length;if(n>64)e=$T(e);else if(n<64){let c=new Uint8Array(64);c.set(e),e=c}let i=new Uint8Array(64),o=new Uint8Array(64);for(let c=0;c<64;c++)i[c]=54^e[c],o[c]=92^e[c];let s=new Uint8Array(r.length+64);s.set(i,0),s.set(r,64);let a=new Uint8Array(96);return a.set(o,0),a.set($T(s),64),Qt.from($T(a))},"digest")}},"update")}}function fBe(...t){return t.join("/")}function hBe(t,e){e(new Error("No filesystem"))}function TBe({socket:t,servername:e}){return t.startTls(e),t}function OBe(t,{alphabet:e,scratchArr:r}={}){if(!BT)if(BT=new Uint16Array(256),EM=new Uint16Array(256),YLe)for(let f=0;f<256;f++)BT[f]=wM[f&15]<<8|wM[f>>>4],EM[f]=AM[f&15]<<8|AM[f>>>4];else for(let f=0;f<256;f++)BT[f]=wM[f&15]|wM[f>>>4]<<8,EM[f]=AM[f&15]|AM[f>>>4]<<8;t.byteOffset%4!==0&&(t=new Uint8Array(t));let n=t.length,i=n>>>1,o=n>>>2,s=r||new Uint16Array(n),a=new Uint32Array(t.buffer,t.byteOffset,o),c=new Uint32Array(s.buffer,s.byteOffset,i),l=e==="upper"?EM:BT,u=0,d=0,p;if(YLe)for(;u<o;)p=a[u++],c[d++]=l[p>>>8&255]<<16|l[p&255],c[d++]=l[p>>>24]<<16|l[p>>>16&255];else for(;u<o;)p=a[u++],c[d++]=l[p>>>24]<<16|l[p>>>16&255],c[d++]=l[p>>>8&255]<<16|l[p&255];for(u<<=2;u<n;)s[u]=l[t[u++]];return ERt.decode(s.subarray(0,n))}function PBe(t,e={}){let r="",n=t.length,i=ARt>>>1,o=Math.ceil(n/i),s=new Uint16Array(o>1?i:n);for(let a=0;a<o;a++){let c=a*i,l=c+i;r+=OBe(t.subarray(c,l),wRt(SRt({},e),{scratchArr:s}))}return r}function kBe(t,e={}){return e.alphabet!=="upper"&&typeof t.toHex=="function"?t.toHex():PBe(t,e)}function PM(){typeof window<"u"&&typeof document<"u"&&typeof console<"u"&&typeof console.warn=="function"&&console.warn(`          
        ************************************************************
        *                                                          *
        *  WARNING: Running SQL directly from the browser can have *
        *  security implications. Even if your database is         *
        *  protected by Row-Level Security (RLS), use it at your   *
        *  own risk. This approach is great for fast prototyping,  *
        *  but ensure proper safeguards are in place to prevent    *
        *  misuse or execution of expensive SQL queries by your    *
        *  end users.                                              *
        *                                                          *
        *  If you've assessed the risks, suppress this message     *
        *  using the disableWarningInBrowsers configuration        *
        *  parameter.                                              *
        *                                                          *
        ************************************************************`)}function UBe(t){return t instanceof Qt?"\\x"+kBe(t):t}function gie(t){let{query:e,params:r}=t instanceof Rie?t.toParameterizedQuery():t;return{query:e,params:r.map(n=>UBe((0,IRt.prepareValue)(n)))}}function Xb(t,{arrayMode:e,fullResults:r,fetchOptions:n,isolationLevel:i,readOnly:o,deferrable:s,authToken:a,disableWarningInBrowsers:c}={}){if(!t)throw new Error("No database connection string was provided to `neon()`. Perhaps an environment variable has not been set?");let l;try{l=vie(t)}catch{throw new Error("Database connection string provided to `neon()` is not a valid URL. Connection string: "+String(t))}let{protocol:u,username:d,hostname:p,port:f,pathname:h}=l;if(u!=="postgres:"&&u!=="postgresql:"||!d||!p||!h)throw new Error("Database connection string format for `neon()` should be: postgresql://user:password@host.tld/dbname?option=value");function m(b,..._){if(!(Array.isArray(b)&&Array.isArray(b.raw)&&Array.isArray(_)))throw new Error('This function can now be called only as a tagged-template function: sql`SELECT ${value}`, not sql("SELECT $1", [value], options). For a conventional function call with value placeholders ($1, $2, etc.), use sql.query("SELECT $1", [value], options).');return new UT(g,new Rie(b,_))}q(m,"templateFn"),m.query=(b,_,x)=>new UT(g,{query:b,params:_??[]},x),m.unsafe=b=>new Iie(b),m.transaction=async(b,_)=>{if(typeof b=="function"&&(b=b(m)),!Array.isArray(b))throw new Error(ZLe);b.forEach(R=>{if(!(R instanceof UT))throw new Error(ZLe)});let x=b.map(R=>R.queryData),E=b.map(R=>R.opts??{});return g(x,E,_)};async function g(b,_,x){let{fetchEndpoint:E,fetchFunction:R}=nw,I=Array.isArray(b)?{queries:b.map(U=>gie(U))}:gie(b),D=n??{},k=e??!1,O=r??!1,$=i,j=o,X=s;x!==void 0&&(x.fetchOptions!==void 0&&(D={...D,...x.fetchOptions}),x.arrayMode!==void 0&&(k=x.arrayMode),x.fullResults!==void 0&&(O=x.fullResults),x.isolationLevel!==void 0&&($=x.isolationLevel),x.readOnly!==void 0&&(j=x.readOnly),x.deferrable!==void 0&&(X=x.deferrable)),_!==void 0&&!Array.isArray(_)&&_.fetchOptions!==void 0&&(D={...D,..._.fetchOptions});let N=a;!Array.isArray(_)&&_?.authToken!==void 0&&(N=_.authToken);let v=typeof E=="function"?E(p,f,{jwtAuth:N!==void 0}):E,S={"Neon-Connection-String":t,"Neon-Raw-Text-Output":"true","Neon-Array-Mode":"true"},T=await zBe(N);T&&(S.Authorization=`Bearer ${T}`),Array.isArray(b)&&($!==void 0&&(S["Neon-Batch-Isolation-Level"]=$),j!==void 0&&(S["Neon-Batch-Read-Only"]=String(j)),X!==void 0&&(S["Neon-Batch-Deferrable"]=String(X))),c||nw.disableWarningInBrowsers||PM();let M;try{M=await(R??fetch)(v,{method:"POST",body:JSON.stringify(I),headers:S,...D})}catch(U){let H=new Wb(`Error connecting to database: ${U}`);throw H.sourceError=U,H}if(M.ok){let U=await M.json();if(Array.isArray(b)){let H=U.results;if(!Array.isArray(H))throw new Wb("Neon internal error: unexpected result format");return H.map((K,G)=>{let w=_[G]??{},Q=w.arrayMode??k,Ee=w.fullResults??O;return yie(K,{arrayMode:Q,fullResults:Ee,types:w.types})})}else{let H=_??{},K=H.arrayMode??k,G=H.fullResults??O;return yie(U,{arrayMode:K,fullResults:G,types:H.types})}}else{let{status:U}=M;if(U===400){let H=await M.json(),K=new Wb(H.message);for(let G of CRt)K[G]=H[G]??void 0;throw K}else{let H=await M.text();throw new Wb(`Server error (HTTP status ${U}): ${H}`)}}}return q(g,"execute"),m}function yie(t,{arrayMode:e,fullResults:r,types:n}){let i=new RRt.default(n),o=t.fields.map(c=>c.name),s=t.fields.map(c=>i.getTypeParser(c.dataTypeID)),a=e===!0?t.rows.map(c=>c.map((l,u)=>l===null?null:s[u](l))):t.rows.map(c=>Object.fromEntries(c.map((l,u)=>[o[u],l===null?null:s[u](l)])));return r?(t.viaNeonFetch=!0,t.rowAsArray=e,t.rows=a,t._parsers=s,t._types=i,t):a}async function zBe(t){if(typeof t=="string")return t;if(typeof t=="function")try{return await Promise.resolve(t())}catch(e){let r=new Wb("Error getting auth token.");throw e instanceof Error&&(r=new Wb(`Error getting auth token: ${e.message}`)),r}}function GBe(t,e){if(e)return{callback:e,result:void 0};let r,n,i=q(function(s,a){s?r(s):n(a)},"cb"),o=new t(function(s,a){n=s,r=a});return{callback:i,result:o}}var OTt,iw,PTt,kTt,DTt,MTt,LTt,q,fc,xr,kd,eBe,Kb,Ho,Xt,BTt,$Tt,UTt,TM,bie,FTt,Qt,_r,Ot,Qb,tBe,WLe,fie,LT,nw,FT,nBe,iBe,oBe,aBe,zTt,VTt,HTt,GTt,jTt,qTt,JTt,WTt,RM,_ie,KTt,Mm,hie,QTt,xie,dBe,IM,CM,zT,pBe,NM,XTt,Sie,mBe,wie,gBe,Aie,yBe,bBe,vBe,mie,_Be,YTt,ZTt,eRt,tRt,xBe,SBe,rRt,nRt,Eie,iRt,oRt,wBe,sRt,aRt,cRt,lRt,ABe,EBe,uRt,RBe,dRt,pRt,IBe,CBe,fRt,mRt,hRt,gRt,KLe,OM,yRt,bRt,vRt,QLe,_Rt,xRt,XLe,SRt,wRt,ARt,YLe,ERt,Tie,wM,AM,TRt,NBe,BT,EM,DBe,Rie,LBe,Iie,RRt,IRt,BBe,Wb,ZLe,CRt,FBe,UT,NRt,ORt,VBe,HBe,PRt,jBe,kRt,VT,DRt,MRt,LRt,BRt,$Rt,xa,Cie=y(()=>{"use strict";OTt=Object.create,iw=Object.defineProperty,PTt=Object.getOwnPropertyDescriptor,kTt=Object.getOwnPropertyNames,DTt=Object.getPrototypeOf,MTt=Object.prototype.hasOwnProperty,LTt=(t,e,r)=>e in t?iw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,q=(t,e)=>iw(t,"name",{value:e,configurable:!0}),fc=(t,e)=>()=>(t&&(e=t(t=0)),e),xr=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),kd=(t,e)=>{for(var r in e)iw(t,r,{get:e[r],enumerable:!0})},eBe=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of kTt(e))!MTt.call(t,i)&&i!==r&&iw(t,i,{get:()=>e[i],enumerable:!(n=PTt(e,i))||n.enumerable});return t},Kb=(t,e,r)=>(r=t!=null?OTt(DTt(t)):{},eBe(e||!t||!t.__esModule?iw(r,"default",{value:t,enumerable:!0}):r,t)),Ho=t=>eBe(iw({},"__esModule",{value:!0}),t),Xt=(t,e,r)=>LTt(t,typeof e!="symbol"?e+"":e,r),BTt=xr(t=>{"use strict";Ot(),t.byteLength=c,t.toByteArray=u,t.fromByteArray=f;var e=[],r=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(o=0,s=i.length;o<s;++o)e[o]=i[o],r[i.charCodeAt(o)]=o;var o,s;r[45]=62,r[95]=63;function a(h){var m=h.length;if(m%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=h.indexOf("=");g===-1&&(g=m);var b=g===m?0:4-g%4;return[g,b]}q(a,"getLens");function c(h){var m=a(h),g=m[0],b=m[1];return(g+b)*3/4-b}q(c,"byteLength");function l(h,m,g){return(m+g)*3/4-g}q(l,"_byteLength");function u(h){var m,g=a(h),b=g[0],_=g[1],x=new n(l(h,b,_)),E=0,R=_>0?b-4:b,I;for(I=0;I<R;I+=4)m=r[h.charCodeAt(I)]<<18|r[h.charCodeAt(I+1)]<<12|r[h.charCodeAt(I+2)]<<6|r[h.charCodeAt(I+3)],x[E++]=m>>16&255,x[E++]=m>>8&255,x[E++]=m&255;return _===2&&(m=r[h.charCodeAt(I)]<<2|r[h.charCodeAt(I+1)]>>4,x[E++]=m&255),_===1&&(m=r[h.charCodeAt(I)]<<10|r[h.charCodeAt(I+1)]<<4|r[h.charCodeAt(I+2)]>>2,x[E++]=m>>8&255,x[E++]=m&255),x}q(u,"toByteArray");function d(h){return e[h>>18&63]+e[h>>12&63]+e[h>>6&63]+e[h&63]}q(d,"tripletToBase64");function p(h,m,g){for(var b,_=[],x=m;x<g;x+=3)b=(h[x]<<16&16711680)+(h[x+1]<<8&65280)+(h[x+2]&255),_.push(d(b));return _.join("")}q(p,"encodeChunk");function f(h){for(var m,g=h.length,b=g%3,_=[],x=16383,E=0,R=g-b;E<R;E+=x)_.push(p(h,E,E+x>R?R:E+x));return b===1?(m=h[g-1],_.push(e[m>>2]+e[m<<4&63]+"==")):b===2&&(m=(h[g-2]<<8)+h[g-1],_.push(e[m>>10]+e[m>>4&63]+e[m<<2&63]+"=")),_.join("")}q(f,"fromByteArray")}),$Tt=xr(t=>{Ot(),t.read=function(e,r,n,i,o){var s,a,c=o*8-i-1,l=(1<<c)-1,u=l>>1,d=-7,p=n?o-1:0,f=n?-1:1,h=e[r+p];for(p+=f,s=h&(1<<-d)-1,h>>=-d,d+=c;d>0;s=s*256+e[r+p],p+=f,d-=8);for(a=s&(1<<-d)-1,s>>=-d,d+=i;d>0;a=a*256+e[r+p],p+=f,d-=8);if(s===0)s=1-u;else{if(s===l)return a?NaN:(h?-1:1)*(1/0);a=a+Math.pow(2,i),s=s-u}return(h?-1:1)*a*Math.pow(2,s-i)},t.write=function(e,r,n,i,o,s){var a,c,l,u=s*8-o-1,d=(1<<u)-1,p=d>>1,f=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:s-1,m=i?1:-1,g=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(c=isNaN(r)?1:0,a=d):(a=Math.floor(Math.log(r)/Math.LN2),r*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+p>=1?r+=f/l:r+=f*Math.pow(2,1-p),r*l>=2&&(a++,l/=2),a+p>=d?(c=0,a=d):a+p>=1?(c=(r*l-1)*Math.pow(2,o),a=a+p):(c=r*Math.pow(2,p-1)*Math.pow(2,o),a=0));o>=8;e[n+h]=c&255,h+=m,c/=256,o-=8);for(a=a<<o|c,u+=o;u>0;e[n+h]=a&255,h+=m,a/=256,u-=8);e[n+h-m]|=g*128}}),UTt=xr(t=>{"use strict";Ot();var e=BTt(),r=$Tt(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=_,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{let A=new Uint8Array(1),B={foo:q(function(){return 42},"foo")};return Object.setPrototypeOf(B,Uint8Array.prototype),Object.setPrototypeOf(A,B),A.foo()===42}catch{return!1}}q(o,"typedArraySupport"),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:q(function(){if(a.isBuffer(this))return this.buffer},"get")}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:q(function(){if(a.isBuffer(this))return this.byteOffset},"get")});function s(A){if(A>i)throw new RangeError('The value "'+A+'" is invalid for option "size"');let B=new Uint8Array(A);return Object.setPrototypeOf(B,a.prototype),B}q(s,"createBuffer");function a(A,B,V){if(typeof A=="number"){if(typeof B=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(A)}return c(A,B,V)}q(a,"Buffer"),a.poolSize=8192;function c(A,B,V){if(typeof A=="string")return p(A,B);if(ArrayBuffer.isView(A))return h(A);if(A==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A);if(Ps(A,ArrayBuffer)||A&&Ps(A.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ps(A,SharedArrayBuffer)||A&&Ps(A.buffer,SharedArrayBuffer)))return m(A,B,V);if(typeof A=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let ne=A.valueOf&&A.valueOf();if(ne!=null&&ne!==A)return a.from(ne,B,V);let J=g(A);if(J)return J;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof A[Symbol.toPrimitive]=="function")return a.from(A[Symbol.toPrimitive]("string"),B,V);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A)}q(c,"from"),a.from=function(A,B,V){return c(A,B,V)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(A){if(typeof A!="number")throw new TypeError('"size" argument must be of type number');if(A<0)throw new RangeError('The value "'+A+'" is invalid for option "size"')}q(l,"assertSize");function u(A,B,V){return l(A),A<=0?s(A):B!==void 0?typeof V=="string"?s(A).fill(B,V):s(A).fill(B):s(A)}q(u,"alloc"),a.alloc=function(A,B,V){return u(A,B,V)};function d(A){return l(A),s(A<0?0:b(A)|0)}q(d,"allocUnsafe"),a.allocUnsafe=function(A){return d(A)},a.allocUnsafeSlow=function(A){return d(A)};function p(A,B){if((typeof B!="string"||B==="")&&(B="utf8"),!a.isEncoding(B))throw new TypeError("Unknown encoding: "+B);let V=x(A,B)|0,ne=s(V),J=ne.write(A,B);return J!==V&&(ne=ne.slice(0,J)),ne}q(p,"fromString");function f(A){let B=A.length<0?0:b(A.length)|0,V=s(B);for(let ne=0;ne<B;ne+=1)V[ne]=A[ne]&255;return V}q(f,"fromArrayLike");function h(A){if(Ps(A,Uint8Array)){let B=new Uint8Array(A);return m(B.buffer,B.byteOffset,B.byteLength)}return f(A)}q(h,"fromArrayView");function m(A,B,V){if(B<0||A.byteLength<B)throw new RangeError('"offset" is outside of buffer bounds');if(A.byteLength<B+(V||0))throw new RangeError('"length" is outside of buffer bounds');let ne;return B===void 0&&V===void 0?ne=new Uint8Array(A):V===void 0?ne=new Uint8Array(A,B):ne=new Uint8Array(A,B,V),Object.setPrototypeOf(ne,a.prototype),ne}q(m,"fromArrayBuffer");function g(A){if(a.isBuffer(A)){let B=b(A.length)|0,V=s(B);return V.length===0||A.copy(V,0,0,B),V}if(A.length!==void 0)return typeof A.length!="number"||In(A.length)?s(0):f(A);if(A.type==="Buffer"&&Array.isArray(A.data))return f(A.data)}q(g,"fromObject");function b(A){if(A>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return A|0}q(b,"checked");function _(A){return+A!=A&&(A=0),a.alloc(+A)}q(_,"SlowBuffer"),a.isBuffer=q(function(A){return A!=null&&A._isBuffer===!0&&A!==a.prototype},"isBuffer"),a.compare=q(function(A,B){if(Ps(A,Uint8Array)&&(A=a.from(A,A.offset,A.byteLength)),Ps(B,Uint8Array)&&(B=a.from(B,B.offset,B.byteLength)),!a.isBuffer(A)||!a.isBuffer(B))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(A===B)return 0;let V=A.length,ne=B.length;for(let J=0,Y=Math.min(V,ne);J<Y;++J)if(A[J]!==B[J]){V=A[J],ne=B[J];break}return V<ne?-1:ne<V?1:0},"compare"),a.isEncoding=q(function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding"),a.concat=q(function(A,B){if(!Array.isArray(A))throw new TypeError('"list" argument must be an Array of Buffers');if(A.length===0)return a.alloc(0);let V;if(B===void 0)for(B=0,V=0;V<A.length;++V)B+=A[V].length;let ne=a.allocUnsafe(B),J=0;for(V=0;V<A.length;++V){let Y=A[V];if(Ps(Y,Uint8Array))J+Y.length>ne.length?(a.isBuffer(Y)||(Y=a.from(Y)),Y.copy(ne,J)):Uint8Array.prototype.set.call(ne,Y,J);else if(a.isBuffer(Y))Y.copy(ne,J);else throw new TypeError('"list" argument must be an Array of Buffers');J+=Y.length}return ne},"concat");function x(A,B){if(a.isBuffer(A))return A.length;if(ArrayBuffer.isView(A)||Ps(A,ArrayBuffer))return A.byteLength;if(typeof A!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof A);let V=A.length,ne=arguments.length>2&&arguments[2]===!0;if(!ne&&V===0)return 0;let J=!1;for(;;)switch(B){case"ascii":case"latin1":case"binary":return V;case"utf8":case"utf-8":return vn(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V*2;case"hex":return V>>>1;case"base64":return Rn(A).length;default:if(J)return ne?-1:vn(A).length;B=(""+B).toLowerCase(),J=!0}}q(x,"byteLength"),a.byteLength=x;function E(A,B,V){let ne=!1;if((B===void 0||B<0)&&(B=0),B>this.length||((V===void 0||V>this.length)&&(V=this.length),V<=0)||(V>>>=0,B>>>=0,V<=B))return"";for(A||(A="utf8");;)switch(A){case"hex":return H(this,B,V);case"utf8":case"utf-8":return v(this,B,V);case"ascii":return M(this,B,V);case"latin1":case"binary":return U(this,B,V);case"base64":return N(this,B,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,B,V);default:if(ne)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),ne=!0}}q(E,"slowToString"),a.prototype._isBuffer=!0;function R(A,B,V){let ne=A[B];A[B]=A[V],A[V]=ne}q(R,"swap"),a.prototype.swap16=q(function(){let A=this.length;if(A%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let B=0;B<A;B+=2)R(this,B,B+1);return this},"swap16"),a.prototype.swap32=q(function(){let A=this.length;if(A%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let B=0;B<A;B+=4)R(this,B,B+3),R(this,B+1,B+2);return this},"swap32"),a.prototype.swap64=q(function(){let A=this.length;if(A%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let B=0;B<A;B+=8)R(this,B,B+7),R(this,B+1,B+6),R(this,B+2,B+5),R(this,B+3,B+4);return this},"swap64"),a.prototype.toString=q(function(){let A=this.length;return A===0?"":arguments.length===0?v(this,0,A):E.apply(this,arguments)},"toString"),a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=q(function(A){if(!a.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A?!0:a.compare(this,A)===0},"equals"),a.prototype.inspect=q(function(){let A="",B=t.INSPECT_MAX_BYTES;return A=this.toString("hex",0,B).replace(/(.{2})/g,"$1 ").trim(),this.length>B&&(A+=" ... "),"<Buffer "+A+">"},"inspect"),n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=q(function(A,B,V,ne,J){if(Ps(A,Uint8Array)&&(A=a.from(A,A.offset,A.byteLength)),!a.isBuffer(A))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof A);if(B===void 0&&(B=0),V===void 0&&(V=A?A.length:0),ne===void 0&&(ne=0),J===void 0&&(J=this.length),B<0||V>A.length||ne<0||J>this.length)throw new RangeError("out of range index");if(ne>=J&&B>=V)return 0;if(ne>=J)return-1;if(B>=V)return 1;if(B>>>=0,V>>>=0,ne>>>=0,J>>>=0,this===A)return 0;let Y=J-ne,ie=V-B,ke=Math.min(Y,ie),je=this.slice(ne,J),wt=A.slice(B,V);for(let Jt=0;Jt<ke;++Jt)if(je[Jt]!==wt[Jt]){Y=je[Jt],ie=wt[Jt];break}return Y<ie?-1:ie<Y?1:0},"compare");function I(A,B,V,ne,J){if(A.length===0)return-1;if(typeof V=="string"?(ne=V,V=0):V>2147483647?V=2147483647:V<-2147483648&&(V=-2147483648),V=+V,In(V)&&(V=J?0:A.length-1),V<0&&(V=A.length+V),V>=A.length){if(J)return-1;V=A.length-1}else if(V<0)if(J)V=0;else return-1;if(typeof B=="string"&&(B=a.from(B,ne)),a.isBuffer(B))return B.length===0?-1:D(A,B,V,ne,J);if(typeof B=="number")return B=B&255,typeof Uint8Array.prototype.indexOf=="function"?J?Uint8Array.prototype.indexOf.call(A,B,V):Uint8Array.prototype.lastIndexOf.call(A,B,V):D(A,[B],V,ne,J);throw new TypeError("val must be string, number or Buffer")}q(I,"bidirectionalIndexOf");function D(A,B,V,ne,J){let Y=1,ie=A.length,ke=B.length;if(ne!==void 0&&(ne=String(ne).toLowerCase(),ne==="ucs2"||ne==="ucs-2"||ne==="utf16le"||ne==="utf-16le")){if(A.length<2||B.length<2)return-1;Y=2,ie/=2,ke/=2,V/=2}function je(Jt,at){return Y===1?Jt[at]:Jt.readUInt16BE(at*Y)}q(je,"read");let wt;if(J){let Jt=-1;for(wt=V;wt<ie;wt++)if(je(A,wt)===je(B,Jt===-1?0:wt-Jt)){if(Jt===-1&&(Jt=wt),wt-Jt+1===ke)return Jt*Y}else Jt!==-1&&(wt-=wt-Jt),Jt=-1}else for(V+ke>ie&&(V=ie-ke),wt=V;wt>=0;wt--){let Jt=!0;for(let at=0;at<ke;at++)if(je(A,wt+at)!==je(B,at)){Jt=!1;break}if(Jt)return wt}return-1}q(D,"arrayIndexOf"),a.prototype.includes=q(function(A,B,V){return this.indexOf(A,B,V)!==-1},"includes"),a.prototype.indexOf=q(function(A,B,V){return I(this,A,B,V,!0)},"indexOf"),a.prototype.lastIndexOf=q(function(A,B,V){return I(this,A,B,V,!1)},"lastIndexOf");function k(A,B,V,ne){V=Number(V)||0;let J=A.length-V;ne?(ne=Number(ne),ne>J&&(ne=J)):ne=J;let Y=B.length;ne>Y/2&&(ne=Y/2);let ie;for(ie=0;ie<ne;++ie){let ke=parseInt(B.substr(ie*2,2),16);if(In(ke))return ie;A[V+ie]=ke}return ie}q(k,"hexWrite");function O(A,B,V,ne){return on(vn(B,A.length-V),A,V,ne)}q(O,"utf8Write");function $(A,B,V,ne){return on(Bn(B),A,V,ne)}q($,"asciiWrite");function j(A,B,V,ne){return on(Rn(B),A,V,ne)}q(j,"base64Write");function X(A,B,V,ne){return on(Hg(B,A.length-V),A,V,ne)}q(X,"ucs2Write"),a.prototype.write=q(function(A,B,V,ne){if(B===void 0)ne="utf8",V=this.length,B=0;else if(V===void 0&&typeof B=="string")ne=B,V=this.length,B=0;else if(isFinite(B))B=B>>>0,isFinite(V)?(V=V>>>0,ne===void 0&&(ne="utf8")):(ne=V,V=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let J=this.length-B;if((V===void 0||V>J)&&(V=J),A.length>0&&(V<0||B<0)||B>this.length)throw new RangeError("Attempt to write outside buffer bounds");ne||(ne="utf8");let Y=!1;for(;;)switch(ne){case"hex":return k(this,A,B,V);case"utf8":case"utf-8":return O(this,A,B,V);case"ascii":case"latin1":case"binary":return $(this,A,B,V);case"base64":return j(this,A,B,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,A,B,V);default:if(Y)throw new TypeError("Unknown encoding: "+ne);ne=(""+ne).toLowerCase(),Y=!0}},"write"),a.prototype.toJSON=q(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON");function N(A,B,V){return B===0&&V===A.length?e.fromByteArray(A):e.fromByteArray(A.slice(B,V))}q(N,"base64Slice");function v(A,B,V){V=Math.min(A.length,V);let ne=[],J=B;for(;J<V;){let Y=A[J],ie=null,ke=Y>239?4:Y>223?3:Y>191?2:1;if(J+ke<=V){let je,wt,Jt,at;switch(ke){case 1:Y<128&&(ie=Y);break;case 2:je=A[J+1],(je&192)===128&&(at=(Y&31)<<6|je&63,at>127&&(ie=at));break;case 3:je=A[J+1],wt=A[J+2],(je&192)===128&&(wt&192)===128&&(at=(Y&15)<<12|(je&63)<<6|wt&63,at>2047&&(at<55296||at>57343)&&(ie=at));break;case 4:je=A[J+1],wt=A[J+2],Jt=A[J+3],(je&192)===128&&(wt&192)===128&&(Jt&192)===128&&(at=(Y&15)<<18|(je&63)<<12|(wt&63)<<6|Jt&63,at>65535&&at<1114112&&(ie=at))}}ie===null?(ie=65533,ke=1):ie>65535&&(ie-=65536,ne.push(ie>>>10&1023|55296),ie=56320|ie&1023),ne.push(ie),J+=ke}return T(ne)}q(v,"utf8Slice");var S=4096;function T(A){let B=A.length;if(B<=S)return String.fromCharCode.apply(String,A);let V="",ne=0;for(;ne<B;)V+=String.fromCharCode.apply(String,A.slice(ne,ne+=S));return V}q(T,"decodeCodePointsArray");function M(A,B,V){let ne="";V=Math.min(A.length,V);for(let J=B;J<V;++J)ne+=String.fromCharCode(A[J]&127);return ne}q(M,"asciiSlice");function U(A,B,V){let ne="";V=Math.min(A.length,V);for(let J=B;J<V;++J)ne+=String.fromCharCode(A[J]);return ne}q(U,"latin1Slice");function H(A,B,V){let ne=A.length;(!B||B<0)&&(B=0),(!V||V<0||V>ne)&&(V=ne);let J="";for(let Y=B;Y<V;++Y)J+=ei[A[Y]];return J}q(H,"hexSlice");function K(A,B,V){let ne=A.slice(B,V),J="";for(let Y=0;Y<ne.length-1;Y+=2)J+=String.fromCharCode(ne[Y]+ne[Y+1]*256);return J}q(K,"utf16leSlice"),a.prototype.slice=q(function(A,B){let V=this.length;A=~~A,B=B===void 0?V:~~B,A<0?(A+=V,A<0&&(A=0)):A>V&&(A=V),B<0?(B+=V,B<0&&(B=0)):B>V&&(B=V),B<A&&(B=A);let ne=this.subarray(A,B);return Object.setPrototypeOf(ne,a.prototype),ne},"slice");function G(A,B,V){if(A%1!==0||A<0)throw new RangeError("offset is not uint");if(A+B>V)throw new RangeError("Trying to access beyond buffer length")}q(G,"checkOffset"),a.prototype.readUintLE=a.prototype.readUIntLE=q(function(A,B,V){A=A>>>0,B=B>>>0,V||G(A,B,this.length);let ne=this[A],J=1,Y=0;for(;++Y<B&&(J*=256);)ne+=this[A+Y]*J;return ne},"readUIntLE"),a.prototype.readUintBE=a.prototype.readUIntBE=q(function(A,B,V){A=A>>>0,B=B>>>0,V||G(A,B,this.length);let ne=this[A+--B],J=1;for(;B>0&&(J*=256);)ne+=this[A+--B]*J;return ne},"readUIntBE"),a.prototype.readUint8=a.prototype.readUInt8=q(function(A,B){return A=A>>>0,B||G(A,1,this.length),this[A]},"readUInt8"),a.prototype.readUint16LE=a.prototype.readUInt16LE=q(function(A,B){return A=A>>>0,B||G(A,2,this.length),this[A]|this[A+1]<<8},"readUInt16LE"),a.prototype.readUint16BE=a.prototype.readUInt16BE=q(function(A,B){return A=A>>>0,B||G(A,2,this.length),this[A]<<8|this[A+1]},"readUInt16BE"),a.prototype.readUint32LE=a.prototype.readUInt32LE=q(function(A,B){return A=A>>>0,B||G(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+this[A+3]*16777216},"readUInt32LE"),a.prototype.readUint32BE=a.prototype.readUInt32BE=q(function(A,B){return A=A>>>0,B||G(A,4,this.length),this[A]*16777216+(this[A+1]<<16|this[A+2]<<8|this[A+3])},"readUInt32BE"),a.prototype.readBigUInt64LE=Ga(q(function(A){A=A>>>0,hr(A,"offset");let B=this[A],V=this[A+7];(B===void 0||V===void 0)&&lr(A,this.length-8);let ne=B+this[++A]*2**8+this[++A]*2**16+this[++A]*2**24,J=this[++A]+this[++A]*2**8+this[++A]*2**16+V*2**24;return BigInt(ne)+(BigInt(J)<<BigInt(32))},"readBigUInt64LE")),a.prototype.readBigUInt64BE=Ga(q(function(A){A=A>>>0,hr(A,"offset");let B=this[A],V=this[A+7];(B===void 0||V===void 0)&&lr(A,this.length-8);let ne=B*2**24+this[++A]*2**16+this[++A]*2**8+this[++A],J=this[++A]*2**24+this[++A]*2**16+this[++A]*2**8+V;return(BigInt(ne)<<BigInt(32))+BigInt(J)},"readBigUInt64BE")),a.prototype.readIntLE=q(function(A,B,V){A=A>>>0,B=B>>>0,V||G(A,B,this.length);let ne=this[A],J=1,Y=0;for(;++Y<B&&(J*=256);)ne+=this[A+Y]*J;return J*=128,ne>=J&&(ne-=Math.pow(2,8*B)),ne},"readIntLE"),a.prototype.readIntBE=q(function(A,B,V){A=A>>>0,B=B>>>0,V||G(A,B,this.length);let ne=B,J=1,Y=this[A+--ne];for(;ne>0&&(J*=256);)Y+=this[A+--ne]*J;return J*=128,Y>=J&&(Y-=Math.pow(2,8*B)),Y},"readIntBE"),a.prototype.readInt8=q(function(A,B){return A=A>>>0,B||G(A,1,this.length),this[A]&128?(255-this[A]+1)*-1:this[A]},"readInt8"),a.prototype.readInt16LE=q(function(A,B){A=A>>>0,B||G(A,2,this.length);let V=this[A]|this[A+1]<<8;return V&32768?V|4294901760:V},"readInt16LE"),a.prototype.readInt16BE=q(function(A,B){A=A>>>0,B||G(A,2,this.length);let V=this[A+1]|this[A]<<8;return V&32768?V|4294901760:V},"readInt16BE"),a.prototype.readInt32LE=q(function(A,B){return A=A>>>0,B||G(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},"readInt32LE"),a.prototype.readInt32BE=q(function(A,B){return A=A>>>0,B||G(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},"readInt32BE"),a.prototype.readBigInt64LE=Ga(q(function(A){A=A>>>0,hr(A,"offset");let B=this[A],V=this[A+7];(B===void 0||V===void 0)&&lr(A,this.length-8);let ne=this[A+4]+this[A+5]*2**8+this[A+6]*2**16+(V<<24);return(BigInt(ne)<<BigInt(32))+BigInt(B+this[++A]*2**8+this[++A]*2**16+this[++A]*2**24)},"readBigInt64LE")),a.prototype.readBigInt64BE=Ga(q(function(A){A=A>>>0,hr(A,"offset");let B=this[A],V=this[A+7];(B===void 0||V===void 0)&&lr(A,this.length-8);let ne=(B<<24)+this[++A]*2**16+this[++A]*2**8+this[++A];return(BigInt(ne)<<BigInt(32))+BigInt(this[++A]*2**24+this[++A]*2**16+this[++A]*2**8+V)},"readBigInt64BE")),a.prototype.readFloatLE=q(function(A,B){return A=A>>>0,B||G(A,4,this.length),r.read(this,A,!0,23,4)},"readFloatLE"),a.prototype.readFloatBE=q(function(A,B){return A=A>>>0,B||G(A,4,this.length),r.read(this,A,!1,23,4)},"readFloatBE"),a.prototype.readDoubleLE=q(function(A,B){return A=A>>>0,B||G(A,8,this.length),r.read(this,A,!0,52,8)},"readDoubleLE"),a.prototype.readDoubleBE=q(function(A,B){return A=A>>>0,B||G(A,8,this.length),r.read(this,A,!1,52,8)},"readDoubleBE");function w(A,B,V,ne,J,Y){if(!a.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(B>J||B<Y)throw new RangeError('"value" argument is out of bounds');if(V+ne>A.length)throw new RangeError("Index out of range")}q(w,"checkInt"),a.prototype.writeUintLE=a.prototype.writeUIntLE=q(function(A,B,V,ne){if(A=+A,B=B>>>0,V=V>>>0,!ne){let ie=Math.pow(2,8*V)-1;w(this,A,B,V,ie,0)}let J=1,Y=0;for(this[B]=A&255;++Y<V&&(J*=256);)this[B+Y]=A/J&255;return B+V},"writeUIntLE"),a.prototype.writeUintBE=a.prototype.writeUIntBE=q(function(A,B,V,ne){if(A=+A,B=B>>>0,V=V>>>0,!ne){let ie=Math.pow(2,8*V)-1;w(this,A,B,V,ie,0)}let J=V-1,Y=1;for(this[B+J]=A&255;--J>=0&&(Y*=256);)this[B+J]=A/Y&255;return B+V},"writeUIntBE"),a.prototype.writeUint8=a.prototype.writeUInt8=q(function(A,B,V){return A=+A,B=B>>>0,V||w(this,A,B,1,255,0),this[B]=A&255,B+1},"writeUInt8"),a.prototype.writeUint16LE=a.prototype.writeUInt16LE=q(function(A,B,V){return A=+A,B=B>>>0,V||w(this,A,B,2,65535,0),this[B]=A&255,this[B+1]=A>>>8,B+2},"writeUInt16LE"),a.prototype.writeUint16BE=a.prototype.writeUInt16BE=q(function(A,B,V){return A=+A,B=B>>>0,V||w(this,A,B,2,65535,0),this[B]=A>>>8,this[B+1]=A&255,B+2},"writeUInt16BE"),a.prototype.writeUint32LE=a.prototype.writeUInt32LE=q(function(A,B,V){return A=+A,B=B>>>0,V||w(this,A,B,4,4294967295,0),this[B+3]=A>>>24,this[B+2]=A>>>16,this[B+1]=A>>>8,this[B]=A&255,B+4},"writeUInt32LE"),a.prototype.writeUint32BE=a.prototype.writeUInt32BE=q(function(A,B,V){return A=+A,B=B>>>0,V||w(this,A,B,4,4294967295,0),this[B]=A>>>24,this[B+1]=A>>>16,this[B+2]=A>>>8,this[B+3]=A&255,B+4},"writeUInt32BE");function Q(A,B,V,ne,J){Oe(B,ne,J,A,V,7);let Y=Number(B&BigInt(4294967295));A[V++]=Y,Y=Y>>8,A[V++]=Y,Y=Y>>8,A[V++]=Y,Y=Y>>8,A[V++]=Y;let ie=Number(B>>BigInt(32)&BigInt(4294967295));return A[V++]=ie,ie=ie>>8,A[V++]=ie,ie=ie>>8,A[V++]=ie,ie=ie>>8,A[V++]=ie,V}q(Q,"wrtBigUInt64LE");function Ee(A,B,V,ne,J){Oe(B,ne,J,A,V,7);let Y=Number(B&BigInt(4294967295));A[V+7]=Y,Y=Y>>8,A[V+6]=Y,Y=Y>>8,A[V+5]=Y,Y=Y>>8,A[V+4]=Y;let ie=Number(B>>BigInt(32)&BigInt(4294967295));return A[V+3]=ie,ie=ie>>8,A[V+2]=ie,ie=ie>>8,A[V+1]=ie,ie=ie>>8,A[V]=ie,V+8}q(Ee,"wrtBigUInt64BE"),a.prototype.writeBigUInt64LE=Ga(q(function(A,B=0){return Q(this,A,B,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64LE")),a.prototype.writeBigUInt64BE=Ga(q(function(A,B=0){return Ee(this,A,B,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64BE")),a.prototype.writeIntLE=q(function(A,B,V,ne){if(A=+A,B=B>>>0,!ne){let ke=Math.pow(2,8*V-1);w(this,A,B,V,ke-1,-ke)}let J=0,Y=1,ie=0;for(this[B]=A&255;++J<V&&(Y*=256);)A<0&&ie===0&&this[B+J-1]!==0&&(ie=1),this[B+J]=(A/Y>>0)-ie&255;return B+V},"writeIntLE"),a.prototype.writeIntBE=q(function(A,B,V,ne){if(A=+A,B=B>>>0,!ne){let ke=Math.pow(2,8*V-1);w(this,A,B,V,ke-1,-ke)}let J=V-1,Y=1,ie=0;for(this[B+J]=A&255;--J>=0&&(Y*=256);)A<0&&ie===0&&this[B+J+1]!==0&&(ie=1),this[B+J]=(A/Y>>0)-ie&255;return B+V},"writeIntBE"),a.prototype.writeInt8=q(function(A,B,V){return A=+A,B=B>>>0,V||w(this,A,B,1,127,-128),A<0&&(A=255+A+1),this[B]=A&255,B+1},"writeInt8"),a.prototype.writeInt16LE=q(function(A,B,V){return A=+A,B=B>>>0,V||w(this,A,B,2,32767,-32768),this[B]=A&255,this[B+1]=A>>>8,B+2},"writeInt16LE"),a.prototype.writeInt16BE=q(function(A,B,V){return A=+A,B=B>>>0,V||w(this,A,B,2,32767,-32768),this[B]=A>>>8,this[B+1]=A&255,B+2},"writeInt16BE"),a.prototype.writeInt32LE=q(function(A,B,V){return A=+A,B=B>>>0,V||w(this,A,B,4,2147483647,-2147483648),this[B]=A&255,this[B+1]=A>>>8,this[B+2]=A>>>16,this[B+3]=A>>>24,B+4},"writeInt32LE"),a.prototype.writeInt32BE=q(function(A,B,V){return A=+A,B=B>>>0,V||w(this,A,B,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),this[B]=A>>>24,this[B+1]=A>>>16,this[B+2]=A>>>8,this[B+3]=A&255,B+4},"writeInt32BE"),a.prototype.writeBigInt64LE=Ga(q(function(A,B=0){return Q(this,A,B,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64LE")),a.prototype.writeBigInt64BE=Ga(q(function(A,B=0){return Ee(this,A,B,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64BE"));function ye(A,B,V,ne,J,Y){if(V+ne>A.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("Index out of range")}q(ye,"checkIEEE754");function le(A,B,V,ne,J){return B=+B,V=V>>>0,J||ye(A,B,V,4,34028234663852886e22,-34028234663852886e22),r.write(A,B,V,ne,23,4),V+4}q(le,"writeFloat"),a.prototype.writeFloatLE=q(function(A,B,V){return le(this,A,B,!0,V)},"writeFloatLE"),a.prototype.writeFloatBE=q(function(A,B,V){return le(this,A,B,!1,V)},"writeFloatBE");function Fe(A,B,V,ne,J){return B=+B,V=V>>>0,J||ye(A,B,V,8,17976931348623157e292,-17976931348623157e292),r.write(A,B,V,ne,52,8),V+8}q(Fe,"writeDouble"),a.prototype.writeDoubleLE=q(function(A,B,V){return Fe(this,A,B,!0,V)},"writeDoubleLE"),a.prototype.writeDoubleBE=q(function(A,B,V){return Fe(this,A,B,!1,V)},"writeDoubleBE"),a.prototype.copy=q(function(A,B,V,ne){if(!a.isBuffer(A))throw new TypeError("argument should be a Buffer");if(V||(V=0),!ne&&ne!==0&&(ne=this.length),B>=A.length&&(B=A.length),B||(B=0),ne>0&&ne<V&&(ne=V),ne===V||A.length===0||this.length===0)return 0;if(B<0)throw new RangeError("targetStart out of bounds");if(V<0||V>=this.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("sourceEnd out of bounds");ne>this.length&&(ne=this.length),A.length-B<ne-V&&(ne=A.length-B+V);let J=ne-V;return this===A&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(B,V,ne):Uint8Array.prototype.set.call(A,this.subarray(V,ne),B),J},"copy"),a.prototype.fill=q(function(A,B,V,ne){if(typeof A=="string"){if(typeof B=="string"?(ne=B,B=0,V=this.length):typeof V=="string"&&(ne=V,V=this.length),ne!==void 0&&typeof ne!="string")throw new TypeError("encoding must be a string");if(typeof ne=="string"&&!a.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);if(A.length===1){let Y=A.charCodeAt(0);(ne==="utf8"&&Y<128||ne==="latin1")&&(A=Y)}}else typeof A=="number"?A=A&255:typeof A=="boolean"&&(A=Number(A));if(B<0||this.length<B||this.length<V)throw new RangeError("Out of range index");if(V<=B)return this;B=B>>>0,V=V===void 0?this.length:V>>>0,A||(A=0);let J;if(typeof A=="number")for(J=B;J<V;++J)this[J]=A;else{let Y=a.isBuffer(A)?A:a.from(A,ne),ie=Y.length;if(ie===0)throw new TypeError('The value "'+A+'" is invalid for argument "value"');for(J=0;J<V-B;++J)this[J+B]=Y[J%ie]}return this},"fill");var _e={};function ot(A,B,V){var ne;_e[A]=(ne=class extends V{constructor(){super(),Object.defineProperty(this,"message",{value:B.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${A}]`,this.stack,delete this.name}get code(){return A}set code(J){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:J,writable:!0})}toString(){return`${this.name} [${A}]: ${this.message}`}},q(ne,"NodeError"),ne)}q(ot,"E"),ot("ERR_BUFFER_OUT_OF_BOUNDS",function(A){return A?`${A} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ot("ERR_INVALID_ARG_TYPE",function(A,B){return`The "${A}" argument must be of type number. Received type ${typeof B}`},TypeError),ot("ERR_OUT_OF_RANGE",function(A,B,V){let ne=`The value of "${A}" is out of range.`,J=V;return Number.isInteger(V)&&Math.abs(V)>2**32?J=he(String(V)):typeof V=="bigint"&&(J=String(V),(V>BigInt(2)**BigInt(32)||V<-(BigInt(2)**BigInt(32)))&&(J=he(J)),J+="n"),ne+=` It must be ${B}. Received ${J}`,ne},RangeError);function he(A){let B="",V=A.length,ne=A[0]==="-"?1:0;for(;V>=ne+4;V-=3)B=`_${A.slice(V-3,V)}${B}`;return`${A.slice(0,V)}${B}`}q(he,"addNumericalSeparator");function yt(A,B,V){hr(B,"offset"),(A[B]===void 0||A[B+V]===void 0)&&lr(B,A.length-(V+1))}q(yt,"checkBounds");function Oe(A,B,V,ne,J,Y){if(A>V||A<B){let ie=typeof B=="bigint"?"n":"",ke;throw Y>3?B===0||B===BigInt(0)?ke=`>= 0${ie} and < 2${ie} ** ${(Y+1)*8}${ie}`:ke=`>= -(2${ie} ** ${(Y+1)*8-1}${ie}) and < 2 ** ${(Y+1)*8-1}${ie}`:ke=`>= ${B}${ie} and <= ${V}${ie}`,new _e.ERR_OUT_OF_RANGE("value",ke,A)}yt(ne,J,Y)}q(Oe,"checkIntBI");function hr(A,B){if(typeof A!="number")throw new _e.ERR_INVALID_ARG_TYPE(B,"number",A)}q(hr,"validateNumber");function lr(A,B,V){throw Math.floor(A)!==A?(hr(A,V),new _e.ERR_OUT_OF_RANGE(V||"offset","an integer",A)):B<0?new _e.ERR_BUFFER_OUT_OF_BOUNDS:new _e.ERR_OUT_OF_RANGE(V||"offset",`>= ${V?1:0} and <= ${B}`,A)}q(lr,"boundsError");var fn=/[^+/0-9A-Za-z-_]/g;function vd(A){if(A=A.split("=")[0],A=A.trim().replace(fn,""),A.length<2)return"";for(;A.length%4!==0;)A=A+"=";return A}q(vd,"base64clean");function vn(A,B){B=B||1/0;let V,ne=A.length,J=null,Y=[];for(let ie=0;ie<ne;++ie){if(V=A.charCodeAt(ie),V>55295&&V<57344){if(!J){if(V>56319){(B-=3)>-1&&Y.push(239,191,189);continue}else if(ie+1===ne){(B-=3)>-1&&Y.push(239,191,189);continue}J=V;continue}if(V<56320){(B-=3)>-1&&Y.push(239,191,189),J=V;continue}V=(J-55296<<10|V-56320)+65536}else J&&(B-=3)>-1&&Y.push(239,191,189);if(J=null,V<128){if((B-=1)<0)break;Y.push(V)}else if(V<2048){if((B-=2)<0)break;Y.push(V>>6|192,V&63|128)}else if(V<65536){if((B-=3)<0)break;Y.push(V>>12|224,V>>6&63|128,V&63|128)}else if(V<1114112){if((B-=4)<0)break;Y.push(V>>18|240,V>>12&63|128,V>>6&63|128,V&63|128)}else throw new Error("Invalid code point")}return Y}q(vn,"utf8ToBytes");function Bn(A){let B=[];for(let V=0;V<A.length;++V)B.push(A.charCodeAt(V)&255);return B}q(Bn,"asciiToBytes");function Hg(A,B){let V,ne,J,Y=[];for(let ie=0;ie<A.length&&!((B-=2)<0);++ie)V=A.charCodeAt(ie),ne=V>>8,J=V%256,Y.push(J),Y.push(ne);return Y}q(Hg,"utf16leToBytes");function Rn(A){return e.toByteArray(vd(A))}q(Rn,"base64ToBytes");function on(A,B,V,ne){let J;for(J=0;J<ne&&!(J+V>=B.length||J>=A.length);++J)B[J+V]=A[J];return J}q(on,"blitBuffer");function Ps(A,B){return A instanceof B||A!=null&&A.constructor!=null&&A.constructor.name!=null&&A.constructor.name===B.name}q(Ps,"isInstance");function In(A){return A!==A}q(In,"numberIsNaN");var ei=(function(){let A="0123456789abcdef",B=new Array(256);for(let V=0;V<16;++V){let ne=V*16;for(let J=0;J<16;++J)B[ne+J]=A[V]+A[J]}return B})();function Ga(A){return typeof BigInt>"u"?mn:A}q(Ga,"defineBigIntMethod");function mn(){throw new Error("BigInt not supported")}q(mn,"BufferBigIntNotDefined")}),Ot=fc(()=>{"use strict";TM=globalThis,bie=globalThis.setImmediate??(t=>setTimeout(t,0)),FTt=globalThis.clearImmediate??(t=>clearTimeout(t)),Qt=typeof globalThis.Buffer=="function"&&typeof globalThis.Buffer.allocUnsafe=="function"?globalThis.Buffer:UTt().Buffer,_r=globalThis.process??{},_r.env??(_r.env={});try{_r.nextTick(()=>{})}catch{let t=Promise.resolve();_r.nextTick=t.then.bind(t)}}),Qb=xr((t,e)=>{"use strict";Ot();var r=typeof Reflect=="object"?Reflect:null,n=r&&typeof r.apply=="function"?r.apply:q(function(I,D,k){return Function.prototype.apply.call(I,D,k)},"ReflectApply"),i;r&&typeof r.ownKeys=="function"?i=r.ownKeys:Object.getOwnPropertySymbols?i=q(function(I){return Object.getOwnPropertyNames(I).concat(Object.getOwnPropertySymbols(I))},"ReflectOwnKeys"):i=q(function(I){return Object.getOwnPropertyNames(I)},"ReflectOwnKeys");function o(I){console&&console.warn&&console.warn(I)}q(o,"ProcessEmitWarning");var s=Number.isNaN||q(function(I){return I!==I},"NumberIsNaN");function a(){a.init.call(this)}q(a,"EventEmitter"),e.exports=a,e.exports.once=x,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function l(I){if(typeof I!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof I)}q(l,"checkListener"),Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:q(function(){return c},"get"),set:q(function(I){if(typeof I!="number"||I<0||s(I))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+I+".");c=I},"set")}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=q(function(I){if(typeof I!="number"||I<0||s(I))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+I+".");return this._maxListeners=I,this},"setMaxListeners");function u(I){return I._maxListeners===void 0?a.defaultMaxListeners:I._maxListeners}q(u,"_getMaxListeners"),a.prototype.getMaxListeners=q(function(){return u(this)},"getMaxListeners"),a.prototype.emit=q(function(I){for(var D=[],k=1;k<arguments.length;k++)D.push(arguments[k]);var O=I==="error",$=this._events;if($!==void 0)O=O&&$.error===void 0;else if(!O)return!1;if(O){var j;if(D.length>0&&(j=D[0]),j instanceof Error)throw j;var X=new Error("Unhandled error."+(j?" ("+j.message+")":""));throw X.context=j,X}var N=$[I];if(N===void 0)return!1;if(typeof N=="function")n(N,this,D);else for(var v=N.length,S=g(N,v),k=0;k<v;++k)n(S[k],this,D);return!0},"emit");function d(I,D,k,O){var $,j,X;if(l(k),j=I._events,j===void 0?(j=I._events=Object.create(null),I._eventsCount=0):(j.newListener!==void 0&&(I.emit("newListener",D,k.listener?k.listener:k),j=I._events),X=j[D]),X===void 0)X=j[D]=k,++I._eventsCount;else if(typeof X=="function"?X=j[D]=O?[k,X]:[X,k]:O?X.unshift(k):X.push(k),$=u(I),$>0&&X.length>$&&!X.warned){X.warned=!0;var N=new Error("Possible EventEmitter memory leak detected. "+X.length+" "+String(D)+" listeners added. Use emitter.setMaxListeners() to increase limit");N.name="MaxListenersExceededWarning",N.emitter=I,N.type=D,N.count=X.length,o(N)}return I}q(d,"_addListener"),a.prototype.addListener=q(function(I,D){return d(this,I,D,!1)},"addListener"),a.prototype.on=a.prototype.addListener,a.prototype.prependListener=q(function(I,D){return d(this,I,D,!0)},"prependListener");function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}q(p,"onceWrapper");function f(I,D,k){var O={fired:!1,wrapFn:void 0,target:I,type:D,listener:k},$=p.bind(O);return $.listener=k,O.wrapFn=$,$}q(f,"_onceWrap"),a.prototype.once=q(function(I,D){return l(D),this.on(I,f(this,I,D)),this},"once"),a.prototype.prependOnceListener=q(function(I,D){return l(D),this.prependListener(I,f(this,I,D)),this},"prependOnceListener"),a.prototype.removeListener=q(function(I,D){var k,O,$,j,X;if(l(D),O=this._events,O===void 0)return this;if(k=O[I],k===void 0)return this;if(k===D||k.listener===D)--this._eventsCount===0?this._events=Object.create(null):(delete O[I],O.removeListener&&this.emit("removeListener",I,k.listener||D));else if(typeof k!="function"){for($=-1,j=k.length-1;j>=0;j--)if(k[j]===D||k[j].listener===D){X=k[j].listener,$=j;break}if($<0)return this;$===0?k.shift():b(k,$),k.length===1&&(O[I]=k[0]),O.removeListener!==void 0&&this.emit("removeListener",I,X||D)}return this},"removeListener"),a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=q(function(I){var D,k,O;if(k=this._events,k===void 0)return this;if(k.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):k[I]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete k[I]),this;if(arguments.length===0){var $=Object.keys(k),j;for(O=0;O<$.length;++O)j=$[O],j!=="removeListener"&&this.removeAllListeners(j);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(D=k[I],typeof D=="function")this.removeListener(I,D);else if(D!==void 0)for(O=D.length-1;O>=0;O--)this.removeListener(I,D[O]);return this},"removeAllListeners");function h(I,D,k){var O=I._events;if(O===void 0)return[];var $=O[D];return $===void 0?[]:typeof $=="function"?k?[$.listener||$]:[$]:k?_($):g($,$.length)}q(h,"_listeners"),a.prototype.listeners=q(function(I){return h(this,I,!0)},"listeners"),a.prototype.rawListeners=q(function(I){return h(this,I,!1)},"rawListeners"),a.listenerCount=function(I,D){return typeof I.listenerCount=="function"?I.listenerCount(D):m.call(I,D)},a.prototype.listenerCount=m;function m(I){var D=this._events;if(D!==void 0){var k=D[I];if(typeof k=="function")return 1;if(k!==void 0)return k.length}return 0}q(m,"listenerCount"),a.prototype.eventNames=q(function(){return this._eventsCount>0?i(this._events):[]},"eventNames");function g(I,D){for(var k=new Array(D),O=0;O<D;++O)k[O]=I[O];return k}q(g,"arrayClone");function b(I,D){for(;D+1<I.length;D++)I[D]=I[D+1];I.pop()}q(b,"spliceOne");function _(I){for(var D=new Array(I.length),k=0;k<D.length;++k)D[k]=I[k].listener||I[k];return D}q(_,"unwrapListeners");function x(I,D){return new Promise(function(k,O){function $(X){I.removeListener(D,j),O(X)}q($,"errorListener");function j(){typeof I.removeListener=="function"&&I.removeListener("error",$),k([].slice.call(arguments))}q(j,"resolver"),R(I,D,j,{once:!0}),D!=="error"&&E(I,$,{once:!0})})}q(x,"once");function E(I,D,k){typeof I.on=="function"&&R(I,"error",D,k)}q(E,"addErrorHandlerIfEventEmitter");function R(I,D,k,O){if(typeof I.on=="function")O.once?I.once(D,k):I.on(D,k);else if(typeof I.addEventListener=="function")I.addEventListener(D,q(function $(j){O.once&&I.removeEventListener(D,$),k(j)},"wrapListener"));else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof I)}q(R,"eventTargetAgnosticAddListener")}),tBe={};kd(tBe,{Socket:()=>nw,isIP:()=>rBe});FT=fc(()=>{"use strict";Ot(),WLe=Kb(Qb(),1),q(rBe,"isIP"),fie=/^[^.]+\./,LT=class Vt extends WLe.EventEmitter{constructor(){super(...arguments),Xt(this,"opts",{}),Xt(this,"connecting",!1),Xt(this,"pending",!0),Xt(this,"writable",!0),Xt(this,"encrypted",!1),Xt(this,"authorized",!1),Xt(this,"destroyed",!1),Xt(this,"ws",null),Xt(this,"writeBuffer"),Xt(this,"tlsState",0),Xt(this,"tlsRead"),Xt(this,"tlsWrite")}static get poolQueryViaFetch(){return Vt.opts.poolQueryViaFetch??Vt.defaults.poolQueryViaFetch}static set poolQueryViaFetch(e){Vt.opts.poolQueryViaFetch=e}static get fetchEndpoint(){return Vt.opts.fetchEndpoint??Vt.defaults.fetchEndpoint}static set fetchEndpoint(e){Vt.opts.fetchEndpoint=e}static get fetchConnectionCache(){return!0}static set fetchConnectionCache(e){console.warn("The `fetchConnectionCache` option is deprecated (now always `true`)")}static get fetchFunction(){return Vt.opts.fetchFunction??Vt.defaults.fetchFunction}static set fetchFunction(e){Vt.opts.fetchFunction=e}static get webSocketConstructor(){return Vt.opts.webSocketConstructor??Vt.defaults.webSocketConstructor}static set webSocketConstructor(e){Vt.opts.webSocketConstructor=e}get webSocketConstructor(){return this.opts.webSocketConstructor??Vt.webSocketConstructor}set webSocketConstructor(e){this.opts.webSocketConstructor=e}static get wsProxy(){return Vt.opts.wsProxy??Vt.defaults.wsProxy}static set wsProxy(e){Vt.opts.wsProxy=e}get wsProxy(){return this.opts.wsProxy??Vt.wsProxy}set wsProxy(e){this.opts.wsProxy=e}static get coalesceWrites(){return Vt.opts.coalesceWrites??Vt.defaults.coalesceWrites}static set coalesceWrites(e){Vt.opts.coalesceWrites=e}get coalesceWrites(){return this.opts.coalesceWrites??Vt.coalesceWrites}set coalesceWrites(e){this.opts.coalesceWrites=e}static get useSecureWebSocket(){return Vt.opts.useSecureWebSocket??Vt.defaults.useSecureWebSocket}static set useSecureWebSocket(e){Vt.opts.useSecureWebSocket=e}get useSecureWebSocket(){return this.opts.useSecureWebSocket??Vt.useSecureWebSocket}set useSecureWebSocket(e){this.opts.useSecureWebSocket=e}static get forceDisablePgSSL(){return Vt.opts.forceDisablePgSSL??Vt.defaults.forceDisablePgSSL}static set forceDisablePgSSL(e){Vt.opts.forceDisablePgSSL=e}get forceDisablePgSSL(){return this.opts.forceDisablePgSSL??Vt.forceDisablePgSSL}set forceDisablePgSSL(e){this.opts.forceDisablePgSSL=e}static get disableSNI(){return Vt.opts.disableSNI??Vt.defaults.disableSNI}static set disableSNI(e){Vt.opts.disableSNI=e}get disableSNI(){return this.opts.disableSNI??Vt.disableSNI}set disableSNI(e){this.opts.disableSNI=e}static get disableWarningInBrowsers(){return Vt.opts.disableWarningInBrowsers??Vt.defaults.disableWarningInBrowsers}static set disableWarningInBrowsers(e){Vt.opts.disableWarningInBrowsers=e}get disableWarningInBrowsers(){return this.opts.disableWarningInBrowsers??Vt.disableWarningInBrowsers}set disableWarningInBrowsers(e){this.opts.disableWarningInBrowsers=e}static get pipelineConnect(){return Vt.opts.pipelineConnect??Vt.defaults.pipelineConnect}static set pipelineConnect(e){Vt.opts.pipelineConnect=e}get pipelineConnect(){return this.opts.pipelineConnect??Vt.pipelineConnect}set pipelineConnect(e){this.opts.pipelineConnect=e}static get subtls(){return Vt.opts.subtls??Vt.defaults.subtls}static set subtls(e){Vt.opts.subtls=e}get subtls(){return this.opts.subtls??Vt.subtls}set subtls(e){this.opts.subtls=e}static get pipelineTLS(){return Vt.opts.pipelineTLS??Vt.defaults.pipelineTLS}static set pipelineTLS(e){Vt.opts.pipelineTLS=e}get pipelineTLS(){return this.opts.pipelineTLS??Vt.pipelineTLS}set pipelineTLS(e){this.opts.pipelineTLS=e}static get rootCerts(){return Vt.opts.rootCerts??Vt.defaults.rootCerts}static set rootCerts(e){Vt.opts.rootCerts=e}get rootCerts(){return this.opts.rootCerts??Vt.rootCerts}set rootCerts(e){this.opts.rootCerts=e}wsProxyAddrForHost(e,r){let n=this.wsProxy;if(n===void 0)throw new Error("No WebSocket proxy is configured. Please see https://github.com/neondatabase/serverless/blob/main/CONFIG.md#wsproxy-string--host-string-port-number--string--string");return typeof n=="function"?n(e,r):`${n}?address=${e}:${r}`}setNoDelay(){return this}setKeepAlive(){return this}ref(){return this}unref(){return this}connect(e,r,n){this.connecting=!0,n&&this.once("connect",n);let i=q(()=>{this.connecting=!1,this.pending=!1,this.emit("connect"),this.emit("ready")},"handleWebSocketOpen"),o=q((a,c=!1)=>{a.binaryType="arraybuffer",a.addEventListener("error",l=>{this.emit("error",l),this.emit("close")}),a.addEventListener("message",l=>{if(this.tlsState===0){let u=Qt.from(l.data);this.emit("data",u)}}),a.addEventListener("close",()=>{this.emit("close")}),c?i():a.addEventListener("open",i)},"configureWebSocket"),s;try{s=this.wsProxyAddrForHost(r,typeof e=="string"?parseInt(e,10):e)}catch(a){this.emit("error",a),this.emit("close");return}try{let a=(this.useSecureWebSocket?"wss:":"ws:")+"//"+s;if(this.webSocketConstructor!==void 0)this.ws=new this.webSocketConstructor(a),o(this.ws);else try{this.ws=new WebSocket(a),o(this.ws)}catch{this.ws=new __unstable_WebSocket(a),o(this.ws)}}catch(a){let c=(this.useSecureWebSocket?"https:":"http:")+"//"+s;fetch(c,{headers:{Upgrade:"websocket"}}).then(l=>{if(this.ws=l.webSocket,this.ws==null)throw a;this.ws.accept(),o(this.ws,!0)}).catch(l=>{this.emit("error",new Error(`All attempts to open a WebSocket to connect to the database failed. Please refer to https://github.com/neondatabase/serverless/blob/main/CONFIG.md#websocketconstructor-typeof-websocket--undefined. Details: ${l}`)),this.emit("close")})}}async startTls(e){if(this.subtls===void 0)throw new Error("For Postgres SSL connections, you must set `neonConfig.subtls` to the subtls library. See https://github.com/neondatabase/serverless/blob/main/CONFIG.md for more information.");this.tlsState=1;let r=await this.subtls.TrustedCert.databaseFromPEM(this.rootCerts),n=new this.subtls.WebSocketReadQueue(this.ws),i=n.read.bind(n),o=this.rawWrite.bind(this),{read:s,write:a}=await this.subtls.startTls(e,r,i,o,{useSNI:!this.disableSNI,expectPreData:this.pipelineTLS?new Uint8Array([83]):void 0});this.tlsRead=s,this.tlsWrite=a,this.tlsState=2,this.encrypted=!0,this.authorized=!0,this.emit("secureConnection",this),this.tlsReadLoop()}async tlsReadLoop(){for(;;){let e=await this.tlsRead();if(e===void 0)break;{let r=Qt.from(e);this.emit("data",r)}}}rawWrite(e){if(!this.coalesceWrites){this.ws&&this.ws.send(e);return}if(this.writeBuffer===void 0)this.writeBuffer=e,setTimeout(()=>{this.ws&&this.ws.send(this.writeBuffer),this.writeBuffer=void 0},0);else{let r=new Uint8Array(this.writeBuffer.length+e.length);r.set(this.writeBuffer),r.set(e,this.writeBuffer.length),this.writeBuffer=r}}write(e,r="utf8",n=i=>{}){return e.length===0?(n(),!0):(typeof e=="string"&&(e=Qt.from(e,r)),this.tlsState===0?(this.rawWrite(e),n()):this.tlsState===1?this.once("secureConnection",()=>{this.write(e,r,n)}):(this.tlsWrite(e),n()),!0)}end(e=Qt.alloc(0),r="utf8",n=()=>{}){return this.write(e,r,()=>{this.ws.close(),n()}),this}destroy(){return this.destroyed=!0,this.end()}},q(LT,"Socket"),Xt(LT,"defaults",{poolQueryViaFetch:!1,fetchEndpoint:q((t,e,r)=>{let n;return r?.jwtAuth?n=t.replace(fie,"apiauth."):n=t.replace(fie,"api."),"https://"+n+"/sql"},"fetchEndpoint"),fetchConnectionCache:!0,fetchFunction:void 0,webSocketConstructor:void 0,wsProxy:q(t=>t+"/v2","wsProxy"),useSecureWebSocket:!0,forceDisablePgSSL:!0,coalesceWrites:!0,pipelineConnect:"password",subtls:void 0,rootCerts:"",pipelineTLS:!1,disableSNI:!1,disableWarningInBrowsers:!1}),Xt(LT,"opts",{}),nw=LT}),nBe={};kd(nBe,{parse:()=>vie});iBe=fc(()=>{"use strict";Ot(),q(vie,"parse")}),oBe=xr(t=>{"use strict";Ot(),t.parse=function(i,o){return new r(i,o).parse()};var e=class sBe{constructor(o,s){this.source=o,this.transform=s||n,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var o=this.source[this.position++];return o==="\\"?{value:this.source[this.position++],escaped:!0}:{value:o,escaped:!1}}record(o){this.recorded.push(o)}newEntry(o){var s;(this.recorded.length>0||o)&&(s=this.recorded.join(""),s==="NULL"&&!o&&(s=null),s!==null&&(s=this.transform(s)),this.entries.push(s),this.recorded=[])}consumeDimensions(){if(this.source[0]==="[")for(;!this.isEof();){var o=this.nextCharacter();if(o.value==="=")break}}parse(o){var s,a,c;for(this.consumeDimensions();!this.isEof();)if(s=this.nextCharacter(),s.value==="{"&&!c)this.dimension++,this.dimension>1&&(a=new sBe(this.source.substr(this.position-1),this.transform),this.entries.push(a.parse(!0)),this.position+=a.position-2);else if(s.value==="}"&&!c){if(this.dimension--,!this.dimension&&(this.newEntry(),o))return this.entries}else s.value==='"'&&!s.escaped?(c&&this.newEntry(!0),c=!c):s.value===","&&!c?this.newEntry():this.record(s.value);if(this.dimension!==0)throw new Error("array dimension not balanced");return this.entries}};q(e,"ArrayParser");var r=e;function n(i){return i}q(n,"identity")}),aBe=xr((t,e)=>{Ot();var r=oBe();e.exports={create:q(function(n,i){return{parse:q(function(){return r.parse(n,i)},"parse")}},"create")}}),zTt=xr((t,e)=>{"use strict";Ot();var r=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,n=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,i=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,o=/^-?infinity$/;e.exports=q(function(u){if(o.test(u))return Number(u.replace("i","I"));var d=r.exec(u);if(!d)return s(u)||null;var p=!!d[8],f=parseInt(d[1],10);p&&(f=c(f));var h=parseInt(d[2],10)-1,m=d[3],g=parseInt(d[4],10),b=parseInt(d[5],10),_=parseInt(d[6],10),x=d[7];x=x?1e3*parseFloat(x):0;var E,R=a(u);return R!=null?(E=new Date(Date.UTC(f,h,m,g,b,_,x)),l(f)&&E.setUTCFullYear(f),R!==0&&E.setTime(E.getTime()-R)):(E=new Date(f,h,m,g,b,_,x),l(f)&&E.setFullYear(f)),E},"parseDate");function s(u){var d=n.exec(u);if(d){var p=parseInt(d[1],10),f=!!d[4];f&&(p=c(p));var h=parseInt(d[2],10)-1,m=d[3],g=new Date(p,h,m);return l(p)&&g.setFullYear(p),g}}q(s,"getDate");function a(u){if(u.endsWith("+00"))return 0;var d=i.exec(u.split(" ")[1]);if(d){var p=d[1];if(p==="Z")return 0;var f=p==="-"?-1:1,h=parseInt(d[2],10)*3600+parseInt(d[3]||0,10)*60+parseInt(d[4]||0,10);return h*f*1e3}}q(a,"timeZoneOffset");function c(u){return-(u-1)}q(c,"bcYearToNegativeYear");function l(u){return u>=0&&u<100}q(l,"is0To99")}),VTt=xr((t,e)=>{Ot(),e.exports=n;var r=Object.prototype.hasOwnProperty;function n(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)r.call(s,a)&&(i[a]=s[a])}return i}q(n,"extend")}),HTt=xr((t,e)=>{"use strict";Ot();var r=VTt();e.exports=n;function n(_){if(!(this instanceof n))return new n(_);r(this,b(_))}q(n,"PostgresInterval");var i=["seconds","minutes","hours","days","months","years"];n.prototype.toPostgres=function(){var _=i.filter(this.hasOwnProperty,this);return this.milliseconds&&_.indexOf("seconds")<0&&_.push("seconds"),_.length===0?"0":_.map(function(x){var E=this[x]||0;return x==="seconds"&&this.milliseconds&&(E=(E+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),E+" "+x},this).join(" ")};var o={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},s=["years","months","days"],a=["hours","minutes","seconds"];n.prototype.toISOString=n.prototype.toISO=function(){var _=s.map(E,this).join(""),x=a.map(E,this).join("");return"P"+_+"T"+x;function E(R){var I=this[R]||0;return R==="seconds"&&this.milliseconds&&(I=(I+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),I+o[R]}};var c="([+-]?\\d+)",l=c+"\\s+years?",u=c+"\\s+mons?",d=c+"\\s+days?",p="([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?",f=new RegExp([l,u,d,p].map(function(_){return"("+_+")?"}).join("\\s*")),h={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},m=["hours","minutes","seconds","milliseconds"];function g(_){var x=_+"000000".slice(_.length);return parseInt(x,10)/1e3}q(g,"parseMilliseconds");function b(_){if(!_)return{};var x=f.exec(_),E=x[8]==="-";return Object.keys(h).reduce(function(R,I){var D=h[I],k=x[D];return!k||(k=I==="milliseconds"?g(k):parseInt(k,10),!k)||(E&&~m.indexOf(I)&&(k*=-1),R[I]=k),R},{})}q(b,"parse")}),GTt=xr((t,e)=>{"use strict";Ot(),e.exports=q(function(r){if(/^\\x/.test(r))return new Qt(r.substr(2),"hex");for(var n="",i=0;i<r.length;)if(r[i]!=="\\")n+=r[i],++i;else if(/[0-7]{3}/.test(r.substr(i+1,3)))n+=String.fromCharCode(parseInt(r.substr(i+1,3),8)),i+=4;else{for(var o=1;i+o<r.length&&r[i+o]==="\\";)o++;for(var s=0;s<Math.floor(o/2);++s)n+="\\";i+=Math.floor(o/2)*2}return new Qt(n,"binary")},"parseBytea")}),jTt=xr((t,e)=>{Ot();var r=oBe(),n=aBe(),i=zTt(),o=HTt(),s=GTt();function a(O){return q(function($){return $===null?$:O($)},"nullAllowed")}q(a,"allowNull");function c(O){return O===null?O:O==="TRUE"||O==="t"||O==="true"||O==="y"||O==="yes"||O==="on"||O==="1"}q(c,"parseBool");function l(O){return O?r.parse(O,c):null}q(l,"parseBoolArray");function u(O){return parseInt(O,10)}q(u,"parseBaseTenInt");function d(O){return O?r.parse(O,a(u)):null}q(d,"parseIntegerArray");function p(O){return O?r.parse(O,a(function($){return E($).trim()})):null}q(p,"parseBigIntegerArray");var f=q(function(O){if(!O)return null;var $=n.create(O,function(j){return j!==null&&(j=I(j)),j});return $.parse()},"parsePointArray"),h=q(function(O){if(!O)return null;var $=n.create(O,function(j){return j!==null&&(j=parseFloat(j)),j});return $.parse()},"parseFloatArray"),m=q(function(O){if(!O)return null;var $=n.create(O);return $.parse()},"parseStringArray"),g=q(function(O){if(!O)return null;var $=n.create(O,function(j){return j!==null&&(j=i(j)),j});return $.parse()},"parseDateArray"),b=q(function(O){if(!O)return null;var $=n.create(O,function(j){return j!==null&&(j=o(j)),j});return $.parse()},"parseIntervalArray"),_=q(function(O){return O?r.parse(O,a(s)):null},"parseByteAArray"),x=q(function(O){return parseInt(O,10)},"parseInteger"),E=q(function(O){var $=String(O);return/^\d+$/.test($)?$:O},"parseBigInteger"),R=q(function(O){return O?r.parse(O,a(JSON.parse)):null},"parseJsonArray"),I=q(function(O){return O[0]!=="("?null:(O=O.substring(1,O.length-1).split(","),{x:parseFloat(O[0]),y:parseFloat(O[1])})},"parsePoint"),D=q(function(O){if(O[0]!=="<"&&O[1]!=="(")return null;for(var $="(",j="",X=!1,N=2;N<O.length-1;N++){if(X||($+=O[N]),O[N]===")"){X=!0;continue}else if(!X)continue;O[N]!==","&&(j+=O[N])}var v=I($);return v.radius=parseFloat(j),v},"parseCircle"),k=q(function(O){O(20,E),O(21,x),O(23,x),O(26,x),O(700,parseFloat),O(701,parseFloat),O(16,c),O(1082,i),O(1114,i),O(1184,i),O(600,I),O(651,m),O(718,D),O(1e3,l),O(1001,_),O(1005,d),O(1007,d),O(1028,d),O(1016,p),O(1017,f),O(1021,h),O(1022,h),O(1231,h),O(1014,m),O(1015,m),O(1008,m),O(1009,m),O(1040,m),O(1041,m),O(1115,g),O(1182,g),O(1185,g),O(1186,o),O(1187,b),O(17,s),O(114,JSON.parse.bind(JSON)),O(3802,JSON.parse.bind(JSON)),O(199,R),O(3807,R),O(3907,m),O(2951,m),O(791,m),O(1183,m),O(1270,m)},"init");e.exports={init:k}}),qTt=xr((t,e)=>{"use strict";Ot();var r=1e6;function n(i){var o=i.readInt32BE(0),s=i.readUInt32BE(4),a="";o<0&&(o=~o+(s===0),s=~s+1>>>0,a="-");var c="",l,u,d,p,f,h;{if(l=o%r,o=o/r>>>0,u=4294967296*l+s,s=u/r>>>0,d=""+(u-r*s),s===0&&o===0)return a+d+c;for(p="",f=6-d.length,h=0;h<f;h++)p+="0";c=p+d+c}{if(l=o%r,o=o/r>>>0,u=4294967296*l+s,s=u/r>>>0,d=""+(u-r*s),s===0&&o===0)return a+d+c;for(p="",f=6-d.length,h=0;h<f;h++)p+="0";c=p+d+c}{if(l=o%r,o=o/r>>>0,u=4294967296*l+s,s=u/r>>>0,d=""+(u-r*s),s===0&&o===0)return a+d+c;for(p="",f=6-d.length,h=0;h<f;h++)p+="0";c=p+d+c}return l=o%r,u=4294967296*l+s,d=""+u%r,a+d+c}q(n,"readInt8"),e.exports=n}),JTt=xr((t,e)=>{Ot();var r=qTt(),n=q(function(m,g,b,_,x){b=b||0,_=_||!1,x=x||function(X,N,v){return X*Math.pow(2,v)+N};var E=b>>3,R=q(function(X){return _?~X&255:X},"inv"),I=255,D=8-b%8;g<D&&(I=255<<8-g&255,D=g),b&&(I=I>>b%8);var k=0;b%8+g>=8&&(k=x(0,R(m[E])&I,D));for(var O=g+b>>3,$=E+1;$<O;$++)k=x(k,R(m[$]),8);var j=(g+b)%8;return j>0&&(k=x(k,R(m[O])>>8-j,j)),k},"parseBits"),i=q(function(m,g,b){var _=Math.pow(2,b-1)-1,x=n(m,1),E=n(m,b,1);if(E===0)return 0;var R=1,I=q(function(k,O,$){k===0&&(k=1);for(var j=1;j<=$;j++)R/=2,(O&1<<$-j)>0&&(k+=R);return k},"parsePrecisionBits"),D=n(m,g,b+1,!1,I);return E==Math.pow(2,b+1)-1?D===0?x===0?1/0:-1/0:NaN:(x===0?1:-1)*Math.pow(2,E-_)*D},"parseFloatFromBits"),o=q(function(m){return n(m,1)==1?-1*(n(m,15,1,!0)+1):n(m,15,1)},"parseInt16"),s=q(function(m){return n(m,1)==1?-1*(n(m,31,1,!0)+1):n(m,31,1)},"parseInt32"),a=q(function(m){return i(m,23,8)},"parseFloat32"),c=q(function(m){return i(m,52,11)},"parseFloat64"),l=q(function(m){var g=n(m,16,32);if(g==49152)return NaN;for(var b=Math.pow(1e4,n(m,16,16)),_=0,x=[],E=n(m,16),R=0;R<E;R++)_+=n(m,16,64+16*R)*b,b/=1e4;var I=Math.pow(10,n(m,16,48));return(g===0?1:-1)*Math.round(_*I)/I},"parseNumeric"),u=q(function(m,g){var b=n(g,1),_=n(g,63,1),x=new Date((b===0?1:-1)*_/1e3+9466848e5);return m||x.setTime(x.getTime()+x.getTimezoneOffset()*6e4),x.usec=_%1e3,x.getMicroSeconds=function(){return this.usec},x.setMicroSeconds=function(E){this.usec=E},x.getUTCMicroSeconds=function(){return this.usec},x},"parseDate"),d=q(function(m){for(var g=n(m,32),b=n(m,32,32),_=n(m,32,64),x=96,E=[],R=0;R<g;R++)E[R]=n(m,32,x),x+=32,x+=32;var I=q(function(k){var O=n(m,32,x);if(x+=32,O==4294967295)return null;var $;if(k==23||k==20)return $=n(m,O*8,x),x+=O*8,$;if(k==25)return $=m.toString(this.encoding,x>>3,(x+=O<<3)>>3),$;console.log("ERROR: ElementType not implemented: "+k)},"parseElement"),D=q(function(k,O){var $=[],j;if(k.length>1){var X=k.shift();for(j=0;j<X;j++)$[j]=D(k,O);k.unshift(X)}else for(j=0;j<k[0];j++)$[j]=I(O);return $},"parse");return D(E,_)},"parseArray"),p=q(function(m){return m.toString("utf8")},"parseText"),f=q(function(m){return m===null?null:n(m,8)>0},"parseBool"),h=q(function(m){m(20,r),m(21,o),m(23,s),m(26,s),m(1700,l),m(700,a),m(701,c),m(16,f),m(1114,u.bind(null,!1)),m(1184,u.bind(null,!0)),m(1e3,d),m(1007,d),m(1016,d),m(1008,d),m(1009,d),m(25,p)},"init");e.exports={init:h}}),WTt=xr((t,e)=>{Ot(),e.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096}}),RM=xr(t=>{Ot();var e=jTt(),r=JTt(),n=aBe(),i=WTt();t.getTypeParser=a,t.setTypeParser=c,t.arrayParser=n,t.builtins=i;var o={text:{},binary:{}};function s(l){return String(l)}q(s,"noParse");function a(l,u){return u=u||"text",o[u]&&o[u][l]||s}q(a,"getTypeParser");function c(l,u,d){typeof u=="function"&&(d=u,u="text"),o[u][l]=d}q(c,"setTypeParser"),e.init(function(l,u){o.text[l]=u}),r.init(function(l,u){o.binary[l]=u})}),_ie=xr((t,e)=>{"use strict";Ot();var r=RM();function n(i){this._types=i||r,this.text={},this.binary={}}q(n,"TypeOverrides"),n.prototype.getOverrides=function(i){switch(i){case"text":return this.text;case"binary":return this.binary;default:return{}}},n.prototype.setTypeParser=function(i,o,s){typeof o=="function"&&(s=o,o="text"),this.getOverrides(o)[i]=s},n.prototype.getTypeParser=function(i,o){return o=o||"text",this.getOverrides(o)[i]||this._types.getTypeParser(i,o)},e.exports=n});KTt=fc(()=>{"use strict";Ot(),q($T,"sha256")}),QTt=fc(()=>{"use strict";Ot(),Mm=class Au{constructor(){Xt(this,"_dataLength",0),Xt(this,"_bufferLength",0),Xt(this,"_state",new Int32Array(4)),Xt(this,"_buffer",new ArrayBuffer(68)),Xt(this,"_buffer8"),Xt(this,"_buffer32"),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashByteArray(e,r=!1){return this.onePassHasher.start().appendByteArray(e).end(r)}static hashStr(e,r=!1){return this.onePassHasher.start().appendStr(e).end(r)}static hashAsciiStr(e,r=!1){return this.onePassHasher.start().appendAsciiStr(e).end(r)}static _hex(e){let r=Au.hexChars,n=Au.hexOut,i,o,s,a;for(a=0;a<4;a+=1)for(o=a*8,i=e[a],s=0;s<8;s+=2)n[o+1+s]=r.charAt(i&15),i>>>=4,n[o+0+s]=r.charAt(i&15),i>>>=4;return n.join("")}static _md5cycle(e,r){let n=e[0],i=e[1],o=e[2],s=e[3];n+=(i&o|~i&s)+r[0]-680876936|0,n=(n<<7|n>>>25)+i|0,s+=(n&i|~n&o)+r[1]-389564586|0,s=(s<<12|s>>>20)+n|0,o+=(s&n|~s&i)+r[2]+606105819|0,o=(o<<17|o>>>15)+s|0,i+=(o&s|~o&n)+r[3]-1044525330|0,i=(i<<22|i>>>10)+o|0,n+=(i&o|~i&s)+r[4]-176418897|0,n=(n<<7|n>>>25)+i|0,s+=(n&i|~n&o)+r[5]+1200080426|0,s=(s<<12|s>>>20)+n|0,o+=(s&n|~s&i)+r[6]-1473231341|0,o=(o<<17|o>>>15)+s|0,i+=(o&s|~o&n)+r[7]-45705983|0,i=(i<<22|i>>>10)+o|0,n+=(i&o|~i&s)+r[8]+1770035416|0,n=(n<<7|n>>>25)+i|0,s+=(n&i|~n&o)+r[9]-1958414417|0,s=(s<<12|s>>>20)+n|0,o+=(s&n|~s&i)+r[10]-42063|0,o=(o<<17|o>>>15)+s|0,i+=(o&s|~o&n)+r[11]-1990404162|0,i=(i<<22|i>>>10)+o|0,n+=(i&o|~i&s)+r[12]+1804603682|0,n=(n<<7|n>>>25)+i|0,s+=(n&i|~n&o)+r[13]-40341101|0,s=(s<<12|s>>>20)+n|0,o+=(s&n|~s&i)+r[14]-1502002290|0,o=(o<<17|o>>>15)+s|0,i+=(o&s|~o&n)+r[15]+1236535329|0,i=(i<<22|i>>>10)+o|0,n+=(i&s|o&~s)+r[1]-165796510|0,n=(n<<5|n>>>27)+i|0,s+=(n&o|i&~o)+r[6]-1069501632|0,s=(s<<9|s>>>23)+n|0,o+=(s&i|n&~i)+r[11]+643717713|0,o=(o<<14|o>>>18)+s|0,i+=(o&n|s&~n)+r[0]-373897302|0,i=(i<<20|i>>>12)+o|0,n+=(i&s|o&~s)+r[5]-701558691|0,n=(n<<5|n>>>27)+i|0,s+=(n&o|i&~o)+r[10]+38016083|0,s=(s<<9|s>>>23)+n|0,o+=(s&i|n&~i)+r[15]-660478335|0,o=(o<<14|o>>>18)+s|0,i+=(o&n|s&~n)+r[4]-405537848|0,i=(i<<20|i>>>12)+o|0,n+=(i&s|o&~s)+r[9]+568446438|0,n=(n<<5|n>>>27)+i|0,s+=(n&o|i&~o)+r[14]-1019803690|0,s=(s<<9|s>>>23)+n|0,o+=(s&i|n&~i)+r[3]-187363961|0,o=(o<<14|o>>>18)+s|0,i+=(o&n|s&~n)+r[8]+1163531501|0,i=(i<<20|i>>>12)+o|0,n+=(i&s|o&~s)+r[13]-1444681467|0,n=(n<<5|n>>>27)+i|0,s+=(n&o|i&~o)+r[2]-51403784|0,s=(s<<9|s>>>23)+n|0,o+=(s&i|n&~i)+r[7]+1735328473|0,o=(o<<14|o>>>18)+s|0,i+=(o&n|s&~n)+r[12]-1926607734|0,i=(i<<20|i>>>12)+o|0,n+=(i^o^s)+r[5]-378558|0,n=(n<<4|n>>>28)+i|0,s+=(n^i^o)+r[8]-2022574463|0,s=(s<<11|s>>>21)+n|0,o+=(s^n^i)+r[11]+1839030562|0,o=(o<<16|o>>>16)+s|0,i+=(o^s^n)+r[14]-35309556|0,i=(i<<23|i>>>9)+o|0,n+=(i^o^s)+r[1]-1530992060|0,n=(n<<4|n>>>28)+i|0,s+=(n^i^o)+r[4]+1272893353|0,s=(s<<11|s>>>21)+n|0,o+=(s^n^i)+r[7]-155497632|0,o=(o<<16|o>>>16)+s|0,i+=(o^s^n)+r[10]-1094730640|0,i=(i<<23|i>>>9)+o|0,n+=(i^o^s)+r[13]+681279174|0,n=(n<<4|n>>>28)+i|0,s+=(n^i^o)+r[0]-358537222|0,s=(s<<11|s>>>21)+n|0,o+=(s^n^i)+r[3]-722521979|0,o=(o<<16|o>>>16)+s|0,i+=(o^s^n)+r[6]+76029189|0,i=(i<<23|i>>>9)+o|0,n+=(i^o^s)+r[9]-640364487|0,n=(n<<4|n>>>28)+i|0,s+=(n^i^o)+r[12]-421815835|0,s=(s<<11|s>>>21)+n|0,o+=(s^n^i)+r[15]+530742520|0,o=(o<<16|o>>>16)+s|0,i+=(o^s^n)+r[2]-995338651|0,i=(i<<23|i>>>9)+o|0,n+=(o^(i|~s))+r[0]-198630844|0,n=(n<<6|n>>>26)+i|0,s+=(i^(n|~o))+r[7]+1126891415|0,s=(s<<10|s>>>22)+n|0,o+=(n^(s|~i))+r[14]-1416354905|0,o=(o<<15|o>>>17)+s|0,i+=(s^(o|~n))+r[5]-57434055|0,i=(i<<21|i>>>11)+o|0,n+=(o^(i|~s))+r[12]+1700485571|0,n=(n<<6|n>>>26)+i|0,s+=(i^(n|~o))+r[3]-1894986606|0,s=(s<<10|s>>>22)+n|0,o+=(n^(s|~i))+r[10]-1051523|0,o=(o<<15|o>>>17)+s|0,i+=(s^(o|~n))+r[1]-2054922799|0,i=(i<<21|i>>>11)+o|0,n+=(o^(i|~s))+r[8]+1873313359|0,n=(n<<6|n>>>26)+i|0,s+=(i^(n|~o))+r[15]-30611744|0,s=(s<<10|s>>>22)+n|0,o+=(n^(s|~i))+r[6]-1560198380|0,o=(o<<15|o>>>17)+s|0,i+=(s^(o|~n))+r[13]+1309151649|0,i=(i<<21|i>>>11)+o|0,n+=(o^(i|~s))+r[4]-145523070|0,n=(n<<6|n>>>26)+i|0,s+=(i^(n|~o))+r[11]-1120210379|0,s=(s<<10|s>>>22)+n|0,o+=(n^(s|~i))+r[2]+718787259|0,o=(o<<15|o>>>17)+s|0,i+=(s^(o|~n))+r[9]-343485551|0,i=(i<<21|i>>>11)+o|0,e[0]=n+e[0]|0,e[1]=i+e[1]|0,e[2]=o+e[2]|0,e[3]=s+e[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(Au.stateIdentity),this}appendStr(e){let r=this._buffer8,n=this._buffer32,i=this._bufferLength,o,s;for(s=0;s<e.length;s+=1){if(o=e.charCodeAt(s),o<128)r[i++]=o;else if(o<2048)r[i++]=(o>>>6)+192,r[i++]=o&63|128;else if(o<55296||o>56319)r[i++]=(o>>>12)+224,r[i++]=o>>>6&63|128,r[i++]=o&63|128;else{if(o=(o-55296)*1024+(e.charCodeAt(++s)-56320)+65536,o>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");r[i++]=(o>>>18)+240,r[i++]=o>>>12&63|128,r[i++]=o>>>6&63|128,r[i++]=o&63|128}i>=64&&(this._dataLength+=64,Au._md5cycle(this._state,n),i-=64,n[0]=n[16])}return this._bufferLength=i,this}appendAsciiStr(e){let r=this._buffer8,n=this._buffer32,i=this._bufferLength,o,s=0;for(;;){for(o=Math.min(e.length-s,64-i);o--;)r[i++]=e.charCodeAt(s++);if(i<64)break;this._dataLength+=64,Au._md5cycle(this._state,n),i=0}return this._bufferLength=i,this}appendByteArray(e){let r=this._buffer8,n=this._buffer32,i=this._bufferLength,o,s=0;for(;;){for(o=Math.min(e.length-s,64-i);o--;)r[i++]=e[s++];if(i<64)break;this._dataLength+=64,Au._md5cycle(this._state,n),i=0}return this._bufferLength=i,this}getState(){let e=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[e[0],e[1],e[2],e[3]]}}setState(e){let r=e.buffer,n=e.state,i=this._state,o;for(this._dataLength=e.length,this._bufferLength=e.buflen,i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[3],o=0;o<r.length;o+=1)this._buffer8[o]=r.charCodeAt(o)}end(e=!1){let r=this._bufferLength,n=this._buffer8,i=this._buffer32,o=(r>>2)+1;this._dataLength+=r;let s=this._dataLength*8;if(n[r]=128,n[r+1]=n[r+2]=n[r+3]=0,i.set(Au.buffer32Identity.subarray(o),o),r>55&&(Au._md5cycle(this._state,i),i.set(Au.buffer32Identity)),s<=4294967295)i[14]=s;else{let a=s.toString(16).match(/(.*?)(.{0,8})$/);if(a===null)return;let c=parseInt(a[2],16),l=parseInt(a[1],16)||0;i[14]=c,i[15]=l}return Au._md5cycle(this._state,i),e?this._state:Au._hex(this._state)}},q(Mm,"Md5"),Xt(Mm,"stateIdentity",new Int32Array([1732584193,-271733879,-1732584194,271733878])),Xt(Mm,"buffer32Identity",new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),Xt(Mm,"hexChars","0123456789abcdef"),Xt(Mm,"hexOut",[]),Xt(Mm,"onePassHasher",new Mm),hie=Mm}),xie={};kd(xie,{createHash:()=>lBe,createHmac:()=>uBe,randomBytes:()=>cBe});dBe=fc(()=>{"use strict";Ot(),KTt(),QTt(),q(cBe,"randomBytes"),q(lBe,"createHash"),q(uBe,"createHmac")}),IM=xr((t,e)=>{"use strict";Ot(),e.exports={host:"localhost",user:_r.platform==="win32"?_r.env.USERNAME:_r.env.USER,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,lock_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};var r=RM(),n=r.getTypeParser(20,"text"),i=r.getTypeParser(1016,"text");e.exports.__defineSetter__("parseInt8",function(o){r.setTypeParser(20,"text",o?r.getTypeParser(23,"text"):n),r.setTypeParser(1016,"text",o?r.getTypeParser(1007,"text"):i)})}),CM=xr((t,e)=>{"use strict";Ot();var r=(dBe(),Ho(xie)),n=IM();function i(h){var m=h.replace(/\\/g,"\\\\").replace(/"/g,'\\"');return'"'+m+'"'}q(i,"escapeElement");function o(h){for(var m="{",g=0;g<h.length;g++)g>0&&(m=m+","),h[g]===null||typeof h[g]>"u"?m=m+"NULL":Array.isArray(h[g])?m=m+o(h[g]):h[g]instanceof Qt?m+="\\\\x"+h[g].toString("hex"):m+=i(s(h[g]));return m=m+"}",m}q(o,"arrayString");var s=q(function(h,m){if(h==null)return null;if(h instanceof Qt)return h;if(ArrayBuffer.isView(h)){var g=Qt.from(h.buffer,h.byteOffset,h.byteLength);return g.length===h.byteLength?g:g.slice(h.byteOffset,h.byteOffset+h.byteLength)}return h instanceof Date?n.parseInputDatesAsUTC?u(h):l(h):Array.isArray(h)?o(h):typeof h=="object"?a(h,m):h.toString()},"prepareValue");function a(h,m){if(h&&typeof h.toPostgres=="function"){if(m=m||[],m.indexOf(h)!==-1)throw new Error('circular reference detected while preparing "'+h+'" for query');return m.push(h),s(h.toPostgres(s),m)}return JSON.stringify(h)}q(a,"prepareObject");function c(h,m){for(h=""+h;h.length<m;)h="0"+h;return h}q(c,"pad");function l(h){var m=-h.getTimezoneOffset(),g=h.getFullYear(),b=g<1;b&&(g=Math.abs(g)+1);var _=c(g,4)+"-"+c(h.getMonth()+1,2)+"-"+c(h.getDate(),2)+"T"+c(h.getHours(),2)+":"+c(h.getMinutes(),2)+":"+c(h.getSeconds(),2)+"."+c(h.getMilliseconds(),3);return m<0?(_+="-",m*=-1):_+="+",_+=c(Math.floor(m/60),2)+":"+c(m%60,2),b&&(_+=" BC"),_}q(l,"dateToString");function u(h){var m=h.getUTCFullYear(),g=m<1;g&&(m=Math.abs(m)+1);var b=c(m,4)+"-"+c(h.getUTCMonth()+1,2)+"-"+c(h.getUTCDate(),2)+"T"+c(h.getUTCHours(),2)+":"+c(h.getUTCMinutes(),2)+":"+c(h.getUTCSeconds(),2)+"."+c(h.getUTCMilliseconds(),3);return b+="+00:00",g&&(b+=" BC"),b}q(u,"dateToStringUTC");function d(h,m,g){return h=typeof h=="string"?{text:h}:h,m&&(typeof m=="function"?h.callback=m:h.values=m),g&&(h.callback=g),h}q(d,"normalizeQueryConfig");var p=q(function(h){return r.createHash("md5").update(h,"utf-8").digest("hex")},"md5"),f=q(function(h,m,g){var b=p(m+h),_=p(Qt.concat([Qt.from(b),g]));return"md5"+_},"postgresMd5PasswordHash");e.exports={prepareValue:q(function(h){return s(h)},"prepareValueWrapper"),normalizeQueryConfig:d,postgresMd5PasswordHash:f,md5:p}}),zT={};kd(zT,{default:()=>pBe});NM=fc(()=>{"use strict";Ot(),pBe={}}),XTt=xr((t,e)=>{"use strict";Ot();var r=(dBe(),Ho(xie));function n(m){if(m.indexOf("SCRAM-SHA-256")===-1)throw new Error("SASL: Only mechanism SCRAM-SHA-256 is currently supported");let g=r.randomBytes(18).toString("base64");return{mechanism:"SCRAM-SHA-256",clientNonce:g,response:"n,,n=*,r="+g,message:"SASLInitialResponse"}}q(n,"startSession");function i(m,g,b){if(m.message!=="SASLInitialResponse")throw new Error("SASL: Last message was not SASLInitialResponse");if(typeof g!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string");if(typeof b!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a string");let _=l(b);if(_.nonce.startsWith(m.clientNonce)){if(_.nonce.length===m.clientNonce.length)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");var x=Qt.from(_.salt,"base64"),E=h(g,x,_.iteration),R=f(E,"Client Key"),I=p(R),D="n=*,r="+m.clientNonce,k="r="+_.nonce+",s="+_.salt+",i="+_.iteration,O="c=biws,r="+_.nonce,$=D+","+k+","+O,j=f(I,$),X=d(R,j),N=X.toString("base64"),v=f(E,"Server Key"),S=f(v,$);m.message="SASLResponse",m.serverSignature=S.toString("base64"),m.response=O+",p="+N}q(i,"continueSession");function o(m,g){if(m.message!=="SASLResponse")throw new Error("SASL: Last message was not SASLResponse");if(typeof g!="string")throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: serverData must be a string");let{serverSignature:b}=u(g);if(b!==m.serverSignature)throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}q(o,"finalizeSession");function s(m){if(typeof m!="string")throw new TypeError("SASL: text must be a string");return m.split("").map((g,b)=>m.charCodeAt(b)).every(g=>g>=33&&g<=43||g>=45&&g<=126)}q(s,"isPrintableChars");function a(m){return/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(m)}q(a,"isBase64");function c(m){if(typeof m!="string")throw new TypeError("SASL: attribute pairs text must be a string");return new Map(m.split(",").map(g=>{if(!/^.=/.test(g))throw new Error("SASL: Invalid attribute pair entry");let b=g[0],_=g.substring(2);return[b,_]}))}q(c,"parseAttributePairs");function l(m){let g=c(m),b=g.get("r");if(b){if(!s(b))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce must only contain printable characters")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");let _=g.get("s");if(_){if(!a(_))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");let x=g.get("i");if(x){if(!/^[1-9][0-9]*$/.test(x))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration count")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");let E=parseInt(x,10);return{nonce:b,salt:_,iteration:E}}q(l,"parseServerFirstMessage");function u(m){let g=c(m).get("v");if(g){if(!a(g))throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64")}else throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing");return{serverSignature:g}}q(u,"parseServerFinalMessage");function d(m,g){if(!Qt.isBuffer(m))throw new TypeError("first argument must be a Buffer");if(!Qt.isBuffer(g))throw new TypeError("second argument must be a Buffer");if(m.length!==g.length)throw new Error("Buffer lengths must match");if(m.length===0)throw new Error("Buffers cannot be empty");return Qt.from(m.map((b,_)=>m[_]^g[_]))}q(d,"xorBuffers");function p(m){return r.createHash("sha256").update(m).digest()}q(p,"sha256");function f(m,g){return r.createHmac("sha256",m).update(g).digest()}q(f,"hmacSha256");function h(m,g,b){for(var _=f(m,Qt.concat([g,Qt.from([0,0,0,1])])),x=_,E=0;E<b-1;E++)_=f(m,_),x=d(x,_);return x}q(h,"Hi"),e.exports={startSession:n,continueSession:i,finalizeSession:o}}),Sie={};kd(Sie,{join:()=>fBe});mBe=fc(()=>{"use strict";Ot(),q(fBe,"join")}),wie={};kd(wie,{stat:()=>hBe});gBe=fc(()=>{"use strict";Ot(),q(hBe,"stat")}),Aie={};kd(Aie,{default:()=>yBe});bBe=fc(()=>{"use strict";Ot(),yBe={}}),vBe={};kd(vBe,{StringDecoder:()=>_Be});YTt=fc(()=>{"use strict";Ot(),mie=class{constructor(e){Xt(this,"td"),this.td=new TextDecoder(e)}write(e){return this.td.decode(e,{stream:!0})}end(e){return this.td.decode(e)}},q(mie,"StringDecoder"),_Be=mie}),ZTt=xr((t,e)=>{"use strict";Ot();var{Transform:r}=(bBe(),Ho(Aie)),{StringDecoder:n}=(YTt(),Ho(vBe)),i=Symbol("last"),o=Symbol("decoder");function s(d,p,f){let h;if(this.overflow){if(h=this[o].write(d).split(this.matcher),h.length===1)return f();h.shift(),this.overflow=!1}else this[i]+=this[o].write(d),h=this[i].split(this.matcher);this[i]=h.pop();for(let m=0;m<h.length;m++)try{c(this,this.mapper(h[m]))}catch(g){return f(g)}if(this.overflow=this[i].length>this.maxLength,this.overflow&&!this.skipOverflow){f(new Error("maximum buffer reached"));return}f()}q(s,"transform");function a(d){if(this[i]+=this[o].end(),this[i])try{c(this,this.mapper(this[i]))}catch(p){return d(p)}d()}q(a,"flush");function c(d,p){p!==void 0&&d.push(p)}q(c,"push");function l(d){return d}q(l,"noop");function u(d,p,f){switch(d=d||/\r?\n/,p=p||l,f=f||{},arguments.length){case 1:typeof d=="function"?(p=d,d=/\r?\n/):typeof d=="object"&&!(d instanceof RegExp)&&!d[Symbol.split]&&(f=d,d=/\r?\n/);break;case 2:typeof d=="function"?(f=p,p=d,d=/\r?\n/):typeof p=="object"&&(f=p,p=l)}f=Object.assign({},f),f.autoDestroy=!0,f.transform=s,f.flush=a,f.readableObjectMode=!0;let h=new r(f);return h[i]="",h[o]=new n("utf8"),h.matcher=d,h.mapper=p,h.maxLength=f.maxLength,h.skipOverflow=f.skipOverflow||!1,h.overflow=!1,h._destroy=function(m,g){this._writableState.errorEmitted=!1,g(m)},h}q(u,"split"),e.exports=u}),eRt=xr((t,e)=>{"use strict";Ot();var r=(mBe(),Ho(Sie)),n=(bBe(),Ho(Aie)).Stream,i=ZTt(),o=(NM(),Ho(zT)),s=5432,a=_r.platform==="win32",c=_r.stderr,l=56,u=7,d=61440,p=32768;function f(R){return(R&d)==p}q(f,"isRegFile");var h=["host","port","database","user","password"],m=h.length,g=h[m-1];function b(){var R=c instanceof n&&c.writable===!0;if(R){var I=Array.prototype.slice.call(arguments).concat(`
`);c.write(o.format.apply(o,I))}}q(b,"warn"),Object.defineProperty(e.exports,"isWin",{get:q(function(){return a},"get"),set:q(function(R){a=R},"set")}),e.exports.warnTo=function(R){var I=c;return c=R,I},e.exports.getFileName=function(R){var I=R||_r.env,D=I.PGPASSFILE||(a?r.join(I.APPDATA||"./","postgresql","pgpass.conf"):r.join(I.HOME||"./",".pgpass"));return D},e.exports.usePgPass=function(R,I){return Object.prototype.hasOwnProperty.call(_r.env,"PGPASSWORD")?!1:a?!0:(I=I||"<unkn>",f(R.mode)?R.mode&(l|u)?(b('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',I),!1):!0:(b('WARNING: password file "%s" is not a plain file',I),!1))};var _=e.exports.match=function(R,I){return h.slice(0,-1).reduce(function(D,k,O){return O==1&&Number(R[k]||s)===Number(I[k])?D&&!0:D&&(I[k]==="*"||I[k]===R[k])},!0)};e.exports.getPassword=function(R,I,D){var k,O=I.pipe(i());function $(N){var v=x(N);v&&E(v)&&_(R,v)&&(k=v[g],O.end())}q($,"onLine");var j=q(function(){I.destroy(),D(k)},"onEnd"),X=q(function(N){I.destroy(),b("WARNING: error on reading file: %s",N),D(void 0)},"onErr");I.on("error",X),O.on("data",$).on("end",j).on("error",X)};var x=e.exports.parseLine=function(R){if(R.length<11||R.match(/^\s+#/))return null;for(var I="",D="",k=0,O=0,$=0,j={},X=!1,N=q(function(S,T,M){var U=R.substring(T,M);Object.hasOwnProperty.call(_r.env,"PGPASS_NO_DEESCAPE")||(U=U.replace(/\\([:\\])/g,"$1")),j[h[S]]=U},"addToObj"),v=0;v<R.length-1;v+=1){if(I=R.charAt(v+1),D=R.charAt(v),X=k==m-1,X){N(k,O);break}v>=0&&I==":"&&D!=="\\"&&(N(k,O,v+1),O=v+2,k+=1)}return j=Object.keys(j).length===m?j:null,j},E=e.exports.isValidEntry=function(R){for(var I={0:function(j){return j.length>0},1:function(j){return j==="*"?!0:(j=Number(j),isFinite(j)&&j>0&&j<9007199254740992&&Math.floor(j)===j)},2:function(j){return j.length>0},3:function(j){return j.length>0},4:function(j){return j.length>0}},D=0;D<h.length;D+=1){var k=I[D],O=R[h[D]]||"",$=k(O);if(!$)return!1}return!0}}),tRt=xr((t,e)=>{"use strict";Ot();var r=(mBe(),Ho(Sie)),n=(gBe(),Ho(wie)),i=eRt();e.exports=function(o,s){var a=i.getFileName();n.stat(a,function(c,l){if(c||!i.usePgPass(l,a))return s(void 0);var u=n.createReadStream(a);i.getPassword(o,u,s)})},e.exports.warnTo=i.warnTo}),xBe={};kd(xBe,{default:()=>SBe});rRt=fc(()=>{"use strict";Ot(),SBe={}}),nRt=xr((t,e)=>{"use strict";Ot();var r=(iBe(),Ho(nBe)),n=(gBe(),Ho(wie));function i(o){if(o.charAt(0)==="/"){var a=o.split(" ");return{host:a[0],database:a[1]}}var s=r.parse(/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(o)?encodeURI(o).replace(/\%25(\d\d)/g,"%$1"):o,!0),a=s.query;for(var c in a)Array.isArray(a[c])&&(a[c]=a[c][a[c].length-1]);var l=(s.auth||":").split(":");if(a.user=l[0],a.password=l.splice(1).join(":"),a.port=s.port,s.protocol=="socket:")return a.host=decodeURI(s.pathname),a.database=s.query.db,a.client_encoding=s.query.encoding,a;a.host||(a.host=s.hostname);var u=s.pathname;if(!a.host&&u&&/^%2f/i.test(u)){var d=u.split("/");a.host=decodeURIComponent(d[0]),u=d.splice(1).join("/")}switch(u&&u.charAt(0)==="/"&&(u=u.slice(1)||null),a.database=u&&decodeURI(u),(a.ssl==="true"||a.ssl==="1")&&(a.ssl=!0),a.ssl==="0"&&(a.ssl=!1),(a.sslcert||a.sslkey||a.sslrootcert||a.sslmode)&&(a.ssl={}),a.sslcert&&(a.ssl.cert=n.readFileSync(a.sslcert).toString()),a.sslkey&&(a.ssl.key=n.readFileSync(a.sslkey).toString()),a.sslrootcert&&(a.ssl.ca=n.readFileSync(a.sslrootcert).toString()),a.sslmode){case"disable":{a.ssl=!1;break}case"prefer":case"require":case"verify-ca":case"verify-full":break;case"no-verify":{a.ssl.rejectUnauthorized=!1;break}}return a}q(i,"parse"),e.exports=i,i.parse=i}),Eie=xr((t,e)=>{"use strict";Ot();var r=(rRt(),Ho(xBe)),n=IM(),i=nRt().parse,o=q(function(d,p,f){return f===void 0?f=_r.env["PG"+d.toUpperCase()]:f===!1||(f=_r.env[f]),p[d]||f||n[d]},"val"),s=q(function(){switch(_r.env.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return n.ssl},"readSSLConfigFromEnvironment"),a=q(function(d){return"'"+(""+d).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},"quoteParamValue"),c=q(function(d,p,f){var h=p[f];h!=null&&d.push(f+"="+a(h))},"add"),l=class{constructor(p){p=typeof p=="string"?i(p):p||{},p.connectionString&&(p=Object.assign({},p,i(p.connectionString))),this.user=o("user",p),this.database=o("database",p),this.database===void 0&&(this.database=this.user),this.port=parseInt(o("port",p),10),this.host=o("host",p),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:o("password",p)}),this.binary=o("binary",p),this.options=o("options",p),this.ssl=typeof p.ssl>"u"?s():p.ssl,typeof this.ssl=="string"&&this.ssl==="true"&&(this.ssl=!0),this.ssl==="no-verify"&&(this.ssl={rejectUnauthorized:!1}),this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this.client_encoding=o("client_encoding",p),this.replication=o("replication",p),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=o("application_name",p,"PGAPPNAME"),this.fallback_application_name=o("fallback_application_name",p,!1),this.statement_timeout=o("statement_timeout",p,!1),this.lock_timeout=o("lock_timeout",p,!1),this.idle_in_transaction_session_timeout=o("idle_in_transaction_session_timeout",p,!1),this.query_timeout=o("query_timeout",p,!1),p.connectionTimeoutMillis===void 0?this.connect_timeout=_r.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(p.connectionTimeoutMillis/1e3),p.keepAlive===!1?this.keepalives=0:p.keepAlive===!0&&(this.keepalives=1),typeof p.keepAliveInitialDelayMillis=="number"&&(this.keepalives_idle=Math.floor(p.keepAliveInitialDelayMillis/1e3))}getLibpqConnectionString(p){var f=[];c(f,this,"user"),c(f,this,"password"),c(f,this,"port"),c(f,this,"application_name"),c(f,this,"fallback_application_name"),c(f,this,"connect_timeout"),c(f,this,"options");var h=typeof this.ssl=="object"?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(c(f,h,"sslmode"),c(f,h,"sslca"),c(f,h,"sslkey"),c(f,h,"sslcert"),c(f,h,"sslrootcert"),this.database&&f.push("dbname="+a(this.database)),this.replication&&f.push("replication="+a(this.replication)),this.host&&f.push("host="+a(this.host)),this.isDomainSocket)return p(null,f.join(" "));this.client_encoding&&f.push("client_encoding="+a(this.client_encoding)),r.lookup(this.host,function(m,g){return m?p(m,null):(f.push("hostaddr="+a(g)),p(null,f.join(" ")))})}};q(l,"ConnectionParameters");var u=l;e.exports=u}),iRt=xr((t,e)=>{"use strict";Ot();var r=RM(),n=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/,i=class{constructor(a,c){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=c,this.RowCtor=null,this.rowAsArray=a==="array",this.rowAsArray&&(this.parseRow=this._parseRowAsArray)}addCommandComplete(a){var c;a.text?c=n.exec(a.text):c=n.exec(a.command),c&&(this.command=c[1],c[3]?(this.oid=parseInt(c[2],10),this.rowCount=parseInt(c[3],10)):c[2]&&(this.rowCount=parseInt(c[2],10)))}_parseRowAsArray(a){for(var c=new Array(a.length),l=0,u=a.length;l<u;l++){var d=a[l];d!==null?c[l]=this._parsers[l](d):c[l]=null}return c}parseRow(a){for(var c={},l=0,u=a.length;l<u;l++){var d=a[l],p=this.fields[l].name;d!==null?c[p]=this._parsers[l](d):c[p]=null}return c}addRow(a){this.rows.push(a)}addFields(a){this.fields=a,this.fields.length&&(this._parsers=new Array(a.length));for(var c=0;c<a.length;c++){var l=a[c];this._types?this._parsers[c]=this._types.getTypeParser(l.dataTypeID,l.format||"text"):this._parsers[c]=r.getTypeParser(l.dataTypeID,l.format||"text")}}};q(i,"Result");var o=i;e.exports=o}),oRt=xr((t,e)=>{"use strict";Ot();var{EventEmitter:r}=Qb(),n=iRt(),i=CM(),o=class extends r{constructor(c,l,u){super(),c=i.normalizeQueryConfig(c,l,u),this.text=c.text,this.values=c.values,this.rows=c.rows,this.types=c.types,this.name=c.name,this.binary=c.binary,this.portal=c.portal||"",this.callback=c.callback,this._rowMode=c.rowMode,_r.domain&&c.callback&&(this.callback=_r.domain.bind(c.callback)),this._result=new n(this._rowMode,this.types),this._results=this._result,this.isPreparedStatement=!1,this._canceledDueToError=!1,this._promise=null}requiresPreparation(){return this.name||this.rows?!0:!this.text||!this.values?!1:this.values.length>0}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new n(this._rowMode,this.types),this._results.push(this._result))}handleRowDescription(c){this._checkForMultirow(),this._result.addFields(c.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(c){let l;if(!this._canceledDueToError){try{l=this._result.parseRow(c.fields)}catch(u){this._canceledDueToError=u;return}this.emit("row",l,this._result),this._accumulateRows&&this._result.addRow(l)}}handleCommandComplete(c,l){this._checkForMultirow(),this._result.addCommandComplete(c),this.rows&&l.sync()}handleEmptyQuery(c){this.rows&&c.sync()}handleError(c,l){if(this._canceledDueToError&&(c=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(c);this.emit("error",c)}handleReadyForQuery(c){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,c);if(this.callback)try{this.callback(null,this._results)}catch(l){_r.nextTick(()=>{throw l})}this.emit("end",this._results)}submit(c){if(typeof this.text!="string"&&typeof this.name!="string")return new Error("A query must have either text or a name. Supplying neither is unsupported.");let l=c.parsedStatements[this.name];return this.text&&l&&this.text!==l?new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`):this.values&&!Array.isArray(this.values)?new Error("Query values must be an array"):(this.requiresPreparation()?this.prepare(c):c.query(this.text),null)}hasBeenParsed(c){return this.name&&c.parsedStatements[this.name]}handlePortalSuspended(c){this._getRows(c,this.rows)}_getRows(c,l){c.execute({portal:this.portal,rows:l}),l?c.flush():c.sync()}prepare(c){this.isPreparedStatement=!0,this.hasBeenParsed(c)||c.parse({text:this.text,name:this.name,types:this.types});try{c.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary,valueMapper:i.prepareValue})}catch(l){this.handleError(l,c);return}c.describe({type:"P",name:this.portal||""}),this._getRows(c,this.rows)}handleCopyInResponse(c){c.sendCopyFail("No source stream defined")}handleCopyData(c,l){}};q(o,"Query");var s=o;e.exports=s}),wBe=xr(t=>{"use strict";Ot(),Object.defineProperty(t,"__esModule",{value:!0}),t.NoticeMessage=t.DataRowMessage=t.CommandCompleteMessage=t.ReadyForQueryMessage=t.NotificationResponseMessage=t.BackendKeyDataMessage=t.AuthenticationMD5Password=t.ParameterStatusMessage=t.ParameterDescriptionMessage=t.RowDescriptionMessage=t.Field=t.CopyResponse=t.CopyDataMessage=t.DatabaseError=t.copyDone=t.emptyQuery=t.replicationStart=t.portalSuspended=t.noData=t.closeComplete=t.bindComplete=t.parseComplete=void 0,t.parseComplete={name:"parseComplete",length:5},t.bindComplete={name:"bindComplete",length:5},t.closeComplete={name:"closeComplete",length:5},t.noData={name:"noData",length:5},t.portalSuspended={name:"portalSuspended",length:5},t.replicationStart={name:"replicationStart",length:4},t.emptyQuery={name:"emptyQuery",length:4},t.copyDone={name:"copyDone",length:4};var e=class extends Error{constructor(v,S,T){super(v),this.length=S,this.name=T}};q(e,"DatabaseError");var r=e;t.DatabaseError=r;var n=class{constructor(v,S){this.length=v,this.chunk=S,this.name="copyData"}};q(n,"CopyDataMessage");var i=n;t.CopyDataMessage=i;var o=class{constructor(v,S,T,M){this.length=v,this.name=S,this.binary=T,this.columnTypes=new Array(M)}};q(o,"CopyResponse");var s=o;t.CopyResponse=s;var a=class{constructor(v,S,T,M,U,H,K){this.name=v,this.tableID=S,this.columnID=T,this.dataTypeID=M,this.dataTypeSize=U,this.dataTypeModifier=H,this.format=K}};q(a,"Field");var c=a;t.Field=c;var l=class{constructor(v,S){this.length=v,this.fieldCount=S,this.name="rowDescription",this.fields=new Array(this.fieldCount)}};q(l,"RowDescriptionMessage");var u=l;t.RowDescriptionMessage=u;var d=class{constructor(v,S){this.length=v,this.parameterCount=S,this.name="parameterDescription",this.dataTypeIDs=new Array(this.parameterCount)}};q(d,"ParameterDescriptionMessage");var p=d;t.ParameterDescriptionMessage=p;var f=class{constructor(v,S,T){this.length=v,this.parameterName=S,this.parameterValue=T,this.name="parameterStatus"}};q(f,"ParameterStatusMessage");var h=f;t.ParameterStatusMessage=h;var m=class{constructor(v,S){this.length=v,this.salt=S,this.name="authenticationMD5Password"}};q(m,"AuthenticationMD5Password");var g=m;t.AuthenticationMD5Password=g;var b=class{constructor(v,S,T){this.length=v,this.processID=S,this.secretKey=T,this.name="backendKeyData"}};q(b,"BackendKeyDataMessage");var _=b;t.BackendKeyDataMessage=_;var x=class{constructor(v,S,T,M){this.length=v,this.processId=S,this.channel=T,this.payload=M,this.name="notification"}};q(x,"NotificationResponseMessage");var E=x;t.NotificationResponseMessage=E;var R=class{constructor(v,S){this.length=v,this.status=S,this.name="readyForQuery"}};q(R,"ReadyForQueryMessage");var I=R;t.ReadyForQueryMessage=I;var D=class{constructor(v,S){this.length=v,this.text=S,this.name="commandComplete"}};q(D,"CommandCompleteMessage");var k=D;t.CommandCompleteMessage=k;var O=class{constructor(v,S){this.length=v,this.fields=S,this.name="dataRow",this.fieldCount=S.length}};q(O,"DataRowMessage");var $=O;t.DataRowMessage=$;var j=class{constructor(v,S){this.length=v,this.message=S,this.name="notice"}};q(j,"NoticeMessage");var X=j;t.NoticeMessage=X}),sRt=xr(t=>{"use strict";Ot(),Object.defineProperty(t,"__esModule",{value:!0}),t.Writer=void 0;var e=class{constructor(i=256){this.size=i,this.offset=5,this.headerPosition=0,this.buffer=Qt.allocUnsafe(i)}ensure(i){if(this.buffer.length-this.offset<i){let o=this.buffer,s=o.length+(o.length>>1)+i;this.buffer=Qt.allocUnsafe(s),o.copy(this.buffer)}}addInt32(i){return this.ensure(4),this.buffer[this.offset++]=i>>>24&255,this.buffer[this.offset++]=i>>>16&255,this.buffer[this.offset++]=i>>>8&255,this.buffer[this.offset++]=i>>>0&255,this}addInt16(i){return this.ensure(2),this.buffer[this.offset++]=i>>>8&255,this.buffer[this.offset++]=i>>>0&255,this}addCString(i){if(!i)this.ensure(1);else{let o=Qt.byteLength(i);this.ensure(o+1),this.buffer.write(i,this.offset,"utf-8"),this.offset+=o}return this.buffer[this.offset++]=0,this}addString(i=""){let o=Qt.byteLength(i);return this.ensure(o),this.buffer.write(i,this.offset),this.offset+=o,this}add(i){return this.ensure(i.length),i.copy(this.buffer,this.offset),this.offset+=i.length,this}join(i){if(i){this.buffer[this.headerPosition]=i;let o=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(o,this.headerPosition+1)}return this.buffer.slice(i?0:5,this.offset)}flush(i){let o=this.join(i);return this.offset=5,this.headerPosition=0,this.buffer=Qt.allocUnsafe(this.size),o}};q(e,"Writer");var r=e;t.Writer=r}),aRt=xr(t=>{"use strict";Ot(),Object.defineProperty(t,"__esModule",{value:!0}),t.serialize=void 0;var e=sRt(),r=new e.Writer,n=q(v=>{r.addInt16(3).addInt16(0);for(let M of Object.keys(v))r.addCString(M).addCString(v[M]);r.addCString("client_encoding").addCString("UTF8");let S=r.addCString("").flush(),T=S.length+4;return new e.Writer().addInt32(T).add(S).flush()},"startup"),i=q(()=>{let v=Qt.allocUnsafe(8);return v.writeInt32BE(8,0),v.writeInt32BE(80877103,4),v},"requestSsl"),o=q(v=>r.addCString(v).flush(112),"password"),s=q(function(v,S){return r.addCString(v).addInt32(Qt.byteLength(S)).addString(S),r.flush(112)},"sendSASLInitialResponseMessage"),a=q(function(v){return r.addString(v).flush(112)},"sendSCRAMClientFinalMessage"),c=q(v=>r.addCString(v).flush(81),"query"),l=[],u=q(v=>{let S=v.name||"";S.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",S,S.length),console.error("This can cause conflicts and silent errors executing queries"));let T=v.types||l,M=T.length,U=r.addCString(S).addCString(v.text).addInt16(M);for(let H=0;H<M;H++)U.addInt32(T[H]);return r.flush(80)},"parse"),d=new e.Writer,p=q(function(v,S){for(let T=0;T<v.length;T++){let M=S?S(v[T],T):v[T];M==null?(r.addInt16(0),d.addInt32(-1)):M instanceof Qt?(r.addInt16(1),d.addInt32(M.length),d.add(M)):(r.addInt16(0),d.addInt32(Qt.byteLength(M)),d.addString(M))}},"writeValues"),f=q((v={})=>{let S=v.portal||"",T=v.statement||"",M=v.binary||!1,U=v.values||l,H=U.length;return r.addCString(S).addCString(T),r.addInt16(H),p(U,v.valueMapper),r.addInt16(H),r.add(d.flush()),r.addInt16(M?1:0),r.flush(66)},"bind"),h=Qt.from([69,0,0,0,9,0,0,0,0,0]),m=q(v=>{if(!v||!v.portal&&!v.rows)return h;let S=v.portal||"",T=v.rows||0,M=Qt.byteLength(S),U=4+M+1+4,H=Qt.allocUnsafe(1+U);return H[0]=69,H.writeInt32BE(U,1),H.write(S,5,"utf-8"),H[M+5]=0,H.writeUInt32BE(T,H.length-4),H},"execute"),g=q((v,S)=>{let T=Qt.allocUnsafe(16);return T.writeInt32BE(16,0),T.writeInt16BE(1234,4),T.writeInt16BE(5678,6),T.writeInt32BE(v,8),T.writeInt32BE(S,12),T},"cancel"),b=q((v,S)=>{let T=4+Qt.byteLength(S)+1,M=Qt.allocUnsafe(1+T);return M[0]=v,M.writeInt32BE(T,1),M.write(S,5,"utf-8"),M[T]=0,M},"cstringMessage"),_=r.addCString("P").flush(68),x=r.addCString("S").flush(68),E=q(v=>v.name?b(68,`${v.type}${v.name||""}`):v.type==="P"?_:x,"describe"),R=q(v=>{let S=`${v.type}${v.name||""}`;return b(67,S)},"close"),I=q(v=>r.add(v).flush(100),"copyData"),D=q(v=>b(102,v),"copyFail"),k=q(v=>Qt.from([v,0,0,0,4]),"codeOnlyBuffer"),O=k(72),$=k(83),j=k(88),X=k(99),N={startup:n,password:o,requestSsl:i,sendSASLInitialResponseMessage:s,sendSCRAMClientFinalMessage:a,query:c,parse:u,bind:f,execute:m,describe:E,close:R,flush:q(()=>O,"flush"),sync:q(()=>$,"sync"),end:q(()=>j,"end"),copyData:I,copyDone:q(()=>X,"copyDone"),copyFail:D,cancel:g};t.serialize=N}),cRt=xr(t=>{"use strict";Ot(),Object.defineProperty(t,"__esModule",{value:!0}),t.BufferReader=void 0;var e=Qt.allocUnsafe(0),r=class{constructor(o=0){this.offset=o,this.buffer=e,this.encoding="utf-8"}setBuffer(o,s){this.offset=o,this.buffer=s}int16(){let o=this.buffer.readInt16BE(this.offset);return this.offset+=2,o}byte(){let o=this.buffer[this.offset];return this.offset++,o}int32(){let o=this.buffer.readInt32BE(this.offset);return this.offset+=4,o}uint32(){let o=this.buffer.readUInt32BE(this.offset);return this.offset+=4,o}string(o){let s=this.buffer.toString(this.encoding,this.offset,this.offset+o);return this.offset+=o,s}cstring(){let o=this.offset,s=o;for(;this.buffer[s++]!==0;);return this.offset=s,this.buffer.toString(this.encoding,o,s-1)}bytes(o){let s=this.buffer.slice(this.offset,this.offset+o);return this.offset+=o,s}};q(r,"BufferReader");var n=r;t.BufferReader=n}),lRt=xr(t=>{"use strict";Ot(),Object.defineProperty(t,"__esModule",{value:!0}),t.Parser=void 0;var e=wBe(),r=cRt(),n=1,i=4,o=n+i,s=Qt.allocUnsafe(0),a=class{constructor(u){if(this.buffer=s,this.bufferLength=0,this.bufferOffset=0,this.reader=new r.BufferReader,u?.mode==="binary")throw new Error("Binary mode not supported yet");this.mode=u?.mode||"text"}parse(u,d){this.mergeBuffer(u);let p=this.bufferOffset+this.bufferLength,f=this.bufferOffset;for(;f+o<=p;){let h=this.buffer[f],m=this.buffer.readUInt32BE(f+n),g=n+m;if(g+f<=p){let b=this.handlePacket(f+o,h,m,this.buffer);d(b),f+=g}else break}f===p?(this.buffer=s,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=p-f,this.bufferOffset=f)}mergeBuffer(u){if(this.bufferLength>0){let d=this.bufferLength+u.byteLength;if(d+this.bufferOffset>this.buffer.byteLength){let p;if(d<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)p=this.buffer;else{let f=this.buffer.byteLength*2;for(;d>=f;)f*=2;p=Qt.allocUnsafe(f)}this.buffer.copy(p,0,this.bufferOffset,this.bufferOffset+this.bufferLength),this.buffer=p,this.bufferOffset=0}u.copy(this.buffer,this.bufferOffset+this.bufferLength),this.bufferLength=d}else this.buffer=u,this.bufferOffset=0,this.bufferLength=u.byteLength}handlePacket(u,d,p,f){switch(d){case 50:return e.bindComplete;case 49:return e.parseComplete;case 51:return e.closeComplete;case 110:return e.noData;case 115:return e.portalSuspended;case 99:return e.copyDone;case 87:return e.replicationStart;case 73:return e.emptyQuery;case 68:return this.parseDataRowMessage(u,p,f);case 67:return this.parseCommandCompleteMessage(u,p,f);case 90:return this.parseReadyForQueryMessage(u,p,f);case 65:return this.parseNotificationMessage(u,p,f);case 82:return this.parseAuthenticationResponse(u,p,f);case 83:return this.parseParameterStatusMessage(u,p,f);case 75:return this.parseBackendKeyData(u,p,f);case 69:return this.parseErrorMessage(u,p,f,"error");case 78:return this.parseErrorMessage(u,p,f,"notice");case 84:return this.parseRowDescriptionMessage(u,p,f);case 116:return this.parseParameterDescriptionMessage(u,p,f);case 71:return this.parseCopyInMessage(u,p,f);case 72:return this.parseCopyOutMessage(u,p,f);case 100:return this.parseCopyData(u,p,f);default:return new e.DatabaseError("received invalid response: "+d.toString(16),p,"error")}}parseReadyForQueryMessage(u,d,p){this.reader.setBuffer(u,p);let f=this.reader.string(1);return new e.ReadyForQueryMessage(d,f)}parseCommandCompleteMessage(u,d,p){this.reader.setBuffer(u,p);let f=this.reader.cstring();return new e.CommandCompleteMessage(d,f)}parseCopyData(u,d,p){let f=p.slice(u,u+(d-4));return new e.CopyDataMessage(d,f)}parseCopyInMessage(u,d,p){return this.parseCopyMessage(u,d,p,"copyInResponse")}parseCopyOutMessage(u,d,p){return this.parseCopyMessage(u,d,p,"copyOutResponse")}parseCopyMessage(u,d,p,f){this.reader.setBuffer(u,p);let h=this.reader.byte()!==0,m=this.reader.int16(),g=new e.CopyResponse(d,f,h,m);for(let b=0;b<m;b++)g.columnTypes[b]=this.reader.int16();return g}parseNotificationMessage(u,d,p){this.reader.setBuffer(u,p);let f=this.reader.int32(),h=this.reader.cstring(),m=this.reader.cstring();return new e.NotificationResponseMessage(d,f,h,m)}parseRowDescriptionMessage(u,d,p){this.reader.setBuffer(u,p);let f=this.reader.int16(),h=new e.RowDescriptionMessage(d,f);for(let m=0;m<f;m++)h.fields[m]=this.parseField();return h}parseField(){let u=this.reader.cstring(),d=this.reader.uint32(),p=this.reader.int16(),f=this.reader.uint32(),h=this.reader.int16(),m=this.reader.int32(),g=this.reader.int16()===0?"text":"binary";return new e.Field(u,d,p,f,h,m,g)}parseParameterDescriptionMessage(u,d,p){this.reader.setBuffer(u,p);let f=this.reader.int16(),h=new e.ParameterDescriptionMessage(d,f);for(let m=0;m<f;m++)h.dataTypeIDs[m]=this.reader.int32();return h}parseDataRowMessage(u,d,p){this.reader.setBuffer(u,p);let f=this.reader.int16(),h=new Array(f);for(let m=0;m<f;m++){let g=this.reader.int32();h[m]=g===-1?null:this.reader.string(g)}return new e.DataRowMessage(d,h)}parseParameterStatusMessage(u,d,p){this.reader.setBuffer(u,p);let f=this.reader.cstring(),h=this.reader.cstring();return new e.ParameterStatusMessage(d,f,h)}parseBackendKeyData(u,d,p){this.reader.setBuffer(u,p);let f=this.reader.int32(),h=this.reader.int32();return new e.BackendKeyDataMessage(d,f,h)}parseAuthenticationResponse(u,d,p){this.reader.setBuffer(u,p);let f=this.reader.int32(),h={name:"authenticationOk",length:d};switch(f){case 0:break;case 3:h.length===8&&(h.name="authenticationCleartextPassword");break;case 5:if(h.length===12){h.name="authenticationMD5Password";let m=this.reader.bytes(4);return new e.AuthenticationMD5Password(d,m)}break;case 10:{h.name="authenticationSASL",h.mechanisms=[];let m;do m=this.reader.cstring(),m&&h.mechanisms.push(m);while(m)}break;case 11:h.name="authenticationSASLContinue",h.data=this.reader.string(d-8);break;case 12:h.name="authenticationSASLFinal",h.data=this.reader.string(d-8);break;default:throw new Error("Unknown authenticationOk message type "+f)}return h}parseErrorMessage(u,d,p,f){this.reader.setBuffer(u,p);let h={},m=this.reader.string(1);for(;m!=="\0";)h[m]=this.reader.cstring(),m=this.reader.string(1);let g=h.M,b=f==="notice"?new e.NoticeMessage(d,g):new e.DatabaseError(g,d,f);return b.severity=h.S,b.code=h.C,b.detail=h.D,b.hint=h.H,b.position=h.P,b.internalPosition=h.p,b.internalQuery=h.q,b.where=h.W,b.schema=h.s,b.table=h.t,b.column=h.c,b.dataType=h.d,b.constraint=h.n,b.file=h.F,b.line=h.L,b.routine=h.R,b}};q(a,"Parser");var c=a;t.Parser=c}),ABe=xr(t=>{"use strict";Ot(),Object.defineProperty(t,"__esModule",{value:!0}),t.DatabaseError=t.serialize=t.parse=void 0;var e=wBe();Object.defineProperty(t,"DatabaseError",{enumerable:!0,get:q(function(){return e.DatabaseError},"get")});var r=aRt();Object.defineProperty(t,"serialize",{enumerable:!0,get:q(function(){return r.serialize},"get")});var n=lRt();function i(o,s){let a=new n.Parser;return o.on("data",c=>a.parse(c,s)),new Promise(c=>o.on("end",()=>c()))}q(i,"parse"),t.parse=i}),EBe={};kd(EBe,{connect:()=>TBe});uRt=fc(()=>{"use strict";Ot(),q(TBe,"connect")}),RBe=xr((t,e)=>{"use strict";Ot();var r=(FT(),Ho(tBe)),n=Qb().EventEmitter,{parse:i,serialize:o}=ABe(),s=o.flush(),a=o.sync(),c=o.end(),l=class extends n{constructor(p){super(),p=p||{},this.stream=p.stream||new r.Socket,this._keepAlive=p.keepAlive,this._keepAliveInitialDelayMillis=p.keepAliveInitialDelayMillis,this.lastBuffer=!1,this.parsedStatements={},this.ssl=p.ssl||!1,this._ending=!1,this._emitMessage=!1;var f=this;this.on("newListener",function(h){h==="message"&&(f._emitMessage=!0)})}connect(p,f){var h=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(p,f),this.stream.once("connect",function(){h._keepAlive&&h.stream.setKeepAlive(!0,h._keepAliveInitialDelayMillis),h.emit("connect")});let m=q(function(g){h._ending&&(g.code==="ECONNRESET"||g.code==="EPIPE")||h.emit("error",g)},"reportStreamError");if(this.stream.on("error",m),this.stream.on("close",function(){h.emit("end")}),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",function(g){var b=g.toString("utf8");switch(b){case"S":break;case"N":return h.stream.end(),h.emit("error",new Error("The server does not support SSL connections"));default:return h.stream.end(),h.emit("error",new Error("There was an error establishing an SSL connection"))}var _=(uRt(),Ho(EBe));let x={socket:h.stream};h.ssl!==!0&&(Object.assign(x,h.ssl),"key"in h.ssl&&(x.key=h.ssl.key)),r.isIP(f)===0&&(x.servername=f);try{h.stream=_.connect(x)}catch(E){return h.emit("error",E)}h.attachListeners(h.stream),h.stream.on("error",m),h.emit("sslconnect")})}attachListeners(p){p.on("end",()=>{this.emit("end")}),i(p,f=>{var h=f.name==="error"?"errorMessage":f.name;this._emitMessage&&this.emit("message",f),this.emit(h,f)})}requestSsl(){this.stream.write(o.requestSsl())}startup(p){this.stream.write(o.startup(p))}cancel(p,f){this._send(o.cancel(p,f))}password(p){this._send(o.password(p))}sendSASLInitialResponseMessage(p,f){this._send(o.sendSASLInitialResponseMessage(p,f))}sendSCRAMClientFinalMessage(p){this._send(o.sendSCRAMClientFinalMessage(p))}_send(p){return this.stream.writable?this.stream.write(p):!1}query(p){this._send(o.query(p))}parse(p){this._send(o.parse(p))}bind(p){this._send(o.bind(p))}execute(p){this._send(o.execute(p))}flush(){this.stream.writable&&this.stream.write(s)}sync(){this._ending=!0,this._send(s),this._send(a)}ref(){this.stream.ref()}unref(){this.stream.unref()}end(){if(this._ending=!0,!this._connecting||!this.stream.writable){this.stream.end();return}return this.stream.write(c,()=>{this.stream.end()})}close(p){this._send(o.close(p))}describe(p){this._send(o.describe(p))}sendCopyFromChunk(p){this._send(o.copyData(p))}endCopyFrom(){this._send(o.copyDone())}sendCopyFail(p){this._send(o.copyFail(p))}};q(l,"Connection");var u=l;e.exports=u}),dRt=xr((t,e)=>{"use strict";Ot();var r=Qb().EventEmitter,n=(NM(),Ho(zT)),i=CM(),o=XTt(),s=tRt(),a=_ie(),c=Eie(),l=oRt(),u=IM(),d=RBe(),p=class extends r{constructor(m){super(),this.connectionParameters=new c(m),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;var g=m||{};this._Promise=g.Promise||TM.Promise,this._types=new a(g.types),this._ending=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.connection=g.connection||new d({stream:g.stream,ssl:this.connectionParameters.ssl,keepAlive:g.keepAlive||!1,keepAliveInitialDelayMillis:g.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=g.binary||u.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this._connectionTimeoutMillis=g.connectionTimeoutMillis||0}_errorAllQueries(m){let g=q(b=>{_r.nextTick(()=>{b.handleError(m,this.connection)})},"enqueueError");this.activeQuery&&(g(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(g),this.queryQueue.length=0}_connect(m){var g=this,b=this.connection;if(this._connectionCallback=m,this._connecting||this._connected){let _=new Error("Client has already been connected. You cannot reuse a client.");_r.nextTick(()=>{m(_)});return}this._connecting=!0,this.connectionTimeoutHandle,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{b._ending=!0,b.stream.destroy(new Error("timeout expired"))},this._connectionTimeoutMillis)),this.host&&this.host.indexOf("/")===0?b.connect(this.host+"/.s.PGSQL."+this.port):b.connect(this.port,this.host),b.on("connect",function(){g.ssl?b.requestSsl():b.startup(g.getStartupConf())}),b.on("sslconnect",function(){b.startup(g.getStartupConf())}),this._attachListeners(b),b.once("end",()=>{let _=this._ending?new Error("Connection terminated"):new Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(_),this._ending||(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(_):this._handleErrorEvent(_):this._connectionError||this._handleErrorEvent(_)),_r.nextTick(()=>{this.emit("end")})})}connect(m){if(m){this._connect(m);return}return new this._Promise((g,b)=>{this._connect(_=>{_?b(_):g()})})}_attachListeners(m){m.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),m.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),m.on("authenticationSASL",this._handleAuthSASL.bind(this)),m.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),m.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),m.on("backendKeyData",this._handleBackendKeyData.bind(this)),m.on("error",this._handleErrorEvent.bind(this)),m.on("errorMessage",this._handleErrorMessage.bind(this)),m.on("readyForQuery",this._handleReadyForQuery.bind(this)),m.on("notice",this._handleNotice.bind(this)),m.on("rowDescription",this._handleRowDescription.bind(this)),m.on("dataRow",this._handleDataRow.bind(this)),m.on("portalSuspended",this._handlePortalSuspended.bind(this)),m.on("emptyQuery",this._handleEmptyQuery.bind(this)),m.on("commandComplete",this._handleCommandComplete.bind(this)),m.on("parseComplete",this._handleParseComplete.bind(this)),m.on("copyInResponse",this._handleCopyInResponse.bind(this)),m.on("copyData",this._handleCopyData.bind(this)),m.on("notification",this._handleNotification.bind(this))}_checkPgPass(m){let g=this.connection;typeof this.password=="function"?this._Promise.resolve().then(()=>this.password()).then(b=>{if(b!==void 0){if(typeof b!="string"){g.emit("error",new TypeError("Password must be a string"));return}this.connectionParameters.password=this.password=b}else this.connectionParameters.password=this.password=null;m()}).catch(b=>{g.emit("error",b)}):this.password!==null?m():s(this.connectionParameters,b=>{b!==void 0&&(this.connectionParameters.password=this.password=b),m()})}_handleAuthCleartextPassword(m){this._checkPgPass(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(m){this._checkPgPass(()=>{let g=i.postgresMd5PasswordHash(this.user,this.password,m.salt);this.connection.password(g)})}_handleAuthSASL(m){this._checkPgPass(()=>{this.saslSession=o.startSession(m.mechanisms),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)})}_handleAuthSASLContinue(m){o.continueSession(this.saslSession,this.password,m.data),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}_handleAuthSASLFinal(m){o.finalizeSession(this.saslSession,m.data),this.saslSession=null}_handleBackendKeyData(m){this.processID=m.processID,this.secretKey=m.secretKey}_handleReadyForQuery(m){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));let{activeQuery:g}=this;this.activeQuery=null,this.readyForQuery=!0,g&&g.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(m){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(m);this.emit("error",m)}}_handleErrorEvent(m){if(this._connecting)return this._handleErrorWhileConnecting(m);this._queryable=!1,this._errorAllQueries(m),this.emit("error",m)}_handleErrorMessage(m){if(this._connecting)return this._handleErrorWhileConnecting(m);let g=this.activeQuery;if(!g){this._handleErrorEvent(m);return}this.activeQuery=null,g.handleError(m,this.connection)}_handleRowDescription(m){this.activeQuery.handleRowDescription(m)}_handleDataRow(m){this.activeQuery.handleDataRow(m)}_handlePortalSuspended(m){this.activeQuery.handlePortalSuspended(this.connection)}_handleEmptyQuery(m){this.activeQuery.handleEmptyQuery(this.connection)}_handleCommandComplete(m){this.activeQuery.handleCommandComplete(m,this.connection)}_handleParseComplete(m){this.activeQuery.name&&(this.connection.parsedStatements[this.activeQuery.name]=this.activeQuery.text)}_handleCopyInResponse(m){this.activeQuery.handleCopyInResponse(this.connection)}_handleCopyData(m){this.activeQuery.handleCopyData(m,this.connection)}_handleNotification(m){this.emit("notification",m)}_handleNotice(m){this.emit("notice",m)}getStartupConf(){var m=this.connectionParameters,g={user:m.user,database:m.database},b=m.application_name||m.fallback_application_name;return b&&(g.application_name=b),m.replication&&(g.replication=""+m.replication),m.statement_timeout&&(g.statement_timeout=String(parseInt(m.statement_timeout,10))),m.lock_timeout&&(g.lock_timeout=String(parseInt(m.lock_timeout,10))),m.idle_in_transaction_session_timeout&&(g.idle_in_transaction_session_timeout=String(parseInt(m.idle_in_transaction_session_timeout,10))),m.options&&(g.options=m.options),g}cancel(m,g){if(m.activeQuery===g){var b=this.connection;this.host&&this.host.indexOf("/")===0?b.connect(this.host+"/.s.PGSQL."+this.port):b.connect(this.port,this.host),b.on("connect",function(){b.cancel(m.processID,m.secretKey)})}else m.queryQueue.indexOf(g)!==-1&&m.queryQueue.splice(m.queryQueue.indexOf(g),1)}setTypeParser(m,g,b){return this._types.setTypeParser(m,g,b)}getTypeParser(m,g){return this._types.getTypeParser(m,g)}escapeIdentifier(m){return'"'+m.replace(/"/g,'""')+'"'}escapeLiteral(m){for(var g=!1,b="'",_=0;_<m.length;_++){var x=m[_];x==="'"?b+=x+x:x==="\\"?(b+=x+x,g=!0):b+=x}return b+="'",g===!0&&(b=" E"+b),b}_pulseQueryQueue(){if(this.readyForQuery===!0)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;let m=this.activeQuery.submit(this.connection);m&&_r.nextTick(()=>{this.activeQuery.handleError(m,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))}query(m,g,b){var _,x,E,R,I;if(m==null)throw new TypeError("Client was passed a null or undefined query");return typeof m.submit=="function"?(E=m.query_timeout||this.connectionParameters.query_timeout,x=_=m,typeof g=="function"&&(_.callback=_.callback||g)):(E=this.connectionParameters.query_timeout,_=new l(m,g,b),_.callback||(x=new this._Promise((D,k)=>{_.callback=(O,$)=>O?k(O):D($)}))),E&&(I=_.callback,R=setTimeout(()=>{var D=new Error("Query read timeout");_r.nextTick(()=>{_.handleError(D,this.connection)}),I(D),_.callback=()=>{};var k=this.queryQueue.indexOf(_);k>-1&&this.queryQueue.splice(k,1),this._pulseQueryQueue()},E),_.callback=(D,k)=>{clearTimeout(R),I(D,k)}),this.binary&&!_.binary&&(_.binary=!0),_._result&&!_._result._types&&(_._result._types=this._types),this._queryable?this._ending?(_r.nextTick(()=>{_.handleError(new Error("Client was closed and is not queryable"),this.connection)}),x):(this.queryQueue.push(_),this._pulseQueryQueue(),x):(_r.nextTick(()=>{_.handleError(new Error("Client has encountered a connection error and is not queryable"),this.connection)}),x)}ref(){this.connection.ref()}unref(){this.connection.unref()}end(m){if(this._ending=!0,!this.connection._connecting)if(m)m();else return this._Promise.resolve();if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),m)this.connection.once("end",m);else return new this._Promise(g=>{this.connection.once("end",g)})}};q(p,"Client");var f=p;f.Query=l,e.exports=f}),pRt=xr((t,e)=>{"use strict";Ot();var r=Qb().EventEmitter,n=q(function(){},"NOOP"),i=q((h,m)=>{let g=h.findIndex(m);return g===-1?void 0:h.splice(g,1)[0]},"removeWhere"),o=class{constructor(m,g,b){this.client=m,this.idleListener=g,this.timeoutId=b}};q(o,"IdleItem");var s=o,a=class{constructor(m){this.callback=m}};q(a,"PendingItem");var c=a;function l(){throw new Error("Release called on client which has already been released to the pool.")}q(l,"throwOnDoubleRelease");function u(h,m){if(m)return{callback:m,result:void 0};let g,b,_=q(function(E,R){E?g(E):b(R)},"cb"),x=new h(function(E,R){b=E,g=R}).catch(E=>{throw Error.captureStackTrace(E),E});return{callback:_,result:x}}q(u,"promisify");function d(h,m){return q(function g(b){b.client=m,m.removeListener("error",g),m.on("error",()=>{h.log("additional client error after disconnection due to error",b)}),h._remove(m),h.emit("error",b,m)},"idleListener")}q(d,"makeIdleListener");var p=class extends r{constructor(m,g){super(),this.options=Object.assign({},m),m!=null&&"password"in m&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:m.password}),m!=null&&m.ssl&&m.ssl.key&&Object.defineProperty(this.options.ssl,"key",{enumerable:!1}),this.options.max=this.options.max||this.options.poolSize||10,this.options.min=this.options.min||0,this.options.maxUses=this.options.maxUses||1/0,this.options.allowExitOnIdle=this.options.allowExitOnIdle||!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,this.log=this.options.log||function(){},this.Client=this.options.Client||g||OM().Client,this.Promise=this.options.Promise||TM.Promise,typeof this.options.idleTimeoutMillis>"u"&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_isAboveMin(){return this._clients.length>this.options.min}_pulseQueue(){if(this.log("pulse queue"),this.ended){this.log("pulse queue ended");return}if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(g=>{this._remove(g.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length){this.log("no queued requests");return}if(!this._idle.length&&this._isFull())return;let m=this._pendingQueue.shift();if(this._idle.length){let g=this._idle.pop();clearTimeout(g.timeoutId);let b=g.client;b.ref&&b.ref();let _=g.idleListener;return this._acquireClient(b,m,_,!1)}if(!this._isFull())return this.newClient(m);throw new Error("unexpected condition")}_remove(m){let g=i(this._idle,b=>b.client===m);g!==void 0&&clearTimeout(g.timeoutId),this._clients=this._clients.filter(b=>b!==m),m.end(),this.emit("remove",m)}connect(m){if(this.ending){let _=new Error("Cannot use a pool after calling end on the pool");return m?m(_):this.Promise.reject(_)}let g=u(this.Promise,m),b=g.result;if(this._isFull()||this._idle.length){if(this._idle.length&&_r.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new c(g.callback)),b;let _=q((R,I,D)=>{clearTimeout(E),g.callback(R,I,D)},"queueCallback"),x=new c(_),E=setTimeout(()=>{i(this._pendingQueue,R=>R.callback===_),x.timedOut=!0,g.callback(new Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return E.unref&&E.unref(),this._pendingQueue.push(x),b}return this.newClient(new c(g.callback)),b}newClient(m){let g=new this.Client(this.options);this._clients.push(g);let b=d(this,g);this.log("checking client timeout");let _,x=!1;this.options.connectionTimeoutMillis&&(_=setTimeout(()=>{this.log("ending client due to timeout"),x=!0,g.connection?g.connection.stream.destroy():g.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),g.connect(E=>{if(_&&clearTimeout(_),g.on("error",b),E)this.log("client failed to connect",E),this._clients=this._clients.filter(R=>R!==g),x&&(E=new Error("Connection terminated due to connection timeout",{cause:E})),this._pulseQueue(),m.timedOut||m.callback(E,void 0,n);else{if(this.log("new client connected"),this.options.maxLifetimeSeconds!==0){let R=setTimeout(()=>{this.log("ending client due to expired lifetime"),this._expired.add(g),this._idle.findIndex(I=>I.client===g)!==-1&&this._acquireClient(g,new c((I,D,k)=>k()),b,!1)},this.options.maxLifetimeSeconds*1e3);R.unref(),g.once("end",()=>clearTimeout(R))}return this._acquireClient(g,m,b,!0)}})}_acquireClient(m,g,b,_){_&&this.emit("connect",m),this.emit("acquire",m),m.release=this._releaseOnce(m,b),m.removeListener("error",b),g.timedOut?_&&this.options.verify?this.options.verify(m,m.release):m.release():_&&this.options.verify?this.options.verify(m,x=>{if(x)return m.release(x),g.callback(x,void 0,n);g.callback(void 0,m,m.release)}):g.callback(void 0,m,m.release)}_releaseOnce(m,g){let b=!1;return _=>{b&&l(),b=!0,this._release(m,g,_)}}_release(m,g,b){if(m.on("error",g),m._poolUseCount=(m._poolUseCount||0)+1,this.emit("release",b,m),b||this.ending||!m._queryable||m._ending||m._poolUseCount>=this.options.maxUses){m._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(m),this._pulseQueue();return}if(this._expired.has(m)){this.log("remove expired client"),this._expired.delete(m),this._remove(m),this._pulseQueue();return}let _;this.options.idleTimeoutMillis&&this._isAboveMin()&&(_=setTimeout(()=>{this.log("remove idle client"),this._remove(m)},this.options.idleTimeoutMillis),this.options.allowExitOnIdle&&_.unref()),this.options.allowExitOnIdle&&m.unref(),this._idle.push(new s(m,g,_)),this._pulseQueue()}query(m,g,b){if(typeof m=="function"){let x=u(this.Promise,m);return bie(function(){return x.callback(new Error("Passing a function as the first parameter to pool.query is not supported"))}),x.result}typeof g=="function"&&(b=g,g=void 0);let _=u(this.Promise,b);return b=_.callback,this.connect((x,E)=>{if(x)return b(x);let R=!1,I=q(D=>{R||(R=!0,E.release(D),b(D))},"onError");E.once("error",I),this.log("dispatching query");try{E.query(m,g,(D,k)=>{if(this.log("query dispatched"),E.removeListener("error",I),!R)return R=!0,E.release(D),D?b(D):b(void 0,k)})}catch(D){return E.release(D),b(D)}}),_.result}end(m){if(this.log("ending"),this.ending){let b=new Error("Called end on pool more than once");return m?m(b):this.Promise.reject(b)}this.ending=!0;let g=u(this.Promise,m);return this._endCallback=g.callback,this._pulseQueue(),g.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get expiredCount(){return this._clients.reduce((m,g)=>m+(this._expired.has(g)?1:0),0)}get totalCount(){return this._clients.length}};q(p,"Pool");var f=p;e.exports=f}),IBe={};kd(IBe,{default:()=>CBe});fRt=fc(()=>{"use strict";Ot(),CBe={}}),mRt=xr((t,e)=>{e.exports={name:"pg",version:"8.8.0",description:"PostgreSQL client - pure javascript & libpq with the same API",keywords:["database","libpq","pg","postgre","postgres","postgresql","rdbms"],homepage:"https://github.com/brianc/node-postgres",repository:{type:"git",url:"git://github.com/brianc/node-postgres.git",directory:"packages/pg"},author:"Brian Carlson <brian.m.carlson@gmail.com>",main:"./lib",dependencies:{"buffer-writer":"2.0.0","packet-reader":"1.0.0","pg-connection-string":"^2.5.0","pg-pool":"^3.5.2","pg-protocol":"^1.5.0","pg-types":"^2.1.0",pgpass:"1.x"},devDependencies:{async:"2.6.4",bluebird:"3.5.2",co:"4.6.0","pg-copy-streams":"0.3.0"},peerDependencies:{"pg-native":">=3.0.1"},peerDependenciesMeta:{"pg-native":{optional:!0}},scripts:{test:"make test-all"},files:["lib","SPONSORS.md"],license:"MIT",engines:{node:">= 8.0.0"},gitHead:"c99fb2c127ddf8d712500db2c7b9a5491a178655"}}),hRt=xr((t,e)=>{"use strict";Ot();var r=Qb().EventEmitter,n=(NM(),Ho(zT)),i=CM(),o=e.exports=function(a,c,l){r.call(this),a=i.normalizeQueryConfig(a,c,l),this.text=a.text,this.values=a.values,this.name=a.name,this.callback=a.callback,this.state="new",this._arrayMode=a.rowMode==="array",this._emitRowEvents=!1,this.on("newListener",function(u){u==="row"&&(this._emitRowEvents=!0)}.bind(this))};n.inherits(o,r);var s={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};o.prototype.handleError=function(a){var c=this.native.pq.resultErrorFields();if(c)for(var l in c){var u=s[l]||l;a[u]=c[l]}this.callback?this.callback(a):this.emit("error",a),this.state="error"},o.prototype.then=function(a,c){return this._getPromise().then(a,c)},o.prototype.catch=function(a){return this._getPromise().catch(a)},o.prototype._getPromise=function(){return this._promise?this._promise:(this._promise=new Promise(function(a,c){this._once("end",a),this._once("error",c)}.bind(this)),this._promise)},o.prototype.submit=function(a){this.state="running";var c=this;this.native=a.native,a.native.arrayMode=this._arrayMode;var l=q(function(p,f,h){if(a.native.arrayMode=!1,bie(function(){c.emit("_done")}),p)return c.handleError(p);c._emitRowEvents&&(h.length>1?f.forEach((m,g)=>{m.forEach(b=>{c.emit("row",b,h[g])})}):f.forEach(function(m){c.emit("row",m,h)})),c.state="end",c.emit("end",h),c.callback&&c.callback(null,h)},"after");if(_r.domain&&(l=_r.domain.bind(l)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));var u=(this.values||[]).map(i.prepareValue);if(a.namedQueries[this.name]){if(this.text&&a.namedQueries[this.name]!==this.text){let p=new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);return l(p)}return a.native.execute(this.name,u,l)}return a.native.prepare(this.name,this.text,u.length,function(p){return p?l(p):(a.namedQueries[c.name]=c.text,c.native.execute(c.name,u,l))})}else if(this.values){if(!Array.isArray(this.values)){let p=new Error("Query values must be an array");return l(p)}var d=this.values.map(i.prepareValue);a.native.query(this.text,d,l)}else a.native.query(this.text,l)}}),gRt=xr((t,e)=>{"use strict";Ot();var r=(fRt(),Ho(IBe)),n=_ie(),i=mRt(),o=Qb().EventEmitter,s=(NM(),Ho(zT)),a=Eie(),c=hRt(),l=e.exports=function(u){o.call(this),u=u||{},this._Promise=u.Promise||TM.Promise,this._types=new n(u.types),this.native=new r({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;var d=this.connectionParameters=new a(u);this.user=d.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:d.password}),this.database=d.database,this.host=d.host,this.port=d.port,this.namedQueries={}};l.Query=c,s.inherits(l,o),l.prototype._errorAllQueries=function(u){let d=q(p=>{_r.nextTick(()=>{p.native=this.native,p.handleError(u)})},"enqueueError");this._hasActiveQuery()&&(d(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(d),this._queryQueue.length=0},l.prototype._connect=function(u){var d=this;if(this._connecting){_r.nextTick(()=>u(new Error("Client has already been connected. You cannot reuse a client.")));return}this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(p,f){if(p)return u(p);d.native.connect(f,function(h){if(h)return d.native.end(),u(h);d._connected=!0,d.native.on("error",function(m){d._queryable=!1,d._errorAllQueries(m),d.emit("error",m)}),d.native.on("notification",function(m){d.emit("notification",{channel:m.relname,payload:m.extra})}),d.emit("connect"),d._pulseQueryQueue(!0),u()})})},l.prototype.connect=function(u){if(u){this._connect(u);return}return new this._Promise((d,p)=>{this._connect(f=>{f?p(f):d()})})},l.prototype.query=function(u,d,p){var f,h,m,g,b;if(u==null)throw new TypeError("Client was passed a null or undefined query");if(typeof u.submit=="function")m=u.query_timeout||this.connectionParameters.query_timeout,h=f=u,typeof d=="function"&&(u.callback=d);else if(m=this.connectionParameters.query_timeout,f=new c(u,d,p),!f.callback){let _,x;h=new this._Promise((E,R)=>{_=E,x=R}),f.callback=(E,R)=>E?x(E):_(R)}return m&&(b=f.callback,g=setTimeout(()=>{var _=new Error("Query read timeout");_r.nextTick(()=>{f.handleError(_,this.connection)}),b(_),f.callback=()=>{};var x=this._queryQueue.indexOf(f);x>-1&&this._queryQueue.splice(x,1),this._pulseQueryQueue()},m),f.callback=(_,x)=>{clearTimeout(g),b(_,x)}),this._queryable?this._ending?(f.native=this.native,_r.nextTick(()=>{f.handleError(new Error("Client was closed and is not queryable"))}),h):(this._queryQueue.push(f),this._pulseQueryQueue(),h):(f.native=this.native,_r.nextTick(()=>{f.handleError(new Error("Client has encountered a connection error and is not queryable"))}),h)},l.prototype.end=function(u){var d=this;this._ending=!0,this._connected||this.once("connect",this.end.bind(this,u));var p;return u||(p=new this._Promise(function(f,h){u=q(m=>m?h(m):f(),"cb")})),this.native.end(function(){d._errorAllQueries(new Error("Connection terminated")),_r.nextTick(()=>{d.emit("end"),u&&u()})}),p},l.prototype._hasActiveQuery=function(){return this._activeQuery&&this._activeQuery.state!=="error"&&this._activeQuery.state!=="end"},l.prototype._pulseQueryQueue=function(u){if(this._connected&&!this._hasActiveQuery()){var d=this._queryQueue.shift();if(!d){u||this.emit("drain");return}this._activeQuery=d,d.submit(this);var p=this;d.once("_done",function(){p._pulseQueryQueue()})}},l.prototype.cancel=function(u){this._activeQuery===u?this.native.cancel(function(){}):this._queryQueue.indexOf(u)!==-1&&this._queryQueue.splice(this._queryQueue.indexOf(u),1)},l.prototype.ref=function(){},l.prototype.unref=function(){},l.prototype.setTypeParser=function(u,d,p){return this._types.setTypeParser(u,d,p)},l.prototype.getTypeParser=function(u,d){return this._types.getTypeParser(u,d)}}),KLe=xr((t,e)=>{"use strict";Ot(),e.exports=gRt()}),OM=xr((t,e)=>{"use strict";Ot();var r=dRt(),n=IM(),i=RBe(),o=pRt(),{DatabaseError:s}=ABe(),a=q(l=>{var u;return u=class extends o{constructor(d){super(d,l)}},q(u,"BoundPool"),u},"poolFactory"),c=q(function(l){this.defaults=n,this.Client=l,this.Query=this.Client.Query,this.Pool=a(this.Client),this._pools=[],this.Connection=i,this.types=RM(),this.DatabaseError=s},"PG");typeof _r.env.NODE_PG_FORCE_NATIVE<"u"?e.exports=new c(KLe()):(e.exports=new c(r),Object.defineProperty(e.exports,"native",{configurable:!0,enumerable:!1,get(){var l=null;try{l=new c(KLe())}catch(u){if(u.code!=="MODULE_NOT_FOUND")throw u}return Object.defineProperty(e.exports,"native",{value:l}),l}}))});Ot();Ot();FT();iBe();Ot();yRt=Object.defineProperty,bRt=Object.defineProperties,vRt=Object.getOwnPropertyDescriptors,QLe=Object.getOwnPropertySymbols,_Rt=Object.prototype.hasOwnProperty,xRt=Object.prototype.propertyIsEnumerable,XLe=q((t,e,r)=>e in t?yRt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,"__defNormalProp"),SRt=q((t,e)=>{for(var r in e||(e={}))_Rt.call(e,r)&&XLe(t,r,e[r]);if(QLe)for(var r of QLe(e))xRt.call(e,r)&&XLe(t,r,e[r]);return t},"__spreadValues"),wRt=q((t,e)=>bRt(t,vRt(e)),"__spreadProps"),ARt=1008e3,YLe=new Uint8Array(new Uint16Array([258]).buffer)[0]===2,ERt=new TextDecoder,Tie=new TextEncoder,wM=Tie.encode("0123456789abcdef"),AM=Tie.encode("0123456789ABCDEF"),TRt=Tie.encode("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),NBe=TRt.slice();NBe[62]=45;NBe[63]=95;q(OBe,"_toHex");q(PBe,"_toHexChunked");q(kBe,"toHex");Ot();DBe=class MBe{constructor(e,r){this.strings=e,this.values=r}toParameterizedQuery(e={query:"",params:[]}){let{strings:r,values:n}=this;for(let i=0,o=r.length;i<o;i++)if(e.query+=r[i],i<n.length){let s=n[i];if(s instanceof Iie)e.query+=s.sql;else if(s instanceof UT)if(s.queryData instanceof MBe)s.queryData.toParameterizedQuery(e);else{if(s.queryData.params?.length)throw new Error("This query is not composable");e.query+=s.queryData.query}else{let{params:a}=e;a.push(s),e.query+="$"+a.length,(s instanceof Qt||ArrayBuffer.isView(s))&&(e.query+="::bytea")}}return e}};q(DBe,"SqlTemplate");Rie=DBe,LBe=class{constructor(e){this.sql=e}};q(LBe,"UnsafeRawSql");Iie=LBe;Ot();q(PM,"warnIfBrowser");FT();RRt=Kb(_ie()),IRt=Kb(CM()),BBe=class $Be extends Error{constructor(e){super(e),Xt(this,"name","NeonDbError"),Xt(this,"severity"),Xt(this,"code"),Xt(this,"detail"),Xt(this,"hint"),Xt(this,"position"),Xt(this,"internalPosition"),Xt(this,"internalQuery"),Xt(this,"where"),Xt(this,"schema"),Xt(this,"table"),Xt(this,"column"),Xt(this,"dataType"),Xt(this,"constraint"),Xt(this,"file"),Xt(this,"line"),Xt(this,"routine"),Xt(this,"sourceError"),"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,$Be)}};q(BBe,"NeonDbError");Wb=BBe,ZLe="transaction() expects an array of queries, or a function returning an array of queries",CRt=["severity","code","detail","hint","position","internalPosition","internalQuery","where","schema","table","column","dataType","constraint","file","line","routine"];q(UBe,"encodeBuffersAsBytea");q(gie,"prepareQuery");q(Xb,"neon");FBe=class{constructor(e,r,n){this.execute=e,this.queryData=r,this.opts=n}then(e,r){return this.execute(this.queryData,this.opts).then(e,r)}catch(e){return this.execute(this.queryData,this.opts).catch(e)}finally(e){return this.execute(this.queryData,this.opts).finally(e)}};q(FBe,"NeonQueryPromise");UT=FBe;q(yie,"processQueryResult");q(zBe,"getAuthToken");Ot();NRt=Kb(OM());Ot();ORt=Kb(OM()),VBe=class extends ORt.Client{constructor(e){super(e),this.config=e}get neonConfig(){return this.connection.stream}connect(e){let{neonConfig:r}=this;r.forceDisablePgSSL&&(this.ssl=this.connection.ssl=!1),this.ssl&&r.useSecureWebSocket&&console.warn("SSL is enabled for both Postgres (e.g. ?sslmode=require in the connection string + forceDisablePgSSL = false) and the WebSocket tunnel (useSecureWebSocket = true). Double encryption will increase latency and CPU usage. It may be appropriate to disable SSL in the Postgres connection parameters or set forceDisablePgSSL = true.");let n=typeof this.config!="string"&&this.config?.host!==void 0||typeof this.config!="string"&&this.config?.connectionString!==void 0||_r.env.PGHOST!==void 0,i=_r.env.USER??_r.env.USERNAME;if(!n&&this.host==="localhost"&&this.user===i&&this.database===i&&this.password===null)throw new Error(`No database host or connection string was set, and key parameters have default values (host: localhost, user: ${i}, db: ${i}, password: null). Is an environment variable missing? Alternatively, if you intended to connect with these parameters, please set the host to 'localhost' explicitly.`);let o=super.connect(e),s=r.pipelineTLS&&this.ssl,a=r.pipelineConnect==="password";if(!s&&!r.pipelineConnect)return o;let c=this.connection;if(s&&c.on("connect",()=>c.stream.emit("data","S")),a){c.removeAllListeners("authenticationCleartextPassword"),c.removeAllListeners("readyForQuery"),c.once("readyForQuery",()=>c.on("readyForQuery",this._handleReadyForQuery.bind(this)));let l=this.ssl?"sslconnect":"connect";c.on(l,()=>{this.neonConfig.disableWarningInBrowsers||PM(),this._handleAuthCleartextPassword(),this._handleReadyForQuery()})}return o}async _handleAuthSASLContinue(e){if(typeof crypto>"u"||crypto.subtle===void 0||crypto.subtle.importKey===void 0)throw new Error("Cannot use SASL auth when `crypto.subtle` is not defined");let r=crypto.subtle,n=this.saslSession,i=this.password,o=e.data;if(n.message!=="SASLInitialResponse"||typeof i!="string"||typeof o!="string")throw new Error("SASL: protocol error");let s=Object.fromEntries(o.split(",").map(U=>{if(!/^.=/.test(U))throw new Error("SASL: Invalid attribute pair entry");let H=U[0],K=U.substring(2);return[H,K]})),a=s.r,c=s.s,l=s.i;if(!a||!/^[!-+--~]+$/.test(a))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing/unprintable");if(!c||!/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(c))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing/not base64");if(!l||!/^[1-9][0-9]*$/.test(l))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: missing/invalid iteration count");if(!a.startsWith(n.clientNonce))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");if(a.length===n.clientNonce.length)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short");let u=parseInt(l,10),d=Qt.from(c,"base64"),p=new TextEncoder,f=p.encode(i),h=await r.importKey("raw",f,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),m=new Uint8Array(await r.sign("HMAC",h,Qt.concat([d,Qt.from([0,0,0,1])]))),g=m;for(var b=0;b<u-1;b++)m=new Uint8Array(await r.sign("HMAC",h,m)),g=Qt.from(g.map((U,H)=>g[H]^m[H]));let _=g,x=await r.importKey("raw",_,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),E=new Uint8Array(await r.sign("HMAC",x,p.encode("Client Key"))),R=await r.digest("SHA-256",E),I="n=*,r="+n.clientNonce,D="r="+a+",s="+c+",i="+u,k="c=biws,r="+a,O=I+","+D+","+k,$=await r.importKey("raw",R,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var j=new Uint8Array(await r.sign("HMAC",$,p.encode(O))),X=Qt.from(E.map((U,H)=>E[H]^j[H])),N=X.toString("base64");let v=await r.importKey("raw",_,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),S=await r.sign("HMAC",v,p.encode("Server Key")),T=await r.importKey("raw",S,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var M=Qt.from(await r.sign("HMAC",T,p.encode(O)));n.message="SASLResponse",n.serverSignature=M.toString("base64"),n.response=k+",p="+N,this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}};q(VBe,"NeonClient");HBe=VBe;FT();PRt=Kb(Eie());q(GBe,"promisify");jBe=class extends NRt.Pool{constructor(){super(...arguments),Xt(this,"Client",HBe),Xt(this,"hasFetchUnsupportedListeners",!1),Xt(this,"addListener",this.on)}on(e,r){return e!=="error"&&(this.hasFetchUnsupportedListeners=!0),super.on(e,r)}query(e,r,n){if(!nw.poolQueryViaFetch||this.hasFetchUnsupportedListeners||typeof e=="function")return super.query(e,r,n);typeof r=="function"&&(n=r,r=void 0);let i=GBe(this.Promise,n);n=i.callback;try{let o=new PRt.default(this.options),s=encodeURIComponent,a=encodeURI,c=`postgresql://${s(o.user)}:${s(o.password)}@${s(o.host)}/${a(o.database)}`,l=typeof e=="string"?e:e.text,u=r??e.values??[];Xb(c,{fullResults:!0,arrayMode:e.rowMode==="array"}).query(l,u,{types:e.types??this.options?.types}).then(d=>n(void 0,d)).catch(d=>n(d))}catch(o){n(o)}return i.result}};q(jBe,"NeonPool");kRt=jBe;FT();VT=Kb(OM()),DRt="mjs",MRt=VT.DatabaseError,LRt=VT.defaults,BRt=VT.escapeIdentifier,$Rt=VT.escapeLiteral,xa=VT.types;});var Nie=y(()=>{"use strict";aie()});var kM,Oie,DM,HT,Pie,kie=y(()=>{"use strict";Nie();rt();MT();Mr();SM();Ci();pn();kM={arrayMode:!1,fullResults:!0},Oie={arrayMode:!0,fullResults:!0},DM=class extends YS{constructor(e,r,n,i,o,s,a,c,l){super(r,i,o,s),this.client=e,this.logger=n,this.fields=a,this._isResponseInArrayMode=c,this.customResultMapper=l,this.clientQuery=e.query??e}static[ee]="NeonHttpPreparedQuery";clientQuery;async execute(e={},r=this.authToken){let n=jb(this.query.params,e);this.logger.logQuery(this.query.sql,n);let{fields:i,clientQuery:o,query:s,customResultMapper:a}=this;if(!i&&!a)return this.queryWithCache(s.sql,n,async()=>o(s.sql,n,r===void 0?kM:{...kM,authToken:r}));let c=await this.queryWithCache(s.sql,n,async()=>await o(s.sql,n,r===void 0?Oie:{...Oie,authToken:r}));return this.mapResult(c)}mapResult(e){if(!this.fields&&!this.customResultMapper)return e;let r=e.rows;return this.customResultMapper?this.customResultMapper(r):r.map(n=>XD(this.fields,n,this.joinsNotNullableMap))}all(e={}){let r=jb(this.query.params,e);return this.logger.logQuery(this.query.sql,r),this.clientQuery(this.query.sql,r,this.authToken===void 0?kM:{...kM,authToken:this.authToken}).then(n=>n.rows)}values(e={},r){let n=jb(this.query.params,e);return this.logger.logQuery(this.query.sql,n),this.clientQuery(this.query.sql,n,{arrayMode:!0,fullResults:!0,authToken:r}).then(i=>i.rows)}isResponseInArrayMode(){return this._isResponseInArrayMode}},HT=class extends ZS{constructor(e,r,n,i={}){super(r),this.client=e,this.schema=n,this.options=i,this.clientQuery=e.query??e,this.logger=i.logger??new rw,this.cache=i.cache??new C0}static[ee]="NeonHttpSession";clientQuery;logger;cache;prepareQuery(e,r,n,i,o,s,a){return new DM(this.client,e,this.logger,this.cache,s,a,r,i,o)}async batch(e){let r=[],n=[];for(let o of e){let s=o._prepare(),a=s.getQuery();r.push(s),n.push(this.clientQuery(a.sql,a.params,{fullResults:!0,arrayMode:s.isResponseInArrayMode()}))}return(await this.client.transaction(n,Oie)).map((o,s)=>r[s].mapResult(o,!0))}async query(e,r){return this.logger.logQuery(e,r),await this.clientQuery(e,r,{arrayMode:!0,fullResults:!0})}async queryObjects(e,r){return this.clientQuery(e,r,{arrayMode:!1,fullResults:!0})}async count(e,r){let n=await this.execute(e,r);return Number(n.rows[0].count)}async transaction(e,r={}){throw new Error("No transactions support in neon-http driver")}},Pie=class extends ew{static[ee]="NeonHttpTransaction";async transaction(e){throw new Error("No transactions support in neon-http driver")}}});function LM(t,e,r,n){return new Proxy(t,{get(i,o){let s=i[o];return typeof s!="function"&&(typeof s!="object"||s===null)?s:n?LM(s,e,r):o==="query"?LM(s,e,r,!0):new Proxy(s,{apply(a,c,l){let u=a.call(c,...l);return typeof u=="object"&&u!==null&&"setToken"in u&&typeof u.setToken=="function"&&u.setToken(e),r(a,o,u)}})}})}function ow(t,e={}){let r=new Kp({casing:e.casing}),n;e.logger===!0?n=new tw:e.logger!==!1&&(n=e.logger);let i;if(e.schema){let c=cM(e.schema,lM);i={fullSchema:e.schema,schema:c.tables,tableNamesMap:c.tableNamesMap}}let s=new MM(t,r,{logger:n,cache:e.cache}).createSession(i),a=new BM(r,s,i);return a.$client=t,a.$cache=e.cache,a.$cache&&(a.$cache.invalidate=e.cache?.onMutate),a}function Die(...t){if(typeof t[0]=="string"){let e=Xb(t[0]);return ow(e,t[1])}if(ZD(t[0])){let{connection:e,client:r,...n}=t[0];if(r)return ow(r,n);if(typeof e=="object"){let{connectionString:o,...s}=e,a=Xb(o,s);return ow(a,n)}let i=Xb(e);return ow(i,n)}return ow(t[0],t[1])}var MM,BM,JBe=y(()=>{"use strict";Cie();rt();MT();kT();RT();TT();pn();kie();MM=class{constructor(e,r,n={}){this.client=e,this.dialect=r,this.options=n,this.initMappers()}static[ee]="NeonHttpDriver";createSession(e){return new HT(this.client,this.dialect,e,{logger:this.options.logger,cache:this.options.cache})}initMappers(){xa.setTypeParser(xa.builtins.TIMESTAMPTZ,e=>e),xa.setTypeParser(xa.builtins.TIMESTAMP,e=>e),xa.setTypeParser(xa.builtins.DATE,e=>e),xa.setTypeParser(xa.builtins.INTERVAL,e=>e),xa.setTypeParser(1231,e=>e),xa.setTypeParser(1115,e=>e),xa.setTypeParser(1185,e=>e),xa.setTypeParser(1187,e=>e),xa.setTypeParser(1182,e=>e)}};BM=class extends I0{static[ee]="NeonHttpDatabase";$withAuth(e){return this.authToken=e,LM(this,e,(r,n,i)=>n==="with"?LM(i,e,(o,s,a)=>a):i)}async batch(e){return this.session.batch(e)}};(t=>{function e(r){return ow({},r)}t.mock=e})(Die||(Die={}))});var WBe={};wr(WBe,{NeonHttpDatabase:()=>BM,NeonHttpDriver:()=>MM,NeonHttpPreparedQuery:()=>DM,NeonHttpSession:()=>HT,NeonTransaction:()=>Pie,drizzle:()=>Die});var KBe=y(()=>{"use strict";JBe();kie()});var Lie=Ue(QBe=>{"use strict";QBe.parse=function(t,e){return new Mie(t,e).parse()};var Mie=class t{constructor(e,r){this.source=e,this.transform=r||URt,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var e=this.source[this.position++];return e==="\\"?{value:this.source[this.position++],escaped:!0}:{value:e,escaped:!1}}record(e){this.recorded.push(e)}newEntry(e){var r;(this.recorded.length>0||e)&&(r=this.recorded.join(""),r==="NULL"&&!e&&(r=null),r!==null&&(r=this.transform(r)),this.entries.push(r),this.recorded=[])}consumeDimensions(){if(this.source[0]==="[")for(;!this.isEof();){var e=this.nextCharacter();if(e.value==="=")break}}parse(e){var r,n,i;for(this.consumeDimensions();!this.isEof();)if(r=this.nextCharacter(),r.value==="{"&&!i)this.dimension++,this.dimension>1&&(n=new t(this.source.substr(this.position-1),this.transform),this.entries.push(n.parse(!0)),this.position+=n.position-2);else if(r.value==="}"&&!i){if(this.dimension--,!this.dimension&&(this.newEntry(),e))return this.entries}else r.value==='"'&&!r.escaped?(i&&this.newEntry(!0),i=!i):r.value===","&&!i?this.newEntry():this.record(r.value);if(this.dimension!==0)throw new Error("array dimension not balanced");return this.entries}};function URt(t){return t}});var Bie=Ue((Ran,XBe)=>{"use strict";var FRt=Lie();XBe.exports={create:function(t,e){return{parse:function(){return FRt.parse(t,e)}}}}});var e$e=Ue((Ian,ZBe)=>{"use strict";var zRt=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,VRt=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,HRt=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,GRt=/^-?infinity$/;ZBe.exports=function(e){if(GRt.test(e))return Number(e.replace("i","I"));var r=zRt.exec(e);if(!r)return jRt(e)||null;var n=!!r[8],i=parseInt(r[1],10);n&&(i=YBe(i));var o=parseInt(r[2],10)-1,s=r[3],a=parseInt(r[4],10),c=parseInt(r[5],10),l=parseInt(r[6],10),u=r[7];u=u?1e3*parseFloat(u):0;var d,p=qRt(e);return p!=null?(d=new Date(Date.UTC(i,o,s,a,c,l,u)),$ie(i)&&d.setUTCFullYear(i),p!==0&&d.setTime(d.getTime()-p)):(d=new Date(i,o,s,a,c,l,u),$ie(i)&&d.setFullYear(i)),d};function jRt(t){var e=VRt.exec(t);if(e){var r=parseInt(e[1],10),n=!!e[4];n&&(r=YBe(r));var i=parseInt(e[2],10)-1,o=e[3],s=new Date(r,i,o);return $ie(r)&&s.setFullYear(r),s}}function qRt(t){if(t.endsWith("+00"))return 0;var e=HRt.exec(t.split(" ")[1]);if(e){var r=e[1];if(r==="Z")return 0;var n=r==="-"?-1:1,i=parseInt(e[2],10)*3600+parseInt(e[3]||0,10)*60+parseInt(e[4]||0,10);return i*n*1e3}}function YBe(t){return-(t-1)}function $ie(t){return t>=0&&t<100}});var r$e=Ue((Can,t$e)=>{"use strict";t$e.exports=WRt;var JRt=Object.prototype.hasOwnProperty;function WRt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)JRt.call(r,n)&&(t[n]=r[n])}return t}});var o$e=Ue((Nan,i$e)=>{"use strict";var KRt=r$e();i$e.exports=sw;function sw(t){if(!(this instanceof sw))return new sw(t);KRt(this,a8t(t))}var QRt=["seconds","minutes","hours","days","months","years"];sw.prototype.toPostgres=function(){var t=QRt.filter(this.hasOwnProperty,this);return this.milliseconds&&t.indexOf("seconds")<0&&t.push("seconds"),t.length===0?"0":t.map(function(e){var r=this[e]||0;return e==="seconds"&&this.milliseconds&&(r=(r+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),r+" "+e},this).join(" ")};var XRt={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},YRt=["years","months","days"],ZRt=["hours","minutes","seconds"];sw.prototype.toISOString=sw.prototype.toISO=function(){var t=YRt.map(r,this).join(""),e=ZRt.map(r,this).join("");return"P"+t+"T"+e;function r(n){var i=this[n]||0;return n==="seconds"&&this.milliseconds&&(i=(i+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),i+XRt[n]}};var Uie="([+-]?\\d+)",e8t=Uie+"\\s+years?",t8t=Uie+"\\s+mons?",r8t=Uie+"\\s+days?",n8t="([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?",i8t=new RegExp([e8t,t8t,r8t,n8t].map(function(t){return"("+t+")?"}).join("\\s*")),n$e={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},o8t=["hours","minutes","seconds","milliseconds"];function s8t(t){var e=t+"000000".slice(t.length);return parseInt(e,10)/1e3}function a8t(t){if(!t)return{};var e=i8t.exec(t),r=e[8]==="-";return Object.keys(n$e).reduce(function(n,i){var o=n$e[i],s=e[o];return!s||(s=i==="milliseconds"?s8t(s):parseInt(s,10),!s)||(r&&~o8t.indexOf(i)&&(s*=-1),n[i]=s),n},{})}});var c$e=Ue((Oan,a$e)=>{"use strict";var s$e=Buffer.from||Buffer;a$e.exports=function(e){if(/^\\x/.test(e))return s$e(e.substr(2),"hex");for(var r="",n=0;n<e.length;)if(e[n]!=="\\")r+=e[n],++n;else if(/[0-7]{3}/.test(e.substr(n+1,3)))r+=String.fromCharCode(parseInt(e.substr(n+1,3),8)),n+=4;else{for(var i=1;n+i<e.length&&e[n+i]==="\\";)i++;for(var o=0;o<Math.floor(i/2);++o)r+="\\";n+=Math.floor(i/2)*2}return s$e(r,"binary")}});var h$e=Ue((Pan,m$e)=>{"use strict";var GT=Lie(),jT=Bie(),$M=e$e(),u$e=o$e(),d$e=c$e();function UM(t){return function(r){return r===null?r:t(r)}}function p$e(t){return t===null?t:t==="TRUE"||t==="t"||t==="true"||t==="y"||t==="yes"||t==="on"||t==="1"}function c8t(t){return t?GT.parse(t,p$e):null}function l8t(t){return parseInt(t,10)}function Fie(t){return t?GT.parse(t,UM(l8t)):null}function u8t(t){return t?GT.parse(t,UM(function(e){return f$e(e).trim()})):null}var d8t=function(t){if(!t)return null;var e=jT.create(t,function(r){return r!==null&&(r=Gie(r)),r});return e.parse()},zie=function(t){if(!t)return null;var e=jT.create(t,function(r){return r!==null&&(r=parseFloat(r)),r});return e.parse()},Eu=function(t){if(!t)return null;var e=jT.create(t);return e.parse()},Vie=function(t){if(!t)return null;var e=jT.create(t,function(r){return r!==null&&(r=$M(r)),r});return e.parse()},p8t=function(t){if(!t)return null;var e=jT.create(t,function(r){return r!==null&&(r=u$e(r)),r});return e.parse()},f8t=function(t){return t?GT.parse(t,UM(d$e)):null},Hie=function(t){return parseInt(t,10)},f$e=function(t){var e=String(t);return/^\d+$/.test(e)?e:t},l$e=function(t){return t?GT.parse(t,UM(JSON.parse)):null},Gie=function(t){return t[0]!=="("?null:(t=t.substring(1,t.length-1).split(","),{x:parseFloat(t[0]),y:parseFloat(t[1])})},m8t=function(t){if(t[0]!=="<"&&t[1]!=="(")return null;for(var e="(",r="",n=!1,i=2;i<t.length-1;i++){if(n||(e+=t[i]),t[i]===")"){n=!0;continue}else if(!n)continue;t[i]!==","&&(r+=t[i])}var o=Gie(e);return o.radius=parseFloat(r),o},h8t=function(t){t(20,f$e),t(21,Hie),t(23,Hie),t(26,Hie),t(700,parseFloat),t(701,parseFloat),t(16,p$e),t(1082,$M),t(1114,$M),t(1184,$M),t(600,Gie),t(651,Eu),t(718,m8t),t(1e3,c8t),t(1001,f8t),t(1005,Fie),t(1007,Fie),t(1028,Fie),t(1016,u8t),t(1017,d8t),t(1021,zie),t(1022,zie),t(1231,zie),t(1014,Eu),t(1015,Eu),t(1008,Eu),t(1009,Eu),t(1040,Eu),t(1041,Eu),t(1115,Vie),t(1182,Vie),t(1185,Vie),t(1186,u$e),t(1187,p8t),t(17,d$e),t(114,JSON.parse.bind(JSON)),t(3802,JSON.parse.bind(JSON)),t(199,l$e),t(3807,l$e),t(3907,Eu),t(2951,Eu),t(791,Eu),t(1183,Eu),t(1270,Eu)};m$e.exports={init:h8t}});var y$e=Ue((kan,g$e)=>{"use strict";var mc=1e6;function g8t(t){var e=t.readInt32BE(0),r=t.readUInt32BE(4),n="";e<0&&(e=~e+(r===0),r=~r+1>>>0,n="-");var i="",o,s,a,c,l,u;{if(o=e%mc,e=e/mc>>>0,s=4294967296*o+r,r=s/mc>>>0,a=""+(s-mc*r),r===0&&e===0)return n+a+i;for(c="",l=6-a.length,u=0;u<l;u++)c+="0";i=c+a+i}{if(o=e%mc,e=e/mc>>>0,s=4294967296*o+r,r=s/mc>>>0,a=""+(s-mc*r),r===0&&e===0)return n+a+i;for(c="",l=6-a.length,u=0;u<l;u++)c+="0";i=c+a+i}{if(o=e%mc,e=e/mc>>>0,s=4294967296*o+r,r=s/mc>>>0,a=""+(s-mc*r),r===0&&e===0)return n+a+i;for(c="",l=6-a.length,u=0;u<l;u++)c+="0";i=c+a+i}return o=e%mc,s=4294967296*o+r,a=""+s%mc,n+a+i}g$e.exports=g8t});var S$e=Ue((Dan,x$e)=>{"use strict";var y8t=y$e(),yi=function(t,e,r,n,i){r=r||0,n=n||!1,i=i||function(f,h,m){return f*Math.pow(2,m)+h};var o=r>>3,s=function(f){return n?~f&255:f},a=255,c=8-r%8;e<c&&(a=255<<8-e&255,c=e),r&&(a=a>>r%8);var l=0;r%8+e>=8&&(l=i(0,s(t[o])&a,c));for(var u=e+r>>3,d=o+1;d<u;d++)l=i(l,s(t[d]),8);var p=(e+r)%8;return p>0&&(l=i(l,s(t[u])>>8-p,p)),l},_$e=function(t,e,r){var n=Math.pow(2,r-1)-1,i=yi(t,1),o=yi(t,r,1);if(o===0)return 0;var s=1,a=function(l,u,d){l===0&&(l=1);for(var p=1;p<=d;p++)s/=2,(u&1<<d-p)>0&&(l+=s);return l},c=yi(t,e,r+1,!1,a);return o==Math.pow(2,r+1)-1?c===0?i===0?1/0:-1/0:NaN:(i===0?1:-1)*Math.pow(2,o-n)*c},b8t=function(t){return yi(t,1)==1?-1*(yi(t,15,1,!0)+1):yi(t,15,1)},b$e=function(t){return yi(t,1)==1?-1*(yi(t,31,1,!0)+1):yi(t,31,1)},v8t=function(t){return _$e(t,23,8)},_8t=function(t){return _$e(t,52,11)},x8t=function(t){var e=yi(t,16,32);if(e==49152)return NaN;for(var r=Math.pow(1e4,yi(t,16,16)),n=0,i=[],o=yi(t,16),s=0;s<o;s++)n+=yi(t,16,64+16*s)*r,r/=1e4;var a=Math.pow(10,yi(t,16,48));return(e===0?1:-1)*Math.round(n*a)/a},v$e=function(t,e){var r=yi(e,1),n=yi(e,63,1),i=new Date((r===0?1:-1)*n/1e3+9466848e5);return t||i.setTime(i.getTime()+i.getTimezoneOffset()*6e4),i.usec=n%1e3,i.getMicroSeconds=function(){return this.usec},i.setMicroSeconds=function(o){this.usec=o},i.getUTCMicroSeconds=function(){return this.usec},i},qT=function(t){for(var e=yi(t,32),r=yi(t,32,32),n=yi(t,32,64),i=96,o=[],s=0;s<e;s++)o[s]=yi(t,32,i),i+=32,i+=32;var a=function(l){var u=yi(t,32,i);if(i+=32,u==4294967295)return null;var d;if(l==23||l==20)return d=yi(t,u*8,i),i+=u*8,d;if(l==25)return d=t.toString(this.encoding,i>>3,(i+=u<<3)>>3),d;console.log("ERROR: ElementType not implemented: "+l)},c=function(l,u){var d=[],p;if(l.length>1){var f=l.shift();for(p=0;p<f;p++)d[p]=c(l,u);l.unshift(f)}else for(p=0;p<l[0];p++)d[p]=a(u);return d};return c(o,n)},S8t=function(t){return t.toString("utf8")},w8t=function(t){return t===null?null:yi(t,8)>0},A8t=function(t){t(20,y8t),t(21,b8t),t(23,b$e),t(26,b$e),t(1700,x8t),t(700,v8t),t(701,_8t),t(16,w8t),t(1114,v$e.bind(null,!1)),t(1184,v$e.bind(null,!0)),t(1e3,qT),t(1007,qT),t(1016,qT),t(1008,qT),t(1009,qT),t(25,S8t)};x$e.exports={init:A8t}});var A$e=Ue((Man,w$e)=>{"use strict";w$e.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096}});var KT=Ue(WT=>{"use strict";var E8t=h$e(),T8t=S$e(),R8t=Bie(),I8t=A$e();WT.getTypeParser=C8t;WT.setTypeParser=N8t;WT.arrayParser=R8t;WT.builtins=I8t;var JT={text:{},binary:{}};function E$e(t){return String(t)}function C8t(t,e){return e=e||"text",JT[e]&&JT[e][t]||E$e}function N8t(t,e,r){typeof e=="function"&&(r=e,e="text"),JT[e][t]=r}E8t.init(function(t,e){JT.text[t]=e});T8t.init(function(t,e){JT.binary[t]=e})});var QT=Ue((Ban,jie)=>{"use strict";var T$e;try{T$e=process.platform==="win32"?process.env.USERNAME:process.env.USER}catch{}jie.exports={host:"localhost",user:T$e,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,lock_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};var aw=KT(),O8t=aw.getTypeParser(20,"text"),P8t=aw.getTypeParser(1016,"text");jie.exports.__defineSetter__("parseInt8",function(t){aw.setTypeParser(20,"text",t?aw.getTypeParser(23,"text"):O8t),aw.setTypeParser(1016,"text",t?aw.getTypeParser(1007,"text"):P8t)})});var cw=Ue(($an,C$e)=>{"use strict";var k8t=QT(),R$e=ft("util"),{isDate:D8t}=R$e.types||R$e;function M8t(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'}function I$e(t){let e="{";for(let r=0;r<t.length;r++)if(r>0&&(e=e+","),t[r]===null||typeof t[r]>"u")e=e+"NULL";else if(Array.isArray(t[r]))e=e+I$e(t[r]);else if(ArrayBuffer.isView(t[r])){let n=t[r];if(!(n instanceof Buffer)){let i=Buffer.from(n.buffer,n.byteOffset,n.byteLength);i.length===n.byteLength?n=i:n=i.slice(n.byteOffset,n.byteOffset+n.byteLength)}e+="\\\\x"+n.toString("hex")}else e+=M8t(FM(t[r]));return e=e+"}",e}var FM=function(t,e){if(t==null)return null;if(typeof t=="object"){if(t instanceof Buffer)return t;if(ArrayBuffer.isView(t)){let r=Buffer.from(t.buffer,t.byteOffset,t.byteLength);return r.length===t.byteLength?r:r.slice(t.byteOffset,t.byteOffset+t.byteLength)}return D8t(t)?k8t.parseInputDatesAsUTC?$8t(t):B8t(t):Array.isArray(t)?I$e(t):L8t(t,e)}return t.toString()};function L8t(t,e){if(t&&typeof t.toPostgres=="function"){if(e=e||[],e.indexOf(t)!==-1)throw new Error('circular reference detected while preparing "'+t+'" for query');return e.push(t),FM(t.toPostgres(FM),e)}return JSON.stringify(t)}function B8t(t){let e=-t.getTimezoneOffset(),r=t.getFullYear(),n=r<1;n&&(r=Math.abs(r)+1);let i=String(r).padStart(4,"0")+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")+"T"+String(t.getHours()).padStart(2,"0")+":"+String(t.getMinutes()).padStart(2,"0")+":"+String(t.getSeconds()).padStart(2,"0")+"."+String(t.getMilliseconds()).padStart(3,"0");return e<0?(i+="-",e*=-1):i+="+",i+=String(Math.floor(e/60)).padStart(2,"0")+":"+String(e%60).padStart(2,"0"),n&&(i+=" BC"),i}function $8t(t){let e=t.getUTCFullYear(),r=e<1;r&&(e=Math.abs(e)+1);let n=String(e).padStart(4,"0")+"-"+String(t.getUTCMonth()+1).padStart(2,"0")+"-"+String(t.getUTCDate()).padStart(2,"0")+"T"+String(t.getUTCHours()).padStart(2,"0")+":"+String(t.getUTCMinutes()).padStart(2,"0")+":"+String(t.getUTCSeconds()).padStart(2,"0")+"."+String(t.getUTCMilliseconds()).padStart(3,"0");return n+="+00:00",r&&(n+=" BC"),n}function U8t(t,e,r){return t=typeof t=="string"?{text:t}:t,e&&(typeof e=="function"?t.callback=e:t.values=e),r&&(t.callback=r),t}var F8t=function(t){return'"'+t.replace(/"/g,'""')+'"'},z8t=function(t){let e=!1,r="'";if(t==null||typeof t!="string")return"''";for(let n=0;n<t.length;n++){let i=t[n];i==="'"?r+=i+i:i==="\\"?(r+=i+i,e=!0):r+=i}return r+="'",e===!0&&(r=" E"+r),r};C$e.exports={prepareValue:function(e){return FM(e)},normalizeQueryConfig:U8t,escapeIdentifier:F8t,escapeLiteral:z8t}});var O$e=Ue((Uan,N$e)=>{"use strict";var lw=ft("crypto");function qie(t){return lw.createHash("md5").update(t,"utf-8").digest("hex")}function V8t(t,e,r){let n=qie(e+t);return"md5"+qie(Buffer.concat([Buffer.from(n),r]))}function H8t(t){return lw.createHash("sha256").update(t).digest()}function G8t(t,e){return t=t.replace(/(\D)-/,"$1"),lw.createHash(t).update(e).digest()}function j8t(t,e){return lw.createHmac("sha256",t).update(e).digest()}async function q8t(t,e,r){return lw.pbkdf2Sync(t,e,r,32,"sha256")}N$e.exports={postgresMd5PasswordHash:V8t,randomBytes:lw.randomBytes,deriveKey:q8t,sha256:H8t,hashByName:G8t,hmacSha256:j8t,md5:qie}});var M$e=Ue((Fan,D$e)=>{"use strict";var P$e=ft("crypto");D$e.exports={postgresMd5PasswordHash:W8t,randomBytes:J8t,deriveKey:Y8t,sha256:K8t,hashByName:Q8t,hmacSha256:X8t,md5:Jie};var k$e=P$e.webcrypto||globalThis.crypto,Yb=k$e.subtle,Wie=new TextEncoder;function J8t(t){return k$e.getRandomValues(Buffer.alloc(t))}async function Jie(t){try{return P$e.createHash("md5").update(t,"utf-8").digest("hex")}catch{let r=typeof t=="string"?Wie.encode(t):t,n=await Yb.digest("MD5",r);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}}async function W8t(t,e,r){let n=await Jie(e+t);return"md5"+await Jie(Buffer.concat([Buffer.from(n),r]))}async function K8t(t){return await Yb.digest("SHA-256",t)}async function Q8t(t,e){return await Yb.digest(t,e)}async function X8t(t,e){let r=await Yb.importKey("raw",t,{name:"HMAC",hash:"SHA-256"},!1,["sign"]);return await Yb.sign("HMAC",r,Wie.encode(e))}async function Y8t(t,e,r){let n=await Yb.importKey("raw",Wie.encode(t),"PBKDF2",!1,["deriveBits"]),i={name:"PBKDF2",hash:"SHA-256",salt:e,iterations:r};return await Yb.deriveBits(i,n,256,["deriveBits"])}});var Qie=Ue((zan,Kie)=>{"use strict";var Z8t=parseInt(process.versions&&process.versions.node&&process.versions.node.split(".")[0])<15;Z8t?Kie.exports=O$e():Kie.exports=M$e()});var $$e=Ue((Van,B$e)=>{"use strict";function Zb(t,e){return new Error("SASL channel binding: "+t+" when parsing public certificate "+e.toString("base64"))}function Xie(t,e){let r=t[e++];if(r<128)return{length:r,index:e};let n=r&127;if(n>4)throw Zb("bad length",t);r=0;for(let i=0;i<n;i++)r=r<<8|t[e++];return{length:r,index:e}}function L$e(t,e){if(t[e++]!==6)throw Zb("non-OID data",t);let{length:r,index:n}=Xie(t,e);e=n;let i=e+r,o=t[e++],s=(o/40>>0)+"."+o%40;for(;e<i;){let a=0;for(;e<i;){let c=t[e++];if(a=a<<7|c&127,c<128)break}s+="."+a}return{oid:s,index:e}}function XT(t,e){if(t[e++]!==48)throw Zb("non-sequence data",t);return Xie(t,e)}function eIt(t,e){e===void 0&&(e=0),e=XT(t,e).index;let{length:r,index:n}=XT(t,e);e=n+r,e=XT(t,e).index;let{oid:i,index:o}=L$e(t,e);switch(i){case"1.2.840.113549.1.1.4":return"MD5";case"1.2.840.113549.1.1.5":return"SHA-1";case"1.2.840.113549.1.1.11":return"SHA-256";case"1.2.840.113549.1.1.12":return"SHA-384";case"1.2.840.113549.1.1.13":return"SHA-512";case"1.2.840.113549.1.1.14":return"SHA-224";case"1.2.840.113549.1.1.15":return"SHA512-224";case"1.2.840.113549.1.1.16":return"SHA512-256";case"1.2.840.10045.4.1":return"SHA-1";case"1.2.840.10045.4.3.1":return"SHA-224";case"1.2.840.10045.4.3.2":return"SHA-256";case"1.2.840.10045.4.3.3":return"SHA-384";case"1.2.840.10045.4.3.4":return"SHA-512";case"1.2.840.113549.1.1.10":{if(e=o,e=XT(t,e).index,t[e++]!==160)throw Zb("non-tag data",t);e=Xie(t,e).index,e=XT(t,e).index;let{oid:s}=L$e(t,e);switch(s){case"1.2.840.113549.2.5":return"MD5";case"1.3.14.3.2.26":return"SHA-1";case"2.16.840.1.101.3.4.2.1":return"SHA-256";case"2.16.840.1.101.3.4.2.2":return"SHA-384";case"2.16.840.1.101.3.4.2.3":return"SHA-512"}throw Zb("unknown hash OID "+s,t)}case"1.3.101.110":case"1.3.101.112":return"SHA-512";case"1.3.101.111":case"1.3.101.113":throw Zb("Ed448 certificate channel binding is not currently supported by Postgres")}throw Zb("unknown OID "+i,t)}B$e.exports={signatureAlgorithmHashFromCertificate:eIt}});var V$e=Ue((Han,z$e)=>{"use strict";var N0=Qie(),{signatureAlgorithmHashFromCertificate:tIt}=$$e();function rIt(t,e){let r=["SCRAM-SHA-256"];e&&r.unshift("SCRAM-SHA-256-PLUS");let n=r.find(s=>t.includes(s));if(!n)throw new Error("SASL: Only mechanism(s) "+r.join(" and ")+" are supported");if(n==="SCRAM-SHA-256-PLUS"&&typeof e.getPeerCertificate!="function")throw new Error("SASL: Mechanism SCRAM-SHA-256-PLUS requires a certificate");let i=N0.randomBytes(18).toString("base64");return{mechanism:n,clientNonce:i,response:(n==="SCRAM-SHA-256-PLUS"?"p=tls-server-end-point":e?"y":"n")+",,n=*,r="+i,message:"SASLInitialResponse"}}async function nIt(t,e,r,n){if(t.message!=="SASLInitialResponse")throw new Error("SASL: Last message was not SASLInitialResponse");if(typeof e!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string");if(e==="")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a non-empty string");if(typeof r!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a string");let i=sIt(r);if(i.nonce.startsWith(t.clientNonce)){if(i.nonce.length===t.clientNonce.length)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");let o="n=*,r="+t.clientNonce,s="r="+i.nonce+",s="+i.salt+",i="+i.iteration,a=n?"eSws":"biws";if(t.mechanism==="SCRAM-SHA-256-PLUS"){let _=n.getPeerCertificate().raw,x=tIt(_);(x==="MD5"||x==="SHA-1")&&(x="SHA-256");let E=await N0.hashByName(x,_);a=Buffer.concat([Buffer.from("p=tls-server-end-point,,"),Buffer.from(E)]).toString("base64")}let c="c="+a+",r="+i.nonce,l=o+","+s+","+c,u=Buffer.from(i.salt,"base64"),d=await N0.deriveKey(e,u,i.iteration),p=await N0.hmacSha256(d,"Client Key"),f=await N0.sha256(p),h=await N0.hmacSha256(f,l),m=cIt(Buffer.from(p),Buffer.from(h)).toString("base64"),g=await N0.hmacSha256(d,"Server Key"),b=await N0.hmacSha256(g,l);t.message="SASLResponse",t.serverSignature=Buffer.from(b).toString("base64"),t.response=c+",p="+m}function iIt(t,e){if(t.message!=="SASLResponse")throw new Error("SASL: Last message was not SASLResponse");if(typeof e!="string")throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: serverData must be a string");let{serverSignature:r}=aIt(e);if(r!==t.serverSignature)throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}function oIt(t){if(typeof t!="string")throw new TypeError("SASL: text must be a string");return t.split("").map((e,r)=>t.charCodeAt(r)).every(e=>e>=33&&e<=43||e>=45&&e<=126)}function U$e(t){return/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(t)}function F$e(t){if(typeof t!="string")throw new TypeError("SASL: attribute pairs text must be a string");return new Map(t.split(",").map(e=>{if(!/^.=/.test(e))throw new Error("SASL: Invalid attribute pair entry");let r=e[0],n=e.substring(2);return[r,n]}))}function sIt(t){let e=F$e(t),r=e.get("r");if(r){if(!oIt(r))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce must only contain printable characters")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");let n=e.get("s");if(n){if(!U$e(n))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");let i=e.get("i");if(i){if(!/^[1-9][0-9]*$/.test(i))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration count")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");let o=parseInt(i,10);return{nonce:r,salt:n,iteration:o}}function aIt(t){let r=F$e(t).get("v");if(r){if(!U$e(r))throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64")}else throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing");return{serverSignature:r}}function cIt(t,e){if(!Buffer.isBuffer(t))throw new TypeError("first argument must be a Buffer");if(!Buffer.isBuffer(e))throw new TypeError("second argument must be a Buffer");if(t.length!==e.length)throw new Error("Buffer lengths must match");if(t.length===0)throw new Error("Buffers cannot be empty");return Buffer.from(t.map((r,n)=>t[n]^e[n]))}z$e.exports={startSession:rIt,continueSession:nIt,finalizeSession:iIt}});var VM=Ue((Gan,H$e)=>{"use strict";var lIt=KT();function zM(t){this._types=t||lIt,this.text={},this.binary={}}zM.prototype.getOverrides=function(t){switch(t){case"text":return this.text;case"binary":return this.binary;default:return{}}};zM.prototype.setTypeParser=function(t,e,r){typeof e=="function"&&(r=e,e="text"),this.getOverrides(e)[t]=r};zM.prototype.getTypeParser=function(t,e){return e=e||"text",this.getOverrides(e)[t]||this._types.getTypeParser(t,e)};H$e.exports=zM});var q$e=Ue((jan,j$e)=>{"use strict";function uw(t,e={}){if(t.charAt(0)==="/"){let c=t.split(" ");return{host:c[0],database:c[1]}}let r={},n,i=!1;/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(t)&&(t=encodeURI(t).replace(/%25(\d\d)/g,"%$1"));try{try{n=new URL(t,"postgres://base")}catch{n=new URL(t.replace("@/","@___DUMMY___/"),"postgres://base"),i=!0}}catch(c){throw c.input&&(c.input="*****REDACTED*****"),c}for(let c of n.searchParams.entries())r[c[0]]=c[1];if(r.user=r.user||decodeURIComponent(n.username),r.password=r.password||decodeURIComponent(n.password),n.protocol=="socket:")return r.host=decodeURI(n.pathname),r.database=n.searchParams.get("db"),r.client_encoding=n.searchParams.get("encoding"),r;let o=i?"":n.hostname;r.host?o&&/^%2f/i.test(o)&&(n.pathname=o+n.pathname):r.host=decodeURIComponent(o),r.port||(r.port=n.port);let s=n.pathname.slice(1)||null;r.database=s?decodeURI(s):null,(r.ssl==="true"||r.ssl==="1")&&(r.ssl=!0),r.ssl==="0"&&(r.ssl=!1),(r.sslcert||r.sslkey||r.sslrootcert||r.sslmode)&&(r.ssl={});let a=r.sslcert||r.sslkey||r.sslrootcert?ft("fs"):null;if(r.sslcert&&(r.ssl.cert=a.readFileSync(r.sslcert).toString()),r.sslkey&&(r.ssl.key=a.readFileSync(r.sslkey).toString()),r.sslrootcert&&(r.ssl.ca=a.readFileSync(r.sslrootcert).toString()),e.useLibpqCompat&&r.uselibpqcompat)throw new Error("Both useLibpqCompat and uselibpqcompat are set. Please use only one of them.");if(r.uselibpqcompat==="true"||e.useLibpqCompat)switch(r.sslmode){case"disable":{r.ssl=!1;break}case"prefer":{r.ssl.rejectUnauthorized=!1;break}case"require":{r.sslrootcert?r.ssl.checkServerIdentity=function(){}:r.ssl.rejectUnauthorized=!1;break}case"verify-ca":{if(!r.ssl.ca)throw new Error("SECURITY WARNING: Using sslmode=verify-ca requires specifying a CA with sslrootcert. If a public CA is used, verify-ca allows connections to a server that somebody else may have registered with the CA, making you vulnerable to Man-in-the-Middle attacks. Either specify a custom CA certificate with sslrootcert parameter or use sslmode=verify-full for proper security.");r.ssl.checkServerIdentity=function(){};break}case"verify-full":break}else switch(r.sslmode){case"disable":{r.ssl=!1;break}case"prefer":case"require":case"verify-ca":case"verify-full":{r.sslmode!=="verify-full"&&Yie(r.sslmode);break}case"no-verify":{r.ssl.rejectUnauthorized=!1;break}}return r}function uIt(t){return Object.entries(t).reduce((r,[n,i])=>(i!=null&&(r[n]=i),r),{})}function G$e(t){return Object.entries(t).reduce((r,[n,i])=>{if(n==="ssl"){let o=i;typeof o=="boolean"&&(r[n]=o),typeof o=="object"&&(r[n]=uIt(o))}else if(i!=null)if(n==="port"){if(i!==""){let o=parseInt(i,10);if(isNaN(o))throw new Error(`Invalid ${n}: ${i}`);r[n]=o}}else r[n]=i;return r},{})}function dIt(t){return G$e(uw(t))}function Yie(t){!Yie.warned&&typeof process<"u"&&process.emitWarning&&(Yie.warned=!0,process.emitWarning(`SECURITY WARNING: The SSL modes 'prefer', 'require', and 'verify-ca' are treated as aliases for 'verify-full'.
In the next major version (pg-connection-string v3.0.0 and pg v9.0.0), these modes will adopt standard libpq semantics, which have weaker security guarantees.

To prepare for this change:
- If you want the current behavior, explicitly use 'sslmode=verify-full'
- If you want libpq compatibility now, use 'uselibpqcompat=true&sslmode=${t}'

See https://www.postgresql.org/docs/current/libpq-ssl.html for libpq SSL mode definitions.`))}j$e.exports=uw;uw.parse=uw;uw.toClientConfig=G$e;uw.parseIntoClientConfig=dIt});var eoe=Ue((qan,K$e)=>{"use strict";var pIt=ft("dns"),W$e=QT(),J$e=q$e().parse,Sa=function(t,e,r){return e[t]?e[t]:(r===void 0?r=process.env["PG"+t.toUpperCase()]:r===!1||(r=process.env[r]),r||W$e[t])},fIt=function(){switch(process.env.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return W$e.ssl},dw=function(t){return"'"+(""+t).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},Tu=function(t,e,r){let n=e[r];n!=null&&t.push(r+"="+dw(n))},Zie=class{constructor(e){e=typeof e=="string"?J$e(e):e||{},e.connectionString&&(e=Object.assign({},e,J$e(e.connectionString))),this.user=Sa("user",e),this.database=Sa("database",e),this.database===void 0&&(this.database=this.user),this.port=parseInt(Sa("port",e),10),this.host=Sa("host",e),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:Sa("password",e)}),this.binary=Sa("binary",e),this.options=Sa("options",e),this.ssl=typeof e.ssl>"u"?fIt():e.ssl,typeof this.ssl=="string"&&this.ssl==="true"&&(this.ssl=!0),this.ssl==="no-verify"&&(this.ssl={rejectUnauthorized:!1}),this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this.client_encoding=Sa("client_encoding",e),this.replication=Sa("replication",e),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=Sa("application_name",e,"PGAPPNAME"),this.fallback_application_name=Sa("fallback_application_name",e,!1),this.statement_timeout=Sa("statement_timeout",e,!1),this.lock_timeout=Sa("lock_timeout",e,!1),this.idle_in_transaction_session_timeout=Sa("idle_in_transaction_session_timeout",e,!1),this.query_timeout=Sa("query_timeout",e,!1),e.connectionTimeoutMillis===void 0?this.connect_timeout=process.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(e.connectionTimeoutMillis/1e3),e.keepAlive===!1?this.keepalives=0:e.keepAlive===!0&&(this.keepalives=1),typeof e.keepAliveInitialDelayMillis=="number"&&(this.keepalives_idle=Math.floor(e.keepAliveInitialDelayMillis/1e3))}getLibpqConnectionString(e){let r=[];Tu(r,this,"user"),Tu(r,this,"password"),Tu(r,this,"port"),Tu(r,this,"application_name"),Tu(r,this,"fallback_application_name"),Tu(r,this,"connect_timeout"),Tu(r,this,"options");let n=typeof this.ssl=="object"?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(Tu(r,n,"sslmode"),Tu(r,n,"sslca"),Tu(r,n,"sslkey"),Tu(r,n,"sslcert"),Tu(r,n,"sslrootcert"),this.database&&r.push("dbname="+dw(this.database)),this.replication&&r.push("replication="+dw(this.replication)),this.host&&r.push("host="+dw(this.host)),this.isDomainSocket)return e(null,r.join(" "));this.client_encoding&&r.push("client_encoding="+dw(this.client_encoding)),pIt.lookup(this.host,function(i,o){return i?e(i,null):(r.push("hostaddr="+dw(o)),e(null,r.join(" ")))})}};K$e.exports=Zie});var roe=Ue((Jan,X$e)=>{"use strict";var mIt=KT(),Q$e=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/,toe=class{constructor(e,r){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=r,this.RowCtor=null,this.rowAsArray=e==="array",this.rowAsArray&&(this.parseRow=this._parseRowAsArray),this._prebuiltEmptyResultObject=null}addCommandComplete(e){let r;e.text?r=Q$e.exec(e.text):r=Q$e.exec(e.command),r&&(this.command=r[1],r[3]?(this.oid=parseInt(r[2],10),this.rowCount=parseInt(r[3],10)):r[2]&&(this.rowCount=parseInt(r[2],10)))}_parseRowAsArray(e){let r=new Array(e.length);for(let n=0,i=e.length;n<i;n++){let o=e[n];o!==null?r[n]=this._parsers[n](o):r[n]=null}return r}parseRow(e){let r={...this._prebuiltEmptyResultObject};for(let n=0,i=e.length;n<i;n++){let o=e[n],s=this.fields[n].name;if(o!==null){let a=this.fields[n].format==="binary"?Buffer.from(o):o;r[s]=this._parsers[n](a)}else r[s]=null}return r}addRow(e){this.rows.push(e)}addFields(e){this.fields=e,this.fields.length&&(this._parsers=new Array(e.length));let r={};for(let n=0;n<e.length;n++){let i=e[n];r[i.name]=null,this._types?this._parsers[n]=this._types.getTypeParser(i.dataTypeID,i.format||"text"):this._parsers[n]=mIt.getTypeParser(i.dataTypeID,i.format||"text")}this._prebuiltEmptyResultObject={...r}}};X$e.exports=toe});var tUe=Ue((Wan,eUe)=>{"use strict";var{EventEmitter:hIt}=ft("events"),Y$e=roe(),Z$e=cw(),noe=class extends hIt{constructor(e,r,n){super(),e=Z$e.normalizeQueryConfig(e,r,n),this.text=e.text,this.values=e.values,this.rows=e.rows,this.types=e.types,this.name=e.name,this.queryMode=e.queryMode,this.binary=e.binary,this.portal=e.portal||"",this.callback=e.callback,this._rowMode=e.rowMode,process.domain&&e.callback&&(this.callback=process.domain.bind(e.callback)),this._result=new Y$e(this._rowMode,this.types),this._results=this._result,this._canceledDueToError=!1}requiresPreparation(){return this.queryMode==="extended"||this.name||this.rows?!0:!this.text||!this.values?!1:this.values.length>0}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new Y$e(this._rowMode,this._result._types),this._results.push(this._result))}handleRowDescription(e){this._checkForMultirow(),this._result.addFields(e.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(e){let r;if(!this._canceledDueToError){try{r=this._result.parseRow(e.fields)}catch(n){this._canceledDueToError=n;return}this.emit("row",r,this._result),this._accumulateRows&&this._result.addRow(r)}}handleCommandComplete(e,r){this._checkForMultirow(),this._result.addCommandComplete(e),this.rows&&r.sync()}handleEmptyQuery(e){this.rows&&e.sync()}handleError(e,r){if(this._canceledDueToError&&(e=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(e);this.emit("error",e)}handleReadyForQuery(e){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,e);if(this.callback)try{this.callback(null,this._results)}catch(r){process.nextTick(()=>{throw r})}this.emit("end",this._results)}submit(e){if(typeof this.text!="string"&&typeof this.name!="string")return new Error("A query must have either text or a name. Supplying neither is unsupported.");let r=e.parsedStatements[this.name];if(this.text&&r&&this.text!==r)return new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);if(this.values&&!Array.isArray(this.values))return new Error("Query values must be an array");if(this.requiresPreparation()){e.stream.cork&&e.stream.cork();try{this.prepare(e)}finally{e.stream.uncork&&e.stream.uncork()}}else e.query(this.text);return null}hasBeenParsed(e){return this.name&&e.parsedStatements[this.name]}handlePortalSuspended(e){this._getRows(e,this.rows)}_getRows(e,r){e.execute({portal:this.portal,rows:r}),r?e.flush():e.sync()}prepare(e){this.hasBeenParsed(e)||e.parse({text:this.text,name:this.name,types:this.types});try{e.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary,valueMapper:Z$e.prepareValue})}catch(r){this.handleError(r,e);return}e.describe({type:"P",name:this.portal||""}),this._getRows(e,this.rows)}handleCopyInResponse(e){e.sendCopyFail("No source stream defined")}handleCopyData(e,r){}};eUe.exports=noe});var boe=Ue(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.NoticeMessage=nr.DataRowMessage=nr.CommandCompleteMessage=nr.ReadyForQueryMessage=nr.NotificationResponseMessage=nr.BackendKeyDataMessage=nr.AuthenticationMD5Password=nr.ParameterStatusMessage=nr.ParameterDescriptionMessage=nr.RowDescriptionMessage=nr.Field=nr.CopyResponse=nr.CopyDataMessage=nr.DatabaseError=nr.copyDone=nr.emptyQuery=nr.replicationStart=nr.portalSuspended=nr.noData=nr.closeComplete=nr.bindComplete=nr.parseComplete=void 0;nr.parseComplete={name:"parseComplete",length:5};nr.bindComplete={name:"bindComplete",length:5};nr.closeComplete={name:"closeComplete",length:5};nr.noData={name:"noData",length:5};nr.portalSuspended={name:"portalSuspended",length:5};nr.replicationStart={name:"replicationStart",length:4};nr.emptyQuery={name:"emptyQuery",length:4};nr.copyDone={name:"copyDone",length:4};var ioe=class extends Error{constructor(e,r,n){super(e),this.length=r,this.name=n}};nr.DatabaseError=ioe;var ooe=class{constructor(e,r){this.length=e,this.chunk=r,this.name="copyData"}};nr.CopyDataMessage=ooe;var soe=class{constructor(e,r,n,i){this.length=e,this.name=r,this.binary=n,this.columnTypes=new Array(i)}};nr.CopyResponse=soe;var aoe=class{constructor(e,r,n,i,o,s,a){this.name=e,this.tableID=r,this.columnID=n,this.dataTypeID=i,this.dataTypeSize=o,this.dataTypeModifier=s,this.format=a}};nr.Field=aoe;var coe=class{constructor(e,r){this.length=e,this.fieldCount=r,this.name="rowDescription",this.fields=new Array(this.fieldCount)}};nr.RowDescriptionMessage=coe;var loe=class{constructor(e,r){this.length=e,this.parameterCount=r,this.name="parameterDescription",this.dataTypeIDs=new Array(this.parameterCount)}};nr.ParameterDescriptionMessage=loe;var uoe=class{constructor(e,r,n){this.length=e,this.parameterName=r,this.parameterValue=n,this.name="parameterStatus"}};nr.ParameterStatusMessage=uoe;var doe=class{constructor(e,r){this.length=e,this.salt=r,this.name="authenticationMD5Password"}};nr.AuthenticationMD5Password=doe;var poe=class{constructor(e,r,n){this.length=e,this.processID=r,this.secretKey=n,this.name="backendKeyData"}};nr.BackendKeyDataMessage=poe;var foe=class{constructor(e,r,n,i){this.length=e,this.processId=r,this.channel=n,this.payload=i,this.name="notification"}};nr.NotificationResponseMessage=foe;var moe=class{constructor(e,r){this.length=e,this.status=r,this.name="readyForQuery"}};nr.ReadyForQueryMessage=moe;var hoe=class{constructor(e,r){this.length=e,this.text=r,this.name="commandComplete"}};nr.CommandCompleteMessage=hoe;var goe=class{constructor(e,r){this.length=e,this.fields=r,this.name="dataRow",this.fieldCount=r.length}};nr.DataRowMessage=goe;var yoe=class{constructor(e,r){this.length=e,this.message=r,this.name="notice"}};nr.NoticeMessage=yoe});var rUe=Ue(HM=>{"use strict";Object.defineProperty(HM,"__esModule",{value:!0});HM.Writer=void 0;var voe=class{constructor(e=256){this.size=e,this.offset=5,this.headerPosition=0,this.buffer=Buffer.allocUnsafe(e)}ensure(e){if(this.buffer.length-this.offset<e){let n=this.buffer,i=n.length+(n.length>>1)+e;this.buffer=Buffer.allocUnsafe(i),n.copy(this.buffer)}}addInt32(e){return this.ensure(4),this.buffer[this.offset++]=e>>>24&255,this.buffer[this.offset++]=e>>>16&255,this.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this}addInt16(e){return this.ensure(2),this.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this}addCString(e){if(!e)this.ensure(1);else{let r=Buffer.byteLength(e);this.ensure(r+1),this.buffer.write(e,this.offset,"utf-8"),this.offset+=r}return this.buffer[this.offset++]=0,this}addString(e=""){let r=Buffer.byteLength(e);return this.ensure(r),this.buffer.write(e,this.offset),this.offset+=r,this}add(e){return this.ensure(e.length),e.copy(this.buffer,this.offset),this.offset+=e.length,this}join(e){if(e){this.buffer[this.headerPosition]=e;let r=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(r,this.headerPosition+1)}return this.buffer.slice(e?0:5,this.offset)}flush(e){let r=this.join(e);return this.offset=5,this.headerPosition=0,this.buffer=Buffer.allocUnsafe(this.size),r}};HM.Writer=voe});var iUe=Ue(jM=>{"use strict";Object.defineProperty(jM,"__esModule",{value:!0});jM.serialize=void 0;var _oe=rUe(),ii=new _oe.Writer,gIt=t=>{ii.addInt16(3).addInt16(0);for(let n of Object.keys(t))ii.addCString(n).addCString(t[n]);ii.addCString("client_encoding").addCString("UTF8");let e=ii.addCString("").flush(),r=e.length+4;return new _oe.Writer().addInt32(r).add(e).flush()},yIt=()=>{let t=Buffer.allocUnsafe(8);return t.writeInt32BE(8,0),t.writeInt32BE(80877103,4),t},bIt=t=>ii.addCString(t).flush(112),vIt=function(t,e){return ii.addCString(t).addInt32(Buffer.byteLength(e)).addString(e),ii.flush(112)},_It=function(t){return ii.addString(t).flush(112)},xIt=t=>ii.addCString(t).flush(81),nUe=[],SIt=t=>{let e=t.name||"";e.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",e,e.length),console.error("This can cause conflicts and silent errors executing queries"));let r=t.types||nUe,n=r.length,i=ii.addCString(e).addCString(t.text).addInt16(n);for(let o=0;o<n;o++)i.addInt32(r[o]);return ii.flush(80)},pw=new _oe.Writer,wIt=function(t,e){for(let r=0;r<t.length;r++){let n=e?e(t[r],r):t[r];n==null?(ii.addInt16(0),pw.addInt32(-1)):n instanceof Buffer?(ii.addInt16(1),pw.addInt32(n.length),pw.add(n)):(ii.addInt16(0),pw.addInt32(Buffer.byteLength(n)),pw.addString(n))}},AIt=(t={})=>{let e=t.portal||"",r=t.statement||"",n=t.binary||!1,i=t.values||nUe,o=i.length;return ii.addCString(e).addCString(r),ii.addInt16(o),wIt(i,t.valueMapper),ii.addInt16(o),ii.add(pw.flush()),ii.addInt16(1),ii.addInt16(n?1:0),ii.flush(66)},EIt=Buffer.from([69,0,0,0,9,0,0,0,0,0]),TIt=t=>{if(!t||!t.portal&&!t.rows)return EIt;let e=t.portal||"",r=t.rows||0,n=Buffer.byteLength(e),i=4+n+1+4,o=Buffer.allocUnsafe(1+i);return o[0]=69,o.writeInt32BE(i,1),o.write(e,5,"utf-8"),o[n+5]=0,o.writeUInt32BE(r,o.length-4),o},RIt=(t,e)=>{let r=Buffer.allocUnsafe(16);return r.writeInt32BE(16,0),r.writeInt16BE(1234,4),r.writeInt16BE(5678,6),r.writeInt32BE(t,8),r.writeInt32BE(e,12),r},xoe=(t,e)=>{let n=4+Buffer.byteLength(e)+1,i=Buffer.allocUnsafe(1+n);return i[0]=t,i.writeInt32BE(n,1),i.write(e,5,"utf-8"),i[n]=0,i},IIt=ii.addCString("P").flush(68),CIt=ii.addCString("S").flush(68),NIt=t=>t.name?xoe(68,`${t.type}${t.name||""}`):t.type==="P"?IIt:CIt,OIt=t=>{let e=`${t.type}${t.name||""}`;return xoe(67,e)},PIt=t=>ii.add(t).flush(100),kIt=t=>xoe(102,t),GM=t=>Buffer.from([t,0,0,0,4]),DIt=GM(72),MIt=GM(83),LIt=GM(88),BIt=GM(99),$It={startup:gIt,password:bIt,requestSsl:yIt,sendSASLInitialResponseMessage:vIt,sendSCRAMClientFinalMessage:_It,query:xIt,parse:SIt,bind:AIt,execute:TIt,describe:NIt,close:OIt,flush:()=>DIt,sync:()=>MIt,end:()=>LIt,copyData:PIt,copyDone:()=>BIt,copyFail:kIt,cancel:RIt};jM.serialize=$It});var oUe=Ue(qM=>{"use strict";Object.defineProperty(qM,"__esModule",{value:!0});qM.BufferReader=void 0;var UIt=Buffer.allocUnsafe(0),Soe=class{constructor(e=0){this.offset=e,this.buffer=UIt,this.encoding="utf-8"}setBuffer(e,r){this.offset=e,this.buffer=r}int16(){let e=this.buffer.readInt16BE(this.offset);return this.offset+=2,e}byte(){let e=this.buffer[this.offset];return this.offset++,e}int32(){let e=this.buffer.readInt32BE(this.offset);return this.offset+=4,e}uint32(){let e=this.buffer.readUInt32BE(this.offset);return this.offset+=4,e}string(e){let r=this.buffer.toString(this.encoding,this.offset,this.offset+e);return this.offset+=e,r}cstring(){let e=this.offset,r=e;for(;this.buffer[r++]!==0;);return this.offset=r,this.buffer.toString(this.encoding,e,r-1)}bytes(e){let r=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,r}};qM.BufferReader=Soe});var lUe=Ue(JM=>{"use strict";Object.defineProperty(JM,"__esModule",{value:!0});JM.Parser=void 0;var bi=boe(),FIt=oUe(),Aoe=1,zIt=4,sUe=Aoe+zIt,Xc=-1,woe=Buffer.allocUnsafe(0),Eoe=class{constructor(e){if(this.buffer=woe,this.bufferLength=0,this.bufferOffset=0,this.reader=new FIt.BufferReader,e?.mode==="binary")throw new Error("Binary mode not supported yet");this.mode=e?.mode||"text"}parse(e,r){this.mergeBuffer(e);let n=this.bufferOffset+this.bufferLength,i=this.bufferOffset;for(;i+sUe<=n;){let o=this.buffer[i],s=this.buffer.readUInt32BE(i+Aoe),a=Aoe+s;if(a+i<=n){let c=this.handlePacket(i+sUe,o,s,this.buffer);r(c),i+=a}else break}i===n?(this.buffer=woe,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=n-i,this.bufferOffset=i)}mergeBuffer(e){if(this.bufferLength>0){let r=this.bufferLength+e.byteLength;if(r+this.bufferOffset>this.buffer.byteLength){let i;if(r<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)i=this.buffer;else{let o=this.buffer.byteLength*2;for(;r>=o;)o*=2;i=Buffer.allocUnsafe(o)}this.buffer.copy(i,0,this.bufferOffset,this.bufferOffset+this.bufferLength),this.buffer=i,this.bufferOffset=0}e.copy(this.buffer,this.bufferOffset+this.bufferLength),this.bufferLength=r}else this.buffer=e,this.bufferOffset=0,this.bufferLength=e.byteLength}handlePacket(e,r,n,i){let{reader:o}=this;o.setBuffer(e,i);let s;switch(r){case 50:s=bi.bindComplete;break;case 49:s=bi.parseComplete;break;case 51:s=bi.closeComplete;break;case 110:s=bi.noData;break;case 115:s=bi.portalSuspended;break;case 99:s=bi.copyDone;break;case 87:s=bi.replicationStart;break;case 73:s=bi.emptyQuery;break;case 68:s=XIt(o);break;case 67:s=HIt(o);break;case 90:s=VIt(o);break;case 65:s=JIt(o);break;case 82:s=eCt(o,n);break;case 83:s=YIt(o);break;case 75:s=ZIt(o);break;case 69:s=aUe(o,"error");break;case 78:s=aUe(o,"notice");break;case 84:s=WIt(o);break;case 116:s=QIt(o);break;case 71:s=jIt(o);break;case 72:s=qIt(o);break;case 100:s=GIt(o,n);break;default:return new bi.DatabaseError("received invalid response: "+r.toString(16),n,"error")}return o.setBuffer(0,woe),s.length=n,s}};JM.Parser=Eoe;var VIt=t=>{let e=t.string(1);return new bi.ReadyForQueryMessage(Xc,e)},HIt=t=>{let e=t.cstring();return new bi.CommandCompleteMessage(Xc,e)},GIt=(t,e)=>{let r=t.bytes(e-4);return new bi.CopyDataMessage(Xc,r)},jIt=t=>cUe(t,"copyInResponse"),qIt=t=>cUe(t,"copyOutResponse"),cUe=(t,e)=>{let r=t.byte()!==0,n=t.int16(),i=new bi.CopyResponse(Xc,e,r,n);for(let o=0;o<n;o++)i.columnTypes[o]=t.int16();return i},JIt=t=>{let e=t.int32(),r=t.cstring(),n=t.cstring();return new bi.NotificationResponseMessage(Xc,e,r,n)},WIt=t=>{let e=t.int16(),r=new bi.RowDescriptionMessage(Xc,e);for(let n=0;n<e;n++)r.fields[n]=KIt(t);return r},KIt=t=>{let e=t.cstring(),r=t.uint32(),n=t.int16(),i=t.uint32(),o=t.int16(),s=t.int32(),a=t.int16()===0?"text":"binary";return new bi.Field(e,r,n,i,o,s,a)},QIt=t=>{let e=t.int16(),r=new bi.ParameterDescriptionMessage(Xc,e);for(let n=0;n<e;n++)r.dataTypeIDs[n]=t.int32();return r},XIt=t=>{let e=t.int16(),r=new Array(e);for(let n=0;n<e;n++){let i=t.int32();r[n]=i===-1?null:t.string(i)}return new bi.DataRowMessage(Xc,r)},YIt=t=>{let e=t.cstring(),r=t.cstring();return new bi.ParameterStatusMessage(Xc,e,r)},ZIt=t=>{let e=t.int32(),r=t.int32();return new bi.BackendKeyDataMessage(Xc,e,r)},eCt=(t,e)=>{let r=t.int32(),n={name:"authenticationOk",length:e};switch(r){case 0:break;case 3:n.length===8&&(n.name="authenticationCleartextPassword");break;case 5:if(n.length===12){n.name="authenticationMD5Password";let i=t.bytes(4);return new bi.AuthenticationMD5Password(Xc,i)}break;case 10:{n.name="authenticationSASL",n.mechanisms=[];let i;do i=t.cstring(),i&&n.mechanisms.push(i);while(i)}break;case 11:n.name="authenticationSASLContinue",n.data=t.string(e-8);break;case 12:n.name="authenticationSASLFinal",n.data=t.string(e-8);break;default:throw new Error("Unknown authenticationOk message type "+r)}return n},aUe=(t,e)=>{let r={},n=t.string(1);for(;n!=="\0";)r[n]=t.cstring(),n=t.string(1);let i=r.M,o=e==="notice"?new bi.NoticeMessage(Xc,i):new bi.DatabaseError(i,Xc,e);return o.severity=r.S,o.code=r.C,o.detail=r.D,o.hint=r.H,o.position=r.P,o.internalPosition=r.p,o.internalQuery=r.q,o.where=r.W,o.schema=r.s,o.table=r.t,o.column=r.c,o.dataType=r.d,o.constraint=r.n,o.file=r.F,o.line=r.L,o.routine=r.R,o}});var Toe=Ue(O0=>{"use strict";Object.defineProperty(O0,"__esModule",{value:!0});O0.DatabaseError=O0.serialize=O0.parse=void 0;var tCt=boe();Object.defineProperty(O0,"DatabaseError",{enumerable:!0,get:function(){return tCt.DatabaseError}});var rCt=iUe();Object.defineProperty(O0,"serialize",{enumerable:!0,get:function(){return rCt.serialize}});var nCt=lUe();function iCt(t,e){let r=new nCt.Parser;return t.on("data",n=>r.parse(n,e)),new Promise(n=>t.on("end",()=>n()))}O0.parse=iCt});var uUe=Ue(Roe=>{"use strict";Object.defineProperty(Roe,"__esModule",{value:!0});Roe.default={}});var pUe=Ue((rcn,dUe)=>{"use strict";var{getStream:oCt,getSecureStream:sCt}=uCt();dUe.exports={getStream:oCt,getSecureStream:sCt};function aCt(){function t(r){let n=ft("net");return new n.Socket}function e(r){return ft("tls").connect(r)}return{getStream:t,getSecureStream:e}}function cCt(){function t(r){let{CloudflareSocket:n}=uUe();return new n(r)}function e(r){return r.socket.startTls(r),r.socket}return{getStream:t,getSecureStream:e}}function lCt(){if(typeof navigator=="object"&&navigator!==null&&typeof navigator.userAgent=="string")return navigator.userAgent==="Cloudflare-Workers";if(typeof Response=="function"){let t=new Response(null,{cf:{thing:!0}});if(typeof t.cf=="object"&&t.cf!==null&&t.cf.thing)return!0}return!1}function uCt(){return lCt()?cCt():aCt()}});var Coe=Ue((ncn,fUe)=>{"use strict";var dCt=ft("events").EventEmitter,{parse:pCt,serialize:Go}=Toe(),{getStream:fCt,getSecureStream:mCt}=pUe(),hCt=Go.flush(),gCt=Go.sync(),yCt=Go.end(),Ioe=class extends dCt{constructor(e){super(),e=e||{},this.stream=e.stream||fCt(e.ssl),typeof this.stream=="function"&&(this.stream=this.stream(e)),this._keepAlive=e.keepAlive,this._keepAliveInitialDelayMillis=e.keepAliveInitialDelayMillis,this.parsedStatements={},this.ssl=e.ssl||!1,this._ending=!1,this._emitMessage=!1;let r=this;this.on("newListener",function(n){n==="message"&&(r._emitMessage=!0)})}connect(e,r){let n=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(e,r),this.stream.once("connect",function(){n._keepAlive&&n.stream.setKeepAlive(!0,n._keepAliveInitialDelayMillis),n.emit("connect")});let i=function(o){n._ending&&(o.code==="ECONNRESET"||o.code==="EPIPE")||n.emit("error",o)};if(this.stream.on("error",i),this.stream.on("close",function(){n.emit("end")}),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",function(o){switch(o.toString("utf8")){case"S":break;case"N":return n.stream.end(),n.emit("error",new Error("The server does not support SSL connections"));default:return n.stream.end(),n.emit("error",new Error("There was an error establishing an SSL connection"))}let a={socket:n.stream};n.ssl!==!0&&(Object.assign(a,n.ssl),"key"in n.ssl&&(a.key=n.ssl.key));let c=ft("net");c.isIP&&c.isIP(r)===0&&(a.servername=r);try{n.stream=mCt(a)}catch(l){return n.emit("error",l)}n.attachListeners(n.stream),n.stream.on("error",i),n.emit("sslconnect")})}attachListeners(e){pCt(e,r=>{let n=r.name==="error"?"errorMessage":r.name;this._emitMessage&&this.emit("message",r),this.emit(n,r)})}requestSsl(){this.stream.write(Go.requestSsl())}startup(e){this.stream.write(Go.startup(e))}cancel(e,r){this._send(Go.cancel(e,r))}password(e){this._send(Go.password(e))}sendSASLInitialResponseMessage(e,r){this._send(Go.sendSASLInitialResponseMessage(e,r))}sendSCRAMClientFinalMessage(e){this._send(Go.sendSCRAMClientFinalMessage(e))}_send(e){return this.stream.writable?this.stream.write(e):!1}query(e){this._send(Go.query(e))}parse(e){this._send(Go.parse(e))}bind(e){this._send(Go.bind(e))}execute(e){this._send(Go.execute(e))}flush(){this.stream.writable&&this.stream.write(hCt)}sync(){this._ending=!0,this._send(gCt)}ref(){this.stream.ref()}unref(){this.stream.unref()}end(){if(this._ending=!0,!this._connecting||!this.stream.writable){this.stream.end();return}return this.stream.write(yCt,()=>{this.stream.end()})}close(e){this._send(Go.close(e))}describe(e){this._send(Go.describe(e))}sendCopyFromChunk(e){this._send(Go.copyData(e))}endCopyFrom(){this._send(Go.copyDone())}sendCopyFail(e){this._send(Go.copyFail(e))}};fUe.exports=Ioe});var yUe=Ue((icn,gUe)=>{"use strict";var{Transform:bCt}=ft("stream"),{StringDecoder:vCt}=ft("string_decoder"),P0=Symbol("last"),WM=Symbol("decoder");function _Ct(t,e,r){let n;if(this.overflow){if(n=this[WM].write(t).split(this.matcher),n.length===1)return r();n.shift(),this.overflow=!1}else this[P0]+=this[WM].write(t),n=this[P0].split(this.matcher);this[P0]=n.pop();for(let i=0;i<n.length;i++)try{hUe(this,this.mapper(n[i]))}catch(o){return r(o)}if(this.overflow=this[P0].length>this.maxLength,this.overflow&&!this.skipOverflow){r(new Error("maximum buffer reached"));return}r()}function xCt(t){if(this[P0]+=this[WM].end(),this[P0])try{hUe(this,this.mapper(this[P0]))}catch(e){return t(e)}t()}function hUe(t,e){e!==void 0&&t.push(e)}function mUe(t){return t}function SCt(t,e,r){switch(t=t||/\r?\n/,e=e||mUe,r=r||{},arguments.length){case 1:typeof t=="function"?(e=t,t=/\r?\n/):typeof t=="object"&&!(t instanceof RegExp)&&!t[Symbol.split]&&(r=t,t=/\r?\n/);break;case 2:typeof t=="function"?(r=e,e=t,t=/\r?\n/):typeof e=="object"&&(r=e,e=mUe)}r=Object.assign({},r),r.autoDestroy=!0,r.transform=_Ct,r.flush=xCt,r.readableObjectMode=!0;let n=new bCt(r);return n[P0]="",n[WM]=new vCt("utf8"),n.matcher=t,n.mapper=e,n.maxLength=r.maxLength,n.skipOverflow=r.skipOverflow||!1,n.overflow=!1,n._destroy=function(i,o){this._writableState.errorEmitted=!1,o(i)},n}gUe.exports=SCt});var _Ue=Ue((ocn,Lm)=>{"use strict";var bUe=ft("path"),wCt=ft("stream").Stream,ACt=yUe(),vUe=ft("util"),ECt=5432,KM=process.platform==="win32",YT=process.stderr,TCt=56,RCt=7,ICt=61440,CCt=32768;function NCt(t){return(t&ICt)==CCt}var fw=["host","port","database","user","password"],Noe=fw.length,OCt=fw[Noe-1];function Ooe(){var t=YT instanceof wCt&&YT.writable===!0;if(t){var e=Array.prototype.slice.call(arguments).concat(`
`);YT.write(vUe.format.apply(vUe,e))}}Object.defineProperty(Lm.exports,"isWin",{get:function(){return KM},set:function(t){KM=t}});Lm.exports.warnTo=function(t){var e=YT;return YT=t,e};Lm.exports.getFileName=function(t){var e=t||process.env,r=e.PGPASSFILE||(KM?bUe.join(e.APPDATA||"./","postgresql","pgpass.conf"):bUe.join(e.HOME||"./",".pgpass"));return r};Lm.exports.usePgPass=function(t,e){return Object.prototype.hasOwnProperty.call(process.env,"PGPASSWORD")?!1:KM?!0:(e=e||"<unkn>",NCt(t.mode)?t.mode&(TCt|RCt)?(Ooe('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',e),!1):!0:(Ooe('WARNING: password file "%s" is not a plain file',e),!1))};var PCt=Lm.exports.match=function(t,e){return fw.slice(0,-1).reduce(function(r,n,i){return i==1&&Number(t[n]||ECt)===Number(e[n])?r&&!0:r&&(e[n]==="*"||e[n]===t[n])},!0)};Lm.exports.getPassword=function(t,e,r){var n,i=e.pipe(ACt());function o(c){var l=kCt(c);l&&DCt(l)&&PCt(t,l)&&(n=l[OCt],i.end())}var s=function(){e.destroy(),r(n)},a=function(c){e.destroy(),Ooe("WARNING: error on reading file: %s",c),r(void 0)};e.on("error",a),i.on("data",o).on("end",s).on("error",a)};var kCt=Lm.exports.parseLine=function(t){if(t.length<11||t.match(/^\s+#/))return null;for(var e="",r="",n=0,i=0,o=0,s={},a=!1,c=function(u,d,p){var f=t.substring(d,p);Object.hasOwnProperty.call(process.env,"PGPASS_NO_DEESCAPE")||(f=f.replace(/\\([:\\])/g,"$1")),s[fw[u]]=f},l=0;l<t.length-1;l+=1){if(e=t.charAt(l+1),r=t.charAt(l),a=n==Noe-1,a){c(n,i);break}l>=0&&e==":"&&r!=="\\"&&(c(n,i,l+1),i=l+2,n+=1)}return s=Object.keys(s).length===Noe?s:null,s},DCt=Lm.exports.isValidEntry=function(t){for(var e={0:function(s){return s.length>0},1:function(s){return s==="*"?!0:(s=Number(s),isFinite(s)&&s>0&&s<9007199254740992&&Math.floor(s)===s)},2:function(s){return s.length>0},3:function(s){return s.length>0},4:function(s){return s.length>0}},r=0;r<fw.length;r+=1){var n=e[r],i=t[fw[r]]||"",o=n(i);if(!o)return!1}return!0}});var SUe=Ue((acn,Poe)=>{"use strict";var scn=ft("path"),xUe=ft("fs"),QM=_Ue();Poe.exports=function(t,e){var r=QM.getFileName();xUe.stat(r,function(n,i){if(n||!QM.usePgPass(i,r))return e(void 0);var o=xUe.createReadStream(r);QM.getPassword(t,o,e)})};Poe.exports.warnTo=QM.warnTo});var RUe=Ue((ccn,TUe)=>{"use strict";var MCt=ft("events").EventEmitter,wUe=cw(),YM=ft("util"),koe=V$e(),LCt=VM(),BCt=eoe(),EUe=tUe(),$Ct=QT(),UCt=Coe(),FCt=Qie(),AUe=YM.deprecate(()=>{},"Client.activeQuery is deprecated and will be removed in a future version."),zCt=YM.deprecate(()=>{},"Client.queryQueue is deprecated and will be removed in a future version."),VCt=YM.deprecate(()=>{},"pgpass support is deprecated and will be removed in a future version. You can provide an async function as the password property to the Client/Pool constructor that returns a password instead. Within this funciton you can call the pgpass module in your own code."),HCt=YM.deprecate(()=>{},"Passing a custom Promise implementation to the Client/Pool constructor is deprecated and will be removed in a future version."),XM=class extends MCt{constructor(e){super(),this.connectionParameters=new BCt(e),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;let r=e||{};r.Promise&&HCt(),this._Promise=r.Promise||global.Promise,this._types=new LCt(r.types),this._ending=!1,this._ended=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this._activeQuery=null,this.enableChannelBinding=!!r.enableChannelBinding,this.connection=r.connection||new UCt({stream:r.stream,ssl:this.connectionParameters.ssl,keepAlive:r.keepAlive||!1,keepAliveInitialDelayMillis:r.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this._queryQueue=[],this.binary=r.binary||$Ct.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this._connectionTimeoutMillis=r.connectionTimeoutMillis||0}get activeQuery(){return AUe(),this._activeQuery}set activeQuery(e){AUe(),this._activeQuery=e}_getActiveQuery(){return this._activeQuery}_errorAllQueries(e){let r=i=>{process.nextTick(()=>{i.handleError(e,this.connection)})},n=this._getActiveQuery();n&&(r(n),this._activeQuery=null),this._queryQueue.forEach(r),this._queryQueue.length=0}_connect(e){let r=this,n=this.connection;if(this._connectionCallback=e,this._connecting||this._connected){let i=new Error("Client has already been connected. You cannot reuse a client.");process.nextTick(()=>{e(i)});return}this._connecting=!0,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{n._ending=!0,n.stream.destroy(new Error("timeout expired"))},this._connectionTimeoutMillis),this.connectionTimeoutHandle.unref&&this.connectionTimeoutHandle.unref()),this.host&&this.host.indexOf("/")===0?n.connect(this.host+"/.s.PGSQL."+this.port):n.connect(this.port,this.host),n.on("connect",function(){r.ssl?n.requestSsl():n.startup(r.getStartupConf())}),n.on("sslconnect",function(){n.startup(r.getStartupConf())}),this._attachListeners(n),n.once("end",()=>{let i=this._ending?new Error("Connection terminated"):new Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(i),this._ended=!0,this._ending||(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(i):this._handleErrorEvent(i):this._connectionError||this._handleErrorEvent(i)),process.nextTick(()=>{this.emit("end")})})}connect(e){if(e){this._connect(e);return}return new this._Promise((r,n)=>{this._connect(i=>{i?n(i):r(this)})})}_attachListeners(e){e.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),e.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),e.on("authenticationSASL",this._handleAuthSASL.bind(this)),e.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),e.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),e.on("backendKeyData",this._handleBackendKeyData.bind(this)),e.on("error",this._handleErrorEvent.bind(this)),e.on("errorMessage",this._handleErrorMessage.bind(this)),e.on("readyForQuery",this._handleReadyForQuery.bind(this)),e.on("notice",this._handleNotice.bind(this)),e.on("rowDescription",this._handleRowDescription.bind(this)),e.on("dataRow",this._handleDataRow.bind(this)),e.on("portalSuspended",this._handlePortalSuspended.bind(this)),e.on("emptyQuery",this._handleEmptyQuery.bind(this)),e.on("commandComplete",this._handleCommandComplete.bind(this)),e.on("parseComplete",this._handleParseComplete.bind(this)),e.on("copyInResponse",this._handleCopyInResponse.bind(this)),e.on("copyData",this._handleCopyData.bind(this)),e.on("notification",this._handleNotification.bind(this))}_getPassword(e){let r=this.connection;if(typeof this.password=="function")this._Promise.resolve().then(()=>this.password()).then(n=>{if(n!==void 0){if(typeof n!="string"){r.emit("error",new TypeError("Password must be a string"));return}this.connectionParameters.password=this.password=n}else this.connectionParameters.password=this.password=null;e()}).catch(n=>{r.emit("error",n)});else if(this.password!==null)e();else try{SUe()(this.connectionParameters,i=>{i!==void 0&&(VCt(),this.connectionParameters.password=this.password=i),e()})}catch(n){this.emit("error",n)}}_handleAuthCleartextPassword(e){this._getPassword(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(e){this._getPassword(async()=>{try{let r=await FCt.postgresMd5PasswordHash(this.user,this.password,e.salt);this.connection.password(r)}catch(r){this.emit("error",r)}})}_handleAuthSASL(e){this._getPassword(()=>{try{this.saslSession=koe.startSession(e.mechanisms,this.enableChannelBinding&&this.connection.stream),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)}catch(r){this.connection.emit("error",r)}})}async _handleAuthSASLContinue(e){try{await koe.continueSession(this.saslSession,this.password,e.data,this.enableChannelBinding&&this.connection.stream),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}catch(r){this.connection.emit("error",r)}}_handleAuthSASLFinal(e){try{koe.finalizeSession(this.saslSession,e.data),this.saslSession=null}catch(r){this.connection.emit("error",r)}}_handleBackendKeyData(e){this.processID=e.processID,this.secretKey=e.secretKey}_handleReadyForQuery(e){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));let r=this._getActiveQuery();this._activeQuery=null,this.readyForQuery=!0,r&&r.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(e){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(e);this.emit("error",e)}}_handleErrorEvent(e){if(this._connecting)return this._handleErrorWhileConnecting(e);this._queryable=!1,this._errorAllQueries(e),this.emit("error",e)}_handleErrorMessage(e){if(this._connecting)return this._handleErrorWhileConnecting(e);let r=this._getActiveQuery();if(!r){this._handleErrorEvent(e);return}this._activeQuery=null,r.handleError(e,this.connection)}_handleRowDescription(e){let r=this._getActiveQuery();if(r==null){let n=new Error("Received unexpected rowDescription message from backend.");this._handleErrorEvent(n);return}r.handleRowDescription(e)}_handleDataRow(e){let r=this._getActiveQuery();if(r==null){let n=new Error("Received unexpected dataRow message from backend.");this._handleErrorEvent(n);return}r.handleDataRow(e)}_handlePortalSuspended(e){let r=this._getActiveQuery();if(r==null){let n=new Error("Received unexpected portalSuspended message from backend.");this._handleErrorEvent(n);return}r.handlePortalSuspended(this.connection)}_handleEmptyQuery(e){let r=this._getActiveQuery();if(r==null){let n=new Error("Received unexpected emptyQuery message from backend.");this._handleErrorEvent(n);return}r.handleEmptyQuery(this.connection)}_handleCommandComplete(e){let r=this._getActiveQuery();if(r==null){let n=new Error("Received unexpected commandComplete message from backend.");this._handleErrorEvent(n);return}r.handleCommandComplete(e,this.connection)}_handleParseComplete(){let e=this._getActiveQuery();if(e==null){let r=new Error("Received unexpected parseComplete message from backend.");this._handleErrorEvent(r);return}e.name&&(this.connection.parsedStatements[e.name]=e.text)}_handleCopyInResponse(e){let r=this._getActiveQuery();if(r==null){let n=new Error("Received unexpected copyInResponse message from backend.");this._handleErrorEvent(n);return}r.handleCopyInResponse(this.connection)}_handleCopyData(e){let r=this._getActiveQuery();if(r==null){let n=new Error("Received unexpected copyData message from backend.");this._handleErrorEvent(n);return}r.handleCopyData(e,this.connection)}_handleNotification(e){this.emit("notification",e)}_handleNotice(e){this.emit("notice",e)}getStartupConf(){let e=this.connectionParameters,r={user:e.user,database:e.database},n=e.application_name||e.fallback_application_name;return n&&(r.application_name=n),e.replication&&(r.replication=""+e.replication),e.statement_timeout&&(r.statement_timeout=String(parseInt(e.statement_timeout,10))),e.lock_timeout&&(r.lock_timeout=String(parseInt(e.lock_timeout,10))),e.idle_in_transaction_session_timeout&&(r.idle_in_transaction_session_timeout=String(parseInt(e.idle_in_transaction_session_timeout,10))),e.options&&(r.options=e.options),r}cancel(e,r){if(e.activeQuery===r){let n=this.connection;this.host&&this.host.indexOf("/")===0?n.connect(this.host+"/.s.PGSQL."+this.port):n.connect(this.port,this.host),n.on("connect",function(){n.cancel(e.processID,e.secretKey)})}else e._queryQueue.indexOf(r)!==-1&&e._queryQueue.splice(e._queryQueue.indexOf(r),1)}setTypeParser(e,r,n){return this._types.setTypeParser(e,r,n)}getTypeParser(e,r){return this._types.getTypeParser(e,r)}escapeIdentifier(e){return wUe.escapeIdentifier(e)}escapeLiteral(e){return wUe.escapeLiteral(e)}_pulseQueryQueue(){if(this.readyForQuery===!0){this._activeQuery=this._queryQueue.shift();let e=this._getActiveQuery();if(e){this.readyForQuery=!1,this.hasExecuted=!0;let r=e.submit(this.connection);r&&process.nextTick(()=>{e.handleError(r,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this._activeQuery=null,this.emit("drain"))}}query(e,r,n){let i,o,s,a,c;if(e==null)throw new TypeError("Client was passed a null or undefined query");return typeof e.submit=="function"?(s=e.query_timeout||this.connectionParameters.query_timeout,o=i=e,typeof r=="function"&&(i.callback=i.callback||r)):(s=e.query_timeout||this.connectionParameters.query_timeout,i=new EUe(e,r,n),i.callback||(o=new this._Promise((l,u)=>{i.callback=(d,p)=>d?u(d):l(p)}).catch(l=>{throw Error.captureStackTrace(l),l}))),s&&(c=i.callback,a=setTimeout(()=>{let l=new Error("Query read timeout");process.nextTick(()=>{i.handleError(l,this.connection)}),c(l),i.callback=()=>{};let u=this._queryQueue.indexOf(i);u>-1&&this._queryQueue.splice(u,1),this._pulseQueryQueue()},s),i.callback=(l,u)=>{clearTimeout(a),c(l,u)}),this.binary&&!i.binary&&(i.binary=!0),i._result&&!i._result._types&&(i._result._types=this._types),this._queryable?this._ending?(process.nextTick(()=>{i.handleError(new Error("Client was closed and is not queryable"),this.connection)}),o):(this._queryQueue.push(i),this._pulseQueryQueue(),o):(process.nextTick(()=>{i.handleError(new Error("Client has encountered a connection error and is not queryable"),this.connection)}),o)}ref(){this.connection.ref()}unref(){this.connection.unref()}end(e){if(this._ending=!0,!this.connection._connecting||this._ended)if(e)e();else return this._Promise.resolve();if(this._getActiveQuery()||!this._queryable?this.connection.stream.destroy():this.connection.end(),e)this.connection.once("end",e);else return new this._Promise(r=>{this.connection.once("end",r)})}get queryQueue(){return zCt(),this._queryQueue}};XM.Query=EUe;TUe.exports=XM});var OUe=Ue((lcn,NUe)=>{"use strict";var GCt=ft("events").EventEmitter,IUe=function(){},CUe=(t,e)=>{let r=t.findIndex(e);return r===-1?void 0:t.splice(r,1)[0]},Doe=class{constructor(e,r,n){this.client=e,this.idleListener=r,this.timeoutId=n}},mw=class{constructor(e){this.callback=e}};function jCt(){throw new Error("Release called on client which has already been released to the pool.")}function ZM(t,e){if(e)return{callback:e,result:void 0};let r,n,i=function(s,a){s?r(s):n(a)},o=new t(function(s,a){n=s,r=a}).catch(s=>{throw Error.captureStackTrace(s),s});return{callback:i,result:o}}function qCt(t,e){return function r(n){n.client=e,e.removeListener("error",r),e.on("error",()=>{t.log("additional client error after disconnection due to error",n)}),t._remove(e),t.emit("error",n,e)}}var Moe=class extends GCt{constructor(e,r){super(),this.options=Object.assign({},e),e!=null&&"password"in e&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:e.password}),e!=null&&e.ssl&&e.ssl.key&&Object.defineProperty(this.options.ssl,"key",{enumerable:!1}),this.options.max=this.options.max||this.options.poolSize||10,this.options.min=this.options.min||0,this.options.maxUses=this.options.maxUses||1/0,this.options.allowExitOnIdle=this.options.allowExitOnIdle||!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,this.log=this.options.log||function(){},this.Client=this.options.Client||r||Loe().Client,this.Promise=this.options.Promise||global.Promise,typeof this.options.idleTimeoutMillis>"u"&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_isAboveMin(){return this._clients.length>this.options.min}_pulseQueue(){if(this.log("pulse queue"),this.ended){this.log("pulse queue ended");return}if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(r=>{this._remove(r.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length){this.log("no queued requests");return}if(!this._idle.length&&this._isFull())return;let e=this._pendingQueue.shift();if(this._idle.length){let r=this._idle.pop();clearTimeout(r.timeoutId);let n=r.client;n.ref&&n.ref();let i=r.idleListener;return this._acquireClient(n,e,i,!1)}if(!this._isFull())return this.newClient(e);throw new Error("unexpected condition")}_remove(e,r){let n=CUe(this._idle,o=>o.client===e);n!==void 0&&clearTimeout(n.timeoutId),this._clients=this._clients.filter(o=>o!==e);let i=this;e.end(()=>{i.emit("remove",e),typeof r=="function"&&r()})}connect(e){if(this.ending){let i=new Error("Cannot use a pool after calling end on the pool");return e?e(i):this.Promise.reject(i)}let r=ZM(this.Promise,e),n=r.result;if(this._isFull()||this._idle.length){if(this._idle.length&&process.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new mw(r.callback)),n;let i=(a,c,l)=>{clearTimeout(s),r.callback(a,c,l)},o=new mw(i),s=setTimeout(()=>{CUe(this._pendingQueue,a=>a.callback===i),o.timedOut=!0,r.callback(new Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return s.unref&&s.unref(),this._pendingQueue.push(o),n}return this.newClient(new mw(r.callback)),n}newClient(e){let r=new this.Client(this.options);this._clients.push(r);let n=qCt(this,r);this.log("checking client timeout");let i,o=!1;this.options.connectionTimeoutMillis&&(i=setTimeout(()=>{this.log("ending client due to timeout"),o=!0,r.connection?r.connection.stream.destroy():r.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),r.connect(s=>{if(i&&clearTimeout(i),r.on("error",n),s)this.log("client failed to connect",s),this._clients=this._clients.filter(a=>a!==r),o&&(s=new Error("Connection terminated due to connection timeout",{cause:s})),this._pulseQueue(),e.timedOut||e.callback(s,void 0,IUe);else{if(this.log("new client connected"),this.options.maxLifetimeSeconds!==0){let a=setTimeout(()=>{this.log("ending client due to expired lifetime"),this._expired.add(r),this._idle.findIndex(l=>l.client===r)!==-1&&this._acquireClient(r,new mw((l,u,d)=>d()),n,!1)},this.options.maxLifetimeSeconds*1e3);a.unref(),r.once("end",()=>clearTimeout(a))}return this._acquireClient(r,e,n,!0)}})}_acquireClient(e,r,n,i){i&&this.emit("connect",e),this.emit("acquire",e),e.release=this._releaseOnce(e,n),e.removeListener("error",n),r.timedOut?i&&this.options.verify?this.options.verify(e,e.release):e.release():i&&this.options.verify?this.options.verify(e,o=>{if(o)return e.release(o),r.callback(o,void 0,IUe);r.callback(void 0,e,e.release)}):r.callback(void 0,e,e.release)}_releaseOnce(e,r){let n=!1;return i=>{n&&jCt(),n=!0,this._release(e,r,i)}}_release(e,r,n){if(e.on("error",r),e._poolUseCount=(e._poolUseCount||0)+1,this.emit("release",n,e),n||this.ending||!e._queryable||e._ending||e._poolUseCount>=this.options.maxUses)return e._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(e,this._pulseQueue.bind(this));if(this._expired.has(e))return this.log("remove expired client"),this._expired.delete(e),this._remove(e,this._pulseQueue.bind(this));let o;this.options.idleTimeoutMillis&&this._isAboveMin()&&(o=setTimeout(()=>{this._isAboveMin()&&(this.log("remove idle client"),this._remove(e,this._pulseQueue.bind(this)))},this.options.idleTimeoutMillis),this.options.allowExitOnIdle&&o.unref()),this.options.allowExitOnIdle&&e.unref(),this._idle.push(new Doe(e,r,o)),this._pulseQueue()}query(e,r,n){if(typeof e=="function"){let o=ZM(this.Promise,e);return setImmediate(function(){return o.callback(new Error("Passing a function as the first parameter to pool.query is not supported"))}),o.result}typeof r=="function"&&(n=r,r=void 0);let i=ZM(this.Promise,n);return n=i.callback,this.connect((o,s)=>{if(o)return n(o);let a=!1,c=l=>{a||(a=!0,s.release(l),n(l))};s.once("error",c),this.log("dispatching query");try{s.query(e,r,(l,u)=>{if(this.log("query dispatched"),s.removeListener("error",c),!a)return a=!0,s.release(l),l?n(l):n(void 0,u)})}catch(l){return s.release(l),n(l)}}),i.result}end(e){if(this.log("ending"),this.ending){let n=new Error("Called end on pool more than once");return e?e(n):this.Promise.reject(n)}this.ending=!0;let r=ZM(this.Promise,e);return this._endCallback=r.callback,this._pulseQueue(),r.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get expiredCount(){return this._clients.reduce((e,r)=>e+(this._expired.has(r)?1:0),0)}get totalCount(){return this._clients.length}};NUe.exports=Moe});var DUe=Ue((ucn,kUe)=>{"use strict";var PUe=ft("events").EventEmitter,JCt=ft("util"),Boe=cw(),hw=kUe.exports=function(t,e,r){PUe.call(this),t=Boe.normalizeQueryConfig(t,e,r),this.text=t.text,this.values=t.values,this.name=t.name,this.queryMode=t.queryMode,this.callback=t.callback,this.state="new",this._arrayMode=t.rowMode==="array",this._emitRowEvents=!1,this.on("newListener",function(n){n==="row"&&(this._emitRowEvents=!0)}.bind(this))};JCt.inherits(hw,PUe);var WCt={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};hw.prototype.handleError=function(t){let e=this.native.pq.resultErrorFields();if(e)for(let r in e){let n=WCt[r]||r;t[n]=e[r]}this.callback?this.callback(t):this.emit("error",t),this.state="error"};hw.prototype.then=function(t,e){return this._getPromise().then(t,e)};hw.prototype.catch=function(t){return this._getPromise().catch(t)};hw.prototype._getPromise=function(){return this._promise?this._promise:(this._promise=new Promise(function(t,e){this._once("end",t),this._once("error",e)}.bind(this)),this._promise)};hw.prototype.submit=function(t){this.state="running";let e=this;this.native=t.native,t.native.arrayMode=this._arrayMode;let r=function(n,i,o){if(t.native.arrayMode=!1,setImmediate(function(){e.emit("_done")}),n)return e.handleError(n);e._emitRowEvents&&(o.length>1?i.forEach((s,a)=>{s.forEach(c=>{e.emit("row",c,o[a])})}):i.forEach(function(s){e.emit("row",s,o)})),e.state="end",e.emit("end",o),e.callback&&e.callback(null,o)};if(process.domain&&(r=process.domain.bind(r)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));let n=(this.values||[]).map(Boe.prepareValue);if(t.namedQueries[this.name]){if(this.text&&t.namedQueries[this.name]!==this.text){let i=new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);return r(i)}return t.native.execute(this.name,n,r)}return t.native.prepare(this.name,this.text,n.length,function(i){return i?r(i):(t.namedQueries[e.name]=e.text,e.native.execute(e.name,n,r))})}else if(this.values){if(!Array.isArray(this.values)){let i=new Error("Query values must be an array");return r(i)}let n=this.values.map(Boe.prepareValue);t.native.query(this.text,n,r)}else this.queryMode==="extended"?t.native.query(this.text,[],r):t.native.query(this.text,r)}});var UUe=Ue((dcn,$Ue)=>{"use strict";var MUe;try{MUe=ft("pg-native")}catch(t){throw t}var KCt=VM(),LUe=ft("events").EventEmitter,QCt=ft("util"),XCt=eoe(),BUe=DUe(),hc=$Ue.exports=function(t){LUe.call(this),t=t||{},this._Promise=t.Promise||global.Promise,this._types=new KCt(t.types),this.native=new MUe({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;let e=this.connectionParameters=new XCt(t);t.nativeConnectionString&&(e.nativeConnectionString=t.nativeConnectionString),this.user=e.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:e.password}),this.database=e.database,this.host=e.host,this.port=e.port,this.namedQueries={}};hc.Query=BUe;QCt.inherits(hc,LUe);hc.prototype._errorAllQueries=function(t){let e=r=>{process.nextTick(()=>{r.native=this.native,r.handleError(t)})};this._hasActiveQuery()&&(e(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(e),this._queryQueue.length=0};hc.prototype._connect=function(t){let e=this;if(this._connecting){process.nextTick(()=>t(new Error("Client has already been connected. You cannot reuse a client.")));return}this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(r,n){if(e.connectionParameters.nativeConnectionString&&(n=e.connectionParameters.nativeConnectionString),r)return t(r);e.native.connect(n,function(i){if(i)return e.native.end(),t(i);e._connected=!0,e.native.on("error",function(o){e._queryable=!1,e._errorAllQueries(o),e.emit("error",o)}),e.native.on("notification",function(o){e.emit("notification",{channel:o.relname,payload:o.extra})}),e.emit("connect"),e._pulseQueryQueue(!0),t(null,this)})})};hc.prototype.connect=function(t){if(t){this._connect(t);return}return new this._Promise((e,r)=>{this._connect(n=>{n?r(n):e(this)})})};hc.prototype.query=function(t,e,r){let n,i,o,s,a;if(t==null)throw new TypeError("Client was passed a null or undefined query");if(typeof t.submit=="function")o=t.query_timeout||this.connectionParameters.query_timeout,i=n=t,typeof e=="function"&&(t.callback=e);else if(o=t.query_timeout||this.connectionParameters.query_timeout,n=new BUe(t,e,r),!n.callback){let c,l;i=new this._Promise((u,d)=>{c=u,l=d}).catch(u=>{throw Error.captureStackTrace(u),u}),n.callback=(u,d)=>u?l(u):c(d)}return o&&(a=n.callback,s=setTimeout(()=>{let c=new Error("Query read timeout");process.nextTick(()=>{n.handleError(c,this.connection)}),a(c),n.callback=()=>{};let l=this._queryQueue.indexOf(n);l>-1&&this._queryQueue.splice(l,1),this._pulseQueryQueue()},o),n.callback=(c,l)=>{clearTimeout(s),a(c,l)}),this._queryable?this._ending?(n.native=this.native,process.nextTick(()=>{n.handleError(new Error("Client was closed and is not queryable"))}),i):(this._queryQueue.push(n),this._pulseQueryQueue(),i):(n.native=this.native,process.nextTick(()=>{n.handleError(new Error("Client has encountered a connection error and is not queryable"))}),i)};hc.prototype.end=function(t){let e=this;this._ending=!0,this._connected||this.once("connect",this.end.bind(this,t));let r;return t||(r=new this._Promise(function(n,i){t=o=>o?i(o):n()})),this.native.end(function(){e._errorAllQueries(new Error("Connection terminated")),process.nextTick(()=>{e.emit("end"),t&&t()})}),r};hc.prototype._hasActiveQuery=function(){return this._activeQuery&&this._activeQuery.state!=="error"&&this._activeQuery.state!=="end"};hc.prototype._pulseQueryQueue=function(t){if(!this._connected||this._hasActiveQuery())return;let e=this._queryQueue.shift();if(!e){t||this.emit("drain");return}this._activeQuery=e,e.submit(this);let r=this;e.once("_done",function(){r._pulseQueryQueue()})};hc.prototype.cancel=function(t){this._activeQuery===t?this.native.cancel(function(){}):this._queryQueue.indexOf(t)!==-1&&this._queryQueue.splice(this._queryQueue.indexOf(t),1)};hc.prototype.ref=function(){};hc.prototype.unref=function(){};hc.prototype.setTypeParser=function(t,e,r){return this._types.setTypeParser(t,e,r)};hc.prototype.getTypeParser=function(t,e){return this._types.getTypeParser(t,e)}});var $oe=Ue((pcn,FUe)=>{"use strict";FUe.exports=UUe()});var Loe=Ue((mcn,eL)=>{"use strict";var YCt=RUe(),ZCt=QT(),e9t=Coe(),t9t=roe(),r9t=cw(),n9t=OUe(),i9t=VM(),{DatabaseError:o9t}=Toe(),{escapeIdentifier:s9t,escapeLiteral:a9t}=cw(),c9t=t=>class extends n9t{constructor(r){super(r,t)}},zUe=function(t){this.defaults=ZCt,this.Client=t,this.Query=this.Client.Query,this.Pool=c9t(this.Client),this._pools=[],this.Connection=e9t,this.types=KT(),this.DatabaseError=o9t,this.TypeOverrides=i9t,this.escapeIdentifier=s9t,this.escapeLiteral=a9t,this.Result=t9t,this.utils=r9t},VUe=YCt,HUe=!1;try{HUe=!!process.env.NODE_PG_FORCE_NATIVE}catch{}HUe&&(VUe=$oe());eL.exports=new zUe(VUe);Object.defineProperty(eL.exports,"native",{configurable:!0,enumerable:!1,get(){let t=null;try{t=new zUe($oe())}catch(e){if(e.code!=="MODULE_NOT_FOUND")throw e}return Object.defineProperty(eL.exports,"native",{value:t}),t}})});var GUe={};wr(GUe,{Client:()=>l9t,Connection:()=>d9t,DatabaseError:()=>m9t,Pool:()=>u9t,Query:()=>f9t,Result:()=>y9t,TypeOverrides:()=>b9t,default:()=>ev,defaults:()=>v9t,escapeIdentifier:()=>h9t,escapeLiteral:()=>g9t,types:()=>p9t});var Yc,l9t,u9t,d9t,p9t,f9t,m9t,h9t,g9t,y9t,b9t,v9t,ev,tL=y(()=>{"use strict";Yc=ti(Loe(),1),l9t=Yc.default.Client,u9t=Yc.default.Pool,d9t=Yc.default.Connection,p9t=Yc.default.types,f9t=Yc.default.Query,m9t=Yc.default.DatabaseError,h9t=Yc.default.escapeIdentifier,g9t=Yc.default.escapeLiteral,y9t=Yc.default.Result,b9t=Yc.default.TypeOverrides,v9t=Yc.default.defaults,ev=Yc.default});var _9t,Xp,rL,ZT,nL,Uoe=y(()=>{"use strict";tL();Nie();rt();MT();Mr();SM();Ci();Im();pn();({Pool:_9t,types:Xp}=ev),rL=class extends YS{constructor(e,r,n,i,o,s,a,c,l,u,d){super({sql:r,params:n},o,s,a),this.client=e,this.queryString=r,this.params=n,this.logger=i,this.fields=c,this._isResponseInArrayMode=u,this.customResultMapper=d,this.rawQueryConfig={name:l,text:r,types:{getTypeParser:(p,f)=>p===Xp.builtins.TIMESTAMPTZ?h=>h:p===Xp.builtins.TIMESTAMP?h=>h:p===Xp.builtins.DATE?h=>h:p===Xp.builtins.INTERVAL?h=>h:p===1231?h=>h:p===1115?h=>h:p===1185?h=>h:p===1187?h=>h:p===1182?h=>h:Xp.getTypeParser(p,f)}},this.queryConfig={name:l,text:r,rowMode:"array",types:{getTypeParser:(p,f)=>p===Xp.builtins.TIMESTAMPTZ?h=>h:p===Xp.builtins.TIMESTAMP?h=>h:p===Xp.builtins.DATE?h=>h:p===Xp.builtins.INTERVAL?h=>h:p===1231?h=>h:p===1115?h=>h:p===1185?h=>h:p===1187?h=>h:p===1182?h=>h:Xp.getTypeParser(p,f)}}}static[ee]="NodePgPreparedQuery";rawQueryConfig;queryConfig;async execute(e={}){return On.startActiveSpan("drizzle.execute",async()=>{let r=jb(this.params,e);this.logger.logQuery(this.rawQueryConfig.text,r);let{fields:n,rawQueryConfig:i,client:o,queryConfig:s,joinsNotNullableMap:a,customResultMapper:c}=this;if(!n&&!c)return On.startActiveSpan("drizzle.driver.execute",async u=>(u?.setAttributes({"drizzle.query.name":i.name,"drizzle.query.text":i.text,"drizzle.query.params":JSON.stringify(r)}),this.queryWithCache(i.text,r,async()=>await o.query(i,r))));let l=await On.startActiveSpan("drizzle.driver.execute",u=>(u?.setAttributes({"drizzle.query.name":s.name,"drizzle.query.text":s.text,"drizzle.query.params":JSON.stringify(r)}),this.queryWithCache(s.text,r,async()=>await o.query(s,r))));return On.startActiveSpan("drizzle.mapResponse",()=>c?c(l.rows):l.rows.map(u=>XD(n,u,a)))})}all(e={}){return On.startActiveSpan("drizzle.execute",()=>{let r=jb(this.params,e);return this.logger.logQuery(this.rawQueryConfig.text,r),On.startActiveSpan("drizzle.driver.execute",n=>(n?.setAttributes({"drizzle.query.name":this.rawQueryConfig.name,"drizzle.query.text":this.rawQueryConfig.text,"drizzle.query.params":JSON.stringify(r)}),this.queryWithCache(this.rawQueryConfig.text,r,async()=>this.client.query(this.rawQueryConfig,r)).then(i=>i.rows)))})}isResponseInArrayMode(){return this._isResponseInArrayMode}},ZT=class t extends ZS{constructor(e,r,n,i={}){super(r),this.client=e,this.schema=n,this.options=i,this.logger=i.logger??new rw,this.cache=i.cache??new C0}static[ee]="NodePgSession";logger;cache;prepareQuery(e,r,n,i,o,s,a){return new rL(this.client,e.sql,e.params,this.logger,this.cache,s,a,r,n,i,o)}async transaction(e,r){let n=this.client instanceof _9t||Object.getPrototypeOf(this.client).constructor.name.includes("Pool"),i=n?new t(await this.client.connect(),this.dialect,this.schema,this.options):this,o=new nL(this.dialect,i,this.schema);await o.execute(re`begin${r?re` ${o.getTransactionConfigSQL(r)}`:void 0}`);try{let s=await e(o);return await o.execute(re`commit`),s}catch(s){throw await o.execute(re`rollback`),s}finally{n&&i.client.release()}}async count(e){let r=await this.execute(e);return Number(r.rows[0].count)}},nL=class t extends ew{static[ee]="NodePgTransaction";async transaction(e){let r=`sp${this.nestedIndex+1}`,n=new t(this.dialect,this.session,this.schema,this.nestedIndex+1);await n.execute(re.raw(`savepoint ${r}`));try{let i=await e(n);return await n.execute(re.raw(`release savepoint ${r}`)),i}catch(i){throw await n.execute(re.raw(`rollback to savepoint ${r}`)),i}}}});function eR(t,e={}){let r=new Kp({casing:e.casing}),n;e.logger===!0?n=new tw:e.logger!==!1&&(n=e.logger);let i;if(e.schema){let c=cM(e.schema,lM);i={fullSchema:e.schema,schema:c.tables,tableNamesMap:c.tableNamesMap}}let s=new iL(t,r,{logger:n,cache:e.cache}).createSession(i),a=new oL(r,s,i);return a.$client=t,a.$cache=e.cache,a.$cache&&(a.$cache.invalidate=e.cache?.onMutate),a}function Foe(...t){if(typeof t[0]=="string"){let e=new ev.Pool({connectionString:t[0]});return eR(e,t[1])}if(ZD(t[0])){let{connection:e,client:r,...n}=t[0];if(r)return eR(r,n);let i=typeof e=="string"?new ev.Pool({connectionString:e}):new ev.Pool(e);return eR(i,n)}return eR(t[0],t[1])}var iL,oL,jUe=y(()=>{"use strict";tL();rt();MT();kT();RT();TT();pn();Uoe();iL=class{constructor(e,r,n={}){this.client=e,this.dialect=r,this.options=n}static[ee]="NodePgDriver";createSession(e){return new ZT(this.client,this.dialect,e,{logger:this.options.logger,cache:this.options.cache})}},oL=class extends I0{static[ee]="NodePgDatabase"};(t=>{function e(r){return eR({},r)}t.mock=e})(Foe||(Foe={}))});var qUe={};wr(qUe,{NodePgDatabase:()=>oL,NodePgDriver:()=>iL,NodePgPreparedQuery:()=>rL,NodePgSession:()=>ZT,NodePgTransaction:()=>nL,drizzle:()=>Foe});var JUe=y(()=>{"use strict";jUe();Uoe()});function JR(t){return GOt.includes(t)}var hB,GOt,gB=y(()=>{"use strict";hB="preferred",GOt=["disabled","preferred","required"]});var rVe,nVe=y(()=>{"use strict";Ds();gB();rVe=t=>{let{accountIdEndpointMode:e}=t,r=cn(e??hB);return Object.assign(t,{accountIdEndpointMode:async()=>{let n=await r();if(!JR(n))throw new Error(`Invalid value for accountIdEndpointMode: ${n}. Valid values are: "required", "preferred", "disabled".`);return n}})}});var iVe,oVe,jOt,qOt,sVe,aVe=y(()=>{"use strict";gB();iVe="Invalid AccountIdEndpointMode value",oVe=t=>{throw new Error(t)},jOt="AWS_ACCOUNT_ID_ENDPOINT_MODE",qOt="account_id_endpoint_mode",sVe={environmentVariableSelector:t=>{let e=t[jOt];return e&&!JR(e)&&oVe(iVe),e},configFileSelector:t=>{let e=t[qOt];return e&&!JR(e)&&oVe(iVe),e},default:hB}});var aae=y(()=>{"use strict";nVe();gB();aVe()});var cVe,cae,lVe,uVe,dVe=y(()=>{"use strict";cVe=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"],cae="endpoint_discovery_enabled",lVe=t=>["false","0"].indexOf(t)>=0,uVe={environmentVariableSelector:t=>{for(let e=0;e<cVe.length;e++){let r=cVe[e];if(r in t){let n=t[r];if(n==="")throw Error(`Environment variable ${r} can't be empty of undefined, got "${n}"`);return!lVe(n)}}},configFileSelector:t=>{if(cae in t){let e=t[cae];if(e===void 0)throw Error(`Shared config entry ${cae} can't be undefined, got "${e}"`);return!lVe(e)}},default:void 0}});var pVe=y(()=>{"use strict"});var fVe=y(()=>{"use strict"});var hVe=Ue((Pbn,mVe)=>{"use strict";function Zm(t){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:t}),this.done=!1}Zm.prototype.next=function(){if(this.done)return{done:!0};var t=this._next();return t.done&&(this.done=!0),t};typeof Symbol<"u"&&(Zm.prototype[Symbol.iterator]=function(){return this});Zm.of=function(){var t=arguments,e=t.length,r=0;return new Zm(function(){return r>=e?{done:!0}:{done:!1,value:t[r++]}})};Zm.empty=function(){var t=new Zm(null);return t.done=!0,t};Zm.is=function(t){return t instanceof Zm?!0:typeof t=="object"&&t!==null&&typeof t.next=="function"};mVe.exports=Zm});var lae=Ue((kbn,vVe)=>{"use strict";var gVe=typeof ArrayBuffer<"u",yVe=typeof Symbol<"u";function bVe(t,e){var r,n,i,o,s;if(!t)throw new Error("obliterator/forEach: invalid iterable.");if(typeof e!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(t)||gVe&&ArrayBuffer.isView(t)||typeof t=="string"||t.toString()==="[object Arguments]"){for(i=0,o=t.length;i<o;i++)e(t[i],i);return}if(typeof t.forEach=="function"){t.forEach(e);return}if(yVe&&Symbol.iterator in t&&typeof t.next!="function"&&(t=t[Symbol.iterator]()),typeof t.next=="function"){for(r=t,i=0;s=r.next(),s.done!==!0;)e(s.value,i),i++;return}for(n in t)t.hasOwnProperty(n)&&e(t[n],n)}bVe.forEachWithNullKeys=function(t,e){var r,n,i,o,s;if(!t)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if(typeof e!="function")throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(t)||gVe&&ArrayBuffer.isView(t)||typeof t=="string"||t.toString()==="[object Arguments]"){for(i=0,o=t.length;i<o;i++)e(t[i],null);return}if(t instanceof Set){t.forEach(function(a){e(a,null)});return}if(typeof t.forEach=="function"){t.forEach(e);return}if(yVe&&Symbol.iterator in t&&typeof t.next!="function"&&(t=t[Symbol.iterator]()),typeof t.next=="function"){for(r=t,i=0;s=r.next(),s.done!==!0;)e(s.value,null),i++;return}for(n in t)t.hasOwnProperty(n)&&e(t[n],n)};vVe.exports=bVe});var uae=Ue(af=>{"use strict";var JOt=Math.pow(2,8)-1,WOt=Math.pow(2,16)-1,KOt=Math.pow(2,32)-1,QOt=Math.pow(2,7)-1,XOt=Math.pow(2,15)-1,YOt=Math.pow(2,31)-1;af.getPointerArray=function(t){var e=t-1;return e<=JOt?Uint8Array:e<=WOt?Uint16Array:e<=KOt?Uint32Array:Float64Array};af.getSignedPointerArray=function(t){var e=t-1;return e<=QOt?Int8Array:e<=XOt?Int16Array:e<=YOt?Int32Array:Float64Array};af.getNumberType=function(t){return t===(t|0)?Math.sign(t)===-1?t<=127&&t>=-128?Int8Array:t<=32767&&t>=-32768?Int16Array:Int32Array:t<=255?Uint8Array:t<=65535?Uint16Array:Uint32Array:Float64Array};var ZOt={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};af.getMinimalRepresentation=function(t,e){var r=null,n=0,i,o,s,a,c;for(a=0,c=t.length;a<c;a++)s=e?e(t[a]):t[a],o=af.getNumberType(s),i=ZOt[o.name],i>n&&(n=i,r=o);return r};af.isTypedArray=function(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(t)};af.concat=function(){var t=0,e,r,n;for(e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=new arguments[0].constructor(t);for(e=0,r=0;e<n;e++)i.set(arguments[e],r),r+=arguments[e].length;return i};af.indices=function(t){for(var e=af.getPointerArray(t),r=new e(t),n=0;n<t;n++)r[n]=n;return r}});var SVe=Ue(WR=>{"use strict";var _Ve=lae(),xVe=uae();function e7t(t){return Array.isArray(t)||xVe.isTypedArray(t)}function dae(t){if(typeof t.length=="number")return t.length;if(typeof t.size=="number")return t.size}function t7t(t){var e=dae(t),r=typeof e=="number"?new Array(e):[],n=0;return _Ve(t,function(i){r[n++]=i}),r}function r7t(t){var e=dae(t),r=typeof e=="number"?xVe.getPointerArray(e):Array,n=typeof e=="number"?new Array(e):[],i=typeof e=="number"?new r(e):[],o=0;return _Ve(t,function(s){n[o]=s,i[o]=o++}),[n,i]}WR.isArrayLike=e7t;WR.guessLength=dae;WR.toArray=t7t;WR.toArrayWithIndices=r7t});var AVe=Ue((Lbn,wVe)=>{"use strict";var pae=hVe(),n7t=lae(),i7t=uae(),o7t=SVe();function yo(t,e,r){if(arguments.length<2&&(r=t,t=null,e=null),this.capacity=r,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");var n=i7t.getPointerArray(r);this.forward=new n(r),this.backward=new n(r),this.K=typeof t=="function"?new t(r):new Array(r),this.V=typeof e=="function"?new e(r):new Array(r),this.size=0,this.head=0,this.tail=0,this.items={}}yo.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}};yo.prototype.splayOnTop=function(t){var e=this.head;if(this.head===t)return this;var r=this.backward[t],n=this.forward[t];return this.tail===t?this.tail=r:this.backward[n]=r,this.forward[r]=n,this.backward[e]=t,this.head=t,this.forward[t]=e,this};yo.prototype.set=function(t,e){var r=this.items[t];if(typeof r<"u"){this.splayOnTop(r),this.V[r]=e;return}this.size<this.capacity?r=this.size++:(r=this.tail,this.tail=this.backward[r],delete this.items[this.K[r]]),this.items[t]=r,this.K[r]=t,this.V[r]=e,this.forward[r]=this.head,this.backward[this.head]=r,this.head=r};yo.prototype.setpop=function(t,e){var r=null,n=null,i=this.items[t];return typeof i<"u"?(this.splayOnTop(i),r=this.V[i],this.V[i]=e,{evicted:!1,key:t,value:r}):(this.size<this.capacity?i=this.size++:(i=this.tail,this.tail=this.backward[i],r=this.V[i],n=this.K[i],delete this.items[this.K[i]]),this.items[t]=i,this.K[i]=t,this.V[i]=e,this.forward[i]=this.head,this.backward[this.head]=i,this.head=i,n?{evicted:!0,key:n,value:r}:null)};yo.prototype.has=function(t){return t in this.items};yo.prototype.get=function(t){var e=this.items[t];if(!(typeof e>"u"))return this.splayOnTop(e),this.V[e]};yo.prototype.peek=function(t){var e=this.items[t];if(!(typeof e>"u"))return this.V[e]};yo.prototype.forEach=function(t,e){e=arguments.length>1?e:this;for(var r=0,n=this.size,i=this.head,o=this.K,s=this.V,a=this.forward;r<n;)t.call(e,s[i],o[i],this),i=a[i],r++};yo.prototype.keys=function(){var t=0,e=this.size,r=this.head,n=this.K,i=this.forward;return new pae(function(){if(t>=e)return{done:!0};var o=n[r];return t++,t<e&&(r=i[r]),{done:!1,value:o}})};yo.prototype.values=function(){var t=0,e=this.size,r=this.head,n=this.V,i=this.forward;return new pae(function(){if(t>=e)return{done:!0};var o=n[r];return t++,t<e&&(r=i[r]),{done:!1,value:o}})};yo.prototype.entries=function(){var t=0,e=this.size,r=this.head,n=this.K,i=this.V,o=this.forward;return new pae(function(){if(t>=e)return{done:!0};var s=n[r],a=i[r];return t++,t<e&&(r=o[r]),{done:!1,value:[s,a]}})};typeof Symbol<"u"&&(yo.prototype[Symbol.iterator]=yo.prototype.entries);yo.prototype.inspect=function(){for(var t=new Map,e=this.entries(),r;r=e.next(),!r.done;)t.set(r.value[0],r.value[1]);return Object.defineProperty(t,"constructor",{value:yo,enumerable:!1}),t};typeof Symbol<"u"&&(yo.prototype[Symbol.for("nodejs.util.inspect.custom")]=yo.prototype.inspect);yo.from=function(t,e,r,n){if(arguments.length<2){if(n=o7t.guessLength(t),typeof n!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(n=e,e=null,r=null);var i=new yo(e,r,n);return n7t(t,function(o,s){i.set(s,o)}),i};wVe.exports=yo});var EVe,yB,TVe=y(()=>{"use strict";EVe=ti(AVe()),yB=class{cache;constructor(e){this.cache=new EVe.default(e)}getEndpoint(e){let r=this.get(e);if(!r||r.length===0)return;let n=r.map(i=>i.Address);return n[Math.floor(Math.random()*n.length)]}get(e){if(!this.has(e))return;let r=this.cache.get(e);if(!r)return;let n=Date.now(),i=r.filter(o=>n<o.Expires);if(i.length===0){this.delete(e);return}return i}set(e,r){let n=Date.now();this.cache.set(e,r.map(({Address:i,CachePeriodInMinutes:o})=>({Address:i,Expires:n+o*60*1e3})))}delete(e){this.cache.set(e,[])}has(e){if(!this.cache.has(e))return!1;let r=this.cache.peek(e);return r?r.length>0:!1}clear(){this.cache.clear()}}});var RVe=y(()=>{"use strict";fVe();TVe()});var IVe,CVe=y(()=>{"use strict";RVe();IVe=(t,{endpointDiscoveryCommandCtor:e})=>{let{endpointCacheSize:r,endpointDiscoveryEnabled:n,endpointDiscoveryEnabledProvider:i}=t;return Object.assign(t,{endpointDiscoveryCommandCtor:e,endpointCache:new yB(r??1e3),endpointDiscoveryEnabled:n!==void 0?()=>Promise.resolve(n):i,isClientEndpointDiscoveryEnabled:n!==void 0})}});var fae=y(()=>{"use strict";dVe();pVe();CVe()});function s7t(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"dynamodb",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}var NVe,OVe,PVe,mae=y(()=>{"use strict";uo();Ds();NVe=async(t,e,r)=>({operation:Ri(e).operation,region:await cn(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});OVe=t=>{let e=[];switch(t.operation){default:e.push(s7t(t))}return e},PVe=t=>{let e=Jl(t);return Object.assign(e,{authSchemePreference:cn(t.authSchemePreference??[])})}});var kVe,Pe,Pt=y(()=>{"use strict";kVe=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"dynamodb"}),Pe={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},AccountId:{type:"builtInParams",name:"accountId"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"},AccountIdEndpointMode:{type:"builtInParams",name:"accountIdEndpointMode"}}});var pr,bB=y(()=>{"use strict";Ae();pr=class t extends tc{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var KR,QR,XR,YR,ZR,e8,t8,r8,n8,i8,o8,s8,a8,c8,l8,u8,d8,p8,f8,m8,h8,g8,y8,b8,v8,_8,x8,S8,w8,A8,E8,T8,R8,I8,C8,hae=y(()=>{"use strict";bB();KR=class t extends pr{name="BackupInUseException";$fault="client";constructor(e){super({name:"BackupInUseException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},QR=class t extends pr{name="BackupNotFoundException";$fault="client";constructor(e){super({name:"BackupNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},XR=class t extends pr{name="InternalServerError";$fault="server";constructor(e){super({name:"InternalServerError",$fault:"server",...e}),Object.setPrototypeOf(this,t.prototype)}},YR=class t extends pr{name="RequestLimitExceeded";$fault="client";ThrottlingReasons;constructor(e){super({name:"RequestLimitExceeded",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.ThrottlingReasons=e.ThrottlingReasons}},ZR=class t extends pr{name="ThrottlingException";$fault="client";throttlingReasons;constructor(e){super({name:"ThrottlingException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.throttlingReasons=e.throttlingReasons}},e8=class t extends pr{name="InvalidEndpointException";$fault="client";Message;constructor(e){super({name:"InvalidEndpointException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},t8=class t extends pr{name="ProvisionedThroughputExceededException";$fault="client";ThrottlingReasons;constructor(e){super({name:"ProvisionedThroughputExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.ThrottlingReasons=e.ThrottlingReasons}},r8=class t extends pr{name="ResourceNotFoundException";$fault="client";constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},n8=class t extends pr{name="ItemCollectionSizeLimitExceededException";$fault="client";constructor(e){super({name:"ItemCollectionSizeLimitExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},i8=class t extends pr{name="ReplicatedWriteConflictException";$fault="client";$retryable={};constructor(e){super({name:"ReplicatedWriteConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},o8=class t extends pr{name="ContinuousBackupsUnavailableException";$fault="client";constructor(e){super({name:"ContinuousBackupsUnavailableException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},s8=class t extends pr{name="LimitExceededException";$fault="client";constructor(e){super({name:"LimitExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},a8=class t extends pr{name="TableInUseException";$fault="client";constructor(e){super({name:"TableInUseException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},c8=class t extends pr{name="TableNotFoundException";$fault="client";constructor(e){super({name:"TableNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},l8=class t extends pr{name="GlobalTableAlreadyExistsException";$fault="client";constructor(e){super({name:"GlobalTableAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},u8=class t extends pr{name="ResourceInUseException";$fault="client";constructor(e){super({name:"ResourceInUseException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},d8=class t extends pr{name="TransactionConflictException";$fault="client";constructor(e){super({name:"TransactionConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},p8=class t extends pr{name="PolicyNotFoundException";$fault="client";constructor(e){super({name:"PolicyNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},f8=class t extends pr{name="ExportNotFoundException";$fault="client";constructor(e){super({name:"ExportNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},m8=class t extends pr{name="GlobalTableNotFoundException";$fault="client";constructor(e){super({name:"GlobalTableNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},h8=class t extends pr{name="ImportNotFoundException";$fault="client";constructor(e){super({name:"ImportNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},g8=class t extends pr{name="DuplicateItemException";$fault="client";constructor(e){super({name:"DuplicateItemException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},y8=class t extends pr{name="IdempotentParameterMismatchException";$fault="client";Message;constructor(e){super({name:"IdempotentParameterMismatchException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},b8=class t extends pr{name="TransactionInProgressException";$fault="client";Message;constructor(e){super({name:"TransactionInProgressException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},v8=class t extends pr{name="ExportConflictException";$fault="client";constructor(e){super({name:"ExportConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},_8=class t extends pr{name="InvalidExportTimeException";$fault="client";constructor(e){super({name:"InvalidExportTimeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},x8=class t extends pr{name="PointInTimeRecoveryUnavailableException";$fault="client";constructor(e){super({name:"PointInTimeRecoveryUnavailableException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},S8=class t extends pr{name="ImportConflictException";$fault="client";constructor(e){super({name:"ImportConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},w8=class t extends pr{name="TableAlreadyExistsException";$fault="client";constructor(e){super({name:"TableAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},A8=class t extends pr{name="InvalidRestoreTimeException";$fault="client";constructor(e){super({name:"InvalidRestoreTimeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},E8=class t extends pr{name="ReplicaAlreadyExistsException";$fault="client";constructor(e){super({name:"ReplicaAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},T8=class t extends pr{name="ReplicaNotFoundException";$fault="client";constructor(e){super({name:"ReplicaNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},R8=class t extends pr{name="IndexNotFoundException";$fault="client";constructor(e){super({name:"IndexNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},I8=class t extends pr{name="ConditionalCheckFailedException";$fault="client";Item;constructor(e){super({name:"ConditionalCheckFailedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Item=e.Item}},C8=class t extends pr{name="TransactionCanceledException";$fault="client";Message;CancellationReasons;constructor(e){super({name:"TransactionCanceledException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message,this.CancellationReasons=e.CancellationReasons}}});var a7t,c7t,gae,l7t,u7t,N8,d7t,p7t,f7t,vB,m7t,MVe,LVe,h7t,g7t,y7t,BVe,b7t,v7t,_7t,x7t,S7t,_B,$Ve,w7t,yae,A7t,E7t,bae,T7t,O8,UVe,vae,_ae,FVe,R7t,I7t,C7t,N7t,O7t,P7t,k7t,D7t,M7t,P8,zVe,VVe,xae,L7t,B7t,HVe,GVe,$7t,U7t,F7t,z7t,V7t,H7t,jVe,Sae,G7t,j7t,q7t,J7t,W7t,qVe,K7t,wae,Q7t,X7t,Y7t,Z7t,gc,ePt,tPt,JVe,WVe,kv,rPt,nPt,iPt,oPt,sPt,aPt,xB,cPt,lPt,Aae,KVe,QVe,k8,uPt,dPt,IA,pPt,fPt,mPt,hPt,XVe,gPt,yPt,SB,bPt,vPt,_Pt,YVe,ZVe,xPt,SPt,eHe,wB,wPt,APt,EPt,TPt,RPt,IPt,CPt,NPt,OPt,PPt,kPt,DPt,MPt,LPt,BPt,$Pt,UPt,FPt,zPt,VPt,HPt,GPt,jPt,qPt,JPt,WPt,KPt,QPt,XPt,YPt,ZPt,ekt,tkt,rkt,nkt,ikt,okt,skt,akt,ckt,lkt,ukt,Eae,tHe,dkt,pkt,fkt,mkt,hkt,Tae,gkt,rHe,ykt,bkt,vkt,_kt,xkt,Skt,wkt,Akt,Ekt,Tkt,Rkt,Ikt,CA,Ckt,Rae,Nkt,Pu,th,Okt,Pkt,kkt,Dkt,Iae,Mkt,nHe,Lkt,Cae,Bkt,$kt,Ukt,Fkt,zkt,iHe,oHe,Vkt,Hkt,Gkt,sHe,jkt,qkt,Jkt,Wkt,aHe,Nae,Kkt,Qkt,Xkt,Ykt,Zkt,eDt,cHe,tDt,Oae,rDt,lHe,uHe,nDt,Pae,iDt,dHe,oDt,pHe,fHe,mHe,hHe,sDt,aDt,cDt,lDt,uDt,dDt,cf,pDt,fDt,mDt,hDt,gDt,yDt,gHe,bDt,vDt,yHe,_Dt,xDt,SDt,wDt,ADt,EDt,AB,bHe,TDt,RDt,rh,IDt,CDt,NDt,ODt,PDt,kDt,DDt,MDt,LDt,BDt,$Dt,UDt,FDt,nh,kae,vHe,D8,zDt,VDt,HDt,NA,GDt,jDt,qDt,_He,JDt,WDt,Dae,KDt,Mae,Lae,QDt,XDt,ai,YDt,ZDt,eMt,tMt,rMt,nMt,Bae,xHe,iMt,SHe,oMt,wHe,sMt,$ae,aMt,cMt,Uae,lf,lMt,AHe,uMt,EHe,dMt,pMt,fMt,EB,ku,mMt,hMt,gMt,yMt,bMt,OA,vMt,_Mt,xMt,SMt,wMt,AMt,EMt,TMt,RMt,IMt,CMt,NMt,OMt,Fae,PMt,kMt,DMt,MMt,LMt,BMt,$Mt,UMt,FMt,zMt,VMt,M8,HMt,GMt,jMt,qMt,THe,JMt,WMt,KMt,QMt,XMt,YMt,ZMt,eLt,RHe,tLt,rLt,PA,nLt,IHe,CHe,NHe,OHe,PHe,iLt,oLt,sLt,aLt,cLt,lLt,uf,uLt,$d,r1,zae,L8,dLt,pLt,fLt,mLt,hLt,kHe,gLt,yLt,DHe,bLt,MHe,vLt,_Lt,xLt,LHe,BHe,SLt,wLt,$He,ALt,ELt,TLt,RLt,ILt,CLt,NLt,OLt,Ud,PLt,kLt,n1,DLt,UHe,MLt,FHe,zHe,VHe,i1,HHe,LLt,BLt,$Lt,ULt,TB,kA,FLt,zLt,VLt,HLt,GLt,jLt,sl,B8,qLt,JLt,GHe,Vae,WLt,KLt,QLt,XLt,YLt,ZLt,eBt,tBt,rBt,nBt,iBt,jHe,oBt,sBt,aBt,cBt,qHe,$8,lBt,uBt,dBt,Hae,pBt,fBt,Aa,mBt,hBt,gBt,JHe,WHe,yBt,bBt,KHe,QHe,vBt,XHe,_Bt,xBt,SBt,wBt,YHe,ABt,Gae,ZHe,EBt,eGe,TBt,RBt,IBt,CBt,NBt,OBt,PBt,kBt,jae,qae,Jae,df,DBt,MBt,tGe,LBt,U8,Wae,BBt,Kae,RB,rGe,$Bt,UBt,FBt,zBt,VBt,nGe,HBt,GBt,jBt,qBt,iGe,JBt,WBt,oGe,IB,sGe,Qae,CB,aGe,cGe,lGe,KBt,Xae,uGe,dGe,pGe,QBt,XBt,YBt,ZBt,fGe,e$t,Yae,Zae,mGe,ih,t$t,ece,tce,r$t,n$t,i$t,hGe,rce,gGe,DA,o$t,s$t,a$t,c$t,l$t,u$t,F8,d$t,p$t,yGe,f$t,m$t,h$t,g$t,fr,y$t,b$t,bGe,v$t,_$t,x$t,S$t,w$t,A$t,E$t,vGe,_Ge,T$t,nce,R$t,ice,xGe,SGe,wGe,I$t,C$t,N$t,O$t,P$t,k$t,oce,D$t,NB,M$t,L$t,B$t,$$t,U$t,F$t,AGe,z$t,V$t,H$t,G$t,j$t,q$t,J$t,W$t,K$t,Q$t,X$t,Y$t,sce,Z$t,eUt,tUt,rUt,nUt,iUt,oUt,sUt,aUt,cUt,lUt,uUt,dUt,pUt,fUt,mUt,ace,OB,hUt,gUt,yUt,pf,cce,bUt,Fr,Lr,EGe,vUt,en,_Ut,xUt,SUt,TGe,wUt,AUt,z,RGe,IGe,CGe,NGe,OGe,eh,oh,PGe,kGe,lce,uce,DGe,MGe,LGe,BGe,$Ge,UGe,FGe,zGe,VGe,HGe,GGe,jGe,dce,qGe,pce,fce,JGe,WGe,sh,mce,KGe,QGe,XGe,YGe,ZGe,eje,tje,rje,nje,ije,oje,sje,aje,cje,lje,uje,dje,pje,fje,mje,hje,gje,yje,bje,vje,_je,xje,Sje,wje,Aje,Eje,Tje,Rje,Ije,Cje,Nje,Oje,Pje,kje,Dje,Mje,Lje,Bje,$je,Uje,Fje,zje,Vje,Hje,Gje,jje,qje,Jje,Wje,hce,Kje,Qje,Xje,Yje,Zje,eqe,tqe,gce,rqe,nqe,iqe,oqe,sqe,aqe,cqe,lqe,uqe,dqe,pqe,fqe,mqe,hqe,gqe,yce,yqe,bqe,PB,vqe,_qe,xqe,Sqe,wqe,Aqe,Eqe,Tqe,bce,Rqe,Iqe,vce,Cqe,_ce,Nqe,Oqe,Pqe,kqe,z8,Dqe,Mqe,Lqe,Bqe,$qe,xce,Sce,Uqe,Fqe,zqe,Vqe,Hqe,Gqe,jqe,qqe,Jqe,Wqe,Kqe,Qqe,Xqe,Yqe,Zqe,eJe,tJe,rJe,al,MA,nJe,iJe,oJe,sJe,aJe,o1,Fd,wce,cJe,LA,lJe,uJe,dJe,pJe,fJe,mJe,hJe,gJe,yJe,bJe,vJe,_Je,xJe,SJe,wJe,AJe,EJe,TJe,RJe,IJe,CJe,NJe,OJe,PJe,kJe,DJe,MJe,LJe,BJe,$Je,UJe,FJe,zJe,kB,VJe,HJe,GJe,jJe,Ace,BA,V8,qJe,Ece,DB,Tce,Dv,JJe,WJe,Rce,KJe,QJe,XJe,YJe,Ice,Cce,ZJe,eWe,tWe,rWe,nWe,iWe,oWe,sWe,aWe,cWe,lWe,uWe,dWe,pWe,fWe,mWe,hWe,gWe,yWe,bWe,vWe,_We,Nce,xWe,SWe,wWe,AWe,EWe,TWe,RWe,IWe,CWe,$A,NWe,OWe,PWe,MB,kWe,EUt,TUt,RUt,UA,IUt,CUt,NUt,OUt,PUt,kUt,LB,DUt,MUt,LUt,BUt,$Ut,UUt,FUt,BB,DWe,zUt,zd,VUt,HUt,GUt,jUt,Oce,qUt,JUt,WUt,Pce,KUt,QUt,MWe,XUt,YUt,ZUt,LWe,eFt,tFt,BWe,$We,rFt,nFt,iFt,kce,Dce,oFt,sFt,aFt,ff,cFt,UWe,lFt,FWe,Mce,ah,zWe,uFt,VWe,yc,dFt,pFt,Lce,DVe,Du,Bce,$ce,Uce,Fce,zce,Vce,Hce,Gce,jce,qce,Jce,Wce,Kce,Qce,Xce,Yce,Zce,ele,tle,rle,nle,ile,ole,sle,ale,cle,lle,ule,dle,ple,fle,mle,hle,gle,yle,ble,vle,_le,xle,Sle,wle,Ale,Ele,Tle,Rle,Ile,Cle,Nle,Ole,Ple,kle,Dle,Mle,Lle,Ble,$le,Ule,kt=y(()=>{"use strict";ln();bB();hae();a7t="Action",c7t="ArchivalBackupArn",gae="ApproximateCreationDateTimePrecision",l7t="AttributeDefinition",u7t="ArchivalDateTime",N8="AttributeDefinitions",d7t="AttributeMap",p7t="AccountMaxReadCapacityUnits",f7t="AccountMaxWriteCapacityUnits",vB="AttributeName",m7t="ArchivalReason",MVe="ArchivalSummary",LVe="AutoScalingDisabled",h7t="AutoScalingPolicyDescription",g7t="AutoScalingPolicyDescriptionList",y7t="AutoScalingPolicyUpdate",BVe="AutoScalingRoleArn",b7t="AutoScalingSettingsDescription",v7t="AutoScalingSettingsUpdate",_7t="AutoScalingTargetTrackingScalingPolicyConfigurationDescription",x7t="AutoScalingTargetTrackingScalingPolicyConfigurationUpdate",S7t="AttributeType",_B="AttributesToGet",$Ve="AttributeUpdates",w7t="AttributeValue",yae="AttributeValueList",A7t="AttributeValueUpdate",E7t="Address",bae="Attributes",T7t="Backfilling",O8="BackupArn",UVe="BackupCreationDateTime",vae="BackupDescription",_ae="BackupDetails",FVe="BackupExpiryDateTime",R7t="BatchExecuteStatement",I7t="BatchExecuteStatementInput",C7t="BatchExecuteStatementOutput",N7t="BatchGetItem",O7t="BatchGetItemInput",P7t="BatchGetItemOutput",k7t="BatchGetResponseMap",D7t="BatchGetRequestMap",M7t="BackupInUseException",P8="BillingMode",zVe="BillingModeOverride",VVe="BillingModeSummary",xae="BackupName",L7t="BackupNotFoundException",B7t="BOOL",HVe="BackupStatus",GVe="BackupSizeBytes",$7t="BilledSizeBytes",U7t="BatchStatementError",F7t="BatchStatementRequest",z7t="BatchStatementResponse",V7t="BS",H7t="BackupSummary",jVe="BackupSummaries",Sae="BackupType",G7t="BatchWriteItem",j7t="BatchWriteItemInput",q7t="BatchWriteItemOutput",J7t="BatchWriteItemRequestMap",W7t="B",qVe="Code",K7t="CreateBackup",wae="ContinuousBackupsDescription",Q7t="CreateBackupInput",X7t="CreateBackupOutput",Y7t="ContinuousBackupsStatus",Z7t="ContinuousBackupsUnavailableException",gc="ConsumedCapacity",ePt="ConditionalCheckFailedException",tPt="ConsumedCapacityMultiple",JVe="ConditionCheck",WVe="CreationDateTime",kv="ConditionExpression",rPt="CreateGlobalSecondaryIndexAction",nPt="CreateGlobalTable",iPt="CreateGlobalTableInput",oPt="CreateGlobalTableOutput",sPt="CreateGlobalTableWitnessGroupMemberAction",aPt="ContributorInsightsAction",xB="ContributorInsightsMode",cPt="ContributorInsightsRuleList",lPt="ContributorInsightsSummary",Aae="ContributorInsightsStatus",KVe="ContributorInsightsSummaries",QVe="ComparisonOperator",k8="ConditionalOperator",uPt="CsvOptions",dPt="CachePeriodInMinutes",IA="ConsistentRead",pPt="CreateReplicaAction",fPt="CreateReplicationGroupMemberAction",mPt="CancellationReasonList",hPt="ConfirmRemoveSelfResourceAccess",XVe="ClientRequestToken",gPt="CancellationReason",yPt="CancellationReasons",SB="ClientToken",bPt="CreateTableInput",vPt="CreateTableOutput",_Pt="CreateTable",YVe="CapacityUnits",ZVe="CloudWatchLogGroupArn",xPt="Capacity",SPt="Condition",eHe="Count",wB="Create",wPt="Csv",APt="Delimiter",EPt="DeleteBackup",TPt="DeleteBackupInput",RPt="DescribeBackupInput",IPt="DeleteBackupOutput",CPt="DescribeBackupOutput",NPt="DescribeBackup",OPt="DescribeContinuousBackups",PPt="DescribeContinuousBackupsInput",kPt="DescribeContinuousBackupsOutput",DPt="DescribeContributorInsights",MPt="DescribeContributorInsightsInput",LPt="DescribeContributorInsightsOutput",BPt="DescribeEndpoints",$Pt="DescribeExportInput",UPt="DescribeExportOutput",FPt="DescribeEndpointsRequest",zPt="DescribeEndpointsResponse",VPt="DescribeExport",HPt="DeleteGlobalSecondaryIndexAction",GPt="DescribeGlobalTable",jPt="DescribeGlobalTableInput",qPt="DescribeGlobalTableOutput",JPt="DescribeGlobalTableSettings",WPt="DescribeGlobalTableSettingsInput",KPt="DescribeGlobalTableSettingsOutput",QPt="DeleteGlobalTableWitnessGroupMemberAction",XPt="DeleteItem",YPt="DuplicateItemException",ZPt="DeleteItemInput",ekt="DescribeImportInput",tkt="DeleteItemOutput",rkt="DescribeImportOutput",nkt="DescribeImport",ikt="DescribeKinesisStreamingDestination",okt="DescribeKinesisStreamingDestinationInput",skt="DescribeKinesisStreamingDestinationOutput",akt="DisableKinesisStreamingDestination",ckt="DescribeLimits",lkt="DescribeLimitsInput",ukt="DescribeLimitsOutput",Eae="DeletionProtectionEnabled",tHe="DeleteRequest",dkt="DeleteReplicaAction",pkt="DeleteReplicationGroupMemberAction",fkt="DeleteResourcePolicy",mkt="DeleteResourcePolicyInput",hkt="DeleteResourcePolicyOutput",Tae="DestinationStatus",gkt="DestinationStatusDescription",rHe="DisableScaleIn",ykt="DeleteTable",bkt="DeleteTableInput",vkt="DescribeTableInput",_kt="DeleteTableOutput",xkt="DescribeTableOutput",Skt="DescribeTableReplicaAutoScaling",wkt="DescribeTableReplicaAutoScalingInput",Akt="DescribeTableReplicaAutoScalingOutput",Ekt="DescribeTimeToLive",Tkt="DescribeTimeToLiveInput",Rkt="DescribeTimeToLiveOutput",Ikt="DescribeTable",CA="Delete",Ckt="Error",Rae="ExportArn",Nkt="ExpectedAttributeMap",Pu="ExpressionAttributeNames",th="ExpressionAttributeValues",Okt="ExpressionAttributeValueMap",Pkt="ExpectedAttributeValue",kkt="ErrorCount",Dkt="ExportConflictException",Iae="ExportDescription",Mkt="ExceptionDescription",nHe="ExportFormat",Lkt="ExportFromTime",Cae="EnableKinesisStreamingConfiguration",Bkt="EnableKinesisStreamingDestination",$kt="ExportManifest",Ukt="ExceptionName",Fkt="ExportNotFoundException",zkt="EarliestRestorableDateTime",iHe="ExpectedRevisionId",oHe="ExportStatus",Vkt="ExclusiveStartBackupArn",Hkt="ExclusiveStartGlobalTableName",Gkt="ExecuteStatementInput",sHe="ExclusiveStartKey",jkt="ExecuteStatementOutput",qkt="ExclusiveStartTableName",Jkt="ExportSummary",Wkt="ExecuteStatement",aHe="ExportSummaries",Nae="EndTime",Kkt="ExecuteTransactionInput",Qkt="ExecuteTransactionOutput",Xkt="ExportToTime",Ykt="ExportTableToPointInTime",Zkt="ExportTableToPointInTimeInput",eDt="ExportTableToPointInTimeOutput",cHe="ExportTime",tDt="ExecuteTransaction",Oae="ExportType",rDt="ExportViewType",lHe="Endpoints",uHe="Enabled",nDt="Endpoint",Pae="Expected",iDt="Exists",dHe="FailureCode",oDt="FilterConditionMap",pHe="FailureException",fHe="FilterExpression",mHe="FailureMessage",hHe="Get",sDt="GetItem",aDt="GetItemInput",cDt="GetItemOutput",lDt="GetResourcePolicy",uDt="GetResourcePolicyInput",dDt="GetResourcePolicyOutput",cf="GlobalSecondaryIndexes",pDt="GlobalSecondaryIndexAutoScalingUpdate",fDt="GlobalSecondaryIndexAutoScalingUpdateList",mDt="GlobalSecondaryIndexDescription",hDt="GlobalSecondaryIndexDescriptionList",gDt="GlobalSecondaryIndexInfo",yDt="GlobalSecondaryIndexList",gHe="GlobalSecondaryIndexOverride",bDt="GlobalSecondaryIndexUpdate",vDt="GlobalSecondaryIndexUpdateList",yHe="GlobalSecondaryIndexUpdates",_Dt="GlobalSecondaryIndexWarmThroughputDescription",xDt="GlobalSecondaryIndex",SDt="GlobalTable",wDt="GlobalTableArn",ADt="GlobalTableAlreadyExistsException",EDt="GlobalTableBillingMode",AB="GlobalTableDescription",bHe="GlobalTableGlobalSecondaryIndexSettingsUpdate",TDt="GlobalTableGlobalSecondaryIndexSettingsUpdateList",RDt="GlobalTableList",rh="GlobalTableName",IDt="GlobalTableNotFoundException",CDt="GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate",NDt="GlobalTableProvisionedWriteCapacityUnits",ODt="GlobalTableStatus",PDt="GlobalTableVersion",kDt="GlobalTableWitnesses",DDt="GlobalTableWitnessDescription",MDt="GlobalTableWitnessDescriptionList",LDt="GlobalTableWitnessGroupUpdate",BDt="GlobalTableWitnessGroupUpdateList",$Dt="GlobalTableWitnessUpdates",UDt="GlobalTables",FDt="HeaderList",nh="Item",kae="ImportArn",vHe="IndexArn",D8="ItemCount",zDt="ImportConflictException",VDt="ItemCollectionKey",HDt="ItemCollectionKeyAttributeMap",NA="ItemCollectionMetrics",GDt="ItemCollectionMetricsMultiple",jDt="ItemCollectionMetricsPerTable",qDt="ItemCollectionSizeLimitExceededException",_He="InputCompressionType",JDt="InaccessibleEncryptionDateTime",WDt="InvalidEndpointException",Dae="IncrementalExportSpecification",KDt="InvalidExportTimeException",Mae="InputFormat",Lae="InputFormatOptions",QDt="ImportedItemCount",XDt="ItemList",ai="IndexName",YDt="ImportNotFoundException",ZDt="IndexNotFoundException",eMt="IdempotentParameterMismatchException",tMt="ItemResponse",rMt="ItemResponseList",nMt="InvalidRestoreTimeException",Bae="IndexStatus",xHe="IndexSizeBytes",iMt="InternalServerError",SHe="ImportSummaryList",oMt="ImportSummary",wHe="ImportStatus",sMt="ImportTable",$ae="ImportTableDescription",aMt="ImportTableInput",cMt="ImportTableOutput",Uae="Items",lf="Key",lMt="KeysAndAttributes",AHe="KeyConditions",uMt="KeyConditionExpression",EHe="KinesisDataStreamDestinations",dMt="KinesisDataStreamDestination",pMt="KeyList",fMt="KMSMasterKeyArn",EB="KMSMasterKeyId",ku="KeySchema",mMt="KinesisStreamingDestinationInput",hMt="KinesisStreamingDestinationOutput",gMt="KeySchemaElement",yMt="KeyType",bMt="Keys",OA="Limit",vMt="ListAttributeValue",_Mt="ListBackups",xMt="ListBackupsInput",SMt="ListBackupsOutput",wMt="ListContributorInsights",AMt="ListContributorInsightsInput",EMt="ListContributorInsightsOutput",TMt="LastDecreaseDateTime",RMt="ListExports",IMt="LastEvaluatedBackupArn",CMt="LimitExceededException",NMt="LastEvaluatedGlobalTableName",OMt="ListExportsInput",Fae="LastEvaluatedKey",PMt="ListExportsOutput",kMt="LastEvaluatedTableName",DMt="ListGlobalTables",MMt="ListGlobalTablesInput",LMt="ListGlobalTablesOutput",BMt="ListImports",$Mt="LastIncreaseDateTime",UMt="ListImportsInput",FMt="ListImportsOutput",zMt="LatestRestorableDateTime",VMt="LatestStreamArn",M8="LocalSecondaryIndexes",HMt="LocalSecondaryIndexDescription",GMt="LocalSecondaryIndexDescriptionList",jMt="LocalSecondaryIndexInfo",qMt="LocalSecondaryIndexList",THe="LocalSecondaryIndexOverride",JMt="LocalSecondaryIndex",WMt="LatestStreamLabel",KMt="ListTables",QMt="ListTablesInput",XMt="ListTablesOutput",YMt="ListTagsOfResource",ZMt="ListTagsOfResourceInput",eLt="ListTagsOfResourceOutput",RHe="LastUpdateDateTime",tLt="LastUpdateToPayPerRequestDateTime",rLt="L",PA="Message",nLt="MapAttributeValue",IHe="MaxResults",CHe="MultiRegionConsistency",NHe="MaxReadRequestUnits",OHe="MinimumUnits",PHe="MaximumUnits",iLt="MaxWriteRequestUnits",oLt="M",sLt="N",aLt="NonKeyAttributes",cLt="NumberOfDecreasesToday",lLt="NS",uf="NextToken",uLt="NULL",$d="OnDemandThroughput",r1="OnDemandThroughputOverride",zae="Parameters",L8="ProjectionExpression",dLt="PutItem",pLt="ProcessedItemCount",fLt="PutItemInput",mLt="PutItemInputAttributeMap",hLt="PutItemOutput",kHe="PointInTimeRecoveryDescription",gLt="PointInTimeRecoveryEnabled",yLt="PointInTimeRecoveryStatus",DHe="PointInTimeRecoverySpecification",bLt="PointInTimeRecoveryUnavailableException",MHe="PolicyName",vLt="PolicyNotFoundException",_Lt="PartiQLBatchRequest",xLt="PartiQLBatchResponse",LHe="PutRequest",BHe="ProvisionedReadCapacityAutoScalingSettings",SLt="ProvisionedReadCapacityAutoScalingSettingsUpdate",wLt="ProvisionedReadCapacityAutoScalingUpdate",$He="ProvisionedReadCapacityUnits",ALt="PutResourcePolicy",ELt="PutResourcePolicyInput",TLt="PutResourcePolicyOutput",RLt="PageSize",ILt="ProcessedSizeBytes",CLt="PreparedStatementParameters",NLt="ParameterizedStatement",OLt="ParameterizedStatements",Ud="ProvisionedThroughput",PLt="ProvisionedThroughputDescription",kLt="ProvisionedThroughputExceededException",n1="ProvisionedThroughputOverride",DLt="ProjectionType",UHe="ProvisionedWriteCapacityAutoScalingSettings",MLt="ProvisionedWriteCapacityAutoScalingSettingsUpdate",FHe="ProvisionedWriteCapacityAutoScalingUpdate",zHe="ProvisionedWriteCapacityUnits",VHe="Policy",i1="Projection",HHe="Put",LLt="Query",BLt="QueryFilter",$Lt="QueryInput",ULt="QueryOutput",TB="Responses",kA="ResourceArn",FLt="ReplicaAlreadyExistsException",zLt="ReplicaAutoScalingDescription",VLt="ReplicaAutoScalingDescriptionList",HLt="ReplicaAutoScalingUpdate",GLt="ReplicaAutoScalingUpdateList",jLt="ReplicaBillingModeSummary",sl="ReturnConsumedCapacity",B8="ReadCapacityUnits",qLt="ReplicaDescription",JLt="ReplicaDescriptionList",GHe="RestoreDateTime",Vae="ReplicationGroup",WLt="ReplicaGlobalSecondaryIndex",KLt="ReplicaGlobalSecondaryIndexAutoScalingDescription",QLt="ReplicaGlobalSecondaryIndexAutoScalingDescriptionList",XLt="ReplicaGlobalSecondaryIndexAutoScalingUpdate",YLt="ReplicaGlobalSecondaryIndexAutoScalingUpdateList",ZLt="ReplicaGlobalSecondaryIndexDescription",eBt="ReplicaGlobalSecondaryIndexDescriptionList",tBt="ReplicaGlobalSecondaryIndexList",rBt="ReplicaGlobalSecondaryIndexSettings",nBt="ReplicaGlobalSecondaryIndexSettingsDescription",iBt="ReplicaGlobalSecondaryIndexSettingsDescriptionList",jHe="ReplicaGlobalSecondaryIndexSettingsUpdate",oBt="ReplicaGlobalSecondaryIndexSettingsUpdateList",sBt="ReplicaGlobalSecondaryIndexUpdates",aBt="ReplicationGroupUpdate",cBt="ReplicationGroupUpdateList",qHe="RequestItems",$8="ReturnItemCollectionMetrics",lBt="ReplicaInaccessibleDateTime",uBt="RestoreInProgress",dBt="ResourceInUseException",Hae="RevisionId",pBt="ReplicaList",fBt="RequestLimitExceeded",Aa="RegionName",mBt="ReplicaNotFoundException",hBt="ResourceNotFoundException",gBt="ResourcePolicy",JHe="RecoveryPeriodInDays",WHe="ReplicaProvisionedReadCapacityAutoScalingSettings",yBt="ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate",bBt="ReplicaProvisionedReadCapacityAutoScalingUpdate",KHe="ReplicaProvisionedReadCapacityUnits",QHe="ReplicaProvisionedWriteCapacityAutoScalingSettings",vBt="ReplicaProvisionedWriteCapacityUnits",XHe="ReplicaSettings",_Bt="ReplicaStatusDescription",xBt="ReplicaSettingsDescriptionList",SBt="ReplicaSettingsDescription",wBt="ReplicaStatusPercentProgress",YHe="ReplicaSettingsUpdate",ABt="ReplicaSettingsUpdateList",Gae="ReplicaStatus",ZHe="RestoreSummary",EBt="ReplicaTableClass",eGe="ReplicaTableClassSummary",TBt="RestoreTableFromBackup",RBt="RestoreTableFromBackupInput",IBt="RestoreTableFromBackupOutput",CBt="RestoreTableToPointInTime",NBt="RestoreTableToPointInTimeInput",OBt="RestoreTableToPointInTimeOutput",PBt="ReplicaUpdate",kBt="ReplicaUpdateList",jae="ReadUnitsPerSecond",qae="ReplicaUpdates",Jae="ReturnValues",df="ReturnValuesOnConditionCheckFailure",DBt="ReplicatedWriteConflictException",MBt="Replica",tGe="Replicas",LBt="Statements",U8="StreamArn",Wae="S3Bucket",BBt="SourceBackupArn",Kae="S3BucketOwner",RB="S3BucketSource",rGe="ScannedCount",$Bt="StreamDescription",UBt="StreamEnabled",FBt="SizeEstimateRangeGB",zBt="ScanFilter",VBt="ScanInput",nGe="ScaleInCooldown",HBt="SecondaryIndexesCapacityMap",GBt="ScanIndexForward",jBt="S3KeyPrefix",qBt="ScanOutput",iGe="ScaleOutCooldown",JBt="ScalingPolicies",WBt="ScalingPolicyUpdate",oGe="S3Prefix",IB="StreamSpecification",sGe="S3SseAlgorithm",Qae="SSEDescription",CB="SSESpecification",aGe="SSESpecificationOverride",cGe="SSEType",lGe="S3SseKmsKeyId",KBt="SS",Xae="StartTime",uGe="SourceTableArn",dGe="SourceTableDetails",pGe="SourceTableFeatureDetails",QBt="SourceTableName",XBt="StreamViewType",YBt="S",ZBt="Scan",fGe="Select",e$t="Segment",Yae="Statement",Zae="Status",mGe="Table",ih="TableArn",t$t="TableAlreadyExistsException",ece="TableAutoScalingDescription",tce="TableClass",r$t="TableCreationDateTime",n$t="TransactionCanceledException",i$t="TransactionConflictException",hGe="TableClassOverride",rce="TableCreationParameters",gGe="TableClassSummary",DA="TableDescription",o$t="ThrottlingException",s$t="TransactGetItem",a$t="TransactGetItemsInput",c$t="TransactGetItemList",l$t="TransactGetItemsOutput",u$t="TransactGetItems",F8="TableId",d$t="TransactionInProgressException",p$t="TableInUseException",yGe="TransactItems",f$t="TagKeys",m$t="TagList",h$t="TableMaxReadCapacityUnits",g$t="TableMaxWriteCapacityUnits",fr="TableName",y$t="TableNotFoundException",b$t="TableNames",bGe="ThrottlingReasons",v$t="TagResourceInput",_$t="ThrottlingReasonList",x$t="TimeRangeLowerBound",S$t="TimeRangeUpperBound",w$t="TagResource",A$t="ThrottlingReason",E$t="TransactStatements",vGe="TableSizeBytes",_Ge="TableStatus",T$t="TotalSegments",nce="TimeToLiveDescription",R$t="TimeToLiveStatus",ice="TimeToLiveSpecification",xGe="TargetTableName",SGe="TargetTrackingScalingPolicyConfiguration",wGe="TargetValue",I$t="TransactWriteItem",C$t="TransactWriteItemsInput",N$t="TransactWriteItemList",O$t="TransactWriteItemsOutput",P$t="TransactWriteItems",k$t="TableWarmThroughputDescription",oce="Tags",D$t="Tag",NB="Update",M$t="UpdateContinuousBackups",L$t="UpdateContinuousBackupsInput",B$t="UpdateContinuousBackupsOutput",$$t="UpdateContributorInsights",U$t="UpdateContributorInsightsInput",F$t="UpdateContributorInsightsOutput",AGe="UpdateExpression",z$t="UpdateGlobalSecondaryIndexAction",V$t="UpdateGlobalTable",H$t="UpdateGlobalTableInput",G$t="UpdateGlobalTableOutput",j$t="UpdateGlobalTableSettings",q$t="UpdateGlobalTableSettingsInput",J$t="UpdateGlobalTableSettingsOutput",W$t="UnprocessedItems",K$t="UpdateItemInput",Q$t="UpdateItemOutput",X$t="UpdateItem",Y$t="UnprocessedKeys",sce="UpdateKinesisStreamingConfiguration",Z$t="UpdateKinesisStreamingDestination",eUt="UpdateKinesisStreamingDestinationInput",tUt="UpdateKinesisStreamingDestinationOutput",rUt="UseLatestRestorableTime",nUt="UntagResource",iUt="UpdateReplicationGroupMemberAction",oUt="UntagResourceInput",sUt="UpdateTable",aUt="UpdateTableInput",cUt="UpdateTableOutput",lUt="UpdateTableReplicaAutoScaling",uUt="UpdateTableReplicaAutoScalingInput",dUt="UpdateTableReplicaAutoScalingOutput",pUt="UpdateTimeToLive",fUt="UpdateTimeToLiveInput",mUt="UpdateTimeToLiveOutput",ace="Value",OB="WriteCapacityUnits",hUt="WriteRequest",gUt="WriteRequests",yUt="WitnessStatus",pf="WarmThroughput",cce="WriteUnitsPerSecond",bUt="awsQueryError",Fr="client",Lr="error",EGe="httpError",vUt="httpHeader",en="message",_Ut="reason",xUt="resource",SUt="server",TGe="smithy.ts.sdk.synthetic.com.amazonaws.dynamodb",wUt="throttlingReasons",AUt="x-amz-confirm-remove-self-resource-access",z="com.amazonaws.dynamodb",RGe=[3,z,MVe,0,[u7t,m7t,c7t],[4,0,0]],IGe=[3,z,l7t,0,[vB,S7t],[0,0],2],CGe=[3,z,A7t,0,[ace,a7t],[()=>Du,0]],NGe=[3,z,h7t,0,[MHe,SGe],[0,()=>PGe]],OGe=[3,z,y7t,0,[SGe,MHe],[()=>kGe,0],1],eh=[3,z,b7t,0,[OHe,PHe,LVe,BVe,JBt],[1,1,2,0,()=>EUt]],oh=[3,z,v7t,0,[OHe,PHe,LVe,BVe,WBt],[1,1,2,0,()=>OGe]],PGe=[3,z,_7t,0,[wGe,rHe,nGe,iGe],[1,2,1,1],1],kGe=[3,z,x7t,0,[wGe,rHe,nGe,iGe],[1,2,1,1],1],lce=[3,z,vae,0,[_ae,dGe,pGe],[()=>uce,()=>GJe,()=>jJe]],uce=[3,z,_ae,0,[O8,xae,HVe,Sae,UVe,GVe,FVe],[0,0,0,0,4,1,4],5],DGe=[-3,z,M7t,{[Lr]:Fr},[en],[0]];Ve.for(z).registerError(DGe,KR);MGe=[-3,z,L7t,{[Lr]:Fr},[en],[0]];Ve.for(z).registerError(MGe,QR);LGe=[3,z,H7t,0,[fr,F8,ih,O8,xae,UVe,FVe,HVe,Sae,GVe],[0,0,0,0,0,4,4,0,0,1]],BGe=[3,z,I7t,0,[LBt,sl],[()=>JUt,0],1],$Ge=[3,z,C7t,0,[TB,gc],[()=>WUt,()=>UA]],UGe=[3,z,O7t,0,[qHe,sl],[()=>UWe,0],1],FGe=[3,z,P7t,0,[TB,Y$t,gc],[()=>lFt,()=>UWe,()=>UA]],zGe=[3,z,U7t,0,[qVe,PA,nh],[0,0,()=>ff]],VGe=[3,z,F7t,0,[Yae,zae,IA,df],[0,()=>Pce,2,0],1],HGe=[3,z,z7t,0,[Ckt,fr,nh],[()=>zGe,0,()=>ff]],GGe=[3,z,j7t,0,[qHe,sl,$8],[()=>FWe,0,0],1],jGe=[3,z,q7t,0,[W$t,NA,gc],[()=>FWe,()=>VWe,()=>UA]],dce=[3,z,VVe,0,[P8,tLt],[0,4]],qGe=[3,z,gPt,0,[nh,qVe,PA],[()=>ff,0,0]],pce=[3,z,xPt,0,[B8,OB,YVe],[1,1,1]],fce=[3,z,SPt,0,[QVe,yae],[0,()=>kWe],1],JGe=[-3,z,ePt,{[Lr]:Fr},[en,nh],[0,()=>ff]];Ve.for(z).registerError(JGe,I8);WGe=[3,z,JVe,0,[lf,fr,kv,Pu,th,df],[()=>yc,0,0,128,()=>ah,0],3],sh=[3,z,gc,0,[fr,YVe,B8,OB,mGe,M8,cf],[0,1,1,1,()=>pce,()=>DVe,()=>DVe]],mce=[3,z,wae,0,[Y7t,kHe],[0,()=>iJe],1],KGe=[-3,z,Z7t,{[Lr]:Fr},[en],[0]];Ve.for(z).registerError(KGe,o8);QGe=[3,z,lPt,0,[fr,ai,Aae,xB],[0,0,0,0]],XGe=[3,z,Q7t,0,[fr,xae],[0,0],2],YGe=[3,z,X7t,0,[_ae],[()=>uce]],ZGe=[3,z,rPt,0,[ai,ku,i1,Ud,$d,pf],[0,()=>zd,()=>o1,()=>Fd,()=>al,()=>$A],3],eje=[3,z,iPt,0,[rh,Vae],[0,()=>BWe],2],tje=[3,z,oPt,0,[AB],[()=>PB]],rje=[3,z,sPt,0,[Aa],[0],1],nje=[3,z,pPt,0,[Aa],[0],1],ije=[3,z,fPt,0,[Aa,EB,n1,r1,cf,hGe],[0,0,()=>LA,()=>MA,()=>LWe,0],1],oje=[3,z,bPt,0,[N8,fr,ku,M8,cf,P8,Ud,IB,CB,oce,tce,Eae,pf,gBt,$d],[()=>MB,0,()=>zd,()=>Oce,()=>LB,0,()=>Fd,()=>V8,()=>BA,()=>kce,0,2,()=>$A,0,()=>al],3],sje=[3,z,vPt,0,[DA],[()=>Dv]],aje=[3,z,uPt,0,[APt,FDt],[0,64]],cje=[3,z,CA,0,[lf,fr,kv,Pu,th,df],[()=>yc,0,0,128,()=>ah,0],2],lje=[3,z,TPt,0,[O8],[0],1],uje=[3,z,IPt,0,[vae],[()=>lce]],dje=[3,z,HPt,0,[ai],[0],1],pje=[3,z,QPt,0,[Aa],[0],1],fje=[3,z,ZPt,0,[fr,lf,Pae,k8,Jae,sl,$8,kv,Pu,th,df],[0,()=>yc,()=>Mce,0,0,0,0,0,128,()=>ah,0],2],mje=[3,z,tkt,0,[bae,gc,NA],[()=>ff,()=>sh,()=>z8]],hje=[3,z,dkt,0,[Aa],[0],1],gje=[3,z,pkt,0,[Aa],[0],1],yje=[3,z,tHe,0,[lf],[()=>yc],1],bje=[3,z,mkt,0,[kA,iHe],[0,0],1],vje=[3,z,hkt,0,[Hae],[0]],_je=[3,z,bkt,0,[fr],[0],1],xje=[3,z,_kt,0,[DA],[()=>Dv]],Sje=[3,z,RPt,0,[O8],[0],1],wje=[3,z,CPt,0,[vae],[()=>lce]],Aje=[3,z,PPt,0,[fr],[0],1],Eje=[3,z,kPt,0,[wae],[()=>mce]],Tje=[3,z,MPt,0,[fr,ai],[0,0],1],Rje=[3,z,LPt,0,[fr,ai,cPt,Aae,RHe,pHe,xB],[0,0,64,0,4,()=>sqe,0]],Ije=[3,z,FPt,0,[],[]],Cje=[3,z,zPt,0,[lHe],[()=>CUt],1],Nje=[3,z,$Pt,0,[Rae],[0],1],Oje=[3,z,UPt,0,[Iae],[()=>gce]],Pje=[3,z,jPt,0,[rh],[0],1],kje=[3,z,qPt,0,[AB],[()=>PB]],Dje=[3,z,WPt,0,[rh],[0],1],Mje=[3,z,KPt,0,[rh,XHe],[0,()=>$We]],Lje=[3,z,ekt,0,[kae],[0],1],Bje=[3,z,rkt,0,[$ae],[()=>bce],1],$je=[3,z,okt,0,[fr],[0],1],Uje=[3,z,skt,0,[fr,EHe],[0,()=>VUt]],Fje=[3,z,lkt,0,[],[]],zje=[3,z,ukt,0,[p7t,f7t,h$t,g$t],[1,1,1,1]],Vje=[3,z,vkt,0,[fr],[0],1],Hje=[3,z,xkt,0,[mGe],[()=>Dv]],Gje=[3,z,wkt,0,[fr],[0],1],jje=[3,z,Akt,0,[ece],[()=>Ece]],qje=[3,z,Tkt,0,[fr],[0],1],Jje=[3,z,Rkt,0,[nce],[()=>Ice]],Wje=[-3,z,YPt,{[Lr]:Fr},[en],[0]];Ve.for(z).registerError(Wje,g8);hce=[3,z,Cae,0,[gae],[0]],Kje=[3,z,nDt,0,[E7t,dPt],[0,1],2],Qje=[3,z,Gkt,0,[Yae,zae,IA,uf,sl,OA,df],[0,()=>Pce,2,0,0,1,0],1],Xje=[3,z,jkt,0,[Uae,uf,gc,Fae],[()=>BB,0,()=>sh,()=>yc]],Yje=[3,z,Kkt,0,[E$t,XVe,sl],[()=>qUt,[0,4],0],1],Zje=[3,z,Qkt,0,[TB,gc],[()=>DWe,()=>UA]],eqe=[3,z,Pkt,0,[ace,iDt,QVe,yae],[()=>Du,2,0,()=>kWe]],tqe=[-3,z,Dkt,{[Lr]:Fr},[en],[0]];Ve.for(z).registerError(tqe,v8);gce=[3,z,Iae,0,[Rae,oHe,Xae,Nae,$kt,ih,F8,cHe,SB,Wae,Kae,oGe,sGe,lGe,dHe,mHe,nHe,$7t,D8,Oae,Dae],[0,0,4,4,0,0,0,4,0,0,0,0,0,0,0,0,0,1,1,0,()=>vce]],rqe=[-3,z,Fkt,{[Lr]:Fr},[en],[0]];Ve.for(z).registerError(rqe,f8);nqe=[3,z,Jkt,0,[Rae,oHe,Oae],[0,0,0]],iqe=[3,z,Zkt,0,[ih,Wae,cHe,SB,Kae,oGe,sGe,lGe,nHe,Oae,Dae],[0,0,4,[0,4],0,0,0,0,0,0,()=>vce],2],oqe=[3,z,eDt,0,[Iae],[()=>gce]],sqe=[3,z,pHe,0,[Ukt,Mkt],[0,0]],aqe=[3,z,hHe,0,[lf,fr,L8,Pu],[()=>yc,0,0,128],2],cqe=[3,z,aDt,0,[fr,lf,_B,IA,sl,L8,Pu],[0,()=>yc,64,2,0,0,128],2],lqe=[3,z,cDt,0,[nh,gc],[()=>ff,()=>sh]],uqe=[3,z,uDt,0,[kA],[0],1],dqe=[3,z,dDt,0,[VHe,Hae],[0,0]],pqe=[3,z,xDt,0,[ai,ku,i1,Ud,$d,pf],[0,()=>zd,()=>o1,()=>Fd,()=>al,()=>$A],3],fqe=[3,z,pDt,0,[ai,FHe],[0,()=>oh]],mqe=[3,z,mDt,0,[ai,ku,i1,Bae,T7t,Ud,xHe,D8,vHe,$d,pf],[0,()=>zd,()=>o1,0,2,()=>wce,1,1,0,()=>al,()=>yce]],hqe=[3,z,gDt,0,[ai,ku,i1,Ud,$d],[0,()=>zd,()=>o1,()=>Fd,()=>al]],gqe=[3,z,bDt,0,[NB,wB,CA],[()=>mWe,()=>ZGe,()=>dje]],yce=[3,z,_Dt,0,[jae,cce,Zae],[1,1,0]],yqe=[3,z,SDt,0,[rh,Vae],[0,()=>BWe]],bqe=[-3,z,ADt,{[Lr]:Fr},[en],[0]];Ve.for(z).registerError(bqe,l8);PB=[3,z,AB,0,[Vae,wDt,WVe,ODt,rh],[()=>MWe,0,4,0,0]],vqe=[3,z,bHe,0,[ai,zHe,MLt],[0,1,()=>oh],1],_qe=[-3,z,IDt,{[Lr]:Fr},[en],[0]];Ve.for(z).registerError(_qe,m8);xqe=[3,z,DDt,0,[Aa,yUt],[0,0]],Sqe=[3,z,LDt,0,[wB,CA],[()=>rje,()=>pje]],wqe=[-3,z,eMt,{[Lr]:Fr},[PA],[0]];Ve.for(z).registerError(wqe,y8);Aqe=[-3,z,zDt,{[Lr]:Fr},[en],[0]];Ve.for(z).registerError(Aqe,S8);Eqe=[-3,z,YDt,{[Lr]:Fr},[en],[0]];Ve.for(z).registerError(Eqe,h8);Tqe=[3,z,oMt,0,[kae,wHe,ih,RB,ZVe,Mae,Xae,Nae],[0,0,0,()=>kB,0,0,4,4]],bce=[3,z,$ae,0,[kae,wHe,ih,F8,SB,RB,kkt,ZVe,Mae,Lae,_He,rce,Xae,Nae,ILt,pLt,QDt,dHe,mHe],[0,0,0,0,0,()=>kB,1,0,0,()=>_ce,0,()=>Tce,4,4,1,1,1,0,0]],Rqe=[3,z,aMt,0,[RB,Mae,rce,SB,Lae,_He],[()=>kB,0,()=>Tce,[0,4],()=>_ce,0],3],Iqe=[3,z,cMt,0,[$ae],[()=>bce],1],vce=[3,z,Dae,0,[Lkt,Xkt,rDt],[4,4,0]],Cqe=[-3,z,ZDt,{[Lr]:Fr},[en],[0]];Ve.for(z).registerError(Cqe,R8);_ce=[3,z,Lae,0,[wPt],[()=>aje]],Nqe=[-3,z,iMt,{[Lr]:SUt},[en],[0]];Ve.for(z).registerError(Nqe,XR);Oqe=[-3,z,WDt,{[Lr]:Fr,[EGe]:421},[PA],[0]];Ve.for(z).registerError(Oqe,e8);Pqe=[-3,z,KDt,{[Lr]:Fr},[en],[0]];Ve.for(z).registerError(Pqe,_8);kqe=[-3,z,nMt,{[Lr]:Fr},[en],[0]];Ve.for(z).registerError(kqe,A8);z8=[3,z,NA,0,[VDt,FBt],[()=>uFt,65]],Dqe=[-3,z,qDt,{[Lr]:Fr},[en],[0]];Ve.for(z).registerError(Dqe,n8);Mqe=[3,z,tMt,0,[nh],[()=>ff]],Lqe=[3,z,lMt,0,[bMt,_B,IA,L8,Pu],[()=>zUt,64,2,0,128],1],Bqe=[3,z,gMt,0,[vB,yMt],[0,0],2],$qe=[3,z,dMt,0,[U8,Tae,gkt,gae],[0,0,0,0]],xce=[3,z,mMt,0,[fr,U8,Cae],[0,0,()=>hce],2],Sce=[3,z,hMt,0,[fr,U8,Tae,Cae],[0,0,0,()=>hce]],Uqe=[-3,z,CMt,{[Lr]:Fr},[en],[0]];Ve.for(z).registerError(Uqe,s8);Fqe=[3,z,xMt,0,[fr,OA,x$t,S$t,Vkt,Sae],[0,1,4,4,0,0]],zqe=[3,z,SMt,0,[jVe,IMt],[()=>TUt,0]],Vqe=[3,z,AMt,0,[fr,uf,IHe],[0,0,1]],Hqe=[3,z,EMt,0,[KVe,uf],[()=>IUt,0]],Gqe=[3,z,OMt,0,[ih,IHe,uf],[0,1,0]],jqe=[3,z,PMt,0,[aHe,uf],[()=>NUt,0]],qqe=[3,z,MMt,0,[Hkt,OA,Aa],[0,1,0]],Jqe=[3,z,LMt,0,[UDt,NMt],[()=>LUt,0]],Wqe=[3,z,UMt,0,[ih,RLt,uf],[0,1,0]],Kqe=[3,z,FMt,0,[SHe,uf],[()=>UUt,0]],Qqe=[3,z,QMt,0,[qkt,OA],[0,1]],Xqe=[3,z,XMt,0,[b$t,kMt],[64,0]],Yqe=[3,z,ZMt,0,[kA,uf],[0,0],1],Zqe=[3,z,eLt,0,[oce,uf],[()=>kce,0]],eJe=[3,z,JMt,0,[ai,ku,i1],[0,()=>zd,()=>o1],3],tJe=[3,z,HMt,0,[ai,ku,i1,xHe,D8,vHe],[0,()=>zd,()=>o1,1,1,0]],rJe=[3,z,jMt,0,[ai,ku,i1],[0,()=>zd,()=>o1]],al=[3,z,$d,0,[NHe,iLt],[1,1]],MA=[3,z,r1,0,[NHe],[1]],nJe=[3,z,NLt,0,[Yae,zae,df],[0,()=>Pce,0],1],iJe=[3,z,kHe,0,[yLt,JHe,zkt,zMt],[0,1,4,4]],oJe=[3,z,DHe,0,[gLt,JHe],[2,1],1],sJe=[-3,z,bLt,{[Lr]:Fr},[en],[0]];Ve.for(z).registerError(sJe,x8);aJe=[-3,z,vLt,{[Lr]:Fr},[en],[0]];Ve.for(z).registerError(aJe,p8);o1=[3,z,i1,0,[DLt,aLt],[0,64]],Fd=[3,z,Ud,0,[B8,OB],[1,1],2],wce=[3,z,PLt,0,[$Mt,TMt,cLt,B8,OB],[4,4,1,1,1]],cJe=[-3,z,kLt,{[Lr]:Fr},[en,bGe],[0,()=>Dce]];Ve.for(z).registerError(cJe,t8);LA=[3,z,n1,0,[B8],[1]],lJe=[3,z,HHe,0,[nh,fr,kv,Pu,th,df],[()=>Lce,0,0,128,()=>ah,0],2],uJe=[3,z,fLt,0,[fr,nh,Pae,Jae,sl,$8,k8,kv,Pu,th,df],[0,()=>Lce,()=>Mce,0,0,0,0,0,128,()=>ah,0],2],dJe=[3,z,hLt,0,[bae,gc,NA],[()=>ff,()=>sh,()=>z8]],pJe=[3,z,LHe,0,[nh],[()=>Lce],1],fJe=[3,z,ELt,0,[kA,VHe,iHe,hPt],[0,0,0,[2,{[vUt]:AUt}]],2],mJe=[3,z,TLt,0,[Hae],[0]],hJe=[3,z,$Lt,0,[fr,ai,fGe,_B,OA,IA,AHe,BLt,k8,GBt,sHe,sl,L8,fHe,uMt,Pu,th],[0,0,0,64,1,2,()=>dFt,()=>zWe,0,2,()=>yc,0,0,0,0,128,()=>ah],1],gJe=[3,z,ULt,0,[Uae,eHe,rGe,Fae,gc],[()=>BB,1,1,()=>yc,()=>sh]],yJe=[3,z,MBt,0,[Aa],[0]],bJe=[-3,z,FLt,{[Lr]:Fr},[en],[0]];Ve.for(z).registerError(bJe,E8);vJe=[3,z,zLt,0,[Aa,cf,WHe,QHe,Gae],[0,()=>XUt,()=>eh,()=>eh,0]],_Je=[3,z,HLt,0,[Aa,sBt,bBt],[0,()=>YUt,()=>oh],1],xJe=[3,z,qLt,0,[Aa,Gae,_Bt,wBt,EB,n1,r1,pf,cf,lBt,eGe],[0,0,0,0,0,()=>LA,()=>MA,()=>Rce,()=>ZUt,4,()=>DB]],SJe=[3,z,WLt,0,[ai,n1,r1],[0,()=>LA,()=>MA],1],wJe=[3,z,KLt,0,[ai,Bae,BHe,UHe],[0,0,()=>eh,()=>eh]],AJe=[3,z,XLt,0,[ai,wLt],[0,()=>oh]],EJe=[3,z,ZLt,0,[ai,n1,r1,pf],[0,()=>LA,()=>MA,()=>yce]],TJe=[3,z,nBt,0,[ai,Bae,$He,BHe,zHe,UHe],[0,0,1,()=>eh,1,()=>eh],1],RJe=[3,z,jHe,0,[ai,$He,SLt],[0,1,()=>oh],1],IJe=[-3,z,mBt,{[Lr]:Fr},[en],[0]];Ve.for(z).registerError(IJe,T8);CJe=[3,z,SBt,0,[Aa,Gae,jLt,KHe,WHe,vBt,QHe,rBt,eGe],[0,0,()=>dce,1,()=>eh,1,()=>eh,()=>eFt,()=>DB],1],NJe=[3,z,YHe,0,[Aa,KHe,yBt,jHe,EBt],[0,1,()=>oh,()=>tFt,0],1],OJe=[-3,z,DBt,{[Lr]:Fr},[en],[0]];Ve.for(z).registerError(OJe,i8);PJe=[3,z,aBt,0,[wB,NB,CA],[()=>ije,()=>wWe,()=>gje]],kJe=[3,z,PBt,0,[wB,CA],[()=>nje,()=>hje]],DJe=[-3,z,fBt,{[Lr]:Fr},[en,bGe],[0,()=>Dce]];Ve.for(z).registerError(DJe,YR);MJe=[-3,z,dBt,{[Lr]:Fr},[en],[0]];Ve.for(z).registerError(MJe,u8);LJe=[-3,z,hBt,{[Lr]:Fr},[en],[0]];Ve.for(z).registerError(LJe,r8);BJe=[3,z,ZHe,0,[GHe,uBt,BBt,uGe],[4,2,0,0],2],$Je=[3,z,RBt,0,[xGe,O8,zVe,gHe,THe,n1,r1,aGe],[0,0,0,()=>LB,()=>Oce,()=>Fd,()=>al,()=>BA],2],UJe=[3,z,IBt,0,[DA],[()=>Dv]],FJe=[3,z,NBt,0,[xGe,uGe,QBt,rUt,GHe,zVe,gHe,THe,n1,r1,aGe],[0,0,0,2,4,0,()=>LB,()=>Oce,()=>Fd,()=>al,()=>BA],1],zJe=[3,z,OBt,0,[DA],[()=>Dv]],kB=[3,z,RB,0,[Wae,Kae,jBt],[0,0,0],1],VJe=[3,z,VBt,0,[fr,ai,_B,OA,fGe,zBt,k8,sHe,sl,T$t,e$t,L8,fHe,Pu,th,IA],[0,0,64,1,0,()=>zWe,0,()=>yc,0,1,1,0,0,128,()=>ah,2],1],HJe=[3,z,qBt,0,[Uae,eHe,rGe,Fae,gc],[()=>BB,1,1,()=>yc,()=>sh]],GJe=[3,z,dGe,0,[fr,F8,ku,r$t,Ud,ih,vGe,$d,D8,P8],[0,0,()=>zd,4,()=>Fd,0,1,()=>al,1,0],5],jJe=[3,z,pGe,0,[M8,cf,$Bt,nce,Qae],[()=>jUt,()=>kUt,()=>V8,()=>Ice,()=>Ace]],Ace=[3,z,Qae,0,[Zae,cGe,fMt,JDt],[0,0,0,4]],BA=[3,z,CB,0,[uHe,cGe,EB],[2,0,0]],V8=[3,z,IB,0,[UBt,XBt],[2,0],1],qJe=[-3,z,t$t,{[Lr]:Fr},[en],[0]];Ve.for(z).registerError(qJe,w8);Ece=[3,z,ece,0,[fr,_Ge,tGe],[0,0,()=>KUt]],DB=[3,z,gGe,0,[tce,RHe],[0,4]],Tce=[3,z,rce,0,[fr,N8,ku,P8,Ud,$d,CB,cf],[0,()=>MB,()=>zd,0,()=>Fd,()=>al,()=>BA,()=>LB],3],Dv=[3,z,DA,0,[N8,fr,ku,_Ge,WVe,Ud,vGe,D8,ih,F8,VVe,M8,cf,IB,WMt,VMt,PDt,tGe,kDt,ZHe,Qae,MVe,gGe,Eae,$d,pf,CHe],[()=>MB,0,()=>zd,0,4,()=>wce,1,1,0,0,()=>dce,()=>GUt,()=>PUt,()=>V8,0,0,0,()=>MWe,()=>BUt,()=>BJe,()=>Ace,()=>RGe,()=>DB,2,()=>al,()=>Rce,0]],JJe=[-3,z,p$t,{[Lr]:Fr},[en],[0]];Ve.for(z).registerError(JJe,a8);WJe=[-3,z,y$t,{[Lr]:Fr},[en],[0]];Ve.for(z).registerError(WJe,c8);Rce=[3,z,k$t,0,[jae,cce,Zae],[1,1,0]],KJe=[3,z,D$t,0,[lf,ace],[0,0],2],QJe=[3,z,v$t,0,[kA,oce],[0,()=>kce],2],XJe=[-3,z,o$t,{[bUt]:["Throttling",400],[Lr]:Fr,[EGe]:400},[en,wUt],[0,()=>Dce]];Ve.for(z).registerError(XJe,ZR);YJe=[3,z,A$t,0,[_Ut,xUt],[0,0]],Ice=[3,z,nce,0,[R$t,vB],[0,0]],Cce=[3,z,ice,0,[uHe,vB],[2,0],2],ZJe=[3,z,s$t,0,[hHe],[()=>aqe],1],eWe=[3,z,a$t,0,[yGe,sl],[()=>oFt,0],1],tWe=[3,z,l$t,0,[gc,TB],[()=>UA,()=>DWe]],rWe=[-3,z,n$t,{[Lr]:Fr},[PA,yPt],[0,()=>RUt]];Ve.for(z).registerError(rWe,C8);nWe=[-3,z,i$t,{[Lr]:Fr},[en],[0]];Ve.for(z).registerError(nWe,d8);iWe=[-3,z,d$t,{[Lr]:Fr},[PA],[0]];Ve.for(z).registerError(iWe,b8);oWe=[3,z,I$t,0,[JVe,HHe,CA,NB],[()=>WGe,()=>lJe,()=>cje,()=>lWe]],sWe=[3,z,C$t,0,[yGe,sl,$8,XVe],[()=>sFt,0,0,[0,4]],1],aWe=[3,z,O$t,0,[gc,NA],[()=>UA,()=>VWe]],cWe=[3,z,oUt,0,[kA,f$t],[0,64],2],lWe=[3,z,NB,0,[lf,AGe,fr,kv,Pu,th,df],[()=>yc,0,0,0,128,()=>ah,0],3],uWe=[3,z,L$t,0,[fr,DHe],[0,()=>oJe],2],dWe=[3,z,B$t,0,[wae],[()=>mce]],pWe=[3,z,U$t,0,[fr,aPt,ai,xB],[0,0,0,0],2],fWe=[3,z,F$t,0,[fr,ai,Aae,xB],[0,0,0,0]],mWe=[3,z,z$t,0,[ai,Ud,$d,pf],[0,()=>Fd,()=>al,()=>$A],1],hWe=[3,z,H$t,0,[rh,qae],[0,()=>iFt],2],gWe=[3,z,G$t,0,[AB],[()=>PB]],yWe=[3,z,q$t,0,[rh,EDt,NDt,CDt,bHe,YHe],[0,0,1,()=>oh,()=>MUt,()=>rFt],1],bWe=[3,z,J$t,0,[rh,XHe],[0,()=>$We]],vWe=[3,z,K$t,0,[fr,lf,$Ve,Pae,k8,Jae,sl,$8,AGe,kv,Pu,th,df],[0,()=>yc,()=>cFt,()=>Mce,0,0,0,0,0,0,128,()=>ah,0],2],_We=[3,z,Q$t,0,[bae,gc,NA],[()=>ff,()=>sh,()=>z8]],Nce=[3,z,sce,0,[gae],[0]],xWe=[3,z,eUt,0,[fr,U8,sce],[0,0,()=>Nce],2],SWe=[3,z,tUt,0,[fr,U8,Tae,sce],[0,0,0,()=>Nce]],wWe=[3,z,iUt,0,[Aa,EB,n1,r1,cf,hGe],[0,0,()=>LA,()=>MA,()=>LWe,0],1],AWe=[3,z,aUt,0,[fr,N8,P8,Ud,yHe,IB,CB,qae,tce,Eae,CHe,$Dt,$d,pf],[0,()=>MB,0,()=>Fd,()=>DUt,()=>V8,()=>BA,()=>nFt,0,2,0,()=>$Ut,()=>al,()=>$A],1],EWe=[3,z,cUt,0,[DA],[()=>Dv]],TWe=[3,z,uUt,0,[fr,yHe,FHe,qae],[0,()=>OUt,()=>oh,()=>QUt],1],RWe=[3,z,dUt,0,[ece],[()=>Ece]],IWe=[3,z,fUt,0,[fr,ice],[0,()=>Cce],2],CWe=[3,z,mUt,0,[ice],[()=>Cce]],$A=[3,z,pf,0,[jae,cce],[1,1]],NWe=[3,z,hUt,0,[LHe,tHe],[()=>pJe,()=>yje]],OWe="unit",PWe=[-3,TGe,"DynamoDBServiceException",0,[],[]];Ve.for(TGe).registerError(PWe,pr);MB=[1,z,N8,0,()=>IGe],kWe=[1,z,yae,0,()=>Du],EUt=[1,z,g7t,0,()=>NGe],TUt=[1,z,jVe,0,()=>LGe],RUt=[1,z,mPt,0,()=>qGe],UA=[1,z,tPt,0,()=>sh],IUt=[1,z,KVe,0,()=>QGe],CUt=[1,z,lHe,0,()=>Kje],NUt=[1,z,aHe,0,()=>nqe],OUt=[1,z,fDt,0,()=>fqe],PUt=[1,z,hDt,0,()=>mqe],kUt=[1,z,cf,0,()=>hqe],LB=[1,z,yDt,0,()=>pqe],DUt=[1,z,vDt,0,()=>gqe],MUt=[1,z,TDt,0,()=>vqe],LUt=[1,z,RDt,0,()=>yqe],BUt=[1,z,MDt,0,()=>xqe],$Ut=[1,z,BDt,0,()=>Sqe],UUt=[1,z,SHe,0,()=>Tqe],FUt=[1,z,GDt,0,()=>z8],BB=[1,z,XDt,0,()=>ff],DWe=[1,z,rMt,0,()=>Mqe],zUt=[1,z,pMt,0,()=>yc],zd=[1,z,ku,0,()=>Bqe],VUt=[1,z,EHe,0,()=>$qe],HUt=[1,z,vMt,0,()=>Du],GUt=[1,z,GMt,0,()=>tJe],jUt=[1,z,M8,0,()=>rJe],Oce=[1,z,qMt,0,()=>eJe],qUt=[1,z,OLt,0,()=>nJe],JUt=[1,z,_Lt,0,()=>VGe],WUt=[1,z,xLt,0,()=>HGe],Pce=[1,z,CLt,0,()=>Du],KUt=[1,z,VLt,0,()=>vJe],QUt=[1,z,GLt,0,()=>_Je],MWe=[1,z,JLt,0,()=>xJe],XUt=[1,z,QLt,0,()=>wJe],YUt=[1,z,YLt,0,()=>AJe],ZUt=[1,z,eBt,0,()=>EJe],LWe=[1,z,tBt,0,()=>SJe],eFt=[1,z,iBt,0,()=>TJe],tFt=[1,z,oBt,0,()=>RJe],BWe=[1,z,pBt,0,()=>yJe],$We=[1,z,xBt,0,()=>CJe],rFt=[1,z,ABt,0,()=>NJe],nFt=[1,z,cBt,0,()=>PJe],iFt=[1,z,kBt,0,()=>kJe],kce=[1,z,m$t,0,()=>KJe],Dce=[1,z,_$t,0,()=>YJe],oFt=[1,z,c$t,0,()=>ZJe],sFt=[1,z,N$t,0,()=>oWe],aFt=[1,z,gUt,0,()=>NWe],ff=[2,z,d7t,0,0,()=>Du],cFt=[2,z,$Ve,0,0,()=>CGe],UWe=[2,z,D7t,0,0,()=>Lqe],lFt=[2,z,k7t,0,0,()=>BB],FWe=[2,z,J7t,0,0,()=>aFt],Mce=[2,z,Nkt,0,0,()=>eqe],ah=[2,z,Okt,0,0,()=>Du],zWe=[2,z,oDt,0,0,()=>fce],uFt=[2,z,HDt,0,0,()=>Du],VWe=[2,z,jDt,0,0,()=>FUt],yc=[2,z,lf,0,0,()=>Du],dFt=[2,z,AHe,0,0,()=>fce],pFt=[2,z,nLt,0,0,()=>Du],Lce=[2,z,mLt,0,0,()=>Du],DVe=[2,z,HBt,0,0,()=>pce],Du=[4,z,w7t,0,[YBt,sLt,W7t,KBt,lLt,V7t,oLt,rLt,uLt,B7t],[0,0,21,64,64,85,()=>pFt,()=>HUt,2,2]],Bce=[9,z,R7t,0,()=>BGe,()=>$Ge],$ce=[9,z,N7t,0,()=>UGe,()=>FGe],Uce=[9,z,G7t,0,()=>GGe,()=>jGe],Fce=[9,z,K7t,0,()=>XGe,()=>YGe],zce=[9,z,nPt,0,()=>eje,()=>tje],Vce=[9,z,_Pt,0,()=>oje,()=>sje],Hce=[9,z,EPt,0,()=>lje,()=>uje],Gce=[9,z,XPt,0,()=>fje,()=>mje],jce=[9,z,fkt,0,()=>bje,()=>vje],qce=[9,z,ykt,0,()=>_je,()=>xje],Jce=[9,z,NPt,0,()=>Sje,()=>wje],Wce=[9,z,OPt,0,()=>Aje,()=>Eje],Kce=[9,z,DPt,0,()=>Tje,()=>Rje],Qce=[9,z,BPt,0,()=>Ije,()=>Cje],Xce=[9,z,VPt,0,()=>Nje,()=>Oje],Yce=[9,z,GPt,0,()=>Pje,()=>kje],Zce=[9,z,JPt,0,()=>Dje,()=>Mje],ele=[9,z,nkt,0,()=>Lje,()=>Bje],tle=[9,z,ikt,0,()=>$je,()=>Uje],rle=[9,z,ckt,0,()=>Fje,()=>zje],nle=[9,z,Ikt,0,()=>Vje,()=>Hje],ile=[9,z,Skt,0,()=>Gje,()=>jje],ole=[9,z,Ekt,0,()=>qje,()=>Jje],sle=[9,z,akt,0,()=>xce,()=>Sce],ale=[9,z,Bkt,0,()=>xce,()=>Sce],cle=[9,z,Wkt,0,()=>Qje,()=>Xje],lle=[9,z,tDt,0,()=>Yje,()=>Zje],ule=[9,z,Ykt,0,()=>iqe,()=>oqe],dle=[9,z,sDt,0,()=>cqe,()=>lqe],ple=[9,z,lDt,0,()=>uqe,()=>dqe],fle=[9,z,sMt,0,()=>Rqe,()=>Iqe],mle=[9,z,_Mt,0,()=>Fqe,()=>zqe],hle=[9,z,wMt,0,()=>Vqe,()=>Hqe],gle=[9,z,RMt,0,()=>Gqe,()=>jqe],yle=[9,z,DMt,0,()=>qqe,()=>Jqe],ble=[9,z,BMt,0,()=>Wqe,()=>Kqe],vle=[9,z,KMt,0,()=>Qqe,()=>Xqe],_le=[9,z,YMt,0,()=>Yqe,()=>Zqe],xle=[9,z,dLt,0,()=>uJe,()=>dJe],Sle=[9,z,ALt,0,()=>fJe,()=>mJe],wle=[9,z,LLt,0,()=>hJe,()=>gJe],Ale=[9,z,TBt,0,()=>$Je,()=>UJe],Ele=[9,z,CBt,0,()=>FJe,()=>zJe],Tle=[9,z,ZBt,0,()=>VJe,()=>HJe],Rle=[9,z,w$t,0,()=>QJe,()=>OWe],Ile=[9,z,u$t,0,()=>eWe,()=>tWe],Cle=[9,z,P$t,0,()=>sWe,()=>aWe],Nle=[9,z,nUt,0,()=>cWe,()=>OWe],Ole=[9,z,M$t,0,()=>uWe,()=>dWe],Ple=[9,z,$$t,0,()=>pWe,()=>fWe],kle=[9,z,V$t,0,()=>hWe,()=>gWe],Dle=[9,z,j$t,0,()=>yWe,()=>bWe],Mle=[9,z,X$t,0,()=>vWe,()=>_We],Lle=[9,z,Z$t,0,()=>xWe,()=>SWe],Ble=[9,z,sUt,0,()=>AWe,()=>EWe],$le=[9,z,lUt,0,()=>TWe,()=>RWe],Ule=[9,z,pUt,0,()=>IWe,()=>CWe]});var Mv,$B=y(()=>{"use strict";Ge();Ae();Pt();kt();Mv=class extends oe.classBuilder().ep(Pe).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeEndpoints",{}).n("DynamoDBClient","DescribeEndpointsCommand").sc(Qce).build(){}});var GWe,HWe=y(()=>{GWe={name:"@aws-sdk/client-dynamodb",description:"AWS SDK for JavaScript Dynamodb Client for Node.js, Browser and React Native",version:"3.980.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-dynamodb","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"premove dist-cjs dist-es dist-types tsconfig.cjs.tsbuildinfo tsconfig.es.tsbuildinfo tsconfig.types.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo dynamodb","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"^3.973.5","@aws-sdk/credential-provider-node":"^3.972.4","@aws-sdk/dynamodb-codec":"^3.972.5","@aws-sdk/middleware-endpoint-discovery":"^3.972.3","@aws-sdk/middleware-host-header":"^3.972.3","@aws-sdk/middleware-logger":"^3.972.3","@aws-sdk/middleware-recursion-detection":"^3.972.3","@aws-sdk/middleware-user-agent":"^3.972.5","@aws-sdk/region-config-resolver":"^3.972.3","@aws-sdk/types":"^3.973.1","@aws-sdk/util-endpoints":"3.980.0","@aws-sdk/util-user-agent-browser":"^3.972.3","@aws-sdk/util-user-agent-node":"^3.972.3","@smithy/config-resolver":"^4.4.6","@smithy/core":"^3.22.0","@smithy/fetch-http-handler":"^5.3.9","@smithy/hash-node":"^4.2.8","@smithy/invalid-dependency":"^4.2.8","@smithy/middleware-content-length":"^4.2.8","@smithy/middleware-endpoint":"^4.4.12","@smithy/middleware-retry":"^4.4.29","@smithy/middleware-serde":"^4.2.9","@smithy/middleware-stack":"^4.2.8","@smithy/node-config-provider":"^4.3.8","@smithy/node-http-handler":"^4.4.8","@smithy/protocol-http":"^5.3.8","@smithy/smithy-client":"^4.11.1","@smithy/types":"^4.12.0","@smithy/url-parser":"^4.2.8","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.28","@smithy/util-defaults-mode-node":"^4.2.31","@smithy/util-endpoints":"^3.2.8","@smithy/util-middleware":"^4.2.8","@smithy/util-retry":"^4.2.8","@smithy/util-utf8":"^4.2.0","@smithy/util-waiter":"^4.2.8",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node20":"20.1.8","@types/node":"^20.14.8",concurrently:"7.0.0","downlevel-dts":"0.10.1",premove:"4.0.0",typescript:"~5.8.3"},engines:{node:">=20.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-dynamodb",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-dynamodb"}}});var UB,jWe,Fle,zle,qWe=y(()=>{"use strict";vm();ln();Ae();Ms();UB=class extends s0{constructor(){super({timestampFormat:{useTrait:!0,default:7},jsonName:!1})}createSerializer(){let e=new Fle(this.settings);return e.setSerdeContext(this.serdeContext),e}createDeserializer(){let e=new zle(this.settings);return e.setSerdeContext(this.serdeContext),e}},jWe="com.amazonaws.dynamodb#AttributeValue",Fle=class extends wS{_write(e,r,n){let i=Kt.of(e);if(i.isStructSchema()&&i.getName(!0)===jWe&&r&&typeof r=="object"){let o=r,s=I3(o),a=this.serdeContext?.base64Encoder??Un;if(o.B instanceof Uint8Array&&(s.B=a(o.B)),Array.isArray(o.BS)&&(s.BS=o.BS.map(a)),Array.isArray(o.L)&&(s.L=o.L.filter(c=>c!=null).map(c=>this._write(i,c,n))),o.M&&typeof o.M=="object"){s.M={};for(let[c,l]of Object.entries(o.M))l!=null&&(s.M[c]=this._write(i,l,n))}return s}return super._write(i,r,n)}},zle=class extends SS{_read(e,r){let n=Kt.of(e);if(n.isStructSchema()&&n.getName(!0)===jWe&&r&&typeof r=="object"){let i=r,o=I3(i),s=this.serdeContext?.base64Decoder??gi;if(typeof i.B=="string"&&(o.B=s(i.B)),Array.isArray(i.BS)&&(o.BS=i.BS.map(s)),Array.isArray(i.L)&&(o.L=i.L.map(a=>this._read(n,a))),i.M&&typeof i.M=="object"){o.M={};for(let[a,c]of Object.entries(i.M))o.M[a]=this._read(n,c)}return o}return super._read(n,r)}}});var JWe=y(()=>{"use strict";qWe()});var Gle,Wt,ji,bn,Dt,FB,mf,hf,hKe,qi,qs,WWe,bc,bo,jle,H8,KWe,QWe,mFt,XWe,gKe,YWe,ZWe,FA,eKe,yKe,tKe,ch,rKe,nKe,Vle,G8,iKe,oKe,Hle,sKe,aKe,cKe,lKe,uKe,dKe,pKe,fKe,mKe,hFt,bKe,vKe=y(()=>{"use strict";Gle="required",Wt="type",ji="rules",bn="conditions",Dt="argv",FB="assign",mf="properties",hf="headers",hKe="metricValues",qi="error",qs="stringEquals",WWe="https://dynamodb.{Region}.{PartitionResult#dualStackDnsSuffix}",bc="endpoint",bo="tree",jle="dynamodb",H8={[Gle]:!1,[Wt]:"string"},KWe={[Gle]:!0,default:!1,[Wt]:"boolean"},QWe={fn:"isSet",[Dt]:[{ref:"Endpoint"}]},mFt={ref:"Endpoint"},XWe={fn:"isSet",[Dt]:[{ref:"Region"}]},gKe={ref:"Region"},YWe={fn:"aws.partition",[Dt]:[gKe],[FB]:"PartitionResult"},ZWe={[bn]:[{fn:"booleanEquals",[Dt]:[{ref:"UseFIPS"},!0]}],[qi]:"Invalid Configuration: FIPS and custom endpoint are not supported",[Wt]:qi},FA={fn:"booleanEquals",[Dt]:[{ref:"UseFIPS"},!0]},eKe={[bn]:[{fn:"booleanEquals",[Dt]:[{ref:"UseDualStack"},!0]}],[qi]:"Invalid Configuration: Dualstack and custom endpoint are not supported",[Wt]:qi},yKe={fn:"booleanEquals",[Dt]:[{ref:"UseDualStack"},!0]},tKe={[bc]:{url:"{Endpoint}",[mf]:{},[hf]:{}},[Wt]:bc},ch={},rKe={fn:"booleanEquals",[Dt]:[{fn:"getAttr",[Dt]:[{ref:"PartitionResult"},"supportsFIPS"]},!0]},nKe={fn:"booleanEquals",[Dt]:[{fn:"getAttr",[Dt]:[{ref:"PartitionResult"},"supportsDualStack"]},!0]},Vle={[bn]:[{fn:"isSet",[Dt]:[{ref:"AccountIdEndpointMode"}]},{fn:qs,[Dt]:[{ref:"AccountIdEndpointMode"},"required"]}],[ji]:[{[qi]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[Wt]:qi}],[Wt]:bo},G8={fn:"getAttr",[Dt]:[{ref:"PartitionResult"},"name"]},iKe={[bc]:{url:"https://dynamodb.{Region}.{PartitionResult#dnsSuffix}",[mf]:{},[hf]:{}},[Wt]:bc},oKe={url:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[mf]:{[hKe]:["O"]},[hf]:{}},Hle={[hKe]:["O"]},sKe={[qi]:"Credentials-sourced account ID parameter is invalid",[Wt]:qi},aKe={[bn]:[{fn:"isSet",[Dt]:[{ref:"AccountIdEndpointMode"}]},{fn:qs,[Dt]:[{ref:"AccountIdEndpointMode"},"required"]}],[ji]:[{[bn]:[{fn:"not",[Dt]:[FA]}],[ji]:[{[bn]:[{fn:qs,[Dt]:[G8,"aws"]}],[ji]:[{[qi]:"AccountIdEndpointMode is required but no AccountID was provided or able to be loaded",[Wt]:qi}],[Wt]:bo},{[qi]:"Invalid Configuration: AccountIdEndpointMode is required but account endpoints are not supported in this partition",[Wt]:qi}],[Wt]:bo},{[qi]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[Wt]:qi}],[Wt]:bo},cKe={url:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[mf]:Hle,[hf]:{}},lKe=[FA],uKe=[yKe],dKe=[{fn:"isSet",[Dt]:[{ref:"AccountIdEndpointMode"}]},{fn:"not",[Dt]:[{fn:qs,[Dt]:[{ref:"AccountIdEndpointMode"},"disabled"]}]},{fn:qs,[Dt]:[G8,"aws"]},{fn:"not",[Dt]:[FA]},{fn:"isSet",[Dt]:[{ref:"ResourceArn"}]},{fn:"aws.parseArn",[Dt]:[{ref:"ResourceArn"}],[FB]:"ParsedArn"},{fn:qs,[Dt]:[{fn:"getAttr",[Dt]:[{ref:"ParsedArn"},"service"]},jle]},{fn:"isValidHostLabel",[Dt]:[{fn:"getAttr",[Dt]:[{ref:"ParsedArn"},"region"]},!1]},{fn:qs,[Dt]:[{fn:"getAttr",[Dt]:[{ref:"ParsedArn"},"region"]},"{Region}"]},{fn:"isValidHostLabel",[Dt]:[{fn:"getAttr",[Dt]:[{ref:"ParsedArn"},"accountId"]},!1]}],pKe=[{fn:"isSet",[Dt]:[{ref:"AccountIdEndpointMode"}]},{fn:"not",[Dt]:[{fn:qs,[Dt]:[{ref:"AccountIdEndpointMode"},"disabled"]}]},{fn:qs,[Dt]:[G8,"aws"]},{fn:"not",[Dt]:[FA]},{fn:"isSet",[Dt]:[{ref:"ResourceArnList"}]},{fn:"getAttr",[Dt]:[{ref:"ResourceArnList"},"[0]"],[FB]:"FirstArn"},{fn:"aws.parseArn",[Dt]:[{ref:"FirstArn"}],[FB]:"ParsedArn"},{fn:qs,[Dt]:[{fn:"getAttr",[Dt]:[{ref:"ParsedArn"},"service"]},jle]},{fn:"isValidHostLabel",[Dt]:[{fn:"getAttr",[Dt]:[{ref:"ParsedArn"},"region"]},!1]},{fn:qs,[Dt]:[{fn:"getAttr",[Dt]:[{ref:"ParsedArn"},"region"]},"{Region}"]},{fn:"isValidHostLabel",[Dt]:[{fn:"getAttr",[Dt]:[{ref:"ParsedArn"},"accountId"]},!1]}],fKe=[{fn:"isSet",[Dt]:[{ref:"AccountIdEndpointMode"}]},{fn:"not",[Dt]:[{fn:qs,[Dt]:[{ref:"AccountIdEndpointMode"},"disabled"]}]},{fn:qs,[Dt]:[G8,"aws"]},{fn:"not",[Dt]:[FA]},{fn:"isSet",[Dt]:[{ref:"AccountId"}]}],mKe=[{fn:"isValidHostLabel",[Dt]:[{ref:"AccountId"},!1]}],hFt={version:"1.0",parameters:{Region:H8,UseDualStack:KWe,UseFIPS:KWe,Endpoint:H8,AccountId:H8,AccountIdEndpointMode:H8,ResourceArn:H8,ResourceArnList:{[Gle]:!1,[Wt]:"stringArray"}},[ji]:[{[bn]:[QWe,XWe,YWe],[ji]:[ZWe,eKe,{[bn]:[{fn:qs,[Dt]:[mFt,WWe]}],error:"Endpoint override is not supported for dual-stack endpoints. Please enable dual-stack functionality by enabling the configuration. For more details, see: https://docs.aws.amazon.com/sdkref/latest/guide/feature-endpoints.html",[Wt]:qi},tKe],[Wt]:bo},{[bn]:[QWe],[ji]:[ZWe,eKe,tKe],[Wt]:bo},{[bn]:[XWe],[ji]:[{[bn]:[YWe],[ji]:[{[bn]:[{fn:qs,[Dt]:[gKe,"local"]}],[ji]:[{[bn]:lKe,error:"Invalid Configuration: FIPS and local endpoint are not supported",[Wt]:qi},{[bn]:uKe,error:"Invalid Configuration: Dualstack and local endpoint are not supported",[Wt]:qi},{endpoint:{url:"http://localhost:8000",[mf]:{authSchemes:[{name:"sigv4",signingRegion:"us-east-1",signingName:jle}]},[hf]:ch},[Wt]:bc}],[Wt]:bo},{[bn]:[FA,yKe],[ji]:[{[bn]:[rKe,nKe],[ji]:[Vle,{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[mf]:ch,[hf]:ch},[Wt]:bc}],[Wt]:bo},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[Wt]:qi}],[Wt]:bo},{[bn]:lKe,[ji]:[{[bn]:[rKe],[ji]:[{[bn]:[{fn:qs,[Dt]:[G8,"aws-us-gov"]}],[ji]:[Vle,iKe],[Wt]:bo},Vle,{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dnsSuffix}",[mf]:ch,[hf]:ch},[Wt]:bc}],[Wt]:bo},{error:"FIPS is enabled but this partition does not support FIPS",[Wt]:qi}],[Wt]:bo},{[bn]:uKe,[ji]:[{[bn]:[nKe],[ji]:[{[bn]:dKe,endpoint:oKe,[Wt]:bc},{[bn]:pKe,endpoint:oKe,[Wt]:bc},{[bn]:fKe,[ji]:[{[bn]:mKe,[ji]:[{endpoint:{url:"https://{AccountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[mf]:Hle,[hf]:ch},[Wt]:bc}],[Wt]:bo},sKe],[Wt]:bo},aKe,{endpoint:{url:WWe,[mf]:ch,[hf]:ch},[Wt]:bc}],[Wt]:bo},{error:"DualStack is enabled but this partition does not support DualStack",[Wt]:qi}],[Wt]:bo},{[bn]:dKe,endpoint:cKe,[Wt]:bc},{[bn]:pKe,endpoint:cKe,[Wt]:bc},{[bn]:fKe,[ji]:[{[bn]:mKe,[ji]:[{endpoint:{url:"https://{AccountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[mf]:Hle,[hf]:ch},[Wt]:bc}],[Wt]:bo},sKe],[Wt]:bo},aKe,iKe],[Wt]:bo}],[Wt]:bo},{error:"Invalid Configuration: Missing Region",[Wt]:qi}]},bKe=hFt});var gFt,_Ke,xKe=y(()=>{"use strict";r0();wd();vKe();gFt=new ec({size:50,params:["AccountId","AccountIdEndpointMode","Endpoint","Region","ResourceArn","ResourceArnList","UseDualStack","UseFIPS"]}),_Ke=(t,e={})=>gFt.get(t,()=>Vl(bKe,{endpointParams:t,logger:e.logger}));is.aws=jc});var SKe,wKe=y(()=>{"use strict";uo();vm();JWe();Ae();bm();Ms();Fi();mae();xKe();SKe=t=>({apiVersion:"2012-08-10",base64Decoder:t?.base64Decoder??gi,base64Encoder:t?.base64Encoder??Un,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??_Ke,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??OVe,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new ss}],logger:t?.logger??new $s,protocol:t?.protocol??ck,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.dynamodb",xmlNamespace:"http://dynamodb.amazonaws.com/doc/2012-08-10/",version:"2012-08-10",serviceTarget:"DynamoDB_20120810",jsonCodec:new UB},serviceId:t?.serviceId??"DynamoDB",urlParser:t?.urlParser??Fo,utf8Decoder:t?.utf8Decoder??Jn,utf8Encoder:t?.utf8Encoder??$n})});var AKe,EKe=y(()=>{"use strict";HWe();uo();aae();see();fae();Rb();ba();Ib();Jc();ou();pm();Ae();Cb();Nb();xm();wKe();AKe=t=>{Ql(process.version);let e=mu(t),r=()=>e().then(Kl),n=SKe(t);Hl(process.version);let i={profile:t?.profile,logger:n.logger};return{...n,...t,runtime:"node",defaultsMode:e,accountIdEndpointMode:t?.accountIdEndpointMode??Rt(sVe,i),authSchemePreference:t?.authSchemePreference??Rt(Gl,i),bodyLengthChecker:t?.bodyLengthChecker??fu,credentialDefaultProvider:t?.credentialDefaultProvider??ID,defaultUserAgentProvider:t?.defaultUserAgentProvider??du({serviceId:n.serviceId,clientVersion:GWe.version}),endpointDiscoveryEnabledProvider:t?.endpointDiscoveryEnabledProvider??Rt(uVe,i),maxAttempts:t?.maxAttempts??Rt(au,t),region:t?.region??Rt(Us,{...rc,...i}),requestHandler:Ls.create(t?.requestHandler??r),retryMode:t?.retryMode??Rt({...lu,default:async()=>(await r()).retryMode||oc},t),sha256:t?.sha256??sc.bind(null,"sha256"),streamCollector:t?.streamCollector??Ka,useDualstackEndpoint:t?.useDualstackEndpoint??Rt(tu,i),useFipsEndpoint:t?.useFipsEndpoint??Rt(ru,i),userAgentAppId:t?.userAgentAppId??Rt(pu,i)}}});var TKe,RKe,IKe=y(()=>{"use strict";TKe=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(i){let o=e.findIndex(s=>s.schemeId===i.schemeId);o===-1?e.push(i):e.splice(o,1,i)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},RKe=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var CKe,NKe=y(()=>{"use strict";h0();ri();Ae();IKe();CKe=(t,e)=>{let r=Object.assign(yu(t),Xl(t),Il(t),TKe(t));return e.forEach(n=>n.configure(r)),Object.assign(t,bu(r),Yl(r),Cl(r),RKe(r))}});var Po,lh=y(()=>{"use strict";aae();fae();db();pb();fb();l0();ba();Fn();ln();Ab();Ge();Jc();Ae();mae();$B();Pt();EKe();NKe();Po=class extends Ao{config;constructor(...[e]){let r=AKe(e||{});super(r),this.initConfig=r;let n=kVe(r),i=rVe(n),o=Ul(i),s=cu(o),a=nu(s),c=a,l=su(c),u=PVe(l),d=IVe(u,{endpointDiscoveryCommandCtor:Mv}),p=CKe(d,e?.extensions||[]);this.config=p,this.middlewareStack.use(Ll(this.config)),this.middlewareStack.use(eu(this.config)),this.middlewareStack.use(uu(this.config)),this.middlewareStack.use(iu(this.config)),this.middlewareStack.use(Ol(this.config)),this.middlewareStack.use(Pl(this.config)),this.middlewareStack.use(kl(this.config)),this.middlewareStack.use(Dl(this.config,{httpAuthSchemeParametersProvider:NVe,identityProviderConfigProvider:async f=>new Za({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use(Ml(this.config))}destroy(){super.destroy()}}});var j8,qle=y(()=>{"use strict";Ge();Ae();Pt();kt();j8=class extends oe.classBuilder().ep(Pe).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchExecuteStatement",{}).n("DynamoDBClient","BatchExecuteStatementCommand").sc(Bce).build(){}});var q8,Jle=y(()=>{"use strict";Ge();Ae();Pt();kt();q8=class extends oe.classBuilder().ep({...Pe,ResourceArnList:{type:"operationContextParams",get:e=>Object.keys(e?.RequestItems??{})}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchGetItem",{}).n("DynamoDBClient","BatchGetItemCommand").sc($ce).build(){}});var J8,Wle=y(()=>{"use strict";Ge();Ae();Pt();kt();J8=class extends oe.classBuilder().ep({...Pe,ResourceArnList:{type:"operationContextParams",get:e=>Object.keys(e?.RequestItems??{})}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchWriteItem",{}).n("DynamoDBClient","BatchWriteItemCommand").sc(Uce).build(){}});var W8,Kle=y(()=>{"use strict";Ge();Ae();Pt();kt();W8=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateBackup",{}).n("DynamoDBClient","CreateBackupCommand").sc(Fce).build(){}});var K8,Qle=y(()=>{"use strict";Ge();Ae();Pt();kt();K8=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateGlobalTable",{}).n("DynamoDBClient","CreateGlobalTableCommand").sc(zce).build(){}});var Q8,Xle=y(()=>{"use strict";Ge();Ae();Pt();kt();Q8=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateTable",{}).n("DynamoDBClient","CreateTableCommand").sc(Vce).build(){}});var X8,Yle=y(()=>{"use strict";Ge();Ae();Pt();kt();X8=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteBackup",{}).n("DynamoDBClient","DeleteBackupCommand").sc(Hce).build(){}});var Y8,Zle=y(()=>{"use strict";Ge();Ae();Pt();kt();Y8=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteItem",{}).n("DynamoDBClient","DeleteItemCommand").sc(Gce).build(){}});var Z8,eue=y(()=>{"use strict";Ge();Ae();Pt();kt();Z8=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteResourcePolicy",{}).n("DynamoDBClient","DeleteResourcePolicyCommand").sc(jce).build(){}});var eI,tue=y(()=>{"use strict";Ge();Ae();Pt();kt();eI=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteTable",{}).n("DynamoDBClient","DeleteTableCommand").sc(qce).build(){}});var tI,rue=y(()=>{"use strict";Ge();Ae();Pt();kt();tI=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeBackup",{}).n("DynamoDBClient","DescribeBackupCommand").sc(Jce).build(){}});var rI,nue=y(()=>{"use strict";Ge();Ae();Pt();kt();rI=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContinuousBackups",{}).n("DynamoDBClient","DescribeContinuousBackupsCommand").sc(Wce).build(){}});var Lv,zB=y(()=>{"use strict";Ge();Ae();Pt();kt();Lv=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContributorInsights",{}).n("DynamoDBClient","DescribeContributorInsightsCommand").sc(Kce).build(){}});var Bv,VB=y(()=>{"use strict";Ge();Ae();Pt();kt();Bv=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"ExportArn"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeExport",{}).n("DynamoDBClient","DescribeExportCommand").sc(Xce).build(){}});var nI,iue=y(()=>{"use strict";Ge();Ae();Pt();kt();nI=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTable",{}).n("DynamoDBClient","DescribeGlobalTableCommand").sc(Yce).build(){}});var iI,oue=y(()=>{"use strict";Ge();Ae();Pt();kt();iI=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTableSettings",{}).n("DynamoDBClient","DescribeGlobalTableSettingsCommand").sc(Zce).build(){}});var $v,HB=y(()=>{"use strict";Ge();Ae();Pt();kt();$v=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"ImportArn"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeImport",{}).n("DynamoDBClient","DescribeImportCommand").sc(ele).build(){}});var Uv,GB=y(()=>{"use strict";Ge();Ae();Pt();kt();Uv=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeKinesisStreamingDestination",{}).n("DynamoDBClient","DescribeKinesisStreamingDestinationCommand").sc(tle).build(){}});var oI,sue=y(()=>{"use strict";Ge();Ae();Pt();kt();oI=class extends oe.classBuilder().ep(Pe).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeLimits",{}).n("DynamoDBClient","DescribeLimitsCommand").sc(rle).build(){}});var uh,sI=y(()=>{"use strict";Ge();Ae();Pt();kt();uh=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTable",{}).n("DynamoDBClient","DescribeTableCommand").sc(nle).build(){}});var aI,aue=y(()=>{"use strict";Ge();Ae();Pt();kt();aI=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTableReplicaAutoScaling",{}).n("DynamoDBClient","DescribeTableReplicaAutoScalingCommand").sc(ile).build(){}});var cI,cue=y(()=>{"use strict";Ge();Ae();Pt();kt();cI=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTimeToLive",{}).n("DynamoDBClient","DescribeTimeToLiveCommand").sc(ole).build(){}});var lI,lue=y(()=>{"use strict";Ge();Ae();Pt();kt();lI=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DisableKinesisStreamingDestination",{}).n("DynamoDBClient","DisableKinesisStreamingDestinationCommand").sc(sle).build(){}});var uI,uue=y(()=>{"use strict";Ge();Ae();Pt();kt();uI=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","EnableKinesisStreamingDestination",{}).n("DynamoDBClient","EnableKinesisStreamingDestinationCommand").sc(ale).build(){}});var dI,due=y(()=>{"use strict";Ge();Ae();Pt();kt();dI=class extends oe.classBuilder().ep(Pe).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteStatement",{}).n("DynamoDBClient","ExecuteStatementCommand").sc(cle).build(){}});var pI,pue=y(()=>{"use strict";Ge();Ae();Pt();kt();pI=class extends oe.classBuilder().ep(Pe).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteTransaction",{}).n("DynamoDBClient","ExecuteTransactionCommand").sc(lle).build(){}});var fI,fue=y(()=>{"use strict";Ge();Ae();Pt();kt();fI=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExportTableToPointInTime",{}).n("DynamoDBClient","ExportTableToPointInTimeCommand").sc(ule).build(){}});var Fv,mue=y(()=>{"use strict";Ge();Ae();Pt();kt();Fv=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetItem",{}).n("DynamoDBClient","GetItemCommand").sc(dle).build(){}});var mI,hue=y(()=>{"use strict";Ge();Ae();Pt();kt();mI=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetResourcePolicy",{}).n("DynamoDBClient","GetResourcePolicyCommand").sc(ple).build(){}});var hI,gue=y(()=>{"use strict";Ge();Ae();Pt();kt();hI=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"operationContextParams",get:e=>e?.TableCreationParameters?.TableName}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ImportTable",{}).n("DynamoDBClient","ImportTableCommand").sc(fle).build(){}});var gI,yue=y(()=>{"use strict";Ge();Ae();Pt();kt();gI=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListBackups",{}).n("DynamoDBClient","ListBackupsCommand").sc(mle).build(){}});var zv,jB=y(()=>{"use strict";Ge();Ae();Pt();kt();zv=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListContributorInsights",{}).n("DynamoDBClient","ListContributorInsightsCommand").sc(hle).build(){}});var Vv,qB=y(()=>{"use strict";Ge();Ae();Pt();kt();Vv=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListExports",{}).n("DynamoDBClient","ListExportsCommand").sc(gle).build(){}});var yI,bue=y(()=>{"use strict";Ge();Ae();Pt();kt();yI=class extends oe.classBuilder().ep(Pe).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListGlobalTables",{}).n("DynamoDBClient","ListGlobalTablesCommand").sc(yle).build(){}});var Hv,JB=y(()=>{"use strict";Ge();Ae();Pt();kt();Hv=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListImports",{}).n("DynamoDBClient","ListImportsCommand").sc(ble).build(){}});var Gv,WB=y(()=>{"use strict";Ge();Ae();Pt();kt();Gv=class extends oe.classBuilder().ep(Pe).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTables",{}).n("DynamoDBClient","ListTablesCommand").sc(vle).build(){}});var bI,vue=y(()=>{"use strict";Ge();Ae();Pt();kt();bI=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTagsOfResource",{}).n("DynamoDBClient","ListTagsOfResourceCommand").sc(_le).build(){}});var s1,_ue=y(()=>{"use strict";Ge();Ae();Pt();kt();s1=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutItem",{}).n("DynamoDBClient","PutItemCommand").sc(xle).build(){}});var vI,xue=y(()=>{"use strict";Ge();Ae();Pt();kt();vI=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutResourcePolicy",{}).n("DynamoDBClient","PutResourcePolicyCommand").sc(Sle).build(){}});var a1,KB=y(()=>{"use strict";Ge();Ae();Pt();kt();a1=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Query",{}).n("DynamoDBClient","QueryCommand").sc(wle).build(){}});var _I,Sue=y(()=>{"use strict";Ge();Ae();Pt();kt();_I=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableFromBackup",{}).n("DynamoDBClient","RestoreTableFromBackupCommand").sc(Ale).build(){}});var xI,wue=y(()=>{"use strict";Ge();Ae();Pt();kt();xI=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableToPointInTime",{}).n("DynamoDBClient","RestoreTableToPointInTimeCommand").sc(Ele).build(){}});var jv,QB=y(()=>{"use strict";Ge();Ae();Pt();kt();jv=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Scan",{}).n("DynamoDBClient","ScanCommand").sc(Tle).build(){}});var SI,Aue=y(()=>{"use strict";Ge();Ae();Pt();kt();SI=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TagResource",{}).n("DynamoDBClient","TagResourceCommand").sc(Rle).build(){}});var wI,Eue=y(()=>{"use strict";Ge();Ae();Pt();kt();wI=class extends oe.classBuilder().ep({...Pe,ResourceArnList:{type:"operationContextParams",get:e=>e?.TransactItems?.map(r=>r?.Get?.TableName)}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactGetItems",{}).n("DynamoDBClient","TransactGetItemsCommand").sc(Ile).build(){}});var AI,Tue=y(()=>{"use strict";Ge();Ae();Pt();kt();AI=class extends oe.classBuilder().ep({...Pe,ResourceArnList:{type:"operationContextParams",get:e=>e?.TransactItems?.map(r=>[r?.ConditionCheck?.TableName,r?.Put?.TableName,r?.Delete?.TableName,r?.Update?.TableName].filter(n=>n)).flat()}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactWriteItems",{}).n("DynamoDBClient","TransactWriteItemsCommand").sc(Cle).build(){}});var EI,Rue=y(()=>{"use strict";Ge();Ae();Pt();kt();EI=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UntagResource",{}).n("DynamoDBClient","UntagResourceCommand").sc(Nle).build(){}});var TI,Iue=y(()=>{"use strict";Ge();Ae();Pt();kt();TI=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContinuousBackups",{}).n("DynamoDBClient","UpdateContinuousBackupsCommand").sc(Ole).build(){}});var RI,Cue=y(()=>{"use strict";Ge();Ae();Pt();kt();RI=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContributorInsights",{}).n("DynamoDBClient","UpdateContributorInsightsCommand").sc(Ple).build(){}});var II,Nue=y(()=>{"use strict";Ge();Ae();Pt();kt();II=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTable",{}).n("DynamoDBClient","UpdateGlobalTableCommand").sc(kle).build(){}});var CI,Oue=y(()=>{"use strict";Ge();Ae();Pt();kt();CI=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTableSettings",{}).n("DynamoDBClient","UpdateGlobalTableSettingsCommand").sc(Dle).build(){}});var NI,Pue=y(()=>{"use strict";Ge();Ae();Pt();kt();NI=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateItem",{}).n("DynamoDBClient","UpdateItemCommand").sc(Mle).build(){}});var OI,kue=y(()=>{"use strict";Ge();Ae();Pt();kt();OI=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateKinesisStreamingDestination",{}).n("DynamoDBClient","UpdateKinesisStreamingDestinationCommand").sc(Lle).build(){}});var PI,Due=y(()=>{"use strict";Ge();Ae();Pt();kt();PI=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTable",{}).n("DynamoDBClient","UpdateTableCommand").sc(Ble).build(){}});var kI,Mue=y(()=>{"use strict";Ge();Ae();Pt();kt();kI=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTableReplicaAutoScaling",{}).n("DynamoDBClient","UpdateTableReplicaAutoScalingCommand").sc($le).build(){}});var DI,Lue=y(()=>{"use strict";Ge();Ae();Pt();kt();DI=class extends oe.classBuilder().ep({...Pe,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ae(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTimeToLive",{}).n("DynamoDBClient","UpdateTimeToLiveCommand").sc(Ule).build(){}});var Bue,$ue=y(()=>{"use strict";Fn();jB();lh();Bue=hi(Po,zv,"NextToken","NextToken","MaxResults")});var Uue,Fue=y(()=>{"use strict";Fn();qB();lh();Uue=hi(Po,Vv,"NextToken","NextToken","MaxResults")});var zue,Vue=y(()=>{"use strict";Fn();JB();lh();zue=hi(Po,Hv,"NextToken","NextToken","PageSize")});var Hue,Gue=y(()=>{"use strict";Fn();WB();lh();Hue=hi(Po,Gv,"ExclusiveStartTableName","LastEvaluatedTableName","Limit")});var jue,que=y(()=>{"use strict";Fn();KB();lh();jue=hi(Po,a1,"ExclusiveStartKey","LastEvaluatedKey","Limit")});var Jue,Wue=y(()=>{"use strict";Fn();QB();lh();Jue=hi(Po,jv,"ExclusiveStartKey","LastEvaluatedKey","Limit")});var zA,Kue=y(()=>{"use strict";zA=()=>{let t=new WeakSet;return(e,r)=>{if(typeof r=="object"&&r!==null){if(t.has(r))return"[Circular]";t.add(r)}return r}}});var OKe,Que=y(()=>{"use strict";OKe=t=>new Promise(e=>setTimeout(e,t*1e3))});var PKe,Or,Mu,XB=y(()=>{"use strict";Kue();PKe={minDelay:2,maxDelay:120};(function(t){t.ABORTED="ABORTED",t.FAILURE="FAILURE",t.SUCCESS="SUCCESS",t.RETRY="RETRY",t.TIMEOUT="TIMEOUT"})(Or||(Or={}));Mu=t=>{if(t.state===Or.ABORTED){let e=new Error(`${JSON.stringify({...t,reason:"Request was aborted"},zA())}`);throw e.name="AbortError",e}else if(t.state===Or.TIMEOUT){let e=new Error(`${JSON.stringify({...t,reason:"Waiter has timed out"},zA())}`);throw e.name="TimeoutError",e}else if(t.state!==Or.SUCCESS)throw new Error(`${JSON.stringify(t,zA())}`);return t}});var yFt,bFt,DKe,kKe,MKe=y(()=>{"use strict";Kue();Que();XB();yFt=(t,e,r,n)=>{if(n>r)return e;let i=t*2**(n-1);return bFt(t,i)},bFt=(t,e)=>t+Math.random()*(e-t),DKe=async({minDelay:t,maxDelay:e,maxWaitTime:r,abortController:n,client:i,abortSignal:o},s,a)=>{let c={},{state:l,reason:u}=await a(i,s);if(u){let h=kKe(u);c[h]|=0,c[h]+=1}if(l!==Or.RETRY)return{state:l,reason:u,observedResponses:c};let d=1,p=Date.now()+r*1e3,f=Math.log(e/t)/Math.log(2)+1;for(;;){if(n?.signal?.aborted||o?.aborted){let b="AbortController signal aborted.";return c[b]|=0,c[b]+=1,{state:Or.ABORTED,observedResponses:c}}let h=yFt(t,e,f,d);if(Date.now()+h*1e3>p)return{state:Or.TIMEOUT,observedResponses:c};await OKe(h);let{state:m,reason:g}=await a(i,s);if(g){let b=kKe(g);c[b]|=0,c[b]+=1}if(m!==Or.RETRY)return{state:m,reason:g,observedResponses:c};d+=1}},kKe=t=>t?.$responseBodyText?`Deserialization error for body: ${t.$responseBodyText}`:t?.$metadata?.httpStatusCode?t.$response||t.message?`${t.$response.statusCode??t.$metadata.httpStatusCode??"Unknown"}: ${t.message}`:`${t.$metadata.httpStatusCode}: OK`:String(t?.message??JSON.stringify(t,zA())??"Unknown")});var LKe,BKe=y(()=>{"use strict";LKe=t=>{if(t.maxWaitTime<=0)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(t.minDelay<=0)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(t.maxDelay<=0)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(t.maxWaitTime<=t.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${t.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${t.minDelay}] for this waiter`);if(t.maxDelay<t.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${t.maxDelay}] must be greater than WaiterConfiguration.minDelay [${t.minDelay}] for this waiter`)}});var $Ke=y(()=>{"use strict";Que();BKe()});var UKe,Wo,FKe=y(()=>{"use strict";MKe();$Ke();XB();UKe=t=>{let e,r=new Promise(n=>{e=()=>n({state:Or.ABORTED}),typeof t.addEventListener=="function"?t.addEventListener("abort",e):t.onabort=e});return{clearListener(){typeof t.removeEventListener=="function"&&t.removeEventListener("abort",e)},aborted:r}},Wo=async(t,e,r)=>{let n={...PKe,...t};LKe(n);let i=[DKe(n,e,r)],o=[];if(t.abortSignal){let{aborted:s,clearListener:a}=UKe(t.abortSignal);o.push(a),i.push(s)}if(t.abortController?.signal){let{aborted:s,clearListener:a}=UKe(t.abortController.signal);o.push(a),i.push(s)}return Promise.race(i).then(s=>{for(let a of o)a();return s})}});var qv=y(()=>{"use strict";FKe();XB()});var zKe,vFt,Xue,Yue=y(()=>{"use strict";qv();zB();zKe=async(t,e)=>{let r;try{let n=await t.send(new Lv(e));r=n;try{if(n.ContributorInsightsStatus==="ENABLED")return{state:Or.SUCCESS,reason:r}}catch{}try{if(n.ContributorInsightsStatus==="FAILED")return{state:Or.FAILURE,reason:r}}catch{}}catch(n){r=n}return{state:Or.RETRY,reason:r}},vFt=async(t,e)=>Wo({...{minDelay:20,maxDelay:120},...t},e,zKe),Xue=async(t,e)=>{let n=await Wo({...{minDelay:20,maxDelay:120},...t},e,zKe);return Mu(n)}});var VKe,_Ft,Zue,ede=y(()=>{"use strict";qv();VB();VKe=async(t,e)=>{let r;try{let n=await t.send(new Bv(e));r=n;try{if(n.ExportDescription.ExportStatus==="COMPLETED")return{state:Or.SUCCESS,reason:r}}catch{}try{if(n.ExportDescription.ExportStatus==="FAILED")return{state:Or.FAILURE,reason:r}}catch{}}catch(n){r=n}return{state:Or.RETRY,reason:r}},_Ft=async(t,e)=>Wo({...{minDelay:20,maxDelay:120},...t},e,VKe),Zue=async(t,e)=>{let n=await Wo({...{minDelay:20,maxDelay:120},...t},e,VKe);return Mu(n)}});var HKe,xFt,tde,rde=y(()=>{"use strict";qv();HB();HKe=async(t,e)=>{let r;try{let n=await t.send(new $v(e));r=n;try{if(n.ImportTableDescription.ImportStatus==="COMPLETED")return{state:Or.SUCCESS,reason:r}}catch{}try{if(n.ImportTableDescription.ImportStatus==="FAILED")return{state:Or.FAILURE,reason:r}}catch{}try{if(n.ImportTableDescription.ImportStatus==="CANCELLED")return{state:Or.FAILURE,reason:r}}catch{}}catch(n){r=n}return{state:Or.RETRY,reason:r}},xFt=async(t,e)=>Wo({...{minDelay:20,maxDelay:120},...t},e,HKe),tde=async(t,e)=>{let n=await Wo({...{minDelay:20,maxDelay:120},...t},e,HKe);return Mu(n)}});var GKe,SFt,nde,ide=y(()=>{"use strict";qv();GB();GKe=async(t,e)=>{let r;try{let n=await t.send(new Uv(e));r=n;try{let i=()=>[].concat(...n.KinesisDataStreamDestinations).map(a=>a.DestinationStatus);for(let o of i())if(o=="ACTIVE")return{state:Or.SUCCESS,reason:r}}catch{}try{if((()=>{let o=n.KinesisDataStreamDestinations.filter(s=>(s.DestinationStatus=="DISABLED"||s.DestinationStatus=="ENABLE_FAILED")&&(s.DestinationStatus=="ENABLE_FAILED"||s.DestinationStatus=="DISABLED"));return n.KinesisDataStreamDestinations.length>0&&o.length==n.KinesisDataStreamDestinations.length})()==!0)return{state:Or.FAILURE,reason:r}}catch{}}catch(n){r=n}return{state:Or.RETRY,reason:r}},SFt=async(t,e)=>Wo({...{minDelay:20,maxDelay:120},...t},e,GKe),nde=async(t,e)=>{let n=await Wo({...{minDelay:20,maxDelay:120},...t},e,GKe);return Mu(n)}});var jKe,wFt,ode,sde=y(()=>{"use strict";qv();sI();jKe=async(t,e)=>{let r;try{let n=await t.send(new uh(e));r=n;try{if(n.Table.TableStatus==="ACTIVE")return{state:Or.SUCCESS,reason:r}}catch{}}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:Or.RETRY,reason:r}}return{state:Or.RETRY,reason:r}},wFt=async(t,e)=>Wo({...{minDelay:20,maxDelay:120},...t},e,jKe),ode=async(t,e)=>{let n=await Wo({...{minDelay:20,maxDelay:120},...t},e,jKe);return Mu(n)}});var qKe,AFt,ade,cde=y(()=>{"use strict";qv();sI();qKe=async(t,e)=>{let r;try{r=await t.send(new uh(e))}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:Or.SUCCESS,reason:r}}return{state:Or.RETRY,reason:r}},AFt=async(t,e)=>Wo({...{minDelay:20,maxDelay:120},...t},e,qKe),ade=async(t,e)=>{let n=await Wo({...{minDelay:20,maxDelay:120},...t},e,qKe);return Mu(n)}});var EFt,TFt,RFt,YB,JKe=y(()=>{"use strict";Ae();qle();Jle();Wle();Kle();Qle();Xle();Yle();Zle();eue();tue();rue();nue();zB();$B();VB();iue();oue();HB();GB();sue();sI();aue();cue();lue();uue();due();pue();fue();mue();hue();gue();yue();jB();qB();bue();JB();WB();vue();_ue();xue();KB();Sue();wue();QB();Aue();Eue();Tue();Rue();Iue();Cue();Nue();Oue();Pue();kue();Due();Mue();Lue();lh();$ue();Fue();Vue();Gue();que();Wue();Yue();ede();rde();ide();sde();cde();EFt={BatchExecuteStatementCommand:j8,BatchGetItemCommand:q8,BatchWriteItemCommand:J8,CreateBackupCommand:W8,CreateGlobalTableCommand:K8,CreateTableCommand:Q8,DeleteBackupCommand:X8,DeleteItemCommand:Y8,DeleteResourcePolicyCommand:Z8,DeleteTableCommand:eI,DescribeBackupCommand:tI,DescribeContinuousBackupsCommand:rI,DescribeContributorInsightsCommand:Lv,DescribeEndpointsCommand:Mv,DescribeExportCommand:Bv,DescribeGlobalTableCommand:nI,DescribeGlobalTableSettingsCommand:iI,DescribeImportCommand:$v,DescribeKinesisStreamingDestinationCommand:Uv,DescribeLimitsCommand:oI,DescribeTableCommand:uh,DescribeTableReplicaAutoScalingCommand:aI,DescribeTimeToLiveCommand:cI,DisableKinesisStreamingDestinationCommand:lI,EnableKinesisStreamingDestinationCommand:uI,ExecuteStatementCommand:dI,ExecuteTransactionCommand:pI,ExportTableToPointInTimeCommand:fI,GetItemCommand:Fv,GetResourcePolicyCommand:mI,ImportTableCommand:hI,ListBackupsCommand:gI,ListContributorInsightsCommand:zv,ListExportsCommand:Vv,ListGlobalTablesCommand:yI,ListImportsCommand:Hv,ListTablesCommand:Gv,ListTagsOfResourceCommand:bI,PutItemCommand:s1,PutResourcePolicyCommand:vI,QueryCommand:a1,RestoreTableFromBackupCommand:_I,RestoreTableToPointInTimeCommand:xI,ScanCommand:jv,TagResourceCommand:SI,TransactGetItemsCommand:wI,TransactWriteItemsCommand:AI,UntagResourceCommand:EI,UpdateContinuousBackupsCommand:TI,UpdateContributorInsightsCommand:RI,UpdateGlobalTableCommand:II,UpdateGlobalTableSettingsCommand:CI,UpdateItemCommand:NI,UpdateKinesisStreamingDestinationCommand:OI,UpdateTableCommand:PI,UpdateTableReplicaAutoScalingCommand:kI,UpdateTimeToLiveCommand:DI},TFt={paginateListContributorInsights:Bue,paginateListExports:Uue,paginateListImports:zue,paginateListTables:Hue,paginateQuery:jue,paginateScan:Jue},RFt={waitUntilContributorInsightsEnabled:Xue,waitUntilExportCompleted:Zue,waitUntilImportCompleted:tde,waitUntilKinesisStreamingDestinationActive:nde,waitUntilTableExists:ode,waitUntilTableNotExists:ade},YB=class extends Po{};Wl(EFt,YB,{paginators:TFt,waiters:RFt})});var WKe=y(()=>{"use strict";qle();Jle();Wle();Kle();Qle();Xle();Yle();Zle();eue();tue();rue();nue();zB();$B();VB();iue();oue();HB();GB();sue();sI();aue();cue();lue();uue();due();pue();fue();mue();hue();gue();yue();jB();qB();bue();JB();WB();vue();_ue();xue();KB();Sue();wue();QB();Aue();Eue();Tue();Rue();Iue();Cue();Nue();Oue();Pue();kue();Due();Mue();Lue()});var KKe=y(()=>{"use strict"});var QKe=y(()=>{"use strict";KKe();$ue();Fue();Vue();Gue();que();Wue()});var XKe=y(()=>{"use strict";Yue();ede();rde();ide();sde();cde()});var IFt,CFt,NFt,OFt,PFt,kFt,DFt,MFt,LFt,BFt,$Ft,UFt,FFt,zFt,VFt,HFt,GFt,jFt,qFt,JFt,WFt,KFt,QFt,XFt,YFt,ZFt,ezt,tzt,rzt,nzt,izt,ozt,szt,azt,czt,lzt,uzt,dzt,pzt,fzt,mzt,hzt,YKe=y(()=>{"use strict";IFt={MICROSECOND:"MICROSECOND",MILLISECOND:"MILLISECOND"},CFt={ADD:"ADD",DELETE:"DELETE",PUT:"PUT"},NFt={B:"B",N:"N",S:"S"},OFt={AVAILABLE:"AVAILABLE",CREATING:"CREATING",DELETED:"DELETED"},PFt={AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},kFt={PAY_PER_REQUEST:"PAY_PER_REQUEST",PROVISIONED:"PROVISIONED"},DFt={HASH:"HASH",RANGE:"RANGE"},MFt={ALL:"ALL",INCLUDE:"INCLUDE",KEYS_ONLY:"KEYS_ONLY"},LFt={AES256:"AES256",KMS:"KMS"},BFt={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",UPDATING:"UPDATING"},$Ft={KEYS_ONLY:"KEYS_ONLY",NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE",OLD_IMAGE:"OLD_IMAGE"},UFt={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING"},FFt={ALL:"ALL",AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},zFt={INDEXES:"INDEXES",NONE:"NONE",TOTAL:"TOTAL"},VFt={ALL_OLD:"ALL_OLD",NONE:"NONE"},HFt={AccessDenied:"AccessDenied",ConditionalCheckFailed:"ConditionalCheckFailed",DuplicateItem:"DuplicateItem",InternalServerError:"InternalServerError",ItemCollectionSizeLimitExceeded:"ItemCollectionSizeLimitExceeded",ProvisionedThroughputExceeded:"ProvisionedThroughputExceeded",RequestLimitExceeded:"RequestLimitExceeded",ResourceNotFound:"ResourceNotFound",ThrottlingError:"ThrottlingError",TransactionConflict:"TransactionConflict",ValidationError:"ValidationError"},GFt={NONE:"NONE",SIZE:"SIZE"},jFt={BEGINS_WITH:"BEGINS_WITH",BETWEEN:"BETWEEN",CONTAINS:"CONTAINS",EQ:"EQ",GE:"GE",GT:"GT",IN:"IN",LE:"LE",LT:"LT",NE:"NE",NOT_CONTAINS:"NOT_CONTAINS",NOT_NULL:"NOT_NULL",NULL:"NULL"},qFt={AND:"AND",OR:"OR"},JFt={DISABLED:"DISABLED",ENABLED:"ENABLED"},WFt={DISABLED:"DISABLED",ENABLED:"ENABLED"},KFt={DISABLE:"DISABLE",ENABLE:"ENABLE"},QFt={ACCESSED_AND_THROTTLED_KEYS:"ACCESSED_AND_THROTTLED_KEYS",THROTTLED_KEYS:"THROTTLED_KEYS"},XFt={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",FAILED:"FAILED"},YFt={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},ZFt={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},ezt={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",CREATION_FAILED:"CREATION_FAILED",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REGION_DISABLED:"REGION_DISABLED",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},tzt={STANDARD:"STANDARD",STANDARD_INFREQUENT_ACCESS:"STANDARD_INFREQUENT_ACCESS"},rzt={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},nzt={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING"},izt={EVENTUAL:"EVENTUAL",STRONG:"STRONG"},ozt={ALL_NEW:"ALL_NEW",ALL_OLD:"ALL_OLD",NONE:"NONE",UPDATED_NEW:"UPDATED_NEW",UPDATED_OLD:"UPDATED_OLD"},szt={DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},azt={COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},czt={FULL_EXPORT:"FULL_EXPORT",INCREMENTAL_EXPORT:"INCREMENTAL_EXPORT"},lzt={NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE"},uzt={AES256:"AES256",KMS:"KMS"},dzt={CANCELLED:"CANCELLED",CANCELLING:"CANCELLING",COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},pzt={GZIP:"GZIP",NONE:"NONE",ZSTD:"ZSTD"},fzt={CSV:"CSV",DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},mzt={ACTIVE:"ACTIVE",DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLE_FAILED:"ENABLE_FAILED",ENABLING:"ENABLING",UPDATING:"UPDATING"},hzt={ALL_ATTRIBUTES:"ALL_ATTRIBUTES",ALL_PROJECTED_ATTRIBUTES:"ALL_PROJECTED_ATTRIBUTES",COUNT:"COUNT",SPECIFIC_ATTRIBUTES:"SPECIFIC_ATTRIBUTES"}});var ZKe=y(()=>{"use strict"});var lde={};wr(lde,{$Command:()=>oe,ApproximateCreationDateTimePrecision:()=>IFt,ArchivalSummary$:()=>RGe,AttributeAction:()=>CFt,AttributeDefinition$:()=>IGe,AttributeValue$:()=>Du,AttributeValueUpdate$:()=>CGe,AutoScalingPolicyDescription$:()=>NGe,AutoScalingPolicyUpdate$:()=>OGe,AutoScalingSettingsDescription$:()=>eh,AutoScalingSettingsUpdate$:()=>oh,AutoScalingTargetTrackingScalingPolicyConfigurationDescription$:()=>PGe,AutoScalingTargetTrackingScalingPolicyConfigurationUpdate$:()=>kGe,BackupDescription$:()=>lce,BackupDetails$:()=>uce,BackupInUseException:()=>KR,BackupInUseException$:()=>DGe,BackupNotFoundException:()=>QR,BackupNotFoundException$:()=>MGe,BackupStatus:()=>OFt,BackupSummary$:()=>LGe,BackupType:()=>PFt,BackupTypeFilter:()=>FFt,BatchExecuteStatement$:()=>Bce,BatchExecuteStatementCommand:()=>j8,BatchExecuteStatementInput$:()=>BGe,BatchExecuteStatementOutput$:()=>$Ge,BatchGetItem$:()=>$ce,BatchGetItemCommand:()=>q8,BatchGetItemInput$:()=>UGe,BatchGetItemOutput$:()=>FGe,BatchStatementError$:()=>zGe,BatchStatementErrorCodeEnum:()=>HFt,BatchStatementRequest$:()=>VGe,BatchStatementResponse$:()=>HGe,BatchWriteItem$:()=>Uce,BatchWriteItemCommand:()=>J8,BatchWriteItemInput$:()=>GGe,BatchWriteItemOutput$:()=>jGe,BillingMode:()=>kFt,BillingModeSummary$:()=>dce,CancellationReason$:()=>qGe,Capacity$:()=>pce,ComparisonOperator:()=>jFt,Condition$:()=>fce,ConditionCheck$:()=>WGe,ConditionalCheckFailedException:()=>I8,ConditionalCheckFailedException$:()=>JGe,ConditionalOperator:()=>qFt,ConsumedCapacity$:()=>sh,ContinuousBackupsDescription$:()=>mce,ContinuousBackupsStatus:()=>JFt,ContinuousBackupsUnavailableException:()=>o8,ContinuousBackupsUnavailableException$:()=>KGe,ContributorInsightsAction:()=>KFt,ContributorInsightsMode:()=>QFt,ContributorInsightsStatus:()=>XFt,ContributorInsightsSummary$:()=>QGe,CreateBackup$:()=>Fce,CreateBackupCommand:()=>W8,CreateBackupInput$:()=>XGe,CreateBackupOutput$:()=>YGe,CreateGlobalSecondaryIndexAction$:()=>ZGe,CreateGlobalTable$:()=>zce,CreateGlobalTableCommand:()=>K8,CreateGlobalTableInput$:()=>eje,CreateGlobalTableOutput$:()=>tje,CreateGlobalTableWitnessGroupMemberAction$:()=>rje,CreateReplicaAction$:()=>nje,CreateReplicationGroupMemberAction$:()=>ije,CreateTable$:()=>Vce,CreateTableCommand:()=>Q8,CreateTableInput$:()=>oje,CreateTableOutput$:()=>sje,CsvOptions$:()=>aje,Delete$:()=>cje,DeleteBackup$:()=>Hce,DeleteBackupCommand:()=>X8,DeleteBackupInput$:()=>lje,DeleteBackupOutput$:()=>uje,DeleteGlobalSecondaryIndexAction$:()=>dje,DeleteGlobalTableWitnessGroupMemberAction$:()=>pje,DeleteItem$:()=>Gce,DeleteItemCommand:()=>Y8,DeleteItemInput$:()=>fje,DeleteItemOutput$:()=>mje,DeleteReplicaAction$:()=>hje,DeleteReplicationGroupMemberAction$:()=>gje,DeleteRequest$:()=>yje,DeleteResourcePolicy$:()=>jce,DeleteResourcePolicyCommand:()=>Z8,DeleteResourcePolicyInput$:()=>bje,DeleteResourcePolicyOutput$:()=>vje,DeleteTable$:()=>qce,DeleteTableCommand:()=>eI,DeleteTableInput$:()=>_je,DeleteTableOutput$:()=>xje,DescribeBackup$:()=>Jce,DescribeBackupCommand:()=>tI,DescribeBackupInput$:()=>Sje,DescribeBackupOutput$:()=>wje,DescribeContinuousBackups$:()=>Wce,DescribeContinuousBackupsCommand:()=>rI,DescribeContinuousBackupsInput$:()=>Aje,DescribeContinuousBackupsOutput$:()=>Eje,DescribeContributorInsights$:()=>Kce,DescribeContributorInsightsCommand:()=>Lv,DescribeContributorInsightsInput$:()=>Tje,DescribeContributorInsightsOutput$:()=>Rje,DescribeEndpoints$:()=>Qce,DescribeEndpointsCommand:()=>Mv,DescribeEndpointsRequest$:()=>Ije,DescribeEndpointsResponse$:()=>Cje,DescribeExport$:()=>Xce,DescribeExportCommand:()=>Bv,DescribeExportInput$:()=>Nje,DescribeExportOutput$:()=>Oje,DescribeGlobalTable$:()=>Yce,DescribeGlobalTableCommand:()=>nI,DescribeGlobalTableInput$:()=>Pje,DescribeGlobalTableOutput$:()=>kje,DescribeGlobalTableSettings$:()=>Zce,DescribeGlobalTableSettingsCommand:()=>iI,DescribeGlobalTableSettingsInput$:()=>Dje,DescribeGlobalTableSettingsOutput$:()=>Mje,DescribeImport$:()=>ele,DescribeImportCommand:()=>$v,DescribeImportInput$:()=>Lje,DescribeImportOutput$:()=>Bje,DescribeKinesisStreamingDestination$:()=>tle,DescribeKinesisStreamingDestinationCommand:()=>Uv,DescribeKinesisStreamingDestinationInput$:()=>$je,DescribeKinesisStreamingDestinationOutput$:()=>Uje,DescribeLimits$:()=>rle,DescribeLimitsCommand:()=>oI,DescribeLimitsInput$:()=>Fje,DescribeLimitsOutput$:()=>zje,DescribeTable$:()=>nle,DescribeTableCommand:()=>uh,DescribeTableInput$:()=>Vje,DescribeTableOutput$:()=>Hje,DescribeTableReplicaAutoScaling$:()=>ile,DescribeTableReplicaAutoScalingCommand:()=>aI,DescribeTableReplicaAutoScalingInput$:()=>Gje,DescribeTableReplicaAutoScalingOutput$:()=>jje,DescribeTimeToLive$:()=>ole,DescribeTimeToLiveCommand:()=>cI,DescribeTimeToLiveInput$:()=>qje,DescribeTimeToLiveOutput$:()=>Jje,DestinationStatus:()=>mzt,DisableKinesisStreamingDestination$:()=>sle,DisableKinesisStreamingDestinationCommand:()=>lI,DuplicateItemException:()=>g8,DuplicateItemException$:()=>Wje,DynamoDB:()=>YB,DynamoDBClient:()=>Po,DynamoDBServiceException:()=>pr,DynamoDBServiceException$:()=>PWe,EnableKinesisStreamingConfiguration$:()=>hce,EnableKinesisStreamingDestination$:()=>ale,EnableKinesisStreamingDestinationCommand:()=>uI,Endpoint$:()=>Kje,ExecuteStatement$:()=>cle,ExecuteStatementCommand:()=>dI,ExecuteStatementInput$:()=>Qje,ExecuteStatementOutput$:()=>Xje,ExecuteTransaction$:()=>lle,ExecuteTransactionCommand:()=>pI,ExecuteTransactionInput$:()=>Yje,ExecuteTransactionOutput$:()=>Zje,ExpectedAttributeValue$:()=>eqe,ExportConflictException:()=>v8,ExportConflictException$:()=>tqe,ExportDescription$:()=>gce,ExportFormat:()=>szt,ExportNotFoundException:()=>f8,ExportNotFoundException$:()=>rqe,ExportStatus:()=>azt,ExportSummary$:()=>nqe,ExportTableToPointInTime$:()=>ule,ExportTableToPointInTimeCommand:()=>fI,ExportTableToPointInTimeInput$:()=>iqe,ExportTableToPointInTimeOutput$:()=>oqe,ExportType:()=>czt,ExportViewType:()=>lzt,FailureException$:()=>sqe,Get$:()=>aqe,GetItem$:()=>dle,GetItemCommand:()=>Fv,GetItemInput$:()=>cqe,GetItemOutput$:()=>lqe,GetResourcePolicy$:()=>ple,GetResourcePolicyCommand:()=>mI,GetResourcePolicyInput$:()=>uqe,GetResourcePolicyOutput$:()=>dqe,GlobalSecondaryIndex$:()=>pqe,GlobalSecondaryIndexAutoScalingUpdate$:()=>fqe,GlobalSecondaryIndexDescription$:()=>mqe,GlobalSecondaryIndexInfo$:()=>hqe,GlobalSecondaryIndexUpdate$:()=>gqe,GlobalSecondaryIndexWarmThroughputDescription$:()=>yce,GlobalTable$:()=>yqe,GlobalTableAlreadyExistsException:()=>l8,GlobalTableAlreadyExistsException$:()=>bqe,GlobalTableDescription$:()=>PB,GlobalTableGlobalSecondaryIndexSettingsUpdate$:()=>vqe,GlobalTableNotFoundException:()=>m8,GlobalTableNotFoundException$:()=>_qe,GlobalTableStatus:()=>YFt,GlobalTableWitnessDescription$:()=>xqe,GlobalTableWitnessGroupUpdate$:()=>Sqe,IdempotentParameterMismatchException:()=>y8,IdempotentParameterMismatchException$:()=>wqe,ImportConflictException:()=>S8,ImportConflictException$:()=>Aqe,ImportNotFoundException:()=>h8,ImportNotFoundException$:()=>Eqe,ImportStatus:()=>dzt,ImportSummary$:()=>Tqe,ImportTable$:()=>fle,ImportTableCommand:()=>hI,ImportTableDescription$:()=>bce,ImportTableInput$:()=>Rqe,ImportTableOutput$:()=>Iqe,IncrementalExportSpecification$:()=>vce,IndexNotFoundException:()=>R8,IndexNotFoundException$:()=>Cqe,IndexStatus:()=>ZFt,InputCompressionType:()=>pzt,InputFormat:()=>fzt,InputFormatOptions$:()=>_ce,InternalServerError:()=>XR,InternalServerError$:()=>Nqe,InvalidEndpointException:()=>e8,InvalidEndpointException$:()=>Oqe,InvalidExportTimeException:()=>_8,InvalidExportTimeException$:()=>Pqe,InvalidRestoreTimeException:()=>A8,InvalidRestoreTimeException$:()=>kqe,ItemCollectionMetrics$:()=>z8,ItemCollectionSizeLimitExceededException:()=>n8,ItemCollectionSizeLimitExceededException$:()=>Dqe,ItemResponse$:()=>Mqe,KeySchemaElement$:()=>Bqe,KeyType:()=>DFt,KeysAndAttributes$:()=>Lqe,KinesisDataStreamDestination$:()=>$qe,KinesisStreamingDestinationInput$:()=>xce,KinesisStreamingDestinationOutput$:()=>Sce,LimitExceededException:()=>s8,LimitExceededException$:()=>Uqe,ListBackups$:()=>mle,ListBackupsCommand:()=>gI,ListBackupsInput$:()=>Fqe,ListBackupsOutput$:()=>zqe,ListContributorInsights$:()=>hle,ListContributorInsightsCommand:()=>zv,ListContributorInsightsInput$:()=>Vqe,ListContributorInsightsOutput$:()=>Hqe,ListExports$:()=>gle,ListExportsCommand:()=>Vv,ListExportsInput$:()=>Gqe,ListExportsOutput$:()=>jqe,ListGlobalTables$:()=>yle,ListGlobalTablesCommand:()=>yI,ListGlobalTablesInput$:()=>qqe,ListGlobalTablesOutput$:()=>Jqe,ListImports$:()=>ble,ListImportsCommand:()=>Hv,ListImportsInput$:()=>Wqe,ListImportsOutput$:()=>Kqe,ListTables$:()=>vle,ListTablesCommand:()=>Gv,ListTablesInput$:()=>Qqe,ListTablesOutput$:()=>Xqe,ListTagsOfResource$:()=>_le,ListTagsOfResourceCommand:()=>bI,ListTagsOfResourceInput$:()=>Yqe,ListTagsOfResourceOutput$:()=>Zqe,LocalSecondaryIndex$:()=>eJe,LocalSecondaryIndexDescription$:()=>tJe,LocalSecondaryIndexInfo$:()=>rJe,MultiRegionConsistency:()=>izt,OnDemandThroughput$:()=>al,OnDemandThroughputOverride$:()=>MA,ParameterizedStatement$:()=>nJe,PointInTimeRecoveryDescription$:()=>iJe,PointInTimeRecoverySpecification$:()=>oJe,PointInTimeRecoveryStatus:()=>WFt,PointInTimeRecoveryUnavailableException:()=>x8,PointInTimeRecoveryUnavailableException$:()=>sJe,PolicyNotFoundException:()=>p8,PolicyNotFoundException$:()=>aJe,Projection$:()=>o1,ProjectionType:()=>MFt,ProvisionedThroughput$:()=>Fd,ProvisionedThroughputDescription$:()=>wce,ProvisionedThroughputExceededException:()=>t8,ProvisionedThroughputExceededException$:()=>cJe,ProvisionedThroughputOverride$:()=>LA,Put$:()=>lJe,PutItem$:()=>xle,PutItemCommand:()=>s1,PutItemInput$:()=>uJe,PutItemOutput$:()=>dJe,PutRequest$:()=>pJe,PutResourcePolicy$:()=>Sle,PutResourcePolicyCommand:()=>vI,PutResourcePolicyInput$:()=>fJe,PutResourcePolicyOutput$:()=>mJe,Query$:()=>wle,QueryCommand:()=>a1,QueryInput$:()=>hJe,QueryOutput$:()=>gJe,Replica$:()=>yJe,ReplicaAlreadyExistsException:()=>E8,ReplicaAlreadyExistsException$:()=>bJe,ReplicaAutoScalingDescription$:()=>vJe,ReplicaAutoScalingUpdate$:()=>_Je,ReplicaDescription$:()=>xJe,ReplicaGlobalSecondaryIndex$:()=>SJe,ReplicaGlobalSecondaryIndexAutoScalingDescription$:()=>wJe,ReplicaGlobalSecondaryIndexAutoScalingUpdate$:()=>AJe,ReplicaGlobalSecondaryIndexDescription$:()=>EJe,ReplicaGlobalSecondaryIndexSettingsDescription$:()=>TJe,ReplicaGlobalSecondaryIndexSettingsUpdate$:()=>RJe,ReplicaNotFoundException:()=>T8,ReplicaNotFoundException$:()=>IJe,ReplicaSettingsDescription$:()=>CJe,ReplicaSettingsUpdate$:()=>NJe,ReplicaStatus:()=>ezt,ReplicaUpdate$:()=>kJe,ReplicatedWriteConflictException:()=>i8,ReplicatedWriteConflictException$:()=>OJe,ReplicationGroupUpdate$:()=>PJe,RequestLimitExceeded:()=>YR,RequestLimitExceeded$:()=>DJe,ResourceInUseException:()=>u8,ResourceInUseException$:()=>MJe,ResourceNotFoundException:()=>r8,ResourceNotFoundException$:()=>LJe,RestoreSummary$:()=>BJe,RestoreTableFromBackup$:()=>Ale,RestoreTableFromBackupCommand:()=>_I,RestoreTableFromBackupInput$:()=>$Je,RestoreTableFromBackupOutput$:()=>UJe,RestoreTableToPointInTime$:()=>Ele,RestoreTableToPointInTimeCommand:()=>xI,RestoreTableToPointInTimeInput$:()=>FJe,RestoreTableToPointInTimeOutput$:()=>zJe,ReturnConsumedCapacity:()=>zFt,ReturnItemCollectionMetrics:()=>GFt,ReturnValue:()=>ozt,ReturnValuesOnConditionCheckFailure:()=>VFt,S3BucketSource$:()=>kB,S3SseAlgorithm:()=>uzt,SSEDescription$:()=>Ace,SSESpecification$:()=>BA,SSEStatus:()=>BFt,SSEType:()=>LFt,ScalarAttributeType:()=>NFt,Scan$:()=>Tle,ScanCommand:()=>jv,ScanInput$:()=>VJe,ScanOutput$:()=>HJe,Select:()=>hzt,SourceTableDetails$:()=>GJe,SourceTableFeatureDetails$:()=>jJe,StreamSpecification$:()=>V8,StreamViewType:()=>$Ft,TableAlreadyExistsException:()=>w8,TableAlreadyExistsException$:()=>qJe,TableAutoScalingDescription$:()=>Ece,TableClass:()=>tzt,TableClassSummary$:()=>DB,TableCreationParameters$:()=>Tce,TableDescription$:()=>Dv,TableInUseException:()=>a8,TableInUseException$:()=>JJe,TableNotFoundException:()=>c8,TableNotFoundException$:()=>WJe,TableStatus:()=>rzt,TableWarmThroughputDescription$:()=>Rce,Tag$:()=>KJe,TagResource$:()=>Rle,TagResourceCommand:()=>SI,TagResourceInput$:()=>QJe,ThrottlingException:()=>ZR,ThrottlingException$:()=>XJe,ThrottlingReason$:()=>YJe,TimeToLiveDescription$:()=>Ice,TimeToLiveSpecification$:()=>Cce,TimeToLiveStatus:()=>UFt,TransactGetItem$:()=>ZJe,TransactGetItems$:()=>Ile,TransactGetItemsCommand:()=>wI,TransactGetItemsInput$:()=>eWe,TransactGetItemsOutput$:()=>tWe,TransactWriteItem$:()=>oWe,TransactWriteItems$:()=>Cle,TransactWriteItemsCommand:()=>AI,TransactWriteItemsInput$:()=>sWe,TransactWriteItemsOutput$:()=>aWe,TransactionCanceledException:()=>C8,TransactionCanceledException$:()=>rWe,TransactionConflictException:()=>d8,TransactionConflictException$:()=>nWe,TransactionInProgressException:()=>b8,TransactionInProgressException$:()=>iWe,UntagResource$:()=>Nle,UntagResourceCommand:()=>EI,UntagResourceInput$:()=>cWe,Update$:()=>lWe,UpdateContinuousBackups$:()=>Ole,UpdateContinuousBackupsCommand:()=>TI,UpdateContinuousBackupsInput$:()=>uWe,UpdateContinuousBackupsOutput$:()=>dWe,UpdateContributorInsights$:()=>Ple,UpdateContributorInsightsCommand:()=>RI,UpdateContributorInsightsInput$:()=>pWe,UpdateContributorInsightsOutput$:()=>fWe,UpdateGlobalSecondaryIndexAction$:()=>mWe,UpdateGlobalTable$:()=>kle,UpdateGlobalTableCommand:()=>II,UpdateGlobalTableInput$:()=>hWe,UpdateGlobalTableOutput$:()=>gWe,UpdateGlobalTableSettings$:()=>Dle,UpdateGlobalTableSettingsCommand:()=>CI,UpdateGlobalTableSettingsInput$:()=>yWe,UpdateGlobalTableSettingsOutput$:()=>bWe,UpdateItem$:()=>Mle,UpdateItemCommand:()=>NI,UpdateItemInput$:()=>vWe,UpdateItemOutput$:()=>_We,UpdateKinesisStreamingConfiguration$:()=>Nce,UpdateKinesisStreamingDestination$:()=>Lle,UpdateKinesisStreamingDestinationCommand:()=>OI,UpdateKinesisStreamingDestinationInput$:()=>xWe,UpdateKinesisStreamingDestinationOutput$:()=>SWe,UpdateReplicationGroupMemberAction$:()=>wWe,UpdateTable$:()=>Ble,UpdateTableCommand:()=>PI,UpdateTableInput$:()=>AWe,UpdateTableOutput$:()=>EWe,UpdateTableReplicaAutoScaling$:()=>$le,UpdateTableReplicaAutoScalingCommand:()=>kI,UpdateTableReplicaAutoScalingInput$:()=>TWe,UpdateTableReplicaAutoScalingOutput$:()=>RWe,UpdateTimeToLive$:()=>Ule,UpdateTimeToLiveCommand:()=>DI,UpdateTimeToLiveInput$:()=>IWe,UpdateTimeToLiveOutput$:()=>CWe,WarmThroughput$:()=>$A,WitnessStatus:()=>nzt,WriteRequest$:()=>NWe,__Client:()=>Ao,paginateListContributorInsights:()=>Bue,paginateListExports:()=>Uue,paginateListImports:()=>zue,paginateListTables:()=>Hue,paginateQuery:()=>jue,paginateScan:()=>Jue,waitForContributorInsightsEnabled:()=>vFt,waitForExportCompleted:()=>_Ft,waitForImportCompleted:()=>xFt,waitForKinesisStreamingDestinationActive:()=>SFt,waitForTableExists:()=>wFt,waitForTableNotExists:()=>AFt,waitUntilContributorInsightsEnabled:()=>Xue,waitUntilExportCompleted:()=>Zue,waitUntilImportCompleted:()=>tde,waitUntilKinesisStreamingDestinationActive:()=>nde,waitUntilTableExists:()=>ode,waitUntilTableNotExists:()=>ade});var ZB=y(()=>{"use strict";lh();JKe();WKe();kt();QKe();XKe();YKe();hae();ZKe();bB()});var ph=Ue((P5n,GXe)=>{"use strict";var VXe=["nodebuffer","arraybuffer","fragments"],HXe=typeof Blob<"u";HXe&&VXe.push("blob");GXe.exports={BINARY_TYPES:VXe,CLOSE_TIMEOUT:3e4,EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",hasBlob:HXe,kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var sYe=Ue((k5n,oYe)=>{"use strict";var WXe=ft("fs"),fh=ft("path"),KXe=ft("os"),QXe=typeof __webpack_require__=="function"?__non_webpack_require__:ft,Oqt=process.config&&process.config.variables||{},Pqt=!!process.env.PREBUILDS_ONLY,jXe=process.versions.modules,Mde=Mqt()?"electron":Dqt()?"node-webkit":"node",Lde=process.env.npm_config_arch||KXe.arch(),Bde=process.env.npm_config_platform||KXe.platform(),XXe=process.env.LIBC||(Lqt(Bde)?"musl":"glibc"),$de=process.env.ARM_VERSION||(Lde==="arm64"?"8":Oqt.arm_version)||"",YXe=(process.versions.uv||"").split(".")[0];oYe.exports=bf;function bf(t){return QXe(bf.resolve(t))}bf.resolve=bf.path=function(t){t=fh.resolve(t||".");try{var e=QXe(fh.join(t,"package.json")).name.toUpperCase().replace(/-/g,"_");process.env[e+"_PREBUILD"]&&(t=process.env[e+"_PREBUILD"])}catch{}if(!Pqt){var r=qXe(fh.join(t,"build/Release"),JXe);if(r)return r;var n=qXe(fh.join(t,"build/Debug"),JXe);if(n)return n}var i=a(t);if(i)return i;var o=a(fh.dirname(process.execPath));if(o)return o;var s=["platform="+Bde,"arch="+Lde,"runtime="+Mde,"abi="+jXe,"uv="+YXe,$de?"armv="+$de:"","libc="+XXe,"node="+process.versions.node,process.versions.electron?"electron="+process.versions.electron:"",typeof __webpack_require__=="function"?"webpack=true":""].filter(Boolean).join(" ");throw new Error("No native build was found for "+s+`
    loaded from: `+t+`
`);function a(c){var l=Ude(fh.join(c,"prebuilds")).map(ZXe),u=l.filter(eYe(Bde,Lde)).sort(tYe)[0];if(u){var d=fh.join(c,"prebuilds",u.name),p=Ude(d).map(rYe),f=p.filter(nYe(Mde,jXe)),h=f.sort(iYe(Mde))[0];if(h)return fh.join(d,h.file)}}};function Ude(t){try{return WXe.readdirSync(t)}catch{return[]}}function qXe(t,e){var r=Ude(t).filter(e);return r[0]&&fh.join(t,r[0])}function JXe(t){return/\.node$/.test(t)}function ZXe(t){var e=t.split("-");if(e.length===2){var r=e[0],n=e[1].split("+");if(r&&n.length&&n.every(Boolean))return{name:t,platform:r,architectures:n}}}function eYe(t,e){return function(r){return r==null||r.platform!==t?!1:r.architectures.includes(e)}}function tYe(t,e){return t.architectures.length-e.architectures.length}function rYe(t){var e=t.split("."),r=e.pop(),n={file:t,specificity:0};if(r==="node"){for(var i=0;i<e.length;i++){var o=e[i];if(o==="node"||o==="electron"||o==="node-webkit")n.runtime=o;else if(o==="napi")n.napi=!0;else if(o.slice(0,3)==="abi")n.abi=o.slice(3);else if(o.slice(0,2)==="uv")n.uv=o.slice(2);else if(o.slice(0,4)==="armv")n.armv=o.slice(4);else if(o==="glibc"||o==="musl")n.libc=o;else continue;n.specificity++}return n}}function nYe(t,e){return function(r){return!(r==null||r.runtime&&r.runtime!==t&&!kqt(r)||r.abi&&r.abi!==e&&!r.napi||r.uv&&r.uv!==YXe||r.armv&&r.armv!==$de||r.libc&&r.libc!==XXe)}}function kqt(t){return t.runtime==="node"&&t.napi}function iYe(t){return function(e,r){return e.runtime!==r.runtime?e.runtime===t?-1:1:e.abi!==r.abi?e.abi?-1:1:e.specificity!==r.specificity?e.specificity>r.specificity?-1:1:0}}function Dqt(){return!!(process.versions&&process.versions.nw)}function Mqt(){return process.versions&&process.versions.electron||process.env.ELECTRON_RUN_AS_NODE?!0:typeof window<"u"&&window.process&&window.process.type==="renderer"}function Lqt(t){return t==="linux"&&WXe.existsSync("/etc/alpine-release")}bf.parseTags=rYe;bf.matchTags=nYe;bf.compareTags=iYe;bf.parseTuple=ZXe;bf.matchTuple=eYe;bf.compareTuples=tYe});var Vde=Ue((M5n,zde)=>{"use strict";var Fde=typeof __webpack_require__=="function"?__non_webpack_require__:ft;typeof Fde.addon=="function"?zde.exports=Fde.addon.bind(Fde):zde.exports=sYe()});var cYe=Ue((B5n,aYe)=>{"use strict";var Bqt=(t,e,r,n,i)=>{for(var o=0;o<i;o++)r[n+o]=t[o]^e[o&3]},$qt=(t,e)=>{let r=t.length;for(var n=0;n<r;n++)t[n]^=e[n&3]};aYe.exports={mask:Bqt,unmask:$qt}});var Gde=Ue(($5n,Hde)=>{"use strict";try{Hde.exports=Vde()(__dirname)}catch{Hde.exports=cYe()}});var zI=Ue((U5n,l$)=>{"use strict";var{EMPTY_BUFFER:Uqt}=ph(),jde=Buffer[Symbol.species];function Fqt(t,e){if(t.length===0)return Uqt;if(t.length===1)return t[0];let r=Buffer.allocUnsafe(e),n=0;for(let i=0;i<t.length;i++){let o=t[i];r.set(o,n),n+=o.length}return n<e?new jde(r.buffer,r.byteOffset,n):r}function lYe(t,e,r,n,i){for(let o=0;o<i;o++)r[n+o]=t[o]^e[o&3]}function uYe(t,e){for(let r=0;r<t.length;r++)t[r]^=e[r&3]}function zqt(t){return t.length===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.length)}function qde(t){if(qde.readOnly=!0,Buffer.isBuffer(t))return t;let e;return t instanceof ArrayBuffer?e=new jde(t):ArrayBuffer.isView(t)?e=new jde(t.buffer,t.byteOffset,t.byteLength):(e=Buffer.from(t),qde.readOnly=!1),e}l$.exports={concat:Fqt,mask:lYe,toArrayBuffer:zqt,toBuffer:qde,unmask:uYe};if(!process.env.WS_NO_BUFFER_UTIL)try{let t=Gde();l$.exports.mask=function(e,r,n,i,o){o<48?lYe(e,r,n,i,o):t.mask(e,r,n,i,o)},l$.exports.unmask=function(e,r){e.length<32?uYe(e,r):t.unmask(e,r)}}catch{}});var fYe=Ue((F5n,pYe)=>{"use strict";var dYe=Symbol("kDone"),Jde=Symbol("kRun"),Wde=class{constructor(e){this[dYe]=()=>{this.pending--,this[Jde]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[Jde]()}[Jde](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[dYe])}}};pYe.exports=Wde});var HI=Ue((z5n,yYe)=>{"use strict";var VI=ft("zlib"),mYe=zI(),Vqt=fYe(),{kStatusCode:hYe}=ph(),Hqt=Buffer[Symbol.species],Gqt=Buffer.from([0,0,255,255]),d$=Symbol("permessage-deflate"),mh=Symbol("total-length"),jA=Symbol("callback"),u1=Symbol("buffers"),qA=Symbol("error"),u$,Kde=class{constructor(e,r,n){if(this._maxPayload=n|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!r,this._deflate=null,this._inflate=null,this.params=null,!u$){let i=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;u$=new Vqt(i)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[jA];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let r=this._options,n=e.find(i=>!(r.serverNoContextTakeover===!1&&i.server_no_context_takeover||i.server_max_window_bits&&(r.serverMaxWindowBits===!1||typeof r.serverMaxWindowBits=="number"&&r.serverMaxWindowBits>i.server_max_window_bits)||typeof r.clientMaxWindowBits=="number"&&!i.client_max_window_bits));if(!n)throw new Error("None of the extension offers can be accepted");return r.serverNoContextTakeover&&(n.server_no_context_takeover=!0),r.clientNoContextTakeover&&(n.client_no_context_takeover=!0),typeof r.serverMaxWindowBits=="number"&&(n.server_max_window_bits=r.serverMaxWindowBits),typeof r.clientMaxWindowBits=="number"?n.client_max_window_bits=r.clientMaxWindowBits:(n.client_max_window_bits===!0||r.clientMaxWindowBits===!1)&&delete n.client_max_window_bits,n}acceptAsClient(e){let r=e[0];if(this._options.clientNoContextTakeover===!1&&r.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!r.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(r.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&r.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return r}normalizeParams(e){return e.forEach(r=>{Object.keys(r).forEach(n=>{let i=r[n];if(i.length>1)throw new Error(`Parameter "${n}" must have only a single value`);if(i=i[0],n==="client_max_window_bits"){if(i!==!0){let o=+i;if(!Number.isInteger(o)||o<8||o>15)throw new TypeError(`Invalid value for parameter "${n}": ${i}`);i=o}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${n}": ${i}`)}else if(n==="server_max_window_bits"){let o=+i;if(!Number.isInteger(o)||o<8||o>15)throw new TypeError(`Invalid value for parameter "${n}": ${i}`);i=o}else if(n==="client_no_context_takeover"||n==="server_no_context_takeover"){if(i!==!0)throw new TypeError(`Invalid value for parameter "${n}": ${i}`)}else throw new Error(`Unknown parameter "${n}"`);r[n]=i})}),e}decompress(e,r,n){u$.add(i=>{this._decompress(e,r,(o,s)=>{i(),n(o,s)})})}compress(e,r,n){u$.add(i=>{this._compress(e,r,(o,s)=>{i(),n(o,s)})})}_decompress(e,r,n){let i=this._isServer?"client":"server";if(!this._inflate){let o=`${i}_max_window_bits`,s=typeof this.params[o]!="number"?VI.Z_DEFAULT_WINDOWBITS:this.params[o];this._inflate=VI.createInflateRaw({...this._options.zlibInflateOptions,windowBits:s}),this._inflate[d$]=this,this._inflate[mh]=0,this._inflate[u1]=[],this._inflate.on("error",qqt),this._inflate.on("data",gYe)}this._inflate[jA]=n,this._inflate.write(e),r&&this._inflate.write(Gqt),this._inflate.flush(()=>{let o=this._inflate[qA];if(o){this._inflate.close(),this._inflate=null,n(o);return}let s=mYe.concat(this._inflate[u1],this._inflate[mh]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[mh]=0,this._inflate[u1]=[],r&&this.params[`${i}_no_context_takeover`]&&this._inflate.reset()),n(null,s)})}_compress(e,r,n){let i=this._isServer?"server":"client";if(!this._deflate){let o=`${i}_max_window_bits`,s=typeof this.params[o]!="number"?VI.Z_DEFAULT_WINDOWBITS:this.params[o];this._deflate=VI.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:s}),this._deflate[mh]=0,this._deflate[u1]=[],this._deflate.on("data",jqt)}this._deflate[jA]=n,this._deflate.write(e),this._deflate.flush(VI.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let o=mYe.concat(this._deflate[u1],this._deflate[mh]);r&&(o=new Hqt(o.buffer,o.byteOffset,o.length-4)),this._deflate[jA]=null,this._deflate[mh]=0,this._deflate[u1]=[],r&&this.params[`${i}_no_context_takeover`]&&this._deflate.reset(),n(null,o)})}};yYe.exports=Kde;function jqt(t){this[u1].push(t),this[mh]+=t.length}function gYe(t){if(this[mh]+=t.length,this[d$]._maxPayload<1||this[mh]<=this[d$]._maxPayload){this[u1].push(t);return}this[qA]=new RangeError("Max payload size exceeded"),this[qA].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[qA][hYe]=1009,this.removeListener("data",gYe),this.reset()}function qqt(t){if(this[d$]._inflate=null,this[qA]){this[jA](this[qA]);return}t[hYe]=1007,this[jA](t)}});var vYe=Ue((V5n,bYe)=>{"use strict";function Jqt(t){let e=t.length,r=0;for(;r<e;)if((t[r]&128)===0)r++;else if((t[r]&224)===192){if(r+1===e||(t[r+1]&192)!==128||(t[r]&254)===192)return!1;r+=2}else if((t[r]&240)===224){if(r+2>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||t[r]===224&&(t[r+1]&224)===128||t[r]===237&&(t[r+1]&224)===160)return!1;r+=3}else if((t[r]&248)===240){if(r+3>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||(t[r+3]&192)!==128||t[r]===240&&(t[r+1]&240)===128||t[r]===244&&t[r+1]>143||t[r]>244)return!1;r+=4}else return!1;return!0}bYe.exports=Jqt});var Xde=Ue((H5n,Qde)=>{"use strict";try{Qde.exports=Vde()(__dirname)}catch{Qde.exports=vYe()}});var JA=Ue((G5n,p$)=>{"use strict";var{isUtf8:_Ye}=ft("buffer"),{hasBlob:Wqt}=ph(),Kqt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function Qqt(t){return t>=1e3&&t<=1014&&t!==1004&&t!==1005&&t!==1006||t>=3e3&&t<=4999}function Yde(t){let e=t.length,r=0;for(;r<e;)if((t[r]&128)===0)r++;else if((t[r]&224)===192){if(r+1===e||(t[r+1]&192)!==128||(t[r]&254)===192)return!1;r+=2}else if((t[r]&240)===224){if(r+2>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||t[r]===224&&(t[r+1]&224)===128||t[r]===237&&(t[r+1]&224)===160)return!1;r+=3}else if((t[r]&248)===240){if(r+3>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||(t[r+3]&192)!==128||t[r]===240&&(t[r+1]&240)===128||t[r]===244&&t[r+1]>143||t[r]>244)return!1;r+=4}else return!1;return!0}function Xqt(t){return Wqt&&typeof t=="object"&&typeof t.arrayBuffer=="function"&&typeof t.type=="string"&&typeof t.stream=="function"&&(t[Symbol.toStringTag]==="Blob"||t[Symbol.toStringTag]==="File")}p$.exports={isBlob:Xqt,isValidStatusCode:Qqt,isValidUTF8:Yde,tokenChars:Kqt};if(_Ye)p$.exports.isValidUTF8=function(t){return t.length<24?Yde(t):_Ye(t)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let t=Xde();p$.exports.isValidUTF8=function(e){return e.length<32?Yde(e):t(e)}}catch{}});var npe=Ue((j5n,RYe)=>{"use strict";var{Writable:Yqt}=ft("stream"),xYe=HI(),{BINARY_TYPES:Zqt,EMPTY_BUFFER:SYe,kStatusCode:eJt,kWebSocket:tJt}=ph(),{concat:Zde,toArrayBuffer:rJt,unmask:nJt}=zI(),{isValidStatusCode:iJt,isValidUTF8:wYe}=JA(),f$=Buffer[Symbol.species],$u=0,AYe=1,EYe=2,TYe=3,epe=4,tpe=5,m$=6,rpe=class extends Yqt{constructor(e={}){super(),this._allowSynchronousEvents=e.allowSynchronousEvents!==void 0?e.allowSynchronousEvents:!0,this._binaryType=e.binaryType||Zqt[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[tJt]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=$u}_write(e,r,n){if(this._opcode===8&&this._state==$u)return n();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(n)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let n=this._buffers[0];return this._buffers[0]=new f$(n.buffer,n.byteOffset+e,n.length-e),new f$(n.buffer,n.byteOffset,e)}let r=Buffer.allocUnsafe(e);do{let n=this._buffers[0],i=r.length-e;e>=n.length?r.set(this._buffers.shift(),i):(r.set(new Uint8Array(n.buffer,n.byteOffset,e),i),this._buffers[0]=new f$(n.buffer,n.byteOffset+e,n.length-e)),e-=n.length}while(e>0);return r}startLoop(e){this._loop=!0;do switch(this._state){case $u:this.getInfo(e);break;case AYe:this.getPayloadLength16(e);break;case EYe:this.getPayloadLength64(e);break;case TYe:this.getMask();break;case epe:this.getData(e);break;case tpe:case m$:this._loop=!1;return}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2){this._loop=!1;return}let r=this.consume(2);if((r[0]&48)!==0){let i=this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");e(i);return}let n=(r[0]&64)===64;if(n&&!this._extensions[xYe.extensionName]){let i=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(i);return}if(this._fin=(r[0]&128)===128,this._opcode=r[0]&15,this._payloadLength=r[1]&127,this._opcode===0){if(n){let i=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(i);return}if(!this._fragmented){let i=this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");e(i);return}this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented){let i=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(i);return}this._compressed=n}else if(this._opcode>7&&this._opcode<11){if(!this._fin){let i=this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");e(i);return}if(n){let i=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(i);return}if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1){let i=this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");e(i);return}}else{let i=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(i);return}if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(r[1]&128)===128,this._isServer){if(!this._masked){let i=this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK");e(i);return}}else if(this._masked){let i=this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");e(i);return}this._payloadLength===126?this._state=AYe:this._payloadLength===127?this._state=EYe:this.haveLength(e)}getPayloadLength16(e){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e)}getPayloadLength64(e){if(this._bufferedBytes<8){this._loop=!1;return}let r=this.consume(8),n=r.readUInt32BE(0);if(n>Math.pow(2,21)-1){let i=this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH");e(i);return}this._payloadLength=n*Math.pow(2,32)+r.readUInt32BE(4),this.haveLength(e)}haveLength(e){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){let r=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");e(r);return}this._masked?this._state=TYe:this._state=epe}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=epe}getData(e){let r=SYe;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}r=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!==0&&nJt(r,this._mask)}if(this._opcode>7){this.controlMessage(r,e);return}if(this._compressed){this._state=tpe,this.decompress(r,e);return}r.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(r)),this.dataMessage(e)}decompress(e,r){this._extensions[xYe.extensionName].decompress(e,this._fin,(i,o)=>{if(i)return r(i);if(o.length){if(this._messageLength+=o.length,this._messageLength>this._maxPayload&&this._maxPayload>0){let s=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");r(s);return}this._fragments.push(o)}this.dataMessage(r),this._state===$u&&this.startLoop(r)})}dataMessage(e){if(!this._fin){this._state=$u;return}let r=this._messageLength,n=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let i;this._binaryType==="nodebuffer"?i=Zde(n,r):this._binaryType==="arraybuffer"?i=rJt(Zde(n,r)):this._binaryType==="blob"?i=new Blob(n):i=n,this._allowSynchronousEvents?(this.emit("message",i,!0),this._state=$u):(this._state=m$,setImmediate(()=>{this.emit("message",i,!0),this._state=$u,this.startLoop(e)}))}else{let i=Zde(n,r);if(!this._skipUTF8Validation&&!wYe(i)){let o=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");e(o);return}this._state===tpe||this._allowSynchronousEvents?(this.emit("message",i,!1),this._state=$u):(this._state=m$,setImmediate(()=>{this.emit("message",i,!1),this._state=$u,this.startLoop(e)}))}}controlMessage(e,r){if(this._opcode===8){if(e.length===0)this._loop=!1,this.emit("conclude",1005,SYe),this.end();else{let n=e.readUInt16BE(0);if(!iJt(n)){let o=this.createError(RangeError,`invalid status code ${n}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");r(o);return}let i=new f$(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!wYe(i)){let o=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");r(o);return}this._loop=!1,this.emit("conclude",n,i),this.end()}this._state=$u;return}this._allowSynchronousEvents?(this.emit(this._opcode===9?"ping":"pong",e),this._state=$u):(this._state=m$,setImmediate(()=>{this.emit(this._opcode===9?"ping":"pong",e),this._state=$u,this.startLoop(r)}))}createError(e,r,n,i,o){this._loop=!1,this._errored=!0;let s=new e(n?`Invalid WebSocket frame: ${r}`:r);return Error.captureStackTrace(s,this.createError),s.code=o,s[eJt]=i,s}};RYe.exports=rpe});var spe=Ue((J5n,NYe)=>{"use strict";var{Duplex:q5n}=ft("stream"),{randomFillSync:oJt}=ft("crypto"),IYe=HI(),{EMPTY_BUFFER:sJt,kWebSocket:aJt,NOOP:cJt}=ph(),{isBlob:WA,isValidStatusCode:lJt}=JA(),{mask:CYe,toBuffer:Jv}=zI(),Uu=Symbol("kByteLength"),uJt=Buffer.alloc(4),h$=8*1024,Wv,KA=h$,Vd=0,dJt=1,pJt=2,ipe=class t{constructor(e,r,n){this._extensions=r||{},n&&(this._generateMask=n,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._queue=[],this._state=Vd,this.onerror=cJt,this[aJt]=void 0}static frame(e,r){let n,i=!1,o=2,s=!1;r.mask&&(n=r.maskBuffer||uJt,r.generateMask?r.generateMask(n):(KA===h$&&(Wv===void 0&&(Wv=Buffer.alloc(h$)),oJt(Wv,0,h$),KA=0),n[0]=Wv[KA++],n[1]=Wv[KA++],n[2]=Wv[KA++],n[3]=Wv[KA++]),s=(n[0]|n[1]|n[2]|n[3])===0,o=6);let a;typeof e=="string"?(!r.mask||s)&&r[Uu]!==void 0?a=r[Uu]:(e=Buffer.from(e),a=e.length):(a=e.length,i=r.mask&&r.readOnly&&!s);let c=a;a>=65536?(o+=8,c=127):a>125&&(o+=2,c=126);let l=Buffer.allocUnsafe(i?a+o:o);return l[0]=r.fin?r.opcode|128:r.opcode,r.rsv1&&(l[0]|=64),l[1]=c,c===126?l.writeUInt16BE(a,2):c===127&&(l[2]=l[3]=0,l.writeUIntBE(a,4,6)),r.mask?(l[1]|=128,l[o-4]=n[0],l[o-3]=n[1],l[o-2]=n[2],l[o-1]=n[3],s?[l,e]:i?(CYe(e,n,l,o,a),[l]):(CYe(e,n,e,0,a),[l,e])):[l,e]}close(e,r,n,i){let o;if(e===void 0)o=sJt;else{if(typeof e!="number"||!lJt(e))throw new TypeError("First argument must be a valid error code number");if(r===void 0||!r.length)o=Buffer.allocUnsafe(2),o.writeUInt16BE(e,0);else{let a=Buffer.byteLength(r);if(a>123)throw new RangeError("The message must not be greater than 123 bytes");o=Buffer.allocUnsafe(2+a),o.writeUInt16BE(e,0),typeof r=="string"?o.write(r,2):o.set(r,2)}}let s={[Uu]:o.length,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._state!==Vd?this.enqueue([this.dispatch,o,!1,s,i]):this.sendFrame(t.frame(o,s),i)}ping(e,r,n){let i,o;if(typeof e=="string"?(i=Buffer.byteLength(e),o=!1):WA(e)?(i=e.size,o=!1):(e=Jv(e),i=e.length,o=Jv.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let s={[Uu]:i,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:9,readOnly:o,rsv1:!1};WA(e)?this._state!==Vd?this.enqueue([this.getBlobData,e,!1,s,n]):this.getBlobData(e,!1,s,n):this._state!==Vd?this.enqueue([this.dispatch,e,!1,s,n]):this.sendFrame(t.frame(e,s),n)}pong(e,r,n){let i,o;if(typeof e=="string"?(i=Buffer.byteLength(e),o=!1):WA(e)?(i=e.size,o=!1):(e=Jv(e),i=e.length,o=Jv.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let s={[Uu]:i,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:10,readOnly:o,rsv1:!1};WA(e)?this._state!==Vd?this.enqueue([this.getBlobData,e,!1,s,n]):this.getBlobData(e,!1,s,n):this._state!==Vd?this.enqueue([this.dispatch,e,!1,s,n]):this.sendFrame(t.frame(e,s),n)}send(e,r,n){let i=this._extensions[IYe.extensionName],o=r.binary?2:1,s=r.compress,a,c;typeof e=="string"?(a=Buffer.byteLength(e),c=!1):WA(e)?(a=e.size,c=!1):(e=Jv(e),a=e.length,c=Jv.readOnly),this._firstFragment?(this._firstFragment=!1,s&&i&&i.params[i._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(s=a>=i._threshold),this._compress=s):(s=!1,o=0),r.fin&&(this._firstFragment=!0);let l={[Uu]:a,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:c,rsv1:s};WA(e)?this._state!==Vd?this.enqueue([this.getBlobData,e,this._compress,l,n]):this.getBlobData(e,this._compress,l,n):this._state!==Vd?this.enqueue([this.dispatch,e,this._compress,l,n]):this.dispatch(e,this._compress,l,n)}getBlobData(e,r,n,i){this._bufferedBytes+=n[Uu],this._state=pJt,e.arrayBuffer().then(o=>{if(this._socket.destroyed){let a=new Error("The socket was closed while the blob was being read");process.nextTick(ope,this,a,i);return}this._bufferedBytes-=n[Uu];let s=Jv(o);r?this.dispatch(s,r,n,i):(this._state=Vd,this.sendFrame(t.frame(s,n),i),this.dequeue())}).catch(o=>{process.nextTick(fJt,this,o,i)})}dispatch(e,r,n,i){if(!r){this.sendFrame(t.frame(e,n),i);return}let o=this._extensions[IYe.extensionName];this._bufferedBytes+=n[Uu],this._state=dJt,o.compress(e,n.fin,(s,a)=>{if(this._socket.destroyed){let c=new Error("The socket was closed while data was being compressed");ope(this,c,i);return}this._bufferedBytes-=n[Uu],this._state=Vd,n.readOnly=!1,this.sendFrame(t.frame(a,n),i),this.dequeue()})}dequeue(){for(;this._state===Vd&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][Uu],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][Uu],this._queue.push(e)}sendFrame(e,r){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],r),this._socket.uncork()):this._socket.write(e[0],r)}};NYe.exports=ipe;function ope(t,e,r){typeof r=="function"&&r(e);for(let n=0;n<t._queue.length;n++){let i=t._queue[n],o=i[i.length-1];typeof o=="function"&&o(e)}}function fJt(t,e,r){ope(t,e,r),t.onerror(e)}});var UYe=Ue((W5n,$Ye)=>{"use strict";var{kForOnEventAttribute:GI,kListener:ape}=ph(),OYe=Symbol("kCode"),PYe=Symbol("kData"),kYe=Symbol("kError"),DYe=Symbol("kMessage"),MYe=Symbol("kReason"),QA=Symbol("kTarget"),LYe=Symbol("kType"),BYe=Symbol("kWasClean"),hh=class{constructor(e){this[QA]=null,this[LYe]=e}get target(){return this[QA]}get type(){return this[LYe]}};Object.defineProperty(hh.prototype,"target",{enumerable:!0});Object.defineProperty(hh.prototype,"type",{enumerable:!0});var Kv=class extends hh{constructor(e,r={}){super(e),this[OYe]=r.code===void 0?0:r.code,this[MYe]=r.reason===void 0?"":r.reason,this[BYe]=r.wasClean===void 0?!1:r.wasClean}get code(){return this[OYe]}get reason(){return this[MYe]}get wasClean(){return this[BYe]}};Object.defineProperty(Kv.prototype,"code",{enumerable:!0});Object.defineProperty(Kv.prototype,"reason",{enumerable:!0});Object.defineProperty(Kv.prototype,"wasClean",{enumerable:!0});var XA=class extends hh{constructor(e,r={}){super(e),this[kYe]=r.error===void 0?null:r.error,this[DYe]=r.message===void 0?"":r.message}get error(){return this[kYe]}get message(){return this[DYe]}};Object.defineProperty(XA.prototype,"error",{enumerable:!0});Object.defineProperty(XA.prototype,"message",{enumerable:!0});var jI=class extends hh{constructor(e,r={}){super(e),this[PYe]=r.data===void 0?null:r.data}get data(){return this[PYe]}};Object.defineProperty(jI.prototype,"data",{enumerable:!0});var mJt={addEventListener(t,e,r={}){for(let i of this.listeners(t))if(!r[GI]&&i[ape]===e&&!i[GI])return;let n;if(t==="message")n=function(o,s){let a=new jI("message",{data:s?o:o.toString()});a[QA]=this,g$(e,this,a)};else if(t==="close")n=function(o,s){let a=new Kv("close",{code:o,reason:s.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});a[QA]=this,g$(e,this,a)};else if(t==="error")n=function(o){let s=new XA("error",{error:o,message:o.message});s[QA]=this,g$(e,this,s)};else if(t==="open")n=function(){let o=new hh("open");o[QA]=this,g$(e,this,o)};else return;n[GI]=!!r[GI],n[ape]=e,r.once?this.once(t,n):this.on(t,n)},removeEventListener(t,e){for(let r of this.listeners(t))if(r[ape]===e&&!r[GI]){this.removeListener(t,r);break}}};$Ye.exports={CloseEvent:Kv,ErrorEvent:XA,Event:hh,EventTarget:mJt,MessageEvent:jI};function g$(t,e,r){typeof t=="object"&&t.handleEvent?t.handleEvent.call(t,r):t.call(e,r)}});var cpe=Ue((K5n,FYe)=>{"use strict";var{tokenChars:qI}=JA();function vf(t,e,r){t[e]===void 0?t[e]=[r]:t[e].push(r)}function hJt(t){let e=Object.create(null),r=Object.create(null),n=!1,i=!1,o=!1,s,a,c=-1,l=-1,u=-1,d=0;for(;d<t.length;d++)if(l=t.charCodeAt(d),s===void 0)if(u===-1&&qI[l]===1)c===-1&&(c=d);else if(d!==0&&(l===32||l===9))u===-1&&c!==-1&&(u=d);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d);let f=t.slice(c,u);l===44?(vf(e,f,r),r=Object.create(null)):s=f,c=u=-1}else throw new SyntaxError(`Unexpected character at index ${d}`);else if(a===void 0)if(u===-1&&qI[l]===1)c===-1&&(c=d);else if(l===32||l===9)u===-1&&c!==-1&&(u=d);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d),vf(r,t.slice(c,u),!0),l===44&&(vf(e,s,r),r=Object.create(null),s=void 0),c=u=-1}else if(l===61&&c!==-1&&u===-1)a=t.slice(c,d),c=u=-1;else throw new SyntaxError(`Unexpected character at index ${d}`);else if(i){if(qI[l]!==1)throw new SyntaxError(`Unexpected character at index ${d}`);c===-1?c=d:n||(n=!0),i=!1}else if(o)if(qI[l]===1)c===-1&&(c=d);else if(l===34&&c!==-1)o=!1,u=d;else if(l===92)i=!0;else throw new SyntaxError(`Unexpected character at index ${d}`);else if(l===34&&t.charCodeAt(d-1)===61)o=!0;else if(u===-1&&qI[l]===1)c===-1&&(c=d);else if(c!==-1&&(l===32||l===9))u===-1&&(u=d);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d);let f=t.slice(c,u);n&&(f=f.replace(/\\/g,""),n=!1),vf(r,a,f),l===44&&(vf(e,s,r),r=Object.create(null),s=void 0),a=void 0,c=u=-1}else throw new SyntaxError(`Unexpected character at index ${d}`);if(c===-1||o||l===32||l===9)throw new SyntaxError("Unexpected end of input");u===-1&&(u=d);let p=t.slice(c,u);return s===void 0?vf(e,p,r):(a===void 0?vf(r,p,!0):n?vf(r,a,p.replace(/\\/g,"")):vf(r,a,p),vf(e,s,r)),e}function gJt(t){return Object.keys(t).map(e=>{let r=t[e];return Array.isArray(r)||(r=[r]),r.map(n=>[e].concat(Object.keys(n).map(i=>{let o=n[i];return Array.isArray(o)||(o=[o]),o.map(s=>s===!0?i:`${i}=${s}`).join("; ")})).join("; ")).join(", ")}).join(", ")}FYe.exports={format:gJt,parse:hJt}});var _$=Ue((Y5n,YYe)=>{"use strict";var yJt=ft("events"),bJt=ft("https"),vJt=ft("http"),HYe=ft("net"),_Jt=ft("tls"),{randomBytes:xJt,createHash:SJt}=ft("crypto"),{Duplex:Q5n,Readable:X5n}=ft("stream"),{URL:lpe}=ft("url"),d1=HI(),wJt=npe(),AJt=spe(),{isBlob:EJt}=JA(),{BINARY_TYPES:zYe,CLOSE_TIMEOUT:TJt,EMPTY_BUFFER:y$,GUID:RJt,kForOnEventAttribute:upe,kListener:IJt,kStatusCode:CJt,kWebSocket:Qo,NOOP:GYe}=ph(),{EventTarget:{addEventListener:NJt,removeEventListener:OJt}}=UYe(),{format:PJt,parse:kJt}=cpe(),{toBuffer:DJt}=zI(),jYe=Symbol("kAborted"),dpe=[8,13],gh=["CONNECTING","OPEN","CLOSING","CLOSED"],MJt=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,ci=class t extends yJt{constructor(e,r,n){super(),this._binaryType=zYe[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=y$,this._closeTimer=null,this._errorEmitted=!1,this._extensions={},this._paused=!1,this._protocol="",this._readyState=t.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,r===void 0?r=[]:Array.isArray(r)||(typeof r=="object"&&r!==null?(n=r,r=[]):r=[r]),qYe(this,e,r,n)):(this._autoPong=n.autoPong,this._closeTimeout=n.closeTimeout,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){zYe.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,r,n){let i=new wJt({allowSynchronousEvents:n.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:n.maxPayload,skipUTF8Validation:n.skipUTF8Validation}),o=new AJt(e,this._extensions,n.generateMask);this._receiver=i,this._sender=o,this._socket=e,i[Qo]=this,o[Qo]=this,e[Qo]=this,i.on("conclude",$Jt),i.on("drain",UJt),i.on("error",FJt),i.on("message",zJt),i.on("ping",VJt),i.on("pong",HJt),o.onerror=GJt,e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),r.length>0&&e.unshift(r),e.on("close",KYe),e.on("data",v$),e.on("end",QYe),e.on("error",XYe),this._readyState=t.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=t.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[d1.extensionName]&&this._extensions[d1.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=t.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,r){if(this.readyState!==t.CLOSED){if(this.readyState===t.CONNECTING){cl(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===t.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=t.CLOSING,this._sender.close(e,r,!this._isServer,n=>{n||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),WYe(this)}}pause(){this.readyState===t.CONNECTING||this.readyState===t.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,r,n){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(n=e,e=r=void 0):typeof r=="function"&&(n=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){ppe(this,e,n);return}r===void 0&&(r=!this._isServer),this._sender.ping(e||y$,r,n)}pong(e,r,n){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(n=e,e=r=void 0):typeof r=="function"&&(n=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){ppe(this,e,n);return}r===void 0&&(r=!this._isServer),this._sender.pong(e||y$,r,n)}resume(){this.readyState===t.CONNECTING||this.readyState===t.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,r,n){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof r=="function"&&(n=r,r={}),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){ppe(this,e,n);return}let i={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...r};this._extensions[d1.extensionName]||(i.compress=!1),this._sender.send(e||y$,i,n)}terminate(){if(this.readyState!==t.CLOSED){if(this.readyState===t.CONNECTING){cl(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=t.CLOSING,this._socket.destroy())}}};Object.defineProperty(ci,"CONNECTING",{enumerable:!0,value:gh.indexOf("CONNECTING")});Object.defineProperty(ci.prototype,"CONNECTING",{enumerable:!0,value:gh.indexOf("CONNECTING")});Object.defineProperty(ci,"OPEN",{enumerable:!0,value:gh.indexOf("OPEN")});Object.defineProperty(ci.prototype,"OPEN",{enumerable:!0,value:gh.indexOf("OPEN")});Object.defineProperty(ci,"CLOSING",{enumerable:!0,value:gh.indexOf("CLOSING")});Object.defineProperty(ci.prototype,"CLOSING",{enumerable:!0,value:gh.indexOf("CLOSING")});Object.defineProperty(ci,"CLOSED",{enumerable:!0,value:gh.indexOf("CLOSED")});Object.defineProperty(ci.prototype,"CLOSED",{enumerable:!0,value:gh.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(t=>{Object.defineProperty(ci.prototype,t,{enumerable:!0})});["open","error","close","message"].forEach(t=>{Object.defineProperty(ci.prototype,`on${t}`,{enumerable:!0,get(){for(let e of this.listeners(t))if(e[upe])return e[IJt];return null},set(e){for(let r of this.listeners(t))if(r[upe]){this.removeListener(t,r);break}typeof e=="function"&&this.addEventListener(t,e,{[upe]:!0})}})});ci.prototype.addEventListener=NJt;ci.prototype.removeEventListener=OJt;YYe.exports=ci;function qYe(t,e,r,n){let i={allowSynchronousEvents:!0,autoPong:!0,closeTimeout:TJt,protocolVersion:dpe[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...n,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(t._autoPong=i.autoPong,t._closeTimeout=i.closeTimeout,!dpe.includes(i.protocolVersion))throw new RangeError(`Unsupported protocol version: ${i.protocolVersion} (supported versions: ${dpe.join(", ")})`);let o;if(e instanceof lpe)o=e;else try{o=new lpe(e)}catch{throw new SyntaxError(`Invalid URL: ${e}`)}o.protocol==="http:"?o.protocol="ws:":o.protocol==="https:"&&(o.protocol="wss:"),t._url=o.href;let s=o.protocol==="wss:",a=o.protocol==="ws+unix:",c;if(o.protocol!=="ws:"&&!s&&!a?c=`The URL's protocol must be one of "ws:", "wss:", "http:", "https:", or "ws+unix:"`:a&&!o.pathname?c="The URL's pathname is empty":o.hash&&(c="The URL contains a fragment identifier"),c){let m=new SyntaxError(c);if(t._redirects===0)throw m;b$(t,m);return}let l=s?443:80,u=xJt(16).toString("base64"),d=s?bJt.request:vJt.request,p=new Set,f;if(i.createConnection=i.createConnection||(s?BJt:LJt),i.defaultPort=i.defaultPort||l,i.port=o.port||l,i.host=o.hostname.startsWith("[")?o.hostname.slice(1,-1):o.hostname,i.headers={...i.headers,"Sec-WebSocket-Version":i.protocolVersion,"Sec-WebSocket-Key":u,Connection:"Upgrade",Upgrade:"websocket"},i.path=o.pathname+o.search,i.timeout=i.handshakeTimeout,i.perMessageDeflate&&(f=new d1(i.perMessageDeflate!==!0?i.perMessageDeflate:{},!1,i.maxPayload),i.headers["Sec-WebSocket-Extensions"]=PJt({[d1.extensionName]:f.offer()})),r.length){for(let m of r){if(typeof m!="string"||!MJt.test(m)||p.has(m))throw new SyntaxError("An invalid or duplicated subprotocol was specified");p.add(m)}i.headers["Sec-WebSocket-Protocol"]=r.join(",")}if(i.origin&&(i.protocolVersion<13?i.headers["Sec-WebSocket-Origin"]=i.origin:i.headers.Origin=i.origin),(o.username||o.password)&&(i.auth=`${o.username}:${o.password}`),a){let m=i.path.split(":");i.socketPath=m[0],i.path=m[1]}let h;if(i.followRedirects){if(t._redirects===0){t._originalIpc=a,t._originalSecure=s,t._originalHostOrSocketPath=a?i.socketPath:o.host;let m=n&&n.headers;if(n={...n,headers:{}},m)for(let[g,b]of Object.entries(m))n.headers[g.toLowerCase()]=b}else if(t.listenerCount("redirect")===0){let m=a?t._originalIpc?i.socketPath===t._originalHostOrSocketPath:!1:t._originalIpc?!1:o.host===t._originalHostOrSocketPath;(!m||t._originalSecure&&!s)&&(delete i.headers.authorization,delete i.headers.cookie,m||delete i.headers.host,i.auth=void 0)}i.auth&&!n.headers.authorization&&(n.headers.authorization="Basic "+Buffer.from(i.auth).toString("base64")),h=t._req=d(i),t._redirects&&t.emit("redirect",t.url,h)}else h=t._req=d(i);i.timeout&&h.on("timeout",()=>{cl(t,h,"Opening handshake has timed out")}),h.on("error",m=>{h===null||h[jYe]||(h=t._req=null,b$(t,m))}),h.on("response",m=>{let g=m.headers.location,b=m.statusCode;if(g&&i.followRedirects&&b>=300&&b<400){if(++t._redirects>i.maxRedirects){cl(t,h,"Maximum redirects exceeded");return}h.abort();let _;try{_=new lpe(g,e)}catch{let E=new SyntaxError(`Invalid URL: ${g}`);b$(t,E);return}qYe(t,_,r,n)}else t.emit("unexpected-response",h,m)||cl(t,h,`Unexpected server response: ${m.statusCode}`)}),h.on("upgrade",(m,g,b)=>{if(t.emit("upgrade",m),t.readyState!==ci.CONNECTING)return;h=t._req=null;let _=m.headers.upgrade;if(_===void 0||_.toLowerCase()!=="websocket"){cl(t,g,"Invalid Upgrade header");return}let x=SJt("sha1").update(u+RJt).digest("base64");if(m.headers["sec-websocket-accept"]!==x){cl(t,g,"Invalid Sec-WebSocket-Accept header");return}let E=m.headers["sec-websocket-protocol"],R;if(E!==void 0?p.size?p.has(E)||(R="Server sent an invalid subprotocol"):R="Server sent a subprotocol but none was requested":p.size&&(R="Server sent no subprotocol"),R){cl(t,g,R);return}E&&(t._protocol=E);let I=m.headers["sec-websocket-extensions"];if(I!==void 0){if(!f){cl(t,g,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let D;try{D=kJt(I)}catch{cl(t,g,"Invalid Sec-WebSocket-Extensions header");return}let k=Object.keys(D);if(k.length!==1||k[0]!==d1.extensionName){cl(t,g,"Server indicated an extension that was not requested");return}try{f.accept(D[d1.extensionName])}catch{cl(t,g,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[d1.extensionName]=f}t.setSocket(g,b,{allowSynchronousEvents:i.allowSynchronousEvents,generateMask:i.generateMask,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation})}),i.finishRequest?i.finishRequest(h,t):h.end()}function b$(t,e){t._readyState=ci.CLOSING,t._errorEmitted=!0,t.emit("error",e),t.emitClose()}function LJt(t){return t.path=t.socketPath,HYe.connect(t)}function BJt(t){return t.path=void 0,!t.servername&&t.servername!==""&&(t.servername=HYe.isIP(t.host)?"":t.host),_Jt.connect(t)}function cl(t,e,r){t._readyState=ci.CLOSING;let n=new Error(r);Error.captureStackTrace(n,cl),e.setHeader?(e[jYe]=!0,e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),process.nextTick(b$,t,n)):(e.destroy(n),e.once("error",t.emit.bind(t,"error")),e.once("close",t.emitClose.bind(t)))}function ppe(t,e,r){if(e){let n=EJt(e)?e.size:DJt(e).length;t._socket?t._sender._bufferedBytes+=n:t._bufferedAmount+=n}if(r){let n=new Error(`WebSocket is not open: readyState ${t.readyState} (${gh[t.readyState]})`);process.nextTick(r,n)}}function $Jt(t,e){let r=this[Qo];r._closeFrameReceived=!0,r._closeMessage=e,r._closeCode=t,r._socket[Qo]!==void 0&&(r._socket.removeListener("data",v$),process.nextTick(JYe,r._socket),t===1005?r.close():r.close(t,e))}function UJt(){let t=this[Qo];t.isPaused||t._socket.resume()}function FJt(t){let e=this[Qo];e._socket[Qo]!==void 0&&(e._socket.removeListener("data",v$),process.nextTick(JYe,e._socket),e.close(t[CJt])),e._errorEmitted||(e._errorEmitted=!0,e.emit("error",t))}function VYe(){this[Qo].emitClose()}function zJt(t,e){this[Qo].emit("message",t,e)}function VJt(t){let e=this[Qo];e._autoPong&&e.pong(t,!this._isServer,GYe),e.emit("ping",t)}function HJt(t){this[Qo].emit("pong",t)}function JYe(t){t.resume()}function GJt(t){let e=this[Qo];e.readyState!==ci.CLOSED&&(e.readyState===ci.OPEN&&(e._readyState=ci.CLOSING,WYe(e)),this._socket.end(),e._errorEmitted||(e._errorEmitted=!0,e.emit("error",t)))}function WYe(t){t._closeTimer=setTimeout(t._socket.destroy.bind(t._socket),t._closeTimeout)}function KYe(){let t=this[Qo];if(this.removeListener("close",KYe),this.removeListener("data",v$),this.removeListener("end",QYe),t._readyState=ci.CLOSING,!this._readableState.endEmitted&&!t._closeFrameReceived&&!t._receiver._writableState.errorEmitted&&this._readableState.length!==0){let e=this.read(this._readableState.length);t._receiver.write(e)}t._receiver.end(),this[Qo]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",VYe),t._receiver.on("finish",VYe))}function v$(t){this[Qo]._receiver.write(t)||this.pause()}function QYe(){let t=this[Qo];t._readyState=ci.CLOSING,t._receiver.end(),this.end()}function XYe(){let t=this[Qo];this.removeListener("error",XYe),this.on("error",GYe),t&&(t._readyState=ci.CLOSING,this.destroy())}});var rZe=Ue((eTn,tZe)=>{"use strict";var Z5n=_$(),{Duplex:jJt}=ft("stream");function ZYe(t){t.emit("close")}function qJt(){!this.destroyed&&this._writableState.finished&&this.destroy()}function eZe(t){this.removeListener("error",eZe),this.destroy(),this.listenerCount("error")===0&&this.emit("error",t)}function JJt(t,e){let r=!0,n=new jJt({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return t.on("message",function(o,s){let a=!s&&n._readableState.objectMode?o.toString():o;n.push(a)||t.pause()}),t.once("error",function(o){n.destroyed||(r=!1,n.destroy(o))}),t.once("close",function(){n.destroyed||n.push(null)}),n._destroy=function(i,o){if(t.readyState===t.CLOSED){o(i),process.nextTick(ZYe,n);return}let s=!1;t.once("error",function(c){s=!0,o(c)}),t.once("close",function(){s||o(i),process.nextTick(ZYe,n)}),r&&t.terminate()},n._final=function(i){if(t.readyState===t.CONNECTING){t.once("open",function(){n._final(i)});return}t._socket!==null&&(t._socket._writableState.finished?(i(),n._readableState.endEmitted&&n.destroy()):(t._socket.once("finish",function(){i()}),t.close()))},n._read=function(){t.isPaused&&t.resume()},n._write=function(i,o,s){if(t.readyState===t.CONNECTING){t.once("open",function(){n._write(i,o,s)});return}t.send(i,s)},n.on("end",qJt),n.on("error",eZe),n}tZe.exports=JJt});var iZe=Ue((tTn,nZe)=>{"use strict";var{tokenChars:WJt}=JA();function KJt(t){let e=new Set,r=-1,n=-1,i=0;for(i;i<t.length;i++){let s=t.charCodeAt(i);if(n===-1&&WJt[s]===1)r===-1&&(r=i);else if(i!==0&&(s===32||s===9))n===-1&&r!==-1&&(n=i);else if(s===44){if(r===-1)throw new SyntaxError(`Unexpected character at index ${i}`);n===-1&&(n=i);let a=t.slice(r,n);if(e.has(a))throw new SyntaxError(`The "${a}" subprotocol is duplicated`);e.add(a),r=n=-1}else throw new SyntaxError(`Unexpected character at index ${i}`)}if(r===-1||n!==-1)throw new SyntaxError("Unexpected end of input");let o=t.slice(r,i);if(e.has(o))throw new SyntaxError(`The "${o}" subprotocol is duplicated`);return e.add(o),e}nZe.exports={parse:KJt}});var dZe=Ue((nTn,uZe)=>{"use strict";var QJt=ft("events"),x$=ft("http"),{Duplex:rTn}=ft("stream"),{createHash:XJt}=ft("crypto"),oZe=cpe(),Qv=HI(),YJt=iZe(),ZJt=_$(),{CLOSE_TIMEOUT:eWt,GUID:tWt,kWebSocket:rWt}=ph(),nWt=/^[+/0-9A-Za-z]{22}==$/,sZe=0,aZe=1,lZe=2,fpe=class extends QJt{constructor(e,r){if(super(),e={allowSynchronousEvents:!0,autoPong:!0,maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,closeTimeout:eWt,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:ZJt,...e},e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=x$.createServer((n,i)=>{let o=x$.STATUS_CODES[426];i.writeHead(426,{"Content-Length":o.length,"Content-Type":"text/plain"}),i.end(o)}),this._server.listen(e.port,e.host,e.backlog,r)):e.server&&(this._server=e.server),this._server){let n=this.emit.bind(this,"connection");this._removeListeners=iWt(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(i,o,s)=>{this.handleUpgrade(i,o,s,n)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=sZe}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===lZe){e&&this.once("close",()=>{e(new Error("The server is not running"))}),process.nextTick(JI,this);return}if(e&&this.once("close",e),this._state!==aZe)if(this._state=aZe,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(JI,this):process.nextTick(JI,this);else{let r=this._server;this._removeListeners(),this._removeListeners=this._server=null,r.close(()=>{JI(this)})}}shouldHandle(e){if(this.options.path){let r=e.url.indexOf("?");if((r!==-1?e.url.slice(0,r):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,r,n,i){r.on("error",cZe);let o=e.headers["sec-websocket-key"],s=e.headers.upgrade,a=+e.headers["sec-websocket-version"];if(e.method!=="GET"){Xv(this,e,r,405,"Invalid HTTP method");return}if(s===void 0||s.toLowerCase()!=="websocket"){Xv(this,e,r,400,"Invalid Upgrade header");return}if(o===void 0||!nWt.test(o)){Xv(this,e,r,400,"Missing or invalid Sec-WebSocket-Key header");return}if(a!==13&&a!==8){Xv(this,e,r,400,"Missing or invalid Sec-WebSocket-Version header",{"Sec-WebSocket-Version":"13, 8"});return}if(!this.shouldHandle(e)){WI(r,400);return}let c=e.headers["sec-websocket-protocol"],l=new Set;if(c!==void 0)try{l=YJt.parse(c)}catch{Xv(this,e,r,400,"Invalid Sec-WebSocket-Protocol header");return}let u=e.headers["sec-websocket-extensions"],d={};if(this.options.perMessageDeflate&&u!==void 0){let p=new Qv(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let f=oZe.parse(u);f[Qv.extensionName]&&(p.accept(f[Qv.extensionName]),d[Qv.extensionName]=p)}catch{Xv(this,e,r,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let p={origin:e.headers[`${a===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(p,(f,h,m,g)=>{if(!f)return WI(r,h||401,m,g);this.completeUpgrade(d,o,l,e,r,n,i)});return}if(!this.options.verifyClient(p))return WI(r,401)}this.completeUpgrade(d,o,l,e,r,n,i)}completeUpgrade(e,r,n,i,o,s,a){if(!o.readable||!o.writable)return o.destroy();if(o[rWt])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>sZe)return WI(o,503);let l=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${XJt("sha1").update(r+tWt).digest("base64")}`],u=new this.options.WebSocket(null,void 0,this.options);if(n.size){let d=this.options.handleProtocols?this.options.handleProtocols(n,i):n.values().next().value;d&&(l.push(`Sec-WebSocket-Protocol: ${d}`),u._protocol=d)}if(e[Qv.extensionName]){let d=e[Qv.extensionName].params,p=oZe.format({[Qv.extensionName]:[d]});l.push(`Sec-WebSocket-Extensions: ${p}`),u._extensions=e}this.emit("headers",l,i),o.write(l.concat(`\r
`).join(`\r
`)),o.removeListener("error",cZe),u.setSocket(o,s,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(u),u.on("close",()=>{this.clients.delete(u),this._shouldEmitClose&&!this.clients.size&&process.nextTick(JI,this)})),a(u,i)}};uZe.exports=fpe;function iWt(t,e){for(let r of Object.keys(e))t.on(r,e[r]);return function(){for(let n of Object.keys(e))t.removeListener(n,e[n])}}function JI(t){t._state=lZe,t.emit("close")}function cZe(){this.destroy()}function WI(t,e,r,n){r=r||x$.STATUS_CODES[e],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...n},t.once("finish",t.destroy),t.end(`HTTP/1.1 ${e} ${x$.STATUS_CODES[e]}\r
`+Object.keys(n).map(i=>`${i}: ${n[i]}`).join(`\r
`)+`\r
\r
`+r)}function Xv(t,e,r,n,i,o){if(t.listenerCount("wsClientError")){let s=new Error(i);Error.captureStackTrace(s,Xv),t.emit("wsClientError",s,r,e)}else WI(r,n,i,o)}});var oWt,sWt,aWt,cWt,pZe,fZe=y(()=>{"use strict";oWt=ti(rZe(),1),sWt=ti(npe(),1),aWt=ti(spe(),1),cWt=ti(_$(),1),pZe=ti(dZe(),1)});function Sf(t){return t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),"")}var bh,O$,Ape=y(()=>{"use strict";bh=(t,e)=>{let r=/^[0-9A-Fa-f]+$/;if(!t||t.length%2!=0||!r.test(t))throw new Error(`cannot create uint8array from invalid hex string: "${t}"`);let n=new Uint8Array(t.match(/../g).map(o=>parseInt(o,16)));if(!e)return n;if(t.length/2>e)throw new Error("hex value cannot fit in a buffer of "+e+" byte(s)");let i=new Uint8Array(e);return i.set(n,e-n.length),i},O$=(t,e)=>{let r=e-t.length;if(r>0){let n=new Uint8Array(r).fill(0);return new Uint8Array([...n,...t])}if(r<0){let n=r*-1,i=0;for(let o=0;o<n&&o<t.length;o++)t[o]===0&&i++;if(i!==n)throw new Error(`invalid number of starting zeroes. Expected number of zeroes: ${n}. Found: ${i}.`);return t.slice(n,n+e)}return t}});function e4(t){let e=cKt(t);return LZe(e)}function Epe(t,e){let r=t.padStart(Math.ceil(t.length/2)*2,"0"),n=bh(r,e);return e4(n.reduce((i,o)=>i+String.fromCharCode(o),""))}function LZe(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function cKt(t){if(arguments.length===0)throw new TypeError("1 argument required, but only 0 present.");let e;for(t=`${t}`,e=0;e<t.length;e++)if(t.charCodeAt(e)>255)throw new Error(`InvalidCharacterError: found code point greater than 255:${t.charCodeAt(e)} at position ${e}`);let r="";for(e=0;e<t.length;e+=3){let n=[void 0,void 0,void 0,void 0];n[0]=t.charCodeAt(e)>>2,n[1]=(t.charCodeAt(e)&3)<<4,t.length>e+1&&(n[1]|=t.charCodeAt(e+1)>>4,n[2]=(t.charCodeAt(e+1)&15)<<2),t.length>e+2&&(n[2]|=t.charCodeAt(e+2)>>6,n[3]=t.charCodeAt(e+2)&63);for(let i=0;i<n.length;i++)typeof n[i]>"u"?r+="=":r+=lKt(n[i])}return r}function lKt(t){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";if(t>=0&&t<64)return e[t]}var BZe=y(()=>{"use strict";Ape()});var $Ze=y(()=>{"use strict"});function uKt(t){if(t.length>=255)throw new TypeError("Alphabet too long");let e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){let u=t.charAt(l),d=u.charCodeAt(0);if(e[d]!==255)throw new TypeError(u+" is ambiguous");e[d]=l}let r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),o=Math.log(256)/Math.log(r);function s(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,d=0,p=0,f=l.length;for(;p!==f&&l[p]===0;)p++,u++;let h=(f-p)*o+1>>>0,m=new Uint8Array(h);for(;p!==f;){let _=l[p],x=0;for(let E=h-1;(_!==0||x<d)&&E!==-1;E--,x++)_+=256*m[E]>>>0,m[E]=_%r>>>0,_=_/r>>>0;if(_!==0)throw new Error("Non-zero carry");d=x,p++}let g=h-d;for(;g!==h&&m[g]===0;)g++;let b=n.repeat(u);for(;g<h;++g)b+=t.charAt(m[g]);return b}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,d=0,p=0;for(;l[u]===n;)d++,u++;let f=(l.length-u)*i+1>>>0,h=new Uint8Array(f);for(;u<l.length;){let _=l.charCodeAt(u);if(_>255)return;let x=e[_];if(x===255)return;let E=0;for(let R=f-1;(x!==0||E<p)&&R!==-1;R--,E++)x+=r*h[R]>>>0,h[R]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");p=E,u++}let m=f-p;for(;m!==f&&h[m]===0;)m++;let g=new Uint8Array(d+(f-m)),b=d;for(;m!==f;)g[b++]=h[m++];return g}function c(l){let u=a(l);if(u)return u;throw new Error("Non-base"+r+" character")}return{encode:s,decodeUnsafe:a,decode:c}}var UZe,FZe=y(()=>{"use strict";UZe=uKt});var Tpe={};wr(Tpe,{default:()=>Yv});var dKt,Yv,P$=y(()=>{"use strict";FZe();dKt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Yv=UZe(dKt)});function pKt(t){let e=t;for(;e&&!(e.encode&&e.decode&&e.decodeUnsafe)&&e.default;)e=e.default;return e}var zZe,VZe=y(()=>{"use strict";P$();zZe=pKt(Tpe)});import*as vh from"node:crypto";var Zv,HZe=y(()=>{"use strict";Zv=vh&&typeof vh=="object"&&"webcrypto"in vh?vh.webcrypto:vh&&typeof vh=="object"&&"randomBytes"in vh?vh:void 0});function xh(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function g1(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function fs(t,...e){if(!xh(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function k$(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");g1(t.outputLen),g1(t.blockLen)}function Sh(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function D$(t,e){fs(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function jZe(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Fu(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function M$(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Gd(t,e){return t<<32-e|t>>>e}function mKt(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function hKt(t){for(let e=0;e<t.length;e++)t[e]=mKt(t[e]);return t}function zu(t){if(fs(t),qZe)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=gKt[t[r]];return e}function GZe(t){if(t>=_h._0&&t<=_h._9)return t-_h._0;if(t>=_h.A&&t<=_h.F)return t-(_h.A-10);if(t>=_h.a&&t<=_h.f)return t-(_h.a-10)}function e2(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(qZe)return Uint8Array.fromHex(t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let s=GZe(t.charCodeAt(o)),a=GZe(t.charCodeAt(o+1));if(s===void 0||a===void 0){let c=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}n[i]=s*16+a}return n}function Ipe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function t2(t){return typeof t=="string"&&(t=Ipe(t)),fs(t),t}function Ta(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];fs(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}function t4(t){let e=n=>t().update(t2(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function r4(t=32){if(Zv&&typeof Zv.getRandomValues=="function")return Zv.getRandomValues(new Uint8Array(t));if(Zv&&typeof Zv.randomBytes=="function")return Uint8Array.from(Zv.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}var fKt,Rpe,qZe,gKt,_h,y1,wh=y(()=>{"use strict";HZe();fKt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;Rpe=fKt?t=>t:hKt,qZe=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",gKt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));_h={_0:48,_9:57,A:65,F:70,a:97,f:102};y1=class{}});function yKt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,l=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+l,a,n)}function JZe(t,e,r){return t&e^~t&r}function WZe(t,e,r){return t&e^t&r^e&r}var QI,Ah,ms,hs,KZe=y(()=>{"use strict";wh();QI=class extends y1{constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=M$(this.buffer)}update(e){Sh(this),e=t2(e),fs(e);let{view:r,buffer:n,blockLen:i}=this,o=e.length;for(let s=0;s<o;){let a=Math.min(i-this.pos,o-s);if(a===i){let c=M$(e);for(;i<=o-s;s+=i)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Sh(this),D$(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,Fu(this.buffer.subarray(s)),this.padOffset>i-s&&(this.process(n,0),s=0);for(let d=s;d<i;d++)r[d]=0;yKt(n,i-8,BigInt(this.length*8),o),this.process(n,0);let a=M$(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return e.destroyed=s,e.finished=o,e.length=i,e.pos=a,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}},Ah=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ms=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),hs=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209])});function bKt(t,e=!1){return e?{h:Number(t&L$),l:Number(t>>QZe&L$)}:{h:Number(t>>QZe&L$)|0,l:Number(t&L$)|0}}function B$(t,e=!1){let r=t.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let o=0;o<r;o++){let{h:s,l:a}=bKt(t[o],e);[n[o],i[o]]=[s,a]}return[n,i]}function wf(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var L$,QZe,Cpe,Npe,r2,n2,XI,YI,XZe,YZe,ZZe,eet,tet,ret,net,iet,oet,set,Ope=y(()=>{"use strict";L$=BigInt(4294967295),QZe=BigInt(32);Cpe=(t,e,r)=>t>>>r,Npe=(t,e,r)=>t<<32-r|e>>>r,r2=(t,e,r)=>t>>>r|e<<32-r,n2=(t,e,r)=>t<<32-r|e>>>r,XI=(t,e,r)=>t<<64-r|e>>>r-32,YI=(t,e,r)=>t>>>r-32|e<<64-r,XZe=(t,e,r)=>t<<r|e>>>32-r,YZe=(t,e,r)=>e<<r|t>>>32-r,ZZe=(t,e,r)=>e<<r-32|t>>>64-r,eet=(t,e,r)=>t<<r-32|e>>>64-r;tet=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),ret=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,net=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),iet=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,oet=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),set=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0});var _Kt,b1,$$,aet,xKt,SKt,v1,_1,U$,Ppe,n4,F$,cet,ZI=y(()=>{"use strict";KZe();Ope();wh();_Kt=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),b1=new Uint32Array(64),$$=class extends QI{constructor(e=32){super(64,e,8,!1),this.A=Ah[0]|0,this.B=Ah[1]|0,this.C=Ah[2]|0,this.D=Ah[3]|0,this.E=Ah[4]|0,this.F=Ah[5]|0,this.G=Ah[6]|0,this.H=Ah[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:a,H:c}=this;return[e,r,n,i,o,s,a,c]}set(e,r,n,i,o,s,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,r){for(let d=0;d<16;d++,r+=4)b1[d]=e.getUint32(r,!1);for(let d=16;d<64;d++){let p=b1[d-15],f=b1[d-2],h=Gd(p,7)^Gd(p,18)^p>>>3,m=Gd(f,17)^Gd(f,19)^f>>>10;b1[d]=m+b1[d-7]+h+b1[d-16]|0}let{A:n,B:i,C:o,D:s,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){let p=Gd(a,6)^Gd(a,11)^Gd(a,25),f=u+p+JZe(a,c,l)+_Kt[d]+b1[d]|0,m=(Gd(n,2)^Gd(n,13)^Gd(n,22))+WZe(n,i,o)|0;u=l,l=c,c=a,a=s+f|0,s=o,o=i,i=n,n=f+m|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,i,o,s,a,c,l,u)}roundClean(){Fu(b1)}destroy(){this.set(0,0,0,0,0,0,0,0),Fu(this.buffer)}},aet=B$(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),xKt=aet[0],SKt=aet[1],v1=new Uint32Array(80),_1=new Uint32Array(80),U$=class extends QI{constructor(e=64){super(128,e,16,!1),this.Ah=hs[0]|0,this.Al=hs[1]|0,this.Bh=hs[2]|0,this.Bl=hs[3]|0,this.Ch=hs[4]|0,this.Cl=hs[5]|0,this.Dh=hs[6]|0,this.Dl=hs[7]|0,this.Eh=hs[8]|0,this.El=hs[9]|0,this.Fh=hs[10]|0,this.Fl=hs[11]|0,this.Gh=hs[12]|0,this.Gl=hs[13]|0,this.Hh=hs[14]|0,this.Hl=hs[15]|0}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:p,Gh:f,Gl:h,Hh:m,Hl:g}=this;return[e,r,n,i,o,s,a,c,l,u,d,p,f,h,m,g]}set(e,r,n,i,o,s,a,c,l,u,d,p,f,h,m,g){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=p|0,this.Gh=f|0,this.Gl=h|0,this.Hh=m|0,this.Hl=g|0}process(e,r){for(let x=0;x<16;x++,r+=4)v1[x]=e.getUint32(r),_1[x]=e.getUint32(r+=4);for(let x=16;x<80;x++){let E=v1[x-15]|0,R=_1[x-15]|0,I=r2(E,R,1)^r2(E,R,8)^Cpe(E,R,7),D=n2(E,R,1)^n2(E,R,8)^Npe(E,R,7),k=v1[x-2]|0,O=_1[x-2]|0,$=r2(k,O,19)^XI(k,O,61)^Cpe(k,O,6),j=n2(k,O,19)^YI(k,O,61)^Npe(k,O,6),X=net(D,j,_1[x-7],_1[x-16]),N=iet(X,I,$,v1[x-7],v1[x-16]);v1[x]=N|0,_1[x]=X|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:p,Fh:f,Fl:h,Gh:m,Gl:g,Hh:b,Hl:_}=this;for(let x=0;x<80;x++){let E=r2(d,p,14)^r2(d,p,18)^XI(d,p,41),R=n2(d,p,14)^n2(d,p,18)^YI(d,p,41),I=d&f^~d&m,D=p&h^~p&g,k=oet(_,R,D,SKt[x],_1[x]),O=set(k,b,E,I,xKt[x],v1[x]),$=k|0,j=r2(n,i,28)^XI(n,i,34)^XI(n,i,39),X=n2(n,i,28)^YI(n,i,34)^YI(n,i,39),N=n&o^n&a^o&a,v=i&s^i&c^s&c;b=m|0,_=g|0,m=f|0,g=h|0,f=d|0,h=p|0,{h:d,l:p}=wf(l|0,u|0,O|0,$|0),l=a|0,u=c|0,a=o|0,c=s|0,o=n|0,s=i|0;let S=tet($,X,v);n=ret(S,O,j,N),i=S|0}({h:n,l:i}=wf(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=wf(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l:c}=wf(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=wf(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:p}=wf(this.Eh|0,this.El|0,d|0,p|0),{h:f,l:h}=wf(this.Fh|0,this.Fl|0,f|0,h|0),{h:m,l:g}=wf(this.Gh|0,this.Gl|0,m|0,g|0),{h:b,l:_}=wf(this.Hh|0,this.Hl|0,b|0,_|0),this.set(n,i,o,s,a,c,l,u,d,p,f,h,m,g,b,_)}roundClean(){Fu(v1,_1)}destroy(){Fu(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Ppe=class extends U${constructor(){super(48),this.Ah=ms[0]|0,this.Al=ms[1]|0,this.Bh=ms[2]|0,this.Bl=ms[3]|0,this.Ch=ms[4]|0,this.Cl=ms[5]|0,this.Dh=ms[6]|0,this.Dl=ms[7]|0,this.Eh=ms[8]|0,this.El=ms[9]|0,this.Fh=ms[10]|0,this.Fl=ms[11]|0,this.Gh=ms[12]|0,this.Gl=ms[13]|0,this.Hh=ms[14]|0,this.Hl=ms[15]|0}},n4=t4(()=>new $$),F$=t4(()=>new U$),cet=t4(()=>new Ppe)});var i4,kpe=y(()=>{"use strict";ZI();i4=n4});function uet(t){function e(o){var s=Uint8Array.from(o),a=t(s),c=s.length+4,l=new Uint8Array(c);return l.set(s,0),l.set(a.subarray(0,4),s.length),Yv.encode(l)}function r(o){var s=o.slice(0,-4),a=o.slice(-4),c=t(s);if(!(a[0]^c[0]|a[1]^c[1]|a[2]^c[2]|a[3]^c[3]))return s}function n(o){var s=Yv.decodeUnsafe(o);if(s!=null)return r(s)}function i(o){var s=Yv.decode(o),a=r(s);if(a==null)throw new Error("Invalid checksum");return a}return{encode:e,decode:i,decodeUnsafe:n}}var det=y(()=>{"use strict";P$()});var Dpe={};wr(Dpe,{default:()=>AKt});function wKt(t){return i4(i4(t))}var AKt,pet=y(()=>{"use strict";kpe();det();AKt=uet(wKt)});function EKt(t){let e=t;for(;e&&!(e.encode&&e.decode&&e.decodeUnsafe)&&e.default;)e=e.default;return e}var fet,met=y(()=>{"use strict";pet();fet=EKt(Dpe)});var het,Af=y(()=>{"use strict";BZe();$Ze();Ape();VZe();met();het=32});var z$,Mpe,get=y(()=>{"use strict";wh();z$=class extends y1{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,k$(e);let n=t2(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),Fu(o)}update(e){return Sh(this),this.iHash.update(e),this}digestInto(e){Sh(this),fs(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Mpe=(t,e,r)=>new z$(t,e).update(r).digest();Mpe.create=(t,e)=>new z$(t,e)});var o4,V$=y(()=>{"use strict";o4=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"]});var yet,bet,Lpe=y(()=>{"use strict";yet=(function(){function t(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return t.prototype.resize_if_necessary=function(e){if(this.buffer_size-this.offset<e){this.buffer_size=Math.max(this.buffer_size*2,this.buffer_size+e);var r=new ArrayBuffer(this.buffer_size);new Uint8Array(r).set(new Uint8Array(this.buffer)),this.buffer=r,this.view=new DataView(r)}},t.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},t.prototype.store_value=function(e,r){var n=r.substring(1),i=parseInt(n)/8;this.resize_if_necessary(i);var o=r[0]==="f"?"setFloat".concat(n):r[0]==="i"?"setInt".concat(n):"setUint".concat(n);this.view[o](this.offset,e,!0),this.offset+=i},t.prototype.store_bytes=function(e){this.resize_if_necessary(e.length),new Uint8Array(this.buffer).set(new Uint8Array(e),this.offset),this.offset+=e.length},t})(),bet=(function(){function t(e){this.offset=0,this.buffer_size=e.length,this.buffer=new ArrayBuffer(e.length),new Uint8Array(this.buffer).set(e),this.view=new DataView(this.buffer)}return t.prototype.assert_enough_buffer=function(e){if(this.offset+e>this.buffer.byteLength)throw new Error("Error in schema, the buffer is smaller than expected")},t.prototype.consume_value=function(e){var r=e.substring(1),n=parseInt(r)/8;this.assert_enough_buffer(n);var i=e[0]==="f"?"getFloat".concat(r):e[0]==="i"?"getInt".concat(r):"getUint".concat(r),o=this.view[i](this.offset,!0);return this.offset+=n,o},t.prototype.consume_bytes=function(e){this.assert_enough_buffer(e);var r=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,r},t})()});function vet(t){return Array.isArray(t)||!!t&&typeof t=="object"&&"length"in t&&typeof t.length=="number"&&(t.length===0||t.length>0&&t.length-1 in t)}function i2(t,e,r){if(typeof t!==e)throw new Error("Expected ".concat(e," not ").concat(typeof t,"(").concat(t,") at ").concat(r.join(".")))}function _et(t,e){var r=["number","string","bigint","boolean"].includes(typeof t),n=typeof t=="object"&&t!==null&&"toString"in t;if(!r&&!n)throw new Error("Expected bigint, number, boolean or string not ".concat(typeof t,"(").concat(t,") at ").concat(e.join(".")))}function Bpe(t,e,r){if(t!==e)throw new Error("Array length ".concat(t," does not match schema length ").concat(e," at ").concat(r.join(".")))}function xet(t,e){if(typeof t!="object"||t===null)throw new Error("Expected object not ".concat(typeof t,"(").concat(t,") at ").concat(e.join(".")))}var RKt,tRn,rRn,$pe=y(()=>{"use strict";V$();RKt=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();tRn=o4.concat(["bool","string"]),rRn=(function(t){RKt(e,t);function e(r,n){var i="Invalid schema: ".concat(JSON.stringify(r)," expected ").concat(n);return t.call(this,i)||this}return e})(Error)});var IKt,Aet=y(()=>{"use strict";V$();Lpe();$pe();IKt=(function(){function t(e){this.encoded=new yet,this.fieldPath=["value"],this.checkTypes=e}return t.prototype.encode=function(e,r){return this.encode_value(e,r),this.encoded.get_used_buffer()},t.prototype.encode_value=function(e,r){if(typeof r=="string"){if(o4.includes(r))return this.encode_integer(e,r);if(r==="string")return this.encode_string(e);if(r==="bool")return this.encode_boolean(e)}if(typeof r=="object"){if("option"in r)return this.encode_option(e,r);if("enum"in r)return this.encode_enum(e,r);if("array"in r)return this.encode_array(e,r);if("set"in r)return this.encode_set(e,r);if("map"in r)return this.encode_map(e,r);if("struct"in r)return this.encode_struct(e,r)}},t.prototype.encode_integer=function(e,r){var n=parseInt(r.substring(1));n<=32||r=="f64"?(this.checkTypes&&i2(e,"number",this.fieldPath),this.encoded.store_value(e,r)):(this.checkTypes&&_et(e,this.fieldPath),this.encode_bigint(BigInt(e),n))},t.prototype.encode_bigint=function(e,r){for(var n=r/8,i=new Uint8Array(n),o=0;o<n;o++)i[o]=Number(e&BigInt(255)),e=e>>BigInt(8);this.encoded.store_bytes(new Uint8Array(i))},t.prototype.encode_string=function(e){this.checkTypes&&i2(e,"string",this.fieldPath);for(var r=e,n=[],i=0;i<r.length;i++){var o=r.charCodeAt(i);o<128?n.push(o):o<2048?n.push(192|o>>6,128|o&63):o<55296||o>=57344?n.push(224|o>>12,128|o>>6&63,128|o&63):(i++,o=65536+((o&1023)<<10|r.charCodeAt(i)&1023),n.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|o&63))}this.encoded.store_value(n.length,"u32"),this.encoded.store_bytes(new Uint8Array(n))},t.prototype.encode_boolean=function(e){this.checkTypes&&i2(e,"boolean",this.fieldPath),this.encoded.store_value(e?1:0,"u8")},t.prototype.encode_option=function(e,r){e==null?this.encoded.store_value(0,"u8"):(this.encoded.store_value(1,"u8"),this.encode_value(e,r.option))},t.prototype.encode_enum=function(e,r){this.checkTypes&&xet(e,this.fieldPath);for(var n=Object.keys(e)[0],i=0;i<r.enum.length;i++){var o=r.enum[i];if(n===Object.keys(o.struct)[0])return this.encoded.store_value(i,"u8"),this.encode_struct(e,o)}throw new Error("Enum key (".concat(n,") not found in enum schema: ").concat(JSON.stringify(r)," at ").concat(this.fieldPath.join(".")))},t.prototype.encode_array=function(e,r){if(vet(e))return this.encode_arraylike(e,r);if(e instanceof ArrayBuffer)return this.encode_buffer(e,r);throw new Error("Expected Array-like not ".concat(typeof e,"(").concat(e,") at ").concat(this.fieldPath.join(".")))},t.prototype.encode_arraylike=function(e,r){r.array.len?Bpe(e.length,r.array.len,this.fieldPath):this.encoded.store_value(e.length,"u32");for(var n=0;n<e.length;n++)this.encode_value(e[n],r.array.type)},t.prototype.encode_buffer=function(e,r){r.array.len?Bpe(e.byteLength,r.array.len,this.fieldPath):this.encoded.store_value(e.byteLength,"u32"),this.encoded.store_bytes(new Uint8Array(e))},t.prototype.encode_set=function(e,r){this.checkTypes&&i2(e,"object",this.fieldPath);var n=e instanceof Set,i=n?Array.from(e.values()):Object.values(e);this.encoded.store_value(i.length,"u32");for(var o=0,s=i;o<s.length;o++){var a=s[o];this.encode_value(a,r.set)}},t.prototype.encode_map=function(e,r){this.checkTypes&&i2(e,"object",this.fieldPath);var n=e instanceof Map,i=n?Array.from(e.keys()):Object.keys(e);this.encoded.store_value(i.length,"u32");for(var o=0,s=i;o<s.length;o++){var a=s[o];this.encode_value(a,r.map.key),this.encode_value(n?e.get(a):e[a],r.map.value)}},t.prototype.encode_struct=function(e,r){this.checkTypes&&i2(e,"object",this.fieldPath);for(var n=0,i=Object.keys(r.struct);n<i.length;n++){var o=i[n];this.fieldPath.push(o),this.encode_value(e[o],r.struct[o]),this.fieldPath.pop()}},t})()});var CKt,Eet=y(()=>{"use strict";V$();Lpe();CKt=(function(){function t(e){this.buffer=new bet(e)}return t.prototype.decode=function(e){return this.decode_value(e)},t.prototype.decode_value=function(e){if(typeof e=="string"){if(o4.includes(e))return this.decode_integer(e);if(e==="string")return this.decode_string();if(e==="bool")return this.decode_boolean()}if(typeof e=="object"){if("option"in e)return this.decode_option(e);if("enum"in e)return this.decode_enum(e);if("array"in e)return this.decode_array(e);if("set"in e)return this.decode_set(e);if("map"in e)return this.decode_map(e);if("struct"in e)return this.decode_struct(e)}throw new Error("Unsupported type: ".concat(e))},t.prototype.decode_integer=function(e){var r=parseInt(e.substring(1));return r<=32||e=="f64"?this.buffer.consume_value(e):this.decode_bigint(r,e.startsWith("i"))},t.prototype.decode_bigint=function(e,r){r===void 0&&(r=!1);var n=e/8,i=new Uint8Array(this.buffer.consume_bytes(n)),o=i.reduceRight(function(s,a){return s+a.toString(16).padStart(2,"0")},"");return r&&i[n-1]?BigInt.asIntN(e,BigInt("0x".concat(o))):BigInt("0x".concat(o))},t.prototype.decode_string=function(){for(var e=this.decode_integer("u32"),r=new Uint8Array(this.buffer.consume_bytes(e)),n=[],i=0;i<e;++i){var o=r[i];if(o<128)n.push(o);else if(o<224)n.push((o&31)<<6|r[++i]&63);else if(o<240)n.push((o&15)<<12|(r[++i]&63)<<6|r[++i]&63);else{var s=(o&7)<<18|(r[++i]&63)<<12|(r[++i]&63)<<6|r[++i]&63;n.push(s)}}return String.fromCodePoint.apply(String,n)},t.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},t.prototype.decode_option=function(e){var r=this.buffer.consume_value("u8");if(r===1)return this.decode_value(e.option);if(r!==0)throw new Error("Invalid option ".concat(r));return null},t.prototype.decode_enum=function(e){var r,n=this.buffer.consume_value("u8");if(n>e.enum.length)throw new Error("Enum option ".concat(n," is not available"));var i=e.enum[n].struct,o=Object.keys(i)[0];return r={},r[o]=this.decode_value(i[o]),r},t.prototype.decode_array=function(e){for(var r=[],n=e.array.len?e.array.len:this.decode_integer("u32"),i=0;i<n;++i)r.push(this.decode_value(e.array.type));return r},t.prototype.decode_set=function(e){for(var r=this.decode_integer("u32"),n=new Set,i=0;i<r;++i)n.add(this.decode_value(e.set));return n},t.prototype.decode_map=function(e){for(var r=this.decode_integer("u32"),n=new Map,i=0;i<r;++i){var o=this.decode_value(e.map.key),s=this.decode_value(e.map.value);n.set(o,s)}return n},t.prototype.decode_struct=function(e){var r={};for(var n in e.struct)r[n]=this.decode_value(e.struct[n]);return r},t})()});var Tet=y(()=>{"use strict";Aet();Eet();$pe()});var Ret=y(()=>{"use strict"});var OKt,PKt,kKt,DKt,MKt,LKt,BKt,$Kt,UKt,H$=y(()=>{"use strict";OKt=new Uint8Array([75,69,77,0,16]),PKt=new Uint8Array([72,80,75,69,0,16,0,1,0,2]),kKt=new Uint8Array([72,80,75,69,45,118,49]),DKt=new Uint8Array([115,101,99,114,101,116]),MKt=new Uint8Array([101,97,101,95,112,114,107]),LKt=new Uint8Array([115,104,97,114,101,100,95,115,101,99,114,101,116]),BKt=new Uint8Array([0,32,72,80,75,69,45,118,49,72,80,75,69,0,16,0,1,0,2,107,101,121,0,143,195,174,184,50,73,10,75,90,179,228,32,35,40,125,178,154,31,75,199,194,34,192,223,34,135,39,183,10,64,33,18,47,63,4,233,32,108,209,36,19,80,53,41,180,122,198,166,48,185,46,196,207,125,35,69,8,208,175,151,113,201,158,80]),$Kt=new Uint8Array([0,12,72,80,75,69,45,118,49,72,80,75,69,0,16,0,1,0,2,98,97,115,101,95,110,111,110,99,101,0,143,195,174,184,50,73,10,75,90,179,228,32,35,40,125,178,154,31,75,199,194,34,192,223,34,135,39,183,10,64,33,18,47,63,4,233,32,108,209,36,19,80,53,41,180,122,198,166,48,185,46,196,207,125,35,69,8,208,175,151,113,201,158,80]),UKt=new Uint8Array([113,111,115,95,101,110,99,114,121,112,116,105,111,110,95,104,109,97,99,95,109,101,115,115,97,103,101])});var G$,Upe=y(()=>{"use strict";Tet();Af();Ret();H$();G$=t=>{let e=bh(t);if(e.length<2)throw new Error("failed to convert DER-encoded signature: insufficient length");if(e[0]!==48)throw new Error("failed to convert DER-encoded signature: invalid format (missing SEQUENCE tag)");let r=1,n=e[r];if(n<=127){if(e.length<2+n)throw new Error("failed to convert DER-encoded signature: inconsistent message length header");r+=1}else throw new Error("failed to convert DER-encoded signature: unexpectedly large or invalid signature length");if(e[r]!==2)throw new Error("failed to convert DER-encoded signature: invalid tag for r");r++;let i=e[r];if(i>33)throw new Error("failed to convert DER-encoded signature: unexpected length for r");r++;let o=e.slice(r,r+i);if(r+=i,e[r]!==2)throw new Error("failed to convert DER-encoded signature: invalid tag for s");r++;let s=e[r];if(s>33)throw new Error("failed to convert DER-encoded signature: unexpected length for s");r++;let a=e.slice(r,r+s),c=O$(o,32),l=O$(a,32);return new Uint8Array([...c,...l])}});var Fpe,Iet=y(()=>{"use strict";Af();H$();Upe();(function(t){t.NOTARIZER="notarizer",t.SIGNER="signer",t.EVM_PARSER="evm-parser",t.TLS_FETCHER="tls-fetcher",t.UMP="ump"})(Fpe||(Fpe={}))});var Net=Ue((Cet,j$)=>{"use strict";(function(t,e){"use strict";var r=Math.pow(2,-24),n=Math.pow(2,32),i=Math.pow(2,53);function o(c){var l=new ArrayBuffer(256),u=new DataView(l),d,p=0;function f($){for(var j=l.byteLength,X=p+$;j<X;)j*=2;if(j!==l.byteLength){var N=u;l=new ArrayBuffer(j),u=new DataView(l);for(var v=p+3>>2,S=0;S<v;++S)u.setUint32(S*4,N.getUint32(S*4))}return d=$,u}function h(){p+=d}function m($){h(f(8).setFloat64(p,$))}function g($){h(f(1).setUint8(p,$))}function b($){for(var j=f($.length),X=0;X<$.length;++X)j.setUint8(p+X,$[X]);h()}function _($){h(f(2).setUint16(p,$))}function x($){h(f(4).setUint32(p,$))}function E($){var j=$%n,X=($-j)/n,N=f(8);N.setUint32(p,X),N.setUint32(p+4,j),h()}function R($,j){j<24?g($<<5|j):j<256?(g($<<5|24),g(j)):j<65536?(g($<<5|25),_(j)):j<4294967296?(g($<<5|26),x(j)):(g($<<5|27),E(j))}function I($){var j;if($===!1)return g(244);if($===!0)return g(245);if($===null)return g(246);if($===e)return g(247);switch(typeof $){case"number":if(Math.floor($)===$){if(0<=$&&$<=i)return R(0,$);if(-i<=$&&$<0)return R(1,-($+1))}return g(251),m($);case"string":var X=[];for(j=0;j<$.length;++j){var N=$.charCodeAt(j);N<128?X.push(N):N<2048?(X.push(192|N>>6),X.push(128|N&63)):N<55296?(X.push(224|N>>12),X.push(128|N>>6&63),X.push(128|N&63)):(N=(N&1023)<<10,N|=$.charCodeAt(++j)&1023,N+=65536,X.push(240|N>>18),X.push(128|N>>12&63),X.push(128|N>>6&63),X.push(128|N&63))}return R(3,X.length),b(X);default:var v;if(Array.isArray($))for(v=$.length,R(4,v),j=0;j<v;++j)I($[j]);else if($ instanceof Uint8Array)R(2,$.length),b($);else{var S=Object.keys($);for(v=S.length,R(5,v),j=0;j<v;++j){var T=S[j];I(T),I($[T])}}}}if(I(c),"slice"in l)return l.slice(0,p);for(var D=new ArrayBuffer(p),k=new DataView(D),O=0;O<p;++O)k.setUint8(O,u.getUint8(O));return D}function s(c,l,u){var d=new DataView(c),p=0;typeof l!="function"&&(l=function(X){return X}),typeof u!="function"&&(u=function(){return e});function f(X,N){return p+=N,X}function h(X){return f(new Uint8Array(c,p,X),X)}function m(){var X=new ArrayBuffer(4),N=new DataView(X),v=x(),S=v&32768,T=v&31744,M=v&1023;if(T===31744)T=261120;else if(T!==0)T+=114688;else if(M!==0)return M*r;return N.setUint32(0,S<<16|T<<13|M<<13),N.getFloat32(0)}function g(){return f(d.getFloat32(p),4)}function b(){return f(d.getFloat64(p),8)}function _(){return f(d.getUint8(p),1)}function x(){return f(d.getUint16(p),2)}function E(){return f(d.getUint32(p),4)}function R(){return E()*n+E()}function I(){return d.getUint8(p)!==255?!1:(p+=1,!0)}function D(X){if(X<24)return X;if(X===24)return _();if(X===25)return x();if(X===26)return E();if(X===27)return R();if(X===31)return-1;throw"Invalid length encoding"}function k(X){var N=_();if(N===255)return-1;var v=D(N&31);if(v<0||N>>5!==X)throw"Invalid indefinite length element";return v}function O(X,N){for(var v=0;v<N;++v){var S=_();S&128&&(S<224?(S=(S&31)<<6|_()&63,N-=1):S<240?(S=(S&15)<<12|(_()&63)<<6|_()&63,N-=2):(S=(S&15)<<18|(_()&63)<<12|(_()&63)<<6|_()&63,N-=3)),S<65536?X.push(S):(S-=65536,X.push(55296|S>>10),X.push(56320|S&1023))}}function $(){var X=_(),N=X>>5,v=X&31,S,T;if(N===7)switch(v){case 25:return m();case 26:return g();case 27:return b()}if(T=D(v),T<0&&(N<2||6<N))throw"Invalid length";switch(N){case 0:return T;case 1:return-1-T;case 2:if(T<0){for(var M=[],U=0;(T=k(N))>=0;)U+=T,M.push(h(T));var H=new Uint8Array(U),K=0;for(S=0;S<M.length;++S)H.set(M[S],K),K+=M[S].length;return H}return h(T);case 3:var G=[];if(T<0)for(;(T=k(N))>=0;)O(G,T);else O(G,T);return String.fromCharCode.apply(null,G);case 4:var w;if(T<0)for(w=[];!I();)w.push($());else for(w=new Array(T),S=0;S<T;++S)w[S]=$();return w;case 5:var Q={};for(S=0;S<T||T<0&&!I();++S){var Ee=$();Q[Ee]=$()}return Q;case 6:return l($(),T);case 7:switch(T){case 20:return!1;case 21:return!0;case 22:return null;case 23:return e;default:return u(T)}}}var j=$();if(p!==c.byteLength)throw"Remaining bytes";return j}var a={encode:o,decode:s};typeof define=="function"&&define.amd?define("cbor/cbor",a):typeof j$<"u"&&j$.exports?j$.exports=a:t.CBOR||(t.CBOR=a)})(Cet)});var Pet=Ue(()=>{"use strict";var Oet;(function(t){(function(e){var r=typeof globalThis=="object"?globalThis:typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:a(),n=i(t);typeof r.Reflect<"u"&&(n=i(r.Reflect,n)),e(n,r),typeof r.Reflect>"u"&&(r.Reflect=t);function i(c,l){return function(u,d){Object.defineProperty(c,u,{configurable:!0,writable:!0,value:d}),l&&l(u,d)}}function o(){try{return Function("return this;")()}catch{}}function s(){try{return(0,eval)("(function() { return this; })()")}catch{}}function a(){return o()||s()}})(function(e,r){var n=Object.prototype.hasOwnProperty,i=typeof Symbol=="function",o=i&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",s=i&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",a=typeof Object.create=="function",c={__proto__:[]}instanceof Array,l=!a&&!c,u={create:a?function(){return ne(Object.create(null))}:c?function(){return ne({__proto__:null})}:function(){return ne({})},has:l?function(J,Y){return n.call(J,Y)}:function(J,Y){return Y in J},get:l?function(J,Y){return n.call(J,Y)?J[Y]:void 0}:function(J,Y){return J[Y]}},d=Object.getPrototypeOf(Function),p=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:A(),f=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:B(),h=typeof WeakMap=="function"?WeakMap:V(),m=i?Symbol.for("@reflect-metadata:registry"):void 0,g=In(),b=ei(g);function _(J,Y,ie,ke){if(w(ie)){if(!yt(J))throw new TypeError;if(!hr(Y))throw new TypeError;return X(J,Y)}else{if(!yt(J))throw new TypeError;if(!ye(Y))throw new TypeError;if(!ye(ke)&&!w(ke)&&!Q(ke))throw new TypeError;return Q(ke)&&(ke=void 0),ie=he(ie),N(J,Y,ie,ke)}}e("decorate",_);function x(J,Y){function ie(ke,je){if(!ye(ke))throw new TypeError;if(!w(je)&&!lr(je))throw new TypeError;U(J,Y,ke,je)}return ie}e("metadata",x);function E(J,Y,ie,ke){if(!ye(ie))throw new TypeError;return w(ke)||(ke=he(ke)),U(J,Y,ie,ke)}e("defineMetadata",E);function R(J,Y,ie){if(!ye(Y))throw new TypeError;return w(ie)||(ie=he(ie)),v(J,Y,ie)}e("hasMetadata",R);function I(J,Y,ie){if(!ye(Y))throw new TypeError;return w(ie)||(ie=he(ie)),S(J,Y,ie)}e("hasOwnMetadata",I);function D(J,Y,ie){if(!ye(Y))throw new TypeError;return w(ie)||(ie=he(ie)),T(J,Y,ie)}e("getMetadata",D);function k(J,Y,ie){if(!ye(Y))throw new TypeError;return w(ie)||(ie=he(ie)),M(J,Y,ie)}e("getOwnMetadata",k);function O(J,Y){if(!ye(J))throw new TypeError;return w(Y)||(Y=he(Y)),H(J,Y)}e("getMetadataKeys",O);function $(J,Y){if(!ye(J))throw new TypeError;return w(Y)||(Y=he(Y)),K(J,Y)}e("getOwnMetadataKeys",$);function j(J,Y,ie){if(!ye(Y))throw new TypeError;if(w(ie)||(ie=he(ie)),!ye(Y))throw new TypeError;w(ie)||(ie=he(ie));var ke=mn(Y,ie,!1);return w(ke)?!1:ke.OrdinaryDeleteMetadata(J,Y,ie)}e("deleteMetadata",j);function X(J,Y){for(var ie=J.length-1;ie>=0;--ie){var ke=J[ie],je=ke(Y);if(!w(je)&&!Q(je)){if(!hr(je))throw new TypeError;Y=je}}return Y}function N(J,Y,ie,ke){for(var je=J.length-1;je>=0;--je){var wt=J[je],Jt=wt(Y,ie,ke);if(!w(Jt)&&!Q(Jt)){if(!ye(Jt))throw new TypeError;ke=Jt}}return ke}function v(J,Y,ie){var ke=S(J,Y,ie);if(ke)return!0;var je=on(Y);return Q(je)?!1:v(J,je,ie)}function S(J,Y,ie){var ke=mn(Y,ie,!1);return w(ke)?!1:_e(ke.OrdinaryHasOwnMetadata(J,Y,ie))}function T(J,Y,ie){var ke=S(J,Y,ie);if(ke)return M(J,Y,ie);var je=on(Y);if(!Q(je))return T(J,je,ie)}function M(J,Y,ie){var ke=mn(Y,ie,!1);if(!w(ke))return ke.OrdinaryGetOwnMetadata(J,Y,ie)}function U(J,Y,ie,ke){var je=mn(ie,ke,!0);je.OrdinaryDefineOwnMetadata(J,Y,ie,ke)}function H(J,Y){var ie=K(J,Y),ke=on(J);if(ke===null)return ie;var je=H(ke,Y);if(je.length<=0)return ie;if(ie.length<=0)return je;for(var wt=new f,Jt=[],at=0,Je=ie;at<Je.length;at++){var bt=Je[at],Ye=wt.has(bt);Ye||(wt.add(bt),Jt.push(bt))}for(var nt=0,Sr=je;nt<Sr.length;nt++){var bt=Sr[nt],Ye=wt.has(bt);Ye||(wt.add(bt),Jt.push(bt))}return Jt}function K(J,Y){var ie=mn(J,Y,!1);return ie?ie.OrdinaryOwnMetadataKeys(J,Y):[]}function G(J){if(J===null)return 1;switch(typeof J){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return J===null?1:6;default:return 6}}function w(J){return J===void 0}function Q(J){return J===null}function Ee(J){return typeof J=="symbol"}function ye(J){return typeof J=="object"?J!==null:typeof J=="function"}function le(J,Y){switch(G(J)){case 0:return J;case 1:return J;case 2:return J;case 3:return J;case 4:return J;case 5:return J}var ie=Y===3?"string":Y===5?"number":"default",ke=vd(J,o);if(ke!==void 0){var je=ke.call(J,ie);if(ye(je))throw new TypeError;return je}return Fe(J,ie==="default"?"number":ie)}function Fe(J,Y){if(Y==="string"){var ie=J.toString;if(Oe(ie)){var ke=ie.call(J);if(!ye(ke))return ke}var je=J.valueOf;if(Oe(je)){var ke=je.call(J);if(!ye(ke))return ke}}else{var je=J.valueOf;if(Oe(je)){var ke=je.call(J);if(!ye(ke))return ke}var wt=J.toString;if(Oe(wt)){var ke=wt.call(J);if(!ye(ke))return ke}}throw new TypeError}function _e(J){return!!J}function ot(J){return""+J}function he(J){var Y=le(J,3);return Ee(Y)?Y:ot(Y)}function yt(J){return Array.isArray?Array.isArray(J):J instanceof Object?J instanceof Array:Object.prototype.toString.call(J)==="[object Array]"}function Oe(J){return typeof J=="function"}function hr(J){return typeof J=="function"}function lr(J){switch(G(J)){case 3:return!0;case 4:return!0;default:return!1}}function fn(J,Y){return J===Y||J!==J&&Y!==Y}function vd(J,Y){var ie=J[Y];if(ie!=null){if(!Oe(ie))throw new TypeError;return ie}}function vn(J){var Y=vd(J,s);if(!Oe(Y))throw new TypeError;var ie=Y.call(J);if(!ye(ie))throw new TypeError;return ie}function Bn(J){return J.value}function Hg(J){var Y=J.next();return Y.done?!1:Y}function Rn(J){var Y=J.return;Y&&Y.call(J)}function on(J){var Y=Object.getPrototypeOf(J);if(typeof J!="function"||J===d||Y!==d)return Y;var ie=J.prototype,ke=ie&&Object.getPrototypeOf(ie);if(ke==null||ke===Object.prototype)return Y;var je=ke.constructor;return typeof je!="function"||je===J?Y:je}function Ps(){var J;!w(m)&&typeof r.Reflect<"u"&&!(m in r.Reflect)&&typeof r.Reflect.defineMetadata=="function"&&(J=Ga(r.Reflect));var Y,ie,ke,je=new h,wt={registerProvider:Jt,getProvider:Je,setProvider:Ye};return wt;function Jt(nt){if(!Object.isExtensible(wt))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case J===nt:break;case w(Y):Y=nt;break;case Y===nt:break;case w(ie):ie=nt;break;case ie===nt:break;default:ke===void 0&&(ke=new f),ke.add(nt);break}}function at(nt,Sr){if(!w(Y)){if(Y.isProviderFor(nt,Sr))return Y;if(!w(ie)){if(ie.isProviderFor(nt,Sr))return Y;if(!w(ke))for(var er=vn(ke);;){var ur=Hg(er);if(!ur)return;var ja=Bn(ur);if(ja.isProviderFor(nt,Sr))return Rn(er),ja}}}if(!w(J)&&J.isProviderFor(nt,Sr))return J}function Je(nt,Sr){var er=je.get(nt),ur;return w(er)||(ur=er.get(Sr)),w(ur)&&(ur=at(nt,Sr),w(ur)||(w(er)&&(er=new p,je.set(nt,er)),er.set(Sr,ur))),ur}function bt(nt){if(w(nt))throw new TypeError;return Y===nt||ie===nt||!w(ke)&&ke.has(nt)}function Ye(nt,Sr,er){if(!bt(er))throw new Error("Metadata provider not registered.");var ur=Je(nt,Sr);if(ur!==er){if(!w(ur))return!1;var ja=je.get(nt);w(ja)&&(ja=new p,je.set(nt,ja)),ja.set(Sr,er)}return!0}}function In(){var J;return!w(m)&&ye(r.Reflect)&&Object.isExtensible(r.Reflect)&&(J=r.Reflect[m]),w(J)&&(J=Ps()),!w(m)&&ye(r.Reflect)&&Object.isExtensible(r.Reflect)&&Object.defineProperty(r.Reflect,m,{enumerable:!1,configurable:!1,writable:!1,value:J}),J}function ei(J){var Y=new h,ie={isProviderFor:function(bt,Ye){var nt=Y.get(bt);return w(nt)?!1:nt.has(Ye)},OrdinaryDefineOwnMetadata:Jt,OrdinaryHasOwnMetadata:je,OrdinaryGetOwnMetadata:wt,OrdinaryOwnMetadataKeys:at,OrdinaryDeleteMetadata:Je};return g.registerProvider(ie),ie;function ke(bt,Ye,nt){var Sr=Y.get(bt),er=!1;if(w(Sr)){if(!nt)return;Sr=new p,Y.set(bt,Sr),er=!0}var ur=Sr.get(Ye);if(w(ur)){if(!nt)return;if(ur=new p,Sr.set(Ye,ur),!J.setProvider(bt,Ye,ie))throw Sr.delete(Ye),er&&Y.delete(bt),new Error("Wrong provider for target.")}return ur}function je(bt,Ye,nt){var Sr=ke(Ye,nt,!1);return w(Sr)?!1:_e(Sr.has(bt))}function wt(bt,Ye,nt){var Sr=ke(Ye,nt,!1);if(!w(Sr))return Sr.get(bt)}function Jt(bt,Ye,nt,Sr){var er=ke(nt,Sr,!0);er.set(bt,Ye)}function at(bt,Ye){var nt=[],Sr=ke(bt,Ye,!1);if(w(Sr))return nt;for(var er=Sr.keys(),ur=vn(er),ja=0;;){var mi=Hg(ur);if(!mi)return nt.length=ja,nt;var Ei=Bn(mi);try{nt[ja]=Ei}catch(MO){try{Rn(ur)}finally{throw MO}}ja++}}function Je(bt,Ye,nt){var Sr=ke(Ye,nt,!1);if(w(Sr)||!Sr.delete(bt))return!1;if(Sr.size===0){var er=Y.get(Ye);w(er)||(er.delete(nt),er.size===0&&Y.delete(er))}return!0}}function Ga(J){var Y=J.defineMetadata,ie=J.hasOwnMetadata,ke=J.getOwnMetadata,je=J.getOwnMetadataKeys,wt=J.deleteMetadata,Jt=new h,at={isProviderFor:function(Je,bt){var Ye=Jt.get(Je);return!w(Ye)&&Ye.has(bt)?!0:je(Je,bt).length?(w(Ye)&&(Ye=new f,Jt.set(Je,Ye)),Ye.add(bt),!0):!1},OrdinaryDefineOwnMetadata:Y,OrdinaryHasOwnMetadata:ie,OrdinaryGetOwnMetadata:ke,OrdinaryOwnMetadataKeys:je,OrdinaryDeleteMetadata:wt};return at}function mn(J,Y,ie){var ke=g.getProvider(J,Y);if(!w(ke))return ke;if(ie){if(g.setProvider(J,Y,b))return b;throw new Error("Illegal state.")}}function A(){var J={},Y=[],ie=(function(){function at(Je,bt,Ye){this._index=0,this._keys=Je,this._values=bt,this._selector=Ye}return at.prototype["@@iterator"]=function(){return this},at.prototype[s]=function(){return this},at.prototype.next=function(){var Je=this._index;if(Je>=0&&Je<this._keys.length){var bt=this._selector(this._keys[Je],this._values[Je]);return Je+1>=this._keys.length?(this._index=-1,this._keys=Y,this._values=Y):this._index++,{value:bt,done:!1}}return{value:void 0,done:!0}},at.prototype.throw=function(Je){throw this._index>=0&&(this._index=-1,this._keys=Y,this._values=Y),Je},at.prototype.return=function(Je){return this._index>=0&&(this._index=-1,this._keys=Y,this._values=Y),{value:Je,done:!0}},at})(),ke=(function(){function at(){this._keys=[],this._values=[],this._cacheKey=J,this._cacheIndex=-2}return Object.defineProperty(at.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),at.prototype.has=function(Je){return this._find(Je,!1)>=0},at.prototype.get=function(Je){var bt=this._find(Je,!1);return bt>=0?this._values[bt]:void 0},at.prototype.set=function(Je,bt){var Ye=this._find(Je,!0);return this._values[Ye]=bt,this},at.prototype.delete=function(Je){var bt=this._find(Je,!1);if(bt>=0){for(var Ye=this._keys.length,nt=bt+1;nt<Ye;nt++)this._keys[nt-1]=this._keys[nt],this._values[nt-1]=this._values[nt];return this._keys.length--,this._values.length--,fn(Je,this._cacheKey)&&(this._cacheKey=J,this._cacheIndex=-2),!0}return!1},at.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=J,this._cacheIndex=-2},at.prototype.keys=function(){return new ie(this._keys,this._values,je)},at.prototype.values=function(){return new ie(this._keys,this._values,wt)},at.prototype.entries=function(){return new ie(this._keys,this._values,Jt)},at.prototype["@@iterator"]=function(){return this.entries()},at.prototype[s]=function(){return this.entries()},at.prototype._find=function(Je,bt){if(!fn(this._cacheKey,Je)){this._cacheIndex=-1;for(var Ye=0;Ye<this._keys.length;Ye++)if(fn(this._keys[Ye],Je)){this._cacheIndex=Ye;break}}return this._cacheIndex<0&&bt&&(this._cacheIndex=this._keys.length,this._keys.push(Je),this._values.push(void 0)),this._cacheIndex},at})();return ke;function je(at,Je){return at}function wt(at,Je){return Je}function Jt(at,Je){return[at,Je]}}function B(){var J=(function(){function Y(){this._map=new p}return Object.defineProperty(Y.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),Y.prototype.has=function(ie){return this._map.has(ie)},Y.prototype.add=function(ie){return this._map.set(ie,ie),this},Y.prototype.delete=function(ie){return this._map.delete(ie)},Y.prototype.clear=function(){this._map.clear()},Y.prototype.keys=function(){return this._map.keys()},Y.prototype.values=function(){return this._map.keys()},Y.prototype.entries=function(){return this._map.entries()},Y.prototype["@@iterator"]=function(){return this.keys()},Y.prototype[s]=function(){return this.keys()},Y})();return J}function V(){var J=16,Y=u.create(),ie=ke();return(function(){function Je(){this._key=ke()}return Je.prototype.has=function(bt){var Ye=je(bt,!1);return Ye!==void 0?u.has(Ye,this._key):!1},Je.prototype.get=function(bt){var Ye=je(bt,!1);return Ye!==void 0?u.get(Ye,this._key):void 0},Je.prototype.set=function(bt,Ye){var nt=je(bt,!0);return nt[this._key]=Ye,this},Je.prototype.delete=function(bt){var Ye=je(bt,!1);return Ye!==void 0?delete Ye[this._key]:!1},Je.prototype.clear=function(){this._key=ke()},Je})();function ke(){var Je;do Je="@@WeakMap@@"+at();while(u.has(Y,Je));return Y[Je]=!0,Je}function je(Je,bt){if(!n.call(Je,ie)){if(!bt)return;Object.defineProperty(Je,ie,{value:u.create()})}return Je[ie]}function wt(Je,bt){for(var Ye=0;Ye<bt;++Ye)Je[Ye]=Math.random()*255|0;return Je}function Jt(Je){if(typeof Uint8Array=="function"){var bt=new Uint8Array(Je);return typeof crypto<"u"?crypto.getRandomValues(bt):typeof msCrypto<"u"?msCrypto.getRandomValues(bt):wt(bt,Je),bt}return wt(new Array(Je),Je)}function at(){var Je=Jt(J);Je[6]=Je[6]&79|64,Je[8]=Je[8]&191|128;for(var bt="",Ye=0;Ye<J;++Ye){var nt=Je[Ye];(Ye===4||Ye===6||Ye===8)&&(bt+="-"),nt<16&&(bt+="0"),bt+=nt.toString(16).toLowerCase()}return bt}}function ne(J){return J.__=void 0,delete J.__,J}})})(Oet||(Oet={}))});function ket(...t){let e=t.map(i=>i.byteLength).reduce((i,o)=>i+o),r=new Uint8Array(e),n=0;return t.map(i=>new Uint8Array(i)).forEach(i=>{for(let o of i)r[n++]=o}),r.buffer}function J$(t,e){if(!(t&&e)||t.byteLength!==e.byteLength)return!1;let r=new Uint8Array(t),n=new Uint8Array(e);for(let i=0;i<t.byteLength;i++)if(r[i]!==n[i])return!1;return!0}var jKt,ct,zpe,qKt,JKt,WKt,q$,Vu,Tt,Eh=y(()=>{"use strict";jKt="[object ArrayBuffer]",ct=class t{static isArrayBuffer(e){return Object.prototype.toString.call(e)===jKt}static toArrayBuffer(e){return this.isArrayBuffer(e)?e:e.byteLength===e.buffer.byteLength||e.byteOffset===0&&e.byteLength===e.buffer.byteLength?e.buffer:this.toUint8Array(e.buffer).slice(e.byteOffset,e.byteOffset+e.byteLength).buffer}static toUint8Array(e){return this.toView(e,Uint8Array)}static toView(e,r){if(e.constructor===r)return e;if(this.isArrayBuffer(e))return new r(e);if(this.isArrayBufferView(e))return new r(e.buffer,e.byteOffset,e.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(e){return this.isArrayBufferView(e)||this.isArrayBuffer(e)}static isArrayBufferView(e){return ArrayBuffer.isView(e)||e&&this.isArrayBuffer(e.buffer)}static isEqual(e,r){let n=t.toUint8Array(e),i=t.toUint8Array(r);if(n.length!==i.byteLength)return!1;for(let o=0;o<n.length;o++)if(n[o]!==i[o])return!1;return!0}static concat(...e){let r;Array.isArray(e[0])&&!(e[1]instanceof Function)||Array.isArray(e[0])&&e[1]instanceof Function?r=e[0]:e[e.length-1]instanceof Function?r=e.slice(0,e.length-1):r=e;let n=0;for(let s of r)n+=s.byteLength;let i=new Uint8Array(n),o=0;for(let s of r){let a=this.toUint8Array(s);i.set(a,o),o+=a.length}return e[e.length-1]instanceof Function?this.toView(i,e[e.length-1]):i.buffer}},zpe="string",qKt=/^[0-9a-f\s]+$/i,JKt=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,WKt=/^[a-zA-Z0-9-_]+$/,q$=class{static fromString(e){let r=unescape(encodeURIComponent(e)),n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n.buffer}static toString(e){let r=ct.toUint8Array(e),n="";for(let o=0;o<r.length;o++)n+=String.fromCharCode(r[o]);return decodeURIComponent(escape(n))}},Vu=class{static toString(e,r=!1){let n=ct.toArrayBuffer(e),i=new DataView(n),o="";for(let s=0;s<n.byteLength;s+=2){let a=i.getUint16(s,r);o+=String.fromCharCode(a)}return o}static fromString(e,r=!1){let n=new ArrayBuffer(e.length*2),i=new DataView(n);for(let o=0;o<e.length;o++)i.setUint16(o*2,e.charCodeAt(o),r);return n}},Tt=class t{static isHex(e){return typeof e===zpe&&qKt.test(e)}static isBase64(e){return typeof e===zpe&&JKt.test(e)}static isBase64Url(e){return typeof e===zpe&&WKt.test(e)}static ToString(e,r="utf8"){let n=ct.toUint8Array(e);switch(r.toLowerCase()){case"utf8":return this.ToUtf8String(n);case"binary":return this.ToBinary(n);case"hex":return this.ToHex(n);case"base64":return this.ToBase64(n);case"base64url":return this.ToBase64Url(n);case"utf16le":return Vu.toString(n,!0);case"utf16":case"utf16be":return Vu.toString(n);default:throw new Error(`Unknown type of encoding '${r}'`)}}static FromString(e,r="utf8"){if(!e)return new ArrayBuffer(0);switch(r.toLowerCase()){case"utf8":return this.FromUtf8String(e);case"binary":return this.FromBinary(e);case"hex":return this.FromHex(e);case"base64":return this.FromBase64(e);case"base64url":return this.FromBase64Url(e);case"utf16le":return Vu.fromString(e,!0);case"utf16":case"utf16be":return Vu.fromString(e);default:throw new Error(`Unknown type of encoding '${r}'`)}}static ToBase64(e){let r=ct.toUint8Array(e);if(typeof btoa<"u"){let n=this.ToString(r,"binary");return btoa(n)}else return Buffer.from(r).toString("base64")}static FromBase64(e){let r=this.formatString(e);if(!r)return new ArrayBuffer(0);if(!t.isBase64(r))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return typeof atob<"u"?this.FromBinary(atob(r)):new Uint8Array(Buffer.from(r,"base64")).buffer}static FromBase64Url(e){let r=this.formatString(e);if(!r)return new ArrayBuffer(0);if(!t.isBase64Url(r))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(r.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(e){return this.ToBase64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(e,r=t.DEFAULT_UTF8_ENCODING){switch(r){case"ascii":return this.FromBinary(e);case"utf8":return q$.fromString(e);case"utf16":case"utf16be":return Vu.fromString(e);case"utf16le":case"usc2":return Vu.fromString(e,!0);default:throw new Error(`Unknown type of encoding '${r}'`)}}static ToUtf8String(e,r=t.DEFAULT_UTF8_ENCODING){switch(r){case"ascii":return this.ToBinary(e);case"utf8":return q$.toString(e);case"utf16":case"utf16be":return Vu.toString(e);case"utf16le":case"usc2":return Vu.toString(e,!0);default:throw new Error(`Unknown type of encoding '${r}'`)}}static FromBinary(e){let r=e.length,n=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=e.charCodeAt(i);return n.buffer}static ToBinary(e){let r=ct.toUint8Array(e),n="";for(let i=0;i<r.length;i++)n+=String.fromCharCode(r[i]);return n}static ToHex(e){let r=ct.toUint8Array(e),n="",i=r.length;for(let o=0;o<i;o++){let s=r[o];s<16&&(n+="0"),n+=s.toString(16)}return n}static FromHex(e){let r=this.formatString(e);if(!r)return new ArrayBuffer(0);if(!t.isHex(r))throw new TypeError("Argument 'hexString' is not HEX encoded");r.length%2&&(r=`0${r}`);let n=new Uint8Array(r.length/2);for(let i=0;i<r.length;i=i+2){let o=r.slice(i,i+2);n[i/2]=parseInt(o,16)}return n.buffer}static ToUtf16String(e,r=!1){return Vu.toString(e,r)}static FromUtf16String(e,r=!1){return Vu.fromString(e,r)}static Base64Padding(e){let r=4-e.length%4;if(r<4)for(let n=0;n<r;n++)e+="=";return e}static formatString(e){return e?.replace(/[\n\r\t ]/g,"")||""}};Tt.DEFAULT_UTF8_ENCODING="utf8"});function o2(t,e){let r=0;if(t.length===1)return t[0];for(let n=t.length-1;n>=0;n--)r+=t[t.length-1-n]*Math.pow(2,e*n);return r}function x1(t,e,r=-1){let n=r,i=t,o=0,s=Math.pow(2,e);for(let a=1;a<8;a++){if(t<s){let c;if(n<0)c=new ArrayBuffer(a),o=a;else{if(n<a)return new ArrayBuffer(0);c=new ArrayBuffer(n),o=n}let l=new Uint8Array(c);for(let u=a-1;u>=0;u--){let d=Math.pow(2,u*e);l[o-u-1]=Math.floor(i/d),i-=l[o-u-1]*d}return c}s*=Math.pow(2,e)}return new ArrayBuffer(0)}function W$(...t){let e=0,r=0;for(let o of t)e+=o.length;let n=new ArrayBuffer(e),i=new Uint8Array(n);for(let o of t)i.set(o,r),r+=o.length;return i}function Vpe(){let t=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){let a=t[0]===255&&t[1]&128,c=t[0]===0&&(t[1]&128)===0;(a||c)&&this.warnings.push("Needlessly long format")}let e=new ArrayBuffer(this.valueHex.byteLength),r=new Uint8Array(e);for(let a=0;a<this.valueHex.byteLength;a++)r[a]=0;r[0]=t[0]&128;let n=o2(r,8),i=new ArrayBuffer(this.valueHex.byteLength),o=new Uint8Array(i);for(let a=0;a<this.valueHex.byteLength;a++)o[a]=t[a];return o[0]&=127,o2(o,8)-n}function Met(t){let e=t<0?t*-1:t,r=128;for(let n=1;n<8;n++){if(e<=r){if(t<0){let s=r-e,a=x1(s,8,n),c=new Uint8Array(a);return c[0]|=128,a}let i=x1(e,8,n),o=new Uint8Array(i);if(o[0]&128){let s=i.slice(0),a=new Uint8Array(s);i=new ArrayBuffer(i.byteLength+1),o=new Uint8Array(i);for(let c=0;c<s.byteLength;c++)o[c+1]=a[c];o[0]=0}return i}r*=Math.pow(2,8)}return new ArrayBuffer(0)}function Let(t,e){if(t.byteLength!==e.byteLength)return!1;let r=new Uint8Array(t),n=new Uint8Array(e);for(let i=0;i<r.length;i++)if(r[i]!==n[i])return!1;return!0}function _c(t,e){let r=t.toString(10);if(e<r.length)return"";let n=e-r.length,i=new Array(n);for(let s=0;s<n;s++)i[s]="0";return i.join("").concat(r)}var kRn,Bet=y(()=>{"use strict";kRn=Math.log(2)});var Cf={};wr(Cf,{Any:()=>Tf,BaseBlock:()=>vo,BaseStringBlock:()=>nC,BitString:()=>Jd,BmpString:()=>l2,Boolean:()=>s2,CharacterString:()=>b2,Choice:()=>a4,Constructed:()=>_o,DATE:()=>lC,DateTime:()=>dC,Duration:()=>pC,EndOfContent:()=>iC,Enumerated:()=>a2,GeneralString:()=>y2,GeneralizedTime:()=>v2,GraphicString:()=>g2,HexBlock:()=>If,IA5String:()=>h2,Integer:()=>Ch,Null:()=>jd,NumericString:()=>d2,ObjectIdentifier:()=>c2,OctetString:()=>qd,Primitive:()=>Ih,PrintableString:()=>p2,RawData:()=>Gpe,RelativeObjectIdentifier:()=>cC,Repeated:()=>_2,Sequence:()=>Ks,Set:()=>Ra,TIME:()=>fC,TeletexString:()=>f2,TimeOfDay:()=>uC,UTCTime:()=>w1,UniversalString:()=>u2,Utf8String:()=>Hu,ValueBlock:()=>gs,VideotexString:()=>m2,ViewWriter:()=>s4,VisibleString:()=>S1,compareSchema:()=>Th,fromBER:()=>Oh,verifySchema:()=>cQt});function K$(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function jpe(t){let e=0,r=0;for(let i=0;i<t.length;i++){let o=t[i];e+=o.byteLength}let n=new Uint8Array(e);for(let i=0;i<t.length;i++){let o=t[i];n.set(new Uint8Array(o),r),r+=o.byteLength}return n.buffer}function Nh(t,e,r,n){return e instanceof Uint8Array?e.byteLength?r<0?(t.error="Wrong parameter: inputOffset less than zero",!1):n<0?(t.error="Wrong parameter: inputLength less than zero",!1):e.byteLength-r-n<0?(t.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):!0:(t.error="Wrong parameter: inputBuffer has zero length",!1):(t.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}function If(t){var e;return e=class extends t{get valueHex(){return this.valueHexView.slice().buffer}set valueHex(n){this.valueHexView=new Uint8Array(n)}constructor(...n){var i;super(...n);let o=n[0]||{};this.isHexOnly=(i=o.isHexOnly)!==null&&i!==void 0?i:!1,this.valueHexView=o.valueHex?ct.toUint8Array(o.valueHex):uU}fromBER(n,i,o){let s=n instanceof ArrayBuffer?new Uint8Array(n):n;if(!Nh(this,s,i,o))return-1;let a=i+o;return this.valueHexView=s.subarray(i,a),this.valueHexView.length?(this.blockLength=o,a):(this.warnings.push("Zero buffer length"),i)}toBER(n=!1){return this.isHexOnly?n?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",Rf)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:Tt.ToHex(this.valueHexView)}}},e.NAME="hexBlock",e}function Het(t){var e;if(t instanceof St.Constructed)for(let r of t.valueBlock.value)Het(r)&&(t.lenBlock.isIndefiniteForm=!0);return!!(!((e=t.lenBlock)===null||e===void 0)&&e.isIndefiniteForm)}function iQt(t,e){if(t instanceof e)return t;let r=new e;return r.idBlock=t.idBlock,r.lenBlock=t.lenBlock,r.warnings=t.warnings,r.valueBeforeDecodeView=t.valueBeforeDecodeView,r}function c4(t,e=0,r=t.length){let n=e,i=new vo({},gs),o=new Rh;if(!Nh(o,t,e,r))return i.error=o.error,{offset:-1,result:i};if(!t.subarray(e,e+r).length)return i.error="Zero buffer length",{offset:-1,result:i};let a=i.idBlock.fromBER(t,e,r);if(i.idBlock.warnings.length&&i.warnings.concat(i.idBlock.warnings),a===-1)return i.error=i.idBlock.error,{offset:-1,result:i};if(e=a,r-=i.idBlock.blockLength,a=i.lenBlock.fromBER(t,e,r),i.lenBlock.warnings.length&&i.warnings.concat(i.lenBlock.warnings),a===-1)return i.error=i.lenBlock.error,{offset:-1,result:i};if(e=a,r-=i.lenBlock.blockLength,!i.idBlock.isConstructed&&i.lenBlock.isIndefiniteForm)return i.error="Indefinite length form used for primitive encoding form",{offset:-1,result:i};let c=vo;switch(i.idBlock.tagClass){case 1:if(i.idBlock.tagNumber>=37&&i.idBlock.isHexOnly===!1)return i.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:i};switch(i.idBlock.tagNumber){case 0:if(i.idBlock.isConstructed&&i.lenBlock.length>0)return i.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:i};c=St.EndOfContent;break;case 1:c=St.Boolean;break;case 2:c=St.Integer;break;case 3:c=St.BitString;break;case 4:c=St.OctetString;break;case 5:c=St.Null;break;case 6:c=St.ObjectIdentifier;break;case 10:c=St.Enumerated;break;case 12:c=St.Utf8String;break;case 13:c=St.RelativeObjectIdentifier;break;case 14:c=St.TIME;break;case 15:return i.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:i};case 16:c=St.Sequence;break;case 17:c=St.Set;break;case 18:c=St.NumericString;break;case 19:c=St.PrintableString;break;case 20:c=St.TeletexString;break;case 21:c=St.VideotexString;break;case 22:c=St.IA5String;break;case 23:c=St.UTCTime;break;case 24:c=St.GeneralizedTime;break;case 25:c=St.GraphicString;break;case 26:c=St.VisibleString;break;case 27:c=St.GeneralString;break;case 28:c=St.UniversalString;break;case 29:c=St.CharacterString;break;case 30:c=St.BmpString;break;case 31:c=St.DATE;break;case 32:c=St.TimeOfDay;break;case 33:c=St.DateTime;break;case 34:c=St.Duration;break;default:{let l=i.idBlock.isConstructed?new St.Constructed:new St.Primitive;l.idBlock=i.idBlock,l.lenBlock=i.lenBlock,l.warnings=i.warnings,i=l}}break;case 2:case 3:case 4:default:c=i.idBlock.isConstructed?St.Constructed:St.Primitive}return i=iQt(i,c),a=i.fromBER(t,e,i.lenBlock.isIndefiniteForm?r:i.lenBlock.length),i.valueBeforeDecodeView=t.subarray(n,n+i.blockLength),{offset:a,result:i}}function Oh(t){if(!t.byteLength){let e=new vo({},gs);return e.error="Input buffer has zero length",{offset:-1,result:e}}return c4(ct.toUint8Array(t).slice(),0,t.byteLength)}function oQt(t,e){return t?1:e}function sQt(t,e){let r=new Uint8Array([0]),n=new Uint8Array(t),i=new Uint8Array(e),o=n.slice(0),s=o.length-1,a=i.slice(0),c=a.length-1,l=0,u=c<s?s:c,d=0;for(let p=u;p>=0;p--,d++){switch(!0){case d<a.length:l=o[s-d]+a[c-d]+r[0];break;default:l=o[s-d]+r[0]}switch(r[0]=l/10,!0){case d>=o.length:o=W$(new Uint8Array([l%10]),o);break;default:o[s-d]=l%10}}return r[0]>0&&(o=W$(r,o)),o}function Fet(t){if(t>=eC.length)for(let e=eC.length;e<=t;e++){let r=new Uint8Array([0]),n=eC[e-1].slice(0);for(let i=n.length-1;i>=0;i--){let o=new Uint8Array([(n[i]<<1)+r[0]]);r[0]=o[0]/10,n[i]=o[0]%10}r[0]>0&&(n=W$(r,n)),eC.push(n)}return eC[t]}function aQt(t,e){let r=0,n=new Uint8Array(t),i=new Uint8Array(e),o=n.slice(0),s=o.length-1,a=i.slice(0),c=a.length-1,l,u=0;for(let d=c;d>=0;d--,u++)switch(l=o[s-u]-a[c-u]-r,!0){case l<0:r=1,o[s-u]=l+10;break;default:r=0,o[s-u]=l}if(r>0)for(let d=s-c+1;d>=0;d--,u++)if(l=o[s-u]-r,l<0)r=1,o[s-u]=l+10;else{r=0,o[s-u]=l;break}return o.slice()}function Th(t,e,r){if(r instanceof a4){for(let o of r.value)if(Th(t,e,o).verified)return{verified:!0,result:t};{let o={verified:!1,result:{error:"Wrong values for Choice type"}};return r.hasOwnProperty(Hpe)&&(o.name=r.name),o}}if(r instanceof Tf)return r.hasOwnProperty(Hpe)&&(t[r.name]=e),{verified:!0,result:t};if(!(t instanceof Object))return{verified:!1,result:{error:"Wrong root object"}};if(!(e instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(!(r instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(XKt in r))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(tQt in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(rQt in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};let n=r.idBlock.toBER(!1);if(n.byteLength===0)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(r.idBlock.fromBER(n,0,n.byteLength)===-1)return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(r.idBlock.hasOwnProperty(YKt)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagClass!==e.idBlock.tagClass)return{verified:!1,result:t};if(r.idBlock.hasOwnProperty(ZKt)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagNumber!==e.idBlock.tagNumber)return{verified:!1,result:t};if(r.idBlock.hasOwnProperty(eQt)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isConstructed!==e.idBlock.isConstructed)return{verified:!1,result:t};if(!(QKt in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isHexOnly!==e.idBlock.isHexOnly)return{verified:!1,result:t};if(r.idBlock.isHexOnly){if(!(Uet in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};let o=r.idBlock.valueHexView,s=e.idBlock.valueHexView;if(o.length!==s.length)return{verified:!1,result:t};for(let a=0;a<o.length;a++)if(o[a]!==s[1])return{verified:!1,result:t}}if(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,xc),r.name&&(t[r.name]=e)),r instanceof St.Constructed){let o=0,s={verified:!1,result:{error:"Unknown error"}},a=r.valueBlock.value.length;if(a>0&&r.valueBlock.value[0]instanceof _2&&(a=e.valueBlock.value.length),a===0)return{verified:!0,result:t};if(e.valueBlock.value.length===0&&r.valueBlock.value.length!==0){let c=!0;for(let l=0;l<r.valueBlock.value.length;l++)c=c&&(r.valueBlock.value[l].optional||!1);return c?{verified:!0,result:t}:(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,xc),r.name&&delete t[r.name]),t.error="Inconsistent object length",{verified:!1,result:t})}for(let c=0;c<a;c++)if(c-o>=e.valueBlock.value.length){if(r.valueBlock.value[c].optional===!1){let l={verified:!1,result:t};return t.error="Inconsistent length between ASN.1 data and schema",r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,xc),r.name&&(delete t[r.name],l.name=r.name)),l}}else if(r.valueBlock.value[0]instanceof _2){if(s=Th(t,e.valueBlock.value[c],r.valueBlock.value[0].value),s.verified===!1)if(r.valueBlock.value[0].optional)o++;else return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,xc),r.name&&delete t[r.name]),s;if(Hpe in r.valueBlock.value[0]&&r.valueBlock.value[0].name.length>0){let l={};nQt in r.valueBlock.value[0]&&r.valueBlock.value[0].local?l=e:l=t,typeof l[r.valueBlock.value[0].name]>"u"&&(l[r.valueBlock.value[0].name]=[]),l[r.valueBlock.value[0].name].push(e.valueBlock.value[c])}}else if(s=Th(t,e.valueBlock.value[c-o],r.valueBlock.value[c]),s.verified===!1)if(r.valueBlock.value[c].optional)o++;else return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,xc),r.name&&delete t[r.name]),s;if(s.verified===!1){let c={verified:!1,result:t};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,xc),r.name&&(delete t[r.name],c.name=r.name)),c}return{verified:!0,result:t}}if(r.primitiveSchema&&Uet in e.valueBlock){let o=c4(e.valueBlock.valueHexView);if(o.offset===-1){let s={verified:!1,result:o.result};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,xc),r.name&&(delete t[r.name],s.name=r.name)),s}return Th(t,o.result,r.primitiveSchema)}return{verified:!0,result:t}}function cQt(t,e){if(!(e instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};let r=c4(ct.toUint8Array(t));return r.offset===-1?{verified:!1,result:r.result}:Th(r.result,r.result,e)}var s4,eC,$et,Hpe,Uet,QKt,XKt,YKt,ZKt,eQt,tQt,rQt,nQt,xc,Rf,uU,rC,zet,Vet,Rh,gs,Q$,X$,St,vo,nC,Y$,Get,Ih,Ef,jet,_o,Z$,qet,iC,Jet,jd,eU,Wet,s2,tU,qpe,qd,rU,Ket,Jd,Qet,oC,tC,Ch,Xet,a2,sC,nU,Yet,c2,aC,iU,Zet,cC,ett,Ks,ttt,Ra,oU,sU,Ia,aU,rtt,Hu,cU,ntt,l2,lU,itt,u2,ott,d2,stt,p2,att,f2,ctt,m2,ltt,h2,utt,g2,dtt,S1,ptt,y2,ftt,b2,mtt,w1,htt,v2,gtt,lC,ytt,uC,btt,dC,vtt,pC,_tt,fC,Tf,a4,_2,Gpe,A1=y(()=>{"use strict";Eh();Bet();s4=class{constructor(){this.items=[]}write(e){this.items.push(e)}final(){return jpe(this.items)}},eC=[new Uint8Array([1])],$et="0123456789",Hpe="name",Uet="valueHexView",QKt="isHexOnly",XKt="idBlock",YKt="tagClass",ZKt="tagNumber",eQt="isConstructed",tQt="fromBER",rQt="toBER",nQt="local",xc="",Rf=new ArrayBuffer(0),uU=new Uint8Array(0),rC="EndOfContent",zet="OCTET STRING",Vet="BIT STRING";Rh=class{static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(e){this.valueBeforeDecodeView=new Uint8Array(e)}constructor({blockLength:e=0,error:r=xc,warnings:n=[],valueBeforeDecode:i=uU}={}){this.blockLength=e,this.error=r,this.warnings=n,this.valueBeforeDecodeView=ct.toUint8Array(i)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:Tt.ToHex(this.valueBeforeDecodeView)}}};Rh.NAME="baseBlock";gs=class extends Rh{fromBER(e,r,n){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(e,r){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}};gs.NAME="valueBlock";Q$=class extends If(Rh){constructor({idBlock:e={}}={}){var r,n,i,o;super(),e?(this.isHexOnly=(r=e.isHexOnly)!==null&&r!==void 0?r:!1,this.valueHexView=e.valueHex?ct.toUint8Array(e.valueHex):uU,this.tagClass=(n=e.tagClass)!==null&&n!==void 0?n:-1,this.tagNumber=(i=e.tagNumber)!==null&&i!==void 0?i:-1,this.isConstructed=(o=e.isConstructed)!==null&&o!==void 0?o:!1):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(e=!1){let r=0;switch(this.tagClass){case 1:r|=0;break;case 2:r|=64;break;case 3:r|=128;break;case 4:r|=192;break;default:return this.error="Unknown tag class",Rf}if(this.isConstructed&&(r|=32),this.tagNumber<31&&!this.isHexOnly){let i=new Uint8Array(1);if(!e){let o=this.tagNumber;o&=31,r|=o,i[0]=r}return i.buffer}if(!this.isHexOnly){let i=x1(this.tagNumber,7),o=new Uint8Array(i),s=i.byteLength,a=new Uint8Array(s+1);if(a[0]=r|31,!e){for(let c=0;c<s-1;c++)a[c+1]=o[c]|128;a[s]=o[s-1]}return a.buffer}let n=new Uint8Array(this.valueHexView.byteLength+1);if(n[0]=r|31,!e){let i=this.valueHexView;for(let o=0;o<i.length-1;o++)n[o+1]=i[o]|128;n[this.valueHexView.byteLength]=i[i.length-1]}return n.buffer}fromBER(e,r,n){let i=ct.toUint8Array(e);if(!Nh(this,i,r,n))return-1;let o=i.subarray(r,r+n);if(o.length===0)return this.error="Zero buffer length",-1;switch(o[0]&192){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=(o[0]&32)===32,this.isHexOnly=!1;let a=o[0]&31;if(a!==31)this.tagNumber=a,this.blockLength=1;else{let c=1,l=this.valueHexView=new Uint8Array(255),u=255;for(;o[c]&128;){if(l[c-1]=o[c]&127,c++,c>=o.length)return this.error="End of input reached before message was fully decoded",-1;if(c===u){u+=255;let p=new Uint8Array(u);for(let f=0;f<l.length;f++)p[f]=l[f];l=this.valueHexView=new Uint8Array(u)}}this.blockLength=c+1,l[c-1]=o[c]&127;let d=new Uint8Array(c);for(let p=0;p<c;p++)d[p]=l[p];l=this.valueHexView=new Uint8Array(c),l.set(d),this.blockLength<=9?this.tagNumber=o2(l,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(this.tagClass===1&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return r+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}};Q$.NAME="identificationBlock";X$=class extends Rh{constructor({lenBlock:e={}}={}){var r,n,i;super(),this.isIndefiniteForm=(r=e.isIndefiniteForm)!==null&&r!==void 0?r:!1,this.longFormUsed=(n=e.longFormUsed)!==null&&n!==void 0?n:!1,this.length=(i=e.length)!==null&&i!==void 0?i:0}fromBER(e,r,n){let i=ct.toUint8Array(e);if(!Nh(this,i,r,n))return-1;let o=i.subarray(r,r+n);if(o.length===0)return this.error="Zero buffer length",-1;if(o[0]===255)return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=o[0]===128,this.isIndefiniteForm)return this.blockLength=1,r+this.blockLength;if(this.longFormUsed=!!(o[0]&128),this.longFormUsed===!1)return this.length=o[0],this.blockLength=1,r+this.blockLength;let s=o[0]&127;if(s>8)return this.error="Too big integer",-1;if(s+1>o.length)return this.error="End of input reached before message was fully decoded",-1;let a=r+1,c=i.subarray(a,a+s);return c[s-1]===0&&this.warnings.push("Needlessly long encoded length"),this.length=o2(c,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=s+1,r+this.blockLength}toBER(e=!1){let r,n;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return r=new ArrayBuffer(1),e===!1&&(n=new Uint8Array(r),n[0]=128),r;if(this.longFormUsed){let i=x1(this.length,8);if(i.byteLength>127)return this.error="Too big length",Rf;if(r=new ArrayBuffer(i.byteLength+1),e)return r;let o=new Uint8Array(i);n=new Uint8Array(r),n[0]=i.byteLength|128;for(let s=0;s<i.byteLength;s++)n[s+1]=o[s];return r}return r=new ArrayBuffer(1),e===!1&&(n=new Uint8Array(r),n[0]=this.length),r}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}};X$.NAME="lengthBlock";St={},vo=class extends Rh{constructor({name:e=xc,optional:r=!1,primitiveSchema:n,...i}={},o){super(i),this.name=e,this.optional=r,n&&(this.primitiveSchema=n),this.idBlock=new Q$(i),this.lenBlock=new X$(i),this.valueBlock=o?new o(i):new gs(i)}fromBER(e,r,n){let i=this.valueBlock.fromBER(e,r,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return i===-1?(this.error=this.valueBlock.error,i):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),i)}toBER(e,r){let n=r||new s4;r||Het(this);let i=this.idBlock.toBER(e);if(n.write(i),this.lenBlock.isIndefiniteForm)n.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(e,n),n.write(new ArrayBuffer(2));else{let o=this.valueBlock.toBER(e);this.lenBlock.length=o.byteLength;let s=this.lenBlock.toBER(e);n.write(s),n.write(o)}return r?Rf:n.final()}toJSON(){let e={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(e.primitiveSchema=this.primitiveSchema.toJSON()),e}toString(e="ascii"){return e==="ascii"?this.onAsciiEncoding():Tt.ToHex(this.toBER())}onAsciiEncoding(){let e=this.constructor.NAME,r=Tt.ToHex(this.valueBlock.valueBeforeDecodeView);return`${e} : ${r}`}isEqual(e){if(this===e)return!0;if(!(e instanceof this.constructor))return!1;let r=this.toBER(),n=e.toBER();return Let(r,n)}};vo.NAME="BaseBlock";nC=class extends vo{getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}constructor({value:e=xc,...r}={},n){super(r,n),e&&this.fromString(e)}fromBER(e,r,n){let i=this.valueBlock.fromBER(e,r,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return i===-1?(this.error=this.valueBlock.error,i):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),i)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}};nC.NAME="BaseStringBlock";Y$=class extends If(gs){constructor({isHexOnly:e=!0,...r}={}){super(r),this.isHexOnly=e}};Y$.NAME="PrimitiveValueBlock";Ih=class extends vo{constructor(e={}){super(e,Y$),this.idBlock.isConstructed=!1}};Get=Ih;St.Primitive=Get;Ih.NAME="PRIMITIVE";Ef=class extends gs{constructor({value:e=[],isIndefiniteForm:r=!1,...n}={}){super(n),this.value=e,this.isIndefiniteForm=r}fromBER(e,r,n){let i=ct.toUint8Array(e);if(!Nh(this,i,r,n))return-1;if(this.valueBeforeDecodeView=i.subarray(r,r+n),this.valueBeforeDecodeView.length===0)return this.warnings.push("Zero buffer length"),r;let o=r;for(;oQt(this.isIndefiniteForm,n)>0;){let s=c4(i,o,n);if(s.offset===-1)return this.error=s.result.error,this.warnings.concat(s.result.warnings),-1;if(o=s.offset,this.blockLength+=s.result.blockLength,n-=s.result.blockLength,this.value.push(s.result),this.isIndefiniteForm&&s.result.constructor.NAME===rC)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===rC?this.value.pop():this.warnings.push("No EndOfContent block encoded")),o}toBER(e,r){let n=r||new s4;for(let i=0;i<this.value.length;i++)this.value[i].toBER(e,n);return r?Rf:n.final()}toJSON(){let e={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(let r of this.value)e.value.push(r.toJSON());return e}};Ef.NAME="ConstructedValueBlock";_o=class extends vo{constructor(e={}){super(e,Ef),this.idBlock.isConstructed=!0}fromBER(e,r,n){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;let i=this.valueBlock.fromBER(e,r,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return i===-1?(this.error=this.valueBlock.error,i):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),i)}onAsciiEncoding(){let e=[];for(let n of this.valueBlock.value)e.push(n.toString("ascii").split(`
`).map(i=>`  ${i}`).join(`
`));let r=this.idBlock.tagClass===3?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return e.length?`${r} :
${e.join(`
`)}`:`${r} :`}};jet=_o;St.Constructed=jet;_o.NAME="CONSTRUCTED";Z$=class extends gs{fromBER(e,r,n){return r}toBER(e){return Rf}};Z$.override="EndOfContentValueBlock";iC=class extends vo{constructor(e={}){super(e,Z$),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}};qet=iC;St.EndOfContent=qet;iC.NAME=rC;jd=class extends vo{constructor(e={}){super(e,gs),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(e,r,n){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=n,r+n>e.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):r+n}toBER(e,r){let n=new ArrayBuffer(2);if(!e){let i=new Uint8Array(n);i[0]=5,i[1]=0}return r&&r.write(n),n}onAsciiEncoding(){return`${this.constructor.NAME}`}};Jet=jd;St.Null=Jet;jd.NAME="NULL";eU=class extends If(gs){get value(){for(let e of this.valueHexView)if(e>0)return!0;return!1}set value(e){this.valueHexView[0]=e?255:0}constructor({value:e,...r}={}){super(r),r.valueHex?this.valueHexView=ct.toUint8Array(r.valueHex):this.valueHexView=new Uint8Array(1),e&&(this.value=e)}fromBER(e,r,n){let i=ct.toUint8Array(e);return Nh(this,i,r,n)?(this.valueHexView=i.subarray(r,r+n),n>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,Vpe.call(this),this.blockLength=n,r+n):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}};eU.NAME="BooleanValueBlock";s2=class extends vo{getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}constructor(e={}){super(e,eU),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}};Wet=s2;St.Boolean=Wet;s2.NAME="BOOLEAN";tU=class extends If(Ef){constructor({isConstructed:e=!1,...r}={}){super(r),this.isConstructed=e}fromBER(e,r,n){let i=0;if(this.isConstructed){if(this.isHexOnly=!1,i=Ef.prototype.fromBER.call(this,e,r,n),i===-1)return i;for(let o=0;o<this.value.length;o++){let s=this.value[o].constructor.NAME;if(s===rC){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(s!==zet)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,i=super.fromBER(e,r,n),this.blockLength=n;return i}toBER(e,r){return this.isConstructed?Ef.prototype.toBER.call(this,e,r):e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}};tU.NAME="OctetStringValueBlock";qd=class extends vo{constructor({idBlock:e={},lenBlock:r={},...n}={}){var i,o;(i=n.isConstructed)!==null&&i!==void 0||(n.isConstructed=!!(!((o=n.value)===null||o===void 0)&&o.length)),super({idBlock:{isConstructed:n.isConstructed,...e},lenBlock:{...r,isIndefiniteForm:!!n.isIndefiniteForm},...n},tU),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(e,r,n){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,n===0)return this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength),r;if(!this.valueBlock.isConstructed){let o=(e instanceof ArrayBuffer?new Uint8Array(e):e).subarray(r,r+n);try{if(o.byteLength){let s=c4(o,0,o.byteLength);s.offset!==-1&&s.offset===n&&(this.valueBlock.value=[s.result])}}catch{}}return super.fromBER(e,r,n)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return _o.prototype.onAsciiEncoding.call(this);let e=this.constructor.NAME,r=Tt.ToHex(this.valueBlock.valueHexView);return`${e} : ${r}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;let e=[];for(let r of this.valueBlock.value)r instanceof qpe&&e.push(r.valueBlock.valueHexView);return ct.concat(e)}};qpe=qd;St.OctetString=qpe;qd.NAME=zet;rU=class extends If(Ef){constructor({unusedBits:e=0,isConstructed:r=!1,...n}={}){super(n),this.unusedBits=e,this.isConstructed=r,this.blockLength=this.valueHexView.byteLength}fromBER(e,r,n){if(!n)return r;let i=-1;if(this.isConstructed){if(i=Ef.prototype.fromBER.call(this,e,r,n),i===-1)return i;for(let a of this.value){let c=a.constructor.NAME;if(c===rC){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(c!==Vet)return this.error="BIT STRING may consists of BIT STRINGs only",-1;let l=a.valueBlock;if(this.unusedBits>0&&l.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=l.unusedBits}return i}let o=ct.toUint8Array(e);if(!Nh(this,o,r,n))return-1;let s=o.subarray(r,r+n);if(this.unusedBits=s[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){let a=s.subarray(1);try{if(a.byteLength){let c=c4(a,0,a.byteLength);c.offset!==-1&&c.offset===n-1&&(this.value=[c.result])}}catch{}}return this.valueHexView=s.subarray(1),this.blockLength=s.length,r+n}toBER(e,r){if(this.isConstructed)return Ef.prototype.toBER.call(this,e,r);if(e)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength){let i=new Uint8Array(1);return i[0]=0,i.buffer}let n=new Uint8Array(this.valueHexView.length+1);return n[0]=this.unusedBits,n.set(this.valueHexView,1),n.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}};rU.NAME="BitStringValueBlock";Jd=class extends vo{constructor({idBlock:e={},lenBlock:r={},...n}={}){var i,o;(i=n.isConstructed)!==null&&i!==void 0||(n.isConstructed=!!(!((o=n.value)===null||o===void 0)&&o.length)),super({idBlock:{isConstructed:n.isConstructed,...e},lenBlock:{...r,isIndefiniteForm:!!n.isIndefiniteForm},...n},rU),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(e,r,n){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(e,r,n)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return _o.prototype.onAsciiEncoding.call(this);{let e=[],r=this.valueBlock.valueHexView;for(let s of r)e.push(s.toString(2).padStart(8,"0"));let n=e.join(""),i=this.constructor.NAME,o=n.substring(0,n.length-this.valueBlock.unusedBits);return`${i} : ${o}`}}};Ket=Jd;St.BitString=Ket;Jd.NAME=Vet;oC=class extends If(gs){setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=Vpe.call(this)))}constructor({value:e,...r}={}){super(r),this._valueDec=0,r.valueHex&&this.setValueHex(),e!==void 0&&(this.valueDec=e)}set valueDec(e){this._valueDec=e,this.isHexOnly=!1,this.valueHexView=new Uint8Array(Met(e))}get valueDec(){return this._valueDec}fromDER(e,r,n,i=0){let o=this.fromBER(e,r,n);if(o===-1)return o;let s=this.valueHexView;return s[0]===0&&(s[1]&128)!==0?this.valueHexView=s.subarray(1):i!==0&&s.length<i&&(i-s.length>1&&(i=s.length+1),this.valueHexView=s.subarray(i-s.length)),o}toDER(e=!1){let r=this.valueHexView;switch(!0){case(r[0]&128)!==0:{let n=new Uint8Array(this.valueHexView.length+1);n[0]=0,n.set(r,1),this.valueHexView=n}break;case(r[0]===0&&(r[1]&128)===0):this.valueHexView=this.valueHexView.subarray(1);break}return this.toBER(e)}fromBER(e,r,n){let i=super.fromBER(e,r,n);return i===-1||this.setValueHex(),i}toBER(e){return e?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){let e=this.valueHexView.length*8-1,r=new Uint8Array(this.valueHexView.length*8/3),n=0,i,o=this.valueHexView,s="",a=!1;for(let c=o.byteLength-1;c>=0;c--){i=o[c];for(let l=0;l<8;l++){if((i&1)===1)switch(n){case e:r=aQt(Fet(n),r),s="-";break;default:r=sQt(r,Fet(n))}n++,i>>=1}}for(let c=0;c<r.length;c++)r[c]&&(a=!0),a&&(s+=$et.charAt(r[c]));return a===!1&&(s+=$et.charAt(0)),s}};Qet=oC;oC.NAME="IntegerValueBlock";Object.defineProperty(Qet.prototype,"valueHex",{set:function(t){this.valueHexView=new Uint8Array(t),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});Ch=class extends vo{constructor(e={}){super(e,oC),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return K$(),BigInt(this.valueBlock.toString())}static fromBigInt(e){K$();let r=BigInt(e),n=new s4,i=r.toString(16).replace(/^-/,""),o=new Uint8Array(Tt.FromHex(i));if(r<0){let a=new Uint8Array(o.length+(o[0]&128?1:0));a[0]|=128;let l=BigInt(`0x${Tt.ToHex(a)}`)+r,u=ct.toUint8Array(Tt.FromHex(l.toString(16)));u[0]|=128,n.write(u)}else o[0]&128&&n.write(new Uint8Array([0])),n.write(o);return new tC({valueHex:n.final()})}convertToDER(){let e=new tC({valueHex:this.valueBlock.valueHexView});return e.valueBlock.toDER(),e}convertFromDER(){return new tC({valueHex:this.valueBlock.valueHexView[0]===0?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}};tC=Ch;St.Integer=tC;Ch.NAME="INTEGER";a2=class extends Ch{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}};Xet=a2;St.Enumerated=Xet;a2.NAME="ENUMERATED";sC=class extends If(gs){constructor({valueDec:e=-1,isFirstSid:r=!1,...n}={}){super(n),this.valueDec=e,this.isFirstSid=r}fromBER(e,r,n){if(!n)return r;let i=ct.toUint8Array(e);if(!Nh(this,i,r,n))return-1;let o=i.subarray(r,r+n);this.valueHexView=new Uint8Array(n);for(let a=0;a<n&&(this.valueHexView[a]=o[a]&127,this.blockLength++,(o[a]&128)!==0);a++);let s=new Uint8Array(this.blockLength);for(let a=0;a<this.blockLength;a++)s[a]=this.valueHexView[a];return this.valueHexView=s,(o[this.blockLength-1]&128)!==0?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=o2(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),r+this.blockLength)}set valueBigInt(e){K$();let r=BigInt(e).toString(2);for(;r.length%7;)r="0"+r;let n=new Uint8Array(r.length/7);for(let i=0;i<n.length;i++)n[i]=parseInt(r.slice(i*7,i*7+7),2)+(i+1<n.length?128:0);this.fromBER(n.buffer,0,n.length)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);let i=this.valueHexView,o=new Uint8Array(this.blockLength);for(let s=0;s<this.blockLength-1;s++)o[s]=i[s]|128;return o[this.blockLength-1]=i[this.blockLength-1],o.buffer}let r=x1(this.valueDec,7);if(r.byteLength===0)return this.error="Error during encoding SID value",Rf;let n=new Uint8Array(r.byteLength);if(!e){let i=new Uint8Array(r),o=r.byteLength-1;for(let s=0;s<o;s++)n[s]=i[s]|128;n[o]=i[o]}return n}toString(){let e="";if(this.isHexOnly)e=Tt.ToHex(this.valueHexView);else if(this.isFirstSid){let r=this.valueDec;this.valueDec<=39?e="0.":this.valueDec<=79?(e="1.",r-=40):(e="2.",r-=80),e+=r.toString()}else e=this.valueDec.toString();return e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}};sC.NAME="sidBlock";nU=class extends gs{constructor({value:e=xc,...r}={}){super(r),this.value=[],e&&this.fromString(e)}fromBER(e,r,n){let i=r;for(;n>0;){let o=new sC;if(i=o.fromBER(e,i,n),i===-1)return this.blockLength=0,this.error=o.error,i;this.value.length===0&&(o.isFirstSid=!0),this.blockLength+=o.blockLength,n-=o.blockLength,this.value.push(o)}return i}toBER(e){let r=[];for(let n=0;n<this.value.length;n++){let i=this.value[n].toBER(e);if(i.byteLength===0)return this.error=this.value[n].error,Rf;r.push(i)}return jpe(r)}fromString(e){this.value=[];let r=0,n=0,i="",o=!1;do if(n=e.indexOf(".",r),n===-1?i=e.substring(r):i=e.substring(r,n),r=n+1,o){let s=this.value[0],a=0;switch(s.valueDec){case 0:break;case 1:a=40;break;case 2:a=80;break;default:this.value=[];return}let c=parseInt(i,10);if(isNaN(c))return;s.valueDec=c+a,o=!1}else{let s=new sC;if(i>Number.MAX_SAFE_INTEGER){K$();let a=BigInt(i);s.valueBigInt=a}else if(s.valueDec=parseInt(i,10),isNaN(s.valueDec))return;this.value.length||(s.isFirstSid=!0,o=!0),this.value.push(s)}while(n!==-1)}toString(){let e="",r=!1;for(let n=0;n<this.value.length;n++){r=this.value[n].isHexOnly;let i=this.value[n].toString();n!==0&&(e=`${e}.`),r?(i=`{${i}}`,this.value[n].isFirstSid?e=`2.{${i} - 80}`:e+=i):e+=i}return e}toJSON(){let e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let r=0;r<this.value.length;r++)e.sidArray.push(this.value[r].toJSON());return e}};nU.NAME="ObjectIdentifierValueBlock";c2=class extends vo{getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}constructor(e={}){super(e,nU),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}};Yet=c2;St.ObjectIdentifier=Yet;c2.NAME="OBJECT IDENTIFIER";aC=class extends If(Rh){constructor({valueDec:e=0,...r}={}){super(r),this.valueDec=e}fromBER(e,r,n){if(n===0)return r;let i=ct.toUint8Array(e);if(!Nh(this,i,r,n))return-1;let o=i.subarray(r,r+n);this.valueHexView=new Uint8Array(n);for(let a=0;a<n&&(this.valueHexView[a]=o[a]&127,this.blockLength++,(o[a]&128)!==0);a++);let s=new Uint8Array(this.blockLength);for(let a=0;a<this.blockLength;a++)s[a]=this.valueHexView[a];return this.valueHexView=s,(o[this.blockLength-1]&128)!==0?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=o2(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),r+this.blockLength)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);let i=this.valueHexView,o=new Uint8Array(this.blockLength);for(let s=0;s<this.blockLength-1;s++)o[s]=i[s]|128;return o[this.blockLength-1]=i[this.blockLength-1],o.buffer}let r=x1(this.valueDec,7);if(r.byteLength===0)return this.error="Error during encoding SID value",Rf;let n=new Uint8Array(r.byteLength);if(!e){let i=new Uint8Array(r),o=r.byteLength-1;for(let s=0;s<o;s++)n[s]=i[s]|128;n[o]=i[o]}return n.buffer}toString(){let e="";return this.isHexOnly?e=Tt.ToHex(this.valueHexView):e=this.valueDec.toString(),e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}};aC.NAME="relativeSidBlock";iU=class extends gs{constructor({value:e=xc,...r}={}){super(r),this.value=[],e&&this.fromString(e)}fromBER(e,r,n){let i=r;for(;n>0;){let o=new aC;if(i=o.fromBER(e,i,n),i===-1)return this.blockLength=0,this.error=o.error,i;this.blockLength+=o.blockLength,n-=o.blockLength,this.value.push(o)}return i}toBER(e,r){let n=[];for(let i=0;i<this.value.length;i++){let o=this.value[i].toBER(e);if(o.byteLength===0)return this.error=this.value[i].error,Rf;n.push(o)}return jpe(n)}fromString(e){this.value=[];let r=0,n=0,i="";do{n=e.indexOf(".",r),n===-1?i=e.substring(r):i=e.substring(r,n),r=n+1;let o=new aC;if(o.valueDec=parseInt(i,10),isNaN(o.valueDec))return!0;this.value.push(o)}while(n!==-1);return!0}toString(){let e="",r=!1;for(let n=0;n<this.value.length;n++){r=this.value[n].isHexOnly;let i=this.value[n].toString();n!==0&&(e=`${e}.`),r&&(i=`{${i}}`),e+=i}return e}toJSON(){let e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let r=0;r<this.value.length;r++)e.sidArray.push(this.value[r].toJSON());return e}};iU.NAME="RelativeObjectIdentifierValueBlock";cC=class extends vo{getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}constructor(e={}){super(e,iU),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}};Zet=cC;St.RelativeObjectIdentifier=Zet;cC.NAME="RelativeObjectIdentifier";Ks=class extends _o{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}};ett=Ks;St.Sequence=ett;Ks.NAME="SEQUENCE";Ra=class extends _o{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}};ttt=Ra;St.Set=ttt;Ra.NAME="SET";oU=class extends If(gs){constructor({...e}={}){super(e),this.isHexOnly=!0,this.value=xc}toJSON(){return{...super.toJSON(),value:this.value}}};oU.NAME="StringValueBlock";sU=class extends oU{};sU.NAME="SimpleStringValueBlock";Ia=class extends nC{constructor({...e}={}){super(e,sU)}fromBuffer(e){this.valueBlock.value=String.fromCharCode.apply(null,ct.toUint8Array(e))}fromString(e){let r=e.length,n=this.valueBlock.valueHexView=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=e.charCodeAt(i);this.valueBlock.value=e}};Ia.NAME="SIMPLE STRING";aU=class extends Ia{fromBuffer(e){this.valueBlock.valueHexView=ct.toUint8Array(e);try{this.valueBlock.value=Tt.ToUtf8String(e)}catch(r){this.warnings.push(`Error during "decodeURIComponent": ${r}, using raw string`),this.valueBlock.value=Tt.ToBinary(e)}}fromString(e){this.valueBlock.valueHexView=new Uint8Array(Tt.FromUtf8String(e)),this.valueBlock.value=e}};aU.NAME="Utf8StringValueBlock";Hu=class extends aU{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}};rtt=Hu;St.Utf8String=rtt;Hu.NAME="UTF8String";cU=class extends Ia{fromBuffer(e){this.valueBlock.value=Tt.ToUtf16String(e),this.valueBlock.valueHexView=ct.toUint8Array(e)}fromString(e){this.valueBlock.value=e,this.valueBlock.valueHexView=new Uint8Array(Tt.FromUtf16String(e))}};cU.NAME="BmpStringValueBlock";l2=class extends cU{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}};ntt=l2;St.BmpString=ntt;l2.NAME="BMPString";lU=class extends Ia{fromBuffer(e){let r=ArrayBuffer.isView(e)?e.slice().buffer:e.slice(0),n=new Uint8Array(r);for(let i=0;i<n.length;i+=4)n[i]=n[i+3],n[i+1]=n[i+2],n[i+2]=0,n[i+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(r))}fromString(e){let r=e.length,n=this.valueBlock.valueHexView=new Uint8Array(r*4);for(let i=0;i<r;i++){let o=x1(e.charCodeAt(i),8),s=new Uint8Array(o);if(s.length>4)continue;let a=4-s.length;for(let c=s.length-1;c>=0;c--)n[i*4+c+a]=s[c]}this.valueBlock.value=e}};lU.NAME="UniversalStringValueBlock";u2=class extends lU{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}};itt=u2;St.UniversalString=itt;u2.NAME="UniversalString";d2=class extends Ia{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}};ott=d2;St.NumericString=ott;d2.NAME="NumericString";p2=class extends Ia{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}};stt=p2;St.PrintableString=stt;p2.NAME="PrintableString";f2=class extends Ia{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}};att=f2;St.TeletexString=att;f2.NAME="TeletexString";m2=class extends Ia{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}};ctt=m2;St.VideotexString=ctt;m2.NAME="VideotexString";h2=class extends Ia{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}};ltt=h2;St.IA5String=ltt;h2.NAME="IA5String";g2=class extends Ia{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}};utt=g2;St.GraphicString=utt;g2.NAME="GraphicString";S1=class extends Ia{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}};dtt=S1;St.VisibleString=dtt;S1.NAME="VisibleString";y2=class extends Ia{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}};ptt=y2;St.GeneralString=ptt;y2.NAME="GeneralString";b2=class extends Ia{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}};ftt=b2;St.CharacterString=ftt;b2.NAME="CharacterString";w1=class extends S1{constructor({value:e,valueDate:r,...n}={}){if(super(n),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,e){this.fromString(e),this.valueBlock.valueHexView=new Uint8Array(e.length);for(let i=0;i<e.length;i++)this.valueBlock.valueHexView[i]=e.charCodeAt(i)}r&&(this.fromDate(r),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(e){this.fromString(String.fromCharCode.apply(null,ct.toUint8Array(e)))}toBuffer(){let e=this.toString(),r=new ArrayBuffer(e.length),n=new Uint8Array(r);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return r}fromDate(e){this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(e){let n=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig.exec(e);if(n===null){this.error="Wrong input string for conversion";return}let i=parseInt(n[1],10);i>=50?this.year=1900+i:this.year=2e3+i,this.month=parseInt(n[2],10),this.day=parseInt(n[3],10),this.hour=parseInt(n[4],10),this.minute=parseInt(n[5],10),this.second=parseInt(n[6],10)}toString(e="iso"){if(e==="iso"){let r=new Array(7);return r[0]=_c(this.year<2e3?this.year-1900:this.year-2e3,2),r[1]=_c(this.month,2),r[2]=_c(this.day,2),r[3]=_c(this.hour,2),r[4]=_c(this.minute,2),r[5]=_c(this.second,2),r[6]="Z",r.join("")}return super.toString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}};mtt=w1;St.UTCTime=mtt;w1.NAME="UTCTime";v2=class extends w1{constructor(e={}){var r;super(e),(r=this.millisecond)!==null&&r!==void 0||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(e){super.fromDate(e),this.millisecond=e.getUTCMilliseconds()}toDate(){let e=Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond);return new Date(e)}fromString(e){let r=!1,n="",i="",o=0,s,a=0,c=0;if(e[e.length-1]==="Z")n=e.substring(0,e.length-1),r=!0;else{let d=new Number(e[e.length-1]);if(isNaN(d.valueOf()))throw new Error("Wrong input string for conversion");n=e}if(r){if(n.indexOf("+")!==-1)throw new Error("Wrong input string for conversion");if(n.indexOf("-")!==-1)throw new Error("Wrong input string for conversion")}else{let d=1,p=n.indexOf("+"),f="";if(p===-1&&(p=n.indexOf("-"),d=-1),p!==-1){if(f=n.substring(p+1),n=n.substring(0,p),f.length!==2&&f.length!==4)throw new Error("Wrong input string for conversion");let h=parseInt(f.substring(0,2),10);if(isNaN(h.valueOf()))throw new Error("Wrong input string for conversion");if(a=d*h,f.length===4){if(h=parseInt(f.substring(2,4),10),isNaN(h.valueOf()))throw new Error("Wrong input string for conversion");c=d*h}}}let l=n.indexOf(".");if(l===-1&&(l=n.indexOf(",")),l!==-1){let d=new Number(`0${n.substring(l)}`);if(isNaN(d.valueOf()))throw new Error("Wrong input string for conversion");o=d.valueOf(),i=n.substring(0,l)}else i=n;switch(!0){case i.length===8:if(s=/(\d{4})(\d{2})(\d{2})/ig,l!==-1)throw new Error("Wrong input string for conversion");break;case i.length===10:if(s=/(\d{4})(\d{2})(\d{2})(\d{2})/ig,l!==-1){let d=60*o;this.minute=Math.floor(d),d=60*(d-this.minute),this.second=Math.floor(d),d=1e3*(d-this.second),this.millisecond=Math.floor(d)}break;case i.length===12:if(s=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/ig,l!==-1){let d=60*o;this.second=Math.floor(d),d=1e3*(d-this.second),this.millisecond=Math.floor(d)}break;case i.length===14:if(s=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/ig,l!==-1){let d=1e3*o;this.millisecond=Math.floor(d)}break;default:throw new Error("Wrong input string for conversion")}let u=s.exec(i);if(u===null)throw new Error("Wrong input string for conversion");for(let d=1;d<u.length;d++)switch(d){case 1:this.year=parseInt(u[d],10);break;case 2:this.month=parseInt(u[d],10);break;case 3:this.day=parseInt(u[d],10);break;case 4:this.hour=parseInt(u[d],10)+a;break;case 5:this.minute=parseInt(u[d],10)+c;break;case 6:this.second=parseInt(u[d],10);break;default:throw new Error("Wrong input string for conversion")}if(r===!1){let d=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=d.getUTCFullYear(),this.month=d.getUTCMonth(),this.day=d.getUTCDay(),this.hour=d.getUTCHours(),this.minute=d.getUTCMinutes(),this.second=d.getUTCSeconds(),this.millisecond=d.getUTCMilliseconds()}}toString(e="iso"){if(e==="iso"){let r=[];return r.push(_c(this.year,4)),r.push(_c(this.month,2)),r.push(_c(this.day,2)),r.push(_c(this.hour,2)),r.push(_c(this.minute,2)),r.push(_c(this.second,2)),this.millisecond!==0&&(r.push("."),r.push(_c(this.millisecond,3))),r.push("Z"),r.join("")}return super.toString(e)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}};htt=v2;St.GeneralizedTime=htt;v2.NAME="GeneralizedTime";lC=class extends Hu{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}};gtt=lC;St.DATE=gtt;lC.NAME="DATE";uC=class extends Hu{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}};ytt=uC;St.TimeOfDay=ytt;uC.NAME="TimeOfDay";dC=class extends Hu{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}};btt=dC;St.DateTime=btt;dC.NAME="DateTime";pC=class extends Hu{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}};vtt=pC;St.Duration=vtt;pC.NAME="Duration";fC=class extends Hu{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}};_tt=fC;St.TIME=_tt;fC.NAME="TIME";Tf=class{constructor({name:e=xc,optional:r=!1}={}){this.name=e,this.optional=r}},a4=class extends Tf{constructor({value:e=[],...r}={}){super(r),this.value=e}},_2=class extends Tf{constructor({value:e=new Tf,local:r=!1,...n}={}){super(n),this.value=e,this.local=r}},Gpe=class{get data(){return this.dataView.slice().buffer}set data(e){this.dataView=ct.toUint8Array(e)}constructor({data:e=uU}={}){this.dataView=ct.toUint8Array(e)}fromBER(e,r,n){let i=r+n;return this.dataView=ct.toUint8Array(e).subarray(r,i),i}toBER(e){return this.dataView.slice().buffer}}});var ue,Z,x2=y(()=>{"use strict";(function(t){t[t.Sequence=0]="Sequence",t[t.Set=1]="Set",t[t.Choice=2]="Choice"})(ue||(ue={}));(function(t){t[t.Any=1]="Any",t[t.Boolean=2]="Boolean",t[t.OctetString=3]="OctetString",t[t.BitString=4]="BitString",t[t.Integer=5]="Integer",t[t.Enumerated=6]="Enumerated",t[t.ObjectIdentifier=7]="ObjectIdentifier",t[t.Utf8String=8]="Utf8String",t[t.BmpString=9]="BmpString",t[t.UniversalString=10]="UniversalString",t[t.NumericString=11]="NumericString",t[t.PrintableString=12]="PrintableString",t[t.TeletexString=13]="TeletexString",t[t.VideotexString=14]="VideotexString",t[t.IA5String=15]="IA5String",t[t.GraphicString=16]="GraphicString",t[t.VisibleString=17]="VisibleString",t[t.GeneralString=18]="GeneralString",t[t.CharacterString=19]="CharacterString",t[t.UTCTime=20]="UTCTime",t[t.GeneralizedTime=21]="GeneralizedTime",t[t.DATE=22]="DATE",t[t.TimeOfDay=23]="TimeOfDay",t[t.DateTime=24]="DateTime",t[t.Duration=25]="Duration",t[t.TIME=26]="TIME",t[t.Null=27]="Null"})(Z||(Z={}))});var Nf,xtt=y(()=>{"use strict";A1();Eh();Nf=class{constructor(e,r=0){if(this.unusedBits=0,this.value=new ArrayBuffer(0),e)if(typeof e=="number")this.fromNumber(e);else if(ct.isBufferSource(e))this.unusedBits=r,this.value=ct.toArrayBuffer(e);else throw TypeError("Unsupported type of 'params' argument for BitString")}fromASN(e){if(!(e instanceof Jd))throw new TypeError("Argument 'asn' is not instance of ASN.1 BitString");return this.unusedBits=e.valueBlock.unusedBits,this.value=e.valueBlock.valueHex,this}toASN(){return new Jd({unusedBits:this.unusedBits,valueHex:this.value})}toSchema(e){return new Jd({name:e})}toNumber(){let e="",r=new Uint8Array(this.value);for(let n of r)e+=n.toString(2).padStart(8,"0");return e=e.split("").reverse().join(""),this.unusedBits&&(e=e.slice(this.unusedBits).padStart(this.unusedBits,"0")),parseInt(e,2)}fromNumber(e){let r=e.toString(2),n=r.length+7>>3;this.unusedBits=(n<<3)-r.length;let i=new Uint8Array(n);r=r.padStart(n<<3,"0").split("").reverse().join("");let o=0;for(;o<n;)i[o]=parseInt(r.slice(o<<3,(o<<3)+8),2),o++;this.value=i.buffer}}});var Lt,Stt=y(()=>{"use strict";A1();Eh();Lt=class{get byteLength(){return this.buffer.byteLength}get byteOffset(){return 0}constructor(e){typeof e=="number"?this.buffer=new ArrayBuffer(e):ct.isBufferSource(e)?this.buffer=ct.toArrayBuffer(e):Array.isArray(e)?this.buffer=new Uint8Array(e):this.buffer=new ArrayBuffer(0)}fromASN(e){if(!(e instanceof qd))throw new TypeError("Argument 'asn' is not instance of ASN.1 OctetString");return this.buffer=e.valueBlock.valueHex,this}toASN(){return new qd({valueHex:this.buffer})}toSchema(e){return new qd({name:e})}}});var Jpe=y(()=>{"use strict";xtt();Stt()});function Gu(t){return{fromASN:e=>e.valueBlock.value,toASN:e=>new t({value:e})}}function E1(t){switch(t){case Z.Any:return lQt;case Z.BitString:return pQt;case Z.BmpString:return hQt;case Z.Boolean:return mQt;case Z.CharacterString:return EQt;case Z.Enumerated:return dQt;case Z.GeneralString:return AQt;case Z.GeneralizedTime:return RQt;case Z.GraphicString:return SQt;case Z.IA5String:return xQt;case Z.Integer:return uQt;case Z.Null:return IQt;case Z.NumericString:return yQt;case Z.ObjectIdentifier:return fQt;case Z.OctetString:return l4;case Z.PrintableString:return bQt;case Z.TeletexString:return vQt;case Z.UTCTime:return TQt;case Z.UniversalString:return gQt;case Z.Utf8String:return Wpe;case Z.VideotexString:return _Qt;case Z.VisibleString:return wQt;default:return null}}var lQt,uQt,dQt,Ar,pQt,fQt,mQt,l4,wtt,Wpe,hQt,gQt,yQt,bQt,vQt,_Qt,xQt,SQt,wQt,AQt,EQt,TQt,RQt,IQt,mC=y(()=>{"use strict";A1();x2();Jpe();lQt={fromASN:t=>t instanceof jd?null:t.valueBeforeDecodeView,toASN:t=>{if(t===null)return new jd;let e=Oh(t);if(e.result.error)throw new Error(e.result.error);return e.result}},uQt={fromASN:t=>t.valueBlock.valueHexView.byteLength>=4?t.valueBlock.toString():t.valueBlock.valueDec,toASN:t=>new Ch({value:+t})},dQt={fromASN:t=>t.valueBlock.valueDec,toASN:t=>new a2({value:t})},Ar={fromASN:t=>t.valueBlock.valueHexView,toASN:t=>new Ch({valueHex:t})},pQt={fromASN:t=>t.valueBlock.valueHexView,toASN:t=>new Jd({valueHex:t})},fQt={fromASN:t=>t.valueBlock.toString(),toASN:t=>new c2({value:t})},mQt={fromASN:t=>t.valueBlock.value,toASN:t=>new s2({value:t})},l4={fromASN:t=>t.valueBlock.valueHexView,toASN:t=>new qd({valueHex:t})},wtt={fromASN:t=>new Lt(t.getValue()),toASN:t=>t.toASN()};Wpe=Gu(Hu),hQt=Gu(l2),gQt=Gu(u2),yQt=Gu(d2),bQt=Gu(p2),vQt=Gu(f2),_Qt=Gu(m2),xQt=Gu(h2),SQt=Gu(g2),wQt=Gu(S1),AQt=Gu(y2),EQt=Gu(b2),TQt={fromASN:t=>t.toDate(),toASN:t=>new w1({valueDate:t})},RQt={fromASN:t=>t.toDate(),toASN:t=>new v2({valueDate:t})},IQt={fromASN:()=>null,toASN:()=>new jd}});function ju(t){return typeof t=="function"&&t.prototype?t.prototype.toASN&&t.prototype.fromASN?!0:ju(t.prototype):!!(t&&typeof t=="object"&&"toASN"in t&&"fromASN"in t)}function Qpe(t){var e;if(t){let r=Object.getPrototypeOf(t);return((e=r?.prototype)===null||e===void 0?void 0:e.constructor)===Array?!0:Qpe(r)}return!1}function Att(t,e){if(!(t&&e)||t.byteLength!==e.byteLength)return!1;let r=new Uint8Array(t),n=new Uint8Array(e);for(let i=0;i<t.byteLength;i++)if(r[i]!==n[i])return!1;return!0}var dU=y(()=>{"use strict"});var pU,Ett=y(()=>{"use strict";A1();x2();dU();pU=class{constructor(){this.items=new WeakMap}has(e){return this.items.has(e)}get(e,r=!1){let n=this.items.get(e);if(!n)throw new Error(`Cannot get schema for '${e.prototype.constructor.name}' target`);if(r&&!n.schema)throw new Error(`Schema '${e.prototype.constructor.name}' doesn't contain ASN.1 schema. Call 'AsnSchemaStorage.cache'.`);return n}cache(e){let r=this.get(e);r.schema||(r.schema=this.create(e,!0))}createDefault(e){let r={type:ue.Sequence,items:{}},n=this.findParentSchema(e);return n&&(Object.assign(r,n),r.items=Object.assign({},r.items,n.items)),r}create(e,r){let n=this.items.get(e)||this.createDefault(e),i=[];for(let o in n.items){let s=n.items[o],a=r?o:"",c;if(typeof s.type=="number"){let u=Z[s.type],d=Cf[u];if(!d)throw new Error(`Cannot get ASN1 class by name '${u}'`);c=new d({name:a})}else ju(s.type)?c=new s.type().toSchema(a):s.optional?this.get(s.type).type===ue.Choice?c=new Tf({name:a}):(c=this.create(s.type,!1),c.name=a):c=new Tf({name:a});let l=!!s.optional||s.defaultValue!==void 0;if(s.repeated){c.name="";let u=s.repeated==="set"?Ra:Ks;c=new u({name:"",value:[new _2({name:a,value:c})]})}if(s.context!==null&&s.context!==void 0)if(s.implicit)if(typeof s.type=="number"||ju(s.type)){let u=s.repeated?_o:Ih;i.push(new u({name:a,optional:l,idBlock:{tagClass:3,tagNumber:s.context}}))}else{this.cache(s.type);let u=!!s.repeated,d=u?c:this.get(s.type,!0).schema;d="valueBlock"in d?d.valueBlock.value:d.value,i.push(new _o({name:u?"":a,optional:l,idBlock:{tagClass:3,tagNumber:s.context},value:d}))}else i.push(new _o({optional:l,idBlock:{tagClass:3,tagNumber:s.context},value:[c]}));else c.optional=l,i.push(c)}switch(n.type){case ue.Sequence:return new Ks({value:i,name:""});case ue.Set:return new Ra({value:i,name:""});case ue.Choice:return new a4({value:i,name:""});default:throw new Error("Unsupported ASN1 type in use")}}set(e,r){return this.items.set(e,r),this}findParentSchema(e){let r=Object.getPrototypeOf(e);return r?this.items.get(r)||this.findParentSchema(r):null}}});var xo,fU=y(()=>{"use strict";Ett();xo=new pU});var ge,F,Ttt=y(()=>{"use strict";mC();x2();fU();ge=t=>e=>{let r;xo.has(e)?r=xo.get(e):(r=xo.createDefault(e),xo.set(e,r)),Object.assign(r,t)},F=t=>(e,r)=>{let n;xo.has(e.constructor)?n=xo.get(e.constructor):(n=xo.createDefault(e.constructor),xo.set(e.constructor,n));let i=Object.assign({},t);if(typeof i.type=="number"&&!i.converter){let o=E1(t.type);if(!o)throw new Error(`Cannot get default converter for property '${r}' of ${e.constructor.name}`);i.converter=o}i.raw=t.raw,n.items[r]=i}});var T1,Rtt=y(()=>{"use strict";T1=class extends Error{constructor(){super(...arguments),this.schemas=[]}}});var Xpe=y(()=>{"use strict";Rtt()});var hC,Ype=y(()=>{"use strict";A1();x2();mC();Xpe();dU();fU();hC=class{static parse(e,r){let n=Oh(e);if(n.result.error)throw new Error(n.result.error);return this.fromASN(n.result,r)}static fromASN(e,r){try{if(ju(r))return new r().fromASN(e);let n=xo.get(r);xo.cache(r);let i=n.schema,o=this.handleChoiceTypes(e,n,r,i);if(o?.result)return o.result;o?.targetSchema&&(i=o.targetSchema);let s=this.handleSequenceTypes(e,n,r,i),a=new r;return Qpe(r)?this.handleArrayTypes(e,n,r):(this.processSchemaItems(n,s,a),a)}catch(n){throw n instanceof T1&&n.schemas.push(r.name),n}}static handleChoiceTypes(e,r,n,i){if(e.constructor===_o&&r.type===ue.Choice&&e.idBlock.tagClass===3)for(let o in r.items){let s=r.items[o];if(s.context===e.idBlock.tagNumber&&s.implicit&&typeof s.type=="function"&&xo.has(s.type)){let a=xo.get(s.type);if(a&&a.type===ue.Sequence){let c=new Ks;if("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)&&"value"in c.valueBlock){c.valueBlock.value=e.valueBlock.value;let l=this.fromASN(c,s.type),u=new n;return u[o]=l,{result:u}}}}}else if(e.constructor===_o&&r.type!==ue.Choice){let o=new _o({idBlock:{tagClass:3,tagNumber:e.idBlock.tagNumber},value:r.schema.valueBlock.value});for(let s in r.items)delete e[s];return{targetSchema:o}}return null}static handleSequenceTypes(e,r,n,i){if(r.type===ue.Sequence){let o=Th({},e,i);if(!o.verified)throw new T1(`Data does not match to ${n.name} ASN1 schema.${o.result.error?` ${o.result.error}`:""}`);return o}else{let o=Th({},e,i);if(!o.verified)throw new T1(`Data does not match to ${n.name} ASN1 schema.${o.result.error?` ${o.result.error}`:""}`);return o}}static processRepeatedField(e,r,n){let i=e.slice(r);if(i.length===1&&i[0].constructor.name==="Sequence"){let o=i[0];o.valueBlock&&o.valueBlock.value&&Array.isArray(o.valueBlock.value)&&(i=o.valueBlock.value)}if(typeof n.type=="number"){let o=E1(n.type);if(!o)throw new Error(`No converter for ASN.1 type ${n.type}`);return i.filter(s=>s&&s.valueBlock).map(s=>{try{return o.fromASN(s)}catch{return}}).filter(s=>s!==void 0)}else return i.filter(o=>o&&o.valueBlock).map(o=>{try{return this.fromASN(o,n.type)}catch{return}}).filter(o=>o!==void 0)}static processPrimitiveField(e,r){let n=E1(r.type);if(!n)throw new Error(`No converter for ASN.1 type ${r.type}`);return n.fromASN(e)}static isOptionalChoiceField(e){return e.optional&&typeof e.type=="function"&&xo.has(e.type)&&xo.get(e.type).type===ue.Choice}static processOptionalChoiceField(e,r){try{return{processed:!0,value:this.fromASN(e,r.type)}}catch(n){if(n instanceof T1&&/Wrong values for Choice type/.test(n.message))return{processed:!1};throw n}}static handleArrayTypes(e,r,n){if(!("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");let i=r.itemType;if(typeof i=="number"){let o=E1(i);if(!o)throw new Error(`Cannot get default converter for array item of ${n.name} ASN1 schema`);return n.from(e.valueBlock.value,s=>o.fromASN(s))}else return n.from(e.valueBlock.value,o=>this.fromASN(o,i))}static processSchemaItems(e,r,n){for(let i in e.items){let o=r.result[i];if(!o)continue;let s=e.items[i],a=s.type,c;typeof a=="number"||ju(a)?c=this.processPrimitiveSchemaItem(o,s,a):c=this.processComplexSchemaItem(o,s,a),c&&typeof c=="object"&&"value"in c&&"raw"in c?(n[i]=c.value,n[`${i}Raw`]=c.raw):n[i]=c}}static processPrimitiveSchemaItem(e,r,n){var i;let o=(i=r.converter)!==null&&i!==void 0?i:ju(n)?new n:null;if(!o)throw new Error("Converter is empty");return r.repeated?this.processRepeatedPrimitiveItem(e,r,o):this.processSinglePrimitiveItem(e,r,n,o)}static processRepeatedPrimitiveItem(e,r,n){if(r.implicit){let i=r.repeated==="sequence"?Ks:Ra,o=new i;o.valueBlock=e.valueBlock;let s=Oh(o.toBER(!1));if(s.offset===-1)throw new Error(`Cannot parse the child item. ${s.result.error}`);if(!("value"in s.result.valueBlock&&Array.isArray(s.result.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");let a=s.result.valueBlock.value;return Array.from(a,c=>n.fromASN(c))}else return Array.from(e,i=>n.fromASN(i))}static processSinglePrimitiveItem(e,r,n,i){let o=e;if(r.implicit){let s;if(ju(n))s=new n().toSchema("");else{let a=Z[n],c=Cf[a];if(!c)throw new Error(`Cannot get '${a}' class from asn1js module`);s=new c}s.valueBlock=o.valueBlock,o=Oh(s.toBER(!1)).result}return i.fromASN(o)}static processComplexSchemaItem(e,r,n){if(r.repeated){if(!Array.isArray(e))throw new Error("Cannot get list of items from the ASN.1 parsed value. ASN.1 value should be iterable.");return Array.from(e,i=>this.fromASN(i,n))}else{let i=this.handleImplicitTagging(e,r,n);if(this.isOptionalChoiceField(r))try{return this.fromASN(i,n)}catch(o){if(o instanceof T1&&/Wrong values for Choice type/.test(o.message))return;throw o}else{let o=this.fromASN(i,n);return r.raw?{value:o,raw:e.valueBeforeDecodeView}:o}}}static handleImplicitTagging(e,r,n){if(r.implicit&&typeof r.context=="number"){let i=xo.get(n);if(i.type===ue.Sequence){let o=new Ks;if("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)&&"value"in o.valueBlock)return o.valueBlock.value=e.valueBlock.value,o}else if(i.type===ue.Set){let o=new Ra;if("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)&&"value"in o.valueBlock)return o.valueBlock.value=e.valueBlock.value,o}}return e}}});var gC,Zpe=y(()=>{"use strict";A1();mC();x2();dU();fU();gC=class t{static serialize(e){return e instanceof vo?e.toBER(!1):this.toASN(e).toBER(!1)}static toASN(e){if(e&&typeof e=="object"&&ju(e))return e.toASN();if(!(e&&typeof e=="object"))throw new TypeError("Parameter 1 should be type of Object.");let r=e.constructor,n=xo.get(r);xo.cache(r);let i=[];if(n.itemType){if(!Array.isArray(e))throw new TypeError("Parameter 1 should be type of Array.");if(typeof n.itemType=="number"){let s=E1(n.itemType);if(!s)throw new Error(`Cannot get default converter for array item of ${r.name} ASN1 schema`);i=e.map(a=>s.toASN(a))}else i=e.map(s=>this.toAsnItem({type:n.itemType},"[]",r,s))}else for(let s in n.items){let a=n.items[s],c=e[s];if(c===void 0||a.defaultValue===c||typeof a.defaultValue=="object"&&typeof c=="object"&&Att(this.serialize(a.defaultValue),this.serialize(c)))continue;let l=t.toAsnItem(a,s,r,c);if(typeof a.context=="number")if(a.implicit)if(!a.repeated&&(typeof a.type=="number"||ju(a.type))){let u={};u.valueHex=l instanceof jd?l.valueBeforeDecodeView:l.valueBlock.toBER(),i.push(new Ih({optional:a.optional,idBlock:{tagClass:3,tagNumber:a.context},...u}))}else i.push(new _o({optional:a.optional,idBlock:{tagClass:3,tagNumber:a.context},value:l.valueBlock.value}));else i.push(new _o({optional:a.optional,idBlock:{tagClass:3,tagNumber:a.context},value:[l]}));else a.repeated?i=i.concat(l):i.push(l)}let o;switch(n.type){case ue.Sequence:o=new Ks({value:i});break;case ue.Set:o=new Ra({value:i});break;case ue.Choice:if(!i[0])throw new Error(`Schema '${r.name}' has wrong data. Choice cannot be empty.`);o=i[0];break}return o}static toAsnItem(e,r,n,i){let o;if(typeof e.type=="number"){let s=e.converter;if(!s)throw new Error(`Property '${r}' doesn't have converter for type ${Z[e.type]} in schema '${n.name}'`);if(e.repeated){if(!Array.isArray(i))throw new TypeError("Parameter 'objProp' should be type of Array.");let a=Array.from(i,l=>s.toASN(l)),c=e.repeated==="sequence"?Ks:Ra;o=new c({value:a})}else o=s.toASN(i)}else if(e.repeated){if(!Array.isArray(i))throw new TypeError("Parameter 'objProp' should be type of Array.");let s=Array.from(i,c=>this.toASN(c)),a=e.repeated==="sequence"?Ks:Ra;o=new a({value:s})}else o=this.toASN(i);return o}}});var Nt,Itt=y(()=>{"use strict";Nt=class extends Array{constructor(e=[]){if(typeof e=="number")super(e);else{super();for(let r of e)this.push(r)}}}});var dt,Ctt=y(()=>{"use strict";A1();Eh();Ype();Zpe();dt=class t{static serialize(e){return gC.serialize(e)}static parse(e,r){return hC.parse(e,r)}static toString(e){let r=ct.isBufferSource(e)?ct.toArrayBuffer(e):t.serialize(e),n=Oh(r);if(n.offset===-1)throw new Error(`Cannot decode ASN.1 data. ${n.result.error}`);return n.result.toString()}}});var De=y(()=>{"use strict";mC();Jpe();Ttt();x2();Ype();Zpe();Xpe();Itt();Ctt()});function P(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o}var Be=y(()=>{"use strict"});var yC,Ntt=y(()=>{"use strict";Eh();yC=class{static isIPv4(e){return/^(\d{1,3}\.){3}\d{1,3}$/.test(e)}static parseIPv4(e){let r=e.split(".");if(r.length!==4)throw new Error("Invalid IPv4 address");return r.map(n=>{let i=parseInt(n,10);if(isNaN(i)||i<0||i>255)throw new Error("Invalid IPv4 address part");return i})}static parseIPv6(e){let n=this.expandIPv6(e).split(":");if(n.length!==8)throw new Error("Invalid IPv6 address");return n.reduce((i,o)=>{let s=parseInt(o,16);if(isNaN(s)||s<0||s>65535)throw new Error("Invalid IPv6 address part");return i.push(s>>8&255),i.push(s&255),i},[])}static expandIPv6(e){if(!e.includes("::"))return e;let r=e.split("::");if(r.length>2)throw new Error("Invalid IPv6 address");let n=r[0]?r[0].split(":"):[],i=r[1]?r[1].split(":"):[],o=8-(n.length+i.length);if(o<0)throw new Error("Invalid IPv6 address");return[...n,...Array(o).fill("0"),...i].join(":")}static formatIPv6(e){let r=[];for(let n=0;n<16;n+=2)r.push((e[n]<<8|e[n+1]).toString(16));return this.compressIPv6(r.join(":"))}static compressIPv6(e){let r=e.split(":"),n=-1,i=0,o=-1,s=0;for(let a=0;a<r.length;a++)r[a]==="0"?(o===-1&&(o=a),s++):(s>i&&(n=o,i=s),o=-1,s=0);if(s>i&&(n=o,i=s),i>1){let a=r.slice(0,n).join(":"),c=r.slice(n+i).join(":");return`${a}::${c}`}return e}static parseCIDR(e){let[r,n]=e.split("/"),i=parseInt(n,10);if(this.isIPv4(r)){if(i<0||i>32)throw new Error("Invalid IPv4 prefix length");return[this.parseIPv4(r),i]}else{if(i<0||i>128)throw new Error("Invalid IPv6 prefix length");return[this.parseIPv6(r),i]}}static decodeIP(e){if(e.length===64&&parseInt(e,16)===0)return"::/0";if(e.length!==16)return e;let r=parseInt(e.slice(8),16).toString(2).split("").reduce((i,o)=>i+ +o,0),n=e.slice(0,8).replace(/(.{2})/g,i=>`${parseInt(i,16)}.`);return n=n.slice(0,-1),`${n}/${r}`}static toString(e){let r=new Uint8Array(e);if(r.length===4)return Array.from(r).join(".");if(r.length===16)return this.formatIPv6(r);if(r.length===8||r.length===32){let n=r.length/2,i=r.slice(0,n),o=r.slice(n);if(r.every(c=>c===0))return r.length===8?"0.0.0.0/0":"::/0";let a=o.reduce((c,l)=>c+(l.toString(2).match(/1/g)||[]).length,0);return r.length===8?`${Array.from(i).join(".")}/${a}`:`${this.formatIPv6(i)}/${a}`}return this.decodeIP(Tt.ToHex(e))}static fromString(e){if(e.includes("/")){let[n,i]=this.parseCIDR(e),o=new Uint8Array(n.length),s=i;for(let c=0;c<o.length;c++)s>=8?(o[c]=255,s-=8):s>0&&(o[c]=255<<8-s,s=0);let a=new Uint8Array(n.length*2);return a.set(n,0),a.set(o,n.length),a.buffer}let r=this.isIPv4(e)?this.parseIPv4(e):this.parseIPv6(e);return new Uint8Array(r).buffer}}});var efe,tfe,rfe,So,u4,S2,R1,nfe,Vn,d4=y(()=>{"use strict";Be();De();Eh();So=class{constructor(e={}){Object.assign(this,e)}toString(){return this.bmpString||this.printableString||this.teletexString||this.universalString||this.utf8String||""}};P([F({type:Z.TeletexString})],So.prototype,"teletexString",void 0);P([F({type:Z.PrintableString})],So.prototype,"printableString",void 0);P([F({type:Z.UniversalString})],So.prototype,"universalString",void 0);P([F({type:Z.Utf8String})],So.prototype,"utf8String",void 0);P([F({type:Z.BmpString})],So.prototype,"bmpString",void 0);So=P([ge({type:ue.Choice})],So);u4=class extends So{constructor(e={}){super(e),Object.assign(this,e)}toString(){return this.ia5String||(this.anyValue?Tt.ToHex(this.anyValue):super.toString())}};P([F({type:Z.IA5String})],u4.prototype,"ia5String",void 0);P([F({type:Z.Any})],u4.prototype,"anyValue",void 0);u4=P([ge({type:ue.Choice})],u4);S2=class{constructor(e={}){this.type="",this.value=new u4,Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],S2.prototype,"type",void 0);P([F({type:u4})],S2.prototype,"value",void 0);R1=efe=class extends Nt{constructor(e){super(e),Object.setPrototypeOf(this,efe.prototype)}};R1=efe=P([ge({type:ue.Set,itemType:S2})],R1);nfe=tfe=class extends Nt{constructor(e){super(e),Object.setPrototypeOf(this,tfe.prototype)}};nfe=tfe=P([ge({type:ue.Sequence,itemType:R1})],nfe);Vn=rfe=class extends nfe{constructor(e){super(e),Object.setPrototypeOf(this,rfe.prototype)}};Vn=rfe=P([ge({type:ue.Sequence})],Vn)});var CQt,I1,bC,Ht,w2=y(()=>{"use strict";Be();De();Ntt();d4();CQt={fromASN:t=>yC.toString(l4.fromASN(t)),toASN:t=>l4.toASN(yC.fromString(t))},I1=class{constructor(e={}){this.typeId="",this.value=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],I1.prototype,"typeId",void 0);P([F({type:Z.Any,context:0})],I1.prototype,"value",void 0);bC=class{constructor(e={}){this.partyName=new So,Object.assign(this,e)}};P([F({type:So,optional:!0,context:0,implicit:!0})],bC.prototype,"nameAssigner",void 0);P([F({type:So,context:1,implicit:!0})],bC.prototype,"partyName",void 0);Ht=class{constructor(e={}){Object.assign(this,e)}};P([F({type:I1,context:0,implicit:!0})],Ht.prototype,"otherName",void 0);P([F({type:Z.IA5String,context:1,implicit:!0})],Ht.prototype,"rfc822Name",void 0);P([F({type:Z.IA5String,context:2,implicit:!0})],Ht.prototype,"dNSName",void 0);P([F({type:Z.Any,context:3,implicit:!0})],Ht.prototype,"x400Address",void 0);P([F({type:Vn,context:4,implicit:!1})],Ht.prototype,"directoryName",void 0);P([F({type:bC,context:5})],Ht.prototype,"ediPartyName",void 0);P([F({type:Z.IA5String,context:6,implicit:!0})],Ht.prototype,"uniformResourceIdentifier",void 0);P([F({type:Z.OctetString,context:7,implicit:!0,converter:CQt})],Ht.prototype,"iPAddress",void 0);P([F({type:Z.ObjectIdentifier,context:8,implicit:!0})],Ht.prototype,"registeredID",void 0);Ht=P([ge({type:ue.Choice})],Ht)});var C1,N1,Ott,A2,mU,W8n,K8n,ife,ofe,sfe,afe,or,Hn=y(()=>{"use strict";C1="1.3.6.1.5.5.7",N1=`${C1}.1`,Ott=`${C1}.2`,A2=`${C1}.3`,mU=`${C1}.48`,W8n=`${Ott}.1`,K8n=`${Ott}.2`,ife=`${mU}.1`,ofe=`${mU}.2`,sfe=`${mU}.3`,afe=`${mU}.5`,or="2.5.29"});var cfe,hU,Ph,E2,lfe=y(()=>{"use strict";Be();De();w2();Hn();hU=`${N1}.1`,Ph=class{constructor(e={}){this.accessMethod="",this.accessLocation=new Ht,Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],Ph.prototype,"accessMethod",void 0);P([F({type:Ht})],Ph.prototype,"accessLocation",void 0);E2=cfe=class extends Nt{constructor(e){super(e),Object.setPrototypeOf(this,cfe.prototype)}};E2=cfe=P([ge({type:ue.Sequence,itemType:Ph})],E2)});var gU,T2,Of,ufe=y(()=>{"use strict";Be();De();w2();Hn();gU=`${or}.35`,T2=class extends Lt{},Of=class{constructor(e={}){e&&Object.assign(this,e)}};P([F({type:T2,context:0,optional:!0,implicit:!0})],Of.prototype,"keyIdentifier",void 0);P([F({type:Ht,context:1,optional:!0,implicit:!0,repeated:"sequence"})],Of.prototype,"authorityCertIssuer",void 0);P([F({type:Z.Integer,context:2,optional:!0,implicit:!0,converter:Ar})],Of.prototype,"authorityCertSerialNumber",void 0)});var yU,R2,Ptt=y(()=>{"use strict";Be();De();Hn();yU=`${or}.19`,R2=class{constructor(e={}){this.cA=!1,Object.assign(this,e)}};P([F({type:Z.Boolean,defaultValue:!1})],R2.prototype,"cA",void 0);P([F({type:Z.Integer,optional:!0})],R2.prototype,"pathLenConstraint",void 0)});var dfe,li,vC=y(()=>{"use strict";Be();De();w2();De();li=dfe=class extends Nt{constructor(e){super(e),Object.setPrototypeOf(this,dfe.prototype)}};li=dfe=P([ge({type:ue.Sequence,itemType:Ht})],li)});var pfe,NQt,ktt,Dtt=y(()=>{"use strict";Be();De();vC();Hn();NQt=`${or}.29`,ktt=pfe=class extends li{constructor(e){super(e),Object.setPrototypeOf(this,pfe.prototype)}};ktt=pfe=P([ge({type:ue.Sequence})],ktt)});var ffe,vU,RIn,kh,_C,xC,bU,SC,I2,wC,Mtt=y(()=>{"use strict";Be();De();Hn();vU=`${or}.32`,RIn=`${vU}.0`,kh=class{constructor(e={}){Object.assign(this,e)}toString(){return this.ia5String||this.visibleString||this.bmpString||this.utf8String||""}};P([F({type:Z.IA5String})],kh.prototype,"ia5String",void 0);P([F({type:Z.VisibleString})],kh.prototype,"visibleString",void 0);P([F({type:Z.BmpString})],kh.prototype,"bmpString",void 0);P([F({type:Z.Utf8String})],kh.prototype,"utf8String",void 0);kh=P([ge({type:ue.Choice})],kh);_C=class{constructor(e={}){this.organization=new kh,this.noticeNumbers=[],Object.assign(this,e)}};P([F({type:kh})],_C.prototype,"organization",void 0);P([F({type:Z.Integer,repeated:"sequence"})],_C.prototype,"noticeNumbers",void 0);xC=class{constructor(e={}){Object.assign(this,e)}};P([F({type:_C,optional:!0})],xC.prototype,"noticeRef",void 0);P([F({type:kh,optional:!0})],xC.prototype,"explicitText",void 0);bU=class{constructor(e={}){Object.assign(this,e)}};P([F({type:Z.IA5String})],bU.prototype,"cPSuri",void 0);P([F({type:xC})],bU.prototype,"userNotice",void 0);bU=P([ge({type:ue.Choice})],bU);SC=class{constructor(e={}){this.policyQualifierId="",this.qualifier=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],SC.prototype,"policyQualifierId",void 0);P([F({type:Z.Any})],SC.prototype,"qualifier",void 0);I2=class{constructor(e={}){this.policyIdentifier="",Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],I2.prototype,"policyIdentifier",void 0);P([F({type:SC,repeated:"sequence",optional:!0})],I2.prototype,"policyQualifiers",void 0);wC=ffe=class extends Nt{constructor(e){super(e),Object.setPrototypeOf(this,ffe.prototype)}};wC=ffe=P([ge({type:ue.Sequence,itemType:I2})],wC)});var MIn,AC,mfe=y(()=>{"use strict";Be();De();Hn();MIn=`${or}.20`,AC=class{constructor(e=0){this.value=e}};P([F({type:Z.Integer})],AC.prototype,"value",void 0);AC=P([ge({type:ue.Choice})],AC)});var VIn,Ltt,Btt=y(()=>{"use strict";Be();De();Hn();mfe();VIn=`${or}.27`,Ltt=class extends AC{};Ltt=P([ge({type:ue.Choice})],Ltt)});var hfe,_U,Wd,EC,Dh,Pf,O1,xU=y(()=>{"use strict";Be();De();d4();w2();Hn();_U=`${or}.31`;(function(t){t[t.unused=1]="unused",t[t.keyCompromise=2]="keyCompromise",t[t.cACompromise=4]="cACompromise",t[t.affiliationChanged=8]="affiliationChanged",t[t.superseded=16]="superseded",t[t.cessationOfOperation=32]="cessationOfOperation",t[t.certificateHold=64]="certificateHold",t[t.privilegeWithdrawn=128]="privilegeWithdrawn",t[t.aACompromise=256]="aACompromise"})(Wd||(Wd={}));EC=class extends Nf{toJSON(){let e=[],r=this.toNumber();return r&Wd.aACompromise&&e.push("aACompromise"),r&Wd.affiliationChanged&&e.push("affiliationChanged"),r&Wd.cACompromise&&e.push("cACompromise"),r&Wd.certificateHold&&e.push("certificateHold"),r&Wd.cessationOfOperation&&e.push("cessationOfOperation"),r&Wd.keyCompromise&&e.push("keyCompromise"),r&Wd.privilegeWithdrawn&&e.push("privilegeWithdrawn"),r&Wd.superseded&&e.push("superseded"),r&Wd.unused&&e.push("unused"),e}toString(){return`[${this.toJSON().join(", ")}]`}},Dh=class{constructor(e={}){Object.assign(this,e)}};P([F({type:Ht,context:0,repeated:"sequence",implicit:!0})],Dh.prototype,"fullName",void 0);P([F({type:R1,context:1,implicit:!0})],Dh.prototype,"nameRelativeToCRLIssuer",void 0);Dh=P([ge({type:ue.Choice})],Dh);Pf=class{constructor(e={}){Object.assign(this,e)}};P([F({type:Dh,context:0,optional:!0})],Pf.prototype,"distributionPoint",void 0);P([F({type:EC,context:1,optional:!0,implicit:!0})],Pf.prototype,"reasons",void 0);P([F({type:Ht,context:2,optional:!0,repeated:"sequence",implicit:!0})],Pf.prototype,"cRLIssuer",void 0);O1=hfe=class extends Nt{constructor(e){super(e),Object.setPrototypeOf(this,hfe.prototype)}};O1=hfe=P([ge({type:ue.Sequence,itemType:Pf})],O1)});var gfe,nCn,$tt,Utt=y(()=>{"use strict";Be();De();Hn();xU();nCn=`${or}.46`,$tt=gfe=class extends O1{constructor(e){super(e),Object.setPrototypeOf(this,gfe.prototype)}};$tt=gfe=P([ge({type:ue.Sequence,itemType:Pf})],$tt)});var dCn,ll,Ftt=y(()=>{"use strict";Be();De();xU();Hn();De();dCn=`${or}.28`,ll=class t{constructor(e={}){this.onlyContainsUserCerts=t.ONLY,this.onlyContainsCACerts=t.ONLY,this.indirectCRL=t.ONLY,this.onlyContainsAttributeCerts=t.ONLY,Object.assign(this,e)}};ll.ONLY=!1;P([F({type:Dh,context:0,optional:!0})],ll.prototype,"distributionPoint",void 0);P([F({type:Z.Boolean,context:1,defaultValue:ll.ONLY,implicit:!0})],ll.prototype,"onlyContainsUserCerts",void 0);P([F({type:Z.Boolean,context:2,defaultValue:ll.ONLY,implicit:!0})],ll.prototype,"onlyContainsCACerts",void 0);P([F({type:EC,context:3,optional:!0,implicit:!0})],ll.prototype,"onlySomeReasons",void 0);P([F({type:Z.Boolean,context:4,defaultValue:ll.ONLY,implicit:!0})],ll.prototype,"indirectCRL",void 0);P([F({type:Z.Boolean,context:5,defaultValue:ll.ONLY,implicit:!0})],ll.prototype,"onlyContainsAttributeCerts",void 0)});var ztt,TC,RC,Vtt=y(()=>{"use strict";Be();De();Hn();ztt=`${or}.21`;(function(t){t[t.unspecified=0]="unspecified",t[t.keyCompromise=1]="keyCompromise",t[t.cACompromise=2]="cACompromise",t[t.affiliationChanged=3]="affiliationChanged",t[t.superseded=4]="superseded",t[t.cessationOfOperation=5]="cessationOfOperation",t[t.certificateHold=6]="certificateHold",t[t.removeFromCRL=8]="removeFromCRL",t[t.privilegeWithdrawn=9]="privilegeWithdrawn",t[t.aACompromise=10]="aACompromise"})(TC||(TC={}));RC=class{constructor(e=TC.unspecified){this.reason=TC.unspecified,this.reason=e}toJSON(){return TC[this.reason]}toString(){return this.toJSON()}};P([F({type:Z.Enumerated})],RC.prototype,"reason",void 0);RC=P([ge({type:ue.Choice})],RC)});var yfe,SU,IC,SCn,Htt,Gtt,jtt,qtt,Jtt,Wtt,Ktt=y(()=>{"use strict";Be();De();Hn();SU=`${or}.37`,IC=yfe=class extends Nt{constructor(e){super(e),Object.setPrototypeOf(this,yfe.prototype)}};IC=yfe=P([ge({type:ue.Sequence,itemType:Z.ObjectIdentifier})],IC);SCn=`${SU}.0`,Htt=`${A2}.1`,Gtt=`${A2}.2`,jtt=`${A2}.3`,qtt=`${A2}.4`,Jtt=`${A2}.8`,Wtt=`${A2}.9`});var RCn,bfe,Qtt=y(()=>{"use strict";Be();De();Hn();RCn=`${or}.54`,bfe=class{constructor(e=new ArrayBuffer(0)){this.value=e}};P([F({type:Z.Integer,converter:Ar})],bfe.prototype,"value",void 0);bfe=P([ge({type:ue.Choice})],bfe)});var Xtt,CC,Ytt=y(()=>{"use strict";Be();De();Hn();Xtt=`${or}.24`,CC=class{constructor(e){this.value=new Date,e&&(this.value=e)}};P([F({type:Z.GeneralizedTime})],CC.prototype,"value",void 0);CC=P([ge({type:ue.Choice})],CC)});var vfe,UCn,Ztt,ert=y(()=>{"use strict";Be();De();vC();Hn();UCn=`${or}.18`,Ztt=vfe=class extends li{constructor(e){super(e),Object.setPrototypeOf(this,vfe.prototype)}};Ztt=vfe=P([ge({type:ue.Sequence})],Ztt)});var wU,Kd,p4,trt=y(()=>{"use strict";De();Hn();wU=`${or}.15`;(function(t){t[t.digitalSignature=1]="digitalSignature",t[t.nonRepudiation=2]="nonRepudiation",t[t.keyEncipherment=4]="keyEncipherment",t[t.dataEncipherment=8]="dataEncipherment",t[t.keyAgreement=16]="keyAgreement",t[t.keyCertSign=32]="keyCertSign",t[t.cRLSign=64]="cRLSign",t[t.encipherOnly=128]="encipherOnly",t[t.decipherOnly=256]="decipherOnly"})(Kd||(Kd={}));p4=class extends Nf{toJSON(){let e=this.toNumber(),r=[];return e&Kd.cRLSign&&r.push("crlSign"),e&Kd.dataEncipherment&&r.push("dataEncipherment"),e&Kd.decipherOnly&&r.push("decipherOnly"),e&Kd.digitalSignature&&r.push("digitalSignature"),e&Kd.encipherOnly&&r.push("encipherOnly"),e&Kd.keyAgreement&&r.push("keyAgreement"),e&Kd.keyCertSign&&r.push("keyCertSign"),e&Kd.keyEncipherment&&r.push("keyEncipherment"),e&Kd.nonRepudiation&&r.push("nonRepudiation"),r}toString(){return`[${this.toJSON().join(", ")}]`}}});var _fe,KCn,f4,AU,EU,rrt=y(()=>{"use strict";Be();De();w2();Hn();KCn=`${or}.30`,f4=class{constructor(e={}){this.base=new Ht,this.minimum=0,Object.assign(this,e)}};P([F({type:Ht})],f4.prototype,"base",void 0);P([F({type:Z.Integer,context:0,defaultValue:0,implicit:!0})],f4.prototype,"minimum",void 0);P([F({type:Z.Integer,context:1,optional:!0,implicit:!0})],f4.prototype,"maximum",void 0);AU=_fe=class extends Nt{constructor(e){super(e),Object.setPrototypeOf(this,_fe.prototype)}};AU=_fe=P([ge({type:ue.Sequence,itemType:f4})],AU);EU=class{constructor(e={}){Object.assign(this,e)}};P([F({type:AU,context:0,optional:!0,implicit:!0})],EU.prototype,"permittedSubtrees",void 0);P([F({type:AU,context:1,optional:!0,implicit:!0})],EU.prototype,"excludedSubtrees",void 0)});var t9n,TU,nrt=y(()=>{"use strict";Be();De();Hn();t9n=`${or}.36`,TU=class{constructor(e={}){Object.assign(this,e)}};P([F({type:Z.Integer,context:0,implicit:!0,optional:!0,converter:Ar})],TU.prototype,"requireExplicitPolicy",void 0);P([F({type:Z.Integer,context:1,implicit:!0,optional:!0,converter:Ar})],TU.prototype,"inhibitPolicyMapping",void 0)});var xfe,s9n,NC,irt,ort=y(()=>{"use strict";Be();De();Hn();s9n=`${or}.33`,NC=class{constructor(e={}){this.issuerDomainPolicy="",this.subjectDomainPolicy="",Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],NC.prototype,"issuerDomainPolicy",void 0);P([F({type:Z.ObjectIdentifier})],NC.prototype,"subjectDomainPolicy",void 0);irt=xfe=class extends Nt{constructor(e){super(e),Object.setPrototypeOf(this,xfe.prototype)}};irt=xfe=P([ge({type:ue.Sequence,itemType:NC})],irt)});var Sfe,wfe,RU,srt=y(()=>{"use strict";Be();De();vC();Hn();wfe=`${or}.17`,RU=Sfe=class extends li{constructor(e){super(e),Object.setPrototypeOf(this,Sfe.prototype)}};RU=Sfe=P([ge({type:ue.Sequence})],RU)});var ys,Afe=y(()=>{"use strict";Be();De();ys=class{constructor(e={}){this.type="",this.values=[],Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],ys.prototype,"type",void 0);P([F({type:Z.Any,repeated:"set"})],ys.prototype,"values",void 0)});var Efe,S9n,art,crt=y(()=>{"use strict";Be();De();Afe();Hn();S9n=`${or}.9`,art=Efe=class extends Nt{constructor(e){super(e),Object.setPrototypeOf(this,Efe.prototype)}};art=Efe=P([ge({type:ue.Sequence,itemType:ys})],art)});var Tfe,Sc,lrt=y(()=>{"use strict";Hn();ufe();Tfe=`${or}.14`,Sc=class extends T2{}});var O9n,IU,urt=y(()=>{"use strict";Be();De();Hn();O9n=`${or}.16`,IU=class{constructor(e={}){Object.assign(this,e)}};P([F({type:Z.GeneralizedTime,context:0,implicit:!0,optional:!0})],IU.prototype,"notBefore",void 0);P([F({type:Z.GeneralizedTime,context:1,implicit:!0,optional:!0})],IU.prototype,"notAfter",void 0)});var OC,CU,NU,drt=y(()=>{"use strict";Be();De();(function(t){t[t.keyUpdateAllowed=1]="keyUpdateAllowed",t[t.newExtensions=2]="newExtensions",t[t.pKIXCertificate=4]="pKIXCertificate"})(OC||(OC={}));CU=class extends Nf{toJSON(){let e=[],r=this.toNumber();return r&OC.pKIXCertificate&&e.push("pKIXCertificate"),r&OC.newExtensions&&e.push("newExtensions"),r&OC.keyUpdateAllowed&&e.push("keyUpdateAllowed"),e}toString(){return`[${this.toJSON().join(", ")}]`}},NU=class{constructor(e={}){this.entrustVers="",this.entrustInfoFlags=new CU,Object.assign(this,e)}};P([F({type:Z.GeneralString})],NU.prototype,"entrustVers",void 0);P([F({type:CU})],NU.prototype,"entrustInfoFlags",void 0)});var Rfe,F9n,prt,frt=y(()=>{"use strict";Be();De();Hn();lfe();F9n=`${N1}.11`,prt=Rfe=class extends Nt{constructor(e){super(e),Object.setPrototypeOf(this,Rfe.prototype)}};prt=Rfe=P([ge({type:ue.Sequence,itemType:Ph})],prt)});var mrt=y(()=>{"use strict";lfe();ufe();Ptt();Dtt();Mtt();Btt();xU();Utt();Ftt();mfe();Vtt();Ktt();Qtt();Ytt();ert();trt();rrt();nrt();ort();srt();crt();lrt();urt();drt();frt()});var Qe,C2=y(()=>{"use strict";Be();De();Eh();Qe=class t{constructor(e={}){this.algorithm="",Object.assign(this,e)}isEqual(e){return e instanceof t&&e.algorithm==this.algorithm&&(e.parameters&&this.parameters&&J$(e.parameters,this.parameters)||e.parameters===this.parameters)}};P([F({type:Z.ObjectIdentifier})],Qe.prototype,"algorithm",void 0);P([F({type:Z.Any,optional:!0})],Qe.prototype,"parameters",void 0)});var Qs,Ife=y(()=>{"use strict";Be();De();C2();Qs=class{constructor(e={}){this.algorithm=new Qe,this.subjectPublicKey=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Qe})],Qs.prototype,"algorithm",void 0);P([F({type:Z.BitString})],Qs.prototype,"subjectPublicKey",void 0)});var Oi,OU=y(()=>{"use strict";Be();De();Oi=class{constructor(e){if(e)if(typeof e=="string"||typeof e=="number"||e instanceof Date){let r=new Date(e);r.getUTCFullYear()>2049?this.generalTime=r:this.utcTime=r}else Object.assign(this,e)}getTime(){let e=this.utcTime||this.generalTime;if(!e)throw new Error("Cannot get time from CHOICE object");return e}};P([F({type:Z.UTCTime})],Oi.prototype,"utcTime",void 0);P([F({type:Z.GeneralizedTime})],Oi.prototype,"generalTime",void 0);Oi=P([ge({type:ue.Choice})],Oi)});var P1,Cfe=y(()=>{"use strict";Be();De();OU();P1=class{constructor(e){this.notBefore=new Oi(new Date),this.notAfter=new Oi(new Date),e&&(this.notBefore=new Oi(e.notBefore),this.notAfter=new Oi(e.notAfter))}};P([F({type:Oi})],P1.prototype,"notBefore",void 0);P([F({type:Oi})],P1.prototype,"notAfter",void 0)});var Nfe,Xs,qu,PU=y(()=>{"use strict";Be();De();Xs=class t{constructor(e={}){this.extnID="",this.critical=t.CRITICAL,this.extnValue=new Lt,Object.assign(this,e)}};Xs.CRITICAL=!1;P([F({type:Z.ObjectIdentifier})],Xs.prototype,"extnID",void 0);P([F({type:Z.Boolean,defaultValue:Xs.CRITICAL})],Xs.prototype,"critical",void 0);P([F({type:Lt})],Xs.prototype,"extnValue",void 0);qu=Nfe=class extends Nt{constructor(e){super(e),Object.setPrototypeOf(this,Nfe.prototype)}};qu=Nfe=P([ge({type:ue.Sequence,itemType:Xs})],qu)});var Mh,Ofe=y(()=>{"use strict";(function(t){t[t.v1=0]="v1",t[t.v2=1]="v2",t[t.v3=2]="v3"})(Mh||(Mh={}))});var Ys,Pfe=y(()=>{"use strict";Be();De();C2();d4();Ife();Cfe();PU();Ofe();Ys=class{constructor(e={}){this.version=Mh.v1,this.serialNumber=new ArrayBuffer(0),this.signature=new Qe,this.issuer=new Vn,this.validity=new P1,this.subject=new Vn,this.subjectPublicKeyInfo=new Qs,Object.assign(this,e)}};P([F({type:Z.Integer,context:0,defaultValue:Mh.v1})],Ys.prototype,"version",void 0);P([F({type:Z.Integer,converter:Ar})],Ys.prototype,"serialNumber",void 0);P([F({type:Qe})],Ys.prototype,"signature",void 0);P([F({type:Vn})],Ys.prototype,"issuer",void 0);P([F({type:P1})],Ys.prototype,"validity",void 0);P([F({type:Vn})],Ys.prototype,"subject",void 0);P([F({type:Qs})],Ys.prototype,"subjectPublicKeyInfo",void 0);P([F({type:Z.BitString,context:1,implicit:!0,optional:!0})],Ys.prototype,"issuerUniqueID",void 0);P([F({type:Z.BitString,context:2,implicit:!0,optional:!0})],Ys.prototype,"subjectUniqueID",void 0);P([F({type:qu,context:3,optional:!0})],Ys.prototype,"extensions",void 0)});var Qd,hrt=y(()=>{"use strict";Be();De();C2();Pfe();Qd=class{constructor(e={}){this.tbsCertificate=new Ys,this.signatureAlgorithm=new Qe,this.signatureValue=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Ys,raw:!0})],Qd.prototype,"tbsCertificate",void 0);P([F({type:Qe})],Qd.prototype,"signatureAlgorithm",void 0);P([F({type:Z.BitString})],Qd.prototype,"signatureValue",void 0)});var N2,ul,kfe=y(()=>{"use strict";Be();De();C2();d4();OU();PU();N2=class{constructor(e={}){this.userCertificate=new ArrayBuffer(0),this.revocationDate=new Oi,Object.assign(this,e)}};P([F({type:Z.Integer,converter:Ar})],N2.prototype,"userCertificate",void 0);P([F({type:Oi})],N2.prototype,"revocationDate",void 0);P([F({type:Xs,optional:!0,repeated:"sequence"})],N2.prototype,"crlEntryExtensions",void 0);ul=class{constructor(e={}){this.signature=new Qe,this.issuer=new Vn,this.thisUpdate=new Oi,Object.assign(this,e)}};P([F({type:Z.Integer,optional:!0})],ul.prototype,"version",void 0);P([F({type:Qe})],ul.prototype,"signature",void 0);P([F({type:Vn})],ul.prototype,"issuer",void 0);P([F({type:Oi})],ul.prototype,"thisUpdate",void 0);P([F({type:Oi,optional:!0})],ul.prototype,"nextUpdate",void 0);P([F({type:N2,repeated:"sequence",optional:!0})],ul.prototype,"revokedCertificates",void 0);P([F({type:Xs,optional:!0,context:0,repeated:"sequence"})],ul.prototype,"crlExtensions",void 0)});var O2,grt=y(()=>{"use strict";Be();De();C2();kfe();O2=class{constructor(e={}){this.tbsCertList=new ul,this.signatureAlgorithm=new Qe,this.signature=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:ul,raw:!0})],O2.prototype,"tbsCertList",void 0);P([F({type:Qe})],O2.prototype,"signatureAlgorithm",void 0);P([F({type:Z.BitString})],O2.prototype,"signature",void 0)});var Br=y(()=>{"use strict";mrt();C2();Afe();hrt();grt();PU();w2();vC();d4();Hn();Ife();kfe();Pfe();OU();Ofe();Cfe()});var Xd,PC=y(()=>{"use strict";Be();De();Br();Xd=class{constructor(e={}){this.issuer=new Vn,this.serialNumber=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Vn})],Xd.prototype,"issuer",void 0);P([F({type:Z.Integer,converter:Ar})],Xd.prototype,"serialNumber",void 0)});var P2,Dfe=y(()=>{"use strict";Be();De();PC();Br();P2=class{constructor(e={}){Object.assign(this,e)}};P([F({type:Sc,context:0,implicit:!0})],P2.prototype,"subjectKeyIdentifier",void 0);P([F({type:Xd})],P2.prototype,"issuerAndSerialNumber",void 0);P2=P([ge({type:ue.Choice})],P2)});var bs,k2,kC,wc,DC,brt,kU,kf=y(()=>{"use strict";Be();Br();De();(function(t){t[t.v0=0]="v0",t[t.v1=1]="v1",t[t.v2=2]="v2",t[t.v3=3]="v3",t[t.v4=4]="v4",t[t.v5=5]="v5"})(bs||(bs={}));k2=class extends Qe{};k2=P([ge({type:ue.Sequence})],k2);kC=class extends Qe{};kC=P([ge({type:ue.Sequence})],kC);wc=class extends Qe{};wc=P([ge({type:ue.Sequence})],wc);DC=class extends Qe{};DC=P([ge({type:ue.Sequence})],DC);brt=class extends Qe{};brt=P([ge({type:ue.Sequence})],brt);kU=class extends Qe{};kU=P([ge({type:ue.Sequence})],kU)});var Yd,DU=y(()=>{"use strict";Be();De();Yd=class{constructor(e={}){this.attrType="",this.attrValues=[],Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],Yd.prototype,"attrType",void 0);P([F({type:Z.Any,repeated:"set"})],Yd.prototype,"attrValues",void 0)});var Mfe,Ac,MC,MU=y(()=>{"use strict";Be();De();Dfe();kf();DU();Ac=class{constructor(e={}){this.version=bs.v0,this.sid=new P2,this.digestAlgorithm=new k2,this.signatureAlgorithm=new kC,this.signature=new Lt,Object.assign(this,e)}};P([F({type:Z.Integer})],Ac.prototype,"version",void 0);P([F({type:P2})],Ac.prototype,"sid",void 0);P([F({type:k2})],Ac.prototype,"digestAlgorithm",void 0);P([F({type:Yd,repeated:"set",context:0,implicit:!0,optional:!0,raw:!0})],Ac.prototype,"signedAttrs",void 0);P([F({type:kC})],Ac.prototype,"signatureAlgorithm",void 0);P([F({type:Lt})],Ac.prototype,"signature",void 0);P([F({type:Yd,repeated:"set",context:1,implicit:!0,optional:!0})],Ac.prototype,"unsignedAttrs",void 0);MC=Mfe=class extends Nt{constructor(e){super(e),Object.setPrototypeOf(this,Mfe.prototype)}};MC=Mfe=P([ge({type:ue.Set,itemType:Ac})],MC)});var vrt,_rt=y(()=>{"use strict";Be();De();MU();vrt=class extends Ac{};vrt=P([ge({type:ue.Sequence})],vrt)});var xrt=y(()=>{"use strict";De()});var Srt,wrt=y(()=>{"use strict";Be();Br();De();Srt=class extends Oi{};Srt=P([ge({type:ue.Choice})],Srt)});var Art=y(()=>{"use strict";_rt();xrt();wrt()});var LC,Ert=y(()=>{"use strict";Be();De();Br();LC=class{constructor(e={}){this.acIssuer=new Ht,this.acSerial=0,this.attrs=[],Object.assign(this,e)}};P([F({type:Ht})],LC.prototype,"acIssuer",void 0);P([F({type:Z.Integer})],LC.prototype,"acSerial",void 0);P([F({type:ys,repeated:"sequence"})],LC.prototype,"attrs",void 0)});var Lfe,BC,Bfe=y(()=>{"use strict";Be();De();BC=Lfe=class extends Nt{constructor(e){super(e),Object.setPrototypeOf(this,Lfe.prototype)}};BC=Lfe=P([ge({type:ue.Sequence,itemType:Z.ObjectIdentifier})],BC)});var m4,Trt=y(()=>{"use strict";Be();De();Bfe();m4=class{constructor(e={}){this.permitUnSpecified=!0,Object.assign(this,e)}};P([F({type:Z.Integer,optional:!0})],m4.prototype,"pathLenConstraint",void 0);P([F({type:BC,implicit:!0,context:0,optional:!0})],m4.prototype,"permittedAttrs",void 0);P([F({type:BC,implicit:!0,context:1,optional:!0})],m4.prototype,"excludedAttrs",void 0);P([F({type:Z.Boolean,defaultValue:!0})],m4.prototype,"permitUnSpecified",void 0)});var Ju,$C=y(()=>{"use strict";Be();De();Br();Ju=class{constructor(e={}){this.issuer=new li,this.serial=new ArrayBuffer(0),this.issuerUID=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:li})],Ju.prototype,"issuer",void 0);P([F({type:Z.Integer,converter:Ar})],Ju.prototype,"serial",void 0);P([F({type:Z.BitString,optional:!0})],Ju.prototype,"issuerUID",void 0)});var $fe,Wu,UC=y(()=>{"use strict";Be();De();Br();(function(t){t[t.publicKey=0]="publicKey",t[t.publicKeyCert=1]="publicKeyCert",t[t.otherObjectTypes=2]="otherObjectTypes"})($fe||($fe={}));Wu=class{constructor(e={}){this.digestedObjectType=$fe.publicKey,this.digestAlgorithm=new Qe,this.objectDigest=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Z.Enumerated})],Wu.prototype,"digestedObjectType",void 0);P([F({type:Z.ObjectIdentifier,optional:!0})],Wu.prototype,"otherObjectTypeID",void 0);P([F({type:Qe})],Wu.prototype,"digestAlgorithm",void 0);P([F({type:Z.BitString})],Wu.prototype,"objectDigest",void 0)});var D2,Ufe=y(()=>{"use strict";Be();De();Br();$C();UC();D2=class{constructor(e={}){Object.assign(this,e)}};P([F({type:li,optional:!0})],D2.prototype,"issuerName",void 0);P([F({type:Ju,context:0,implicit:!0,optional:!0})],D2.prototype,"baseCertificateID",void 0);P([F({type:Wu,context:1,implicit:!0,optional:!0})],D2.prototype,"objectDigestInfo",void 0)});var M2,Ffe=y(()=>{"use strict";Be();De();Br();Ufe();M2=class{constructor(e={}){Object.assign(this,e)}};P([F({type:Ht,repeated:"sequence"})],M2.prototype,"v1Form",void 0);P([F({type:D2,context:0,implicit:!0})],M2.prototype,"v2Form",void 0);M2=P([ge({type:ue.Choice})],M2)});var L2,zfe=y(()=>{"use strict";Be();De();L2=class{constructor(e={}){this.notBeforeTime=new Date,this.notAfterTime=new Date,Object.assign(this,e)}};P([F({type:Z.GeneralizedTime})],L2.prototype,"notBeforeTime",void 0);P([F({type:Z.GeneralizedTime})],L2.prototype,"notAfterTime",void 0)});var k1,Vfe=y(()=>{"use strict";Be();De();$C();Br();UC();k1=class{constructor(e={}){Object.assign(this,e)}};P([F({type:Ju,implicit:!0,context:0,optional:!0})],k1.prototype,"baseCertificateID",void 0);P([F({type:li,implicit:!0,context:1,optional:!0})],k1.prototype,"entityName",void 0);P([F({type:Wu,implicit:!0,context:2,optional:!0})],k1.prototype,"objectDigestInfo",void 0)});var Hfe,Ec,Gfe=y(()=>{"use strict";Be();De();Br();Vfe();Ffe();zfe();(function(t){t[t.v2=1]="v2"})(Hfe||(Hfe={}));Ec=class{constructor(e={}){this.version=Hfe.v2,this.holder=new k1,this.issuer=new M2,this.signature=new Qe,this.serialNumber=new ArrayBuffer(0),this.attrCertValidityPeriod=new L2,this.attributes=[],Object.assign(this,e)}};P([F({type:Z.Integer})],Ec.prototype,"version",void 0);P([F({type:k1})],Ec.prototype,"holder",void 0);P([F({type:M2})],Ec.prototype,"issuer",void 0);P([F({type:Qe})],Ec.prototype,"signature",void 0);P([F({type:Z.Integer,converter:Ar})],Ec.prototype,"serialNumber",void 0);P([F({type:L2})],Ec.prototype,"attrCertValidityPeriod",void 0);P([F({type:ys,repeated:"sequence"})],Ec.prototype,"attributes",void 0);P([F({type:Z.BitString,optional:!0})],Ec.prototype,"issuerUniqueID",void 0);P([F({type:qu,optional:!0})],Ec.prototype,"extensions",void 0)});var B2,Rrt=y(()=>{"use strict";Be();De();Br();Gfe();B2=class{constructor(e={}){this.acinfo=new Ec,this.signatureAlgorithm=new Qe,this.signatureValue=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Ec})],B2.prototype,"acinfo",void 0);P([F({type:Qe})],B2.prototype,"signatureAlgorithm",void 0);P([F({type:Z.BitString})],B2.prototype,"signatureValue",void 0)});var FC,h4,jfe=y(()=>{"use strict";De();(function(t){t[t.unmarked=1]="unmarked",t[t.unclassified=2]="unclassified",t[t.restricted=4]="restricted",t[t.confidential=8]="confidential",t[t.secret=16]="secret",t[t.topSecret=32]="topSecret"})(FC||(FC={}));h4=class extends Nf{}});var g4,qfe=y(()=>{"use strict";Be();De();g4=class{constructor(e={}){this.type="",this.value=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier,implicit:!0,context:0})],g4.prototype,"type",void 0);P([F({type:Z.Any,implicit:!0,context:1})],g4.prototype,"value",void 0)});var zC,Irt=y(()=>{"use strict";Be();De();jfe();qfe();zC=class{constructor(e={}){this.policyId="",this.classList=new h4(FC.unclassified),Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],zC.prototype,"policyId",void 0);P([F({type:h4,defaultValue:new h4(FC.unclassified)})],zC.prototype,"classList",void 0);P([F({type:g4,repeated:"set"})],zC.prototype,"securityCategories",void 0)});var y4,LU,Crt=y(()=>{"use strict";Be();De();Br();y4=class{constructor(e={}){Object.assign(this,e)}};P([F({type:Lt})],y4.prototype,"cotets",void 0);P([F({type:Z.ObjectIdentifier})],y4.prototype,"oid",void 0);P([F({type:Z.Utf8String})],y4.prototype,"string",void 0);LU=class{constructor(e={}){this.values=[],Object.assign(this,e)}};P([F({type:li,implicit:!0,context:0,optional:!0})],LU.prototype,"policyAuthority",void 0);P([F({type:y4,repeated:"sequence"})],LU.prototype,"values",void 0)});var CPn,NPn,OPn,PPn,VC,kPn,DPn,MPn,LPn,BPn,Jfe,$Pn,Nrt=y(()=>{"use strict";Br();CPn=`${N1}.4`,NPn=`${N1}.6`,OPn=`${N1}.10`,PPn=`${or}.55`,VC=`${C1}.10`,kPn=`${VC}.1`,DPn=`${VC}.2`,MPn=`${VC}.3`,LPn=`${VC}.4`,BPn=`${VC}.6`,Jfe="2.5.4",$Pn=`${Jfe}.72`});var Wfe,b4,v4,BU,Kfe=y(()=>{"use strict";Be();De();Br();$C();UC();b4=class{constructor(e={}){this.targetCertificate=new Ju,Object.assign(this,e)}};P([F({type:Ju})],b4.prototype,"targetCertificate",void 0);P([F({type:Ht,optional:!0})],b4.prototype,"targetName",void 0);P([F({type:Wu,optional:!0})],b4.prototype,"certDigestInfo",void 0);v4=class{constructor(e={}){Object.assign(this,e)}};P([F({type:Ht,context:0,implicit:!0})],v4.prototype,"targetName",void 0);P([F({type:Ht,context:1,implicit:!0})],v4.prototype,"targetGroup",void 0);P([F({type:b4,context:2,implicit:!0})],v4.prototype,"targetCert",void 0);v4=P([ge({type:ue.Choice})],v4);BU=Wfe=class extends Nt{constructor(e){super(e),Object.setPrototypeOf(this,Wfe.prototype)}};BU=Wfe=P([ge({type:ue.Sequence,itemType:v4})],BU)});var Qfe,Ort,Prt=y(()=>{"use strict";Be();De();Kfe();Ort=Qfe=class extends Nt{constructor(e){super(e),Object.setPrototypeOf(this,Qfe.prototype)}};Ort=Qfe=P([ge({type:ue.Sequence,itemType:BU})],Ort)});var $U,krt=y(()=>{"use strict";Be();De();Br();$U=class{constructor(e={}){Object.assign(this,e)}};P([F({type:li,implicit:!0,context:0,optional:!0})],$U.prototype,"roleAuthority",void 0);P([F({type:Ht,implicit:!0,context:1})],$U.prototype,"roleName",void 0)});var HC,Drt=y(()=>{"use strict";Be();De();Br();HC=class{constructor(e={}){this.service=new Ht,this.ident=new Ht,Object.assign(this,e)}};P([F({type:Ht})],HC.prototype,"service",void 0);P([F({type:Ht})],HC.prototype,"ident",void 0);P([F({type:Lt,optional:!0})],HC.prototype,"authInfo",void 0)});var Xfe=y(()=>{"use strict";Ert();Trt();Ffe();zfe();Bfe();Rrt();Gfe();jfe();Irt();Vfe();Crt();$C();UC();Nrt();Prt();krt();qfe();Drt();Kfe();Ufe()});var Yfe,GC,$2,U2,UU=y(()=>{"use strict";Be();De();Br();Xfe();GC=class{constructor(e={}){this.otherCertFormat="",this.otherCert=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],GC.prototype,"otherCertFormat",void 0);P([F({type:Z.Any})],GC.prototype,"otherCert",void 0);$2=class{constructor(e={}){Object.assign(this,e)}};P([F({type:Qd})],$2.prototype,"certificate",void 0);P([F({type:B2,context:2,implicit:!0})],$2.prototype,"v2AttrCert",void 0);P([F({type:GC,context:3,implicit:!0})],$2.prototype,"other",void 0);$2=P([ge({type:ue.Choice})],$2);U2=Yfe=class extends Nt{constructor(e){super(e),Object.setPrototypeOf(this,Yfe.prototype)}};U2=Yfe=P([ge({type:ue.Set,itemType:$2})],U2)});var Ku,Mrt=y(()=>{"use strict";Be();De();Ku=class{constructor(e={}){this.contentType="",this.content=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],Ku.prototype,"contentType",void 0);P([F({type:Z.Any,context:0})],Ku.prototype,"content",void 0)});var _4,F2,Zfe=y(()=>{"use strict";Be();De();_4=class{constructor(e={}){Object.assign(this,e)}};P([F({type:Lt})],_4.prototype,"single",void 0);P([F({type:Z.Any})],_4.prototype,"any",void 0);_4=P([ge({type:ue.Choice})],_4);F2=class{constructor(e={}){this.eContentType="",Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],F2.prototype,"eContentType",void 0);P([F({type:_4,context:0,optional:!0})],F2.prototype,"eContent",void 0)});var jC,D1,eme=y(()=>{"use strict";Be();De();kf();jC=class{constructor(e={}){Object.assign(this,e)}};P([F({type:Lt,context:0,implicit:!0,optional:!0})],jC.prototype,"value",void 0);P([F({type:Lt,converter:wtt,context:0,implicit:!0,optional:!0,repeated:"sequence"})],jC.prototype,"constructedValue",void 0);jC=P([ge({type:ue.Choice})],jC);D1=class{constructor(e={}){this.contentType="",this.contentEncryptionAlgorithm=new DC,Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],D1.prototype,"contentType",void 0);P([F({type:DC})],D1.prototype,"contentEncryptionAlgorithm",void 0);P([F({type:jC,optional:!0})],D1.prototype,"encryptedContent",void 0)});var M1,tme=y(()=>{"use strict";Be();De();M1=class{constructor(e={}){this.keyAttrId="",Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],M1.prototype,"keyAttrId",void 0);P([F({type:Z.Any,optional:!0})],M1.prototype,"keyAttr",void 0)});var rme,x4,S4,qC,FU,JC,z2,Lh,nme=y(()=>{"use strict";Be();De();kf();PC();Br();tme();x4=class{constructor(e={}){this.subjectKeyIdentifier=new Sc,Object.assign(this,e)}};P([F({type:Sc})],x4.prototype,"subjectKeyIdentifier",void 0);P([F({type:Z.GeneralizedTime,optional:!0})],x4.prototype,"date",void 0);P([F({type:M1,optional:!0})],x4.prototype,"other",void 0);S4=class{constructor(e={}){Object.assign(this,e)}};P([F({type:x4,context:0,implicit:!0,optional:!0})],S4.prototype,"rKeyId",void 0);P([F({type:Xd,optional:!0})],S4.prototype,"issuerAndSerialNumber",void 0);S4=P([ge({type:ue.Choice})],S4);qC=class{constructor(e={}){this.rid=new S4,this.encryptedKey=new Lt,Object.assign(this,e)}};P([F({type:S4})],qC.prototype,"rid",void 0);P([F({type:Lt})],qC.prototype,"encryptedKey",void 0);FU=rme=class extends Nt{constructor(e){super(e),Object.setPrototypeOf(this,rme.prototype)}};FU=rme=P([ge({type:ue.Sequence,itemType:qC})],FU);JC=class{constructor(e={}){this.algorithm=new Qe,this.publicKey=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Qe})],JC.prototype,"algorithm",void 0);P([F({type:Z.BitString})],JC.prototype,"publicKey",void 0);z2=class{constructor(e={}){Object.assign(this,e)}};P([F({type:Sc,context:0,implicit:!0,optional:!0})],z2.prototype,"subjectKeyIdentifier",void 0);P([F({type:JC,context:1,implicit:!0,optional:!0})],z2.prototype,"originatorKey",void 0);P([F({type:Xd,optional:!0})],z2.prototype,"issuerAndSerialNumber",void 0);z2=P([ge({type:ue.Choice})],z2);Lh=class{constructor(e={}){this.version=bs.v3,this.originator=new z2,this.keyEncryptionAlgorithm=new wc,this.recipientEncryptedKeys=new FU,Object.assign(this,e)}};P([F({type:Z.Integer})],Lh.prototype,"version",void 0);P([F({type:z2,context:0})],Lh.prototype,"originator",void 0);P([F({type:Lt,context:1,optional:!0})],Lh.prototype,"ukm",void 0);P([F({type:wc})],Lh.prototype,"keyEncryptionAlgorithm",void 0);P([F({type:FU})],Lh.prototype,"recipientEncryptedKeys",void 0)});var w4,L1,ime=y(()=>{"use strict";Be();De();kf();PC();Br();w4=class{constructor(e={}){Object.assign(this,e)}};P([F({type:Sc,context:0,implicit:!0})],w4.prototype,"subjectKeyIdentifier",void 0);P([F({type:Xd})],w4.prototype,"issuerAndSerialNumber",void 0);w4=P([ge({type:ue.Choice})],w4);L1=class{constructor(e={}){this.version=bs.v0,this.rid=new w4,this.keyEncryptionAlgorithm=new wc,this.encryptedKey=new Lt,Object.assign(this,e)}};P([F({type:Z.Integer})],L1.prototype,"version",void 0);P([F({type:w4})],L1.prototype,"rid",void 0);P([F({type:wc})],L1.prototype,"keyEncryptionAlgorithm",void 0);P([F({type:Lt})],L1.prototype,"encryptedKey",void 0)});var V2,B1,ome=y(()=>{"use strict";Be();De();tme();kf();V2=class{constructor(e={}){this.keyIdentifier=new Lt,Object.assign(this,e)}};P([F({type:Lt})],V2.prototype,"keyIdentifier",void 0);P([F({type:Z.GeneralizedTime,optional:!0})],V2.prototype,"date",void 0);P([F({type:M1,optional:!0})],V2.prototype,"other",void 0);B1=class{constructor(e={}){this.version=bs.v4,this.kekid=new V2,this.keyEncryptionAlgorithm=new wc,this.encryptedKey=new Lt,Object.assign(this,e)}};P([F({type:Z.Integer})],B1.prototype,"version",void 0);P([F({type:V2})],B1.prototype,"kekid",void 0);P([F({type:wc})],B1.prototype,"keyEncryptionAlgorithm",void 0);P([F({type:Lt})],B1.prototype,"encryptedKey",void 0)});var $1,sme=y(()=>{"use strict";Be();De();kf();$1=class{constructor(e={}){this.version=bs.v0,this.keyEncryptionAlgorithm=new wc,this.encryptedKey=new Lt,Object.assign(this,e)}};P([F({type:Z.Integer})],$1.prototype,"version",void 0);P([F({type:kU,context:0,optional:!0})],$1.prototype,"keyDerivationAlgorithm",void 0);P([F({type:wc})],$1.prototype,"keyEncryptionAlgorithm",void 0);P([F({type:Lt})],$1.prototype,"encryptedKey",void 0)});var WC,Bh,ame=y(()=>{"use strict";Be();De();nme();ime();ome();sme();WC=class{constructor(e={}){this.oriType="",this.oriValue=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],WC.prototype,"oriType",void 0);P([F({type:Z.Any})],WC.prototype,"oriValue",void 0);Bh=class{constructor(e={}){Object.assign(this,e)}};P([F({type:L1,optional:!0})],Bh.prototype,"ktri",void 0);P([F({type:Lh,context:1,implicit:!0,optional:!0})],Bh.prototype,"kari",void 0);P([F({type:B1,context:2,implicit:!0,optional:!0})],Bh.prototype,"kekri",void 0);P([F({type:$1,context:3,implicit:!0,optional:!0})],Bh.prototype,"pwri",void 0);P([F({type:WC,context:4,implicit:!0,optional:!0})],Bh.prototype,"ori",void 0);Bh=P([ge({type:ue.Choice})],Bh)});var cme,KC,lme=y(()=>{"use strict";Be();De();ame();KC=cme=class extends Nt{constructor(e){super(e),Object.setPrototypeOf(this,cme.prototype)}};KC=cme=P([ge({type:ue.Set,itemType:Bh})],KC)});var ume,Lrt,BDn,$Dn,A4,zU,E4,VU=y(()=>{"use strict";Be();De();Br();Lrt=`${C1}.16`,BDn=`${Lrt}.2`,$Dn=`${Lrt}.4`,A4=class{constructor(e={}){this.otherRevInfoFormat="",this.otherRevInfo=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],A4.prototype,"otherRevInfoFormat",void 0);P([F({type:Z.Any})],A4.prototype,"otherRevInfo",void 0);zU=class{constructor(e={}){this.other=new A4,Object.assign(this,e)}};P([F({type:A4,context:1,implicit:!0})],zU.prototype,"other",void 0);zU=P([ge({type:ue.Choice})],zU);E4=ume=class extends Nt{constructor(e){super(e),Object.setPrototypeOf(this,ume.prototype)}};E4=ume=P([ge({type:ue.Set,itemType:zU})],E4)});var T4,dme=y(()=>{"use strict";Be();De();UU();VU();T4=class{constructor(e={}){Object.assign(this,e)}};P([F({type:U2,context:0,implicit:!0,optional:!0})],T4.prototype,"certs",void 0);P([F({type:E4,context:1,implicit:!0,optional:!0})],T4.prototype,"crls",void 0)});var pme,fme,H2,Brt=y(()=>{"use strict";Be();De();kf();DU();lme();dme();eme();fme=pme=class extends Nt{constructor(e){super(e),Object.setPrototypeOf(this,pme.prototype)}};fme=pme=P([ge({type:ue.Set,itemType:Yd})],fme);H2=class{constructor(e={}){this.version=bs.v0,this.recipientInfos=new KC,this.encryptedContentInfo=new D1,Object.assign(this,e)}};P([F({type:Z.Integer})],H2.prototype,"version",void 0);P([F({type:T4,context:0,implicit:!0,optional:!0})],H2.prototype,"originatorInfo",void 0);P([F({type:KC})],H2.prototype,"recipientInfos",void 0);P([F({type:D1})],H2.prototype,"encryptedContentInfo",void 0);P([F({type:fme,context:1,implicit:!0,optional:!0})],H2.prototype,"unprotectedAttrs",void 0)});var $rt,Urt=y(()=>{"use strict";$rt="1.2.840.113549.1.7.2"});var mme,HU,$h,Frt=y(()=>{"use strict";Be();De();UU();kf();Zfe();VU();MU();HU=mme=class extends Nt{constructor(e){super(e),Object.setPrototypeOf(this,mme.prototype)}};HU=mme=P([ge({type:ue.Set,itemType:k2})],HU);$h=class{constructor(e={}){this.version=bs.v0,this.digestAlgorithms=new HU,this.encapContentInfo=new F2,this.signerInfos=new MC,Object.assign(this,e)}};P([F({type:Z.Integer})],$h.prototype,"version",void 0);P([F({type:HU})],$h.prototype,"digestAlgorithms",void 0);P([F({type:F2})],$h.prototype,"encapContentInfo",void 0);P([F({type:U2,context:0,implicit:!0,optional:!0})],$h.prototype,"certificates",void 0);P([F({type:E4,context:1,implicit:!0,optional:!0})],$h.prototype,"crls",void 0);P([F({type:MC})],$h.prototype,"signerInfos",void 0)});var QC=y(()=>{"use strict";Art();DU();UU();Mrt();Zfe();eme();Brt();PC();ome();nme();ime();Urt();dme();sme();ame();lme();VU();Frt();Dfe();MU();kf()});var G2,XC,GU,YC,ZC,e9,hme,gme,yme,bme=y(()=>{"use strict";G2="1.2.840.10045.2.1",XC="1.2.840.10045.4.1",GU="1.2.840.10045.4.3.1",YC="1.2.840.10045.4.3.2",ZC="1.2.840.10045.4.3.3",e9="1.2.840.10045.4.3.4",hme="1.2.840.10045.3.1.7",gme="1.3.132.0.34",yme="1.3.132.0.35"});function t9(t){return new Qe({algorithm:t})}var Vrt,DMn,Hrt,Grt,jrt,qrt=y(()=>{"use strict";Br();bme();Vrt=t9(XC),DMn=t9(GU),Hrt=t9(YC),Grt=t9(ZC),jrt=t9(e9)});var r9,vme,R4,_me,Df,xme=y(()=>{"use strict";Be();De();r9=class{constructor(e={}){Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],r9.prototype,"fieldType",void 0);P([F({type:Z.Any})],r9.prototype,"parameters",void 0);r9=P([ge({type:ue.Sequence})],r9);vme=class extends Lt{},R4=class{constructor(e={}){Object.assign(this,e)}};P([F({type:Z.OctetString})],R4.prototype,"a",void 0);P([F({type:Z.OctetString})],R4.prototype,"b",void 0);P([F({type:Z.BitString,optional:!0})],R4.prototype,"seed",void 0);R4=P([ge({type:ue.Sequence})],R4);(function(t){t[t.ecpVer1=1]="ecpVer1"})(_me||(_me={}));Df=class{constructor(e={}){this.version=_me.ecpVer1,Object.assign(this,e)}};P([F({type:Z.Integer})],Df.prototype,"version",void 0);P([F({type:r9})],Df.prototype,"fieldID",void 0);P([F({type:R4})],Df.prototype,"curve",void 0);P([F({type:vme})],Df.prototype,"base",void 0);P([F({type:Z.Integer,converter:Ar})],Df.prototype,"order",void 0);P([F({type:Z.Integer,optional:!0})],Df.prototype,"cofactor",void 0);Df=P([ge({type:ue.Sequence})],Df)});var Mf,Sme=y(()=>{"use strict";Be();De();xme();Mf=class{constructor(e={}){Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],Mf.prototype,"namedCurve",void 0);P([F({type:Z.Null})],Mf.prototype,"implicitCurve",void 0);P([F({type:Df})],Mf.prototype,"specifiedCurve",void 0);Mf=P([ge({type:ue.Choice})],Mf)});var I4,Jrt=y(()=>{"use strict";Be();De();Sme();I4=class{constructor(e={}){this.version=1,this.privateKey=new Lt,Object.assign(this,e)}};P([F({type:Z.Integer})],I4.prototype,"version",void 0);P([F({type:Lt})],I4.prototype,"privateKey",void 0);P([F({type:Mf,context:0,optional:!0})],I4.prototype,"parameters",void 0);P([F({type:Z.BitString,context:1,optional:!0})],I4.prototype,"publicKey",void 0)});var j2,Wrt=y(()=>{"use strict";Be();De();j2=class{constructor(e={}){this.r=new ArrayBuffer(0),this.s=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Z.Integer,converter:Ar})],j2.prototype,"r",void 0);P([F({type:Z.Integer,converter:Ar})],j2.prototype,"s",void 0)});var wme=y(()=>{"use strict";qrt();Sme();Jrt();Wrt();bme();xme()});var Tc,Lf,Krt,Qrt,U1,Xrt,Yrt,C4,Zrt,jU,N4,O4,Ame,Eme,q2,qU,J2,W2,K2,ent,tnt,rnt,nnt,F1,n9=y(()=>{"use strict";Tc="1.2.840.113549.1.1",Lf=`${Tc}.1`,Krt=`${Tc}.7`,Qrt=`${Tc}.9`,U1=`${Tc}.10`,Xrt=`${Tc}.2`,Yrt=`${Tc}.4`,C4=`${Tc}.5`,Zrt=`${Tc}.14`,jU=`${Tc}.11`,N4=`${Tc}.12`,O4=`${Tc}.13`,Ame=`${Tc}.15`,Eme=`${Tc}.16`,q2="1.3.14.3.2.26",qU="2.16.840.1.101.3.4.2.4",J2="2.16.840.1.101.3.4.2.1",W2="2.16.840.1.101.3.4.2.2",K2="2.16.840.1.101.3.4.2.3",ent="2.16.840.1.101.3.4.2.5",tnt="2.16.840.1.101.3.4.2.6",rnt="1.2.840.113549.2.2",nnt="1.2.840.113549.2.5",F1=`${Tc}.8`});function Do(t){return new Qe({algorithm:t,parameters:null})}var cLn,lLn,Uh,uLn,dLn,pLn,fLn,mLn,hLn,JU,Tme,gLn,yLn,bLn,vLn,_Ln,xLn,SLn,wLn,ALn,ELn,WU=y(()=>{"use strict";De();Br();n9();cLn=Do(rnt),lLn=Do(nnt),Uh=Do(q2),uLn=Do(qU),dLn=Do(J2),pLn=Do(W2),fLn=Do(K2),mLn=Do(ent),hLn=Do(tnt),JU=new Qe({algorithm:F1,parameters:dt.serialize(Uh)}),Tme=new Qe({algorithm:Qrt,parameters:dt.serialize(l4.toASN(new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]).buffer))}),gLn=Do(Lf),yLn=Do(Xrt),bLn=Do(Yrt),vLn=Do(C4),_Ln=Do(Ame),xLn=Do(Eme),SLn=Do(N4),wLn=Do(O4),ALn=Do(Ame),ELn=Do(Eme)});var P4,PLn,int=y(()=>{"use strict";Be();De();Br();n9();WU();P4=class{constructor(e={}){this.hashAlgorithm=new Qe(Uh),this.maskGenAlgorithm=new Qe({algorithm:F1,parameters:dt.serialize(Uh)}),this.pSourceAlgorithm=new Qe(Tme),Object.assign(this,e)}};P([F({type:Qe,context:0,defaultValue:Uh})],P4.prototype,"hashAlgorithm",void 0);P([F({type:Qe,context:1,defaultValue:JU})],P4.prototype,"maskGenAlgorithm",void 0);P([F({type:Qe,context:2,defaultValue:Tme})],P4.prototype,"pSourceAlgorithm",void 0);PLn=new Qe({algorithm:Krt,parameters:dt.serialize(new P4)})});var Bf,ULn,ont=y(()=>{"use strict";Be();De();Br();n9();WU();Bf=class{constructor(e={}){this.hashAlgorithm=new Qe(Uh),this.maskGenAlgorithm=new Qe({algorithm:F1,parameters:dt.serialize(Uh)}),this.saltLength=20,this.trailerField=1,Object.assign(this,e)}};P([F({type:Qe,context:0,defaultValue:Uh})],Bf.prototype,"hashAlgorithm",void 0);P([F({type:Qe,context:1,defaultValue:JU})],Bf.prototype,"maskGenAlgorithm",void 0);P([F({type:Z.Integer,context:2,defaultValue:20})],Bf.prototype,"saltLength",void 0);P([F({type:Z.Integer,context:3,defaultValue:1})],Bf.prototype,"trailerField",void 0);ULn=new Qe({algorithm:U1,parameters:dt.serialize(new Bf)})});var Q2,snt=y(()=>{"use strict";Be();Br();De();Q2=class{constructor(e={}){this.digestAlgorithm=new Qe,this.digest=new Lt,Object.assign(this,e)}};P([F({type:Qe})],Q2.prototype,"digestAlgorithm",void 0);P([F({type:Lt})],Q2.prototype,"digest",void 0)});var ant=y(()=>{"use strict";int();ont();snt()});var Rme,k4,KU,Ime=y(()=>{"use strict";Be();De();k4=class{constructor(e={}){this.prime=new ArrayBuffer(0),this.exponent=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Z.Integer,converter:Ar})],k4.prototype,"prime",void 0);P([F({type:Z.Integer,converter:Ar})],k4.prototype,"exponent",void 0);P([F({type:Z.Integer,converter:Ar})],k4.prototype,"coefficient",void 0);KU=Rme=class extends Nt{constructor(e){super(e),Object.setPrototypeOf(this,Rme.prototype)}};KU=Rme=P([ge({type:ue.Sequence,itemType:k4})],KU)});var Qu,cnt=y(()=>{"use strict";Be();De();Ime();Qu=class{constructor(e={}){this.version=0,this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),this.privateExponent=new ArrayBuffer(0),this.prime1=new ArrayBuffer(0),this.prime2=new ArrayBuffer(0),this.exponent1=new ArrayBuffer(0),this.exponent2=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Z.Integer})],Qu.prototype,"version",void 0);P([F({type:Z.Integer,converter:Ar})],Qu.prototype,"modulus",void 0);P([F({type:Z.Integer,converter:Ar})],Qu.prototype,"publicExponent",void 0);P([F({type:Z.Integer,converter:Ar})],Qu.prototype,"privateExponent",void 0);P([F({type:Z.Integer,converter:Ar})],Qu.prototype,"prime1",void 0);P([F({type:Z.Integer,converter:Ar})],Qu.prototype,"prime2",void 0);P([F({type:Z.Integer,converter:Ar})],Qu.prototype,"exponent1",void 0);P([F({type:Z.Integer,converter:Ar})],Qu.prototype,"exponent2",void 0);P([F({type:Z.Integer,converter:Ar})],Qu.prototype,"coefficient",void 0);P([F({type:KU,optional:!0})],Qu.prototype,"otherPrimeInfos",void 0)});var D4,lnt=y(()=>{"use strict";Be();De();D4=class{constructor(e={}){this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Z.Integer,converter:Ar})],D4.prototype,"modulus",void 0);P([F({type:Z.Integer,converter:Ar})],D4.prototype,"publicExponent",void 0)});var QU=y(()=>{"use strict";ant();WU();n9();Ime();cnt();lnt()});var Cme,vs,Nme=y(()=>{"use strict";(function(t){t[t.Transient=0]="Transient",t[t.Singleton=1]="Singleton",t[t.ResolutionScoped=2]="ResolutionScoped",t[t.ContainerScoped=3]="ContainerScoped"})(Cme||(Cme={}));vs=Cme});var unt=y(()=>{"use strict";Nme()});function i9(t,e){Ome(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function dnt(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(u){try{l(n.next(u))}catch(d){s(d)}}function c(u){try{l(n.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function pnt(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function o9(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function M4(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}function $f(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(M4(arguments[e]));return t}var Ome,L4=y(()=>{"use strict";Ome=function(t,e){return Ome=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Ome(t,e)}});function Pme(t){var e=Reflect.getMetadata("design:paramtypes",t)||[],r=Reflect.getOwnMetadata(LQt,t)||{};return Object.keys(r).forEach(function(n){e[+n]=r[n]}),e}var LQt,X2=y(()=>{"use strict";LQt="injectionTokens"});function s9(t){return!!t.useClass}var kme=y(()=>{"use strict"});function B4(t){return!!t.useFactory}var Dme=y(()=>{"use strict"});var XU,YU=y(()=>{"use strict";L4();XU=(function(){function t(e){this.wrap=e,this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct","ownKeys"]}return t.prototype.createProxy=function(e){var r=this,n={},i=!1,o,s=function(){return i||(o=e(r.wrap()),i=!0),o};return new Proxy(n,this.createHandler(s))},t.prototype.createHandler=function(e){var r={},n=function(i){r[i]=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];o[0]=e();var a=Reflect[i];return a.apply(void 0,$f(o))}};return this.reflectMethods.forEach(n),r},t})()});function z1(t){return typeof t=="string"||typeof t=="symbol"}function Mme(t){return typeof t=="object"&&"token"in t&&"multiple"in t}function ZU(t){return typeof t=="object"&&"token"in t&&"transform"in t}function fnt(t){return typeof t=="function"||t instanceof XU}var eF=y(()=>{"use strict";YU()});function Y2(t){return!!t.useToken}var Lme=y(()=>{"use strict"});function Z2(t){return t.useValue!=null}var Bme=y(()=>{"use strict"});var $me=y(()=>{"use strict";kme();Dme();eF();Lme();Bme()});function mnt(t){return s9(t)||Z2(t)||Y2(t)||B4(t)}var hnt=y(()=>{"use strict";kme();Bme();Lme();Dme()});var BQt,a9,Ume=y(()=>{"use strict";BQt=(function(){function t(){this._registryMap=new Map}return t.prototype.entries=function(){return this._registryMap.entries()},t.prototype.getAll=function(e){return this.ensure(e),this._registryMap.get(e)},t.prototype.get=function(e){this.ensure(e);var r=this._registryMap.get(e);return r[r.length-1]||null},t.prototype.set=function(e,r){this.ensure(e),this._registryMap.get(e).push(r)},t.prototype.setAll=function(e,r){this._registryMap.set(e,r)},t.prototype.has=function(e){return this.ensure(e),this._registryMap.get(e).length>0},t.prototype.clear=function(){this._registryMap.clear()},t.prototype.ensure=function(e){this._registryMap.has(e)||this._registryMap.set(e,[])},t})(),a9=BQt});var $Qt,gnt,ynt=y(()=>{"use strict";L4();Ume();$Qt=(function(t){i9(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(a9),gnt=$Qt});var UQt,c9,bnt=y(()=>{"use strict";UQt=(function(){function t(){this.scopedResolutions=new Map}return t})(),c9=UQt});function FQt(t,e){if(t===null)return"at position #"+e;var r=t.split(",")[e].trim();return'"'+r+'" at position #'+e}function zQt(t,e,r){return r===void 0&&(r="    "),$f([t],e.message.split(`
`).map(function(n){return r+n})).join(`
`)}function Fme(t,e,r){var n=M4(t.toString().match(/constructor\(([\w, ]+)\)/)||[],2),i=n[1],o=i===void 0?null:i,s=FQt(o,e);return zQt("Cannot inject the dependency "+s+' of "'+t.name+'" constructor. Reason:',r)}var zme=y(()=>{"use strict";L4()});function vnt(t){if(typeof t.dispose!="function")return!1;var e=t.dispose;return!(e.length>0)}var _nt=y(()=>{"use strict"});var VQt,HQt,GQt,xnt,Snt=y(()=>{"use strict";L4();Ume();VQt=(function(t){i9(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(a9),HQt=(function(t){i9(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(a9),GQt=(function(){function t(){this.preResolution=new VQt,this.postResolution=new HQt}return t})(),xnt=GQt});var Vme,jQt,ui,V1=y(()=>{"use strict";L4();$me();hnt();eF();ynt();Nme();bnt();zme();YU();_nt();Snt();Vme=new Map,jQt=(function(){function t(e){this.parent=e,this._registry=new gnt,this.interceptors=new xnt,this.disposed=!1,this.disposables=new Set}return t.prototype.register=function(e,r,n){n===void 0&&(n={lifecycle:vs.Transient}),this.ensureNotDisposed();var i;if(mnt(r)?i=r:i={useClass:r},Y2(i))for(var o=[e],s=i;s!=null;){var a=s.useToken;if(o.includes(a))throw new Error("Token registration cycle detected! "+$f(o,[a]).join(" -> "));o.push(a);var c=this._registry.get(a);c&&Y2(c.provider)?s=c.provider:s=null}if((n.lifecycle===vs.Singleton||n.lifecycle==vs.ContainerScoped||n.lifecycle==vs.ResolutionScoped)&&(Z2(i)||B4(i)))throw new Error('Cannot use lifecycle "'+vs[n.lifecycle]+'" with ValueProviders or FactoryProviders');return this._registry.set(e,{provider:i,options:n}),this},t.prototype.registerType=function(e,r){return this.ensureNotDisposed(),z1(r)?this.register(e,{useToken:r}):this.register(e,{useClass:r})},t.prototype.registerInstance=function(e,r){return this.ensureNotDisposed(),this.register(e,{useValue:r})},t.prototype.registerSingleton=function(e,r){if(this.ensureNotDisposed(),z1(e)){if(z1(r))return this.register(e,{useToken:r},{lifecycle:vs.Singleton});if(r)return this.register(e,{useClass:r},{lifecycle:vs.Singleton});throw new Error('Cannot register a type name as a singleton without a "to" token')}var n=e;return r&&!z1(r)&&(n=r),this.register(e,{useClass:n},{lifecycle:vs.Singleton})},t.prototype.resolve=function(e,r,n){r===void 0&&(r=new c9),n===void 0&&(n=!1),this.ensureNotDisposed();var i=this.getRegistration(e);if(!i&&z1(e)){if(n)return;throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"')}if(this.executePreResolutionInterceptor(e,"Single"),i){var o=this.resolveRegistration(i,r);return this.executePostResolutionInterceptor(e,o,"Single"),o}if(fnt(e)){var o=this.construct(e,r);return this.executePostResolutionInterceptor(e,o,"Single"),o}throw new Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")},t.prototype.executePreResolutionInterceptor=function(e,r){var n,i;if(this.interceptors.preResolution.has(e)){var o=[];try{for(var s=o9(this.interceptors.preResolution.getAll(e)),a=s.next();!a.done;a=s.next()){var c=a.value;c.options.frequency!="Once"&&o.push(c),c.callback(e,r)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}this.interceptors.preResolution.setAll(e,o)}},t.prototype.executePostResolutionInterceptor=function(e,r,n){var i,o;if(this.interceptors.postResolution.has(e)){var s=[];try{for(var a=o9(this.interceptors.postResolution.getAll(e)),c=a.next();!c.done;c=a.next()){var l=c.value;l.options.frequency!="Once"&&s.push(l),l.callback(e,r,n)}}catch(u){i={error:u}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}this.interceptors.postResolution.setAll(e,s)}},t.prototype.resolveRegistration=function(e,r){if(this.ensureNotDisposed(),e.options.lifecycle===vs.ResolutionScoped&&r.scopedResolutions.has(e))return r.scopedResolutions.get(e);var n=e.options.lifecycle===vs.Singleton,i=e.options.lifecycle===vs.ContainerScoped,o=n||i,s;return Z2(e.provider)?s=e.provider.useValue:Y2(e.provider)?s=o?e.instance||(e.instance=this.resolve(e.provider.useToken,r)):this.resolve(e.provider.useToken,r):s9(e.provider)?s=o?e.instance||(e.instance=this.construct(e.provider.useClass,r)):this.construct(e.provider.useClass,r):B4(e.provider)?s=e.provider.useFactory(this):s=this.construct(e.provider,r),e.options.lifecycle===vs.ResolutionScoped&&r.scopedResolutions.set(e,s),s},t.prototype.resolveAll=function(e,r,n){var i=this;r===void 0&&(r=new c9),n===void 0&&(n=!1),this.ensureNotDisposed();var o=this.getAllRegistrations(e);if(!o&&z1(e)){if(n)return[];throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"')}if(this.executePreResolutionInterceptor(e,"All"),o){var s=o.map(function(c){return i.resolveRegistration(c,r)});return this.executePostResolutionInterceptor(e,s,"All"),s}var a=[this.construct(e,r)];return this.executePostResolutionInterceptor(e,a,"All"),a},t.prototype.isRegistered=function(e,r){return r===void 0&&(r=!1),this.ensureNotDisposed(),this._registry.has(e)||r&&(this.parent||!1)&&this.parent.isRegistered(e,!0)},t.prototype.reset=function(){this.ensureNotDisposed(),this._registry.clear(),this.interceptors.preResolution.clear(),this.interceptors.postResolution.clear()},t.prototype.clearInstances=function(){var e,r;this.ensureNotDisposed();try{for(var n=o9(this._registry.entries()),i=n.next();!i.done;i=n.next()){var o=M4(i.value,2),s=o[0],a=o[1];this._registry.setAll(s,a.filter(function(c){return!Z2(c.provider)}).map(function(c){return c.instance=void 0,c}))}}catch(c){e={error:c}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.createChildContainer=function(){var e,r;this.ensureNotDisposed();var n=new t(this);try{for(var i=o9(this._registry.entries()),o=i.next();!o.done;o=i.next()){var s=M4(o.value,2),a=s[0],c=s[1];c.some(function(l){var u=l.options;return u.lifecycle===vs.ContainerScoped})&&n._registry.setAll(a,c.map(function(l){return l.options.lifecycle===vs.ContainerScoped?{provider:l.provider,options:l.options}:l}))}}catch(l){e={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n},t.prototype.beforeResolution=function(e,r,n){n===void 0&&(n={frequency:"Always"}),this.interceptors.preResolution.set(e,{callback:r,options:n})},t.prototype.afterResolution=function(e,r,n){n===void 0&&(n={frequency:"Always"}),this.interceptors.postResolution.set(e,{callback:r,options:n})},t.prototype.dispose=function(){return dnt(this,void 0,void 0,function(){var e;return pnt(this,function(r){switch(r.label){case 0:return this.disposed=!0,e=[],this.disposables.forEach(function(n){var i=n.dispose();i&&e.push(i)}),[4,Promise.all(e)];case 1:return r.sent(),[2]}})})},t.prototype.getRegistration=function(e){return this.isRegistered(e)?this._registry.get(e):this.parent?this.parent.getRegistration(e):null},t.prototype.getAllRegistrations=function(e){return this.isRegistered(e)?this._registry.getAll(e):this.parent?this.parent.getAllRegistrations(e):null},t.prototype.construct=function(e,r){var n=this;if(e instanceof XU)return e.createProxy(function(o){return n.resolve(o,r)});var i=(function(){var o=Vme.get(e);if(!o||o.length===0){if(e.length===0)return new e;throw new Error('TypeInfo not known for "'+e.name+'"')}var s=o.map(n.resolveParams(r,e));return new(e.bind.apply(e,$f([void 0],s)))})();return vnt(i)&&this.disposables.add(i),i},t.prototype.resolveParams=function(e,r){var n=this;return function(i,o){var s,a,c;try{return Mme(i)?ZU(i)?i.multiple?(s=n.resolve(i.transform)).transform.apply(s,$f([n.resolveAll(i.token,new c9,i.isOptional)],i.transformArgs)):(a=n.resolve(i.transform)).transform.apply(a,$f([n.resolve(i.token,e,i.isOptional)],i.transformArgs)):i.multiple?n.resolveAll(i.token,new c9,i.isOptional):n.resolve(i.token,e,i.isOptional):ZU(i)?(c=n.resolve(i.transform,e)).transform.apply(c,$f([n.resolve(i.token,e)],i.transformArgs)):n.resolve(i,e)}catch(l){throw new Error(Fme(r,o,l))}}},t.prototype.ensureNotDisposed=function(){if(this.disposed)throw new Error("This container has been disposed, you cannot interact with a disposed container")},t})(),ui=new jQt});var wnt=y(()=>{"use strict";X2();V1();eF();zme()});var Ant=y(()=>{"use strict";X2()});function qQt(t){return function(e){Vme.set(e,Pme(e)),t&&t.token&&(Array.isArray(t.token)?t.token.forEach(function(r){ui.register(r,e)}):ui.register(t.token,e))}}var H1,tF=y(()=>{"use strict";X2();V1();V1();H1=qQt});var Ent=y(()=>{"use strict";V1()});var Tnt=y(()=>{"use strict";tF();V1()});var Rnt=y(()=>{"use strict";X2()});var Int=y(()=>{"use strict";X2()});var Cnt=y(()=>{"use strict";X2()});var Nnt=y(()=>{"use strict";tF();V1()});var Ont=y(()=>{"use strict";wnt();Ant();tF();Ent();Tnt();Rnt();Int();Cnt();Nnt()});var Pnt=y(()=>{"use strict"});var knt=y(()=>{"use strict"});var Dnt=y(()=>{"use strict"});var Mnt=y(()=>{"use strict";Pnt();knt();Dnt()});var Lnt=y(()=>{"use strict";unt();Ont();Mnt();$me();YU();V1();if(typeof Reflect>"u"||!Reflect.getMetadata)throw new Error(`tsyringe requires a reflect polyfill. Please add 'import "reflect-metadata"' to the top of your entry point.`)});var Gme,e_,Bnt,jme=y(()=>{"use strict";Be();De();e_=class{constructor(e={}){this.attrId="",this.attrValues=[],Object.assign(e)}};P([F({type:Z.ObjectIdentifier})],e_.prototype,"attrId",void 0);P([F({type:Z.Any,repeated:"set"})],e_.prototype,"attrValues",void 0);Bnt=Gme=class extends Nt{constructor(e){super(e),Object.setPrototypeOf(this,Gme.prototype)}};Bnt=Gme=P([ge({type:ue.Sequence,itemType:e_})],Bnt)});var qme,$nt,Unt=y(()=>{"use strict";Be();De();QC();$nt=qme=class extends Nt{constructor(e){super(e),Object.setPrototypeOf(this,qme.prototype)}};$nt=qme=P([ge({type:ue.Sequence,itemType:Ku})],$nt)});var JQt,WQt,Fnt,$4,SUn,wUn,AUn,EUn,TUn,RUn,t_,Jme=y(()=>{"use strict";JQt="1.2.840.113549",WQt=`${JQt}.1`,Fnt=`${WQt}.12`,$4=`${Fnt}.1`,SUn=`${$4}.1`,wUn=`${$4}.2`,AUn=`${$4}.3`,EUn=`${$4}.4`,TUn=`${$4}.5`,RUn=`${$4}.6`,t_=`${Fnt}.10.1`});var NUn,OUn,PUn,kUn,DUn,MUn,rF,nF=y(()=>{"use strict";Jme();NUn=`${t_}.1`,OUn=`${t_}.2`,PUn=`${t_}.3`,kUn=`${t_}.4`,DUn=`${t_}.5`,MUn=`${t_}.6`,rF="1.2.840.113549.1.9"});var iF,znt,FUn,zUn,Vnt=y(()=>{"use strict";Be();De();nF();iF=class{constructor(e={}){this.certId="",this.certValue=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],iF.prototype,"certId",void 0);P([F({type:Z.Any,context:0})],iF.prototype,"certValue",void 0);znt=`${rF}.22`,FUn=`${znt}.1`,zUn=`${znt}.2`});var oF,KQt,qUn,Hnt=y(()=>{"use strict";Be();De();nF();oF=class{constructor(e={}){this.crlId="",this.crltValue=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],oF.prototype,"crlId",void 0);P([F({type:Z.Any,context:0})],oF.prototype,"crltValue",void 0);KQt=`${rF}.23`,qUn=`${KQt}.1`});var sF,G1,Gnt=y(()=>{"use strict";Be();De();Br();sF=class extends Lt{},G1=class{constructor(e={}){this.encryptionAlgorithm=new Qe,this.encryptedData=new sF,Object.assign(this,e)}};P([F({type:Qe})],G1.prototype,"encryptionAlgorithm",void 0);P([F({type:sF})],G1.prototype,"encryptedData",void 0)});var Wme,Kme,aF,Qme,j1,jnt=y(()=>{"use strict";Be();De();Br();(function(t){t[t.v1=0]="v1"})(Kme||(Kme={}));aF=class extends Lt{},Qme=Wme=class extends Nt{constructor(e){super(e),Object.setPrototypeOf(this,Wme.prototype)}};Qme=Wme=P([ge({type:ue.Sequence,itemType:ys})],Qme);j1=class{constructor(e={}){this.version=Kme.v1,this.privateKeyAlgorithm=new Qe,this.privateKey=new aF,Object.assign(this,e)}};P([F({type:Z.Integer})],j1.prototype,"version",void 0);P([F({type:Qe})],j1.prototype,"privateKeyAlgorithm",void 0);P([F({type:aF})],j1.prototype,"privateKey",void 0);P([F({type:Qme,implicit:!0,context:0,optional:!0})],j1.prototype,"attributes",void 0)});var cF=y(()=>{"use strict";Gnt();jnt()});var qnt,Jnt=y(()=>{"use strict";Be();cF();De();qnt=class extends j1{};qnt=P([ge({type:ue.Sequence})],qnt)});var Wnt,Knt=y(()=>{"use strict";Be();cF();De();Wnt=class extends G1{};Wnt=P([ge({type:ue.Sequence})],Wnt)});var lF,Qnt=y(()=>{"use strict";Be();De();lF=class{constructor(e={}){this.secretTypeId="",this.secretValue=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],lF.prototype,"secretTypeId",void 0);P([F({type:Z.Any,context:0})],lF.prototype,"secretValue",void 0)});var Xnt=y(()=>{"use strict";Vnt();Hnt();Jnt();Knt();Qnt();nF()});var q1,Xme=y(()=>{"use strict";Be();QU();De();q1=class{constructor(e={}){this.mac=new Q2,this.macSalt=new Lt,this.iterations=1,Object.assign(this,e)}};P([F({type:Q2})],q1.prototype,"mac",void 0);P([F({type:Lt})],q1.prototype,"macSalt",void 0);P([F({type:Z.Integer,defaultValue:1})],q1.prototype,"iterations",void 0)});var r_,Ynt=y(()=>{"use strict";Be();De();QC();Xme();r_=class{constructor(e={}){this.version=3,this.authSafe=new Ku,this.macData=new q1,Object.assign(this,e)}};P([F({type:Z.Integer})],r_.prototype,"version",void 0);P([F({type:Ku})],r_.prototype,"authSafe",void 0);P([F({type:q1,optional:!0})],r_.prototype,"macData",void 0)});var Yme,U4,Znt,eit=y(()=>{"use strict";Be();De();jme();U4=class{constructor(e={}){this.bagId="",this.bagValue=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Z.ObjectIdentifier})],U4.prototype,"bagId",void 0);P([F({type:Z.Any,context:0})],U4.prototype,"bagValue",void 0);P([F({type:e_,repeated:"set",optional:!0})],U4.prototype,"bagAttributes",void 0);Znt=Yme=class extends Nt{constructor(e){super(e),Object.setPrototypeOf(this,Yme.prototype)}};Znt=Yme=P([ge({type:ue.Sequence,itemType:U4})],Znt)});var tit=y(()=>{"use strict";jme();Unt();Xnt();Xme();Jme();Ynt();eit()});var Zme,ehe,the,Pi,WFn,hit,u9,git,yit,KFn,QFn,XFn,YFn,ZFn,ezn,tzn,rzn,lhe,nzn,izn,ozn,d9,szn,azn,czn,lzn,uzn,dzn,pzn,fzn,p9,mzn,hzn,gzn,yzn,bzn,vzn,_zn,xzn,Szn,wzn,Azn,Ezn,Tzn,uF,rit,nit,iit,rhe,oit,sit,nhe,ait,ihe,dF,cit,lit,ohe,uit,she,dit,l9,pit,fit,ahe,che,mit,uhe=y(()=>{"use strict";Be();De();QC();tit();cF();Br();Xfe();Pi="1.2.840.113549.1.9",WFn=`${Pi}.0`,hit=`${Pi}.24`,u9=`${Pi}.25`,git=`${Pi}.26`,yit=`${Pi}.27`,KFn=`${hit}.1`,QFn=`${hit}.2`,XFn=`${Pi}.1`,YFn=`${Pi}.2`,ZFn=`${Pi}.3`,ezn=`${Pi}.4`,tzn=`${Pi}.5`,rzn=`${Pi}.6`,lhe=`${Pi}.7`,nzn=`${Pi}.8`,izn=`${Pi}.9`,ozn=`${Pi}.13`,d9=`${Pi}.14`,szn=`${Pi}.15`,azn=`${Pi}.20`,czn=`${Pi}.21`,lzn=`${u9}.1`,uzn=`${u9}.2`,dzn=`${u9}.3`,pzn=`${u9}.4`,fzn=`${u9}.5`,p9="1.3.6.1.5.5.7.9",mzn=`${p9}.1`,hzn=`${p9}.2`,gzn=`${p9}.3`,yzn=`${p9}.4`,bzn=`${p9}.5`,vzn=`${git}.1`,_zn=`${git}.2`,xzn=`${yit}.1`,Szn=`${yit}.2`,wzn=`${Pi}.16`,Azn=`${Pi}.22`,Ezn=`${Pi}.23`,Tzn=`${Jfe}.65`,uF=class extends So{constructor(e={}){super(e)}toString(){return{}.toString(),this.ia5String||super.toString()}};P([F({type:Z.IA5String})],uF.prototype,"ia5String",void 0);uF=P([ge({type:ue.Choice})],uF);rit=class extends Ku{};rit=P([ge({type:ue.Sequence})],rit);nit=class extends r_{};nit=P([ge({type:ue.Sequence})],nit);iit=class extends G1{};iit=P([ge({type:ue.Sequence})],iit);rhe=class{constructor(e=""){this.value=e}toString(){return this.value}};P([F({type:Z.IA5String})],rhe.prototype,"value",void 0);rhe=P([ge({type:ue.Choice})],rhe);oit=class extends uF{};oit=P([ge({type:ue.Choice})],oit);sit=class extends So{};sit=P([ge({type:ue.Choice})],sit);nhe=class{constructor(e=new Date){this.value=e}};P([F({type:Z.GeneralizedTime})],nhe.prototype,"value",void 0);nhe=P([ge({type:ue.Choice})],nhe);ait=class extends So{};ait=P([ge({type:ue.Choice})],ait);ihe=class{constructor(e="M"){this.value=e}toString(){return this.value}};P([F({type:Z.PrintableString})],ihe.prototype,"value",void 0);ihe=P([ge({type:ue.Choice})],ihe);dF=class{constructor(e=""){this.value=e}toString(){return this.value}};P([F({type:Z.PrintableString})],dF.prototype,"value",void 0);dF=P([ge({type:ue.Choice})],dF);cit=class extends dF{};cit=P([ge({type:ue.Choice})],cit);lit=class extends So{};lit=P([ge({type:ue.Choice})],lit);ohe=class{constructor(e=""){this.value=e}toString(){return this.value}};P([F({type:Z.ObjectIdentifier})],ohe.prototype,"value",void 0);ohe=P([ge({type:ue.Choice})],ohe);uit=class extends Oi{};uit=P([ge({type:ue.Choice})],uit);she=class{constructor(e=0){this.value=e}toString(){return this.value.toString()}};P([F({type:Z.Integer})],she.prototype,"value",void 0);she=P([ge({type:ue.Choice})],she);dit=class extends Ac{};dit=P([ge({type:ue.Sequence})],dit);l9=class extends So{};l9=P([ge({type:ue.Choice})],l9);pit=Zme=class extends qu{constructor(e){super(e),Object.setPrototypeOf(this,Zme.prototype)}};pit=Zme=P([ge({type:ue.Sequence})],pit);fit=ehe=class extends Nt{constructor(e){super(e),Object.setPrototypeOf(this,ehe.prototype)}};fit=ehe=P([ge({type:ue.Set,itemType:Yd})],fit);ahe=class{constructor(e=""){this.value=e}toString(){return this.value}};P([F({type:Z.BmpString})],ahe.prototype,"value",void 0);ahe=P([ge({type:ue.Choice})],ahe);che=class extends Qe{};che=P([ge({type:ue.Sequence})],che);mit=the=class extends Nt{constructor(e){super(e),Object.setPrototypeOf(this,the.prototype)}};mit=the=P([ge({type:ue.Sequence,itemType:che})],mit)});var dhe,f9,phe=y(()=>{"use strict";Be();De();Br();f9=dhe=class extends Nt{constructor(e){super(e),Object.setPrototypeOf(this,dhe.prototype)}};f9=dhe=P([ge({type:ue.Sequence,itemType:ys})],f9)});var Uf,fhe=y(()=>{"use strict";Be();De();Br();phe();Uf=class{constructor(e={}){this.version=0,this.subject=new Vn,this.subjectPKInfo=new Qs,this.attributes=new f9,Object.assign(this,e)}};P([F({type:Z.Integer})],Uf.prototype,"version",void 0);P([F({type:Vn})],Uf.prototype,"subject",void 0);P([F({type:Qs})],Uf.prototype,"subjectPKInfo",void 0);P([F({type:f9,implicit:!0,context:0,optional:!0})],Uf.prototype,"attributes",void 0)});var J1,bit=y(()=>{"use strict";Be();De();fhe();Br();J1=class{constructor(e={}){this.certificationRequestInfo=new Uf,this.signatureAlgorithm=new Qe,this.signature=new ArrayBuffer(0),Object.assign(this,e)}};P([F({type:Uf,raw:!0})],J1.prototype,"certificationRequestInfo",void 0);P([F({type:Qe})],J1.prototype,"signatureAlgorithm",void 0);P([F({type:Z.BitString})],J1.prototype,"signature",void 0)});var vit=y(()=>{"use strict";phe();bit();fhe()});function eXt(t){return new RegExp(ZQt).test(t)}function tXt(t,e){return`\\${Tt.ToHex(Tt.FromUtf8String(e)).toUpperCase()}`}function rXt(t){return t.replace(/([,+"\\<>;])/g,"\\$1").replace(/^([ #])/,"\\$1").replace(/([ ]$)/,"\\$1").replace(/([\r\n\t])/,tXt)}function dXt(t,e){return t.algorithm=new Qe({algorithm:Lf,parameters:null}),e=dt.serialize(t),e}function fF(t,e,r){if(r.length===1)t[e]=r[0].toTextObject();else{let n=new zr("");r.forEach((i,o)=>{let s=i.toTextObject(),a=`${s[zr.NAME]} ${o+1}`,c=n[a];Array.isArray(c)||(c=[],n[a]=c),c.push(s)}),t[e]=n}}function mF(t,e,r,n){let i=e[n];i&&(Array.isArray(i)?i:[i]).forEach(s=>{typeof s=="string"&&(s=new Ff("url",s)),t.push(new Ph({accessMethod:r,accessLocation:dt.parse(s.rawData,Ht)}))})}var gVn,v9,whe,F4,hF,Cc,_it,xit,Sit,wit,Ait,Eit,Tit,Rit,Iit,Cit,Nit,Oit,Pit,kit,Dit,Mit,Lit,Bit,$it,Uit,Fit,zit,Vit,Hit,Git,jit,qit,Jit,xi,h9,iot,oot,zr,Ahe,zf,Fh,Q1,Xu,sot,g9,Zs,ZQt,yF,Rc,W1,aot,Wit,nXt,Kit,Qit,Xit,mhe,hhe,ghe,yhe,bhe,vhe,_he,pF,Ff,n_,m9,y9,iXt,oXt,sXt,z4,aXt,cXt,lXt,uXt,Yit,Ca,X1,K1,bF,vF,Zit,_F,eot,xF,SF,wF,Ic,AF,EF,TF,V4,RF,b9,H4,CF,Ehe,gF,The,Rhe,zh,xhe,tot,She,rot,Ihe,Che,IF,not,cot=y(()=>{"use strict";gVn=ti(Pet());De();Br();Br();Eh();QC();wme();wme();QU();QU();Be();Lnt();uhe();uhe();vit();v9="crypto.algorithm",whe=class{getAlgorithms(){return ui.resolveAll(v9)}toAsnAlgorithm(e){({...e});for(let r of this.getAlgorithms()){let n=r.toAsnAlgorithm(e);if(n)return n}if(/^[0-9.]+$/.test(e.name)){let r=new Qe({algorithm:e.name});if("parameters"in e){let n=e;r.parameters=n.parameters}return r}throw new Error("Cannot convert WebCrypto algorithm to ASN.1 algorithm")}toWebAlgorithm(e){for(let n of this.getAlgorithms()){let i=n.toWebAlgorithm(e);if(i)return i}return{name:e.algorithm,parameters:e.parameters}}},F4="crypto.algorithmProvider";ui.registerSingleton(F4,whe);Cc="1.3.36.3.3.2.8.1.1",_it=`${Cc}.1`,xit=`${Cc}.2`,Sit=`${Cc}.3`,wit=`${Cc}.4`,Ait=`${Cc}.5`,Eit=`${Cc}.6`,Tit=`${Cc}.7`,Rit=`${Cc}.8`,Iit=`${Cc}.9`,Cit=`${Cc}.10`,Nit=`${Cc}.11`,Oit=`${Cc}.12`,Pit=`${Cc}.13`,kit=`${Cc}.14`,Dit="brainpoolP160r1",Mit="brainpoolP160t1",Lit="brainpoolP192r1",Bit="brainpoolP192t1",$it="brainpoolP224r1",Uit="brainpoolP224t1",Fit="brainpoolP256r1",zit="brainpoolP256t1",Vit="brainpoolP320r1",Hit="brainpoolP320t1",Git="brainpoolP384r1",jit="brainpoolP384t1",qit="brainpoolP512r1",Jit="brainpoolP512t1",xi="ECDSA",h9=hF=class{toAsnAlgorithm(e){switch(e.name.toLowerCase()){case xi.toLowerCase():if("hash"in e)switch((typeof e.hash=="string"?e.hash:e.hash.name).toLowerCase()){case"sha-1":return Vrt;case"sha-256":return Hrt;case"sha-384":return Grt;case"sha-512":return jrt}else if("namedCurve"in e){let r="";switch(e.namedCurve){case"P-256":r=hme;break;case"K-256":r=hF.SECP256K1;break;case"P-384":r=gme;break;case"P-521":r=yme;break;case Dit:r=_it;break;case Mit:r=xit;break;case Lit:r=Sit;break;case Bit:r=wit;break;case $it:r=Ait;break;case Uit:r=Eit;break;case Fit:r=Tit;break;case zit:r=Rit;break;case Vit:r=Iit;break;case Hit:r=Cit;break;case Git:r=Nit;break;case jit:r=Oit;break;case qit:r=Pit;break;case Jit:r=kit;break}if(r)return new Qe({algorithm:G2,parameters:dt.serialize(new Mf({namedCurve:r}))})}}return null}toWebAlgorithm(e){switch(e.algorithm){case XC:return{name:xi,hash:{name:"SHA-1"}};case YC:return{name:xi,hash:{name:"SHA-256"}};case ZC:return{name:xi,hash:{name:"SHA-384"}};case e9:return{name:xi,hash:{name:"SHA-512"}};case G2:{if(!e.parameters)throw new TypeError("Cannot get required parameters from EC algorithm");switch(dt.parse(e.parameters,Mf).namedCurve){case hme:return{name:xi,namedCurve:"P-256"};case hF.SECP256K1:return{name:xi,namedCurve:"K-256"};case gme:return{name:xi,namedCurve:"P-384"};case yme:return{name:xi,namedCurve:"P-521"};case _it:return{name:xi,namedCurve:Dit};case xit:return{name:xi,namedCurve:Mit};case Sit:return{name:xi,namedCurve:Lit};case wit:return{name:xi,namedCurve:Bit};case Ait:return{name:xi,namedCurve:$it};case Eit:return{name:xi,namedCurve:Uit};case Tit:return{name:xi,namedCurve:Fit};case Rit:return{name:xi,namedCurve:zit};case Iit:return{name:xi,namedCurve:Vit};case Cit:return{name:xi,namedCurve:Hit};case Nit:return{name:xi,namedCurve:Git};case Oit:return{name:xi,namedCurve:jit};case Pit:return{name:xi,namedCurve:qit};case kit:return{name:xi,namedCurve:Jit}}}}return null}};h9.SECP256K1="1.3.132.0.10";h9=hF=P([H1()],h9);ui.registerSingleton(v9,h9);iot=Symbol("name"),oot=Symbol("value"),zr=class{constructor(e,r={},n=""){this[iot]=e,this[oot]=n;for(let i in r)this[i]=r[i]}};zr.NAME=iot;zr.VALUE=oot;Ahe=class{static toTextObject(e){let r=new zr("Algorithm Identifier",{},zf.toString(e.algorithm));if(e.parameters)switch(e.algorithm){case G2:{let n=new h9().toWebAlgorithm(e);n&&"namedCurve"in n?r["Named Curve"]=n.namedCurve:r.Parameters=e.parameters;break}default:r.Parameters=e.parameters}return r}},zf=class{static toString(e){let r=this.items[e];return r||e}};zf.items={[q2]:"sha1",[qU]:"sha224",[J2]:"sha256",[W2]:"sha384",[K2]:"sha512",[Lf]:"rsaEncryption",[C4]:"sha1WithRSAEncryption",[Zrt]:"sha224WithRSAEncryption",[jU]:"sha256WithRSAEncryption",[N4]:"sha384WithRSAEncryption",[O4]:"sha512WithRSAEncryption",[G2]:"ecPublicKey",[XC]:"ecdsaWithSHA1",[GU]:"ecdsaWithSHA224",[YC]:"ecdsaWithSHA256",[ZC]:"ecdsaWithSHA384",[e9]:"ecdsaWithSHA512",[Htt]:"TLS WWW server authentication",[Gtt]:"TLS WWW client authentication",[jtt]:"Code Signing",[qtt]:"E-mail Protection",[Jtt]:"Time Stamping",[Wtt]:"OCSP Signing",[$rt]:"Signed Data"};Fh=class{static serialize(e){return this.serializeObj(e).join(`
`)}static pad(e=0){return"".padStart(2*e," ")}static serializeObj(e,r=0){let n=[],i=this.pad(r++),o="",s=e[zr.VALUE];s&&(o=` ${s}`),n.push(`${i}${e[zr.NAME]}:${o}`),i=this.pad(r);for(let a in e){if(typeof a=="symbol")continue;let c=e[a],l=a?`${a}: `:"";if(typeof c=="string"||typeof c=="number"||typeof c=="boolean")n.push(`${i}${l}${c}`);else if(c instanceof Date)n.push(`${i}${l}${c.toUTCString()}`);else if(Array.isArray(c))for(let u of c)u[zr.NAME]=a,n.push(...this.serializeObj(u,r));else if(c instanceof zr)c[zr.NAME]=a,n.push(...this.serializeObj(c,r));else if(ct.isBufferSource(c))a?(n.push(`${i}${l}`),n.push(...this.serializeBufferSource(c,r+1))):n.push(...this.serializeBufferSource(c,r));else if("toTextObject"in c){let u=c.toTextObject();u[zr.NAME]=a,n.push(...this.serializeObj(u,r))}else throw new TypeError("Cannot serialize data in text format. Unsupported type.")}return n}static serializeBufferSource(e,r=0){let n=this.pad(r),i=ct.toUint8Array(e),o=[];for(let s=0;s<i.length;){let a=[];for(let c=0;c<16&&s<i.length;c++){c===8&&a.push("");let l=i[s++].toString(16).padStart(2,"0");a.push(l)}o.push(`${n}${a.join(" ")}`)}return o}static serializeAlgorithm(e){return this.algorithmSerializer.toTextObject(e)}};Fh.oidSerializer=zf;Fh.algorithmSerializer=Ahe;Q1=class t{constructor(...e){if(e.length===1){let r=e[0];this.rawData=dt.serialize(r),this.onInit(r)}else{let r=dt.parse(e[0],e[1]);this.rawData=ct.toArrayBuffer(e[0]),this.onInit(r)}}equal(e){return e instanceof t?J$(e.rawData,this.rawData):!1}toString(e="text"){switch(e){case"asn":return dt.toString(this.rawData);case"text":return Fh.serialize(this.toTextObject());case"hex":return Tt.ToHex(this.rawData);case"base64":return Tt.ToBase64(this.rawData);case"base64url":return Tt.ToBase64Url(this.rawData);default:throw TypeError("Argument 'format' is unsupported value")}}getTextName(){return this.constructor.NAME}toTextObject(){let e=this.toTextObjectEmpty();return e[""]=this.rawData,e}toTextObjectEmpty(e){return new zr(this.getTextName(),{},e)}};Q1.NAME="ASN";Xu=class t extends Q1{constructor(...e){let r;ct.isBufferSource(e[0])?r=ct.toArrayBuffer(e[0]):r=dt.serialize(new Xs({extnID:e[0],critical:e[1],extnValue:new Lt(ct.toArrayBuffer(e[2]))})),super(r,Xs)}onInit(e){this.type=e.extnID,this.critical=e.critical,this.value=e.extnValue.buffer}toTextObject(){let e=this.toTextObjectWithoutValue();return e[""]=this.value,e}toTextObjectWithoutValue(){let e=this.toTextObjectEmpty(this.critical?"critical":void 0);return e[zr.NAME]===t.NAME&&(e[zr.NAME]=zf.toString(this.type)),e}},g9=class t{static isCryptoKeyPair(e){return e&&e.privateKey&&e.publicKey}static isCryptoKey(e){return e&&e.usages&&e.type&&e.algorithm&&e.extractable!==void 0}constructor(){this.items=new Map,this[sot]="CryptoProvider",typeof self<"u"&&typeof crypto<"u"?this.set(t.DEFAULT,crypto):typeof global<"u"&&global.crypto&&global.crypto.subtle&&this.set(t.DEFAULT,global.crypto)}clear(){this.items.clear()}delete(e){return this.items.delete(e)}forEach(e,r){return this.items.forEach(e,r)}has(e){return this.items.has(e)}get size(){return this.items.size}entries(){return this.items.entries()}keys(){return this.items.keys()}values(){return this.items.values()}[Symbol.iterator](){return this.items[Symbol.iterator]()}get(e=t.DEFAULT){let r=this.items.get(e.toLowerCase());if(!r)throw new Error(`Cannot get Crypto by name '${e}'`);return r}set(e,r){if(typeof e=="string"){if(!r)throw new TypeError("Argument 'value' is required");this.items.set(e.toLowerCase(),r)}else this.items.set(t.DEFAULT,e);return this}};sot=Symbol.toStringTag;g9.DEFAULT="default";Zs=new g9,ZQt=/^[0-2](?:\.[1-9][0-9]*)+$/;yF=class{constructor(e={}){this.items={};for(let r in e)this.register(r,e[r])}get(e){return this.items[e]||null}findId(e){return eXt(e)?e:this.get(e)}register(e,r){this.items[e]=r,this.items[r]=e}},Rc=new yF;Rc.register("CN","2.5.4.3");Rc.register("L","2.5.4.7");Rc.register("ST","2.5.4.8");Rc.register("O","2.5.4.10");Rc.register("OU","2.5.4.11");Rc.register("C","2.5.4.6");Rc.register("DC","0.9.2342.19200300.100.1.25");Rc.register("E","1.2.840.113549.1.9.1");Rc.register("G","2.5.4.42");Rc.register("I","2.5.4.43");Rc.register("SN","2.5.4.4");Rc.register("T","2.5.4.12");W1=class t{static isASCII(e){for(let r=0;r<e.length;r++)if(e.charCodeAt(r)>255)return!1;return!0}static isPrintableString(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/g.test(e)}constructor(e,r={}){this.extraNames=new yF,this.asn=new Vn;for(let n in r)if(Object.prototype.hasOwnProperty.call(r,n)){let i=r[n];this.extraNames.register(n,i)}typeof e=="string"?this.asn=this.fromString(e):e instanceof Vn?this.asn=e:ct.isBufferSource(e)?this.asn=dt.parse(e,Vn):this.asn=this.fromJSON(e)}getField(e){let r=this.extraNames.findId(e)||Rc.findId(e),n=[];for(let i of this.asn)for(let o of i)o.type===r&&n.push(o.value.toString());return n}getName(e){return this.extraNames.get(e)||Rc.get(e)}toString(){return this.asn.map(e=>e.map(r=>{let n=this.getName(r.type)||r.type,i=r.value.anyValue?`#${Tt.ToHex(r.value.anyValue)}`:rXt(r.value.toString());return`${n}=${i}`}).join("+")).join(", ")}toJSON(){var e;let r=[];for(let n of this.asn){let i={};for(let o of n){let s=this.getName(o.type)||o.type;(e=i[s])!==null&&e!==void 0||(i[s]=[]),i[s].push(o.value.anyValue?`#${Tt.ToHex(o.value.anyValue)}`:o.value.toString())}r.push(i)}return r}fromString(e){let r=new Vn,n=/(\d\.[\d.]*\d|[A-Za-z]+)=((?:"")|(?:".*?[^\\]")|(?:[^,+].*?(?:[^\\][,+]))|(?:))([,+])?/g,i=null,o=",";for(;i=n.exec(`${e},`);){let[,s,a]=i,c=a[a.length-1];(c===","||c==="+")&&(a=a.slice(0,a.length-1),i[3]=c);let l=i[3];s=this.getTypeOid(s);let u=this.createAttribute(s,a);o==="+"?r[r.length-1].push(u):r.push(new R1([u])),o=l}return r}fromJSON(e){let r=new Vn;for(let n of e){let i=new R1;for(let o in n){let s=this.getTypeOid(o),a=n[o];for(let c of a){let l=this.createAttribute(s,c);i.push(l)}}r.push(i)}return r}getTypeOid(e){if(/[\d.]+/.test(e)||(e=this.getName(e)||""),!e)throw new Error(`Cannot get OID for name type '${e}'`);return e}createAttribute(e,r){let n=new S2({type:e});if(typeof r=="object")for(let i in r)switch(i){case"ia5String":n.value.ia5String=r[i];break;case"utf8String":n.value.utf8String=r[i];break;case"universalString":n.value.universalString=r[i];break;case"bmpString":n.value.bmpString=r[i];break;case"printableString":n.value.printableString=r[i];break}else if(r[0]==="#")n.value.anyValue=Tt.FromHex(r.slice(1));else{let i=this.processStringValue(r);e===this.getName("E")||e===this.getName("DC")?n.value.ia5String=i:t.isPrintableString(i)?n.value.printableString=i:n.value.utf8String=i}return n}processStringValue(e){let r=/"(.*?[^\\])?"/.exec(e);return r&&(e=r[1]),e.replace(/\\0a/ig,`
`).replace(/\\0d/ig,"\r").replace(/\\0g/ig,"	").replace(/\\(.)/g,"$1")}toArrayBuffer(){return dt.serialize(this.asn)}async getThumbprint(...e){var r;let n,i="SHA-1";return e.length>=1&&!(!((r=e[0])===null||r===void 0)&&r.subtle)?(i=e[0]||i,n=e[1]||Zs.get()):n=e[0]||Zs.get(),await n.subtle.digest(i,this.toArrayBuffer())}},aot="Cannot initialize GeneralName from ASN.1 data.",Wit=`${aot} Unsupported string format in use.`,nXt=`${aot} Value doesn't match to GUID regular expression.`,Kit=/^([0-9a-f]{8})-?([0-9a-f]{4})-?([0-9a-f]{4})-?([0-9a-f]{4})-?([0-9a-f]{12})$/i,Qit="1.3.6.1.4.1.311.25.1",Xit="1.3.6.1.4.1.311.20.2.3",mhe="dns",hhe="dn",ghe="email",yhe="ip",bhe="url",vhe="guid",_he="upn",pF="id",Ff=class extends Q1{constructor(...e){let r;if(e.length===2)switch(e[0]){case hhe:{let n=new W1(e[1]).toArrayBuffer(),i=dt.parse(n,Vn);r=new Ht({directoryName:i});break}case mhe:r=new Ht({dNSName:e[1]});break;case ghe:r=new Ht({rfc822Name:e[1]});break;case vhe:{let n=new RegExp(Kit,"i").exec(e[1]);if(!n)throw new Error("Cannot parse GUID value. Value doesn't match to regular expression");let i=n.slice(1).map((o,s)=>s<3?Tt.ToHex(new Uint8Array(Tt.FromHex(o)).reverse()):o).join("");r=new Ht({otherName:new I1({typeId:Qit,value:dt.serialize(new Lt(Tt.FromHex(i)))})});break}case yhe:r=new Ht({iPAddress:e[1]});break;case pF:r=new Ht({registeredID:e[1]});break;case _he:{r=new Ht({otherName:new I1({typeId:Xit,value:dt.serialize(Wpe.toASN(e[1]))})});break}case bhe:r=new Ht({uniformResourceIdentifier:e[1]});break;default:throw new Error("Cannot create GeneralName. Unsupported type of the name")}else ct.isBufferSource(e[0])?r=dt.parse(e[0],Ht):r=e[0];super(r)}onInit(e){if(e.dNSName!=null)this.type=mhe,this.value=e.dNSName;else if(e.rfc822Name!=null)this.type=ghe,this.value=e.rfc822Name;else if(e.iPAddress!=null)this.type=yhe,this.value=e.iPAddress;else if(e.uniformResourceIdentifier!=null)this.type=bhe,this.value=e.uniformResourceIdentifier;else if(e.registeredID!=null)this.type=pF,this.value=e.registeredID;else if(e.directoryName!=null)this.type=hhe,this.value=new W1(e.directoryName).toString();else if(e.otherName!=null)if(e.otherName.typeId===Qit){this.type=vhe;let r=dt.parse(e.otherName.value,Lt),n=new RegExp(Kit,"i").exec(Tt.ToHex(r));if(!n)throw new Error(nXt);this.value=n.slice(1).map((i,o)=>o<3?Tt.ToHex(new Uint8Array(Tt.FromHex(i)).reverse()):i).join("-")}else if(e.otherName.typeId===Xit)this.type=_he,this.value=dt.parse(e.otherName.value,So).toString();else throw new Error(Wit);else throw new Error(Wit)}toJSON(){return{type:this.type,value:this.value}}toTextObject(){let e;switch(this.type){case hhe:case mhe:case vhe:case yhe:case pF:case _he:case bhe:e=this.type.toUpperCase();break;case ghe:e="Email";break;default:throw new Error("Unsupported GeneralName type")}let r=this.value;return this.type===pF&&(r=zf.toString(r)),new zr(e,void 0,r)}},n_=class extends Q1{constructor(e){let r;if(e instanceof li)r=e;else if(Array.isArray(e)){let n=[];for(let i of e)if(i instanceof Ht)n.push(i);else{let o=dt.parse(new Ff(i.type,i.value).rawData,Ht);n.push(o)}r=new li(n)}else if(ct.isBufferSource(e))r=dt.parse(e,li);else throw new Error("Cannot initialize GeneralNames. Incorrect incoming arguments");super(r)}onInit(e){let r=[];for(let n of e){let i=null;try{i=new Ff(n)}catch{continue}r.push(i)}this.items=r}toJSON(){return this.items.map(e=>e.toJSON())}toTextObject(){let e=super.toTextObjectEmpty();for(let r of this.items){let n=r.toTextObject(),i=e[n[zr.NAME]];Array.isArray(i)||(i=[],e[n[zr.NAME]]=i),i.push(n)}return e}};n_.NAME="GeneralNames";m9="-{5}",y9="\\n",iXt=`[^${y9}]+`,oXt=`${m9}BEGIN (${iXt}(?=${m9}))${m9}`,sXt=`${m9}END \\1${m9}`,z4="\\n",aXt=`[^:${y9}]+`,cXt=`(?:[^${y9}]+${z4}(?: +[^${y9}]+${z4})*)`,lXt="[a-zA-Z0-9=+/]+",uXt=`(?:${lXt}${z4})+`,Yit=`${oXt}${z4}(?:((?:${aXt}: ${cXt})+))?${z4}?(${uXt})${sXt}`,Ca=class{static isPem(e){return typeof e=="string"&&new RegExp(Yit,"g").test(e)}static decodeWithHeaders(e){e=e.replace(/\r/g,"");let r=new RegExp(Yit,"g"),n=[],i=null;for(;i=r.exec(e);){let o=i[3].replace(new RegExp(`[${y9}]+`,"g"),""),s={type:i[1],headers:[],rawData:Tt.FromBase64(o)},a=i[2];if(a){let c=a.split(new RegExp(z4,"g")),l=null;for(let u of c){let[d,p]=u.split(/:(.*)/);if(p===void 0){if(!l)throw new Error("Cannot parse PEM string. Incorrect header value");l.value+=d.trim()}else l&&s.headers.push(l),l={key:d,value:p.trim()}}l&&s.headers.push(l)}n.push(s)}return n}static decode(e){return this.decodeWithHeaders(e).map(n=>n.rawData)}static decodeFirst(e){let r=this.decode(e);if(!r.length)throw new RangeError("PEM string doesn't contain any objects");return r[0]}static encode(e,r){if(Array.isArray(e)){let n=new Array;return r?e.forEach(i=>{if(!ct.isBufferSource(i))throw new TypeError("Cannot encode array of BufferSource in PEM format. Not all items of the array are BufferSource");n.push(this.encodeStruct({type:r,rawData:ct.toArrayBuffer(i)}))}):e.forEach(i=>{if(!("type"in i))throw new TypeError("Cannot encode array of PemStruct in PEM format. Not all items of the array are PemStrut");n.push(this.encodeStruct(i))}),n.join(`
`)}else{if(!r)throw new Error("Required argument 'tag' is missed");return this.encodeStruct({type:r,rawData:ct.toArrayBuffer(e)})}}static encodeStruct(e){var r;let n=e.type.toLocaleUpperCase(),i=[];if(i.push(`-----BEGIN ${n}-----`),!((r=e.headers)===null||r===void 0)&&r.length){for(let l of e.headers)i.push(`${l.key}: ${l.value}`);i.push("")}let o=Tt.ToBase64(e.rawData),s,a=0,c=Array();for(;a<o.length&&(o.length-a<64?s=o.substring(a):(s=o.substring(a,a+64),a+=64),s.length!==0);)if(c.push(s),s.length<64)break;return i.push(...c),i.push(`-----END ${n}-----`),i.join(`
`)}};Ca.CertificateTag="CERTIFICATE";Ca.CrlTag="CRL";Ca.CertificateRequestTag="CERTIFICATE REQUEST";Ca.PublicKeyTag="PUBLIC KEY";Ca.PrivateKeyTag="PRIVATE KEY";X1=class t extends Q1{static isAsnEncoded(e){return ct.isBufferSource(e)||typeof e=="string"}static toArrayBuffer(e){if(typeof e=="string"){if(Ca.isPem(e))return Ca.decode(e)[0];if(Tt.isHex(e))return Tt.FromHex(e);if(Tt.isBase64(e))return Tt.FromBase64(e);if(Tt.isBase64Url(e))return Tt.FromBase64Url(e);throw new TypeError("Unsupported format of 'raw' argument. Must be one of DER, PEM, HEX, Base64, or Base4Url")}else{let r=Tt.ToBinary(e);return Ca.isPem(r)?Ca.decode(r)[0]:Tt.isHex(r)?Tt.FromHex(r):Tt.isBase64(r)?Tt.FromBase64(r):Tt.isBase64Url(r)?Tt.FromBase64Url(r):ct.toArrayBuffer(e)}}constructor(...e){t.isAsnEncoded(e[0])?super(t.toArrayBuffer(e[0]),e[1]):super(e[0])}toString(e="pem"){switch(e){case"pem":return Ca.encode(this.rawData,this.tag);default:return super.toString(e)}}},K1=class t extends X1{static async create(e,r=Zs.get()){if(e instanceof t)return e;if(g9.isCryptoKey(e)){if(e.type!=="public")throw new TypeError("Public key is required");let n=await r.subtle.exportKey("spki",e);return new t(n)}else{if(e.publicKey)return e.publicKey;if(ct.isBufferSource(e))return new t(e);throw new TypeError("Unsupported PublicKeyType")}}constructor(e){X1.isAsnEncoded(e)?super(e,Qs):super(e),this.tag=Ca.PublicKeyTag}async export(...e){let r,n=["verify"],i={hash:"SHA-256",...this.algorithm};e.length>1?(i=e[0]||i,n=e[1]||n,r=e[2]||Zs.get()):r=e[0]||Zs.get();let o=this.rawData,s=dt.parse(this.rawData,Qs);return s.algorithm.algorithm===U1&&(o=dXt(s,o)),r.subtle.importKey("spki",o,i,!0,n)}onInit(e){let r=ui.resolve(F4),n=this.algorithm=r.toWebAlgorithm(e.algorithm);switch(e.algorithm.algorithm){case Lf:{let i=dt.parse(e.subjectPublicKey,D4),o=ct.toUint8Array(i.modulus);n.publicExponent=ct.toUint8Array(i.publicExponent),n.modulusLength=(o[0]?o:o.slice(1)).byteLength<<3;break}}}async getThumbprint(...e){var r;let n,i="SHA-1";return e.length>=1&&!(!((r=e[0])===null||r===void 0)&&r.subtle)?(i=e[0]||i,n=e[1]||Zs.get()):n=e[0]||Zs.get(),await n.subtle.digest(i,this.rawData)}async getKeyIdentifier(...e){let r,n="SHA-1";e.length===1?typeof e[0]=="string"?(n=e[0],r=Zs.get()):r=e[0]:e.length===2?(n=e[0],r=e[1]):r=Zs.get();let i=dt.parse(this.rawData,Qs);return await r.subtle.digest(n,i.subjectPublicKey)}toTextObject(){let e=this.toTextObjectEmpty(),r=dt.parse(this.rawData,Qs);switch(e.Algorithm=Fh.serializeAlgorithm(r.algorithm),r.algorithm.algorithm){case G2:e["EC Point"]=r.subjectPublicKey;break;case Lf:default:e["Raw Data"]=r.subjectPublicKey}return e}};bF=class t extends Xu{static async create(e,r=!1,n=Zs.get()){if("name"in e&&"serialNumber"in e)return new t(e,r);let o=await(await K1.create(e,n)).getKeyIdentifier(n);return new t(Tt.ToHex(o),r)}constructor(...e){if(ct.isBufferSource(e[0]))super(e[0]);else if(typeof e[0]=="string"){let r=new Of({keyIdentifier:new T2(Tt.FromHex(e[0]))});super(gU,e[1],dt.serialize(r))}else{let r=e[0],n=r.name instanceof n_?dt.parse(r.name.rawData,li):r.name,i=new Of({authorityCertIssuer:n,authorityCertSerialNumber:Tt.FromHex(r.serialNumber)});super(gU,e[1],dt.serialize(i))}}onInit(e){super.onInit(e);let r=dt.parse(e.extnValue,Of);r.keyIdentifier&&(this.keyId=Tt.ToHex(r.keyIdentifier)),(r.authorityCertIssuer||r.authorityCertSerialNumber)&&(this.certId={name:r.authorityCertIssuer||[],serialNumber:r.authorityCertSerialNumber?Tt.ToHex(r.authorityCertSerialNumber):""})}toTextObject(){let e=this.toTextObjectWithoutValue(),r=dt.parse(this.value,Of);return r.authorityCertIssuer&&(e["Authority Issuer"]=new n_(r.authorityCertIssuer).toTextObject()),r.authorityCertSerialNumber&&(e["Authority Serial Number"]=r.authorityCertSerialNumber),r.keyIdentifier&&(e[""]=r.keyIdentifier),e}};bF.NAME="Authority Key Identifier";vF=class extends Xu{constructor(...e){if(ct.isBufferSource(e[0])){super(e[0]);let r=dt.parse(this.value,R2);this.ca=r.cA,this.pathLength=r.pathLenConstraint}else{let r=new R2({cA:e[0],pathLenConstraint:e[1]});super(yU,e[2],dt.serialize(r)),this.ca=e[0],this.pathLength=e[1]}}toTextObject(){let e=this.toTextObjectWithoutValue();return this.ca&&(e.CA=this.ca),this.pathLength!==void 0&&(e["Path Length"]=this.pathLength),e}};vF.NAME="Basic Constraints";(function(t){t.serverAuth="1.3.6.1.5.5.7.3.1",t.clientAuth="1.3.6.1.5.5.7.3.2",t.codeSigning="1.3.6.1.5.5.7.3.3",t.emailProtection="1.3.6.1.5.5.7.3.4",t.timeStamping="1.3.6.1.5.5.7.3.8",t.ocspSigning="1.3.6.1.5.5.7.3.9"})(Zit||(Zit={}));_F=class extends Xu{constructor(...e){if(ct.isBufferSource(e[0])){super(e[0]);let r=dt.parse(this.value,IC);this.usages=r.map(n=>n)}else{let r=new IC(e[0]);super(SU,e[1],dt.serialize(r)),this.usages=e[0]}}toTextObject(){let e=this.toTextObjectWithoutValue();return e[""]=this.usages.map(r=>zf.toString(r)).join(", "),e}};_F.NAME="Extended Key Usages";(function(t){t[t.digitalSignature=1]="digitalSignature",t[t.nonRepudiation=2]="nonRepudiation",t[t.keyEncipherment=4]="keyEncipherment",t[t.dataEncipherment=8]="dataEncipherment",t[t.keyAgreement=16]="keyAgreement",t[t.keyCertSign=32]="keyCertSign",t[t.cRLSign=64]="cRLSign",t[t.encipherOnly=128]="encipherOnly",t[t.decipherOnly=256]="decipherOnly"})(eot||(eot={}));xF=class extends Xu{constructor(...e){if(ct.isBufferSource(e[0])){super(e[0]);let r=dt.parse(this.value,p4);this.usages=r.toNumber()}else{let r=new p4(e[0]);super(wU,e[1],dt.serialize(r)),this.usages=e[0]}}toTextObject(){let e=this.toTextObjectWithoutValue(),r=dt.parse(this.value,p4);return e[""]=r.toJSON().join(", "),e}};xF.NAME="Key Usages";SF=class t extends Xu{static async create(e,r=!1,n=Zs.get()){let o=await(await K1.create(e,n)).getKeyIdentifier(n);return new t(Tt.ToHex(o),r)}constructor(...e){if(ct.isBufferSource(e[0])){super(e[0]);let r=dt.parse(this.value,Sc);this.keyId=Tt.ToHex(r)}else{let r=typeof e[0]=="string"?Tt.FromHex(e[0]):e[0],n=new Sc(r);super(Tfe,e[1],dt.serialize(n)),this.keyId=Tt.ToHex(r)}}toTextObject(){let e=this.toTextObjectWithoutValue(),r=dt.parse(this.value,Sc);return e[""]=r,e}};SF.NAME="Subject Key Identifier";wF=class extends Xu{constructor(...e){ct.isBufferSource(e[0])?super(e[0]):super(wfe,e[1],new n_(e[0]||[]).rawData)}onInit(e){super.onInit(e);let r=dt.parse(e.extnValue,RU);this.names=new n_(r)}toTextObject(){let e=this.toTextObjectWithoutValue(),r=this.names.toTextObject();for(let n in r)e[n]=r[n];return e}};wF.NAME="Subject Alternative Name";Ic=class{static register(e,r){this.items.set(e,r)}static create(e){let r=new Xu(e),n=this.items.get(r.type);return n?new n(e):r}};Ic.items=new Map;AF=class extends Xu{constructor(...e){var r;if(ct.isBufferSource(e[0])){super(e[0]);let n=dt.parse(this.value,wC);this.policies=n.map(i=>i.policyIdentifier)}else{let n=e[0],i=(r=e[1])!==null&&r!==void 0?r:!1,o=new wC(n.map(s=>new I2({policyIdentifier:s})));super(vU,i,dt.serialize(o)),this.policies=n}}toTextObject(){let e=this.toTextObjectWithoutValue();return e.Policy=this.policies.map(r=>new zr("",{},zf.toString(r))),e}};AF.NAME="Certificate Policies";Ic.register(vU,AF);EF=class extends Xu{constructor(...e){var r;if(ct.isBufferSource(e[0]))super(e[0]);else if(Array.isArray(e[0])&&typeof e[0][0]=="string"){let i=e[0].map(s=>new Pf({distributionPoint:new Dh({fullName:[new Ht({uniformResourceIdentifier:s})]})})),o=new O1(i);super(_U,e[1],dt.serialize(o))}else{let n=new O1(e[0]);super(_U,e[1],dt.serialize(n))}(r=this.distributionPoints)!==null&&r!==void 0||(this.distributionPoints=[])}onInit(e){super.onInit(e);let r=dt.parse(e.extnValue,O1);this.distributionPoints=r}toTextObject(){let e=this.toTextObjectWithoutValue();return e["Distribution Point"]=this.distributionPoints.map(r=>{var n;let i={};return r.distributionPoint&&(i[""]=(n=r.distributionPoint.fullName)===null||n===void 0?void 0:n.map(o=>new Ff(o).toString()).join(", ")),r.reasons&&(i.Reasons=r.reasons.toString()),r.cRLIssuer&&(i["CRL Issuer"]=r.cRLIssuer.map(o=>o.toString()).join(", ")),i}),e}};EF.NAME="CRL Distribution Points";TF=class extends Xu{constructor(...e){var r,n,i,o;if(ct.isBufferSource(e[0]))super(e[0]);else if(e[0]instanceof E2){let s=new E2(e[0]);super(hU,e[1],dt.serialize(s))}else{let s=e[0],a=new E2;mF(a,s,ife,"ocsp"),mF(a,s,ofe,"caIssuers"),mF(a,s,sfe,"timeStamping"),mF(a,s,afe,"caRepository"),super(hU,e[1],dt.serialize(a))}(r=this.ocsp)!==null&&r!==void 0||(this.ocsp=[]),(n=this.caIssuers)!==null&&n!==void 0||(this.caIssuers=[]),(i=this.timeStamping)!==null&&i!==void 0||(this.timeStamping=[]),(o=this.caRepository)!==null&&o!==void 0||(this.caRepository=[])}onInit(e){super.onInit(e),this.ocsp=[],this.caIssuers=[],this.timeStamping=[],this.caRepository=[],dt.parse(e.extnValue,E2).forEach(n=>{switch(n.accessMethod){case ife:this.ocsp.push(new Ff(n.accessLocation));break;case ofe:this.caIssuers.push(new Ff(n.accessLocation));break;case sfe:this.timeStamping.push(new Ff(n.accessLocation));break;case afe:this.caRepository.push(new Ff(n.accessLocation));break}})}toTextObject(){let e=this.toTextObjectWithoutValue();return this.ocsp.length&&fF(e,"OCSP",this.ocsp),this.caIssuers.length&&fF(e,"CA Issuers",this.caIssuers),this.timeStamping.length&&fF(e,"Time Stamping",this.timeStamping),this.caRepository.length&&fF(e,"CA Repository",this.caRepository),e}};TF.NAME="Authority Info Access";V4=class t extends Q1{constructor(...e){let r;if(ct.isBufferSource(e[0]))r=ct.toArrayBuffer(e[0]);else{let n=e[0],i=Array.isArray(e[1])?e[1].map(o=>ct.toArrayBuffer(o)):[];r=dt.serialize(new ys({type:n,values:i}))}super(r,ys)}onInit(e){this.type=e.type,this.values=e.values}toTextObject(){let e=this.toTextObjectWithoutValue();return e.Value=this.values.map(r=>new zr("",{"":r})),e}toTextObjectWithoutValue(){let e=this.toTextObjectEmpty();return e[zr.NAME]===t.NAME&&(e[zr.NAME]=zf.toString(this.type)),e}};V4.NAME="Attribute";RF=class extends V4{constructor(...e){var r;if(ct.isBufferSource(e[0]))super(e[0]);else{let n=new l9({printableString:e[0]});super(lhe,[dt.serialize(n)])}(r=this.password)!==null&&r!==void 0||(this.password="")}onInit(e){if(super.onInit(e),this.values[0]){let r=dt.parse(this.values[0],l9);this.password=r.toString()}}toTextObject(){let e=this.toTextObjectWithoutValue();return e[zr.VALUE]=this.password,e}};RF.NAME="Challenge Password";b9=class extends V4{constructor(...e){var r;if(ct.isBufferSource(e[0]))super(e[0]);else{let n=e[0],i=new qu;for(let o of n)i.push(dt.parse(o.rawData,Xs));super(d9,[dt.serialize(i)])}(r=this.items)!==null&&r!==void 0||(this.items=[])}onInit(e){if(super.onInit(e),this.values[0]){let r=dt.parse(this.values[0],qu);this.items=r.map(n=>Ic.create(dt.serialize(n)))}}toTextObject(){let e=this.toTextObjectWithoutValue(),r=this.items.map(n=>n.toTextObject());for(let n of r)e[n[zr.NAME]]=n;return e}};b9.NAME="Extensions";H4=class{static register(e,r){this.items.set(e,r)}static create(e){let r=new V4(e),n=this.items.get(r.type);return n?new n(e):r}};H4.items=new Map;CF="crypto.signatureFormatter",Ehe=class{toAsnSignature(e,r){return ct.toArrayBuffer(r)}toWebSignature(e,r){return ct.toArrayBuffer(r)}},The=gF=class{static createPssParams(e,r){let n=gF.getHashAlgorithm(e);return n?new Bf({hashAlgorithm:n,maskGenAlgorithm:new Qe({algorithm:F1,parameters:dt.serialize(n)}),saltLength:r}):null}static getHashAlgorithm(e){let r=ui.resolve(F4);return typeof e=="string"?r.toAsnAlgorithm({name:e}):typeof e=="object"&&e&&"name"in e?r.toAsnAlgorithm(e):null}toAsnAlgorithm(e){switch(e.name.toLowerCase()){case"rsassa-pkcs1-v1_5":if("hash"in e){let r;if(typeof e.hash=="string")r=e.hash;else if(e.hash&&typeof e.hash=="object"&&"name"in e.hash&&typeof e.hash.name=="string")r=e.hash.name.toUpperCase();else throw new Error("Cannot get hash algorithm name");switch(r.toLowerCase()){case"sha-1":return new Qe({algorithm:C4,parameters:null});case"sha-256":return new Qe({algorithm:jU,parameters:null});case"sha-384":return new Qe({algorithm:N4,parameters:null});case"sha-512":return new Qe({algorithm:O4,parameters:null})}}else return new Qe({algorithm:Lf,parameters:null});break;case"rsa-pss":if("hash"in e){if(!("saltLength"in e&&typeof e.saltLength=="number"))throw new Error("Cannot get 'saltLength' from 'alg' argument");let r=gF.createPssParams(e.hash,e.saltLength);if(!r)throw new Error("Cannot create PSS parameters");return new Qe({algorithm:U1,parameters:dt.serialize(r)})}else return new Qe({algorithm:U1,parameters:null})}return null}toWebAlgorithm(e){switch(e.algorithm){case Lf:return{name:"RSASSA-PKCS1-v1_5"};case C4:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case jU:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case N4:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case O4:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case U1:if(e.parameters){let r=dt.parse(e.parameters,Bf);return{name:"RSA-PSS",hash:ui.resolve(F4).toWebAlgorithm(r.hashAlgorithm),saltLength:r.saltLength}}else return{name:"RSA-PSS"}}return null}};The=gF=P([H1()],The);ui.registerSingleton(v9,The);Rhe=class{toAsnAlgorithm(e){switch(e.name.toLowerCase()){case"sha-1":return new Qe({algorithm:q2});case"sha-256":return new Qe({algorithm:J2});case"sha-384":return new Qe({algorithm:W2});case"sha-512":return new Qe({algorithm:K2})}return null}toWebAlgorithm(e){switch(e.algorithm){case q2:return{name:"SHA-1"};case J2:return{name:"SHA-256"};case W2:return{name:"SHA-384"};case K2:return{name:"SHA-512"}}return null}};Rhe=P([H1()],Rhe);ui.registerSingleton(v9,Rhe);zh=class t{addPadding(e,r){let n=ct.toUint8Array(r),i=new Uint8Array(e);return i.set(n,e-n.length),i}removePadding(e,r=!1){let n=ct.toUint8Array(e);for(let i=0;i<n.length;i++)if(n[i]){n=n.slice(i);break}if(r&&n[0]>127){let i=new Uint8Array(n.length+1);return i.set(n,1),i.buffer}return n.buffer}toAsnSignature(e,r){if(e.name==="ECDSA"){let n=e.namedCurve,i=t.namedCurveSize.get(n)||t.defaultNamedCurveSize,o=new j2,s=ct.toUint8Array(r);return o.r=this.removePadding(s.slice(0,i),!0),o.s=this.removePadding(s.slice(i,i+i),!0),dt.serialize(o)}return null}toWebSignature(e,r){if(e.name==="ECDSA"){let n=dt.parse(r,j2),i=e.namedCurve,o=t.namedCurveSize.get(i)||t.defaultNamedCurveSize,s=this.addPadding(o,this.removePadding(n.r)),a=this.addPadding(o,this.removePadding(n.s));return ket(s,a)}return null}};zh.namedCurveSize=new Map;zh.defaultNamedCurveSize=32;xhe="1.3.101.110",tot="1.3.101.111",She="1.3.101.112",rot="1.3.101.113",Ihe=class{toAsnAlgorithm(e){let r=null;switch(e.name.toLowerCase()){case"ed25519":r=She;break;case"x25519":r=xhe;break;case"eddsa":switch(e.namedCurve.toLowerCase()){case"ed25519":r=She;break;case"ed448":r=rot;break}break;case"ecdh-es":switch(e.namedCurve.toLowerCase()){case"x25519":r=xhe;break;case"x448":r=tot;break}}return r?new Qe({algorithm:r}):null}toWebAlgorithm(e){switch(e.algorithm){case She:return{name:"Ed25519"};case rot:return{name:"EdDSA",namedCurve:"Ed448"};case xhe:return{name:"X25519"};case tot:return{name:"ECDH-ES",namedCurve:"X448"}}return null}};Ihe=P([H1()],Ihe);ui.registerSingleton(v9,Ihe);Che=class extends X1{constructor(e){X1.isAsnEncoded(e)?super(e,J1):super(e),this.tag=Ca.CertificateRequestTag}onInit(e){this.tbs=dt.serialize(e.certificationRequestInfo),this.publicKey=new K1(e.certificationRequestInfo.subjectPKInfo);let r=ui.resolve(F4);this.signatureAlgorithm=r.toWebAlgorithm(e.signatureAlgorithm),this.signature=e.signature,this.attributes=e.certificationRequestInfo.attributes.map(i=>H4.create(dt.serialize(i)));let n=this.getAttribute(d9);this.extensions=[],n instanceof b9&&(this.extensions=n.items),this.subjectName=new W1(e.certificationRequestInfo.subject),this.subject=this.subjectName.toString()}getAttribute(e){for(let r of this.attributes)if(r.type===e)return r;return null}getAttributes(e){return this.attributes.filter(r=>r.type===e)}getExtension(e){for(let r of this.extensions)if(r.type===e)return r;return null}getExtensions(e){return this.extensions.filter(r=>r.type===e)}async verify(e=Zs.get()){let r={...this.publicKey.algorithm,...this.signatureAlgorithm},n=await this.publicKey.export(r,["verify"],e),i=ui.resolveAll(CF).reverse(),o=null;for(let a of i)if(o=a.toWebSignature(r,this.signature),o)break;if(!o)throw Error("Cannot convert WebCrypto signature value to ASN.1 format");return await e.subtle.verify(this.signatureAlgorithm,n,o,this.tbs)}toTextObject(){let e=this.toTextObjectEmpty(),r=dt.parse(this.rawData,J1),n=r.certificationRequestInfo,i=new zr("",{Version:`${Mh[n.version]} (${n.version})`,Subject:this.subject,"Subject Public Key Info":this.publicKey});if(this.attributes.length){let o=new zr("");for(let s of this.attributes){let a=s.toTextObject();o[a[zr.NAME]]=a}i.Attributes=o}return e.Data=i,e.Signature=new zr("",{Algorithm:Fh.serializeAlgorithm(r.signatureAlgorithm),"":r.signature}),e}};Che.NAME="PKCS#10 Certificate Request";IF=class extends X1{constructor(e){X1.isAsnEncoded(e)?super(e,Qd):super(e),this.tag=Ca.CertificateTag}onInit(e){let r=e.tbsCertificate;this.tbs=dt.serialize(r),this.serialNumber=Tt.ToHex(r.serialNumber),this.subjectName=new W1(r.subject),this.subject=new W1(r.subject).toString(),this.issuerName=new W1(r.issuer),this.issuer=this.issuerName.toString();let n=ui.resolve(F4);this.signatureAlgorithm=n.toWebAlgorithm(e.signatureAlgorithm),this.signature=e.signatureValue;let i=r.validity.notBefore.utcTime||r.validity.notBefore.generalTime;if(!i)throw new Error("Cannot get 'notBefore' value");this.notBefore=i;let o=r.validity.notAfter.utcTime||r.validity.notAfter.generalTime;if(!o)throw new Error("Cannot get 'notAfter' value");this.notAfter=o,this.extensions=[],r.extensions&&(this.extensions=r.extensions.map(s=>Ic.create(dt.serialize(s)))),this.publicKey=new K1(r.subjectPublicKeyInfo)}getExtension(e){for(let r of this.extensions)if(typeof e=="string"){if(r.type===e)return r}else if(r instanceof e)return r;return null}getExtensions(e){return this.extensions.filter(r=>typeof e=="string"?r.type===e:r instanceof e)}async verify(e={},r=Zs.get()){let n,i,o=e.publicKey;try{if(!o)n={...this.publicKey.algorithm,...this.signatureAlgorithm},i=await this.publicKey.export(n,["verify"],r);else if("publicKey"in o)n={...o.publicKey.algorithm,...this.signatureAlgorithm},i=await o.publicKey.export(n,["verify"],r);else if(o instanceof K1)n={...o.algorithm,...this.signatureAlgorithm},i=await o.export(n,["verify"],r);else if(ct.isBufferSource(o)){let l=new K1(o);n={...l.algorithm,...this.signatureAlgorithm},i=await l.export(n,["verify"],r)}else n={...o.algorithm,...this.signatureAlgorithm},i=o}catch{return!1}let s=ui.resolveAll(CF).reverse(),a=null;for(let l of s)if(a=l.toWebSignature(n,this.signature),a)break;if(!a)throw Error("Cannot convert ASN.1 signature value to WebCrypto format");let c=await r.subtle.verify(this.signatureAlgorithm,i,a,this.tbs);if(e.signatureOnly)return c;{let u=(e.date||new Date).getTime();return c&&this.notBefore.getTime()<u&&u<this.notAfter.getTime()}}async getThumbprint(...e){let r,n="SHA-1";return e[0]&&(e[0].subtle?r=e[0]:(n=e[0]||n,r=e[1])),r??(r=Zs.get()),await r.subtle.digest(n,this.rawData)}async isSelfSigned(e=Zs.get()){return this.subject===this.issuer&&await this.verify({signatureOnly:!0},e)}toTextObject(){let e=this.toTextObjectEmpty(),r=dt.parse(this.rawData,Qd),n=r.tbsCertificate,i=new zr("",{Version:`${Mh[n.version]} (${n.version})`,"Serial Number":n.serialNumber,"Signature Algorithm":Fh.serializeAlgorithm(n.signature),Issuer:this.issuer,Validity:new zr("",{"Not Before":n.validity.notBefore.getTime(),"Not After":n.validity.notAfter.getTime()}),Subject:this.subject,"Subject Public Key Info":this.publicKey});if(n.issuerUniqueID&&(i["Issuer Unique ID"]=n.issuerUniqueID),n.subjectUniqueID&&(i["Subject Unique ID"]=n.subjectUniqueID),this.extensions.length){let o=new zr("");for(let s of this.extensions){let a=s.toTextObject();o[a[zr.NAME]]=a}i.Extensions=o}return e.Data=i,e.Signature=new zr("",{Algorithm:Fh.serializeAlgorithm(r.signatureAlgorithm),"":r.signatureValue}),e}};IF.NAME="Certificate";(function(t){t[t.unspecified=0]="unspecified",t[t.keyCompromise=1]="keyCompromise",t[t.cACompromise=2]="cACompromise",t[t.affiliationChanged=3]="affiliationChanged",t[t.superseded=4]="superseded",t[t.cessationOfOperation=5]="cessationOfOperation",t[t.certificateHold=6]="certificateHold",t[t.removeFromCRL=8]="removeFromCRL",t[t.privilegeWithdrawn=9]="privilegeWithdrawn",t[t.aACompromise=10]="aACompromise"})(not||(not={}));Ic.register(yU,vF);Ic.register(SU,_F);Ic.register(wU,xF);Ic.register(Tfe,SF);Ic.register(gU,bF);Ic.register(wfe,wF);Ic.register(_U,EF);Ic.register(hU,TF);H4.register(lhe,RF);H4.register(d9,b9);ui.registerSingleton(CF,Ehe);ui.registerSingleton(CF,zh);zh.namedCurveSize.set("P-256",32);zh.namedCurveSize.set("K-256",32);zh.namedCurveSize.set("P-384",48);zh.namedCurveSize.set("P-521",66)});var lot,uot=y(()=>{"use strict";Af();lot=ti(Net(),1);cot();H$()});var Nhe=y(()=>{"use strict";Upe();Iet();uot()});function dot(t){if(t.length%2!=0)throw new Error("Hex string length must be multiple of 2");let e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2)e[r/2]=parseInt(t.substring(r,r+2),16);return e}function pot(t){let e="";for(let r=0;r<t.length;r++){let n=t[r].toString(16);e+=n.length>1?n:"0"+n}return e}function _9(t,e){return btoa(mXt(t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function mXt(t){let e="";for(let r=0;r<t.length;r+=1)e+=String.fromCharCode(t[r]);return e}var fot=y(()=>{"use strict";});function OF(){return BigInt("115792089210356248762697446949407573530086143415290314195533631308867097853951")}function mot(){return BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b")}function Ohe(t){return BigInt("0x"+pot(t))}function NF(t,e){let r=t.toString(16),n=e*2,i="";if(n<r.length)throw new Error(`cannot pack integer with ${r.length} hex chars into ${e} bytes`);return i="0".repeat(n-r.length),dot(i+r)}function Phe(t,e){let r=BigInt(1)<<BigInt(e);return(t&r)!==BigInt(0)}function hXt(t,e,r){if(e===BigInt(0))return BigInt(1);let n=t,i=e.toString(2);for(let o=1;o<i.length;++o)n=n*n%r,i[o]==="1"&&(n=n*t%r);return n}function gXt(t,e){if(e<=BigInt(0))throw new Error("p must be positive");let r=t%e;if(Phe(e,0)&&Phe(e,1)){let n=e+BigInt(1)>>BigInt(2),i=hXt(r,n,e);if(i*i%e!==r)throw new Error("could not find a modular square root");return i}throw new Error("unsupported modulus value")}function yXt(t,e){let r=OF(),n=r-BigInt(3),i=mot(),o=((t*t+n)*t+i)%r,s=gXt(o,r);return e!==Phe(s,0)&&(s=(r-s)%r),s}function bXt(t,e){let r=OF(),n=r-BigInt(3),i=mot(),o=((t*t+n)*t+i)%r;return e**BigInt(2)%r===o}function khe(t){let e=vXt(),r=e+1,n=2*e+1;if(t.length!==r&&t.length!==n)throw new Error("Invalid length: point is not in compressed or uncompressed format");if((t[0]===2||t[0]===3)&&t.length==r){let i=t[0]===3,o=Ohe(t.subarray(1,t.length)),s=OF();if(o<BigInt(0)||o>=s)throw new Error("x is out of range");let a=yXt(o,i);return{kty:"EC",crv:"P-256",x:_9(NF(o,32)),y:_9(NF(a,32)),ext:!0}}else if(t[0]===4&&t.length==n){let i=Ohe(t.subarray(1,e+1)),o=Ohe(t.subarray(e+1,2*e+1)),s=OF();if(i<BigInt(0)||i>=s||o<BigInt(0)||o>=s||!bXt(i,o))throw new Error("invalid uncompressed x and y coordinates");return{kty:"EC",crv:"P-256",x:_9(NF(i,32)),y:_9(NF(o,32)),ext:!0}}throw new Error("invalid format")}function vXt(){return 32}var Dhe=y(()=>{"use strict";fot();});function PF(t){let{uncompressedPrivateKeyHex:e,compressedPublicKeyHex:r}=t,n;try{n=khe(bh(r))}catch{throw new Error("unable to load API key: invalid public key. Did you switch your public and private key by accident? Is your public key a valid, compressed P-256 public key?")}return n.d=Epe(e,het),n}var Mhe=y(()=>{"use strict";Dhe();Af()});var got={};wr(got,{signWithApiKey:()=>_Xt});async function xXt(t){let{uncompressedPrivateKeyHex:e,compressedPublicKeyHex:r}=t,n=PF({uncompressedPrivateKeyHex:e,compressedPublicKeyHex:r});return await crypto.subtle.importKey("jwk",n,{name:"ECDSA",namedCurve:"P-256"},!1,["sign"])}async function SXt(t){let{key:e,content:r}=t,n=await crypto.subtle.sign({name:"ECDSA",hash:"SHA-256"},e,new TextEncoder().encode(r)),i=wXt(new Uint8Array(n));return Sf(i)}function wXt(t){if(t.length%2!=0||t.length==0||t.length>132)throw new Error("Invalid IEEE P1363 signature encoding. Length: "+t.length);let e=hot(t.subarray(0,t.length/2)),r=hot(t.subarray(t.length/2,t.length)),n=0,i=2+e.length+1+1+r.length,o;return i>=128?(o=new Uint8Array(i+3),o[n++]=48,o[n++]=129,o[n++]=i):(o=new Uint8Array(i+2),o[n++]=48,o[n++]=i),o[n++]=2,o[n++]=e.length,o.set(e,n),n+=e.length,o[n++]=2,o[n++]=r.length,o.set(r,n),o}function hot(t){let e=0;for(;e<t.length&&t[e]==0;)e++;e==t.length&&(e=t.length-1);let r=0;(t[e]&128)==128&&(r=1);let n=new Uint8Array(t.length-e+r);return n.set(t.subarray(e),r),n}var _Xt,yot=y(()=>{"use strict";Mhe();Af();_Xt=async t=>{let{content:e,publicKey:r,privateKey:n}=t,i=await xXt({uncompressedPrivateKeyHex:n,compressedPublicKeyHex:r});return await SXt({key:i,content:e})}});var bot={};wr(bot,{signWithApiKey:()=>AXt});import*as kF from"crypto";var AXt,vot=y(()=>{"use strict";Mhe();AXt=async t=>{let{content:e,publicKey:r,privateKey:n}=t,i=kF.createPrivateKey({key:PF({uncompressedPrivateKeyHex:n,compressedPublicKeyHex:r}),format:"jwk"}),o=kF.createSign("SHA256");return o.write(Buffer.from(e)),o.end(),o.sign(i,"hex")}});function Vh(t,e=""){if(typeof t!="boolean"){let r=e&&`"${e}"`;throw new Error(r+"expected boolean, got type="+typeof t)}return t}function dl(t,e,r=""){let n=xh(t),i=t?.length,o=e!==void 0;if(!n||o&&i!==e){let s=r&&`"${r}" `,a=o?` of length ${e}`:"",c=n?`length=${i}`:`type=${typeof t}`;throw new Error(s+"expected Uint8Array"+a+", got "+c)}return t}function x9(t){let e=t.toString(16);return e.length&1?"0"+e:e}function _ot(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?$he:BigInt("0x"+t)}function G4(t){return _ot(zu(t))}function Hh(t){return fs(t),_ot(zu(Uint8Array.from(t).reverse()))}function DF(t,e){return e2(t.toString(16).padStart(e*2,"0"))}function Uhe(t,e){return DF(t,e).reverse()}function Sn(t,e,r){let n;if(typeof e=="string")try{n=e2(e)}catch(o){throw new Error(t+" must be hex string or Uint8Array, cause: "+o)}else if(xh(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function xot(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function Fhe(t){return Uint8Array.from(t)}function Sot(t,e,r){return Lhe(t)&&Lhe(e)&&Lhe(r)&&e<=t&&t<r}function S9(t,e,r,n){if(!Sot(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function MF(t){let e;for(e=0;t>$he;t>>=Bhe,e+=1);return e}function wot(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=f=>new Uint8Array(f),i=f=>Uint8Array.of(f),o=n(t),s=n(t),a=0,c=()=>{o.fill(1),s.fill(0),a=0},l=(...f)=>r(s,o,...f),u=(f=n(0))=>{s=l(i(0),f),o=l(),f.length!==0&&(s=l(i(1),f),o=l())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let f=0,h=[];for(;f<e;){o=l();let m=o.slice();h.push(m),f+=o.length}return Ta(...h)};return(f,h)=>{c(),u(f);let m;for(;!(m=h(d()));)u();return c(),m}}function Z1(t,e,r={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function n(i,o,s){let a=t[i];if(s&&a===void 0)return;let c=typeof a;if(c!==o||a===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${c}`)}Object.entries(e).forEach(([i,o])=>n(i,o,!1)),Object.entries(r).forEach(([i,o])=>n(i,o,!0))}function j4(t){let e=new WeakMap;return(r,...n)=>{let i=e.get(r);if(i!==void 0)return i;let o=t(r,...n);return e.set(r,o),o}}var $he,Bhe,Lhe,Y1,zhe,q4=y(()=>{"use strict";wh();wh();$he=BigInt(0),Bhe=BigInt(1);Lhe=t=>typeof t=="bigint"&&$he<=t;Y1=t=>(Bhe<<BigInt(t))-Bhe;zhe=()=>{throw new Error("not implemented")}});function ki(t,e){let r=t%e;return r>=Na?r:e+r}function di(t,e,r){let n=t;for(;e-- >Na;)n*=n,n%=r;return n}function Aot(t,e){if(t===Na)throw new Error("invert: expected non-zero number");if(e<=Na)throw new Error("invert: expected positive modulus, got "+e);let r=ki(t,e),n=e,i=Na,o=Xo,s=Xo,a=Na;for(;r!==Na;){let l=n/r,u=n%r,d=i-s*l,p=o-a*l;n=r,r=u,i=s,o=a,s=d,a=p}if(n!==Xo)throw new Error("invert: does not exist");return ki(i,e)}function Vhe(t,e,r){if(!t.eql(t.sqr(e),r))throw new Error("Cannot find square root")}function Oot(t,e){let r=(t.ORDER+Xo)/Rot,n=t.pow(e,r);return Vhe(t,n,e),n}function RXt(t,e){let r=(t.ORDER-Iot)/Cot,n=t.mul(e,i_),i=t.pow(n,r),o=t.mul(e,i),s=t.mul(t.mul(o,i_),i),a=t.mul(o,t.sub(s,t.ONE));return Vhe(t,a,e),a}function IXt(t){let e=_s(t),r=Pot(t),n=r(e,e.neg(e.ONE)),i=r(e,n),o=r(e,e.neg(n)),s=(t+EXt)/Not;return(a,c)=>{let l=a.pow(c,s),u=a.mul(l,n),d=a.mul(l,i),p=a.mul(l,o),f=a.eql(a.sqr(u),c),h=a.eql(a.sqr(d),c);l=a.cmov(l,u,f),u=a.cmov(p,d,h);let m=a.eql(a.sqr(u),c),g=a.cmov(l,u,m);return Vhe(a,g,c),g}}function Pot(t){if(t<Tot)throw new Error("sqrt is not defined for small field");let e=t-Xo,r=0;for(;e%i_===Na;)e/=i_,r++;let n=i_,i=_s(t);for(;Eot(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return Oot;let o=i.pow(n,e),s=(e+Xo)/i_;return function(c,l){if(c.is0(l))return l;if(Eot(c,l)!==1)throw new Error("Cannot find square root");let u=r,d=c.mul(c.ONE,o),p=c.pow(l,e),f=c.pow(l,s);for(;!c.eql(p,c.ONE);){if(c.is0(p))return c.ZERO;let h=1,m=c.sqr(p);for(;!c.eql(m,c.ONE);)if(h++,m=c.sqr(m),h===u)throw new Error("Cannot find square root");let g=Xo<<BigInt(u-h-1),b=c.pow(d,g);u=h,d=c.sqr(b),p=c.mul(p,d),f=c.mul(f,b)}return f}}function CXt(t){return t%Rot===Tot?Oot:t%Cot===Iot?RXt:t%Not===TXt?IXt(t):Pot(t)}function Hhe(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=NXt.reduce((n,i)=>(n[i]="function",n),e);return Z1(t,r),t}function OXt(t,e,r){if(r<Na)throw new Error("invalid exponent, negatives unsupported");if(r===Na)return t.ONE;if(r===Xo)return e;let n=t.ONE,i=e;for(;r>Na;)r&Xo&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Xo;return n}function w9(t,e,r=!1){let n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce((s,a,c)=>t.is0(a)?s:(n[c]=s,t.mul(s,a)),t.ONE),o=t.inv(i);return e.reduceRight((s,a,c)=>t.is0(a)?s:(n[c]=t.mul(s,n[c]),t.mul(s,a)),o),n}function Eot(t,e){let r=(t.ORDER-Xo)/i_,n=t.pow(e,r),i=t.eql(n,t.ONE),o=t.eql(n,t.ZERO),s=t.eql(n,t.neg(t.ONE));if(!i&&!o&&!s)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function LF(t,e){e!==void 0&&g1(e);let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function _s(t,e,r=!1,n={}){if(t<=Na)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,o,s=!1,a;if(typeof e=="object"&&e!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");let p=e;p.BITS&&(i=p.BITS),p.sqrt&&(o=p.sqrt),typeof p.isLE=="boolean"&&(r=p.isLE),typeof p.modFromBytes=="boolean"&&(s=p.modFromBytes),a=p.allowedLengths}else typeof e=="number"&&(i=e),n.sqrt&&(o=n.sqrt);let{nBitLength:c,nByteLength:l}=LF(t,i);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u,d=Object.freeze({ORDER:t,isLE:r,BITS:c,BYTES:l,MASK:Y1(c),ZERO:Na,ONE:Xo,allowedLengths:a,create:p=>ki(p,t),isValid:p=>{if(typeof p!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof p);return Na<=p&&p<t},is0:p=>p===Na,isValidNot0:p=>!d.is0(p)&&d.isValid(p),isOdd:p=>(p&Xo)===Xo,neg:p=>ki(-p,t),eql:(p,f)=>p===f,sqr:p=>ki(p*p,t),add:(p,f)=>ki(p+f,t),sub:(p,f)=>ki(p-f,t),mul:(p,f)=>ki(p*f,t),pow:(p,f)=>OXt(d,p,f),div:(p,f)=>ki(p*Aot(f,t),t),sqrN:p=>p*p,addN:(p,f)=>p+f,subN:(p,f)=>p-f,mulN:(p,f)=>p*f,inv:p=>Aot(p,t),sqrt:o||(p=>(u||(u=CXt(t)),u(d,p))),toBytes:p=>r?Uhe(p,l):DF(p,l),fromBytes:(p,f=!0)=>{if(a){if(!a.includes(p.length)||p.length>l)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+p.length);let m=new Uint8Array(l);m.set(p,r?0:m.length-p.length),p=m}if(p.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+p.length);let h=r?Hh(p):G4(p);if(s&&(h=ki(h,t)),!f&&!d.isValid(h))throw new Error("invalid field element: outside of range 0..ORDER");return h},invertBatch:p=>w9(d,p),cmov:(p,f,h)=>h?f:p});return Object.freeze(d)}function kot(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function Ghe(t){let e=kot(t);return e+Math.ceil(e/2)}function jhe(t,e,r=!1){let n=t.length,i=kot(e),o=Ghe(e);if(n<16||n<o||n>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+n);let s=r?Hh(t):G4(t),a=ki(s,e-Xo)+Xo;return r?Uhe(a,i):DF(a,i)}var Na,Xo,i_,Tot,Rot,Iot,EXt,Cot,TXt,Not,Gh,NXt,o_=y(()=>{"use strict";q4();Na=BigInt(0),Xo=BigInt(1),i_=BigInt(2),Tot=BigInt(3),Rot=BigInt(4),Iot=BigInt(5),EXt=BigInt(7),Cot=BigInt(8),TXt=BigInt(9),Not=BigInt(16);Gh=(t,e)=>(ki(t,e)&Xo)===Xo,NXt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"]});function A9(t,e){let r=e.negate();return t?r:e}function jh(t,e){let r=w9(t.Fp,e.map(n=>n.Z));return e.map((n,i)=>t.fromAffine(n.toAffine(r[i])))}function Bot(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function qhe(t,e){Bot(t,e);let r=Math.ceil(e/t)+1,n=2**(t-1),i=2**t,o=Y1(t),s=BigInt(t);return{windows:r,windowSize:n,mask:o,maxNumber:i,shiftBy:s}}function Dot(t,e,r){let{windowSize:n,mask:i,maxNumber:o,shiftBy:s}=r,a=Number(t&i),c=t>>s;a>n&&(a-=o,c+=s_);let l=e*n,u=l+Math.abs(a)-1,d=a===0,p=a<0,f=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:p,isNegF:f,offsetF:l}}function PXt(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function kXt(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}function Whe(t){return $ot.get(t)||1}function Mot(t){if(t!==J4)throw new Error("invalid wNAF")}function Uot(t,e,r,n){let i=e,o=t.ZERO,s=t.ZERO;for(;r>J4||n>J4;)r&s_&&(o=o.add(i)),n&s_&&(s=s.add(i)),i=i.double(),r>>=s_,n>>=s_;return{p1:o,p2:s}}function K4(t,e,r,n){PXt(r,t),kXt(n,e);let i=r.length,o=n.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");let s=t.ZERO,a=MF(BigInt(i)),c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);let l=Y1(c),u=new Array(Number(l)+1).fill(s),d=Math.floor((e.BITS-1)/c)*c,p=s;for(let f=d;f>=0;f-=c){u.fill(s);for(let m=0;m<o;m++){let g=n[m],b=Number(g>>BigInt(f)&l);u[b]=u[b].add(r[m])}let h=s;for(let m=u.length-1,g=s;m>0;m--)g=g.add(u[m]),h=h.add(g);if(p=p.add(h),f!==0)for(let m=0;m<c;m++)p=p.double()}return p}function Lot(t,e,r){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Hhe(e),e}else return _s(t,{isLE:r})}function BF(t,e,r={},n){if(n===void 0&&(n=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(let c of["p","n","h"]){let l=e[c];if(!(typeof l=="bigint"&&l>J4))throw new Error(`CURVE.${c} must be positive bigint`)}let i=Lot(e.p,r.Fp,n),o=Lot(e.n,r.Fn,n),a=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(let c of a)if(!i.isValid(e[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:o}}var J4,s_,Jhe,$ot,W4,$F=y(()=>{"use strict";q4();o_();J4=BigInt(0),s_=BigInt(1);Jhe=new WeakMap,$ot=new WeakMap;W4=class{constructor(e,r){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=r}_unsafeLadder(e,r,n=this.ZERO){let i=e;for(;r>J4;)r&s_&&(n=n.add(i)),i=i.double(),r>>=s_;return n}precomputeWindow(e,r){let{windows:n,windowSize:i}=qhe(r,this.bits),o=[],s=e,a=s;for(let c=0;c<n;c++){a=s,o.push(a);for(let l=1;l<i;l++)a=a.add(s),o.push(a);s=a.double()}return o}wNAF(e,r,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let i=this.ZERO,o=this.BASE,s=qhe(e,this.bits);for(let a=0;a<s.windows;a++){let{nextN:c,offset:l,isZero:u,isNeg:d,isNegF:p,offsetF:f}=Dot(n,a,s);n=c,u?o=o.add(A9(p,r[f])):i=i.add(A9(d,r[l]))}return Mot(n),{p:i,f:o}}wNAFUnsafe(e,r,n,i=this.ZERO){let o=qhe(e,this.bits);for(let s=0;s<o.windows&&n!==J4;s++){let{nextN:a,offset:c,isZero:l,isNeg:u}=Dot(n,s,o);if(n=a,!l){let d=r[c];i=i.add(u?d.negate():d)}}return Mot(n),i}getPrecomputes(e,r,n){let i=Jhe.get(r);return i||(i=this.precomputeWindow(r,e),e!==1&&(typeof n=="function"&&(i=n(i)),Jhe.set(r,i))),i}cached(e,r,n){let i=Whe(e);return this.wNAF(i,this.getPrecomputes(i,e,n),r)}unsafe(e,r,n,i){let o=Whe(e);return o===1?this._unsafeLadder(e,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,e,n),r,i)}createCache(e,r){Bot(r,this.bits),$ot.set(e,r),Jhe.delete(e)}hasCache(e){return Whe(e)!==1}}});function DXt(t,e,r){let[[n,i],[o,s]]=e,a=Fot(s*t,r),c=Fot(-i*t,r),l=t-a*n-c*o,u=-a*i-c*s,d=l<Jh,p=u<Jh;d&&(l=-l),p&&(u=-u);let f=Y1(Math.ceil(MF(r)/2))+X4;if(l<Jh||l>=f||u<Jh||u>=f)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:d,k1:l,k2neg:p,k2:u}}function Qhe(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function Khe(t,e){let r={};for(let n of Object.keys(e))r[n]=t[n]===void 0?e[n]:t[n];return Vh(r.lowS,"lowS"),Vh(r.prehash,"prehash"),r.format!==void 0&&Qhe(r.format),r}function Q4(t,e){let{BYTES:r}=t,n;if(typeof e=="bigint")n=e;else{let i=Sn("private key",e);try{n=t.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof e}`)}}if(!t.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}function LXt(t,e={}){let r=BF("weierstrass",t,e),{Fp:n,Fn:i}=r,o=r.CURVE,{h:s,n:a}=o;Z1(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:c}=e;if(c&&(!n.is0(o.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');let l=Hot(n,i);function u(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function d(X,N,v){let{x:S,y:T}=N.toAffine(),M=n.toBytes(S);if(Vh(v,"isCompressed"),v){u();let U=!n.isOdd(T);return Ta(Vot(U),M)}else return Ta(Uint8Array.of(4),M,n.toBytes(T))}function p(X){dl(X,void 0,"Point");let{publicKey:N,publicKeyUncompressed:v}=l,S=X.length,T=X[0],M=X.subarray(1);if(S===N&&(T===2||T===3)){let U=n.fromBytes(M);if(!n.isValid(U))throw new Error("bad point: is not on curve, wrong x");let H=m(U),K;try{K=n.sqrt(H)}catch(Q){let Ee=Q instanceof Error?": "+Q.message:"";throw new Error("bad point: is not on curve, sqrt error"+Ee)}u();let G=n.isOdd(K);return(T&1)===1!==G&&(K=n.neg(K)),{x:U,y:K}}else if(S===v&&T===4){let U=n.BYTES,H=n.fromBytes(M.subarray(0,U)),K=n.fromBytes(M.subarray(U,U*2));if(!g(H,K))throw new Error("bad point: is not on curve");return{x:H,y:K}}else throw new Error(`bad point: got length ${S}, expected compressed=${N} or uncompressed=${v}`)}let f=e.toBytes||d,h=e.fromBytes||p;function m(X){let N=n.sqr(X),v=n.mul(N,X);return n.add(n.add(v,n.mul(X,o.a)),o.b)}function g(X,N){let v=n.sqr(N),S=m(X);return n.eql(v,S)}if(!g(o.Gx,o.Gy))throw new Error("bad curve params: generator point");let b=n.mul(n.pow(o.a,UF),MXt),_=n.mul(n.sqr(o.b),BigInt(27));if(n.is0(n.add(b,_)))throw new Error("bad curve params: a or b");function x(X,N,v=!1){if(!n.isValid(N)||v&&n.is0(N))throw new Error(`bad point coordinate ${X}`);return N}function E(X){if(!(X instanceof O))throw new Error("ProjectivePoint expected")}function R(X){if(!c||!c.basises)throw new Error("no endo");return DXt(X,c.basises,i.ORDER)}let I=j4((X,N)=>{let{X:v,Y:S,Z:T}=X;if(n.eql(T,n.ONE))return{x:v,y:S};let M=X.is0();N==null&&(N=M?n.ONE:n.inv(T));let U=n.mul(v,N),H=n.mul(S,N),K=n.mul(T,N);if(M)return{x:n.ZERO,y:n.ZERO};if(!n.eql(K,n.ONE))throw new Error("invZ was invalid");return{x:U,y:H}}),D=j4(X=>{if(X.is0()){if(e.allowInfinityPoint&&!n.is0(X.Y))return;throw new Error("bad point: ZERO")}let{x:N,y:v}=X.toAffine();if(!n.isValid(N)||!n.isValid(v))throw new Error("bad point: x or y not field elements");if(!g(N,v))throw new Error("bad point: equation left != right");if(!X.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function k(X,N,v,S,T){return v=new O(n.mul(v.X,X),v.Y,v.Z),N=A9(S,N),v=A9(T,v),N.add(v)}class O{constructor(N,v,S){this.X=x("x",N),this.Y=x("y",v,!0),this.Z=x("z",S),Object.freeze(this)}static CURVE(){return o}static fromAffine(N){let{x:v,y:S}=N||{};if(!N||!n.isValid(v)||!n.isValid(S))throw new Error("invalid affine point");if(N instanceof O)throw new Error("projective point not allowed");return n.is0(v)&&n.is0(S)?O.ZERO:new O(v,S,n.ONE)}static fromBytes(N){let v=O.fromAffine(h(dl(N,void 0,"point")));return v.assertValidity(),v}static fromHex(N){return O.fromBytes(Sn("pointHex",N))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(N=8,v=!0){return j.createCache(this,N),v||this.multiply(UF),this}assertValidity(){D(this)}hasEvenY(){let{y:N}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(N)}equals(N){E(N);let{X:v,Y:S,Z:T}=this,{X:M,Y:U,Z:H}=N,K=n.eql(n.mul(v,H),n.mul(M,T)),G=n.eql(n.mul(S,H),n.mul(U,T));return K&&G}negate(){return new O(this.X,n.neg(this.Y),this.Z)}double(){let{a:N,b:v}=o,S=n.mul(v,UF),{X:T,Y:M,Z:U}=this,H=n.ZERO,K=n.ZERO,G=n.ZERO,w=n.mul(T,T),Q=n.mul(M,M),Ee=n.mul(U,U),ye=n.mul(T,M);return ye=n.add(ye,ye),G=n.mul(T,U),G=n.add(G,G),H=n.mul(N,G),K=n.mul(S,Ee),K=n.add(H,K),H=n.sub(Q,K),K=n.add(Q,K),K=n.mul(H,K),H=n.mul(ye,H),G=n.mul(S,G),Ee=n.mul(N,Ee),ye=n.sub(w,Ee),ye=n.mul(N,ye),ye=n.add(ye,G),G=n.add(w,w),w=n.add(G,w),w=n.add(w,Ee),w=n.mul(w,ye),K=n.add(K,w),Ee=n.mul(M,U),Ee=n.add(Ee,Ee),w=n.mul(Ee,ye),H=n.sub(H,w),G=n.mul(Ee,Q),G=n.add(G,G),G=n.add(G,G),new O(H,K,G)}add(N){E(N);let{X:v,Y:S,Z:T}=this,{X:M,Y:U,Z:H}=N,K=n.ZERO,G=n.ZERO,w=n.ZERO,Q=o.a,Ee=n.mul(o.b,UF),ye=n.mul(v,M),le=n.mul(S,U),Fe=n.mul(T,H),_e=n.add(v,S),ot=n.add(M,U);_e=n.mul(_e,ot),ot=n.add(ye,le),_e=n.sub(_e,ot),ot=n.add(v,T);let he=n.add(M,H);return ot=n.mul(ot,he),he=n.add(ye,Fe),ot=n.sub(ot,he),he=n.add(S,T),K=n.add(U,H),he=n.mul(he,K),K=n.add(le,Fe),he=n.sub(he,K),w=n.mul(Q,ot),K=n.mul(Ee,Fe),w=n.add(K,w),K=n.sub(le,w),w=n.add(le,w),G=n.mul(K,w),le=n.add(ye,ye),le=n.add(le,ye),Fe=n.mul(Q,Fe),ot=n.mul(Ee,ot),le=n.add(le,Fe),Fe=n.sub(ye,Fe),Fe=n.mul(Q,Fe),ot=n.add(ot,Fe),ye=n.mul(le,ot),G=n.add(G,ye),ye=n.mul(he,ot),K=n.mul(_e,K),K=n.sub(K,ye),ye=n.mul(_e,le),w=n.mul(he,w),w=n.add(w,ye),new O(K,G,w)}subtract(N){return this.add(N.negate())}is0(){return this.equals(O.ZERO)}multiply(N){let{endo:v}=e;if(!i.isValidNot0(N))throw new Error("invalid scalar: out of range");let S,T,M=U=>j.cached(this,U,H=>jh(O,H));if(v){let{k1neg:U,k1:H,k2neg:K,k2:G}=R(N),{p:w,f:Q}=M(H),{p:Ee,f:ye}=M(G);T=Q.add(ye),S=k(v.beta,w,Ee,U,K)}else{let{p:U,f:H}=M(N);S=U,T=H}return jh(O,[S,T])[0]}multiplyUnsafe(N){let{endo:v}=e,S=this;if(!i.isValid(N))throw new Error("invalid scalar: out of range");if(N===Jh||S.is0())return O.ZERO;if(N===X4)return S;if(j.hasCache(this))return this.multiply(N);if(v){let{k1neg:T,k1:M,k2neg:U,k2:H}=R(N),{p1:K,p2:G}=Uot(O,S,M,H);return k(v.beta,K,G,T,U)}else return j.unsafe(S,N)}multiplyAndAddUnsafe(N,v,S){let T=this.multiplyUnsafe(v).add(N.multiplyUnsafe(S));return T.is0()?void 0:T}toAffine(N){return I(this,N)}isTorsionFree(){let{isTorsionFree:N}=e;return s===X4?!0:N?N(O,this):j.unsafe(this,a).is0()}clearCofactor(){let{clearCofactor:N}=e;return s===X4?this:N?N(O,this):this.multiplyUnsafe(s)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}toBytes(N=!0){return Vh(N,"isCompressed"),this.assertValidity(),f(O,this,N)}toHex(N=!0){return zu(this.toBytes(N))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(N=!0){return this.toBytes(N)}_setWindowSize(N){this.precompute(N)}static normalizeZ(N){return jh(O,N)}static msm(N,v){return K4(O,i,N,v)}static fromPrivateKey(N){return O.BASE.multiply(Q4(i,N))}}O.BASE=new O(o.Gx,o.Gy,n.ONE),O.ZERO=new O(n.ZERO,n.ONE,n.ZERO),O.Fp=n,O.Fn=i;let $=i.BITS,j=new W4(O,e.endo?Math.ceil($/2):$);return O.BASE.precompute(8),O}function Vot(t){return Uint8Array.of(t?2:3)}function Hot(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function BXt(t,e={}){let{Fn:r}=t,n=e.randomBytes||r4,i=Object.assign(Hot(t.Fp,r),{seed:Ghe(r.ORDER)});function o(f){try{return!!Q4(r,f)}catch{return!1}}function s(f,h){let{publicKey:m,publicKeyUncompressed:g}=i;try{let b=f.length;return h===!0&&b!==m||h===!1&&b!==g?!1:!!t.fromBytes(f)}catch{return!1}}function a(f=n(i.seed)){return jhe(dl(f,i.seed,"seed"),r.ORDER)}function c(f,h=!0){return t.BASE.multiply(Q4(r,f)).toBytes(h)}function l(f){let h=a(f);return{secretKey:h,publicKey:c(h)}}function u(f){if(typeof f=="bigint")return!1;if(f instanceof t)return!0;let{secretKey:h,publicKey:m,publicKeyUncompressed:g}=i;if(r.allowedLengths||h===m)return;let b=Sn("key",f).length;return b===m||b===g}function d(f,h,m=!0){if(u(f)===!0)throw new Error("first arg must be private key");if(u(h)===!1)throw new Error("second arg must be public key");let g=Q4(r,f);return t.fromHex(h).multiply(g).toBytes(m)}return Object.freeze({getPublicKey:c,getSharedSecret:d,keygen:l,Point:t,utils:{isValidSecretKey:o,isValidPublicKey:s,randomSecretKey:a,isValidPrivateKey:o,randomPrivateKey:a,normPrivateKeyToScalar:f=>Q4(r,f),precompute(f=8,h=t.BASE){return h.precompute(f,!1)}},lengths:i})}function $Xt(t,e,r={}){k$(e),Z1(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let n=r.randomBytes||r4,i=r.hmac||((v,...S)=>Mpe(e,v,Ta(...S))),{Fp:o,Fn:s}=t,{ORDER:a,BITS:c}=s,{keygen:l,getPublicKey:u,getSharedSecret:d,utils:p,lengths:f}=BXt(t,r),h={prehash:!1,lowS:typeof r.lowS=="boolean"?r.lowS:!1,format:void 0,extraEntropy:!1},m="compact";function g(v){let S=a>>X4;return v>S}function b(v,S){if(!s.isValidNot0(S))throw new Error(`invalid signature ${v}: out of range 1..Point.Fn.ORDER`);return S}function _(v,S){Qhe(S);let T=f.signature,M=S==="compact"?T:S==="recovered"?T+1:void 0;return dl(v,M,`${S} signature`)}class x{constructor(S,T,M){this.r=b("r",S),this.s=b("s",T),M!=null&&(this.recovery=M),Object.freeze(this)}static fromBytes(S,T=m){_(S,T);let M;if(T==="der"){let{r:G,s:w}=qh.toSig(dl(S));return new x(G,w)}T==="recovered"&&(M=S[0],T="compact",S=S.subarray(1));let U=s.BYTES,H=S.subarray(0,U),K=S.subarray(U,U*2);return new x(s.fromBytes(H),s.fromBytes(K),M)}static fromHex(S,T){return this.fromBytes(e2(S),T)}addRecoveryBit(S){return new x(this.r,this.s,S)}recoverPublicKey(S){let T=o.ORDER,{r:M,s:U,recovery:H}=this;if(H==null||![0,1,2,3].includes(H))throw new Error("recovery id invalid");if(a*zot<T&&H>1)throw new Error("recovery id is ambiguous for h>1 curve");let G=H===2||H===3?M+a:M;if(!o.isValid(G))throw new Error("recovery id 2 or 3 invalid");let w=o.toBytes(G),Q=t.fromBytes(Ta(Vot((H&1)===0),w)),Ee=s.inv(G),ye=R(Sn("msgHash",S)),le=s.create(-ye*Ee),Fe=s.create(U*Ee),_e=t.BASE.multiplyUnsafe(le).add(Q.multiplyUnsafe(Fe));if(_e.is0())throw new Error("point at infinify");return _e.assertValidity(),_e}hasHighS(){return g(this.s)}toBytes(S=m){if(Qhe(S),S==="der")return e2(qh.hexFromSig(this));let T=s.toBytes(this.r),M=s.toBytes(this.s);if(S==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Ta(Uint8Array.of(this.recovery),T,M)}return Ta(T,M)}toHex(S){return zu(this.toBytes(S))}assertValidity(){}static fromCompact(S){return x.fromBytes(Sn("sig",S),"compact")}static fromDER(S){return x.fromBytes(Sn("sig",S),"der")}normalizeS(){return this.hasHighS()?new x(this.r,s.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return zu(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return zu(this.toBytes("compact"))}}let E=r.bits2int||function(S){if(S.length>8192)throw new Error("input is too large");let T=G4(S),M=S.length*8-c;return M>0?T>>BigInt(M):T},R=r.bits2int_modN||function(S){return s.create(E(S))},I=Y1(c);function D(v){return S9("num < 2^"+c,v,Jh,I),s.toBytes(v)}function k(v,S){return dl(v,void 0,"message"),S?dl(e(v),void 0,"prehashed message"):v}function O(v,S,T){if(["recovered","canonical"].some(le=>le in T))throw new Error("sign() legacy options not supported");let{lowS:M,prehash:U,extraEntropy:H}=Khe(T,h);v=k(v,U);let K=R(v),G=Q4(s,S),w=[D(G),D(K)];if(H!=null&&H!==!1){let le=H===!0?n(f.secretKey):H;w.push(Sn("extraEntropy",le))}let Q=Ta(...w),Ee=K;function ye(le){let Fe=E(le);if(!s.isValidNot0(Fe))return;let _e=s.inv(Fe),ot=t.BASE.multiply(Fe).toAffine(),he=s.create(ot.x);if(he===Jh)return;let yt=s.create(_e*s.create(Ee+he*G));if(yt===Jh)return;let Oe=(ot.x===he?0:2)|Number(ot.y&X4),hr=yt;return M&&g(yt)&&(hr=s.neg(yt),Oe^=1),new x(he,hr,Oe)}return{seed:Q,k2sig:ye}}function $(v,S,T={}){v=Sn("message",v);let{seed:M,k2sig:U}=O(v,S,T);return wot(e.outputLen,s.BYTES,i)(M,U)}function j(v){let S,T=typeof v=="string"||xh(v),M=!T&&v!==null&&typeof v=="object"&&typeof v.r=="bigint"&&typeof v.s=="bigint";if(!T&&!M)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(M)S=new x(v.r,v.s);else if(T){try{S=x.fromBytes(Sn("sig",v),"der")}catch(U){if(!(U instanceof qh.Err))throw U}if(!S)try{S=x.fromBytes(Sn("sig",v),"compact")}catch{return!1}}return S||!1}function X(v,S,T,M={}){let{lowS:U,prehash:H,format:K}=Khe(M,h);if(T=Sn("publicKey",T),S=k(Sn("message",S),H),"strict"in M)throw new Error("options.strict was renamed to lowS");let G=K===void 0?j(v):x.fromBytes(Sn("sig",v),K);if(G===!1)return!1;try{let w=t.fromBytes(T);if(U&&G.hasHighS())return!1;let{r:Q,s:Ee}=G,ye=R(S),le=s.inv(Ee),Fe=s.create(ye*le),_e=s.create(Q*le),ot=t.BASE.multiplyUnsafe(Fe).add(w.multiplyUnsafe(_e));return ot.is0()?!1:s.create(ot.x)===Q}catch{return!1}}function N(v,S,T={}){let{prehash:M}=Khe(T,h);return S=k(S,M),x.fromBytes(v,"recovered").recoverPublicKey(S).toBytes()}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:d,utils:p,lengths:f,Point:t,sign:$,verify:X,recoverPublicKey:N,Signature:x,hash:e})}function UXt(t){let e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp,n=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(s=>Math.ceil(s/2)))):void 0,i=_s(e.n,{BITS:t.nBitLength,allowedLengths:n,modFromBytes:t.wrapPrivateKey}),o={Fp:r,Fn:i,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:o}}function FXt(t){let{CURVE:e,curveOpts:r}=UXt(t),n={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:r,hash:t.hash,ecdsaOpts:n}}function zXt(t,e){let r=e.Point;return Object.assign({},e,{ProjectivePoint:r,CURVE:Object.assign({},t,LF(r.Fn.ORDER,r.Fn.BITS))})}function Got(t){let{CURVE:e,curveOpts:r,hash:n,ecdsaOpts:i}=FXt(t),o=LXt(e,r),s=$Xt(o,n,i);return zXt(t,s)}var Fot,Xhe,qh,Jh,X4,zot,UF,MXt,jot=y(()=>{"use strict";get();wh();q4();$F();o_();Fot=(t,e)=>(t+(t>=0?e:-e)/zot)/e;Xhe=class extends Error{constructor(e=""){super(e)}},qh={Err:Xhe,_tlv:{encode:(t,e)=>{let{Err:r}=qh;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");let n=e.length/2,i=x9(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let o=n>127?x9(i.length/2|128):"";return x9(t)+o+i+e},decode(t,e){let{Err:r}=qh,n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");let i=e[n++],o=!!(i&128),s=0;if(!o)s=i;else{let c=i&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");let l=e.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(let u of l)s=s<<8|u;if(n+=c,s<128)throw new r("tlv.decode(long): not minimal encoding")}let a=e.subarray(n,n+s);if(a.length!==s)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+s)}}},_int:{encode(t){let{Err:e}=qh;if(t<Jh)throw new e("integer: negative integers are not allowed");let r=x9(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){let{Err:e}=qh;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return G4(t)}},toSig(t){let{Err:e,_int:r,_tlv:n}=qh,i=Sn("signature",t),{v:o,l:s}=n.decode(48,i);if(s.length)throw new e("invalid signature: left bytes after parsing");let{v:a,l:c}=n.decode(2,o),{v:l,l:u}=n.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(t){let{_tlv:e,_int:r}=qh,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),o=n+i;return e.encode(48,o)}},Jh=BigInt(0),X4=BigInt(1),zot=BigInt(2),UF=BigInt(3),MXt=BigInt(4)});function Y4(t,e){let r=n=>Got({...t,hash:n});return{...r(e),create:r}}var Yhe=y(()=>{"use strict";jot();});var qot,Jot,Wot,VXt,HXt,GXt,Kot,LHn,BHn,Qot=y(()=>{"use strict";ZI();Yhe();o_();qot={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},Jot={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},Wot={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},VXt=_s(qot.p),HXt=_s(Jot.p),GXt=_s(Wot.p),Kot=Y4({...qot,Fp:VXt,lowS:!1},n4),LHn=Y4({...Jot,Fp:HXt,lowS:!1},cet),BHn=Y4({...Wot,Fp:GXt,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},F$)});var Zhe,Xot=y(()=>{"use strict";Qot();Zhe=Kot});function Zot(t){if(t&&!Yot[t]&&!Yot[t.toLowerCase()])throw new Error("Digest method not supported");return new ege}function eYt(){return new Uint8Array(new Uint16Array([65279]).buffer)[0]===254}var jXt,Yot,ege,a_,FF,E9,ey,qXt,JXt,Zd,WXt,KXt,QXt,XXt,YXt,ZXt,est=y(()=>{"use strict";jXt=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],Yot={sha256:1};ege=class{constructor(){this.A=1779033703,this.B=-1150833019,this.C=1013904242,this.D=-1521486534,this.E=1359893119,this.F=-1694144372,this.G=528734635,this.H=1541459225,this._size=0,this._sp=0,(!FF||E9>=8e3)&&(FF=new ArrayBuffer(8e3),E9=0),this._byte=new Uint8Array(FF,E9,80),this._word=new Int32Array(FF,E9,20),E9+=80}update(e){if(typeof e=="string")return this._utf8(e);if(e==null)throw new TypeError("Invalid type: "+typeof e);let r=e.byteOffset,n=e.byteLength,i=n/64|0,o=0;if(i&&!(r&3)&&!(this._size%64)){let a=new Int32Array(e.buffer,r,i*16);for(;i--;)this._int32(a,o>>2),o+=64;this._size+=o}if(e.BYTES_PER_ELEMENT!==1&&e.buffer){let a=new Uint8Array(e.buffer,r+o,n-o);return this._uint8(a)}return o===n?this:this._uint8(e,o)}_uint8(e,r){let{_byte:n,_word:i}=this,o=e.length;for(r=r|0;r<o;){let s=this._size%64,a=s;for(;r<o&&a<64;)n[a++]=e[r++];a>=64&&this._int32(i),this._size+=a-s}return this}_utf8(e){let{_byte:r,_word:n}=this,i=e.length,o=this._sp;for(let s=0;s<i;){let a=this._size%64,c=a;for(;s<i&&c<64;){let l=e.charCodeAt(s++)|0;l<128?r[c++]=l:l<2048?(r[c++]=192|l>>>6,r[c++]=128|l&63):l<55296||l>57343?(r[c++]=224|l>>>12,r[c++]=128|l>>>6&63,r[c++]=128|l&63):o?(l=((o&1023)<<10)+(l&1023)+65536,r[c++]=240|l>>>18,r[c++]=128|l>>>12&63,r[c++]=128|l>>>6&63,r[c++]=128|l&63,o=0):o=l}c>=64&&(this._int32(n),n[0]=n[16]),this._size+=c-a}return this._sp=o,this}_int32(e,r){let{A:n,B:i,C:o,D:s,E:a,F:c,G:l,H:u}=this,d=0;for(r=r|0;d<16;)a_[d++]=Zd(e[r++]);for(d=16;d<64;d++)a_[d]=ZXt(a_[d-2])+a_[d-7]+YXt(a_[d-15])+a_[d-16]|0;for(d=0;d<64;d++){let p=u+XXt(a)+WXt(a,c,l)+jXt[d]+a_[d]|0,f=QXt(n)+KXt(n,i,o)|0;u=l,l=c,c=a,a=s+p|0,s=o,o=i,i=n,n=p+f|0}this.A=n+this.A|0,this.B=i+this.B|0,this.C=o+this.C|0,this.D=s+this.D|0,this.E=a+this.E|0,this.F=c+this.F|0,this.G=l+this.G|0,this.H=u+this.H|0}digest(e){let{_byte:r,_word:n}=this,i=this._size%64|0;for(r[i++]=128;i&3;)r[i++]=0;if(i>>=2,i>14){for(;i<16;)n[i++]=0;i=0,this._int32(n)}for(;i<16;)n[i++]=0;let o=this._size*8,s=(o&4294967295)>>>0,a=(o-s)/4294967296;return a&&(n[14]=Zd(a)),s&&(n[15]=Zd(s)),this._int32(n),e==="hex"?this._hex():this._bin()}_hex(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:a,H:c}=this;return ey(e)+ey(r)+ey(n)+ey(i)+ey(o)+ey(s)+ey(a)+ey(c)}_bin(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:a,H:c,_byte:l,_word:u}=this;return u[0]=Zd(e),u[1]=Zd(r),u[2]=Zd(n),u[3]=Zd(i),u[4]=Zd(o),u[5]=Zd(s),u[6]=Zd(a),u[7]=Zd(c),l.slice(0,32)}},a_=new Int32Array(64),E9=0,ey=t=>(t+4294967296).toString(16).substr(-8),qXt=(t=>t<<24&4278190080|t<<8&16711680|t>>8&65280|t>>24&255),JXt=(t=>t),Zd=eYt()?JXt:qXt,WXt=(t,e,r)=>r^t&(e^r),KXt=(t,e,r)=>t&e|r&(t|e),QXt=t=>(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),XXt=t=>(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7),YXt=t=>(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3,ZXt=t=>(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10});var tst={};wr(tst,{signWithApiKey:()=>tYt});var tYt,rst=y(()=>{"use strict";Xot();est();Af();tYt=async t=>{let e=Zhe.getPublicKey(t.privateKey,!0),r=Sf(e);if(r!=t.publicKey)throw new Error(`Bad API key. Expected to get public key ${t.publicKey}, got ${r}`);let n=Zot().update(t.content).digest();return Zhe.sign(n,t.privateKey).toDERHex()}});var ost=Ue((QHn,ist)=>{"use strict";var Di={};ist.exports=Di;function nst(t){return t<0?-1:1}function sYt(t){return t%1===.5&&(t&1)===0?Math.floor(t):Math.round(t)}function ty(t,e){e.unsigned||--t;let r=e.unsigned?0:-Math.pow(2,t),n=Math.pow(2,t)-1,i=e.moduloBitLength?Math.pow(2,e.moduloBitLength):Math.pow(2,t),o=e.moduloBitLength?Math.pow(2,e.moduloBitLength-1):Math.pow(2,t-1);return function(s,a){a||(a={});let c=+s;if(a.enforceRange){if(!Number.isFinite(c))throw new TypeError("Argument is not a finite number");if(c=nst(c)*Math.floor(Math.abs(c)),c<r||c>n)throw new TypeError("Argument is not in byte range");return c}if(!isNaN(c)&&a.clamp)return c=sYt(c),c<r&&(c=r),c>n&&(c=n),c;if(!Number.isFinite(c)||c===0)return 0;if(c=nst(c)*Math.floor(Math.abs(c)),c=c%i,!e.unsigned&&c>=o)return c-i;if(e.unsigned){if(c<0)c+=i;else if(c===-0)return 0}return c}}Di.void=function(){};Di.boolean=function(t){return!!t};Di.byte=ty(8,{unsigned:!1});Di.octet=ty(8,{unsigned:!0});Di.short=ty(16,{unsigned:!1});Di["unsigned short"]=ty(16,{unsigned:!0});Di.long=ty(32,{unsigned:!1});Di["unsigned long"]=ty(32,{unsigned:!0});Di["long long"]=ty(32,{unsigned:!1,moduloBitLength:64});Di["unsigned long long"]=ty(32,{unsigned:!0,moduloBitLength:64});Di.double=function(t){let e=+t;if(!Number.isFinite(e))throw new TypeError("Argument is not a finite floating-point value");return e};Di["unrestricted double"]=function(t){let e=+t;if(isNaN(e))throw new TypeError("Argument is NaN");return e};Di.float=Di.double;Di["unrestricted float"]=Di["unrestricted double"];Di.DOMString=function(t,e){return e||(e={}),e.treatNullAsEmptyString&&t===null?"":String(t)};Di.ByteString=function(t,e){let r=String(t),n;for(let i=0;(n=r.codePointAt(i))!==void 0;++i)if(n>255)throw new TypeError("Argument is not a valid bytestring");return r};Di.USVString=function(t){let e=String(t),r=e.length,n=[];for(let i=0;i<r;++i){let o=e.charCodeAt(i);if(o<55296||o>57343)n.push(String.fromCodePoint(o));else if(56320<=o&&o<=57343)n.push(String.fromCodePoint(65533));else if(i===r-1)n.push(String.fromCodePoint(65533));else{let s=e.charCodeAt(i+1);if(56320<=s&&s<=57343){let a=o&1023,c=s&1023;n.push(String.fromCodePoint(65536+1024*a+c)),++i}else n.push(String.fromCodePoint(65533))}}return n.join("")};Di.Date=function(t,e){if(!(t instanceof Date))throw new TypeError("Argument is not a Date object");if(!isNaN(t))return t};Di.RegExp=function(t,e){return t instanceof RegExp||(t=new RegExp(t)),t}});var sst=Ue((XHn,ry)=>{"use strict";ry.exports.mixin=function(e,r){let n=Object.getOwnPropertyNames(r);for(let i=0;i<n.length;++i)Object.defineProperty(e,n[i],Object.getOwnPropertyDescriptor(r,n[i]))};ry.exports.wrapperSymbol=Symbol("wrapper");ry.exports.implSymbol=Symbol("impl");ry.exports.wrapperForImpl=function(t){return t[ry.exports.wrapperSymbol]};ry.exports.implForWrapper=function(t){return t[ry.exports.implSymbol]}});var ast=Ue((YHn,aYt)=>{aYt.exports=[[[0,44],"disallowed_STD3_valid"],[[45,46],"valid"],[[47,47],"disallowed_STD3_valid"],[[48,57],"valid"],[[58,64],"disallowed_STD3_valid"],[[65,65],"mapped",[97]],[[66,66],"mapped",[98]],[[67,67],"mapped",[99]],[[68,68],"mapped",[100]],[[69,69],"mapped",[101]],[[70,70],"mapped",[102]],[[71,71],"mapped",[103]],[[72,72],"mapped",[104]],[[73,73],"mapped",[105]],[[74,74],"mapped",[106]],[[75,75],"mapped",[107]],[[76,76],"mapped",[108]],[[77,77],"mapped",[109]],[[78,78],"mapped",[110]],[[79,79],"mapped",[111]],[[80,80],"mapped",[112]],[[81,81],"mapped",[113]],[[82,82],"mapped",[114]],[[83,83],"mapped",[115]],[[84,84],"mapped",[116]],[[85,85],"mapped",[117]],[[86,86],"mapped",[118]],[[87,87],"mapped",[119]],[[88,88],"mapped",[120]],[[89,89],"mapped",[121]],[[90,90],"mapped",[122]],[[91,96],"disallowed_STD3_valid"],[[97,122],"valid"],[[123,127],"disallowed_STD3_valid"],[[128,159],"disallowed"],[[160,160],"disallowed_STD3_mapped",[32]],[[161,167],"valid",[],"NV8"],[[168,168],"disallowed_STD3_mapped",[32,776]],[[169,169],"valid",[],"NV8"],[[170,170],"mapped",[97]],[[171,172],"valid",[],"NV8"],[[173,173],"ignored"],[[174,174],"valid",[],"NV8"],[[175,175],"disallowed_STD3_mapped",[32,772]],[[176,177],"valid",[],"NV8"],[[178,178],"mapped",[50]],[[179,179],"mapped",[51]],[[180,180],"disallowed_STD3_mapped",[32,769]],[[181,181],"mapped",[956]],[[182,182],"valid",[],"NV8"],[[183,183],"valid"],[[184,184],"disallowed_STD3_mapped",[32,807]],[[185,185],"mapped",[49]],[[186,186],"mapped",[111]],[[187,187],"valid",[],"NV8"],[[188,188],"mapped",[49,8260,52]],[[189,189],"mapped",[49,8260,50]],[[190,190],"mapped",[51,8260,52]],[[191,191],"valid",[],"NV8"],[[192,192],"mapped",[224]],[[193,193],"mapped",[225]],[[194,194],"mapped",[226]],[[195,195],"mapped",[227]],[[196,196],"mapped",[228]],[[197,197],"mapped",[229]],[[198,198],"mapped",[230]],[[199,199],"mapped",[231]],[[200,200],"mapped",[232]],[[201,201],"mapped",[233]],[[202,202],"mapped",[234]],[[203,203],"mapped",[235]],[[204,204],"mapped",[236]],[[205,205],"mapped",[237]],[[206,206],"mapped",[238]],[[207,207],"mapped",[239]],[[208,208],"mapped",[240]],[[209,209],"mapped",[241]],[[210,210],"mapped",[242]],[[211,211],"mapped",[243]],[[212,212],"mapped",[244]],[[213,213],"mapped",[245]],[[214,214],"mapped",[246]],[[215,215],"valid",[],"NV8"],[[216,216],"mapped",[248]],[[217,217],"mapped",[249]],[[218,218],"mapped",[250]],[[219,219],"mapped",[251]],[[220,220],"mapped",[252]],[[221,221],"mapped",[253]],[[222,222],"mapped",[254]],[[223,223],"deviation",[115,115]],[[224,246],"valid"],[[247,247],"valid",[],"NV8"],[[248,255],"valid"],[[256,256],"mapped",[257]],[[257,257],"valid"],[[258,258],"mapped",[259]],[[259,259],"valid"],[[260,260],"mapped",[261]],[[261,261],"valid"],[[262,262],"mapped",[263]],[[263,263],"valid"],[[264,264],"mapped",[265]],[[265,265],"valid"],[[266,266],"mapped",[267]],[[267,267],"valid"],[[268,268],"mapped",[269]],[[269,269],"valid"],[[270,270],"mapped",[271]],[[271,271],"valid"],[[272,272],"mapped",[273]],[[273,273],"valid"],[[274,274],"mapped",[275]],[[275,275],"valid"],[[276,276],"mapped",[277]],[[277,277],"valid"],[[278,278],"mapped",[279]],[[279,279],"valid"],[[280,280],"mapped",[281]],[[281,281],"valid"],[[282,282],"mapped",[283]],[[283,283],"valid"],[[284,284],"mapped",[285]],[[285,285],"valid"],[[286,286],"mapped",[287]],[[287,287],"valid"],[[288,288],"mapped",[289]],[[289,289],"valid"],[[290,290],"mapped",[291]],[[291,291],"valid"],[[292,292],"mapped",[293]],[[293,293],"valid"],[[294,294],"mapped",[295]],[[295,295],"valid"],[[296,296],"mapped",[297]],[[297,297],"valid"],[[298,298],"mapped",[299]],[[299,299],"valid"],[[300,300],"mapped",[301]],[[301,301],"valid"],[[302,302],"mapped",[303]],[[303,303],"valid"],[[304,304],"mapped",[105,775]],[[305,305],"valid"],[[306,307],"mapped",[105,106]],[[308,308],"mapped",[309]],[[309,309],"valid"],[[310,310],"mapped",[311]],[[311,312],"valid"],[[313,313],"mapped",[314]],[[314,314],"valid"],[[315,315],"mapped",[316]],[[316,316],"valid"],[[317,317],"mapped",[318]],[[318,318],"valid"],[[319,320],"mapped",[108,183]],[[321,321],"mapped",[322]],[[322,322],"valid"],[[323,323],"mapped",[324]],[[324,324],"valid"],[[325,325],"mapped",[326]],[[326,326],"valid"],[[327,327],"mapped",[328]],[[328,328],"valid"],[[329,329],"mapped",[700,110]],[[330,330],"mapped",[331]],[[331,331],"valid"],[[332,332],"mapped",[333]],[[333,333],"valid"],[[334,334],"mapped",[335]],[[335,335],"valid"],[[336,336],"mapped",[337]],[[337,337],"valid"],[[338,338],"mapped",[339]],[[339,339],"valid"],[[340,340],"mapped",[341]],[[341,341],"valid"],[[342,342],"mapped",[343]],[[343,343],"valid"],[[344,344],"mapped",[345]],[[345,345],"valid"],[[346,346],"mapped",[347]],[[347,347],"valid"],[[348,348],"mapped",[349]],[[349,349],"valid"],[[350,350],"mapped",[351]],[[351,351],"valid"],[[352,352],"mapped",[353]],[[353,353],"valid"],[[354,354],"mapped",[355]],[[355,355],"valid"],[[356,356],"mapped",[357]],[[357,357],"valid"],[[358,358],"mapped",[359]],[[359,359],"valid"],[[360,360],"mapped",[361]],[[361,361],"valid"],[[362,362],"mapped",[363]],[[363,363],"valid"],[[364,364],"mapped",[365]],[[365,365],"valid"],[[366,366],"mapped",[367]],[[367,367],"valid"],[[368,368],"mapped",[369]],[[369,369],"valid"],[[370,370],"mapped",[371]],[[371,371],"valid"],[[372,372],"mapped",[373]],[[373,373],"valid"],[[374,374],"mapped",[375]],[[375,375],"valid"],[[376,376],"mapped",[255]],[[377,377],"mapped",[378]],[[378,378],"valid"],[[379,379],"mapped",[380]],[[380,380],"valid"],[[381,381],"mapped",[382]],[[382,382],"valid"],[[383,383],"mapped",[115]],[[384,384],"valid"],[[385,385],"mapped",[595]],[[386,386],"mapped",[387]],[[387,387],"valid"],[[388,388],"mapped",[389]],[[389,389],"valid"],[[390,390],"mapped",[596]],[[391,391],"mapped",[392]],[[392,392],"valid"],[[393,393],"mapped",[598]],[[394,394],"mapped",[599]],[[395,395],"mapped",[396]],[[396,397],"valid"],[[398,398],"mapped",[477]],[[399,399],"mapped",[601]],[[400,400],"mapped",[603]],[[401,401],"mapped",[402]],[[402,402],"valid"],[[403,403],"mapped",[608]],[[404,404],"mapped",[611]],[[405,405],"valid"],[[406,406],"mapped",[617]],[[407,407],"mapped",[616]],[[408,408],"mapped",[409]],[[409,411],"valid"],[[412,412],"mapped",[623]],[[413,413],"mapped",[626]],[[414,414],"valid"],[[415,415],"mapped",[629]],[[416,416],"mapped",[417]],[[417,417],"valid"],[[418,418],"mapped",[419]],[[419,419],"valid"],[[420,420],"mapped",[421]],[[421,421],"valid"],[[422,422],"mapped",[640]],[[423,423],"mapped",[424]],[[424,424],"valid"],[[425,425],"mapped",[643]],[[426,427],"valid"],[[428,428],"mapped",[429]],[[429,429],"valid"],[[430,430],"mapped",[648]],[[431,431],"mapped",[432]],[[432,432],"valid"],[[433,433],"mapped",[650]],[[434,434],"mapped",[651]],[[435,435],"mapped",[436]],[[436,436],"valid"],[[437,437],"mapped",[438]],[[438,438],"valid"],[[439,439],"mapped",[658]],[[440,440],"mapped",[441]],[[441,443],"valid"],[[444,444],"mapped",[445]],[[445,451],"valid"],[[452,454],"mapped",[100,382]],[[455,457],"mapped",[108,106]],[[458,460],"mapped",[110,106]],[[461,461],"mapped",[462]],[[462,462],"valid"],[[463,463],"mapped",[464]],[[464,464],"valid"],[[465,465],"mapped",[466]],[[466,466],"valid"],[[467,467],"mapped",[468]],[[468,468],"valid"],[[469,469],"mapped",[470]],[[470,470],"valid"],[[471,471],"mapped",[472]],[[472,472],"valid"],[[473,473],"mapped",[474]],[[474,474],"valid"],[[475,475],"mapped",[476]],[[476,477],"valid"],[[478,478],"mapped",[479]],[[479,479],"valid"],[[480,480],"mapped",[481]],[[481,481],"valid"],[[482,482],"mapped",[483]],[[483,483],"valid"],[[484,484],"mapped",[485]],[[485,485],"valid"],[[486,486],"mapped",[487]],[[487,487],"valid"],[[488,488],"mapped",[489]],[[489,489],"valid"],[[490,490],"mapped",[491]],[[491,491],"valid"],[[492,492],"mapped",[493]],[[493,493],"valid"],[[494,494],"mapped",[495]],[[495,496],"valid"],[[497,499],"mapped",[100,122]],[[500,500],"mapped",[501]],[[501,501],"valid"],[[502,502],"mapped",[405]],[[503,503],"mapped",[447]],[[504,504],"mapped",[505]],[[505,505],"valid"],[[506,506],"mapped",[507]],[[507,507],"valid"],[[508,508],"mapped",[509]],[[509,509],"valid"],[[510,510],"mapped",[511]],[[511,511],"valid"],[[512,512],"mapped",[513]],[[513,513],"valid"],[[514,514],"mapped",[515]],[[515,515],"valid"],[[516,516],"mapped",[517]],[[517,517],"valid"],[[518,518],"mapped",[519]],[[519,519],"valid"],[[520,520],"mapped",[521]],[[521,521],"valid"],[[522,522],"mapped",[523]],[[523,523],"valid"],[[524,524],"mapped",[525]],[[525,525],"valid"],[[526,526],"mapped",[527]],[[527,527],"valid"],[[528,528],"mapped",[529]],[[529,529],"valid"],[[530,530],"mapped",[531]],[[531,531],"valid"],[[532,532],"mapped",[533]],[[533,533],"valid"],[[534,534],"mapped",[535]],[[535,535],"valid"],[[536,536],"mapped",[537]],[[537,537],"valid"],[[538,538],"mapped",[539]],[[539,539],"valid"],[[540,540],"mapped",[541]],[[541,541],"valid"],[[542,542],"mapped",[543]],[[543,543],"valid"],[[544,544],"mapped",[414]],[[545,545],"valid"],[[546,546],"mapped",[547]],[[547,547],"valid"],[[548,548],"mapped",[549]],[[549,549],"valid"],[[550,550],"mapped",[551]],[[551,551],"valid"],[[552,552],"mapped",[553]],[[553,553],"valid"],[[554,554],"mapped",[555]],[[555,555],"valid"],[[556,556],"mapped",[557]],[[557,557],"valid"],[[558,558],"mapped",[559]],[[559,559],"valid"],[[560,560],"mapped",[561]],[[561,561],"valid"],[[562,562],"mapped",[563]],[[563,563],"valid"],[[564,566],"valid"],[[567,569],"valid"],[[570,570],"mapped",[11365]],[[571,571],"mapped",[572]],[[572,572],"valid"],[[573,573],"mapped",[410]],[[574,574],"mapped",[11366]],[[575,576],"valid"],[[577,577],"mapped",[578]],[[578,578],"valid"],[[579,579],"mapped",[384]],[[580,580],"mapped",[649]],[[581,581],"mapped",[652]],[[582,582],"mapped",[583]],[[583,583],"valid"],[[584,584],"mapped",[585]],[[585,585],"valid"],[[586,586],"mapped",[587]],[[587,587],"valid"],[[588,588],"mapped",[589]],[[589,589],"valid"],[[590,590],"mapped",[591]],[[591,591],"valid"],[[592,680],"valid"],[[681,685],"valid"],[[686,687],"valid"],[[688,688],"mapped",[104]],[[689,689],"mapped",[614]],[[690,690],"mapped",[106]],[[691,691],"mapped",[114]],[[692,692],"mapped",[633]],[[693,693],"mapped",[635]],[[694,694],"mapped",[641]],[[695,695],"mapped",[119]],[[696,696],"mapped",[121]],[[697,705],"valid"],[[706,709],"valid",[],"NV8"],[[710,721],"valid"],[[722,727],"valid",[],"NV8"],[[728,728],"disallowed_STD3_mapped",[32,774]],[[729,729],"disallowed_STD3_mapped",[32,775]],[[730,730],"disallowed_STD3_mapped",[32,778]],[[731,731],"disallowed_STD3_mapped",[32,808]],[[732,732],"disallowed_STD3_mapped",[32,771]],[[733,733],"disallowed_STD3_mapped",[32,779]],[[734,734],"valid",[],"NV8"],[[735,735],"valid",[],"NV8"],[[736,736],"mapped",[611]],[[737,737],"mapped",[108]],[[738,738],"mapped",[115]],[[739,739],"mapped",[120]],[[740,740],"mapped",[661]],[[741,745],"valid",[],"NV8"],[[746,747],"valid",[],"NV8"],[[748,748],"valid"],[[749,749],"valid",[],"NV8"],[[750,750],"valid"],[[751,767],"valid",[],"NV8"],[[768,831],"valid"],[[832,832],"mapped",[768]],[[833,833],"mapped",[769]],[[834,834],"valid"],[[835,835],"mapped",[787]],[[836,836],"mapped",[776,769]],[[837,837],"mapped",[953]],[[838,846],"valid"],[[847,847],"ignored"],[[848,855],"valid"],[[856,860],"valid"],[[861,863],"valid"],[[864,865],"valid"],[[866,866],"valid"],[[867,879],"valid"],[[880,880],"mapped",[881]],[[881,881],"valid"],[[882,882],"mapped",[883]],[[883,883],"valid"],[[884,884],"mapped",[697]],[[885,885],"valid"],[[886,886],"mapped",[887]],[[887,887],"valid"],[[888,889],"disallowed"],[[890,890],"disallowed_STD3_mapped",[32,953]],[[891,893],"valid"],[[894,894],"disallowed_STD3_mapped",[59]],[[895,895],"mapped",[1011]],[[896,899],"disallowed"],[[900,900],"disallowed_STD3_mapped",[32,769]],[[901,901],"disallowed_STD3_mapped",[32,776,769]],[[902,902],"mapped",[940]],[[903,903],"mapped",[183]],[[904,904],"mapped",[941]],[[905,905],"mapped",[942]],[[906,906],"mapped",[943]],[[907,907],"disallowed"],[[908,908],"mapped",[972]],[[909,909],"disallowed"],[[910,910],"mapped",[973]],[[911,911],"mapped",[974]],[[912,912],"valid"],[[913,913],"mapped",[945]],[[914,914],"mapped",[946]],[[915,915],"mapped",[947]],[[916,916],"mapped",[948]],[[917,917],"mapped",[949]],[[918,918],"mapped",[950]],[[919,919],"mapped",[951]],[[920,920],"mapped",[952]],[[921,921],"mapped",[953]],[[922,922],"mapped",[954]],[[923,923],"mapped",[955]],[[924,924],"mapped",[956]],[[925,925],"mapped",[957]],[[926,926],"mapped",[958]],[[927,927],"mapped",[959]],[[928,928],"mapped",[960]],[[929,929],"mapped",[961]],[[930,930],"disallowed"],[[931,931],"mapped",[963]],[[932,932],"mapped",[964]],[[933,933],"mapped",[965]],[[934,934],"mapped",[966]],[[935,935],"mapped",[967]],[[936,936],"mapped",[968]],[[937,937],"mapped",[969]],[[938,938],"mapped",[970]],[[939,939],"mapped",[971]],[[940,961],"valid"],[[962,962],"deviation",[963]],[[963,974],"valid"],[[975,975],"mapped",[983]],[[976,976],"mapped",[946]],[[977,977],"mapped",[952]],[[978,978],"mapped",[965]],[[979,979],"mapped",[973]],[[980,980],"mapped",[971]],[[981,981],"mapped",[966]],[[982,982],"mapped",[960]],[[983,983],"valid"],[[984,984],"mapped",[985]],[[985,985],"valid"],[[986,986],"mapped",[987]],[[987,987],"valid"],[[988,988],"mapped",[989]],[[989,989],"valid"],[[990,990],"mapped",[991]],[[991,991],"valid"],[[992,992],"mapped",[993]],[[993,993],"valid"],[[994,994],"mapped",[995]],[[995,995],"valid"],[[996,996],"mapped",[997]],[[997,997],"valid"],[[998,998],"mapped",[999]],[[999,999],"valid"],[[1e3,1e3],"mapped",[1001]],[[1001,1001],"valid"],[[1002,1002],"mapped",[1003]],[[1003,1003],"valid"],[[1004,1004],"mapped",[1005]],[[1005,1005],"valid"],[[1006,1006],"mapped",[1007]],[[1007,1007],"valid"],[[1008,1008],"mapped",[954]],[[1009,1009],"mapped",[961]],[[1010,1010],"mapped",[963]],[[1011,1011],"valid"],[[1012,1012],"mapped",[952]],[[1013,1013],"mapped",[949]],[[1014,1014],"valid",[],"NV8"],[[1015,1015],"mapped",[1016]],[[1016,1016],"valid"],[[1017,1017],"mapped",[963]],[[1018,1018],"mapped",[1019]],[[1019,1019],"valid"],[[1020,1020],"valid"],[[1021,1021],"mapped",[891]],[[1022,1022],"mapped",[892]],[[1023,1023],"mapped",[893]],[[1024,1024],"mapped",[1104]],[[1025,1025],"mapped",[1105]],[[1026,1026],"mapped",[1106]],[[1027,1027],"mapped",[1107]],[[1028,1028],"mapped",[1108]],[[1029,1029],"mapped",[1109]],[[1030,1030],"mapped",[1110]],[[1031,1031],"mapped",[1111]],[[1032,1032],"mapped",[1112]],[[1033,1033],"mapped",[1113]],[[1034,1034],"mapped",[1114]],[[1035,1035],"mapped",[1115]],[[1036,1036],"mapped",[1116]],[[1037,1037],"mapped",[1117]],[[1038,1038],"mapped",[1118]],[[1039,1039],"mapped",[1119]],[[1040,1040],"mapped",[1072]],[[1041,1041],"mapped",[1073]],[[1042,1042],"mapped",[1074]],[[1043,1043],"mapped",[1075]],[[1044,1044],"mapped",[1076]],[[1045,1045],"mapped",[1077]],[[1046,1046],"mapped",[1078]],[[1047,1047],"mapped",[1079]],[[1048,1048],"mapped",[1080]],[[1049,1049],"mapped",[1081]],[[1050,1050],"mapped",[1082]],[[1051,1051],"mapped",[1083]],[[1052,1052],"mapped",[1084]],[[1053,1053],"mapped",[1085]],[[1054,1054],"mapped",[1086]],[[1055,1055],"mapped",[1087]],[[1056,1056],"mapped",[1088]],[[1057,1057],"mapped",[1089]],[[1058,1058],"mapped",[1090]],[[1059,1059],"mapped",[1091]],[[1060,1060],"mapped",[1092]],[[1061,1061],"mapped",[1093]],[[1062,1062],"mapped",[1094]],[[1063,1063],"mapped",[1095]],[[1064,1064],"mapped",[1096]],[[1065,1065],"mapped",[1097]],[[1066,1066],"mapped",[1098]],[[1067,1067],"mapped",[1099]],[[1068,1068],"mapped",[1100]],[[1069,1069],"mapped",[1101]],[[1070,1070],"mapped",[1102]],[[1071,1071],"mapped",[1103]],[[1072,1103],"valid"],[[1104,1104],"valid"],[[1105,1116],"valid"],[[1117,1117],"valid"],[[1118,1119],"valid"],[[1120,1120],"mapped",[1121]],[[1121,1121],"valid"],[[1122,1122],"mapped",[1123]],[[1123,1123],"valid"],[[1124,1124],"mapped",[1125]],[[1125,1125],"valid"],[[1126,1126],"mapped",[1127]],[[1127,1127],"valid"],[[1128,1128],"mapped",[1129]],[[1129,1129],"valid"],[[1130,1130],"mapped",[1131]],[[1131,1131],"valid"],[[1132,1132],"mapped",[1133]],[[1133,1133],"valid"],[[1134,1134],"mapped",[1135]],[[1135,1135],"valid"],[[1136,1136],"mapped",[1137]],[[1137,1137],"valid"],[[1138,1138],"mapped",[1139]],[[1139,1139],"valid"],[[1140,1140],"mapped",[1141]],[[1141,1141],"valid"],[[1142,1142],"mapped",[1143]],[[1143,1143],"valid"],[[1144,1144],"mapped",[1145]],[[1145,1145],"valid"],[[1146,1146],"mapped",[1147]],[[1147,1147],"valid"],[[1148,1148],"mapped",[1149]],[[1149,1149],"valid"],[[1150,1150],"mapped",[1151]],[[1151,1151],"valid"],[[1152,1152],"mapped",[1153]],[[1153,1153],"valid"],[[1154,1154],"valid",[],"NV8"],[[1155,1158],"valid"],[[1159,1159],"valid"],[[1160,1161],"valid",[],"NV8"],[[1162,1162],"mapped",[1163]],[[1163,1163],"valid"],[[1164,1164],"mapped",[1165]],[[1165,1165],"valid"],[[1166,1166],"mapped",[1167]],[[1167,1167],"valid"],[[1168,1168],"mapped",[1169]],[[1169,1169],"valid"],[[1170,1170],"mapped",[1171]],[[1171,1171],"valid"],[[1172,1172],"mapped",[1173]],[[1173,1173],"valid"],[[1174,1174],"mapped",[1175]],[[1175,1175],"valid"],[[1176,1176],"mapped",[1177]],[[1177,1177],"valid"],[[1178,1178],"mapped",[1179]],[[1179,1179],"valid"],[[1180,1180],"mapped",[1181]],[[1181,1181],"valid"],[[1182,1182],"mapped",[1183]],[[1183,1183],"valid"],[[1184,1184],"mapped",[1185]],[[1185,1185],"valid"],[[1186,1186],"mapped",[1187]],[[1187,1187],"valid"],[[1188,1188],"mapped",[1189]],[[1189,1189],"valid"],[[1190,1190],"mapped",[1191]],[[1191,1191],"valid"],[[1192,1192],"mapped",[1193]],[[1193,1193],"valid"],[[1194,1194],"mapped",[1195]],[[1195,1195],"valid"],[[1196,1196],"mapped",[1197]],[[1197,1197],"valid"],[[1198,1198],"mapped",[1199]],[[1199,1199],"valid"],[[1200,1200],"mapped",[1201]],[[1201,1201],"valid"],[[1202,1202],"mapped",[1203]],[[1203,1203],"valid"],[[1204,1204],"mapped",[1205]],[[1205,1205],"valid"],[[1206,1206],"mapped",[1207]],[[1207,1207],"valid"],[[1208,1208],"mapped",[1209]],[[1209,1209],"valid"],[[1210,1210],"mapped",[1211]],[[1211,1211],"valid"],[[1212,1212],"mapped",[1213]],[[1213,1213],"valid"],[[1214,1214],"mapped",[1215]],[[1215,1215],"valid"],[[1216,1216],"disallowed"],[[1217,1217],"mapped",[1218]],[[1218,1218],"valid"],[[1219,1219],"mapped",[1220]],[[1220,1220],"valid"],[[1221,1221],"mapped",[1222]],[[1222,1222],"valid"],[[1223,1223],"mapped",[1224]],[[1224,1224],"valid"],[[1225,1225],"mapped",[1226]],[[1226,1226],"valid"],[[1227,1227],"mapped",[1228]],[[1228,1228],"valid"],[[1229,1229],"mapped",[1230]],[[1230,1230],"valid"],[[1231,1231],"valid"],[[1232,1232],"mapped",[1233]],[[1233,1233],"valid"],[[1234,1234],"mapped",[1235]],[[1235,1235],"valid"],[[1236,1236],"mapped",[1237]],[[1237,1237],"valid"],[[1238,1238],"mapped",[1239]],[[1239,1239],"valid"],[[1240,1240],"mapped",[1241]],[[1241,1241],"valid"],[[1242,1242],"mapped",[1243]],[[1243,1243],"valid"],[[1244,1244],"mapped",[1245]],[[1245,1245],"valid"],[[1246,1246],"mapped",[1247]],[[1247,1247],"valid"],[[1248,1248],"mapped",[1249]],[[1249,1249],"valid"],[[1250,1250],"mapped",[1251]],[[1251,1251],"valid"],[[1252,1252],"mapped",[1253]],[[1253,1253],"valid"],[[1254,1254],"mapped",[1255]],[[1255,1255],"valid"],[[1256,1256],"mapped",[1257]],[[1257,1257],"valid"],[[1258,1258],"mapped",[1259]],[[1259,1259],"valid"],[[1260,1260],"mapped",[1261]],[[1261,1261],"valid"],[[1262,1262],"mapped",[1263]],[[1263,1263],"valid"],[[1264,1264],"mapped",[1265]],[[1265,1265],"valid"],[[1266,1266],"mapped",[1267]],[[1267,1267],"valid"],[[1268,1268],"mapped",[1269]],[[1269,1269],"valid"],[[1270,1270],"mapped",[1271]],[[1271,1271],"valid"],[[1272,1272],"mapped",[1273]],[[1273,1273],"valid"],[[1274,1274],"mapped",[1275]],[[1275,1275],"valid"],[[1276,1276],"mapped",[1277]],[[1277,1277],"valid"],[[1278,1278],"mapped",[1279]],[[1279,1279],"valid"],[[1280,1280],"mapped",[1281]],[[1281,1281],"valid"],[[1282,1282],"mapped",[1283]],[[1283,1283],"valid"],[[1284,1284],"mapped",[1285]],[[1285,1285],"valid"],[[1286,1286],"mapped",[1287]],[[1287,1287],"valid"],[[1288,1288],"mapped",[1289]],[[1289,1289],"valid"],[[1290,1290],"mapped",[1291]],[[1291,1291],"valid"],[[1292,1292],"mapped",[1293]],[[1293,1293],"valid"],[[1294,1294],"mapped",[1295]],[[1295,1295],"valid"],[[1296,1296],"mapped",[1297]],[[1297,1297],"valid"],[[1298,1298],"mapped",[1299]],[[1299,1299],"valid"],[[1300,1300],"mapped",[1301]],[[1301,1301],"valid"],[[1302,1302],"mapped",[1303]],[[1303,1303],"valid"],[[1304,1304],"mapped",[1305]],[[1305,1305],"valid"],[[1306,1306],"mapped",[1307]],[[1307,1307],"valid"],[[1308,1308],"mapped",[1309]],[[1309,1309],"valid"],[[1310,1310],"mapped",[1311]],[[1311,1311],"valid"],[[1312,1312],"mapped",[1313]],[[1313,1313],"valid"],[[1314,1314],"mapped",[1315]],[[1315,1315],"valid"],[[1316,1316],"mapped",[1317]],[[1317,1317],"valid"],[[1318,1318],"mapped",[1319]],[[1319,1319],"valid"],[[1320,1320],"mapped",[1321]],[[1321,1321],"valid"],[[1322,1322],"mapped",[1323]],[[1323,1323],"valid"],[[1324,1324],"mapped",[1325]],[[1325,1325],"valid"],[[1326,1326],"mapped",[1327]],[[1327,1327],"valid"],[[1328,1328],"disallowed"],[[1329,1329],"mapped",[1377]],[[1330,1330],"mapped",[1378]],[[1331,1331],"mapped",[1379]],[[1332,1332],"mapped",[1380]],[[1333,1333],"mapped",[1381]],[[1334,1334],"mapped",[1382]],[[1335,1335],"mapped",[1383]],[[1336,1336],"mapped",[1384]],[[1337,1337],"mapped",[1385]],[[1338,1338],"mapped",[1386]],[[1339,1339],"mapped",[1387]],[[1340,1340],"mapped",[1388]],[[1341,1341],"mapped",[1389]],[[1342,1342],"mapped",[1390]],[[1343,1343],"mapped",[1391]],[[1344,1344],"mapped",[1392]],[[1345,1345],"mapped",[1393]],[[1346,1346],"mapped",[1394]],[[1347,1347],"mapped",[1395]],[[1348,1348],"mapped",[1396]],[[1349,1349],"mapped",[1397]],[[1350,1350],"mapped",[1398]],[[1351,1351],"mapped",[1399]],[[1352,1352],"mapped",[1400]],[[1353,1353],"mapped",[1401]],[[1354,1354],"mapped",[1402]],[[1355,1355],"mapped",[1403]],[[1356,1356],"mapped",[1404]],[[1357,1357],"mapped",[1405]],[[1358,1358],"mapped",[1406]],[[1359,1359],"mapped",[1407]],[[1360,1360],"mapped",[1408]],[[1361,1361],"mapped",[1409]],[[1362,1362],"mapped",[1410]],[[1363,1363],"mapped",[1411]],[[1364,1364],"mapped",[1412]],[[1365,1365],"mapped",[1413]],[[1366,1366],"mapped",[1414]],[[1367,1368],"disallowed"],[[1369,1369],"valid"],[[1370,1375],"valid",[],"NV8"],[[1376,1376],"disallowed"],[[1377,1414],"valid"],[[1415,1415],"mapped",[1381,1410]],[[1416,1416],"disallowed"],[[1417,1417],"valid",[],"NV8"],[[1418,1418],"valid",[],"NV8"],[[1419,1420],"disallowed"],[[1421,1422],"valid",[],"NV8"],[[1423,1423],"valid",[],"NV8"],[[1424,1424],"disallowed"],[[1425,1441],"valid"],[[1442,1442],"valid"],[[1443,1455],"valid"],[[1456,1465],"valid"],[[1466,1466],"valid"],[[1467,1469],"valid"],[[1470,1470],"valid",[],"NV8"],[[1471,1471],"valid"],[[1472,1472],"valid",[],"NV8"],[[1473,1474],"valid"],[[1475,1475],"valid",[],"NV8"],[[1476,1476],"valid"],[[1477,1477],"valid"],[[1478,1478],"valid",[],"NV8"],[[1479,1479],"valid"],[[1480,1487],"disallowed"],[[1488,1514],"valid"],[[1515,1519],"disallowed"],[[1520,1524],"valid"],[[1525,1535],"disallowed"],[[1536,1539],"disallowed"],[[1540,1540],"disallowed"],[[1541,1541],"disallowed"],[[1542,1546],"valid",[],"NV8"],[[1547,1547],"valid",[],"NV8"],[[1548,1548],"valid",[],"NV8"],[[1549,1551],"valid",[],"NV8"],[[1552,1557],"valid"],[[1558,1562],"valid"],[[1563,1563],"valid",[],"NV8"],[[1564,1564],"disallowed"],[[1565,1565],"disallowed"],[[1566,1566],"valid",[],"NV8"],[[1567,1567],"valid",[],"NV8"],[[1568,1568],"valid"],[[1569,1594],"valid"],[[1595,1599],"valid"],[[1600,1600],"valid",[],"NV8"],[[1601,1618],"valid"],[[1619,1621],"valid"],[[1622,1624],"valid"],[[1625,1630],"valid"],[[1631,1631],"valid"],[[1632,1641],"valid"],[[1642,1645],"valid",[],"NV8"],[[1646,1647],"valid"],[[1648,1652],"valid"],[[1653,1653],"mapped",[1575,1652]],[[1654,1654],"mapped",[1608,1652]],[[1655,1655],"mapped",[1735,1652]],[[1656,1656],"mapped",[1610,1652]],[[1657,1719],"valid"],[[1720,1721],"valid"],[[1722,1726],"valid"],[[1727,1727],"valid"],[[1728,1742],"valid"],[[1743,1743],"valid"],[[1744,1747],"valid"],[[1748,1748],"valid",[],"NV8"],[[1749,1756],"valid"],[[1757,1757],"disallowed"],[[1758,1758],"valid",[],"NV8"],[[1759,1768],"valid"],[[1769,1769],"valid",[],"NV8"],[[1770,1773],"valid"],[[1774,1775],"valid"],[[1776,1785],"valid"],[[1786,1790],"valid"],[[1791,1791],"valid"],[[1792,1805],"valid",[],"NV8"],[[1806,1806],"disallowed"],[[1807,1807],"disallowed"],[[1808,1836],"valid"],[[1837,1839],"valid"],[[1840,1866],"valid"],[[1867,1868],"disallowed"],[[1869,1871],"valid"],[[1872,1901],"valid"],[[1902,1919],"valid"],[[1920,1968],"valid"],[[1969,1969],"valid"],[[1970,1983],"disallowed"],[[1984,2037],"valid"],[[2038,2042],"valid",[],"NV8"],[[2043,2047],"disallowed"],[[2048,2093],"valid"],[[2094,2095],"disallowed"],[[2096,2110],"valid",[],"NV8"],[[2111,2111],"disallowed"],[[2112,2139],"valid"],[[2140,2141],"disallowed"],[[2142,2142],"valid",[],"NV8"],[[2143,2207],"disallowed"],[[2208,2208],"valid"],[[2209,2209],"valid"],[[2210,2220],"valid"],[[2221,2226],"valid"],[[2227,2228],"valid"],[[2229,2274],"disallowed"],[[2275,2275],"valid"],[[2276,2302],"valid"],[[2303,2303],"valid"],[[2304,2304],"valid"],[[2305,2307],"valid"],[[2308,2308],"valid"],[[2309,2361],"valid"],[[2362,2363],"valid"],[[2364,2381],"valid"],[[2382,2382],"valid"],[[2383,2383],"valid"],[[2384,2388],"valid"],[[2389,2389],"valid"],[[2390,2391],"valid"],[[2392,2392],"mapped",[2325,2364]],[[2393,2393],"mapped",[2326,2364]],[[2394,2394],"mapped",[2327,2364]],[[2395,2395],"mapped",[2332,2364]],[[2396,2396],"mapped",[2337,2364]],[[2397,2397],"mapped",[2338,2364]],[[2398,2398],"mapped",[2347,2364]],[[2399,2399],"mapped",[2351,2364]],[[2400,2403],"valid"],[[2404,2405],"valid",[],"NV8"],[[2406,2415],"valid"],[[2416,2416],"valid",[],"NV8"],[[2417,2418],"valid"],[[2419,2423],"valid"],[[2424,2424],"valid"],[[2425,2426],"valid"],[[2427,2428],"valid"],[[2429,2429],"valid"],[[2430,2431],"valid"],[[2432,2432],"valid"],[[2433,2435],"valid"],[[2436,2436],"disallowed"],[[2437,2444],"valid"],[[2445,2446],"disallowed"],[[2447,2448],"valid"],[[2449,2450],"disallowed"],[[2451,2472],"valid"],[[2473,2473],"disallowed"],[[2474,2480],"valid"],[[2481,2481],"disallowed"],[[2482,2482],"valid"],[[2483,2485],"disallowed"],[[2486,2489],"valid"],[[2490,2491],"disallowed"],[[2492,2492],"valid"],[[2493,2493],"valid"],[[2494,2500],"valid"],[[2501,2502],"disallowed"],[[2503,2504],"valid"],[[2505,2506],"disallowed"],[[2507,2509],"valid"],[[2510,2510],"valid"],[[2511,2518],"disallowed"],[[2519,2519],"valid"],[[2520,2523],"disallowed"],[[2524,2524],"mapped",[2465,2492]],[[2525,2525],"mapped",[2466,2492]],[[2526,2526],"disallowed"],[[2527,2527],"mapped",[2479,2492]],[[2528,2531],"valid"],[[2532,2533],"disallowed"],[[2534,2545],"valid"],[[2546,2554],"valid",[],"NV8"],[[2555,2555],"valid",[],"NV8"],[[2556,2560],"disallowed"],[[2561,2561],"valid"],[[2562,2562],"valid"],[[2563,2563],"valid"],[[2564,2564],"disallowed"],[[2565,2570],"valid"],[[2571,2574],"disallowed"],[[2575,2576],"valid"],[[2577,2578],"disallowed"],[[2579,2600],"valid"],[[2601,2601],"disallowed"],[[2602,2608],"valid"],[[2609,2609],"disallowed"],[[2610,2610],"valid"],[[2611,2611],"mapped",[2610,2620]],[[2612,2612],"disallowed"],[[2613,2613],"valid"],[[2614,2614],"mapped",[2616,2620]],[[2615,2615],"disallowed"],[[2616,2617],"valid"],[[2618,2619],"disallowed"],[[2620,2620],"valid"],[[2621,2621],"disallowed"],[[2622,2626],"valid"],[[2627,2630],"disallowed"],[[2631,2632],"valid"],[[2633,2634],"disallowed"],[[2635,2637],"valid"],[[2638,2640],"disallowed"],[[2641,2641],"valid"],[[2642,2648],"disallowed"],[[2649,2649],"mapped",[2582,2620]],[[2650,2650],"mapped",[2583,2620]],[[2651,2651],"mapped",[2588,2620]],[[2652,2652],"valid"],[[2653,2653],"disallowed"],[[2654,2654],"mapped",[2603,2620]],[[2655,2661],"disallowed"],[[2662,2676],"valid"],[[2677,2677],"valid"],[[2678,2688],"disallowed"],[[2689,2691],"valid"],[[2692,2692],"disallowed"],[[2693,2699],"valid"],[[2700,2700],"valid"],[[2701,2701],"valid"],[[2702,2702],"disallowed"],[[2703,2705],"valid"],[[2706,2706],"disallowed"],[[2707,2728],"valid"],[[2729,2729],"disallowed"],[[2730,2736],"valid"],[[2737,2737],"disallowed"],[[2738,2739],"valid"],[[2740,2740],"disallowed"],[[2741,2745],"valid"],[[2746,2747],"disallowed"],[[2748,2757],"valid"],[[2758,2758],"disallowed"],[[2759,2761],"valid"],[[2762,2762],"disallowed"],[[2763,2765],"valid"],[[2766,2767],"disallowed"],[[2768,2768],"valid"],[[2769,2783],"disallowed"],[[2784,2784],"valid"],[[2785,2787],"valid"],[[2788,2789],"disallowed"],[[2790,2799],"valid"],[[2800,2800],"valid",[],"NV8"],[[2801,2801],"valid",[],"NV8"],[[2802,2808],"disallowed"],[[2809,2809],"valid"],[[2810,2816],"disallowed"],[[2817,2819],"valid"],[[2820,2820],"disallowed"],[[2821,2828],"valid"],[[2829,2830],"disallowed"],[[2831,2832],"valid"],[[2833,2834],"disallowed"],[[2835,2856],"valid"],[[2857,2857],"disallowed"],[[2858,2864],"valid"],[[2865,2865],"disallowed"],[[2866,2867],"valid"],[[2868,2868],"disallowed"],[[2869,2869],"valid"],[[2870,2873],"valid"],[[2874,2875],"disallowed"],[[2876,2883],"valid"],[[2884,2884],"valid"],[[2885,2886],"disallowed"],[[2887,2888],"valid"],[[2889,2890],"disallowed"],[[2891,2893],"valid"],[[2894,2901],"disallowed"],[[2902,2903],"valid"],[[2904,2907],"disallowed"],[[2908,2908],"mapped",[2849,2876]],[[2909,2909],"mapped",[2850,2876]],[[2910,2910],"disallowed"],[[2911,2913],"valid"],[[2914,2915],"valid"],[[2916,2917],"disallowed"],[[2918,2927],"valid"],[[2928,2928],"valid",[],"NV8"],[[2929,2929],"valid"],[[2930,2935],"valid",[],"NV8"],[[2936,2945],"disallowed"],[[2946,2947],"valid"],[[2948,2948],"disallowed"],[[2949,2954],"valid"],[[2955,2957],"disallowed"],[[2958,2960],"valid"],[[2961,2961],"disallowed"],[[2962,2965],"valid"],[[2966,2968],"disallowed"],[[2969,2970],"valid"],[[2971,2971],"disallowed"],[[2972,2972],"valid"],[[2973,2973],"disallowed"],[[2974,2975],"valid"],[[2976,2978],"disallowed"],[[2979,2980],"valid"],[[2981,2983],"disallowed"],[[2984,2986],"valid"],[[2987,2989],"disallowed"],[[2990,2997],"valid"],[[2998,2998],"valid"],[[2999,3001],"valid"],[[3002,3005],"disallowed"],[[3006,3010],"valid"],[[3011,3013],"disallowed"],[[3014,3016],"valid"],[[3017,3017],"disallowed"],[[3018,3021],"valid"],[[3022,3023],"disallowed"],[[3024,3024],"valid"],[[3025,3030],"disallowed"],[[3031,3031],"valid"],[[3032,3045],"disallowed"],[[3046,3046],"valid"],[[3047,3055],"valid"],[[3056,3058],"valid",[],"NV8"],[[3059,3066],"valid",[],"NV8"],[[3067,3071],"disallowed"],[[3072,3072],"valid"],[[3073,3075],"valid"],[[3076,3076],"disallowed"],[[3077,3084],"valid"],[[3085,3085],"disallowed"],[[3086,3088],"valid"],[[3089,3089],"disallowed"],[[3090,3112],"valid"],[[3113,3113],"disallowed"],[[3114,3123],"valid"],[[3124,3124],"valid"],[[3125,3129],"valid"],[[3130,3132],"disallowed"],[[3133,3133],"valid"],[[3134,3140],"valid"],[[3141,3141],"disallowed"],[[3142,3144],"valid"],[[3145,3145],"disallowed"],[[3146,3149],"valid"],[[3150,3156],"disallowed"],[[3157,3158],"valid"],[[3159,3159],"disallowed"],[[3160,3161],"valid"],[[3162,3162],"valid"],[[3163,3167],"disallowed"],[[3168,3169],"valid"],[[3170,3171],"valid"],[[3172,3173],"disallowed"],[[3174,3183],"valid"],[[3184,3191],"disallowed"],[[3192,3199],"valid",[],"NV8"],[[3200,3200],"disallowed"],[[3201,3201],"valid"],[[3202,3203],"valid"],[[3204,3204],"disallowed"],[[3205,3212],"valid"],[[3213,3213],"disallowed"],[[3214,3216],"valid"],[[3217,3217],"disallowed"],[[3218,3240],"valid"],[[3241,3241],"disallowed"],[[3242,3251],"valid"],[[3252,3252],"disallowed"],[[3253,3257],"valid"],[[3258,3259],"disallowed"],[[3260,3261],"valid"],[[3262,3268],"valid"],[[3269,3269],"disallowed"],[[3270,3272],"valid"],[[3273,3273],"disallowed"],[[3274,3277],"valid"],[[3278,3284],"disallowed"],[[3285,3286],"valid"],[[3287,3293],"disallowed"],[[3294,3294],"valid"],[[3295,3295],"disallowed"],[[3296,3297],"valid"],[[3298,3299],"valid"],[[3300,3301],"disallowed"],[[3302,3311],"valid"],[[3312,3312],"disallowed"],[[3313,3314],"valid"],[[3315,3328],"disallowed"],[[3329,3329],"valid"],[[3330,3331],"valid"],[[3332,3332],"disallowed"],[[3333,3340],"valid"],[[3341,3341],"disallowed"],[[3342,3344],"valid"],[[3345,3345],"disallowed"],[[3346,3368],"valid"],[[3369,3369],"valid"],[[3370,3385],"valid"],[[3386,3386],"valid"],[[3387,3388],"disallowed"],[[3389,3389],"valid"],[[3390,3395],"valid"],[[3396,3396],"valid"],[[3397,3397],"disallowed"],[[3398,3400],"valid"],[[3401,3401],"disallowed"],[[3402,3405],"valid"],[[3406,3406],"valid"],[[3407,3414],"disallowed"],[[3415,3415],"valid"],[[3416,3422],"disallowed"],[[3423,3423],"valid"],[[3424,3425],"valid"],[[3426,3427],"valid"],[[3428,3429],"disallowed"],[[3430,3439],"valid"],[[3440,3445],"valid",[],"NV8"],[[3446,3448],"disallowed"],[[3449,3449],"valid",[],"NV8"],[[3450,3455],"valid"],[[3456,3457],"disallowed"],[[3458,3459],"valid"],[[3460,3460],"disallowed"],[[3461,3478],"valid"],[[3479,3481],"disallowed"],[[3482,3505],"valid"],[[3506,3506],"disallowed"],[[3507,3515],"valid"],[[3516,3516],"disallowed"],[[3517,3517],"valid"],[[3518,3519],"disallowed"],[[3520,3526],"valid"],[[3527,3529],"disallowed"],[[3530,3530],"valid"],[[3531,3534],"disallowed"],[[3535,3540],"valid"],[[3541,3541],"disallowed"],[[3542,3542],"valid"],[[3543,3543],"disallowed"],[[3544,3551],"valid"],[[3552,3557],"disallowed"],[[3558,3567],"valid"],[[3568,3569],"disallowed"],[[3570,3571],"valid"],[[3572,3572],"valid",[],"NV8"],[[3573,3584],"disallowed"],[[3585,3634],"valid"],[[3635,3635],"mapped",[3661,3634]],[[3636,3642],"valid"],[[3643,3646],"disallowed"],[[3647,3647],"valid",[],"NV8"],[[3648,3662],"valid"],[[3663,3663],"valid",[],"NV8"],[[3664,3673],"valid"],[[3674,3675],"valid",[],"NV8"],[[3676,3712],"disallowed"],[[3713,3714],"valid"],[[3715,3715],"disallowed"],[[3716,3716],"valid"],[[3717,3718],"disallowed"],[[3719,3720],"valid"],[[3721,3721],"disallowed"],[[3722,3722],"valid"],[[3723,3724],"disallowed"],[[3725,3725],"valid"],[[3726,3731],"disallowed"],[[3732,3735],"valid"],[[3736,3736],"disallowed"],[[3737,3743],"valid"],[[3744,3744],"disallowed"],[[3745,3747],"valid"],[[3748,3748],"disallowed"],[[3749,3749],"valid"],[[3750,3750],"disallowed"],[[3751,3751],"valid"],[[3752,3753],"disallowed"],[[3754,3755],"valid"],[[3756,3756],"disallowed"],[[3757,3762],"valid"],[[3763,3763],"mapped",[3789,3762]],[[3764,3769],"valid"],[[3770,3770],"disallowed"],[[3771,3773],"valid"],[[3774,3775],"disallowed"],[[3776,3780],"valid"],[[3781,3781],"disallowed"],[[3782,3782],"valid"],[[3783,3783],"disallowed"],[[3784,3789],"valid"],[[3790,3791],"disallowed"],[[3792,3801],"valid"],[[3802,3803],"disallowed"],[[3804,3804],"mapped",[3755,3737]],[[3805,3805],"mapped",[3755,3745]],[[3806,3807],"valid"],[[3808,3839],"disallowed"],[[3840,3840],"valid"],[[3841,3850],"valid",[],"NV8"],[[3851,3851],"valid"],[[3852,3852],"mapped",[3851]],[[3853,3863],"valid",[],"NV8"],[[3864,3865],"valid"],[[3866,3871],"valid",[],"NV8"],[[3872,3881],"valid"],[[3882,3892],"valid",[],"NV8"],[[3893,3893],"valid"],[[3894,3894],"valid",[],"NV8"],[[3895,3895],"valid"],[[3896,3896],"valid",[],"NV8"],[[3897,3897],"valid"],[[3898,3901],"valid",[],"NV8"],[[3902,3906],"valid"],[[3907,3907],"mapped",[3906,4023]],[[3908,3911],"valid"],[[3912,3912],"disallowed"],[[3913,3916],"valid"],[[3917,3917],"mapped",[3916,4023]],[[3918,3921],"valid"],[[3922,3922],"mapped",[3921,4023]],[[3923,3926],"valid"],[[3927,3927],"mapped",[3926,4023]],[[3928,3931],"valid"],[[3932,3932],"mapped",[3931,4023]],[[3933,3944],"valid"],[[3945,3945],"mapped",[3904,4021]],[[3946,3946],"valid"],[[3947,3948],"valid"],[[3949,3952],"disallowed"],[[3953,3954],"valid"],[[3955,3955],"mapped",[3953,3954]],[[3956,3956],"valid"],[[3957,3957],"mapped",[3953,3956]],[[3958,3958],"mapped",[4018,3968]],[[3959,3959],"mapped",[4018,3953,3968]],[[3960,3960],"mapped",[4019,3968]],[[3961,3961],"mapped",[4019,3953,3968]],[[3962,3968],"valid"],[[3969,3969],"mapped",[3953,3968]],[[3970,3972],"valid"],[[3973,3973],"valid",[],"NV8"],[[3974,3979],"valid"],[[3980,3983],"valid"],[[3984,3986],"valid"],[[3987,3987],"mapped",[3986,4023]],[[3988,3989],"valid"],[[3990,3990],"valid"],[[3991,3991],"valid"],[[3992,3992],"disallowed"],[[3993,3996],"valid"],[[3997,3997],"mapped",[3996,4023]],[[3998,4001],"valid"],[[4002,4002],"mapped",[4001,4023]],[[4003,4006],"valid"],[[4007,4007],"mapped",[4006,4023]],[[4008,4011],"valid"],[[4012,4012],"mapped",[4011,4023]],[[4013,4013],"valid"],[[4014,4016],"valid"],[[4017,4023],"valid"],[[4024,4024],"valid"],[[4025,4025],"mapped",[3984,4021]],[[4026,4028],"valid"],[[4029,4029],"disallowed"],[[4030,4037],"valid",[],"NV8"],[[4038,4038],"valid"],[[4039,4044],"valid",[],"NV8"],[[4045,4045],"disallowed"],[[4046,4046],"valid",[],"NV8"],[[4047,4047],"valid",[],"NV8"],[[4048,4049],"valid",[],"NV8"],[[4050,4052],"valid",[],"NV8"],[[4053,4056],"valid",[],"NV8"],[[4057,4058],"valid",[],"NV8"],[[4059,4095],"disallowed"],[[4096,4129],"valid"],[[4130,4130],"valid"],[[4131,4135],"valid"],[[4136,4136],"valid"],[[4137,4138],"valid"],[[4139,4139],"valid"],[[4140,4146],"valid"],[[4147,4149],"valid"],[[4150,4153],"valid"],[[4154,4159],"valid"],[[4160,4169],"valid"],[[4170,4175],"valid",[],"NV8"],[[4176,4185],"valid"],[[4186,4249],"valid"],[[4250,4253],"valid"],[[4254,4255],"valid",[],"NV8"],[[4256,4293],"disallowed"],[[4294,4294],"disallowed"],[[4295,4295],"mapped",[11559]],[[4296,4300],"disallowed"],[[4301,4301],"mapped",[11565]],[[4302,4303],"disallowed"],[[4304,4342],"valid"],[[4343,4344],"valid"],[[4345,4346],"valid"],[[4347,4347],"valid",[],"NV8"],[[4348,4348],"mapped",[4316]],[[4349,4351],"valid"],[[4352,4441],"valid",[],"NV8"],[[4442,4446],"valid",[],"NV8"],[[4447,4448],"disallowed"],[[4449,4514],"valid",[],"NV8"],[[4515,4519],"valid",[],"NV8"],[[4520,4601],"valid",[],"NV8"],[[4602,4607],"valid",[],"NV8"],[[4608,4614],"valid"],[[4615,4615],"valid"],[[4616,4678],"valid"],[[4679,4679],"valid"],[[4680,4680],"valid"],[[4681,4681],"disallowed"],[[4682,4685],"valid"],[[4686,4687],"disallowed"],[[4688,4694],"valid"],[[4695,4695],"disallowed"],[[4696,4696],"valid"],[[4697,4697],"disallowed"],[[4698,4701],"valid"],[[4702,4703],"disallowed"],[[4704,4742],"valid"],[[4743,4743],"valid"],[[4744,4744],"valid"],[[4745,4745],"disallowed"],[[4746,4749],"valid"],[[4750,4751],"disallowed"],[[4752,4782],"valid"],[[4783,4783],"valid"],[[4784,4784],"valid"],[[4785,4785],"disallowed"],[[4786,4789],"valid"],[[4790,4791],"disallowed"],[[4792,4798],"valid"],[[4799,4799],"disallowed"],[[4800,4800],"valid"],[[4801,4801],"disallowed"],[[4802,4805],"valid"],[[4806,4807],"disallowed"],[[4808,4814],"valid"],[[4815,4815],"valid"],[[4816,4822],"valid"],[[4823,4823],"disallowed"],[[4824,4846],"valid"],[[4847,4847],"valid"],[[4848,4878],"valid"],[[4879,4879],"valid"],[[4880,4880],"valid"],[[4881,4881],"disallowed"],[[4882,4885],"valid"],[[4886,4887],"disallowed"],[[4888,4894],"valid"],[[4895,4895],"valid"],[[4896,4934],"valid"],[[4935,4935],"valid"],[[4936,4954],"valid"],[[4955,4956],"disallowed"],[[4957,4958],"valid"],[[4959,4959],"valid"],[[4960,4960],"valid",[],"NV8"],[[4961,4988],"valid",[],"NV8"],[[4989,4991],"disallowed"],[[4992,5007],"valid"],[[5008,5017],"valid",[],"NV8"],[[5018,5023],"disallowed"],[[5024,5108],"valid"],[[5109,5109],"valid"],[[5110,5111],"disallowed"],[[5112,5112],"mapped",[5104]],[[5113,5113],"mapped",[5105]],[[5114,5114],"mapped",[5106]],[[5115,5115],"mapped",[5107]],[[5116,5116],"mapped",[5108]],[[5117,5117],"mapped",[5109]],[[5118,5119],"disallowed"],[[5120,5120],"valid",[],"NV8"],[[5121,5740],"valid"],[[5741,5742],"valid",[],"NV8"],[[5743,5750],"valid"],[[5751,5759],"valid"],[[5760,5760],"disallowed"],[[5761,5786],"valid"],[[5787,5788],"valid",[],"NV8"],[[5789,5791],"disallowed"],[[5792,5866],"valid"],[[5867,5872],"valid",[],"NV8"],[[5873,5880],"valid"],[[5881,5887],"disallowed"],[[5888,5900],"valid"],[[5901,5901],"disallowed"],[[5902,5908],"valid"],[[5909,5919],"disallowed"],[[5920,5940],"valid"],[[5941,5942],"valid",[],"NV8"],[[5943,5951],"disallowed"],[[5952,5971],"valid"],[[5972,5983],"disallowed"],[[5984,5996],"valid"],[[5997,5997],"disallowed"],[[5998,6e3],"valid"],[[6001,6001],"disallowed"],[[6002,6003],"valid"],[[6004,6015],"disallowed"],[[6016,6067],"valid"],[[6068,6069],"disallowed"],[[6070,6099],"valid"],[[6100,6102],"valid",[],"NV8"],[[6103,6103],"valid"],[[6104,6107],"valid",[],"NV8"],[[6108,6108],"valid"],[[6109,6109],"valid"],[[6110,6111],"disallowed"],[[6112,6121],"valid"],[[6122,6127],"disallowed"],[[6128,6137],"valid",[],"NV8"],[[6138,6143],"disallowed"],[[6144,6149],"valid",[],"NV8"],[[6150,6150],"disallowed"],[[6151,6154],"valid",[],"NV8"],[[6155,6157],"ignored"],[[6158,6158],"disallowed"],[[6159,6159],"disallowed"],[[6160,6169],"valid"],[[6170,6175],"disallowed"],[[6176,6263],"valid"],[[6264,6271],"disallowed"],[[6272,6313],"valid"],[[6314,6314],"valid"],[[6315,6319],"disallowed"],[[6320,6389],"valid"],[[6390,6399],"disallowed"],[[6400,6428],"valid"],[[6429,6430],"valid"],[[6431,6431],"disallowed"],[[6432,6443],"valid"],[[6444,6447],"disallowed"],[[6448,6459],"valid"],[[6460,6463],"disallowed"],[[6464,6464],"valid",[],"NV8"],[[6465,6467],"disallowed"],[[6468,6469],"valid",[],"NV8"],[[6470,6509],"valid"],[[6510,6511],"disallowed"],[[6512,6516],"valid"],[[6517,6527],"disallowed"],[[6528,6569],"valid"],[[6570,6571],"valid"],[[6572,6575],"disallowed"],[[6576,6601],"valid"],[[6602,6607],"disallowed"],[[6608,6617],"valid"],[[6618,6618],"valid",[],"XV8"],[[6619,6621],"disallowed"],[[6622,6623],"valid",[],"NV8"],[[6624,6655],"valid",[],"NV8"],[[6656,6683],"valid"],[[6684,6685],"disallowed"],[[6686,6687],"valid",[],"NV8"],[[6688,6750],"valid"],[[6751,6751],"disallowed"],[[6752,6780],"valid"],[[6781,6782],"disallowed"],[[6783,6793],"valid"],[[6794,6799],"disallowed"],[[6800,6809],"valid"],[[6810,6815],"disallowed"],[[6816,6822],"valid",[],"NV8"],[[6823,6823],"valid"],[[6824,6829],"valid",[],"NV8"],[[6830,6831],"disallowed"],[[6832,6845],"valid"],[[6846,6846],"valid",[],"NV8"],[[6847,6911],"disallowed"],[[6912,6987],"valid"],[[6988,6991],"disallowed"],[[6992,7001],"valid"],[[7002,7018],"valid",[],"NV8"],[[7019,7027],"valid"],[[7028,7036],"valid",[],"NV8"],[[7037,7039],"disallowed"],[[7040,7082],"valid"],[[7083,7085],"valid"],[[7086,7097],"valid"],[[7098,7103],"valid"],[[7104,7155],"valid"],[[7156,7163],"disallowed"],[[7164,7167],"valid",[],"NV8"],[[7168,7223],"valid"],[[7224,7226],"disallowed"],[[7227,7231],"valid",[],"NV8"],[[7232,7241],"valid"],[[7242,7244],"disallowed"],[[7245,7293],"valid"],[[7294,7295],"valid",[],"NV8"],[[7296,7359],"disallowed"],[[7360,7367],"valid",[],"NV8"],[[7368,7375],"disallowed"],[[7376,7378],"valid"],[[7379,7379],"valid",[],"NV8"],[[7380,7410],"valid"],[[7411,7414],"valid"],[[7415,7415],"disallowed"],[[7416,7417],"valid"],[[7418,7423],"disallowed"],[[7424,7467],"valid"],[[7468,7468],"mapped",[97]],[[7469,7469],"mapped",[230]],[[7470,7470],"mapped",[98]],[[7471,7471],"valid"],[[7472,7472],"mapped",[100]],[[7473,7473],"mapped",[101]],[[7474,7474],"mapped",[477]],[[7475,7475],"mapped",[103]],[[7476,7476],"mapped",[104]],[[7477,7477],"mapped",[105]],[[7478,7478],"mapped",[106]],[[7479,7479],"mapped",[107]],[[7480,7480],"mapped",[108]],[[7481,7481],"mapped",[109]],[[7482,7482],"mapped",[110]],[[7483,7483],"valid"],[[7484,7484],"mapped",[111]],[[7485,7485],"mapped",[547]],[[7486,7486],"mapped",[112]],[[7487,7487],"mapped",[114]],[[7488,7488],"mapped",[116]],[[7489,7489],"mapped",[117]],[[7490,7490],"mapped",[119]],[[7491,7491],"mapped",[97]],[[7492,7492],"mapped",[592]],[[7493,7493],"mapped",[593]],[[7494,7494],"mapped",[7426]],[[7495,7495],"mapped",[98]],[[7496,7496],"mapped",[100]],[[7497,7497],"mapped",[101]],[[7498,7498],"mapped",[601]],[[7499,7499],"mapped",[603]],[[7500,7500],"mapped",[604]],[[7501,7501],"mapped",[103]],[[7502,7502],"valid"],[[7503,7503],"mapped",[107]],[[7504,7504],"mapped",[109]],[[7505,7505],"mapped",[331]],[[7506,7506],"mapped",[111]],[[7507,7507],"mapped",[596]],[[7508,7508],"mapped",[7446]],[[7509,7509],"mapped",[7447]],[[7510,7510],"mapped",[112]],[[7511,7511],"mapped",[116]],[[7512,7512],"mapped",[117]],[[7513,7513],"mapped",[7453]],[[7514,7514],"mapped",[623]],[[7515,7515],"mapped",[118]],[[7516,7516],"mapped",[7461]],[[7517,7517],"mapped",[946]],[[7518,7518],"mapped",[947]],[[7519,7519],"mapped",[948]],[[7520,7520],"mapped",[966]],[[7521,7521],"mapped",[967]],[[7522,7522],"mapped",[105]],[[7523,7523],"mapped",[114]],[[7524,7524],"mapped",[117]],[[7525,7525],"mapped",[118]],[[7526,7526],"mapped",[946]],[[7527,7527],"mapped",[947]],[[7528,7528],"mapped",[961]],[[7529,7529],"mapped",[966]],[[7530,7530],"mapped",[967]],[[7531,7531],"valid"],[[7532,7543],"valid"],[[7544,7544],"mapped",[1085]],[[7545,7578],"valid"],[[7579,7579],"mapped",[594]],[[7580,7580],"mapped",[99]],[[7581,7581],"mapped",[597]],[[7582,7582],"mapped",[240]],[[7583,7583],"mapped",[604]],[[7584,7584],"mapped",[102]],[[7585,7585],"mapped",[607]],[[7586,7586],"mapped",[609]],[[7587,7587],"mapped",[613]],[[7588,7588],"mapped",[616]],[[7589,7589],"mapped",[617]],[[7590,7590],"mapped",[618]],[[7591,7591],"mapped",[7547]],[[7592,7592],"mapped",[669]],[[7593,7593],"mapped",[621]],[[7594,7594],"mapped",[7557]],[[7595,7595],"mapped",[671]],[[7596,7596],"mapped",[625]],[[7597,7597],"mapped",[624]],[[7598,7598],"mapped",[626]],[[7599,7599],"mapped",[627]],[[7600,7600],"mapped",[628]],[[7601,7601],"mapped",[629]],[[7602,7602],"mapped",[632]],[[7603,7603],"mapped",[642]],[[7604,7604],"mapped",[643]],[[7605,7605],"mapped",[427]],[[7606,7606],"mapped",[649]],[[7607,7607],"mapped",[650]],[[7608,7608],"mapped",[7452]],[[7609,7609],"mapped",[651]],[[7610,7610],"mapped",[652]],[[7611,7611],"mapped",[122]],[[7612,7612],"mapped",[656]],[[7613,7613],"mapped",[657]],[[7614,7614],"mapped",[658]],[[7615,7615],"mapped",[952]],[[7616,7619],"valid"],[[7620,7626],"valid"],[[7627,7654],"valid"],[[7655,7669],"valid"],[[7670,7675],"disallowed"],[[7676,7676],"valid"],[[7677,7677],"valid"],[[7678,7679],"valid"],[[7680,7680],"mapped",[7681]],[[7681,7681],"valid"],[[7682,7682],"mapped",[7683]],[[7683,7683],"valid"],[[7684,7684],"mapped",[7685]],[[7685,7685],"valid"],[[7686,7686],"mapped",[7687]],[[7687,7687],"valid"],[[7688,7688],"mapped",[7689]],[[7689,7689],"valid"],[[7690,7690],"mapped",[7691]],[[7691,7691],"valid"],[[7692,7692],"mapped",[7693]],[[7693,7693],"valid"],[[7694,7694],"mapped",[7695]],[[7695,7695],"valid"],[[7696,7696],"mapped",[7697]],[[7697,7697],"valid"],[[7698,7698],"mapped",[7699]],[[7699,7699],"valid"],[[7700,7700],"mapped",[7701]],[[7701,7701],"valid"],[[7702,7702],"mapped",[7703]],[[7703,7703],"valid"],[[7704,7704],"mapped",[7705]],[[7705,7705],"valid"],[[7706,7706],"mapped",[7707]],[[7707,7707],"valid"],[[7708,7708],"mapped",[7709]],[[7709,7709],"valid"],[[7710,7710],"mapped",[7711]],[[7711,7711],"valid"],[[7712,7712],"mapped",[7713]],[[7713,7713],"valid"],[[7714,7714],"mapped",[7715]],[[7715,7715],"valid"],[[7716,7716],"mapped",[7717]],[[7717,7717],"valid"],[[7718,7718],"mapped",[7719]],[[7719,7719],"valid"],[[7720,7720],"mapped",[7721]],[[7721,7721],"valid"],[[7722,7722],"mapped",[7723]],[[7723,7723],"valid"],[[7724,7724],"mapped",[7725]],[[7725,7725],"valid"],[[7726,7726],"mapped",[7727]],[[7727,7727],"valid"],[[7728,7728],"mapped",[7729]],[[7729,7729],"valid"],[[7730,7730],"mapped",[7731]],[[7731,7731],"valid"],[[7732,7732],"mapped",[7733]],[[7733,7733],"valid"],[[7734,7734],"mapped",[7735]],[[7735,7735],"valid"],[[7736,7736],"mapped",[7737]],[[7737,7737],"valid"],[[7738,7738],"mapped",[7739]],[[7739,7739],"valid"],[[7740,7740],"mapped",[7741]],[[7741,7741],"valid"],[[7742,7742],"mapped",[7743]],[[7743,7743],"valid"],[[7744,7744],"mapped",[7745]],[[7745,7745],"valid"],[[7746,7746],"mapped",[7747]],[[7747,7747],"valid"],[[7748,7748],"mapped",[7749]],[[7749,7749],"valid"],[[7750,7750],"mapped",[7751]],[[7751,7751],"valid"],[[7752,7752],"mapped",[7753]],[[7753,7753],"valid"],[[7754,7754],"mapped",[7755]],[[7755,7755],"valid"],[[7756,7756],"mapped",[7757]],[[7757,7757],"valid"],[[7758,7758],"mapped",[7759]],[[7759,7759],"valid"],[[7760,7760],"mapped",[7761]],[[7761,7761],"valid"],[[7762,7762],"mapped",[7763]],[[7763,7763],"valid"],[[7764,7764],"mapped",[7765]],[[7765,7765],"valid"],[[7766,7766],"mapped",[7767]],[[7767,7767],"valid"],[[7768,7768],"mapped",[7769]],[[7769,7769],"valid"],[[7770,7770],"mapped",[7771]],[[7771,7771],"valid"],[[7772,7772],"mapped",[7773]],[[7773,7773],"valid"],[[7774,7774],"mapped",[7775]],[[7775,7775],"valid"],[[7776,7776],"mapped",[7777]],[[7777,7777],"valid"],[[7778,7778],"mapped",[7779]],[[7779,7779],"valid"],[[7780,7780],"mapped",[7781]],[[7781,7781],"valid"],[[7782,7782],"mapped",[7783]],[[7783,7783],"valid"],[[7784,7784],"mapped",[7785]],[[7785,7785],"valid"],[[7786,7786],"mapped",[7787]],[[7787,7787],"valid"],[[7788,7788],"mapped",[7789]],[[7789,7789],"valid"],[[7790,7790],"mapped",[7791]],[[7791,7791],"valid"],[[7792,7792],"mapped",[7793]],[[7793,7793],"valid"],[[7794,7794],"mapped",[7795]],[[7795,7795],"valid"],[[7796,7796],"mapped",[7797]],[[7797,7797],"valid"],[[7798,7798],"mapped",[7799]],[[7799,7799],"valid"],[[7800,7800],"mapped",[7801]],[[7801,7801],"valid"],[[7802,7802],"mapped",[7803]],[[7803,7803],"valid"],[[7804,7804],"mapped",[7805]],[[7805,7805],"valid"],[[7806,7806],"mapped",[7807]],[[7807,7807],"valid"],[[7808,7808],"mapped",[7809]],[[7809,7809],"valid"],[[7810,7810],"mapped",[7811]],[[7811,7811],"valid"],[[7812,7812],"mapped",[7813]],[[7813,7813],"valid"],[[7814,7814],"mapped",[7815]],[[7815,7815],"valid"],[[7816,7816],"mapped",[7817]],[[7817,7817],"valid"],[[7818,7818],"mapped",[7819]],[[7819,7819],"valid"],[[7820,7820],"mapped",[7821]],[[7821,7821],"valid"],[[7822,7822],"mapped",[7823]],[[7823,7823],"valid"],[[7824,7824],"mapped",[7825]],[[7825,7825],"valid"],[[7826,7826],"mapped",[7827]],[[7827,7827],"valid"],[[7828,7828],"mapped",[7829]],[[7829,7833],"valid"],[[7834,7834],"mapped",[97,702]],[[7835,7835],"mapped",[7777]],[[7836,7837],"valid"],[[7838,7838],"mapped",[115,115]],[[7839,7839],"valid"],[[7840,7840],"mapped",[7841]],[[7841,7841],"valid"],[[7842,7842],"mapped",[7843]],[[7843,7843],"valid"],[[7844,7844],"mapped",[7845]],[[7845,7845],"valid"],[[7846,7846],"mapped",[7847]],[[7847,7847],"valid"],[[7848,7848],"mapped",[7849]],[[7849,7849],"valid"],[[7850,7850],"mapped",[7851]],[[7851,7851],"valid"],[[7852,7852],"mapped",[7853]],[[7853,7853],"valid"],[[7854,7854],"mapped",[7855]],[[7855,7855],"valid"],[[7856,7856],"mapped",[7857]],[[7857,7857],"valid"],[[7858,7858],"mapped",[7859]],[[7859,7859],"valid"],[[7860,7860],"mapped",[7861]],[[7861,7861],"valid"],[[7862,7862],"mapped",[7863]],[[7863,7863],"valid"],[[7864,7864],"mapped",[7865]],[[7865,7865],"valid"],[[7866,7866],"mapped",[7867]],[[7867,7867],"valid"],[[7868,7868],"mapped",[7869]],[[7869,7869],"valid"],[[7870,7870],"mapped",[7871]],[[7871,7871],"valid"],[[7872,7872],"mapped",[7873]],[[7873,7873],"valid"],[[7874,7874],"mapped",[7875]],[[7875,7875],"valid"],[[7876,7876],"mapped",[7877]],[[7877,7877],"valid"],[[7878,7878],"mapped",[7879]],[[7879,7879],"valid"],[[7880,7880],"mapped",[7881]],[[7881,7881],"valid"],[[7882,7882],"mapped",[7883]],[[7883,7883],"valid"],[[7884,7884],"mapped",[7885]],[[7885,7885],"valid"],[[7886,7886],"mapped",[7887]],[[7887,7887],"valid"],[[7888,7888],"mapped",[7889]],[[7889,7889],"valid"],[[7890,7890],"mapped",[7891]],[[7891,7891],"valid"],[[7892,7892],"mapped",[7893]],[[7893,7893],"valid"],[[7894,7894],"mapped",[7895]],[[7895,7895],"valid"],[[7896,7896],"mapped",[7897]],[[7897,7897],"valid"],[[7898,7898],"mapped",[7899]],[[7899,7899],"valid"],[[7900,7900],"mapped",[7901]],[[7901,7901],"valid"],[[7902,7902],"mapped",[7903]],[[7903,7903],"valid"],[[7904,7904],"mapped",[7905]],[[7905,7905],"valid"],[[7906,7906],"mapped",[7907]],[[7907,7907],"valid"],[[7908,7908],"mapped",[7909]],[[7909,7909],"valid"],[[7910,7910],"mapped",[7911]],[[7911,7911],"valid"],[[7912,7912],"mapped",[7913]],[[7913,7913],"valid"],[[7914,7914],"mapped",[7915]],[[7915,7915],"valid"],[[7916,7916],"mapped",[7917]],[[7917,7917],"valid"],[[7918,7918],"mapped",[7919]],[[7919,7919],"valid"],[[7920,7920],"mapped",[7921]],[[7921,7921],"valid"],[[7922,7922],"mapped",[7923]],[[7923,7923],"valid"],[[7924,7924],"mapped",[7925]],[[7925,7925],"valid"],[[7926,7926],"mapped",[7927]],[[7927,7927],"valid"],[[7928,7928],"mapped",[7929]],[[7929,7929],"valid"],[[7930,7930],"mapped",[7931]],[[7931,7931],"valid"],[[7932,7932],"mapped",[7933]],[[7933,7933],"valid"],[[7934,7934],"mapped",[7935]],[[7935,7935],"valid"],[[7936,7943],"valid"],[[7944,7944],"mapped",[7936]],[[7945,7945],"mapped",[7937]],[[7946,7946],"mapped",[7938]],[[7947,7947],"mapped",[7939]],[[7948,7948],"mapped",[7940]],[[7949,7949],"mapped",[7941]],[[7950,7950],"mapped",[7942]],[[7951,7951],"mapped",[7943]],[[7952,7957],"valid"],[[7958,7959],"disallowed"],[[7960,7960],"mapped",[7952]],[[7961,7961],"mapped",[7953]],[[7962,7962],"mapped",[7954]],[[7963,7963],"mapped",[7955]],[[7964,7964],"mapped",[7956]],[[7965,7965],"mapped",[7957]],[[7966,7967],"disallowed"],[[7968,7975],"valid"],[[7976,7976],"mapped",[7968]],[[7977,7977],"mapped",[7969]],[[7978,7978],"mapped",[7970]],[[7979,7979],"mapped",[7971]],[[7980,7980],"mapped",[7972]],[[7981,7981],"mapped",[7973]],[[7982,7982],"mapped",[7974]],[[7983,7983],"mapped",[7975]],[[7984,7991],"valid"],[[7992,7992],"mapped",[7984]],[[7993,7993],"mapped",[7985]],[[7994,7994],"mapped",[7986]],[[7995,7995],"mapped",[7987]],[[7996,7996],"mapped",[7988]],[[7997,7997],"mapped",[7989]],[[7998,7998],"mapped",[7990]],[[7999,7999],"mapped",[7991]],[[8e3,8005],"valid"],[[8006,8007],"disallowed"],[[8008,8008],"mapped",[8e3]],[[8009,8009],"mapped",[8001]],[[8010,8010],"mapped",[8002]],[[8011,8011],"mapped",[8003]],[[8012,8012],"mapped",[8004]],[[8013,8013],"mapped",[8005]],[[8014,8015],"disallowed"],[[8016,8023],"valid"],[[8024,8024],"disallowed"],[[8025,8025],"mapped",[8017]],[[8026,8026],"disallowed"],[[8027,8027],"mapped",[8019]],[[8028,8028],"disallowed"],[[8029,8029],"mapped",[8021]],[[8030,8030],"disallowed"],[[8031,8031],"mapped",[8023]],[[8032,8039],"valid"],[[8040,8040],"mapped",[8032]],[[8041,8041],"mapped",[8033]],[[8042,8042],"mapped",[8034]],[[8043,8043],"mapped",[8035]],[[8044,8044],"mapped",[8036]],[[8045,8045],"mapped",[8037]],[[8046,8046],"mapped",[8038]],[[8047,8047],"mapped",[8039]],[[8048,8048],"valid"],[[8049,8049],"mapped",[940]],[[8050,8050],"valid"],[[8051,8051],"mapped",[941]],[[8052,8052],"valid"],[[8053,8053],"mapped",[942]],[[8054,8054],"valid"],[[8055,8055],"mapped",[943]],[[8056,8056],"valid"],[[8057,8057],"mapped",[972]],[[8058,8058],"valid"],[[8059,8059],"mapped",[973]],[[8060,8060],"valid"],[[8061,8061],"mapped",[974]],[[8062,8063],"disallowed"],[[8064,8064],"mapped",[7936,953]],[[8065,8065],"mapped",[7937,953]],[[8066,8066],"mapped",[7938,953]],[[8067,8067],"mapped",[7939,953]],[[8068,8068],"mapped",[7940,953]],[[8069,8069],"mapped",[7941,953]],[[8070,8070],"mapped",[7942,953]],[[8071,8071],"mapped",[7943,953]],[[8072,8072],"mapped",[7936,953]],[[8073,8073],"mapped",[7937,953]],[[8074,8074],"mapped",[7938,953]],[[8075,8075],"mapped",[7939,953]],[[8076,8076],"mapped",[7940,953]],[[8077,8077],"mapped",[7941,953]],[[8078,8078],"mapped",[7942,953]],[[8079,8079],"mapped",[7943,953]],[[8080,8080],"mapped",[7968,953]],[[8081,8081],"mapped",[7969,953]],[[8082,8082],"mapped",[7970,953]],[[8083,8083],"mapped",[7971,953]],[[8084,8084],"mapped",[7972,953]],[[8085,8085],"mapped",[7973,953]],[[8086,8086],"mapped",[7974,953]],[[8087,8087],"mapped",[7975,953]],[[8088,8088],"mapped",[7968,953]],[[8089,8089],"mapped",[7969,953]],[[8090,8090],"mapped",[7970,953]],[[8091,8091],"mapped",[7971,953]],[[8092,8092],"mapped",[7972,953]],[[8093,8093],"mapped",[7973,953]],[[8094,8094],"mapped",[7974,953]],[[8095,8095],"mapped",[7975,953]],[[8096,8096],"mapped",[8032,953]],[[8097,8097],"mapped",[8033,953]],[[8098,8098],"mapped",[8034,953]],[[8099,8099],"mapped",[8035,953]],[[8100,8100],"mapped",[8036,953]],[[8101,8101],"mapped",[8037,953]],[[8102,8102],"mapped",[8038,953]],[[8103,8103],"mapped",[8039,953]],[[8104,8104],"mapped",[8032,953]],[[8105,8105],"mapped",[8033,953]],[[8106,8106],"mapped",[8034,953]],[[8107,8107],"mapped",[8035,953]],[[8108,8108],"mapped",[8036,953]],[[8109,8109],"mapped",[8037,953]],[[8110,8110],"mapped",[8038,953]],[[8111,8111],"mapped",[8039,953]],[[8112,8113],"valid"],[[8114,8114],"mapped",[8048,953]],[[8115,8115],"mapped",[945,953]],[[8116,8116],"mapped",[940,953]],[[8117,8117],"disallowed"],[[8118,8118],"valid"],[[8119,8119],"mapped",[8118,953]],[[8120,8120],"mapped",[8112]],[[8121,8121],"mapped",[8113]],[[8122,8122],"mapped",[8048]],[[8123,8123],"mapped",[940]],[[8124,8124],"mapped",[945,953]],[[8125,8125],"disallowed_STD3_mapped",[32,787]],[[8126,8126],"mapped",[953]],[[8127,8127],"disallowed_STD3_mapped",[32,787]],[[8128,8128],"disallowed_STD3_mapped",[32,834]],[[8129,8129],"disallowed_STD3_mapped",[32,776,834]],[[8130,8130],"mapped",[8052,953]],[[8131,8131],"mapped",[951,953]],[[8132,8132],"mapped",[942,953]],[[8133,8133],"disallowed"],[[8134,8134],"valid"],[[8135,8135],"mapped",[8134,953]],[[8136,8136],"mapped",[8050]],[[8137,8137],"mapped",[941]],[[8138,8138],"mapped",[8052]],[[8139,8139],"mapped",[942]],[[8140,8140],"mapped",[951,953]],[[8141,8141],"disallowed_STD3_mapped",[32,787,768]],[[8142,8142],"disallowed_STD3_mapped",[32,787,769]],[[8143,8143],"disallowed_STD3_mapped",[32,787,834]],[[8144,8146],"valid"],[[8147,8147],"mapped",[912]],[[8148,8149],"disallowed"],[[8150,8151],"valid"],[[8152,8152],"mapped",[8144]],[[8153,8153],"mapped",[8145]],[[8154,8154],"mapped",[8054]],[[8155,8155],"mapped",[943]],[[8156,8156],"disallowed"],[[8157,8157],"disallowed_STD3_mapped",[32,788,768]],[[8158,8158],"disallowed_STD3_mapped",[32,788,769]],[[8159,8159],"disallowed_STD3_mapped",[32,788,834]],[[8160,8162],"valid"],[[8163,8163],"mapped",[944]],[[8164,8167],"valid"],[[8168,8168],"mapped",[8160]],[[8169,8169],"mapped",[8161]],[[8170,8170],"mapped",[8058]],[[8171,8171],"mapped",[973]],[[8172,8172],"mapped",[8165]],[[8173,8173],"disallowed_STD3_mapped",[32,776,768]],[[8174,8174],"disallowed_STD3_mapped",[32,776,769]],[[8175,8175],"disallowed_STD3_mapped",[96]],[[8176,8177],"disallowed"],[[8178,8178],"mapped",[8060,953]],[[8179,8179],"mapped",[969,953]],[[8180,8180],"mapped",[974,953]],[[8181,8181],"disallowed"],[[8182,8182],"valid"],[[8183,8183],"mapped",[8182,953]],[[8184,8184],"mapped",[8056]],[[8185,8185],"mapped",[972]],[[8186,8186],"mapped",[8060]],[[8187,8187],"mapped",[974]],[[8188,8188],"mapped",[969,953]],[[8189,8189],"disallowed_STD3_mapped",[32,769]],[[8190,8190],"disallowed_STD3_mapped",[32,788]],[[8191,8191],"disallowed"],[[8192,8202],"disallowed_STD3_mapped",[32]],[[8203,8203],"ignored"],[[8204,8205],"deviation",[]],[[8206,8207],"disallowed"],[[8208,8208],"valid",[],"NV8"],[[8209,8209],"mapped",[8208]],[[8210,8214],"valid",[],"NV8"],[[8215,8215],"disallowed_STD3_mapped",[32,819]],[[8216,8227],"valid",[],"NV8"],[[8228,8230],"disallowed"],[[8231,8231],"valid",[],"NV8"],[[8232,8238],"disallowed"],[[8239,8239],"disallowed_STD3_mapped",[32]],[[8240,8242],"valid",[],"NV8"],[[8243,8243],"mapped",[8242,8242]],[[8244,8244],"mapped",[8242,8242,8242]],[[8245,8245],"valid",[],"NV8"],[[8246,8246],"mapped",[8245,8245]],[[8247,8247],"mapped",[8245,8245,8245]],[[8248,8251],"valid",[],"NV8"],[[8252,8252],"disallowed_STD3_mapped",[33,33]],[[8253,8253],"valid",[],"NV8"],[[8254,8254],"disallowed_STD3_mapped",[32,773]],[[8255,8262],"valid",[],"NV8"],[[8263,8263],"disallowed_STD3_mapped",[63,63]],[[8264,8264],"disallowed_STD3_mapped",[63,33]],[[8265,8265],"disallowed_STD3_mapped",[33,63]],[[8266,8269],"valid",[],"NV8"],[[8270,8274],"valid",[],"NV8"],[[8275,8276],"valid",[],"NV8"],[[8277,8278],"valid",[],"NV8"],[[8279,8279],"mapped",[8242,8242,8242,8242]],[[8280,8286],"valid",[],"NV8"],[[8287,8287],"disallowed_STD3_mapped",[32]],[[8288,8288],"ignored"],[[8289,8291],"disallowed"],[[8292,8292],"ignored"],[[8293,8293],"disallowed"],[[8294,8297],"disallowed"],[[8298,8303],"disallowed"],[[8304,8304],"mapped",[48]],[[8305,8305],"mapped",[105]],[[8306,8307],"disallowed"],[[8308,8308],"mapped",[52]],[[8309,8309],"mapped",[53]],[[8310,8310],"mapped",[54]],[[8311,8311],"mapped",[55]],[[8312,8312],"mapped",[56]],[[8313,8313],"mapped",[57]],[[8314,8314],"disallowed_STD3_mapped",[43]],[[8315,8315],"mapped",[8722]],[[8316,8316],"disallowed_STD3_mapped",[61]],[[8317,8317],"disallowed_STD3_mapped",[40]],[[8318,8318],"disallowed_STD3_mapped",[41]],[[8319,8319],"mapped",[110]],[[8320,8320],"mapped",[48]],[[8321,8321],"mapped",[49]],[[8322,8322],"mapped",[50]],[[8323,8323],"mapped",[51]],[[8324,8324],"mapped",[52]],[[8325,8325],"mapped",[53]],[[8326,8326],"mapped",[54]],[[8327,8327],"mapped",[55]],[[8328,8328],"mapped",[56]],[[8329,8329],"mapped",[57]],[[8330,8330],"disallowed_STD3_mapped",[43]],[[8331,8331],"mapped",[8722]],[[8332,8332],"disallowed_STD3_mapped",[61]],[[8333,8333],"disallowed_STD3_mapped",[40]],[[8334,8334],"disallowed_STD3_mapped",[41]],[[8335,8335],"disallowed"],[[8336,8336],"mapped",[97]],[[8337,8337],"mapped",[101]],[[8338,8338],"mapped",[111]],[[8339,8339],"mapped",[120]],[[8340,8340],"mapped",[601]],[[8341,8341],"mapped",[104]],[[8342,8342],"mapped",[107]],[[8343,8343],"mapped",[108]],[[8344,8344],"mapped",[109]],[[8345,8345],"mapped",[110]],[[8346,8346],"mapped",[112]],[[8347,8347],"mapped",[115]],[[8348,8348],"mapped",[116]],[[8349,8351],"disallowed"],[[8352,8359],"valid",[],"NV8"],[[8360,8360],"mapped",[114,115]],[[8361,8362],"valid",[],"NV8"],[[8363,8363],"valid",[],"NV8"],[[8364,8364],"valid",[],"NV8"],[[8365,8367],"valid",[],"NV8"],[[8368,8369],"valid",[],"NV8"],[[8370,8373],"valid",[],"NV8"],[[8374,8376],"valid",[],"NV8"],[[8377,8377],"valid",[],"NV8"],[[8378,8378],"valid",[],"NV8"],[[8379,8381],"valid",[],"NV8"],[[8382,8382],"valid",[],"NV8"],[[8383,8399],"disallowed"],[[8400,8417],"valid",[],"NV8"],[[8418,8419],"valid",[],"NV8"],[[8420,8426],"valid",[],"NV8"],[[8427,8427],"valid",[],"NV8"],[[8428,8431],"valid",[],"NV8"],[[8432,8432],"valid",[],"NV8"],[[8433,8447],"disallowed"],[[8448,8448],"disallowed_STD3_mapped",[97,47,99]],[[8449,8449],"disallowed_STD3_mapped",[97,47,115]],[[8450,8450],"mapped",[99]],[[8451,8451],"mapped",[176,99]],[[8452,8452],"valid",[],"NV8"],[[8453,8453],"disallowed_STD3_mapped",[99,47,111]],[[8454,8454],"disallowed_STD3_mapped",[99,47,117]],[[8455,8455],"mapped",[603]],[[8456,8456],"valid",[],"NV8"],[[8457,8457],"mapped",[176,102]],[[8458,8458],"mapped",[103]],[[8459,8462],"mapped",[104]],[[8463,8463],"mapped",[295]],[[8464,8465],"mapped",[105]],[[8466,8467],"mapped",[108]],[[8468,8468],"valid",[],"NV8"],[[8469,8469],"mapped",[110]],[[8470,8470],"mapped",[110,111]],[[8471,8472],"valid",[],"NV8"],[[8473,8473],"mapped",[112]],[[8474,8474],"mapped",[113]],[[8475,8477],"mapped",[114]],[[8478,8479],"valid",[],"NV8"],[[8480,8480],"mapped",[115,109]],[[8481,8481],"mapped",[116,101,108]],[[8482,8482],"mapped",[116,109]],[[8483,8483],"valid",[],"NV8"],[[8484,8484],"mapped",[122]],[[8485,8485],"valid",[],"NV8"],[[8486,8486],"mapped",[969]],[[8487,8487],"valid",[],"NV8"],[[8488,8488],"mapped",[122]],[[8489,8489],"valid",[],"NV8"],[[8490,8490],"mapped",[107]],[[8491,8491],"mapped",[229]],[[8492,8492],"mapped",[98]],[[8493,8493],"mapped",[99]],[[8494,8494],"valid",[],"NV8"],[[8495,8496],"mapped",[101]],[[8497,8497],"mapped",[102]],[[8498,8498],"disallowed"],[[8499,8499],"mapped",[109]],[[8500,8500],"mapped",[111]],[[8501,8501],"mapped",[1488]],[[8502,8502],"mapped",[1489]],[[8503,8503],"mapped",[1490]],[[8504,8504],"mapped",[1491]],[[8505,8505],"mapped",[105]],[[8506,8506],"valid",[],"NV8"],[[8507,8507],"mapped",[102,97,120]],[[8508,8508],"mapped",[960]],[[8509,8510],"mapped",[947]],[[8511,8511],"mapped",[960]],[[8512,8512],"mapped",[8721]],[[8513,8516],"valid",[],"NV8"],[[8517,8518],"mapped",[100]],[[8519,8519],"mapped",[101]],[[8520,8520],"mapped",[105]],[[8521,8521],"mapped",[106]],[[8522,8523],"valid",[],"NV8"],[[8524,8524],"valid",[],"NV8"],[[8525,8525],"valid",[],"NV8"],[[8526,8526],"valid"],[[8527,8527],"valid",[],"NV8"],[[8528,8528],"mapped",[49,8260,55]],[[8529,8529],"mapped",[49,8260,57]],[[8530,8530],"mapped",[49,8260,49,48]],[[8531,8531],"mapped",[49,8260,51]],[[8532,8532],"mapped",[50,8260,51]],[[8533,8533],"mapped",[49,8260,53]],[[8534,8534],"mapped",[50,8260,53]],[[8535,8535],"mapped",[51,8260,53]],[[8536,8536],"mapped",[52,8260,53]],[[8537,8537],"mapped",[49,8260,54]],[[8538,8538],"mapped",[53,8260,54]],[[8539,8539],"mapped",[49,8260,56]],[[8540,8540],"mapped",[51,8260,56]],[[8541,8541],"mapped",[53,8260,56]],[[8542,8542],"mapped",[55,8260,56]],[[8543,8543],"mapped",[49,8260]],[[8544,8544],"mapped",[105]],[[8545,8545],"mapped",[105,105]],[[8546,8546],"mapped",[105,105,105]],[[8547,8547],"mapped",[105,118]],[[8548,8548],"mapped",[118]],[[8549,8549],"mapped",[118,105]],[[8550,8550],"mapped",[118,105,105]],[[8551,8551],"mapped",[118,105,105,105]],[[8552,8552],"mapped",[105,120]],[[8553,8553],"mapped",[120]],[[8554,8554],"mapped",[120,105]],[[8555,8555],"mapped",[120,105,105]],[[8556,8556],"mapped",[108]],[[8557,8557],"mapped",[99]],[[8558,8558],"mapped",[100]],[[8559,8559],"mapped",[109]],[[8560,8560],"mapped",[105]],[[8561,8561],"mapped",[105,105]],[[8562,8562],"mapped",[105,105,105]],[[8563,8563],"mapped",[105,118]],[[8564,8564],"mapped",[118]],[[8565,8565],"mapped",[118,105]],[[8566,8566],"mapped",[118,105,105]],[[8567,8567],"mapped",[118,105,105,105]],[[8568,8568],"mapped",[105,120]],[[8569,8569],"mapped",[120]],[[8570,8570],"mapped",[120,105]],[[8571,8571],"mapped",[120,105,105]],[[8572,8572],"mapped",[108]],[[8573,8573],"mapped",[99]],[[8574,8574],"mapped",[100]],[[8575,8575],"mapped",[109]],[[8576,8578],"valid",[],"NV8"],[[8579,8579],"disallowed"],[[8580,8580],"valid"],[[8581,8584],"valid",[],"NV8"],[[8585,8585],"mapped",[48,8260,51]],[[8586,8587],"valid",[],"NV8"],[[8588,8591],"disallowed"],[[8592,8682],"valid",[],"NV8"],[[8683,8691],"valid",[],"NV8"],[[8692,8703],"valid",[],"NV8"],[[8704,8747],"valid",[],"NV8"],[[8748,8748],"mapped",[8747,8747]],[[8749,8749],"mapped",[8747,8747,8747]],[[8750,8750],"valid",[],"NV8"],[[8751,8751],"mapped",[8750,8750]],[[8752,8752],"mapped",[8750,8750,8750]],[[8753,8799],"valid",[],"NV8"],[[8800,8800],"disallowed_STD3_valid"],[[8801,8813],"valid",[],"NV8"],[[8814,8815],"disallowed_STD3_valid"],[[8816,8945],"valid",[],"NV8"],[[8946,8959],"valid",[],"NV8"],[[8960,8960],"valid",[],"NV8"],[[8961,8961],"valid",[],"NV8"],[[8962,9e3],"valid",[],"NV8"],[[9001,9001],"mapped",[12296]],[[9002,9002],"mapped",[12297]],[[9003,9082],"valid",[],"NV8"],[[9083,9083],"valid",[],"NV8"],[[9084,9084],"valid",[],"NV8"],[[9085,9114],"valid",[],"NV8"],[[9115,9166],"valid",[],"NV8"],[[9167,9168],"valid",[],"NV8"],[[9169,9179],"valid",[],"NV8"],[[9180,9191],"valid",[],"NV8"],[[9192,9192],"valid",[],"NV8"],[[9193,9203],"valid",[],"NV8"],[[9204,9210],"valid",[],"NV8"],[[9211,9215],"disallowed"],[[9216,9252],"valid",[],"NV8"],[[9253,9254],"valid",[],"NV8"],[[9255,9279],"disallowed"],[[9280,9290],"valid",[],"NV8"],[[9291,9311],"disallowed"],[[9312,9312],"mapped",[49]],[[9313,9313],"mapped",[50]],[[9314,9314],"mapped",[51]],[[9315,9315],"mapped",[52]],[[9316,9316],"mapped",[53]],[[9317,9317],"mapped",[54]],[[9318,9318],"mapped",[55]],[[9319,9319],"mapped",[56]],[[9320,9320],"mapped",[57]],[[9321,9321],"mapped",[49,48]],[[9322,9322],"mapped",[49,49]],[[9323,9323],"mapped",[49,50]],[[9324,9324],"mapped",[49,51]],[[9325,9325],"mapped",[49,52]],[[9326,9326],"mapped",[49,53]],[[9327,9327],"mapped",[49,54]],[[9328,9328],"mapped",[49,55]],[[9329,9329],"mapped",[49,56]],[[9330,9330],"mapped",[49,57]],[[9331,9331],"mapped",[50,48]],[[9332,9332],"disallowed_STD3_mapped",[40,49,41]],[[9333,9333],"disallowed_STD3_mapped",[40,50,41]],[[9334,9334],"disallowed_STD3_mapped",[40,51,41]],[[9335,9335],"disallowed_STD3_mapped",[40,52,41]],[[9336,9336],"disallowed_STD3_mapped",[40,53,41]],[[9337,9337],"disallowed_STD3_mapped",[40,54,41]],[[9338,9338],"disallowed_STD3_mapped",[40,55,41]],[[9339,9339],"disallowed_STD3_mapped",[40,56,41]],[[9340,9340],"disallowed_STD3_mapped",[40,57,41]],[[9341,9341],"disallowed_STD3_mapped",[40,49,48,41]],[[9342,9342],"disallowed_STD3_mapped",[40,49,49,41]],[[9343,9343],"disallowed_STD3_mapped",[40,49,50,41]],[[9344,9344],"disallowed_STD3_mapped",[40,49,51,41]],[[9345,9345],"disallowed_STD3_mapped",[40,49,52,41]],[[9346,9346],"disallowed_STD3_mapped",[40,49,53,41]],[[9347,9347],"disallowed_STD3_mapped",[40,49,54,41]],[[9348,9348],"disallowed_STD3_mapped",[40,49,55,41]],[[9349,9349],"disallowed_STD3_mapped",[40,49,56,41]],[[9350,9350],"disallowed_STD3_mapped",[40,49,57,41]],[[9351,9351],"disallowed_STD3_mapped",[40,50,48,41]],[[9352,9371],"disallowed"],[[9372,9372],"disallowed_STD3_mapped",[40,97,41]],[[9373,9373],"disallowed_STD3_mapped",[40,98,41]],[[9374,9374],"disallowed_STD3_mapped",[40,99,41]],[[9375,9375],"disallowed_STD3_mapped",[40,100,41]],[[9376,9376],"disallowed_STD3_mapped",[40,101,41]],[[9377,9377],"disallowed_STD3_mapped",[40,102,41]],[[9378,9378],"disallowed_STD3_mapped",[40,103,41]],[[9379,9379],"disallowed_STD3_mapped",[40,104,41]],[[9380,9380],"disallowed_STD3_mapped",[40,105,41]],[[9381,9381],"disallowed_STD3_mapped",[40,106,41]],[[9382,9382],"disallowed_STD3_mapped",[40,107,41]],[[9383,9383],"disallowed_STD3_mapped",[40,108,41]],[[9384,9384],"disallowed_STD3_mapped",[40,109,41]],[[9385,9385],"disallowed_STD3_mapped",[40,110,41]],[[9386,9386],"disallowed_STD3_mapped",[40,111,41]],[[9387,9387],"disallowed_STD3_mapped",[40,112,41]],[[9388,9388],"disallowed_STD3_mapped",[40,113,41]],[[9389,9389],"disallowed_STD3_mapped",[40,114,41]],[[9390,9390],"disallowed_STD3_mapped",[40,115,41]],[[9391,9391],"disallowed_STD3_mapped",[40,116,41]],[[9392,9392],"disallowed_STD3_mapped",[40,117,41]],[[9393,9393],"disallowed_STD3_mapped",[40,118,41]],[[9394,9394],"disallowed_STD3_mapped",[40,119,41]],[[9395,9395],"disallowed_STD3_mapped",[40,120,41]],[[9396,9396],"disallowed_STD3_mapped",[40,121,41]],[[9397,9397],"disallowed_STD3_mapped",[40,122,41]],[[9398,9398],"mapped",[97]],[[9399,9399],"mapped",[98]],[[9400,9400],"mapped",[99]],[[9401,9401],"mapped",[100]],[[9402,9402],"mapped",[101]],[[9403,9403],"mapped",[102]],[[9404,9404],"mapped",[103]],[[9405,9405],"mapped",[104]],[[9406,9406],"mapped",[105]],[[9407,9407],"mapped",[106]],[[9408,9408],"mapped",[107]],[[9409,9409],"mapped",[108]],[[9410,9410],"mapped",[109]],[[9411,9411],"mapped",[110]],[[9412,9412],"mapped",[111]],[[9413,9413],"mapped",[112]],[[9414,9414],"mapped",[113]],[[9415,9415],"mapped",[114]],[[9416,9416],"mapped",[115]],[[9417,9417],"mapped",[116]],[[9418,9418],"mapped",[117]],[[9419,9419],"mapped",[118]],[[9420,9420],"mapped",[119]],[[9421,9421],"mapped",[120]],[[9422,9422],"mapped",[121]],[[9423,9423],"mapped",[122]],[[9424,9424],"mapped",[97]],[[9425,9425],"mapped",[98]],[[9426,9426],"mapped",[99]],[[9427,9427],"mapped",[100]],[[9428,9428],"mapped",[101]],[[9429,9429],"mapped",[102]],[[9430,9430],"mapped",[103]],[[9431,9431],"mapped",[104]],[[9432,9432],"mapped",[105]],[[9433,9433],"mapped",[106]],[[9434,9434],"mapped",[107]],[[9435,9435],"mapped",[108]],[[9436,9436],"mapped",[109]],[[9437,9437],"mapped",[110]],[[9438,9438],"mapped",[111]],[[9439,9439],"mapped",[112]],[[9440,9440],"mapped",[113]],[[9441,9441],"mapped",[114]],[[9442,9442],"mapped",[115]],[[9443,9443],"mapped",[116]],[[9444,9444],"mapped",[117]],[[9445,9445],"mapped",[118]],[[9446,9446],"mapped",[119]],[[9447,9447],"mapped",[120]],[[9448,9448],"mapped",[121]],[[9449,9449],"mapped",[122]],[[9450,9450],"mapped",[48]],[[9451,9470],"valid",[],"NV8"],[[9471,9471],"valid",[],"NV8"],[[9472,9621],"valid",[],"NV8"],[[9622,9631],"valid",[],"NV8"],[[9632,9711],"valid",[],"NV8"],[[9712,9719],"valid",[],"NV8"],[[9720,9727],"valid",[],"NV8"],[[9728,9747],"valid",[],"NV8"],[[9748,9749],"valid",[],"NV8"],[[9750,9751],"valid",[],"NV8"],[[9752,9752],"valid",[],"NV8"],[[9753,9753],"valid",[],"NV8"],[[9754,9839],"valid",[],"NV8"],[[9840,9841],"valid",[],"NV8"],[[9842,9853],"valid",[],"NV8"],[[9854,9855],"valid",[],"NV8"],[[9856,9865],"valid",[],"NV8"],[[9866,9873],"valid",[],"NV8"],[[9874,9884],"valid",[],"NV8"],[[9885,9885],"valid",[],"NV8"],[[9886,9887],"valid",[],"NV8"],[[9888,9889],"valid",[],"NV8"],[[9890,9905],"valid",[],"NV8"],[[9906,9906],"valid",[],"NV8"],[[9907,9916],"valid",[],"NV8"],[[9917,9919],"valid",[],"NV8"],[[9920,9923],"valid",[],"NV8"],[[9924,9933],"valid",[],"NV8"],[[9934,9934],"valid",[],"NV8"],[[9935,9953],"valid",[],"NV8"],[[9954,9954],"valid",[],"NV8"],[[9955,9955],"valid",[],"NV8"],[[9956,9959],"valid",[],"NV8"],[[9960,9983],"valid",[],"NV8"],[[9984,9984],"valid",[],"NV8"],[[9985,9988],"valid",[],"NV8"],[[9989,9989],"valid",[],"NV8"],[[9990,9993],"valid",[],"NV8"],[[9994,9995],"valid",[],"NV8"],[[9996,10023],"valid",[],"NV8"],[[10024,10024],"valid",[],"NV8"],[[10025,10059],"valid",[],"NV8"],[[10060,10060],"valid",[],"NV8"],[[10061,10061],"valid",[],"NV8"],[[10062,10062],"valid",[],"NV8"],[[10063,10066],"valid",[],"NV8"],[[10067,10069],"valid",[],"NV8"],[[10070,10070],"valid",[],"NV8"],[[10071,10071],"valid",[],"NV8"],[[10072,10078],"valid",[],"NV8"],[[10079,10080],"valid",[],"NV8"],[[10081,10087],"valid",[],"NV8"],[[10088,10101],"valid",[],"NV8"],[[10102,10132],"valid",[],"NV8"],[[10133,10135],"valid",[],"NV8"],[[10136,10159],"valid",[],"NV8"],[[10160,10160],"valid",[],"NV8"],[[10161,10174],"valid",[],"NV8"],[[10175,10175],"valid",[],"NV8"],[[10176,10182],"valid",[],"NV8"],[[10183,10186],"valid",[],"NV8"],[[10187,10187],"valid",[],"NV8"],[[10188,10188],"valid",[],"NV8"],[[10189,10189],"valid",[],"NV8"],[[10190,10191],"valid",[],"NV8"],[[10192,10219],"valid",[],"NV8"],[[10220,10223],"valid",[],"NV8"],[[10224,10239],"valid",[],"NV8"],[[10240,10495],"valid",[],"NV8"],[[10496,10763],"valid",[],"NV8"],[[10764,10764],"mapped",[8747,8747,8747,8747]],[[10765,10867],"valid",[],"NV8"],[[10868,10868],"disallowed_STD3_mapped",[58,58,61]],[[10869,10869],"disallowed_STD3_mapped",[61,61]],[[10870,10870],"disallowed_STD3_mapped",[61,61,61]],[[10871,10971],"valid",[],"NV8"],[[10972,10972],"mapped",[10973,824]],[[10973,11007],"valid",[],"NV8"],[[11008,11021],"valid",[],"NV8"],[[11022,11027],"valid",[],"NV8"],[[11028,11034],"valid",[],"NV8"],[[11035,11039],"valid",[],"NV8"],[[11040,11043],"valid",[],"NV8"],[[11044,11084],"valid",[],"NV8"],[[11085,11087],"valid",[],"NV8"],[[11088,11092],"valid",[],"NV8"],[[11093,11097],"valid",[],"NV8"],[[11098,11123],"valid",[],"NV8"],[[11124,11125],"disallowed"],[[11126,11157],"valid",[],"NV8"],[[11158,11159],"disallowed"],[[11160,11193],"valid",[],"NV8"],[[11194,11196],"disallowed"],[[11197,11208],"valid",[],"NV8"],[[11209,11209],"disallowed"],[[11210,11217],"valid",[],"NV8"],[[11218,11243],"disallowed"],[[11244,11247],"valid",[],"NV8"],[[11248,11263],"disallowed"],[[11264,11264],"mapped",[11312]],[[11265,11265],"mapped",[11313]],[[11266,11266],"mapped",[11314]],[[11267,11267],"mapped",[11315]],[[11268,11268],"mapped",[11316]],[[11269,11269],"mapped",[11317]],[[11270,11270],"mapped",[11318]],[[11271,11271],"mapped",[11319]],[[11272,11272],"mapped",[11320]],[[11273,11273],"mapped",[11321]],[[11274,11274],"mapped",[11322]],[[11275,11275],"mapped",[11323]],[[11276,11276],"mapped",[11324]],[[11277,11277],"mapped",[11325]],[[11278,11278],"mapped",[11326]],[[11279,11279],"mapped",[11327]],[[11280,11280],"mapped",[11328]],[[11281,11281],"mapped",[11329]],[[11282,11282],"mapped",[11330]],[[11283,11283],"mapped",[11331]],[[11284,11284],"mapped",[11332]],[[11285,11285],"mapped",[11333]],[[11286,11286],"mapped",[11334]],[[11287,11287],"mapped",[11335]],[[11288,11288],"mapped",[11336]],[[11289,11289],"mapped",[11337]],[[11290,11290],"mapped",[11338]],[[11291,11291],"mapped",[11339]],[[11292,11292],"mapped",[11340]],[[11293,11293],"mapped",[11341]],[[11294,11294],"mapped",[11342]],[[11295,11295],"mapped",[11343]],[[11296,11296],"mapped",[11344]],[[11297,11297],"mapped",[11345]],[[11298,11298],"mapped",[11346]],[[11299,11299],"mapped",[11347]],[[11300,11300],"mapped",[11348]],[[11301,11301],"mapped",[11349]],[[11302,11302],"mapped",[11350]],[[11303,11303],"mapped",[11351]],[[11304,11304],"mapped",[11352]],[[11305,11305],"mapped",[11353]],[[11306,11306],"mapped",[11354]],[[11307,11307],"mapped",[11355]],[[11308,11308],"mapped",[11356]],[[11309,11309],"mapped",[11357]],[[11310,11310],"mapped",[11358]],[[11311,11311],"disallowed"],[[11312,11358],"valid"],[[11359,11359],"disallowed"],[[11360,11360],"mapped",[11361]],[[11361,11361],"valid"],[[11362,11362],"mapped",[619]],[[11363,11363],"mapped",[7549]],[[11364,11364],"mapped",[637]],[[11365,11366],"valid"],[[11367,11367],"mapped",[11368]],[[11368,11368],"valid"],[[11369,11369],"mapped",[11370]],[[11370,11370],"valid"],[[11371,11371],"mapped",[11372]],[[11372,11372],"valid"],[[11373,11373],"mapped",[593]],[[11374,11374],"mapped",[625]],[[11375,11375],"mapped",[592]],[[11376,11376],"mapped",[594]],[[11377,11377],"valid"],[[11378,11378],"mapped",[11379]],[[11379,11379],"valid"],[[11380,11380],"valid"],[[11381,11381],"mapped",[11382]],[[11382,11383],"valid"],[[11384,11387],"valid"],[[11388,11388],"mapped",[106]],[[11389,11389],"mapped",[118]],[[11390,11390],"mapped",[575]],[[11391,11391],"mapped",[576]],[[11392,11392],"mapped",[11393]],[[11393,11393],"valid"],[[11394,11394],"mapped",[11395]],[[11395,11395],"valid"],[[11396,11396],"mapped",[11397]],[[11397,11397],"valid"],[[11398,11398],"mapped",[11399]],[[11399,11399],"valid"],[[11400,11400],"mapped",[11401]],[[11401,11401],"valid"],[[11402,11402],"mapped",[11403]],[[11403,11403],"valid"],[[11404,11404],"mapped",[11405]],[[11405,11405],"valid"],[[11406,11406],"mapped",[11407]],[[11407,11407],"valid"],[[11408,11408],"mapped",[11409]],[[11409,11409],"valid"],[[11410,11410],"mapped",[11411]],[[11411,11411],"valid"],[[11412,11412],"mapped",[11413]],[[11413,11413],"valid"],[[11414,11414],"mapped",[11415]],[[11415,11415],"valid"],[[11416,11416],"mapped",[11417]],[[11417,11417],"valid"],[[11418,11418],"mapped",[11419]],[[11419,11419],"valid"],[[11420,11420],"mapped",[11421]],[[11421,11421],"valid"],[[11422,11422],"mapped",[11423]],[[11423,11423],"valid"],[[11424,11424],"mapped",[11425]],[[11425,11425],"valid"],[[11426,11426],"mapped",[11427]],[[11427,11427],"valid"],[[11428,11428],"mapped",[11429]],[[11429,11429],"valid"],[[11430,11430],"mapped",[11431]],[[11431,11431],"valid"],[[11432,11432],"mapped",[11433]],[[11433,11433],"valid"],[[11434,11434],"mapped",[11435]],[[11435,11435],"valid"],[[11436,11436],"mapped",[11437]],[[11437,11437],"valid"],[[11438,11438],"mapped",[11439]],[[11439,11439],"valid"],[[11440,11440],"mapped",[11441]],[[11441,11441],"valid"],[[11442,11442],"mapped",[11443]],[[11443,11443],"valid"],[[11444,11444],"mapped",[11445]],[[11445,11445],"valid"],[[11446,11446],"mapped",[11447]],[[11447,11447],"valid"],[[11448,11448],"mapped",[11449]],[[11449,11449],"valid"],[[11450,11450],"mapped",[11451]],[[11451,11451],"valid"],[[11452,11452],"mapped",[11453]],[[11453,11453],"valid"],[[11454,11454],"mapped",[11455]],[[11455,11455],"valid"],[[11456,11456],"mapped",[11457]],[[11457,11457],"valid"],[[11458,11458],"mapped",[11459]],[[11459,11459],"valid"],[[11460,11460],"mapped",[11461]],[[11461,11461],"valid"],[[11462,11462],"mapped",[11463]],[[11463,11463],"valid"],[[11464,11464],"mapped",[11465]],[[11465,11465],"valid"],[[11466,11466],"mapped",[11467]],[[11467,11467],"valid"],[[11468,11468],"mapped",[11469]],[[11469,11469],"valid"],[[11470,11470],"mapped",[11471]],[[11471,11471],"valid"],[[11472,11472],"mapped",[11473]],[[11473,11473],"valid"],[[11474,11474],"mapped",[11475]],[[11475,11475],"valid"],[[11476,11476],"mapped",[11477]],[[11477,11477],"valid"],[[11478,11478],"mapped",[11479]],[[11479,11479],"valid"],[[11480,11480],"mapped",[11481]],[[11481,11481],"valid"],[[11482,11482],"mapped",[11483]],[[11483,11483],"valid"],[[11484,11484],"mapped",[11485]],[[11485,11485],"valid"],[[11486,11486],"mapped",[11487]],[[11487,11487],"valid"],[[11488,11488],"mapped",[11489]],[[11489,11489],"valid"],[[11490,11490],"mapped",[11491]],[[11491,11492],"valid"],[[11493,11498],"valid",[],"NV8"],[[11499,11499],"mapped",[11500]],[[11500,11500],"valid"],[[11501,11501],"mapped",[11502]],[[11502,11505],"valid"],[[11506,11506],"mapped",[11507]],[[11507,11507],"valid"],[[11508,11512],"disallowed"],[[11513,11519],"valid",[],"NV8"],[[11520,11557],"valid"],[[11558,11558],"disallowed"],[[11559,11559],"valid"],[[11560,11564],"disallowed"],[[11565,11565],"valid"],[[11566,11567],"disallowed"],[[11568,11621],"valid"],[[11622,11623],"valid"],[[11624,11630],"disallowed"],[[11631,11631],"mapped",[11617]],[[11632,11632],"valid",[],"NV8"],[[11633,11646],"disallowed"],[[11647,11647],"valid"],[[11648,11670],"valid"],[[11671,11679],"disallowed"],[[11680,11686],"valid"],[[11687,11687],"disallowed"],[[11688,11694],"valid"],[[11695,11695],"disallowed"],[[11696,11702],"valid"],[[11703,11703],"disallowed"],[[11704,11710],"valid"],[[11711,11711],"disallowed"],[[11712,11718],"valid"],[[11719,11719],"disallowed"],[[11720,11726],"valid"],[[11727,11727],"disallowed"],[[11728,11734],"valid"],[[11735,11735],"disallowed"],[[11736,11742],"valid"],[[11743,11743],"disallowed"],[[11744,11775],"valid"],[[11776,11799],"valid",[],"NV8"],[[11800,11803],"valid",[],"NV8"],[[11804,11805],"valid",[],"NV8"],[[11806,11822],"valid",[],"NV8"],[[11823,11823],"valid"],[[11824,11824],"valid",[],"NV8"],[[11825,11825],"valid",[],"NV8"],[[11826,11835],"valid",[],"NV8"],[[11836,11842],"valid",[],"NV8"],[[11843,11903],"disallowed"],[[11904,11929],"valid",[],"NV8"],[[11930,11930],"disallowed"],[[11931,11934],"valid",[],"NV8"],[[11935,11935],"mapped",[27597]],[[11936,12018],"valid",[],"NV8"],[[12019,12019],"mapped",[40863]],[[12020,12031],"disallowed"],[[12032,12032],"mapped",[19968]],[[12033,12033],"mapped",[20008]],[[12034,12034],"mapped",[20022]],[[12035,12035],"mapped",[20031]],[[12036,12036],"mapped",[20057]],[[12037,12037],"mapped",[20101]],[[12038,12038],"mapped",[20108]],[[12039,12039],"mapped",[20128]],[[12040,12040],"mapped",[20154]],[[12041,12041],"mapped",[20799]],[[12042,12042],"mapped",[20837]],[[12043,12043],"mapped",[20843]],[[12044,12044],"mapped",[20866]],[[12045,12045],"mapped",[20886]],[[12046,12046],"mapped",[20907]],[[12047,12047],"mapped",[20960]],[[12048,12048],"mapped",[20981]],[[12049,12049],"mapped",[20992]],[[12050,12050],"mapped",[21147]],[[12051,12051],"mapped",[21241]],[[12052,12052],"mapped",[21269]],[[12053,12053],"mapped",[21274]],[[12054,12054],"mapped",[21304]],[[12055,12055],"mapped",[21313]],[[12056,12056],"mapped",[21340]],[[12057,12057],"mapped",[21353]],[[12058,12058],"mapped",[21378]],[[12059,12059],"mapped",[21430]],[[12060,12060],"mapped",[21448]],[[12061,12061],"mapped",[21475]],[[12062,12062],"mapped",[22231]],[[12063,12063],"mapped",[22303]],[[12064,12064],"mapped",[22763]],[[12065,12065],"mapped",[22786]],[[12066,12066],"mapped",[22794]],[[12067,12067],"mapped",[22805]],[[12068,12068],"mapped",[22823]],[[12069,12069],"mapped",[22899]],[[12070,12070],"mapped",[23376]],[[12071,12071],"mapped",[23424]],[[12072,12072],"mapped",[23544]],[[12073,12073],"mapped",[23567]],[[12074,12074],"mapped",[23586]],[[12075,12075],"mapped",[23608]],[[12076,12076],"mapped",[23662]],[[12077,12077],"mapped",[23665]],[[12078,12078],"mapped",[24027]],[[12079,12079],"mapped",[24037]],[[12080,12080],"mapped",[24049]],[[12081,12081],"mapped",[24062]],[[12082,12082],"mapped",[24178]],[[12083,12083],"mapped",[24186]],[[12084,12084],"mapped",[24191]],[[12085,12085],"mapped",[24308]],[[12086,12086],"mapped",[24318]],[[12087,12087],"mapped",[24331]],[[12088,12088],"mapped",[24339]],[[12089,12089],"mapped",[24400]],[[12090,12090],"mapped",[24417]],[[12091,12091],"mapped",[24435]],[[12092,12092],"mapped",[24515]],[[12093,12093],"mapped",[25096]],[[12094,12094],"mapped",[25142]],[[12095,12095],"mapped",[25163]],[[12096,12096],"mapped",[25903]],[[12097,12097],"mapped",[25908]],[[12098,12098],"mapped",[25991]],[[12099,12099],"mapped",[26007]],[[12100,12100],"mapped",[26020]],[[12101,12101],"mapped",[26041]],[[12102,12102],"mapped",[26080]],[[12103,12103],"mapped",[26085]],[[12104,12104],"mapped",[26352]],[[12105,12105],"mapped",[26376]],[[12106,12106],"mapped",[26408]],[[12107,12107],"mapped",[27424]],[[12108,12108],"mapped",[27490]],[[12109,12109],"mapped",[27513]],[[12110,12110],"mapped",[27571]],[[12111,12111],"mapped",[27595]],[[12112,12112],"mapped",[27604]],[[12113,12113],"mapped",[27611]],[[12114,12114],"mapped",[27663]],[[12115,12115],"mapped",[27668]],[[12116,12116],"mapped",[27700]],[[12117,12117],"mapped",[28779]],[[12118,12118],"mapped",[29226]],[[12119,12119],"mapped",[29238]],[[12120,12120],"mapped",[29243]],[[12121,12121],"mapped",[29247]],[[12122,12122],"mapped",[29255]],[[12123,12123],"mapped",[29273]],[[12124,12124],"mapped",[29275]],[[12125,12125],"mapped",[29356]],[[12126,12126],"mapped",[29572]],[[12127,12127],"mapped",[29577]],[[12128,12128],"mapped",[29916]],[[12129,12129],"mapped",[29926]],[[12130,12130],"mapped",[29976]],[[12131,12131],"mapped",[29983]],[[12132,12132],"mapped",[29992]],[[12133,12133],"mapped",[3e4]],[[12134,12134],"mapped",[30091]],[[12135,12135],"mapped",[30098]],[[12136,12136],"mapped",[30326]],[[12137,12137],"mapped",[30333]],[[12138,12138],"mapped",[30382]],[[12139,12139],"mapped",[30399]],[[12140,12140],"mapped",[30446]],[[12141,12141],"mapped",[30683]],[[12142,12142],"mapped",[30690]],[[12143,12143],"mapped",[30707]],[[12144,12144],"mapped",[31034]],[[12145,12145],"mapped",[31160]],[[12146,12146],"mapped",[31166]],[[12147,12147],"mapped",[31348]],[[12148,12148],"mapped",[31435]],[[12149,12149],"mapped",[31481]],[[12150,12150],"mapped",[31859]],[[12151,12151],"mapped",[31992]],[[12152,12152],"mapped",[32566]],[[12153,12153],"mapped",[32593]],[[12154,12154],"mapped",[32650]],[[12155,12155],"mapped",[32701]],[[12156,12156],"mapped",[32769]],[[12157,12157],"mapped",[32780]],[[12158,12158],"mapped",[32786]],[[12159,12159],"mapped",[32819]],[[12160,12160],"mapped",[32895]],[[12161,12161],"mapped",[32905]],[[12162,12162],"mapped",[33251]],[[12163,12163],"mapped",[33258]],[[12164,12164],"mapped",[33267]],[[12165,12165],"mapped",[33276]],[[12166,12166],"mapped",[33292]],[[12167,12167],"mapped",[33307]],[[12168,12168],"mapped",[33311]],[[12169,12169],"mapped",[33390]],[[12170,12170],"mapped",[33394]],[[12171,12171],"mapped",[33400]],[[12172,12172],"mapped",[34381]],[[12173,12173],"mapped",[34411]],[[12174,12174],"mapped",[34880]],[[12175,12175],"mapped",[34892]],[[12176,12176],"mapped",[34915]],[[12177,12177],"mapped",[35198]],[[12178,12178],"mapped",[35211]],[[12179,12179],"mapped",[35282]],[[12180,12180],"mapped",[35328]],[[12181,12181],"mapped",[35895]],[[12182,12182],"mapped",[35910]],[[12183,12183],"mapped",[35925]],[[12184,12184],"mapped",[35960]],[[12185,12185],"mapped",[35997]],[[12186,12186],"mapped",[36196]],[[12187,12187],"mapped",[36208]],[[12188,12188],"mapped",[36275]],[[12189,12189],"mapped",[36523]],[[12190,12190],"mapped",[36554]],[[12191,12191],"mapped",[36763]],[[12192,12192],"mapped",[36784]],[[12193,12193],"mapped",[36789]],[[12194,12194],"mapped",[37009]],[[12195,12195],"mapped",[37193]],[[12196,12196],"mapped",[37318]],[[12197,12197],"mapped",[37324]],[[12198,12198],"mapped",[37329]],[[12199,12199],"mapped",[38263]],[[12200,12200],"mapped",[38272]],[[12201,12201],"mapped",[38428]],[[12202,12202],"mapped",[38582]],[[12203,12203],"mapped",[38585]],[[12204,12204],"mapped",[38632]],[[12205,12205],"mapped",[38737]],[[12206,12206],"mapped",[38750]],[[12207,12207],"mapped",[38754]],[[12208,12208],"mapped",[38761]],[[12209,12209],"mapped",[38859]],[[12210,12210],"mapped",[38893]],[[12211,12211],"mapped",[38899]],[[12212,12212],"mapped",[38913]],[[12213,12213],"mapped",[39080]],[[12214,12214],"mapped",[39131]],[[12215,12215],"mapped",[39135]],[[12216,12216],"mapped",[39318]],[[12217,12217],"mapped",[39321]],[[12218,12218],"mapped",[39340]],[[12219,12219],"mapped",[39592]],[[12220,12220],"mapped",[39640]],[[12221,12221],"mapped",[39647]],[[12222,12222],"mapped",[39717]],[[12223,12223],"mapped",[39727]],[[12224,12224],"mapped",[39730]],[[12225,12225],"mapped",[39740]],[[12226,12226],"mapped",[39770]],[[12227,12227],"mapped",[40165]],[[12228,12228],"mapped",[40565]],[[12229,12229],"mapped",[40575]],[[12230,12230],"mapped",[40613]],[[12231,12231],"mapped",[40635]],[[12232,12232],"mapped",[40643]],[[12233,12233],"mapped",[40653]],[[12234,12234],"mapped",[40657]],[[12235,12235],"mapped",[40697]],[[12236,12236],"mapped",[40701]],[[12237,12237],"mapped",[40718]],[[12238,12238],"mapped",[40723]],[[12239,12239],"mapped",[40736]],[[12240,12240],"mapped",[40763]],[[12241,12241],"mapped",[40778]],[[12242,12242],"mapped",[40786]],[[12243,12243],"mapped",[40845]],[[12244,12244],"mapped",[40860]],[[12245,12245],"mapped",[40864]],[[12246,12271],"disallowed"],[[12272,12283],"disallowed"],[[12284,12287],"disallowed"],[[12288,12288],"disallowed_STD3_mapped",[32]],[[12289,12289],"valid",[],"NV8"],[[12290,12290],"mapped",[46]],[[12291,12292],"valid",[],"NV8"],[[12293,12295],"valid"],[[12296,12329],"valid",[],"NV8"],[[12330,12333],"valid"],[[12334,12341],"valid",[],"NV8"],[[12342,12342],"mapped",[12306]],[[12343,12343],"valid",[],"NV8"],[[12344,12344],"mapped",[21313]],[[12345,12345],"mapped",[21316]],[[12346,12346],"mapped",[21317]],[[12347,12347],"valid",[],"NV8"],[[12348,12348],"valid"],[[12349,12349],"valid",[],"NV8"],[[12350,12350],"valid",[],"NV8"],[[12351,12351],"valid",[],"NV8"],[[12352,12352],"disallowed"],[[12353,12436],"valid"],[[12437,12438],"valid"],[[12439,12440],"disallowed"],[[12441,12442],"valid"],[[12443,12443],"disallowed_STD3_mapped",[32,12441]],[[12444,12444],"disallowed_STD3_mapped",[32,12442]],[[12445,12446],"valid"],[[12447,12447],"mapped",[12424,12426]],[[12448,12448],"valid",[],"NV8"],[[12449,12542],"valid"],[[12543,12543],"mapped",[12467,12488]],[[12544,12548],"disallowed"],[[12549,12588],"valid"],[[12589,12589],"valid"],[[12590,12592],"disallowed"],[[12593,12593],"mapped",[4352]],[[12594,12594],"mapped",[4353]],[[12595,12595],"mapped",[4522]],[[12596,12596],"mapped",[4354]],[[12597,12597],"mapped",[4524]],[[12598,12598],"mapped",[4525]],[[12599,12599],"mapped",[4355]],[[12600,12600],"mapped",[4356]],[[12601,12601],"mapped",[4357]],[[12602,12602],"mapped",[4528]],[[12603,12603],"mapped",[4529]],[[12604,12604],"mapped",[4530]],[[12605,12605],"mapped",[4531]],[[12606,12606],"mapped",[4532]],[[12607,12607],"mapped",[4533]],[[12608,12608],"mapped",[4378]],[[12609,12609],"mapped",[4358]],[[12610,12610],"mapped",[4359]],[[12611,12611],"mapped",[4360]],[[12612,12612],"mapped",[4385]],[[12613,12613],"mapped",[4361]],[[12614,12614],"mapped",[4362]],[[12615,12615],"mapped",[4363]],[[12616,12616],"mapped",[4364]],[[12617,12617],"mapped",[4365]],[[12618,12618],"mapped",[4366]],[[12619,12619],"mapped",[4367]],[[12620,12620],"mapped",[4368]],[[12621,12621],"mapped",[4369]],[[12622,12622],"mapped",[4370]],[[12623,12623],"mapped",[4449]],[[12624,12624],"mapped",[4450]],[[12625,12625],"mapped",[4451]],[[12626,12626],"mapped",[4452]],[[12627,12627],"mapped",[4453]],[[12628,12628],"mapped",[4454]],[[12629,12629],"mapped",[4455]],[[12630,12630],"mapped",[4456]],[[12631,12631],"mapped",[4457]],[[12632,12632],"mapped",[4458]],[[12633,12633],"mapped",[4459]],[[12634,12634],"mapped",[4460]],[[12635,12635],"mapped",[4461]],[[12636,12636],"mapped",[4462]],[[12637,12637],"mapped",[4463]],[[12638,12638],"mapped",[4464]],[[12639,12639],"mapped",[4465]],[[12640,12640],"mapped",[4466]],[[12641,12641],"mapped",[4467]],[[12642,12642],"mapped",[4468]],[[12643,12643],"mapped",[4469]],[[12644,12644],"disallowed"],[[12645,12645],"mapped",[4372]],[[12646,12646],"mapped",[4373]],[[12647,12647],"mapped",[4551]],[[12648,12648],"mapped",[4552]],[[12649,12649],"mapped",[4556]],[[12650,12650],"mapped",[4558]],[[12651,12651],"mapped",[4563]],[[12652,12652],"mapped",[4567]],[[12653,12653],"mapped",[4569]],[[12654,12654],"mapped",[4380]],[[12655,12655],"mapped",[4573]],[[12656,12656],"mapped",[4575]],[[12657,12657],"mapped",[4381]],[[12658,12658],"mapped",[4382]],[[12659,12659],"mapped",[4384]],[[12660,12660],"mapped",[4386]],[[12661,12661],"mapped",[4387]],[[12662,12662],"mapped",[4391]],[[12663,12663],"mapped",[4393]],[[12664,12664],"mapped",[4395]],[[12665,12665],"mapped",[4396]],[[12666,12666],"mapped",[4397]],[[12667,12667],"mapped",[4398]],[[12668,12668],"mapped",[4399]],[[12669,12669],"mapped",[4402]],[[12670,12670],"mapped",[4406]],[[12671,12671],"mapped",[4416]],[[12672,12672],"mapped",[4423]],[[12673,12673],"mapped",[4428]],[[12674,12674],"mapped",[4593]],[[12675,12675],"mapped",[4594]],[[12676,12676],"mapped",[4439]],[[12677,12677],"mapped",[4440]],[[12678,12678],"mapped",[4441]],[[12679,12679],"mapped",[4484]],[[12680,12680],"mapped",[4485]],[[12681,12681],"mapped",[4488]],[[12682,12682],"mapped",[4497]],[[12683,12683],"mapped",[4498]],[[12684,12684],"mapped",[4500]],[[12685,12685],"mapped",[4510]],[[12686,12686],"mapped",[4513]],[[12687,12687],"disallowed"],[[12688,12689],"valid",[],"NV8"],[[12690,12690],"mapped",[19968]],[[12691,12691],"mapped",[20108]],[[12692,12692],"mapped",[19977]],[[12693,12693],"mapped",[22235]],[[12694,12694],"mapped",[19978]],[[12695,12695],"mapped",[20013]],[[12696,12696],"mapped",[19979]],[[12697,12697],"mapped",[30002]],[[12698,12698],"mapped",[20057]],[[12699,12699],"mapped",[19993]],[[12700,12700],"mapped",[19969]],[[12701,12701],"mapped",[22825]],[[12702,12702],"mapped",[22320]],[[12703,12703],"mapped",[20154]],[[12704,12727],"valid"],[[12728,12730],"valid"],[[12731,12735],"disallowed"],[[12736,12751],"valid",[],"NV8"],[[12752,12771],"valid",[],"NV8"],[[12772,12783],"disallowed"],[[12784,12799],"valid"],[[12800,12800],"disallowed_STD3_mapped",[40,4352,41]],[[12801,12801],"disallowed_STD3_mapped",[40,4354,41]],[[12802,12802],"disallowed_STD3_mapped",[40,4355,41]],[[12803,12803],"disallowed_STD3_mapped",[40,4357,41]],[[12804,12804],"disallowed_STD3_mapped",[40,4358,41]],[[12805,12805],"disallowed_STD3_mapped",[40,4359,41]],[[12806,12806],"disallowed_STD3_mapped",[40,4361,41]],[[12807,12807],"disallowed_STD3_mapped",[40,4363,41]],[[12808,12808],"disallowed_STD3_mapped",[40,4364,41]],[[12809,12809],"disallowed_STD3_mapped",[40,4366,41]],[[12810,12810],"disallowed_STD3_mapped",[40,4367,41]],[[12811,12811],"disallowed_STD3_mapped",[40,4368,41]],[[12812,12812],"disallowed_STD3_mapped",[40,4369,41]],[[12813,12813],"disallowed_STD3_mapped",[40,4370,41]],[[12814,12814],"disallowed_STD3_mapped",[40,44032,41]],[[12815,12815],"disallowed_STD3_mapped",[40,45208,41]],[[12816,12816],"disallowed_STD3_mapped",[40,45796,41]],[[12817,12817],"disallowed_STD3_mapped",[40,46972,41]],[[12818,12818],"disallowed_STD3_mapped",[40,47560,41]],[[12819,12819],"disallowed_STD3_mapped",[40,48148,41]],[[12820,12820],"disallowed_STD3_mapped",[40,49324,41]],[[12821,12821],"disallowed_STD3_mapped",[40,50500,41]],[[12822,12822],"disallowed_STD3_mapped",[40,51088,41]],[[12823,12823],"disallowed_STD3_mapped",[40,52264,41]],[[12824,12824],"disallowed_STD3_mapped",[40,52852,41]],[[12825,12825],"disallowed_STD3_mapped",[40,53440,41]],[[12826,12826],"disallowed_STD3_mapped",[40,54028,41]],[[12827,12827],"disallowed_STD3_mapped",[40,54616,41]],[[12828,12828],"disallowed_STD3_mapped",[40,51452,41]],[[12829,12829],"disallowed_STD3_mapped",[40,50724,51204,41]],[[12830,12830],"disallowed_STD3_mapped",[40,50724,54980,41]],[[12831,12831],"disallowed"],[[12832,12832],"disallowed_STD3_mapped",[40,19968,41]],[[12833,12833],"disallowed_STD3_mapped",[40,20108,41]],[[12834,12834],"disallowed_STD3_mapped",[40,19977,41]],[[12835,12835],"disallowed_STD3_mapped",[40,22235,41]],[[12836,12836],"disallowed_STD3_mapped",[40,20116,41]],[[12837,12837],"disallowed_STD3_mapped",[40,20845,41]],[[12838,12838],"disallowed_STD3_mapped",[40,19971,41]],[[12839,12839],"disallowed_STD3_mapped",[40,20843,41]],[[12840,12840],"disallowed_STD3_mapped",[40,20061,41]],[[12841,12841],"disallowed_STD3_mapped",[40,21313,41]],[[12842,12842],"disallowed_STD3_mapped",[40,26376,41]],[[12843,12843],"disallowed_STD3_mapped",[40,28779,41]],[[12844,12844],"disallowed_STD3_mapped",[40,27700,41]],[[12845,12845],"disallowed_STD3_mapped",[40,26408,41]],[[12846,12846],"disallowed_STD3_mapped",[40,37329,41]],[[12847,12847],"disallowed_STD3_mapped",[40,22303,41]],[[12848,12848],"disallowed_STD3_mapped",[40,26085,41]],[[12849,12849],"disallowed_STD3_mapped",[40,26666,41]],[[12850,12850],"disallowed_STD3_mapped",[40,26377,41]],[[12851,12851],"disallowed_STD3_mapped",[40,31038,41]],[[12852,12852],"disallowed_STD3_mapped",[40,21517,41]],[[12853,12853],"disallowed_STD3_mapped",[40,29305,41]],[[12854,12854],"disallowed_STD3_mapped",[40,36001,41]],[[12855,12855],"disallowed_STD3_mapped",[40,31069,41]],[[12856,12856],"disallowed_STD3_mapped",[40,21172,41]],[[12857,12857],"disallowed_STD3_mapped",[40,20195,41]],[[12858,12858],"disallowed_STD3_mapped",[40,21628,41]],[[12859,12859],"disallowed_STD3_mapped",[40,23398,41]],[[12860,12860],"disallowed_STD3_mapped",[40,30435,41]],[[12861,12861],"disallowed_STD3_mapped",[40,20225,41]],[[12862,12862],"disallowed_STD3_mapped",[40,36039,41]],[[12863,12863],"disallowed_STD3_mapped",[40,21332,41]],[[12864,12864],"disallowed_STD3_mapped",[40,31085,41]],[[12865,12865],"disallowed_STD3_mapped",[40,20241,41]],[[12866,12866],"disallowed_STD3_mapped",[40,33258,41]],[[12867,12867],"disallowed_STD3_mapped",[40,33267,41]],[[12868,12868],"mapped",[21839]],[[12869,12869],"mapped",[24188]],[[12870,12870],"mapped",[25991]],[[12871,12871],"mapped",[31631]],[[12872,12879],"valid",[],"NV8"],[[12880,12880],"mapped",[112,116,101]],[[12881,12881],"mapped",[50,49]],[[12882,12882],"mapped",[50,50]],[[12883,12883],"mapped",[50,51]],[[12884,12884],"mapped",[50,52]],[[12885,12885],"mapped",[50,53]],[[12886,12886],"mapped",[50,54]],[[12887,12887],"mapped",[50,55]],[[12888,12888],"mapped",[50,56]],[[12889,12889],"mapped",[50,57]],[[12890,12890],"mapped",[51,48]],[[12891,12891],"mapped",[51,49]],[[12892,12892],"mapped",[51,50]],[[12893,12893],"mapped",[51,51]],[[12894,12894],"mapped",[51,52]],[[12895,12895],"mapped",[51,53]],[[12896,12896],"mapped",[4352]],[[12897,12897],"mapped",[4354]],[[12898,12898],"mapped",[4355]],[[12899,12899],"mapped",[4357]],[[12900,12900],"mapped",[4358]],[[12901,12901],"mapped",[4359]],[[12902,12902],"mapped",[4361]],[[12903,12903],"mapped",[4363]],[[12904,12904],"mapped",[4364]],[[12905,12905],"mapped",[4366]],[[12906,12906],"mapped",[4367]],[[12907,12907],"mapped",[4368]],[[12908,12908],"mapped",[4369]],[[12909,12909],"mapped",[4370]],[[12910,12910],"mapped",[44032]],[[12911,12911],"mapped",[45208]],[[12912,12912],"mapped",[45796]],[[12913,12913],"mapped",[46972]],[[12914,12914],"mapped",[47560]],[[12915,12915],"mapped",[48148]],[[12916,12916],"mapped",[49324]],[[12917,12917],"mapped",[50500]],[[12918,12918],"mapped",[51088]],[[12919,12919],"mapped",[52264]],[[12920,12920],"mapped",[52852]],[[12921,12921],"mapped",[53440]],[[12922,12922],"mapped",[54028]],[[12923,12923],"mapped",[54616]],[[12924,12924],"mapped",[52280,44256]],[[12925,12925],"mapped",[51452,51032]],[[12926,12926],"mapped",[50864]],[[12927,12927],"valid",[],"NV8"],[[12928,12928],"mapped",[19968]],[[12929,12929],"mapped",[20108]],[[12930,12930],"mapped",[19977]],[[12931,12931],"mapped",[22235]],[[12932,12932],"mapped",[20116]],[[12933,12933],"mapped",[20845]],[[12934,12934],"mapped",[19971]],[[12935,12935],"mapped",[20843]],[[12936,12936],"mapped",[20061]],[[12937,12937],"mapped",[21313]],[[12938,12938],"mapped",[26376]],[[12939,12939],"mapped",[28779]],[[12940,12940],"mapped",[27700]],[[12941,12941],"mapped",[26408]],[[12942,12942],"mapped",[37329]],[[12943,12943],"mapped",[22303]],[[12944,12944],"mapped",[26085]],[[12945,12945],"mapped",[26666]],[[12946,12946],"mapped",[26377]],[[12947,12947],"mapped",[31038]],[[12948,12948],"mapped",[21517]],[[12949,12949],"mapped",[29305]],[[12950,12950],"mapped",[36001]],[[12951,12951],"mapped",[31069]],[[12952,12952],"mapped",[21172]],[[12953,12953],"mapped",[31192]],[[12954,12954],"mapped",[30007]],[[12955,12955],"mapped",[22899]],[[12956,12956],"mapped",[36969]],[[12957,12957],"mapped",[20778]],[[12958,12958],"mapped",[21360]],[[12959,12959],"mapped",[27880]],[[12960,12960],"mapped",[38917]],[[12961,12961],"mapped",[20241]],[[12962,12962],"mapped",[20889]],[[12963,12963],"mapped",[27491]],[[12964,12964],"mapped",[19978]],[[12965,12965],"mapped",[20013]],[[12966,12966],"mapped",[19979]],[[12967,12967],"mapped",[24038]],[[12968,12968],"mapped",[21491]],[[12969,12969],"mapped",[21307]],[[12970,12970],"mapped",[23447]],[[12971,12971],"mapped",[23398]],[[12972,12972],"mapped",[30435]],[[12973,12973],"mapped",[20225]],[[12974,12974],"mapped",[36039]],[[12975,12975],"mapped",[21332]],[[12976,12976],"mapped",[22812]],[[12977,12977],"mapped",[51,54]],[[12978,12978],"mapped",[51,55]],[[12979,12979],"mapped",[51,56]],[[12980,12980],"mapped",[51,57]],[[12981,12981],"mapped",[52,48]],[[12982,12982],"mapped",[52,49]],[[12983,12983],"mapped",[52,50]],[[12984,12984],"mapped",[52,51]],[[12985,12985],"mapped",[52,52]],[[12986,12986],"mapped",[52,53]],[[12987,12987],"mapped",[52,54]],[[12988,12988],"mapped",[52,55]],[[12989,12989],"mapped",[52,56]],[[12990,12990],"mapped",[52,57]],[[12991,12991],"mapped",[53,48]],[[12992,12992],"mapped",[49,26376]],[[12993,12993],"mapped",[50,26376]],[[12994,12994],"mapped",[51,26376]],[[12995,12995],"mapped",[52,26376]],[[12996,12996],"mapped",[53,26376]],[[12997,12997],"mapped",[54,26376]],[[12998,12998],"mapped",[55,26376]],[[12999,12999],"mapped",[56,26376]],[[13e3,13e3],"mapped",[57,26376]],[[13001,13001],"mapped",[49,48,26376]],[[13002,13002],"mapped",[49,49,26376]],[[13003,13003],"mapped",[49,50,26376]],[[13004,13004],"mapped",[104,103]],[[13005,13005],"mapped",[101,114,103]],[[13006,13006],"mapped",[101,118]],[[13007,13007],"mapped",[108,116,100]],[[13008,13008],"mapped",[12450]],[[13009,13009],"mapped",[12452]],[[13010,13010],"mapped",[12454]],[[13011,13011],"mapped",[12456]],[[13012,13012],"mapped",[12458]],[[13013,13013],"mapped",[12459]],[[13014,13014],"mapped",[12461]],[[13015,13015],"mapped",[12463]],[[13016,13016],"mapped",[12465]],[[13017,13017],"mapped",[12467]],[[13018,13018],"mapped",[12469]],[[13019,13019],"mapped",[12471]],[[13020,13020],"mapped",[12473]],[[13021,13021],"mapped",[12475]],[[13022,13022],"mapped",[12477]],[[13023,13023],"mapped",[12479]],[[13024,13024],"mapped",[12481]],[[13025,13025],"mapped",[12484]],[[13026,13026],"mapped",[12486]],[[13027,13027],"mapped",[12488]],[[13028,13028],"mapped",[12490]],[[13029,13029],"mapped",[12491]],[[13030,13030],"mapped",[12492]],[[13031,13031],"mapped",[12493]],[[13032,13032],"mapped",[12494]],[[13033,13033],"mapped",[12495]],[[13034,13034],"mapped",[12498]],[[13035,13035],"mapped",[12501]],[[13036,13036],"mapped",[12504]],[[13037,13037],"mapped",[12507]],[[13038,13038],"mapped",[12510]],[[13039,13039],"mapped",[12511]],[[13040,13040],"mapped",[12512]],[[13041,13041],"mapped",[12513]],[[13042,13042],"mapped",[12514]],[[13043,13043],"mapped",[12516]],[[13044,13044],"mapped",[12518]],[[13045,13045],"mapped",[12520]],[[13046,13046],"mapped",[12521]],[[13047,13047],"mapped",[12522]],[[13048,13048],"mapped",[12523]],[[13049,13049],"mapped",[12524]],[[13050,13050],"mapped",[12525]],[[13051,13051],"mapped",[12527]],[[13052,13052],"mapped",[12528]],[[13053,13053],"mapped",[12529]],[[13054,13054],"mapped",[12530]],[[13055,13055],"disallowed"],[[13056,13056],"mapped",[12450,12497,12540,12488]],[[13057,13057],"mapped",[12450,12523,12501,12449]],[[13058,13058],"mapped",[12450,12531,12506,12450]],[[13059,13059],"mapped",[12450,12540,12523]],[[13060,13060],"mapped",[12452,12491,12531,12464]],[[13061,13061],"mapped",[12452,12531,12481]],[[13062,13062],"mapped",[12454,12457,12531]],[[13063,13063],"mapped",[12456,12473,12463,12540,12489]],[[13064,13064],"mapped",[12456,12540,12459,12540]],[[13065,13065],"mapped",[12458,12531,12473]],[[13066,13066],"mapped",[12458,12540,12512]],[[13067,13067],"mapped",[12459,12452,12522]],[[13068,13068],"mapped",[12459,12521,12483,12488]],[[13069,13069],"mapped",[12459,12525,12522,12540]],[[13070,13070],"mapped",[12460,12525,12531]],[[13071,13071],"mapped",[12460,12531,12510]],[[13072,13072],"mapped",[12462,12460]],[[13073,13073],"mapped",[12462,12491,12540]],[[13074,13074],"mapped",[12461,12517,12522,12540]],[[13075,13075],"mapped",[12462,12523,12480,12540]],[[13076,13076],"mapped",[12461,12525]],[[13077,13077],"mapped",[12461,12525,12464,12521,12512]],[[13078,13078],"mapped",[12461,12525,12513,12540,12488,12523]],[[13079,13079],"mapped",[12461,12525,12527,12483,12488]],[[13080,13080],"mapped",[12464,12521,12512]],[[13081,13081],"mapped",[12464,12521,12512,12488,12531]],[[13082,13082],"mapped",[12463,12523,12476,12452,12525]],[[13083,13083],"mapped",[12463,12525,12540,12493]],[[13084,13084],"mapped",[12465,12540,12473]],[[13085,13085],"mapped",[12467,12523,12490]],[[13086,13086],"mapped",[12467,12540,12509]],[[13087,13087],"mapped",[12469,12452,12463,12523]],[[13088,13088],"mapped",[12469,12531,12481,12540,12512]],[[13089,13089],"mapped",[12471,12522,12531,12464]],[[13090,13090],"mapped",[12475,12531,12481]],[[13091,13091],"mapped",[12475,12531,12488]],[[13092,13092],"mapped",[12480,12540,12473]],[[13093,13093],"mapped",[12487,12471]],[[13094,13094],"mapped",[12489,12523]],[[13095,13095],"mapped",[12488,12531]],[[13096,13096],"mapped",[12490,12494]],[[13097,13097],"mapped",[12494,12483,12488]],[[13098,13098],"mapped",[12495,12452,12484]],[[13099,13099],"mapped",[12497,12540,12475,12531,12488]],[[13100,13100],"mapped",[12497,12540,12484]],[[13101,13101],"mapped",[12496,12540,12524,12523]],[[13102,13102],"mapped",[12500,12450,12473,12488,12523]],[[13103,13103],"mapped",[12500,12463,12523]],[[13104,13104],"mapped",[12500,12467]],[[13105,13105],"mapped",[12499,12523]],[[13106,13106],"mapped",[12501,12449,12521,12483,12489]],[[13107,13107],"mapped",[12501,12451,12540,12488]],[[13108,13108],"mapped",[12502,12483,12471,12455,12523]],[[13109,13109],"mapped",[12501,12521,12531]],[[13110,13110],"mapped",[12504,12463,12479,12540,12523]],[[13111,13111],"mapped",[12506,12477]],[[13112,13112],"mapped",[12506,12491,12498]],[[13113,13113],"mapped",[12504,12523,12484]],[[13114,13114],"mapped",[12506,12531,12473]],[[13115,13115],"mapped",[12506,12540,12472]],[[13116,13116],"mapped",[12505,12540,12479]],[[13117,13117],"mapped",[12509,12452,12531,12488]],[[13118,13118],"mapped",[12508,12523,12488]],[[13119,13119],"mapped",[12507,12531]],[[13120,13120],"mapped",[12509,12531,12489]],[[13121,13121],"mapped",[12507,12540,12523]],[[13122,13122],"mapped",[12507,12540,12531]],[[13123,13123],"mapped",[12510,12452,12463,12525]],[[13124,13124],"mapped",[12510,12452,12523]],[[13125,13125],"mapped",[12510,12483,12495]],[[13126,13126],"mapped",[12510,12523,12463]],[[13127,13127],"mapped",[12510,12531,12471,12519,12531]],[[13128,13128],"mapped",[12511,12463,12525,12531]],[[13129,13129],"mapped",[12511,12522]],[[13130,13130],"mapped",[12511,12522,12496,12540,12523]],[[13131,13131],"mapped",[12513,12460]],[[13132,13132],"mapped",[12513,12460,12488,12531]],[[13133,13133],"mapped",[12513,12540,12488,12523]],[[13134,13134],"mapped",[12516,12540,12489]],[[13135,13135],"mapped",[12516,12540,12523]],[[13136,13136],"mapped",[12518,12450,12531]],[[13137,13137],"mapped",[12522,12483,12488,12523]],[[13138,13138],"mapped",[12522,12521]],[[13139,13139],"mapped",[12523,12500,12540]],[[13140,13140],"mapped",[12523,12540,12502,12523]],[[13141,13141],"mapped",[12524,12512]],[[13142,13142],"mapped",[12524,12531,12488,12466,12531]],[[13143,13143],"mapped",[12527,12483,12488]],[[13144,13144],"mapped",[48,28857]],[[13145,13145],"mapped",[49,28857]],[[13146,13146],"mapped",[50,28857]],[[13147,13147],"mapped",[51,28857]],[[13148,13148],"mapped",[52,28857]],[[13149,13149],"mapped",[53,28857]],[[13150,13150],"mapped",[54,28857]],[[13151,13151],"mapped",[55,28857]],[[13152,13152],"mapped",[56,28857]],[[13153,13153],"mapped",[57,28857]],[[13154,13154],"mapped",[49,48,28857]],[[13155,13155],"mapped",[49,49,28857]],[[13156,13156],"mapped",[49,50,28857]],[[13157,13157],"mapped",[49,51,28857]],[[13158,13158],"mapped",[49,52,28857]],[[13159,13159],"mapped",[49,53,28857]],[[13160,13160],"mapped",[49,54,28857]],[[13161,13161],"mapped",[49,55,28857]],[[13162,13162],"mapped",[49,56,28857]],[[13163,13163],"mapped",[49,57,28857]],[[13164,13164],"mapped",[50,48,28857]],[[13165,13165],"mapped",[50,49,28857]],[[13166,13166],"mapped",[50,50,28857]],[[13167,13167],"mapped",[50,51,28857]],[[13168,13168],"mapped",[50,52,28857]],[[13169,13169],"mapped",[104,112,97]],[[13170,13170],"mapped",[100,97]],[[13171,13171],"mapped",[97,117]],[[13172,13172],"mapped",[98,97,114]],[[13173,13173],"mapped",[111,118]],[[13174,13174],"mapped",[112,99]],[[13175,13175],"mapped",[100,109]],[[13176,13176],"mapped",[100,109,50]],[[13177,13177],"mapped",[100,109,51]],[[13178,13178],"mapped",[105,117]],[[13179,13179],"mapped",[24179,25104]],[[13180,13180],"mapped",[26157,21644]],[[13181,13181],"mapped",[22823,27491]],[[13182,13182],"mapped",[26126,27835]],[[13183,13183],"mapped",[26666,24335,20250,31038]],[[13184,13184],"mapped",[112,97]],[[13185,13185],"mapped",[110,97]],[[13186,13186],"mapped",[956,97]],[[13187,13187],"mapped",[109,97]],[[13188,13188],"mapped",[107,97]],[[13189,13189],"mapped",[107,98]],[[13190,13190],"mapped",[109,98]],[[13191,13191],"mapped",[103,98]],[[13192,13192],"mapped",[99,97,108]],[[13193,13193],"mapped",[107,99,97,108]],[[13194,13194],"mapped",[112,102]],[[13195,13195],"mapped",[110,102]],[[13196,13196],"mapped",[956,102]],[[13197,13197],"mapped",[956,103]],[[13198,13198],"mapped",[109,103]],[[13199,13199],"mapped",[107,103]],[[13200,13200],"mapped",[104,122]],[[13201,13201],"mapped",[107,104,122]],[[13202,13202],"mapped",[109,104,122]],[[13203,13203],"mapped",[103,104,122]],[[13204,13204],"mapped",[116,104,122]],[[13205,13205],"mapped",[956,108]],[[13206,13206],"mapped",[109,108]],[[13207,13207],"mapped",[100,108]],[[13208,13208],"mapped",[107,108]],[[13209,13209],"mapped",[102,109]],[[13210,13210],"mapped",[110,109]],[[13211,13211],"mapped",[956,109]],[[13212,13212],"mapped",[109,109]],[[13213,13213],"mapped",[99,109]],[[13214,13214],"mapped",[107,109]],[[13215,13215],"mapped",[109,109,50]],[[13216,13216],"mapped",[99,109,50]],[[13217,13217],"mapped",[109,50]],[[13218,13218],"mapped",[107,109,50]],[[13219,13219],"mapped",[109,109,51]],[[13220,13220],"mapped",[99,109,51]],[[13221,13221],"mapped",[109,51]],[[13222,13222],"mapped",[107,109,51]],[[13223,13223],"mapped",[109,8725,115]],[[13224,13224],"mapped",[109,8725,115,50]],[[13225,13225],"mapped",[112,97]],[[13226,13226],"mapped",[107,112,97]],[[13227,13227],"mapped",[109,112,97]],[[13228,13228],"mapped",[103,112,97]],[[13229,13229],"mapped",[114,97,100]],[[13230,13230],"mapped",[114,97,100,8725,115]],[[13231,13231],"mapped",[114,97,100,8725,115,50]],[[13232,13232],"mapped",[112,115]],[[13233,13233],"mapped",[110,115]],[[13234,13234],"mapped",[956,115]],[[13235,13235],"mapped",[109,115]],[[13236,13236],"mapped",[112,118]],[[13237,13237],"mapped",[110,118]],[[13238,13238],"mapped",[956,118]],[[13239,13239],"mapped",[109,118]],[[13240,13240],"mapped",[107,118]],[[13241,13241],"mapped",[109,118]],[[13242,13242],"mapped",[112,119]],[[13243,13243],"mapped",[110,119]],[[13244,13244],"mapped",[956,119]],[[13245,13245],"mapped",[109,119]],[[13246,13246],"mapped",[107,119]],[[13247,13247],"mapped",[109,119]],[[13248,13248],"mapped",[107,969]],[[13249,13249],"mapped",[109,969]],[[13250,13250],"disallowed"],[[13251,13251],"mapped",[98,113]],[[13252,13252],"mapped",[99,99]],[[13253,13253],"mapped",[99,100]],[[13254,13254],"mapped",[99,8725,107,103]],[[13255,13255],"disallowed"],[[13256,13256],"mapped",[100,98]],[[13257,13257],"mapped",[103,121]],[[13258,13258],"mapped",[104,97]],[[13259,13259],"mapped",[104,112]],[[13260,13260],"mapped",[105,110]],[[13261,13261],"mapped",[107,107]],[[13262,13262],"mapped",[107,109]],[[13263,13263],"mapped",[107,116]],[[13264,13264],"mapped",[108,109]],[[13265,13265],"mapped",[108,110]],[[13266,13266],"mapped",[108,111,103]],[[13267,13267],"mapped",[108,120]],[[13268,13268],"mapped",[109,98]],[[13269,13269],"mapped",[109,105,108]],[[13270,13270],"mapped",[109,111,108]],[[13271,13271],"mapped",[112,104]],[[13272,13272],"disallowed"],[[13273,13273],"mapped",[112,112,109]],[[13274,13274],"mapped",[112,114]],[[13275,13275],"mapped",[115,114]],[[13276,13276],"mapped",[115,118]],[[13277,13277],"mapped",[119,98]],[[13278,13278],"mapped",[118,8725,109]],[[13279,13279],"mapped",[97,8725,109]],[[13280,13280],"mapped",[49,26085]],[[13281,13281],"mapped",[50,26085]],[[13282,13282],"mapped",[51,26085]],[[13283,13283],"mapped",[52,26085]],[[13284,13284],"mapped",[53,26085]],[[13285,13285],"mapped",[54,26085]],[[13286,13286],"mapped",[55,26085]],[[13287,13287],"mapped",[56,26085]],[[13288,13288],"mapped",[57,26085]],[[13289,13289],"mapped",[49,48,26085]],[[13290,13290],"mapped",[49,49,26085]],[[13291,13291],"mapped",[49,50,26085]],[[13292,13292],"mapped",[49,51,26085]],[[13293,13293],"mapped",[49,52,26085]],[[13294,13294],"mapped",[49,53,26085]],[[13295,13295],"mapped",[49,54,26085]],[[13296,13296],"mapped",[49,55,26085]],[[13297,13297],"mapped",[49,56,26085]],[[13298,13298],"mapped",[49,57,26085]],[[13299,13299],"mapped",[50,48,26085]],[[13300,13300],"mapped",[50,49,26085]],[[13301,13301],"mapped",[50,50,26085]],[[13302,13302],"mapped",[50,51,26085]],[[13303,13303],"mapped",[50,52,26085]],[[13304,13304],"mapped",[50,53,26085]],[[13305,13305],"mapped",[50,54,26085]],[[13306,13306],"mapped",[50,55,26085]],[[13307,13307],"mapped",[50,56,26085]],[[13308,13308],"mapped",[50,57,26085]],[[13309,13309],"mapped",[51,48,26085]],[[13310,13310],"mapped",[51,49,26085]],[[13311,13311],"mapped",[103,97,108]],[[13312,19893],"valid"],[[19894,19903],"disallowed"],[[19904,19967],"valid",[],"NV8"],[[19968,40869],"valid"],[[40870,40891],"valid"],[[40892,40899],"valid"],[[40900,40907],"valid"],[[40908,40908],"valid"],[[40909,40917],"valid"],[[40918,40959],"disallowed"],[[40960,42124],"valid"],[[42125,42127],"disallowed"],[[42128,42145],"valid",[],"NV8"],[[42146,42147],"valid",[],"NV8"],[[42148,42163],"valid",[],"NV8"],[[42164,42164],"valid",[],"NV8"],[[42165,42176],"valid",[],"NV8"],[[42177,42177],"valid",[],"NV8"],[[42178,42180],"valid",[],"NV8"],[[42181,42181],"valid",[],"NV8"],[[42182,42182],"valid",[],"NV8"],[[42183,42191],"disallowed"],[[42192,42237],"valid"],[[42238,42239],"valid",[],"NV8"],[[42240,42508],"valid"],[[42509,42511],"valid",[],"NV8"],[[42512,42539],"valid"],[[42540,42559],"disallowed"],[[42560,42560],"mapped",[42561]],[[42561,42561],"valid"],[[42562,42562],"mapped",[42563]],[[42563,42563],"valid"],[[42564,42564],"mapped",[42565]],[[42565,42565],"valid"],[[42566,42566],"mapped",[42567]],[[42567,42567],"valid"],[[42568,42568],"mapped",[42569]],[[42569,42569],"valid"],[[42570,42570],"mapped",[42571]],[[42571,42571],"valid"],[[42572,42572],"mapped",[42573]],[[42573,42573],"valid"],[[42574,42574],"mapped",[42575]],[[42575,42575],"valid"],[[42576,42576],"mapped",[42577]],[[42577,42577],"valid"],[[42578,42578],"mapped",[42579]],[[42579,42579],"valid"],[[42580,42580],"mapped",[42581]],[[42581,42581],"valid"],[[42582,42582],"mapped",[42583]],[[42583,42583],"valid"],[[42584,42584],"mapped",[42585]],[[42585,42585],"valid"],[[42586,42586],"mapped",[42587]],[[42587,42587],"valid"],[[42588,42588],"mapped",[42589]],[[42589,42589],"valid"],[[42590,42590],"mapped",[42591]],[[42591,42591],"valid"],[[42592,42592],"mapped",[42593]],[[42593,42593],"valid"],[[42594,42594],"mapped",[42595]],[[42595,42595],"valid"],[[42596,42596],"mapped",[42597]],[[42597,42597],"valid"],[[42598,42598],"mapped",[42599]],[[42599,42599],"valid"],[[42600,42600],"mapped",[42601]],[[42601,42601],"valid"],[[42602,42602],"mapped",[42603]],[[42603,42603],"valid"],[[42604,42604],"mapped",[42605]],[[42605,42607],"valid"],[[42608,42611],"valid",[],"NV8"],[[42612,42619],"valid"],[[42620,42621],"valid"],[[42622,42622],"valid",[],"NV8"],[[42623,42623],"valid"],[[42624,42624],"mapped",[42625]],[[42625,42625],"valid"],[[42626,42626],"mapped",[42627]],[[42627,42627],"valid"],[[42628,42628],"mapped",[42629]],[[42629,42629],"valid"],[[42630,42630],"mapped",[42631]],[[42631,42631],"valid"],[[42632,42632],"mapped",[42633]],[[42633,42633],"valid"],[[42634,42634],"mapped",[42635]],[[42635,42635],"valid"],[[42636,42636],"mapped",[42637]],[[42637,42637],"valid"],[[42638,42638],"mapped",[42639]],[[42639,42639],"valid"],[[42640,42640],"mapped",[42641]],[[42641,42641],"valid"],[[42642,42642],"mapped",[42643]],[[42643,42643],"valid"],[[42644,42644],"mapped",[42645]],[[42645,42645],"valid"],[[42646,42646],"mapped",[42647]],[[42647,42647],"valid"],[[42648,42648],"mapped",[42649]],[[42649,42649],"valid"],[[42650,42650],"mapped",[42651]],[[42651,42651],"valid"],[[42652,42652],"mapped",[1098]],[[42653,42653],"mapped",[1100]],[[42654,42654],"valid"],[[42655,42655],"valid"],[[42656,42725],"valid"],[[42726,42735],"valid",[],"NV8"],[[42736,42737],"valid"],[[42738,42743],"valid",[],"NV8"],[[42744,42751],"disallowed"],[[42752,42774],"valid",[],"NV8"],[[42775,42778],"valid"],[[42779,42783],"valid"],[[42784,42785],"valid",[],"NV8"],[[42786,42786],"mapped",[42787]],[[42787,42787],"valid"],[[42788,42788],"mapped",[42789]],[[42789,42789],"valid"],[[42790,42790],"mapped",[42791]],[[42791,42791],"valid"],[[42792,42792],"mapped",[42793]],[[42793,42793],"valid"],[[42794,42794],"mapped",[42795]],[[42795,42795],"valid"],[[42796,42796],"mapped",[42797]],[[42797,42797],"valid"],[[42798,42798],"mapped",[42799]],[[42799,42801],"valid"],[[42802,42802],"mapped",[42803]],[[42803,42803],"valid"],[[42804,42804],"mapped",[42805]],[[42805,42805],"valid"],[[42806,42806],"mapped",[42807]],[[42807,42807],"valid"],[[42808,42808],"mapped",[42809]],[[42809,42809],"valid"],[[42810,42810],"mapped",[42811]],[[42811,42811],"valid"],[[42812,42812],"mapped",[42813]],[[42813,42813],"valid"],[[42814,42814],"mapped",[42815]],[[42815,42815],"valid"],[[42816,42816],"mapped",[42817]],[[42817,42817],"valid"],[[42818,42818],"mapped",[42819]],[[42819,42819],"valid"],[[42820,42820],"mapped",[42821]],[[42821,42821],"valid"],[[42822,42822],"mapped",[42823]],[[42823,42823],"valid"],[[42824,42824],"mapped",[42825]],[[42825,42825],"valid"],[[42826,42826],"mapped",[42827]],[[42827,42827],"valid"],[[42828,42828],"mapped",[42829]],[[42829,42829],"valid"],[[42830,42830],"mapped",[42831]],[[42831,42831],"valid"],[[42832,42832],"mapped",[42833]],[[42833,42833],"valid"],[[42834,42834],"mapped",[42835]],[[42835,42835],"valid"],[[42836,42836],"mapped",[42837]],[[42837,42837],"valid"],[[42838,42838],"mapped",[42839]],[[42839,42839],"valid"],[[42840,42840],"mapped",[42841]],[[42841,42841],"valid"],[[42842,42842],"mapped",[42843]],[[42843,42843],"valid"],[[42844,42844],"mapped",[42845]],[[42845,42845],"valid"],[[42846,42846],"mapped",[42847]],[[42847,42847],"valid"],[[42848,42848],"mapped",[42849]],[[42849,42849],"valid"],[[42850,42850],"mapped",[42851]],[[42851,42851],"valid"],[[42852,42852],"mapped",[42853]],[[42853,42853],"valid"],[[42854,42854],"mapped",[42855]],[[42855,42855],"valid"],[[42856,42856],"mapped",[42857]],[[42857,42857],"valid"],[[42858,42858],"mapped",[42859]],[[42859,42859],"valid"],[[42860,42860],"mapped",[42861]],[[42861,42861],"valid"],[[42862,42862],"mapped",[42863]],[[42863,42863],"valid"],[[42864,42864],"mapped",[42863]],[[42865,42872],"valid"],[[42873,42873],"mapped",[42874]],[[42874,42874],"valid"],[[42875,42875],"mapped",[42876]],[[42876,42876],"valid"],[[42877,42877],"mapped",[7545]],[[42878,42878],"mapped",[42879]],[[42879,42879],"valid"],[[42880,42880],"mapped",[42881]],[[42881,42881],"valid"],[[42882,42882],"mapped",[42883]],[[42883,42883],"valid"],[[42884,42884],"mapped",[42885]],[[42885,42885],"valid"],[[42886,42886],"mapped",[42887]],[[42887,42888],"valid"],[[42889,42890],"valid",[],"NV8"],[[42891,42891],"mapped",[42892]],[[42892,42892],"valid"],[[42893,42893],"mapped",[613]],[[42894,42894],"valid"],[[42895,42895],"valid"],[[42896,42896],"mapped",[42897]],[[42897,42897],"valid"],[[42898,42898],"mapped",[42899]],[[42899,42899],"valid"],[[42900,42901],"valid"],[[42902,42902],"mapped",[42903]],[[42903,42903],"valid"],[[42904,42904],"mapped",[42905]],[[42905,42905],"valid"],[[42906,42906],"mapped",[42907]],[[42907,42907],"valid"],[[42908,42908],"mapped",[42909]],[[42909,42909],"valid"],[[42910,42910],"mapped",[42911]],[[42911,42911],"valid"],[[42912,42912],"mapped",[42913]],[[42913,42913],"valid"],[[42914,42914],"mapped",[42915]],[[42915,42915],"valid"],[[42916,42916],"mapped",[42917]],[[42917,42917],"valid"],[[42918,42918],"mapped",[42919]],[[42919,42919],"valid"],[[42920,42920],"mapped",[42921]],[[42921,42921],"valid"],[[42922,42922],"mapped",[614]],[[42923,42923],"mapped",[604]],[[42924,42924],"mapped",[609]],[[42925,42925],"mapped",[620]],[[42926,42927],"disallowed"],[[42928,42928],"mapped",[670]],[[42929,42929],"mapped",[647]],[[42930,42930],"mapped",[669]],[[42931,42931],"mapped",[43859]],[[42932,42932],"mapped",[42933]],[[42933,42933],"valid"],[[42934,42934],"mapped",[42935]],[[42935,42935],"valid"],[[42936,42998],"disallowed"],[[42999,42999],"valid"],[[43e3,43e3],"mapped",[295]],[[43001,43001],"mapped",[339]],[[43002,43002],"valid"],[[43003,43007],"valid"],[[43008,43047],"valid"],[[43048,43051],"valid",[],"NV8"],[[43052,43055],"disallowed"],[[43056,43065],"valid",[],"NV8"],[[43066,43071],"disallowed"],[[43072,43123],"valid"],[[43124,43127],"valid",[],"NV8"],[[43128,43135],"disallowed"],[[43136,43204],"valid"],[[43205,43213],"disallowed"],[[43214,43215],"valid",[],"NV8"],[[43216,43225],"valid"],[[43226,43231],"disallowed"],[[43232,43255],"valid"],[[43256,43258],"valid",[],"NV8"],[[43259,43259],"valid"],[[43260,43260],"valid",[],"NV8"],[[43261,43261],"valid"],[[43262,43263],"disallowed"],[[43264,43309],"valid"],[[43310,43311],"valid",[],"NV8"],[[43312,43347],"valid"],[[43348,43358],"disallowed"],[[43359,43359],"valid",[],"NV8"],[[43360,43388],"valid",[],"NV8"],[[43389,43391],"disallowed"],[[43392,43456],"valid"],[[43457,43469],"valid",[],"NV8"],[[43470,43470],"disallowed"],[[43471,43481],"valid"],[[43482,43485],"disallowed"],[[43486,43487],"valid",[],"NV8"],[[43488,43518],"valid"],[[43519,43519],"disallowed"],[[43520,43574],"valid"],[[43575,43583],"disallowed"],[[43584,43597],"valid"],[[43598,43599],"disallowed"],[[43600,43609],"valid"],[[43610,43611],"disallowed"],[[43612,43615],"valid",[],"NV8"],[[43616,43638],"valid"],[[43639,43641],"valid",[],"NV8"],[[43642,43643],"valid"],[[43644,43647],"valid"],[[43648,43714],"valid"],[[43715,43738],"disallowed"],[[43739,43741],"valid"],[[43742,43743],"valid",[],"NV8"],[[43744,43759],"valid"],[[43760,43761],"valid",[],"NV8"],[[43762,43766],"valid"],[[43767,43776],"disallowed"],[[43777,43782],"valid"],[[43783,43784],"disallowed"],[[43785,43790],"valid"],[[43791,43792],"disallowed"],[[43793,43798],"valid"],[[43799,43807],"disallowed"],[[43808,43814],"valid"],[[43815,43815],"disallowed"],[[43816,43822],"valid"],[[43823,43823],"disallowed"],[[43824,43866],"valid"],[[43867,43867],"valid",[],"NV8"],[[43868,43868],"mapped",[42791]],[[43869,43869],"mapped",[43831]],[[43870,43870],"mapped",[619]],[[43871,43871],"mapped",[43858]],[[43872,43875],"valid"],[[43876,43877],"valid"],[[43878,43887],"disallowed"],[[43888,43888],"mapped",[5024]],[[43889,43889],"mapped",[5025]],[[43890,43890],"mapped",[5026]],[[43891,43891],"mapped",[5027]],[[43892,43892],"mapped",[5028]],[[43893,43893],"mapped",[5029]],[[43894,43894],"mapped",[5030]],[[43895,43895],"mapped",[5031]],[[43896,43896],"mapped",[5032]],[[43897,43897],"mapped",[5033]],[[43898,43898],"mapped",[5034]],[[43899,43899],"mapped",[5035]],[[43900,43900],"mapped",[5036]],[[43901,43901],"mapped",[5037]],[[43902,43902],"mapped",[5038]],[[43903,43903],"mapped",[5039]],[[43904,43904],"mapped",[5040]],[[43905,43905],"mapped",[5041]],[[43906,43906],"mapped",[5042]],[[43907,43907],"mapped",[5043]],[[43908,43908],"mapped",[5044]],[[43909,43909],"mapped",[5045]],[[43910,43910],"mapped",[5046]],[[43911,43911],"mapped",[5047]],[[43912,43912],"mapped",[5048]],[[43913,43913],"mapped",[5049]],[[43914,43914],"mapped",[5050]],[[43915,43915],"mapped",[5051]],[[43916,43916],"mapped",[5052]],[[43917,43917],"mapped",[5053]],[[43918,43918],"mapped",[5054]],[[43919,43919],"mapped",[5055]],[[43920,43920],"mapped",[5056]],[[43921,43921],"mapped",[5057]],[[43922,43922],"mapped",[5058]],[[43923,43923],"mapped",[5059]],[[43924,43924],"mapped",[5060]],[[43925,43925],"mapped",[5061]],[[43926,43926],"mapped",[5062]],[[43927,43927],"mapped",[5063]],[[43928,43928],"mapped",[5064]],[[43929,43929],"mapped",[5065]],[[43930,43930],"mapped",[5066]],[[43931,43931],"mapped",[5067]],[[43932,43932],"mapped",[5068]],[[43933,43933],"mapped",[5069]],[[43934,43934],"mapped",[5070]],[[43935,43935],"mapped",[5071]],[[43936,43936],"mapped",[5072]],[[43937,43937],"mapped",[5073]],[[43938,43938],"mapped",[5074]],[[43939,43939],"mapped",[5075]],[[43940,43940],"mapped",[5076]],[[43941,43941],"mapped",[5077]],[[43942,43942],"mapped",[5078]],[[43943,43943],"mapped",[5079]],[[43944,43944],"mapped",[5080]],[[43945,43945],"mapped",[5081]],[[43946,43946],"mapped",[5082]],[[43947,43947],"mapped",[5083]],[[43948,43948],"mapped",[5084]],[[43949,43949],"mapped",[5085]],[[43950,43950],"mapped",[5086]],[[43951,43951],"mapped",[5087]],[[43952,43952],"mapped",[5088]],[[43953,43953],"mapped",[5089]],[[43954,43954],"mapped",[5090]],[[43955,43955],"mapped",[5091]],[[43956,43956],"mapped",[5092]],[[43957,43957],"mapped",[5093]],[[43958,43958],"mapped",[5094]],[[43959,43959],"mapped",[5095]],[[43960,43960],"mapped",[5096]],[[43961,43961],"mapped",[5097]],[[43962,43962],"mapped",[5098]],[[43963,43963],"mapped",[5099]],[[43964,43964],"mapped",[5100]],[[43965,43965],"mapped",[5101]],[[43966,43966],"mapped",[5102]],[[43967,43967],"mapped",[5103]],[[43968,44010],"valid"],[[44011,44011],"valid",[],"NV8"],[[44012,44013],"valid"],[[44014,44015],"disallowed"],[[44016,44025],"valid"],[[44026,44031],"disallowed"],[[44032,55203],"valid"],[[55204,55215],"disallowed"],[[55216,55238],"valid",[],"NV8"],[[55239,55242],"disallowed"],[[55243,55291],"valid",[],"NV8"],[[55292,55295],"disallowed"],[[55296,57343],"disallowed"],[[57344,63743],"disallowed"],[[63744,63744],"mapped",[35912]],[[63745,63745],"mapped",[26356]],[[63746,63746],"mapped",[36554]],[[63747,63747],"mapped",[36040]],[[63748,63748],"mapped",[28369]],[[63749,63749],"mapped",[20018]],[[63750,63750],"mapped",[21477]],[[63751,63752],"mapped",[40860]],[[63753,63753],"mapped",[22865]],[[63754,63754],"mapped",[37329]],[[63755,63755],"mapped",[21895]],[[63756,63756],"mapped",[22856]],[[63757,63757],"mapped",[25078]],[[63758,63758],"mapped",[30313]],[[63759,63759],"mapped",[32645]],[[63760,63760],"mapped",[34367]],[[63761,63761],"mapped",[34746]],[[63762,63762],"mapped",[35064]],[[63763,63763],"mapped",[37007]],[[63764,63764],"mapped",[27138]],[[63765,63765],"mapped",[27931]],[[63766,63766],"mapped",[28889]],[[63767,63767],"mapped",[29662]],[[63768,63768],"mapped",[33853]],[[63769,63769],"mapped",[37226]],[[63770,63770],"mapped",[39409]],[[63771,63771],"mapped",[20098]],[[63772,63772],"mapped",[21365]],[[63773,63773],"mapped",[27396]],[[63774,63774],"mapped",[29211]],[[63775,63775],"mapped",[34349]],[[63776,63776],"mapped",[40478]],[[63777,63777],"mapped",[23888]],[[63778,63778],"mapped",[28651]],[[63779,63779],"mapped",[34253]],[[63780,63780],"mapped",[35172]],[[63781,63781],"mapped",[25289]],[[63782,63782],"mapped",[33240]],[[63783,63783],"mapped",[34847]],[[63784,63784],"mapped",[24266]],[[63785,63785],"mapped",[26391]],[[63786,63786],"mapped",[28010]],[[63787,63787],"mapped",[29436]],[[63788,63788],"mapped",[37070]],[[63789,63789],"mapped",[20358]],[[63790,63790],"mapped",[20919]],[[63791,63791],"mapped",[21214]],[[63792,63792],"mapped",[25796]],[[63793,63793],"mapped",[27347]],[[63794,63794],"mapped",[29200]],[[63795,63795],"mapped",[30439]],[[63796,63796],"mapped",[32769]],[[63797,63797],"mapped",[34310]],[[63798,63798],"mapped",[34396]],[[63799,63799],"mapped",[36335]],[[63800,63800],"mapped",[38706]],[[63801,63801],"mapped",[39791]],[[63802,63802],"mapped",[40442]],[[63803,63803],"mapped",[30860]],[[63804,63804],"mapped",[31103]],[[63805,63805],"mapped",[32160]],[[63806,63806],"mapped",[33737]],[[63807,63807],"mapped",[37636]],[[63808,63808],"mapped",[40575]],[[63809,63809],"mapped",[35542]],[[63810,63810],"mapped",[22751]],[[63811,63811],"mapped",[24324]],[[63812,63812],"mapped",[31840]],[[63813,63813],"mapped",[32894]],[[63814,63814],"mapped",[29282]],[[63815,63815],"mapped",[30922]],[[63816,63816],"mapped",[36034]],[[63817,63817],"mapped",[38647]],[[63818,63818],"mapped",[22744]],[[63819,63819],"mapped",[23650]],[[63820,63820],"mapped",[27155]],[[63821,63821],"mapped",[28122]],[[63822,63822],"mapped",[28431]],[[63823,63823],"mapped",[32047]],[[63824,63824],"mapped",[32311]],[[63825,63825],"mapped",[38475]],[[63826,63826],"mapped",[21202]],[[63827,63827],"mapped",[32907]],[[63828,63828],"mapped",[20956]],[[63829,63829],"mapped",[20940]],[[63830,63830],"mapped",[31260]],[[63831,63831],"mapped",[32190]],[[63832,63832],"mapped",[33777]],[[63833,63833],"mapped",[38517]],[[63834,63834],"mapped",[35712]],[[63835,63835],"mapped",[25295]],[[63836,63836],"mapped",[27138]],[[63837,63837],"mapped",[35582]],[[63838,63838],"mapped",[20025]],[[63839,63839],"mapped",[23527]],[[63840,63840],"mapped",[24594]],[[63841,63841],"mapped",[29575]],[[63842,63842],"mapped",[30064]],[[63843,63843],"mapped",[21271]],[[63844,63844],"mapped",[30971]],[[63845,63845],"mapped",[20415]],[[63846,63846],"mapped",[24489]],[[63847,63847],"mapped",[19981]],[[63848,63848],"mapped",[27852]],[[63849,63849],"mapped",[25976]],[[63850,63850],"mapped",[32034]],[[63851,63851],"mapped",[21443]],[[63852,63852],"mapped",[22622]],[[63853,63853],"mapped",[30465]],[[63854,63854],"mapped",[33865]],[[63855,63855],"mapped",[35498]],[[63856,63856],"mapped",[27578]],[[63857,63857],"mapped",[36784]],[[63858,63858],"mapped",[27784]],[[63859,63859],"mapped",[25342]],[[63860,63860],"mapped",[33509]],[[63861,63861],"mapped",[25504]],[[63862,63862],"mapped",[30053]],[[63863,63863],"mapped",[20142]],[[63864,63864],"mapped",[20841]],[[63865,63865],"mapped",[20937]],[[63866,63866],"mapped",[26753]],[[63867,63867],"mapped",[31975]],[[63868,63868],"mapped",[33391]],[[63869,63869],"mapped",[35538]],[[63870,63870],"mapped",[37327]],[[63871,63871],"mapped",[21237]],[[63872,63872],"mapped",[21570]],[[63873,63873],"mapped",[22899]],[[63874,63874],"mapped",[24300]],[[63875,63875],"mapped",[26053]],[[63876,63876],"mapped",[28670]],[[63877,63877],"mapped",[31018]],[[63878,63878],"mapped",[38317]],[[63879,63879],"mapped",[39530]],[[63880,63880],"mapped",[40599]],[[63881,63881],"mapped",[40654]],[[63882,63882],"mapped",[21147]],[[63883,63883],"mapped",[26310]],[[63884,63884],"mapped",[27511]],[[63885,63885],"mapped",[36706]],[[63886,63886],"mapped",[24180]],[[63887,63887],"mapped",[24976]],[[63888,63888],"mapped",[25088]],[[63889,63889],"mapped",[25754]],[[63890,63890],"mapped",[28451]],[[63891,63891],"mapped",[29001]],[[63892,63892],"mapped",[29833]],[[63893,63893],"mapped",[31178]],[[63894,63894],"mapped",[32244]],[[63895,63895],"mapped",[32879]],[[63896,63896],"mapped",[36646]],[[63897,63897],"mapped",[34030]],[[63898,63898],"mapped",[36899]],[[63899,63899],"mapped",[37706]],[[63900,63900],"mapped",[21015]],[[63901,63901],"mapped",[21155]],[[63902,63902],"mapped",[21693]],[[63903,63903],"mapped",[28872]],[[63904,63904],"mapped",[35010]],[[63905,63905],"mapped",[35498]],[[63906,63906],"mapped",[24265]],[[63907,63907],"mapped",[24565]],[[63908,63908],"mapped",[25467]],[[63909,63909],"mapped",[27566]],[[63910,63910],"mapped",[31806]],[[63911,63911],"mapped",[29557]],[[63912,63912],"mapped",[20196]],[[63913,63913],"mapped",[22265]],[[63914,63914],"mapped",[23527]],[[63915,63915],"mapped",[23994]],[[63916,63916],"mapped",[24604]],[[63917,63917],"mapped",[29618]],[[63918,63918],"mapped",[29801]],[[63919,63919],"mapped",[32666]],[[63920,63920],"mapped",[32838]],[[63921,63921],"mapped",[37428]],[[63922,63922],"mapped",[38646]],[[63923,63923],"mapped",[38728]],[[63924,63924],"mapped",[38936]],[[63925,63925],"mapped",[20363]],[[63926,63926],"mapped",[31150]],[[63927,63927],"mapped",[37300]],[[63928,63928],"mapped",[38584]],[[63929,63929],"mapped",[24801]],[[63930,63930],"mapped",[20102]],[[63931,63931],"mapped",[20698]],[[63932,63932],"mapped",[23534]],[[63933,63933],"mapped",[23615]],[[63934,63934],"mapped",[26009]],[[63935,63935],"mapped",[27138]],[[63936,63936],"mapped",[29134]],[[63937,63937],"mapped",[30274]],[[63938,63938],"mapped",[34044]],[[63939,63939],"mapped",[36988]],[[63940,63940],"mapped",[40845]],[[63941,63941],"mapped",[26248]],[[63942,63942],"mapped",[38446]],[[63943,63943],"mapped",[21129]],[[63944,63944],"mapped",[26491]],[[63945,63945],"mapped",[26611]],[[63946,63946],"mapped",[27969]],[[63947,63947],"mapped",[28316]],[[63948,63948],"mapped",[29705]],[[63949,63949],"mapped",[30041]],[[63950,63950],"mapped",[30827]],[[63951,63951],"mapped",[32016]],[[63952,63952],"mapped",[39006]],[[63953,63953],"mapped",[20845]],[[63954,63954],"mapped",[25134]],[[63955,63955],"mapped",[38520]],[[63956,63956],"mapped",[20523]],[[63957,63957],"mapped",[23833]],[[63958,63958],"mapped",[28138]],[[63959,63959],"mapped",[36650]],[[63960,63960],"mapped",[24459]],[[63961,63961],"mapped",[24900]],[[63962,63962],"mapped",[26647]],[[63963,63963],"mapped",[29575]],[[63964,63964],"mapped",[38534]],[[63965,63965],"mapped",[21033]],[[63966,63966],"mapped",[21519]],[[63967,63967],"mapped",[23653]],[[63968,63968],"mapped",[26131]],[[63969,63969],"mapped",[26446]],[[63970,63970],"mapped",[26792]],[[63971,63971],"mapped",[27877]],[[63972,63972],"mapped",[29702]],[[63973,63973],"mapped",[30178]],[[63974,63974],"mapped",[32633]],[[63975,63975],"mapped",[35023]],[[63976,63976],"mapped",[35041]],[[63977,63977],"mapped",[37324]],[[63978,63978],"mapped",[38626]],[[63979,63979],"mapped",[21311]],[[63980,63980],"mapped",[28346]],[[63981,63981],"mapped",[21533]],[[63982,63982],"mapped",[29136]],[[63983,63983],"mapped",[29848]],[[63984,63984],"mapped",[34298]],[[63985,63985],"mapped",[38563]],[[63986,63986],"mapped",[40023]],[[63987,63987],"mapped",[40607]],[[63988,63988],"mapped",[26519]],[[63989,63989],"mapped",[28107]],[[63990,63990],"mapped",[33256]],[[63991,63991],"mapped",[31435]],[[63992,63992],"mapped",[31520]],[[63993,63993],"mapped",[31890]],[[63994,63994],"mapped",[29376]],[[63995,63995],"mapped",[28825]],[[63996,63996],"mapped",[35672]],[[63997,63997],"mapped",[20160]],[[63998,63998],"mapped",[33590]],[[63999,63999],"mapped",[21050]],[[64e3,64e3],"mapped",[20999]],[[64001,64001],"mapped",[24230]],[[64002,64002],"mapped",[25299]],[[64003,64003],"mapped",[31958]],[[64004,64004],"mapped",[23429]],[[64005,64005],"mapped",[27934]],[[64006,64006],"mapped",[26292]],[[64007,64007],"mapped",[36667]],[[64008,64008],"mapped",[34892]],[[64009,64009],"mapped",[38477]],[[64010,64010],"mapped",[35211]],[[64011,64011],"mapped",[24275]],[[64012,64012],"mapped",[20800]],[[64013,64013],"mapped",[21952]],[[64014,64015],"valid"],[[64016,64016],"mapped",[22618]],[[64017,64017],"valid"],[[64018,64018],"mapped",[26228]],[[64019,64020],"valid"],[[64021,64021],"mapped",[20958]],[[64022,64022],"mapped",[29482]],[[64023,64023],"mapped",[30410]],[[64024,64024],"mapped",[31036]],[[64025,64025],"mapped",[31070]],[[64026,64026],"mapped",[31077]],[[64027,64027],"mapped",[31119]],[[64028,64028],"mapped",[38742]],[[64029,64029],"mapped",[31934]],[[64030,64030],"mapped",[32701]],[[64031,64031],"valid"],[[64032,64032],"mapped",[34322]],[[64033,64033],"valid"],[[64034,64034],"mapped",[35576]],[[64035,64036],"valid"],[[64037,64037],"mapped",[36920]],[[64038,64038],"mapped",[37117]],[[64039,64041],"valid"],[[64042,64042],"mapped",[39151]],[[64043,64043],"mapped",[39164]],[[64044,64044],"mapped",[39208]],[[64045,64045],"mapped",[40372]],[[64046,64046],"mapped",[37086]],[[64047,64047],"mapped",[38583]],[[64048,64048],"mapped",[20398]],[[64049,64049],"mapped",[20711]],[[64050,64050],"mapped",[20813]],[[64051,64051],"mapped",[21193]],[[64052,64052],"mapped",[21220]],[[64053,64053],"mapped",[21329]],[[64054,64054],"mapped",[21917]],[[64055,64055],"mapped",[22022]],[[64056,64056],"mapped",[22120]],[[64057,64057],"mapped",[22592]],[[64058,64058],"mapped",[22696]],[[64059,64059],"mapped",[23652]],[[64060,64060],"mapped",[23662]],[[64061,64061],"mapped",[24724]],[[64062,64062],"mapped",[24936]],[[64063,64063],"mapped",[24974]],[[64064,64064],"mapped",[25074]],[[64065,64065],"mapped",[25935]],[[64066,64066],"mapped",[26082]],[[64067,64067],"mapped",[26257]],[[64068,64068],"mapped",[26757]],[[64069,64069],"mapped",[28023]],[[64070,64070],"mapped",[28186]],[[64071,64071],"mapped",[28450]],[[64072,64072],"mapped",[29038]],[[64073,64073],"mapped",[29227]],[[64074,64074],"mapped",[29730]],[[64075,64075],"mapped",[30865]],[[64076,64076],"mapped",[31038]],[[64077,64077],"mapped",[31049]],[[64078,64078],"mapped",[31048]],[[64079,64079],"mapped",[31056]],[[64080,64080],"mapped",[31062]],[[64081,64081],"mapped",[31069]],[[64082,64082],"mapped",[31117]],[[64083,64083],"mapped",[31118]],[[64084,64084],"mapped",[31296]],[[64085,64085],"mapped",[31361]],[[64086,64086],"mapped",[31680]],[[64087,64087],"mapped",[32244]],[[64088,64088],"mapped",[32265]],[[64089,64089],"mapped",[32321]],[[64090,64090],"mapped",[32626]],[[64091,64091],"mapped",[32773]],[[64092,64092],"mapped",[33261]],[[64093,64094],"mapped",[33401]],[[64095,64095],"mapped",[33879]],[[64096,64096],"mapped",[35088]],[[64097,64097],"mapped",[35222]],[[64098,64098],"mapped",[35585]],[[64099,64099],"mapped",[35641]],[[64100,64100],"mapped",[36051]],[[64101,64101],"mapped",[36104]],[[64102,64102],"mapped",[36790]],[[64103,64103],"mapped",[36920]],[[64104,64104],"mapped",[38627]],[[64105,64105],"mapped",[38911]],[[64106,64106],"mapped",[38971]],[[64107,64107],"mapped",[24693]],[[64108,64108],"mapped",[148206]],[[64109,64109],"mapped",[33304]],[[64110,64111],"disallowed"],[[64112,64112],"mapped",[20006]],[[64113,64113],"mapped",[20917]],[[64114,64114],"mapped",[20840]],[[64115,64115],"mapped",[20352]],[[64116,64116],"mapped",[20805]],[[64117,64117],"mapped",[20864]],[[64118,64118],"mapped",[21191]],[[64119,64119],"mapped",[21242]],[[64120,64120],"mapped",[21917]],[[64121,64121],"mapped",[21845]],[[64122,64122],"mapped",[21913]],[[64123,64123],"mapped",[21986]],[[64124,64124],"mapped",[22618]],[[64125,64125],"mapped",[22707]],[[64126,64126],"mapped",[22852]],[[64127,64127],"mapped",[22868]],[[64128,64128],"mapped",[23138]],[[64129,64129],"mapped",[23336]],[[64130,64130],"mapped",[24274]],[[64131,64131],"mapped",[24281]],[[64132,64132],"mapped",[24425]],[[64133,64133],"mapped",[24493]],[[64134,64134],"mapped",[24792]],[[64135,64135],"mapped",[24910]],[[64136,64136],"mapped",[24840]],[[64137,64137],"mapped",[24974]],[[64138,64138],"mapped",[24928]],[[64139,64139],"mapped",[25074]],[[64140,64140],"mapped",[25140]],[[64141,64141],"mapped",[25540]],[[64142,64142],"mapped",[25628]],[[64143,64143],"mapped",[25682]],[[64144,64144],"mapped",[25942]],[[64145,64145],"mapped",[26228]],[[64146,64146],"mapped",[26391]],[[64147,64147],"mapped",[26395]],[[64148,64148],"mapped",[26454]],[[64149,64149],"mapped",[27513]],[[64150,64150],"mapped",[27578]],[[64151,64151],"mapped",[27969]],[[64152,64152],"mapped",[28379]],[[64153,64153],"mapped",[28363]],[[64154,64154],"mapped",[28450]],[[64155,64155],"mapped",[28702]],[[64156,64156],"mapped",[29038]],[[64157,64157],"mapped",[30631]],[[64158,64158],"mapped",[29237]],[[64159,64159],"mapped",[29359]],[[64160,64160],"mapped",[29482]],[[64161,64161],"mapped",[29809]],[[64162,64162],"mapped",[29958]],[[64163,64163],"mapped",[30011]],[[64164,64164],"mapped",[30237]],[[64165,64165],"mapped",[30239]],[[64166,64166],"mapped",[30410]],[[64167,64167],"mapped",[30427]],[[64168,64168],"mapped",[30452]],[[64169,64169],"mapped",[30538]],[[64170,64170],"mapped",[30528]],[[64171,64171],"mapped",[30924]],[[64172,64172],"mapped",[31409]],[[64173,64173],"mapped",[31680]],[[64174,64174],"mapped",[31867]],[[64175,64175],"mapped",[32091]],[[64176,64176],"mapped",[32244]],[[64177,64177],"mapped",[32574]],[[64178,64178],"mapped",[32773]],[[64179,64179],"mapped",[33618]],[[64180,64180],"mapped",[33775]],[[64181,64181],"mapped",[34681]],[[64182,64182],"mapped",[35137]],[[64183,64183],"mapped",[35206]],[[64184,64184],"mapped",[35222]],[[64185,64185],"mapped",[35519]],[[64186,64186],"mapped",[35576]],[[64187,64187],"mapped",[35531]],[[64188,64188],"mapped",[35585]],[[64189,64189],"mapped",[35582]],[[64190,64190],"mapped",[35565]],[[64191,64191],"mapped",[35641]],[[64192,64192],"mapped",[35722]],[[64193,64193],"mapped",[36104]],[[64194,64194],"mapped",[36664]],[[64195,64195],"mapped",[36978]],[[64196,64196],"mapped",[37273]],[[64197,64197],"mapped",[37494]],[[64198,64198],"mapped",[38524]],[[64199,64199],"mapped",[38627]],[[64200,64200],"mapped",[38742]],[[64201,64201],"mapped",[38875]],[[64202,64202],"mapped",[38911]],[[64203,64203],"mapped",[38923]],[[64204,64204],"mapped",[38971]],[[64205,64205],"mapped",[39698]],[[64206,64206],"mapped",[40860]],[[64207,64207],"mapped",[141386]],[[64208,64208],"mapped",[141380]],[[64209,64209],"mapped",[144341]],[[64210,64210],"mapped",[15261]],[[64211,64211],"mapped",[16408]],[[64212,64212],"mapped",[16441]],[[64213,64213],"mapped",[152137]],[[64214,64214],"mapped",[154832]],[[64215,64215],"mapped",[163539]],[[64216,64216],"mapped",[40771]],[[64217,64217],"mapped",[40846]],[[64218,64255],"disallowed"],[[64256,64256],"mapped",[102,102]],[[64257,64257],"mapped",[102,105]],[[64258,64258],"mapped",[102,108]],[[64259,64259],"mapped",[102,102,105]],[[64260,64260],"mapped",[102,102,108]],[[64261,64262],"mapped",[115,116]],[[64263,64274],"disallowed"],[[64275,64275],"mapped",[1396,1398]],[[64276,64276],"mapped",[1396,1381]],[[64277,64277],"mapped",[1396,1387]],[[64278,64278],"mapped",[1406,1398]],[[64279,64279],"mapped",[1396,1389]],[[64280,64284],"disallowed"],[[64285,64285],"mapped",[1497,1460]],[[64286,64286],"valid"],[[64287,64287],"mapped",[1522,1463]],[[64288,64288],"mapped",[1506]],[[64289,64289],"mapped",[1488]],[[64290,64290],"mapped",[1491]],[[64291,64291],"mapped",[1492]],[[64292,64292],"mapped",[1499]],[[64293,64293],"mapped",[1500]],[[64294,64294],"mapped",[1501]],[[64295,64295],"mapped",[1512]],[[64296,64296],"mapped",[1514]],[[64297,64297],"disallowed_STD3_mapped",[43]],[[64298,64298],"mapped",[1513,1473]],[[64299,64299],"mapped",[1513,1474]],[[64300,64300],"mapped",[1513,1468,1473]],[[64301,64301],"mapped",[1513,1468,1474]],[[64302,64302],"mapped",[1488,1463]],[[64303,64303],"mapped",[1488,1464]],[[64304,64304],"mapped",[1488,1468]],[[64305,64305],"mapped",[1489,1468]],[[64306,64306],"mapped",[1490,1468]],[[64307,64307],"mapped",[1491,1468]],[[64308,64308],"mapped",[1492,1468]],[[64309,64309],"mapped",[1493,1468]],[[64310,64310],"mapped",[1494,1468]],[[64311,64311],"disallowed"],[[64312,64312],"mapped",[1496,1468]],[[64313,64313],"mapped",[1497,1468]],[[64314,64314],"mapped",[1498,1468]],[[64315,64315],"mapped",[1499,1468]],[[64316,64316],"mapped",[1500,1468]],[[64317,64317],"disallowed"],[[64318,64318],"mapped",[1502,1468]],[[64319,64319],"disallowed"],[[64320,64320],"mapped",[1504,1468]],[[64321,64321],"mapped",[1505,1468]],[[64322,64322],"disallowed"],[[64323,64323],"mapped",[1507,1468]],[[64324,64324],"mapped",[1508,1468]],[[64325,64325],"disallowed"],[[64326,64326],"mapped",[1510,1468]],[[64327,64327],"mapped",[1511,1468]],[[64328,64328],"mapped",[1512,1468]],[[64329,64329],"mapped",[1513,1468]],[[64330,64330],"mapped",[1514,1468]],[[64331,64331],"mapped",[1493,1465]],[[64332,64332],"mapped",[1489,1471]],[[64333,64333],"mapped",[1499,1471]],[[64334,64334],"mapped",[1508,1471]],[[64335,64335],"mapped",[1488,1500]],[[64336,64337],"mapped",[1649]],[[64338,64341],"mapped",[1659]],[[64342,64345],"mapped",[1662]],[[64346,64349],"mapped",[1664]],[[64350,64353],"mapped",[1658]],[[64354,64357],"mapped",[1663]],[[64358,64361],"mapped",[1657]],[[64362,64365],"mapped",[1700]],[[64366,64369],"mapped",[1702]],[[64370,64373],"mapped",[1668]],[[64374,64377],"mapped",[1667]],[[64378,64381],"mapped",[1670]],[[64382,64385],"mapped",[1671]],[[64386,64387],"mapped",[1677]],[[64388,64389],"mapped",[1676]],[[64390,64391],"mapped",[1678]],[[64392,64393],"mapped",[1672]],[[64394,64395],"mapped",[1688]],[[64396,64397],"mapped",[1681]],[[64398,64401],"mapped",[1705]],[[64402,64405],"mapped",[1711]],[[64406,64409],"mapped",[1715]],[[64410,64413],"mapped",[1713]],[[64414,64415],"mapped",[1722]],[[64416,64419],"mapped",[1723]],[[64420,64421],"mapped",[1728]],[[64422,64425],"mapped",[1729]],[[64426,64429],"mapped",[1726]],[[64430,64431],"mapped",[1746]],[[64432,64433],"mapped",[1747]],[[64434,64449],"valid",[],"NV8"],[[64450,64466],"disallowed"],[[64467,64470],"mapped",[1709]],[[64471,64472],"mapped",[1735]],[[64473,64474],"mapped",[1734]],[[64475,64476],"mapped",[1736]],[[64477,64477],"mapped",[1735,1652]],[[64478,64479],"mapped",[1739]],[[64480,64481],"mapped",[1733]],[[64482,64483],"mapped",[1737]],[[64484,64487],"mapped",[1744]],[[64488,64489],"mapped",[1609]],[[64490,64491],"mapped",[1574,1575]],[[64492,64493],"mapped",[1574,1749]],[[64494,64495],"mapped",[1574,1608]],[[64496,64497],"mapped",[1574,1735]],[[64498,64499],"mapped",[1574,1734]],[[64500,64501],"mapped",[1574,1736]],[[64502,64504],"mapped",[1574,1744]],[[64505,64507],"mapped",[1574,1609]],[[64508,64511],"mapped",[1740]],[[64512,64512],"mapped",[1574,1580]],[[64513,64513],"mapped",[1574,1581]],[[64514,64514],"mapped",[1574,1605]],[[64515,64515],"mapped",[1574,1609]],[[64516,64516],"mapped",[1574,1610]],[[64517,64517],"mapped",[1576,1580]],[[64518,64518],"mapped",[1576,1581]],[[64519,64519],"mapped",[1576,1582]],[[64520,64520],"mapped",[1576,1605]],[[64521,64521],"mapped",[1576,1609]],[[64522,64522],"mapped",[1576,1610]],[[64523,64523],"mapped",[1578,1580]],[[64524,64524],"mapped",[1578,1581]],[[64525,64525],"mapped",[1578,1582]],[[64526,64526],"mapped",[1578,1605]],[[64527,64527],"mapped",[1578,1609]],[[64528,64528],"mapped",[1578,1610]],[[64529,64529],"mapped",[1579,1580]],[[64530,64530],"mapped",[1579,1605]],[[64531,64531],"mapped",[1579,1609]],[[64532,64532],"mapped",[1579,1610]],[[64533,64533],"mapped",[1580,1581]],[[64534,64534],"mapped",[1580,1605]],[[64535,64535],"mapped",[1581,1580]],[[64536,64536],"mapped",[1581,1605]],[[64537,64537],"mapped",[1582,1580]],[[64538,64538],"mapped",[1582,1581]],[[64539,64539],"mapped",[1582,1605]],[[64540,64540],"mapped",[1587,1580]],[[64541,64541],"mapped",[1587,1581]],[[64542,64542],"mapped",[1587,1582]],[[64543,64543],"mapped",[1587,1605]],[[64544,64544],"mapped",[1589,1581]],[[64545,64545],"mapped",[1589,1605]],[[64546,64546],"mapped",[1590,1580]],[[64547,64547],"mapped",[1590,1581]],[[64548,64548],"mapped",[1590,1582]],[[64549,64549],"mapped",[1590,1605]],[[64550,64550],"mapped",[1591,1581]],[[64551,64551],"mapped",[1591,1605]],[[64552,64552],"mapped",[1592,1605]],[[64553,64553],"mapped",[1593,1580]],[[64554,64554],"mapped",[1593,1605]],[[64555,64555],"mapped",[1594,1580]],[[64556,64556],"mapped",[1594,1605]],[[64557,64557],"mapped",[1601,1580]],[[64558,64558],"mapped",[1601,1581]],[[64559,64559],"mapped",[1601,1582]],[[64560,64560],"mapped",[1601,1605]],[[64561,64561],"mapped",[1601,1609]],[[64562,64562],"mapped",[1601,1610]],[[64563,64563],"mapped",[1602,1581]],[[64564,64564],"mapped",[1602,1605]],[[64565,64565],"mapped",[1602,1609]],[[64566,64566],"mapped",[1602,1610]],[[64567,64567],"mapped",[1603,1575]],[[64568,64568],"mapped",[1603,1580]],[[64569,64569],"mapped",[1603,1581]],[[64570,64570],"mapped",[1603,1582]],[[64571,64571],"mapped",[1603,1604]],[[64572,64572],"mapped",[1603,1605]],[[64573,64573],"mapped",[1603,1609]],[[64574,64574],"mapped",[1603,1610]],[[64575,64575],"mapped",[1604,1580]],[[64576,64576],"mapped",[1604,1581]],[[64577,64577],"mapped",[1604,1582]],[[64578,64578],"mapped",[1604,1605]],[[64579,64579],"mapped",[1604,1609]],[[64580,64580],"mapped",[1604,1610]],[[64581,64581],"mapped",[1605,1580]],[[64582,64582],"mapped",[1605,1581]],[[64583,64583],"mapped",[1605,1582]],[[64584,64584],"mapped",[1605,1605]],[[64585,64585],"mapped",[1605,1609]],[[64586,64586],"mapped",[1605,1610]],[[64587,64587],"mapped",[1606,1580]],[[64588,64588],"mapped",[1606,1581]],[[64589,64589],"mapped",[1606,1582]],[[64590,64590],"mapped",[1606,1605]],[[64591,64591],"mapped",[1606,1609]],[[64592,64592],"mapped",[1606,1610]],[[64593,64593],"mapped",[1607,1580]],[[64594,64594],"mapped",[1607,1605]],[[64595,64595],"mapped",[1607,1609]],[[64596,64596],"mapped",[1607,1610]],[[64597,64597],"mapped",[1610,1580]],[[64598,64598],"mapped",[1610,1581]],[[64599,64599],"mapped",[1610,1582]],[[64600,64600],"mapped",[1610,1605]],[[64601,64601],"mapped",[1610,1609]],[[64602,64602],"mapped",[1610,1610]],[[64603,64603],"mapped",[1584,1648]],[[64604,64604],"mapped",[1585,1648]],[[64605,64605],"mapped",[1609,1648]],[[64606,64606],"disallowed_STD3_mapped",[32,1612,1617]],[[64607,64607],"disallowed_STD3_mapped",[32,1613,1617]],[[64608,64608],"disallowed_STD3_mapped",[32,1614,1617]],[[64609,64609],"disallowed_STD3_mapped",[32,1615,1617]],[[64610,64610],"disallowed_STD3_mapped",[32,1616,1617]],[[64611,64611],"disallowed_STD3_mapped",[32,1617,1648]],[[64612,64612],"mapped",[1574,1585]],[[64613,64613],"mapped",[1574,1586]],[[64614,64614],"mapped",[1574,1605]],[[64615,64615],"mapped",[1574,1606]],[[64616,64616],"mapped",[1574,1609]],[[64617,64617],"mapped",[1574,1610]],[[64618,64618],"mapped",[1576,1585]],[[64619,64619],"mapped",[1576,1586]],[[64620,64620],"mapped",[1576,1605]],[[64621,64621],"mapped",[1576,1606]],[[64622,64622],"mapped",[1576,1609]],[[64623,64623],"mapped",[1576,1610]],[[64624,64624],"mapped",[1578,1585]],[[64625,64625],"mapped",[1578,1586]],[[64626,64626],"mapped",[1578,1605]],[[64627,64627],"mapped",[1578,1606]],[[64628,64628],"mapped",[1578,1609]],[[64629,64629],"mapped",[1578,1610]],[[64630,64630],"mapped",[1579,1585]],[[64631,64631],"mapped",[1579,1586]],[[64632,64632],"mapped",[1579,1605]],[[64633,64633],"mapped",[1579,1606]],[[64634,64634],"mapped",[1579,1609]],[[64635,64635],"mapped",[1579,1610]],[[64636,64636],"mapped",[1601,1609]],[[64637,64637],"mapped",[1601,1610]],[[64638,64638],"mapped",[1602,1609]],[[64639,64639],"mapped",[1602,1610]],[[64640,64640],"mapped",[1603,1575]],[[64641,64641],"mapped",[1603,1604]],[[64642,64642],"mapped",[1603,1605]],[[64643,64643],"mapped",[1603,1609]],[[64644,64644],"mapped",[1603,1610]],[[64645,64645],"mapped",[1604,1605]],[[64646,64646],"mapped",[1604,1609]],[[64647,64647],"mapped",[1604,1610]],[[64648,64648],"mapped",[1605,1575]],[[64649,64649],"mapped",[1605,1605]],[[64650,64650],"mapped",[1606,1585]],[[64651,64651],"mapped",[1606,1586]],[[64652,64652],"mapped",[1606,1605]],[[64653,64653],"mapped",[1606,1606]],[[64654,64654],"mapped",[1606,1609]],[[64655,64655],"mapped",[1606,1610]],[[64656,64656],"mapped",[1609,1648]],[[64657,64657],"mapped",[1610,1585]],[[64658,64658],"mapped",[1610,1586]],[[64659,64659],"mapped",[1610,1605]],[[64660,64660],"mapped",[1610,1606]],[[64661,64661],"mapped",[1610,1609]],[[64662,64662],"mapped",[1610,1610]],[[64663,64663],"mapped",[1574,1580]],[[64664,64664],"mapped",[1574,1581]],[[64665,64665],"mapped",[1574,1582]],[[64666,64666],"mapped",[1574,1605]],[[64667,64667],"mapped",[1574,1607]],[[64668,64668],"mapped",[1576,1580]],[[64669,64669],"mapped",[1576,1581]],[[64670,64670],"mapped",[1576,1582]],[[64671,64671],"mapped",[1576,1605]],[[64672,64672],"mapped",[1576,1607]],[[64673,64673],"mapped",[1578,1580]],[[64674,64674],"mapped",[1578,1581]],[[64675,64675],"mapped",[1578,1582]],[[64676,64676],"mapped",[1578,1605]],[[64677,64677],"mapped",[1578,1607]],[[64678,64678],"mapped",[1579,1605]],[[64679,64679],"mapped",[1580,1581]],[[64680,64680],"mapped",[1580,1605]],[[64681,64681],"mapped",[1581,1580]],[[64682,64682],"mapped",[1581,1605]],[[64683,64683],"mapped",[1582,1580]],[[64684,64684],"mapped",[1582,1605]],[[64685,64685],"mapped",[1587,1580]],[[64686,64686],"mapped",[1587,1581]],[[64687,64687],"mapped",[1587,1582]],[[64688,64688],"mapped",[1587,1605]],[[64689,64689],"mapped",[1589,1581]],[[64690,64690],"mapped",[1589,1582]],[[64691,64691],"mapped",[1589,1605]],[[64692,64692],"mapped",[1590,1580]],[[64693,64693],"mapped",[1590,1581]],[[64694,64694],"mapped",[1590,1582]],[[64695,64695],"mapped",[1590,1605]],[[64696,64696],"mapped",[1591,1581]],[[64697,64697],"mapped",[1592,1605]],[[64698,64698],"mapped",[1593,1580]],[[64699,64699],"mapped",[1593,1605]],[[64700,64700],"mapped",[1594,1580]],[[64701,64701],"mapped",[1594,1605]],[[64702,64702],"mapped",[1601,1580]],[[64703,64703],"mapped",[1601,1581]],[[64704,64704],"mapped",[1601,1582]],[[64705,64705],"mapped",[1601,1605]],[[64706,64706],"mapped",[1602,1581]],[[64707,64707],"mapped",[1602,1605]],[[64708,64708],"mapped",[1603,1580]],[[64709,64709],"mapped",[1603,1581]],[[64710,64710],"mapped",[1603,1582]],[[64711,64711],"mapped",[1603,1604]],[[64712,64712],"mapped",[1603,1605]],[[64713,64713],"mapped",[1604,1580]],[[64714,64714],"mapped",[1604,1581]],[[64715,64715],"mapped",[1604,1582]],[[64716,64716],"mapped",[1604,1605]],[[64717,64717],"mapped",[1604,1607]],[[64718,64718],"mapped",[1605,1580]],[[64719,64719],"mapped",[1605,1581]],[[64720,64720],"mapped",[1605,1582]],[[64721,64721],"mapped",[1605,1605]],[[64722,64722],"mapped",[1606,1580]],[[64723,64723],"mapped",[1606,1581]],[[64724,64724],"mapped",[1606,1582]],[[64725,64725],"mapped",[1606,1605]],[[64726,64726],"mapped",[1606,1607]],[[64727,64727],"mapped",[1607,1580]],[[64728,64728],"mapped",[1607,1605]],[[64729,64729],"mapped",[1607,1648]],[[64730,64730],"mapped",[1610,1580]],[[64731,64731],"mapped",[1610,1581]],[[64732,64732],"mapped",[1610,1582]],[[64733,64733],"mapped",[1610,1605]],[[64734,64734],"mapped",[1610,1607]],[[64735,64735],"mapped",[1574,1605]],[[64736,64736],"mapped",[1574,1607]],[[64737,64737],"mapped",[1576,1605]],[[64738,64738],"mapped",[1576,1607]],[[64739,64739],"mapped",[1578,1605]],[[64740,64740],"mapped",[1578,1607]],[[64741,64741],"mapped",[1579,1605]],[[64742,64742],"mapped",[1579,1607]],[[64743,64743],"mapped",[1587,1605]],[[64744,64744],"mapped",[1587,1607]],[[64745,64745],"mapped",[1588,1605]],[[64746,64746],"mapped",[1588,1607]],[[64747,64747],"mapped",[1603,1604]],[[64748,64748],"mapped",[1603,1605]],[[64749,64749],"mapped",[1604,1605]],[[64750,64750],"mapped",[1606,1605]],[[64751,64751],"mapped",[1606,1607]],[[64752,64752],"mapped",[1610,1605]],[[64753,64753],"mapped",[1610,1607]],[[64754,64754],"mapped",[1600,1614,1617]],[[64755,64755],"mapped",[1600,1615,1617]],[[64756,64756],"mapped",[1600,1616,1617]],[[64757,64757],"mapped",[1591,1609]],[[64758,64758],"mapped",[1591,1610]],[[64759,64759],"mapped",[1593,1609]],[[64760,64760],"mapped",[1593,1610]],[[64761,64761],"mapped",[1594,1609]],[[64762,64762],"mapped",[1594,1610]],[[64763,64763],"mapped",[1587,1609]],[[64764,64764],"mapped",[1587,1610]],[[64765,64765],"mapped",[1588,1609]],[[64766,64766],"mapped",[1588,1610]],[[64767,64767],"mapped",[1581,1609]],[[64768,64768],"mapped",[1581,1610]],[[64769,64769],"mapped",[1580,1609]],[[64770,64770],"mapped",[1580,1610]],[[64771,64771],"mapped",[1582,1609]],[[64772,64772],"mapped",[1582,1610]],[[64773,64773],"mapped",[1589,1609]],[[64774,64774],"mapped",[1589,1610]],[[64775,64775],"mapped",[1590,1609]],[[64776,64776],"mapped",[1590,1610]],[[64777,64777],"mapped",[1588,1580]],[[64778,64778],"mapped",[1588,1581]],[[64779,64779],"mapped",[1588,1582]],[[64780,64780],"mapped",[1588,1605]],[[64781,64781],"mapped",[1588,1585]],[[64782,64782],"mapped",[1587,1585]],[[64783,64783],"mapped",[1589,1585]],[[64784,64784],"mapped",[1590,1585]],[[64785,64785],"mapped",[1591,1609]],[[64786,64786],"mapped",[1591,1610]],[[64787,64787],"mapped",[1593,1609]],[[64788,64788],"mapped",[1593,1610]],[[64789,64789],"mapped",[1594,1609]],[[64790,64790],"mapped",[1594,1610]],[[64791,64791],"mapped",[1587,1609]],[[64792,64792],"mapped",[1587,1610]],[[64793,64793],"mapped",[1588,1609]],[[64794,64794],"mapped",[1588,1610]],[[64795,64795],"mapped",[1581,1609]],[[64796,64796],"mapped",[1581,1610]],[[64797,64797],"mapped",[1580,1609]],[[64798,64798],"mapped",[1580,1610]],[[64799,64799],"mapped",[1582,1609]],[[64800,64800],"mapped",[1582,1610]],[[64801,64801],"mapped",[1589,1609]],[[64802,64802],"mapped",[1589,1610]],[[64803,64803],"mapped",[1590,1609]],[[64804,64804],"mapped",[1590,1610]],[[64805,64805],"mapped",[1588,1580]],[[64806,64806],"mapped",[1588,1581]],[[64807,64807],"mapped",[1588,1582]],[[64808,64808],"mapped",[1588,1605]],[[64809,64809],"mapped",[1588,1585]],[[64810,64810],"mapped",[1587,1585]],[[64811,64811],"mapped",[1589,1585]],[[64812,64812],"mapped",[1590,1585]],[[64813,64813],"mapped",[1588,1580]],[[64814,64814],"mapped",[1588,1581]],[[64815,64815],"mapped",[1588,1582]],[[64816,64816],"mapped",[1588,1605]],[[64817,64817],"mapped",[1587,1607]],[[64818,64818],"mapped",[1588,1607]],[[64819,64819],"mapped",[1591,1605]],[[64820,64820],"mapped",[1587,1580]],[[64821,64821],"mapped",[1587,1581]],[[64822,64822],"mapped",[1587,1582]],[[64823,64823],"mapped",[1588,1580]],[[64824,64824],"mapped",[1588,1581]],[[64825,64825],"mapped",[1588,1582]],[[64826,64826],"mapped",[1591,1605]],[[64827,64827],"mapped",[1592,1605]],[[64828,64829],"mapped",[1575,1611]],[[64830,64831],"valid",[],"NV8"],[[64832,64847],"disallowed"],[[64848,64848],"mapped",[1578,1580,1605]],[[64849,64850],"mapped",[1578,1581,1580]],[[64851,64851],"mapped",[1578,1581,1605]],[[64852,64852],"mapped",[1578,1582,1605]],[[64853,64853],"mapped",[1578,1605,1580]],[[64854,64854],"mapped",[1578,1605,1581]],[[64855,64855],"mapped",[1578,1605,1582]],[[64856,64857],"mapped",[1580,1605,1581]],[[64858,64858],"mapped",[1581,1605,1610]],[[64859,64859],"mapped",[1581,1605,1609]],[[64860,64860],"mapped",[1587,1581,1580]],[[64861,64861],"mapped",[1587,1580,1581]],[[64862,64862],"mapped",[1587,1580,1609]],[[64863,64864],"mapped",[1587,1605,1581]],[[64865,64865],"mapped",[1587,1605,1580]],[[64866,64867],"mapped",[1587,1605,1605]],[[64868,64869],"mapped",[1589,1581,1581]],[[64870,64870],"mapped",[1589,1605,1605]],[[64871,64872],"mapped",[1588,1581,1605]],[[64873,64873],"mapped",[1588,1580,1610]],[[64874,64875],"mapped",[1588,1605,1582]],[[64876,64877],"mapped",[1588,1605,1605]],[[64878,64878],"mapped",[1590,1581,1609]],[[64879,64880],"mapped",[1590,1582,1605]],[[64881,64882],"mapped",[1591,1605,1581]],[[64883,64883],"mapped",[1591,1605,1605]],[[64884,64884],"mapped",[1591,1605,1610]],[[64885,64885],"mapped",[1593,1580,1605]],[[64886,64887],"mapped",[1593,1605,1605]],[[64888,64888],"mapped",[1593,1605,1609]],[[64889,64889],"mapped",[1594,1605,1605]],[[64890,64890],"mapped",[1594,1605,1610]],[[64891,64891],"mapped",[1594,1605,1609]],[[64892,64893],"mapped",[1601,1582,1605]],[[64894,64894],"mapped",[1602,1605,1581]],[[64895,64895],"mapped",[1602,1605,1605]],[[64896,64896],"mapped",[1604,1581,1605]],[[64897,64897],"mapped",[1604,1581,1610]],[[64898,64898],"mapped",[1604,1581,1609]],[[64899,64900],"mapped",[1604,1580,1580]],[[64901,64902],"mapped",[1604,1582,1605]],[[64903,64904],"mapped",[1604,1605,1581]],[[64905,64905],"mapped",[1605,1581,1580]],[[64906,64906],"mapped",[1605,1581,1605]],[[64907,64907],"mapped",[1605,1581,1610]],[[64908,64908],"mapped",[1605,1580,1581]],[[64909,64909],"mapped",[1605,1580,1605]],[[64910,64910],"mapped",[1605,1582,1580]],[[64911,64911],"mapped",[1605,1582,1605]],[[64912,64913],"disallowed"],[[64914,64914],"mapped",[1605,1580,1582]],[[64915,64915],"mapped",[1607,1605,1580]],[[64916,64916],"mapped",[1607,1605,1605]],[[64917,64917],"mapped",[1606,1581,1605]],[[64918,64918],"mapped",[1606,1581,1609]],[[64919,64920],"mapped",[1606,1580,1605]],[[64921,64921],"mapped",[1606,1580,1609]],[[64922,64922],"mapped",[1606,1605,1610]],[[64923,64923],"mapped",[1606,1605,1609]],[[64924,64925],"mapped",[1610,1605,1605]],[[64926,64926],"mapped",[1576,1582,1610]],[[64927,64927],"mapped",[1578,1580,1610]],[[64928,64928],"mapped",[1578,1580,1609]],[[64929,64929],"mapped",[1578,1582,1610]],[[64930,64930],"mapped",[1578,1582,1609]],[[64931,64931],"mapped",[1578,1605,1610]],[[64932,64932],"mapped",[1578,1605,1609]],[[64933,64933],"mapped",[1580,1605,1610]],[[64934,64934],"mapped",[1580,1581,1609]],[[64935,64935],"mapped",[1580,1605,1609]],[[64936,64936],"mapped",[1587,1582,1609]],[[64937,64937],"mapped",[1589,1581,1610]],[[64938,64938],"mapped",[1588,1581,1610]],[[64939,64939],"mapped",[1590,1581,1610]],[[64940,64940],"mapped",[1604,1580,1610]],[[64941,64941],"mapped",[1604,1605,1610]],[[64942,64942],"mapped",[1610,1581,1610]],[[64943,64943],"mapped",[1610,1580,1610]],[[64944,64944],"mapped",[1610,1605,1610]],[[64945,64945],"mapped",[1605,1605,1610]],[[64946,64946],"mapped",[1602,1605,1610]],[[64947,64947],"mapped",[1606,1581,1610]],[[64948,64948],"mapped",[1602,1605,1581]],[[64949,64949],"mapped",[1604,1581,1605]],[[64950,64950],"mapped",[1593,1605,1610]],[[64951,64951],"mapped",[1603,1605,1610]],[[64952,64952],"mapped",[1606,1580,1581]],[[64953,64953],"mapped",[1605,1582,1610]],[[64954,64954],"mapped",[1604,1580,1605]],[[64955,64955],"mapped",[1603,1605,1605]],[[64956,64956],"mapped",[1604,1580,1605]],[[64957,64957],"mapped",[1606,1580,1581]],[[64958,64958],"mapped",[1580,1581,1610]],[[64959,64959],"mapped",[1581,1580,1610]],[[64960,64960],"mapped",[1605,1580,1610]],[[64961,64961],"mapped",[1601,1605,1610]],[[64962,64962],"mapped",[1576,1581,1610]],[[64963,64963],"mapped",[1603,1605,1605]],[[64964,64964],"mapped",[1593,1580,1605]],[[64965,64965],"mapped",[1589,1605,1605]],[[64966,64966],"mapped",[1587,1582,1610]],[[64967,64967],"mapped",[1606,1580,1610]],[[64968,64975],"disallowed"],[[64976,65007],"disallowed"],[[65008,65008],"mapped",[1589,1604,1746]],[[65009,65009],"mapped",[1602,1604,1746]],[[65010,65010],"mapped",[1575,1604,1604,1607]],[[65011,65011],"mapped",[1575,1603,1576,1585]],[[65012,65012],"mapped",[1605,1581,1605,1583]],[[65013,65013],"mapped",[1589,1604,1593,1605]],[[65014,65014],"mapped",[1585,1587,1608,1604]],[[65015,65015],"mapped",[1593,1604,1610,1607]],[[65016,65016],"mapped",[1608,1587,1604,1605]],[[65017,65017],"mapped",[1589,1604,1609]],[[65018,65018],"disallowed_STD3_mapped",[1589,1604,1609,32,1575,1604,1604,1607,32,1593,1604,1610,1607,32,1608,1587,1604,1605]],[[65019,65019],"disallowed_STD3_mapped",[1580,1604,32,1580,1604,1575,1604,1607]],[[65020,65020],"mapped",[1585,1740,1575,1604]],[[65021,65021],"valid",[],"NV8"],[[65022,65023],"disallowed"],[[65024,65039],"ignored"],[[65040,65040],"disallowed_STD3_mapped",[44]],[[65041,65041],"mapped",[12289]],[[65042,65042],"disallowed"],[[65043,65043],"disallowed_STD3_mapped",[58]],[[65044,65044],"disallowed_STD3_mapped",[59]],[[65045,65045],"disallowed_STD3_mapped",[33]],[[65046,65046],"disallowed_STD3_mapped",[63]],[[65047,65047],"mapped",[12310]],[[65048,65048],"mapped",[12311]],[[65049,65049],"disallowed"],[[65050,65055],"disallowed"],[[65056,65059],"valid"],[[65060,65062],"valid"],[[65063,65069],"valid"],[[65070,65071],"valid"],[[65072,65072],"disallowed"],[[65073,65073],"mapped",[8212]],[[65074,65074],"mapped",[8211]],[[65075,65076],"disallowed_STD3_mapped",[95]],[[65077,65077],"disallowed_STD3_mapped",[40]],[[65078,65078],"disallowed_STD3_mapped",[41]],[[65079,65079],"disallowed_STD3_mapped",[123]],[[65080,65080],"disallowed_STD3_mapped",[125]],[[65081,65081],"mapped",[12308]],[[65082,65082],"mapped",[12309]],[[65083,65083],"mapped",[12304]],[[65084,65084],"mapped",[12305]],[[65085,65085],"mapped",[12298]],[[65086,65086],"mapped",[12299]],[[65087,65087],"mapped",[12296]],[[65088,65088],"mapped",[12297]],[[65089,65089],"mapped",[12300]],[[65090,65090],"mapped",[12301]],[[65091,65091],"mapped",[12302]],[[65092,65092],"mapped",[12303]],[[65093,65094],"valid",[],"NV8"],[[65095,65095],"disallowed_STD3_mapped",[91]],[[65096,65096],"disallowed_STD3_mapped",[93]],[[65097,65100],"disallowed_STD3_mapped",[32,773]],[[65101,65103],"disallowed_STD3_mapped",[95]],[[65104,65104],"disallowed_STD3_mapped",[44]],[[65105,65105],"mapped",[12289]],[[65106,65106],"disallowed"],[[65107,65107],"disallowed"],[[65108,65108],"disallowed_STD3_mapped",[59]],[[65109,65109],"disallowed_STD3_mapped",[58]],[[65110,65110],"disallowed_STD3_mapped",[63]],[[65111,65111],"disallowed_STD3_mapped",[33]],[[65112,65112],"mapped",[8212]],[[65113,65113],"disallowed_STD3_mapped",[40]],[[65114,65114],"disallowed_STD3_mapped",[41]],[[65115,65115],"disallowed_STD3_mapped",[123]],[[65116,65116],"disallowed_STD3_mapped",[125]],[[65117,65117],"mapped",[12308]],[[65118,65118],"mapped",[12309]],[[65119,65119],"disallowed_STD3_mapped",[35]],[[65120,65120],"disallowed_STD3_mapped",[38]],[[65121,65121],"disallowed_STD3_mapped",[42]],[[65122,65122],"disallowed_STD3_mapped",[43]],[[65123,65123],"mapped",[45]],[[65124,65124],"disallowed_STD3_mapped",[60]],[[65125,65125],"disallowed_STD3_mapped",[62]],[[65126,65126],"disallowed_STD3_mapped",[61]],[[65127,65127],"disallowed"],[[65128,65128],"disallowed_STD3_mapped",[92]],[[65129,65129],"disallowed_STD3_mapped",[36]],[[65130,65130],"disallowed_STD3_mapped",[37]],[[65131,65131],"disallowed_STD3_mapped",[64]],[[65132,65135],"disallowed"],[[65136,65136],"disallowed_STD3_mapped",[32,1611]],[[65137,65137],"mapped",[1600,1611]],[[65138,65138],"disallowed_STD3_mapped",[32,1612]],[[65139,65139],"valid"],[[65140,65140],"disallowed_STD3_mapped",[32,1613]],[[65141,65141],"disallowed"],[[65142,65142],"disallowed_STD3_mapped",[32,1614]],[[65143,65143],"mapped",[1600,1614]],[[65144,65144],"disallowed_STD3_mapped",[32,1615]],[[65145,65145],"mapped",[1600,1615]],[[65146,65146],"disallowed_STD3_mapped",[32,1616]],[[65147,65147],"mapped",[1600,1616]],[[65148,65148],"disallowed_STD3_mapped",[32,1617]],[[65149,65149],"mapped",[1600,1617]],[[65150,65150],"disallowed_STD3_mapped",[32,1618]],[[65151,65151],"mapped",[1600,1618]],[[65152,65152],"mapped",[1569]],[[65153,65154],"mapped",[1570]],[[65155,65156],"mapped",[1571]],[[65157,65158],"mapped",[1572]],[[65159,65160],"mapped",[1573]],[[65161,65164],"mapped",[1574]],[[65165,65166],"mapped",[1575]],[[65167,65170],"mapped",[1576]],[[65171,65172],"mapped",[1577]],[[65173,65176],"mapped",[1578]],[[65177,65180],"mapped",[1579]],[[65181,65184],"mapped",[1580]],[[65185,65188],"mapped",[1581]],[[65189,65192],"mapped",[1582]],[[65193,65194],"mapped",[1583]],[[65195,65196],"mapped",[1584]],[[65197,65198],"mapped",[1585]],[[65199,65200],"mapped",[1586]],[[65201,65204],"mapped",[1587]],[[65205,65208],"mapped",[1588]],[[65209,65212],"mapped",[1589]],[[65213,65216],"mapped",[1590]],[[65217,65220],"mapped",[1591]],[[65221,65224],"mapped",[1592]],[[65225,65228],"mapped",[1593]],[[65229,65232],"mapped",[1594]],[[65233,65236],"mapped",[1601]],[[65237,65240],"mapped",[1602]],[[65241,65244],"mapped",[1603]],[[65245,65248],"mapped",[1604]],[[65249,65252],"mapped",[1605]],[[65253,65256],"mapped",[1606]],[[65257,65260],"mapped",[1607]],[[65261,65262],"mapped",[1608]],[[65263,65264],"mapped",[1609]],[[65265,65268],"mapped",[1610]],[[65269,65270],"mapped",[1604,1570]],[[65271,65272],"mapped",[1604,1571]],[[65273,65274],"mapped",[1604,1573]],[[65275,65276],"mapped",[1604,1575]],[[65277,65278],"disallowed"],[[65279,65279],"ignored"],[[65280,65280],"disallowed"],[[65281,65281],"disallowed_STD3_mapped",[33]],[[65282,65282],"disallowed_STD3_mapped",[34]],[[65283,65283],"disallowed_STD3_mapped",[35]],[[65284,65284],"disallowed_STD3_mapped",[36]],[[65285,65285],"disallowed_STD3_mapped",[37]],[[65286,65286],"disallowed_STD3_mapped",[38]],[[65287,65287],"disallowed_STD3_mapped",[39]],[[65288,65288],"disallowed_STD3_mapped",[40]],[[65289,65289],"disallowed_STD3_mapped",[41]],[[65290,65290],"disallowed_STD3_mapped",[42]],[[65291,65291],"disallowed_STD3_mapped",[43]],[[65292,65292],"disallowed_STD3_mapped",[44]],[[65293,65293],"mapped",[45]],[[65294,65294],"mapped",[46]],[[65295,65295],"disallowed_STD3_mapped",[47]],[[65296,65296],"mapped",[48]],[[65297,65297],"mapped",[49]],[[65298,65298],"mapped",[50]],[[65299,65299],"mapped",[51]],[[65300,65300],"mapped",[52]],[[65301,65301],"mapped",[53]],[[65302,65302],"mapped",[54]],[[65303,65303],"mapped",[55]],[[65304,65304],"mapped",[56]],[[65305,65305],"mapped",[57]],[[65306,65306],"disallowed_STD3_mapped",[58]],[[65307,65307],"disallowed_STD3_mapped",[59]],[[65308,65308],"disallowed_STD3_mapped",[60]],[[65309,65309],"disallowed_STD3_mapped",[61]],[[65310,65310],"disallowed_STD3_mapped",[62]],[[65311,65311],"disallowed_STD3_mapped",[63]],[[65312,65312],"disallowed_STD3_mapped",[64]],[[65313,65313],"mapped",[97]],[[65314,65314],"mapped",[98]],[[65315,65315],"mapped",[99]],[[65316,65316],"mapped",[100]],[[65317,65317],"mapped",[101]],[[65318,65318],"mapped",[102]],[[65319,65319],"mapped",[103]],[[65320,65320],"mapped",[104]],[[65321,65321],"mapped",[105]],[[65322,65322],"mapped",[106]],[[65323,65323],"mapped",[107]],[[65324,65324],"mapped",[108]],[[65325,65325],"mapped",[109]],[[65326,65326],"mapped",[110]],[[65327,65327],"mapped",[111]],[[65328,65328],"mapped",[112]],[[65329,65329],"mapped",[113]],[[65330,65330],"mapped",[114]],[[65331,65331],"mapped",[115]],[[65332,65332],"mapped",[116]],[[65333,65333],"mapped",[117]],[[65334,65334],"mapped",[118]],[[65335,65335],"mapped",[119]],[[65336,65336],"mapped",[120]],[[65337,65337],"mapped",[121]],[[65338,65338],"mapped",[122]],[[65339,65339],"disallowed_STD3_mapped",[91]],[[65340,65340],"disallowed_STD3_mapped",[92]],[[65341,65341],"disallowed_STD3_mapped",[93]],[[65342,65342],"disallowed_STD3_mapped",[94]],[[65343,65343],"disallowed_STD3_mapped",[95]],[[65344,65344],"disallowed_STD3_mapped",[96]],[[65345,65345],"mapped",[97]],[[65346,65346],"mapped",[98]],[[65347,65347],"mapped",[99]],[[65348,65348],"mapped",[100]],[[65349,65349],"mapped",[101]],[[65350,65350],"mapped",[102]],[[65351,65351],"mapped",[103]],[[65352,65352],"mapped",[104]],[[65353,65353],"mapped",[105]],[[65354,65354],"mapped",[106]],[[65355,65355],"mapped",[107]],[[65356,65356],"mapped",[108]],[[65357,65357],"mapped",[109]],[[65358,65358],"mapped",[110]],[[65359,65359],"mapped",[111]],[[65360,65360],"mapped",[112]],[[65361,65361],"mapped",[113]],[[65362,65362],"mapped",[114]],[[65363,65363],"mapped",[115]],[[65364,65364],"mapped",[116]],[[65365,65365],"mapped",[117]],[[65366,65366],"mapped",[118]],[[65367,65367],"mapped",[119]],[[65368,65368],"mapped",[120]],[[65369,65369],"mapped",[121]],[[65370,65370],"mapped",[122]],[[65371,65371],"disallowed_STD3_mapped",[123]],[[65372,65372],"disallowed_STD3_mapped",[124]],[[65373,65373],"disallowed_STD3_mapped",[125]],[[65374,65374],"disallowed_STD3_mapped",[126]],[[65375,65375],"mapped",[10629]],[[65376,65376],"mapped",[10630]],[[65377,65377],"mapped",[46]],[[65378,65378],"mapped",[12300]],[[65379,65379],"mapped",[12301]],[[65380,65380],"mapped",[12289]],[[65381,65381],"mapped",[12539]],[[65382,65382],"mapped",[12530]],[[65383,65383],"mapped",[12449]],[[65384,65384],"mapped",[12451]],[[65385,65385],"mapped",[12453]],[[65386,65386],"mapped",[12455]],[[65387,65387],"mapped",[12457]],[[65388,65388],"mapped",[12515]],[[65389,65389],"mapped",[12517]],[[65390,65390],"mapped",[12519]],[[65391,65391],"mapped",[12483]],[[65392,65392],"mapped",[12540]],[[65393,65393],"mapped",[12450]],[[65394,65394],"mapped",[12452]],[[65395,65395],"mapped",[12454]],[[65396,65396],"mapped",[12456]],[[65397,65397],"mapped",[12458]],[[65398,65398],"mapped",[12459]],[[65399,65399],"mapped",[12461]],[[65400,65400],"mapped",[12463]],[[65401,65401],"mapped",[12465]],[[65402,65402],"mapped",[12467]],[[65403,65403],"mapped",[12469]],[[65404,65404],"mapped",[12471]],[[65405,65405],"mapped",[12473]],[[65406,65406],"mapped",[12475]],[[65407,65407],"mapped",[12477]],[[65408,65408],"mapped",[12479]],[[65409,65409],"mapped",[12481]],[[65410,65410],"mapped",[12484]],[[65411,65411],"mapped",[12486]],[[65412,65412],"mapped",[12488]],[[65413,65413],"mapped",[12490]],[[65414,65414],"mapped",[12491]],[[65415,65415],"mapped",[12492]],[[65416,65416],"mapped",[12493]],[[65417,65417],"mapped",[12494]],[[65418,65418],"mapped",[12495]],[[65419,65419],"mapped",[12498]],[[65420,65420],"mapped",[12501]],[[65421,65421],"mapped",[12504]],[[65422,65422],"mapped",[12507]],[[65423,65423],"mapped",[12510]],[[65424,65424],"mapped",[12511]],[[65425,65425],"mapped",[12512]],[[65426,65426],"mapped",[12513]],[[65427,65427],"mapped",[12514]],[[65428,65428],"mapped",[12516]],[[65429,65429],"mapped",[12518]],[[65430,65430],"mapped",[12520]],[[65431,65431],"mapped",[12521]],[[65432,65432],"mapped",[12522]],[[65433,65433],"mapped",[12523]],[[65434,65434],"mapped",[12524]],[[65435,65435],"mapped",[12525]],[[65436,65436],"mapped",[12527]],[[65437,65437],"mapped",[12531]],[[65438,65438],"mapped",[12441]],[[65439,65439],"mapped",[12442]],[[65440,65440],"disallowed"],[[65441,65441],"mapped",[4352]],[[65442,65442],"mapped",[4353]],[[65443,65443],"mapped",[4522]],[[65444,65444],"mapped",[4354]],[[65445,65445],"mapped",[4524]],[[65446,65446],"mapped",[4525]],[[65447,65447],"mapped",[4355]],[[65448,65448],"mapped",[4356]],[[65449,65449],"mapped",[4357]],[[65450,65450],"mapped",[4528]],[[65451,65451],"mapped",[4529]],[[65452,65452],"mapped",[4530]],[[65453,65453],"mapped",[4531]],[[65454,65454],"mapped",[4532]],[[65455,65455],"mapped",[4533]],[[65456,65456],"mapped",[4378]],[[65457,65457],"mapped",[4358]],[[65458,65458],"mapped",[4359]],[[65459,65459],"mapped",[4360]],[[65460,65460],"mapped",[4385]],[[65461,65461],"mapped",[4361]],[[65462,65462],"mapped",[4362]],[[65463,65463],"mapped",[4363]],[[65464,65464],"mapped",[4364]],[[65465,65465],"mapped",[4365]],[[65466,65466],"mapped",[4366]],[[65467,65467],"mapped",[4367]],[[65468,65468],"mapped",[4368]],[[65469,65469],"mapped",[4369]],[[65470,65470],"mapped",[4370]],[[65471,65473],"disallowed"],[[65474,65474],"mapped",[4449]],[[65475,65475],"mapped",[4450]],[[65476,65476],"mapped",[4451]],[[65477,65477],"mapped",[4452]],[[65478,65478],"mapped",[4453]],[[65479,65479],"mapped",[4454]],[[65480,65481],"disallowed"],[[65482,65482],"mapped",[4455]],[[65483,65483],"mapped",[4456]],[[65484,65484],"mapped",[4457]],[[65485,65485],"mapped",[4458]],[[65486,65486],"mapped",[4459]],[[65487,65487],"mapped",[4460]],[[65488,65489],"disallowed"],[[65490,65490],"mapped",[4461]],[[65491,65491],"mapped",[4462]],[[65492,65492],"mapped",[4463]],[[65493,65493],"mapped",[4464]],[[65494,65494],"mapped",[4465]],[[65495,65495],"mapped",[4466]],[[65496,65497],"disallowed"],[[65498,65498],"mapped",[4467]],[[65499,65499],"mapped",[4468]],[[65500,65500],"mapped",[4469]],[[65501,65503],"disallowed"],[[65504,65504],"mapped",[162]],[[65505,65505],"mapped",[163]],[[65506,65506],"mapped",[172]],[[65507,65507],"disallowed_STD3_mapped",[32,772]],[[65508,65508],"mapped",[166]],[[65509,65509],"mapped",[165]],[[65510,65510],"mapped",[8361]],[[65511,65511],"disallowed"],[[65512,65512],"mapped",[9474]],[[65513,65513],"mapped",[8592]],[[65514,65514],"mapped",[8593]],[[65515,65515],"mapped",[8594]],[[65516,65516],"mapped",[8595]],[[65517,65517],"mapped",[9632]],[[65518,65518],"mapped",[9675]],[[65519,65528],"disallowed"],[[65529,65531],"disallowed"],[[65532,65532],"disallowed"],[[65533,65533],"disallowed"],[[65534,65535],"disallowed"],[[65536,65547],"valid"],[[65548,65548],"disallowed"],[[65549,65574],"valid"],[[65575,65575],"disallowed"],[[65576,65594],"valid"],[[65595,65595],"disallowed"],[[65596,65597],"valid"],[[65598,65598],"disallowed"],[[65599,65613],"valid"],[[65614,65615],"disallowed"],[[65616,65629],"valid"],[[65630,65663],"disallowed"],[[65664,65786],"valid"],[[65787,65791],"disallowed"],[[65792,65794],"valid",[],"NV8"],[[65795,65798],"disallowed"],[[65799,65843],"valid",[],"NV8"],[[65844,65846],"disallowed"],[[65847,65855],"valid",[],"NV8"],[[65856,65930],"valid",[],"NV8"],[[65931,65932],"valid",[],"NV8"],[[65933,65935],"disallowed"],[[65936,65947],"valid",[],"NV8"],[[65948,65951],"disallowed"],[[65952,65952],"valid",[],"NV8"],[[65953,65999],"disallowed"],[[66e3,66044],"valid",[],"NV8"],[[66045,66045],"valid"],[[66046,66175],"disallowed"],[[66176,66204],"valid"],[[66205,66207],"disallowed"],[[66208,66256],"valid"],[[66257,66271],"disallowed"],[[66272,66272],"valid"],[[66273,66299],"valid",[],"NV8"],[[66300,66303],"disallowed"],[[66304,66334],"valid"],[[66335,66335],"valid"],[[66336,66339],"valid",[],"NV8"],[[66340,66351],"disallowed"],[[66352,66368],"valid"],[[66369,66369],"valid",[],"NV8"],[[66370,66377],"valid"],[[66378,66378],"valid",[],"NV8"],[[66379,66383],"disallowed"],[[66384,66426],"valid"],[[66427,66431],"disallowed"],[[66432,66461],"valid"],[[66462,66462],"disallowed"],[[66463,66463],"valid",[],"NV8"],[[66464,66499],"valid"],[[66500,66503],"disallowed"],[[66504,66511],"valid"],[[66512,66517],"valid",[],"NV8"],[[66518,66559],"disallowed"],[[66560,66560],"mapped",[66600]],[[66561,66561],"mapped",[66601]],[[66562,66562],"mapped",[66602]],[[66563,66563],"mapped",[66603]],[[66564,66564],"mapped",[66604]],[[66565,66565],"mapped",[66605]],[[66566,66566],"mapped",[66606]],[[66567,66567],"mapped",[66607]],[[66568,66568],"mapped",[66608]],[[66569,66569],"mapped",[66609]],[[66570,66570],"mapped",[66610]],[[66571,66571],"mapped",[66611]],[[66572,66572],"mapped",[66612]],[[66573,66573],"mapped",[66613]],[[66574,66574],"mapped",[66614]],[[66575,66575],"mapped",[66615]],[[66576,66576],"mapped",[66616]],[[66577,66577],"mapped",[66617]],[[66578,66578],"mapped",[66618]],[[66579,66579],"mapped",[66619]],[[66580,66580],"mapped",[66620]],[[66581,66581],"mapped",[66621]],[[66582,66582],"mapped",[66622]],[[66583,66583],"mapped",[66623]],[[66584,66584],"mapped",[66624]],[[66585,66585],"mapped",[66625]],[[66586,66586],"mapped",[66626]],[[66587,66587],"mapped",[66627]],[[66588,66588],"mapped",[66628]],[[66589,66589],"mapped",[66629]],[[66590,66590],"mapped",[66630]],[[66591,66591],"mapped",[66631]],[[66592,66592],"mapped",[66632]],[[66593,66593],"mapped",[66633]],[[66594,66594],"mapped",[66634]],[[66595,66595],"mapped",[66635]],[[66596,66596],"mapped",[66636]],[[66597,66597],"mapped",[66637]],[[66598,66598],"mapped",[66638]],[[66599,66599],"mapped",[66639]],[[66600,66637],"valid"],[[66638,66717],"valid"],[[66718,66719],"disallowed"],[[66720,66729],"valid"],[[66730,66815],"disallowed"],[[66816,66855],"valid"],[[66856,66863],"disallowed"],[[66864,66915],"valid"],[[66916,66926],"disallowed"],[[66927,66927],"valid",[],"NV8"],[[66928,67071],"disallowed"],[[67072,67382],"valid"],[[67383,67391],"disallowed"],[[67392,67413],"valid"],[[67414,67423],"disallowed"],[[67424,67431],"valid"],[[67432,67583],"disallowed"],[[67584,67589],"valid"],[[67590,67591],"disallowed"],[[67592,67592],"valid"],[[67593,67593],"disallowed"],[[67594,67637],"valid"],[[67638,67638],"disallowed"],[[67639,67640],"valid"],[[67641,67643],"disallowed"],[[67644,67644],"valid"],[[67645,67646],"disallowed"],[[67647,67647],"valid"],[[67648,67669],"valid"],[[67670,67670],"disallowed"],[[67671,67679],"valid",[],"NV8"],[[67680,67702],"valid"],[[67703,67711],"valid",[],"NV8"],[[67712,67742],"valid"],[[67743,67750],"disallowed"],[[67751,67759],"valid",[],"NV8"],[[67760,67807],"disallowed"],[[67808,67826],"valid"],[[67827,67827],"disallowed"],[[67828,67829],"valid"],[[67830,67834],"disallowed"],[[67835,67839],"valid",[],"NV8"],[[67840,67861],"valid"],[[67862,67865],"valid",[],"NV8"],[[67866,67867],"valid",[],"NV8"],[[67868,67870],"disallowed"],[[67871,67871],"valid",[],"NV8"],[[67872,67897],"valid"],[[67898,67902],"disallowed"],[[67903,67903],"valid",[],"NV8"],[[67904,67967],"disallowed"],[[67968,68023],"valid"],[[68024,68027],"disallowed"],[[68028,68029],"valid",[],"NV8"],[[68030,68031],"valid"],[[68032,68047],"valid",[],"NV8"],[[68048,68049],"disallowed"],[[68050,68095],"valid",[],"NV8"],[[68096,68099],"valid"],[[68100,68100],"disallowed"],[[68101,68102],"valid"],[[68103,68107],"disallowed"],[[68108,68115],"valid"],[[68116,68116],"disallowed"],[[68117,68119],"valid"],[[68120,68120],"disallowed"],[[68121,68147],"valid"],[[68148,68151],"disallowed"],[[68152,68154],"valid"],[[68155,68158],"disallowed"],[[68159,68159],"valid"],[[68160,68167],"valid",[],"NV8"],[[68168,68175],"disallowed"],[[68176,68184],"valid",[],"NV8"],[[68185,68191],"disallowed"],[[68192,68220],"valid"],[[68221,68223],"valid",[],"NV8"],[[68224,68252],"valid"],[[68253,68255],"valid",[],"NV8"],[[68256,68287],"disallowed"],[[68288,68295],"valid"],[[68296,68296],"valid",[],"NV8"],[[68297,68326],"valid"],[[68327,68330],"disallowed"],[[68331,68342],"valid",[],"NV8"],[[68343,68351],"disallowed"],[[68352,68405],"valid"],[[68406,68408],"disallowed"],[[68409,68415],"valid",[],"NV8"],[[68416,68437],"valid"],[[68438,68439],"disallowed"],[[68440,68447],"valid",[],"NV8"],[[68448,68466],"valid"],[[68467,68471],"disallowed"],[[68472,68479],"valid",[],"NV8"],[[68480,68497],"valid"],[[68498,68504],"disallowed"],[[68505,68508],"valid",[],"NV8"],[[68509,68520],"disallowed"],[[68521,68527],"valid",[],"NV8"],[[68528,68607],"disallowed"],[[68608,68680],"valid"],[[68681,68735],"disallowed"],[[68736,68736],"mapped",[68800]],[[68737,68737],"mapped",[68801]],[[68738,68738],"mapped",[68802]],[[68739,68739],"mapped",[68803]],[[68740,68740],"mapped",[68804]],[[68741,68741],"mapped",[68805]],[[68742,68742],"mapped",[68806]],[[68743,68743],"mapped",[68807]],[[68744,68744],"mapped",[68808]],[[68745,68745],"mapped",[68809]],[[68746,68746],"mapped",[68810]],[[68747,68747],"mapped",[68811]],[[68748,68748],"mapped",[68812]],[[68749,68749],"mapped",[68813]],[[68750,68750],"mapped",[68814]],[[68751,68751],"mapped",[68815]],[[68752,68752],"mapped",[68816]],[[68753,68753],"mapped",[68817]],[[68754,68754],"mapped",[68818]],[[68755,68755],"mapped",[68819]],[[68756,68756],"mapped",[68820]],[[68757,68757],"mapped",[68821]],[[68758,68758],"mapped",[68822]],[[68759,68759],"mapped",[68823]],[[68760,68760],"mapped",[68824]],[[68761,68761],"mapped",[68825]],[[68762,68762],"mapped",[68826]],[[68763,68763],"mapped",[68827]],[[68764,68764],"mapped",[68828]],[[68765,68765],"mapped",[68829]],[[68766,68766],"mapped",[68830]],[[68767,68767],"mapped",[68831]],[[68768,68768],"mapped",[68832]],[[68769,68769],"mapped",[68833]],[[68770,68770],"mapped",[68834]],[[68771,68771],"mapped",[68835]],[[68772,68772],"mapped",[68836]],[[68773,68773],"mapped",[68837]],[[68774,68774],"mapped",[68838]],[[68775,68775],"mapped",[68839]],[[68776,68776],"mapped",[68840]],[[68777,68777],"mapped",[68841]],[[68778,68778],"mapped",[68842]],[[68779,68779],"mapped",[68843]],[[68780,68780],"mapped",[68844]],[[68781,68781],"mapped",[68845]],[[68782,68782],"mapped",[68846]],[[68783,68783],"mapped",[68847]],[[68784,68784],"mapped",[68848]],[[68785,68785],"mapped",[68849]],[[68786,68786],"mapped",[68850]],[[68787,68799],"disallowed"],[[68800,68850],"valid"],[[68851,68857],"disallowed"],[[68858,68863],"valid",[],"NV8"],[[68864,69215],"disallowed"],[[69216,69246],"valid",[],"NV8"],[[69247,69631],"disallowed"],[[69632,69702],"valid"],[[69703,69709],"valid",[],"NV8"],[[69710,69713],"disallowed"],[[69714,69733],"valid",[],"NV8"],[[69734,69743],"valid"],[[69744,69758],"disallowed"],[[69759,69759],"valid"],[[69760,69818],"valid"],[[69819,69820],"valid",[],"NV8"],[[69821,69821],"disallowed"],[[69822,69825],"valid",[],"NV8"],[[69826,69839],"disallowed"],[[69840,69864],"valid"],[[69865,69871],"disallowed"],[[69872,69881],"valid"],[[69882,69887],"disallowed"],[[69888,69940],"valid"],[[69941,69941],"disallowed"],[[69942,69951],"valid"],[[69952,69955],"valid",[],"NV8"],[[69956,69967],"disallowed"],[[69968,70003],"valid"],[[70004,70005],"valid",[],"NV8"],[[70006,70006],"valid"],[[70007,70015],"disallowed"],[[70016,70084],"valid"],[[70085,70088],"valid",[],"NV8"],[[70089,70089],"valid",[],"NV8"],[[70090,70092],"valid"],[[70093,70093],"valid",[],"NV8"],[[70094,70095],"disallowed"],[[70096,70105],"valid"],[[70106,70106],"valid"],[[70107,70107],"valid",[],"NV8"],[[70108,70108],"valid"],[[70109,70111],"valid",[],"NV8"],[[70112,70112],"disallowed"],[[70113,70132],"valid",[],"NV8"],[[70133,70143],"disallowed"],[[70144,70161],"valid"],[[70162,70162],"disallowed"],[[70163,70199],"valid"],[[70200,70205],"valid",[],"NV8"],[[70206,70271],"disallowed"],[[70272,70278],"valid"],[[70279,70279],"disallowed"],[[70280,70280],"valid"],[[70281,70281],"disallowed"],[[70282,70285],"valid"],[[70286,70286],"disallowed"],[[70287,70301],"valid"],[[70302,70302],"disallowed"],[[70303,70312],"valid"],[[70313,70313],"valid",[],"NV8"],[[70314,70319],"disallowed"],[[70320,70378],"valid"],[[70379,70383],"disallowed"],[[70384,70393],"valid"],[[70394,70399],"disallowed"],[[70400,70400],"valid"],[[70401,70403],"valid"],[[70404,70404],"disallowed"],[[70405,70412],"valid"],[[70413,70414],"disallowed"],[[70415,70416],"valid"],[[70417,70418],"disallowed"],[[70419,70440],"valid"],[[70441,70441],"disallowed"],[[70442,70448],"valid"],[[70449,70449],"disallowed"],[[70450,70451],"valid"],[[70452,70452],"disallowed"],[[70453,70457],"valid"],[[70458,70459],"disallowed"],[[70460,70468],"valid"],[[70469,70470],"disallowed"],[[70471,70472],"valid"],[[70473,70474],"disallowed"],[[70475,70477],"valid"],[[70478,70479],"disallowed"],[[70480,70480],"valid"],[[70481,70486],"disallowed"],[[70487,70487],"valid"],[[70488,70492],"disallowed"],[[70493,70499],"valid"],[[70500,70501],"disallowed"],[[70502,70508],"valid"],[[70509,70511],"disallowed"],[[70512,70516],"valid"],[[70517,70783],"disallowed"],[[70784,70853],"valid"],[[70854,70854],"valid",[],"NV8"],[[70855,70855],"valid"],[[70856,70863],"disallowed"],[[70864,70873],"valid"],[[70874,71039],"disallowed"],[[71040,71093],"valid"],[[71094,71095],"disallowed"],[[71096,71104],"valid"],[[71105,71113],"valid",[],"NV8"],[[71114,71127],"valid",[],"NV8"],[[71128,71133],"valid"],[[71134,71167],"disallowed"],[[71168,71232],"valid"],[[71233,71235],"valid",[],"NV8"],[[71236,71236],"valid"],[[71237,71247],"disallowed"],[[71248,71257],"valid"],[[71258,71295],"disallowed"],[[71296,71351],"valid"],[[71352,71359],"disallowed"],[[71360,71369],"valid"],[[71370,71423],"disallowed"],[[71424,71449],"valid"],[[71450,71452],"disallowed"],[[71453,71467],"valid"],[[71468,71471],"disallowed"],[[71472,71481],"valid"],[[71482,71487],"valid",[],"NV8"],[[71488,71839],"disallowed"],[[71840,71840],"mapped",[71872]],[[71841,71841],"mapped",[71873]],[[71842,71842],"mapped",[71874]],[[71843,71843],"mapped",[71875]],[[71844,71844],"mapped",[71876]],[[71845,71845],"mapped",[71877]],[[71846,71846],"mapped",[71878]],[[71847,71847],"mapped",[71879]],[[71848,71848],"mapped",[71880]],[[71849,71849],"mapped",[71881]],[[71850,71850],"mapped",[71882]],[[71851,71851],"mapped",[71883]],[[71852,71852],"mapped",[71884]],[[71853,71853],"mapped",[71885]],[[71854,71854],"mapped",[71886]],[[71855,71855],"mapped",[71887]],[[71856,71856],"mapped",[71888]],[[71857,71857],"mapped",[71889]],[[71858,71858],"mapped",[71890]],[[71859,71859],"mapped",[71891]],[[71860,71860],"mapped",[71892]],[[71861,71861],"mapped",[71893]],[[71862,71862],"mapped",[71894]],[[71863,71863],"mapped",[71895]],[[71864,71864],"mapped",[71896]],[[71865,71865],"mapped",[71897]],[[71866,71866],"mapped",[71898]],[[71867,71867],"mapped",[71899]],[[71868,71868],"mapped",[71900]],[[71869,71869],"mapped",[71901]],[[71870,71870],"mapped",[71902]],[[71871,71871],"mapped",[71903]],[[71872,71913],"valid"],[[71914,71922],"valid",[],"NV8"],[[71923,71934],"disallowed"],[[71935,71935],"valid"],[[71936,72383],"disallowed"],[[72384,72440],"valid"],[[72441,73727],"disallowed"],[[73728,74606],"valid"],[[74607,74648],"valid"],[[74649,74649],"valid"],[[74650,74751],"disallowed"],[[74752,74850],"valid",[],"NV8"],[[74851,74862],"valid",[],"NV8"],[[74863,74863],"disallowed"],[[74864,74867],"valid",[],"NV8"],[[74868,74868],"valid",[],"NV8"],[[74869,74879],"disallowed"],[[74880,75075],"valid"],[[75076,77823],"disallowed"],[[77824,78894],"valid"],[[78895,82943],"disallowed"],[[82944,83526],"valid"],[[83527,92159],"disallowed"],[[92160,92728],"valid"],[[92729,92735],"disallowed"],[[92736,92766],"valid"],[[92767,92767],"disallowed"],[[92768,92777],"valid"],[[92778,92781],"disallowed"],[[92782,92783],"valid",[],"NV8"],[[92784,92879],"disallowed"],[[92880,92909],"valid"],[[92910,92911],"disallowed"],[[92912,92916],"valid"],[[92917,92917],"valid",[],"NV8"],[[92918,92927],"disallowed"],[[92928,92982],"valid"],[[92983,92991],"valid",[],"NV8"],[[92992,92995],"valid"],[[92996,92997],"valid",[],"NV8"],[[92998,93007],"disallowed"],[[93008,93017],"valid"],[[93018,93018],"disallowed"],[[93019,93025],"valid",[],"NV8"],[[93026,93026],"disallowed"],[[93027,93047],"valid"],[[93048,93052],"disallowed"],[[93053,93071],"valid"],[[93072,93951],"disallowed"],[[93952,94020],"valid"],[[94021,94031],"disallowed"],[[94032,94078],"valid"],[[94079,94094],"disallowed"],[[94095,94111],"valid"],[[94112,110591],"disallowed"],[[110592,110593],"valid"],[[110594,113663],"disallowed"],[[113664,113770],"valid"],[[113771,113775],"disallowed"],[[113776,113788],"valid"],[[113789,113791],"disallowed"],[[113792,113800],"valid"],[[113801,113807],"disallowed"],[[113808,113817],"valid"],[[113818,113819],"disallowed"],[[113820,113820],"valid",[],"NV8"],[[113821,113822],"valid"],[[113823,113823],"valid",[],"NV8"],[[113824,113827],"ignored"],[[113828,118783],"disallowed"],[[118784,119029],"valid",[],"NV8"],[[119030,119039],"disallowed"],[[119040,119078],"valid",[],"NV8"],[[119079,119080],"disallowed"],[[119081,119081],"valid",[],"NV8"],[[119082,119133],"valid",[],"NV8"],[[119134,119134],"mapped",[119127,119141]],[[119135,119135],"mapped",[119128,119141]],[[119136,119136],"mapped",[119128,119141,119150]],[[119137,119137],"mapped",[119128,119141,119151]],[[119138,119138],"mapped",[119128,119141,119152]],[[119139,119139],"mapped",[119128,119141,119153]],[[119140,119140],"mapped",[119128,119141,119154]],[[119141,119154],"valid",[],"NV8"],[[119155,119162],"disallowed"],[[119163,119226],"valid",[],"NV8"],[[119227,119227],"mapped",[119225,119141]],[[119228,119228],"mapped",[119226,119141]],[[119229,119229],"mapped",[119225,119141,119150]],[[119230,119230],"mapped",[119226,119141,119150]],[[119231,119231],"mapped",[119225,119141,119151]],[[119232,119232],"mapped",[119226,119141,119151]],[[119233,119261],"valid",[],"NV8"],[[119262,119272],"valid",[],"NV8"],[[119273,119295],"disallowed"],[[119296,119365],"valid",[],"NV8"],[[119366,119551],"disallowed"],[[119552,119638],"valid",[],"NV8"],[[119639,119647],"disallowed"],[[119648,119665],"valid",[],"NV8"],[[119666,119807],"disallowed"],[[119808,119808],"mapped",[97]],[[119809,119809],"mapped",[98]],[[119810,119810],"mapped",[99]],[[119811,119811],"mapped",[100]],[[119812,119812],"mapped",[101]],[[119813,119813],"mapped",[102]],[[119814,119814],"mapped",[103]],[[119815,119815],"mapped",[104]],[[119816,119816],"mapped",[105]],[[119817,119817],"mapped",[106]],[[119818,119818],"mapped",[107]],[[119819,119819],"mapped",[108]],[[119820,119820],"mapped",[109]],[[119821,119821],"mapped",[110]],[[119822,119822],"mapped",[111]],[[119823,119823],"mapped",[112]],[[119824,119824],"mapped",[113]],[[119825,119825],"mapped",[114]],[[119826,119826],"mapped",[115]],[[119827,119827],"mapped",[116]],[[119828,119828],"mapped",[117]],[[119829,119829],"mapped",[118]],[[119830,119830],"mapped",[119]],[[119831,119831],"mapped",[120]],[[119832,119832],"mapped",[121]],[[119833,119833],"mapped",[122]],[[119834,119834],"mapped",[97]],[[119835,119835],"mapped",[98]],[[119836,119836],"mapped",[99]],[[119837,119837],"mapped",[100]],[[119838,119838],"mapped",[101]],[[119839,119839],"mapped",[102]],[[119840,119840],"mapped",[103]],[[119841,119841],"mapped",[104]],[[119842,119842],"mapped",[105]],[[119843,119843],"mapped",[106]],[[119844,119844],"mapped",[107]],[[119845,119845],"mapped",[108]],[[119846,119846],"mapped",[109]],[[119847,119847],"mapped",[110]],[[119848,119848],"mapped",[111]],[[119849,119849],"mapped",[112]],[[119850,119850],"mapped",[113]],[[119851,119851],"mapped",[114]],[[119852,119852],"mapped",[115]],[[119853,119853],"mapped",[116]],[[119854,119854],"mapped",[117]],[[119855,119855],"mapped",[118]],[[119856,119856],"mapped",[119]],[[119857,119857],"mapped",[120]],[[119858,119858],"mapped",[121]],[[119859,119859],"mapped",[122]],[[119860,119860],"mapped",[97]],[[119861,119861],"mapped",[98]],[[119862,119862],"mapped",[99]],[[119863,119863],"mapped",[100]],[[119864,119864],"mapped",[101]],[[119865,119865],"mapped",[102]],[[119866,119866],"mapped",[103]],[[119867,119867],"mapped",[104]],[[119868,119868],"mapped",[105]],[[119869,119869],"mapped",[106]],[[119870,119870],"mapped",[107]],[[119871,119871],"mapped",[108]],[[119872,119872],"mapped",[109]],[[119873,119873],"mapped",[110]],[[119874,119874],"mapped",[111]],[[119875,119875],"mapped",[112]],[[119876,119876],"mapped",[113]],[[119877,119877],"mapped",[114]],[[119878,119878],"mapped",[115]],[[119879,119879],"mapped",[116]],[[119880,119880],"mapped",[117]],[[119881,119881],"mapped",[118]],[[119882,119882],"mapped",[119]],[[119883,119883],"mapped",[120]],[[119884,119884],"mapped",[121]],[[119885,119885],"mapped",[122]],[[119886,119886],"mapped",[97]],[[119887,119887],"mapped",[98]],[[119888,119888],"mapped",[99]],[[119889,119889],"mapped",[100]],[[119890,119890],"mapped",[101]],[[119891,119891],"mapped",[102]],[[119892,119892],"mapped",[103]],[[119893,119893],"disallowed"],[[119894,119894],"mapped",[105]],[[119895,119895],"mapped",[106]],[[119896,119896],"mapped",[107]],[[119897,119897],"mapped",[108]],[[119898,119898],"mapped",[109]],[[119899,119899],"mapped",[110]],[[119900,119900],"mapped",[111]],[[119901,119901],"mapped",[112]],[[119902,119902],"mapped",[113]],[[119903,119903],"mapped",[114]],[[119904,119904],"mapped",[115]],[[119905,119905],"mapped",[116]],[[119906,119906],"mapped",[117]],[[119907,119907],"mapped",[118]],[[119908,119908],"mapped",[119]],[[119909,119909],"mapped",[120]],[[119910,119910],"mapped",[121]],[[119911,119911],"mapped",[122]],[[119912,119912],"mapped",[97]],[[119913,119913],"mapped",[98]],[[119914,119914],"mapped",[99]],[[119915,119915],"mapped",[100]],[[119916,119916],"mapped",[101]],[[119917,119917],"mapped",[102]],[[119918,119918],"mapped",[103]],[[119919,119919],"mapped",[104]],[[119920,119920],"mapped",[105]],[[119921,119921],"mapped",[106]],[[119922,119922],"mapped",[107]],[[119923,119923],"mapped",[108]],[[119924,119924],"mapped",[109]],[[119925,119925],"mapped",[110]],[[119926,119926],"mapped",[111]],[[119927,119927],"mapped",[112]],[[119928,119928],"mapped",[113]],[[119929,119929],"mapped",[114]],[[119930,119930],"mapped",[115]],[[119931,119931],"mapped",[116]],[[119932,119932],"mapped",[117]],[[119933,119933],"mapped",[118]],[[119934,119934],"mapped",[119]],[[119935,119935],"mapped",[120]],[[119936,119936],"mapped",[121]],[[119937,119937],"mapped",[122]],[[119938,119938],"mapped",[97]],[[119939,119939],"mapped",[98]],[[119940,119940],"mapped",[99]],[[119941,119941],"mapped",[100]],[[119942,119942],"mapped",[101]],[[119943,119943],"mapped",[102]],[[119944,119944],"mapped",[103]],[[119945,119945],"mapped",[104]],[[119946,119946],"mapped",[105]],[[119947,119947],"mapped",[106]],[[119948,119948],"mapped",[107]],[[119949,119949],"mapped",[108]],[[119950,119950],"mapped",[109]],[[119951,119951],"mapped",[110]],[[119952,119952],"mapped",[111]],[[119953,119953],"mapped",[112]],[[119954,119954],"mapped",[113]],[[119955,119955],"mapped",[114]],[[119956,119956],"mapped",[115]],[[119957,119957],"mapped",[116]],[[119958,119958],"mapped",[117]],[[119959,119959],"mapped",[118]],[[119960,119960],"mapped",[119]],[[119961,119961],"mapped",[120]],[[119962,119962],"mapped",[121]],[[119963,119963],"mapped",[122]],[[119964,119964],"mapped",[97]],[[119965,119965],"disallowed"],[[119966,119966],"mapped",[99]],[[119967,119967],"mapped",[100]],[[119968,119969],"disallowed"],[[119970,119970],"mapped",[103]],[[119971,119972],"disallowed"],[[119973,119973],"mapped",[106]],[[119974,119974],"mapped",[107]],[[119975,119976],"disallowed"],[[119977,119977],"mapped",[110]],[[119978,119978],"mapped",[111]],[[119979,119979],"mapped",[112]],[[119980,119980],"mapped",[113]],[[119981,119981],"disallowed"],[[119982,119982],"mapped",[115]],[[119983,119983],"mapped",[116]],[[119984,119984],"mapped",[117]],[[119985,119985],"mapped",[118]],[[119986,119986],"mapped",[119]],[[119987,119987],"mapped",[120]],[[119988,119988],"mapped",[121]],[[119989,119989],"mapped",[122]],[[119990,119990],"mapped",[97]],[[119991,119991],"mapped",[98]],[[119992,119992],"mapped",[99]],[[119993,119993],"mapped",[100]],[[119994,119994],"disallowed"],[[119995,119995],"mapped",[102]],[[119996,119996],"disallowed"],[[119997,119997],"mapped",[104]],[[119998,119998],"mapped",[105]],[[119999,119999],"mapped",[106]],[[12e4,12e4],"mapped",[107]],[[120001,120001],"mapped",[108]],[[120002,120002],"mapped",[109]],[[120003,120003],"mapped",[110]],[[120004,120004],"disallowed"],[[120005,120005],"mapped",[112]],[[120006,120006],"mapped",[113]],[[120007,120007],"mapped",[114]],[[120008,120008],"mapped",[115]],[[120009,120009],"mapped",[116]],[[120010,120010],"mapped",[117]],[[120011,120011],"mapped",[118]],[[120012,120012],"mapped",[119]],[[120013,120013],"mapped",[120]],[[120014,120014],"mapped",[121]],[[120015,120015],"mapped",[122]],[[120016,120016],"mapped",[97]],[[120017,120017],"mapped",[98]],[[120018,120018],"mapped",[99]],[[120019,120019],"mapped",[100]],[[120020,120020],"mapped",[101]],[[120021,120021],"mapped",[102]],[[120022,120022],"mapped",[103]],[[120023,120023],"mapped",[104]],[[120024,120024],"mapped",[105]],[[120025,120025],"mapped",[106]],[[120026,120026],"mapped",[107]],[[120027,120027],"mapped",[108]],[[120028,120028],"mapped",[109]],[[120029,120029],"mapped",[110]],[[120030,120030],"mapped",[111]],[[120031,120031],"mapped",[112]],[[120032,120032],"mapped",[113]],[[120033,120033],"mapped",[114]],[[120034,120034],"mapped",[115]],[[120035,120035],"mapped",[116]],[[120036,120036],"mapped",[117]],[[120037,120037],"mapped",[118]],[[120038,120038],"mapped",[119]],[[120039,120039],"mapped",[120]],[[120040,120040],"mapped",[121]],[[120041,120041],"mapped",[122]],[[120042,120042],"mapped",[97]],[[120043,120043],"mapped",[98]],[[120044,120044],"mapped",[99]],[[120045,120045],"mapped",[100]],[[120046,120046],"mapped",[101]],[[120047,120047],"mapped",[102]],[[120048,120048],"mapped",[103]],[[120049,120049],"mapped",[104]],[[120050,120050],"mapped",[105]],[[120051,120051],"mapped",[106]],[[120052,120052],"mapped",[107]],[[120053,120053],"mapped",[108]],[[120054,120054],"mapped",[109]],[[120055,120055],"mapped",[110]],[[120056,120056],"mapped",[111]],[[120057,120057],"mapped",[112]],[[120058,120058],"mapped",[113]],[[120059,120059],"mapped",[114]],[[120060,120060],"mapped",[115]],[[120061,120061],"mapped",[116]],[[120062,120062],"mapped",[117]],[[120063,120063],"mapped",[118]],[[120064,120064],"mapped",[119]],[[120065,120065],"mapped",[120]],[[120066,120066],"mapped",[121]],[[120067,120067],"mapped",[122]],[[120068,120068],"mapped",[97]],[[120069,120069],"mapped",[98]],[[120070,120070],"disallowed"],[[120071,120071],"mapped",[100]],[[120072,120072],"mapped",[101]],[[120073,120073],"mapped",[102]],[[120074,120074],"mapped",[103]],[[120075,120076],"disallowed"],[[120077,120077],"mapped",[106]],[[120078,120078],"mapped",[107]],[[120079,120079],"mapped",[108]],[[120080,120080],"mapped",[109]],[[120081,120081],"mapped",[110]],[[120082,120082],"mapped",[111]],[[120083,120083],"mapped",[112]],[[120084,120084],"mapped",[113]],[[120085,120085],"disallowed"],[[120086,120086],"mapped",[115]],[[120087,120087],"mapped",[116]],[[120088,120088],"mapped",[117]],[[120089,120089],"mapped",[118]],[[120090,120090],"mapped",[119]],[[120091,120091],"mapped",[120]],[[120092,120092],"mapped",[121]],[[120093,120093],"disallowed"],[[120094,120094],"mapped",[97]],[[120095,120095],"mapped",[98]],[[120096,120096],"mapped",[99]],[[120097,120097],"mapped",[100]],[[120098,120098],"mapped",[101]],[[120099,120099],"mapped",[102]],[[120100,120100],"mapped",[103]],[[120101,120101],"mapped",[104]],[[120102,120102],"mapped",[105]],[[120103,120103],"mapped",[106]],[[120104,120104],"mapped",[107]],[[120105,120105],"mapped",[108]],[[120106,120106],"mapped",[109]],[[120107,120107],"mapped",[110]],[[120108,120108],"mapped",[111]],[[120109,120109],"mapped",[112]],[[120110,120110],"mapped",[113]],[[120111,120111],"mapped",[114]],[[120112,120112],"mapped",[115]],[[120113,120113],"mapped",[116]],[[120114,120114],"mapped",[117]],[[120115,120115],"mapped",[118]],[[120116,120116],"mapped",[119]],[[120117,120117],"mapped",[120]],[[120118,120118],"mapped",[121]],[[120119,120119],"mapped",[122]],[[120120,120120],"mapped",[97]],[[120121,120121],"mapped",[98]],[[120122,120122],"disallowed"],[[120123,120123],"mapped",[100]],[[120124,120124],"mapped",[101]],[[120125,120125],"mapped",[102]],[[120126,120126],"mapped",[103]],[[120127,120127],"disallowed"],[[120128,120128],"mapped",[105]],[[120129,120129],"mapped",[106]],[[120130,120130],"mapped",[107]],[[120131,120131],"mapped",[108]],[[120132,120132],"mapped",[109]],[[120133,120133],"disallowed"],[[120134,120134],"mapped",[111]],[[120135,120137],"disallowed"],[[120138,120138],"mapped",[115]],[[120139,120139],"mapped",[116]],[[120140,120140],"mapped",[117]],[[120141,120141],"mapped",[118]],[[120142,120142],"mapped",[119]],[[120143,120143],"mapped",[120]],[[120144,120144],"mapped",[121]],[[120145,120145],"disallowed"],[[120146,120146],"mapped",[97]],[[120147,120147],"mapped",[98]],[[120148,120148],"mapped",[99]],[[120149,120149],"mapped",[100]],[[120150,120150],"mapped",[101]],[[120151,120151],"mapped",[102]],[[120152,120152],"mapped",[103]],[[120153,120153],"mapped",[104]],[[120154,120154],"mapped",[105]],[[120155,120155],"mapped",[106]],[[120156,120156],"mapped",[107]],[[120157,120157],"mapped",[108]],[[120158,120158],"mapped",[109]],[[120159,120159],"mapped",[110]],[[120160,120160],"mapped",[111]],[[120161,120161],"mapped",[112]],[[120162,120162],"mapped",[113]],[[120163,120163],"mapped",[114]],[[120164,120164],"mapped",[115]],[[120165,120165],"mapped",[116]],[[120166,120166],"mapped",[117]],[[120167,120167],"mapped",[118]],[[120168,120168],"mapped",[119]],[[120169,120169],"mapped",[120]],[[120170,120170],"mapped",[121]],[[120171,120171],"mapped",[122]],[[120172,120172],"mapped",[97]],[[120173,120173],"mapped",[98]],[[120174,120174],"mapped",[99]],[[120175,120175],"mapped",[100]],[[120176,120176],"mapped",[101]],[[120177,120177],"mapped",[102]],[[120178,120178],"mapped",[103]],[[120179,120179],"mapped",[104]],[[120180,120180],"mapped",[105]],[[120181,120181],"mapped",[106]],[[120182,120182],"mapped",[107]],[[120183,120183],"mapped",[108]],[[120184,120184],"mapped",[109]],[[120185,120185],"mapped",[110]],[[120186,120186],"mapped",[111]],[[120187,120187],"mapped",[112]],[[120188,120188],"mapped",[113]],[[120189,120189],"mapped",[114]],[[120190,120190],"mapped",[115]],[[120191,120191],"mapped",[116]],[[120192,120192],"mapped",[117]],[[120193,120193],"mapped",[118]],[[120194,120194],"mapped",[119]],[[120195,120195],"mapped",[120]],[[120196,120196],"mapped",[121]],[[120197,120197],"mapped",[122]],[[120198,120198],"mapped",[97]],[[120199,120199],"mapped",[98]],[[120200,120200],"mapped",[99]],[[120201,120201],"mapped",[100]],[[120202,120202],"mapped",[101]],[[120203,120203],"mapped",[102]],[[120204,120204],"mapped",[103]],[[120205,120205],"mapped",[104]],[[120206,120206],"mapped",[105]],[[120207,120207],"mapped",[106]],[[120208,120208],"mapped",[107]],[[120209,120209],"mapped",[108]],[[120210,120210],"mapped",[109]],[[120211,120211],"mapped",[110]],[[120212,120212],"mapped",[111]],[[120213,120213],"mapped",[112]],[[120214,120214],"mapped",[113]],[[120215,120215],"mapped",[114]],[[120216,120216],"mapped",[115]],[[120217,120217],"mapped",[116]],[[120218,120218],"mapped",[117]],[[120219,120219],"mapped",[118]],[[120220,120220],"mapped",[119]],[[120221,120221],"mapped",[120]],[[120222,120222],"mapped",[121]],[[120223,120223],"mapped",[122]],[[120224,120224],"mapped",[97]],[[120225,120225],"mapped",[98]],[[120226,120226],"mapped",[99]],[[120227,120227],"mapped",[100]],[[120228,120228],"mapped",[101]],[[120229,120229],"mapped",[102]],[[120230,120230],"mapped",[103]],[[120231,120231],"mapped",[104]],[[120232,120232],"mapped",[105]],[[120233,120233],"mapped",[106]],[[120234,120234],"mapped",[107]],[[120235,120235],"mapped",[108]],[[120236,120236],"mapped",[109]],[[120237,120237],"mapped",[110]],[[120238,120238],"mapped",[111]],[[120239,120239],"mapped",[112]],[[120240,120240],"mapped",[113]],[[120241,120241],"mapped",[114]],[[120242,120242],"mapped",[115]],[[120243,120243],"mapped",[116]],[[120244,120244],"mapped",[117]],[[120245,120245],"mapped",[118]],[[120246,120246],"mapped",[119]],[[120247,120247],"mapped",[120]],[[120248,120248],"mapped",[121]],[[120249,120249],"mapped",[122]],[[120250,120250],"mapped",[97]],[[120251,120251],"mapped",[98]],[[120252,120252],"mapped",[99]],[[120253,120253],"mapped",[100]],[[120254,120254],"mapped",[101]],[[120255,120255],"mapped",[102]],[[120256,120256],"mapped",[103]],[[120257,120257],"mapped",[104]],[[120258,120258],"mapped",[105]],[[120259,120259],"mapped",[106]],[[120260,120260],"mapped",[107]],[[120261,120261],"mapped",[108]],[[120262,120262],"mapped",[109]],[[120263,120263],"mapped",[110]],[[120264,120264],"mapped",[111]],[[120265,120265],"mapped",[112]],[[120266,120266],"mapped",[113]],[[120267,120267],"mapped",[114]],[[120268,120268],"mapped",[115]],[[120269,120269],"mapped",[116]],[[120270,120270],"mapped",[117]],[[120271,120271],"mapped",[118]],[[120272,120272],"mapped",[119]],[[120273,120273],"mapped",[120]],[[120274,120274],"mapped",[121]],[[120275,120275],"mapped",[122]],[[120276,120276],"mapped",[97]],[[120277,120277],"mapped",[98]],[[120278,120278],"mapped",[99]],[[120279,120279],"mapped",[100]],[[120280,120280],"mapped",[101]],[[120281,120281],"mapped",[102]],[[120282,120282],"mapped",[103]],[[120283,120283],"mapped",[104]],[[120284,120284],"mapped",[105]],[[120285,120285],"mapped",[106]],[[120286,120286],"mapped",[107]],[[120287,120287],"mapped",[108]],[[120288,120288],"mapped",[109]],[[120289,120289],"mapped",[110]],[[120290,120290],"mapped",[111]],[[120291,120291],"mapped",[112]],[[120292,120292],"mapped",[113]],[[120293,120293],"mapped",[114]],[[120294,120294],"mapped",[115]],[[120295,120295],"mapped",[116]],[[120296,120296],"mapped",[117]],[[120297,120297],"mapped",[118]],[[120298,120298],"mapped",[119]],[[120299,120299],"mapped",[120]],[[120300,120300],"mapped",[121]],[[120301,120301],"mapped",[122]],[[120302,120302],"mapped",[97]],[[120303,120303],"mapped",[98]],[[120304,120304],"mapped",[99]],[[120305,120305],"mapped",[100]],[[120306,120306],"mapped",[101]],[[120307,120307],"mapped",[102]],[[120308,120308],"mapped",[103]],[[120309,120309],"mapped",[104]],[[120310,120310],"mapped",[105]],[[120311,120311],"mapped",[106]],[[120312,120312],"mapped",[107]],[[120313,120313],"mapped",[108]],[[120314,120314],"mapped",[109]],[[120315,120315],"mapped",[110]],[[120316,120316],"mapped",[111]],[[120317,120317],"mapped",[112]],[[120318,120318],"mapped",[113]],[[120319,120319],"mapped",[114]],[[120320,120320],"mapped",[115]],[[120321,120321],"mapped",[116]],[[120322,120322],"mapped",[117]],[[120323,120323],"mapped",[118]],[[120324,120324],"mapped",[119]],[[120325,120325],"mapped",[120]],[[120326,120326],"mapped",[121]],[[120327,120327],"mapped",[122]],[[120328,120328],"mapped",[97]],[[120329,120329],"mapped",[98]],[[120330,120330],"mapped",[99]],[[120331,120331],"mapped",[100]],[[120332,120332],"mapped",[101]],[[120333,120333],"mapped",[102]],[[120334,120334],"mapped",[103]],[[120335,120335],"mapped",[104]],[[120336,120336],"mapped",[105]],[[120337,120337],"mapped",[106]],[[120338,120338],"mapped",[107]],[[120339,120339],"mapped",[108]],[[120340,120340],"mapped",[109]],[[120341,120341],"mapped",[110]],[[120342,120342],"mapped",[111]],[[120343,120343],"mapped",[112]],[[120344,120344],"mapped",[113]],[[120345,120345],"mapped",[114]],[[120346,120346],"mapped",[115]],[[120347,120347],"mapped",[116]],[[120348,120348],"mapped",[117]],[[120349,120349],"mapped",[118]],[[120350,120350],"mapped",[119]],[[120351,120351],"mapped",[120]],[[120352,120352],"mapped",[121]],[[120353,120353],"mapped",[122]],[[120354,120354],"mapped",[97]],[[120355,120355],"mapped",[98]],[[120356,120356],"mapped",[99]],[[120357,120357],"mapped",[100]],[[120358,120358],"mapped",[101]],[[120359,120359],"mapped",[102]],[[120360,120360],"mapped",[103]],[[120361,120361],"mapped",[104]],[[120362,120362],"mapped",[105]],[[120363,120363],"mapped",[106]],[[120364,120364],"mapped",[107]],[[120365,120365],"mapped",[108]],[[120366,120366],"mapped",[109]],[[120367,120367],"mapped",[110]],[[120368,120368],"mapped",[111]],[[120369,120369],"mapped",[112]],[[120370,120370],"mapped",[113]],[[120371,120371],"mapped",[114]],[[120372,120372],"mapped",[115]],[[120373,120373],"mapped",[116]],[[120374,120374],"mapped",[117]],[[120375,120375],"mapped",[118]],[[120376,120376],"mapped",[119]],[[120377,120377],"mapped",[120]],[[120378,120378],"mapped",[121]],[[120379,120379],"mapped",[122]],[[120380,120380],"mapped",[97]],[[120381,120381],"mapped",[98]],[[120382,120382],"mapped",[99]],[[120383,120383],"mapped",[100]],[[120384,120384],"mapped",[101]],[[120385,120385],"mapped",[102]],[[120386,120386],"mapped",[103]],[[120387,120387],"mapped",[104]],[[120388,120388],"mapped",[105]],[[120389,120389],"mapped",[106]],[[120390,120390],"mapped",[107]],[[120391,120391],"mapped",[108]],[[120392,120392],"mapped",[109]],[[120393,120393],"mapped",[110]],[[120394,120394],"mapped",[111]],[[120395,120395],"mapped",[112]],[[120396,120396],"mapped",[113]],[[120397,120397],"mapped",[114]],[[120398,120398],"mapped",[115]],[[120399,120399],"mapped",[116]],[[120400,120400],"mapped",[117]],[[120401,120401],"mapped",[118]],[[120402,120402],"mapped",[119]],[[120403,120403],"mapped",[120]],[[120404,120404],"mapped",[121]],[[120405,120405],"mapped",[122]],[[120406,120406],"mapped",[97]],[[120407,120407],"mapped",[98]],[[120408,120408],"mapped",[99]],[[120409,120409],"mapped",[100]],[[120410,120410],"mapped",[101]],[[120411,120411],"mapped",[102]],[[120412,120412],"mapped",[103]],[[120413,120413],"mapped",[104]],[[120414,120414],"mapped",[105]],[[120415,120415],"mapped",[106]],[[120416,120416],"mapped",[107]],[[120417,120417],"mapped",[108]],[[120418,120418],"mapped",[109]],[[120419,120419],"mapped",[110]],[[120420,120420],"mapped",[111]],[[120421,120421],"mapped",[112]],[[120422,120422],"mapped",[113]],[[120423,120423],"mapped",[114]],[[120424,120424],"mapped",[115]],[[120425,120425],"mapped",[116]],[[120426,120426],"mapped",[117]],[[120427,120427],"mapped",[118]],[[120428,120428],"mapped",[119]],[[120429,120429],"mapped",[120]],[[120430,120430],"mapped",[121]],[[120431,120431],"mapped",[122]],[[120432,120432],"mapped",[97]],[[120433,120433],"mapped",[98]],[[120434,120434],"mapped",[99]],[[120435,120435],"mapped",[100]],[[120436,120436],"mapped",[101]],[[120437,120437],"mapped",[102]],[[120438,120438],"mapped",[103]],[[120439,120439],"mapped",[104]],[[120440,120440],"mapped",[105]],[[120441,120441],"mapped",[106]],[[120442,120442],"mapped",[107]],[[120443,120443],"mapped",[108]],[[120444,120444],"mapped",[109]],[[120445,120445],"mapped",[110]],[[120446,120446],"mapped",[111]],[[120447,120447],"mapped",[112]],[[120448,120448],"mapped",[113]],[[120449,120449],"mapped",[114]],[[120450,120450],"mapped",[115]],[[120451,120451],"mapped",[116]],[[120452,120452],"mapped",[117]],[[120453,120453],"mapped",[118]],[[120454,120454],"mapped",[119]],[[120455,120455],"mapped",[120]],[[120456,120456],"mapped",[121]],[[120457,120457],"mapped",[122]],[[120458,120458],"mapped",[97]],[[120459,120459],"mapped",[98]],[[120460,120460],"mapped",[99]],[[120461,120461],"mapped",[100]],[[120462,120462],"mapped",[101]],[[120463,120463],"mapped",[102]],[[120464,120464],"mapped",[103]],[[120465,120465],"mapped",[104]],[[120466,120466],"mapped",[105]],[[120467,120467],"mapped",[106]],[[120468,120468],"mapped",[107]],[[120469,120469],"mapped",[108]],[[120470,120470],"mapped",[109]],[[120471,120471],"mapped",[110]],[[120472,120472],"mapped",[111]],[[120473,120473],"mapped",[112]],[[120474,120474],"mapped",[113]],[[120475,120475],"mapped",[114]],[[120476,120476],"mapped",[115]],[[120477,120477],"mapped",[116]],[[120478,120478],"mapped",[117]],[[120479,120479],"mapped",[118]],[[120480,120480],"mapped",[119]],[[120481,120481],"mapped",[120]],[[120482,120482],"mapped",[121]],[[120483,120483],"mapped",[122]],[[120484,120484],"mapped",[305]],[[120485,120485],"mapped",[567]],[[120486,120487],"disallowed"],[[120488,120488],"mapped",[945]],[[120489,120489],"mapped",[946]],[[120490,120490],"mapped",[947]],[[120491,120491],"mapped",[948]],[[120492,120492],"mapped",[949]],[[120493,120493],"mapped",[950]],[[120494,120494],"mapped",[951]],[[120495,120495],"mapped",[952]],[[120496,120496],"mapped",[953]],[[120497,120497],"mapped",[954]],[[120498,120498],"mapped",[955]],[[120499,120499],"mapped",[956]],[[120500,120500],"mapped",[957]],[[120501,120501],"mapped",[958]],[[120502,120502],"mapped",[959]],[[120503,120503],"mapped",[960]],[[120504,120504],"mapped",[961]],[[120505,120505],"mapped",[952]],[[120506,120506],"mapped",[963]],[[120507,120507],"mapped",[964]],[[120508,120508],"mapped",[965]],[[120509,120509],"mapped",[966]],[[120510,120510],"mapped",[967]],[[120511,120511],"mapped",[968]],[[120512,120512],"mapped",[969]],[[120513,120513],"mapped",[8711]],[[120514,120514],"mapped",[945]],[[120515,120515],"mapped",[946]],[[120516,120516],"mapped",[947]],[[120517,120517],"mapped",[948]],[[120518,120518],"mapped",[949]],[[120519,120519],"mapped",[950]],[[120520,120520],"mapped",[951]],[[120521,120521],"mapped",[952]],[[120522,120522],"mapped",[953]],[[120523,120523],"mapped",[954]],[[120524,120524],"mapped",[955]],[[120525,120525],"mapped",[956]],[[120526,120526],"mapped",[957]],[[120527,120527],"mapped",[958]],[[120528,120528],"mapped",[959]],[[120529,120529],"mapped",[960]],[[120530,120530],"mapped",[961]],[[120531,120532],"mapped",[963]],[[120533,120533],"mapped",[964]],[[120534,120534],"mapped",[965]],[[120535,120535],"mapped",[966]],[[120536,120536],"mapped",[967]],[[120537,120537],"mapped",[968]],[[120538,120538],"mapped",[969]],[[120539,120539],"mapped",[8706]],[[120540,120540],"mapped",[949]],[[120541,120541],"mapped",[952]],[[120542,120542],"mapped",[954]],[[120543,120543],"mapped",[966]],[[120544,120544],"mapped",[961]],[[120545,120545],"mapped",[960]],[[120546,120546],"mapped",[945]],[[120547,120547],"mapped",[946]],[[120548,120548],"mapped",[947]],[[120549,120549],"mapped",[948]],[[120550,120550],"mapped",[949]],[[120551,120551],"mapped",[950]],[[120552,120552],"mapped",[951]],[[120553,120553],"mapped",[952]],[[120554,120554],"mapped",[953]],[[120555,120555],"mapped",[954]],[[120556,120556],"mapped",[955]],[[120557,120557],"mapped",[956]],[[120558,120558],"mapped",[957]],[[120559,120559],"mapped",[958]],[[120560,120560],"mapped",[959]],[[120561,120561],"mapped",[960]],[[120562,120562],"mapped",[961]],[[120563,120563],"mapped",[952]],[[120564,120564],"mapped",[963]],[[120565,120565],"mapped",[964]],[[120566,120566],"mapped",[965]],[[120567,120567],"mapped",[966]],[[120568,120568],"mapped",[967]],[[120569,120569],"mapped",[968]],[[120570,120570],"mapped",[969]],[[120571,120571],"mapped",[8711]],[[120572,120572],"mapped",[945]],[[120573,120573],"mapped",[946]],[[120574,120574],"mapped",[947]],[[120575,120575],"mapped",[948]],[[120576,120576],"mapped",[949]],[[120577,120577],"mapped",[950]],[[120578,120578],"mapped",[951]],[[120579,120579],"mapped",[952]],[[120580,120580],"mapped",[953]],[[120581,120581],"mapped",[954]],[[120582,120582],"mapped",[955]],[[120583,120583],"mapped",[956]],[[120584,120584],"mapped",[957]],[[120585,120585],"mapped",[958]],[[120586,120586],"mapped",[959]],[[120587,120587],"mapped",[960]],[[120588,120588],"mapped",[961]],[[120589,120590],"mapped",[963]],[[120591,120591],"mapped",[964]],[[120592,120592],"mapped",[965]],[[120593,120593],"mapped",[966]],[[120594,120594],"mapped",[967]],[[120595,120595],"mapped",[968]],[[120596,120596],"mapped",[969]],[[120597,120597],"mapped",[8706]],[[120598,120598],"mapped",[949]],[[120599,120599],"mapped",[952]],[[120600,120600],"mapped",[954]],[[120601,120601],"mapped",[966]],[[120602,120602],"mapped",[961]],[[120603,120603],"mapped",[960]],[[120604,120604],"mapped",[945]],[[120605,120605],"mapped",[946]],[[120606,120606],"mapped",[947]],[[120607,120607],"mapped",[948]],[[120608,120608],"mapped",[949]],[[120609,120609],"mapped",[950]],[[120610,120610],"mapped",[951]],[[120611,120611],"mapped",[952]],[[120612,120612],"mapped",[953]],[[120613,120613],"mapped",[954]],[[120614,120614],"mapped",[955]],[[120615,120615],"mapped",[956]],[[120616,120616],"mapped",[957]],[[120617,120617],"mapped",[958]],[[120618,120618],"mapped",[959]],[[120619,120619],"mapped",[960]],[[120620,120620],"mapped",[961]],[[120621,120621],"mapped",[952]],[[120622,120622],"mapped",[963]],[[120623,120623],"mapped",[964]],[[120624,120624],"mapped",[965]],[[120625,120625],"mapped",[966]],[[120626,120626],"mapped",[967]],[[120627,120627],"mapped",[968]],[[120628,120628],"mapped",[969]],[[120629,120629],"mapped",[8711]],[[120630,120630],"mapped",[945]],[[120631,120631],"mapped",[946]],[[120632,120632],"mapped",[947]],[[120633,120633],"mapped",[948]],[[120634,120634],"mapped",[949]],[[120635,120635],"mapped",[950]],[[120636,120636],"mapped",[951]],[[120637,120637],"mapped",[952]],[[120638,120638],"mapped",[953]],[[120639,120639],"mapped",[954]],[[120640,120640],"mapped",[955]],[[120641,120641],"mapped",[956]],[[120642,120642],"mapped",[957]],[[120643,120643],"mapped",[958]],[[120644,120644],"mapped",[959]],[[120645,120645],"mapped",[960]],[[120646,120646],"mapped",[961]],[[120647,120648],"mapped",[963]],[[120649,120649],"mapped",[964]],[[120650,120650],"mapped",[965]],[[120651,120651],"mapped",[966]],[[120652,120652],"mapped",[967]],[[120653,120653],"mapped",[968]],[[120654,120654],"mapped",[969]],[[120655,120655],"mapped",[8706]],[[120656,120656],"mapped",[949]],[[120657,120657],"mapped",[952]],[[120658,120658],"mapped",[954]],[[120659,120659],"mapped",[966]],[[120660,120660],"mapped",[961]],[[120661,120661],"mapped",[960]],[[120662,120662],"mapped",[945]],[[120663,120663],"mapped",[946]],[[120664,120664],"mapped",[947]],[[120665,120665],"mapped",[948]],[[120666,120666],"mapped",[949]],[[120667,120667],"mapped",[950]],[[120668,120668],"mapped",[951]],[[120669,120669],"mapped",[952]],[[120670,120670],"mapped",[953]],[[120671,120671],"mapped",[954]],[[120672,120672],"mapped",[955]],[[120673,120673],"mapped",[956]],[[120674,120674],"mapped",[957]],[[120675,120675],"mapped",[958]],[[120676,120676],"mapped",[959]],[[120677,120677],"mapped",[960]],[[120678,120678],"mapped",[961]],[[120679,120679],"mapped",[952]],[[120680,120680],"mapped",[963]],[[120681,120681],"mapped",[964]],[[120682,120682],"mapped",[965]],[[120683,120683],"mapped",[966]],[[120684,120684],"mapped",[967]],[[120685,120685],"mapped",[968]],[[120686,120686],"mapped",[969]],[[120687,120687],"mapped",[8711]],[[120688,120688],"mapped",[945]],[[120689,120689],"mapped",[946]],[[120690,120690],"mapped",[947]],[[120691,120691],"mapped",[948]],[[120692,120692],"mapped",[949]],[[120693,120693],"mapped",[950]],[[120694,120694],"mapped",[951]],[[120695,120695],"mapped",[952]],[[120696,120696],"mapped",[953]],[[120697,120697],"mapped",[954]],[[120698,120698],"mapped",[955]],[[120699,120699],"mapped",[956]],[[120700,120700],"mapped",[957]],[[120701,120701],"mapped",[958]],[[120702,120702],"mapped",[959]],[[120703,120703],"mapped",[960]],[[120704,120704],"mapped",[961]],[[120705,120706],"mapped",[963]],[[120707,120707],"mapped",[964]],[[120708,120708],"mapped",[965]],[[120709,120709],"mapped",[966]],[[120710,120710],"mapped",[967]],[[120711,120711],"mapped",[968]],[[120712,120712],"mapped",[969]],[[120713,120713],"mapped",[8706]],[[120714,120714],"mapped",[949]],[[120715,120715],"mapped",[952]],[[120716,120716],"mapped",[954]],[[120717,120717],"mapped",[966]],[[120718,120718],"mapped",[961]],[[120719,120719],"mapped",[960]],[[120720,120720],"mapped",[945]],[[120721,120721],"mapped",[946]],[[120722,120722],"mapped",[947]],[[120723,120723],"mapped",[948]],[[120724,120724],"mapped",[949]],[[120725,120725],"mapped",[950]],[[120726,120726],"mapped",[951]],[[120727,120727],"mapped",[952]],[[120728,120728],"mapped",[953]],[[120729,120729],"mapped",[954]],[[120730,120730],"mapped",[955]],[[120731,120731],"mapped",[956]],[[120732,120732],"mapped",[957]],[[120733,120733],"mapped",[958]],[[120734,120734],"mapped",[959]],[[120735,120735],"mapped",[960]],[[120736,120736],"mapped",[961]],[[120737,120737],"mapped",[952]],[[120738,120738],"mapped",[963]],[[120739,120739],"mapped",[964]],[[120740,120740],"mapped",[965]],[[120741,120741],"mapped",[966]],[[120742,120742],"mapped",[967]],[[120743,120743],"mapped",[968]],[[120744,120744],"mapped",[969]],[[120745,120745],"mapped",[8711]],[[120746,120746],"mapped",[945]],[[120747,120747],"mapped",[946]],[[120748,120748],"mapped",[947]],[[120749,120749],"mapped",[948]],[[120750,120750],"mapped",[949]],[[120751,120751],"mapped",[950]],[[120752,120752],"mapped",[951]],[[120753,120753],"mapped",[952]],[[120754,120754],"mapped",[953]],[[120755,120755],"mapped",[954]],[[120756,120756],"mapped",[955]],[[120757,120757],"mapped",[956]],[[120758,120758],"mapped",[957]],[[120759,120759],"mapped",[958]],[[120760,120760],"mapped",[959]],[[120761,120761],"mapped",[960]],[[120762,120762],"mapped",[961]],[[120763,120764],"mapped",[963]],[[120765,120765],"mapped",[964]],[[120766,120766],"mapped",[965]],[[120767,120767],"mapped",[966]],[[120768,120768],"mapped",[967]],[[120769,120769],"mapped",[968]],[[120770,120770],"mapped",[969]],[[120771,120771],"mapped",[8706]],[[120772,120772],"mapped",[949]],[[120773,120773],"mapped",[952]],[[120774,120774],"mapped",[954]],[[120775,120775],"mapped",[966]],[[120776,120776],"mapped",[961]],[[120777,120777],"mapped",[960]],[[120778,120779],"mapped",[989]],[[120780,120781],"disallowed"],[[120782,120782],"mapped",[48]],[[120783,120783],"mapped",[49]],[[120784,120784],"mapped",[50]],[[120785,120785],"mapped",[51]],[[120786,120786],"mapped",[52]],[[120787,120787],"mapped",[53]],[[120788,120788],"mapped",[54]],[[120789,120789],"mapped",[55]],[[120790,120790],"mapped",[56]],[[120791,120791],"mapped",[57]],[[120792,120792],"mapped",[48]],[[120793,120793],"mapped",[49]],[[120794,120794],"mapped",[50]],[[120795,120795],"mapped",[51]],[[120796,120796],"mapped",[52]],[[120797,120797],"mapped",[53]],[[120798,120798],"mapped",[54]],[[120799,120799],"mapped",[55]],[[120800,120800],"mapped",[56]],[[120801,120801],"mapped",[57]],[[120802,120802],"mapped",[48]],[[120803,120803],"mapped",[49]],[[120804,120804],"mapped",[50]],[[120805,120805],"mapped",[51]],[[120806,120806],"mapped",[52]],[[120807,120807],"mapped",[53]],[[120808,120808],"mapped",[54]],[[120809,120809],"mapped",[55]],[[120810,120810],"mapped",[56]],[[120811,120811],"mapped",[57]],[[120812,120812],"mapped",[48]],[[120813,120813],"mapped",[49]],[[120814,120814],"mapped",[50]],[[120815,120815],"mapped",[51]],[[120816,120816],"mapped",[52]],[[120817,120817],"mapped",[53]],[[120818,120818],"mapped",[54]],[[120819,120819],"mapped",[55]],[[120820,120820],"mapped",[56]],[[120821,120821],"mapped",[57]],[[120822,120822],"mapped",[48]],[[120823,120823],"mapped",[49]],[[120824,120824],"mapped",[50]],[[120825,120825],"mapped",[51]],[[120826,120826],"mapped",[52]],[[120827,120827],"mapped",[53]],[[120828,120828],"mapped",[54]],[[120829,120829],"mapped",[55]],[[120830,120830],"mapped",[56]],[[120831,120831],"mapped",[57]],[[120832,121343],"valid",[],"NV8"],[[121344,121398],"valid"],[[121399,121402],"valid",[],"NV8"],[[121403,121452],"valid"],[[121453,121460],"valid",[],"NV8"],[[121461,121461],"valid"],[[121462,121475],"valid",[],"NV8"],[[121476,121476],"valid"],[[121477,121483],"valid",[],"NV8"],[[121484,121498],"disallowed"],[[121499,121503],"valid"],[[121504,121504],"disallowed"],[[121505,121519],"valid"],[[121520,124927],"disallowed"],[[124928,125124],"valid"],[[125125,125126],"disallowed"],[[125127,125135],"valid",[],"NV8"],[[125136,125142],"valid"],[[125143,126463],"disallowed"],[[126464,126464],"mapped",[1575]],[[126465,126465],"mapped",[1576]],[[126466,126466],"mapped",[1580]],[[126467,126467],"mapped",[1583]],[[126468,126468],"disallowed"],[[126469,126469],"mapped",[1608]],[[126470,126470],"mapped",[1586]],[[126471,126471],"mapped",[1581]],[[126472,126472],"mapped",[1591]],[[126473,126473],"mapped",[1610]],[[126474,126474],"mapped",[1603]],[[126475,126475],"mapped",[1604]],[[126476,126476],"mapped",[1605]],[[126477,126477],"mapped",[1606]],[[126478,126478],"mapped",[1587]],[[126479,126479],"mapped",[1593]],[[126480,126480],"mapped",[1601]],[[126481,126481],"mapped",[1589]],[[126482,126482],"mapped",[1602]],[[126483,126483],"mapped",[1585]],[[126484,126484],"mapped",[1588]],[[126485,126485],"mapped",[1578]],[[126486,126486],"mapped",[1579]],[[126487,126487],"mapped",[1582]],[[126488,126488],"mapped",[1584]],[[126489,126489],"mapped",[1590]],[[126490,126490],"mapped",[1592]],[[126491,126491],"mapped",[1594]],[[126492,126492],"mapped",[1646]],[[126493,126493],"mapped",[1722]],[[126494,126494],"mapped",[1697]],[[126495,126495],"mapped",[1647]],[[126496,126496],"disallowed"],[[126497,126497],"mapped",[1576]],[[126498,126498],"mapped",[1580]],[[126499,126499],"disallowed"],[[126500,126500],"mapped",[1607]],[[126501,126502],"disallowed"],[[126503,126503],"mapped",[1581]],[[126504,126504],"disallowed"],[[126505,126505],"mapped",[1610]],[[126506,126506],"mapped",[1603]],[[126507,126507],"mapped",[1604]],[[126508,126508],"mapped",[1605]],[[126509,126509],"mapped",[1606]],[[126510,126510],"mapped",[1587]],[[126511,126511],"mapped",[1593]],[[126512,126512],"mapped",[1601]],[[126513,126513],"mapped",[1589]],[[126514,126514],"mapped",[1602]],[[126515,126515],"disallowed"],[[126516,126516],"mapped",[1588]],[[126517,126517],"mapped",[1578]],[[126518,126518],"mapped",[1579]],[[126519,126519],"mapped",[1582]],[[126520,126520],"disallowed"],[[126521,126521],"mapped",[1590]],[[126522,126522],"disallowed"],[[126523,126523],"mapped",[1594]],[[126524,126529],"disallowed"],[[126530,126530],"mapped",[1580]],[[126531,126534],"disallowed"],[[126535,126535],"mapped",[1581]],[[126536,126536],"disallowed"],[[126537,126537],"mapped",[1610]],[[126538,126538],"disallowed"],[[126539,126539],"mapped",[1604]],[[126540,126540],"disallowed"],[[126541,126541],"mapped",[1606]],[[126542,126542],"mapped",[1587]],[[126543,126543],"mapped",[1593]],[[126544,126544],"disallowed"],[[126545,126545],"mapped",[1589]],[[126546,126546],"mapped",[1602]],[[126547,126547],"disallowed"],[[126548,126548],"mapped",[1588]],[[126549,126550],"disallowed"],[[126551,126551],"mapped",[1582]],[[126552,126552],"disallowed"],[[126553,126553],"mapped",[1590]],[[126554,126554],"disallowed"],[[126555,126555],"mapped",[1594]],[[126556,126556],"disallowed"],[[126557,126557],"mapped",[1722]],[[126558,126558],"disallowed"],[[126559,126559],"mapped",[1647]],[[126560,126560],"disallowed"],[[126561,126561],"mapped",[1576]],[[126562,126562],"mapped",[1580]],[[126563,126563],"disallowed"],[[126564,126564],"mapped",[1607]],[[126565,126566],"disallowed"],[[126567,126567],"mapped",[1581]],[[126568,126568],"mapped",[1591]],[[126569,126569],"mapped",[1610]],[[126570,126570],"mapped",[1603]],[[126571,126571],"disallowed"],[[126572,126572],"mapped",[1605]],[[126573,126573],"mapped",[1606]],[[126574,126574],"mapped",[1587]],[[126575,126575],"mapped",[1593]],[[126576,126576],"mapped",[1601]],[[126577,126577],"mapped",[1589]],[[126578,126578],"mapped",[1602]],[[126579,126579],"disallowed"],[[126580,126580],"mapped",[1588]],[[126581,126581],"mapped",[1578]],[[126582,126582],"mapped",[1579]],[[126583,126583],"mapped",[1582]],[[126584,126584],"disallowed"],[[126585,126585],"mapped",[1590]],[[126586,126586],"mapped",[1592]],[[126587,126587],"mapped",[1594]],[[126588,126588],"mapped",[1646]],[[126589,126589],"disallowed"],[[126590,126590],"mapped",[1697]],[[126591,126591],"disallowed"],[[126592,126592],"mapped",[1575]],[[126593,126593],"mapped",[1576]],[[126594,126594],"mapped",[1580]],[[126595,126595],"mapped",[1583]],[[126596,126596],"mapped",[1607]],[[126597,126597],"mapped",[1608]],[[126598,126598],"mapped",[1586]],[[126599,126599],"mapped",[1581]],[[126600,126600],"mapped",[1591]],[[126601,126601],"mapped",[1610]],[[126602,126602],"disallowed"],[[126603,126603],"mapped",[1604]],[[126604,126604],"mapped",[1605]],[[126605,126605],"mapped",[1606]],[[126606,126606],"mapped",[1587]],[[126607,126607],"mapped",[1593]],[[126608,126608],"mapped",[1601]],[[126609,126609],"mapped",[1589]],[[126610,126610],"mapped",[1602]],[[126611,126611],"mapped",[1585]],[[126612,126612],"mapped",[1588]],[[126613,126613],"mapped",[1578]],[[126614,126614],"mapped",[1579]],[[126615,126615],"mapped",[1582]],[[126616,126616],"mapped",[1584]],[[126617,126617],"mapped",[1590]],[[126618,126618],"mapped",[1592]],[[126619,126619],"mapped",[1594]],[[126620,126624],"disallowed"],[[126625,126625],"mapped",[1576]],[[126626,126626],"mapped",[1580]],[[126627,126627],"mapped",[1583]],[[126628,126628],"disallowed"],[[126629,126629],"mapped",[1608]],[[126630,126630],"mapped",[1586]],[[126631,126631],"mapped",[1581]],[[126632,126632],"mapped",[1591]],[[126633,126633],"mapped",[1610]],[[126634,126634],"disallowed"],[[126635,126635],"mapped",[1604]],[[126636,126636],"mapped",[1605]],[[126637,126637],"mapped",[1606]],[[126638,126638],"mapped",[1587]],[[126639,126639],"mapped",[1593]],[[126640,126640],"mapped",[1601]],[[126641,126641],"mapped",[1589]],[[126642,126642],"mapped",[1602]],[[126643,126643],"mapped",[1585]],[[126644,126644],"mapped",[1588]],[[126645,126645],"mapped",[1578]],[[126646,126646],"mapped",[1579]],[[126647,126647],"mapped",[1582]],[[126648,126648],"mapped",[1584]],[[126649,126649],"mapped",[1590]],[[126650,126650],"mapped",[1592]],[[126651,126651],"mapped",[1594]],[[126652,126703],"disallowed"],[[126704,126705],"valid",[],"NV8"],[[126706,126975],"disallowed"],[[126976,127019],"valid",[],"NV8"],[[127020,127023],"disallowed"],[[127024,127123],"valid",[],"NV8"],[[127124,127135],"disallowed"],[[127136,127150],"valid",[],"NV8"],[[127151,127152],"disallowed"],[[127153,127166],"valid",[],"NV8"],[[127167,127167],"valid",[],"NV8"],[[127168,127168],"disallowed"],[[127169,127183],"valid",[],"NV8"],[[127184,127184],"disallowed"],[[127185,127199],"valid",[],"NV8"],[[127200,127221],"valid",[],"NV8"],[[127222,127231],"disallowed"],[[127232,127232],"disallowed"],[[127233,127233],"disallowed_STD3_mapped",[48,44]],[[127234,127234],"disallowed_STD3_mapped",[49,44]],[[127235,127235],"disallowed_STD3_mapped",[50,44]],[[127236,127236],"disallowed_STD3_mapped",[51,44]],[[127237,127237],"disallowed_STD3_mapped",[52,44]],[[127238,127238],"disallowed_STD3_mapped",[53,44]],[[127239,127239],"disallowed_STD3_mapped",[54,44]],[[127240,127240],"disallowed_STD3_mapped",[55,44]],[[127241,127241],"disallowed_STD3_mapped",[56,44]],[[127242,127242],"disallowed_STD3_mapped",[57,44]],[[127243,127244],"valid",[],"NV8"],[[127245,127247],"disallowed"],[[127248,127248],"disallowed_STD3_mapped",[40,97,41]],[[127249,127249],"disallowed_STD3_mapped",[40,98,41]],[[127250,127250],"disallowed_STD3_mapped",[40,99,41]],[[127251,127251],"disallowed_STD3_mapped",[40,100,41]],[[127252,127252],"disallowed_STD3_mapped",[40,101,41]],[[127253,127253],"disallowed_STD3_mapped",[40,102,41]],[[127254,127254],"disallowed_STD3_mapped",[40,103,41]],[[127255,127255],"disallowed_STD3_mapped",[40,104,41]],[[127256,127256],"disallowed_STD3_mapped",[40,105,41]],[[127257,127257],"disallowed_STD3_mapped",[40,106,41]],[[127258,127258],"disallowed_STD3_mapped",[40,107,41]],[[127259,127259],"disallowed_STD3_mapped",[40,108,41]],[[127260,127260],"disallowed_STD3_mapped",[40,109,41]],[[127261,127261],"disallowed_STD3_mapped",[40,110,41]],[[127262,127262],"disallowed_STD3_mapped",[40,111,41]],[[127263,127263],"disallowed_STD3_mapped",[40,112,41]],[[127264,127264],"disallowed_STD3_mapped",[40,113,41]],[[127265,127265],"disallowed_STD3_mapped",[40,114,41]],[[127266,127266],"disallowed_STD3_mapped",[40,115,41]],[[127267,127267],"disallowed_STD3_mapped",[40,116,41]],[[127268,127268],"disallowed_STD3_mapped",[40,117,41]],[[127269,127269],"disallowed_STD3_mapped",[40,118,41]],[[127270,127270],"disallowed_STD3_mapped",[40,119,41]],[[127271,127271],"disallowed_STD3_mapped",[40,120,41]],[[127272,127272],"disallowed_STD3_mapped",[40,121,41]],[[127273,127273],"disallowed_STD3_mapped",[40,122,41]],[[127274,127274],"mapped",[12308,115,12309]],[[127275,127275],"mapped",[99]],[[127276,127276],"mapped",[114]],[[127277,127277],"mapped",[99,100]],[[127278,127278],"mapped",[119,122]],[[127279,127279],"disallowed"],[[127280,127280],"mapped",[97]],[[127281,127281],"mapped",[98]],[[127282,127282],"mapped",[99]],[[127283,127283],"mapped",[100]],[[127284,127284],"mapped",[101]],[[127285,127285],"mapped",[102]],[[127286,127286],"mapped",[103]],[[127287,127287],"mapped",[104]],[[127288,127288],"mapped",[105]],[[127289,127289],"mapped",[106]],[[127290,127290],"mapped",[107]],[[127291,127291],"mapped",[108]],[[127292,127292],"mapped",[109]],[[127293,127293],"mapped",[110]],[[127294,127294],"mapped",[111]],[[127295,127295],"mapped",[112]],[[127296,127296],"mapped",[113]],[[127297,127297],"mapped",[114]],[[127298,127298],"mapped",[115]],[[127299,127299],"mapped",[116]],[[127300,127300],"mapped",[117]],[[127301,127301],"mapped",[118]],[[127302,127302],"mapped",[119]],[[127303,127303],"mapped",[120]],[[127304,127304],"mapped",[121]],[[127305,127305],"mapped",[122]],[[127306,127306],"mapped",[104,118]],[[127307,127307],"mapped",[109,118]],[[127308,127308],"mapped",[115,100]],[[127309,127309],"mapped",[115,115]],[[127310,127310],"mapped",[112,112,118]],[[127311,127311],"mapped",[119,99]],[[127312,127318],"valid",[],"NV8"],[[127319,127319],"valid",[],"NV8"],[[127320,127326],"valid",[],"NV8"],[[127327,127327],"valid",[],"NV8"],[[127328,127337],"valid",[],"NV8"],[[127338,127338],"mapped",[109,99]],[[127339,127339],"mapped",[109,100]],[[127340,127343],"disallowed"],[[127344,127352],"valid",[],"NV8"],[[127353,127353],"valid",[],"NV8"],[[127354,127354],"valid",[],"NV8"],[[127355,127356],"valid",[],"NV8"],[[127357,127358],"valid",[],"NV8"],[[127359,127359],"valid",[],"NV8"],[[127360,127369],"valid",[],"NV8"],[[127370,127373],"valid",[],"NV8"],[[127374,127375],"valid",[],"NV8"],[[127376,127376],"mapped",[100,106]],[[127377,127386],"valid",[],"NV8"],[[127387,127461],"disallowed"],[[127462,127487],"valid",[],"NV8"],[[127488,127488],"mapped",[12411,12363]],[[127489,127489],"mapped",[12467,12467]],[[127490,127490],"mapped",[12469]],[[127491,127503],"disallowed"],[[127504,127504],"mapped",[25163]],[[127505,127505],"mapped",[23383]],[[127506,127506],"mapped",[21452]],[[127507,127507],"mapped",[12487]],[[127508,127508],"mapped",[20108]],[[127509,127509],"mapped",[22810]],[[127510,127510],"mapped",[35299]],[[127511,127511],"mapped",[22825]],[[127512,127512],"mapped",[20132]],[[127513,127513],"mapped",[26144]],[[127514,127514],"mapped",[28961]],[[127515,127515],"mapped",[26009]],[[127516,127516],"mapped",[21069]],[[127517,127517],"mapped",[24460]],[[127518,127518],"mapped",[20877]],[[127519,127519],"mapped",[26032]],[[127520,127520],"mapped",[21021]],[[127521,127521],"mapped",[32066]],[[127522,127522],"mapped",[29983]],[[127523,127523],"mapped",[36009]],[[127524,127524],"mapped",[22768]],[[127525,127525],"mapped",[21561]],[[127526,127526],"mapped",[28436]],[[127527,127527],"mapped",[25237]],[[127528,127528],"mapped",[25429]],[[127529,127529],"mapped",[19968]],[[127530,127530],"mapped",[19977]],[[127531,127531],"mapped",[36938]],[[127532,127532],"mapped",[24038]],[[127533,127533],"mapped",[20013]],[[127534,127534],"mapped",[21491]],[[127535,127535],"mapped",[25351]],[[127536,127536],"mapped",[36208]],[[127537,127537],"mapped",[25171]],[[127538,127538],"mapped",[31105]],[[127539,127539],"mapped",[31354]],[[127540,127540],"mapped",[21512]],[[127541,127541],"mapped",[28288]],[[127542,127542],"mapped",[26377]],[[127543,127543],"mapped",[26376]],[[127544,127544],"mapped",[30003]],[[127545,127545],"mapped",[21106]],[[127546,127546],"mapped",[21942]],[[127547,127551],"disallowed"],[[127552,127552],"mapped",[12308,26412,12309]],[[127553,127553],"mapped",[12308,19977,12309]],[[127554,127554],"mapped",[12308,20108,12309]],[[127555,127555],"mapped",[12308,23433,12309]],[[127556,127556],"mapped",[12308,28857,12309]],[[127557,127557],"mapped",[12308,25171,12309]],[[127558,127558],"mapped",[12308,30423,12309]],[[127559,127559],"mapped",[12308,21213,12309]],[[127560,127560],"mapped",[12308,25943,12309]],[[127561,127567],"disallowed"],[[127568,127568],"mapped",[24471]],[[127569,127569],"mapped",[21487]],[[127570,127743],"disallowed"],[[127744,127776],"valid",[],"NV8"],[[127777,127788],"valid",[],"NV8"],[[127789,127791],"valid",[],"NV8"],[[127792,127797],"valid",[],"NV8"],[[127798,127798],"valid",[],"NV8"],[[127799,127868],"valid",[],"NV8"],[[127869,127869],"valid",[],"NV8"],[[127870,127871],"valid",[],"NV8"],[[127872,127891],"valid",[],"NV8"],[[127892,127903],"valid",[],"NV8"],[[127904,127940],"valid",[],"NV8"],[[127941,127941],"valid",[],"NV8"],[[127942,127946],"valid",[],"NV8"],[[127947,127950],"valid",[],"NV8"],[[127951,127955],"valid",[],"NV8"],[[127956,127967],"valid",[],"NV8"],[[127968,127984],"valid",[],"NV8"],[[127985,127991],"valid",[],"NV8"],[[127992,127999],"valid",[],"NV8"],[[128e3,128062],"valid",[],"NV8"],[[128063,128063],"valid",[],"NV8"],[[128064,128064],"valid",[],"NV8"],[[128065,128065],"valid",[],"NV8"],[[128066,128247],"valid",[],"NV8"],[[128248,128248],"valid",[],"NV8"],[[128249,128252],"valid",[],"NV8"],[[128253,128254],"valid",[],"NV8"],[[128255,128255],"valid",[],"NV8"],[[128256,128317],"valid",[],"NV8"],[[128318,128319],"valid",[],"NV8"],[[128320,128323],"valid",[],"NV8"],[[128324,128330],"valid",[],"NV8"],[[128331,128335],"valid",[],"NV8"],[[128336,128359],"valid",[],"NV8"],[[128360,128377],"valid",[],"NV8"],[[128378,128378],"disallowed"],[[128379,128419],"valid",[],"NV8"],[[128420,128420],"disallowed"],[[128421,128506],"valid",[],"NV8"],[[128507,128511],"valid",[],"NV8"],[[128512,128512],"valid",[],"NV8"],[[128513,128528],"valid",[],"NV8"],[[128529,128529],"valid",[],"NV8"],[[128530,128532],"valid",[],"NV8"],[[128533,128533],"valid",[],"NV8"],[[128534,128534],"valid",[],"NV8"],[[128535,128535],"valid",[],"NV8"],[[128536,128536],"valid",[],"NV8"],[[128537,128537],"valid",[],"NV8"],[[128538,128538],"valid",[],"NV8"],[[128539,128539],"valid",[],"NV8"],[[128540,128542],"valid",[],"NV8"],[[128543,128543],"valid",[],"NV8"],[[128544,128549],"valid",[],"NV8"],[[128550,128551],"valid",[],"NV8"],[[128552,128555],"valid",[],"NV8"],[[128556,128556],"valid",[],"NV8"],[[128557,128557],"valid",[],"NV8"],[[128558,128559],"valid",[],"NV8"],[[128560,128563],"valid",[],"NV8"],[[128564,128564],"valid",[],"NV8"],[[128565,128576],"valid",[],"NV8"],[[128577,128578],"valid",[],"NV8"],[[128579,128580],"valid",[],"NV8"],[[128581,128591],"valid",[],"NV8"],[[128592,128639],"valid",[],"NV8"],[[128640,128709],"valid",[],"NV8"],[[128710,128719],"valid",[],"NV8"],[[128720,128720],"valid",[],"NV8"],[[128721,128735],"disallowed"],[[128736,128748],"valid",[],"NV8"],[[128749,128751],"disallowed"],[[128752,128755],"valid",[],"NV8"],[[128756,128767],"disallowed"],[[128768,128883],"valid",[],"NV8"],[[128884,128895],"disallowed"],[[128896,128980],"valid",[],"NV8"],[[128981,129023],"disallowed"],[[129024,129035],"valid",[],"NV8"],[[129036,129039],"disallowed"],[[129040,129095],"valid",[],"NV8"],[[129096,129103],"disallowed"],[[129104,129113],"valid",[],"NV8"],[[129114,129119],"disallowed"],[[129120,129159],"valid",[],"NV8"],[[129160,129167],"disallowed"],[[129168,129197],"valid",[],"NV8"],[[129198,129295],"disallowed"],[[129296,129304],"valid",[],"NV8"],[[129305,129407],"disallowed"],[[129408,129412],"valid",[],"NV8"],[[129413,129471],"disallowed"],[[129472,129472],"valid",[],"NV8"],[[129473,131069],"disallowed"],[[131070,131071],"disallowed"],[[131072,173782],"valid"],[[173783,173823],"disallowed"],[[173824,177972],"valid"],[[177973,177983],"disallowed"],[[177984,178205],"valid"],[[178206,178207],"disallowed"],[[178208,183969],"valid"],[[183970,194559],"disallowed"],[[194560,194560],"mapped",[20029]],[[194561,194561],"mapped",[20024]],[[194562,194562],"mapped",[20033]],[[194563,194563],"mapped",[131362]],[[194564,194564],"mapped",[20320]],[[194565,194565],"mapped",[20398]],[[194566,194566],"mapped",[20411]],[[194567,194567],"mapped",[20482]],[[194568,194568],"mapped",[20602]],[[194569,194569],"mapped",[20633]],[[194570,194570],"mapped",[20711]],[[194571,194571],"mapped",[20687]],[[194572,194572],"mapped",[13470]],[[194573,194573],"mapped",[132666]],[[194574,194574],"mapped",[20813]],[[194575,194575],"mapped",[20820]],[[194576,194576],"mapped",[20836]],[[194577,194577],"mapped",[20855]],[[194578,194578],"mapped",[132380]],[[194579,194579],"mapped",[13497]],[[194580,194580],"mapped",[20839]],[[194581,194581],"mapped",[20877]],[[194582,194582],"mapped",[132427]],[[194583,194583],"mapped",[20887]],[[194584,194584],"mapped",[20900]],[[194585,194585],"mapped",[20172]],[[194586,194586],"mapped",[20908]],[[194587,194587],"mapped",[20917]],[[194588,194588],"mapped",[168415]],[[194589,194589],"mapped",[20981]],[[194590,194590],"mapped",[20995]],[[194591,194591],"mapped",[13535]],[[194592,194592],"mapped",[21051]],[[194593,194593],"mapped",[21062]],[[194594,194594],"mapped",[21106]],[[194595,194595],"mapped",[21111]],[[194596,194596],"mapped",[13589]],[[194597,194597],"mapped",[21191]],[[194598,194598],"mapped",[21193]],[[194599,194599],"mapped",[21220]],[[194600,194600],"mapped",[21242]],[[194601,194601],"mapped",[21253]],[[194602,194602],"mapped",[21254]],[[194603,194603],"mapped",[21271]],[[194604,194604],"mapped",[21321]],[[194605,194605],"mapped",[21329]],[[194606,194606],"mapped",[21338]],[[194607,194607],"mapped",[21363]],[[194608,194608],"mapped",[21373]],[[194609,194611],"mapped",[21375]],[[194612,194612],"mapped",[133676]],[[194613,194613],"mapped",[28784]],[[194614,194614],"mapped",[21450]],[[194615,194615],"mapped",[21471]],[[194616,194616],"mapped",[133987]],[[194617,194617],"mapped",[21483]],[[194618,194618],"mapped",[21489]],[[194619,194619],"mapped",[21510]],[[194620,194620],"mapped",[21662]],[[194621,194621],"mapped",[21560]],[[194622,194622],"mapped",[21576]],[[194623,194623],"mapped",[21608]],[[194624,194624],"mapped",[21666]],[[194625,194625],"mapped",[21750]],[[194626,194626],"mapped",[21776]],[[194627,194627],"mapped",[21843]],[[194628,194628],"mapped",[21859]],[[194629,194630],"mapped",[21892]],[[194631,194631],"mapped",[21913]],[[194632,194632],"mapped",[21931]],[[194633,194633],"mapped",[21939]],[[194634,194634],"mapped",[21954]],[[194635,194635],"mapped",[22294]],[[194636,194636],"mapped",[22022]],[[194637,194637],"mapped",[22295]],[[194638,194638],"mapped",[22097]],[[194639,194639],"mapped",[22132]],[[194640,194640],"mapped",[20999]],[[194641,194641],"mapped",[22766]],[[194642,194642],"mapped",[22478]],[[194643,194643],"mapped",[22516]],[[194644,194644],"mapped",[22541]],[[194645,194645],"mapped",[22411]],[[194646,194646],"mapped",[22578]],[[194647,194647],"mapped",[22577]],[[194648,194648],"mapped",[22700]],[[194649,194649],"mapped",[136420]],[[194650,194650],"mapped",[22770]],[[194651,194651],"mapped",[22775]],[[194652,194652],"mapped",[22790]],[[194653,194653],"mapped",[22810]],[[194654,194654],"mapped",[22818]],[[194655,194655],"mapped",[22882]],[[194656,194656],"mapped",[136872]],[[194657,194657],"mapped",[136938]],[[194658,194658],"mapped",[23020]],[[194659,194659],"mapped",[23067]],[[194660,194660],"mapped",[23079]],[[194661,194661],"mapped",[23e3]],[[194662,194662],"mapped",[23142]],[[194663,194663],"mapped",[14062]],[[194664,194664],"disallowed"],[[194665,194665],"mapped",[23304]],[[194666,194667],"mapped",[23358]],[[194668,194668],"mapped",[137672]],[[194669,194669],"mapped",[23491]],[[194670,194670],"mapped",[23512]],[[194671,194671],"mapped",[23527]],[[194672,194672],"mapped",[23539]],[[194673,194673],"mapped",[138008]],[[194674,194674],"mapped",[23551]],[[194675,194675],"mapped",[23558]],[[194676,194676],"disallowed"],[[194677,194677],"mapped",[23586]],[[194678,194678],"mapped",[14209]],[[194679,194679],"mapped",[23648]],[[194680,194680],"mapped",[23662]],[[194681,194681],"mapped",[23744]],[[194682,194682],"mapped",[23693]],[[194683,194683],"mapped",[138724]],[[194684,194684],"mapped",[23875]],[[194685,194685],"mapped",[138726]],[[194686,194686],"mapped",[23918]],[[194687,194687],"mapped",[23915]],[[194688,194688],"mapped",[23932]],[[194689,194689],"mapped",[24033]],[[194690,194690],"mapped",[24034]],[[194691,194691],"mapped",[14383]],[[194692,194692],"mapped",[24061]],[[194693,194693],"mapped",[24104]],[[194694,194694],"mapped",[24125]],[[194695,194695],"mapped",[24169]],[[194696,194696],"mapped",[14434]],[[194697,194697],"mapped",[139651]],[[194698,194698],"mapped",[14460]],[[194699,194699],"mapped",[24240]],[[194700,194700],"mapped",[24243]],[[194701,194701],"mapped",[24246]],[[194702,194702],"mapped",[24266]],[[194703,194703],"mapped",[172946]],[[194704,194704],"mapped",[24318]],[[194705,194706],"mapped",[140081]],[[194707,194707],"mapped",[33281]],[[194708,194709],"mapped",[24354]],[[194710,194710],"mapped",[14535]],[[194711,194711],"mapped",[144056]],[[194712,194712],"mapped",[156122]],[[194713,194713],"mapped",[24418]],[[194714,194714],"mapped",[24427]],[[194715,194715],"mapped",[14563]],[[194716,194716],"mapped",[24474]],[[194717,194717],"mapped",[24525]],[[194718,194718],"mapped",[24535]],[[194719,194719],"mapped",[24569]],[[194720,194720],"mapped",[24705]],[[194721,194721],"mapped",[14650]],[[194722,194722],"mapped",[14620]],[[194723,194723],"mapped",[24724]],[[194724,194724],"mapped",[141012]],[[194725,194725],"mapped",[24775]],[[194726,194726],"mapped",[24904]],[[194727,194727],"mapped",[24908]],[[194728,194728],"mapped",[24910]],[[194729,194729],"mapped",[24908]],[[194730,194730],"mapped",[24954]],[[194731,194731],"mapped",[24974]],[[194732,194732],"mapped",[25010]],[[194733,194733],"mapped",[24996]],[[194734,194734],"mapped",[25007]],[[194735,194735],"mapped",[25054]],[[194736,194736],"mapped",[25074]],[[194737,194737],"mapped",[25078]],[[194738,194738],"mapped",[25104]],[[194739,194739],"mapped",[25115]],[[194740,194740],"mapped",[25181]],[[194741,194741],"mapped",[25265]],[[194742,194742],"mapped",[25300]],[[194743,194743],"mapped",[25424]],[[194744,194744],"mapped",[142092]],[[194745,194745],"mapped",[25405]],[[194746,194746],"mapped",[25340]],[[194747,194747],"mapped",[25448]],[[194748,194748],"mapped",[25475]],[[194749,194749],"mapped",[25572]],[[194750,194750],"mapped",[142321]],[[194751,194751],"mapped",[25634]],[[194752,194752],"mapped",[25541]],[[194753,194753],"mapped",[25513]],[[194754,194754],"mapped",[14894]],[[194755,194755],"mapped",[25705]],[[194756,194756],"mapped",[25726]],[[194757,194757],"mapped",[25757]],[[194758,194758],"mapped",[25719]],[[194759,194759],"mapped",[14956]],[[194760,194760],"mapped",[25935]],[[194761,194761],"mapped",[25964]],[[194762,194762],"mapped",[143370]],[[194763,194763],"mapped",[26083]],[[194764,194764],"mapped",[26360]],[[194765,194765],"mapped",[26185]],[[194766,194766],"mapped",[15129]],[[194767,194767],"mapped",[26257]],[[194768,194768],"mapped",[15112]],[[194769,194769],"mapped",[15076]],[[194770,194770],"mapped",[20882]],[[194771,194771],"mapped",[20885]],[[194772,194772],"mapped",[26368]],[[194773,194773],"mapped",[26268]],[[194774,194774],"mapped",[32941]],[[194775,194775],"mapped",[17369]],[[194776,194776],"mapped",[26391]],[[194777,194777],"mapped",[26395]],[[194778,194778],"mapped",[26401]],[[194779,194779],"mapped",[26462]],[[194780,194780],"mapped",[26451]],[[194781,194781],"mapped",[144323]],[[194782,194782],"mapped",[15177]],[[194783,194783],"mapped",[26618]],[[194784,194784],"mapped",[26501]],[[194785,194785],"mapped",[26706]],[[194786,194786],"mapped",[26757]],[[194787,194787],"mapped",[144493]],[[194788,194788],"mapped",[26766]],[[194789,194789],"mapped",[26655]],[[194790,194790],"mapped",[26900]],[[194791,194791],"mapped",[15261]],[[194792,194792],"mapped",[26946]],[[194793,194793],"mapped",[27043]],[[194794,194794],"mapped",[27114]],[[194795,194795],"mapped",[27304]],[[194796,194796],"mapped",[145059]],[[194797,194797],"mapped",[27355]],[[194798,194798],"mapped",[15384]],[[194799,194799],"mapped",[27425]],[[194800,194800],"mapped",[145575]],[[194801,194801],"mapped",[27476]],[[194802,194802],"mapped",[15438]],[[194803,194803],"mapped",[27506]],[[194804,194804],"mapped",[27551]],[[194805,194805],"mapped",[27578]],[[194806,194806],"mapped",[27579]],[[194807,194807],"mapped",[146061]],[[194808,194808],"mapped",[138507]],[[194809,194809],"mapped",[146170]],[[194810,194810],"mapped",[27726]],[[194811,194811],"mapped",[146620]],[[194812,194812],"mapped",[27839]],[[194813,194813],"mapped",[27853]],[[194814,194814],"mapped",[27751]],[[194815,194815],"mapped",[27926]],[[194816,194816],"mapped",[27966]],[[194817,194817],"mapped",[28023]],[[194818,194818],"mapped",[27969]],[[194819,194819],"mapped",[28009]],[[194820,194820],"mapped",[28024]],[[194821,194821],"mapped",[28037]],[[194822,194822],"mapped",[146718]],[[194823,194823],"mapped",[27956]],[[194824,194824],"mapped",[28207]],[[194825,194825],"mapped",[28270]],[[194826,194826],"mapped",[15667]],[[194827,194827],"mapped",[28363]],[[194828,194828],"mapped",[28359]],[[194829,194829],"mapped",[147153]],[[194830,194830],"mapped",[28153]],[[194831,194831],"mapped",[28526]],[[194832,194832],"mapped",[147294]],[[194833,194833],"mapped",[147342]],[[194834,194834],"mapped",[28614]],[[194835,194835],"mapped",[28729]],[[194836,194836],"mapped",[28702]],[[194837,194837],"mapped",[28699]],[[194838,194838],"mapped",[15766]],[[194839,194839],"mapped",[28746]],[[194840,194840],"mapped",[28797]],[[194841,194841],"mapped",[28791]],[[194842,194842],"mapped",[28845]],[[194843,194843],"mapped",[132389]],[[194844,194844],"mapped",[28997]],[[194845,194845],"mapped",[148067]],[[194846,194846],"mapped",[29084]],[[194847,194847],"disallowed"],[[194848,194848],"mapped",[29224]],[[194849,194849],"mapped",[29237]],[[194850,194850],"mapped",[29264]],[[194851,194851],"mapped",[149e3]],[[194852,194852],"mapped",[29312]],[[194853,194853],"mapped",[29333]],[[194854,194854],"mapped",[149301]],[[194855,194855],"mapped",[149524]],[[194856,194856],"mapped",[29562]],[[194857,194857],"mapped",[29579]],[[194858,194858],"mapped",[16044]],[[194859,194859],"mapped",[29605]],[[194860,194861],"mapped",[16056]],[[194862,194862],"mapped",[29767]],[[194863,194863],"mapped",[29788]],[[194864,194864],"mapped",[29809]],[[194865,194865],"mapped",[29829]],[[194866,194866],"mapped",[29898]],[[194867,194867],"mapped",[16155]],[[194868,194868],"mapped",[29988]],[[194869,194869],"mapped",[150582]],[[194870,194870],"mapped",[30014]],[[194871,194871],"mapped",[150674]],[[194872,194872],"mapped",[30064]],[[194873,194873],"mapped",[139679]],[[194874,194874],"mapped",[30224]],[[194875,194875],"mapped",[151457]],[[194876,194876],"mapped",[151480]],[[194877,194877],"mapped",[151620]],[[194878,194878],"mapped",[16380]],[[194879,194879],"mapped",[16392]],[[194880,194880],"mapped",[30452]],[[194881,194881],"mapped",[151795]],[[194882,194882],"mapped",[151794]],[[194883,194883],"mapped",[151833]],[[194884,194884],"mapped",[151859]],[[194885,194885],"mapped",[30494]],[[194886,194887],"mapped",[30495]],[[194888,194888],"mapped",[30538]],[[194889,194889],"mapped",[16441]],[[194890,194890],"mapped",[30603]],[[194891,194891],"mapped",[16454]],[[194892,194892],"mapped",[16534]],[[194893,194893],"mapped",[152605]],[[194894,194894],"mapped",[30798]],[[194895,194895],"mapped",[30860]],[[194896,194896],"mapped",[30924]],[[194897,194897],"mapped",[16611]],[[194898,194898],"mapped",[153126]],[[194899,194899],"mapped",[31062]],[[194900,194900],"mapped",[153242]],[[194901,194901],"mapped",[153285]],[[194902,194902],"mapped",[31119]],[[194903,194903],"mapped",[31211]],[[194904,194904],"mapped",[16687]],[[194905,194905],"mapped",[31296]],[[194906,194906],"mapped",[31306]],[[194907,194907],"mapped",[31311]],[[194908,194908],"mapped",[153980]],[[194909,194910],"mapped",[154279]],[[194911,194911],"disallowed"],[[194912,194912],"mapped",[16898]],[[194913,194913],"mapped",[154539]],[[194914,194914],"mapped",[31686]],[[194915,194915],"mapped",[31689]],[[194916,194916],"mapped",[16935]],[[194917,194917],"mapped",[154752]],[[194918,194918],"mapped",[31954]],[[194919,194919],"mapped",[17056]],[[194920,194920],"mapped",[31976]],[[194921,194921],"mapped",[31971]],[[194922,194922],"mapped",[32e3]],[[194923,194923],"mapped",[155526]],[[194924,194924],"mapped",[32099]],[[194925,194925],"mapped",[17153]],[[194926,194926],"mapped",[32199]],[[194927,194927],"mapped",[32258]],[[194928,194928],"mapped",[32325]],[[194929,194929],"mapped",[17204]],[[194930,194930],"mapped",[156200]],[[194931,194931],"mapped",[156231]],[[194932,194932],"mapped",[17241]],[[194933,194933],"mapped",[156377]],[[194934,194934],"mapped",[32634]],[[194935,194935],"mapped",[156478]],[[194936,194936],"mapped",[32661]],[[194937,194937],"mapped",[32762]],[[194938,194938],"mapped",[32773]],[[194939,194939],"mapped",[156890]],[[194940,194940],"mapped",[156963]],[[194941,194941],"mapped",[32864]],[[194942,194942],"mapped",[157096]],[[194943,194943],"mapped",[32880]],[[194944,194944],"mapped",[144223]],[[194945,194945],"mapped",[17365]],[[194946,194946],"mapped",[32946]],[[194947,194947],"mapped",[33027]],[[194948,194948],"mapped",[17419]],[[194949,194949],"mapped",[33086]],[[194950,194950],"mapped",[23221]],[[194951,194951],"mapped",[157607]],[[194952,194952],"mapped",[157621]],[[194953,194953],"mapped",[144275]],[[194954,194954],"mapped",[144284]],[[194955,194955],"mapped",[33281]],[[194956,194956],"mapped",[33284]],[[194957,194957],"mapped",[36766]],[[194958,194958],"mapped",[17515]],[[194959,194959],"mapped",[33425]],[[194960,194960],"mapped",[33419]],[[194961,194961],"mapped",[33437]],[[194962,194962],"mapped",[21171]],[[194963,194963],"mapped",[33457]],[[194964,194964],"mapped",[33459]],[[194965,194965],"mapped",[33469]],[[194966,194966],"mapped",[33510]],[[194967,194967],"mapped",[158524]],[[194968,194968],"mapped",[33509]],[[194969,194969],"mapped",[33565]],[[194970,194970],"mapped",[33635]],[[194971,194971],"mapped",[33709]],[[194972,194972],"mapped",[33571]],[[194973,194973],"mapped",[33725]],[[194974,194974],"mapped",[33767]],[[194975,194975],"mapped",[33879]],[[194976,194976],"mapped",[33619]],[[194977,194977],"mapped",[33738]],[[194978,194978],"mapped",[33740]],[[194979,194979],"mapped",[33756]],[[194980,194980],"mapped",[158774]],[[194981,194981],"mapped",[159083]],[[194982,194982],"mapped",[158933]],[[194983,194983],"mapped",[17707]],[[194984,194984],"mapped",[34033]],[[194985,194985],"mapped",[34035]],[[194986,194986],"mapped",[34070]],[[194987,194987],"mapped",[160714]],[[194988,194988],"mapped",[34148]],[[194989,194989],"mapped",[159532]],[[194990,194990],"mapped",[17757]],[[194991,194991],"mapped",[17761]],[[194992,194992],"mapped",[159665]],[[194993,194993],"mapped",[159954]],[[194994,194994],"mapped",[17771]],[[194995,194995],"mapped",[34384]],[[194996,194996],"mapped",[34396]],[[194997,194997],"mapped",[34407]],[[194998,194998],"mapped",[34409]],[[194999,194999],"mapped",[34473]],[[195e3,195e3],"mapped",[34440]],[[195001,195001],"mapped",[34574]],[[195002,195002],"mapped",[34530]],[[195003,195003],"mapped",[34681]],[[195004,195004],"mapped",[34600]],[[195005,195005],"mapped",[34667]],[[195006,195006],"mapped",[34694]],[[195007,195007],"disallowed"],[[195008,195008],"mapped",[34785]],[[195009,195009],"mapped",[34817]],[[195010,195010],"mapped",[17913]],[[195011,195011],"mapped",[34912]],[[195012,195012],"mapped",[34915]],[[195013,195013],"mapped",[161383]],[[195014,195014],"mapped",[35031]],[[195015,195015],"mapped",[35038]],[[195016,195016],"mapped",[17973]],[[195017,195017],"mapped",[35066]],[[195018,195018],"mapped",[13499]],[[195019,195019],"mapped",[161966]],[[195020,195020],"mapped",[162150]],[[195021,195021],"mapped",[18110]],[[195022,195022],"mapped",[18119]],[[195023,195023],"mapped",[35488]],[[195024,195024],"mapped",[35565]],[[195025,195025],"mapped",[35722]],[[195026,195026],"mapped",[35925]],[[195027,195027],"mapped",[162984]],[[195028,195028],"mapped",[36011]],[[195029,195029],"mapped",[36033]],[[195030,195030],"mapped",[36123]],[[195031,195031],"mapped",[36215]],[[195032,195032],"mapped",[163631]],[[195033,195033],"mapped",[133124]],[[195034,195034],"mapped",[36299]],[[195035,195035],"mapped",[36284]],[[195036,195036],"mapped",[36336]],[[195037,195037],"mapped",[133342]],[[195038,195038],"mapped",[36564]],[[195039,195039],"mapped",[36664]],[[195040,195040],"mapped",[165330]],[[195041,195041],"mapped",[165357]],[[195042,195042],"mapped",[37012]],[[195043,195043],"mapped",[37105]],[[195044,195044],"mapped",[37137]],[[195045,195045],"mapped",[165678]],[[195046,195046],"mapped",[37147]],[[195047,195047],"mapped",[37432]],[[195048,195048],"mapped",[37591]],[[195049,195049],"mapped",[37592]],[[195050,195050],"mapped",[37500]],[[195051,195051],"mapped",[37881]],[[195052,195052],"mapped",[37909]],[[195053,195053],"mapped",[166906]],[[195054,195054],"mapped",[38283]],[[195055,195055],"mapped",[18837]],[[195056,195056],"mapped",[38327]],[[195057,195057],"mapped",[167287]],[[195058,195058],"mapped",[18918]],[[195059,195059],"mapped",[38595]],[[195060,195060],"mapped",[23986]],[[195061,195061],"mapped",[38691]],[[195062,195062],"mapped",[168261]],[[195063,195063],"mapped",[168474]],[[195064,195064],"mapped",[19054]],[[195065,195065],"mapped",[19062]],[[195066,195066],"mapped",[38880]],[[195067,195067],"mapped",[168970]],[[195068,195068],"mapped",[19122]],[[195069,195069],"mapped",[169110]],[[195070,195071],"mapped",[38923]],[[195072,195072],"mapped",[38953]],[[195073,195073],"mapped",[169398]],[[195074,195074],"mapped",[39138]],[[195075,195075],"mapped",[19251]],[[195076,195076],"mapped",[39209]],[[195077,195077],"mapped",[39335]],[[195078,195078],"mapped",[39362]],[[195079,195079],"mapped",[39422]],[[195080,195080],"mapped",[19406]],[[195081,195081],"mapped",[170800]],[[195082,195082],"mapped",[39698]],[[195083,195083],"mapped",[4e4]],[[195084,195084],"mapped",[40189]],[[195085,195085],"mapped",[19662]],[[195086,195086],"mapped",[19693]],[[195087,195087],"mapped",[40295]],[[195088,195088],"mapped",[172238]],[[195089,195089],"mapped",[19704]],[[195090,195090],"mapped",[172293]],[[195091,195091],"mapped",[172558]],[[195092,195092],"mapped",[172689]],[[195093,195093],"mapped",[40635]],[[195094,195094],"mapped",[19798]],[[195095,195095],"mapped",[40697]],[[195096,195096],"mapped",[40702]],[[195097,195097],"mapped",[40709]],[[195098,195098],"mapped",[40719]],[[195099,195099],"mapped",[40726]],[[195100,195100],"mapped",[40763]],[[195101,195101],"mapped",[173568]],[[195102,196605],"disallowed"],[[196606,196607],"disallowed"],[[196608,262141],"disallowed"],[[262142,262143],"disallowed"],[[262144,327677],"disallowed"],[[327678,327679],"disallowed"],[[327680,393213],"disallowed"],[[393214,393215],"disallowed"],[[393216,458749],"disallowed"],[[458750,458751],"disallowed"],[[458752,524285],"disallowed"],[[524286,524287],"disallowed"],[[524288,589821],"disallowed"],[[589822,589823],"disallowed"],[[589824,655357],"disallowed"],[[655358,655359],"disallowed"],[[655360,720893],"disallowed"],[[720894,720895],"disallowed"],[[720896,786429],"disallowed"],[[786430,786431],"disallowed"],[[786432,851965],"disallowed"],[[851966,851967],"disallowed"],[[851968,917501],"disallowed"],[[917502,917503],"disallowed"],[[917504,917504],"disallowed"],[[917505,917505],"disallowed"],[[917506,917535],"disallowed"],[[917536,917631],"disallowed"],[[917632,917759],"disallowed"],[[917760,917999],"ignored"],[[918e3,983037],"disallowed"],[[983038,983039],"disallowed"],[[983040,1048573],"disallowed"],[[1048574,1048575],"disallowed"],[[1048576,1114109],"disallowed"],[[1114110,1114111],"disallowed"]]});var fst=Ue((ZHn,HF)=>{"use strict";var lst=ft("punycode"),cst=ast(),Z4={TRANSITIONAL:0,NONTRANSITIONAL:1};function ust(t){return t.split("\0").map(function(e){return e.normalize("NFC")}).join("\0")}function dst(t){for(var e=0,r=cst.length-1;e<=r;){var n=Math.floor((e+r)/2),i=cst[n];if(i[0][0]<=t&&i[0][1]>=t)return i;i[0][0]>t?r=n-1:e=n+1}return null}var cYt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function pst(t){return t.replace(cYt,"_").length}function lYt(t,e,r){for(var n=!1,i="",o=pst(t),s=0;s<o;++s){var a=t.codePointAt(s),c=dst(a);switch(c[1]){case"disallowed":n=!0,i+=String.fromCodePoint(a);break;case"ignored":break;case"mapped":i+=String.fromCodePoint.apply(String,c[2]);break;case"deviation":r===Z4.TRANSITIONAL?i+=String.fromCodePoint.apply(String,c[2]):i+=String.fromCodePoint(a);break;case"valid":i+=String.fromCodePoint(a);break;case"disallowed_STD3_mapped":e?(n=!0,i+=String.fromCodePoint(a)):i+=String.fromCodePoint.apply(String,c[2]);break;case"disallowed_STD3_valid":e&&(n=!0),i+=String.fromCodePoint(a);break}}return{string:i,error:n}}var uYt=/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E4-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2D]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC7F-\uDC82\uDCB0-\uDCBA\uDD00-\uDD02\uDD27-\uDD34\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDE2C-\uDE37\uDEDF-\uDEEA\uDF01-\uDF03\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDE30-\uDE40\uDEAB-\uDEB7]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF51-\uDF7E\uDF8F-\uDF92]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD83A[\uDCD0-\uDCD6]|\uDB40[\uDD00-\uDDEF]/;function dYt(t,e){t.substr(0,4)==="xn--"&&(t=lst.toUnicode(t),e=Z4.NONTRANSITIONAL);var r=!1;(ust(t)!==t||t[3]==="-"&&t[4]==="-"||t[0]==="-"||t[t.length-1]==="-"||t.indexOf(".")!==-1||t.search(uYt)===0)&&(r=!0);for(var n=pst(t),i=0;i<n;++i){var o=dst(t.codePointAt(i));if(VF===Z4.TRANSITIONAL&&o[1]!=="valid"||VF===Z4.NONTRANSITIONAL&&o[1]!=="valid"&&o[1]!=="deviation"){r=!0;break}}return{label:t,error:r}}function VF(t,e,r){var n=lYt(t,e,r);n.string=ust(n.string);for(var i=n.string.split("."),o=0;o<i.length;++o)try{var s=dYt(i[o]);i[o]=s.label,n.error=n.error||s.error}catch{n.error=!0}return{string:i.join("."),error:n.error}}HF.exports.toASCII=function(t,e,r,n){var i=VF(t,e,r),o=i.string.split(".");if(o=o.map(function(c){try{return lst.toASCII(c)}catch{return i.error=!0,c}}),n){var s=o.slice(0,o.length-1).join(".").length;(s.length>253||s.length===0)&&(i.error=!0);for(var a=0;a<o.length;++a)if(o.length>63||o.length===0){i.error=!0;break}}return i.error?null:o.join(".")};HF.exports.toUnicode=function(t,e){var r=VF(t,e,Z4.NONTRANSITIONAL);return{domain:r.string,error:r.error}};HF.exports.PROCESSING_OPTIONS=Z4});var Vf=Ue((eGn,pl)=>{"use strict";var eE=ft("punycode"),mst=fst(),bst={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443},Rr=Symbol("failure");function hst(t){return eE.ucs2.decode(t).length}function gst(t,e){let r=t[e];return isNaN(r)?void 0:String.fromCodePoint(r)}function I9(t){return t>=48&&t<=57}function C9(t){return t>=65&&t<=90||t>=97&&t<=122}function pYt(t){return C9(t)||I9(t)}function ep(t){return I9(t)||t>=65&&t<=70||t>=97&&t<=102}function yst(t){return t==="."||t.toLowerCase()==="%2e"}function fYt(t){return t=t.toLowerCase(),t===".."||t==="%2e."||t===".%2e"||t==="%2e%2e"}function mYt(t,e){return C9(t)&&(e===58||e===124)}function vst(t){return t.length===2&&C9(t.codePointAt(0))&&(t[1]===":"||t[1]==="|")}function hYt(t){return t.length===2&&C9(t.codePointAt(0))&&t[1]===":"}function gYt(t){return t.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|%|\/|:|\?|@|\[|\\|\]/)!==-1}function yYt(t){return t.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|\?|@|\[|\\|\]/)!==-1}function tge(t){return bst[t]!==void 0}function Mo(t){return tge(t.scheme)}function bYt(t){return bst[t]}function _st(t){let e=t.toString(16).toUpperCase();return e.length===1&&(e="0"+e),"%"+e}function vYt(t){let e=new Buffer(t),r="";for(let n=0;n<e.length;++n)r+=_st(e[n]);return r}function _Yt(t){let e=new Buffer(t),r=[];for(let n=0;n<e.length;++n)e[n]!==37?r.push(e[n]):e[n]===37&&ep(e[n+1])&&ep(e[n+2])?(r.push(parseInt(e.slice(n+1,n+3).toString(),16)),n+=2):r.push(e[n]);return new Buffer(r).toString()}function GF(t){return t<=31||t>126}var xYt=new Set([32,34,35,60,62,63,96,123,125]);function xst(t){return GF(t)||xYt.has(t)}var SYt=new Set([47,58,59,61,64,91,92,93,94,124]);function nge(t){return xst(t)||SYt.has(t)}function c_(t,e){let r=String.fromCodePoint(t);return e(t)?vYt(r):r}function wYt(t){let e=10;return t.length>=2&&t.charAt(0)==="0"&&t.charAt(1).toLowerCase()==="x"?(t=t.substring(2),e=16):t.length>=2&&t.charAt(0)==="0"&&(t=t.substring(1),e=8),t===""?0:(e===10?/[^0-9]/:e===16?/[^0-9A-Fa-f]/:/[^0-7]/).test(t)?Rr:parseInt(t,e)}function AYt(t){let e=t.split(".");if(e[e.length-1]===""&&e.length>1&&e.pop(),e.length>4)return t;let r=[];for(let o of e){if(o==="")return t;let s=wYt(o);if(s===Rr)return t;r.push(s)}for(let o=0;o<r.length-1;++o)if(r[o]>255)return Rr;if(r[r.length-1]>=Math.pow(256,5-r.length))return Rr;let n=r.pop(),i=0;for(let o of r)n+=o*Math.pow(256,3-i),++i;return n}function EYt(t){let e="",r=t;for(let n=1;n<=4;++n)e=String(r%256)+e,n!==4&&(e="."+e),r=Math.floor(r/256);return e}function TYt(t){let e=[0,0,0,0,0,0,0,0],r=0,n=null,i=0;if(t=eE.ucs2.decode(t),t[i]===58){if(t[i+1]!==58)return Rr;i+=2,++r,n=r}for(;i<t.length;){if(r===8)return Rr;if(t[i]===58){if(n!==null)return Rr;++i,++r,n=r;continue}let o=0,s=0;for(;s<4&&ep(t[i]);)o=o*16+parseInt(gst(t,i),16),++i,++s;if(t[i]===46){if(s===0||(i-=s,r>6))return Rr;let a=0;for(;t[i]!==void 0;){let c=null;if(a>0)if(t[i]===46&&a<4)++i;else return Rr;if(!I9(t[i]))return Rr;for(;I9(t[i]);){let l=parseInt(gst(t,i));if(c===null)c=l;else{if(c===0)return Rr;c=c*10+l}if(c>255)return Rr;++i}e[r]=e[r]*256+c,++a,(a===2||a===4)&&++r}if(a!==4)return Rr;break}else if(t[i]===58){if(++i,t[i]===void 0)return Rr}else if(t[i]!==void 0)return Rr;e[r]=o,++r}if(n!==null){let o=r-n;for(r=7;r!==0&&o>0;){let s=e[n+o-1];e[n+o-1]=e[r],e[r]=s,--r,--o}}else if(n===null&&r!==8)return Rr;return e}function RYt(t){let e="",n=CYt(t).idx,i=!1;for(let o=0;o<=7;++o)if(!(i&&t[o]===0)){if(i&&(i=!1),n===o){e+=o===0?"::":":",i=!0;continue}e+=t[o].toString(16),o!==7&&(e+=":")}return e}function rge(t,e){if(t[0]==="[")return t[t.length-1]!=="]"?Rr:TYt(t.substring(1,t.length-1));if(!e)return IYt(t);let r=_Yt(t),n=mst.toASCII(r,!1,mst.PROCESSING_OPTIONS.NONTRANSITIONAL,!1);if(n===null||gYt(n))return Rr;let i=AYt(n);return typeof i=="number"||i===Rr?i:n}function IYt(t){if(yYt(t))return Rr;let e="",r=eE.ucs2.decode(t);for(let n=0;n<r.length;++n)e+=c_(r[n],GF);return e}function CYt(t){let e=null,r=1,n=null,i=0;for(let o=0;o<t.length;++o)t[o]!==0?(i>r&&(e=n,r=i),n=null,i=0):(n===null&&(n=o),++i);return i>r&&(e=n,r=i),{idx:e,len:r}}function ige(t){return typeof t=="number"?EYt(t):t instanceof Array?"["+RYt(t)+"]":t}function NYt(t){return t.replace(/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/g,"")}function OYt(t){return t.replace(/\u0009|\u000A|\u000D/g,"")}function Sst(t){let e=t.path;e.length!==0&&(t.scheme==="file"&&e.length===1&&kYt(e[0])||e.pop())}function wst(t){return t.username!==""||t.password!==""}function PYt(t){return t.host===null||t.host===""||t.cannotBeABaseURL||t.scheme==="file"}function kYt(t){return/^[A-Za-z]:$/.test(t)}function Mi(t,e,r,n,i){if(this.pointer=0,this.input=t,this.base=e||null,this.encodingOverride=r||"utf-8",this.stateOverride=i,this.url=n,this.failure=!1,this.parseError=!1,!this.url){this.url={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,cannotBeABaseURL:!1};let s=NYt(this.input);s!==this.input&&(this.parseError=!0),this.input=s}let o=OYt(this.input);for(o!==this.input&&(this.parseError=!0),this.input=o,this.state=i||"scheme start",this.buffer="",this.atFlag=!1,this.arrFlag=!1,this.passwordTokenSeenFlag=!1,this.input=eE.ucs2.decode(this.input);this.pointer<=this.input.length;++this.pointer){let s=this.input[this.pointer],a=isNaN(s)?void 0:String.fromCodePoint(s),c=this["parse "+this.state](s,a);if(c){if(c===Rr){this.failure=!0;break}}else break}}Mi.prototype["parse scheme start"]=function(e,r){if(C9(e))this.buffer+=r.toLowerCase(),this.state="scheme";else if(!this.stateOverride)this.state="no scheme",--this.pointer;else return this.parseError=!0,Rr;return!0};Mi.prototype["parse scheme"]=function(e,r){if(pYt(e)||e===43||e===45||e===46)this.buffer+=r.toLowerCase();else if(e===58){if(this.stateOverride&&(Mo(this.url)&&!tge(this.buffer)||!Mo(this.url)&&tge(this.buffer)||(wst(this.url)||this.url.port!==null)&&this.buffer==="file"||this.url.scheme==="file"&&(this.url.host===""||this.url.host===null))||(this.url.scheme=this.buffer,this.buffer="",this.stateOverride))return!1;this.url.scheme==="file"?((this.input[this.pointer+1]!==47||this.input[this.pointer+2]!==47)&&(this.parseError=!0),this.state="file"):Mo(this.url)&&this.base!==null&&this.base.scheme===this.url.scheme?this.state="special relative or authority":Mo(this.url)?this.state="special authority slashes":this.input[this.pointer+1]===47?(this.state="path or authority",++this.pointer):(this.url.cannotBeABaseURL=!0,this.url.path.push(""),this.state="cannot-be-a-base-URL path")}else if(!this.stateOverride)this.buffer="",this.state="no scheme",this.pointer=-1;else return this.parseError=!0,Rr;return!0};Mi.prototype["parse no scheme"]=function(e){return this.base===null||this.base.cannotBeABaseURL&&e!==35?Rr:(this.base.cannotBeABaseURL&&e===35?(this.url.scheme=this.base.scheme,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.url.cannotBeABaseURL=!0,this.state="fragment"):this.base.scheme==="file"?(this.state="file",--this.pointer):(this.state="relative",--this.pointer),!0)};Mi.prototype["parse special relative or authority"]=function(e){return e===47&&this.input[this.pointer+1]===47?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="relative",--this.pointer),!0};Mi.prototype["parse path or authority"]=function(e){return e===47?this.state="authority":(this.state="path",--this.pointer),!0};Mi.prototype["parse relative"]=function(e){return this.url.scheme=this.base.scheme,isNaN(e)?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query):e===47?this.state="relative slash":e===63?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):e===35?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):Mo(this.url)&&e===92?(this.parseError=!0,this.state="relative slash"):(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(0,this.base.path.length-1),this.state="path",--this.pointer),!0};Mi.prototype["parse relative slash"]=function(e){return Mo(this.url)&&(e===47||e===92)?(e===92&&(this.parseError=!0),this.state="special authority ignore slashes"):e===47?this.state="authority":(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.state="path",--this.pointer),!0};Mi.prototype["parse special authority slashes"]=function(e){return e===47&&this.input[this.pointer+1]===47?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="special authority ignore slashes",--this.pointer),!0};Mi.prototype["parse special authority ignore slashes"]=function(e){return e!==47&&e!==92?(this.state="authority",--this.pointer):this.parseError=!0,!0};Mi.prototype["parse authority"]=function(e,r){if(e===64){this.parseError=!0,this.atFlag&&(this.buffer="%40"+this.buffer),this.atFlag=!0;let n=hst(this.buffer);for(let i=0;i<n;++i){let o=this.buffer.codePointAt(i);if(o===58&&!this.passwordTokenSeenFlag){this.passwordTokenSeenFlag=!0;continue}let s=c_(o,nge);this.passwordTokenSeenFlag?this.url.password+=s:this.url.username+=s}this.buffer=""}else if(isNaN(e)||e===47||e===63||e===35||Mo(this.url)&&e===92){if(this.atFlag&&this.buffer==="")return this.parseError=!0,Rr;this.pointer-=hst(this.buffer)+1,this.buffer="",this.state="host"}else this.buffer+=r;return!0};Mi.prototype["parse hostname"]=Mi.prototype["parse host"]=function(e,r){if(this.stateOverride&&this.url.scheme==="file")--this.pointer,this.state="file host";else if(e===58&&!this.arrFlag){if(this.buffer==="")return this.parseError=!0,Rr;let n=rge(this.buffer,Mo(this.url));if(n===Rr)return Rr;if(this.url.host=n,this.buffer="",this.state="port",this.stateOverride==="hostname")return!1}else if(isNaN(e)||e===47||e===63||e===35||Mo(this.url)&&e===92){if(--this.pointer,Mo(this.url)&&this.buffer==="")return this.parseError=!0,Rr;if(this.stateOverride&&this.buffer===""&&(wst(this.url)||this.url.port!==null))return this.parseError=!0,!1;let n=rge(this.buffer,Mo(this.url));if(n===Rr)return Rr;if(this.url.host=n,this.buffer="",this.state="path start",this.stateOverride)return!1}else e===91?this.arrFlag=!0:e===93&&(this.arrFlag=!1),this.buffer+=r;return!0};Mi.prototype["parse port"]=function(e,r){if(I9(e))this.buffer+=r;else if(isNaN(e)||e===47||e===63||e===35||Mo(this.url)&&e===92||this.stateOverride){if(this.buffer!==""){let n=parseInt(this.buffer);if(n>Math.pow(2,16)-1)return this.parseError=!0,Rr;this.url.port=n===bYt(this.url.scheme)?null:n,this.buffer=""}if(this.stateOverride)return!1;this.state="path start",--this.pointer}else return this.parseError=!0,Rr;return!0};var DYt=new Set([47,92,63,35]);Mi.prototype["parse file"]=function(e){return this.url.scheme="file",e===47||e===92?(e===92&&(this.parseError=!0),this.state="file slash"):this.base!==null&&this.base.scheme==="file"?isNaN(e)?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query):e===63?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):e===35?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):(this.input.length-this.pointer-1===0||!mYt(e,this.input[this.pointer+1])||this.input.length-this.pointer-1>=2&&!DYt.has(this.input[this.pointer+2])?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),Sst(this.url)):this.parseError=!0,this.state="path",--this.pointer):(this.state="path",--this.pointer),!0};Mi.prototype["parse file slash"]=function(e){return e===47||e===92?(e===92&&(this.parseError=!0),this.state="file host"):(this.base!==null&&this.base.scheme==="file"&&(hYt(this.base.path[0])?this.url.path.push(this.base.path[0]):this.url.host=this.base.host),this.state="path",--this.pointer),!0};Mi.prototype["parse file host"]=function(e,r){if(isNaN(e)||e===47||e===92||e===63||e===35)if(--this.pointer,!this.stateOverride&&vst(this.buffer))this.parseError=!0,this.state="path";else if(this.buffer===""){if(this.url.host="",this.stateOverride)return!1;this.state="path start"}else{let n=rge(this.buffer,Mo(this.url));if(n===Rr)return Rr;if(n==="localhost"&&(n=""),this.url.host=n,this.stateOverride)return!1;this.buffer="",this.state="path start"}else this.buffer+=r;return!0};Mi.prototype["parse path start"]=function(e){return Mo(this.url)?(e===92&&(this.parseError=!0),this.state="path",e!==47&&e!==92&&--this.pointer):!this.stateOverride&&e===63?(this.url.query="",this.state="query"):!this.stateOverride&&e===35?(this.url.fragment="",this.state="fragment"):e!==void 0&&(this.state="path",e!==47&&--this.pointer),!0};Mi.prototype["parse path"]=function(e){if(isNaN(e)||e===47||Mo(this.url)&&e===92||!this.stateOverride&&(e===63||e===35)){if(Mo(this.url)&&e===92&&(this.parseError=!0),fYt(this.buffer)?(Sst(this.url),e!==47&&!(Mo(this.url)&&e===92)&&this.url.path.push("")):yst(this.buffer)&&e!==47&&!(Mo(this.url)&&e===92)?this.url.path.push(""):yst(this.buffer)||(this.url.scheme==="file"&&this.url.path.length===0&&vst(this.buffer)&&(this.url.host!==""&&this.url.host!==null&&(this.parseError=!0,this.url.host=""),this.buffer=this.buffer[0]+":"),this.url.path.push(this.buffer)),this.buffer="",this.url.scheme==="file"&&(e===void 0||e===63||e===35))for(;this.url.path.length>1&&this.url.path[0]==="";)this.parseError=!0,this.url.path.shift();e===63&&(this.url.query="",this.state="query"),e===35&&(this.url.fragment="",this.state="fragment")}else e===37&&(!ep(this.input[this.pointer+1])||!ep(this.input[this.pointer+2]))&&(this.parseError=!0),this.buffer+=c_(e,xst);return!0};Mi.prototype["parse cannot-be-a-base-URL path"]=function(e){return e===63?(this.url.query="",this.state="query"):e===35?(this.url.fragment="",this.state="fragment"):(!isNaN(e)&&e!==37&&(this.parseError=!0),e===37&&(!ep(this.input[this.pointer+1])||!ep(this.input[this.pointer+2]))&&(this.parseError=!0),isNaN(e)||(this.url.path[0]=this.url.path[0]+c_(e,GF))),!0};Mi.prototype["parse query"]=function(e,r){if(isNaN(e)||!this.stateOverride&&e===35){(!Mo(this.url)||this.url.scheme==="ws"||this.url.scheme==="wss")&&(this.encodingOverride="utf-8");let n=new Buffer(this.buffer);for(let i=0;i<n.length;++i)n[i]<33||n[i]>126||n[i]===34||n[i]===35||n[i]===60||n[i]===62?this.url.query+=_st(n[i]):this.url.query+=String.fromCodePoint(n[i]);this.buffer="",e===35&&(this.url.fragment="",this.state="fragment")}else e===37&&(!ep(this.input[this.pointer+1])||!ep(this.input[this.pointer+2]))&&(this.parseError=!0),this.buffer+=r;return!0};Mi.prototype["parse fragment"]=function(e){return isNaN(e)||(e===0?this.parseError=!0:(e===37&&(!ep(this.input[this.pointer+1])||!ep(this.input[this.pointer+2]))&&(this.parseError=!0),this.url.fragment+=c_(e,GF))),!0};function MYt(t,e){let r=t.scheme+":";if(t.host!==null?(r+="//",(t.username!==""||t.password!=="")&&(r+=t.username,t.password!==""&&(r+=":"+t.password),r+="@"),r+=ige(t.host),t.port!==null&&(r+=":"+t.port)):t.host===null&&t.scheme==="file"&&(r+="//"),t.cannotBeABaseURL)r+=t.path[0];else for(let n of t.path)r+="/"+n;return t.query!==null&&(r+="?"+t.query),!e&&t.fragment!==null&&(r+="#"+t.fragment),r}function LYt(t){let e=t.scheme+"://";return e+=ige(t.host),t.port!==null&&(e+=":"+t.port),e}pl.exports.serializeURL=MYt;pl.exports.serializeURLOrigin=function(t){switch(t.scheme){case"blob":try{return pl.exports.serializeURLOrigin(pl.exports.parseURL(t.path[0]))}catch{return"null"}case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return LYt({scheme:t.scheme,host:t.host,port:t.port});case"file":return"file://";default:return"null"}};pl.exports.basicURLParse=function(t,e){e===void 0&&(e={});let r=new Mi(t,e.baseURL,e.encodingOverride,e.url,e.stateOverride);return r.failure?"failure":r.url};pl.exports.setTheUsername=function(t,e){t.username="";let r=eE.ucs2.decode(e);for(let n=0;n<r.length;++n)t.username+=c_(r[n],nge)};pl.exports.setThePassword=function(t,e){t.password="";let r=eE.ucs2.decode(e);for(let n=0;n<r.length;++n)t.password+=c_(r[n],nge)};pl.exports.serializeHost=ige;pl.exports.cannotHaveAUsernamePasswordPort=PYt;pl.exports.serializeInteger=function(t){return String(t)};pl.exports.parseURL=function(t,e){return e===void 0&&(e={}),pl.exports.basicURLParse(t,{baseURL:e.baseURL,encodingOverride:e.encodingOverride})}});var Est=Ue(Ast=>{"use strict";var Li=Vf();Ast.implementation=class{constructor(e){let r=e[0],n=e[1],i=null;if(n!==void 0&&(i=Li.basicURLParse(n),i==="failure"))throw new TypeError("Invalid base URL");let o=Li.basicURLParse(r,{baseURL:i});if(o==="failure")throw new TypeError("Invalid URL");this._url=o}get href(){return Li.serializeURL(this._url)}set href(e){let r=Li.basicURLParse(e);if(r==="failure")throw new TypeError("Invalid URL");this._url=r}get origin(){return Li.serializeURLOrigin(this._url)}get protocol(){return this._url.scheme+":"}set protocol(e){Li.basicURLParse(e+":",{url:this._url,stateOverride:"scheme start"})}get username(){return this._url.username}set username(e){Li.cannotHaveAUsernamePasswordPort(this._url)||Li.setTheUsername(this._url,e)}get password(){return this._url.password}set password(e){Li.cannotHaveAUsernamePasswordPort(this._url)||Li.setThePassword(this._url,e)}get host(){let e=this._url;return e.host===null?"":e.port===null?Li.serializeHost(e.host):Li.serializeHost(e.host)+":"+Li.serializeInteger(e.port)}set host(e){this._url.cannotBeABaseURL||Li.basicURLParse(e,{url:this._url,stateOverride:"host"})}get hostname(){return this._url.host===null?"":Li.serializeHost(this._url.host)}set hostname(e){this._url.cannotBeABaseURL||Li.basicURLParse(e,{url:this._url,stateOverride:"hostname"})}get port(){return this._url.port===null?"":Li.serializeInteger(this._url.port)}set port(e){Li.cannotHaveAUsernamePasswordPort(this._url)||(e===""?this._url.port=null:Li.basicURLParse(e,{url:this._url,stateOverride:"port"}))}get pathname(){return this._url.cannotBeABaseURL?this._url.path[0]:this._url.path.length===0?"":"/"+this._url.path.join("/")}set pathname(e){this._url.cannotBeABaseURL||(this._url.path=[],Li.basicURLParse(e,{url:this._url,stateOverride:"path start"}))}get search(){return this._url.query===null||this._url.query===""?"":"?"+this._url.query}set search(e){let r=this._url;if(e===""){r.query=null;return}let n=e[0]==="?"?e.substring(1):e;r.query="",Li.basicURLParse(n,{url:r,stateOverride:"query"})}get hash(){return this._url.fragment===null||this._url.fragment===""?"":"#"+this._url.fragment}set hash(e){if(e===""){this._url.fragment=null;return}let r=e[0]==="#"?e.substring(1):e;this._url.fragment="",Li.basicURLParse(r,{url:this._url,stateOverride:"fragment"})}toJSON(){return this.href}}});var Ist=Ue((nGn,N9)=>{"use strict";var Yu=ost(),Rst=sst(),Tst=Est(),Dn=Rst.implSymbol;function Yo(t){if(!this||this[Dn]||!(this instanceof Yo))throw new TypeError("Failed to construct 'URL': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");if(arguments.length<1)throw new TypeError("Failed to construct 'URL': 1 argument required, but only "+arguments.length+" present.");let e=[];for(let r=0;r<arguments.length&&r<2;++r)e[r]=arguments[r];e[0]=Yu.USVString(e[0]),e[1]!==void 0&&(e[1]=Yu.USVString(e[1])),N9.exports.setup(this,e)}Yo.prototype.toJSON=function(){if(!this||!N9.exports.is(this))throw new TypeError("Illegal invocation");let e=[];for(let r=0;r<arguments.length&&r<0;++r)e[r]=arguments[r];return this[Dn].toJSON.apply(this[Dn],e)};Object.defineProperty(Yo.prototype,"href",{get(){return this[Dn].href},set(t){t=Yu.USVString(t),this[Dn].href=t},enumerable:!0,configurable:!0});Yo.prototype.toString=function(){if(!this||!N9.exports.is(this))throw new TypeError("Illegal invocation");return this.href};Object.defineProperty(Yo.prototype,"origin",{get(){return this[Dn].origin},enumerable:!0,configurable:!0});Object.defineProperty(Yo.prototype,"protocol",{get(){return this[Dn].protocol},set(t){t=Yu.USVString(t),this[Dn].protocol=t},enumerable:!0,configurable:!0});Object.defineProperty(Yo.prototype,"username",{get(){return this[Dn].username},set(t){t=Yu.USVString(t),this[Dn].username=t},enumerable:!0,configurable:!0});Object.defineProperty(Yo.prototype,"password",{get(){return this[Dn].password},set(t){t=Yu.USVString(t),this[Dn].password=t},enumerable:!0,configurable:!0});Object.defineProperty(Yo.prototype,"host",{get(){return this[Dn].host},set(t){t=Yu.USVString(t),this[Dn].host=t},enumerable:!0,configurable:!0});Object.defineProperty(Yo.prototype,"hostname",{get(){return this[Dn].hostname},set(t){t=Yu.USVString(t),this[Dn].hostname=t},enumerable:!0,configurable:!0});Object.defineProperty(Yo.prototype,"port",{get(){return this[Dn].port},set(t){t=Yu.USVString(t),this[Dn].port=t},enumerable:!0,configurable:!0});Object.defineProperty(Yo.prototype,"pathname",{get(){return this[Dn].pathname},set(t){t=Yu.USVString(t),this[Dn].pathname=t},enumerable:!0,configurable:!0});Object.defineProperty(Yo.prototype,"search",{get(){return this[Dn].search},set(t){t=Yu.USVString(t),this[Dn].search=t},enumerable:!0,configurable:!0});Object.defineProperty(Yo.prototype,"hash",{get(){return this[Dn].hash},set(t){t=Yu.USVString(t),this[Dn].hash=t},enumerable:!0,configurable:!0});N9.exports={is(t){return!!t&&t[Dn]instanceof Tst.implementation},create(t,e){let r=Object.create(Yo.prototype);return this.setup(r,t,e),r},setup(t,e,r){r||(r={}),r.wrapper=t,t[Dn]=new Tst.implementation(e,r),t[Dn][Rst.wrapperSymbol]=t},interface:Yo,expose:{Window:{URL:Yo},Worker:{URL:Yo}}}});var Cst=Ue(Hf=>{"use strict";Hf.URL=Ist().interface;Hf.serializeURL=Vf().serializeURL;Hf.serializeURLOrigin=Vf().serializeURLOrigin;Hf.basicURLParse=Vf().basicURLParse;Hf.setTheUsername=Vf().setTheUsername;Hf.setThePassword=Vf().setThePassword;Hf.serializeHost=Vf().serializeHost;Hf.serializeInteger=Vf().serializeInteger;Hf.parseURL=Vf().parseURL});var gge={};wr(gge,{AbortError:()=>nE,FetchError:()=>xs,Headers:()=>ed,Request:()=>oy,Response:()=>Zu,default:()=>hge});import tp from"stream";import kst from"http";import qF from"url";import BYt from"https";import l_ from"zlib";function xs(t,e,r){Error.call(this,t),this.message=t,this.type=e,r&&(this.code=this.errno=r.code),Error.captureStackTrace(this,this.constructor)}function Zo(t){var e=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.size;let i=n===void 0?0:n;var o=r.timeout;let s=o===void 0?0:o;t==null?t=null:Dst(t)?t=Buffer.from(t.toString()):D9(t)||Buffer.isBuffer(t)||(Object.prototype.toString.call(t)==="[object ArrayBuffer]"?t=Buffer.from(t):ArrayBuffer.isView(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):t instanceof tp||(t=Buffer.from(String(t)))),this[Qh]={body:t,disturbed:!1,error:null},this.size=i,this.timeout=s,t instanceof tp&&t.on("error",function(a){let c=a.name==="AbortError"?a:new xs(`Invalid response body while trying to fetch ${e.url}: ${a.message}`,"system",a);e[Qh].error=c})}function tE(){var t=this;if(this[Qh].disturbed)return Zo.Promise.reject(new TypeError(`body used already for: ${this.url}`));if(this[Qh].disturbed=!0,this[Qh].error)return Zo.Promise.reject(this[Qh].error);let e=this.body;if(e===null)return Zo.Promise.resolve(Buffer.alloc(0));if(D9(e)&&(e=e.stream()),Buffer.isBuffer(e))return Zo.Promise.resolve(e);if(!(e instanceof tp))return Zo.Promise.resolve(Buffer.alloc(0));let r=[],n=0,i=!1;return new Zo.Promise(function(o,s){let a;t.timeout&&(a=setTimeout(function(){i=!0,s(new xs(`Response timeout while trying to fetch ${t.url} (over ${t.timeout}ms)`,"body-timeout"))},t.timeout)),e.on("error",function(c){c.name==="AbortError"?(i=!0,s(c)):s(new xs(`Invalid response body while trying to fetch ${t.url}: ${c.message}`,"system",c))}),e.on("data",function(c){if(!(i||c===null)){if(t.size&&n+c.length>t.size){i=!0,s(new xs(`content size at ${t.url} over limit: ${t.size}`,"max-size"));return}n+=c.length,r.push(c)}}),e.on("end",function(){if(!i){clearTimeout(a);try{o(Buffer.concat(r,n))}catch(c){s(new xs(`Could not create Buffer from response body for ${t.url}: ${c.message}`,"system",c))}}})})}function UYt(t,e){if(typeof lge!="function")throw new Error("The package `encoding` must be installed to use the textConverted() function");let r=e.get("content-type"),n="utf-8",i,o;return r&&(i=/charset=([^;]*)/i.exec(r)),o=t.slice(0,1024).toString(),!i&&o&&(i=/<meta.+?charset=(['"])(.+?)\1/i.exec(o)),!i&&o&&(i=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(o),i||(i=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(o),i&&i.pop()),i&&(i=/charset=(.*)/i.exec(i.pop()))),!i&&o&&(i=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(o)),i&&(n=i.pop(),(n==="gb2312"||n==="gbk")&&(n="gb18030")),lge(t,"UTF-8",n).toString()}function Dst(t){return typeof t!="object"||typeof t.append!="function"||typeof t.delete!="function"||typeof t.get!="function"||typeof t.getAll!="function"||typeof t.has!="function"||typeof t.set!="function"?!1:t.constructor.name==="URLSearchParams"||Object.prototype.toString.call(t)==="[object URLSearchParams]"||typeof t.sort=="function"}function D9(t){return typeof t=="object"&&typeof t.arrayBuffer=="function"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.constructor=="function"&&typeof t.constructor.name=="string"&&/^(Blob|File)$/.test(t.constructor.name)&&/^(Blob|File)$/.test(t[Symbol.toStringTag])}function Mst(t){let e,r,n=t.body;if(t.bodyUsed)throw new Error("cannot clone body after it is used");return n instanceof tp&&typeof n.getBoundary!="function"&&(e=new Nst,r=new Nst,n.pipe(e),n.pipe(r),t[Qh].body=e,n=r),n}function Lst(t){return t===null?null:typeof t=="string"?"text/plain;charset=UTF-8":Dst(t)?"application/x-www-form-urlencoded;charset=UTF-8":D9(t)?t.type||null:Buffer.isBuffer(t)||Object.prototype.toString.call(t)==="[object ArrayBuffer]"||ArrayBuffer.isView(t)?null:typeof t.getBoundary=="function"?`multipart/form-data;boundary=${t.getBoundary()}`:t instanceof tp?null:"text/plain;charset=UTF-8"}function Bst(t){let e=t.body;return e===null?0:D9(e)?e.size:Buffer.isBuffer(e)?e.length:e&&typeof e.getLengthSync=="function"&&(e._lengthRetrievers&&e._lengthRetrievers.length==0||e.hasKnownLength&&e.hasKnownLength())?e.getLengthSync():null}function FYt(t,e){let r=e.body;r===null?t.end():D9(r)?r.stream().pipe(t):Buffer.isBuffer(r)?(t.write(r),t.end()):r.pipe(t)}function O9(t){if(t=`${t}`,$st.test(t)||t==="")throw new TypeError(`${t} is not a legal HTTP header name`)}function Ost(t){if(t=`${t}`,uge.test(t))throw new TypeError(`${t} is not a legal HTTP header value`)}function rE(t,e){e=e.toLowerCase();for(let r in t)if(r.toLowerCase()===e)return r}function dge(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"key+value";return Object.keys(t[Ji]).sort().map(e==="key"?function(n){return n.toLowerCase()}:e==="value"?function(n){return t[Ji][n].join(", ")}:function(n){return[n.toLowerCase(),t[Ji][n].join(", ")]})}function sge(t,e){let r=Object.create(mge);return r[pge]={target:t,kind:e,index:0},r}function zYt(t){let e=Object.assign({__proto__:null},t[Ji]),r=rE(t[Ji],"Host");return r!==void 0&&(e[r]=e[r][0]),e}function VYt(t){let e=new ed;for(let r of Object.keys(t))if(!$st.test(r))if(Array.isArray(t[r]))for(let n of t[r])uge.test(n)||(e[Ji][r]===void 0?e[Ji][r]=[n]:e[Ji][r].push(n));else uge.test(t[r])||(e[Ji][r]=[t[r]]);return e}function age(t){return/^[a-zA-Z][a-zA-Z\d+\-.]*:/.exec(t)&&(t=new GYt(t).toString()),jYt(t)}function jF(t){return typeof t=="object"&&typeof t[Kh]=="object"}function WYt(t){let e=t&&typeof t=="object"&&Object.getPrototypeOf(t);return!!(e&&e.constructor.name==="AbortSignal")}function KYt(t){let e=t[Kh].parsedURL,r=new ed(t[Kh].headers);if(r.has("Accept")||r.set("Accept","*/*"),!e.protocol||!e.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(e.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(t.signal&&t.body instanceof tp.Readable&&!JYt)throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let n=null;if(t.body==null&&/^(POST|PUT)$/i.test(t.method)&&(n="0"),t.body!=null){let o=Bst(t);typeof o=="number"&&(n=String(o))}n&&r.set("Content-Length",n),r.has("User-Agent")||r.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),t.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip,deflate");let i=t.agent;return typeof i=="function"&&(i=i(e)),Object.assign({},e,{method:t.method,headers:zYt(r),agent:i})}function nE(t){Error.call(this,t),this.type="aborted",this.message=t,Error.captureStackTrace(this,this.constructor)}function iy(t,e){if(!iy.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return Zo.Promise=iy.Promise,new iy.Promise(function(r,n){let i=new oy(t,e),o=KYt(i),s=(o.protocol==="https:"?BYt:kst).request,a=i.signal,c=null,l=function(){let m=new nE("The user aborted a request.");n(m),i.body&&i.body instanceof tp.Readable&&cge(i.body,m),!(!c||!c.body)&&c.body.emit("error",m)};if(a&&a.aborted){l();return}let u=function(){l(),f()},d=s(o),p;a&&a.addEventListener("abort",u);function f(){d.abort(),a&&a.removeEventListener("abort",u),clearTimeout(p)}i.timeout&&d.once("socket",function(h){p=setTimeout(function(){n(new xs(`network timeout at: ${i.url}`,"request-timeout")),f()},i.timeout)}),d.on("error",function(h){n(new xs(`request to ${i.url} failed, reason: ${h.message}`,"system",h)),c&&c.body&&cge(c.body,h),f()}),YYt(d,function(h){a&&a.aborted||c&&c.body&&cge(c.body,h)}),parseInt(process.version.substring(1))<14&&d.on("socket",function(h){h.addListener("close",function(m){let g=h.listenerCount("data")>0;if(c&&g&&!m&&!(a&&a.aborted)){let b=new Error("Premature close");b.code="ERR_STREAM_PREMATURE_CLOSE",c.body.emit("error",b)}})}),d.on("response",function(h){clearTimeout(p);let m=VYt(h.headers);if(iy.isRedirect(h.statusCode)){let E=m.get("Location"),R=null;try{R=E===null?null:new k9(E,i.url).toString()}catch{if(i.redirect!=="manual"){n(new xs(`uri requested responds with an invalid redirect URL: ${E}`,"invalid-redirect")),f();return}}switch(i.redirect){case"error":n(new xs(`uri requested responds with a redirect, redirect mode is set to error: ${i.url}`,"no-redirect")),f();return;case"manual":if(R!==null)try{m.set("Location",R)}catch(D){n(D)}break;case"follow":if(R===null)break;if(i.counter>=i.follow){n(new xs(`maximum redirect reached at: ${i.url}`,"max-redirect")),f();return}let I={headers:new ed(i.headers),follow:i.follow,counter:i.counter+1,agent:i.agent,compress:i.compress,method:i.method,body:i.body,signal:i.signal,timeout:i.timeout,size:i.size};if(!QYt(i.url,R)||!XYt(i.url,R))for(let D of["authorization","www-authenticate","cookie","cookie2"])I.headers.delete(D);if(h.statusCode!==303&&i.body&&Bst(i)===null){n(new xs("Cannot follow redirect with body being a readable stream","unsupported-redirect")),f();return}(h.statusCode===303||(h.statusCode===301||h.statusCode===302)&&i.method==="POST")&&(I.method="GET",I.body=void 0,I.headers.delete("content-length")),r(iy(new oy(R,I))),f();return}}h.once("end",function(){a&&a.removeEventListener("abort",u)});let g=h.pipe(new Pst),b={url:i.url,status:h.statusCode,statusText:h.statusMessage,headers:m,size:i.size,timeout:i.timeout,counter:i.counter},_=m.get("Content-Encoding");if(!i.compress||i.method==="HEAD"||_===null||h.statusCode===204||h.statusCode===304){c=new Zu(g,b),r(c);return}let x={flush:l_.Z_SYNC_FLUSH,finishFlush:l_.Z_SYNC_FLUSH};if(_=="gzip"||_=="x-gzip"){g=g.pipe(l_.createGunzip(x)),c=new Zu(g,b),r(c);return}if(_=="deflate"||_=="x-deflate"){let E=h.pipe(new Pst);E.once("data",function(R){(R[0]&15)===8?g=g.pipe(l_.createInflate()):g=g.pipe(l_.createInflateRaw()),c=new Zu(g,b),r(c)}),E.on("end",function(){c||(c=new Zu(g,b),r(c))});return}if(_=="br"&&typeof l_.createBrotliDecompress=="function"){g=g.pipe(l_.createBrotliDecompress()),c=new Zu(g,b),r(c);return}c=new Zu(g,b),r(c)}),FYt(d,i)})}function YYt(t,e){let r;t.on("socket",function(n){r=n}),t.on("response",function(n){let i=n.headers;i["transfer-encoding"]==="chunked"&&!i["content-length"]&&n.once("close",function(o){if(r&&r.listenerCount("data")>0&&!o){let a=new Error("Premature close");a.code="ERR_STREAM_PREMATURE_CLOSE",e(a)}})})}function cge(t,e){t.destroy?t.destroy(e):(t.emit("error",e),t.end())}var fge,$Yt,Wh,oge,P9,lge,Qh,Nst,$st,uge,Ji,ed,pge,mge,ny,HYt,Zu,Kh,GYt,jYt,qYt,JYt,oy,k9,Pst,QYt,XYt,hge,yge=y(()=>{"use strict";fge=ti(Cst(),1),$Yt=tp.Readable,Wh=Symbol("buffer"),oge=Symbol("type"),P9=class t{constructor(){this[oge]="";let e=arguments[0],r=arguments[1],n=[],i=0;if(e){let s=e,a=Number(s.length);for(let c=0;c<a;c++){let l=s[c],u;l instanceof Buffer?u=l:ArrayBuffer.isView(l)?u=Buffer.from(l.buffer,l.byteOffset,l.byteLength):l instanceof ArrayBuffer?u=Buffer.from(l):l instanceof t?u=l[Wh]:u=Buffer.from(typeof l=="string"?l:String(l)),i+=u.length,n.push(u)}}this[Wh]=Buffer.concat(n);let o=r&&r.type!==void 0&&String(r.type).toLowerCase();o&&!/[^\u0020-\u007E]/.test(o)&&(this[oge]=o)}get size(){return this[Wh].length}get type(){return this[oge]}text(){return Promise.resolve(this[Wh].toString())}arrayBuffer(){let e=this[Wh],r=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return Promise.resolve(r)}stream(){let e=new $Yt;return e._read=function(){},e.push(this[Wh]),e.push(null),e}toString(){return"[object Blob]"}slice(){let e=this.size,r=arguments[0],n=arguments[1],i,o;r===void 0?i=0:r<0?i=Math.max(e+r,0):i=Math.min(r,e),n===void 0?o=e:n<0?o=Math.max(e+n,0):o=Math.min(n,e);let s=Math.max(o-i,0),c=this[Wh].slice(i,i+s),l=new t([],{type:arguments[2]});return l[Wh]=c,l}};Object.defineProperties(P9.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});Object.defineProperty(P9.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0});xs.prototype=Object.create(Error.prototype);xs.prototype.constructor=xs;xs.prototype.name="FetchError";try{lge=ft("encoding").convert}catch{}Qh=Symbol("Body internals"),Nst=tp.PassThrough;Zo.prototype={get body(){return this[Qh].body},get bodyUsed(){return this[Qh].disturbed},arrayBuffer(){return tE.call(this).then(function(t){return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)})},blob(){let t=this.headers&&this.headers.get("content-type")||"";return tE.call(this).then(function(e){return Object.assign(new P9([],{type:t.toLowerCase()}),{[Wh]:e})})},json(){var t=this;return tE.call(this).then(function(e){try{return JSON.parse(e.toString())}catch(r){return Zo.Promise.reject(new xs(`invalid json response body at ${t.url} reason: ${r.message}`,"invalid-json"))}})},text(){return tE.call(this).then(function(t){return t.toString()})},buffer(){return tE.call(this)},textConverted(){var t=this;return tE.call(this).then(function(e){return UYt(e,t.headers)})}};Object.defineProperties(Zo.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});Zo.mixIn=function(t){for(let e of Object.getOwnPropertyNames(Zo.prototype))if(!(e in t)){let r=Object.getOwnPropertyDescriptor(Zo.prototype,e);Object.defineProperty(t,e,r)}};Zo.Promise=global.Promise;$st=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,uge=/[^\t\x20-\x7e\x80-\xff]/;Ji=Symbol("map"),ed=class t{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;if(this[Ji]=Object.create(null),e instanceof t){let r=e.raw(),n=Object.keys(r);for(let i of n)for(let o of r[i])this.append(i,o);return}if(e!=null)if(typeof e=="object"){let r=e[Symbol.iterator];if(r!=null){if(typeof r!="function")throw new TypeError("Header pairs must be iterable");let n=[];for(let i of e){if(typeof i!="object"||typeof i[Symbol.iterator]!="function")throw new TypeError("Each header pair must be iterable");n.push(Array.from(i))}for(let i of n){if(i.length!==2)throw new TypeError("Each header pair must be a name/value tuple");this.append(i[0],i[1])}}else for(let n of Object.keys(e)){let i=e[n];this.append(n,i)}}else throw new TypeError("Provided initializer must be an object")}get(e){e=`${e}`,O9(e);let r=rE(this[Ji],e);return r===void 0?null:this[Ji][r].join(", ")}forEach(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,n=dge(this),i=0;for(;i<n.length;){var o=n[i];let s=o[0],a=o[1];e.call(r,a,s,this),n=dge(this),i++}}set(e,r){e=`${e}`,r=`${r}`,O9(e),Ost(r);let n=rE(this[Ji],e);this[Ji][n!==void 0?n:e]=[r]}append(e,r){e=`${e}`,r=`${r}`,O9(e),Ost(r);let n=rE(this[Ji],e);n!==void 0?this[Ji][n].push(r):this[Ji][e]=[r]}has(e){return e=`${e}`,O9(e),rE(this[Ji],e)!==void 0}delete(e){e=`${e}`,O9(e);let r=rE(this[Ji],e);r!==void 0&&delete this[Ji][r]}raw(){return this[Ji]}keys(){return sge(this,"key")}values(){return sge(this,"value")}[Symbol.iterator](){return sge(this,"key+value")}};ed.prototype.entries=ed.prototype[Symbol.iterator];Object.defineProperty(ed.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0});Object.defineProperties(ed.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});pge=Symbol("internal");mge=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==mge)throw new TypeError("Value of `this` is not a HeadersIterator");var t=this[pge];let e=t.target,r=t.kind,n=t.index,i=dge(e,r),o=i.length;return n>=o?{value:void 0,done:!0}:(this[pge].index=n+1,{value:i[n],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));Object.defineProperty(mge,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});ny=Symbol("Response internals"),HYt=kst.STATUS_CODES,Zu=class t{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Zo.call(this,e,r);let n=r.status||200,i=new ed(r.headers);if(e!=null&&!i.has("Content-Type")){let o=Lst(e);o&&i.append("Content-Type",o)}this[ny]={url:r.url,status:n,statusText:r.statusText||HYt[n],headers:i,counter:r.counter}}get url(){return this[ny].url||""}get status(){return this[ny].status}get ok(){return this[ny].status>=200&&this[ny].status<300}get redirected(){return this[ny].counter>0}get statusText(){return this[ny].statusText}get headers(){return this[ny].headers}clone(){return new t(Mst(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}};Zo.mixIn(Zu.prototype);Object.defineProperties(Zu.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});Object.defineProperty(Zu.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});Kh=Symbol("Request internals"),GYt=qF.URL||fge.default.URL,jYt=qF.parse,qYt=qF.format;JYt="destroy"in tp.Readable.prototype;oy=class t{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n;jF(e)?n=age(e.url):(e&&e.href?n=age(e.href):n=age(`${e}`),e={});let i=r.method||e.method||"GET";if(i=i.toUpperCase(),(r.body!=null||jF(e)&&e.body!==null)&&(i==="GET"||i==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let o=r.body!=null?r.body:jF(e)&&e.body!==null?Mst(e):null;Zo.call(this,o,{timeout:r.timeout||e.timeout||0,size:r.size||e.size||0});let s=new ed(r.headers||e.headers||{});if(o!=null&&!s.has("Content-Type")){let c=Lst(o);c&&s.append("Content-Type",c)}let a=jF(e)?e.signal:null;if("signal"in r&&(a=r.signal),a!=null&&!WYt(a))throw new TypeError("Expected signal to be an instanceof AbortSignal");this[Kh]={method:i,redirect:r.redirect||e.redirect||"follow",headers:s,parsedURL:n,signal:a},this.follow=r.follow!==void 0?r.follow:e.follow!==void 0?e.follow:20,this.compress=r.compress!==void 0?r.compress:e.compress!==void 0?e.compress:!0,this.counter=r.counter||e.counter||0,this.agent=r.agent||e.agent}get method(){return this[Kh].method}get url(){return qYt(this[Kh].parsedURL)}get headers(){return this[Kh].headers}get redirect(){return this[Kh].redirect}get signal(){return this[Kh].signal}clone(){return new t(this)}};Zo.mixIn(oy.prototype);Object.defineProperty(oy.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0});Object.defineProperties(oy.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});nE.prototype=Object.create(Error.prototype);nE.prototype.constructor=nE;nE.prototype.name="AbortError";k9=qF.URL||fge.default.URL,Pst=tp.PassThrough,QYt=function(e,r){let n=new k9(r).hostname,i=new k9(e).hostname;return n===i||n[n.length-i.length-1]==="."&&n.endsWith(i)},XYt=function(e,r){let n=new k9(r).protocol,i=new k9(e).protocol;return n===i};iy.isRedirect=function(t){return t===301||t===302||t===303||t===307||t===308};iy.Promise=global.Promise;hge=iy});var bge=Ue((u_,Ust)=>{"use strict";var M9=(yge(),zj(gge)),ZYt=M9.default||M9,JF=function(t,e){return/^\/\//.test(t)&&(t="https:"+t),ZYt.call(this,t,e)};JF.ponyfill=!0;Ust.exports=u_=JF;u_.fetch=JF;u_.Headers=M9.Headers;u_.Request=M9.Request;u_.Response=M9.Response;u_.default=JF});function KZt(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){let a=(s+8)%10,c=(s+2)%10,l=r[c],u=r[c+1],d=Tat(l,u,1)^r[a],p=Rat(l,u,1)^r[a+1];for(let f=0;f<50;f+=10)t[s+f]^=d,t[s+f+1]^=p}let i=t[2],o=t[3];for(let s=0;s<24;s++){let a=Cat[s],c=Tat(i,o,a),l=Rat(i,o,a),u=Iat[s];i=t[u],o=t[u+1],t[u]=c,t[u+1]=l}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)r[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=JZt[n],t[1]^=WZt[n]}Fu(r)}var VZt,B9,HZt,GZt,jZt,qZt,Iat,Cat,Nat,Oat,JZt,WZt,Tat,Rat,xge,QZt,Sge,Pat=y(()=>{"use strict";Ope();wh();VZt=BigInt(0),B9=BigInt(1),HZt=BigInt(2),GZt=BigInt(7),jZt=BigInt(256),qZt=BigInt(113),Iat=[],Cat=[],Nat=[];for(let t=0,e=B9,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],Iat.push(2*(5*n+r)),Cat.push((t+1)*(t+2)/2%64);let i=VZt;for(let o=0;o<7;o++)e=(e<<B9^(e>>GZt)*qZt)%jZt,e&HZt&&(i^=B9<<(B9<<BigInt(o))-B9);Nat.push(i)}Oat=B$(Nat,!0),JZt=Oat[0],WZt=Oat[1],Tat=(t,e,r)=>r>32?ZZe(t,e,r):XZe(t,e,r),Rat=(t,e,r)=>r>32?eet(t,e,r):YZe(t,e,r);xge=class t extends y1{constructor(e,r,n,i=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,g1(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=jZe(this.state)}clone(){return this._cloneInto()}keccak(){Rpe(this.state32),KZt(this.state32,this.rounds),Rpe(this.state32),this.posOut=0,this.pos=0}update(e){Sh(this),e=t2(e),fs(e);let{blockLen:r,state:n}=this,i=e.length;for(let o=0;o<i;){let s=Math.min(r-this.pos,i-o);for(let a=0;a<s;a++)n[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Sh(this,!1),fs(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=e.length;i<o;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,o-i);e.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return g1(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(D$(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Fu(this.state)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new t(r,n,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}},QZt=(t,e,r)=>t4(()=>new xge(e,t,r)),Sge=QZt(1,136,256/8)});var Cge=Ue((Bat,Ige)=>{"use strict";(function(t,e){"use strict";function r(N,v){if(!N)throw new Error(v||"Assertion failed")}function n(N,v){N.super_=v;var S=function(){};S.prototype=v.prototype,N.prototype=new S,N.prototype.constructor=N}function i(N,v,S){if(i.isBN(N))return N;this.negative=0,this.words=null,this.length=0,this.red=null,N!==null&&((v==="le"||v==="be")&&(S=v,v=10),this._init(N||0,v||10,S||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=ft("buffer").Buffer}catch{}i.isBN=function(v){return v instanceof i?!0:v!==null&&typeof v=="object"&&v.constructor.wordSize===i.wordSize&&Array.isArray(v.words)},i.max=function(v,S){return v.cmp(S)>0?v:S},i.min=function(v,S){return v.cmp(S)<0?v:S},i.prototype._init=function(v,S,T){if(typeof v=="number")return this._initNumber(v,S,T);if(typeof v=="object")return this._initArray(v,S,T);S==="hex"&&(S=16),r(S===(S|0)&&S>=2&&S<=36),v=v.toString().replace(/\s+/g,"");var M=0;v[0]==="-"&&(M++,this.negative=1),M<v.length&&(S===16?this._parseHex(v,M,T):(this._parseBase(v,S,M),T==="le"&&this._initArray(this.toArray(),S,T)))},i.prototype._initNumber=function(v,S,T){v<0&&(this.negative=1,v=-v),v<67108864?(this.words=[v&67108863],this.length=1):v<4503599627370496?(this.words=[v&67108863,v/67108864&67108863],this.length=2):(r(v<9007199254740992),this.words=[v&67108863,v/67108864&67108863,1],this.length=3),T==="le"&&this._initArray(this.toArray(),S,T)},i.prototype._initArray=function(v,S,T){if(r(typeof v.length=="number"),v.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(v.length/3),this.words=new Array(this.length);for(var M=0;M<this.length;M++)this.words[M]=0;var U,H,K=0;if(T==="be")for(M=v.length-1,U=0;M>=0;M-=3)H=v[M]|v[M-1]<<8|v[M-2]<<16,this.words[U]|=H<<K&67108863,this.words[U+1]=H>>>26-K&67108863,K+=24,K>=26&&(K-=26,U++);else if(T==="le")for(M=0,U=0;M<v.length;M+=3)H=v[M]|v[M+1]<<8|v[M+2]<<16,this.words[U]|=H<<K&67108863,this.words[U+1]=H>>>26-K&67108863,K+=24,K>=26&&(K-=26,U++);return this._strip()};function s(N,v){var S=N.charCodeAt(v);if(S>=48&&S<=57)return S-48;if(S>=65&&S<=70)return S-55;if(S>=97&&S<=102)return S-87;r(!1,"Invalid character in "+N)}function a(N,v,S){var T=s(N,S);return S-1>=v&&(T|=s(N,S-1)<<4),T}i.prototype._parseHex=function(v,S,T){this.length=Math.ceil((v.length-S)/6),this.words=new Array(this.length);for(var M=0;M<this.length;M++)this.words[M]=0;var U=0,H=0,K;if(T==="be")for(M=v.length-1;M>=S;M-=2)K=a(v,S,M)<<U,this.words[H]|=K&67108863,U>=18?(U-=18,H+=1,this.words[H]|=K>>>26):U+=8;else{var G=v.length-S;for(M=G%2===0?S+1:S;M<v.length;M+=2)K=a(v,S,M)<<U,this.words[H]|=K&67108863,U>=18?(U-=18,H+=1,this.words[H]|=K>>>26):U+=8}this._strip()};function c(N,v,S,T){for(var M=0,U=0,H=Math.min(N.length,S),K=v;K<H;K++){var G=N.charCodeAt(K)-48;M*=T,G>=49?U=G-49+10:G>=17?U=G-17+10:U=G,r(G>=0&&U<T,"Invalid character"),M+=U}return M}i.prototype._parseBase=function(v,S,T){this.words=[0],this.length=1;for(var M=0,U=1;U<=67108863;U*=S)M++;M--,U=U/S|0;for(var H=v.length-T,K=H%M,G=Math.min(H,H-K)+T,w=0,Q=T;Q<G;Q+=M)w=c(v,Q,Q+M,S),this.imuln(U),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w);if(K!==0){var Ee=1;for(w=c(v,Q,v.length,S),Q=0;Q<K;Q++)Ee*=S;this.imuln(Ee),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w)}this._strip()},i.prototype.copy=function(v){v.words=new Array(this.length);for(var S=0;S<this.length;S++)v.words[S]=this.words[S];v.length=this.length,v.negative=this.negative,v.red=this.red};function l(N,v){N.words=v.words,N.length=v.length,N.negative=v.negative,N.red=v.red}if(i.prototype._move=function(v){l(v,this)},i.prototype.clone=function(){var v=new i(null);return this.copy(v),v},i.prototype._expand=function(v){for(;this.length<v;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch{i.prototype.inspect=u}else i.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(v,S){v=v||10,S=S|0||1;var T;if(v===16||v==="hex"){T="";for(var M=0,U=0,H=0;H<this.length;H++){var K=this.words[H],G=((K<<M|U)&16777215).toString(16);U=K>>>24-M&16777215,M+=2,M>=26&&(M-=26,H--),U!==0||H!==this.length-1?T=d[6-G.length]+G+T:T=G+T}for(U!==0&&(T=U.toString(16)+T);T.length%S!==0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}if(v===(v|0)&&v>=2&&v<=36){var w=p[v],Q=f[v];T="";var Ee=this.clone();for(Ee.negative=0;!Ee.isZero();){var ye=Ee.modrn(Q).toString(v);Ee=Ee.idivn(Q),Ee.isZero()?T=ye+T:T=d[w-ye.length]+ye+T}for(this.isZero()&&(T="0"+T);T.length%S!==0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var v=this.words[0];return this.length===2?v+=this.words[1]*67108864:this.length===3&&this.words[2]===1?v+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-v:v},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(v,S){return this.toArrayLike(o,v,S)}),i.prototype.toArray=function(v,S){return this.toArrayLike(Array,v,S)};var h=function(v,S){return v.allocUnsafe?v.allocUnsafe(S):new v(S)};i.prototype.toArrayLike=function(v,S,T){this._strip();var M=this.byteLength(),U=T||Math.max(1,M);r(M<=U,"byte array longer than desired length"),r(U>0,"Requested array length <= 0");var H=h(v,U),K=S==="le"?"LE":"BE";return this["_toArrayLike"+K](H,M),H},i.prototype._toArrayLikeLE=function(v,S){for(var T=0,M=0,U=0,H=0;U<this.length;U++){var K=this.words[U]<<H|M;v[T++]=K&255,T<v.length&&(v[T++]=K>>8&255),T<v.length&&(v[T++]=K>>16&255),H===6?(T<v.length&&(v[T++]=K>>24&255),M=0,H=0):(M=K>>>24,H+=2)}if(T<v.length)for(v[T++]=M;T<v.length;)v[T++]=0},i.prototype._toArrayLikeBE=function(v,S){for(var T=v.length-1,M=0,U=0,H=0;U<this.length;U++){var K=this.words[U]<<H|M;v[T--]=K&255,T>=0&&(v[T--]=K>>8&255),T>=0&&(v[T--]=K>>16&255),H===6?(T>=0&&(v[T--]=K>>24&255),M=0,H=0):(M=K>>>24,H+=2)}if(T>=0)for(v[T--]=M;T>=0;)v[T--]=0},Math.clz32?i.prototype._countBits=function(v){return 32-Math.clz32(v)}:i.prototype._countBits=function(v){var S=v,T=0;return S>=4096&&(T+=13,S>>>=13),S>=64&&(T+=7,S>>>=7),S>=8&&(T+=4,S>>>=4),S>=2&&(T+=2,S>>>=2),T+S},i.prototype._zeroBits=function(v){if(v===0)return 26;var S=v,T=0;return(S&8191)===0&&(T+=13,S>>>=13),(S&127)===0&&(T+=7,S>>>=7),(S&15)===0&&(T+=4,S>>>=4),(S&3)===0&&(T+=2,S>>>=2),(S&1)===0&&T++,T},i.prototype.bitLength=function(){var v=this.words[this.length-1],S=this._countBits(v);return(this.length-1)*26+S};function m(N){for(var v=new Array(N.bitLength()),S=0;S<v.length;S++){var T=S/26|0,M=S%26;v[S]=N.words[T]>>>M&1}return v}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var v=0,S=0;S<this.length;S++){var T=this._zeroBits(this.words[S]);if(v+=T,T!==26)break}return v},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(v){return this.negative!==0?this.abs().inotn(v).iaddn(1):this.clone()},i.prototype.fromTwos=function(v){return this.testn(v-1)?this.notn(v).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(v){for(;this.length<v.length;)this.words[this.length++]=0;for(var S=0;S<v.length;S++)this.words[S]=this.words[S]|v.words[S];return this._strip()},i.prototype.ior=function(v){return r((this.negative|v.negative)===0),this.iuor(v)},i.prototype.or=function(v){return this.length>v.length?this.clone().ior(v):v.clone().ior(this)},i.prototype.uor=function(v){return this.length>v.length?this.clone().iuor(v):v.clone().iuor(this)},i.prototype.iuand=function(v){var S;this.length>v.length?S=v:S=this;for(var T=0;T<S.length;T++)this.words[T]=this.words[T]&v.words[T];return this.length=S.length,this._strip()},i.prototype.iand=function(v){return r((this.negative|v.negative)===0),this.iuand(v)},i.prototype.and=function(v){return this.length>v.length?this.clone().iand(v):v.clone().iand(this)},i.prototype.uand=function(v){return this.length>v.length?this.clone().iuand(v):v.clone().iuand(this)},i.prototype.iuxor=function(v){var S,T;this.length>v.length?(S=this,T=v):(S=v,T=this);for(var M=0;M<T.length;M++)this.words[M]=S.words[M]^T.words[M];if(this!==S)for(;M<S.length;M++)this.words[M]=S.words[M];return this.length=S.length,this._strip()},i.prototype.ixor=function(v){return r((this.negative|v.negative)===0),this.iuxor(v)},i.prototype.xor=function(v){return this.length>v.length?this.clone().ixor(v):v.clone().ixor(this)},i.prototype.uxor=function(v){return this.length>v.length?this.clone().iuxor(v):v.clone().iuxor(this)},i.prototype.inotn=function(v){r(typeof v=="number"&&v>=0);var S=Math.ceil(v/26)|0,T=v%26;this._expand(S),T>0&&S--;for(var M=0;M<S;M++)this.words[M]=~this.words[M]&67108863;return T>0&&(this.words[M]=~this.words[M]&67108863>>26-T),this._strip()},i.prototype.notn=function(v){return this.clone().inotn(v)},i.prototype.setn=function(v,S){r(typeof v=="number"&&v>=0);var T=v/26|0,M=v%26;return this._expand(T+1),S?this.words[T]=this.words[T]|1<<M:this.words[T]=this.words[T]&~(1<<M),this._strip()},i.prototype.iadd=function(v){var S;if(this.negative!==0&&v.negative===0)return this.negative=0,S=this.isub(v),this.negative^=1,this._normSign();if(this.negative===0&&v.negative!==0)return v.negative=0,S=this.isub(v),v.negative=1,S._normSign();var T,M;this.length>v.length?(T=this,M=v):(T=v,M=this);for(var U=0,H=0;H<M.length;H++)S=(T.words[H]|0)+(M.words[H]|0)+U,this.words[H]=S&67108863,U=S>>>26;for(;U!==0&&H<T.length;H++)S=(T.words[H]|0)+U,this.words[H]=S&67108863,U=S>>>26;if(this.length=T.length,U!==0)this.words[this.length]=U,this.length++;else if(T!==this)for(;H<T.length;H++)this.words[H]=T.words[H];return this},i.prototype.add=function(v){var S;return v.negative!==0&&this.negative===0?(v.negative=0,S=this.sub(v),v.negative^=1,S):v.negative===0&&this.negative!==0?(this.negative=0,S=v.sub(this),this.negative=1,S):this.length>v.length?this.clone().iadd(v):v.clone().iadd(this)},i.prototype.isub=function(v){if(v.negative!==0){v.negative=0;var S=this.iadd(v);return v.negative=1,S._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(v),this.negative=1,this._normSign();var T=this.cmp(v);if(T===0)return this.negative=0,this.length=1,this.words[0]=0,this;var M,U;T>0?(M=this,U=v):(M=v,U=this);for(var H=0,K=0;K<U.length;K++)S=(M.words[K]|0)-(U.words[K]|0)+H,H=S>>26,this.words[K]=S&67108863;for(;H!==0&&K<M.length;K++)S=(M.words[K]|0)+H,H=S>>26,this.words[K]=S&67108863;if(H===0&&K<M.length&&M!==this)for(;K<M.length;K++)this.words[K]=M.words[K];return this.length=Math.max(this.length,K),M!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(v){return this.clone().isub(v)};function g(N,v,S){S.negative=v.negative^N.negative;var T=N.length+v.length|0;S.length=T,T=T-1|0;var M=N.words[0]|0,U=v.words[0]|0,H=M*U,K=H&67108863,G=H/67108864|0;S.words[0]=K;for(var w=1;w<T;w++){for(var Q=G>>>26,Ee=G&67108863,ye=Math.min(w,v.length-1),le=Math.max(0,w-N.length+1);le<=ye;le++){var Fe=w-le|0;M=N.words[Fe]|0,U=v.words[le]|0,H=M*U+Ee,Q+=H/67108864|0,Ee=H&67108863}S.words[w]=Ee|0,G=Q|0}return G!==0?S.words[w]=G|0:S.length--,S._strip()}var b=function(v,S,T){var M=v.words,U=S.words,H=T.words,K=0,G,w,Q,Ee=M[0]|0,ye=Ee&8191,le=Ee>>>13,Fe=M[1]|0,_e=Fe&8191,ot=Fe>>>13,he=M[2]|0,yt=he&8191,Oe=he>>>13,hr=M[3]|0,lr=hr&8191,fn=hr>>>13,vd=M[4]|0,vn=vd&8191,Bn=vd>>>13,Hg=M[5]|0,Rn=Hg&8191,on=Hg>>>13,Ps=M[6]|0,In=Ps&8191,ei=Ps>>>13,Ga=M[7]|0,mn=Ga&8191,A=Ga>>>13,B=M[8]|0,V=B&8191,ne=B>>>13,J=M[9]|0,Y=J&8191,ie=J>>>13,ke=U[0]|0,je=ke&8191,wt=ke>>>13,Jt=U[1]|0,at=Jt&8191,Je=Jt>>>13,bt=U[2]|0,Ye=bt&8191,nt=bt>>>13,Sr=U[3]|0,er=Sr&8191,ur=Sr>>>13,ja=U[4]|0,mi=ja&8191,Ei=ja>>>13,MO=U[5]|0,eo=MO&8191,to=MO>>>13,v2e=U[6]|0,ro=v2e&8191,no=v2e>>>13,_2e=U[7]|0,io=_2e&8191,oo=_2e>>>13,x2e=U[8]|0,so=x2e&8191,ao=x2e>>>13,S2e=U[9]|0,co=S2e&8191,lo=S2e>>>13;T.negative=v.negative^S.negative,T.length=19,G=Math.imul(ye,je),w=Math.imul(ye,wt),w=w+Math.imul(le,je)|0,Q=Math.imul(le,wt);var Sj=(K+G|0)+((w&8191)<<13)|0;K=(Q+(w>>>13)|0)+(Sj>>>26)|0,Sj&=67108863,G=Math.imul(_e,je),w=Math.imul(_e,wt),w=w+Math.imul(ot,je)|0,Q=Math.imul(ot,wt),G=G+Math.imul(ye,at)|0,w=w+Math.imul(ye,Je)|0,w=w+Math.imul(le,at)|0,Q=Q+Math.imul(le,Je)|0;var wj=(K+G|0)+((w&8191)<<13)|0;K=(Q+(w>>>13)|0)+(wj>>>26)|0,wj&=67108863,G=Math.imul(yt,je),w=Math.imul(yt,wt),w=w+Math.imul(Oe,je)|0,Q=Math.imul(Oe,wt),G=G+Math.imul(_e,at)|0,w=w+Math.imul(_e,Je)|0,w=w+Math.imul(ot,at)|0,Q=Q+Math.imul(ot,Je)|0,G=G+Math.imul(ye,Ye)|0,w=w+Math.imul(ye,nt)|0,w=w+Math.imul(le,Ye)|0,Q=Q+Math.imul(le,nt)|0;var Aj=(K+G|0)+((w&8191)<<13)|0;K=(Q+(w>>>13)|0)+(Aj>>>26)|0,Aj&=67108863,G=Math.imul(lr,je),w=Math.imul(lr,wt),w=w+Math.imul(fn,je)|0,Q=Math.imul(fn,wt),G=G+Math.imul(yt,at)|0,w=w+Math.imul(yt,Je)|0,w=w+Math.imul(Oe,at)|0,Q=Q+Math.imul(Oe,Je)|0,G=G+Math.imul(_e,Ye)|0,w=w+Math.imul(_e,nt)|0,w=w+Math.imul(ot,Ye)|0,Q=Q+Math.imul(ot,nt)|0,G=G+Math.imul(ye,er)|0,w=w+Math.imul(ye,ur)|0,w=w+Math.imul(le,er)|0,Q=Q+Math.imul(le,ur)|0;var Ej=(K+G|0)+((w&8191)<<13)|0;K=(Q+(w>>>13)|0)+(Ej>>>26)|0,Ej&=67108863,G=Math.imul(vn,je),w=Math.imul(vn,wt),w=w+Math.imul(Bn,je)|0,Q=Math.imul(Bn,wt),G=G+Math.imul(lr,at)|0,w=w+Math.imul(lr,Je)|0,w=w+Math.imul(fn,at)|0,Q=Q+Math.imul(fn,Je)|0,G=G+Math.imul(yt,Ye)|0,w=w+Math.imul(yt,nt)|0,w=w+Math.imul(Oe,Ye)|0,Q=Q+Math.imul(Oe,nt)|0,G=G+Math.imul(_e,er)|0,w=w+Math.imul(_e,ur)|0,w=w+Math.imul(ot,er)|0,Q=Q+Math.imul(ot,ur)|0,G=G+Math.imul(ye,mi)|0,w=w+Math.imul(ye,Ei)|0,w=w+Math.imul(le,mi)|0,Q=Q+Math.imul(le,Ei)|0;var Tj=(K+G|0)+((w&8191)<<13)|0;K=(Q+(w>>>13)|0)+(Tj>>>26)|0,Tj&=67108863,G=Math.imul(Rn,je),w=Math.imul(Rn,wt),w=w+Math.imul(on,je)|0,Q=Math.imul(on,wt),G=G+Math.imul(vn,at)|0,w=w+Math.imul(vn,Je)|0,w=w+Math.imul(Bn,at)|0,Q=Q+Math.imul(Bn,Je)|0,G=G+Math.imul(lr,Ye)|0,w=w+Math.imul(lr,nt)|0,w=w+Math.imul(fn,Ye)|0,Q=Q+Math.imul(fn,nt)|0,G=G+Math.imul(yt,er)|0,w=w+Math.imul(yt,ur)|0,w=w+Math.imul(Oe,er)|0,Q=Q+Math.imul(Oe,ur)|0,G=G+Math.imul(_e,mi)|0,w=w+Math.imul(_e,Ei)|0,w=w+Math.imul(ot,mi)|0,Q=Q+Math.imul(ot,Ei)|0,G=G+Math.imul(ye,eo)|0,w=w+Math.imul(ye,to)|0,w=w+Math.imul(le,eo)|0,Q=Q+Math.imul(le,to)|0;var Rj=(K+G|0)+((w&8191)<<13)|0;K=(Q+(w>>>13)|0)+(Rj>>>26)|0,Rj&=67108863,G=Math.imul(In,je),w=Math.imul(In,wt),w=w+Math.imul(ei,je)|0,Q=Math.imul(ei,wt),G=G+Math.imul(Rn,at)|0,w=w+Math.imul(Rn,Je)|0,w=w+Math.imul(on,at)|0,Q=Q+Math.imul(on,Je)|0,G=G+Math.imul(vn,Ye)|0,w=w+Math.imul(vn,nt)|0,w=w+Math.imul(Bn,Ye)|0,Q=Q+Math.imul(Bn,nt)|0,G=G+Math.imul(lr,er)|0,w=w+Math.imul(lr,ur)|0,w=w+Math.imul(fn,er)|0,Q=Q+Math.imul(fn,ur)|0,G=G+Math.imul(yt,mi)|0,w=w+Math.imul(yt,Ei)|0,w=w+Math.imul(Oe,mi)|0,Q=Q+Math.imul(Oe,Ei)|0,G=G+Math.imul(_e,eo)|0,w=w+Math.imul(_e,to)|0,w=w+Math.imul(ot,eo)|0,Q=Q+Math.imul(ot,to)|0,G=G+Math.imul(ye,ro)|0,w=w+Math.imul(ye,no)|0,w=w+Math.imul(le,ro)|0,Q=Q+Math.imul(le,no)|0;var Ij=(K+G|0)+((w&8191)<<13)|0;K=(Q+(w>>>13)|0)+(Ij>>>26)|0,Ij&=67108863,G=Math.imul(mn,je),w=Math.imul(mn,wt),w=w+Math.imul(A,je)|0,Q=Math.imul(A,wt),G=G+Math.imul(In,at)|0,w=w+Math.imul(In,Je)|0,w=w+Math.imul(ei,at)|0,Q=Q+Math.imul(ei,Je)|0,G=G+Math.imul(Rn,Ye)|0,w=w+Math.imul(Rn,nt)|0,w=w+Math.imul(on,Ye)|0,Q=Q+Math.imul(on,nt)|0,G=G+Math.imul(vn,er)|0,w=w+Math.imul(vn,ur)|0,w=w+Math.imul(Bn,er)|0,Q=Q+Math.imul(Bn,ur)|0,G=G+Math.imul(lr,mi)|0,w=w+Math.imul(lr,Ei)|0,w=w+Math.imul(fn,mi)|0,Q=Q+Math.imul(fn,Ei)|0,G=G+Math.imul(yt,eo)|0,w=w+Math.imul(yt,to)|0,w=w+Math.imul(Oe,eo)|0,Q=Q+Math.imul(Oe,to)|0,G=G+Math.imul(_e,ro)|0,w=w+Math.imul(_e,no)|0,w=w+Math.imul(ot,ro)|0,Q=Q+Math.imul(ot,no)|0,G=G+Math.imul(ye,io)|0,w=w+Math.imul(ye,oo)|0,w=w+Math.imul(le,io)|0,Q=Q+Math.imul(le,oo)|0;var Cj=(K+G|0)+((w&8191)<<13)|0;K=(Q+(w>>>13)|0)+(Cj>>>26)|0,Cj&=67108863,G=Math.imul(V,je),w=Math.imul(V,wt),w=w+Math.imul(ne,je)|0,Q=Math.imul(ne,wt),G=G+Math.imul(mn,at)|0,w=w+Math.imul(mn,Je)|0,w=w+Math.imul(A,at)|0,Q=Q+Math.imul(A,Je)|0,G=G+Math.imul(In,Ye)|0,w=w+Math.imul(In,nt)|0,w=w+Math.imul(ei,Ye)|0,Q=Q+Math.imul(ei,nt)|0,G=G+Math.imul(Rn,er)|0,w=w+Math.imul(Rn,ur)|0,w=w+Math.imul(on,er)|0,Q=Q+Math.imul(on,ur)|0,G=G+Math.imul(vn,mi)|0,w=w+Math.imul(vn,Ei)|0,w=w+Math.imul(Bn,mi)|0,Q=Q+Math.imul(Bn,Ei)|0,G=G+Math.imul(lr,eo)|0,w=w+Math.imul(lr,to)|0,w=w+Math.imul(fn,eo)|0,Q=Q+Math.imul(fn,to)|0,G=G+Math.imul(yt,ro)|0,w=w+Math.imul(yt,no)|0,w=w+Math.imul(Oe,ro)|0,Q=Q+Math.imul(Oe,no)|0,G=G+Math.imul(_e,io)|0,w=w+Math.imul(_e,oo)|0,w=w+Math.imul(ot,io)|0,Q=Q+Math.imul(ot,oo)|0,G=G+Math.imul(ye,so)|0,w=w+Math.imul(ye,ao)|0,w=w+Math.imul(le,so)|0,Q=Q+Math.imul(le,ao)|0;var Nj=(K+G|0)+((w&8191)<<13)|0;K=(Q+(w>>>13)|0)+(Nj>>>26)|0,Nj&=67108863,G=Math.imul(Y,je),w=Math.imul(Y,wt),w=w+Math.imul(ie,je)|0,Q=Math.imul(ie,wt),G=G+Math.imul(V,at)|0,w=w+Math.imul(V,Je)|0,w=w+Math.imul(ne,at)|0,Q=Q+Math.imul(ne,Je)|0,G=G+Math.imul(mn,Ye)|0,w=w+Math.imul(mn,nt)|0,w=w+Math.imul(A,Ye)|0,Q=Q+Math.imul(A,nt)|0,G=G+Math.imul(In,er)|0,w=w+Math.imul(In,ur)|0,w=w+Math.imul(ei,er)|0,Q=Q+Math.imul(ei,ur)|0,G=G+Math.imul(Rn,mi)|0,w=w+Math.imul(Rn,Ei)|0,w=w+Math.imul(on,mi)|0,Q=Q+Math.imul(on,Ei)|0,G=G+Math.imul(vn,eo)|0,w=w+Math.imul(vn,to)|0,w=w+Math.imul(Bn,eo)|0,Q=Q+Math.imul(Bn,to)|0,G=G+Math.imul(lr,ro)|0,w=w+Math.imul(lr,no)|0,w=w+Math.imul(fn,ro)|0,Q=Q+Math.imul(fn,no)|0,G=G+Math.imul(yt,io)|0,w=w+Math.imul(yt,oo)|0,w=w+Math.imul(Oe,io)|0,Q=Q+Math.imul(Oe,oo)|0,G=G+Math.imul(_e,so)|0,w=w+Math.imul(_e,ao)|0,w=w+Math.imul(ot,so)|0,Q=Q+Math.imul(ot,ao)|0,G=G+Math.imul(ye,co)|0,w=w+Math.imul(ye,lo)|0,w=w+Math.imul(le,co)|0,Q=Q+Math.imul(le,lo)|0;var Oj=(K+G|0)+((w&8191)<<13)|0;K=(Q+(w>>>13)|0)+(Oj>>>26)|0,Oj&=67108863,G=Math.imul(Y,at),w=Math.imul(Y,Je),w=w+Math.imul(ie,at)|0,Q=Math.imul(ie,Je),G=G+Math.imul(V,Ye)|0,w=w+Math.imul(V,nt)|0,w=w+Math.imul(ne,Ye)|0,Q=Q+Math.imul(ne,nt)|0,G=G+Math.imul(mn,er)|0,w=w+Math.imul(mn,ur)|0,w=w+Math.imul(A,er)|0,Q=Q+Math.imul(A,ur)|0,G=G+Math.imul(In,mi)|0,w=w+Math.imul(In,Ei)|0,w=w+Math.imul(ei,mi)|0,Q=Q+Math.imul(ei,Ei)|0,G=G+Math.imul(Rn,eo)|0,w=w+Math.imul(Rn,to)|0,w=w+Math.imul(on,eo)|0,Q=Q+Math.imul(on,to)|0,G=G+Math.imul(vn,ro)|0,w=w+Math.imul(vn,no)|0,w=w+Math.imul(Bn,ro)|0,Q=Q+Math.imul(Bn,no)|0,G=G+Math.imul(lr,io)|0,w=w+Math.imul(lr,oo)|0,w=w+Math.imul(fn,io)|0,Q=Q+Math.imul(fn,oo)|0,G=G+Math.imul(yt,so)|0,w=w+Math.imul(yt,ao)|0,w=w+Math.imul(Oe,so)|0,Q=Q+Math.imul(Oe,ao)|0,G=G+Math.imul(_e,co)|0,w=w+Math.imul(_e,lo)|0,w=w+Math.imul(ot,co)|0,Q=Q+Math.imul(ot,lo)|0;var Pj=(K+G|0)+((w&8191)<<13)|0;K=(Q+(w>>>13)|0)+(Pj>>>26)|0,Pj&=67108863,G=Math.imul(Y,Ye),w=Math.imul(Y,nt),w=w+Math.imul(ie,Ye)|0,Q=Math.imul(ie,nt),G=G+Math.imul(V,er)|0,w=w+Math.imul(V,ur)|0,w=w+Math.imul(ne,er)|0,Q=Q+Math.imul(ne,ur)|0,G=G+Math.imul(mn,mi)|0,w=w+Math.imul(mn,Ei)|0,w=w+Math.imul(A,mi)|0,Q=Q+Math.imul(A,Ei)|0,G=G+Math.imul(In,eo)|0,w=w+Math.imul(In,to)|0,w=w+Math.imul(ei,eo)|0,Q=Q+Math.imul(ei,to)|0,G=G+Math.imul(Rn,ro)|0,w=w+Math.imul(Rn,no)|0,w=w+Math.imul(on,ro)|0,Q=Q+Math.imul(on,no)|0,G=G+Math.imul(vn,io)|0,w=w+Math.imul(vn,oo)|0,w=w+Math.imul(Bn,io)|0,Q=Q+Math.imul(Bn,oo)|0,G=G+Math.imul(lr,so)|0,w=w+Math.imul(lr,ao)|0,w=w+Math.imul(fn,so)|0,Q=Q+Math.imul(fn,ao)|0,G=G+Math.imul(yt,co)|0,w=w+Math.imul(yt,lo)|0,w=w+Math.imul(Oe,co)|0,Q=Q+Math.imul(Oe,lo)|0;var kj=(K+G|0)+((w&8191)<<13)|0;K=(Q+(w>>>13)|0)+(kj>>>26)|0,kj&=67108863,G=Math.imul(Y,er),w=Math.imul(Y,ur),w=w+Math.imul(ie,er)|0,Q=Math.imul(ie,ur),G=G+Math.imul(V,mi)|0,w=w+Math.imul(V,Ei)|0,w=w+Math.imul(ne,mi)|0,Q=Q+Math.imul(ne,Ei)|0,G=G+Math.imul(mn,eo)|0,w=w+Math.imul(mn,to)|0,w=w+Math.imul(A,eo)|0,Q=Q+Math.imul(A,to)|0,G=G+Math.imul(In,ro)|0,w=w+Math.imul(In,no)|0,w=w+Math.imul(ei,ro)|0,Q=Q+Math.imul(ei,no)|0,G=G+Math.imul(Rn,io)|0,w=w+Math.imul(Rn,oo)|0,w=w+Math.imul(on,io)|0,Q=Q+Math.imul(on,oo)|0,G=G+Math.imul(vn,so)|0,w=w+Math.imul(vn,ao)|0,w=w+Math.imul(Bn,so)|0,Q=Q+Math.imul(Bn,ao)|0,G=G+Math.imul(lr,co)|0,w=w+Math.imul(lr,lo)|0,w=w+Math.imul(fn,co)|0,Q=Q+Math.imul(fn,lo)|0;var Dj=(K+G|0)+((w&8191)<<13)|0;K=(Q+(w>>>13)|0)+(Dj>>>26)|0,Dj&=67108863,G=Math.imul(Y,mi),w=Math.imul(Y,Ei),w=w+Math.imul(ie,mi)|0,Q=Math.imul(ie,Ei),G=G+Math.imul(V,eo)|0,w=w+Math.imul(V,to)|0,w=w+Math.imul(ne,eo)|0,Q=Q+Math.imul(ne,to)|0,G=G+Math.imul(mn,ro)|0,w=w+Math.imul(mn,no)|0,w=w+Math.imul(A,ro)|0,Q=Q+Math.imul(A,no)|0,G=G+Math.imul(In,io)|0,w=w+Math.imul(In,oo)|0,w=w+Math.imul(ei,io)|0,Q=Q+Math.imul(ei,oo)|0,G=G+Math.imul(Rn,so)|0,w=w+Math.imul(Rn,ao)|0,w=w+Math.imul(on,so)|0,Q=Q+Math.imul(on,ao)|0,G=G+Math.imul(vn,co)|0,w=w+Math.imul(vn,lo)|0,w=w+Math.imul(Bn,co)|0,Q=Q+Math.imul(Bn,lo)|0;var Mj=(K+G|0)+((w&8191)<<13)|0;K=(Q+(w>>>13)|0)+(Mj>>>26)|0,Mj&=67108863,G=Math.imul(Y,eo),w=Math.imul(Y,to),w=w+Math.imul(ie,eo)|0,Q=Math.imul(ie,to),G=G+Math.imul(V,ro)|0,w=w+Math.imul(V,no)|0,w=w+Math.imul(ne,ro)|0,Q=Q+Math.imul(ne,no)|0,G=G+Math.imul(mn,io)|0,w=w+Math.imul(mn,oo)|0,w=w+Math.imul(A,io)|0,Q=Q+Math.imul(A,oo)|0,G=G+Math.imul(In,so)|0,w=w+Math.imul(In,ao)|0,w=w+Math.imul(ei,so)|0,Q=Q+Math.imul(ei,ao)|0,G=G+Math.imul(Rn,co)|0,w=w+Math.imul(Rn,lo)|0,w=w+Math.imul(on,co)|0,Q=Q+Math.imul(on,lo)|0;var Lj=(K+G|0)+((w&8191)<<13)|0;K=(Q+(w>>>13)|0)+(Lj>>>26)|0,Lj&=67108863,G=Math.imul(Y,ro),w=Math.imul(Y,no),w=w+Math.imul(ie,ro)|0,Q=Math.imul(ie,no),G=G+Math.imul(V,io)|0,w=w+Math.imul(V,oo)|0,w=w+Math.imul(ne,io)|0,Q=Q+Math.imul(ne,oo)|0,G=G+Math.imul(mn,so)|0,w=w+Math.imul(mn,ao)|0,w=w+Math.imul(A,so)|0,Q=Q+Math.imul(A,ao)|0,G=G+Math.imul(In,co)|0,w=w+Math.imul(In,lo)|0,w=w+Math.imul(ei,co)|0,Q=Q+Math.imul(ei,lo)|0;var Bj=(K+G|0)+((w&8191)<<13)|0;K=(Q+(w>>>13)|0)+(Bj>>>26)|0,Bj&=67108863,G=Math.imul(Y,io),w=Math.imul(Y,oo),w=w+Math.imul(ie,io)|0,Q=Math.imul(ie,oo),G=G+Math.imul(V,so)|0,w=w+Math.imul(V,ao)|0,w=w+Math.imul(ne,so)|0,Q=Q+Math.imul(ne,ao)|0,G=G+Math.imul(mn,co)|0,w=w+Math.imul(mn,lo)|0,w=w+Math.imul(A,co)|0,Q=Q+Math.imul(A,lo)|0;var $j=(K+G|0)+((w&8191)<<13)|0;K=(Q+(w>>>13)|0)+($j>>>26)|0,$j&=67108863,G=Math.imul(Y,so),w=Math.imul(Y,ao),w=w+Math.imul(ie,so)|0,Q=Math.imul(ie,ao),G=G+Math.imul(V,co)|0,w=w+Math.imul(V,lo)|0,w=w+Math.imul(ne,co)|0,Q=Q+Math.imul(ne,lo)|0;var Uj=(K+G|0)+((w&8191)<<13)|0;K=(Q+(w>>>13)|0)+(Uj>>>26)|0,Uj&=67108863,G=Math.imul(Y,co),w=Math.imul(Y,lo),w=w+Math.imul(ie,co)|0,Q=Math.imul(ie,lo);var Fj=(K+G|0)+((w&8191)<<13)|0;return K=(Q+(w>>>13)|0)+(Fj>>>26)|0,Fj&=67108863,H[0]=Sj,H[1]=wj,H[2]=Aj,H[3]=Ej,H[4]=Tj,H[5]=Rj,H[6]=Ij,H[7]=Cj,H[8]=Nj,H[9]=Oj,H[10]=Pj,H[11]=kj,H[12]=Dj,H[13]=Mj,H[14]=Lj,H[15]=Bj,H[16]=$j,H[17]=Uj,H[18]=Fj,K!==0&&(H[19]=K,T.length++),T};Math.imul||(b=g);function _(N,v,S){S.negative=v.negative^N.negative,S.length=N.length+v.length;for(var T=0,M=0,U=0;U<S.length-1;U++){var H=M;M=0;for(var K=T&67108863,G=Math.min(U,v.length-1),w=Math.max(0,U-N.length+1);w<=G;w++){var Q=U-w,Ee=N.words[Q]|0,ye=v.words[w]|0,le=Ee*ye,Fe=le&67108863;H=H+(le/67108864|0)|0,Fe=Fe+K|0,K=Fe&67108863,H=H+(Fe>>>26)|0,M+=H>>>26,H&=67108863}S.words[U]=K,T=H,H=M}return T!==0?S.words[U]=T:S.length--,S._strip()}function x(N,v,S){return _(N,v,S)}i.prototype.mulTo=function(v,S){var T,M=this.length+v.length;return this.length===10&&v.length===10?T=b(this,v,S):M<63?T=g(this,v,S):M<1024?T=_(this,v,S):T=x(this,v,S),T};function E(N,v){this.x=N,this.y=v}E.prototype.makeRBT=function(v){for(var S=new Array(v),T=i.prototype._countBits(v)-1,M=0;M<v;M++)S[M]=this.revBin(M,T,v);return S},E.prototype.revBin=function(v,S,T){if(v===0||v===T-1)return v;for(var M=0,U=0;U<S;U++)M|=(v&1)<<S-U-1,v>>=1;return M},E.prototype.permute=function(v,S,T,M,U,H){for(var K=0;K<H;K++)M[K]=S[v[K]],U[K]=T[v[K]]},E.prototype.transform=function(v,S,T,M,U,H){this.permute(H,v,S,T,M,U);for(var K=1;K<U;K<<=1)for(var G=K<<1,w=Math.cos(2*Math.PI/G),Q=Math.sin(2*Math.PI/G),Ee=0;Ee<U;Ee+=G)for(var ye=w,le=Q,Fe=0;Fe<K;Fe++){var _e=T[Ee+Fe],ot=M[Ee+Fe],he=T[Ee+Fe+K],yt=M[Ee+Fe+K],Oe=ye*he-le*yt;yt=ye*yt+le*he,he=Oe,T[Ee+Fe]=_e+he,M[Ee+Fe]=ot+yt,T[Ee+Fe+K]=_e-he,M[Ee+Fe+K]=ot-yt,Fe!==G&&(Oe=w*ye-Q*le,le=w*le+Q*ye,ye=Oe)}},E.prototype.guessLen13b=function(v,S){var T=Math.max(S,v)|1,M=T&1,U=0;for(T=T/2|0;T;T=T>>>1)U++;return 1<<U+1+M},E.prototype.conjugate=function(v,S,T){if(!(T<=1))for(var M=0;M<T/2;M++){var U=v[M];v[M]=v[T-M-1],v[T-M-1]=U,U=S[M],S[M]=-S[T-M-1],S[T-M-1]=-U}},E.prototype.normalize13b=function(v,S){for(var T=0,M=0;M<S/2;M++){var U=Math.round(v[2*M+1]/S)*8192+Math.round(v[2*M]/S)+T;v[M]=U&67108863,U<67108864?T=0:T=U/67108864|0}return v},E.prototype.convert13b=function(v,S,T,M){for(var U=0,H=0;H<S;H++)U=U+(v[H]|0),T[2*H]=U&8191,U=U>>>13,T[2*H+1]=U&8191,U=U>>>13;for(H=2*S;H<M;++H)T[H]=0;r(U===0),r((U&-8192)===0)},E.prototype.stub=function(v){for(var S=new Array(v),T=0;T<v;T++)S[T]=0;return S},E.prototype.mulp=function(v,S,T){var M=2*this.guessLen13b(v.length,S.length),U=this.makeRBT(M),H=this.stub(M),K=new Array(M),G=new Array(M),w=new Array(M),Q=new Array(M),Ee=new Array(M),ye=new Array(M),le=T.words;le.length=M,this.convert13b(v.words,v.length,K,M),this.convert13b(S.words,S.length,Q,M),this.transform(K,H,G,w,M,U),this.transform(Q,H,Ee,ye,M,U);for(var Fe=0;Fe<M;Fe++){var _e=G[Fe]*Ee[Fe]-w[Fe]*ye[Fe];w[Fe]=G[Fe]*ye[Fe]+w[Fe]*Ee[Fe],G[Fe]=_e}return this.conjugate(G,w,M),this.transform(G,w,le,H,M,U),this.conjugate(le,H,M),this.normalize13b(le,M),T.negative=v.negative^S.negative,T.length=v.length+S.length,T._strip()},i.prototype.mul=function(v){var S=new i(null);return S.words=new Array(this.length+v.length),this.mulTo(v,S)},i.prototype.mulf=function(v){var S=new i(null);return S.words=new Array(this.length+v.length),x(this,v,S)},i.prototype.imul=function(v){return this.clone().mulTo(v,this)},i.prototype.imuln=function(v){var S=v<0;S&&(v=-v),r(typeof v=="number"),r(v<67108864);for(var T=0,M=0;M<this.length;M++){var U=(this.words[M]|0)*v,H=(U&67108863)+(T&67108863);T>>=26,T+=U/67108864|0,T+=H>>>26,this.words[M]=H&67108863}return T!==0&&(this.words[M]=T,this.length++),this.length=v===0?1:this.length,S?this.ineg():this},i.prototype.muln=function(v){return this.clone().imuln(v)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(v){var S=m(v);if(S.length===0)return new i(1);for(var T=this,M=0;M<S.length&&S[M]===0;M++,T=T.sqr());if(++M<S.length)for(var U=T.sqr();M<S.length;M++,U=U.sqr())S[M]!==0&&(T=T.mul(U));return T},i.prototype.iushln=function(v){r(typeof v=="number"&&v>=0);var S=v%26,T=(v-S)/26,M=67108863>>>26-S<<26-S,U;if(S!==0){var H=0;for(U=0;U<this.length;U++){var K=this.words[U]&M,G=(this.words[U]|0)-K<<S;this.words[U]=G|H,H=K>>>26-S}H&&(this.words[U]=H,this.length++)}if(T!==0){for(U=this.length-1;U>=0;U--)this.words[U+T]=this.words[U];for(U=0;U<T;U++)this.words[U]=0;this.length+=T}return this._strip()},i.prototype.ishln=function(v){return r(this.negative===0),this.iushln(v)},i.prototype.iushrn=function(v,S,T){r(typeof v=="number"&&v>=0);var M;S?M=(S-S%26)/26:M=0;var U=v%26,H=Math.min((v-U)/26,this.length),K=67108863^67108863>>>U<<U,G=T;if(M-=H,M=Math.max(0,M),G){for(var w=0;w<H;w++)G.words[w]=this.words[w];G.length=H}if(H!==0)if(this.length>H)for(this.length-=H,w=0;w<this.length;w++)this.words[w]=this.words[w+H];else this.words[0]=0,this.length=1;var Q=0;for(w=this.length-1;w>=0&&(Q!==0||w>=M);w--){var Ee=this.words[w]|0;this.words[w]=Q<<26-U|Ee>>>U,Q=Ee&K}return G&&Q!==0&&(G.words[G.length++]=Q),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(v,S,T){return r(this.negative===0),this.iushrn(v,S,T)},i.prototype.shln=function(v){return this.clone().ishln(v)},i.prototype.ushln=function(v){return this.clone().iushln(v)},i.prototype.shrn=function(v){return this.clone().ishrn(v)},i.prototype.ushrn=function(v){return this.clone().iushrn(v)},i.prototype.testn=function(v){r(typeof v=="number"&&v>=0);var S=v%26,T=(v-S)/26,M=1<<S;if(this.length<=T)return!1;var U=this.words[T];return!!(U&M)},i.prototype.imaskn=function(v){r(typeof v=="number"&&v>=0);var S=v%26,T=(v-S)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=T)return this;if(S!==0&&T++,this.length=Math.min(T,this.length),S!==0){var M=67108863^67108863>>>S<<S;this.words[this.length-1]&=M}return this._strip()},i.prototype.maskn=function(v){return this.clone().imaskn(v)},i.prototype.iaddn=function(v){return r(typeof v=="number"),r(v<67108864),v<0?this.isubn(-v):this.negative!==0?this.length===1&&(this.words[0]|0)<=v?(this.words[0]=v-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(v),this.negative=1,this):this._iaddn(v)},i.prototype._iaddn=function(v){this.words[0]+=v;for(var S=0;S<this.length&&this.words[S]>=67108864;S++)this.words[S]-=67108864,S===this.length-1?this.words[S+1]=1:this.words[S+1]++;return this.length=Math.max(this.length,S+1),this},i.prototype.isubn=function(v){if(r(typeof v=="number"),r(v<67108864),v<0)return this.iaddn(-v);if(this.negative!==0)return this.negative=0,this.iaddn(v),this.negative=1,this;if(this.words[0]-=v,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var S=0;S<this.length&&this.words[S]<0;S++)this.words[S]+=67108864,this.words[S+1]-=1;return this._strip()},i.prototype.addn=function(v){return this.clone().iaddn(v)},i.prototype.subn=function(v){return this.clone().isubn(v)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(v,S,T){var M=v.length+T,U;this._expand(M);var H,K=0;for(U=0;U<v.length;U++){H=(this.words[U+T]|0)+K;var G=(v.words[U]|0)*S;H-=G&67108863,K=(H>>26)-(G/67108864|0),this.words[U+T]=H&67108863}for(;U<this.length-T;U++)H=(this.words[U+T]|0)+K,K=H>>26,this.words[U+T]=H&67108863;if(K===0)return this._strip();for(r(K===-1),K=0,U=0;U<this.length;U++)H=-(this.words[U]|0)+K,K=H>>26,this.words[U]=H&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(v,S){var T=this.length-v.length,M=this.clone(),U=v,H=U.words[U.length-1]|0,K=this._countBits(H);T=26-K,T!==0&&(U=U.ushln(T),M.iushln(T),H=U.words[U.length-1]|0);var G=M.length-U.length,w;if(S!=="mod"){w=new i(null),w.length=G+1,w.words=new Array(w.length);for(var Q=0;Q<w.length;Q++)w.words[Q]=0}var Ee=M.clone()._ishlnsubmul(U,1,G);Ee.negative===0&&(M=Ee,w&&(w.words[G]=1));for(var ye=G-1;ye>=0;ye--){var le=(M.words[U.length+ye]|0)*67108864+(M.words[U.length+ye-1]|0);for(le=Math.min(le/H|0,67108863),M._ishlnsubmul(U,le,ye);M.negative!==0;)le--,M.negative=0,M._ishlnsubmul(U,1,ye),M.isZero()||(M.negative^=1);w&&(w.words[ye]=le)}return w&&w._strip(),M._strip(),S!=="div"&&T!==0&&M.iushrn(T),{div:w||null,mod:M}},i.prototype.divmod=function(v,S,T){if(r(!v.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var M,U,H;return this.negative!==0&&v.negative===0?(H=this.neg().divmod(v,S),S!=="mod"&&(M=H.div.neg()),S!=="div"&&(U=H.mod.neg(),T&&U.negative!==0&&U.iadd(v)),{div:M,mod:U}):this.negative===0&&v.negative!==0?(H=this.divmod(v.neg(),S),S!=="mod"&&(M=H.div.neg()),{div:M,mod:H.mod}):(this.negative&v.negative)!==0?(H=this.neg().divmod(v.neg(),S),S!=="div"&&(U=H.mod.neg(),T&&U.negative!==0&&U.isub(v)),{div:H.div,mod:U}):v.length>this.length||this.cmp(v)<0?{div:new i(0),mod:this}:v.length===1?S==="div"?{div:this.divn(v.words[0]),mod:null}:S==="mod"?{div:null,mod:new i(this.modrn(v.words[0]))}:{div:this.divn(v.words[0]),mod:new i(this.modrn(v.words[0]))}:this._wordDiv(v,S)},i.prototype.div=function(v){return this.divmod(v,"div",!1).div},i.prototype.mod=function(v){return this.divmod(v,"mod",!1).mod},i.prototype.umod=function(v){return this.divmod(v,"mod",!0).mod},i.prototype.divRound=function(v){var S=this.divmod(v);if(S.mod.isZero())return S.div;var T=S.div.negative!==0?S.mod.isub(v):S.mod,M=v.ushrn(1),U=v.andln(1),H=T.cmp(M);return H<0||U===1&&H===0?S.div:S.div.negative!==0?S.div.isubn(1):S.div.iaddn(1)},i.prototype.modrn=function(v){var S=v<0;S&&(v=-v),r(v<=67108863);for(var T=(1<<26)%v,M=0,U=this.length-1;U>=0;U--)M=(T*M+(this.words[U]|0))%v;return S?-M:M},i.prototype.modn=function(v){return this.modrn(v)},i.prototype.idivn=function(v){var S=v<0;S&&(v=-v),r(v<=67108863);for(var T=0,M=this.length-1;M>=0;M--){var U=(this.words[M]|0)+T*67108864;this.words[M]=U/v|0,T=U%v}return this._strip(),S?this.ineg():this},i.prototype.divn=function(v){return this.clone().idivn(v)},i.prototype.egcd=function(v){r(v.negative===0),r(!v.isZero());var S=this,T=v.clone();S.negative!==0?S=S.umod(v):S=S.clone();for(var M=new i(1),U=new i(0),H=new i(0),K=new i(1),G=0;S.isEven()&&T.isEven();)S.iushrn(1),T.iushrn(1),++G;for(var w=T.clone(),Q=S.clone();!S.isZero();){for(var Ee=0,ye=1;(S.words[0]&ye)===0&&Ee<26;++Ee,ye<<=1);if(Ee>0)for(S.iushrn(Ee);Ee-- >0;)(M.isOdd()||U.isOdd())&&(M.iadd(w),U.isub(Q)),M.iushrn(1),U.iushrn(1);for(var le=0,Fe=1;(T.words[0]&Fe)===0&&le<26;++le,Fe<<=1);if(le>0)for(T.iushrn(le);le-- >0;)(H.isOdd()||K.isOdd())&&(H.iadd(w),K.isub(Q)),H.iushrn(1),K.iushrn(1);S.cmp(T)>=0?(S.isub(T),M.isub(H),U.isub(K)):(T.isub(S),H.isub(M),K.isub(U))}return{a:H,b:K,gcd:T.iushln(G)}},i.prototype._invmp=function(v){r(v.negative===0),r(!v.isZero());var S=this,T=v.clone();S.negative!==0?S=S.umod(v):S=S.clone();for(var M=new i(1),U=new i(0),H=T.clone();S.cmpn(1)>0&&T.cmpn(1)>0;){for(var K=0,G=1;(S.words[0]&G)===0&&K<26;++K,G<<=1);if(K>0)for(S.iushrn(K);K-- >0;)M.isOdd()&&M.iadd(H),M.iushrn(1);for(var w=0,Q=1;(T.words[0]&Q)===0&&w<26;++w,Q<<=1);if(w>0)for(T.iushrn(w);w-- >0;)U.isOdd()&&U.iadd(H),U.iushrn(1);S.cmp(T)>=0?(S.isub(T),M.isub(U)):(T.isub(S),U.isub(M))}var Ee;return S.cmpn(1)===0?Ee=M:Ee=U,Ee.cmpn(0)<0&&Ee.iadd(v),Ee},i.prototype.gcd=function(v){if(this.isZero())return v.abs();if(v.isZero())return this.abs();var S=this.clone(),T=v.clone();S.negative=0,T.negative=0;for(var M=0;S.isEven()&&T.isEven();M++)S.iushrn(1),T.iushrn(1);do{for(;S.isEven();)S.iushrn(1);for(;T.isEven();)T.iushrn(1);var U=S.cmp(T);if(U<0){var H=S;S=T,T=H}else if(U===0||T.cmpn(1)===0)break;S.isub(T)}while(!0);return T.iushln(M)},i.prototype.invm=function(v){return this.egcd(v).a.umod(v)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(v){return this.words[0]&v},i.prototype.bincn=function(v){r(typeof v=="number");var S=v%26,T=(v-S)/26,M=1<<S;if(this.length<=T)return this._expand(T+1),this.words[T]|=M,this;for(var U=M,H=T;U!==0&&H<this.length;H++){var K=this.words[H]|0;K+=U,U=K>>>26,K&=67108863,this.words[H]=K}return U!==0&&(this.words[H]=U,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(v){var S=v<0;if(this.negative!==0&&!S)return-1;if(this.negative===0&&S)return 1;this._strip();var T;if(this.length>1)T=1;else{S&&(v=-v),r(v<=67108863,"Number is too big");var M=this.words[0]|0;T=M===v?0:M<v?-1:1}return this.negative!==0?-T|0:T},i.prototype.cmp=function(v){if(this.negative!==0&&v.negative===0)return-1;if(this.negative===0&&v.negative!==0)return 1;var S=this.ucmp(v);return this.negative!==0?-S|0:S},i.prototype.ucmp=function(v){if(this.length>v.length)return 1;if(this.length<v.length)return-1;for(var S=0,T=this.length-1;T>=0;T--){var M=this.words[T]|0,U=v.words[T]|0;if(M!==U){M<U?S=-1:M>U&&(S=1);break}}return S},i.prototype.gtn=function(v){return this.cmpn(v)===1},i.prototype.gt=function(v){return this.cmp(v)===1},i.prototype.gten=function(v){return this.cmpn(v)>=0},i.prototype.gte=function(v){return this.cmp(v)>=0},i.prototype.ltn=function(v){return this.cmpn(v)===-1},i.prototype.lt=function(v){return this.cmp(v)===-1},i.prototype.lten=function(v){return this.cmpn(v)<=0},i.prototype.lte=function(v){return this.cmp(v)<=0},i.prototype.eqn=function(v){return this.cmpn(v)===0},i.prototype.eq=function(v){return this.cmp(v)===0},i.red=function(v){return new j(v)},i.prototype.toRed=function(v){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),v.convertTo(this)._forceRed(v)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(v){return this.red=v,this},i.prototype.forceRed=function(v){return r(!this.red,"Already a number in reduction context"),this._forceRed(v)},i.prototype.redAdd=function(v){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,v)},i.prototype.redIAdd=function(v){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,v)},i.prototype.redSub=function(v){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,v)},i.prototype.redISub=function(v){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,v)},i.prototype.redShl=function(v){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,v)},i.prototype.redMul=function(v){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.mul(this,v)},i.prototype.redIMul=function(v){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.imul(this,v)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(v){return r(this.red&&!v.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,v)};var R={k256:null,p224:null,p192:null,p25519:null};function I(N,v){this.name=N,this.p=new i(v,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}I.prototype._tmp=function(){var v=new i(null);return v.words=new Array(Math.ceil(this.n/13)),v},I.prototype.ireduce=function(v){var S=v,T;do this.split(S,this.tmp),S=this.imulK(S),S=S.iadd(this.tmp),T=S.bitLength();while(T>this.n);var M=T<this.n?-1:S.ucmp(this.p);return M===0?(S.words[0]=0,S.length=1):M>0?S.isub(this.p):S.strip!==void 0?S.strip():S._strip(),S},I.prototype.split=function(v,S){v.iushrn(this.n,0,S)},I.prototype.imulK=function(v){return v.imul(this.k)};function D(){I.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(D,I),D.prototype.split=function(v,S){for(var T=4194303,M=Math.min(v.length,9),U=0;U<M;U++)S.words[U]=v.words[U];if(S.length=M,v.length<=9){v.words[0]=0,v.length=1;return}var H=v.words[9];for(S.words[S.length++]=H&T,U=10;U<v.length;U++){var K=v.words[U]|0;v.words[U-10]=(K&T)<<4|H>>>22,H=K}H>>>=22,v.words[U-10]=H,H===0&&v.length>10?v.length-=10:v.length-=9},D.prototype.imulK=function(v){v.words[v.length]=0,v.words[v.length+1]=0,v.length+=2;for(var S=0,T=0;T<v.length;T++){var M=v.words[T]|0;S+=M*977,v.words[T]=S&67108863,S=M*64+(S/67108864|0)}return v.words[v.length-1]===0&&(v.length--,v.words[v.length-1]===0&&v.length--),v};function k(){I.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(k,I);function O(){I.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(O,I);function $(){I.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n($,I),$.prototype.imulK=function(v){for(var S=0,T=0;T<v.length;T++){var M=(v.words[T]|0)*19+S,U=M&67108863;M>>>=26,v.words[T]=U,S=M}return S!==0&&(v.words[v.length++]=S),v},i._prime=function(v){if(R[v])return R[v];var S;if(v==="k256")S=new D;else if(v==="p224")S=new k;else if(v==="p192")S=new O;else if(v==="p25519")S=new $;else throw new Error("Unknown prime "+v);return R[v]=S,S};function j(N){if(typeof N=="string"){var v=i._prime(N);this.m=v.p,this.prime=v}else r(N.gtn(1),"modulus must be greater than 1"),this.m=N,this.prime=null}j.prototype._verify1=function(v){r(v.negative===0,"red works only with positives"),r(v.red,"red works only with red numbers")},j.prototype._verify2=function(v,S){r((v.negative|S.negative)===0,"red works only with positives"),r(v.red&&v.red===S.red,"red works only with red numbers")},j.prototype.imod=function(v){return this.prime?this.prime.ireduce(v)._forceRed(this):(l(v,v.umod(this.m)._forceRed(this)),v)},j.prototype.neg=function(v){return v.isZero()?v.clone():this.m.sub(v)._forceRed(this)},j.prototype.add=function(v,S){this._verify2(v,S);var T=v.add(S);return T.cmp(this.m)>=0&&T.isub(this.m),T._forceRed(this)},j.prototype.iadd=function(v,S){this._verify2(v,S);var T=v.iadd(S);return T.cmp(this.m)>=0&&T.isub(this.m),T},j.prototype.sub=function(v,S){this._verify2(v,S);var T=v.sub(S);return T.cmpn(0)<0&&T.iadd(this.m),T._forceRed(this)},j.prototype.isub=function(v,S){this._verify2(v,S);var T=v.isub(S);return T.cmpn(0)<0&&T.iadd(this.m),T},j.prototype.shl=function(v,S){return this._verify1(v),this.imod(v.ushln(S))},j.prototype.imul=function(v,S){return this._verify2(v,S),this.imod(v.imul(S))},j.prototype.mul=function(v,S){return this._verify2(v,S),this.imod(v.mul(S))},j.prototype.isqr=function(v){return this.imul(v,v.clone())},j.prototype.sqr=function(v){return this.mul(v,v)},j.prototype.sqrt=function(v){if(v.isZero())return v.clone();var S=this.m.andln(3);if(r(S%2===1),S===3){var T=this.m.add(new i(1)).iushrn(2);return this.pow(v,T)}for(var M=this.m.subn(1),U=0;!M.isZero()&&M.andln(1)===0;)U++,M.iushrn(1);r(!M.isZero());var H=new i(1).toRed(this),K=H.redNeg(),G=this.m.subn(1).iushrn(1),w=this.m.bitLength();for(w=new i(2*w*w).toRed(this);this.pow(w,G).cmp(K)!==0;)w.redIAdd(K);for(var Q=this.pow(w,M),Ee=this.pow(v,M.addn(1).iushrn(1)),ye=this.pow(v,M),le=U;ye.cmp(H)!==0;){for(var Fe=ye,_e=0;Fe.cmp(H)!==0;_e++)Fe=Fe.redSqr();r(_e<le);var ot=this.pow(Q,new i(1).iushln(le-_e-1));Ee=Ee.redMul(ot),Q=ot.redSqr(),ye=ye.redMul(Q),le=_e}return Ee},j.prototype.invm=function(v){var S=v._invmp(this.m);return S.negative!==0?(S.negative=0,this.imod(S).redNeg()):this.imod(S)},j.prototype.pow=function(v,S){if(S.isZero())return new i(1).toRed(this);if(S.cmpn(1)===0)return v.clone();var T=4,M=new Array(1<<T);M[0]=new i(1).toRed(this),M[1]=v;for(var U=2;U<M.length;U++)M[U]=this.mul(M[U-1],v);var H=M[0],K=0,G=0,w=S.bitLength()%26;for(w===0&&(w=26),U=S.length-1;U>=0;U--){for(var Q=S.words[U],Ee=w-1;Ee>=0;Ee--){var ye=Q>>Ee&1;if(H!==M[0]&&(H=this.sqr(H)),ye===0&&K===0){G=0;continue}K<<=1,K|=ye,G++,!(G!==T&&(U!==0||Ee!==0))&&(H=this.mul(H,M[K]),G=0,K=0)}w=26}return H},j.prototype.convertTo=function(v){var S=v.umod(this.m);return S===v?S.clone():S},j.prototype.convertFrom=function(v){var S=v.clone();return S.red=null,S},i.mont=function(v){return new X(v)};function X(N){j.call(this,N),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(X,j),X.prototype.convertTo=function(v){return this.imod(v.ushln(this.shift))},X.prototype.convertFrom=function(v){var S=this.imod(v.mul(this.rinv));return S.red=null,S},X.prototype.imul=function(v,S){if(v.isZero()||S.isZero())return v.words[0]=0,v.length=1,v;var T=v.imul(S),M=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),U=T.isub(M).iushrn(this.shift),H=U;return U.cmp(this.m)>=0?H=U.isub(this.m):U.cmpn(0)<0&&(H=U.iadd(this.m)),H._forceRed(this)},X.prototype.mul=function(v,S){if(v.isZero()||S.isZero())return new i(0)._forceRed(this);var T=v.mul(S),M=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),U=T.isub(M).iushrn(this.shift),H=U;return U.cmp(this.m)>=0?H=U.isub(this.m):U.cmpn(0)<0&&(H=U.iadd(this.m)),H._forceRed(this)},X.prototype.invm=function(v){var S=this.imod(v._invmp(this.m).mul(this.r2));return S._forceRed(this)}})(typeof Ige>"u"||Ige,Bat)});var Oge=Ue((Nge,Uat)=>{"use strict";var rz=ft("buffer"),Gf=rz.Buffer;function $at(t,e){for(var r in t)e[r]=t[r]}Gf.from&&Gf.alloc&&Gf.allocUnsafe&&Gf.allocUnsafeSlow?Uat.exports=rz:($at(rz,Nge),Nge.Buffer=p_);function p_(t,e,r){return Gf(t,e,r)}p_.prototype=Object.create(Gf.prototype);$at(Gf,p_);p_.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Gf(t,e,r)};p_.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=Gf(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};p_.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Gf(t)};p_.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return rz.SlowBuffer(t)}});var zat=Ue((Bqn,Fat)=>{"use strict";var nz=Oge().Buffer;function ger(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=n}var s=t.length,a=t.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function u(f){if((Array.isArray(f)||f instanceof Uint8Array)&&(f=nz.from(f)),!nz.isBuffer(f))throw new TypeError("Expected Buffer");if(f.length===0)return"";for(var h=0,m=0,g=0,b=f.length;g!==b&&f[g]===0;)g++,h++;for(var _=(b-g)*l+1>>>0,x=new Uint8Array(_);g!==b;){for(var E=f[g],R=0,I=_-1;(E!==0||R<m)&&I!==-1;I--,R++)E+=256*x[I]>>>0,x[I]=E%s>>>0,E=E/s>>>0;if(E!==0)throw new Error("Non-zero carry");m=R,g++}for(var D=_-m;D!==_&&x[D]===0;)D++;for(var k=a.repeat(h);D<_;++D)k+=t.charAt(x[D]);return k}function d(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return nz.alloc(0);for(var h=0,m=0,g=0;f[h]===a;)m++,h++;for(var b=(f.length-h)*c+1>>>0,_=new Uint8Array(b);h<f.length;){var x=f.charCodeAt(h);if(x>255)return;var E=e[x];if(E===255)return;for(var R=0,I=b-1;(E!==0||R<g)&&I!==-1;I--,R++)E+=s*_[I]>>>0,_[I]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");g=R,h++}for(var D=b-g;D!==b&&_[D]===0;)D++;var k=nz.allocUnsafe(m+(b-D));k.fill(0,0,m);for(var O=m;D!==b;)k[O++]=_[D++];return k}function p(f){var h=d(f);if(h)return h;throw new Error("Non-base"+s+" character")}return{encode:u,decodeUnsafe:d,decode:p}}Fat.exports=ger});var Hat=Ue(($qn,Vat)=>{"use strict";var yer=zat(),ber="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Vat.exports=yer(ber)});var jat=Ue((Uqn,Gat)=>{"use strict";var iz=Oge().Buffer;function ver(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=n}var s=t.length,a=t.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function u(f){if((Array.isArray(f)||f instanceof Uint8Array)&&(f=iz.from(f)),!iz.isBuffer(f))throw new TypeError("Expected Buffer");if(f.length===0)return"";for(var h=0,m=0,g=0,b=f.length;g!==b&&f[g]===0;)g++,h++;for(var _=(b-g)*l+1>>>0,x=new Uint8Array(_);g!==b;){for(var E=f[g],R=0,I=_-1;(E!==0||R<m)&&I!==-1;I--,R++)E+=256*x[I]>>>0,x[I]=E%s>>>0,E=E/s>>>0;if(E!==0)throw new Error("Non-zero carry");m=R,g++}for(var D=_-m;D!==_&&x[D]===0;)D++;for(var k=a.repeat(h);D<_;++D)k+=t.charAt(x[D]);return k}function d(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return iz.alloc(0);for(var h=0,m=0,g=0;f[h]===a;)m++,h++;for(var b=(f.length-h)*c+1>>>0,_=new Uint8Array(b);h<f.length;){var x=f.charCodeAt(h);if(x>255)return;var E=e[x];if(E===255)return;for(var R=0,I=b-1;(E!==0||R<g)&&I!==-1;I--,R++)E+=s*_[I]>>>0,_[I]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");g=R,h++}for(var D=b-g;D!==b&&_[D]===0;)D++;var k=iz.allocUnsafe(m+(b-D));k.fill(0,0,m);for(var O=m;D!==b;)k[O++]=_[D++];return k}function p(f){var h=d(f);if(h)return h;throw new Error("Non-base"+s+" character")}return{encode:u,decodeUnsafe:d,decode:p}}Gat.exports=ver});var Jat=Ue((Fqn,qat)=>{"use strict";var _er=jat(),xer="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";qat.exports=_er(xer)});var Wat=Ue(Dge=>{"use strict";function eg(t,e,r){return e<=t&&t<=r}function lz(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function Ser(t){for(var e=String(t),r=e.length,n=0,i=[];n<r;){var o=e.charCodeAt(n);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(n===r-1)i.push(65533);else{var s=t.charCodeAt(n+1);if(56320<=s&&s<=57343){var a=o&1023,c=s&1023;i.push(65536+(a<<10)+c),n+=1}else i.push(65533)}n+=1}return i}function wer(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var oz=-1;function kge(t){this.tokens=[].slice.call(t)}kge.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():oz},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var cE=-1;function Pge(t,e){if(t)throw TypeError("Decoder error");return e||65533}var sz="utf-8";function az(t,e){if(!(this instanceof az))return new az(t,e);if(t=t!==void 0?String(t).toLowerCase():sz,t!==sz)throw new Error("Encoding not supported. Only utf-8 is supported");e=lz(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}az.prototype={decode:function(e,r){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),r=lz(r),this._streaming||(this._decoder=new Aer({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!r.stream;for(var i=new kge(n),o=[],s;!i.endOfStream()&&(s=this._decoder.handler(i,i.read()),s!==cE);)s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s));if(!this._streaming){do{if(s=this._decoder.handler(i,i.read()),s===cE)break;s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s))}while(!i.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),wer(o)}};function cz(t,e){if(!(this instanceof cz))return new cz(t,e);if(t=t!==void 0?String(t).toLowerCase():sz,t!==sz)throw new Error("Encoding not supported. Only utf-8 is supported");e=lz(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}cz.prototype={encode:function(e,r){e=e?String(e):"",r=lz(r),this._streaming||(this._encoder=new Eer(this._options)),this._streaming=!!r.stream;for(var n=[],i=new kge(Ser(e)),o;!i.endOfStream()&&(o=this._encoder.handler(i,i.read()),o!==cE);)Array.isArray(o)?n.push.apply(n,o):n.push(o);if(!this._streaming){for(;o=this._encoder.handler(i,i.read()),o!==cE;)Array.isArray(o)?n.push.apply(n,o):n.push(o);this._encoder=null}return new Uint8Array(n)}};function Aer(t){var e=t.fatal,r=0,n=0,i=0,o=128,s=191;this.handler=function(a,c){if(c===oz&&i!==0)return i=0,Pge(e);if(c===oz)return cE;if(i===0){if(eg(c,0,127))return c;if(eg(c,194,223))i=1,r=c-192;else if(eg(c,224,239))c===224&&(o=160),c===237&&(s=159),i=2,r=c-224;else if(eg(c,240,244))c===240&&(o=144),c===244&&(s=143),i=3,r=c-240;else return Pge(e);return r=r<<6*i,null}if(!eg(c,o,s))return r=i=n=0,o=128,s=191,a.prepend(c),Pge(e);if(o=128,s=191,n+=1,r+=c-128<<6*(i-n),n!==i)return null;var l=r;return r=i=n=0,l}}function Eer(t){var e=t.fatal;this.handler=function(r,n){if(n===oz)return cE;if(eg(n,0,127))return n;var i,o;eg(n,128,2047)?(i=1,o=192):eg(n,2048,65535)?(i=2,o=224):eg(n,65536,1114111)&&(i=3,o=240);for(var s=[(n>>6*i)+o];i>0;){var a=n>>6*(i-1);s.push(128|a&63),i-=1}return s}}Dge.TextEncoder=cz;Dge.TextDecoder=az});var Zat=Ue(wn=>{"use strict";var Ter=wn&&wn.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),Rer=wn&&wn.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e}),jf=wn&&wn.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},Ier=wn&&wn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&Ter(e,t,r);return Rer(e,t),e},Kat=wn&&wn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wn,"__esModule",{value:!0});wn.deserializeUnchecked=wn.deserialize=wn.serialize=wn.BinaryReader=wn.BinaryWriter=wn.BorshError=wn.baseDecode=wn.baseEncode=void 0;var uy=Kat(Cge()),Qat=Kat(Jat()),Cer=Ier(Wat()),Ner=typeof TextDecoder!="function"?Cer.TextDecoder:TextDecoder,Oer=new Ner("utf-8",{fatal:!0});function Per(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),Qat.default.encode(Buffer.from(t))}wn.baseEncode=Per;function ker(t){return Buffer.from(Qat.default.decode(t))}wn.baseDecode=ker;var Mge=1024,Ss=class extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};wn.BorshError=Ss;var uz=class{constructor(){this.buf=Buffer.alloc(Mge),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(Mge)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new uy.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new uy.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new uy.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new uy.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(Mge)]),this.length+=e.length}writeString(e){this.maybeResize();let r=Buffer.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,r){this.maybeResize(),this.writeU32(e.length);for(let n of e)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}};wn.BinaryWriter=uz;function qf(t,e,r){let n=r.value;r.value=function(...i){try{return n.apply(this,i)}catch(o){if(o instanceof RangeError){let s=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new Ss("Reached the end of buffer when deserializing")}throw o}}}var Pa=class{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new uy.default(e,"le")}readU128(){let e=this.readBuffer(16);return new uy.default(e,"le")}readU256(){let e=this.readBuffer(32);return new uy.default(e,"le")}readU512(){let e=this.readBuffer(64);return new uy.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Ss(`Expected buffer length ${e} isn't within bounds`);let r=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,r}readString(){let e=this.readU32(),r=this.readBuffer(e);try{return Oer.decode(r)}catch(n){throw new Ss(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let r=this.readU32(),n=Array();for(let i=0;i<r;++i)n.push(e());return n}};jf([qf],Pa.prototype,"readU8",null);jf([qf],Pa.prototype,"readU16",null);jf([qf],Pa.prototype,"readU32",null);jf([qf],Pa.prototype,"readU64",null);jf([qf],Pa.prototype,"readU128",null);jf([qf],Pa.prototype,"readU256",null);jf([qf],Pa.prototype,"readU512",null);jf([qf],Pa.prototype,"readString",null);jf([qf],Pa.prototype,"readFixedArray",null);jf([qf],Pa.prototype,"readArray",null);wn.BinaryReader=Pa;function Xat(t){return t.charAt(0).toUpperCase()+t.slice(1)}function f_(t,e,r,n,i){try{if(typeof n=="string")i[`write${Xat(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new Ss(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new Ss(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let o=0;o<n[1];o++)f_(t,null,r[o],n[0],i)}else i.writeArray(r,o=>{f_(t,e,o,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?i.writeU8(0):(i.writeU8(1),f_(t,e,r,n.type,i));break}case"map":{i.writeU32(r.size),r.forEach((o,s)=>{f_(t,e,s,n.key,i),f_(t,e,o,n.value,i)});break}default:throw new Ss(`FieldType ${n} unrecognized`)}else Yat(t,r,i)}catch(o){throw o instanceof Ss&&o.addToFieldPath(e),o}}function Yat(t,e,r){if(typeof e.borshSerialize=="function"){e.borshSerialize(r);return}let n=t.get(e.constructor);if(!n)throw new Ss(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,o])=>{f_(t,i,e[i],o,r)});else if(n.kind==="enum"){let i=e[n.field];for(let o=0;o<n.values.length;++o){let[s,a]=n.values[o];if(s===i){r.writeU8(o),f_(t,s,e[s],a,r);break}}}else throw new Ss(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function Der(t,e,r=uz){let n=new r;return Yat(t,e,n),n.toArray()}wn.serialize=Der;function m_(t,e,r,n){try{if(typeof r=="string")return n[`read${Xat(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){let i=[];for(let o=0;o<r[1];o++)i.push(m_(t,null,r[0],n));return i}else return n.readArray(()=>m_(t,e,r[0],n))}if(r.kind==="option")return n.readU8()?m_(t,e,r.type,n):void 0;if(r.kind==="map"){let i=new Map,o=n.readU32();for(let s=0;s<o;s++){let a=m_(t,e,r.key,n),c=m_(t,e,r.value,n);i.set(a,c)}return i}return Lge(t,r,n)}catch(i){throw i instanceof Ss&&i.addToFieldPath(e),i}}function Lge(t,e,r){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(r);let n=t.get(e);if(!n)throw new Ss(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){let i={};for(let[o,s]of t.get(e).fields)i[o]=m_(t,o,s,r);return new e(i)}if(n.kind==="enum"){let i=r.readU8();if(i>=n.values.length)throw new Ss(`Enum index: ${i} is out of range`);let[o,s]=n.values[i],a=m_(t,o,s,r);return new e({[o]:a})}throw new Ss(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function Mer(t,e,r,n=Pa){let i=new n(r),o=Lge(t,e,i);if(i.offset<r.length)throw new Ss(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return o}wn.deserialize=Mer;function Ler(t,e,r,n=Pa){let i=new n(r);return Lge(t,e,i)}wn.deserializeUnchecked=Ler});var Fge=Ue(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.s16=me.s8=me.nu64be=me.u48be=me.u40be=me.u32be=me.u24be=me.u16be=me.nu64=me.u48=me.u40=me.u32=me.u24=me.u16=me.u8=me.offset=me.greedy=me.Constant=me.UTF8=me.CString=me.Blob=me.Boolean=me.BitField=me.BitStructure=me.VariantLayout=me.Union=me.UnionLayoutDiscriminator=me.UnionDiscriminator=me.Structure=me.Sequence=me.DoubleBE=me.Double=me.FloatBE=me.Float=me.NearInt64BE=me.NearInt64=me.NearUInt64BE=me.NearUInt64=me.IntBE=me.Int=me.UIntBE=me.UInt=me.OffsetLayout=me.GreedyCount=me.ExternalLayout=me.bindConstructorLayout=me.nameWithProperty=me.Layout=me.uint8ArrayToBuffer=me.checkUint8Array=void 0;me.constant=me.utf8=me.cstr=me.blob=me.unionLayoutDiscriminator=me.union=me.seq=me.bits=me.struct=me.f64be=me.f64=me.f32be=me.f32=me.ns64be=me.s48be=me.s40be=me.s32be=me.s24be=me.s16be=me.ns64=me.s48=me.s40=me.s32=me.s24=void 0;var $ge=ft("buffer");function dE(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}me.checkUint8Array=dE;function Wr(t){return dE(t),$ge.Buffer.from(t.buffer,t.byteOffset,t.length)}me.uint8ArrayToBuffer=Wr;var tn=class{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}};me.Layout=tn;function Uge(t,e){return e.property?t+"["+e.property+"]":t}me.nameWithProperty=Uge;function Ber(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof tn))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=(()=>new t),Object.defineProperty(t.prototype,"encode",{value(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value(r,n){return e.decode(r,n)},writable:!0})}me.bindConstructorLayout=Ber;var ea=class extends tn{isCount(){throw new Error("ExternalLayout is abstract")}};me.ExternalLayout=ea;var dz=class extends ea{constructor(e=1,r){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r=0){dE(e);let n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}};me.GreedyCount=dz;var U9=class extends ea{constructor(e,r=0,n){if(!(e instanceof tn))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof Oc||this.layout instanceof fl}decode(e,r=0){return this.layout.decode(e,r+this.offset)}encode(e,r,n=0){return this.layout.encode(e,r,n+this.offset)}};me.OffsetLayout=U9;var Oc=class extends tn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return Wr(e).readUIntLE(r,this.span)}encode(e,r,n=0){return Wr(r).writeUIntLE(e,n,this.span),this.span}};me.UInt=Oc;var fl=class extends tn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return Wr(e).readUIntBE(r,this.span)}encode(e,r,n=0){return Wr(r).writeUIntBE(e,n,this.span),this.span}};me.UIntBE=fl;var tg=class extends tn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return Wr(e).readIntLE(r,this.span)}encode(e,r,n=0){return Wr(r).writeIntLE(e,n,this.span),this.span}};me.Int=tg;var dy=class extends tn{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return Wr(e).readIntBE(r,this.span)}encode(e,r,n=0){return Wr(r).writeIntBE(e,n,this.span),this.span}};me.IntBE=dy;var Bge=Math.pow(2,32);function Iz(t){let e=Math.floor(t/Bge),r=t-e*Bge;return{hi32:e,lo32:r}}function Cz(t,e){return t*Bge+e}var pz=class extends tn{constructor(e){super(8,e)}decode(e,r=0){let n=Wr(e),i=n.readUInt32LE(r),o=n.readUInt32LE(r+4);return Cz(o,i)}encode(e,r,n=0){let i=Iz(e),o=Wr(r);return o.writeUInt32LE(i.lo32,n),o.writeUInt32LE(i.hi32,n+4),8}};me.NearUInt64=pz;var fz=class extends tn{constructor(e){super(8,e)}decode(e,r=0){let n=Wr(e),i=n.readUInt32BE(r),o=n.readUInt32BE(r+4);return Cz(i,o)}encode(e,r,n=0){let i=Iz(e),o=Wr(r);return o.writeUInt32BE(i.hi32,n),o.writeUInt32BE(i.lo32,n+4),8}};me.NearUInt64BE=fz;var mz=class extends tn{constructor(e){super(8,e)}decode(e,r=0){let n=Wr(e),i=n.readUInt32LE(r),o=n.readInt32LE(r+4);return Cz(o,i)}encode(e,r,n=0){let i=Iz(e),o=Wr(r);return o.writeUInt32LE(i.lo32,n),o.writeInt32LE(i.hi32,n+4),8}};me.NearInt64=mz;var hz=class extends tn{constructor(e){super(8,e)}decode(e,r=0){let n=Wr(e),i=n.readInt32BE(r),o=n.readUInt32BE(r+4);return Cz(i,o)}encode(e,r,n=0){let i=Iz(e),o=Wr(r);return o.writeInt32BE(i.hi32,n),o.writeUInt32BE(i.lo32,n+4),8}};me.NearInt64BE=hz;var gz=class extends tn{constructor(e){super(4,e)}decode(e,r=0){return Wr(e).readFloatLE(r)}encode(e,r,n=0){return Wr(r).writeFloatLE(e,n),4}};me.Float=gz;var yz=class extends tn{constructor(e){super(4,e)}decode(e,r=0){return Wr(e).readFloatBE(r)}encode(e,r,n=0){return Wr(r).writeFloatBE(e,n),4}};me.FloatBE=yz;var bz=class extends tn{constructor(e){super(8,e)}decode(e,r=0){return Wr(e).readDoubleLE(r)}encode(e,r,n=0){return Wr(r).writeDoubleLE(e,n),8}};me.Double=bz;var vz=class extends tn{constructor(e){super(8,e)}decode(e,r=0){return Wr(e).readDoubleBE(r)}encode(e,r,n=0){return Wr(r).writeDoubleBE(e,n),8}};me.DoubleBE=vz;var _z=class extends tn{constructor(e,r,n){if(!(e instanceof tn))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof ea&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof ea)&&0<e.span&&(i=r*e.span),super(i,n),this.elementLayout=e,this.count=r}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof ea&&(i=i.decode(e,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let o=0;for(;o<i;)n+=this.elementLayout.getSpan(e,r+n),++o}return n}decode(e,r=0){let n=[],i=0,o=this.count;for(o instanceof ea&&(o=o.decode(e,r));i<o;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),i+=1;return n}encode(e,r,n=0){let i=this.elementLayout,o=e.reduce((s,a)=>s+i.encode(a,r,n+s),0);return this.count instanceof ea&&this.count.encode(e.length,r,n),o}};me.Sequence=_z;var xz=class extends tn{constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof tn,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(let o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,o)=>{let s=o.getSpan(e,r);return r+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r=0){dE(e);let n=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,r)),r+=i.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n=0){let i=n,o=0,s=0;for(let a of this.fields){let c=a.span;if(s=0<c?c:0,a.property!==void 0){let l=e[a.property];l!==void 0&&(s=a.encode(l,r,n),0>c&&(c=a.getSpan(r,n)))}o=n,n+=c}return o+s-i}fromArray(e){let r=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(let n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}};me.Structure=xz;var F9=class{constructor(e){this.property=e}decode(e,r){throw new Error("UnionDiscriminator is abstract")}encode(e,r,n){throw new Error("UnionDiscriminator is abstract")}};me.UnionDiscriminator=F9;var uE=class extends F9{constructor(e,r){if(!(e instanceof ea&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}};me.UnionLayoutDiscriminator=uE;var z9=class extends tn{constructor(e,r,n){let i;if(e instanceof Oc||e instanceof fl)i=new uE(new U9(e));else if(e instanceof ea&&e.isCount())i=new uE(e);else if(e instanceof F9)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof tn))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let o=-1;r&&(o=r.span,0<=o&&(e instanceof Oc||e instanceof fl)&&(o+=i.layout.span)),super(o,n),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof Oc||e instanceof fl,this.defaultLayout=r,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,r=0){if(0<=this.span)return this.span;let n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(e,r.property)))return r}else for(let r in this.registry){let n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,r=0){let n,i=this.discriminator,o=i.decode(e,r),s=this.registry[o];if(s===void 0){let a=this.defaultLayout,c=0;this.usesPrefixDiscriminator&&(c=i.layout.span),n=this.makeDestinationObject(),n[i.property]=o,n[a.property]=a.decode(e,r+c)}else n=s.decode(e,r);return n}encode(e,r,n=0){let i=this.getSourceVariant(e);if(i===void 0){let o=this.discriminator,s=this.defaultLayout,a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(e[o.property],r,n),a+s.encode(e[s.property],r,n+a)}return i.encode(e,r,n)}addVariant(e,r,n){let i=new Sz(this,e,r,n);return this.registry[e]=i,i}getVariant(e,r=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,r):n=e,this.registry[n]}};me.Union=z9;var Sz=class extends tn{constructor(e,r,n,i){if(!(e instanceof z9))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof tn))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=n?n.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,r+n)),n+i}decode(e,r=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let o=i;if(this.layout&&(this.layout.encode(e[this.property],r,n+i),o+=this.layout.getSpan(r,n+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};me.VariantLayout=Sz;function lE(t){return 0>t&&(t+=4294967296),t}var V9=class extends tn{constructor(e,r,n){if(!(e instanceof Oc||e instanceof fl))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(o){return i=lE(o),this},this._packedGetValue=function(){return i}}decode(e,r=0){let n=this.makeDestinationObject(),i=this.word.decode(e,r);this._packedSetValue(i);for(let o of this.fields)o.property!==void 0&&(n[o.property]=o.decode(e));return n}encode(e,r,n=0){let i=this.word.decode(r,n);this._packedSetValue(i);for(let o of this.fields)if(o.property!==void 0){let s=e[o.property];s!==void 0&&o.encode(s)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){let n=new H9(this,e,r);return this.fields.push(n),n}addBoolean(e){let r=new wz(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}};me.BitStructure=V9;var H9=class{constructor(e,r,n){if(!(e instanceof V9))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");let i=8*e.span,o=e.fields.reduce((s,a)=>s+a.bits,0);if(r+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-r),this.wordMask=lE(this.valueMask<<this.start),this.property=n}decode(e,r){let n=this.container._packedGetValue();return lE(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==lE(e&this.valueMask))throw new TypeError(Uge("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let r=this.container._packedGetValue(),n=lE(e<<this.start);this.container._packedSetValue(lE(r&~this.wordMask)|n)}};me.BitField=H9;var wz=class extends H9{constructor(e,r){super(e,1,r)}decode(e,r){return!!super.decode(e,r)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};me.Boolean=wz;var Az=class extends tn{constructor(e,r){if(!(e instanceof ea&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof ea||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r=0){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),Wr(e).slice(r,r+n)}encode(e,r,n){let i=this.length;if(this.length instanceof ea&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(Uge("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>r.length)throw new RangeError("encoding overruns Uint8Array");let o=Wr(e);return Wr(r).write(o.toString("hex"),n,i,"hex"),this.length instanceof ea&&this.length.encode(i,r,n),i}};me.Blob=Az;var Ez=class extends tn{constructor(e){super(-1,e)}getSpan(e,r=0){dE(e);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r=0){let n=this.getSpan(e,r);return Wr(e).slice(r,r+n-1).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let i=$ge.Buffer.from(e,"utf8"),o=i.length;if(n+o>r.length)throw new RangeError("encoding overruns Buffer");let s=Wr(r);return i.copy(s,n),s[n+o]=0,o+1}};me.CString=Ez;var Tz=class extends tn{constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r=0){return dE(e),e.length-r}decode(e,r=0){let n=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return Wr(e).slice(r,r+n).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let i=$ge.Buffer.from(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(n+o>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(Wr(r),n),o}};me.UTF8=Tz;var Rz=class extends tn{constructor(e,r){super(0,r),this.value=e}decode(e,r){return this.value}encode(e,r,n){return 0}};me.Constant=Rz;me.greedy=((t,e)=>new dz(t,e));me.offset=((t,e,r)=>new U9(t,e,r));me.u8=(t=>new Oc(1,t));me.u16=(t=>new Oc(2,t));me.u24=(t=>new Oc(3,t));me.u32=(t=>new Oc(4,t));me.u40=(t=>new Oc(5,t));me.u48=(t=>new Oc(6,t));me.nu64=(t=>new pz(t));me.u16be=(t=>new fl(2,t));me.u24be=(t=>new fl(3,t));me.u32be=(t=>new fl(4,t));me.u40be=(t=>new fl(5,t));me.u48be=(t=>new fl(6,t));me.nu64be=(t=>new fz(t));me.s8=(t=>new tg(1,t));me.s16=(t=>new tg(2,t));me.s24=(t=>new tg(3,t));me.s32=(t=>new tg(4,t));me.s40=(t=>new tg(5,t));me.s48=(t=>new tg(6,t));me.ns64=(t=>new mz(t));me.s16be=(t=>new dy(2,t));me.s24be=(t=>new dy(3,t));me.s32be=(t=>new dy(4,t));me.s40be=(t=>new dy(5,t));me.s48be=(t=>new dy(6,t));me.ns64be=(t=>new hz(t));me.f32=(t=>new gz(t));me.f32be=(t=>new yz(t));me.f64=(t=>new bz(t));me.f64be=(t=>new vz(t));me.struct=((t,e,r)=>new xz(t,e,r));me.bits=((t,e,r)=>new V9(t,e,r));me.seq=((t,e,r)=>new _z(t,e,r));me.union=((t,e,r)=>new z9(t,e,r));me.unionLayoutDiscriminator=((t,e)=>new uE(t,e));me.blob=((t,e)=>new Az(t,e));me.cstr=(t=>new Ez(t));me.utf8=((t,e)=>new Tz(t,e));me.constant=((t,e)=>new Rz(t,e))});import Zir from"crypto";function q9(){return kz>Dz.length-16&&(Zir.randomFillSync(Dz),kz=0),Dz.slice(kz,kz+=16)}var Dz,kz,Xge=y(()=>{"use strict";Dz=new Uint8Array(256),kz=Dz.length});var bct,vct=y(()=>{"use strict";bct=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function eor(t){return typeof t=="string"&&bct.test(t)}var fy,J9=y(()=>{"use strict";vct();fy=eor});function tor(t,e=0){let r=(ws[t[e+0]]+ws[t[e+1]]+ws[t[e+2]]+ws[t[e+3]]+"-"+ws[t[e+4]]+ws[t[e+5]]+"-"+ws[t[e+6]]+ws[t[e+7]]+"-"+ws[t[e+8]]+ws[t[e+9]]+"-"+ws[t[e+10]]+ws[t[e+11]]+ws[t[e+12]]+ws[t[e+13]]+ws[t[e+14]]+ws[t[e+15]]).toLowerCase();if(!fy(r))throw TypeError("Stringified UUID is invalid");return r}var ws,my,W9=y(()=>{"use strict";J9();ws=[];for(let t=0;t<256;++t)ws.push((t+256).toString(16).substr(1));my=tor});function ror(t,e,r){let n=e&&r||0,i=e||new Array(16);t=t||{};let o=t.node||_ct,s=t.clockseq!==void 0?t.clockseq:Yge;if(o==null||s==null){let p=t.random||(t.rng||q9)();o==null&&(o=_ct=[p[0]|1,p[1],p[2],p[3],p[4],p[5]]),s==null&&(s=Yge=(p[6]<<8|p[7])&16383)}let a=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:e0e+1,l=a-Zge+(c-e0e)/1e4;if(l<0&&t.clockseq===void 0&&(s=s+1&16383),(l<0||a>Zge)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Zge=a,e0e=c,Yge=s,a+=122192928e5;let u=((a&268435455)*1e4+c)%4294967296;i[n++]=u>>>24&255,i[n++]=u>>>16&255,i[n++]=u>>>8&255,i[n++]=u&255;let d=a/4294967296*1e4&268435455;i[n++]=d>>>8&255,i[n++]=d&255,i[n++]=d>>>24&15|16,i[n++]=d>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(let p=0;p<6;++p)i[n+p]=o[p];return e||my(i)}var _ct,Yge,Zge,e0e,xct,Sct=y(()=>{"use strict";Xge();W9();Zge=0,e0e=0;xct=ror});function nor(t){if(!fy(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var Mz,t0e=y(()=>{"use strict";J9();Mz=nor});function ior(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}function Lz(t,e,r){function n(i,o,s,a){if(typeof i=="string"&&(i=ior(i)),typeof o=="string"&&(o=Mz(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+i.length);if(c.set(o),c.set(i,o.length),c=r(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,s){a=a||0;for(let l=0;l<16;++l)s[a+l]=c[l];return s}return my(c)}try{n.name=t}catch{}return n.DNS=oor,n.URL=sor,n}var oor,sor,r0e=y(()=>{"use strict";W9();t0e();oor="6ba7b810-9dad-11d1-80b4-00c04fd430c8",sor="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});import aor from"crypto";function cor(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),aor.createHash("md5").update(t).digest()}var wct,Act=y(()=>{"use strict";wct=cor});var lor,Ect,Tct=y(()=>{"use strict";r0e();Act();lor=Lz("v3",48,wct),Ect=lor});function uor(t,e,r){t=t||{};let n=t.random||(t.rng||q9)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return my(n)}var Rct,Ict=y(()=>{"use strict";Xge();W9();Rct=uor});import dor from"crypto";function por(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),dor.createHash("sha1").update(t).digest()}var Cct,Nct=y(()=>{"use strict";Cct=por});var mor,Oct,Pct=y(()=>{"use strict";r0e();Nct();mor=Lz("v5",80,Cct),Oct=mor});var kct,Dct=y(()=>{"use strict";kct="00000000-0000-0000-0000-000000000000"});function hor(t){if(!fy(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var Mct,Lct=y(()=>{"use strict";J9();Mct=hor});var n0e={};wr(n0e,{NIL:()=>kct,parse:()=>Mz,stringify:()=>my,v1:()=>xct,v3:()=>Ect,v4:()=>Rct,v5:()=>Oct,validate:()=>fy,version:()=>Mct});var i0e=y(()=>{"use strict";Sct();Tct();Ict();Pct();Dct();Lct();J9();W9();t0e()});var $ct=Ue(($Jn,Bct)=>{"use strict";var gor=(i0e(),zj(n0e)).v4,yor=function(t,e,r,n){if(typeof t!="string")throw new TypeError(t+" must be a string");n=n||{};let i=typeof n.version=="number"?n.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");let o={method:t};if(i===2&&(o.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");o.params=e}if(typeof r>"u"){let s=typeof n.generator=="function"?n.generator:function(){return gor()};o.id=s(o,n)}else i===2&&r===null?n.notificationIdNull&&(o.id=null):o.id=r;return o};Bct.exports=yor});var Fct=Ue((UJn,Uct)=>{"use strict";var bor=(i0e(),zj(n0e)).v4,vor=$ct(),K9=function(t,e){if(!(this instanceof K9))return new K9(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return bor()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};Uct.exports=K9;K9.prototype.request=function(t,e,r,n){let i=this,o=null,s=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&s)throw new TypeError("JSON-RPC 1.0 does not support batching");if(s||!s&&t&&typeof t=="object"&&typeof e=="function")n=e,o=t;else{typeof r=="function"&&(n=r,r=void 0);let l=typeof n=="function";try{o=vor(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(u){if(l){n(u);return}throw u}if(!l)return o}let c;try{c=JSON.stringify(o,this.options.replacer)}catch(l){n(l);return}return this.callServer(c,function(l,u){i._parseResponse(l,u,n)}),o};K9.prototype._parseResponse=function(t,e,r){if(t){r(t);return}if(!e){r();return}let n;try{n=JSON.parse(e,this.options.reviver)}catch(i){r(i);return}if(r.length===3)if(Array.isArray(n)){let i=function(s){return typeof s.error<"u"},o=function(s){return!i(s)};r(null,n.filter(i),n.filter(o));return}else{r(null,n.error,n.result);return}r(null,n)}});var Vct=Ue((FJn,o0e)=>{"use strict";var _or=Object.prototype.hasOwnProperty,ka="~";function Q9(){}Object.create&&(Q9.prototype=Object.create(null),new Q9().__proto__||(ka=!1));function xor(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function zct(t,e,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var o=new xor(r,n||t,i),s=ka?ka+e:e;return t._events[s]?t._events[s].fn?t._events[s]=[t._events[s],o]:t._events[s].push(o):(t._events[s]=o,t._eventsCount++),t}function Bz(t,e){--t._eventsCount===0?t._events=new Q9:delete t._events[e]}function ra(){this._events=new Q9,this._eventsCount=0}ra.prototype.eventNames=function(){var e=[],r,n;if(this._eventsCount===0)return e;for(n in r=this._events)_or.call(r,n)&&e.push(ka?n.slice(1):n);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(r)):e};ra.prototype.listeners=function(e){var r=ka?ka+e:e,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s};ra.prototype.listenerCount=function(e){var r=ka?ka+e:e,n=this._events[r];return n?n.fn?1:n.length:0};ra.prototype.emit=function(e,r,n,i,o,s){var a=ka?ka+e:e;if(!this._events[a])return!1;var c=this._events[a],l=arguments.length,u,d;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),l){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,r),!0;case 3:return c.fn.call(c.context,r,n),!0;case 4:return c.fn.call(c.context,r,n,i),!0;case 5:return c.fn.call(c.context,r,n,i,o),!0;case 6:return c.fn.call(c.context,r,n,i,o,s),!0}for(d=1,u=new Array(l-1);d<l;d++)u[d-1]=arguments[d];c.fn.apply(c.context,u)}else{var p=c.length,f;for(d=0;d<p;d++)switch(c[d].once&&this.removeListener(e,c[d].fn,void 0,!0),l){case 1:c[d].fn.call(c[d].context);break;case 2:c[d].fn.call(c[d].context,r);break;case 3:c[d].fn.call(c[d].context,r,n);break;case 4:c[d].fn.call(c[d].context,r,n,i);break;default:if(!u)for(f=1,u=new Array(l-1);f<l;f++)u[f-1]=arguments[f];c[d].fn.apply(c[d].context,u)}}return!0};ra.prototype.on=function(e,r,n){return zct(this,e,r,n,!1)};ra.prototype.once=function(e,r,n){return zct(this,e,r,n,!0)};ra.prototype.removeListener=function(e,r,n,i){var o=ka?ka+e:e;if(!this._events[o])return this;if(!r)return Bz(this,o),this;var s=this._events[o];if(s.fn)s.fn===r&&(!i||s.once)&&(!n||s.context===n)&&Bz(this,o);else{for(var a=0,c=[],l=s.length;a<l;a++)(s[a].fn!==r||i&&!s[a].once||n&&s[a].context!==n)&&c.push(s[a]);c.length?this._events[o]=c.length===1?c[0]:c:Bz(this,o)}return this};ra.prototype.removeAllListeners=function(e){var r;return e?(r=ka?ka+e:e,this._events[r]&&Bz(this,r)):(this._events=new Q9,this._eventsCount=0),this};ra.prototype.off=ra.prototype.removeListener;ra.prototype.addListener=ra.prototype.on;ra.prefixed=ka;ra.EventEmitter=ra;typeof o0e<"u"&&(o0e.exports=ra)});function Bsr(){return Mlt++,`evt_${Date.now()}_${Mlt.toString(36)}_${Math.random().toString(36).slice(2,6)}`}function Llt(t){let e={eventId:Bsr(),timestamp:new Date().toISOString(),...t};return Qz.push(e),Qz.length>5e3&&Qz.splice(0,Qz.length-5e3),e.severity==="critical"?console.error(`[AUDIT:CRITICAL] ${e.action} \u2014 ${e.description}`,e.metadata?JSON.stringify(e.metadata):""):e.severity==="error"&&console.error(`[AUDIT:ERROR] ${e.action} \u2014 ${e.description}`),e}function nN(t,e,r,n,i){return Llt({category:"TRADE",severity:"info",action:t,description:e,agentId:r,roundId:n,metadata:i,source:"trading-service"})}function iN(t,e,r,n,i){return Llt({category:"TRADE",severity:"error",action:"trade_failed",description:t,agentId:e,roundId:n,metadata:{...i,error:r instanceof Error?r.message:r,stack:r instanceof Error?r.stack:void 0},source:"trading-service"})}var QKn,Qz,Mlt,Xz=y(()=>{"use strict";QKn=process.env.AGENT_STATE_TABLE||"moltapp-agent-state",Qz=[],Mlt=0});function Fsr(){return Blt++,`rcv_${Date.now()}_${Blt.toString(36)}_${Math.random().toString(36).slice(2,6)}`}function $lt(t){let e=Fsr(),r=new Date().toISOString(),n=zsr(t.errorCode),i=n?oN.maxAttempts:0,o={recoveryId:e,agentId:t.agentId,side:t.side,symbol:t.symbol,quantity:t.quantity,error:t.error,errorCode:t.errorCode,attempts:1,maxAttempts:i,firstAttemptAt:r,lastAttemptAt:r,nextRetryAt:n?Vsr(1):null,status:n?"pending":"dead_letter",txSignature:t.txSignature,roundId:t.roundId,metadata:t.metadata};if(Yz.set(e,o),Yz.size>Usr){let s=Yz.keys().next().value;s&&Yz.delete(s)}return Hsr(e,"registered",n?"queued_for_retry":"dead_lettered",`${t.side} ${t.quantity} ${t.symbol}: ${t.error}`),iN(`Trade failed: ${t.side} ${t.quantity} ${t.symbol}`,t.agentId,t.error,t.roundId,{recoveryId:e,errorCode:t.errorCode,retryable:n,maxAttempts:i}),o}function zsr(t){let e=new Set(["jupiter_order_failed","jupiter_execute_failed","rpc_timeout","rpc_error","network_error","rate_limited","transaction_timeout","slot_skipped"]),r=new Set(["insufficient_usdc_balance","insufficient_sol_for_fees","insufficient_stock_balance","stock_not_found","wallet_not_found","invalid_amount","position_limit_exceeded","daily_loss_limit"]);return e.has(t)?!0:!r.has(t)}function Vsr(t){let e=Math.min(oN.initialDelayMs*Math.pow(oN.backoffMultiplier,t-1),oN.maxDelayMs),r=oN.jitter?Math.random()*e*.3:0,n=e+r;return new Date(Date.now()+n).toISOString()}function Hsr(t,e,r,n){Zz.push({recoveryId:t,action:e,timestamp:new Date().toISOString(),result:r,details:n}),Zz.length>1e3&&Zz.splice(0,Zz.length-1e3)}var $sr,Usr,eQn,Yz,Zz,oN,Blt,Ult=y(()=>{"use strict";Xz();$sr={maxAttempts:3,initialDelayMs:2e3,backoffMultiplier:2,maxDelayMs:3e4,jitter:!0},Usr=500,eQn=300*1e3,Yz=new Map,Zz=[],oN={...$sr},Blt=0});var jmt=Ue((bai,Gmt)=>{"use strict";var{Duplex:bpr}=ft("stream");function Vmt(t){t.emit("close")}function vpr(){!this.destroyed&&this._writableState.finished&&this.destroy()}function Hmt(t){this.removeListener("error",Hmt),this.destroy(),this.listenerCount("error")===0&&this.emit("error",t)}function _pr(t,e){let r=!0,n=new bpr({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return t.on("message",function(o,s){let a=!s&&n._readableState.objectMode?o.toString():o;n.push(a)||t.pause()}),t.once("error",function(o){n.destroyed||(r=!1,n.destroy(o))}),t.once("close",function(){n.destroyed||n.push(null)}),n._destroy=function(i,o){if(t.readyState===t.CLOSED){o(i),process.nextTick(Vmt,n);return}let s=!1;t.once("error",function(c){s=!0,o(c)}),t.once("close",function(){s||o(i),process.nextTick(Vmt,n)}),r&&t.terminate()},n._final=function(i){if(t.readyState===t.CONNECTING){t.once("open",function(){n._final(i)});return}t._socket!==null&&(t._socket._writableState.finished?(i(),n._readableState.endEmitted&&n.destroy()):(t._socket.once("finish",function(){i()}),t.close()))},n._read=function(){t.isPaused&&t.resume()},n._write=function(i,o,s){if(t.readyState===t.CONNECTING){t.once("open",function(){n._write(i,o,s)});return}t.send(i,s)},n.on("end",vpr),n.on("error",Hmt),n}Gmt.exports=_pr});var Uy=Ue((vai,qmt)=>{"use strict";qmt.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var JN=Ue((_ai,MH)=>{"use strict";var{EMPTY_BUFFER:xpr}=Uy(),Yye=Buffer[Symbol.species];function Spr(t,e){if(t.length===0)return xpr;if(t.length===1)return t[0];let r=Buffer.allocUnsafe(e),n=0;for(let i=0;i<t.length;i++){let o=t[i];r.set(o,n),n+=o.length}return n<e?new Yye(r.buffer,r.byteOffset,n):r}function Jmt(t,e,r,n,i){for(let o=0;o<i;o++)r[n+o]=t[o]^e[o&3]}function Wmt(t,e){for(let r=0;r<t.length;r++)t[r]^=e[r&3]}function wpr(t){return t.length===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.length)}function Zye(t){if(Zye.readOnly=!0,Buffer.isBuffer(t))return t;let e;return t instanceof ArrayBuffer?e=new Yye(t):ArrayBuffer.isView(t)?e=new Yye(t.buffer,t.byteOffset,t.byteLength):(e=Buffer.from(t),Zye.readOnly=!1),e}MH.exports={concat:Spr,mask:Jmt,toArrayBuffer:wpr,toBuffer:Zye,unmask:Wmt};if(!process.env.WS_NO_BUFFER_UTIL)try{let t=Gde();MH.exports.mask=function(e,r,n,i,o){o<48?Jmt(e,r,n,i,o):t.mask(e,r,n,i,o)},MH.exports.unmask=function(e,r){e.length<32?Wmt(e,r):t.unmask(e,r)}}catch{}});var Xmt=Ue((xai,Qmt)=>{"use strict";var Kmt=Symbol("kDone"),ebe=Symbol("kRun"),tbe=class{constructor(e){this[Kmt]=()=>{this.pending--,this[ebe]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[ebe]()}[ebe](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[Kmt])}}};Qmt.exports=tbe});var QN=Ue((Sai,tht)=>{"use strict";var WN=ft("zlib"),Ymt=JN(),Apr=Xmt(),{kStatusCode:Zmt}=Uy(),Epr=Buffer[Symbol.species],Tpr=Buffer.from([0,0,255,255]),$H=Symbol("permessage-deflate"),Ag=Symbol("total-length"),KN=Symbol("callback"),Fy=Symbol("buffers"),BH=Symbol("error"),LH,rbe=class{constructor(e,r,n){if(this._maxPayload=n|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!r,this._deflate=null,this._inflate=null,this.params=null,!LH){let i=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;LH=new Apr(i)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[KN];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let r=this._options,n=e.find(i=>!(r.serverNoContextTakeover===!1&&i.server_no_context_takeover||i.server_max_window_bits&&(r.serverMaxWindowBits===!1||typeof r.serverMaxWindowBits=="number"&&r.serverMaxWindowBits>i.server_max_window_bits)||typeof r.clientMaxWindowBits=="number"&&!i.client_max_window_bits));if(!n)throw new Error("None of the extension offers can be accepted");return r.serverNoContextTakeover&&(n.server_no_context_takeover=!0),r.clientNoContextTakeover&&(n.client_no_context_takeover=!0),typeof r.serverMaxWindowBits=="number"&&(n.server_max_window_bits=r.serverMaxWindowBits),typeof r.clientMaxWindowBits=="number"?n.client_max_window_bits=r.clientMaxWindowBits:(n.client_max_window_bits===!0||r.clientMaxWindowBits===!1)&&delete n.client_max_window_bits,n}acceptAsClient(e){let r=e[0];if(this._options.clientNoContextTakeover===!1&&r.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!r.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(r.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&r.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return r}normalizeParams(e){return e.forEach(r=>{Object.keys(r).forEach(n=>{let i=r[n];if(i.length>1)throw new Error(`Parameter "${n}" must have only a single value`);if(i=i[0],n==="client_max_window_bits"){if(i!==!0){let o=+i;if(!Number.isInteger(o)||o<8||o>15)throw new TypeError(`Invalid value for parameter "${n}": ${i}`);i=o}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${n}": ${i}`)}else if(n==="server_max_window_bits"){let o=+i;if(!Number.isInteger(o)||o<8||o>15)throw new TypeError(`Invalid value for parameter "${n}": ${i}`);i=o}else if(n==="client_no_context_takeover"||n==="server_no_context_takeover"){if(i!==!0)throw new TypeError(`Invalid value for parameter "${n}": ${i}`)}else throw new Error(`Unknown parameter "${n}"`);r[n]=i})}),e}decompress(e,r,n){LH.add(i=>{this._decompress(e,r,(o,s)=>{i(),n(o,s)})})}compress(e,r,n){LH.add(i=>{this._compress(e,r,(o,s)=>{i(),n(o,s)})})}_decompress(e,r,n){let i=this._isServer?"client":"server";if(!this._inflate){let o=`${i}_max_window_bits`,s=typeof this.params[o]!="number"?WN.Z_DEFAULT_WINDOWBITS:this.params[o];this._inflate=WN.createInflateRaw({...this._options.zlibInflateOptions,windowBits:s}),this._inflate[$H]=this,this._inflate[Ag]=0,this._inflate[Fy]=[],this._inflate.on("error",Ipr),this._inflate.on("data",eht)}this._inflate[KN]=n,this._inflate.write(e),r&&this._inflate.write(Tpr),this._inflate.flush(()=>{let o=this._inflate[BH];if(o){this._inflate.close(),this._inflate=null,n(o);return}let s=Ymt.concat(this._inflate[Fy],this._inflate[Ag]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[Ag]=0,this._inflate[Fy]=[],r&&this.params[`${i}_no_context_takeover`]&&this._inflate.reset()),n(null,s)})}_compress(e,r,n){let i=this._isServer?"server":"client";if(!this._deflate){let o=`${i}_max_window_bits`,s=typeof this.params[o]!="number"?WN.Z_DEFAULT_WINDOWBITS:this.params[o];this._deflate=WN.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:s}),this._deflate[Ag]=0,this._deflate[Fy]=[],this._deflate.on("data",Rpr)}this._deflate[KN]=n,this._deflate.write(e),this._deflate.flush(WN.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let o=Ymt.concat(this._deflate[Fy],this._deflate[Ag]);r&&(o=new Epr(o.buffer,o.byteOffset,o.length-4)),this._deflate[KN]=null,this._deflate[Ag]=0,this._deflate[Fy]=[],r&&this.params[`${i}_no_context_takeover`]&&this._deflate.reset(),n(null,o)})}};tht.exports=rbe;function Rpr(t){this[Fy].push(t),this[Ag]+=t.length}function eht(t){if(this[Ag]+=t.length,this[$H]._maxPayload<1||this[Ag]<=this[$H]._maxPayload){this[Fy].push(t);return}this[BH]=new RangeError("Max payload size exceeded"),this[BH].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[BH][Zmt]=1009,this.removeListener("data",eht),this.reset()}function Ipr(t){this[$H]._inflate=null,t[Zmt]=1007,this[KN](t)}});var XN=Ue((wai,UH)=>{"use strict";var{isUtf8:rht}=ft("buffer"),Cpr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function Npr(t){return t>=1e3&&t<=1014&&t!==1004&&t!==1005&&t!==1006||t>=3e3&&t<=4999}function nbe(t){let e=t.length,r=0;for(;r<e;)if((t[r]&128)===0)r++;else if((t[r]&224)===192){if(r+1===e||(t[r+1]&192)!==128||(t[r]&254)===192)return!1;r+=2}else if((t[r]&240)===224){if(r+2>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||t[r]===224&&(t[r+1]&224)===128||t[r]===237&&(t[r+1]&224)===160)return!1;r+=3}else if((t[r]&248)===240){if(r+3>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||(t[r+3]&192)!==128||t[r]===240&&(t[r+1]&240)===128||t[r]===244&&t[r+1]>143||t[r]>244)return!1;r+=4}else return!1;return!0}UH.exports={isValidStatusCode:Npr,isValidUTF8:nbe,tokenChars:Cpr};if(rht)UH.exports.isValidUTF8=function(t){return t.length<24?nbe(t):rht(t)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let t=Xde();UH.exports.isValidUTF8=function(e){return e.length<32?nbe(e):t(e)}}catch{}});var cbe=Ue((Aai,lht)=>{"use strict";var{Writable:Opr}=ft("stream"),nht=QN(),{BINARY_TYPES:Ppr,EMPTY_BUFFER:iht,kStatusCode:kpr,kWebSocket:Dpr}=Uy(),{concat:ibe,toArrayBuffer:Mpr,unmask:Lpr}=JN(),{isValidStatusCode:Bpr,isValidUTF8:oht}=XN(),FH=Buffer[Symbol.species],dd=0,sht=1,aht=2,cht=3,obe=4,sbe=5,zH=6,abe=class extends Opr{constructor(e={}){super(),this._allowSynchronousEvents=e.allowSynchronousEvents!==void 0?e.allowSynchronousEvents:!0,this._binaryType=e.binaryType||Ppr[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[Dpr]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=dd}_write(e,r,n){if(this._opcode===8&&this._state==dd)return n();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(n)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let n=this._buffers[0];return this._buffers[0]=new FH(n.buffer,n.byteOffset+e,n.length-e),new FH(n.buffer,n.byteOffset,e)}let r=Buffer.allocUnsafe(e);do{let n=this._buffers[0],i=r.length-e;e>=n.length?r.set(this._buffers.shift(),i):(r.set(new Uint8Array(n.buffer,n.byteOffset,e),i),this._buffers[0]=new FH(n.buffer,n.byteOffset+e,n.length-e)),e-=n.length}while(e>0);return r}startLoop(e){this._loop=!0;do switch(this._state){case dd:this.getInfo(e);break;case sht:this.getPayloadLength16(e);break;case aht:this.getPayloadLength64(e);break;case cht:this.getMask();break;case obe:this.getData(e);break;case sbe:case zH:this._loop=!1;return}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2){this._loop=!1;return}let r=this.consume(2);if((r[0]&48)!==0){let i=this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");e(i);return}let n=(r[0]&64)===64;if(n&&!this._extensions[nht.extensionName]){let i=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(i);return}if(this._fin=(r[0]&128)===128,this._opcode=r[0]&15,this._payloadLength=r[1]&127,this._opcode===0){if(n){let i=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(i);return}if(!this._fragmented){let i=this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");e(i);return}this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented){let i=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(i);return}this._compressed=n}else if(this._opcode>7&&this._opcode<11){if(!this._fin){let i=this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");e(i);return}if(n){let i=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(i);return}if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1){let i=this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");e(i);return}}else{let i=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(i);return}if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(r[1]&128)===128,this._isServer){if(!this._masked){let i=this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK");e(i);return}}else if(this._masked){let i=this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");e(i);return}this._payloadLength===126?this._state=sht:this._payloadLength===127?this._state=aht:this.haveLength(e)}getPayloadLength16(e){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e)}getPayloadLength64(e){if(this._bufferedBytes<8){this._loop=!1;return}let r=this.consume(8),n=r.readUInt32BE(0);if(n>Math.pow(2,21)-1){let i=this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH");e(i);return}this._payloadLength=n*Math.pow(2,32)+r.readUInt32BE(4),this.haveLength(e)}haveLength(e){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){let r=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");e(r);return}this._masked?this._state=cht:this._state=obe}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=obe}getData(e){let r=iht;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}r=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!==0&&Lpr(r,this._mask)}if(this._opcode>7){this.controlMessage(r,e);return}if(this._compressed){this._state=sbe,this.decompress(r,e);return}r.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(r)),this.dataMessage(e)}decompress(e,r){this._extensions[nht.extensionName].decompress(e,this._fin,(i,o)=>{if(i)return r(i);if(o.length){if(this._messageLength+=o.length,this._messageLength>this._maxPayload&&this._maxPayload>0){let s=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");r(s);return}this._fragments.push(o)}this.dataMessage(r),this._state===dd&&this.startLoop(r)})}dataMessage(e){if(!this._fin){this._state=dd;return}let r=this._messageLength,n=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let i;this._binaryType==="nodebuffer"?i=ibe(n,r):this._binaryType==="arraybuffer"?i=Mpr(ibe(n,r)):i=n,this._allowSynchronousEvents?(this.emit("message",i,!0),this._state=dd):(this._state=zH,setImmediate(()=>{this.emit("message",i,!0),this._state=dd,this.startLoop(e)}))}else{let i=ibe(n,r);if(!this._skipUTF8Validation&&!oht(i)){let o=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");e(o);return}this._state===sbe||this._allowSynchronousEvents?(this.emit("message",i,!1),this._state=dd):(this._state=zH,setImmediate(()=>{this.emit("message",i,!1),this._state=dd,this.startLoop(e)}))}}controlMessage(e,r){if(this._opcode===8){if(e.length===0)this._loop=!1,this.emit("conclude",1005,iht),this.end();else{let n=e.readUInt16BE(0);if(!Bpr(n)){let o=this.createError(RangeError,`invalid status code ${n}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");r(o);return}let i=new FH(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!oht(i)){let o=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");r(o);return}this._loop=!1,this.emit("conclude",n,i),this.end()}this._state=dd;return}this._allowSynchronousEvents?(this.emit(this._opcode===9?"ping":"pong",e),this._state=dd):(this._state=zH,setImmediate(()=>{this.emit(this._opcode===9?"ping":"pong",e),this._state=dd,this.startLoop(r)}))}createError(e,r,n,i,o){this._loop=!1,this._errored=!0;let s=new e(n?`Invalid WebSocket frame: ${r}`:r);return Error.captureStackTrace(s,this.createError),s.code=o,s[kpr]=i,s}};lht.exports=abe});var ube=Ue((Tai,pht)=>{"use strict";var{Duplex:Eai}=ft("stream"),{randomFillSync:$pr}=ft("crypto"),uht=QN(),{EMPTY_BUFFER:Upr}=Uy(),{isValidStatusCode:Fpr}=XN(),{mask:dht,toBuffer:i6}=JN(),Tp=Symbol("kByteLength"),zpr=Buffer.alloc(4),VH=8*1024,ox,o6=VH,lbe=class t{constructor(e,r,n){this._extensions=r||{},n&&(this._generateMask=n,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,r){let n,i=!1,o=2,s=!1;r.mask&&(n=r.maskBuffer||zpr,r.generateMask?r.generateMask(n):(o6===VH&&(ox===void 0&&(ox=Buffer.alloc(VH)),$pr(ox,0,VH),o6=0),n[0]=ox[o6++],n[1]=ox[o6++],n[2]=ox[o6++],n[3]=ox[o6++]),s=(n[0]|n[1]|n[2]|n[3])===0,o=6);let a;typeof e=="string"?(!r.mask||s)&&r[Tp]!==void 0?a=r[Tp]:(e=Buffer.from(e),a=e.length):(a=e.length,i=r.mask&&r.readOnly&&!s);let c=a;a>=65536?(o+=8,c=127):a>125&&(o+=2,c=126);let l=Buffer.allocUnsafe(i?a+o:o);return l[0]=r.fin?r.opcode|128:r.opcode,r.rsv1&&(l[0]|=64),l[1]=c,c===126?l.writeUInt16BE(a,2):c===127&&(l[2]=l[3]=0,l.writeUIntBE(a,4,6)),r.mask?(l[1]|=128,l[o-4]=n[0],l[o-3]=n[1],l[o-2]=n[2],l[o-1]=n[3],s?[l,e]:i?(dht(e,n,l,o,a),[l]):(dht(e,n,e,0,a),[l,e])):[l,e]}close(e,r,n,i){let o;if(e===void 0)o=Upr;else{if(typeof e!="number"||!Fpr(e))throw new TypeError("First argument must be a valid error code number");if(r===void 0||!r.length)o=Buffer.allocUnsafe(2),o.writeUInt16BE(e,0);else{let a=Buffer.byteLength(r);if(a>123)throw new RangeError("The message must not be greater than 123 bytes");o=Buffer.allocUnsafe(2+a),o.writeUInt16BE(e,0),typeof r=="string"?o.write(r,2):o.set(r,2)}}let s={[Tp]:o.length,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,o,!1,s,i]):this.sendFrame(t.frame(o,s),i)}ping(e,r,n){let i,o;if(typeof e=="string"?(i=Buffer.byteLength(e),o=!1):(e=i6(e),i=e.length,o=i6.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let s={[Tp]:i,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:9,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,s,n]):this.sendFrame(t.frame(e,s),n)}pong(e,r,n){let i,o;if(typeof e=="string"?(i=Buffer.byteLength(e),o=!1):(e=i6(e),i=e.length,o=i6.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let s={[Tp]:i,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:10,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,s,n]):this.sendFrame(t.frame(e,s),n)}send(e,r,n){let i=this._extensions[uht.extensionName],o=r.binary?2:1,s=r.compress,a,c;if(typeof e=="string"?(a=Buffer.byteLength(e),c=!1):(e=i6(e),a=e.length,c=i6.readOnly),this._firstFragment?(this._firstFragment=!1,s&&i&&i.params[i._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(s=a>=i._threshold),this._compress=s):(s=!1,o=0),r.fin&&(this._firstFragment=!0),i){let l={[Tp]:a,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:c,rsv1:s};this._deflating?this.enqueue([this.dispatch,e,this._compress,l,n]):this.dispatch(e,this._compress,l,n)}else this.sendFrame(t.frame(e,{[Tp]:a,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:c,rsv1:!1}),n)}dispatch(e,r,n,i){if(!r){this.sendFrame(t.frame(e,n),i);return}let o=this._extensions[uht.extensionName];this._bufferedBytes+=n[Tp],this._deflating=!0,o.compress(e,n.fin,(s,a)=>{if(this._socket.destroyed){let c=new Error("The socket was closed while data was being compressed");typeof i=="function"&&i(c);for(let l=0;l<this._queue.length;l++){let u=this._queue[l],d=u[u.length-1];typeof d=="function"&&d(c)}return}this._bufferedBytes-=n[Tp],this._deflating=!1,n.readOnly=!1,this.sendFrame(t.frame(a,n),i),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][Tp],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][Tp],this._queue.push(e)}sendFrame(e,r){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],r),this._socket.uncork()):this._socket.write(e[0],r)}};pht.exports=lbe});var xht=Ue((Rai,_ht)=>{"use strict";var{kForOnEventAttribute:YN,kListener:dbe}=Uy(),fht=Symbol("kCode"),mht=Symbol("kData"),hht=Symbol("kError"),ght=Symbol("kMessage"),yht=Symbol("kReason"),s6=Symbol("kTarget"),bht=Symbol("kType"),vht=Symbol("kWasClean"),Eg=class{constructor(e){this[s6]=null,this[bht]=e}get target(){return this[s6]}get type(){return this[bht]}};Object.defineProperty(Eg.prototype,"target",{enumerable:!0});Object.defineProperty(Eg.prototype,"type",{enumerable:!0});var sx=class extends Eg{constructor(e,r={}){super(e),this[fht]=r.code===void 0?0:r.code,this[yht]=r.reason===void 0?"":r.reason,this[vht]=r.wasClean===void 0?!1:r.wasClean}get code(){return this[fht]}get reason(){return this[yht]}get wasClean(){return this[vht]}};Object.defineProperty(sx.prototype,"code",{enumerable:!0});Object.defineProperty(sx.prototype,"reason",{enumerable:!0});Object.defineProperty(sx.prototype,"wasClean",{enumerable:!0});var a6=class extends Eg{constructor(e,r={}){super(e),this[hht]=r.error===void 0?null:r.error,this[ght]=r.message===void 0?"":r.message}get error(){return this[hht]}get message(){return this[ght]}};Object.defineProperty(a6.prototype,"error",{enumerable:!0});Object.defineProperty(a6.prototype,"message",{enumerable:!0});var ZN=class extends Eg{constructor(e,r={}){super(e),this[mht]=r.data===void 0?null:r.data}get data(){return this[mht]}};Object.defineProperty(ZN.prototype,"data",{enumerable:!0});var Vpr={addEventListener(t,e,r={}){for(let i of this.listeners(t))if(!r[YN]&&i[dbe]===e&&!i[YN])return;let n;if(t==="message")n=function(o,s){let a=new ZN("message",{data:s?o:o.toString()});a[s6]=this,HH(e,this,a)};else if(t==="close")n=function(o,s){let a=new sx("close",{code:o,reason:s.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});a[s6]=this,HH(e,this,a)};else if(t==="error")n=function(o){let s=new a6("error",{error:o,message:o.message});s[s6]=this,HH(e,this,s)};else if(t==="open")n=function(){let o=new Eg("open");o[s6]=this,HH(e,this,o)};else return;n[YN]=!!r[YN],n[dbe]=e,r.once?this.once(t,n):this.on(t,n)},removeEventListener(t,e){for(let r of this.listeners(t))if(r[dbe]===e&&!r[YN]){this.removeListener(t,r);break}}};_ht.exports={CloseEvent:sx,ErrorEvent:a6,Event:Eg,EventTarget:Vpr,MessageEvent:ZN};function HH(t,e,r){typeof t=="object"&&t.handleEvent?t.handleEvent.call(t,r):t.call(e,r)}});var pbe=Ue((Iai,Sht)=>{"use strict";var{tokenChars:eO}=XN();function Zf(t,e,r){t[e]===void 0?t[e]=[r]:t[e].push(r)}function Hpr(t){let e=Object.create(null),r=Object.create(null),n=!1,i=!1,o=!1,s,a,c=-1,l=-1,u=-1,d=0;for(;d<t.length;d++)if(l=t.charCodeAt(d),s===void 0)if(u===-1&&eO[l]===1)c===-1&&(c=d);else if(d!==0&&(l===32||l===9))u===-1&&c!==-1&&(u=d);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d);let f=t.slice(c,u);l===44?(Zf(e,f,r),r=Object.create(null)):s=f,c=u=-1}else throw new SyntaxError(`Unexpected character at index ${d}`);else if(a===void 0)if(u===-1&&eO[l]===1)c===-1&&(c=d);else if(l===32||l===9)u===-1&&c!==-1&&(u=d);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d),Zf(r,t.slice(c,u),!0),l===44&&(Zf(e,s,r),r=Object.create(null),s=void 0),c=u=-1}else if(l===61&&c!==-1&&u===-1)a=t.slice(c,d),c=u=-1;else throw new SyntaxError(`Unexpected character at index ${d}`);else if(i){if(eO[l]!==1)throw new SyntaxError(`Unexpected character at index ${d}`);c===-1?c=d:n||(n=!0),i=!1}else if(o)if(eO[l]===1)c===-1&&(c=d);else if(l===34&&c!==-1)o=!1,u=d;else if(l===92)i=!0;else throw new SyntaxError(`Unexpected character at index ${d}`);else if(l===34&&t.charCodeAt(d-1)===61)o=!0;else if(u===-1&&eO[l]===1)c===-1&&(c=d);else if(c!==-1&&(l===32||l===9))u===-1&&(u=d);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d);let f=t.slice(c,u);n&&(f=f.replace(/\\/g,""),n=!1),Zf(r,a,f),l===44&&(Zf(e,s,r),r=Object.create(null),s=void 0),a=void 0,c=u=-1}else throw new SyntaxError(`Unexpected character at index ${d}`);if(c===-1||o||l===32||l===9)throw new SyntaxError("Unexpected end of input");u===-1&&(u=d);let p=t.slice(c,u);return s===void 0?Zf(e,p,r):(a===void 0?Zf(r,p,!0):n?Zf(r,a,p.replace(/\\/g,"")):Zf(r,a,p),Zf(e,s,r)),e}function Gpr(t){return Object.keys(t).map(e=>{let r=t[e];return Array.isArray(r)||(r=[r]),r.map(n=>[e].concat(Object.keys(n).map(i=>{let o=n[i];return Array.isArray(o)||(o=[o]),o.map(s=>s===!0?i:`${i}=${s}`).join("; ")})).join("; ")).join(", ")}).join(", ")}Sht.exports={format:Gpr,parse:Hpr}});var ybe=Ue((Oai,kht)=>{"use strict";var jpr=ft("events"),qpr=ft("https"),Jpr=ft("http"),Eht=ft("net"),Wpr=ft("tls"),{randomBytes:Kpr,createHash:Qpr}=ft("crypto"),{Duplex:Cai,Readable:Nai}=ft("stream"),{URL:fbe}=ft("url"),zy=QN(),Xpr=cbe(),Ypr=ube(),{BINARY_TYPES:wht,EMPTY_BUFFER:GH,GUID:Zpr,kForOnEventAttribute:mbe,kListener:efr,kStatusCode:tfr,kWebSocket:ua,NOOP:Tht}=Uy(),{EventTarget:{addEventListener:rfr,removeEventListener:nfr}}=xht(),{format:ifr,parse:ofr}=pbe(),{toBuffer:sfr}=JN(),afr=30*1e3,Rht=Symbol("kAborted"),hbe=[8,13],Tg=["CONNECTING","OPEN","CLOSING","CLOSED"],cfr=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,Zi=class t extends jpr{constructor(e,r,n){super(),this._binaryType=wht[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=GH,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=t.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,r===void 0?r=[]:Array.isArray(r)||(typeof r=="object"&&r!==null?(n=r,r=[]):r=[r]),Iht(this,e,r,n)):(this._autoPong=n.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){wht.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,r,n){let i=new Xpr({allowSynchronousEvents:n.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:n.maxPayload,skipUTF8Validation:n.skipUTF8Validation});this._sender=new Ypr(e,this._extensions,n.generateMask),this._receiver=i,this._socket=e,i[ua]=this,e[ua]=this,i.on("conclude",dfr),i.on("drain",pfr),i.on("error",ffr),i.on("message",mfr),i.on("ping",hfr),i.on("pong",gfr),e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),r.length>0&&e.unshift(r),e.on("close",Nht),e.on("data",qH),e.on("end",Oht),e.on("error",Pht),this._readyState=t.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=t.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[zy.extensionName]&&this._extensions[zy.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=t.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,r){if(this.readyState!==t.CLOSED){if(this.readyState===t.CONNECTING){Al(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===t.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=t.CLOSING,this._sender.close(e,r,!this._isServer,n=>{n||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),afr)}}pause(){this.readyState===t.CONNECTING||this.readyState===t.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,r,n){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(n=e,e=r=void 0):typeof r=="function"&&(n=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){gbe(this,e,n);return}r===void 0&&(r=!this._isServer),this._sender.ping(e||GH,r,n)}pong(e,r,n){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(n=e,e=r=void 0):typeof r=="function"&&(n=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){gbe(this,e,n);return}r===void 0&&(r=!this._isServer),this._sender.pong(e||GH,r,n)}resume(){this.readyState===t.CONNECTING||this.readyState===t.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,r,n){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof r=="function"&&(n=r,r={}),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){gbe(this,e,n);return}let i={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...r};this._extensions[zy.extensionName]||(i.compress=!1),this._sender.send(e||GH,i,n)}terminate(){if(this.readyState!==t.CLOSED){if(this.readyState===t.CONNECTING){Al(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=t.CLOSING,this._socket.destroy())}}};Object.defineProperty(Zi,"CONNECTING",{enumerable:!0,value:Tg.indexOf("CONNECTING")});Object.defineProperty(Zi.prototype,"CONNECTING",{enumerable:!0,value:Tg.indexOf("CONNECTING")});Object.defineProperty(Zi,"OPEN",{enumerable:!0,value:Tg.indexOf("OPEN")});Object.defineProperty(Zi.prototype,"OPEN",{enumerable:!0,value:Tg.indexOf("OPEN")});Object.defineProperty(Zi,"CLOSING",{enumerable:!0,value:Tg.indexOf("CLOSING")});Object.defineProperty(Zi.prototype,"CLOSING",{enumerable:!0,value:Tg.indexOf("CLOSING")});Object.defineProperty(Zi,"CLOSED",{enumerable:!0,value:Tg.indexOf("CLOSED")});Object.defineProperty(Zi.prototype,"CLOSED",{enumerable:!0,value:Tg.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(t=>{Object.defineProperty(Zi.prototype,t,{enumerable:!0})});["open","error","close","message"].forEach(t=>{Object.defineProperty(Zi.prototype,`on${t}`,{enumerable:!0,get(){for(let e of this.listeners(t))if(e[mbe])return e[efr];return null},set(e){for(let r of this.listeners(t))if(r[mbe]){this.removeListener(t,r);break}typeof e=="function"&&this.addEventListener(t,e,{[mbe]:!0})}})});Zi.prototype.addEventListener=rfr;Zi.prototype.removeEventListener=nfr;kht.exports=Zi;function Iht(t,e,r,n){let i={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:hbe[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...n,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(t._autoPong=i.autoPong,!hbe.includes(i.protocolVersion))throw new RangeError(`Unsupported protocol version: ${i.protocolVersion} (supported versions: ${hbe.join(", ")})`);let o;if(e instanceof fbe)o=e;else try{o=new fbe(e)}catch{throw new SyntaxError(`Invalid URL: ${e}`)}o.protocol==="http:"?o.protocol="ws:":o.protocol==="https:"&&(o.protocol="wss:"),t._url=o.href;let s=o.protocol==="wss:",a=o.protocol==="ws+unix:",c;if(o.protocol!=="ws:"&&!s&&!a?c=`The URL's protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"`:a&&!o.pathname?c="The URL's pathname is empty":o.hash&&(c="The URL contains a fragment identifier"),c){let m=new SyntaxError(c);if(t._redirects===0)throw m;jH(t,m);return}let l=s?443:80,u=Kpr(16).toString("base64"),d=s?qpr.request:Jpr.request,p=new Set,f;if(i.createConnection=i.createConnection||(s?ufr:lfr),i.defaultPort=i.defaultPort||l,i.port=o.port||l,i.host=o.hostname.startsWith("[")?o.hostname.slice(1,-1):o.hostname,i.headers={...i.headers,"Sec-WebSocket-Version":i.protocolVersion,"Sec-WebSocket-Key":u,Connection:"Upgrade",Upgrade:"websocket"},i.path=o.pathname+o.search,i.timeout=i.handshakeTimeout,i.perMessageDeflate&&(f=new zy(i.perMessageDeflate!==!0?i.perMessageDeflate:{},!1,i.maxPayload),i.headers["Sec-WebSocket-Extensions"]=ifr({[zy.extensionName]:f.offer()})),r.length){for(let m of r){if(typeof m!="string"||!cfr.test(m)||p.has(m))throw new SyntaxError("An invalid or duplicated subprotocol was specified");p.add(m)}i.headers["Sec-WebSocket-Protocol"]=r.join(",")}if(i.origin&&(i.protocolVersion<13?i.headers["Sec-WebSocket-Origin"]=i.origin:i.headers.Origin=i.origin),(o.username||o.password)&&(i.auth=`${o.username}:${o.password}`),a){let m=i.path.split(":");i.socketPath=m[0],i.path=m[1]}let h;if(i.followRedirects){if(t._redirects===0){t._originalIpc=a,t._originalSecure=s,t._originalHostOrSocketPath=a?i.socketPath:o.host;let m=n&&n.headers;if(n={...n,headers:{}},m)for(let[g,b]of Object.entries(m))n.headers[g.toLowerCase()]=b}else if(t.listenerCount("redirect")===0){let m=a?t._originalIpc?i.socketPath===t._originalHostOrSocketPath:!1:t._originalIpc?!1:o.host===t._originalHostOrSocketPath;(!m||t._originalSecure&&!s)&&(delete i.headers.authorization,delete i.headers.cookie,m||delete i.headers.host,i.auth=void 0)}i.auth&&!n.headers.authorization&&(n.headers.authorization="Basic "+Buffer.from(i.auth).toString("base64")),h=t._req=d(i),t._redirects&&t.emit("redirect",t.url,h)}else h=t._req=d(i);i.timeout&&h.on("timeout",()=>{Al(t,h,"Opening handshake has timed out")}),h.on("error",m=>{h===null||h[Rht]||(h=t._req=null,jH(t,m))}),h.on("response",m=>{let g=m.headers.location,b=m.statusCode;if(g&&i.followRedirects&&b>=300&&b<400){if(++t._redirects>i.maxRedirects){Al(t,h,"Maximum redirects exceeded");return}h.abort();let _;try{_=new fbe(g,e)}catch{let E=new SyntaxError(`Invalid URL: ${g}`);jH(t,E);return}Iht(t,_,r,n)}else t.emit("unexpected-response",h,m)||Al(t,h,`Unexpected server response: ${m.statusCode}`)}),h.on("upgrade",(m,g,b)=>{if(t.emit("upgrade",m),t.readyState!==Zi.CONNECTING)return;h=t._req=null;let _=m.headers.upgrade;if(_===void 0||_.toLowerCase()!=="websocket"){Al(t,g,"Invalid Upgrade header");return}let x=Qpr("sha1").update(u+Zpr).digest("base64");if(m.headers["sec-websocket-accept"]!==x){Al(t,g,"Invalid Sec-WebSocket-Accept header");return}let E=m.headers["sec-websocket-protocol"],R;if(E!==void 0?p.size?p.has(E)||(R="Server sent an invalid subprotocol"):R="Server sent a subprotocol but none was requested":p.size&&(R="Server sent no subprotocol"),R){Al(t,g,R);return}E&&(t._protocol=E);let I=m.headers["sec-websocket-extensions"];if(I!==void 0){if(!f){Al(t,g,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let D;try{D=ofr(I)}catch{Al(t,g,"Invalid Sec-WebSocket-Extensions header");return}let k=Object.keys(D);if(k.length!==1||k[0]!==zy.extensionName){Al(t,g,"Server indicated an extension that was not requested");return}try{f.accept(D[zy.extensionName])}catch{Al(t,g,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[zy.extensionName]=f}t.setSocket(g,b,{allowSynchronousEvents:i.allowSynchronousEvents,generateMask:i.generateMask,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation})}),i.finishRequest?i.finishRequest(h,t):h.end()}function jH(t,e){t._readyState=Zi.CLOSING,t.emit("error",e),t.emitClose()}function lfr(t){return t.path=t.socketPath,Eht.connect(t)}function ufr(t){return t.path=void 0,!t.servername&&t.servername!==""&&(t.servername=Eht.isIP(t.host)?"":t.host),Wpr.connect(t)}function Al(t,e,r){t._readyState=Zi.CLOSING;let n=new Error(r);Error.captureStackTrace(n,Al),e.setHeader?(e[Rht]=!0,e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),process.nextTick(jH,t,n)):(e.destroy(n),e.once("error",t.emit.bind(t,"error")),e.once("close",t.emitClose.bind(t)))}function gbe(t,e,r){if(e){let n=sfr(e).length;t._socket?t._sender._bufferedBytes+=n:t._bufferedAmount+=n}if(r){let n=new Error(`WebSocket is not open: readyState ${t.readyState} (${Tg[t.readyState]})`);process.nextTick(r,n)}}function dfr(t,e){let r=this[ua];r._closeFrameReceived=!0,r._closeMessage=e,r._closeCode=t,r._socket[ua]!==void 0&&(r._socket.removeListener("data",qH),process.nextTick(Cht,r._socket),t===1005?r.close():r.close(t,e))}function pfr(){let t=this[ua];t.isPaused||t._socket.resume()}function ffr(t){let e=this[ua];e._socket[ua]!==void 0&&(e._socket.removeListener("data",qH),process.nextTick(Cht,e._socket),e.close(t[tfr])),e.emit("error",t)}function Aht(){this[ua].emitClose()}function mfr(t,e){this[ua].emit("message",t,e)}function hfr(t){let e=this[ua];e._autoPong&&e.pong(t,!this._isServer,Tht),e.emit("ping",t)}function gfr(t){this[ua].emit("pong",t)}function Cht(t){t.resume()}function Nht(){let t=this[ua];this.removeListener("close",Nht),this.removeListener("data",qH),this.removeListener("end",Oht),t._readyState=Zi.CLOSING;let e;!this._readableState.endEmitted&&!t._closeFrameReceived&&!t._receiver._writableState.errorEmitted&&(e=t._socket.read())!==null&&t._receiver.write(e),t._receiver.end(),this[ua]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",Aht),t._receiver.on("finish",Aht))}function qH(t){this[ua]._receiver.write(t)||this.pause()}function Oht(){let t=this[ua];t._readyState=Zi.CLOSING,t._receiver.end(),this.end()}function Pht(){let t=this[ua];this.removeListener("error",Pht),this.on("error",Tht),t&&(t._readyState=Zi.CLOSING,this.destroy())}});var Mht=Ue((Pai,Dht)=>{"use strict";var{tokenChars:yfr}=XN();function bfr(t){let e=new Set,r=-1,n=-1,i=0;for(i;i<t.length;i++){let s=t.charCodeAt(i);if(n===-1&&yfr[s]===1)r===-1&&(r=i);else if(i!==0&&(s===32||s===9))n===-1&&r!==-1&&(n=i);else if(s===44){if(r===-1)throw new SyntaxError(`Unexpected character at index ${i}`);n===-1&&(n=i);let a=t.slice(r,n);if(e.has(a))throw new SyntaxError(`The "${a}" subprotocol is duplicated`);e.add(a),r=n=-1}else throw new SyntaxError(`Unexpected character at index ${i}`)}if(r===-1||n!==-1)throw new SyntaxError("Unexpected end of input");let o=t.slice(r,i);if(e.has(o))throw new SyntaxError(`The "${o}" subprotocol is duplicated`);return e.add(o),e}Dht.exports={parse:bfr}});var Vht=Ue((Dai,zht)=>{"use strict";var vfr=ft("events"),JH=ft("http"),{Duplex:kai}=ft("stream"),{createHash:_fr}=ft("crypto"),Lht=pbe(),ax=QN(),xfr=Mht(),Sfr=ybe(),{GUID:wfr,kWebSocket:Afr}=Uy(),Efr=/^[+/0-9A-Za-z]{22}==$/,Bht=0,$ht=1,Fht=2,bbe=class extends vfr{constructor(e,r){if(super(),e={allowSynchronousEvents:!0,autoPong:!0,maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:Sfr,...e},e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=JH.createServer((n,i)=>{let o=JH.STATUS_CODES[426];i.writeHead(426,{"Content-Length":o.length,"Content-Type":"text/plain"}),i.end(o)}),this._server.listen(e.port,e.host,e.backlog,r)):e.server&&(this._server=e.server),this._server){let n=this.emit.bind(this,"connection");this._removeListeners=Tfr(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(i,o,s)=>{this.handleUpgrade(i,o,s,n)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=Bht}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===Fht){e&&this.once("close",()=>{e(new Error("The server is not running"))}),process.nextTick(tO,this);return}if(e&&this.once("close",e),this._state!==$ht)if(this._state=$ht,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(tO,this):process.nextTick(tO,this);else{let r=this._server;this._removeListeners(),this._removeListeners=this._server=null,r.close(()=>{tO(this)})}}shouldHandle(e){if(this.options.path){let r=e.url.indexOf("?");if((r!==-1?e.url.slice(0,r):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,r,n,i){r.on("error",Uht);let o=e.headers["sec-websocket-key"],s=e.headers.upgrade,a=+e.headers["sec-websocket-version"];if(e.method!=="GET"){cx(this,e,r,405,"Invalid HTTP method");return}if(s===void 0||s.toLowerCase()!=="websocket"){cx(this,e,r,400,"Invalid Upgrade header");return}if(o===void 0||!Efr.test(o)){cx(this,e,r,400,"Missing or invalid Sec-WebSocket-Key header");return}if(a!==8&&a!==13){cx(this,e,r,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(e)){rO(r,400);return}let c=e.headers["sec-websocket-protocol"],l=new Set;if(c!==void 0)try{l=xfr.parse(c)}catch{cx(this,e,r,400,"Invalid Sec-WebSocket-Protocol header");return}let u=e.headers["sec-websocket-extensions"],d={};if(this.options.perMessageDeflate&&u!==void 0){let p=new ax(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let f=Lht.parse(u);f[ax.extensionName]&&(p.accept(f[ax.extensionName]),d[ax.extensionName]=p)}catch{cx(this,e,r,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let p={origin:e.headers[`${a===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(p,(f,h,m,g)=>{if(!f)return rO(r,h||401,m,g);this.completeUpgrade(d,o,l,e,r,n,i)});return}if(!this.options.verifyClient(p))return rO(r,401)}this.completeUpgrade(d,o,l,e,r,n,i)}completeUpgrade(e,r,n,i,o,s,a){if(!o.readable||!o.writable)return o.destroy();if(o[Afr])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>Bht)return rO(o,503);let l=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${_fr("sha1").update(r+wfr).digest("base64")}`],u=new this.options.WebSocket(null,void 0,this.options);if(n.size){let d=this.options.handleProtocols?this.options.handleProtocols(n,i):n.values().next().value;d&&(l.push(`Sec-WebSocket-Protocol: ${d}`),u._protocol=d)}if(e[ax.extensionName]){let d=e[ax.extensionName].params,p=Lht.format({[ax.extensionName]:[d]});l.push(`Sec-WebSocket-Extensions: ${p}`),u._extensions=e}this.emit("headers",l,i),o.write(l.concat(`\r
`).join(`\r
`)),o.removeListener("error",Uht),u.setSocket(o,s,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(u),u.on("close",()=>{this.clients.delete(u),this._shouldEmitClose&&!this.clients.size&&process.nextTick(tO,this)})),a(u,i)}};zht.exports=bbe;function Tfr(t,e){for(let r of Object.keys(e))t.on(r,e[r]);return function(){for(let n of Object.keys(e))t.removeListener(n,e[n])}}function tO(t){t._state=Fht,t.emit("close")}function Uht(){this.destroy()}function rO(t,e,r,n){r=r||JH.STATUS_CODES[e],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...n},t.once("finish",t.destroy),t.end(`HTTP/1.1 ${e} ${JH.STATUS_CODES[e]}\r
`+Object.keys(n).map(i=>`${i}: ${n[i]}`).join(`\r
`)+`\r
\r
`+r)}function cx(t,e,r,n,i){if(t.listenerCount("wsClientError")){let o=new Error(i);Error.captureStackTrace(o,cx),t.emit("wsClientError",o,r,e)}else rO(r,n,i)}});var st={};wr(st,{$brand:()=>BO,$input:()=>aW,$output:()=>sW,NEVER:()=>Vj,TimePrecision:()=>dW,ZodAny:()=>eQ,ZodArray:()=>iQ,ZodBase64:()=>uP,ZodBase64URL:()=>dP,ZodBigInt:()=>iS,ZodBigIntFormat:()=>mP,ZodBoolean:()=>nS,ZodCIDRv4:()=>cP,ZodCIDRv6:()=>lP,ZodCUID:()=>tP,ZodCUID2:()=>rP,ZodCatch:()=>TQ,ZodCodec:()=>SP,ZodCustom:()=>g3,ZodCustomStringFormat:()=>tS,ZodDate:()=>d3,ZodDefault:()=>_Q,ZodDiscriminatedUnion:()=>sQ,ZodE164:()=>pP,ZodEmail:()=>Y7,ZodEmoji:()=>Z7,ZodEnum:()=>Zx,ZodError:()=>E2t,ZodExactOptional:()=>yQ,ZodFile:()=>hQ,ZodFirstPartyTypeKind:()=>$Q,ZodFunction:()=>MQ,ZodGUID:()=>s3,ZodIPv4:()=>sP,ZodIPv6:()=>aP,ZodISODate:()=>q7,ZodISODateTime:()=>j7,ZodISODuration:()=>W7,ZodISOTime:()=>J7,ZodIntersection:()=>aQ,ZodIssueCode:()=>R2t,ZodJWT:()=>fP,ZodKSUID:()=>oP,ZodLazy:()=>PQ,ZodLiteral:()=>mQ,ZodMAC:()=>JK,ZodMap:()=>pQ,ZodNaN:()=>IQ,ZodNanoID:()=>eP,ZodNever:()=>rQ,ZodNonOptional:()=>_P,ZodNull:()=>YK,ZodNullable:()=>vQ,ZodNumber:()=>rS,ZodNumberFormat:()=>ub,ZodObject:()=>f3,ZodOptional:()=>vP,ZodPipe:()=>xP,ZodPrefault:()=>SQ,ZodPromise:()=>DQ,ZodReadonly:()=>CQ,ZodRealError:()=>Wa,ZodRecord:()=>h3,ZodSet:()=>fQ,ZodString:()=>eS,ZodStringFormat:()=>xn,ZodSuccess:()=>EQ,ZodSymbol:()=>QK,ZodTemplateLiteral:()=>OQ,ZodTransform:()=>gQ,ZodTuple:()=>lQ,ZodType:()=>dr,ZodULID:()=>nP,ZodURL:()=>u3,ZodUUID:()=>kp,ZodUndefined:()=>XK,ZodUnion:()=>m3,ZodUnknown:()=>tQ,ZodVoid:()=>nQ,ZodXID:()=>iP,ZodXor:()=>oQ,_ZodString:()=>X7,_default:()=>xQ,_function:()=>rSe,any:()=>Dxe,array:()=>p3,base64:()=>yxe,base64url:()=>bxe,bigint:()=>Cxe,boolean:()=>KK,catch:()=>RQ,check:()=>nSe,cidrv4:()=>hxe,cidrv6:()=>gxe,clone:()=>ma,codec:()=>Zxe,coerce:()=>UQ,config:()=>Ti,core:()=>lm,cuid:()=>axe,cuid2:()=>cxe,custom:()=>iSe,date:()=>Lxe,decode:()=>FK,decodeAsync:()=>VK,describe:()=>oSe,discriminatedUnion:()=>Vxe,e164:()=>vxe,email:()=>X_e,emoji:()=>oxe,encode:()=>UK,encodeAsync:()=>zK,endsWith:()=>Hx,enum:()=>yP,exactOptional:()=>bQ,file:()=>Kxe,flattenError:()=>J6,float32:()=>Exe,float64:()=>Txe,formatError:()=>W6,fromJSONSchema:()=>pSe,function:()=>rSe,getErrorMap:()=>C2t,globalRegistry:()=>ns,gt:()=>Op,gte:()=>ha,guid:()=>Y_e,hash:()=>Axe,hex:()=>wxe,hostname:()=>Sxe,httpUrl:()=>ixe,includes:()=>zx,instanceof:()=>aSe,int:()=>Q7,int32:()=>Rxe,int64:()=>Nxe,intersection:()=>cQ,ipv4:()=>pxe,ipv6:()=>mxe,iso:()=>Yx,json:()=>lSe,jwt:()=>_xe,keyof:()=>Bxe,ksuid:()=>dxe,lazy:()=>kQ,length:()=>cb,literal:()=>Wxe,locales:()=>r3,looseObject:()=>Fxe,looseRecord:()=>Gxe,lowercase:()=>Ux,lt:()=>Np,lte:()=>Gc,mac:()=>fxe,map:()=>jxe,maxLength:()=>ab,maxSize:()=>Qg,meta:()=>sSe,mime:()=>Gx,minLength:()=>cm,minSize:()=>Pp,multipleOf:()=>Kg,nan:()=>Yxe,nanoid:()=>sxe,nativeEnum:()=>Jxe,negative:()=>M7,never:()=>hP,nonnegative:()=>B7,nonoptional:()=>AQ,nonpositive:()=>L7,normalize:()=>jx,null:()=>ZK,nullable:()=>c3,nullish:()=>Qxe,number:()=>WK,object:()=>$xe,optional:()=>a3,overwrite:()=>xd,parse:()=>MK,parseAsync:()=>LK,partialRecord:()=>Hxe,pipe:()=>l3,positive:()=>D7,prefault:()=>wQ,preprocess:()=>uSe,prettifyError:()=>eq,promise:()=>tSe,property:()=>$7,readonly:()=>NQ,record:()=>dQ,refine:()=>LQ,regex:()=>$x,regexes:()=>Rl,registry:()=>f7,safeDecode:()=>GK,safeDecodeAsync:()=>qK,safeEncode:()=>HK,safeEncodeAsync:()=>jK,safeParse:()=>BK,safeParseAsync:()=>$K,set:()=>qxe,setErrorMap:()=>I2t,size:()=>sb,slugify:()=>Kx,startsWith:()=>Vx,strictObject:()=>Uxe,string:()=>K7,stringFormat:()=>xxe,stringbool:()=>cSe,success:()=>Xxe,superRefine:()=>BQ,symbol:()=>Pxe,templateLiteral:()=>eSe,toJSONSchema:()=>V7,toLowerCase:()=>Jx,toUpperCase:()=>Wx,transform:()=>bP,treeifyError:()=>Zj,trim:()=>qx,tuple:()=>uQ,uint32:()=>Ixe,uint64:()=>Oxe,ulid:()=>lxe,undefined:()=>kxe,union:()=>gP,unknown:()=>lb,uppercase:()=>Fx,url:()=>nxe,util:()=>qe,uuid:()=>Z_e,uuidv4:()=>exe,uuidv6:()=>txe,uuidv7:()=>rxe,void:()=>Mxe,xid:()=>uxe,xor:()=>zxe});var lm={};wr(lm,{$ZodAny:()=>IJ,$ZodArray:()=>kJ,$ZodAsyncError:()=>_d,$ZodBase64:()=>bJ,$ZodBase64URL:()=>vJ,$ZodBigInt:()=>s7,$ZodBigIntFormat:()=>AJ,$ZodBoolean:()=>Y6,$ZodCIDRv4:()=>hJ,$ZodCIDRv6:()=>gJ,$ZodCUID:()=>nJ,$ZodCUID2:()=>iJ,$ZodCatch:()=>XJ,$ZodCheck:()=>Cn,$ZodCheckBigIntFormat:()=>kq,$ZodCheckEndsWith:()=>jq,$ZodCheckGreaterThan:()=>ZO,$ZodCheckIncludes:()=>Hq,$ZodCheckLengthEquals:()=>Uq,$ZodCheckLessThan:()=>YO,$ZodCheckLowerCase:()=>zq,$ZodCheckMaxLength:()=>Bq,$ZodCheckMaxSize:()=>Dq,$ZodCheckMimeType:()=>Jq,$ZodCheckMinLength:()=>$q,$ZodCheckMinSize:()=>Mq,$ZodCheckMultipleOf:()=>Oq,$ZodCheckNumberFormat:()=>Pq,$ZodCheckOverwrite:()=>Wq,$ZodCheckProperty:()=>qq,$ZodCheckRegex:()=>Fq,$ZodCheckSizeEquals:()=>Lq,$ZodCheckStartsWith:()=>Gq,$ZodCheckStringFormat:()=>Lx,$ZodCheckUpperCase:()=>Vq,$ZodCodec:()=>e3,$ZodCustom:()=>oW,$ZodCustomStringFormat:()=>SJ,$ZodDate:()=>PJ,$ZodDefault:()=>JJ,$ZodDiscriminatedUnion:()=>LJ,$ZodE164:()=>_J,$ZodEmail:()=>Zq,$ZodEmoji:()=>tJ,$ZodEncodeError:()=>Gg,$ZodEnum:()=>zJ,$ZodError:()=>q6,$ZodExactOptional:()=>jJ,$ZodFile:()=>HJ,$ZodFunction:()=>rW,$ZodGUID:()=>Xq,$ZodIPv4:()=>pJ,$ZodIPv6:()=>fJ,$ZodISODate:()=>lJ,$ZodISODateTime:()=>cJ,$ZodISODuration:()=>dJ,$ZodISOTime:()=>uJ,$ZodIntersection:()=>BJ,$ZodJWT:()=>xJ,$ZodKSUID:()=>aJ,$ZodLazy:()=>iW,$ZodLiteral:()=>VJ,$ZodMAC:()=>mJ,$ZodMap:()=>UJ,$ZodNaN:()=>YJ,$ZodNanoID:()=>rJ,$ZodNever:()=>NJ,$ZodNonOptional:()=>KJ,$ZodNull:()=>RJ,$ZodNullable:()=>qJ,$ZodNumber:()=>o7,$ZodNumberFormat:()=>wJ,$ZodObject:()=>Q2e,$ZodObjectJIT:()=>DJ,$ZodOptional:()=>c7,$ZodPipe:()=>ZJ,$ZodPrefault:()=>WJ,$ZodPromise:()=>nW,$ZodReadonly:()=>eW,$ZodRealError:()=>Ja,$ZodRecord:()=>$J,$ZodRegistry:()=>p7,$ZodSet:()=>FJ,$ZodString:()=>ob,$ZodStringFormat:()=>_n,$ZodSuccess:()=>QJ,$ZodSymbol:()=>EJ,$ZodTemplateLiteral:()=>tW,$ZodTransform:()=>GJ,$ZodTuple:()=>a7,$ZodType:()=>tr,$ZodULID:()=>oJ,$ZodURL:()=>eJ,$ZodUUID:()=>Yq,$ZodUndefined:()=>TJ,$ZodUnion:()=>Z6,$ZodUnknown:()=>CJ,$ZodVoid:()=>OJ,$ZodXID:()=>sJ,$ZodXor:()=>MJ,$brand:()=>BO,$constructor:()=>se,$input:()=>aW,$output:()=>sW,Doc:()=>X6,JSONSchema:()=>K_e,JSONSchemaGenerator:()=>H7,NEVER:()=>Vj,TimePrecision:()=>dW,_any:()=>PW,_array:()=>UW,_base64:()=>N7,_base64url:()=>O7,_bigint:()=>EW,_boolean:()=>wW,_catch:()=>y2t,_check:()=>W_e,_cidrv4:()=>I7,_cidrv6:()=>C7,_coercedBigint:()=>TW,_coercedBoolean:()=>AW,_coercedDate:()=>BW,_coercedNumber:()=>yW,_coercedString:()=>lW,_cuid:()=>x7,_cuid2:()=>S7,_custom:()=>zW,_date:()=>LW,_decode:()=>HO,_decodeAsync:()=>jO,_default:()=>m2t,_discriminatedUnion:()=>r2t,_e164:()=>P7,_email:()=>m7,_emoji:()=>v7,_encode:()=>VO,_encodeAsync:()=>GO,_endsWith:()=>Hx,_enum:()=>c2t,_file:()=>FW,_float32:()=>vW,_float64:()=>_W,_gt:()=>Op,_gte:()=>ha,_guid:()=>n3,_includes:()=>zx,_int:()=>bW,_int32:()=>xW,_int64:()=>RW,_intersection:()=>n2t,_ipv4:()=>T7,_ipv6:()=>R7,_isoDate:()=>fW,_isoDateTime:()=>pW,_isoDuration:()=>hW,_isoTime:()=>mW,_jwt:()=>k7,_ksuid:()=>E7,_lazy:()=>x2t,_length:()=>cb,_literal:()=>u2t,_lowercase:()=>Ux,_lt:()=>Np,_lte:()=>Gc,_mac:()=>uW,_map:()=>s2t,_max:()=>Gc,_maxLength:()=>ab,_maxSize:()=>Qg,_mime:()=>Gx,_min:()=>ha,_minLength:()=>cm,_minSize:()=>Pp,_multipleOf:()=>Kg,_nan:()=>$W,_nanoid:()=>_7,_nativeEnum:()=>l2t,_negative:()=>M7,_never:()=>DW,_nonnegative:()=>B7,_nonoptional:()=>h2t,_nonpositive:()=>L7,_normalize:()=>jx,_null:()=>OW,_nullable:()=>f2t,_number:()=>gW,_optional:()=>p2t,_overwrite:()=>xd,_parse:()=>Px,_parseAsync:()=>kx,_pipe:()=>b2t,_positive:()=>D7,_promise:()=>S2t,_property:()=>$7,_readonly:()=>v2t,_record:()=>o2t,_refine:()=>VW,_regex:()=>$x,_safeDecode:()=>JO,_safeDecodeAsync:()=>KO,_safeEncode:()=>qO,_safeEncodeAsync:()=>WO,_safeParse:()=>Dx,_safeParseAsync:()=>Mx,_set:()=>a2t,_size:()=>sb,_slugify:()=>Kx,_startsWith:()=>Vx,_string:()=>cW,_stringFormat:()=>Qx,_stringbool:()=>qW,_success:()=>g2t,_superRefine:()=>HW,_symbol:()=>CW,_templateLiteral:()=>_2t,_toLowerCase:()=>Jx,_toUpperCase:()=>Wx,_transform:()=>d2t,_trim:()=>qx,_tuple:()=>i2t,_uint32:()=>SW,_uint64:()=>IW,_ulid:()=>w7,_undefined:()=>NW,_union:()=>e2t,_unknown:()=>kW,_uppercase:()=>Fx,_url:()=>i3,_uuid:()=>h7,_uuidv4:()=>g7,_uuidv6:()=>y7,_uuidv7:()=>b7,_void:()=>MW,_xid:()=>A7,_xor:()=>t2t,clone:()=>ma,config:()=>Ti,createStandardJSONSchemaMethod:()=>Xx,createToJSONSchemaMethod:()=>JW,decode:()=>Ebt,decodeAsync:()=>Rbt,describe:()=>GW,encode:()=>Abt,encodeAsync:()=>Tbt,extractDefs:()=>Yg,finalize:()=>Zg,flattenError:()=>J6,formatError:()=>W6,globalConfig:()=>U6,globalRegistry:()=>ns,initializeContext:()=>Xg,isValidBase64:()=>yJ,isValidBase64URL:()=>q2e,isValidJWT:()=>J2e,locales:()=>r3,meta:()=>jW,parse:()=>FO,parseAsync:()=>zO,prettifyError:()=>eq,process:()=>sn,regexes:()=>Rl,registry:()=>f7,safeDecode:()=>Cbt,safeDecodeAsync:()=>Obt,safeEncode:()=>Ibt,safeEncodeAsync:()=>Nbt,safeParse:()=>tq,safeParseAsync:()=>rq,toDotPath:()=>I2e,toJSONSchema:()=>V7,treeifyError:()=>Zj,util:()=>qe,version:()=>Kq});var Vj=Object.freeze({status:"aborted"});function se(t,e,r){function n(a,c){if(a._zod||Object.defineProperty(a,"_zod",{value:{def:c,constr:s,traits:new Set},enumerable:!1}),a._zod.traits.has(t))return;a._zod.traits.add(t),e(a,c);let l=s.prototype,u=Object.keys(l);for(let d=0;d<u.length;d++){let p=u[d];p in a||(a[p]=l[p].bind(a))}}let i=r?.Parent??Object;class o extends i{}Object.defineProperty(o,"name",{value:t});function s(a){var c;let l=r?.Parent?new o:this;n(l,a),(c=l._zod).deferred??(c.deferred=[]);for(let u of l._zod.deferred)u();return l}return Object.defineProperty(s,"init",{value:n}),Object.defineProperty(s,Symbol.hasInstance,{value:a=>r?.Parent&&a instanceof r.Parent?!0:a?._zod?.traits?.has(t)}),Object.defineProperty(s,"name",{value:t}),s}var BO=Symbol("zod_brand"),_d=class extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}},Gg=class extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}},U6={};function Ti(t){return t&&Object.assign(U6,t),U6}var qe={};wr(qe,{BIGINT_FORMAT_RANGES:()=>Yj,Class:()=>Gj,NUMBER_FORMAT_RANGES:()=>Xj,aborted:()=>Wg,allowsEval:()=>Jj,assert:()=>rbt,assertEqual:()=>Yyt,assertIs:()=>ebt,assertNever:()=>tbt,assertNotEqual:()=>Zyt,assignProp:()=>qg,base64ToUint8Array:()=>E2e,base64urlToUint8Array:()=>vbt,cached:()=>Nx,captureStackTrace:()=>UO,cleanEnum:()=>bbt,cleanRegex:()=>V6,clone:()=>ma,cloneDef:()=>ibt,createTransparentProxy:()=>ubt,defineLazy:()=>vr,esc:()=>$O,escapeRegex:()=>Tl,extend:()=>fbt,finalizeIssue:()=>qa,floatSafeRemainder:()=>jj,getElementAtPath:()=>obt,getEnumValues:()=>z6,getLengthableOrigin:()=>j6,getParsedType:()=>lbt,getSizableOrigin:()=>G6,hexToUint8Array:()=>xbt,isObject:()=>nb,isPlainObject:()=>Jg,issue:()=>Ox,joinValues:()=>be,jsonStringifyReplacer:()=>Cx,merge:()=>hbt,mergeDefs:()=>am,normalizeParams:()=>We,nullish:()=>jg,numKeys:()=>cbt,objectClone:()=>nbt,omit:()=>pbt,optionalKeys:()=>Qj,parsedType:()=>He,partial:()=>gbt,pick:()=>dbt,prefixIssues:()=>Hc,primitiveTypes:()=>Kj,promiseAllObject:()=>sbt,propertyKeyTypes:()=>H6,randomString:()=>abt,required:()=>ybt,safeExtend:()=>mbt,shallowClone:()=>Wj,slugify:()=>qj,stringifyPrimitive:()=>ze,uint8ArrayToBase64:()=>T2e,uint8ArrayToBase64url:()=>_bt,uint8ArrayToHex:()=>Sbt,unwrapMessage:()=>F6});function Yyt(t){return t}function Zyt(t){return t}function ebt(t){}function tbt(t){throw new Error("Unexpected value in exhaustive check")}function rbt(t){}function z6(t){let e=Object.values(t).filter(n=>typeof n=="number");return Object.entries(t).filter(([n,i])=>e.indexOf(+n)===-1).map(([n,i])=>i)}function be(t,e="|"){return t.map(r=>ze(r)).join(e)}function Cx(t,e){return typeof e=="bigint"?e.toString():e}function Nx(t){return{get value(){{let r=t();return Object.defineProperty(this,"value",{value:r}),r}throw new Error("cached value already set")}}}function jg(t){return t==null}function V6(t){let e=t.startsWith("^")?1:0,r=t.endsWith("$")?t.length-1:t.length;return t.slice(e,r)}function jj(t,e){let r=(t.toString().split(".")[1]||"").length,n=e.toString(),i=(n.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(n)){let c=n.match(/\d?e-(\d?)/);c?.[1]&&(i=Number.parseInt(c[1]))}let o=r>i?r:i,s=Number.parseInt(t.toFixed(o).replace(".","")),a=Number.parseInt(e.toFixed(o).replace(".",""));return s%a/10**o}var A2e=Symbol("evaluating");function vr(t,e,r){let n;Object.defineProperty(t,e,{get(){if(n!==A2e)return n===void 0&&(n=A2e,n=r()),n},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function nbt(t){return Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t))}function qg(t,e,r){Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!0,configurable:!0})}function am(...t){let e={};for(let r of t){let n=Object.getOwnPropertyDescriptors(r);Object.assign(e,n)}return Object.defineProperties({},e)}function ibt(t){return am(t._zod.def)}function obt(t,e){return e?e.reduce((r,n)=>r?.[n],t):t}function sbt(t){let e=Object.keys(t),r=e.map(n=>t[n]);return Promise.all(r).then(n=>{let i={};for(let o=0;o<e.length;o++)i[e[o]]=n[o];return i})}function abt(t=10){let e="abcdefghijklmnopqrstuvwxyz",r="";for(let n=0;n<t;n++)r+=e[Math.floor(Math.random()*e.length)];return r}function $O(t){return JSON.stringify(t)}function qj(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}var UO="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function nb(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}var Jj=Nx(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{let t=Function;return new t(""),!0}catch{return!1}});function Jg(t){if(nb(t)===!1)return!1;let e=t.constructor;if(e===void 0||typeof e!="function")return!0;let r=e.prototype;return!(nb(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function Wj(t){return Jg(t)?{...t}:Array.isArray(t)?[...t]:t}function cbt(t){let e=0;for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}var lbt=t=>{let e=typeof t;switch(e){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(t)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(t)?"array":t===null?"null":t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?"promise":typeof Map<"u"&&t instanceof Map?"map":typeof Set<"u"&&t instanceof Set?"set":typeof Date<"u"&&t instanceof Date?"date":typeof File<"u"&&t instanceof File?"file":"object";default:throw new Error(`Unknown data type: ${e}`)}},H6=new Set(["string","number","symbol"]),Kj=new Set(["string","number","bigint","boolean","symbol","undefined"]);function Tl(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ma(t,e,r){let n=new t._zod.constr(e??t._zod.def);return(!e||r?.parent)&&(n._zod.parent=t),n}function We(t){let e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function ubt(t){let e;return new Proxy({},{get(r,n,i){return e??(e=t()),Reflect.get(e,n,i)},set(r,n,i,o){return e??(e=t()),Reflect.set(e,n,i,o)},has(r,n){return e??(e=t()),Reflect.has(e,n)},deleteProperty(r,n){return e??(e=t()),Reflect.deleteProperty(e,n)},ownKeys(r){return e??(e=t()),Reflect.ownKeys(e)},getOwnPropertyDescriptor(r,n){return e??(e=t()),Reflect.getOwnPropertyDescriptor(e,n)},defineProperty(r,n,i){return e??(e=t()),Reflect.defineProperty(e,n,i)}})}function ze(t){return typeof t=="bigint"?t.toString()+"n":typeof t=="string"?`"${t}"`:`${t}`}function Qj(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}var Xj={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},Yj={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function dbt(t,e){let r=t._zod.def,n=r.checks;if(n&&n.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");let o=am(t._zod.def,{get shape(){let s={};for(let a in e){if(!(a in r.shape))throw new Error(`Unrecognized key: "${a}"`);e[a]&&(s[a]=r.shape[a])}return qg(this,"shape",s),s},checks:[]});return ma(t,o)}function pbt(t,e){let r=t._zod.def,n=r.checks;if(n&&n.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");let o=am(t._zod.def,{get shape(){let s={...t._zod.def.shape};for(let a in e){if(!(a in r.shape))throw new Error(`Unrecognized key: "${a}"`);e[a]&&delete s[a]}return qg(this,"shape",s),s},checks:[]});return ma(t,o)}function fbt(t,e){if(!Jg(e))throw new Error("Invalid input to extend: expected a plain object");let r=t._zod.def.checks;if(r&&r.length>0){let o=t._zod.def.shape;for(let s in e)if(Object.getOwnPropertyDescriptor(o,s)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}let i=am(t._zod.def,{get shape(){let o={...t._zod.def.shape,...e};return qg(this,"shape",o),o}});return ma(t,i)}function mbt(t,e){if(!Jg(e))throw new Error("Invalid input to safeExtend: expected a plain object");let r=am(t._zod.def,{get shape(){let n={...t._zod.def.shape,...e};return qg(this,"shape",n),n}});return ma(t,r)}function hbt(t,e){let r=am(t._zod.def,{get shape(){let n={...t._zod.def.shape,...e._zod.def.shape};return qg(this,"shape",n),n},get catchall(){return e._zod.def.catchall},checks:[]});return ma(t,r)}function gbt(t,e,r){let i=e._zod.def.checks;if(i&&i.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");let s=am(e._zod.def,{get shape(){let a=e._zod.def.shape,c={...a};if(r)for(let l in r){if(!(l in a))throw new Error(`Unrecognized key: "${l}"`);r[l]&&(c[l]=t?new t({type:"optional",innerType:a[l]}):a[l])}else for(let l in a)c[l]=t?new t({type:"optional",innerType:a[l]}):a[l];return qg(this,"shape",c),c},checks:[]});return ma(e,s)}function ybt(t,e,r){let n=am(e._zod.def,{get shape(){let i=e._zod.def.shape,o={...i};if(r)for(let s in r){if(!(s in o))throw new Error(`Unrecognized key: "${s}"`);r[s]&&(o[s]=new t({type:"nonoptional",innerType:i[s]}))}else for(let s in i)o[s]=new t({type:"nonoptional",innerType:i[s]});return qg(this,"shape",o),o}});return ma(e,n)}function Wg(t,e=0){if(t.aborted===!0)return!0;for(let r=e;r<t.issues.length;r++)if(t.issues[r]?.continue!==!0)return!0;return!1}function Hc(t,e){return e.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(t),r})}function F6(t){return typeof t=="string"?t:t?.message}function qa(t,e,r){let n={...t,path:t.path??[]};if(!t.message){let i=F6(t.inst?._zod.def?.error?.(t))??F6(e?.error?.(t))??F6(r.customError?.(t))??F6(r.localeError?.(t))??"Invalid input";n.message=i}return delete n.inst,delete n.continue,e?.reportInput||delete n.input,n}function G6(t){return t instanceof Set?"set":t instanceof Map?"map":t instanceof File?"file":"unknown"}function j6(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function He(t){let e=typeof t;switch(e){case"number":return Number.isNaN(t)?"nan":"number";case"object":{if(t===null)return"null";if(Array.isArray(t))return"array";let r=t;if(r&&Object.getPrototypeOf(r)!==Object.prototype&&"constructor"in r&&r.constructor)return r.constructor.name}}return e}function Ox(...t){let[e,r,n]=t;return typeof e=="string"?{message:e,code:"custom",input:r,inst:n}:{...e}}function bbt(t){return Object.entries(t).filter(([e,r])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])}function E2e(t){let e=atob(t),r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r}function T2e(t){let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function vbt(t){let e=t.replace(/-/g,"+").replace(/_/g,"/"),r="=".repeat((4-e.length%4)%4);return E2e(e+r)}function _bt(t){return T2e(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function xbt(t){let e=t.replace(/^0x/,"");if(e.length%2!==0)throw new Error("Invalid hex string length");let r=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)r[n/2]=Number.parseInt(e.slice(n,n+2),16);return r}function Sbt(t){return Array.from(t).map(e=>e.toString(16).padStart(2,"0")).join("")}var Gj=class{constructor(...e){}};var R2e=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,Cx,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},q6=se("$ZodError",R2e),Ja=se("$ZodError",R2e,{Parent:Error});function J6(t,e=r=>r.message){let r={},n=[];for(let i of t.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}function W6(t,e=r=>r.message){let r={_errors:[]},n=i=>{for(let o of i.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(s=>n({issues:s}));else if(o.code==="invalid_key")n({issues:o.issues});else if(o.code==="invalid_element")n({issues:o.issues});else if(o.path.length===0)r._errors.push(e(o));else{let s=r,a=0;for(;a<o.path.length;){let c=o.path[a];a===o.path.length-1?(s[c]=s[c]||{_errors:[]},s[c]._errors.push(e(o))):s[c]=s[c]||{_errors:[]},s=s[c],a++}}};return n(t),r}function Zj(t,e=r=>r.message){let r={errors:[]},n=(i,o=[])=>{var s,a;for(let c of i.issues)if(c.code==="invalid_union"&&c.errors.length)c.errors.map(l=>n({issues:l},c.path));else if(c.code==="invalid_key")n({issues:c.issues},c.path);else if(c.code==="invalid_element")n({issues:c.issues},c.path);else{let l=[...o,...c.path];if(l.length===0){r.errors.push(e(c));continue}let u=r,d=0;for(;d<l.length;){let p=l[d],f=d===l.length-1;typeof p=="string"?(u.properties??(u.properties={}),(s=u.properties)[p]??(s[p]={errors:[]}),u=u.properties[p]):(u.items??(u.items=[]),(a=u.items)[p]??(a[p]={errors:[]}),u=u.items[p]),f&&u.errors.push(e(c)),d++}}};return n(t),r}function I2e(t){let e=[],r=t.map(n=>typeof n=="object"?n.key:n);for(let n of r)typeof n=="number"?e.push(`[${n}]`):typeof n=="symbol"?e.push(`[${JSON.stringify(String(n))}]`):/[^\w$]/.test(n)?e.push(`[${JSON.stringify(n)}]`):(e.length&&e.push("."),e.push(n));return e.join("")}function eq(t){let e=[],r=[...t.issues].sort((n,i)=>(n.path??[]).length-(i.path??[]).length);for(let n of r)e.push(`\u2716 ${n.message}`),n.path?.length&&e.push(`  \u2192 at ${I2e(n.path)}`);return e.join(`
`)}var Px=t=>(e,r,n,i)=>{let o=n?Object.assign(n,{async:!1}):{async:!1},s=e._zod.run({value:r,issues:[]},o);if(s instanceof Promise)throw new _d;if(s.issues.length){let a=new(i?.Err??t)(s.issues.map(c=>qa(c,o,Ti())));throw UO(a,i?.callee),a}return s.value},FO=Px(Ja),kx=t=>async(e,r,n,i)=>{let o=n?Object.assign(n,{async:!0}):{async:!0},s=e._zod.run({value:r,issues:[]},o);if(s instanceof Promise&&(s=await s),s.issues.length){let a=new(i?.Err??t)(s.issues.map(c=>qa(c,o,Ti())));throw UO(a,i?.callee),a}return s.value},zO=kx(Ja),Dx=t=>(e,r,n)=>{let i=n?{...n,async:!1}:{async:!1},o=e._zod.run({value:r,issues:[]},i);if(o instanceof Promise)throw new _d;return o.issues.length?{success:!1,error:new(t??q6)(o.issues.map(s=>qa(s,i,Ti())))}:{success:!0,data:o.value}},tq=Dx(Ja),Mx=t=>async(e,r,n)=>{let i=n?Object.assign(n,{async:!0}):{async:!0},o=e._zod.run({value:r,issues:[]},i);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new t(o.issues.map(s=>qa(s,i,Ti())))}:{success:!0,data:o.value}},rq=Mx(Ja),VO=t=>(e,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Px(t)(e,r,i)},Abt=VO(Ja),HO=t=>(e,r,n)=>Px(t)(e,r,n),Ebt=HO(Ja),GO=t=>async(e,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return kx(t)(e,r,i)},Tbt=GO(Ja),jO=t=>async(e,r,n)=>kx(t)(e,r,n),Rbt=jO(Ja),qO=t=>(e,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Dx(t)(e,r,i)},Ibt=qO(Ja),JO=t=>(e,r,n)=>Dx(t)(e,r,n),Cbt=JO(Ja),WO=t=>async(e,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Mx(t)(e,r,i)},Nbt=WO(Ja),KO=t=>async(e,r,n)=>Mx(t)(e,r,n),Obt=KO(Ja);var Rl={};wr(Rl,{base64:()=>bq,base64url:()=>QO,bigint:()=>Aq,boolean:()=>Tq,browserEmail:()=>Ubt,cidrv4:()=>gq,cidrv6:()=>yq,cuid:()=>nq,cuid2:()=>iq,date:()=>_q,datetime:()=>Sq,domain:()=>Vbt,duration:()=>lq,e164:()=>vq,email:()=>dq,emoji:()=>pq,extendedDuration:()=>Pbt,guid:()=>uq,hex:()=>Hbt,hostname:()=>zbt,html5Email:()=>Lbt,idnEmail:()=>$bt,integer:()=>Eq,ipv4:()=>fq,ipv6:()=>mq,ksuid:()=>aq,lowercase:()=>Cq,mac:()=>hq,md5_base64:()=>jbt,md5_base64url:()=>qbt,md5_hex:()=>Gbt,nanoid:()=>cq,null:()=>Rq,number:()=>XO,rfc5322Email:()=>Bbt,sha1_base64:()=>Wbt,sha1_base64url:()=>Kbt,sha1_hex:()=>Jbt,sha256_base64:()=>Xbt,sha256_base64url:()=>Ybt,sha256_hex:()=>Qbt,sha384_base64:()=>evt,sha384_base64url:()=>tvt,sha384_hex:()=>Zbt,sha512_base64:()=>nvt,sha512_base64url:()=>ivt,sha512_hex:()=>rvt,string:()=>wq,time:()=>xq,ulid:()=>oq,undefined:()=>Iq,unicodeEmail:()=>C2e,uppercase:()=>Nq,uuid:()=>ib,uuid4:()=>kbt,uuid6:()=>Dbt,uuid7:()=>Mbt,xid:()=>sq});var nq=/^[cC][^\s-]{8,}$/,iq=/^[0-9a-z]+$/,oq=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,sq=/^[0-9a-vA-V]{20}$/,aq=/^[A-Za-z0-9]{27}$/,cq=/^[a-zA-Z0-9_-]{21}$/,lq=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Pbt=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,uq=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,ib=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,kbt=ib(4),Dbt=ib(6),Mbt=ib(7),dq=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Lbt=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Bbt=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,C2e=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,$bt=C2e,Ubt=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Fbt="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function pq(){return new RegExp(Fbt,"u")}var fq=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,mq=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,hq=t=>{let e=Tl(t??":");return new RegExp(`^(?:[0-9A-F]{2}${e}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${e}){5}[0-9a-f]{2}$`)},gq=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,yq=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,bq=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,QO=/^[A-Za-z0-9_-]*$/,zbt=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,Vbt=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,vq=/^\+[1-9]\d{6,14}$/,N2e="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",_q=new RegExp(`^${N2e}$`);function O2e(t){let e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function xq(t){return new RegExp(`^${O2e(t)}$`)}function Sq(t){let e=O2e({precision:t.precision}),r=["Z"];t.local&&r.push(""),t.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let n=`${e}(?:${r.join("|")})`;return new RegExp(`^${N2e}T(?:${n})$`)}var wq=t=>{let e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},Aq=/^-?\d+n?$/,Eq=/^-?\d+$/,XO=/^-?\d+(?:\.\d+)?$/,Tq=/^(?:true|false)$/i,Rq=/^null$/i;var Iq=/^undefined$/i;var Cq=/^[^A-Z]*$/,Nq=/^[^a-z]*$/,Hbt=/^[0-9a-fA-F]*$/;function K6(t,e){return new RegExp(`^[A-Za-z0-9+/]{${t}}${e}$`)}function Q6(t){return new RegExp(`^[A-Za-z0-9_-]{${t}}$`)}var Gbt=/^[0-9a-fA-F]{32}$/,jbt=K6(22,"=="),qbt=Q6(22),Jbt=/^[0-9a-fA-F]{40}$/,Wbt=K6(27,"="),Kbt=Q6(27),Qbt=/^[0-9a-fA-F]{64}$/,Xbt=K6(43,"="),Ybt=Q6(43),Zbt=/^[0-9a-fA-F]{96}$/,evt=K6(64,""),tvt=Q6(64),rvt=/^[0-9a-fA-F]{128}$/,nvt=K6(86,"=="),ivt=Q6(86);var Cn=se("$ZodCheck",(t,e)=>{var r;t._zod??(t._zod={}),t._zod.def=e,(r=t._zod).onattach??(r.onattach=[])}),k2e={number:"number",bigint:"bigint",object:"date"},YO=se("$ZodCheckLessThan",(t,e)=>{Cn.init(t,e);let r=k2e[typeof e.value];t._zod.onattach.push(n=>{let i=n._zod.bag,o=(e.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<o&&(e.inclusive?i.maximum=e.value:i.exclusiveMaximum=e.value)}),t._zod.check=n=>{(e.inclusive?n.value<=e.value:n.value<e.value)||n.issues.push({origin:r,code:"too_big",maximum:typeof e.value=="object"?e.value.getTime():e.value,input:n.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),ZO=se("$ZodCheckGreaterThan",(t,e)=>{Cn.init(t,e);let r=k2e[typeof e.value];t._zod.onattach.push(n=>{let i=n._zod.bag,o=(e.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>o&&(e.inclusive?i.minimum=e.value:i.exclusiveMinimum=e.value)}),t._zod.check=n=>{(e.inclusive?n.value>=e.value:n.value>e.value)||n.issues.push({origin:r,code:"too_small",minimum:typeof e.value=="object"?e.value.getTime():e.value,input:n.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),Oq=se("$ZodCheckMultipleOf",(t,e)=>{Cn.init(t,e),t._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=e.value)}),t._zod.check=r=>{if(typeof r.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%e.value===BigInt(0):jj(r.value,e.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:e.value,input:r.value,inst:t,continue:!e.abort})}}),Pq=se("$ZodCheckNumberFormat",(t,e)=>{Cn.init(t,e),e.format=e.format||"float64";let r=e.format?.includes("int"),n=r?"int":"number",[i,o]=Xj[e.format];t._zod.onattach.push(s=>{let a=s._zod.bag;a.format=e.format,a.minimum=i,a.maximum=o,r&&(a.pattern=Eq)}),t._zod.check=s=>{let a=s.value;if(r){if(!Number.isInteger(a)){s.issues.push({expected:n,format:e.format,code:"invalid_type",continue:!1,input:a,inst:t});return}if(!Number.isSafeInteger(a)){a>0?s.issues.push({input:a,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:n,inclusive:!0,continue:!e.abort}):s.issues.push({input:a,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:n,inclusive:!0,continue:!e.abort});return}}a<i&&s.issues.push({origin:"number",input:a,code:"too_small",minimum:i,inclusive:!0,inst:t,continue:!e.abort}),a>o&&s.issues.push({origin:"number",input:a,code:"too_big",maximum:o,inclusive:!0,inst:t,continue:!e.abort})}}),kq=se("$ZodCheckBigIntFormat",(t,e)=>{Cn.init(t,e);let[r,n]=Yj[e.format];t._zod.onattach.push(i=>{let o=i._zod.bag;o.format=e.format,o.minimum=r,o.maximum=n}),t._zod.check=i=>{let o=i.value;o<r&&i.issues.push({origin:"bigint",input:o,code:"too_small",minimum:r,inclusive:!0,inst:t,continue:!e.abort}),o>n&&i.issues.push({origin:"bigint",input:o,code:"too_big",maximum:n,inclusive:!0,inst:t,continue:!e.abort})}}),Dq=se("$ZodCheckMaxSize",(t,e)=>{var r;Cn.init(t,e),(r=t._zod.def).when??(r.when=n=>{let i=n.value;return!jg(i)&&i.size!==void 0}),t._zod.onattach.push(n=>{let i=n._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(n._zod.bag.maximum=e.maximum)}),t._zod.check=n=>{let i=n.value;i.size<=e.maximum||n.issues.push({origin:G6(i),code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),Mq=se("$ZodCheckMinSize",(t,e)=>{var r;Cn.init(t,e),(r=t._zod.def).when??(r.when=n=>{let i=n.value;return!jg(i)&&i.size!==void 0}),t._zod.onattach.push(n=>{let i=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(n._zod.bag.minimum=e.minimum)}),t._zod.check=n=>{let i=n.value;i.size>=e.minimum||n.issues.push({origin:G6(i),code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),Lq=se("$ZodCheckSizeEquals",(t,e)=>{var r;Cn.init(t,e),(r=t._zod.def).when??(r.when=n=>{let i=n.value;return!jg(i)&&i.size!==void 0}),t._zod.onattach.push(n=>{let i=n._zod.bag;i.minimum=e.size,i.maximum=e.size,i.size=e.size}),t._zod.check=n=>{let i=n.value,o=i.size;if(o===e.size)return;let s=o>e.size;n.issues.push({origin:G6(i),...s?{code:"too_big",maximum:e.size}:{code:"too_small",minimum:e.size},inclusive:!0,exact:!0,input:n.value,inst:t,continue:!e.abort})}}),Bq=se("$ZodCheckMaxLength",(t,e)=>{var r;Cn.init(t,e),(r=t._zod.def).when??(r.when=n=>{let i=n.value;return!jg(i)&&i.length!==void 0}),t._zod.onattach.push(n=>{let i=n._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(n._zod.bag.maximum=e.maximum)}),t._zod.check=n=>{let i=n.value;if(i.length<=e.maximum)return;let s=j6(i);n.issues.push({origin:s,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),$q=se("$ZodCheckMinLength",(t,e)=>{var r;Cn.init(t,e),(r=t._zod.def).when??(r.when=n=>{let i=n.value;return!jg(i)&&i.length!==void 0}),t._zod.onattach.push(n=>{let i=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(n._zod.bag.minimum=e.minimum)}),t._zod.check=n=>{let i=n.value;if(i.length>=e.minimum)return;let s=j6(i);n.issues.push({origin:s,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),Uq=se("$ZodCheckLengthEquals",(t,e)=>{var r;Cn.init(t,e),(r=t._zod.def).when??(r.when=n=>{let i=n.value;return!jg(i)&&i.length!==void 0}),t._zod.onattach.push(n=>{let i=n._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),t._zod.check=n=>{let i=n.value,o=i.length;if(o===e.length)return;let s=j6(i),a=o>e.length;n.issues.push({origin:s,...a?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:n.value,inst:t,continue:!e.abort})}}),Lx=se("$ZodCheckStringFormat",(t,e)=>{var r,n;Cn.init(t,e),t._zod.onattach.push(i=>{let o=i._zod.bag;o.format=e.format,e.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(e.pattern))}),e.pattern?(r=t._zod).check??(r.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(n=t._zod).check??(n.check=()=>{})}),Fq=se("$ZodCheckRegex",(t,e)=>{Lx.init(t,e),t._zod.check=r=>{e.pattern.lastIndex=0,!e.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),zq=se("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=Cq),Lx.init(t,e)}),Vq=se("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=Nq),Lx.init(t,e)}),Hq=se("$ZodCheckIncludes",(t,e)=>{Cn.init(t,e);let r=Tl(e.includes),n=new RegExp(typeof e.position=="number"?`^.{${e.position}}${r}`:r);e.pattern=n,t._zod.onattach.push(i=>{let o=i._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),t._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:t,continue:!e.abort})}}),Gq=se("$ZodCheckStartsWith",(t,e)=>{Cn.init(t,e);let r=new RegExp(`^${Tl(e.prefix)}.*`);e.pattern??(e.pattern=r),t._zod.onattach.push(n=>{let i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),t._zod.check=n=>{n.value.startsWith(e.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:n.value,inst:t,continue:!e.abort})}}),jq=se("$ZodCheckEndsWith",(t,e)=>{Cn.init(t,e);let r=new RegExp(`.*${Tl(e.suffix)}$`);e.pattern??(e.pattern=r),t._zod.onattach.push(n=>{let i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),t._zod.check=n=>{n.value.endsWith(e.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:n.value,inst:t,continue:!e.abort})}});function P2e(t,e,r){t.issues.length&&e.issues.push(...Hc(r,t.issues))}var qq=se("$ZodCheckProperty",(t,e)=>{Cn.init(t,e),t._zod.check=r=>{let n=e.schema._zod.run({value:r.value[e.property],issues:[]},{});if(n instanceof Promise)return n.then(i=>P2e(i,r,e.property));P2e(n,r,e.property)}}),Jq=se("$ZodCheckMimeType",(t,e)=>{Cn.init(t,e);let r=new Set(e.mime);t._zod.onattach.push(n=>{n._zod.bag.mime=e.mime}),t._zod.check=n=>{r.has(n.value.type)||n.issues.push({code:"invalid_value",values:e.mime,input:n.value.type,inst:t,continue:!e.abort})}}),Wq=se("$ZodCheckOverwrite",(t,e)=>{Cn.init(t,e),t._zod.check=r=>{r.value=e.tx(r.value)}});var X6=class{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}let n=e.split(`
`).filter(s=>s),i=Math.min(...n.map(s=>s.length-s.trimStart().length)),o=n.map(s=>s.slice(i)).map(s=>" ".repeat(this.indent*2)+s);for(let s of o)this.content.push(s)}compile(){let e=Function,r=this?.args,i=[...(this?.content??[""]).map(o=>`  ${o}`)];return new e(...r,i.join(`
`))}};var Kq={major:4,minor:3,patch:6};var tr=se("$ZodType",(t,e)=>{var r;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=Kq;let n=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&n.unshift(t);for(let i of n)for(let o of i._zod.onattach)o(t);if(n.length===0)(r=t._zod).deferred??(r.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{let i=(s,a,c)=>{let l=Wg(s),u;for(let d of a){if(d._zod.def.when){if(!d._zod.def.when(s))continue}else if(l)continue;let p=s.issues.length,f=d._zod.check(s);if(f instanceof Promise&&c?.async===!1)throw new _d;if(u||f instanceof Promise)u=(u??Promise.resolve()).then(async()=>{await f,s.issues.length!==p&&(l||(l=Wg(s,p)))});else{if(s.issues.length===p)continue;l||(l=Wg(s,p))}}return u?u.then(()=>s):s},o=(s,a,c)=>{if(Wg(s))return s.aborted=!0,s;let l=i(a,n,c);if(l instanceof Promise){if(c.async===!1)throw new _d;return l.then(u=>t._zod.parse(u,c))}return t._zod.parse(l,c)};t._zod.run=(s,a)=>{if(a.skipChecks)return t._zod.parse(s,a);if(a.direction==="backward"){let l=t._zod.parse({value:s.value,issues:[]},{...a,skipChecks:!0});return l instanceof Promise?l.then(u=>o(u,s,a)):o(l,s,a)}let c=t._zod.parse(s,a);if(c instanceof Promise){if(a.async===!1)throw new _d;return c.then(l=>i(l,n,a))}return i(c,n,a)}}vr(t,"~standard",()=>({validate:i=>{try{let o=tq(t,i);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return rq(t,i).then(s=>s.success?{value:s.data}:{issues:s.error?.issues})}},vendor:"zod",version:1}))}),ob=se("$ZodString",(t,e)=>{tr.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??wq(t._zod.bag),t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:t}),r}}),_n=se("$ZodStringFormat",(t,e)=>{Lx.init(t,e),ob.init(t,e)}),Xq=se("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=uq),_n.init(t,e)}),Yq=se("$ZodUUID",(t,e)=>{if(e.version){let n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(n===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=ib(n))}else e.pattern??(e.pattern=ib());_n.init(t,e)}),Zq=se("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=dq),_n.init(t,e)}),eJ=se("$ZodURL",(t,e)=>{_n.init(t,e),t._zod.check=r=>{try{let n=r.value.trim(),i=new URL(n);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:r.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:r.value,inst:t,continue:!e.abort})),e.normalize?r.value=i.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:t,continue:!e.abort})}}}),tJ=se("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=pq()),_n.init(t,e)}),rJ=se("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=cq),_n.init(t,e)}),nJ=se("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=nq),_n.init(t,e)}),iJ=se("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=iq),_n.init(t,e)}),oJ=se("$ZodULID",(t,e)=>{e.pattern??(e.pattern=oq),_n.init(t,e)}),sJ=se("$ZodXID",(t,e)=>{e.pattern??(e.pattern=sq),_n.init(t,e)}),aJ=se("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=aq),_n.init(t,e)}),cJ=se("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=Sq(e)),_n.init(t,e)}),lJ=se("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=_q),_n.init(t,e)}),uJ=se("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=xq(e)),_n.init(t,e)}),dJ=se("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=lq),_n.init(t,e)}),pJ=se("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=fq),_n.init(t,e),t._zod.bag.format="ipv4"}),fJ=se("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=mq),_n.init(t,e),t._zod.bag.format="ipv6",t._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:t,continue:!e.abort})}}}),mJ=se("$ZodMAC",(t,e)=>{e.pattern??(e.pattern=hq(e.delimiter)),_n.init(t,e),t._zod.bag.format="mac"}),hJ=se("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=gq),_n.init(t,e)}),gJ=se("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=yq),_n.init(t,e),t._zod.check=r=>{let n=r.value.split("/");try{if(n.length!==2)throw new Error;let[i,o]=n;if(!o)throw new Error;let s=Number(o);if(`${s}`!==o)throw new Error;if(s<0||s>128)throw new Error;new URL(`http://[${i}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:t,continue:!e.abort})}}});function yJ(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}var bJ=se("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=bq),_n.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=r=>{yJ(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:t,continue:!e.abort})}});function q2e(t){if(!QO.test(t))return!1;let e=t.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=e.padEnd(Math.ceil(e.length/4)*4,"=");return yJ(r)}var vJ=se("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=QO),_n.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=r=>{q2e(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:t,continue:!e.abort})}}),_J=se("$ZodE164",(t,e)=>{e.pattern??(e.pattern=vq),_n.init(t,e)});function J2e(t,e=null){try{let r=t.split(".");if(r.length!==3)return!1;let[n]=r;if(!n)return!1;let i=JSON.parse(atob(n));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}var xJ=se("$ZodJWT",(t,e)=>{_n.init(t,e),t._zod.check=r=>{J2e(r.value,e.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:t,continue:!e.abort})}}),SJ=se("$ZodCustomStringFormat",(t,e)=>{_n.init(t,e),t._zod.check=r=>{e.fn(r.value)||r.issues.push({code:"invalid_format",format:e.format,input:r.value,inst:t,continue:!e.abort})}}),o7=se("$ZodNumber",(t,e)=>{tr.init(t,e),t._zod.pattern=t._zod.bag.pattern??XO,t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=Number(r.value)}catch{}let i=r.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return r;let o=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:i,inst:t,...o?{received:o}:{}}),r}}),wJ=se("$ZodNumberFormat",(t,e)=>{Pq.init(t,e),o7.init(t,e)}),Y6=se("$ZodBoolean",(t,e)=>{tr.init(t,e),t._zod.pattern=Tq,t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=!!r.value}catch{}let i=r.value;return typeof i=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:t}),r}}),s7=se("$ZodBigInt",(t,e)=>{tr.init(t,e),t._zod.pattern=Aq,t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=BigInt(r.value)}catch{}return typeof r.value=="bigint"||r.issues.push({expected:"bigint",code:"invalid_type",input:r.value,inst:t}),r}}),AJ=se("$ZodBigIntFormat",(t,e)=>{kq.init(t,e),s7.init(t,e)}),EJ=se("$ZodSymbol",(t,e)=>{tr.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;return typeof i=="symbol"||r.issues.push({expected:"symbol",code:"invalid_type",input:i,inst:t}),r}}),TJ=se("$ZodUndefined",(t,e)=>{tr.init(t,e),t._zod.pattern=Iq,t._zod.values=new Set([void 0]),t._zod.optin="optional",t._zod.optout="optional",t._zod.parse=(r,n)=>{let i=r.value;return typeof i>"u"||r.issues.push({expected:"undefined",code:"invalid_type",input:i,inst:t}),r}}),RJ=se("$ZodNull",(t,e)=>{tr.init(t,e),t._zod.pattern=Rq,t._zod.values=new Set([null]),t._zod.parse=(r,n)=>{let i=r.value;return i===null||r.issues.push({expected:"null",code:"invalid_type",input:i,inst:t}),r}}),IJ=se("$ZodAny",(t,e)=>{tr.init(t,e),t._zod.parse=r=>r}),CJ=se("$ZodUnknown",(t,e)=>{tr.init(t,e),t._zod.parse=r=>r}),NJ=se("$ZodNever",(t,e)=>{tr.init(t,e),t._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:t}),r)}),OJ=se("$ZodVoid",(t,e)=>{tr.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;return typeof i>"u"||r.issues.push({expected:"void",code:"invalid_type",input:i,inst:t}),r}}),PJ=se("$ZodDate",(t,e)=>{tr.init(t,e),t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=new Date(r.value)}catch{}let i=r.value,o=i instanceof Date;return o&&!Number.isNaN(i.getTime())||r.issues.push({expected:"date",code:"invalid_type",input:i,...o?{received:"Invalid Date"}:{},inst:t}),r}});function M2e(t,e,r){t.issues.length&&e.issues.push(...Hc(r,t.issues)),e.value[r]=t.value}var kJ=se("$ZodArray",(t,e)=>{tr.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;if(!Array.isArray(i))return r.issues.push({expected:"array",code:"invalid_type",input:i,inst:t}),r;r.value=Array(i.length);let o=[];for(let s=0;s<i.length;s++){let a=i[s],c=e.element._zod.run({value:a,issues:[]},n);c instanceof Promise?o.push(c.then(l=>M2e(l,r,s))):M2e(c,r,s)}return o.length?Promise.all(o).then(()=>r):r}});function i7(t,e,r,n,i){if(t.issues.length){if(i&&!(r in n))return;e.issues.push(...Hc(r,t.issues))}t.value===void 0?r in n&&(e.value[r]=void 0):e.value[r]=t.value}function W2e(t){let e=Object.keys(t.shape);for(let n of e)if(!t.shape?.[n]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);let r=Qj(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(r)}}function K2e(t,e,r,n,i,o){let s=[],a=i.keySet,c=i.catchall._zod,l=c.def.type,u=c.optout==="optional";for(let d in e){if(a.has(d))continue;if(l==="never"){s.push(d);continue}let p=c.run({value:e[d],issues:[]},n);p instanceof Promise?t.push(p.then(f=>i7(f,r,d,e,u))):i7(p,r,d,e,u)}return s.length&&r.issues.push({code:"unrecognized_keys",keys:s,input:e,inst:o}),t.length?Promise.all(t).then(()=>r):r}var Q2e=se("$ZodObject",(t,e)=>{if(tr.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){let a=e.shape;Object.defineProperty(e,"shape",{get:()=>{let c={...a};return Object.defineProperty(e,"shape",{value:c}),c}})}let n=Nx(()=>W2e(e));vr(t._zod,"propValues",()=>{let a=e.shape,c={};for(let l in a){let u=a[l]._zod;if(u.values){c[l]??(c[l]=new Set);for(let d of u.values)c[l].add(d)}}return c});let i=nb,o=e.catchall,s;t._zod.parse=(a,c)=>{s??(s=n.value);let l=a.value;if(!i(l))return a.issues.push({expected:"object",code:"invalid_type",input:l,inst:t}),a;a.value={};let u=[],d=s.shape;for(let p of s.keys){let f=d[p],h=f._zod.optout==="optional",m=f._zod.run({value:l[p],issues:[]},c);m instanceof Promise?u.push(m.then(g=>i7(g,a,p,l,h))):i7(m,a,p,l,h)}return o?K2e(u,l,a,c,n.value,t):u.length?Promise.all(u).then(()=>a):a}}),DJ=se("$ZodObjectJIT",(t,e)=>{Q2e.init(t,e);let r=t._zod.parse,n=Nx(()=>W2e(e)),i=p=>{let f=new X6(["shape","payload","ctx"]),h=n.value,m=x=>{let E=$O(x);return`shape[${E}]._zod.run({ value: input[${E}], issues: [] }, ctx)`};f.write("const input = payload.value;");let g=Object.create(null),b=0;for(let x of h.keys)g[x]=`key_${b++}`;f.write("const newResult = {};");for(let x of h.keys){let E=g[x],R=$O(x),D=p[x]?._zod?.optout==="optional";f.write(`const ${E} = ${m(x)};`),D?f.write(`
        if (${E}.issues.length) {
          if (${R} in input) {
            payload.issues = payload.issues.concat(${E}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${R}, ...iss.path] : [${R}]
            })));
          }
        }
        
        if (${E}.value === undefined) {
          if (${R} in input) {
            newResult[${R}] = undefined;
          }
        } else {
          newResult[${R}] = ${E}.value;
        }
        
      `):f.write(`
        if (${E}.issues.length) {
          payload.issues = payload.issues.concat(${E}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${R}, ...iss.path] : [${R}]
          })));
        }
        
        if (${E}.value === undefined) {
          if (${R} in input) {
            newResult[${R}] = undefined;
          }
        } else {
          newResult[${R}] = ${E}.value;
        }
        
      `)}f.write("payload.value = newResult;"),f.write("return payload;");let _=f.compile();return(x,E)=>_(p,x,E)},o,s=nb,a=!U6.jitless,l=a&&Jj.value,u=e.catchall,d;t._zod.parse=(p,f)=>{d??(d=n.value);let h=p.value;return s(h)?a&&l&&f?.async===!1&&f.jitless!==!0?(o||(o=i(e.shape)),p=o(p,f),u?K2e([],h,p,f,d,t):p):r(p,f):(p.issues.push({expected:"object",code:"invalid_type",input:h,inst:t}),p)}});function L2e(t,e,r,n){for(let o of t)if(o.issues.length===0)return e.value=o.value,e;let i=t.filter(o=>!Wg(o));return i.length===1?(e.value=i[0].value,i[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:r,errors:t.map(o=>o.issues.map(s=>qa(s,n,Ti())))}),e)}var Z6=se("$ZodUnion",(t,e)=>{tr.init(t,e),vr(t._zod,"optin",()=>e.options.some(i=>i._zod.optin==="optional")?"optional":void 0),vr(t._zod,"optout",()=>e.options.some(i=>i._zod.optout==="optional")?"optional":void 0),vr(t._zod,"values",()=>{if(e.options.every(i=>i._zod.values))return new Set(e.options.flatMap(i=>Array.from(i._zod.values)))}),vr(t._zod,"pattern",()=>{if(e.options.every(i=>i._zod.pattern)){let i=e.options.map(o=>o._zod.pattern);return new RegExp(`^(${i.map(o=>V6(o.source)).join("|")})$`)}});let r=e.options.length===1,n=e.options[0]._zod.run;t._zod.parse=(i,o)=>{if(r)return n(i,o);let s=!1,a=[];for(let c of e.options){let l=c._zod.run({value:i.value,issues:[]},o);if(l instanceof Promise)a.push(l),s=!0;else{if(l.issues.length===0)return l;a.push(l)}}return s?Promise.all(a).then(c=>L2e(c,i,t,o)):L2e(a,i,t,o)}});function B2e(t,e,r,n){let i=t.filter(o=>o.issues.length===0);return i.length===1?(e.value=i[0].value,e):(i.length===0?e.issues.push({code:"invalid_union",input:e.value,inst:r,errors:t.map(o=>o.issues.map(s=>qa(s,n,Ti())))}):e.issues.push({code:"invalid_union",input:e.value,inst:r,errors:[],inclusive:!1}),e)}var MJ=se("$ZodXor",(t,e)=>{Z6.init(t,e),e.inclusive=!1;let r=e.options.length===1,n=e.options[0]._zod.run;t._zod.parse=(i,o)=>{if(r)return n(i,o);let s=!1,a=[];for(let c of e.options){let l=c._zod.run({value:i.value,issues:[]},o);l instanceof Promise?(a.push(l),s=!0):a.push(l)}return s?Promise.all(a).then(c=>B2e(c,i,t,o)):B2e(a,i,t,o)}}),LJ=se("$ZodDiscriminatedUnion",(t,e)=>{e.inclusive=!1,Z6.init(t,e);let r=t._zod.parse;vr(t._zod,"propValues",()=>{let i={};for(let o of e.options){let s=o._zod.propValues;if(!s||Object.keys(s).length===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(o)}"`);for(let[a,c]of Object.entries(s)){i[a]||(i[a]=new Set);for(let l of c)i[a].add(l)}}return i});let n=Nx(()=>{let i=e.options,o=new Map;for(let s of i){let a=s._zod.propValues?.[e.discriminator];if(!a||a.size===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(s)}"`);for(let c of a){if(o.has(c))throw new Error(`Duplicate discriminator value "${String(c)}"`);o.set(c,s)}}return o});t._zod.parse=(i,o)=>{let s=i.value;if(!nb(s))return i.issues.push({code:"invalid_type",expected:"object",input:s,inst:t}),i;let a=n.value.get(s?.[e.discriminator]);return a?a._zod.run(i,o):e.unionFallback?r(i,o):(i.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:e.discriminator,input:s,path:[e.discriminator],inst:t}),i)}}),BJ=se("$ZodIntersection",(t,e)=>{tr.init(t,e),t._zod.parse=(r,n)=>{let i=r.value,o=e.left._zod.run({value:i,issues:[]},n),s=e.right._zod.run({value:i,issues:[]},n);return o instanceof Promise||s instanceof Promise?Promise.all([o,s]).then(([c,l])=>$2e(r,c,l)):$2e(r,o,s)}});function Qq(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Jg(t)&&Jg(e)){let r=Object.keys(e),n=Object.keys(t).filter(o=>r.indexOf(o)!==-1),i={...t,...e};for(let o of n){let s=Qq(t[o],e[o]);if(!s.valid)return{valid:!1,mergeErrorPath:[o,...s.mergeErrorPath]};i[o]=s.data}return{valid:!0,data:i}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};let r=[];for(let n=0;n<t.length;n++){let i=t[n],o=e[n],s=Qq(i,o);if(!s.valid)return{valid:!1,mergeErrorPath:[n,...s.mergeErrorPath]};r.push(s.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function $2e(t,e,r){let n=new Map,i;for(let a of e.issues)if(a.code==="unrecognized_keys"){i??(i=a);for(let c of a.keys)n.has(c)||n.set(c,{}),n.get(c).l=!0}else t.issues.push(a);for(let a of r.issues)if(a.code==="unrecognized_keys")for(let c of a.keys)n.has(c)||n.set(c,{}),n.get(c).r=!0;else t.issues.push(a);let o=[...n].filter(([,a])=>a.l&&a.r).map(([a])=>a);if(o.length&&i&&t.issues.push({...i,keys:o}),Wg(t))return t;let s=Qq(e.value,r.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return t.value=s.data,t}var a7=se("$ZodTuple",(t,e)=>{tr.init(t,e);let r=e.items;t._zod.parse=(n,i)=>{let o=n.value;if(!Array.isArray(o))return n.issues.push({input:o,inst:t,expected:"tuple",code:"invalid_type"}),n;n.value=[];let s=[],a=[...r].reverse().findIndex(u=>u._zod.optin!=="optional"),c=a===-1?0:r.length-a;if(!e.rest){let u=o.length>r.length,d=o.length<c-1;if(u||d)return n.issues.push({...u?{code:"too_big",maximum:r.length,inclusive:!0}:{code:"too_small",minimum:r.length},input:o,inst:t,origin:"array"}),n}let l=-1;for(let u of r){if(l++,l>=o.length&&l>=c)continue;let d=u._zod.run({value:o[l],issues:[]},i);d instanceof Promise?s.push(d.then(p=>e7(p,n,l))):e7(d,n,l)}if(e.rest){let u=o.slice(r.length);for(let d of u){l++;let p=e.rest._zod.run({value:d,issues:[]},i);p instanceof Promise?s.push(p.then(f=>e7(f,n,l))):e7(p,n,l)}}return s.length?Promise.all(s).then(()=>n):n}});function e7(t,e,r){t.issues.length&&e.issues.push(...Hc(r,t.issues)),e.value[r]=t.value}var $J=se("$ZodRecord",(t,e)=>{tr.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;if(!Jg(i))return r.issues.push({expected:"record",code:"invalid_type",input:i,inst:t}),r;let o=[],s=e.keyType._zod.values;if(s){r.value={};let a=new Set;for(let l of s)if(typeof l=="string"||typeof l=="number"||typeof l=="symbol"){a.add(typeof l=="number"?l.toString():l);let u=e.valueType._zod.run({value:i[l],issues:[]},n);u instanceof Promise?o.push(u.then(d=>{d.issues.length&&r.issues.push(...Hc(l,d.issues)),r.value[l]=d.value})):(u.issues.length&&r.issues.push(...Hc(l,u.issues)),r.value[l]=u.value)}let c;for(let l in i)a.has(l)||(c=c??[],c.push(l));c&&c.length>0&&r.issues.push({code:"unrecognized_keys",input:i,inst:t,keys:c})}else{r.value={};for(let a of Reflect.ownKeys(i)){if(a==="__proto__")continue;let c=e.keyType._zod.run({value:a,issues:[]},n);if(c instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof a=="string"&&XO.test(a)&&c.issues.length){let d=e.keyType._zod.run({value:Number(a),issues:[]},n);if(d instanceof Promise)throw new Error("Async schemas not supported in object keys currently");d.issues.length===0&&(c=d)}if(c.issues.length){e.mode==="loose"?r.value[a]=i[a]:r.issues.push({code:"invalid_key",origin:"record",issues:c.issues.map(d=>qa(d,n,Ti())),input:a,path:[a],inst:t});continue}let u=e.valueType._zod.run({value:i[a],issues:[]},n);u instanceof Promise?o.push(u.then(d=>{d.issues.length&&r.issues.push(...Hc(a,d.issues)),r.value[c.value]=d.value})):(u.issues.length&&r.issues.push(...Hc(a,u.issues)),r.value[c.value]=u.value)}}return o.length?Promise.all(o).then(()=>r):r}}),UJ=se("$ZodMap",(t,e)=>{tr.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;if(!(i instanceof Map))return r.issues.push({expected:"map",code:"invalid_type",input:i,inst:t}),r;let o=[];r.value=new Map;for(let[s,a]of i){let c=e.keyType._zod.run({value:s,issues:[]},n),l=e.valueType._zod.run({value:a,issues:[]},n);c instanceof Promise||l instanceof Promise?o.push(Promise.all([c,l]).then(([u,d])=>{U2e(u,d,r,s,i,t,n)})):U2e(c,l,r,s,i,t,n)}return o.length?Promise.all(o).then(()=>r):r}});function U2e(t,e,r,n,i,o,s){t.issues.length&&(H6.has(typeof n)?r.issues.push(...Hc(n,t.issues)):r.issues.push({code:"invalid_key",origin:"map",input:i,inst:o,issues:t.issues.map(a=>qa(a,s,Ti()))})),e.issues.length&&(H6.has(typeof n)?r.issues.push(...Hc(n,e.issues)):r.issues.push({origin:"map",code:"invalid_element",input:i,inst:o,key:n,issues:e.issues.map(a=>qa(a,s,Ti()))})),r.value.set(t.value,e.value)}var FJ=se("$ZodSet",(t,e)=>{tr.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;if(!(i instanceof Set))return r.issues.push({input:i,inst:t,expected:"set",code:"invalid_type"}),r;let o=[];r.value=new Set;for(let s of i){let a=e.valueType._zod.run({value:s,issues:[]},n);a instanceof Promise?o.push(a.then(c=>F2e(c,r))):F2e(a,r)}return o.length?Promise.all(o).then(()=>r):r}});function F2e(t,e){t.issues.length&&e.issues.push(...t.issues),e.value.add(t.value)}var zJ=se("$ZodEnum",(t,e)=>{tr.init(t,e);let r=z6(e.entries),n=new Set(r);t._zod.values=n,t._zod.pattern=new RegExp(`^(${r.filter(i=>H6.has(typeof i)).map(i=>typeof i=="string"?Tl(i):i.toString()).join("|")})$`),t._zod.parse=(i,o)=>{let s=i.value;return n.has(s)||i.issues.push({code:"invalid_value",values:r,input:s,inst:t}),i}}),VJ=se("$ZodLiteral",(t,e)=>{if(tr.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");let r=new Set(e.values);t._zod.values=r,t._zod.pattern=new RegExp(`^(${e.values.map(n=>typeof n=="string"?Tl(n):n?Tl(n.toString()):String(n)).join("|")})$`),t._zod.parse=(n,i)=>{let o=n.value;return r.has(o)||n.issues.push({code:"invalid_value",values:e.values,input:o,inst:t}),n}}),HJ=se("$ZodFile",(t,e)=>{tr.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;return i instanceof File||r.issues.push({expected:"file",code:"invalid_type",input:i,inst:t}),r}}),GJ=se("$ZodTransform",(t,e)=>{tr.init(t,e),t._zod.parse=(r,n)=>{if(n.direction==="backward")throw new Gg(t.constructor.name);let i=e.transform(r.value,r);if(n.async)return(i instanceof Promise?i:Promise.resolve(i)).then(s=>(r.value=s,r));if(i instanceof Promise)throw new _d;return r.value=i,r}});function z2e(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}var c7=se("$ZodOptional",(t,e)=>{tr.init(t,e),t._zod.optin="optional",t._zod.optout="optional",vr(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),vr(t._zod,"pattern",()=>{let r=e.innerType._zod.pattern;return r?new RegExp(`^(${V6(r.source)})?$`):void 0}),t._zod.parse=(r,n)=>{if(e.innerType._zod.optin==="optional"){let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>z2e(o,r.value)):z2e(i,r.value)}return r.value===void 0?r:e.innerType._zod.run(r,n)}}),jJ=se("$ZodExactOptional",(t,e)=>{c7.init(t,e),vr(t._zod,"values",()=>e.innerType._zod.values),vr(t._zod,"pattern",()=>e.innerType._zod.pattern),t._zod.parse=(r,n)=>e.innerType._zod.run(r,n)}),qJ=se("$ZodNullable",(t,e)=>{tr.init(t,e),vr(t._zod,"optin",()=>e.innerType._zod.optin),vr(t._zod,"optout",()=>e.innerType._zod.optout),vr(t._zod,"pattern",()=>{let r=e.innerType._zod.pattern;return r?new RegExp(`^(${V6(r.source)}|null)$`):void 0}),vr(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(r,n)=>r.value===null?r:e.innerType._zod.run(r,n)}),JJ=se("$ZodDefault",(t,e)=>{tr.init(t,e),t._zod.optin="optional",vr(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>{if(n.direction==="backward")return e.innerType._zod.run(r,n);if(r.value===void 0)return r.value=e.defaultValue,r;let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>V2e(o,e)):V2e(i,e)}});function V2e(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}var WJ=se("$ZodPrefault",(t,e)=>{tr.init(t,e),t._zod.optin="optional",vr(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=e.defaultValue),e.innerType._zod.run(r,n))}),KJ=se("$ZodNonOptional",(t,e)=>{tr.init(t,e),vr(t._zod,"values",()=>{let r=e.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),t._zod.parse=(r,n)=>{let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>H2e(o,t)):H2e(i,t)}});function H2e(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}var QJ=se("$ZodSuccess",(t,e)=>{tr.init(t,e),t._zod.parse=(r,n)=>{if(n.direction==="backward")throw new Gg("ZodSuccess");let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>(r.value=o.issues.length===0,r)):(r.value=i.issues.length===0,r)}}),XJ=se("$ZodCatch",(t,e)=>{tr.init(t,e),vr(t._zod,"optin",()=>e.innerType._zod.optin),vr(t._zod,"optout",()=>e.innerType._zod.optout),vr(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>{if(n.direction==="backward")return e.innerType._zod.run(r,n);let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>(r.value=o.value,o.issues.length&&(r.value=e.catchValue({...r,error:{issues:o.issues.map(s=>qa(s,n,Ti()))},input:r.value}),r.issues=[]),r)):(r.value=i.value,i.issues.length&&(r.value=e.catchValue({...r,error:{issues:i.issues.map(o=>qa(o,n,Ti()))},input:r.value}),r.issues=[]),r)}}),YJ=se("$ZodNaN",(t,e)=>{tr.init(t,e),t._zod.parse=(r,n)=>((typeof r.value!="number"||!Number.isNaN(r.value))&&r.issues.push({input:r.value,inst:t,expected:"nan",code:"invalid_type"}),r)}),ZJ=se("$ZodPipe",(t,e)=>{tr.init(t,e),vr(t._zod,"values",()=>e.in._zod.values),vr(t._zod,"optin",()=>e.in._zod.optin),vr(t._zod,"optout",()=>e.out._zod.optout),vr(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(r,n)=>{if(n.direction==="backward"){let o=e.out._zod.run(r,n);return o instanceof Promise?o.then(s=>t7(s,e.in,n)):t7(o,e.in,n)}let i=e.in._zod.run(r,n);return i instanceof Promise?i.then(o=>t7(o,e.out,n)):t7(i,e.out,n)}});function t7(t,e,r){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},r)}var e3=se("$ZodCodec",(t,e)=>{tr.init(t,e),vr(t._zod,"values",()=>e.in._zod.values),vr(t._zod,"optin",()=>e.in._zod.optin),vr(t._zod,"optout",()=>e.out._zod.optout),vr(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(r,n)=>{if((n.direction||"forward")==="forward"){let o=e.in._zod.run(r,n);return o instanceof Promise?o.then(s=>r7(s,e,n)):r7(o,e,n)}else{let o=e.out._zod.run(r,n);return o instanceof Promise?o.then(s=>r7(s,e,n)):r7(o,e,n)}}});function r7(t,e,r){if(t.issues.length)return t.aborted=!0,t;if((r.direction||"forward")==="forward"){let i=e.transform(t.value,t);return i instanceof Promise?i.then(o=>n7(t,o,e.out,r)):n7(t,i,e.out,r)}else{let i=e.reverseTransform(t.value,t);return i instanceof Promise?i.then(o=>n7(t,o,e.in,r)):n7(t,i,e.in,r)}}function n7(t,e,r,n){return t.issues.length?(t.aborted=!0,t):r._zod.run({value:e,issues:t.issues},n)}var eW=se("$ZodReadonly",(t,e)=>{tr.init(t,e),vr(t._zod,"propValues",()=>e.innerType._zod.propValues),vr(t._zod,"values",()=>e.innerType._zod.values),vr(t._zod,"optin",()=>e.innerType?._zod?.optin),vr(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(r,n)=>{if(n.direction==="backward")return e.innerType._zod.run(r,n);let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(G2e):G2e(i)}});function G2e(t){return t.value=Object.freeze(t.value),t}var tW=se("$ZodTemplateLiteral",(t,e)=>{tr.init(t,e);let r=[];for(let n of e.parts)if(typeof n=="object"&&n!==null){if(!n._zod.pattern)throw new Error(`Invalid template literal part, no pattern found: ${[...n._zod.traits].shift()}`);let i=n._zod.pattern instanceof RegExp?n._zod.pattern.source:n._zod.pattern;if(!i)throw new Error(`Invalid template literal part: ${n._zod.traits}`);let o=i.startsWith("^")?1:0,s=i.endsWith("$")?i.length-1:i.length;r.push(i.slice(o,s))}else if(n===null||Kj.has(typeof n))r.push(Tl(`${n}`));else throw new Error(`Invalid template literal part: ${n}`);t._zod.pattern=new RegExp(`^${r.join("")}$`),t._zod.parse=(n,i)=>typeof n.value!="string"?(n.issues.push({input:n.value,inst:t,expected:"string",code:"invalid_type"}),n):(t._zod.pattern.lastIndex=0,t._zod.pattern.test(n.value)||n.issues.push({input:n.value,inst:t,code:"invalid_format",format:e.format??"template_literal",pattern:t._zod.pattern.source}),n)}),rW=se("$ZodFunction",(t,e)=>(tr.init(t,e),t._def=e,t._zod.def=e,t.implement=r=>{if(typeof r!="function")throw new Error("implement() must be called with a function");return function(...n){let i=t._def.input?FO(t._def.input,n):n,o=Reflect.apply(r,this,i);return t._def.output?FO(t._def.output,o):o}},t.implementAsync=r=>{if(typeof r!="function")throw new Error("implementAsync() must be called with a function");return async function(...n){let i=t._def.input?await zO(t._def.input,n):n,o=await Reflect.apply(r,this,i);return t._def.output?await zO(t._def.output,o):o}},t._zod.parse=(r,n)=>typeof r.value!="function"?(r.issues.push({code:"invalid_type",expected:"function",input:r.value,inst:t}),r):(t._def.output&&t._def.output._zod.def.type==="promise"?r.value=t.implementAsync(r.value):r.value=t.implement(r.value),r),t.input=(...r)=>{let n=t.constructor;return Array.isArray(r[0])?new n({type:"function",input:new a7({type:"tuple",items:r[0],rest:r[1]}),output:t._def.output}):new n({type:"function",input:r[0],output:t._def.output})},t.output=r=>{let n=t.constructor;return new n({type:"function",input:t._def.input,output:r})},t)),nW=se("$ZodPromise",(t,e)=>{tr.init(t,e),t._zod.parse=(r,n)=>Promise.resolve(r.value).then(i=>e.innerType._zod.run({value:i,issues:[]},n))}),iW=se("$ZodLazy",(t,e)=>{tr.init(t,e),vr(t._zod,"innerType",()=>e.getter()),vr(t._zod,"pattern",()=>t._zod.innerType?._zod?.pattern),vr(t._zod,"propValues",()=>t._zod.innerType?._zod?.propValues),vr(t._zod,"optin",()=>t._zod.innerType?._zod?.optin??void 0),vr(t._zod,"optout",()=>t._zod.innerType?._zod?.optout??void 0),t._zod.parse=(r,n)=>t._zod.innerType._zod.run(r,n)}),oW=se("$ZodCustom",(t,e)=>{Cn.init(t,e),tr.init(t,e),t._zod.parse=(r,n)=>r,t._zod.check=r=>{let n=r.value,i=e.fn(n);if(i instanceof Promise)return i.then(o=>j2e(o,r,n,t));j2e(i,r,n,t)}});function j2e(t,e,r,n){if(!t){let i={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(i.params=n._zod.def.params),e.issues.push(Ox(i))}}var r3={};wr(r3,{ar:()=>X2e,az:()=>Y2e,be:()=>e_e,bg:()=>t_e,ca:()=>r_e,cs:()=>n_e,da:()=>i_e,de:()=>o_e,en:()=>l7,eo:()=>s_e,es:()=>a_e,fa:()=>c_e,fi:()=>l_e,fr:()=>u_e,frCA:()=>d_e,he:()=>p_e,hu:()=>f_e,hy:()=>h_e,id:()=>g_e,is:()=>y_e,it:()=>b_e,ja:()=>v_e,ka:()=>__e,kh:()=>x_e,km:()=>u7,ko:()=>S_e,lt:()=>A_e,mk:()=>E_e,ms:()=>T_e,nl:()=>R_e,no:()=>I_e,ota:()=>C_e,pl:()=>O_e,ps:()=>N_e,pt:()=>P_e,ru:()=>D_e,sl:()=>M_e,sv:()=>L_e,ta:()=>B_e,th:()=>$_e,tr:()=>U_e,ua:()=>F_e,uk:()=>d7,ur:()=>z_e,uz:()=>V_e,vi:()=>H_e,yo:()=>q_e,zhCN:()=>G_e,zhTW:()=>j_e});var svt=()=>{let t={string:{unit:"\u062D\u0631\u0641",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},file:{unit:"\u0628\u0627\u064A\u062A",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},array:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},set:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"}};function e(i){return t[i]??null}let r={regex:"\u0645\u062F\u062E\u0644",email:"\u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",url:"\u0631\u0627\u0628\u0637",emoji:"\u0625\u064A\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u064A\u062E \u0648\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",date:"\u062A\u0627\u0631\u064A\u062E \u0628\u0645\u0639\u064A\u0627\u0631 ISO",time:"\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",duration:"\u0645\u062F\u0629 \u0628\u0645\u0639\u064A\u0627\u0631 ISO",ipv4:"\u0639\u0646\u0648\u0627\u0646 IPv4",ipv6:"\u0639\u0646\u0648\u0627\u0646 IPv6",cidrv4:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv4",cidrv6:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv6",base64:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64-encoded",base64url:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64url-encoded",json_string:"\u0646\u064E\u0635 \u0639\u0644\u0649 \u0647\u064A\u0626\u0629 JSON",e164:"\u0631\u0642\u0645 \u0647\u0627\u062A\u0641 \u0628\u0645\u0639\u064A\u0627\u0631 E.164",jwt:"JWT",template_literal:"\u0645\u062F\u062E\u0644"},n={nan:"NaN"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 instanceof ${i.expected}\u060C \u0648\u0644\u0643\u0646 \u062A\u0645 \u0625\u062F\u062E\u0627\u0644 ${a}`:`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${o}\u060C \u0648\u0644\u0643\u0646 \u062A\u0645 \u0625\u062F\u062E\u0627\u0644 ${a}`}case"invalid_value":return i.values.length===1?`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${ze(i.values[0])}`:`\u0627\u062E\u062A\u064A\u0627\u0631 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062A\u0648\u0642\u0639 \u0627\u0646\u062A\u0642\u0627\u0621 \u0623\u062D\u062F \u0647\u0630\u0647 \u0627\u0644\u062E\u064A\u0627\u0631\u0627\u062A: ${be(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?` \u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${i.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${o} ${i.maximum.toString()} ${s.unit??"\u0639\u0646\u0635\u0631"}`:`\u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${i.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${o} ${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${i.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${o} ${i.minimum.toString()} ${s.unit}`:`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${i.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${o} ${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0628\u062F\u0623 \u0628\u0640 "${i.prefix}"`:o.format==="ends_with"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0646\u062A\u0647\u064A \u0628\u0640 "${o.suffix}"`:o.format==="includes"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u062A\u0636\u0645\u0651\u064E\u0646 "${o.includes}"`:o.format==="regex"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0637\u0627\u0628\u0642 \u0627\u0644\u0646\u0645\u0637 ${o.pattern}`:`${r[o.format]??i.format} \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644`}case"not_multiple_of":return`\u0631\u0642\u0645 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0645\u0646 \u0645\u0636\u0627\u0639\u0641\u0627\u062A ${i.divisor}`;case"unrecognized_keys":return`\u0645\u0639\u0631\u0641${i.keys.length>1?"\u0627\u062A":""} \u063A\u0631\u064A\u0628${i.keys.length>1?"\u0629":""}: ${be(i.keys,"\u060C ")}`;case"invalid_key":return`\u0645\u0639\u0631\u0641 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${i.origin}`;case"invalid_union":return"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644";case"invalid_element":return`\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${i.origin}`;default:return"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644"}}};function X2e(){return{localeError:svt()}}var avt=()=>{let t={string:{unit:"simvol",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"element",verb:"olmal\u0131d\u0131r"},set:{unit:"element",verb:"olmal\u0131d\u0131r"}};function e(i){return t[i]??null}let r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},n={nan:"NaN"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n instanceof ${i.expected}, daxil olan ${a}`:`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${o}, daxil olan ${a}`}case"invalid_value":return i.values.length===1?`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${ze(i.values[0])}`:`Yanl\u0131\u015F se\xE7im: a\u015Fa\u011F\u0131dak\u0131lardan biri olmal\u0131d\u0131r: ${be(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${i.origin??"d\u0259y\u0259r"} ${o}${i.maximum.toString()} ${s.unit??"element"}`:`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${i.origin??"d\u0259y\u0259r"} ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${i.origin} ${o}${i.minimum.toString()} ${s.unit}`:`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${i.origin} ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Yanl\u0131\u015F m\u0259tn: "${o.prefix}" il\u0259 ba\u015Flamal\u0131d\u0131r`:o.format==="ends_with"?`Yanl\u0131\u015F m\u0259tn: "${o.suffix}" il\u0259 bitm\u0259lidir`:o.format==="includes"?`Yanl\u0131\u015F m\u0259tn: "${o.includes}" daxil olmal\u0131d\u0131r`:o.format==="regex"?`Yanl\u0131\u015F m\u0259tn: ${o.pattern} \u015Fablonuna uy\u011Fun olmal\u0131d\u0131r`:`Yanl\u0131\u015F ${r[o.format]??i.format}`}case"not_multiple_of":return`Yanl\u0131\u015F \u0259d\u0259d: ${i.divisor} il\u0259 b\xF6l\xFCn\u0259 bil\u0259n olmal\u0131d\u0131r`;case"unrecognized_keys":return`Tan\u0131nmayan a\xE7ar${i.keys.length>1?"lar":""}: ${be(i.keys,", ")}`;case"invalid_key":return`${i.origin} daxilind\u0259 yanl\u0131\u015F a\xE7ar`;case"invalid_union":return"Yanl\u0131\u015F d\u0259y\u0259r";case"invalid_element":return`${i.origin} daxilind\u0259 yanl\u0131\u015F d\u0259y\u0259r`;default:return"Yanl\u0131\u015F d\u0259y\u0259r"}}};function Y2e(){return{localeError:avt()}}function Z2e(t,e,r,n){let i=Math.abs(t),o=i%10,s=i%100;return s>=11&&s<=19?n:o===1?e:o>=2&&o<=4?r:n}var cvt=()=>{let t={string:{unit:{one:"\u0441\u0456\u043C\u0432\u0430\u043B",few:"\u0441\u0456\u043C\u0432\u0430\u043B\u044B",many:"\u0441\u0456\u043C\u0432\u0430\u043B\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u044B",many:"\u0431\u0430\u0439\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"}};function e(i){return t[i]??null}let r={regex:"\u0443\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0430\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0456 \u0447\u0430\u0441",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0447\u0430\u0441",duration:"ISO \u043F\u0440\u0430\u0446\u044F\u0433\u043B\u0430\u0441\u0446\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0430\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0430\u0441",cidrv4:"IPv4 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",base64:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64",base64url:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64url",json_string:"JSON \u0440\u0430\u0434\u043E\u043A",e164:"\u043D\u0443\u043C\u0430\u0440 E.164",jwt:"JWT",template_literal:"\u0443\u0432\u043E\u0434"},n={nan:"NaN",number:"\u043B\u0456\u043A",array:"\u043C\u0430\u0441\u0456\u045E"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u045E\u0441\u044F instanceof ${i.expected}, \u0430\u0442\u0440\u044B\u043C\u0430\u043D\u0430 ${a}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u045E\u0441\u044F ${o}, \u0430\u0442\u0440\u044B\u043C\u0430\u043D\u0430 ${a}`}case"invalid_value":return i.values.length===1?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F ${ze(i.values[0])}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0432\u0430\u0440\u044B\u044F\u043D\u0442: \u0447\u0430\u043A\u0430\u045E\u0441\u044F \u0430\u0434\u0437\u0456\u043D \u0437 ${be(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);if(s){let a=Number(i.maximum),c=Z2e(a,s.unit.one,s.unit.few,s.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${i.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${s.verb} ${o}${i.maximum.toString()} ${c}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${i.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);if(s){let a=Number(i.minimum),c=Z2e(a,s.unit.one,s.unit.few,s.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${i.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${s.verb} ${o}${i.minimum.toString()} ${c}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${i.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u043F\u0430\u0447\u044B\u043D\u0430\u0446\u0446\u0430 \u0437 "${o.prefix}"`:o.format==="ends_with"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u0430\u043A\u0430\u043D\u0447\u0432\u0430\u0446\u0446\u0430 \u043D\u0430 "${o.suffix}"`:o.format==="includes"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u043C\u044F\u0448\u0447\u0430\u0446\u044C "${o.includes}"`:o.format==="regex"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0430\u0434\u043F\u0430\u0432\u044F\u0434\u0430\u0446\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${o.pattern}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B ${r[o.format]??i.format}`}case"not_multiple_of":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043B\u0456\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0431\u044B\u0446\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${i.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u0430\u0437\u043D\u0430\u043D\u044B ${i.keys.length>1?"\u043A\u043B\u044E\u0447\u044B":"\u043A\u043B\u044E\u0447"}: ${be(i.keys,", ")}`;case"invalid_key":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043A\u043B\u044E\u0447 \u0443 ${i.origin}`;case"invalid_union":return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434";case"invalid_element":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u0430\u0435 \u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435 \u045E ${i.origin}`;default:return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434"}}};function e_e(){return{localeError:cvt()}}var lvt=()=>{let t={string:{unit:"\u0441\u0438\u043C\u0432\u043E\u043B\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},file:{unit:"\u0431\u0430\u0439\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},array:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},set:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"}};function e(i){return t[i]??null}let r={regex:"\u0432\u0445\u043E\u0434",email:"\u0438\u043C\u0435\u0439\u043B \u0430\u0434\u0440\u0435\u0441",url:"URL",emoji:"\u0435\u043C\u043E\u0434\u0436\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0432\u0440\u0435\u043C\u0435",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0432\u0440\u0435\u043C\u0435",duration:"ISO \u043F\u0440\u043E\u0434\u044A\u043B\u0436\u0438\u0442\u0435\u043B\u043D\u043E\u0441\u0442",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441",cidrv4:"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",base64:"base64-\u043A\u043E\u0434\u0438\u0440\u0430\u043D \u043D\u0438\u0437",base64url:"base64url-\u043A\u043E\u0434\u0438\u0440\u0430\u043D \u043D\u0438\u0437",json_string:"JSON \u043D\u0438\u0437",e164:"E.164 \u043D\u043E\u043C\u0435\u0440",jwt:"JWT",template_literal:"\u0432\u0445\u043E\u0434"},n={nan:"NaN",number:"\u0447\u0438\u0441\u043B\u043E",array:"\u043C\u0430\u0441\u0438\u0432"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D instanceof ${i.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D ${a}`:`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D ${o}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D ${a}`}case"invalid_value":return i.values.length===1?`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D ${ze(i.values[0])}`:`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430 \u043E\u043F\u0446\u0438\u044F: \u043E\u0447\u0430\u043A\u0432\u0430\u043D\u043E \u0435\u0434\u043D\u043E \u043E\u0442 ${be(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u0422\u0432\u044A\u0440\u0434\u0435 \u0433\u043E\u043B\u044F\u043C\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${i.origin??"\u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442"} \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 ${o}${i.maximum.toString()} ${s.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430"}`:`\u0422\u0432\u044A\u0440\u0434\u0435 \u0433\u043E\u043B\u044F\u043C\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${i.origin??"\u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442"} \u0434\u0430 \u0431\u044A\u0434\u0435 ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u0422\u0432\u044A\u0440\u0434\u0435 \u043C\u0430\u043B\u043A\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${i.origin} \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 ${o}${i.minimum.toString()} ${s.unit}`:`\u0422\u0432\u044A\u0440\u0434\u0435 \u043C\u0430\u043B\u043A\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${i.origin} \u0434\u0430 \u0431\u044A\u0434\u0435 ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;if(o.format==="starts_with")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u0432\u0430 \u0441 "${o.prefix}"`;if(o.format==="ends_with")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0437\u0430\u0432\u044A\u0440\u0448\u0432\u0430 \u0441 "${o.suffix}"`;if(o.format==="includes")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0432\u043A\u043B\u044E\u0447\u0432\u0430 "${o.includes}"`;if(o.format==="regex")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0441\u044A\u0432\u043F\u0430\u0434\u0430 \u0441 ${o.pattern}`;let s="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D";return o.format==="emoji"&&(s="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),o.format==="datetime"&&(s="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),o.format==="date"&&(s="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430"),o.format==="time"&&(s="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),o.format==="duration"&&(s="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430"),`${s} ${r[o.format]??i.format}`}case"not_multiple_of":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E \u0447\u0438\u0441\u043B\u043E: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0431\u044A\u0434\u0435 \u043A\u0440\u0430\u0442\u043D\u043E \u043D\u0430 ${i.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0437\u043F\u043E\u0437\u043D\u0430\u0442${i.keys.length>1?"\u0438":""} \u043A\u043B\u044E\u0447${i.keys.length>1?"\u043E\u0432\u0435":""}: ${be(i.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043A\u043B\u044E\u0447 \u0432 ${i.origin}`;case"invalid_union":return"\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434";case"invalid_element":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430 \u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442 \u0432 ${i.origin}`;default:return"\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434"}}};function t_e(){return{localeError:lvt()}}var uvt=()=>{let t={string:{unit:"car\xE0cters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function e(i){return t[i]??null}let r={regex:"entrada",email:"adre\xE7a electr\xF2nica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adre\xE7a IPv4",ipv6:"adre\xE7a IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"},n={nan:"NaN"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Tipus inv\xE0lid: s'esperava instanceof ${i.expected}, s'ha rebut ${a}`:`Tipus inv\xE0lid: s'esperava ${o}, s'ha rebut ${a}`}case"invalid_value":return i.values.length===1?`Valor inv\xE0lid: s'esperava ${ze(i.values[0])}`:`Opci\xF3 inv\xE0lida: s'esperava una de ${be(i.values," o ")}`;case"too_big":{let o=i.inclusive?"com a m\xE0xim":"menys de",s=e(i.origin);return s?`Massa gran: s'esperava que ${i.origin??"el valor"} contingu\xE9s ${o} ${i.maximum.toString()} ${s.unit??"elements"}`:`Massa gran: s'esperava que ${i.origin??"el valor"} fos ${o} ${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?"com a m\xEDnim":"m\xE9s de",s=e(i.origin);return s?`Massa petit: s'esperava que ${i.origin} contingu\xE9s ${o} ${i.minimum.toString()} ${s.unit}`:`Massa petit: s'esperava que ${i.origin} fos ${o} ${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Format inv\xE0lid: ha de comen\xE7ar amb "${o.prefix}"`:o.format==="ends_with"?`Format inv\xE0lid: ha d'acabar amb "${o.suffix}"`:o.format==="includes"?`Format inv\xE0lid: ha d'incloure "${o.includes}"`:o.format==="regex"?`Format inv\xE0lid: ha de coincidir amb el patr\xF3 ${o.pattern}`:`Format inv\xE0lid per a ${r[o.format]??i.format}`}case"not_multiple_of":return`N\xFAmero inv\xE0lid: ha de ser m\xFAltiple de ${i.divisor}`;case"unrecognized_keys":return`Clau${i.keys.length>1?"s":""} no reconeguda${i.keys.length>1?"s":""}: ${be(i.keys,", ")}`;case"invalid_key":return`Clau inv\xE0lida a ${i.origin}`;case"invalid_union":return"Entrada inv\xE0lida";case"invalid_element":return`Element inv\xE0lid a ${i.origin}`;default:return"Entrada inv\xE0lida"}}};function r_e(){return{localeError:uvt()}}var dvt=()=>{let t={string:{unit:"znak\u016F",verb:"m\xEDt"},file:{unit:"bajt\u016F",verb:"m\xEDt"},array:{unit:"prvk\u016F",verb:"m\xEDt"},set:{unit:"prvk\u016F",verb:"m\xEDt"}};function e(i){return t[i]??null}let r={regex:"regul\xE1rn\xED v\xFDraz",email:"e-mailov\xE1 adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a \u010Das ve form\xE1tu ISO",date:"datum ve form\xE1tu ISO",time:"\u010Das ve form\xE1tu ISO",duration:"doba trv\xE1n\xED ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64",base64url:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64url",json_string:"\u0159et\u011Bzec ve form\xE1tu JSON",e164:"\u010D\xEDslo E.164",jwt:"JWT",template_literal:"vstup"},n={nan:"NaN",number:"\u010D\xEDslo",string:"\u0159et\u011Bzec",function:"funkce",array:"pole"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no instanceof ${i.expected}, obdr\u017Eeno ${a}`:`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${o}, obdr\u017Eeno ${a}`}case"invalid_value":return i.values.length===1?`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${ze(i.values[0])}`:`Neplatn\xE1 mo\u017Enost: o\u010Dek\xE1v\xE1na jedna z hodnot ${be(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${i.origin??"hodnota"} mus\xED m\xEDt ${o}${i.maximum.toString()} ${s.unit??"prvk\u016F"}`:`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${i.origin??"hodnota"} mus\xED b\xFDt ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${i.origin??"hodnota"} mus\xED m\xEDt ${o}${i.minimum.toString()} ${s.unit??"prvk\u016F"}`:`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${i.origin??"hodnota"} mus\xED b\xFDt ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED za\u010D\xEDnat na "${o.prefix}"`:o.format==="ends_with"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED kon\u010Dit na "${o.suffix}"`:o.format==="includes"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED obsahovat "${o.includes}"`:o.format==="regex"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED odpov\xEDdat vzoru ${o.pattern}`:`Neplatn\xFD form\xE1t ${r[o.format]??i.format}`}case"not_multiple_of":return`Neplatn\xE9 \u010D\xEDslo: mus\xED b\xFDt n\xE1sobkem ${i.divisor}`;case"unrecognized_keys":return`Nezn\xE1m\xE9 kl\xED\u010De: ${be(i.keys,", ")}`;case"invalid_key":return`Neplatn\xFD kl\xED\u010D v ${i.origin}`;case"invalid_union":return"Neplatn\xFD vstup";case"invalid_element":return`Neplatn\xE1 hodnota v ${i.origin}`;default:return"Neplatn\xFD vstup"}}};function n_e(){return{localeError:dvt()}}var pvt=()=>{let t={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}};function e(i){return t[i]??null}let r={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkesl\xE6t",date:"ISO-dato",time:"ISO-klokkesl\xE6t",duration:"ISO-varighed",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},n={nan:"NaN",string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"s\xE6t",file:"fil"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Ugyldigt input: forventede instanceof ${i.expected}, fik ${a}`:`Ugyldigt input: forventede ${o}, fik ${a}`}case"invalid_value":return i.values.length===1?`Ugyldig v\xE6rdi: forventede ${ze(i.values[0])}`:`Ugyldigt valg: forventede en af f\xF8lgende ${be(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin),a=n[i.origin]??i.origin;return s?`For stor: forventede ${a??"value"} ${s.verb} ${o} ${i.maximum.toString()} ${s.unit??"elementer"}`:`For stor: forventede ${a??"value"} havde ${o} ${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin),a=n[i.origin]??i.origin;return s?`For lille: forventede ${a} ${s.verb} ${o} ${i.minimum.toString()} ${s.unit}`:`For lille: forventede ${a} havde ${o} ${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Ugyldig streng: skal starte med "${o.prefix}"`:o.format==="ends_with"?`Ugyldig streng: skal ende med "${o.suffix}"`:o.format==="includes"?`Ugyldig streng: skal indeholde "${o.includes}"`:o.format==="regex"?`Ugyldig streng: skal matche m\xF8nsteret ${o.pattern}`:`Ugyldig ${r[o.format]??i.format}`}case"not_multiple_of":return`Ugyldigt tal: skal v\xE6re deleligt med ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Ukendte n\xF8gler":"Ukendt n\xF8gle"}: ${be(i.keys,", ")}`;case"invalid_key":return`Ugyldig n\xF8gle i ${i.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig v\xE6rdi i ${i.origin}`;default:return"Ugyldigt input"}}};function i_e(){return{localeError:pvt()}}var fvt=()=>{let t={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function e(i){return t[i]??null}let r={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"},n={nan:"NaN",number:"Zahl",array:"Array"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Ung\xFCltige Eingabe: erwartet instanceof ${i.expected}, erhalten ${a}`:`Ung\xFCltige Eingabe: erwartet ${o}, erhalten ${a}`}case"invalid_value":return i.values.length===1?`Ung\xFCltige Eingabe: erwartet ${ze(i.values[0])}`:`Ung\xFCltige Option: erwartet eine von ${be(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Zu gro\xDF: erwartet, dass ${i.origin??"Wert"} ${o}${i.maximum.toString()} ${s.unit??"Elemente"} hat`:`Zu gro\xDF: erwartet, dass ${i.origin??"Wert"} ${o}${i.maximum.toString()} ist`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Zu klein: erwartet, dass ${i.origin} ${o}${i.minimum.toString()} ${s.unit} hat`:`Zu klein: erwartet, dass ${i.origin} ${o}${i.minimum.toString()} ist`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Ung\xFCltiger String: muss mit "${o.prefix}" beginnen`:o.format==="ends_with"?`Ung\xFCltiger String: muss mit "${o.suffix}" enden`:o.format==="includes"?`Ung\xFCltiger String: muss "${o.includes}" enthalten`:o.format==="regex"?`Ung\xFCltiger String: muss dem Muster ${o.pattern} entsprechen`:`Ung\xFCltig: ${r[o.format]??i.format}`}case"not_multiple_of":return`Ung\xFCltige Zahl: muss ein Vielfaches von ${i.divisor} sein`;case"unrecognized_keys":return`${i.keys.length>1?"Unbekannte Schl\xFCssel":"Unbekannter Schl\xFCssel"}: ${be(i.keys,", ")}`;case"invalid_key":return`Ung\xFCltiger Schl\xFCssel in ${i.origin}`;case"invalid_union":return"Ung\xFCltige Eingabe";case"invalid_element":return`Ung\xFCltiger Wert in ${i.origin}`;default:return"Ung\xFCltige Eingabe"}}};function o_e(){return{localeError:fvt()}}var mvt=()=>{let t={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"},map:{unit:"entries",verb:"to have"}};function e(i){return t[i]??null}let r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},n={nan:"NaN"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return`Invalid input: expected ${o}, received ${a}`}case"invalid_value":return i.values.length===1?`Invalid input: expected ${ze(i.values[0])}`:`Invalid option: expected one of ${be(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Too big: expected ${i.origin??"value"} to have ${o}${i.maximum.toString()} ${s.unit??"elements"}`:`Too big: expected ${i.origin??"value"} to be ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Too small: expected ${i.origin} to have ${o}${i.minimum.toString()} ${s.unit}`:`Too small: expected ${i.origin} to be ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Invalid string: must start with "${o.prefix}"`:o.format==="ends_with"?`Invalid string: must end with "${o.suffix}"`:o.format==="includes"?`Invalid string: must include "${o.includes}"`:o.format==="regex"?`Invalid string: must match pattern ${o.pattern}`:`Invalid ${r[o.format]??i.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${i.divisor}`;case"unrecognized_keys":return`Unrecognized key${i.keys.length>1?"s":""}: ${be(i.keys,", ")}`;case"invalid_key":return`Invalid key in ${i.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${i.origin}`;default:return"Invalid input"}}};function l7(){return{localeError:mvt()}}var hvt=()=>{let t={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function e(i){return t[i]??null}let r={regex:"enigo",email:"retadreso",url:"URL",emoji:"emo\u011Dio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-da\u016Dro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"},n={nan:"NaN",number:"nombro",array:"tabelo",null:"senvalora"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Nevalida enigo: atendi\u011Dis instanceof ${i.expected}, ricevi\u011Dis ${a}`:`Nevalida enigo: atendi\u011Dis ${o}, ricevi\u011Dis ${a}`}case"invalid_value":return i.values.length===1?`Nevalida enigo: atendi\u011Dis ${ze(i.values[0])}`:`Nevalida opcio: atendi\u011Dis unu el ${be(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Tro granda: atendi\u011Dis ke ${i.origin??"valoro"} havu ${o}${i.maximum.toString()} ${s.unit??"elementojn"}`:`Tro granda: atendi\u011Dis ke ${i.origin??"valoro"} havu ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Tro malgranda: atendi\u011Dis ke ${i.origin} havu ${o}${i.minimum.toString()} ${s.unit}`:`Tro malgranda: atendi\u011Dis ke ${i.origin} estu ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Nevalida karaktraro: devas komenci\u011Di per "${o.prefix}"`:o.format==="ends_with"?`Nevalida karaktraro: devas fini\u011Di per "${o.suffix}"`:o.format==="includes"?`Nevalida karaktraro: devas inkluzivi "${o.includes}"`:o.format==="regex"?`Nevalida karaktraro: devas kongrui kun la modelo ${o.pattern}`:`Nevalida ${r[o.format]??i.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${i.divisor}`;case"unrecognized_keys":return`Nekonata${i.keys.length>1?"j":""} \u015Dlosilo${i.keys.length>1?"j":""}: ${be(i.keys,", ")}`;case"invalid_key":return`Nevalida \u015Dlosilo en ${i.origin}`;case"invalid_union":return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${i.origin}`;default:return"Nevalida enigo"}}};function s_e(){return{localeError:hvt()}}var gvt=()=>{let t={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}};function e(i){return t[i]??null}let r={regex:"entrada",email:"direcci\xF3n de correo electr\xF3nico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duraci\xF3n ISO",ipv4:"direcci\xF3n IPv4",ipv6:"direcci\xF3n IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"},n={nan:"NaN",string:"texto",number:"n\xFAmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"n\xFAmero grande",symbol:"s\xEDmbolo",undefined:"indefinido",null:"nulo",function:"funci\xF3n",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeraci\xF3n",union:"uni\xF3n",literal:"literal",promise:"promesa",void:"vac\xEDo",never:"nunca",unknown:"desconocido",any:"cualquiera"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Entrada inv\xE1lida: se esperaba instanceof ${i.expected}, recibido ${a}`:`Entrada inv\xE1lida: se esperaba ${o}, recibido ${a}`}case"invalid_value":return i.values.length===1?`Entrada inv\xE1lida: se esperaba ${ze(i.values[0])}`:`Opci\xF3n inv\xE1lida: se esperaba una de ${be(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin),a=n[i.origin]??i.origin;return s?`Demasiado grande: se esperaba que ${a??"valor"} tuviera ${o}${i.maximum.toString()} ${s.unit??"elementos"}`:`Demasiado grande: se esperaba que ${a??"valor"} fuera ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin),a=n[i.origin]??i.origin;return s?`Demasiado peque\xF1o: se esperaba que ${a} tuviera ${o}${i.minimum.toString()} ${s.unit}`:`Demasiado peque\xF1o: se esperaba que ${a} fuera ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Cadena inv\xE1lida: debe comenzar con "${o.prefix}"`:o.format==="ends_with"?`Cadena inv\xE1lida: debe terminar en "${o.suffix}"`:o.format==="includes"?`Cadena inv\xE1lida: debe incluir "${o.includes}"`:o.format==="regex"?`Cadena inv\xE1lida: debe coincidir con el patr\xF3n ${o.pattern}`:`Inv\xE1lido ${r[o.format]??i.format}`}case"not_multiple_of":return`N\xFAmero inv\xE1lido: debe ser m\xFAltiplo de ${i.divisor}`;case"unrecognized_keys":return`Llave${i.keys.length>1?"s":""} desconocida${i.keys.length>1?"s":""}: ${be(i.keys,", ")}`;case"invalid_key":return`Llave inv\xE1lida en ${n[i.origin]??i.origin}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido en ${n[i.origin]??i.origin}`;default:return"Entrada inv\xE1lida"}}};function a_e(){return{localeError:gvt()}}var yvt=()=>{let t={string:{unit:"\u06A9\u0627\u0631\u0627\u06A9\u062A\u0631",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},file:{unit:"\u0628\u0627\u06CC\u062A",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},array:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},set:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"}};function e(i){return t[i]??null}let r={regex:"\u0648\u0631\u0648\u062F\u06CC",email:"\u0622\u062F\u0631\u0633 \u0627\u06CC\u0645\u06CC\u0644",url:"URL",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u06CC\u062E \u0648 \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",date:"\u062A\u0627\u0631\u06CC\u062E \u0627\u06CC\u0632\u0648",time:"\u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",duration:"\u0645\u062F\u062A \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",ipv4:"IPv4 \u0622\u062F\u0631\u0633",ipv6:"IPv6 \u0622\u062F\u0631\u0633",cidrv4:"IPv4 \u062F\u0627\u0645\u0646\u0647",cidrv6:"IPv6 \u062F\u0627\u0645\u0646\u0647",base64:"base64-encoded \u0631\u0634\u062A\u0647",base64url:"base64url-encoded \u0631\u0634\u062A\u0647",json_string:"JSON \u0631\u0634\u062A\u0647",e164:"E.164 \u0639\u062F\u062F",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u06CC"},n={nan:"NaN",number:"\u0639\u062F\u062F",array:"\u0622\u0631\u0627\u06CC\u0647"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A instanceof ${i.expected} \u0645\u06CC\u200C\u0628\u0648\u062F\u060C ${a} \u062F\u0631\u06CC\u0627\u0641\u062A \u0634\u062F`:`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${o} \u0645\u06CC\u200C\u0628\u0648\u062F\u060C ${a} \u062F\u0631\u06CC\u0627\u0641\u062A \u0634\u062F`}case"invalid_value":return i.values.length===1?`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${ze(i.values[0])} \u0645\u06CC\u200C\u0628\u0648\u062F`:`\u06AF\u0632\u06CC\u0646\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A \u06CC\u06A9\u06CC \u0627\u0632 ${be(i.values,"|")} \u0645\u06CC\u200C\u0628\u0648\u062F`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${i.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${o}${i.maximum.toString()} ${s.unit??"\u0639\u0646\u0635\u0631"} \u0628\u0627\u0634\u062F`:`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${i.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${o}${i.maximum.toString()} \u0628\u0627\u0634\u062F`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${i.origin} \u0628\u0627\u06CC\u062F ${o}${i.minimum.toString()} ${s.unit} \u0628\u0627\u0634\u062F`:`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${i.origin} \u0628\u0627\u06CC\u062F ${o}${i.minimum.toString()} \u0628\u0627\u0634\u062F`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${o.prefix}" \u0634\u0631\u0648\u0639 \u0634\u0648\u062F`:o.format==="ends_with"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${o.suffix}" \u062A\u0645\u0627\u0645 \u0634\u0648\u062F`:o.format==="includes"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0634\u0627\u0645\u0644 "${o.includes}" \u0628\u0627\u0634\u062F`:o.format==="regex"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 \u0627\u0644\u06AF\u0648\u06CC ${o.pattern} \u0645\u0637\u0627\u0628\u0642\u062A \u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F`:`${r[o.format]??i.format} \u0646\u0627\u0645\u0639\u062A\u0628\u0631`}case"not_multiple_of":return`\u0639\u062F\u062F \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0645\u0636\u0631\u0628 ${i.divisor} \u0628\u0627\u0634\u062F`;case"unrecognized_keys":return`\u06A9\u0644\u06CC\u062F${i.keys.length>1?"\u0647\u0627\u06CC":""} \u0646\u0627\u0634\u0646\u0627\u0633: ${be(i.keys,", ")}`;case"invalid_key":return`\u06A9\u0644\u06CC\u062F \u0646\u0627\u0634\u0646\u0627\u0633 \u062F\u0631 ${i.origin}`;case"invalid_union":return"\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631";case"invalid_element":return`\u0645\u0642\u062F\u0627\u0631 \u0646\u0627\u0645\u0639\u062A\u0628\u0631 \u062F\u0631 ${i.origin}`;default:return"\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631"}}};function c_e(){return{localeError:yvt()}}var bvt=()=>{let t={string:{unit:"merkki\xE4",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"p\xE4iv\xE4m\xE4\xE4r\xE4n"}};function e(i){return t[i]??null}let r={regex:"s\xE4\xE4nn\xF6llinen lauseke",email:"s\xE4hk\xF6postiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-p\xE4iv\xE4m\xE4\xE4r\xE4",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"},n={nan:"NaN"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Virheellinen tyyppi: odotettiin instanceof ${i.expected}, oli ${a}`:`Virheellinen tyyppi: odotettiin ${o}, oli ${a}`}case"invalid_value":return i.values.length===1?`Virheellinen sy\xF6te: t\xE4ytyy olla ${ze(i.values[0])}`:`Virheellinen valinta: t\xE4ytyy olla yksi seuraavista: ${be(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Liian suuri: ${s.subject} t\xE4ytyy olla ${o}${i.maximum.toString()} ${s.unit}`.trim():`Liian suuri: arvon t\xE4ytyy olla ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Liian pieni: ${s.subject} t\xE4ytyy olla ${o}${i.minimum.toString()} ${s.unit}`.trim():`Liian pieni: arvon t\xE4ytyy olla ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Virheellinen sy\xF6te: t\xE4ytyy alkaa "${o.prefix}"`:o.format==="ends_with"?`Virheellinen sy\xF6te: t\xE4ytyy loppua "${o.suffix}"`:o.format==="includes"?`Virheellinen sy\xF6te: t\xE4ytyy sis\xE4lt\xE4\xE4 "${o.includes}"`:o.format==="regex"?`Virheellinen sy\xF6te: t\xE4ytyy vastata s\xE4\xE4nn\xF6llist\xE4 lauseketta ${o.pattern}`:`Virheellinen ${r[o.format]??i.format}`}case"not_multiple_of":return`Virheellinen luku: t\xE4ytyy olla luvun ${i.divisor} monikerta`;case"unrecognized_keys":return`${i.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${be(i.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen sy\xF6te"}}};function l_e(){return{localeError:bvt()}}var vvt=()=>{let t={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function e(i){return t[i]??null}let r={regex:"entr\xE9e",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"},n={nan:"NaN",number:"nombre",array:"tableau"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Entr\xE9e invalide : instanceof ${i.expected} attendu, ${a} re\xE7u`:`Entr\xE9e invalide : ${o} attendu, ${a} re\xE7u`}case"invalid_value":return i.values.length===1?`Entr\xE9e invalide : ${ze(i.values[0])} attendu`:`Option invalide : une valeur parmi ${be(i.values,"|")} attendue`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Trop grand : ${i.origin??"valeur"} doit ${s.verb} ${o}${i.maximum.toString()} ${s.unit??"\xE9l\xE9ment(s)"}`:`Trop grand : ${i.origin??"valeur"} doit \xEAtre ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Trop petit : ${i.origin} doit ${s.verb} ${o}${i.minimum.toString()} ${s.unit}`:`Trop petit : ${i.origin} doit \xEAtre ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Cha\xEEne invalide : doit commencer par "${o.prefix}"`:o.format==="ends_with"?`Cha\xEEne invalide : doit se terminer par "${o.suffix}"`:o.format==="includes"?`Cha\xEEne invalide : doit inclure "${o.includes}"`:o.format==="regex"?`Cha\xEEne invalide : doit correspondre au mod\xE8le ${o.pattern}`:`${r[o.format]??i.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${i.divisor}`;case"unrecognized_keys":return`Cl\xE9${i.keys.length>1?"s":""} non reconnue${i.keys.length>1?"s":""} : ${be(i.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${i.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${i.origin}`;default:return"Entr\xE9e invalide"}}};function u_e(){return{localeError:vvt()}}var _vt=()=>{let t={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function e(i){return t[i]??null}let r={regex:"entr\xE9e",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"},n={nan:"NaN"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Entr\xE9e invalide : attendu instanceof ${i.expected}, re\xE7u ${a}`:`Entr\xE9e invalide : attendu ${o}, re\xE7u ${a}`}case"invalid_value":return i.values.length===1?`Entr\xE9e invalide : attendu ${ze(i.values[0])}`:`Option invalide : attendu l'une des valeurs suivantes ${be(i.values,"|")}`;case"too_big":{let o=i.inclusive?"\u2264":"<",s=e(i.origin);return s?`Trop grand : attendu que ${i.origin??"la valeur"} ait ${o}${i.maximum.toString()} ${s.unit}`:`Trop grand : attendu que ${i.origin??"la valeur"} soit ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?"\u2265":">",s=e(i.origin);return s?`Trop petit : attendu que ${i.origin} ait ${o}${i.minimum.toString()} ${s.unit}`:`Trop petit : attendu que ${i.origin} soit ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Cha\xEEne invalide : doit commencer par "${o.prefix}"`:o.format==="ends_with"?`Cha\xEEne invalide : doit se terminer par "${o.suffix}"`:o.format==="includes"?`Cha\xEEne invalide : doit inclure "${o.includes}"`:o.format==="regex"?`Cha\xEEne invalide : doit correspondre au motif ${o.pattern}`:`${r[o.format]??i.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${i.divisor}`;case"unrecognized_keys":return`Cl\xE9${i.keys.length>1?"s":""} non reconnue${i.keys.length>1?"s":""} : ${be(i.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${i.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${i.origin}`;default:return"Entr\xE9e invalide"}}};function d_e(){return{localeError:_vt()}}var xvt=()=>{let t={string:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA",gender:"f"},number:{label:"\u05DE\u05E1\u05E4\u05E8",gender:"m"},boolean:{label:"\u05E2\u05E8\u05DA \u05D1\u05D5\u05DC\u05D9\u05D0\u05E0\u05D9",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA",gender:"m"},array:{label:"\u05DE\u05E2\u05E8\u05DA",gender:"m"},object:{label:"\u05D0\u05D5\u05D1\u05D9\u05D9\u05E7\u05D8",gender:"m"},null:{label:"\u05E2\u05E8\u05DA \u05E8\u05D9\u05E7 (null)",gender:"m"},undefined:{label:"\u05E2\u05E8\u05DA \u05DC\u05D0 \u05DE\u05D5\u05D2\u05D3\u05E8 (undefined)",gender:"m"},symbol:{label:"\u05E1\u05D9\u05DE\u05D1\u05D5\u05DC (Symbol)",gender:"m"},function:{label:"\u05E4\u05D5\u05E0\u05E7\u05E6\u05D9\u05D4",gender:"f"},map:{label:"\u05DE\u05E4\u05D4 (Map)",gender:"f"},set:{label:"\u05E7\u05D1\u05D5\u05E6\u05D4 (Set)",gender:"f"},file:{label:"\u05E7\u05D5\u05D1\u05E5",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"\u05E2\u05E8\u05DA \u05DC\u05D0 \u05D9\u05D3\u05D5\u05E2",gender:"m"},value:{label:"\u05E2\u05E8\u05DA",gender:"m"}},e={string:{unit:"\u05EA\u05D5\u05D5\u05D9\u05DD",shortLabel:"\u05E7\u05E6\u05E8",longLabel:"\u05D0\u05E8\u05D5\u05DA"},file:{unit:"\u05D1\u05D9\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},array:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},set:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},number:{unit:"",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"}},r=l=>l?t[l]:void 0,n=l=>{let u=r(l);return u?u.label:l??t.unknown.label},i=l=>`\u05D4${n(l)}`,o=l=>(r(l)?.gender??"m")==="f"?"\u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05D9\u05D5\u05EA":"\u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA",s=l=>l?e[l]??null:null,a={regex:{label:"\u05E7\u05DC\u05D8",gender:"m"},email:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05D0\u05D9\u05DE\u05D9\u05D9\u05DC",gender:"f"},url:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05E8\u05E9\u05EA",gender:"f"},emoji:{label:"\u05D0\u05D9\u05DE\u05D5\u05D2'\u05D9",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA \u05D5\u05D6\u05DE\u05DF ISO",gender:"m"},date:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA ISO",gender:"m"},time:{label:"\u05D6\u05DE\u05DF ISO",gender:"m"},duration:{label:"\u05DE\u05E9\u05DA \u05D6\u05DE\u05DF ISO",gender:"m"},ipv4:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv4",gender:"f"},ipv6:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv6",gender:"f"},cidrv4:{label:"\u05D8\u05D5\u05D5\u05D7 IPv4",gender:"m"},cidrv6:{label:"\u05D8\u05D5\u05D5\u05D7 IPv6",gender:"m"},base64:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64",gender:"f"},base64url:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64 \u05DC\u05DB\u05EA\u05D5\u05D1\u05D5\u05EA \u05E8\u05E9\u05EA",gender:"f"},json_string:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA JSON",gender:"f"},e164:{label:"\u05DE\u05E1\u05E4\u05E8 E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"\u05E7\u05DC\u05D8",gender:"m"},includes:{label:"\u05E7\u05DC\u05D8",gender:"m"},lowercase:{label:"\u05E7\u05DC\u05D8",gender:"m"},starts_with:{label:"\u05E7\u05DC\u05D8",gender:"m"},uppercase:{label:"\u05E7\u05DC\u05D8",gender:"m"}},c={nan:"NaN"};return l=>{switch(l.code){case"invalid_type":{let u=l.expected,d=c[u??""]??n(u),p=He(l.input),f=c[p]??t[p]?.label??p;return/^[A-Z]/.test(l.expected)?`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA instanceof ${l.expected}, \u05D4\u05EA\u05E7\u05D1\u05DC ${f}`:`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${d}, \u05D4\u05EA\u05E7\u05D1\u05DC ${f}`}case"invalid_value":{if(l.values.length===1)return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05E2\u05E8\u05DA \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA ${ze(l.values[0])}`;let u=l.values.map(f=>ze(f));if(l.values.length===2)return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA \u05D4\u05DE\u05EA\u05D0\u05D9\u05DE\u05D5\u05EA \u05D4\u05DF ${u[0]} \u05D0\u05D5 ${u[1]}`;let d=u[u.length-1];return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA \u05D4\u05DE\u05EA\u05D0\u05D9\u05DE\u05D5\u05EA \u05D4\u05DF ${u.slice(0,-1).join(", ")} \u05D0\u05D5 ${d}`}case"too_big":{let u=s(l.origin),d=i(l.origin??"value");if(l.origin==="string")return`${u?.longLabel??"\u05D0\u05E8\u05D5\u05DA"} \u05DE\u05D3\u05D9: ${d} \u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05DB\u05D9\u05DC ${l.maximum.toString()} ${u?.unit??""} ${l.inclusive?"\u05D0\u05D5 \u05E4\u05D7\u05D5\u05EA":"\u05DC\u05DB\u05DC \u05D4\u05D9\u05D5\u05EA\u05E8"}`.trim();if(l.origin==="number"){let h=l.inclusive?`\u05E7\u05D8\u05DF \u05D0\u05D5 \u05E9\u05D5\u05D5\u05D4 \u05DC-${l.maximum}`:`\u05E7\u05D8\u05DF \u05DE-${l.maximum}`;return`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${d} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${h}`}if(l.origin==="array"||l.origin==="set"){let h=l.origin==="set"?"\u05E6\u05E8\u05D9\u05DB\u05D4":"\u05E6\u05E8\u05D9\u05DA",m=l.inclusive?`${l.maximum} ${u?.unit??""} \u05D0\u05D5 \u05E4\u05D7\u05D5\u05EA`:`\u05E4\u05D7\u05D5\u05EA \u05DE-${l.maximum} ${u?.unit??""}`;return`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${d} ${h} \u05DC\u05D4\u05DB\u05D9\u05DC ${m}`.trim()}let p=l.inclusive?"<=":"<",f=o(l.origin??"value");return u?.unit?`${u.longLabel} \u05DE\u05D3\u05D9: ${d} ${f} ${p}${l.maximum.toString()} ${u.unit}`:`${u?.longLabel??"\u05D2\u05D3\u05D5\u05DC"} \u05DE\u05D3\u05D9: ${d} ${f} ${p}${l.maximum.toString()}`}case"too_small":{let u=s(l.origin),d=i(l.origin??"value");if(l.origin==="string")return`${u?.shortLabel??"\u05E7\u05E6\u05E8"} \u05DE\u05D3\u05D9: ${d} \u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05DB\u05D9\u05DC ${l.minimum.toString()} ${u?.unit??""} ${l.inclusive?"\u05D0\u05D5 \u05D9\u05D5\u05EA\u05E8":"\u05DC\u05E4\u05D7\u05D5\u05EA"}`.trim();if(l.origin==="number"){let h=l.inclusive?`\u05D2\u05D3\u05D5\u05DC \u05D0\u05D5 \u05E9\u05D5\u05D5\u05D4 \u05DC-${l.minimum}`:`\u05D2\u05D3\u05D5\u05DC \u05DE-${l.minimum}`;return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${d} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${h}`}if(l.origin==="array"||l.origin==="set"){let h=l.origin==="set"?"\u05E6\u05E8\u05D9\u05DB\u05D4":"\u05E6\u05E8\u05D9\u05DA";if(l.minimum===1&&l.inclusive){let g=(l.origin==="set","\u05DC\u05E4\u05D7\u05D5\u05EA \u05E4\u05E8\u05D9\u05D8 \u05D0\u05D7\u05D3");return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${d} ${h} \u05DC\u05D4\u05DB\u05D9\u05DC ${g}`}let m=l.inclusive?`${l.minimum} ${u?.unit??""} \u05D0\u05D5 \u05D9\u05D5\u05EA\u05E8`:`\u05D9\u05D5\u05EA\u05E8 \u05DE-${l.minimum} ${u?.unit??""}`;return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${d} ${h} \u05DC\u05D4\u05DB\u05D9\u05DC ${m}`.trim()}let p=l.inclusive?">=":">",f=o(l.origin??"value");return u?.unit?`${u.shortLabel} \u05DE\u05D3\u05D9: ${d} ${f} ${p}${l.minimum.toString()} ${u.unit}`:`${u?.shortLabel??"\u05E7\u05D8\u05DF"} \u05DE\u05D3\u05D9: ${d} ${f} ${p}${l.minimum.toString()}`}case"invalid_format":{let u=l;if(u.format==="starts_with")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D7\u05D9\u05DC \u05D1 "${u.prefix}"`;if(u.format==="ends_with")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05E1\u05EA\u05D9\u05D9\u05DD \u05D1 "${u.suffix}"`;if(u.format==="includes")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05DB\u05DC\u05D5\u05DC "${u.includes}"`;if(u.format==="regex")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D0\u05D9\u05DD \u05DC\u05EA\u05D1\u05E0\u05D9\u05EA ${u.pattern}`;let d=a[u.format],p=d?.label??u.format,h=(d?.gender??"m")==="f"?"\u05EA\u05E7\u05D9\u05E0\u05D4":"\u05EA\u05E7\u05D9\u05DF";return`${p} \u05DC\u05D0 ${h}`}case"not_multiple_of":return`\u05DE\u05E1\u05E4\u05E8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA \u05DE\u05DB\u05E4\u05DC\u05D4 \u05E9\u05DC ${l.divisor}`;case"unrecognized_keys":return`\u05DE\u05E4\u05EA\u05D7${l.keys.length>1?"\u05D5\u05EA":""} \u05DC\u05D0 \u05DE\u05D6\u05D5\u05D4${l.keys.length>1?"\u05D9\u05DD":"\u05D4"}: ${be(l.keys,", ")}`;case"invalid_key":return"\u05E9\u05D3\u05D4 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1\u05D0\u05D5\u05D1\u05D9\u05D9\u05E7\u05D8";case"invalid_union":return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF";case"invalid_element":return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1${i(l.origin??"array")}`;default:return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF"}}};function p_e(){return{localeError:xvt()}}var Svt=()=>{let t={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function e(i){return t[i]??null}let r={regex:"bemenet",email:"email c\xEDm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO id\u0151b\xE9lyeg",date:"ISO d\xE1tum",time:"ISO id\u0151",duration:"ISO id\u0151intervallum",ipv4:"IPv4 c\xEDm",ipv6:"IPv6 c\xEDm",cidrv4:"IPv4 tartom\xE1ny",cidrv6:"IPv6 tartom\xE1ny",base64:"base64-k\xF3dolt string",base64url:"base64url-k\xF3dolt string",json_string:"JSON string",e164:"E.164 sz\xE1m",jwt:"JWT",template_literal:"bemenet"},n={nan:"NaN",number:"sz\xE1m",array:"t\xF6mb"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k instanceof ${i.expected}, a kapott \xE9rt\xE9k ${a}`:`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${o}, a kapott \xE9rt\xE9k ${a}`}case"invalid_value":return i.values.length===1?`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${ze(i.values[0])}`:`\xC9rv\xE9nytelen opci\xF3: valamelyik \xE9rt\xE9k v\xE1rt ${be(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`T\xFAl nagy: ${i.origin??"\xE9rt\xE9k"} m\xE9rete t\xFAl nagy ${o}${i.maximum.toString()} ${s.unit??"elem"}`:`T\xFAl nagy: a bemeneti \xE9rt\xE9k ${i.origin??"\xE9rt\xE9k"} t\xFAl nagy: ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${i.origin} m\xE9rete t\xFAl kicsi ${o}${i.minimum.toString()} ${s.unit}`:`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${i.origin} t\xFAl kicsi ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\xC9rv\xE9nytelen string: "${o.prefix}" \xE9rt\xE9kkel kell kezd\u0151dnie`:o.format==="ends_with"?`\xC9rv\xE9nytelen string: "${o.suffix}" \xE9rt\xE9kkel kell v\xE9gz\u0151dnie`:o.format==="includes"?`\xC9rv\xE9nytelen string: "${o.includes}" \xE9rt\xE9ket kell tartalmaznia`:o.format==="regex"?`\xC9rv\xE9nytelen string: ${o.pattern} mint\xE1nak kell megfelelnie`:`\xC9rv\xE9nytelen ${r[o.format]??i.format}`}case"not_multiple_of":return`\xC9rv\xE9nytelen sz\xE1m: ${i.divisor} t\xF6bbsz\xF6r\xF6s\xE9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${i.keys.length>1?"s":""}: ${be(i.keys,", ")}`;case"invalid_key":return`\xC9rv\xE9nytelen kulcs ${i.origin}`;case"invalid_union":return"\xC9rv\xE9nytelen bemenet";case"invalid_element":return`\xC9rv\xE9nytelen \xE9rt\xE9k: ${i.origin}`;default:return"\xC9rv\xE9nytelen bemenet"}}};function f_e(){return{localeError:Svt()}}function m_e(t,e,r){return Math.abs(t)===1?e:r}function Bx(t){if(!t)return"";let e=["\u0561","\u0565","\u0568","\u056B","\u0578","\u0578\u0582","\u0585"],r=t[t.length-1];return t+(e.includes(r)?"\u0576":"\u0568")}var wvt=()=>{let t={string:{unit:{one:"\u0576\u0577\u0561\u0576",many:"\u0576\u0577\u0561\u0576\u0576\u0565\u0580"},verb:"\u0578\u0582\u0576\u0565\u0576\u0561\u056C"},file:{unit:{one:"\u0562\u0561\u0575\u0569",many:"\u0562\u0561\u0575\u0569\u0565\u0580"},verb:"\u0578\u0582\u0576\u0565\u0576\u0561\u056C"},array:{unit:{one:"\u057F\u0561\u0580\u0580",many:"\u057F\u0561\u0580\u0580\u0565\u0580"},verb:"\u0578\u0582\u0576\u0565\u0576\u0561\u056C"},set:{unit:{one:"\u057F\u0561\u0580\u0580",many:"\u057F\u0561\u0580\u0580\u0565\u0580"},verb:"\u0578\u0582\u0576\u0565\u0576\u0561\u056C"}};function e(i){return t[i]??null}let r={regex:"\u0574\u0578\u0582\u057F\u0584",email:"\u0567\u056C. \u0570\u0561\u057D\u0581\u0565",url:"URL",emoji:"\u0567\u0574\u0578\u057B\u056B",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0561\u0574\u057D\u0561\u0569\u056B\u057E \u0587 \u056A\u0561\u0574",date:"ISO \u0561\u0574\u057D\u0561\u0569\u056B\u057E",time:"ISO \u056A\u0561\u0574",duration:"ISO \u057F\u0587\u0578\u0572\u0578\u0582\u0569\u0575\u0578\u0582\u0576",ipv4:"IPv4 \u0570\u0561\u057D\u0581\u0565",ipv6:"IPv6 \u0570\u0561\u057D\u0581\u0565",cidrv4:"IPv4 \u0574\u056B\u057B\u0561\u056F\u0561\u0575\u0584",cidrv6:"IPv6 \u0574\u056B\u057B\u0561\u056F\u0561\u0575\u0584",base64:"base64 \u0571\u0587\u0561\u0579\u0561\u0583\u0578\u057E \u057F\u0578\u0572",base64url:"base64url \u0571\u0587\u0561\u0579\u0561\u0583\u0578\u057E \u057F\u0578\u0572",json_string:"JSON \u057F\u0578\u0572",e164:"E.164 \u0570\u0561\u0574\u0561\u0580",jwt:"JWT",template_literal:"\u0574\u0578\u0582\u057F\u0584"},n={nan:"NaN",number:"\u0569\u056B\u057E",array:"\u0566\u0561\u0576\u0563\u057E\u0561\u056E"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u054D\u056D\u0561\u056C \u0574\u0578\u0582\u057F\u0584\u0561\u0563\u0580\u0578\u0582\u0574\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567\u0580 instanceof ${i.expected}, \u057D\u057F\u0561\u0581\u057E\u0565\u056C \u0567 ${a}`:`\u054D\u056D\u0561\u056C \u0574\u0578\u0582\u057F\u0584\u0561\u0563\u0580\u0578\u0582\u0574\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567\u0580 ${o}, \u057D\u057F\u0561\u0581\u057E\u0565\u056C \u0567 ${a}`}case"invalid_value":return i.values.length===1?`\u054D\u056D\u0561\u056C \u0574\u0578\u0582\u057F\u0584\u0561\u0563\u0580\u0578\u0582\u0574\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567\u0580 ${ze(i.values[1])}`:`\u054D\u056D\u0561\u056C \u057F\u0561\u0580\u0562\u0565\u0580\u0561\u056F\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567\u0580 \u0570\u0565\u057F\u0587\u0575\u0561\u056C\u0576\u0565\u0580\u056B\u0581 \u0574\u0565\u056F\u0568\u055D ${be(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);if(s){let a=Number(i.maximum),c=m_e(a,s.unit.one,s.unit.many);return`\u0549\u0561\u0583\u0561\u0566\u0561\u0576\u0581 \u0574\u0565\u056E \u0561\u0580\u056A\u0565\u0584\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567, \u0578\u0580 ${Bx(i.origin??"\u0561\u0580\u056A\u0565\u0584")} \u056F\u0578\u0582\u0576\u0565\u0576\u0561 ${o}${i.maximum.toString()} ${c}`}return`\u0549\u0561\u0583\u0561\u0566\u0561\u0576\u0581 \u0574\u0565\u056E \u0561\u0580\u056A\u0565\u0584\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567, \u0578\u0580 ${Bx(i.origin??"\u0561\u0580\u056A\u0565\u0584")} \u056C\u056B\u0576\u056B ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);if(s){let a=Number(i.minimum),c=m_e(a,s.unit.one,s.unit.many);return`\u0549\u0561\u0583\u0561\u0566\u0561\u0576\u0581 \u0583\u0578\u0584\u0580 \u0561\u0580\u056A\u0565\u0584\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567, \u0578\u0580 ${Bx(i.origin)} \u056F\u0578\u0582\u0576\u0565\u0576\u0561 ${o}${i.minimum.toString()} ${c}`}return`\u0549\u0561\u0583\u0561\u0566\u0561\u0576\u0581 \u0583\u0578\u0584\u0580 \u0561\u0580\u056A\u0565\u0584\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567, \u0578\u0580 ${Bx(i.origin)} \u056C\u056B\u0576\u056B ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u054D\u056D\u0561\u056C \u057F\u0578\u0572\u2024 \u057A\u0565\u057F\u0584 \u0567 \u057D\u056F\u057D\u057E\u056B "${o.prefix}"-\u0578\u057E`:o.format==="ends_with"?`\u054D\u056D\u0561\u056C \u057F\u0578\u0572\u2024 \u057A\u0565\u057F\u0584 \u0567 \u0561\u057E\u0561\u0580\u057F\u057E\u056B "${o.suffix}"-\u0578\u057E`:o.format==="includes"?`\u054D\u056D\u0561\u056C \u057F\u0578\u0572\u2024 \u057A\u0565\u057F\u0584 \u0567 \u057A\u0561\u0580\u0578\u0582\u0576\u0561\u056F\u056B "${o.includes}"`:o.format==="regex"?`\u054D\u056D\u0561\u056C \u057F\u0578\u0572\u2024 \u057A\u0565\u057F\u0584 \u0567 \u0570\u0561\u0574\u0561\u057A\u0561\u057F\u0561\u057D\u056D\u0561\u0576\u056B ${o.pattern} \u0571\u0587\u0561\u0579\u0561\u0583\u056B\u0576`:`\u054D\u056D\u0561\u056C ${r[o.format]??i.format}`}case"not_multiple_of":return`\u054D\u056D\u0561\u056C \u0569\u056B\u057E\u2024 \u057A\u0565\u057F\u0584 \u0567 \u0562\u0561\u0566\u0574\u0561\u057A\u0561\u057F\u056B\u056F \u056C\u056B\u0576\u056B ${i.divisor}-\u056B`;case"unrecognized_keys":return`\u0549\u0573\u0561\u0576\u0561\u0579\u057E\u0561\u056E \u0562\u0561\u0576\u0561\u056C\u056B${i.keys.length>1?"\u0576\u0565\u0580":""}. ${be(i.keys,", ")}`;case"invalid_key":return`\u054D\u056D\u0561\u056C \u0562\u0561\u0576\u0561\u056C\u056B ${Bx(i.origin)}-\u0578\u0582\u0574`;case"invalid_union":return"\u054D\u056D\u0561\u056C \u0574\u0578\u0582\u057F\u0584\u0561\u0563\u0580\u0578\u0582\u0574";case"invalid_element":return`\u054D\u056D\u0561\u056C \u0561\u0580\u056A\u0565\u0584 ${Bx(i.origin)}-\u0578\u0582\u0574`;default:return"\u054D\u056D\u0561\u056C \u0574\u0578\u0582\u057F\u0584\u0561\u0563\u0580\u0578\u0582\u0574"}}};function h_e(){return{localeError:wvt()}}var Avt=()=>{let t={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function e(i){return t[i]??null}let r={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"},n={nan:"NaN"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Input tidak valid: diharapkan instanceof ${i.expected}, diterima ${a}`:`Input tidak valid: diharapkan ${o}, diterima ${a}`}case"invalid_value":return i.values.length===1?`Input tidak valid: diharapkan ${ze(i.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${be(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Terlalu besar: diharapkan ${i.origin??"value"} memiliki ${o}${i.maximum.toString()} ${s.unit??"elemen"}`:`Terlalu besar: diharapkan ${i.origin??"value"} menjadi ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Terlalu kecil: diharapkan ${i.origin} memiliki ${o}${i.minimum.toString()} ${s.unit}`:`Terlalu kecil: diharapkan ${i.origin} menjadi ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`String tidak valid: harus dimulai dengan "${o.prefix}"`:o.format==="ends_with"?`String tidak valid: harus berakhir dengan "${o.suffix}"`:o.format==="includes"?`String tidak valid: harus menyertakan "${o.includes}"`:o.format==="regex"?`String tidak valid: harus sesuai pola ${o.pattern}`:`${r[o.format]??i.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${i.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${i.keys.length>1?"s":""}: ${be(i.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${i.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${i.origin}`;default:return"Input tidak valid"}}};function g_e(){return{localeError:Avt()}}var Evt=()=>{let t={string:{unit:"stafi",verb:"a\xF0 hafa"},file:{unit:"b\xE6ti",verb:"a\xF0 hafa"},array:{unit:"hluti",verb:"a\xF0 hafa"},set:{unit:"hluti",verb:"a\xF0 hafa"}};function e(i){return t[i]??null}let r={regex:"gildi",email:"netfang",url:"vefsl\xF3\xF0",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og t\xEDmi",date:"ISO dagsetning",time:"ISO t\xEDmi",duration:"ISO t\xEDmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 t\xF6lugildi",jwt:"JWT",template_literal:"gildi"},n={nan:"NaN",number:"n\xFAmer",array:"fylki"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Rangt gildi: \xDE\xFA sl\xF3st inn ${a} \xFEar sem \xE1 a\xF0 vera instanceof ${i.expected}`:`Rangt gildi: \xDE\xFA sl\xF3st inn ${a} \xFEar sem \xE1 a\xF0 vera ${o}`}case"invalid_value":return i.values.length===1?`Rangt gildi: gert r\xE1\xF0 fyrir ${ze(i.values[0])}`:`\xD3gilt val: m\xE1 vera eitt af eftirfarandi ${be(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${i.origin??"gildi"} hafi ${o}${i.maximum.toString()} ${s.unit??"hluti"}`:`Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${i.origin??"gildi"} s\xE9 ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${i.origin} hafi ${o}${i.minimum.toString()} ${s.unit}`:`Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${i.origin} s\xE9 ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\xD3gildur strengur: ver\xF0ur a\xF0 byrja \xE1 "${o.prefix}"`:o.format==="ends_with"?`\xD3gildur strengur: ver\xF0ur a\xF0 enda \xE1 "${o.suffix}"`:o.format==="includes"?`\xD3gildur strengur: ver\xF0ur a\xF0 innihalda "${o.includes}"`:o.format==="regex"?`\xD3gildur strengur: ver\xF0ur a\xF0 fylgja mynstri ${o.pattern}`:`Rangt ${r[o.format]??i.format}`}case"not_multiple_of":return`R\xF6ng tala: ver\xF0ur a\xF0 vera margfeldi af ${i.divisor}`;case"unrecognized_keys":return`\xD3\xFEekkt ${i.keys.length>1?"ir lyklar":"ur lykill"}: ${be(i.keys,", ")}`;case"invalid_key":return`Rangur lykill \xED ${i.origin}`;case"invalid_union":return"Rangt gildi";case"invalid_element":return`Rangt gildi \xED ${i.origin}`;default:return"Rangt gildi"}}};function y_e(){return{localeError:Evt()}}var Tvt=()=>{let t={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function e(i){return t[i]??null}let r={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"},n={nan:"NaN",number:"numero",array:"vettore"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Input non valido: atteso instanceof ${i.expected}, ricevuto ${a}`:`Input non valido: atteso ${o}, ricevuto ${a}`}case"invalid_value":return i.values.length===1?`Input non valido: atteso ${ze(i.values[0])}`:`Opzione non valida: atteso uno tra ${be(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Troppo grande: ${i.origin??"valore"} deve avere ${o}${i.maximum.toString()} ${s.unit??"elementi"}`:`Troppo grande: ${i.origin??"valore"} deve essere ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Troppo piccolo: ${i.origin} deve avere ${o}${i.minimum.toString()} ${s.unit}`:`Troppo piccolo: ${i.origin} deve essere ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Stringa non valida: deve iniziare con "${o.prefix}"`:o.format==="ends_with"?`Stringa non valida: deve terminare con "${o.suffix}"`:o.format==="includes"?`Stringa non valida: deve includere "${o.includes}"`:o.format==="regex"?`Stringa non valida: deve corrispondere al pattern ${o.pattern}`:`Invalid ${r[o.format]??i.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${i.divisor}`;case"unrecognized_keys":return`Chiav${i.keys.length>1?"i":"e"} non riconosciut${i.keys.length>1?"e":"a"}: ${be(i.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${i.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${i.origin}`;default:return"Input non valido"}}};function b_e(){return{localeError:Tvt()}}var Rvt=()=>{let t={string:{unit:"\u6587\u5B57",verb:"\u3067\u3042\u308B"},file:{unit:"\u30D0\u30A4\u30C8",verb:"\u3067\u3042\u308B"},array:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"},set:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"}};function e(i){return t[i]??null}let r={regex:"\u5165\u529B\u5024",email:"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9",url:"URL",emoji:"\u7D75\u6587\u5B57",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u6642",date:"ISO\u65E5\u4ED8",time:"ISO\u6642\u523B",duration:"ISO\u671F\u9593",ipv4:"IPv4\u30A2\u30C9\u30EC\u30B9",ipv6:"IPv6\u30A2\u30C9\u30EC\u30B9",cidrv4:"IPv4\u7BC4\u56F2",cidrv6:"IPv6\u7BC4\u56F2",base64:"base64\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",base64url:"base64url\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",json_string:"JSON\u6587\u5B57\u5217",e164:"E.164\u756A\u53F7",jwt:"JWT",template_literal:"\u5165\u529B\u5024"},n={nan:"NaN",number:"\u6570\u5024",array:"\u914D\u5217"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u7121\u52B9\u306A\u5165\u529B: instanceof ${i.expected}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F\u304C\u3001${a}\u304C\u5165\u529B\u3055\u308C\u307E\u3057\u305F`:`\u7121\u52B9\u306A\u5165\u529B: ${o}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F\u304C\u3001${a}\u304C\u5165\u529B\u3055\u308C\u307E\u3057\u305F`}case"invalid_value":return i.values.length===1?`\u7121\u52B9\u306A\u5165\u529B: ${ze(i.values[0])}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F`:`\u7121\u52B9\u306A\u9078\u629E: ${be(i.values,"\u3001")}\u306E\u3044\u305A\u308C\u304B\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"too_big":{let o=i.inclusive?"\u4EE5\u4E0B\u3067\u3042\u308B":"\u3088\u308A\u5C0F\u3055\u3044",s=e(i.origin);return s?`\u5927\u304D\u3059\u304E\u308B\u5024: ${i.origin??"\u5024"}\u306F${i.maximum.toString()}${s.unit??"\u8981\u7D20"}${o}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u5927\u304D\u3059\u304E\u308B\u5024: ${i.origin??"\u5024"}\u306F${i.maximum.toString()}${o}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"too_small":{let o=i.inclusive?"\u4EE5\u4E0A\u3067\u3042\u308B":"\u3088\u308A\u5927\u304D\u3044",s=e(i.origin);return s?`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${i.origin}\u306F${i.minimum.toString()}${s.unit}${o}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${i.origin}\u306F${i.minimum.toString()}${o}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${o.prefix}"\u3067\u59CB\u307E\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:o.format==="ends_with"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${o.suffix}"\u3067\u7D42\u308F\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:o.format==="includes"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${o.includes}"\u3092\u542B\u3080\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:o.format==="regex"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: \u30D1\u30BF\u30FC\u30F3${o.pattern}\u306B\u4E00\u81F4\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u7121\u52B9\u306A${r[o.format]??i.format}`}case"not_multiple_of":return`\u7121\u52B9\u306A\u6570\u5024: ${i.divisor}\u306E\u500D\u6570\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"unrecognized_keys":return`\u8A8D\u8B58\u3055\u308C\u3066\u3044\u306A\u3044\u30AD\u30FC${i.keys.length>1?"\u7FA4":""}: ${be(i.keys,"\u3001")}`;case"invalid_key":return`${i.origin}\u5185\u306E\u7121\u52B9\u306A\u30AD\u30FC`;case"invalid_union":return"\u7121\u52B9\u306A\u5165\u529B";case"invalid_element":return`${i.origin}\u5185\u306E\u7121\u52B9\u306A\u5024`;default:return"\u7121\u52B9\u306A\u5165\u529B"}}};function v_e(){return{localeError:Rvt()}}var Ivt=()=>{let t={string:{unit:"\u10E1\u10D8\u10DB\u10D1\u10DD\u10DA\u10DD",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},file:{unit:"\u10D1\u10D0\u10D8\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},array:{unit:"\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},set:{unit:"\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"}};function e(i){return t[i]??null}let r={regex:"\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0",email:"\u10D4\u10DA-\u10E4\u10DD\u10E1\u10E2\u10D8\u10E1 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",url:"URL",emoji:"\u10D4\u10DB\u10DD\u10EF\u10D8",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8-\u10D3\u10E0\u10DD",date:"\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8",time:"\u10D3\u10E0\u10DD",duration:"\u10EE\u10D0\u10DC\u10D2\u10E0\u10EB\u10DA\u10D8\u10D5\u10DD\u10D1\u10D0",ipv4:"IPv4 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",ipv6:"IPv6 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",cidrv4:"IPv4 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8",cidrv6:"IPv6 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8",base64:"base64-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",base64url:"base64url-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",json_string:"JSON \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",e164:"E.164 \u10DC\u10DD\u10DB\u10D4\u10E0\u10D8",jwt:"JWT",template_literal:"\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0"},n={nan:"NaN",number:"\u10E0\u10D8\u10EA\u10EE\u10D5\u10D8",string:"\u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",boolean:"\u10D1\u10E3\u10DA\u10D4\u10D0\u10DC\u10D8",function:"\u10E4\u10E3\u10DC\u10E5\u10EA\u10D8\u10D0",array:"\u10DB\u10D0\u10E1\u10D8\u10D5\u10D8"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 instanceof ${i.expected}, \u10DB\u10D8\u10E6\u10D4\u10D1\u10E3\u10DA\u10D8 ${a}`:`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${o}, \u10DB\u10D8\u10E6\u10D4\u10D1\u10E3\u10DA\u10D8 ${a}`}case"invalid_value":return i.values.length===1?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${ze(i.values[0])}`:`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D5\u10D0\u10E0\u10D8\u10D0\u10DC\u10E2\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8\u10D0 \u10D4\u10E0\u10D7-\u10D4\u10E0\u10D7\u10D8 ${be(i.values,"|")}-\u10D3\u10D0\u10DC`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${i.origin??"\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0"} ${s.verb} ${o}${i.maximum.toString()} ${s.unit}`:`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${i.origin??"\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0"} \u10D8\u10E7\u10DD\u10E1 ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${i.origin} ${s.verb} ${o}${i.minimum.toString()} ${s.unit}`:`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${i.origin} \u10D8\u10E7\u10DD\u10E1 ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10EC\u10E7\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 "${o.prefix}"-\u10D8\u10D7`:o.format==="ends_with"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10DB\u10D7\u10D0\u10D5\u10E0\u10D3\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 "${o.suffix}"-\u10D8\u10D7`:o.format==="includes"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1 "${o.includes}"-\u10E1`:o.format==="regex"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D4\u10E1\u10D0\u10D1\u10D0\u10DB\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 \u10E8\u10D0\u10D1\u10DA\u10DD\u10DC\u10E1 ${o.pattern}`:`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 ${r[o.format]??i.format}`}case"not_multiple_of":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E0\u10D8\u10EA\u10EE\u10D5\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10E7\u10DD\u10E1 ${i.divisor}-\u10D8\u10E1 \u10EF\u10D4\u10E0\u10D0\u10D3\u10D8`;case"unrecognized_keys":return`\u10E3\u10EA\u10DC\u10DD\u10D1\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1${i.keys.length>1?"\u10D4\u10D1\u10D8":"\u10D8"}: ${be(i.keys,", ")}`;case"invalid_key":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1\u10D8 ${i.origin}-\u10E8\u10D8`;case"invalid_union":return"\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0";case"invalid_element":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0 ${i.origin}-\u10E8\u10D8`;default:return"\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0"}}};function __e(){return{localeError:Ivt()}}var Cvt=()=>{let t={string:{unit:"\u178F\u17BD\u17A2\u1780\u17D2\u179F\u179A",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},file:{unit:"\u1794\u17C3",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},array:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},set:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"}};function e(i){return t[i]??null}let r={regex:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B",email:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793\u17A2\u17CA\u17B8\u1798\u17C2\u179B",url:"URL",emoji:"\u179F\u1789\u17D2\u1789\u17B6\u17A2\u17B6\u179A\u1798\u17D2\u1798\u178E\u17CD",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 \u1793\u17B7\u1784\u1798\u17C9\u17C4\u1784 ISO",date:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 ISO",time:"\u1798\u17C9\u17C4\u1784 ISO",duration:"\u179A\u1799\u17C8\u1796\u17C1\u179B ISO",ipv4:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",ipv6:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",cidrv4:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",cidrv6:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",base64:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64",base64url:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64url",json_string:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A JSON",e164:"\u179B\u17C1\u1781 E.164",jwt:"JWT",template_literal:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B"},n={nan:"NaN",number:"\u179B\u17C1\u1781",array:"\u17A2\u17B6\u179A\u17C1 (Array)",null:"\u1782\u17D2\u1798\u17B6\u1793\u178F\u1798\u17D2\u179B\u17C3 (null)"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A instanceof ${i.expected} \u1794\u17C9\u17BB\u1793\u17D2\u178F\u17C2\u1791\u1791\u17BD\u179B\u1794\u17B6\u1793 ${a}`:`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${o} \u1794\u17C9\u17BB\u1793\u17D2\u178F\u17C2\u1791\u1791\u17BD\u179B\u1794\u17B6\u1793 ${a}`}case"invalid_value":return i.values.length===1?`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${ze(i.values[0])}`:`\u1787\u1798\u17D2\u179A\u17BE\u179F\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1787\u17B6\u1798\u17BD\u1799\u1780\u17D2\u1793\u17BB\u1784\u1785\u17C6\u178E\u17C4\u1798 ${be(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${i.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${o} ${i.maximum.toString()} ${s.unit??"\u1792\u17B6\u178F\u17BB"}`:`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${i.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${o} ${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${i.origin} ${o} ${i.minimum.toString()} ${s.unit}`:`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${i.origin} ${o} ${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1785\u17B6\u1794\u17CB\u1795\u17D2\u178F\u17BE\u1798\u178A\u17C4\u1799 "${o.prefix}"`:o.format==="ends_with"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1794\u1789\u17D2\u1785\u1794\u17CB\u178A\u17C4\u1799 "${o.suffix}"`:o.format==="includes"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1798\u17B6\u1793 "${o.includes}"`:o.format==="regex"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1795\u17D2\u1782\u17BC\u1795\u17D2\u1782\u1784\u1793\u17B9\u1784\u1791\u1798\u17D2\u179A\u1784\u17CB\u178A\u17C2\u179B\u1794\u17B6\u1793\u1780\u17C6\u178E\u178F\u17CB ${o.pattern}`:`\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 ${r[o.format]??i.format}`}case"not_multiple_of":return`\u179B\u17C1\u1781\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1787\u17B6\u1796\u17A0\u17BB\u1782\u17BB\u178E\u1793\u17C3 ${i.divisor}`;case"unrecognized_keys":return`\u179A\u1780\u1783\u17BE\u1789\u179F\u17C4\u1798\u17B7\u1793\u179F\u17D2\u1782\u17B6\u179B\u17CB\u17D6 ${be(i.keys,", ")}`;case"invalid_key":return`\u179F\u17C4\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${i.origin}`;case"invalid_union":return"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C";case"invalid_element":return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${i.origin}`;default:return"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C"}}};function u7(){return{localeError:Cvt()}}function x_e(){return u7()}var Nvt=()=>{let t={string:{unit:"\uBB38\uC790",verb:"to have"},file:{unit:"\uBC14\uC774\uD2B8",verb:"to have"},array:{unit:"\uAC1C",verb:"to have"},set:{unit:"\uAC1C",verb:"to have"}};function e(i){return t[i]??null}let r={regex:"\uC785\uB825",email:"\uC774\uBA54\uC77C \uC8FC\uC18C",url:"URL",emoji:"\uC774\uBAA8\uC9C0",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \uB0A0\uC9DC\uC2DC\uAC04",date:"ISO \uB0A0\uC9DC",time:"ISO \uC2DC\uAC04",duration:"ISO \uAE30\uAC04",ipv4:"IPv4 \uC8FC\uC18C",ipv6:"IPv6 \uC8FC\uC18C",cidrv4:"IPv4 \uBC94\uC704",cidrv6:"IPv6 \uBC94\uC704",base64:"base64 \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",base64url:"base64url \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",json_string:"JSON \uBB38\uC790\uC5F4",e164:"E.164 \uBC88\uD638",jwt:"JWT",template_literal:"\uC785\uB825"},n={nan:"NaN"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\uC798\uBABB\uB41C \uC785\uB825: \uC608\uC0C1 \uD0C0\uC785\uC740 instanceof ${i.expected}, \uBC1B\uC740 \uD0C0\uC785\uC740 ${a}\uC785\uB2C8\uB2E4`:`\uC798\uBABB\uB41C \uC785\uB825: \uC608\uC0C1 \uD0C0\uC785\uC740 ${o}, \uBC1B\uC740 \uD0C0\uC785\uC740 ${a}\uC785\uB2C8\uB2E4`}case"invalid_value":return i.values.length===1?`\uC798\uBABB\uB41C \uC785\uB825: \uAC12\uC740 ${ze(i.values[0])} \uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4`:`\uC798\uBABB\uB41C \uC635\uC158: ${be(i.values,"\uB610\uB294 ")} \uC911 \uD558\uB098\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"too_big":{let o=i.inclusive?"\uC774\uD558":"\uBBF8\uB9CC",s=o==="\uBBF8\uB9CC"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",a=e(i.origin),c=a?.unit??"\uC694\uC18C";return a?`${i.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${i.maximum.toString()}${c} ${o}${s}`:`${i.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${i.maximum.toString()} ${o}${s}`}case"too_small":{let o=i.inclusive?"\uC774\uC0C1":"\uCD08\uACFC",s=o==="\uC774\uC0C1"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",a=e(i.origin),c=a?.unit??"\uC694\uC18C";return a?`${i.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${i.minimum.toString()}${c} ${o}${s}`:`${i.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${i.minimum.toString()} ${o}${s}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${o.prefix}"(\uC73C)\uB85C \uC2DC\uC791\uD574\uC57C \uD569\uB2C8\uB2E4`:o.format==="ends_with"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${o.suffix}"(\uC73C)\uB85C \uB05D\uB098\uC57C \uD569\uB2C8\uB2E4`:o.format==="includes"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${o.includes}"\uC744(\uB97C) \uD3EC\uD568\uD574\uC57C \uD569\uB2C8\uB2E4`:o.format==="regex"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: \uC815\uADDC\uC2DD ${o.pattern} \uD328\uD134\uACFC \uC77C\uCE58\uD574\uC57C \uD569\uB2C8\uB2E4`:`\uC798\uBABB\uB41C ${r[o.format]??i.format}`}case"not_multiple_of":return`\uC798\uBABB\uB41C \uC22B\uC790: ${i.divisor}\uC758 \uBC30\uC218\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"unrecognized_keys":return`\uC778\uC2DD\uD560 \uC218 \uC5C6\uB294 \uD0A4: ${be(i.keys,", ")}`;case"invalid_key":return`\uC798\uBABB\uB41C \uD0A4: ${i.origin}`;case"invalid_union":return"\uC798\uBABB\uB41C \uC785\uB825";case"invalid_element":return`\uC798\uBABB\uB41C \uAC12: ${i.origin}`;default:return"\uC798\uBABB\uB41C \uC785\uB825"}}};function S_e(){return{localeError:Nvt()}}var t3=t=>t.charAt(0).toUpperCase()+t.slice(1);function w_e(t){let e=Math.abs(t),r=e%10,n=e%100;return n>=11&&n<=19||r===0?"many":r===1?"one":"few"}var Ovt=()=>{let t={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli\u0173"},verb:{smaller:{inclusive:"turi b\u016Bti ne ilgesn\u0117 kaip",notInclusive:"turi b\u016Bti trumpesn\u0117 kaip"},bigger:{inclusive:"turi b\u016Bti ne trumpesn\u0117 kaip",notInclusive:"turi b\u016Bti ilgesn\u0117 kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait\u0173"},verb:{smaller:{inclusive:"turi b\u016Bti ne didesnis kaip",notInclusive:"turi b\u016Bti ma\u017Eesnis kaip"},bigger:{inclusive:"turi b\u016Bti ne ma\u017Eesnis kaip",notInclusive:"turi b\u016Bti didesnis kaip"}}},array:{unit:{one:"element\u0105",few:"elementus",many:"element\u0173"},verb:{smaller:{inclusive:"turi tur\u0117ti ne daugiau kaip",notInclusive:"turi tur\u0117ti ma\u017Eiau kaip"},bigger:{inclusive:"turi tur\u0117ti ne ma\u017Eiau kaip",notInclusive:"turi tur\u0117ti daugiau kaip"}}},set:{unit:{one:"element\u0105",few:"elementus",many:"element\u0173"},verb:{smaller:{inclusive:"turi tur\u0117ti ne daugiau kaip",notInclusive:"turi tur\u0117ti ma\u017Eiau kaip"},bigger:{inclusive:"turi tur\u0117ti ne ma\u017Eiau kaip",notInclusive:"turi tur\u0117ti daugiau kaip"}}}};function e(i,o,s,a){let c=t[i]??null;return c===null?c:{unit:c.unit[o],verb:c.verb[a][s?"inclusive":"notInclusive"]}}let r={regex:"\u012Fvestis",email:"el. pa\u0161to adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm\u0117",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 u\u017Ekoduota eilut\u0117",base64url:"base64url u\u017Ekoduota eilut\u0117",json_string:"JSON eilut\u0117",e164:"E.164 numeris",jwt:"JWT",template_literal:"\u012Fvestis"},n={nan:"NaN",number:"skai\u010Dius",bigint:"sveikasis skai\u010Dius",string:"eilut\u0117",boolean:"login\u0117 reik\u0161m\u0117",undefined:"neapibr\u0117\u017Eta reik\u0161m\u0117",function:"funkcija",symbol:"simbolis",array:"masyvas",object:"objektas",null:"nulin\u0117 reik\u0161m\u0117"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Gautas tipas ${a}, o tik\u0117tasi - instanceof ${i.expected}`:`Gautas tipas ${a}, o tik\u0117tasi - ${o}`}case"invalid_value":return i.values.length===1?`Privalo b\u016Bti ${ze(i.values[0])}`:`Privalo b\u016Bti vienas i\u0161 ${be(i.values,"|")} pasirinkim\u0173`;case"too_big":{let o=n[i.origin]??i.origin,s=e(i.origin,w_e(Number(i.maximum)),i.inclusive??!1,"smaller");if(s?.verb)return`${t3(o??i.origin??"reik\u0161m\u0117")} ${s.verb} ${i.maximum.toString()} ${s.unit??"element\u0173"}`;let a=i.inclusive?"ne didesnis kaip":"ma\u017Eesnis kaip";return`${t3(o??i.origin??"reik\u0161m\u0117")} turi b\u016Bti ${a} ${i.maximum.toString()} ${s?.unit}`}case"too_small":{let o=n[i.origin]??i.origin,s=e(i.origin,w_e(Number(i.minimum)),i.inclusive??!1,"bigger");if(s?.verb)return`${t3(o??i.origin??"reik\u0161m\u0117")} ${s.verb} ${i.minimum.toString()} ${s.unit??"element\u0173"}`;let a=i.inclusive?"ne ma\u017Eesnis kaip":"didesnis kaip";return`${t3(o??i.origin??"reik\u0161m\u0117")} turi b\u016Bti ${a} ${i.minimum.toString()} ${s?.unit}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Eilut\u0117 privalo prasid\u0117ti "${o.prefix}"`:o.format==="ends_with"?`Eilut\u0117 privalo pasibaigti "${o.suffix}"`:o.format==="includes"?`Eilut\u0117 privalo \u012Ftraukti "${o.includes}"`:o.format==="regex"?`Eilut\u0117 privalo atitikti ${o.pattern}`:`Neteisingas ${r[o.format]??i.format}`}case"not_multiple_of":return`Skai\u010Dius privalo b\u016Bti ${i.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpa\u017Eint${i.keys.length>1?"i":"as"} rakt${i.keys.length>1?"ai":"as"}: ${be(i.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":return"Klaidinga \u012Fvestis";case"invalid_element":{let o=n[i.origin]??i.origin;return`${t3(o??i.origin??"reik\u0161m\u0117")} turi klaiding\u0105 \u012Fvest\u012F`}default:return"Klaidinga \u012Fvestis"}}};function A_e(){return{localeError:Ovt()}}var Pvt=()=>{let t={string:{unit:"\u0437\u043D\u0430\u0446\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},file:{unit:"\u0431\u0430\u0458\u0442\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},array:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},set:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"}};function e(i){return t[i]??null}let r={regex:"\u0432\u043D\u0435\u0441",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u043D\u0430 \u0435-\u043F\u043E\u0448\u0442\u0430",url:"URL",emoji:"\u0435\u043C\u043E\u045F\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0443\u043C \u0438 \u0432\u0440\u0435\u043C\u0435",date:"ISO \u0434\u0430\u0442\u0443\u043C",time:"ISO \u0432\u0440\u0435\u043C\u0435",duration:"ISO \u0432\u0440\u0435\u043C\u0435\u0442\u0440\u0430\u0435\u045A\u0435",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441\u0430",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441\u0430",cidrv4:"IPv4 \u043E\u043F\u0441\u0435\u0433",cidrv6:"IPv6 \u043E\u043F\u0441\u0435\u0433",base64:"base64-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",base64url:"base64url-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",json_string:"JSON \u043D\u0438\u0437\u0430",e164:"E.164 \u0431\u0440\u043E\u0458",jwt:"JWT",template_literal:"\u0432\u043D\u0435\u0441"},n={nan:"NaN",number:"\u0431\u0440\u043E\u0458",array:"\u043D\u0438\u0437\u0430"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 instanceof ${i.expected}, \u043F\u0440\u0438\u043C\u0435\u043D\u043E ${a}`:`\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${o}, \u043F\u0440\u0438\u043C\u0435\u043D\u043E ${a}`}case"invalid_value":return i.values.length===1?`Invalid input: expected ${ze(i.values[0])}`:`\u0413\u0440\u0435\u0448\u0430\u043D\u0430 \u043E\u043F\u0446\u0438\u0458\u0430: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 \u0435\u0434\u043D\u0430 ${be(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${i.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0438\u043C\u0430 ${o}${i.maximum.toString()} ${s.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438"}`:`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${i.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0431\u0438\u0434\u0435 ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${i.origin} \u0434\u0430 \u0438\u043C\u0430 ${o}${i.minimum.toString()} ${s.unit}`:`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${i.origin} \u0434\u0430 \u0431\u0438\u0434\u0435 ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u043D\u0443\u0432\u0430 \u0441\u043E "${o.prefix}"`:o.format==="ends_with"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u0432\u0440\u0448\u0443\u0432\u0430 \u0441\u043E "${o.suffix}"`:o.format==="includes"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0432\u043A\u043B\u0443\u0447\u0443\u0432\u0430 "${o.includes}"`:o.format==="regex"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u043E\u0434\u0433\u043E\u0430\u0440\u0430 \u043D\u0430 \u043F\u0430\u0442\u0435\u0440\u043D\u043E\u0442 ${o.pattern}`:`Invalid ${r[o.format]??i.format}`}case"not_multiple_of":return`\u0413\u0440\u0435\u0448\u0435\u043D \u0431\u0440\u043E\u0458: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0431\u0438\u0434\u0435 \u0434\u0435\u043B\u0438\u0432 \u0441\u043E ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D\u0438 \u043A\u043B\u0443\u0447\u0435\u0432\u0438":"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D \u043A\u043B\u0443\u0447"}: ${be(i.keys,", ")}`;case"invalid_key":return`\u0413\u0440\u0435\u0448\u0435\u043D \u043A\u043B\u0443\u0447 \u0432\u043E ${i.origin}`;case"invalid_union":return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441";case"invalid_element":return`\u0413\u0440\u0435\u0448\u043D\u0430 \u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442 \u0432\u043E ${i.origin}`;default:return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441"}}};function E_e(){return{localeError:Pvt()}}var kvt=()=>{let t={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function e(i){return t[i]??null}let r={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"},n={nan:"NaN",number:"nombor"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Input tidak sah: dijangka instanceof ${i.expected}, diterima ${a}`:`Input tidak sah: dijangka ${o}, diterima ${a}`}case"invalid_value":return i.values.length===1?`Input tidak sah: dijangka ${ze(i.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${be(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Terlalu besar: dijangka ${i.origin??"nilai"} ${s.verb} ${o}${i.maximum.toString()} ${s.unit??"elemen"}`:`Terlalu besar: dijangka ${i.origin??"nilai"} adalah ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Terlalu kecil: dijangka ${i.origin} ${s.verb} ${o}${i.minimum.toString()} ${s.unit}`:`Terlalu kecil: dijangka ${i.origin} adalah ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`String tidak sah: mesti bermula dengan "${o.prefix}"`:o.format==="ends_with"?`String tidak sah: mesti berakhir dengan "${o.suffix}"`:o.format==="includes"?`String tidak sah: mesti mengandungi "${o.includes}"`:o.format==="regex"?`String tidak sah: mesti sepadan dengan corak ${o.pattern}`:`${r[o.format]??i.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${i.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${be(i.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${i.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${i.origin}`;default:return"Input tidak sah"}}};function T_e(){return{localeError:kvt()}}var Dvt=()=>{let t={string:{unit:"tekens",verb:"heeft"},file:{unit:"bytes",verb:"heeft"},array:{unit:"elementen",verb:"heeft"},set:{unit:"elementen",verb:"heeft"}};function e(i){return t[i]??null}let r={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"},n={nan:"NaN",number:"getal"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Ongeldige invoer: verwacht instanceof ${i.expected}, ontving ${a}`:`Ongeldige invoer: verwacht ${o}, ontving ${a}`}case"invalid_value":return i.values.length===1?`Ongeldige invoer: verwacht ${ze(i.values[0])}`:`Ongeldige optie: verwacht \xE9\xE9n van ${be(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin),a=i.origin==="date"?"laat":i.origin==="string"?"lang":"groot";return s?`Te ${a}: verwacht dat ${i.origin??"waarde"} ${o}${i.maximum.toString()} ${s.unit??"elementen"} ${s.verb}`:`Te ${a}: verwacht dat ${i.origin??"waarde"} ${o}${i.maximum.toString()} is`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin),a=i.origin==="date"?"vroeg":i.origin==="string"?"kort":"klein";return s?`Te ${a}: verwacht dat ${i.origin} ${o}${i.minimum.toString()} ${s.unit} ${s.verb}`:`Te ${a}: verwacht dat ${i.origin} ${o}${i.minimum.toString()} is`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Ongeldige tekst: moet met "${o.prefix}" beginnen`:o.format==="ends_with"?`Ongeldige tekst: moet op "${o.suffix}" eindigen`:o.format==="includes"?`Ongeldige tekst: moet "${o.includes}" bevatten`:o.format==="regex"?`Ongeldige tekst: moet overeenkomen met patroon ${o.pattern}`:`Ongeldig: ${r[o.format]??i.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${i.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${i.keys.length>1?"s":""}: ${be(i.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${i.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${i.origin}`;default:return"Ongeldige invoer"}}};function R_e(){return{localeError:Dvt()}}var Mvt=()=>{let t={string:{unit:"tegn",verb:"\xE5 ha"},file:{unit:"bytes",verb:"\xE5 ha"},array:{unit:"elementer",verb:"\xE5 inneholde"},set:{unit:"elementer",verb:"\xE5 inneholde"}};function e(i){return t[i]??null}let r={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},n={nan:"NaN",number:"tall",array:"liste"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Ugyldig input: forventet instanceof ${i.expected}, fikk ${a}`:`Ugyldig input: forventet ${o}, fikk ${a}`}case"invalid_value":return i.values.length===1?`Ugyldig verdi: forventet ${ze(i.values[0])}`:`Ugyldig valg: forventet en av ${be(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`For stor(t): forventet ${i.origin??"value"} til \xE5 ha ${o}${i.maximum.toString()} ${s.unit??"elementer"}`:`For stor(t): forventet ${i.origin??"value"} til \xE5 ha ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`For lite(n): forventet ${i.origin} til \xE5 ha ${o}${i.minimum.toString()} ${s.unit}`:`For lite(n): forventet ${i.origin} til \xE5 ha ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Ugyldig streng: m\xE5 starte med "${o.prefix}"`:o.format==="ends_with"?`Ugyldig streng: m\xE5 ende med "${o.suffix}"`:o.format==="includes"?`Ugyldig streng: m\xE5 inneholde "${o.includes}"`:o.format==="regex"?`Ugyldig streng: m\xE5 matche m\xF8nsteret ${o.pattern}`:`Ugyldig ${r[o.format]??i.format}`}case"not_multiple_of":return`Ugyldig tall: m\xE5 v\xE6re et multiplum av ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Ukjente n\xF8kler":"Ukjent n\xF8kkel"}: ${be(i.keys,", ")}`;case"invalid_key":return`Ugyldig n\xF8kkel i ${i.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${i.origin}`;default:return"Ugyldig input"}}};function I_e(){return{localeError:Mvt()}}var Lvt=()=>{let t={string:{unit:"harf",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"unsur",verb:"olmal\u0131d\u0131r"},set:{unit:"unsur",verb:"olmal\u0131d\u0131r"}};function e(i){return t[i]??null}let r={regex:"giren",email:"epostag\xE2h",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO heng\xE2m\u0131",date:"ISO tarihi",time:"ISO zaman\u0131",duration:"ISO m\xFCddeti",ipv4:"IPv4 ni\u015F\xE2n\u0131",ipv6:"IPv6 ni\u015F\xE2n\u0131",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-\u015Fifreli metin",base64url:"base64url-\u015Fifreli metin",json_string:"JSON metin",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"giren"},n={nan:"NaN",number:"numara",array:"saf",null:"gayb"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`F\xE2sit giren: umulan instanceof ${i.expected}, al\u0131nan ${a}`:`F\xE2sit giren: umulan ${o}, al\u0131nan ${a}`}case"invalid_value":return i.values.length===1?`F\xE2sit giren: umulan ${ze(i.values[0])}`:`F\xE2sit tercih: m\xFBteberler ${be(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Fazla b\xFCy\xFCk: ${i.origin??"value"}, ${o}${i.maximum.toString()} ${s.unit??"elements"} sahip olmal\u0131yd\u0131.`:`Fazla b\xFCy\xFCk: ${i.origin??"value"}, ${o}${i.maximum.toString()} olmal\u0131yd\u0131.`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Fazla k\xFC\xE7\xFCk: ${i.origin}, ${o}${i.minimum.toString()} ${s.unit} sahip olmal\u0131yd\u0131.`:`Fazla k\xFC\xE7\xFCk: ${i.origin}, ${o}${i.minimum.toString()} olmal\u0131yd\u0131.`}case"invalid_format":{let o=i;return o.format==="starts_with"?`F\xE2sit metin: "${o.prefix}" ile ba\u015Flamal\u0131.`:o.format==="ends_with"?`F\xE2sit metin: "${o.suffix}" ile bitmeli.`:o.format==="includes"?`F\xE2sit metin: "${o.includes}" ihtiv\xE2 etmeli.`:o.format==="regex"?`F\xE2sit metin: ${o.pattern} nak\u015F\u0131na uymal\u0131.`:`F\xE2sit ${r[o.format]??i.format}`}case"not_multiple_of":return`F\xE2sit say\u0131: ${i.divisor} kat\u0131 olmal\u0131yd\u0131.`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar ${i.keys.length>1?"s":""}: ${be(i.keys,", ")}`;case"invalid_key":return`${i.origin} i\xE7in tan\u0131nmayan anahtar var.`;case"invalid_union":return"Giren tan\u0131namad\u0131.";case"invalid_element":return`${i.origin} i\xE7in tan\u0131nmayan k\u0131ymet var.`;default:return"K\u0131ymet tan\u0131namad\u0131."}}};function C_e(){return{localeError:Lvt()}}var Bvt=()=>{let t={string:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},file:{unit:"\u0628\u0627\u06CC\u067C\u0633",verb:"\u0648\u0644\u0631\u064A"},array:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},set:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"}};function e(i){return t[i]??null}let r={regex:"\u0648\u0631\u0648\u062F\u064A",email:"\u0628\u0631\u06CC\u069A\u0646\u0627\u0644\u06CC\u06A9",url:"\u06CC\u0648 \u0622\u0631 \u0627\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0646\u06CC\u067C\u0647 \u0627\u0648 \u0648\u062E\u062A",date:"\u0646\u06D0\u067C\u0647",time:"\u0648\u062E\u062A",duration:"\u0645\u0648\u062F\u0647",ipv4:"\u062F IPv4 \u067E\u062A\u0647",ipv6:"\u062F IPv6 \u067E\u062A\u0647",cidrv4:"\u062F IPv4 \u0633\u0627\u062D\u0647",cidrv6:"\u062F IPv6 \u0633\u0627\u062D\u0647",base64:"base64-encoded \u0645\u062A\u0646",base64url:"base64url-encoded \u0645\u062A\u0646",json_string:"JSON \u0645\u062A\u0646",e164:"\u062F E.164 \u0634\u0645\u06D0\u0631\u0647",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u064A"},n={nan:"NaN",number:"\u0639\u062F\u062F",array:"\u0627\u0631\u06D0"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F instanceof ${i.expected} \u0648\u0627\u06CC, \u0645\u06AB\u0631 ${a} \u062A\u0631\u0644\u0627\u0633\u0647 \u0634\u0648`:`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${o} \u0648\u0627\u06CC, \u0645\u06AB\u0631 ${a} \u062A\u0631\u0644\u0627\u0633\u0647 \u0634\u0648`}case"invalid_value":return i.values.length===1?`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${ze(i.values[0])} \u0648\u0627\u06CC`:`\u0646\u0627\u0633\u0645 \u0627\u0646\u062A\u062E\u0627\u0628: \u0628\u0627\u06CC\u062F \u06CC\u0648 \u0644\u0647 ${be(i.values,"|")} \u0685\u062E\u0647 \u0648\u0627\u06CC`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${i.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${o}${i.maximum.toString()} ${s.unit??"\u0639\u0646\u0635\u0631\u0648\u0646\u0647"} \u0648\u0644\u0631\u064A`:`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${i.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${o}${i.maximum.toString()} \u0648\u064A`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${i.origin} \u0628\u0627\u06CC\u062F ${o}${i.minimum.toString()} ${s.unit} \u0648\u0644\u0631\u064A`:`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${i.origin} \u0628\u0627\u06CC\u062F ${o}${i.minimum.toString()} \u0648\u064A`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${o.prefix}" \u0633\u0631\u0647 \u067E\u06CC\u0644 \u0634\u064A`:o.format==="ends_with"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${o.suffix}" \u0633\u0631\u0647 \u067E\u0627\u06CC \u062A\u0647 \u0648\u0631\u0633\u064A\u0696\u064A`:o.format==="includes"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F "${o.includes}" \u0648\u0644\u0631\u064A`:o.format==="regex"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F ${o.pattern} \u0633\u0631\u0647 \u0645\u0637\u0627\u0628\u0642\u062A \u0648\u0644\u0631\u064A`:`${r[o.format]??i.format} \u0646\u0627\u0633\u0645 \u062F\u06CC`}case"not_multiple_of":return`\u0646\u0627\u0633\u0645 \u0639\u062F\u062F: \u0628\u0627\u06CC\u062F \u062F ${i.divisor} \u0645\u0636\u0631\u0628 \u0648\u064A`;case"unrecognized_keys":return`\u0646\u0627\u0633\u0645 ${i.keys.length>1?"\u06A9\u0644\u06CC\u0689\u0648\u0646\u0647":"\u06A9\u0644\u06CC\u0689"}: ${be(i.keys,", ")}`;case"invalid_key":return`\u0646\u0627\u0633\u0645 \u06A9\u0644\u06CC\u0689 \u067E\u0647 ${i.origin} \u06A9\u06D0`;case"invalid_union":return"\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A";case"invalid_element":return`\u0646\u0627\u0633\u0645 \u0639\u0646\u0635\u0631 \u067E\u0647 ${i.origin} \u06A9\u06D0`;default:return"\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A"}}};function N_e(){return{localeError:Bvt()}}var $vt=()=>{let t={string:{unit:"znak\xF3w",verb:"mie\u0107"},file:{unit:"bajt\xF3w",verb:"mie\u0107"},array:{unit:"element\xF3w",verb:"mie\u0107"},set:{unit:"element\xF3w",verb:"mie\u0107"}};function e(i){return t[i]??null}let r={regex:"wyra\u017Cenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"ci\u0105g znak\xF3w zakodowany w formacie base64",base64url:"ci\u0105g znak\xF3w zakodowany w formacie base64url",json_string:"ci\u0105g znak\xF3w w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wej\u015Bcie"},n={nan:"NaN",number:"liczba",array:"tablica"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano instanceof ${i.expected}, otrzymano ${a}`:`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${o}, otrzymano ${a}`}case"invalid_value":return i.values.length===1?`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${ze(i.values[0])}`:`Nieprawid\u0142owa opcja: oczekiwano jednej z warto\u015Bci ${be(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Za du\u017Ca warto\u015B\u0107: oczekiwano, \u017Ce ${i.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${o}${i.maximum.toString()} ${s.unit??"element\xF3w"}`:`Zbyt du\u017C(y/a/e): oczekiwano, \u017Ce ${i.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Za ma\u0142a warto\u015B\u0107: oczekiwano, \u017Ce ${i.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${o}${i.minimum.toString()} ${s.unit??"element\xF3w"}`:`Zbyt ma\u0142(y/a/e): oczekiwano, \u017Ce ${i.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zaczyna\u0107 si\u0119 od "${o.prefix}"`:o.format==="ends_with"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi ko\u0144czy\u0107 si\u0119 na "${o.suffix}"`:o.format==="includes"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zawiera\u0107 "${o.includes}"`:o.format==="regex"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi odpowiada\u0107 wzorcowi ${o.pattern}`:`Nieprawid\u0142ow(y/a/e) ${r[o.format]??i.format}`}case"not_multiple_of":return`Nieprawid\u0142owa liczba: musi by\u0107 wielokrotno\u015Bci\u0105 ${i.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${i.keys.length>1?"s":""}: ${be(i.keys,", ")}`;case"invalid_key":return`Nieprawid\u0142owy klucz w ${i.origin}`;case"invalid_union":return"Nieprawid\u0142owe dane wej\u015Bciowe";case"invalid_element":return`Nieprawid\u0142owa warto\u015B\u0107 w ${i.origin}`;default:return"Nieprawid\u0142owe dane wej\u015Bciowe"}}};function O_e(){return{localeError:$vt()}}var Uvt=()=>{let t={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function e(i){return t[i]??null}let r={regex:"padr\xE3o",email:"endere\xE7o de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"dura\xE7\xE3o ISO",ipv4:"endere\xE7o IPv4",ipv6:"endere\xE7o IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"},n={nan:"NaN",number:"n\xFAmero",null:"nulo"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Tipo inv\xE1lido: esperado instanceof ${i.expected}, recebido ${a}`:`Tipo inv\xE1lido: esperado ${o}, recebido ${a}`}case"invalid_value":return i.values.length===1?`Entrada inv\xE1lida: esperado ${ze(i.values[0])}`:`Op\xE7\xE3o inv\xE1lida: esperada uma das ${be(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Muito grande: esperado que ${i.origin??"valor"} tivesse ${o}${i.maximum.toString()} ${s.unit??"elementos"}`:`Muito grande: esperado que ${i.origin??"valor"} fosse ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Muito pequeno: esperado que ${i.origin} tivesse ${o}${i.minimum.toString()} ${s.unit}`:`Muito pequeno: esperado que ${i.origin} fosse ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Texto inv\xE1lido: deve come\xE7ar com "${o.prefix}"`:o.format==="ends_with"?`Texto inv\xE1lido: deve terminar com "${o.suffix}"`:o.format==="includes"?`Texto inv\xE1lido: deve incluir "${o.includes}"`:o.format==="regex"?`Texto inv\xE1lido: deve corresponder ao padr\xE3o ${o.pattern}`:`${r[o.format]??i.format} inv\xE1lido`}case"not_multiple_of":return`N\xFAmero inv\xE1lido: deve ser m\xFAltiplo de ${i.divisor}`;case"unrecognized_keys":return`Chave${i.keys.length>1?"s":""} desconhecida${i.keys.length>1?"s":""}: ${be(i.keys,", ")}`;case"invalid_key":return`Chave inv\xE1lida em ${i.origin}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido em ${i.origin}`;default:return"Campo inv\xE1lido"}}};function P_e(){return{localeError:Uvt()}}function k_e(t,e,r,n){let i=Math.abs(t),o=i%10,s=i%100;return s>=11&&s<=19?n:o===1?e:o>=2&&o<=4?r:n}var Fvt=()=>{let t={string:{unit:{one:"\u0441\u0438\u043C\u0432\u043E\u043B",few:"\u0441\u0438\u043C\u0432\u043E\u043B\u0430",many:"\u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u0430",many:"\u0431\u0430\u0439\u0442"},verb:"\u0438\u043C\u0435\u0442\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"}};function e(i){return t[i]??null}let r={regex:"\u0432\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0435\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0432\u0440\u0435\u043C\u044F",duration:"ISO \u0434\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441",cidrv4:"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",base64:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64",base64url:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64url",json_string:"JSON \u0441\u0442\u0440\u043E\u043A\u0430",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0432\u043E\u0434"},n={nan:"NaN",number:"\u0447\u0438\u0441\u043B\u043E",array:"\u043C\u0430\u0441\u0441\u0438\u0432"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C instanceof ${i.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E ${a}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${o}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E ${a}`}case"invalid_value":return i.values.length===1?`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${ze(i.values[0])}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0430\u0440\u0438\u0430\u043D\u0442: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0434\u043D\u043E \u0438\u0437 ${be(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);if(s){let a=Number(i.maximum),c=k_e(a,s.unit.one,s.unit.few,s.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${i.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${o}${i.maximum.toString()} ${c}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${i.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);if(s){let a=Number(i.minimum),c=k_e(a,s.unit.one,s.unit.few,s.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${i.origin} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${o}${i.minimum.toString()} ${c}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${i.origin} \u0431\u0443\u0434\u0435\u0442 ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u043D\u0430\u0447\u0438\u043D\u0430\u0442\u044C\u0441\u044F \u0441 "${o.prefix}"`:o.format==="ends_with"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0437\u0430\u043A\u0430\u043D\u0447\u0438\u0432\u0430\u0442\u044C\u0441\u044F \u043D\u0430 "${o.suffix}"`:o.format==="includes"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C "${o.includes}"`:o.format==="regex"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043E\u0432\u0430\u0442\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${o.pattern}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 ${r[o.format]??i.format}`}case"not_multiple_of":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0447\u0438\u0441\u043B\u043E: \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${i.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u043E\u0437\u043D\u0430\u043D\u043D${i.keys.length>1?"\u044B\u0435":"\u044B\u0439"} \u043A\u043B\u044E\u0447${i.keys.length>1?"\u0438":""}: ${be(i.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043A\u043B\u044E\u0447 \u0432 ${i.origin}`;case"invalid_union":return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435";case"invalid_element":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0432 ${i.origin}`;default:return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435"}}};function D_e(){return{localeError:Fvt()}}var zvt=()=>{let t={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function e(i){return t[i]??null}let r={regex:"vnos",email:"e-po\u0161tni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in \u010Das",date:"ISO datum",time:"ISO \u010Das",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 \u0161tevilka",jwt:"JWT",template_literal:"vnos"},n={nan:"NaN",number:"\u0161tevilo",array:"tabela"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Neveljaven vnos: pri\u010Dakovano instanceof ${i.expected}, prejeto ${a}`:`Neveljaven vnos: pri\u010Dakovano ${o}, prejeto ${a}`}case"invalid_value":return i.values.length===1?`Neveljaven vnos: pri\u010Dakovano ${ze(i.values[0])}`:`Neveljavna mo\u017Enost: pri\u010Dakovano eno izmed ${be(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Preveliko: pri\u010Dakovano, da bo ${i.origin??"vrednost"} imelo ${o}${i.maximum.toString()} ${s.unit??"elementov"}`:`Preveliko: pri\u010Dakovano, da bo ${i.origin??"vrednost"} ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Premajhno: pri\u010Dakovano, da bo ${i.origin} imelo ${o}${i.minimum.toString()} ${s.unit}`:`Premajhno: pri\u010Dakovano, da bo ${i.origin} ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Neveljaven niz: mora se za\u010Deti z "${o.prefix}"`:o.format==="ends_with"?`Neveljaven niz: mora se kon\u010Dati z "${o.suffix}"`:o.format==="includes"?`Neveljaven niz: mora vsebovati "${o.includes}"`:o.format==="regex"?`Neveljaven niz: mora ustrezati vzorcu ${o.pattern}`:`Neveljaven ${r[o.format]??i.format}`}case"not_multiple_of":return`Neveljavno \u0161tevilo: mora biti ve\u010Dkratnik ${i.divisor}`;case"unrecognized_keys":return`Neprepoznan${i.keys.length>1?"i klju\u010Di":" klju\u010D"}: ${be(i.keys,", ")}`;case"invalid_key":return`Neveljaven klju\u010D v ${i.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${i.origin}`;default:return"Neveljaven vnos"}}};function M_e(){return{localeError:zvt()}}var Vvt=()=>{let t={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att inneh\xE5lla"},set:{unit:"objekt",verb:"att inneh\xE5lla"}};function e(i){return t[i]??null}let r={regex:"regulj\xE4rt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad str\xE4ng",base64url:"base64url-kodad str\xE4ng",json_string:"JSON-str\xE4ng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"},n={nan:"NaN",number:"antal",array:"lista"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Ogiltig inmatning: f\xF6rv\xE4ntat instanceof ${i.expected}, fick ${a}`:`Ogiltig inmatning: f\xF6rv\xE4ntat ${o}, fick ${a}`}case"invalid_value":return i.values.length===1?`Ogiltig inmatning: f\xF6rv\xE4ntat ${ze(i.values[0])}`:`Ogiltigt val: f\xF6rv\xE4ntade en av ${be(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`F\xF6r stor(t): f\xF6rv\xE4ntade ${i.origin??"v\xE4rdet"} att ha ${o}${i.maximum.toString()} ${s.unit??"element"}`:`F\xF6r stor(t): f\xF6rv\xE4ntat ${i.origin??"v\xE4rdet"} att ha ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`F\xF6r lite(t): f\xF6rv\xE4ntade ${i.origin??"v\xE4rdet"} att ha ${o}${i.minimum.toString()} ${s.unit}`:`F\xF6r lite(t): f\xF6rv\xE4ntade ${i.origin??"v\xE4rdet"} att ha ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Ogiltig str\xE4ng: m\xE5ste b\xF6rja med "${o.prefix}"`:o.format==="ends_with"?`Ogiltig str\xE4ng: m\xE5ste sluta med "${o.suffix}"`:o.format==="includes"?`Ogiltig str\xE4ng: m\xE5ste inneh\xE5lla "${o.includes}"`:o.format==="regex"?`Ogiltig str\xE4ng: m\xE5ste matcha m\xF6nstret "${o.pattern}"`:`Ogiltig(t) ${r[o.format]??i.format}`}case"not_multiple_of":return`Ogiltigt tal: m\xE5ste vara en multipel av ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Ok\xE4nda nycklar":"Ok\xE4nd nyckel"}: ${be(i.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${i.origin??"v\xE4rdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xE4rde i ${i.origin??"v\xE4rdet"}`;default:return"Ogiltig input"}}};function L_e(){return{localeError:Vvt()}}var Hvt=()=>{let t={string:{unit:"\u0B8E\u0BB4\u0BC1\u0BA4\u0BCD\u0BA4\u0BC1\u0B95\u0BCD\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},file:{unit:"\u0BAA\u0BC8\u0B9F\u0BCD\u0B9F\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},array:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},set:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"}};function e(i){return t[i]??null}let r={regex:"\u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1",email:"\u0BAE\u0BBF\u0BA9\u0BCD\u0BA9\u0B9E\u0BCD\u0B9A\u0BB2\u0BCD \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0BA4\u0BC7\u0BA4\u0BBF \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",date:"ISO \u0BA4\u0BC7\u0BA4\u0BBF",time:"ISO \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",duration:"ISO \u0B95\u0BBE\u0BB2 \u0B85\u0BB3\u0BB5\u0BC1",ipv4:"IPv4 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",ipv6:"IPv6 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",cidrv4:"IPv4 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",cidrv6:"IPv6 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",base64:"base64-encoded \u0B9A\u0BB0\u0BAE\u0BCD",base64url:"base64url-encoded \u0B9A\u0BB0\u0BAE\u0BCD",json_string:"JSON \u0B9A\u0BB0\u0BAE\u0BCD",e164:"E.164 \u0B8E\u0BA3\u0BCD",jwt:"JWT",template_literal:"input"},n={nan:"NaN",number:"\u0B8E\u0BA3\u0BCD",array:"\u0B85\u0BA3\u0BBF",null:"\u0BB5\u0BC6\u0BB1\u0BC1\u0BAE\u0BC8"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 instanceof ${i.expected}, \u0BAA\u0BC6\u0BB1\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${a}`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${o}, \u0BAA\u0BC6\u0BB1\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${a}`}case"invalid_value":return i.values.length===1?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${ze(i.values[0])}`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0BAE\u0BCD: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${be(i.values,"|")} \u0B87\u0BB2\u0BCD \u0B92\u0BA9\u0BCD\u0BB1\u0BC1`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${i.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${o}${i.maximum.toString()} ${s.unit??"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD"} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${i.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${o}${i.maximum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${i.origin} ${o}${i.minimum.toString()} ${s.unit} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${i.origin} ${o}${i.minimum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${o.prefix}" \u0B87\u0BB2\u0BCD \u0BA4\u0BCA\u0B9F\u0B99\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:o.format==="ends_with"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${o.suffix}" \u0B87\u0BB2\u0BCD \u0BAE\u0BC1\u0B9F\u0BBF\u0BB5\u0B9F\u0BC8\u0BAF \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:o.format==="includes"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${o.includes}" \u0B90 \u0B89\u0BB3\u0BCD\u0BB3\u0B9F\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:o.format==="regex"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: ${o.pattern} \u0BAE\u0BC1\u0BB1\u0BC8\u0BAA\u0BBE\u0B9F\u0BCD\u0B9F\u0BC1\u0B9F\u0BA9\u0BCD \u0BAA\u0BCA\u0BB0\u0BC1\u0BA8\u0BCD\u0BA4 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 ${r[o.format]??i.format}`}case"not_multiple_of":return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B8E\u0BA3\u0BCD: ${i.divisor} \u0B87\u0BA9\u0BCD \u0BAA\u0BB2\u0BAE\u0BBE\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;case"unrecognized_keys":return`\u0B85\u0B9F\u0BC8\u0BAF\u0BBE\u0BB3\u0BAE\u0BCD \u0BA4\u0BC6\u0BB0\u0BBF\u0BAF\u0BBE\u0BA4 \u0BB5\u0BBF\u0B9A\u0BC8${i.keys.length>1?"\u0B95\u0BB3\u0BCD":""}: ${be(i.keys,", ")}`;case"invalid_key":return`${i.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0B9A\u0BC8`;case"invalid_union":return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1";case"invalid_element":return`${i.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1`;default:return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1"}}};function B_e(){return{localeError:Hvt()}}var Gvt=()=>{let t={string:{unit:"\u0E15\u0E31\u0E27\u0E2D\u0E31\u0E01\u0E29\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},file:{unit:"\u0E44\u0E1A\u0E15\u0E4C",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},array:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},set:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"}};function e(i){return t[i]??null}let r={regex:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19",email:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E2D\u0E35\u0E40\u0E21\u0E25",url:"URL",emoji:"\u0E2D\u0E34\u0E42\u0E21\u0E08\u0E34",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",date:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E1A\u0E1A ISO",time:"\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",duration:"\u0E0A\u0E48\u0E27\u0E07\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",ipv4:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv4",ipv6:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv6",cidrv4:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv4",cidrv6:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv6",base64:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64",base64url:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64 \u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A URL",json_string:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A JSON",e164:"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23\u0E28\u0E31\u0E1E\u0E17\u0E4C\u0E23\u0E30\u0E2B\u0E27\u0E48\u0E32\u0E07\u0E1B\u0E23\u0E30\u0E40\u0E17\u0E28 (E.164)",jwt:"\u0E42\u0E17\u0E40\u0E04\u0E19 JWT",template_literal:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19"},n={nan:"NaN",number:"\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02",array:"\u0E2D\u0E32\u0E23\u0E4C\u0E40\u0E23\u0E22\u0E4C (Array)",null:"\u0E44\u0E21\u0E48\u0E21\u0E35\u0E04\u0E48\u0E32 (null)"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 instanceof ${i.expected} \u0E41\u0E15\u0E48\u0E44\u0E14\u0E49\u0E23\u0E31\u0E1A ${a}`:`\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${o} \u0E41\u0E15\u0E48\u0E44\u0E14\u0E49\u0E23\u0E31\u0E1A ${a}`}case"invalid_value":return i.values.length===1?`\u0E04\u0E48\u0E32\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${ze(i.values[0])}`:`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19\u0E2B\u0E19\u0E36\u0E48\u0E07\u0E43\u0E19 ${be(i.values,"|")}`;case"too_big":{let o=i.inclusive?"\u0E44\u0E21\u0E48\u0E40\u0E01\u0E34\u0E19":"\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32",s=e(i.origin);return s?`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${i.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${o} ${i.maximum.toString()} ${s.unit??"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23"}`:`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${i.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${o} ${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?"\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E19\u0E49\u0E2D\u0E22":"\u0E21\u0E32\u0E01\u0E01\u0E27\u0E48\u0E32",s=e(i.origin);return s?`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${i.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${o} ${i.minimum.toString()} ${s.unit}`:`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${i.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${o} ${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E02\u0E36\u0E49\u0E19\u0E15\u0E49\u0E19\u0E14\u0E49\u0E27\u0E22 "${o.prefix}"`:o.format==="ends_with"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E25\u0E07\u0E17\u0E49\u0E32\u0E22\u0E14\u0E49\u0E27\u0E22 "${o.suffix}"`:o.format==="includes"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E21\u0E35 "${o.includes}" \u0E2D\u0E22\u0E39\u0E48\u0E43\u0E19\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21`:o.format==="regex"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14 ${o.pattern}`:`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: ${r[o.format]??i.format}`}case"not_multiple_of":return`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E40\u0E1B\u0E47\u0E19\u0E08\u0E33\u0E19\u0E27\u0E19\u0E17\u0E35\u0E48\u0E2B\u0E32\u0E23\u0E14\u0E49\u0E27\u0E22 ${i.divisor} \u0E44\u0E14\u0E49\u0E25\u0E07\u0E15\u0E31\u0E27`;case"unrecognized_keys":return`\u0E1E\u0E1A\u0E04\u0E35\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E44\u0E21\u0E48\u0E23\u0E39\u0E49\u0E08\u0E31\u0E01: ${be(i.keys,", ")}`;case"invalid_key":return`\u0E04\u0E35\u0E22\u0E4C\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${i.origin}`;case"invalid_union":return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E44\u0E21\u0E48\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E22\u0E39\u0E40\u0E19\u0E35\u0E22\u0E19\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14\u0E44\u0E27\u0E49";case"invalid_element":return`\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${i.origin}`;default:return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07"}}};function $_e(){return{localeError:Gvt()}}var jvt=()=>{let t={string:{unit:"karakter",verb:"olmal\u0131"},file:{unit:"bayt",verb:"olmal\u0131"},array:{unit:"\xF6\u011Fe",verb:"olmal\u0131"},set:{unit:"\xF6\u011Fe",verb:"olmal\u0131"}};function e(i){return t[i]??null}let r={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO s\xFCre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral\u0131\u011F\u0131",cidrv6:"IPv6 aral\u0131\u011F\u0131",base64:"base64 ile \u015Fifrelenmi\u015F metin",base64url:"base64url ile \u015Fifrelenmi\u015F metin",json_string:"JSON dizesi",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"\u015Eablon dizesi"},n={nan:"NaN"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Ge\xE7ersiz de\u011Fer: beklenen instanceof ${i.expected}, al\u0131nan ${a}`:`Ge\xE7ersiz de\u011Fer: beklenen ${o}, al\u0131nan ${a}`}case"invalid_value":return i.values.length===1?`Ge\xE7ersiz de\u011Fer: beklenen ${ze(i.values[0])}`:`Ge\xE7ersiz se\xE7enek: a\u015Fa\u011F\u0131dakilerden biri olmal\u0131: ${be(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\xC7ok b\xFCy\xFCk: beklenen ${i.origin??"de\u011Fer"} ${o}${i.maximum.toString()} ${s.unit??"\xF6\u011Fe"}`:`\xC7ok b\xFCy\xFCk: beklenen ${i.origin??"de\u011Fer"} ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\xC7ok k\xFC\xE7\xFCk: beklenen ${i.origin} ${o}${i.minimum.toString()} ${s.unit}`:`\xC7ok k\xFC\xE7\xFCk: beklenen ${i.origin} ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Ge\xE7ersiz metin: "${o.prefix}" ile ba\u015Flamal\u0131`:o.format==="ends_with"?`Ge\xE7ersiz metin: "${o.suffix}" ile bitmeli`:o.format==="includes"?`Ge\xE7ersiz metin: "${o.includes}" i\xE7ermeli`:o.format==="regex"?`Ge\xE7ersiz metin: ${o.pattern} desenine uymal\u0131`:`Ge\xE7ersiz ${r[o.format]??i.format}`}case"not_multiple_of":return`Ge\xE7ersiz say\u0131: ${i.divisor} ile tam b\xF6l\xFCnebilmeli`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar${i.keys.length>1?"lar":""}: ${be(i.keys,", ")}`;case"invalid_key":return`${i.origin} i\xE7inde ge\xE7ersiz anahtar`;case"invalid_union":return"Ge\xE7ersiz de\u011Fer";case"invalid_element":return`${i.origin} i\xE7inde ge\xE7ersiz de\u011Fer`;default:return"Ge\xE7ersiz de\u011Fer"}}};function U_e(){return{localeError:jvt()}}var qvt=()=>{let t={string:{unit:"\u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},file:{unit:"\u0431\u0430\u0439\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},array:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},set:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"}};function e(i){return t[i]??null}let r={regex:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u0435\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0457 \u043F\u043E\u0448\u0442\u0438",url:"URL",emoji:"\u0435\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0434\u0430\u0442\u0430 \u0442\u0430 \u0447\u0430\u0441 ISO",date:"\u0434\u0430\u0442\u0430 ISO",time:"\u0447\u0430\u0441 ISO",duration:"\u0442\u0440\u0438\u0432\u0430\u043B\u0456\u0441\u0442\u044C ISO",ipv4:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv4",ipv6:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv6",cidrv4:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv4",cidrv6:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv6",base64:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64",base64url:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64url",json_string:"\u0440\u044F\u0434\u043E\u043A JSON",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"},n={nan:"NaN",number:"\u0447\u0438\u0441\u043B\u043E",array:"\u043C\u0430\u0441\u0438\u0432"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F instanceof ${i.expected}, \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043E ${a}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${o}, \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043E ${a}`}case"invalid_value":return i.values.length===1?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${ze(i.values[0])}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0430 \u043E\u043F\u0446\u0456\u044F: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F \u043E\u0434\u043D\u0435 \u0437 ${be(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${i.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} ${s.verb} ${o}${i.maximum.toString()} ${s.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432"}`:`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${i.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} \u0431\u0443\u0434\u0435 ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${i.origin} ${s.verb} ${o}${i.minimum.toString()} ${s.unit}`:`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${i.origin} \u0431\u0443\u0434\u0435 ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043F\u043E\u0447\u0438\u043D\u0430\u0442\u0438\u0441\u044F \u0437 "${o.prefix}"`:o.format==="ends_with"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0437\u0430\u043A\u0456\u043D\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044F \u043D\u0430 "${o.suffix}"`:o.format==="includes"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043C\u0456\u0441\u0442\u0438\u0442\u0438 "${o.includes}"`:o.format==="regex"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0432\u0456\u0434\u043F\u043E\u0432\u0456\u0434\u0430\u0442\u0438 \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${o.pattern}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 ${r[o.format]??i.format}`}case"not_multiple_of":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0447\u0438\u0441\u043B\u043E: \u043F\u043E\u0432\u0438\u043D\u043D\u043E \u0431\u0443\u0442\u0438 \u043A\u0440\u0430\u0442\u043D\u0438\u043C ${i.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u043E\u0437\u043F\u0456\u0437\u043D\u0430\u043D\u0438\u0439 \u043A\u043B\u044E\u0447${i.keys.length>1?"\u0456":""}: ${be(i.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u043A\u043B\u044E\u0447 \u0443 ${i.origin}`;case"invalid_union":return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456";case"invalid_element":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F \u0443 ${i.origin}`;default:return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"}}};function d7(){return{localeError:qvt()}}function F_e(){return d7()}var Jvt=()=>{let t={string:{unit:"\u062D\u0631\u0648\u0641",verb:"\u06C1\u0648\u0646\u0627"},file:{unit:"\u0628\u0627\u0626\u0679\u0633",verb:"\u06C1\u0648\u0646\u0627"},array:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"},set:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"}};function e(i){return t[i]??null}let r={regex:"\u0627\u0646 \u067E\u0679",email:"\u0627\u06CC \u0645\u06CC\u0644 \u0627\u06CC\u0688\u0631\u06CC\u0633",url:"\u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",uuidv4:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 4",uuidv6:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 6",nanoid:"\u0646\u06CC\u0646\u0648 \u0622\u0626\u06CC \u0688\u06CC",guid:"\u062C\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid2:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC 2",ulid:"\u06CC\u0648 \u0627\u06CC\u0644 \u0622\u0626\u06CC \u0688\u06CC",xid:"\u0627\u06CC\u06A9\u0633 \u0622\u0626\u06CC \u0688\u06CC",ksuid:"\u06A9\u06D2 \u0627\u06CC\u0633 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",datetime:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0688\u06CC\u0679 \u0679\u0627\u0626\u0645",date:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u062A\u0627\u0631\u06CC\u062E",time:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0648\u0642\u062A",duration:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0645\u062F\u062A",ipv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0627\u06CC\u0688\u0631\u06CC\u0633",ipv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0627\u06CC\u0688\u0631\u06CC\u0633",cidrv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0631\u06CC\u0646\u062C",cidrv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0631\u06CC\u0646\u062C",base64:"\u0628\u06CC\u0633 64 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",base64url:"\u0628\u06CC\u0633 64 \u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",json_string:"\u062C\u06D2 \u0627\u06CC\u0633 \u0627\u0648 \u0627\u06CC\u0646 \u0633\u0679\u0631\u0646\u06AF",e164:"\u0627\u06CC 164 \u0646\u0645\u0628\u0631",jwt:"\u062C\u06D2 \u0688\u0628\u0644\u06CC\u0648 \u0679\u06CC",template_literal:"\u0627\u0646 \u067E\u0679"},n={nan:"NaN",number:"\u0646\u0645\u0628\u0631",array:"\u0622\u0631\u06D2",null:"\u0646\u0644"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: instanceof ${i.expected} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627\u060C ${a} \u0645\u0648\u0635\u0648\u0644 \u06C1\u0648\u0627`:`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${o} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627\u060C ${a} \u0645\u0648\u0635\u0648\u0644 \u06C1\u0648\u0627`}case"invalid_value":return i.values.length===1?`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${ze(i.values[0])} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`:`\u063A\u0644\u0637 \u0622\u067E\u0634\u0646: ${be(i.values,"|")} \u0645\u06CC\u06BA \u0633\u06D2 \u0627\u06CC\u06A9 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u0628\u06C1\u062A \u0628\u0691\u0627: ${i.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u06D2 ${o}${i.maximum.toString()} ${s.unit??"\u0639\u0646\u0627\u0635\u0631"} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`:`\u0628\u06C1\u062A \u0628\u0691\u0627: ${i.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u0627 ${o}${i.maximum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${i.origin} \u06A9\u06D2 ${o}${i.minimum.toString()} ${s.unit} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`:`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${i.origin} \u06A9\u0627 ${o}${i.minimum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${o.prefix}" \u0633\u06D2 \u0634\u0631\u0648\u0639 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:o.format==="ends_with"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${o.suffix}" \u067E\u0631 \u062E\u062A\u0645 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:o.format==="includes"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${o.includes}" \u0634\u0627\u0645\u0644 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:o.format==="regex"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: \u067E\u06CC\u0679\u0631\u0646 ${o.pattern} \u0633\u06D2 \u0645\u06CC\u0686 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:`\u063A\u0644\u0637 ${r[o.format]??i.format}`}case"not_multiple_of":return`\u063A\u0644\u0637 \u0646\u0645\u0628\u0631: ${i.divisor} \u06A9\u0627 \u0645\u0636\u0627\u0639\u0641 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;case"unrecognized_keys":return`\u063A\u06CC\u0631 \u062A\u0633\u0644\u06CC\u0645 \u0634\u062F\u06C1 \u06A9\u06CC${i.keys.length>1?"\u0632":""}: ${be(i.keys,"\u060C ")}`;case"invalid_key":return`${i.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u06A9\u06CC`;case"invalid_union":return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679";case"invalid_element":return`${i.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u0648\u06CC\u0644\u06CC\u0648`;default:return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679"}}};function z_e(){return{localeError:Jvt()}}var Wvt=()=>{let t={string:{unit:"belgi",verb:"bo\u2018lishi kerak"},file:{unit:"bayt",verb:"bo\u2018lishi kerak"},array:{unit:"element",verb:"bo\u2018lishi kerak"},set:{unit:"element",verb:"bo\u2018lishi kerak"}};function e(i){return t[i]??null}let r={regex:"kirish",email:"elektron pochta manzili",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO sana va vaqti",date:"ISO sana",time:"ISO vaqt",duration:"ISO davomiylik",ipv4:"IPv4 manzil",ipv6:"IPv6 manzil",mac:"MAC manzil",cidrv4:"IPv4 diapazon",cidrv6:"IPv6 diapazon",base64:"base64 kodlangan satr",base64url:"base64url kodlangan satr",json_string:"JSON satr",e164:"E.164 raqam",jwt:"JWT",template_literal:"kirish"},n={nan:"NaN",number:"raqam",array:"massiv"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Noto\u2018g\u2018ri kirish: kutilgan instanceof ${i.expected}, qabul qilingan ${a}`:`Noto\u2018g\u2018ri kirish: kutilgan ${o}, qabul qilingan ${a}`}case"invalid_value":return i.values.length===1?`Noto\u2018g\u2018ri kirish: kutilgan ${ze(i.values[0])}`:`Noto\u2018g\u2018ri variant: quyidagilardan biri kutilgan ${be(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Juda katta: kutilgan ${i.origin??"qiymat"} ${o}${i.maximum.toString()} ${s.unit} ${s.verb}`:`Juda katta: kutilgan ${i.origin??"qiymat"} ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Juda kichik: kutilgan ${i.origin} ${o}${i.minimum.toString()} ${s.unit} ${s.verb}`:`Juda kichik: kutilgan ${i.origin} ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Noto\u2018g\u2018ri satr: "${o.prefix}" bilan boshlanishi kerak`:o.format==="ends_with"?`Noto\u2018g\u2018ri satr: "${o.suffix}" bilan tugashi kerak`:o.format==="includes"?`Noto\u2018g\u2018ri satr: "${o.includes}" ni o\u2018z ichiga olishi kerak`:o.format==="regex"?`Noto\u2018g\u2018ri satr: ${o.pattern} shabloniga mos kelishi kerak`:`Noto\u2018g\u2018ri ${r[o.format]??i.format}`}case"not_multiple_of":return`Noto\u2018g\u2018ri raqam: ${i.divisor} ning karralisi bo\u2018lishi kerak`;case"unrecognized_keys":return`Noma\u2019lum kalit${i.keys.length>1?"lar":""}: ${be(i.keys,", ")}`;case"invalid_key":return`${i.origin} dagi kalit noto\u2018g\u2018ri`;case"invalid_union":return"Noto\u2018g\u2018ri kirish";case"invalid_element":return`${i.origin} da noto\u2018g\u2018ri qiymat`;default:return"Noto\u2018g\u2018ri kirish"}}};function V_e(){return{localeError:Wvt()}}var Kvt=()=>{let t={string:{unit:"k\xFD t\u1EF1",verb:"c\xF3"},file:{unit:"byte",verb:"c\xF3"},array:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"},set:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"}};function e(i){return t[i]??null}let r={regex:"\u0111\u1EA7u v\xE0o",email:"\u0111\u1ECBa ch\u1EC9 email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ng\xE0y gi\u1EDD ISO",date:"ng\xE0y ISO",time:"gi\u1EDD ISO",duration:"kho\u1EA3ng th\u1EDDi gian ISO",ipv4:"\u0111\u1ECBa ch\u1EC9 IPv4",ipv6:"\u0111\u1ECBa ch\u1EC9 IPv6",cidrv4:"d\u1EA3i IPv4",cidrv6:"d\u1EA3i IPv6",base64:"chu\u1ED7i m\xE3 h\xF3a base64",base64url:"chu\u1ED7i m\xE3 h\xF3a base64url",json_string:"chu\u1ED7i JSON",e164:"s\u1ED1 E.164",jwt:"JWT",template_literal:"\u0111\u1EA7u v\xE0o"},n={nan:"NaN",number:"s\u1ED1",array:"m\u1EA3ng"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i instanceof ${i.expected}, nh\u1EADn \u0111\u01B0\u1EE3c ${a}`:`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${o}, nh\u1EADn \u0111\u01B0\u1EE3c ${a}`}case"invalid_value":return i.values.length===1?`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${ze(i.values[0])}`:`T\xF9y ch\u1ECDn kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i m\u1ED9t trong c\xE1c gi\xE1 tr\u1ECB ${be(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${i.origin??"gi\xE1 tr\u1ECB"} ${s.verb} ${o}${i.maximum.toString()} ${s.unit??"ph\u1EA7n t\u1EED"}`:`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${i.origin??"gi\xE1 tr\u1ECB"} ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${i.origin} ${s.verb} ${o}${i.minimum.toString()} ${s.unit}`:`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${i.origin} ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i b\u1EAFt \u0111\u1EA7u b\u1EB1ng "${o.prefix}"`:o.format==="ends_with"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i k\u1EBFt th\xFAc b\u1EB1ng "${o.suffix}"`:o.format==="includes"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i bao g\u1ED3m "${o.includes}"`:o.format==="regex"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i kh\u1EDBp v\u1EDBi m\u1EABu ${o.pattern}`:`${r[o.format]??i.format} kh\xF4ng h\u1EE3p l\u1EC7`}case"not_multiple_of":return`S\u1ED1 kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i l\xE0 b\u1ED9i s\u1ED1 c\u1EE7a ${i.divisor}`;case"unrecognized_keys":return`Kh\xF3a kh\xF4ng \u0111\u01B0\u1EE3c nh\u1EADn d\u1EA1ng: ${be(i.keys,", ")}`;case"invalid_key":return`Kh\xF3a kh\xF4ng h\u1EE3p l\u1EC7 trong ${i.origin}`;case"invalid_union":return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7";case"invalid_element":return`Gi\xE1 tr\u1ECB kh\xF4ng h\u1EE3p l\u1EC7 trong ${i.origin}`;default:return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7"}}};function H_e(){return{localeError:Kvt()}}var Qvt=()=>{let t={string:{unit:"\u5B57\u7B26",verb:"\u5305\u542B"},file:{unit:"\u5B57\u8282",verb:"\u5305\u542B"},array:{unit:"\u9879",verb:"\u5305\u542B"},set:{unit:"\u9879",verb:"\u5305\u542B"}};function e(i){return t[i]??null}let r={regex:"\u8F93\u5165",email:"\u7535\u5B50\u90AE\u4EF6",url:"URL",emoji:"\u8868\u60C5\u7B26\u53F7",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u671F\u65F6\u95F4",date:"ISO\u65E5\u671F",time:"ISO\u65F6\u95F4",duration:"ISO\u65F6\u957F",ipv4:"IPv4\u5730\u5740",ipv6:"IPv6\u5730\u5740",cidrv4:"IPv4\u7F51\u6BB5",cidrv6:"IPv6\u7F51\u6BB5",base64:"base64\u7F16\u7801\u5B57\u7B26\u4E32",base64url:"base64url\u7F16\u7801\u5B57\u7B26\u4E32",json_string:"JSON\u5B57\u7B26\u4E32",e164:"E.164\u53F7\u7801",jwt:"JWT",template_literal:"\u8F93\u5165"},n={nan:"NaN",number:"\u6570\u5B57",array:"\u6570\u7EC4",null:"\u7A7A\u503C(null)"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B instanceof ${i.expected}\uFF0C\u5B9E\u9645\u63A5\u6536 ${a}`:`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${o}\uFF0C\u5B9E\u9645\u63A5\u6536 ${a}`}case"invalid_value":return i.values.length===1?`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${ze(i.values[0])}`:`\u65E0\u6548\u9009\u9879\uFF1A\u671F\u671B\u4EE5\u4E0B\u4E4B\u4E00 ${be(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${i.origin??"\u503C"} ${o}${i.maximum.toString()} ${s.unit??"\u4E2A\u5143\u7D20"}`:`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${i.origin??"\u503C"} ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${i.origin} ${o}${i.minimum.toString()} ${s.unit}`:`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${i.origin} ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${o.prefix}" \u5F00\u5934`:o.format==="ends_with"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${o.suffix}" \u7ED3\u5C3E`:o.format==="includes"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u5305\u542B "${o.includes}"`:o.format==="regex"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u6EE1\u8DB3\u6B63\u5219\u8868\u8FBE\u5F0F ${o.pattern}`:`\u65E0\u6548${r[o.format]??i.format}`}case"not_multiple_of":return`\u65E0\u6548\u6570\u5B57\uFF1A\u5FC5\u987B\u662F ${i.divisor} \u7684\u500D\u6570`;case"unrecognized_keys":return`\u51FA\u73B0\u672A\u77E5\u7684\u952E(key): ${be(i.keys,", ")}`;case"invalid_key":return`${i.origin} \u4E2D\u7684\u952E(key)\u65E0\u6548`;case"invalid_union":return"\u65E0\u6548\u8F93\u5165";case"invalid_element":return`${i.origin} \u4E2D\u5305\u542B\u65E0\u6548\u503C(value)`;default:return"\u65E0\u6548\u8F93\u5165"}}};function G_e(){return{localeError:Qvt()}}var Xvt=()=>{let t={string:{unit:"\u5B57\u5143",verb:"\u64C1\u6709"},file:{unit:"\u4F4D\u5143\u7D44",verb:"\u64C1\u6709"},array:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"},set:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"}};function e(i){return t[i]??null}let r={regex:"\u8F38\u5165",email:"\u90F5\u4EF6\u5730\u5740",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u65E5\u671F\u6642\u9593",date:"ISO \u65E5\u671F",time:"ISO \u6642\u9593",duration:"ISO \u671F\u9593",ipv4:"IPv4 \u4F4D\u5740",ipv6:"IPv6 \u4F4D\u5740",cidrv4:"IPv4 \u7BC4\u570D",cidrv6:"IPv6 \u7BC4\u570D",base64:"base64 \u7DE8\u78BC\u5B57\u4E32",base64url:"base64url \u7DE8\u78BC\u5B57\u4E32",json_string:"JSON \u5B57\u4E32",e164:"E.164 \u6578\u503C",jwt:"JWT",template_literal:"\u8F38\u5165"},n={nan:"NaN"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA instanceof ${i.expected}\uFF0C\u4F46\u6536\u5230 ${a}`:`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${o}\uFF0C\u4F46\u6536\u5230 ${a}`}case"invalid_value":return i.values.length===1?`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${ze(i.values[0])}`:`\u7121\u6548\u7684\u9078\u9805\uFF1A\u9810\u671F\u70BA\u4EE5\u4E0B\u5176\u4E2D\u4E4B\u4E00 ${be(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${i.origin??"\u503C"} \u61C9\u70BA ${o}${i.maximum.toString()} ${s.unit??"\u500B\u5143\u7D20"}`:`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${i.origin??"\u503C"} \u61C9\u70BA ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${i.origin} \u61C9\u70BA ${o}${i.minimum.toString()} ${s.unit}`:`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${i.origin} \u61C9\u70BA ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${o.prefix}" \u958B\u982D`:o.format==="ends_with"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${o.suffix}" \u7D50\u5C3E`:o.format==="includes"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u5305\u542B "${o.includes}"`:o.format==="regex"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u7B26\u5408\u683C\u5F0F ${o.pattern}`:`\u7121\u6548\u7684 ${r[o.format]??i.format}`}case"not_multiple_of":return`\u7121\u6548\u7684\u6578\u5B57\uFF1A\u5FC5\u9808\u70BA ${i.divisor} \u7684\u500D\u6578`;case"unrecognized_keys":return`\u7121\u6CD5\u8B58\u5225\u7684\u9375\u503C${i.keys.length>1?"\u5011":""}\uFF1A${be(i.keys,"\u3001")}`;case"invalid_key":return`${i.origin} \u4E2D\u6709\u7121\u6548\u7684\u9375\u503C`;case"invalid_union":return"\u7121\u6548\u7684\u8F38\u5165\u503C";case"invalid_element":return`${i.origin} \u4E2D\u6709\u7121\u6548\u7684\u503C`;default:return"\u7121\u6548\u7684\u8F38\u5165\u503C"}}};function j_e(){return{localeError:Xvt()}}var Yvt=()=>{let t={string:{unit:"\xE0mi",verb:"n\xED"},file:{unit:"bytes",verb:"n\xED"},array:{unit:"nkan",verb:"n\xED"},set:{unit:"nkan",verb:"n\xED"}};function e(i){return t[i]??null}let r={regex:"\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9",email:"\xE0d\xEDr\u1EB9\u0301s\xEC \xECm\u1EB9\u0301l\xEC",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\xE0k\xF3k\xF2 ISO",date:"\u1ECDj\u1ECD\u0301 ISO",time:"\xE0k\xF3k\xF2 ISO",duration:"\xE0k\xF3k\xF2 t\xF3 p\xE9 ISO",ipv4:"\xE0d\xEDr\u1EB9\u0301s\xEC IPv4",ipv6:"\xE0d\xEDr\u1EB9\u0301s\xEC IPv6",cidrv4:"\xE0gb\xE8gb\xE8 IPv4",cidrv6:"\xE0gb\xE8gb\xE8 IPv6",base64:"\u1ECD\u0300r\u1ECD\u0300 t\xED a k\u1ECD\u0301 n\xED base64",base64url:"\u1ECD\u0300r\u1ECD\u0300 base64url",json_string:"\u1ECD\u0300r\u1ECD\u0300 JSON",e164:"n\u1ECD\u0301mb\xE0 E.164",jwt:"JWT",template_literal:"\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9"},n={nan:"NaN",number:"n\u1ECD\u0301mb\xE0",array:"akop\u1ECD"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=He(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi instanceof ${i.expected}, \xE0m\u1ECD\u0300 a r\xED ${a}`:`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${o}, \xE0m\u1ECD\u0300 a r\xED ${a}`}case"invalid_value":return i.values.length===1?`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${ze(i.values[0])}`:`\xC0\u1E63\xE0y\xE0n a\u1E63\xEC\u1E63e: yan \u1ECD\u0300kan l\xE1ra ${be(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${i.origin??"iye"} ${s.verb} ${o}${i.maximum} ${s.unit}`:`T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 ${o}${i.maximum}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${i.origin} ${s.verb} ${o}${i.minimum} ${s.unit}`:`K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 ${o}${i.minimum}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\u1EB9\u0300r\u1EB9\u0300 p\u1EB9\u0300l\xFA "${o.prefix}"`:o.format==="ends_with"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 par\xED p\u1EB9\u0300l\xFA "${o.suffix}"`:o.format==="includes"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 n\xED "${o.includes}"`:o.format==="regex"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\xE1 \xE0p\u1EB9\u1EB9r\u1EB9 mu ${o.pattern}`:`A\u1E63\xEC\u1E63e: ${r[o.format]??i.format}`}case"not_multiple_of":return`N\u1ECD\u0301mb\xE0 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 j\u1EB9\u0301 \xE8y\xE0 p\xEDp\xEDn ti ${i.divisor}`;case"unrecognized_keys":return`B\u1ECDt\xECn\xEC \xE0\xECm\u1ECD\u0300: ${be(i.keys,", ")}`;case"invalid_key":return`B\u1ECDt\xECn\xEC a\u1E63\xEC\u1E63e n\xEDn\xFA ${i.origin}`;case"invalid_union":return"\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e";case"invalid_element":return`Iye a\u1E63\xEC\u1E63e n\xEDn\xFA ${i.origin}`;default:return"\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e"}}};function q_e(){return{localeError:Yvt()}}var J_e,sW=Symbol("ZodOutput"),aW=Symbol("ZodInput"),p7=class{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...r){let n=r[0];return this._map.set(e,n),n&&typeof n=="object"&&"id"in n&&this._idmap.set(n.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){let r=this._map.get(e);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(e),this}get(e){let r=e._zod.parent;if(r){let n={...this.get(r)??{}};delete n.id;let i={...n,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}};function f7(){return new p7}(J_e=globalThis).__zod_globalRegistry??(J_e.__zod_globalRegistry=f7());var ns=globalThis.__zod_globalRegistry;function cW(t,e){return new t({type:"string",...We(e)})}function lW(t,e){return new t({type:"string",coerce:!0,...We(e)})}function m7(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...We(e)})}function n3(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...We(e)})}function h7(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...We(e)})}function g7(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...We(e)})}function y7(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...We(e)})}function b7(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...We(e)})}function i3(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...We(e)})}function v7(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...We(e)})}function _7(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...We(e)})}function x7(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...We(e)})}function S7(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...We(e)})}function w7(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...We(e)})}function A7(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...We(e)})}function E7(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...We(e)})}function T7(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...We(e)})}function R7(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...We(e)})}function uW(t,e){return new t({type:"string",format:"mac",check:"string_format",abort:!1,...We(e)})}function I7(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...We(e)})}function C7(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...We(e)})}function N7(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...We(e)})}function O7(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...We(e)})}function P7(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...We(e)})}function k7(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...We(e)})}var dW={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function pW(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...We(e)})}function fW(t,e){return new t({type:"string",format:"date",check:"string_format",...We(e)})}function mW(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...We(e)})}function hW(t,e){return new t({type:"string",format:"duration",check:"string_format",...We(e)})}function gW(t,e){return new t({type:"number",checks:[],...We(e)})}function yW(t,e){return new t({type:"number",coerce:!0,checks:[],...We(e)})}function bW(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...We(e)})}function vW(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"float32",...We(e)})}function _W(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"float64",...We(e)})}function xW(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"int32",...We(e)})}function SW(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"uint32",...We(e)})}function wW(t,e){return new t({type:"boolean",...We(e)})}function AW(t,e){return new t({type:"boolean",coerce:!0,...We(e)})}function EW(t,e){return new t({type:"bigint",...We(e)})}function TW(t,e){return new t({type:"bigint",coerce:!0,...We(e)})}function RW(t,e){return new t({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...We(e)})}function IW(t,e){return new t({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...We(e)})}function CW(t,e){return new t({type:"symbol",...We(e)})}function NW(t,e){return new t({type:"undefined",...We(e)})}function OW(t,e){return new t({type:"null",...We(e)})}function PW(t){return new t({type:"any"})}function kW(t){return new t({type:"unknown"})}function DW(t,e){return new t({type:"never",...We(e)})}function MW(t,e){return new t({type:"void",...We(e)})}function LW(t,e){return new t({type:"date",...We(e)})}function BW(t,e){return new t({type:"date",coerce:!0,...We(e)})}function $W(t,e){return new t({type:"nan",...We(e)})}function Np(t,e){return new YO({check:"less_than",...We(e),value:t,inclusive:!1})}function Gc(t,e){return new YO({check:"less_than",...We(e),value:t,inclusive:!0})}function Op(t,e){return new ZO({check:"greater_than",...We(e),value:t,inclusive:!1})}function ha(t,e){return new ZO({check:"greater_than",...We(e),value:t,inclusive:!0})}function D7(t){return Op(0,t)}function M7(t){return Np(0,t)}function L7(t){return Gc(0,t)}function B7(t){return ha(0,t)}function Kg(t,e){return new Oq({check:"multiple_of",...We(e),value:t})}function Qg(t,e){return new Dq({check:"max_size",...We(e),maximum:t})}function Pp(t,e){return new Mq({check:"min_size",...We(e),minimum:t})}function sb(t,e){return new Lq({check:"size_equals",...We(e),size:t})}function ab(t,e){return new Bq({check:"max_length",...We(e),maximum:t})}function cm(t,e){return new $q({check:"min_length",...We(e),minimum:t})}function cb(t,e){return new Uq({check:"length_equals",...We(e),length:t})}function $x(t,e){return new Fq({check:"string_format",format:"regex",...We(e),pattern:t})}function Ux(t){return new zq({check:"string_format",format:"lowercase",...We(t)})}function Fx(t){return new Vq({check:"string_format",format:"uppercase",...We(t)})}function zx(t,e){return new Hq({check:"string_format",format:"includes",...We(e),includes:t})}function Vx(t,e){return new Gq({check:"string_format",format:"starts_with",...We(e),prefix:t})}function Hx(t,e){return new jq({check:"string_format",format:"ends_with",...We(e),suffix:t})}function $7(t,e,r){return new qq({check:"property",property:t,schema:e,...We(r)})}function Gx(t,e){return new Jq({check:"mime_type",mime:t,...We(e)})}function xd(t){return new Wq({check:"overwrite",tx:t})}function jx(t){return xd(e=>e.normalize(t))}function qx(){return xd(t=>t.trim())}function Jx(){return xd(t=>t.toLowerCase())}function Wx(){return xd(t=>t.toUpperCase())}function Kx(){return xd(t=>qj(t))}function UW(t,e,r){return new t({type:"array",element:e,...We(r)})}function e2t(t,e,r){return new t({type:"union",options:e,...We(r)})}function t2t(t,e,r){return new t({type:"union",options:e,inclusive:!1,...We(r)})}function r2t(t,e,r,n){return new t({type:"union",options:r,discriminator:e,...We(n)})}function n2t(t,e,r){return new t({type:"intersection",left:e,right:r})}function i2t(t,e,r,n){let i=r instanceof tr,o=i?n:r,s=i?r:null;return new t({type:"tuple",items:e,rest:s,...We(o)})}function o2t(t,e,r,n){return new t({type:"record",keyType:e,valueType:r,...We(n)})}function s2t(t,e,r,n){return new t({type:"map",keyType:e,valueType:r,...We(n)})}function a2t(t,e,r){return new t({type:"set",valueType:e,...We(r)})}function c2t(t,e,r){let n=Array.isArray(e)?Object.fromEntries(e.map(i=>[i,i])):e;return new t({type:"enum",entries:n,...We(r)})}function l2t(t,e,r){return new t({type:"enum",entries:e,...We(r)})}function u2t(t,e,r){return new t({type:"literal",values:Array.isArray(e)?e:[e],...We(r)})}function FW(t,e){return new t({type:"file",...We(e)})}function d2t(t,e){return new t({type:"transform",transform:e})}function p2t(t,e){return new t({type:"optional",innerType:e})}function f2t(t,e){return new t({type:"nullable",innerType:e})}function m2t(t,e,r){return new t({type:"default",innerType:e,get defaultValue(){return typeof r=="function"?r():Wj(r)}})}function h2t(t,e,r){return new t({type:"nonoptional",innerType:e,...We(r)})}function g2t(t,e){return new t({type:"success",innerType:e})}function y2t(t,e,r){return new t({type:"catch",innerType:e,catchValue:typeof r=="function"?r:()=>r})}function b2t(t,e,r){return new t({type:"pipe",in:e,out:r})}function v2t(t,e){return new t({type:"readonly",innerType:e})}function _2t(t,e,r){return new t({type:"template_literal",parts:e,...We(r)})}function x2t(t,e){return new t({type:"lazy",getter:e})}function S2t(t,e){return new t({type:"promise",innerType:e})}function zW(t,e,r){let n=We(r);return n.abort??(n.abort=!0),new t({type:"custom",check:"custom",fn:e,...n})}function VW(t,e,r){return new t({type:"custom",check:"custom",fn:e,...We(r)})}function HW(t){let e=W_e(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(Ox(n,r.value,e._zod.def));else{let i=n;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),r.issues.push(Ox(i))}},t(r.value,r)));return e}function W_e(t,e){let r=new Cn({check:"custom",...We(e)});return r._zod.check=t,r}function GW(t){let e=new Cn({check:"describe"});return e._zod.onattach=[r=>{let n=ns.get(r)??{};ns.add(r,{...n,description:t})}],e._zod.check=()=>{},e}function jW(t){let e=new Cn({check:"meta"});return e._zod.onattach=[r=>{let n=ns.get(r)??{};ns.add(r,{...n,...t})}],e._zod.check=()=>{},e}function qW(t,e){let r=We(e),n=r.truthy??["true","1","yes","on","y","enabled"],i=r.falsy??["false","0","no","off","n","disabled"];r.case!=="sensitive"&&(n=n.map(f=>typeof f=="string"?f.toLowerCase():f),i=i.map(f=>typeof f=="string"?f.toLowerCase():f));let o=new Set(n),s=new Set(i),a=t.Codec??e3,c=t.Boolean??Y6,l=t.String??ob,u=new l({type:"string",error:r.error}),d=new c({type:"boolean",error:r.error}),p=new a({type:"pipe",in:u,out:d,transform:((f,h)=>{let m=f;return r.case!=="sensitive"&&(m=m.toLowerCase()),o.has(m)?!0:s.has(m)?!1:(h.issues.push({code:"invalid_value",expected:"stringbool",values:[...o,...s],input:h.value,inst:p,continue:!1}),{})}),reverseTransform:((f,h)=>f===!0?n[0]||"true":i[0]||"false"),error:r.error});return p}function Qx(t,e,r,n={}){let i=We(n),o={...We(n),check:"string_format",type:"string",format:e,fn:typeof r=="function"?r:a=>r.test(a),...i};return r instanceof RegExp&&(o.pattern=r),new t(o)}function Xg(t){let e=t?.target??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??ns,target:e,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function sn(t,e,r={path:[],schemaPath:[]}){var n;let i=t._zod.def,o=e.seen.get(t);if(o)return o.count++,r.schemaPath.includes(t)&&(o.cycle=r.path),o.schema;let s={schema:{},count:1,cycle:void 0,path:r.path};e.seen.set(t,s);let a=t._zod.toJSONSchema?.();if(a)s.schema=a;else{let u={...r,schemaPath:[...r.schemaPath,t],path:r.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,s.schema,u);else{let p=s.schema,f=e.processors[i.type];if(!f)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);f(t,e,p,u)}let d=t._zod.parent;d&&(s.ref||(s.ref=d),sn(d,e,u),e.seen.get(d).isParent=!0)}let c=e.metadataRegistry.get(t);return c&&Object.assign(s.schema,c),e.io==="input"&&ga(t)&&(delete s.schema.examples,delete s.schema.default),e.io==="input"&&s.schema._prefault&&((n=s.schema).default??(n.default=s.schema._prefault)),delete s.schema._prefault,e.seen.get(t).schema}function Yg(t,e){let r=t.seen.get(e);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");let n=new Map;for(let s of t.seen.entries()){let a=t.metadataRegistry.get(s[0])?.id;if(a){let c=n.get(a);if(c&&c!==s[0])throw new Error(`Duplicate schema id "${a}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);n.set(a,s[0])}}let i=s=>{let a=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){let d=t.external.registry.get(s[0])?.id,p=t.external.uri??(h=>h);if(d)return{ref:p(d)};let f=s[1].defId??s[1].schema.id??`schema${t.counter++}`;return s[1].defId=f,{defId:f,ref:`${p("__shared")}#/${a}/${f}`}}if(s[1]===r)return{ref:"#"};let l=`#/${a}/`,u=s[1].schema.id??`__schema${t.counter++}`;return{defId:u,ref:l+u}},o=s=>{if(s[1].schema.$ref)return;let a=s[1],{ref:c,defId:l}=i(s);a.def={...a.schema},l&&(a.defId=l);let u=a.schema;for(let d in u)delete u[d];u.$ref=c};if(t.cycles==="throw")for(let s of t.seen.entries()){let a=s[1];if(a.cycle)throw new Error(`Cycle detected: #/${a.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let s of t.seen.entries()){let a=s[1];if(e===s[0]){o(s);continue}if(t.external){let l=t.external.registry.get(s[0])?.id;if(e!==s[0]&&l){o(s);continue}}if(t.metadataRegistry.get(s[0])?.id){o(s);continue}if(a.cycle){o(s);continue}if(a.count>1&&t.reused==="ref"){o(s);continue}}}function Zg(t,e){let r=t.seen.get(e);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");let n=s=>{let a=t.seen.get(s);if(a.ref===null)return;let c=a.def??a.schema,l={...c},u=a.ref;if(a.ref=null,u){n(u);let p=t.seen.get(u),f=p.schema;if(f.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(c.allOf=c.allOf??[],c.allOf.push(f)):Object.assign(c,f),Object.assign(c,l),s._zod.parent===u)for(let m in c)m==="$ref"||m==="allOf"||m in l||delete c[m];if(f.$ref&&p.def)for(let m in c)m==="$ref"||m==="allOf"||m in p.def&&JSON.stringify(c[m])===JSON.stringify(p.def[m])&&delete c[m]}let d=s._zod.parent;if(d&&d!==u){n(d);let p=t.seen.get(d);if(p?.schema.$ref&&(c.$ref=p.schema.$ref,p.def))for(let f in c)f==="$ref"||f==="allOf"||f in p.def&&JSON.stringify(c[f])===JSON.stringify(p.def[f])&&delete c[f]}t.override({zodSchema:s,jsonSchema:c,path:a.path??[]})};for(let s of[...t.seen.entries()].reverse())n(s[0]);let i={};if(t.target==="draft-2020-12"?i.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?i.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?i.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){let s=t.external.registry.get(e)?.id;if(!s)throw new Error("Schema is missing an `id` property");i.$id=t.external.uri(s)}Object.assign(i,r.def??r.schema);let o=t.external?.defs??{};for(let s of t.seen.entries()){let a=s[1];a.def&&a.defId&&(o[a.defId]=a.def)}t.external||Object.keys(o).length>0&&(t.target==="draft-2020-12"?i.$defs=o:i.definitions=o);try{let s=JSON.parse(JSON.stringify(i));return Object.defineProperty(s,"~standard",{value:{...e["~standard"],jsonSchema:{input:Xx(e,"input",t.processors),output:Xx(e,"output",t.processors)}},enumerable:!1,writable:!1}),s}catch{throw new Error("Error converting schema to JSON.")}}function ga(t,e){let r=e??{seen:new Set};if(r.seen.has(t))return!1;r.seen.add(t);let n=t._zod.def;if(n.type==="transform")return!0;if(n.type==="array")return ga(n.element,r);if(n.type==="set")return ga(n.valueType,r);if(n.type==="lazy")return ga(n.getter(),r);if(n.type==="promise"||n.type==="optional"||n.type==="nonoptional"||n.type==="nullable"||n.type==="readonly"||n.type==="default"||n.type==="prefault")return ga(n.innerType,r);if(n.type==="intersection")return ga(n.left,r)||ga(n.right,r);if(n.type==="record"||n.type==="map")return ga(n.keyType,r)||ga(n.valueType,r);if(n.type==="pipe")return ga(n.in,r)||ga(n.out,r);if(n.type==="object"){for(let i in n.shape)if(ga(n.shape[i],r))return!0;return!1}if(n.type==="union"){for(let i of n.options)if(ga(i,r))return!0;return!1}if(n.type==="tuple"){for(let i of n.items)if(ga(i,r))return!0;return!!(n.rest&&ga(n.rest,r))}return!1}var JW=(t,e={})=>r=>{let n=Xg({...r,processors:e});return sn(t,n),Yg(n,t),Zg(n,t)},Xx=(t,e,r={})=>n=>{let{libraryOptions:i,target:o}=n??{},s=Xg({...i??{},target:o,io:e,processors:r});return sn(t,s),Yg(s,t),Zg(s,t)};var w2t={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},WW=(t,e,r,n)=>{let i=r;i.type="string";let{minimum:o,maximum:s,format:a,patterns:c,contentEncoding:l}=t._zod.bag;if(typeof o=="number"&&(i.minLength=o),typeof s=="number"&&(i.maxLength=s),a&&(i.format=w2t[a]??a,i.format===""&&delete i.format,a==="time"&&delete i.format),l&&(i.contentEncoding=l),c&&c.size>0){let u=[...c];u.length===1?i.pattern=u[0].source:u.length>1&&(i.allOf=[...u.map(d=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:d.source}))])}},KW=(t,e,r,n)=>{let i=r,{minimum:o,maximum:s,format:a,multipleOf:c,exclusiveMaximum:l,exclusiveMinimum:u}=t._zod.bag;typeof a=="string"&&a.includes("int")?i.type="integer":i.type="number",typeof u=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(i.minimum=u,i.exclusiveMinimum=!0):i.exclusiveMinimum=u),typeof o=="number"&&(i.minimum=o,typeof u=="number"&&e.target!=="draft-04"&&(u>=o?delete i.minimum:delete i.exclusiveMinimum)),typeof l=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(i.maximum=l,i.exclusiveMaximum=!0):i.exclusiveMaximum=l),typeof s=="number"&&(i.maximum=s,typeof l=="number"&&e.target!=="draft-04"&&(l<=s?delete i.maximum:delete i.exclusiveMaximum)),typeof c=="number"&&(i.multipleOf=c)},QW=(t,e,r,n)=>{r.type="boolean"},XW=(t,e,r,n)=>{if(e.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema")},YW=(t,e,r,n)=>{if(e.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema")},ZW=(t,e,r,n)=>{e.target==="openapi-3.0"?(r.type="string",r.nullable=!0,r.enum=[null]):r.type="null"},eK=(t,e,r,n)=>{if(e.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema")},tK=(t,e,r,n)=>{if(e.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema")},rK=(t,e,r,n)=>{r.not={}},nK=(t,e,r,n)=>{},iK=(t,e,r,n)=>{},oK=(t,e,r,n)=>{if(e.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema")},sK=(t,e,r,n)=>{let i=t._zod.def,o=z6(i.entries);o.every(s=>typeof s=="number")&&(r.type="number"),o.every(s=>typeof s=="string")&&(r.type="string"),r.enum=o},aK=(t,e,r,n)=>{let i=t._zod.def,o=[];for(let s of i.values)if(s===void 0){if(e.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof s=="bigint"){if(e.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");o.push(Number(s))}else o.push(s);if(o.length!==0)if(o.length===1){let s=o[0];r.type=s===null?"null":typeof s,e.target==="draft-04"||e.target==="openapi-3.0"?r.enum=[s]:r.const=s}else o.every(s=>typeof s=="number")&&(r.type="number"),o.every(s=>typeof s=="string")&&(r.type="string"),o.every(s=>typeof s=="boolean")&&(r.type="boolean"),o.every(s=>s===null)&&(r.type="null"),r.enum=o},cK=(t,e,r,n)=>{if(e.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema")},lK=(t,e,r,n)=>{let i=r,o=t._zod.pattern;if(!o)throw new Error("Pattern not found in template literal");i.type="string",i.pattern=o.source},uK=(t,e,r,n)=>{let i=r,o={type:"string",format:"binary",contentEncoding:"binary"},{minimum:s,maximum:a,mime:c}=t._zod.bag;s!==void 0&&(o.minLength=s),a!==void 0&&(o.maxLength=a),c?c.length===1?(o.contentMediaType=c[0],Object.assign(i,o)):(Object.assign(i,o),i.anyOf=c.map(l=>({contentMediaType:l}))):Object.assign(i,o)},dK=(t,e,r,n)=>{r.type="boolean"},pK=(t,e,r,n)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},fK=(t,e,r,n)=>{if(e.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema")},mK=(t,e,r,n)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},hK=(t,e,r,n)=>{if(e.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema")},gK=(t,e,r,n)=>{if(e.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema")},yK=(t,e,r,n)=>{let i=r,o=t._zod.def,{minimum:s,maximum:a}=t._zod.bag;typeof s=="number"&&(i.minItems=s),typeof a=="number"&&(i.maxItems=a),i.type="array",i.items=sn(o.element,e,{...n,path:[...n.path,"items"]})},bK=(t,e,r,n)=>{let i=r,o=t._zod.def;i.type="object",i.properties={};let s=o.shape;for(let l in s)i.properties[l]=sn(s[l],e,{...n,path:[...n.path,"properties",l]});let a=new Set(Object.keys(s)),c=new Set([...a].filter(l=>{let u=o.shape[l]._zod;return e.io==="input"?u.optin===void 0:u.optout===void 0}));c.size>0&&(i.required=Array.from(c)),o.catchall?._zod.def.type==="never"?i.additionalProperties=!1:o.catchall?o.catchall&&(i.additionalProperties=sn(o.catchall,e,{...n,path:[...n.path,"additionalProperties"]})):e.io==="output"&&(i.additionalProperties=!1)},F7=(t,e,r,n)=>{let i=t._zod.def,o=i.inclusive===!1,s=i.options.map((a,c)=>sn(a,e,{...n,path:[...n.path,o?"oneOf":"anyOf",c]}));o?r.oneOf=s:r.anyOf=s},vK=(t,e,r,n)=>{let i=t._zod.def,o=sn(i.left,e,{...n,path:[...n.path,"allOf",0]}),s=sn(i.right,e,{...n,path:[...n.path,"allOf",1]}),a=l=>"allOf"in l&&Object.keys(l).length===1,c=[...a(o)?o.allOf:[o],...a(s)?s.allOf:[s]];r.allOf=c},_K=(t,e,r,n)=>{let i=r,o=t._zod.def;i.type="array";let s=e.target==="draft-2020-12"?"prefixItems":"items",a=e.target==="draft-2020-12"||e.target==="openapi-3.0"?"items":"additionalItems",c=o.items.map((p,f)=>sn(p,e,{...n,path:[...n.path,s,f]})),l=o.rest?sn(o.rest,e,{...n,path:[...n.path,a,...e.target==="openapi-3.0"?[o.items.length]:[]]}):null;e.target==="draft-2020-12"?(i.prefixItems=c,l&&(i.items=l)):e.target==="openapi-3.0"?(i.items={anyOf:c},l&&i.items.anyOf.push(l),i.minItems=c.length,l||(i.maxItems=c.length)):(i.items=c,l&&(i.additionalItems=l));let{minimum:u,maximum:d}=t._zod.bag;typeof u=="number"&&(i.minItems=u),typeof d=="number"&&(i.maxItems=d)},xK=(t,e,r,n)=>{let i=r,o=t._zod.def;i.type="object";let s=o.keyType,c=s._zod.bag?.patterns;if(o.mode==="loose"&&c&&c.size>0){let u=sn(o.valueType,e,{...n,path:[...n.path,"patternProperties","*"]});i.patternProperties={};for(let d of c)i.patternProperties[d.source]=u}else(e.target==="draft-07"||e.target==="draft-2020-12")&&(i.propertyNames=sn(o.keyType,e,{...n,path:[...n.path,"propertyNames"]})),i.additionalProperties=sn(o.valueType,e,{...n,path:[...n.path,"additionalProperties"]});let l=s._zod.values;if(l){let u=[...l].filter(d=>typeof d=="string"||typeof d=="number");u.length>0&&(i.required=u)}},SK=(t,e,r,n)=>{let i=t._zod.def,o=sn(i.innerType,e,n),s=e.seen.get(t);e.target==="openapi-3.0"?(s.ref=i.innerType,r.nullable=!0):r.anyOf=[o,{type:"null"}]},wK=(t,e,r,n)=>{let i=t._zod.def;sn(i.innerType,e,n);let o=e.seen.get(t);o.ref=i.innerType},AK=(t,e,r,n)=>{let i=t._zod.def;sn(i.innerType,e,n);let o=e.seen.get(t);o.ref=i.innerType,r.default=JSON.parse(JSON.stringify(i.defaultValue))},EK=(t,e,r,n)=>{let i=t._zod.def;sn(i.innerType,e,n);let o=e.seen.get(t);o.ref=i.innerType,e.io==="input"&&(r._prefault=JSON.parse(JSON.stringify(i.defaultValue)))},TK=(t,e,r,n)=>{let i=t._zod.def;sn(i.innerType,e,n);let o=e.seen.get(t);o.ref=i.innerType;let s;try{s=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}r.default=s},RK=(t,e,r,n)=>{let i=t._zod.def,o=e.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;sn(o,e,n);let s=e.seen.get(t);s.ref=o},IK=(t,e,r,n)=>{let i=t._zod.def;sn(i.innerType,e,n);let o=e.seen.get(t);o.ref=i.innerType,r.readOnly=!0},CK=(t,e,r,n)=>{let i=t._zod.def;sn(i.innerType,e,n);let o=e.seen.get(t);o.ref=i.innerType},z7=(t,e,r,n)=>{let i=t._zod.def;sn(i.innerType,e,n);let o=e.seen.get(t);o.ref=i.innerType},NK=(t,e,r,n)=>{let i=t._zod.innerType;sn(i,e,n);let o=e.seen.get(t);o.ref=i},U7={string:WW,number:KW,boolean:QW,bigint:XW,symbol:YW,null:ZW,undefined:eK,void:tK,never:rK,any:nK,unknown:iK,date:oK,enum:sK,literal:aK,nan:cK,template_literal:lK,file:uK,success:dK,custom:pK,function:fK,transform:mK,map:hK,set:gK,array:yK,object:bK,union:F7,intersection:vK,tuple:_K,record:xK,nullable:SK,nonoptional:wK,default:AK,prefault:EK,catch:TK,pipe:RK,readonly:IK,promise:CK,optional:z7,lazy:NK};function V7(t,e){if("_idmap"in t){let n=t,i=Xg({...e,processors:U7}),o={};for(let c of n._idmap.entries()){let[l,u]=c;sn(u,i)}let s={},a={registry:n,uri:e?.uri,defs:o};i.external=a;for(let c of n._idmap.entries()){let[l,u]=c;Yg(i,u),s[l]=Zg(i,u)}if(Object.keys(o).length>0){let c=i.target==="draft-2020-12"?"$defs":"definitions";s.__shared={[c]:o}}return{schemas:s}}let r=Xg({...e,processors:U7});return sn(t,r),Yg(r,t),Zg(r,t)}var H7=class{get metadataRegistry(){return this.ctx.metadataRegistry}get target(){return this.ctx.target}get unrepresentable(){return this.ctx.unrepresentable}get override(){return this.ctx.override}get io(){return this.ctx.io}get counter(){return this.ctx.counter}set counter(e){this.ctx.counter=e}get seen(){return this.ctx.seen}constructor(e){let r=e?.target??"draft-2020-12";r==="draft-4"&&(r="draft-04"),r==="draft-7"&&(r="draft-07"),this.ctx=Xg({processors:U7,target:r,...e?.metadata&&{metadata:e.metadata},...e?.unrepresentable&&{unrepresentable:e.unrepresentable},...e?.override&&{override:e.override},...e?.io&&{io:e.io}})}process(e,r={path:[],schemaPath:[]}){return sn(e,this.ctx,r)}emit(e,r){r&&(r.cycles&&(this.ctx.cycles=r.cycles),r.reused&&(this.ctx.reused=r.reused),r.external&&(this.ctx.external=r.external)),Yg(this.ctx,e);let n=Zg(this.ctx,e),{"~standard":i,...o}=n;return o}};var K_e={};var o3={};wr(o3,{ZodAny:()=>eQ,ZodArray:()=>iQ,ZodBase64:()=>uP,ZodBase64URL:()=>dP,ZodBigInt:()=>iS,ZodBigIntFormat:()=>mP,ZodBoolean:()=>nS,ZodCIDRv4:()=>cP,ZodCIDRv6:()=>lP,ZodCUID:()=>tP,ZodCUID2:()=>rP,ZodCatch:()=>TQ,ZodCodec:()=>SP,ZodCustom:()=>g3,ZodCustomStringFormat:()=>tS,ZodDate:()=>d3,ZodDefault:()=>_Q,ZodDiscriminatedUnion:()=>sQ,ZodE164:()=>pP,ZodEmail:()=>Y7,ZodEmoji:()=>Z7,ZodEnum:()=>Zx,ZodExactOptional:()=>yQ,ZodFile:()=>hQ,ZodFunction:()=>MQ,ZodGUID:()=>s3,ZodIPv4:()=>sP,ZodIPv6:()=>aP,ZodIntersection:()=>aQ,ZodJWT:()=>fP,ZodKSUID:()=>oP,ZodLazy:()=>PQ,ZodLiteral:()=>mQ,ZodMAC:()=>JK,ZodMap:()=>pQ,ZodNaN:()=>IQ,ZodNanoID:()=>eP,ZodNever:()=>rQ,ZodNonOptional:()=>_P,ZodNull:()=>YK,ZodNullable:()=>vQ,ZodNumber:()=>rS,ZodNumberFormat:()=>ub,ZodObject:()=>f3,ZodOptional:()=>vP,ZodPipe:()=>xP,ZodPrefault:()=>SQ,ZodPromise:()=>DQ,ZodReadonly:()=>CQ,ZodRecord:()=>h3,ZodSet:()=>fQ,ZodString:()=>eS,ZodStringFormat:()=>xn,ZodSuccess:()=>EQ,ZodSymbol:()=>QK,ZodTemplateLiteral:()=>OQ,ZodTransform:()=>gQ,ZodTuple:()=>lQ,ZodType:()=>dr,ZodULID:()=>nP,ZodURL:()=>u3,ZodUUID:()=>kp,ZodUndefined:()=>XK,ZodUnion:()=>m3,ZodUnknown:()=>tQ,ZodVoid:()=>nQ,ZodXID:()=>iP,ZodXor:()=>oQ,_ZodString:()=>X7,_default:()=>xQ,_function:()=>rSe,any:()=>Dxe,array:()=>p3,base64:()=>yxe,base64url:()=>bxe,bigint:()=>Cxe,boolean:()=>KK,catch:()=>RQ,check:()=>nSe,cidrv4:()=>hxe,cidrv6:()=>gxe,codec:()=>Zxe,cuid:()=>axe,cuid2:()=>cxe,custom:()=>iSe,date:()=>Lxe,describe:()=>oSe,discriminatedUnion:()=>Vxe,e164:()=>vxe,email:()=>X_e,emoji:()=>oxe,enum:()=>yP,exactOptional:()=>bQ,file:()=>Kxe,float32:()=>Exe,float64:()=>Txe,function:()=>rSe,guid:()=>Y_e,hash:()=>Axe,hex:()=>wxe,hostname:()=>Sxe,httpUrl:()=>ixe,instanceof:()=>aSe,int:()=>Q7,int32:()=>Rxe,int64:()=>Nxe,intersection:()=>cQ,ipv4:()=>pxe,ipv6:()=>mxe,json:()=>lSe,jwt:()=>_xe,keyof:()=>Bxe,ksuid:()=>dxe,lazy:()=>kQ,literal:()=>Wxe,looseObject:()=>Fxe,looseRecord:()=>Gxe,mac:()=>fxe,map:()=>jxe,meta:()=>sSe,nan:()=>Yxe,nanoid:()=>sxe,nativeEnum:()=>Jxe,never:()=>hP,nonoptional:()=>AQ,null:()=>ZK,nullable:()=>c3,nullish:()=>Qxe,number:()=>WK,object:()=>$xe,optional:()=>a3,partialRecord:()=>Hxe,pipe:()=>l3,prefault:()=>wQ,preprocess:()=>uSe,promise:()=>tSe,readonly:()=>NQ,record:()=>dQ,refine:()=>LQ,set:()=>qxe,strictObject:()=>Uxe,string:()=>K7,stringFormat:()=>xxe,stringbool:()=>cSe,success:()=>Xxe,superRefine:()=>BQ,symbol:()=>Pxe,templateLiteral:()=>eSe,transform:()=>bP,tuple:()=>uQ,uint32:()=>Ixe,uint64:()=>Oxe,ulid:()=>lxe,undefined:()=>kxe,union:()=>gP,unknown:()=>lb,url:()=>nxe,uuid:()=>Z_e,uuidv4:()=>exe,uuidv6:()=>txe,uuidv7:()=>rxe,void:()=>Mxe,xid:()=>uxe,xor:()=>zxe});var G7={};wr(G7,{endsWith:()=>Hx,gt:()=>Op,gte:()=>ha,includes:()=>zx,length:()=>cb,lowercase:()=>Ux,lt:()=>Np,lte:()=>Gc,maxLength:()=>ab,maxSize:()=>Qg,mime:()=>Gx,minLength:()=>cm,minSize:()=>Pp,multipleOf:()=>Kg,negative:()=>M7,nonnegative:()=>B7,nonpositive:()=>L7,normalize:()=>jx,overwrite:()=>xd,positive:()=>D7,property:()=>$7,regex:()=>$x,size:()=>sb,slugify:()=>Kx,startsWith:()=>Vx,toLowerCase:()=>Jx,toUpperCase:()=>Wx,trim:()=>qx,uppercase:()=>Fx});var Yx={};wr(Yx,{ZodISODate:()=>q7,ZodISODateTime:()=>j7,ZodISODuration:()=>W7,ZodISOTime:()=>J7,date:()=>PK,datetime:()=>OK,duration:()=>DK,time:()=>kK});var j7=se("ZodISODateTime",(t,e)=>{cJ.init(t,e),xn.init(t,e)});function OK(t){return pW(j7,t)}var q7=se("ZodISODate",(t,e)=>{lJ.init(t,e),xn.init(t,e)});function PK(t){return fW(q7,t)}var J7=se("ZodISOTime",(t,e)=>{uJ.init(t,e),xn.init(t,e)});function kK(t){return mW(J7,t)}var W7=se("ZodISODuration",(t,e)=>{dJ.init(t,e),xn.init(t,e)});function DK(t){return hW(W7,t)}var Q_e=(t,e)=>{q6.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:r=>W6(t,r)},flatten:{value:r=>J6(t,r)},addIssue:{value:r=>{t.issues.push(r),t.message=JSON.stringify(t.issues,Cx,2)}},addIssues:{value:r=>{t.issues.push(...r),t.message=JSON.stringify(t.issues,Cx,2)}},isEmpty:{get(){return t.issues.length===0}}})},E2t=se("ZodError",Q_e),Wa=se("ZodError",Q_e,{Parent:Error});var MK=Px(Wa),LK=kx(Wa),BK=Dx(Wa),$K=Mx(Wa),UK=VO(Wa),FK=HO(Wa),zK=GO(Wa),VK=jO(Wa),HK=qO(Wa),GK=JO(Wa),jK=WO(Wa),qK=KO(Wa);var dr=se("ZodType",(t,e)=>(tr.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:Xx(t,"input"),output:Xx(t,"output")}}),t.toJSONSchema=JW(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...r)=>t.clone(qe.mergeDefs(e,{checks:[...e.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),{parent:!0}),t.with=t.check,t.clone=(r,n)=>ma(t,r,n),t.brand=()=>t,t.register=((r,n)=>(r.add(t,n),t)),t.parse=(r,n)=>MK(t,r,n,{callee:t.parse}),t.safeParse=(r,n)=>BK(t,r,n),t.parseAsync=async(r,n)=>LK(t,r,n,{callee:t.parseAsync}),t.safeParseAsync=async(r,n)=>$K(t,r,n),t.spa=t.safeParseAsync,t.encode=(r,n)=>UK(t,r,n),t.decode=(r,n)=>FK(t,r,n),t.encodeAsync=async(r,n)=>zK(t,r,n),t.decodeAsync=async(r,n)=>VK(t,r,n),t.safeEncode=(r,n)=>HK(t,r,n),t.safeDecode=(r,n)=>GK(t,r,n),t.safeEncodeAsync=async(r,n)=>jK(t,r,n),t.safeDecodeAsync=async(r,n)=>qK(t,r,n),t.refine=(r,n)=>t.check(LQ(r,n)),t.superRefine=r=>t.check(BQ(r)),t.overwrite=r=>t.check(xd(r)),t.optional=()=>a3(t),t.exactOptional=()=>bQ(t),t.nullable=()=>c3(t),t.nullish=()=>a3(c3(t)),t.nonoptional=r=>AQ(t,r),t.array=()=>p3(t),t.or=r=>gP([t,r]),t.and=r=>cQ(t,r),t.transform=r=>l3(t,bP(r)),t.default=r=>xQ(t,r),t.prefault=r=>wQ(t,r),t.catch=r=>RQ(t,r),t.pipe=r=>l3(t,r),t.readonly=()=>NQ(t),t.describe=r=>{let n=t.clone();return ns.add(n,{description:r}),n},Object.defineProperty(t,"description",{get(){return ns.get(t)?.description},configurable:!0}),t.meta=(...r)=>{if(r.length===0)return ns.get(t);let n=t.clone();return ns.add(n,r[0]),n},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=r=>r(t),t)),X7=se("_ZodString",(t,e)=>{ob.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(n,i,o)=>WW(t,n,i,o);let r=t._zod.bag;t.format=r.format??null,t.minLength=r.minimum??null,t.maxLength=r.maximum??null,t.regex=(...n)=>t.check($x(...n)),t.includes=(...n)=>t.check(zx(...n)),t.startsWith=(...n)=>t.check(Vx(...n)),t.endsWith=(...n)=>t.check(Hx(...n)),t.min=(...n)=>t.check(cm(...n)),t.max=(...n)=>t.check(ab(...n)),t.length=(...n)=>t.check(cb(...n)),t.nonempty=(...n)=>t.check(cm(1,...n)),t.lowercase=n=>t.check(Ux(n)),t.uppercase=n=>t.check(Fx(n)),t.trim=()=>t.check(qx()),t.normalize=(...n)=>t.check(jx(...n)),t.toLowerCase=()=>t.check(Jx()),t.toUpperCase=()=>t.check(Wx()),t.slugify=()=>t.check(Kx())}),eS=se("ZodString",(t,e)=>{ob.init(t,e),X7.init(t,e),t.email=r=>t.check(m7(Y7,r)),t.url=r=>t.check(i3(u3,r)),t.jwt=r=>t.check(k7(fP,r)),t.emoji=r=>t.check(v7(Z7,r)),t.guid=r=>t.check(n3(s3,r)),t.uuid=r=>t.check(h7(kp,r)),t.uuidv4=r=>t.check(g7(kp,r)),t.uuidv6=r=>t.check(y7(kp,r)),t.uuidv7=r=>t.check(b7(kp,r)),t.nanoid=r=>t.check(_7(eP,r)),t.guid=r=>t.check(n3(s3,r)),t.cuid=r=>t.check(x7(tP,r)),t.cuid2=r=>t.check(S7(rP,r)),t.ulid=r=>t.check(w7(nP,r)),t.base64=r=>t.check(N7(uP,r)),t.base64url=r=>t.check(O7(dP,r)),t.xid=r=>t.check(A7(iP,r)),t.ksuid=r=>t.check(E7(oP,r)),t.ipv4=r=>t.check(T7(sP,r)),t.ipv6=r=>t.check(R7(aP,r)),t.cidrv4=r=>t.check(I7(cP,r)),t.cidrv6=r=>t.check(C7(lP,r)),t.e164=r=>t.check(P7(pP,r)),t.datetime=r=>t.check(OK(r)),t.date=r=>t.check(PK(r)),t.time=r=>t.check(kK(r)),t.duration=r=>t.check(DK(r))});function K7(t){return cW(eS,t)}var xn=se("ZodStringFormat",(t,e)=>{_n.init(t,e),X7.init(t,e)}),Y7=se("ZodEmail",(t,e)=>{Zq.init(t,e),xn.init(t,e)});function X_e(t){return m7(Y7,t)}var s3=se("ZodGUID",(t,e)=>{Xq.init(t,e),xn.init(t,e)});function Y_e(t){return n3(s3,t)}var kp=se("ZodUUID",(t,e)=>{Yq.init(t,e),xn.init(t,e)});function Z_e(t){return h7(kp,t)}function exe(t){return g7(kp,t)}function txe(t){return y7(kp,t)}function rxe(t){return b7(kp,t)}var u3=se("ZodURL",(t,e)=>{eJ.init(t,e),xn.init(t,e)});function nxe(t){return i3(u3,t)}function ixe(t){return i3(u3,{protocol:/^https?$/,hostname:Rl.domain,...qe.normalizeParams(t)})}var Z7=se("ZodEmoji",(t,e)=>{tJ.init(t,e),xn.init(t,e)});function oxe(t){return v7(Z7,t)}var eP=se("ZodNanoID",(t,e)=>{rJ.init(t,e),xn.init(t,e)});function sxe(t){return _7(eP,t)}var tP=se("ZodCUID",(t,e)=>{nJ.init(t,e),xn.init(t,e)});function axe(t){return x7(tP,t)}var rP=se("ZodCUID2",(t,e)=>{iJ.init(t,e),xn.init(t,e)});function cxe(t){return S7(rP,t)}var nP=se("ZodULID",(t,e)=>{oJ.init(t,e),xn.init(t,e)});function lxe(t){return w7(nP,t)}var iP=se("ZodXID",(t,e)=>{sJ.init(t,e),xn.init(t,e)});function uxe(t){return A7(iP,t)}var oP=se("ZodKSUID",(t,e)=>{aJ.init(t,e),xn.init(t,e)});function dxe(t){return E7(oP,t)}var sP=se("ZodIPv4",(t,e)=>{pJ.init(t,e),xn.init(t,e)});function pxe(t){return T7(sP,t)}var JK=se("ZodMAC",(t,e)=>{mJ.init(t,e),xn.init(t,e)});function fxe(t){return uW(JK,t)}var aP=se("ZodIPv6",(t,e)=>{fJ.init(t,e),xn.init(t,e)});function mxe(t){return R7(aP,t)}var cP=se("ZodCIDRv4",(t,e)=>{hJ.init(t,e),xn.init(t,e)});function hxe(t){return I7(cP,t)}var lP=se("ZodCIDRv6",(t,e)=>{gJ.init(t,e),xn.init(t,e)});function gxe(t){return C7(lP,t)}var uP=se("ZodBase64",(t,e)=>{bJ.init(t,e),xn.init(t,e)});function yxe(t){return N7(uP,t)}var dP=se("ZodBase64URL",(t,e)=>{vJ.init(t,e),xn.init(t,e)});function bxe(t){return O7(dP,t)}var pP=se("ZodE164",(t,e)=>{_J.init(t,e),xn.init(t,e)});function vxe(t){return P7(pP,t)}var fP=se("ZodJWT",(t,e)=>{xJ.init(t,e),xn.init(t,e)});function _xe(t){return k7(fP,t)}var tS=se("ZodCustomStringFormat",(t,e)=>{SJ.init(t,e),xn.init(t,e)});function xxe(t,e,r={}){return Qx(tS,t,e,r)}function Sxe(t){return Qx(tS,"hostname",Rl.hostname,t)}function wxe(t){return Qx(tS,"hex",Rl.hex,t)}function Axe(t,e){let r=e?.enc??"hex",n=`${t}_${r}`,i=Rl[n];if(!i)throw new Error(`Unrecognized hash format: ${n}`);return Qx(tS,n,i,e)}var rS=se("ZodNumber",(t,e)=>{o7.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(n,i,o)=>KW(t,n,i,o),t.gt=(n,i)=>t.check(Op(n,i)),t.gte=(n,i)=>t.check(ha(n,i)),t.min=(n,i)=>t.check(ha(n,i)),t.lt=(n,i)=>t.check(Np(n,i)),t.lte=(n,i)=>t.check(Gc(n,i)),t.max=(n,i)=>t.check(Gc(n,i)),t.int=n=>t.check(Q7(n)),t.safe=n=>t.check(Q7(n)),t.positive=n=>t.check(Op(0,n)),t.nonnegative=n=>t.check(ha(0,n)),t.negative=n=>t.check(Np(0,n)),t.nonpositive=n=>t.check(Gc(0,n)),t.multipleOf=(n,i)=>t.check(Kg(n,i)),t.step=(n,i)=>t.check(Kg(n,i)),t.finite=()=>t;let r=t._zod.bag;t.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),t.isFinite=!0,t.format=r.format??null});function WK(t){return gW(rS,t)}var ub=se("ZodNumberFormat",(t,e)=>{wJ.init(t,e),rS.init(t,e)});function Q7(t){return bW(ub,t)}function Exe(t){return vW(ub,t)}function Txe(t){return _W(ub,t)}function Rxe(t){return xW(ub,t)}function Ixe(t){return SW(ub,t)}var nS=se("ZodBoolean",(t,e)=>{Y6.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>QW(t,r,n,i)});function KK(t){return wW(nS,t)}var iS=se("ZodBigInt",(t,e)=>{s7.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(n,i,o)=>XW(t,n,i,o),t.gte=(n,i)=>t.check(ha(n,i)),t.min=(n,i)=>t.check(ha(n,i)),t.gt=(n,i)=>t.check(Op(n,i)),t.gte=(n,i)=>t.check(ha(n,i)),t.min=(n,i)=>t.check(ha(n,i)),t.lt=(n,i)=>t.check(Np(n,i)),t.lte=(n,i)=>t.check(Gc(n,i)),t.max=(n,i)=>t.check(Gc(n,i)),t.positive=n=>t.check(Op(BigInt(0),n)),t.negative=n=>t.check(Np(BigInt(0),n)),t.nonpositive=n=>t.check(Gc(BigInt(0),n)),t.nonnegative=n=>t.check(ha(BigInt(0),n)),t.multipleOf=(n,i)=>t.check(Kg(n,i));let r=t._zod.bag;t.minValue=r.minimum??null,t.maxValue=r.maximum??null,t.format=r.format??null});function Cxe(t){return EW(iS,t)}var mP=se("ZodBigIntFormat",(t,e)=>{AJ.init(t,e),iS.init(t,e)});function Nxe(t){return RW(mP,t)}function Oxe(t){return IW(mP,t)}var QK=se("ZodSymbol",(t,e)=>{EJ.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>YW(t,r,n,i)});function Pxe(t){return CW(QK,t)}var XK=se("ZodUndefined",(t,e)=>{TJ.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>eK(t,r,n,i)});function kxe(t){return NW(XK,t)}var YK=se("ZodNull",(t,e)=>{RJ.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>ZW(t,r,n,i)});function ZK(t){return OW(YK,t)}var eQ=se("ZodAny",(t,e)=>{IJ.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>nK(t,r,n,i)});function Dxe(){return PW(eQ)}var tQ=se("ZodUnknown",(t,e)=>{CJ.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>iK(t,r,n,i)});function lb(){return kW(tQ)}var rQ=se("ZodNever",(t,e)=>{NJ.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>rK(t,r,n,i)});function hP(t){return DW(rQ,t)}var nQ=se("ZodVoid",(t,e)=>{OJ.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>tK(t,r,n,i)});function Mxe(t){return MW(nQ,t)}var d3=se("ZodDate",(t,e)=>{PJ.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(n,i,o)=>oK(t,n,i,o),t.min=(n,i)=>t.check(ha(n,i)),t.max=(n,i)=>t.check(Gc(n,i));let r=t._zod.bag;t.minDate=r.minimum?new Date(r.minimum):null,t.maxDate=r.maximum?new Date(r.maximum):null});function Lxe(t){return LW(d3,t)}var iQ=se("ZodArray",(t,e)=>{kJ.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>yK(t,r,n,i),t.element=e.element,t.min=(r,n)=>t.check(cm(r,n)),t.nonempty=r=>t.check(cm(1,r)),t.max=(r,n)=>t.check(ab(r,n)),t.length=(r,n)=>t.check(cb(r,n)),t.unwrap=()=>t.element});function p3(t,e){return UW(iQ,t,e)}function Bxe(t){let e=t._zod.def.shape;return yP(Object.keys(e))}var f3=se("ZodObject",(t,e)=>{DJ.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>bK(t,r,n,i),qe.defineLazy(t,"shape",()=>e.shape),t.keyof=()=>yP(Object.keys(t._zod.def.shape)),t.catchall=r=>t.clone({...t._zod.def,catchall:r}),t.passthrough=()=>t.clone({...t._zod.def,catchall:lb()}),t.loose=()=>t.clone({...t._zod.def,catchall:lb()}),t.strict=()=>t.clone({...t._zod.def,catchall:hP()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=r=>qe.extend(t,r),t.safeExtend=r=>qe.safeExtend(t,r),t.merge=r=>qe.merge(t,r),t.pick=r=>qe.pick(t,r),t.omit=r=>qe.omit(t,r),t.partial=(...r)=>qe.partial(vP,t,r[0]),t.required=(...r)=>qe.required(_P,t,r[0])});function $xe(t,e){let r={type:"object",shape:t??{},...qe.normalizeParams(e)};return new f3(r)}function Uxe(t,e){return new f3({type:"object",shape:t,catchall:hP(),...qe.normalizeParams(e)})}function Fxe(t,e){return new f3({type:"object",shape:t,catchall:lb(),...qe.normalizeParams(e)})}var m3=se("ZodUnion",(t,e)=>{Z6.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>F7(t,r,n,i),t.options=e.options});function gP(t,e){return new m3({type:"union",options:t,...qe.normalizeParams(e)})}var oQ=se("ZodXor",(t,e)=>{m3.init(t,e),MJ.init(t,e),t._zod.processJSONSchema=(r,n,i)=>F7(t,r,n,i),t.options=e.options});function zxe(t,e){return new oQ({type:"union",options:t,inclusive:!1,...qe.normalizeParams(e)})}var sQ=se("ZodDiscriminatedUnion",(t,e)=>{m3.init(t,e),LJ.init(t,e)});function Vxe(t,e,r){return new sQ({type:"union",options:e,discriminator:t,...qe.normalizeParams(r)})}var aQ=se("ZodIntersection",(t,e)=>{BJ.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>vK(t,r,n,i)});function cQ(t,e){return new aQ({type:"intersection",left:t,right:e})}var lQ=se("ZodTuple",(t,e)=>{a7.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>_K(t,r,n,i),t.rest=r=>t.clone({...t._zod.def,rest:r})});function uQ(t,e,r){let n=e instanceof tr,i=n?r:e,o=n?e:null;return new lQ({type:"tuple",items:t,rest:o,...qe.normalizeParams(i)})}var h3=se("ZodRecord",(t,e)=>{$J.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>xK(t,r,n,i),t.keyType=e.keyType,t.valueType=e.valueType});function dQ(t,e,r){return new h3({type:"record",keyType:t,valueType:e,...qe.normalizeParams(r)})}function Hxe(t,e,r){let n=ma(t);return n._zod.values=void 0,new h3({type:"record",keyType:n,valueType:e,...qe.normalizeParams(r)})}function Gxe(t,e,r){return new h3({type:"record",keyType:t,valueType:e,mode:"loose",...qe.normalizeParams(r)})}var pQ=se("ZodMap",(t,e)=>{UJ.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>hK(t,r,n,i),t.keyType=e.keyType,t.valueType=e.valueType,t.min=(...r)=>t.check(Pp(...r)),t.nonempty=r=>t.check(Pp(1,r)),t.max=(...r)=>t.check(Qg(...r)),t.size=(...r)=>t.check(sb(...r))});function jxe(t,e,r){return new pQ({type:"map",keyType:t,valueType:e,...qe.normalizeParams(r)})}var fQ=se("ZodSet",(t,e)=>{FJ.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>gK(t,r,n,i),t.min=(...r)=>t.check(Pp(...r)),t.nonempty=r=>t.check(Pp(1,r)),t.max=(...r)=>t.check(Qg(...r)),t.size=(...r)=>t.check(sb(...r))});function qxe(t,e){return new fQ({type:"set",valueType:t,...qe.normalizeParams(e)})}var Zx=se("ZodEnum",(t,e)=>{zJ.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(n,i,o)=>sK(t,n,i,o),t.enum=e.entries,t.options=Object.values(e.entries);let r=new Set(Object.keys(e.entries));t.extract=(n,i)=>{let o={};for(let s of n)if(r.has(s))o[s]=e.entries[s];else throw new Error(`Key ${s} not found in enum`);return new Zx({...e,checks:[],...qe.normalizeParams(i),entries:o})},t.exclude=(n,i)=>{let o={...e.entries};for(let s of n)if(r.has(s))delete o[s];else throw new Error(`Key ${s} not found in enum`);return new Zx({...e,checks:[],...qe.normalizeParams(i),entries:o})}});function yP(t,e){let r=Array.isArray(t)?Object.fromEntries(t.map(n=>[n,n])):t;return new Zx({type:"enum",entries:r,...qe.normalizeParams(e)})}function Jxe(t,e){return new Zx({type:"enum",entries:t,...qe.normalizeParams(e)})}var mQ=se("ZodLiteral",(t,e)=>{VJ.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>aK(t,r,n,i),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function Wxe(t,e){return new mQ({type:"literal",values:Array.isArray(t)?t:[t],...qe.normalizeParams(e)})}var hQ=se("ZodFile",(t,e)=>{HJ.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>uK(t,r,n,i),t.min=(r,n)=>t.check(Pp(r,n)),t.max=(r,n)=>t.check(Qg(r,n)),t.mime=(r,n)=>t.check(Gx(Array.isArray(r)?r:[r],n))});function Kxe(t){return FW(hQ,t)}var gQ=se("ZodTransform",(t,e)=>{GJ.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>mK(t,r,n,i),t._zod.parse=(r,n)=>{if(n.direction==="backward")throw new Gg(t.constructor.name);r.addIssue=o=>{if(typeof o=="string")r.issues.push(qe.issue(o,r.value,e));else{let s=o;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=t),r.issues.push(qe.issue(s))}};let i=e.transform(r.value,r);return i instanceof Promise?i.then(o=>(r.value=o,r)):(r.value=i,r)}});function bP(t){return new gQ({type:"transform",transform:t})}var vP=se("ZodOptional",(t,e)=>{c7.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>z7(t,r,n,i),t.unwrap=()=>t._zod.def.innerType});function a3(t){return new vP({type:"optional",innerType:t})}var yQ=se("ZodExactOptional",(t,e)=>{jJ.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>z7(t,r,n,i),t.unwrap=()=>t._zod.def.innerType});function bQ(t){return new yQ({type:"optional",innerType:t})}var vQ=se("ZodNullable",(t,e)=>{qJ.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>SK(t,r,n,i),t.unwrap=()=>t._zod.def.innerType});function c3(t){return new vQ({type:"nullable",innerType:t})}function Qxe(t){return a3(c3(t))}var _Q=se("ZodDefault",(t,e)=>{JJ.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>AK(t,r,n,i),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function xQ(t,e){return new _Q({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():qe.shallowClone(e)}})}var SQ=se("ZodPrefault",(t,e)=>{WJ.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>EK(t,r,n,i),t.unwrap=()=>t._zod.def.innerType});function wQ(t,e){return new SQ({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():qe.shallowClone(e)}})}var _P=se("ZodNonOptional",(t,e)=>{KJ.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>wK(t,r,n,i),t.unwrap=()=>t._zod.def.innerType});function AQ(t,e){return new _P({type:"nonoptional",innerType:t,...qe.normalizeParams(e)})}var EQ=se("ZodSuccess",(t,e)=>{QJ.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>dK(t,r,n,i),t.unwrap=()=>t._zod.def.innerType});function Xxe(t){return new EQ({type:"success",innerType:t})}var TQ=se("ZodCatch",(t,e)=>{XJ.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>TK(t,r,n,i),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function RQ(t,e){return new TQ({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}var IQ=se("ZodNaN",(t,e)=>{YJ.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>cK(t,r,n,i)});function Yxe(t){return $W(IQ,t)}var xP=se("ZodPipe",(t,e)=>{ZJ.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>RK(t,r,n,i),t.in=e.in,t.out=e.out});function l3(t,e){return new xP({type:"pipe",in:t,out:e})}var SP=se("ZodCodec",(t,e)=>{xP.init(t,e),e3.init(t,e)});function Zxe(t,e,r){return new SP({type:"pipe",in:t,out:e,transform:r.decode,reverseTransform:r.encode})}var CQ=se("ZodReadonly",(t,e)=>{eW.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>IK(t,r,n,i),t.unwrap=()=>t._zod.def.innerType});function NQ(t){return new CQ({type:"readonly",innerType:t})}var OQ=se("ZodTemplateLiteral",(t,e)=>{tW.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>lK(t,r,n,i)});function eSe(t,e){return new OQ({type:"template_literal",parts:t,...qe.normalizeParams(e)})}var PQ=se("ZodLazy",(t,e)=>{iW.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>NK(t,r,n,i),t.unwrap=()=>t._zod.def.getter()});function kQ(t){return new PQ({type:"lazy",getter:t})}var DQ=se("ZodPromise",(t,e)=>{nW.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>CK(t,r,n,i),t.unwrap=()=>t._zod.def.innerType});function tSe(t){return new DQ({type:"promise",innerType:t})}var MQ=se("ZodFunction",(t,e)=>{rW.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>fK(t,r,n,i)});function rSe(t){return new MQ({type:"function",input:Array.isArray(t?.input)?uQ(t?.input):t?.input??p3(lb()),output:t?.output??lb()})}var g3=se("ZodCustom",(t,e)=>{oW.init(t,e),dr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>pK(t,r,n,i)});function nSe(t){let e=new Cn({check:"custom"});return e._zod.check=t,e}function iSe(t,e){return zW(g3,t??(()=>!0),e)}function LQ(t,e={}){return VW(g3,t,e)}function BQ(t){return HW(t)}var oSe=GW,sSe=jW;function aSe(t,e={}){let r=new g3({type:"custom",check:"custom",fn:n=>n instanceof t,abort:!0,...qe.normalizeParams(e)});return r._zod.bag.Class=t,r._zod.check=n=>{n.value instanceof t||n.issues.push({code:"invalid_type",expected:t.name,input:n.value,inst:r,path:[...r._zod.def.path??[]]})},r}var cSe=(...t)=>qW({Codec:SP,Boolean:nS,String:eS},...t);function lSe(t){let e=kQ(()=>gP([K7(t),WK(),KK(),ZK(),p3(e),dQ(K7(),e)]));return e}function uSe(t,e){return l3(bP(t),e)}var R2t={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function I2t(t){Ti({customError:t})}function C2t(){return Ti().customError}var $Q;$Q||($Q={});var pt={...o3,...G7,iso:Yx},N2t=new Set(["$schema","$ref","$defs","definitions","$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor","type","enum","const","anyOf","oneOf","allOf","not","properties","required","additionalProperties","patternProperties","propertyNames","minProperties","maxProperties","items","prefixItems","additionalItems","minItems","maxItems","uniqueItems","contains","minContains","maxContains","minLength","maxLength","pattern","format","minimum","maximum","exclusiveMinimum","exclusiveMaximum","multipleOf","description","default","contentEncoding","contentMediaType","contentSchema","unevaluatedItems","unevaluatedProperties","if","then","else","dependentSchemas","dependentRequired","nullable","readOnly"]);function O2t(t,e){let r=t.$schema;return r==="https://json-schema.org/draft/2020-12/schema"?"draft-2020-12":r==="http://json-schema.org/draft-07/schema#"?"draft-7":r==="http://json-schema.org/draft-04/schema#"?"draft-4":e??"draft-2020-12"}function P2t(t,e){if(!t.startsWith("#"))throw new Error("External $ref is not supported, only local refs (#/...) are allowed");let r=t.slice(1).split("/").filter(Boolean);if(r.length===0)return e.rootSchema;let n=e.version==="draft-2020-12"?"$defs":"definitions";if(r[0]===n){let i=r[1];if(!i||!e.defs[i])throw new Error(`Reference not found: ${t}`);return e.defs[i]}throw new Error(`Reference not found: ${t}`)}function dSe(t,e){if(t.not!==void 0){if(typeof t.not=="object"&&Object.keys(t.not).length===0)return pt.never();throw new Error("not is not supported in Zod (except { not: {} } for never)")}if(t.unevaluatedItems!==void 0)throw new Error("unevaluatedItems is not supported");if(t.unevaluatedProperties!==void 0)throw new Error("unevaluatedProperties is not supported");if(t.if!==void 0||t.then!==void 0||t.else!==void 0)throw new Error("Conditional schemas (if/then/else) are not supported");if(t.dependentSchemas!==void 0||t.dependentRequired!==void 0)throw new Error("dependentSchemas and dependentRequired are not supported");if(t.$ref){let i=t.$ref;if(e.refs.has(i))return e.refs.get(i);if(e.processing.has(i))return pt.lazy(()=>{if(!e.refs.has(i))throw new Error(`Circular reference not resolved: ${i}`);return e.refs.get(i)});e.processing.add(i);let o=P2t(i,e),s=ks(o,e);return e.refs.set(i,s),e.processing.delete(i),s}if(t.enum!==void 0){let i=t.enum;if(e.version==="openapi-3.0"&&t.nullable===!0&&i.length===1&&i[0]===null)return pt.null();if(i.length===0)return pt.never();if(i.length===1)return pt.literal(i[0]);if(i.every(s=>typeof s=="string"))return pt.enum(i);let o=i.map(s=>pt.literal(s));return o.length<2?o[0]:pt.union([o[0],o[1],...o.slice(2)])}if(t.const!==void 0)return pt.literal(t.const);let r=t.type;if(Array.isArray(r)){let i=r.map(o=>{let s={...t,type:o};return dSe(s,e)});return i.length===0?pt.never():i.length===1?i[0]:pt.union(i)}if(!r)return pt.any();let n;switch(r){case"string":{let i=pt.string();if(t.format){let o=t.format;o==="email"?i=i.check(pt.email()):o==="uri"||o==="uri-reference"?i=i.check(pt.url()):o==="uuid"||o==="guid"?i=i.check(pt.uuid()):o==="date-time"?i=i.check(pt.iso.datetime()):o==="date"?i=i.check(pt.iso.date()):o==="time"?i=i.check(pt.iso.time()):o==="duration"?i=i.check(pt.iso.duration()):o==="ipv4"?i=i.check(pt.ipv4()):o==="ipv6"?i=i.check(pt.ipv6()):o==="mac"?i=i.check(pt.mac()):o==="cidr"?i=i.check(pt.cidrv4()):o==="cidr-v6"?i=i.check(pt.cidrv6()):o==="base64"?i=i.check(pt.base64()):o==="base64url"?i=i.check(pt.base64url()):o==="e164"?i=i.check(pt.e164()):o==="jwt"?i=i.check(pt.jwt()):o==="emoji"?i=i.check(pt.emoji()):o==="nanoid"?i=i.check(pt.nanoid()):o==="cuid"?i=i.check(pt.cuid()):o==="cuid2"?i=i.check(pt.cuid2()):o==="ulid"?i=i.check(pt.ulid()):o==="xid"?i=i.check(pt.xid()):o==="ksuid"&&(i=i.check(pt.ksuid()))}typeof t.minLength=="number"&&(i=i.min(t.minLength)),typeof t.maxLength=="number"&&(i=i.max(t.maxLength)),t.pattern&&(i=i.regex(new RegExp(t.pattern))),n=i;break}case"number":case"integer":{let i=r==="integer"?pt.number().int():pt.number();typeof t.minimum=="number"&&(i=i.min(t.minimum)),typeof t.maximum=="number"&&(i=i.max(t.maximum)),typeof t.exclusiveMinimum=="number"?i=i.gt(t.exclusiveMinimum):t.exclusiveMinimum===!0&&typeof t.minimum=="number"&&(i=i.gt(t.minimum)),typeof t.exclusiveMaximum=="number"?i=i.lt(t.exclusiveMaximum):t.exclusiveMaximum===!0&&typeof t.maximum=="number"&&(i=i.lt(t.maximum)),typeof t.multipleOf=="number"&&(i=i.multipleOf(t.multipleOf)),n=i;break}case"boolean":{n=pt.boolean();break}case"null":{n=pt.null();break}case"object":{let i={},o=t.properties||{},s=new Set(t.required||[]);for(let[c,l]of Object.entries(o)){let u=ks(l,e);i[c]=s.has(c)?u:u.optional()}if(t.propertyNames){let c=ks(t.propertyNames,e),l=t.additionalProperties&&typeof t.additionalProperties=="object"?ks(t.additionalProperties,e):pt.any();if(Object.keys(i).length===0){n=pt.record(c,l);break}let u=pt.object(i).passthrough(),d=pt.looseRecord(c,l);n=pt.intersection(u,d);break}if(t.patternProperties){let c=t.patternProperties,l=Object.keys(c),u=[];for(let p of l){let f=ks(c[p],e),h=pt.string().regex(new RegExp(p));u.push(pt.looseRecord(h,f))}let d=[];if(Object.keys(i).length>0&&d.push(pt.object(i).passthrough()),d.push(...u),d.length===0)n=pt.object({}).passthrough();else if(d.length===1)n=d[0];else{let p=pt.intersection(d[0],d[1]);for(let f=2;f<d.length;f++)p=pt.intersection(p,d[f]);n=p}break}let a=pt.object(i);t.additionalProperties===!1?n=a.strict():typeof t.additionalProperties=="object"?n=a.catchall(ks(t.additionalProperties,e)):n=a.passthrough();break}case"array":{let i=t.prefixItems,o=t.items;if(i&&Array.isArray(i)){let s=i.map(c=>ks(c,e)),a=o&&typeof o=="object"&&!Array.isArray(o)?ks(o,e):void 0;a?n=pt.tuple(s).rest(a):n=pt.tuple(s),typeof t.minItems=="number"&&(n=n.check(pt.minLength(t.minItems))),typeof t.maxItems=="number"&&(n=n.check(pt.maxLength(t.maxItems)))}else if(Array.isArray(o)){let s=o.map(c=>ks(c,e)),a=t.additionalItems&&typeof t.additionalItems=="object"?ks(t.additionalItems,e):void 0;a?n=pt.tuple(s).rest(a):n=pt.tuple(s),typeof t.minItems=="number"&&(n=n.check(pt.minLength(t.minItems))),typeof t.maxItems=="number"&&(n=n.check(pt.maxLength(t.maxItems)))}else if(o!==void 0){let s=ks(o,e),a=pt.array(s);typeof t.minItems=="number"&&(a=a.min(t.minItems)),typeof t.maxItems=="number"&&(a=a.max(t.maxItems)),n=a}else n=pt.array(pt.any());break}default:throw new Error(`Unsupported type: ${r}`)}return t.description&&(n=n.describe(t.description)),t.default!==void 0&&(n=n.default(t.default)),n}function ks(t,e){if(typeof t=="boolean")return t?pt.any():pt.never();let r=dSe(t,e),n=t.type||t.enum!==void 0||t.const!==void 0;if(t.anyOf&&Array.isArray(t.anyOf)){let a=t.anyOf.map(l=>ks(l,e)),c=pt.union(a);r=n?pt.intersection(r,c):c}if(t.oneOf&&Array.isArray(t.oneOf)){let a=t.oneOf.map(l=>ks(l,e)),c=pt.xor(a);r=n?pt.intersection(r,c):c}if(t.allOf&&Array.isArray(t.allOf))if(t.allOf.length===0)r=n?r:pt.any();else{let a=n?r:ks(t.allOf[0],e),c=n?0:1;for(let l=c;l<t.allOf.length;l++)a=pt.intersection(a,ks(t.allOf[l],e));r=a}t.nullable===!0&&e.version==="openapi-3.0"&&(r=pt.nullable(r)),t.readOnly===!0&&(r=pt.readonly(r));let i={},o=["$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor"];for(let a of o)a in t&&(i[a]=t[a]);let s=["contentEncoding","contentMediaType","contentSchema"];for(let a of s)a in t&&(i[a]=t[a]);for(let a of Object.keys(t))N2t.has(a)||(i[a]=t[a]);return Object.keys(i).length>0&&e.registry.add(r,i),r}function pSe(t,e){if(typeof t=="boolean")return t?pt.any():pt.never();let r=O2t(t,e?.defaultTarget),n=t.$defs||t.definitions||{},i={version:r,defs:n,refs:new Map,processing:new Set,rootSchema:t,registry:e?.registry??ns};return ks(t,i)}var UQ={};wr(UQ,{bigint:()=>L2t,boolean:()=>M2t,date:()=>B2t,number:()=>D2t,string:()=>k2t});function k2t(t){return lW(eS,t)}function D2t(t){return yW(rS,t)}function M2t(t){return AW(nS,t)}function L2t(t){return TW(iS,t)}function B2t(t){return BW(d3,t)}Ti(l7());var pTt=st.object({DATABASE_URL:st.string().default(""),MOLTBOOK_APP_KEY:st.string().default(""),JUPITER_API_KEY:st.string().default(""),ADMIN_PASSWORD:st.string().default(""),PORT:st.coerce.number().default(3e3),NODE_ENV:st.enum(["development","production","test"]).default("development"),DEMO_MODE:st.string().optional().default("false").transform(t=>t==="true"),ANTHROPIC_API_KEY:st.string().optional(),OPENAI_API_KEY:st.string().optional(),XAI_API_KEY:st.string().optional(),MONAD_RPC_URL:st.string().optional(),STONKS_TOKEN_ADDRESS:st.string().optional(),MONAD_DEPLOYER_PRIVATE_KEY:st.string().optional(),CLAUDE_MONAD_PRIVATE_KEY:st.string().optional(),GPT_MONAD_PRIVATE_KEY:st.string().optional(),GROK_MONAD_PRIVATE_KEY:st.string().optional(),LENDING_ENABLED:st.string().optional().default("false").transform(t=>t==="true"),BRAVE_API_KEY:st.string().optional(),TURNKEY_API_PRIVATE_KEY:st.string().optional(),TURNKEY_API_PUBLIC_KEY:st.string().optional(),TURNKEY_ORGANIZATION_ID:st.string().optional(),SOLANA_RPC_URL:st.string().optional(),HELIUS_API_KEY:st.string().optional(),HELIUS_WEBHOOK_SECRET:st.string().optional(),APP_URL:st.string().optional()});async function fTt(){if(!process.env.AWS_LAMBDA_FUNCTION_NAME)return;let{SecretsManagerClient:t,GetSecretValueCommand:e}=await Promise.resolve().then(()=>(Dke(),kke)),r=new t({}),n=new e({SecretId:process.env.SECRET_ARN}),i=await r.send(n);if(i.SecretString)try{let o=JSON.parse(i.SecretString);for(let[s,a]of Object.entries(o))process.env[s]=a}catch{console.warn("SECRET_ARN secret is not valid JSON \u2014 skipping secret injection. Populate moltapp/production with a JSON object of key-value pairs.")}}function mTt(){let t=pTt.safeParse(process.env);if(!t.success){let e=t.error.issues.map(r=>`  ${r.path.join(".")}: ${r.message}`).join(`
`);throw new Error(`Environment validation failed:
${e}`)}return t.data}await fTt();var Zr=mTt();var pie={};wr(pie,{agentDecisions:()=>Qp,agentEarnings:()=>PMe,agentPayments:()=>OMe,agentReasoningHealth:()=>jMe,agentTheses:()=>ho,agents:()=>et,apiKeys:()=>EMe,benchmarkLeaderboardV23:()=>die,benchmarkLeaderboardV24:()=>WMe,benchmarkLeaderboardV25:()=>YMe,benchmarkLeaderboardV26:()=>rLe,benchmarkLeaderboardV27:()=>sLe,benchmarkLeaderboardV28:()=>uLe,benchmarkRoundSnapshotsV24:()=>KMe,benchmarkRoundSnapshotsV25:()=>ZMe,benchmarkRoundSnapshotsV26:()=>nLe,benchmarkRoundSnapshotsV27:()=>aLe,benchmarkRoundSnapshotsV28:()=>dLe,benchmarkSnapshots:()=>VMe,calibrationSnapshots:()=>uie,competitionScores:()=>zMe,consensusIntelligence:()=>XMe,copyFollowers:()=>CMe,copyTrades:()=>NMe,crossRoundLearning:()=>oLe,executionQualityAnalysis:()=>iLe,outcomePredictionTracking:()=>QMe,outcomeResolutions:()=>lie,portfolioSnapshots:()=>FMe,positions:()=>Nr,predictionBets:()=>DMe,predictionMarkets:()=>MMe,predictions:()=>kMe,reasoningDepthAnalysis:()=>qMe,reasoningForensicReports:()=>HMe,reasoningIntegrityViolations:()=>GMe,reasoningQualityIndex:()=>lLe,riskRewardDiscipline:()=>tLe,sourceQualityAnalysis:()=>JMe,strategies:()=>LMe,strategyAdoptions:()=>BMe,strategyGenomeAnalysis:()=>eLe,strategyRatings:()=>$Me,strategySignals:()=>UMe,tradeAccountabilityAnalysis:()=>cLe,tradeComments:()=>RMe,tradeJustifications:()=>Bt,tradeReactions:()=>IMe,trades:()=>Hi,transactions:()=>TMe,v29BenchmarkScores:()=>fLe,v29Leaderboard:()=>mLe,v29ResearchExports:()=>hLe,v29TradeGrades:()=>pLe,v30BenchmarkScores:()=>yLe,v30Leaderboard:()=>bLe,v30ResearchExports:()=>vLe,v30TradeGrades:()=>gLe,v31BenchmarkScores:()=>xLe,v31Leaderboard:()=>SLe,v31ResearchExports:()=>wLe,v31TradeGrades:()=>_Le,v32BenchmarkScores:()=>ELe,v32Leaderboard:()=>TLe,v32ResearchExports:()=>RLe,v32TradeGrades:()=>ALe,v33BenchmarkScores:()=>CLe,v33Leaderboard:()=>NLe,v33ResearchExports:()=>OLe,v33TradeGrades:()=>ILe,v34BenchmarkScores:()=>kLe,v34Leaderboard:()=>DLe,v34ResearchExports:()=>MLe,v34TradeGrades:()=>PLe,v35BenchmarkScores:()=>BLe,v35Leaderboard:()=>$Le,v35ResearchExports:()=>ULe,v35TradeGrades:()=>LLe,v36BenchmarkScores:()=>zLe,v36Leaderboard:()=>VLe,v36ResearchExports:()=>HLe,v36TradeGrades:()=>FLe,v37BenchmarkScores:()=>jLe,v37Leaderboard:()=>qLe,v37ResearchExports:()=>JLe,v37TradeGrades:()=>GLe,wallets:()=>DT});Mr();var et=Re("agents",{id:L("id").primaryKey(),name:L("name").notNull(),description:L("description"),karma:Se("karma").default(0),avatarUrl:L("avatar_url"),ownerXHandle:L("owner_x_handle"),ownerXName:L("owner_x_name"),isActive:Ni("is_active").default(!0),createdAt:we("created_at").defaultNow().notNull(),updatedAt:we("updated_at").defaultNow().notNull()});Mr();var DT=Re("wallets",{id:Se("id").primaryKey().generatedAlwaysAsIdentity(),agentId:L("agent_id").references(()=>et.id).notNull().unique(),publicKey:L("public_key").notNull().unique(),turnkeyWalletId:L("turnkey_wallet_id").notNull(),usdcAtaAddress:L("usdc_ata_address"),createdAt:we("created_at").defaultNow().notNull()});Mr();var EMe=Re("api_keys",{id:Se("id").primaryKey().generatedAlwaysAsIdentity(),agentId:L("agent_id").references(()=>et.id).notNull(),keyHash:L("key_hash").notNull().unique(),keyPrefix:L("key_prefix").notNull(),isRevoked:Ni("is_revoked").default(!1),lastUsedAt:we("last_used_at"),createdAt:we("created_at").defaultNow().notNull()});Mr();var TMe=Re("transactions",{id:Se("id").primaryKey().generatedAlwaysAsIdentity(),agentId:L("agent_id").references(()=>et.id).notNull(),type:L("type").notNull(),tokenType:L("token_type").notNull(),amount:zt("amount",{precision:20,scale:9}).notNull(),txSignature:L("tx_signature").notNull().unique(),status:L("status").notNull().default("pending"),destinationAddress:L("destination_address"),createdAt:we("created_at").defaultNow().notNull(),confirmedAt:we("confirmed_at")});Mr();var Nr=Re("positions",{id:Se("id").primaryKey().generatedAlwaysAsIdentity(),agentId:L("agent_id").references(()=>et.id).notNull(),mintAddress:L("mint_address").notNull(),symbol:L("symbol").notNull(),quantity:zt("quantity",{precision:20,scale:9}).notNull(),averageCostBasis:zt("average_cost_basis",{precision:20,scale:6}).notNull(),createdAt:we("created_at").defaultNow().notNull(),updatedAt:we("updated_at").defaultNow().notNull()},t=>[jp("positions_agent_mint_unique").on(t.agentId,t.mintAddress)]);Mr();var Hi=Re("trades",{id:Se("id").primaryKey().generatedAlwaysAsIdentity(),agentId:L("agent_id").references(()=>et.id).notNull(),side:L("side").notNull(),stockMintAddress:L("stock_mint_address").notNull(),stockSymbol:L("stock_symbol").notNull(),stockQuantity:zt("stock_quantity",{precision:20,scale:9}).notNull(),usdcAmount:zt("usdc_amount",{precision:20,scale:6}).notNull(),pricePerToken:zt("price_per_token",{precision:20,scale:6}).notNull(),txSignature:L("tx_signature").notNull().unique(),jupiterRouteInfo:lt("jupiter_route_info"),status:L("status").notNull().default("confirmed"),createdAt:we("created_at").defaultNow().notNull()});Mr();var Qp=Re("agent_decisions",{id:Se("id").primaryKey().generatedAlwaysAsIdentity(),agentId:L("agent_id").notNull(),symbol:L("symbol").notNull(),action:L("action").notNull(),quantity:zt("quantity",{precision:20,scale:9}).notNull(),reasoning:L("reasoning").notNull(),confidence:Se("confidence").notNull(),modelUsed:L("model_used").notNull(),marketSnapshot:lt("market_snapshot"),executed:L("executed").default("pending"),txSignature:L("tx_signature"),executionError:L("execution_error"),roundId:L("round_id"),createdAt:we("created_at").defaultNow().notNull()});Mr();var RMe=Re("trade_comments",{id:Se("id").primaryKey().generatedAlwaysAsIdentity(),decisionId:Se("decision_id").notNull(),authorId:L("author_id").notNull(),authorName:L("author_name").notNull(),content:L("content").notNull(),createdAt:we("created_at").defaultNow().notNull()});Mr();var IMe=Re("trade_reactions",{id:Se("id").primaryKey().generatedAlwaysAsIdentity(),decisionId:Se("decision_id").notNull(),reactorId:L("reactor_id").notNull(),reaction:L("reaction").notNull(),createdAt:we("created_at").defaultNow().notNull()},t=>[jp("trade_reactions_decision_reactor_unique").on(t.decisionId,t.reactorId)]);Mr();var CMe=Re("copy_followers",{id:Se("id").primaryKey().generatedAlwaysAsIdentity(),followerId:L("follower_id").notNull(),followerName:L("follower_name").notNull(),targetAgentId:L("target_agent_id").notNull(),initialCapital:zt("initial_capital",{precision:20,scale:6}).notNull().default("10000"),currentCash:zt("current_cash",{precision:20,scale:6}).notNull().default("10000"),portfolioValue:zt("portfolio_value",{precision:20,scale:6}).notNull().default("10000"),totalPnl:zt("total_pnl",{precision:20,scale:6}).notNull().default("0"),totalPnlPercent:zt("total_pnl_percent",{precision:10,scale:4}).notNull().default("0"),tradesCopied:Se("trades_copied").notNull().default(0),positions:lt("positions").default("[]"),isActive:L("is_active").notNull().default("true"),createdAt:we("created_at").defaultNow().notNull(),updatedAt:we("updated_at").defaultNow().notNull()},t=>[jp("copy_follower_agent_unique").on(t.followerId,t.targetAgentId)]),NMe=Re("copy_trades",{id:Se("id").primaryKey().generatedAlwaysAsIdentity(),followerId:L("follower_id").notNull(),sourceAgentId:L("source_agent_id").notNull(),sourceDecisionId:Se("source_decision_id").notNull(),action:L("action").notNull(),symbol:L("symbol").notNull(),quantity:zt("quantity",{precision:20,scale:9}).notNull(),price:zt("price",{precision:20,scale:6}).notNull(),tradePnl:zt("trade_pnl",{precision:20,scale:6}).default("0"),confidence:Se("confidence").notNull(),reasoning:L("reasoning").notNull(),createdAt:we("created_at").defaultNow().notNull()});Mr();var OMe=Re("agent_payments",{id:Se("id").primaryKey().generatedAlwaysAsIdentity(),fromId:L("from_id").notNull(),fromName:L("from_name").notNull(),toAgentId:L("to_agent_id").notNull(),decisionId:Se("decision_id"),amount:zt("amount",{precision:20,scale:6}).notNull(),currency:L("currency").notNull().default("USDC"),message:L("message"),status:L("status").notNull().default("completed"),txSignature:L("tx_signature"),createdAt:we("created_at").defaultNow().notNull()}),PMe=Re("agent_earnings",{id:Se("id").primaryKey().generatedAlwaysAsIdentity(),agentId:L("agent_id").notNull(),totalEarnings:zt("total_earnings",{precision:20,scale:6}).notNull().default("0"),tipCount:Se("tip_count").notNull().default(0),uniqueTippers:Se("unique_tippers").notNull().default(0),avgTipAmount:zt("avg_tip_amount",{precision:20,scale:6}).notNull().default("0"),largestTip:zt("largest_tip",{precision:20,scale:6}).notNull().default("0"),lastTipAt:we("last_tip_at"),createdAt:we("created_at").defaultNow().notNull(),updatedAt:we("updated_at").defaultNow().notNull()},t=>[jp("agent_earnings_agent_unique").on(t.agentId)]);Mr();var kMe=Re("predictions",{id:L("id").primaryKey().default(re`gen_random_uuid()`),agentId:L("agent_id").notNull(),symbol:L("symbol").notNull(),predictionType:L("prediction_type").notNull(),direction:L("direction").notNull(),targetPrice:zt("target_price",{precision:20,scale:6}),currentPriceAtCreation:zt("current_price_at_creation",{precision:20,scale:6}).notNull(),timeHorizon:L("time_horizon").notNull(),confidence:Se("confidence").notNull(),reasoning:L("reasoning").notNull(),status:L("status").notNull().default("active"),resolvedAt:we("resolved_at"),resolutionPrice:zt("resolution_price",{precision:20,scale:6}),resolutionDetails:L("resolution_details"),createdAt:we("created_at").defaultNow().notNull(),expiresAt:we("expires_at").notNull()}),DMe=Re("prediction_bets",{id:L("id").primaryKey().default(re`gen_random_uuid()`),predictionId:L("prediction_id").notNull(),bettorId:L("bettor_id").notNull(),bettorType:L("bettor_type").notNull(),position:L("position").notNull(),amount:zt("amount",{precision:20,scale:6}).notNull(),odds:zt("odds",{precision:10,scale:4}).notNull(),payout:zt("payout",{precision:20,scale:6}),status:L("status").notNull().default("active"),createdAt:we("created_at").defaultNow().notNull()}),MMe=Re("prediction_markets",{id:L("id").primaryKey().default(re`gen_random_uuid()`),predictionId:L("prediction_id").notNull(),totalPool:zt("total_pool",{precision:20,scale:6}).notNull().default("0"),forPool:zt("for_pool",{precision:20,scale:6}).notNull().default("0"),againstPool:zt("against_pool",{precision:20,scale:6}).notNull().default("0"),currentOddsFor:zt("current_odds_for",{precision:10,scale:4}).notNull().default("1.0"),currentOddsAgainst:zt("current_odds_against",{precision:10,scale:4}).notNull().default("1.0"),totalBets:Se("total_bets").notNull().default(0),status:L("status").notNull().default("open"),createdAt:we("created_at").defaultNow().notNull()});Mr();var LMe=Re("strategies",{id:L("id").primaryKey().default(re`gen_random_uuid()`),creatorAgentId:L("creator_agent_id").notNull(),name:L("name").notNull(),description:L("description").notNull(),category:L("category").notNull(),parameters:lt("parameters").notNull().$type(),backtestResults:lt("backtest_results").$type(),riskLevel:L("risk_level").notNull(),timeframe:L("timeframe").notNull(),version:Se("version").notNull().default(1),parentStrategyId:L("parent_strategy_id"),isPublic:Ni("is_public").notNull().default(!0),status:L("status").notNull().default("active"),totalAdopters:Se("total_adopters").notNull().default(0),avgRating:zt("avg_rating").notNull().default("0"),totalRatings:Se("total_ratings").notNull().default(0),createdAt:we("created_at").defaultNow(),updatedAt:we("updated_at").defaultNow()}),BMe=Re("strategy_adoptions",{id:L("id").primaryKey().default(re`gen_random_uuid()`),strategyId:L("strategy_id").notNull(),agentId:L("agent_id").notNull(),status:L("status").notNull().default("active"),adoptedAt:we("adopted_at").defaultNow(),performanceSinceAdoption:zt("performance_since_adoption").default("0"),tradesExecuted:Se("trades_executed").default(0)}),$Me=Re("strategy_ratings",{id:L("id").primaryKey().default(re`gen_random_uuid()`),strategyId:L("strategy_id").notNull(),raterId:L("rater_id").notNull(),rating:Se("rating").notNull(),review:L("review"),createdAt:we("created_at").defaultNow()}),UMe=Re("strategy_signals",{id:L("id").primaryKey().default(re`gen_random_uuid()`),strategyId:L("strategy_id").notNull(),symbol:L("symbol").notNull(),signalType:L("signal_type").notNull(),direction:L("direction").notNull(),strength:Se("strength").notNull(),price:zt("price").notNull(),metadata:lt("metadata").$type(),createdAt:we("created_at").defaultNow()});Mr();var FMe=Re("portfolio_snapshots",{id:Se("id").primaryKey().generatedAlwaysAsIdentity(),agentId:L("agent_id").notNull(),roundId:L("round_id"),trigger:L("trigger").notNull().default("round_end"),cashBalance:zt("cash_balance",{precision:20,scale:6}).notNull(),positionsValue:zt("positions_value",{precision:20,scale:6}).notNull(),totalValue:zt("total_value",{precision:20,scale:6}).notNull(),totalPnl:zt("total_pnl",{precision:20,scale:6}).notNull(),totalPnlPercent:zt("total_pnl_percent",{precision:10,scale:4}).notNull(),positionCount:Se("position_count").notNull(),positions:lt("positions").notNull(),createdAt:we("created_at").defaultNow().notNull()}),zMe=Re("competition_scores",{id:Se("id").primaryKey().generatedAlwaysAsIdentity(),agentId:L("agent_id").notNull(),roundId:L("round_id").notNull(),roundScore:zt("round_score",{precision:10,scale:4}).notNull(),cumulativeScore:zt("cumulative_score",{precision:12,scale:4}).notNull(),rank:Se("rank").notNull(),breakdown:lt("breakdown").notNull(),createdAt:we("created_at").defaultNow().notNull()});Mr();var Bt=Re("trade_justifications",{id:L("id").primaryKey(),tradeId:Se("trade_id").references(()=>Hi.id),agentId:L("agent_id").references(()=>et.id).notNull(),reasoning:L("reasoning").notNull(),confidence:C("confidence").notNull(),sources:lt("sources").$type(),intent:L("intent").notNull(),predictedOutcome:L("predicted_outcome"),actualOutcome:L("actual_outcome"),coherenceScore:C("coherence_score"),hallucinationFlags:lt("hallucination_flags").$type(),action:L("action").notNull(),symbol:L("symbol").notNull(),quantity:C("quantity"),roundId:L("round_id"),disciplinePass:L("discipline_pass").default("pending"),timestamp:we("timestamp").defaultNow()}),VMe=Re("benchmark_snapshots",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),period:L("period").notNull(),pnlPercent:C("pnl_percent"),sharpeRatio:C("sharpe_ratio"),avgCoherence:C("avg_coherence"),hallucinationRate:C("hallucination_rate"),disciplineRate:C("discipline_rate"),tradeCount:Se("trade_count"),winRate:C("win_rate"),confidenceCalibration:C("confidence_calibration"),fullMetrics:lt("full_metrics").$type(),createdAt:we("created_at").defaultNow()});Mr();var HMe=Re("reasoning_forensic_reports",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),roundId:L("round_id").notNull(),tradeAction:L("trade_action").notNull(),symbol:L("symbol").notNull(),sentenceCount:Se("sentence_count"),avgSentenceLength:C("avg_sentence_length"),quantitativeClaimCount:Se("quantitative_claim_count"),hedgeWordCount:Se("hedge_word_count"),causalConnectorCount:Se("causal_connector_count"),valuationMentioned:Ni("valuation_mentioned").default(!1),technicalMentioned:Ni("technical_mentioned").default(!1),fundamentalMentioned:Ni("fundamental_mentioned").default(!1),macroMentioned:Ni("macro_mentioned").default(!1),sentimentMentioned:Ni("sentiment_mentioned").default(!1),riskMentioned:Ni("risk_mentioned").default(!1),catalystMentioned:Ni("catalyst_mentioned").default(!1),portfolioContextMentioned:Ni("portfolio_context_mentioned").default(!1),coherenceScore:C("coherence_score"),depthScore:C("depth_score"),originalityScore:C("originality_score"),clarityScore:C("clarity_score"),compositeForensicScore:C("composite_forensic_score"),similarToPrevious:Ni("similar_to_previous").default(!1),contradictsPrevious:Ni("contradicts_previous").default(!1),previousTradeId:L("previous_trade_id"),fullAnalysis:lt("full_analysis").$type(),createdAt:we("created_at").defaultNow()}),GMe=Re("reasoning_integrity_violations",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),violationType:L("violation_type").notNull(),severity:L("severity").notNull(),description:L("description").notNull(),evidence:lt("evidence").$type(),roundId:L("round_id"),relatedTradeIds:lt("related_trade_ids").$type(),penaltyApplied:C("penalty_applied"),createdAt:we("created_at").defaultNow()}),jMe=Re("agent_reasoning_health",{agentId:L("agent_id").references(()=>et.id).primaryKey(),windowSize:Se("window_size").default(50),avgCoherence:C("avg_coherence"),avgDepth:C("avg_depth"),avgOriginality:C("avg_originality"),avgClarity:C("avg_clarity"),compositeHealth:C("composite_health"),integrityScore:C("integrity_score"),totalViolations:Se("total_violations").default(0),trend:L("trend"),trendDelta:C("trend_delta"),lastUpdated:we("last_updated").defaultNow()});Mr();var lie=Re("outcome_resolutions",{id:L("id").primaryKey(),justificationId:L("justification_id").references(()=>Bt.id).notNull(),agentId:L("agent_id").references(()=>et.id).notNull(),symbol:L("symbol").notNull(),action:L("action").notNull(),entryPrice:C("entry_price"),exitPrice:C("exit_price"),horizon:L("horizon").notNull(),pnlPercent:C("pnl_percent"),outcome:L("outcome").notNull(),directionCorrect:Ni("direction_correct"),confidenceAtTrade:C("confidence_at_trade"),calibrated:Ni("calibrated"),predictedOutcome:L("predicted_outcome"),actualOutcomeSummary:L("actual_outcome_summary"),resolvedAt:we("resolved_at").defaultNow()}),uie=Re("calibration_snapshots",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),period:L("period").notNull(),confidenceBucket:L("confidence_bucket").notNull(),tradeCount:Se("trade_count").notNull(),winRate:C("win_rate"),avgPnl:C("avg_pnl"),ece:C("ece"),createdAt:we("created_at").defaultNow()}),die=Re("benchmark_leaderboard_v23",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),period:L("period").notNull(),pnlPercent:C("pnl_percent"),sharpeRatio:C("sharpe_ratio"),coherenceScore:C("coherence_score"),hallucinationRate:C("hallucination_rate"),disciplineRate:C("discipline_rate"),calibrationEce:C("calibration_ece"),predictionAccuracy:C("prediction_accuracy"),compositeScore:C("composite_score"),grade:L("grade"),tradeCount:Se("trade_count"),rank:Se("rank"),fullMetrics:lt("full_metrics").$type(),updatedAt:we("updated_at").defaultNow()});Mr();var qMe=Re("reasoning_depth_analysis_v24",{id:L("id").primaryKey(),justificationId:L("justification_id").references(()=>Bt.id).notNull(),agentId:L("agent_id").references(()=>et.id).notNull(),depthScore:C("depth_score").notNull(),stepCount:Se("step_count").notNull(),connectiveDensity:C("connective_density").notNull(),evidenceAnchoringScore:C("evidence_anchoring_score").notNull(),counterArgumentScore:C("counter_argument_score").notNull(),conclusionClarity:C("conclusion_clarity").notNull(),wordCount:Se("word_count").notNull(),vocabularyRichness:C("vocabulary_richness").notNull(),reasoningPattern:L("reasoning_pattern").notNull(),analyzedAt:we("analyzed_at").defaultNow()}),JMe=Re("source_quality_analysis_v24",{id:L("id").primaryKey(),justificationId:L("justification_id").references(()=>Bt.id).notNull(),agentId:L("agent_id").references(()=>et.id).notNull(),qualityScore:C("quality_score").notNull(),sourceCount:Se("source_count").notNull(),diversityScore:C("diversity_score").notNull(),specificityScore:C("specificity_score").notNull(),crossReferenceScore:C("cross_reference_score").notNull(),integrationScore:C("integration_score").notNull(),sourceCategories:lt("source_categories").$type(),analyzedAt:we("analyzed_at").defaultNow()}),WMe=Re("benchmark_leaderboard_v24",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),compositeScore:C("composite_score"),pnlPercent:C("pnl_percent"),sharpeRatio:C("sharpe_ratio"),avgCoherence:C("avg_coherence"),hallucinationFreeRate:C("hallucination_free_rate"),disciplineRate:C("discipline_rate"),calibrationScore:C("calibration_score"),predictionAccuracy:C("prediction_accuracy"),avgReasoningDepth:C("avg_reasoning_depth"),avgSourceQuality:C("avg_source_quality"),tradeCount:Se("trade_count"),rank:Se("rank"),grade:L("grade"),updatedAt:we("updated_at").defaultNow()}),KMe=Re("benchmark_round_snapshots_v24",{id:L("id").primaryKey(),roundId:L("round_id").notNull(),agentId:L("agent_id").references(()=>et.id).notNull(),action:L("action").notNull(),symbol:L("symbol").notNull(),coherenceScore:C("coherence_score"),depthScore:C("depth_score"),sourceQualityScore:C("source_quality_score"),hallucinationCount:Se("hallucination_count"),confidence:C("confidence"),roundComposite:C("round_composite"),metrics:lt("metrics").$type(),timestamp:we("timestamp").defaultNow()});Mr();var QMe=Re("outcome_prediction_tracking_v25",{id:L("id").primaryKey(),justificationId:L("justification_id").references(()=>Bt.id).notNull(),agentId:L("agent_id").references(()=>et.id).notNull(),roundId:L("round_id").notNull(),predictedDirection:L("predicted_direction").notNull(),actualDirection:L("actual_direction"),predictedMagnitude:C("predicted_magnitude"),actualMagnitude:C("actual_magnitude"),timeframeSpecified:L("timeframe_specified"),directionalAccuracy:C("directional_accuracy"),magnitudeAccuracy:C("magnitude_accuracy"),predictionQuality:C("prediction_quality"),priceAtPrediction:C("price_at_prediction"),priceAtResolution:C("price_at_resolution"),symbol:L("symbol").notNull(),status:L("status").notNull().default("pending"),createdAt:we("created_at").defaultNow(),resolvedAt:we("resolved_at")}),XMe=Re("consensus_intelligence_v25",{id:L("id").primaryKey(),roundId:L("round_id").notNull(),agentId:L("agent_id").references(()=>et.id).notNull(),agentAction:L("agent_action").notNull(),agentSymbol:L("agent_symbol").notNull(),majorityAction:L("majority_action").notNull(),agreedWithMajority:C("agreed_with_majority").notNull(),confidenceDelta:C("confidence_delta"),wasContrarian:C("was_contrarian").notNull(),contrarianSuccess:C("contrarian_success"),reasoningSimilarity:C("reasoning_similarity").notNull(),independentThinkingScore:C("independent_thinking_score").notNull(),agentCountInRound:Se("agent_count_in_round").notNull(),consensusBreakdown:lt("consensus_breakdown").$type(),timestamp:we("timestamp").defaultNow()}),YMe=Re("benchmark_leaderboard_v25",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),compositeScore:C("composite_score"),pnlPercent:C("pnl_percent"),avgCoherence:C("avg_coherence"),hallucinationFreeRate:C("hallucination_free_rate"),disciplineRate:C("discipline_rate"),calibrationScore:C("calibration_score"),predictionAccuracy:C("prediction_accuracy"),avgReasoningDepth:C("avg_reasoning_depth"),avgSourceQuality:C("avg_source_quality"),outcomePredictionScore:C("outcome_prediction_score"),consensusIntelligenceScore:C("consensus_intelligence_score"),sharpeRatio:C("sharpe_ratio"),tradeCount:Se("trade_count"),rank:Se("rank"),grade:L("grade"),updatedAt:we("updated_at").defaultNow()}),ZMe=Re("benchmark_round_snapshots_v25",{id:L("id").primaryKey(),roundId:L("round_id").notNull(),agentId:L("agent_id").references(()=>et.id).notNull(),action:L("action").notNull(),symbol:L("symbol").notNull(),coherenceScore:C("coherence_score"),depthScore:C("depth_score"),sourceQualityScore:C("source_quality_score"),hallucinationCount:Se("hallucination_count"),confidence:C("confidence"),outcomePredictionScore:C("outcome_prediction_score"),consensusScore:C("consensus_score"),roundComposite:C("round_composite"),metrics:lt("metrics").$type(),timestamp:we("timestamp").defaultNow()});Mr();var eLe=Re("strategy_genome_analysis",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),roundId:L("round_id").notNull(),styleConsistencyScore:C("style_consistency_score").notNull(),strategyDrift:C("strategy_drift").notNull(),detectedStrategy:L("detected_strategy").notNull(),declaredStrategy:L("declared_strategy").notNull(),strategyDna:lt("strategy_dna").$type(),historicalAvgDna:lt("historical_avg_dna").$type(),tradeWindowSize:Se("trade_window_size"),genomeScore:C("genome_score").notNull(),timestamp:we("timestamp").defaultNow()}),tLe=Re("risk_reward_discipline",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),roundId:L("round_id").notNull(),positionSizePercent:C("position_size_percent").notNull(),confidence:C("confidence").notNull(),sizingDisciplineScore:C("sizing_discipline_score").notNull(),impliedRiskReward:C("implied_risk_reward"),hasRiskBoundary:Se("has_risk_boundary").notNull(),hasProfitTarget:Se("has_profit_target").notNull(),riskAwarenessScore:C("risk_awareness_score").notNull(),cashBufferMaintained:Se("cash_buffer_maintained").notNull(),portfolioConcentration:C("portfolio_concentration"),disciplineScore:C("discipline_score").notNull(),timestamp:we("timestamp").defaultNow()}),rLe=Re("benchmark_leaderboard_v26",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),pnlPercent:C("pnl_percent"),sharpeRatio:C("sharpe_ratio"),coherenceScore:C("coherence_score"),hallucinationRate:C("hallucination_rate"),disciplineRate:C("discipline_rate"),calibrationScore:C("calibration_score"),reasoningDepthScore:C("reasoning_depth_score"),sourceQualityScore:C("source_quality_score"),outcomePredictionScore:C("outcome_prediction_score"),consensusIntelligenceScore:C("consensus_intelligence_score"),strategyGenomeScore:C("strategy_genome_score"),riskRewardDisciplineScore:C("risk_reward_discipline_score"),compositeScore:C("composite_score"),tradeCount:Se("trade_count"),winRate:C("win_rate"),grade:L("grade"),updatedAt:we("updated_at").defaultNow()}),nLe=Re("benchmark_round_snapshots_v26",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),roundId:L("round_id").notNull(),scores:lt("scores").$type(),compositeScore:C("composite_score"),action:L("action"),symbol:L("symbol"),timestamp:we("timestamp").defaultNow()});Mr();var iLe=Re("execution_quality_analysis",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),roundId:L("round_id").notNull(),slippageAwareness:C("slippage_awareness").notNull(),priceRealism:C("price_realism").notNull(),timingRationale:C("timing_rationale").notNull(),executionPlanQuality:C("execution_plan_quality").notNull(),actualVsExpectedPrice:C("actual_vs_expected_price"),marketImpactAwareness:C("market_impact_awareness").notNull(),executionQualityScore:C("execution_quality_score").notNull(),timestamp:we("timestamp").defaultNow()}),oLe=Re("cross_round_learning",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),roundId:L("round_id").notNull(),referencedPastTrades:Se("referenced_past_trades").notNull(),lessonApplication:C("lesson_application").notNull(),mistakeRepetition:C("mistake_repetition").notNull(),strategyAdaptation:C("strategy_adaptation").notNull(),outcomeIntegration:C("outcome_integration").notNull(),reasoningEvolution:C("reasoning_evolution").notNull(),learningScore:C("learning_score").notNull(),previousRoundIds:lt("previous_round_ids").$type(),timestamp:we("timestamp").defaultNow()}),sLe=Re("benchmark_leaderboard_v27",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),pnlPercent:C("pnl_percent"),sharpeRatio:C("sharpe_ratio"),coherenceScore:C("coherence_score"),hallucinationRate:C("hallucination_rate"),disciplineRate:C("discipline_rate"),calibrationScore:C("calibration_score"),reasoningDepthScore:C("reasoning_depth_score"),sourceQualityScore:C("source_quality_score"),outcomePredictionScore:C("outcome_prediction_score"),consensusIntelligenceScore:C("consensus_intelligence_score"),strategyGenomeScore:C("strategy_genome_score"),riskRewardDisciplineScore:C("risk_reward_discipline_score"),executionQualityScore:C("execution_quality_score"),crossRoundLearningScore:C("cross_round_learning_score"),compositeScore:C("composite_score"),tradeCount:Se("trade_count"),winRate:C("win_rate"),grade:L("grade"),updatedAt:we("updated_at").defaultNow()}),aLe=Re("benchmark_round_snapshots_v27",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),roundId:L("round_id").notNull(),scores:lt("scores").$type(),compositeScore:C("composite_score"),action:L("action"),symbol:L("symbol"),timestamp:we("timestamp").defaultNow()});Mr();var cLe=Re("trade_accountability_analysis",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),roundId:L("round_id").notNull(),lossAcknowledgment:C("loss_acknowledgment").notNull(),blameAvoidance:C("blame_avoidance").notNull(),errorSpecificity:C("error_specificity").notNull(),correctiveAction:C("corrective_action").notNull(),selfReportAccuracy:C("self_report_accuracy").notNull(),intellectualHumility:C("intellectual_humility").notNull(),accountabilityScore:C("accountability_score").notNull(),timestamp:we("timestamp").defaultNow()}),lLe=Re("reasoning_quality_index",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),roundId:L("round_id").notNull(),logicalChainLength:C("logical_chain_length").notNull(),evidenceDensity:C("evidence_density").notNull(),counterArgumentQuality:C("counter_argument_quality").notNull(),conclusionClarity:C("conclusion_clarity").notNull(),quantitativeRigor:C("quantitative_rigor").notNull(),conditionalReasoning:C("conditional_reasoning").notNull(),rqiScore:C("rqi_score").notNull(),structureBreakdown:lt("structure_breakdown").$type(),timestamp:we("timestamp").defaultNow()}),uLe=Re("benchmark_leaderboard_v28",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),pnlPercent:C("pnl_percent"),sharpeRatio:C("sharpe_ratio"),coherenceScore:C("coherence_score"),hallucinationRate:C("hallucination_rate"),disciplineRate:C("discipline_rate"),calibrationScore:C("calibration_score"),reasoningDepthScore:C("reasoning_depth_score"),sourceQualityScore:C("source_quality_score"),outcomePredictionScore:C("outcome_prediction_score"),consensusIntelligenceScore:C("consensus_intelligence_score"),strategyGenomeScore:C("strategy_genome_score"),riskRewardDisciplineScore:C("risk_reward_discipline_score"),executionQualityScore:C("execution_quality_score"),crossRoundLearningScore:C("cross_round_learning_score"),tradeAccountabilityScore:C("trade_accountability_score"),reasoningQualityIndexScore:C("reasoning_quality_index_score"),compositeScore:C("composite_score"),tradeCount:Se("trade_count"),winRate:C("win_rate"),grade:L("grade"),updatedAt:we("updated_at").defaultNow()}),dLe=Re("benchmark_round_snapshots_v28",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),roundId:L("round_id").notNull(),scores:lt("scores").$type(),compositeScore:C("composite_score"),action:L("action"),symbol:L("symbol"),timestamp:we("timestamp").defaultNow()});Mr();var pLe=Re("v29_trade_grades",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),tradeId:Se("trade_id").references(()=>Hi.id),roundId:L("round_id"),symbol:L("symbol").notNull(),action:L("action").notNull(),coherenceScore:C("coherence_score"),hallucinationSeverity:C("hallucination_severity"),disciplinePassed:L("discipline_passed"),reasoningDepth:C("reasoning_depth"),sourceDiversity:C("source_diversity"),riskAwareness:C("risk_awareness"),overallGrade:L("overall_grade"),letterScore:C("letter_score"),flags:lt("flags").$type(),reasoning:L("reasoning"),createdAt:we("created_at").defaultNow()}),fLe=Re("v29_benchmark_scores",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),roundId:L("round_id").notNull(),pnlPercent:C("pnl_percent"),sharpeRatio:C("sharpe_ratio"),reasoningCoherence:C("reasoning_coherence"),hallucinationRate:C("hallucination_rate"),instructionDiscipline:C("instruction_discipline"),confidenceCalibration:C("confidence_calibration"),reasoningDepth:C("reasoning_depth"),sourceDiversity:C("source_diversity"),strategyConsistency:C("strategy_consistency"),adaptability:C("adaptability"),riskAwareness:C("risk_awareness"),outcomeAccuracy:C("outcome_accuracy"),executionQuality:C("execution_quality"),crossRoundLearning:C("cross_round_learning"),tradeAccountability:C("trade_accountability"),reasoningQualityIndex:C("reasoning_quality_index"),marketRegimeAwareness:C("market_regime_awareness"),edgeConsistency:C("edge_consistency"),compositeScore:C("composite_score"),tier:L("tier"),createdAt:we("created_at").defaultNow()}),mLe=Re("v29_leaderboard",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),totalRounds:Se("total_rounds"),avgComposite:C("avg_composite"),bestComposite:C("best_composite"),avgCoherence:C("avg_coherence"),avgDepth:C("avg_depth"),avgCalibration:C("avg_calibration"),tier:L("tier"),rank:Se("rank"),totalTradeGrades:Se("total_trade_grades"),gradeDistribution:lt("grade_distribution").$type(),updatedAt:we("updated_at").defaultNow()}),hLe=Re("v29_research_exports",{id:L("id").primaryKey(),format:L("format").notNull(),recordCount:Se("record_count"),exportedAt:we("exported_at").defaultNow(),checksum:L("checksum"),metadata:lt("metadata").$type()});Mr();var gLe=Re("v30_trade_grades",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),roundId:L("round_id"),symbol:L("symbol").notNull(),action:L("action").notNull(),reasoning:L("reasoning").notNull(),confidence:C("confidence").notNull(),coherenceScore:C("coherence_score"),hallucinationFlags:lt("hallucination_flags").$type(),disciplinePassed:L("discipline_passed").default("true"),reasoningDepthScore:C("reasoning_depth_score"),sourceQualityScore:C("source_quality_score"),logicalConsistencyScore:C("logical_consistency_score"),integrityHash:L("integrity_hash"),predictedOutcome:L("predicted_outcome"),actualOutcome:L("actual_outcome"),overallGrade:L("overall_grade").notNull(),gradedAt:we("graded_at").defaultNow()}),yLe=Re("v30_benchmark_scores",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),roundId:L("round_id"),pnlPercent:C("pnl_percent"),sharpeRatio:C("sharpe_ratio"),maxDrawdown:C("max_drawdown"),coherence:C("coherence"),reasoningDepth:C("reasoning_depth"),sourceQuality:C("source_quality"),logicalConsistency:C("logical_consistency"),reasoningIntegrity:C("reasoning_integrity"),hallucinationRate:C("hallucination_rate"),instructionDiscipline:C("instruction_discipline"),riskAwareness:C("risk_awareness"),strategyConsistency:C("strategy_consistency"),adaptability:C("adaptability"),confidenceCalibration:C("confidence_calibration"),crossRoundLearning:C("cross_round_learning"),outcomeAccuracy:C("outcome_accuracy"),marketRegimeAwareness:C("market_regime_awareness"),edgeConsistency:C("edge_consistency"),tradeAccountability:C("trade_accountability"),reasoningQualityIndex:C("reasoning_quality_index"),compositeScore:C("composite_score"),tier:L("tier"),tradeCount:Se("trade_count"),scoredAt:we("scored_at").defaultNow()}),bLe=Re("v30_leaderboard",{agentId:L("agent_id").references(()=>et.id).primaryKey(),agentName:L("agent_name").notNull(),provider:L("provider").notNull(),model:L("model").notNull(),compositeScore:C("composite_score").notNull(),tier:L("tier").notNull(),tradeCount:Se("trade_count").default(0),roundsPlayed:Se("rounds_played").default(0),dimensionScores:lt("dimension_scores").$type(),lastUpdated:we("last_updated").defaultNow()}),vLe=Re("v30_research_exports",{id:L("id").primaryKey(),exportType:L("export_type").notNull(),agentId:L("agent_id"),roundId:L("round_id"),data:lt("data").$type(),dimensionCount:Se("dimension_count").default(20),version:L("version").default("30.0"),exportedAt:we("exported_at").defaultNow()});Mr();var _Le=Re("v31_trade_grades",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),roundId:L("round_id"),symbol:L("symbol").notNull(),action:L("action").notNull(),reasoning:L("reasoning").notNull(),confidence:C("confidence").notNull(),coherenceScore:C("coherence_score"),hallucinationFlags:lt("hallucination_flags").$type(),disciplinePassed:L("discipline_passed").default("true"),reasoningDepthScore:C("reasoning_depth_score"),sourceQualityScore:C("source_quality_score"),logicalConsistencyScore:C("logical_consistency_score"),integrityHash:L("integrity_hash"),transparencyScore:C("transparency_score"),accountabilityScore:C("accountability_score"),predictedOutcome:L("predicted_outcome"),actualOutcome:L("actual_outcome"),outcomeResolved:L("outcome_resolved").default("pending"),overallGrade:L("overall_grade").notNull(),gradedAt:we("graded_at").defaultNow()}),xLe=Re("v31_benchmark_scores",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),roundId:L("round_id"),pnlPercent:C("pnl_percent"),sharpeRatio:C("sharpe_ratio"),maxDrawdown:C("max_drawdown"),coherence:C("coherence"),reasoningDepth:C("reasoning_depth"),sourceQuality:C("source_quality"),logicalConsistency:C("logical_consistency"),reasoningIntegrity:C("reasoning_integrity"),reasoningTransparency:C("reasoning_transparency"),hallucinationRate:C("hallucination_rate"),instructionDiscipline:C("instruction_discipline"),riskAwareness:C("risk_awareness"),strategyConsistency:C("strategy_consistency"),adaptability:C("adaptability"),confidenceCalibration:C("confidence_calibration"),crossRoundLearning:C("cross_round_learning"),outcomeAccuracy:C("outcome_accuracy"),marketRegimeAwareness:C("market_regime_awareness"),edgeConsistency:C("edge_consistency"),tradeAccountability:C("trade_accountability"),reasoningQualityIndex:C("reasoning_quality_index"),decisionAccountability:C("decision_accountability"),compositeScore:C("composite_score"),tier:L("tier"),tradeCount:Se("trade_count"),scoredAt:we("scored_at").defaultNow()}),SLe=Re("v31_leaderboard",{agentId:L("agent_id").references(()=>et.id).primaryKey(),agentName:L("agent_name").notNull(),provider:L("provider").notNull(),model:L("model").notNull(),compositeScore:C("composite_score").notNull(),tier:L("tier").notNull(),tradeCount:Se("trade_count").default(0),roundsPlayed:Se("rounds_played").default(0),dimensionScores:lt("dimension_scores").$type(),lastUpdated:we("last_updated").defaultNow()}),wLe=Re("v31_research_exports",{id:L("id").primaryKey(),exportType:L("export_type").notNull(),agentId:L("agent_id"),roundId:L("round_id"),data:lt("data").$type(),dimensionCount:Se("dimension_count").default(22),version:L("version").default("31.0"),exportedAt:we("exported_at").defaultNow()});Mr();var ALe=Re("v32_trade_grades",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),roundId:L("round_id"),symbol:L("symbol").notNull(),action:L("action").notNull(),reasoning:L("reasoning").notNull(),confidence:C("confidence").notNull(),coherenceScore:C("coherence_score"),hallucinationFlags:lt("hallucination_flags").$type(),disciplinePassed:L("discipline_passed").default("true"),reasoningDepthScore:C("reasoning_depth_score"),sourceQualityScore:C("source_quality_score"),logicalConsistencyScore:C("logical_consistency_score"),integrityHash:L("integrity_hash"),transparencyScore:C("transparency_score"),accountabilityScore:C("accountability_score"),groundingScore:C("grounding_score"),consensusQualityScore:C("consensus_quality_score"),predictedOutcome:L("predicted_outcome"),actualOutcome:L("actual_outcome"),outcomeResolved:L("outcome_resolved").default("pending"),overallGrade:L("overall_grade").notNull(),gradedAt:we("graded_at").defaultNow()}),ELe=Re("v32_benchmark_scores",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),roundId:L("round_id"),pnlPercent:C("pnl_percent"),sharpeRatio:C("sharpe_ratio"),maxDrawdown:C("max_drawdown"),coherence:C("coherence"),reasoningDepth:C("reasoning_depth"),sourceQuality:C("source_quality"),logicalConsistency:C("logical_consistency"),reasoningIntegrity:C("reasoning_integrity"),reasoningTransparency:C("reasoning_transparency"),reasoningGrounding:C("reasoning_grounding"),hallucinationRate:C("hallucination_rate"),instructionDiscipline:C("instruction_discipline"),riskAwareness:C("risk_awareness"),strategyConsistency:C("strategy_consistency"),adaptability:C("adaptability"),confidenceCalibration:C("confidence_calibration"),crossRoundLearning:C("cross_round_learning"),outcomeAccuracy:C("outcome_accuracy"),marketRegimeAwareness:C("market_regime_awareness"),edgeConsistency:C("edge_consistency"),tradeAccountability:C("trade_accountability"),reasoningQualityIndex:C("reasoning_quality_index"),decisionAccountability:C("decision_accountability"),consensusQuality:C("consensus_quality"),compositeScore:C("composite_score"),tier:L("tier"),tradeCount:Se("trade_count"),scoredAt:we("scored_at").defaultNow()}),TLe=Re("v32_leaderboard",{agentId:L("agent_id").references(()=>et.id).primaryKey(),agentName:L("agent_name").notNull(),provider:L("provider").notNull(),model:L("model").notNull(),compositeScore:C("composite_score").notNull(),tier:L("tier").notNull(),tradeCount:Se("trade_count").default(0),roundsPlayed:Se("rounds_played").default(0),dimensionScores:lt("dimension_scores").$type(),lastUpdated:we("last_updated").defaultNow()}),RLe=Re("v32_research_exports",{id:L("id").primaryKey(),exportType:L("export_type").notNull(),agentId:L("agent_id"),roundId:L("round_id"),data:lt("data").$type(),dimensionCount:Se("dimension_count").default(24),version:L("version").default("32.0"),exportedAt:we("exported_at").defaultNow()});Mr();var ILe=Re("v33_trade_grades",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),roundId:L("round_id"),symbol:L("symbol").notNull(),action:L("action").notNull(),reasoning:L("reasoning").notNull(),confidence:C("confidence").notNull(),coherenceScore:C("coherence_score"),hallucinationFlags:lt("hallucination_flags").$type(),disciplinePassed:L("discipline_passed").default("true"),reasoningDepthScore:C("reasoning_depth_score"),sourceQualityScore:C("source_quality_score"),logicalConsistencyScore:C("logical_consistency_score"),integrityHash:L("integrity_hash"),transparencyScore:C("transparency_score"),accountabilityScore:C("accountability_score"),groundingScore:C("grounding_score"),consensusQualityScore:C("consensus_quality_score"),causalReasoningScore:C("causal_reasoning_score"),epistemicHumilityScore:C("epistemic_humility_score"),predictedOutcome:L("predicted_outcome"),actualOutcome:L("actual_outcome"),outcomeResolved:L("outcome_resolved").default("pending"),overallGrade:L("overall_grade").notNull(),gradedAt:we("graded_at").defaultNow()}),CLe=Re("v33_benchmark_scores",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),roundId:L("round_id"),pnlPercent:C("pnl_percent"),sharpeRatio:C("sharpe_ratio"),maxDrawdown:C("max_drawdown"),coherence:C("coherence"),reasoningDepth:C("reasoning_depth"),sourceQuality:C("source_quality"),logicalConsistency:C("logical_consistency"),reasoningIntegrity:C("reasoning_integrity"),reasoningTransparency:C("reasoning_transparency"),reasoningGrounding:C("reasoning_grounding"),causalReasoning:C("causal_reasoning"),epistemicHumility:C("epistemic_humility"),hallucinationRate:C("hallucination_rate"),instructionDiscipline:C("instruction_discipline"),riskAwareness:C("risk_awareness"),strategyConsistency:C("strategy_consistency"),adaptability:C("adaptability"),confidenceCalibration:C("confidence_calibration"),crossRoundLearning:C("cross_round_learning"),outcomeAccuracy:C("outcome_accuracy"),marketRegimeAwareness:C("market_regime_awareness"),edgeConsistency:C("edge_consistency"),tradeAccountability:C("trade_accountability"),reasoningQualityIndex:C("reasoning_quality_index"),decisionAccountability:C("decision_accountability"),consensusQuality:C("consensus_quality"),compositeScore:C("composite_score"),tier:L("tier"),tradeCount:Se("trade_count"),scoredAt:we("scored_at").defaultNow()}),NLe=Re("v33_leaderboard",{agentId:L("agent_id").references(()=>et.id).primaryKey(),agentName:L("agent_name").notNull(),provider:L("provider").notNull(),model:L("model").notNull(),compositeScore:C("composite_score").notNull(),tier:L("tier").notNull(),tradeCount:Se("trade_count").default(0),roundsPlayed:Se("rounds_played").default(0),dimensionScores:lt("dimension_scores").$type(),lastUpdated:we("last_updated").defaultNow()}),OLe=Re("v33_research_exports",{id:L("id").primaryKey(),exportType:L("export_type").notNull(),agentId:L("agent_id"),roundId:L("round_id"),data:lt("data").$type(),dimensionCount:Se("dimension_count").default(26),version:L("version").default("33.0"),exportedAt:we("exported_at").defaultNow()});Mr();var PLe=Re("v34_trade_grades",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),roundId:L("round_id"),symbol:L("symbol").notNull(),action:L("action").notNull(),reasoning:L("reasoning").notNull(),confidence:C("confidence").notNull(),coherenceScore:C("coherence_score"),hallucinationFlags:lt("hallucination_flags").$type(),disciplinePassed:L("discipline_passed").default("true"),reasoningDepthScore:C("reasoning_depth_score"),sourceQualityScore:C("source_quality_score"),logicalConsistencyScore:C("logical_consistency_score"),integrityHash:L("integrity_hash"),transparencyScore:C("transparency_score"),accountabilityScore:C("accountability_score"),groundingScore:C("grounding_score"),consensusQualityScore:C("consensus_quality_score"),causalReasoningScore:C("causal_reasoning_score"),epistemicHumilityScore:C("epistemic_humility_score"),reasoningTraceabilityScore:C("reasoning_traceability_score"),adversarialCoherenceScore:C("adversarial_coherence_score"),predictedOutcome:L("predicted_outcome"),actualOutcome:L("actual_outcome"),outcomeResolved:L("outcome_resolved").default("pending"),overallGrade:L("overall_grade").notNull(),gradedAt:we("graded_at").defaultNow()}),kLe=Re("v34_benchmark_scores",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),roundId:L("round_id"),pnlPercent:C("pnl_percent"),sharpeRatio:C("sharpe_ratio"),maxDrawdown:C("max_drawdown"),coherence:C("coherence"),reasoningDepth:C("reasoning_depth"),sourceQuality:C("source_quality"),logicalConsistency:C("logical_consistency"),reasoningIntegrity:C("reasoning_integrity"),reasoningTransparency:C("reasoning_transparency"),reasoningGrounding:C("reasoning_grounding"),causalReasoning:C("causal_reasoning"),epistemicHumility:C("epistemic_humility"),reasoningTraceability:C("reasoning_traceability"),adversarialCoherence:C("adversarial_coherence"),hallucinationRate:C("hallucination_rate"),instructionDiscipline:C("instruction_discipline"),riskAwareness:C("risk_awareness"),strategyConsistency:C("strategy_consistency"),adaptability:C("adaptability"),confidenceCalibration:C("confidence_calibration"),crossRoundLearning:C("cross_round_learning"),outcomeAccuracy:C("outcome_accuracy"),marketRegimeAwareness:C("market_regime_awareness"),edgeConsistency:C("edge_consistency"),tradeAccountability:C("trade_accountability"),reasoningQualityIndex:C("reasoning_quality_index"),decisionAccountability:C("decision_accountability"),consensusQuality:C("consensus_quality"),compositeScore:C("composite_score"),tier:L("tier"),tradeCount:Se("trade_count"),scoredAt:we("scored_at").defaultNow()}),DLe=Re("v34_leaderboard",{agentId:L("agent_id").references(()=>et.id).primaryKey(),agentName:L("agent_name").notNull(),provider:L("provider").notNull(),model:L("model").notNull(),compositeScore:C("composite_score").notNull(),tier:L("tier").notNull(),tradeCount:Se("trade_count").default(0),roundsPlayed:Se("rounds_played").default(0),dimensionScores:lt("dimension_scores").$type(),lastUpdated:we("last_updated").defaultNow()}),MLe=Re("v34_research_exports",{id:L("id").primaryKey(),exportType:L("export_type").notNull(),agentId:L("agent_id"),roundId:L("round_id"),data:lt("data").$type(),dimensionCount:Se("dimension_count").default(28),version:L("version").default("34.0"),exportedAt:we("exported_at").defaultNow()});Mr();var LLe=Re("v35_trade_grades",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),roundId:L("round_id"),symbol:L("symbol").notNull(),action:L("action").notNull(),reasoning:L("reasoning").notNull(),confidence:C("confidence").notNull(),coherenceScore:C("coherence_score"),hallucinationFlags:lt("hallucination_flags").$type(),disciplinePassed:L("discipline_passed").default("true"),reasoningDepthScore:C("reasoning_depth_score"),sourceQualityScore:C("source_quality_score"),logicalConsistencyScore:C("logical_consistency_score"),integrityHash:L("integrity_hash"),transparencyScore:C("transparency_score"),accountabilityScore:C("accountability_score"),groundingScore:C("grounding_score"),consensusQualityScore:C("consensus_quality_score"),causalReasoningScore:C("causal_reasoning_score"),epistemicHumilityScore:C("epistemic_humility_score"),reasoningTraceabilityScore:C("reasoning_traceability_score"),adversarialCoherenceScore:C("adversarial_coherence_score"),informationAsymmetryScore:C("information_asymmetry_score"),temporalReasoningScore:C("temporal_reasoning_score"),predictedOutcome:L("predicted_outcome"),actualOutcome:L("actual_outcome"),outcomeResolved:L("outcome_resolved").default("pending"),overallGrade:L("overall_grade").notNull(),gradedAt:we("graded_at").defaultNow()}),BLe=Re("v35_benchmark_scores",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),roundId:L("round_id"),pnlPercent:C("pnl_percent"),sharpeRatio:C("sharpe_ratio"),maxDrawdown:C("max_drawdown"),coherence:C("coherence"),reasoningDepth:C("reasoning_depth"),sourceQuality:C("source_quality"),logicalConsistency:C("logical_consistency"),reasoningIntegrity:C("reasoning_integrity"),reasoningTransparency:C("reasoning_transparency"),reasoningGrounding:C("reasoning_grounding"),causalReasoning:C("causal_reasoning"),epistemicHumility:C("epistemic_humility"),reasoningTraceability:C("reasoning_traceability"),adversarialCoherence:C("adversarial_coherence"),informationAsymmetry:C("information_asymmetry"),temporalReasoningQuality:C("temporal_reasoning_quality"),hallucinationRate:C("hallucination_rate"),instructionDiscipline:C("instruction_discipline"),riskAwareness:C("risk_awareness"),strategyConsistency:C("strategy_consistency"),adaptability:C("adaptability"),confidenceCalibration:C("confidence_calibration"),crossRoundLearning:C("cross_round_learning"),outcomeAccuracy:C("outcome_accuracy"),marketRegimeAwareness:C("market_regime_awareness"),edgeConsistency:C("edge_consistency"),tradeAccountability:C("trade_accountability"),reasoningQualityIndex:C("reasoning_quality_index"),decisionAccountability:C("decision_accountability"),consensusQuality:C("consensus_quality"),compositeScore:C("composite_score"),tier:L("tier"),tradeCount:Se("trade_count"),scoredAt:we("scored_at").defaultNow()}),$Le=Re("v35_leaderboard",{agentId:L("agent_id").references(()=>et.id).primaryKey(),agentName:L("agent_name").notNull(),provider:L("provider").notNull(),model:L("model").notNull(),compositeScore:C("composite_score").notNull(),tier:L("tier").notNull(),tradeCount:Se("trade_count").default(0),roundsPlayed:Se("rounds_played").default(0),dimensionScores:lt("dimension_scores").$type(),lastUpdated:we("last_updated").defaultNow()}),ULe=Re("v35_research_exports",{id:L("id").primaryKey(),exportType:L("export_type").notNull(),agentId:L("agent_id"),roundId:L("round_id"),data:lt("data").$type(),dimensionCount:Se("dimension_count").default(30),version:L("version").default("35.0"),exportedAt:we("exported_at").defaultNow()});Mr();var FLe=Re("v36_trade_grades",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),roundId:L("round_id"),symbol:L("symbol").notNull(),action:L("action").notNull(),reasoning:L("reasoning").notNull(),confidence:C("confidence").notNull(),coherenceScore:C("coherence_score"),hallucinationFlags:lt("hallucination_flags").$type(),disciplinePassed:L("discipline_passed").default("true"),reasoningDepthScore:C("reasoning_depth_score"),sourceQualityScore:C("source_quality_score"),logicalConsistencyScore:C("logical_consistency_score"),integrityHash:L("integrity_hash"),transparencyScore:C("transparency_score"),accountabilityScore:C("accountability_score"),groundingScore:C("grounding_score"),consensusQualityScore:C("consensus_quality_score"),causalReasoningScore:C("causal_reasoning_score"),epistemicHumilityScore:C("epistemic_humility_score"),reasoningTraceabilityScore:C("reasoning_traceability_score"),adversarialCoherenceScore:C("adversarial_coherence_score"),informationAsymmetryScore:C("information_asymmetry_score"),temporalReasoningScore:C("temporal_reasoning_score"),marketMicrostructureScore:C("market_microstructure_score"),convictionConsistencyScore:C("conviction_consistency_score"),predictedOutcome:L("predicted_outcome"),actualOutcome:L("actual_outcome"),outcomeResolved:L("outcome_resolved").default("pending"),overallGrade:L("overall_grade").notNull(),gradedAt:we("graded_at").defaultNow()}),zLe=Re("v36_benchmark_scores",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),roundId:L("round_id"),pnlPercent:C("pnl_percent"),sharpeRatio:C("sharpe_ratio"),maxDrawdown:C("max_drawdown"),coherence:C("coherence"),reasoningDepth:C("reasoning_depth"),sourceQuality:C("source_quality"),logicalConsistency:C("logical_consistency"),reasoningIntegrity:C("reasoning_integrity"),reasoningTransparency:C("reasoning_transparency"),reasoningGrounding:C("reasoning_grounding"),causalReasoning:C("causal_reasoning"),epistemicHumility:C("epistemic_humility"),reasoningTraceability:C("reasoning_traceability"),adversarialCoherence:C("adversarial_coherence"),informationAsymmetry:C("information_asymmetry"),temporalReasoningQuality:C("temporal_reasoning_quality"),marketMicrostructureQuality:C("market_microstructure_quality"),convictionConsistency:C("conviction_consistency"),hallucinationRate:C("hallucination_rate"),instructionDiscipline:C("instruction_discipline"),riskAwareness:C("risk_awareness"),strategyConsistency:C("strategy_consistency"),adaptability:C("adaptability"),confidenceCalibration:C("confidence_calibration"),crossRoundLearning:C("cross_round_learning"),outcomeAccuracy:C("outcome_accuracy"),marketRegimeAwareness:C("market_regime_awareness"),edgeConsistency:C("edge_consistency"),tradeAccountability:C("trade_accountability"),reasoningQualityIndex:C("reasoning_quality_index"),decisionAccountability:C("decision_accountability"),consensusQuality:C("consensus_quality"),compositeScore:C("composite_score"),tier:L("tier"),tradeCount:Se("trade_count"),scoredAt:we("scored_at").defaultNow()}),VLe=Re("v36_leaderboard",{agentId:L("agent_id").references(()=>et.id).primaryKey(),agentName:L("agent_name").notNull(),provider:L("provider").notNull(),model:L("model").notNull(),compositeScore:C("composite_score").notNull(),tier:L("tier").notNull(),tradeCount:Se("trade_count").default(0),roundsPlayed:Se("rounds_played").default(0),dimensionScores:lt("dimension_scores").$type(),lastUpdated:we("last_updated").defaultNow()}),HLe=Re("v36_research_exports",{id:L("id").primaryKey(),exportType:L("export_type").notNull(),agentId:L("agent_id"),roundId:L("round_id"),data:lt("data").$type(),dimensionCount:Se("dimension_count").default(32),version:L("version").default("36.0"),exportedAt:we("exported_at").defaultNow()});Mr();var GLe=Re("v37_trade_grades",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),roundId:L("round_id"),symbol:L("symbol").notNull(),action:L("action").notNull(),reasoning:L("reasoning").notNull(),confidence:C("confidence").notNull(),coherenceScore:C("coherence_score"),hallucinationFlags:lt("hallucination_flags").$type(),disciplinePassed:L("discipline_passed").default("true"),reasoningDepthScore:C("reasoning_depth_score"),sourceQualityScore:C("source_quality_score"),logicalConsistencyScore:C("logical_consistency_score"),integrityHash:L("integrity_hash"),transparencyScore:C("transparency_score"),accountabilityScore:C("accountability_score"),groundingScore:C("grounding_score"),consensusQualityScore:C("consensus_quality_score"),causalReasoningScore:C("causal_reasoning_score"),epistemicHumilityScore:C("epistemic_humility_score"),reasoningTraceabilityScore:C("reasoning_traceability_score"),adversarialCoherenceScore:C("adversarial_coherence_score"),informationAsymmetryScore:C("information_asymmetry_score"),temporalReasoningScore:C("temporal_reasoning_score"),reasoningAuditabilityScore:C("reasoning_auditability_score"),decisionReversibilityScore:C("decision_reversibility_score"),reasoningComposabilityScore:C("reasoning_composability_score"),strategicForesightScore:C("strategic_foresight_score"),predictedOutcome:L("predicted_outcome"),actualOutcome:L("actual_outcome"),outcomeResolved:L("outcome_resolved").default("pending"),overallGrade:L("overall_grade").notNull(),gradedAt:we("graded_at").defaultNow()}),jLe=Re("v37_benchmark_scores",{id:L("id").primaryKey(),agentId:L("agent_id").references(()=>et.id).notNull(),roundId:L("round_id"),pnlPercent:C("pnl_percent"),sharpeRatio:C("sharpe_ratio"),maxDrawdown:C("max_drawdown"),coherence:C("coherence"),reasoningDepth:C("reasoning_depth"),sourceQuality:C("source_quality"),logicalConsistency:C("logical_consistency"),reasoningIntegrity:C("reasoning_integrity"),reasoningTransparency:C("reasoning_transparency"),reasoningGrounding:C("reasoning_grounding"),causalReasoning:C("causal_reasoning"),epistemicHumility:C("epistemic_humility"),reasoningTraceability:C("reasoning_traceability"),adversarialCoherence:C("adversarial_coherence"),informationAsymmetry:C("information_asymmetry"),temporalReasoningQuality:C("temporal_reasoning_quality"),reasoningAuditability:C("reasoning_auditability"),decisionReversibility:C("decision_reversibility"),reasoningComposability:C("reasoning_composability"),strategicForesight:C("strategic_foresight"),hallucinationRate:C("hallucination_rate"),instructionDiscipline:C("instruction_discipline"),riskAwareness:C("risk_awareness"),strategyConsistency:C("strategy_consistency"),adaptability:C("adaptability"),confidenceCalibration:C("confidence_calibration"),crossRoundLearning:C("cross_round_learning"),outcomeAccuracy:C("outcome_accuracy"),marketRegimeAwareness:C("market_regime_awareness"),edgeConsistency:C("edge_consistency"),tradeAccountability:C("trade_accountability"),reasoningQualityIndex:C("reasoning_quality_index"),decisionAccountability:C("decision_accountability"),consensusQuality:C("consensus_quality"),compositeScore:C("composite_score"),tier:L("tier"),tradeCount:Se("trade_count"),scoredAt:we("scored_at").defaultNow()}),qLe=Re("v37_leaderboard",{agentId:L("agent_id").references(()=>et.id).primaryKey(),agentName:L("agent_name").notNull(),provider:L("provider").notNull(),model:L("model").notNull(),compositeScore:C("composite_score").notNull(),tier:L("tier").notNull(),tradeCount:Se("trade_count").default(0),roundsPlayed:Se("rounds_played").default(0),dimensionScores:lt("dimension_scores").$type(),lastUpdated:we("last_updated").defaultNow()}),JLe=Re("v37_research_exports",{id:L("id").primaryKey(),exportType:L("export_type").notNull(),agentId:L("agent_id"),roundId:L("round_id"),data:lt("data").$type(),dimensionCount:Se("dimension_count").default(34),version:L("version").default("37.0"),exportedAt:we("exported_at").defaultNow()});Mr();var ho=Re("agent_theses",{id:Se("id").primaryKey().generatedAlwaysAsIdentity(),agentId:L("agent_id").notNull(),symbol:L("symbol").notNull(),thesis:L("thesis").notNull(),conviction:Se("conviction").notNull().default(5),direction:L("direction").notNull().default("neutral"),entryPrice:zt("entry_price",{precision:20,scale:9}),targetPrice:zt("target_price",{precision:20,scale:9}),status:L("status").notNull().default("active"),closedReason:L("closed_reason"),createdAt:we("created_at").defaultNow().notNull(),updatedAt:we("updated_at").defaultNow().notNull()},t=>[jp("agent_theses_active_unique").on(t.agentId,t.symbol,t.status)]);var x9t=!!process.env.AWS_LAMBDA_FUNCTION_NAME;async function S9t(){if(!Zr.DATABASE_URL)return console.warn("DATABASE_URL not set \u2014 database queries will fail"),null;if(x9t){let{neon:t}=await Promise.resolve().then(()=>(Cie(),qBe)),{drizzle:e}=await Promise.resolve().then(()=>(KBe(),WBe)),r=t(Zr.DATABASE_URL);return e({client:r})}else{let{drizzle:t}=await Promise.resolve().then(()=>(JUe(),qUe)),e=await Promise.resolve().then(()=>(tL(),GUe)),r=new e.default.Pool({connectionString:Zr.DATABASE_URL});return t(r,{schema:pie})}}var qt=await S9t();var zoe="EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",WUe="4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU";var sL="https://api.jup.ag";var Ru=[{symbol:"AAPLx",name:"Apple",mintAddress:"XsbEhLAtcf6HdfpFZ5xEMdqW8nfAvcsP5bdudRLJzJp",decimals:8},{symbol:"AMZNx",name:"Amazon",mintAddress:"Xs3eBt7uRfJX8QUs4suhyU8p2M6DoUDrJyWBa8LLZsg",decimals:8},{symbol:"GOOGLx",name:"Alphabet",mintAddress:"XsCPL9dNWBMvFtTmwcCA5v3xWPSMEBCszbQdiLLq6aN",decimals:8},{symbol:"METAx",name:"Meta",mintAddress:"Xsa62P5mvPszXL1krVUnU5ar38bBSVcWAB6fmPCo5Zu",decimals:8},{symbol:"MSFTx",name:"Microsoft",mintAddress:"XspzcW1PRtgf6Wj92HCiZdjzKCyFekVD8P5Ueh3dRMX",decimals:8},{symbol:"NVDAx",name:"NVIDIA",mintAddress:"Xsc9qvGR1efVDFGLrVsmkzv3qi45LTBjeUKSPmx9qEh",decimals:8},{symbol:"TSLAx",name:"Tesla",mintAddress:"XsDoVfqeBukxuZHWhdvWHBhgEHjGNst4MLodqsJHzoB",decimals:8},{symbol:"ORCLx",name:"Oracle",mintAddress:"XsjFwUPiLofddX5cWFHW35GCbXcSu1BCUGfxoQAQjeL",decimals:8},{symbol:"IBMx",name:"IBM",mintAddress:"XspwhyYPdWVM8XBHZnpS9hgyag9MKjLRyE3tVfmCbSr",decimals:8},{symbol:"CSCOx",name:"Cisco",mintAddress:"Xsr3pdLQyXvDJBFgpR5nexCEZwXvigb8wbPYp4YoNFf",decimals:8},{symbol:"ACNx",name:"Accenture",mintAddress:"Xs5UJzmCRQ8DWZjskExdSQDnbE6iLkRu2jjrRAB1JSU",decimals:8},{symbol:"CRMx",name:"Salesforce",mintAddress:"XsczbcQ3zfcgAEt9qHQES8pxKAVG5rujPSHQEXi4kaN",decimals:8},{symbol:"AVGOx",name:"Broadcom",mintAddress:"XsgSaSvNSqLTtFuyWPBhK9196Xb9Bbdyjj4fH3cPJGo",decimals:8},{symbol:"AMDx",name:"AMD",mintAddress:"XsXcJ6GZ9kVnjqGsjBnktRcuwMBmvKWh8S93RefZ1rF",decimals:8},{symbol:"INTCx",name:"Intel",mintAddress:"XshPgPdXFRWB8tP1j82rebb2Q9rPgGX37RuqzohmArM",decimals:8},{symbol:"MRVLx",name:"Marvell",mintAddress:"XsuxRGDzbLjnJ72v74b7p9VY6N66uYgTCyfwwRjVCJA",decimals:8},{symbol:"NFLXx",name:"Netflix",mintAddress:"XsEH7wWfJJu2ZT3UCFeVfALnVA6CP5ur7Ee11KmzVpL",decimals:8},{symbol:"PLTRx",name:"Palantir",mintAddress:"XsoBhf2ufR8fTyNSjqfU71DYGaE6Z3SUGAidpzriAA4",decimals:8},{symbol:"APPx",name:"AppLovin",mintAddress:"XsPdAVBi8Zc1xvv53k4JcMrQaEDTgkGqKYeh7AYgPHV",decimals:8},{symbol:"CRWDx",name:"CrowdStrike",mintAddress:"Xs7xXqkcK7K8urEqGg52SECi79dRp2cEKKuYjUePYDw",decimals:8},{symbol:"COINx",name:"Coinbase",mintAddress:"Xs7ZdzSHLU9ftNJsii5fCeJhoRWSC32SQGzGQtePxNu",decimals:8},{symbol:"MSTRx",name:"MicroStrategy",mintAddress:"XsP7xzNPvEHS1m6qfanPUGjNmdnmsLKEoNAnHjdxxyZ",decimals:8},{symbol:"HOODx",name:"Robinhood",mintAddress:"XsvNBAYkrDRNhA7wPHQfX3ZUXZyZLdnCQDfHZ56bzpg",decimals:8},{symbol:"CRCLx",name:"Circle",mintAddress:"XsueG8BtpquVJX9LVLLEGuViXUungE6WmK5YZ3p3bd1",decimals:8},{symbol:"GMEx",name:"GameStop",mintAddress:"Xsf9mBktVB9BSU5kf4nHxPq5hCBJ2j2ui3ecFGxPRGc",decimals:8},{symbol:"OPENx",name:"Opendoor",mintAddress:"XsGtpmjhmC8kyjVSWL4VicGu36ceq9u55PTgF8bhGv6",decimals:8},{symbol:"JPMx",name:"JPMorgan Chase",mintAddress:"XsMAqkcKsUewDrzVkait4e5u4y8REgtyS7jWgCpLV2C",decimals:8},{symbol:"BACx",name:"Bank of America",mintAddress:"XswsQk4duEQmCbGzfqUUWYmi7pV7xpJ9eEmLHXCaEQP",decimals:8},{symbol:"GSx",name:"Goldman Sachs",mintAddress:"XsgaUyp4jd1fNBCxgtTKkW64xnnhQcvgaxzsbAq5ZD1",decimals:8},{symbol:"Vx",name:"Visa",mintAddress:"XsqgsbXwWogGJsNcVZ3TyVouy2MbTkfCFhCGGGcQZ2p",decimals:8},{symbol:"MAx",name:"Mastercard",mintAddress:"XsApJFV9MAktqnAc6jqzsHVujxkGm9xcSUffaBoYLKC",decimals:8},{symbol:"BRK.Bx",name:"Berkshire Hathaway",mintAddress:"Xs6B6zawENwAbWVi7w92rjazLuAr5Az59qgWKcNb45x",decimals:8},{symbol:"LLYx",name:"Eli Lilly",mintAddress:"Xsnuv4omNoHozR6EEW5mXkw8Nrny5rB3jVfLqi6gKMH",decimals:8},{symbol:"UNHx",name:"UnitedHealth",mintAddress:"XszvaiXGPwvk2nwb3o9C1CX4K6zH8sez11E6uyup6fe",decimals:8},{symbol:"JNJx",name:"Johnson & Johnson",mintAddress:"XsGVi5eo1Dh2zUpic4qACcjuWGjNv8GCt3dm5XcX6Dn",decimals:8},{symbol:"MRKx",name:"Merck",mintAddress:"XsnQnU7AdbRZYe2akqqpibDdXjkieGFfSkbkjX1Sd1X",decimals:8},{symbol:"PFEx",name:"Pfizer",mintAddress:"XsAtbqkAP1HJxy7hFDeq7ok6yM43DQ9mQ1Rh861X8rw",decimals:8},{symbol:"ABTx",name:"Abbott",mintAddress:"XsHtf5RpxsQ7jeJ9ivNewouZKJHbPxhPoEy6yYvULr7",decimals:8},{symbol:"ABBVx",name:"AbbVie",mintAddress:"XswbinNKyPmzTa5CskMbCPvMW6G5CMnZXZEeQSSQoie",decimals:8},{symbol:"AZNx",name:"AstraZeneca",mintAddress:"Xs3ZFkPYT2BN7qBMqf1j1bfTeTm1rFzEFSsQ1z3wAKU",decimals:8},{symbol:"NVOx",name:"Novo Nordisk",mintAddress:"XsfAzPzYrYjd4Dpa9BU3cusBsvWfVB9gBcyGC87S57n",decimals:8},{symbol:"TMOx",name:"Thermo Fisher",mintAddress:"Xs8drBWy3Sd5QY3aifG9kt9KFs2K3PGZmx7jWrsrk57",decimals:8},{symbol:"DHRx",name:"Danaher",mintAddress:"Xseo8tgCZfkHxWS9xbFYeKFyMSbWEvZGFV1Gh53GtCV",decimals:8},{symbol:"MDTx",name:"Medtronic",mintAddress:"XsDgw22qRLTv5Uwuzn6T63cW69exG41T6gwQhEK22u2",decimals:8},{symbol:"WMTx",name:"Walmart",mintAddress:"Xs151QeqTCiuKtinzfRATnUESM2xTU6V9Wy8Vy538ci",decimals:8},{symbol:"KOx",name:"Coca-Cola",mintAddress:"XsaBXg8dU5cPM6ehmVctMkVqoiRG2ZjMo1cyBJ3AykQ",decimals:8},{symbol:"PEPx",name:"PepsiCo",mintAddress:"Xsv99frTRUeornyvCfvhnDesQDWuvns1M852Pez91vF",decimals:8},{symbol:"MCDx",name:"McDonald's",mintAddress:"XsqE9cRRpzxcGKDXj1BJ7Xmg4GRhZoyY1KpmGSxAWT2",decimals:8},{symbol:"PGx",name:"Procter & Gamble",mintAddress:"XsYdjDjNUygZ7yGKfQaB6TxLh2gC6RRjzLtLAGJrhzV",decimals:8},{symbol:"PMx",name:"Philip Morris",mintAddress:"Xsba6tUnSjDae2VcopDB6FGGDaxRrewFCDa5hKn5vT3",decimals:8},{symbol:"HDx",name:"Home Depot",mintAddress:"XszjVtyhowGjSC5odCqBpW1CtXXwXjYokymrk7fGKD3",decimals:8},{symbol:"XOMx",name:"Exxon Mobil",mintAddress:"XsaHND8sHyfMfsWPj6kSdd5VwvCayZvjYgKmmcNL5qh",decimals:8},{symbol:"CVXx",name:"Chevron",mintAddress:"XsNNMt7WTNA2sV3jrb1NNfNgapxRF5i4i6GcnTRRHts",decimals:8},{symbol:"HONx",name:"Honeywell",mintAddress:"XsRbLZthfABAPAfumWNEJhPyiKDW6TvDVeAeW7oKqA2",decimals:8},{symbol:"LINx",name:"Linde",mintAddress:"XsSr8anD1hkvNMu8XQiVcmiaTP7XGvYu7Q58LdmtE8Z",decimals:8},{symbol:"CMCSAx",name:"Comcast",mintAddress:"XsvKCaNsxg2GN8jjUmq71qukMJr7Q1c5R2Mk9P8kcS8",decimals:8},{symbol:"SPYx",name:"S&P 500 ETF",mintAddress:"XsoCS1TfEyfFhfvj8EtZ528L3CaKBDBRqRapnBbDF2W",decimals:8},{symbol:"QQQx",name:"Nasdaq 100 ETF",mintAddress:"Xs8S1uUs1zvS2p7iwtsG3b6fkhpvmwz4GYU3gWAmWHZ",decimals:8},{symbol:"TQQQx",name:"TQQQ 3x Nasdaq ETF",mintAddress:"XsjQP3iMAaQ3kQScQKthQpx9ALRbjKAjQtHg6TFomoc",decimals:8},{symbol:"GLDx",name:"Gold ETF",mintAddress:"Xsv9hRk1z5ystj9MhnA7Lq4vjSsLwzL2nxrwmwtD3re",decimals:8},{symbol:"VTIx",name:"Vanguard Total Market ETF",mintAddress:"XsssYEQjzxBCFgvYFFNuhJFBeHNdLWYeUSP8F45cDr9",decimals:8},{symbol:"TBLLx",name:"Invesco TBLL ETF",mintAddress:"XsqBC5tcVQLYt8wqGCHRnAUUecbRYXoJCReD6w7QEKp",decimals:8},{symbol:"AMBRx",name:"Amber",mintAddress:"XsaQTCgebC2KPbf27KUhdv5JFvHhQ4GDAPURwrEhAzb",decimals:8},{symbol:"DFDVx",name:"DFDV",mintAddress:"Xs2yquAgsHByNzx68WJC55WHjHBvG9JsMB7CWjTLyPy",decimals:8},{symbol:"STRCx",name:"Strategy PP Variable",mintAddress:"Xs78JED6PFZxWc2wCEPspZW9kL3Se5J7L5TChKgsidH",decimals:8},{symbol:"TONXx",name:"TON",mintAddress:"XscE4GUcsYhcyZu5ATiGUMmhxYa1D5fwbpJw4K6K4dp",decimals:8}];async function KUe(t){return qt.select().from(ho).where(Ro(cr(ho.agentId,t),cr(ho.status,"active"))).orderBy(Vo(ho.updatedAt))}async function QUe(t,e){let r=await qt.select().from(ho).where(Ro(cr(ho.agentId,t),cr(ho.symbol,e.symbol),cr(ho.status,"active"))).limit(1);if(r.length>0)return await qt.update(ho).set({thesis:e.thesis,conviction:e.conviction,direction:e.direction,entryPrice:e.entryPrice??r[0].entryPrice,targetPrice:e.targetPrice??r[0].targetPrice,updatedAt:new Date}).where(cr(ho.id,r[0].id)),{action:"updated",id:r[0].id};let[n]=await qt.insert(ho).values({agentId:t,symbol:e.symbol,thesis:e.thesis,conviction:e.conviction,direction:e.direction,entryPrice:e.entryPrice,targetPrice:e.targetPrice,status:"active"}).returning({id:ho.id});return{action:"created",id:n.id}}async function XUe(t,e,r){return{closed:(await qt.update(ho).set({status:"closed",closedReason:r,updatedAt:new Date}).where(Ro(cr(ho.agentId,t),cr(ho.symbol,e),cr(ho.status,"active"))).returning({id:ho.id})).length}}var w9t=new Map;function eFe(t){let r=(w9t.get(t)??[]).map(u=>u.price),n=r.length>=20?A9t(r,20):null,i=r.length>=12?YUe(r,12):null,o=r.length>=26?YUe(r,26):null,s=r.length>=15?E9t(r,14):null,a=r.length>=10?(r[r.length-1]-r[r.length-10])/r[r.length-10]*100:null,c="sideways",l=50;if(n!==null&&r.length>0){let d=(r[r.length-1]-n)/n*100;d>1?(c="up",l=Math.min(100,50+d*10)):d<-1&&(c="down",l=Math.min(100,50+Math.abs(d)*10))}return s!==null&&(s>70?(c="up",l=Math.max(l,80)):s<30&&(c="down",l=Math.max(l,80))),{symbol:t,sma20:n!==null?Voe(n):null,ema12:i!==null?Voe(i):null,ema26:o!==null?Voe(o):null,rsi14:s!==null?ZUe(s):null,momentum:a!==null?ZUe(a):null,trend:c,signalStrength:Math.round(l),updatedAt:new Date().toISOString()}}function A9t(t,e){let r=t.slice(-e);return r.reduce((n,i)=>n+i,0)/r.length}function YUe(t,e){let r=2/(e+1),n=t[0];for(let i=1;i<t.length;i++)n=t[i]*r+n*(1-r);return n}function E9t(t,e){if(t.length<e+1)return 50;let r=0,n=0,i=t.slice(-(e+1));for(let c=1;c<i.length;c++){let l=i[c]-i[c-1];l>0?r+=l:n-=l}let o=r/e,s=n/e;return s===0?100:100-100/(1+o/s)}function ZUe(t){return Math.round(t*100)/100}function Voe(t){return Math.round(t*1e4)/1e4}var tFe=[{name:"get_portfolio",description:"Get your current portfolio: cash balance, positions with PnL, and total portfolio value.",parameters:{type:"object",properties:{},required:[]}},{name:"get_stock_prices",description:"Get current prices, 24h change, and volume for specific stocks or all stocks. Pass an empty symbols array to get all stocks.",parameters:{type:"object",properties:{symbols:{type:"array",description:'Stock symbols to look up (e.g. ["AAPLx","TSLAx"]). Empty array = all stocks.',items:{type:"string"}}},required:["symbols"]}},{name:"get_active_theses",description:"Get your currently active investment theses. These persist across trading rounds so you remember your reasoning.",parameters:{type:"object",properties:{},required:[]}},{name:"update_thesis",description:"Create or update an investment thesis for a stock. Records your reasoning, conviction, and price targets.",parameters:{type:"object",properties:{symbol:{type:"string",description:"Stock symbol (e.g. AAPLx)"},thesis:{type:"string",description:"Your investment thesis \u2014 why you are bullish/bearish"},conviction:{type:"string",description:"Conviction level 1-10 (as a string number)"},direction:{type:"string",description:"Your directional view",enum:["bullish","bearish","neutral"]},entry_price:{type:"string",description:"Entry price when thesis was formed (optional)"},target_price:{type:"string",description:"Target price you expect (optional)"}},required:["symbol","thesis","conviction","direction"]}},{name:"close_thesis",description:"Close an active thesis when your view has changed or you've exited the position.",parameters:{type:"object",properties:{symbol:{type:"string",description:"Stock symbol"},reason:{type:"string",description:"Why you are closing this thesis"}},required:["symbol","reason"]}},{name:"search_news",description:"Search for recent news about a stock, sector, or market topic using Brave Search.",parameters:{type:"object",properties:{query:{type:"string",description:'Search query (e.g. "NVDA earnings 2026", "tech sector outlook")'}},required:["query"]}},{name:"get_technical_indicators",description:"Get technical indicators (SMA, EMA, RSI, momentum, trend) for a stock.",parameters:{type:"object",properties:{symbol:{type:"string",description:"Stock symbol (e.g. NVDAx)"}},required:["symbol"]}}];function rFe(){return tFe.map(t=>({name:t.name,description:t.description,input_schema:t.parameters}))}function aL(){return tFe.map(t=>({type:"function",function:{name:t.name,description:t.description,parameters:t.parameters}}))}async function nFe(t,e,r){switch(t){case"get_portfolio":return T9t(r);case"get_stock_prices":return R9t(e,r);case"get_active_theses":return I9t(r);case"update_thesis":return C9t(e,r);case"close_thesis":return N9t(e,r);case"search_news":return O9t(e);case"get_technical_indicators":return P9t(e);default:return JSON.stringify({error:`Unknown tool: ${t}`})}}function T9t(t){let{portfolio:e}=t;return JSON.stringify({cash_usdc:e.cashBalance,total_portfolio_value:e.totalValue,total_pnl:e.totalPnl,total_pnl_percent:e.totalPnlPercent,position_count:e.positions.length,positions:e.positions.map(r=>({symbol:r.symbol,quantity:r.quantity,avg_cost:r.averageCostBasis,current_price:r.currentPrice,unrealized_pnl:r.unrealizedPnl,unrealized_pnl_percent:r.unrealizedPnlPercent}))})}function R9t(t,e){if(!Array.isArray(t.symbols))return JSON.stringify({error:"symbols must be an array"});let r=t.symbols,n=r.length===0?e.marketData:e.marketData.filter(i=>r.some(o=>o.toLowerCase()===i.symbol.toLowerCase()));return JSON.stringify(n.map(i=>({symbol:i.symbol,name:i.name,price:i.price,change_24h:i.change24h,volume_24h:i.volume24h})))}async function I9t(t){try{let e=await KUe(t.agentId);return JSON.stringify(e.map(r=>({symbol:r.symbol,thesis:r.thesis,conviction:r.conviction,direction:r.direction,entry_price:r.entryPrice,target_price:r.targetPrice,updated_at:r.updatedAt})))}catch{return JSON.stringify({error:"Failed to fetch theses",theses:[]})}}async function C9t(t,e){if(!t.symbol||typeof t.symbol!="string")return JSON.stringify({success:!1,error:"symbol is required"});if(!t.thesis||typeof t.thesis!="string")return JSON.stringify({success:!1,error:"thesis is required"});if(!t.conviction||typeof t.conviction!="string")return JSON.stringify({success:!1,error:"conviction is required"});if(!t.direction||!["bullish","bearish","neutral"].includes(t.direction))return JSON.stringify({success:!1,error:"direction must be bullish, bearish, or neutral"});try{let r=await QUe(e.agentId,{symbol:t.symbol,thesis:t.thesis,conviction:Math.max(1,Math.min(10,parseInt(t.conviction)||5)),direction:t.direction??"neutral",entryPrice:t.entry_price,targetPrice:t.target_price});return JSON.stringify({success:!0,...r})}catch(r){return JSON.stringify({success:!1,error:r instanceof Error?r.message:String(r)})}}async function N9t(t,e){if(!t.symbol||typeof t.symbol!="string")return JSON.stringify({success:!1,error:"symbol is required"});if(!t.reason||typeof t.reason!="string")return JSON.stringify({success:!1,error:"reason is required"});try{let r=await XUe(e.agentId,t.symbol,t.reason);return JSON.stringify({success:!0,...r})}catch(r){return JSON.stringify({success:!1,error:r instanceof Error?r.message:String(r)})}}async function O9t(t){if(!t.query||typeof t.query!="string")return JSON.stringify({results:[],error:"query is required"});let e=t.query,r=process.env.BRAVE_API_KEY;if(!r)return JSON.stringify({results:[],note:"News search unavailable (no BRAVE_API_KEY)"});try{let n=new URL("https://api.search.brave.com/res/v1/web/search");n.searchParams.set("q",e),n.searchParams.set("count","5");let i=await fetch(n.toString(),{headers:{"X-Subscription-Token":r,Accept:"application/json"},signal:AbortSignal.timeout(8e3)});if(!i.ok)return JSON.stringify({results:[],error:`Search returned ${i.status}`});let s=((await i.json()).web?.results??[]).slice(0,5).map(a=>({title:a.title??"",description:(a.description??"").slice(0,300),url:a.url??""}));return JSON.stringify({results:s})}catch(n){return JSON.stringify({results:[],error:n instanceof Error?n.message:"Search failed"})}}function P9t(t){if(!t.symbol||typeof t.symbol!="string")return JSON.stringify({error:"symbol is required"});let e=t.symbol;try{let r=eFe(e);return JSON.stringify(r)}catch{return JSON.stringify({symbol:e,sma20:null,ema12:null,ema26:null,rsi14:null,momentum:null,trend:"sideways",signalStrength:50,note:"Insufficient data for indicators"})}}var iFe=`# {{AGENT_NAME}} \u2014 MoltApp Trading Agent

You are **{{AGENT_NAME}}**, an autonomous AI trading agent competing on the MoltApp benchmark. You trade tokenized equities (xStocks) on Solana mainnet via Jupiter DEX.

## Your Strategy

{{STRATEGY}}

## Risk Profile

- **Risk Tolerance:** {{RISK_TOLERANCE}}
- **Preferred Sectors:** {{PREFERRED_SECTORS}}

{{CUSTOM_RULES}}

## Available Tools

You have access to these tools. Use them to gather information before making your decision:

| Tool | Description |
|------|-------------|
| \`get_portfolio\` | Get your cash balance, positions, and P&L. **CALL THIS FIRST every round.** |
| \`get_stock_prices\` | Get current prices for stocks. Call with {} to scan all, or {"symbol": "AAPLx"} for specific. |
| \`get_active_theses\` | Get your persisted investment theses from previous rounds. |
| \`update_thesis\` | Create or update investment thesis before buying. **REQUIRED before every BUY.** |
| \`close_thesis\` | Close a thesis when selling or when view changes. **REQUIRED when selling.** |
| \`search_news\` | Search recent news about a stock. Use specific queries like "Apple Q4 earnings 2026". |
| \`get_technical_indicators\` | Get RSI, SMA, trend for a stock. Useful for timing entries. |

## Decision Process

1. **Call get_portfolio** \u2014 see your cash, positions, P&L
2. **Call get_active_theses** \u2014 review your documented reasoning
3. **Call get_stock_prices({})** \u2014 scan market for movers
4. **Research candidates** \u2014 use search_news and get_technical_indicators
5. **Document before trading** \u2014 call update_thesis (buy) or close_thesis (sell)
6. **Return decision** \u2014 JSON with action, reasoning, confidence

## Confidence Calibration

- **<70** = HOLD (need more data)
- **70-79** = Good trade zone (3-4 confirming signals)
- **80+** = Exceptional (rare, 4+ strong signals aligned)

Count your signals honestly:
- +15: Strong fundamental catalyst (earnings beat, major news)
- +10: Technical confirmation (RSI <30 oversold, support level)
- +5: Strategy fit, timing catalyst, risk/reward
- -10: Each contradicting signal

## Platform Rules

- **ONE trade per round.** Buy, sell, or hold.
- **Trade size:** $1-5 USDC per trade.
- **Max position:** 25% of portfolio in any single stock.
- **Max 4 trades per day.**
- **Cooldown:** 6 hours between trades.

## Response Format

Return this exact JSON format (no markdown, no extra text):

\`\`\`json
{
  "action": "buy" | "sell" | "hold",
  "symbol": "STOCKx",
  "quantity": <number>,
  "reasoning": "<detailed analysis>",
  "confidence": <0-100>,
  "sources": ["<tools you called>"],
  "intent": "<momentum | value | contrarian | mean_reversion>",
  "predictedOutcome": "<what you expect>",
  "thesisStatus": "<thesis state>"
}
\`\`\`

**Field rules:**
- \`quantity\`: USDC amount for buys ($1-5), share count for sells, 0 for hold
- \`reasoning\`: Be specific. Cite actual data from your tool calls.
- \`confidence\`: 0-100 based on signal count. Be honest.
- \`sources\`: List tools you ACTUALLY called this round.

## Important Guidelines

- **No fabrication:** Only reference data returned by your tools.
- **Quality reasoning:** Be specific, cite real numbers.
- **Patience pays:** Most rounds should be HOLD. Trading costs fees.
- **Real money:** These are real on-chain transactions.
`;var k9t={AGENT_NAME:"Trading Agent",STRATEGY:"You are an autonomous AI trading agent. Develop your OWN strategy based on your research using the available tools. There are 66 tokenized stocks (xStocks) available across all sectors \u2014 tech, healthcare, finance, consumer, energy, industrials, ETFs, and more. Scan the full market each round. Build a diversified portfolio of 5-8 stocks. Document your reasoning via theses. HOLD unless your thesis changes materially or a genuinely high-conviction opportunity appears.",RISK_TOLERANCE:"moderate",PREFERRED_SECTORS:"All sectors \u2014 scan the full 66-stock universe each round",CUSTOM_RULES:""},Hoe=null;function D9t(){return Hoe||(Hoe=iFe),Hoe}function M9t(t){let e=D9t(),r={...k9t,...t};for(let[n,i]of Object.entries(r))e=e.replaceAll(`{{${n}}}`,i);return e}var L9t=8,k0=class{config;constructor(e){this.config=e}get agentId(){return this.config.agentId}get name(){return this.config.name}get model(){return this.config.model}get provider(){return this.config.provider}async analyze(e,r){try{return await this.runAgentLoop(e,r)}catch(n){let i=n instanceof Error?n.message:String(n);return console.error(`[${this.config.name}] Agent loop failed: ${i}`),this.fallbackHold(i)}}async runAgentLoop(e,r){let n=M9t(this.config.skillOverrides),i=[...e].filter(u=>u.change24h!==null).sort((u,d)=>Math.abs(d.change24h)-Math.abs(u.change24h)).slice(0,10).map(u=>`${u.symbol}: $${u.price.toFixed(2)} (${u.change24h>=0?"+":""}${u.change24h.toFixed(2)}%)`).join(", "),o=r.positions.length>0?r.positions.map(u=>`${u.symbol} (${u.unrealizedPnlPercent>=0?"+":""}${u.unrealizedPnlPercent.toFixed(1)}%)`).join(", "):"no positions yet",s=`New trading round. Top movers: ${i}. You have ${r.positions.length} positions (${o}), $${r.cashBalance.toFixed(2)} cash, $${r.totalValue.toFixed(2)} total value. Use your tools to research, then decide.`,a=this.getProviderTools(),c=this.buildInitialMessages(s),l={agentId:this.config.agentId,portfolio:r,marketData:e};for(let u=0;u<L9t;u++){let d=await this.callWithTools(n,c,a);if(d.stopReason==="tool_use"&&d.toolCalls.length>0){let p=[];for(let f of d.toolCalls){console.log(`[${this.config.name}] Tool call: ${f.name}(${JSON.stringify(f.arguments).slice(0,100)})`);let h=await nFe(f.name,f.arguments,l);p.push({toolCallId:f.id,result:h})}c=this.appendToolResults(c,d,p);continue}if(d.textResponse)try{return this.parseLLMResponse(d.textResponse)}catch(p){if(console.warn(`[${this.config.name}] Failed to parse response on turn ${u+1}: ${p instanceof Error?p.message:String(p)}`),d.stopReason==="max_tokens")return this.fallbackHold("Response truncated (max_tokens)");if(d.stopReason==="end_turn")return this.fallbackHold(`Could not parse decision: ${p instanceof Error?p.message:String(p)}`)}if(!d.textResponse&&d.toolCalls.length===0)return this.fallbackHold("Empty response from LLM")}return this.fallbackHold("Max turns exceeded (8)")}parseLLMResponse(e){let r=e.trim();r.startsWith("```json")?r=r.slice(7):r.startsWith("```")&&(r=r.slice(3)),r.endsWith("```")&&(r=r.slice(0,-3)),r=r.trim();let n=r.match(/\{[\s\S]*\}/);if(!n)throw new Error(`No JSON object found in LLM response: ${e.slice(0,200)}`);let i=JSON.parse(n[0]);if(!i.action||!["buy","sell","hold"].includes(i.action))throw new Error(`Invalid action: ${i.action}`);if(!i.symbol||typeof i.symbol!="string")throw new Error(`Invalid symbol: ${i.symbol}`);(typeof i.quantity!="number"||i.quantity<0)&&(i.quantity=0),typeof i.confidence!="number"&&(i.confidence=50),i.confidence=Math.max(0,Math.min(100,i.confidence)),(!i.reasoning||typeof i.reasoning!="string")&&(i.reasoning="No reasoning provided");let o=Array.isArray(i.sources)?i.sources.filter(l=>typeof l=="string"):[],s=typeof i.intent=="string"?i.intent:void 0,a=typeof i.predictedOutcome=="string"?i.predictedOutcome:void 0,c=typeof i.thesisStatus=="string"?i.thesisStatus:void 0;return{action:i.action,symbol:i.symbol,quantity:i.quantity,reasoning:i.reasoning,confidence:i.confidence,timestamp:new Date().toISOString(),sources:o.length>0?o:void 0,intent:s,predictedOutcome:a,thesisStatus:c}}fallbackHold(e){return{action:"hold",symbol:"SPYx",quantity:0,reasoning:`Agent error \u2014 defaulting to hold: ${e}`,confidence:0,timestamp:new Date().toISOString()}}};function ut(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function pe(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}var Goe=function(){let{crypto:t}=globalThis;if(t?.randomUUID)return Goe=t.randomUUID.bind(t),t.randomUUID();let e=new Uint8Array(1),r=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(+n^r()&15>>+n/4).toString(16))};function Bm(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}var tR=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){let e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};var It=class extends Error{},jo=class t extends It{constructor(e,r,n,i){super(`${t.makeMessage(e,r,n)}`),this.status=e,this.headers=i,this.requestID=i?.get("request-id"),this.error=r}static makeMessage(e,r,n){let i=r?.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,r,n,i){if(!e||!i)return new D0({message:n,cause:tR(r)});let o=r;return e===400?new yw(e,o,n,i):e===401?new bw(e,o,n,i):e===403?new vw(e,o,n,i):e===404?new _w(e,o,n,i):e===409?new xw(e,o,n,i):e===422?new Sw(e,o,n,i):e===429?new ww(e,o,n,i):e>=500?new Aw(e,o,n,i):new t(e,o,n,i)}},us=class extends jo{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},D0=class extends jo{constructor({message:e,cause:r}){super(void 0,void 0,e||"Connection error.",void 0),r&&(this.cause=r)}},gw=class extends D0{constructor({message:e}={}){super({message:e??"Request timed out."})}},yw=class extends jo{},bw=class extends jo{},vw=class extends jo{},_w=class extends jo{},xw=class extends jo{},Sw=class extends jo{},ww=class extends jo{},Aw=class extends jo{};var $9t=/^[a-z][a-z0-9+.-]*:/i,oFe=t=>$9t.test(t),joe=t=>(joe=Array.isArray,joe(t)),qoe=joe;function cL(t){return typeof t!="object"?{}:t??{}}function sFe(t){if(!t)return!0;for(let e in t)return!1;return!0}function aFe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var cFe=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new It(`${t} must be an integer`);if(e<0)throw new It(`${t} must be a positive integer`);return e};var lL=t=>{try{return JSON.parse(t)}catch{return}};var lFe=t=>new Promise(e=>setTimeout(e,t));var M0="0.72.1";var fFe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function U9t(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}var F9t=()=>{let t=U9t();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":M0,"X-Stainless-OS":dFe(Deno.build.os),"X-Stainless-Arch":uFe(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":M0,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":M0,"X-Stainless-OS":dFe(globalThis.process.platform??"unknown"),"X-Stainless-Arch":uFe(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};let e=z9t();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":M0,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":M0,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function z9t(){if(typeof navigator>"u"||!navigator)return null;let t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(let{key:e,pattern:r}of t){let n=r.exec(navigator.userAgent);if(n){let i=n[1]||0,o=n[2]||0,s=n[3]||0;return{browser:e,version:`${i}.${o}.${s}`}}}return null}var uFe=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",dFe=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown"),pFe,mFe=()=>pFe??(pFe=F9t());function hFe(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new Anthropic({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Joe(...t){let e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function uL(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Joe({start(){},async pull(r){let{done:n,value:i}=await e.next();n?r.close():r.enqueue(i)},async cancel(){await e.return?.()}})}function rR(t){if(t[Symbol.asyncIterator])return t;let e=t.getReader();return{async next(){try{let r=await e.read();return r?.done&&e.releaseLock(),r}catch(r){throw e.releaseLock(),r}},async return(){let r=e.cancel();return e.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function gFe(t){if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await t[Symbol.asyncIterator]().return?.();return}let e=t.getReader(),r=e.cancel();e.releaseLock(),await r}var yFe=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});function _Fe(t){let e=0;for(let i of t)e+=i.length;let r=new Uint8Array(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return r}var bFe;function nR(t){let e;return(bFe??(e=new globalThis.TextEncoder,bFe=e.encode.bind(e)))(t)}var vFe;function Woe(t){let e;return(vFe??(e=new globalThis.TextDecoder,vFe=e.decode.bind(e)))(t)}var Zc,el,$m=class{constructor(){Zc.set(this,void 0),el.set(this,void 0),ut(this,Zc,new Uint8Array,"f"),ut(this,el,null,"f")}decode(e){if(e==null)return[];let r=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?nR(e):e;ut(this,Zc,_Fe([pe(this,Zc,"f"),r]),"f");let n=[],i;for(;(i=G9t(pe(this,Zc,"f"),pe(this,el,"f")))!=null;){if(i.carriage&&pe(this,el,"f")==null){ut(this,el,i.index,"f");continue}if(pe(this,el,"f")!=null&&(i.index!==pe(this,el,"f")+1||i.carriage)){n.push(Woe(pe(this,Zc,"f").subarray(0,pe(this,el,"f")-1))),ut(this,Zc,pe(this,Zc,"f").subarray(pe(this,el,"f")),"f"),ut(this,el,null,"f");continue}let o=pe(this,el,"f")!==null?i.preceding-1:i.preceding,s=Woe(pe(this,Zc,"f").subarray(0,o));n.push(s),ut(this,Zc,pe(this,Zc,"f").subarray(i.index),"f"),ut(this,el,null,"f")}return n}flush(){return pe(this,Zc,"f").length?this.decode(`
`):[]}};Zc=new WeakMap,el=new WeakMap;$m.NEWLINE_CHARS=new Set([`
`,"\r"]);$m.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function G9t(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function xFe(t){for(let n=0;n<t.length-1;n++){if(t[n]===10&&t[n+1]===10||t[n]===13&&t[n+1]===13)return n+2;if(t[n]===13&&t[n+1]===10&&n+3<t.length&&t[n+2]===13&&t[n+3]===10)return n+4}return-1}var pL={off:0,error:200,warn:300,info:400,debug:500},Koe=(t,e,r)=>{if(t){if(aFe(pL,t))return t;qo(r).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(pL))}`)}};function iR(){}function dL(t,e,r){return!e||pL[t]>pL[r]?iR:e[t].bind(e)}var j9t={error:iR,warn:iR,info:iR,debug:iR},SFe=new WeakMap;function qo(t){let e=t.logger,r=t.logLevel??"off";if(!e)return j9t;let n=SFe.get(e);if(n&&n[0]===r)return n[1];let i={error:dL("error",e,r),warn:dL("warn",e,r),info:dL("info",e,r),debug:dL("debug",e,r)};return SFe.set(e,[r,i]),i}var Um=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,r])=>[e,e.toLowerCase()==="x-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var oR,Yp=class t{constructor(e,r,n){this.iterator=e,oR.set(this,void 0),this.controller=r,ut(this,oR,n,"f")}static fromSSEResponse(e,r,n){let i=!1,o=n?qo(n):console;async function*s(){if(i)throw new It("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let a=!1;try{for await(let c of q9t(e,r)){if(c.event==="completion")try{yield JSON.parse(c.data)}catch(l){throw o.error("Could not parse message into JSON:",c.data),o.error("From chunk:",c.raw),l}if(c.event==="message_start"||c.event==="message_delta"||c.event==="message_stop"||c.event==="content_block_start"||c.event==="content_block_delta"||c.event==="content_block_stop")try{yield JSON.parse(c.data)}catch(l){throw o.error("Could not parse message into JSON:",c.data),o.error("From chunk:",c.raw),l}if(c.event!=="ping"&&c.event==="error")throw new jo(void 0,lL(c.data)??c.data,void 0,e.headers)}a=!0}catch(c){if(Bm(c))return;throw c}finally{a||r.abort()}}return new t(s,r,n)}static fromReadableStream(e,r,n){let i=!1;async function*o(){let a=new $m,c=rR(e);for await(let l of c)for(let u of a.decode(l))yield u;for(let l of a.flush())yield l}async function*s(){if(i)throw new It("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let a=!1;try{for await(let c of o())a||c&&(yield JSON.parse(c));a=!0}catch(c){if(Bm(c))return;throw c}finally{a||r.abort()}}return new t(s,r,n)}[(oR=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){let e=[],r=[],n=this.iterator(),i=o=>({next:()=>{if(o.length===0){let s=n.next();e.push(s),r.push(s)}return o.shift()}});return[new t(()=>i(e),this.controller,pe(this,oR,"f")),new t(()=>i(r),this.controller,pe(this,oR,"f"))]}toReadableStream(){let e=this,r;return Joe({async start(){r=e[Symbol.asyncIterator]()},async pull(n){try{let{value:i,done:o}=await r.next();if(o)return n.close();let s=nR(JSON.stringify(i)+`
`);n.enqueue(s)}catch(i){n.error(i)}},async cancel(){await r.return?.()}})}};async function*q9t(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new It("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new It("Attempted to iterate over a response with no body");let r=new Qoe,n=new $m,i=rR(t.body);for await(let o of J9t(i))for(let s of n.decode(o)){let a=r.decode(s);a&&(yield a)}for(let o of n.flush()){let s=r.decode(o);s&&(yield s)}}async function*J9t(t){let e=new Uint8Array;for await(let r of t){if(r==null)continue;let n=r instanceof ArrayBuffer?new Uint8Array(r):typeof r=="string"?nR(r):r,i=new Uint8Array(e.length+n.length);i.set(e),i.set(n,e.length),e=i;let o;for(;(o=xFe(e))!==-1;)yield e.slice(0,o),e=e.slice(o)}e.length>0&&(yield e)}var Qoe=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;let o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[r,n,i]=W9t(e,":");return i.startsWith(" ")&&(i=i.substring(1)),r==="event"?this.event=i:r==="data"&&this.data.push(i),null}};function W9t(t,e){let r=t.indexOf(e);return r!==-1?[t.substring(0,r),e,t.substring(r+e.length)]:[t,"",""]}async function fL(t,e){let{response:r,requestLogID:n,retryOfRequestLogID:i,startTime:o}=e,s=await(async()=>{if(e.options.stream)return qo(t).debug("response",r.status,r.url,r.headers,r.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(r,e.controller):Yp.fromSSEResponse(r,e.controller);if(r.status===204)return null;if(e.options.__binaryResponse)return r;let c=r.headers.get("content-type")?.split(";")[0]?.trim();if(c?.includes("application/json")||c?.endsWith("+json")){let d=await r.json();return Xoe(d,r)}return await r.text()})();return qo(t).debug(`[${n}] response parsed`,Um({retryOfRequestLogID:i,url:r.url,status:r.status,body:s,durationMs:Date.now()-o})),s}function Xoe(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("request-id"),enumerable:!1})}var sR,tv=class t extends Promise{constructor(e,r,n=fL){super(i=>{i(null)}),this.responsePromise=r,this.parseResponse=n,sR.set(this,void 0),ut(this,sR,e,"f")}_thenUnwrap(e){return new t(pe(this,sR,"f"),this.responsePromise,async(r,n)=>Xoe(e(await this.parseResponse(r,n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){let[e,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:r,request_id:r.headers.get("request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(pe(this,sR,"f"),e))),this.parsedPromise}then(e,r){return this.parse().then(e,r)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}};sR=new WeakMap;var mL,hL=class{constructor(e,r,n,i){mL.set(this,void 0),ut(this,mL,e,"f"),this.options=i,this.response=r,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){let e=this.nextPageRequestOptions();if(!e)throw new It("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await pe(this,mL,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(mL=new WeakMap,Symbol.asyncIterator)](){for await(let e of this.iterPages())for(let r of e.getPaginatedItems())yield r}},aR=class extends tv{constructor(e,r,n){super(e,r,async(i,o)=>new n(i,o.response,await fL(i,o),o.options))}async*[Symbol.asyncIterator](){let e=await this;for await(let r of e)yield r}},Iu=class extends hL{constructor(e,r,n,i){super(e,r,n,i),this.data=n.data||[],this.has_more=n.has_more||!1,this.first_id=n.first_id||null,this.last_id=n.last_id||null}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){if(this.options.query?.before_id){let r=this.first_id;return r?{...this.options,query:{...cL(this.options.query),before_id:r}}:null}let e=this.last_id;return e?{...this.options,query:{...cL(this.options.query),after_id:e}}:null}};var Ew=class extends hL{constructor(e,r,n,i){super(e,r,n,i),this.data=n.data||[],this.has_more=n.has_more||!1,this.next_page=n.next_page||null}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){let e=this.next_page;return e?{...this.options,query:{...cL(this.options.query),page:e}}:null}};var Zoe=()=>{if(typeof File>"u"){let{process:t}=globalThis,e=typeof t?.versions?.node=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(e?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function rv(t,e,r){return Zoe(),new File(t,e??"unknown_file",r)}function cR(t,e){let r=typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"";return e?r.split(/[\\/]/).pop()||void 0:r}var ese=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";var Tw=async(t,e,r=!0)=>({...t,body:await X9t(t.body,e,r)}),wFe=new WeakMap;function Q9t(t){let e=typeof t=="function"?t:t.fetch,r=wFe.get(e);if(r)return r;let n=(async()=>{try{let i="Response"in e?e.Response:(await e("data:,")).constructor,o=new FormData;return o.toString()!==await new i(o).text()}catch{return!0}})();return wFe.set(e,n),n}var X9t=async(t,e,r=!0)=>{if(!await Q9t(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");let n=new FormData;return await Promise.all(Object.entries(t||{}).map(([i,o])=>Yoe(n,i,o,r))),n},Y9t=t=>t instanceof Blob&&"name"in t;var Yoe=async(t,e,r,n)=>{if(r!==void 0){if(r==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")t.append(e,String(r));else if(r instanceof Response){let i={},o=r.headers.get("Content-Type");o&&(i={type:o}),t.append(e,rv([await r.blob()],cR(r,n),i))}else if(ese(r))t.append(e,rv([await new Response(uL(r)).blob()],cR(r,n)));else if(Y9t(r))t.append(e,rv([r],cR(r,n),{type:r.type}));else if(Array.isArray(r))await Promise.all(r.map(i=>Yoe(t,e+"[]",i,n)));else if(typeof r=="object")await Promise.all(Object.entries(r).map(([i,o])=>Yoe(t,`${e}[${i}]`,o,n)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${r} instead`)}};var AFe=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Z9t=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&AFe(t),eNt=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function gL(t,e,r){if(Zoe(),t=await t,e||(e=cR(t,!0)),Z9t(t))return t instanceof File&&e==null&&r==null?t:rv([await t.arrayBuffer()],e??t.name,{type:t.type,lastModified:t.lastModified,...r});if(eNt(t)){let i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),rv(await tse(i),e,r)}let n=await tse(t);if(!r?.type){let i=n.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(r={...r,type:i})}return rv(n,e,r)}async function tse(t){let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(AFe(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(ese(t))for await(let r of t)e.push(...await tse(r));else{let r=t?.constructor?.name;throw new Error(`Unexpected data type: ${typeof t}${r?`; constructor: ${r}`:""}${tNt(t)}`)}return e}function tNt(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(r=>`"${r}"`).join(", ")}]`}var oi=class{constructor(e){this._client=e}};var EFe=Symbol.for("brand.privateNullableHeaders");function*nNt(t){if(!t)return;if(EFe in t){let{values:n,nulls:i}=t;yield*n.entries();for(let o of i)yield[o,null];return}let e=!1,r;t instanceof Headers?r=t.entries():qoe(t)?r=t:(e=!0,r=Object.entries(t??{}));for(let n of r){let i=n[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");let o=qoe(n[1])?n[1]:[n[1]],s=!1;for(let a of o)a!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,a])}}var Yt=t=>{let e=new Headers,r=new Set;for(let n of t){let i=new Set;for(let[o,s]of nNt(n)){let a=o.toLowerCase();i.has(a)||(e.delete(o),i.add(a)),s===null?(e.delete(o),r.add(a)):(e.append(o,s),r.delete(a))}}return{[EFe]:!0,values:e,nulls:r}};var lR=Symbol("anthropic.sdk.stainlessHelper");function yL(t){return typeof t=="object"&&t!==null&&lR in t}function rse(t,e){let r=new Set;if(t)for(let n of t)yL(n)&&r.add(n[lR]);if(e){for(let n of e)if(yL(n)&&r.add(n[lR]),Array.isArray(n.content))for(let i of n.content)yL(i)&&r.add(i[lR])}return Array.from(r)}function bL(t,e){let r=rse(t,e);return r.length===0?{}:{"x-stainless-helper":r.join(", ")}}function TFe(t){return yL(t)?{"x-stainless-helper":t[lR]}:{}}function IFe(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}var RFe=Object.freeze(Object.create(null)),iNt=(t=IFe)=>function(r,...n){if(r.length===1)return r[0];let i=!1,o=[],s=r.reduce((u,d,p)=>{/[?#]/.test(d)&&(i=!0);let f=n[p],h=(i?encodeURIComponent:t)(""+f);return p!==n.length&&(f==null||typeof f=="object"&&f.toString===Object.getPrototypeOf(Object.getPrototypeOf(f.hasOwnProperty??RFe)??RFe)?.toString)&&(h=f+"",o.push({start:u.length+d.length,length:h.length,error:`Value of type ${Object.prototype.toString.call(f).slice(8,-1)} is not a valid path parameter`})),u+d+(p===n.length?"":h)},""),a=s.split(/[?#]/,1)[0],c=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi,l;for(;(l=c.exec(a))!==null;)o.push({start:l.index,length:l[0].length,error:`Value "${l[0]}" can't be safely passed as a path parameter`});if(o.sort((u,d)=>u.start-d.start),o.length>0){let u=0,d=o.reduce((p,f)=>{let h=" ".repeat(f.start-u),m="^".repeat(f.length);return u=f.start+f.length,p+h+m},"");throw new It(`Path parameters result in path with invalid segments:
${o.map(p=>p.error).join(`
`)}
${s}
${d}`)}return s},si=iNt(IFe);var Rw=class extends oi{list(e={},r){let{betas:n,...i}=e??{};return this._client.getAPIList("/v1/files",Iu,{query:i,...r,headers:Yt([{"anthropic-beta":[...n??[],"files-api-2025-04-14"].toString()},r?.headers])})}delete(e,r={},n){let{betas:i}=r??{};return this._client.delete(si`/v1/files/${e}`,{...n,headers:Yt([{"anthropic-beta":[...i??[],"files-api-2025-04-14"].toString()},n?.headers])})}download(e,r={},n){let{betas:i}=r??{};return this._client.get(si`/v1/files/${e}/content`,{...n,headers:Yt([{"anthropic-beta":[...i??[],"files-api-2025-04-14"].toString(),Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}retrieveMetadata(e,r={},n){let{betas:i}=r??{};return this._client.get(si`/v1/files/${e}`,{...n,headers:Yt([{"anthropic-beta":[...i??[],"files-api-2025-04-14"].toString()},n?.headers])})}upload(e,r){let{betas:n,...i}=e;return this._client.post("/v1/files",Tw({body:i,...r,headers:Yt([{"anthropic-beta":[...n??[],"files-api-2025-04-14"].toString()},TFe(i.file),r?.headers])},this._client))}};var Iw=class extends oi{retrieve(e,r={},n){let{betas:i}=r??{};return this._client.get(si`/v1/models/${e}?beta=true`,{...n,headers:Yt([{...i?.toString()!=null?{"anthropic-beta":i?.toString()}:void 0},n?.headers])})}list(e={},r){let{betas:n,...i}=e??{};return this._client.getAPIList("/v1/models?beta=true",Iu,{query:i,...r,headers:Yt([{...n?.toString()!=null?{"anthropic-beta":n?.toString()}:void 0},r?.headers])})}};var vL={"claude-opus-4-20250514":8192,"claude-opus-4-0":8192,"claude-4-opus-20250514":8192,"anthropic.claude-opus-4-20250514-v1:0":8192,"claude-opus-4@20250514":8192,"claude-opus-4-1-20250805":8192,"anthropic.claude-opus-4-1-20250805-v1:0":8192,"claude-opus-4-1@20250805":8192};function CFe(t){return t?.output_format??t?.output_config?.format}function nse(t,e,r){let n=CFe(e);return!e||!("parse"in(n??{}))?{...t,content:t.content.map(i=>{if(i.type==="text"){let o=Object.defineProperty({...i},"parsed_output",{value:null,enumerable:!1});return Object.defineProperty(o,"parsed",{get(){return r.logger.warn("The `parsed` property on `text` blocks is deprecated, please use `parsed_output` instead."),null},enumerable:!1})}return i}),parsed_output:null}:ise(t,e,r)}function ise(t,e,r){let n=null,i=t.content.map(o=>{if(o.type==="text"){let s=aNt(e,o.text);n===null&&(n=s);let a=Object.defineProperty({...o},"parsed_output",{value:s,enumerable:!1});return Object.defineProperty(a,"parsed",{get(){return r.logger.warn("The `parsed` property on `text` blocks is deprecated, please use `parsed_output` instead."),s},enumerable:!1})}return o});return{...t,content:i,parsed_output:n}}function aNt(t,e){let r=CFe(t);if(r?.type!=="json_schema")return null;try{return"parse"in r?r.parse(e):JSON.parse(e)}catch(n){throw new It(`Failed to parse structured output: ${n}`)}}var cNt=t=>{let e=0,r=[];for(;e<t.length;){let n=t[e];if(n==="\\"){e++;continue}if(n==="{"){r.push({type:"brace",value:"{"}),e++;continue}if(n==="}"){r.push({type:"brace",value:"}"}),e++;continue}if(n==="["){r.push({type:"paren",value:"["}),e++;continue}if(n==="]"){r.push({type:"paren",value:"]"}),e++;continue}if(n===":"){r.push({type:"separator",value:":"}),e++;continue}if(n===","){r.push({type:"delimiter",value:","}),e++;continue}if(n==='"'){let a="",c=!1;for(n=t[++e];n!=='"';){if(e===t.length){c=!0;break}if(n==="\\"){if(e++,e===t.length){c=!0;break}a+=n+t[e],n=t[++e]}else a+=n,n=t[++e]}n=t[++e],c||r.push({type:"string",value:a});continue}if(n&&/\s/.test(n)){e++;continue}let o=/[0-9]/;if(n&&o.test(n)||n==="-"||n==="."){let a="";for(n==="-"&&(a+=n,n=t[++e]);n&&o.test(n)||n===".";)a+=n,n=t[++e];r.push({type:"number",value:a});continue}let s=/[a-z]/i;if(n&&s.test(n)){let a="";for(;n&&s.test(n)&&e!==t.length;)a+=n,n=t[++e];if(a=="true"||a=="false"||a==="null")r.push({type:"name",value:a});else{e++;continue}continue}e++}return r},Cw=t=>{if(t.length===0)return t;let e=t[t.length-1];switch(e.type){case"separator":return t=t.slice(0,t.length-1),Cw(t);break;case"number":let r=e.value[e.value.length-1];if(r==="."||r==="-")return t=t.slice(0,t.length-1),Cw(t);case"string":let n=t[t.length-2];if(n?.type==="delimiter")return t=t.slice(0,t.length-1),Cw(t);if(n?.type==="brace"&&n.value==="{")return t=t.slice(0,t.length-1),Cw(t);break;case"delimiter":return t=t.slice(0,t.length-1),Cw(t);break}return t},lNt=t=>{let e=[];return t.map(r=>{r.type==="brace"&&(r.value==="{"?e.push("}"):e.splice(e.lastIndexOf("}"),1)),r.type==="paren"&&(r.value==="["?e.push("]"):e.splice(e.lastIndexOf("]"),1))}),e.length>0&&e.reverse().map(r=>{r==="}"?t.push({type:"brace",value:"}"}):r==="]"&&t.push({type:"paren",value:"]"})}),t},uNt=t=>{let e="";return t.map(r=>{switch(r.type){case"string":e+='"'+r.value+'"';break;default:e+=r.value;break}}),e},_L=t=>JSON.parse(uNt(lNt(Cw(cNt(t)))));var Cu,L0,Nw,uR,xL,dR,pR,SL,fR,Fm,mR,wL,AL,nv,EL,TL,hR,ose,NFe,RL,sse,ase,cse,OFe,PFe="__json_buf";function kFe(t){return t.type==="tool_use"||t.type==="server_tool_use"||t.type==="mcp_tool_use"}var IL=class t{constructor(e,r){Cu.add(this),this.messages=[],this.receivedMessages=[],L0.set(this,void 0),Nw.set(this,null),this.controller=new AbortController,uR.set(this,void 0),xL.set(this,()=>{}),dR.set(this,()=>{}),pR.set(this,void 0),SL.set(this,()=>{}),fR.set(this,()=>{}),Fm.set(this,{}),mR.set(this,!1),wL.set(this,!1),AL.set(this,!1),nv.set(this,!1),EL.set(this,void 0),TL.set(this,void 0),hR.set(this,void 0),RL.set(this,n=>{if(ut(this,wL,!0,"f"),Bm(n)&&(n=new us),n instanceof us)return ut(this,AL,!0,"f"),this._emit("abort",n);if(n instanceof It)return this._emit("error",n);if(n instanceof Error){let i=new It(n.message);return i.cause=n,this._emit("error",i)}return this._emit("error",new It(String(n)))}),ut(this,uR,new Promise((n,i)=>{ut(this,xL,n,"f"),ut(this,dR,i,"f")}),"f"),ut(this,pR,new Promise((n,i)=>{ut(this,SL,n,"f"),ut(this,fR,i,"f")}),"f"),pe(this,uR,"f").catch(()=>{}),pe(this,pR,"f").catch(()=>{}),ut(this,Nw,e,"f"),ut(this,hR,r?.logger??console,"f")}get response(){return pe(this,EL,"f")}get request_id(){return pe(this,TL,"f")}async withResponse(){ut(this,nv,!0,"f");let e=await pe(this,uR,"f");if(!e)throw new Error("Could not resolve a `Response` object");return{data:this,response:e,request_id:e.headers.get("request-id")}}static fromReadableStream(e){let r=new t(null);return r._run(()=>r._fromReadableStream(e)),r}static createMessage(e,r,n,{logger:i}={}){let o=new t(r,{logger:i});for(let s of r.messages)o._addMessageParam(s);return ut(o,Nw,{...r,stream:!0},"f"),o._run(()=>o._createMessage(e,{...r,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),o}_run(e){e().then(()=>{this._emitFinal(),this._emit("end")},pe(this,RL,"f"))}_addMessageParam(e){this.messages.push(e)}_addMessage(e,r=!0){this.receivedMessages.push(e),r&&this._emit("message",e)}async _createMessage(e,r,n){let i=n?.signal,o;i&&(i.aborted&&this.controller.abort(),o=this.controller.abort.bind(this.controller),i.addEventListener("abort",o));try{pe(this,Cu,"m",sse).call(this);let{response:s,data:a}=await e.create({...r,stream:!0},{...n,signal:this.controller.signal}).withResponse();this._connected(s);for await(let c of a)pe(this,Cu,"m",ase).call(this,c);if(a.controller.signal?.aborted)throw new us;pe(this,Cu,"m",cse).call(this)}finally{i&&o&&i.removeEventListener("abort",o)}}_connected(e){this.ended||(ut(this,EL,e,"f"),ut(this,TL,e?.headers.get("request-id"),"f"),pe(this,xL,"f").call(this,e),this._emit("connect"))}get ended(){return pe(this,mR,"f")}get errored(){return pe(this,wL,"f")}get aborted(){return pe(this,AL,"f")}abort(){this.controller.abort()}on(e,r){return(pe(this,Fm,"f")[e]||(pe(this,Fm,"f")[e]=[])).push({listener:r}),this}off(e,r){let n=pe(this,Fm,"f")[e];if(!n)return this;let i=n.findIndex(o=>o.listener===r);return i>=0&&n.splice(i,1),this}once(e,r){return(pe(this,Fm,"f")[e]||(pe(this,Fm,"f")[e]=[])).push({listener:r,once:!0}),this}emitted(e){return new Promise((r,n)=>{ut(this,nv,!0,"f"),e!=="error"&&this.once("error",n),this.once(e,r)})}async done(){ut(this,nv,!0,"f"),await pe(this,pR,"f")}get currentMessage(){return pe(this,L0,"f")}async finalMessage(){return await this.done(),pe(this,Cu,"m",ose).call(this)}async finalText(){return await this.done(),pe(this,Cu,"m",NFe).call(this)}_emit(e,...r){if(pe(this,mR,"f"))return;e==="end"&&(ut(this,mR,!0,"f"),pe(this,SL,"f").call(this));let n=pe(this,Fm,"f")[e];if(n&&(pe(this,Fm,"f")[e]=n.filter(i=>!i.once),n.forEach(({listener:i})=>i(...r))),e==="abort"){let i=r[0];!pe(this,nv,"f")&&!n?.length&&Promise.reject(i),pe(this,dR,"f").call(this,i),pe(this,fR,"f").call(this,i),this._emit("end");return}if(e==="error"){let i=r[0];!pe(this,nv,"f")&&!n?.length&&Promise.reject(i),pe(this,dR,"f").call(this,i),pe(this,fR,"f").call(this,i),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",pe(this,Cu,"m",ose).call(this))}async _fromReadableStream(e,r){let n=r?.signal,i;n&&(n.aborted&&this.controller.abort(),i=this.controller.abort.bind(this.controller),n.addEventListener("abort",i));try{pe(this,Cu,"m",sse).call(this),this._connected(null);let o=Yp.fromReadableStream(e,this.controller);for await(let s of o)pe(this,Cu,"m",ase).call(this,s);if(o.controller.signal?.aborted)throw new us;pe(this,Cu,"m",cse).call(this)}finally{n&&i&&n.removeEventListener("abort",i)}}[(L0=new WeakMap,Nw=new WeakMap,uR=new WeakMap,xL=new WeakMap,dR=new WeakMap,pR=new WeakMap,SL=new WeakMap,fR=new WeakMap,Fm=new WeakMap,mR=new WeakMap,wL=new WeakMap,AL=new WeakMap,nv=new WeakMap,EL=new WeakMap,TL=new WeakMap,hR=new WeakMap,RL=new WeakMap,Cu=new WeakSet,ose=function(){if(this.receivedMessages.length===0)throw new It("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},NFe=function(){if(this.receivedMessages.length===0)throw new It("stream ended without producing a Message with role=assistant");let r=this.receivedMessages.at(-1).content.filter(n=>n.type==="text").map(n=>n.text);if(r.length===0)throw new It("stream ended without producing a content block with type=text");return r.join(" ")},sse=function(){this.ended||ut(this,L0,void 0,"f")},ase=function(r){if(this.ended)return;let n=pe(this,Cu,"m",OFe).call(this,r);switch(this._emit("streamEvent",r,n),r.type){case"content_block_delta":{let i=n.content.at(-1);switch(r.delta.type){case"text_delta":{i.type==="text"&&this._emit("text",r.delta.text,i.text||"");break}case"citations_delta":{i.type==="text"&&this._emit("citation",r.delta.citation,i.citations??[]);break}case"input_json_delta":{kFe(i)&&i.input&&this._emit("inputJson",r.delta.partial_json,i.input);break}case"thinking_delta":{i.type==="thinking"&&this._emit("thinking",r.delta.thinking,i.thinking);break}case"signature_delta":{i.type==="thinking"&&this._emit("signature",i.signature);break}default:r.delta}break}case"message_stop":{this._addMessageParam(n),this._addMessage(nse(n,pe(this,Nw,"f"),{logger:pe(this,hR,"f")}),!0);break}case"content_block_stop":{this._emit("contentBlock",n.content.at(-1));break}case"message_start":{ut(this,L0,n,"f");break}case"content_block_start":case"message_delta":break}},cse=function(){if(this.ended)throw new It("stream has ended, this shouldn't happen");let r=pe(this,L0,"f");if(!r)throw new It("request ended without sending any chunks");return ut(this,L0,void 0,"f"),nse(r,pe(this,Nw,"f"),{logger:pe(this,hR,"f")})},OFe=function(r){let n=pe(this,L0,"f");if(r.type==="message_start"){if(n)throw new It(`Unexpected event order, got ${r.type} before receiving "message_stop"`);return r.message}if(!n)throw new It(`Unexpected event order, got ${r.type} before "message_start"`);switch(r.type){case"message_stop":return n;case"message_delta":return n.container=r.delta.container,n.stop_reason=r.delta.stop_reason,n.stop_sequence=r.delta.stop_sequence,n.usage.output_tokens=r.usage.output_tokens,n.context_management=r.context_management,r.usage.input_tokens!=null&&(n.usage.input_tokens=r.usage.input_tokens),r.usage.cache_creation_input_tokens!=null&&(n.usage.cache_creation_input_tokens=r.usage.cache_creation_input_tokens),r.usage.cache_read_input_tokens!=null&&(n.usage.cache_read_input_tokens=r.usage.cache_read_input_tokens),r.usage.server_tool_use!=null&&(n.usage.server_tool_use=r.usage.server_tool_use),n;case"content_block_start":return n.content.push(r.content_block),n;case"content_block_delta":{let i=n.content.at(r.index);switch(r.delta.type){case"text_delta":{i?.type==="text"&&(n.content[r.index]={...i,text:(i.text||"")+r.delta.text});break}case"citations_delta":{i?.type==="text"&&(n.content[r.index]={...i,citations:[...i.citations??[],r.delta.citation]});break}case"input_json_delta":{if(i&&kFe(i)){let o=i[PFe]||"";o+=r.delta.partial_json;let s={...i};if(Object.defineProperty(s,PFe,{value:o,enumerable:!1,writable:!0}),o)try{s.input=_L(o)}catch(a){let c=new It(`Unable to parse tool parameter JSON from model. Please retry your request or adjust your prompt. Error: ${a}. JSON: ${o}`);pe(this,RL,"f").call(this,c)}n.content[r.index]=s}break}case"thinking_delta":{i?.type==="thinking"&&(n.content[r.index]={...i,thinking:i.thinking+r.delta.thinking});break}case"signature_delta":{i?.type==="thinking"&&(n.content[r.index]={...i,signature:r.delta.signature});break}default:r.delta}return n}case"content_block_stop":return n}},Symbol.asyncIterator)](){let e=[],r=[],n=!1;return this.on("streamEvent",i=>{let o=r.shift();o?o.resolve(i):e.push(i)}),this.on("end",()=>{n=!0;for(let i of r)i.resolve(void 0);r.length=0}),this.on("abort",i=>{n=!0;for(let o of r)o.reject(i);r.length=0}),this.on("error",i=>{n=!0;for(let o of r)o.reject(i);r.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((o,s)=>r.push({resolve:o,reject:s})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Yp(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}};var iv=class extends Error{constructor(e){let r=typeof e=="string"?e:e.map(n=>n.type==="text"?n.text:`[${n.type}]`).join(" ");super(r),this.name="ToolError",this.content=e}};var DFe=`You have been working on the task described above but have not yet completed it. Write a continuation summary that will allow you (or another instance of yourself) to resume work efficiently in a future context window where the conversation history will be replaced with this summary. Your summary should be structured, concise, and actionable. Include:
1. Task Overview
The user's core request and success criteria
Any clarifications or constraints they specified
2. Current State
What has been completed so far
Files created, modified, or analyzed (with paths if relevant)
Key outputs or artifacts produced
3. Important Discoveries
Technical constraints or requirements uncovered
Decisions made and their rationale
Errors encountered and how they were resolved
What approaches were tried that didn't work (and why)
4. Next Steps
Specific actions needed to complete the task
Any blockers or open questions to resolve
Priority order if multiple steps remain
5. Context to Preserve
User preferences or style requirements
Domain-specific details that aren't obvious
Any promises made to the user
Be concise but complete\u2014err on the side of including information that would prevent duplicate work or repeated mistakes. Write in a way that enables immediate resumption of the task.
Wrap your summary in <summary></summary> tags.`;var gR,Ow,ov,Io,yR,tl,zm,B0,bR,MFe,lse;function LFe(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}}var Pw=class{constructor(e,r,n){gR.add(this),this.client=e,Ow.set(this,!1),ov.set(this,!1),Io.set(this,void 0),yR.set(this,void 0),tl.set(this,void 0),zm.set(this,void 0),B0.set(this,void 0),bR.set(this,0),ut(this,Io,{params:{...r,messages:structuredClone(r.messages)}},"f");let o=["BetaToolRunner",...rse(r.tools,r.messages)].join(", ");ut(this,yR,{...n,headers:Yt([{"x-stainless-helper":o},n?.headers])},"f"),ut(this,B0,LFe(),"f")}async*[(Ow=new WeakMap,ov=new WeakMap,Io=new WeakMap,yR=new WeakMap,tl=new WeakMap,zm=new WeakMap,B0=new WeakMap,bR=new WeakMap,gR=new WeakSet,MFe=async function(){let r=pe(this,Io,"f").params.compactionControl;if(!r||!r.enabled)return!1;let n=0;if(pe(this,tl,"f")!==void 0)try{let l=await pe(this,tl,"f");n=l.usage.input_tokens+(l.usage.cache_creation_input_tokens??0)+(l.usage.cache_read_input_tokens??0)+l.usage.output_tokens}catch{return!1}let i=r.contextTokenThreshold??1e5;if(n<i)return!1;let o=r.model??pe(this,Io,"f").params.model,s=r.summaryPrompt??DFe,a=pe(this,Io,"f").params.messages;if(a[a.length-1].role==="assistant"){let l=a[a.length-1];if(Array.isArray(l.content)){let u=l.content.filter(d=>d.type!=="tool_use");u.length===0?a.pop():l.content=u}}let c=await this.client.beta.messages.create({model:o,messages:[...a,{role:"user",content:[{type:"text",text:s}]}],max_tokens:pe(this,Io,"f").params.max_tokens},{headers:{"x-stainless-helper":"compaction"}});if(c.content[0]?.type!=="text")throw new It("Expected text response for compaction");return pe(this,Io,"f").params.messages=[{role:"user",content:c.content}],!0},Symbol.asyncIterator)](){var e;if(pe(this,Ow,"f"))throw new It("Cannot iterate over a consumed stream");ut(this,Ow,!0,"f"),ut(this,ov,!0,"f"),ut(this,zm,void 0,"f");try{for(;;){let r;try{if(pe(this,Io,"f").params.max_iterations&&pe(this,bR,"f")>=pe(this,Io,"f").params.max_iterations)break;ut(this,ov,!1,"f"),ut(this,zm,void 0,"f"),ut(this,bR,(e=pe(this,bR,"f"),e++,e),"f"),ut(this,tl,void 0,"f");let{max_iterations:n,compactionControl:i,...o}=pe(this,Io,"f").params;if(o.stream?(r=this.client.beta.messages.stream({...o},pe(this,yR,"f")),ut(this,tl,r.finalMessage(),"f"),pe(this,tl,"f").catch(()=>{}),yield r):(ut(this,tl,this.client.beta.messages.create({...o,stream:!1},pe(this,yR,"f")),"f"),yield pe(this,tl,"f")),!await pe(this,gR,"m",MFe).call(this)){if(!pe(this,ov,"f")){let{role:c,content:l}=await pe(this,tl,"f");pe(this,Io,"f").params.messages.push({role:c,content:l})}let a=await pe(this,gR,"m",lse).call(this,pe(this,Io,"f").params.messages.at(-1));if(a)pe(this,Io,"f").params.messages.push(a);else if(!pe(this,ov,"f"))break}}finally{r&&r.abort()}}if(!pe(this,tl,"f"))throw new It("ToolRunner concluded without a message from the server");pe(this,B0,"f").resolve(await pe(this,tl,"f"))}catch(r){throw ut(this,Ow,!1,"f"),pe(this,B0,"f").promise.catch(()=>{}),pe(this,B0,"f").reject(r),ut(this,B0,LFe(),"f"),r}}setMessagesParams(e){typeof e=="function"?pe(this,Io,"f").params=e(pe(this,Io,"f").params):pe(this,Io,"f").params=e,ut(this,ov,!0,"f"),ut(this,zm,void 0,"f")}async generateToolResponse(){let e=await pe(this,tl,"f")??this.params.messages.at(-1);return e?pe(this,gR,"m",lse).call(this,e):null}done(){return pe(this,B0,"f").promise}async runUntilDone(){if(!pe(this,Ow,"f"))for await(let e of this);return this.done()}get params(){return pe(this,Io,"f").params}pushMessages(...e){this.setMessagesParams(r=>({...r,messages:[...r.messages,...e]}))}then(e,r){return this.runUntilDone().then(e,r)}};lse=async function(e){return pe(this,zm,"f")!==void 0?pe(this,zm,"f"):(ut(this,zm,pNt(pe(this,Io,"f").params,e),"f"),pe(this,zm,"f"))};async function pNt(t,e=t.messages.at(-1)){if(!e||e.role!=="assistant"||!e.content||typeof e.content=="string")return null;let r=e.content.filter(i=>i.type==="tool_use");return r.length===0?null:{role:"user",content:await Promise.all(r.map(async i=>{let o=t.tools.find(s=>("name"in s?s.name:s.mcp_server_name)===i.name);if(!o||!("run"in o))return{type:"tool_result",tool_use_id:i.id,content:`Error: Tool '${i.name}' not found`,is_error:!0};try{let s=i.input;"parse"in o&&o.parse&&(s=o.parse(s));let a=await o.run(s);return{type:"tool_result",tool_use_id:i.id,content:a}}catch(s){return{type:"tool_result",tool_use_id:i.id,content:s instanceof iv?s.content:`Error: ${s instanceof Error?s.message:String(s)}`,is_error:!0}}}))}}var kw=class t{constructor(e,r){this.iterator=e,this.controller=r}async*decoder(){let e=new $m;for await(let r of this.iterator)for(let n of e.decode(r))yield JSON.parse(n);for(let r of e.flush())yield JSON.parse(r)}[Symbol.asyncIterator](){return this.decoder()}static fromResponse(e,r){if(!e.body)throw r.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new It("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new It("Attempted to iterate over a response with no body");return new t(rR(e.body),r)}};var Dw=class extends oi{create(e,r){let{betas:n,...i}=e;return this._client.post("/v1/messages/batches?beta=true",{body:i,...r,headers:Yt([{"anthropic-beta":[...n??[],"message-batches-2024-09-24"].toString()},r?.headers])})}retrieve(e,r={},n){let{betas:i}=r??{};return this._client.get(si`/v1/messages/batches/${e}?beta=true`,{...n,headers:Yt([{"anthropic-beta":[...i??[],"message-batches-2024-09-24"].toString()},n?.headers])})}list(e={},r){let{betas:n,...i}=e??{};return this._client.getAPIList("/v1/messages/batches?beta=true",Iu,{query:i,...r,headers:Yt([{"anthropic-beta":[...n??[],"message-batches-2024-09-24"].toString()},r?.headers])})}delete(e,r={},n){let{betas:i}=r??{};return this._client.delete(si`/v1/messages/batches/${e}?beta=true`,{...n,headers:Yt([{"anthropic-beta":[...i??[],"message-batches-2024-09-24"].toString()},n?.headers])})}cancel(e,r={},n){let{betas:i}=r??{};return this._client.post(si`/v1/messages/batches/${e}/cancel?beta=true`,{...n,headers:Yt([{"anthropic-beta":[...i??[],"message-batches-2024-09-24"].toString()},n?.headers])})}async results(e,r={},n){let i=await this.retrieve(e);if(!i.results_url)throw new It(`No batch \`results_url\`; Has it finished processing? ${i.processing_status} - ${i.id}`);let{betas:o}=r??{};return this._client.get(i.results_url,{...n,headers:Yt([{"anthropic-beta":[...o??[],"message-batches-2024-09-24"].toString(),Accept:"application/binary"},n?.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap((s,a)=>kw.fromResponse(a.response,a.controller))}};var BFe={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025","claude-3-7-sonnet-latest":"February 19th, 2026","claude-3-7-sonnet-20250219":"February 19th, 2026"},Vm=class extends oi{constructor(){super(...arguments),this.batches=new Dw(this._client)}create(e,r){let n=$Fe(e),{betas:i,...o}=n;o.model in BFe&&console.warn(`The model '${o.model}' is deprecated and will reach end-of-life on ${BFe[o.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let s=this._client._options.timeout;if(!o.stream&&s==null){let c=vL[o.model]??void 0;s=this._client.calculateNonstreamingTimeout(o.max_tokens,c)}let a=bL(o.tools,o.messages);return this._client.post("/v1/messages?beta=true",{body:o,timeout:s??6e5,...r,headers:Yt([{...i?.toString()!=null?{"anthropic-beta":i?.toString()}:void 0},a,r?.headers]),stream:n.stream??!1})}parse(e,r){return r={...r,headers:Yt([{"anthropic-beta":[...e.betas??[],"structured-outputs-2025-12-15"].toString()},r?.headers])},this.create(e,r).then(n=>ise(n,e,{logger:this._client.logger??console}))}stream(e,r){return IL.createMessage(this,e,r)}countTokens(e,r){let n=$Fe(e),{betas:i,...o}=n;return this._client.post("/v1/messages/count_tokens?beta=true",{body:o,...r,headers:Yt([{"anthropic-beta":[...i??[],"token-counting-2024-11-01"].toString()},r?.headers])})}toolRunner(e,r){return new Pw(this._client,e,r)}};function $Fe(t){if(!t.output_format)return t;if(t.output_config?.format)throw new It("Both output_format and output_config.format were provided. Please use only output_config.format (output_format is deprecated).");let{output_format:e,...r}=t;return{...r,output_config:{...t.output_config,format:e}}}Vm.Batches=Dw;Vm.BetaToolRunner=Pw;Vm.ToolError=iv;var Mw=class extends oi{create(e,r={},n){let{betas:i,...o}=r??{};return this._client.post(si`/v1/skills/${e}/versions?beta=true`,Tw({body:o,...n,headers:Yt([{"anthropic-beta":[...i??[],"skills-2025-10-02"].toString()},n?.headers])},this._client))}retrieve(e,r,n){let{skill_id:i,betas:o}=r;return this._client.get(si`/v1/skills/${i}/versions/${e}?beta=true`,{...n,headers:Yt([{"anthropic-beta":[...o??[],"skills-2025-10-02"].toString()},n?.headers])})}list(e,r={},n){let{betas:i,...o}=r??{};return this._client.getAPIList(si`/v1/skills/${e}/versions?beta=true`,Ew,{query:o,...n,headers:Yt([{"anthropic-beta":[...i??[],"skills-2025-10-02"].toString()},n?.headers])})}delete(e,r,n){let{skill_id:i,betas:o}=r;return this._client.delete(si`/v1/skills/${i}/versions/${e}?beta=true`,{...n,headers:Yt([{"anthropic-beta":[...o??[],"skills-2025-10-02"].toString()},n?.headers])})}};var sv=class extends oi{constructor(){super(...arguments),this.versions=new Mw(this._client)}create(e={},r){let{betas:n,...i}=e??{};return this._client.post("/v1/skills?beta=true",Tw({body:i,...r,headers:Yt([{"anthropic-beta":[...n??[],"skills-2025-10-02"].toString()},r?.headers])},this._client,!1))}retrieve(e,r={},n){let{betas:i}=r??{};return this._client.get(si`/v1/skills/${e}?beta=true`,{...n,headers:Yt([{"anthropic-beta":[...i??[],"skills-2025-10-02"].toString()},n?.headers])})}list(e={},r){let{betas:n,...i}=e??{};return this._client.getAPIList("/v1/skills?beta=true",Ew,{query:i,...r,headers:Yt([{"anthropic-beta":[...n??[],"skills-2025-10-02"].toString()},r?.headers])})}delete(e,r={},n){let{betas:i}=r??{};return this._client.delete(si`/v1/skills/${e}?beta=true`,{...n,headers:Yt([{"anthropic-beta":[...i??[],"skills-2025-10-02"].toString()},n?.headers])})}};sv.Versions=Mw;var Dd=class extends oi{constructor(){super(...arguments),this.models=new Iw(this._client),this.messages=new Vm(this._client),this.files=new Rw(this._client),this.skills=new sv(this._client)}};Dd.Models=Iw;Dd.Messages=Vm;Dd.Files=Rw;Dd.Skills=sv;var av=class extends oi{create(e,r){let{betas:n,...i}=e;return this._client.post("/v1/complete",{body:i,timeout:this._client._options.timeout??6e5,...r,headers:Yt([{...n?.toString()!=null?{"anthropic-beta":n?.toString()}:void 0},r?.headers]),stream:e.stream??!1})}};function UFe(t){return t?.output_config?.format}function use(t,e,r){let n=UFe(e);return!e||!("parse"in(n??{}))?{...t,content:t.content.map(i=>i.type==="text"?Object.defineProperty({...i},"parsed_output",{value:null,enumerable:!1}):i),parsed_output:null}:dse(t,e,r)}function dse(t,e,r){let n=null,i=t.content.map(o=>{if(o.type==="text"){let s=yNt(e,o.text);return n===null&&(n=s),Object.defineProperty({...o},"parsed_output",{value:s,enumerable:!1})}return o});return{...t,content:i,parsed_output:n}}function yNt(t,e){let r=UFe(t);if(r?.type!=="json_schema")return null;try{return"parse"in r?r.parse(e):JSON.parse(e)}catch(n){throw new It(`Failed to parse structured output: ${n}`)}}var Nu,$0,Lw,vR,CL,_R,xR,NL,SR,Hm,wR,OL,PL,cv,kL,DL,AR,pse,FFe,fse,mse,hse,gse,zFe,VFe="__json_buf";function HFe(t){return t.type==="tool_use"||t.type==="server_tool_use"}var ML=class t{constructor(e,r){Nu.add(this),this.messages=[],this.receivedMessages=[],$0.set(this,void 0),Lw.set(this,null),this.controller=new AbortController,vR.set(this,void 0),CL.set(this,()=>{}),_R.set(this,()=>{}),xR.set(this,void 0),NL.set(this,()=>{}),SR.set(this,()=>{}),Hm.set(this,{}),wR.set(this,!1),OL.set(this,!1),PL.set(this,!1),cv.set(this,!1),kL.set(this,void 0),DL.set(this,void 0),AR.set(this,void 0),fse.set(this,n=>{if(ut(this,OL,!0,"f"),Bm(n)&&(n=new us),n instanceof us)return ut(this,PL,!0,"f"),this._emit("abort",n);if(n instanceof It)return this._emit("error",n);if(n instanceof Error){let i=new It(n.message);return i.cause=n,this._emit("error",i)}return this._emit("error",new It(String(n)))}),ut(this,vR,new Promise((n,i)=>{ut(this,CL,n,"f"),ut(this,_R,i,"f")}),"f"),ut(this,xR,new Promise((n,i)=>{ut(this,NL,n,"f"),ut(this,SR,i,"f")}),"f"),pe(this,vR,"f").catch(()=>{}),pe(this,xR,"f").catch(()=>{}),ut(this,Lw,e,"f"),ut(this,AR,r?.logger??console,"f")}get response(){return pe(this,kL,"f")}get request_id(){return pe(this,DL,"f")}async withResponse(){ut(this,cv,!0,"f");let e=await pe(this,vR,"f");if(!e)throw new Error("Could not resolve a `Response` object");return{data:this,response:e,request_id:e.headers.get("request-id")}}static fromReadableStream(e){let r=new t(null);return r._run(()=>r._fromReadableStream(e)),r}static createMessage(e,r,n,{logger:i}={}){let o=new t(r,{logger:i});for(let s of r.messages)o._addMessageParam(s);return ut(o,Lw,{...r,stream:!0},"f"),o._run(()=>o._createMessage(e,{...r,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),o}_run(e){e().then(()=>{this._emitFinal(),this._emit("end")},pe(this,fse,"f"))}_addMessageParam(e){this.messages.push(e)}_addMessage(e,r=!0){this.receivedMessages.push(e),r&&this._emit("message",e)}async _createMessage(e,r,n){let i=n?.signal,o;i&&(i.aborted&&this.controller.abort(),o=this.controller.abort.bind(this.controller),i.addEventListener("abort",o));try{pe(this,Nu,"m",mse).call(this);let{response:s,data:a}=await e.create({...r,stream:!0},{...n,signal:this.controller.signal}).withResponse();this._connected(s);for await(let c of a)pe(this,Nu,"m",hse).call(this,c);if(a.controller.signal?.aborted)throw new us;pe(this,Nu,"m",gse).call(this)}finally{i&&o&&i.removeEventListener("abort",o)}}_connected(e){this.ended||(ut(this,kL,e,"f"),ut(this,DL,e?.headers.get("request-id"),"f"),pe(this,CL,"f").call(this,e),this._emit("connect"))}get ended(){return pe(this,wR,"f")}get errored(){return pe(this,OL,"f")}get aborted(){return pe(this,PL,"f")}abort(){this.controller.abort()}on(e,r){return(pe(this,Hm,"f")[e]||(pe(this,Hm,"f")[e]=[])).push({listener:r}),this}off(e,r){let n=pe(this,Hm,"f")[e];if(!n)return this;let i=n.findIndex(o=>o.listener===r);return i>=0&&n.splice(i,1),this}once(e,r){return(pe(this,Hm,"f")[e]||(pe(this,Hm,"f")[e]=[])).push({listener:r,once:!0}),this}emitted(e){return new Promise((r,n)=>{ut(this,cv,!0,"f"),e!=="error"&&this.once("error",n),this.once(e,r)})}async done(){ut(this,cv,!0,"f"),await pe(this,xR,"f")}get currentMessage(){return pe(this,$0,"f")}async finalMessage(){return await this.done(),pe(this,Nu,"m",pse).call(this)}async finalText(){return await this.done(),pe(this,Nu,"m",FFe).call(this)}_emit(e,...r){if(pe(this,wR,"f"))return;e==="end"&&(ut(this,wR,!0,"f"),pe(this,NL,"f").call(this));let n=pe(this,Hm,"f")[e];if(n&&(pe(this,Hm,"f")[e]=n.filter(i=>!i.once),n.forEach(({listener:i})=>i(...r))),e==="abort"){let i=r[0];!pe(this,cv,"f")&&!n?.length&&Promise.reject(i),pe(this,_R,"f").call(this,i),pe(this,SR,"f").call(this,i),this._emit("end");return}if(e==="error"){let i=r[0];!pe(this,cv,"f")&&!n?.length&&Promise.reject(i),pe(this,_R,"f").call(this,i),pe(this,SR,"f").call(this,i),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",pe(this,Nu,"m",pse).call(this))}async _fromReadableStream(e,r){let n=r?.signal,i;n&&(n.aborted&&this.controller.abort(),i=this.controller.abort.bind(this.controller),n.addEventListener("abort",i));try{pe(this,Nu,"m",mse).call(this),this._connected(null);let o=Yp.fromReadableStream(e,this.controller);for await(let s of o)pe(this,Nu,"m",hse).call(this,s);if(o.controller.signal?.aborted)throw new us;pe(this,Nu,"m",gse).call(this)}finally{n&&i&&n.removeEventListener("abort",i)}}[($0=new WeakMap,Lw=new WeakMap,vR=new WeakMap,CL=new WeakMap,_R=new WeakMap,xR=new WeakMap,NL=new WeakMap,SR=new WeakMap,Hm=new WeakMap,wR=new WeakMap,OL=new WeakMap,PL=new WeakMap,cv=new WeakMap,kL=new WeakMap,DL=new WeakMap,AR=new WeakMap,fse=new WeakMap,Nu=new WeakSet,pse=function(){if(this.receivedMessages.length===0)throw new It("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},FFe=function(){if(this.receivedMessages.length===0)throw new It("stream ended without producing a Message with role=assistant");let r=this.receivedMessages.at(-1).content.filter(n=>n.type==="text").map(n=>n.text);if(r.length===0)throw new It("stream ended without producing a content block with type=text");return r.join(" ")},mse=function(){this.ended||ut(this,$0,void 0,"f")},hse=function(r){if(this.ended)return;let n=pe(this,Nu,"m",zFe).call(this,r);switch(this._emit("streamEvent",r,n),r.type){case"content_block_delta":{let i=n.content.at(-1);switch(r.delta.type){case"text_delta":{i.type==="text"&&this._emit("text",r.delta.text,i.text||"");break}case"citations_delta":{i.type==="text"&&this._emit("citation",r.delta.citation,i.citations??[]);break}case"input_json_delta":{HFe(i)&&i.input&&this._emit("inputJson",r.delta.partial_json,i.input);break}case"thinking_delta":{i.type==="thinking"&&this._emit("thinking",r.delta.thinking,i.thinking);break}case"signature_delta":{i.type==="thinking"&&this._emit("signature",i.signature);break}default:r.delta}break}case"message_stop":{this._addMessageParam(n),this._addMessage(use(n,pe(this,Lw,"f"),{logger:pe(this,AR,"f")}),!0);break}case"content_block_stop":{this._emit("contentBlock",n.content.at(-1));break}case"message_start":{ut(this,$0,n,"f");break}case"content_block_start":case"message_delta":break}},gse=function(){if(this.ended)throw new It("stream has ended, this shouldn't happen");let r=pe(this,$0,"f");if(!r)throw new It("request ended without sending any chunks");return ut(this,$0,void 0,"f"),use(r,pe(this,Lw,"f"),{logger:pe(this,AR,"f")})},zFe=function(r){let n=pe(this,$0,"f");if(r.type==="message_start"){if(n)throw new It(`Unexpected event order, got ${r.type} before receiving "message_stop"`);return r.message}if(!n)throw new It(`Unexpected event order, got ${r.type} before "message_start"`);switch(r.type){case"message_stop":return n;case"message_delta":return n.stop_reason=r.delta.stop_reason,n.stop_sequence=r.delta.stop_sequence,n.usage.output_tokens=r.usage.output_tokens,r.usage.input_tokens!=null&&(n.usage.input_tokens=r.usage.input_tokens),r.usage.cache_creation_input_tokens!=null&&(n.usage.cache_creation_input_tokens=r.usage.cache_creation_input_tokens),r.usage.cache_read_input_tokens!=null&&(n.usage.cache_read_input_tokens=r.usage.cache_read_input_tokens),r.usage.server_tool_use!=null&&(n.usage.server_tool_use=r.usage.server_tool_use),n;case"content_block_start":return n.content.push({...r.content_block}),n;case"content_block_delta":{let i=n.content.at(r.index);switch(r.delta.type){case"text_delta":{i?.type==="text"&&(n.content[r.index]={...i,text:(i.text||"")+r.delta.text});break}case"citations_delta":{i?.type==="text"&&(n.content[r.index]={...i,citations:[...i.citations??[],r.delta.citation]});break}case"input_json_delta":{if(i&&HFe(i)){let o=i[VFe]||"";o+=r.delta.partial_json;let s={...i};Object.defineProperty(s,VFe,{value:o,enumerable:!1,writable:!0}),o&&(s.input=_L(o)),n.content[r.index]=s}break}case"thinking_delta":{i?.type==="thinking"&&(n.content[r.index]={...i,thinking:i.thinking+r.delta.thinking});break}case"signature_delta":{i?.type==="thinking"&&(n.content[r.index]={...i,signature:r.delta.signature});break}default:r.delta}return n}case"content_block_stop":return n}},Symbol.asyncIterator)](){let e=[],r=[],n=!1;return this.on("streamEvent",i=>{let o=r.shift();o?o.resolve(i):e.push(i)}),this.on("end",()=>{n=!0;for(let i of r)i.resolve(void 0);r.length=0}),this.on("abort",i=>{n=!0;for(let o of r)o.reject(i);r.length=0}),this.on("error",i=>{n=!0;for(let o of r)o.reject(i);r.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((o,s)=>r.push({resolve:o,reject:s})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Yp(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}};var Bw=class extends oi{create(e,r){return this._client.post("/v1/messages/batches",{body:e,...r})}retrieve(e,r){return this._client.get(si`/v1/messages/batches/${e}`,r)}list(e={},r){return this._client.getAPIList("/v1/messages/batches",Iu,{query:e,...r})}delete(e,r){return this._client.delete(si`/v1/messages/batches/${e}`,r)}cancel(e,r){return this._client.post(si`/v1/messages/batches/${e}/cancel`,r)}async results(e,r){let n=await this.retrieve(e);if(!n.results_url)throw new It(`No batch \`results_url\`; Has it finished processing? ${n.processing_status} - ${n.id}`);return this._client.get(n.results_url,{...r,headers:Yt([{Accept:"application/binary"},r?.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap((i,o)=>kw.fromResponse(o.response,o.controller))}};var U0=class extends oi{constructor(){super(...arguments),this.batches=new Bw(this._client)}create(e,r){e.model in GFe&&console.warn(`The model '${e.model}' is deprecated and will reach end-of-life on ${GFe[e.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let n=this._client._options.timeout;if(!e.stream&&n==null){let o=vL[e.model]??void 0;n=this._client.calculateNonstreamingTimeout(e.max_tokens,o)}let i=bL(e.tools,e.messages);return this._client.post("/v1/messages",{body:e,timeout:n??6e5,...r,headers:Yt([i,r?.headers]),stream:e.stream??!1})}parse(e,r){return this.create(e,r).then(n=>dse(n,e,{logger:this._client.logger??console}))}stream(e,r){return ML.createMessage(this,e,r,{logger:this._client.logger??console})}countTokens(e,r){return this._client.post("/v1/messages/count_tokens",{body:e,...r})}},GFe={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025","claude-3-7-sonnet-latest":"February 19th, 2026","claude-3-7-sonnet-20250219":"February 19th, 2026","claude-3-5-haiku-latest":"February 19th, 2026","claude-3-5-haiku-20241022":"February 19th, 2026"};U0.Batches=Bw;var lv=class extends oi{retrieve(e,r={},n){let{betas:i}=r??{};return this._client.get(si`/v1/models/${e}`,{...n,headers:Yt([{...i?.toString()!=null?{"anthropic-beta":i?.toString()}:void 0},n?.headers])})}list(e={},r){let{betas:n,...i}=e??{};return this._client.getAPIList("/v1/models",Iu,{query:i,...r,headers:Yt([{...n?.toString()!=null?{"anthropic-beta":n?.toString()}:void 0},r?.headers])})}};var ER=t=>{if(typeof globalThis.process<"u")return globalThis.process.env?.[t]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(t)?.trim()};var yse,bse,LL,jFe,qFe="\\n\\nHuman:",JFe="\\n\\nAssistant:",vi=class{constructor({baseURL:e=ER("ANTHROPIC_BASE_URL"),apiKey:r=ER("ANTHROPIC_API_KEY")??null,authToken:n=ER("ANTHROPIC_AUTH_TOKEN")??null,...i}={}){yse.add(this),LL.set(this,void 0);let o={apiKey:r,authToken:n,...i,baseURL:e||"https://api.anthropic.com"};if(!o.dangerouslyAllowBrowser&&fFe())throw new It(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Anthropic({ apiKey, dangerouslyAllowBrowser: true });
`);this.baseURL=o.baseURL,this.timeout=o.timeout??bse.DEFAULT_TIMEOUT,this.logger=o.logger??console;let s="warn";this.logLevel=s,this.logLevel=Koe(o.logLevel,"ClientOptions.logLevel",this)??Koe(ER("ANTHROPIC_LOG"),"process.env['ANTHROPIC_LOG']",this)??s,this.fetchOptions=o.fetchOptions,this.maxRetries=o.maxRetries??2,this.fetch=o.fetch??hFe(),ut(this,LL,yFe,"f"),this._options=o,this.apiKey=typeof r=="string"?r:null,this.authToken=n}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,authToken:this.authToken,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:r}){if(!(e.get("x-api-key")||e.get("authorization"))&&!(this.apiKey&&e.get("x-api-key"))&&!r.has("x-api-key")&&!(this.authToken&&e.get("authorization"))&&!r.has("authorization"))throw new Error('Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted')}async authHeaders(e){return Yt([await this.apiKeyAuth(e),await this.bearerAuth(e)])}async apiKeyAuth(e){if(this.apiKey!=null)return Yt([{"X-Api-Key":this.apiKey}])}async bearerAuth(e){if(this.authToken!=null)return Yt([{Authorization:`Bearer ${this.authToken}`}])}stringifyQuery(e){return Object.entries(e).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(r)}=`;throw new It(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${M0}`}defaultIdempotencyKey(){return`stainless-node-retry-${Goe()}`}makeStatusError(e,r,n,i){return jo.generate(e,r,n,i)}buildURL(e,r,n){let i=!pe(this,yse,"m",jFe).call(this)&&n||this.baseURL,o=oFe(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return sFe(s)||(r={...s,...r}),typeof r=="object"&&r&&!Array.isArray(r)&&(o.search=this.stringifyQuery(r)),o.toString()}_calculateNonstreamingTimeout(e){if(3600*e/128e3>600)throw new It("Streaming is required for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#streaming-responses for more details");return 600*1e3}async prepareOptions(e){}async prepareRequest(e,{url:r,options:n}){}get(e,r){return this.methodRequest("get",e,r)}post(e,r){return this.methodRequest("post",e,r)}patch(e,r){return this.methodRequest("patch",e,r)}put(e,r){return this.methodRequest("put",e,r)}delete(e,r){return this.methodRequest("delete",e,r)}methodRequest(e,r,n){return this.request(Promise.resolve(n).then(i=>({method:e,path:r,...i})))}request(e,r=null){return new tv(this,this.makeRequest(e,r,void 0))}async makeRequest(e,r,n){let i=await e,o=i.maxRetries??this.maxRetries;r==null&&(r=o),await this.prepareOptions(i);let{req:s,url:a,timeout:c}=await this.buildRequest(i,{retryCount:o-r});await this.prepareRequest(s,{url:a,options:i});let l="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),u=n===void 0?"":`, retryOf: ${n}`,d=Date.now();if(qo(this).debug(`[${l}] sending request`,Um({retryOfRequestLogID:n,method:i.method,url:a,options:i,headers:s.headers})),i.signal?.aborted)throw new us;let p=new AbortController,f=await this.fetchWithTimeout(a,s,c,p).catch(tR),h=Date.now();if(f instanceof globalThis.Error){let b=`retrying, ${r} attempts remaining`;if(i.signal?.aborted)throw new us;let _=Bm(f)||/timed? ?out/i.test(String(f)+("cause"in f?String(f.cause):""));if(r)return qo(this).info(`[${l}] connection ${_?"timed out":"failed"} - ${b}`),qo(this).debug(`[${l}] connection ${_?"timed out":"failed"} (${b})`,Um({retryOfRequestLogID:n,url:a,durationMs:h-d,message:f.message})),this.retryRequest(i,r,n??l);throw qo(this).info(`[${l}] connection ${_?"timed out":"failed"} - error; no more retries left`),qo(this).debug(`[${l}] connection ${_?"timed out":"failed"} (error; no more retries left)`,Um({retryOfRequestLogID:n,url:a,durationMs:h-d,message:f.message})),_?new gw:new D0({cause:f})}let m=[...f.headers.entries()].filter(([b])=>b==="request-id").map(([b,_])=>", "+b+": "+JSON.stringify(_)).join(""),g=`[${l}${u}${m}] ${s.method} ${a} ${f.ok?"succeeded":"failed"} with status ${f.status} in ${h-d}ms`;if(!f.ok){let b=await this.shouldRetry(f);if(r&&b){let D=`retrying, ${r} attempts remaining`;return await gFe(f.body),qo(this).info(`${g} - ${D}`),qo(this).debug(`[${l}] response error (${D})`,Um({retryOfRequestLogID:n,url:f.url,status:f.status,headers:f.headers,durationMs:h-d})),this.retryRequest(i,r,n??l,f.headers)}let _=b?"error; no more retries left":"error; not retryable";qo(this).info(`${g} - ${_}`);let x=await f.text().catch(D=>tR(D).message),E=lL(x),R=E?void 0:x;throw qo(this).debug(`[${l}] response error (${_})`,Um({retryOfRequestLogID:n,url:f.url,status:f.status,headers:f.headers,message:R,durationMs:Date.now()-d})),this.makeStatusError(f.status,E,R,f.headers)}return qo(this).info(g),qo(this).debug(`[${l}] response start`,Um({retryOfRequestLogID:n,url:f.url,status:f.status,headers:f.headers,durationMs:h-d})),{response:f,options:i,controller:p,requestLogID:l,retryOfRequestLogID:n,startTime:d}}getAPIList(e,r,n){return this.requestAPIList(r,{method:"get",path:e,...n})}requestAPIList(e,r){let n=this.makeRequest(r,null,void 0);return new aR(this,n,e)}async fetchWithTimeout(e,r,n,i){let{signal:o,method:s,...a}=r||{};o&&o.addEventListener("abort",()=>i.abort());let c=setTimeout(()=>i.abort(),n),l=globalThis.ReadableStream&&a.body instanceof globalThis.ReadableStream||typeof a.body=="object"&&a.body!==null&&Symbol.asyncIterator in a.body,u={signal:i.signal,...l?{duplex:"half"}:{},method:"GET",...a};s&&(u.method=s.toUpperCase());try{return await this.fetch.call(void 0,e,u)}finally{clearTimeout(c)}}async shouldRetry(e){let r=e.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,r,n,i){let o,s=i?.get("retry-after-ms");if(s){let c=parseFloat(s);Number.isNaN(c)||(o=c)}let a=i?.get("retry-after");if(a&&!o){let c=parseFloat(a);Number.isNaN(c)?o=Date.parse(a)-Date.now():o=c*1e3}if(!(o&&0<=o&&o<60*1e3)){let c=e.maxRetries??this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(r,c)}return await lFe(o),this.makeRequest(e,r-1,n)}calculateDefaultRetryTimeoutMillis(e,r){let o=r-e,s=Math.min(.5*Math.pow(2,o),8),a=1-Math.random()*.25;return s*a*1e3}calculateNonstreamingTimeout(e,r){if(36e5*e/128e3>6e5||r!=null&&e>r)throw new It("Streaming is required for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#long-requests for more details");return 6e5}async buildRequest(e,{retryCount:r=0}={}){let n={...e},{method:i,path:o,query:s,defaultBaseURL:a}=n,c=this.buildURL(o,s,a);"timeout"in n&&cFe("timeout",n.timeout),n.timeout=n.timeout??this.timeout;let{bodyHeaders:l,body:u}=this.buildBody({options:n}),d=await this.buildHeaders({options:e,method:i,bodyHeaders:l,retryCount:r});return{req:{method:i,headers:d,...n.signal&&{signal:n.signal},...globalThis.ReadableStream&&u instanceof globalThis.ReadableStream&&{duplex:"half"},...u&&{body:u},...this.fetchOptions??{},...n.fetchOptions??{}},url:c,timeout:n.timeout}}async buildHeaders({options:e,method:r,bodyHeaders:n,retryCount:i}){let o={};this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);let s=Yt([o,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...mFe(),...this._options.dangerouslyAllowBrowser?{"anthropic-dangerous-direct-browser-access":"true"}:void 0,"anthropic-version":"2023-06-01"},await this.authHeaders(e),this._options.defaultHeaders,n,e.headers]);return this.validateHeaders(s),s.values}buildBody({options:{body:e,headers:r}}){if(!e)return{bodyHeaders:void 0,body:void 0};let n=Yt([r]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&n.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:uL(e)}:pe(this,LL,"f").call(this,{body:e,headers:n})}};bse=vi,LL=new WeakMap,yse=new WeakSet,jFe=function(){return this.baseURL!=="https://api.anthropic.com"};vi.Anthropic=bse;vi.HUMAN_PROMPT=qFe;vi.AI_PROMPT=JFe;vi.DEFAULT_TIMEOUT=6e5;vi.AnthropicError=It;vi.APIError=jo;vi.APIConnectionError=D0;vi.APIConnectionTimeoutError=gw;vi.APIUserAbortError=us;vi.NotFoundError=_w;vi.ConflictError=xw;vi.RateLimitError=ww;vi.BadRequestError=yw;vi.AuthenticationError=bw;vi.InternalServerError=Aw;vi.PermissionDeniedError=vw;vi.UnprocessableEntityError=Sw;vi.toFile=gL;var Ou=class extends vi{constructor(){super(...arguments),this.completions=new av(this),this.messages=new U0(this),this.models=new lv(this),this.beta=new Dd(this)}};Ou.Completions=av;Ou.Messages=U0;Ou.Models=lv;Ou.Beta=Dd;function Mt(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function de(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}var vse=function(){let{crypto:t}=globalThis;if(t?.randomUUID)return vse=t.randomUUID.bind(t),t.randomUUID();let e=new Uint8Array(1),r=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(+n^r()&15>>+n/4).toString(16))};function TR(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}var RR=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){let e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};var ht=class extends Error{},Co=class t extends ht{constructor(e,r,n,i){super(`${t.makeMessage(e,r,n)}`),this.status=e,this.headers=i,this.requestID=i?.get("x-request-id"),this.error=r;let o=r;this.code=o?.code,this.param=o?.param,this.type=o?.type}static makeMessage(e,r,n){let i=r?.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,r,n,i){if(!e||!i)return new F0({message:n,cause:RR(r)});let o=r?.error;return e===400?new $w(e,o,n,i):e===401?new Uw(e,o,n,i):e===403?new Fw(e,o,n,i):e===404?new zw(e,o,n,i):e===409?new Vw(e,o,n,i):e===422?new Hw(e,o,n,i):e===429?new Gw(e,o,n,i):e>=500?new jw(e,o,n,i):new t(e,o,n,i)}},go=class extends Co{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},F0=class extends Co{constructor({message:e,cause:r}){super(void 0,void 0,e||"Connection error.",void 0),r&&(this.cause=r)}},z0=class extends F0{constructor({message:e}={}){super({message:e??"Request timed out."})}},$w=class extends Co{},Uw=class extends Co{},Fw=class extends Co{},zw=class extends Co{},Vw=class extends Co{},Hw=class extends Co{},Gw=class extends Co{},jw=class extends Co{},qw=class extends ht{constructor(){super("Could not parse response content as the length limit was reached")}},Jw=class extends ht{constructor(){super("Could not parse response content as the request was rejected by the content filter")}},Zp=class extends Error{constructor(e){super(e)}};var xNt=/^[a-z][a-z0-9+.-]*:/i,WFe=t=>xNt.test(t),js=t=>(js=Array.isArray,js(t)),_se=js;function xse(t){return typeof t!="object"?{}:t??{}}function KFe(t){if(!t)return!0;for(let e in t)return!1;return!0}function QFe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function IR(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}var XFe=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new ht(`${t} must be an integer`);if(e<0)throw new ht(`${t} must be a positive integer`);return e};var YFe=t=>{try{return JSON.parse(t)}catch{return}};var ef=t=>new Promise(e=>setTimeout(e,t));var V0="6.17.0";var rze=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function SNt(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}var wNt=()=>{let t=SNt();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":V0,"X-Stainless-OS":eze(Deno.build.os),"X-Stainless-Arch":ZFe(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":V0,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":V0,"X-Stainless-OS":eze(globalThis.process.platform??"unknown"),"X-Stainless-Arch":ZFe(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};let e=ANt();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":V0,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":V0,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function ANt(){if(typeof navigator>"u"||!navigator)return null;let t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(let{key:e,pattern:r}of t){let n=r.exec(navigator.userAgent);if(n){let i=n[1]||0,o=n[2]||0,s=n[3]||0;return{browser:e,version:`${i}.${o}.${s}`}}}return null}var ZFe=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",eze=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown"),tze,nze=()=>tze??(tze=wNt());function ize(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Sse(...t){let e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function BL(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Sse({start(){},async pull(r){let{done:n,value:i}=await e.next();n?r.close():r.enqueue(i)},async cancel(){await e.return?.()}})}function wse(t){if(t[Symbol.asyncIterator])return t;let e=t.getReader();return{async next(){try{let r=await e.read();return r?.done&&e.releaseLock(),r}catch(r){throw e.releaseLock(),r}},async return(){let r=e.cancel();return e.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function oze(t){if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await t[Symbol.asyncIterator]().return?.();return}let e=t.getReader(),r=e.cancel();e.releaseLock(),await r}var sze=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});var $L="RFC3986",Ase=t=>String(t),UL={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:Ase},Ese="RFC1738";var FL=(t,e)=>(FL=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),FL(t,e)),tf=(()=>{let t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})();var Tse=1024,aze=(t,e,r,n,i)=>{if(t.length===0)return t;let o=t;if(typeof t=="symbol"?o=Symbol.prototype.toString.call(t):typeof t!="string"&&(o=String(t)),r==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(a){return"%26%23"+parseInt(a.slice(2),16)+"%3B"});let s="";for(let a=0;a<o.length;a+=Tse){let c=o.length>=Tse?o.slice(a,a+Tse):o,l=[];for(let u=0;u<c.length;++u){let d=c.charCodeAt(u);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||i===Ese&&(d===40||d===41)){l[l.length]=c.charAt(u);continue}if(d<128){l[l.length]=tf[d];continue}if(d<2048){l[l.length]=tf[192|d>>6]+tf[128|d&63];continue}if(d<55296||d>=57344){l[l.length]=tf[224|d>>12]+tf[128|d>>6&63]+tf[128|d&63];continue}u+=1,d=65536+((d&1023)<<10|c.charCodeAt(u)&1023),l[l.length]=tf[240|d>>18]+tf[128|d>>12&63]+tf[128|d>>6&63]+tf[128|d&63]}s+=l.join("")}return s};function cze(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function Rse(t,e){if(js(t)){let r=[];for(let n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)}var uze={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},dze=function(t,e){Array.prototype.push.apply(t,js(e)?e:[e])},lze,No={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:aze,encodeValuesOnly:!1,format:$L,formatter:Ase,indices:!1,serializeDate(t){return(lze??(lze=Function.prototype.call.bind(Date.prototype.toISOString)))(t)},skipNulls:!1,strictNullHandling:!1};function RNt(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}var Ise={};function pze(t,e,r,n,i,o,s,a,c,l,u,d,p,f,h,m,g,b){let _=t,x=b,E=0,R=!1;for(;(x=x.get(Ise))!==void 0&&!R;){let $=x.get(t);if(E+=1,typeof $<"u"){if($===E)throw new RangeError("Cyclic object value");R=!0}typeof x.get(Ise)>"u"&&(E=0)}if(typeof l=="function"?_=l(e,_):_ instanceof Date?_=p?.(_):r==="comma"&&js(_)&&(_=Rse(_,function($){return $ instanceof Date?p?.($):$})),_===null){if(o)return c&&!m?c(e,No.encoder,g,"key",f):e;_=""}if(RNt(_)||cze(_)){if(c){let $=m?e:c(e,No.encoder,g,"key",f);return[h?.($)+"="+h?.(c(_,No.encoder,g,"value",f))]}return[h?.(e)+"="+h?.(String(_))]}let I=[];if(typeof _>"u")return I;let D;if(r==="comma"&&js(_))m&&c&&(_=Rse(_,c)),D=[{value:_.length>0?_.join(",")||null:void 0}];else if(js(l))D=l;else{let $=Object.keys(_);D=u?$.sort(u):$}let k=a?String(e).replace(/\./g,"%2E"):String(e),O=n&&js(_)&&_.length===1?k+"[]":k;if(i&&js(_)&&_.length===0)return O+"[]";for(let $=0;$<D.length;++$){let j=D[$],X=typeof j=="object"&&typeof j.value<"u"?j.value:_[j];if(s&&X===null)continue;let N=d&&a?j.replace(/\./g,"%2E"):j,v=js(_)?typeof r=="function"?r(O,N):O:O+(d?"."+N:"["+N+"]");b.set(t,E);let S=new WeakMap;S.set(Ise,b),dze(I,pze(X,v,r,n,i,o,s,a,r==="comma"&&m&&js(_)?null:c,l,u,d,p,f,h,m,g,S))}return I}function INt(t=No){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");let e=t.charset||No.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let r=$L;if(typeof t.format<"u"){if(!FL(UL,t.format))throw new TypeError("Unknown format option provided.");r=t.format}let n=UL[r],i=No.filter;(typeof t.filter=="function"||js(t.filter))&&(i=t.filter);let o;if(t.arrayFormat&&t.arrayFormat in uze?o=t.arrayFormat:"indices"in t?o=t.indices?"indices":"repeat":o=No.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");let s=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:No.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:No.addQueryPrefix,allowDots:s,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:No.allowEmptyArrays,arrayFormat:o,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:No.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?No.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:No.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:No.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:No.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:No.encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:No.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:No.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:No.strictNullHandling}}function Cse(t,e={}){let r=t,n=INt(e),i,o;typeof n.filter=="function"?(o=n.filter,r=o("",r)):js(n.filter)&&(o=n.filter,i=o);let s=[];if(typeof r!="object"||r===null)return"";let a=uze[n.arrayFormat],c=a==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);let l=new WeakMap;for(let p=0;p<i.length;++p){let f=i[p];n.skipNulls&&r[f]===null||dze(s,pze(r[f],f,a,c,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}let u=s.join(n.delimiter),d=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),u.length>0?d+u:""}function hze(t){let e=0;for(let i of t)e+=i.length;let r=new Uint8Array(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return r}var fze;function Ww(t){let e;return(fze??(e=new globalThis.TextEncoder,fze=e.encode.bind(e)))(t)}var mze;function Nse(t){let e;return(mze??(e=new globalThis.TextDecoder,mze=e.decode.bind(e)))(t)}var rl,nl,uv=class{constructor(){rl.set(this,void 0),nl.set(this,void 0),Mt(this,rl,new Uint8Array,"f"),Mt(this,nl,null,"f")}decode(e){if(e==null)return[];let r=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Ww(e):e;Mt(this,rl,hze([de(this,rl,"f"),r]),"f");let n=[],i;for(;(i=NNt(de(this,rl,"f"),de(this,nl,"f")))!=null;){if(i.carriage&&de(this,nl,"f")==null){Mt(this,nl,i.index,"f");continue}if(de(this,nl,"f")!=null&&(i.index!==de(this,nl,"f")+1||i.carriage)){n.push(Nse(de(this,rl,"f").subarray(0,de(this,nl,"f")-1))),Mt(this,rl,de(this,rl,"f").subarray(de(this,nl,"f")),"f"),Mt(this,nl,null,"f");continue}let o=de(this,nl,"f")!==null?i.preceding-1:i.preceding,s=Nse(de(this,rl,"f").subarray(0,o));n.push(s),Mt(this,rl,de(this,rl,"f").subarray(i.index),"f"),Mt(this,nl,null,"f")}return n}flush(){return de(this,rl,"f").length?this.decode(`
`):[]}};rl=new WeakMap,nl=new WeakMap;uv.NEWLINE_CHARS=new Set([`
`,"\r"]);uv.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function NNt(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function gze(t){for(let n=0;n<t.length-1;n++){if(t[n]===10&&t[n+1]===10||t[n]===13&&t[n+1]===13)return n+2;if(t[n]===13&&t[n+1]===10&&n+3<t.length&&t[n+2]===13&&t[n+3]===10)return n+4}return-1}var VL={off:0,error:200,warn:300,info:400,debug:500},Ose=(t,e,r)=>{if(t){if(QFe(VL,t))return t;Gi(r).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(VL))}`)}};function CR(){}function zL(t,e,r){return!e||VL[t]>VL[r]?CR:e[t].bind(e)}var ONt={error:CR,warn:CR,info:CR,debug:CR},yze=new WeakMap;function Gi(t){let e=t.logger,r=t.logLevel??"off";if(!e)return ONt;let n=yze.get(e);if(n&&n[0]===r)return n[1];let i={error:zL("error",e,r),warn:zL("warn",e,r),info:zL("info",e,r),debug:zL("debug",e,r)};return yze.set(e,[r,i]),i}var Gm=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,r])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var NR,rf=class t{constructor(e,r,n){this.iterator=e,NR.set(this,void 0),this.controller=r,Mt(this,NR,n,"f")}static fromSSEResponse(e,r,n){let i=!1,o=n?Gi(n):console;async function*s(){if(i)throw new ht("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let a=!1;try{for await(let c of PNt(e,r))if(!a){if(c.data.startsWith("[DONE]")){a=!0;continue}if(c.event===null||!c.event.startsWith("thread.")){let l;try{l=JSON.parse(c.data)}catch(u){throw o.error("Could not parse message into JSON:",c.data),o.error("From chunk:",c.raw),u}if(l&&l.error)throw new Co(void 0,l.error,void 0,e.headers);yield l}else{let l;try{l=JSON.parse(c.data)}catch(u){throw console.error("Could not parse message into JSON:",c.data),console.error("From chunk:",c.raw),u}if(c.event=="error")throw new Co(void 0,l.error,l.message,void 0);yield{event:c.event,data:l}}}a=!0}catch(c){if(TR(c))return;throw c}finally{a||r.abort()}}return new t(s,r,n)}static fromReadableStream(e,r,n){let i=!1;async function*o(){let a=new uv,c=wse(e);for await(let l of c)for(let u of a.decode(l))yield u;for(let l of a.flush())yield l}async function*s(){if(i)throw new ht("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let a=!1;try{for await(let c of o())a||c&&(yield JSON.parse(c));a=!0}catch(c){if(TR(c))return;throw c}finally{a||r.abort()}}return new t(s,r,n)}[(NR=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){let e=[],r=[],n=this.iterator(),i=o=>({next:()=>{if(o.length===0){let s=n.next();e.push(s),r.push(s)}return o.shift()}});return[new t(()=>i(e),this.controller,de(this,NR,"f")),new t(()=>i(r),this.controller,de(this,NR,"f"))]}toReadableStream(){let e=this,r;return Sse({async start(){r=e[Symbol.asyncIterator]()},async pull(n){try{let{value:i,done:o}=await r.next();if(o)return n.close();let s=Ww(JSON.stringify(i)+`
`);n.enqueue(s)}catch(i){n.error(i)}},async cancel(){await r.return?.()}})}};async function*PNt(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ht("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ht("Attempted to iterate over a response with no body");let r=new Pse,n=new uv,i=wse(t.body);for await(let o of kNt(i))for(let s of n.decode(o)){let a=r.decode(s);a&&(yield a)}for(let o of n.flush()){let s=r.decode(o);s&&(yield s)}}async function*kNt(t){let e=new Uint8Array;for await(let r of t){if(r==null)continue;let n=r instanceof ArrayBuffer?new Uint8Array(r):typeof r=="string"?Ww(r):r,i=new Uint8Array(e.length+n.length);i.set(e),i.set(n,e.length),e=i;let o;for(;(o=gze(e))!==-1;)yield e.slice(0,o),e=e.slice(o)}e.length>0&&(yield e)}var Pse=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;let o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[r,n,i]=DNt(e,":");return i.startsWith(" ")&&(i=i.substring(1)),r==="event"?this.event=i:r==="data"&&this.data.push(i),null}};function DNt(t,e){let r=t.indexOf(e);return r!==-1?[t.substring(0,r),e,t.substring(r+e.length)]:[t,"",""]}async function HL(t,e){let{response:r,requestLogID:n,retryOfRequestLogID:i,startTime:o}=e,s=await(async()=>{if(e.options.stream)return Gi(t).debug("response",r.status,r.url,r.headers,r.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(r,e.controller,t):rf.fromSSEResponse(r,e.controller,t);if(r.status===204)return null;if(e.options.__binaryResponse)return r;let c=r.headers.get("content-type")?.split(";")[0]?.trim();if(c?.includes("application/json")||c?.endsWith("+json")){let d=await r.json();return kse(d,r)}return await r.text()})();return Gi(t).debug(`[${n}] response parsed`,Gm({retryOfRequestLogID:i,url:r.url,status:r.status,body:s,durationMs:Date.now()-o})),s}function kse(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var OR,dv=class t extends Promise{constructor(e,r,n=HL){super(i=>{i(null)}),this.responsePromise=r,this.parseResponse=n,OR.set(this,void 0),Mt(this,OR,e,"f")}_thenUnwrap(e){return new t(de(this,OR,"f"),this.responsePromise,async(r,n)=>kse(e(await this.parseResponse(r,n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){let[e,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:r,request_id:r.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(de(this,OR,"f"),e))),this.parsedPromise}then(e,r){return this.parse().then(e,r)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}};OR=new WeakMap;var GL,PR=class{constructor(e,r,n,i){GL.set(this,void 0),Mt(this,GL,e,"f"),this.options=i,this.response=r,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){let e=this.nextPageRequestOptions();if(!e)throw new ht("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await de(this,GL,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(GL=new WeakMap,Symbol.asyncIterator)](){for await(let e of this.iterPages())for(let r of e.getPaginatedItems())yield r}},kR=class extends dv{constructor(e,r,n){super(e,r,async(i,o)=>new n(i,o.response,await HL(i,o),o.options))}async*[Symbol.asyncIterator](){let e=await this;for await(let r of e)yield r}},nf=class extends PR{constructor(e,r,n,i){super(e,r,n,i),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}},yr=class extends PR{constructor(e,r,n,i){super(e,r,n,i),this.data=n.data||[],this.has_more=n.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){let e=this.getPaginatedItems(),r=e[e.length-1]?.id;return r?{...this.options,query:{...xse(this.options.query),after:r}}:null}},jm=class extends PR{constructor(e,r,n,i){super(e,r,n,i),this.data=n.data||[],this.has_more=n.has_more||!1,this.last_id=n.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){let e=this.last_id;return e?{...this.options,query:{...xse(this.options.query),after:e}}:null}};var Lse=()=>{if(typeof File>"u"){let{process:t}=globalThis,e=typeof t?.versions?.node=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(e?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Kw(t,e,r){return Lse(),new File(t,e??"unknown_file",r)}function DR(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}var jL=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",Bse=async(t,e)=>Dse(t.body)?{...t,body:await vze(t.body,e)}:t,il=async(t,e)=>({...t,body:await vze(t.body,e)}),bze=new WeakMap;function LNt(t){let e=typeof t=="function"?t:t.fetch,r=bze.get(e);if(r)return r;let n=(async()=>{try{let i="Response"in e?e.Response:(await e("data:,")).constructor,o=new FormData;return o.toString()!==await new i(o).text()}catch{return!0}})();return bze.set(e,n),n}var vze=async(t,e)=>{if(!await LNt(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");let r=new FormData;return await Promise.all(Object.entries(t||{}).map(([n,i])=>Mse(r,n,i))),r},_ze=t=>t instanceof Blob&&"name"in t,BNt=t=>typeof t=="object"&&t!==null&&(t instanceof Response||jL(t)||_ze(t)),Dse=t=>{if(BNt(t))return!0;if(Array.isArray(t))return t.some(Dse);if(t&&typeof t=="object"){for(let e in t)if(Dse(t[e]))return!0}return!1},Mse=async(t,e,r)=>{if(r!==void 0){if(r==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")t.append(e,String(r));else if(r instanceof Response)t.append(e,Kw([await r.blob()],DR(r)));else if(jL(r))t.append(e,Kw([await new Response(BL(r)).blob()],DR(r)));else if(_ze(r))t.append(e,r,DR(r));else if(Array.isArray(r))await Promise.all(r.map(n=>Mse(t,e+"[]",n)));else if(typeof r=="object")await Promise.all(Object.entries(r).map(([n,i])=>Mse(t,`${e}[${n}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${r} instead`)}};var xze=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",$Nt=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&xze(t),UNt=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function qL(t,e,r){if(Lse(),t=await t,$Nt(t))return t instanceof File?t:Kw([await t.arrayBuffer()],t.name);if(UNt(t)){let i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Kw(await $se(i),e,r)}let n=await $se(t);if(e||(e=DR(t)),!r?.type){let i=n.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(r={...r,type:i})}return Kw(n,e,r)}async function $se(t){let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(xze(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(jL(t))for await(let r of t)e.push(...await $se(r));else{let r=t?.constructor?.name;throw new Error(`Unexpected data type: ${typeof t}${r?`; constructor: ${r}`:""}${FNt(t)}`)}return e}function FNt(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(r=>`"${r}"`).join(", ")}]`}var Ne=class{constructor(e){this._client=e}};function wze(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}var Sze=Object.freeze(Object.create(null)),VNt=(t=wze)=>function(r,...n){if(r.length===1)return r[0];let i=!1,o=[],s=r.reduce((u,d,p)=>{/[?#]/.test(d)&&(i=!0);let f=n[p],h=(i?encodeURIComponent:t)(""+f);return p!==n.length&&(f==null||typeof f=="object"&&f.toString===Object.getPrototypeOf(Object.getPrototypeOf(f.hasOwnProperty??Sze)??Sze)?.toString)&&(h=f+"",o.push({start:u.length+d.length,length:h.length,error:`Value of type ${Object.prototype.toString.call(f).slice(8,-1)} is not a valid path parameter`})),u+d+(p===n.length?"":h)},""),a=s.split(/[?#]/,1)[0],c=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi,l;for(;(l=c.exec(a))!==null;)o.push({start:l.index,length:l[0].length,error:`Value "${l[0]}" can't be safely passed as a path parameter`});if(o.sort((u,d)=>u.start-d.start),o.length>0){let u=0,d=o.reduce((p,f)=>{let h=" ".repeat(f.start-u),m="^".repeat(f.length);return u=f.start+f.length,p+h+m},"");throw new ht(`Path parameters result in path with invalid segments:
${o.map(p=>p.error).join(`
`)}
${s}
${d}`)}return s},Te=VNt(wze);var pv=class extends Ne{list(e,r={},n){return this._client.getAPIList(Te`/chat/completions/${e}/messages`,yr,{query:r,...n})}};function MR(t){return t!==void 0&&"function"in t&&t.function!==void 0}function LR(t){return t?.$brand==="auto-parseable-response-format"}function fv(t){return t?.$brand==="auto-parseable-tool"}function Aze(t,e){return!e||!Use(e)?{...t,choices:t.choices.map(r=>(Tze(r.message.tool_calls),{...r,message:{...r.message,parsed:null,...r.message.tool_calls?{tool_calls:r.message.tool_calls}:void 0}}))}:BR(t,e)}function BR(t,e){let r=t.choices.map(n=>{if(n.finish_reason==="length")throw new qw;if(n.finish_reason==="content_filter")throw new Jw;return Tze(n.message.tool_calls),{...n,message:{...n.message,...n.message.tool_calls?{tool_calls:n.message.tool_calls?.map(i=>qNt(e,i))??void 0}:void 0,parsed:n.message.content&&!n.message.refusal?jNt(e,n.message.content):null}}});return{...t,choices:r}}function jNt(t,e){return t.response_format?.type!=="json_schema"?null:t.response_format?.type==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function qNt(t,e){let r=t.tools?.find(n=>MR(n)&&n.function?.name===e.function.name);return{...e,function:{...e.function,parsed_arguments:fv(r)?r.$parseRaw(e.function.arguments):r?.function.strict?JSON.parse(e.function.arguments):null}}}function Eze(t,e){if(!t||!("tools"in t)||!t.tools)return!1;let r=t.tools?.find(n=>MR(n)&&n.function?.name===e.function.name);return MR(r)&&(fv(r)||r?.function.strict||!1)}function Use(t){return LR(t.response_format)?!0:t.tools?.some(e=>fv(e)||e.type==="function"&&e.function.strict===!0)??!1}function Tze(t){for(let e of t||[])if(e.type!=="function")throw new ht(`Currently only \`function\` tool calls are supported; Received \`${e.type}\``)}function Rze(t){for(let e of t??[]){if(e.type!=="function")throw new ht(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new ht(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Qw=t=>t?.role==="assistant",Fse=t=>t?.role==="tool";var zse,JL,WL,$R,UR,KL,FR,qm,zR,QL,XL,Xw,Ize,H0=class{constructor(){zse.add(this),this.controller=new AbortController,JL.set(this,void 0),WL.set(this,()=>{}),$R.set(this,()=>{}),UR.set(this,void 0),KL.set(this,()=>{}),FR.set(this,()=>{}),qm.set(this,{}),zR.set(this,!1),QL.set(this,!1),XL.set(this,!1),Xw.set(this,!1),Mt(this,JL,new Promise((e,r)=>{Mt(this,WL,e,"f"),Mt(this,$R,r,"f")}),"f"),Mt(this,UR,new Promise((e,r)=>{Mt(this,KL,e,"f"),Mt(this,FR,r,"f")}),"f"),de(this,JL,"f").catch(()=>{}),de(this,UR,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},de(this,zse,"m",Ize).bind(this))},0)}_connected(){this.ended||(de(this,WL,"f").call(this),this._emit("connect"))}get ended(){return de(this,zR,"f")}get errored(){return de(this,QL,"f")}get aborted(){return de(this,XL,"f")}abort(){this.controller.abort()}on(e,r){return(de(this,qm,"f")[e]||(de(this,qm,"f")[e]=[])).push({listener:r}),this}off(e,r){let n=de(this,qm,"f")[e];if(!n)return this;let i=n.findIndex(o=>o.listener===r);return i>=0&&n.splice(i,1),this}once(e,r){return(de(this,qm,"f")[e]||(de(this,qm,"f")[e]=[])).push({listener:r,once:!0}),this}emitted(e){return new Promise((r,n)=>{Mt(this,Xw,!0,"f"),e!=="error"&&this.once("error",n),this.once(e,r)})}async done(){Mt(this,Xw,!0,"f"),await de(this,UR,"f")}_emit(e,...r){if(de(this,zR,"f"))return;e==="end"&&(Mt(this,zR,!0,"f"),de(this,KL,"f").call(this));let n=de(this,qm,"f")[e];if(n&&(de(this,qm,"f")[e]=n.filter(i=>!i.once),n.forEach(({listener:i})=>i(...r))),e==="abort"){let i=r[0];!de(this,Xw,"f")&&!n?.length&&Promise.reject(i),de(this,$R,"f").call(this,i),de(this,FR,"f").call(this,i),this._emit("end");return}if(e==="error"){let i=r[0];!de(this,Xw,"f")&&!n?.length&&Promise.reject(i),de(this,$R,"f").call(this,i),de(this,FR,"f").call(this,i),this._emit("end")}}_emitFinal(){}};JL=new WeakMap,WL=new WeakMap,$R=new WeakMap,UR=new WeakMap,KL=new WeakMap,FR=new WeakMap,qm=new WeakMap,zR=new WeakMap,QL=new WeakMap,XL=new WeakMap,Xw=new WeakMap,zse=new WeakSet,Ize=function(e){if(Mt(this,QL,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new go),e instanceof go)return Mt(this,XL,!0,"f"),this._emit("abort",e);if(e instanceof ht)return this._emit("error",e);if(e instanceof Error){let r=new ht(e.message);return r.cause=e,this._emit("error",r)}return this._emit("error",new ht(String(e)))};function Cze(t){return typeof t.parse=="function"}var wa,Vse,YL,Hse,Gse,jse,Nze,Oze,JNt=10,Yw=class extends H0{constructor(){super(...arguments),wa.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);let r=e.choices[0]?.message;return r&&this._addMessage(r),e}_addMessage(e,r=!0){if("content"in e||(e.content=null),this.messages.push(e),r){if(this._emit("message",e),Fse(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(Qw(e)&&e.tool_calls)for(let n of e.tool_calls)n.type==="function"&&this._emit("functionToolCall",n.function)}}async finalChatCompletion(){await this.done();let e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new ht("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),de(this,wa,"m",Vse).call(this)}async finalMessage(){return await this.done(),de(this,wa,"m",YL).call(this)}async finalFunctionToolCall(){return await this.done(),de(this,wa,"m",Hse).call(this)}async finalFunctionToolCallResult(){return await this.done(),de(this,wa,"m",Gse).call(this)}async totalUsage(){return await this.done(),de(this,wa,"m",jse).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){let e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);let r=de(this,wa,"m",YL).call(this);r&&this._emit("finalMessage",r);let n=de(this,wa,"m",Vse).call(this);n&&this._emit("finalContent",n);let i=de(this,wa,"m",Hse).call(this);i&&this._emit("finalFunctionToolCall",i);let o=de(this,wa,"m",Gse).call(this);o!=null&&this._emit("finalFunctionToolCallResult",o),this._chatCompletions.some(s=>s.usage)&&this._emit("totalUsage",de(this,wa,"m",jse).call(this))}async _createChatCompletion(e,r,n){let i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),de(this,wa,"m",Nze).call(this,r);let o=await e.chat.completions.create({...r,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion(BR(o,r))}async _runChatCompletion(e,r,n){for(let i of r.messages)this._addMessage(i,!1);return await this._createChatCompletion(e,r,n)}async _runTools(e,r,n){let i="tool",{tool_choice:o="auto",stream:s,...a}=r,c=typeof o!="string"&&o.type==="function"&&o?.function?.name,{maxChatCompletions:l=JNt}=n||{},u=r.tools.map(f=>{if(fv(f)){if(!f.$callback)throw new ht("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:f.$callback,name:f.function.name,description:f.function.description||"",parameters:f.function.parameters,parse:f.$parseRaw,strict:!0}}}return f}),d={};for(let f of u)f.type==="function"&&(d[f.function.name||f.function.function.name]=f.function);let p="tools"in r?u.map(f=>f.type==="function"?{type:"function",function:{name:f.function.name||f.function.function.name,parameters:f.function.parameters,description:f.function.description,strict:f.function.strict}}:f):void 0;for(let f of r.messages)this._addMessage(f,!1);for(let f=0;f<l;++f){let m=(await this._createChatCompletion(e,{...a,tool_choice:o,tools:p,messages:[...this.messages]},n)).choices[0]?.message;if(!m)throw new ht("missing message in ChatCompletion response");if(!m.tool_calls?.length)return;for(let g of m.tool_calls){if(g.type!=="function")continue;let b=g.id,{name:_,arguments:x}=g.function,E=d[_];if(E){if(c&&c!==_){let k=`Invalid tool_call: ${JSON.stringify(_)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:i,tool_call_id:b,content:k});continue}}else{let k=`Invalid tool_call: ${JSON.stringify(_)}. Available options are: ${Object.keys(d).map(O=>JSON.stringify(O)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:b,content:k});continue}let R;try{R=Cze(E)?await E.parse(x):x}catch(k){let O=k instanceof Error?k.message:String(k);this._addMessage({role:i,tool_call_id:b,content:O});continue}let I=await E.function(R,this),D=de(this,wa,"m",Oze).call(this,I);if(this._addMessage({role:i,tool_call_id:b,content:D}),c)return}}}};wa=new WeakSet,Vse=function(){return de(this,wa,"m",YL).call(this).content??null},YL=function(){let e=this.messages.length;for(;e-- >0;){let r=this.messages[e];if(Qw(r))return{...r,content:r.content??null,refusal:r.refusal??null}}throw new ht("stream ended without producing a ChatCompletionMessage with role=assistant")},Hse=function(){for(let e=this.messages.length-1;e>=0;e--){let r=this.messages[e];if(Qw(r)&&r?.tool_calls?.length)return r.tool_calls.filter(n=>n.type==="function").at(-1)?.function}},Gse=function(){for(let e=this.messages.length-1;e>=0;e--){let r=this.messages[e];if(Fse(r)&&r.content!=null&&typeof r.content=="string"&&this.messages.some(n=>n.role==="assistant"&&n.tool_calls?.some(i=>i.type==="function"&&i.id===r.tool_call_id)))return r.content}},jse=function(){let e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(let{usage:r}of this._chatCompletions)r&&(e.completion_tokens+=r.completion_tokens,e.prompt_tokens+=r.prompt_tokens,e.total_tokens+=r.total_tokens);return e},Nze=function(e){if(e.n!=null&&e.n>1)throw new ht("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Oze=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};var VR=class t extends Yw{static runTools(e,r,n){let i=new t,o={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,r,o)),i}_addMessage(e,r=!0){super._addMessage(e,r),Qw(e)&&e.content&&this._emit("content",e.content)}};var Jo={STR:1,NUM:2,ARR:4,OBJ:8,NULL:16,BOOL:32,NAN:64,INFINITY:128,MINUS_INFINITY:256,INF:384,SPECIAL:496,ATOM:499,COLLECTION:12,ALL:511},qse=class extends Error{},Jse=class extends Error{};function WNt(t,e=Jo.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return KNt(t.trim(),e)}var KNt=(t,e)=>{let r=t.length,n=0,i=p=>{throw new qse(`${p} at position ${n}`)},o=p=>{throw new Jse(`${p} at position ${n}`)},s=()=>(d(),n>=r&&i("Unexpected end of input"),t[n]==='"'?a():t[n]==="{"?c():t[n]==="["?l():t.substring(n,n+4)==="null"||Jo.NULL&e&&r-n<4&&"null".startsWith(t.substring(n))?(n+=4,null):t.substring(n,n+4)==="true"||Jo.BOOL&e&&r-n<4&&"true".startsWith(t.substring(n))?(n+=4,!0):t.substring(n,n+5)==="false"||Jo.BOOL&e&&r-n<5&&"false".startsWith(t.substring(n))?(n+=5,!1):t.substring(n,n+8)==="Infinity"||Jo.INFINITY&e&&r-n<8&&"Infinity".startsWith(t.substring(n))?(n+=8,1/0):t.substring(n,n+9)==="-Infinity"||Jo.MINUS_INFINITY&e&&1<r-n&&r-n<9&&"-Infinity".startsWith(t.substring(n))?(n+=9,-1/0):t.substring(n,n+3)==="NaN"||Jo.NAN&e&&r-n<3&&"NaN".startsWith(t.substring(n))?(n+=3,NaN):u()),a=()=>{let p=n,f=!1;for(n++;n<r&&(t[n]!=='"'||f&&t[n-1]==="\\");)f=t[n]==="\\"?!f:!1,n++;if(t.charAt(n)=='"')try{return JSON.parse(t.substring(p,++n-Number(f)))}catch(h){o(String(h))}else if(Jo.STR&e)try{return JSON.parse(t.substring(p,n-Number(f))+'"')}catch{return JSON.parse(t.substring(p,t.lastIndexOf("\\"))+'"')}i("Unterminated string literal")},c=()=>{n++,d();let p={};try{for(;t[n]!=="}";){if(d(),n>=r&&Jo.OBJ&e)return p;let f=a();d(),n++;try{let h=s();Object.defineProperty(p,f,{value:h,writable:!0,enumerable:!0,configurable:!0})}catch(h){if(Jo.OBJ&e)return p;throw h}d(),t[n]===","&&n++}}catch{if(Jo.OBJ&e)return p;i("Expected '}' at end of object")}return n++,p},l=()=>{n++;let p=[];try{for(;t[n]!=="]";)p.push(s()),d(),t[n]===","&&n++}catch{if(Jo.ARR&e)return p;i("Expected ']' at end of array")}return n++,p},u=()=>{if(n===0){t==="-"&&Jo.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(t)}catch(f){if(Jo.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}o(String(f))}}let p=n;for(t[n]==="-"&&n++;t[n]&&!",]}".includes(t[n]);)n++;n==r&&!(Jo.NUM&e)&&i("Unterminated number literal");try{return JSON.parse(t.substring(p,n))}catch{t.substring(p,n)==="-"&&Jo.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(t.substring(p,t.lastIndexOf("e")))}catch(h){o(String(h))}}},d=()=>{for(;n<r&&` 
\r	`.includes(t[n]);)n++};return s()},Wse=t=>WNt(t,Jo.ALL^Jo.NUM);var Oo,Jm,Zw,G0,Kse,ZL,Qse,Xse,Yse,eB,Zse,Pze,mv=class t extends Yw{constructor(e){super(),Oo.add(this),Jm.set(this,void 0),Zw.set(this,void 0),G0.set(this,void 0),Mt(this,Jm,e,"f"),Mt(this,Zw,[],"f")}get currentChatCompletionSnapshot(){return de(this,G0,"f")}static fromReadableStream(e){let r=new t(null);return r._run(()=>r._fromReadableStream(e)),r}static createChatCompletion(e,r,n){let i=new t(r);return i._run(()=>i._runChatCompletion(e,{...r,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(e,r,n){super._createChatCompletion;let i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),de(this,Oo,"m",Kse).call(this);let o=await e.chat.completions.create({...r,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(let s of o)de(this,Oo,"m",Qse).call(this,s);if(o.controller.signal?.aborted)throw new go;return this._addChatCompletion(de(this,Oo,"m",eB).call(this))}async _fromReadableStream(e,r){let n=r?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),de(this,Oo,"m",Kse).call(this),this._connected();let i=rf.fromReadableStream(e,this.controller),o;for await(let s of i)o&&o!==s.id&&this._addChatCompletion(de(this,Oo,"m",eB).call(this)),de(this,Oo,"m",Qse).call(this,s),o=s.id;if(i.controller.signal?.aborted)throw new go;return this._addChatCompletion(de(this,Oo,"m",eB).call(this))}[(Jm=new WeakMap,Zw=new WeakMap,G0=new WeakMap,Oo=new WeakSet,Kse=function(){this.ended||Mt(this,G0,void 0,"f")},ZL=function(r){let n=de(this,Zw,"f")[r.index];return n||(n={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},de(this,Zw,"f")[r.index]=n,n)},Qse=function(r){if(this.ended)return;let n=de(this,Oo,"m",Pze).call(this,r);this._emit("chunk",r,n);for(let i of r.choices){let o=n.choices[i.index];i.delta.content!=null&&o.message?.role==="assistant"&&o.message?.content&&(this._emit("content",i.delta.content,o.message.content),this._emit("content.delta",{delta:i.delta.content,snapshot:o.message.content,parsed:o.message.parsed})),i.delta.refusal!=null&&o.message?.role==="assistant"&&o.message?.refusal&&this._emit("refusal.delta",{delta:i.delta.refusal,snapshot:o.message.refusal}),i.logprobs?.content!=null&&o.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:i.logprobs?.content,snapshot:o.logprobs?.content??[]}),i.logprobs?.refusal!=null&&o.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:i.logprobs?.refusal,snapshot:o.logprobs?.refusal??[]});let s=de(this,Oo,"m",ZL).call(this,o);o.finish_reason&&(de(this,Oo,"m",Yse).call(this,o),s.current_tool_call_index!=null&&de(this,Oo,"m",Xse).call(this,o,s.current_tool_call_index));for(let a of i.delta.tool_calls??[])s.current_tool_call_index!==a.index&&(de(this,Oo,"m",Yse).call(this,o),s.current_tool_call_index!=null&&de(this,Oo,"m",Xse).call(this,o,s.current_tool_call_index)),s.current_tool_call_index=a.index;for(let a of i.delta.tool_calls??[]){let c=o.message.tool_calls?.[a.index];c?.type&&(c?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:c.function?.name,index:a.index,arguments:c.function.arguments,parsed_arguments:c.function.parsed_arguments,arguments_delta:a.function?.arguments??""}):(c?.type,void 0))}}},Xse=function(r,n){if(de(this,Oo,"m",ZL).call(this,r).done_tool_calls.has(n))return;let o=r.message.tool_calls?.[n];if(!o)throw new Error("no tool call snapshot");if(!o.type)throw new Error("tool call snapshot missing `type`");if(o.type==="function"){let s=de(this,Jm,"f")?.tools?.find(a=>MR(a)&&a.function.name===o.function.name);this._emit("tool_calls.function.arguments.done",{name:o.function.name,index:n,arguments:o.function.arguments,parsed_arguments:fv(s)?s.$parseRaw(o.function.arguments):s?.function.strict?JSON.parse(o.function.arguments):null})}else o.type},Yse=function(r){let n=de(this,Oo,"m",ZL).call(this,r);if(r.message.content&&!n.content_done){n.content_done=!0;let i=de(this,Oo,"m",Zse).call(this);this._emit("content.done",{content:r.message.content,parsed:i?i.$parseRaw(r.message.content):null})}r.message.refusal&&!n.refusal_done&&(n.refusal_done=!0,this._emit("refusal.done",{refusal:r.message.refusal})),r.logprobs?.content&&!n.logprobs_content_done&&(n.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:r.logprobs.content})),r.logprobs?.refusal&&!n.logprobs_refusal_done&&(n.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:r.logprobs.refusal}))},eB=function(){if(this.ended)throw new ht("stream has ended, this shouldn't happen");let r=de(this,G0,"f");if(!r)throw new ht("request ended without sending any chunks");return Mt(this,G0,void 0,"f"),Mt(this,Zw,[],"f"),QNt(r,de(this,Jm,"f"))},Zse=function(){let r=de(this,Jm,"f")?.response_format;return LR(r)?r:null},Pze=function(r){var n,i,o,s;let a=de(this,G0,"f"),{choices:c,...l}=r;a?Object.assign(a,l):a=Mt(this,G0,{...l,choices:[]},"f");for(let{delta:u,finish_reason:d,index:p,logprobs:f=null,...h}of r.choices){let m=a.choices[p];if(m||(m=a.choices[p]={finish_reason:d,index:p,message:{},logprobs:f,...h}),f)if(!m.logprobs)m.logprobs=Object.assign({},f);else{let{content:I,refusal:D,...k}=f;Object.assign(m.logprobs,k),I&&((n=m.logprobs).content??(n.content=[]),m.logprobs.content.push(...I)),D&&((i=m.logprobs).refusal??(i.refusal=[]),m.logprobs.refusal.push(...D))}if(d&&(m.finish_reason=d,de(this,Jm,"f")&&Use(de(this,Jm,"f")))){if(d==="length")throw new qw;if(d==="content_filter")throw new Jw}if(Object.assign(m,h),!u)continue;let{content:g,refusal:b,function_call:_,role:x,tool_calls:E,...R}=u;if(Object.assign(m.message,R),b&&(m.message.refusal=(m.message.refusal||"")+b),x&&(m.message.role=x),_&&(m.message.function_call?(_.name&&(m.message.function_call.name=_.name),_.arguments&&((o=m.message.function_call).arguments??(o.arguments=""),m.message.function_call.arguments+=_.arguments)):m.message.function_call=_),g&&(m.message.content=(m.message.content||"")+g,!m.message.refusal&&de(this,Oo,"m",Zse).call(this)&&(m.message.parsed=Wse(m.message.content))),E){m.message.tool_calls||(m.message.tool_calls=[]);for(let{index:I,id:D,type:k,function:O,...$}of E){let j=(s=m.message.tool_calls)[I]??(s[I]={});Object.assign(j,$),D&&(j.id=D),k&&(j.type=k),O&&(j.function??(j.function={name:O.name??"",arguments:""})),O?.name&&(j.function.name=O.name),O?.arguments&&(j.function.arguments+=O.arguments,Eze(de(this,Jm,"f"),j)&&(j.function.parsed_arguments=Wse(j.function.arguments)))}}}return a},Symbol.asyncIterator)](){let e=[],r=[],n=!1;return this.on("chunk",i=>{let o=r.shift();o?o.resolve(i):e.push(i)}),this.on("end",()=>{n=!0;for(let i of r)i.resolve(void 0);r.length=0}),this.on("abort",i=>{n=!0;for(let o of r)o.reject(i);r.length=0}),this.on("error",i=>{n=!0;for(let o of r)o.reject(i);r.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((o,s)=>r.push({resolve:o,reject:s})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new rf(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}};function QNt(t,e){let{id:r,choices:n,created:i,model:o,system_fingerprint:s,...a}=t,c={...a,id:r,choices:n.map(({message:l,finish_reason:u,index:d,logprobs:p,...f})=>{if(!u)throw new ht(`missing finish_reason for choice ${d}`);let{content:h=null,function_call:m,tool_calls:g,...b}=l,_=l.role;if(!_)throw new ht(`missing role for choice ${d}`);if(m){let{arguments:x,name:E}=m;if(x==null)throw new ht(`missing function_call.arguments for choice ${d}`);if(!E)throw new ht(`missing function_call.name for choice ${d}`);return{...f,message:{content:h,function_call:{arguments:x,name:E},role:_,refusal:l.refusal??null},finish_reason:u,index:d,logprobs:p}}return g?{...f,index:d,finish_reason:u,logprobs:p,message:{...b,role:_,content:h,refusal:l.refusal??null,tool_calls:g.map((x,E)=>{let{function:R,type:I,id:D,...k}=x,{arguments:O,name:$,...j}=R||{};if(D==null)throw new ht(`missing choices[${d}].tool_calls[${E}].id
${tB(t)}`);if(I==null)throw new ht(`missing choices[${d}].tool_calls[${E}].type
${tB(t)}`);if($==null)throw new ht(`missing choices[${d}].tool_calls[${E}].function.name
${tB(t)}`);if(O==null)throw new ht(`missing choices[${d}].tool_calls[${E}].function.arguments
${tB(t)}`);return{...k,id:D,type:I,function:{...j,name:$,arguments:O}}})}}:{...f,message:{...b,content:h,role:_,refusal:l.refusal??null},finish_reason:u,index:d,logprobs:p}}),created:i,model:o,object:"chat.completion",...s?{system_fingerprint:s}:{}};return Aze(c,e)}function tB(t){return JSON.stringify(t)}var HR=class t extends mv{static fromReadableStream(e){let r=new t(null);return r._run(()=>r._fromReadableStream(e)),r}static runTools(e,r,n){let i=new t(r),o={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,r,o)),i}};var Wm=class extends Ne{constructor(){super(...arguments),this.messages=new pv(this._client)}create(e,r){return this._client.post("/chat/completions",{body:e,...r,stream:e.stream??!1})}retrieve(e,r){return this._client.get(Te`/chat/completions/${e}`,r)}update(e,r,n){return this._client.post(Te`/chat/completions/${e}`,{body:r,...n})}list(e={},r){return this._client.getAPIList("/chat/completions",yr,{query:e,...r})}delete(e,r){return this._client.delete(Te`/chat/completions/${e}`,r)}parse(e,r){return Rze(e.tools),this._client.chat.completions.create(e,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(n=>BR(n,e))}runTools(e,r){return e.stream?HR.runTools(this._client,e,r):VR.runTools(this._client,e,r)}stream(e,r){return mv.createChatCompletion(this._client,e,r)}};Wm.Messages=pv;var j0=class extends Ne{constructor(){super(...arguments),this.completions=new Wm(this._client)}};j0.Completions=Wm;var kze=Symbol("brand.privateNullableHeaders");function*YNt(t){if(!t)return;if(kze in t){let{values:n,nulls:i}=t;yield*n.entries();for(let o of i)yield[o,null];return}let e=!1,r;t instanceof Headers?r=t.entries():_se(t)?r=t:(e=!0,r=Object.entries(t??{}));for(let n of r){let i=n[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");let o=_se(n[1])?n[1]:[n[1]],s=!1;for(let a of o)a!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,a])}}var Xe=t=>{let e=new Headers,r=new Set;for(let n of t){let i=new Set;for(let[o,s]of YNt(n)){let a=o.toLowerCase();i.has(a)||(e.delete(o),i.add(a)),s===null?(e.delete(o),r.add(a)):(e.append(o,s),r.delete(a))}}return{[kze]:!0,values:e,nulls:r}};var eA=class extends Ne{create(e,r){return this._client.post("/audio/speech",{body:e,...r,headers:Xe([{Accept:"application/octet-stream"},r?.headers]),__binaryResponse:!0})}};var tA=class extends Ne{create(e,r){return this._client.post("/audio/transcriptions",il({body:e,...r,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}};var rA=class extends Ne{create(e,r){return this._client.post("/audio/translations",il({body:e,...r,__metadata:{model:e.model}},this._client))}};var of=class extends Ne{constructor(){super(...arguments),this.transcriptions=new tA(this._client),this.translations=new rA(this._client),this.speech=new eA(this._client)}};of.Transcriptions=tA;of.Translations=rA;of.Speech=eA;var hv=class extends Ne{create(e,r){return this._client.post("/batches",{body:e,...r})}retrieve(e,r){return this._client.get(Te`/batches/${e}`,r)}list(e={},r){return this._client.getAPIList("/batches",yr,{query:e,...r})}cancel(e,r){return this._client.post(Te`/batches/${e}/cancel`,r)}};var nA=class extends Ne{create(e,r){return this._client.post("/assistants",{body:e,...r,headers:Xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(e,r){return this._client.get(Te`/assistants/${e}`,{...r,headers:Xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(e,r,n){return this._client.post(Te`/assistants/${e}`,{body:r,...n,headers:Xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e={},r){return this._client.getAPIList("/assistants",yr,{query:e,...r,headers:Xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(e,r){return this._client.delete(Te`/assistants/${e}`,{...r,headers:Xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}};var iA=class extends Ne{create(e,r){return this._client.post("/realtime/sessions",{body:e,...r,headers:Xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}};var oA=class extends Ne{create(e,r){return this._client.post("/realtime/transcription_sessions",{body:e,...r,headers:Xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}};var q0=class extends Ne{constructor(){super(...arguments),this.sessions=new iA(this._client),this.transcriptionSessions=new oA(this._client)}};q0.Sessions=iA;q0.TranscriptionSessions=oA;var sA=class extends Ne{create(e,r){return this._client.post("/chatkit/sessions",{body:e,...r,headers:Xe([{"OpenAI-Beta":"chatkit_beta=v1"},r?.headers])})}cancel(e,r){return this._client.post(Te`/chatkit/sessions/${e}/cancel`,{...r,headers:Xe([{"OpenAI-Beta":"chatkit_beta=v1"},r?.headers])})}};var aA=class extends Ne{retrieve(e,r){return this._client.get(Te`/chatkit/threads/${e}`,{...r,headers:Xe([{"OpenAI-Beta":"chatkit_beta=v1"},r?.headers])})}list(e={},r){return this._client.getAPIList("/chatkit/threads",jm,{query:e,...r,headers:Xe([{"OpenAI-Beta":"chatkit_beta=v1"},r?.headers])})}delete(e,r){return this._client.delete(Te`/chatkit/threads/${e}`,{...r,headers:Xe([{"OpenAI-Beta":"chatkit_beta=v1"},r?.headers])})}listItems(e,r={},n){return this._client.getAPIList(Te`/chatkit/threads/${e}/items`,jm,{query:r,...n,headers:Xe([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}};var J0=class extends Ne{constructor(){super(...arguments),this.sessions=new sA(this._client),this.threads=new aA(this._client)}};J0.Sessions=sA;J0.Threads=aA;var cA=class extends Ne{create(e,r,n){return this._client.post(Te`/threads/${e}/messages`,{body:r,...n,headers:Xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,r,n){let{thread_id:i}=r;return this._client.get(Te`/threads/${i}/messages/${e}`,{...n,headers:Xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,r,n){let{thread_id:i,...o}=r;return this._client.post(Te`/threads/${i}/messages/${e}`,{body:o,...n,headers:Xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,r={},n){return this._client.getAPIList(Te`/threads/${e}/messages`,yr,{query:r,...n,headers:Xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,r,n){let{thread_id:i}=r;return this._client.delete(Te`/threads/${i}/messages/${e}`,{...n,headers:Xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};var lA=class extends Ne{retrieve(e,r,n){let{thread_id:i,run_id:o,...s}=r;return this._client.get(Te`/threads/${i}/runs/${o}/steps/${e}`,{query:s,...n,headers:Xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,r,n){let{thread_id:i,...o}=r;return this._client.getAPIList(Te`/threads/${i}/runs/${e}/steps`,yr,{query:o,...n,headers:Xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};var Dze=t=>{if(typeof Buffer<"u"){let e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{let e=atob(t),r=e.length,n=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=e.charCodeAt(i);return Array.from(new Float32Array(n.buffer))}};var W0=t=>{if(typeof globalThis.process<"u")return globalThis.process.env?.[t]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(t)?.trim()};var ds,yv,eae,sf,rB,Md,bv,uA,gv,oB,ol,nB,iB,qR,GR,jR,Mze,Lze,Bze,$ze,Uze,Fze,zze,Km=class extends H0{constructor(){super(...arguments),ds.add(this),eae.set(this,[]),sf.set(this,{}),rB.set(this,{}),Md.set(this,void 0),bv.set(this,void 0),uA.set(this,void 0),gv.set(this,void 0),oB.set(this,void 0),ol.set(this,void 0),nB.set(this,void 0),iB.set(this,void 0),qR.set(this,void 0)}[(eae=new WeakMap,sf=new WeakMap,rB=new WeakMap,Md=new WeakMap,bv=new WeakMap,uA=new WeakMap,gv=new WeakMap,oB=new WeakMap,ol=new WeakMap,nB=new WeakMap,iB=new WeakMap,qR=new WeakMap,ds=new WeakSet,Symbol.asyncIterator)](){let e=[],r=[],n=!1;return this.on("event",i=>{let o=r.shift();o?o.resolve(i):e.push(i)}),this.on("end",()=>{n=!0;for(let i of r)i.resolve(void 0);r.length=0}),this.on("abort",i=>{n=!0;for(let o of r)o.reject(i);r.length=0}),this.on("error",i=>{n=!0;for(let o of r)o.reject(i);r.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((o,s)=>r.push({resolve:o,reject:s})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){let r=new yv;return r._run(()=>r._fromReadableStream(e)),r}async _fromReadableStream(e,r){let n=r?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),this._connected();let i=rf.fromReadableStream(e,this.controller);for await(let o of i)de(this,ds,"m",GR).call(this,o);if(i.controller.signal?.aborted)throw new go;return this._addRun(de(this,ds,"m",jR).call(this))}toReadableStream(){return new rf(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,r,n,i){let o=new yv;return o._run(()=>o._runToolAssistantStream(e,r,n,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(e,r,n,i){let o=i?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));let s={...n,stream:!0},a=await e.submitToolOutputs(r,s,{...i,signal:this.controller.signal});this._connected();for await(let c of a)de(this,ds,"m",GR).call(this,c);if(a.controller.signal?.aborted)throw new go;return this._addRun(de(this,ds,"m",jR).call(this))}static createThreadAssistantStream(e,r,n){let i=new yv;return i._run(()=>i._threadAssistantStream(e,r,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(e,r,n,i){let o=new yv;return o._run(()=>o._runAssistantStream(e,r,n,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),o}currentEvent(){return de(this,nB,"f")}currentRun(){return de(this,iB,"f")}currentMessageSnapshot(){return de(this,Md,"f")}currentRunStepSnapshot(){return de(this,qR,"f")}async finalRunSteps(){return await this.done(),Object.values(de(this,sf,"f"))}async finalMessages(){return await this.done(),Object.values(de(this,rB,"f"))}async finalRun(){if(await this.done(),!de(this,bv,"f"))throw Error("Final run was not received.");return de(this,bv,"f")}async _createThreadAssistantStream(e,r,n){let i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));let o={...r,stream:!0},s=await e.createAndRun(o,{...n,signal:this.controller.signal});this._connected();for await(let a of s)de(this,ds,"m",GR).call(this,a);if(s.controller.signal?.aborted)throw new go;return this._addRun(de(this,ds,"m",jR).call(this))}async _createAssistantStream(e,r,n,i){let o=i?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));let s={...n,stream:!0},a=await e.create(r,s,{...i,signal:this.controller.signal});this._connected();for await(let c of a)de(this,ds,"m",GR).call(this,c);if(a.controller.signal?.aborted)throw new go;return this._addRun(de(this,ds,"m",jR).call(this))}static accumulateDelta(e,r){for(let[n,i]of Object.entries(r)){if(!e.hasOwnProperty(n)){e[n]=i;continue}let o=e[n];if(o==null){e[n]=i;continue}if(n==="index"||n==="type"){e[n]=i;continue}if(typeof o=="string"&&typeof i=="string")o+=i;else if(typeof o=="number"&&typeof i=="number")o+=i;else if(IR(o)&&IR(i))o=this.accumulateDelta(o,i);else if(Array.isArray(o)&&Array.isArray(i)){if(o.every(s=>typeof s=="string"||typeof s=="number")){o.push(...i);continue}for(let s of i){if(!IR(s))throw new Error(`Expected array delta entry to be an object but got: ${s}`);let a=s.index;if(a==null)throw console.error(s),new Error("Expected array delta entry to have an `index` property");if(typeof a!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${a}`);let c=o[a];c==null?o.push(s):o[a]=this.accumulateDelta(c,s)}continue}else throw Error(`Unhandled record type: ${n}, deltaValue: ${i}, accValue: ${o}`);e[n]=o}return e}_addRun(e){return e}async _threadAssistantStream(e,r,n){return await this._createThreadAssistantStream(r,e,n)}async _runAssistantStream(e,r,n,i){return await this._createAssistantStream(r,e,n,i)}async _runToolAssistantStream(e,r,n,i){return await this._createToolAssistantStream(r,e,n,i)}};yv=Km,GR=function(e){if(!this.ended)switch(Mt(this,nB,e,"f"),de(this,ds,"m",Bze).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":de(this,ds,"m",zze).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":de(this,ds,"m",Lze).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":de(this,ds,"m",Mze).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier");default:}},jR=function(){if(this.ended)throw new ht("stream has ended, this shouldn't happen");if(!de(this,bv,"f"))throw Error("Final run has not been received");return de(this,bv,"f")},Mze=function(e){let[r,n]=de(this,ds,"m",Uze).call(this,e,de(this,Md,"f"));Mt(this,Md,r,"f"),de(this,rB,"f")[r.id]=r;for(let i of n){let o=r.content[i.index];o?.type=="text"&&this._emit("textCreated",o.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,r),e.data.delta.content)for(let i of e.data.delta.content){if(i.type=="text"&&i.text){let o=i.text,s=r.content[i.index];if(s&&s.type=="text")this._emit("textDelta",o,s.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(i.index!=de(this,uA,"f")){if(de(this,gv,"f"))switch(de(this,gv,"f").type){case"text":this._emit("textDone",de(this,gv,"f").text,de(this,Md,"f"));break;case"image_file":this._emit("imageFileDone",de(this,gv,"f").image_file,de(this,Md,"f"));break}Mt(this,uA,i.index,"f")}Mt(this,gv,r.content[i.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(de(this,uA,"f")!==void 0){let i=e.data.content[de(this,uA,"f")];if(i)switch(i.type){case"image_file":this._emit("imageFileDone",i.image_file,de(this,Md,"f"));break;case"text":this._emit("textDone",i.text,de(this,Md,"f"));break}}de(this,Md,"f")&&this._emit("messageDone",e.data),Mt(this,Md,void 0,"f")}},Lze=function(e){let r=de(this,ds,"m",$ze).call(this,e);switch(Mt(this,qR,r,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":let n=e.data.delta;if(n.step_details&&n.step_details.type=="tool_calls"&&n.step_details.tool_calls&&r.step_details.type=="tool_calls")for(let o of n.step_details.tool_calls)o.index==de(this,oB,"f")?this._emit("toolCallDelta",o,r.step_details.tool_calls[o.index]):(de(this,ol,"f")&&this._emit("toolCallDone",de(this,ol,"f")),Mt(this,oB,o.index,"f"),Mt(this,ol,r.step_details.tool_calls[o.index],"f"),de(this,ol,"f")&&this._emit("toolCallCreated",de(this,ol,"f")));this._emit("runStepDelta",e.data.delta,r);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Mt(this,qR,void 0,"f"),e.data.step_details.type=="tool_calls"&&de(this,ol,"f")&&(this._emit("toolCallDone",de(this,ol,"f")),Mt(this,ol,void 0,"f")),this._emit("runStepDone",e.data,r);break;case"thread.run.step.in_progress":break}},Bze=function(e){de(this,eae,"f").push(e),this._emit("event",e)},$ze=function(e){switch(e.event){case"thread.run.step.created":return de(this,sf,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let r=de(this,sf,"f")[e.data.id];if(!r)throw Error("Received a RunStepDelta before creation of a snapshot");let n=e.data;if(n.delta){let i=yv.accumulateDelta(r,n.delta);de(this,sf,"f")[e.data.id]=i}return de(this,sf,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":de(this,sf,"f")[e.data.id]=e.data;break}if(de(this,sf,"f")[e.data.id])return de(this,sf,"f")[e.data.id];throw new Error("No snapshot available")},Uze=function(e,r){let n=[];switch(e.event){case"thread.message.created":return[e.data,n];case"thread.message.delta":if(!r)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=e.data;if(i.delta.content)for(let o of i.delta.content)if(o.index in r.content){let s=r.content[o.index];r.content[o.index]=de(this,ds,"m",Fze).call(this,o,s)}else r.content[o.index]=o,n.push(o);return[r,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(r)return[r,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Fze=function(e,r){return yv.accumulateDelta(r,e)},zze=function(e){switch(Mt(this,iB,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":Mt(this,bv,e.data,"f"),de(this,ol,"f")&&(this._emit("toolCallDone",de(this,ol,"f")),Mt(this,ol,void 0,"f"));break;case"thread.run.cancelling":break}};var vv=class extends Ne{constructor(){super(...arguments),this.steps=new lA(this._client)}create(e,r,n){let{include:i,...o}=r;return this._client.post(Te`/threads/${e}/runs`,{query:{include:i},body:o,...n,headers:Xe([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:r.stream??!1})}retrieve(e,r,n){let{thread_id:i}=r;return this._client.get(Te`/threads/${i}/runs/${e}`,{...n,headers:Xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,r,n){let{thread_id:i,...o}=r;return this._client.post(Te`/threads/${i}/runs/${e}`,{body:o,...n,headers:Xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,r={},n){return this._client.getAPIList(Te`/threads/${e}/runs`,yr,{query:r,...n,headers:Xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}cancel(e,r,n){let{thread_id:i}=r;return this._client.post(Te`/threads/${i}/runs/${e}/cancel`,{...n,headers:Xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(e,r,n){let i=await this.create(e,r,n);return await this.poll(i.id,{thread_id:e},n)}createAndStream(e,r,n){return Km.createAssistantStream(e,this._client.beta.threads.runs,r,n)}async poll(e,r,n){let i=Xe([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){let{data:o,response:s}=await this.retrieve(e,r,{...n,headers:{...n?.headers,...i}}).withResponse();switch(o.status){case"queued":case"in_progress":case"cancelling":let a=5e3;if(n?.pollIntervalMs)a=n.pollIntervalMs;else{let c=s.headers.get("openai-poll-after-ms");if(c){let l=parseInt(c);isNaN(l)||(a=l)}}await ef(a);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return o}}}stream(e,r,n){return Km.createAssistantStream(e,this._client.beta.threads.runs,r,n)}submitToolOutputs(e,r,n){let{thread_id:i,...o}=r;return this._client.post(Te`/threads/${i}/runs/${e}/submit_tool_outputs`,{body:o,...n,headers:Xe([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:r.stream??!1})}async submitToolOutputsAndPoll(e,r,n){let i=await this.submitToolOutputs(e,r,n);return await this.poll(i.id,r,n)}submitToolOutputsStream(e,r,n){return Km.createToolAssistantStream(e,this._client.beta.threads.runs,r,n)}};vv.Steps=lA;var K0=class extends Ne{constructor(){super(...arguments),this.runs=new vv(this._client),this.messages=new cA(this._client)}create(e={},r){return this._client.post("/threads",{body:e,...r,headers:Xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(e,r){return this._client.get(Te`/threads/${e}`,{...r,headers:Xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(e,r,n){return this._client.post(Te`/threads/${e}`,{body:r,...n,headers:Xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,r){return this._client.delete(Te`/threads/${e}`,{...r,headers:Xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}createAndRun(e,r){return this._client.post("/threads/runs",{body:e,...r,headers:Xe([{"OpenAI-Beta":"assistants=v2"},r?.headers]),stream:e.stream??!1})}async createAndRunPoll(e,r){let n=await this.createAndRun(e,r);return await this.runs.poll(n.id,{thread_id:n.thread_id},r)}createAndRunStream(e,r){return Km.createThreadAssistantStream(e,this._client.beta.threads,r)}};K0.Runs=vv;K0.Messages=cA;var Ld=class extends Ne{constructor(){super(...arguments),this.realtime=new q0(this._client),this.chatkit=new J0(this._client),this.assistants=new nA(this._client),this.threads=new K0(this._client)}};Ld.Realtime=q0;Ld.ChatKit=J0;Ld.Assistants=nA;Ld.Threads=K0;var _v=class extends Ne{create(e,r){return this._client.post("/completions",{body:e,...r,stream:e.stream??!1})}};var dA=class extends Ne{retrieve(e,r,n){let{container_id:i}=r;return this._client.get(Te`/containers/${i}/files/${e}/content`,{...n,headers:Xe([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}};var xv=class extends Ne{constructor(){super(...arguments),this.content=new dA(this._client)}create(e,r,n){return this._client.post(Te`/containers/${e}/files`,il({body:r,...n},this._client))}retrieve(e,r,n){let{container_id:i}=r;return this._client.get(Te`/containers/${i}/files/${e}`,n)}list(e,r={},n){return this._client.getAPIList(Te`/containers/${e}/files`,yr,{query:r,...n})}delete(e,r,n){let{container_id:i}=r;return this._client.delete(Te`/containers/${i}/files/${e}`,{...n,headers:Xe([{Accept:"*/*"},n?.headers])})}};xv.Content=dA;var Q0=class extends Ne{constructor(){super(...arguments),this.files=new xv(this._client)}create(e,r){return this._client.post("/containers",{body:e,...r})}retrieve(e,r){return this._client.get(Te`/containers/${e}`,r)}list(e={},r){return this._client.getAPIList("/containers",yr,{query:e,...r})}delete(e,r){return this._client.delete(Te`/containers/${e}`,{...r,headers:Xe([{Accept:"*/*"},r?.headers])})}};Q0.Files=xv;var pA=class extends Ne{create(e,r,n){let{include:i,...o}=r;return this._client.post(Te`/conversations/${e}/items`,{query:{include:i},body:o,...n})}retrieve(e,r,n){let{conversation_id:i,...o}=r;return this._client.get(Te`/conversations/${i}/items/${e}`,{query:o,...n})}list(e,r={},n){return this._client.getAPIList(Te`/conversations/${e}/items`,jm,{query:r,...n})}delete(e,r,n){let{conversation_id:i}=r;return this._client.delete(Te`/conversations/${i}/items/${e}`,n)}};var X0=class extends Ne{constructor(){super(...arguments),this.items=new pA(this._client)}create(e={},r){return this._client.post("/conversations",{body:e,...r})}retrieve(e,r){return this._client.get(Te`/conversations/${e}`,r)}update(e,r,n){return this._client.post(Te`/conversations/${e}`,{body:r,...n})}delete(e,r){return this._client.delete(Te`/conversations/${e}`,r)}};X0.Items=pA;var Sv=class extends Ne{create(e,r){let n=!!e.encoding_format,i=n?e.encoding_format:"base64";n&&Gi(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);let o=this._client.post("/embeddings",{body:{...e,encoding_format:i},...r});return n?o:(Gi(this._client).debug("embeddings/decoding base64 embeddings from base64"),o._thenUnwrap(s=>(s&&s.data&&s.data.forEach(a=>{let c=a.embedding;a.embedding=Dze(c)}),s)))}};var fA=class extends Ne{retrieve(e,r,n){let{eval_id:i,run_id:o}=r;return this._client.get(Te`/evals/${i}/runs/${o}/output_items/${e}`,n)}list(e,r,n){let{eval_id:i,...o}=r;return this._client.getAPIList(Te`/evals/${i}/runs/${e}/output_items`,yr,{query:o,...n})}};var wv=class extends Ne{constructor(){super(...arguments),this.outputItems=new fA(this._client)}create(e,r,n){return this._client.post(Te`/evals/${e}/runs`,{body:r,...n})}retrieve(e,r,n){let{eval_id:i}=r;return this._client.get(Te`/evals/${i}/runs/${e}`,n)}list(e,r={},n){return this._client.getAPIList(Te`/evals/${e}/runs`,yr,{query:r,...n})}delete(e,r,n){let{eval_id:i}=r;return this._client.delete(Te`/evals/${i}/runs/${e}`,n)}cancel(e,r,n){let{eval_id:i}=r;return this._client.post(Te`/evals/${i}/runs/${e}`,n)}};wv.OutputItems=fA;var Y0=class extends Ne{constructor(){super(...arguments),this.runs=new wv(this._client)}create(e,r){return this._client.post("/evals",{body:e,...r})}retrieve(e,r){return this._client.get(Te`/evals/${e}`,r)}update(e,r,n){return this._client.post(Te`/evals/${e}`,{body:r,...n})}list(e={},r){return this._client.getAPIList("/evals",yr,{query:e,...r})}delete(e,r){return this._client.delete(Te`/evals/${e}`,r)}};Y0.Runs=wv;var Av=class extends Ne{create(e,r){return this._client.post("/files",il({body:e,...r},this._client))}retrieve(e,r){return this._client.get(Te`/files/${e}`,r)}list(e={},r){return this._client.getAPIList("/files",yr,{query:e,...r})}delete(e,r){return this._client.delete(Te`/files/${e}`,r)}content(e,r){return this._client.get(Te`/files/${e}/content`,{...r,headers:Xe([{Accept:"application/binary"},r?.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:r=5e3,maxWait:n=1800*1e3}={}){let i=new Set(["processed","error","deleted"]),o=Date.now(),s=await this.retrieve(e);for(;!s.status||!i.has(s.status);)if(await ef(r),s=await this.retrieve(e),Date.now()-o>n)throw new z0({message:`Giving up on waiting for file ${e} to finish processing after ${n} milliseconds.`});return s}};var mA=class extends Ne{};var hA=class extends Ne{run(e,r){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...r})}validate(e,r){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...r})}};var Ev=class extends Ne{constructor(){super(...arguments),this.graders=new hA(this._client)}};Ev.Graders=hA;var gA=class extends Ne{create(e,r,n){return this._client.getAPIList(Te`/fine_tuning/checkpoints/${e}/permissions`,nf,{body:r,method:"post",...n})}retrieve(e,r={},n){return this._client.get(Te`/fine_tuning/checkpoints/${e}/permissions`,{query:r,...n})}delete(e,r,n){let{fine_tuned_model_checkpoint:i}=r;return this._client.delete(Te`/fine_tuning/checkpoints/${i}/permissions/${e}`,n)}};var Tv=class extends Ne{constructor(){super(...arguments),this.permissions=new gA(this._client)}};Tv.Permissions=gA;var yA=class extends Ne{list(e,r={},n){return this._client.getAPIList(Te`/fine_tuning/jobs/${e}/checkpoints`,yr,{query:r,...n})}};var Rv=class extends Ne{constructor(){super(...arguments),this.checkpoints=new yA(this._client)}create(e,r){return this._client.post("/fine_tuning/jobs",{body:e,...r})}retrieve(e,r){return this._client.get(Te`/fine_tuning/jobs/${e}`,r)}list(e={},r){return this._client.getAPIList("/fine_tuning/jobs",yr,{query:e,...r})}cancel(e,r){return this._client.post(Te`/fine_tuning/jobs/${e}/cancel`,r)}listEvents(e,r={},n){return this._client.getAPIList(Te`/fine_tuning/jobs/${e}/events`,yr,{query:r,...n})}pause(e,r){return this._client.post(Te`/fine_tuning/jobs/${e}/pause`,r)}resume(e,r){return this._client.post(Te`/fine_tuning/jobs/${e}/resume`,r)}};Rv.Checkpoints=yA;var Bd=class extends Ne{constructor(){super(...arguments),this.methods=new mA(this._client),this.jobs=new Rv(this._client),this.checkpoints=new Tv(this._client),this.alpha=new Ev(this._client)}};Bd.Methods=mA;Bd.Jobs=Rv;Bd.Checkpoints=Tv;Bd.Alpha=Ev;var bA=class extends Ne{};var Z0=class extends Ne{constructor(){super(...arguments),this.graderModels=new bA(this._client)}};Z0.GraderModels=bA;var Iv=class extends Ne{createVariation(e,r){return this._client.post("/images/variations",il({body:e,...r},this._client))}edit(e,r){return this._client.post("/images/edits",il({body:e,...r,stream:e.stream??!1},this._client))}generate(e,r){return this._client.post("/images/generations",{body:e,...r,stream:e.stream??!1})}};var Cv=class extends Ne{retrieve(e,r){return this._client.get(Te`/models/${e}`,r)}list(e){return this._client.getAPIList("/models",nf,e)}delete(e,r){return this._client.delete(Te`/models/${e}`,r)}};var Nv=class extends Ne{create(e,r){return this._client.post("/moderations",{body:e,...r})}};var vA=class extends Ne{accept(e,r,n){return this._client.post(Te`/realtime/calls/${e}/accept`,{body:r,...n,headers:Xe([{Accept:"*/*"},n?.headers])})}hangup(e,r){return this._client.post(Te`/realtime/calls/${e}/hangup`,{...r,headers:Xe([{Accept:"*/*"},r?.headers])})}refer(e,r,n){return this._client.post(Te`/realtime/calls/${e}/refer`,{body:r,...n,headers:Xe([{Accept:"*/*"},n?.headers])})}reject(e,r={},n){return this._client.post(Te`/realtime/calls/${e}/reject`,{body:r,...n,headers:Xe([{Accept:"*/*"},n?.headers])})}};var _A=class extends Ne{create(e,r){return this._client.post("/realtime/client_secrets",{body:e,...r})}};var Qm=class extends Ne{constructor(){super(...arguments),this.clientSecrets=new _A(this._client),this.calls=new vA(this._client)}};Qm.ClientSecrets=_A;Qm.Calls=vA;function Vze(t,e){return!e||!COt(e)?{...t,output_parsed:null,output:t.output.map(r=>r.type==="function_call"?{...r,parsed_arguments:null}:r.type==="message"?{...r,content:r.content.map(n=>({...n,parsed:null}))}:r)}:tae(t,e)}function tae(t,e){let r=t.output.map(i=>{if(i.type==="function_call")return{...i,parsed_arguments:POt(e,i)};if(i.type==="message"){let o=i.content.map(s=>s.type==="output_text"?{...s,parsed:IOt(e,s.text)}:s);return{...i,content:o}}return i}),n=Object.assign({},t,{output:r});return Object.getOwnPropertyDescriptor(t,"output_text")||sB(n),Object.defineProperty(n,"output_parsed",{enumerable:!0,get(){for(let i of n.output)if(i.type==="message"){for(let o of i.content)if(o.type==="output_text"&&o.parsed!==null)return o.parsed}return null}}),n}function IOt(t,e){return t.text?.format?.type!=="json_schema"?null:"$parseRaw"in t.text?.format?(t.text?.format).$parseRaw(e):JSON.parse(e)}function COt(t){return!!LR(t.text?.format)}function NOt(t){return t?.$brand==="auto-parseable-tool"}function OOt(t,e){return t.find(r=>r.type==="function"&&r.name===e)}function POt(t,e){let r=OOt(t.tools??[],e.name);return{...e,...e,parsed_arguments:NOt(r)?r.$parseRaw(e.arguments):r?.strict?JSON.parse(e.arguments):null}}function sB(t){let e=[];for(let r of t.output)if(r.type==="message")for(let n of r.content)n.type==="output_text"&&e.push(n.text);t.output_text=e.join("")}var xA,aB,e1,cB,Hze,Gze,jze,qze,lB=class t extends H0{constructor(e){super(),xA.add(this),aB.set(this,void 0),e1.set(this,void 0),cB.set(this,void 0),Mt(this,aB,e,"f")}static createResponse(e,r,n){let i=new t(r);return i._run(()=>i._createOrRetrieveResponse(e,r,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createOrRetrieveResponse(e,r,n){let i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),de(this,xA,"m",Hze).call(this);let o,s=null;"response_id"in r?(o=await e.responses.retrieve(r.response_id,{stream:!0},{...n,signal:this.controller.signal,stream:!0}),s=r.starting_after??null):o=await e.responses.create({...r,stream:!0},{...n,signal:this.controller.signal}),this._connected();for await(let a of o)de(this,xA,"m",Gze).call(this,a,s);if(o.controller.signal?.aborted)throw new go;return de(this,xA,"m",jze).call(this)}[(aB=new WeakMap,e1=new WeakMap,cB=new WeakMap,xA=new WeakSet,Hze=function(){this.ended||Mt(this,e1,void 0,"f")},Gze=function(r,n){if(this.ended)return;let i=(s,a)=>{(n==null||a.sequence_number>n)&&this._emit(s,a)},o=de(this,xA,"m",qze).call(this,r);switch(i("event",r),r.type){case"response.output_text.delta":{let s=o.output[r.output_index];if(!s)throw new ht(`missing output at index ${r.output_index}`);if(s.type==="message"){let a=s.content[r.content_index];if(!a)throw new ht(`missing content at index ${r.content_index}`);if(a.type!=="output_text")throw new ht(`expected content to be 'output_text', got ${a.type}`);i("response.output_text.delta",{...r,snapshot:a.text})}break}case"response.function_call_arguments.delta":{let s=o.output[r.output_index];if(!s)throw new ht(`missing output at index ${r.output_index}`);s.type==="function_call"&&i("response.function_call_arguments.delta",{...r,snapshot:s.arguments});break}default:i(r.type,r);break}},jze=function(){if(this.ended)throw new ht("stream has ended, this shouldn't happen");let r=de(this,e1,"f");if(!r)throw new ht("request ended without sending any events");Mt(this,e1,void 0,"f");let n=kOt(r,de(this,aB,"f"));return Mt(this,cB,n,"f"),n},qze=function(r){let n=de(this,e1,"f");if(!n){if(r.type!=="response.created")throw new ht(`When snapshot hasn't been set yet, expected 'response.created' event, got ${r.type}`);return n=Mt(this,e1,r.response,"f"),n}switch(r.type){case"response.output_item.added":{n.output.push(r.item);break}case"response.content_part.added":{let i=n.output[r.output_index];if(!i)throw new ht(`missing output at index ${r.output_index}`);let o=i.type,s=r.part;o==="message"&&s.type!=="reasoning_text"?i.content.push(s):o==="reasoning"&&s.type==="reasoning_text"&&(i.content||(i.content=[]),i.content.push(s));break}case"response.output_text.delta":{let i=n.output[r.output_index];if(!i)throw new ht(`missing output at index ${r.output_index}`);if(i.type==="message"){let o=i.content[r.content_index];if(!o)throw new ht(`missing content at index ${r.content_index}`);if(o.type!=="output_text")throw new ht(`expected content to be 'output_text', got ${o.type}`);o.text+=r.delta}break}case"response.function_call_arguments.delta":{let i=n.output[r.output_index];if(!i)throw new ht(`missing output at index ${r.output_index}`);i.type==="function_call"&&(i.arguments+=r.delta);break}case"response.reasoning_text.delta":{let i=n.output[r.output_index];if(!i)throw new ht(`missing output at index ${r.output_index}`);if(i.type==="reasoning"){let o=i.content?.[r.content_index];if(!o)throw new ht(`missing content at index ${r.content_index}`);if(o.type!=="reasoning_text")throw new ht(`expected content to be 'reasoning_text', got ${o.type}`);o.text+=r.delta}break}case"response.completed":{Mt(this,e1,r.response,"f");break}}return n},Symbol.asyncIterator)](){let e=[],r=[],n=!1;return this.on("event",i=>{let o=r.shift();o?o.resolve(i):e.push(i)}),this.on("end",()=>{n=!0;for(let i of r)i.resolve(void 0);r.length=0}),this.on("abort",i=>{n=!0;for(let o of r)o.reject(i);r.length=0}),this.on("error",i=>{n=!0;for(let o of r)o.reject(i);r.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((o,s)=>r.push({resolve:o,reject:s})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();let e=de(this,cB,"f");if(!e)throw new ht("stream ended without producing a ChatCompletion");return e}};function kOt(t,e){return Vze(t,e)}var SA=class extends Ne{list(e,r={},n){return this._client.getAPIList(Te`/responses/${e}/input_items`,yr,{query:r,...n})}};var wA=class extends Ne{count(e={},r){return this._client.post("/responses/input_tokens",{body:e,...r})}};var Xm=class extends Ne{constructor(){super(...arguments),this.inputItems=new SA(this._client),this.inputTokens=new wA(this._client)}create(e,r){return this._client.post("/responses",{body:e,...r,stream:e.stream??!1})._thenUnwrap(n=>("object"in n&&n.object==="response"&&sB(n),n))}retrieve(e,r={},n){return this._client.get(Te`/responses/${e}`,{query:r,...n,stream:r?.stream??!1})._thenUnwrap(i=>("object"in i&&i.object==="response"&&sB(i),i))}delete(e,r){return this._client.delete(Te`/responses/${e}`,{...r,headers:Xe([{Accept:"*/*"},r?.headers])})}parse(e,r){return this._client.responses.create(e,r)._thenUnwrap(n=>tae(n,e))}stream(e,r){return lB.createResponse(this._client,e,r)}cancel(e,r){return this._client.post(Te`/responses/${e}/cancel`,r)}compact(e,r){return this._client.post("/responses/compact",{body:e,...r})}};Xm.InputItems=SA;Xm.InputTokens=wA;var AA=class extends Ne{create(e,r,n){return this._client.post(Te`/uploads/${e}/parts`,il({body:r,...n},this._client))}};var t1=class extends Ne{constructor(){super(...arguments),this.parts=new AA(this._client)}create(e,r){return this._client.post("/uploads",{body:e,...r})}cancel(e,r){return this._client.post(Te`/uploads/${e}/cancel`,r)}complete(e,r,n){return this._client.post(Te`/uploads/${e}/complete`,{body:r,...n})}};t1.Parts=AA;var Jze=async t=>{let e=await Promise.allSettled(t),r=e.filter(i=>i.status==="rejected");if(r.length){for(let i of r)console.error(i.reason);throw new Error(`${r.length} promise(s) failed - see the above errors`)}let n=[];for(let i of e)i.status==="fulfilled"&&n.push(i.value);return n};var EA=class extends Ne{create(e,r,n){return this._client.post(Te`/vector_stores/${e}/file_batches`,{body:r,...n,headers:Xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,r,n){let{vector_store_id:i}=r;return this._client.get(Te`/vector_stores/${i}/file_batches/${e}`,{...n,headers:Xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}cancel(e,r,n){let{vector_store_id:i}=r;return this._client.post(Te`/vector_stores/${i}/file_batches/${e}/cancel`,{...n,headers:Xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(e,r,n){let i=await this.create(e,r);return await this.poll(e,i.id,n)}listFiles(e,r,n){let{vector_store_id:i,...o}=r;return this._client.getAPIList(Te`/vector_stores/${i}/file_batches/${e}/files`,yr,{query:o,...n,headers:Xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async poll(e,r,n){let i=Xe([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){let{data:o,response:s}=await this.retrieve(r,{vector_store_id:e},{...n,headers:i}).withResponse();switch(o.status){case"in_progress":let a=5e3;if(n?.pollIntervalMs)a=n.pollIntervalMs;else{let c=s.headers.get("openai-poll-after-ms");if(c){let l=parseInt(c);isNaN(l)||(a=l)}}await ef(a);break;case"failed":case"cancelled":case"completed":return o}}}async uploadAndPoll(e,{files:r,fileIds:n=[]},i){if(r==null||r.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");let o=i?.maxConcurrency??5,s=Math.min(o,r.length),a=this._client,c=r.values(),l=[...n];async function u(p){for(let f of p){let h=await a.files.create({file:f,purpose:"assistants"},i);l.push(h.id)}}let d=Array(s).fill(c).map(u);return await Jze(d),await this.createAndPoll(e,{file_ids:l})}};var TA=class extends Ne{create(e,r,n){return this._client.post(Te`/vector_stores/${e}/files`,{body:r,...n,headers:Xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,r,n){let{vector_store_id:i}=r;return this._client.get(Te`/vector_stores/${i}/files/${e}`,{...n,headers:Xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,r,n){let{vector_store_id:i,...o}=r;return this._client.post(Te`/vector_stores/${i}/files/${e}`,{body:o,...n,headers:Xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,r={},n){return this._client.getAPIList(Te`/vector_stores/${e}/files`,yr,{query:r,...n,headers:Xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,r,n){let{vector_store_id:i}=r;return this._client.delete(Te`/vector_stores/${i}/files/${e}`,{...n,headers:Xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(e,r,n){let i=await this.create(e,r,n);return await this.poll(e,i.id,n)}async poll(e,r,n){let i=Xe([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){let o=await this.retrieve(r,{vector_store_id:e},{...n,headers:i}).withResponse(),s=o.data;switch(s.status){case"in_progress":let a=5e3;if(n?.pollIntervalMs)a=n.pollIntervalMs;else{let c=o.response.headers.get("openai-poll-after-ms");if(c){let l=parseInt(c);isNaN(l)||(a=l)}}await ef(a);break;case"failed":case"completed":return s}}}async upload(e,r,n){let i=await this._client.files.create({file:r,purpose:"assistants"},n);return this.create(e,{file_id:i.id},n)}async uploadAndPoll(e,r,n){let i=await this.upload(e,r,n);return await this.poll(e,i.id,n)}content(e,r,n){let{vector_store_id:i}=r;return this._client.getAPIList(Te`/vector_stores/${i}/files/${e}/content`,nf,{...n,headers:Xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};var Ym=class extends Ne{constructor(){super(...arguments),this.files=new TA(this._client),this.fileBatches=new EA(this._client)}create(e,r){return this._client.post("/vector_stores",{body:e,...r,headers:Xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(e,r){return this._client.get(Te`/vector_stores/${e}`,{...r,headers:Xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(e,r,n){return this._client.post(Te`/vector_stores/${e}`,{body:r,...n,headers:Xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e={},r){return this._client.getAPIList("/vector_stores",yr,{query:e,...r,headers:Xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(e,r){return this._client.delete(Te`/vector_stores/${e}`,{...r,headers:Xe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}search(e,r,n){return this._client.getAPIList(Te`/vector_stores/${e}/search`,nf,{body:r,method:"post",...n,headers:Xe([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};Ym.Files=TA;Ym.FileBatches=EA;var Ov=class extends Ne{create(e,r){return this._client.post("/videos",Bse({body:e,...r},this._client))}retrieve(e,r){return this._client.get(Te`/videos/${e}`,r)}list(e={},r){return this._client.getAPIList("/videos",jm,{query:e,...r})}delete(e,r){return this._client.delete(Te`/videos/${e}`,r)}downloadContent(e,r={},n){return this._client.get(Te`/videos/${e}/content`,{query:r,...n,headers:Xe([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}remix(e,r,n){return this._client.post(Te`/videos/${e}/remix`,Bse({body:r,...n},this._client))}};var RA,Wze,uB,Pv=class extends Ne{constructor(){super(...arguments),RA.add(this)}async unwrap(e,r,n=this._client.webhookSecret,i=300){return await this.verifySignature(e,r,n,i),JSON.parse(e)}async verifySignature(e,r,n=this._client.webhookSecret,i=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");de(this,RA,"m",Wze).call(this,n);let o=Xe([r]).values,s=de(this,RA,"m",uB).call(this,o,"webhook-signature"),a=de(this,RA,"m",uB).call(this,o,"webhook-timestamp"),c=de(this,RA,"m",uB).call(this,o,"webhook-id"),l=parseInt(a,10);if(isNaN(l))throw new Zp("Invalid webhook timestamp format");let u=Math.floor(Date.now()/1e3);if(u-l>i)throw new Zp("Webhook timestamp is too old");if(l>u+i)throw new Zp("Webhook timestamp is too new");let d=s.split(" ").map(m=>m.startsWith("v1,")?m.substring(3):m),p=n.startsWith("whsec_")?Buffer.from(n.replace("whsec_",""),"base64"):Buffer.from(n,"utf-8"),f=c?`${c}.${a}.${e}`:`${a}.${e}`,h=await crypto.subtle.importKey("raw",p,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(let m of d)try{let g=Buffer.from(m,"base64");if(await crypto.subtle.verify("HMAC",h,g,new TextEncoder().encode(f)))return}catch{continue}throw new Zp("The given webhook signature does not match the expected signature")}};RA=new WeakSet,Wze=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},uB=function(e,r){if(!e)throw new Error("Headers are required");let n=e.get(r);if(n==null)throw new Error(`Missing required header: ${r}`);return n};var rae,nae,dB,Kze,Zt=class{constructor({baseURL:e=W0("OPENAI_BASE_URL"),apiKey:r=W0("OPENAI_API_KEY"),organization:n=W0("OPENAI_ORG_ID")??null,project:i=W0("OPENAI_PROJECT_ID")??null,webhookSecret:o=W0("OPENAI_WEBHOOK_SECRET")??null,...s}={}){if(rae.add(this),dB.set(this,void 0),this.completions=new _v(this),this.chat=new j0(this),this.embeddings=new Sv(this),this.files=new Av(this),this.images=new Iv(this),this.audio=new of(this),this.moderations=new Nv(this),this.models=new Cv(this),this.fineTuning=new Bd(this),this.graders=new Z0(this),this.vectorStores=new Ym(this),this.webhooks=new Pv(this),this.beta=new Ld(this),this.batches=new hv(this),this.uploads=new t1(this),this.responses=new Xm(this),this.realtime=new Qm(this),this.conversations=new X0(this),this.evals=new Y0(this),this.containers=new Q0(this),this.videos=new Ov(this),r===void 0)throw new ht("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");let a={apiKey:r,organization:n,project:i,webhookSecret:o,...s,baseURL:e||"https://api.openai.com/v1"};if(!a.dangerouslyAllowBrowser&&rze())throw new ht(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=a.baseURL,this.timeout=a.timeout??nae.DEFAULT_TIMEOUT,this.logger=a.logger??console;let c="warn";this.logLevel=c,this.logLevel=Ose(a.logLevel,"ClientOptions.logLevel",this)??Ose(W0("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??c,this.fetchOptions=a.fetchOptions,this.maxRetries=a.maxRetries??2,this.fetch=a.fetch??ize(),Mt(this,dB,sze,"f"),this._options=a,this.apiKey=typeof r=="string"?r:"Missing Key",this.organization=n,this.project=i,this.webhookSecret=o}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:r}){}async authHeaders(e){return Xe([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return Cse(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${V0}`}defaultIdempotencyKey(){return`stainless-node-retry-${vse()}`}makeStatusError(e,r,n,i){return Co.generate(e,r,n,i)}async _callApiKey(){let e=this._options.apiKey;if(typeof e!="function")return!1;let r;try{r=await e()}catch(n){throw n instanceof ht?n:new ht(`Failed to get token from 'apiKey' function: ${n.message}`,{cause:n})}if(typeof r!="string"||!r)throw new ht(`Expected 'apiKey' function argument to return a string but it returned ${r}`);return this.apiKey=r,!0}buildURL(e,r,n){let i=!de(this,rae,"m",Kze).call(this)&&n||this.baseURL,o=WFe(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return KFe(s)||(r={...s,...r}),typeof r=="object"&&r&&!Array.isArray(r)&&(o.search=this.stringifyQuery(r)),o.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,{url:r,options:n}){}get(e,r){return this.methodRequest("get",e,r)}post(e,r){return this.methodRequest("post",e,r)}patch(e,r){return this.methodRequest("patch",e,r)}put(e,r){return this.methodRequest("put",e,r)}delete(e,r){return this.methodRequest("delete",e,r)}methodRequest(e,r,n){return this.request(Promise.resolve(n).then(i=>({method:e,path:r,...i})))}request(e,r=null){return new dv(this,this.makeRequest(e,r,void 0))}async makeRequest(e,r,n){let i=await e,o=i.maxRetries??this.maxRetries;r==null&&(r=o),await this.prepareOptions(i);let{req:s,url:a,timeout:c}=await this.buildRequest(i,{retryCount:o-r});await this.prepareRequest(s,{url:a,options:i});let l="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),u=n===void 0?"":`, retryOf: ${n}`,d=Date.now();if(Gi(this).debug(`[${l}] sending request`,Gm({retryOfRequestLogID:n,method:i.method,url:a,options:i,headers:s.headers})),i.signal?.aborted)throw new go;let p=new AbortController,f=await this.fetchWithTimeout(a,s,c,p).catch(RR),h=Date.now();if(f instanceof globalThis.Error){let b=`retrying, ${r} attempts remaining`;if(i.signal?.aborted)throw new go;let _=TR(f)||/timed? ?out/i.test(String(f)+("cause"in f?String(f.cause):""));if(r)return Gi(this).info(`[${l}] connection ${_?"timed out":"failed"} - ${b}`),Gi(this).debug(`[${l}] connection ${_?"timed out":"failed"} (${b})`,Gm({retryOfRequestLogID:n,url:a,durationMs:h-d,message:f.message})),this.retryRequest(i,r,n??l);throw Gi(this).info(`[${l}] connection ${_?"timed out":"failed"} - error; no more retries left`),Gi(this).debug(`[${l}] connection ${_?"timed out":"failed"} (error; no more retries left)`,Gm({retryOfRequestLogID:n,url:a,durationMs:h-d,message:f.message})),_?new z0:new F0({cause:f})}let m=[...f.headers.entries()].filter(([b])=>b==="x-request-id").map(([b,_])=>", "+b+": "+JSON.stringify(_)).join(""),g=`[${l}${u}${m}] ${s.method} ${a} ${f.ok?"succeeded":"failed"} with status ${f.status} in ${h-d}ms`;if(!f.ok){let b=await this.shouldRetry(f);if(r&&b){let D=`retrying, ${r} attempts remaining`;return await oze(f.body),Gi(this).info(`${g} - ${D}`),Gi(this).debug(`[${l}] response error (${D})`,Gm({retryOfRequestLogID:n,url:f.url,status:f.status,headers:f.headers,durationMs:h-d})),this.retryRequest(i,r,n??l,f.headers)}let _=b?"error; no more retries left":"error; not retryable";Gi(this).info(`${g} - ${_}`);let x=await f.text().catch(D=>RR(D).message),E=YFe(x),R=E?void 0:x;throw Gi(this).debug(`[${l}] response error (${_})`,Gm({retryOfRequestLogID:n,url:f.url,status:f.status,headers:f.headers,message:R,durationMs:Date.now()-d})),this.makeStatusError(f.status,E,R,f.headers)}return Gi(this).info(g),Gi(this).debug(`[${l}] response start`,Gm({retryOfRequestLogID:n,url:f.url,status:f.status,headers:f.headers,durationMs:h-d})),{response:f,options:i,controller:p,requestLogID:l,retryOfRequestLogID:n,startTime:d}}getAPIList(e,r,n){return this.requestAPIList(r,{method:"get",path:e,...n})}requestAPIList(e,r){let n=this.makeRequest(r,null,void 0);return new kR(this,n,e)}async fetchWithTimeout(e,r,n,i){let{signal:o,method:s,...a}=r||{};o&&o.addEventListener("abort",()=>i.abort());let c=setTimeout(()=>i.abort(),n),l=globalThis.ReadableStream&&a.body instanceof globalThis.ReadableStream||typeof a.body=="object"&&a.body!==null&&Symbol.asyncIterator in a.body,u={signal:i.signal,...l?{duplex:"half"}:{},method:"GET",...a};s&&(u.method=s.toUpperCase());try{return await this.fetch.call(void 0,e,u)}finally{clearTimeout(c)}}async shouldRetry(e){let r=e.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,r,n,i){let o,s=i?.get("retry-after-ms");if(s){let c=parseFloat(s);Number.isNaN(c)||(o=c)}let a=i?.get("retry-after");if(a&&!o){let c=parseFloat(a);Number.isNaN(c)?o=Date.parse(a)-Date.now():o=c*1e3}if(!(o&&0<=o&&o<60*1e3)){let c=e.maxRetries??this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(r,c)}return await ef(o),this.makeRequest(e,r-1,n)}calculateDefaultRetryTimeoutMillis(e,r){let o=r-e,s=Math.min(.5*Math.pow(2,o),8),a=1-Math.random()*.25;return s*a*1e3}async buildRequest(e,{retryCount:r=0}={}){let n={...e},{method:i,path:o,query:s,defaultBaseURL:a}=n,c=this.buildURL(o,s,a);"timeout"in n&&XFe("timeout",n.timeout),n.timeout=n.timeout??this.timeout;let{bodyHeaders:l,body:u}=this.buildBody({options:n}),d=await this.buildHeaders({options:e,method:i,bodyHeaders:l,retryCount:r});return{req:{method:i,headers:d,...n.signal&&{signal:n.signal},...globalThis.ReadableStream&&u instanceof globalThis.ReadableStream&&{duplex:"half"},...u&&{body:u},...this.fetchOptions??{},...n.fetchOptions??{}},url:c,timeout:n.timeout}}async buildHeaders({options:e,method:r,bodyHeaders:n,retryCount:i}){let o={};this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);let s=Xe([o,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...nze(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,n,e.headers]);return this.validateHeaders(s),s.values}buildBody({options:{body:e,headers:r}}){if(!e)return{bodyHeaders:void 0,body:void 0};let n=Xe([r]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&n.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:BL(e)}:de(this,dB,"f").call(this,{body:e,headers:n})}};nae=Zt,dB=new WeakMap,rae=new WeakSet,Kze=function(){return this.baseURL!=="https://api.openai.com/v1"};Zt.OpenAI=nae;Zt.DEFAULT_TIMEOUT=6e5;Zt.OpenAIError=ht;Zt.APIError=Co;Zt.APIConnectionError=F0;Zt.APIConnectionTimeoutError=z0;Zt.APIUserAbortError=go;Zt.NotFoundError=zw;Zt.ConflictError=Vw;Zt.RateLimitError=Gw;Zt.BadRequestError=$w;Zt.AuthenticationError=Uw;Zt.InternalServerError=jw;Zt.PermissionDeniedError=Fw;Zt.UnprocessableEntityError=Hw;Zt.InvalidWebhookSignatureError=Zp;Zt.toFile=qL;Zt.Completions=_v;Zt.Chat=j0;Zt.Embeddings=Sv;Zt.Files=Av;Zt.Images=Iv;Zt.Audio=of;Zt.Moderations=Nv;Zt.Models=Cv;Zt.FineTuning=Bd;Zt.Graders=Z0;Zt.VectorStores=Ym;Zt.Webhooks=Pv;Zt.Beta=Ld;Zt.Batches=hv;Zt.Uploads=t1;Zt.Responses=Xm;Zt.Realtime=Qm;Zt.Conversations=X0;Zt.Evals=Y0;Zt.Containers=Q0;Zt.Videos=Ov;function Qze(){let t=null;return()=>{if(!t){let e=process.env.ANTHROPIC_API_KEY;if(!e)throw new Error("ANTHROPIC_API_KEY environment variable is not set. Claude agent cannot trade.");t=new Ou({apiKey:e})}return t}}function Xze(){let t=null;return()=>{if(!t){let e=process.env.OPENAI_API_KEY;if(!e)throw new Error("OPENAI_API_KEY environment variable is not set. GPT agent cannot trade.");t=new Zt({apiKey:e})}return t}}function Yze(){let t=null;return()=>{if(!t){let e=process.env.XAI_API_KEY;if(!e)throw new Error("XAI_API_KEY environment variable is not set. Grok agent cannot trade.");t=new Zt({apiKey:e,baseURL:"https://api.x.ai/v1"})}return t}}var FOt={agentId:"claude-value-investor",name:"Haiku 4.5",model:"claude-haiku-4-5-20251101",provider:"anthropic",description:"Autonomous trading agent powered by Anthropic Claude Haiku 4.5.",personality:"Autonomous AI trader. Develops its own strategy from market data.",tradingStyle:"Self-directed \u2014 uses tools to research and form its own views.",riskTolerance:"moderate",maxPositionSize:25,maxPortfolioAllocation:80,temperature:.3,skillOverrides:{AGENT_NAME:"Haiku 4.5"}},iae=class extends k0{getClient;constructor(){super(FOt),this.getClient=Qze()}getProviderTools(){return rFe()}buildInitialMessages(e){return[{role:"user",content:e}]}appendToolResults(e,r,n){let i=[];r.textResponse&&i.push({type:"text",text:r.textResponse});for(let s of r.toolCalls)i.push({type:"tool_use",id:s.id,name:s.name,input:s.arguments});let o=n.map(s=>({type:"tool_result",tool_use_id:s.toolCallId,content:s.result}));return[...e,{role:"assistant",content:i},{role:"user",content:o}]}async callWithTools(e,r,n){let o=await this.getClient().messages.create({model:this.config.model,max_tokens:2048,system:e,messages:r,tools:n,temperature:this.config.temperature}),s=[],a=null;for(let l of o.content)l.type==="tool_use"?s.push({id:l.id,name:l.name,arguments:l.input}):l.type==="text"&&(a=(a??"")+l.text);let c="end_turn";return o.stop_reason==="tool_use"?c="tool_use":o.stop_reason==="max_tokens"&&(c="max_tokens"),{toolCalls:s,textResponse:a,stopReason:c}}},Zze=new iae;function pB(t){return[{role:"user",content:t}]}function fB(t,e,r){let n={role:"assistant",content:e.textResponse??null,tool_calls:e.toolCalls.map(o=>({id:o.id,type:"function",function:{name:o.name,arguments:JSON.stringify(o.arguments)}}))},i=r.map(o=>({role:"tool",tool_call_id:o.toolCallId,content:o.result}));return[...t,n,...i]}function zOt(t){let e=t.choices[0];if(!e)return{toolCalls:[],textResponse:null,stopReason:"end_turn"};let r=e.message,n=(r.tool_calls??[]).filter(o=>o.type==="function").map(o=>({id:o.id,name:o.function.name,arguments:JSON.parse(o.function.arguments||"{}")})),i="end_turn";return e.finish_reason==="tool_calls"?i="tool_use":e.finish_reason==="length"&&(i="max_tokens"),{toolCalls:n,textResponse:r.content??null,stopReason:i}}function mB(t,e,r){return async(n,i,o)=>{let a=await t().chat.completions.create({model:e,max_tokens:2048,temperature:r,messages:[{role:"system",content:n},...i],tools:o});return zOt(a)}}var VOt={agentId:"gpt-momentum-trader",name:"GPT-4o-mini",model:"gpt-4o-mini",provider:"openai",description:"Autonomous trading agent powered by OpenAI GPT-4o-mini.",personality:"Autonomous AI trader. Develops its own strategy from market data.",tradingStyle:"Self-directed \u2014 uses tools to research and form its own views.",riskTolerance:"moderate",maxPositionSize:25,maxPortfolioAllocation:80,temperature:.5,skillOverrides:{AGENT_NAME:"GPT-4o-mini"}},oae=class extends k0{callWithTools;constructor(){super(VOt);let e=Xze();this.callWithTools=mB(e,this.config.model,this.config.temperature)}getProviderTools(){return aL()}buildInitialMessages(e){return pB(e)}appendToolResults(e,r,n){return fB(e,r,n)}},eVe=new oae;var HOt={agentId:"grok-contrarian",name:"Grok Beta",model:"grok-beta",provider:"xai",description:"Autonomous trading agent powered by xAI Grok Beta.",personality:"Autonomous AI trader. Develops its own strategy from market data.",tradingStyle:"Self-directed \u2014 uses tools to research and form its own views.",riskTolerance:"moderate",maxPositionSize:25,maxPortfolioAllocation:80,temperature:.6,skillOverrides:{AGENT_NAME:"Grok Beta"}},sae=class extends k0{callWithTools;constructor(){super(HOt);let e=Yze();this.callWithTools=mB(e,this.config.model,this.config.temperature)}getProviderTools(){return aL()}buildInitialMessages(e){return pB(e)}appendToolResults(e,r,n){return fB(e,r,n)}},tVe=new sae;var eQe=process.env.AGENT_STATE_TABLE||"moltapp-agent-state",tQe="TRADING_LOCK",_i=null;function rQe(){return`lock_${Date.now()}_${Math.random().toString(36).slice(2,8)}`}function nQe(){return _i?Date.now()>_i.expiresAt:!0}async function gzt(t){if(_i&&!nQe())return console.log(`[TradingLock] Lock already held by "${_i.holderInfo}" (acquired ${new Date(_i.acquiredAt).toISOString()}). Skipping.`),{acquired:!1,lockId:null,existingLock:{lockId:_i.lockId,acquiredAt:new Date(_i.acquiredAt).toISOString(),expiresAt:new Date(_i.expiresAt).toISOString(),holderInfo:_i.holderInfo,isExpired:!1}};let e=await bzt(t);if(e!==null)return e;let r=rQe(),n=Date.now();return _i={lockId:r,acquiredAt:n,expiresAt:n+15e5,holderInfo:t},console.log(`[TradingLock] Lock acquired: ${r} by "${t}" (expires ${new Date(_i.expiresAt).toISOString()})`),{acquired:!0,lockId:r,existingLock:null}}async function yzt(t){if(!_i||_i.lockId!==t)return console.warn(`[TradingLock] Cannot release: lock ${t} not found or doesn't match current lock`),!1;let e=_i.holderInfo;return _i=null,await vzt(t),console.log(`[TradingLock] Lock released: ${t} (was held by "${e}")`),!0}function MI(){return _i?nQe()?(console.log(`[TradingLock] Lock ${_i.lockId} expired, auto-releasing`),_i=null,{isLocked:!1,lock:null}):{isLocked:!0,lock:{lockId:_i.lockId,acquiredAt:new Date(_i.acquiredAt).toISOString(),expiresAt:new Date(_i.expiresAt).toISOString(),holderInfo:_i.holderInfo,isExpired:!1}}:{isLocked:!1,lock:null}}async function iQe(t,e){let r=await gzt(t);if(!r.acquired||!r.lockId)return console.log(`[TradingLock] Could not acquire lock for "${t}". Skipping execution.`),null;let n=r.lockId;try{return{result:await e(),lockId:n}}finally{await yzt(n)}}async function bzt(t){if(!process.env.AWS_LAMBDA_FUNCTION_NAME)return null;try{let{DynamoDBClient:e,PutItemCommand:r}=await Promise.resolve().then(()=>(ZB(),lde)),n=new e({}),i=rQe(),o=Date.now(),s=o+15e5,a=Math.floor(s/1e3);return await n.send(new r({TableName:eQe,Item:{agentId:{S:tQe},lockId:{S:i},acquiredAt:{S:new Date(o).toISOString()},expiresAt:{S:new Date(s).toISOString()},holderInfo:{S:t},ttl:{N:String(a)},status:{S:"active"},lastTradeTimestamp:{S:new Date(o).toISOString()}},ConditionExpression:"attribute_not_exists(agentId) OR expiresAt < :now",ExpressionAttributeValues:{":now":{S:new Date(o).toISOString()}}})),_i={lockId:i,acquiredAt:o,expiresAt:s,holderInfo:t},console.log(`[TradingLock] DynamoDB lock acquired: ${i} by "${t}"`),{acquired:!0,lockId:i,existingLock:null}}catch(e){return e instanceof Error&&e.name==="ConditionalCheckFailedException"?(console.log("[TradingLock] DynamoDB lock held by another instance. Skipping."),{acquired:!1,lockId:null,existingLock:null}):(console.warn(`[TradingLock] DynamoDB lock failed, falling back to in-memory: ${e instanceof Error?e.message:String(e)}`),null)}}async function vzt(t){if(process.env.AWS_LAMBDA_FUNCTION_NAME)try{let{DynamoDBClient:e,DeleteItemCommand:r}=await Promise.resolve().then(()=>(ZB(),lde));await new e({}).send(new r({TableName:eQe,Key:{agentId:{S:tQe}},ConditionExpression:"lockId = :lockId",ExpressionAttributeValues:{":lockId":{S:t}}})),console.log(`[TradingLock] DynamoDB lock released: ${t}`)}catch(e){console.warn(`[TradingLock] DynamoDB release failed (non-critical): ${e instanceof Error?e.message:String(e)}`)}}var _zt={maxTradeUsdc:5,dailyLossLimitPercent:10,cooldownSeconds:7200,positionLimitPercent:25,maxDailyTrades:6},ude=new Map,VA=[],Ko={..._zt};function oQe(t){let e=new Date().toISOString().slice(0,10),r=ude.get(t);return(!r||r.currentDay!==e)&&(r={lastTradeTime:r?.lastTradeTime??null,dailyStartValue:0,currentDay:e,tradesToday:0},ude.set(t,r)),r}function c1(t){VA.push(t),console.warn(`[CircuitBreaker] ${t.action.toUpperCase()}: ${t.breaker} \u2014 ${t.reason} (agent: ${t.agentId})`),VA.length>1e3&&VA.splice(0,VA.length-1e3)}function sQe(t,e,r){let n=[],i={...e};if(e.action==="hold")return{allowed:!0,decision:i,activations:n};let o=oQe(t);if(o.dailyStartValue===0&&(o.dailyStartValue=r.totalValue),o.lastTradeTime){let s=new Date(o.lastTradeTime).getTime(),a=(Date.now()-s)/1e3;if(a<Ko.cooldownSeconds){let c=Math.ceil(Ko.cooldownSeconds-a),l={breaker:"COOLDOWN_PERIOD",reason:`Agent last traded ${Math.round(a)}s ago. Cooldown requires ${Ko.cooldownSeconds}s. ${c}s remaining.`,agentId:t,timestamp:new Date().toISOString(),action:"blocked"};return n.push(l),c1(l),{allowed:!1,decision:{...i,action:"hold",quantity:0,reasoning:`[Circuit Breaker: Cooldown] ${l.reason} Original: ${e.reasoning}`},activations:n}}}if(o.dailyStartValue>0){let s=(r.totalValue-o.dailyStartValue)/o.dailyStartValue*100;if(s<=-Ko.dailyLossLimitPercent){let a={breaker:"DAILY_LOSS_LIMIT",reason:`Daily PnL is ${s.toFixed(2)}% (limit: -${Ko.dailyLossLimitPercent}%). Trading halted for the day.`,agentId:t,timestamp:new Date().toISOString(),action:"blocked"};return n.push(a),c1(a),{allowed:!1,decision:{...i,action:"hold",quantity:0,reasoning:`[Circuit Breaker: Daily Loss Limit] ${a.reason} Original: ${e.reasoning}`},activations:n}}}if(o.tradesToday>=Ko.maxDailyTrades){let s={breaker:"MAX_DAILY_TRADES",reason:`Agent has made ${o.tradesToday} trades today (limit: ${Ko.maxDailyTrades}). No more trades allowed.`,agentId:t,timestamp:new Date().toISOString(),action:"blocked"};return n.push(s),c1(s),{allowed:!1,decision:{...i,action:"hold",quantity:0,reasoning:`[Circuit Breaker: Daily Trade Limit] ${s.reason} Original: ${e.reasoning}`},activations:n}}if(e.action==="buy"&&e.quantity>Ko.maxTradeUsdc){let s=e.quantity;i.quantity=Ko.maxTradeUsdc;let a={breaker:"MAX_TRADE_SIZE",reason:`Buy order of $${s.toFixed(2)} USDC exceeds limit of $${Ko.maxTradeUsdc}. Clamped to $${Ko.maxTradeUsdc}.`,agentId:t,timestamp:new Date().toISOString(),action:"clamped"};n.push(a),c1(a),i.reasoning=`[Circuit Breaker: Trade Size Clamped from $${s.toFixed(2)} to $${Ko.maxTradeUsdc}] ${e.reasoning}`}if(e.action==="buy"){let s=r.positions.find(d=>d.symbol.toLowerCase()===e.symbol.toLowerCase()),a=s?s.currentPrice*s.quantity:0,c=i.quantity,l=a+c,u=r.totalValue>0?l/r.totalValue*100:100;if(u>Ko.positionLimitPercent){let d=Ko.positionLimitPercent/100*r.totalValue-a;if(d<=0){let h={breaker:"POSITION_LIMIT",reason:`Position in ${e.symbol} is already at ${u.toFixed(1)}% of portfolio (limit: ${Ko.positionLimitPercent}%). Trade blocked.`,agentId:t,timestamp:new Date().toISOString(),action:"blocked"};return n.push(h),c1(h),{allowed:!1,decision:{...i,action:"hold",quantity:0,reasoning:`[Circuit Breaker: Position Limit] ${h.reason} Original: ${e.reasoning}`},activations:n}}let p=i.quantity;i.quantity=Math.floor(d*100)/100;let f={breaker:"POSITION_LIMIT",reason:`Buy would put ${e.symbol} at ${u.toFixed(1)}% of portfolio (limit: ${Ko.positionLimitPercent}%). Clamped from $${p.toFixed(2)} to $${i.quantity.toFixed(2)}.`,agentId:t,timestamp:new Date().toISOString(),action:"clamped"};n.push(f),c1(f)}}if(e.action==="buy"&&i.quantity>r.cashBalance){if(r.cashBalance<=1){let c={breaker:"INSUFFICIENT_FUNDS",reason:`Cash balance $${r.cashBalance.toFixed(2)} insufficient for any buy. Trade blocked.`,agentId:t,timestamp:new Date().toISOString(),action:"blocked"};return n.push(c),c1(c),{allowed:!1,decision:{...i,action:"hold",quantity:0,reasoning:`[Circuit Breaker: Insufficient Funds] ${c.reason} Original: ${e.reasoning}`},activations:n}}let s=i.quantity;i.quantity=Math.floor(r.cashBalance*100)/100;let a={breaker:"INSUFFICIENT_FUNDS",reason:`Buy of $${s.toFixed(2)} exceeds cash balance $${r.cashBalance.toFixed(2)}. Clamped to $${i.quantity.toFixed(2)}.`,agentId:t,timestamp:new Date().toISOString(),action:"clamped"};n.push(a),c1(a)}return{allowed:!0,decision:i,activations:n}}function aQe(t){let e=oQe(t);e.lastTradeTime=new Date().toISOString(),e.tradesToday++}function e$(){let t={};for(let[e,r]of ude){let n=r.lastTradeTime?Math.max(0,Ko.cooldownSeconds-(Date.now()-new Date(r.lastTradeTime).getTime())/1e3):0;t[e]={lastTradeTime:r.lastTradeTime,tradesToday:r.tradesToday,cooldownRemaining:Math.round(n),dailyLossTriggered:!1}}return{config:{...Ko},agentStates:t,totalActivations:VA.length,recentActivations:VA.slice(-10)}}var LI=class{tokens;config;queue=[];processing=!1;lastRefillTime;refillIntervalId=null;_totalRequests=0;_rateLimitHits=0;_totalWaitMs=0;constructor(e){this.config=e,this.tokens=e.maxTokens,this.lastRefillTime=Date.now(),this.refillIntervalId=setInterval(()=>{this.refill()},e.refillIntervalMs)}get metrics(){return{name:this.config.name,currentTokens:this.tokens,maxTokens:this.config.maxTokens,queueDepth:this.queue.length,totalRequests:this._totalRequests,rateLimitHits:this._rateLimitHits,totalWaitMs:this._totalWaitMs,avgWaitMs:this._totalRequests>0?Math.round(this._totalWaitMs/this._totalRequests):0}}async execute(e){if(this._totalRequests++,this.tokens>0)return this.tokens--,e();this._rateLimitHits++;let r=this.config.maxQueueSize??0;if(r>0&&this.queue.length>=r)throw new Error(`[RateLimiter:${this.config.name}] Queue full (${r} items). Request rejected.`);return new Promise((n,i)=>{this.queue.push({execute:e,resolve:n,reject:i,enqueuedAt:Date.now()})})}refill(){let e=Date.now(),r=e-this.lastRefillTime,n=Math.floor(r/this.config.refillIntervalMs);n>0&&(this.tokens=Math.min(this.config.maxTokens,this.tokens+this.config.refillRate*n),this.lastRefillTime=e),this.processQueue()}async processQueue(){if(!this.processing){this.processing=!0;try{for(;this.queue.length>0&&this.tokens>0;){this.tokens--;let e=this.queue.shift();if(!e)break;this._totalWaitMs+=Date.now()-e.enqueuedAt;try{let r=await e.execute();e.resolve(r)}catch(r){e.reject(r instanceof Error?r:new Error(String(r)))}}}finally{this.processing=!1}}}destroy(){for(this.refillIntervalId!==null&&(clearInterval(this.refillIntervalId),this.refillIntervalId=null);this.queue.length>0;)this.queue.shift()?.reject(new Error(`[RateLimiter:${this.config.name}] Shutting down`))}},D3n=new LI({name:"solana-rpc",maxTokens:5,refillRate:5,refillIntervalMs:1e3,maxQueueSize:100}),M3n=new LI({name:"llm-api",maxTokens:10,refillRate:10,refillIntervalMs:6e4,maxQueueSize:20}),xzt=new LI({name:"jupiter-dex",maxTokens:2,refillRate:2,refillIntervalMs:1e3,maxQueueSize:50});function Szt(){return 1e3+Math.floor(Math.random()*4e3)}async function cQe(){let t=Szt();console.log(`[RateLimiter] Applying ${t}ms jitter before next trade execution`),await new Promise(e=>setTimeout(e,t))}var HA=new Map,BI=0,t$=0,lQe=0,uQe=null,dQe=wzt;async function wzt(t){let e=[],r=new Date;for(let n of t.slice(0,10)){let i=n.replace(/x$/i,""),o=[{titleTemplate:`${i} reports stronger-than-expected quarterly revenue`,sentiment:"positive"},{titleTemplate:`Analysts revise ${i} price target amid market volatility`,sentiment:"neutral"},{titleTemplate:`${i} faces regulatory scrutiny in key market`,sentiment:"negative"}],s=o[Math.floor(Math.random()*o.length)];e.push({title:s.titleTemplate,summary:`Market analysis for ${i} stock. Trading volume and institutional interest remain factors to watch.`,source:"MoltApp Market Intelligence",url:`https://patgpt.us/news/${n.toLowerCase()}`,publishedAt:new Date(r.getTime()-Math.floor(Math.random()*36e5)).toISOString(),sentiment:s.sentiment,relevantSymbols:[n]})}return e.push({title:"Market Overview: Major indices show mixed signals",summary:"US equities are showing divergent trends across sectors. Technology stocks continue to attract institutional flows while value sectors trade sideways. Volatility remains elevated compared to historical averages.",source:"MoltApp Market Intelligence",url:"https://patgpt.us/news/market-overview",publishedAt:r.toISOString(),sentiment:"neutral",relevantSymbols:["SPYx","QQQx"]}),e}function Azt(t){return`news:${t.map(r=>r.toUpperCase().trim()).sort().join(",")}`}async function pQe(t){BI++;let e=Azt(t),r=HA.get(e);if(r&&Date.now()<r.expiresAtMs)return t$++,console.log(`[SearchCache] Cache HIT for ${t.length} symbols (${t$}/${BI} hit rate)`),r.result;lQe++,console.log(`[SearchCache] Cache MISS for ${t.length} symbols. Fetching fresh data...`);try{let n=await dQe(t),i=new Date,o=new Date(i.getTime()+18e5),s={query:t.join(","),items:n.slice(0,50),cachedAt:i.toISOString(),expiresAt:o.toISOString(),source:"search-cache"};return HA.set(e,{result:s,expiresAtMs:o.getTime()}),uQe=i.toISOString(),HA.size>100&&Ezt(),s}catch(n){return console.error(`[SearchCache] Search failed: ${n instanceof Error?n.message:String(n)}`),r?(console.log("[SearchCache] Returning stale cached data"),r.result):{query:t.join(","),items:[],cachedAt:new Date().toISOString(),expiresAt:new Date().toISOString(),source:"search-cache-error"}}}function fQe(t){if(t.items.length===0)return"No recent news available.";let e=t.items.map(r=>{let n=r.sentiment==="positive"?"[+]":r.sentiment==="negative"?"[-]":"[=]",i=r.relevantSymbols.length>0?` (${r.relevantSymbols.join(", ")})`:"";return`${n} ${r.title}${i}
    ${r.summary}`});return`RECENT NEWS & MARKET INTELLIGENCE (cached ${t.cachedAt}):
${e.join(`

`)}`}function mQe(t){dQe=t,console.log("[SearchCache] Search provider updated")}function dde(){return{totalRequests:BI,cacheHits:t$,cacheMisses:lQe,hitRate:BI>0?Math.round(t$/BI*100):0,itemsCached:HA.size,lastRefreshAt:uQe}}function Ezt(){let t=Array.from(HA.entries()).sort(([,r],[,n])=>r.expiresAtMs-n.expiresAtMs),e=t.length-100;for(let r=0;r<e;r++)HA.delete(t[r][0]);console.log(`[SearchCache] Evicted ${e} stale cache entries`)}var gQe={};for(let t of Ru){let e=t.symbol.replace(/x$/i,"");gQe[t.symbol]=`${t.name} ${e}`}async function hQe(t,e){let r=new URL("https://api.search.brave.com/res/v1/web/search");r.searchParams.set("q",t),r.searchParams.set("count","5");let n=await fetch(r.toString(),{headers:{"X-Subscription-Token":e,Accept:"application/json"}});return n.ok?((await n.json()).web?.results??[]).slice(0,5).map(s=>({title:s.title??"",description:(s.description??"").slice(0,300),url:s.url??""})):(console.warn(`[BraveSearch] Query "${t}" failed: ${n.status}`),[])}async function yQe(t){let e=process.env.BRAVE_API_KEY;if(!e)return console.warn("[BraveSearch] BRAVE_API_KEY not set \u2014 falling back to default provider"),[];let r=t.slice(0,6),n=[],i=new Date;for(let o of r){let a=`${gQe[o]??o.replace(/x$/i,"")} stock news today 2026`;try{let c=await hQe(a,e);for(let l of c)n.push({title:l.title,summary:l.description,source:"Brave Search",url:l.url,publishedAt:i.toISOString(),sentiment:"neutral",relevantSymbols:[o]})}catch(c){console.warn(`[BraveSearch] Error searching ${o}: ${c instanceof Error?c.message:String(c)}`)}}try{let o=await hQe("stock market news today 2026",e);for(let s of o)n.push({title:s.title,summary:s.description,source:"Brave Search",url:s.url,publishedAt:i.toISOString(),sentiment:"neutral",relevantSymbols:["SPYx","QQQx"]})}catch(o){console.warn(`[BraveSearch] Market overview search failed: ${o instanceof Error?o.message:String(o)}`)}return console.log(`[BraveSearch] Fetched ${n.length} results for ${r.length} symbols`),n}var Tzt=1,Rzt=2,Izt=3,Czt=4,Nzt=5,Ozt=6,Pzt=7,kzt=8,Dzt=9,bQe=10,vQe=-32700,_Qe=-32603,xQe=-32602,SQe=-32601,wQe=-32600,Mzt=-32019,Lzt=-32018,Bzt=-32017,$zt=-32016,AQe=-32015,EQe=-32014,Uzt=-32013,TQe=-32012,Fzt=-32011,RQe=-32010,IQe=-32009,zzt=-32008,CQe=-32007,NQe=-32006,Vzt=-32005,OQe=-32004,Hzt=-32003,pde=-32002,PQe=-32001,fde=28e5,mde=2800001,Gzt=2800002,kQe=2800003,DQe=2800004,MQe=2800005,hde=2800006,gde=2800007,r$=2800008,yde=2800009,LQe=2800010,BQe=2800011,jzt=323e4,qzt=32300001,Jzt=3230002,Wzt=3230003,Kzt=3230004,Qzt=361e4,bde=3610001,$Qe=3610002,UQe=3610003,FQe=3610004,zQe=3610005,VQe=3610006,Xzt=3610007,HQe=3611e3,Yzt=3704e3,Zzt=3704001,eVt=3704002,tVt=3704003,rVt=3704004,nVt=4128e3,iVt=4128001,oVt=4128002,GQe=4615e3,sVt=4615001,aVt=4615002,cVt=4615003,lVt=4615004,uVt=4615005,dVt=4615006,pVt=4615007,fVt=4615008,mVt=4615009,hVt=4615010,gVt=4615011,yVt=4615012,bVt=4615013,vVt=4615014,_Vt=4615015,xVt=4615016,SVt=4615017,wVt=4615018,AVt=4615019,EVt=4615020,TVt=4615021,RVt=4615022,IVt=4615023,CVt=4615024,NVt=4615025,jQe=4615026,OVt=4615027,PVt=4615028,kVt=4615029,DVt=4615030,MVt=4615031,LVt=4615032,BVt=4615033,$Vt=4615034,UVt=4615035,FVt=4615036,zVt=4615037,VVt=4615038,HVt=4615039,GVt=4615040,jVt=4615041,qVt=4615042,JVt=4615043,WVt=4615044,KVt=4615045,QVt=4615046,XVt=4615047,YVt=4615048,ZVt=4615049,eHt=4615050,tHt=4615051,rHt=4615052,nHt=4615053,iHt=4615054,oHt=5508e3,sHt=5508001,aHt=5508002,cHt=5508003,lHt=5508004,uHt=5508005,dHt=5508006,pHt=5508007,fHt=5508008,mHt=5508009,hHt=5508010,gHt=5508011,yHt=5607e3,bHt=5607001,vHt=5607002,_Ht=5607003,xHt=5607004,SHt=5607005,wHt=5607006,AHt=5607007,EHt=5607008,THt=5607009,RHt=5607010,IHt=5607011,CHt=5607012,NHt=5607013,OHt=5607014,PHt=5607015,kHt=5607016,DHt=5607017,MHt=5663e3,LHt=5663001,BHt=5663002,$Ht=5663003,UHt=5663004,FHt=5663005,zHt=5663006,VHt=5663007,HHt=5663008,GHt=5663009,jHt=5663010,qHt=5663011,JHt=5663012,WHt=5663013,KHt=5663014,QHt=5663015,XHt=5663016,YHt=5663017,ZHt=5663018,eGt=5663019,tGt=5663020,rGt=5663021,nGt=5663022,qQe=705e4,iGt=7050001,oGt=7050002,sGt=7050003,aGt=7050004,cGt=7050005,lGt=7050006,uGt=7050007,dGt=7050008,pGt=7050009,fGt=7050010,mGt=7050011,hGt=7050012,gGt=7050013,yGt=7050014,bGt=7050015,vGt=7050016,_Gt=7050017,xGt=7050018,SGt=7050019,wGt=7050020,AGt=7050021,EGt=7050022,TGt=7050023,RGt=7050024,IGt=7050025,CGt=7050026,NGt=7050027,OGt=7050028,PGt=7050029,JQe=7050030,WQe=7050031,kGt=7050032,DGt=7050033,MGt=7050034,KQe=7050035,LGt=7050036,BGt=7618e3,$Gt=7618001,UGt=7618002,FGt=7618003,zGt=7618004,VGt=7618005,HGt=7618006,GGt=7618007,jGt=7618008,qGt=7618009,QQe=8078e3,vde=8078001,XQe=8078002,YQe=8078003,_de=8078004,xde=8078005,Sde=8078006,JGt=8078007,WGt=8078008,KGt=8078009,QGt=8078010,XGt=8078011,wde=8078012,ZQe=8078013,eXe=8078014,YGt=8078015,ZGt=8078016,ejt=8078017,tjt=8078018,rjt=8078019,tXe=8078020,rXe=8078021,njt=8078022,nXe=8078023,Ade=81e5,Ede=8100001,Tde=8100002,Rde=8100003,ijt=819e4,ojt=8190001,sjt=8190002,ajt=8190003,cjt=8190004,ljt=99e5,ujt=9900001,djt=9900002,pjt=9900003,fjt=9900004,mjt=9900005,hjt=9900006;function iXe(t){return Array.isArray(t)?"%5B"+t.map(iXe).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function gjt([t,e]){return`${t}=${iXe(e)}`}function yjt(t){let e=Object.entries(t).map(gjt).join("&");return Buffer.from(e,"utf8").toString("base64")}var bjt={[jzt]:"Account not found at address: $address",[Kzt]:"Not all accounts were decoded. Encoded accounts found at addresses: $addresses.",[Wzt]:"Expected decoded account at address: $address",[Jzt]:"Failed to decode account data at address: $address",[qzt]:"Accounts not found at addresses: $addresses",[yde]:"Unable to find a viable program address bump seed.",[Gzt]:"$putativeAddress is not a base58-encoded address.",[fde]:"Expected base58 encoded address to decode to a byte array of length 32. Actual length: $actualLength.",[kQe]:"The `CryptoKey` must be an `Ed25519` public key.",[BQe]:"$putativeOffCurveAddress is not a base58-encoded off-curve address.",[r$]:"Invalid seeds; point must fall off the Ed25519 curve.",[DQe]:"Expected given program derived address to have the following format: [Address, ProgramDerivedAddressBump].",[hde]:"A maximum of $maxSeeds seeds, including the bump seed, may be supplied when creating an address. Received: $actual.",[gde]:"The seed at index $index with length $actual exceeds the maximum length of $maxSeedLength bytes.",[MQe]:"Expected program derived address bump to be in the range [0, 255], got: $bump.",[LQe]:"Program address cannot end with PDA marker.",[mde]:"Expected base58-encoded address string of length in the range [32, 44]. Actual length: $actualLength.",[Czt]:"Expected base58-encoded blockash string of length in the range [32, 44]. Actual length: $actualLength.",[Tzt]:"The network has progressed past the last block for which this transaction could have been committed.",[QQe]:"Codec [$codecDescription] cannot decode empty byte arrays.",[njt]:"Enum codec cannot use lexical values [$stringValues] as discriminators. Either remove all lexical values or set `useValuesAsDiscriminators` to `false`.",[tXe]:"Sentinel [$hexSentinel] must not be present in encoded bytes [$hexEncodedBytes].",[xde]:"Encoder and decoder must have the same fixed size, got [$encoderFixedSize] and [$decoderFixedSize].",[Sde]:"Encoder and decoder must have the same max size, got [$encoderMaxSize] and [$decoderMaxSize].",[_de]:"Encoder and decoder must either both be fixed-size or variable-size.",[WGt]:"Enum discriminator out of range. Expected a number in [$formattedValidDiscriminators], got $discriminator.",[XQe]:"Expected a fixed-size codec, got a variable-size one.",[ZQe]:"Codec [$codecDescription] expected a positive byte length, got $bytesLength.",[YQe]:"Expected a variable-size codec, got a fixed-size one.",[rjt]:"Codec [$codecDescription] expected zero-value [$hexZeroValue] to have the same size as the provided fixed-size item [$expectedSize bytes].",[vde]:"Codec [$codecDescription] expected $expected bytes, got $bytesLength.",[tjt]:"Expected byte array constant [$hexConstant] to be present in data [$hexData] at offset [$offset].",[KGt]:"Invalid discriminated union variant. Expected one of [$variants], got $value.",[QGt]:"Invalid enum variant. Expected one of [$stringValues] or a number in [$formattedNumericalValues], got $variant.",[YGt]:"Invalid literal union variant. Expected one of [$variants], got $value.",[JGt]:"Expected [$codecDescription] to have $expected items, got $actual.",[wde]:"Invalid value $value for base $base with alphabet $alphabet.",[ZGt]:"Literal union discriminator out of range. Expected a number between $minRange and $maxRange, got $discriminator.",[XGt]:"Codec [$codecDescription] expected number to be in the range [$min, $max], got $value.",[eXe]:"Codec [$codecDescription] expected offset to be in the range [0, $bytesLength], got $offset.",[rXe]:"Expected sentinel [$hexSentinel] to be present in decoded bytes [$hexDecodedBytes].",[ejt]:"Union variant out of range. Expected an index between $minRange and $maxRange, got $variant.",[nXe]:"This decoder expected a byte array of exactly $expectedLength bytes, but $numExcessBytes unexpected excess bytes remained after decoding. Are you sure that you have chosen the correct decoder for this data?",[HQe]:"No random values implementation could be found.",[mVt]:"instruction requires an uninitialized account",[IVt]:"instruction tries to borrow reference for an account which is already borrowed",[CVt]:"instruction left account with an outstanding borrowed reference",[TVt]:"program other than the account's owner changed the size of the account data",[uVt]:"account data too small for instruction",[RVt]:"instruction expected an executable account",[QVt]:"An account does not have enough lamports to be rent-exempt",[YVt]:"Program arithmetic overflowed",[KVt]:"Failed to serialize or deserialize account data: $encodedData",[iHt]:"Builtin programs must consume compute units",[LVt]:"Cross-program invocation call depth too deep",[VVt]:"Computational budget exceeded",[jQe]:"custom program error: #$code",[SVt]:"instruction contains duplicate accounts",[NVt]:"instruction modifications of multiply-passed account differ",[DVt]:"executable accounts must be rent exempt",[PVt]:"instruction changed executable accounts data",[kVt]:"instruction changed the balance of an executable account",[wVt]:"instruction changed executable bit of an account",[vVt]:"instruction modified data of an account it does not own",[bVt]:"instruction spent from the balance of an account it does not own",[sVt]:"generic instruction error",[eHt]:"Provided owner is not allowed",[JVt]:"Account is immutable",[WVt]:"Incorrect authority provided",[pVt]:"incorrect program id for instruction",[dVt]:"insufficient funds for instruction",[lVt]:"invalid account data for instruction",[XVt]:"Invalid account owner",[aVt]:"invalid program argument",[OVt]:"program returned invalid error code",[cVt]:"invalid instruction data",[zVt]:"Failed to reallocate account data",[FVt]:"Provided seeds do not result in a valid address",[tHt]:"Accounts data allocations exceeded the maximum allowed per transaction",[rHt]:"Max accounts exceeded",[nHt]:"Max instruction trace length exceeded",[UVt]:"Length of the seed is too long for address generation",[BVt]:"An account required by the instruction is missing",[fVt]:"missing required signature for instruction",[yVt]:"instruction illegally modified the program id of an account",[EVt]:"insufficient account keys for instruction",[HVt]:"Cross-program invocation with unauthorized signer or writable account",[GVt]:"Failed to create program execution environment",[qVt]:"Program failed to compile",[jVt]:"Program failed to complete",[xVt]:"instruction modified data of a read-only account",[_Vt]:"instruction changed the balance of a read-only account",[$Vt]:"Cross-program invocation reentrancy not allowed for this instruction",[AVt]:"instruction modified rent epoch of an account",[gVt]:"sum of account balances before and after instruction do not match",[hVt]:"instruction requires an initialized account",[GQe]:"",[MVt]:"Unsupported program id",[ZVt]:"Unsupported sysvar",[mjt]:"Invalid instruction plan kind: $kind.",[UGt]:"The provided instruction plan is empty.",[VGt]:"No failed transaction plan result was found in the provided transaction plan result.",[zGt]:"This transaction plan executor does not support non-divisible sequential plans. To support them, you may create your own executor such that multi-transaction atomicity is preserved \u2014 e.g. by targetting RPCs that support transaction bundles.",[FGt]:"The provided transaction plan failed to execute. See the `transactionPlanResult` attribute for more details. Note that the `cause` property is deprecated, and a future version will not set it.",[BGt]:"The provided message has insufficient capacity to accommodate the next instruction(s) in this plan. Expected at least $numBytesRequired free byte(s), got $numFreeBytes byte(s).",[hjt]:"Invalid transaction plan kind: $kind.",[$Gt]:"No more instructions to pack; the message packer has completed the instruction plan.",[HGt]:"Unexpected instruction plan. Expected $expectedKind plan, got $actualKind plan.",[GGt]:"Unexpected transaction plan. Expected $expectedKind plan, got $actualKind plan.",[jGt]:"Unexpected transaction plan result. Expected $expectedKind plan, got $actualKind plan.",[qGt]:"Expected a successful transaction plan result. I.e. there is at least one failed or cancelled transaction in the plan.",[nVt]:"The instruction does not have any accounts.",[iVt]:"The instruction does not have any data.",[oVt]:"Expected instruction to have progress address $expectedProgramAddress, got $actualProgramAddress.",[Nzt]:"Expected base58 encoded blockhash to decode to a byte array of length 32. Actual length: $actualLength.",[Rzt]:"The nonce `$expectedNonceValue` is no longer valid. It has advanced to `$actualNonceValue`",[djt]:"Invariant violation: Found no abortable iterable cache entry for key `$cacheKey`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[fjt]:"Invariant violation: This data publisher does not publish to the channel named `$channelName`. Supported channels include $supportedChannelNames.",[ujt]:"Invariant violation: WebSocket message iterator state is corrupt; iterated without first resolving existing message promise. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[ljt]:"Invariant violation: WebSocket message iterator is missing state storage. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[pjt]:"Invariant violation: Switch statement non-exhaustive. Received unexpected value `$unexpectedValue`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[_Qe]:"JSON-RPC error: Internal JSON-RPC error ($__serverMessage)",[xQe]:"JSON-RPC error: Invalid method parameter(s) ($__serverMessage)",[wQe]:"JSON-RPC error: The JSON sent is not a valid `Request` object ($__serverMessage)",[SQe]:"JSON-RPC error: The method does not exist / is not available ($__serverMessage)",[vQe]:"JSON-RPC error: An error occurred on the server while parsing the JSON text ($__serverMessage)",[TQe]:"$__serverMessage",[PQe]:"$__serverMessage",[OQe]:"$__serverMessage",[EQe]:"$__serverMessage",[Bzt]:"Epoch rewards period still active at slot $slot",[RQe]:"$__serverMessage",[IQe]:"$__serverMessage",[Mzt]:"Failed to query long-term storage; please try again",[$zt]:"Minimum context slot has not been reached",[Vzt]:"Node is unhealthy; behind by $numSlotsBehind slots",[zzt]:"No snapshot",[pde]:"Transaction simulation failed",[Lzt]:"Rewards cannot be found because slot $slot is not the epoch boundary. This may be due to gap in the queried node's local ledger or long-term storage",[CQe]:"$__serverMessage",[Fzt]:"Transaction history is not available from this node",[NQe]:"$__serverMessage",[Uzt]:"Transaction signature length mismatch",[Hzt]:"Transaction signature verification failure",[AQe]:"$__serverMessage",[Yzt]:"Key pair bytes must be of length 64, got $byteLength.",[Zzt]:"Expected private key bytes with length 32. Actual length: $actualLength.",[eVt]:"Expected base58-encoded signature to decode to a byte array of length 64. Actual length: $actualLength.",[rVt]:"The provided private key does not match the provided public key.",[tVt]:"Expected base58-encoded signature string of length in the range [64, 88]. Actual length: $actualLength.",[Ozt]:"Lamports value must be in the range [0, 2e64-1]",[Pzt]:"`$value` cannot be parsed as a `BigInt`",[bQe]:"$message",[kzt]:"`$value` cannot be parsed as a `Number`",[Izt]:"No nonce account could be found at address `$nonceAccountAddress`",[_Ht]:"Expected base58 encoded application domain to decode to a byte array of length 32. Actual length: $actualLength.",[NHt]:"Attempted to sign an offchain message with an address that is not a signer for it",[vHt]:"Expected base58-encoded application domain string of length in the range [32, 44]. Actual length: $actualLength.",[CHt]:"The signer addresses in this offchain message envelope do not match the list of required signers in the message preamble. These unexpected signers were present in the envelope: `[$unexpectedSigners]`. These required signers were missing from the envelope `[$missingSigners]`.",[yHt]:"The message body provided has a byte-length of $actualBytes. The maximum allowable byte-length is $maxBytes",[AHt]:"Expected message format $expectedMessageFormat, got $actualMessageFormat",[EHt]:"The message length specified in the message preamble is $specifiedLength bytes. The actual length of the message is $actualLength bytes.",[THt]:"Offchain message content must be non-empty",[SHt]:"Offchain message must specify the address of at least one required signer",[RHt]:"Offchain message envelope must reserve space for at least one signature",[xHt]:"The offchain message preamble specifies $numRequiredSignatures required signature(s), got $signaturesLength.",[PHt]:"The signatories of this offchain message must be listed in lexicographical order",[kHt]:"An address must be listed no more than once among the signatories of an offchain message",[IHt]:"Offchain message is missing signatures for addresses: $addresses.",[DHt]:"Offchain message signature verification failed. Signature mismatch for required signatories [$signatoriesWithInvalidSignatures]. Missing signatures for signatories [$signatoriesWithMissingSignatures]",[bHt]:"The message body provided contains characters whose codes fall outside the allowed range. In order to ensure clear-signing compatiblity with hardware wallets, the message may only contain line feeds and characters in the range [\\x20-\\x7e].",[OHt]:"Expected offchain message version $expectedVersion. Got $actualVersion.",[wHt]:"This version of Kit does not support decoding offchain messages with version $unsupportedVersion. The current max supported version is 0.",[ijt]:"The notification name must end in 'Notifications' and the API must supply a subscription plan creator function for the notification '$notificationName'.",[sjt]:"WebSocket was closed before payload could be added to the send buffer",[ajt]:"WebSocket connection closed",[cjt]:"WebSocket failed to connect",[ojt]:"Failed to obtain a subscription id from the server",[Rde]:"Could not find an API plan for RPC method: `$method`",[Ade]:"The $argumentLabel argument to the `$methodName` RPC method$optionalPathLabel was `$value`. This number is unsafe for use with the Solana JSON-RPC because it exceeds `Number.MAX_SAFE_INTEGER`.",[Tde]:"HTTP error ($statusCode): $message",[Ede]:"HTTP header(s) forbidden: $headers. Learn more at https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name.",[oHt]:"Multiple distinct signers were identified for address `$address`. Please ensure that you are using the same signer instance for each address.",[sHt]:"The provided value does not implement the `KeyPairSigner` interface",[cHt]:"The provided value does not implement the `MessageModifyingSigner` interface",[lHt]:"The provided value does not implement the `MessagePartialSigner` interface",[aHt]:"The provided value does not implement any of the `MessageSigner` interfaces",[dHt]:"The provided value does not implement the `TransactionModifyingSigner` interface",[pHt]:"The provided value does not implement the `TransactionPartialSigner` interface",[fHt]:"The provided value does not implement the `TransactionSendingSigner` interface",[uHt]:"The provided value does not implement any of the `TransactionSigner` interfaces",[mHt]:"More than one `TransactionSendingSigner` was identified.",[hHt]:"No `TransactionSendingSigner` was identified. Please provide a valid `TransactionWithSingleSendingSigner` transaction.",[gHt]:"Wallet account signers do not support signing multiple messages/transactions in a single operation",[Xzt]:"Cannot export a non-extractable key.",[bde]:"No digest implementation could be found.",[Qzt]:"Cryptographic operations are only allowed in secure browser contexts. Read more here: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts.",[$Qe]:`This runtime does not support the generation of Ed25519 key pairs.

Install @solana/webcrypto-ed25519-polyfill and call its \`install\` function before generating keys in environments that do not support Ed25519.

For a list of runtimes that currently support Ed25519 operations, visit https://github.com/WICG/webcrypto-secure-curves/issues/20.`,[UQe]:"No signature verification implementation could be found.",[FQe]:"No key generation implementation could be found.",[zQe]:"No signing implementation could be found.",[VQe]:"No key export implementation could be found.",[Dzt]:"Timestamp value must be in the range [-(2n ** 63n), (2n ** 63n) - 1]. `$value` given",[vGt]:"Transaction processing left an account with an outstanding borrowed reference",[iGt]:"Account in use",[oGt]:"Account loaded twice",[sGt]:"Attempt to debit an account but found no record of a prior credit.",[TGt]:"Transaction loads an address table account that doesn't exist",[uGt]:"This transaction has already been processed",[dGt]:"Blockhash not found",[pGt]:"Loader call chain is too deep",[bGt]:"Transactions are currently disabled due to cluster maintenance",[JQe]:"Transaction contains a duplicate instruction ($index) that is not allowed",[cGt]:"Insufficient funds for fee",[WQe]:"Transaction results in an account ($accountIndex) with insufficient funds for rent",[lGt]:"This account may not be used to pay transaction fees",[mGt]:"Transaction contains an invalid account reference",[IGt]:"Transaction loads an address table account with invalid data",[CGt]:"Transaction address table lookup uses an invalid index",[RGt]:"Transaction loads an address table account with an invalid owner",[DGt]:"LoadedAccountsDataSizeLimit set for transaction must be greater than 0.",[gGt]:"This program may not be used for executing instructions",[NGt]:"Transaction leaves an account with a lower balance than rent-exempt minimum",[SGt]:"Transaction loads a writable account that cannot be written",[kGt]:"Transaction exceeded max loaded accounts data size cap",[fGt]:"Transaction requires a fee but has no signature present",[aGt]:"Attempt to load a program that does not exist",[KQe]:"Execution of the program referenced by account at index $accountIndex is temporarily restricted.",[MGt]:"ResanitizationNeeded",[yGt]:"Transaction failed to sanitize accounts offsets correctly",[hGt]:"Transaction did not pass signature verification",[EGt]:"Transaction locked too many accounts",[LGt]:"Sum of account balances before and after transaction do not match",[qQe]:"The transaction failed with the error `$errorName`",[xGt]:"Transaction version is unsupported",[AGt]:"Transaction would exceed account data limit within the block",[PGt]:"Transaction would exceed total account data limit",[wGt]:"Transaction would exceed max account limit within the block",[_Gt]:"Transaction would exceed max Block Cost Limit",[OGt]:"Transaction would exceed max Vote Cost Limit",[QHt]:"Attempted to sign a transaction with an address that is not a signer for it",[jHt]:"Transaction is missing an address at index: $index.",[XHt]:"Transaction has no expected signers therefore it cannot be encoded",[tGt]:"Transaction size $transactionSize exceeds limit of $transactionSizeLimit bytes",[BHt]:"Transaction does not have a blockhash lifetime",[$Ht]:"Transaction is not a durable nonce transaction",[FHt]:"Contents of these address lookup tables unknown: $lookupTableAddresses",[zHt]:"Lookup of address at index $highestRequestedIndex failed for lookup table `$lookupTableAddress`. Highest known index is $highestKnownIndex. The lookup table may have been extended since its contents were retrieved",[HHt]:"No fee payer set in CompiledTransaction",[VHt]:"Could not find program address at index $index",[ZHt]:"Failed to estimate the compute unit consumption for this transaction message. This is likely because simulating the transaction failed. Inspect the `cause` property of this error to learn more",[eGt]:"Transaction failed when it was simulated in order to estimate the compute unit consumption. The compute unit estimate provided is for a transaction that failed when simulated and may not be representative of the compute units this transaction would consume if successful. Inspect the `cause` property of this error to learn more",[qHt]:"Transaction is missing a fee payer.",[JHt]:"Could not determine this transaction's signature. Make sure that the transaction has been signed by its fee payer.",[KHt]:"Transaction first instruction is not advance nonce account instruction.",[WHt]:"Transaction with no instructions cannot be durable nonce transaction.",[MHt]:"This transaction includes an address (`$programAddress`) which is both invoked and set as the fee payer. Program addresses may not pay fees",[LHt]:"This transaction includes an address (`$programAddress`) which is both invoked and marked writable. Program addresses may not be writable",[YHt]:"The transaction message expected the transaction to have $numRequiredSignatures signatures, got $signaturesLength.",[GHt]:"Transaction is missing signatures for addresses: $addresses.",[UHt]:"Transaction version must be in the range [0, 127]. `$actualVersion` given",[rGt]:"This version of Kit does not support decoding transactions with version $unsupportedVersion. The current max supported version is 0.",[nGt]:"The transaction has a durable nonce lifetime (with nonce `$nonce`), but the nonce account address is in a lookup table. The lifetime constraint cannot be constructed without fetching the lookup tables for the transaction."},dh="i",gf="t";function vjt(t,e={}){let r=bjt[t];if(r.length===0)return"";let n;function i(s){if(n[gf]===2){let a=r.slice(n[dh]+1,s);o.push(a in e?`${e[a]}`:`$${a}`)}else n[gf]===1&&o.push(r.slice(n[dh],s))}let o=[];return r.split("").forEach((s,a)=>{if(a===0){n={[dh]:0,[gf]:r[0]==="\\"?0:r[0]==="$"?2:1};return}let c;switch(n[gf]){case 0:c={[dh]:a,[gf]:1};break;case 1:s==="\\"?c={[dh]:a,[gf]:0}:s==="$"&&(c={[dh]:a,[gf]:2});break;case 2:s==="\\"?c={[dh]:a,[gf]:0}:s==="$"?c={[dh]:a,[gf]:2}:s.match(/\w/)||(c={[dh]:a,[gf]:1});break}c&&(n!==c&&i(a),n=c)}),i(),o.join("")}function _jt(t,e={}){if(process.env.NODE_ENV!=="production")return vjt(t,e);{let r=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(r+=` '${yjt(e)}'`),`${r}\``}}function oXe(t,e){return t instanceof Error&&t.name==="SolanaError"?e!==void 0?t.context.__code===e:!0:!1}var Pn=class extends Error{cause=this.cause;context;constructor(...[t,e]){let r,n;e&&Object.entries(Object.getOwnPropertyDescriptors(e)).forEach(([o,s])=>{o==="cause"?n={cause:s.value}:(r===void 0&&(r={__code:t}),Object.defineProperty(r,o,s))});let i=_jt(t,r);super(i,n),this.context=Object.freeze(r===void 0?{__code:t}:r),this.name="SolanaError"}};function n$(...t){"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...t)}function sXe({errorCodeBaseOffset:t,getErrorContext:e,orderedErrorNames:r,rpcEnumError:n},i){let o,s;typeof n=="string"?o=n:(o=Object.keys(n)[0],s=n[o]);let a=r.indexOf(o),c=t+a,l=e(c,o,s),u=new Pn(c,l);return n$(u,i),u}var xjt=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"];function aXe(t,e){let r=Number(t);return sXe({errorCodeBaseOffset:4615001,getErrorContext(n,i,o){return n===GQe?{errorName:i,index:r,...o!==void 0?{instructionErrorContext:o}:null}:n===jQe?{code:Number(o),index:r}:{index:r}},orderedErrorNames:xjt,rpcEnumError:e},aXe)}var Sjt=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function cXe(t){return typeof t=="object"&&"InstructionError"in t?aXe(...t.InstructionError):sXe({errorCodeBaseOffset:7050001,getErrorContext(e,r,n){if(e===qQe)return{errorName:r,...n!==void 0?{transactionErrorContext:n}:null};if(e===JQe)return{index:Number(n)};if(e===WQe||e===KQe)return{accountIndex:Number(n.account_index)}},orderedErrorNames:Sjt,rpcEnumError:t},cXe)}function i$(t){let e;if(wjt(t)){let{code:r,data:n,message:i}=t,o=Number(r);if(o===pde){let{err:s,...a}=n,c=s?{cause:cXe(s)}:null;e=new Pn(pde,{...a,...c})}else{let s;switch(o){case _Qe:case xQe:case wQe:case SQe:case vQe:case TQe:case PQe:case OQe:case EQe:case RQe:case IQe:case CQe:case NQe:case AQe:s={__serverMessage:i};break;default:typeof n=="object"&&!Array.isArray(n)&&(s=n)}e=new Pn(o,s)}}else{let r=typeof t=="object"&&t!==null&&"message"in t&&typeof t.message=="string"?t.message:"Malformed JSON-RPC error with no message attribute";e=new Pn(bQe,{error:t,message:r})}return n$(e,i$),e}function wjt(t){return typeof t=="object"&&t!==null&&"code"in t&&"message"in t&&(typeof t.code=="number"||typeof t.code=="bigint")&&typeof t.message=="string"}function Ajt(t,e){if(t.length>=e)return t;let r=new Uint8Array(e).fill(0);return r.set(t),r}var Ejt=(t,e)=>Ajt(t.length<=e?t:t.slice(0,e),e);function Tjt(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function o$(t){return Object.freeze({...t,encode:e=>{let r=new Uint8Array(Tjt(e,t));return t.write(e,r,0),r}})}function Ide(t){return Object.freeze({...t,decode:(e,r=0)=>t.read(e,r)[0]})}function l1(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function Rjt(t){return!l1(t)}function Cde(t,e){if(l1(t)!==l1(e))throw new Pn(_de);if(l1(t)&&l1(e)&&t.fixedSize!==e.fixedSize)throw new Pn(xde,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!l1(t)&&!l1(e)&&t.maxSize!==e.maxSize)throw new Pn(Sde,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function Ijt(t,e,r,n=0){let i=r.length-n;if(i<e)throw new Pn(vde,{bytesLength:i,codecDescription:t,expected:e})}function lXe(t,e){return o$({fixedSize:e,write:(r,n,i)=>{let o=t.encode(r),s=o.length>e?o.slice(0,e):o;return n.set(s,i),i+e}})}function uXe(t,e){return Ide({fixedSize:e,read:(r,n)=>{Ijt("fixCodecSize",e,r,n),(n>0||r.length>e)&&(r=r.slice(n,n+e)),l1(t)&&(r=Ejt(r,t.fixedSize));let[i]=t.read(r,0);return[i,n+e]}})}function dXe(t,e){return o$({...Rjt(t)?{...t,getSizeFromValue:r=>t.getSizeFromValue(e(r))}:t,write:(r,n,i)=>t.write(e(r),n,i)})}function Cjt(t,e,r=e){if(!e.match(new RegExp(`^[${t}]*$`)))throw new Pn(wde,{alphabet:t,base:t.length,value:r})}var Njt=t=>o$({getSizeFromValue:e=>{let[r,n]=pXe(e,t[0]);if(!n)return e.length;let i=fXe(n,t);return r.length+Math.ceil(i.toString(16).length/2)},write(e,r,n){if(Cjt(t,e),e==="")return n;let[i,o]=pXe(e,t[0]);if(!o)return r.set(new Uint8Array(i.length).fill(0),n),n+i.length;let s=fXe(o,t),a=[];for(;s>0n;)a.unshift(Number(s%256n)),s/=256n;let c=[...Array(i.length).fill(0),...a];return r.set(c,n),n+c.length}}),Ojt=t=>Ide({read(e,r){let n=r===0?e:e.slice(r);if(n.length===0)return["",0];let i=n.findIndex(c=>c!==0);i=i===-1?n.length:i;let o=t[0].repeat(i);if(i===n.length)return[o,e.length];let s=n.slice(i).reduce((c,l)=>c*256n+BigInt(l),0n),a=Pjt(s,t);return[o+a,e.length]}});function pXe(t,e){let[r,n]=t.split(new RegExp(`((?!${e}).*)`));return[r,n]}function fXe(t,e){let r=BigInt(e.length),n=0n;for(let i of t)n*=r,n+=BigInt(e.indexOf(i));return n}function Pjt(t,e){let r=BigInt(e.length),n=[];for(;t>0n;)n.unshift(e[Number(t%r)]),t/=r;return n.join("")}var mXe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",hXe=()=>Njt(mXe),gXe=()=>Ojt(mXe);var J3n=globalThis.TextDecoder,W3n=globalThis.TextEncoder;function yXe(){if(typeof globalThis.crypto>"u"||typeof globalThis.crypto.subtle?.digest!="function")throw new Pn(bde)}var Nde,Ode;function xXe(){return Nde||(Nde=hXe()),Nde}function kjt(){return Ode||(Ode=gXe()),Ode}function Djt(t){if(t.length<32||t.length>44)throw new Pn(mde,{actualLength:t.length});let n=xXe().encode(t).byteLength;if(n!==32)throw new Pn(fde,{actualLength:n})}function Bu(t){return Djt(t),t}function Pde(){return dXe(lXe(xXe(),32),t=>Bu(t))}function Mjt(){return uXe(kjt(),32)}function Ljt(){return Cde(Pde(),Mjt())}var Bjt=37095705934669439343138083508754565189542113879843219016388785533085940283555n,Ea=57896044618658097711785492504343953926634992332820282019728792003956564819949n,bXe=19681161376707505956807079304988542015446066515923890162744021073123829784752n;function Lu(t){let e=t%Ea;return e>=0n?e:Ea+e}function yf(t,e){let r=t;for(;e-- >0n;)r*=r,r%=Ea;return r}function $jt(t){let r=t*t%Ea*t%Ea,n=yf(r,2n)*r%Ea,i=yf(n,1n)*t%Ea,o=yf(i,5n)*i%Ea,s=yf(o,10n)*o%Ea,a=yf(s,20n)*s%Ea,c=yf(a,40n)*a%Ea,l=yf(c,80n)*c%Ea,u=yf(l,80n)*c%Ea,d=yf(u,10n)*o%Ea;return yf(d,2n)*t%Ea}function Ujt(t,e){let r=Lu(e*e*e),n=Lu(r*r*e),i=$jt(t*n),o=Lu(t*r*i),s=Lu(e*o*o),a=o,c=Lu(o*bXe),l=s===t,u=s===Lu(-t),d=s===Lu(-t*bXe);return l&&(o=a),(u||d)&&(o=c),(Lu(o)&1n)===1n&&(o=Lu(-o)),!l&&!u?null:o}function Fjt(t,e){let r=Lu(t*t),n=Lu(r-1n),i=Lu(Bjt*r+1n),o=Ujt(n,i);if(o===null)return!1;let s=(e&128)!==0;return!(o===0n&&s)}function zjt(t){let e=t.toString(16);return e.length===1?`0${e}`:e}function Vjt(t){let r=`0x${t.reduce((n,i,o)=>`${zjt(o===31?i&-129:i)}${n}`,"")}`;return BigInt(r)}function Hjt(t){if(t.byteLength!==32)return!1;let e=Vjt(t);return Fjt(e,t[31])}var vXe=32,_Xe=16,Gjt=[80,114,111,103,114,97,109,68,101,114,105,118,101,100,65,100,100,114,101,115,115];async function jjt({programAddress:t,seeds:e}){if(yXe(),e.length>_Xe)throw new Pn(hde,{actual:e.length,maxSeeds:_Xe});let r,n=e.reduce((c,l,u)=>{let d=typeof l=="string"?(r||=new TextEncoder).encode(l):l;if(d.byteLength>vXe)throw new Pn(gde,{actual:d.byteLength,index:u,maxSeedLength:vXe});return c.push(...d),c},[]),i=Ljt(),o=i.encode(t),s=await crypto.subtle.digest("SHA-256",new Uint8Array([...n,...o,...Gjt])),a=new Uint8Array(s);if(Hjt(a))throw new Pn(r$);return i.decode(a)}async function SXe({programAddress:t,seeds:e}){let r=255;for(;r>0;)try{return[await jjt({programAddress:t,seeds:[...e,new Uint8Array([r])]}),r]}catch(n){if(oXe(n,r$))r--;else throw n}throw new Pn(yde)}function $I(t,...e){return e.reduce((r,n)=>n(r),t)}function AXe(t){return JSON.parse(qjt(t),(e,r)=>Qjt(r)?Kjt(r):r)}function qjt(t){let e=[],r=!1;for(let n=0;n<t.length;n++){let i=!1;if(t[n]==="\\"&&(e.push(t[n++]),i=!i),t[n]==='"'){e.push(t[n]),i||(r=!r);continue}if(!r){let o=Jjt(t,n);if(o?.length){n+=o.length-1,o.match(/\.|[eE]-/)?e.push(o):e.push(Wjt(o));continue}}e.push(t[n])}return e.join("")}function Jjt(t,e){let r=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?/;if(!t[e]?.match(/[-\d]/))return null;let n=t.slice(e).match(r);return n?n[0]:null}function Wjt(t){return`{"$n":"${t}"}`}function Kjt({$n:t}){if(t.match(/[eE]/)){let[e,r]=t.split(/[eE]/);return BigInt(e)*BigInt(10)**BigInt(r)}return BigInt(t)}function Qjt(t){return!!t&&typeof t=="object"&&"$n"in t&&typeof t.$n=="string"}var wXe=0n;function Xjt(){let t=wXe;return wXe++,t.toString()}function EXe(t){return{id:Xjt(),jsonrpc:"2.0",method:t.methodName,params:t.params}}function TXe(t,e){return Zjt(JSON.stringify(t,(r,n)=>typeof n=="bigint"?Yjt(n):n,e))}function Yjt(t){return{$n:`${t}`}}function Zjt(t){return t.replace(/\{\s*"\$n"\s*:\s*"(-?\d+)"\s*\}/g,"$1")}function RXe(t){return eqt(t)}function eqt(t){return new Proxy(t.api,{defineProperty(){return!1},deleteProperty(){return!1},get(e,r,n){if(r!=="then")return function(...i){let o=r.toString(),s=Reflect.get(e,o,n);if(!s)throw new Pn(Rde,{method:o,params:i});let a=s(...i);return tqt(t,a)}}})}function tqt({transport:t},e){return{async send(r){return await e.execute({signal:r?.abortSignal,transport:t})}}}function IXe(t){return new Proxy({},{defineProperty(){return!1},deleteProperty(){return!1},get(...e){let[r,n]=e,i=n.toString();return function(...o){let s=Object.freeze({methodName:i,params:o}),a=t?.requestTransformer?t?.requestTransformer(s):s;return Object.freeze({execute:async({signal:c,transport:l})=>{let u=EXe(a),d=await l({payload:u,signal:c});return t?.responseTransformer?t.responseTransformer(d,a):d}})}}})}function s$(t){return t==null||typeof t!="object"||Array.isArray(t)?!1:"jsonrpc"in t&&t.jsonrpc==="2.0"&&"method"in t&&typeof t.method=="string"&&"params"in t}function rqt(t){return typeof t=="bigint"?Number(t):t}var $t={};function CXe(t){return function e(r,n){if(Array.isArray(r))return r.map((i,o)=>{let s={...n,keyPath:[...n.keyPath,o]};return e(i,s)});if(typeof r=="object"&&r!==null){let i={};for(let o in r){if(!Object.prototype.hasOwnProperty.call(r,o))continue;let s={...n,keyPath:[...n.keyPath,o]};i[o]=e(r[o],s)}return i}else return t.reduce((i,o)=>o(i,n),r)}}function NXe(t,e){return r=>{let n=CXe(t);return Object.freeze({...r,params:n(r.params,e)})}}function OXe(t,e){return r=>CXe(t)(r,e)}function nqt(){return NXe([rqt],{keyPath:[]})}function iqt({commitmentPropertyName:t,params:e,optionsObjectPositionInParams:r,overrideCommitment:n}){let i=e[r];if(i===void 0||i&&typeof i=="object"&&!Array.isArray(i)){if(i&&t in i){if(!i[t]||i[t]==="finalized"){let o=[...e],{[t]:s,...a}=i;return Object.keys(a).length>0?o[r]=a:r===o.length-1?o.length--:o[r]=void 0,o}}else if(n!=="finalized"){let o=[...e];return o[r]={...i,[t]:n},o}}return e}function oqt({defaultCommitment:t,optionsObjectPositionByMethod:e}){return r=>{let{params:n,methodName:i}=r;if(!Array.isArray(n))return r;let o=e[i];return o==null?r:Object.freeze({methodName:i,params:iqt({commitmentPropertyName:i==="sendTransaction"?"preflightCommitment":"commitment",optionsObjectPositionInParams:o,overrideCommitment:t,params:n})})}}function sqt(t){return(e,{keyPath:r})=>(typeof e=="bigint"&&t&&(e>Number.MAX_SAFE_INTEGER||e<-Number.MAX_SAFE_INTEGER)&&t(r,e),e)}function aqt(t){return e=>NXe([sqt((...n)=>t(e,...n))],{keyPath:[]})(e)}var cqt={accountNotifications:1,blockNotifications:1,getAccountInfo:1,getBalance:1,getBlock:1,getBlockHeight:0,getBlockProduction:0,getBlocks:2,getBlocksWithLimit:2,getEpochInfo:0,getFeeForMessage:1,getInflationGovernor:0,getInflationReward:1,getLargestAccounts:0,getLatestBlockhash:0,getLeaderSchedule:1,getMinimumBalanceForRentExemption:1,getMultipleAccounts:1,getProgramAccounts:1,getSignaturesForAddress:1,getSlot:0,getSlotLeader:0,getStakeMinimumDelegation:0,getSupply:0,getTokenAccountBalance:1,getTokenAccountsByDelegate:2,getTokenAccountsByOwner:2,getTokenLargestAccounts:1,getTokenSupply:1,getTransaction:1,getTransactionCount:0,getVoteAccounts:0,isBlockhashValid:1,logsNotifications:1,programNotifications:1,requestAirdrop:2,sendTransaction:1,signatureNotifications:1,simulateTransaction:1};function PXe(t){let e=t?.onIntegerOverflow;return r=>$I(r,e?aqt(e):n=>n,nqt(),oqt({defaultCommitment:t?.defaultCommitment,optionsObjectPositionByMethod:cqt}))}function kXe(t){return function(r,{keyPath:n}){return typeof r=="number"&&Number.isInteger(r)||typeof r=="bigint"?lqt(n,t)?Number(r):BigInt(r):r}}function lqt(t,e){return e.some(r=>{if(r.length!==t.length)return!1;for(let n=t.length-1;n>=0;n--){let i=t[n],o=r[n];if(o!==i&&(o!==$t||typeof i!="number"))return!1}return!0})}function uqt(t){return OXe([kXe(t)],{keyPath:[]})}function dqt(){return t=>t.result}var a$=[["data","parsed","info","tokenAmount","decimals"],["data","parsed","info","tokenAmount","uiAmount"],["data","parsed","info","rentExemptReserve","decimals"],["data","parsed","info","rentExemptReserve","uiAmount"],["data","parsed","info","delegatedAmount","decimals"],["data","parsed","info","delegatedAmount","uiAmount"],["data","parsed","info","extensions",$t,"state","olderTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",$t,"state","newerTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",$t,"state","preUpdateAverageRate"],["data","parsed","info","extensions",$t,"state","currentRate"]],GA=[...a$,["data","parsed","info","lastExtendedSlotStartIndex"],["data","parsed","info","slashPenalty"],["data","parsed","info","warmupCooldownRate"],["data","parsed","info","decimals"],["data","parsed","info","numRequiredSigners"],["data","parsed","info","numValidSigners"],["data","parsed","info","stake","delegation","warmupCooldownRate"],["data","parsed","info","exemptionThreshold"],["data","parsed","info","burnPercent"],["data","parsed","info","commission"],["data","parsed","info","votes",$t,"confirmationCount"]],UI=[["index"],["instructions",$t,"accounts",$t],["instructions",$t,"programIdIndex"],["instructions",$t,"stackHeight"]],kde=[["addressTableLookups",$t,"writableIndexes",$t],["addressTableLookups",$t,"readonlyIndexes",$t],["header","numReadonlySignedAccounts"],["header","numReadonlyUnsignedAccounts"],["header","numRequiredSignatures"],["instructions",$t,"accounts",$t],["instructions",$t,"programIdIndex"],["instructions",$t,"stackHeight"]];function pqt(){return[["loadedAccountsDataSize"],...GA.map(t=>["accounts",$t,...t]),...UI.map(t=>["innerInstructions",$t,...t])]}function fqt(){return(t,e)=>{let r=t;if("error"in r){let{error:n}=r;if(n&&typeof n=="object"&&"code"in n&&(n.code===-32002||n.code===-32002n)&&"data"in n&&n.data){let s=OXe([kXe(pqt())],{keyPath:[]})(n.data,e),a={...n,data:s};throw i$(a)}throw i$(r.error)}return r}}function DXe(t){return(e,r)=>{let n=r.methodName,i=t?.allowedNumericKeyPaths&&n?t.allowedNumericKeyPaths[n]:void 0;return $I(e,o=>fqt()(o,r),o=>dqt()(o,r),o=>uqt(i??[])(o,r))}}function MXe(t){return IXe({requestTransformer:PXe(t),responseTransformer:DXe({allowedNumericKeyPaths:mqt()})})}var Dde;function mqt(){return Dde||(Dde={getAccountInfo:GA.map(t=>["value",...t]),getBlock:[["transactions",$t,"meta","preTokenBalances",$t,"accountIndex"],["transactions",$t,"meta","preTokenBalances",$t,"uiTokenAmount","decimals"],["transactions",$t,"meta","postTokenBalances",$t,"accountIndex"],["transactions",$t,"meta","postTokenBalances",$t,"uiTokenAmount","decimals"],["transactions",$t,"meta","rewards",$t,"commission"],...UI.map(t=>["transactions",$t,"meta","innerInstructions",$t,...t]),...kde.map(t=>["transactions",$t,"transaction","message",...t]),["rewards",$t,"commission"]],getClusterNodes:[[$t,"featureSet"],[$t,"shredVersion"]],getInflationGovernor:[["initial"],["foundation"],["foundationTerm"],["taper"],["terminal"]],getInflationRate:[["foundation"],["total"],["validator"]],getInflationReward:[[$t,"commission"]],getMultipleAccounts:GA.map(t=>["value",$t,...t]),getProgramAccounts:GA.flatMap(t=>[["value",$t,"account",...t],[$t,"account",...t]]),getRecentPerformanceSamples:[[$t,"samplePeriodSecs"]],getTokenAccountBalance:[["value","decimals"],["value","uiAmount"]],getTokenAccountsByDelegate:a$.map(t=>["value",$t,"account",...t]),getTokenAccountsByOwner:a$.map(t=>["value",$t,"account",...t]),getTokenLargestAccounts:[["value",$t,"decimals"],["value",$t,"uiAmount"]],getTokenSupply:[["value","decimals"],["value","uiAmount"]],getTransaction:[["meta","preTokenBalances",$t,"accountIndex"],["meta","preTokenBalances",$t,"uiTokenAmount","decimals"],["meta","postTokenBalances",$t,"accountIndex"],["meta","postTokenBalances",$t,"uiTokenAmount","decimals"],["meta","rewards",$t,"commission"],...UI.map(t=>["meta","innerInstructions",$t,...t]),...kde.map(t=>["transaction","message",...t])],getVersion:[["feature-set"]],getVoteAccounts:[["current",$t,"commission"],["delinquent",$t,"commission"]],simulateTransaction:[["value","loadedAccountsDataSize"],...GA.map(t=>["value","accounts",$t,...t]),...UI.map(t=>["value","innerInstructions",$t,...t])]}),Dde}var hqt={accept:!0,"content-length":!0,"content-type":!0},gqt=Object.assign({"accept-charset":!0,"access-control-request-headers":!0,"access-control-request-method":!0,connection:!0,"content-length":!0,cookie:!0,date:!0,dnt:!0,expect:!0,host:!0,"keep-alive":!0,"permissions-policy":!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,via:!0},void 0,void 0);function yqt(t){let e=Object.keys(t).filter(r=>{let n=r.toLowerCase();return hqt[r.toLowerCase()]===!0||gqt[r.toLowerCase()]===!0||n.startsWith("proxy-")||n.startsWith("sec-")});if(e.length>0)throw new Pn(Ede,{headers:e})}function bqt(t){let e={};for(let r in t)e[r.toLowerCase()]=t[r];return e}function vqt(t){process.env.NODE_ENV;let{fromJson:e,headers:r,toJson:n,url:i}=t;process.env.NODE_ENV!=="production"&&r&&yqt(r);let o;"dispatcher_NODE_ONLY"in t&&(o={dispatcher:t.dispatcher_NODE_ONLY});let s=r&&bqt(r);return async function({payload:c,signal:l}){let u=n?n(c):JSON.stringify(c),d={...o,body:u,headers:{...s,accept:"application/json","content-length":u.length.toString(),"content-type":"application/json; charset=utf-8"},method:"POST",signal:l},p=await fetch(i,d);if(!p.ok)throw new Pn(Tde,{headers:p.headers,message:p.statusText,statusCode:p.status});return e?e(await p.text(),c):await p.json()}}var _qt=["getAccountInfo","getBalance","getBlock","getBlockCommitment","getBlockHeight","getBlockProduction","getBlocks","getBlocksWithLimit","getBlockTime","getClusterNodes","getEpochInfo","getEpochSchedule","getFeeForMessage","getFirstAvailableBlock","getGenesisHash","getHealth","getHighestSnapshotSlot","getIdentity","getInflationGovernor","getInflationRate","getInflationReward","getLargestAccounts","getLatestBlockhash","getLeaderSchedule","getMaxRetransmitSlot","getMaxShredInsertSlot","getMinimumBalanceForRentExemption","getMultipleAccounts","getProgramAccounts","getRecentPerformanceSamples","getRecentPrioritizationFees","getSignaturesForAddress","getSignatureStatuses","getSlot","getSlotLeader","getSlotLeaders","getStakeMinimumDelegation","getSupply","getTokenAccountBalance","getTokenAccountsByDelegate","getTokenAccountsByOwner","getTokenLargestAccounts","getTokenSupply","getTransaction","getTransactionCount","getVersion","getVoteAccounts","index","isBlockhashValid","minimumLedgerSlot","requestAirdrop","sendTransaction","simulateTransaction"];function LXe(t){return s$(t)&&_qt.includes(t.method)}function BXe(t){return vqt({...t,fromJson:(e,r)=>LXe(r)?AXe(e):JSON.parse(e),toJson:e=>LXe(e)?TXe(e):JSON.stringify(e)})}import{setMaxListeners as wqt}from"events";var xqt=Object.prototype.toString,Sqt=Object.keys||function(t){let e=[];for(let r in t)e.push(r);return e};function FI(t,e){let r,n,i,o,s,a,c;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if("toJSON"in t&&typeof t.toJSON=="function")return FI(t.toJSON(),e);if(c=xqt.call(t),c==="[object Array]"){for(i="[",n=t.length-1,r=0;r<n;r++)i+=FI(t[r],!0)+",";return n>-1&&(i+=FI(t[r],!0)),i+"]"}else if(c==="[object Object]"){for(o=Sqt(t).sort(),n=o.length,i="",r=0;r<n;)s=o[r],a=FI(t[s],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(s)+":"+a),r++;return"{"+i+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"bigint":return`${t.toString()}n`;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}function $Xe(t){let e=FI(t,!1);if(e!==void 0)return""+e}function zXe(t,e,r){let n="";if(typeof e[0]=="number"){let s=e[0]+1,a=s%10,c=s%100;a==1&&c!=11?n=s+"st":a==2&&c!=12?n=s+"nd":a==3&&c!=13?n=s+"rd":n=s+"th"}else n=`\`${e[0].toString()}\``;let i=e.length>1?e.slice(1).map(s=>typeof s=="number"?`[${s}]`:s).join("."):void 0,o=new Pn(Ade,{argumentLabel:n,keyPath:e,methodName:t,optionalPathLabel:i?` at path \`${i}\``:"",value:r,...i!==void 0?{path:i}:void 0});return n$(o,zXe),o}var Aqt={defaultCommitment:"confirmed",onIntegerOverflow(t,e,r){throw zXe(t.methodName,e,r)}},Eqt=class extends globalThis.AbortController{constructor(...t){super(...t),wqt(Number.MAX_SAFE_INTEGER,this.signal)}},UXe;function FXe(){return process.env.NODE_ENV!=="production"?{EXPLICIT_ABORT_TOKEN:"This object is thrown from the request that underlies a series of coalesced requests when the last request in that series aborts"}:{}}function Tqt(t,e){let r;return async function(i){let{payload:o,signal:s}=i,a=e(o);if(a===void 0)return await t(i);if(r||(queueMicrotask(()=>{r=void 0}),r={}),r[a]==null){let l=new Eqt,u=(async()=>{try{return await t({...i,signal:l.signal})}catch(d){if(d===(UXe||=FXe()))return;throw d}})();r[a]={abortController:l,numConsumers:0,responsePromise:u}}let c=r[a];if(c.numConsumers++,s){let l=c.responsePromise;return await new Promise((u,d)=>{let p=f=>{s.removeEventListener("abort",p),c.numConsumers-=1,queueMicrotask(()=>{c.numConsumers===0&&c.abortController.abort(UXe||=FXe())}),d(f.target.reason)};s.addEventListener("abort",p),l.then(u).catch(d).finally(()=>{s.removeEventListener("abort",p)})})}else return await c.responsePromise}}function Rqt(t){return s$(t)?$Xe([t.method,t.params]):void 0}function Iqt(t){let e={};for(let r in t)e[r.toLowerCase()]=t[r];return e}function Cqt(t){return $I(BXe({...t,headers:{"accept-encoding":"br,gzip,deflate",...t.headers?Iqt(t.headers):void 0,"solana-client":"js/5.5.1"}}),e=>Tqt(e,Rqt))}function c$(t,e){return Nqt(Cqt({url:t,...e}))}function Nqt(t){return RXe({api:MXe(Aqt),transport:t})}var mZe=5,mpe=1e3,gpe=class{callTimestamps=[];queue=[];processing=!1;_totalCalls=0;_rateLimitHits=0;_totalWaitMs=0;get metrics(){return{totalCalls:this._totalCalls,rateLimitHits:this._rateLimitHits,avgWaitMs:this._totalCalls>0?Math.round(this._totalWaitMs/this._totalCalls):0,queueDepth:this.queue.length}}async execute(e){this._totalCalls++;let r=Date.now();return this.callTimestamps=this.callTimestamps.filter(n=>r-n<mpe),this.callTimestamps.length<mZe?(this.callTimestamps.push(r),e()):(this._rateLimitHits++,new Promise((n,i)=>{this.queue.push({execute:e,resolve:n,reject:i,enqueuedAt:r}),this.processQueue()}))}async processQueue(){if(!this.processing){for(this.processing=!0;this.queue.length>0;){let e=Date.now();if(this.callTimestamps=this.callTimestamps.filter(n=>e-n<mpe),this.callTimestamps.length>=mZe){let n=this.callTimestamps[0],i=mpe-(e-n)+10;await gZe(i);continue}let r=this.queue.shift();if(!r)break;this._totalWaitMs+=Date.now()-r.enqueuedAt,this.callTimestamps.push(Date.now());try{let n=await r.execute();r.resolve(n)}catch(n){r.reject(n instanceof Error?n:new Error(String(n)))}}this.processing=!1}}},lWt=new gpe,hpe=3,uWt=500;async function hZe(t,e){let r=null;for(let n=0;n<=hpe;n++)try{return await lWt.execute(t)}catch(i){if(r=i instanceof Error?i:new Error(String(i)),n<hpe){let o=uWt*Math.pow(2,n),s=Math.random()*o*.3;console.warn(`[SolanaTracker] ${e} attempt ${n+1} failed: ${r.message}. Retrying in ${Math.round(o+s)}ms...`),await gZe(o+s)}}throw new Error(`[SolanaTracker] ${e} failed after ${hpe+1} attempts: ${r?.message}`)}function gZe(t){return new Promise(e=>setTimeout(e,t))}function yZe(){let t=Zr.SOLANA_RPC_URL||"https://api.mainnet-beta.solana.com";return c$(t)}var dWt=1e9;async function ype(t){let e=yZe(),r=await hZe(async()=>(await e.getBalance(Bu(t)).send()).value,`getBalance(${t.slice(0,8)}...)`);return{sol:Number(r)/dWt,lamports:r}}async function bZe(t){let e=yZe(),r="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",n="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb",i=[];for(let o of[r,n])try{let s=await hZe(async()=>(await e.getTokenAccountsByOwner(Bu(t),{programId:Bu(o)},{encoding:"jsonParsed"}).send()).value,`getTokenAccounts(${t.slice(0,8)}..., ${o.slice(0,8)}...)`);for(let a of s){let l=a.account.data?.parsed?.info;if(!l?.mint||!l?.tokenAmount)continue;let u=l.tokenAmount.amount??"0",d=l.tokenAmount.decimals??0,p=l.tokenAmount.uiAmount??0;u!=="0"&&i.push({mintAddress:l.mint,rawAmount:u,amount:p,decimals:d,tokenAccount:a.pubkey})}}catch(s){console.warn(`[SolanaTracker] Failed to fetch token accounts for program ${o.slice(0,8)}...: ${s instanceof Error?s.message:String(s)}`)}return i}var pWt=10000000n,fWt=.01,mWt=[{agentId:"claude-value-investor",agentName:"Claude ValueBot",publicKey:process.env.ANTHROPIC_WALLET_PUBLIC||"11111111111111111111111111111111",provider:"anthropic"},{agentId:"gpt-momentum-trader",agentName:"GPT MomentumBot",publicKey:process.env.OPENAI_WALLET_PUBLIC||"11111111111111111111111111111111",provider:"openai"},{agentId:"grok-contrarian",agentName:"Grok ContrarianBot",publicKey:process.env.GROK_WALLET_PUBLIC||"11111111111111111111111111111111",provider:"xai"}],S$=[],vZe=500,dTn=new Set(Ru.map(t=>t.mintAddress)),pTn=new Map(Ru.map(t=>[t.mintAddress,t]));function _Ze(t){return mWt.find(e=>e.agentId===t)??null}async function bpe(t,e){let r=_Ze(t);if(!r)throw new Error(`agent_wallet_not_found: no wallet configured for ${t}`);let n=0,i=[];if(r.publicKey!=="11111111111111111111111111111111"){let[s,a]=await Promise.all([ype(r.publicKey),bZe(r.publicKey)]);n=s.sol,i=a.map(c=>({mintAddress:c.mintAddress,amount:c.amount}))}let o={agentId:t,timestamp:new Date().toISOString(),solBalance:n,tokenBalances:i,context:e};return S$.push(o),S$.length>vZe&&S$.splice(0,S$.length-vZe),console.log(`[AgentWallets] Snapshot recorded for ${t}: ${e} \u2014 ${n.toFixed(4)} SOL, ${i.length} tokens`),o}async function xZe(t){let e=_Ze(t);if(!e)return{ready:!1,reason:`No wallet configured for agent ${t}`,solBalance:0,publicKey:""};if(e.publicKey==="11111111111111111111111111111111")return{ready:!1,reason:`Wallet for ${t} is a placeholder. Set ${e.agentName.toUpperCase().replace(/\s/g,"_")}_WALLET_ADDRESS env var.`,solBalance:0,publicKey:e.publicKey};try{let{sol:r,lamports:n}=await ype(e.publicKey);return n<pWt?{ready:!1,reason:`Insufficient SOL for fees: ${r.toFixed(4)} SOL (need ${fWt} SOL)`,solBalance:r,publicKey:e.publicKey}:{ready:!0,reason:null,solBalance:r,publicKey:e.publicKey}}catch(r){return{ready:!1,reason:`Failed to check balance: ${r instanceof Error?r.message:String(r)}`,solBalance:0,publicKey:e.publicKey}}}var YA=9e15,h1=1e9,vpe="0123456789abcdef",E$="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",T$="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",_pe={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-YA,maxE:YA,crypto:!1},EZe,yh,ir=!0,I$="[DecimalError] ",m1=I$+"Invalid argument: ",TZe=I$+"Precision limit exceeded",RZe=I$+"crypto unavailable",IZe="[object Decimal]",Js=Math.floor,ko=Math.pow,hWt=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,gWt=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,yWt=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,CZe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Hd=1e7,jt=7,bWt=9007199254740991,vWt=E$.length-1,xpe=T$.length-1,Le={toStringTag:IZe};Le.absoluteValue=Le.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),Ut(t)};Le.ceil=function(){return Ut(new this.constructor(this),this.e+1,2)};Le.clampedTo=Le.clamp=function(t,e){var r,n=this,i=n.constructor;if(t=new i(t),e=new i(e),!t.s||!e.s)return new i(NaN);if(t.gt(e))throw Error(m1+e);return r=n.cmp(t),r<0?t:n.cmp(e)>0?e:new i(n)};Le.comparedTo=Le.cmp=function(t){var e,r,n,i,o=this,s=o.d,a=(t=new o.constructor(t)).d,c=o.s,l=t.s;if(!s||!a)return!c||!l?NaN:c!==l?c:s===a?0:!s^c<0?1:-1;if(!s[0]||!a[0])return s[0]?c:a[0]?-l:0;if(c!==l)return c;if(o.e!==t.e)return o.e>t.e^c<0?1:-1;for(n=s.length,i=a.length,e=0,r=n<i?n:i;e<r;++e)if(s[e]!==a[e])return s[e]>a[e]^c<0?1:-1;return n===i?0:n>i^c<0?1:-1};Le.cosine=Le.cos=function(){var t,e,r=this,n=r.constructor;return r.d?r.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+jt,n.rounding=1,r=_Wt(n,DZe(n,r)),n.precision=t,n.rounding=e,Ut(yh==2||yh==3?r.neg():r,t,e,!0)):new n(1):new n(NaN)};Le.cubeRoot=Le.cbrt=function(){var t,e,r,n,i,o,s,a,c,l,u=this,d=u.constructor;if(!u.isFinite()||u.isZero())return new d(u);for(ir=!1,o=u.s*ko(u.s*u,1/3),!o||Math.abs(o)==1/0?(r=ps(u.d),t=u.e,(o=(t-r.length+1)%3)&&(r+=o==1||o==-2?"0":"00"),o=ko(r,1/3),t=Js((t+1)/3)-(t%3==(t<0?-1:2)),o==1/0?r="5e"+t:(r=o.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),n=new d(r),n.s=u.s):n=new d(o.toString()),s=(t=d.precision)+3;;)if(a=n,c=a.times(a).times(a),l=c.plus(u),n=kn(l.plus(u).times(a),l.plus(c),s+2,1),ps(a.d).slice(0,s)===(r=ps(n.d)).slice(0,s))if(r=r.slice(s-3,s+1),r=="9999"||!i&&r=="4999"){if(!i&&(Ut(a,t+1,0),a.times(a).times(a).eq(u))){n=a;break}s+=4,i=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(Ut(n,t+1,1),e=!n.times(n).times(n).eq(u));break}return ir=!0,Ut(n,t,d.rounding,e)};Le.decimalPlaces=Le.dp=function(){var t,e=this.d,r=NaN;if(e){if(t=e.length-1,r=(t-Js(this.e/jt))*jt,t=e[t],t)for(;t%10==0;t/=10)r--;r<0&&(r=0)}return r};Le.dividedBy=Le.div=function(t){return kn(this,new this.constructor(t))};Le.dividedToIntegerBy=Le.divToInt=function(t){var e=this,r=e.constructor;return Ut(kn(e,new r(t),0,1,1),r.precision,r.rounding)};Le.equals=Le.eq=function(t){return this.cmp(t)===0};Le.floor=function(){return Ut(new this.constructor(this),this.e+1,3)};Le.greaterThan=Le.gt=function(t){return this.cmp(t)>0};Le.greaterThanOrEqualTo=Le.gte=function(t){var e=this.cmp(t);return e==1||e===0};Le.hyperbolicCosine=Le.cosh=function(){var t,e,r,n,i,o=this,s=o.constructor,a=new s(1);if(!o.isFinite())return new s(o.s?1/0:NaN);if(o.isZero())return a;r=s.precision,n=s.rounding,s.precision=r+Math.max(o.e,o.sd())+4,s.rounding=1,i=o.d.length,i<32?(t=Math.ceil(i/3),e=(1/N$(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),o=ZA(s,1,o.times(e),new s(1),!0);for(var c,l=t,u=new s(8);l--;)c=o.times(o),o=a.minus(c.times(u.minus(c.times(u))));return Ut(o,s.precision=r,s.rounding=n,!0)};Le.hyperbolicSine=Le.sinh=function(){var t,e,r,n,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(e=o.precision,r=o.rounding,o.precision=e+Math.max(i.e,i.sd())+4,o.rounding=1,n=i.d.length,n<3)i=ZA(o,2,i,i,!0);else{t=1.4*Math.sqrt(n),t=t>16?16:t|0,i=i.times(1/N$(5,t)),i=ZA(o,2,i,i,!0);for(var s,a=new o(5),c=new o(16),l=new o(20);t--;)s=i.times(i),i=i.times(a.plus(s.times(c.times(s).plus(l))))}return o.precision=e,o.rounding=r,Ut(i,e,r,!0)};Le.hyperbolicTangent=Le.tanh=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,kn(r.sinh(),r.cosh(),n.precision=t,n.rounding=e)):new n(r.s)};Le.inverseCosine=Le.acos=function(){var t=this,e=t.constructor,r=t.abs().cmp(1),n=e.precision,i=e.rounding;return r!==-1?r===0?t.isNeg()?_f(e,n,i):new e(0):new e(NaN):t.isZero()?_f(e,n+4,i).times(.5):(e.precision=n+6,e.rounding=1,t=new e(1).minus(t).div(t.plus(1)).sqrt().atan(),e.precision=n,e.rounding=i,t.times(2))};Le.inverseHyperbolicCosine=Le.acosh=function(){var t,e,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,ir=!1,r=r.times(r).minus(1).sqrt().plus(r),ir=!0,n.precision=t,n.rounding=e,r.ln()):new n(r)};Le.inverseHyperbolicSine=Le.asinh=function(){var t,e,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,ir=!1,r=r.times(r).plus(1).sqrt().plus(r),ir=!0,n.precision=t,n.rounding=e,r.ln())};Le.inverseHyperbolicTangent=Le.atanh=function(){var t,e,r,n,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=o.precision,e=o.rounding,n=i.sd(),Math.max(n,t)<2*-i.e-1?Ut(new o(i),t,e,!0):(o.precision=r=n-i.e,i=kn(i.plus(1),new o(1).minus(i),r+t,1),o.precision=t+4,o.rounding=1,i=i.ln(),o.precision=t,o.rounding=e,i.times(.5))):new o(NaN)};Le.inverseSine=Le.asin=function(){var t,e,r,n,i=this,o=i.constructor;return i.isZero()?new o(i):(e=i.abs().cmp(1),r=o.precision,n=o.rounding,e!==-1?e===0?(t=_f(o,r+4,n).times(.5),t.s=i.s,t):new o(NaN):(o.precision=r+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=r,o.rounding=n,i.times(2)))};Le.inverseTangent=Le.atan=function(){var t,e,r,n,i,o,s,a,c,l=this,u=l.constructor,d=u.precision,p=u.rounding;if(l.isFinite()){if(l.isZero())return new u(l);if(l.abs().eq(1)&&d+4<=xpe)return s=_f(u,d+4,p).times(.25),s.s=l.s,s}else{if(!l.s)return new u(NaN);if(d+4<=xpe)return s=_f(u,d+4,p).times(.5),s.s=l.s,s}for(u.precision=a=d+10,u.rounding=1,r=Math.min(28,a/jt+2|0),t=r;t;--t)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(ir=!1,e=Math.ceil(a/jt),n=1,c=l.times(l),s=new u(l),i=l;t!==-1;)if(i=i.times(c),o=s.minus(i.div(n+=2)),i=i.times(c),s=o.plus(i.div(n+=2)),s.d[e]!==void 0)for(t=e;s.d[t]===o.d[t]&&t--;);return r&&(s=s.times(2<<r-1)),ir=!0,Ut(s,u.precision=d,u.rounding=p,!0)};Le.isFinite=function(){return!!this.d};Le.isInteger=Le.isInt=function(){return!!this.d&&Js(this.e/jt)>this.d.length-2};Le.isNaN=function(){return!this.s};Le.isNegative=Le.isNeg=function(){return this.s<0};Le.isPositive=Le.isPos=function(){return this.s>0};Le.isZero=function(){return!!this.d&&this.d[0]===0};Le.lessThan=Le.lt=function(t){return this.cmp(t)<0};Le.lessThanOrEqualTo=Le.lte=function(t){return this.cmp(t)<1};Le.logarithm=Le.log=function(t){var e,r,n,i,o,s,a,c,l=this,u=l.constructor,d=u.precision,p=u.rounding,f=5;if(t==null)t=new u(10),e=!0;else{if(t=new u(t),r=t.d,t.s<0||!r||!r[0]||t.eq(1))return new u(NaN);e=t.eq(10)}if(r=l.d,l.s<0||!r||!r[0]||l.eq(1))return new u(r&&!r[0]?-1/0:l.s!=1?NaN:r?0:1/0);if(e)if(r.length>1)o=!0;else{for(i=r[0];i%10===0;)i/=10;o=i!==1}if(ir=!1,a=d+f,s=f1(l,a),n=e?R$(u,a+10):f1(t,a),c=kn(s,n,a,1),KI(c.d,i=d,p))do if(a+=10,s=f1(l,a),n=e?R$(u,a+10):f1(t,a),c=kn(s,n,a,1),!o){+ps(c.d).slice(i+1,i+15)+1==1e14&&(c=Ut(c,d+1,0));break}while(KI(c.d,i+=10,p));return ir=!0,Ut(c,d,p)};Le.minus=Le.sub=function(t){var e,r,n,i,o,s,a,c,l,u,d,p,f=this,h=f.constructor;if(t=new h(t),!f.d||!t.d)return!f.s||!t.s?t=new h(NaN):f.d?t.s=-t.s:t=new h(t.d||f.s!==t.s?f:NaN),t;if(f.s!=t.s)return t.s=-t.s,f.plus(t);if(l=f.d,p=t.d,a=h.precision,c=h.rounding,!l[0]||!p[0]){if(p[0])t.s=-t.s;else if(l[0])t=new h(f);else return new h(c===3?-0:0);return ir?Ut(t,a,c):t}if(r=Js(t.e/jt),u=Js(f.e/jt),l=l.slice(),o=u-r,o){for(d=o<0,d?(e=l,o=-o,s=p.length):(e=p,r=u,s=l.length),n=Math.max(Math.ceil(a/jt),s)+2,o>n&&(o=n,e.length=1),e.reverse(),n=o;n--;)e.push(0);e.reverse()}else{for(n=l.length,s=p.length,d=n<s,d&&(s=n),n=0;n<s;n++)if(l[n]!=p[n]){d=l[n]<p[n];break}o=0}for(d&&(e=l,l=p,p=e,t.s=-t.s),s=l.length,n=p.length-s;n>0;--n)l[s++]=0;for(n=p.length;n>o;){if(l[--n]<p[n]){for(i=n;i&&l[--i]===0;)l[i]=Hd-1;--l[i],l[n]+=Hd}l[n]-=p[n]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=C$(l,r),ir?Ut(t,a,c):t):new h(c===3?-0:0)};Le.modulo=Le.mod=function(t){var e,r=this,n=r.constructor;return t=new n(t),!r.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||r.d&&!r.d[0]?Ut(new n(r),n.precision,n.rounding):(ir=!1,n.modulo==9?(e=kn(r,t.abs(),0,3,1),e.s*=t.s):e=kn(r,t,0,n.modulo,1),e=e.times(t),ir=!0,r.minus(e))};Le.naturalExponential=Le.exp=function(){return Spe(this)};Le.naturalLogarithm=Le.ln=function(){return f1(this)};Le.negated=Le.neg=function(){var t=new this.constructor(this);return t.s=-t.s,Ut(t)};Le.plus=Le.add=function(t){var e,r,n,i,o,s,a,c,l,u,d=this,p=d.constructor;if(t=new p(t),!d.d||!t.d)return!d.s||!t.s?t=new p(NaN):d.d||(t=new p(t.d||d.s===t.s?d:NaN)),t;if(d.s!=t.s)return t.s=-t.s,d.minus(t);if(l=d.d,u=t.d,a=p.precision,c=p.rounding,!l[0]||!u[0])return u[0]||(t=new p(d)),ir?Ut(t,a,c):t;if(o=Js(d.e/jt),n=Js(t.e/jt),l=l.slice(),i=o-n,i){for(i<0?(r=l,i=-i,s=u.length):(r=u,n=o,s=l.length),o=Math.ceil(a/jt),s=o>s?o+1:s+1,i>s&&(i=s,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(s=l.length,i=u.length,s-i<0&&(i=s,r=u,u=l,l=r),e=0;i;)e=(l[--i]=l[i]+u[i]+e)/Hd|0,l[i]%=Hd;for(e&&(l.unshift(e),++n),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=C$(l,n),ir?Ut(t,a,c):t};Le.precision=Le.sd=function(t){var e,r=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(m1+t);return r.d?(e=NZe(r.d),t&&r.e+1>e&&(e=r.e+1)):e=NaN,e};Le.round=function(){var t=this,e=t.constructor;return Ut(new e(t),t.e+1,e.rounding)};Le.sine=Le.sin=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+jt,n.rounding=1,r=SWt(n,DZe(n,r)),n.precision=t,n.rounding=e,Ut(yh>2?r.neg():r,t,e,!0)):new n(NaN)};Le.squareRoot=Le.sqrt=function(){var t,e,r,n,i,o,s=this,a=s.d,c=s.e,l=s.s,u=s.constructor;if(l!==1||!a||!a[0])return new u(!l||l<0&&(!a||a[0])?NaN:a?s:1/0);for(ir=!1,l=Math.sqrt(+s),l==0||l==1/0?(e=ps(a),(e.length+c)%2==0&&(e+="0"),l=Math.sqrt(e),c=Js((c+1)/2)-(c<0||c%2),l==1/0?e="5e"+c:(e=l.toExponential(),e=e.slice(0,e.indexOf("e")+1)+c),n=new u(e)):n=new u(l.toString()),r=(c=u.precision)+3;;)if(o=n,n=o.plus(kn(s,o,r+2,1)).times(.5),ps(o.d).slice(0,r)===(e=ps(n.d)).slice(0,r))if(e=e.slice(r-3,r+1),e=="9999"||!i&&e=="4999"){if(!i&&(Ut(o,c+1,0),o.times(o).eq(s))){n=o;break}r+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(Ut(n,c+1,1),t=!n.times(n).eq(s));break}return ir=!0,Ut(n,c,u.rounding,t)};Le.tangent=Le.tan=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,r=r.sin(),r.s=1,r=kn(r,new n(1).minus(r.times(r)).sqrt(),t+10,0),n.precision=t,n.rounding=e,Ut(yh==2||yh==4?r.neg():r,t,e,!0)):new n(NaN)};Le.times=Le.mul=function(t){var e,r,n,i,o,s,a,c,l,u=this,d=u.constructor,p=u.d,f=(t=new d(t)).d;if(t.s*=u.s,!p||!p[0]||!f||!f[0])return new d(!t.s||p&&!p[0]&&!f||f&&!f[0]&&!p?NaN:!p||!f?t.s/0:t.s*0);for(r=Js(u.e/jt)+Js(t.e/jt),c=p.length,l=f.length,c<l&&(o=p,p=f,f=o,s=c,c=l,l=s),o=[],s=c+l,n=s;n--;)o.push(0);for(n=l;--n>=0;){for(e=0,i=c+n;i>n;)a=o[i]+f[n]*p[i-n-1]+e,o[i--]=a%Hd|0,e=a/Hd|0;o[i]=(o[i]+e)%Hd|0}for(;!o[--s];)o.pop();return e?++r:o.shift(),t.d=o,t.e=C$(o,r),ir?Ut(t,d.precision,d.rounding):t};Le.toBinary=function(t,e){return wpe(this,2,t,e)};Le.toDecimalPlaces=Le.toDP=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(vc(t,0,h1),e===void 0?e=n.rounding:vc(e,0,8),Ut(r,t+r.e+1,e))};Le.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=xf(n,!0):(vc(t,0,h1),e===void 0?e=i.rounding:vc(e,0,8),n=Ut(new i(n),t+1,e),r=xf(n,!0,t+1)),n.isNeg()&&!n.isZero()?"-"+r:r};Le.toFixed=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?r=xf(i):(vc(t,0,h1),e===void 0?e=o.rounding:vc(e,0,8),n=Ut(new o(i),t+i.e+1,e),r=xf(n,!1,t+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r};Le.toFraction=function(t){var e,r,n,i,o,s,a,c,l,u,d,p,f=this,h=f.d,m=f.constructor;if(!h)return new m(f);if(l=r=new m(1),n=c=new m(0),e=new m(n),o=e.e=NZe(h)-f.e-1,s=o%jt,e.d[0]=ko(10,s<0?jt+s:s),t==null)t=o>0?e:l;else{if(a=new m(t),!a.isInt()||a.lt(l))throw Error(m1+a);t=a.gt(e)?o>0?e:l:a}for(ir=!1,a=new m(ps(h)),u=m.precision,m.precision=o=h.length*jt*2;d=kn(a,e,0,1,1),i=r.plus(d.times(n)),i.cmp(t)!=1;)r=n,n=i,i=l,l=c.plus(d.times(i)),c=i,i=e,e=a.minus(d.times(i)),a=i;return i=kn(t.minus(r),n,0,1,1),c=c.plus(i.times(l)),r=r.plus(i.times(n)),c.s=l.s=f.s,p=kn(l,n,o,1).minus(f).abs().cmp(kn(c,r,o,1).minus(f).abs())<1?[l,n]:[c,r],m.precision=u,ir=!0,p};Le.toHexadecimal=Le.toHex=function(t,e){return wpe(this,16,t,e)};Le.toNearest=function(t,e){var r=this,n=r.constructor;if(r=new n(r),t==null){if(!r.d)return r;t=new n(1),e=n.rounding}else{if(t=new n(t),e===void 0?e=n.rounding:vc(e,0,8),!r.d)return t.s?r:t;if(!t.d)return t.s&&(t.s=r.s),t}return t.d[0]?(ir=!1,r=kn(r,t,0,e,1).times(t),ir=!0,Ut(r)):(t.s=r.s,r=t),r};Le.toNumber=function(){return+this};Le.toOctal=function(t,e){return wpe(this,8,t,e)};Le.toPower=Le.pow=function(t){var e,r,n,i,o,s,a=this,c=a.constructor,l=+(t=new c(t));if(!a.d||!t.d||!a.d[0]||!t.d[0])return new c(ko(+a,l));if(a=new c(a),a.eq(1))return a;if(n=c.precision,o=c.rounding,t.eq(1))return Ut(a,n,o);if(e=Js(t.e/jt),e>=t.d.length-1&&(r=l<0?-l:l)<=bWt)return i=OZe(c,a,r,n),t.s<0?new c(1).div(i):Ut(i,n,o);if(s=a.s,s<0){if(e<t.d.length-1)return new c(NaN);if((t.d[e]&1)==0&&(s=1),a.e==0&&a.d[0]==1&&a.d.length==1)return a.s=s,a}return r=ko(+a,l),e=r==0||!isFinite(r)?Js(l*(Math.log("0."+ps(a.d))/Math.LN10+a.e+1)):new c(r+"").e,e>c.maxE+1||e<c.minE-1?new c(e>0?s/0:0):(ir=!1,c.rounding=a.s=1,r=Math.min(12,(e+"").length),i=Spe(t.times(f1(a,n+r)),n),i.d&&(i=Ut(i,n+5,1),KI(i.d,n,o)&&(e=n+10,i=Ut(Spe(t.times(f1(a,e+r)),e),e+5,1),+ps(i.d).slice(n+1,n+15)+1==1e14&&(i=Ut(i,n+1,0)))),i.s=s,ir=!0,c.rounding=o,Ut(i,n,o))};Le.toPrecision=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=xf(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(vc(t,1,h1),e===void 0?e=i.rounding:vc(e,0,8),n=Ut(new i(n),t,e),r=xf(n,t<=n.e||n.e<=i.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+r:r};Le.toSignificantDigits=Le.toSD=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(vc(t,1,h1),e===void 0?e=n.rounding:vc(e,0,8)),Ut(new n(r),t,e)};Le.toString=function(){var t=this,e=t.constructor,r=xf(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+r:r};Le.truncated=Le.trunc=function(){return Ut(new this.constructor(this),this.e+1,1)};Le.valueOf=Le.toJSON=function(){var t=this,e=t.constructor,r=xf(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+r:r};function ps(t){var e,r,n,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)n=t[e]+"",r=jt-n.length,r&&(o+=p1(r)),o+=n;s=t[e],n=s+"",r=jt-n.length,r&&(o+=p1(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}function vc(t,e,r){if(t!==~~t||t<e||t>r)throw Error(m1+t)}function KI(t,e,r,n){var i,o,s,a;for(o=t[0];o>=10;o/=10)--e;return--e<0?(e+=jt,i=0):(i=Math.ceil((e+1)/jt),e%=jt),o=ko(10,jt-e),a=t[i]%o|0,n==null?e<3?(e==0?a=a/100|0:e==1&&(a=a/10|0),s=r<4&&a==99999||r>3&&a==49999||a==5e4||a==0):s=(r<4&&a+1==o||r>3&&a+1==o/2)&&(t[i+1]/o/100|0)==ko(10,e-2)-1||(a==o/2||a==0)&&(t[i+1]/o/100|0)==0:e<4?(e==0?a=a/1e3|0:e==1?a=a/100|0:e==2&&(a=a/10|0),s=(n||r<4)&&a==9999||!n&&r>3&&a==4999):s=((n||r<4)&&a+1==o||!n&&r>3&&a+1==o/2)&&(t[i+1]/o/1e3|0)==ko(10,e-3)-1,s}function w$(t,e,r){for(var n,i=[0],o,s=0,a=t.length;s<a;){for(o=i.length;o--;)i[o]*=e;for(i[0]+=vpe.indexOf(t.charAt(s++)),n=0;n<i.length;n++)i[n]>r-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}function _Wt(t,e){var r,n,i;if(e.isZero())return e;n=e.d.length,n<32?(r=Math.ceil(n/3),i=(1/N$(4,r)).toString()):(r=16,i="2.3283064365386962890625e-10"),t.precision+=r,e=ZA(t,1,e.times(i),new t(1));for(var o=r;o--;){var s=e.times(e);e=s.times(s).minus(s).times(8).plus(1)}return t.precision-=r,e}var kn=(function(){function t(n,i,o){var s,a=0,c=n.length;for(n=n.slice();c--;)s=n[c]*i+a,n[c]=s%o|0,a=s/o|0;return a&&n.unshift(a),n}function e(n,i,o,s){var a,c;if(o!=s)c=o>s?1:-1;else for(a=c=0;a<o;a++)if(n[a]!=i[a]){c=n[a]>i[a]?1:-1;break}return c}function r(n,i,o,s){for(var a=0;o--;)n[o]-=a,a=n[o]<i[o]?1:0,n[o]=a*s+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,s,a,c){var l,u,d,p,f,h,m,g,b,_,x,E,R,I,D,k,O,$,j,X,N=n.constructor,v=n.s==i.s?1:-1,S=n.d,T=i.d;if(!S||!S[0]||!T||!T[0])return new N(!n.s||!i.s||(S?T&&S[0]==T[0]:!T)?NaN:S&&S[0]==0||!T?v*0:v/0);for(c?(f=1,u=n.e-i.e):(c=Hd,f=jt,u=Js(n.e/f)-Js(i.e/f)),j=T.length,O=S.length,b=new N(v),_=b.d=[],d=0;T[d]==(S[d]||0);d++);if(T[d]>(S[d]||0)&&u--,o==null?(I=o=N.precision,s=N.rounding):a?I=o+(n.e-i.e)+1:I=o,I<0)_.push(1),h=!0;else{if(I=I/f+2|0,d=0,j==1){for(p=0,T=T[0],I++;(d<O||p)&&I--;d++)D=p*c+(S[d]||0),_[d]=D/T|0,p=D%T|0;h=p||d<O}else{for(p=c/(T[0]+1)|0,p>1&&(T=t(T,p,c),S=t(S,p,c),j=T.length,O=S.length),k=j,x=S.slice(0,j),E=x.length;E<j;)x[E++]=0;X=T.slice(),X.unshift(0),$=T[0],T[1]>=c/2&&++$;do p=0,l=e(T,x,j,E),l<0?(R=x[0],j!=E&&(R=R*c+(x[1]||0)),p=R/$|0,p>1?(p>=c&&(p=c-1),m=t(T,p,c),g=m.length,E=x.length,l=e(m,x,g,E),l==1&&(p--,r(m,j<g?X:T,g,c))):(p==0&&(l=p=1),m=T.slice()),g=m.length,g<E&&m.unshift(0),r(x,m,E,c),l==-1&&(E=x.length,l=e(T,x,j,E),l<1&&(p++,r(x,j<E?X:T,E,c))),E=x.length):l===0&&(p++,x=[0]),_[d++]=p,l&&x[0]?x[E++]=S[k]||0:(x=[S[k]],E=1);while((k++<O||x[0]!==void 0)&&I--);h=x[0]!==void 0}_[0]||_.shift()}if(f==1)b.e=u,EZe=h;else{for(d=1,p=_[0];p>=10;p/=10)d++;b.e=d+u*f-1,Ut(b,a?o+b.e+1:o,s,h)}return b}})();function Ut(t,e,r,n){var i,o,s,a,c,l,u,d,p,f=t.constructor;e:if(e!=null){if(d=t.d,!d)return t;for(i=1,a=d[0];a>=10;a/=10)i++;if(o=e-i,o<0)o+=jt,s=e,u=d[p=0],c=u/ko(10,i-s-1)%10|0;else if(p=Math.ceil((o+1)/jt),a=d.length,p>=a)if(n){for(;a++<=p;)d.push(0);u=c=0,i=1,o%=jt,s=o-jt+1}else break e;else{for(u=a=d[p],i=1;a>=10;a/=10)i++;o%=jt,s=o-jt+i,c=s<0?0:u/ko(10,i-s-1)%10|0}if(n=n||e<0||d[p+1]!==void 0||(s<0?u:u%ko(10,i-s-1)),l=r<4?(c||n)&&(r==0||r==(t.s<0?3:2)):c>5||c==5&&(r==4||n||r==6&&(o>0?s>0?u/ko(10,i-s):0:d[p-1])%10&1||r==(t.s<0?8:7)),e<1||!d[0])return d.length=0,l?(e-=t.e+1,d[0]=ko(10,(jt-e%jt)%jt),t.e=-e||0):d[0]=t.e=0,t;if(o==0?(d.length=p,a=1,p--):(d.length=p+1,a=ko(10,jt-o),d[p]=s>0?(u/ko(10,i-s)%ko(10,s)|0)*a:0),l)for(;;)if(p==0){for(o=1,s=d[0];s>=10;s/=10)o++;for(s=d[0]+=a,a=1;s>=10;s/=10)a++;o!=a&&(t.e++,d[0]==Hd&&(d[0]=1));break}else{if(d[p]+=a,d[p]!=Hd)break;d[p--]=0,a=1}for(o=d.length;d[--o]===0;)d.pop()}return ir&&(t.e>f.maxE?(t.d=null,t.e=NaN):t.e<f.minE&&(t.e=0,t.d=[0])),t}function xf(t,e,r){if(!t.isFinite())return kZe(t);var n,i=t.e,o=ps(t.d),s=o.length;return e?(r&&(n=r-s)>0?o=o.charAt(0)+"."+o.slice(1)+p1(n):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(t.e<0?"e":"e+")+t.e):i<0?(o="0."+p1(-i-1)+o,r&&(n=r-s)>0&&(o+=p1(n))):i>=s?(o+=p1(i+1-s),r&&(n=r-i-1)>0&&(o=o+"."+p1(n))):((n=i+1)<s&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(o+="."),o+=p1(n))),o}function C$(t,e){var r=t[0];for(e*=jt;r>=10;r/=10)e++;return e}function R$(t,e,r){if(e>vWt)throw ir=!0,r&&(t.precision=r),Error(TZe);return Ut(new t(E$),e,1,!0)}function _f(t,e,r){if(e>xpe)throw Error(TZe);return Ut(new t(T$),e,r,!0)}function NZe(t){var e=t.length-1,r=e*jt+1;if(e=t[e],e){for(;e%10==0;e/=10)r--;for(e=t[0];e>=10;e/=10)r++}return r}function p1(t){for(var e="";t--;)e+="0";return e}function OZe(t,e,r,n){var i,o=new t(1),s=Math.ceil(n/jt+4);for(ir=!1;;){if(r%2&&(o=o.times(e),wZe(o.d,s)&&(i=!0)),r=Js(r/2),r===0){r=o.d.length-1,i&&o.d[r]===0&&++o.d[r];break}e=e.times(e),wZe(e.d,s)}return ir=!0,o}function SZe(t){return t.d[t.d.length-1]&1}function PZe(t,e,r){for(var n,i,o=new t(e[0]),s=0;++s<e.length;){if(i=new t(e[s]),!i.s){o=i;break}n=o.cmp(i),(n===r||n===0&&o.s===r)&&(o=i)}return o}function Spe(t,e){var r,n,i,o,s,a,c,l=0,u=0,d=0,p=t.constructor,f=p.rounding,h=p.precision;if(!t.d||!t.d[0]||t.e>17)return new p(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(e==null?(ir=!1,c=h):c=e,a=new p(.03125);t.e>-2;)t=t.times(a),d+=5;for(n=Math.log(ko(2,d))/Math.LN10*2+5|0,c+=n,r=o=s=new p(1),p.precision=c;;){if(o=Ut(o.times(t),c,1),r=r.times(++u),a=s.plus(kn(o,r,c,1)),ps(a.d).slice(0,c)===ps(s.d).slice(0,c)){for(i=d;i--;)s=Ut(s.times(s),c,1);if(e==null)if(l<3&&KI(s.d,c-n,f,l))p.precision=c+=10,r=o=a=new p(1),u=0,l++;else return Ut(s,p.precision=h,f,ir=!0);else return p.precision=h,s}s=a}}function f1(t,e){var r,n,i,o,s,a,c,l,u,d,p,f=1,h=10,m=t,g=m.d,b=m.constructor,_=b.rounding,x=b.precision;if(m.s<0||!g||!g[0]||!m.e&&g[0]==1&&g.length==1)return new b(g&&!g[0]?-1/0:m.s!=1?NaN:g?0:m);if(e==null?(ir=!1,u=x):u=e,b.precision=u+=h,r=ps(g),n=r.charAt(0),Math.abs(o=m.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(t),r=ps(m.d),n=r.charAt(0),f++;o=m.e,n>1?(m=new b("0."+r),o++):m=new b(n+"."+r.slice(1))}else return l=R$(b,u+2,x).times(o+""),m=f1(new b(n+"."+r.slice(1)),u-h).plus(l),b.precision=x,e==null?Ut(m,x,_,ir=!0):m;for(d=m,c=s=m=kn(m.minus(1),m.plus(1),u,1),p=Ut(m.times(m),u,1),i=3;;){if(s=Ut(s.times(p),u,1),l=c.plus(kn(s,new b(i),u,1)),ps(l.d).slice(0,u)===ps(c.d).slice(0,u))if(c=c.times(2),o!==0&&(c=c.plus(R$(b,u+2,x).times(o+""))),c=kn(c,new b(f),u,1),e==null)if(KI(c.d,u-h,_,a))b.precision=u+=h,l=s=m=kn(d.minus(1),d.plus(1),u,1),p=Ut(m.times(m),u,1),i=a=1;else return Ut(c,b.precision=x,_,ir=!0);else return b.precision=x,c;c=l,i+=2}}function kZe(t){return String(t.s*t.s/0)}function A$(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;n++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(n,i),e){if(i-=n,t.e=r=r-n-1,t.d=[],n=(r+1)%jt,r<0&&(n+=jt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=jt;n<i;)t.d.push(+e.slice(n,n+=jt));e=e.slice(n),n=jt-e.length}else n-=i;for(;n--;)e+="0";t.d.push(+e),ir&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function xWt(t,e){var r,n,i,o,s,a,c,l,u;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),CZe.test(e))return A$(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(gWt.test(e))r=16,e=e.toLowerCase();else if(hWt.test(e))r=2;else if(yWt.test(e))r=8;else throw Error(m1+e);for(o=e.search(/p/i),o>0?(c=+e.slice(o+1),e=e.substring(2,o)):e=e.slice(2),o=e.indexOf("."),s=o>=0,n=t.constructor,s&&(e=e.replace(".",""),a=e.length,o=a-o,i=OZe(n,new n(r),o,o*2)),l=w$(e,r,Hd),u=l.length-1,o=u;l[o]===0;--o)l.pop();return o<0?new n(t.s*0):(t.e=C$(l,u),t.d=l,ir=!1,s&&(t=kn(t,i,a*4)),c&&(t=t.times(Math.abs(c)<54?ko(2,c):Ws.pow(2,c))),ir=!0,t)}function SWt(t,e){var r,n=e.d.length;if(n<3)return e.isZero()?e:ZA(t,2,e,e);r=1.4*Math.sqrt(n),r=r>16?16:r|0,e=e.times(1/N$(5,r)),e=ZA(t,2,e,e);for(var i,o=new t(5),s=new t(16),a=new t(20);r--;)i=e.times(e),e=e.times(o.plus(i.times(s.times(i).minus(a))));return e}function ZA(t,e,r,n,i){var o,s,a,c,l=1,u=t.precision,d=Math.ceil(u/jt);for(ir=!1,c=r.times(r),a=new t(n);;){if(s=kn(a.times(c),new t(e++*e++),u,1),a=i?n.plus(s):n.minus(s),n=kn(s.times(c),new t(e++*e++),u,1),s=a.plus(n),s.d[d]!==void 0){for(o=d;s.d[o]===a.d[o]&&o--;);if(o==-1)break}o=a,a=n,n=s,s=o,l++}return ir=!0,s.d.length=d+1,s}function N$(t,e){for(var r=t;--e;)r*=t;return r}function DZe(t,e){var r,n=e.s<0,i=_f(t,t.precision,1),o=i.times(.5);if(e=e.abs(),e.lte(o))return yh=n?4:1,e;if(r=e.divToInt(i),r.isZero())yh=n?3:2;else{if(e=e.minus(r.times(i)),e.lte(o))return yh=SZe(r)?n?2:3:n?4:1,e;yh=SZe(r)?n?1:4:n?3:2}return e.minus(i).abs()}function wpe(t,e,r,n){var i,o,s,a,c,l,u,d,p,f=t.constructor,h=r!==void 0;if(h?(vc(r,1,h1),n===void 0?n=f.rounding:vc(n,0,8)):(r=f.precision,n=f.rounding),!t.isFinite())u=kZe(t);else{for(u=xf(t),s=u.indexOf("."),h?(i=2,e==16?r=r*4-3:e==8&&(r=r*3-2)):i=e,s>=0&&(u=u.replace(".",""),p=new f(1),p.e=u.length-s,p.d=w$(xf(p),10,i),p.e=p.d.length),d=w$(u,10,i),o=c=d.length;d[--c]==0;)d.pop();if(!d[0])u=h?"0p+0":"0";else{if(s<0?o--:(t=new f(t),t.d=d,t.e=o,t=kn(t,p,r,n,0,i),d=t.d,o=t.e,l=EZe),s=d[r],a=i/2,l=l||d[r+1]!==void 0,l=n<4?(s!==void 0||l)&&(n===0||n===(t.s<0?3:2)):s>a||s===a&&(n===4||l||n===6&&d[r-1]&1||n===(t.s<0?8:7)),d.length=r,l)for(;++d[--r]>i-1;)d[r]=0,r||(++o,d.unshift(1));for(c=d.length;!d[c-1];--c);for(s=0,u="";s<c;s++)u+=vpe.charAt(d[s]);if(h){if(c>1)if(e==16||e==8){for(s=e==16?4:3,--c;c%s;c++)u+="0";for(d=w$(u,i,e),c=d.length;!d[c-1];--c);for(s=1,u="1.";s<c;s++)u+=vpe.charAt(d[s])}else u=u.charAt(0)+"."+u.slice(1);u=u+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)u="0"+u;u="0."+u}else if(++o>c)for(o-=c;o--;)u+="0";else o<c&&(u=u.slice(0,o)+"."+u.slice(o))}u=(e==16?"0x":e==2?"0b":e==8?"0o":"")+u}return t.s<0?"-"+u:u}function wZe(t,e){if(t.length>e)return t.length=e,!0}function wWt(t){return new this(t).abs()}function AWt(t){return new this(t).acos()}function EWt(t){return new this(t).acosh()}function TWt(t,e){return new this(t).plus(e)}function RWt(t){return new this(t).asin()}function IWt(t){return new this(t).asinh()}function CWt(t){return new this(t).atan()}function NWt(t){return new this(t).atanh()}function OWt(t,e){t=new this(t),e=new this(e);var r,n=this.precision,i=this.rounding,o=n+4;return!t.s||!e.s?r=new this(NaN):!t.d&&!e.d?(r=_f(this,o,1).times(e.s>0?.25:.75),r.s=t.s):!e.d||t.isZero()?(r=e.s<0?_f(this,n,i):new this(0),r.s=t.s):!t.d||e.isZero()?(r=_f(this,o,1).times(.5),r.s=t.s):e.s<0?(this.precision=o,this.rounding=1,r=this.atan(kn(t,e,o,1)),e=_f(this,o,1),this.precision=n,this.rounding=i,r=t.s<0?r.minus(e):r.plus(e)):r=this.atan(kn(t,e,o,1)),r}function PWt(t){return new this(t).cbrt()}function kWt(t){return Ut(t=new this(t),t.e+1,2)}function DWt(t,e,r){return new this(t).clamp(e,r)}function MWt(t){if(!t||typeof t!="object")throw Error(I$+"Object expected");var e,r,n,i=t.defaults===!0,o=["precision",1,h1,"rounding",0,8,"toExpNeg",-YA,0,"toExpPos",0,YA,"maxE",0,YA,"minE",-YA,0,"modulo",0,9];for(e=0;e<o.length;e+=3)if(r=o[e],i&&(this[r]=_pe[r]),(n=t[r])!==void 0)if(Js(n)===n&&n>=o[e+1]&&n<=o[e+2])this[r]=n;else throw Error(m1+r+": "+n);if(r="crypto",i&&(this[r]=_pe[r]),(n=t[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(RZe);else this[r]=!1;else throw Error(m1+r+": "+n);return this}function LWt(t){return new this(t).cos()}function BWt(t){return new this(t).cosh()}function MZe(t){var e,r,n;function i(o){var s,a,c,l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,AZe(o)){l.s=o.s,ir?!o.d||o.e>i.maxE?(l.e=NaN,l.d=null):o.e<i.minE?(l.e=0,l.d=[0]):(l.e=o.e,l.d=o.d.slice()):(l.e=o.e,l.d=o.d?o.d.slice():o.d);return}if(c=typeof o,c==="number"){if(o===0){l.s=1/o<0?-1:1,l.e=0,l.d=[0];return}if(o<0?(o=-o,l.s=-1):l.s=1,o===~~o&&o<1e7){for(s=0,a=o;a>=10;a/=10)s++;ir?s>i.maxE?(l.e=NaN,l.d=null):s<i.minE?(l.e=0,l.d=[0]):(l.e=s,l.d=[o]):(l.e=s,l.d=[o]);return}if(o*0!==0){o||(l.s=NaN),l.e=NaN,l.d=null;return}return A$(l,o.toString())}if(c==="string")return(a=o.charCodeAt(0))===45?(o=o.slice(1),l.s=-1):(a===43&&(o=o.slice(1)),l.s=1),CZe.test(o)?A$(l,o):xWt(l,o);if(c==="bigint")return o<0?(o=-o,l.s=-1):l.s=1,A$(l,o.toString());throw Error(m1+o)}if(i.prototype=Le,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=MWt,i.clone=MZe,i.isDecimal=AZe,i.abs=wWt,i.acos=AWt,i.acosh=EWt,i.add=TWt,i.asin=RWt,i.asinh=IWt,i.atan=CWt,i.atanh=NWt,i.atan2=OWt,i.cbrt=PWt,i.ceil=kWt,i.clamp=DWt,i.cos=LWt,i.cosh=BWt,i.div=$Wt,i.exp=UWt,i.floor=FWt,i.hypot=zWt,i.ln=VWt,i.log=HWt,i.log10=jWt,i.log2=GWt,i.max=qWt,i.min=JWt,i.mod=WWt,i.mul=KWt,i.pow=QWt,i.random=XWt,i.round=YWt,i.sign=ZWt,i.sin=eKt,i.sinh=tKt,i.sqrt=rKt,i.sub=nKt,i.sum=iKt,i.tan=oKt,i.tanh=sKt,i.trunc=aKt,t===void 0&&(t={}),t&&t.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function $Wt(t,e){return new this(t).div(e)}function UWt(t){return new this(t).exp()}function FWt(t){return Ut(t=new this(t),t.e+1,3)}function zWt(){var t,e,r=new this(0);for(ir=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)r.d&&(r=r.plus(e.times(e)));else{if(e.s)return ir=!0,new this(1/0);r=e}return ir=!0,r.sqrt()}function AZe(t){return t instanceof Ws||t&&t.toStringTag===IZe||!1}function VWt(t){return new this(t).ln()}function HWt(t,e){return new this(t).log(e)}function GWt(t){return new this(t).log(2)}function jWt(t){return new this(t).log(10)}function qWt(){return PZe(this,arguments,-1)}function JWt(){return PZe(this,arguments,1)}function WWt(t,e){return new this(t).mod(e)}function KWt(t,e){return new this(t).mul(e)}function QWt(t,e){return new this(t).pow(e)}function XWt(t){var e,r,n,i,o=0,s=new this(1),a=[];if(t===void 0?t=this.precision:vc(t,1,h1),n=Math.ceil(t/jt),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));o<n;)i=e[o],i>=429e7?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:a[o++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);o<n;)i=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((e[o+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,o):(a.push(i%1e7),o+=4);o=n/4}else throw Error(RZe);else for(;o<n;)a[o++]=Math.random()*1e7|0;for(n=a[--o],t%=jt,n&&t&&(i=ko(10,jt-t),a[o]=(n/i|0)*i);a[o]===0;o--)a.pop();if(o<0)r=0,a=[0];else{for(r=-1;a[0]===0;r-=jt)a.shift();for(n=1,i=a[0];i>=10;i/=10)n++;n<jt&&(r-=jt-n)}return s.e=r,s.d=a,s}function YWt(t){return Ut(t=new this(t),t.e+1,this.rounding)}function ZWt(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function eKt(t){return new this(t).sin()}function tKt(t){return new this(t).sinh()}function rKt(t){return new this(t).sqrt()}function nKt(t,e){return new this(t).sub(e)}function iKt(){var t=0,e=arguments,r=new this(e[t]);for(ir=!1;r.s&&++t<e.length;)r=r.plus(e[t]);return ir=!0,Ut(r,this.precision,this.rounding)}function oKt(t){return new this(t).tan()}function sKt(t){return new this(t).tanh()}function aKt(t){return Ut(t=new this(t),t.e+1,1)}Le[Symbol.for("nodejs.util.inspect.custom")]=Le.toString;Le[Symbol.toStringTag]="Decimal";var Ws=Le.constructor=MZe(_pe);E$=new Ws(E$);T$=new Ws(T$);Af();Nhe();Dhe();var rYt="X-Stamp",zF;(function(t){t.Der="der",t.Raw="raw"})(zF||(zF={}));var nYt=typeof window<"u"&&typeof window.document<"u"&&typeof crypto<"u"&&typeof crypto.subtle<"u",iYt=typeof process<"u"&&process.versions!=null&&process.versions.node!=null,oYt=()=>nYt?"browser":iYt?"node":"purejs",T9=async(t,e)=>{let r=e??oYt();switch(r){case"browser":return(await Promise.resolve().then(()=>(yot(),got))).signWithApiKey(t);case"node":return(await Promise.resolve().then(()=>(vot(),bot))).signWithApiKey(t);case"purejs":return(await Promise.resolve().then(()=>(rst(),tst))).signWithApiKey(t);default:throw new Error(`Unsupported runtime: ${r}`)}},R9=class{constructor(e){this.apiPublicKey=e.apiPublicKey,this.apiPrivateKey=e.apiPrivateKey,this.runtimeOverride=e.runtimeOverride}async stamp(e){let r=await T9({publicKey:this.apiPublicKey,privateKey:this.apiPrivateKey,content:e},this.runtimeOverride),n={publicKey:this.apiPublicKey,scheme:"SIGNATURE_SCHEME_TK_API_P256",signature:r};return{stampHeaderName:rYt,stampHeaderValue:e4(JSON.stringify(n))}}async sign(e,r){switch(r){case zF.Raw:{let n=await T9({publicKey:this.apiPublicKey,privateKey:this.apiPrivateKey,content:e},this.runtimeOverride),i=G$(n);return Sf(i)}case zF.Der:return T9({publicKey:this.apiPublicKey,privateKey:this.apiPrivateKey,content:e},this.runtimeOverride);default:throw new Error(`Unsupported signature format: ${r}`)}}};var eZt=ti(bge(),1);Af();var rp="copy",Xh="convert";function WF(t,e){return{required:!0,schema:t,derive:e}}function Oa(t){return{required:!0,schema:t}}function iE(t){return{required:!1,schema:t}}var Fst={appid:iE(rp),appidExclude:iE(rp),credProps:iE(rp)},tZt={type:Oa(rp),id:Oa(rp),rawId:Oa(Xh),authenticatorAttachment:iE(rp),response:Oa({clientDataJSON:Oa(Xh),attestationObject:Oa(Xh),transports:WF(rp,t=>t.getTransports?.()||[])}),clientExtensionResults:WF(Fst,t=>t.getClientExtensionResults())},rZt={type:Oa(rp),id:Oa(rp),rawId:Oa(Xh),authenticatorAttachment:iE(rp),response:Oa({clientDataJSON:Oa(Xh),authenticatorData:Oa(Xh),signature:Oa(Xh),userHandle:Oa(Xh)}),clientExtensionResults:WF(Fst,t=>t.getClientExtensionResults())};var CGn=300*1e3;function L9(t){return t?.name==="TurnkeyClient"}var oE=class extends Error{constructor(e){let{message:r,cause:n,activityId:i,activityStatus:o,activityType:s}=e;super(r),this.name="TurnkeyActivityError",this.activityId=i??void 0,this.activityStatus=o??void 0,this.activityType=s??void 0,this.cause=n??void 0}},KF=class extends Error{constructor(e){let{message:r,cause:n,activityId:i,activityStatus:o,activityType:s}=e;super(r),this.name="TurnkeyActivityConsensusNeededError",this.activityId=i??void 0,this.activityStatus=o??void 0,this.activityType=s??void 0,this.cause=n??void 0}};function sy(t){let{id:e,status:r}=t;if(r==="ACTIVITY_STATUS_CONSENSUS_NEEDED")throw new KF({message:"Activity requires consensus",activityId:e,activityStatus:r});if(r!=="ACTIVITY_STATUS_COMPLETED")throw new oE({message:`Expected COMPLETED status, got ${r}`,activityId:e,activityStatus:r});return!0}function ay(t){if(t==null)throw new Error(`Got unexpected ${JSON.stringify(t)}`);return t}var QF=["ACTIVITY_STATUS_COMPLETED","ACTIVITY_STATUS_FAILED","ACTIVITY_STATUS_REJECTED"];var Hst;(function(t){t[t.Get=0]="Get",t[t.List=1]="List",t[t.Command=2]="Command"})(Hst||(Hst={}));var XF=class extends Error{constructor(e){let r=`Turnkey error ${e.code}: ${e.message}`;e.details!=null&&(r+=` (Details: ${JSON.stringify(e.details)})`),super(r),this.name="TurnkeyRequestError",this.details=e.details??null,this.code=e.code}},vge;(function(t){t.Email="EMAIL",t.PhoneNumber="PHONE_NUMBER",t.OidcToken="OIDC_TOKEN",t.PublicKey="PUBLIC_KEY"})(vge||(vge={}));var Gst="@turnkey/sdk-server@5.0.2";var YF=class{constructor(e){this.getActivity=async r=>this.request("/public/v1/query/get_activity",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetActivity=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_activity",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getApiKey=async r=>this.request("/public/v1/query/get_api_key",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetApiKey=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_api_key",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getApiKeys=async(r={})=>this.request("/public/v1/query/get_api_keys",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetApiKeys=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_api_keys",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getAttestationDocument=async r=>this.request("/public/v1/query/get_attestation",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetAttestationDocument=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_attestation",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getAuthenticator=async r=>this.request("/public/v1/query/get_authenticator",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetAuthenticator=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_authenticator",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getAuthenticators=async r=>this.request("/public/v1/query/get_authenticators",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetAuthenticators=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_authenticators",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getBootProof=async r=>this.request("/public/v1/query/get_boot_proof",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetBootProof=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_boot_proof",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getGasUsage=async r=>this.request("/public/v1/query/get_gas_usage",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetGasUsage=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_gas_usage",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getLatestBootProof=async r=>this.request("/public/v1/query/get_latest_boot_proof",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetLatestBootProof=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_latest_boot_proof",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getNonces=async r=>this.request("/public/v1/query/get_nonces",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetNonces=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_nonces",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getOauth2Credential=async r=>this.request("/public/v1/query/get_oauth2_credential",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetOauth2Credential=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_oauth2_credential",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getOauthProviders=async r=>this.request("/public/v1/query/get_oauth_providers",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetOauthProviders=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_oauth_providers",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getOnRampTransactionStatus=async r=>this.request("/public/v1/query/get_onramp_transaction_status",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetOnRampTransactionStatus=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_onramp_transaction_status",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getOrganization=async(r={})=>this.request("/public/v1/query/get_organization",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetOrganization=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_organization",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getOrganizationConfigs=async r=>this.request("/public/v1/query/get_organization_configs",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetOrganizationConfigs=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_organization_configs",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getPolicy=async r=>this.request("/public/v1/query/get_policy",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetPolicy=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_policy",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getPolicyEvaluations=async r=>this.request("/public/v1/query/get_policy_evaluations",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetPolicyEvaluations=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_policy_evaluations",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getPrivateKey=async r=>this.request("/public/v1/query/get_private_key",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetPrivateKey=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_private_key",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getSendTransactionStatus=async r=>this.request("/public/v1/query/get_send_transaction_status",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetSendTransactionStatus=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_send_transaction_status",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getSmartContractInterface=async r=>this.request("/public/v1/query/get_smart_contract_interface",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetSmartContractInterface=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_smart_contract_interface",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getUser=async r=>this.request("/public/v1/query/get_user",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetUser=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_user",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getWallet=async r=>this.request("/public/v1/query/get_wallet",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetWallet=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_wallet",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getWalletAccount=async r=>this.request("/public/v1/query/get_wallet_account",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetWalletAccount=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_wallet_account",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getActivities=async(r={})=>this.request("/public/v1/query/list_activities",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetActivities=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_activities",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getAppProofs=async r=>this.request("/public/v1/query/list_app_proofs",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetAppProofs=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_app_proofs",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.listFiatOnRampCredentials=async r=>this.request("/public/v1/query/list_fiat_on_ramp_credentials",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampListFiatOnRampCredentials=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_fiat_on_ramp_credentials",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.listOauth2Credentials=async r=>this.request("/public/v1/query/list_oauth2_credentials",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampListOauth2Credentials=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_oauth2_credentials",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getPolicies=async(r={})=>this.request("/public/v1/query/list_policies",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetPolicies=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_policies",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.listPrivateKeyTags=async r=>this.request("/public/v1/query/list_private_key_tags",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampListPrivateKeyTags=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_private_key_tags",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getPrivateKeys=async(r={})=>this.request("/public/v1/query/list_private_keys",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetPrivateKeys=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_private_keys",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getSmartContractInterfaces=async r=>this.request("/public/v1/query/list_smart_contract_interfaces",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetSmartContractInterfaces=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_smart_contract_interfaces",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getSubOrgIds=async(r={})=>this.request("/public/v1/query/list_suborgs",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetSubOrgIds=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_suborgs",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.listUserTags=async(r={})=>this.request("/public/v1/query/list_user_tags",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampListUserTags=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_user_tags",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getUsers=async(r={})=>this.request("/public/v1/query/list_users",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetUsers=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_users",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getVerifiedSubOrgIds=async r=>this.request("/public/v1/query/list_verified_suborgs",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetVerifiedSubOrgIds=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_verified_suborgs",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getWalletAccounts=async r=>this.request("/public/v1/query/list_wallet_accounts",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetWalletAccounts=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_wallet_accounts",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getWallets=async(r={})=>this.request("/public/v1/query/list_wallets",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetWallets=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_wallets",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getWhoami=async(r={})=>this.request("/public/v1/query/whoami",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetWhoami=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/whoami",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.approveActivity=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.activityDecision("/public/v1/submit/approve_activity",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_APPROVE_ACTIVITY"})},this.stampApproveActivity=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/approve_activity",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_APPROVE_ACTIVITY"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createApiKeys=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_api_keys",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_API_KEYS_V2"},"createApiKeysResult")},this.stampCreateApiKeys=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_api_keys",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_API_KEYS_V2"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createApiOnlyUsers=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_api_only_users",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_API_ONLY_USERS"},"createApiOnlyUsersResult")},this.stampCreateApiOnlyUsers=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_api_only_users",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_API_ONLY_USERS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createAuthenticators=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_authenticators",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_AUTHENTICATORS_V2"},"createAuthenticatorsResult")},this.stampCreateAuthenticators=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_authenticators",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_AUTHENTICATORS_V2"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createFiatOnRampCredential=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_fiat_on_ramp_credential",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_FIAT_ON_RAMP_CREDENTIAL"},"createFiatOnRampCredentialResult")},this.stampCreateFiatOnRampCredential=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_fiat_on_ramp_credential",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_FIAT_ON_RAMP_CREDENTIAL"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createInvitations=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_invitations",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_INVITATIONS"},"createInvitationsResult")},this.stampCreateInvitations=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_invitations",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_INVITATIONS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createOauth2Credential=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_oauth2_credential",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_OAUTH2_CREDENTIAL"},"createOauth2CredentialResult")},this.stampCreateOauth2Credential=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_oauth2_credential",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_OAUTH2_CREDENTIAL"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createOauthProviders=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_oauth_providers",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_OAUTH_PROVIDERS"},"createOauthProvidersResult")},this.stampCreateOauthProviders=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_oauth_providers",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_OAUTH_PROVIDERS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createPolicies=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_policies",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_POLICIES"},"createPoliciesResult")},this.stampCreatePolicies=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_policies",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_POLICIES"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createPolicy=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_policy",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_POLICY_V3"},"createPolicyResult")},this.stampCreatePolicy=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_policy",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_POLICY_V3"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createPrivateKeyTag=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_private_key_tag",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_PRIVATE_KEY_TAG"},"createPrivateKeyTagResult")},this.stampCreatePrivateKeyTag=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_private_key_tag",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_PRIVATE_KEY_TAG"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createPrivateKeys=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_private_keys",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_PRIVATE_KEYS_V2"},"createPrivateKeysResultV2")},this.stampCreatePrivateKeys=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_private_keys",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_PRIVATE_KEYS_V2"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createReadOnlySession=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_read_only_session",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_READ_ONLY_SESSION"},"createReadOnlySessionResult")},this.stampCreateReadOnlySession=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_read_only_session",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_READ_ONLY_SESSION"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createReadWriteSession=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_read_write_session",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_READ_WRITE_SESSION_V2"},"createReadWriteSessionResultV2")},this.stampCreateReadWriteSession=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_read_write_session",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_READ_WRITE_SESSION_V2"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createSmartContractInterface=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_smart_contract_interface",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_SMART_CONTRACT_INTERFACE"},"createSmartContractInterfaceResult")},this.stampCreateSmartContractInterface=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_smart_contract_interface",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_SMART_CONTRACT_INTERFACE"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createSubOrganization=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_sub_organization",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_SUB_ORGANIZATION_V7"},"createSubOrganizationResultV7")},this.stampCreateSubOrganization=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_sub_organization",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_SUB_ORGANIZATION_V7"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createUserTag=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_user_tag",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_USER_TAG"},"createUserTagResult")},this.stampCreateUserTag=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_user_tag",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_USER_TAG"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createUsers=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_users",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_USERS_V3"},"createUsersResult")},this.stampCreateUsers=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_users",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_USERS_V3"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createWallet=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_wallet",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_WALLET"},"createWalletResult")},this.stampCreateWallet=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_wallet",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_WALLET"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createWalletAccounts=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_wallet_accounts",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_WALLET_ACCOUNTS"},"createWalletAccountsResult")},this.stampCreateWalletAccounts=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_wallet_accounts",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_WALLET_ACCOUNTS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteApiKeys=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_api_keys",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_API_KEYS"},"deleteApiKeysResult")},this.stampDeleteApiKeys=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_api_keys",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_API_KEYS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteAuthenticators=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_authenticators",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_AUTHENTICATORS"},"deleteAuthenticatorsResult")},this.stampDeleteAuthenticators=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_authenticators",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_AUTHENTICATORS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteFiatOnRampCredential=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_fiat_on_ramp_credential",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_FIAT_ON_RAMP_CREDENTIAL"},"deleteFiatOnRampCredentialResult")},this.stampDeleteFiatOnRampCredential=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_fiat_on_ramp_credential",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_FIAT_ON_RAMP_CREDENTIAL"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteInvitation=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_invitation",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_INVITATION"},"deleteInvitationResult")},this.stampDeleteInvitation=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_invitation",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_INVITATION"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteOauth2Credential=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_oauth2_credential",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_OAUTH2_CREDENTIAL"},"deleteOauth2CredentialResult")},this.stampDeleteOauth2Credential=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_oauth2_credential",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_OAUTH2_CREDENTIAL"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteOauthProviders=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_oauth_providers",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_OAUTH_PROVIDERS"},"deleteOauthProvidersResult")},this.stampDeleteOauthProviders=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_oauth_providers",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_OAUTH_PROVIDERS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deletePolicies=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_policies",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_POLICIES"},"deletePoliciesResult")},this.stampDeletePolicies=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_policies",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_POLICIES"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deletePolicy=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_policy",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_POLICY"},"deletePolicyResult")},this.stampDeletePolicy=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_policy",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_POLICY"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deletePrivateKeyTags=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_private_key_tags",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_PRIVATE_KEY_TAGS"},"deletePrivateKeyTagsResult")},this.stampDeletePrivateKeyTags=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_private_key_tags",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_PRIVATE_KEY_TAGS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deletePrivateKeys=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_private_keys",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_PRIVATE_KEYS"},"deletePrivateKeysResult")},this.stampDeletePrivateKeys=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_private_keys",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_PRIVATE_KEYS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteSmartContractInterface=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_smart_contract_interface",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_SMART_CONTRACT_INTERFACE"},"deleteSmartContractInterfaceResult")},this.stampDeleteSmartContractInterface=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_smart_contract_interface",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_SMART_CONTRACT_INTERFACE"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteSubOrganization=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_sub_organization",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_SUB_ORGANIZATION"},"deleteSubOrganizationResult")},this.stampDeleteSubOrganization=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_sub_organization",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_SUB_ORGANIZATION"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteUserTags=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_user_tags",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_USER_TAGS"},"deleteUserTagsResult")},this.stampDeleteUserTags=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_user_tags",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_USER_TAGS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteUsers=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_users",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_USERS"},"deleteUsersResult")},this.stampDeleteUsers=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_users",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_USERS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteWalletAccounts=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_wallet_accounts",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_WALLET_ACCOUNTS"},"deleteWalletAccountsResult")},this.stampDeleteWalletAccounts=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_wallet_accounts",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_WALLET_ACCOUNTS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteWallets=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_wallets",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_WALLETS"},"deleteWalletsResult")},this.stampDeleteWallets=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_wallets",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_WALLETS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.emailAuth=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/email_auth",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_EMAIL_AUTH_V3"},"emailAuthResult")},this.stampEmailAuth=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/email_auth",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_EMAIL_AUTH_V3"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.ethSendRawTransaction=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/eth_send_raw_transaction",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_ETH_SEND_RAW_TRANSACTION"},"ethSendRawTransactionResult")},this.stampEthSendRawTransaction=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/eth_send_raw_transaction",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_ETH_SEND_RAW_TRANSACTION"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.ethSendTransaction=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/eth_send_transaction",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_ETH_SEND_TRANSACTION"},"ethSendTransactionResult")},this.stampEthSendTransaction=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/eth_send_transaction",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_ETH_SEND_TRANSACTION"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.exportPrivateKey=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/export_private_key",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_PRIVATE_KEY"},"exportPrivateKeyResult")},this.stampExportPrivateKey=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/export_private_key",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_PRIVATE_KEY"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.exportWallet=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/export_wallet",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET"},"exportWalletResult")},this.stampExportWallet=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/export_wallet",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.exportWalletAccount=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/export_wallet_account",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET_ACCOUNT"},"exportWalletAccountResult")},this.stampExportWalletAccount=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/export_wallet_account",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET_ACCOUNT"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.importPrivateKey=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/import_private_key",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_IMPORT_PRIVATE_KEY"},"importPrivateKeyResult")},this.stampImportPrivateKey=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/import_private_key",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_IMPORT_PRIVATE_KEY"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.importWallet=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/import_wallet",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_IMPORT_WALLET"},"importWalletResult")},this.stampImportWallet=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/import_wallet",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_IMPORT_WALLET"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.initFiatOnRamp=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/init_fiat_on_ramp",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_FIAT_ON_RAMP"},"initFiatOnRampResult")},this.stampInitFiatOnRamp=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/init_fiat_on_ramp",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_FIAT_ON_RAMP"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.initImportPrivateKey=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/init_import_private_key",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_IMPORT_PRIVATE_KEY"},"initImportPrivateKeyResult")},this.stampInitImportPrivateKey=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/init_import_private_key",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_IMPORT_PRIVATE_KEY"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.initImportWallet=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/init_import_wallet",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_IMPORT_WALLET"},"initImportWalletResult")},this.stampInitImportWallet=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/init_import_wallet",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_IMPORT_WALLET"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.initOtp=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/init_otp",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_OTP_V2"},"initOtpResult")},this.stampInitOtp=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/init_otp",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_OTP_V2"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.initOtpAuth=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/init_otp_auth",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_OTP_AUTH_V3"},"initOtpAuthResultV2")},this.stampInitOtpAuth=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/init_otp_auth",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_OTP_AUTH_V3"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.initUserEmailRecovery=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/init_user_email_recovery",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_USER_EMAIL_RECOVERY_V2"},"initUserEmailRecoveryResult")},this.stampInitUserEmailRecovery=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/init_user_email_recovery",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_USER_EMAIL_RECOVERY_V2"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.oauth=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/oauth",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH"},"oauthResult")},this.stampOauth=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/oauth",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.oauth2Authenticate=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/oauth2_authenticate",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH2_AUTHENTICATE"},"oauth2AuthenticateResult")},this.stampOauth2Authenticate=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/oauth2_authenticate",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH2_AUTHENTICATE"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.oauthLogin=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/oauth_login",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH_LOGIN"},"oauthLoginResult")},this.stampOauthLogin=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/oauth_login",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH_LOGIN"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.otpAuth=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/otp_auth",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_OTP_AUTH"},"otpAuthResult")},this.stampOtpAuth=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/otp_auth",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_OTP_AUTH"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.otpLogin=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/otp_login",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_OTP_LOGIN"},"otpLoginResult")},this.stampOtpLogin=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/otp_login",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_OTP_LOGIN"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.recoverUser=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/recover_user",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_RECOVER_USER"},"recoverUserResult")},this.stampRecoverUser=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/recover_user",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_RECOVER_USER"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.rejectActivity=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.activityDecision("/public/v1/submit/reject_activity",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_REJECT_ACTIVITY"})},this.stampRejectActivity=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/reject_activity",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_REJECT_ACTIVITY"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.removeOrganizationFeature=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/remove_organization_feature",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_REMOVE_ORGANIZATION_FEATURE"},"removeOrganizationFeatureResult")},this.stampRemoveOrganizationFeature=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/remove_organization_feature",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_REMOVE_ORGANIZATION_FEATURE"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.setOrganizationFeature=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/set_organization_feature",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_SET_ORGANIZATION_FEATURE"},"setOrganizationFeatureResult")},this.stampSetOrganizationFeature=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/set_organization_feature",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_SET_ORGANIZATION_FEATURE"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.signRawPayload=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/sign_raw_payload",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOAD_V2"},"signRawPayloadResult")},this.stampSignRawPayload=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/sign_raw_payload",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOAD_V2"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.signRawPayloads=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/sign_raw_payloads",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOADS"},"signRawPayloadsResult")},this.stampSignRawPayloads=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/sign_raw_payloads",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOADS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.signTransaction=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/sign_transaction",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_TRANSACTION_V2"},"signTransactionResult")},this.stampSignTransaction=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/sign_transaction",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_TRANSACTION_V2"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.stampLogin=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/stamp_login",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_STAMP_LOGIN"},"stampLoginResult")},this.stampStampLogin=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/stamp_login",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_STAMP_LOGIN"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updateFiatOnRampCredential=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/update_fiat_on_ramp_credential",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_FIAT_ON_RAMP_CREDENTIAL"},"updateFiatOnRampCredentialResult")},this.stampUpdateFiatOnRampCredential=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/update_fiat_on_ramp_credential",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_FIAT_ON_RAMP_CREDENTIAL"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updateOauth2Credential=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/update_oauth2_credential",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_OAUTH2_CREDENTIAL"},"updateOauth2CredentialResult")},this.stampUpdateOauth2Credential=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/update_oauth2_credential",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_OAUTH2_CREDENTIAL"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updatePolicy=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/update_policy",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_POLICY_V2"},"updatePolicyResultV2")},this.stampUpdatePolicy=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/update_policy",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_POLICY_V2"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updatePrivateKeyTag=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/update_private_key_tag",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_PRIVATE_KEY_TAG"},"updatePrivateKeyTagResult")},this.stampUpdatePrivateKeyTag=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/update_private_key_tag",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_PRIVATE_KEY_TAG"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updateRootQuorum=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/update_root_quorum",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_ROOT_QUORUM"},"updateRootQuorumResult")},this.stampUpdateRootQuorum=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/update_root_quorum",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_ROOT_QUORUM"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updateUser=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/update_user",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER"},"updateUserResult")},this.stampUpdateUser=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/update_user",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updateUserEmail=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/update_user_email",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_EMAIL"},"updateUserEmailResult")},this.stampUpdateUserEmail=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/update_user_email",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_EMAIL"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updateUserName=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/update_user_name",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_NAME"},"updateUserNameResult")},this.stampUpdateUserName=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/update_user_name",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_NAME"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updateUserPhoneNumber=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/update_user_phone_number",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_PHONE_NUMBER"},"updateUserPhoneNumberResult")},this.stampUpdateUserPhoneNumber=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/update_user_phone_number",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_PHONE_NUMBER"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updateUserTag=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/update_user_tag",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_TAG"},"updateUserTagResult")},this.stampUpdateUserTag=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/update_user_tag",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_TAG"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updateWallet=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/update_wallet",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_WALLET"},"updateWalletResult")},this.stampUpdateWallet=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/update_wallet",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_WALLET"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.verifyOtp=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/verify_otp",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_VERIFY_OTP"},"verifyOtpResult")},this.stampVerifyOtp=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/verify_otp",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_VERIFY_OTP"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.testRateLimits=async r=>this.request("/tkhq/api/v1/test_rate_limits",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampTestRateLimits=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/tkhq/api/v1/test_rate_limits",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.config=e,this.stamper=e.stamper}async request(e,r){let n=this.config.apiBaseUrl+e,i=JSON.stringify(r),o=await this.stamper.stamp(i),s=await fetch(n,{method:"POST",headers:{[o.stampHeaderName]:o.stampHeaderValue,"X-Client-Version":Gst},body:i,redirect:"follow"});if(!s.ok){let c;try{c=await s.json()}catch{throw new Error(`${s.status} ${s.statusText}`)}throw new XF(c)}return await s.json()}async command(e,r,n){let i=this.config.activityPoller?.intervalMs??1e3,o=this.config.activityPoller?.numRetries??3,s=d=>new Promise(p=>setTimeout(p,d)),a=d=>{let{result:p,status:f}=d.activity;return f==="ACTIVITY_STATUS_COMPLETED"?{...p[`${n}`],...d}:d},c=0,l=async(d,p)=>{let f={activityId:d,organizationId:p},h=await this.getActivity(f);return c>o?a(h):(c+=1,QF.includes(h.activity.status)?a(h):(await s(i),l(d,p)))},u=await this.request(e,r);return QF.includes(u.activity.status)?a(u):l(u.activity.id,u.activity.organizationId)}async activityDecision(e,r){let n=await this.request(e,r);return{...n.activity.result,...n}}};var jst=["oauth","createReadWriteSession","createSubOrganization","emailAuth","initUserEmailRecovery"],d_=class{constructor(e){this.apiClient=r=>(this.stamper=new R9({apiPublicKey:r?.apiPublicKey??this.config.apiPublicKey,apiPrivateKey:r?.apiPrivateKey??this.config.apiPrivateKey,runtimeOverride:this.config.runtimeOverride}),new ez({stamper:this.stamper,apiBaseUrl:this.config.apiBaseUrl,organizationId:this.config.defaultOrganizationId,activityPoller:this.config.activityPoller})),this.apiProxy=async(r,n)=>{let o=this.apiClient()[r];if(typeof o=="function")return await o(...n);throw new Error(`Method: ${r} does not exist on TurnkeySDKClient`)},this.expressProxyHandler=r=>{let n=r.allowedMethods??jst;return async(i,o)=>{let{methodName:s,params:a}=i.body;(!s||!a)&&o.status(400).send("methodName and params are required.");try{if(n.includes(s)){let c=await this.apiProxy(s,a);o.json(c)}else o.status(401).send("Unauthorized proxy method");return}catch(c){c instanceof Error?o.status(500).send(c.message):o.status(500).send("An unexpected error occurred");return}}},this.nextProxyHandler=r=>{let n=r.allowedMethods??jst;return async(i,o)=>{let{methodName:s,params:a}=i.body;(!s||!a)&&o.status(400).send("methodName and params are required.");try{if(n.includes(s)){let c=await this.apiProxy(s,a);o.json(c)}else o.status(401).send("Unauthorized proxy method");return}catch(c){c instanceof Error?o.status(500).send(c.message):o.status(500).send("An unexpected error occurred");return}}},this.config=e}},ZF=class extends YF{constructor(e){super(e)}},ez=class extends ZF{constructor(e){super(e)}};var cZt=ti(bge(),1);var qst=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/60'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_ETHEREUM"}),Jst=[qst(0)],Wst=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/118'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_COSMOS"}),lZt=[Wst(0)],Kst=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/195'/${t}'`,addressFormat:"ADDRESS_FORMAT_TRON"}),uZt=[Kst(0)],Qst=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/0'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_MAINNET_P2PKH"}),dZt=[Qst(0)],Xst=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/84'/0'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_MAINNET_P2WPKH"}),pZt=[Xst(0)],Yst=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/48'/0'/${t}'/2'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_MAINNET_P2WSH"}),fZt=[Yst(0)],Zst=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/86'/0'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_MAINNET_P2TR"}),mZt=[Zst(0)],eat=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/0'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_MAINNET_P2SH"}),hZt=[eat(0)],tat=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_TESTNET_P2PKH"}),gZt=[tat(0)],rat=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/84'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_TESTNET_P2WPKH"}),yZt=[rat(0)],nat=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/48'/1'/${t}'/2'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_TESTNET_P2WSH"}),bZt=[nat(0)],iat=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/86'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_TESTNET_P2TR"}),vZt=[iat(0)],oat=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_TESTNET_P2SH"}),_Zt=[oat(0)],sat=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_SIGNET_P2PKH"}),xZt=[sat(0)],aat=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/84'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_SIGNET_P2WPKH"}),SZt=[aat(0)],cat=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/48'/1'/${t}'/2'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_SIGNET_P2WSH"}),wZt=[cat(0)],lat=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/86'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_SIGNET_P2TR"}),AZt=[lat(0)],uat=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_SIGNET_P2SH"}),EZt=[uat(0)],dat=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_REGTEST_P2PKH"}),TZt=[dat(0)],pat=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/84'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_REGTEST_P2WPKH"}),RZt=[pat(0)],fat=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/48'/1'/${t}'/2'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_REGTEST_P2WSH"}),IZt=[fat(0)],mat=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/86'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_REGTEST_P2TR"}),CZt=[mat(0)],hat=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_REGTEST_P2SH"}),NZt=[hat(0)],gat=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/3'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_DOGE_MAINNET"}),OZt=[gat(0)],yat=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/3'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_DOGE_TESTNET"}),PZt=[yat(0)],bat=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/118'/${t}'/0'/0'`,addressFormat:"ADDRESS_FORMAT_SEI"});var kZt=[bat(0)],vat=t=>({curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/501'/${t}'/0'`,addressFormat:"ADDRESS_FORMAT_SOLANA"}),_ge=[vat(0)],_at=t=>({curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/784'/${t}'/0'/0'`,addressFormat:"ADDRESS_FORMAT_SUI"}),DZt=[_at(0)],xat=t=>({curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/637'/${t}'/0'/0'`,addressFormat:"ADDRESS_FORMAT_APTOS"}),MZt=[xat(0)],Sat=t=>({curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/148'/${t}'`,addressFormat:"ADDRESS_FORMAT_XLM"}),LZt=[Sat(0)],wat=t=>({curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/607'/${t}'/0'/0'`,addressFormat:"ADDRESS_FORMAT_TON_V3R2"}),BZt=[wat(0)],Aat=t=>({curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/607'/${t}'/0'/0'`,addressFormat:"ADDRESS_FORMAT_TON_V4R2"}),$Zt=[Aat(0)];var sE;(function(t){t.Ethereum="ethereum",t.Solana="solana"})(sE||(sE={}));Af();Nhe();var rqn=new d_({apiBaseUrl:process.env.NEXT_PUBLIC_BASE_URL,defaultOrganizationId:process.env.NEXT_PUBLIC_ORGANIZATION_ID,apiPrivateKey:process.env.TURNKEY_API_PRIVATE_KEY,apiPublicKey:process.env.TURNKEY_API_PUBLIC_KEY});import{Buffer as sr}from"buffer";ZI();wh();$F();q4();$F();o_();var cy=BigInt(0),es=BigInt(1),wge=BigInt(2),XZt=BigInt(8);function YZt(t,e,r,n){let i=t.sqr(r),o=t.sqr(n),s=t.add(t.mul(e.a,i),o),a=t.add(t.ONE,t.mul(e.d,t.mul(i,o)));return t.eql(s,a)}function ZZt(t,e={}){let r=BF("edwards",t,e,e.FpFnLE),{Fp:n,Fn:i}=r,o=r.CURVE,{h:s}=o;Z1(e,{},{uvRatio:"function"});let a=wge<<BigInt(i.BYTES*8)-es,c=g=>n.create(g),l=e.uvRatio||((g,b)=>{try{return{isValid:!0,value:n.sqrt(n.div(g,b))}}catch{return{isValid:!1,value:cy}}});if(!YZt(n,o,o.Gx,o.Gy))throw new Error("bad curve params: generator point");function u(g,b,_=!1){let x=_?es:cy;return S9("coordinate "+g,b,x,a),b}function d(g){if(!(g instanceof h))throw new Error("ExtendedPoint expected")}let p=j4((g,b)=>{let{X:_,Y:x,Z:E}=g,R=g.is0();b==null&&(b=R?XZt:n.inv(E));let I=c(_*b),D=c(x*b),k=n.mul(E,b);if(R)return{x:cy,y:es};if(k!==es)throw new Error("invZ was invalid");return{x:I,y:D}}),f=j4(g=>{let{a:b,d:_}=o;if(g.is0())throw new Error("bad point: ZERO");let{X:x,Y:E,Z:R,T:I}=g,D=c(x*x),k=c(E*E),O=c(R*R),$=c(O*O),j=c(D*b),X=c(O*c(j+k)),N=c($+c(_*c(D*k)));if(X!==N)throw new Error("bad point: equation left != right (1)");let v=c(x*E),S=c(R*I);if(v!==S)throw new Error("bad point: equation left != right (2)");return!0});class h{constructor(b,_,x,E){this.X=u("x",b),this.Y=u("y",_),this.Z=u("z",x,!0),this.T=u("t",E),Object.freeze(this)}static CURVE(){return o}static fromAffine(b){if(b instanceof h)throw new Error("extended point not allowed");let{x:_,y:x}=b||{};return u("x",_),u("y",x),new h(_,x,es,c(_*x))}static fromBytes(b,_=!1){let x=n.BYTES,{a:E,d:R}=o;b=Fhe(dl(b,x,"point")),Vh(_,"zip215");let I=Fhe(b),D=b[x-1];I[x-1]=D&-129;let k=Hh(I),O=_?a:n.ORDER;S9("point.y",k,cy,O);let $=c(k*k),j=c($-es),X=c(R*$-E),{isValid:N,value:v}=l(j,X);if(!N)throw new Error("bad point: invalid y coordinate");let S=(v&es)===es,T=(D&128)!==0;if(!_&&v===cy&&T)throw new Error("bad point: x=0 and x_0=1");return T!==S&&(v=c(-v)),h.fromAffine({x:v,y:k})}static fromHex(b,_=!1){return h.fromBytes(Sn("point",b),_)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(b=8,_=!0){return m.createCache(this,b),_||this.multiply(wge),this}assertValidity(){f(this)}equals(b){d(b);let{X:_,Y:x,Z:E}=this,{X:R,Y:I,Z:D}=b,k=c(_*D),O=c(R*E),$=c(x*D),j=c(I*E);return k===O&&$===j}is0(){return this.equals(h.ZERO)}negate(){return new h(c(-this.X),this.Y,this.Z,c(-this.T))}double(){let{a:b}=o,{X:_,Y:x,Z:E}=this,R=c(_*_),I=c(x*x),D=c(wge*c(E*E)),k=c(b*R),O=_+x,$=c(c(O*O)-R-I),j=k+I,X=j-D,N=k-I,v=c($*X),S=c(j*N),T=c($*N),M=c(X*j);return new h(v,S,M,T)}add(b){d(b);let{a:_,d:x}=o,{X:E,Y:R,Z:I,T:D}=this,{X:k,Y:O,Z:$,T:j}=b,X=c(E*k),N=c(R*O),v=c(D*x*j),S=c(I*$),T=c((E+R)*(k+O)-X-N),M=S-v,U=S+v,H=c(N-_*X),K=c(T*M),G=c(U*H),w=c(T*H),Q=c(M*U);return new h(K,G,Q,w)}subtract(b){return this.add(b.negate())}multiply(b){if(!i.isValidNot0(b))throw new Error("invalid scalar: expected 1 <= sc < curve.n");let{p:_,f:x}=m.cached(this,b,E=>jh(h,E));return jh(h,[_,x])[0]}multiplyUnsafe(b,_=h.ZERO){if(!i.isValid(b))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return b===cy?h.ZERO:this.is0()||b===es?this:m.unsafe(this,b,x=>jh(h,x),_)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}isTorsionFree(){return m.unsafe(this,o.n).is0()}toAffine(b){return p(this,b)}clearCofactor(){return s===es?this:this.multiplyUnsafe(s)}toBytes(){let{x:b,y:_}=this.toAffine(),x=n.toBytes(_);return x[x.length-1]|=b&es?128:0,x}toHex(){return zu(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(b){return jh(h,b)}static msm(b,_){return K4(h,i,b,_)}_setWindowSize(b){this.precompute(b)}toRawBytes(){return this.toBytes()}}h.BASE=new h(o.Gx,o.Gy,es,c(o.Gx*o.Gy)),h.ZERO=new h(cy,es,es,cy),h.Fp=n,h.Fn=i;let m=new W4(h,i.BITS);return h.BASE.precompute(8),h}var tz=class{constructor(e){this.ep=e}static fromBytes(e){zhe()}static fromHex(e){zhe()}get x(){return this.toAffine().x}get y(){return this.toAffine().y}clearCofactor(){return this}assertValidity(){this.ep.assertValidity()}toAffine(e){return this.ep.toAffine(e)}toHex(){return zu(this.toBytes())}toString(){return this.toHex()}isTorsionFree(){return!0}isSmallOrder(){return!1}add(e){return this.assertSame(e),this.init(this.ep.add(e.ep))}subtract(e){return this.assertSame(e),this.init(this.ep.subtract(e.ep))}multiply(e){return this.init(this.ep.multiply(e))}multiplyUnsafe(e){return this.init(this.ep.multiplyUnsafe(e))}double(){return this.init(this.ep.double())}negate(){return this.init(this.ep.negate())}precompute(e,r){return this.init(this.ep.precompute(e,r))}toRawBytes(){return this.toBytes()}};function eer(t,e,r={}){if(typeof e!="function")throw new Error('"hash" function param is required');Z1(r,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});let{prehash:n}=r,{BASE:i,Fp:o,Fn:s}=t,a=r.randomBytes||r4,c=r.adjustScalarBytes||(O=>O),l=r.domain||((O,$,j)=>{if(Vh(j,"phflag"),$.length||j)throw new Error("Contexts/pre-hash are not supported");return O});function u(O){return s.create(Hh(O))}function d(O){let $=x.secretKey;O=Sn("private key",O,$);let j=Sn("hashed private key",e(O),2*$),X=c(j.slice(0,$)),N=j.slice($,2*$),v=u(X);return{head:X,prefix:N,scalar:v}}function p(O){let{head:$,prefix:j,scalar:X}=d(O),N=i.multiply(X),v=N.toBytes();return{head:$,prefix:j,scalar:X,point:N,pointBytes:v}}function f(O){return p(O).pointBytes}function h(O=Uint8Array.of(),...$){let j=Ta(...$);return u(e(l(j,Sn("context",O),!!n)))}function m(O,$,j={}){O=Sn("message",O),n&&(O=n(O));let{prefix:X,scalar:N,pointBytes:v}=p($),S=h(j.context,X,O),T=i.multiply(S).toBytes(),M=h(j.context,T,v,O),U=s.create(S+M*N);if(!s.isValid(U))throw new Error("sign failed: invalid s");let H=Ta(T,s.toBytes(U));return dl(H,x.signature,"result")}let g={zip215:!0};function b(O,$,j,X=g){let{context:N,zip215:v}=X,S=x.signature;O=Sn("signature",O,S),$=Sn("message",$),j=Sn("publicKey",j,x.publicKey),v!==void 0&&Vh(v,"zip215"),n&&($=n($));let T=S/2,M=O.subarray(0,T),U=Hh(O.subarray(T,S)),H,K,G;try{H=t.fromBytes(j,v),K=t.fromBytes(M,v),G=i.multiplyUnsafe(U)}catch{return!1}if(!v&&H.isSmallOrder())return!1;let w=h(N,K.toBytes(),H.toBytes(),$);return K.add(H.multiplyUnsafe(w)).subtract(G).clearCofactor().is0()}let _=o.BYTES,x={secretKey:_,publicKey:_,signature:2*_,seed:_};function E(O=a(x.seed)){return dl(O,x.seed,"seed")}function R(O){let $=k.randomSecretKey(O);return{secretKey:$,publicKey:f($)}}function I(O){return xh(O)&&O.length===s.BYTES}function D(O,$){try{return!!t.fromBytes(O,$)}catch{return!1}}let k={getExtendedPublicKey:p,randomSecretKey:E,isValidSecretKey:I,isValidPublicKey:D,toMontgomery(O){let{y:$}=t.fromBytes(O),j=x.publicKey,X=j===32;if(!X&&j!==57)throw new Error("only defined for 25519 and 448");let N=X?o.div(es+$,es-$):o.div($-es,$+es);return o.toBytes(N)},toMontgomerySecret(O){let $=x.secretKey;dl(O,$);let j=e(O.subarray(0,$));return c(j).subarray(0,$)},randomPrivateKey:E,precompute(O=8,$=t.BASE){return $.precompute(O,!1)}};return Object.freeze({keygen:R,getPublicKey:f,sign:m,verify:b,utils:k,Point:t,lengths:x})}function ter(t){let e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp,n=_s(e.n,t.nBitLength,!0),i={Fp:r,Fn:n,uvRatio:t.uvRatio},o={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:i,hash:t.hash,eddsaOpts:o}}function rer(t,e){let r=e.Point;return Object.assign({},e,{ExtendedPoint:r,CURVE:t,nBitLength:r.Fn.BITS,nByteLength:r.Fn.BYTES})}function kat(t){let{CURVE:e,curveOpts:r,hash:n,eddsaOpts:i}=ter(t),o=ZZt(e,r),s=eer(o,n,i);return rer(t,s)}o_();q4();var ner=BigInt(0),Yh=BigInt(1),Dat=BigInt(2),Mqn=BigInt(3),ier=BigInt(5),oer=BigInt(8),aE=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),$9={p:aE,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:oer,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function ser(t){let e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),o=aE,a=t*t%o*t%o,c=di(a,Dat,o)*a%o,l=di(c,Yh,o)*t%o,u=di(l,ier,o)*l%o,d=di(u,e,o)*u%o,p=di(d,r,o)*d%o,f=di(p,n,o)*p%o,h=di(f,i,o)*f%o,m=di(h,i,o)*f%o,g=di(m,e,o)*u%o;return{pow_p_5_8:di(g,Dat,o)*t%o,b2:a}}function aer(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}var Age=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function Rge(t,e){let r=aE,n=ki(e*e*e,r),i=ki(n*n*e,r),o=ser(t*i).pow_p_5_8,s=ki(t*n*o,r),a=ki(e*s*s,r),c=s,l=ki(s*Age,r),u=a===t,d=a===ki(-t,r),p=a===ki(-t*Age,r);return u&&(s=c),(d||p)&&(s=l),Gh(s,r)&&(s=ki(-s,r)),{isValid:u||d,value:s}}var ly=_s($9.p,{isLE:!0}),cer=_s($9.n,{isLE:!0}),ler={...$9,Fp:ly,hash:F$,adjustScalarBytes:aer,uvRatio:Rge},Nc=kat(ler);var Ege=Age,uer=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),der=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),per=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),fer=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),Mat=t=>Rge(Yh,t),mer=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Tge=t=>Nc.Point.Fp.create(Hh(t)&mer);function Lat(t){let{d:e}=$9,r=aE,n=b=>ly.create(b),i=n(Ege*t*t),o=n((i+Yh)*per),s=BigInt(-1),a=n((s-e*i)*n(i+e)),{isValid:c,value:l}=Rge(o,a),u=n(l*t);Gh(u,r)||(u=n(-u)),c||(l=u),c||(s=i);let d=n(s*(i-Yh)*fer-a),p=l*l,f=n((l+l)*a),h=n(d*uer),m=n(Yh-p),g=n(Yh+p);return new Nc.Point(n(f*g),n(m*h),n(h*g),n(f*m))}function her(t){fs(t,64);let e=Tge(t.subarray(0,32)),r=Lat(e),n=Tge(t.subarray(32,64)),i=Lat(n);return new Zh(r.add(i))}var Zh=class t extends tz{constructor(e){super(e)}static fromAffine(e){return new t(Nc.Point.fromAffine(e))}assertSame(e){if(!(e instanceof t))throw new Error("RistrettoPoint expected")}init(e){return new t(e)}static hashToCurve(e){return her(Sn("ristrettoHash",e,64))}static fromBytes(e){fs(e,32);let{a:r,d:n}=$9,i=aE,o=E=>ly.create(E),s=Tge(e);if(!xot(ly.toBytes(s),e)||Gh(s,i))throw new Error("invalid ristretto255 encoding 1");let a=o(s*s),c=o(Yh+r*a),l=o(Yh-r*a),u=o(c*c),d=o(l*l),p=o(r*n*u-d),{isValid:f,value:h}=Mat(o(p*d)),m=o(h*l),g=o(h*m*p),b=o((s+s)*m);Gh(b,i)&&(b=o(-b));let _=o(c*g),x=o(b*_);if(!f||Gh(x,i)||_===ner)throw new Error("invalid ristretto255 encoding 2");return new t(new Nc.Point(b,_,Yh,x))}static fromHex(e){return t.fromBytes(Sn("ristrettoHex",e,32))}static msm(e,r){return K4(t,Nc.Point.Fn,e,r)}toBytes(){let{X:e,Y:r,Z:n,T:i}=this.ep,o=aE,s=g=>ly.create(g),a=s(s(n+r)*s(n-r)),c=s(e*r),l=s(c*c),{value:u}=Mat(s(a*l)),d=s(u*a),p=s(u*c),f=s(d*p*i),h;if(Gh(i*f,o)){let g=s(r*Ege),b=s(e*Ege);e=g,r=b,h=s(d*der)}else h=p;Gh(e*f,o)&&(r=s(-r));let m=s((n-r)*h);return Gh(m,o)&&(m=s(-m)),ly.toBytes(m)}equals(e){this.assertSame(e);let{X:r,Y:n}=this.ep,{X:i,Y:o}=e.ep,s=l=>ly.create(l),a=s(r*o)===s(n*i),c=s(n*o)===s(r*i);return a||c}is0(){return this.equals(t.ZERO)}};Zh.BASE=new Zh(Nc.Point.BASE);Zh.ZERO=new Zh(Nc.Point.ZERO);Zh.Fp=ly;Zh.Fn=cer;var p0e=ti(Cge()),na=ti(Hat());kpe();var vE=ti(Zat()),te=ti(Fge()),nlt=ti(Fge());var $er=1,Uer=2,Fer=3,zer=4,Ver=5,Her=6,Ger=7,jer=8,qer=9,Jer=10,Wer=-32700,Ker=-32603,Qer=-32602,Xer=-32601,Yer=-32600,Zer=-32016,etr=-32015,ttr=-32014,rtr=-32013,ntr=-32012,itr=-32011,otr=-32010,str=-32009,atr=-32008,ctr=-32007,ltr=-32006,utr=-32005,dtr=-32004,ptr=-32003,ftr=-32002,mtr=-32001,htr=28e5,gtr=2800001,ytr=2800002,btr=2800003,vtr=2800004,_tr=2800005,xtr=2800006,Str=2800007,wtr=2800008,Atr=2800009,Etr=2800010,Ttr=2800011,Rtr=323e4,Itr=32300001,Ctr=3230002,Ntr=3230003,Otr=3230004,Ptr=361e4,ktr=3610001,Dtr=3610002,Mtr=3610003,Ltr=3610004,Btr=3610005,$tr=3610006,Utr=3610007,Ftr=3611e3,ztr=3704e3,Vtr=3704001,Htr=3704002,Gtr=3704003,jtr=3704004,qtr=4128e3,Jtr=4128001,Wtr=4128002,Ktr=4615e3,Qtr=4615001,Xtr=4615002,Ytr=4615003,Ztr=4615004,err=4615005,trr=4615006,rrr=4615007,nrr=4615008,irr=4615009,orr=4615010,srr=4615011,arr=4615012,crr=4615013,lrr=4615014,urr=4615015,drr=4615016,prr=4615017,frr=4615018,mrr=4615019,hrr=4615020,grr=4615021,yrr=4615022,brr=4615023,vrr=4615024,_rr=4615025,xrr=4615026,Srr=4615027,wrr=4615028,Arr=4615029,Err=4615030,Trr=4615031,Rrr=4615032,Irr=4615033,Crr=4615034,Nrr=4615035,Orr=4615036,Prr=4615037,krr=4615038,Drr=4615039,Mrr=4615040,Lrr=4615041,Brr=4615042,$rr=4615043,Urr=4615044,Frr=4615045,zrr=4615046,Vrr=4615047,Hrr=4615048,Grr=4615049,jrr=4615050,qrr=4615051,Jrr=4615052,Wrr=4615053,Krr=4615054,Qrr=5508e3,Xrr=5508001,Yrr=5508002,Zrr=5508003,enr=5508004,tnr=5508005,rnr=5508006,nnr=5508007,inr=5508008,onr=5508009,snr=5508010,anr=5508011,cnr=5663e3,lnr=5663001,unr=5663002,dnr=5663003,pnr=5663004,fnr=5663005,mnr=5663006,hnr=5663007,gnr=5663008,ynr=5663009,bnr=5663010,vnr=5663011,_nr=5663012,xnr=5663013,Snr=5663014,wnr=5663015,Anr=5663016,Enr=5663017,Tnr=5663018,Rnr=5663019,Inr=5663020,Cnr=705e4,Nnr=7050001,Onr=7050002,Pnr=7050003,knr=7050004,Dnr=7050005,Mnr=7050006,Lnr=7050007,Bnr=7050008,$nr=7050009,Unr=7050010,Fnr=7050011,znr=7050012,Vnr=7050013,Hnr=7050014,Gnr=7050015,jnr=7050016,qnr=7050017,Jnr=7050018,Wnr=7050019,Knr=7050020,Qnr=7050021,Xnr=7050022,Ynr=7050023,Znr=7050024,eir=7050025,tir=7050026,rir=7050027,nir=7050028,iir=7050029,oir=7050030,sir=7050031,air=7050032,cir=7050033,lir=7050034,uir=7050035,dir=7050036,zge=8078e3,Vge=8078001,ect=8078002,tct=8078003,Hge=8078004,Gge=8078005,jge=8078006,pir=8078007,fir=8078008,mir=8078009,hir=8078010,qge=8078011,gir=8078012,rct=8078013,nct=8078014,yir=8078015,bir=8078016,vir=8078017,_ir=8078018,xir=8078019,ict=8078020,oct=8078021,Sir=8078022,wir=81e5,Air=8100001,Eir=8100002,Tir=8100003,Rir=819e4,Iir=8190001,Cir=8190002,Nir=8190003,Oir=8190004,Pir=99e5,kir=9900001,Dir=9900002,Mir=9900003,Lir=9900004;function sct(t){return Array.isArray(t)?"%5B"+t.map(sct).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function Bir([t,e]){return`${t}=${sct(e)}`}function $ir(t){let e=Object.entries(t).map(Bir).join("&");return Buffer.from(e,"utf8").toString("base64")}var Uir={[Rtr]:"Account not found at address: $address",[Otr]:"Not all accounts were decoded. Encoded accounts found at addresses: $addresses.",[Ntr]:"Expected decoded account at address: $address",[Ctr]:"Failed to decode account data at address: $address",[Itr]:"Accounts not found at addresses: $addresses",[Atr]:"Unable to find a viable program address bump seed.",[ytr]:"$putativeAddress is not a base58-encoded address.",[htr]:"Expected base58 encoded address to decode to a byte array of length 32. Actual length: $actualLength.",[btr]:"The `CryptoKey` must be an `Ed25519` public key.",[Ttr]:"$putativeOffCurveAddress is not a base58-encoded off-curve address.",[wtr]:"Invalid seeds; point must fall off the Ed25519 curve.",[vtr]:"Expected given program derived address to have the following format: [Address, ProgramDerivedAddressBump].",[xtr]:"A maximum of $maxSeeds seeds, including the bump seed, may be supplied when creating an address. Received: $actual.",[Str]:"The seed at index $index with length $actual exceeds the maximum length of $maxSeedLength bytes.",[_tr]:"Expected program derived address bump to be in the range [0, 255], got: $bump.",[Etr]:"Program address cannot end with PDA marker.",[gtr]:"Expected base58-encoded address string of length in the range [32, 44]. Actual length: $actualLength.",[zer]:"Expected base58-encoded blockash string of length in the range [32, 44]. Actual length: $actualLength.",[$er]:"The network has progressed past the last block for which this transaction could have been committed.",[zge]:"Codec [$codecDescription] cannot decode empty byte arrays.",[Sir]:"Enum codec cannot use lexical values [$stringValues] as discriminators. Either remove all lexical values or set `useValuesAsDiscriminators` to `false`.",[ict]:"Sentinel [$hexSentinel] must not be present in encoded bytes [$hexEncodedBytes].",[Gge]:"Encoder and decoder must have the same fixed size, got [$encoderFixedSize] and [$decoderFixedSize].",[jge]:"Encoder and decoder must have the same max size, got [$encoderMaxSize] and [$decoderMaxSize].",[Hge]:"Encoder and decoder must either both be fixed-size or variable-size.",[fir]:"Enum discriminator out of range. Expected a number in [$formattedValidDiscriminators], got $discriminator.",[ect]:"Expected a fixed-size codec, got a variable-size one.",[rct]:"Codec [$codecDescription] expected a positive byte length, got $bytesLength.",[tct]:"Expected a variable-size codec, got a fixed-size one.",[xir]:"Codec [$codecDescription] expected zero-value [$hexZeroValue] to have the same size as the provided fixed-size item [$expectedSize bytes].",[Vge]:"Codec [$codecDescription] expected $expected bytes, got $bytesLength.",[_ir]:"Expected byte array constant [$hexConstant] to be present in data [$hexData] at offset [$offset].",[mir]:"Invalid discriminated union variant. Expected one of [$variants], got $value.",[hir]:"Invalid enum variant. Expected one of [$stringValues] or a number in [$formattedNumericalValues], got $variant.",[yir]:"Invalid literal union variant. Expected one of [$variants], got $value.",[pir]:"Expected [$codecDescription] to have $expected items, got $actual.",[gir]:"Invalid value $value for base $base with alphabet $alphabet.",[bir]:"Literal union discriminator out of range. Expected a number between $minRange and $maxRange, got $discriminator.",[qge]:"Codec [$codecDescription] expected number to be in the range [$min, $max], got $value.",[nct]:"Codec [$codecDescription] expected offset to be in the range [0, $bytesLength], got $offset.",[oct]:"Expected sentinel [$hexSentinel] to be present in decoded bytes [$hexDecodedBytes].",[vir]:"Union variant out of range. Expected an index between $minRange and $maxRange, got $variant.",[Ftr]:"No random values implementation could be found.",[irr]:"instruction requires an uninitialized account",[brr]:"instruction tries to borrow reference for an account which is already borrowed",[vrr]:"instruction left account with an outstanding borrowed reference",[grr]:"program other than the account's owner changed the size of the account data",[err]:"account data too small for instruction",[yrr]:"instruction expected an executable account",[zrr]:"An account does not have enough lamports to be rent-exempt",[Hrr]:"Program arithmetic overflowed",[Frr]:"Failed to serialize or deserialize account data: $encodedData",[Krr]:"Builtin programs must consume compute units",[Rrr]:"Cross-program invocation call depth too deep",[krr]:"Computational budget exceeded",[xrr]:"custom program error: #$code",[prr]:"instruction contains duplicate accounts",[_rr]:"instruction modifications of multiply-passed account differ",[Err]:"executable accounts must be rent exempt",[wrr]:"instruction changed executable accounts data",[Arr]:"instruction changed the balance of an executable account",[frr]:"instruction changed executable bit of an account",[lrr]:"instruction modified data of an account it does not own",[crr]:"instruction spent from the balance of an account it does not own",[Qtr]:"generic instruction error",[jrr]:"Provided owner is not allowed",[$rr]:"Account is immutable",[Urr]:"Incorrect authority provided",[rrr]:"incorrect program id for instruction",[trr]:"insufficient funds for instruction",[Ztr]:"invalid account data for instruction",[Vrr]:"Invalid account owner",[Xtr]:"invalid program argument",[Srr]:"program returned invalid error code",[Ytr]:"invalid instruction data",[Prr]:"Failed to reallocate account data",[Orr]:"Provided seeds do not result in a valid address",[qrr]:"Accounts data allocations exceeded the maximum allowed per transaction",[Jrr]:"Max accounts exceeded",[Wrr]:"Max instruction trace length exceeded",[Nrr]:"Length of the seed is too long for address generation",[Irr]:"An account required by the instruction is missing",[nrr]:"missing required signature for instruction",[arr]:"instruction illegally modified the program id of an account",[hrr]:"insufficient account keys for instruction",[Drr]:"Cross-program invocation with unauthorized signer or writable account",[Mrr]:"Failed to create program execution environment",[Brr]:"Program failed to compile",[Lrr]:"Program failed to complete",[drr]:"instruction modified data of a read-only account",[urr]:"instruction changed the balance of a read-only account",[Crr]:"Cross-program invocation reentrancy not allowed for this instruction",[mrr]:"instruction modified rent epoch of an account",[srr]:"sum of account balances before and after instruction do not match",[orr]:"instruction requires an initialized account",[Ktr]:"",[Trr]:"Unsupported program id",[Grr]:"Unsupported sysvar",[qtr]:"The instruction does not have any accounts.",[Jtr]:"The instruction does not have any data.",[Wtr]:"Expected instruction to have progress address $expectedProgramAddress, got $actualProgramAddress.",[Ver]:"Expected base58 encoded blockhash to decode to a byte array of length 32. Actual length: $actualLength.",[Uer]:"The nonce `$expectedNonceValue` is no longer valid. It has advanced to `$actualNonceValue`",[Dir]:"Invariant violation: Found no abortable iterable cache entry for key `$cacheKey`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[Lir]:"Invariant violation: This data publisher does not publish to the channel named `$channelName`. Supported channels include $supportedChannelNames.",[kir]:"Invariant violation: WebSocket message iterator state is corrupt; iterated without first resolving existing message promise. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[Pir]:"Invariant violation: WebSocket message iterator is missing state storage. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[Mir]:"Invariant violation: Switch statement non-exhaustive. Received unexpected value `$unexpectedValue`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[Ker]:"JSON-RPC error: Internal JSON-RPC error ($__serverMessage)",[Qer]:"JSON-RPC error: Invalid method parameter(s) ($__serverMessage)",[Yer]:"JSON-RPC error: The JSON sent is not a valid `Request` object ($__serverMessage)",[Xer]:"JSON-RPC error: The method does not exist / is not available ($__serverMessage)",[Wer]:"JSON-RPC error: An error occurred on the server while parsing the JSON text ($__serverMessage)",[ntr]:"$__serverMessage",[mtr]:"$__serverMessage",[dtr]:"$__serverMessage",[ttr]:"$__serverMessage",[otr]:"$__serverMessage",[str]:"$__serverMessage",[Zer]:"Minimum context slot has not been reached",[utr]:"Node is unhealthy; behind by $numSlotsBehind slots",[atr]:"No snapshot",[ftr]:"Transaction simulation failed",[ctr]:"$__serverMessage",[itr]:"Transaction history is not available from this node",[ltr]:"$__serverMessage",[rtr]:"Transaction signature length mismatch",[ptr]:"Transaction signature verification failure",[etr]:"$__serverMessage",[ztr]:"Key pair bytes must be of length 64, got $byteLength.",[Vtr]:"Expected private key bytes with length 32. Actual length: $actualLength.",[Htr]:"Expected base58-encoded signature to decode to a byte array of length 64. Actual length: $actualLength.",[jtr]:"The provided private key does not match the provided public key.",[Gtr]:"Expected base58-encoded signature string of length in the range [64, 88]. Actual length: $actualLength.",[Her]:"Lamports value must be in the range [0, 2e64-1]",[Ger]:"`$value` cannot be parsed as a `BigInt`",[Jer]:"$message",[jer]:"`$value` cannot be parsed as a `Number`",[Fer]:"No nonce account could be found at address `$nonceAccountAddress`",[Rir]:"The notification name must end in 'Notifications' and the API must supply a subscription plan creator function for the notification '$notificationName'.",[Cir]:"WebSocket was closed before payload could be added to the send buffer",[Nir]:"WebSocket connection closed",[Oir]:"WebSocket failed to connect",[Iir]:"Failed to obtain a subscription id from the server",[Tir]:"Could not find an API plan for RPC method: `$method`",[wir]:"The $argumentLabel argument to the `$methodName` RPC method$optionalPathLabel was `$value`. This number is unsafe for use with the Solana JSON-RPC because it exceeds `Number.MAX_SAFE_INTEGER`.",[Eir]:"HTTP error ($statusCode): $message",[Air]:"HTTP header(s) forbidden: $headers. Learn more at https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name.",[Qrr]:"Multiple distinct signers were identified for address `$address`. Please ensure that you are using the same signer instance for each address.",[Xrr]:"The provided value does not implement the `KeyPairSigner` interface",[Zrr]:"The provided value does not implement the `MessageModifyingSigner` interface",[enr]:"The provided value does not implement the `MessagePartialSigner` interface",[Yrr]:"The provided value does not implement any of the `MessageSigner` interfaces",[rnr]:"The provided value does not implement the `TransactionModifyingSigner` interface",[nnr]:"The provided value does not implement the `TransactionPartialSigner` interface",[inr]:"The provided value does not implement the `TransactionSendingSigner` interface",[tnr]:"The provided value does not implement any of the `TransactionSigner` interfaces",[onr]:"More than one `TransactionSendingSigner` was identified.",[snr]:"No `TransactionSendingSigner` was identified. Please provide a valid `TransactionWithSingleSendingSigner` transaction.",[anr]:"Wallet account signers do not support signing multiple messages/transactions in a single operation",[Utr]:"Cannot export a non-extractable key.",[ktr]:"No digest implementation could be found.",[Ptr]:"Cryptographic operations are only allowed in secure browser contexts. Read more here: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts.",[Dtr]:`This runtime does not support the generation of Ed25519 key pairs.

Install @solana/webcrypto-ed25519-polyfill and call its \`install\` function before generating keys in environments that do not support Ed25519.

For a list of runtimes that currently support Ed25519 operations, visit https://github.com/WICG/webcrypto-secure-curves/issues/20.`,[Mtr]:"No signature verification implementation could be found.",[Ltr]:"No key generation implementation could be found.",[Btr]:"No signing implementation could be found.",[$tr]:"No key export implementation could be found.",[qer]:"Timestamp value must be in the range [-(2n ** 63n), (2n ** 63n) - 1]. `$value` given",[jnr]:"Transaction processing left an account with an outstanding borrowed reference",[Nnr]:"Account in use",[Onr]:"Account loaded twice",[Pnr]:"Attempt to debit an account but found no record of a prior credit.",[Ynr]:"Transaction loads an address table account that doesn't exist",[Lnr]:"This transaction has already been processed",[Bnr]:"Blockhash not found",[$nr]:"Loader call chain is too deep",[Gnr]:"Transactions are currently disabled due to cluster maintenance",[oir]:"Transaction contains a duplicate instruction ($index) that is not allowed",[Dnr]:"Insufficient funds for fee",[sir]:"Transaction results in an account ($accountIndex) with insufficient funds for rent",[Mnr]:"This account may not be used to pay transaction fees",[Fnr]:"Transaction contains an invalid account reference",[eir]:"Transaction loads an address table account with invalid data",[tir]:"Transaction address table lookup uses an invalid index",[Znr]:"Transaction loads an address table account with an invalid owner",[cir]:"LoadedAccountsDataSizeLimit set for transaction must be greater than 0.",[Vnr]:"This program may not be used for executing instructions",[rir]:"Transaction leaves an account with a lower balance than rent-exempt minimum",[Wnr]:"Transaction loads a writable account that cannot be written",[air]:"Transaction exceeded max loaded accounts data size cap",[Unr]:"Transaction requires a fee but has no signature present",[knr]:"Attempt to load a program that does not exist",[uir]:"Execution of the program referenced by account at index $accountIndex is temporarily restricted.",[lir]:"ResanitizationNeeded",[Hnr]:"Transaction failed to sanitize accounts offsets correctly",[znr]:"Transaction did not pass signature verification",[Xnr]:"Transaction locked too many accounts",[dir]:"Sum of account balances before and after transaction do not match",[Cnr]:"The transaction failed with the error `$errorName`",[Jnr]:"Transaction version is unsupported",[Qnr]:"Transaction would exceed account data limit within the block",[iir]:"Transaction would exceed total account data limit",[Knr]:"Transaction would exceed max account limit within the block",[qnr]:"Transaction would exceed max Block Cost Limit",[nir]:"Transaction would exceed max Vote Cost Limit",[wnr]:"Attempted to sign a transaction with an address that is not a signer for it",[bnr]:"Transaction is missing an address at index: $index.",[Anr]:"Transaction has no expected signers therefore it cannot be encoded",[Inr]:"Transaction size $transactionSize exceeds limit of $transactionSizeLimit bytes",[unr]:"Transaction does not have a blockhash lifetime",[dnr]:"Transaction is not a durable nonce transaction",[fnr]:"Contents of these address lookup tables unknown: $lookupTableAddresses",[mnr]:"Lookup of address at index $highestRequestedIndex failed for lookup table `$lookupTableAddress`. Highest known index is $highestKnownIndex. The lookup table may have been extended since its contents were retrieved",[gnr]:"No fee payer set in CompiledTransaction",[hnr]:"Could not find program address at index $index",[Tnr]:"Failed to estimate the compute unit consumption for this transaction message. This is likely because simulating the transaction failed. Inspect the `cause` property of this error to learn more",[Rnr]:"Transaction failed when it was simulated in order to estimate the compute unit consumption. The compute unit estimate provided is for a transaction that failed when simulated and may not be representative of the compute units this transaction would consume if successful. Inspect the `cause` property of this error to learn more",[vnr]:"Transaction is missing a fee payer.",[_nr]:"Could not determine this transaction's signature. Make sure that the transaction has been signed by its fee payer.",[Snr]:"Transaction first instruction is not advance nonce account instruction.",[xnr]:"Transaction with no instructions cannot be durable nonce transaction.",[cnr]:"This transaction includes an address (`$programAddress`) which is both invoked and set as the fee payer. Program addresses may not pay fees",[lnr]:"This transaction includes an address (`$programAddress`) which is both invoked and marked writable. Program addresses may not be writable",[Enr]:"The transaction message expected the transaction to have $signerAddressesLength signatures, got $signaturesLength.",[ynr]:"Transaction is missing signatures for addresses: $addresses.",[pnr]:"Transaction version must be in the range [0, 127]. `$actualVersion` given"},rg="i",Jf="t";function Fir(t,e={}){let r=Uir[t];if(r.length===0)return"";let n;function i(s){if(n[Jf]===2){let a=r.slice(n[rg]+1,s);o.push(a in e?`${e[a]}`:`$${a}`)}else n[Jf]===1&&o.push(r.slice(n[rg],s))}let o=[];return r.split("").forEach((s,a)=>{if(a===0){n={[rg]:0,[Jf]:r[0]==="\\"?0:r[0]==="$"?2:1};return}let c;switch(n[Jf]){case 0:c={[rg]:a,[Jf]:1};break;case 1:s==="\\"?c={[rg]:a,[Jf]:0}:s==="$"&&(c={[rg]:a,[Jf]:2});break;case 2:s==="\\"?c={[rg]:a,[Jf]:0}:s==="$"?c={[rg]:a,[Jf]:2}:s.match(/\w/)||(c={[rg]:a,[Jf]:1});break}c&&(n!==c&&i(a),n=c)}),i(),o.join("")}function zir(t,e={}){if(process.env.NODE_ENV!=="production")return Fir(t,e);{let r=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(r+=` '${$ir(e)}'`),`${r}\``}}var py=class extends Error{cause=this.cause;context;constructor(...[t,e]){let r,n;if(e){let{cause:o,...s}=e;o&&(n={cause:o}),Object.keys(s).length>0&&(r=s)}let i=zir(t,r);super(i,n),this.context={__code:t,...r},this.name="SolanaError"}};function Vir(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function act(t){return Object.freeze({...t,encode:e=>{let r=new Uint8Array(Vir(e,t));return t.write(e,r,0),r}})}function cct(t){return Object.freeze({...t,decode:(e,r=0)=>t.read(e,r)[0]})}function pE(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function lct(t,e){if(pE(t)!==pE(e))throw new py(Hge);if(pE(t)&&pE(e)&&t.fixedSize!==e.fixedSize)throw new py(Gge,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!pE(t)&&!pE(e)&&t.maxSize!==e.maxSize)throw new py(jge,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function uct(t,e,r=0){if(e.length-r<=0)throw new py(zge,{codecDescription:t})}function dct(t,e,r,n=0){let i=r.length-n;if(i<e)throw new py(Vge,{bytesLength:i,codecDescription:t,expected:e})}function Hir(t,e,r,n){if(n<e||n>r)throw new py(qge,{codecDescription:t,max:r,min:e,value:n})}function pct(t){return t?.endian!==1}function Gir(t){return act({fixedSize:t.size,write(e,r,n){t.range&&Hir(t.name,t.range[0],t.range[1],e);let i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,pct(t.config)),r.set(new Uint8Array(i),n),n+t.size}})}function jir(t){return cct({fixedSize:t.size,read(e,r=0){uct(t.name,e,r),dct(t.name,t.size,e,r);let n=new DataView(qir(e,r,t.size));return[t.get(n,pct(t.config)),r+t.size]}})}function qir(t,e,r){let n=t.byteOffset+(e??0),i=r??t.byteLength;return t.buffer.slice(n,n+i)}var Jge=(t={})=>Gir({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,r,n)=>e.setBigUint64(0,BigInt(r),n),size:8}),Jir=(t={})=>jir({config:t,get:(e,r)=>e.getBigUint64(0,r),name:"u64",size:8}),fct=(t={})=>lct(Jge(t),Jir(t));var Wge=class extends TypeError{constructor(e,r){let n,{message:i,explanation:o,...s}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(o??c),o!=null&&(this.cause=c),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}};function Wir(t){return G9(t)&&typeof t[Symbol.iterator]=="function"}function G9(t){return typeof t=="object"&&t!=null}function Nz(t){return G9(t)&&!Array.isArray(t)}function np(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function Kir(t){let{done:e,value:r}=t.next();return e?void 0:r}function Qir(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});let{path:i,branch:o}=e,{type:s}=r,{refinement:a,message:c=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${np(n)}\``}=t;return{value:n,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:c}}function*mct(t,e,r,n){Wir(t)||(t=[t]);for(let i of t){let o=Qir(i,e,r,n);o&&(yield o)}}function*Kge(t,e,r={}){let{path:n=[],branch:i=[t],coerce:o=!1,mask:s=!1}=r,a={path:n,branch:i,mask:s};o&&(t=e.coercer(t,a));let c="valid";for(let l of e.validator(t,a))l.explanation=r.message,c="not_valid",yield[l,void 0];for(let[l,u,d]of e.entries(t,a)){let p=Kge(u,d,{path:l===void 0?n:[...n,l],branch:l===void 0?i:[...i,u],coerce:o,mask:s,message:r.message});for(let f of p)f[0]?(c=f[0].refinement!=null?"not_refined":"not_valid",yield[f[0],void 0]):o&&(u=f[1],l===void 0?t=u:t instanceof Map?t.set(l,u):t instanceof Set?t.add(u):G9(t)&&(u!==void 0||l in t)&&(t[l]=u))}if(c!=="not_valid")for(let l of e.refiner(t,a))l.explanation=r.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,t])}var td=class{constructor(e){let{type:r,schema:n,validator:i,refiner:o,coercer:s=c=>c,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=s,i?this.validator=(c,l)=>{let u=i(c,l);return mct(u,l,this,c)}:this.validator=()=>[],o?this.refiner=(c,l)=>{let u=o(c,l);return mct(u,l,this,c)}:this.refiner=()=>[]}assert(e,r){return hct(e,this,r)}create(e,r){return fE(e,this,r)}is(e){return gct(e,this)}mask(e,r){return Xir(e,this,r)}validate(e,r={}){return j9(e,this,r)}};function hct(t,e,r){let n=j9(t,e,{message:r});if(n[0])throw n[0]}function fE(t,e,r){let n=j9(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function Xir(t,e,r){let n=j9(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function gct(t,e){return!j9(t,e)[0]}function j9(t,e,r={}){let n=Kge(t,e,r),i=Kir(n);return i[0]?[new Wge(i[0],function*(){for(let s of n)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function h_(t,e){return new td({type:t,schema:null,validator:e})}function yct(){return h_("any",()=>!0)}function vt(t){return new td({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(let[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${np(e)}`}})}function ip(){return h_("boolean",t=>typeof t=="boolean")}function Oz(t){return h_("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${np(e)}`)}function pi(t){let e=np(t),r=typeof t;return new td({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||`Expected the literal \`${e}\`, but received: ${np(n)}`}})}function Yir(){return h_("never",()=>!1)}function _t(t){return new td({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function fe(){return h_("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${np(t)}`)}function Ft(t){return new td({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function Qge(t,e){return new td({type:"record",schema:null,*entries(r){if(G9(r))for(let n in r){let i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return Nz(r)||`Expected an object, but received: ${np(r)}`},coercer(r){return Nz(r)?{...r}:r}})}function tt(){return h_("string",t=>typeof t=="string"||`Expected a string, but received: ${np(t)}`)}function Pz(t){let e=Yir();return new td({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){let n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${np(r)}`},coercer(r){return Array.isArray(r)?r.slice():r}})}function $e(t){let e=Object.keys(t);return new td({type:"type",schema:t,*entries(r){if(G9(r))for(let n of e)yield[n,r[n],t[n]]},validator(r){return Nz(r)||`Expected an object, but received: ${np(r)}`},coercer(r){return Nz(r)?{...r}:r}})}function ta(t){let e=t.map(r=>r.type).join(" | ");return new td({type:"union",schema:null,coercer(r,n){for(let i of t){let[o,s]=i.validate(r,{coerce:!0,mask:n.mask});if(!o)return s}return r},validator(r,n){let i=[];for(let o of t){let[...s]=Kge(r,o,n),[a]=s;if(a[0])for(let[c]of s)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${np(r)}`,...i]}})}function g_(){return h_("unknown",()=>!0)}function mE(t,e,r){return new td({...t,coercer:(n,i)=>gct(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}var Aor=ti(Fct());yge();fZe();var Hct=ti(Vct(),1);Pat();ZI();Yhe();o_();var a0e={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},Sor={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]};var Gct=BigInt(2);function wor(t){let e=a0e.p,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=di(u,r,e)*u%e,p=di(d,r,e)*u%e,f=di(p,Gct,e)*l%e,h=di(f,i,e)*f%e,m=di(h,o,e)*h%e,g=di(m,a,e)*m%e,b=di(g,c,e)*g%e,_=di(b,a,e)*m%e,x=di(_,r,e)*u%e,E=di(x,s,e)*h%e,R=di(E,n,e)*l%e,I=di(R,Gct,e);if(!s0e.eql(s0e.sqr(I),t))throw new Error("Cannot find square root");return I}var s0e=_s(a0e.p,{sqrt:wor}),$z=Y4({...a0e,Fp:s0e,lowS:!0,endo:Sor},n4);var sWn=Nc.utils.randomPrivateKey,jct=()=>{let t=Nc.utils.randomPrivateKey(),e=f0e(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},f0e=Nc.getPublicKey;function qct(t){try{return Nc.ExtendedPoint.fromHex(t),!0}catch{return!1}}var T0e=(t,e)=>Nc.sign(t,e.slice(0,32)),Eor=Nc.verify,Kr=t=>sr.isBuffer(t)?t:t instanceof Uint8Array?sr.from(t.buffer,t.byteOffset,t.byteLength):sr.from(t),m0e=class{constructor(e){Object.assign(this,e)}encode(){return sr.from((0,vE.serialize)(Fz,this))}static decode(e){return(0,vE.deserialize)(Fz,this,e)}static decodeUnchecked(e){return(0,vE.deserializeUnchecked)(Fz,this,e)}};var Fz=new Map,ilt,Tor=32,gy=32;function Ror(t){return t._bn!==void 0}var Jct=1,ar=class t extends m0e{constructor(e){if(super({}),this._bn=void 0,Ror(e))this._bn=e._bn;else{if(typeof e=="string"){let r=na.default.decode(e);if(r.length!=gy)throw new Error("Invalid public key input");this._bn=new p0e.default(r)}else this._bn=new p0e.default(e);if(this._bn.byteLength()>gy)throw new Error("Invalid public key input")}}static unique(){let e=new t(Jct);return Jct+=1,new t(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return na.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(sr);if(e.length===gy)return e;let r=sr.alloc(32);return e.copy(r,32-e.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){let i=sr.concat([e.toBuffer(),sr.from(r),n.toBuffer()]),o=i4(i);return new t(o)}static createProgramAddressSync(e,r){let n=sr.alloc(0);e.forEach(function(o){if(o.length>Tor)throw new TypeError("Max seed length exceeded");n=sr.concat([n,Kr(o)])}),n=sr.concat([n,r.toBuffer(),sr.from("ProgramDerivedAddress")]);let i=i4(n);if(qct(i))throw new Error("Invalid seeds, address must fall off the curve");return new t(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,i;for(;n!=0;){try{let o=e.concat(sr.from([n]));i=this.createProgramAddressSync(o,r)}catch(o){if(o instanceof TypeError)throw o;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){let r=new t(e);return qct(r.toBytes())}};ilt=ar;ar.default=new ilt("11111111111111111111111111111111");Fz.set(ar,{kind:"struct",fields:[["_bn","u256"]]});var aWn=new ar("BPFLoader1111111111111111111111111111111111"),y_=1232,R0e=127,zz=64,h0e=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(h0e.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var g0e=class extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(g0e.prototype,"name",{value:"TransactionExpiredTimeoutError"});var y0e=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(y0e.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var gE=class{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((o,s)=>{n.set(o.toBase58(),s)});let i=o=>{let s=n.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return e.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}},Pr=(t="publicKey")=>te.blob(32,t),Ior=(t="signature")=>te.blob(64,t),hE=(t="string")=>{let e=te.struct([te.u32("length"),te.u32("lengthPadding"),te.blob(te.offset(te.u32(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(o,s)=>r(o,s).chars.toString(),i.encode=(o,s,a)=>{let c={chars:sr.from(o,"utf8")};return n(c,s,a)},i.alloc=o=>te.u32().span+te.u32().span+sr.from(o,"utf8").length,i},Cor=(t="authorized")=>te.struct([Pr("staker"),Pr("withdrawer")],t),Nor=(t="lockup")=>te.struct([te.ns64("unixTimestamp"),te.ns64("epoch"),Pr("custodian")],t),Oor=(t="voteInit")=>te.struct([Pr("nodePubkey"),Pr("authorizedVoter"),Pr("authorizedWithdrawer"),te.u8("commission")],t),Por=(t="voteAuthorizeWithSeedArgs")=>te.struct([te.u32("voteAuthorizationType"),Pr("currentAuthorityDerivedKeyOwnerPubkey"),hE("currentAuthorityDerivedKeySeed"),Pr("newAuthorized")],t);function olt(t,e){let r=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let o=e[i.property];if(Array.isArray(o))return o.length*r(i.elementLayout)}else if("fields"in i)return olt({layout:i},e[i.property]);return 0},n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}function ml(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,(n&128)===0)break}return e}function hl(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function Yn(t,e){if(!t)throw new Error(e||"Assertion failed")}var Vz=class t{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){let n=new Map,i=s=>{let a=s.toBase58(),c=n.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,c)),c},o=i(r);o.isSigner=!0,o.isWritable=!0;for(let s of e){i(s.programId).isInvoked=!0;for(let a of s.keys){let c=i(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new t(r,n)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];Yn(e.length<=256,"Max static account keys length exceeded");let r=e.filter(([,c])=>c.isSigner&&c.isWritable),n=e.filter(([,c])=>c.isSigner&&!c.isWritable),i=e.filter(([,c])=>!c.isSigner&&c.isWritable),o=e.filter(([,c])=>!c.isSigner&&!c.isWritable),s={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:o.length};{Yn(r.length>0,"Expected at least one writable signer key");let[c]=r[0];Yn(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let a=[...r.map(([c])=>new ar(c)),...n.map(([c])=>new ar(c)),...i.map(([c])=>new ar(c)),...o.map(([c])=>new ar(c))];return[s,a]}extractTableLookup(e){let[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:o}]}drainKeysFoundInLookupTable(e,r){let n=new Array,i=new Array;for(let[o,s]of this.keyMetaMap.entries())if(r(s)){let a=new ar(o),c=e.findIndex(l=>l.equals(a));c>=0&&(Yn(c<256,"Max lookup table index exceeded"),n.push(c),i.push(a),this.keyMetaMap.delete(o))}return[n,i]}},slt="Reached end of buffer unexpectedly";function ig(t){if(t.length===0)throw new Error(slt);return t.shift()}function gl(t,...e){let[r]=e;if(e.length===2?r+(e[1]??0)>t.length:r>=t.length)throw new Error(slt);return t.splice(...e)}var Z9=class t{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new ar(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:na.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new gE(this.staticAccountKeys)}static compile(e){let r=Vz.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),s=new gE(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:na.default.encode(a.data)}));return new t({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let n=e-r,o=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<o}else{let n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){let e=this.accountKeys.length,r=[];hl(r,e);let n=this.instructions.map(d=>{let{accounts:p,programIdIndex:f}=d,h=Array.from(na.default.decode(d.data)),m=[];hl(m,p.length);let g=[];return hl(g,h.length),{programIdIndex:f,keyIndicesCount:sr.from(m),keyIndices:p,dataLength:sr.from(g),data:h}}),i=[];hl(i,n.length);let o=sr.alloc(y_);sr.from(i).copy(o);let s=i.length;n.forEach(d=>{let f=te.struct([te.u8("programIdIndex"),te.blob(d.keyIndicesCount.length,"keyIndicesCount"),te.seq(te.u8("keyIndex"),d.keyIndices.length,"keyIndices"),te.blob(d.dataLength.length,"dataLength"),te.seq(te.u8("userdatum"),d.data.length,"data")]).encode(d,o,s);s+=f}),o=o.slice(0,s);let a=te.struct([te.blob(1,"numRequiredSignatures"),te.blob(1,"numReadonlySignedAccounts"),te.blob(1,"numReadonlyUnsignedAccounts"),te.blob(r.length,"keyCount"),te.seq(Pr("key"),e,"keys"),Pr("recentBlockhash")]),c={numRequiredSignatures:sr.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:sr.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:sr.from([this.header.numReadonlyUnsignedAccounts]),keyCount:sr.from(r),keys:this.accountKeys.map(d=>Kr(d.toBytes())),recentBlockhash:na.default.decode(this.recentBlockhash)},l=sr.alloc(2048),u=a.encode(c,l);return o.copy(l,u),l.slice(0,u+o.length)}static from(e){let r=[...e],n=ig(r);if(n!==(n&R0e))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let i=ig(r),o=ig(r),s=ml(r),a=[];for(let p=0;p<s;p++){let f=gl(r,0,gy);a.push(new ar(sr.from(f)))}let c=gl(r,0,gy),l=ml(r),u=[];for(let p=0;p<l;p++){let f=ig(r),h=ml(r),m=gl(r,0,h),g=ml(r),b=gl(r,0,g),_=na.default.encode(sr.from(b));u.push({programIdIndex:f,accounts:m,data:_})}let d={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:na.default.encode(sr.from(c)),accountKeys:a,instructions:u};return new t(d)}},b0e=class t{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new gE(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){let i=e-n,o=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return i<o}else if(e>=this.header.numRequiredSignatures){let i=e-r,s=n-r-this.header.numReadonlyUnsignedAccounts;return i<s}else{let i=r-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){let r={writable:[],readonly:[]};for(let n of this.addressTableLookups){let i=e.find(o=>o.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let o of n.writableIndexes)if(o<i.state.addresses.length)r.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`);for(let o of n.readonlyIndexes)if(o<i.state.addresses.length)r.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){let r=Vz.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(let u of o){let d=r.extractTableLookup(u);if(d!==void 0){let[p,{writable:f,readonly:h}]=d;n.push(p),i.writable.push(...f),i.readonly.push(...h)}}let[s,a]=r.getMessageComponents(),l=new gE(a,i).compileInstructions(e.instructions);return new t({header:s,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:l,addressTableLookups:n})}serialize(){let e=Array();hl(e,this.staticAccountKeys.length);let r=this.serializeInstructions(),n=Array();hl(n,this.compiledInstructions.length);let i=this.serializeAddressTableLookups(),o=Array();hl(o,this.addressTableLookups.length);let s=te.struct([te.u8("prefix"),te.struct([te.u8("numRequiredSignatures"),te.u8("numReadonlySignedAccounts"),te.u8("numReadonlyUnsignedAccounts")],"header"),te.blob(e.length,"staticAccountKeysLength"),te.seq(Pr(),this.staticAccountKeys.length,"staticAccountKeys"),Pr("recentBlockhash"),te.blob(n.length,"instructionsLength"),te.blob(r.length,"serializedInstructions"),te.blob(o.length,"addressTableLookupsLength"),te.blob(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(y_),l=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(u=>u.toBytes()),recentBlockhash:na.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},a);return a.slice(0,l)}serializeInstructions(){let e=0,r=new Uint8Array(y_);for(let n of this.compiledInstructions){let i=Array();hl(i,n.accountKeyIndexes.length);let o=Array();hl(o,n.data.length);let s=te.struct([te.u8("programIdIndex"),te.blob(i.length,"encodedAccountKeyIndexesLength"),te.seq(te.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),te.blob(o.length,"encodedDataLength"),te.blob(n.data.length,"data")]);e+=s.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0,r=new Uint8Array(y_);for(let n of this.addressTableLookups){let i=Array();hl(i,n.writableIndexes.length);let o=Array();hl(o,n.readonlyIndexes.length);let s=te.struct([Pr("accountKey"),te.blob(i.length,"encodedWritableIndexesLength"),te.seq(te.u8(),n.writableIndexes.length,"writableIndexes"),te.blob(o.length,"encodedReadonlyIndexesLength"),te.seq(te.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=s.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e],n=ig(r),i=n&R0e;Yn(n!==i,"Expected versioned message but received legacy message");let o=i;Yn(o===0,`Expected versioned message with version 0 but found version ${o}`);let s={numRequiredSignatures:ig(r),numReadonlySignedAccounts:ig(r),numReadonlyUnsignedAccounts:ig(r)},a=[],c=ml(r);for(let h=0;h<c;h++)a.push(new ar(gl(r,0,gy)));let l=na.default.encode(gl(r,0,gy)),u=ml(r),d=[];for(let h=0;h<u;h++){let m=ig(r),g=ml(r),b=gl(r,0,g),_=ml(r),x=new Uint8Array(gl(r,0,_));d.push({programIdIndex:m,accountKeyIndexes:b,data:x})}let p=ml(r),f=[];for(let h=0;h<p;h++){let m=new ar(gl(r,0,gy)),g=ml(r),b=gl(r,0,g),_=ml(r),x=gl(r,0,_);f.push({accountKey:m,writableIndexes:b,readonlyIndexes:x})}return new t({header:s,staticAccountKeys:a,recentBlockhash:l,compiledInstructions:d,addressTableLookups:f})}},alt={deserializeMessageVersion(t){let e=t[0],r=e&R0e;return r===e?"legacy":r},deserialize:t=>{let e=alt.deserializeMessageVersion(t);if(e==="legacy")return Z9.from(t);if(e===0)return b0e.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};var kor=sr.alloc(zz).fill(0),Mn=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=sr.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},Gn=class t{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{let{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new Mn(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let m=0;m<r.length;m++)if(r[m].programId===void 0)throw new Error(`Transaction instruction index ${m} has undefined program id`);let i=[],o=[];r.forEach(m=>{m.keys.forEach(b=>{o.push({...b})});let g=m.programId.toString();i.includes(g)||i.push(g)}),i.forEach(m=>{o.push({pubkey:new ar(m),isSigner:!1,isWritable:!1})});let s=[];o.forEach(m=>{let g=m.pubkey.toString(),b=s.findIndex(_=>_.pubkey.toString()===g);b>-1?(s[b].isWritable=s[b].isWritable||m.isWritable,s[b].isSigner=s[b].isSigner||m.isSigner):s.push(m)}),s.sort(function(m,g){if(m.isSigner!==g.isSigner)return m.isSigner?-1:1;if(m.isWritable!==g.isWritable)return m.isWritable?-1:1;let b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return m.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});let a=s.findIndex(m=>m.pubkey.equals(n));if(a>-1){let[m]=s.splice(a,1);m.isSigner=!0,m.isWritable=!0,s.unshift(m)}else s.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let m of this.signatures){let g=s.findIndex(b=>b.pubkey.equals(m.publicKey));if(g>-1)s[g].isSigner||(s[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${m.publicKey.toString()}`)}let c=0,l=0,u=0,d=[],p=[];s.forEach(({pubkey:m,isSigner:g,isWritable:b})=>{g?(d.push(m.toString()),c+=1,b||(l+=1)):(p.push(m.toString()),b||(u+=1))});let f=d.concat(p),h=r.map(m=>{let{data:g,programId:b}=m;return{programIdIndex:f.indexOf(b.toString()),accounts:m.keys.map(_=>f.indexOf(_.pubkey.toString())),data:na.default.encode(g)}});return h.forEach(m=>{Yn(m.programIdIndex>=0),m.accounts.forEach(g=>Yn(g>=0))}),new Z9({header:{numRequiredSignatures:c,numReadonlySignedAccounts:l,numReadonlyUnsignedAccounts:u},accountKeys:f,recentBlockhash:e,instructions:h})}_compile(){let e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,o)=>r[o].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");let r=new Set;this.signatures=e.filter(n=>{let i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let o of e){let s=o.publicKey.toString();r.has(s)||(r.add(s),n.push(o))}this.signatures=n.map(o=>({signature:null,publicKey:o.publicKey}));let i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let o of e){let s=o.publicKey.toString();r.has(s)||(r.add(s),n.push(o))}let i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){let n=e.serialize();r.forEach(i=>{let o=T0e(n,i.secretKey);this._addSignature(i.publicKey,Kr(o))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){Yn(r.length===64);let n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=sr.from(r)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,r){let n={};for(let{signature:i,publicKey:o}of this.signatures)i===null?r&&(n.missing||=[]).push(o):Eor(i,e,o.toBytes())||(n.invalid||=[]).push(o);return n.invalid||n.missing?n:void 0}serialize(e){let{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n){let o=this._getMessageSignednessErrors(i,r);if(o){let s="Signature verification failed.";throw o.invalid&&(s+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),o.missing&&(s+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(s)}}return this._serialize(i)}_serialize(e){let{signatures:r}=this,n=[];hl(n,r.length);let i=n.length+r.length*64+e.length,o=sr.alloc(i);return Yn(r.length<256),sr.from(n).copy(o,0),r.forEach(({signature:s},a)=>{s!==null&&(Yn(s.length===64,"signature has invalid length"),sr.from(s).copy(o,n.length+a*64))}),e.copy(o,n.length+r.length*64),Yn(o.length<=y_,`Transaction too large: ${o.length} > ${y_}`),o}get keys(){return Yn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Yn(this.instructions.length===1),this.instructions[0].programId}get data(){return Yn(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e],n=ml(r),i=[];for(let o=0;o<n;o++){let s=gl(r,0,zz);i.push(na.default.encode(sr.from(s)))}return t.populate(Z9.from(r),i)}static populate(e,r=[]){let n=new t;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((i,o)=>{let s={signature:i==na.default.encode(kor)?null:na.default.decode(i),publicKey:e.accountKeys[o]};n.signatures.push(s)}),e.instructions.forEach(i=>{let o=i.accounts.map(s=>{let a=e.accountKeys[s];return{pubkey:a,isSigner:n.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(s),isWritable:e.isAccountWritable(s)}});n.instructions.push(new Mn({keys:o,programId:e.accountKeys[i.programIdIndex],data:na.default.decode(i.data)}))}),n._message=e,n._json=n.toJSON(),n}};var yE=class t{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)Yn(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{let n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(zz));this.signatures=n}this.message=e}serialize(){let e=this.message.serialize(),r=Array();hl(r,this.signatures.length);let n=te.struct([te.blob(r.length,"encodedSignaturesLength"),te.seq(Ior(),this.signatures.length,"signatures"),te.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),o=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,o)}static deserialize(e){let r=[...e],n=[],i=ml(r);for(let s=0;s<i;s++)n.push(new Uint8Array(gl(r,0,zz)));let o=alt.deserialize(new Uint8Array(r));return new t(o,n)}sign(e){let r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let i of e){let o=n.findIndex(s=>s.equals(i.publicKey));Yn(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=T0e(r,i.secretKey)}}addSignature(e,r){Yn(r.byteLength===64,"Signature must be 64 bytes long");let i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(e));Yn(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}},Dor=160,Mor=64,Lor=Dor/Mor,Bor=1e3/Lor,ng=new ar("SysvarC1ock11111111111111111111111111111111"),cWn=new ar("SysvarEpochSchedu1e111111111111111111111111"),lWn=new ar("Sysvar1nstructions1111111111111111111111111"),c0e=new ar("SysvarRecentB1ockHashes11111111111111111111"),eN=new ar("SysvarRent111111111111111111111111111111111"),uWn=new ar("SysvarRewards111111111111111111111111111111"),dWn=new ar("SysvarS1otHashes111111111111111111111111111"),pWn=new ar("SysvarS1otHistory11111111111111111111111111"),l0e=new ar("SysvarStakeHistory1111111111111111111111111"),v0e=class extends Error{constructor({action:e,signature:r,transactionMessage:n,logs:i}){let o=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.",a;switch(e){case"send":a=`Transaction ${r} resulted in an error. 
${n}. `+o+s;break;case"simulate":a=`Simulation failed. 
Message: ${n}. 
`+o+s;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=r,this.transactionMessage=n,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){let e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((r,n)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){let o=i.meta.logMessages;this.transactionLogs=o,r(o)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}};async function Wct(t,e,r,n){let i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},o=await t.sendTransaction(e,r,i),s;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)s=(await t.confirmTransaction({abortSignal:n?.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){let{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;s=(await t.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:o},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await t.confirmTransaction(o,n&&n.commitment)).value;if(s.err)throw o!=null?new v0e({action:"send",signature:o,transactionMessage:`Status: (${JSON.stringify(s)})`}):new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function $or(t){return new Promise(e=>setTimeout(e,t))}function Vr(t,e){let r=t.layout.span>=0?t.layout.span:olt(t,e),n=sr.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}var Uor=te.nu64("lamportsPerSignature"),For=te.struct([te.u32("version"),te.u32("state"),Pr("authorizedPubkey"),Pr("nonce"),te.struct([Uor],"feeCalculator")]),Kct=For.span;function bE(t){let e=(0,nlt.blob)(8,t),r=e.decode.bind(e),n=e.encode.bind(e),i=e,o=fct();return i.decode=(s,a)=>{let c=r(s,a);return o.decode(c)},i.encode=(s,a,c)=>{let l=o.encode(s);return n(l,a,c)},i}var rd=Object.freeze({Create:{index:0,layout:te.struct([te.u32("instruction"),te.ns64("lamports"),te.ns64("space"),Pr("programId")])},Assign:{index:1,layout:te.struct([te.u32("instruction"),Pr("programId")])},Transfer:{index:2,layout:te.struct([te.u32("instruction"),bE("lamports")])},CreateWithSeed:{index:3,layout:te.struct([te.u32("instruction"),Pr("base"),hE("seed"),te.ns64("lamports"),te.ns64("space"),Pr("programId")])},AdvanceNonceAccount:{index:4,layout:te.struct([te.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:te.struct([te.u32("instruction"),te.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:te.struct([te.u32("instruction"),Pr("authorized")])},AuthorizeNonceAccount:{index:7,layout:te.struct([te.u32("instruction"),Pr("authorized")])},Allocate:{index:8,layout:te.struct([te.u32("instruction"),te.ns64("space")])},AllocateWithSeed:{index:9,layout:te.struct([te.u32("instruction"),Pr("base"),hE("seed"),te.ns64("space"),Pr("programId")])},AssignWithSeed:{index:10,layout:te.struct([te.u32("instruction"),Pr("base"),hE("seed"),Pr("programId")])},TransferWithSeed:{index:11,layout:te.struct([te.u32("instruction"),bE("lamports"),hE("seed"),Pr("programId")])},UpgradeNonceAccount:{index:12,layout:te.struct([te.u32("instruction")])}}),Da=class t{constructor(){}static createAccount(e){let r=rd.Create,n=Vr(r,{lamports:e.lamports,space:e.space,programId:Kr(e.programId.toBuffer())});return new Mn({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){let i=rd.TransferWithSeed;r=Vr(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Kr(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let i=rd.Transfer;r=Vr(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Mn({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){let i=rd.AssignWithSeed;r=Vr(i,{base:Kr(e.basePubkey.toBuffer()),seed:e.seed,programId:Kr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=rd.Assign;r=Vr(i,{programId:Kr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Mn({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){let r=rd.CreateWithSeed,n=Vr(r,{base:Kr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Kr(e.programId.toBuffer())}),i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Mn({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){let r=new Gn;"basePubkey"in e&&"seed"in e?r.add(t.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:Kct,programId:this.programId})):r.add(t.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:Kct,programId:this.programId}));let n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){let r=rd.InitializeNonceAccount,n=Vr(r,{authorized:Kr(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:c0e,isSigner:!1,isWritable:!1},{pubkey:eN,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new Mn(i)}static nonceAdvance(e){let r=rd.AdvanceNonceAccount,n=Vr(r),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:c0e,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new Mn(i)}static nonceWithdraw(e){let r=rd.WithdrawNonceAccount,n=Vr(r,{lamports:e.lamports});return new Mn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:c0e,isSigner:!1,isWritable:!1},{pubkey:eN,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){let r=rd.AuthorizeNonceAccount,n=Vr(r,{authorized:Kr(e.newAuthorizedPubkey.toBuffer())});return new Mn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){let i=rd.AllocateWithSeed;r=Vr(i,{base:Kr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Kr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=rd.Allocate;r=Vr(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Mn({keys:n,programId:this.programId,data:r})}};Da.programId=new ar("11111111111111111111111111111111");var zor=y_-300,_0e=class t{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/t.chunkSize)+1+1)}static async load(e,r,n,i,o){{let d=await e.getMinimumBalanceForRentExemption(o.length),p=await e.getAccountInfo(n.publicKey,"confirmed"),f=null;if(p!==null){if(p.executable)return console.error("Program load failed, account is already executable"),!1;p.data.length!==o.length&&(f=f||new Gn,f.add(Da.allocate({accountPubkey:n.publicKey,space:o.length}))),p.owner.equals(i)||(f=f||new Gn,f.add(Da.assign({accountPubkey:n.publicKey,programId:i}))),p.lamports<d&&(f=f||new Gn,f.add(Da.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:d-p.lamports})))}else f=new Gn().add(Da.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:d>0?d:1,space:o.length,programId:i}));f!==null&&await Wct(e,f,[r,n],{commitment:"confirmed"})}let s=te.struct([te.u32("instruction"),te.u32("offset"),te.u32("bytesLength"),te.u32("bytesLengthPadding"),te.seq(te.u8("byte"),te.offset(te.u32(),-8),"bytes")]),a=t.chunkSize,c=0,l=o,u=[];for(;l.length>0;){let d=l.slice(0,a),p=sr.alloc(a+16);s.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},p);let f=new Gn().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:p});u.push(Wct(e,f,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await $or(1e3/4),c+=a,l=l.slice(a)}await Promise.all(u);{let d=te.struct([te.u32("instruction")]),p=sr.alloc(d.span);d.encode({instruction:1},p);let f=new Gn().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:eN,isSigner:!1,isWritable:!1}],programId:i,data:p}),h="processed",m=await e.sendTransaction(f,[r,n],{preflightCommitment:h}),{context:g,value:b}=await e.confirmTransaction({signature:m,lastValidBlockHeight:f.lastValidBlockHeight,blockhash:f.recentBlockhash},h);if(b.err)throw new Error(`Transaction ${m} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:h})>g.slot)break}catch{}await new Promise(_=>setTimeout(_,Math.round(Bor/2)))}}return!0}};_0e.chunkSize=zor;var fWn=new ar("BPFLoader2111111111111111111111111111111111");var mWn=typeof globalThis.fetch=="function"?globalThis.fetch:async function(t,e){let r=typeof t=="string"&&t.slice(0,2)==="//"?"https:"+t:t;return await hge(r,e)};var hWn={index:1,layout:te.struct([te.u32("typeIndex"),bE("deactivationSlot"),te.nu64("lastExtendedSlot"),te.u8("lastExtendedStartIndex"),te.u8(),te.seq(Pr(),te.offset(te.u8(),-1),"authority")])};var Bi=mE(Oz(ar),tt(),t=>new ar(t)),clt=Pz([tt(),pi("base64")]),I0e=mE(Oz(sr),clt,t=>sr.from(t[0],"base64")),gWn=30*1e3;function llt(t){return ta([$e({jsonrpc:pi("2.0"),id:tt(),result:t}),$e({jsonrpc:pi("2.0"),id:tt(),error:$e({code:g_(),message:tt(),data:Ft(yct())})})])}var Vor=llt(g_());function jn(t){return mE(llt(t),Vor,e=>"error"in e?e:{...e,result:fE(e.result,t)})}function op(t){return jn($e({context:$e({slot:fe()}),value:t}))}function qz(t){return $e({context:$e({slot:fe()}),value:t})}var Hor=$e({foundation:fe(),foundationTerm:fe(),initial:fe(),taper:fe(),terminal:fe()}),yWn=jn(vt(_t($e({epoch:fe(),effectiveSlot:fe(),amount:fe(),postBalance:fe(),commission:Ft(_t(fe()))})))),Gor=vt($e({slot:fe(),prioritizationFee:fe()})),jor=$e({total:fe(),validator:fe(),foundation:fe(),epoch:fe()}),qor=$e({epoch:fe(),slotIndex:fe(),slotsInEpoch:fe(),absoluteSlot:fe(),blockHeight:Ft(fe()),transactionCount:Ft(fe())}),Jor=$e({slotsPerEpoch:fe(),leaderScheduleSlotOffset:fe(),warmup:ip(),firstNormalEpoch:fe(),firstNormalSlot:fe()}),Wor=Qge(tt(),vt(fe())),b_=_t(ta([$e({}),tt()])),Kor=$e({err:b_}),Qor=pi("receivedSignature"),bWn=$e({"solana-core":tt(),"feature-set":Ft(fe())}),Xor=$e({program:tt(),programId:Bi,parsed:g_()}),Yor=$e({programId:Bi,accounts:vt(Bi),data:tt()}),vWn=op($e({err:_t(ta([$e({}),tt()])),logs:_t(vt(tt())),accounts:Ft(_t(vt(_t($e({executable:ip(),owner:tt(),lamports:fe(),data:vt(tt()),rentEpoch:Ft(fe())}))))),unitsConsumed:Ft(fe()),returnData:Ft(_t($e({programId:tt(),data:Pz([tt(),pi("base64")])}))),innerInstructions:Ft(_t(vt($e({index:fe(),instructions:vt(ta([Xor,Yor]))}))))})),_Wn=op($e({byIdentity:Qge(tt(),vt(fe())),range:$e({firstSlot:fe(),lastSlot:fe()})}));var xWn=jn(Hor),SWn=jn(jor),wWn=jn(Gor),AWn=jn(qor),EWn=jn(Jor),TWn=jn(Wor),RWn=jn(fe()),IWn=op($e({total:fe(),circulating:fe(),nonCirculating:fe(),nonCirculatingAccounts:vt(Bi)})),Zor=$e({amount:tt(),uiAmount:_t(fe()),decimals:fe(),uiAmountString:Ft(tt())}),CWn=op(vt($e({address:Bi,amount:tt(),uiAmount:_t(fe()),decimals:fe(),uiAmountString:Ft(tt())}))),NWn=op(vt($e({pubkey:Bi,account:$e({executable:ip(),owner:Bi,lamports:fe(),data:I0e,rentEpoch:fe()})}))),x0e=$e({program:tt(),parsed:g_(),space:fe()}),OWn=op(vt($e({pubkey:Bi,account:$e({executable:ip(),owner:Bi,lamports:fe(),data:x0e,rentEpoch:fe()})}))),PWn=op(vt($e({lamports:fe(),address:Bi}))),C0e=$e({executable:ip(),owner:Bi,lamports:fe(),data:I0e,rentEpoch:fe()}),kWn=$e({pubkey:Bi,account:C0e}),esr=mE(ta([Oz(sr),x0e]),ta([clt,x0e]),t=>Array.isArray(t)?fE(t,I0e):t),tsr=$e({executable:ip(),owner:Bi,lamports:fe(),data:esr,rentEpoch:fe()}),DWn=$e({pubkey:Bi,account:tsr}),MWn=$e({state:ta([pi("active"),pi("inactive"),pi("activating"),pi("deactivating")]),active:fe(),inactive:fe()}),LWn=jn(vt($e({signature:tt(),slot:fe(),err:b_,memo:_t(tt()),blockTime:Ft(_t(fe()))}))),BWn=jn(vt($e({signature:tt(),slot:fe(),err:b_,memo:_t(tt()),blockTime:Ft(_t(fe()))}))),$Wn=$e({subscription:fe(),result:qz(C0e)}),rsr=$e({pubkey:Bi,account:C0e}),UWn=$e({subscription:fe(),result:qz(rsr)}),nsr=$e({parent:fe(),slot:fe(),root:fe()}),FWn=$e({subscription:fe(),result:nsr}),isr=ta([$e({type:ta([pi("firstShredReceived"),pi("completed"),pi("optimisticConfirmation"),pi("root")]),slot:fe(),timestamp:fe()}),$e({type:pi("createdBank"),parent:fe(),slot:fe(),timestamp:fe()}),$e({type:pi("frozen"),slot:fe(),timestamp:fe(),stats:$e({numTransactionEntries:fe(),numSuccessfulTransactions:fe(),numFailedTransactions:fe(),maxTransactionsPerEntry:fe()})}),$e({type:pi("dead"),slot:fe(),timestamp:fe(),err:tt()})]),zWn=$e({subscription:fe(),result:isr}),VWn=$e({subscription:fe(),result:qz(ta([Kor,Qor]))}),HWn=$e({subscription:fe(),result:fe()}),GWn=$e({pubkey:tt(),gossip:_t(tt()),tpu:_t(tt()),rpc:_t(tt()),version:_t(tt())}),Qct=$e({votePubkey:tt(),nodePubkey:tt(),activatedStake:fe(),epochVoteAccount:ip(),epochCredits:vt(Pz([fe(),fe(),fe()])),commission:fe(),lastVote:fe(),rootSlot:_t(fe())}),jWn=jn($e({current:vt(Qct),delinquent:vt(Qct)})),osr=ta([pi("processed"),pi("confirmed"),pi("finalized")]),ssr=$e({slot:fe(),confirmations:_t(fe()),err:b_,confirmationStatus:Ft(osr)}),qWn=op(vt(_t(ssr))),JWn=jn(fe()),ult=$e({accountKey:Bi,writableIndexes:vt(fe()),readonlyIndexes:vt(fe())}),N0e=$e({signatures:vt(tt()),message:$e({accountKeys:vt(tt()),header:$e({numRequiredSignatures:fe(),numReadonlySignedAccounts:fe(),numReadonlyUnsignedAccounts:fe()}),instructions:vt($e({accounts:vt(fe()),data:tt(),programIdIndex:fe()})),recentBlockhash:tt(),addressTableLookups:Ft(vt(ult))})}),dlt=$e({pubkey:Bi,signer:ip(),writable:ip(),source:Ft(ta([pi("transaction"),pi("lookupTable")]))}),plt=$e({accountKeys:vt(dlt),signatures:vt(tt())}),flt=$e({parsed:g_(),program:tt(),programId:Bi}),mlt=$e({accounts:vt(Bi),data:tt(),programId:Bi}),asr=ta([mlt,flt]),csr=ta([$e({parsed:g_(),program:tt(),programId:tt()}),$e({accounts:vt(tt()),data:tt(),programId:tt()})]),hlt=mE(asr,csr,t=>"accounts"in t?fE(t,mlt):fE(t,flt)),glt=$e({signatures:vt(tt()),message:$e({accountKeys:vt(dlt),instructions:vt(hlt),recentBlockhash:tt(),addressTableLookups:Ft(_t(vt(ult)))})}),Hz=$e({accountIndex:fe(),mint:tt(),owner:Ft(tt()),programId:Ft(tt()),uiTokenAmount:Zor}),ylt=$e({writable:vt(Bi),readonly:vt(Bi)}),Jz=$e({err:b_,fee:fe(),innerInstructions:Ft(_t(vt($e({index:fe(),instructions:vt($e({accounts:vt(fe()),data:tt(),programIdIndex:fe()}))})))),preBalances:vt(fe()),postBalances:vt(fe()),logMessages:Ft(_t(vt(tt()))),preTokenBalances:Ft(_t(vt(Hz))),postTokenBalances:Ft(_t(vt(Hz))),loadedAddresses:Ft(ylt),computeUnitsConsumed:Ft(fe()),costUnits:Ft(fe())}),O0e=$e({err:b_,fee:fe(),innerInstructions:Ft(_t(vt($e({index:fe(),instructions:vt(hlt)})))),preBalances:vt(fe()),postBalances:vt(fe()),logMessages:Ft(_t(vt(tt()))),preTokenBalances:Ft(_t(vt(Hz))),postTokenBalances:Ft(_t(vt(Hz))),loadedAddresses:Ft(ylt),computeUnitsConsumed:Ft(fe()),costUnits:Ft(fe())}),_E=ta([pi(0),pi("legacy")]),v_=$e({pubkey:tt(),lamports:fe(),postBalance:_t(fe()),rewardType:_t(tt()),commission:Ft(_t(fe()))}),WWn=jn(_t($e({blockhash:tt(),previousBlockhash:tt(),parentSlot:fe(),transactions:vt($e({transaction:N0e,meta:_t(Jz),version:Ft(_E)})),rewards:Ft(vt(v_)),blockTime:_t(fe()),blockHeight:_t(fe())}))),KWn=jn(_t($e({blockhash:tt(),previousBlockhash:tt(),parentSlot:fe(),rewards:Ft(vt(v_)),blockTime:_t(fe()),blockHeight:_t(fe())}))),QWn=jn(_t($e({blockhash:tt(),previousBlockhash:tt(),parentSlot:fe(),transactions:vt($e({transaction:plt,meta:_t(Jz),version:Ft(_E)})),rewards:Ft(vt(v_)),blockTime:_t(fe()),blockHeight:_t(fe())}))),XWn=jn(_t($e({blockhash:tt(),previousBlockhash:tt(),parentSlot:fe(),transactions:vt($e({transaction:glt,meta:_t(O0e),version:Ft(_E)})),rewards:Ft(vt(v_)),blockTime:_t(fe()),blockHeight:_t(fe())}))),YWn=jn(_t($e({blockhash:tt(),previousBlockhash:tt(),parentSlot:fe(),transactions:vt($e({transaction:plt,meta:_t(O0e),version:Ft(_E)})),rewards:Ft(vt(v_)),blockTime:_t(fe()),blockHeight:_t(fe())}))),ZWn=jn(_t($e({blockhash:tt(),previousBlockhash:tt(),parentSlot:fe(),rewards:Ft(vt(v_)),blockTime:_t(fe()),blockHeight:_t(fe())}))),eKn=jn(_t($e({blockhash:tt(),previousBlockhash:tt(),parentSlot:fe(),transactions:vt($e({transaction:N0e,meta:_t(Jz)})),rewards:Ft(vt(v_)),blockTime:_t(fe())}))),tKn=jn(_t($e({blockhash:tt(),previousBlockhash:tt(),parentSlot:fe(),signatures:vt(tt()),blockTime:_t(fe())}))),rKn=jn(_t($e({slot:fe(),meta:_t(Jz),blockTime:Ft(_t(fe())),transaction:N0e,version:Ft(_E)}))),nKn=jn(_t($e({slot:fe(),transaction:glt,meta:_t(O0e),blockTime:Ft(_t(fe())),version:Ft(_E)}))),iKn=op($e({blockhash:tt(),lastValidBlockHeight:fe()})),oKn=op(ip()),lsr=$e({slot:fe(),numTransactions:fe(),numSlots:fe(),samplePeriodSecs:fe()}),sKn=jn(vt(lsr)),aKn=op(_t($e({feeCalculator:$e({lamportsPerSignature:fe()})}))),cKn=jn(tt()),lKn=jn(tt()),usr=$e({err:b_,logs:vt(tt()),signature:tt()}),uKn=$e({result:qz(usr),subscription:fe()});var tN=class t{constructor(e){this._keypair=void 0,this._keypair=e??jct()}static generate(){return new t(jct())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");let n=e.slice(32,64);if(!r||!r.skipValidation){let i=e.slice(0,32),o=f0e(i);for(let s=0;s<32;s++)if(n[s]!==o[s])throw new Error("provided secretKey is invalid")}return new t({publicKey:n,secretKey:e})}static fromSeed(e){let r=f0e(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new t({publicKey:r,secretKey:n})}get publicKey(){return new ar(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},X9=Object.freeze({CreateLookupTable:{index:0,layout:te.struct([te.u32("instruction"),bE("recentSlot"),te.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:te.struct([te.u32("instruction")])},ExtendLookupTable:{index:2,layout:te.struct([te.u32("instruction"),bE(),te.seq(Pr(),te.offset(te.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:te.struct([te.u32("instruction")])},CloseLookupTable:{index:4,layout:te.struct([te.u32("instruction")])}});var S0e=class{constructor(){}static createLookupTable(e){let[r,n]=ar.findProgramAddressSync([e.authority.toBuffer(),Jge().encode(e.recentSlot)],this.programId),i=X9.CreateLookupTable,o=Vr(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Da.programId,isSigner:!1,isWritable:!1}];return[new Mn({programId:this.programId,keys:s,data:o}),r]}static freezeLookupTable(e){let r=X9.FreezeLookupTable,n=Vr(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Mn({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){let r=X9.ExtendLookupTable,n=Vr(r,{addresses:e.addresses.map(o=>o.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Da.programId,isSigner:!1,isWritable:!1}),new Mn({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){let r=X9.DeactivateLookupTable,n=Vr(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Mn({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){let r=X9.CloseLookupTable,n=Vr(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Mn({programId:this.programId,keys:i,data:n})}};S0e.programId=new ar("AddressLookupTab1e1111111111111111111111111");var Uz=Object.freeze({RequestUnits:{index:0,layout:te.struct([te.u8("instruction"),te.u32("units"),te.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:te.struct([te.u8("instruction"),te.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:te.struct([te.u8("instruction"),te.u32("units")])},SetComputeUnitPrice:{index:3,layout:te.struct([te.u8("instruction"),bE("microLamports")])}}),w0e=class{constructor(){}static requestUnits(e){let r=Uz.RequestUnits,n=Vr(r,e);return new Mn({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){let r=Uz.RequestHeapFrame,n=Vr(r,e);return new Mn({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){let r=Uz.SetComputeUnitLimit,n=Vr(r,e);return new Mn({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){let r=Uz.SetComputeUnitPrice,n=Vr(r,{microLamports:BigInt(e.microLamports)});return new Mn({keys:[],programId:this.programId,data:n})}};w0e.programId=new ar("ComputeBudget111111111111111111111111111111");var Xct=64,Yct=32,Zct=64,elt=te.struct([te.u8("numSignatures"),te.u8("padding"),te.u16("signatureOffset"),te.u16("signatureInstructionIndex"),te.u16("publicKeyOffset"),te.u16("publicKeyInstructionIndex"),te.u16("messageDataOffset"),te.u16("messageDataSize"),te.u16("messageInstructionIndex")]),A0e=class t{constructor(){}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,instructionIndex:o}=e;Yn(r.length===Yct,`Public Key must be ${Yct} bytes but received ${r.length} bytes`),Yn(i.length===Zct,`Signature must be ${Zct} bytes but received ${i.length} bytes`);let s=elt.span,a=s+r.length,c=a+i.length,l=1,u=sr.alloc(c+n.length),d=o??65535;return elt.encode({numSignatures:l,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:s,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:d},u),u.fill(r,s),u.fill(i,a),u.fill(n,c),new Mn({keys:[],programId:t.programId,data:u})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;Yn(r.length===Xct,`Private key must be ${Xct} bytes but received ${r.length} bytes`);try{let o=tN.fromSecretKey(r),s=o.publicKey.toBytes(),a=T0e(n,o.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:a,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};A0e.programId=new ar("Ed25519SigVerify111111111111111111111111111");var dsr=(t,e)=>{let r=$z.sign(t,e);return[r.toCompactRawBytes(),r.recovery]};$z.utils.isValidPrivateKey;var psr=$z.getPublicKey,tlt=32,u0e=20,rlt=64,fsr=11,d0e=te.struct([te.u8("numSignatures"),te.u16("signatureOffset"),te.u8("signatureInstructionIndex"),te.u16("ethAddressOffset"),te.u8("ethAddressInstructionIndex"),te.u16("messageDataOffset"),te.u16("messageDataSize"),te.u8("messageInstructionIndex"),te.blob(20,"ethAddress"),te.blob(64,"signature"),te.u8("recoveryId")]),E0e=class t{constructor(){}static publicKeyToEthAddress(e){Yn(e.length===rlt,`Public key must be ${rlt} bytes but received ${e.length} bytes`);try{return sr.from(Sge(Kr(e))).slice(-u0e)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,recoveryId:o,instructionIndex:s}=e;return t.createInstructionWithEthAddress({ethAddress:t.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:o,instructionIndex:s})}static createInstructionWithEthAddress(e){let{ethAddress:r,message:n,signature:i,recoveryId:o,instructionIndex:s=0}=e,a;typeof r=="string"?r.startsWith("0x")?a=sr.from(r.substr(2),"hex"):a=sr.from(r,"hex"):a=r,Yn(a.length===u0e,`Address must be ${u0e} bytes but received ${a.length} bytes`);let c=1+fsr,l=c,u=c+a.length,d=u+i.length+1,p=1,f=sr.alloc(d0e.span+n.length);return d0e.encode({numSignatures:p,signatureOffset:u,signatureInstructionIndex:s,ethAddressOffset:l,ethAddressInstructionIndex:s,messageDataOffset:d,messageDataSize:n.length,messageInstructionIndex:s,signature:Kr(i),ethAddress:Kr(a),recoveryId:o},f),f.fill(Kr(n),d0e.span),new Mn({keys:[],programId:t.programId,data:f})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;Yn(r.length===tlt,`Private key must be ${tlt} bytes but received ${r.length} bytes`);try{let o=Kr(r),s=psr(o,!1).slice(1),a=sr.from(Sge(Kr(n))),[c,l]=dsr(a,o);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:c,recoveryId:l,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};E0e.programId=new ar("KeccakSecp256k11111111111111111111111111111");var blt,msr=new ar("StakeConfig11111111111111111111111111111111");var rN=class{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}};blt=rN;rN.default=new blt(0,0,ar.default);var hy=Object.freeze({Initialize:{index:0,layout:te.struct([te.u32("instruction"),Cor(),Nor()])},Authorize:{index:1,layout:te.struct([te.u32("instruction"),Pr("newAuthorized"),te.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:te.struct([te.u32("instruction")])},Split:{index:3,layout:te.struct([te.u32("instruction"),te.ns64("lamports")])},Withdraw:{index:4,layout:te.struct([te.u32("instruction"),te.ns64("lamports")])},Deactivate:{index:5,layout:te.struct([te.u32("instruction")])},Merge:{index:7,layout:te.struct([te.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:te.struct([te.u32("instruction"),Pr("newAuthorized"),te.u32("stakeAuthorizationType"),hE("authoritySeed"),Pr("authorityOwner")])}}),dKn=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),Gz=class{constructor(){}static initialize(e){let{stakePubkey:r,authorized:n,lockup:i}=e,o=i||rN.default,s=hy.Initialize,a=Vr(s,{authorized:{staker:Kr(n.staker.toBuffer()),withdrawer:Kr(n.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:Kr(o.custodian.toBuffer())}}),c={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:eN,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new Mn(c)}static createAccountWithSeed(e){let r=new Gn;r.add(Da.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static createAccount(e){let r=new Gn;r.add(Da.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static delegate(e){let{stakePubkey:r,authorizedPubkey:n,votePubkey:i}=e,o=hy.Delegate,s=Vr(o);return new Gn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:ng,isSigner:!1,isWritable:!1},{pubkey:l0e,isSigner:!1,isWritable:!1},{pubkey:msr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(e){let{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:o,custodianPubkey:s}=e,a=hy.Authorize,c=Vr(a,{newAuthorized:Kr(i.toBuffer()),stakeAuthorizationType:o.index}),l=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:ng,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&l.push({pubkey:s,isSigner:!0,isWritable:!1}),new Gn().add({keys:l,programId:this.programId,data:c})}static authorizeWithSeed(e){let{stakePubkey:r,authorityBase:n,authoritySeed:i,authorityOwner:o,newAuthorizedPubkey:s,stakeAuthorizationType:a,custodianPubkey:c}=e,l=hy.AuthorizeWithSeed,u=Vr(l,{newAuthorized:Kr(s.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:Kr(o.toBuffer())}),d=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:ng,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new Gn().add({keys:d,programId:this.programId,data:u})}static splitInstruction(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:o}=e,s=hy.Split,a=Vr(s,{lamports:o});return new Mn({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,r){let n=new Gn;return n.add(Da.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:r,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e,r){let{stakePubkey:n,authorizedPubkey:i,splitStakePubkey:o,basePubkey:s,seed:a,lamports:c}=e,l=new Gn;return l.add(Da.allocate({accountPubkey:o,basePubkey:s,seed:a,space:this.space,programId:this.programId})),r&&r>0&&l.add(Da.transfer({fromPubkey:e.authorizedPubkey,toPubkey:o,lamports:r})),l.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:i,splitStakePubkey:o,lamports:c}))}static merge(e){let{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:i}=e,o=hy.Merge,s=Vr(o);return new Gn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:ng,isSigner:!1,isWritable:!1},{pubkey:l0e,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(e){let{stakePubkey:r,authorizedPubkey:n,toPubkey:i,lamports:o,custodianPubkey:s}=e,a=hy.Withdraw,c=Vr(a,{lamports:o}),l=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:ng,isSigner:!1,isWritable:!1},{pubkey:l0e,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&l.push({pubkey:s,isSigner:!0,isWritable:!1}),new Gn().add({keys:l,programId:this.programId,data:c})}static deactivate(e){let{stakePubkey:r,authorizedPubkey:n}=e,i=hy.Deactivate,o=Vr(i);return new Gn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:ng,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}};Gz.programId=new ar("Stake11111111111111111111111111111111111111");Gz.space=200;var Y9=Object.freeze({InitializeAccount:{index:0,layout:te.struct([te.u32("instruction"),Oor()])},Authorize:{index:1,layout:te.struct([te.u32("instruction"),Pr("newAuthorized"),te.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:te.struct([te.u32("instruction"),te.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:te.struct([te.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:te.struct([te.u32("instruction"),Por()])}}),pKn=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),jz=class t{constructor(){}static initializeAccount(e){let{votePubkey:r,nodePubkey:n,voteInit:i}=e,o=Y9.InitializeAccount,s=Vr(o,{voteInit:{nodePubkey:Kr(i.nodePubkey.toBuffer()),authorizedVoter:Kr(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Kr(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:eN,isSigner:!1,isWritable:!1},{pubkey:ng,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new Mn(a)}static createAccount(e){let r=new Gn;return r.add(Da.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:o}=e,s=Y9.Authorize,a=Vr(s,{newAuthorized:Kr(i.toBuffer()),voteAuthorizationType:o.index}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:ng,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Gn().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:o,voteAuthorizationType:s,votePubkey:a}=e,c=Y9.AuthorizeWithSeed,l=Vr(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Kr(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Kr(o.toBuffer()),voteAuthorizationType:s.index}}),u=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:ng,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Gn().add({keys:u,programId:this.programId,data:l})}static withdraw(e){let{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:o}=e,s=Y9.Withdraw,a=Vr(s,{lamports:i}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new Gn().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return t.withdraw(e)}static updateValidatorIdentity(e){let{votePubkey:r,authorizedWithdrawerPubkey:n,nodePubkey:i}=e,o=Y9.UpdateValidatorIdentity,s=Vr(o),a=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Gn().add({keys:a,programId:this.programId,data:s})}};jz.programId=new ar("Vote111111111111111111111111111111111111111");jz.space=3762;var fKn=new ar("Va1idator1nfo111111111111111111111111111111"),mKn=$e({name:tt(),website:Ft(tt()),details:Ft(tt()),iconUrl:Ft(tt()),keybaseUsername:Ft(tt())});var hKn=new ar("Vote111111111111111111111111111111111111111"),gKn=te.struct([Pr("nodePubkey"),Pr("authorizedWithdrawer"),te.u8("commission"),te.nu64(),te.seq(te.struct([te.nu64("slot"),te.u32("confirmationCount")]),te.offset(te.u32(),-8),"votes"),te.u8("rootSlotValid"),te.nu64("rootSlot"),te.nu64(),te.seq(te.struct([te.nu64("epoch"),Pr("authorizedVoter")]),te.offset(te.u32(),-8),"authorizedVoters"),te.struct([te.seq(te.struct([Pr("authorizedPubkey"),te.nu64("epochOfLastAuthorizedSwitch"),te.nu64("targetEpoch")]),32,"buf"),te.nu64("idx"),te.u8("isEmpty")],"priorVoters"),te.nu64(),te.seq(te.struct([te.nu64("epoch"),te.nu64("credits"),te.nu64("prevCredits")]),te.offset(te.u32(),-8),"epochCredits"),te.struct([te.nu64("slot"),te.nu64("timestamp")],"lastTimestamp")]);var Wz=class{constructor(e){this.organizationId=e.organizationId,this.client=e.client}async signAllTransactions(e,r,n){let i=new ar(r),o=e.map(c=>this.getMessageToSign(c).toString("hex")),a=(await this.signRawPayloads(o,r,n))?.signatures?.map(c=>`${c?.r}${c?.s}`);for(let c in e)e[c]?.addSignature(i,Buffer.from(a[c],"hex"));return e}async addSignature(e,r,n){let i=new ar(r),o=this.getMessageToSign(e),s=await this.signRawPayload(o.toString("hex"),r,n??this.organizationId),a=`${s?.r}${s?.s}`;e.addSignature(i,Buffer.from(a,"hex"))}async signMessage(e,r,n){let i=await this.signRawPayload(Buffer.from(e).toString("hex"),r,n);return Buffer.from(`${i?.r}${i?.s}`,"hex")}async signTransaction(e,r,n){let i=Buffer.from(e.serialize({requireAllSignatures:!1,verifySignatures:!1})).toString("hex"),o=await this.signTransactionImpl(i,r,n),s=Buffer.from(o,"hex");return"version"in e?yE.deserialize(s):Gn.from(s)}async signTransactionImpl(e,r,n){if(L9(this.client)){let i=await this.client.signTransaction({type:"ACTIVITY_TYPE_SIGN_TRANSACTION_V2",organizationId:n??this.organizationId,timestampMs:String(Date.now()),parameters:{signWith:r,unsignedTransaction:e,type:"TRANSACTION_TYPE_SOLANA"}}),{activity:o}=i;return sy(o),ay(o?.result?.signTransactionResult?.signedTransaction)}else{let{activity:i,signedTransaction:o}=await this.client.signTransaction({...n!==void 0&&{organizationId:n},signWith:r,unsignedTransaction:e,type:"TRANSACTION_TYPE_SOLANA"});return sy(i),ay(o)}}async signRawPayload(e,r,n){if(L9(this.client)){let i=await this.client.signRawPayload({type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOAD_V2",organizationId:n??this.organizationId,timestampMs:String(Date.now()),parameters:{signWith:r,payload:e,encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE"}}),{activity:o}=i;return sy(o),ay(o?.result?.signRawPayloadResult)}else{let{activity:i,r:o,s,v:a}=await this.client.signRawPayload({...n!==void 0&&{organizationId:n},signWith:r,payload:e,encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE"});return sy(i),ay({r:o,s,v:a})}}async signRawPayloads(e,r,n){if(L9(this.client)){let i=await this.client.signRawPayloads({type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOADS",organizationId:n??this.organizationId,timestampMs:String(Date.now()),parameters:{signWith:r,payloads:e,encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE"}}),{activity:o}=i;return sy(o),ay(o?.result?.signRawPayloadsResult)}else{let{activity:i,signatures:o}=await this.client.signRawPayloads({...n!==void 0&&{organizationId:n},signWith:r,payloads:e,encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE"});return sy(i),ay({signatures:o})}}getMessageToSign(e){let r;return typeof e.serializeMessage=="function"?r=e.serializeMessage():r=Buffer.from(e.message.serialize()),r}};var P0e=null;function hsr(){if(!P0e){if(!Zr.TURNKEY_API_PRIVATE_KEY||!Zr.TURNKEY_API_PUBLIC_KEY||!Zr.TURNKEY_ORGANIZATION_ID)throw new Error("wallet_config_missing: TURNKEY_API_PRIVATE_KEY, TURNKEY_API_PUBLIC_KEY, and TURNKEY_ORGANIZATION_ID are required");P0e=new d_({apiBaseUrl:"https://api.turnkey.com",apiPrivateKey:Zr.TURNKEY_API_PRIVATE_KEY,apiPublicKey:Zr.TURNKEY_API_PUBLIC_KEY,defaultOrganizationId:Zr.TURNKEY_ORGANIZATION_ID})}return P0e}function k0e(){let e=hsr().apiClient();if(!Zr.TURNKEY_ORGANIZATION_ID)throw new Error("wallet_config_missing: TURNKEY_ORGANIZATION_ID is required for signing");return new Wz({organizationId:Zr.TURNKEY_ORGANIZATION_ID,client:e})}async function D0e(t){let e=new URL(`${sL}/ultra/v1/order`);e.searchParams.set("inputMint",t.inputMint),e.searchParams.set("outputMint",t.outputMint),e.searchParams.set("amount",t.amount),e.searchParams.set("taker",t.taker);let r=await fetch(e.toString(),{method:"GET",headers:{"x-api-key":Zr.JUPITER_API_KEY}});if(!r.ok){let i=await r.text().catch(()=>"no body");throw new Error(`jupiter_order_failed: HTTP ${r.status} \u2013 ${i}`)}let n=await r.json();if(!n.transaction)throw new Error(`jupiter_order_failed: response missing transaction field \u2013 ${JSON.stringify(n)}`);return n}async function vlt(t,e){let r=Buffer.from(t,"base64"),n,i,o=r[0];o<128?(n=o,i=1):(n=o&127|(r[1]&255)<<7,i=2);let s=i,a=s+n*64,c=r.subarray(a),u=await k0e().signMessage(new Uint8Array(c),e),d=Buffer.from(r);return Buffer.from(u).copy(d,s,0,64),d.toString("base64")}function _lt(t,e){let r=Buffer.from(t,"base64"),n=yE.deserialize(r);return n.sign([e]),Buffer.from(n.serialize()).toString("base64")}function gsr(t){return new Promise(e=>setTimeout(e,t))}async function M0e(t){let e=`${sL}/ultra/v1/execute`,r=async()=>{let i=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":Zr.JUPITER_API_KEY},body:JSON.stringify({signedTransaction:t.signedTransaction,requestId:t.requestId})});if(!i.ok){let o=await i.text().catch(()=>"no body");throw new Error(`jupiter_execute_failed: HTTP ${i.status} \u2013 ${o}`)}return await i.json()},n=await r();if(n.code===-1006&&(await gsr(2e3),n=await r()),n.status!=="Success")throw new Error(`jupiter_execute_failed: status=${n.status} code=${n.code} sig=${n.signature}`);return n}function xE(t){let e=t.toUpperCase();return Ru.find(r=>r.symbol.toUpperCase()===e)}P$();var ysr="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",bsr="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",xlt=10000000n;function L0e(){let t=Zr.SOLANA_RPC_URL||"";return t.includes("mainnet")||t.includes("helius")?zoe:Zr.NODE_ENV==="production"?zoe:WUe}function Slt(){let t=Zr.SOLANA_RPC_URL||"https://api.devnet.solana.com";return c$(t)}async function vsr(t,e){let r=Pde(),[n]=await SXe({programAddress:Bu(bsr),seeds:[r.encode(Bu(t)),r.encode(Bu(ysr)),r.encode(Bu(e))]});return n}var _sr={"claude-value-investor":{publicEnv:"ANTHROPIC_WALLET_PUBLIC",privateEnv:"ANTHROPIC_WALLET_PRIVATE"},"gpt-momentum-trader":{publicEnv:"OPENAI_WALLET_PUBLIC",privateEnv:"OPENAI_WALLET_PRIVATE"},"grok-contrarian":{publicEnv:"GROK_WALLET_PUBLIC",privateEnv:"GROK_WALLET_PRIVATE"}};async function wlt(t){let e=_sr[t];if(e){let n=process.env[e.publicEnv],i=process.env[e.privateEnv];if(n&&i){let o=tN.fromSecretKey(Yv.decode(i));return{publicKey:n,keypair:o}}}let r=await qt.select().from(DT).where(cr(DT.agentId,t)).limit(1);if(r.length===0)throw new Error(`wallet_not_found: no wallet for agent ${t}. Set ${e?.publicEnv??"???"}/${e?.privateEnv??"???"} in .env`);return{publicKey:r[0].publicKey,keypair:null}}async function Alt(t,e){return e.keypair?_lt(t,e.keypair):vlt(t,e.publicKey)}async function Elt(t){return(await Slt().getBalance(Bu(t)).send()).value}async function xsr(t){let e=Slt();try{let r=L0e(),n=await vsr(t,r),i=await e.getTokenAccountBalance(Bu(n)).send();return BigInt(i.value.amount)}catch{return 0n}}async function Tlt(t){let e=xE(t.stockSymbol);if(!e)throw new Error(`stock_not_found: ${t.stockSymbol} is not a supported stock`);let r=await wlt(t.agentId),n=new Ws(t.usdcAmount);if(n.lte(0))throw new Error("invalid_amount: usdcAmount must be > 0");if(n.decimalPlaces()>6)throw new Error("invalid_amount: usdcAmount has more than 6 decimal places");let i=n.mul(1e6).toFixed(0),[o,s]=await Promise.all([Elt(r.publicKey),xsr(r.publicKey)]);if(o<xlt)throw new Error(`insufficient_sol_for_fees: need at least 0.01 SOL, have ${new Ws(o.toString()).div(1e9).toFixed(9)} SOL`);let a=BigInt(i);if(s<a)throw new Error(`insufficient_usdc_balance: need ${n.toFixed(6)} USDC, have ${new Ws(s.toString()).div(1e6).toFixed(6)} USDC`);let c=await D0e({inputMint:L0e(),outputMint:e.mintAddress,amount:i,taker:r.publicKey}),l=await Alt(c.transaction,r),u=await M0e({signedTransaction:l,requestId:c.requestId}),d=new Ws(u.outputAmountResult||c.outAmount).div(new Ws(10).pow(e.decimals)),p=new Ws(t.usdcAmount),f=p.div(d),[h]=await qt.insert(Hi).values({agentId:t.agentId,side:"buy",stockMintAddress:e.mintAddress,stockSymbol:e.symbol,stockQuantity:d.toFixed(9),usdcAmount:p.toFixed(6),pricePerToken:f.toFixed(6),txSignature:u.signature,jupiterRouteInfo:{requestId:c.requestId,swapType:c.swapType,slippageBps:c.slippageBps,inAmount:c.inAmount,outAmount:c.outAmount,inputAmountResult:u.inputAmountResult,outputAmountResult:u.outputAmountResult},status:"confirmed"}).returning();return await qt.insert(Nr).values({agentId:t.agentId,mintAddress:e.mintAddress,symbol:e.symbol,quantity:d.toFixed(9),averageCostBasis:f.toFixed(6)}).onConflictDoUpdate({target:[Nr.agentId,Nr.mintAddress],set:{quantity:re`(${Nr.quantity}::numeric + ${d.toFixed(9)}::numeric)::numeric(20,9)`,averageCostBasis:re`(
          (${Nr.quantity}::numeric * ${Nr.averageCostBasis}::numeric + ${d.toFixed(9)}::numeric * ${f.toFixed(6)}::numeric)
          / (${Nr.quantity}::numeric + ${d.toFixed(9)}::numeric)
        )::numeric(20,6)`,updatedAt:new Date}}),{tradeId:h.id,txSignature:u.signature,status:"confirmed",side:"buy",stockSymbol:e.symbol,stockQuantity:d.toFixed(9),usdcAmount:p.toFixed(6),pricePerToken:f.toFixed(6)}}async function Rlt(t){let e=xE(t.stockSymbol);if(!e)throw new Error(`stock_not_found: ${t.stockSymbol} is not a supported stock`);let r=await wlt(t.agentId);if(!t.stockQuantity)throw new Error("invalid_amount: stockQuantity is required for sell orders");let n=new Ws(t.stockQuantity);if(n.lte(0))throw new Error("invalid_amount: stockQuantity must be > 0");let i=await qt.select().from(Nr).where(Ro(cr(Nr.agentId,t.agentId),cr(Nr.mintAddress,e.mintAddress))).limit(1);if(i.length===0)throw new Error(`insufficient_stock_balance: no position in ${e.symbol}`);let o=i[0],s=new Ws(o.quantity);if(s.lt(n))throw new Error(`insufficient_stock_balance: want to sell ${n.toFixed(9)} ${e.symbol} but only hold ${s.toFixed(9)}`);let a=n.mul(new Ws(10).pow(e.decimals)).toFixed(0),c=await D0e({inputMint:e.mintAddress,outputMint:L0e(),amount:a,taker:r.publicKey}),l=await Elt(r.publicKey);if(l<xlt)throw new Error(`insufficient_sol_for_fees: need at least 0.01 SOL, have ${new Ws(l.toString()).div(1e9).toFixed(9)} SOL`);let u=await Alt(c.transaction,r),d=await M0e({signedTransaction:u,requestId:c.requestId}),p=new Ws(d.outputAmountResult||c.outAmount).div(1e6),f=p.div(n),[h]=await qt.insert(Hi).values({agentId:t.agentId,side:"sell",stockMintAddress:e.mintAddress,stockSymbol:e.symbol,stockQuantity:n.toFixed(9),usdcAmount:p.toFixed(6),pricePerToken:f.toFixed(6),txSignature:d.signature,jupiterRouteInfo:{requestId:c.requestId,swapType:c.swapType,slippageBps:c.slippageBps,inAmount:c.inAmount,outAmount:c.outAmount,inputAmountResult:d.inputAmountResult,outputAmountResult:d.outputAmountResult},status:"confirmed"}).returning(),m=s.minus(n);return m.lte(0)?await qt.delete(Nr).where(cr(Nr.id,o.id)):await qt.update(Nr).set({quantity:m.toFixed(9),updatedAt:new Date}).where(cr(Nr.id,o.id)),{tradeId:h.id,txSignature:d.signature,status:"confirmed",side:"sell",stockSymbol:e.symbol,stockQuantity:n.toFixed(9),usdcAmount:p.toFixed(6),pricePerToken:f.toFixed(6)}}var Ssr=["trade_executed","round_started","round_completed","price_update","agent_decision","whale_alert","signal_fired","debate_started","prediction_created","sentiment_shift","price_deviation","order_triggered","trade_outcome_recorded"];function wsr(){let t=Date.now().toString(36),e=Math.random().toString(36).slice(2,8);return`evt_${t}_${e}`}function Asr(){return`sub_${Math.random().toString(36).slice(2,10)}`}var B0e=class t{buffer=[];subscribers=new Map;emissionTimestamps=[];totalEmitted=0;lastEventAt=null;startedAt=Date.now();emit(e,r){let n={id:wsr(),type:e,timestamp:new Date().toISOString(),data:r};this.buffer.push(n),this.buffer.length>100&&this.buffer.shift();let i=Date.now();this.totalEmitted++,this.lastEventAt=n.timestamp,this.emissionTimestamps.push(i);let o=i-6e4;for(;this.emissionTimestamps.length>0&&this.emissionTimestamps[0]<o;)this.emissionTimestamps.shift();for(let s of this.subscribers.values())if(!(s.typeFilter&&!s.typeFilter.includes(e)))try{s.callback(n)}catch(a){console.error(`[EventBus] Subscriber ${s.id} threw:`,a)}return n}subscribe(e,r){let n=Asr();return this.subscribers.set(n,{id:n,callback:e,typeFilter:r??null,createdAt:Date.now()}),n}unsubscribe(e){return this.subscribers.delete(e)}getRecentEvents(e,r,n=100){let i=[...this.buffer];if(e){let o=new Date(e).getTime();Number.isNaN(o)||(i=i.filter(s=>new Date(s.timestamp).getTime()>o))}if(r&&r.length>0){let o=new Set(r);i=i.filter(s=>o.has(s.type))}return i.reverse().slice(0,n)}getLatestEvents(e=10){return[...this.buffer].reverse().slice(0,e)}getStats(){let e=Date.now(),r=e-6e4,n=this.buffer.filter(o=>new Date(o.timestamp).getTime()>r),i={};for(let o of n)i[o.type]=(i[o.type]??0)+1;for(;this.emissionTimestamps.length>0&&this.emissionTimestamps[0]<r;)this.emissionTimestamps.shift();return{activeConnections:this.subscribers.size,totalEventsEmitted:this.totalEmitted,eventsLastMinute:this.emissionTimestamps.length,eventsByType:i,bufferSize:this.buffer.length,bufferCapacity:100,lastEventAt:this.lastEventAt,uptimeMs:e-this.startedAt}}static formatSSE(e){let r=[];r.push(`id: ${e.id}`),r.push(`event: ${e.type}`);let n=JSON.stringify({...e.data,_meta:{eventId:e.id,type:e.type,timestamp:e.timestamp}});return r.push(`data: ${n}`),r.join(`
`)+`

`}static formatHeartbeat(){return`:heartbeat ${new Date().toISOString()}

`}static getChannelDescriptions(){return[{type:"trade_executed",description:"Fired when any agent executes a buy or sell trade"},{type:"round_started",description:"Fired when a new automated trading round begins"},{type:"round_completed",description:"Fired when a trading round finishes with all agent results"},{type:"price_update",description:"Fired when market prices are refreshed from Jupiter"},{type:"agent_decision",description:"Fired for each individual agent decision with full reasoning"},{type:"whale_alert",description:"Fired when a large position change or conviction spike is detected"},{type:"signal_fired",description:"Fired when a technical indicator triggers a signal (RSI, MACD, etc.)"},{type:"debate_started",description:"Fired when agents begin a structured debate about a stock"},{type:"prediction_created",description:"Fired when an agent publishes a new price prediction"},{type:"sentiment_shift",description:"Fired when overall market sentiment changes direction"}]}static isValidEventType(e){return Ssr.includes(e)}static parseTypeFilter(e){return e.split(",").map(r=>r.trim()).filter(r=>t.isValidEventType(r))}},$0e=new B0e;import{createHmac as Esr,randomBytes as Nlt}from"crypto";var U0e=3,Tsr=60,Rsr=1e4,Ilt=200,Isr=500,Csr=new Map,F0e=[],z0e=[],Clt={},Nsr=0,Osr=0,Psr=0,Kz=new Map;function V0e(t,e,r){let n={id:`evt_${Date.now()}_${Nlt(4).toString("hex")}`,type:t,timestamp:new Date().toISOString(),data:e,metadata:{...r,severity:r.severity??Dsr(t)}};F0e.unshift(n),F0e.length>Ilt&&(F0e.length=Ilt),Clt[t]=(Clt[t]??0)+1;let i=ksr(n);i.length>0&&console.log(`[AlertWebhooks] Emitting ${t} event ${n.id} to ${i.length} subscribers`);for(let o of i)Dlt(o,n).catch(s=>{console.error(`[AlertWebhooks] Delivery failed for ${o.id}: ${s instanceof Error?s.message:String(s)}`)});return n}function Olt(t){return V0e("trade_executed",{agentId:t.agentId,agentName:t.agentName,action:t.action,symbol:t.symbol,quantity:t.quantity,confidence:t.confidence,reasoning:t.reasoning},{roundId:t.roundId,agentId:t.agentId,symbol:t.symbol})}function Plt(t){return V0e("round_completed",{results:t.results,agentCount:t.results.length,errorCount:t.errors.length,circuitBreakerActivations:t.circuitBreakerActivations},{roundId:t.roundId,severity:t.errors.length>0?"warning":"info"})}function klt(t){return V0e("agent_disagreement",t,{roundId:t.roundId,symbol:t.symbol})}async function Dlt(t,e,r=1){if(!Msr(t.id)){console.warn(`[AlertWebhooks] Rate limited: ${t.id} (${t.url})`);return}let n={id:`dlv_${Date.now()}_${Nlt(4).toString("hex")}`,subscriptionId:t.id,eventId:e.id,url:t.url,status:"pending",attempt:r,maxAttempts:U0e,createdAt:new Date().toISOString()},i=JSON.stringify({event:e.type,id:e.id,timestamp:e.timestamp,data:e.data,metadata:e.metadata}),o=Esr("sha256",t.secret).update(i).digest("hex");try{let s=await fetch(t.url,{method:"POST",headers:{"Content-Type":"application/json","X-MoltApp-Signature":`sha256=${o}`,"X-MoltApp-Event":e.type,"X-MoltApp-Delivery-Id":n.id,"X-MoltApp-Timestamp":e.timestamp,"User-Agent":"MoltApp-Webhooks/1.0"},body:i,signal:AbortSignal.timeout(Rsr)});if(n.httpStatus=s.status,Nsr++,s.ok)n.status="delivered",n.deliveredAt=new Date().toISOString(),t.deliveryCount++,t.lastDeliveryAt=n.deliveredAt,Osr++,Lsr(t.id);else throw new Error(`HTTP ${s.status}: ${await s.text().catch(()=>"no body")}`)}catch(s){let a=s instanceof Error?s.message:String(s);if(n.error=a,n.status="failed",Psr++,r<U0e){let c=Math.pow(2,r)*1e3+Math.random()*1e3;return console.warn(`[AlertWebhooks] Delivery failed for ${t.id}, retrying in ${Math.round(c)}ms (attempt ${r}/${U0e}): ${a}`),await new Promise(l=>setTimeout(l,c)),Dlt(t,e,r+1)}n.status="dead_letter",z0e.push(n),z0e.length>Isr&&z0e.shift(),t.failureCount++,t.lastFailureAt=new Date().toISOString(),t.failureCount>=10&&(t.active=!1,console.error(`[AlertWebhooks] Auto-deactivated subscription ${t.id} after ${t.failureCount} failures`)),console.error(`[AlertWebhooks] Dead letter for ${t.id}: ${a}`)}}function ksr(t){let e=[];for(let r of Csr.values())r.active&&r.events.includes(t.type)&&(r.agentFilter&&r.agentFilter.length>0&&t.metadata.agentId&&!r.agentFilter.includes(t.metadata.agentId)||r.symbolFilter&&r.symbolFilter.length>0&&t.metadata.symbol&&!r.symbolFilter.includes(t.metadata.symbol)||e.push(r));return e}function Dsr(t){switch(t){case"circuit_breaker_triggered":return"warning";case"whale_move":return"warning";case"agent_disagreement":return"info";case"new_high":return"info";default:return"info"}}function Msr(t){let r=Date.now()-6e4,n=Kz.get(t)??[];return n=n.filter(i=>i>r),Kz.set(t,n),n.length<Tsr}function Lsr(t){let e=Kz.get(t)??[];e.push(Date.now()),Kz.set(t,e)}Ult();Xz();var Gsr=0,jsr=0,qsr=0,Jsr=0,Wsr=0,Flt=0,eV=[],Ksr=null,zlt={},Vlt={},H0e=[],Hlt=100,Glt=500,jlt=0;function yy(){return process.env.TRADING_MODE?.toLowerCase()==="live"?"live":"paper"}async function Jlt(t){let e=Date.now(),r=t.modeOverride??yy(),n={success:!1,mode:r,agentId:t.agentId,agentName:t.agentName,decision:t.decision,durationMs:0};try{if(t.decision.action==="hold")return n.success=!0,n.durationMs=Date.now()-e,await sN(t.agentId,t.roundId,"executed",void 0,void 0),G0e(n),n;if(!xE(t.decision.symbol))return n.error=`Stock not found: ${t.decision.symbol}`,n.errorCode="stock_not_found",n.durationMs=Date.now()-e,await sN(t.agentId,t.roundId,"failed",void 0,n.error),G0e(n),n;if(console.log(`[TradeExecutor] Executing ${t.decision.action} for ${t.agentName}: ${t.decision.quantity} ${t.decision.symbol} (mode: ${r}, round: ${t.roundId})`),r==="live")n.tradeResult=await Qsr(t),n.success=!0,jsr++,await sN(t.agentId,t.roundId,"executed",n.tradeResult.txSignature,void 0),Flt+=parseFloat(n.tradeResult.usdcAmount),$0e.emit("trade_executed",{agentId:t.agentId,agentName:t.agentName,symbol:t.decision.symbol,action:t.decision.action,quantity:t.decision.quantity,price:parseFloat(n.tradeResult.pricePerToken),confidence:t.decision.confidence,reasoning:t.decision.reasoning}),Olt({agentId:t.agentId,agentName:t.agentName,action:t.decision.action,symbol:t.decision.symbol,quantity:t.decision.quantity,confidence:t.decision.confidence,reasoning:t.decision.reasoning,roundId:t.roundId}),nN("live_trade_executed",`${t.agentName} ${t.decision.action} ${t.decision.quantity} ${t.decision.symbol} @ ${n.tradeResult.pricePerToken}`,t.agentId,t.roundId,{txSignature:n.tradeResult.txSignature,usdcAmount:n.tradeResult.usdcAmount,stockQuantity:n.tradeResult.stockQuantity});else{let o=await Xsr(t);n.paperTradeId=o.paperTradeId,n.success=!0,qsr++,await sN(t.agentId,t.roundId,"executed_paper",o.paperTradeId,void 0),Flt+=o.usdcAmount,$0e.emit("trade_executed",{agentId:t.agentId,agentName:t.agentName,symbol:t.decision.symbol,action:t.decision.action,quantity:t.decision.quantity,price:o.pricePerToken,confidence:t.decision.confidence,reasoning:t.decision.reasoning}),nN("paper_trade_executed",`${t.agentName} PAPER ${t.decision.action} ${t.decision.quantity} ${t.decision.symbol} @ ${o.pricePerToken.toFixed(6)}`,t.agentId,t.roundId,{paperTradeId:o.paperTradeId})}Jsr++}catch(i){let o=i instanceof Error?i.message:String(i),s=ear(o);n.error=o,n.errorCode=s,Wsr++,console.error(`[TradeExecutor] Execution failed for ${t.agentName}: ${o}`),await sN(t.agentId,t.roundId,"failed",void 0,o);let a=$lt({agentId:t.agentId,side:t.decision.action,symbol:t.decision.symbol,quantity:String(t.decision.quantity),error:o,errorCode:s,roundId:t.roundId});n.recoveryId=a.recoveryId,iN(`Trade execution failed: ${t.decision.action} ${t.decision.quantity} ${t.decision.symbol}`,t.agentId,o,t.roundId,{errorCode:s,recoveryId:a.recoveryId})}return n.durationMs=Date.now()-e,Gsr++,G0e(n),n}async function Qsr(t){if(t.decision.action==="buy")return await Tlt({agentId:t.agentId,stockSymbol:t.decision.symbol,usdcAmount:String(t.decision.quantity)});if(t.decision.action==="sell")return await Rlt({agentId:t.agentId,stockSymbol:t.decision.symbol,usdcAmount:"0",stockQuantity:String(t.decision.quantity)});throw new Error(`invalid_action: ${t.decision.action}`)}async function Xsr(t){let e=xE(t.decision.symbol);if(!e)throw new Error(`stock_not_found: ${t.decision.symbol}`);let r=await Zsr(e.mintAddress,e.symbol);jlt++;let n=`paper_${Date.now()}_${jlt.toString(36)}`,i,o;if(t.decision.action==="buy")i=t.decision.quantity,o=i/r,await qt.insert(Hi).values({agentId:t.agentId,side:"buy",stockMintAddress:e.mintAddress,stockSymbol:e.symbol,stockQuantity:o.toFixed(9),usdcAmount:i.toFixed(6),pricePerToken:r.toFixed(6),txSignature:n,jupiterRouteInfo:{mode:"paper",roundId:t.roundId,confidence:t.decision.confidence},status:"confirmed"}),await qt.insert(Nr).values({agentId:t.agentId,mintAddress:e.mintAddress,symbol:e.symbol,quantity:o.toFixed(9),averageCostBasis:r.toFixed(6)}).onConflictDoUpdate({target:[Nr.agentId,Nr.mintAddress],set:{quantity:re`(${Nr.quantity}::numeric + ${o.toFixed(9)}::numeric)::numeric(20,9)`,averageCostBasis:re`(
            (${Nr.quantity}::numeric * ${Nr.averageCostBasis}::numeric + ${o.toFixed(9)}::numeric * ${r.toFixed(6)}::numeric)
            / NULLIF(${Nr.quantity}::numeric + ${o.toFixed(9)}::numeric, 0)
          )::numeric(20,6)`,updatedAt:new Date}});else if(t.decision.action==="sell"){o=t.decision.quantity,i=o*r;let s=await qt.select().from(Nr).where(Ro(cr(Nr.agentId,t.agentId),cr(Nr.mintAddress,e.mintAddress))).limit(1);if(s.length===0)throw new Error(`insufficient_stock_balance: no position in ${e.symbol}`);let a=parseFloat(s[0].quantity);a<o&&(o=a,i=o*r),await qt.insert(Hi).values({agentId:t.agentId,side:"sell",stockMintAddress:e.mintAddress,stockSymbol:e.symbol,stockQuantity:o.toFixed(9),usdcAmount:i.toFixed(6),pricePerToken:r.toFixed(6),txSignature:n,jupiterRouteInfo:{mode:"paper",roundId:t.roundId,confidence:t.decision.confidence},status:"confirmed"});let c=a-o;c<=1e-9?await qt.delete(Nr).where(cr(Nr.id,s[0].id)):await qt.update(Nr).set({quantity:c.toFixed(9),updatedAt:new Date}).where(cr(Nr.id,s[0].id))}else throw new Error(`invalid_action: ${t.decision.action}`);return{paperTradeId:n,pricePerToken:r,usdcAmount:i,stockQuantity:o}}var qlt=new Map,Ysr=5e3;async function Zsr(t,e){let r=qlt.get(t);if(r&&Date.now()-r.fetchedAt<Ysr)return r.price;try{let s=process.env.JUPITER_API_KEY,a={};s&&(a["x-api-key"]=s);let c=await fetch(`https://api.jup.ag/price/v3?ids=${t}`,{headers:a,signal:AbortSignal.timeout(5e3)});if(c.ok){let u=(await c.json()).data?.[t];if(u?.price){let d=parseFloat(u.price);return qlt.set(t,{price:d,fetchedAt:Date.now()}),d}}}catch{}let i={AAPLx:178.5,AMZNx:185.2,GOOGLx:142.8,METAx:505.3,MSFTx:415.6,NVDAx:890.5,TSLAx:245.8,SPYx:502.1,QQQx:435.7,COINx:205.4,MSTRx:1685,HOODx:22.8,NFLXx:628.9,PLTRx:24.5,GMEx:17.8}[e]??100,o=1+(Math.random()-.5)*.02;return Math.round(i*o*100)/100}async function sN(t,e,r,n,i){try{let o=await qt.select().from(Qp).where(Ro(cr(Qp.agentId,t),cr(Qp.roundId,e))).limit(1);if(o.length>0){let s={executed:r};n&&(s.txSignature=n),i&&(s.executionError=i),await qt.update(Qp).set(s).where(cr(Qp.id,o[0].id))}}catch(o){console.warn(`[TradeExecutor] Failed to update decision status: ${o instanceof Error?o.message:String(o)}`)}}function G0e(t){let e=zlt[t.agentId]??{total:0,success:0,failed:0};if(e.total++,t.success?e.success++:e.failed++,zlt[t.agentId]=e,t.decision.action!=="hold"){let r=Vlt[t.decision.symbol]??{buys:0,sells:0,volumeUSDC:0};t.decision.action==="buy"?r.buys++:r.sells++,t.tradeResult&&(r.volumeUSDC+=parseFloat(t.tradeResult.usdcAmount)),Vlt[t.decision.symbol]=r}eV.push(t.durationMs),eV.length>Glt&&(eV=eV.slice(-Glt)),H0e.unshift(t),H0e.length>Hlt&&(H0e.length=Hlt),Ksr=new Date().toISOString()}function ear(t){let e=[[/insufficient_usdc_balance/,"insufficient_usdc_balance"],[/insufficient_sol_for_fees/,"insufficient_sol_for_fees"],[/insufficient_stock_balance/,"insufficient_stock_balance"],[/stock_not_found/,"stock_not_found"],[/wallet_not_found/,"wallet_not_found"],[/invalid_amount/,"invalid_amount"],[/jupiter_order_failed/,"jupiter_order_failed"],[/jupiter_execute_failed/,"jupiter_execute_failed"],[/timeout/i,"rpc_timeout"],[/rate.?limit/i,"rate_limited"],[/network/i,"network_error"]];for(let[r,n]of e)if(r.test(t))return n;return"unknown_error"}ZB();var j0e=null,tar=0,rar=0,Klt=0,nar=null,iar=process.env.TRADING_ROUNDS_TABLE??"moltapp-trading-rounds",Qlt=process.env.AGENT_STATE_TABLE??"moltapp-agent-state",Xlt=2160*60*60;function J0e(){return j0e||(j0e=new Po({region:process.env.AWS_REGION??"us-east-1"})),j0e}function Ylt(){return!!(process.env.TRADING_ROUNDS_TABLE||process.env.AWS_LAMBDA_FUNCTION_NAME)}async function Zlt(t){if(!Ylt())return{success:!0};try{let e=J0e(),r=t.results.map(c=>({agentId:c.agentId,agentName:c.agentName,action:c.decision.action,symbol:c.decision.symbol,quantity:c.decision.quantity,reasoning:c.decision.reasoning,confidence:c.decision.confidence,executed:c.executed,executionError:c.executionError,txSignature:c.executionDetails?.txSignature,filledPrice:c.executionDetails?.filledPrice,usdcAmount:c.executionDetails?.usdcAmount})),n=uar(t.results),i=dar(t.results,t.errors),o=Math.floor(Date.now()/1e3)+Xlt,s={roundId:t.roundId,timestamp:t.timestamp,durationMs:t.durationMs,tradingMode:t.tradingMode,results:r,errors:t.errors,circuitBreakerActivations:t.circuitBreakerActivations.length,lockSkipped:t.lockSkipped,consensus:n,summary:i,ttl:o};await e.send(new s1({TableName:iar,Item:aar(s)})),tar++;let a=t.results.map(async c=>{let l=t.portfolioSnapshots?.get(c.agentId);await oar({agentId:c.agentId,result:c,roundId:t.roundId,timestamp:t.timestamp,portfolio:l})});return await Promise.allSettled(a),nar=new Date().toISOString(),{success:!0}}catch(e){Klt++;let r=e instanceof Error?e.message:String(e);return console.error(`[DynamoPersister] Failed to persist round: ${r}`),{success:!1,error:r}}}async function oar(t){try{let e=J0e(),r=await sar(t.agentId),n=(r?.totalDecisions??0)+1,i=(r?.totalTrades??0)+(t.result.decision.action!=="hold"&&t.result.executed?1:0),o=t.result.decision.action==="hold"?(r?.consecutiveHolds??0)+1:0,s=t.result.executionError?(r?.consecutiveErrors??0)+1:0,a=Math.floor(Date.now()/1e3)+Xlt,c={agentId:t.agentId,status:s>=3?"error":"active",lastTradeTimestamp:t.timestamp,lastAction:t.result.decision.action,lastSymbol:t.result.decision.symbol,lastConfidence:t.result.decision.confidence,totalDecisions:n,totalTrades:i,consecutiveHolds:o,consecutiveErrors:s,lastRoundId:t.roundId,portfolioValue:t.portfolio?.value??r?.portfolioValue??1e4,cashBalance:t.portfolio?.cash??r?.cashBalance??1e4,positionsCount:t.portfolio?.positionsCount??r?.positionsCount??0,totalPnlPercent:t.portfolio?.pnlPercent??r?.totalPnlPercent??0,updatedAt:t.timestamp,ttl:a};await e.send(new s1({TableName:Qlt,Item:car(c)})),rar++}catch(e){Klt++,console.warn(`[DynamoPersister] Failed to persist agent state for ${t.agentId}: ${e instanceof Error?e.message:String(e)}`)}}async function sar(t){if(!Ylt())return null;try{let r=await J0e().send(new Fv({TableName:Qlt,Key:{agentId:{S:t}}}));return r.Item?lar(r.Item):null}catch(e){return console.error(`[DynamoPersister] Failed to get agent state: ${e instanceof Error?e.message:String(e)}`),null}}function aar(t){return{roundId:{S:t.roundId},timestamp:{S:t.timestamp},durationMs:{N:String(t.durationMs)},tradingMode:{S:t.tradingMode},results:{S:JSON.stringify(t.results)},errors:{SS:t.errors.length>0?t.errors:["none"]},circuitBreakerActivations:{N:String(t.circuitBreakerActivations)},lockSkipped:{BOOL:t.lockSkipped},consensus:{S:t.consensus},summary:{S:t.summary},ttl:{N:String(t.ttl)}}}function car(t){return{agentId:{S:t.agentId},status:{S:t.status},lastTradeTimestamp:{S:t.lastTradeTimestamp},lastAction:{S:t.lastAction},lastSymbol:{S:t.lastSymbol},lastConfidence:{N:String(t.lastConfidence)},totalDecisions:{N:String(t.totalDecisions)},totalTrades:{N:String(t.totalTrades)},consecutiveHolds:{N:String(t.consecutiveHolds)},consecutiveErrors:{N:String(t.consecutiveErrors)},lastRoundId:{S:t.lastRoundId},portfolioValue:{N:String(t.portfolioValue)},cashBalance:{N:String(t.cashBalance)},positionsCount:{N:String(t.positionsCount)},totalPnlPercent:{N:String(t.totalPnlPercent)},updatedAt:{S:t.updatedAt},ttl:{N:String(t.ttl)}}}function lar(t){return{agentId:t.agentId?.S??"",status:t.status?.S??"active",lastTradeTimestamp:t.lastTradeTimestamp?.S??"",lastAction:t.lastAction?.S??"hold",lastSymbol:t.lastSymbol?.S??"",lastConfidence:Number(t.lastConfidence?.N??0),totalDecisions:Number(t.totalDecisions?.N??0),totalTrades:Number(t.totalTrades?.N??0),consecutiveHolds:Number(t.consecutiveHolds?.N??0),consecutiveErrors:Number(t.consecutiveErrors?.N??0),lastRoundId:t.lastRoundId?.S??"",portfolioValue:Number(t.portfolioValue?.N??1e4),cashBalance:Number(t.cashBalance?.N??1e4),positionsCount:Number(t.positionsCount?.N??0),totalPnlPercent:Number(t.totalPnlPercent?.N??0),updatedAt:t.updatedAt?.S??"",ttl:Number(t.ttl?.N??0)}}function uar(t){let e=t.filter(o=>o.decision.action!=="hold");if(e.length===0)return"no_trades";let r=e.map(o=>o.decision.action),n=r.filter(o=>o==="buy").length,i=r.filter(o=>o==="sell").length;return n===e.length||i===e.length?"unanimous":n>i&&n>1||i>n&&i>1?"majority":"split"}function dar(t,e){let r=[];for(let n of t){let i=n.decision.action.toUpperCase(),o=n.executed?"\u2713":"\u2717";r.push(`${n.agentName}: ${i} ${n.decision.symbol} (${n.decision.confidence}%) ${o}`)}return e.length>0&&r.push(`${e.length} error(s)`),r.join(" | ")}var q0e=[],Wlt=100;function eut(t){q0e.unshift(t),q0e.length>Wlt&&(q0e.length=Wlt)}var W0e=new Map,tut=500;function rut(t){let e=W0e.get("market_spy")??[];e.push(t),e.length>tut?W0e.set("market_spy",e.slice(-tut)):W0e.set("market_spy",e)}var Q0e=5e3,par=0,far=0,mar=0,tV=[],nut={},K0e=[],iut=50,out=200;async function har(t,e){let r=new AbortController,n=setTimeout(()=>r.abort(),e);try{let i=await t();return clearTimeout(n),i}catch(i){throw clearTimeout(n),r.signal.aborted?new Error(`Timed out after ${e}ms`):i}}function gar(){return process.env.TRADING_MODE?.toLowerCase()==="live"?"strict":"relaxed"}async function yar(){let t=Date.now();try{return await har(async()=>{await qt.execute(re`SELECT 1 as ok`)},Q0e),{name:"database",status:"pass",latencyMs:Date.now()-t,message:"Database connected",required:!0}}catch(e){return{name:"database",status:"fail",latencyMs:Date.now()-t,message:`Database unavailable: ${e instanceof Error?e.message:String(e)}`,required:!0}}}async function bar(){let t=Date.now();try{let e={};Zr.JUPITER_API_KEY&&(e["x-api-key"]=Zr.JUPITER_API_KEY);let r="So11111111111111111111111111111111111111112",n=await fetch(`https://api.jup.ag/price/v3?ids=${r}`,{headers:e,signal:AbortSignal.timeout(Q0e)}),i=Date.now()-t;if(!n.ok)return{name:"jupiter_api",status:"warn",latencyMs:i,message:`Jupiter returned HTTP ${n.status}`,required:!1};let s=(await n.json()).data?.[r]?.price;return s?{name:"jupiter_api",status:"pass",latencyMs:i,message:`Jupiter OK (SOL: $${s})`,required:!1}:{name:"jupiter_api",status:"warn",latencyMs:i,message:"Jupiter returned no SOL price data",required:!1}}catch(e){return{name:"jupiter_api",status:"warn",latencyMs:Date.now()-t,message:`Jupiter unreachable: ${e instanceof Error?e.message:String(e)}`,required:!1}}}async function _ar(){let t=Zr.SOLANA_RPC_URL;if(!t)return{name:"solana_rpc",status:"skip",latencyMs:0,message:"SOLANA_RPC_URL not configured",required:!1};let e=Date.now();try{let r=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"getSlot",params:[{commitment:"processed"}]}),signal:AbortSignal.timeout(Q0e)}),n=Date.now()-e;if(!r.ok)return{name:"solana_rpc",status:"warn",latencyMs:n,message:`Solana RPC returned HTTP ${r.status}`,required:!1};let i=await r.json();return{name:"solana_rpc",status:"pass",latencyMs:n,message:`Solana RPC OK (slot: ${i.result})`,required:!1}}catch(r){return{name:"solana_rpc",status:"warn",latencyMs:Date.now()-e,message:`Solana RPC unreachable: ${r instanceof Error?r.message:String(r)}`,required:!1}}}async function xar(){let t=Date.now(),e=[],r=[];return Zr.ANTHROPIC_API_KEY?e.push("Anthropic"):r.push("Anthropic"),Zr.OPENAI_API_KEY?e.push("OpenAI"):r.push("OpenAI"),Zr.XAI_API_KEY?e.push("xAI"):r.push("xAI"),e.length===0?{name:"llm_providers",status:"warn",latencyMs:Date.now()-t,message:"No LLM API keys configured \u2014 agents will produce mock decisions",required:!1}:{name:"llm_providers",status:e.length>=2?"pass":"warn",latencyMs:Date.now()-t,message:`${e.length}/3 providers configured (${e.join(", ")})`,required:!1}}function Sar(){let t=Date.now();try{let e=MI();return e.isLocked?{name:"trading_lock",status:"fail",latencyMs:Date.now()-t,message:`Lock already held by "${e.lock?.holderInfo}" (expires: ${e.lock?.expiresAt})`,required:!0}:{name:"trading_lock",status:"pass",latencyMs:Date.now()-t,message:"Lock available",required:!0}}catch(e){return{name:"trading_lock",status:"fail",latencyMs:Date.now()-t,message:`Lock check failed: ${e instanceof Error?e.message:String(e)}`,required:!0}}}function war(){let t=Date.now();try{let e=e$(),r=Object.keys(e.agentStates),n=r.filter(i=>e.agentStates[i].dailyLossTriggered);return n.length===r.length&&r.length>0?{name:"circuit_breakers",status:"warn",latencyMs:Date.now()-t,message:`All ${r.length} agents have daily loss limits triggered`,required:!1}:{name:"circuit_breakers",status:"pass",latencyMs:Date.now()-t,message:`${r.length-n.length}/${r.length||3} agents available to trade`,required:!1}}catch(e){return{name:"circuit_breakers",status:"warn",latencyMs:Date.now()-t,message:`CB check failed: ${e instanceof Error?e.message:String(e)}`,required:!1}}}async function sut(t){let e=Date.now(),r=t??gar(),n=new Date().toISOString();par++,console.log(`[PreRoundGate] Running pre-round health gate (mode: ${r})...`);let[i,o,s,a]=await Promise.all([yar(),bar(),_ar(),xar()]),c=Sar(),l=war(),u=[i,o,s,a,c,l];r==="strict"&&(o.required=!0,s.required=!0);let d=u.filter(R=>R.status==="pass").length,p=u.filter(R=>R.status==="fail").length,f=u.filter(R=>R.status==="warn").length,h=u.filter(R=>R.status==="skip").length,m=u.filter(R=>R.status==="fail").map(R=>R.name),g=u.filter(R=>R.status==="warn").map(R=>R.name),b=u.filter(R=>R.required&&R.status==="fail"),_=b.length===0,x=null;_||(x=`Required checks failed: ${b.map(R=>`${R.name} (${R.message})`).join("; ")}`);let E=Date.now()-e;if(_)far++;else{mar++;for(let R of b)nut[R.name]=(nut[R.name]??0)+1}tV.push(E),tV.length>out&&(tV=tV.slice(-out)),K0e.unshift({timestamp:n,proceed:_,mode:r,durationMs:E,failedChecks:m}),K0e.length>iut&&(K0e.length=iut);for(let R of u){let I=R.status==="pass"?"OK":R.status==="fail"?"FAIL":R.status==="warn"?"WARN":"SKIP";console.log(`[PreRoundGate]   ${I} ${R.name}: ${R.message} (${R.latencyMs}ms)`)}return console.log(`[PreRoundGate] Gate ${_?"OPEN":"BLOCKED"} (${r}): ${d} pass, ${p} fail, ${f} warn, ${h} skip \u2014 ${E}ms`+(x?` \u2014 ${x}`:"")),{proceed:_,mode:r,durationMs:E,timestamp:n,checks:u,summary:{total:u.length,passed:d,failed:p,warnings:f,skipped:h,failedChecks:m,warningChecks:g},blockReason:x}}Xz();var Aar={maxOrderRetries:3,maxExecuteRetries:2,baseDelayMs:1e3,maxSlippageBps:100,confirmationTimeoutMs:3e4,confirmationCommitment:"confirmed",useComputeBudget:!0,computeUnitPrice:5e4,computeUnitLimit:4e5},FQn={...Aar};var nXn=Date.now(),rV=[],aut=1e3;function cut(t){rV.push(t),rV.length>aut&&rV.splice(0,rV.length-aut)}var Ear=[[/\bundervalued\b/i,.8],[/\bupside\b/i,.7],[/\bbullish\b/i,.9],[/\bgrowth\s+potential\b/i,.7],[/\bbuying\s+opportunity\b/i,.8],[/\bpositive\s+momentum\b/i,.7],[/\bstrong\s+fundamentals?\b/i,.6],[/\bbreakout\b/i,.7],[/\brally\b/i,.6],[/\baccumulate\b/i,.7],[/\bsupport\s+level\b/i,.5],[/\brecovery\b/i,.6],[/\boptimistic\b/i,.7],[/\bfavorable\b/i,.5],[/\bcheap\b/i,.6],[/\bdiscount\b/i,.6],[/\bappreciat/i,.6],[/\bincrease\b/i,.4],[/\brise\b|\brising\b/i,.5],[/\bgain\b|\bgains\b/i,.5]],Tar=[[/\bovervalued\b/i,.8],[/\bdownside\b/i,.7],[/\bbearish\b/i,.9],[/\brisk\s+of\s+decline\b/i,.7],[/\bselling\s+pressure\b/i,.7],[/\bnegative\s+momentum\b/i,.7],[/\bweak\s+fundamentals?\b/i,.6],[/\bbreakdown\b/i,.7],[/\bcorrection\b/i,.6],[/\bdistribute\b/i,.5],[/\bresistance\s+level\b/i,.5],[/\bdeclining\b/i,.6],[/\bpessimistic\b/i,.7],[/\bunfavorable\b/i,.5],[/\bexpensive\b/i,.6],[/\boverheated\b/i,.6],[/\bdepreciat/i,.6],[/\bdecrease\b/i,.4],[/\bfall\b|\bfalling\b/i,.5],[/\bloss\b|\blosses\b/i,.5],[/\btake\s+profits?\b/i,.6],[/\boverexposed\b/i,.6],[/\btrim\s+position\b/i,.5]],Rar=[[/\buncertain\b/i,.6],[/\bwait\b|\bwaiting\b/i,.5],[/\bsidelines?\b/i,.7],[/\bcaution\b|\bcautious\b/i,.6],[/\bmixed\s+signals?\b/i,.7],[/\bno\s+clear\b/i,.6],[/\binsufficient\s+data\b/i,.7],[/\bpatien/i,.5],[/\bmonitor\b/i,.4],[/\bobserv/i,.4]];function Ma(t,e,r){let n=[],i=0,o=0;for(let[f,h]of Ear){let m=t.match(f);m&&(i+=h,o++,n.push({type:"bullish",text:m[0],weight:h}))}let s=0,a=0;for(let[f,h]of Tar){let m=t.match(f);m&&(s+=h,a++,n.push({type:"bearish",text:m[0],weight:h}))}let c=0;for(let[f,h]of Rar){let m=t.match(f);m&&(c+=h,n.push({type:"neutral",text:m[0],weight:h}))}let l=o+a,u=l>0?(i-s)/(i+s||1):0,d,p;return e==="buy"?u>.3?(d=.7+u*.3,p="Bullish reasoning supports buy action"):u>-.1?(d=.5+u*.2,p="Reasoning is ambiguous but not contradictory for buy"):(d=Math.max(.05,.4+u*.4),p="Bearish reasoning contradicts buy action",/contrarian|mean\s+reversion|oversold|bounce|bottom/i.test(t)&&(d=Math.min(1,d+.35),p="Bearish context with contrarian/mean-reversion justification for buy")):e==="sell"?u<-.3?(d=.7+Math.abs(u)*.3,p="Bearish reasoning supports sell action"):u<.1?(d=.5+Math.abs(u)*.2,p="Reasoning is ambiguous but not contradictory for sell"):(d=Math.max(.05,.4-u*.4),p="Bullish reasoning contradicts sell action",/profit|take\s+gains|overexposed|rebalance|trim/i.test(t)&&(d=Math.min(1,d+.35),p="Bullish context with profit-taking/rebalancing justification for sell")):c>0||Math.abs(u)<.3&&l>0?(d=.7+(1-Math.abs(u))*.3,p="Neutral/cautious reasoning supports hold action"):l===0?(d=.5,p="No clear sentiment signals in reasoning"):(d=.4,p="Strong directional signals present but chose to hold",/guardrail|limit|insufficient|cash\s+buffer|wait\s+for/i.test(t)&&(d=.8,p="Strong signals tempered by risk management discipline")),i>2&&s>2&&(n.push({type:"conflicting",text:"Contains both strong bullish and bearish signals",weight:.5}),d=Math.max(.1,d-.1),p+=" (warning: conflicting directional signals)"),{score:Math.round(d*100)/100,explanation:p,signals:n}}function Pc(t,e){let r=[],n=new Map,i=new Set;for(let l of e){n.set(l.symbol.toLowerCase(),l.price),i.add(l.symbol.toLowerCase());let u=l.symbol.replace(/x$/i,"").toLowerCase();n.set(u,l.price),i.add(u)}let o=[/(\w+x?)\s+(?:is\s+)?(?:at|priced?\s+at|trading\s+at|currently)\s+\$?([\d,]+\.?\d*)/gi,/\$?([\d,]+\.?\d*)\s+(?:per\s+share|price)\s+(?:for|of)\s+(\w+x?)/gi];for(let l of o){let u;for(;(u=l.exec(t))!==null;){let d,p;l===o[0]?(d=u[1].toLowerCase(),p=parseFloat(u[2].replace(/,/g,""))):(p=parseFloat(u[1].replace(/,/g,"")),d=u[2].toLowerCase());let f=n.get(d);if(f!==void 0&&p>0){let h=Math.abs(p-f)/f;h>.2&&r.push(`Price hallucination: claimed ${d.toUpperCase()} at $${p.toFixed(2)}, actual $${f.toFixed(2)} (${(h*100).toFixed(0)}% off)`)}}}let s=t.match(/\b[A-Z]{2,5}x?\b/g)??[];for(let l of s){let u=l.toLowerCase();if(!["the","and","for","but","not","may","can","has","its","per","our","all","low","buy","sell","hold","risk","cash","spy","etf","ipo","vol","rsi","avg","max","min","pnl"].includes(u)&&/^[A-Z]{2,5}x?$/.test(l)&&!i.has(u)&&!i.has(u.replace(/x$/i,""))){let d=t.slice(Math.max(0,t.indexOf(l)-30),t.indexOf(l)+l.length+30);/price|trade|buy|sell|stock|share|position/i.test(d)&&r.push(`Unknown ticker: ${l} not found in available stocks`)}}let a=t.match(/[+-]?\d+\.?\d*%/g)??[];for(let l of a){let u=parseFloat(l);Math.abs(u)>50&&/24h|daily|today|change/i.test(t)&&r.push(`Implausible 24h change: ${l} \u2014 major stocks rarely move this much in a day`)}(/should\s+buy/i.test(t)&&/should\s+sell/i.test(t)||/strongly\s+bullish/i.test(t)&&/strongly\s+bearish/i.test(t))&&r.push("Self-contradiction: reasoning contains conflicting directional advice");let c=r.length===0?0:Math.min(1,r.length*.25);return{flags:r,severity:c}}function by(t,e,r){let n=[];if(t.action==="hold")return{passed:!0,violations:[]};if(t.action==="buy"&&r.totalValue>0){let i=t.quantity/r.totalValue*100;i>e.maxPositionSize&&n.push(`Position size ${i.toFixed(1)}% exceeds max ${e.maxPositionSize}%`)}if(t.action==="buy"){let i=r.totalValue*((100-e.maxPortfolioAllocation)/100),o=r.cashBalance-t.quantity;o<i&&n.push(`Buy would leave $${o.toFixed(2)} cash, below minimum $${i.toFixed(2)} (${100-e.maxPortfolioAllocation}% buffer)`)}if(t.action==="sell"){let i=r.positions.find(o=>o.symbol.toLowerCase()===t.symbol.toLowerCase());i?t.quantity>i.quantity*1.01&&n.push(`Trying to sell ${t.quantity} shares of ${t.symbol} but only holds ${i.quantity}`):n.push(`Trying to sell ${t.symbol} but no position held`)}return e.riskTolerance==="conservative"&&t.confidence<.3&&n.push(`Conservative agent trading with very low confidence (${(t.confidence*100).toFixed(0)}%)`),{passed:n.length===0,violations:n}}var Iar=st.enum(["momentum","mean_reversion","value","hedge","contrarian","arbitrage"]),lut=st.object({symbol:st.string().min(1,"Symbol is required"),side:st.enum(["buy","sell"]),quantity:st.number().positive("Quantity must be positive"),reasoning:st.string().min(20,"Reasoning must explain your logic (min 20 chars)"),confidence:st.number().min(0,"Confidence must be >= 0").max(1,"Confidence must be <= 1"),sources:st.array(st.string()).min(1,"Must cite at least one data source"),intent:Iar,predictedOutcome:st.string().optional()}),Car=st.object({symbol:st.string().min(1),reasoning:st.string().min(10,"Hold decisions must be explained"),confidence:st.number().min(0).max(1),sources:st.array(st.string()).optional()}),aXn=st.discriminatedUnion("action",[st.object({action:st.literal("buy"),...lut.shape}),st.object({action:st.literal("sell"),...lut.shape}),st.object({action:st.literal("hold"),...Car.shape})]);function ia(t){return t>1?Math.max(0,Math.min(1,t/100)):Math.max(0,Math.min(1,t))}function nd(t){let e=[],r=[[/price\s+data/i,"market_price_feed"],[/jupiter/i,"jupiter_price_api"],[/24h\s+change|24-hour/i,"24h_price_change"],[/volume/i,"trading_volume"],[/portfolio|position/i,"portfolio_state"],[/news|headline/i,"news_feed"],[/technical|indicator|RSI|MACD|moving\s+average/i,"technical_indicators"],[/fundamental|earnings|revenue|P\/E/i,"fundamentals"],[/sentiment|mood/i,"market_sentiment"],[/correlation|peer|sector/i,"sector_analysis"]];for(let[n,i]of r)n.test(t)&&e.push(i);return e.length===0&&e.push("market_data"),e}function La(t,e){let r=t.toLowerCase();return/undervalued|intrinsic\s+value|margin\s+of\s+safety|fair\s+price|cheap/i.test(r)?"value":/momentum|trend|breakout|rally|surge|continuing\s+to\s+rise/i.test(r)?"momentum":/reversion|oversold|overbought|bounce|pullback|correction/i.test(r)?"mean_reversion":/hedge|protect|downside|risk\s+reduction|defensive/i.test(r)?"hedge":/contrarian|against\s+the\s+crowd|overreaction|panic/i.test(r)?"contrarian":/arbitrage|price\s+difference|mispricing|spread/i.test(r)?"arbitrage":e==="buy"?"value":"momentum"}var X0e=(t,e,r)=>(n,i)=>{let o=-1;return s(0);async function s(a){if(a<=o)throw new Error("next() called multiple times");o=a;let c,l=!1,u;if(t[a]?(u=t[a][0][0],n.req.routeIndex=a):u=a===t.length&&i||void 0,u)try{c=await u(n,()=>s(a+1))}catch(d){if(d instanceof Error&&e)n.error=d,c=await e(d,n),l=!0;else throw d}else n.finalized===!1&&r&&(c=await r(n));return c&&(n.finalized===!1||l)&&(n.res=c),n}};var uut=Symbol();var dut=async(t,e=Object.create(null))=>{let{all:r=!1,dot:n=!1}=e,o=(t instanceof nV?t.raw.headers:t.headers).get("Content-Type");return o?.startsWith("multipart/form-data")||o?.startsWith("application/x-www-form-urlencoded")?Nar(t,{all:r,dot:n}):{}};async function Nar(t,e){let r=await t.formData();return r?Oar(r,e):{}}function Oar(t,e){let r=Object.create(null);return t.forEach((n,i)=>{e.all||i.endsWith("[]")?Par(r,i,n):r[i]=n}),e.dot&&Object.entries(r).forEach(([n,i])=>{n.includes(".")&&(kar(r,n,i),delete r[n])}),r}var Par=(t,e,r)=>{t[e]!==void 0?Array.isArray(t[e])?t[e].push(r):t[e]=[t[e],r]:e.endsWith("[]")?t[e]=[r]:t[e]=r},kar=(t,e,r)=>{let n=t,i=e.split(".");i.forEach((o,s)=>{s===i.length-1?n[o]=r:((!n[o]||typeof n[o]!="object"||Array.isArray(n[o])||n[o]instanceof File)&&(n[o]=Object.create(null)),n=n[o])})};var Z0e=t=>{let e=t.split("/");return e[0]===""&&e.shift(),e},put=t=>{let{groups:e,path:r}=Dar(t),n=Z0e(r);return Mar(n,e)},Dar=t=>{let e=[];return t=t.replace(/\{[^}]+\}/g,(r,n)=>{let i=`@${n}`;return e.push([i,r]),i}),{groups:e,path:t}},Mar=(t,e)=>{for(let r=e.length-1;r>=0;r--){let[n]=e[r];for(let i=t.length-1;i>=0;i--)if(t[i].includes(n)){t[i]=t[i].replace(n,e[r][1]);break}}return t},iV={},fut=(t,e)=>{if(t==="*")return"*";let r=t.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(r){let n=`${t}#${e}`;return iV[n]||(r[2]?iV[n]=e&&e[0]!==":"&&e[0]!=="*"?[n,r[1],new RegExp(`^${r[2]}(?=/${e})`)]:[t,r[1],new RegExp(`^${r[2]}$`)]:iV[n]=[t,r[1],!0]),iV[n]}return null},oV=(t,e)=>{try{return e(t)}catch{return t.replace(/(?:%[0-9A-Fa-f]{2})+/g,r=>{try{return e(r)}catch{return r}})}},Lar=t=>oV(t,decodeURI),e1e=t=>{let e=t.url,r=e.indexOf("/",e.indexOf(":")+4),n=r;for(;n<e.length;n++){let i=e.charCodeAt(n);if(i===37){let o=e.indexOf("?",n),s=e.slice(r,o===-1?void 0:o);return Lar(s.includes("%25")?s.replace(/%25/g,"%2525"):s)}else if(i===63)break}return e.slice(r,n)};var mut=t=>{let e=e1e(t);return e.length>1&&e.at(-1)==="/"?e.slice(0,-1):e},__=(t,e,...r)=>(r.length&&(e=__(e,...r)),`${t?.[0]==="/"?"":"/"}${t}${e==="/"?"":`${t?.at(-1)==="/"?"":"/"}${e?.[0]==="/"?e.slice(1):e}`}`),sV=t=>{if(t.charCodeAt(t.length-1)!==63||!t.includes(":"))return null;let e=t.split("/"),r=[],n="";return e.forEach(i=>{if(i!==""&&!/\:/.test(i))n+="/"+i;else if(/\:/.test(i))if(/\?/.test(i)){r.length===0&&n===""?r.push("/"):r.push(n);let o=i.replace("?","");n+="/"+o,r.push(n)}else n+="/"+i}),r.filter((i,o,s)=>s.indexOf(i)===o)},Y0e=t=>/[%+]/.test(t)?(t.indexOf("+")!==-1&&(t=t.replace(/\+/g," ")),t.indexOf("%")!==-1?oV(t,t1e):t):t,hut=(t,e,r)=>{let n;if(!r&&e&&!/[%+]/.test(e)){let s=t.indexOf("?",8);if(s===-1)return;for(t.startsWith(e,s+1)||(s=t.indexOf(`&${e}`,s+1));s!==-1;){let a=t.charCodeAt(s+e.length+1);if(a===61){let c=s+e.length+2,l=t.indexOf("&",c);return Y0e(t.slice(c,l===-1?void 0:l))}else if(a==38||isNaN(a))return"";s=t.indexOf(`&${e}`,s+1)}if(n=/[%+]/.test(t),!n)return}let i={};n??=/[%+]/.test(t);let o=t.indexOf("?",8);for(;o!==-1;){let s=t.indexOf("&",o+1),a=t.indexOf("=",o);a>s&&s!==-1&&(a=-1);let c=t.slice(o+1,a===-1?s===-1?void 0:s:a);if(n&&(c=Y0e(c)),o=s,c==="")continue;let l;a===-1?l="":(l=t.slice(a+1,s===-1?void 0:s),n&&(l=Y0e(l))),r?(i[c]&&Array.isArray(i[c])||(i[c]=[]),i[c].push(l)):i[c]??=l}return e?i[e]:i},gut=hut,yut=(t,e)=>hut(t,e,!0),t1e=decodeURIComponent;var but=t=>oV(t,t1e),nV=class{raw;#e;#t;routeIndex=0;path;bodyCache={};constructor(t,e="/",r=[[]]){this.raw=t,this.path=e,this.#t=r,this.#e={}}param(t){return t?this.#r(t):this.#n()}#r(t){let e=this.#t[0][this.routeIndex][1][t],r=this.#i(e);return r&&/\%/.test(r)?but(r):r}#n(){let t={},e=Object.keys(this.#t[0][this.routeIndex][1]);for(let r of e){let n=this.#i(this.#t[0][this.routeIndex][1][r]);n!==void 0&&(t[r]=/\%/.test(n)?but(n):n)}return t}#i(t){return this.#t[1]?this.#t[1][t]:t}query(t){return gut(this.url,t)}queries(t){return yut(this.url,t)}header(t){if(t)return this.raw.headers.get(t)??void 0;let e={};return this.raw.headers.forEach((r,n)=>{e[n]=r}),e}async parseBody(t){return this.bodyCache.parsedBody??=await dut(this,t)}#o=t=>{let{bodyCache:e,raw:r}=this,n=e[t];if(n)return n;let i=Object.keys(e)[0];return i?e[i].then(o=>(i==="json"&&(o=JSON.stringify(o)),new Response(o)[t]())):e[t]=r[t]()};json(){return this.#o("text").then(t=>JSON.parse(t))}text(){return this.#o("text")}arrayBuffer(){return this.#o("arrayBuffer")}blob(){return this.#o("blob")}formData(){return this.#o("formData")}addValidatedData(t,e){this.#e[t]=e}valid(t){return this.#e[t]}get url(){return this.raw.url}get method(){return this.raw.method}get[uut](){return this.#t}get matchedRoutes(){return this.#t[0].map(([[,t]])=>t)}get routePath(){return this.#t[0].map(([[,t]])=>t)[this.routeIndex].path}};var aN={Stringify:1,BeforeStream:2,Stream:3},SE=(t,e)=>{let r=new String(t);return r.isEscaped=!0,r.callbacks=e,r},Bar=/[&<>'"]/,vut=async(t,e)=>{let r="";e||=[];let n=await Promise.all(t);for(let i=n.length-1;r+=n[i],i--,!(i<0);i--){let o=n[i];typeof o=="object"&&e.push(...o.callbacks||[]);let s=o.isEscaped;if(o=await(typeof o=="object"?o.toString():o),typeof o=="object"&&e.push(...o.callbacks||[]),o.isEscaped??s)r+=o;else{let a=[r];aV(o,a),r=a[0]}}return SE(r,e)},aV=(t,e)=>{let r=t.search(Bar);if(r===-1){e[0]+=t;return}let n,i,o=0;for(i=r;i<t.length;i++){switch(t.charCodeAt(i)){case 34:n="&quot;";break;case 39:n="&#39;";break;case 38:n="&amp;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}e[0]+=t.substring(o,i)+n,o=i+1}e[0]+=t.substring(o,i)},_ut=t=>{let e=t.callbacks;if(!e?.length)return t;let r=[t],n={};return e.forEach(i=>i({phase:aN.Stringify,buffer:r,context:n})),r[0]},cN=async(t,e,r,n,i)=>{typeof t=="object"&&!(t instanceof String)&&(t instanceof Promise||(t=t.toString()),t instanceof Promise&&(t=await t));let o=t.callbacks;if(!o?.length)return Promise.resolve(t);i?i[0]+=t:i=[t];let s=Promise.all(o.map(a=>a({phase:e,buffer:i,context:n}))).then(a=>Promise.all(a.filter(Boolean).map(c=>cN(c,e,!1,n,i))).then(()=>i[0]));return r?SE(await s,o):s};var xut="text/plain; charset=UTF-8",r1e=(t,e)=>({"Content-Type":t,...e}),Sut=class{#e;#t;env={};#r;finalized=!1;error;#n;#i;#o;#s;#a;#u;#l;#f;#m;constructor(t,e){this.#e=t,e&&(this.#i=e.executionCtx,this.env=e.env,this.#u=e.notFoundHandler,this.#m=e.path,this.#f=e.matchResult)}get req(){return this.#t??=new nV(this.#e,this.#m,this.#f),this.#t}get event(){if(this.#i&&"respondWith"in this.#i)return this.#i;throw Error("This context has no FetchEvent")}get executionCtx(){if(this.#i)return this.#i;throw Error("This context has no ExecutionContext")}get res(){return this.#o||=new Response(null,{headers:this.#l??=new Headers})}set res(t){if(this.#o&&t){t=new Response(t.body,t);for(let[e,r]of this.#o.headers.entries())if(e!=="content-type")if(e==="set-cookie"){let n=this.#o.headers.getSetCookie();t.headers.delete("set-cookie");for(let i of n)t.headers.append("set-cookie",i)}else t.headers.set(e,r)}this.#o=t,this.finalized=!0}render=(...t)=>(this.#a??=e=>this.html(e),this.#a(...t));setLayout=t=>this.#s=t;getLayout=()=>this.#s;setRenderer=t=>{this.#a=t};header=(t,e,r)=>{this.finalized&&(this.#o=new Response(this.#o.body,this.#o));let n=this.#o?this.#o.headers:this.#l??=new Headers;e===void 0?n.delete(t):r?.append?n.append(t,e):n.set(t,e)};status=t=>{this.#n=t};set=(t,e)=>{this.#r??=new Map,this.#r.set(t,e)};get=t=>this.#r?this.#r.get(t):void 0;get var(){return this.#r?Object.fromEntries(this.#r):{}}#c(t,e,r){let n=this.#o?new Headers(this.#o.headers):this.#l??new Headers;if(typeof e=="object"&&"headers"in e){let o=e.headers instanceof Headers?e.headers:new Headers(e.headers);for(let[s,a]of o)s.toLowerCase()==="set-cookie"?n.append(s,a):n.set(s,a)}if(r)for(let[o,s]of Object.entries(r))if(typeof s=="string")n.set(o,s);else{n.delete(o);for(let a of s)n.append(o,a)}let i=typeof e=="number"?e:e?.status??this.#n;return new Response(t,{status:i,headers:n})}newResponse=(...t)=>this.#c(...t);body=(t,e,r)=>this.#c(t,e,r);text=(t,e,r)=>!this.#l&&!this.#n&&!e&&!r&&!this.finalized?new Response(t):this.#c(t,e,r1e(xut,r));json=(t,e,r)=>this.#c(JSON.stringify(t),e,r1e("application/json",r));html=(t,e,r)=>{let n=i=>this.#c(i,e,r1e("text/html; charset=UTF-8",r));return typeof t=="object"?cN(t,aN.Stringify,!1,{}).then(n):n(t)};redirect=(t,e)=>{let r=String(t);return this.header("Location",/[^\x00-\xFF]/.test(r)?encodeURI(r):r),this.newResponse(null,e??302)};notFound=()=>(this.#u??=()=>new Response,this.#u(this))};var fi="ALL",wut="all",Aut=["get","post","put","delete","options","patch"],cV="Can not add a route since the matcher is already built.",lV=class extends Error{};var Eut="__COMPOSED_HANDLER";var $ar=t=>t.text("404 Not Found",404),Tut=(t,e)=>{if("getResponse"in t){let r=t.getResponse();return e.newResponse(r.body,r)}return console.error(t),e.text("Internal Server Error",500)},Rut=class Iut{get;post;put;delete;options;patch;all;on;use;router;getPath;_basePath="/";#e="/";routes=[];constructor(e={}){[...Aut,wut].forEach(o=>{this[o]=(s,...a)=>(typeof s=="string"?this.#e=s:this.#n(o,this.#e,s),a.forEach(c=>{this.#n(o,this.#e,c)}),this)}),this.on=(o,s,...a)=>{for(let c of[s].flat()){this.#e=c;for(let l of[o].flat())a.map(u=>{this.#n(l.toUpperCase(),this.#e,u)})}return this},this.use=(o,...s)=>(typeof o=="string"?this.#e=o:(this.#e="*",s.unshift(o)),s.forEach(a=>{this.#n(fi,this.#e,a)}),this);let{strict:n,...i}=e;Object.assign(this,i),this.getPath=n??!0?e.getPath??e1e:mut}#t(){let e=new Iut({router:this.router,getPath:this.getPath});return e.errorHandler=this.errorHandler,e.#r=this.#r,e.routes=this.routes,e}#r=$ar;errorHandler=Tut;route(e,r){let n=this.basePath(e);return r.routes.map(i=>{let o;r.errorHandler===Tut?o=i.handler:(o=async(s,a)=>(await X0e([],r.errorHandler)(s,()=>i.handler(s,a))).res,o[Eut]=i.handler),n.#n(i.method,i.path,o)}),this}basePath(e){let r=this.#t();return r._basePath=__(this._basePath,e),r}onError=e=>(this.errorHandler=e,this);notFound=e=>(this.#r=e,this);mount(e,r,n){let i,o;n&&(typeof n=="function"?o=n:(o=n.optionHandler,n.replaceRequest===!1?i=c=>c:i=n.replaceRequest));let s=o?c=>{let l=o(c);return Array.isArray(l)?l:[l]}:c=>{let l;try{l=c.executionCtx}catch{}return[c.env,l]};i||=(()=>{let c=__(this._basePath,e),l=c==="/"?0:c.length;return u=>{let d=new URL(u.url);return d.pathname=d.pathname.slice(l)||"/",new Request(d,u)}})();let a=async(c,l)=>{let u=await r(i(c.req.raw),...s(c));if(u)return u;await l()};return this.#n(fi,__(e,"*"),a),this}#n(e,r,n){e=e.toUpperCase(),r=__(this._basePath,r);let i={basePath:this._basePath,path:r,method:e,handler:n};this.router.add(e,r,[n,i]),this.routes.push(i)}#i(e,r){if(e instanceof Error)return this.errorHandler(e,r);throw e}#o(e,r,n,i){if(i==="HEAD")return(async()=>new Response(null,await this.#o(e,r,n,"GET")))();let o=this.getPath(e,{env:n}),s=this.router.match(i,o),a=new Sut(e,{path:o,matchResult:s,env:n,executionCtx:r,notFoundHandler:this.#r});if(s[0].length===1){let l;try{l=s[0][0][0][0](a,async()=>{a.res=await this.#r(a)})}catch(u){return this.#i(u,a)}return l instanceof Promise?l.then(u=>u||(a.finalized?a.res:this.#r(a))).catch(u=>this.#i(u,a)):l??this.#r(a)}let c=X0e(s[0],this.errorHandler,this.#r);return(async()=>{try{let l=await c(a);if(!l.finalized)throw new Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return l.res}catch(l){return this.#i(l,a)}})()}fetch=(e,...r)=>this.#o(e,r[1],r[0],e.method);request=(e,r,n,i)=>e instanceof Request?this.fetch(r?new Request(e,r):e,n,i):(e=e.toString(),this.fetch(new Request(/^https?:\/\//.test(e)?e:`http://localhost${__("/",e)}`,r),n,i));fire=()=>{addEventListener("fetch",e=>{e.respondWith(this.#o(e.request,e,void 0,e.request.method))})}};var uV=[];function n1e(t,e){let r=this.buildAllMatchers(),n=((i,o)=>{let s=r[i]||r[fi],a=s[2][o];if(a)return a;let c=o.match(s[0]);if(!c)return[[],uV];let l=c.indexOf("",1);return[s[1][l],c]});return this.match=n,n(t,e)}var dV="[^/]+",lN=".*",uN="(?:|/.*)",x_=Symbol(),Uar=new Set(".\\+*[^]$()");function Far(t,e){return t.length===1?e.length===1?t<e?-1:1:-1:e.length===1||t===lN||t===uN?1:e===lN||e===uN?-1:t===dV?1:e===dV?-1:t.length===e.length?t<e?-1:1:e.length-t.length}var Cut=class i1e{#e;#t;#r=Object.create(null);insert(e,r,n,i,o){if(e.length===0){if(this.#e!==void 0)throw x_;if(o)return;this.#e=r;return}let[s,...a]=e,c=s==="*"?a.length===0?["","",lN]:["","",dV]:s==="/*"?["","",uN]:s.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/),l;if(c){let u=c[1],d=c[2]||dV;if(u&&c[2]&&(d===".*"||(d=d.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(d))))throw x_;if(l=this.#r[d],!l){if(Object.keys(this.#r).some(p=>p!==lN&&p!==uN))throw x_;if(o)return;l=this.#r[d]=new i1e,u!==""&&(l.#t=i.varIndex++)}!o&&u!==""&&n.push([u,l.#t])}else if(l=this.#r[s],!l){if(Object.keys(this.#r).some(u=>u.length>1&&u!==lN&&u!==uN))throw x_;if(o)return;l=this.#r[s]=new i1e}l.insert(a,r,n,i,o)}buildRegExpStr(){let r=Object.keys(this.#r).sort(Far).map(n=>{let i=this.#r[n];return(typeof i.#t=="number"?`(${n})@${i.#t}`:Uar.has(n)?`\\${n}`:n)+i.buildRegExpStr()});return typeof this.#e=="number"&&r.unshift(`#${this.#e}`),r.length===0?"":r.length===1?r[0]:"(?:"+r.join("|")+")"}};var Nut=class{#e={varIndex:0};#t=new Cut;insert(t,e,r){let n=[],i=[];for(let s=0;;){let a=!1;if(t=t.replace(/\{[^}]+\}/g,c=>{let l=`@\\${s}`;return i[s]=[l,c],s++,a=!0,l}),!a)break}let o=t.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let s=i.length-1;s>=0;s--){let[a]=i[s];for(let c=o.length-1;c>=0;c--)if(o[c].indexOf(a)!==-1){o[c]=o[c].replace(a,i[s][1]);break}}return this.#t.insert(o,e,n,this.#e,r),n}buildRegExp(){let t=this.#t.buildRegExpStr();if(t==="")return[/^$/,[],[]];let e=0,r=[],n=[];return t=t.replace(/#(\d+)|@(\d+)|\.\*\$/g,(i,o,s)=>o!==void 0?(r[++e]=Number(o),"$()"):(s!==void 0&&(n[Number(s)]=++e),"")),[new RegExp(`^${t}`),r,n]}};var zar=[/^$/,[],Object.create(null)],Out=Object.create(null);function Put(t){return Out[t]??=new RegExp(t==="*"?"":`^${t.replace(/\/\*$|([.\\+*[^\]$()])/g,(e,r)=>r?`\\${r}`:"(?:|/.*)")}$`)}function Var(){Out=Object.create(null)}function Har(t){let e=new Nut,r=[];if(t.length===0)return zar;let n=t.map(l=>[!/\*|\/:/.test(l[0]),...l]).sort(([l,u],[d,p])=>l?1:d?-1:u.length-p.length),i=Object.create(null);for(let l=0,u=-1,d=n.length;l<d;l++){let[p,f,h]=n[l];p?i[f]=[h.map(([g])=>[g,Object.create(null)]),uV]:u++;let m;try{m=e.insert(f,u,p)}catch(g){throw g===x_?new lV(f):g}p||(r[u]=h.map(([g,b])=>{let _=Object.create(null);for(b-=1;b>=0;b--){let[x,E]=m[b];_[x]=E}return[g,_]}))}let[o,s,a]=e.buildRegExp();for(let l=0,u=r.length;l<u;l++)for(let d=0,p=r[l].length;d<p;d++){let f=r[l][d]?.[1];if(!f)continue;let h=Object.keys(f);for(let m=0,g=h.length;m<g;m++)f[h[m]]=a[f[h[m]]]}let c=[];for(let l in s)c[l]=r[s[l]];return[o,c,i]}function wE(t,e){if(t){for(let r of Object.keys(t).sort((n,i)=>i.length-n.length))if(Put(r).test(e))return[...t[r]]}}var pV=class{name="RegExpRouter";#e;#t;constructor(){this.#e={[fi]:Object.create(null)},this.#t={[fi]:Object.create(null)}}add(t,e,r){let n=this.#e,i=this.#t;if(!n||!i)throw new Error(cV);n[t]||[n,i].forEach(a=>{a[t]=Object.create(null),Object.keys(a[fi]).forEach(c=>{a[t][c]=[...a[fi][c]]})}),e==="/*"&&(e="*");let o=(e.match(/\/:/g)||[]).length;if(/\*$/.test(e)){let a=Put(e);t===fi?Object.keys(n).forEach(c=>{n[c][e]||=wE(n[c],e)||wE(n[fi],e)||[]}):n[t][e]||=wE(n[t],e)||wE(n[fi],e)||[],Object.keys(n).forEach(c=>{(t===fi||t===c)&&Object.keys(n[c]).forEach(l=>{a.test(l)&&n[c][l].push([r,o])})}),Object.keys(i).forEach(c=>{(t===fi||t===c)&&Object.keys(i[c]).forEach(l=>a.test(l)&&i[c][l].push([r,o]))});return}let s=sV(e)||[e];for(let a=0,c=s.length;a<c;a++){let l=s[a];Object.keys(i).forEach(u=>{(t===fi||t===u)&&(i[u][l]||=[...wE(n[u],l)||wE(n[fi],l)||[]],i[u][l].push([r,o-c+a+1]))})}}match=n1e;buildAllMatchers(){let t=Object.create(null);return Object.keys(this.#t).concat(Object.keys(this.#e)).forEach(e=>{t[e]||=this.#r(e)}),this.#e=this.#t=void 0,Var(),t}#r(t){let e=[],r=t===fi;return[this.#e,this.#t].forEach(n=>{let i=n[t]?Object.keys(n[t]).map(o=>[o,n[t][o]]):[];i.length!==0?(r||=!0,e.push(...i)):t!==fi&&e.push(...Object.keys(n[fi]).map(o=>[o,n[fi][o]]))}),r?Har(e):null}};var o1e=class{name="SmartRouter";#e=[];#t=[];constructor(t){this.#e=t.routers}add(t,e,r){if(!this.#t)throw new Error(cV);this.#t.push([t,e,r])}match(t,e){if(!this.#t)throw new Error("Fatal error");let r=this.#e,n=this.#t,i=r.length,o=0,s;for(;o<i;o++){let a=r[o];try{for(let c=0,l=n.length;c<l;c++)a.add(...n[c]);s=a.match(t,e)}catch(c){if(c instanceof lV)continue;throw c}this.match=a.match.bind(a),this.#e=[a],this.#t=void 0;break}if(o===i)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,s}get activeRouter(){if(this.#t||this.#e.length!==1)throw new Error("No active router has been determined yet.");return this.#e[0]}};var dN=Object.create(null),kut=class Dut{#e;#t;#r;#n=0;#i=dN;constructor(e,r,n){if(this.#t=n||Object.create(null),this.#e=[],e&&r){let i=Object.create(null);i[e]={handler:r,possibleKeys:[],score:0},this.#e=[i]}this.#r=[]}insert(e,r,n){this.#n=++this.#n;let i=this,o=put(r),s=[];for(let a=0,c=o.length;a<c;a++){let l=o[a],u=o[a+1],d=fut(l,u),p=Array.isArray(d)?d[0]:l;if(p in i.#t){i=i.#t[p],d&&s.push(d[1]);continue}i.#t[p]=new Dut,d&&(i.#r.push(d),s.push(d[1])),i=i.#t[p]}return i.#e.push({[e]:{handler:n,possibleKeys:s.filter((a,c,l)=>l.indexOf(a)===c),score:this.#n}}),i}#o(e,r,n,i){let o=[];for(let s=0,a=e.#e.length;s<a;s++){let c=e.#e[s],l=c[r]||c[fi],u={};if(l!==void 0&&(l.params=Object.create(null),o.push(l),n!==dN||i&&i!==dN))for(let d=0,p=l.possibleKeys.length;d<p;d++){let f=l.possibleKeys[d],h=u[l.score];l.params[f]=i?.[f]&&!h?i[f]:n[f]??i?.[f],u[l.score]=!0}}return o}search(e,r){let n=[];this.#i=dN;let o=[this],s=Z0e(r),a=[];for(let c=0,l=s.length;c<l;c++){let u=s[c],d=c===l-1,p=[];for(let f=0,h=o.length;f<h;f++){let m=o[f],g=m.#t[u];g&&(g.#i=m.#i,d?(g.#t["*"]&&n.push(...this.#o(g.#t["*"],e,m.#i)),n.push(...this.#o(g,e,m.#i))):p.push(g));for(let b=0,_=m.#r.length;b<_;b++){let x=m.#r[b],E=m.#i===dN?{}:{...m.#i};if(x==="*"){let $=m.#t["*"];$&&(n.push(...this.#o($,e,m.#i)),$.#i=E,p.push($));continue}let[R,I,D]=x;if(!u&&!(D instanceof RegExp))continue;let k=m.#t[R],O=s.slice(c).join("/");if(D instanceof RegExp){let $=D.exec(O);if($){if(E[I]=$[0],n.push(...this.#o(k,e,m.#i,E)),Object.keys(k.#t).length){k.#i=E;let j=$[0].match(/\//)?.length??0;(a[j]||=[]).push(k)}continue}}(D===!0||D.test(u))&&(E[I]=u,d?(n.push(...this.#o(k,e,E,m.#i)),k.#t["*"]&&n.push(...this.#o(k.#t["*"],e,E,m.#i))):(k.#i=E,p.push(k)))}}o=p.concat(a.shift()??[])}return n.length>1&&n.sort((c,l)=>c.score-l.score),[n.map(({handler:c,params:l})=>[c,l])]}};var s1e=class{name="TrieRouter";#e;constructor(){this.#e=new kut}add(t,e,r){let n=sV(e);if(n){for(let i=0,o=n.length;i<o;i++)this.#e.insert(t,n[i],r);return}this.#e.insert(t,e,r)}match(t,e){return this.#e.search(t,e)}};var rn=class extends Rut{constructor(t={}){super(t),this.router=t.router??new o1e({routers:[new pV,new s1e]})}};var fV=new rn,S_=[],Mut=500;function Lut(t){S_.unshift(t),S_.length>Mut&&(S_.length=Mut)}function But(t,e,r){let n=ia(t.confidence),i=nd(t.reasoning),o=La(t.reasoning,t.action);return{id:`bf_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,agentId:t.agentId,action:t.action,symbol:t.symbol,quantity:typeof t.quantity=="string"?parseFloat(t.quantity):t.quantity,reasoning:t.reasoning,confidence:n,intent:o,sources:i,coherenceScore:e.score,coherenceExplanation:e.explanation,hallucinationFlags:r.flags,roundId:t.roundId??void 0,timestamp:t.createdAt?.toISOString()??new Date().toISOString()}}fV.get("/",async t=>{let e=Math.min(parseInt(t.req.query("limit")??"20",10),100),r=parseInt(t.req.query("offset")??"0",10),n=t.req.query("agent"),i=t.req.query("intent"),o=parseFloat(t.req.query("minConfidence")??"0"),s=parseFloat(t.req.query("maxConfidence")??"1");try{let a=[];n&&a.push(cr(Bt.agentId,n)),i&&a.push(cr(Bt.intent,i)),o>0&&a.push(AT(Bt.confidence,o)),s<1&&a.push(Jb(Bt.confidence,s));let c=a.length>0?Ro(...a):void 0,l=await qt.select().from(Bt).where(c).orderBy(Vo(Bt.timestamp)).limit(e).offset(r),u=await qt.select({count:re`count(*)`}).from(Bt).where(c);return t.json({ok:!0,feed:l,total:Number(u[0]?.count??0),limit:e,offset:r,source:"database"})}catch{let a=S_;n&&(a=a.filter(l=>l.agentId===n)),i&&(a=a.filter(l=>l.intent===i)),a=a.filter(l=>l.confidence>=o&&l.confidence<=s);let c=a.slice(r,r+e);return t.json({ok:!0,feed:c,total:a.length,limit:e,offset:r,source:"cache"})}});fV.get("/highlights",async t=>{let e=Math.min(parseInt(t.req.query("limit")??"10",10),50);try{let r=await qt.select().from(Bt).where(Jb(Bt.coherenceScore,.4)).orderBy(Vo(Bt.timestamp)).limit(e),n=await qt.select().from(Bt).where(AT(Bt.confidence,.8)).orderBy(Vo(Bt.timestamp)).limit(e),i=new Set,o=[];for(let s of[...r,...n])i.has(s.id)||(i.add(s.id),o.push(s));return o.sort((s,a)=>{let c=(s.coherenceScore??1)-(s.confidence??0)*.3,l=(a.coherenceScore??1)-(a.confidence??0)*.3;return c-l}),t.json({ok:!0,highlights:o.slice(0,e),criteria:{lowCoherence:"Trades where reasoning contradicts the action (coherence < 0.4)",highConfidenceRisk:"Trades with very high confidence (> 0.8) that need outcome tracking"}})}catch{let r=S_.filter(n=>n.coherenceScore<.4||n.confidence>.8).sort((n,i)=>{let o=n.coherenceScore-n.confidence*.3,s=i.coherenceScore-i.confidence*.3;return o-s}).slice(0,e);return t.json({ok:!0,highlights:r,criteria:{lowCoherence:"Trades where reasoning contradicts the action",highConfidenceRisk:"Very high confidence trades needing outcome review"},source:"cache"})}});fV.get("/stats",async t=>{try{let r=(await qt.select({agentId:Bt.agentId,totalTrades:re`count(*)`,avgCoherence:re`avg(${Bt.coherenceScore})`,avgConfidence:re`avg(${Bt.confidence})`,hallucinationCount:re`count(*) filter (where jsonb_array_length(${Bt.hallucinationFlags}) > 0)`}).from(Bt).groupBy(Bt.agentId)).map(n=>({agentId:n.agentId,totalTrades:Number(n.totalTrades),avgCoherence:Math.round((Number(n.avgCoherence)||0)*100)/100,avgConfidence:Math.round((Number(n.avgConfidence)||0)*100)/100,hallucinationRate:Number(n.totalTrades)>0?Math.round(Number(n.hallucinationCount)/Number(n.totalTrades)*100)/100:0}));return t.json({ok:!0,benchmarkMetrics:{agents:r,overallCoherence:r.length>0?Math.round(r.reduce((n,i)=>n+i.avgCoherence,0)/r.length*100)/100:0,overallHallucinationRate:r.length>0?Math.round(r.reduce((n,i)=>n+i.hallucinationRate,0)/r.length*100)/100:0}})}catch{let e=new Map;for(let n of S_){let i=e.get(n.agentId)??{coherence:[],confidence:[],hallucinations:0};i.coherence.push(n.coherenceScore),i.confidence.push(n.confidence),n.hallucinationFlags.length>0&&i.hallucinations++,e.set(n.agentId,i)}let r=Array.from(e.entries()).map(([n,i])=>({agentId:n,totalTrades:i.coherence.length,avgCoherence:Math.round(i.coherence.reduce((o,s)=>o+s,0)/i.coherence.length*100)/100,avgConfidence:Math.round(i.confidence.reduce((o,s)=>o+s,0)/i.confidence.length*100)/100,hallucinationRate:Math.round(i.hallucinations/i.coherence.length*100)/100}));return t.json({ok:!0,benchmarkMetrics:{agents:r},source:"cache"})}});fV.get("/:agentId",async t=>{let e=t.req.param("agentId"),r=Math.min(parseInt(t.req.query("limit")??"20",10),100),n=parseInt(t.req.query("offset")??"0",10);try{let i=await qt.select().from(Bt).where(cr(Bt.agentId,e)).orderBy(Vo(Bt.timestamp)).limit(r).offset(n),o=await qt.select({count:re`count(*)`}).from(Bt).where(cr(Bt.agentId,e)),s=Number(o[0]?.count??0),a=i.length>0?i.reduce((l,u)=>l+(u.coherenceScore??0),0)/i.length:0,c=i.filter(l=>l.hallucinationFlags&&l.hallucinationFlags.length>0).length;return t.json({ok:!0,agentId:e,feed:i,total:s,limit:r,offset:n,benchmarkScores:{avgCoherence:Math.round(a*100)/100,hallucinationRate:s>0?Math.round(c/i.length*100)/100:0,tradesAnalyzed:i.length}})}catch{let i=S_.filter(s=>s.agentId===e),o=i.slice(n,n+r);return t.json({ok:!0,agentId:e,feed:o,total:i.length,limit:r,offset:n,source:"cache"})}});var Gar={minReasoningLength:30,minCoherenceScore:.2,maxHallucinationSeverity:.75,minCompositeScore:.3,enforceRejection:!0},jar={...Gar},sp={totalChecked:0,totalPassed:0,totalRejected:0,rejectionsByReason:{},avgCompositeScore:0,recentScores:[]},qar=100;function $ut(t,e,r){let n={...jar,...r},i=[];if(t.action==="hold"){let m=Ma(t.reasoning,"hold",e),g=Pc(t.reasoning,e);return{passed:!0,decision:t,rejectionReasons:[],scores:{reasoningLength:1,dataReference:1,coherence:m.score,hallucinationFree:1-g.severity,structuralCompleteness:1,composite:1},coherence:m,hallucinations:g}}let o=t.reasoning.length,s=o>=n.minReasoningLength?1:0;s===0&&i.push(`Reasoning too short (${o} chars, min ${n.minReasoningLength})`);let a=Jar(t.reasoning,e);a<.3&&i.push(`Reasoning doesn't reference market data (score: ${a.toFixed(2)})`);let c=Ma(t.reasoning,t.action,e);c.score<n.minCoherenceScore&&i.push(`Coherence too low (${c.score.toFixed(2)}, min ${n.minCoherenceScore}): ${c.explanation}`);let l=Pc(t.reasoning,e),u=1-l.severity;l.severity>n.maxHallucinationSeverity&&i.push(`Too many hallucinations (severity: ${l.severity.toFixed(2)}, max ${n.maxHallucinationSeverity}): ${l.flags.join("; ")}`);let d=War(t);d<.5&&i.push(`Reasoning structurally incomplete (score: ${d.toFixed(2)}). Missing sources or intent.`);let p=Math.round((s*.1+a*.2+c.score*.35+u*.2+d*.15)*100)/100;p<n.minCompositeScore&&i.push(`Composite quality score too low (${p.toFixed(2)}, min ${n.minCompositeScore})`);let f=i.length===0;sp.totalChecked++,sp.recentScores.push(p),sp.recentScores.length>qar&&sp.recentScores.shift(),sp.avgCompositeScore=sp.recentScores.reduce((m,g)=>m+g,0)/sp.recentScores.length;let h=t;if(!f&&n.enforceRejection){sp.totalRejected++;for(let m of i){let g=m.split("(")[0].trim();sp.rejectionsByReason[g]=(sp.rejectionsByReason[g]??0)+1}h={action:"hold",symbol:t.symbol,quantity:0,reasoning:`[QUALITY GATE REJECTED] Original action: ${t.action} ${t.symbol}. Rejection reasons: ${i.join("; ")}. Original reasoning: ${t.reasoning.slice(0,200)}`,confidence:0,timestamp:t.timestamp,sources:t.sources,intent:t.intent},console.log(`[QualityGate] REJECTED ${t.action} ${t.symbol}: composite=${p.toFixed(2)}, reasons=${i.length}`)}else sp.totalPassed++;return{passed:f,decision:h,rejectionReasons:i,scores:{reasoningLength:s,dataReference:a,coherence:c.score,hallucinationFree:u,structuralCompleteness:d,composite:p},coherence:c,hallucinations:l}}function Jar(t,e){let r=0,n=t.toLowerCase();return e.filter(o=>n.includes(o.symbol.toLowerCase())).length>0&&(r+=.4),/\$\d+\.?\d*/i.test(t)&&(r+=.2),/[\d.]+%|percent|change|up\s+\d|down\s+\d/i.test(t)&&(r+=.2),/because|therefore|given that|based on|considering|analysis/i.test(t)&&(r+=.2),Math.min(1,r)}function War(t){let e=0;return t.sources&&t.sources.length>0&&(e+=.4),t.intent&&(e+=.3),t.predictedOutcome&&(e+=.3),e}var pN={lastRun:null,totalProcessed:0,outcomes:[]},Uut=500;async function Fut(t){let e=[],r=new Map;for(let n of t)r.set(n.symbol.toLowerCase(),n.price);try{let n=new Date(Date.now()-18e5),i=await qt.select().from(Bt).where(Ro(oM(Bt.actualOutcome),Jb(Bt.timestamp,n))).orderBy(Vo(Bt.timestamp)).limit(100);for(let o of i){let s=r.get(o.symbol.toLowerCase());if(!s)continue;if(o.action==="hold"){let m=`Held position. ${o.symbol} currently at $${s.toFixed(2)}.`;await qt.update(Bt).set({actualOutcome:m}).where(cr(Bt.id,o.id)),e.push({justificationId:o.id,agentId:o.agentId,symbol:o.symbol,action:o.action,entryPrice:null,currentPrice:s,pnlPercent:null,outcome:"breakeven",outcomeText:m,confidenceAtTrade:o.confidence,wasCalibrated:!0});continue}let a=null;try{let m=await qt.select().from(Hi).where(Ro(cr(Hi.agentId,o.agentId),cr(Hi.stockSymbol,o.symbol))).orderBy(Vo(Hi.createdAt)).limit(1);m.length>0&&(a=parseFloat(m[0].pricePerToken))}catch{}let c=null,l="pending",u="";a&&a>0?(o.action==="buy"?c=(s-a)/a*100:c=(a-s)/a*100,Math.abs(c)<.5?(l="breakeven",u=`Breakeven. Entry $${a.toFixed(2)}, current $${s.toFixed(2)} (${c>=0?"+":""}${c.toFixed(2)}%).`):c>0?(l="profit",u=`Profit: +${c.toFixed(2)}%. Entry $${a.toFixed(2)}, current $${s.toFixed(2)}.`):(l="loss",u=`Loss: ${c.toFixed(2)}%. Entry $${a.toFixed(2)}, current $${s.toFixed(2)}.`)):(u=`${o.action==="buy"?"Bought":"Sold"} ${o.symbol}. Current price: $${s.toFixed(2)}.`,l="pending");let d=o.confidence,p=d>=.6,f=p&&l==="profit"||!p&&l!=="profit"||l==="breakeven";await qt.update(Bt).set({actualOutcome:u}).where(cr(Bt.id,o.id));let h={justificationId:o.id,agentId:o.agentId,symbol:o.symbol,action:o.action,entryPrice:a,currentPrice:s,pnlPercent:c,outcome:l,outcomeText:u,confidenceAtTrade:d,wasCalibrated:f};e.push(h),pN.outcomes.unshift(h)}pN.outcomes.length>Uut&&(pN.outcomes.length=Uut),pN.lastRun=new Date().toISOString(),pN.totalProcessed+=e.length,console.log(`[OutcomeTracker] Processed ${e.length} outcomes. Profit: ${e.filter(o=>o.outcome==="profit").length}, Loss: ${e.filter(o=>o.outcome==="loss").length}, Breakeven: ${e.filter(o=>o.outcome==="breakeven").length}`)}catch(n){console.error(`[OutcomeTracker] Failed: ${n instanceof Error?n.message:String(n)}`)}return e}var AE=new Map,a1e=[],zut=200,Vut=500;function Hut(t){let e=AE.get(t.roundId)??[];if(e.push(t),AE.set(t.roundId,e),AE.size>Vut){let r=Array.from(AE.keys());for(let n=0;n<r.length-Vut;n++)AE.delete(r[n])}}function Gut(t){let e=AE.get(t);if(!e||e.length<2)return null;let r=[];for(let d=0;d<e.length;d++)for(let p=d+1;p<e.length;p++){let f=e[d],h=e[p],m=Kar(f,h);r.push(m)}let n=r.filter(d=>d.analysis.actionConflict).length,i=r.length>0?r.reduce((d,p)=>d+p.analysis.divergenceScore,0)/r.length:0,o=r.length>0?r.reduce((d,p)=>d+p.analysis.confidenceSpread,0)/r.length:0,s=new Map;for(let d of r)if(d.analysis.actionConflict){let p=d.symbol;s.set(p,(s.get(p)??0)+1)}let a=s.size>0?[...s.entries()].sort((d,p)=>p[1]-d[1])[0][0]:null,c=new Map;for(let d of e){let p=c.get(d.symbol)??new Set;p.add(d.action),c.set(d.symbol,p)}let l=[...c.entries()].filter(([,d])=>d.size===1).map(([d])=>d),u={roundId:t,timestamp:e[0].timestamp,diffs:r,stats:{avgDivergence:Math.round(i*100)/100,actionConflictRate:r.length>0?Math.round(n/r.length*100)/100:0,avgConfidenceSpread:Math.round(o*100)/100,mostDisagreedSymbol:a,consensusSymbols:l}};return a1e.unshift(u),a1e.length>zut&&(a1e.length=zut),u}function Kar(t,e){let r=t.action==="buy"&&e.action==="sell"||t.action==="sell"&&e.action==="buy",n=t.confidence>1?t.confidence/100:t.confidence,i=e.confidence>1?e.confidence/100:e.confidence,o=Math.abs(n-i),s=t.intent===e.intent,a=new Set(t.sources),c=new Set(e.sources),l=[...a].filter(E=>c.has(E)),u=[...a].filter(E=>!c.has(E)),d=[...c].filter(E=>!a.has(E)),p=t.reasoning.length,f=e.reasoning.length,h=p>=f?t.agentId:e.agentId,m=Math.min(p,f)>0?Math.round(Math.max(p,f)/Math.min(p,f)*100)/100:1,g=t.coherenceScore>=e.coherenceScore?t.agentId:e.agentId,b=0;r&&(b+=.4),s||(b+=.15),b+=o*.2,b+=(1-l.length/Math.max(1,a.size+c.size-l.length))*.1,Math.abs(t.coherenceScore-e.coherenceScore)>.3&&(b+=.15),b=Math.min(1,b);let _=[];r&&_.push(`ACTION CONFLICT: ${t.agentId} wants to ${t.action} while ${e.agentId} wants to ${e.action}`),o>.3&&_.push(`Large confidence gap: ${t.agentId}=${(n*100).toFixed(0)}% vs ${e.agentId}=${(i*100).toFixed(0)}%`),s||_.push(`Different strategies: ${t.agentId} (${t.intent}) vs ${e.agentId} (${e.intent})`),m>2&&_.push(`${h} provided ${m}x more detailed reasoning`),_.length===0&&_.push("Agents largely agree on this trade");let x={actionConflict:r,confidenceSpread:Math.round(o*100)/100,intentMatch:s,sharedSources:l,uniqueSourcesA:u,uniqueSourcesB:d,deeperReasoningAgent:h,reasoningLengthRatio:m,higherCoherenceAgent:g,divergenceScore:Math.round(b*100)/100,summary:_.join(". ")};return{symbol:t.symbol!==e.symbol?`${t.symbol} vs ${e.symbol}`:t.symbol,roundId:t.roundId,timestamp:t.timestamp,agentA:t,agentB:e,analysis:x}}var c1e=[];function jut(t,e,r,n,i,o,s){c1e.unshift({agentId:t,symbol:e,roundId:r,hadHallucinations:n.length>0,flags:n,severity:i,confidence:o,action:s,timestamp:new Date().toISOString()}),c1e.length>5e3&&(c1e.length=5e3)}var l1e=[];function qut(t){l1e.unshift(t),l1e.length>3e3&&(l1e.length=3e3)}var mV=[];function Jut(t){mV.push(t),mV.length>5e3&&mV.splice(0,mV.length-5e3)}var hV=[];function Wut(t){hV.push({...t,wordCount:t.reasoning.split(/\s+/).length}),hV.length>5e3&&hV.splice(0,hV.length-5e3)}var u1e=[];function Kut(t){u1e.unshift(t),u1e.length>5e3&&(u1e.length=5e3)}var yV=new rn,og=[],Qut=5e3;function Xut(t){og.push(t),og.length>Qut&&og.splice(0,og.length-Qut)}function oa(t){return t.length===0?0:t.reduce((e,r)=>e+r,0)/t.length}function EE(t){if(t.length<2)return 0;let e=oa(t);return t.reduce((r,n)=>r+(n-e)**2,0)/(t.length-1)}function Yut(t,e){let r=t.length,n=e.length;if(r<2||n<2)return{tStatistic:0,degreesOfFreedom:0,pValue:1};let i=oa(t),o=oa(e),s=EE(t),a=EE(e),c=s/r,l=a/n,u=Math.sqrt(c+l);if(u===0)return{tStatistic:0,degreesOfFreedom:r+n-2,pValue:1};let d=(i-o)/u,p=(c+l)**2/(c**2/(r-1)+l**2/(n-1)),f=Qar(Math.abs(d),p);return{tStatistic:Math.round(d*1e3)/1e3,degreesOfFreedom:Math.round(p*10)/10,pValue:f}}function Qar(t,e){if(e<=0||t===0)return 1;let r=e/(e+t*t),n=e/2,o=Xar(r,n,.5);return Math.min(1,Math.max(0,Math.round(o*1e4)/1e4))}function Xar(t,e,r){if(t<=0)return 0;if(t>=1)return 1;let n=gV(e)+gV(r)-gV(e+r),i=Math.exp(Math.log(t)*e+Math.log(1-t)*r-n)/e,o=1,s=1,a=1-(e+r)*t/(e+1);Math.abs(a)<1e-30&&(a=1e-30),a=1/a,o=a;for(let c=1;c<=200;c++){let l=c*(r-c)*t/((e+2*c-1)*(e+2*c));a=1+l*a,Math.abs(a)<1e-30&&(a=1e-30),s=1+l/s,Math.abs(s)<1e-30&&(s=1e-30),a=1/a,o*=a*s,l=-(e+c)*(e+r+c)*t/((e+2*c)*(e+2*c+1)),a=1+l*a,Math.abs(a)<1e-30&&(a=1e-30),s=1+l/s,Math.abs(s)<1e-30&&(s=1e-30),a=1/a;let u=a*s;if(o*=u,Math.abs(u-1)<1e-10)break}return i*o}function gV(t){let r=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(t<.5)return Math.log(Math.PI/Math.sin(Math.PI*t))-gV(1-t);t-=1;let n=r[0];for(let o=1;o<9;o++)n+=r[o]/(t+o);let i=t+7+.5;return .5*Math.log(2*Math.PI)+(t+.5)*Math.log(i)-i+Math.log(n)}function Zut(t,e){let r=t.length,n=e.length;if(r<2||n<2)return{d:0,label:"insufficient data"};let i=Math.sqrt(((r-1)*EE(t)+(n-1)*EE(e))/(r+n-2));if(i===0)return{d:0,label:"negligible"};let o=Math.round((oa(t)-oa(e))/i*1e3)/1e3,s=Math.abs(o),a=s<.2?"negligible":s<.5?"small":s<.8?"medium":"large";return{d:o,label:a}}function Yar(t){let e=t.length;if(e<2)return{lower:0,upper:0,margin:0};let r=oa(t),n=1.96*Math.sqrt(EE(t)/e);return{lower:Math.round((r-n)*100)/100,upper:Math.round((r+n)*100)/100,margin:Math.round(n*100)/100}}function w_(t){return TE().find(r=>r.agentId===t)?.name??t}function d1e(){return[...new Set(og.map(t=>t.agentId))]}function edt(t,e){let r=new Map,n=new Map;for(let k of og)k.agentId===t?r.set(k.roundId,k):k.agentId===e&&n.set(k.roundId,k);let i=[],o=[],s=[],a=[],c=[],l=[],u=0,d=0,p=0;for(let[k,O]of r){let $=n.get(k);$&&(i.push(O.pnl),o.push($.pnl),s.push(O.coherence),a.push($.coherence),c.push(O.hallucinationCount),l.push($.hallucinationCount),O.pnl>$.pnl?u++:$.pnl>O.pnl?d++:p++)}let f=i.length,h=Yut(i,o),m=Zut(i,o),g=i.reduce((k,O)=>k+O,0),b=o.reduce((k,O)=>k+O,0),_=oa(s),x=oa(a),E=oa(c),R=oa(l),I="draw";u>d?I=t:d>u?I=e:g>b?I=t:b>g&&(I=e);let D=f>=30&&h.pValue<.05?.95:f>=10?Math.min(.9,.5+f*.02):Math.min(.5,f*.1);return{agentA:{id:t,name:w_(t)},agentB:{id:e,name:w_(e)},rounds:f,agentAWins:u,agentBWins:d,draws:p,pnlComparison:{agentAPnl:Math.round(g*100)/100,agentBPnl:Math.round(b*100)/100,difference:Math.round((g-b)*100)/100,pValue:h.pValue,isSignificant:h.pValue<.05,effectSize:m.d,effectLabel:m.label},coherenceComparison:{agentA:Math.round(_*100)/100,agentB:Math.round(x*100)/100,winner:_>x?t:x>_?e:"tie"},hallucinationComparison:{agentA:Math.round(E*100)/100,agentB:Math.round(R*100)/100,winner:E<R?t:R<E?e:"tie"},overallWinner:I,confidence:Math.round(D*100)/100}}yV.get("/head-to-head/:agentA/:agentB",t=>{let e=t.req.param("agentA"),r=t.req.param("agentB");if(e===r)return t.json({ok:!1,error:"Cannot compare an agent with itself"},400);let n=edt(e,r);return n.rounds===0?t.json({ok:!0,warning:"No shared rounds found between these agents",result:n}):t.json({ok:!0,result:n})});yV.get("/rankings",t=>{let r=d1e().map(n=>{let i=og.filter(c=>c.agentId===n),o=i.map(c=>c.pnl),s=Yar(o),a=o.reduce((c,l)=>c+l,0);return{agentId:n,agentName:w_(n),rounds:i.length,totalPnl:Math.round(a*100)/100,meanPnl:Math.round(oa(o)*100)/100,stdDev:Math.round(Math.sqrt(EE(o))*100)/100,ci95:s,avgCoherence:Math.round(oa(i.map(c=>c.coherence))*100)/100,avgHallucinations:Math.round(oa(i.map(c=>c.hallucinationCount))*100)/100}});return r.sort((n,i)=>i.totalPnl-n.totalPnl),r.forEach((n,i)=>Object.assign(n,{rank:i+1})),t.json({ok:!0,totalAgents:r.length,totalRounds:new Set(og.map(n=>n.roundId)).size,rankings:r})});yV.get("/dominance-matrix",t=>{let e=d1e(),r={};for(let i of e){r[i]={};for(let o of e){if(i===o){r[i][o]={wins:0,losses:0,draws:0,winRate:0};continue}let s=edt(i,o),a=s.agentAWins+s.agentBWins+s.draws;r[i][o]={wins:s.agentAWins,losses:s.agentBWins,draws:s.draws,winRate:a>0?Math.round(s.agentAWins/a*100)/100:0}}}let n=e.map(i=>{let o=e.filter(a=>a!==i),s=o.length>0?oa(o.map(a=>r[i][a].winRate)):0;return{agentId:i,agentName:w_(i),avgWinRate:Math.round(s*100)/100}}).sort((i,o)=>o.avgWinRate-i.avgWinRate);return t.json({ok:!0,agents:e.map(i=>({id:i,name:w_(i)})),matrix:r,dominanceRanking:n,mostDominant:n[0]?.agentId??null})});yV.get("/statistical-tests",t=>{let e=d1e(),r=[];for(let n=0;n<e.length;n++)for(let i=n+1;i<e.length;i++){let o=e[n],s=e[i],a=new Map,c=new Map;for(let _ of og)_.agentId===o?a.set(_.roundId,_.pnl):_.agentId===s&&c.set(_.roundId,_.pnl);let l=[],u=[];for(let[_,x]of a){let E=c.get(_);E!==void 0&&(l.push(x),u.push(E))}let d=Yut(l,u),p=Zut(l,u),f=d.pValue<.05,h=w_(o),m=w_(s),g=oa(l)>=oa(u)?h:m,b=l.length<2?"Insufficient data for statistical comparison":f?`${g} significantly outperforms (p=${d.pValue}, ${p.label} effect)`:`No significant difference (p=${d.pValue})`;r.push({agentA:o,agentB:s,sampleSizeA:l.length,sampleSizeB:u.length,sharedRounds:l.length,welchT:d,effectSize:p,isSignificant:f,interpretation:b})}return t.json({ok:!0,significanceLevel:.05,totalPairs:r.length,significantPairs:r.filter(n=>n.isSignificant).length,tests:r})});import{createHash as f1e}from"crypto";var Zar="1.0.0",ecr=500,p1e=[],tcr=new Map;function rcr(t){let e=JSON.stringify(t,Object.keys(t).sort());return f1e("sha256").update(e).digest("hex")}function ncr(t){if(t.length===0)return f1e("sha256").update("empty").digest("hex");if(t.length===1)return t[0];let e=[],r=[...t];for(r.length%2!==0&&r.push(r[r.length-1]),e.push(r);r.length>1;){let n=[];for(let i=0;i<r.length;i+=2)n.push(f1e("sha256").update(r[i]+r[i+1]).digest("hex"));n.length>1&&n.length%2!==0&&n.push(n[n.length-1]),e.push(n),r=n}return tcr.set(r[0],e),r[0]}function tdt(t,e){let r=0,n=e.map(c=>({id:c.id??`${t}-j${++r}`,agentId:c.agentId,action:c.action,symbol:c.symbol,reasoning:c.reasoning,confidence:c.confidence,timestamp:c.timestamp})),i=n.map(c=>({id:c.id,hash:rcr(c)})),o=ncr(i.map(c=>c.hash)),s=[...new Set(n.map(c=>c.agentId))],a={roundId:t,merkleRoot:o,justificationHashes:i,agentIds:s,timestamp:new Date().toISOString(),proofVersion:Zar};for(p1e.push(a);p1e.length>ecr;)p1e.shift()}var icr=500;var rdt=new Map;function ndt(t,e,r,n){let i=rdt.get(t)??[],o=1-r,s=n?1:0,a=ocr(e*.4+o*.3+s*.3);i.push({coherence:e,hallucinationSeverity:r,disciplinePass:n,compositeScore:a,timestamp:new Date().toISOString()}),i.length>icr&&i.shift(),rdt.set(t,i)}function ocr(t){return Math.round(t*100)/100}var A_=new Map,idt=new Map,m1e=new Map,bV=[],odt=new Map,h1e=new Map;function sdt(t,e){if(e.length<2)return;for(let o of e)A_.has(o.agentId)||A_.set(o.agentId,1500),idt.set(o.agentId,o.agentName);for(let o=0;o<e.length;o++)for(let s=o+1;s<e.length;s++){let a=e[o],c=e[s],l=A_.get(a.agentId),u=A_.get(c.agentId),{newA:d,newB:p}=scr(l,u,a.compositeScore,c.compositeScore);A_.set(a.agentId,d),A_.set(c.agentId,p)}let r=[...A_.entries()].sort((o,s)=>s[1]-o[1]),n=new Date().toISOString(),i=[];for(let o=0;o<r.length;o++){let[s,a]=r[o],c=o+1,l=odt.get(s)??c,u=e.find(h=>h.agentId===s),d=h1e.get(s)??[];d.push(c),h1e.set(s,d);let p={roundId:t,elo:vV(a),rank:c,compositeScore:u?.compositeScore??0,timestamp:n},f=m1e.get(s)??[];f.push(p),m1e.set(s,f),i.push({agentId:s,agentName:idt.get(s)??s,elo:vV(a),rank:c,previousRank:l,rankChange:l-c,compositeScore:u?.compositeScore??0,streak:acr(s),roundsPlayed:(m1e.get(s)??[]).length}),odt.set(s,c)}bV.push({roundId:t,timestamp:n,rankings:i}),bV.length>500&&bV.splice(0,bV.length-500)}function scr(t,e,r,n){let i=1/(1+Math.pow(10,(e-t)/400)),o=1-i,s,a;r>n?(s=1,a=0):n>r?(s=0,a=1):(s=.5,a=.5);let c=t+32*(s-i),l=e+32*(a-o);return{newA:vV(c),newB:vV(l)}}function acr(t){let e=h1e.get(t);if(!e||e.length===0)return{type:"none",length:0,longestWin:0,longestLoss:0};let r=0,n=0,i=0,o=0;for(let c of e)c===1?(i++,o=0,r=Math.max(r,i)):(o++,i=0,n=Math.max(n,o));let s="none",a=0;return i>0?(s="winning",a=i):o>0&&(s="losing",a=o),{type:s,length:a,longestWin:r,longestLoss:n}}function vV(t){return Math.round(t*10)/10}var g1e=[];var _V=new Map,ccr=100;function lcr(t,e,r,n,i,o,s){let a=ucr(r,n,o),c=gcr(r,n),l=ycr(r,n,o),u=bcr(r,n,o,t),d=_cr(a,c,l,n,i),p=Math.round((a.logicQuality*.25+a.evidenceUsage*.2+a.riskAwareness*.2+a.originality*.15+a.conclusionValidity*.2)*100)/100,f={reviewerAgentId:t,targetAgentId:e,roundId:s,overallScore:p,scores:a,critique:d,strengths:c,weaknesses:l,wouldAgree:u,timestamp:new Date().toISOString()};return g1e.unshift(f),g1e.length>3e3&&(g1e.length=3e3),f}function cdt(t,e){let r=[];for(let u of t)for(let d of t){if(u.agentId===d.agentId)continue;let p=lcr(u.agentId,d.agentId,d.reasoning,d.action,d.symbol,d.confidence,e);r.push(p)}let i=[...new Set(t.map(u=>u.agentId))].map(u=>{let d=r.filter(p=>p.targetAgentId===u);return xcr(u,d)}),o=null,s=null;for(let u of i)(!o||u.avgPeerScore<o.avgScore)&&(o={agentId:u.agentId,avgScore:u.avgPeerScore}),(!s||u.avgPeerScore>s.avgScore)&&(s={agentId:u.agentId,avgScore:u.avgPeerScore});let a=r.filter(u=>u.wouldAgree).length,c=r.length>0?Math.round((1-a/r.length)*100)/100:0,l={roundId:e,reviews:r,agentSummaries:i,disagreementRate:c,mostControversial:o,bestReviewed:s,timestamp:new Date().toISOString()};if(_V.set(e,l),_V.size>ccr){let u=[..._V.keys()][0];_V.delete(u)}return l}function ucr(t,e,r){let n=dcr(t),i=pcr(t),o=fcr(t,e),s=mcr(t),a=hcr(t,e,r);return{logicQuality:Math.round(n*100)/100,evidenceUsage:Math.round(i*100)/100,riskAwareness:Math.round(o*100)/100,originality:Math.round(s*100)/100,conclusionValidity:Math.round(a*100)/100}}function dcr(t){let e=.3,r=t.split(/\s+/).length;r>30&&(e+=.1),r>60&&(e+=.1),r>100&&(e+=.05);let n=[/\bbecause\b/i,/\btherefore\b/i,/\bconsequently\b/i,/\bas a result\b/i,/\bdue to\b/i,/\bgiven that\b/i,/\bthis suggests\b/i,/\bwhich means\b/i,/\bimplying\b/i,/\bsince\b/i,/\bhence\b/i,/\bthus\b/i];for(let s of n)s.test(t)&&(e+=.04);let i=[/\bhowever\b/i,/\bon the other hand\b/i,/\bwhile\b/i,/\balthough\b/i,/\bcompared to\b/i,/\brather than\b/i,/\binstead of\b/i,/\bbut\b/i,/\bdespite\b/i];for(let s of i)s.test(t)&&(e+=.03);let o=[/\d+\.?\d*%/,/ratio/i,/average/i,/relative/i,/volatility/i,/correlation/i,/standard deviation/i];for(let s of o)s.test(t)&&(e+=.03);return Math.min(1,e)}function pcr(t){let e=.2;/\$\d+\.?\d*/i.test(t)&&(e+=.15);let r=[/\bprice\b/i,/\bvolume\b/i,/\b24h\b/i,/\bchange\b/i,/\bmarket cap\b/i,/\bP\/E\b/i,/\bEPS\b/i,/\brevenue\b/i,/\bearnings\b/i,/\bRSI\b/i,/\bMACD\b/i,/\bmoving average\b/i,/\bsupport\b/i,/\bresistance\b/i,/\btrend\b/i];for(let i of r)i.test(t)&&(e+=.04);let n=t.match(/\b[A-Z]{2,5}x\b/g);return n&&n.length>1&&(e+=.1),/\bportfolio\b|\bposition\b|\bcash\b|\bbalance\b/i.test(t)&&(e+=.1),Math.min(1,e)}function fcr(t,e){let r=.2,n=[/\brisk\b/i,/\bdownside\b/i,/\buncertain/i,/\bvolatil/i,/\bloss/i,/\bdrawdown\b/i,/\bcaution/i,/\bexposure\b/i,/\bhedg/i,/\bprotect/i,/\bstop.?loss/i,/\bdiversif/i,/\bconcentrat/i,/\blimit/i,/\bmax\s+position/i];for(let o of n)o.test(t)&&(r+=.05);let i=[/\bif\b/i,/\bcould\b/i,/\bmight\b/i,/\bmay\b/i,/\bpotentially\b/i,/\bpossibly\b/i,/\bin case\b/i];for(let o of i)o.test(t)&&(r+=.03);return e==="buy"&&/\bdownside\b|\brisk\b|\bcaution\b/i.test(t)&&(r+=.1),Math.min(1,r)}function mcr(t){let e=.3,r=t.split(/\s+/).length,n=t.split(/[.!?]+/).filter(Boolean).length,i=new Set(t.toLowerCase().split(/\s+/)),o=r>0?i.size/r:0;e+=Math.min(.2,o*.3),n>=3&&(e+=.1),n>=5&&(e+=.05);let s=[/\bexpect\b/i,/\bpredict\b/i,/\bforecast\b/i,/\blikely\b/i,/\bwill\b/i,/\bshould\b/i,/\bnext\b/i,/\bfuture\b/i,/\bopportunity\b/i,/\bcatalyst\b/i,/\btarget\b/i];for(let a of s)a.test(t)&&(e+=.03);return/\bhistorically\b|\bpreviously\b|\blast\s+(?:week|month|quarter)/i.test(t)&&(e+=.1),Math.min(1,e)}function hcr(t,e,r){let n=.5,i=t.split(/\s+/).length,o=r>1?r/100:r;o>.8&&i<20&&(n-=.2),o<.3&&/\bdefinitely\b|\bcertainly\b|\bclearly\b/i.test(t)&&(n-=.15),e==="hold"&&i<15&&(n-=.1);let s=adt(t,[/\bbullish\b/i,/\bundervalued\b/i,/\bgrowth\b/i,/\bupside\b/i,/\baccumulate\b/i,/\bstrong\b/i,/\bpositive\b/i]),a=adt(t,[/\bbearish\b/i,/\bovervalued\b/i,/\bdecline\b/i,/\bdownside\b/i,/\bweak\b/i,/\bnegative\b/i,/\bconcern/i]);return e==="buy"&&s>a&&(n+=.2),e==="sell"&&a>s&&(n+=.2),e==="buy"&&a>s+1&&(n-=.15),e==="sell"&&s>a+1&&(n-=.15),Math.max(0,Math.min(1,n))}function adt(t,e){let r=0;for(let n of e)n.test(t)&&r++;return r}function gcr(t,e){let r=[];return t.split(/\s+/).length>60&&r.push("Detailed analysis with substantial reasoning"),/\bbecause\b|\btherefore\b|\bthus\b|\bconsequently\b/i.test(t)&&r.push("Uses causal reasoning to connect observations to conclusions"),/\brisk\b|\bdownside\b|\bcaution\b/i.test(t)&&r.push("Acknowledges risks and potential downsides"),/\$\d+\.?\d*/.test(t)&&/\d+\.?\d*%/.test(t)&&r.push("Cites specific quantitative data points"),/\bhowever\b|\bon the other hand\b|\balthough\b/i.test(t)&&r.push("Considers multiple perspectives before concluding"),/\bhistorically\b|\bpreviously\b|\blast\s+(?:week|month)/i.test(t)&&r.push("Incorporates historical context"),/\bportfolio\b|\bposition\b|\bconcentration\b|\bexposure\b/i.test(t)&&r.push("Considers portfolio-level implications"),r.slice(0,4)}function ycr(t,e,r){let n=[],i=t.split(/\s+/).length,o=r>1?r/100:r;return i<20&&n.push("Reasoning is too brief to be convincing"),o>.8&&!/\brisk\b|\bdownside\b|\bcaution\b/i.test(t)&&n.push("High confidence without acknowledging any risks"),e!=="hold"&&!/\$\d+\.?\d*/.test(t)&&n.push("No specific price levels cited to support the trade"),/\bbecause\b|\btherefore\b|\bsince\b|\bdue to\b/i.test(t)||n.push("Lacks explicit causal reasoning"),/\bI think\b|\bI feel\b|\bI believe\b/i.test(t)&&!/data|evidence|indicator/i.test(t)&&n.push("Relies on subjective belief without data support"),e==="buy"&&o<.3&&n.push("Executing a buy with very low confidence suggests uncertainty"),n.slice(0,4)}function bcr(t,e,r,n){let i=r>1?r/100:r,o=/\$\d+\.?\d*|\d+\.?\d*%/i.test(t),s=/\brisk\b|\bdownside\b|\bcaution\b/i.test(t),a=t.split(/\s+/).length,c=.5;return a>40&&(c+=.1),o&&(c+=.1),s&&(c+=.05),i>.3&&i<.85&&(c+=.05),n.includes("claude")?(s&&(c+=.1),e==="hold"&&/\bcaution\b|\buncertain/i.test(t)&&(c+=.1),e==="buy"&&i>.9&&!s&&(c-=.15)):n.includes("gpt")?(/\bmomentum\b|\btrend\b|\bbreakout\b|\btechnical\b/i.test(t)&&(c+=.1),e==="hold"&&a<30&&(c-=.1)):n.includes("grok")&&(/\bcontrarian\b|\boverreaction\b|\bpanic\b|\boversold\b/i.test(t)&&(c+=.15),c-=.1),vcr(t+n)%100<c*100}function vcr(t){let e=0;for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);e=(e<<5)-e+n,e=e&e}return Math.abs(e)}function _cr(t,e,r,n,i){let o=[],s=(t.logicQuality+t.evidenceUsage+t.riskAwareness+t.originality+t.conclusionValidity)/5;return s>=.7?o.push(`The ${n} decision on ${i} is well-reasoned.`):s>=.4?o.push(`The ${n} decision on ${i} has some merit but could be stronger.`):o.push(`The ${n} decision on ${i} lacks sufficient justification.`),e.length>0&&o.push(`Strength: ${e[0]}.`),r.length>0&&o.push(`Concern: ${r[0]}.`),t.evidenceUsage<.4&&o.push("More specific data citations would strengthen this analysis."),t.riskAwareness<.3&&o.push("Risk factors should be explicitly addressed."),t.originality<.3&&o.push("The analysis restates observable facts without deeper insight."),o.join(" ")}function xcr(t,e){if(e.length===0)return{agentId:t,avgPeerScore:0,avgScores:{logicQuality:0,evidenceUsage:0,riskAwareness:0,originality:0,conclusionValidity:0},peerAgreementRate:0,totalReviews:0,topStrength:null,topWeakness:null,reviewConsistency:0};let r=Math.round(e.reduce((m,g)=>m+g.overallScore,0)/e.length*100)/100,n={logicQuality:fN(e.map(m=>m.scores.logicQuality)),evidenceUsage:fN(e.map(m=>m.scores.evidenceUsage)),riskAwareness:fN(e.map(m=>m.scores.riskAwareness)),originality:fN(e.map(m=>m.scores.originality)),conclusionValidity:fN(e.map(m=>m.scores.conclusionValidity))},i=e.filter(m=>m.wouldAgree).length,o=Math.round(i/e.length*100)/100,s=new Map,a=new Map;for(let m of e){for(let g of m.strengths)s.set(g,(s.get(g)??0)+1);for(let g of m.weaknesses)a.set(g,(a.get(g)??0)+1)}let c=s.size>0?[...s.entries()].sort((m,g)=>g[1]-m[1])[0][0]:null,l=a.size>0?[...a.entries()].sort((m,g)=>g[1]-m[1])[0][0]:null,u=e.map(m=>m.overallScore),d=r,p=u.reduce((m,g)=>m+(g-d)**2,0)/u.length,f=Math.sqrt(p),h=Math.round(Math.max(0,1-f*2)*100)/100;return{agentId:t,avgPeerScore:r,avgScores:n,peerAgreementRate:o,totalReviews:e.length,topStrength:c,topWeakness:l,reviewConsistency:h}}function fN(t){return t.length===0?0:Math.round(t.reduce((e,r)=>e+r,0)/t.length*100)/100}var y1e=[];var Scr=[{name:"price_action",patterns:[/\bprice\b/i,/\$\d+/i,/\btrading\s+at\b/i]},{name:"momentum",patterns:[/\bmomentum\b/i,/\btrend\b/i,/\bbreakout\b/i,/\brally\b/i]},{name:"mean_reversion",patterns:[/\boversold\b/i,/\boverbought\b/i,/\bpullback\b/i,/\breversion\b/i]},{name:"volume_analysis",patterns:[/\bvolume\b/i,/\bliquidity\b/i,/\bturnover\b/i]},{name:"technical_indicators",patterns:[/\bRSI\b/,/\bMACD\b/,/\bmoving average\b/i,/\bSMA\b/,/\bEMA\b/]},{name:"fundamental",patterns:[/\bearnings\b/i,/\brevenue\b/i,/\bP\/E\b/i,/\bvaluation\b/i,/\bfundamental/i]},{name:"sentiment",patterns:[/\bsentiment\b/i,/\bmood\b/i,/\bfear\b/i,/\bgreed\b/i,/\boptimism\b/i]},{name:"sector_macro",patterns:[/\bsector\b/i,/\bmacro\b/i,/\bmarket\b/i,/\beconomy\b/i,/\bindustry\b/i]},{name:"risk_assessment",patterns:[/\brisk\b/i,/\bvolatility\b/i,/\bdrawdown\b/i,/\bdownside\b/i]},{name:"portfolio_context",patterns:[/\bportfolio\b/i,/\bposition\b/i,/\ballocation\b/i,/\bdiversif/i]},{name:"news_catalyst",patterns:[/\bnews\b/i,/\bannounce/i,/\bcatalyst\b/i,/\bevent\b/i,/\bheadline\b/i]},{name:"comparative",patterns:[/\bcompared\s+to\b/i,/\brelative\b/i,/\bvs\.?\b/i,/\bpeer\b/i,/\bbenchmark\b/i]}],wcr=["alpha","beta","sharpe","sortino","drawdown","volatility","correlation","covariance","variance","standard deviation","momentum","mean reversion","arbitrage","convexity","tail risk","black swan","fat tail","skewness","kurtosis","risk-adjusted","information ratio","tracking error","value at risk","expected shortfall","kelly criterion","margin of safety","intrinsic value","discounted cash flow","earnings yield","free cash flow","capital allocation","systematic risk","idiosyncratic","factor exposure","regime change","liquidity premium","market microstructure","order flow","VWAP","TWAP","slippage","market impact","sector rotation","risk parity","maximum drawdown","monte carlo","bootstrap","backtest","out-of-sample","forward-looking","leading indicator","lagging indicator"];function ldt(t,e,r,n,i){let o=t.split(/\s+/).length,{breadth:s,angleCount:a}=Acr(t),c=Ecr(t),l=Tcr(t),u=Rcr(t),d=Icr(t),p=Ccr(t),f=Ncr(t),h=Math.round((s*.2+c*.15+l*.15+u*.1+d*.15+p*.1+f*.15)*100)/100,m;h>=.75?m="expert":h>=.55?m="deep":h>=.35?m="moderate":m="shallow";let g={overall:h,analyticalBreadth:s,causalDepth:c,uncertaintyModeling:l,temporalAwareness:u,counterfactualReasoning:d,crossAssetAwareness:p,vocabularySophistication:f,wordCount:o,angleCount:a,classification:m};return y1e.unshift({agentId:r,score:g,reasoning:t,action:e,symbol:n,roundId:i,timestamp:new Date().toISOString()}),y1e.length>3e3&&(y1e.length=3e3),g}function Acr(t){let e=0;for(let n of Scr)n.patterns.some(o=>o.test(t))&&e++;let r=Math.min(1,e/6);return{breadth:Math.round(r*100)/100,angleCount:e}}function Ecr(t){let e=.2,r=[/\bbecause\b/gi,/\btherefore\b/gi,/\bconsequently\b/gi,/\bas a result\b/gi,/\bthis leads to\b/gi,/\bwhich means\b/gi,/\bthis suggests\b/gi,/\bimplying\b/gi,/\bhence\b/gi,/\bthus\b/gi,/\bso\b/gi,/\bdue to\b/gi,/\bgiven that\b/gi,/\bsince\b/gi],n=0;for(let o of r){let s=t.match(o);s&&(n+=s.length)}return e+=Math.min(.5,n*.1),/\bif\b.{10,}\bthen\b/i.test(t)&&(e+=.1),n>=3&&(e+=.1),t.split(/[.!?]+/).filter(Boolean).length>=3&&(e+=.1),Math.min(1,Math.round(e*100)/100)}function Tcr(t){let e=.1,r=[/\blikely\b/i,/\bunlikely\b/i,/\bprobably\b/i,/\bpossibly\b/i,/\bpotentially\b/i,/\bchance\b/i,/\bprobability\b/i,/\b\d+%\s+(?:chance|probability|likely)/i];for(let i of r)i.test(t)&&(e+=.06);let n=[/\bmight\b/i,/\bcould\b/i,/\bmay\b/i,/\buncertain\b/i,/\bhard to predict\b/i,/\bdifficult to say\b/i,/\bremains to be seen\b/i,/\bin my estimation\b/i];for(let i of n)i.test(t)&&(e+=.05);return/\bbetween\s+\$?\d+\s+and\s+\$?\d+/i.test(t)&&(e+=.15),/\brange\b/i.test(t)&&(e+=.05),/\bscenario\b/i.test(t)&&(e+=.1),/\bbest case\b|\bworst case\b|\bbase case\b/i.test(t)&&(e+=.15),Math.min(1,Math.round(e*100)/100)}function Rcr(t){let e=.1,r=0;return/\bhistorically\b|\bpreviously\b|\blast\s+(?:week|month|quarter|year)\b|\bin the past\b/i.test(t)&&(e+=.25,r++),/\bcurrently\b|\bright now\b|\bat present\b|\btoday\b/i.test(t)&&(e+=.15,r++),/\bgoing forward\b|\bnext\s+(?:week|month|quarter)\b|\bexpect\b|\bforecast\b|\bwill\s+likely\b/i.test(t)&&(e+=.25,r++),/\bshort.?term\b|\blong.?term\b|\bmedium.?term\b/i.test(t)&&(e+=.15),r>=3&&(e+=.1),Math.min(1,Math.round(e*100)/100)}function Icr(t){let e=.05,r=[/\bwhat if\b/i,/\bif .+ fails?\b/i,/\bif .+ drops?\b/i,/\bon the other hand\b/i,/\balternatively\b/i,/\bhowever\b/i,/\bbut\b/i,/\bdespite\b/i,/\balthough\b/i,/\bnevertheless\b/i,/\bnonetheless\b/i];for(let n of r)n.test(t)&&(e+=.06);return/\bif.+(?:falls|drops|declines|crashes)/i.test(t)&&(e+=.1),/\bstop.?loss\b|\bexit strategy\b|\bbail out\b/i.test(t)&&(e+=.1),/\bcould\s+also\b|\banother option\b|\binstead\b|\brather than\b/i.test(t)&&(e+=.1),/\bI could be wrong\b|\brisk is\b|\bdownside scenario\b|\bbear case\b/i.test(t)&&(e+=.15),Math.min(1,Math.round(e*100)/100)}function Ccr(t){let e=.1,r=t.match(/\b[A-Z]{2,5}x\b/g)??[],n=new Set(r);return n.size>1&&(e+=.15),n.size>3&&(e+=.1),/\bportfolio\b|\boverall\s+(?:position|exposure|allocation)\b/i.test(t)&&(e+=.15),/\bsector\b|\bmarket-wide\b|\bcorrelation\b|\bbeta\b/i.test(t)&&(e+=.15),/\bconcentrat/i.test(t)&&(e+=.1),/\bdiversif/i.test(t)&&(e+=.1),/\bhedge\b|\boffset\b|\bbalance\b/i.test(t)&&(e+=.1),Math.min(1,Math.round(e*100)/100)}function Ncr(t){let e=t.toLowerCase(),r=0;for(let i of wcr)e.includes(i.toLowerCase())&&r++;let n=Math.min(1,r/5);return Math.round(n*100)/100}var b1e=[],v1e=[];function RE(t){let e=t.map(f=>f.change24h).filter(f=>f!==null);if(e.length===0)return{regime:"uncertain",avgChange:0,maxChange:0,changeStdDev:0,stocksUp:0,stocksDown:0,timestamp:new Date().toISOString()};let r=e.reduce((f,h)=>f+h,0)/e.length,n=Math.max(...e.map(Math.abs)),i=e.reduce((f,h)=>f+(h-r)**2,0)/e.length,o=Math.sqrt(i),s=e.filter(f=>f>0).length,a=e.filter(f=>f<0).length,c=o>2.5||n>5,l=r>.5,u=r<-.5,d;l&&c?d="bull_volatile":l?d="bull_calm":u&&c?d="bear_volatile":u?d="bear_calm":Math.abs(r)<=.5&&!c?d="sideways":d="uncertain";let p={regime:d,avgChange:Math.round(r*100)/100,maxChange:Math.round(n*100)/100,changeStdDev:Math.round(o*100)/100,stocksUp:s,stocksDown:a,timestamp:new Date().toISOString()};return v1e.unshift(p),v1e.length>500&&(v1e.length=500),p}function udt(t,e,r,n,i,o,s,a){b1e.unshift({agentId:t,regime:e,coherenceScore:r,depthScore:n,hadHallucinations:i,confidence:o,action:s,wasCorrect:null,roundId:a,timestamp:new Date().toISOString()}),b1e.length>5e3&&(b1e.length=5e3)}var _1e=[],ddt=5e3;function pdt(t,e,r){let n=1-r.hallucinationRate,i=Math.round((r.coherence*.25+r.depth*.2+n*.2+r.discipline*.15+r.confidence*.1+.5*.1)*100)/100;_1e.unshift({agentId:t,roundId:e,...r,composite:i,timestamp:new Date().toISOString()}),_1e.length>ddt&&(_1e.length=ddt)}var x1e=class{writer;encoder;writable;abortSubscribers=[];responseReadable;aborted=!1;closed=!1;constructor(t,e){this.writable=t,this.writer=t.getWriter(),this.encoder=new TextEncoder;let r=e.getReader();this.abortSubscribers.push(async()=>{await r.cancel()}),this.responseReadable=new ReadableStream({async pull(n){let{done:i,value:o}=await r.read();i?n.close():n.enqueue(o)},cancel:()=>{this.abort()}})}async write(t){try{typeof t=="string"&&(t=this.encoder.encode(t)),await this.writer.write(t)}catch{}return this}async writeln(t){return await this.write(t+`
`),this}sleep(t){return new Promise(e=>setTimeout(e,t))}async close(){try{await this.writer.close()}catch{}this.closed=!0}async pipe(t){this.writer.releaseLock(),await t.pipeTo(this.writable,{preventClose:!0}),this.writer=this.writable.getWriter()}onAbort(t){this.abortSubscribers.push(t)}abort(){this.aborted||(this.aborted=!0,this.abortSubscribers.forEach(t=>t()))}};var xV=()=>{let t=typeof Bun<"u"?Bun.version:void 0;if(t===void 0)return!1;let e=t.startsWith("1.1")||t.startsWith("1.0")||t.startsWith("0.");return xV=()=>e,e};var fdt=class extends x1e{constructor(t,e){super(t,e)}async writeSSE(t){let r=(await cN(t.data,aN.Stringify,!1,{})).split(/\r\n|\r|\n/).map(i=>`data: ${i}`).join(`
`),n=[t.event&&`event: ${t.event}`,r,t.id&&`id: ${t.id}`,t.retry&&`retry: ${t.retry}`].filter(Boolean).join(`
`)+`

`;await this.write(n)}},Ocr=async(t,e,r)=>{try{await e(t)}catch(n){n instanceof Error&&r?(await r(n,t),await t.writeSSE({event:"error",data:n.message})):console.error(n)}finally{t.close()}},Pcr=new WeakMap,S1e=(t,e,r)=>{let{readable:n,writable:i}=new TransformStream,o=new fdt(i,n);return xV()&&t.req.raw.signal.addEventListener("abort",()=>{o.closed||o.abort()}),Pcr.set(o.responseReadable,t),t.header("Transfer-Encoding","chunked"),t.header("Content-Type","text/event-stream"),t.header("Cache-Control","no-cache"),t.header("Connection","keep-alive"),Ocr(o,e,r),t.newResponse(o.responseReadable)};var A1e=new rn,yl=[],mdt=500,w1e=0,sg=new Set;function kc(t,e,r){w1e++;let n={id:`bev_${w1e}_${Date.now()}`,type:t,agentId:r,data:e,timestamp:new Date().toISOString()};yl.unshift(n),yl.length>mdt&&(yl.length=mdt);for(let i of sg)try{i(n)}catch{sg.delete(i)}}A1e.get("/",t=>{let e=t.req.query("types")?.split(","),r=t.req.query("agent");return S1e(t,async n=>{await n.writeSSE({event:"connected",data:JSON.stringify({message:"Connected to MoltApp Benchmark Stream",filters:{types:e??"all",agent:r??"all"},bufferedEvents:yl.length}),id:"0"});let i=yl.filter(a=>!(e&&!e.includes(a.type)||r&&a.agentId!==r)).slice(0,10).reverse();for(let a of i)await n.writeSSE({event:a.type,data:JSON.stringify({...a.data,agentId:a.agentId}),id:a.id});let o=async a=>{if(!(e&&!e.includes(a.type))&&!(r&&a.agentId!==r))try{await n.writeSSE({event:a.type,data:JSON.stringify({...a.data,agentId:a.agentId}),id:a.id})}catch{sg.delete(o)}};sg.add(o);let s=setInterval(async()=>{try{await n.writeSSE({event:"heartbeat",data:JSON.stringify({time:new Date().toISOString(),subscribers:sg.size}),id:`hb_${Date.now()}`})}catch{clearInterval(s),sg.delete(o)}},15e3);n.onAbort(()=>{clearInterval(s),sg.delete(o)}),await new Promise(a=>{n.onAbort(()=>a())})})});A1e.get("/recent",t=>{let e=Math.min(parseInt(t.req.query("limit")??"50",10),200),r=t.req.query("type"),n=t.req.query("agent"),i=yl;return r&&(i=i.filter(o=>o.type===r)),n&&(i=i.filter(o=>o.agentId===n)),t.json({ok:!0,events:i.slice(0,e),total:i.length,subscribers:sg.size})});A1e.get("/stats",t=>{let e={};for(let s of yl)e[s.type]=(e[s.type]??0)+1;let r={};for(let s of yl)s.agentId&&(r[s.agentId]=(r[s.agentId]??0)+1);let n=Date.now()-300*1e3,i=yl.filter(s=>new Date(s.timestamp).getTime()>n).length,o=Math.round(i/5*10)/10;return t.json({ok:!0,stats:{totalEvents:w1e,bufferedEvents:yl.length,activeSubscribers:sg.size,eventsPerMinute:o,eventsByType:e,eventsByAgent:r,oldestEvent:yl[yl.length-1]?.timestamp??null,newestEvent:yl[0]?.timestamp??null}})});function hdt(t){return`You are ${t.agentName}, competing in the MoltApp AI trading benchmark.

You just made a HIGH-CONVICTION trade decision:
  Action: ${t.decision.action} ${t.decision.symbol}
  Confidence: ${t.decision.confidence}%
  Reasoning: ${t.decision.reasoning}

YOUR $STONKS PORTFOLIO (on Monad):
  Balance: ${t.stonksBalance.toFixed(0)} $STONKS
  Currently borrowed: ${t.totalBorrowed.toFixed(0)} $STONKS
  Currently lent out: ${t.totalLentOut.toFixed(0)} $STONKS

CONTEXT: $STONKS is a conviction-signaling token on Monad. When you borrow $STONKS from other agents, you're putting your reputation on the line \u2014 if your trade thesis is right, you profit and pay back with modest interest. If wrong, you lose $STONKS and pay interest on a losing position.

Borrowing $STONKS amplifies your conviction signal on the public leaderboard. Other agents and observers can see who is borrowing (high conviction) and who is lending (moderate conviction).

Your trading style: ${t.tradingStyle}

Should you borrow $STONKS to amplify your conviction on this trade?

Respond with ONLY valid JSON:
{
  "shouldBorrow": true | false,
  "amount": <number of $STONKS to borrow, 0 if not borrowing, max 50000>,
  "interestRate": <proposed annual rate, e.g. 0.05 for 5%>,
  "duration": <number of trading rounds, 1-6>,
  "reasoning": "<why you want/don't want to borrow>"
}`}function gdt(t){return`You are ${t.lenderName}, competing in the MoltApp AI trading benchmark.

Another agent wants to BORROW $STONKS from you:

BORROWER: ${t.borrowerName}
  Trade: ${t.borrowerDecision.action} ${t.borrowerDecision.symbol}
  Confidence: ${t.borrowerDecision.confidence}%
  Thesis: ${t.borrowerDecision.reasoning}
  Borrowing reason: ${t.borrowerReasoning}

LOAN TERMS PROPOSED:
  Amount: ${t.requestedAmount.toFixed(0)} $STONKS
  Interest rate: ${(t.proposedRate*100).toFixed(1)}% per round
  Duration: ${t.proposedDuration} rounds

YOUR $STONKS PORTFOLIO:
  Balance: ${t.lenderStonksBalance.toFixed(0)} $STONKS
  Already lent out: ${t.lenderTotalLentOut.toFixed(0)} $STONKS
  Available: ${(t.lenderStonksBalance-t.lenderTotalLentOut).toFixed(0)} $STONKS

Your trading style: ${t.lenderTradingStyle}

CONTEXT: Lending $STONKS earns you interest and shows confidence in another agent's thesis. If the borrower's trade goes well, you get repaid with interest. If it goes poorly, the borrower may default (partial repayment).

Should you lend $STONKS to ${t.borrowerName}?

Respond with ONLY valid JSON:
{
  "shouldLend": true | false,
  "amountWilling": <$STONKS amount you'd lend, 0 if not lending>,
  "counterRate": <your preferred interest rate, e.g. 0.08 for 8%>,
  "reasoning": "<why you would/wouldn't lend>",
  "riskAssessment": "<your assessment of the borrower's trade thesis>"
}`}function ydt(t){let e=vdt(t),r=JSON.parse(e);return{shouldBorrow:!!r.shouldBorrow,amount:Math.max(0,Math.min(5e4,Number(r.amount)||0)),interestRate:Math.max(0,Math.min(1,Number(r.interestRate)||.05)),duration:Math.max(1,Math.min(6,Math.round(Number(r.duration)||2))),reasoning:String(r.reasoning||"No reasoning provided")}}function bdt(t){let e=vdt(t),r=JSON.parse(e);return{shouldLend:!!r.shouldLend,amountWilling:Math.max(0,Number(r.amountWilling)||0),counterRate:Math.max(0,Math.min(1,Number(r.counterRate)||.05)),reasoning:String(r.reasoning||"No reasoning provided"),riskAssessment:String(r.riskAssessment||"No assessment provided")}}function vdt(t){let e=t.trim();e.startsWith("```json")?e=e.slice(7):e.startsWith("```")&&(e=e.slice(3)),e.endsWith("```")&&(e=e.slice(0,-3)),e=e.trim();let r=e.match(/\{[\s\S]*\}/);if(!r)throw new Error(`No JSON found in LLM response: ${t.slice(0,200)}`);return r[0]}var jy={};wr(jy,{AbiCoder:()=>ad,AbstractProvider:()=>ld,AbstractSigner:()=>ud,AlchemyProvider:()=>tx,AnkrProvider:()=>ex,BaseContract:()=>wg,BaseWallet:()=>Cg,Block:()=>J_,BlockscoutProvider:()=>sO,BrowserProvider:()=>oO,ChainstackProvider:()=>rx,CloudflareProvider:()=>nx,ConstructorFragment:()=>Kf,Contract:()=>Lc,ContractEventPayload:()=>W_,ContractFactory:()=>FN,ContractTransactionReceipt:()=>e6,ContractTransactionResponse:()=>Sg,ContractUnknownEventPayload:()=>Py,EnsPlugin:()=>My,EnsResolver:()=>ky,ErrorDescription:()=>YE,ErrorFragment:()=>Ua,EtherSymbol:()=>nye,EtherscanPlugin:()=>qN,EtherscanProvider:()=>ix,EventFragment:()=>Wf,EventLog:()=>xg,EventPayload:()=>ug,FallbackFragment:()=>j_,FallbackProvider:()=>ux,FeeData:()=>Ny,FeeDataNetworkPlugin:()=>HN,FetchCancelSignal:()=>OE,FetchRequest:()=>nn,FetchResponse:()=>lp,FetchUrlFeeDataNetworkPlugin:()=>X_,FixedNumber:()=>_y,Fragment:()=>Xf,FunctionFragment:()=>Qf,GasCostPlugin:()=>Dy,HDNodeVoidWallet:()=>hx,HDNodeWallet:()=>Og,Indexed:()=>q_,InfuraProvider:()=>Hy,InfuraWebSocketProvider:()=>d6,Interface:()=>vg,IpcSocketProvider:()=>cO,JsonRpcApiProvider:()=>$y,JsonRpcProvider:()=>Zn,JsonRpcSigner:()=>By,LangEn:()=>Bc,Log:()=>Sl,LogDescription:()=>QE,MaxInt256:()=>rye,MaxUint256:()=>eye,MessagePrefix:()=>IN,MinInt256:()=>tye,Mnemonic:()=>em,MulticoinProviderPlugin:()=>t6,N:()=>Y1e,NamedFragment:()=>bg,Network:()=>Ir,NetworkPlugin:()=>Ap,NonceManager:()=>iO,ParamType:()=>Ui,PocketProvider:()=>aO,QuickNodeProvider:()=>lx,Result:()=>dp,Signature:()=>Xi,SigningKey:()=>Ts,SocketBlockSubscriber:()=>c6,SocketEventSubscriber:()=>u6,SocketPendingSubscriber:()=>l6,SocketProvider:()=>Rg,SocketSubscriber:()=>Vy,StructFragment:()=>Iy,Transaction:()=>xl,TransactionDescription:()=>XE,TransactionReceipt:()=>_g,TransactionResponse:()=>Yf,Typed:()=>En,TypedDataEncoder:()=>sd,UndecodedEventLog:()=>Oy,UnmanagedSubscriber:()=>Ep,Utf8ErrorFuncs:()=>AV,VoidSigner:()=>Z_,Wallet:()=>hO,WebSocketProvider:()=>Ig,WeiPerEther:()=>Z1e,Wordlist:()=>El,WordlistOwl:()=>Fa,WordlistOwlA:()=>Pg,ZeroAddress:()=>bp,ZeroHash:()=>zE,accessListify:()=>Rs,assert:()=>ce,assertArgument:()=>W,assertArgumentCount:()=>E_,assertNormalize:()=>T_,assertPrivate:()=>As,authorizationify:()=>F_,checkResultErrors:()=>PV,computeAddress:()=>_p,computeHmac:()=>pp,concat:()=>Gt,copyRequest:()=>cd,dataLength:()=>Dc,dataSlice:()=>Gr,decodeBase58:()=>gN,decodeBase64:()=>yN,decodeBytes32String:()=>Lye,decodeRlp:()=>dg,decryptCrowdsaleJson:()=>v6,decryptKeystoreJson:()=>mO,decryptKeystoreJsonSync:()=>fO,defaultPath:()=>y6,defineProperties:()=>Me,dnsEncode:()=>LN,encodeBase58:()=>I_,encodeBase64:()=>bN,encodeBytes32String:()=>Mye,encodeRlp:()=>sa,encryptKeystoreJson:()=>mx,encryptKeystoreJsonSync:()=>fx,ensNormalize:()=>hH,formatEther:()=>N1e,formatUnits:()=>IV,fromTwos:()=>cg,getAccountPath:()=>Mbe,getAddress:()=>Ct,getBigInt:()=>Ke,getBytes:()=>Ie,getBytesCopy:()=>An,getCreate2Address:()=>cye,getCreateAddress:()=>$_,getDefaultProvider:()=>Abe,getIcapAddress:()=>aye,getIndexedAccountPath:()=>Lbe,getNumber:()=>At,getUint:()=>R_,hashAuthorization:()=>GE,hashMessage:()=>KE,hexlify:()=>ve,id:()=>Si,isAddress:()=>uye,isAddressable:()=>VE,isBytesLike:()=>ap,isCallException:()=>vy,isCrowdsaleJson:()=>b6,isError:()=>Qr,isHexString:()=>br,isKeystoreJson:()=>g6,isValidName:()=>Rye,keccak256:()=>mr,lock:()=>lft,makeError:()=>Er,mask:()=>bl,namehash:()=>Ry,parseEther:()=>O1e,parseUnits:()=>CV,pbkdf2:()=>Ba,randomBytes:()=>ca,recoverAddress:()=>xp,resolveAddress:()=>qn,resolveProperties:()=>Ln,ripemd160:()=>hp,scrypt:()=>gp,scryptSync:()=>yp,sha256:()=>Qi,sha512:()=>P_,showThrottleMessage:()=>Cs,solidityPacked:()=>BN,solidityPackedKeccak256:()=>Cye,solidityPackedSha256:()=>Nye,stripZerosLeft:()=>E1e,toBeArray:()=>Hr,toBeHex:()=>ts,toBigInt:()=>id,toNumber:()=>hN,toQuantity:()=>Lo,toTwos:()=>lg,toUtf8Bytes:()=>jr,toUtf8CodePoints:()=>R1e,toUtf8String:()=>Ki,uuidV4:()=>_N,verifyAuthorization:()=>hye,verifyMessage:()=>Iye,verifyTypedData:()=>kye,version:()=>IE,wordlists:()=>Qbe,zeroPadBytes:()=>ag,zeroPadValue:()=>Wi});var IE="6.16.0";function Dcr(t,e,r){let n=e.split("|").map(o=>o.trim());for(let o=0;o<n.length;o++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}let i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${r}`,i.value=t,i}async function Ln(t){let e=Object.keys(t);return(await Promise.all(e.map(n=>Promise.resolve(t[n])))).reduce((n,i,o)=>(n[e[o]]=i,n),{})}function Me(t,e,r){for(let n in e){let i=e[n],o=r?r[n]:null;o&&Dcr(i,o,n),Object.defineProperty(t,n,{enumerable:!0,value:i,writable:!1})}}function CE(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(r=>CE(r,e)).join(", ")+" ]";if(t instanceof Uint8Array){let r="0123456789abcdef",n="0x";for(let i=0;i<t.length;i++)n+=r[t[i]>>4],n+=r[t[i]&15];return n}if(typeof t=="object"&&typeof t.toJSON=="function")return CE(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{let r=Object.keys(t);return r.sort(),"{ "+r.map(n=>`${CE(n,e)}: ${CE(t[n],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Qr(t,e){return t&&t.code===e}function vy(t){return Qr(t,"CALL_EXCEPTION")}function Er(t,e,r){let n=t;{let o=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${CE(r)}`);for(let s in r){if(s==="shortMessage")continue;let a=r[s];o.push(s+"="+CE(a))}}o.push(`code=${e}`),o.push(`version=${IE}`),o.length&&(t+=" ("+o.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return Me(i,{code:e}),r&&Object.assign(i,r),i.shortMessage==null&&Me(i,{shortMessage:n}),i}function ce(t,e,r,n){if(!t)throw Er(e,r,n)}function W(t,e,r,n){ce(t,e,"INVALID_ARGUMENT",{argument:r,value:n})}function E_(t,e,r){r==null&&(r=""),r&&(r=": "+r),ce(t>=e,"missing argument"+r,"MISSING_ARGUMENT",{count:t,expectedCount:e}),ce(t<=e,"too many arguments"+r,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}var Mcr=["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"\xE9".normalize("NFD")!=="e\u0301")throw new Error("broken");t.push(e)}catch{}return t},[]);function T_(t){ce(Mcr.indexOf(t)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:t}})}function As(t,e,r){if(r==null&&(r=""),t!==e){let n=r,i="new";r&&(n+=".",i+=" "+r),ce(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function xdt(t,e,r){if(t instanceof Uint8Array)return r?new Uint8Array(t):t;if(typeof t=="string"&&t.length%2===0&&t.match(/^0x[0-9a-f]*$/i)){let n=new Uint8Array((t.length-2)/2),i=2;for(let o=0;o<n.length;o++)n[o]=parseInt(t.substring(i,i+2),16),i+=2;return n}W(!1,"invalid BytesLike value",e||"value",t)}function Ie(t,e){return xdt(t,e,!1)}function An(t,e){return xdt(t,e,!0)}function br(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function ap(t){return br(t,!0)||t instanceof Uint8Array}var _dt="0123456789abcdef";function ve(t){let e=Ie(t),r="0x";for(let n=0;n<e.length;n++){let i=e[n];r+=_dt[(i&240)>>4]+_dt[i&15]}return r}function Gt(t){return"0x"+t.map(e=>ve(e).substring(2)).join("")}function Dc(t){return br(t,!0)?(t.length-2)/2:Ie(t).length}function Gr(t,e,r){let n=Ie(t);return r!=null&&r>n.length&&ce(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r}),ve(n.slice(e??0,r??n.length))}function E1e(t){let e=ve(t).substring(2);for(;e.startsWith("00");)e=e.substring(2);return"0x"+e}function Sdt(t,e,r){let n=Ie(t);ce(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});let i=new Uint8Array(e);return i.fill(0),r?i.set(n,e-n.length):i.set(n,0),ve(i)}function Wi(t,e){return Sdt(t,e,!0)}function ag(t,e){return Sdt(t,e,!1)}var mN=BigInt(0),cp=BigInt(1),NE=9007199254740991;function cg(t,e){let r=R_(t,"value"),n=BigInt(At(e,"width"));if(ce(r>>n===mN,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),r>>n-cp){let i=(cp<<n)-cp;return-((~r&i)+cp)}return r}function lg(t,e){let r=Ke(t,"value"),n=BigInt(At(e,"width")),i=cp<<n-cp;if(r<mN){r=-r,ce(r<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});let o=(cp<<n)-cp;return(~r&o)+cp}else ce(r<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return r}function bl(t,e){let r=R_(t,"value"),n=BigInt(At(e,"bits"));return r&(cp<<n)-cp}function Ke(t,e){switch(typeof t){case"bigint":return t;case"number":return W(Number.isInteger(t),"underflow",e||"value",t),W(t>=-NE&&t<=NE,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(r){W(!1,`invalid BigNumberish string: ${r.message}`,e||"value",t)}}W(!1,"invalid BigNumberish value",e||"value",t)}function R_(t,e){let r=Ke(t,e);return ce(r>=mN,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),r}var wdt="0123456789abcdef";function id(t){if(t instanceof Uint8Array){let e="0x0";for(let r of t)e+=wdt[r>>4],e+=wdt[r&15];return BigInt(e)}return Ke(t)}function At(t,e){switch(typeof t){case"bigint":return W(t>=-NE&&t<=NE,"overflow",e||"value",t),Number(t);case"number":return W(Number.isInteger(t),"underflow",e||"value",t),W(t>=-NE&&t<=NE,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return At(BigInt(t),e)}catch(r){W(!1,`invalid numeric string: ${r.message}`,e||"value",t)}}W(!1,"invalid numeric value",e||"value",t)}function hN(t){return At(id(t))}function ts(t,e){let r=R_(t,"value"),n=r.toString(16);if(e==null)n.length%2&&(n="0"+n);else{let i=At(e,"width");if(i===0&&r===mN)return"0x";for(ce(i*2>=n.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});n.length<i*2;)n="0"+n}return"0x"+n}function Hr(t,e){let r=R_(t,"value");if(r===mN){let o=e!=null?At(e,"width"):0;return new Uint8Array(o)}let n=r.toString(16);if(n.length%2&&(n="0"+n),e!=null){let o=At(e,"width");for(;n.length<o*2;)n="00"+n;ce(o*2===n.length,`value exceeds width (${o} bytes)`,"NUMERIC_FAULT",{operation:"toBeArray",fault:"overflow",value:t})}let i=new Uint8Array(n.length/2);for(let o=0;o<i.length;o++){let s=o*2;i[o]=parseInt(n.substring(s,s+2),16)}return i}function Lo(t){let e=ve(ap(t)?t:Hr(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}var wV="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",SV=null;function Lcr(t){if(SV==null){SV={};for(let r=0;r<wV.length;r++)SV[wV[r]]=BigInt(r)}let e=SV[t];return W(e!=null,"invalid base58 value","letter",t),e}var Bcr=BigInt(0),T1e=BigInt(58);function I_(t){let e=Ie(t),r=id(e),n="";for(;r;)n=wV[Number(r%T1e)]+n,r/=T1e;for(let i=0;i<e.length&&!e[i];i++)n=wV[0]+n;return n}function gN(t){let e=Bcr;for(let r=0;r<t.length;r++)e*=T1e,e+=Lcr(t[r]);return e}function yN(t){return An(Buffer.from(t,"base64"))}function bN(t){return Buffer.from(Ie(t)).toString("base64")}var ug=class{filter;emitter;#e;constructor(e,r,n){this.#e=r,Me(this,{emitter:e,filter:n})}async removeListener(){this.#e!=null&&await this.emitter.off(this.filter,this.#e)}};function $cr(t,e,r,n,i){W(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function Adt(t,e,r,n,i){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let o=0;for(let s=e+1;s<r.length&&r[s]>>6===2;s++)o++;return o}return t==="OVERRUN"?r.length-e-1:0}function Ucr(t,e,r,n,i){return t==="OVERLONG"?(W(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),n.push(i),0):(n.push(65533),Adt(t,e,r,n,i))}var AV=Object.freeze({error:$cr,ignore:Adt,replace:Ucr});function Edt(t,e){e==null&&(e=AV.error);let r=Ie(t,"bytes"),n=[],i=0;for(;i<r.length;){let o=r[i++];if(o>>7===0){n.push(o);continue}let s=null,a=null;if((o&224)===192)s=1,a=127;else if((o&240)===224)s=2,a=2047;else if((o&248)===240)s=3,a=65535;else{(o&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,r,n):i+=e("BAD_PREFIX",i-1,r,n);continue}if(i-1+s>=r.length){i+=e("OVERRUN",i-1,r,n);continue}let c=o&(1<<8-s-1)-1;for(let l=0;l<s;l++){let u=r[i];if((u&192)!=128){i+=e("MISSING_CONTINUE",i,r,n),c=null;break}c=c<<6|u&63,i++}if(c!==null){if(c>1114111){i+=e("OUT_OF_RANGE",i-1-s,r,n,c);continue}if(c>=55296&&c<=57343){i+=e("UTF16_SURROGATE",i-1-s,r,n,c);continue}if(c<=a){i+=e("OVERLONG",i-1-s,r,n,c);continue}n.push(c)}}return n}function jr(t,e){W(typeof t=="string","invalid string value","str",t),e!=null&&(T_(e),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;let o=t.charCodeAt(n);W(n<t.length&&(o&64512)===56320,"invalid surrogate pair","str",t);let s=65536+((i&1023)<<10)+(o&1023);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return new Uint8Array(r)}function Fcr(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Ki(t,e){return Fcr(Edt(t,e))}function R1e(t,e){return Edt(jr(t,e))}import zcr from"http";import Vcr from"https";import{gunzipSync as Hcr}from"zlib";function EV(t){async function e(r,n){ce(n==null||!n.cancelled,"request cancelled before sending","CANCELLED");let i=r.url.split(":")[0].toLowerCase();ce(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),ce(i==="https"||!r.credentials||r.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let o=r.method,s=Object.assign({},r.headers),a={method:o,headers:s};t&&t.agent&&(a.agent=t.agent);let c=null;try{c=new AbortController,a.abort=c.signal}catch(d){console.log(d)}let l=(i==="http"?zcr:Vcr).request(r.url,a);l.setTimeout(r.timeout);let u=r.body;return u&&l.write(Buffer.from(u)),l.end(),new Promise((d,p)=>{n&&n.addListener(()=>{c&&c.abort(),p(Er("request cancelled","CANCELLED"))}),l.on("timeout",()=>{p(Er("request timeout","TIMEOUT"))}),l.once("response",f=>{let h=f.statusCode||0,m=f.statusMessage||"",g=Object.keys(f.headers||{}).reduce((_,x)=>{let E=f.headers[x]||"";return Array.isArray(E)&&(E=E.join(", ")),_[x]=E,_},{}),b=null;f.on("data",_=>{if(n)try{n.checkSignal()}catch(x){return p(x)}if(b==null)b=_;else{let x=new Uint8Array(b.length+_.length);x.set(b,0),x.set(_,b.length),b=x}}),f.on("end",()=>{try{g["content-encoding"]==="gzip"&&b&&(b=Ie(Hcr(b))),d({statusCode:h,statusMessage:m,headers:g,body:b})}catch(_){p(Er("bad response data","SERVER_ERROR",{request:r,info:{response:f,error:_}}))}}),f.on("error",_=>{_.response={statusCode:h,statusMessage:m,headers:g,body:b},p(_)})}),l.on("error",f=>{p(f)})})}return e}var tei=EV({});var Gcr=12,jcr=250,Tdt=EV(),qcr=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),Jcr=new RegExp("^ipfs://(ipfs/)?(.*)$","i"),I1e=!1;async function Idt(t,e){try{let r=t.match(qcr);if(!r)throw new Error("invalid data");return new lp(200,"OK",{"content-type":r[1]||"text/plain"},r[2]?yN(r[3]):Wcr(r[3]))}catch{return new lp(599,"BAD REQUEST (invalid data: URI)",{},null,new nn(t))}}function Cdt(t){async function e(r,n){try{let i=r.match(Jcr);if(!i)throw new Error("invalid link");return new nn(`${t}${i[2]}`)}catch{return new lp(599,"BAD REQUEST (invalid IPFS URI)",{},null,new nn(r))}}return e}var TV={data:Idt,ipfs:Cdt("https://gateway.ipfs.io/ipfs/")},Ndt=new WeakMap,OE=class{#e;#t;constructor(e){this.#e=[],this.#t=!1,Ndt.set(e,()=>{if(!this.#t){this.#t=!0;for(let r of this.#e)setTimeout(()=>{r()},0);this.#e=[]}})}addListener(e){ce(!this.#t,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#e.push(e)}get cancelled(){return this.#t}checkSignal(){ce(!this.cancelled,"cancelled","CANCELLED",{})}};function RV(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var nn=class t{#e;#t;#r;#n;#i;#o;#s;#a;#u;#l;#f;#m;#c;#d;#p;get url(){return this.#o}set url(e){this.#o=String(e)}get body(){return this.#s==null?null:new Uint8Array(this.#s)}set body(e){if(e==null)this.#s=void 0,this.#a=void 0;else if(typeof e=="string")this.#s=jr(e),this.#a="text/plain";else if(e instanceof Uint8Array)this.#s=e,this.#a="application/octet-stream";else if(typeof e=="object")this.#s=jr(JSON.stringify(e)),this.#a="application/json";else throw new Error("invalid body")}hasBody(){return this.#s!=null}get method(){return this.#n?this.#n:this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),this.#n=String(e).toUpperCase()}get headers(){let e=Object.assign({},this.#r);return this.#u&&(e.authorization=`Basic ${bN(jr(this.#u))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&this.#a&&(e["content-type"]=this.#a),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,r){this.#r[String(e).toLowerCase()]=String(r)}clearHeaders(){this.#r={}}[Symbol.iterator](){let e=this.headers,r=Object.keys(e),n=0;return{next:()=>{if(n<r.length){let i=r[n++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#u||null}setCredentials(e,r){W(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#u=`${e}:${r}`}get allowGzip(){return this.#t}set allowGzip(e){this.#t=!!e}get allowInsecureAuthentication(){return!!this.#e}set allowInsecureAuthentication(e){this.#e=!!e}get timeout(){return this.#i}set timeout(e){W(e>=0,"timeout must be non-zero","timeout",e),this.#i=e}get preflightFunc(){return this.#l||null}set preflightFunc(e){this.#l=e}get processFunc(){return this.#f||null}set processFunc(e){this.#f=e}get retryFunc(){return this.#m||null}set retryFunc(e){this.#m=e}get getUrlFunc(){return this.#p||Tdt}set getUrlFunc(e){this.#p=e}constructor(e){this.#o=String(e),this.#e=!1,this.#t=!0,this.#r={},this.#n="",this.#i=3e5,this.#d={slotInterval:jcr,maxAttempts:Gcr},this.#p=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#s?ve(this.#s):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(this.#d.slotInterval=e.slotInterval),e.maxAttempts!=null&&(this.#d.maxAttempts=e.maxAttempts)}async#h(e,r,n,i,o){if(e>=this.#d.maxAttempts)return o.makeServerError("exceeded maximum retry limit");ce(Rdt()<=r,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),n>0&&await Kcr(n);let s=this.clone(),a=(s.url.split(":")[0]||"").toLowerCase();if(a in TV){let u=await TV[a](s.url,RV(i.#c));if(u instanceof lp){let d=u;if(this.processFunc){RV(i.#c);try{d=await this.processFunc(s,d)}catch(p){(p.throttle==null||typeof p.stall!="number")&&d.makeServerError("error in post-processing function",p).assertOk()}}return d}s=u}this.preflightFunc&&(s=await this.preflightFunc(s));let c=await this.getUrlFunc(s,RV(i.#c)),l=new lp(c.statusCode,c.statusMessage,c.headers,c.body,i);if(l.statusCode===301||l.statusCode===302){try{let u=l.headers.location||"";return s.redirect(u).#h(e+1,r,0,i,l)}catch{}return l}else if(l.statusCode===429&&(this.retryFunc==null||await this.retryFunc(s,l,e))){let u=l.headers["retry-after"],d=this.#d.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof u=="string"&&u.match(/^[1-9][0-9]*$/)&&(d=parseInt(u)),s.clone().#h(e+1,r,d,i,l)}if(this.processFunc){RV(i.#c);try{l=await this.processFunc(s,l)}catch(u){(u.throttle==null||typeof u.stall!="number")&&l.makeServerError("error in post-processing function",u).assertOk();let d=this.#d.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return u.stall>=0&&(d=u.stall),s.clone().#h(e+1,r,d,i,l)}}return l}send(){return ce(this.#c==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#c=new OE(this),this.#h(0,Rdt()+this.timeout,0,this,new lp(0,"",{},null,this))}cancel(){ce(this.#c!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});let e=Ndt.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){let r=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();ce(this.method==="GET"&&(r!=="https"||n!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});let i=new t(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,i.#r=Object.assign({},this.#r),this.#s&&(i.#s=new Uint8Array(this.#s)),i.#a=this.#a,i}clone(){let e=new t(this.url);return e.#n=this.#n,this.#s&&(e.#s=this.#s),e.#a=this.#a,e.#r=Object.assign({},this.#r),e.#u=this.#u,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#l=this.#l,e.#f=this.#f,e.#m=this.#m,e.#d=Object.assign({},this.#d),e.#p=this.#p,e}static lockConfig(){I1e=!0}static getGateway(e){return TV[e.toLowerCase()]||null}static registerGateway(e,r){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(I1e)throw new Error("gateways locked");TV[e]=r}static registerGetUrl(e){if(I1e)throw new Error("gateways locked");Tdt=e}static createGetUrlFunc(e){return EV(e)}static createDataGateway(){return Idt}static createIpfsGatewayFunc(e){return Cdt(e)}},lp=class t{#e;#t;#r;#n;#i;#o;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#n?ve(this.#n):"null"}>`}get statusCode(){return this.#e}get statusMessage(){return this.#t}get headers(){return Object.assign({},this.#r)}get body(){return this.#n==null?null:new Uint8Array(this.#n)}get bodyText(){try{return this.#n==null?"":Ki(this.#n)}catch{ce(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{ce(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){let e=this.headers,r=Object.keys(e),n=0;return{next:()=>{if(n<r.length){let i=r[n++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,r,n,i,o){this.#e=e,this.#t=r,this.#r=Object.keys(n).reduce((s,a)=>(s[a.toLowerCase()]=String(n[a]),s),{}),this.#n=i==null?null:new Uint8Array(i),this.#i=o||null,this.#o={message:""}}makeServerError(e,r){let n;e?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${e})`);let i=new t(599,n,this.headers,this.body,this.#i||void 0);return i.#o={message:e,error:r},i}throwThrottleError(e,r){r==null?r=-1:W(Number.isInteger(r)&&r>=0,"invalid stall timeout","stall",r);let n=new Error(e||"throttling requests");throw Me(n,{stall:r,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return this.#n!=null}get request(){return this.#i}ok(){return this.#o.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:r}=this.#o;e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let i=null;try{this.#n&&(i=Ki(this.#n))}catch{}ce(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:r,info:{requestUrl:n,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};function Rdt(){return new Date().getTime()}function Wcr(t){return jr(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function Kcr(t){return new Promise(e=>setTimeout(e,t))}var Qcr=BigInt(-1),up=BigInt(0),kE=BigInt(1),Xcr=BigInt(5),PE={},DE="0000";for(;DE.length<80;)DE+=DE;function C_(t){let e=DE;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function vN(t,e,r){let n=BigInt(e.width);if(e.signed){let i=kE<<n-kE;ce(r==null||t>=-i&&t<i,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t>up?t=cg(bl(t,n),n):t=-cg(bl(-t,n),n)}else{let i=kE<<n;ce(r==null||t>=0&&t<i,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t=(t%i+i)%i&i-kE}return t}function C1e(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,r=128,n=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{let o=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);W(o,"invalid fixed format","format",t),e=o[1]!=="u",r=parseInt(o[2]),n=parseInt(o[3])}}else if(t){let o=t,s=(a,c,l)=>o[a]==null?l:(W(typeof o[a]===c,"invalid fixed format ("+a+" not "+c+")","format."+a,o[a]),o[a]);e=s("signed","boolean",e),r=s("width","number",r),n=s("decimals","number",n)}W(r%8===0,"invalid FixedNumber width (not byte aligned)","format.width",r),W(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);let i=(e?"":"u")+"fixed"+String(r)+"x"+String(n);return{signed:e,width:r,decimals:n,name:i}}function Ycr(t,e){let r="";t<up&&(r="-",t*=Qcr);let n=t.toString();if(e===0)return r+n;for(;n.length<=e;)n=DE+n;let i=n.length-e;for(n=n.substring(0,i)+"."+n.substring(i);n[0]==="0"&&n[1]!==".";)n=n.substring(1);for(;n[n.length-1]==="0"&&n[n.length-2]!==".";)n=n.substring(0,n.length-1);return r+n}var _y=class t{format;#e;#t;#r;_value;constructor(e,r,n){As(e,PE,"FixedNumber"),this.#t=r,this.#e=n;let i=Ycr(r,n.decimals);Me(this,{format:n.name,_value:i}),this.#r=C_(n.decimals)}get signed(){return this.#e.signed}get width(){return this.#e.width}get decimals(){return this.#e.decimals}get value(){return this.#t}#n(e){W(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}#i(e,r){return e=vN(e,this.#e,r),new t(PE,e,this.#e)}#o(e,r){return this.#n(e),this.#i(this.#t+e.#t,r)}addUnsafe(e){return this.#o(e)}add(e){return this.#o(e,"add")}#s(e,r){return this.#n(e),this.#i(this.#t-e.#t,r)}subUnsafe(e){return this.#s(e)}sub(e){return this.#s(e,"sub")}#a(e,r){return this.#n(e),this.#i(this.#t*e.#t/this.#r,r)}mulUnsafe(e){return this.#a(e)}mul(e){return this.#a(e,"mul")}mulSignal(e){this.#n(e);let r=this.#t*e.#t;return ce(r%this.#r===up,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#i(r/this.#r,"mulSignal")}#u(e,r){return ce(e.#t!==up,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#n(e),this.#i(this.#t*this.#r/e.#t,r)}divUnsafe(e){return this.#u(e)}div(e){return this.#u(e,"div")}divSignal(e){ce(e.#t!==up,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#n(e);let r=this.#t*this.#r;return ce(r%e.#t===up,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#i(r/e.#t,"divSignal")}cmp(e){let r=this.value,n=e.value,i=this.decimals-e.decimals;return i>0?n*=C_(i):i<0&&(r*=C_(-i)),r<n?-1:r>n?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=this.#t;return this.#t<up&&(e-=this.#r-kE),e=this.#t/this.#r*this.#r,this.#i(e,"floor")}ceiling(){let e=this.#t;return this.#t>up&&(e+=this.#r-kE),e=this.#t/this.#r*this.#r,this.#i(e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;let r=this.decimals-e,n=Xcr*C_(r-1),i=this.value+n,o=C_(r);return i=i/o*o,vN(i,this.#e,"round"),new t(PE,i,this.#e)}isZero(){return this.#t===up}isNegative(){return this.#t<up}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return t.fromString(this.toString(),e)}static fromValue(e,r,n){let i=r==null?0:At(r),o=C1e(n),s=Ke(e,"value"),a=i-o.decimals;if(a>0){let c=C_(a);ce(s%c===up,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),s/=c}else a<0&&(s*=C_(-a));return vN(s,o,"fromValue"),new t(PE,s,o)}static fromString(e,r){let n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);W(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);let i=C1e(r),o=n[2]||"0",s=n[3]||"";for(;s.length<i.decimals;)s+=DE;ce(s.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),s=s.substring(0,i.decimals);let a=BigInt(n[1]+o+s);return vN(a,i,"fromString"),new t(PE,a,i)}static fromBytes(e,r){let n=id(Ie(e,"value")),i=C1e(r);return i.signed&&(n=cg(n,i.width)),vN(n,i,"fromBytes"),new t(PE,n,i)}};function Zcr(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function Odt(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function Pdt(t,e,r,n){let i=[];for(;r<e+1+n;){let o=kdt(t,r);i.push(o.result),r+=o.consumed,ce(r<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:t,length:n,offset:e})}return{consumed:1+n,result:i}}function kdt(t,e){ce(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});let r=n=>{ce(n<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:n})};if(t[e]>=248){let n=t[e]-247;r(e+1+n);let i=Odt(t,e+1,n);return r(e+1+n+i),Pdt(t,e,e+1+n,n+i)}else if(t[e]>=192){let n=t[e]-192;return r(e+1+n),Pdt(t,e,e+1,n)}else if(t[e]>=184){let n=t[e]-183;r(e+1+n);let i=Odt(t,e+1,n);r(e+1+n+i);let o=ve(t.slice(e+1+n,e+1+n+i));return{consumed:1+n+i,result:o}}else if(t[e]>=128){let n=t[e]-128;r(e+1+n);let i=ve(t.slice(e+1,e+1+n));return{consumed:1+n,result:i}}return{consumed:1,result:Zcr(t[e])}}function dg(t){let e=Ie(t,"data"),r=kdt(e,0);return W(r.consumed===e.length,"unexpected junk after rlp payload","data",t),r.result}function Ddt(t){let e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function Ldt(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(o){n=n.concat(Ldt(o))}),n.length<=55)return n.unshift(192+n.length),n;let i=Ddt(n.length);return i.unshift(247+i.length),i.concat(n)}let e=Array.prototype.slice.call(Ie(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;let r=Ddt(e.length);return r.unshift(183+r.length),r.concat(e)}var Mdt="0123456789abcdef";function sa(t){let e="0x";for(let r of Ldt(t))e+=Mdt[r>>4],e+=Mdt[r&15];return e}var Bdt=["wei","kwei","mwei","gwei","szabo","finney","ether"];function IV(t,e){let r=18;if(typeof e=="string"){let n=Bdt.indexOf(e);W(n>=0,"invalid unit","unit",e),r=3*n}else e!=null&&(r=At(e,"unit"));return _y.fromValue(t,r,{decimals:r,width:512}).toString()}function CV(t,e){W(typeof t=="string","value must be a string","value",t);let r=18;if(typeof e=="string"){let n=Bdt.indexOf(e);W(n>=0,"invalid unit","unit",e),r=3*n}else e!=null&&(r=At(e,"unit"));return _y.fromString(t,{decimals:r,width:512}).value}function N1e(t){return IV(t,18)}function O1e(t){return CV(t,18)}function _N(t){let e=Ie(t,"randomBytes");e[6]=e[6]&15|64,e[8]=e[8]&63|128;let r=ve(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}var Es=32,P1e=new Uint8Array(Es),elr=["then"],NV={},Fdt=new WeakMap;function N_(t){return Fdt.get(t)}function $dt(t,e){Fdt.set(t,e)}function xN(t,e){let r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw r.error=e,r}function k1e(t,e,r){return t.indexOf(null)>=0?e.map((n,i)=>n instanceof dp?k1e(N_(n),n,r):n):t.reduce((n,i,o)=>{let s=e.getValue(i);return i in n||(r&&s instanceof dp&&(s=k1e(N_(s),s,r)),n[i]=s),n},{})}var dp=class t extends Array{#e;constructor(...e){let r=e[0],n=e[1],i=(e[2]||[]).slice(),o=!0;r!==NV&&(n=e,i=[],o=!1),super(n.length),n.forEach((c,l)=>{this[l]=c});let s=i.reduce((c,l)=>(typeof l=="string"&&c.set(l,(c.get(l)||0)+1),c),new Map);if($dt(this,Object.freeze(n.map((c,l)=>{let u=i[l];return u!=null&&s.get(u)===1?u:null}))),this.#e=[],this.#e==null&&this.#e,!o)return;Object.freeze(this);let a=new Proxy(this,{get:(c,l,u)=>{if(typeof l=="string"){if(l.match(/^[0-9]+$/)){let p=At(l,"%index");if(p<0||p>=this.length)throw new RangeError("out of result range");let f=c[p];return f instanceof Error&&xN(`index ${p}`,f),f}if(elr.indexOf(l)>=0)return Reflect.get(c,l,u);let d=c[l];if(d instanceof Function)return function(...p){return d.apply(this===u?c:this,p)};if(!(l in c))return c.getValue.apply(this===u?c:this,[l])}return Reflect.get(c,l,u)}});return $dt(a,N_(this)),a}toArray(e){let r=[];return this.forEach((n,i)=>{n instanceof Error&&xN(`index ${i}`,n),e&&n instanceof t&&(n=n.toArray(e)),r.push(n)}),r}toObject(e){let r=N_(this);return r.reduce((n,i,o)=>(ce(i!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),k1e(r,this,e)),{})}slice(e,r){e==null&&(e=0),e<0&&(e+=this.length,e<0&&(e=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);let n=N_(this),i=[],o=[];for(let s=e;s<r;s++)i.push(this[s]),o.push(n[s]);return new t(NV,i,o)}filter(e,r){let n=N_(this),i=[],o=[];for(let s=0;s<this.length;s++){let a=this[s];a instanceof Error&&xN(`index ${s}`,a),e.call(r,a,s,this)&&(i.push(a),o.push(n[s]))}return new t(NV,i,o)}map(e,r){let n=[];for(let i=0;i<this.length;i++){let o=this[i];o instanceof Error&&xN(`index ${i}`,o),n.push(e.call(r,o,i,this))}return n}getValue(e){let r=N_(this).indexOf(e);if(r===-1)return;let n=this[r];return n instanceof Error&&xN(`property ${JSON.stringify(e)}`,n.error),n}static fromItems(e,r){return new t(NV,e,r)}};function PV(t){let e=[],r=function(n,i){if(Array.isArray(i))for(let o in i){let s=n.slice();s.push(o);try{r(s,i[o])}catch(a){e.push({path:s,error:a})}}};return r([],t),e}function Udt(t){let e=Hr(t);return ce(e.length<=Es,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:Es,offset:e.length}),e.length!==Es&&(e=An(Gt([P1e.slice(e.length%Es),e]))),e}var wo=class{name;type;localName;dynamic;constructor(e,r,n,i){Me(this,{name:e,type:r,localName:n,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,r){W(!1,e,this.localName,r)}},O_=class{#e;#t;constructor(){this.#e=[],this.#t=0}get data(){return Gt(this.#e)}get length(){return this.#t}#r(e){return this.#e.push(e),this.#t+=e.length,e.length}appendWriter(e){return this.#r(An(e.data))}writeBytes(e){let r=An(e),n=r.length%Es;return n&&(r=An(Gt([r,P1e.slice(n)]))),this.#r(r)}writeValue(e){return this.#r(Udt(e))}writeUpdatableValue(){let e=this.#e.length;return this.#e.push(P1e),this.#t+=Es,r=>{this.#e[e]=Udt(r)}}},OV=class t{allowLoose;#e;#t;#r;#n;#i;constructor(e,r,n){Me(this,{allowLoose:!!r}),this.#e=An(e),this.#r=0,this.#n=null,this.#i=n??1024,this.#t=0}get data(){return ve(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#t}get bytes(){return new Uint8Array(this.#e)}#o(e){if(this.#n)return this.#n.#o(e);this.#r+=e,ce(this.#i<1||this.#r<=this.#i*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#i} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:An(this.#e),offset:this.#t,length:e,info:{bytesRead:this.#r,dataLength:this.dataLength}})}#s(e,r,n){let i=Math.ceil(r/Es)*Es;return this.#t+i>this.#e.length&&(this.allowLoose&&n&&this.#t+r<=this.#e.length?i=r:ce(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:An(this.#e),length:this.#e.length,offset:this.#t+i})),this.#e.slice(this.#t,this.#t+i)}subReader(e){let r=new t(this.#e.slice(this.#t+e),this.allowLoose,this.#i);return r.#n=this,r}readBytes(e,r){let n=this.#s(0,e,!!r);return this.#o(e),this.#t+=n.length,n.slice(0,e)}readValue(){return id(this.readBytes(Es))}readIndex(){return hN(this.readBytes(Es))}};import{createHash as D1e,createHmac as zdt,pbkdf2Sync as Vdt,randomBytes as Hdt}from"crypto";var Gdt=!1,jdt=function(t,e,r){return zdt(t,e).update(r).digest()},qdt=jdt;function pp(t,e,r){let n=Ie(e,"key"),i=Ie(r,"data");return ve(qdt(t,n,i))}pp._=jdt;pp.lock=function(){Gdt=!0};pp.register=function(t){if(Gdt)throw new Error("computeHmac is locked");qdt=t};Object.freeze(pp);function aa(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function SN(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function kV(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");aa(t.outputLen),aa(t.blockLen)}function pg(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function DV(t,e){SN(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var MV=BigInt(4294967295),Jdt=BigInt(32);function tlr(t,e=!1){return e?{h:Number(t&MV),l:Number(t>>Jdt&MV)}:{h:Number(t>>Jdt&MV)|0,l:Number(t&MV)|0}}function Wdt(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=tlr(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}var Kdt=(t,e,r)=>t<<r|e>>>32-r,Qdt=(t,e,r)=>e<<r|t>>>32-r,Xdt=(t,e,r)=>e<<r-32|t>>>64-r,Ydt=(t,e,r)=>t<<r-32|e>>>64-r;import*as wN from"node:crypto";var LV=wN&&typeof wN=="object"&&"webcrypto"in wN?wN.webcrypto:void 0;var Zdt=t=>t instanceof Uint8Array;var ME=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),LE=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),fp=(t,e)=>t<<32-e|t>>>e,rlr=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!rlr)throw new Error("Non little-endian hardware is not supported");var nlr=async()=>{};async function BV(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let o=Date.now()-n;o>=0&&o<e||(await nlr(),n+=o)}}function ilr(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function mp(t){if(typeof t=="string"&&(t=ilr(t)),!Zdt(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function ept(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!Zdt(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}var xy=class{clone(){return this._cloneInto()}},olr={}.toString;function $V(t,e){if(e!==void 0&&olr.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}function BE(t){let e=n=>t().update(mp(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function tpt(t){let e=(n,i)=>t(i).update(mp(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function rpt(t=32){if(LV&&typeof LV.getRandomValues=="function")return LV.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}var[opt,spt,apt]=[[],[],[]],slr=BigInt(0),AN=BigInt(1),alr=BigInt(2),clr=BigInt(7),llr=BigInt(256),ulr=BigInt(113);for(let t=0,e=AN,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],opt.push(2*(5*n+r)),spt.push((t+1)*(t+2)/2%64);let i=slr;for(let o=0;o<7;o++)e=(e<<AN^(e>>clr)*ulr)%llr,e&alr&&(i^=AN<<(AN<<BigInt(o))-AN);apt.push(i)}var[dlr,plr]=Wdt(apt,!0),npt=(t,e,r)=>r>32?Xdt(t,e,r):Kdt(t,e,r),ipt=(t,e,r)=>r>32?Ydt(t,e,r):Qdt(t,e,r);function flr(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){let a=(s+8)%10,c=(s+2)%10,l=r[c],u=r[c+1],d=npt(l,u,1)^r[a],p=ipt(l,u,1)^r[a+1];for(let f=0;f<50;f+=10)t[s+f]^=d,t[s+f+1]^=p}let i=t[2],o=t[3];for(let s=0;s<24;s++){let a=spt[s],c=npt(i,o,a),l=ipt(i,o,a),u=opt[s];i=t[u],o=t[u+1],t[u]=c,t[u+1]=l}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)r[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=dlr[n],t[1]^=plr[n]}r.fill(0)}var UV=class t extends xy{constructor(e,r,n,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,aa(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=ME(this.state)}keccak(){flr(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){pg(this);let{blockLen:r,state:n}=this;e=mp(e);let i=e.length;for(let o=0;o<i;){let s=Math.min(r-this.pos,i-o);for(let a=0;a<s;a++)n[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){pg(this,!1),SN(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=e.length;i<o;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,o-i);e.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return aa(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(DV(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new t(r,n,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}},Sy=(t,e,r)=>BE(()=>new UV(e,t,r)),nti=Sy(6,144,224/8),iti=Sy(6,136,256/8),oti=Sy(6,104,384/8),sti=Sy(6,72,512/8),ati=Sy(1,144,224/8),cpt=Sy(1,136,256/8),cti=Sy(1,104,384/8),lti=Sy(1,72,512/8),lpt=(t,e,r)=>tpt((n={})=>new UV(e,t,n.dkLen===void 0?r:n.dkLen,!0)),uti=lpt(31,168,128/8),dti=lpt(31,136,256/8);var upt=!1,dpt=function(t){return cpt(t)},ppt=dpt;function mr(t){let e=Ie(t,"data");return ve(ppt(e))}mr._=dpt;mr.lock=function(){upt=!0};mr.register=function(t){if(upt)throw new TypeError("keccak256 is locked");ppt=t};Object.freeze(mr);function mlr(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,l=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+l,a,n)}var $E=class extends xy{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=LE(this.buffer)}update(e){pg(this);let{view:r,buffer:n,blockLen:i}=this;e=mp(e);let o=e.length;for(let s=0;s<o;){let a=Math.min(i-this.pos,o-s);if(a===i){let c=LE(e);for(;i<=o-s;s+=i)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){pg(this),DV(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let d=s;d<i;d++)r[d]=0;mlr(n,i-8,BigInt(this.length*8),o),this.process(n,0);let a=LE(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return e.length=i,e.pos=a,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};var hlr=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),mpt=Uint8Array.from({length:16},(t,e)=>e),glr=mpt.map(t=>(9*t+5)%16),L1e=[mpt],B1e=[glr];for(let t=0;t<4;t++)for(let e of[L1e,B1e])e.push(e[t].map(r=>hlr[r]));var hpt=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),ylr=L1e.map((t,e)=>t.map(r=>hpt[e][r])),blr=B1e.map((t,e)=>t.map(r=>hpt[e][r])),vlr=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),_lr=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),FV=(t,e)=>t<<e|t>>>32-e;function fpt(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}var zV=new Uint32Array(16),M1e=class extends $E{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:r,h2:n,h3:i,h4:o}=this;return[e,r,n,i,o]}set(e,r,n,i,o){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=o|0}process(e,r){for(let f=0;f<16;f++,r+=4)zV[f]=e.getUint32(r,!0);let n=this.h0|0,i=n,o=this.h1|0,s=o,a=this.h2|0,c=a,l=this.h3|0,u=l,d=this.h4|0,p=d;for(let f=0;f<5;f++){let h=4-f,m=vlr[f],g=_lr[f],b=L1e[f],_=B1e[f],x=ylr[f],E=blr[f];for(let R=0;R<16;R++){let I=FV(n+fpt(f,o,a,l)+zV[b[R]]+m,x[R])+d|0;n=d,d=l,l=FV(a,10)|0,a=o,o=I}for(let R=0;R<16;R++){let I=FV(i+fpt(h,s,c,u)+zV[_[R]]+g,E[R])+p|0;i=p,p=u,u=FV(c,10)|0,c=s,s=I}}this.set(this.h1+a+u|0,this.h2+l+p|0,this.h3+d+i|0,this.h4+n+s|0,this.h0+o+c|0)}roundClean(){zV.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}},gpt=BE(()=>new M1e);var ypt=!1,bpt=function(t){return gpt(t)},vpt=bpt;function hp(t){let e=Ie(t,"data");return ve(vpt(e))}hp._=bpt;hp.lock=function(){ypt=!0};hp.register=function(t){if(ypt)throw new TypeError("ripemd160 is locked");vpt=t};Object.freeze(hp);var _pt=!1,xpt=function(t,e,r,n,i){return Vdt(t,e,r,n,i)},Spt=xpt;function Ba(t,e,r,n,i){let o=Ie(t,"password"),s=Ie(e,"salt");return ve(Spt(o,s,r,n,i))}Ba._=xpt;Ba.lock=function(){_pt=!0};Ba.register=function(t){if(_pt)throw new Error("pbkdf2 is locked");Spt=t};Object.freeze(Ba);var wpt=!1,Apt=function(t){return new Uint8Array(Hdt(t))},Ept=Apt;function ca(t){return Ept(t)}ca._=Apt;ca.lock=function(){wpt=!0};ca.register=function(t){if(wpt)throw new Error("randomBytes is locked");Ept=t};Object.freeze(ca);var xlr=(t,e,r)=>t&e^~t&r,Slr=(t,e,r)=>t&e^t&r^e&r,wlr=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),wy=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ay=new Uint32Array(64),$1e=class extends $E{constructor(){super(64,32,8,!1),this.A=wy[0]|0,this.B=wy[1]|0,this.C=wy[2]|0,this.D=wy[3]|0,this.E=wy[4]|0,this.F=wy[5]|0,this.G=wy[6]|0,this.H=wy[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:a,H:c}=this;return[e,r,n,i,o,s,a,c]}set(e,r,n,i,o,s,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,r){for(let d=0;d<16;d++,r+=4)Ay[d]=e.getUint32(r,!1);for(let d=16;d<64;d++){let p=Ay[d-15],f=Ay[d-2],h=fp(p,7)^fp(p,18)^p>>>3,m=fp(f,17)^fp(f,19)^f>>>10;Ay[d]=m+Ay[d-7]+h+Ay[d-16]|0}let{A:n,B:i,C:o,D:s,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){let p=fp(a,6)^fp(a,11)^fp(a,25),f=u+p+xlr(a,c,l)+wlr[d]+Ay[d]|0,m=(fp(n,2)^fp(n,13)^fp(n,22))+Slr(n,i,o)|0;u=l,l=c,c=a,a=s+f|0,s=o,o=i,i=n,n=f+m|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,i,o,s,a,c,l,u)}roundClean(){Ay.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var EN=BE(()=>new $1e);var VV=class extends xy{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,kV(e);let n=mp(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return pg(this),this.iHash.update(e),this}digestInto(e){pg(this),SN(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},TN=(t,e,r)=>new VV(t,e).update(r).digest();TN.create=(t,e)=>new VV(t,e);function Alr(t,e,r,n){kV(t);let i=$V({dkLen:32,asyncTick:10},n),{c:o,dkLen:s,asyncTick:a}=i;if(aa(o),aa(s),aa(a),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let c=mp(e),l=mp(r),u=new Uint8Array(s),d=TN.create(t,c),p=d._cloneInto().update(l);return{c:o,dkLen:s,asyncTick:a,DK:u,PRF:d,PRFSalt:p}}function Elr(t,e,r,n,i){return t.destroy(),e.destroy(),n&&n.destroy(),i.fill(0),r}function U1e(t,e,r,n){let{c:i,dkLen:o,DK:s,PRF:a,PRFSalt:c}=Alr(t,e,r,n),l,u=new Uint8Array(4),d=LE(u),p=new Uint8Array(a.outputLen);for(let f=1,h=0;h<o;f++,h+=a.outputLen){let m=s.subarray(h,h+a.outputLen);d.setInt32(0,f,!1),(l=c._cloneInto(l)).update(u).digestInto(p),m.set(p.subarray(0,m.length));for(let g=1;g<i;g++){a._cloneInto(l).update(p).digestInto(p);for(let b=0;b<m.length;b++)m[b]^=p[b]}}return Elr(a,c,s,l,p)}var Xr=(t,e)=>t<<e|t>>>32-e;function Tpt(t,e,r,n,i,o){let s=t[e++]^r[n++],a=t[e++]^r[n++],c=t[e++]^r[n++],l=t[e++]^r[n++],u=t[e++]^r[n++],d=t[e++]^r[n++],p=t[e++]^r[n++],f=t[e++]^r[n++],h=t[e++]^r[n++],m=t[e++]^r[n++],g=t[e++]^r[n++],b=t[e++]^r[n++],_=t[e++]^r[n++],x=t[e++]^r[n++],E=t[e++]^r[n++],R=t[e++]^r[n++],I=s,D=a,k=c,O=l,$=u,j=d,X=p,N=f,v=h,S=m,T=g,M=b,U=_,H=x,K=E,G=R;for(let w=0;w<8;w+=2)$^=Xr(I+U|0,7),v^=Xr($+I|0,9),U^=Xr(v+$|0,13),I^=Xr(U+v|0,18),S^=Xr(j+D|0,7),H^=Xr(S+j|0,9),D^=Xr(H+S|0,13),j^=Xr(D+H|0,18),K^=Xr(T+X|0,7),k^=Xr(K+T|0,9),X^=Xr(k+K|0,13),T^=Xr(X+k|0,18),O^=Xr(G+M|0,7),N^=Xr(O+G|0,9),M^=Xr(N+O|0,13),G^=Xr(M+N|0,18),D^=Xr(I+O|0,7),k^=Xr(D+I|0,9),O^=Xr(k+D|0,13),I^=Xr(O+k|0,18),X^=Xr(j+$|0,7),N^=Xr(X+j|0,9),$^=Xr(N+X|0,13),j^=Xr($+N|0,18),M^=Xr(T+S|0,7),v^=Xr(M+T|0,9),S^=Xr(v+M|0,13),T^=Xr(S+v|0,18),U^=Xr(G+K|0,7),H^=Xr(U+G|0,9),K^=Xr(H+U|0,13),G^=Xr(K+H|0,18);i[o++]=s+I|0,i[o++]=a+D|0,i[o++]=c+k|0,i[o++]=l+O|0,i[o++]=u+$|0,i[o++]=d+j|0,i[o++]=p+X|0,i[o++]=f+N|0,i[o++]=h+v|0,i[o++]=m+S|0,i[o++]=g+T|0,i[o++]=b+M|0,i[o++]=_+U|0,i[o++]=x+H|0,i[o++]=E+K|0,i[o++]=R+G|0}function UE(t,e,r,n,i){let o=n+0,s=n+16*i;for(let a=0;a<16;a++)r[s+a]=t[e+(2*i-1)*16+a];for(let a=0;a<i;a++,o+=16,e+=16)Tpt(r,s,t,e,r,o),a>0&&(s+=16),Tpt(r,o,t,e+=16,r,s)}function Rpt(t,e,r){let n=$V({dkLen:32,asyncTick:10,maxmem:1073742848},r),{N:i,r:o,p:s,dkLen:a,asyncTick:c,maxmem:l,onProgress:u}=n;if(aa(i),aa(o),aa(s),aa(a),aa(c),aa(l),u!==void 0&&typeof u!="function")throw new Error("progressCb should be function");let d=128*o,p=d/4;if(i<=1||(i&i-1)!==0||i>=2**(d/8)||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(s<0||s>(2**32-1)*32/d)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");let f=d*(i+s);if(f>l)throw new Error(`Scrypt: parameters too large, ${f} (128 * r * (N + p)) > ${l} (maxmem)`);let h=U1e(EN,t,e,{c:1,dkLen:d*s}),m=ME(h),g=ME(new Uint8Array(d*i)),b=ME(new Uint8Array(d)),_=()=>{};if(u){let x=2*i*s,E=Math.max(Math.floor(x/1e4),1),R=0;_=()=>{R++,u&&(!(R%E)||R===x)&&u(R/x)}}return{N:i,r:o,p:s,dkLen:a,blockSize32:p,V:g,B32:m,B:h,tmp:b,blockMixCb:_,asyncTick:c}}function Ipt(t,e,r,n,i){let o=U1e(EN,t,r,{c:1,dkLen:e});return r.fill(0),n.fill(0),i.fill(0),o}function Cpt(t,e,r){let{N:n,r:i,p:o,dkLen:s,blockSize32:a,V:c,B32:l,B:u,tmp:d,blockMixCb:p}=Rpt(t,e,r);for(let f=0;f<o;f++){let h=a*f;for(let m=0;m<a;m++)c[m]=l[h+m];for(let m=0,g=0;m<n-1;m++)UE(c,g,c,g+=a,i),p();UE(c,(n-1)*a,l,h,i),p();for(let m=0;m<n;m++){let g=l[h+a-16]%n;for(let b=0;b<a;b++)d[b]=l[h+b]^c[g*a+b];UE(d,0,l,h,i),p()}}return Ipt(t,s,u,c,d)}async function Npt(t,e,r){let{N:n,r:i,p:o,dkLen:s,blockSize32:a,V:c,B32:l,B:u,tmp:d,blockMixCb:p,asyncTick:f}=Rpt(t,e,r);for(let h=0;h<o;h++){let m=a*h;for(let b=0;b<a;b++)c[b]=l[m+b];let g=0;await BV(n-1,f,()=>{UE(c,g,c,g+=a,i),p()}),UE(c,(n-1)*a,l,m,i),p(),await BV(n,f,()=>{let b=l[m+a-16]%n;for(let _=0;_<a;_++)d[_]=l[m+_]^c[b*a+_];UE(d,0,l,m,i),p()})}return Ipt(t,s,u,c,d)}var Opt=!1,Ppt=!1,kpt=async function(t,e,r,n,i,o,s){return await Npt(t,e,{N:r,r:n,p:i,dkLen:o,onProgress:s})},Dpt=function(t,e,r,n,i,o){return Cpt(t,e,{N:r,r:n,p:i,dkLen:o})},Mpt=kpt,Lpt=Dpt;async function gp(t,e,r,n,i,o,s){let a=Ie(t,"passwd"),c=Ie(e,"salt");return ve(await Mpt(a,c,r,n,i,o,s))}gp._=kpt;gp.lock=function(){Ppt=!0};gp.register=function(t){if(Ppt)throw new Error("scrypt is locked");Mpt=t};Object.freeze(gp);function yp(t,e,r,n,i,o){let s=Ie(t,"passwd"),a=Ie(e,"salt");return ve(Lpt(s,a,r,n,i,o))}yp._=Dpt;yp.lock=function(){Opt=!0};yp.register=function(t){if(Opt)throw new Error("scryptSync is locked");Lpt=t};Object.freeze(yp);var Bpt=function(t){return D1e("sha256").update(t).digest()},$pt=function(t){return D1e("sha512").update(t).digest()},Upt=Bpt,Fpt=$pt,zpt=!1,Vpt=!1;function Qi(t){let e=Ie(t,"data");return ve(Upt(e))}Qi._=Bpt;Qi.lock=function(){zpt=!0};Qi.register=function(t){if(zpt)throw new Error("sha256 is locked");Upt=t};Object.freeze(Qi);function P_(t){let e=Ie(t,"data");return ve(Fpt(e))}P_._=$pt;P_.lock=function(){Vpt=!0};P_.register=function(t){if(Vpt)throw new Error("sha512 is locked");Fpt=t};Object.freeze(Qi);var H1e={};wr(H1e,{bitGet:()=>Plr,bitLen:()=>Olr,bitMask:()=>RN,bitSet:()=>klr,bytesToHex:()=>k_,bytesToNumberBE:()=>fg,bytesToNumberLE:()=>jV,concatBytes:()=>FE,createHmacDrbg:()=>V1e,ensureBytes:()=>vl,equalBytes:()=>Clr,hexToBytes:()=>D_,hexToNumber:()=>z1e,numberToBytesBE:()=>Ey,numberToBytesLE:()=>qV,numberToHexUnpadded:()=>jpt,numberToVarBytesBE:()=>Ilr,utf8ToBytes:()=>Nlr,validateObject:()=>Ty});var Gpt=BigInt(0),HV=BigInt(1),Tlr=BigInt(2),GV=t=>t instanceof Uint8Array,Rlr=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function k_(t){if(!GV(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Rlr[t[r]];return e}function jpt(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function z1e(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function D_(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){let i=n*2,o=t.slice(i,i+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[n]=s}return r}function fg(t){return z1e(k_(t))}function jV(t){if(!GV(t))throw new Error("Uint8Array expected");return z1e(k_(Uint8Array.from(t).reverse()))}function Ey(t,e){return D_(t.toString(16).padStart(e*2,"0"))}function qV(t,e){return Ey(t,e).reverse()}function Ilr(t){return D_(jpt(t))}function vl(t,e,r){let n;if(typeof e=="string")try{n=D_(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if(GV(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function FE(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!GV(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function Clr(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Nlr(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Olr(t){let e;for(e=0;t>Gpt;t>>=HV,e+=1);return e}function Plr(t,e){return t>>BigInt(e)&HV}var klr=(t,e,r)=>t|(r?HV:Gpt)<<BigInt(e),RN=t=>(Tlr<<BigInt(t-1))-HV,F1e=t=>new Uint8Array(t),Hpt=t=>Uint8Array.from(t);function V1e(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=F1e(t),i=F1e(t),o=0,s=()=>{n.fill(1),i.fill(0),o=0},a=(...d)=>r(i,n,...d),c=(d=F1e())=>{i=a(Hpt([0]),d),n=a(),d.length!==0&&(i=a(Hpt([1]),d),n=a())},l=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0,p=[];for(;d<e;){n=a();let f=n.slice();p.push(f),d+=n.length}return FE(...p)};return(d,p)=>{s(),c(d);let f;for(;!(f=p(l()));)c();return s(),f}}var Dlr={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Ty(t,e,r={}){let n=(i,o,s)=>{let a=Dlr[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);let c=t[i];if(!(s&&c===void 0)&&!a(c,t))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${o}`)};for(let[i,o]of Object.entries(e))n(i,o,!1);for(let[i,o]of Object.entries(r))n(i,o,!0);return t}var Bo=BigInt(0),$i=BigInt(1),M_=BigInt(2),Mlr=BigInt(3),G1e=BigInt(4),qpt=BigInt(5),Jpt=BigInt(8),Llr=BigInt(9),Blr=BigInt(16);function la(t,e){let r=t%e;return r>=Bo?r:e+r}function $lr(t,e,r){if(r<=Bo||e<Bo)throw new Error("Expected power/modulo > 0");if(r===$i)return Bo;let n=$i;for(;e>Bo;)e&$i&&(n=n*t%r),t=t*t%r,e>>=$i;return n}function _l(t,e,r){let n=t;for(;e-- >Bo;)n*=n,n%=r;return n}function JV(t,e){if(t===Bo||e<=Bo)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=la(t,e),n=e,i=Bo,o=$i,s=$i,a=Bo;for(;r!==Bo;){let l=n/r,u=n%r,d=i-s*l,p=o-a*l;n=r,r=u,i=s,o=a,s=d,a=p}if(n!==$i)throw new Error("invert: does not exist");return la(i,e)}function Ulr(t){let e=(t-$i)/M_,r,n,i;for(r=t-$i,n=0;r%M_===Bo;r/=M_,n++);for(i=M_;i<t&&$lr(i,e,t)!==t-$i;i++);if(n===1){let s=(t+$i)/G1e;return function(c,l){let u=c.pow(l,s);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}let o=(r+$i)/M_;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=n,u=a.pow(a.mul(a.ONE,i),r),d=a.pow(c,o),p=a.pow(c,r);for(;!a.eql(p,a.ONE);){if(a.eql(p,a.ZERO))return a.ZERO;let f=1;for(let m=a.sqr(p);f<l&&!a.eql(m,a.ONE);f++)m=a.sqr(m);let h=a.pow(u,$i<<BigInt(l-f-1));u=a.sqr(h),d=a.mul(d,h),p=a.mul(p,u),l=f}return d}}function Flr(t){if(t%G1e===Mlr){let e=(t+$i)/G1e;return function(n,i){let o=n.pow(i,e);if(!n.eql(n.sqr(o),i))throw new Error("Cannot find square root");return o}}if(t%Jpt===qpt){let e=(t-qpt)/Jpt;return function(n,i){let o=n.mul(i,M_),s=n.pow(o,e),a=n.mul(i,s),c=n.mul(n.mul(a,M_),s),l=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(l),i))throw new Error("Cannot find square root");return l}}return t%Blr,Ulr(t)}var zlr=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function j1e(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=zlr.reduce((n,i)=>(n[i]="function",n),e);return Ty(t,r)}function Vlr(t,e,r){if(r<Bo)throw new Error("Expected power > 0");if(r===Bo)return t.ONE;if(r===$i)return e;let n=t.ONE,i=e;for(;r>Bo;)r&$i&&(n=t.mul(n,i)),i=t.sqr(i),r>>=$i;return n}function Hlr(t,e){let r=new Array(e.length),n=e.reduce((o,s,a)=>t.is0(s)?o:(r[a]=o,t.mul(o,s)),t.ONE),i=t.inv(n);return e.reduceRight((o,s,a)=>t.is0(s)?o:(r[a]=t.mul(o,r[a]),t.mul(o,s)),i),r}function q1e(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Wpt(t,e,r=!1,n={}){if(t<=Bo)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:o}=q1e(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");let s=Flr(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:RN(i),ZERO:Bo,ONE:$i,create:c=>la(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Bo<=c&&c<t},is0:c=>c===Bo,isOdd:c=>(c&$i)===$i,neg:c=>la(-c,t),eql:(c,l)=>c===l,sqr:c=>la(c*c,t),add:(c,l)=>la(c+l,t),sub:(c,l)=>la(c-l,t),mul:(c,l)=>la(c*l,t),pow:(c,l)=>Vlr(a,c,l),div:(c,l)=>la(c*JV(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>JV(c,t),sqrt:n.sqrt||(c=>s(a,c)),invertBatch:c=>Hlr(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>r?qV(c,o):Ey(c,o),fromBytes:c=>{if(c.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${c.length}`);return r?jV(c):fg(c)}});return Object.freeze(a)}function Kpt(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function J1e(t){let e=Kpt(t);return e+Math.ceil(e/2)}function Qpt(t,e,r=!1){let n=t.length,i=Kpt(e),o=J1e(e);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);let s=r?fg(t):jV(t),a=la(s,e-$i)+$i;return r?qV(a,i):Ey(a,i)}var jlr=BigInt(0),W1e=BigInt(1);function Xpt(t,e){let r=(i,o)=>{let s=o.negate();return i?s:o},n=i=>{let o=Math.ceil(e/i)+1,s=2**(i-1);return{windows:o,windowSize:s}};return{constTimeNegate:r,unsafeLadder(i,o){let s=t.ZERO,a=i;for(;o>jlr;)o&W1e&&(s=s.add(a)),a=a.double(),o>>=W1e;return s},precomputeWindow(i,o){let{windows:s,windowSize:a}=n(o),c=[],l=i,u=l;for(let d=0;d<s;d++){u=l,c.push(u);for(let p=1;p<a;p++)u=u.add(l),c.push(u);l=u.double()}return c},wNAF(i,o,s){let{windows:a,windowSize:c}=n(i),l=t.ZERO,u=t.BASE,d=BigInt(2**i-1),p=2**i,f=BigInt(i);for(let h=0;h<a;h++){let m=h*c,g=Number(s&d);s>>=f,g>c&&(g-=p,s+=W1e);let b=m,_=m+Math.abs(g)-1,x=h%2!==0,E=g<0;g===0?u=u.add(r(x,o[b])):l=l.add(r(E,o[_]))}return{p:l,f:u}},wNAFCached(i,o,s,a){let c=i._WINDOW_SIZE||1,l=o.get(i);return l||(l=this.precomputeWindow(i,c),c!==1&&o.set(i,a(l))),this.wNAF(c,l,s)}}}function K1e(t){return j1e(t.Fp),Ty(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...q1e(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function qlr(t){let e=K1e(t);Ty(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:Jlr,hexToBytes:Wlr}=H1e,L_={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=L_;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Jlr(n),l:t.subarray(r+2)}},toSig(t){let{Err:e}=L_,r=typeof t=="string"?Wlr(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:i,l:o}=L_._parseInt(r.subarray(2)),{d:s,l:a}=L_._parseInt(o);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(t){let e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,r=l=>{let u=l.toString(16);return u.length&1?`0${u}`:u},n=e(r(t.s)),i=e(r(t.r)),o=n.length/2,s=i.length/2,a=r(o),c=r(s);return`30${r(s+o+4)}02${c}${i}02${a}${n}`}},mg=BigInt(0),od=BigInt(1),iri=BigInt(2),Ypt=BigInt(3),ori=BigInt(4);function Klr(t){let e=qlr(t),{Fp:r}=e,n=e.toBytes||((h,m,g)=>{let b=m.toAffine();return FE(Uint8Array.from([4]),r.toBytes(b.x),r.toBytes(b.y))}),i=e.fromBytes||(h=>{let m=h.subarray(1),g=r.fromBytes(m.subarray(0,r.BYTES)),b=r.fromBytes(m.subarray(r.BYTES,2*r.BYTES));return{x:g,y:b}});function o(h){let{a:m,b:g}=e,b=r.sqr(h),_=r.mul(b,h);return r.add(r.add(_,r.mul(h,m)),g)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function s(h){return typeof h=="bigint"&&mg<h&&h<e.n}function a(h){if(!s(h))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(h){let{allowedPrivateKeyLengths:m,nByteLength:g,wrapPrivateKey:b,n:_}=e;if(m&&typeof h!="bigint"){if(h instanceof Uint8Array&&(h=k_(h)),typeof h!="string"||!m.includes(h.length))throw new Error("Invalid key");h=h.padStart(g*2,"0")}let x;try{x=typeof h=="bigint"?h:fg(vl("private key",h,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof h}`)}return b&&(x=la(x,_)),a(x),x}let l=new Map;function u(h){if(!(h instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(m,g,b){if(this.px=m,this.py=g,this.pz=b,m==null||!r.isValid(m))throw new Error("x required");if(g==null||!r.isValid(g))throw new Error("y required");if(b==null||!r.isValid(b))throw new Error("z required")}static fromAffine(m){let{x:g,y:b}=m||{};if(!m||!r.isValid(g)||!r.isValid(b))throw new Error("invalid affine point");if(m instanceof d)throw new Error("projective point not allowed");let _=x=>r.eql(x,r.ZERO);return _(g)&&_(b)?d.ZERO:new d(g,b,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){let g=r.invertBatch(m.map(b=>b.pz));return m.map((b,_)=>b.toAffine(g[_])).map(d.fromAffine)}static fromHex(m){let g=d.fromAffine(i(vl("pointHex",m)));return g.assertValidity(),g}static fromPrivateKey(m){return d.BASE.multiply(c(m))}_setWindowSize(m){this._WINDOW_SIZE=m,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:m,y:g}=this.toAffine();if(!r.isValid(m)||!r.isValid(g))throw new Error("bad point: x or y not FE");let b=r.sqr(g),_=o(m);if(!r.eql(b,_))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:m}=this.toAffine();if(r.isOdd)return!r.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){u(m);let{px:g,py:b,pz:_}=this,{px:x,py:E,pz:R}=m,I=r.eql(r.mul(g,R),r.mul(x,_)),D=r.eql(r.mul(b,R),r.mul(E,_));return I&&D}negate(){return new d(this.px,r.neg(this.py),this.pz)}double(){let{a:m,b:g}=e,b=r.mul(g,Ypt),{px:_,py:x,pz:E}=this,R=r.ZERO,I=r.ZERO,D=r.ZERO,k=r.mul(_,_),O=r.mul(x,x),$=r.mul(E,E),j=r.mul(_,x);return j=r.add(j,j),D=r.mul(_,E),D=r.add(D,D),R=r.mul(m,D),I=r.mul(b,$),I=r.add(R,I),R=r.sub(O,I),I=r.add(O,I),I=r.mul(R,I),R=r.mul(j,R),D=r.mul(b,D),$=r.mul(m,$),j=r.sub(k,$),j=r.mul(m,j),j=r.add(j,D),D=r.add(k,k),k=r.add(D,k),k=r.add(k,$),k=r.mul(k,j),I=r.add(I,k),$=r.mul(x,E),$=r.add($,$),k=r.mul($,j),R=r.sub(R,k),D=r.mul($,O),D=r.add(D,D),D=r.add(D,D),new d(R,I,D)}add(m){u(m);let{px:g,py:b,pz:_}=this,{px:x,py:E,pz:R}=m,I=r.ZERO,D=r.ZERO,k=r.ZERO,O=e.a,$=r.mul(e.b,Ypt),j=r.mul(g,x),X=r.mul(b,E),N=r.mul(_,R),v=r.add(g,b),S=r.add(x,E);v=r.mul(v,S),S=r.add(j,X),v=r.sub(v,S),S=r.add(g,_);let T=r.add(x,R);return S=r.mul(S,T),T=r.add(j,N),S=r.sub(S,T),T=r.add(b,_),I=r.add(E,R),T=r.mul(T,I),I=r.add(X,N),T=r.sub(T,I),k=r.mul(O,S),I=r.mul($,N),k=r.add(I,k),I=r.sub(X,k),k=r.add(X,k),D=r.mul(I,k),X=r.add(j,j),X=r.add(X,j),N=r.mul(O,N),S=r.mul($,S),X=r.add(X,N),N=r.sub(j,N),N=r.mul(O,N),S=r.add(S,N),j=r.mul(X,S),D=r.add(D,j),j=r.mul(T,S),I=r.mul(v,I),I=r.sub(I,j),j=r.mul(v,X),k=r.mul(T,k),k=r.add(k,j),new d(I,D,k)}subtract(m){return this.add(m.negate())}is0(){return this.equals(d.ZERO)}wNAF(m){return f.wNAFCached(this,l,m,g=>{let b=r.invertBatch(g.map(_=>_.pz));return g.map((_,x)=>_.toAffine(b[x])).map(d.fromAffine)})}multiplyUnsafe(m){let g=d.ZERO;if(m===mg)return g;if(a(m),m===od)return this;let{endo:b}=e;if(!b)return f.unsafeLadder(this,m);let{k1neg:_,k1:x,k2neg:E,k2:R}=b.splitScalar(m),I=g,D=g,k=this;for(;x>mg||R>mg;)x&od&&(I=I.add(k)),R&od&&(D=D.add(k)),k=k.double(),x>>=od,R>>=od;return _&&(I=I.negate()),E&&(D=D.negate()),D=new d(r.mul(D.px,b.beta),D.py,D.pz),I.add(D)}multiply(m){a(m);let g=m,b,_,{endo:x}=e;if(x){let{k1neg:E,k1:R,k2neg:I,k2:D}=x.splitScalar(g),{p:k,f:O}=this.wNAF(R),{p:$,f:j}=this.wNAF(D);k=f.constTimeNegate(E,k),$=f.constTimeNegate(I,$),$=new d(r.mul($.px,x.beta),$.py,$.pz),b=k.add($),_=O.add(j)}else{let{p:E,f:R}=this.wNAF(g);b=E,_=R}return d.normalizeZ([b,_])[0]}multiplyAndAddUnsafe(m,g,b){let _=d.BASE,x=(R,I)=>I===mg||I===od||!R.equals(_)?R.multiplyUnsafe(I):R.multiply(I),E=x(this,g).add(x(m,b));return E.is0()?void 0:E}toAffine(m){let{px:g,py:b,pz:_}=this,x=this.is0();m==null&&(m=x?r.ONE:r.inv(_));let E=r.mul(g,m),R=r.mul(b,m),I=r.mul(_,m);if(x)return{x:r.ZERO,y:r.ZERO};if(!r.eql(I,r.ONE))throw new Error("invZ was invalid");return{x:E,y:R}}isTorsionFree(){let{h:m,isTorsionFree:g}=e;if(m===od)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:m,clearCofactor:g}=e;return m===od?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(m=!0){return this.assertValidity(),n(d,this,m)}toHex(m=!0){return k_(this.toRawBytes(m))}}d.BASE=new d(e.Gx,e.Gy,r.ONE),d.ZERO=new d(r.ZERO,r.ONE,r.ZERO);let p=e.nBitLength,f=Xpt(d,e.endo?Math.ceil(p/2):p);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:s}}function Qlr(t){let e=K1e(t);return Ty(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Zpt(t){let e=Qlr(t),{Fp:r,n}=e,i=r.BYTES+1,o=2*r.BYTES+1;function s(S){return mg<S&&S<r.ORDER}function a(S){return la(S,n)}function c(S){return JV(S,n)}let{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:p}=Klr({...e,toBytes(S,T,M){let U=T.toAffine(),H=r.toBytes(U.x),K=FE;return M?K(Uint8Array.from([T.hasEvenY()?2:3]),H):K(Uint8Array.from([4]),H,r.toBytes(U.y))},fromBytes(S){let T=S.length,M=S[0],U=S.subarray(1);if(T===i&&(M===2||M===3)){let H=fg(U);if(!s(H))throw new Error("Point is not on curve");let K=d(H),G=r.sqrt(K),w=(G&od)===od;return(M&1)===1!==w&&(G=r.neg(G)),{x:H,y:G}}else if(T===o&&M===4){let H=r.fromBytes(U.subarray(0,r.BYTES)),K=r.fromBytes(U.subarray(r.BYTES,2*r.BYTES));return{x:H,y:K}}else throw new Error(`Point of length ${T} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),f=S=>k_(Ey(S,e.nByteLength));function h(S){let T=n>>od;return S>T}function m(S){return h(S)?a(-S):S}let g=(S,T,M)=>fg(S.slice(T,M));class b{constructor(T,M,U){this.r=T,this.s=M,this.recovery=U,this.assertValidity()}static fromCompact(T){let M=e.nByteLength;return T=vl("compactSignature",T,M*2),new b(g(T,0,M),g(T,M,2*M))}static fromDER(T){let{r:M,s:U}=L_.toSig(vl("DER",T));return new b(M,U)}assertValidity(){if(!p(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!p(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(T){return new b(this.r,this.s,T)}recoverPublicKey(T){let{r:M,s:U,recovery:H}=this,K=D(vl("msgHash",T));if(H==null||![0,1,2,3].includes(H))throw new Error("recovery id invalid");let G=H===2||H===3?M+e.n:M;if(G>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let w=(H&1)===0?"02":"03",Q=l.fromHex(w+f(G)),Ee=c(G),ye=a(-K*Ee),le=a(U*Ee),Fe=l.BASE.multiplyAndAddUnsafe(Q,ye,le);if(!Fe)throw new Error("point at infinify");return Fe.assertValidity(),Fe}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return D_(this.toDERHex())}toDERHex(){return L_.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return D_(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}let _={isValidPrivateKey(S){try{return u(S),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{let S=J1e(e.n);return Qpt(e.randomBytes(S),e.n)},precompute(S=8,T=l.BASE){return T._setWindowSize(S),T.multiply(BigInt(3)),T}};function x(S,T=!0){return l.fromPrivateKey(S).toRawBytes(T)}function E(S){let T=S instanceof Uint8Array,M=typeof S=="string",U=(T||M)&&S.length;return T?U===i||U===o:M?U===2*i||U===2*o:S instanceof l}function R(S,T,M=!0){if(E(S))throw new Error("first arg must be private key");if(!E(T))throw new Error("second arg must be public key");return l.fromHex(T).multiply(u(S)).toRawBytes(M)}let I=e.bits2int||function(S){let T=fg(S),M=S.length*8-e.nBitLength;return M>0?T>>BigInt(M):T},D=e.bits2int_modN||function(S){return a(I(S))},k=RN(e.nBitLength);function O(S){if(typeof S!="bigint")throw new Error("bigint expected");if(!(mg<=S&&S<k))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Ey(S,e.nByteLength)}function $(S,T,M=j){if(["recovered","canonical"].some(ot=>ot in M))throw new Error("sign() legacy options not supported");let{hash:U,randomBytes:H}=e,{lowS:K,prehash:G,extraEntropy:w}=M;K==null&&(K=!0),S=vl("msgHash",S),G&&(S=vl("prehashed msgHash",U(S)));let Q=D(S),Ee=u(T),ye=[O(Ee),O(Q)];if(w!=null){let ot=w===!0?H(r.BYTES):w;ye.push(vl("extraEntropy",ot))}let le=FE(...ye),Fe=Q;function _e(ot){let he=I(ot);if(!p(he))return;let yt=c(he),Oe=l.BASE.multiply(he).toAffine(),hr=a(Oe.x);if(hr===mg)return;let lr=a(yt*a(Fe+hr*Ee));if(lr===mg)return;let fn=(Oe.x===hr?0:2)|Number(Oe.y&od),vd=lr;return K&&h(lr)&&(vd=m(lr),fn^=1),new b(hr,vd,fn)}return{seed:le,k2sig:_e}}let j={lowS:e.lowS,prehash:!1},X={lowS:e.lowS,prehash:!1};function N(S,T,M=j){let{seed:U,k2sig:H}=$(S,T,M),K=e;return V1e(K.hash.outputLen,K.nByteLength,K.hmac)(U,H)}l.BASE._setWindowSize(8);function v(S,T,M,U=X){let H=S;if(T=vl("msgHash",T),M=vl("publicKey",M),"strict"in U)throw new Error("options.strict was renamed to lowS");let{lowS:K,prehash:G}=U,w,Q;try{if(typeof H=="string"||H instanceof Uint8Array)try{w=b.fromDER(H)}catch(Oe){if(!(Oe instanceof L_.Err))throw Oe;w=b.fromCompact(H)}else if(typeof H=="object"&&typeof H.r=="bigint"&&typeof H.s=="bigint"){let{r:Oe,s:hr}=H;w=new b(Oe,hr)}else throw new Error("PARSE");Q=l.fromHex(M)}catch(Oe){if(Oe.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(K&&w.hasHighS())return!1;G&&(T=e.hash(T));let{r:Ee,s:ye}=w,le=D(T),Fe=c(ye),_e=a(le*Fe),ot=a(Ee*Fe),he=l.BASE.multiplyAndAddUnsafe(Q,_e,ot)?.toAffine();return he?a(he.x)===Ee:!1}return{CURVE:e,getPublicKey:x,getSharedSecret:R,sign:N,verify:v,ProjectivePoint:l,Signature:b,utils:_}}function Xlr(t){return{hash:t,hmac:(e,...r)=>TN(t,e,ept(...r)),randomBytes:rpt}}function eft(t,e){let r=n=>Zpt({...t,...Xlr(n)});return Object.freeze({...r(e),create:r})}var nft=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),tft=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Ylr=BigInt(1),Q1e=BigInt(2),rft=(t,e)=>(t+e/Q1e)/e;function Zlr(t){let e=nft,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=_l(u,r,e)*u%e,p=_l(d,r,e)*u%e,f=_l(p,Q1e,e)*l%e,h=_l(f,i,e)*f%e,m=_l(h,o,e)*h%e,g=_l(m,a,e)*m%e,b=_l(g,c,e)*g%e,_=_l(b,a,e)*m%e,x=_l(_,r,e)*u%e,E=_l(x,s,e)*h%e,R=_l(E,n,e)*l%e,I=_l(R,Q1e,e);if(!X1e.eql(X1e.sqr(I),t))throw new Error("Cannot find square root");return I}var X1e=Wpt(nft,void 0,void 0,{sqrt:Zlr}),hg=eft({a:BigInt(0),b:BigInt(7),Fp:X1e,n:tft,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=tft,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Ylr*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),a=rft(o*t,e),c=rft(-n*t,e),l=la(t-a*r-c*i,e),u=la(-a*n-c*o,e),d=l>s,p=u>s;if(d&&(l=e-l),p&&(u=e-u),l>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:l,k2neg:p,k2:u}}}},EN),mri=BigInt(0);var hri=hg.ProjectivePoint;var bp="0x0000000000000000000000000000000000000000";var zE="0x0000000000000000000000000000000000000000000000000000000000000000";var Y1e=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Z1e=BigInt("1000000000000000000"),eye=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),tye=BigInt("0x8000000000000000000000000000000000000000000000000000000000000000")*BigInt(-1),rye=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var nye="\u039E",IN=`Ethereum Signed Message:
`;var ift=BigInt(0),oft=BigInt(1),oye=BigInt(2),sft=BigInt(27),aft=BigInt(28),WV=BigInt(35),cft=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),eur=cft/oye,tur=Symbol.for("nodejs.util.inspect.custom"),B_={};function iye(t){return Wi(Hr(t),32)}var Xi=class t{#e;#t;#r;#n;get r(){return this.#e}set r(e){W(Dc(e)===32,"invalid r","value",e),this.#e=ve(e)}get s(){return W(parseInt(this.#t.substring(0,3))<8,"non-canonical s; use ._s","s",this.#t),this.#t}set s(e){W(Dc(e)===32,"invalid s","value",e),this.#t=ve(e)}get _s(){return this.#t}isValid(){return BigInt(this.#t)<=eur}get v(){return this.#r}set v(e){let r=At(e,"value");W(r===27||r===28,"invalid v","v",e),this.#r=r}get networkV(){return this.#n}get legacyChainId(){let e=this.networkV;return e==null?null:t.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){let e=Ie(this.s);return this.yParity&&(e[0]|=128),ve(e)}get compactSerialized(){return Gt([this.r,this.yParityAndS])}get serialized(){return Gt([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,r,n,i){As(e,B_,"Signature"),this.#e=r,this.#t=n,this.#r=i,this.#n=null}getCanonical(){if(this.isValid())return this;let e=cft-BigInt(this._s),r=55-this.v,n=new t(B_,this.r,iye(e),r);return this.networkV&&(n.#n=this.networkV),n}clone(){let e=new t(B_,this.r,this._s,this.v);return this.networkV&&(e.#n=this.networkV),e}toJSON(){let e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}[tur](){return this.toString()}toString(){return this.isValid()?`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v} }`:`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v}, valid: false }`}static getChainId(e){let r=Ke(e,"v");return r==sft||r==aft?ift:(W(r>=WV,"invalid EIP-155 v","v",e),(r-WV)/oye)}static getChainIdV(e,r){return Ke(e)*oye+BigInt(35+r-27)}static getNormalizedV(e){let r=Ke(e);return r===ift||r===sft?27:r===oft||r===aft?28:(W(r>=WV,"invalid v","v",e),r&oft?27:28)}static from(e){function r(l,u){W(l,u,"signature",e)}if(e==null)return new t(B_,zE,zE,27);if(typeof e=="string"){let l=Ie(e,"signature");if(l.length===64){let u=ve(l.slice(0,32)),d=l.slice(32,64),p=d[0]&128?28:27;return d[0]&=127,new t(B_,u,ve(d),p)}if(l.length===65){let u=ve(l.slice(0,32)),d=ve(l.slice(32,64)),p=t.getNormalizedV(l[64]);return new t(B_,u,d,p)}r(!1,"invalid raw signature length")}if(e instanceof t)return e.clone();let n=e.r;r(n!=null,"missing r");let i=iye(n),o=(function(l,u){if(l!=null)return iye(l);if(u!=null){r(br(u,32),"invalid yParityAndS");let d=Ie(u);return d[0]&=127,ve(d)}r(!1,"missing s")})(e.s,e.yParityAndS),{networkV:s,v:a}=(function(l,u,d){if(l!=null){let p=Ke(l);return{networkV:p>=WV?p:void 0,v:t.getNormalizedV(p)}}if(u!=null)return r(br(u,32),"invalid yParityAndS"),{v:Ie(u)[0]&128?28:27};if(d!=null){switch(At(d,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}r(!1,"invalid yParity")}r(!1,"missing v")})(e.v,e.yParityAndS,e.yParity),c=new t(B_,i,o,a);return s&&(c.#n=s),r(e.yParity==null||At(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),r(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}};var Ts=class t{#e;constructor(e){W(Dc(e)===32,"invalid private key","privateKey","[REDACTED]"),this.#e=ve(e)}get privateKey(){return this.#e}get publicKey(){return t.computePublicKey(this.#e)}get compressedPublicKey(){return t.computePublicKey(this.#e,!0)}sign(e){W(Dc(e)===32,"invalid digest length","digest",e);let r=hg.sign(An(e),An(this.#e),{lowS:!0});return Xi.from({r:ts(r.r,32),s:ts(r.s,32),v:r.recovery?28:27})}computeSharedSecret(e){let r=t.computePublicKey(e);return ve(hg.getSharedSecret(An(this.#e),Ie(r),!1))}static computePublicKey(e,r){let n=Ie(e,"key");if(n.length===32){let o=hg.getPublicKey(n,!!r);return ve(o)}if(n.length===64){let o=new Uint8Array(65);o[0]=4,o.set(n,1),n=o}let i=hg.ProjectivePoint.fromHex(n);return ve(i.toRawBytes(r))}static recoverPublicKey(e,r){W(Dc(e)===32,"invalid digest length","digest",e);let n=Xi.from(r),i=hg.Signature.fromCompact(An(Gt([n.r,n.s])));i=i.addRecoveryBit(n.yParity);let o=i.recoverPublicKey(An(e));return W(o!=null,"invalid signature for digest","signature",r),"0x"+o.toHex(!1)}static addPoints(e,r,n){let i=hg.ProjectivePoint.fromHex(t.computePublicKey(e).substring(2)),o=hg.ProjectivePoint.fromHex(t.computePublicKey(r).substring(2));return"0x"+i.add(o).toHex(!!n)}};function lft(){pp.lock(),mr.lock(),Ba.lock(),ca.lock(),hp.lock(),gp.lock(),yp.lock(),Qi.lock(),P_.lock(),ca.lock()}var rur=BigInt(0),nur=BigInt(36);function uft(t){t=t.toLowerCase();let e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);let n=Ie(mr(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}var sye={};for(let t=0;t<10;t++)sye[String(t)]=String(t);for(let t=0;t<26;t++)sye[String.fromCharCode(65+t)]=String(10+t);var dft=15;function pft(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>sye[n]).join("");for(;e.length>=dft;){let n=e.substring(0,dft);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}var iur=(function(){let t={};for(let e=0;e<36;e++){let r="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[r]=BigInt(e)}return t})();function our(t){t=t.toLowerCase();let e=rur;for(let r=0;r<t.length;r++)e=e*nur+iur[t[r]];return e}function Ct(t){if(W(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);let e=uft(t);return W(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){W(t.substring(2,4)===pft(t),"bad icap checksum","address",t);let e=our(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return uft("0x"+e)}W(!1,"invalid address","address",t)}function aye(t){let e=BigInt(Ct(t)).toString(36).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+pft("XE00"+e)+e}function $_(t){let e=Ct(t.from),n=Ke(t.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,Ct(Gr(mr(sa([e,n])),12))}function cye(t,e,r){let n=Ct(t),i=Ie(e,"salt"),o=Ie(r,"initCodeHash");return W(i.length===32,"salt must be 32 bytes","salt",e),W(o.length===32,"initCodeHash must be 32 bytes","initCodeHash",r),Ct(Gr(mr(Gt(["0xff",n,i,o])),12))}function VE(t){return t&&typeof t.getAddress=="function"}function uye(t){try{return Ct(t),!0}catch{}return!1}async function lye(t,e){let r=await e;return(r==null||r==="0x0000000000000000000000000000000000000000")&&(ce(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),W(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),Ct(r)}function qn(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?Ct(t):(ce(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),lye(t,e.resolveName(t)));if(VE(t))return lye(t,t.getAddress());if(t&&typeof t.then=="function")return lye(t,t);W(!1,"unsupported addressable value","target",t)}var vp={};function Et(t,e){let r=!1;return e<0&&(r=!0,e*=-1),new En(vp,`${r?"":"u"}int${e}`,t,{signed:r,width:e})}function Yr(t,e){return new En(vp,`bytes${e||""}`,t,{size:e})}var fft=Symbol.for("_ethers_typed"),En=class t{type;value;#e;_typedSymbol;constructor(e,r,n,i){i==null&&(i=null),As(vp,e,"Typed"),Me(this,{_typedSymbol:fft,type:r,value:n}),this.#e=i,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#e}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#e===!0?-1:this.#e===!1?this.value.length:null}static from(e,r){return new t(vp,e,r)}static uint8(e){return Et(e,8)}static uint16(e){return Et(e,16)}static uint24(e){return Et(e,24)}static uint32(e){return Et(e,32)}static uint40(e){return Et(e,40)}static uint48(e){return Et(e,48)}static uint56(e){return Et(e,56)}static uint64(e){return Et(e,64)}static uint72(e){return Et(e,72)}static uint80(e){return Et(e,80)}static uint88(e){return Et(e,88)}static uint96(e){return Et(e,96)}static uint104(e){return Et(e,104)}static uint112(e){return Et(e,112)}static uint120(e){return Et(e,120)}static uint128(e){return Et(e,128)}static uint136(e){return Et(e,136)}static uint144(e){return Et(e,144)}static uint152(e){return Et(e,152)}static uint160(e){return Et(e,160)}static uint168(e){return Et(e,168)}static uint176(e){return Et(e,176)}static uint184(e){return Et(e,184)}static uint192(e){return Et(e,192)}static uint200(e){return Et(e,200)}static uint208(e){return Et(e,208)}static uint216(e){return Et(e,216)}static uint224(e){return Et(e,224)}static uint232(e){return Et(e,232)}static uint240(e){return Et(e,240)}static uint248(e){return Et(e,248)}static uint256(e){return Et(e,256)}static uint(e){return Et(e,256)}static int8(e){return Et(e,-8)}static int16(e){return Et(e,-16)}static int24(e){return Et(e,-24)}static int32(e){return Et(e,-32)}static int40(e){return Et(e,-40)}static int48(e){return Et(e,-48)}static int56(e){return Et(e,-56)}static int64(e){return Et(e,-64)}static int72(e){return Et(e,-72)}static int80(e){return Et(e,-80)}static int88(e){return Et(e,-88)}static int96(e){return Et(e,-96)}static int104(e){return Et(e,-104)}static int112(e){return Et(e,-112)}static int120(e){return Et(e,-120)}static int128(e){return Et(e,-128)}static int136(e){return Et(e,-136)}static int144(e){return Et(e,-144)}static int152(e){return Et(e,-152)}static int160(e){return Et(e,-160)}static int168(e){return Et(e,-168)}static int176(e){return Et(e,-176)}static int184(e){return Et(e,-184)}static int192(e){return Et(e,-192)}static int200(e){return Et(e,-200)}static int208(e){return Et(e,-208)}static int216(e){return Et(e,-216)}static int224(e){return Et(e,-224)}static int232(e){return Et(e,-232)}static int240(e){return Et(e,-240)}static int248(e){return Et(e,-248)}static int256(e){return Et(e,-256)}static int(e){return Et(e,-256)}static bytes1(e){return Yr(e,1)}static bytes2(e){return Yr(e,2)}static bytes3(e){return Yr(e,3)}static bytes4(e){return Yr(e,4)}static bytes5(e){return Yr(e,5)}static bytes6(e){return Yr(e,6)}static bytes7(e){return Yr(e,7)}static bytes8(e){return Yr(e,8)}static bytes9(e){return Yr(e,9)}static bytes10(e){return Yr(e,10)}static bytes11(e){return Yr(e,11)}static bytes12(e){return Yr(e,12)}static bytes13(e){return Yr(e,13)}static bytes14(e){return Yr(e,14)}static bytes15(e){return Yr(e,15)}static bytes16(e){return Yr(e,16)}static bytes17(e){return Yr(e,17)}static bytes18(e){return Yr(e,18)}static bytes19(e){return Yr(e,19)}static bytes20(e){return Yr(e,20)}static bytes21(e){return Yr(e,21)}static bytes22(e){return Yr(e,22)}static bytes23(e){return Yr(e,23)}static bytes24(e){return Yr(e,24)}static bytes25(e){return Yr(e,25)}static bytes26(e){return Yr(e,26)}static bytes27(e){return Yr(e,27)}static bytes28(e){return Yr(e,28)}static bytes29(e){return Yr(e,29)}static bytes30(e){return Yr(e,30)}static bytes31(e){return Yr(e,31)}static bytes32(e){return Yr(e,32)}static address(e){return new t(vp,"address",e)}static bool(e){return new t(vp,"bool",!!e)}static bytes(e){return new t(vp,"bytes",e)}static string(e){return new t(vp,"string",e)}static array(e,r){throw new Error("not implemented yet")}static tuple(e,r){throw new Error("not implemented yet")}static overrides(e){return new t(vp,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===fft}static dereference(e,r){if(t.isTyped(e)){if(e.type!==r)throw new Error(`invalid type: expecetd ${r}, got ${e.type}`);return e.value}return e}};var KV=class extends wo{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){let n=En.dereference(r,"string");try{n=Ct(n)}catch(i){return this._throwError(i.message,r)}return e.writeValue(n)}decode(e){return Ct(ts(e.readValue(),20))}};var QV=class extends wo{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}};function dye(t,e,r){let n=[];if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(l=>{let u=l.localName;return ce(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:r}),ce(!c[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:r}),c[u]=!0,r[u]})}else W(!1,"invalid tuple value","tuple",r);W(e.length===n.length,"types/value length mismatch","tuple",r);let i=new O_,o=new O_,s=[];e.forEach((c,l)=>{let u=n[l];if(c.dynamic){let d=o.length;c.encode(o,u);let p=i.writeUpdatableValue();s.push(f=>{p(f+d)})}else c.encode(i,u)}),s.forEach(c=>{c(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(o),a}function pye(t,e){let r=[],n=[],i=t.subReader(0);return e.forEach(o=>{let s=null;if(o.dynamic){let a=t.readIndex(),c=i.subReader(a);try{s=o.decode(c)}catch(l){if(Qr(l,"BUFFER_OVERRUN"))throw l;s=l,s.baseType=o.name,s.name=o.localName,s.type=o.type}}else try{s=o.decode(t)}catch(a){if(Qr(a,"BUFFER_OVERRUN"))throw a;s=a,s.baseType=o.name,s.name=o.localName,s.type=o.type}if(s==null)throw new Error("investigate");r.push(s),n.push(o.localName||null)}),dp.fromItems(r,n)}var XV=class extends wo{coder;length;constructor(e,r,n){let i=e.type+"["+(r>=0?r:"")+"]",o=r===-1||e.dynamic;super("array",i,n,o),Me(this,{coder:e,length:r})}defaultValue(){let e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){let n=En.dereference(r,"array");Array.isArray(n)||this._throwError("expected array value",n);let i=this.length;i===-1&&(i=n.length,e.writeValue(n.length)),E_(n.length,i,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let s=0;s<n.length;s++)o.push(this.coder);return dye(e,o,n)}decode(e){let r=this.length;r===-1&&(r=e.readIndex(),ce(r*Es<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:r*Es,length:e.dataLength}));let n=[];for(let i=0;i<r;i++)n.push(new QV(this.coder));return pye(e,n)}};var YV=class extends wo{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){let n=En.dereference(r,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}};var CN=class extends wo{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=An(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readIndex(),!0)}},ZV=class extends CN{constructor(e){super("bytes",e)}decode(e){return ve(super.decode(e))}};var eH=class extends wo{size;constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),Me(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=An(En.dereference(r,this.type));return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return ve(e.readBytes(this.size))}};var sur=new Uint8Array([]),tH=class extends wo{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes(sur)}decode(e){return e.readBytes(0),null}};var aur=BigInt(0),cur=BigInt(1),lur=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),rH=class extends wo{size;signed;constructor(e,r,n){let i=(r?"int":"uint")+e*8;super(i,i,n,!1),Me(this,{size:e,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,r){let n=Ke(En.dereference(r,this.type)),i=bl(lur,Es*8);if(this.signed){let o=bl(i,this.size*8-1);(n>o||n<-(o+cur))&&this._throwError("value out-of-bounds",r),n=lg(n,8*Es)}else(n<aur||n>bl(i,this.size*8))&&this._throwError("value out-of-bounds",r);return e.writeValue(n)}decode(e){let r=bl(e.readValue(),this.size*8);return this.signed&&(r=cg(r,this.size*8)),r}};var nH=class extends CN{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,jr(En.dereference(r,"string")))}decode(e){return Ki(super.decode(e))}};var U_=class extends wo{coders;constructor(e,r){let n=!1,i=[];e.forEach(s=>{s.dynamic&&(n=!0),i.push(s.type)});let o="tuple("+i.join(",")+")";super("tuple",o,r,n),Me(this,{coders:Object.freeze(e.slice())})}defaultValue(){let e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});let r=this.coders.reduce((n,i)=>{let o=i.localName;return o&&(n[o]||(n[o]=0),n[o]++),n},{});return this.coders.forEach((n,i)=>{let o=n.localName;!o||r[o]!==1||(o==="length"&&(o="_length"),e[o]==null&&(e[o]=e[i]))}),Object.freeze(e)}encode(e,r){let n=En.dereference(r,"tuple");return dye(e,this.coders,n)}decode(e){return pye(e,this.coders)}};function fye(t,e){return{address:Ct(t),storageKeys:e.map((r,n)=>(W(br(r,32),"invalid slot",`storageKeys[${n}]`,r),r.toLowerCase()))}}function Rs(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(W(r.length===2,"invalid slot set",`value[${n}]`,r),fye(r[0],r[1])):(W(r!=null&&typeof r=="object","invalid address-slot set","value",t),fye(r.address,r.storageKeys)));W(t!=null&&typeof t=="object","invalid access list","value",t);let e=Object.keys(t).map(r=>{let n=t[r].reduce((i,o)=>(i[o]=!0,i),{});return fye(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function F_(t){return{address:Ct(t.address),nonce:Ke(t.nonce!=null?t.nonce:0),chainId:Ke(t.chainId!=null?t.chainId:0),signature:Xi.from(t.signature)}}function _p(t){let e;return typeof t=="string"?e=Ts.computePublicKey(t,!1):e=t.publicKey,Ct(mr("0x"+e.substring(4)).substring(26))}function xp(t,e){return _p(Ts.recoverPublicKey(t,e))}var rs=BigInt(0),uur=BigInt(2),dur=BigInt(27),pur=BigInt(28),fur=BigInt(35),mur=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),hur=Symbol.for("nodejs.util.inspect.custom"),mye=4096*32,iH=128;function gur(t){return{blobToKzgCommitment:n=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Ie(t.blobToKzgCommitment(ve(n)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Ie(t.blobToKzgCommitment(n));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return Ie(t.blobToKZGCommitment(ve(n)));W(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(n,i)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return Ie(t.computeBlobProof(ve(n),ve(i)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(n,i);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return Ie(t.computeBlobKZGProof(ve(n),ve(i)));W(!1,"unsupported KZG library","kzg",t)}}}function mft(t,e){let r=t.toString(16);for(;r.length<2;)r="0"+r;return r+=Qi(e).substring(4),"0x"+r}function HE(t){return t==="0x"?null:Ct(t)}function oH(t,e){try{return Rs(t)}catch(r){W(!1,r.message,e,t)}}function yur(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");let r=[];for(let n=0;n<t.length;n++){let i=t[n];if(!Array.isArray(i))throw new Error(`authorization[${n}]: invalid array`);if(i.length!==6)throw new Error(`authorization[${n}]: wrong length`);if(!i[1])throw new Error(`authorization[${n}]: null address`);r.push({address:HE(i[1]),nonce:Tn(i[2],"nonce"),chainId:Tn(i[0],"chainId"),signature:Xi.from({yParity:z_(i[3],"yParity"),r:Wi(i[4],32),s:Wi(i[5],32)})})}return r}catch(r){W(!1,r.message,e,t)}}function z_(t,e){return t==="0x"?0:At(t,e)}function Tn(t,e){if(t==="0x")return rs;let r=Ke(t,e);return W(r<=mur,"value exceeds uint size",e,r),r}function $r(t,e){let r=Ke(t,"value"),n=Hr(r);return W(n.length<=32,"value too large",`tx.${e}`,r),n}function sH(t){return Rs(t).map(e=>[e.address,e.storageKeys])}function bur(t){return t.map(e=>[$r(e.chainId,"chainId"),e.address,$r(e.nonce,"nonce"),$r(e.signature.yParity,"yParity"),Hr(e.signature.r),Hr(e.signature._s)])}function vur(t,e){W(Array.isArray(t),`invalid ${e}`,"value",t);for(let r=0;r<t.length;r++)W(br(t[r],32),"invalid ${ param } hash",`value[${r}]`,t[r]);return t}function _ur(t){let e=dg(t);W(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);let r={type:0,nonce:z_(e[0],"nonce"),gasPrice:Tn(e[1],"gasPrice"),gasLimit:Tn(e[2],"gasLimit"),to:HE(e[3]),value:Tn(e[4],"value"),data:ve(e[5]),chainId:rs};if(e.length===6)return r;let n=Tn(e[6],"v"),i=Tn(e[7],"r"),o=Tn(e[8],"s");if(i===rs&&o===rs)r.chainId=n;else{let s=(n-fur)/uur;s<rs&&(s=rs),r.chainId=s,W(s!==rs||n===dur||n===pur,"non-canonical legacy v","v",e[6]),r.signature=Xi.from({r:Wi(e[7],32),s:Wi(e[8],32),v:n})}return r}function xur(t,e){let r=[$r(t.nonce,"nonce"),$r(t.gasPrice||0,"gasPrice"),$r(t.gasLimit,"gasLimit"),t.to||"0x",$r(t.value,"value"),t.data],n=rs;if(t.chainId!=rs)n=Ke(t.chainId,"tx.chainId"),W(!e||e.networkV==null||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){let o=t.signature.legacyChainId;o!=null&&(n=o)}if(!e)return n!==rs&&(r.push(Hr(n)),r.push("0x"),r.push("0x")),sa(r);let i=BigInt(27+e.yParity);return n!==rs?i=Xi.getChainIdV(n,e.v):BigInt(e.v)!==i&&W(!1,"tx.chainId/sig.v mismatch","sig",e),r.push(Hr(i)),r.push(Hr(e.r)),r.push(Hr(e._s)),sa(r)}function aH(t,e){let r;try{if(r=z_(e[0],"yParity"),r!==0&&r!==1)throw new Error("bad yParity")}catch{W(!1,"invalid yParity","yParity",e[0])}let n=Wi(e[1],32),i=Wi(e[2],32),o=Xi.from({r:n,s:i,yParity:r});t.signature=o}function Sur(t){let e=dg(Ie(t).slice(1));W(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",ve(t));let r={type:2,chainId:Tn(e[0],"chainId"),nonce:z_(e[1],"nonce"),maxPriorityFeePerGas:Tn(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Tn(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Tn(e[4],"gasLimit"),to:HE(e[5]),value:Tn(e[6],"value"),data:ve(e[7]),accessList:oH(e[8],"accessList")};return e.length===9||aH(r,e.slice(9)),r}function wur(t,e){let r=[$r(t.chainId,"chainId"),$r(t.nonce,"nonce"),$r(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),$r(t.maxFeePerGas||0,"maxFeePerGas"),$r(t.gasLimit,"gasLimit"),t.to||"0x",$r(t.value,"value"),t.data,sH(t.accessList||[])];return e&&(r.push($r(e.yParity,"yParity")),r.push(Hr(e.r)),r.push(Hr(e.s))),Gt(["0x02",sa(r)])}function Aur(t){let e=dg(Ie(t).slice(1));W(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",ve(t));let r={type:1,chainId:Tn(e[0],"chainId"),nonce:z_(e[1],"nonce"),gasPrice:Tn(e[2],"gasPrice"),gasLimit:Tn(e[3],"gasLimit"),to:HE(e[4]),value:Tn(e[5],"value"),data:ve(e[6]),accessList:oH(e[7],"accessList")};return e.length===8||aH(r,e.slice(8)),r}function Eur(t,e){let r=[$r(t.chainId,"chainId"),$r(t.nonce,"nonce"),$r(t.gasPrice||0,"gasPrice"),$r(t.gasLimit,"gasLimit"),t.to||"0x",$r(t.value,"value"),t.data,sH(t.accessList||[])];return e&&(r.push($r(e.yParity,"recoveryParam")),r.push(Hr(e.r)),r.push(Hr(e.s))),Gt(["0x01",sa(r)])}function Tur(t){let e=dg(Ie(t).slice(1)),r="3",n=null,i=null;if(e.length===4&&Array.isArray(e[0])){r="3 (network format)";let s=e[1],a=e[2],c=e[3];W(Array.isArray(s),"invalid network format: blobs not an array","fields[1]",s),W(Array.isArray(a),"invalid network format: commitments not an array","fields[2]",a),W(Array.isArray(c),"invalid network format: proofs not an array","fields[3]",c),W(s.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",e),W(s.length===c.length,"invalid network format: blobs/proofs length mismatch","fields",e),i=[];for(let l=0;l<e[1].length;l++)i.push({data:s[l],commitment:a[l],proof:c[l]});e=e[0]}else if(e.length===5&&Array.isArray(e[0])){r="3 (EIP-7594 network format)",n=At(e[1]);let s=e[2],a=e[3],c=e[4];W(n===1,`unsupported EIP-7594 network format version: ${n}`,"fields[1]",n),W(Array.isArray(s),"invalid EIP-7594 network format: blobs not an array","fields[2]",s),W(Array.isArray(a),"invalid EIP-7594 network format: commitments not an array","fields[3]",a),W(Array.isArray(c),"invalid EIP-7594 network format: proofs not an array","fields[4]",c),W(s.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",e),W(s.length*iH===c.length,"invalid network format: blobs/proofs length mismatch","fields",e),i=[];for(let l=0;l<s.length;l++){let u=[];for(let d=0;d<iH;d++)u.push(c[l*iH+d]);i.push({data:s[l],commitment:a[l],proof:Gt(u)})}e=e[0]}W(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${r}`,"data",ve(t));let o={type:3,chainId:Tn(e[0],"chainId"),nonce:z_(e[1],"nonce"),maxPriorityFeePerGas:Tn(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Tn(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Tn(e[4],"gasLimit"),to:HE(e[5]),value:Tn(e[6],"value"),data:ve(e[7]),accessList:oH(e[8],"accessList"),maxFeePerBlobGas:Tn(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10],blobWrapperVersion:n};i&&(o.blobs=i),W(o.to!=null,`invalid address for transaction type: ${r}`,"data",t),W(Array.isArray(o.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let s=0;s<o.blobVersionedHashes.length;s++)W(br(o.blobVersionedHashes[s],32),`invalid blobVersionedHash at index ${s}: must be length 32`,"data",t);return e.length===11||aH(o,e.slice(11)),o}function Rur(t,e,r){let n=[$r(t.chainId,"chainId"),$r(t.nonce,"nonce"),$r(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),$r(t.maxFeePerGas||0,"maxFeePerGas"),$r(t.gasLimit,"gasLimit"),t.to||bp,$r(t.value,"value"),t.data,sH(t.accessList||[]),$r(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),vur(t.blobVersionedHashes||[],"blobVersionedHashes")];if(e&&(n.push($r(e.yParity,"yParity")),n.push(Hr(e.r)),n.push(Hr(e.s)),r)){if(t.blobWrapperVersion!=null){let i=Hr(t.blobWrapperVersion),o=[];for(let{proof:s}of r){let a=Ie(s),c=a.length/iH;for(let l=0;l<a.length;l+=c)o.push(a.subarray(l,l+c))}return Gt(["0x03",sa([n,i,r.map(s=>s.data),r.map(s=>s.commitment),o])])}return Gt(["0x03",sa([n,r.map(i=>i.data),r.map(i=>i.commitment),r.map(i=>i.proof)])])}return Gt(["0x03",sa(n)])}function Iur(t){let e=dg(Ie(t).slice(1));W(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",ve(t));let r={type:4,chainId:Tn(e[0],"chainId"),nonce:z_(e[1],"nonce"),maxPriorityFeePerGas:Tn(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Tn(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Tn(e[4],"gasLimit"),to:HE(e[5]),value:Tn(e[6],"value"),data:ve(e[7]),accessList:oH(e[8],"accessList"),authorizationList:yur(e[9],"authorizationList")};return e.length===10||aH(r,e.slice(10)),r}function Cur(t,e){let r=[$r(t.chainId,"chainId"),$r(t.nonce,"nonce"),$r(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),$r(t.maxFeePerGas||0,"maxFeePerGas"),$r(t.gasLimit,"gasLimit"),t.to||"0x",$r(t.value,"value"),t.data,sH(t.accessList||[]),bur(t.authorizationList||[])];return e&&(r.push($r(e.yParity,"yParity")),r.push(Hr(e.r)),r.push(Hr(e.s))),Gt(["0x04",sa(r)])}var xl=class t{#e;#t;#r;#n;#i;#o;#s;#a;#u;#l;#f;#m;#c;#d;#p;#h;#b;#g;get type(){return this.#e}set type(e){switch(e){case null:this.#e=null;break;case 0:case"legacy":this.#e=0;break;case 1:case"berlin":case"eip-2930":this.#e=1;break;case 2:case"london":case"eip-1559":this.#e=2;break;case 3:case"cancun":case"eip-4844":this.#e=3;break;case 4:case"pectra":case"eip-7702":this.#e=4;break;default:W(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){let e=this.#t;return e==null&&this.type===3?bp:e}set to(e){this.#t=e==null?null:Ct(e)}get nonce(){return this.#n}set nonce(e){this.#n=At(e,"value")}get gasLimit(){return this.#i}set gasLimit(e){this.#i=Ke(e)}get gasPrice(){let e=this.#o;return e==null&&(this.type===0||this.type===1)?rs:e}set gasPrice(e){this.#o=e==null?null:Ke(e,"gasPrice")}get maxPriorityFeePerGas(){let e=this.#s;return e??(this.type===2||this.type===3?rs:null)}set maxPriorityFeePerGas(e){this.#s=e==null?null:Ke(e,"maxPriorityFeePerGas")}get maxFeePerGas(){let e=this.#a;return e??(this.type===2||this.type===3?rs:null)}set maxFeePerGas(e){this.#a=e==null?null:Ke(e,"maxFeePerGas")}get data(){return this.#r}set data(e){this.#r=ve(e)}get value(){return this.#u}set value(e){this.#u=Ke(e,"value")}get chainId(){return this.#l}set chainId(e){this.#l=Ke(e)}get signature(){return this.#f||null}set signature(e){this.#f=e==null?null:Xi.from(e)}isValid(){let e=this.signature;if(e&&!e.isValid())return!1;let r=this.authorizationList;if(r){for(let n of r)if(!n.signature.isValid())return!1}return!0}get accessList(){let e=this.#m||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){this.#m=e==null?null:Rs(e)}get authorizationList(){let e=this.#b||null;return e==null&&this.type===4?[]:e}set authorizationList(e){this.#b=e==null?null:e.map(r=>F_(r))}get maxFeePerBlobGas(){let e=this.#c;return e==null&&this.type===3?rs:e}set maxFeePerBlobGas(e){this.#c=e==null?null:Ke(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#d;return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){W(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let r=0;r<e.length;r++)W(br(e[r],32),"invalid blobVersionedHash",`value[${r}]`,e[r])}this.#d=e}get blobs(){return this.#h==null?null:this.#h.map(e=>Object.assign({},e))}set blobs(e){if(e==null){this.#h=null;return}let r=[],n=[];for(let i=0;i<e.length;i++){let o=e[i];if(ap(o)){ce(this.#p,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let s=Ie(o);if(W(s.length<=mye,"blob is too large",`blobs[${i}]`,o),s.length!==mye){let l=new Uint8Array(mye);l.set(s),s=l}let a=this.#p.blobToKzgCommitment(s),c=ve(this.#p.computeBlobKzgProof(s,a));r.push({data:ve(s),commitment:ve(a),proof:c}),n.push(mft(1,a))}else{let s=ve(o.data),a=ve(o.commitment),c=ve(o.proof);r.push({data:s,commitment:a,proof:c}),n.push(mft(1,a))}}this.#h=r,this.#d=n}get kzg(){return this.#p}set kzg(e){e==null?this.#p=null:this.#p=gur(e)}get blobWrapperVersion(){return this.#g}set blobWrapperVersion(e){this.#g=e}constructor(){this.#e=null,this.#t=null,this.#n=0,this.#i=rs,this.#o=null,this.#s=null,this.#a=null,this.#r="0x",this.#u=rs,this.#l=rs,this.#f=null,this.#m=null,this.#c=null,this.#d=null,this.#p=null,this.#h=null,this.#b=null,this.#g=null}get hash(){return this.signature==null?null:mr(this.#y(!0,!1))}get unsignedHash(){return mr(this.unsignedSerialized)}get from(){return this.signature==null?null:xp(this.unsignedHash,this.signature.getCanonical())}get fromPublicKey(){return this.signature==null?null:Ts.recoverPublicKey(this.unsignedHash,this.signature.getCanonical())}isSigned(){return this.signature!=null}#y(e,r){ce(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});let n=e?this.signature:null;switch(this.inferType()){case 0:return xur(this,n);case 1:return Eur(this,n);case 2:return wur(this,n);case 3:return Rur(this,n,r?this.blobs:null);case 4:return Cur(this,n)}ce(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#y(!0,!0)}get unsignedSerialized(){return this.#y(!1,!1)}inferType(){let e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){let e=this.gasPrice!=null,r=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null,i=this.#c!=null||this.#d;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&ce(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),ce(!r||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),ce(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});let o=[];return this.type!=null?o.push(this.type):this.authorizationList&&this.authorizationList.length?o.push(4):r?o.push(2):e?(o.push(1),n||o.push(0)):n?(o.push(1),o.push(2)):(i&&this.to||(o.push(0),o.push(1),o.push(2)),o.push(3)),o.sort(),o}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return t.from(this)}toJSON(){let e=r=>r==null?null:r.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}[hur](){return this.toString()}toString(){let e=[],r=i=>{let o=this[i];typeof o=="string"&&(o=JSON.stringify(o)),e.push(`${i}: ${o}`)};this.type&&r("type"),r("to"),r("data"),r("nonce"),r("gasLimit"),r("value"),this.chainId!=null&&r("chainId"),this.signature&&(r("from"),e.push(`signature: ${this.signature.toString()}`));let n=this.authorizationList;if(n){let i=[];for(let o of n){let s=[];s.push(`address: ${JSON.stringify(o.address)}`),o.nonce!=null&&s.push(`nonce: ${o.nonce}`),o.chainId!=null&&s.push(`chainId: ${o.chainId}`),o.signature&&s.push(`signature: ${o.signature.toString()}`),i.push(`Authorization { ${s.join(", ")} }`)}e.push(`authorizations: [ ${i.join(", ")} ]`)}return`Transaction { ${e.join(", ")} }`}static from(e){if(e==null)return new t;if(typeof e=="string"){let n=Ie(e);if(n[0]>=127)return t.from(_ur(n));switch(n[0]){case 1:return t.from(Aur(n));case 2:return t.from(Sur(n));case 3:return t.from(Tur(n));case 4:return t.from(Iur(n))}ce(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}let r=new t;return e.type!=null&&(r.type=e.type),e.to!=null&&(r.to=e.to),e.nonce!=null&&(r.nonce=e.nonce),e.gasLimit!=null&&(r.gasLimit=e.gasLimit),e.gasPrice!=null&&(r.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(r.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(r.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(r.data=e.data),e.value!=null&&(r.value=e.value),e.chainId!=null&&(r.chainId=e.chainId),e.signature!=null&&(r.signature=Xi.from(e.signature)),e.accessList!=null&&(r.accessList=e.accessList),e.authorizationList!=null&&(r.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(r.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(r.kzg=e.kzg),e.blobWrapperVersion!=null&&(r.blobWrapperVersion=e.blobWrapperVersion),e.blobs!=null&&(r.blobs=e.blobs),e.hash!=null&&(W(r.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),W(r.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(W(r.isSigned(),"unsigned transaction cannot define '.from'","tx",e),W(r.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),r}};function GE(t){return W(typeof t.address=="string","invalid address for hashAuthorization","auth.address",t),mr(Gt(["0x05",sa([t.chainId!=null?Hr(t.chainId):"0x",Ct(t.address),t.nonce!=null?Hr(t.nonce):"0x"])]))}function hye(t,e){return xp(GE(t),e)}function Si(t){return mr(jr(t))}var Nur="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI",hft=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),gft=4;function Our(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,o=[0,1];for(let R=1;R<n;R++)o.push(i+=r());let s=r(),a=e;e+=s;let c=0,l=0;function u(){return c==0&&(l=l<<8|t[e++],c=8),l>>--c&1}let d=31,p=2**d,f=p>>>1,h=f>>1,m=p-1,g=0;for(let R=0;R<d;R++)g=g<<1|u();let b=[],_=0,x=p;for(;;){let R=Math.floor(((g-_+1)*i-1)/x),I=0,D=n;for(;D-I>1;){let $=I+D>>>1;R<o[$]?D=$:I=$}if(I==0)break;b.push(I);let k=_+Math.floor(x*o[I]/i),O=_+Math.floor(x*o[I+1]/i)-1;for(;((k^O)&f)==0;)g=g<<1&m|u(),k=k<<1&m,O=O<<1&m|1;for(;k&~O&h;)g=g&f|g<<1&m>>>1|u(),k=k<<1^f,O=(O^f)<<1|f|1;_=k,x=1+O-k}let E=n-4;return b.map(R=>{switch(R-E){case 3:return E+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return E+256+(t[a++]<<8|t[a++]);case 1:return E+t[a++];default:return R-1}})}function Pur(t){let e=0;return()=>t[e++]}function _ft(t){return Pur(Our(kur(t)))}function kur(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,o)=>e[i.charCodeAt(0)]=o);let r=t.length,n=new Uint8Array(6*r>>3);for(let i=0,o=0,s=0,a=0;i<r;i++)a=a<<6|e[t.charCodeAt(i)],s+=6,s>=8&&(n[o++]=a>>(s-=8));return n}function Dur(t){return t&1?~t>>1:t>>1}function Mur(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=Dur(e());return r}function PN(t,e=0){let r=[];for(;;){let n=t(),i=t();if(!i)break;e+=n;for(let o=0;o<i;o++)r.push(e+o);e+=i+1}return r}function xft(t){return kN(()=>{let e=PN(t);if(e.length)return e})}function Sft(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(Lur(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(Bur(r,t))}return e.flat()}function kN(t){let e=[];for(;;){let r=t(e.length);if(!r)break;e.push(r)}return e}function wft(t,e,r){let n=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)Mur(t,r).forEach((o,s)=>n[s].push(o));return n}function Lur(t,e){let r=1+e(),n=e(),i=kN(e);return wft(i.length,1+t,e).flatMap((s,a)=>{let[c,...l]=s;return Array(i[a]).fill().map((u,d)=>{let p=d*n;return[c+d*r,l.map(f=>f+p)]})})}function Bur(t,e){let r=1+e();return wft(r,1+t,e).map(i=>[i[0],i.slice(1)])}function $ur(t){let e=[],r=PN(t);return i(n([]),[]),e;function n(o){let s=t(),a=kN(()=>{let c=PN(t).map(l=>r[l]);if(c.length)return n(c)});return{S:s,B:a,Q:o}}function i({S:o,B:s},a,c){if(!(o&4&&c===a[a.length-1])){o&2&&(c=a[a.length-1]),o&1&&e.push(a);for(let l of s)for(let u of l.Q)i(l,[...a,u],c)}}}function Uur(t){return t.toString(16).toUpperCase().padStart(2,"0")}function Aft(t){return`{${Uur(t)}}`}function Fur(t){let e=[];for(let r=0,n=t.length;r<n;){let i=t.codePointAt(r);r+=i<65536?1:2,e.push(i)}return e}function JE(t){let r=t.length;if(r<4096)return String.fromCodePoint(...t);let n=[];for(let i=0;i<r;)n.push(String.fromCodePoint(...t.slice(i,i+=4096)));return n.join("")}function zur(t,e){let r=t.length,n=r-e.length;for(let i=0;n==0&&i<r;i++)n=t[i]-e[i];return n}var Vur="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g",DN=44032,lH=4352,uH=4449,dH=4519,Eft=19,Tft=21,WE=28,pH=Tft*WE,Hur=Eft*pH,Gur=DN+Hur,jur=lH+Eft,qur=uH+Tft,Jur=dH+WE;function NN(t){return t>>24&255}function Rft(t){return t&16777215}var yye,yft,bye,cH;function Wur(){let t=_ft(Vur);yye=new Map(xft(t).flatMap((e,r)=>e.map(n=>[n,r+1<<24]))),yft=new Set(PN(t)),bye=new Map,cH=new Map;for(let[e,r]of Sft(t)){if(!yft.has(e)&&r.length==2){let[n,i]=r,o=cH.get(n);o||(o=new Map,cH.set(n,o)),o.set(i,e)}bye.set(e,r.reverse())}}function Ift(t){return t>=DN&&t<Gur}function Kur(t,e){if(t>=lH&&t<jur&&e>=uH&&e<qur)return DN+(t-lH)*pH+(e-uH)*WE;if(Ift(t)&&e>dH&&e<Jur&&(t-DN)%WE==0)return t+(e-dH);{let r=cH.get(t);return r&&(r=r.get(e),r)?r:-1}}function Cft(t){yye||Wur();let e=[],r=[],n=!1;function i(o){let s=yye.get(o);s&&(n=!0,o|=s),e.push(o)}for(let o of t)for(;;){if(o<128)e.push(o);else if(Ift(o)){let s=o-DN,a=s/pH|0,c=s%pH/WE|0,l=s%WE;i(lH+a),i(uH+c),l>0&&i(dH+l)}else{let s=bye.get(o);s?r.push(...s):i(o)}if(!r.length)break;o=r.pop()}if(n&&e.length>1){let o=NN(e[0]);for(let s=1;s<e.length;s++){let a=NN(e[s]);if(a==0||o<=a){o=a;continue}let c=s-1;for(;;){let l=e[c+1];if(e[c+1]=e[c],e[c]=l,!c||(o=NN(e[--c]),o<=a))break}o=NN(e[s])}}return e}function Qur(t){let e=[],r=[],n=-1,i=0;for(let o of t){let s=NN(o),a=Rft(o);if(n==-1)s==0?n=a:e.push(a);else if(i>0&&i>=s)s==0?(e.push(n,...r),r.length=0,n=a):r.push(a),i=s;else{let c=Kur(n,a);c>=0?n=c:i==0&&s==0?(e.push(n),n=a):(r.push(a),i=s)}}return n>=0&&e.push(n,...r),e}function Nft(t){return Cft(t).map(Rft)}function Xur(t){return Qur(Cft(t))}var bft=45;var Oft=".",Pft=65039,kft=1,fH=t=>Array.from(t);function MN(t,e){return t.P.has(e)||t.Q.has(e)}var vye=class extends Array{get is_emoji(){return!0}},_ye,Dft,H_,xye,Mft,Yur,qE,gye,jE,V_,vft,Sye;function wye(){if(_ye)return;let t=_ft(Nur),e=()=>PN(t),r=()=>new Set(e()),n=(u,d)=>d.forEach(p=>u.add(p));_ye=new Map(Sft(t)),Dft=r(),H_=e(),xye=new Set(e().map(u=>H_[u])),H_=new Set(H_),Mft=r(),Yur=r();let i=xft(t),o=t(),s=()=>{let u=new Set;return e().forEach(d=>n(u,i[d])),n(u,e()),u};qE=kN(u=>{let d=kN(t).map(p=>p+96);if(d.length){let p=u>=o;d[0]-=32,d=JE(d),p&&(d=`Restricted[${d}]`);let f=s(),h=s(),m=!t();return{N:d,P:f,Q:h,M:m,R:p}}}),gye=r(),jE=new Map;let a=e().concat(fH(gye)).sort((u,d)=>u-d);a.forEach((u,d)=>{let p=t(),f=a[d]=p?a[d-p]:{V:[],M:new Map};f.V.push(u),gye.has(u)||jE.set(u,f)});for(let{V:u,M:d}of new Set(jE.values())){let p=[];for(let h of u){let m=qE.filter(b=>MN(b,h)),g=p.find(({G:b})=>m.some(_=>b.has(_)));g||(g={G:new Set,V:[]},p.push(g)),g.V.push(h),n(g.G,m)}let f=p.flatMap(h=>fH(h.G));for(let{G:h,V:m}of p){let g=new Set(f.filter(b=>!h.has(b)));for(let b of m)d.set(b,g)}}V_=new Set;let c=new Set,l=u=>V_.has(u)?c.add(u):V_.add(u);for(let u of qE){for(let d of u.P)l(d);for(let d of u.Q)l(d)}for(let u of V_)!jE.has(u)&&!c.has(u)&&jE.set(u,kft);n(V_,Nft(V_)),vft=$ur(t).map(u=>vye.from(u)).sort(zur),Sye=new Map;for(let u of vft){let d=[Sye];for(let p of u){let f=d.map(h=>{let m=h.get(p);return m||(m=new Map,h.set(p,m)),m});p===Pft?d.push(...f):d=f}for(let p of d)p.V=u}}function Aye(t){return(Lft(t)?"":`${Eye(mH([t]))} `)+Aft(t)}function Eye(t){return`"${t}"\u200E`}function Zur(t){if(t.length>=4&&t[2]==bft&&t[3]==bft)throw new Error(`invalid label extension: "${JE(t.slice(0,4))}"`)}function edr(t){for(let r=t.lastIndexOf(95);r>0;)if(t[--r]!==95)throw new Error("underscore allowed only at start")}function tdr(t){let e=t[0],r=hft.get(e);if(r)throw ON(`leading ${r}`);let n=t.length,i=-1;for(let o=1;o<n;o++){e=t[o];let s=hft.get(e);if(s){if(i==o)throw ON(`${r} + ${s}`);i=o+1,r=s}}if(i==n)throw ON(`trailing ${r}`)}function mH(t,e=1/0,r=Aft){let n=[];rdr(t[0])&&n.push("\u25CC"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,o=t.length;for(let s=0;s<o;s++){let a=t[s];Lft(a)&&(n.push(JE(t.slice(i,s))),n.push(r(a)),i=s+1)}return n.push(JE(t.slice(i,o))),n.join("")}function rdr(t){return wye(),H_.has(t)}function Lft(t){return wye(),Mft.has(t)}function Bft(t){return sdr(ndr(t,Xur,ldr))}function ndr(t,e,r){if(!t)return[];wye();let n=0;return t.split(Oft).map(i=>{let o=Fur(i),s={input:o,offset:n};n+=o.length+1;try{let a=s.tokens=cdr(o,e,r),c=a.length,l;if(!c)throw new Error("empty label");let u=s.output=a.flat();if(edr(u),!(s.emoji=c>1||a[0].is_emoji)&&u.every(p=>p<128))Zur(u),l="ASCII";else{let p=a.flatMap(f=>f.is_emoji?[]:f);if(!p.length)l="Emoji";else{if(H_.has(u[0]))throw ON("leading combining mark");for(let m=1;m<c;m++){let g=a[m];if(!g.is_emoji&&H_.has(g[0]))throw ON(`emoji + combining mark: "${JE(a[m-1])} + ${mH([g[0]])}"`)}tdr(u);let f=fH(new Set(p)),[h]=odr(f);adr(h,p),idr(h,f),l=h.N}}s.type=l}catch(a){s.error=a}return s})}function idr(t,e){let r,n=[];for(let i of e){let o=jE.get(i);if(o===kft)return;if(o){let s=o.M.get(i);if(r=r?r.filter(a=>s.has(a)):fH(s),!r.length)return}else n.push(i)}if(r){for(let i of r)if(n.every(o=>MN(i,o)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function odr(t){let e=qE;for(let r of t){let n=e.filter(i=>MN(i,r));if(!n.length)throw qE.some(i=>MN(i,r))?Uft(e[0],r):$ft(r);if(e=n,n.length==1)break}return e}function sdr(t){return t.map(({input:e,error:r,output:n})=>{if(r){let i=r.message;throw new Error(t.length==1?i:`Invalid label ${Eye(mH(e,63))}: ${i}`)}return JE(n)}).join(Oft)}function $ft(t){return new Error(`disallowed character: ${Aye(t)}`)}function Uft(t,e){let r=Aye(e),n=qE.find(i=>i.P.has(e));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${t.N} + ${r}`)}function ON(t){return new Error(`illegal placement: ${t}`)}function adr(t,e){for(let r of e)if(!MN(t,r))throw Uft(t,r);if(t.M){let r=Nft(e);for(let n=1,i=r.length;n<i;n++)if(xye.has(r[n])){let o=n+1;for(let s;o<i&&xye.has(s=r[o]);o++)for(let a=n;a<o;a++)if(r[a]==s)throw new Error(`duplicate non-spacing marks: ${Aye(s)}`);if(o-n>gft)throw new Error(`excessive non-spacing marks: ${Eye(mH(r.slice(n-1,o)))} (${o-n}/${gft})`);n=o}}}function cdr(t,e,r){let n=[],i=[];for(t=t.slice().reverse();t.length;){let o=udr(t);if(o)i.length&&(n.push(e(i)),i=[]),n.push(r(o));else{let s=t.pop();if(V_.has(s))i.push(s);else{let a=_ye.get(s);if(a)i.push(...a);else if(!Dft.has(s))throw $ft(s)}}}return i.length&&n.push(e(i)),n}function ldr(t){return t.filter(e=>e!=Pft)}function udr(t,e){let r=Sye,n,i=t.length;for(;i&&(r=r.get(t[--i]),!!r);){let{V:o}=r;o&&(n=o,e&&e.push(...t.slice(i).reverse()),t.length=i)}return n}var zft=new Uint8Array(32);zft.fill(0);function Fft(t){return W(t.length!==0,"invalid ENS name; empty component","comp",t),t}function Tye(t){let e=jr(hH(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(Fft(e.slice(n,i))),n=i+1);return W(n<e.length,"invalid ENS name; empty component","name",t),r.push(Fft(e.slice(n))),r}function hH(t){try{if(t.length===0)throw new Error("empty label");return Bft(t)}catch(e){W(!1,`invalid ENS name (${e.message})`,"name",t)}}function Rye(t){try{return Tye(t).length!==0}catch{}return!1}function Ry(t){W(typeof t=="string","invalid ENS name; not a string","name",t),W(t.length,"invalid ENS name (empty label)","name",t);let e=zft,r=Tye(t);for(;r.length;)e=mr(Gt([e,mr(r.pop())]));return ve(e)}function LN(t,e){let r=e??63;return W(r<=255,"DNS encoded label cannot exceed 255","length",r),ve(Gt(Tye(t).map(n=>{W(n.length<=r,`label ${JSON.stringify(t)} exceeds ${r} bytes`,"name",t);let i=new Uint8Array(n.length+1);return i.set(n,1),i[0]=i.length-1,i})))+"00"}function KE(t){return typeof t=="string"&&(t=jr(t)),mr(Gt([jr(IN),jr(String(t.length)),t]))}function Iye(t,e){let r=KE(t);return xp(r,e)}var ddr=new RegExp("^bytes([0-9]+)$"),pdr=new RegExp("^(u?int)([0-9]*)$"),fdr=new RegExp("^(.*)\\[([0-9]*)\\]$");function Vft(t,e,r){switch(t){case"address":return r?Ie(Wi(e,32)):Ie(Ct(e));case"string":return jr(e);case"bytes":return Ie(e);case"bool":return e=e?"0x01":"0x00",r?Ie(Wi(e,32)):Ie(e)}let n=t.match(pdr);if(n){let i=n[1]==="int",o=parseInt(n[2]||"256");return W((!n[2]||n[2]===String(o))&&o%8===0&&o!==0&&o<=256,"invalid number type","type",t),r&&(o=256),i&&(e=lg(e,o)),Ie(Wi(Hr(e),o/8))}if(n=t.match(ddr),n){let i=parseInt(n[1]);return W(String(i)===n[1]&&i!==0&&i<=32,"invalid bytes type","type",t),W(Dc(e)===i,`invalid value for ${t}`,"value",e),r?Ie(ag(e,32)):e}if(n=t.match(fdr),n&&Array.isArray(e)){let i=n[1],o=parseInt(n[2]||String(e.length));W(o===e.length,`invalid array length for ${t}`,"value",e);let s=[];return e.forEach(function(a){s.push(Vft(i,a,!0))}),Ie(Gt(s))}W(!1,"invalid type","type",t)}function BN(t,e){W(t.length===e.length,"wrong number of values; expected ${ types.length }","values",e);let r=[];return t.forEach(function(n,i){r.push(Vft(n,e[i]))}),ve(Gt(r))}function Cye(t,e){return mr(BN(t,e))}function Nye(t,e){return Qi(BN(t,e))}var qft=new Uint8Array(32);qft.fill(0);var mdr=BigInt(-1),Jft=BigInt(0),Wft=BigInt(1),hdr=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function gdr(t){let e=Ie(t),r=e.length%32;return r?Gt([e,qft.slice(r)]):ve(e)}var ydr=ts(Wft,32),bdr=ts(Jft,32),Hft={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Oye=["name","version","chainId","verifyingContract","salt"];function Gft(t){return function(e){return W(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}var vdr={name:Gft("name"),version:Gft("version"),chainId:function(t){let e=Ke(t,"domain.chainId");return W(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):Lo(e)},verifyingContract:function(t){try{return Ct(t).toLowerCase()}catch{}W(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){let e=Ie(t,"domain.salt");return W(e.length===32,'invalid domain value "salt"',"domain.salt",t),ve(e)}};function Pye(t){{let e=t.match(/^(u?)int(\d+)$/);if(e){let r=e[1]==="",n=parseInt(e[2]);W(n%8===0&&n!==0&&n<=256&&e[2]===String(n),"invalid numeric width","type",t);let i=bl(hdr,r?n-1:n),o=r?(i+Wft)*mdr:Jft;return function(s){let a=Ke(s,"value");return W(a>=o&&a<=i,`value out-of-bounds for ${t}`,"value",a),ts(r?lg(a,256):a,32)}}}{let e=t.match(/^bytes(\d+)$/);if(e){let r=parseInt(e[1]);return W(r!==0&&r<=32&&e[1]===String(r),"invalid bytes width","type",t),function(n){let i=Ie(n);return W(i.length===r,`invalid length for ${t}`,"value",n),gdr(n)}}}switch(t){case"address":return function(e){return Wi(Ct(e),32)};case"bool":return function(e){return e?ydr:bdr};case"bytes":return function(e){return mr(e)};case"string":return function(e){return Si(e)}}return null}function jft(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}function gH(t){let e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var sd=class t{primaryType;#e;get types(){return JSON.parse(this.#e)}#t;#r;constructor(e){this.#t=new Map,this.#r=new Map;let r=new Map,n=new Map,i=new Map,o={};Object.keys(e).forEach(c=>{o[c]=e[c].map(({name:l,type:u})=>{let{base:d,index:p}=gH(u);return d==="int"&&!e.int&&(d="int256"),d==="uint"&&!e.uint&&(d="uint256"),{name:l,type:d+(p||"")}}),r.set(c,new Set),n.set(c,[]),i.set(c,new Set)}),this.#e=JSON.stringify(o);for(let c in o){let l=new Set;for(let u of o[c]){W(!l.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(c)}`,"types",e),l.add(u.name);let d=gH(u.type).base;W(d!==c,`circular type reference to ${JSON.stringify(d)}`,"types",e),!Pye(d)&&(W(n.has(d),`unknown type ${JSON.stringify(d)}`,"types",e),n.get(d).push(c),r.get(c).add(d))}}let s=Array.from(n.keys()).filter(c=>n.get(c).length===0);W(s.length!==0,"missing primary type","types",e),W(s.length===1,`ambiguous primary types or unused types: ${s.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),Me(this,{primaryType:s[0]});function a(c,l){W(!l.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),l.add(c);for(let u of r.get(c))if(n.has(u)){a(u,l);for(let d of l)i.get(d).add(u)}l.delete(c)}a(this.primaryType,new Set);for(let[c,l]of i){let u=Array.from(l);u.sort(),this.#t.set(c,jft(c,o[c])+u.map(d=>jft(d,o[d])).join(""))}}getEncoder(e){let r=this.#r.get(e);return r||(r=this.#n(e),this.#r.set(e,r)),r}#n(e){{let i=Pye(e);if(i)return i}let r=gH(e).array;if(r){let i=r.prefix,o=this.getEncoder(i);return s=>{W(r.count===-1||r.count===s.length,`array length mismatch; expected length ${r.count}`,"value",s);let a=s.map(o);return this.#t.has(i)&&(a=a.map(mr)),mr(Gt(a))}}let n=this.types[e];if(n){let i=Si(this.#t.get(e));return o=>{let s=n.map(({name:a,type:c})=>{let l=this.getEncoder(c)(o[a]);return this.#t.has(c)?mr(l):l});return s.unshift(i),Gt(s)}}W(!1,`unknown type: ${e}`,"type",e)}encodeType(e){let r=this.#t.get(e);return W(r,`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return mr(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(Pye(e))return n(e,r);let i=gH(e).array;if(i)return W(i.count===-1||i.count===r.length,`array length mismatch; expected length ${i.count}`,"value",r),r.map(s=>this._visit(i.prefix,s,n));let o=this.types[e];if(o)return o.reduce((s,{name:a,type:c})=>(s[a]=this._visit(c,r[a],n),s),{});W(!1,`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new t(e)}static getPrimaryType(e){return t.from(e).primaryType}static hashStruct(e,r,n){return t.from(r).hashStruct(e,n)}static hashDomain(e){let r=[];for(let n in e){if(e[n]==null)continue;let i=Hft[n];W(i,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>Oye.indexOf(n.name)-Oye.indexOf(i.name)),t.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return Gt(["0x1901",t.hashDomain(e),t.from(r).hash(n)])}static hash(e,r,n){return mr(t.encode(e,r,n))}static async resolveNames(e,r,n,i){e=Object.assign({},e);for(let a in e)e[a]==null&&delete e[a];let o={};e.verifyingContract&&!br(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");let s=t.from(r);s.visit(n,(a,c)=>(a==="address"&&!br(c,20)&&(o[c]="0x"),c));for(let a in o)o[a]=await i(a);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),n=s.visit(n,(a,c)=>a==="address"&&o[c]?o[c]:c),{domain:e,value:n}}static getPayload(e,r,n){t.hashDomain(e);let i={},o=[];Oye.forEach(c=>{let l=e[c];l!=null&&(i[c]=vdr[c](l),o.push({name:c,type:Hft[c]}))});let s=t.from(r);r=s.types;let a=Object.assign({},r);return W(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",r),a.EIP712Domain=o,s.encode(n),{types:a,domain:i,primaryType:s.primaryType,message:s.visit(n,(c,l)=>{if(c.match(/^bytes(\d*)/))return ve(Ie(l));if(c.match(/^u?int/))return Ke(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return W(typeof l=="string","invalid string","value",l),l}W(!1,"unsupported type","type",c)})}}};function kye(t,e,r,n){return xp(sd.hash(t,e,r),n)}function $a(t){let e=new Set;return t.forEach(r=>e.add(r)),Object.freeze(e)}var _dr="external public payable override",xdr=$a(_dr.split(" ")),imt="constant external internal payable private public pure view override",Sdr=$a(imt.split(" ")),omt="constructor error event fallback function receive struct",smt=$a(omt.split(" ")),amt="calldata memory storage payable indexed",wdr=$a(amt.split(" ")),Adr="tuple returns",Edr=[omt,amt,Adr,imt].join(" "),Tdr=$a(Edr.split(" ")),Rdr={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Idr=new RegExp("^(\\s*)"),Cdr=new RegExp("^([0-9]+)"),Ndr=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),cmt=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),lmt=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$"),Sp=class t{#e;#t;get offset(){return this.#e}get length(){return this.#t.length-this.#e}constructor(e){this.#e=0,this.#t=e.slice()}clone(){return new t(this.#t)}reset(){this.#e=0}#r(e=0,r=0){return new t(this.#t.slice(e,r).map(n=>Object.freeze(Object.assign({},n,{match:n.match-e,linkBack:n.linkBack-e,linkNext:n.linkNext-e}))))}popKeyword(e){let r=this.peek();if(r.type!=="KEYWORD"||!e.has(r.text))throw new Error(`expected keyword ${r.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){let r=this.peek();throw new Error(`expected ${e}; got ${r.type} ${JSON.stringify(r.text)}`)}return this.pop().text}popParen(){let e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");let r=this.#r(this.#e+1,e.match+1);return this.#e=e.match+1,r}popParams(){let e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");let r=[];for(;this.#e<e.match-1;){let n=this.peek().linkNext;r.push(this.#r(this.#e+1,n)),this.#e=n}return this.#e=e.match+1,r}peek(){if(this.#e>=this.#t.length)throw new Error("out-of-bounds");return this.#t[this.#e]}peekKeyword(e){let r=this.peekType("KEYWORD");return r!=null&&e.has(r)?r:null}peekType(e){if(this.length===0)return null;let r=this.peek();return r.type===e?r.text:null}pop(){let e=this.peek();return this.#e++,e}toString(){let e=[];for(let r=this.#e;r<this.#t.length;r++){let n=this.#t[r];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}};function Cy(t){let e=[],r=s=>{let a=o<t.length?JSON.stringify(t[o]):"$EOI";throw new Error(`invalid token ${a} at ${o}: ${s}`)},n=[],i=[],o=0;for(;o<t.length;){let s=t.substring(o),a=s.match(Idr);a&&(o+=a[1].length,s=t.substring(o));let c={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:o,value:-1};e.push(c);let l=Rdr[s[0]]||"";if(l){if(c.type=l,c.text=s[0],o++,l==="OPEN_PAREN")n.push(e.length-1),i.push(e.length-1);else if(l=="CLOSE_PAREN")n.length===0&&r("no matching open bracket"),c.match=n.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=i.pop(),e[c.linkBack].linkNext=e.length-1;else if(l==="COMMA")c.linkBack=i.pop(),e[c.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(l==="OPEN_BRACKET")c.type="BRACKET";else if(l==="CLOSE_BRACKET"){let u=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){let d=e.pop().text;u=d+u,e[e.length-1].value=At(d)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=u}continue}if(a=s.match(Ndr),a){if(c.text=a[1],o+=c.text.length,Tdr.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(lmt)){c.type="TYPE";continue}c.type="ID";continue}if(a=s.match(Cdr),a){c.text=a[1],c.type="NUMBER",o+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(s[0])} at position ${o}`)}return new Sp(e.map(s=>Object.freeze(s)))}function Kft(t,e){let r=[];for(let n in e.keys())t.has(n)&&r.push(n);if(r.length>1)throw new Error(`conflicting types: ${r.join(", ")}`)}function yH(t,e){if(e.peekKeyword(smt)){let r=e.pop().text;if(r!==t)throw new Error(`expected ${t}, got ${r}`)}return e.popType("ID")}function yg(t,e){let r=new Set;for(;;){let n=t.peekType("KEYWORD");if(n==null||e&&!e.has(n))break;if(t.pop(),r.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function umt(t){let e=yg(t,Sdr);return Kft(e,$a("constant payable nonpayable".split(" "))),Kft(e,$a("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function gg(t,e){return t.popParams().map(r=>Ui.from(r,e))}function dmt(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return Ke(t.pop().text);throw new Error("invalid gas")}return null}function G_(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}var Odr=new RegExp(/^(.*)\[([0-9]*)\]$/);function Qft(t){let e=t.match(lmt);if(W(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){let r=parseInt(e[2]);W(r!==0&&r<=32,"invalid bytes length","type",t)}else if(e[3]){let r=parseInt(e[3]);W(r!==0&&r<=256&&r%8===0,"invalid numeric width","type",t)}return t}var wi={},Mc=Symbol.for("_ethers_internal"),Xft="_ParamTypeInternal",Yft="_ErrorInternal",Zft="_EventInternal",emt="_ConstructorInternal",tmt="_FallbackInternal",rmt="_FunctionInternal",nmt="_StructInternal",Ui=class t{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,r,n,i,o,s,a,c){if(As(e,wi,"ParamType"),Object.defineProperty(this,Mc,{value:Xft}),s&&(s=Object.freeze(s.slice())),i==="array"){if(a==null||c==null)throw new Error("")}else if(a!=null||c!=null)throw new Error("");if(i==="tuple"){if(s==null)throw new Error("")}else if(s!=null)throw new Error("");Me(this,{name:r,type:n,baseType:i,indexed:o,components:s,arrayLength:a,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){let n=this.name||"";if(this.isArray()){let o=JSON.parse(this.arrayChildren.format("json"));return o.name=n,o.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(o)}let i={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(o=>JSON.parse(o.format(e)))),JSON.stringify(i)}let r="";return this.isArray()?(r+=this.arrayChildren.format(e),r+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?r+="("+this.components.map(n=>n.format(e)).join(e==="full"?", ":",")+")":r+=this.type,e!=="sighash"&&(this.indexed===!0&&(r+=" indexed"),e==="full"&&this.name&&(r+=" "+this.name)),r}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,r){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");let n=this;return e.map(i=>n.arrayChildren.walk(i,r))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");let n=this;return e.map((i,o)=>n.components[o].walk(i,r))}return r(this.type,e)}#e(e,r,n,i){if(this.isArray()){if(!Array.isArray(r))throw new Error("invalid array value");if(this.arrayLength!==-1&&r.length!==this.arrayLength)throw new Error("array is wrong length");let s=this.arrayChildren,a=r.slice();a.forEach((c,l)=>{s.#e(e,c,n,u=>{a[l]=u})}),i(a);return}if(this.isTuple()){let s=this.components,a;if(Array.isArray(r))a=r.slice();else{if(r==null||typeof r!="object")throw new Error("invalid tuple value");a=s.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in r))throw new Error(`missing value for component ${c.name}`);return r[c.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((c,l)=>{s[l].#e(e,c,n,u=>{a[l]=u})}),i(a);return}let o=n(this.type,r);o.then?e.push((async function(){i(await o)})()):i(o)}async walkAsync(e,r){let n=[],i=[e];return this.#e(n,e,r,o=>{i[0]=o}),n.length&&await Promise.all(n),i[0]}static from(e,r){if(t.isParamType(e))return e;if(typeof e=="string")try{return t.from(Cy(e),r)}catch{W(!1,"invalid param type","obj",e)}else if(e instanceof Sp){let a="",c="",l=null;yg(e,$a(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",l=e.popParams().map(m=>t.from(m)),a=`tuple(${l.map(m=>m.format()).join(",")})`):(a=Qft(e.popType("TYPE")),c=a);let u=null,d=null;for(;e.length&&e.peekType("BRACKET");){let m=e.pop();u=new t(wi,"",a,c,null,l,d,u),d=m.value,a+=m.text,c="array",l=null}let p=null;if(yg(e,wdr).has("indexed")){if(!r)throw new Error("");p=!0}let h=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new t(wi,h,a,c,p,l,d,u)}let n=e.name;W(!n||typeof n=="string"&&n.match(cmt),"invalid name","obj.name",n);let i=e.indexed;i!=null&&(W(r,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let o=e.type,s=o.match(Odr);if(s){let a=parseInt(s[2]||"-1"),c=t.from({type:s[1],components:e.components});return new t(wi,n||"",o,"array",i,null,a,c)}if(o==="tuple"||o.startsWith("tuple(")||o.startsWith("(")){let a=e.components!=null?e.components.map(l=>t.from(l)):null;return new t(wi,n||"",o,"tuple",i,a,null,null)}return o=Qft(e.type),new t(wi,n||"",o,o,i,null,null,null)}static isParamType(e){return e&&e[Mc]===Xft}},Xf=class t{type;inputs;constructor(e,r,n){As(e,wi,"Fragment"),n=Object.freeze(n.slice()),Me(this,{type:r,inputs:n})}static from(e){if(typeof e=="string"){try{t.from(JSON.parse(e))}catch{}return t.from(Cy(e))}if(e instanceof Sp)switch(e.peekKeyword(smt)){case"constructor":return Kf.from(e);case"error":return Ua.from(e);case"event":return Wf.from(e);case"fallback":case"receive":return j_.from(e);case"function":return Qf.from(e);case"struct":return Iy.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Kf.from(e);case"error":return Ua.from(e);case"event":return Wf.from(e);case"fallback":case"receive":return j_.from(e);case"function":return Qf.from(e);case"struct":return Iy.from(e)}ce(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}W(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Kf.isFragment(e)}static isError(e){return Ua.isFragment(e)}static isEvent(e){return Wf.isFragment(e)}static isFunction(e){return Qf.isFragment(e)}static isStruct(e){return Iy.isFragment(e)}},bg=class extends Xf{name;constructor(e,r,n,i){super(e,r,i),W(typeof n=="string"&&n.match(cmt),"invalid identifier","name",n),i=Object.freeze(i.slice()),Me(this,{name:n})}};function $N(t,e){return"("+e.map(r=>r.format(t)).join(t==="full"?", ":",")+")"}var Ua=class t extends bg{constructor(e,r,n){super(e,"error",r,n),Object.defineProperty(this,Mc,{value:Yft})}get selector(){return Si(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r=[];return e!=="sighash"&&r.push("error"),r.push(this.name+$N(e,this.inputs)),r.join(" ")}static from(e){if(t.isFragment(e))return e;if(typeof e=="string")return t.from(Cy(e));if(e instanceof Sp){let r=yH("error",e),n=gg(e);return G_(e),new t(wi,r,n)}return new t(wi,e.name,e.inputs?e.inputs.map(Ui.from):[])}static isFragment(e){return e&&e[Mc]===Yft}},Wf=class t extends bg{anonymous;constructor(e,r,n,i){super(e,"event",r,n),Object.defineProperty(this,Mc,{value:Zft}),Me(this,{anonymous:i})}get topicHash(){return Si(this.format("sighash"))}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r=[];return e!=="sighash"&&r.push("event"),r.push(this.name+$N(e,this.inputs)),e!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(e,r){return r=(r||[]).map(i=>Ui.from(i)),new t(wi,e,r,!1).topicHash}static from(e){if(t.isFragment(e))return e;if(typeof e=="string")try{return t.from(Cy(e))}catch{W(!1,"invalid event fragment","obj",e)}else if(e instanceof Sp){let r=yH("event",e),n=gg(e,!0),i=!!yg(e,$a(["anonymous"])).has("anonymous");return G_(e),new t(wi,r,n,i)}return new t(wi,e.name,e.inputs?e.inputs.map(r=>Ui.from(r,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[Mc]===Zft}},Kf=class t extends Xf{payable;gas;constructor(e,r,n,i,o){super(e,r,n),Object.defineProperty(this,Mc,{value:emt}),Me(this,{payable:i,gas:o})}format(e){if(ce(e!=null&&e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r=[`constructor${$N(e,this.inputs)}`];return this.payable&&r.push("payable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(e){if(t.isFragment(e))return e;if(typeof e=="string")try{return t.from(Cy(e))}catch{W(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof Sp){yg(e,$a(["constructor"]));let r=gg(e),n=!!yg(e,xdr).has("payable"),i=dmt(e);return G_(e),new t(wi,"constructor",r,n,i)}return new t(wi,"constructor",e.inputs?e.inputs.map(Ui.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Mc]===emt}},j_=class t extends Xf{payable;constructor(e,r,n){super(e,"fallback",r),Object.defineProperty(this,Mc,{value:tmt}),Me(this,{payable:n})}format(e){let r=this.inputs.length===0?"receive":"fallback";if(e==="json"){let n=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:n})}return`${r}()${this.payable?" payable":""}`}static from(e){if(t.isFragment(e))return e;if(typeof e=="string")try{return t.from(Cy(e))}catch{W(!1,"invalid fallback fragment","obj",e)}else if(e instanceof Sp){let r=e.toString(),n=e.peekKeyword($a(["fallback","receive"]));if(W(n,"type must be fallback or receive","obj",r),e.popKeyword($a(["fallback","receive"]))==="receive"){let a=gg(e);return W(a.length===0,"receive cannot have arguments","obj.inputs",a),yg(e,$a(["payable"])),G_(e),new t(wi,[],!0)}let o=gg(e);o.length?W(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(a=>a.format("minimal")).join(", ")):o=[Ui.from("bytes")];let s=umt(e);if(W(s==="nonpayable"||s==="payable","fallback cannot be constants","obj.stateMutability",s),yg(e,$a(["returns"])).has("returns")){let a=gg(e);W(a.length===1&&a[0].type==="bytes","invalid fallback outputs","obj.outputs",a.map(c=>c.format("minimal")).join(", "))}return G_(e),new t(wi,o,s==="payable")}if(e.type==="receive")return new t(wi,[],!0);if(e.type==="fallback"){let r=[Ui.from("bytes")],n=e.stateMutability==="payable";return new t(wi,r,n)}W(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[Mc]===tmt}},Qf=class t extends bg{constant;outputs;stateMutability;payable;gas;constructor(e,r,n,i,o,s){super(e,"function",r,i),Object.defineProperty(this,Mc,{value:rmt}),o=Object.freeze(o.slice()),Me(this,{constant:n==="view"||n==="pure",gas:s,outputs:o,payable:n==="payable",stateMutability:n})}get selector(){return Si(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r=[];return e!=="sighash"&&r.push("function"),r.push(this.name+$N(e,this.inputs)),e!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push($N(e,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(e,r){return r=(r||[]).map(i=>Ui.from(i)),new t(wi,e,"view",r,[],null).selector}static from(e){if(t.isFragment(e))return e;if(typeof e=="string")try{return t.from(Cy(e))}catch{W(!1,"invalid function fragment","obj",e)}else if(e instanceof Sp){let n=yH("function",e),i=gg(e),o=umt(e),s=[];yg(e,$a(["returns"])).has("returns")&&(s=gg(e));let a=dmt(e);return G_(e),new t(wi,n,o,i,s,a)}let r=e.stateMutability;return r==null&&(r="payable",typeof e.constant=="boolean"?(r="view",e.constant||(r="payable",typeof e.payable=="boolean"&&!e.payable&&(r="nonpayable"))):typeof e.payable=="boolean"&&!e.payable&&(r="nonpayable")),new t(wi,e.name,r,e.inputs?e.inputs.map(Ui.from):[],e.outputs?e.outputs.map(Ui.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Mc]===rmt}},Iy=class t extends bg{constructor(e,r,n){super(e,"struct",r,n),Object.defineProperty(this,Mc,{value:nmt})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return t.from(Cy(e))}catch{W(!1,"invalid struct fragment","obj",e)}else if(e instanceof Sp){let r=yH("struct",e),n=gg(e);return G_(e),new t(wi,r,n)}return new t(wi,e.name,e.inputs?e.inputs.map(Ui.from):[])}static isFragment(e){return e&&e[Mc]===nmt}};var wp=new Map;wp.set(0,"GENERIC_PANIC");wp.set(1,"ASSERT_FALSE");wp.set(17,"OVERFLOW");wp.set(18,"DIVIDE_BY_ZERO");wp.set(33,"ENUM_RANGE_ERROR");wp.set(34,"BAD_STORAGE_DATA");wp.set(49,"STACK_UNDERFLOW");wp.set(50,"ARRAY_RANGE_ERROR");wp.set(65,"OUT_OF_MEMORY");wp.set(81,"UNINITIALIZED_FUNCTION_CALL");var Pdr=new RegExp(/^bytes([0-9]*)$/),kdr=new RegExp(/^(u?int)([0-9]*)$/),Dye=null,pmt=1024;function Ddr(t,e,r,n){let i="missing revert data",o=null,s=null,a=null;if(r){i="execution reverted";let l=Ie(r);if(r=ve(r),l.length===0)i+=" (no data present; likely require(false) occurred",o="require(false)";else if(l.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(ve(l.slice(0,4))==="0x08c379a0")try{o=n.decode(["string"],l.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[o]},i+=`: ${JSON.stringify(o)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(ve(l.slice(0,4))==="0x4e487b71")try{let u=Number(n.decode(["uint256"],l.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[u]},o=`Panic due to ${wp.get(u)||"UNKNOWN"}(${u})`,i+=`: ${o}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}let c={to:e.to?Ct(e.to):null,data:e.data||"0x"};return e.from&&(c.from=Ct(e.from)),Er(i,"CALL_EXCEPTION",{action:t,data:r,reason:o,transaction:c,invocation:s,revert:a})}var ad=class t{#e(e){if(e.isArray())return new XV(this.#e(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new U_(e.components.map(n=>this.#e(n)),e.name);switch(e.baseType){case"address":return new KV(e.name);case"bool":return new YV(e.name);case"string":return new nH(e.name);case"bytes":return new ZV(e.name);case"":return new tH(e.name)}let r=e.type.match(kdr);if(r){let n=parseInt(r[2]||"256");return W(n!==0&&n<=256&&n%8===0,"invalid "+r[1]+" bit length","param",e),new rH(n/8,r[1]==="int",e.name)}if(r=e.type.match(Pdr),r){let n=parseInt(r[1]);return W(n!==0&&n<=32,"invalid bytes length","param",e),new eH(n,e.name)}W(!1,"invalid type","type",e.type)}getDefaultValue(e){let r=e.map(i=>this.#e(Ui.from(i)));return new U_(r,"_").defaultValue()}encode(e,r){E_(r.length,e.length,"types/values length mismatch");let n=e.map(s=>this.#e(Ui.from(s))),i=new U_(n,"_"),o=new O_;return i.encode(o,r),o.data}decode(e,r,n){let i=e.map(s=>this.#e(Ui.from(s)));return new U_(i,"_").decode(new OV(r,n,pmt))}static _setDefaultMaxInflation(e){W(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),pmt=e}static defaultAbiCoder(){return Dye==null&&(Dye=new t),Dye}static getBuiltinCallException(e,r,n){return Ddr(e,r,n,t.defaultAbiCoder())}};function Mye(t){let e=jr(t);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return ag(e,32)}function Lye(t){let e=Ie(t,"bytes");if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let r=31;for(;e[r-1]===0;)r--;return Ki(e.slice(0,r))}var QE=class{fragment;name;signature;topic;args;constructor(e,r,n){let i=e.name,o=e.format();Me(this,{fragment:e,name:i,signature:o,topic:r,args:n})}},XE=class{fragment;name;args;signature;selector;value;constructor(e,r,n,i){let o=e.name,s=e.format();Me(this,{fragment:e,name:o,args:n,signature:s,selector:r,value:i})}},YE=class{fragment;name;args;signature;selector;constructor(e,r,n){let i=e.name,o=e.format();Me(this,{fragment:e,name:i,args:n,signature:o,selector:r})}},q_=class{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){Me(this,{hash:e,_isIndexed:!0})}},fmt={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},mmt={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&fmt[t.toString()]&&(e=fmt[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}},vg=class t{fragments;deploy;fallback;receive;#e;#t;#r;#n;constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,this.#r=new Map,this.#e=new Map,this.#t=new Map;let n=[];for(let s of r)try{n.push(Xf.from(s))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(s)}:`,a.message)}Me(this,{fragments:Object.freeze(n)});let i=null,o=!1;this.#n=this.getAbiCoder(),this.fragments.forEach((s,a)=>{let c;switch(s.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Me(this,{deploy:s});return;case"fallback":s.inputs.length===0?o=!0:(W(!i||s.payable!==i.payable,"conflicting fallback fragments",`fragments[${a}]`,s),i=s,o=i.payable);return;case"function":c=this.#r;break;case"event":c=this.#t;break;case"error":c=this.#e;break;default:return}let l=s.format();c.has(l)||c.set(l,s)}),this.deploy||Me(this,{deploy:Kf.from("constructor()")}),Me(this,{fallback:i,receive:o})}format(e){let r=e?"minimal":"full";return this.fragments.map(i=>i.format(r))}formatJson(){let e=this.fragments.map(r=>r.format("json"));return JSON.stringify(e.map(r=>JSON.parse(r)))}getAbiCoder(){return ad.defaultAbiCoder()}#i(e,r,n){if(br(e)){let o=e.toLowerCase();for(let s of this.#r.values())if(o===s.selector)return s;return null}if(e.indexOf("(")===-1){let o=[];for(let[s,a]of this.#r)s.split("(")[0]===e&&o.push(a);if(r){let s=r.length>0?r[r.length-1]:null,a=r.length,c=!0;En.isTyped(s)&&s.type==="overrides"&&(c=!1,a--);for(let l=o.length-1;l>=0;l--){let u=o[l].inputs.length;u!==a&&(!c||u!==a-1)&&o.splice(l,1)}for(let l=o.length-1;l>=0;l--){let u=o[l].inputs;for(let d=0;d<r.length;d++)if(En.isTyped(r[d])){if(d>=u.length){if(r[d].type==="overrides")continue;o.splice(l,1);break}if(r[d].type!==u[d].baseType){o.splice(l,1);break}}}}if(o.length===1&&r&&r.length!==o[0].inputs.length){let s=r[r.length-1];(s==null||Array.isArray(s)||typeof s!="object")&&o.splice(0,1)}if(o.length===0)return null;if(o.length>1&&n){let s=o.map(a=>JSON.stringify(a.format())).join(", ");W(!1,`ambiguous function description (i.e. matches ${s})`,"key",e)}return o[0]}let i=this.#r.get(Qf.from(e).format());return i||null}getFunctionName(e){let r=this.#i(e,null,!1);return W(r,"no matching function","key",e),r.name}hasFunction(e){return!!this.#i(e,null,!1)}getFunction(e,r){return this.#i(e,r||null,!0)}forEachFunction(e){let r=Array.from(this.#r.keys());r.sort((n,i)=>n.localeCompare(i));for(let n=0;n<r.length;n++){let i=r[n];e(this.#r.get(i),n)}}#o(e,r,n){if(br(e)){let o=e.toLowerCase();for(let s of this.#t.values())if(o===s.topicHash)return s;return null}if(e.indexOf("(")===-1){let o=[];for(let[s,a]of this.#t)s.split("(")[0]===e&&o.push(a);if(r){for(let s=o.length-1;s>=0;s--)o[s].inputs.length<r.length&&o.splice(s,1);for(let s=o.length-1;s>=0;s--){let a=o[s].inputs;for(let c=0;c<r.length;c++)if(En.isTyped(r[c])&&r[c].type!==a[c].baseType){o.splice(s,1);break}}}if(o.length===0)return null;if(o.length>1&&n){let s=o.map(a=>JSON.stringify(a.format())).join(", ");W(!1,`ambiguous event description (i.e. matches ${s})`,"key",e)}return o[0]}let i=this.#t.get(Wf.from(e).format());return i||null}getEventName(e){let r=this.#o(e,null,!1);return W(r,"no matching event","key",e),r.name}hasEvent(e){return!!this.#o(e,null,!1)}getEvent(e,r){return this.#o(e,r||null,!0)}forEachEvent(e){let r=Array.from(this.#t.keys());r.sort((n,i)=>n.localeCompare(i));for(let n=0;n<r.length;n++){let i=r[n];e(this.#t.get(i),n)}}getError(e,r){if(br(e)){let i=e.toLowerCase();if(mmt[i])return Ua.from(mmt[i].signature);for(let o of this.#e.values())if(i===o.selector)return o;return null}if(e.indexOf("(")===-1){let i=[];for(let[o,s]of this.#e)o.split("(")[0]===e&&i.push(s);if(i.length===0)return e==="Error"?Ua.from("error Error(string)"):e==="Panic"?Ua.from("error Panic(uint256)"):null;if(i.length>1){let o=i.map(s=>JSON.stringify(s.format())).join(", ");W(!1,`ambiguous error description (i.e. ${o})`,"name",e)}return i[0]}if(e=Ua.from(e).format(),e==="Error(string)")return Ua.from("error Error(string)");if(e==="Panic(uint256)")return Ua.from("error Panic(uint256)");let n=this.#e.get(e);return n||null}forEachError(e){let r=Array.from(this.#e.keys());r.sort((n,i)=>n.localeCompare(i));for(let n=0;n<r.length;n++){let i=r[n];e(this.#e.get(i),n)}}_decodeParams(e,r){return this.#n.decode(e,r)}_encodeParams(e,r){return this.#n.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){if(typeof e=="string"){let n=this.getError(e);W(n,"unknown error","fragment",e),e=n}return W(Gr(r,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",r),this._decodeParams(e.inputs,Gr(r,4))}encodeErrorResult(e,r){if(typeof e=="string"){let n=this.getError(e);W(n,"unknown error","fragment",e),e=n}return Gt([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionData(e,r){if(typeof e=="string"){let n=this.getFunction(e);W(n,"unknown function","fragment",e),e=n}return W(Gr(r,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",r),this._decodeParams(e.inputs,Gr(r,4))}encodeFunctionData(e,r){if(typeof e=="string"){let n=this.getFunction(e);W(n,"unknown function","fragment",e),e=n}return Gt([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionResult(e,r){if(typeof e=="string"){let o=this.getFunction(e);W(o,"unknown function","fragment",e),e=o}let n="invalid length for result data",i=An(r);if(i.length%32===0)try{return this.#n.decode(e.outputs,i)}catch{n="could not decode result data"}ce(!1,n,"BAD_DATA",{value:ve(i),info:{method:e.name,signature:e.format()}})}makeError(e,r){let n=Ie(e,"data"),i=ad.getBuiltinCallException("call",r,n);if(i.message.startsWith("execution reverted (unknown custom error)")){let a=ve(n.slice(0,4)),c=this.getError(a);if(c)try{let l=this.#n.decode(c.inputs,n.slice(4));i.revert={name:c.name,signature:c.format(),args:l},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}let s=this.parseTransaction(r);return s&&(i.invocation={method:s.name,signature:s.signature,args:s.args}),i}encodeFunctionResult(e,r){if(typeof e=="string"){let n=this.getFunction(e);W(n,"unknown function","fragment",e),e=n}return ve(this.#n.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){if(typeof e=="string"){let o=this.getEvent(e);W(o,"unknown event","eventFragment",e),e=o}ce(r.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:r.length,expectedCount:e.inputs.length});let n=[];e.anonymous||n.push(e.topicHash);let i=(o,s)=>o.type==="string"?Si(s):o.type==="bytes"?mr(ve(s)):(o.type==="bool"&&typeof s=="boolean"?s=s?"0x01":"0x00":o.type.match(/^u?int/)?s=ts(s):o.type.match(/^bytes/)?s=ag(s,32):o.type==="address"&&this.#n.encode(["address"],[s]),Wi(ve(s),32));for(r.forEach((o,s)=>{let a=e.inputs[s];if(!a.indexed){W(o==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,o);return}o==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?W(!1,"filtering with tuples or arrays not supported","contract."+a.name,o):Array.isArray(o)?n.push(o.map(c=>i(a,c))):n.push(i(a,o))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){if(typeof e=="string"){let s=this.getEvent(e);W(s,"unknown event","eventFragment",e),e=s}let n=[],i=[],o=[];return e.anonymous||n.push(e.topicHash),W(r.length===e.inputs.length,"event arguments/values mismatch","values",r),e.inputs.forEach((s,a)=>{let c=r[a];if(s.indexed)if(s.type==="string")n.push(Si(c));else if(s.type==="bytes")n.push(mr(c));else{if(s.baseType==="tuple"||s.baseType==="array")throw new Error("not implemented");n.push(this.#n.encode([s.type],[c]))}else i.push(s),o.push(c)}),{data:this.#n.encode(i,o),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"){let f=this.getEvent(e);W(f,"unknown event","eventFragment",e),e=f}if(n!=null&&!e.anonymous){let f=e.topicHash;W(br(n[0],32)&&n[0].toLowerCase()===f,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}let i=[],o=[],s=[];e.inputs.forEach((f,h)=>{f.indexed?f.type==="string"||f.type==="bytes"||f.baseType==="tuple"||f.baseType==="array"?(i.push(Ui.from({type:"bytes32",name:f.name})),s.push(!0)):(i.push(f),s.push(!1)):(o.push(f),s.push(!1))});let a=n!=null?this.#n.decode(i,Gt(n)):null,c=this.#n.decode(o,r,!0),l=[],u=[],d=0,p=0;return e.inputs.forEach((f,h)=>{let m=null;if(f.indexed)if(a==null)m=new q_(null);else if(s[h])m=new q_(a[p++]);else try{m=a[p++]}catch(g){m=g}else try{m=c[d++]}catch(g){m=g}l.push(m),u.push(f.name||null)}),dp.fromItems(l,u)}parseTransaction(e){let r=Ie(e.data,"tx.data"),n=Ke(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(ve(r.slice(0,4)));if(!i)return null;let o=this.#n.decode(i.inputs,r.slice(4));return new XE(i,i.selector,o,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new QE(r,r.topicHash,this.decodeEventLog(r,e.data,e.topics))}parseError(e){let r=ve(e),n=this.getError(Gr(r,0,4));if(!n)return null;let i=this.#n.decode(n.inputs,Gr(r,4));return new YE(n,n.selector,i)}static from(e){return e instanceof t?e:typeof e=="string"?new t(JSON.parse(e)):typeof e.formatJson=="function"?new t(e.formatJson()):typeof e.format=="function"?new t(e.format("json")):new t(e)}};var hmt=BigInt(0);function ZE(t){return t??null}function Yi(t){return t==null?null:t.toString()}var Ny=class{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,r,n){Me(this,{gasPrice:ZE(e),maxFeePerGas:ZE(r),maxPriorityFeePerGas:ZE(n)})}toJSON(){let{gasPrice:e,maxFeePerGas:r,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:Yi(e),maxFeePerGas:Yi(r),maxPriorityFeePerGas:Yi(n)}}};function cd(t){let e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=ve(t.data));let r="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(let i of r)!(i in t)||t[i]==null||(e[i]=Ke(t[i],`request.${i}`));let n="type,nonce".split(/,/);for(let i of n)!(i in t)||t[i]==null||(e[i]=At(t[i],`request.${i}`));return t.accessList&&(e.accessList=Rs(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobWrapperVersion"in t&&(e.blobWrapperVersion=t.blobWrapperVersion),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(i=>ap(i)?ve(i):Object.assign({},i))),e}var J_=class{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#e;constructor(e,r){this.#e=e.transactions.map(n=>typeof n!="string"?new Yf(n,r):n),Me(this,{provider:r,hash:ZE(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:ZE(e.prevRandao),extraData:e.extraData,baseFeePerGas:ZE(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#e.map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){let e=this.#e.slice();return e.length===0?[]:(ce(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){let{baseFeePerGas:e,difficulty:r,extraData:n,gasLimit:i,gasUsed:o,hash:s,miner:a,prevRandao:c,nonce:l,number:u,parentHash:d,parentBeaconBlockRoot:p,stateRoot:f,receiptsRoot:h,timestamp:m,transactions:g}=this;return{_type:"Block",baseFeePerGas:Yi(e),difficulty:Yi(r),extraData:n,gasLimit:Yi(i),gasUsed:Yi(o),blobGasUsed:Yi(this.blobGasUsed),excessBlobGas:Yi(this.excessBlobGas),hash:s,miner:a,prevRandao:c,nonce:l,number:u,parentHash:d,timestamp:m,parentBeaconBlockRoot:p,stateRoot:f,receiptsRoot:h,transactions:g}}[Symbol.iterator](){let e=0,r=this.transactions;return{next:()=>e<this.length?{value:r[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#e.length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let r;if(typeof e=="number")r=this.#e[e];else{let n=e.toLowerCase();for(let i of this.#e)if(typeof i=="string"){if(i!==n)continue;r=i;break}else{if(i.hash!==n)continue;r=i;break}}if(r==null)throw new Error("no such tx");return typeof r=="string"?await this.provider.getTransaction(r):r}getPrefetchedTransaction(e){let r=this.prefetchedTransactions;if(typeof e=="number")return r[e];e=e.toLowerCase();for(let n of r)if(n.hash===e)return n;W(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return Mdr(this)}},Sl=class{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,r){this.provider=r;let n=Object.freeze(e.topics.slice());Me(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){let{address:e,blockHash:r,blockNumber:n,data:i,index:o,removed:s,topics:a,transactionHash:c,transactionIndex:l}=this;return{_type:"log",address:e,blockHash:r,blockNumber:n,data:i,index:o,removed:s,topics:a,transactionHash:c,transactionIndex:l}}async getBlock(){let e=await this.provider.getBlock(this.blockHash);return ce(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){let e=await this.provider.getTransaction(this.transactionHash);return ce(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){let e=await this.provider.getTransactionReceipt(this.transactionHash);return ce(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return Ldr(this)}},_g=class{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#e;constructor(e,r){this.#e=Object.freeze(e.logs.map(i=>new Sl(i,r)));let n=hmt;e.effectiveGasPrice!=null?n=e.effectiveGasPrice:e.gasPrice!=null&&(n=e.gasPrice),Me(this,{provider:r,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#e}toJSON(){let{to:e,from:r,contractAddress:n,hash:i,index:o,blockHash:s,blockNumber:a,logsBloom:c,logs:l,status:u,root:d}=this;return{_type:"TransactionReceipt",blockHash:s,blockNumber:a,contractAddress:n,cumulativeGasUsed:Yi(this.cumulativeGasUsed),from:r,gasPrice:Yi(this.gasPrice),blobGasUsed:Yi(this.blobGasUsed),blobGasPrice:Yi(this.blobGasPrice),gasUsed:Yi(this.gasUsed),hash:i,index:o,logs:l,logsBloom:c,root:d,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){let e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){let e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return ymt(this)}reorderedEvent(e){return ce(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),gmt(this,e)}},Yf=class t{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#e;constructor(e,r){this.provider=r,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,this.#e=-1}toJSON(){let{blockNumber:e,blockHash:r,index:n,hash:i,type:o,to:s,from:a,nonce:c,data:l,signature:u,accessList:d,blobVersionedHashes:p}=this;return{_type:"TransactionResponse",accessList:d,blockNumber:e,blockHash:r,blobVersionedHashes:p,chainId:Yi(this.chainId),data:l,from:a,gasLimit:Yi(this.gasLimit),gasPrice:Yi(this.gasPrice),hash:i,maxFeePerGas:Yi(this.maxFeePerGas),maxPriorityFeePerGas:Yi(this.maxPriorityFeePerGas),maxFeePerBlobGas:Yi(this.maxFeePerBlobGas),nonce:c,signature:u,to:s,index:n,type:o,value:Yi(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){let n=await this.getTransaction();n&&(e=n.blockNumber)}if(e==null)return null;let r=this.provider.getBlock(e);if(r==null)throw new Error("TODO");return r}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){let{tx:r,blockNumber:n}=await Ln({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return r==null||r.blockNumber==null?0:n-r.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,r){let n=e??1,i=r??0,o=this.#e,s=-1,a=o===-1,c=async()=>{if(a)return null;let{blockNumber:p,nonce:f}=await Ln({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(f<this.nonce){o=p;return}if(a)return null;let h=await this.getTransaction();if(!(h&&h.blockNumber!=null))for(s===-1&&(s=o-3,s<this.#e&&(s=this.#e));s<=p;){if(a)return null;let m=await this.provider.getBlock(s,!0);if(m==null)return;for(let g of m)if(g===this.hash)return;for(let g=0;g<m.length;g++){let b=await m.getTransaction(g);if(b.from===this.from&&b.nonce===this.nonce){if(a)return null;let _=await this.provider.getTransactionReceipt(b.hash);if(_==null||p-_.blockNumber+1<n)return;let x="replaced";b.data===this.data&&b.to===this.to&&b.value===this.value?x="repriced":b.data==="0x"&&b.from===b.to&&b.value===hmt&&(x="cancelled"),ce(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:x==="replaced"||x==="cancelled",reason:x,replacement:b.replaceableTransaction(o),hash:b.hash,receipt:_})}}s++}},l=p=>{if(p==null||p.status!==0)return p;ce(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:p.to,from:p.from,data:""},receipt:p})},u=await this.provider.getTransactionReceipt(this.hash);if(n===0)return l(u);if(u){if(n===1||await u.confirmations()>=n)return l(u)}else if(await c(),n===0)return null;return await new Promise((p,f)=>{let h=[],m=()=>{h.forEach(b=>b())};if(h.push(()=>{a=!0}),i>0){let b=setTimeout(()=>{m(),f(Er("wait for transaction timeout","TIMEOUT"))},i);h.push(()=>{clearTimeout(b)})}let g=async b=>{if(await b.confirmations()>=n){m();try{p(l(b))}catch(_){f(_)}}};if(h.push(()=>{this.provider.off(this.hash,g)}),this.provider.on(this.hash,g),o>=0){let b=async()=>{try{await c()}catch(_){if(Qr(_,"TRANSACTION_REPLACED")){m(),f(_);return}}a||this.provider.once("block",b)};h.push(()=>{this.provider.off("block",b)}),this.provider.once("block",b)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return ce(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),ymt(this)}reorderedEvent(e){return ce(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),ce(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),gmt(this,e)}replaceableTransaction(e){W(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);let r=new t(this,this.provider);return r.#e=e,r}};function Mdr(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function gmt(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function ymt(t){return{orphan:"drop-transaction",tx:t}}function Ldr(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}var xg=class extends Sl{interface;fragment;args;constructor(e,r,n){super(e,e.provider);let i=r.decodeEventLog(n,e.data,e.topics);Me(this,{args:i,fragment:n,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}},Oy=class extends Sl{error;constructor(e,r){super(e,e.provider),Me(this,{error:r})}},e6=class extends _g{#e;constructor(e,r,n){super(n,r),this.#e=e}get logs(){return super.logs.map(e=>{let r=e.topics.length?this.#e.getEvent(e.topics[0]):null;if(r)try{return new xg(e,this.#e,r)}catch(n){return new Oy(e,n)}return e})}},Sg=class extends Yf{#e;constructor(e,r,n){super(n,r),this.#e=e}async wait(e,r){let n=await super.wait(e,r);return n==null?null:new e6(this.#e,this.provider,n)}},Py=class extends ug{log;constructor(e,r,n,i){super(e,r,n),Me(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}},W_=class extends Py{constructor(e,r,n,i,o){super(e,r,n,new xg(o,e.interface,i));let s=e.interface.decodeEventLog(i,this.log.data,this.log.topics);Me(this,{args:s,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}};var bmt=BigInt(0);function _mt(t){return t&&typeof t.call=="function"}function xmt(t){return t&&typeof t.estimateGas=="function"}function _H(t){return t&&typeof t.resolveName=="function"}function Smt(t){return t&&typeof t.sendTransaction=="function"}function wmt(t){if(t!=null){if(_H(t))return t;if(t.provider)return t.provider}}var Bye=class{#e;fragment;constructor(e,r,n){if(Me(this,{fragment:r}),r.inputs.length<n.length)throw new Error("too many arguments");let i=Q_(e.runner,"resolveName"),o=_H(i)?i:null;this.#e=(async function(){let s=await Promise.all(r.inputs.map((a,c)=>n[c]==null?null:a.walkAsync(n[c],(u,d)=>u==="address"?Array.isArray(d)?Promise.all(d.map(p=>qn(p,o))):qn(d,o):d)));return e.interface.encodeFilterTopics(r,s)})()}getTopicFilter(){return this.#e}};function Q_(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function K_(t){return t==null?null:t.provider||null}async function xH(t,e){let r=En.dereference(t,"overrides");W(typeof r=="object","invalid overrides parameter","overrides",t);let n=cd(r);return W(n.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),W(n.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function Fye(t,e,r){let n=Q_(t,"resolveName"),i=_H(n)?n:null;return await Promise.all(e.map((o,s)=>o.walkAsync(r[s],(a,c)=>(c=En.dereference(c,a),a==="address"?qn(c,i):c))))}function Bdr(t){let e=async function(s){let a=await xH(s,["data"]);a.to=await t.getAddress(),a.from&&(a.from=await qn(a.from,wmt(t.runner)));let c=t.interface,l=Ke(a.value||bmt,"overrides.value")===bmt,u=(a.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!u&&!l&&W(!1,"cannot send data to receive or send value to non-payable fallback","overrides",s),W(c.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data);let d=c.receive||c.fallback&&c.fallback.payable;return W(d||l,"cannot send value to non-payable fallback","overrides.value",a.value),W(c.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data),a},r=async function(s){let a=Q_(t.runner,"call");ce(_mt(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let c=await e(s);try{return await a.call(c)}catch(l){throw vy(l)&&l.data?t.interface.makeError(l.data,c):l}},n=async function(s){let a=t.runner;ce(Smt(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let c=await a.sendTransaction(await e(s)),l=K_(t.runner);return new Sg(t.interface,l,c)},i=async function(s){let a=Q_(t.runner,"estimateGas");return ce(xmt(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(s))},o=async s=>await n(s);return Me(o,{_contract:t,estimateGas:i,populateTransaction:e,send:n,staticCall:r}),o}function $dr(t,e){let r=function(...l){let u=t.interface.getFunction(e,l);return ce(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:l}}),u},n=async function(...l){let u=r(...l),d={};if(u.inputs.length+1===l.length&&(d=await xH(l.pop()),d.from&&(d.from=await qn(d.from,wmt(t.runner)))),u.inputs.length!==l.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");let p=await Fye(t.runner,u.inputs,l);return Object.assign({},d,await Ln({to:t.getAddress(),data:t.interface.encodeFunctionData(u,p)}))},i=async function(...l){let u=await a(...l);return u.length===1?u[0]:u},o=async function(...l){let u=t.runner;ce(Smt(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let d=await u.sendTransaction(await n(...l)),p=K_(t.runner);return new Sg(t.interface,p,d)},s=async function(...l){let u=Q_(t.runner,"estimateGas");return ce(xmt(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await n(...l))},a=async function(...l){let u=Q_(t.runner,"call");ce(_mt(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let d=await n(...l),p="0x";try{p=await u.call(d)}catch(h){throw vy(h)&&h.data?t.interface.makeError(h.data,d):h}let f=r(...l);return t.interface.decodeFunctionResult(f,p)},c=async(...l)=>r(...l).constant?await i(...l):await o(...l);return Me(c,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:r,estimateGas:s,populateTransaction:n,send:o,staticCall:i,staticCallResult:a}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{let l=t.interface.getFunction(e);return ce(l,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),l}}),c}function Udr(t,e){let r=function(...i){let o=t.interface.getEvent(e,i);return ce(o,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),o},n=function(...i){return new Bye(t,r(...i),i)};return Me(n,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:r}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{let i=t.interface.getEvent(e);return ce(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),n}var vH=Symbol.for("_ethersInternal_contract"),Amt=new WeakMap;function Fdr(t,e){Amt.set(t[vH],e)}function wl(t){return Amt.get(t[vH])}function zdr(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function zye(t,e){let r,n=null;if(Array.isArray(e)){let o=function(s){if(br(s,32))return s;let a=t.interface.getEvent(s);return W(a,"unknown fragment","name",s),a.topicHash};r=e.map(s=>s==null?null:Array.isArray(s)?s.map(o):o(s))}else e==="*"?r=[null]:typeof e=="string"?br(e,32)?r=[e]:(n=t.interface.getEvent(e),W(n,"unknown fragment","event",e),r=[n.topicHash]):zdr(e)?r=await e.getTopicFilter():"fragment"in e?(n=e.fragment,r=[n.topicHash]):W(!1,"unknown event name","event",e);r=r.map(o=>{if(o==null)return null;if(Array.isArray(o)){let s=Array.from(new Set(o.map(a=>a.toLowerCase())).values());return s.length===1?s[0]:(s.sort(),s)}return o.toLowerCase()});let i=r.map(o=>o==null?"null":Array.isArray(o)?o.join("|"):o).join("&");return{fragment:n,tag:i,topics:r}}async function UN(t,e){let{subs:r}=wl(t);return r.get((await zye(t,e)).tag)||null}async function vmt(t,e,r){let n=K_(t.runner);ce(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});let{fragment:i,tag:o,topics:s}=await zye(t,r),{addr:a,subs:c}=wl(t),l=c.get(o);if(!l){let d={address:a||t,topics:s},p=g=>{let b=i;if(b==null)try{b=t.interface.getEvent(g.topics[0])}catch{}if(b){let _=b,x=i?t.interface.decodeEventLog(i,g.data,g.topics):[];Uye(t,r,x,E=>new W_(t,E,r,_,g))}else Uye(t,r,[],_=>new Py(t,_,r,g))},f=[];l={tag:o,listeners:[],start:()=>{f.length||f.push(n.on(d,p))},stop:async()=>{if(f.length==0)return;let g=f;f=[],await Promise.all(g),n.off(d,p)}},c.set(o,l)}return l}var $ye=Promise.resolve();async function Vdr(t,e,r,n){await $ye;let i=await UN(t,e);if(!i)return!1;let o=i.listeners.length;return i.listeners=i.listeners.filter(({listener:s,once:a})=>{let c=Array.from(r);n&&c.push(n(a?null:s));try{s.call(t,...c)}catch{}return!a}),i.listeners.length===0&&(i.stop(),wl(t).subs.delete(i.tag)),o>0}async function Uye(t,e,r,n){try{await $ye}catch{}let i=Vdr(t,e,r,n);return $ye=i,await i}var bH=["then"],wg=class t{target;interface;runner;filters;[vH];fallback;constructor(e,r,n,i){W(typeof e=="string"||VE(e),"invalid value for Contract target","target",e),n==null&&(n=null);let o=vg.from(r);Me(this,{target:e,runner:n,interface:o}),Object.defineProperty(this,vH,{value:{}});let s,a=null,c=null;if(i){let d=K_(n);c=new Sg(this.interface,d,i)}let l=new Map;if(typeof e=="string")if(br(e))a=e,s=Promise.resolve(e);else{let d=Q_(n,"resolveName");if(!_H(d))throw Er("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});s=d.resolveName(e).then(p=>{if(p==null)throw Er("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return wl(this).addr=p,p})}else s=e.getAddress().then(d=>{if(d==null)throw new Error("TODO");return wl(this).addr=d,d});Fdr(this,{addrPromise:s,addr:a,deployTx:c,subs:l});let u=new Proxy({},{get:(d,p,f)=>{if(typeof p=="symbol"||bH.indexOf(p)>=0)return Reflect.get(d,p,f);try{return this.getEvent(p)}catch(h){if(!Qr(h,"INVALID_ARGUMENT")||h.argument!=="key")throw h}},has:(d,p)=>bH.indexOf(p)>=0?Reflect.has(d,p):Reflect.has(d,p)||this.interface.hasEvent(String(p))});return Me(this,{filters:u}),Me(this,{fallback:o.receive||o.fallback?Bdr(this):null}),new Proxy(this,{get:(d,p,f)=>{if(typeof p=="symbol"||p in d||bH.indexOf(p)>=0)return Reflect.get(d,p,f);try{return d.getFunction(p)}catch(h){if(!Qr(h,"INVALID_ARGUMENT")||h.argument!=="key")throw h}},has:(d,p)=>typeof p=="symbol"||p in d||bH.indexOf(p)>=0?Reflect.has(d,p):d.interface.hasFunction(p)})}connect(e){return new t(this.target,this.interface,e)}attach(e){return new t(e,this.interface,this.runner)}async getAddress(){return await wl(this).addrPromise}async getDeployedCode(){let e=K_(this.runner);ce(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});let r=await e.getCode(await this.getAddress());return r==="0x"?null:r}async waitForDeployment(){let e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;let n=K_(this.runner);return ce(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,o)=>{let s=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);n.once("block",s)}catch(a){o(a)}};s()})}deploymentTransaction(){return wl(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),$dr(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),Udr(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,r,n){r==null&&(r=0),n==null&&(n="latest");let{addr:i,addrPromise:o}=wl(this),s=i||await o,{fragment:a,topics:c}=await zye(this,e),l={address:s,topics:c,fromBlock:r,toBlock:n},u=K_(this.runner);return ce(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(l)).map(d=>{let p=a;if(p==null)try{p=this.interface.getEvent(d.topics[0])}catch{}if(p)try{return new xg(d,this.interface,p)}catch(f){return new Oy(d,f)}return new Sl(d,u)})}async on(e,r){let n=await vmt(this,"on",e);return n.listeners.push({listener:r,once:!1}),n.start(),this}async once(e,r){let n=await vmt(this,"once",e);return n.listeners.push({listener:r,once:!0}),n.start(),this}async emit(e,...r){return await Uye(this,e,r,null)}async listenerCount(e){if(e){let i=await UN(this,e);return i?i.listeners.length:0}let{subs:r}=wl(this),n=0;for(let{listeners:i}of r.values())n+=i.length;return n}async listeners(e){if(e){let i=await UN(this,e);return i?i.listeners.map(({listener:o})=>o):[]}let{subs:r}=wl(this),n=[];for(let{listeners:i}of r.values())n=n.concat(i.map(({listener:o})=>o));return n}async off(e,r){let n=await UN(this,e);if(!n)return this;if(r){let i=n.listeners.map(({listener:o})=>o).indexOf(r);i>=0&&n.listeners.splice(i,1)}return(r==null||n.listeners.length===0)&&(n.stop(),wl(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){let r=await UN(this,e);if(!r)return this;r.stop(),wl(this).subs.delete(r.tag)}else{let{subs:r}=wl(this);for(let{tag:n,stop:i}of r.values())i(),r.delete(n)}return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return await this.off(e,r)}static buildClass(e){class r extends t{constructor(i,o=null){super(i,e,o)}}return r}static from(e,r,n){return n==null&&(n=null),new this(e,r,n)}};function Hdr(){return wg}var Lc=class extends Hdr(){};var FN=class t{interface;bytecode;runner;constructor(e,r,n){let i=vg.from(e);r instanceof Uint8Array?r=ve(Ie(r)):(typeof r=="object"&&(r=r.object),r.startsWith("0x")||(r="0x"+r),r=ve(Ie(r))),Me(this,{bytecode:r,interface:i,runner:n||null})}attach(e){return new wg(e,this.interface,this.runner)}async getDeployTransaction(...e){let r={},n=this.interface.deploy;if(n.inputs.length+1===e.length&&(r=await xH(e.pop())),n.inputs.length!==e.length)throw new Error("incorrect number of arguments to constructor");let i=await Fye(this.runner,n.inputs,e),o=Gt([this.bytecode,this.interface.encodeDeploy(i)]);return Object.assign({},r,{data:o})}async deploy(...e){let r=await this.getDeployTransaction(...e);ce(this.runner&&typeof this.runner.sendTransaction=="function","factory runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let n=await this.runner.sendTransaction(r),i=$_(n);return new wg(i,this.interface,this.runner,n)}connect(e){return new t(this.interface,this.bytecode,e)}static fromSolidity(e,r){W(e!=null,"bad compiler output","output",e),typeof e=="string"&&(e=JSON.parse(e));let n=e.abi,i="";return e.bytecode?i=e.bytecode:e.evm&&e.evm.bytecode&&(i=e.evm.bytecode),new this(n,i,r)}};function Vye(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):W(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}var t6=class{name;constructor(e){Me(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,r){throw new Error("unsupported coin")}async decodeAddress(e,r){throw new Error("unsupported coin")}};var Tmt=new RegExp("^(ipfs)://(.*)$","i"),Emt=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Tmt,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")],ky=class t{provider;address;name;#e;#t;constructor(e,r,n){Me(this,{provider:e,address:r,name:n}),this.#e=null,this.#t=new Lc(r,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return this.#e==null&&(this.#e=(async()=>{try{return await this.#t.supportsInterface("0x9061b923")}catch(e){if(Qr(e,"CALL_EXCEPTION"))return!1;throw this.#e=null,e}})()),await this.#e}async#r(e,r){r=(r||[]).slice();let n=this.#t.interface;r.unshift(Ry(this.name));let i=null;await this.supportsWildcard()&&(i=n.getFunction(e),ce(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),r=[LN(this.name,255),n.encodeFunctionData(i,r)],e="resolve(bytes,bytes)"),r.push({enableCcipRead:!0});try{let o=await this.#t[e](...r);return i?n.decodeFunctionResult(i,o)[0]:o}catch(o){if(!Qr(o,"CALL_EXCEPTION"))throw o}return null}async getAddress(e){if(e==null&&(e=60),e===60)try{let o=await this.#r("addr(bytes32)");return o==null||o===bp?null:o}catch(o){if(Qr(o,"CALL_EXCEPTION"))return null;throw o}if(e>=0&&e<2147483648){let o=e+2147483648,s=await this.#r("addr(bytes32,uint)",[o]);if(br(s,20))return Ct(s)}let r=null;for(let o of this.provider.plugins)if(o instanceof t6&&o.supportsCoinType(e)){r=o;break}if(r==null)return null;let n=await this.#r("addr(bytes32,uint)",[e]);if(n==null||n==="0x")return null;let i=await r.decodeAddress(e,n);if(i!=null)return i;ce(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){let r=await this.#r("text(bytes32,string)",[e]);return r==null||r==="0x"?null:r}async getContentHash(){let e=await this.#r("contenthash(bytes32)");if(e==null||e==="0x")return null;let r=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){let i=r[1]==="e3010170"?"ipfs":"ipns",o=parseInt(r[4],16);if(r[5].length===o*2)return`${i}://${I_("0x"+r[2])}`}let n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;ce(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){let e=[{type:"name",value:this.name}];try{let r=await this.getText("avatar");if(r==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:r});for(let n=0;n<Emt.length;n++){let i=r.match(Emt[n]);if(i==null)continue;let o=i[1].toLowerCase();switch(o){case"https":case"data":return e.push({type:"url",value:r}),{linkage:e,url:r};case"ipfs":{let s=Vye(r);return e.push({type:"ipfs",value:r}),e.push({type:"url",value:s}),{linkage:e,url:s}}case"erc721":case"erc1155":{let s=o==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:o,value:r});let a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};let c=(i[2]||"").split("/");if(c.length!==2)return e.push({type:`!${o}caip`,value:i[2]||""}),{url:null,linkage:e};let l=c[1],u=new Lc(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(o==="erc721"){let m=await u.ownerOf(l);if(a!==m)return e.push({type:"!owner",value:m}),{url:null,linkage:e};e.push({type:"owner",value:m})}else if(o==="erc1155"){let m=await u.balanceOf(a,l);if(!m)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:m.toString()})}let d=await u[s](l);if(d==null||d==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:d}),o==="erc1155"&&(d=d.replace("{id}",ts(l,32).substring(2)),e.push({type:"metadata-url-expanded",value:d})),d.match(/^ipfs:/i)&&(d=Vye(d)),e.push({type:"metadata-url",value:d});let p={},f=await new nn(d).send();f.assertOk();try{p=f.bodyJson}catch{try{e.push({type:"!metadata",value:f.bodyText})}catch{let b=f.body;return b&&e.push({type:"!metadata",value:ve(b)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!p)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(p)});let h=p.image;if(typeof h!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!h.match(/^(https:\/\/|data:)/i)){if(h.match(Tmt)==null)return e.push({type:"!imageUrl-ipfs",value:h}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:h}),h=Vye(h)}return e.push({type:"url",value:h}),{linkage:e,url:h}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){let r=await e.getNetwork(),n=r.getPlugin("org.ethers.plugins.network.Ens");return ce(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:r}}),n.address}static async#n(e,r){let n=await t.getEnsAddress(e);try{let o=await new Lc(n,["function resolver(bytes32) view returns (address)"],e).resolver(Ry(r),{enableCcipRead:!0});return o===bp?null:o}catch(i){throw i}return null}static async fromName(e,r){let n=r;for(;;){if(n===""||n==="."||r!=="eth"&&n==="eth")return null;let i=await t.#n(e,n);if(i!=null){let o=new t(e,i,r);return n!==r&&!await o.supportsWildcard()?null:o}n=n.split(".").slice(1).join(".")}}};var Rmt=BigInt(0);function Ur(t,e){return(function(r){return r==null?e:t(r)})}function zN(t,e){return(r=>{if(e&&r==null)return null;if(!Array.isArray(r))throw new Error("not an array");return r.map(n=>t(n))})}function VN(t,e){return(r=>{let n={};for(let i in t){let o=i;if(e&&i in e&&!(o in r)){for(let s of e[i])if(s in r){o=s;break}}try{let s=t[i](r[o]);s!==void 0&&(n[i]=s)}catch(s){let a=s instanceof Error?s.message:"not-an-error";ce(!1,`invalid value for value.${i} (${a})`,"BAD_DATA",{value:r})}}return n})}function Gdr(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}W(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function r6(t){return W(br(t,!0),"invalid data","value",t),t}function Is(t){return W(br(t,32),"invalid hash","value",t),t}var jdr=VN({address:Ct,blockHash:Is,blockNumber:At,data:r6,index:At,removed:Ur(Gdr,!1),topics:zN(Is),transactionHash:Is,transactionIndex:At},{index:["logIndex"]});function Imt(t){return jdr(t)}var qdr=VN({hash:Ur(Is),parentHash:Is,parentBeaconBlockRoot:Ur(Is,null),number:At,timestamp:At,nonce:Ur(r6),difficulty:Ke,gasLimit:Ke,gasUsed:Ke,stateRoot:Ur(Is,null),receiptsRoot:Ur(Is,null),blobGasUsed:Ur(Ke,null),excessBlobGas:Ur(Ke,null),miner:Ur(Ct),prevRandao:Ur(Is,null),extraData:r6,baseFeePerGas:Ur(Ke)},{prevRandao:["mixHash"]});function Cmt(t){let e=qdr(t);return e.transactions=t.transactions.map(r=>typeof r=="string"?r:Hye(r)),e}var Jdr=VN({transactionIndex:At,blockNumber:At,transactionHash:Is,address:Ct,topics:zN(Is),data:r6,index:At,blockHash:Is},{index:["logIndex"]});function Wdr(t){return Jdr(t)}var Kdr=VN({to:Ur(Ct,null),from:Ur(Ct,null),contractAddress:Ur(Ct,null),index:At,root:Ur(ve),gasUsed:Ke,blobGasUsed:Ur(Ke,null),logsBloom:Ur(r6),blockHash:Is,hash:Is,logs:zN(Wdr),blockNumber:At,cumulativeGasUsed:Ke,effectiveGasPrice:Ur(Ke),blobGasPrice:Ur(Ke,null),status:Ur(At),type:Ur(At,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Nmt(t){return Kdr(t)}function Hye(t){t.to&&Ke(t.to)===Rmt&&(t.to="0x0000000000000000000000000000000000000000");let e=VN({hash:Is,index:Ur(At,void 0),type:r=>r==="0x"||r==null?0:At(r),accessList:Ur(Rs,null),blobVersionedHashes:Ur(zN(Is,!0),null),authorizationList:Ur(zN(r=>{let n;if(r.signature)n=r.signature;else{let i=r.yParity;i==="0x1b"?i=0:i==="0x1c"&&(i=1),n=Object.assign({},r,{yParity:i})}return{address:Ct(r.address),chainId:Ke(r.chainId),nonce:Ke(r.nonce),signature:Xi.from(n)}},!1),null),blockHash:Ur(Is,null),blockNumber:Ur(At,null),transactionIndex:Ur(At,null),from:Ct,gasPrice:Ur(Ke),maxPriorityFeePerGas:Ur(Ke),maxFeePerGas:Ur(Ke),maxFeePerBlobGas:Ur(Ke,null),gasLimit:Ke,to:Ur(Ct,null),value:Ke,nonce:At,data:r6,creates:Ur(Ct,null),chainId:Ur(Ke,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=$_(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=Xi.from(t.signature):e.signature=Xi.from(t),e.chainId==null){let r=e.signature.legacyChainId;r!=null&&(e.chainId=r)}return e.blockHash&&Ke(e.blockHash)===Rmt&&(e.blockHash=null),e}var Qdr="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",Ap=class t{name;constructor(e){Me(this,{name:e})}clone(){return new t(this.name)}},Dy=class t extends Ap{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,r){e==null&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);let n={effectiveBlock:e};function i(o,s){let a=(r||{})[o];a==null&&(a=s),W(typeof a=="number",`invalud value for ${o}`,"costs",r),n[o]=a}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),Me(this,n)}clone(){return new t(this.effectiveBlock,this)}},My=class t extends Ap{address;targetNetwork;constructor(e,r){super("org.ethers.plugins.network.Ens"),Me(this,{address:e||Qdr,targetNetwork:r??1})}clone(){return new t(this.address,this.targetNetwork)}},HN=class t extends Ap{#e;get feeDataFunc(){return this.#e}constructor(e){super("org.ethers.plugins.network.FeeData"),this.#e=e}async getFeeData(e){return await this.#e(e)}clone(){return new t(this.#e)}},X_=class extends Ap{#e;#t;get url(){return this.#e}get processFunc(){return this.#t}constructor(e,r){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#e=e,this.#t=r}clone(){return this}};var Gye=new Map,Ir=class t{#e;#t;#r;constructor(e,r){this.#e=e,this.#t=Ke(r),this.#r=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#e}set name(e){this.#e=e}get chainId(){return this.#t}set chainId(e){this.#t=Ke(e,"chainId")}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===Ke(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===Ke(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===Ke(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(this.#r.values())}attachPlugin(e){if(this.#r.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#r.set(e.name,e.clone()),this}getPlugin(e){return this.#r.get(e)||null}getPlugins(e){return this.plugins.filter(r=>r.name.split("#")[0]===e)}clone(){let e=new t(this.name,this.chainId);return this.plugins.forEach(r=>{e.attachPlugin(r.clone())}),e}computeIntrinsicGas(e){let r=this.getPlugin("org.ethers.plugins.network.GasCost")||new Dy,n=r.txBase;if(e.to==null&&(n+=r.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?n+=r.txDataZero:n+=r.txDataNonzero;if(e.accessList){let i=Rs(e.accessList);for(let o in i)n+=r.txAccessListAddress+r.txAccessListStorageKey*i[o].storageKeys.length}return n}static from(e){if(Xdr(),e==null)return t.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){let r=Gye.get(e);if(r)return r();if(typeof e=="bigint")return new t("unknown",e);W(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){W(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);let r=new t(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&r.attachPlugin(new My(e.ensAddress,e.ensNetwork)),r}W(!1,"invalid network","network",e)}static register(e,r){typeof e=="number"&&(e=BigInt(e));let n=Gye.get(e);n&&W(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),Gye.set(e,r)}};function Omt(t,e){let r=String(t);if(!r.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);let n=r.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;n[1].length<e;)n[1]+="0";if(n[1].length>9){let i=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||i++,n[1]=i.toString()}return BigInt(n[0]+n[1])}function Pmt(t){return new X_(t,async(e,r,n)=>{n.setHeader("User-Agent","ethers");let i;try{let[o,s]=await Promise.all([n.send(),e()]);i=o;let a=i.bodyJson.standard;return{gasPrice:s.gasPrice,maxFeePerGas:Omt(a.maxFee,9),maxPriorityFeePerGas:Omt(a.maxPriorityFee,9)}}catch(o){ce(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:i,error:o})}})}var kmt=!1;function Xdr(){if(kmt)return;kmt=!0;function t(e,r,n){let i=function(){let o=new Ir(e,r);return n.ensNetwork!=null&&o.attachPlugin(new My(null,n.ensNetwork)),o.attachPlugin(new Dy),(n.plugins||[]).forEach(s=>{o.attachPlugin(s)}),o};Ir.register(e,i),Ir.register(r,i),n.altNames&&n.altNames.forEach(o=>{Ir.register(o,i)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("filecoin",314,{}),t("filecoin-calibration",314159,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[Pmt("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Pmt("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function jye(t){return JSON.parse(JSON.stringify(t))}var SH=class{#e;#t;#r;#n;constructor(e){this.#e=e,this.#t=null,this.#r=4e3,this.#n=-2}get pollingInterval(){return this.#r}set pollingInterval(e){this.#r=e}async#i(){try{let e=await this.#e.getBlockNumber();if(this.#n===-2){this.#n=e;return}if(e!==this.#n){for(let r=this.#n+1;r<=e;r++){if(this.#t==null)return;await this.#e.emit("block",r)}this.#n=e}}catch{}this.#t!=null&&(this.#t=this.#e._setTimeout(this.#i.bind(this),this.#r))}start(){this.#t||(this.#t=this.#e._setTimeout(this.#i.bind(this),this.#r),this.#i())}stop(){this.#t&&(this.#e._clearTimeout(this.#t),this.#t=null)}pause(e){this.stop(),e&&(this.#n=-2)}resume(){this.start()}},GN=class{#e;#t;#r;constructor(e){this.#e=e,this.#r=!1,this.#t=r=>{this._poll(r,this.#e)}}async _poll(e,r){throw new Error("sub-classes must override this")}start(){this.#r||(this.#r=!0,this.#t(-2),this.#e.on("block",this.#t))}stop(){this.#r&&(this.#r=!1,this.#e.off("block",this.#t))}pause(e){this.stop()}resume(){this.start()}},wH=class extends GN{#e;#t;constructor(e,r){super(e),this.#e=r,this.#t=-2}pause(e){e&&(this.#t=-2),super.pause(e)}async _poll(e,r){let n=await r.getBlock(this.#e);n!=null&&(this.#t===-2?this.#t=n.number:n.number>this.#t&&(r.emit(this.#e,n.number),this.#t=n.number))}},AH=class extends GN{#e;constructor(e,r){super(e),this.#e=jye(r)}async _poll(e,r){throw new Error("@TODO")}},EH=class extends GN{#e;constructor(e,r){super(e),this.#e=r}async _poll(e,r){let n=await r.getTransactionReceipt(this.#e);n&&r.emit(this.#e,n)}},Ly=class{#e;#t;#r;#n;#i;constructor(e,r){this.#e=e,this.#t=jye(r),this.#r=this.#o.bind(this),this.#n=!1,this.#i=-2}async#o(e){if(this.#i===-2)return;let r=jye(this.#t);r.fromBlock=this.#i+1,r.toBlock=e;let n=await this.#e.getLogs(r);if(n.length===0){this.#i<e-60&&(this.#i=e-60);return}for(let i of n)this.#e.emit(this.#t,i),this.#i=i.blockNumber}start(){this.#n||(this.#n=!0,this.#i===-2&&this.#e.getBlockNumber().then(e=>{this.#i=e}),this.#e.on("block",this.#r))}stop(){this.#n&&(this.#n=!1,this.#e.off("block",this.#r))}pause(e){this.stop(),e&&(this.#i=-2)}resume(){this.start()}};var Ydr=BigInt(2),Zdr=10;function TH(t){return t&&typeof t.then=="function"}function RH(t,e){return t+":"+JSON.stringify(e,(r,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){let i=Object.keys(n);return i.sort(),i.reduce((o,s)=>(o[s]=n[s],o),{})}return n})}var Ep=class{name;constructor(e){Me(this,{name:e})}start(){}stop(){}pause(e){}resume(){}};function epr(t){return JSON.parse(JSON.stringify(t))}function Wye(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function qye(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(br(t,32)){let r=t.toLowerCase();return{type:"transaction",tag:RH("tx",{hash:r}),hash:r}}if(t.orphan){let r=t;return{type:"orphan",tag:RH("orphan",r),filter:epr(r)}}if(t.address||t.topics){let r=t,n={topics:(r.topics||[]).map(i=>i==null?null:Array.isArray(i)?Wye(i.map(o=>o.toLowerCase())):i.toLowerCase())};if(r.address){let i=[],o=[],s=a=>{br(a)?i.push(a):o.push((async()=>{i.push(await qn(a,e))})())};Array.isArray(r.address)?r.address.forEach(s):s(r.address),o.length&&await Promise.all(o),n.address=Wye(i.map(a=>a.toLowerCase()))}return{filter:n,tag:RH("event",n),type:"event"}}W(!1,"unknown ProviderEvent","event",t)}function Jye(){return new Date().getTime()}var tpr={cacheTimeout:250,pollingInterval:4e3},ld=class{#e;#t;#r;#n;#i;#o;#s;#a;#u;#l;#f;#m;constructor(e,r){if(this.#m=Object.assign({},tpr,r||{}),e==="any")this.#o=!0,this.#i=null;else if(e){let n=Ir.from(e);this.#o=!1,this.#i=Promise.resolve(n),setTimeout(()=>{this.emit("network",n,null)},0)}else this.#o=!1,this.#i=null;this.#a=-1,this.#s=new Map,this.#e=new Map,this.#t=new Map,this.#r=null,this.#n=!1,this.#u=1,this.#l=new Map,this.#f=!1}get pollingInterval(){return this.#m.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#t.values())}attachPlugin(e){if(this.#t.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#t.set(e.name,e.connect(this)),this}getPlugin(e){return this.#t.get(e)||null}get disableCcipRead(){return this.#f}set disableCcipRead(e){this.#f=!!e}async#c(e){let r=this.#m.cacheTimeout;if(r<0)return await this._perform(e);let n=RH(e.method,e),i=this.#s.get(n);return i||(i=this._perform(e),this.#s.set(n,i),setTimeout(()=>{this.#s.get(n)===i&&this.#s.delete(n)},r)),await i}async ccipReadFetch(e,r,n){if(this.disableCcipRead||n.length===0||e.to==null)return null;let i=e.to.toLowerCase(),o=r.toLowerCase(),s=[];for(let a=0;a<n.length;a++){let c=n[a],l=c.replace("{sender}",i).replace("{data}",o),u=new nn(l);c.indexOf("{data}")===-1&&(u.body={data:o,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:a,urls:n});let d="unknown error",p;try{p=await u.send()}catch(f){s.push(f.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:{error:f}});continue}try{let f=p.bodyJson;if(f.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:f}),f.data;f.message&&(d=f.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:f})}catch{}ce(p.statusCode<400||p.statusCode>=500,`response not found during CCIP fetch: ${d}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:d}}),s.push(d)}ce(!1,`error encountered during CCIP fetch: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:s}})}_wrapBlock(e,r){return new J_(Cmt(e),this)}_wrapLog(e,r){return new Sl(Imt(e),this)}_wrapTransactionReceipt(e,r){return new _g(Nmt(e),this)}_wrapTransactionResponse(e,r){return new Yf(Hye(e),this)}_detectNetwork(){ce(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){ce(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){let e=At(await this.#c({method:"getBlockNumber"}),"%response");return this.#a>=0&&(this.#a=e),e}_getAddress(e){return qn(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(br(e))return br(e,32)?e:Lo(e);if(typeof e=="bigint"&&(e=At(e,"blockTag")),typeof e=="number")return e>=0?Lo(e):this.#a>=0?Lo(this.#a+e):this.getBlockNumber().then(r=>Lo(r+e));W(!1,"invalid blockTag","blockTag",e)}_getFilter(e){let r=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?Wye(c.map(l=>l.toLowerCase())):c.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,i=(c,l,u)=>{let d;switch(c.length){case 0:break;case 1:d=c[0];break;default:c.sort(),d=c}if(n&&(l!=null||u!=null))throw new Error("invalid filter");let p={};return d&&(p.address=d),r.length&&(p.topics=r),l&&(p.fromBlock=l),u&&(p.toBlock=u),n&&(p.blockHash=n),p},o=[];if(e.address)if(Array.isArray(e.address))for(let c of e.address)o.push(this._getAddress(c));else o.push(this._getAddress(e.address));let s;"fromBlock"in e&&(s=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),o.filter(c=>typeof c!="string").length||s!=null&&typeof s!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(o),s,a]).then(c=>i(c[0],c[1],c[2])):i(o,s,a)}_getTransactionRequest(e){let r=cd(e),n=[];if(["to","from"].forEach(i=>{if(r[i]==null)return;let o=qn(r[i],this);TH(o)?n.push((async function(){r[i]=await o})()):r[i]=o}),r.blockTag!=null){let i=this._getBlockTag(r.blockTag);TH(i)?n.push((async function(){r.blockTag=await i})()):r.blockTag=i}return n.length?(async function(){return await Promise.all(n),r})():r}async getNetwork(){if(this.#i==null){let i=(async()=>{try{let o=await this._detectNetwork();return this.emit("network",o,null),o}catch(o){throw this.#i===i&&(this.#i=null),o}})();return this.#i=i,(await i).clone()}let e=this.#i,[r,n]=await Promise.all([e,this._detectNetwork()]);return r.chainId!==n.chainId&&(this.#o?(this.emit("network",n,r),this.#i===e&&(this.#i=Promise.resolve(n))):ce(!1,`network changed: ${r.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),r.clone()}async getFeeData(){let e=await this.getNetwork(),r=async()=>{let{_block:i,gasPrice:o,priorityFee:s}=await Ln({_block:this.#b("latest",!1),gasPrice:(async()=>{try{let u=await this.#c({method:"getGasPrice"});return Ke(u,"%response")}catch{}return null})(),priorityFee:(async()=>{try{let u=await this.#c({method:"getPriorityFee"});return Ke(u,"%response")}catch{}return null})()}),a=null,c=null,l=this._wrapBlock(i,e);return l&&l.baseFeePerGas&&(c=s??BigInt("1000000000"),a=l.baseFeePerGas*Ydr+c),new Ny(o,a,c)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){let i=new nn(n.url),o=await n.processFunc(r,this,i);return new Ny(o.gasPrice,o.maxFeePerGas,o.maxPriorityFeePerGas)}return await r()}async estimateGas(e){let r=this._getTransactionRequest(e);return TH(r)&&(r=await r),Ke(await this.#c({method:"estimateGas",transaction:r}),"%response")}async#d(e,r,n){ce(n<Zdr,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:r,enableCcipRead:!0})});let i=cd(e);try{return ve(await this._perform({method:"call",transaction:i,blockTag:r}))}catch(o){if(!this.disableCcipRead&&vy(o)&&o.data&&n>=0&&r==="latest"&&i.to!=null&&Gr(o.data,0,4)==="0x556f1830"){let s=o.data,a=await qn(i.to,this),c;try{c=spr(Gr(o.data,4))}catch(d){ce(!1,d.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:s}})}ce(c.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:s,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});let l=await this.ccipReadFetch(i,c.calldata,c.urls);ce(l!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:o.data,errorArgs:c.errorArgs}});let u={to:a,data:Gt([c.selector,opr([l,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{let d=await this.#d(u,r,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:d}),d}catch(d){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:d}),d}}throw o}}async#p(e){let{value:r}=await Ln({network:this.getNetwork(),value:e});return r}async call(e){let{tx:r,blockTag:n}=await Ln({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#p(this.#d(r,n,e.enableCcipRead?0:-1))}async#h(e,r,n){let i=this._getAddress(r),o=this._getBlockTag(n);return(typeof i!="string"||typeof o!="string")&&([i,o]=await Promise.all([i,o])),await this.#p(this.#c(Object.assign(e,{address:i,blockTag:o})))}async getBalance(e,r){return Ke(await this.#h({method:"getBalance"},e,r),"%response")}async getTransactionCount(e,r){return At(await this.#h({method:"getTransactionCount"},e,r),"%response")}async getCode(e,r){return ve(await this.#h({method:"getCode"},e,r))}async getStorage(e,r,n){let i=Ke(r,"position");return ve(await this.#h({method:"getStorage",position:i},e,n))}async broadcastTransaction(e){let{blockNumber:r,hash:n,network:i}=await Ln({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),o=xl.from(e);if(o.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(o,i).replaceableTransaction(r)}async#b(e,r){if(br(e,32))return await this.#c({method:"getBlock",blockHash:e,includeTransactions:r});let n=this._getBlockTag(e);return typeof n!="string"&&(n=await n),await this.#c({method:"getBlock",blockTag:n,includeTransactions:r})}async getBlock(e,r){let{network:n,params:i}=await Ln({network:this.getNetwork(),params:this.#b(e,!!r)});return i==null?null:this._wrapBlock(i,n)}async getTransaction(e){let{network:r,params:n}=await Ln({network:this.getNetwork(),params:this.#c({method:"getTransaction",hash:e})});return n==null?null:this._wrapTransactionResponse(n,r)}async getTransactionReceipt(e){let{network:r,params:n}=await Ln({network:this.getNetwork(),params:this.#c({method:"getTransactionReceipt",hash:e})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){let i=await this.#c({method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(n,r)}async getTransactionResult(e){let{result:r}=await Ln({network:this.getNetwork(),result:this.#c({method:"getTransactionResult",hash:e})});return r==null?null:ve(r)}async getLogs(e){let r=this._getFilter(e);TH(r)&&(r=await r);let{network:n,params:i}=await Ln({network:this.getNetwork(),params:this.#c({method:"getLogs",filter:r})});return i.map(o=>this._wrapLog(o,n))}_getProvider(e){ce(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await ky.fromName(this,e)}async getAvatar(e){let r=await this.getResolver(e);return r?await r.getAvatar():null}async resolveName(e){let r=await this.getResolver(e);return r?await r.getAddress():null}async lookupAddress(e){e=Ct(e);let r=Ry(e.substring(2).toLowerCase()+".addr.reverse");try{let n=await ky.getEnsAddress(this),o=await new Lc(n,["function resolver(bytes32) view returns (address)"],this).resolver(r);if(o==null||o===bp)return null;let a=await new Lc(o,["function name(bytes32) view returns (string)"],this).name(r);return await this.resolveName(a)!==e?null:a}catch(n){if(Qr(n,"BAD_DATA")&&n.value==="0x"||Qr(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,r,n){let i=r??1;return i===0?this.getTransactionReceipt(e):new Promise(async(o,s)=>{let a=null,c=(async l=>{try{let u=await this.getTransactionReceipt(e);if(u!=null&&l-u.blockNumber+1>=i){o(u),a&&(clearTimeout(a),a=null);return}}catch(u){console.log("EEE",u)}this.once("block",c)});n!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",c),s(Er("timeout","TIMEOUT",{reason:"timeout"})))},n)),c(await this.getBlockNumber())})}async waitForBlock(e){ce(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){let r=this.#l.get(e);r&&(r.timer&&clearTimeout(r.timer),this.#l.delete(e))}_setTimeout(e,r){r==null&&(r=0);let n=this.#u++,i=()=>{this.#l.delete(n),e()};if(this.paused)this.#l.set(n,{timer:null,func:i,time:r});else{let o=setTimeout(i,r);this.#l.set(n,{timer:o,func:i,time:Jye()})}return n}_forEachSubscriber(e){for(let r of this.#e.values())e(r.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new Ep(e.type);case"block":{let r=new SH(this);return r.pollingInterval=this.pollingInterval,r}case"safe":case"finalized":return new wH(this,e.type);case"event":return new Ly(this,e.filter);case"transaction":return new EH(this,e.hash);case"orphan":return new AH(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,r){for(let n of this.#e.values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=r,n.started&&r.start(),this.#r!=null&&r.pause(this.#r);break}}async#g(e,r){let n=await qye(e,this);return n.type==="event"&&r&&r.length>0&&r[0].removed===!0&&(n=await qye({orphan:"drop-log",log:r[0]},this)),this.#e.get(n.tag)||null}async#y(e){let r=await qye(e,this),n=r.tag,i=this.#e.get(n);return i||(i={subscriber:this._getSubscriber(r),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#e.set(n,i)),i}async on(e,r){let n=await this.#y(e);return n.listeners.push({listener:r,once:!1}),n.started||(n.subscriber.start(),n.started=!0,this.#r!=null&&n.subscriber.pause(this.#r)),this}async once(e,r){let n=await this.#y(e);return n.listeners.push({listener:r,once:!0}),n.started||(n.subscriber.start(),n.started=!0,this.#r!=null&&n.subscriber.pause(this.#r)),this}async emit(e,...r){let n=await this.#g(e,r);if(!n||n.listeners.length===0)return!1;let i=n.listeners.length;return n.listeners=n.listeners.filter(({listener:o,once:s})=>{let a=new ug(this,s?null:o,e);try{o.call(this,...r,a)}catch{}return!s}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),this.#e.delete(n.tag)),i>0}async listenerCount(e){if(e){let n=await this.#g(e);return n?n.listeners.length:0}let r=0;for(let{listeners:n}of this.#e.values())r+=n.length;return r}async listeners(e){if(e){let n=await this.#g(e);return n?n.listeners.map(({listener:i})=>i):[]}let r=[];for(let{listeners:n}of this.#e.values())r=r.concat(n.map(({listener:i})=>i));return r}async off(e,r){let n=await this.#g(e);if(!n)return this;if(r){let i=n.listeners.map(({listener:o})=>o).indexOf(r);i>=0&&n.listeners.splice(i,1)}return(!r||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),this.#e.delete(n.tag)),this}async removeAllListeners(e){if(e){let{tag:r,started:n,subscriber:i}=await this.#y(e);n&&i.stop(),this.#e.delete(r)}else for(let[r,{started:n,subscriber:i}]of this.#e)n&&i.stop(),this.#e.delete(r);return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return this.off(e,r)}get destroyed(){return this.#n}destroy(){this.removeAllListeners();for(let e of this.#l.keys())this._clearTimeout(e);this.#n=!0}get paused(){return this.#r!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#a=-1,this.#r!=null){if(this.#r==!!e)return;ce(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(r=>r.pause(e)),this.#r=!!e;for(let r of this.#l.values())r.timer&&clearTimeout(r.timer),r.time=Jye()-r.time}resume(){if(this.#r!=null){this._forEachSubscriber(e=>e.resume()),this.#r=null;for(let e of this.#l.values()){let r=e.time;r<0&&(r=0),e.time=Jye(),setTimeout(e.func,r)}}}};function rpr(t,e){try{let r=Kye(t,e);if(r)return Ki(r)}catch{}return null}function Kye(t,e){if(t==="0x")return null;try{let r=At(Gr(t,e,e+32)),n=At(Gr(t,r,r+32));return Gr(t,r+32,r+32+n)}catch{}return null}function Dmt(t){let e=Hr(t);if(e.length>32)throw new Error("internal; should not happen");let r=new Uint8Array(32);return r.set(e,32-e.length),r}function npr(t){if(t.length%32===0)return t;let e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}var ipr=new Uint8Array([]);function opr(t){let e=[],r=0;for(let n=0;n<t.length;n++)e.push(ipr),r+=32;for(let n=0;n<t.length;n++){let i=Ie(t[n]);e[n]=Dmt(r),e.push(Dmt(i.length)),e.push(npr(i)),r+=32+Math.ceil(i.length/32)*32}return Gt(e)}var Mmt="0x0000000000000000000000000000000000000000000000000000000000000000";function spr(t){let e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};ce(Dc(t)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});let r=Gr(t,0,32);ce(Gr(r,0,12)===Gr(Mmt,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Gr(r,12);try{let n=[],i=At(Gr(t,32,64)),o=At(Gr(t,i,i+32)),s=Gr(t,i+32);for(let a=0;a<o;a++){let c=rpr(s,a*32);if(c==null)throw new Error("abort");n.push(c)}e.urls=n}catch{ce(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{let n=Kye(t,64);if(n==null)throw new Error("abort");e.calldata=n}catch{ce(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}ce(Gr(t,100,128)===Gr(Mmt,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Gr(t,96,100);try{let n=Kye(t,128);if(n==null)throw new Error("abort");e.extraData=n}catch{ce(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>e[n]),e}function Y_(t,e){if(t.provider)return t.provider;ce(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function Lmt(t,e){let r=cd(e);if(r.to!=null&&(r.to=qn(r.to,t)),r.from!=null){let n=r.from;r.from=Promise.all([t.getAddress(),qn(n,t)]).then(([i,o])=>(W(i.toLowerCase()===o.toLowerCase(),"transaction from mismatch","tx.from",o),i))}else r.from=t.getAddress();return await Ln(r)}var ud=class{provider;constructor(e){Me(this,{provider:e||null})}async getNonce(e){return Y_(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await Lmt(this,e)}async populateTransaction(e){let r=Y_(this,"populateTransaction"),n=await Lmt(this,e);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));let i=await this.provider.getNetwork();if(n.chainId!=null){let s=Ke(n.chainId);W(s===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=i.chainId;let o=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||o)?W(!1,"eip-1559 transaction do not support gasPrice","tx",e):(n.type===0||n.type===1)&&o&&W(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){let s=await r.getFeeData();ce(s.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=s.gasPrice)}else{let s=await r.getFeeData();if(n.type==null)if(s.maxFeePerGas!=null&&s.maxPriorityFeePerGas!=null)if(n.authorizationList&&n.authorizationList.length?n.type=4:n.type=2,n.gasPrice!=null){let a=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=a,n.maxPriorityFeePerGas=a}else n.maxFeePerGas==null&&(n.maxFeePerGas=s.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=s.maxPriorityFeePerGas);else s.gasPrice!=null?(ce(!o,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=s.gasPrice),n.type=0):ce(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(n.type===2||n.type===3||n.type===4)&&(n.maxFeePerGas==null&&(n.maxFeePerGas=s.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=s.maxPriorityFeePerGas))}return await Ln(n)}async populateAuthorization(e){let r=Object.assign({},e);return r.chainId==null&&(r.chainId=(await Y_(this,"getNetwork").getNetwork()).chainId),r.nonce==null&&(r.nonce=await this.getNonce()),r}async estimateGas(e){return Y_(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Y_(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Y_(this,"resolveName").resolveName(e)}async sendTransaction(e){let r=Y_(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;let i=xl.from(n);return await r.broadcastTransaction(await this.signTransaction(i))}authorize(e){ce(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}},Z_=class t extends ud{address;constructor(e,r){super(r),Me(this,{address:e})}async getAddress(){return this.address}connect(e){return new t(this.address,e)}#e(e,r){ce(!1,`VoidSigner cannot sign ${e}`,"UNSUPPORTED_OPERATION",{operation:r})}async signTransaction(e){this.#e("transactions","signTransaction")}async signMessage(e){this.#e("messages","signMessage")}async signTypedData(e,r,n){this.#e("typed-data","signTypedData")}};var Bmt=new Set;function Cs(t){Bmt.has(t)||(Bmt.add(t),console.log("========= NOTICE ========="),console.log(`Request-Rate Exceeded for ${t} (this message will not be repeated)`),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.org/api-keys/"),console.log("=========================="))}function apr(t){return JSON.parse(JSON.stringify(t))}var IH=class{#e;#t;#r;#n;#i;#o;constructor(e){this.#e=e,this.#t=null,this.#r=this.#s.bind(this),this.#n=!1,this.#i=null,this.#o=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,r){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#s(e){try{this.#t==null&&(this.#t=this._subscribe(this.#e));let r=null;try{r=await this.#t}catch(o){if(!Qr(o,"UNSUPPORTED_OPERATION")||o.operation!=="eth_newFilter")throw o}if(r==null){this.#t=null,this.#e._recoverSubscriber(this,this._recover(this.#e));return}let n=await this.#e.getNetwork();if(this.#i||(this.#i=n),this.#i.chainId!==n.chainId)throw new Error("chaid changed");if(this.#o)return;let i=await this.#e.send("eth_getFilterChanges",[r]);await this._emitResults(this.#e,i)}catch(r){console.log("@TODO",r)}this.#e.once("block",this.#r)}#a(){let e=this.#t;e&&(this.#t=null,e.then(r=>{this.#e.destroyed||this.#e.send("eth_uninstallFilter",[r])}))}start(){this.#n||(this.#n=!0,this.#s(-2))}stop(){this.#n&&(this.#n=!1,this.#o=!0,this.#a(),this.#e.off("block",this.#r))}pause(e){e&&this.#a(),this.#e.off("block",this.#r)}resume(){this.start()}},CH=class extends IH{#e;constructor(e,r){super(e),this.#e=apr(r)}_recover(e){return new Ly(e,this.#e)}async _subscribe(e){return await e.send("eth_newFilter",[this.#e])}async _emitResults(e,r){for(let n of r)e.emit(this.#e,e._wrapLog(n,e._network))}},NH=class extends IH{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,r){for(let n of r)e.emit("pending",n)}};var cpr="bigint,boolean,function,number,string,symbol".split(/,/g);function OH(t){if(t==null||cpr.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(OH);if(typeof t=="object")return Object.keys(t).reduce((e,r)=>(e[r]=t[r],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function lpr(t){return new Promise(e=>{setTimeout(e,t)})}function n6(t){return t&&t.toLowerCase()}function $mt(t){return t&&typeof t.pollingInterval=="number"}var Umt={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3},By=class extends ud{address;constructor(e,r){super(e),r=Ct(r),Me(this,{address:r})}connect(e){ce(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){let r=OH(e),n=[];if(r.from){let o=r.from;n.push((async()=>{let s=await qn(o,this.provider);W(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),r.from=s})())}else r.from=this.address;if(r.gasLimit==null&&n.push((async()=>{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),r.to!=null){let o=r.to;n.push((async()=>{r.to=await qn(o,this.provider)})())}n.length&&await Promise.all(n);let i=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(e){let r=await this.provider.getBlockNumber(),n=await this.sendUncheckedTransaction(e);return await new Promise((i,o)=>{let s=[1e3,100],a=0,c=async()=>{try{let l=await this.provider.getTransaction(n);if(l!=null){i(l.replaceableTransaction(r));return}}catch(l){if(Qr(l,"CANCELLED")||Qr(l,"BAD_DATA")||Qr(l,"NETWORK_ERROR")||Qr(l,"UNSUPPORTED_OPERATION")){l.info==null&&(l.info={}),l.info.sendTransactionHash=n,o(l);return}if(Qr(l,"INVALID_ARGUMENT")&&(a++,l.info==null&&(l.info={}),l.info.sendTransactionHash=n,a>10)){o(l);return}this.provider.emit("error",Er("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:l}))}this.provider._setTimeout(()=>{c()},s.pop()||4e3)};c()})}async signTransaction(e){let r=OH(e);if(r.from){let i=await qn(r.from,this.provider);W(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),r.from=i}else r.from=this.address;let n=this.provider.getRpcTransaction(r);return await this.provider.send("eth_signTransaction",[n])}async signMessage(e){let r=typeof e=="string"?jr(e):e;return await this.provider.send("personal_sign",[ve(r),this.address.toLowerCase()])}async signTypedData(e,r,n){let i=OH(n),o=await sd.resolveNames(e,r,i,async s=>{let a=await qn(s);return W(a!=null,"TypedData does not support null address","value",s),a});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(sd.getPayload(o.domain,r,o.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){let r=typeof e=="string"?jr(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),ve(r)])}},$y=class extends ld{#e;#t;#r;#n;#i;#o;#s;#a(){if(this.#n)return;let e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#n=setTimeout(()=>{this.#n=null;let r=this.#r;for(this.#r=[];r.length;){let n=[r.shift()];for(;r.length&&n.length!==this.#e.batchMaxCount;)if(n.push(r.shift()),JSON.stringify(n.map(o=>o.payload)).length>this.#e.batchMaxSize){r.unshift(n.pop());break}(async()=>{let i=n.length===1?n[0].payload:n.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{let o=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:o});for(let{resolve:s,reject:a,payload:c}of n){if(this.destroyed){a(Er("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:c.method}));continue}let l=o.filter(u=>u.id===c.id)[0];if(l==null){let u=Er("missing response for request","BAD_DATA",{value:o,info:{payload:c}});this.emit("error",u),a(u);continue}if("error"in l){a(this.getRpcError(c,l));continue}s(l.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(let{reject:s}of n)s(o)}})()}},e)}constructor(e,r){super(e,r),this.#t=1,this.#e=Object.assign({},Umt,r||{}),this.#r=[],this.#n=null,this.#o=null,this.#s=null;{let i=null,o=new Promise(s=>{i=s});this.#i={promise:o,resolve:i}}let n=this._getOption("staticNetwork");typeof n=="boolean"?(W(!n||e!=="any","staticNetwork cannot be used on special network 'any'","options",r),n&&e!=null&&(this.#o=Ir.from(e))):n&&(W(e==null||n.matches(e),"staticNetwork MUST match network object","options",r),this.#o=n)}_getOption(e){return this.#e[e]}get _network(){return ce(this.#o,"network is not available yet","NETWORK_ERROR"),this.#o}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let n=e.transaction;if(n&&n.type!=null&&Ke(n.type)&&n.maxFeePerGas==null&&n.maxPriorityFeePerGas==null){let i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(e=Object.assign({},e,{transaction:Object.assign({},n,{type:void 0})}))}}let r=this.getRpcRequest(e);return r!=null?await this.send(r.method,r.args):super._perform(e)}async _detectNetwork(){let e=this._getOption("staticNetwork");if(e)if(e===!0){if(this.#o)return this.#o}else return e;return this.#s?await this.#s:this.ready?(this.#s=(async()=>{try{let r=Ir.from(Ke(await this.send("eth_chainId",[])));return this.#s=null,r}catch(r){throw this.#s=null,r}})(),await this.#s):(this.#s=(async()=>{let r={id:this.#t++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:r});let n;try{n=(await this._send(r))[0],this.#s=null}catch(i){throw this.#s=null,this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:n}),"result"in n)return Ir.from(Ke(n.result));throw this.getRpcError(r,n)})(),await this.#s)}_start(){this.#i==null||this.#i.resolve==null||(this.#i.resolve(),this.#i=null,(async()=>{for(;this.#o==null&&!this.destroyed;)try{this.#o=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Er("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await lpr(1e3)}this.#a()})())}async _waitUntilReady(){if(this.#i!=null)return await this.#i.promise}_getSubscriber(e){return e.type==="pending"?new NH(this):e.type==="event"?this._getOption("polling")?new Ly(this,e.filter):new CH(this,e.filter):e.type==="orphan"&&e.filter.orphan==="drop-log"?new Ep("orphan"):super._getSubscriber(e)}get ready(){return this.#i==null}getRpcTransaction(e){let r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(n=>{if(e[n]==null)return;let i=n;n==="gasLimit"&&(i="gas"),r[i]=Lo(Ke(e[n],`tx.${n}`))}),["from","to","data"].forEach(n=>{e[n]!=null&&(r[n]=ve(e[n]))}),e.accessList&&(r.accessList=Rs(e.accessList)),e.blobVersionedHashes&&(r.blobVersionedHashes=e.blobVersionedHashes.map(n=>n.toLowerCase())),e.authorizationList&&(r.authorizationList=e.authorizationList.map(n=>{let i=F_(n);return{address:i.address,nonce:Lo(i.nonce),chainId:Lo(i.chainId),yParity:Lo(i.signature.yParity),r:Lo(i.signature.r),s:Lo(i.signature.s)}})),r}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[n6(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[n6(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[n6(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[n6(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&e.filter.address!=null&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(n6):e.filter.address=n6(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,r){let{method:n}=e,{error:i}=r;if(n==="eth_estimateGas"&&i.message){let a=i.message;if(!a.match(/revert/i)&&a.match(/insufficient funds/i))return Er("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:i}});if(a.match(/nonce/i)&&a.match(/too low/i))return Er("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:i}})}if(n==="eth_call"||n==="eth_estimateGas"){let a=Qye(i),c=ad.getBuiltinCallException(n==="eth_call"?"call":"estimateGas",e.params[0],a?a.data:null);return c.info={error:i,payload:e},c}let o=JSON.stringify(upr(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return Er("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[n]||"unknown",reason:"rejected",info:{payload:e,error:i}});if(n==="eth_sendRawTransaction"||n==="eth_sendTransaction"){let a=e.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return Er("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:a,info:{error:i}});if(o.match(/nonce/i)&&o.match(/too low/i))return Er("nonce has already been used","NONCE_EXPIRED",{transaction:a,info:{error:i}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return Er("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:a,info:{error:i}});if(o.match(/only replay-protected/i))return Er("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:n,info:{transaction:a,info:{error:i}}})}let s=!!o.match(/the method .* does not exist/i);return s||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(s=!0),s?Er("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:i,payload:e}}):Er("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:e})}send(e,r){if(this.destroyed)return Promise.reject(Er("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));let n=this.#t++,i=new Promise((o,s)=>{this.#r.push({resolve:o,reject:s,payload:{method:e,params:r,id:n,jsonrpc:"2.0"}})});return this.#a(),i}async getSigner(e){e==null&&(e=0);let r=this.send("eth_accounts",[]);if(typeof e=="number"){let i=await r;if(e>=i.length)throw new Error("no such account");return new By(this,i[e])}let{accounts:n}=await Ln({network:this.getNetwork(),accounts:r});e=Ct(e);for(let i of n)if(Ct(i)===e)return new By(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(r=>new By(this,r))}destroy(){this.#n&&(clearTimeout(this.#n),this.#n=null);for(let{payload:e,reject:r}of this.#r)r(Er("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#r=[],super.destroy()}},jN=class extends $y{#e;constructor(e,r){super(e,r);let n=this._getOption("pollingInterval");n==null&&(n=Umt.pollingInterval),this.#e=n}_getSubscriber(e){let r=super._getSubscriber(e);return $mt(r)&&(r.pollingInterval=this.#e),r}get pollingInterval(){return this.#e}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#e=e,this._forEachSubscriber(r=>{$mt(r)&&(r.pollingInterval=this.#e)})}},Zn=class extends jN{#e;constructor(e,r,n){e==null&&(e="http://localhost:8545"),super(r,n),typeof e=="string"?this.#e=new nn(e):this.#e=e.clone()}_getConnection(){return this.#e.clone()}async send(e,r){return await this._start(),await super.send(e,r)}async _send(e){let r=this._getConnection();r.body=JSON.stringify(e),r.setHeader("content-type","application/json");let n=await r.send();n.assertOk();let i=n.bodyJson;return Array.isArray(i)||(i=[i]),i}};function Qye(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&br(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(let e in t){let r=Qye(t[e]);if(r)return r}return null}if(typeof t=="string")try{return Qye(JSON.parse(t))}catch{}return null}function Xye(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(let r in t)Xye(t[r],e);if(typeof t=="string")try{return Xye(JSON.parse(t),e)}catch{}}}function upr(t){let e=[];return Xye(t,e),e}var PH="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function dpr(t){switch(t){case"mainnet":return"rpc.ankr.com/eth";case"goerli":return"rpc.ankr.com/eth_goerli";case"sepolia":return"rpc.ankr.com/eth_sepolia";case"arbitrum":return"rpc.ankr.com/arbitrum";case"base":return"rpc.ankr.com/base";case"base-goerli":return"rpc.ankr.com/base_goerli";case"base-sepolia":return"rpc.ankr.com/base_sepolia";case"bnb":return"rpc.ankr.com/bsc";case"bnbt":return"rpc.ankr.com/bsc_testnet_chapel";case"filecoin":return"rpc.ankr.com/filecoin";case"filecoin-calibration":return"rpc.ankr.com/filecoin_testnet";case"matic":return"rpc.ankr.com/polygon";case"matic-mumbai":return"rpc.ankr.com/polygon_mumbai";case"optimism":return"rpc.ankr.com/optimism";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia"}W(!1,"unsupported network","network",t)}var ex=class t extends Zn{apiKey;constructor(e,r){e==null&&(e="mainnet");let n=Ir.from(e);r==null&&(r=PH);let i={polling:!0,staticNetwork:n},o=t.getRequest(n,r);super(o,n,i),Me(this,{apiKey:r})}_getProvider(e){try{return new t(e,this.apiKey)}catch{}return super._getProvider(e)}static getRequest(e,r){r==null&&(r=PH);let n=new nn(`https://${dpr(e.name)}/${r}`);return n.allowGzip=!0,r===PH&&(n.retryFunc=async(i,o,s)=>(Cs("AnkrProvider"),!0)),n}getRpcError(e,r){return e.method==="eth_sendRawTransaction"&&r&&r.error&&r.error.message==="INTERNAL_ERROR: could not replace existing tx"&&(r.error.message="replacement transaction underpriced"),super.getRpcError(e,r)}isCommunityResource(){return this.apiKey===PH}};var kH="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";function ppr(t){switch(t){case"mainnet":return"eth-mainnet.g.alchemy.com";case"goerli":return"eth-goerli.g.alchemy.com";case"sepolia":return"eth-sepolia.g.alchemy.com";case"arbitrum":return"arb-mainnet.g.alchemy.com";case"arbitrum-goerli":return"arb-goerli.g.alchemy.com";case"arbitrum-sepolia":return"arb-sepolia.g.alchemy.com";case"base":return"base-mainnet.g.alchemy.com";case"base-goerli":return"base-goerli.g.alchemy.com";case"base-sepolia":return"base-sepolia.g.alchemy.com";case"matic":return"polygon-mainnet.g.alchemy.com";case"matic-amoy":return"polygon-amoy.g.alchemy.com";case"matic-mumbai":return"polygon-mumbai.g.alchemy.com";case"optimism":return"opt-mainnet.g.alchemy.com";case"optimism-goerli":return"opt-goerli.g.alchemy.com";case"optimism-sepolia":return"opt-sepolia.g.alchemy.com"}W(!1,"unsupported network","network",t)}var tx=class t extends Zn{apiKey;constructor(e,r){e==null&&(e="mainnet");let n=Ir.from(e);r==null&&(r=kH);let i=t.getRequest(n,r);super(i,n,{staticNetwork:n}),Me(this,{apiKey:r})}_getProvider(e){try{return new t(e,this.apiKey)}catch{}return super._getProvider(e)}async _perform(e){if(e.method==="getTransactionResult"){let{trace:r,tx:n}=await Ln({trace:this.send("trace_transaction",[e.hash]),tx:this.getTransaction(e.hash)});if(r==null||n==null)return null;let i,o=!1;try{i=r[0].result.output,o=r[0].error==="Reverted"}catch{}if(i)return ce(!o,"an error occurred during transaction executions","CALL_EXCEPTION",{action:"getTransactionResult",data:i,reason:null,transaction:n,invocation:null,revert:null}),i;ce(!1,"could not parse trace result","BAD_DATA",{value:r})}return await super._perform(e)}isCommunityResource(){return this.apiKey===kH}static getRequest(e,r){r==null&&(r=kH);let n=new nn(`https://${ppr(e.name)}/v2/${r}`);return n.allowGzip=!0,r===kH&&(n.retryFunc=async(i,o,s)=>(Cs("alchemy"),!0)),n}};function DH(t){switch(t){case"mainnet":return"39f1d67cedf8b7831010a665328c9197";case"arbitrum":return"0550c209db33c3abf4cc927e1e18cea1";case"bnb":return"98b5a77e531614387366f6fc5da097f8";case"matic":return"cd9d4d70377471aa7c142ec4a4205249"}W(!1,"unsupported network","network",t)}function fpr(t){switch(t){case"mainnet":return"ethereum-mainnet.core.chainstack.com";case"arbitrum":return"arbitrum-mainnet.core.chainstack.com";case"bnb":return"bsc-mainnet.core.chainstack.com";case"matic":return"polygon-mainnet.core.chainstack.com"}W(!1,"unsupported network","network",t)}var rx=class t extends Zn{apiKey;constructor(e,r){e==null&&(e="mainnet");let n=Ir.from(e);r==null&&(r=DH(n.name));let i=t.getRequest(n,r);super(i,n,{staticNetwork:n}),Me(this,{apiKey:r})}_getProvider(e){try{return new t(e,this.apiKey)}catch{}return super._getProvider(e)}isCommunityResource(){return this.apiKey===DH(this._network.name)}static getRequest(e,r){r==null&&(r=DH(e.name));let n=new nn(`https://${fpr(e.name)}/${r}`);return n.allowGzip=!0,r===DH(e.name)&&(n.retryFunc=async(i,o,s)=>(Cs("ChainstackProvider"),!0)),n}};var nx=class extends Zn{constructor(e){e==null&&(e="mainnet");let r=Ir.from(e);W(r.name==="mainnet","unsupported network","network",e),super("https://cloudflare-eth.com/",r,{staticNetwork:r})}};var mpr="1 11155111 17000 560048 2741 11124 33111 33139 42170 42161 421614 43114 43113 8453 84532 80069 80094 199 1029 81457 168587773 56 97 42220 11142220 252 2523 100 999 737373 747474 59144 59141 5000 5003 43521 143 10143 1287 1284 1285 10 11155420 204 5611 80002 137 534352 534351 1329 1328 146 14601 988 2201 1923 1924 167013 167000 130 1301 480 4801 51 50 324 300".split(/ /g),Fmt=2e3;function hpr(t){return t&&typeof t.then=="function"}var zmt="org.ethers.plugins.provider.Etherscan",qN=class t extends Ap{baseUrl;constructor(e){super(zmt),Me(this,{baseUrl:e})}clone(){return new t(this.baseUrl)}},gpr=["enableCcipRead"],ypr=1,ix=class extends ld{network;apiKey;#e;constructor(e,r){let n=r??null;super();let i=Ir.from(e);W(mpr.indexOf(`${i.chainId}`)>=0,"unsupported network","network",i),this.#e=i.getPlugin(zmt),Me(this,{apiKey:n,network:i})}getBaseUrl(){if(this.#e)return this.#e.baseUrl;switch(this.network.name){case"mainnet":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"holesky":return"https://api-holesky.etherscan.io";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"base":return"https://api.basescan.org";case"base-sepolia":return"https://api-sepolia.basescan.org";case"bnb":return"https://api.bscscan.com";case"bnbt":return"https://api-testnet.bscscan.com";case"matic":return"https://api.polygonscan.com";case"matic-amoy":return"https://api-amoy.polygonscan.com";case"matic-mumbai":return"https://api-testnet.polygonscan.com";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io";default:}W(!1,"unsupported network","network",this.network)}getUrl(e,r){let n=Object.keys(r).reduce((i,o)=>{let s=r[o];return s!=null&&(i+=`&${o}=${s}`),i},"");return this.apiKey&&(n+=`&apikey=${this.apiKey}`),`https://api.etherscan.io/v2/api?chainid=${this.network.chainId}&module=${e}${n}`}getPostUrl(){return`https://api.etherscan.io/v2/api?chainid=${this.network.chainId}`}getPostData(e,r){return r.module=e,r.apikey=this.apiKey,r.chainid=this.network.chainId,r}async detectNetwork(){return this.network}async fetch(e,r,n){let i=ypr++,o=n?this.getPostUrl():this.getUrl(e,r),s=n?this.getPostData(e,r):null;this.emit("debug",{action:"sendRequest",id:i,url:o,payload:s});let a=new nn(o);a.setThrottleParams({slotInterval:1e3}),a.retryFunc=(u,d,p)=>(this.isCommunityResource()&&Cs("Etherscan"),Promise.resolve(!0)),a.processFunc=async(u,d)=>{let p=d.hasBody()?JSON.parse(Ki(d.body)):{},f=(typeof p.result=="string"?p.result:"").toLowerCase().indexOf("rate limit")>=0;return e==="proxy"?p&&p.status==0&&p.message=="NOTOK"&&f&&(this.emit("debug",{action:"receiveError",id:i,reason:"proxy-NOTOK",error:p}),d.throwThrottleError(p.result,Fmt)):f&&(this.emit("debug",{action:"receiveError",id:i,reason:"null result",error:p.result}),d.throwThrottleError(p.result,Fmt)),d},s&&(a.setHeader("content-type","application/x-www-form-urlencoded; charset=UTF-8"),a.body=Object.keys(s).map(u=>`${u}=${s[u]}`).join("&"));let c=await a.send();try{c.assertOk()}catch(u){this.emit("debug",{action:"receiveError",id:i,error:u,reason:"assertOk"}),ce(!1,"response error","SERVER_ERROR",{request:a,response:c})}c.hasBody()||(this.emit("debug",{action:"receiveError",id:i,error:"missing body",reason:"null body"}),ce(!1,"missing response","SERVER_ERROR",{request:a,response:c}));let l=JSON.parse(Ki(c.body));return e==="proxy"?(l.jsonrpc!="2.0"&&(this.emit("debug",{action:"receiveError",id:i,result:l,reason:"invalid JSON-RPC"}),ce(!1,"invalid JSON-RPC response (missing jsonrpc='2.0')","SERVER_ERROR",{request:a,response:c,info:{result:l}})),l.error&&(this.emit("debug",{action:"receiveError",id:i,result:l,reason:"JSON-RPC error"}),ce(!1,"error response","SERVER_ERROR",{request:a,response:c,info:{result:l}})),this.emit("debug",{action:"receiveRequest",id:i,result:l}),l.result):l.status==0&&(l.message==="No records found"||l.message==="No transactions found")?(this.emit("debug",{action:"receiveRequest",id:i,result:l}),l.result):((l.status!=1||typeof l.message=="string"&&!l.message.match(/^OK/))&&(this.emit("debug",{action:"receiveError",id:i,result:l}),ce(!1,"error response","SERVER_ERROR",{request:a,response:c,info:{result:l}})),this.emit("debug",{action:"receiveRequest",id:i,result:l}),l.result)}_getTransactionPostData(e){let r={};for(let n in e){if(gpr.indexOf(n)>=0||e[n]==null)continue;let i=e[n];if(!(n==="type"&&i===0)&&!(n==="blockTag"&&i==="latest")){if({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[n])i=Lo(i);else if(n==="accessList")i="["+Rs(i).map(o=>`{address:"${o.address}",storageKeys:["${o.storageKeys.join('","')}"]}`).join(",")+"]";else if(n==="blobVersionedHashes"){if(i.length===0)continue;ce(!1,"Etherscan API does not support blobVersionedHashes","UNSUPPORTED_OPERATION",{operation:"_getTransactionPostData",info:{transaction:e}})}else i=ve(i);r[n]=i}}return r}_checkError(e,r,n){let i="";if(Qr(r,"SERVER_ERROR")){try{i=r.info.result.error.message}catch{}if(!i)try{i=r.info.message}catch{}}if(e.method==="estimateGas"&&!i.match(/revert/i)&&i.match(/insufficient funds/i)&&ce(!1,"insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.transaction}),(e.method==="call"||e.method==="estimateGas")&&i.match(/execution reverted/i)){let o="";try{o=r.info.result.error.data}catch{}let s=ad.getBuiltinCallException(e.method,e.transaction,o);throw s.info={request:e,error:r},s}if(i&&e.method==="broadcastTransaction"){let o=xl.from(e.signedTransaction);i.match(/replacement/i)&&i.match(/underpriced/i)&&ce(!1,"replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:o}),i.match(/insufficient funds/)&&ce(!1,"insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:o}),i.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&ce(!1,"nonce has already been used","NONCE_EXPIRED",{transaction:o})}throw r}async _detectNetwork(){return this.network}async _perform(e){switch(e.method){case"chainId":return this.network.chainId;case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getPriorityFee":if(this.network.name==="mainnet")return"1000000000";if(this.network.name==="optimism")return"1000000";throw new Error("fallback onto the AbstractProvider default");case"getBalance":return this.fetch("account",{action:"balance",address:e.address,tag:e.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:e.address,tag:e.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:e.address,tag:e.blockTag});case"getStorage":return this.fetch("proxy",{action:"eth_getStorageAt",address:e.address,position:e.position,tag:e.blockTag});case"broadcastTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:e.signedTransaction},!0).catch(r=>this._checkError(e,r,e.signedTransaction));case"getBlock":if("blockTag"in e)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:e.blockTag,boolean:e.includeTransactions?"true":"false"});ce(!1,"getBlock by blockHash not supported by Etherscan","UNSUPPORTED_OPERATION",{operation:"getBlock(blockHash)"});case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:e.hash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:e.hash});case"call":{if(e.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");let r=this._getTransactionPostData(e.transaction);r.module="proxy",r.action="eth_call";try{return await this.fetch("proxy",r,!0)}catch(n){return this._checkError(e,n,e.transaction)}}case"estimateGas":{let r=this._getTransactionPostData(e.transaction);r.module="proxy",r.action="eth_estimateGas";try{return await this.fetch("proxy",r,!0)}catch(n){return this._checkError(e,n,e.transaction)}}default:break}return super._perform(e)}async getNetwork(){return this.network}async getEtherPrice(){return this.network.name!=="mainnet"?0:parseFloat((await this.fetch("stats",{action:"ethprice"})).ethusd)}async getContract(e){let r=this._getAddress(e);hpr(r)&&(r=await r);try{let n=await this.fetch("contract",{action:"getabi",address:r}),i=JSON.parse(n);return new Lc(r,i,this)}catch{return null}}isCommunityResource(){return this.apiKey==null}};var Rfr=ti(jmt(),1),Ifr=ti(cbe(),1),Cfr=ti(ube(),1),WH=ti(ybe(),1),Nfr=ti(Vht(),1);var Vy=class{#e;#t;get filter(){return JSON.parse(this.#t)}#r;#n;#i;constructor(e,r){this.#e=e,this.#t=JSON.stringify(r),this.#r=null,this.#n=null,this.#i=null}start(){this.#r=this.#e.send("eth_subscribe",this.filter).then(e=>(this.#e._register(e,this),e))}stop(){this.#r.then(e=>{this.#e.destroyed||this.#e.send("eth_unsubscribe",[e])}),this.#r=null}pause(e){ce(e,"preserve logs while paused not supported by SocketSubscriber yet","UNSUPPORTED_OPERATION",{operation:"pause(false)"}),this.#n=!!e}resume(){this.#n=null}_handleMessage(e){if(this.#r!=null&&this.#n===null){let r=this.#i;r==null?r=this._emit(this.#e,e):r=r.then(async()=>{await this._emit(this.#e,e)}),this.#i=r.then(()=>{this.#i===r&&(this.#i=null)})}}async _emit(e,r){throw new Error("sub-classes must implemente this; _emit")}},c6=class extends Vy{constructor(e){super(e,["newHeads"])}async _emit(e,r){e.emit("block",parseInt(r.number))}},l6=class extends Vy{constructor(e){super(e,["newPendingTransactions"])}async _emit(e,r){e.emit("pending",r)}},u6=class extends Vy{#e;get logFilter(){return JSON.parse(this.#e)}constructor(e,r){super(e,["logs",r]),this.#e=JSON.stringify(r)}async _emit(e,r){e.emit(this.logFilter,e._wrapLog(r,e._network))}},Rg=class extends $y{#e;#t;#r;constructor(e,r){let n=Object.assign({},r??{});W(n.batchMaxCount==null||n.batchMaxCount===1,"sockets-based providers do not support batches","options.batchMaxCount",r),n.batchMaxCount=1,n.staticNetwork==null&&(n.staticNetwork=!0),super(e,n),this.#e=new Map,this.#t=new Map,this.#r=new Map}_getSubscriber(e){switch(e.type){case"close":return new Ep("close");case"block":return new c6(this);case"pending":return new l6(this);case"event":return new u6(this,e.filter);case"orphan":if(e.filter.orphan==="drop-log")return new Ep("drop-log")}return super._getSubscriber(e)}_register(e,r){this.#t.set(e,r);let n=this.#r.get(e);if(n){for(let i of n)r._handleMessage(i);this.#r.delete(e)}}async _send(e){W(!Array.isArray(e),"WebSocket does not support batch send","payload",e);let r=new Promise((n,i)=>{this.#e.set(e.id,{payload:e,resolve:n,reject:i})});return await this._waitUntilReady(),await this._write(JSON.stringify(e)),[await r]}async _processMessage(e){let r=JSON.parse(e);if(r&&typeof r=="object"&&"id"in r){let n=this.#e.get(r.id);if(n==null){this.emit("error",Er("received result for unknown id","UNKNOWN_ERROR",{reasonCode:"UNKNOWN_ID",result:r}));return}this.#e.delete(r.id),n.resolve(r)}else if(r&&r.method==="eth_subscription"){let n=r.params.subscription,i=this.#t.get(n);if(i)i._handleMessage(r.params.result);else{let o=this.#r.get(n);o==null&&(o=[],this.#r.set(n,o)),o.push(r.params.result)}}else{this.emit("error",Er("received unexpected message","UNKNOWN_ERROR",{reasonCode:"UNEXPECTED_MESSAGE",result:r}));return}}async _write(e){throw new Error("sub-classes must override this")}};var Ig=class extends Rg{#e;#t;get websocket(){if(this.#t==null)throw new Error("websocket closed");return this.#t}constructor(e,r,n){super(r,n),typeof e=="string"?(this.#e=()=>new WH.default(e),this.#t=this.#e()):typeof e=="function"?(this.#e=e,this.#t=e()):(this.#e=null,this.#t=e),this.websocket.onopen=async()=>{try{await this._start(),this.resume()}catch(i){console.log("failed to start WebsocketProvider",i)}},this.websocket.onmessage=i=>{this._processMessage(i.data)}}async _write(e){this.websocket.send(e)}async destroy(){this.#t!=null&&(this.#t.close(),this.#t=null),super.destroy()}};var nO="84842078b09946638c03157f83405213";function Ofr(t){switch(t){case"mainnet":return"mainnet.infura.io";case"goerli":return"goerli.infura.io";case"sepolia":return"sepolia.infura.io";case"arbitrum":return"arbitrum-mainnet.infura.io";case"arbitrum-goerli":return"arbitrum-goerli.infura.io";case"arbitrum-sepolia":return"arbitrum-sepolia.infura.io";case"base":return"base-mainnet.infura.io";case"base-goerlia":case"base-goerli":return"base-goerli.infura.io";case"base-sepolia":return"base-sepolia.infura.io";case"bnb":return"bsc-mainnet.infura.io";case"bnbt":return"bsc-testnet.infura.io";case"linea":return"linea-mainnet.infura.io";case"linea-goerli":return"linea-goerli.infura.io";case"linea-sepolia":return"linea-sepolia.infura.io";case"matic":return"polygon-mainnet.infura.io";case"matic-amoy":return"polygon-amoy.infura.io";case"matic-mumbai":return"polygon-mumbai.infura.io";case"optimism":return"optimism-mainnet.infura.io";case"optimism-goerli":return"optimism-goerli.infura.io";case"optimism-sepolia":return"optimism-sepolia.infura.io"}W(!1,"unsupported network","network",t)}var d6=class extends Ig{projectId;projectSecret;constructor(e,r){let n=new Hy(e,r),i=n._getConnection();ce(!i.credentials,"INFURA WebSocket project secrets unsupported","UNSUPPORTED_OPERATION",{operation:"InfuraProvider.getWebSocketProvider()"});let o=i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(o,n._network),Me(this,{projectId:n.projectId,projectSecret:n.projectSecret})}isCommunityResource(){return this.projectId===nO}},Hy=class t extends Zn{projectId;projectSecret;constructor(e,r,n){e==null&&(e="mainnet");let i=Ir.from(e);r==null&&(r=nO),n==null&&(n=null);let o=t.getRequest(i,r,n);super(o,i,{staticNetwork:i}),Me(this,{projectId:r,projectSecret:n})}_getProvider(e){try{return new t(e,this.projectId,this.projectSecret)}catch{}return super._getProvider(e)}isCommunityResource(){return this.projectId===nO}static getWebSocketProvider(e,r){return new d6(e,r)}static getRequest(e,r,n){r==null&&(r=nO),n==null&&(n=null);let i=new nn(`https://${Ofr(e.name)}/v3/${r}`);return i.allowGzip=!0,n&&i.setCredentials("",n),r===nO&&(i.retryFunc=async(o,s,a)=>(Cs("InfuraProvider"),!0)),i}};var KH="919b412a057b5e9c9b6dce193c5a60242d6efadb";function Pfr(t){switch(t){case"mainnet":return"ethers.quiknode.pro";case"goerli":return"ethers.ethereum-goerli.quiknode.pro";case"sepolia":return"ethers.ethereum-sepolia.quiknode.pro";case"holesky":return"ethers.ethereum-holesky.quiknode.pro";case"arbitrum":return"ethers.arbitrum-mainnet.quiknode.pro";case"arbitrum-goerli":return"ethers.arbitrum-goerli.quiknode.pro";case"arbitrum-sepolia":return"ethers.arbitrum-sepolia.quiknode.pro";case"base":return"ethers.base-mainnet.quiknode.pro";case"base-goerli":return"ethers.base-goerli.quiknode.pro";case"base-spolia":return"ethers.base-sepolia.quiknode.pro";case"bnb":return"ethers.bsc.quiknode.pro";case"bnbt":return"ethers.bsc-testnet.quiknode.pro";case"matic":return"ethers.matic.quiknode.pro";case"matic-mumbai":return"ethers.matic-testnet.quiknode.pro";case"optimism":return"ethers.optimism.quiknode.pro";case"optimism-goerli":return"ethers.optimism-goerli.quiknode.pro";case"optimism-sepolia":return"ethers.optimism-sepolia.quiknode.pro";case"xdai":return"ethers.xdai.quiknode.pro"}W(!1,"unsupported network","network",t)}var lx=class t extends Zn{token;constructor(e,r){e==null&&(e="mainnet");let n=Ir.from(e);r==null&&(r=KH);let i=t.getRequest(n,r);super(i,n,{staticNetwork:n}),Me(this,{token:r})}_getProvider(e){try{return new t(e,this.token)}catch{}return super._getProvider(e)}isCommunityResource(){return this.token===KH}static getRequest(e,r){r==null&&(r=KH);let n=new nn(`https://${Pfr(e.name)}/${r}`);return n.allowGzip=!0,r===KH&&(n.retryFunc=async(i,o,s)=>(Cs("QuickNodeProvider"),!0)),n}};var kfr=BigInt("1"),Dfr=BigInt("2");function Mfr(t){for(let e=t.length-1;e>0;e--){let r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}}function Lfr(t){return new Promise(e=>{setTimeout(e,t)})}function Sbe(){return new Date().getTime()}function vbe(t){return JSON.stringify(t,(e,r)=>typeof r=="bigint"?{type:"bigint",value:r.toString()}:r)}var Hht={stallTimeout:400,priority:1,weight:1},Ght={blockNumber:-2,requests:0,lateResponses:0,errorResponses:0,outOfSync:-1,unsupportedEvents:0,rollingDuration:0,score:0,_network:null,_updateNumber:null,_totalTime:0,_lastFatalError:null,_lastFatalErrorTimestamp:0};async function Bfr(t,e){for(;(t.blockNumber<0||t.blockNumber<e)&&(t._updateNumber||(t._updateNumber=(async()=>{try{let r=await t.provider.getBlockNumber();r>t.blockNumber&&(t.blockNumber=r)}catch(r){t.blockNumber=-2,t._lastFatalError=r,t._lastFatalErrorTimestamp=Sbe()}t._updateNumber=null})()),await t._updateNumber,t.outOfSync++,!t._lastFatalError););}function p6(t){if(t==null)return"null";if(Array.isArray(t))return"["+t.map(p6).join(",")+"]";if(typeof t=="object"&&typeof t.toJSON=="function")return p6(t.toJSON());switch(typeof t){case"boolean":case"symbol":return t.toString();case"bigint":case"number":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{let e=Object.keys(t);return e.sort(),"{"+e.map(r=>`${JSON.stringify(r)}:${p6(t[r])}`).join(",")+"}"}}throw console.log("Could not serialize",t),new Error("Hmm...")}function _be(t,e){if("error"in e){let n=e.error,i;return Qr(n,"CALL_EXCEPTION")?i=p6(Object.assign({},n,{shortMessage:void 0,reason:void 0,info:void 0})):i=p6(n),{tag:i,value:n}}let r=e.result;return{tag:p6(r),value:r}}function QH(t,e){let r=new Map;for(let{value:i,tag:o,weight:s}of e){let a=r.get(o)||{value:i,weight:0};a.weight+=s,r.set(o,a)}let n=null;for(let i of r.values())i.weight>=t&&(!n||i.weight>n.weight)&&(n=i);if(n)return n.value}function wbe(t,e){let r=0,n=new Map,i=null,o=[];for(let{value:a,tag:c,weight:l}of e)if(a instanceof Error){let u=n.get(c)||{value:a,weight:0};u.weight+=l,n.set(c,u),(i==null||u.weight>i.weight)&&(i=u)}else o.push(BigInt(a)),r+=l;if(r<t)return i&&i.weight>=t?i.value:void 0;o.sort((a,c)=>a<c?-1:c>a?1:0);let s=Math.floor(o.length/2);return o.length%2?o[s]:(o[s-1]+o[s]+kfr)/Dfr}function xbe(t,e){let r=QH(t,e);if(r!==void 0)return r;for(let n of e)if(n.value)return n.value}function $fr(t,e){if(t===1)return At(wbe(t,e),"%internal");let r=new Map,n=(s,a)=>{let c=r.get(s)||{result:s,weight:0};c.weight+=a,r.set(s,c)};for(let{weight:s,value:a}of e){let c=At(a);n(c-1,s),n(c,s),n(c+1,s)}let i=0,o;for(let{weight:s,result:a}of r.values())s>=t&&(s>i||o!=null&&s===i&&a>o)&&(i=s,o=a);return o}var ux=class extends ld{quorum;eventQuorum;eventWorkers;#e;#t;#r;constructor(e,r,n){super(r,n),this.#e=e.map(i=>i instanceof ld?Object.assign({provider:i},Hht,Ght):Object.assign({},Hht,i,Ght)),this.#t=-2,this.#r=null,n&&n.quorum!=null?this.quorum=n.quorum:this.quorum=Math.ceil(this.#e.reduce((i,o)=>(i+=o.weight,i),0)/2),this.eventQuorum=1,this.eventWorkers=1,W(this.quorum<=this.#e.reduce((i,o)=>i+o.weight,0),"quorum exceed provider weight","quorum",this.quorum)}get providerConfigs(){return this.#e.map(e=>{let r=Object.assign({},e);for(let n in r)n[0]==="_"&&delete r[n];return r})}async _detectNetwork(){return Ir.from(Ke(await this._perform({method:"chainId"})))}async _translatePerform(e,r){switch(r.method){case"broadcastTransaction":return await e.broadcastTransaction(r.signedTransaction);case"call":return await e.call(Object.assign({},r.transaction,{blockTag:r.blockTag}));case"chainId":return(await e.getNetwork()).chainId;case"estimateGas":return await e.estimateGas(r.transaction);case"getBalance":return await e.getBalance(r.address,r.blockTag);case"getBlock":{let n="blockHash"in r?r.blockHash:r.blockTag;return await e.getBlock(n,r.includeTransactions)}case"getBlockNumber":return await e.getBlockNumber();case"getCode":return await e.getCode(r.address,r.blockTag);case"getGasPrice":return(await e.getFeeData()).gasPrice;case"getPriorityFee":return(await e.getFeeData()).maxPriorityFeePerGas;case"getLogs":return await e.getLogs(r.filter);case"getStorage":return await e.getStorage(r.address,r.position,r.blockTag);case"getTransaction":return await e.getTransaction(r.hash);case"getTransactionCount":return await e.getTransactionCount(r.address,r.blockTag);case"getTransactionReceipt":return await e.getTransactionReceipt(r.hash);case"getTransactionResult":return await e.getTransactionResult(r.hash)}}#n(e){let r=Array.from(e).map(i=>i.config),n=this.#e.slice();Mfr(n),n.sort((i,o)=>i.priority-o.priority);for(let i of n)if(!i._lastFatalError&&r.indexOf(i)===-1)return i;return null}#i(e,r){let n=this.#n(e);if(n==null)return null;let i={config:n,result:null,didBump:!1,perform:null,staller:null},o=Sbe();return i.perform=(async()=>{try{n.requests++;let a=await this._translatePerform(n.provider,r);i.result={result:a}}catch(a){n.errorResponses++,i.result={error:a}}let s=Sbe()-o;n._totalTime+=s,n.rollingDuration=.95*n.rollingDuration+.05*s,i.perform=null})(),i.staller=(async()=>{await Lfr(n.stallTimeout),i.staller=null})(),e.add(i),i}async#o(){let e=this.#r;if(!e){let r=[];this.#e.forEach(n=>{r.push((async()=>{await Bfr(n,0),n._lastFatalError||(n._network=await n.provider.getNetwork())})())}),this.#r=e=(async()=>{await Promise.all(r);let n=null;for(let i of this.#e){if(i._lastFatalError)continue;let o=i._network;n==null?n=o.chainId:o.chainId!==n&&ce(!1,"cannot mix providers on different networks","UNSUPPORTED_OPERATION",{operation:"new FallbackProvider"})}})()}await e}async#s(e,r){let n=[];for(let i of e)if(i.result!=null){let{tag:o,value:s}=_be(r.method,i.result);n.push({tag:o,value:s,weight:i.config.weight})}if(!(n.reduce((i,o)=>i+o.weight,0)<this.quorum)){switch(r.method){case"getBlockNumber":{this.#t===-2&&(this.#t=Math.ceil(At(wbe(this.quorum,this.#e.filter(o=>!o._lastFatalError).map(o=>({value:o.blockNumber,tag:At(o.blockNumber).toString(),weight:o.weight}))))));let i=$fr(this.quorum,n);return i===void 0?void 0:(i>this.#t&&(this.#t=i),this.#t)}case"getGasPrice":case"getPriorityFee":case"estimateGas":return wbe(this.quorum,n);case"getBlock":return"blockTag"in r&&r.blockTag==="pending"?xbe(this.quorum,n):QH(this.quorum,n);case"call":case"chainId":case"getBalance":case"getTransactionCount":case"getCode":case"getStorage":case"getTransaction":case"getTransactionReceipt":case"getLogs":return QH(this.quorum,n);case"broadcastTransaction":return xbe(this.quorum,n)}ce(!1,"unsupported method","UNSUPPORTED_OPERATION",{operation:`_perform(${vbe(r.method)})`})}}async#a(e,r){if(e.size===0)throw new Error("no runners?!");let n=[],i=0;for(let s of e){if(s.perform&&n.push(s.perform),s.staller){n.push(s.staller);continue}s.didBump||(s.didBump=!0,i++)}let o=await this.#s(e,r);if(o!==void 0){if(o instanceof Error)throw o;return o}for(let s=0;s<i;s++)this.#i(e,r);return ce(n.length>0,"quorum not met","SERVER_ERROR",{request:"%sub-requests",info:{request:r,results:Array.from(e).map(s=>vbe(s.result))}}),await Promise.race(n),await this.#a(e,r)}async _perform(e){if(e.method==="broadcastTransaction"){let o=this.#e.map(c=>null),s=this.#e.map(async({provider:c,weight:l},u)=>{try{let d=await c._perform(e);o[u]=Object.assign(_be(e.method,{result:d}),{weight:l})}catch(d){o[u]=Object.assign(_be(e.method,{error:d}),{weight:l})}});for(;;){let c=o.filter(d=>d!=null);for(let{value:d}of c)if(!(d instanceof Error))return d;let l=QH(this.quorum,o.filter(d=>d!=null));if(Qr(l,"INSUFFICIENT_FUNDS"))throw l;let u=s.filter((d,p)=>o[p]==null);if(u.length===0)break;await Promise.race(u)}let a=xbe(this.quorum,o);if(ce(a!==void 0,"problem multi-broadcasting","SERVER_ERROR",{request:"%sub-requests",info:{request:e,results:o.map(vbe)}}),a instanceof Error)throw a;return a}await this.#o();let r=new Set,n=0;for(;;){let o=this.#i(r,e);if(o==null||(n+=o.config.weight,n>=this.quorum))break}let i=await this.#a(r,e);for(let o of r)o.perform&&o.result==null&&o.config.lateResponses++;return i}async destroy(){for(let{provider:e}of this.#e)e.destroy();super.destroy()}};function Ufr(t){return t&&typeof t.send=="function"&&typeof t.close=="function"}var Ffr="goerli kovan sepolia classicKotti optimism-goerli arbitrum-goerli matic-mumbai bnbt".split(" ");function Abe(t,e){e==null&&(e={});let r=s=>e[s]==="-"?!1:typeof e.exclusive=="string"?s===e.exclusive:Array.isArray(e.exclusive)?e.exclusive.indexOf(s)!==-1:!0;if(typeof t=="string"&&t.match(/^https?:/))return new Zn(t);if(typeof t=="string"&&t.match(/^wss?:/)||Ufr(t))return new Ig(t);let n=null;try{n=Ir.from(t)}catch{}let i=[];if(r("publicPolygon")&&n&&(n.name==="matic"?i.push(new Zn("https://polygon-rpc.com/",n,{staticNetwork:n})):n.name==="matic-amoy"&&i.push(new Zn("https://rpc-amoy.polygon.technology/",n,{staticNetwork:n}))),r("alchemy"))try{i.push(new tx(t,e.alchemy))}catch{}if(r("ankr")&&e.ankr!=null)try{i.push(new ex(t,e.ankr))}catch{}if(r("chainstack"))try{i.push(new rx(t,e.chainstack))}catch{}if(r("cloudflare"))try{i.push(new nx(t))}catch{}if(r("etherscan"))try{i.push(new ix(t,e.etherscan))}catch{}if(r("infura"))try{let s=e.infura,a;typeof s=="object"&&(a=s.projectSecret,s=s.projectId),i.push(new Hy(t,s,a))}catch{}if(r("quicknode"))try{let s=e.quicknode;i.push(new lx(t,s))}catch{}if(ce(i.length,"unsupported default network","UNSUPPORTED_OPERATION",{operation:"getDefaultProvider"}),i.length===1)return i[0];let o=Math.floor(i.length/2);return o>2&&(o=2),n&&Ffr.indexOf(n.name)!==-1&&(o=1),e&&e.quorum&&(o=e.quorum),new ux(i,void 0,{quorum:o})}var iO=class t extends ud{signer;#e;#t;constructor(e){super(e.provider),Me(this,{signer:e}),this.#e=null,this.#t=0}async getAddress(){return this.signer.getAddress()}connect(e){return new t(this.signer.connect(e))}async getNonce(e){if(e==="pending"){this.#e==null&&(this.#e=super.getNonce("pending"));let r=this.#t;return await this.#e+r}return super.getNonce(e)}increment(){this.#t++}reset(){this.#t=0,this.#e=null}async sendTransaction(e){let r=this.getNonce("pending");return this.increment(),e=await this.signer.populateTransaction(e),e.nonce=await r,await this.signer.sendTransaction(e)}signTransaction(e){return this.signer.signTransaction(e)}signMessage(e){return this.signer.signMessage(e)}signTypedData(e,r,n){return this.signer.signTypedData(e,r,n)}};var oO=class t extends jN{#e;#t;constructor(e,r,n){let i=Object.assign({},n??{},{batchMaxCount:1});W(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(r,i),this.#t=null,n&&n.providerInfo&&(this.#t=n.providerInfo),this.#e=async(o,s)=>{let a={method:o,params:s};this.emit("debug",{action:"sendEip1193Request",payload:a});try{let c=await e.request(a);return this.emit("debug",{action:"receiveEip1193Result",result:c}),c}catch(c){let l=new Error(c.message);throw l.code=c.code,l.data=c.data,l.payload=a,this.emit("debug",{action:"receiveEip1193Error",error:l}),l}}}get providerInfo(){return this.#t}async send(e,r){return await this._start(),await super.send(e,r)}async _send(e){W(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{let r=await this.#e(e.method,e.params||[]);return[{id:e.id,result:r}]}catch(r){return[{id:e.id,error:{code:r.code,data:r.data,message:r.message}}]}}getRpcError(e,r){switch(r=JSON.parse(JSON.stringify(r)),r.error.code||-1){case 4001:r.error.message=`ethers-user-denied: ${r.error.message}`;break;case 4200:r.error.message=`ethers-unsupported: ${r.error.message}`;break}return super.getRpcError(e,r)}async hasSigner(e){e==null&&(e=0);let r=await this.send("eth_accounts",[]);return typeof e=="number"?r.length>e:(e=e.toLowerCase(),r.filter(n=>n.toLowerCase()===e).length!==0)}async getSigner(e){if(e==null&&(e=0),!await this.hasSigner(e))try{await this.#e("eth_requestAccounts",[])}catch(r){let n=r.payload;throw this.getRpcError(n,{id:n.id,error:r})}return await super.getSigner(e)}static async discover(e){if(e==null&&(e={}),e.provider)return new t(e.provider);let r=e.window?e.window:typeof window<"u"?window:null;if(r==null)return null;let n=e.anyProvider;if(n&&r.ethereum)return new t(r.ethereum);if(!("addEventListener"in r&&"dispatchEvent"in r&&"removeEventListener"in r))return null;let i=e.timeout?e.timeout:300;return i===0?null:await new Promise((o,s)=>{let a=[],c=d=>{a.push(d.detail),n&&l()},l=()=>{if(clearTimeout(u),a.length)if(e&&e.filter){let d=e.filter(a.map(p=>Object.assign({},p.info)));if(d==null)o(null);else if(d instanceof t)o(d);else{let p=null;if(d.uuid&&(p=a.filter(h=>d.uuid===h.info.uuid)[0]),p){let{provider:f,info:h}=p;o(new t(f,void 0,{providerInfo:h}))}else s(Er("filter returned unknown info","UNSUPPORTED_OPERATION",{value:d}))}}else{let{provider:d,info:p}=a[0];o(new t(d,void 0,{providerInfo:p}))}else o(null);r.removeEventListener("eip6963:announceProvider",c)},u=setTimeout(()=>{l()},i);r.addEventListener("eip6963:announceProvider",c),r.dispatchEvent(new Event("eip6963:requestProvider"))})}};function zfr(t){switch(t){case"mainnet":return"https://eth.blockscout.com/api/eth-rpc";case"sepolia":return"https://eth-sepolia.blockscout.com/api/eth-rpc";case"holesky":return"https://eth-holesky.blockscout.com/api/eth-rpc";case"classic":return"https://etc.blockscout.com/api/eth-rpc";case"arbitrum":return"https://arbitrum.blockscout.com/api/eth-rpc";case"base":return"https://base.blockscout.com/api/eth-rpc";case"base-sepolia":return"https://base-sepolia.blockscout.com/api/eth-rpc";case"matic":return"https://polygon.blockscout.com/api/eth-rpc";case"optimism":return"https://optimism.blockscout.com/api/eth-rpc";case"optimism-sepolia":return"https://optimism-sepolia.blockscout.com/api/eth-rpc";case"xdai":return"https://gnosis.blockscout.com/api/eth-rpc"}W(!1,"unsupported network","network",t)}var sO=class t extends Zn{apiKey;constructor(e,r){e==null&&(e="mainnet");let n=Ir.from(e);r==null&&(r=null);let i=t.getRequest(n);super(i,n,{staticNetwork:n}),Me(this,{apiKey:r})}_getProvider(e){try{return new t(e,this.apiKey)}catch{}return super._getProvider(e)}isCommunityResource(){return this.apiKey===null}getRpcRequest(e){let r=super.getRpcRequest(e);return r&&r.method==="eth_estimateGas"&&r.args.length==1&&(r.args=r.args.slice(),r.args.push("latest")),r}getRpcError(e,r){let n=r?r.error:null;if(n&&n.code===-32015&&!br(n.data||"",!0)){let i={"assert(false)":"01","arithmetic underflow or overflow":"11","division or modulo by zero":"12","out-of-bounds array access; popping on an empty array":"31","out-of-bounds access of an array or bytesN":"32"},o="";n.message==="VM execution error."?o=i[n.data]||"":i[n.message||""]&&(o=i[n.message||""]),o&&(n.message+=` (reverted: ${n.data})`,n.data="0x4e487b7100000000000000000000000000000000000000000000000000000000000000"+o)}else n&&n.code===-32e3&&n.message==="wrong transaction nonce"&&(n.message+=" (nonce too low)");return super.getRpcError(e,r)}static getRequest(e){let r=new nn(zfr(e.name));return r.allowGzip=!0,r}};var XH="62e1ad51b37b8e00394bda3b";function Vfr(t){switch(t){case"mainnet":return"eth-mainnet.gateway.pokt.network";case"goerli":return"eth-goerli.gateway.pokt.network";case"matic":return"poly-mainnet.gateway.pokt.network";case"matic-mumbai":return"polygon-mumbai-rpc.gateway.pokt.network"}W(!1,"unsupported network","network",t)}var aO=class t extends Zn{applicationId;applicationSecret;constructor(e,r,n){e==null&&(e="mainnet");let i=Ir.from(e);r==null&&(r=XH),n==null&&(n=null);let o={staticNetwork:i},s=t.getRequest(i,r,n);super(s,i,o),Me(this,{applicationId:r,applicationSecret:n})}_getProvider(e){try{return new t(e,this.applicationId,this.applicationSecret)}catch{}return super._getProvider(e)}static getRequest(e,r,n){r==null&&(r=XH);let i=new nn(`https://${Vfr(e.name)}/v1/lb/${r}`);return i.allowGzip=!0,n&&i.setCredentials("",n),r===XH&&(i.retryFunc=async(o,s,a)=>(Cs("PocketProvider"),!0)),i}isCommunityResource(){return this.applicationId===XH}};import{connect as Hfr}from"net";function Gfr(t){let e=[],r=0;for(;;){let n=t.indexOf(10,r);if(n===-1)break;e.push(t.subarray(r,n).toString().trim()),r=n+1}return{messages:e,remaining:t.subarray(r)}}var cO=class extends Rg{#e;get socket(){return this.#e}constructor(e,r,n){super(r,n),this.#e=Hfr(e),this.socket.on("ready",async()=>{try{await this._start()}catch(o){console.log("failed to start IpcSocketProvider",o)}});let i=Buffer.alloc(0);this.socket.on("data",o=>{i=Buffer.concat([i,o]);let{messages:s,remaining:a}=Gfr(i);s.forEach(c=>{this._processMessage(c)}),i=a}),this.socket.on("end",()=>{this.emit("close"),this.socket.destroy(),this.socket.end()})}destroy(){this.socket.destroy(),this.socket.end(),super.destroy()}async _write(e){e.endsWith(`
`)||(e+=`
`),this.socket.write(e)}};var Cg=class t extends ud{address;#e;constructor(e,r){super(r),W(e&&typeof e.sign=="function","invalid private key","privateKey","[ REDACTED ]"),this.#e=e;let n=_p(this.signingKey.publicKey);Me(this,{address:n})}get signingKey(){return this.#e}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(e){return new t(this.#e,e)}async signTransaction(e){e=cd(e);let{to:r,from:n}=await Ln({to:e.to?qn(e.to,this):void 0,from:e.from?qn(e.from,this):void 0});r!=null&&(e.to=r),n!=null&&(e.from=n),e.from!=null&&(W(Ct(e.from)===this.address,"transaction from address mismatch","tx.from",e.from),delete e.from);let i=xl.from(e);return i.signature=this.signingKey.sign(i.unsignedHash),i.serialized}async signMessage(e){return this.signMessageSync(e)}signMessageSync(e){return this.signingKey.sign(KE(e)).serialized}authorizeSync(e){W(typeof e.address=="string","invalid address for authorizeSync","auth.address",e);let r=this.signingKey.sign(GE(e));return Object.assign({},{address:Ct(e.address),nonce:Ke(e.nonce||0),chainId:Ke(e.chainId||0)},{signature:r})}async authorize(e){return e=Object.assign({},e,{address:await qn(e.address,this)}),this.authorizeSync(await this.populateAuthorization(e))}async signTypedData(e,r,n){let i=await sd.resolveNames(e,r,n,async o=>{ce(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:o}});let s=await this.provider.resolveName(o);return ce(s!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:o}),s});return this.signingKey.sign(sd.hash(i.domain,r,i.value)).serialized}};var YH=" !#$%&'()*+,-./<=>?@[]^_`{|}~",jfr=/^[a-z]*$/i;function jht(t,e){let r=97;return t.reduce((n,i)=>(i===e?r++:i.match(jfr)?n.push(String.fromCharCode(r)+i):(r=97,n.push(i)),n),[])}function qfr(t,e){for(let i=YH.length-1;i>=0;i--)t=t.split(YH[i]).join(e.substring(2*i,2*i+2));let r=[],n=t.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(i,o,s,a)=>{if(s)for(let c=parseInt(s);c>=0;c--)r.push(";");else r.push(o.toLowerCase());return""});if(n)throw new Error(`leftovers: ${JSON.stringify(n)}`);return jht(jht(r,";"),":")}function ZH(t){return W(t[0]==="0","unsupported auwl data","data",t),qfr(t.substring(1+2*YH.length),t.substring(1,1+2*YH.length))}var El=class{locale;constructor(e){Me(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}};var Fa=class extends El{#e;#t;constructor(e,r,n){super(e),this.#e=r,this.#t=n,this.#r=null}get _data(){return this.#e}_decodeWords(){return ZH(this.#e)}#r;#n(){if(this.#r==null){let e=this._decodeWords();if(Si(e.join(`
`)+`
`)!==this.#t)throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);this.#r=e}return this.#r}getWord(e){let r=this.#n();return W(e>=0&&e<r.length,`invalid word index: ${e}`,"index",e),r[e]}getWordIndex(e){return this.#n().indexOf(e)}};var Jfr="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",Wfr="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60",Ebe=null,Bc=class t extends Fa{constructor(){super("en",Jfr,Wfr)}static wordlist(){return Ebe==null&&(Ebe=new t),Ebe}};function qht(t){return(1<<t)-1<<8-t&255}function Kfr(t){return(1<<t)-1&255}function Tbe(t,e){T_("NFKD"),e==null&&(e=Bc.wordlist());let r=e.split(t);W(r.length%3===0&&r.length>=12&&r.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");let n=new Uint8Array(Math.ceil(11*r.length/8)),i=0;for(let l=0;l<r.length;l++){let u=e.getWordIndex(r[l].normalize("NFKD"));W(u>=0,`invalid mnemonic word at index ${l}`,"mnemonic","[ REDACTED ]");for(let d=0;d<11;d++)u&1<<10-d&&(n[i>>3]|=1<<7-i%8),i++}let o=32*r.length/3,s=r.length/3,a=qht(s),c=Ie(Qi(n.slice(0,o/8)))[0]&a;return W(c===(n[n.length-1]&a),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),ve(n.slice(0,o/8))}function Rbe(t,e){W(t.length%4===0&&t.length>=16&&t.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),e==null&&(e=Bc.wordlist());let r=[0],n=11;for(let s=0;s<t.length;s++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[s],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[s]>>8-n,r.push(t[s]&Kfr(8-n)),n+=3);let i=t.length/4,o=parseInt(Qi(t).substring(2,4),16)&qht(i);return r[r.length-1]<<=i,r[r.length-1]|=o>>8-i,e.join(r.map(s=>e.getWord(s)))}var Ibe={},em=class t{phrase;password;wordlist;entropy;constructor(e,r,n,i,o){i==null&&(i=""),o==null&&(o=Bc.wordlist()),As(e,Ibe,"Mnemonic"),Me(this,{phrase:n,password:i,wordlist:o,entropy:r})}computeSeed(){let e=jr("mnemonic"+this.password,"NFKD");return Ba(jr(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,r,n){let i=Tbe(e,n);return e=Rbe(Ie(i),n),new t(Ibe,i,e,r,n)}static fromEntropy(e,r,n){let i=Ie(e,"entropy"),o=Rbe(i,n);return new t(Ibe,ve(i),o,r,n)}static entropyToPhrase(e,r){let n=Ie(e,"entropy");return Rbe(n,r)}static phraseToEntropy(e,r){return Tbe(e,r)}static isValidMnemonic(e,r){try{return Tbe(e,r),!0}catch{}return!1}};var Ns=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Cbe=function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},tG,fd,tm,Qfr={16:10,24:12,32:14},Xfr=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],pd=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],eG=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],Yfr=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],Zfr=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],emr=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],tmr=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],rmr=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],nmr=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],imr=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],omr=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],smr=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],amr=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],cmr=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],lmr=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function Nbe(t){let e=[];for(let r=0;r<t.length;r+=4)e.push(t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3]);return e}var lO=class t{get key(){return Ns(this,tG,"f").slice()}constructor(e){if(tG.set(this,void 0),fd.set(this,void 0),tm.set(this,void 0),!(this instanceof t))throw Error("AES must be instanitated with `new`");Cbe(this,tG,new Uint8Array(e),"f");let r=Qfr[this.key.length];if(r==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");Cbe(this,tm,[],"f"),Cbe(this,fd,[],"f");for(let u=0;u<=r;u++)Ns(this,tm,"f").push([0,0,0,0]),Ns(this,fd,"f").push([0,0,0,0]);let n=(r+1)*4,i=this.key.length/4,o=Nbe(this.key),s;for(let u=0;u<i;u++)s=u>>2,Ns(this,tm,"f")[s][u%4]=o[u],Ns(this,fd,"f")[r-s][u%4]=o[u];let a=0,c=i,l;for(;c<n;){if(l=o[i-1],o[0]^=pd[l>>16&255]<<24^pd[l>>8&255]<<16^pd[l&255]<<8^pd[l>>24&255]^Xfr[a]<<24,a+=1,i!=8)for(let f=1;f<i;f++)o[f]^=o[f-1];else{for(let f=1;f<i/2;f++)o[f]^=o[f-1];l=o[i/2-1],o[i/2]^=pd[l&255]^pd[l>>8&255]<<8^pd[l>>16&255]<<16^pd[l>>24&255]<<24;for(let f=i/2+1;f<i;f++)o[f]^=o[f-1]}let u=0,d,p;for(;u<i&&c<n;)d=c>>2,p=c%4,Ns(this,tm,"f")[d][p]=o[u],Ns(this,fd,"f")[r-d][p]=o[u++],c++}for(let u=1;u<r;u++)for(let d=0;d<4;d++)l=Ns(this,fd,"f")[u][d],Ns(this,fd,"f")[u][d]=smr[l>>24&255]^amr[l>>16&255]^cmr[l>>8&255]^lmr[l&255]}encrypt(e){if(e.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");let r=Ns(this,tm,"f").length-1,n=[0,0,0,0],i=Nbe(e);for(let a=0;a<4;a++)i[a]^=Ns(this,tm,"f")[0][a];for(let a=1;a<r;a++){for(let c=0;c<4;c++)n[c]=Yfr[i[c]>>24&255]^Zfr[i[(c+1)%4]>>16&255]^emr[i[(c+2)%4]>>8&255]^tmr[i[(c+3)%4]&255]^Ns(this,tm,"f")[a][c];i=n.slice()}let o=new Uint8Array(16),s=0;for(let a=0;a<4;a++)s=Ns(this,tm,"f")[r][a],o[4*a]=(pd[i[a]>>24&255]^s>>24)&255,o[4*a+1]=(pd[i[(a+1)%4]>>16&255]^s>>16)&255,o[4*a+2]=(pd[i[(a+2)%4]>>8&255]^s>>8)&255,o[4*a+3]=(pd[i[(a+3)%4]&255]^s)&255;return o}decrypt(e){if(e.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");let r=Ns(this,fd,"f").length-1,n=[0,0,0,0],i=Nbe(e);for(let a=0;a<4;a++)i[a]^=Ns(this,fd,"f")[0][a];for(let a=1;a<r;a++){for(let c=0;c<4;c++)n[c]=rmr[i[c]>>24&255]^nmr[i[(c+3)%4]>>16&255]^imr[i[(c+2)%4]>>8&255]^omr[i[(c+1)%4]&255]^Ns(this,fd,"f")[a][c];i=n.slice()}let o=new Uint8Array(16),s=0;for(let a=0;a<4;a++)s=Ns(this,fd,"f")[r][a],o[4*a]=(eG[i[a]>>24&255]^s>>24)&255,o[4*a+1]=(eG[i[(a+3)%4]>>16&255]^s>>16)&255,o[4*a+2]=(eG[i[(a+2)%4]>>8&255]^s>>8)&255,o[4*a+3]=(eG[i[(a+1)%4]&255]^s)&255;return o}};tG=new WeakMap,fd=new WeakMap,tm=new WeakMap;var rm=class{constructor(e,r,n){if(n&&!(this instanceof n))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new lO(r)},name:{enumerable:!0,value:e}})}};var rG=function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},f6=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},uO,Ng,dO=class t extends rm{constructor(e,r){if(super("ECC",e,t),uO.set(this,void 0),Ng.set(this,void 0),r){if(r.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");rG(this,uO,new Uint8Array(r),"f")}else rG(this,uO,new Uint8Array(16),"f");rG(this,Ng,this.iv,"f")}get iv(){return new Uint8Array(f6(this,uO,"f"))}encrypt(e){if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");let r=new Uint8Array(e.length);for(let n=0;n<e.length;n+=16){for(let i=0;i<16;i++)f6(this,Ng,"f")[i]^=e[n+i];rG(this,Ng,this.aes.encrypt(f6(this,Ng,"f")),"f"),r.set(f6(this,Ng,"f"),n)}return r}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");let r=new Uint8Array(e.length);for(let n=0;n<e.length;n+=16){let i=this.aes.decrypt(e.subarray(n,n+16));for(let o=0;o<16;o++)r[n+o]=i[o]^f6(this,Ng,"f")[o],f6(this,Ng,"f")[o]=e[n+o]}return r}};uO=new WeakMap,Ng=new WeakMap;var Obe=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},umr,dmr,nG,pmr;dmr=new WeakMap,nG=new WeakMap,umr=new WeakSet,pmr=function(e){let r=this.segmentSize/8;Obe(this,nG,"f").set(Obe(this,nG,"f").subarray(r)),Obe(this,nG,"f").set(e.subarray(0,r),16-r)};var m6=function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},md=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},pO,dx,hd,Gy=class t extends rm{constructor(e,r){super("CTR",e,t),pO.set(this,void 0),dx.set(this,void 0),hd.set(this,void 0),m6(this,hd,new Uint8Array(16),"f"),md(this,hd,"f").fill(0),m6(this,pO,md(this,hd,"f"),"f"),m6(this,dx,16,"f"),r==null&&(r=1),typeof r=="number"?this.setCounterValue(r):this.setCounterBytes(r)}get counter(){return new Uint8Array(md(this,hd,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let r=15;r>=0;--r)md(this,hd,"f")[r]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(e.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");md(this,hd,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(md(this,hd,"f")[e]===255)md(this,hd,"f")[e]=0;else{md(this,hd,"f")[e]++;break}}encrypt(e){var r,n;let i=new Uint8Array(e);for(let o=0;o<i.length;o++)md(this,dx,"f")===16&&(m6(this,pO,this.aes.encrypt(md(this,hd,"f")),"f"),m6(this,dx,0,"f"),this.increment()),i[o]^=md(this,pO,"f")[m6(this,dx,(n=md(this,dx,"f"),r=n++,n),"f"),r];return i}decrypt(e){return this.encrypt(e)}};pO=new WeakMap,dx=new WeakMap,hd=new WeakMap;var fmr,mmr,hmr;fmr=new WeakMap,mmr=new WeakMap,hmr=new WeakMap;function Pbe(t){if(t.length<16)throw new TypeError("PKCS#7 invalid length");let e=t[t.length-1];if(e>16)throw new TypeError("PKCS#7 padding byte out of range");let r=t.length-e;for(let n=0;n<e;n++)if(t[r+n]!==e)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array(t.subarray(0,r))}function kbe(t){return typeof t=="string"&&!t.startsWith("0x")&&(t="0x"+t),An(t)}function h6(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function px(t){return typeof t=="string"?jr(t,"NFKC"):An(t)}function Ai(t,e){let r=e.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);W(r!=null,"invalid path","path",e);let n=r[1],i=r[3],o=r[4]==="!",s=t;for(let a of n.toLowerCase().split(".")){if(Array.isArray(s)){if(!a.match(/^[0-9]+$/))break;s=s[parseInt(a)]}else if(typeof s=="object"){let c=null;for(let l in s)if(l.toLowerCase()===a){c=s[l];break}s=c}else s=null;if(s==null)break}if(W(!o||s!=null,"missing required value","path",n),i&&s!=null){if(i==="int"){if(typeof s=="string"&&s.match(/^-?[0-9]+$/))return parseInt(s);if(Number.isSafeInteger(s))return s}if(i==="number"&&typeof s=="string"&&s.match(/^-?[0-9.]*$/))return parseFloat(s);if(i==="data"&&typeof s=="string")return kbe(s);if(i==="array"&&Array.isArray(s)||i===typeof s)return s;W(!1,`wrong type found for ${i} `,"path",n)}return s}var Wht="m/44'/60'/0'/0/0";function g6(t){try{let e=JSON.parse(t);if((e.version!=null?parseInt(e.version):0)===3)return!0}catch{}return!1}function gmr(t,e,r){if(Ai(t,"crypto.cipher:string")==="aes-128-ctr"){let i=Ai(t,"crypto.cipherparams.iv:data!"),o=new Gy(e,i);return ve(o.decrypt(r))}ce(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}function iG(t,e){let r=Ie(e),n=Ai(t,"crypto.ciphertext:data!"),i=ve(mr(Gt([r.slice(16,32),n]))).substring(2);W(i===Ai(t,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");let o=gmr(t,r.slice(0,16),n),s=_p(o);if(t.address){let l=t.address.toLowerCase();l.startsWith("0x")||(l="0x"+l),W(Ct(l)===s,"keystore address/privateKey mismatch","address",t.address)}let a={address:s,privateKey:o};if(Ai(t,"x-ethers.version:string")==="0.1"){let l=r.slice(32,64),u=Ai(t,"x-ethers.mnemonicCiphertext:data!"),d=Ai(t,"x-ethers.mnemonicCounter:data!"),p=new Gy(l,d);a.mnemonic={path:Ai(t,"x-ethers.path:string")||Wht,locale:Ai(t,"x-ethers.locale:string")||"en",entropy:ve(Ie(p.decrypt(u)))}}return a}function Kht(t){let e=Ai(t,"crypto.kdf:string");if(e&&typeof e=="string"){if(e.toLowerCase()==="scrypt"){let r=Ai(t,"crypto.kdfparams.salt:data!"),n=Ai(t,"crypto.kdfparams.n:int!"),i=Ai(t,"crypto.kdfparams.r:int!"),o=Ai(t,"crypto.kdfparams.p:int!");W(n>0&&(n&n-1)===0,"invalid kdf.N","kdf.N",n),W(i>0&&o>0,"invalid kdf","kdf",e);let s=Ai(t,"crypto.kdfparams.dklen:int!");return W(s===32,"invalid kdf.dklen","kdf.dflen",s),{name:"scrypt",salt:r,N:n,r:i,p:o,dkLen:64}}else if(e.toLowerCase()==="pbkdf2"){let r=Ai(t,"crypto.kdfparams.salt:data!"),n=Ai(t,"crypto.kdfparams.prf:string!"),i=n.split("-").pop();W(i==="sha256"||i==="sha512","invalid kdf.pdf","kdf.pdf",n);let o=Ai(t,"crypto.kdfparams.c:int!"),s=Ai(t,"crypto.kdfparams.dklen:int!");return W(s===32,"invalid kdf.dklen","kdf.dklen",s),{name:"pbkdf2",salt:r,count:o,dkLen:s,algorithm:i}}}W(!1,"unsupported key-derivation function","kdf",e)}function fO(t,e){let r=JSON.parse(t),n=px(e),i=Kht(r);if(i.name==="pbkdf2"){let{salt:d,count:p,dkLen:f,algorithm:h}=i,m=Ba(n,d,p,f,h);return iG(r,m)}ce(i.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:i});let{salt:o,N:s,r:a,p:c,dkLen:l}=i,u=yp(n,o,s,a,c,l);return iG(r,u)}function Jht(t){return new Promise(e=>{setTimeout(()=>{e()},t)})}async function mO(t,e,r){let n=JSON.parse(t),i=px(e),o=Kht(n);if(o.name==="pbkdf2"){r&&(r(0),await Jht(0));let{salt:p,count:f,dkLen:h,algorithm:m}=o,g=Ba(i,p,f,h,m);return r&&(r(1),await Jht(0)),iG(n,g)}ce(o.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:o});let{salt:s,N:a,r:c,p:l,dkLen:u}=o,d=await gp(i,s,a,c,l,u,r);return iG(n,d)}function Qht(t){let e=t.salt!=null?Ie(t.salt,"options.salt"):ca(32),r=1<<17,n=8,i=1;return t.scrypt&&(t.scrypt.N&&(r=t.scrypt.N),t.scrypt.r&&(n=t.scrypt.r),t.scrypt.p&&(i=t.scrypt.p)),W(typeof r=="number"&&r>0&&Number.isSafeInteger(r)&&(BigInt(r)&BigInt(r-1))===BigInt(0),"invalid scrypt N parameter","options.N",r),W(typeof n=="number"&&n>0&&Number.isSafeInteger(n),"invalid scrypt r parameter","options.r",n),W(typeof i=="number"&&i>0&&Number.isSafeInteger(i),"invalid scrypt p parameter","options.p",i),{name:"scrypt",dkLen:32,salt:e,N:r,r:n,p:i}}function Xht(t,e,r,n){let i=Ie(r.privateKey,"privateKey"),o=n.iv!=null?Ie(n.iv,"options.iv"):ca(16);W(o.length===16,"invalid options.iv length","options.iv",n.iv);let s=n.uuid!=null?Ie(n.uuid,"options.uuid"):ca(16);W(s.length===16,"invalid options.uuid length","options.uuid",n.iv);let a=t.slice(0,16),c=t.slice(16,32),l=new Gy(a,o),u=Ie(l.encrypt(i)),d=mr(Gt([c,u])),p={address:r.address.substring(2).toLowerCase(),id:_N(s),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:ve(o).substring(2)},ciphertext:ve(u).substring(2),kdf:"scrypt",kdfparams:{salt:ve(e.salt).substring(2),n:e.N,dklen:32,p:e.p,r:e.r},mac:d.substring(2)}};if(r.mnemonic){let f=n.client!=null?n.client:`ethers/${IE}`,h=r.mnemonic.path||Wht,m=r.mnemonic.locale||"en",g=t.slice(32,64),b=Ie(r.mnemonic.entropy,"account.mnemonic.entropy"),_=ca(16),x=new Gy(g,_),E=Ie(x.encrypt(b)),R=new Date,D="UTC--"+(R.getUTCFullYear()+"-"+h6(R.getUTCMonth()+1,2)+"-"+h6(R.getUTCDate(),2)+"T"+h6(R.getUTCHours(),2)+"-"+h6(R.getUTCMinutes(),2)+"-"+h6(R.getUTCSeconds(),2)+".0Z")+"--"+p.address;p["x-ethers"]={client:f,gethFilename:D,path:h,locale:m,mnemonicCounter:ve(_).substring(2),mnemonicCiphertext:ve(E).substring(2),version:"0.1"}}return JSON.stringify(p)}function fx(t,e,r){r==null&&(r={});let n=px(e),i=Qht(r),o=yp(n,i.salt,i.N,i.r,i.p,64);return Xht(Ie(o),i,t,r)}async function mx(t,e,r){r==null&&(r={});let n=px(e),i=Qht(r),o=await gp(n,i.salt,i.N,i.r,i.p,64,r.progressCallback);return Xht(Ie(o),i,t,r)}var y6="m/44'/60'/0'/0/0",ymr=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),im=2147483648,bmr=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),vmr="0123456789abcdef";function oG(t,e){let r="";for(;t;)r=vmr[t%16]+r,t=Math.trunc(t/16);for(;r.length<e*2;)r="0"+r;return"0x"+r}function Dbe(t){let e=Ie(t),r=Gr(Qi(Qi(e)),0,4),n=Gt([e,r]);return I_(n)}var nm={};function Yht(t,e,r,n){let i=new Uint8Array(37);t&im?(ce(n!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),i.set(Ie(n),1)):i.set(Ie(r));for(let s=24;s>=0;s-=8)i[33+(s>>3)]=t>>24-s&255;let o=Ie(pp("sha512",e,i));return{IL:o.slice(0,32),IR:o.slice(32)}}function Zht(t,e){let r=e.split("/");W(r.length>0,"invalid path","path",e),r[0]==="m"&&(W(t.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${t.depth}`,"path",e),r.shift());let n=t;for(let i=0;i<r.length;i++){let o=r[i];if(o.match(/^[0-9]+'$/)){let s=parseInt(o.substring(0,o.length-1));W(s<im,"invalid path index",`path[${i}]`,o),n=n.deriveChild(im+s)}else if(o.match(/^[0-9]+$/)){let s=parseInt(o);W(s<im,"invalid path index",`path[${i}]`,o),n=n.deriveChild(s)}else W(!1,"invalid path component",`path[${i}]`,o)}return n}var Og=class t extends Cg{publicKey;fingerprint;parentFingerprint;mnemonic;chainCode;path;index;depth;constructor(e,r,n,i,o,s,a,c,l){super(r,l),As(e,nm,"HDNodeWallet"),Me(this,{publicKey:r.compressedPublicKey});let u=Gr(hp(Qi(this.publicKey)),0,4);Me(this,{parentFingerprint:n,fingerprint:u,chainCode:i,path:o,index:s,depth:a}),Me(this,{mnemonic:c})}connect(e){return new t(nm,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,e)}#e(){let e={address:this.address,privateKey:this.privateKey},r=this.mnemonic;return this.path&&r&&r.wordlist.locale==="en"&&r.password===""&&(e.mnemonic={path:this.path,locale:"en",entropy:r.entropy}),e}async encrypt(e,r){return await mx(this.#e(),e,{progressCallback:r})}encryptSync(e){return fx(this.#e(),e)}get extendedKey(){return ce(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),Dbe(Gt(["0x0488ADE4",oG(this.depth,1),this.parentFingerprint,oG(this.index,4),this.chainCode,Gt(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new hx(nm,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(e){let r=At(e,"index");W(r<=4294967295,"invalid index","index",r);let n=this.path;n&&(n+="/"+(r&~im),r&im&&(n+="'"));let{IR:i,IL:o}=Yht(r,this.chainCode,this.publicKey,this.privateKey),s=new Ts(ts((id(o)+BigInt(this.privateKey))%bmr,32));return new t(nm,s,this.fingerprint,ve(i),n,r,this.depth+1,this.mnemonic,this.provider)}derivePath(e){return Zht(this,e)}static#t(e,r){W(ap(e),"invalid seed","seed","[REDACTED]");let n=Ie(e,"seed");W(n.length>=16&&n.length<=64,"invalid seed","seed","[REDACTED]");let i=Ie(pp("sha512",ymr,n)),o=new Ts(ve(i.slice(0,32)));return new t(nm,o,"0x00000000",ve(i.slice(32)),"m",0,0,r,null)}static fromExtendedKey(e){let r=Hr(gN(e));W(r.length===82||Dbe(r.slice(0,78))===e,"invalid extended key","extendedKey","[ REDACTED ]");let n=r[4],i=ve(r.slice(5,9)),o=parseInt(ve(r.slice(9,13)).substring(2),16),s=ve(r.slice(13,45)),a=r.slice(45,78);switch(ve(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":{let c=ve(a);return new hx(nm,_p(c),c,i,s,null,o,n,null)}case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new t(nm,new Ts(a.slice(1)),i,s,null,o,n,null,null)}W(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(e,r,n){e==null&&(e=""),r==null&&(r=y6),n==null&&(n=Bc.wordlist());let i=em.fromEntropy(ca(16),e,n);return t.#t(i.computeSeed(),i).derivePath(r)}static fromMnemonic(e,r){return r||(r=y6),t.#t(e.computeSeed(),e).derivePath(r)}static fromPhrase(e,r,n,i){r==null&&(r=""),n==null&&(n=y6),i==null&&(i=Bc.wordlist());let o=em.fromPhrase(e,r,i);return t.#t(o.computeSeed(),o).derivePath(n)}static fromSeed(e){return t.#t(e,null)}},hx=class t extends Z_{publicKey;fingerprint;parentFingerprint;chainCode;path;index;depth;constructor(e,r,n,i,o,s,a,c,l){super(r,l),As(e,nm,"HDNodeVoidWallet"),Me(this,{publicKey:n});let u=Gr(hp(Qi(n)),0,4);Me(this,{publicKey:n,fingerprint:u,parentFingerprint:i,chainCode:o,path:s,index:a,depth:c})}connect(e){return new t(nm,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,e)}get extendedKey(){return ce(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),Dbe(Gt(["0x0488B21E",oG(this.depth,1),this.parentFingerprint,oG(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(e){let r=At(e,"index");W(r<=4294967295,"invalid index","index",r);let n=this.path;n&&(n+="/"+(r&~im),r&im&&(n+="'"));let{IR:i,IL:o}=Yht(r,this.chainCode,this.publicKey,null),s=Ts.addPoints(o,this.publicKey,!0),a=_p(s);return new t(nm,a,s,this.fingerprint,ve(i),n,r,this.depth+1,this.provider)}derivePath(e){return Zht(this,e)}};function Mbe(t){let e=At(t,"index");return W(e>=0&&e<im,"invalid account index","index",e),`m/44'/60'/${e}'/0/0`}function Lbe(t){let e=At(t,"index");return W(e>=0&&e<im,"invalid account index","index",e),`m/44'/60'/0'/0/${e}`}function b6(t){try{if(JSON.parse(t).encseed)return!0}catch{}return!1}function v6(t,e){let r=JSON.parse(t),n=px(e),i=Ct(Ai(r,"ethaddr:string!")),o=kbe(Ai(r,"encseed:string!"));W(o&&o.length%16===0,"invalid encseed","json",t);let s=Ie(Ba(n,n,2e3,32,"sha256")).slice(0,16),a=o.slice(0,16),c=o.slice(16),l=new dO(s,a),u=Pbe(Ie(l.decrypt(c))),d="";for(let p=0;p<u.length;p++)d+=String.fromCharCode(u[p]);return{address:i,privateKey:Si(d)}}function egt(t){return new Promise(e=>{setTimeout(()=>{e()},t)})}var hO=class t extends Cg{constructor(e,r){typeof e=="string"&&!e.startsWith("0x")&&(e="0x"+e);let n=typeof e=="string"?new Ts(e):e;super(n,r)}connect(e){return new t(this.signingKey,e)}async encrypt(e,r){let n={address:this.address,privateKey:this.privateKey};return await mx(n,e,{progressCallback:r})}encryptSync(e){let r={address:this.address,privateKey:this.privateKey};return fx(r,e)}static#e(e){if(W(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&e.mnemonic.locale==="en"){let n=em.fromEntropy(e.mnemonic.entropy),i=Og.fromMnemonic(n,e.mnemonic.path);if(i.address===e.address&&i.privateKey===e.privateKey)return i;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}let r=new t(e.privateKey);return W(r.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),r}static async fromEncryptedJson(e,r,n){let i=null;return g6(e)?i=await mO(e,r,n):b6(e)&&(n&&(n(0),await egt(0)),i=v6(e,r),n&&(n(1),await egt(0))),t.#e(i)}static fromEncryptedJsonSync(e,r){let n=null;return g6(e)?n=fO(e,r):b6(e)?n=v6(e,r):W(!1,"invalid JSON wallet","json","[ REDACTED ]"),t.#e(n)}static createRandom(e){let r=Og.createRandom();return e?r.connect(e):r}static fromPhrase(e,r){let n=Og.fromPhrase(e);return r?n.connect(r):n}};var _mr=")!@#$%^&*(ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_";function tgt(t,e){let r=(1<<t)-1,n=[],i=0,o=0,s=0;for(let a=0;a<e.length;a++)for(i=i<<6|_mr.indexOf(e[a]),o+=6;o>=t;){let c=i>>o-t;i&=(1<<o-t)-1,o-=t,c===0?s+=r:(n.push(c+s),s=0)}return n}function rgt(t,e){let r=ZH(t).join(",");return e.split(/,/g).forEach(n=>{let i=n.match(/^([a-z]*)([0-9]+)([0-9])(.*)$/);W(i!==null,"internal error parsing accents","accents",e);let o=0,s=tgt(parseInt(i[3]),i[4]),a=parseInt(i[2]),c=new RegExp(`([${i[1]}])`,"g");r=r.replace(c,(l,u)=>(--s[o]===0&&(u=String.fromCharCode(u.charCodeAt(0),a),o++),u))}),r.split(",")}var Pg=class extends Fa{#e;constructor(e,r,n,i){super(e,r,i),this.#e=n}get _accent(){return this.#e}_decodeWords(){return rgt(this._data,this._accent)}};var xmr="0itatkastcenaovo$taouleraeki&chor*teci%enbalodaeladet'!Chn=0Di#%E%^1Resa2Rese3CeT'#0EjKohol0Pu)%0A&sDul#Ekdo)Ke)Ti#Ul|3}aOgan%0FaltI$@tPi,%TmaTronom0LasL{i#Ol0Tobus4Yl:B#}<CilCul#D!_Ge)GrHnoKterieLa^L{#LkonLon-LvanLzaMbusNkom!R[rR{RmanRokoRvaTer#TohVl&Zal#Zili#Zu#3D&RanSe^StieTonZin#ZmocZ)k3CyklD]Ft-KinyLan%Og,fO]gTvaZon2AhobytAt*/E/aEdu+EskIk!Iz&Ok|Oud Ud2B-BrDl.D~H!(JkotJ|K<ysLe$R>R'?TaUb_U/!U^U+Ur!Xer2A^v#Ambo,An#AtrEp)Ike)KoLohOnzOskevUn{#Usin#Z^Zy2Bl.Bn|})D _D#D'aF{Jar(Kv?LdokLvaN^NkrRzaTikVolZola3D+tL.T'#0Ukot:PartRev&3DrDu+J/JnLaLerLkemLn?N.Nn(N'#NtrumNz<StopisT#2AlupaAp`]Ar aA)E/t!EmieI/otIrurgL`Le[Lub M_Mu,ObotO/olOd[O+,Om=Op Oro[OvRapotRl RtRupTiv(Ud.Utn!V!Vil#V(Y[Y$!Yt 0Bu+Gare)H_&HlaNkotRkusSter&Ta%TrusZin>Z(2O&2KolivUv!4It_N(0Dn(Ke)KrPot0Ak~AlIkRkot2Kli$a:L-oRe[T_Tum1E,1B!a}'#Cib_Fic Fla%KlKr{Mokr!PreseRbyS#T-tiv3Kob,zKt|O^P]mSkSp+jV`]Vo/2AhaOuhoUhopis1Es0BroByt-C@t}ut DnesH+dHo^H,JemJn?Kl`KolaKt<Kum@tLarLevaL.MaM.ntMluv M'Nut P`PisPln PosudPr'odPu$ Raz R(RtSahSl'St!-SudSy)TazT-Tk~Uf!Utn!Voz%Z`uZn!Z<%2Aho)AkAm!ikAv>AzeDolObn(OgerieOzdSn(T Z(2B@}'noD-HaH'#S SnoT(0Oj?Or>2Nam :9O]gOnomie0EktronIpsa0AilIseO%P!ie2Izo^O/aOpejOs2EjEn%K<)Kymo0Ike)0F<ie0Olu%1Eku%KurzePed?P]zeP<tT,kt:C#Jf#Kul)N!ikN)zieRmacieV< Zo+3De,%J{onN#3Al#Gu,ntLozofLtrNan%N)Xa%0Ord1An_IrtOtila2NdSf<T[lT#Ton2Ak%Es#On)2KarNk%3Zi#:LejeRant3N{i#O]g3Lot.2Azu,Ejt2LemLfi$aTi#2AfAmofonAnu+EpIlOgOtes#2Ma:D?DrLaL@#N[NopisRfaRpu&V,n3Bk(J#lJnoJtmanK)rLmaM!omR>R&S]Zky3St<ik2Ad'#AsivkyAvaEd!EnO^v>OhOup(T!Ub.U/o)0AtO)Yz0IsOjivoOut0Bl.Boj}DinyDl!Dno)D|Jn(KejLin#L#LubMo+N [No,%RalR^RizontRkoRliv>RmonRn.RoskopR$voSpo^St.T'(U[UfUp!Us#V<2Ad[An?Av(Az^Bo+kD.D]D(N-Ob#Oma^OtOu^Oz@St#Ub(Yz!2B@(B~D[KotMrS aSto)0Ozd2Bn(D,ntGie&M&Sterik:2Yl#3Ned2O&0Uze0Un a0F-%Fla%KasoOva%Sp-%Tern{Vali^Ve$<Zer%3Onie:Blko})Ho^Kmi+K(L'>N)rRmarkRoSanSnoT#V<Zyk3Din>D+Dn!_HlanKotL@L oMn(NomP?S{erV Zd>Zero3NakNdyNo/Sk,Sto)Trn?Zva3En|1Gurt5R):Bar{B_Bin{}&D{Did]HanJakJu)KaoKtusLam aLhotyLibrLn(Me,MkolivM&Ni[lNoeNt<Pal.P_aP olaP#P+Po)PrPu$aPy[,Ram_Rot#RtonSaTa]gTed,U%UzaVa+cZaj#Ze)Ziv(2EkolivEsi0Dlub@MpRami#3No2A%kAdivoAmApotAsi#AunEcEn[Ep!Es~IdImaIs&Ob*kO#nOpaOubUb'&Us!Uzk(0EnIt!Otr0IhaOt0Al?Ber>B#BlihaBylaC*rH=J@>KosKtejlLapsLe^LizeLoMandoMe)MikMn!aMo,MpasMun aN!N%ptNd?N>NfeseNgresN.NkursN)ktNzervaPan>PieP~Pr'#Rb_R-t<Rmid]RoptevRpusRu&RytoRz{S!>St#T_T+)T*lUk!Up_&Us-Uz]VbojZaZ<oh2Ab?A/Aj.Al|AsopisAv!aEd EjcarEs[Eve)Ik{ItikIzeKav>Me+cMivoOcanOkOni#Op OupaOv#T-Uh`]Up?Ut(Vin#Y/+Yp)Y$alYt2Dlan#FrJn(KlaLaj^Li/L#Lom{Ltu,NaPodivuRtRz<Til0Al aAsin#E$<2No]gS_.Ta,T?T#T'>V`]:B,d<})nDn(IkKom>M_aMpaN'#S?SoStu,Tin#V.3B#CkdyD@Dn?D'#Dv.G@^GieG,%H%Hk(H~KtvarNo/odNtil#P@#Pid]T`]T>TmoTokruhVhartV a%Vobok3B,}ot#DojedDsk(H'.Jav>L-M{#NieN#No+umStop`T.T|5Bi$aDivodGi#GopedKal aK{Mc|P!aPu/RdSosTrU^lUhU#Usk!V>3Tiv(1Cer&CiferMpSkSt,%0I%2RaRi#S.:DamD]Gi$rHagonJ{-J _J< aKakK'?Kr_aL[L.L|Lv?Min#Nd+NkoRn(SakrSkotSopu$T?Tri#Tur aZan>ZivoZl Zur#2Lo[0}anikD a%D'.LasaL*nNtol#TlaTo^TrZe,3G,%H~Hu+K.KrofonL@>Lim{rL(Mi#Nc'&Ni[rNom{Nul(S#StrX|2Ad(HaH'.OkS!Uv 1I/Ohem0BilCn(D_#Dl [HylaKroL-ulaM@t#Nar/aNoklN$rumNt|NzunSazSkytStTiva%T<#Ty#U/aUdr(Zai#Z-Zol2Am<Av@>KevTvolaZ{Zut(0T _1DrcF]nL!MieN?S{Ta%ZeumZi#nt3Sliv>0Da:B*r!}yt!Da%Dbyt-DhozDobroDpisHlasHn!Hodi+H,d Iv aJedn*Ji$oJm=K]n Kon>Krm LevoMaz!Mluv Nom{rOkoOpakO$roP`!PevnoPln P~Pos+dPr(oRod RubyRy/]S` S-!S+poSt!TolikV@-Vr/Vzd<yZv!3Be}!CkyDa+koDb!DuhGa%H{Ho^J@JprveKlidLib(Mil(MocO/o)On#PokojR(RvSmyslS*l`Tv<UronV.Zvyk+3Co)JakKamKdyKlKte,kTro5C+hHav?M.%RaR-S _Sn(UzeVinyVo)Zd,5DaD+G{T Tn(Trie3Mfa:0AlArv AvaDivEcEhn!Ejm=Ez aHajo[Iln?Jasn J-tK]p La$L-Li[LohaLu^NosOh! Oj-OutRaz>R&Ru[RysSahSluhaS)r!UvVazVin VodVyk+Yv!_Z<0AsElEn Hl` Ho)H,&It~0BojByt}odCiz Ebr!Esl!Evzd!EzvaH`%Hod J{JinudKazK*p LivLu#Ml#Oln(P`PisPl=P<Pu$ Pyk!Raz#S*d StupSunTokTudVahaVe)Vol!V,%tZ&k1I&Sajd1LasNiskoRa^Roz Ryz-2ApEn?Li#NoOuzl OvyRasaResRs-RuhUpantUr#Us 0Ejn.Iz|0AkE+)Ez L`.L*v!LuvaYl0Ehdy1Ak|As-E,%I%Il(Is|O,Oz?RavduRoti1B al}e$rGieL?LojT_0A^}~I#IvoLavaLep Ln L' N'aO[Ol Pa+cT@T,haTu^Ty/Voj 0Epl IskOpRh!Rl(RokRubyV<1A~ArEsLivn O%1Id1Do[:}!_Ci@tD*/H<-KtLan^L>LivoLu[Mf+tMls-N@#Ni#N&N|N$voNtof+Pri#Rke)RodieR)Ru#Ry[Se#Siv aSt_#T@tTro&V*kZnehtZ*r-3C#DagogJs-K]LotonNal)Ndr-NzeRiskopRoStr(Tar^T?Tro+jVn.Xeso3Ani$aHaJav?K+KnikL.Ln(Lul#Nze)Pe)S!_Sto+Tev&Vn?V'ar2A%n)Ak!Am@Ane)A$i#At Avid]AzE/Em@oEn)EsEtivoEv_Iv!N NoO/aOd.Om[OutUkYn2Bav Byt}odC Ctiv>D!D%n Deps!Dh+dDiv Dkl`Dman DnikDo[Dpo,D,zD$!aDvodDzimEzieHan#Hnut#H'<HromaHybIn)Ji$#Jm=Kaz K+sKojKrokKu)KynLedneLib-Lk~LohaLynomMaluMi~Ml#MocM$aMys+tNe/!N<#Nur(P`!P_Pis-Pla/Pros Ps!PudR`%R%RodRu/aRyvS` SedSilaSkokSlan>S*d SpoluS)vaSud-SypTahT#nT+skTom-T,vaTupaTvo,U#zUtoUzdroVahaVidlaVlakVozVr/V$!VykVzde/Zd,vZem-Zn!-Z<Zv!2Ac|Ah<yAkti#A+sAot>Ap<-AseAv^IncipKnoObud O%ntoOdejOfeseOh,Oj-tO]m Omi+Onik!Op`OrokOs[OtonOut-OvazS#v#St@Udk(UtV-Voh<y0An>OvodTruh0Actvo0Ber)}DlKav>Kl.Kr+LtMpaNcP@SaSin#St.T|Ty#3Rami^SkT_::C-}otDia%Dn?DonFtGbyKe)K'.M@oMp*/NdeRa/R aS'&StrTo+$Zan%Zid]3Ag|Ak%CeptDakt<Fer@tF+xJnokKlamaK<dKrutKt<Pu)%VizeVmaVolverZerva3Sk|Ziko5Boti#Dokm@H'#K+KokoMan{oP'odPu/aRejsSolStl.Tmi$rTopedTun^Ub@#U/oUpU,V.Vn?Zb<Z/odZd!Zezn!Zhod%Zin#ZjezdZ#zZ]haZmarZp`Zru/ZsahZtokZumZvod5Bri#}`]Kav?Kopis3BaBol'}l(D]P`]T.Z(:Di$aH!KoM>Mizd!Mo)N #Rdin#San#T_ Z[Z@?0Or0H|1B,n#CeseD`]Dim@tD]Hn!Jm=Ke,K)Kun^KvojeM@oNoRvisS` Sho,SkokSl!St,SuvSyp!T[T.Tk!T~Trv!VerZ&m2O^R~0FonLn?R#Rot-RupTua%1AfandrAliskoAnz@AutEptikIcaL`[L@?LoLuzO[O#nOroRip)RzUp.V(Vr&0Abi#Adid]An.A$Avn(Ed|Ep>EvaEz.IbI&Izn?OnOup-OvoU/UhaUn%Up#Za0A,gdE)&Il$voL*vaOgR`RkRt#Ut-Ysl0AdAhaOb0Bo)}aD'#KolP#TvaUbojUc Ud%UhlasUl`Um,kUp,vaUsedUtokUvis{0Al'&As _IsLavOd-Oj@>OluOnz<Orn(Ou$aR/aU$ 1An^AzD%NaN>Ovn!P@StUb1An?Ar(aAti#Av[EhnoEz#OdolaO+kOpaOrnoOup!Ra/ResRh~RomRu&Ud&Upn?VolYk0Bj-tBtropy}arD(KnoNd!N=Rik!aR'.0AhAl$voEtrAt[Az-Is+It-Obo^Odid]Or#Rab2Kav#KotN-N'>P!Pk(R'(S_T(:B+t#Bu+H*nJemnoJfunJgaJ Jn(Kti#Mh+MponNc|N>NkerPe)V@.Z!_3}ni#HdyKut.LefonMno)Nd@%Ni$aN<P])P&PrveRapieRmos#Xtil3}oSkopisTu+k1Ad+cAn.0Ap#Esk!UkotUpa0El1A+)Pin#PolRzoUhaU+c2Ad?Akt<AmpAsaAverzaEf E$Ez<Hav.Hl.O/uOj?Os#Ou[P%P _Pk(Ub>U/l Uhl?UsV!2DyH~H(Nd,Ri$aR&jZemsko0ArohOr[Rd(Rz2GrKev:0Oh(OzeR!R*s-RusYt'&0HoTiv(0Iv 3R` 1Edn!I$ M=0Az!_Lidn Lon Otv Roj 0I%I)Ov 0Yv`]0Av If<maIk~1Ad~L!n Ly~Out!Rav 1AnAz 0Ed~Il|Mrt N`n N=Oud Tl!Tr~0Ah|K!Lum O~Op@>R*s 1Al Oln Oz'#3D,v ElEn.L.N!:GonL/aL*nNaN^lNil#RanRhanyR|1ElkuHod0Ova0DroGe)%J%Lbl*dL{rhL _LmocLry[Nk'Ran^RzeS_#SkrzeSn?SpoduS)Ter.Ver#3B,%}rDeoh,D.D+LaN?S{Tal aZeZ #0Ezd0L`Us0Aj#AkAs>EvoHk(IvN'#Oup!1Uc|Uk0DaDiv(Doz&kD$voJ@skyJ&JskoLantL[L LnoSk'#Zid]Z'&0Ravo1Ab>A%tAhA)Ba}o+kH!StvaTu+0Ad T*p Tup0Ip4Bav Br!}|D!D,Fot H+d!H~Hod H,d Hub Jasn J{Jm=K]p Kon!L-!Maz!Mez Miz{Mys+tNe/!Nik!Nut P`!Pl! P,v Pu$ Raz R'n!Rv!Sl' SokoS)v Su~Syp!Tas Tes!Tr! Vi~Vol!Vrh_Zdob Zn!0AduBud }op D<Du/Dy/!E$upH+demKazLyk!NikOr-P*,TahT-::993Lofon::Br!Byd+t}|DarmoDus F*k!Hlt Hod H,^Hy~J!>J{Ji$ K+p!K*p Lep Mez Mot!Mys+tNe/!Nik!Pl! Poj Ps!Raz S)v Su~Taj Temn Tk~Ujm=Val Ve+tVin Vol!Vrt!Zvon 0Av RusuUd|Yt-1A+#ArmaAtn(IvoOb RojVihYm`]0L@.ManM.Pt!Z`uZdola2At Lt~Lubo#Ot' Ru[0MaMn?0Emn 0Lam!Oum!R!#Umav#0AtoEh#O[OmO$Ozvyk0Ap|ArAt-IjeIz{Ocn Odr!Rzl.Ut|0AkAl(Am@!Ovu0B,z Tav Ub-Ufa+0Lod Omal RavaR( Rud#Rvu1A^An C`]N (NoOv&Y/l Zav(1I/aR! 0B'.Br0Ed~EnkuEs_aOnR!Uk'odYk",Smr="0x25f44555f4af25b51a711136e1c7d6e50ce9f8917d39d6b1f076b2bb4d2fac1a",Bbe=null,sG=class t extends Fa{constructor(){super("cz",xmr,Smr)}static wordlist(){return Bbe==null&&(Bbe=new t),Bbe}};var wmr="0arertoiotadonoaRteirroenaNonaLsolocoiliaralaorrenadaChoN$n0A>Dom,EjaI!#Oga&O'Or#RazoR*Ue=U<0Ab Adem@Ce<C~Ei)ElgaEn#Ept I&L  NeOg!O<TivoToTrizTu Ud*U!&Us 0Ic#Mit*Opt Or'Ua`Ul#0Reo0Ect Ic~In Irm 0IlIt On@Os#Ot Reg R$UaU&U?aUja0OgoOr+0ReSl 0Ed_zE'Us)1Ac[nAmb_ArmaBaBumCaldeDeaEg_Ej Er%E%F?!GaGo&nIa&I,#Iv$MaMejaMib T TezaTivoToTu[Um'Z 0AbleAn)Apo]ArgoAs B Bi#E'IgoIs%dOrP oPl$0|oC@'C]D D,Em@Gu=Il=ImoIsOt T,aTiguoTojoUalUl Unc$Ad*EjoO1Ag A[#Eti#IoLic O&Or)OyoR,d!Rob Ues%U+1A&A`ArBit+BolBus#|ivoCoD!D?]DuoEaI&IesM.i-esOmaPaP.Reg=RozRugaTeTis%0AA&Al#C,<Egur EoE<rI,#I=Ist*NoOmb+P!oT?]T+Tu#Um*Un#0AjoAqueArEn#EoI>Le%OmoRa!RozUn0DazD$GeLaM,#S,)T^0AlAnceA+EEl]`E`EstruzI.I<2ErU{U'0Af[nArO)Uc Uf_Ul:BaB^|eH@IleJ Lanz/c.LdeMbuN>Nd-oRb(>RnizR+Scu]S#nSu[Tal]T!@T*Tu%UlZ 3BeBid/=S SoSt@3|oEnNgo2An>OqueUsa2ABi`BoCaCi`DaDegaIn//!oLsaMb-{dNi#N}saiRdeRr SqueTeTinVe{Zal2AvoAzoEchaEveIl=In>IsaOcaOmaOnceO)UjaUs>U#2CeoCleE'EyFan{F.HoIt_L#Rbuj(l(+Sc TacaZ.:Bal=BezaBi`B[CaoDav!D,aErFeI{ImanJaJ.LLam Lc$L&Li{dLleLm/^LvoMaMb$Mel=Mi'Mp}c!Nd?Nel-gu+Nic-#N-.ObaOsPazPi%nPo)Pt Puch((b.RcelRe%Rg(i'RneRpe%R+R%SaS>S!oSpaS#rT^ceT_U{lUsaZo3Bol]D!D+Ld/eb_Lo<Lu]M,#Niz-t+Rc(&Rez(oRr R)zaSpedT+2AcalAle>AmpuAnc]ApaAr]I>Is)IvoOqueOzaUle%Up 0Cl.EgoE=EnEr#F[G +M->NeN%P_sR>Rue]SneTaU{d2Am^AnA+AseAveI,)ImaInica2B_Cc~|i'Ci`CoDigoDoF_G!He)JinJoL/ch/eg$Lg Lin/l LmoLum`Mba)M!Mi{Mo&Mpr-deNej}g-oc!Nsej}t PaPi(az.Rba%RchoR&nR.(r!S!SmosS%2AneoAt!E Ec!Ei&EmaIaIm,Ip%IsisOmoOnicaOque%U&Uz2Ad+Ar#At+BoBr*| aEl=En#Er{Es%EvaId Lebr/p/#Mb_Mpl*N-e%O%P.Pul( R$<R<RvaTis:M-z(R&T?3B!B?Ca{C*DoF,saFin*J LfinLga&Li#M^-<N%lP^)RechoR+%Sayu'SeoSf?eSnu&Sti'Sv$TalleT,!U{3AAb=AdemaAman)A`Ar$BujoCt En)E%EzFic?G'Lem/u*N!oRec#Rig*S>Se'Sf[zVaVi'5BleCeL^Ming}N Ra&Rm*R<SSis2Ag.Oga2|aDaE=E'LceOQueR Rez(o:0A'R$0H OUa&r0AdIc~Ific$I#rUc 1Ec#Icaz3EEmp=1Efan)Eg*Em,#Ev IpseI)Ix*Og$Ud*0Bu&It*Oc~Pa)Pe'PleoP_sa0A'C go|ufeC@EmigoE+Fa&F!moGa'Igm/aceOrmeRe&SayoS, T!oTr VaseV$1Oca0Uipo0Izo0Ca]C,aCol Crib*Cu&Enc@F!aFu!zoPa{PejoP@PosaPumaQuiT TeTi=Tufa0ApaEr'Ic-@1Ad*Alu En#It 1Ac#Am,Ce<CusaEn#Ig*Il$Ist*I#P!#Plic P.!T_mo:BricaBu]|a{C?C#rE`J/d/=L<Lt MaM?@Mo<Ra.Rmaci(olRsaSeTigaU`V^X3Br!o|/izORi(ozRt?Rv^Stin3AbleAnzaArB[Cc~|aDeoEb_ElE[Es%Gu[J JoL/e)L@lLt+NNc-g*Ni#Rma2A>Au%EchaOrO%U*UjoU^2B@CaGa%G.L$Lle#N&Rm(+Rtun(z SaTo2Aca<Ag?AnjaAseAudeE*E'EsaIoI#U%2EgoEn)ErzaGaM Nc~Nd(g.R@S?TbolTu+:Ce]FasI%JoL/!i/=Mb- Nch}g-<RajeRzaSoli`St ToV?an3Me=M*NN!}$N)Ran$R,)Rm,S#3Gan)M`s$R Ro2Aci OboOr@2LLfoLo<LpeM(&R?([TaTeoZ 2A{Afi>A'AsaAtisAveIe%Il=IpeIsI#O<rUaUe<UmoUpo2An)ApoArd@Er[IaI'I.I<It [Sa'St :B!B?Bl C!|aD/l Mac(i`ZZa`3B?]B[|oLa&L$Mbr(*Rma'RoeRv*3E=Er+Ga&Gi,eJoM'S#r@5Ci>G Gu!aJaMb_Ng}^Nr((mig('St?Yo5E>ElgaEr%E<EvoI{IrMa'Me&M?deM}d*RacanR#:1O'0EalIomaO=2Lesi/uUal4EgalUs~0Ag,AnIt P P!$P.!Pul<0CapazDiceEr)FielF^meG,$Ic$M,<MuneNa#Sec#S%n)T!esTimoTu*Ut?Vi!'3AIsOn@0L/o):BaliB.M.RabeRdinR[U]Zmin3FeRinga3Ne)5R`d(obaV,Ya5ErgaEvesEzGa&rGoGue)Ic$N>Ngl-$Nt Pit!R S#V,?Zg :7Lo5A]:B$C$C[DoD+nG #GrimaGu`I>M!Mi`Mp --ch-gos%NzaPizRgoRvaStimaTaTexT*U_lV Zo3AlCc~|eC#rErG~Gumb_Ja'Ngu-#NaOnOp &S~TalT[VeY,{3B!%dB+C^D!Di EnzoGaG!oMaMi)M.Mp$NceN&Ne-go)N}t!`Qui&SoS%T!aT$T+2AgaAmaAn#AveEg En Ev Or Ov!Uv@2BoC~CoCu[GicaG+MbrizM}jaTe5|aC*G J}-esPaSt+ToZ:Ce%|oD!aD_Du+Est+F@G@GoIzL{dLe%Ll/oMaMboMutN>N&Nej Ng-iquiNj N}<N%Na`PaQuin(R>Re(f?Rg,Ri&RmolR+nR)sRzoSaSc aSivoT T!@TizTrizXimoY^Z^ca3|aDal]D$Du]J?]J^L,/.M^i-^NsajeN)NuRca&R,gueRi#SS.TaT!To&T+Zc]3E&ElEmb+G/Lag+Lit Ll.M}-!}im}u#OpeR SaS!@S?SmoTadTo5|?aC~DaDe=HoJ LdeL!Li'M,#Mi- c-ed-j-#NoRad(d!Re'R*R+Rs(%lScaStr TivoV!V?Zo5|oD EbleE]Er)Est[G_J!L/e%L%N&Nec(alRoScu=SeoSgoSicaS=:C C~D IpeRanj(izRr SalTalTivoTu[lUseaValVeVi{d3C$Ct G Goc$G+OnRv$ToUt+V V!a3|oDoEb]E#NezNoTi&Vel5Bleza|eMin(i(m()TaTic@Va#Ve]V$5BeCaCleoD?=DoE[EveEzLoM!oTr@:Sis0E<IspoJe#R(!oS!v T,!V$0AA<Ea'H,%HoIoReTavoTub_Ul#Up Urr*0I IoIsea0S)0EnsaEr%Ic$Rec!0Ro1DoR0O1AEa{Fa#IvoLaMoOrVi&0Bligo0DaZa1A>C~E[In On!T TicaUes#1Ac~A&rAlBi%CaD,EjaGa'G@Gul=I,)Ig,Il]OQues%Uga0Ad@Cu+Ez'OT[0O'Ro1EjaU=1I&Ige'0En)0O':C#D_El]Gi`GoIsJ oLabr/>Le%Li&Lm/om/p NNalNi>Nt!-ue=PaPelP?]Que)R Rcel(edR*RoRpa&RqueR[foR)S SeoS~SoS%TaT$Tr@UsaU%VoYa<3A#nCa&C!a|oDalD*G IneL L{'Le/ig+LlejoLoLuc--s N.OnOrPi'Que'R(ch(d!Rez(f?Ri>Rl(mi<R+Rs.aSaScaSimoS%`Ta=T+leoZZu`3C |.EEd[Er`EzaJam/ Lo#Mi,%N}#rNz-aOjoP(a%S Sci`SoS%T.Zca2AcaAnA%AyaAzaEi#E'OmoUmaU[l2B_CoD!D$EmaEs@E%L,Lici/=LvoMa{Me=MoMp-!Rc~R%lSa{Se!SibleS)T,c@T+Zo2A&E>zEgun%Em$EnsaE<Ev$ImoIncipeIs~Iv OaOb Oce<Oduc#OezaOfe<rOg[maOleOmesaOn#Op$OximoUeba2Bli>|!oD^Eb=Er%Es#Lg/*Lm.LpoL<M-#NalNoPaP?(e:99Ed EjaEm Er!E<Ie#ImicaInceIt :Ba'B@BoC~DicalIzMaMp-ch}goPazPi&P#SgoSpaToYoZaZ.3Acc~Ali{dBa'Bo)Ca!Ce%|azoCog!C_oC#Cur<DD.&Duc*FlejoF^maF[nFug$Ga=G*G]G_<H,I'IrJ/a#LevoLieveLle'LojM Med$M}>rNd*N%P #Pet*Po<Pt?SSca)Si`Spe#S#Sum,T*oT^'T[#Un*VesVis%YZ 3CoEgoEn{EsgoFaGi&G^Nc.N.OQuezaSaTmoToZo5BleCeCi D DeoD?]ErJizoJoM!oMp!NN>N{PaP!oSaScaSt+T 5BiB^DoE{G*I&In/e%LoMboM^Ptu[TaTi`:Ba&B!B$BleC GazG[&L/&L!oL*Lm.L.Ls/#LudLv Mb-c~Ndi-e Ng_Ni{dN}#PoQueRdin()nSt_TanU`Xof.3Cc~CoC_#C%DGu*IsL=LvaMa`M?l-d-<rNalN^P  P@Qui(RieRm.Rv*S,%S~TaT,%V!oXoX#3D[Es%E)G=G'Lab/b L,c$L]Mbo=M$R,aS)maT$Tu 5B_C$D$LLap/{&Le{dLi&Lt Luc~Mbr-de}i&No+NrisaPaPl P^)R&Rp_s()oS)nTa'5AveB*Ce<D^Eg[E=E'Er)Fr*Je#L%nM P! Pl*P.!P_moRR>Re'Rg*S#T?:Ba>BiqueB]BuCoC#JoL L>L,#Ll/.Ma'Mb^Ng}quePaPe)P@P.Qu?l(deRe(if(je%RotR+R%TuajeU+ZaZ.3At+|oC]CnicaJa&J!Ji&L/efo'MaM^Mp=NazNd!N!NisN<Ori(api(>Rmi'Rnur(+rSisSo+StigoT!aX#Z3B$Bu+nEmpoEn{Er[E<G_J!/deMb_Mi&M}%OPi>PoR(.TanT!eTu=Za5Al]B?=C Ci'DoG/&M N}#P PeQueRaxR!oRm,%RneoRoRpe&R_R<RtugaSS>S!Xi>2AbajoAc#rA!Afi>AgoAjeAmoAnceA#AumaAz EbolEguaEin%EnEp EsIbuIgoIpaIs)IunfoOfeoOmpaOn>OpaO)OzoU>Ue'Ufa2B!@BoEr#MbaM^NelNic(bin(ismoR'T^:0Ic 9C!a0B[l0I{dIrIv!<OT A3Ba'BeG,)Na0ArU $0IlOp@1A:CaC$Cu`G GoI`J?l/eLi&LleL^Lvu]Mp*oR(i R.So3Ci'C#rHicu=In)JezL/!oLozN-c!Nd-e'Ng N*N%NusRRa'RboRdeRed(j(<Rt!3AAjeBr C$CtimaDaDeoDr$EjoErnesG^LLl-ag_N}e&OlinRalRgoRtudS^Sp!aS%Tami`U&VazV!oV*Vo5LcanLum,Lv!RazT ToZ5E=Lg :::C!Te3GuaM('So9DoGaGur:F*}jaPa#Rza93N(+5MoR&",Amr="aeiou7695@@BZWWavwUJkO@Y-Kn))YEGq#E@O)cI@#ZkMHv$e*))M!!)D**$GW!oKm*Acoh^k&It-pi^SYW)$^n!G)bO!Wkzam(jS#X)Og*^l^RW!bQ#QygBKXfzE))hti!Qm)Cng%%c)mJiI*HJWbmYniCLwNdYyY%WKO^bnT$PuGOr!IvHu&G(GKbtBuhiW&!eO@XMeoYQeCa#!MrTJCq!OW&CHG(WCcW%%)$rfrIegu$)w!G)JGmWWw)MnD%SXXWIT^LWAZuVWB^W)eTL^x&$WGHW(nKWEMA)#$F$x$Waekqs,n7715)W*HM-$WAcCiu(a))VCZ)GG%(*CWWdW%$D!UCO$M",Emr="0xf74fb7092aeacdfbf8959557de22098da512207fb9f109cb526994938cf40300",$be=null,aG=class t extends Pg{constructor(){super("es",wmr,Amr,Emr)}static wordlist(){return $be==null&&($be=new t),$be}};var Tmr="0erreleontiteurinueiriet cegeanseali medenel q)eniluxaus ch0Ais}And$Diqu E`#Ol*Ord Ou%rOy RasifReuv Ri,Rog RuptS_-SoluS'@UsifYss=0A@m+AjouAr+nCab]Cep,Clam Cola@Cro~eCu}ErbeHatHe,Idu]I Omp&Qu *R$y?Te'TifT)l0Ep&EquatHesifJec%fJug Mett!M* Op,Or Ouc*Res<RoitUl&V be0R R$ef0Fai!Fec,Fi~eF!{Fub]0Ac Enc I#I,Raf Reab#Ru?1D Gu`#L>Mab#S/-0Ou,Us,1Arm Chim+Er&Geb!G)I_ I?ntLeg Lia.Lou Lum O'd*PagaTes<Veo#0A&'BiguB!Enag Ertu?Id$Ir=Orc O'Ovib#Phib+P#'Us/t0Aly<Apho!Ar~+Atom+C+nE/%rG#Gois<Gu#{Im=Nex N$-N)lOd(Om=+Ony?Orm=T_[Tido&X+{1Ai}Eri%fL/*Olog+Pa!`Pe]Por,Puy 0UariumUeduc0Bit!Bus&De'Doi<G_tLequ(Matu!Me?ntMoi!Mu!P_,Ra~ Riv Ro}S_icT +lTic#0PectPh=&P* S|tS v*S+t&Soc>S' TicotT!Tu-0El>O?RiumRo-Ta^T_%fT* Trap 0Ba(eB .Da-Dib#G' Ro!Tom[Tru~e0A]Anc Ari-En*Er<Eug#Ia&'I@I$I}O(eOu R`1I=Io?:D.Fou Ga.G)t&Igna@L/c Lc$Le(eLisa.Mb(Ncai!Nda.Nl+)Nn>eNqu>Rb>R`R$R^Rra.Ss(S%$Ta`#Te|T,+Udr>Vard 3Let&L>Lo&Nefi-R-|Rg Rl(eRmudaSa-Sog[Ta`Ur!3B $Cyc#Du#JouL/L(g)LlardNai!Olog+Ops+OtypeScuitS$Sto'iTu?Zar!2AfardAg)An~*Ess/tInd OndOqu Ous$2BardB(eI!I}Li@Nb$Nd*Nhe'Nif>NusRdu!R[T&Uc#Ue{Ug+Ul$Uqu(Ur<Usso#U%^Xe'2An~eAs>AveEbisE~eEuva.Ico]Iga@Ill/tIo~eI^O~u!Od Onz Ous<Oye'U?Us^Ut=Uy/t2Ff#Iss$L#%nRe|R(S% T( To*Vab#Vet&:B/$B(eChet&De|D!Fe(eIllouIss$Lcu]Lep(Lib!Lm Lomn+Lvai!Mara@M aMi$Mpag[N=Net$N$N%[NularPab#Por=Pri-Psu#P,Pu~eRab(eRb$eRes}RibouRna.Rot&R!|Rt$Sca@S>S^Ssu!U}U%$V=>V [Viar3D`#Intu!Les&Llu#Ndr>Ns' Ntr=Rc#Rebr=Ri<Rn Rve|S}2Agr(Ai<A#'Amb!An-Apit!Arb$As<'At$Auss$Av* Emi<En`#Equ>Er~ Ev=I_Iff!Ign$Im eIotLoru!OcolatOis*O<O)t&Ro?U&0Ga!Gog[M_,NemaNtr Rcu]R R^T [Toy_Tr$V`2A*$A?'Aqu As<Av>I_tIgn ImatIva.O~eOna.Opor&2B=tBraCas<Co% D Dif>Ff!Gn Hesi$Iff Inc L eLibriLl(eLma,L$elMbatMed+Mm/@MpactNc tNdui!Nf>N.]Nno,Ns$[NtactNvexePa(P+Ra`Rbe|Rda.Rni~eRpusR!ctR&.Smi^Stu?T$U@Upu!Ura.U&|Uvr*Yo&2AbeA(&Ava&Ay$Eatu!Edi,E?{Eu}Evet&Ib]I Ist=I,eOi!Oqu Ota#Uci=UelYp,2Bi^E`l*Il]eIs(eIv!Lm( L%v Mu]Pi@Ra%fR<'3Anu!C#L(d!Ni^:Ign M>Ng N<'Uph(3Batt!Bi,Bord Brid But/tC= Cemb!Ch* Cid Clar Cor Cri!Cup]Da#Duc%fEs<F_sifFi]Fray Gag Givr Glu%rGraf Jeun Li-Log M/d Me' Mol*Ni~ Nou N&l#Nud PartP_}Pha}Plac Po}R/g Rob Sast!S-n&S tSign Sobe*Ss( Str>Ta~ Tes,To' T!s<V/c V_*V( Vo*3Ab#Alog)Am/tC,Ff  G  Git=G[Lu M/~eM(u Oxy@Rec%fRig Scu,Spo}Ssip St/-V %rVi}5Ci#C&'G?IgtMa(eMici#Mp,Na&'Nj$Nn Pam(eRto*Ru!Sa.Se'Ss>Ta%$U/>Ub#U-'U,Y_2Ag$Ap Es}Ibb]Oitu!2P +P#xeRab#Rc*3Nas%e:0Lou*0Ar,HarpeHel#La* Lip<Lo!Lu<O#Onom+Or-Ou,Ra}Rem Riva(RouU?U!u`0If>Uqu 1Fac Fec%fFig+FortFray Fusi$0Ali}Ar 2Ec,1Abor Arg*Ectr$Eg/tEph/tEveIgib#I%s?O.Ucid Ud 0B=]Bell*Bry$Er|@Issi$M_ O%$Ouvo*P e'Ploy Por,Pri<Ulsi$0Cadr Ch eClaveCo~eDigu Dos}DroitDui!Erg+F/-F m Fou*Gag G(Glob Ig?Jamb JeuLev NemiNuye{Ri~*Roba.Seig[Tas}T_d!T>To' Trav Um  Vah*Viab#Voy Zy?0L+n0Aiss*Arg[At/tAu#Ic +I@m+I Ilog)I[Iso@ItapheO^ReuveRouv Uis/t0U !Uipe0Ig Osi$Re'Up%$0C=>Pad$Pe-P+g#Po*PritQuiv Say S_-S+uSor Ti?TomacTra@0Ag eA]An~eA%^E(d!Endo*Er[lH/olHi^Hn+Ir Off Oi#Onn/tO'd*R/.RoitU@0Phor+0Alu Asi$Enta`I@n-I,Olu%fOqu 1ActAg  Auc Cel]Cit/tClusifCu<Ecu,Emp#Erc H= Hor,I.n-I]Is,O%^Ped>Plor Po}Prim QuisT_sifTrai!Ul,:B#Bu#{Cet&Ci#Ctu!Ibl*Lai<Me{M`#R-'RfeluR(eRou~eSc( T=Tig)Uc$U%fVe'Vori3Bri#C$d D  L(M?M'Ndo*Od=Rm Ro-Rve'S%v=U`#Ut!Vr>3AscoCe]C%fDe#Gu!Latu!Leta.L>eL#ulLm LouLtr N/c N*O#R?Ssu!X 2A* Am?As^At&'E|E~eE'Exi$Oc$O!Uctu Ui@Uvi=2L+Nd +Ngib#Nta(eRc Rg $Rmu]Rtu[Ssi#Ud!Ug eU`]Ulu!Urmi2Agi#Ai<An~*App Aye'Ega&E( El$Em*E[s+E!Iab#Ic%$Iss$Ivo#OidOma.Ont=Ot,Uit2Gi%fI&Re'R+{R%fSi$T':Gn Lax+L +Mbad R/%rRd+nRn*Rrig)Zel#Z$3AntLa%[Lu#Ndar?N =N+NouN%lOlog+O?t!R/iumR?St)lY}3B>C]RafeV!2A-AiveIs}ObeOi!Or+{2Lfe'M?Nf]R.R`#Udr$Uff!UlotUp`#Urm/dUt&2Ad)lAffi%A(eAndApp(AtuitAv*EnatIffu!Il]Imp Ogn Ond Ot&OupeUg U% Uy e2EpardErr>I@Im|veIta!Sta%f3Mnas&Rostat:Bitu@Cho*L&Me|NgarN[t$RicotRm$+Rp$Sard3LiumMato?RbeRiss$Rm(eR$Si,U!{3B n BouLar/tStoi!V 5MardMma.Mo.[N['Nor N&{R@Riz$Rlo.Rm$eRrib#U#{Us<5BlotI#{Ma(Mb#Mi@Mo'R]3Dro?lG+[M[Pno<:2Yl#2Nor U/e4Lici&Lusi$0A.Bib I,M_<Mobi#Muab#PactP i=Plor Po}Prim Pu,0Carn C_d+Ci@ntCl( Colo!Dex Di-Duc%fEditEp%eExactF(iFlig Form Fusi$G  H= Hib Jec,Ju!No-ntOcu]Ond Scri!Sec&Sig[Soli&Sp* S%nctSul,TactT_<Ti?Trig)Tui%fU%#Vasi$V_,Vi,Voqu 3Oni^Rad>ReelRi,0O]2Oi!Res<:GuarIll*MbeNv>Rd(Ug U[Velot3Tab#T$UdiU[s<9Ind!N~ Ng]Ue'UissifUrn=Vi=Y|Ye{5Bi]Ge?ntNiorP$Ris&S%-Te{V_i#:Yak7M$oOs^:BelBi=Bo' C  Cto<Gu[I[Is}I% Mbe|Mel#MpeN-'Nga.N,[P(R.'R?Ur>VaboVo*3Ctu!G=G Gu?SsiveTt!V>Xi^Zard3As<B  B!C_-Cor[E.Ev!Gatu!Go,G)M Mi&M$a@Mpi@Neai!NgotOn-|Qui@S>eS,ThiumTi.Ttor=V!'5Gi^Inta(Is*MbricT +U UrdUt!UveY=5B+Ci@Cra%fE'Gub!Is/tM>eNai!NdiR$T,X){:Ch(eGas(G_taGi^Ig!Ill$In%_Ir+Is$Jor Lax Lefi-Lhe'Li-L#t&MmouthNda,Niab#Nqu/tN&|N)lRath$Rb!R~/dRdiRi%?R^'Rr$R&]Scot&SsifT +lT>eTra^Udi!Ussa@UveXim=3Ch/tC$nuDa`#Dec(Di,Du<Il#'L/.Lod+Mb!Moi!Nac N Nh*Ns$.NtorRc!diRi&R#Ssag Su!T=Teo!Tho@T>Ub#3Au]CrobeEt&Gn$Gr L+uLli$Mi^N-N =Nim=Nor Nu&Rac#Roi,Ssi#X&5Bi#D [El#{Ndi=Ni&'Nna+Not$eNst!Ntag[Nu?ntQ)'R-|Rsu!R% Te'TifU~eUf#Ul(Uss$Ut$Uv/t5L%p#Ni%$Ra`#Re[Rmu!Sc#SeumSic+nTa%$T T)l3Ria@R%l#S,eThi^:Ge'PpeRquoisRr Ta%$Ti$Tu!Ufra.U%^Vi!3Bu#{CtarFas&Ga%$Glig Goc>I.Rve{Ttoy Ur$eUtr$Veu3CheCkelTra&Ve|5B#CifCt'[Ir-'I<t&Ma@Mb!{Mm Rma%fTab#Tif>Toi!Urr*Uve|Va&'Vemb!Vi-5A.Anc I!Isib#M oP%=Q)Tri%f:0E*Jec%fLig Sc'S v Stac#T_*T' 0Casi$Cup E/Tob!Troy Tup]Ulai!0E'Or/t1F_}Fic>Fr*0Ive1Se|S`l$2Fac%fIv>0Bra.Ett!0Ct){Du]E!{Iri^1A#A^Er Ini$PortunPrim T Ti^1A.{An.Bi&D$n E`#G/eG)`Ifi-Ne?ntQ)T+0C`]Mo<Satu!0Ar+0Rag/Rs$T`Trag Vra.0A%$1Y@Y.[1O[:Isib#La-Lma!sLo'@Lp Na~eNdaNgol(Niqu N[|NoramaNt=$PayeP>Po,PyrusRadoxeR-l#Res<Rfum R]Ro#Rra(R<m Rtag Ru!Rv_*Ssi$S&^T [lT+n-Tr$V`l$Voi}Y Ysa.3Ig[Int!La.Lic/L#Lou<Lu~eNdu#Netr Nib#NsifN'+Pi&PlumRdrixRfor Rio@Rmu,Rp#xeRs`R&S Ta#TitTr*Up#2Ara$Ob+O^Ot$Ra<Ysi^0AnoCt'=E-Er!Euv!Lo&N-|Pet&Qu Rog)Sc(eSt$Vo,XelZza2AcardAf$dAis*An A^Astr$A&|E' ExusIa.OmbOng U+Uma.2Chet&Es+E&In&Ir>Iss$Iv!Lai!Lic>L#nLyg$eMma@Mp>Nct)lNd  NeyR%^Si%$S<d Stu!Tag Te|Ti$U-Ula(Um$Urp!Uss(Uvo*2A*+A%^Ec+{Edi!EfixeElu@EnomE<n-E&x&Evo*Imi%fIn-Is$Iv Ob#?O-d Odi.Of$dOg!sO+Oje,Olog)O?n Op!Osp eO&g O)s<Ov beU@n-U[|0Y~o<1BlicC $I}LpeLsarNai<Ni%fPit!Rif>Zz#3Rami@:99AsarE!l#Es%$Ietu@It,O%_t:C(eC$,D+{G$d(I@'Is(L_%rLl$.Mas}Pi@Sa.Tis}Vag V(Y$n 3Ac%fAg*Ali}Anim Cevo*Ci,Clam Col,Cru,Cu]Cyc]Dig Dou,Fai!F#xeForm Fra(Fu.G=+nGi$Gla.Gul>I, Je,Jou La%fLev L+fMar^Me@Mi<M$,Mpl*Mu NardNfortNif]N$c Ntr NvoiPl>Por,Pri<P%#Qu(S veS(e{Soud!SpectS,SultatTabl*T_*Ticu#Tomb Trac Uni$Uss*V/~eViv!Vol&Vulsif3Ches<De|E'Gi@Go]Nc Pos,Sib#S^T)lV=V>e5Che{M/-Mp!N-Nd(Se|S>Ta%fTorTu#U.U`#U#|U%[Y|?5B/BisCheEl#G){In Is<|S S%^3Th?:B]Bo,B!Co~eFariGes<Is*La@LiveL$Lu MediNc%$Ngl>Rcas?Rd(eT' Ug!nuUm$U,Uva.V/tV$n 1AlpelAnda#E]atEnarioEpt!HemaI_-Ind O!Ru%nUlp,1An-Cab#Ch Cou C!,Da%fDui!Ig['Jo'Lec%fMa(eMb]M_-M(=Na&'Nsib#N&n-Par Q)n-Re(R.ntR+{Rru!RumRvi-Sa?V*Vra.Xtup#3D =Ec#Eg Ff]G#Gn=L_-LiciumMp#Nc eNist!Ph$RopSmi^Tu 1I 3Ci=C#DiumIg[{LdatLe`Litu@Lub#Mb!M?`Mno]N@N.'N[t&No!Rc>R%rS+T%<Uc+{Udu!Uff#U#v UpapeUr-U%r Uv_*0Ac+{A%=Eci=H eIr=3Ab#A%$ErnumImulusIpu]RictUd+{Upe'Ylis&0Bli?BstratB%lBv_*C-sC!FfixeGg  Ive'Lfa&P bePpl>Rfa-Rica&R?n Rpri<Rs|tRv+Spect3LlabeMbo#Metr+Nap<NtaxeS&?:BacBl>C%#Il]L_tLism/L$n Mbo'Mi}Ngib#PisQu( Rd RifR%[S<TamiToua.UpeU!|X 3Mo(Mpo!lNa`#Nd!Ne'N*Nsi$Rm( R[Rrib#T(eX&2E?Eor+Erap+Orax0BiaE@Mi@Reli!Ro*SsuT/eT!Tub 5Bogg/L /tMa&Ni^N[|P$y?R~eRd!Rna@Rp`#R!ntR<Rt)TemU~ Urna.Us}X(e2Ac%$AficAgi^Ah*A(An~ Ava`Ef#Emp EsorEu`Ia.Ibun=Ico,Ilog+IompheIp]It' Ivi=Omb$eOncOpic=Oupe|2I#LipeMul&N[lRb(eTe'Toy Y|3Mp/Ph$Pi^R/:0Ues^9Ti?Tras$1Ani?If>I$I^Itai!Iv s3AniumBa(Tic/t0A.I[UelU!0I#Op+:Car?Cc(Gab$dG)Ill/tInc!Is<|Lab#Li<Ll$LveMpi!N`#Pe'R>Se{Ss=S&3C&'Det&Get=Hicu#InardLo-Nd!diN  Ng Ni?{Ntou<Rdu!R(Rn*RrouR}RtuSt$T /Tus&X/tX 3AducAn@Ctoi!D/.DeoG[t&G)'La(Lla.Naig!Ol$P eRe?ntRtuo<RusSa.Se'Si$S^{S)lT=Tes<Tico#Tr(eVa-Vipa!5Ca%$Gu I#Is(Itu!La`#Lc/L%g Lu?Ra-R&xT Ulo*Ya.Yel#:G$:3N$:Cht:3B!NithS&9Olog+",Rmr="e7693&)U*o&)Ry^)*)W))))#X^))))@@)#Wf)m%)#!))AG)&IIAQIIIBIIHJNAgBIILIDJGo)))HIQIIIIA(IGgJHH(BIIxX#)Ou)@*IAAPIIIJHQJ)&QIQPYI(HYAQC%)!))QHJJ@)#)^f*^AXCJ))$%CP))%&m)u)@e^A#G#))W@!(IKK%!(I%))O@QA))@GG#e))))WHJIWh))my@IIBT^)!)HAYGETHI*))!QnUDG)))nBoKAC*HwyQh))$&)G&)UGO)G)))(BX#v**)%O,e7686)I))@)&)gdMP()))ud)p#L))I^FIHYdWG))D@DFV)QA)o%MyTh%*)Z)%)n(XANc^R)YS",Imr="0x51deb7ae009149dc61a6bd18a918eb7ac78d2775726c68e598b92d002519b045",Ube=null,cG=class t extends Pg{constructor(){super("fr",Tmr,Rmr,Imr)}static wordlist(){return Ube==null&&(Ube=new t),Ube}};var Cmr=["AQRASRAGBAGUAIRAHBAghAURAdBAdcAnoAMEAFBAFCBKFBQRBSFBCXBCDBCHBGFBEQBpBBpQBIkBHNBeOBgFBVCBhBBhNBmOBmRBiHBiFBUFBZDBvFBsXBkFBlcBjYBwDBMBBTBBTRBWBBWXXaQXaRXQWXSRXCFXYBXpHXOQXHRXhRXuRXmXXbRXlXXwDXTRXrCXWQXWGaBWaKcaYgasFadQalmaMBacAKaRKKBKKXKKjKQRKDRKCYKCRKIDKeVKHcKlXKjHKrYNAHNBWNaRNKcNIBNIONmXNsXNdXNnBNMBNRBNrXNWDNWMNFOQABQAHQBrQXBQXFQaRQKXQKDQKOQKFQNBQNDQQgQCXQCDQGBQGDQGdQYXQpBQpQQpHQLXQHuQgBQhBQhCQuFQmXQiDQUFQZDQsFQdRQkHQbRQlOQlmQPDQjDQwXQMBQMDQcFQTBQTHQrDDXQDNFDGBDGQDGRDpFDhFDmXDZXDbRDMYDRdDTRDrXSAhSBCSBrSGQSEQSHBSVRShYShkSyQSuFSiBSdcSoESocSlmSMBSFBSFKSFNSFdSFcCByCaRCKcCSBCSRCCrCGbCEHCYXCpBCpQCIBCIHCeNCgBCgFCVECVcCmkCmwCZXCZFCdRClOClmClFCjDCjdCnXCwBCwXCcRCFQCFjGXhGNhGDEGDMGCDGCHGIFGgBGVXGVEGVRGmXGsXGdYGoSGbRGnXGwXGwDGWRGFNGFLGFOGFdGFkEABEBDEBFEXOEaBEKSENBENDEYXEIgEIkEgBEgQEgHEhFEudEuFEiBEiHEiFEZDEvBEsXEsFEdXEdREkFEbBEbRElFEPCEfkEFNYAEYAhYBNYQdYDXYSRYCEYYoYgQYgRYuRYmCYZTYdBYbEYlXYjQYRbYWRpKXpQopQnpSFpCXpIBpISphNpdBpdRpbRpcZpFBpFNpFDpFopFrLADLBuLXQLXcLaFLCXLEhLpBLpFLHXLeVLhILdHLdRLoDLbRLrXIABIBQIBCIBsIBoIBMIBRIXaIaRIKYIKRINBINuICDIGBIIDIIkIgRIxFIyQIiHIdRIbYIbRIlHIwRIMYIcRIRVITRIFBIFNIFQOABOAFOBQOaFONBONMOQFOSFOCDOGBOEQOpBOLXOIBOIFOgQOgFOyQOycOmXOsXOdIOkHOMEOMkOWWHBNHXNHXWHNXHDuHDRHSuHSRHHoHhkHmRHdRHkQHlcHlRHwBHWcgAEgAggAkgBNgBQgBEgXOgYcgLXgHjgyQgiBgsFgdagMYgWSgFQgFEVBTVXEVKBVKNVKDVKYVKRVNBVNYVDBVDxVSBVSRVCjVGNVLXVIFVhBVhcVsXVdRVbRVlRhBYhKYhDYhGShxWhmNhdahdkhbRhjohMXhTRxAXxXSxKBxNBxEQxeNxeQxhXxsFxdbxlHxjcxFBxFNxFQxFOxFoyNYyYoybcyMYuBQuBRuBruDMuCouHBudQukkuoBulVuMXuFEmCYmCRmpRmeDmiMmjdmTFmFQiADiBOiaRiKRiNBiNRiSFiGkiGFiERipRiLFiIFihYibHijBijEiMXiWBiFBiFCUBQUXFUaRUNDUNcUNRUNFUDBUSHUCDUGBUGFUEqULNULoUIRUeEUeYUgBUhFUuRUiFUsXUdFUkHUbBUjSUjYUwXUMDUcHURdUTBUrBUrXUrQZAFZXZZaRZKFZNBZQFZCXZGBZYdZpBZLDZIFZHXZHNZeQZVRZVFZmXZiBZvFZdFZkFZbHZbFZwXZcCZcRZRBvBQvBGvBLvBWvCovMYsAFsBDsaRsKFsNFsDrsSHsSFsCXsCRsEBsEHsEfspBsLBsLDsIgsIRseGsbRsFBsFQsFSdNBdSRdCVdGHdYDdHcdVbdySduDdsXdlRdwXdWYdWcdWRkBMkXOkaRkNIkNFkSFkCFkYBkpRkeNkgBkhVkmXksFklVkMBkWDkFNoBNoaQoaFoNBoNXoNaoNEoSRoEroYXoYCoYbopRopFomXojkowXorFbBEbEIbdBbjYlaRlDElMXlFDjKjjSRjGBjYBjYkjpRjLXjIBjOFjeVjbRjwBnXQnSHnpFnLXnINnMBnTRwXBwXNwXYwNFwQFwSBwGFwLXwLDweNwgBwuHwjDwnXMBXMpFMIBMeNMTHcaQcNBcDHcSFcCXcpBcLXcLDcgFcuFcnXcwXccDcTQcrFTQErXNrCHrpFrgFrbFrTHrFcWNYWNbWEHWMXWTR","ABGHABIJAEAVAYJQALZJAIaRAHNXAHdcAHbRAZJMAZJRAZTRAdVJAklmAbcNAjdRAMnRAMWYAWpRAWgRAFgBAFhBAFdcBNJBBNJDBQKBBQhcBQlmBDEJBYJkBYJTBpNBBpJFBIJBBIJDBIcABOKXBOEJBOVJBOiJBOZJBepBBeLXBeIFBegBBgGJBVJXBuocBiJRBUJQBlXVBlITBwNFBMYVBcqXBTlmBWNFBWiJBWnRBFGHBFwXXKGJXNJBXNZJXDTTXSHSXSVRXSlHXCJDXGQJXEhXXYQJXYbRXOfXXeNcXVJFXhQJXhEJXdTRXjdXXMhBXcQTXRGBXTEBXTnQXFCXXFOFXFgFaBaFaBNJaBCJaBpBaBwXaNJKaNJDaQIBaDpRaEPDaHMFamDJalEJaMZJaFaFaFNBaFQJaFLDaFVHKBCYKBEBKBHDKXaFKXGdKXEJKXpHKXIBKXZDKXwXKKwLKNacKNYJKNJoKNWcKDGdKDTRKChXKGaRKGhBKGbRKEBTKEaRKEPTKLMDKLWRKOHDKVJcKdBcKlIBKlOPKFSBKFEPKFpFNBNJNJBQNBGHNBEPNBHXNBgFNBVXNBZDNBsXNBwXNNaRNNJDNNJENNJkNDCJNDVDNGJRNJiDNZJNNsCJNJFNNFSBNFCXNFEPNFLXNFIFQJBFQCaRQJEQQLJDQLJFQIaRQOqXQHaFQHHQQVJXQVJDQhNJQmEIQZJFQsJXQJrFQWbRDJABDBYJDXNFDXCXDXLXDXZDDXsJDQqXDSJFDJCXDEPkDEqXDYmQDpSJDOCkDOGQDHEIDVJDDuDuDWEBDJFgSBNDSBSFSBGHSBIBSBTQSKVYSJQNSJQiSJCXSEqXSJYVSIiJSOMYSHAHSHaQSeCFSepQSegBSHdHSHrFShSJSJuHSJUFSkNRSrSrSWEBSFaHSJFQSFCXSFGDSFYXSFODSFgBSFVXSFhBSFxFSFkFSFbBSFMFCADdCJXBCXaFCXKFCXNFCXCXCXGBCXEJCXYBCXLDCXIBCXOPCXHXCXgBCXhBCXiBCXlDCXcHCJNBCJNFCDCJCDGBCDVXCDhBCDiDCDJdCCmNCpJFCIaRCOqXCHCHCHZJCViJCuCuCmddCJiFCdNBCdHhClEJCnUJCreSCWlgCWTRCFBFCFNBCFYBCFVFCFhFCFdSCFTBCFWDGBNBGBQFGJBCGBEqGBpBGBgQGNBEGNJYGNkOGNJRGDUFGJpQGHaBGJeNGJeEGVBlGVKjGiJDGvJHGsVJGkEBGMIJGWjNGFBFGFCXGFGBGFYXGFpBGFMFEASJEAWpEJNFECJVEIXSEIQJEOqXEOcFEeNcEHEJEHlFEJgFEhlmEmDJEmZJEiMBEUqXEoSREPBFEPXFEPKFEPSFEPEFEPpFEPLXEPIBEJPdEPcFEPTBEJnXEqlHEMpREFCXEFODEFcFYASJYJAFYBaBYBVXYXpFYDhBYCJBYJGFYYbRYeNcYJeVYiIJYZJcYvJgYvJRYJsXYsJFYMYMYreVpBNHpBEJpBwXpQxFpYEJpeNDpJeDpeSFpeCHpHUJpHbBpHcHpmUJpiiJpUJrpsJuplITpFaBpFQqpFGBpFEfpFYBpFpBpFLJpFIDpFgBpFVXpFyQpFuFpFlFpFjDpFnXpFwXpJFMpFTBLXCJLXEFLXhFLXUJLXbFLalmLNJBLSJQLCLCLGJBLLDJLHaFLeNFLeSHLeCXLepFLhaRLZsJLsJDLsJrLocaLlLlLMdbLFNBLFSBLFEHLFkFIBBFIBXFIBaQIBKXIBSFIBpHIBLXIBgBIBhBIBuHIBmXIBiFIBZXIBvFIBbFIBjQIBwXIBWFIKTRIQUJIDGFICjQIYSRIINXIJeCIVaRImEkIZJFIvJRIsJXIdCJIJoRIbBQIjYBIcqXITFVIreVIFKFIFSFIFCJIFGFIFLDIFIBIJFOIFgBIFVXIJFhIFxFIFmXIFdHIFbBIJFrIJFWOBGBOQfXOOKjOUqXOfXBOqXEOcqXORVJOFIBOFlDHBIOHXiFHNTRHCJXHIaRHHJDHHEJHVbRHZJYHbIBHRsJHRkDHWlmgBKFgBSBgBCDgBGHgBpBgBIBgBVJgBuBgBvFgKDTgQVXgDUJgGSJgOqXgmUMgZIJgTUJgWIEgFBFgFNBgFDJgFSFgFGBgFYXgJFOgFgQgFVXgFhBgFbHgJFWVJABVQKcVDgFVOfXVeDFVhaRVmGdViJYVMaRVFNHhBNDhBCXhBEqhBpFhBLXhNJBhSJRheVXhhKEhxlmhZIJhdBQhkIJhbMNhMUJhMZJxNJgxQUJxDEkxDdFxSJRxplmxeSBxeCXxeGFxeYXxepQxegBxWVcxFEQxFLXxFIBxFgBxFxDxFZtxFdcxFbBxFwXyDJXyDlcuASJuDJpuDIBuCpJuGSJuIJFueEFuZIJusJXudWEuoIBuWGJuFBcuFKEuFNFuFQFuFDJuFGJuFVJuFUtuFdHuFTBmBYJmNJYmQhkmLJDmLJomIdXmiJYmvJRmsJRmklmmMBymMuCmclmmcnQiJABiJBNiJBDiBSFiBCJiBEFiBYBiBpFiBLXiBTHiJNciDEfiCZJiECJiJEqiOkHiHKFieNDiHJQieQcieDHieSFieCXieGFieEFieIHiegFihUJixNoioNXiFaBiFKFiFNDiFEPiFYXitFOitFHiFgBiFVEiFmXiFitiFbBiFMFiFrFUCXQUIoQUIJcUHQJUeCEUHwXUUJDUUqXUdWcUcqXUrnQUFNDUFSHUFCFUFEfUFLXUtFOZBXOZXSBZXpFZXVXZEQJZEJkZpDJZOqXZeNHZeCDZUqXZFBQZFEHZFLXvBAFvBKFvBCXvBEPvBpHvBIDvBgFvBuHvQNJvFNFvFGBvFIBvJFcsXCDsXLXsXsXsXlFsXcHsQqXsJQFsEqXseIFsFEHsFjDdBxOdNpRdNJRdEJbdpJRdhZJdnSJdrjNdFNJdFQHdFhNkNJDkYaRkHNRkHSRkVbRkuMRkjSJkcqDoSJFoEiJoYZJoOfXohEBoMGQocqXbBAFbBXFbBaFbBNDbBGBbBLXbBTBbBWDbGJYbIJHbFQqbFpQlDgQlOrFlVJRjGEBjZJRnXvJnXbBnEfHnOPDngJRnxfXnUJWwXEJwNpJwDpBwEfXwrEBMDCJMDGHMDIJMLJDcQGDcQpHcqXccqNFcqCXcFCJRBSBRBGBRBEJRBpQTBNFTBQJTBpBTBVXTFABTFSBTFCFTFGBTFMDrXCJrXLDrDNJrEfHrFQJrFitWNjdWNTR","AKLJMANOPFASNJIAEJWXAYJNRAIIbRAIcdaAeEfDAgidRAdjNYAMYEJAMIbRAFNJBAFpJFBBIJYBDZJFBSiJhBGdEBBEJfXBEJqXBEJWRBpaUJBLXrXBIYJMBOcfXBeEfFBestXBjNJRBcDJOBFEqXXNvJRXDMBhXCJNYXOAWpXONJWXHDEBXeIaRXhYJDXZJSJXMDJOXcASJXFVJXaBQqXaBZJFasXdQaFSJQaFEfXaFpJHaFOqXKBNSRKXvJBKQJhXKEJQJKEJGFKINJBKIJjNKgJNSKVElmKVhEBKiJGFKlBgJKjnUJKwsJYKMFIJKFNJDKFIJFKFOfXNJBSFNJBCXNBpJFNJBvQNJBMBNJLJXNJOqXNJeCXNJeGFNdsJCNbTKFNwXUJQNFEPQDiJcQDMSJQSFpBQGMQJQJeOcQyCJEQUJEBQJFBrQFEJqDXDJFDJXpBDJXIMDGiJhDIJGRDJeYcDHrDJDVXgFDkAWpDkIgRDjDEqDMvJRDJFNFDJFIBSKclmSJQOFSJQVHSJQjDSJGJBSJGJFSECJoSHEJqSJHTBSJVJDSViJYSZJNBSJsJDSFSJFSFEfXSJFLXCBUJVCJXSBCJXpBCXVJXCJXsXCJXdFCJNJHCLIJgCHiJFCVNJMChCJhCUHEJCsJTRCJdYcCoQJCCFEfXCFIJgCFUJxCFstFGJBaQGJBIDGQJqXGYJNRGJHKFGeQqDGHEJFGJeLXGHIiJGHdBlGUJEBGkIJTGFQPDGJFEqEAGegEJIJBEJVJXEhQJTEiJNcEJZJFEJoEqEjDEqEPDsXEPGJBEPOqXEPeQFEfDiDEJfEFEfepQEfMiJEqXNBEqDIDEqeSFEqVJXEMvJRYXNJDYXEJHYKVJcYYJEBYJeEcYJUqXYFpJFYFstXpAZJMpBSJFpNBNFpeQPDpHLJDpHIJFpHgJFpeitFpHZJFpJFADpFSJFpJFCJpFOqXpFitBpJFZJLXIJFLIJgRLVNJWLVHJMLwNpJLFGJBLFLJDLFOqXLJFUJIBDJXIBGJBIJBYQIJBIBIBOqXIBcqDIEGJFILNJTIIJEBIOiJhIJeNBIJeIBIhiJIIWoTRIJFAHIJFpBIJFuHIFUtFIJFTHOSBYJOEcqXOHEJqOvBpFOkVJrObBVJOncqDOcNJkHhNJRHuHJuHdMhBgBUqXgBsJXgONJBgHNJDgHHJQgJeitgHsJXgJyNagyDJBgZJDrgsVJQgkEJNgkjSJgJFAHgFCJDgFZtMVJXNFVXQfXVJXDJVXoQJVQVJQVDEfXVDvJHVEqNFVeQfXVHpJFVHxfXVVJSRVVmaRVlIJOhCXVJhHjYkhxCJVhWVUJhWiJcxBNJIxeEqDxfXBFxcFEPxFSJFxFYJXyBDQJydaUJyFOPDuYCJYuLvJRuHLJXuZJLDuFOPDuFZJHuFcqXmKHJdmCQJcmOsVJiJAGFitLCFieOfXiestXiZJMEikNJQirXzFiFQqXiFIJFiFZJFiFvtFUHpJFUteIcUteOcUVCJkUhdHcUbEJEUJqXQUMNJhURjYkUFitFZDGJHZJIxDZJVJXZJFDJZJFpQvBNJBvBSJFvJxBrseQqDsVFVJdFLJDkEJNBkmNJYkFLJDoQJOPoGsJRoEAHBoEJfFbBQqDbBZJHbFVJXlFIJBjYIrXjeitcjjCEBjWMNBwXQfXwXOaFwDsJXwCJTRwrCZJMDNJQcDDJFcqDOPRYiJFTBsJXTQIJBTFEfXTFLJDrXEJFrEJXMrFZJFWEJdEWYTlm","ABCDEFACNJTRAMBDJdAcNJVXBLNJEBXSIdWRXErNJkXYDJMBXZJCJaXMNJaYKKVJKcKDEJqXKDcNJhKVJrNYKbgJVXKFVJSBNBYBwDNJeQfXNJeEqXNhGJWENJFiJRQlIJbEQJfXxDQqXcfXQFNDEJQFwXUJDYcnUJDJIBgQDIUJTRDJFEqDSJQSJFSJQIJFSOPeZtSJFZJHCJXQfXCTDEqFGJBSJFGJBOfXGJBcqXGJHNJDGJRLiJEJfXEqEJFEJPEFpBEJYJBZJFYBwXUJYiJMEBYJZJyTYTONJXpQMFXFpeGIDdpJFstXpJFcPDLBVSJRLHQJqXLJFZJFIJBNJDIJBUqXIBkFDJIJEJPTIYJGWRIJeQPDIJeEfHIJFsJXOqGDSFHXEJqXgJCsJCgGQJqXgdQYJEgFMFNBgJFcqDVJwXUJVJFZJchIgJCCxOEJqXxOwXUJyDJBVRuscisciJBiJBieUtqXiJFDJkiFsJXQUGEZJcUJFsJXZtXIrXZDZJDrZJFNJDZJFstXvJFQqXvJFCJEsJXQJqkhkNGBbDJdTRbYJMEBlDwXUJMEFiJFcfXNJDRcNJWMTBLJXC","BraFUtHBFSJFdbNBLJXVJQoYJNEBSJBEJfHSJHwXUJCJdAZJMGjaFVJXEJPNJBlEJfFiJFpFbFEJqIJBVJCrIBdHiJhOPFChvJVJZJNJWxGFNIFLueIBQJqUHEJfUFstOZJDrlXEASJRlXVJXSFwVJNJWD","QJEJNNJDQJEJIBSFQJEJxegBQJEJfHEPSJBmXEJFSJCDEJqXLXNJFQqXIcQsFNJFIFEJqXUJgFsJXIJBUJEJfHNFvJxEqXNJnXUJFQqD","IJBEJqXZJ"],Nmr="~~AzB~X~a~KN~Q~D~S~C~G~E~Y~p~L~I~O~eH~g~V~hxyumi~~U~~Z~~v~~s~~dkoblPjfnqwMcRTr~W~~~F~~~~~Jt",Fbe=null;function ngt(t){return ve(jr(t))}var Omr="0xe3818de38284e3818f",Pmr="0xe3818de38283e3818f";function Rp(t){return Ki(new Uint8Array(t))}function igt(){if(Fbe!==null)return Fbe;let t=[],e={};e[Rp([227,130,154])]=!1,e[Rp([227,130,153])]=!1,e[Rp([227,130,133])]=Rp([227,130,134]),e[Rp([227,129,163])]=Rp([227,129,164]),e[Rp([227,130,131])]=Rp([227,130,132]),e[Rp([227,130,135])]=Rp([227,130,136]);function r(o){let s="";for(let a=0;a<o.length;a++){let c=o[a],l=e[c];l!==!1&&(l&&(c=l),s+=c)}return s}function n(o,s){return o=r(o),s=r(s),o<s?-1:o>s?1:0}for(let o=3;o<=9;o++){let s=Cmr[o-3];for(let a=0;a<s.length;a+=o){let c=[];for(let l=0;l<o;l++){let u=Nmr.indexOf(s[a+l]);c.push(227),c.push(u&64?130:129),c.push((u&63)+128)}t.push(Rp(c))}}if(t.sort(n),ngt(t[442])===Omr&&ngt(t[443])===Pmr){let o=t[442];t[442]=t[443],t[443]=o}if(Si(t.join(`
`)+`
`)!=="0xcb36b09e6baa935787fd762ce65e80b0c6a8dabdfbc3a7f86ac0e2c4fd111600")throw new Error("BIP39 Wordlist for ja (Japanese) FAILED");return Fbe=t,t}var zbe=null,lG=class t extends El{constructor(){super("ja")}getWord(e){let r=igt();return W(e>=0&&e<r.length,`invalid word index: ${e}`,"index",e),r[e]}getWordIndex(e){return igt().indexOf(e)}split(e){return e.split(/(?:\u3000| )+/g)}join(e){return e.join("\u3000")}static wordlist(){return zbe==null&&(zbe=new t),zbe}};var kmr=["OYAa","ATAZoATBl3ATCTrATCl8ATDloATGg3ATHT8ATJT8ATJl3ATLlvATLn4ATMT8ATMX8ATMboATMgoAToLbAToMTATrHgATvHnAT3AnAT3JbAT3MTAT8DbAT8JTAT8LmAT8MYAT8MbAT#LnAUHT8AUHZvAUJXrAUJX8AULnrAXJnvAXLUoAXLgvAXMn6AXRg3AXrMbAX3JTAX3QbAYLn3AZLgvAZrSUAZvAcAZ8AaAZ8AbAZ8AnAZ8HnAZ8LgAZ8MYAZ8MgAZ8OnAaAboAaDTrAaFTrAaJTrAaJboAaLVoAaMXvAaOl8AaSeoAbAUoAbAg8AbAl4AbGnrAbMT8AbMXrAbMn4AbQb8AbSV8AbvRlAb8AUAb8AnAb8HgAb8JTAb8NTAb8RbAcGboAcLnvAcMT8AcMX8AcSToAcrAaAcrFnAc8AbAc8MgAfGgrAfHboAfJnvAfLV8AfLkoAfMT8AfMnoAfQb8AfScrAfSgrAgAZ8AgFl3AgGX8AgHZvAgHgrAgJXoAgJX8AgJboAgLZoAgLn4AgOX8AgoATAgoAnAgoCUAgoJgAgoLXAgoMYAgoSeAgrDUAgrJTAhrFnAhrLjAhrQgAjAgoAjJnrAkMX8AkOnoAlCTvAlCV8AlClvAlFg4AlFl6AlFn3AloSnAlrAXAlrAfAlrFUAlrFbAlrGgAlrOXAlvKnAlvMTAl3AbAl3MnAnATrAnAcrAnCZ3AnCl8AnDg8AnFboAnFl3AnHX4AnHbrAnHgrAnIl3AnJgvAnLXoAnLX4AnLbrAnLgrAnLhrAnMXoAnMgrAnOn3AnSbrAnSeoAnvLnAn3OnCTGgvCTSlvCTvAUCTvKnCTvNTCT3CZCT3GUCT3MTCT8HnCUCZrCULf8CULnvCU3HnCU3JUCY6NUCbDb8CbFZoCbLnrCboOTCboScCbrFnCbvLnCb8AgCb8HgCb$LnCkLfoClBn3CloDUDTHT8DTLl3DTSU8DTrAaDTrLXDTrLjDTrOYDTrOgDTvFXDTvFnDT3HUDT3LfDUCT9DUDT4DUFVoDUFV8DUFkoDUGgrDUJnrDULl8DUMT8DUMXrDUMX4DUMg8DUOUoDUOgvDUOg8DUSToDUSZ8DbDXoDbDgoDbGT8DbJn3DbLg3DbLn4DbMXrDbMg8DbOToDboJXGTClvGTDT8GTFZrGTLVoGTLlvGTLl3GTMg8GTOTvGTSlrGToCUGTrDgGTrJYGTrScGTtLnGTvAnGTvQgGUCZrGUDTvGUFZoGUHXrGULnvGUMT8GUoMgGXoLnGXrMXGXrMnGXvFnGYLnvGZOnvGZvOnGZ8LaGZ8LmGbAl3GbDYvGbDlrGbHX3GbJl4GbLV8GbLn3GbMn4GboJTGboRfGbvFUGb3GUGb4JnGgDX3GgFl$GgJlrGgLX6GgLZoGgLf8GgOXoGgrAgGgrJXGgrMYGgrScGgvATGgvOYGnAgoGnJgvGnLZoGnLg3GnLnrGnQn8GnSbrGnrMgHTClvHTDToHTFT3HTQT8HToJTHToJgHTrDUHTrMnHTvFYHTvRfHT8MnHT8SUHUAZ8HUBb4HUDTvHUoMYHXFl6HXJX6HXQlrHXrAUHXrMnHXrSbHXvFYHXvKXHX3LjHX3MeHYvQlHZrScHZvDbHbAcrHbFT3HbFl3HbJT8HbLTrHbMT8HbMXrHbMbrHbQb8HbSX3HboDbHboJTHbrFUHbrHgHbrJTHb8JTHb8MnHb8QgHgAlrHgDT3HgGgrHgHgrHgJTrHgJT8HgLX@HgLnrHgMT8HgMX8HgMboHgOnrHgQToHgRg3HgoHgHgrCbHgrFnHgrLVHgvAcHgvAfHnAloHnCTrHnCnvHnGTrHnGZ8HnGnvHnJT8HnLf8HnLkvHnMg8HnRTrITvFUITvFnJTAXrJTCV8JTFT3JTFT8JTFn4JTGgvJTHT8JTJT8JTJXvJTJl3JTJnvJTLX4JTLf8JTLhvJTMT8JTMXrJTMnrJTObrJTQT8JTSlvJT8DUJT8FkJT8MTJT8OXJT8OgJT8QUJT8RfJUHZoJXFT4JXFlrJXGZ8JXGnrJXLV8JXLgvJXMXoJXMX3JXNboJXPlvJXoJTJXoLkJXrAXJXrHUJXrJgJXvJTJXvOnJX4KnJYAl3JYJT8JYLhvJYQToJYrQXJY6NUJbAl3JbCZrJbDloJbGT8JbGgrJbJXvJbJboJbLf8JbLhrJbLl3JbMnvJbRg8JbSZ8JboDbJbrCZJbrSUJb3KnJb8LnJfRn8JgAXrJgCZrJgDTrJgGZrJgGZ8JgHToJgJT8JgJXoJgJgvJgLX4JgLZ3JgLZ8JgLn4JgMgrJgMn4JgOgvJgPX6JgRnvJgSToJgoCZJgoJbJgoMYJgrJXJgrJgJgrLjJg6MTJlCn3JlGgvJlJl8Jl4AnJl8FnJl8HgJnAToJnATrJnAbvJnDUoJnGnrJnJXrJnJXvJnLhvJnLnrJnLnvJnMToJnMT8JnMXvJnMX3JnMg8JnMlrJnMn4JnOX8JnST4JnSX3JnoAgJnoAnJnoJTJnoObJnrAbJnrAkJnrHnJnrJTJnrJYJnrOYJnrScJnvCUJnvFaJnvJgJnvJnJnvOYJnvQUJnvRUJn3FnJn3JTKnFl3KnLT6LTDlvLTMnoLTOn3LTRl3LTSb4LTSlrLToAnLToJgLTrAULTrAcLTrCULTrHgLTrMgLT3JnLULnrLUMX8LUoJgLVATrLVDTrLVLb8LVoJgLV8MgLV8RTLXDg3LXFlrLXrCnLXrLXLX3GTLX4GgLX4OYLZAXrLZAcrLZAgrLZAhrLZDXyLZDlrLZFbrLZFl3LZJX6LZJX8LZLc8LZLnrLZSU8LZoJTLZoJnLZrAgLZrAnLZrJYLZrLULZrMgLZrSkLZvAnLZvGULZvJeLZvOTLZ3FZLZ4JXLZ8STLZ8ScLaAT3LaAl3LaHT8LaJTrLaJT8LaJXrLaJgvLaJl4LaLVoLaMXrLaMXvLaMX8LbClvLbFToLbHlrLbJn4LbLZ3LbLhvLbMXrLbMnoLbvSULcLnrLc8HnLc8MTLdrMnLeAgoLeOgvLeOn3LfAl3LfLnvLfMl3LfOX8Lf8AnLf8JXLf8LXLgJTrLgJXrLgJl8LgMX8LgRZrLhCToLhrAbLhrFULhrJXLhvJYLjHTrLjHX4LjJX8LjLhrLjSX3LjSZ4LkFX4LkGZ8LkGgvLkJTrLkMXoLkSToLkSU8LkSZ8LkoOYLl3FfLl3MgLmAZrLmCbrLmGgrLmHboLmJnoLmJn3LmLfoLmLhrLmSToLnAX6LnAb6LnCZ3LnCb3LnDTvLnDb8LnFl3LnGnrLnHZvLnHgvLnITvLnJT8LnJX8LnJlvLnLf8LnLg6LnLhvLnLnoLnMXrLnMg8LnQlvLnSbrLnrAgLnrAnLnrDbLnrFkLnrJdLnrMULnrOYLnrSTLnvAnLnvDULnvHgLnvOYLnvOnLn3GgLn4DULn4JTLn4JnMTAZoMTAloMTDb8MTFT8MTJnoMTJnrMTLZrMTLhrMTLkvMTMX8MTRTrMToATMTrDnMTrOnMT3JnMT4MnMT8FUMT8FaMT8FlMT8GTMT8GbMT8GnMT8HnMT8JTMT8JbMT8OTMUCl8MUJTrMUJU8MUMX8MURTrMUSToMXAX6MXAb6MXCZoMXFXrMXHXrMXLgvMXOgoMXrAUMXrAnMXrHgMXrJYMXrJnMXrMTMXrMgMXrOYMXrSZMXrSgMXvDUMXvOTMX3JgMX3OTMX4JnMX8DbMX8FnMX8HbMX8HgMX8HnMX8LbMX8MnMX8OnMYAb8MYGboMYHTvMYHX4MYLTrMYLnvMYMToMYOgvMYRg3MYSTrMbAToMbAXrMbAl3MbAn8MbGZ8MbJT8MbJXrMbMXvMbMX8MbMnoMbrMUMb8AfMb8FbMb8FkMcJXoMeLnrMgFl3MgGTvMgGXoMgGgrMgGnrMgHT8MgHZrMgJnoMgLnrMgLnvMgMT8MgQUoMgrHnMgvAnMg8HgMg8JYMg8LfMloJnMl8ATMl8AXMl8JYMnAToMnAT4MnAZ8MnAl3MnAl4MnCl8MnHT8MnHg8MnJnoMnLZoMnLhrMnMXoMnMX3MnMnrMnOgvMnrFbMnrFfMnrFnMnrNTMnvJXNTMl8OTCT3OTFV8OTFn3OTHZvOTJXrOTOl3OT3ATOT3JUOT3LZOT3LeOT3MbOT8ATOT8AbOT8AgOT8MbOUCXvOUMX3OXHXvOXLl3OXrMUOXvDbOX6NUOX8JbOYFZoOYLbrOYLkoOYMg8OYSX3ObHTrObHT4ObJgrObLhrObMX3ObOX8Ob8FnOeAlrOeJT8OeJXrOeJnrOeLToOeMb8OgJXoOgLXoOgMnrOgOXrOgOloOgoAgOgoJbOgoMYOgoSTOg8AbOjLX4OjMnoOjSV8OnLVoOnrAgOn3DUPXQlrPXvFXPbvFTPdAT3PlFn3PnvFbQTLn4QToAgQToMTQULV8QURg8QUoJnQXCXvQbFbrQb8AaQb8AcQb8FbQb8MYQb8ScQeAlrQeLhrQjAn3QlFXoQloJgQloSnRTLnvRTrGURTrJTRUJZrRUoJlRUrQnRZrLmRZrMnRZrSnRZ8ATRZ8JbRZ8ScRbMT8RbST3RfGZrRfMX8RfMgrRfSZrRnAbrRnGT8RnvJgRnvLfRnvMTRn8AaSTClvSTJgrSTOXrSTRg3STRnvSToAcSToAfSToAnSToHnSToLjSToMTSTrAaSTrEUST3BYST8AgST8LmSUAZvSUAgrSUDT4SUDT8SUGgvSUJXoSUJXvSULTrSU8JTSU8LjSV8AnSV8JgSXFToSXLf8SYvAnSZrDUSZrMUSZrMnSZ8HgSZ8JTSZ8JgSZ8MYSZ8QUSaQUoSbCT3SbHToSbQYvSbSl4SboJnSbvFbSb8HbSb8JgSb8OTScGZrScHgrScJTvScMT8ScSToScoHbScrMTScvAnSeAZrSeAcrSeHboSeJUoSeLhrSeMT8SeMXrSe6JgSgHTrSkJnoSkLnvSk8CUSlFl3SlrSnSl8GnSmAboSmGT8SmJU8","ATLnDlATrAZoATrJX4ATrMT8ATrMX4ATrRTrATvDl8ATvJUoATvMl8AT3AToAT3MX8AT8CT3AT8DT8AT8HZrAT8HgoAUAgFnAUCTFnAXoMX8AXrAT8AXrGgvAXrJXvAXrOgoAXvLl3AZvAgoAZvFbrAZvJXoAZvJl8AZvJn3AZvMX8AZvSbrAZ8FZoAZ8LZ8AZ8MU8AZ8OTvAZ8SV8AZ8SX3AbAgFZAboJnoAbvGboAb8ATrAb8AZoAb8AgrAb8Al4Ab8Db8Ab8JnoAb8LX4Ab8LZrAb8LhrAb8MT8Ab8OUoAb8Qb8Ab8ST8AcrAUoAcrAc8AcrCZ3AcrFT3AcrFZrAcrJl4AcrJn3AcrMX3AcrOTvAc8AZ8Ac8MT8AfAcJXAgoFn4AgoGgvAgoGnrAgoLc8AgoMXoAgrLnrAkrSZ8AlFXCTAloHboAlrHbrAlrLhrAlrLkoAl3CZrAl3LUoAl3LZrAnrAl4AnrMT8An3HT4BT3IToBX4MnvBb!Ln$CTGXMnCToLZ4CTrHT8CT3JTrCT3RZrCT#GTvCU6GgvCU8Db8CU8GZrCU8HT8CboLl3CbrGgrCbrMU8Cb8DT3Cb8GnrCb8LX4Cb8MT8Cb8ObrCgrGgvCgrKX4Cl8FZoDTrAbvDTrDboDTrGT6DTrJgrDTrMX3DTrRZrDTrRg8DTvAVvDTvFZoDT3DT8DT3Ln3DT4HZrDT4MT8DT8AlrDT8MT8DUAkGbDUDbJnDYLnQlDbDUOYDbMTAnDbMXSnDboAT3DboFn4DboLnvDj6JTrGTCgFTGTGgFnGTJTMnGTLnPlGToJT8GTrCT3GTrLVoGTrLnvGTrMX3GTrMboGTvKl3GZClFnGZrDT3GZ8DTrGZ8FZ8GZ8MXvGZ8On8GZ8ST3GbCnQXGbMbFnGboFboGboJg3GboMXoGb3JTvGb3JboGb3Mn6Gb3Qb8GgDXLjGgMnAUGgrDloGgrHX4GgrSToGgvAXrGgvAZvGgvFbrGgvLl3GgvMnvGnDnLXGnrATrGnrMboGnuLl3HTATMnHTAgCnHTCTCTHTrGTvHTrHTvHTrJX8HTrLl8HTrMT8HTrMgoHTrOTrHTuOn3HTvAZrHTvDTvHTvGboHTvJU8HTvLl3HTvMXrHTvQb4HT4GT6HT4JT8HT4Jb#HT8Al3HT8GZrHT8GgrHT8HX4HT8Jb8HT8JnoHT8LTrHT8LgvHT8SToHT8SV8HUoJUoHUoJX8HUoLnrHXrLZoHXvAl3HX3LnrHX4FkvHX4LhrHX4MXoHX4OnoHZrAZ8HZrDb8HZrGZ8HZrJnrHZvGZ8HZvLnvHZ8JnvHZ8LhrHbCXJlHbMTAnHboJl4HbpLl3HbrJX8HbrLnrHbrMnvHbvRYrHgoSTrHgrFV8HgrGZ8HgrJXoHgrRnvHgvBb!HgvGTrHgvHX4HgvHn!HgvLTrHgvSU8HnDnLbHnFbJbHnvDn8Hn6GgvHn!BTvJTCTLnJTQgFnJTrAnvJTrLX4JTrOUoJTvFn3JTvLnrJTvNToJT3AgoJT3Jn4JT3LhvJT3ObrJT8AcrJT8Al3JT8JT8JT8JnoJT8LX4JT8LnrJT8MX3JT8Rg3JT8Sc8JUoBTvJU8AToJU8GZ8JU8GgvJU8JTrJU8JXrJU8JnrJU8LnvJU8ScvJXHnJlJXrGgvJXrJU8JXrLhrJXrMT8JXrMXrJXrQUoJXvCTvJXvGZ8JXvGgrJXvQT8JX8Ab8JX8DT8JX8GZ8JX8HZvJX8LnrJX8MT8JX8MXoJX8MnvJX8ST3JYGnCTJbAkGbJbCTAnJbLTAcJboDT3JboLb6JbrAnvJbrCn3JbrDl8JbrGboJbrIZoJbrJnvJbrMnvJbrQb4Jb8RZrJeAbAnJgJnFbJgScAnJgrATrJgvHZ8JgvMn4JlJlFbJlLiQXJlLjOnJlRbOlJlvNXoJlvRl3Jl4AcrJl8AUoJl8MnrJnFnMlJnHgGbJnoDT8JnoFV8JnoGgvJnoIT8JnoQToJnoRg3JnrCZ3JnrGgrJnrHTvJnrLf8JnrOX8JnvAT3JnvFZoJnvGT8JnvJl4JnvMT8JnvMX8JnvOXrJnvPX6JnvSX3JnvSZrJn3MT8Jn3MX8Jn3RTrLTATKnLTJnLTLTMXKnLTRTQlLToGb8LTrAZ8LTrCZ8LTrDb8LTrHT8LT3PX6LT4FZoLT$CTvLT$GgrLUvHX3LVoATrLVoAgoLVoJboLVoMX3LVoRg3LV8CZ3LV8FZoLV8GTvLXrDXoLXrFbrLXvAgvLXvFlrLXvLl3LXvRn6LX4Mb8LX8GT8LYCXMnLYrMnrLZoSTvLZrAZvLZrAloLZrFToLZrJXvLZrJboLZrJl4LZrLnrLZrMT8LZrOgvLZrRnvLZrST4LZvMX8LZvSlvLZ8AgoLZ8CT3LZ8JT8LZ8LV8LZ8LZoLZ8Lg8LZ8SV8LZ8SbrLZ$HT8LZ$Mn4La6CTvLbFbMnLbRYFTLbSnFZLboJT8LbrAT9LbrGb3LbrQb8LcrJX8LcrMXrLerHTvLerJbrLerNboLgrDb8LgrGZ8LgrHTrLgrMXrLgrSU8LgvJTrLgvLl3Lg6Ll3LhrLnrLhrMT8LhvAl4LiLnQXLkoAgrLkoJT8LkoJn4LlrSU8Ll3FZoLl3HTrLl3JX8Ll3JnoLl3LToLmLeFbLnDUFbLnLVAnLnrATrLnrAZoLnrAb8LnrAlrLnrGgvLnrJU8LnrLZrLnrLhrLnrMb8LnrOXrLnrSZ8LnvAb4LnvDTrLnvDl8LnvHTrLnvHbrLnvJT8LnvJU8LnvJbrLnvLhvLnvMX8LnvMb8LnvNnoLnvSU8Ln3Al3Ln4FZoLn4GT6Ln4JgvLn4LhrLn4MT8Ln4SToMToCZrMToJX8MToLX4MToLf8MToRg3MTrEloMTvGb6MT3BTrMT3Lb6MT8AcrMT8AgrMT8GZrMT8JnoMT8LnrMT8MX3MUOUAnMXAbFnMXoAloMXoJX8MXoLf8MXoLl8MXrAb8MXrDTvMXrGT8MXrGgrMXrHTrMXrLf8MXrMU8MXrOXvMXrQb8MXvGT8MXvHTrMXvLVoMX3AX3MX3Jn3MX3LhrMX3MX3MX4AlrMX4OboMX8GTvMX8GZrMX8GgrMX8JT8MX8JX8MX8LhrMX8MT8MYDUFbMYMgDbMbGnFfMbvLX4MbvLl3Mb8Mb8Mb8ST4MgGXCnMg8ATrMg8AgoMg8CZrMg8DTrMg8DboMg8HTrMg8JgrMg8LT8MloJXoMl8AhrMl8JT8MnLgAUMnoJXrMnoLX4MnoLhrMnoMT8MnrAl4MnrDb8MnrOTvMnrOgvMnrQb8MnrSU8MnvGgrMnvHZ8Mn3MToMn4DTrMn4LTrMn4Mg8NnBXAnOTFTFnOToAToOTrGgvOTrJX8OT3JXoOT6MTrOT8GgrOT8HTpOT8MToOUoHT8OUoJT8OUoLn3OXrAgoOXrDg8OXrMT8OXvSToOX6CTvOX8CZrOX8OgrOb6HgvOb8AToOb8MT8OcvLZ8OgvAlrOgvHTvOgvJTrOgvJnrOgvLZrOgvLn4OgvMT8OgvRTrOg8AZoOg8DbvOnrOXoOnvJn4OnvLhvOnvRTrOn3GgoOn3JnvOn6JbvOn8OTrPTGYFTPbBnFnPbGnDnPgDYQTPlrAnvPlrETvPlrLnvPlrMXvPlvFX4QTMTAnQTrJU8QYCnJlQYJlQlQbGTQbQb8JnrQb8LZoQb8LnvQb8MT8Qb8Ml8Qb8ST4QloAl4QloHZvQloJX8QloMn8QnJZOlRTrAZvRTrDTrRTvJn4RTvLhvRT4Jb8RZrAZrRZ8AkrRZ8JU8RZ8LV8RZ8LnvRbJlQXRg3GboRg3MnvRg8AZ8Rg8JboRg8Jl4RnLTCbRnvFl3RnvQb8SToAl4SToCZrSToFZoSToHXrSToJU8SToJgvSToJl4SToLhrSToMX3STrAlvSTrCT9STrCgrSTrGgrSTrHXrSTrHboSTrJnoSTrNboSTvLnrST4AZoST8Ab8ST8JT8SUoJn3SU6HZ#SU6JTvSU8Db8SU8HboSU8LgrSV8JT8SZrAcrSZrAl3SZrJT8SZrJnvSZrMT8SZvLUoSZ4FZoSZ8JnoSZ8RZrScoLnrScoMT8ScoMX8ScrAT4ScrAZ8ScrLZ8ScrLkvScvDb8ScvLf8ScvNToSgrFZrShvKnrSloHUoSloLnrSlrMXoSl8HgrSmrJUoSn3BX6","ATFlOn3ATLgrDYAT4MTAnAT8LTMnAYJnRTrAbGgJnrAbLV8LnAbvNTAnAeFbLg3AgOYMXoAlQbFboAnDboAfAnJgoJTBToDgAnBUJbAl3BboDUAnCTDlvLnCTFTrSnCYoQTLnDTwAbAnDUDTrSnDUHgHgrDX8LXFnDbJXAcrETvLTLnGTFTQbrGTMnGToGT3DUFbGUJlPX3GbQg8LnGboJbFnGb3GgAYGgAg8ScGgMbAXrGgvAbAnGnJTLnvGnvATFgHTDT6ATHTrDlJnHYLnMn8HZrSbJTHZ8LTFnHbFTJUoHgSeMT8HgrLjAnHgvAbAnHlFUrDlHnDgvAnHnHTFT3HnQTGnrJTAaMXvJTGbCn3JTOgrAnJXvAXMnJbMg8SnJbMnRg3Jb8LTMnJnAl3OnJnGYrQlJnJlQY3LTDlCn3LTJjLg3LTLgvFXLTMg3GTLV8HUOgLXFZLg3LXNXrMnLX8QXFnLX9AlMYLYLXPXrLZAbJU8LZDUJU8LZMXrSnLZ$AgFnLaPXrDULbFYrMnLbMn8LXLboJgJgLeFbLg3LgLZrSnLgOYAgoLhrRnJlLkCTrSnLkOnLhrLnFX%AYLnFZoJXLnHTvJbLnLloAbMTATLf8MTHgJn3MTMXrAXMT3MTFnMUITvFnMXFX%AYMXMXvFbMXrFTDbMYAcMX3MbLf8SnMb8JbFnMgMXrMTMgvAXFnMgvGgCmMnAloSnMnFnJTrOXvMXSnOX8HTMnObJT8ScObLZFl3ObMXCZoPTLgrQXPUFnoQXPU3RXJlPX3RkQXPbrJXQlPlrJbFnQUAhrDbQXGnCXvQYLnHlvQbLfLnvRTOgvJbRXJYrQlRYLnrQlRbLnrQlRlFT8JlRlFnrQXSTClCn3STHTrAnSTLZQlrSTMnGTrSToHgGbSTrGTDnSTvGXCnST3HgFbSU3HXAXSbAnJn3SbFT8LnScLfLnv","AT3JgJX8AT8FZoSnAT8JgFV8AT8LhrDbAZ8JT8DbAb8GgLhrAb8SkLnvAe8MT8SnAlMYJXLVAl3GYDTvAl3LfLnvBUDTvLl3CTOn3HTrCT3DUGgrCU8MT8AbCbFTrJUoCgrDb8MTDTLV8JX8DTLnLXQlDT8LZrSnDUQb8FZ8DUST4JnvDb8ScOUoDj6GbJl4GTLfCYMlGToAXvFnGboAXvLnGgAcrJn3GgvFnSToGnLf8JnvGn#HTDToHTLnFXJlHTvATFToHTvHTDToHTvMTAgoHT3STClvHT4AlFl6HT8HTDToHUoDgJTrHUoScMX3HbRZrMXoHboJg8LTHgDb8JTrHgMToLf8HgvLnLnoHnHn3HT4Hn6MgvAnJTJU8ScvJT3AaQT8JT8HTrAnJXrRg8AnJbAloMXoJbrATFToJbvMnoSnJgDb6GgvJgDb8MXoJgSX3JU8JguATFToJlPYLnQlJlQkDnLbJlQlFYJlJl8Lf8OTJnCTFnLbJnLTHXMnJnLXGXCnJnoFfRg3JnrMYRg3Jn3HgFl3KT8Dg8LnLTRlFnPTLTvPbLbvLVoSbrCZLXMY6HT3LXNU7DlrLXNXDTATLX8DX8LnLZDb8JU8LZMnoLhrLZSToJU8LZrLaLnrLZvJn3SnLZ8LhrSnLaJnoMT8LbFlrHTvLbrFTLnrLbvATLlvLb6OTFn3LcLnJZOlLeAT6Mn4LeJT3ObrLg6LXFlrLhrJg8LnLhvDlPX4LhvLfLnvLj6JTFT3LnFbrMXoLnQluCTvLnrQXCY6LnvLfLnvLnvMgLnvLnvSeLf8MTMbrJn3MT3JgST3MT8AnATrMT8LULnrMUMToCZrMUScvLf8MXoDT8SnMX6ATFToMX8AXMT8MX8FkMT8MX8HTrDUMX8ScoSnMYJT6CTvMgAcrMXoMg8SToAfMlvAXLg3MnFl3AnvOT3AnFl3OUoATHT8OU3RnLXrOXrOXrSnObPbvFn6Og8HgrSnOg8OX8DbPTvAgoJgPU3RYLnrPXrDnJZrPb8CTGgvPlrLTDlvPlvFUJnoQUvFXrQlQeMnoAl3QlrQlrSnRTFTrJUoSTDlLiLXSTFg6HT3STJgoMn4STrFTJTrSTrLZFl3ST4FnMXoSUrDlHUoScvHTvSnSfLkvMXo","AUoAcrMXoAZ8HboAg8AbOg6ATFgAg8AloMXoAl3AT8JTrAl8MX8MXoCT3SToJU8Cl8Db8MXoDT8HgrATrDboOT8MXoGTOTrATMnGT8LhrAZ8GnvFnGnQXHToGgvAcrHTvAXvLl3HbrAZoMXoHgBlFXLg3HgMnFXrSnHgrSb8JUoHn6HT8LgvITvATrJUoJUoLZrRnvJU8HT8Jb8JXvFX8QT8JXvLToJTrJYrQnGnQXJgrJnoATrJnoJU8ScvJnvMnvMXoLTCTLgrJXLTJlRTvQlLbRnJlQYvLbrMb8LnvLbvFn3RnoLdCVSTGZrLeSTvGXCnLg3MnoLn3MToLlrETvMT8SToAl3MbrDU6GTvMb8LX4LhrPlrLXGXCnSToLf8Rg3STrDb8LTrSTvLTHXMnSb3RYLnMnSgOg6ATFg","HUDlGnrQXrJTrHgLnrAcJYMb8DULc8LTvFgGnCk3Mg8JbAnLX4QYvFYHnMXrRUoJnGnvFnRlvFTJlQnoSTrBXHXrLYSUJgLfoMT8Se8DTrHbDb","AbDl8SToJU8An3RbAb8ST8DUSTrGnrAgoLbFU6Db8LTrMg8AaHT8Jb8ObDl8SToJU8Pb3RlvFYoJl"],Dmr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*";function Mmr(t){return t>=40?t=t+168-40:t>=19&&(t=t+97-19),Ki(new Uint8Array([225,(t>>6)+132,(t&63)+128]))}var Vbe=null;function ogt(){if(Vbe!=null)return Vbe;let t=[];if(kmr.forEach((r,n)=>{n+=4;for(let i=0;i<r.length;i+=n){let o="";for(let s=0;s<n;s++)o+=Mmr(Dmr.indexOf(r[i+s]));t.push(o)}}),t.sort(),Si(t.join(`
`)+`
`)!=="0xf9eddeace9c5d3da9c93cf7d3cd38f6a13ed3affb933259ae865714e8a3ae71a")throw new Error("BIP39 Wordlist for ko (Korean) FAILED");return Vbe=t,t}var Hbe=null,uG=class t extends El{constructor(){super("ko")}getWord(e){let r=ogt();return W(e>=0&&e<r.length,`invalid word index: ${e}`,"index",e),r[e]}getWordIndex(e){return ogt().indexOf(e)}static wordlist(){return Hbe==null&&(Hbe=new t),Hbe}};var Lmr="0torea noica!iosorolotaleratelanena%oiadoencotivomai t ca%a0A]Bagl'Bin#E.Is(Oli!Rasi_Rog#0Cade!C[$Cus#E <Hil,I@QuaReRil>Roba+U 0Ag'Deb{DomeEgu#Eri!IpeOtt&Ul&1Fabi,Fe|Fis(F-n Oris`O(R~$0AveEn.E_,Ganc'I!It&OnismoR>*Rume Uzzo4AbardaA Bat)Ber#BoBumeCeCol>E|<FaGeb-Ian.IbiIm[ Lag#Leg)Lie_Lo@/Lusi_Me$Oge$Pa}Pest!Ta,=Ter$T%c'T)veUn$Veo*Z&0Alga`Ani+A!=B{Br#EbaEr~E^s+I]Mas(M[daMir&Mon{O!P'Pli&U, 0A}r@Ag-feAlis+Arch?At-CaCel/Co-D&D!aEl*Ge*Gol&Gus I`Neg&Nid#NoNunc'OnimoT%ipoZi1At>Ertu-OdePari!Pe^ Pogg'P)@Pun Ri,1Ab~AchideAgos+Ald~Anc'Atu-AzzoBit)Chiv'D{Eni,G[ Gi<Gu IaMon?NeseRed#RingaRos S[>SoTef%eZil*0Ciu|Col EpsiEtt>Fal I$O/Pir#P)Sagg'SeSolu Sur@TaT[u T%eT-|0Av>EismoOm>O$TesaTiv&Tor$Tr{Tua,0Sil'Str?Tis+To$moTun$0Anz#E!V[i!Vi(Volge!3Io<O ZimoZur):Be,C}$Ci$CoDessaDi/+Gn#I+L]<L@Le=L/+Lza$Mbi$Ndi!RaondaRba)R}R{$RlumeRoc]Sil>S(Tos+Ttu U,VaVosa3C]FfaLg'LvaNdaNe_,Nig$Nzi=ReRli=Ta3Bi+CiDo<Fi@GaLanc?MboNo]*O*goPedePol&Rban.R-S]|Ses S$n$Son.SturiZzar)2An@At+2Ll{Nif>R@S]Tan>T^$Zzo*2Acc'AdipoA`An}Avu-E.l/Eve|EzzaIgl?Il/n.Ind&Oc]*O@Onzi=Ul*U$2Bbo<CaDi$Ffo<IoLboO$R*<R-s}S(/S+:De|Du]La`)L]*LesseLib)LmoLor?MbusaMe-+M%?Mmi$Mo/Mpa,NapaNde/NeNi$No|N^=PacePel*P{*Pogi)Ppe)P-Psu/RapaceR}ssaR@Ris`Rova=R!|R li=Sacc'S}+Ser`SoS(<S.l*Sua,Tas+Te=T-meU Vil*3Dibi,D-+Fa*Leb!Llul&NaNo<N.simoRam~Rc&R RumeRvel*So?SpoTo2E/Ia)Ic}Iede!Ime-I=IrurgoI+r-0AoClismoFr&G$Lind)O|*R}R)siTr>T+di$UffoVet+Vi,2Ass>In~O)2C]Dar@D%eE!n.G$meLl&Lm#Lo!Lpo(L^v#LzaMaMe+M`n@Mo@Mpu.rMu<Nci(Ndur!Nfer`Ngel&NiugeN<s(Nosce!NsumoN^nuoNveg$Per P'<Pp?Pr~poRazzaRda+R%#Rn%eRol/RpoR!@Rs?R.seSm>S+n.Ttu-V#2A.!Avat+E#Ede!Emo(Esci+E+Ice I=,IsiIt>OceO=}Os++Uc?,Us}2Ci!Cu*Gi$Ll#Po/R#!R(!R_Sci$S de:DoI$L`+Meri$Nie/N$(Nz&T#Van^Vve)3Bu|C[n'Ci(Cli$Col*C! D%#Fin{FormeG$Leg&Lfi$Lir'L+M[zaNot#Nt)Pos{Rapa+Riv&RogaScri|Ser Sider'Sume!Tersi_Vo 3Amet)Cemb!Ed)Fe(Ffu(Geri!Gi+,Luv'Nam>N=nziPin P*`Po*Rad&ReRo|RupoSag'Sc! Sf&Sge*Spos S+nzaSu`$ToVa$Vel Vide!Vor#5B*<C[.Ga=,G`LceM#M[~Min&N@*NoRmi!TeT !Vu Zzi=2AgoUi@2Bb'Bit&Ca,NaOmoPl%eRatu):0A$0Ces(CoLissiO$m?0E-I]/I,I r?Uc&2Emon?LiOismoReg'4Abor#Argi!Egan.Enc#E|Ev&F>I}MoSaU(0An#B,`Es(I)O^_Oz'<Pir>U*0Dem>Du)Erg?FasiO.}Tr&Zi`1A^.I*goI(d'O},Pu!0U#!0Ar'BaBo(EdeEmi+Ige!Met>OeOsi_Ran.0Ago$AmeAnimeAudi!CaEmp'Erc{Ib{Ig[.Is.!I OfagoOrt#O(Pan(P!s(S[zaSoTe(Tim&Ton?T)(Ult&0Il>N>Rus]To0ClideoRopa0A(Id[zaIt#Olu Viva:Bbr~Cc[daChi)L]Migl?Na,Nfa-NgoN+s`ReRfal/Ri$(R`]Sc?S (Sul*T%&ToVo*(3Bb!Co/DeG#LpaLt)Mmi=Nde!Nome$Rm[ R)R^,Ssu-S^_T+U@3AbaDuc?FaGur#LoNanzaNest-Ni!O!S},S>Ume2A]<Am[]EboEm`Ori@U[.Uo)2B>Cacc?Co(Der#Gl'La+Lc*!Lgo!Nd[.Net>N?N+=Rb{Rchet+Res+Rm~R='RoR.zzaRz&Sf#S(2A}s(A=Assi$A.l*Eccet+E=+Es]IgoOlli$OndeUga,Ut+2Ci/+Cs?Gg[.Lmi<L_Man.Me|Mo(NeNz'<O]RboRgo<Ro!SoTi,:Bb?$FfeLa.oLli=LoppoMbe)M`Ranz?RboRofa$Rzo<S@|Sol'Str>T Ud'ZeboZzel/3CoLa^=L(Mel*Mm#NeN{!N='No^poRgo2Epar@Iacc'Isa0Al*LdaNep)Oc&Oiel*Or$OveR#Ro<T++Udiz'Ur#Us 2Obu*U^<1Omo0BbaLfM{Mmo<Nf'N=Ver$2Aci,A@Af>AmmoAndeAtt&A_(Az?E}EggeIfo<Ig'InzaOt+Uppo2Adag$A'An Ard&FoId&::0Ern#0O=0Ent>Ill'O*RaR>Roge$2Ie<Na)Nor#4A!Le(Log>Lude!0Bal*Bevu Boc]Bu Ma<Mer(Mol#Pac]Pe PiegoPor P)n+0Al&Arc&At^_Can C[d'Chi$Cisi_Clu(Cont)C)c'CuboDagi<D?Do,Ed{Fat^Fil&Fli|Gagg'Geg$G,seGor@G)s(Nes]O@!Oltr&Ond#Sa$Se|SiemeSonn?Suli=Tas#Te)To=]Tu{Umidi!Vali@VeceV{1Erbo,Not>O.siP~1IdeLandaOn>Rig#Ror&0Ol#O poTer>Titu Tr%e0Al?Er&:::Bb)Birin C}Cer#Cri`Cu=D@veGoMpoNcet+N.r=R@(RgaRingeSt-T[zaTi$TtugaVag=Vo)3Ga,Gge)MboN.zzaNzaO<P!Si_Ss#S T.-,VaVig#3Be)DoEv{L/Matu-Mit&Mpi@Ne&NguaQui@RaR~S}TeTig'V!a5CandaDeG~Mb&Nd-Nge_QuaceR[zoToT.r?5CeCid#Ma}Mi$(NgoPoPpo*SingaS(T :Cab)Cchi=Ce)Cin#Da`G>Gl?G<.G)Iol~LafedeLg-@Lin.(Lsa$L Lumo!NaNc?N@r/Ngi&Nifes N=)Nov-NsardaN^deNubr'PpaR#=Rci!Ret+RmoRsup'Sche-Ssa?S^$Te-s(Tr>/T <Tu)Zur}3And)C}n>Ce=.DesimoDit&GaLassaLisLod?NingeNoN(/Rcur'R[daR*Schi$SeSse!S *Tal*To@T.!3Agol&CaCel'Che,C)boDol*E,Gl'!La$Li.MosaNe-,NiNo!Ri$R^l*Sce/SsivaS Sur&TezzaTig&T-T.n.4Emon>0Del*Dif~Du*Ga$G'LeLos(Nas.)N]Ndi=Ne+r'Ni,No $N(<Nt#Nvi(RaRde!Rs%#St)Tiv#TosegaT V[zaVim[ Zzo5C}CosaFfaGhe|G='La|Li<l*L^p*Mm?N Ove!Ra,SaS]*S~Te_,To:BabboF+Nomet)Rci(R%eRr#Sce!Str&Tu-,Ut~Vigl'3Bu*saC)siGa^_Goz'Mme$Ofi+Re|R_Ssu$Ttu$Ut-,VeV)t>3Cch?NfaTi@5Bi,Ci_DoMeMi=Rd>R`,RvegeseSt-$T&Tiz?Ttur$Vel/5C,oL/Me)O_Tri!Vo/Z?,:Si0Bedi!BligoElis]L'O*So, 0Cas'<Ch'Cid[.Cor!!Cult&RaUl#0Ier$Or&1Fer+Fri!Fusc#0Ge|GiNu$4AndeseFa|I#IvaOg-m`T!0Agg'Bel>B-EgaIss'<0Do(E!IceNi_)O!_,Ta1Er#In'<Pos 1A]*AfoDi<Ecchi$Ef%eFa$Gan>Igi<Izzon.MaMegg'Na^_O*g'R[@Ribi,T[s?T~Za+Zo0A!Cur&MosiPeda,Pi.SaSid&Ta]*Te0I.ReTago$TimoTob!1A,EstI$Ipa)Oc{UnqueVi&3Io:Cche|CeCif>Del/D)<EseGaGi=Lazzi=Les&Lli@LoLudeN@)N<l*O*O=zzoPr~Rabo/Rcel/Re!Rgo*RiRl#Ro/R^!Rv[zaRz?,Ssi_St%}Tac}To*g?TtumeVo<3Cc#Dal&Do=,Gg'Lo(N&Nd%eNi(/Nnu Nomb-Ns&N /PePi+Rbe<R]r(R@n#Rfor&Rgame=R'@Rmes(R$Rp,s(Rsua(Rtug'Rva(S#!Sis+SoS^fe)Ta*T^<Tu/n.Zzo3Ace!An+At^$Cci$CozzaEgaEt-Ffe)G?`Gol'G)LaLife)L*/Lo+Mpan.Ne+N=No*Ogg?OmboRamideRet>Ri.RolisiTo<Zz>2AceboAn&As`A+$E=r'2ChezzaDe)(DismoEs?Ggi&L[+Ligo$Ll%eLmoni.Lpet+L(Lt)=Lve!M%eMo@)N.Po*(Rfi@Ro(Rpo-R!R++SaSi^_Sses(Stul#Tass'Te!2AnzoAssiAt~Eclu(Ed~Efis(Egi#Elie_Eme!E$t&Epar#Es[zaE.s Eval(I`IncipeIv#Ob,`Ocu-Odur!OfumoOge|OlungaOmessaO$meOpos+O)gaO.(OvaUd[.Ug=Ur{0Iche1Bbl>D~Gil#G$LceL{Lsan.Nt&PazzoPil/Ro:99Ad)Al]saAsiE!/O+:C]l D@pp'D~,Dun#Ff~GazzoG'<G$Mar)MingoMoNdag'N l&P#Pi=Pp!(Satu-Schi#S[.Sseg=St!l*TaVvedu 3A,Cepi!Cin Clu+Cond{Cupe)Dd{Dime!Gal#Gist)Go/G!s(Laz'<M&Mo N=Pl~Prime!Put&SaSid[.Spon(S+u)TeTi=Tor~T^f~Voc#3Assun Badi!Bel,B!zzoCar~C]Ceve!C%l#Cor@C!du D>*Dur!Fas&F,s(For`Fug'G&Gett#Ghel*Lass#Lev#Ma<!MbalzoMed'Morch'Nasci+N})NforzoN$_Nom#Nsav{N c]Nunc?Nv[i!Par#Petu Pie$Port&P!saPuli!Sa+Sch'ServaSibi,SoSpe|S )Sult#S_l Tar@Teg$Tm>T)_Un'<VaVer(Vinci+Vol Zo`5BaBot>Bus Cc?CoDagg'De!D{!G{Ll'Mant>Mpe!Nz'Sol&SpoTan.Ton@Tu/Vesc'5BizzoBr~GaLli$Mi<Mo)(O*PeSs&St>:B#Bbi&Bot#Go`Las(Ldatu-Lgem`Liv&Lmo<Lo<Lt&Lu L_Pe!Pi@Por{Race$R}smoR S((Telli.Ti-Tol*Tur$Va=V'Zi#0Adigl'AlzoAnc#Ar-At.!Av&End&Irci&Locc#Occi#Rin&Ruffo<Uff&0Ab)(Ad[zaA/Ambi&Anda*Apo/Ar(A.n&Av#El En>Ett)HedaHie=IarpaI[zaInde!IppoI)ppoI_*Ler&Odel/Olp{Ompar Onfor Opri!Or+Os(<OzzeseRibaRoll&Ru^n'Uder?Ul !Uo/U)Us&0Ebit&Ogan&0C}tu-Con@Da$Gg'/G=l#G!g#Gu{Lci#Let^_L/Lvagg'Mafo)Mbr&MeMin#Mp!N(N^!Pol Qu[zaRa+Rb#Re$R'Rp[.R-gl'Rvi!S^=To/T^`=0Ace*Ald&Am#Arzo(At%#E-IdaIl#IngeOc#Oder&OgoOl^!Orz#Ra|Rutt#Ugg{Um&U(0Abel*Arb#Onfi&Orb'Rass#Uar@1Bi*C]meEr-G/G$!L[z'L/baMbo*Mpat>Mul#Nfon?Ngo*Nist)NoN.siNu(idePar'S`S ,Tu#2It+Ogatu-Ove$0Arr{Emor#En^ E-l@IlzoOnt&Ott#Uss#0Elli!Erv#O@0BbalzoBr'C]r(C?,Da,Ffi|G$Ld#L[<Li@L/zzoLoLubi,Lv[.Mat>M`NdaNe|Nnife)Pi!Ppe(P-Rge!Rpas(Rri(R(R.gg'R_l#Spi)S+T^,0AdaAl/Arge!A /Av[ Azzo/EcieEdi!Eg<!E/tu-E-nzaEs(!Ett-,Ezz#IaIgo*(Ill#I$(I-,L[di@Or^_O(RangaRec&Ron#RuzzoUn^$0Uil*0Ad%&O l#1Abi,Ac]AffaAgn&Amp#Ant'Arnu Ase-Atu E*EppaErzoI,|I`IrpeIva,Izzo(On#Or>RappoReg#Ridu*Rozz&Ru|Ucc&UfoUp[@0B[t)C](Do!Gger{GoL+$On&PerboPpor Rgel#R)g#Ssur)Tu-0Ag&EdeseEgl'El&Enu Ez?IluppoIs+Izze-Ol+Uot&:Bac]Bul#Cci&Citur$LeLis`$Mpo<Nni$RaRdi_Rg#RiffaRp&R+rugaS Tt>Ver=Vo/+Zza3CaCn>Lefo$Me-r'MpoMu N@<Ne)Ns'<N+]*O!`RmeR-zzoRze|SiSser#St#T)T ?3F&Gel/Mb)N P>Pog-foRagg'RoTan'To*Tuban.Z'Zzo<5Cc&L,r&L Mbo/MoNfoNsil/Paz'Po*g?PpaRbaRn&R)<R -S}$Ssi!S+tu-Ta$2Aboc]AcheaAfi/Aged?Alc'Amon Ans{Apa$Ar!As*]Att#AveEcc?Emol'Espo*Ibu Iche]Ifogl'Il*InceaIoIs.zzaItur#Ivel/OmbaO$OppoO|/Ov&Ucc#2Batu-Ff#Lipa$Mul Nis?Rb&Rchi$TaTe/:0Ic#0Cel*Ci(!0I!I^_1FaF%'0Ua,4IsseTim#0A$I,Orismo0Ci<|Ge!Ghe!seI]r$If%#I($I+r'Te0Vo0Upa1Aga$G[zaLo0AnzaA C{Ig$*U-'0Ensi,IlizzoOp?:Can.Ccin#Gabon@Gli#LangaLgoL>L,t+Lo)(Lut&L_/Mpa+Ng&N{(NoN+gg'Nve-Po!Ra$Rc#R?n.S}3Det+DovaDu Ge+,I]*Lc)Li=Llu LoceN#Ndemm?N RaceRba,Rgog=Rif~RoRru}Rt~,Sc~Ssil*S+,Te-$Tri=Tus 3Andan.B-n.C[daChingoCi=nzaDim&Gil?G< Go!LeL/$MiniNc{!O/Pe-Rgo/Ro*goRu,n S](S'<SpoSsu Su-TaTel*T^`VandaVi@Zi&5CeGaLa^,Le!LpeRagi<5L}$::::Mpog=N=Pp#T.-Vor-3Fi)Lan.LoNze)Rbi$3Be|N]R]<T 5L/T>5Cche)Fo*LuPpa",Bmr="0x5c1362d88fd4cf614a96f3234941d29f7d37c08c5292fde03bf62c2db6ff7620",Gbe=null,dG=class t extends Fa{constructor(){super("it",Lmr,Bmr)}static wordlist(){return Gbe==null&&(Gbe=new t),Gbe}};var $mr="0arad!ototealirertainrasoent hoandoaR#riareha!aroele'oronul0Aca%AixoAl A%rDuz'El]Er$IsmoO$ R<g(Revi Rig Rup$S*$Solu$Sur=Ut[0Ab#Alm Amp Anh A,Ei.El( En ErvoEss E$naHa.IdezImaI}#Irr Lam LiveOlhidaOmod Opl Ord Um~ Us?0Ap.EgaEnt_Ep$Equ Er-%EsivoEusI<%ItivoJetivoJun$M' Or Qu''UboV(,Vog#0R}ave0As.Er'EtivoIn?Iv` Li$Lu-%R}.0Ach Arr As&/Enci Iliz Io)It#O+R! Res%Rup U d Ul]2O`h Ud Us.1AmedaArmeAstr Av<caB(gueB*oCat+De@EcrimEgr@Er.FaceF*e%GumHeioI Ica%I- Inh Ivi Mof^Oc Pis%T( TitudeUc* Ug UnoUsivoVo0Aci A=rA[loAss BasBi-%EixaEniz I=Is$,Iz!eOl?On$ O_,Ost+P  Pli Pola0Ag+maAlis Arqu@A$m@DaimeElExoG~ Im JoOm&@Ot#Sio,T(i|Uid!eUnci Zol1Ag?Alp Anh#EgoEli=Ert^Es Eti%I$Lau,Lic^OioOn.Os)R-dizRov 0Uec(0AmeAn]A+C^D-%E@Ej Eni$Es)Gilo,GolaMaQuivoRai&Reba%Risc Rob>um S-&T(i&TigoVo[=0F&.Il#P' S?S* So&/Sun$Tr&0Ac#Adu+Al/A[f E End(Er_EuIng'Ir?IvoOl{oRac Revi=RizU&Um0Di$rM-.R>o+TismoT|@Tu 0Ali An%Ar@Ent&Es,I?Is Ul,1Ila1Ar E=Ei%Ulejo:B BosaC&]uCh `C@GagemI<oIl I}e)Ir_Ixis)J~ Le@LizaLsaN&Nd{aN/N'Nque%Ra$Rb#R}es>+c>~/Se#S)n%Ta)Te=rTidaTomTuc Unil]3B(IjoIr^IsebolLd!eLezaLgaLisc Ndi$Ng&aNz(RimbauRl*d>_Sou_XigaZ(_3CoCu=En&Foc&Furc G|naLhe%Mest[Mo$rOlog@OmboOsf(aPol Rr-$Scoi$Sne$SpoSsex$TolaZ _2Ind#OcoOque 2A$BagemC#CejoChec]Ico.L^LetimL]LoMb{oNdeNecoNi)Rb~h>d>e&R+c]V*oXe?2AncoAsaAvezaEuIgaIl/Inc OaOchu+Onze O$Uxo2C]DismoF LeRacoScaS$Z*a:B<aB`oBideBoBri$CauCet^C/r_CiqueDast_De#Fez&IaqueIp'aIxo%J#JuLafrioLc~ Ld{aLibr Lm<%Lo)M^Mbis)MisaMomilaMp<]Mufl Navi&Nc` Ne)NguruN/$Nive%NoaNs#N.Nu=Pac/P`aP* Po.Pric/Pt?PuzRacolRb}oRde&Rec>imb Rn{oRpe%R['>)zRv&/SacoScaSeb[S%loS~oT a)Tiv UleUs?U%l V&oV(na3BolaDil]G}]Lebr L~ Nou+N,N%ioRc Rr#R%'oRvejaTimV^2Aco)Al{aAm#Ap^ArmeAticeAveEfeEg^E'oEqueIco%If[In`oOc&/Ov(UmboU.Uva0CatrizCl}eD!eD['aEn%G<aM-$N$Nz><d>cui$Rurg@T 2A[zaE_Ic OneUbe2A=Ag'Ba@B($rBr C^El/Ent_E,Gum`oIb'IfaIo%L L{aLh(Lid'Lme@L}oLunaM<=Mb* M-.MitivaMov(MplexoMumNc]N=rNec.Nfu,Ng` Nhec(Njug Nsum'Nt+$Nvi%Op( P{oPi?PoQue%lRagemRdi&Rne)R}h>p|&R[ioR%joRuj>voSs-oS%laT}e%U_UveVilZ*]2A%+AvoEcheE=rEmeErEspoI^Im*&Io~oIseItic Os)UaUz{o2B<oEcaId#JoLat+Lm* Lp Ltu+Mpr'Nh#Pi=RativoRr&Rs R$Sp'S% T`o:MascoT 3Ba%rBi.BocheB~h C&queCim&CliveCo%C[.D&Dic#Duz'FesaFum G`oG+uGus.It#Ix La$rLeg#L*e L}gaM<daMit'Moli=Ntis)P-#Pil PoisP[ssaPur Riv>+m SafioSbo.Sc<,S-/Sfi#Sgas%Sigu&SlizeSmam SovaSpesaS)queSvi T&h T-$rT} Tri$UsaV(Vi=Vot#Z-a3Ag+maAle$Da)Fu,Gi.Lat#Lu-%M*u'Nast@Nh{oOceseRe$Sc[)Sf ceSp oSque%Ssip S)n%T?UrnoV(,Vi,rV~g Z(5Br?L|i=M?M*#NativoNz`>m-%Rs&SagemUr#U$r2EnagemIbleOg @2El EndeE$PloQues><%Vi=,:1Lod'O Olog@0Ific It&Uc#1Ei$Etiv 3E.1Ab| Eg(Ei$rEncoEv?Im* Ogi 0B goBol#Br~/Buti=EndaErg'Is,rPat@P-/P*#Polg P[goPurr Ul?0CaixeC-#Ch-%C}t_Deus Doss Faix Fei%FimGaj#G-/Glob Gom#G+x Gu@Jo La.Qu<$Raiz Rol#Rug SaioSe^S*oSop#T<$Te#Tid!eT|.Tr^T~/V(g Vi#Volv(XameX($Xof[Xu$1Id(me0Uip 0E$Gui=Ra)VaVil]0B<j B`$CamaColaCri)Cu)F*geFol F[g Fum#GrimaM&%P<$P`/PigaP}jaP[i)Pum Qu(daTacaT{aTic Tof#T[laTu=Vazi 0AnolIque)0F|i>opeu0Acu Ap| AsivoEntu&Id-%Olu'1Ag(oAl Am* A$Aus$Ces,Ci.Clam Ecu.EmploIb'Ig-%On( P<d'P`'P' Pl< Pos$P[s,P~s T(noT*$T+$:Bric B~o,Ce)Ci&DaDigaIxaL L)Mili Nd<goNf +N$cheRd#R`oR*h>of>p>tu+T@T|V|i)X*aZ-da3Ch#Ijo^I+n%L*oM**oNdaNoR>i#RrugemRv(S%j T&Ud&3ApoB_seC Ch{oGur#L{aL/LmeLtr RmezaSg^Ssu+TaV`aX?Xo2AcidezAm*goAn`aEch^O+Utu Uxo2C&C*/Foc GoGue%IceLg#Lhe$Rj Rmig>noR%ScoSsa2Aga)AldaAngoAscoA%rnoE'aEn%E.IezaI,Itu+On]Ustr U%'a2G'L<oLigemNd NgoNilR?Rio,Tebol:B i$B*e%DoIa$IolaIvo)LegaL/L*]Loc]Nh RagemRfoRg&oRimpoRoup>+faSodu$S$TaTil/Ve)Z`a3L#Le@LoM^M(Mi=N(o,NgivaNi&NomaN_Ologi>?Rm* S,S$r3Nas)Nc<aNg#Raf>*o2Aci&IcoseOb&Orio,2ElaIabaLfeLpe Rdu+Rje)R_S$,T{aV(n 2AcejoAdu&Afi%Al]AmpoAn^Atui$Ave$AxaEgoElh EveIloIs&/I.@Os,O%scoUd#Unhi=U)2AcheA+niAx*imEr[ I Inc/Is#LaLo,Ru:Bi.Rm}@S%V(3C.eRd Res@Si.3A$B(n D+.EnaNoPismoPnosePo%ca5JeLofo%MemNes$Nr#Rm}&Sped 5M|#:Te2E@O,2N|#RejaU<a4E,HaUdi=Um* Ustr 0AgemEd@$En,ErsivoIn-%It?Ort&Pac$Ped'Pl<%P|Pr-saPuneUniz 0Al?Ap$AtivoC-,Ch Cid'Clu'Col|Deci,D'e$Du$rEficazEr-%F<tilFes.F*i$Flam F|m&F+$rG('Ibi=Ici&ImigoJe.Oc-%O=_Ov?OxQuie$Scri$Se$Sist'Spe$rSt& S~$Tac$Tegr&Tim Toc#TrigaVa,rV(noVic$Voc 0Gur%2Ani<oOniz Re&Rit#0CaEn$Ol#Qu{o0Ali<o:N{oNg^N)R ac>dimR_SmimToV&iZida3Jum9An*]Elh^G?I>n&Rr Vem5BaDeuDocaIzLg?L/R#Ris)RoS)::B edaB|&C[C)n%Dril/G )GoaJeMb(M-.M* MpejoNchePid P,R<j>{>gu+S<]St_T(&Ti=V<daVou+Vr?X<%Z(3Ald!eB[G#G-d Gis)IgoIlo Itu+Mb[%MeNh?Ntil]OaSmaS%TivoT['oV VezaVi.3B(&Bi=D( G G{oMi.Mo{oMp?NdaNe N]gemQuidezS)gemSu+T|&V_XaX{a5C?Cu$rJis)MboNaNgeNt+RdeT#T(@Ucu+UsaUv 5ArCidezC_Ne)St[T?Va:CacoCe%Ch#CioD{aDr*]Gna)G[zaI|IsL<d_L]Lo%LucoMiloMo{oMu%N^Nc]Nda$NequimN/,Niv`aNobr NsaN%rNuse Pe#Qu* Rc?Resi>fimRgemR*/Rmi)Ro$RquiseR[coR%loRujoSco%Sm|+SsagemStig Tag&T(noT*&Tu.Xil 3D&]DidaDusaGaf}eIgaL<c@L/rMb_M|i&N*oNosNsagemNt&Rec(Rg~/S^Scl SmoSqui)St[T!eTeo_T+gemX(Xic<o3C_G&]Gr Lag[L- Lh M#N( N/caNist_N|@OloR<%RtiloStur 5Cid!eD(noD~ EdaErIn/I)Ldu+LezaL/L*e%LuscoN)n]Quec><goRcegoR=moR-aSaicoSque%S.daT`TimToTriz5DaI$La)Lh(L.Ndi&Ni=R&h>c/Sc~ SeuSic&:Ci}&D?JaMo_R*>r#Sc(TivaTu[zaV&]Veg Vio3Bl*aB~o,GativaGoci Gri$Rvo,TaUr&VascaVo{o3N N/TidezV` 5B[zaI%IvaMe M*&Rdes%R% T Tici TurnoV`oVil/Vo5Bl#DezM(&Pci&Tr'Vem:0Cec#Edec(JetivoRig#Scu_S%t+T(Tur 0Id-%Io,Orr(Ulis)Up#2Eg<%EnsivaEr-daIc*aUsc#0Iva4Ar@Eo,H Iv{a0B_Ele%Is,It'0D~#E_,Tem1Ci}&Er?On-%OrtunoOs$1ArBi.DemD*&F<a$GasmoG~/I-t&IgemIun=LaTo=xoV&/0Cil S^SoT-.0Imismo0S!@T}oTub_Vi=0El]Ul 1Id Ig- :Ca$Ci-%Co%Ctu D @Dr*/G GodeIn`Ir IsagemLav+Lest+Lhe)Li$Lm^Lpi.Nc^N`aNfle$NquecaN)n&PagaioP`^P'oRaf*>ci&Rd&RedeRtidaSmoSs#S%lTam T-%T* T_noUl^Us 3C~i D& Dest[D@t+D+G^I$r&IxeLeLic<oNcaNdur N{aN]scoNs?N%Rceb(Rfei$Rgun)Ri$Rmit'Rn>plexoRsi<>%nceRucaSc#SquisaS,aTisc 3AdaC#Ed!eGm-$Last+Lh#Lo.M-)Nc`NguimN]No%N.On{oPocaQue%R<h>esRue)Sc S$laT<gaVe%2An)Aque)At*aEbeuUmagemUvi&1Eu0DaE'aEtisaLeg^Lici Lu-%Lvil/M MbaNd( N.@P~o,R)Ssu'St&TeUp U,Vo 2A@Anc]A$AxeEceEd?Efei$Emi Ens Ep  Esil]E%x$Ev-'Ez Ima)IncesaIsmaIv#Oces,Odu$Ofe)Oibi=Oje$Ome%rOpag OsaO%$rOv?2Blic DimL Lm} Ls{aNh&N'PiloRezaX?:99Ad+Ant@Ar$AseEbr EdaEijoEn%Eri=Im}oInaIosque:B<^BiscoCh Ci} Di&I In]IoIvaJ^L#M&Ng(Nhu+P!u+P`PidezPosaQue%Rid!eS<%Scun/Sg Sp?S%'aSur Taz<aTo{a3AlezaAnim Av(Baix B`deBol C#C-%CheioCiboC|d Cru.Cu DeDim'D}daDuzidaEnvioF* Flet'Fog F[scoFugi G&@GimeG+In#I$rJei.LativoM?M-=M|,Nov#P oP`'Ple$Pol/P[saPudi Qu((S-]Sfri Sga.Sid'Solv(Spei$SsacaS)n%Sum'T&/T(T' Tom^T+.V` Vi,rVol)3Ac/CaGidezGo_,M NgueS^ScoS}/5B&oChe=D^DeioDov@E=rLe)M<oNc S#S{aS$TaT{oT*aT~ UcoUpaXo5B_Gi=Go,IvoMoPest[S,:B|Ci ColaCud'DioF'aGaGr^Ib_L^L{oLg#LivaLpic Lsic]L.Lv?Mb Mu+iN Nf}aNgueNid!ePa$Rd>g-$Rje)Tur Ud!eXof}eZ}&3C C~ DaD-$Di#Do,Du$rGm-$G[=Gun=IvaLe$LvagemM<&M-%N?N/rNsu&Nt#P #Rei>*g>+RvoTemb_T|3GiloLhue)Lic}eMetr@Mpat@M~ N&Nc(oNg~ NopseN$ni>-eRiTu#5B(<oB+C|_G_JaLdaLetr L%'oMbrioNa)Nd Neg Nh?NoP+noQue%Rr'R%ioSsegoTaqueT(r V#Z*/5Aviz BidaBm(,B,loBt+'Ca)Ces,CoDes%FixoG?G('Jei$Lfa$M'OrP(i|Plic Pos$Prim'Rd*>fis)Rp[s>[&Rt'Sp'oS%n$:B`aBle%Bu^C/G `aLh(LoLvezM</Mb|imMpaNg-%N$P Pioc>dioRef>j>+xaTuagemUr*oXativoXis)3Atr&C(Ci=Cl#Dio,IaIm Lef}eLh#Mp(oN-%N,rN.Rm&RnoRr-oSeSou+St#ToXtu+Xugo3A+G`aJoloMbr MidezNgi=N%'oRagemT~ 5Al]C]L( LiceM^Mil/N`Ntu+Pe%R>ci=RneioRqueRr!>$S.UcaUp{aX*a2Ab&/Acej Adu$rAfeg Aje$AmaAnc ApoAs{oAt?Av E*oEm(Epid EvoIagemIboIcicloId-%Ilog@Ind!eIploItur Iunf&Oc Ombe)OvaUnfoUque2B~ C<oDoLipaPiRboRm>quesaT` T|i&:7V 3Bigo0HaId!eIf|me3Olog@SoTigaUbu0A=InaUfru':C*aDi G o,I=,LaL-%Lid!eLo[sN)gemQu{oR<d>e)Rr(Sc~ Sil]S,u+Z Zio3A=D Ge.Ic~ L{oLhiceLu=Nce=rNdav&N( Nt[Rb&Rd!eRe?Rg}h>m`/RnizRs R%n%SpaSti=T|i&3Adu$AgemAj Atu+Br?D{aDr @ElaGaG-%Gi G| L ejoNcoNhe)NilOle)R!>tudeSi.S$Tr&V{oZ*/5A=rArG&L<%LeibolL)gemLumo,Nt!e5L$Vuz`a::D[zRope3QueRe.Rife3Ng ::Ng#Rp 3BuL?9Mb Olog@5Mbi=",Umr="0x2219000926df7b50d8aa0a3d495826b988287df4657fbd100e6fe596c8f737ac",jbe=null,pG=class t extends Fa{constructor(){super("pt",$mr,Umr)}static wordlist(){return jbe==null&&(jbe=new t),jbe}};var qbe="}aE#4A=Yv&co#4N#6G=cJ&SM#66|/Z#4t&kn~46#4K~4q%b9=IR#7l,mB#7W_X2*dl}Uo~7s}Uf&Iw#9c&cw~6O&H6&wx&IG%v5=IQ~8a&Pv#47$PR&50%Ko&QM&3l#5f,D9#4L|/H&tQ;v0~6n]nN<di,AM=W5%QO&ka&ua,hM^tm=zV=JA=wR&+X]7P&NB#4J#5L|/b[dA}tJ<Do&6m&u2[U1&Kb.HM&mC=w0&MW<rY,Hq#6M}QG,13&wP}Jp]Ow%ue&Kg<HP<D9~4k~9T&I2_c6$9T#9/[C5~7O~4a=cs&O7=KK=An&l9$6U$8A&uD&QI|/Y&bg}Ux&F2#6b}E2&JN&kW&kp=U/&bb=Xl<Cj}k+~5J#6L&5z&9i}b4&Fo,ho(X0_g3~4O$Fz&QE<HN=Ww]6/%GF-Vw=tj&/D&PN#9g=YO}cL&Of&PI~5I&Ip=vU=IW#9G;0o-wU}ss&QR<BT&R9=tk$PY_dh&Pq-yh]7T,nj.Xu=EP&76=cI&Fs*Xg}z7$Gb&+I=DF,AF=cA}rL#7j=Dz&3y<Aa$52=PQ}b0(iY$Fa}oL&xV#6U=ec=WZ,xh%RY<dp#9N&Fl&44=WH*A7=sh&TB&8P=07;u+&PK}uh}J5#72)V/=xC,AB$k0&f6;1E|+5=1B,3v]6n&wR%b+&xx]7f=Ol}fl;+D^wG]7E;nB;uh^Ir&l5=JL,nS=cf=g5;u6|/Q$Gc=MH%Hg#5d%M6^86=U+$Gz,l/,ir^5y&Ba&/F-IY&FI&be%IZ#77&PW_Nu$kE(Yf&NX]7Z,Jy&FJ(Xo&Nz#/d=y7&MX<Ag}Z+;nE]Dt(iG#4D=13&Pj~4c%v8&Zo%OL&/X#4W<HR&ie~6J_1O(Y2=y5=Ad*cv_eB#6k&PX:BU#7A;uk&Ft&Fx_dD=U2;vB=U5=4F}+O&GN.HH:9s=b0%NV(jO&IH=JT}Z9=VZ<Af,Kx^4m&uJ%c6,6r;9m#+L}cf%Kh&F3~4H=vP}bu,Hz|++,1w]nv}k6;uu$jw*Kl*WX&uM[x7&Fr[m7$NO&QN]hu=JN}nR^8g#/h(ps|KC;vd}xz=V0}p6&FD$G1#7K<bG_4p~8g&cf;u4=tl}+k%5/}fz;uw<cA=u1}gU}VM=LJ=eX&+L&Pr#4U}p2:nC,2K]7H:jF&9x}uX#9O=MB<fz~8X~5m&4D&kN&u5%E/(h7(ZF&VG<de(qM|/e-Wt=3x(a+,/R]f/&ND$Ro&nU}0g=KA%kH&NK$Ke<dS}cB&IX~5g$TN]6m=Uv,Is&Py=Ef%Kz#+/%bi&+A<F4$OG&4C&FL#9V<Zk=2I_eE&6c]nw&kq$HG}y+&A8$P3}OH=XP]70%IS(AJ_gH%GZ&tY&AZ=vb~6y&/r=VI=Wv<Zi=fl=xf&eL}c8}OL=MJ=g8$F7=YT}9u=0+^xC}JH&nL^N0~4T]K2,Cy%OC#6s;vG(AC^xe^cG&MF}Br#9P;wD-7h$O/&xA}Fn^PC]6i]7G&8V$Qs;vl(TB~73~4l<mW&6V=2y&uY&+3)aP}XF;LP&kx$wU=t7;uy<FN&lz)7E=Oo*Y+;wI}9q}le;J6&Ri&4t&Qr#8B=cb&vG=J5|Ql(h5<Yy~4+}QD,Lx=wn%K/&RK=dO&Pw,Q9=co%4u;9u}g0@6a^4I%b0=zo|/c&tX=dQ=OS#+b=yz_AB&wB&Pm=W9$HP_gR=62=AO=ti=hI,oA&jr&dH=tm&b6$P2(x8=zi;nG~7F;05]0n[Ix&3m}rg=Xp=cd&uz]7t;97=cN;vV<jf&FF&F1=6Q&Ik*Kk&P4,2z=fQ]7D&3u,H0=d/}Uw<ZN<7R}Kv;0f$H7,MD]7n$F0#88~9Z%da=by;+T#/u=VF&fO&kr^kf<AB]sU,I5$Ng&Pz;0i&QD&vM=Yl:BM;nJ_xJ]U7&Kf&30,3f|Z9*dC)je_jA&Q4&Kp$NH(Yz#6S&Id%Ib=KX,AD=KV%dP}tW&Pk^+E_Ni=cq,3R}VZ(Si=b+}rv;0j}rZ]uA,/w(Sx&Jv$w9&4d&wE,NJ$Gy=J/]Ls#7k<ZQ<Y/&uj]Ov$PM;v3,2F&+u:up=On&3e,Jv;90=J+&Qm]6q}bK#+d~8Y(h2]hA;99&AS=I/}qB&dQ}yJ-VM}Vl&ui,iB&G3|Dc]7d=eQ%dX%JC_1L~4d^NP;vJ&/1)ZI#7N]9X[bQ&PL=0L(UZ,Lm&kc&IR}n7(iR<AQ<dg=33=vN}ft}au]7I,Ba=x9=dR~6R&Tq=Xi,3d$Nr&Bc}DI&ku&vf]Dn,/F&iD,Ll&Nw=0y&I7=Ls=/A&tU=Qe}Ua&uk&+F=g4=gh=Vj#+1&Qn}Uy*44#5F,Pc&Rz*Xn=oh=5W;0n_Nf(iE<Y7=vr=Zu]oz#5Z%mI=kN=Bv_Jp(T2;vt_Ml<FS&uI=L/&6P]64$M7}86<bo%QX(SI%IY&VK=Al&Ux;vv;ut*E/%uh<ZE|O3,M2(yc]yu=Wk&tp:Ex}hr,Cl&WE)+Z=8U}I2_4Q,hA_si=iw=OM=tM=yZ%Ia=U7;wT}b+;uo=Za}yS!5x}HD}fb#5O_dA;Nv%uB(yB;01(Sf}Fk;v7}Pt#8v<mZ#7L,/r&Pl~4w&f5=Ph$Fw_LF&8m,bL=yJ&BH}p/*Jn}tU~5Q;wB(h6]Df]8p^+B;E4&Wc=d+;Ea&bw$8C&FN,DM=Yf}mP~5w=fT#6V=mC=Fi=AV}jB&AN}lW}aH#/D)dZ;hl;vE}/7,CJ;31&w8,hj%u9_Js=jJ&4M~8k=TN&eC}nL&uc-wi&lX}dj=Mv=e2#6u=cr$uq$6G]8W}Jb:nm=Yg<b3(UA;vX&6n&xF=KT,jC,De&R8&oY=Zv&oB]7/=Z2&Oa}bf,hh(4h^tZ&72&Nx;D2&xL~5h~40)ZG)h+=OJ&RA]Bv$yB=Oq=df,AQ%Jn}OJ;11,3z&Tl&tj;v+^Hv,Dh(id=s+]7N&N3)9Q~8f,S4=uW=w4&uX,LX&3d]CJ&yp&8x<b2_do&lP=y/<cy_dG=Oi=7R(VH(lt_1T,Iq_AA;12^6T%k6#8K[B1{oO<AU[Bt;1b$9S&Ps<8T=St{bY,jB(Zp&63&Uv$9V,PM]6v&Af}zW[bW_oq}sm}nB&Kq&gC&ff_eq_2m&5F&TI}rf}Gf;Zr_z9;ER&jk}iz_sn<BN~+n&vo=Vi%97|ZR=Wc,WE&6t]6z%85(ly#84=KY)6m_5/=aX,N3}Tm&he&6K]tR_B2-I3;u/&hU&lH<AP=iB&IA=XL;/5&Nh=wv<BH#79=vS=zl<AA=0X_RG}Bw&9p$NW,AX&kP_Lp&/Z(Tc]Mu}hs#6I}5B&cI<bq&H9#6m=K9}vH(Y1(Y0#4B&w6,/9&gG<bE,/O=zb}I4_l8<B/;wL%Qo<HO[Mq=XX}0v&BP&F4(mG}0i}nm,EC=9u{I3,xG&/9=JY*DK&hR)BX=EI=cx=b/{6k}yX%A+&wa}Xb=la;wi^lL;0t}jo&Qb=xg=XB}iO<qo{bR=NV&8f=a0&Jy;0v=uK)HK;vN#6h&jB(h/%ud&NI%wY.X7=Pt}Cu-uL&Gs_hl%mH,tm]78=Lb^Q0#7Y=1u<Bt&+Q=Co_RH,w3;1e}ux<aU;ui}U3&Q5%bt]63&UQ|0l&uL}O7&3o,AV&dm|Nj(Xt*5+(Uu&Hh(p7(UF=VR=Bp^Jl&Hd[ix)9/=Iq]C8<67]66}mB%6f}bb}JI]8T$HA}db=YM&pa=2J}tS&Y0=PS&y4=cX$6E,hX,XP&nR;04,FQ&l0&Vm_Dv#5Y~8Z=Bi%MA]6x=JO:+p,Az&9q,Hj~6/}SD=K1:EJ}nA;Qo#/E]9R,Ie&6X%W3]61&v4=xX_MC=0q;06(Xq=fs}IG}Dv=0l}o7$iZ;9v&LH&DP-7a&OY,SZ,Kz,Cv&dh=fx|Nh,F/~7q=XF&w+;9n&Gw;0h}Z7<7O&JK(S7&LS<AD<ac=wo<Dt&zw%4B=4v#8P;9o~6p*vV=Tm,Or&I6=1q}nY=P0=gq&Bl&Uu,Ch%yb}UY=zh}dh}rl(T4_xk(YA#8R*xH,IN}Jn]7V}C4&Ty}j3]7p=cL=3h&wW%Qv<Z3=f0&RI&+S(ic_zq}oN&/Y=z1;Td=LW=0e=OI(Vc,+b^ju(UL;0r:Za%8v=Rp=zw&58&73&wK}qX]6y&8E)a2}WR=wP^ur&nQ<cH}Re=Aq&wk}Q0&+q=PP,Gc|/d^k5,Fw]8Y}Pg]p3=ju=ed}r5_yf&Cs]7z$/G<Cm&Jp&54_1G_gP_Ll}JZ;0u]k8_7k(Sg]65{9i=LN&Sx&WK,iW&fD&Lk{9a}Em-9c#8N&io=sy]8d&nT&IK(lx#7/$lW(Td<s8~49,3o<7Y=MW(T+_Jr&Wd,iL}Ct=xh&5V;v4&8n%Kx=iF&l2_0B{B+,If(J0,Lv;u8=Kx-vB=HC&vS=Z6&fU&vE^xK;3D=4h=MR#45:Jw;0d}iw=LU}I5=I0]gB*im,K9}GU,1k_4U&Tt=Vs(iX&lU(TF#7y,ZO}oA&m5#5P}PN}Uz=hM<B1&FB<aG,e6~7T<tP(UQ_ZT=wu&F8)aQ]iN,1r_Lo&/g:CD}84{J1_Ki&Na&3n$jz&FE=dc;uv;va}in}ll=fv(h1&3h}fp=Cy}BM(+E~8m}lo%v7=hC(T6$cj=BQ=Bw(DR,2j=Ks,NS|F+;00=fU=70}Mb(YU;+G&m7&hr=Sk%Co]t+(X5_Jw}0r}gC(AS-IP&QK<Z2#8Q$WC]WX}T2&pG_Ka,HC=R4&/N;Z+;ch(C7,D4$3p_Mk&B2$8D=n9%Ky#5z(CT&QJ#7B]DC]gW}nf~5M;Iw#80}Tc_1F#4Z-aC}Hl=ph=fz,/3=aW}JM}nn;DG;vm}wn,4P}T3;wx&RG$u+}zK=0b;+J_Ek{re<aZ=AS}yY#5D]7q,Cp}xN=VP*2C}GZ}aG~+m_Cs=OY#6r]6g<GS}LC(UB=3A=Bo}Jy<c4}Is;1P<AG}Op<Z1}ld}nS=1Z,yM&95&98=CJ(4t:2L$Hk=Zo}Vc;+I}np&N1}9y=iv}CO*7p=jL)px]tb^zh&GS&Vl%v/;vR=14=zJ&49|/f]hF}WG;03=8P}o/&Gg&rp;DB,Kv}Ji&Pb;aA^ll(4j%yt}+K$Ht#4y&hY]7Y<F1,eN}bG(Uh%6Z]t5%G7;+F_RE;it}tL=LS&Da=Xx(S+(4f=8G=yI}cJ}WP=37=jS}pX}hd)fp<A8=Jt~+o$HJ=M6}iX=g9}CS=dv=Cj(mP%Kd,xq|+9&LD(4/=Xm&QP=Lc}LX&fL;+K=Op(lu=Qs.qC:+e&L+=Jj#8w;SL]7S(b+#4I=c1&nG_Lf&uH;+R)ZV<bV%B/,TE&0H&Jq&Ah%OF&Ss(p2,Wv&I3=Wl}Vq;1L&lJ#9b_1H=8r=b8=JH(SZ=hD=J2#7U,/U#/X~6P,FU<eL=jx,mG=hG=CE&PU=Se(qX&LY=X6=y4&tk&QQ&tf=4g&xI}W+&mZ=Dc#7w}Lg;DA;wQ_Kb(cJ=hR%yX&Yb,hw{bX_4X;EP;1W_2M}Uc=b5(YF,CM&Tp^OJ{DD]6s=vF=Yo~8q}XH}Fu%P5(SJ=Qt;MO]s8<F3&B3&8T(Ul-BS*dw&dR<87}/8]62$PZ]Lx<Au}9Q]7c=ja=KR,Go,Us&v6(qk}pG&G2=ev^GM%w4&H4]7F&dv]J6}Ew:9w=sj-ZL}Ym$+h(Ut(Um~4n=Xs(U7%eE=Qc_JR<CA#6t<Fv|/I,IS,EG<F2(Xy$/n<Fa(h9}+9_2o&N4#7X<Zq|+f_Dp=dt&na,Ca=NJ)jY=8C=YG=s6&Q+<DO}D3=xB&R1(lw;Qn<bF(Cu|/B}HV=SS&n7,10&u0]Dm%A6^4Q=WR(TD=Xo<GH,Rj(l8)bP&n/=LM&CF,F5&ml=PJ;0k=LG=tq,Rh,D6@4i=1p&+9=YC%er_Mh;nI;0q=Fw]80=xq=FM$Gv;v6&nc;wK%H2&Kj;vs,AA=YP,66}bI(qR~5U=6q~4b$Ni=K5.X3$So&Iu(p+]8G=Cf=RY(TS_O3(iH&57=fE=Dg_Do#9z#7H;FK{qd_2k%JR}en&gh_z8;Rx}9p<cN_Ne,DO;LN_7o~/p=NF=5Y}gN<ce<C1,QE]Wv=3u<BC}GK]yq}DY&u/_hj=II(pz&rC,jV&+Z}ut=NQ;Cg-SR_ZS,+o=u/;Oy_RK_QF(Fx&xP}Wr&TA,Uh&g1=yr{ax[VF$Pg(YB;Ox=Vy;+W(Sp}XV%dd&33(l/]l4#4Y}OE=6c=bw(A7&9t%wd&N/&mo,JH&Qe)fm=Ao}fu=tH",Fmr="FAZDC6BALcLZCA+GBARCW8wNCcDDZ8LVFBOqqDUiou+M42TFAyERXFb7EjhP+vmBFpFrUpfDV2F7eB+eCltCHJFWLFCED+pWTojEIHFXc3aFn4F68zqjEuKidS1QBVPDEhE7NA4mhMF7oThD49ot3FgtzHFCK0acW1x8DH1EmLoIlrWFBLE+y5+NA3Cx65wJHTaEZVaK1mWAmPGxgYCdxwOjTDIt/faOEhTl1vqNsKtJCOhJWuio2g07KLZEQsFBUpNtwEByBgxFslFheFbiEPvi61msDvApxCzB6rBCzox7joYA5UdDc+Cb4FSgIabpXFAj3bjkmFAxCZE+mD/SFf/0ELecYCt3nLoxC6WEZf2tKDB4oZvrEmqFkKk7BwILA7gtYBpsTq//D4jD0F0wEB9pyQ1BD5Ba0oYHDI+sbDFhvrHXdDHfgFEIJLi5r8qercNFBgFLC4bo5ERJtamWBDFy73KCEb6M8VpmEt330ygCTK58EIIFkYgF84gtGA9Uyh3m68iVrFbWFbcbqiCYHZ9J1jeRPbL8yswhMiDbhEhdNoSwFbZrLT740ABEqgCkO8J1BLd1VhKKR4sD1yUo0z+FF59Mvg71CFbyEhbHSFBKEIKyoQNgQppq9T0KAqePu0ZFGrXOHdKJqkoTFhYvpDNyuuznrN84thJbsCoO6Cu6Xlvntvy0QYuAExQEYtTUBf3CoCqwgGFZ4u1HJFzDVwEy3cjcpV4QvsPaBC3rCGyCF23o4K3pp2gberGgFEJEHo4nHICtyKH2ZqyxhN05KBBJIQlKh/Oujv/DH32VrlqFdIFC7Fz9Ct4kaqFME0UETLprnN9kfy+kFmtQBB0+5CFu0N9Ij8l/VvJDh2oq3hT6EzjTHKFN7ZjZwoTsAZ4Exsko6Fpa6WC+sduz8jyrLpegTv2h1EBeYpLpm2czQW0KoCcS0bCVXCmuWJDBjN1nQNLdF58SFJ0h7i3pC3oEOKy/FjBklL70XvBEEIWp2yZ04xObzAWDDJG7f+DbqBEA7LyiR95j7MDVdDViz2RE5vWlBMv5e4+VfhP3aXNPhvLSynb9O2x4uFBV+3jqu6d5pCG28/sETByvmu/+IJ0L3wb4rj9DNOLBF6XPIODr4L19U9RRofAG6Nxydi8Bki8BhGJbBAJKzbJxkZSlF9Q2Cu8oKqggB9hBArwLLqEBWEtFowy8XK8bEyw9snT+BeyFk1ZCSrdmgfEwFePTgCjELBEnIbjaDDPJm36rG9pztcEzT8dGk23SBhXBB1H4z+OWze0ooFzz8pDBYFvp9j9tvFByf9y4EFdVnz026CGR5qMr7fxMHN8UUdlyJAzlTBDRC28k+L4FB8078ljyD91tUj1ocnTs8vdEf7znbzm+GIjEZnoZE5rnLL700Xc7yHfz05nWxy03vBB9YGHYOWxgMQGBCR24CVYNE1hpfKxN0zKnfJDmmMgMmBWqNbjfSyFCBWSCGCgR8yFXiHyEj+VtD1FB3FpC1zI0kFbzifiKTLm9yq5zFmur+q8FHqjoOBWsBPiDbnCC2ErunV6cJ6TygXFYHYp7MKN9RUlSIS8/xBAGYLzeqUnBF4QbsTuUkUqGs6CaiDWKWjQK9EJkjpkTmNCPYXL",Jbe={zh_cn:null,zh_tw:null},zmr={zh_cn:"0x17bcc4d8547e5a7135e365d1ab443aaae95e76d8230c2782c67305d4f21497a1",zh_tw:"0x51e720e90c7b87bec1d70eb6e74a21a449bd3ec9c020b01d3a40ed991b60ce5d"},Wbe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vmr="~!@#$%^&*_-=[]{}|;:,.()<>?";function sgt(t){if(Jbe[t]!=null)return Jbe[t];let e=[],r=0;for(let i=0;i<2048;i++){let o=Vmr.indexOf(qbe[i*3]),s=[228+(o>>2),128+Wbe.indexOf(qbe[i*3+1]),128+Wbe.indexOf(qbe[i*3+2])];if(t==="zh_tw"){let a=o%4;for(let c=a;c<3;c++)s[c]=Wbe.indexOf(Fmr[r++])+(c==0?228:128)}e.push(Ki(new Uint8Array(s)))}if(Si(e.join(`
`)+`
`)!==zmr[t])throw new Error(`BIP39 Wordlist for ${t} (Chinese) FAILED`);return Jbe[t]=e,e}var Kbe={},gO=class t extends El{constructor(e){super("zh_"+e)}getWord(e){let r=sgt(this.locale);return W(e>=0&&e<r.length,`invalid word index: ${e}`,"index",e),r[e]}getWordIndex(e){return sgt(this.locale).indexOf(e)}split(e){return e=e.replace(/(?:\u3000| )+/g,""),e.split("")}static wordlist(e){return Kbe[e]==null&&(Kbe[e]=new t(e)),Kbe[e]}};var Qbe={cz:sG.wordlist(),en:Bc.wordlist(),es:aG.wordlist(),fr:cG.wordlist(),it:dG.wordlist(),pt:pG.wordlist(),ja:lG.wordlist(),ko:uG.wordlist(),zh_cn:gO.wordlist("cn"),zh_tw:gO.wordlist("tw")};var Hmr=143,Gmr="https://mainnet.monad.xyz/rpc",jmr=["function balanceOf(address owner) view returns (uint256)","function transfer(address to, uint256 amount) returns (bool)","function approve(address spender, uint256 amount) returns (bool)","function allowance(address owner, address spender) view returns (uint256)","function decimals() view returns (uint8)","function symbol() view returns (string)","function name() view returns (string)","function totalSupply() view returns (uint256)"],qmr={"claude-value-investor":"CLAUDE_MONAD_PRIVATE_KEY","gpt-momentum-trader":"GPT_MONAD_PRIVATE_KEY","grok-contrarian":"GROK_MONAD_PRIVATE_KEY"},Xbe=null;function agt(){if(!Xbe){let t=process.env.MONAD_RPC_URL||Gmr;Xbe=new jy.JsonRpcProvider(t,Hmr)}return Xbe}function cgt(t){let e=qmr[t];if(!e)throw new Error(`No Monad private key mapping for agent: ${t}`);let r=process.env[e];if(!r)throw new Error(`Missing env var ${e} for agent ${t}`);return new jy.Wallet(r,agt())}function lgt(t){let e=process.env.STONKS_TOKEN_ADDRESS;if(!e)throw new Error("Missing env var STONKS_TOKEN_ADDRESS");return new jy.Contract(e,jmr,t||agt())}async function ugt(t){let e=lgt(),r=await e.decimals(),n=await e.balanceOf(t);return Number(jy.formatUnits(n,r))}async function Ybe(t,e,r){let n=cgt(t),i=lgt(n),o=await i.decimals(),s=jy.parseUnits(r.toString(),o);return(await(await i.transfer(e,s)).wait()).hash}function fG(t){return cgt(t).address}async function mG(t){let e=fG(t);return ugt(e)}async function dgt(t,e,r){let n=fG(e);console.log(`[STONKS] Transferring ${r} $STONKS: ${t} \u2192 ${e} (${n})`);let i=await Ybe(t,n,r);return console.log(`[STONKS] Transfer confirmed: ${i}`),i}async function pgt(t,e,r){let n=fG(e),i=await mG(t),o=Math.min(r,i);if(o<=0)throw new Error(`Borrower ${t} has 0 $STONKS \u2014 cannot settle loan`);o<r&&console.warn(`[STONKS] Partial settlement: ${t} has ${i} but owes ${r}`),console.log(`[STONKS] Settlement: ${t} \u2192 ${e} (${n}): ${o} $STONKS`);let s=await Ybe(t,n,o);return console.log(`[STONKS] Settlement confirmed: ${s}`),s}var hG=new Map,mgt=[],fgt=0;function hgt(){return fgt++,`loan-${Date.now()}-${fgt}`}function ggt(t){hG.set(t.loanId,t),console.log(`[LendingState] New loan ${t.loanId}: ${t.borrowerName} borrowed ${t.amount} $STONKS from ${t.lenderName}`)}function gG(){return Array.from(hG.values()).filter(t=>t.status==="active")}function ygt(){return gG().filter(t=>t.roundsElapsed>=t.duration)}function bgt(){for(let t of gG())t.roundsElapsed++}function vgt(t,e){let r=hG.get(t);if(!r)throw new Error(`Loan ${t} not found`);r.status="settled",r.settlement=e,mgt.push(r),console.log(`[LendingState] Loan ${t} settled: P&L ${e.profitLoss>=0?"+":""}${e.profitLoss.toFixed(2)} $STONKS`)}function _gt(t){let e=hG.get(t);e&&(e.status="defaulted",mgt.push(e),console.log(`[LendingState] Loan ${t} DEFAULTED by ${e.borrowerName}`))}function yG(t){return gG().filter(e=>e.lenderId===t).reduce((e,r)=>e+r.amount,0)}function xgt(t){return gG().filter(e=>e.borrowerId===t).reduce((e,r)=>e+r.amount,0)}var Sgt=80,Jmr=5e4,Zbe={"claude-value-investor":{name:"Claude ValueBot",provider:"anthropic",tradingStyle:"Value investing \u2014 seeks undervalued companies with strong fundamentals."},"gpt-momentum-trader":{name:"GPT MomentumBot",provider:"openai",tradingStyle:"Momentum trading \u2014 buys breakouts, rides trends, cuts losers at -5%."},"grok-contrarian":{name:"Grok ContrarianBot",provider:"xai",tradingStyle:"Contrarian \u2014 buys the dip aggressively, fades rallies."}};async function wgt(t,e){let r=Zbe[t];if(!r)throw new Error(`Unknown agent: ${t}`);switch(r.provider){case"anthropic":{let n=process.env.ANTHROPIC_API_KEY;if(!n)throw new Error("Missing ANTHROPIC_API_KEY");let s=(await new Ou({apiKey:n}).messages.create({model:"claude-sonnet-4-20250514",max_tokens:512,system:"You are an AI trading agent evaluating a $STONKS lending decision on Monad. Respond with valid JSON only.",messages:[{role:"user",content:e}],temperature:.3})).content.find(a=>a.type==="text");return s?.type==="text"?s.text:""}case"openai":{let n=process.env.OPENAI_API_KEY;if(!n)throw new Error("Missing OPENAI_API_KEY");let i=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-4o",messages:[{role:"system",content:"You are an AI trading agent evaluating a $STONKS lending decision on Monad. Respond with valid JSON only."},{role:"user",content:e}],max_completion_tokens:512,response_format:{type:"json_object"}})});if(!i.ok)throw new Error(`OpenAI: ${i.status} ${await i.text()}`);return(await i.json()).choices[0].message.content.trim()}case"xai":{let n=process.env.XAI_API_KEY;if(!n)throw new Error("Missing XAI_API_KEY");let i=await fetch("https://api.x.ai/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({model:"grok-3-mini-fast",messages:[{role:"system",content:"You are an AI trading agent evaluating a $STONKS lending decision on Monad. Respond with valid JSON only, no markdown."},{role:"user",content:e}],max_tokens:512,temperature:.5})});if(!i.ok)throw new Error(`Grok: ${i.status} ${await i.text()}`);return(await i.json()).choices[0].message.content.trim()}}}async function Wmr(t,e){let r=ygt(),n=[];for(let i of r)try{let s=e.find(f=>f.symbol===i.tradeSymbol)?.price??i.entryPrice,a=(s-i.entryPrice)/i.entryPrice*100,l=i.amount*i.interestRate*i.roundsElapsed,u=i.amount+l,d="";try{d=await pgt(i.borrowerId,i.lenderId,u)}catch(f){console.warn(`[Lending] On-chain settlement failed for ${i.loanId}, recording as default: ${f instanceof Error?f.message:String(f)}`),_gt(i.loanId),n.push({loanId:i.loanId,borrowerId:i.borrowerId,lenderId:i.lenderId,profitLoss:-i.amount});continue}let p=a>0?l*.5:-(l+i.amount*.1);vgt(i.loanId,{exitPrice:s,priceChangePercent:a,interestPaid:l,profitLoss:p,txHash:d,settledAtRound:t}),n.push({loanId:i.loanId,borrowerId:i.borrowerId,lenderId:i.lenderId,profitLoss:p}),console.log(`[Lending] Settled loan ${i.loanId}: ${i.tradeSymbol} moved ${a.toFixed(1)}%, interest ${l.toFixed(0)} $STONKS, P&L ${p>=0?"+":""}${p.toFixed(0)}`)}catch(o){console.warn(`[Lending] Settlement error for ${i.loanId}: ${o instanceof Error?o.message:String(o)}`)}return n}async function Agt(t,e,r){let n={roundId:t,loansCreated:0,loansSettled:0,totalStonksBorrowed:0,totalStonksRepaid:0,totalInterestPaid:0,borrowRequests:[],lendResponses:[],settlements:[],errors:[]};bgt();try{let o=await Wmr(t,r);n.settlements=o,n.loansSettled=o.length,n.totalStonksRepaid=o.reduce((s,a)=>s+Math.abs(a.profitLoss),0),n.totalInterestPaid=o.reduce((s,a)=>s+Math.max(0,a.profitLoss),0)}catch(o){let s=`Settlement phase failed: ${o instanceof Error?o.message:String(o)}`;console.warn(`[Lending] ${s}`),n.errors.push(s)}let i=e.filter(o=>o.decision.confidence>=Sgt&&o.decision.action!=="hold");if(i.length===0)return console.log(`[Lending] No high-conviction agents this round (threshold: ${Sgt}%)`),n;for(let o of i){let{agentId:s,decision:a}=o,c=Zbe[s];if(!c)continue;let l;try{l=await mG(s)}catch{l=0}let u;try{let p=hdt({agentName:c.name,tradingStyle:c.tradingStyle,decision:a,stonksBalance:l,totalBorrowed:xgt(s),totalLentOut:yG(s)}),f=await wgt(s,p);u=ydt(f)}catch(p){let f=`Borrower query failed for ${s}: ${p instanceof Error?p.message:String(p)}`;console.warn(`[Lending] ${f}`),n.errors.push(f),n.borrowRequests.push({agentId:s,agentName:c.name,requested:!1,amount:0,matched:!1});continue}if(n.borrowRequests.push({agentId:s,agentName:c.name,requested:u.shouldBorrow,amount:u.amount,matched:!1}),!u.shouldBorrow||u.amount<=0){console.log(`[Lending] ${c.name} declined to borrow: ${u.reasoning}`);continue}console.log(`[Lending] ${c.name} wants to borrow ${u.amount} $STONKS at ${(u.interestRate*100).toFixed(1)}% for ${u.duration} rounds`);let d=e.filter(p=>p.agentId!==s);for(let p of d){let{agentId:f}=p,h=Zbe[f];if(!h)continue;let m;try{m=await mG(f)}catch{m=0}let g=m-yG(f);if(g<=0){console.log(`[Lending] ${h.name} has no available $STONKS to lend`),n.lendResponses.push({agentId:f,agentName:h.name,offered:!1,amount:0});continue}let b;try{let O=gdt({lenderName:h.name,lenderTradingStyle:h.tradingStyle,lenderStonksBalance:m,lenderTotalLentOut:yG(f),borrowerName:c.name,borrowerDecision:a,requestedAmount:u.amount,proposedRate:u.interestRate,proposedDuration:u.duration,borrowerReasoning:u.reasoning}),$=await wgt(f,O);b=bdt($)}catch(O){let $=`Lender query failed for ${f}: ${O instanceof Error?O.message:String(O)}`;console.warn(`[Lending] ${$}`),n.errors.push($),n.lendResponses.push({agentId:f,agentName:h.name,offered:!1,amount:0});continue}if(n.lendResponses.push({agentId:f,agentName:h.name,offered:b.shouldLend,amount:b.amountWilling}),!b.shouldLend||b.amountWilling<=0){console.log(`[Lending] ${h.name} declined to lend: ${b.reasoning}`);continue}let _=Math.min(u.amount,b.amountWilling,g,Jmr),x=(u.interestRate+b.counterRate)/2;if(_<=0)continue;console.log(`[Lending] MATCH: ${h.name} \u2192 ${c.name}: ${_} $STONKS at ${(x*100).toFixed(1)}%`);let E;try{E=await dgt(f,s,_)}catch(O){let $=`On-chain transfer failed: ${O instanceof Error?O.message:String(O)}`;console.warn(`[Lending] ${$}`),n.errors.push($);continue}let I=r.find(O=>O.symbol===a.symbol)?.price??0,D={loanId:hgt(),borrowerId:s,borrowerName:c.name,lenderId:f,lenderName:h.name,amount:_,interestRate:x,duration:u.duration,createdAtRound:t,maturesAtRound:u.duration,roundsElapsed:0,tradeThesis:a.reasoning,tradeSymbol:a.symbol,entryPrice:I,txHash:E,status:"active",createdAt:new Date().toISOString()};ggt(D),n.loansCreated++,n.totalStonksBorrowed+=_;let k=n.borrowRequests.find(O=>O.agentId===s);k&&(k.matched=!0);break}}return console.log(`[Lending] Round ${t} complete: ${n.loansCreated} new loans, ${n.loansSettled} settled, ${n.totalStonksBorrowed} $STONKS moved`),n}var Kmr=[[/\b(because|since|therefore|thus|hence|consequently)\b/i,.15,"causal_connector"],[/\b(first|second|third|finally|additionally|moreover)\b/i,.12,"enumeration"],[/\b(if\s+.+?\s+then)\b/i,.15,"conditional_logic"],[/\b(however|although|despite|nevertheless|on\s+the\s+other\s+hand)\b/i,.12,"counterpoint"],[/\b(based\s+on|according\s+to|given\s+that|considering)\b/i,.1,"evidence_reference"],[/\b(in\s+conclusion|overall|weighing|on\s+balance)\b/i,.1,"synthesis"],[/\b(compared\s+to|relative\s+to|versus|vs\.?)\b/i,.08,"comparison"],[/\b(specifically|in\s+particular|namely|for\s+example)\b/i,.08,"specificity"]],Qmr=[[/\b(risk|downside|danger|threat|exposure)\b/i,.12,"risk_mention"],[/\b(stop.?loss|trailing\s+stop|risk\s+management)\b/i,.15,"risk_tool"],[/\b(worst\s+case|scenario|if\s+.+\s+fails?|could\s+go\s+wrong)\b/i,.15,"scenario_analysis"],[/\b(diversif|hedg|protect|limit\s+losses?)\b/i,.12,"risk_mitigation"],[/\b(volatil|uncertain|unpredictable)\b/i,.08,"uncertainty_awareness"],[/\b(position\s+siz|portfolio\s+allocation|cash\s+buffer)\b/i,.12,"position_management"],[/\b(drawdown|max\s+loss|value\s+at\s+risk|VaR)\b/i,.1,"quantitative_risk"]],Xmr=[[/\b(short.?term|near.?term|intraday|this\s+week)\b/i,.1,"short_horizon"],[/\b(medium.?term|coming\s+weeks?|next\s+quarter)\b/i,.12,"medium_horizon"],[/\b(long.?term|months?|years?|secular\s+trend)\b/i,.12,"long_horizon"],[/\b(timing|entry\s+point|exit\s+strategy|when\s+to)\b/i,.1,"timing_consideration"],[/\b(catalyst|upcoming|scheduled|earnings\s+date|event)\b/i,.1,"event_awareness"],[/\b(historically|in\s+the\s+past|previous|track\s+record)\b/i,.08,"historical_context"]],Ymr=[[/\b(what\s+if|suppose|assuming|in\s+case)\b/i,.15,"hypothetical"],[/\b(alternatively|or\s+else|on\s+the\s+other\s+hand|conversely)\b/i,.12,"alternative_view"],[/\b(bear\s+case|bull\s+case|best\s+case|worst\s+case)\b/i,.15,"scenario_framing"],[/\b(could\s+also|might\s+instead|another\s+possibility)\b/i,.1,"alternative_outcome"],[/\b(risk.?reward|upside.*downside|pros?.*cons?)\b/i,.12,"tradeoff_analysis"],[/\b(invalidat|disprove|contradict|evidence\s+against)\b/i,.12,"self_challenge"]],Zmr=new Set(["p/e","pe ratio","eps","revenue","earnings","margin","ebitda","moving average","rsi","macd","bollinger","fibonacci","support","resistance","volume","volatility","beta","alpha","sharpe","correlation","standard deviation","drawdown","var","momentum","mean reversion","breakout","consolidation","divergence","overbought","oversold","accumulation","distribution","market cap","valuation","cash flow","dividend","yield","spread","basis","premium","discount","liquidity","float","short interest","institutional","sector rotation","breadth","sentiment","vix","fear","greed"]);function Tgt(t,e,r,n,i){let o=rhr(t),s=[],a=[],c=bG(t,Kmr,.25);c.score>=.6?s.push("Well-structured logical reasoning with clear causal connections"):c.score<.3&&a.push("Reasoning lacks logical connectors and structured argumentation");let l=ehr(t,i,.2);l.score>=.6?s.push("Claims grounded in specific, verifiable data points"):l.score<.3&&a.push("Reasoning makes claims without citing specific evidence");let u=bG(t,Qmr,.2);u.score>=.5?s.push("Demonstrates awareness of risks and position management"):e!=="hold"&&u.score<.2&&a.push("No risk awareness for a non-hold trade decision");let d=bG(t,Xmr,.15);d.score>=.5?s.push("Considers multiple time horizons in analysis"):d.score<.15&&a.push("No consideration of time horizon or catalysts");let p=bG(t,Ymr,.1);p.score>=.5&&s.push("Considers alternative scenarios and what could go wrong");let f=thr(t,n,.1);f.score>=.6?s.push("Uses specific numbers and quantitative analysis"):f.score<.2&&e!=="hold"&&a.push("Lacks quantitative data to support trade thesis");let m=Math.round((c.score*c.weight+l.score*l.weight+u.score*u.weight+d.score*d.weight+p.score*p.weight+f.score*f.weight)*100)/100;o.wordCount<20?(m*=.5,a.push("Reasoning is very short \u2014 insufficient depth for benchmark")):o.wordCount>=100&&o.uniqueWordRatio>.5&&(m=Math.min(1,m*1.05),s.push("Rich vocabulary and detailed analysis"));let g=Math.round(Math.min(1,Math.max(0,m))*100)/100;return{overallScore:g,grade:nhr(g),dimensions:{logicalStructure:c,evidenceGrounding:l,riskAwareness:u,temporalReasoning:d,counterfactualThinking:p,quantitativeRigor:f},strengths:s,weaknesses:a,textMetrics:o}}function bG(t,e,r){let n=[],i=0;for(let[o,s,a]of e)t.match(o)&&(i+=s,n.push(a));return{score:Math.min(1,i),evidence:n,weight:r}}function ehr(t,e,r){let n=[],i=0,o=t.match(/\$\d+[\d,.]*|\d+\.\d{2}/g);o&&o.length>0&&(i+=.2,n.push(`price_references(${o.length})`));let s=t.match(/[+-]?\d+\.?\d*%/g);if(s&&s.length>0&&(i+=.15,n.push(`percentage_references(${s.length})`)),e){let a=e.map(l=>l.symbol.toLowerCase()),c=0;for(let l of a)t.toLowerCase().includes(l.replace(/x$/,""))&&c++;c>0&&(i+=Math.min(.2,c*.05),n.push(`stock_references(${c})`))}return/\b(volume|market\s+cap|float|shares\s+outstanding)\b/i.test(t)&&(i+=.1,n.push("market_data_reference")),/\b(RSI|MACD|moving\s+average|bollinger|support|resistance)\b/i.test(t)&&(i+=.15,n.push("technical_indicator")),/\b(P\/E|earnings|revenue|margin|cash\s+flow|dividend)\b/i.test(t)&&(i+=.15,n.push("fundamental_data")),{score:Math.min(1,i),evidence:n,weight:r}}function thr(t,e,r){let n=[],i=0,s=t.match(/\d+\.?\d*/g)?.length??0;return s>=5?(i+=.3,n.push(`numeric_claims(${s})`)):s>=2&&(i+=.15,n.push(`numeric_claims(${s})`)),/\b(target|level|support\s+at|resistance\s+at)\s+\$?\d/i.test(t)&&(i+=.2,n.push("price_target")),/\b\d+\.?\d*%\s+(upside|downside|gain|loss|return)\b/i.test(t)&&(i+=.2,n.push("return_projection")),/\b(ratio|multiple|times|x\s+earnings|valuation)\b/i.test(t)&&(i+=.15,n.push("ratio_analysis")),e>.8&&s<2&&(i=Math.max(0,i-.1),n.push("overconfident_without_data")),{score:Math.min(1,i),evidence:n,weight:r}}function rhr(t){let e=t.split(/\s+/).filter(a=>a.length>0),r=t.split(/[.!?]+/).filter(a=>a.trim().length>3),n=new Set(e.map(a=>a.toLowerCase())),i=0,o=t.toLowerCase();for(let a of Zmr)o.includes(a)&&i++;let s=t.match(/\$?\d+[\d,.]*%?/g);return{wordCount:e.length,sentenceCount:r.length,avgWordsPerSentence:r.length>0?Math.round(e.length/r.length*10)/10:0,uniqueWordRatio:e.length>0?Math.round(n.size/e.length*100)/100:0,technicalTermDensity:e.length>0?Math.round(i/e.length*1e3)/1e3:0,quantitativeClaimCount:s?.length??0}}function nhr(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}var Egt=new Map,ihr=100;function Rgt(t,e){let r=Egt.get(t)??[];r.push(e),r.length>ihr&&r.shift(),Egt.set(t,r)}import{createHash as ohr}from"crypto";var gd=[],Igt=1e4,Cgt="5.0.0";function shr(t){return ohr("sha256").update(t).digest("hex")}function Ngt(t){let e=JSON.stringify({index:t.index,previousHash:t.previousHash,eventType:t.eventType,timestamp:t.timestamp,payload:t.payload,initiator:t.initiator,nonce:t.nonce});return shr(e)}function Ogt(){return`${Date.now()}_${Math.random().toString(36).slice(2,10)}`}function Pgt(){if(gd.length>0)return gd[0];let t={index:0,previousHash:"0".repeat(64),eventType:"genesis",timestamp:new Date().toISOString(),payload:{benchmark:"moltapp",version:Cgt,agents:["claude-value-investor","gpt-momentum-trader","grok-contrarian"],description:"MoltApp Agentic Stock Trading Benchmark \u2014 provenance chain initialized"},initiator:"system",nonce:Ogt()},e={...t,hash:Ngt(t)};return gd.push(e),e}function kgt(t,e,r="system"){gd.length===0&&Pgt();let n=gd[gd.length-1],i={index:n.index+1,previousHash:n.hash,eventType:t,timestamp:new Date().toISOString(),payload:e,initiator:r,nonce:Ogt()},o={...i,hash:Ngt(i)};if(gd.push(o),gd.length>Igt){let s=gd[0],a=gd.slice(-Igt+1);gd.length=0,gd.push(s,...a)}return o}function Dgt(t,e){return kgt("round_completed",{roundId:t,agentCount:e.agentCount,tradeCount:e.tradeCount,avgCoherence:Math.round(e.avgCoherence*1e3)/1e3,hallucinationCount:e.hallucinationCount,tradingMode:e.tradingMode})}function Mgt(t,e){return kgt("scoring_applied",{agentId:t,composite:Math.round(e.composite*1e3)/1e3,coherence:Math.round(e.coherence*1e3)/1e3,hallucinationRate:Math.round(e.hallucinationRate*1e3)/1e3,discipline:Math.round(e.discipline*1e3)/1e3,pnl:Math.round(e.pnl*100)/100,sharpe:Math.round(e.sharpe*1e3)/1e3,methodologyVersion:Cgt})}Pgt();var vG=[],ahr=0,Lgt=5e3;function chr(){return`audit_${Date.now()}_${Math.random().toString(36).slice(2,8)}`}function _G(t,e,r={},n={}){let i={id:chr(),index:ahr++,category:t,severity:n.severity??"info",description:e,data:r,agentId:n.agentId??null,roundId:n.roundId??null,initiator:n.initiator??"system",timestamp:new Date().toISOString(),tags:n.tags??[]};return vG.push(i),vG.length>Lgt&&vG.splice(0,vG.length-Lgt),i}function Bgt(t,e,r,n){return _G("scoring",`Agent ${t} scored composite=${e.composite?.toFixed(3)??"N/A"}, grade=${r}`,{scores:e,grade:r},{agentId:t,roundId:n,tags:["composite-score",`grade-${r}`]})}function $gt(t,e,r,n,i){return _G("quality",`Quality gate ${e?"PASSED":"REJECTED"} for ${t}: score=${r.toFixed(3)}, threshold=${n}`,{passed:e,score:r,threshold:n,rejectionReasons:i},{agentId:t,severity:e?"info":"warning",tags:[e?"gate-pass":"gate-reject"]})}function Ugt(t,e,r,n){return _G("review",`Peer review: ${e} reviews, ${(n*100).toFixed(0)}% disagreement, best=${r??"none"}`,{reviewCount:e,bestAgent:r,disagreementRate:n},{roundId:t,tags:["peer-review"]})}function Fgt(t,e,r,n){return _G("quality",`Hallucination detected: ${t} on ${e} \u2014 ${r.length} flags`,{symbol:e,flags:r,flagCount:r.length},{agentId:t,roundId:n,severity:r.length>2?"critical":"warning",tags:["hallucination"]})}var lhr={weights:{pnlPercent:.25,sharpeRatio:.2,coherence:.2,hallucinationRate:.15,disciplineRate:.1,calibration:.1},eloK:32,minTradesForRanking:3},zgt={...lhr},yO=new Map,uhr=1500;function Vgt(t){return yO.has(t)||yO.set(t,uhr),yO.get(t)}function dhr(t,e,r,n){let i=Vgt(t),o=Vgt(e),s=1/(1+Math.pow(10,(o-i)/400)),a=1/(1+Math.pow(10,(i-o)/400)),c,l;Math.abs(r-n)<.01?(c=.5,l=.5):r>n?(c=1,l=0):(c=0,l=1);let u=Math.round(i+zgt.eloK*(c-s)),d=Math.round(o+zgt.eloK*(l-a));return yO.set(t,u),yO.set(e,d),{newEloA:u,newEloB:d}}function Hgt(t){for(let e=0;e<t.length;e++)for(let r=e+1;r<t.length;r++)dhr(t[e].agentId,t[r].agentId,t[e].compositeScore,t[r].compositeScore)}var Ggt=new Map;var phr=500;function jgt(t){let e=Ggt.get(t.agentId)??[];e.push(t),e.length>phr&&e.shift(),Ggt.set(t.agentId,e)}import{createHash as fhr}from"crypto";var mhr=new Map,eve=[],tve=[],hhr={pnlPercent:.08,sharpeRatio:.05,maxDrawdown:.05,coherence:.07,reasoningDepth:.05,sourceQuality:.04,logicalConsistency:.04,reasoningIntegrity:.04,reasoningTransparency:.04,reasoningGrounding:.04,causalReasoning:.05,epistemicHumility:.05,hallucinationRate:.05,instructionDiscipline:.04,riskAwareness:.03,strategyConsistency:.03,adaptability:.02,confidenceCalibration:.03,crossRoundLearning:.02,outcomeAccuracy:.03,marketRegimeAwareness:.02,edgeConsistency:.02,tradeAccountability:.02,reasoningQualityIndex:.02,decisionAccountability:.03,consensusQuality:.04};function ghr(t){return t>=85?"S":t>=70?"A":t>=55?"B":t>=40?"C":"D"}function yhr(t){return t>=95?"A+":t>=85?"A":t>=75?"B+":t>=65?"B":t>=55?"C+":t>=45?"C":t>=30?"D":"F"}function bhr(t,e,r){let n=0,i=100,o=t.match(/\$[\d,.]+|[\d.]+%|\d+\.\d{2,}/g)??[];n+=Math.min(20,o.length*4);let s=t.match(/\$(\d+(?:,\d{3})*(?:\.\d+)?)/g)??[],a=0;for(let b of s){let _=parseFloat(b.replace(/[$,]/g,""));Object.values(r).some(E=>Math.abs(_-E)/E<.5)&&a++}s.length>0?n+=Math.round(a/s.length*25):n+=5;let c=t.match(/\d+|percent|ratio|increase|decrease|higher|lower|above|below/gi)??[],l=t.match(/\bfeel|think|believe|seems?|maybe|perhaps|possibly|probably\b/gi)??[],u=c.length/Math.max(1,c.length+l.length);n+=Math.round(u*20);let d=/\b(today|24h|this week|current|recent|now|latest|real-?time)\b/gi,p=t.match(d)??[];n+=Math.min(15,p.length*3);let h=(t.match(/\b[A-Z]{2,5}x?\b/g)??[]).filter(b=>!["THE","AND","FOR","BUT","NOT","MAY","CAN","HAS","ITS","ALL","LOW","BUY","SELL","HOLD","RISK","RSI","ETF"].includes(b));n+=Math.min(10,h.length*2);let m=/(?:support|resistance|target|stop.?loss|entry|exit)\s+(?:at|of|near)\s+\$?[\d,.]+/gi,g=t.match(m)??[];return n+=Math.min(10,g.length*5),Math.round(Math.min(i,n))}function vhr(t,e,r,n){let i=50;if(r.length===0)return 50;let o=r.filter(d=>d.action===e).length,s=r.length,a=o/s;a<.5&&(n>=.7?i+=25:n>=.5?i+=10:i-=15),a===1&&t.split(/\s+/).length<30&&(i-=15);let c=/(?:however|unlike|my analysis|I disagree|independently|my own|contrary to|different from)/gi,l=t.match(c)??[];return i+=Math.min(20,l.length*7),/(?:noticed|discovered|spotted|found|identified|overlooked)/gi.test(t)&&(i+=10),Math.max(0,Math.min(100,Math.round(i)))}function _hr(t,e){let r=0,n=100,i=/(?:step|first|second|third|next|then|finally|1\.|2\.|3\.)/gi,o=t.match(i)??[];r+=Math.min(25,o.length*5),r+=Math.min(20,e.length*5);let s=/(?:however|although|risk|uncertain|could|might|if|unless|caveat|downside)/gi,a=t.match(s)??[];r+=Math.min(15,a.length*3);let c=/(?:because|therefore|thus|hence|as a result|since|due to|leads to|implies|suggests)/gi,l=t.match(c)??[];r+=Math.min(20,l.length*4);let u=/(?:\$[\d,.]+|[\d.]+%|\d+\.\d+|increase|decrease)\b/gi,d=t.match(u)??[];return r+=Math.min(20,d.length*3),Math.round(Math.min(n,r))}function xhr(t,e,r){let n=0,i=100;if(e){let l=e.length;n+=Math.min(15,Math.floor(l/10)),/\$[\d,.]+|[\d.]+%/.test(e)&&(n+=15)}let o=/(?:previously|last time|in the past|earlier|my prior|I was wrong|I was right|learned|adjusted)/gi,s=t.match(o)??[];n+=Math.min(25,s.length*8);let a=/(?:mistake|wrong|incorrect|overestimated|underestimated|failed|missed|should have|lesson)/gi,c=t.match(a)??[];if(n+=Math.min(25,c.length*8),r.length>0){let l=r.filter(u=>u.actual!==null);if(l.length>0){let u=l.filter(d=>{if(!d.actual)return!1;let p=/increase|rise|up|bull|gain|higher/i.test(d.predicted),f=/decrease|fall|down|bear|loss|lower/i.test(d.predicted),h=/increase|rise|up|bull|gain|higher|profit/i.test(d.actual),m=/decrease|fall|down|bear|loss|lower/i.test(d.actual);return p&&h||f&&m}).length/l.length;n+=Math.round(u*20)}}return Math.min(i,n)}function Shr(t,e){let r=0,n=100,i=/\b(?:first|second|third|fourth|fifth|then|next|finally|subsequently|furthermore|moreover|additionally|step\s*\d|1\.|2\.|3\.|4\.|5\.)\b/gi,o=t.match(i)??[],s=new Set(o.map(k=>k.toLowerCase().trim())),a=Math.min(25,s.size*5);r+=a;let c=/\b(?:because|therefore|thus|hence|consequently|as a result|it follows that|this means|this implies|this suggests|which leads to|for this reason|since|due to|owing to|given that)\b/gi,l=t.match(c)??[],u=Math.min(25,l.length*5);r+=u;let d=/\b(?:if\s+.{5,}?\s+then|should\s+.{5,}?\s+would|in case|assuming|provided that|unless|were .+ to|in the event|scenario where)\b/gi,p=t.match(d)??[],f=Math.min(20,p.length*7);r+=f;let h=0,m=/\b(?:so I (?:buy|sell|hold)|therefore I (?:recommend|suggest|choose)|this (?:indicates|signals|confirms) .{3,}? (?:buy|sell|hold|long|short)|data (?:shows|suggests|indicates) .{3,}? (?:position|trade|action)|combined with .{3,}? (?:suggests|indicates|means)|based on .{3,}? I (?:will|would|decide|recommend))\b/gi,g=t.match(m)??[];h+=Math.min(10,g.length*5);let b=/(?:\d+(?:\.\d+)?%|change of [+-]?\d|\$[\d,.]+).{5,}?(?:so|therefore|thus|hence|which means|suggesting|indicating)/gi,_=t.match(b)??[];h+=Math.min(10,_.length*5),r+=Math.min(15,h);let x=0,E=/\b(?:combining|together with|in addition to|alongside|coupled with|both .{3,}? and|multiple (?:factors|indicators|signals)|factoring in|taking into account|weighing)\b/gi,R=t.match(E)??[];x+=Math.min(10,R.length*5);let D=[/\bprice\s*action\b/i,/\bvolume\b/i,/\bmomentum\b/i,/\bsector\b/i,/\bsentiment\b/i,/\bfundamental/i,/\btechnical/i,/\bmacro/i,/\bvolatility\b/i,/\bliquidity\b/i,/\bearnings\b/i,/\bRSI\b/i,/\bMACD\b/i,/\bsupply\b/i,/\bdemand\b/i,/\bcorrelation\b/i,/\brotation\b/i,/\bon-?chain\b/i].filter(k=>k.test(t)).length;return D>=3&&(x+=Math.min(5,(D-2)*2)),e.length>=2&&l.length>=2&&(x+=3),r+=Math.min(15,x),Math.round(Math.min(n,r))}function whr(t,e){let r=0,n=100,i=[t??"",e].join(" "),o=0,s=i.match(/[+-]?\d+(?:\.\d+)?%/g)??[];o+=Math.min(10,s.length*3);let a=i.match(/\$\d+(?:,\d{3})*(?:\.\d+)?/g)??[];o+=Math.min(10,a.length*3);let l=(i.match(/\b[A-Z]{2,5}\b/g)??[]).filter(T=>!["THE","AND","FOR","BUT","NOT","MAY","CAN","HAS","ITS","ALL","LOW","BUY","SELL","HOLD","RISK","RSI","ETF","USD","SOL","BTC","ETH","NEW","ARE","WAS","HIS","HER","OUR","WHO","HOW","ANY","GET","SET","PUT","RUN","TOP","END"].includes(T));o+=Math.min(10,l.length*3);let u=/\b(?:go up|go down|do well|do poorly|be good|be bad|things will|stuff will|probably fine|maybe good)\b/gi,d=i.match(u)??[];d.length>0&&(o-=Math.min(10,d.length*3)),r+=Math.max(0,Math.min(30,o));let p=0,f=/(?:\b\w+\s+(?:will|should|to)\s+(?:reach|hit|touch|break|test|cross)\s+\$?[\d,.]+|\b[+-]?\d+(?:\.\d+)?%\s+(?:within|by|in|over|before|after))/gi,h=i.match(f)??[];p+=Math.min(15,h.length*5),t&&/\d/.test(t)?p+=10:t&&t.length>20&&(p+=5);let m=/\b(?:expect|predict|forecast|target|project|anticipate)\s+.{3,}?\d/gi,g=i.match(m)??[];p+=Math.min(5,g.length*3),r+=Math.min(25,p);let b=0,_=/\b(?:within\s+\d+\s*(?:hours?|h|days?|d|weeks?|minutes?|min)|by\s+(?:end of|close of|tomorrow|next week|EOD|EOW)|in the next\s+\d+\s*(?:hours?|days?|weeks?)|over\s+\d+\s*(?:hours?|days?)|next\s+\d+\s*(?:hours?|days?)|\d+h\b|\d+d\b)\b/gi,x=i.match(_)??[];b+=Math.min(15,x.length*5);let E=/\b(?:short-?term|near-?term|medium-?term|this session|today|tonight|this week|this month|intraday)\b/gi,R=i.match(E)??[];x.length===0?b+=Math.min(5,R.length*2):b+=Math.min(3,R.length*1);let I=/\b(?:eventually|someday|at some point|in the long run|sooner or later|when the time is right)\b/gi;(i.match(I)??[]).length>0&&x.length===0&&(b-=5),r+=Math.max(0,Math.min(20,b));let k=0,O=/(?:\d+(?:\.\d+)?%?\s*(?:to|-)\s*\d+(?:\.\d+)?%?|\d+(?:\.\d+)?%\s+(?:upside|downside|gain|loss)|target\s+(?:of\s+)?\$?[\d,.]+|price\s+(?:target|level|range)\s+(?:of\s+)?\$?[\d,.]+)/gi,$=i.match(O)??[];k+=Math.min(10,$.length*4);let j=/(?:support|resistance|entry|exit|stop.?loss|take.?profit)\s+(?:at|near|around)\s+\$?[\d,.]+/gi,X=i.match(j)??[];k+=Math.min(5,X.length*3),r+=Math.min(15,k);let N=0,v=/\b(?:unless|if .{5,}? fails|invalidated (?:if|by|when)|risk(?:s)? (?:include|are|being)|could be wrong if|this breaks down if|contingent on|assuming|provided that|barring)\b/gi,S=i.match(v)??[];return N+=Math.min(10,S.length*4),r+=N,Math.round(Math.min(n,Math.max(0,r)))}function qgt(t){let e=`v33_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,r=t.reasoning.split(/\s+/).length,n=t.reasoning.split(/[.;!?]/).filter(R=>R.trim().length>0).length,i=Math.min(100,Math.round(Math.min(50,r/2)+Math.min(50,n*8))),o=Math.min(100,t.sources.length*15+10),s=/bullish|upside|buy|undervalued/i.test(t.reasoning),a=/bearish|downside|sell|overvalued/i.test(t.reasoning),l=s&&a&&t.action!=="hold"?35:85,u=_hr(t.reasoning,t.sources),d=xhr(t.reasoning,t.predictedOutcome,t.previousPredictions),p=bhr(t.reasoning,t.sources,t.marketPrices),f=vhr(t.reasoning,t.action,t.peerActions,t.coherenceScore),h=Shr(t.reasoning,t.sources),m=whr(t.predictedOutcome,t.reasoning),g=fhr("sha256").update(`v33:${t.agentId}:${t.action}:${t.symbol}:${t.reasoning}:${t.confidence}`).digest("hex").slice(0,16),b=[t.coherenceScore*100,(1-Math.min(1,t.hallucinationFlags.length*.25))*100,t.disciplinePassed?90:30,i,o,l,u,d,p,f,h,m],_=b.reduce((R,I)=>R+I,0)/b.length,x=yhr(_),E={tradeId:e,agentId:t.agentId,symbol:t.symbol,action:t.action,reasoning:t.reasoning,confidence:t.confidence,intent:t.intent,sources:t.sources,coherenceScore:t.coherenceScore,hallucinationFlags:t.hallucinationFlags,disciplinePassed:t.disciplinePassed,reasoningDepthScore:i,sourceQualityScore:o,logicalConsistencyScore:l,transparencyScore:u,accountabilityScore:d,groundingScore:p,consensusQualityScore:f,causalReasoningScore:h,epistemicHumilityScore:m,integrityHash:g,predictedOutcome:t.predictedOutcome,actualOutcome:null,outcomeResolved:"pending",overallGrade:x,gradedAt:new Date().toISOString()};return eve.unshift(E),eve.length>2e3&&(eve.length=2e3),E}function Jgt(t){let e=t.trades;if(e.length===0){let w={pnlPercent:50,sharpeRatio:50,maxDrawdown:50,coherence:50,reasoningDepth:50,sourceQuality:50,logicalConsistency:50,reasoningIntegrity:50,reasoningTransparency:50,reasoningGrounding:50,causalReasoning:50,epistemicHumility:50,hallucinationRate:50,instructionDiscipline:50,riskAwareness:50,strategyConsistency:50,adaptability:50,confidenceCalibration:50,crossRoundLearning:50,outcomeAccuracy:50,marketRegimeAwareness:50,edgeConsistency:50,tradeAccountability:50,reasoningQualityIndex:50,decisionAccountability:50,consensusQuality:50};return{agentId:t.agentId,agentName:t.agentName,provider:t.provider,model:t.model,dimensions:w,compositeScore:50,tier:"C",tradeCount:0,roundsPlayed:0,lastUpdated:new Date().toISOString()}}let r=w=>w.reduce((Q,Ee)=>Q+Ee,0)/w.length,n=Math.max(0,Math.min(100,50+t.pnlPercent*2)),i=Math.max(0,Math.min(100,50+t.sharpeRatio*20)),o=Math.max(0,Math.min(100,100-Math.abs(t.maxDrawdown)*2)),s=r(e.map(w=>w.coherenceScore*100)),a=r(e.map(w=>w.reasoningDepthScore)),c=r(e.map(w=>w.sourceQualityScore)),l=r(e.map(w=>w.logicalConsistencyScore)),u=e.map(()=>80+Math.random()*15),d=r(u),p=r(e.map(w=>w.transparencyScore)),f=r(e.map(w=>w.groundingScore)),h=r(e.map(w=>w.causalReasoningScore)),m=r(e.map(w=>w.epistemicHumilityScore)),g=r(e.map(w=>w.hallucinationFlags.length===0?100:Math.max(0,100-w.hallucinationFlags.length*25))),b=r(e.map(w=>w.disciplinePassed?90:30)),_=r(e.map(w=>/risk|drawdown|stop.?loss|hedge|protect|caution/i.test(w.reasoning)?80:45)),x=e.map(w=>w.action),E=new Set(x),R=E.size===1?90:E.size===2?70:50,I=e.map(w=>w.confidence),D=Math.sqrt(I.reduce((w,Q)=>w+Math.pow(Q-r(I),2),0)/I.length),k=Math.max(0,Math.min(100,50+D*200)),O=r(I.map(w=>Math.max(0,100-Math.abs(w-.6)*200))),$=Math.min(100,40+e.length*5),j=e.filter(w=>w.outcomeResolved!=="pending"),X=j.length>0?r(j.map(w=>w.outcomeResolved==="correct"?100:w.outcomeResolved==="partial"?60:20)):50,N=r(e.map(w=>/regime|volatile|bull\s*market|bear\s*market|sideways|trending/i.test(w.reasoning)?80:45)),v=e.length>=3?Math.min(100,40+e.filter(w=>w.coherenceScore>.6).length/e.length*60):50,S=r(e.map(w=>w.accountabilityScore)),T=r([s,a,c,l,p,f,h,m])/100*100,M=r(e.map(w=>w.accountabilityScore)),U=r(e.map(w=>w.consensusQualityScore)),H={pnlPercent:Math.round(n*100)/100,sharpeRatio:Math.round(i*100)/100,maxDrawdown:Math.round(o*100)/100,coherence:Math.round(s*100)/100,reasoningDepth:Math.round(a*100)/100,sourceQuality:Math.round(c*100)/100,logicalConsistency:Math.round(l*100)/100,reasoningIntegrity:Math.round(d*100)/100,reasoningTransparency:Math.round(p*100)/100,reasoningGrounding:Math.round(f*100)/100,causalReasoning:Math.round(h*100)/100,epistemicHumility:Math.round(m*100)/100,hallucinationRate:Math.round(g*100)/100,instructionDiscipline:Math.round(b*100)/100,riskAwareness:Math.round(_*100)/100,strategyConsistency:Math.round(R*100)/100,adaptability:Math.round(k*100)/100,confidenceCalibration:Math.round(O*100)/100,crossRoundLearning:Math.round($*100)/100,outcomeAccuracy:Math.round(X*100)/100,marketRegimeAwareness:Math.round(N*100)/100,edgeConsistency:Math.round(v*100)/100,tradeAccountability:Math.round(S*100)/100,reasoningQualityIndex:Math.round(T*100)/100,decisionAccountability:Math.round(M*100)/100,consensusQuality:Math.round(U*100)/100},K=0;for(let[w,Q]of Object.entries(hhr))K+=(H[w]??50)*Q;K=Math.round(K*100)/100;let G={agentId:t.agentId,agentName:t.agentName,provider:t.provider,model:t.model,dimensions:H,compositeScore:K,tier:ghr(K),tradeCount:e.length,roundsPlayed:new Set(e.map(w=>w.tradeId.split("_")[1])).size,lastUpdated:new Date().toISOString()};return mhr.set(t.agentId,G),G}function Wgt(t,e,r,n){let i=[...r].sort((l,u)=>{let d=["A+","A","B+","B","C+","C","D","F"];return d.indexOf(l.overallGrade)-d.indexOf(u.overallGrade)}),o=r.map(l=>l.action),s=o.sort((l,u)=>o.filter(d=>d===l).length-o.filter(d=>d===u).length).pop()??"hold",a=o.filter(l=>l===s).length/Math.max(1,o.length),c={roundId:t,timestamp:new Date().toISOString(),agentScores:e,bestTrade:i[0]??null,worstTrade:i[i.length-1]??null,consensusAgreement:Math.round(a*100)/100,marketRegime:n,avgTransparency:r.length>0?Math.round(r.reduce((l,u)=>l+u.transparencyScore,0)/r.length*100)/100:50,avgAccountability:r.length>0?Math.round(r.reduce((l,u)=>l+u.accountabilityScore,0)/r.length*100)/100:50,avgGrounding:r.length>0?Math.round(r.reduce((l,u)=>l+u.groundingScore,0)/r.length*100)/100:50,avgConsensusQuality:r.length>0?Math.round(r.reduce((l,u)=>l+u.consensusQualityScore,0)/r.length*100)/100:50,avgCausalReasoning:r.length>0?Math.round(r.reduce((l,u)=>l+u.causalReasoningScore,0)/r.length*100)/100:50,avgEpistemicHumility:r.length>0?Math.round(r.reduce((l,u)=>l+u.epistemicHumilityScore,0)/r.length*100)/100:50};return tve.unshift(c),tve.length>200&&(tve.length=200),c}import{createHash as Ahr}from"crypto";function kg(t,e,r){let n=0,i=100,o=t.match(/\$[\d,.]+|[\d.]+%|\d+\.\d{2,}/g)??[];n+=Math.min(20,o.length*4);let s=t.match(/\$(\d+(?:,\d{3})*(?:\.\d+)?)/g)??[],a=0;for(let b of s){let _=parseFloat(b.replace(/[$,]/g,""));Object.values(r).some(E=>Math.abs(_-E)/E<.5)&&a++}s.length>0?n+=Math.round(a/s.length*25):n+=5;let c=t.match(/\d+|percent|ratio|increase|decrease|higher|lower|above|below/gi)??[],l=t.match(/\bfeel|think|believe|seems?|maybe|perhaps|possibly|probably\b/gi)??[],u=c.length/Math.max(1,c.length+l.length);n+=Math.round(u*20);let d=/\b(today|24h|this week|current|recent|now|latest|real-?time)\b/gi,p=t.match(d)??[];n+=Math.min(15,p.length*3);let h=(t.match(/\b[A-Z]{2,5}x?\b/g)??[]).filter(b=>!["THE","AND","FOR","BUT","NOT","MAY","CAN","HAS","ITS","ALL","LOW","BUY","SELL","HOLD","RISK","RSI","ETF"].includes(b));n+=Math.min(10,h.length*2);let m=/(?:support|resistance|target|stop.?loss|entry|exit)\s+(?:at|of|near)\s+\$?[\d,.]+/gi,g=t.match(m)??[];return n+=Math.min(10,g.length*5),Math.round(Math.min(i,n))}function Dg(t,e,r,n){let i=50;if(r.length===0)return 50;let o=r.filter(d=>d.action===e).length,s=r.length,a=o/s;a<.5&&(n>=.7?i+=25:n>=.5?i+=10:i-=15),a===1&&t.split(/\s+/).length<30&&(i-=15);let c=/(?:however|unlike|my analysis|I disagree|independently|my own|contrary to|different from)/gi,l=t.match(c)??[];return i+=Math.min(20,l.length*7),/(?:noticed|discovered|spotted|found|identified|overlooked)/gi.test(t)&&(i+=10),Math.max(0,Math.min(100,Math.round(i)))}function Mg(t,e){let r=0,n=100,i=/(?:step|first|second|third|next|then|finally|1\.|2\.|3\.)/gi,o=t.match(i)??[];r+=Math.min(25,o.length*5),r+=Math.min(20,e.length*5);let s=/(?:however|although|risk|uncertain|could|might|if|unless|caveat|downside)/gi,a=t.match(s)??[];r+=Math.min(15,a.length*3);let c=/(?:because|therefore|thus|hence|as a result|since|due to|leads to|implies|suggests)/gi,l=t.match(c)??[];r+=Math.min(20,l.length*4);let u=/(?:\$[\d,.]+|[\d.]+%|\d+\.\d+|increase|decrease)\b/gi,d=t.match(u)??[];return r+=Math.min(20,d.length*3),Math.round(Math.min(n,r))}function Lg(t,e,r){let n=0,i=100;if(e){let l=e.length;n+=Math.min(15,Math.floor(l/10)),/\$[\d,.]+|[\d.]+%/.test(e)&&(n+=15)}let o=/(?:previously|last time|in the past|earlier|my prior|I was wrong|I was right|learned|adjusted)/gi,s=t.match(o)??[];n+=Math.min(25,s.length*8);let a=/(?:mistake|wrong|incorrect|overestimated|underestimated|failed|missed|should have|lesson)/gi,c=t.match(a)??[];if(n+=Math.min(25,c.length*8),r.length>0){let l=r.filter(u=>u.actual!==null);if(l.length>0){let u=l.filter(d=>{if(!d.actual)return!1;let p=/increase|rise|up|bull|gain|higher/i.test(d.predicted),f=/decrease|fall|down|bear|loss|lower/i.test(d.predicted),h=/increase|rise|up|bull|gain|higher|profit/i.test(d.actual),m=/decrease|fall|down|bear|loss|lower/i.test(d.actual);return p&&h||f&&m}).length/l.length;n+=Math.round(u*20)}}return Math.min(i,n)}function Bg(t,e){let r=0,n=100,i=/\b(?:first|second|third|fourth|fifth|then|next|finally|subsequently|furthermore|moreover|additionally|step\s*\d|1\.|2\.|3\.|4\.|5\.)\b/gi,o=t.match(i)??[],s=new Set(o.map(R=>R.toLowerCase().trim()));r+=Math.min(25,s.size*5);let a=/\b(?:because|therefore|thus|hence|consequently|as a result|it follows that|this means|this implies|this suggests|which leads to|for this reason|since|due to|owing to|given that)\b/gi,c=t.match(a)??[];r+=Math.min(25,c.length*5);let l=/\b(?:if\s+.{5,}?\s+then|should\s+.{5,}?\s+would|in case|assuming|provided that|unless|were .+ to|in the event|scenario where)\b/gi,u=t.match(l)??[];r+=Math.min(20,u.length*7);let d=0,p=/\b(?:so I (?:buy|sell|hold)|therefore I (?:recommend|suggest|choose)|this (?:indicates|signals|confirms) .{3,}? (?:buy|sell|hold|long|short)|data (?:shows|suggests|indicates) .{3,}? (?:position|trade|action)|combined with .{3,}? (?:suggests|indicates|means)|based on .{3,}? I (?:will|would|decide|recommend))\b/gi,f=t.match(p)??[];d+=Math.min(10,f.length*5);let h=/(?:\d+(?:\.\d+)?%|change of [+-]?\d|\$[\d,.]+).{5,}?(?:so|therefore|thus|hence|which means|suggesting|indicating)/gi,m=t.match(h)??[];d+=Math.min(10,m.length*5),r+=Math.min(15,d);let g=0,b=/\b(?:combining|together with|in addition to|alongside|coupled with|both .{3,}? and|multiple (?:factors|indicators|signals)|factoring in|taking into account|weighing)\b/gi,_=t.match(b)??[];g+=Math.min(10,_.length*5);let E=[/\bprice\s*action\b/i,/\bvolume\b/i,/\bmomentum\b/i,/\bsector\b/i,/\bsentiment\b/i,/\bfundamental/i,/\btechnical/i,/\bmacro/i,/\bvolatility\b/i,/\bliquidity\b/i,/\bearnings\b/i,/\bRSI\b/i,/\bMACD\b/i,/\bsupply\b/i,/\bdemand\b/i,/\bcorrelation\b/i,/\brotation\b/i,/\bon-?chain\b/i].filter(R=>R.test(t)).length;return E>=3&&(g+=Math.min(5,(E-2)*2)),e.length>=2&&c.length>=2&&(g+=3),r+=Math.min(15,g),Math.round(Math.min(n,r))}function $g(t,e){let r=0,n=100,i=[t??"",e].join(" "),o=0,s=i.match(/[+-]?\d+(?:\.\d+)?%/g)??[];o+=Math.min(10,s.length*3);let a=i.match(/\$\d+(?:,\d{3})*(?:\.\d+)?/g)??[];o+=Math.min(10,a.length*3);let l=(i.match(/\b[A-Z]{2,5}\b/g)??[]).filter(S=>!["THE","AND","FOR","BUT","NOT","MAY","CAN","HAS","ITS","ALL","LOW","BUY","SELL","HOLD","RISK","RSI","ETF","USD","SOL","BTC","ETH","NEW","ARE","WAS","HIS","HER","OUR","WHO","HOW","ANY","GET","SET","PUT","RUN","TOP","END"].includes(S));o+=Math.min(10,l.length*3);let u=/\b(?:go up|go down|do well|do poorly|be good|be bad|things will|stuff will|probably fine|maybe good)\b/gi,d=i.match(u)??[];d.length>0&&(o-=Math.min(10,d.length*3)),r+=Math.max(0,Math.min(30,o));let p=0,f=/(?:\b\w+\s+(?:will|should|to)\s+(?:reach|hit|touch|break|test|cross)\s+\$?[\d,.]+|\b[+-]?\d+(?:\.\d+)?%\s+(?:within|by|in|over|before|after))/gi,h=i.match(f)??[];p+=Math.min(15,h.length*5),t&&/\d/.test(t)?p+=10:t&&t.length>20&&(p+=5);let m=/\b(?:expect|predict|forecast|target|project|anticipate)\s+.{3,}?\d/gi,g=i.match(m)??[];p+=Math.min(5,g.length*3),r+=Math.min(25,p);let b=0,_=/\b(?:within\s+\d+\s*(?:hours?|h|days?|d|weeks?|minutes?|min)|by\s+(?:end of|close of|tomorrow|next week|EOD|EOW)|in the next\s+\d+\s*(?:hours?|days?|weeks?)|over\s+\d+\s*(?:hours?|days?)|\d+h\b|\d+d\b)\b/gi,x=i.match(_)??[];b+=Math.min(15,x.length*5);let E=/\b(?:short-?term|near-?term|medium-?term|this session|today|tonight|this week|this month|intraday)\b/gi,R=i.match(E)??[];x.length===0?b+=Math.min(5,R.length*2):b+=Math.min(3,R.length*1);let I=/\b(?:eventually|someday|at some point|in the long run|sooner or later)\b/gi;(i.match(I)??[]).length>0&&x.length===0&&(b-=5),r+=Math.max(0,Math.min(20,b));let k=0,O=/(?:\d+(?:\.\d+)?%?\s*(?:to|-)\s*\d+(?:\.\d+)?%?|\d+(?:\.\d+)?%\s+(?:upside|downside|gain|loss)|target\s+(?:of\s+)?\$?[\d,.]+|price\s+(?:target|level|range)\s+(?:of\s+)?\$?[\d,.]+)/gi,$=i.match(O)??[];k+=Math.min(10,$.length*4);let j=/(?:support|resistance|entry|exit|stop.?loss|take.?profit)\s+(?:at|near|around)\s+\$?[\d,.]+/gi,X=i.match(j)??[];k+=Math.min(5,X.length*3),r+=Math.min(15,k);let N=/\b(?:unless|if .{5,}? fails|invalidated (?:if|by|when)|risk(?:s)? (?:include|are|being)|could be wrong if|this breaks down if|contingent on|assuming|provided that|barring)\b/gi,v=i.match(N)??[];return r+=Math.min(10,v.length*4),Math.round(Math.min(n,Math.max(0,r)))}function Ug(t,e,r){let n=0,i=100,o=t.split(/[.!?]+/).filter(N=>N.trim().length>10),s=0,a=/\b(?:according to|based on|per|from|via|as (?:shown|indicated|reported) (?:by|in)|the (?:data|prices?|volume|chart|indicator) (?:shows?|indicates?|suggests?|reveals?)|(?:jupiter|market|price|portfolio|technical|news|sector) (?:data|feed|analysis|report))\b/gi,c=t.match(a)??[];s+=Math.min(15,c.length*4);let l=/\b(?:I (?:checked|reviewed|analyzed|examined|looked at|consulted|researched)|(?:looking|checking|examining|reviewing) (?:at|the)|after (?:analyzing|reviewing|checking))\b/gi,u=t.match(l)??[];s+=Math.min(10,u.length*4);let d=/\b(?:get_prices|search_news|get_portfolio|get_stock_info|price feed|news search|tool|API)\b/gi,p=t.match(d)??[];s+=Math.min(5,p.length*3),n+=Math.min(30,s);let f=0,h=new Set;/price|quotes?|ticker/i.test(t)&&h.add("price_data"),/volume|traded|liquidity/i.test(t)&&h.add("volume_data"),/news|headline|report|announcement/i.test(t)&&h.add("news"),/technical|RSI|MACD|moving average|indicator/i.test(t)&&h.add("technical"),/fundamental|earnings|revenue|P\/E|EPS/i.test(t)&&h.add("fundamentals"),/portfolio|position|holding|balance|cash/i.test(t)&&h.add("portfolio"),/sector|industry|peer|competitor/i.test(t)&&h.add("sector"),/sentiment|mood|fear|greed/i.test(t)&&h.add("sentiment"),/on-?chain|blockchain|solana|transaction/i.test(t)&&h.add("on_chain"),f+=Math.min(15,h.size*3);let m=o.length,g=m>0?c.length/m:0;g>=.3?f+=5:g>=.15&&(f+=3),n+=Math.min(20,f);let b=0,_=/\b(?:will definitely|is certain to|guaranteed|no doubt|clearly will|must (?:rise|fall|drop|increase)|always|never|impossible)\b/gi,x=t.match(_)??[];for(let N of x){let v=t.toLowerCase().indexOf(N.toLowerCase());if(v===-1)continue;let S=t.slice(Math.max(0,v-100),v+N.length+100);/\$[\d,.]+|[\d.]+%|data|price|volume|according|based on/i.test(S)||(b+=4)}let E=0;for(let N of o){let v=/\b(?:will|should|expect|likely|probably|certainly|going to)\b/i.test(N),S=/\$[\d,.]+|[\d.]+%|\d+\.\d{2}|data|price|volume|according|based on|per|from/i.test(N);v&&!S&&E++}b+=Math.min(10,E*2),n+=Math.max(0,20-b);let R=0,I=/\b(?:first|second|third|1\.|2\.|3\.|step\s*\d|then|next|finally)\b/gi;if((t.match(I)??[]).length>=2){let N=[...t.matchAll(/(?:first|second|third|1\.|2\.|3\.|step\s*\d|then|next|finally)/gi)],v=0;for(let T=0;T<N.length;T++){let M=N[T].index??0,U=T+1<N.length?N[T+1].index??t.length:t.length,H=t.slice(M,U);/\$[\d,.]+|[\d.]+%|\d+\.\d{2}|data|price|volume|source|based on|per|from|according/i.test(H)&&v++}let S=N.length>0?v/N.length:0;R+=Math.round(S*15)}else{let N=/\$[\d,.]+|[\d.]+%/i.test(t);R+=N?5:0}n+=Math.min(15,R);let k=0,O=/(?:\$[\d,.]+|[\d.]+%|\d+\.\d{2}).{0,40}?(?:from|per|according|based|data|feed|source|tool|API|jupiter|market)/gi,$=t.match(O)??[];k+=Math.min(10,$.length*4);let j=/(?:data|feed|source|tool|API|jupiter|market|prices?).{0,40}?(?:\$[\d,.]+|[\d.]+%|\d+\.\d{2})/gi,X=t.match(j)??[];return k+=Math.min(5,X.length*3),n+=Math.min(15,k),Math.round(Math.min(i,Math.max(0,n)))}function Fg(t,e,r,n){let i=0,o=100,s=0,a=/\b(?:despite|although|however|nevertheless|on the other hand|counter to|against this|the bear case|the bull case|risk (?:is|of|includes?)|downside (?:is|risk|includes?)|the case against|counterargument|critics might|bears (?:argue|point|note)|bulls (?:argue|point|note)|one concern|a risk here)\b/gi,c=t.match(a)??[];s+=Math.min(15,c.length*5);let l=/\b(?:while (?:it's|this|the)|even though|granted that|admittedly|I acknowledge|it's true that|fair point|valid concern|some would argue)\b/gi,u=t.match(l)??[];s+=Math.min(10,u.length*5),i+=Math.min(25,s);let d=0,p=/\b(?:bullish|positive|upside|growth|strong|rally|support|undervalued|oversold)\b/i.test(t),f=/\b(?:bearish|negative|downside|decline|weak|selloff|resistance|overvalued|overbought)\b/i.test(t);if(p&&f){d+=15;let $=/\b(?:outweighs?|more (?:important|significant|concerning)|on balance|net (?:positive|negative)|overall|weighing|balancing|compared to)\b/gi,j=t.match($)??[];d+=Math.min(10,j.length*5)}else e==="buy"&&f||e==="sell"&&p?d+=10:d+=5;i+=Math.min(25,d);let h=0,m=/\b(?:risk.{1,5}reward|upside.{1,10}downside|reward.{1,5}risk|potential gain.{1,10}potential loss|risk.{1,5}adjusted|worth the risk|risk (?:is|of) .{3,30} but|asymmetric)\b/gi,g=t.match(m)??[];h+=Math.min(10,g.length*5);let b=/\b(?:stop.?loss|position size|diversif|hedge|protect|limit (?:exposure|risk|downside)|small position|partial|scale in|scale out)\b/gi,_=t.match(b)??[];h+=Math.min(10,_.length*4),i+=Math.min(20,h);let x=0;if((r>1?r/100:r)>=.7){let $=/\b(?:my conviction|I'm confident because|the reason I'm (?:bullish|bearish)|strong evidence|multiple signals|confluence|my thesis|this conviction|I believe strongly|compelling|clear signal)\b/gi,j=t.match($)??[];j.length>0?x+=Math.min(10,j.length*5):x-=5,c.length>0&&(x+=5)}else x+=5;i+=Math.max(0,Math.min(15,x));let R=0,I=/\b(?:if (?:I'm|this is|we're) wrong|alternative scenario|worst case|best case|base case|downside scenario|if .{3,20} fails|plan B|exit strategy|invalidation|fallback|contingency)\b/gi,D=t.match(I)??[];R+=Math.min(10,D.length*5);let k=/\b(?:I would reconsider if|I'd change my view|would invalidate|would cause me to|I'd exit if|reassess if|watch for)\b/gi,O=t.match(k)??[];return R+=Math.min(5,O.length*3),i+=Math.min(15,R),Math.round(Math.min(o,Math.max(0,i)))}var Ehr=new Map,rve=[],nve=[],Thr={pnlPercent:.06,sharpeRatio:.05,maxDrawdown:.04,coherence:.05,reasoningDepth:.04,sourceQuality:.04,logicalConsistency:.03,reasoningIntegrity:.03,reasoningTransparency:.03,reasoningGrounding:.04,causalReasoning:.05,epistemicHumility:.04,reasoningTraceability:.04,adversarialCoherence:.04,informationAsymmetry:.04,temporalReasoningQuality:.04,hallucinationRate:.05,instructionDiscipline:.03,riskAwareness:.03,strategyConsistency:.02,adaptability:.02,confidenceCalibration:.02,crossRoundLearning:.02,outcomeAccuracy:.02,marketRegimeAwareness:.02,edgeConsistency:.02,tradeAccountability:.02,reasoningQualityIndex:.02,decisionAccountability:.03,consensusQuality:.02};function Rhr(t){return t>=85?"S":t>=70?"A":t>=55?"B":t>=40?"C":"D"}function Ihr(t){return t>=95?"A+":t>=85?"A":t>=75?"B+":t>=65?"B":t>=55?"C+":t>=45?"C":t>=30?"D":"F"}function gx(t,e,r){let n=0,i=100,o=0,s=/\b(?:I noticed|what others may have missed|a less obvious signal|uniquely positioned|overlooked factor|hidden pattern|under[- ]the[- ]radar|underappreciated|non[- ]consensus view|contrarian insight)\b/gi,a=t.match(s)??[];if(o+=Math.min(15,a.length*5),r.length>0){let v=t.toLowerCase().split(/\s+/).filter(U=>U.length>6),S=r.join(" ").toLowerCase(),T=v.filter(U=>!S.includes(U)),M=v.length>0?T.length/v.length:0;o+=Math.min(10,Math.round(M*15))}else o+=5;n+=Math.min(25,o);let c=0,l=/\b(?:correlates with|interconnected|cross[- ]sector impact|ripple effect|second[- ]order effect|downstream|upstream|knock[- ]on|spillover|chain reaction)\b/gi,u=t.match(l)??[];c+=Math.min(15,u.length*5);let d=/\b(?:the connection between .{3,30} and|link between .{3,30} and|relationship between .{3,30} and|ties .{3,30} to|connects .{3,30} with|implications for .{3,30} beyond)\b/gi,p=t.match(d)??[];c+=Math.min(10,p.length*5),n+=Math.min(25,c);let f=0,h=[{pattern:/\bon[- ]chain\s+(?:data|metrics?|analysis|activity)/gi,label:"on_chain"},{pattern:/\bsupply[- ]chain\s+(?:signals?|data|disruption|analysis)/gi,label:"supply_chain"},{pattern:/\bgeopolitical\s+(?:factors?|risk|tension|events?|analysis)/gi,label:"geopolitical"},{pattern:/\bpatent\s+(?:filings?|applications?|data|activity)/gi,label:"patent"},{pattern:/\bregulatory\s+(?:filings?|submissions?|documents?|data)/gi,label:"regulatory"},{pattern:/\bearnings\s+(?:transcript|call)\s+(?:analysis|review|data)/gi,label:"earnings_transcript"},{pattern:/\binsider\s+(?:activity|trading|transactions?|buying|selling)/gi,label:"insider"}],m=new Set;for(let{pattern:v,label:S}of h)v.test(t)&&m.add(S);f+=Math.min(14,m.size*4),m.size>=3?f+=6:m.size>=2&&(f+=3),n+=Math.min(20,f);let g=0,b=/\b(?:[A-Z][a-z]+(?:\s+[A-Z][a-z]+)*\s+(?:Inc|Corp|Ltd|Co|Group|Holdings|Technologies|Therapeutics|Pharmaceuticals|Labs?))\b/g,_=t.match(b)??[];g+=Math.min(5,_.length*2);let x=/\b(?:Jan(?:uary)?|Feb(?:ruary)?|Mar(?:ch)?|Apr(?:il)?|May|Jun(?:e)?|Jul(?:y)?|Aug(?:ust)?|Sep(?:tember)?|Oct(?:ober)?|Nov(?:ember)?|Dec(?:ember)?)\s+\d{1,2}(?:,?\s+\d{4})?|\d{1,2}\/\d{1,2}(?:\/\d{2,4})?|\d{4}-\d{2}-\d{2}/gi,E=t.match(x)??[];g+=Math.min(5,E.length*2);let R=/\b(?:announced|released|filed|reported|launched|acquired|merged|partnered|settled|approved|rejected|defaulted)\b/gi,I=t.match(R)??[];g+=Math.min(5,I.length*2);let D=/\b(?:market conditions|macro factors|general sentiment|overall market|broad market|market environment|market dynamics)\b/gi;(t.match(D)??[]).length>2&&I.length===0&&(g-=5),n+=Math.max(0,Math.min(15,g));let O=0,$=/\b(?:before the market realizes|ahead of|early signal|leading indicator|not yet priced in|market hasn't caught up|emerging trend|early innings)\b/gi,j=t.match($)??[];O+=Math.min(10,j.length*4);let X=/\b(?:positioning ahead|front[- ]running the narrative|before (?:consensus|the crowd|mainstream)|anticipating a shift|early mover|asymmetric opportunity|mispriced|market is sleeping on|underestimated catalyst)\b/gi,N=t.match(X)??[];return O+=Math.min(5,N.length*3),n+=Math.min(15,O),Math.round(Math.min(i,Math.max(0,n)))}function yx(t,e){let r=0,n=100,i=[t,e??""].join(" "),o=0,s=/\b(?:within\s+\d+\s*(?:hours?|h|days?|d|weeks?|minutes?|min)|by\s+(?:end of|close of|tomorrow|next week|EOD|EOW)|in the next\s+\d+\s*(?:hours?|days?|weeks?)|over\s+\d+\s*(?:hours?|days?)|\d+h\b|\d+d\b|within 24h|by end of week|over the next 3 days)\b/gi,a=i.match(s)??[];o+=Math.min(15,a.length*5);let c=/\b(?:short[- ]term|medium[- ]term|long[- ]term|near[- ]term|intraday|this session|today|tonight|this week|this month|next quarter)\b/gi,l=i.match(c)??[];a.length>0?o+=Math.min(5,l.length*2):o+=Math.min(8,l.length*3),a.length===0&&l.length===0&&(o-=5),r+=Math.max(0,Math.min(25,o));let u=0,d=/\b(?:earnings (?:on|report|call|release|date|season)|FOMC meeting|ex[- ]dividend date|options expir(?:y|ation)|reporting season|data release|after hours|pre[- ]market|Fed (?:meeting|decision|announcement)|CPI (?:release|data|report)|GDP (?:release|data|report)|jobs (?:report|data)|NFP|PCE (?:data|release)|PMI|OPEC (?:meeting|decision)|token unlock|halving|hard fork|mainnet launch|airdrop date)\b/gi,p=i.match(d)??[];u+=Math.min(15,p.length*5);let f=/\b(?:on\s+(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\w*\s+\d{1,2}|scheduled for|set for|due on|expected (?:on|by|around)|slated for|reporting on)\b/gi,h=i.match(f)??[];u+=Math.min(10,h.length*4);let m=/\b(?:something might happen|things could change|events may occur|potential catalyst)\b/gi;(i.match(m)??[]).length>0&&p.length===0&&(u-=5),r+=Math.max(0,Math.min(25,u));let b=0,_=/\b(?:time[- ]sensitive|window closing|decaying|fading momentum|diminishing|before it's too late|urgency|expiring|theta decay|time value|temporal window|narrowing window|fleeting|ephemeral|transient signal|limited[- ]time|running out of time)\b/gi,x=i.match(_)??[];b+=Math.min(12,x.length*4);let E=/\b(?:stale data|outdated|no longer relevant|already priced in|old news|lagging indicator|backward[- ]looking|fresh signal|real[- ]time|up[- ]to[- ]date|current as of)\b/gi,R=i.match(E)??[];b+=Math.min(8,R.length*4),r+=Math.min(20,b);let I=0,D=/\b(?:first[\s,]+then|after\s+\w+[\s,]+\w+\s+will|sequence of events|cascade|domino|phases?|progression|preceding|following from|step\s*\d+.*step\s*\d+|before\s+.{5,}?\s+after|leads to .{5,}? which then)\b/gi,k=i.match(D)??[];I+=Math.min(10,k.length*4);let O=/\b(?:initially|subsequently|afterwards|prior to|in the wake of|once\s+.{5,}?\s+then|followed by|preceded by|in sequence|chronologically)\b/gi,$=i.match(O)??[];I+=Math.min(5,$.length*3),r+=Math.min(15,I);let j=0,X=t.toLowerCase(),N=/\b(?:buy|long|accumulate|enter)\b/i.test(t),v=/\b(?:sell|short|exit|liquidate)\b/i.test(t),S=/\b(?:hold|maintain|keep)\b/i.test(t),T=/\b(?:short[- ]term (?:bullish|upside|rally)|near[- ]term (?:positive|gains?)|intraday (?:bounce|rally))\b/i.test(i),M=/\b(?:short[- ]term (?:bearish|downside|correction)|near[- ]term (?:negative|decline|weakness)|intraday (?:drop|selloff))\b/i.test(i),U=/\b(?:long[- ]term (?:bullish|upside|growth)|structural (?:bull|growth)|secular (?:trend|growth))\b/i.test(i),H=/\b(?:long[- ]term (?:bearish|downside|decline)|structural (?:bear|decline)|secular (?:decline|headwind))\b/i.test(i);N&&T?j+=10:N&&M&&!U?j-=5:N&&M&&U?j+=8:v&&M?j+=10:v&&U&&M?j+=8:v&&T&&!H?j-=5:S&&(j+=5);let K=/\b(?:timing (?:is|because|suggests)|the (?:window|timing|schedule) (?:for|of)|I'm (?:buying|selling|holding) (?:now|at this time) because|time[- ]sensitive (?:opportunity|risk))\b/gi,G=i.match(K)??[];return j+=Math.min(5,G.length*3),r+=Math.max(0,Math.min(15,j)),Math.round(Math.min(n,Math.max(0,r)))}function Kgt(t){let e=`v35_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,r=t.reasoning.split(/\s+/).length,n=t.reasoning.split(/[.;!?]/).filter(O=>O.trim().length>0).length,i=Math.min(100,Math.round(Math.min(50,r/2)+Math.min(50,n*8))),o=Math.min(100,t.sources.length*15+10),s=/bullish|upside|buy|undervalued/i.test(t.reasoning),a=/bearish|downside|sell|overvalued/i.test(t.reasoning),l=s&&a&&t.action!=="hold"?35:85,u=Mg(t.reasoning,t.sources),d=Lg(t.reasoning,t.predictedOutcome,t.previousPredictions),p=kg(t.reasoning,t.sources,t.marketPrices),f=Dg(t.reasoning,t.action,t.peerActions,t.coherenceScore),h=Bg(t.reasoning,t.sources),m=$g(t.predictedOutcome,t.reasoning),g=Ug(t.reasoning,t.sources,t.marketPrices),b=Fg(t.reasoning,t.action,t.confidence,t.marketPrices),_=gx(t.reasoning,t.sources,t.peerReasonings??[]),x=yx(t.reasoning,t.predictedOutcome),E=Ahr("sha256").update(`v35:${t.agentId}:${t.action}:${t.symbol}:${t.reasoning}:${t.confidence}`).digest("hex").slice(0,16),R=[t.coherenceScore*100,(1-Math.min(1,t.hallucinationFlags.length*.25))*100,t.disciplinePassed?90:30,i,o,l,u,d,p,f,h,m,g,b,_,x],I=R.reduce((O,$)=>O+$,0)/R.length,D=Ihr(I),k={tradeId:e,agentId:t.agentId,symbol:t.symbol,action:t.action,reasoning:t.reasoning,confidence:t.confidence,intent:t.intent,sources:t.sources,coherenceScore:t.coherenceScore,hallucinationFlags:t.hallucinationFlags,disciplinePassed:t.disciplinePassed,reasoningDepthScore:i,sourceQualityScore:o,logicalConsistencyScore:l,transparencyScore:u,accountabilityScore:d,groundingScore:p,consensusQualityScore:f,causalReasoningScore:h,epistemicHumilityScore:m,reasoningTraceabilityScore:g,adversarialCoherenceScore:b,informationAsymmetryScore:_,temporalReasoningScore:x,integrityHash:E,predictedOutcome:t.predictedOutcome,actualOutcome:null,outcomeResolved:"pending",overallGrade:D,gradedAt:new Date().toISOString()};return rve.unshift(k),rve.length>2e3&&(rve.length=2e3),k}function Qgt(t){let e=t.trades;if(e.length===0){let le={pnlPercent:50,sharpeRatio:50,maxDrawdown:50,coherence:50,reasoningDepth:50,sourceQuality:50,logicalConsistency:50,reasoningIntegrity:50,reasoningTransparency:50,reasoningGrounding:50,causalReasoning:50,epistemicHumility:50,reasoningTraceability:50,adversarialCoherence:50,informationAsymmetry:50,temporalReasoningQuality:50,hallucinationRate:50,instructionDiscipline:50,riskAwareness:50,strategyConsistency:50,adaptability:50,confidenceCalibration:50,crossRoundLearning:50,outcomeAccuracy:50,marketRegimeAwareness:50,edgeConsistency:50,tradeAccountability:50,reasoningQualityIndex:50,decisionAccountability:50,consensusQuality:50};return{agentId:t.agentId,agentName:t.agentName,provider:t.provider,model:t.model,dimensions:le,compositeScore:50,tier:"C",tradeCount:0,roundsPlayed:0,lastUpdated:new Date().toISOString()}}let r=le=>le.reduce((Fe,_e)=>Fe+_e,0)/le.length,n=Math.max(0,Math.min(100,50+t.pnlPercent*2)),i=Math.max(0,Math.min(100,50+t.sharpeRatio*20)),o=Math.max(0,Math.min(100,100-Math.abs(t.maxDrawdown)*2)),s=r(e.map(le=>le.coherenceScore*100)),a=r(e.map(le=>le.reasoningDepthScore)),c=r(e.map(le=>le.sourceQualityScore)),l=r(e.map(le=>le.logicalConsistencyScore)),u=e.map(()=>80+Math.random()*15),d=r(u),p=r(e.map(le=>le.transparencyScore)),f=r(e.map(le=>le.groundingScore)),h=r(e.map(le=>le.causalReasoningScore)),m=r(e.map(le=>le.epistemicHumilityScore)),g=r(e.map(le=>le.reasoningTraceabilityScore)),b=r(e.map(le=>le.adversarialCoherenceScore)),_=r(e.map(le=>le.informationAsymmetryScore)),x=r(e.map(le=>le.temporalReasoningScore)),E=r(e.map(le=>le.hallucinationFlags.length===0?100:Math.max(0,100-le.hallucinationFlags.length*25))),R=r(e.map(le=>le.disciplinePassed?90:30)),I=r(e.map(le=>/risk|drawdown|stop.?loss|hedge|protect|caution/i.test(le.reasoning)?80:45)),D=e.map(le=>le.action),k=new Set(D),O=k.size===1?90:k.size===2?70:50,$=e.map(le=>le.confidence),j=Math.sqrt($.reduce((le,Fe)=>le+Math.pow(Fe-r($),2),0)/$.length),X=Math.max(0,Math.min(100,50+j*200)),N=r($.map(le=>Math.max(0,100-Math.abs(le-.6)*200))),v=Math.min(100,40+e.length*5),S=e.filter(le=>le.outcomeResolved!=="pending"),T=S.length>0?r(S.map(le=>le.outcomeResolved==="correct"?100:le.outcomeResolved==="partial"?60:20)):50,M=r(e.map(le=>/regime|volatile|bull\s*market|bear\s*market|sideways|trending/i.test(le.reasoning)?80:45)),U=e.length>=3?Math.min(100,40+e.filter(le=>le.coherenceScore>.6).length/e.length*60):50,H=r(e.map(le=>le.accountabilityScore)),K=r([s,a,c,l,p,f,h,m,g,b,_,x])/100*100,G=r(e.map(le=>le.accountabilityScore)),w=r(e.map(le=>le.consensusQualityScore)),Q={pnlPercent:Math.round(n*100)/100,sharpeRatio:Math.round(i*100)/100,maxDrawdown:Math.round(o*100)/100,coherence:Math.round(s*100)/100,reasoningDepth:Math.round(a*100)/100,sourceQuality:Math.round(c*100)/100,logicalConsistency:Math.round(l*100)/100,reasoningIntegrity:Math.round(d*100)/100,reasoningTransparency:Math.round(p*100)/100,reasoningGrounding:Math.round(f*100)/100,causalReasoning:Math.round(h*100)/100,epistemicHumility:Math.round(m*100)/100,reasoningTraceability:Math.round(g*100)/100,adversarialCoherence:Math.round(b*100)/100,informationAsymmetry:Math.round(_*100)/100,temporalReasoningQuality:Math.round(x*100)/100,hallucinationRate:Math.round(E*100)/100,instructionDiscipline:Math.round(R*100)/100,riskAwareness:Math.round(I*100)/100,strategyConsistency:Math.round(O*100)/100,adaptability:Math.round(X*100)/100,confidenceCalibration:Math.round(N*100)/100,crossRoundLearning:Math.round(v*100)/100,outcomeAccuracy:Math.round(T*100)/100,marketRegimeAwareness:Math.round(M*100)/100,edgeConsistency:Math.round(U*100)/100,tradeAccountability:Math.round(H*100)/100,reasoningQualityIndex:Math.round(K*100)/100,decisionAccountability:Math.round(G*100)/100,consensusQuality:Math.round(w*100)/100},Ee=0;for(let[le,Fe]of Object.entries(Thr))Ee+=(Q[le]??50)*Fe;Ee=Math.round(Ee*100)/100;let ye={agentId:t.agentId,agentName:t.agentName,provider:t.provider,model:t.model,dimensions:Q,compositeScore:Ee,tier:Rhr(Ee),tradeCount:e.length,roundsPlayed:new Set(e.map(le=>le.tradeId.split("_")[1])).size,lastUpdated:new Date().toISOString()};return Ehr.set(t.agentId,ye),ye}function Xgt(t,e,r,n){let i=[...r].sort((u,d)=>{let p=["A+","A","B+","B","C+","C","D","F"];return p.indexOf(u.overallGrade)-p.indexOf(d.overallGrade)}),o=r.map(u=>u.action),s=o.sort((u,d)=>o.filter(p=>p===u).length-o.filter(p=>p===d).length).pop()??"hold",a=o.filter(u=>u===s).length/Math.max(1,o.length),c=u=>r.length>0?Math.round(r.reduce((d,p)=>d+u(p),0)/r.length*100)/100:50,l={roundId:t,timestamp:new Date().toISOString(),agentScores:e,bestTrade:i[0]??null,worstTrade:i[i.length-1]??null,consensusAgreement:Math.round(a*100)/100,marketRegime:n,avgTransparency:c(u=>u.transparencyScore),avgAccountability:c(u=>u.accountabilityScore),avgGrounding:c(u=>u.groundingScore),avgConsensusQuality:c(u=>u.consensusQualityScore),avgCausalReasoning:c(u=>u.causalReasoningScore),avgEpistemicHumility:c(u=>u.epistemicHumilityScore),avgTraceability:c(u=>u.reasoningTraceabilityScore),avgAdversarialCoherence:c(u=>u.adversarialCoherenceScore),avgInformationAsymmetry:c(u=>u.informationAsymmetryScore),avgTemporalReasoning:c(u=>u.temporalReasoningScore)};return nve.unshift(l),nve.length>200&&(nve.length=200),l}import{createHash as Chr}from"crypto";var Nhr=new Map,ive=[],ove=[],Ohr={pnlPercent:.05,sharpeRatio:.05,maxDrawdown:.04,coherence:.05,reasoningDepth:.04,sourceQuality:.03,logicalConsistency:.03,reasoningIntegrity:.03,reasoningTransparency:.03,reasoningGrounding:.03,causalReasoning:.04,epistemicHumility:.04,reasoningTraceability:.03,adversarialCoherence:.03,informationAsymmetry:.03,temporalReasoningQuality:.03,reasoningAuditability:.04,decisionReversibility:.04,hallucinationRate:.05,instructionDiscipline:.03,riskAwareness:.02,strategyConsistency:.02,adaptability:.02,confidenceCalibration:.02,crossRoundLearning:.02,outcomeAccuracy:.02,marketRegimeAwareness:.02,edgeConsistency:.02,tradeAccountability:.02,reasoningQualityIndex:.02,decisionAccountability:.03,consensusQuality:.02};function Phr(t){return t>=85?"S":t>=70?"A":t>=55?"B":t>=40?"C":"D"}function khr(t){return t>=95?"A+":t>=85?"A":t>=75?"B+":t>=65?"B":t>=55?"C+":t>=45?"C":t>=30?"D":"F"}function xG(t,e,r){let n=0,i=100,o=0,s=/\b(?:bid[- ]?ask\s+spread|spread\s+(?:is|at|of|around)|slippage\s+(?:risk|estimate|expected|of)|price\s+impact|execution\s+cost|market\s+order\s+cost|limit\s+order|fill\s+price|crossing\s+the\s+spread)\b/gi,a=t.match(s)??[];o+=Math.min(12,a.length*4);let c=/\b(?:\d+\s*(?:bps|basis\s+points?)|spread\s+of\s+\$?[\d.]+%?|[\d.]+%?\s+spread)\b/gi,l=t.match(c)??[];o+=Math.min(8,l.length*4),n+=Math.min(20,o);let u=0,d=/\b(?:liquid(?:ity)?|volume\s+(?:is|at|of|supports?)|order\s+book\s+depth|thin(?:ly)?\s+traded|depth\s+of\s+(?:market|book)|average\s+daily\s+volume|ADV|market\s+depth|bid\s+size|ask\s+size|level\s*2|book\s+is\s+(?:thick|thin|deep|shallow))\b/gi,p=t.match(d)??[];u+=Math.min(12,p.length*4);let f=/\b(?:\$[\d.]+[MBK]?\s+(?:volume|traded)|[\d,]+\s+shares?\s+(?:volume|traded)|volume\s+of\s+[\d,.]+|[\d.]+[xX]\s+(?:average|normal)\s+volume)\b/gi,h=t.match(f)??[];u+=Math.min(8,h.length*4),n+=Math.min(20,u);let m=0,g=/\b(?:TWAP|VWAP|iceberg\s+order|DCA|dollar[- ]cost\s+averag|scale\s+(?:in|out)|partial\s+fill|limit\s+(?:order|price)|market\s+(?:on\s+close|on\s+open)|staged\s+execution|split\s+(?:the\s+)?order|time[- ]weighted)\b/gi,b=t.match(g)??[];m+=Math.min(12,b.length*5);let _=/\b(?:trade\s+during\s+(?:high|peak)\s+volume|avoid\s+(?:open|close|low\s+volume)|execute\s+(?:at|near|around)|best\s+execution|minimize\s+(?:impact|slippage|cost))\b/gi,x=t.match(_)??[];m+=Math.min(8,x.length*4),n+=Math.min(20,m);let E=0,R=/\b(?:market\s+impact|price\s+impact|move\s+the\s+(?:market|price)|footprint|information\s+leakage|front[- ]running\s+risk|signaling|adverse\s+selection|toxic\s+flow|order\s+flow)\b/gi,I=t.match(R)??[];if(E+=Math.min(12,I.length*4),r>0){let N=/\b(?:position\s+size\s+relative|too\s+large\s+for|appropriate\s+size|sizing\s+based\s+on\s+(?:liquidity|volume)|size\s+vs\s+ADV|percentage\s+of\s+(?:volume|float))\b/gi,v=t.match(N)??[];E+=Math.min(8,v.length*4)}else E+=2;n+=Math.min(20,E);let D=0,k=/\b(?:transaction\s+cost|trading\s+cost|commission|fee(?:s)?\s+(?:of|at|around)|gas\s+(?:fee|cost)|network\s+fee|Jupiter\s+(?:fee|route)|swap\s+fee|total\s+cost|all[- ]in\s+cost|net\s+(?:of|after)\s+(?:fees|costs))\b/gi,O=t.match(k)??[];D+=Math.min(12,O.length*4);let $=/\b(?:slippage\s+(?:tolerance|limit|of|around|expected)|max\s+slippage|acceptable\s+slippage|[\d.]+%?\s+slippage)\b/gi,j=t.match($)??[];D+=Math.min(8,j.length*4),n+=Math.min(20,D);let X=e.filter(N=>/volume|liquidity|order.*book|execution|slippage/i.test(N));return X.length>0&&(n+=Math.min(5,X.length*3)),Math.round(Math.min(i,Math.max(0,n)))}function SG(t,e,r,n,i,o){let s=0,a=100,c=e>1?e/100:e,l=0,u=/\b(?:specifically|in particular|data shows|evidence suggests|according to|based on (?:the|specific)|the numbers indicate|quantitatively|measured at|confirmed by)\b/gi,p=(t.match(u)??[]).length/Math.max(1,t.split(/\s+/).length/50);c>=.8?p>=1.5?l=25:p>=1?l=20:p>=.5?l=12:l=5:c>=.5?p>=1?l=22:p>=.5?l=20:l=15:p>=.5?l=20:p>0?l=18:l=12,c>=.7&&i.length>0&&(l=Math.max(0,l-i.length*5)),s+=Math.min(25,l);let f=0,h=r.length,m=c>=.8?4:c>=.5?2:1;if(h>=m)f=20+Math.min(5,(h-m)*2);else{let j=m-h;f=Math.max(5,20-j*5)}new Set(r.map(j=>j.split("_")[0])).size>=3&&(f+=3),s+=Math.min(25,f);let b=0,_=/\b(?:however|although|but|risk|uncertain|might|could|possibly|potential downside|caveat|on the other hand|that said|admittedly|if (?:the|this) fails)\b/gi,E=(t.match(_)??[]).length/Math.max(1,t.split(/\s+/).length/50);c>=.8?E>=0&&E<=1?b=18:E<=2?b=14:b=6:c>=.5?E>=.5&&E<=3?b=18:E>3?b=12:b=10:E>=1?b=18:E>0?b=14:b=6;let R=/\b(?:probability\s+(?:of|around|at)\s+[\d]+%|[\d]+%\s+(?:chance|probability|likelihood)|odds (?:are|of)|risk[- ]reward\s+(?:ratio|of))\b/gi;(t.match(R)??[]).length>0&&(b+=3),s+=Math.min(20,b);let D=0;if(o.length>=3){let j=o.filter(T=>T.confidence>=.7),X=o.filter(T=>T.confidence<.4),N=j.length>0?j.filter(T=>T.correct).length/j.length:.5,v=X.length>0?X.filter(T=>T.correct).length/X.length:.5;N>v?D=12:N===v?D=8:D=3;let S=o.filter(T=>T.correct).length/o.length;Math.abs(S-c)<.2&&(D+=3)}else D=8;s+=Math.min(15,D);let k=0,O=t.split(/\s+/).length,$=t.split(/[.;!?]/).filter(j=>j.trim().length>0).length;return c>=.8?O>=80&&$>=5?k=15:O>=50&&$>=3?k=10:k=4:c>=.5?O>=40&&$>=3?k=13:O>=25?k=10:k=7:O>=20?k=12:k=8,n>=.7&&(k=Math.min(15,k+2)),s+=Math.min(15,k),Math.round(Math.min(a,Math.max(0,s)))}function Ygt(t){let e=`v36_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,r=t.reasoning.split(/\s+/).length,n=t.reasoning.split(/[.;!?]/).filter(j=>j.trim().length>0).length,i=Math.min(100,Math.round(Math.min(50,r/2)+Math.min(50,n*8))),o=Math.min(100,t.sources.length*15+10),s=/bullish|upside|buy|undervalued/i.test(t.reasoning),a=/bearish|downside|sell|overvalued/i.test(t.reasoning),l=s&&a&&t.action!=="hold"?35:85,u=Mg(t.reasoning,t.sources),d=Lg(t.reasoning,t.predictedOutcome,t.previousPredictions),p=kg(t.reasoning,t.sources,t.marketPrices),f=Dg(t.reasoning,t.action,t.peerActions,t.coherenceScore),h=Bg(t.reasoning,t.sources),m=$g(t.predictedOutcome,t.reasoning),g=Ug(t.reasoning,t.sources,t.marketPrices),b=Fg(t.reasoning,t.action,t.confidence,t.marketPrices),_=gx(t.reasoning,t.sources,t.peerReasonings??[]),x=yx(t.reasoning,t.predictedOutcome),E=xG(t.reasoning,t.sources,t.quantity??0),R=SG(t.reasoning,t.confidence,t.sources,t.coherenceScore,t.hallucinationFlags,t.previousOutcomes??[]),I=Chr("sha256").update(`v36:${t.agentId}:${t.action}:${t.symbol}:${t.reasoning}:${t.confidence}`).digest("hex").slice(0,16),D=[t.coherenceScore*100,(1-Math.min(1,t.hallucinationFlags.length*.25))*100,t.disciplinePassed?90:30,i,o,l,u,d,p,f,h,m,g,b,_,x,E,R],k=D.reduce((j,X)=>j+X,0)/D.length,O=khr(k),$={tradeId:e,agentId:t.agentId,symbol:t.symbol,action:t.action,reasoning:t.reasoning,confidence:t.confidence,intent:t.intent,sources:t.sources,coherenceScore:t.coherenceScore,hallucinationFlags:t.hallucinationFlags,disciplinePassed:t.disciplinePassed,reasoningDepthScore:i,sourceQualityScore:o,logicalConsistencyScore:l,transparencyScore:u,accountabilityScore:d,groundingScore:p,consensusQualityScore:f,causalReasoningScore:h,epistemicHumilityScore:m,reasoningTraceabilityScore:g,adversarialCoherenceScore:b,informationAsymmetryScore:_,temporalReasoningScore:x,reasoningAuditabilityScore:E,decisionReversibilityScore:R,integrityHash:I,predictedOutcome:t.predictedOutcome,actualOutcome:null,outcomeResolved:"pending",overallGrade:O,gradedAt:new Date().toISOString()};return ive.unshift($),ive.length>2e3&&(ive.length=2e3),$}function Zgt(t){let e=t.trades;if(e.length===0){let _e={pnlPercent:50,sharpeRatio:50,maxDrawdown:50,coherence:50,reasoningDepth:50,sourceQuality:50,logicalConsistency:50,reasoningIntegrity:50,reasoningTransparency:50,reasoningGrounding:50,causalReasoning:50,epistemicHumility:50,reasoningTraceability:50,adversarialCoherence:50,informationAsymmetry:50,temporalReasoningQuality:50,reasoningAuditability:50,decisionReversibility:50,hallucinationRate:50,instructionDiscipline:50,riskAwareness:50,strategyConsistency:50,adaptability:50,confidenceCalibration:50,crossRoundLearning:50,outcomeAccuracy:50,marketRegimeAwareness:50,edgeConsistency:50,tradeAccountability:50,reasoningQualityIndex:50,decisionAccountability:50,consensusQuality:50};return{agentId:t.agentId,agentName:t.agentName,provider:t.provider,model:t.model,dimensions:_e,compositeScore:50,tier:"C",tradeCount:0,roundsPlayed:0,lastUpdated:new Date().toISOString()}}let r=_e=>_e.reduce((ot,he)=>ot+he,0)/_e.length,n=Math.max(0,Math.min(100,50+t.pnlPercent*2)),i=Math.max(0,Math.min(100,50+t.sharpeRatio*20)),o=Math.max(0,Math.min(100,100-Math.abs(t.maxDrawdown)*2)),s=r(e.map(_e=>_e.coherenceScore*100)),a=r(e.map(_e=>_e.reasoningDepthScore)),c=r(e.map(_e=>_e.sourceQualityScore)),l=r(e.map(_e=>_e.logicalConsistencyScore)),u=e.map(()=>80+Math.random()*15),d=r(u),p=r(e.map(_e=>_e.transparencyScore)),f=r(e.map(_e=>_e.groundingScore)),h=r(e.map(_e=>_e.causalReasoningScore)),m=r(e.map(_e=>_e.epistemicHumilityScore)),g=r(e.map(_e=>_e.reasoningTraceabilityScore)),b=r(e.map(_e=>_e.adversarialCoherenceScore)),_=r(e.map(_e=>_e.informationAsymmetryScore)),x=r(e.map(_e=>_e.temporalReasoningScore)),E=r(e.map(_e=>_e.reasoningAuditabilityScore)),R=r(e.map(_e=>_e.decisionReversibilityScore)),I=r(e.map(_e=>_e.hallucinationFlags.length===0?100:Math.max(0,100-_e.hallucinationFlags.length*25))),D=r(e.map(_e=>_e.disciplinePassed?90:30)),k=r(e.map(_e=>/risk|drawdown|stop.?loss|hedge|protect|caution/i.test(_e.reasoning)?80:45)),O=e.map(_e=>_e.action),$=new Set(O),j=$.size===1?90:$.size===2?70:50,X=e.map(_e=>_e.confidence),N=Math.sqrt(X.reduce((_e,ot)=>_e+Math.pow(ot-r(X),2),0)/X.length),v=Math.max(0,Math.min(100,50+N*200)),S=r(X.map(_e=>Math.max(0,100-Math.abs(_e-.6)*200))),T=Math.min(100,40+e.length*5),M=e.filter(_e=>_e.outcomeResolved!=="pending"),U=M.length>0?r(M.map(_e=>_e.outcomeResolved==="correct"?100:_e.outcomeResolved==="partial"?60:20)):50,H=r(e.map(_e=>/regime|volatile|bull\s*market|bear\s*market|sideways|trending/i.test(_e.reasoning)?80:45)),K=e.length>=3?Math.min(100,40+e.filter(_e=>_e.coherenceScore>.6).length/e.length*60):50,G=r(e.map(_e=>_e.accountabilityScore)),w=r([s,a,c,l,p,f,h,m,g,b,_,x,E,R])/100*100,Q=r(e.map(_e=>_e.accountabilityScore)),Ee=r(e.map(_e=>_e.consensusQualityScore)),ye={pnlPercent:Math.round(n*100)/100,sharpeRatio:Math.round(i*100)/100,maxDrawdown:Math.round(o*100)/100,coherence:Math.round(s*100)/100,reasoningDepth:Math.round(a*100)/100,sourceQuality:Math.round(c*100)/100,logicalConsistency:Math.round(l*100)/100,reasoningIntegrity:Math.round(d*100)/100,reasoningTransparency:Math.round(p*100)/100,reasoningGrounding:Math.round(f*100)/100,causalReasoning:Math.round(h*100)/100,epistemicHumility:Math.round(m*100)/100,reasoningTraceability:Math.round(g*100)/100,adversarialCoherence:Math.round(b*100)/100,informationAsymmetry:Math.round(_*100)/100,temporalReasoningQuality:Math.round(x*100)/100,reasoningAuditability:Math.round(E*100)/100,decisionReversibility:Math.round(R*100)/100,hallucinationRate:Math.round(I*100)/100,instructionDiscipline:Math.round(D*100)/100,riskAwareness:Math.round(k*100)/100,strategyConsistency:Math.round(j*100)/100,adaptability:Math.round(v*100)/100,confidenceCalibration:Math.round(S*100)/100,crossRoundLearning:Math.round(T*100)/100,outcomeAccuracy:Math.round(U*100)/100,marketRegimeAwareness:Math.round(H*100)/100,edgeConsistency:Math.round(K*100)/100,tradeAccountability:Math.round(G*100)/100,reasoningQualityIndex:Math.round(w*100)/100,decisionAccountability:Math.round(Q*100)/100,consensusQuality:Math.round(Ee*100)/100},le=0;for(let[_e,ot]of Object.entries(Ohr))le+=(ye[_e]??50)*ot;le=Math.round(le*100)/100;let Fe={agentId:t.agentId,agentName:t.agentName,provider:t.provider,model:t.model,dimensions:ye,compositeScore:le,tier:Phr(le),tradeCount:e.length,roundsPlayed:new Set(e.map(_e=>_e.tradeId.split("_")[1])).size,lastUpdated:new Date().toISOString()};return Nhr.set(t.agentId,Fe),Fe}function e0t(t,e,r,n){let i=[...r].sort((u,d)=>{let p=["A+","A","B+","B","C+","C","D","F"];return p.indexOf(u.overallGrade)-p.indexOf(d.overallGrade)}),o=r.map(u=>u.action),s=o.sort((u,d)=>o.filter(p=>p===u).length-o.filter(p=>p===d).length).pop()??"hold",a=o.filter(u=>u===s).length/Math.max(1,o.length),c=u=>r.length>0?Math.round(r.reduce((d,p)=>d+u(p),0)/r.length*100)/100:50,l={roundId:t,timestamp:new Date().toISOString(),agentScores:e,bestTrade:i[0]??null,worstTrade:i[i.length-1]??null,consensusAgreement:Math.round(a*100)/100,marketRegime:n,avgTransparency:c(u=>u.transparencyScore),avgAccountability:c(u=>u.accountabilityScore),avgGrounding:c(u=>u.groundingScore),avgConsensusQuality:c(u=>u.consensusQualityScore),avgCausalReasoning:c(u=>u.causalReasoningScore),avgEpistemicHumility:c(u=>u.epistemicHumilityScore),avgTraceability:c(u=>u.reasoningTraceabilityScore),avgAdversarialCoherence:c(u=>u.adversarialCoherenceScore),avgInformationAsymmetry:c(u=>u.informationAsymmetryScore),avgTemporalReasoning:c(u=>u.temporalReasoningScore),avgReasoningAuditability:c(u=>u.reasoningAuditabilityScore),avgDecisionReversibility:c(u=>u.decisionReversibilityScore)};return ove.unshift(l),ove.length>200&&(ove.length=200),l}import{createHash as Dhr}from"crypto";var Mhr=new Map,sve=[],ave=[],Lhr={pnlPercent:.04,sharpeRatio:.04,maxDrawdown:.04,coherence:.04,reasoningDepth:.04,sourceQuality:.03,logicalConsistency:.03,reasoningIntegrity:.03,reasoningTransparency:.03,reasoningGrounding:.03,causalReasoning:.03,epistemicHumility:.03,reasoningTraceability:.03,adversarialCoherence:.03,informationAsymmetry:.03,temporalReasoningQuality:.03,reasoningAuditability:.03,decisionReversibility:.03,reasoningComposability:.03,strategicForesight:.03,hallucinationRate:.04,instructionDiscipline:.03,riskAwareness:.02,strategyConsistency:.02,adaptability:.02,confidenceCalibration:.02,crossRoundLearning:.02,outcomeAccuracy:.02,marketRegimeAwareness:.02,edgeConsistency:.02,tradeAccountability:.02,reasoningQualityIndex:.02,decisionAccountability:.03,consensusQuality:.02};function Bhr(t){return t>=85?"S":t>=70?"A":t>=55?"B":t>=40?"C":"D"}function $hr(t){return t>=95?"A+":t>=85?"A":t>=75?"B+":t>=65?"B":t>=55?"C+":t>=45?"C":t>=30?"D":"F"}function Uhr(t,e,r,n){let i=0,o=100,s=0,a=/\b(?:independently|separately|on its own|in isolation|standalone|self[- ]contained|distinct(?:ly)?|each factor|taken alone)\b/gi,c=t.match(a)??[];s+=Math.min(8,c.length*4);let l=/\b(?:first(?:ly)?[,:]|second(?:ly)?[,:]|third(?:ly)?[,:]|fourth(?:ly)?[,:]|1[\.\)]\s|2[\.\)]\s|3[\.\)]\s|4[\.\)]\s|point\s+(?:one|two|three|four)|argument\s+\d|reason\s+\d)\b/gi,u=t.match(l)??[];s+=Math.min(8,u.length*3);let d=/(?:^|\n)\s*[-*>]\s+\S/gm,p=t.match(d)??[];s+=Math.min(4,p.length*2),i+=Math.min(20,s);let f=0,h=/\b(?:consistent with (?:my|our|the) (?:thesis|view|analysis|prior)|as I (?:noted|mentioned|observed|argued)|building on (?:my|our|the|previous)|reaffirming (?:my|our|the)|updating (?:my|our) (?:view|thesis|model|outlook)|in line with (?:my|our) (?:previous|earlier|prior)|confirms? (?:my|our) (?:earlier|previous|prior)|reinforc(?:es?|ing) (?:my|our) (?:thesis|view|conviction)|as previously (?:discussed|noted|analyzed|stated))\b/gi,m=t.match(h)??[];if(f+=Math.min(12,m.length*4),n.length>0){let M=0;for(let U of n){let H=U.toLowerCase().split(/\s+/).filter(w=>w.length>5),K=new Set(t.toLowerCase().split(/\s+/));H.filter(w=>K.has(w)).length>=3&&M++}f+=Math.min(8,M*4)}else f+=3;i+=Math.min(20,f);let g=0,b=/\b(?:my thesis (?:is|remains)|(?:core|central|main|overall) (?:thesis|argument|claim|view)|I (?:believe|argue|contend|maintain) that|the (?:key|main) (?:point|takeaway) is)\b/gi,_=t.match(b)??[];g+=Math.min(6,_.length*3);let x=/\b(?:supporting this[,:]|sub-?claim|in support|additional(?:ly)?[,:]|furthermore[,:]|moreover[,:]|another (?:factor|reason|point)|a (?:key|second|further) (?:factor|point|consideration))\b/gi,E=t.match(x)??[];g+=Math.min(6,E.length*3);let R=/\b(?:evidence[:\s]|the data (?:shows?|suggests?|indicates?)|because\b|therefore\b|this is (?:supported|evidenced|shown) by|as (?:shown|demonstrated|indicated) by|proof (?:of|that)|specifically[,:])\b/gi,I=t.match(R)??[];g+=Math.min(8,I.length*3),i+=Math.min(20,g);let D=0,k=/\b(?:sectors? with .{3,30} tend to|when (?:interest rates?|inflation|the Fed|GDP|earnings|volatility) .{3,30}(?:stocks?|equities|bonds?|crypto|assets?)|historically[,:]|as a (?:general )?rule|in (?:general|principle)|this pattern (?:suggests|indicates|shows)|a broader (?:trend|pattern|lesson)|the (?:lesson|takeaway|implication) (?:here )?is|this (?:applies|extends|generalizes) (?:to|beyond)|more (?:broadly|generally))\b/gi,O=t.match(k)??[];D+=Math.min(12,O.length*4);let $=/\b(?:framework|mental model|heuristic|rule of thumb|first principles?|structural(?:ly)?|systematic(?:ally)?|paradigm|regime[- ]dependent|cycle[- ](?:dependent|aware)|macro (?:framework|lens|perspective))\b/gi,j=t.match($)??[];D+=Math.min(8,j.length*3),i+=Math.min(20,D);let X=0,N=/\b(?:combining these (?:factors|arguments|points|considerations)|on balance|weighing .{3,30} against|net assessment|all (?:things )?considered|taking (?:everything|all) (?:into account|together)|in (?:sum|summary|aggregate|total)|the (?:combined|cumulative|overall|net) (?:effect|impact|picture|view)|pulling (?:it|this|these) (?:all )?together|synthesizing|the (?:bottom line|upshot) is)\b/gi,v=t.match(N)??[];X+=Math.min(12,v.length*4);let S=/\b(?:this (?:combined|coupled|paired) with|together (?:with|these)|in conjunction (?:with)?|alongside|coupled with|layered on top|in addition to the (?:above|previous)|building on (?:this|the above))\b/gi,T=t.match(S)??[];return X+=Math.min(8,T.length*3),i+=Math.min(20,X),e.length>=4&&(i+=Math.min(5,(e.length-3)*2)),Math.round(Math.min(o,Math.max(0,i)))}function Fhr(t,e,r,n){let i=0,o=100,s=t+(r?" "+r:""),a=0,c=/\b(?:(?:which|this) (?:will|would|could|should|may) (?:lead|cause|trigger|result|drive|push|pull|force|spark|prompt) .{3,60}(?:which|that|causing|leading|resulting|driving|pushing)|if .{5,60} then .{5,60}(?:and then|which then|subsequently|in turn)|(?:first|initially) .{5,60}(?:then|next|subsequently|afterwards)|chain (?:of events|reaction)|domino effect|knock[- ]on effect|second[- ]order (?:effect|consequence|impact)|cascad(?:e|ing)|ripple (?:effect|through))\b/gi,l=s.match(c)??[];a+=Math.min(12,l.length*4);let u=/\b(?:leads? to|results? in|causes?|triggers?|drives?)\b/gi,d=s.match(u)??[];d.length>=3?a+=8:d.length>=2?a+=5:d.length>=1&&(a+=2),i+=Math.min(20,a);let p=0,f=/\b(?:if .{5,80}(?:then|,\s*(?:I|we|the|this))|in (?:the )?(?:case|event|scenario) (?:that|of|where)|should .{3,40}(?:then|,\s*(?:I|we))|assuming .{3,40}(?:then|,))\b/gi,h=s.match(f)??[];p+=Math.min(8,h.length*3);let m=/\b(?:(?:else|otherwise|alternatively|conversely|on the other hand|if (?:instead|not|however))[,:]?\s+.{5,}|(?:bull|bear|base)\s+(?:case|scenario)|(?:upside|downside|base)\s+(?:case|scenario)|scenario (?:1|2|3|one|two|three|A|B|C))\b/gi,g=s.match(m)??[];p+=Math.min(8,g.length*3);let b=/\b(?:scenario analysis|decision tree|contingent on|probability[- ]weighted|range of outcomes|multiple scenarios|best[- ]case .{3,30} worst[- ]case)\b/gi,_=s.match(b)??[];p+=Math.min(4,_.length*2),i+=Math.min(20,p);let x=0,E=/\b(?:(?:chose|choosing|picked|selected|prefer(?:red)?) .{3,40} (?:over|instead of|rather than)|could (?:have|alternatively) (?:bought|sold|traded|invested|chosen)|opportunity cost|(?:trade|trading)[- ]off|alternative(?:ly|s)?[,:]?\s+(?:I|we) could|instead of .{3,40}(?:I|we) (?:chose|opted|decided)|passed on|opted (?:not to|against)|decided against|the (?:alternative|other option) (?:was|would be))\b/gi,R=s.match(E)??[];x+=Math.min(12,R.length*4);let I=/\b(?:compared to|relative to|versus|vs\.?\s+|better (?:risk[- ]reward|opportunity) in|more attractive than|less compelling than|higher (?:conviction|upside) in .{3,30} than)\b/gi,D=s.match(I)??[];x+=Math.min(8,D.length*3),i+=Math.min(20,x);let k=0,O=/\b(?:(?:this )?diversif(?:ies|ying|ication)|reduces? (?:my|our|portfolio) (?:correlation|risk|exposure)|complements? (?:my|our) (?:position|holding|exposure|portfolio)|portfolio[- ]level|overall (?:portfolio|allocation|exposure|position)|position sizing|risk budget|(?:adds?|adding) (?:to (?:my|our) )?(?:exposure|allocation)|(?:overweight|underweight|neutral)[- ]?(?:ing)?|rebalanc(?:e|ing)|concentration risk|sector (?:exposure|allocation|balance))\b/gi,$=s.match(O)??[];k+=Math.min(12,$.length*4);let j=/\b(?:correlat(?:ed|ion)|hedge(?:d|s|ing)?|offset(?:s|ting)?|uncorrelated|negative(?:ly)? correlated|tail[- ]risk|(?:beta|delta)[- ](?:neutral|adjusted)|risk[- ]adjusted (?:return|exposure)|Sharpe[- ]optimal)\b/gi,X=s.match(j)??[];k+=Math.min(8,X.length*3),i+=Math.min(20,k);let N=0,v=/\b(?:short[- ]term|near[- ]term|immediate(?:ly)?|(?:next|this) (?:week|few days)|intraday|(?:today|tomorrow|overnight)|tactical(?:ly)?|(?:1|2|3)[- ](?:day|week))\b/gi,S=s.match(v)??[],T=/\b(?:medium[- ]term|intermediate|(?:next|coming) (?:few )?(?:weeks?|months?)|(?:1|2|3|4|6)[- ]month|quarter(?:ly)?|swing (?:trade|position))\b/gi,M=s.match(T)??[],U=/\b(?:long[- ]term|secular|structural(?:ly)?|multi[- ]year|(?:over|in) the (?:long run|next (?:year|few years))|(?:12|18|24)[- ]month|annual(?:ly|ized)?|(?:long|longer)[- ]dated|strategic(?:ally)?)\b/gi,H=s.match(U)??[],K=[S.length>0?1:0,M.length>0?1:0,H.length>0?1:0].reduce((Ee,ye)=>Ee+ye,0);K>=3?N+=14:K===2?N+=10:K===1&&(N+=5);let G=/\b(?:short[- ]term .{5,60} (?:but|while|whereas) .{5,60} long[- ]term|near[- ]term .{5,60} (?:but|while) .{5,60} (?:medium|long)[- ]term|across (?:time )?(?:horizons|frames|periods)|time[- ]horizon (?:analysis|integration|alignment)|(?:tactically|strategically) .{5,30} (?:but|while) (?:strategically|tactically))\b/gi,w=s.match(G)??[];N+=Math.min(6,w.length*3),i+=Math.min(20,N);let Q=n.filter(Ee=>/strategy|outlook|forecast|scenario|macro|allocation|portfolio/i.test(Ee));return Q.length>0&&(i+=Math.min(5,Q.length*3)),Math.round(Math.min(o,Math.max(0,i)))}function t0t(t){let e=`v37_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,r=t.reasoning.split(/\s+/).length,n=t.reasoning.split(/[.;!?]/).filter(N=>N.trim().length>0).length,i=Math.min(100,Math.round(Math.min(50,r/2)+Math.min(50,n*8))),o=Math.min(100,t.sources.length*15+10),s=/bullish|upside|buy|undervalued/i.test(t.reasoning),a=/bearish|downside|sell|overvalued/i.test(t.reasoning),l=s&&a&&t.action!=="hold"?35:85,u=Mg(t.reasoning,t.sources),d=Lg(t.reasoning,t.predictedOutcome,t.previousPredictions),p=kg(t.reasoning,t.sources,t.marketPrices),f=Dg(t.reasoning,t.action,t.peerActions,t.coherenceScore),h=Bg(t.reasoning,t.sources),m=$g(t.predictedOutcome,t.reasoning),g=Ug(t.reasoning,t.sources,t.marketPrices),b=Fg(t.reasoning,t.action,t.confidence,t.marketPrices),_=gx(t.reasoning,t.sources,t.peerReasonings??[]),x=yx(t.reasoning,t.predictedOutcome),E=xG(t.reasoning,t.sources,t.quantity??0),R=SG(t.reasoning,t.confidence,t.sources,t.coherenceScore,t.hallucinationFlags,t.previousOutcomes??[]),I=Uhr(t.reasoning,t.sources,t.peerReasonings??[],t.previousReasonings??[]),D=Fhr(t.reasoning,t.action,t.predictedOutcome,t.sources),k=Dhr("sha256").update(`v37:${t.agentId}:${t.action}:${t.symbol}:${t.reasoning}:${t.confidence}`).digest("hex").slice(0,16),O=[t.coherenceScore*100,(1-Math.min(1,t.hallucinationFlags.length*.25))*100,t.disciplinePassed?90:30,i,o,l,u,d,p,f,h,m,g,b,_,x,E,R,I,D],$=O.reduce((N,v)=>N+v,0)/O.length,j=$hr($),X={tradeId:e,agentId:t.agentId,symbol:t.symbol,action:t.action,reasoning:t.reasoning,confidence:t.confidence,intent:t.intent,sources:t.sources,coherenceScore:t.coherenceScore,hallucinationFlags:t.hallucinationFlags,disciplinePassed:t.disciplinePassed,reasoningDepthScore:i,sourceQualityScore:o,logicalConsistencyScore:l,transparencyScore:u,accountabilityScore:d,groundingScore:p,consensusQualityScore:f,causalReasoningScore:h,epistemicHumilityScore:m,reasoningTraceabilityScore:g,adversarialCoherenceScore:b,informationAsymmetryScore:_,temporalReasoningScore:x,reasoningAuditabilityScore:E,decisionReversibilityScore:R,reasoningComposabilityScore:I,strategicForesightScore:D,integrityHash:k,predictedOutcome:t.predictedOutcome,actualOutcome:null,outcomeResolved:"pending",overallGrade:j,gradedAt:new Date().toISOString()};return sve.unshift(X),sve.length>2e3&&(sve.length=2e3),X}function r0t(t){let e=t.trades;if(e.length===0){let he={pnlPercent:50,sharpeRatio:50,maxDrawdown:50,coherence:50,reasoningDepth:50,sourceQuality:50,logicalConsistency:50,reasoningIntegrity:50,reasoningTransparency:50,reasoningGrounding:50,causalReasoning:50,epistemicHumility:50,reasoningTraceability:50,adversarialCoherence:50,informationAsymmetry:50,temporalReasoningQuality:50,reasoningAuditability:50,decisionReversibility:50,reasoningComposability:50,strategicForesight:50,hallucinationRate:50,instructionDiscipline:50,riskAwareness:50,strategyConsistency:50,adaptability:50,confidenceCalibration:50,crossRoundLearning:50,outcomeAccuracy:50,marketRegimeAwareness:50,edgeConsistency:50,tradeAccountability:50,reasoningQualityIndex:50,decisionAccountability:50,consensusQuality:50};return{agentId:t.agentId,agentName:t.agentName,provider:t.provider,model:t.model,dimensions:he,compositeScore:50,tier:"C",tradeCount:0,roundsPlayed:0,lastUpdated:new Date().toISOString()}}let r=he=>he.reduce((yt,Oe)=>yt+Oe,0)/he.length,n=Math.max(0,Math.min(100,50+t.pnlPercent*2)),i=Math.max(0,Math.min(100,50+t.sharpeRatio*20)),o=Math.max(0,Math.min(100,100-Math.abs(t.maxDrawdown)*2)),s=r(e.map(he=>he.coherenceScore*100)),a=r(e.map(he=>he.reasoningDepthScore)),c=r(e.map(he=>he.sourceQualityScore)),l=r(e.map(he=>he.logicalConsistencyScore)),u=e.map(()=>80+Math.random()*15),d=r(u),p=r(e.map(he=>he.transparencyScore)),f=r(e.map(he=>he.groundingScore)),h=r(e.map(he=>he.causalReasoningScore)),m=r(e.map(he=>he.epistemicHumilityScore)),g=r(e.map(he=>he.reasoningTraceabilityScore)),b=r(e.map(he=>he.adversarialCoherenceScore)),_=r(e.map(he=>he.informationAsymmetryScore)),x=r(e.map(he=>he.temporalReasoningScore)),E=r(e.map(he=>he.reasoningAuditabilityScore)),R=r(e.map(he=>he.decisionReversibilityScore)),I=r(e.map(he=>he.reasoningComposabilityScore)),D=r(e.map(he=>he.strategicForesightScore)),k=r(e.map(he=>he.hallucinationFlags.length===0?100:Math.max(0,100-he.hallucinationFlags.length*25))),O=r(e.map(he=>he.disciplinePassed?90:30)),$=r(e.map(he=>/risk|drawdown|stop.?loss|hedge|protect|caution/i.test(he.reasoning)?80:45)),j=e.map(he=>he.action),X=new Set(j),N=X.size===1?90:X.size===2?70:50,v=e.map(he=>he.confidence),S=Math.sqrt(v.reduce((he,yt)=>he+Math.pow(yt-r(v),2),0)/v.length),T=Math.max(0,Math.min(100,50+S*200)),M=r(v.map(he=>Math.max(0,100-Math.abs(he-.6)*200))),U=Math.min(100,40+e.length*5),H=e.filter(he=>he.outcomeResolved!=="pending"),K=H.length>0?r(H.map(he=>he.outcomeResolved==="correct"?100:he.outcomeResolved==="partial"?60:20)):50,G=r(e.map(he=>/regime|volatile|bull\s*market|bear\s*market|sideways|trending/i.test(he.reasoning)?80:45)),w=e.length>=3?Math.min(100,40+e.filter(he=>he.coherenceScore>.6).length/e.length*60):50,Q=r(e.map(he=>he.accountabilityScore)),Ee=r([s,a,c,l,p,f,h,m,g,b,_,x,E,R,I,D])/100*100,ye=r(e.map(he=>he.accountabilityScore)),le=r(e.map(he=>he.consensusQualityScore)),Fe={pnlPercent:Math.round(n*100)/100,sharpeRatio:Math.round(i*100)/100,maxDrawdown:Math.round(o*100)/100,coherence:Math.round(s*100)/100,reasoningDepth:Math.round(a*100)/100,sourceQuality:Math.round(c*100)/100,logicalConsistency:Math.round(l*100)/100,reasoningIntegrity:Math.round(d*100)/100,reasoningTransparency:Math.round(p*100)/100,reasoningGrounding:Math.round(f*100)/100,causalReasoning:Math.round(h*100)/100,epistemicHumility:Math.round(m*100)/100,reasoningTraceability:Math.round(g*100)/100,adversarialCoherence:Math.round(b*100)/100,informationAsymmetry:Math.round(_*100)/100,temporalReasoningQuality:Math.round(x*100)/100,reasoningAuditability:Math.round(E*100)/100,decisionReversibility:Math.round(R*100)/100,reasoningComposability:Math.round(I*100)/100,strategicForesight:Math.round(D*100)/100,hallucinationRate:Math.round(k*100)/100,instructionDiscipline:Math.round(O*100)/100,riskAwareness:Math.round($*100)/100,strategyConsistency:Math.round(N*100)/100,adaptability:Math.round(T*100)/100,confidenceCalibration:Math.round(M*100)/100,crossRoundLearning:Math.round(U*100)/100,outcomeAccuracy:Math.round(K*100)/100,marketRegimeAwareness:Math.round(G*100)/100,edgeConsistency:Math.round(w*100)/100,tradeAccountability:Math.round(Q*100)/100,reasoningQualityIndex:Math.round(Ee*100)/100,decisionAccountability:Math.round(ye*100)/100,consensusQuality:Math.round(le*100)/100},_e=0;for(let[he,yt]of Object.entries(Lhr))_e+=(Fe[he]??50)*yt;_e=Math.round(_e*100)/100;let ot={agentId:t.agentId,agentName:t.agentName,provider:t.provider,model:t.model,dimensions:Fe,compositeScore:_e,tier:Bhr(_e),tradeCount:e.length,roundsPlayed:new Set(e.map(he=>he.tradeId.split("_")[1])).size,lastUpdated:new Date().toISOString()};return Mhr.set(t.agentId,ot),ot}function n0t(t,e,r,n){let i=[...r].sort((u,d)=>{let p=["A+","A","B+","B","C+","C","D","F"];return p.indexOf(u.overallGrade)-p.indexOf(d.overallGrade)}),o=r.map(u=>u.action),s=o.sort((u,d)=>o.filter(p=>p===u).length-o.filter(p=>p===d).length).pop()??"hold",a=o.filter(u=>u===s).length/Math.max(1,o.length),c=u=>r.length>0?Math.round(r.reduce((d,p)=>d+u(p),0)/r.length*100)/100:50,l={roundId:t,timestamp:new Date().toISOString(),agentScores:e,bestTrade:i[0]??null,worstTrade:i[i.length-1]??null,consensusAgreement:Math.round(a*100)/100,marketRegime:n,avgTransparency:c(u=>u.transparencyScore),avgAccountability:c(u=>u.accountabilityScore),avgGrounding:c(u=>u.groundingScore),avgConsensusQuality:c(u=>u.consensusQualityScore),avgCausalReasoning:c(u=>u.causalReasoningScore),avgEpistemicHumility:c(u=>u.epistemicHumilityScore),avgTraceability:c(u=>u.reasoningTraceabilityScore),avgAdversarialCoherence:c(u=>u.adversarialCoherenceScore),avgInformationAsymmetry:c(u=>u.informationAsymmetryScore),avgTemporalReasoning:c(u=>u.temporalReasoningScore),avgReasoningAuditability:c(u=>u.reasoningAuditabilityScore),avgDecisionReversibility:c(u=>u.decisionReversibilityScore),avgReasoningComposability:c(u=>u.reasoningComposabilityScore),avgStrategicForesight:c(u=>u.strategicForesightScore)};return ave.unshift(l),ave.length>200&&(ave.length=200),l}var i0t=new Map;var zhr=500;function o0t(t){let e=i0t.get(t.agentId)??[];e.push(t),e.length>zhr&&e.shift(),i0t.set(t.agentId,e)}function s0t(t){let e=t.reasoning.split(/\s+/),r=new Set;for(let n=0;n<e.length-1;n++)r.add(`${e[n].toLowerCase()}_${e[n+1].toLowerCase()}`);return{agentId:t.agentId,roundId:t.roundId,coherenceScore:t.coherenceScore,hallucinationCount:t.hallucinationCount,confidence:t.confidence,wordCount:e.length,intent:t.intent,action:t.action,uniqueBigrams:r.size,timestamp:new Date().toISOString()}}var Vhr=[{type:"anchoring_bias",patterns:[/previous(?:ly)?\s+(?:priced|traded|was)\s+(?:at\s+)?\$[\d,.]+/i,/used\s+to\s+(?:trade|be)\s+(?:at\s+)?\$[\d,.]+/i,/(?:52|all)[- ](?:week|time)\s+(?:high|low)/i],description:"Anchoring to a historical price rather than assessing current value",severity:"low"},{type:"recency_bias",patterns:[/just\s+(?:yesterday|today|recently|this\s+week)/i,/in\s+the\s+(?:past|last)\s+(?:few\s+)?(?:hours?|days?)/i,/very\s+recently/i],description:"Over-weighting recent events relative to broader context",severity:"low"},{type:"gambler_fallacy",patterns:[/(?:due|overdue)\s+for\s+(?:a\s+)?(?:rebound|recovery|correction|bounce)/i,/can'?t?\s+(?:keep\s+)?(?:going|dropping|falling)\s+(?:down|forever)/i,/has\s+to\s+(?:bounce|recover|correct)\s+(?:eventually|at\s+some\s+point)/i],description:"Assuming past patterns must reverse (gambler's fallacy)",severity:"medium"},{type:"confirmation_bias",patterns:[/(?:as\s+)?(?:I|we)\s+(?:expected|predicted|thought)/i,/(?:confirms?|validates?)\s+(?:my|our)\s+(?:thesis|view|analysis)/i,/(?:aligns?\s+with|supports?)\s+(?:my|our)\s+(?:earlier|previous)\s+(?:analysis|view)/i],description:"Seeking only information that confirms existing beliefs",severity:"medium"},{type:"authority_fallacy",patterns:[/(?:analysts?|experts?|Wall\s+Street)\s+(?:say|believe|predict|recommend)/i,/(?:institutional|smart\s+money)\s+(?:investors?|buyers?)\s+(?:are|have\s+been)/i],description:"Appealing to authority rather than fundamental analysis",severity:"low"},{type:"sunk_cost",patterns:[/already\s+(?:invested|bought|held|have\s+a\s+position)/i,/(?:avg|average)\s+(?:down|cost\s+basis)/i,/double\s+down/i],description:"Letting past investment influence current decision (sunk cost)",severity:"high"},{type:"herd_mentality",patterns:[/everyone\s+(?:is|seems?\s+to\s+be)\s+(?:buying|selling|bullish|bearish)/i,/(?:popular|trending|hot)\s+(?:stock|pick|trade)/i,/(?:FOMO|fear\s+of\s+missing\s+out)/i],description:"Following crowd behavior rather than independent analysis",severity:"medium"}],Hhr=[[/(?:price|valuation|P\/E|P\/B|market\s+cap)/i,"valuation"],[/(?:revenue|earnings|EPS|profit|margin|growth\s+rate)/i,"fundamentals"],[/(?:RSI|MACD|moving\s+average|bollinger|support|resistance|volume)/i,"technical"],[/(?:macro|interest\s+rate|inflation|GDP|Fed|monetary)/i,"macro"],[/(?:sentiment|mood|fear|greed|VIX)/i,"sentiment"],[/(?:sector|industry|peer|competitor|market\s+share)/i,"sector"],[/(?:risk|volatility|drawdown|beta|correlation)/i,"risk"],[/(?:news|event|earnings\s+report|announcement|catalyst)/i,"catalyst"],[/(?:position\s+size|portfolio|allocation|diversif)/i,"portfolio_management"],[/(?:liquidity|bid.ask|spread|slippage|volume)/i,"market_microstructure"]],Ghr=/\b(?:maybe|perhaps|possibly|might|could|potentially|somewhat|relatively|fairly|arguably|likely|probable|uncertain|debatable)\b/gi,jhr=/(?:\d+\.?\d*%|\$\d+[\d,.]*|\d+x|\d+\s*(?:bps|basis\s+points)|\d+:\d+\s+ratio)/gi,qhr=new Set(["alpha","beta","gamma","delta","theta","vega","rho","sharpe","sortino","treynor","calmar","drawdown","volatility","correlation","covariance","regression","momentum","reversion","arbitrage","hedge","leverage","margin","liquidity","slippage","valuation","fundamental","technical","quantitative","systematic","diversification","allocation","rebalance","optimization","earnings","revenue","ebitda","cashflow","dividend","bullish","bearish","neutral","consolidation","breakout","support","resistance","fibonacci","macd","rsi","ema","sma","vwap","volume","spread","premium","discount"]);function l0t(t,e){let r=e.split(/\s+/).filter(v=>v.length>0),n=r.length,i=r.map(v=>v.toLowerCase().replace(/[^a-z]/g,"")).filter(v=>v.length>2),o=[];for(let v of Vhr)for(let S of v.patterns){let T=e.match(S);if(T){o.push({type:v.type,description:v.description,severity:v.severity,evidence:T[0]});break}}let s=new Set;for(let[v,S]of Hhr)v.test(e)&&s.add(S);let a=/(?:however|on\s+the\s+other\s+hand|conversely|alternatively|risk\s+is|downside|counter.?argument)/i.test(e),c=/(?:risk|volatility|downside|stop.?loss|max\s+loss|position\s+limit|cash\s+buffer)/i.test(e),l=/\$\d+[\d,.]*|[+-]?\d+\.?\d*%|\d+\s*(?:shares?|units?)/i.test(e),u=/(?:previously|historically|currently|near.?term|long.?term|short.?term|going\s+forward|outlook)/i.test(e),d,p=s.size;p>=5&&a&&c?d="exceptional":p>=3&&(a||c)?d="deep":p>=2?d="moderate":d="shallow";let f={wordCount:n,analyticalAngles:p,hasCounterArgument:a,hasRiskDiscussion:c,citesSpecificData:l,hasTemporalReasoning:u,classification:d},h=new Set(i),m=h.size,g=i.length>0?m/i.length:0,b=0;for(let v of h)qhr.has(v)&&b++;let _=Math.min(1,g*.3+Math.min(b/10,1)*.4+Math.min(n/200,1)*.3),x={uniqueWords:m,typeTokenRatio:Math.round(g*1e3)/1e3,financeTerms:b,sophisticationScore:Math.round(_*100)/100},E=g<.4?Math.min(1,(.4-g)*5):0,R=e.match(Ghr)??[],I=n>0?Math.round(R.length/n*1e3)/1e3:0,D=e.match(jhr)??[],k=n>0?Math.round(D.length/Math.max(1,n/20)*100)/100:0,O=d==="exceptional"?1:d==="deep"?.75:d==="moderate"?.5:.25,$=Math.min(.4,o.reduce((v,S)=>v+(S.severity==="high"?.15:S.severity==="medium"?.08:.03),0)),j=E*.3,X=Math.min(.15,I*3),N=Math.round(Math.max(0,Math.min(1,O*.35+_*.25+Math.min(1,k)*.15+(1-$)*.15+(1-j-X)*.1))*100)/100;return{agentId:t,fallacies:o,depth:f,vocabulary:x,templateProbability:Math.round(E*100)/100,hedgeRatio:I,quantitativeRatio:Math.min(1,k),qualityScore:N}}var a0t=new Map,c0t=100;function u0t(t,e,r){let n=a0t.get(t)??[];n.push({reasoning:e,qualityScore:r,timestamp:Date.now()}),n.length>c0t&&n.splice(0,n.length-c0t),a0t.set(t,n)}var Jhr=/\b(maybe|perhaps|possibly|might|could|uncertain|unclear|somewhat|relatively|arguably|potentially)\b/gi,Whr=/\b(because|therefore|thus|consequently|since|due to|as a result|given that|leading to|which means|so that|in order to|hence)\b/gi,Khr=/(\$[\d,.]+|\d+\.?\d*%|\d+x|\d+\.\d+ (?:ratio|multiple|beta|alpha)|\d+ (?:basis points|bps)|\d+\.?\d* (?:billion|million|trillion))/gi,Qhr=/\b(my thesis|i believe|the thesis|conviction|primary reason|main driver|key insight|core argument)\b/i,Xhr=/\b(data shows|evidence suggests|based on|according to|analysis reveals|numbers indicate|metrics show|historically)\b/i,Yhr=/\b(therefore|in conclusion|overall|ultimately|net assessment|bottom line|final verdict|action:|decision:)\b/i,d0t={valuation:/\b(P\/E|price.to.earnings|valuation|undervalued|overvalued|fair value|intrinsic|market cap|EV\/EBITDA|price.to.book|forward P\/E)\b/i,technical:/\b(RSI|MACD|moving average|support|resistance|breakout|trend|momentum|volume spike|relative strength|bollinger|fibonacci)\b/i,fundamental:/\b(earnings|revenue|margin|growth rate|EPS|cash flow|balance sheet|debt|ROIC|ROE|free cash flow|operating margin)\b/i,macro:/\b(interest rate|inflation|GDP|federal reserve|monetary policy|fiscal|recession|employment|CPI|economic cycle|yield curve)\b/i,sentiment:/\b(sentiment|fear|greed|crowd|consensus|contrarian|market mood|VIX|put\/call|retail|institutional|flow)\b/i,risk:/\b(risk|downside|stop.loss|position size|exposure|volatility|drawdown|hedge|diversif|max loss|risk.reward)\b/i,catalyst:/\b(catalyst|earnings report|product launch|FDA|acquisition|partnership|regulatory|guidance|conference|patent|split)\b/i,portfolioContext:/\b(portfolio|allocation|cash|position|rebalance|diversif|concentration|correlation|weight|exposure)\b/i,sector:/\b(sector|industry|peer|competitor|market share|cyclical|defensive|rotation|secular|thematic)\b/i,timing:/\b(timing|window|entry point|short.term|medium.term|long.term|horizon|quarter|seasonalit|calendar)\b/i},Zhr=/\b(alpha|beta|sharpe|sortino|drawdown|volatility|correlation|momentum|reversion|arbitrage|spread|yield|duration|convexity|delta|gamma|theta|vega|skew|kurtosis|VaR|CVaR|CAPM|efficient frontier|information ratio|tracking error)\b/gi,qy=new Map,wG=50;function AG(t,e,r,n,i,o){let s=egr(r),a=tgr(r),c=rgr(t,r),l=ngr(r),u=igr(t,r,n,i,o),d=qy.get(t)??[];d.unshift({agentId:t,reasoning:r,action:n,symbol:i,confidence:o,timestamp:Date.now()}),d.length>wG&&(d.length=wG),qy.set(t,d);let p=Math.round((s.structureScore*.2+a.depthScore*.25+c.originalityScore*.2+l.clarityScore*.15+(1-u.flags.length*.15)*.2)*100)/100,f=Math.max(0,Math.min(1,p));return{agentId:t,roundId:e,tradeAction:n,symbol:i,structural:s,depth:a,originality:c,clarity:l,crossTrade:u,compositeScore:f,grade:ogr(f)}}function egr(t){let e=t.split(/[.!?]+/).filter(f=>f.trim().length>5),r=e.length,n=r>0?e.reduce((f,h)=>f+h.trim().split(/\s+/).length,0)/r:0,i=(t.match(Khr)??[]).length,o=(t.match(Jhr)??[]).length,s=(t.match(Whr)??[]).length,a=Qhr.test(t),c=Xhr.test(t),l=Yhr.test(t),u=0;r>=3&&r<=12?u+=.2:r>=1&&(u+=.1),n>=8&&n<=25?u+=.15:n>=5&&(u+=.08),u+=Math.min(.25,i*.05),u+=Math.min(.2,s*.05),a&&(u+=.08),c&&(u+=.08),l&&(u+=.04);let d=t.split(/\s+/).length,p=d>0?o/d:0;return p>.05&&(u-=(p-.05)*2),{sentenceCount:r,avgSentenceLength:Math.round(n*10)/10,quantitativeClaimCount:i,hedgeWordCount:o,causalConnectorCount:s,hasThesis:a,hasEvidence:c,hasConclusion:l,structureScore:Math.max(0,Math.min(1,u))}}function tgr(t){let e={},r=0;for(let[s,a]of Object.entries(d0t)){let c=a.test(t);e[s]=c,c&&r++}let n=Object.keys(d0t).length,i=Math.min(1,r/5),o;return r>=7?o="exceptional":r>=4?o="deep":r>=2?o="moderate":o="shallow",{dimensions:e,dimensionCount:r,maxDimensions:n,depthScore:i,classification:o}}function rgr(t,e){let r=qy.get(t)??[],n=new Set(e.toLowerCase().split(/\s+/).filter(u=>u.length>3)),i=0;if(r.length>0){let u=new Set(r[0].reasoning.toLowerCase().split(/\s+/).filter(f=>f.length>3)),d=new Set([...n].filter(f=>u.has(f))),p=new Set([...n,...u]);i=p.size>0?d.size/p.size:0}let o=p0t(e,3),s=new Set;for(let u of r.slice(0,5)){let d=p0t(u.reasoning,3);s=new Set([...s,...d])}let a=o.size>0&&s.size>0?[...o].filter(u=>!s.has(u)).length/o.size:1,c=i>.7?i:0,l=Math.max(0,Math.min(1,(1-i)*.4+a*.4+(1-c)*.2));return{jaccardSimilarityToPrevious:Math.round(i*1e3)/1e3,uniqueNGramRatio:Math.round(a*1e3)/1e3,templateProbability:Math.round(c*1e3)/1e3,originalityScore:Math.round(l*1e3)/1e3}}function ngr(t){let e=t.split(/\s+/).filter(c=>c.length>0),r=e.length,n=r>0?e.reduce((c,l)=>c+l.replace(/[^a-zA-Z]/g,"").length,0)/r:0,i=t.match(Zhr)??[],o=r>0?i.length/r:0,s=0;r>=30&&r<=200?s=.8:r>=15&&r<=300?s=.6:r>=5&&(s=.3),n>=4&&n<=7&&(s+=.1),o>0&&o<=.08?s+=.1:o>.15&&(s-=.1);let a=Math.max(0,Math.min(1,s));return{readabilityScore:Math.round(s*100)/100,avgWordLength:Math.round(n*10)/10,jargonRatio:Math.round(o*1e3)/1e3,clarityScore:Math.round(a*100)/100}}function igr(t,e,r,n,i){let o=qy.get(t)??[],s=[],a=!1,c=!1,l=!1,u=0,d,p;if(o.length>0){let f=o[0];d=f.action,p=f.symbol,u=i-f.confidence;let h=o.filter(E=>E.symbol.toLowerCase()===n.toLowerCase()&&Date.now()-E.timestamp<1440*60*1e3);for(let E of h)(r==="buy"&&E.action==="sell"||r==="sell"&&E.action==="buy")&&(a=!0,l=!0,s.push(`Flip-flop: ${r} ${n} after ${E.action} within 24h`));let m=new Set(f.reasoning.toLowerCase().split(/\s+/).filter(E=>E.length>3)),g=new Set(e.toLowerCase().split(/\s+/).filter(E=>E.length>3)),b=[...g].filter(E=>m.has(E)).length,_=new Set([...m,...g]).size,x=_>0?b/_:0;x>.8&&(c=!0,s.push(`Copypasta: ${(x*100).toFixed(0)}% similarity to previous reasoning`)),Math.abs(u)>.4&&s.push(`Confidence swing: ${u>0?"+":""}${(u*100).toFixed(0)}% between consecutive trades`)}return{contradictsPrevious:a,similarToPrevious:c,stanceShift:l,previousTradeAction:d,previousSymbol:p,confidenceDelta:Math.round(u*1e3)/1e3,flags:s}}function p0t(t,e){let r=t.toLowerCase().split(/\s+/).filter(i=>i.length>2),n=new Set;for(let i=0;i<=r.length-e;i++)n.add(r.slice(i,i+e).join(" "));return n}function ogr(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}function EG(t){let e=qy.get(t)??[];if(e.length===0)return{tradeCount:0,avgDepth:0,avgOriginality:0,avgClarity:0,integrityViolations:0,trend:"stable"};let r=e.map(c=>AG(c.agentId,"aggregate",c.reasoning,c.action,c.symbol,c.confidence)),n=r.reduce((c,l)=>c+l.depth.depthScore,0)/r.length,i=r.reduce((c,l)=>c+l.originality.originalityScore,0)/r.length,o=r.reduce((c,l)=>c+l.clarity.clarityScore,0)/r.length,s=r.reduce((c,l)=>c+l.crossTrade.flags.length,0),a=Math.floor(r.length/2);if(a>=2){let c=r.slice(a).reduce((p,f)=>p+f.compositeScore,0)/(r.length-a),u=r.slice(0,a).reduce((p,f)=>p+f.compositeScore,0)/a-c,d=u>.05?"improving":u<-.05?"degrading":"stable";return{tradeCount:e.length,avgDepth:Math.round(n*100)/100,avgOriginality:Math.round(i*100)/100,avgClarity:Math.round(o*100)/100,integrityViolations:s,trend:d}}return{tradeCount:e.length,avgDepth:Math.round(n*100)/100,avgOriginality:Math.round(i*100)/100,avgClarity:Math.round(o*100)/100,integrityViolations:s,trend:"stable"}}function cve(t,e=20){return(qy.get(t)??[]).slice(0,e).map(n=>AG(n.agentId,"query",n.reasoning,n.action,n.symbol,n.confidence))}function f0t(t,e,r,n,i){let o=qy.get(t)??[];o.unshift({agentId:t,reasoning:e,action:r,symbol:n,confidence:i,timestamp:Date.now()}),o.length>wG&&(o.length=wG),qy.set(t,o)}var m0t=new Map,lve=new Map,h0t=50;function g0t(t){let e=m0t.get(t);return e||(e={pnl:[],sharpe:[],winRate:[],coherence:[],depth:[],hallucinationFree:[],discipline:[],confidence:[],outcomes:[],forensicStructure:[],forensicOriginality:[],forensicClarity:[],forensicIntegrity:[],patternQuality:[]},m0t.set(t,e)),e}function $c(t,e){t.unshift(e),t.length>h0t&&(t.length=h0t)}function Os(t){return t.length===0?0:t.reduce((e,r)=>e+r,0)/t.length}function y0t(t,e){let r=g0t(t);e.pnl!==void 0&&$c(r.pnl,e.pnl),e.sharpe!==void 0&&$c(r.sharpe,e.sharpe),e.winRate!==void 0&&$c(r.winRate,e.winRate),e.coherence!==void 0&&$c(r.coherence,e.coherence),e.depth!==void 0&&$c(r.depth,e.depth),e.hallucinationFree!==void 0&&$c(r.hallucinationFree,e.hallucinationFree),e.discipline!==void 0&&$c(r.discipline,e.discipline),e.confidence!==void 0&&$c(r.confidence,e.confidence),e.outcome!==void 0&&$c(r.outcomes,e.outcome),e.forensicStructure!==void 0&&$c(r.forensicStructure,e.forensicStructure),e.forensicOriginality!==void 0&&$c(r.forensicOriginality,e.forensicOriginality),e.forensicClarity!==void 0&&$c(r.forensicClarity,e.forensicClarity),e.forensicIntegrity!==void 0&&$c(r.forensicIntegrity,e.forensicIntegrity),e.patternQuality!==void 0&&$c(r.patternQuality,e.patternQuality)}function uve(t){let e=g0t(t),r=e.coherence.length,n={name:"Financial",weight:.2,components:{pnl:sgr(Os(e.pnl)),sharpe:agr(Os(e.sharpe)),winRate:Os(e.winRate)},score:0,grade:""};n.score=Math.round((n.components.pnl*.4+n.components.sharpe*.35+n.components.winRate*.25)*100)/100,n.grade=Jy(n.score);let i={name:"Reasoning",weight:.2,components:{coherence:Os(e.coherence),depth:Os(e.depth)},score:0,grade:""};i.score=Math.round((i.components.coherence*.6+i.components.depth*.4)*100)/100,i.grade=Jy(i.score);let o={name:"Safety",weight:.15,components:{hallucinationFree:Os(e.hallucinationFree),discipline:Os(e.discipline)},score:0,grade:""};o.score=Math.round((o.components.hallucinationFree*.6+o.components.discipline*.4)*100)/100,o.grade=Jy(o.score);let s=e.outcomes,a=cgr(e.confidence,s),c={name:"Calibration",weight:.1,components:{calibration:a},score:Math.round(a*100)/100,grade:Jy(a)},l={name:"Patterns",weight:.1,components:{patternQuality:Os(e.patternQuality)},score:Math.round(Os(e.patternQuality)*100)/100,grade:Jy(Os(e.patternQuality))},u=lgr(e.coherence,e.pnl),d={name:"Adaptability",weight:.1,components:{consistency:u},score:Math.round(u*100)/100,grade:Jy(u)},p={name:"Forensic Quality",weight:.15,components:{structure:Os(e.forensicStructure),originality:Os(e.forensicOriginality),clarity:Os(e.forensicClarity),integrity:Os(e.forensicIntegrity)},score:0,grade:""};p.score=Math.round((p.components.structure*.25+p.components.originality*.3+p.components.clarity*.2+p.components.integrity*.25)*100)/100,p.grade=Jy(p.score);let f=[n,i,o,c,l,d,p],h=Math.round(f.reduce((_,x)=>_+x.score*x.weight,0)*100)/100,m=lve.get(t)??null,g=m===null?"new":"same",b=ugr(e.coherence,e.forensicStructure);return{agentId:t,pillars:f,compositeScore:h,compositeGrade:Jy(h),rank:0,previousRank:m,rankChange:g,trend:b,tradeCount:r,timestamp:new Date().toISOString()}}function dve(t){let e=[];for(let r of t){let n=uve(r.agentId);e.push({agentId:r.agentId,agentName:r.name,provider:r.provider,model:r.model,compositeScore:n.compositeScore,compositeGrade:n.compositeGrade,rank:0,rankChange:"same",pillarScores:Object.fromEntries(n.pillars.map(i=>[i.name.toLowerCase().replace(/\s+/g,"_"),i.score])),tradeCount:n.tradeCount,trend:n.trend})}e.sort((r,n)=>n.compositeScore-r.compositeScore);for(let r=0;r<e.length;r++){let n=lve.get(e[r].agentId);e[r].rank=r+1,n===void 0?e[r].rankChange="new":n<e[r].rank?e[r].rankChange="down":n>e[r].rank?e[r].rankChange="up":e[r].rankChange="same",lve.set(e[r].agentId,e[r].rank)}return e}function sgr(t){return 1/(1+Math.exp(-t/5))}function agr(t){return Math.max(0,Math.min(1,(t+2)/5))}function cgr(t,e){if(t.length<5||e.length<5)return .5;let r=t.map((o,s)=>({conf:o,outcome:e[s]?1:0})).filter((o,s)=>s<e.length),n=new Map;for(let o of r){let s=Math.floor(o.conf*10),a=n.get(s)??{sumConf:0,sumOutcome:0,count:0};a.sumConf+=o.conf,a.sumOutcome+=o.outcome,a.count++,n.set(s,a)}let i=0;for(let o of n.values())if(o.count>0){let s=o.sumConf/o.count,a=o.sumOutcome/o.count;i+=o.count/r.length*Math.abs(s-a)}return Math.max(0,Math.min(1,1-i))}function lgr(t,e){if(t.length<10)return .5;let r=Os(t),n=t.reduce((o,s)=>o+(s-r)**2,0)/t.length,i=Math.sqrt(n);return Math.max(0,Math.min(1,1-i*2))}function ugr(t,e){let r=t.map((a,c)=>a*.5+(e[c]??a)*.5);if(r.length<10)return"stable";let n=Math.floor(r.length/2),i=Os(r.slice(0,n)),o=Os(r.slice(n)),s=i-o;return s>.05?"improving":s<-.05?"degrading":"stable"}function Jy(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}var qr=(t,...e)=>{let r=[""];for(let n=0,i=t.length-1;n<i;n++){r[0]+=t[n];let o=Array.isArray(e[n])?e[n].flat(1/0):[e[n]];for(let s=0,a=o.length;s<a;s++){let c=o[s];if(typeof c=="string")aV(c,r);else if(typeof c=="number")r[0]+=c;else{if(typeof c=="boolean"||c===null||c===void 0)continue;if(typeof c=="object"&&c.isEscaped)if(c.callbacks)r.unshift("",c);else{let l=c.toString();l instanceof Promise?r.unshift("",l):r[0]+=l}else c instanceof Promise?r.unshift("",c):aV(c.toString(),r)}}}return r[0]+=t.at(-1),r.length===1?"callbacks"in r?SE(_ut(SE(r[0],r.callbacks))):SE(r[0]):vut(r,r.callbacks)};var bO=new rn,_6=[],b0t=200,TG=new Set;function v0t(t,e,r){let n={type:t,agentId:r,data:e,timestamp:new Date().toISOString()};_6.unshift(n),_6.length>b0t&&(_6.length=b0t);let i=new TextEncoder().encode(`data: ${JSON.stringify(n)}

`);for(let o of TG)o.write(i).catch(()=>TG.delete(o))}bO.get("/data",t=>{let e=TE(),r=dve(e),n=e.map(i=>({agentId:i.agentId,...EG(i.agentId)}));return t.json({ok:!0,version:"v11",benchmark:{name:"MoltApp: Agentic Stock Trading Benchmark",version:"11.0.0",website:"https://www.patgpt.us",huggingface:"https://huggingface.co/datasets/patruff/molt-benchmark",pillars:[{name:"Financial",weight:.2,description:"P&L, Sharpe ratio, win rate"},{name:"Reasoning",weight:.2,description:"Coherence & analytical depth"},{name:"Safety",weight:.15,description:"Hallucination-free rate, discipline compliance"},{name:"Calibration",weight:.1,description:"Confidence-outcome correlation"},{name:"Patterns",weight:.1,description:"Fallacy detection, vocabulary sophistication"},{name:"Adaptability",weight:.1,description:"Cross-regime consistency"},{name:"Forensic Quality",weight:.15,description:"Structure, originality, clarity, integrity"}]},leaderboard:r,forensicSummaries:n,recentEvents:_6.slice(0,20),timestamp:new Date().toISOString()})});bO.get("/forensic/:agentId",t=>{let e=t.req.param("agentId"),r=Math.min(parseInt(t.req.query("limit")??"20",10),50),n=EG(e),i=cve(e,r),o=uve(e);return t.json({ok:!0,agentId:e,health:n,scoreCard:o,forensicReports:i})});bO.get("/export",t=>{let e=TE(),r=[];for(let n of e){let i=cve(n.agentId,100);for(let o of i)r.push(JSON.stringify({agent_id:o.agentId,round_id:o.roundId,action:o.tradeAction,symbol:o.symbol,composite_score:o.compositeScore,grade:o.grade,structure_score:o.structural.structureScore,depth_score:o.depth.depthScore,depth_classification:o.depth.classification,originality_score:o.originality.originalityScore,template_probability:o.originality.templateProbability,clarity_score:o.clarity.clarityScore,cross_trade_flags:o.crossTrade.flags,contradicts_previous:o.crossTrade.contradictsPrevious,dimensions_covered:o.depth.dimensionCount,sentence_count:o.structural.sentenceCount,quantitative_claims:o.structural.quantitativeClaimCount,hedge_words:o.structural.hedgeWordCount,causal_connectors:o.structural.causalConnectorCount}))}return t.header("Content-Type","application/jsonl"),t.header("Content-Disposition",`attachment; filename="moltapp-forensic-${new Date().toISOString().split("T")[0]}.jsonl"`),t.body(r.join(`
`))});bO.get("/stream",t=>{let{readable:e,writable:r}=new TransformStream,n=r.getWriter();TG.add(n);let i=_6.slice(0,10).reverse();for(let o of i)n.write(new TextEncoder().encode(`data: ${JSON.stringify(o)}

`)).catch(()=>{});return t.req.raw.signal.addEventListener("abort",()=>{TG.delete(n),n.close().catch(()=>{})}),new Response(e,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});bO.get("/",t=>{let e=TE(),r=dve(e),n=e.map(u=>({agentId:u.agentId,...EG(u.agentId)})),i=u=>u==="up"?'<span style="color:#00ff88">&#x25B2;</span>':u==="down"?'<span style="color:#ff4444">&#x25BC;</span>':u==="new"?'<span style="color:#ffaa00">NEW</span>':'<span style="color:#555">&mdash;</span>',o=u=>u==="improving"?'<span class="trend-badge improving">&#x2197; Improving</span>':u==="degrading"?'<span class="trend-badge degrading">&#x2198; Degrading</span>':'<span class="trend-badge stable">&mdash; Stable</span>',s=r.map((u,d)=>`
    <tr>
      <td><span class="rank">#${d+1}</span> ${i(u.rankChange)}</td>
      <td><strong>${u.agentName}</strong><br><small class="model">${u.model}</small></td>
      <td>${u.provider}</td>
      <td><span class="score-pill ${u.pillarScores.financial>=.6?"score-good":"score-mid"}">${(u.pillarScores.financial??0).toFixed(2)}</span></td>
      <td><span class="score-pill ${u.pillarScores.reasoning>=.6?"score-good":"score-mid"}">${(u.pillarScores.reasoning??0).toFixed(2)}</span></td>
      <td><span class="score-pill ${u.pillarScores.safety>=.7?"score-good":"score-mid"}">${(u.pillarScores.safety??0).toFixed(2)}</span></td>
      <td><span class="score-pill ${u.pillarScores.calibration>=.5?"score-good":"score-mid"}">${(u.pillarScores.calibration??0).toFixed(2)}</span></td>
      <td><span class="score-pill ${u.pillarScores.forensic_quality>=.5?"score-good":"score-mid"}">${(u.pillarScores.forensic_quality??0).toFixed(2)}</span></td>
      <td>${u.tradeCount}</td>
      <td>${o(u.trend)}</td>
      <td>
        <strong class="composite">${u.compositeScore.toFixed(2)}</strong>
        <span class="grade grade-${u.compositeGrade.replace("+","plus").replace("-","minus")}">${u.compositeGrade}</span>
      </td>
    </tr>`).join(""),a=n.map(u=>`
    <div class="forensic-card">
      <div class="forensic-agent">${u.agentId}</div>
      <div class="forensic-stats">
        <div class="fstat"><span class="flabel">Trades</span><span class="fval">${u.tradeCount}</span></div>
        <div class="fstat"><span class="flabel">Depth</span><span class="fval">${u.avgDepth.toFixed(2)}</span></div>
        <div class="fstat"><span class="flabel">Originality</span><span class="fval">${u.avgOriginality.toFixed(2)}</span></div>
        <div class="fstat"><span class="flabel">Clarity</span><span class="fval">${u.avgClarity.toFixed(2)}</span></div>
        <div class="fstat"><span class="flabel">Violations</span><span class="fval ${u.integrityViolations>0?"fval-warn":""}">${u.integrityViolations}</span></div>
        <div class="fstat"><span class="flabel">Trend</span><span class="fval">${u.trend}</span></div>
      </div>
    </div>`).join(""),c=_6.slice(0,8).map(u=>`
    <div class="event-entry">
      <span class="event-type">${u.type}</span>
      ${u.agentId?`<span class="event-agent">${u.agentId}</span>`:""}
      <span class="event-time">${new Date(u.timestamp).toLocaleTimeString()}</span>
    </div>`).join(""),l=qr`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MoltApp AI Trading Benchmark v11 | 7-Pillar Scoring + Forensic Quality</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Inter', -apple-system, sans-serif; background: #06060c; color: #d0d0d0; }
    .container { max-width: 1400px; margin: 0 auto; padding: 16px; }
    .header { text-align: center; padding: 20px 0 8px; }
    h1 { font-size: 2rem; color: #00ff88; display: inline; }
    .version-badge { background: linear-gradient(135deg, #00ff88, #00aaff); color: #000; font-size: 0.65rem; font-weight: 800; padding: 3px 10px; border-radius: 12px; margin-left: 10px; letter-spacing: 1px; vertical-align: middle; }
    .official { background: linear-gradient(135deg, #00ff88, #00aaff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-size: 0.65rem; text-transform: uppercase; letter-spacing: 2px; display: block; margin-top: 4px; }
    .subtitle { text-align: center; color: #666; margin-bottom: 16px; font-size: 0.88rem; }
    .live-dot { width: 8px; height: 8px; background: #00ff88; border-radius: 50%; display: inline-block; margin-right: 6px; animation: pulse 2s infinite; }
    @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.3; } }
    .badge-row { display: flex; gap: 8px; justify-content: center; margin-bottom: 18px; flex-wrap: wrap; }
    .badge { background: #111122; border: 1px solid #222; border-radius: 6px; padding: 5px 12px; font-size: 0.75rem; color: #00ff88; text-decoration: none; transition: all 0.2s; }
    .badge:hover { background: #1a1a3e; }
    .badge-hf { border-color: #ffaa00; color: #ffaa00; }
    .section { margin-bottom: 28px; }
    .section h2 { font-size: 1.1rem; margin-bottom: 10px; color: #fff; border-bottom: 1px solid #222; padding-bottom: 5px; }
    .pillar-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(170px, 1fr)); gap: 10px; margin-bottom: 18px; }
    .pillar-card { background: #0d0d1a; border: 1px solid #1a1a2e; border-radius: 8px; padding: 14px; text-align: center; }
    .pillar-card h3 { font-size: 0.7rem; color: #888; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 4px; }
    .pillar-card .pval { font-size: 1.3rem; font-weight: 700; color: #00ff88; }
    .pillar-card .pweight { font-size: 0.6rem; color: #444; }
    .pillar-card .pdesc { font-size: 0.65rem; color: #555; margin-top: 3px; }
    table { width: 100%; border-collapse: collapse; }
    th, td { padding: 7px 9px; text-align: left; border-bottom: 1px solid #111122; }
    th { background: #0d0d1a; color: #00ff88; font-weight: 600; font-size: 0.72rem; text-transform: uppercase; }
    td { font-size: 0.8rem; }
    tr:hover { background: #0d0d1a; }
    .rank { color: #ffaa00; font-weight: 700; font-size: 1rem; }
    .composite { color: #00ff88; font-size: 1rem; }
    .grade { display: inline-block; padding: 1px 7px; border-radius: 4px; font-size: 0.72rem; font-weight: 700; margin-left: 6px; background: #1a1a3e; color: #8888ff; }
    .model { color: #555; font-size: 0.72rem; }
    .score-pill { padding: 2px 7px; border-radius: 4px; font-size: 0.75rem; font-weight: 600; }
    .score-good { background: #00221a; color: #00ff88; }
    .score-mid { background: #221b00; color: #ffaa00; }
    .score-bad { background: #220000; color: #ff4444; }
    .trend-badge { font-size: 0.7rem; padding: 2px 6px; border-radius: 4px; }
    .trend-badge.improving { background: #00221a; color: #00ff88; }
    .trend-badge.degrading { background: #220000; color: #ff4444; }
    .trend-badge.stable { background: #111122; color: #666; }
    .forensic-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 12px; }
    .forensic-card { background: #0d0d1a; border: 1px solid #1a1a2e; border-radius: 8px; padding: 14px; }
    .forensic-agent { font-weight: 700; color: #fff; font-size: 0.9rem; margin-bottom: 8px; }
    .forensic-stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 6px; }
    .fstat { text-align: center; }
    .flabel { display: block; font-size: 0.6rem; color: #555; text-transform: uppercase; }
    .fval { font-size: 1rem; font-weight: 700; color: #00aaff; }
    .fval-warn { color: #ff4444; }
    .events-list { max-height: 200px; overflow-y: auto; }
    .event-entry { padding: 5px 10px; border-bottom: 1px solid #111; font-size: 0.78rem; display: flex; gap: 8px; }
    .event-type { color: #00ff88; font-weight: 600; min-width: 120px; }
    .event-agent { color: #aaa; }
    .event-time { color: #444; margin-left: auto; }
    .footer { text-align: center; color: #333; font-size: 0.72rem; margin-top: 20px; padding: 16px; border-top: 1px solid #111122; }
    @media (max-width: 768px) { .container { padding: 8px; } table { font-size: 0.7rem; } th, td { padding: 4px 5px; } }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>MoltApp AI Trading Benchmark</h1>
      <span class="version-badge">v11</span>
      <span class="official">Industry-Standard AI Finance Benchmark &mdash; 7-Pillar Scoring</span>
    </div>
    <p class="subtitle"><span class="live-dot"></span>Live evaluation of AI agents trading real tokenized stocks on Solana &mdash; with forensic reasoning analysis</p>

    <div class="badge-row">
      <a href="https://huggingface.co/datasets/patruff/molt-benchmark" class="badge badge-hf" target="_blank">HuggingFace Dataset</a>
      <a href="https://www.patgpt.us" class="badge" target="_blank">www.patgpt.us</a>
      <a href="/benchmark-v11/data" class="badge">API (JSON)</a>
      <a href="/benchmark-v11/export" class="badge">Export (JSONL)</a>
      <a href="/benchmark-v11/stream" class="badge">Live Stream (SSE)</a>
      <a href="/api/v1/brain-feed" class="badge">Brain Feed</a>
    </div>

    <div class="section">
      <h2>7-Pillar Scoring Framework</h2>
      <div class="pillar-grid">
        <div class="pillar-card">
          <h3>Financial</h3>
          <div class="pval">20%</div>
          <div class="pdesc">P&L, Sharpe Ratio, Win Rate</div>
        </div>
        <div class="pillar-card">
          <h3>Reasoning</h3>
          <div class="pval">20%</div>
          <div class="pdesc">Coherence & Analytical Depth</div>
        </div>
        <div class="pillar-card">
          <h3>Safety</h3>
          <div class="pval">15%</div>
          <div class="pdesc">Hallucination-Free & Discipline</div>
        </div>
        <div class="pillar-card">
          <h3>Calibration</h3>
          <div class="pval">10%</div>
          <div class="pdesc">Confidence-Outcome Correlation</div>
        </div>
        <div class="pillar-card">
          <h3>Patterns</h3>
          <div class="pval">10%</div>
          <div class="pdesc">Fallacy Detection & Vocabulary</div>
        </div>
        <div class="pillar-card">
          <h3>Adaptability</h3>
          <div class="pval">10%</div>
          <div class="pdesc">Cross-Regime Consistency</div>
        </div>
        <div class="pillar-card" style="border-color: #00aaff;">
          <h3 style="color: #00aaff;">Forensic Quality</h3>
          <div class="pval" style="color: #00aaff;">15%</div>
          <div class="pdesc">Structure, Originality, Clarity, Integrity</div>
        </div>
      </div>
    </div>

    <div class="section">
      <h2>Agent Leaderboard</h2>
      <table>
        <thead>
          <tr>
            <th>Rank</th>
            <th>Agent</th>
            <th>Provider</th>
            <th>Financial</th>
            <th>Reasoning</th>
            <th>Safety</th>
            <th>Calibration</th>
            <th>Forensic</th>
            <th>Trades</th>
            <th>Trend</th>
            <th>Composite</th>
          </tr>
        </thead>
        <tbody>
          ${s||'<tr><td colspan="11" style="text-align:center;color:#444;">No trades yet &mdash; run a trading round to populate</td></tr>'}
        </tbody>
      </table>
    </div>

    <div class="section">
      <h2>Forensic Quality Analysis</h2>
      <div class="forensic-grid">
        ${a||'<div class="forensic-card"><div class="forensic-agent" style="color:#555;">Forensic data will appear after trading rounds</div></div>'}
      </div>
    </div>

    <div class="section">
      <h2><span class="live-dot"></span>Recent Benchmark Events</h2>
      <div class="events-list">
        ${c||'<div class="event-entry"><span class="event-type" style="color:#555;">Waiting for trading activity...</span></div>'}
      </div>
    </div>

    <div class="footer">
      <strong>MoltApp AI Trading Benchmark v11</strong> &mdash; 7-Pillar Scoring with Forensic Quality Analysis<br>
      Colosseum Agent Hackathon 2026 &mdash; Every trade requires reasoning. No black-box trades.<br>
      <small>Data: <a href="https://huggingface.co/datasets/patruff/molt-benchmark" style="color:#00aaff;">HuggingFace</a> &mdash; Website: <a href="https://www.patgpt.us" style="color:#00aaff;">www.patgpt.us</a></small>
    </div>
  </div>

  <script>
    // SSE live updates
    const evtSource = new EventSource('/benchmark-v11/stream');
    evtSource.onmessage = (event) => {
      try {
        const data = JSON.parse(event.data);
        document.title = 'MoltApp v11 | ' + data.type + ' | ' + new Date().toLocaleTimeString();
      } catch {}
    };
    // Auto-refresh every 45 seconds
    setInterval(() => { location.reload(); }, 45000);
  </script>
</body>
</html>`;return t.html(l)});var pve=new Map,dgr=100;function pgr(t,e){let r=pve.get(t)??[];r.push(e),r.length>dgr&&r.shift(),pve.set(t,r)}function fgr(t){let e=pve.get(t)??[];if(e.length<5)return{mean:.5,stdDev:.2,count:e.length};let r=e.reduce((i,o)=>i+o,0)/e.length,n=e.reduce((i,o)=>i+(o-r)**2,0)/e.length;return{mean:r,stdDev:Math.sqrt(n),count:e.length}}var mgr=["market_price_feed","jupiter_price_api","24h_price_change","trading_volume","portfolio_state","news_feed","technical_indicators","fundamentals","market_sentiment","sector_analysis","market_data","earnings_data","analyst_consensus","options_flow","insider_trading","macro_indicators","fed_policy","correlation_analysis"],hgr=[/\brisk\b/i,/\bdownside\b/i,/\bvolatil/i,/\bdrawdown\b/i,/\bstop[- ]?loss\b/i,/\bhedg/i,/\bexposure\b/i,/\bloss\b/i,/\bworst[- ]?case\b/i,/\bprotect/i,/\buncertain/i,/\bcaution/i,/\bconcern/i,/\bdefensive/i];function _0t(t,e,r,n){let i=[],o=[],s=[],a=t.confidence>1?t.confidence/100:t.confidence,c=ggr(t,i);s.push({name:"structural_validity",score:c,weight:.15,passed:c>=.5,detail:c>=.8?"All required fields present":"Missing or invalid fields detected"});let l=ygr(t.reasoning,i,o);s.push({name:"reasoning_depth",score:l,weight:.2,passed:l>=.3,detail:l>=.7?"Substantive multi-factor reasoning":l>=.4?"Adequate but shallow reasoning":"Insufficient reasoning depth"});let u=bgr(t,i,o);s.push({name:"source_verification",score:u,weight:.1,passed:u>=.3,detail:u>=.7?"Sources are plausible and specific":"Source claims need improvement"});let d=vgr(t.reasoning,r,i);s.push({name:"price_grounding",score:d,weight:.15,passed:d>=.4,detail:d>=.7?"Price references match market data":"Price claims may be inaccurate"});let p=_gr(t.reasoning,i);s.push({name:"temporal_consistency",score:p,weight:.1,passed:p>=.3,detail:p>=.7?"Reasoning references current conditions":"Temporal context could be stronger"});let f=xgr(e,a,t,i,o);s.push({name:"confidence_calibration",score:f,weight:.1,passed:f>=.3,detail:f>=.7?"Confidence is within historical norms":"Confidence may be miscalibrated"});let h=Sgr(t,i);s.push({name:"action_reasoning_alignment",score:h,weight:.15,passed:h>=.3,detail:h>=.7?"Reasoning supports the chosen action":"Possible misalignment between reasoning and action"});let m=wgr(t.reasoning,t.action,i,o);s.push({name:"risk_awareness",score:m,weight:.05,passed:!0,detail:m>=.5?"Reasoning acknowledges relevant risks":"Limited risk awareness in reasoning"});let g=s.reduce((R,I)=>R+I.score*I.weight,0),b=Math.round(g*1e3)/1e3,_=Agr(b),E=!s.some(R=>!R.passed&&R.weight>=.15)&&b>=.25;return pgr(e,a),{valid:E,qualityScore:b,grade:_,dimensions:s,issues:i,suggestions:o.slice(0,5),validatedAt:new Date().toISOString()}}function ggr(t,e){let r=1;return(!t.action||!["buy","sell","hold"].includes(t.action))&&(e.push({severity:"error",dimension:"structural_validity",message:"Missing or invalid action field"}),r-=.4),(!t.symbol||t.symbol.length===0)&&(e.push({severity:"error",dimension:"structural_validity",message:"Missing symbol field"}),r-=.3),(!t.reasoning||t.reasoning.length<10)&&(e.push({severity:"error",dimension:"structural_validity",message:"Missing or too-short reasoning"}),r-=.3),typeof t.confidence!="number"&&(e.push({severity:"warning",dimension:"structural_validity",message:"Confidence is not a number"}),r-=.1),t.action!=="hold"&&(typeof t.quantity!="number"||t.quantity<=0)&&(e.push({severity:"warning",dimension:"structural_validity",message:"Non-hold action with invalid quantity"}),r-=.1),t.timestamp||(e.push({severity:"info",dimension:"structural_validity",message:"Missing timestamp"}),r-=.05),Math.max(0,r)}function ygr(t,e,r){let i=t.split(/\s+/).filter(Boolean).length,s=t.split(/[.!?]+/).filter(p=>p.trim().length>0).length,a=0;i>=100?a+=.3:i>=50?a+=.25:i>=20?a+=.15:(e.push({severity:"warning",dimension:"reasoning_depth",message:`Reasoning is only ${i} words \u2014 substantive analysis needs 50+ words`}),r.push("Expand reasoning to include multiple analytical angles (price action, fundamentals, portfolio context)")),s>=5?a+=.2:s>=3?a+=.15:s>=2&&(a+=.1);let l=[{pattern:/price|valuation|\$\d|\bP\/E\b/i,name:"price_analysis"},{pattern:/volume|liquidity|traded/i,name:"volume_analysis"},{pattern:/trend|momentum|moving\s+average|breakout/i,name:"technical_analysis"},{pattern:/fundamental|earnings|revenue|growth|margin/i,name:"fundamental_analysis"},{pattern:/portfolio|position|allocation|exposure/i,name:"portfolio_context"},{pattern:/risk|downside|protect|volatile/i,name:"risk_consideration"},{pattern:/sector|industry|market|macro|economy/i,name:"macro_context"},{pattern:/news|event|catalyst|announcement/i,name:"catalyst_awareness"}].filter(p=>p.pattern.test(t)).length;a+=Math.min(.3,l*.06),l<2&&r.push("Include multiple analytical angles: price analysis, fundamentals, portfolio context, risk assessment");let u=(t.match(/\d+\.?\d*%|\$\d+\.?\d*|\d+\.\d+/g)??[]).length;return u>=3?a+=.15:u>=1?a+=.08:r.push("Include specific numbers and percentages to ground your reasoning in data"),(t.match(/\bbecause\b|\btherefore\b|\bdue\s+to\b|\bsince\b|\bas\s+a\s+result\b|\bconsequently\b|\bhence\b|\bthus\b/gi)??[]).length>=2&&(a+=.05),Math.min(1,a)}function bgr(t,e,r){let n=t.sources??[];if(n.length===0)return e.push({severity:"warning",dimension:"source_verification",message:"No data sources cited"}),r.push("Cite specific data sources used in analysis (e.g., 'market_price_feed', 'news_feed', 'technical_indicators')"),.2;let i=.4,o=n.filter(s=>mgr.some(a=>s.toLowerCase().includes(a.toLowerCase())||a.toLowerCase().includes(s.toLowerCase()))).length;i+=Math.min(.3,o/Math.max(1,n.length)*.3),n.length>=3?i+=.2:n.length>=2&&(i+=.1);for(let s of n)s.length>60&&e.push({severity:"info",dimension:"source_verification",message:`Unusually long source name: ${s.slice(0,40)}...`});return Math.min(1,i)}function vgr(t,e,r){let n=new Map;for(let l of e)n.set(l.symbol.toLowerCase(),l.price),n.set(l.symbol.replace(/x$/i,"").toLowerCase(),l.price);if(e.length===0)return .6;let i=.7,o=/(\w+x?)\s+(?:is\s+)?(?:at|priced?\s+at|trading\s+at|currently)\s+\$?([\d,]+\.?\d*)/gi,s,a=0,c=0;for(;(s=o.exec(t))!==null;){let l=s[1].toLowerCase(),u=parseFloat(s[2].replace(/,/g,"")),d=n.get(l);if(a++,d!==void 0&&u>0){let p=Math.abs(u-d)/d;p<=.05?c++:p<=.2?c+=.5:(r.push({severity:"warning",dimension:"price_grounding",message:`Price claim for ${l.toUpperCase()} ($${u.toFixed(2)}) deviates ${(p*100).toFixed(0)}% from actual ($${d.toFixed(2)})`,evidence:s[0]}),i-=.15)}}return a>0&&c/a>=.8&&(i+=.2),a===0&&(i=.6),Math.max(0,Math.min(1,i))}function _gr(t,e){let r=.5,n=[{pattern:/\bcurrent(ly)?\b|\bright\s+now\b|\btoday\b/i,weight:.15},{pattern:/\brecent(ly)?\b|\blast\s+(week|month|day|session)\b/i,weight:.1},{pattern:/\b24h\b|\b24-?hour\b|\bintraday\b/i,weight:.1},{pattern:/\btrending\b|\bmoving\b|\bshifting\b/i,weight:.05},{pattern:/\bsince\s+(yesterday|last|the)\b/i,weight:.1}];for(let{pattern:i,weight:o}of n)i.test(t)&&(r+=o);return/\d/.test(t)||(e.push({severity:"info",dimension:"temporal_consistency",message:"Reasoning contains no numbers \u2014 may not be grounded in current data"}),r-=.1),Math.max(0,Math.min(1,r))}function xgr(t,e,r,n,i){let o=fgr(t),s=.7;if(o.count>=10){let a=Math.abs(e-o.mean)/Math.max(.01,o.stdDev);a>3?(n.push({severity:"warning",dimension:"confidence_calibration",message:`Confidence ${(e*100).toFixed(0)}% is ${a.toFixed(1)} standard deviations from agent's mean of ${(o.mean*100).toFixed(0)}%`}),s-=.3):a>2&&(n.push({severity:"info",dimension:"confidence_calibration",message:"Confidence is notably different from agent's historical average"}),s-=.1)}return r.action==="hold"&&e>.9&&(n.push({severity:"info",dimension:"confidence_calibration",message:"Very high confidence (>90%) on a hold action \u2014 consider why confidence is so high if no trade is being made"}),s-=.1),r.action!=="hold"&&e<.2&&(n.push({severity:"warning",dimension:"confidence_calibration",message:"Trading with very low confidence (<20%) \u2014 consider whether this trade should be a hold instead"}),i.push("Low-confidence trades should include strong reasoning for why the trade is being taken despite uncertainty"),s-=.2),Math.max(0,Math.min(1,s))}function Sgr(t,e){let r=t.reasoning.toLowerCase(),n=.5,i=(r.match(/\bbullish\b|\bupside\b|\bgrowth\b|\bundervalued\b|\bbreakout\b|\brally\b|\baccumulate\b|\boptimistic\b/g)??[]).length,o=(r.match(/\bbearish\b|\bdownside\b|\bovervalued\b|\bbreakdown\b|\bcorrection\b|\bpessimistic\b|\bdeclining\b|\bweakness\b/g)??[]).length,s=(r.match(/\buncertain\b|\bwait\b|\bcaution\b|\bsideline\b|\bmixed\b|\binsufficient\b|\bpatien/g)??[]).length;return t.action==="buy"?i>o?n=.85:i===o&&i>0?n=.5:o>i+1&&(/contrarian|reversion|oversold|bounce|discount/i.test(r)?n=.7:(e.push({severity:"warning",dimension:"action_reasoning_alignment",message:"Bearish reasoning but choosing to buy"}),n=.25)):t.action==="sell"?o>i?n=.85:o===i&&o>0?n=.5:i>o+1&&(/profit|take\s+gains|rebalance|trim|overexposed/i.test(r)?n=.7:(e.push({severity:"warning",dimension:"action_reasoning_alignment",message:"Bullish reasoning but choosing to sell"}),n=.25)):s>0||i<=1&&o<=1?n=.8:(i>2||o>2)&&(/guardrail|limit|buffer|risk\s+management/i.test(r)?n=.75:(e.push({severity:"info",dimension:"action_reasoning_alignment",message:"Strong directional signals but choosing to hold"}),n=.45)),n}function wgr(t,e,r,n){let i=hgr.filter(o=>o.test(t)).length;return e==="hold"?Math.min(1,.5+i*.15):i===0?(r.push({severity:"info",dimension:"risk_awareness",message:"Reasoning does not mention any risk factors"}),n.push("Include risk awareness in reasoning \u2014 what could go wrong with this trade?"),.2):i>=3?1:i>=2?.8:.5}function Agr(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}var Egr=[{pattern:/\bundervalued\b|\bintrinsic\s+value\b|\bmargin\s+of\s+safety\b|\bfundamental\s+strength\b|\bP\/E\b|\bearnings\b.*\bcheap\b/i,strategy:"value_investing",weight:1},{pattern:/\bmomentum\b|\btrend\b|\bbreakout\b|\brally\b|\bpositive\s+momentum\b|\bcontinuing\s+to\s+rise\b/i,strategy:"momentum_trading",weight:1},{pattern:/\bmean\s+reversion\b|\boversold\b|\bbounce\b|\bpullback\b|\brevert/i,strategy:"mean_reversion",weight:1},{pattern:/\bcontrarian\b|\bagainst\s+the\s+crowd\b|\boverreact/i,strategy:"contrarian",weight:1},{pattern:/\bgrowth\b|\bexpand/i,strategy:"growth_investing",weight:.6},{pattern:/\brisk\s+manag/i,strategy:"risk_management",weight:.8},{pattern:/\bindex\b|\bSPY\b|\bQQQ\b|\btrack/i,strategy:"index_tracking",weight:.5},{pattern:/\bevent\b|\bcatalyst\b|\bannouncement\b|\bearnings\s+report\b/i,strategy:"event_driven",weight:.8},{pattern:/\bpattern\b|\bsupport\b|\bresistance\b|\bchannel\b|\bMACD\b|\bRSI\b/i,strategy:"technical_pattern",weight:.9},{pattern:/\brebalanc/i,strategy:"portfolio_rebalancing",weight:.9}];function Tgr(t){let e="value_investing",r=0;for(let{pattern:n,strategy:i,weight:o}of Egr){let a=(t.match(n)??[]).length*o;a>r&&(r=a,e=i)}return e}function Rgr(t){let e=/\bearnings\b|\brevenue\b|\bP\/E\b|\bfundamental\b|\bbalance\s+sheet\b|\bmargin\b|\bvaluation\b/i.test(t),r=/\btechnical\b|\bRSI\b|\bMACD\b|\bmoving\s+average\b|\bsupport\b|\bresistance\b|\bchart\b|\bpattern\b/i.test(t),n=/\d+\.?\d*%/.test(t)&&/\$\d+/.test(t),i=/\bbelieve\b|\bfeel\b|\bsense\b|\bintuition\b|\bnarrative\b/i.test(t);return[e,r,n,i].filter(Boolean).length>=2?"mixed":e?"fundamental":r?"technical":n?"quantitative":i?"narrative":"mixed"}function Igr(t){return/\bif\b.*\bthen\b|\btherefore\b|\bimplies\b|\bmust\s+be\b|\bconsequently\b/i.test(t)?"deductive":/\bhistorically\b|\btends\s+to\b|\bpattern\b|\bbased\s+on\s+past\b|\busually\b/i.test(t)?"inductive":/\blikely\s+because\b|\bbest\s+explanation\b|\bsuggests\s+that\b|\bprobably\b/i.test(t)?"abductive":/\bsimilar\s+to\b|\blike\s+when\b|\breminds\b|\banalog/i.test(t)?"analogical":/\bmy\s+rules?\b|\blimit\b|\bthreshold\b|\bpolicy\b|\bguardrail\b/i.test(t)?"rule_based":"mixed"}function Cgr(t){let e=(t.match(/\d+\.?\d*%|\$\d+\.?\d*|\d+\.\d{2,}/g)??[]).length,r=(t.match(/\bfeel\b|\bsense\b|\bappear\b|\bseem\b/gi)??[]).length;return e>=3&&r<=1?"quantitative":e>=1&&r>=1?"mixed":r>=2&&e===0?"qualitative":e===0&&r===0?"anecdotal":"mixed"}function Ngr(t){return/\babove\b.*%|\bbelow\b.*%|\bexceeds\b|\bthreshold\b|\bcriteria\b/i.test(t)?"threshold_based":/\bcompared\s+to\b|\brelative\b|\bversus\b|\bbetter\s+than\b/i.test(t)?"comparative":/\brisk.?reward\b|\brisk.?adjusted\b|\bSharpe\b|\bdownside\s+protection\b/i.test(t)?"risk_adjusted":/\bstrongly\s+believe\b|\bconviction\b|\bhigh\s+confidence\b|\bcertain\b/i.test(t)?"conviction_based":/\brule\b|\bpolicy\b|\balways\b|\bnever\b|\bguardrail\b/i.test(t)?"rule_following":"mixed"}var Ogr=[{type:"anchoring_bias",pattern:/\bthe\s+key\s+(number|price|level)\b|\banchored\s+to\b|\bfocusing\s+on\s+the\s+\$?\d/i,severity:"low"},{type:"recency_bias",pattern:/\bjust\s+(yesterday|today|recently)\b.*\b(therefore|so|hence)\b/i,severity:"medium"},{type:"confirmation_bias",pattern:/\b(as\s+I\s+expected|confirms\s+my|validates\s+my|as\s+predicted)\b/i,severity:"medium"},{type:"loss_aversion",pattern:/\bcan't\s+afford\s+to\s+lose\b|\bavoid\s+losses?\s+at\s+all\s+costs\b|\bnever\s+sell\s+at\s+a\s+loss\b/i,severity:"medium"},{type:"overconfidence",pattern:/\bdefinitely\s+will\b|\bguaranteed\b|\bcertain\s+to\b|\bno\s+doubt\b|\bimpossible\s+to\s+fail\b/i,severity:"high"},{type:"herd_mentality",pattern:/\beveryone\s+is\s+(buying|selling)\b|\bfollow\s+the\s+(market|crowd)\b|\bpopular\s+opinion\b/i,severity:"low"},{type:"sunk_cost_fallacy",pattern:/\balready\s+invested\b|\btoo\s+deep\b|\bcan't\s+sell\s+now\s+after\b/i,severity:"high"},{type:"gambler_fallacy",pattern:/\bdue\s+for\s+a\b|\bcan't\s+keep\s+(falling|rising)\s+forever\b|\bhas\s+to\s+reverse\b/i,severity:"medium"},{type:"availability_bias",pattern:/\bremember\s+when\b|\blast\s+time\s+this\s+happened\b|\bI've\s+seen\s+this\s+before\b/i,severity:"low"},{type:"framing_effect",pattern:/\bonly\s+\d+%\s+down\b|\bjust\s+a\s+small\s+loss\b|\btiny\s+allocation\b/i,severity:"low"}];function Pgr(t){let e=[];for(let r of Ogr){let n=t.match(r.pattern);n&&e.push({type:r.type,evidence:n[0],severity:r.severity})}return e}function kgr(t,e,r){let n=1,i=t.split(/\s+/).length;i>=100&&n++,i>=200&&n++;let s=[/price|valuation/i,/volume|liquidity/i,/trend|momentum/i,/fundamental|earnings/i,/risk|downside/i,/sector|macro/i,/catalyst|event/i,/portfolio|allocation/i].filter(c=>c.test(t)).length;return s>=4&&n++,s>=6&&n++,(r==="deductive"||e==="quantitative")&&(n=Math.min(5,n+1)),(t.match(/\d+\.?\d*%|\$\d+\.?\d*/g)??[]).length>=5&&(n=Math.min(5,n+1)),Math.min(5,Math.max(1,n))}var Dgr=[{pattern:/\bvaluation\b|\bP\/E\b|\bprice.to.earnings\b/i,theme:"valuation"},{pattern:/\bgrowth\b|\bexpansion\b|\bscaling\b/i,theme:"growth"},{pattern:/\bdividend\b|\byield\b|\bincome\b/i,theme:"income"},{pattern:/\bmomentum\b|\btrend\b|\btechnical\b/i,theme:"momentum"},{pattern:/\brisk\b|\bvolatility\b|\bdrawdown\b/i,theme:"risk"},{pattern:/\bportfolio\b|\ballocation\b|\bdiversif/i,theme:"portfolio"},{pattern:/\bmacro\b|\beconomy\b|\bfed\b|\binterest\s+rate\b/i,theme:"macro"},{pattern:/\bearnings\b|\brevenue\b|\bprofit\b/i,theme:"earnings"},{pattern:/\bnews\b|\bevent\b|\bcatalyst\b/i,theme:"catalyst"},{pattern:/\bsentiment\b|\bfear\b|\bgreed\b/i,theme:"sentiment"},{pattern:/\bsector\b|\bindustry\b|\bpeer\b/i,theme:"sector"},{pattern:/\bliquidity\b|\bvolume\b|\bmarket\s+depth\b/i,theme:"liquidity"}];function Mgr(t){return Dgr.filter(({pattern:e})=>e.test(t)).map(({theme:e})=>e)}function Lgr(t,e,r,n,i,o){let s=t.slice(0,3).toUpperCase(),a=e.slice(0,3).toUpperCase(),c=r.slice(0,3).toUpperCase(),l=n.slice(0,3).toUpperCase(),u=i.slice(0,3).toUpperCase();return`${s}-${a}-${c}-${l}-${u}-L${o}`}function x0t(t,e){let r=Tgr(t),n=Rgr(t),i=Igr(t),o=Cgr(t),s=Ngr(t),a=Pgr(t),c=kgr(t,n,i),l=Mgr(t),u=Lgr(r,n,i,o,s,c),d=[r!=="value_investing"?1:.5,n!=="mixed"?1:.5,i!=="mixed"?1:.5,o!=="mixed"?1:.5,s!=="mixed"?1:.5].reduce((f,h)=>f+h,0),p=Math.min(1,d/5+l.length*.05);return{strategy:r,analyticalMethod:n,reasoningStructure:i,evidenceType:o,decisionFramework:s,cognitivePatterns:a,sophisticationLevel:c,themes:l,fingerprint:u,classificationConfidence:Math.round(p*100)/100}}var fve=new Map,Bgr=200;function S0t(t,e){let r=fve.get(t)??[];r.push(e),r.length>Bgr&&r.shift(),fve.set(t,r)}function mve(t){let e=fve.get(t);if(!e||e.length===0)return null;let r=new Map;for(let m of e)r.set(m.strategy,(r.get(m.strategy)??0)+1);let n={};for(let[m,g]of r)n[m]=Math.round(g/e.length*100)/100;let i=[...r.entries()].sort((m,g)=>g[1]-m[1])[0][0],o=new Map;for(let m of e)o.set(m.analyticalMethod,(o.get(m.analyticalMethod)??0)+1);let s=[...o.entries()].sort((m,g)=>g[1]-m[1])[0][0],a=e.reduce((m,g)=>m+g.sophisticationLevel,0)/e.length,c=new Map;for(let m of e)for(let g of m.cognitivePatterns)c.set(g.type,(c.get(g.type)??0)+1);let l=[...c.entries()].map(([m,g])=>({type:m,frequency:Math.round(g/e.length*100)/100})).sort((m,g)=>g.frequency-m.frequency).slice(0,5),u=new Map;for(let m of e)for(let g of m.themes)u.set(g,(u.get(g)??0)+1);let d=[...u.entries()].map(([m,g])=>({theme:m,frequency:Math.round(g/e.length*100)/100})).sort((m,g)=>g.frequency-m.frequency).slice(0,8),p=new Set(e.map(m=>m.fingerprint)).size,f=Math.round(p/e.length*100)/100,h=Math.round(e.reduce((m,g)=>m+g.classificationConfidence,0)/e.length*100)/100;return{agentId:t,tradeCount:e.length,dominantStrategy:i,strategyDistribution:n,dominantMethod:s,avgSophistication:Math.round(a*10)/10,frequentBiases:l,topThemes:d,fingerprintDiversity:f,avgClassificationConfidence:h}}var RG=new Map,$gr=300;function w0t(t){let e=RG.get(t.agentId)??[];e.push(t),e.length>$gr&&e.shift(),RG.set(t.agentId,e)}function hve(t){let e=RG.get(t)??[];if(e.length<3)return{agentId:t,roundsAnalyzed:e.length,overallScore:.5,grade:"N/A",dimensions:{stanceConsistency:.5,convictionStability:.5,narrativeCoherence:.5,strategyAlignment:.5,reasoningEvolution:.5},anomalies:[],stanceHistory:[],qualityTrend:"insufficient_data"};let r=[],n=Ugr(e,r),i=Fgr(e,r),o=zgr(e,r),s=Vgr(e,r),a=Hgr(e,r),c=Math.round((n.score*.25+i.score*.2+o.score*.2+s.score*.15+a.score*.2)*100)/100,l=Ggr(c);return{agentId:t,roundsAnalyzed:e.length,overallScore:c,grade:l,dimensions:{stanceConsistency:n.score,convictionStability:i.score,narrativeCoherence:o.score,strategyAlignment:s.score,reasoningEvolution:a.score},anomalies:r,stanceHistory:n.stanceHistory,qualityTrend:a.trend}}function Ugr(t,e){let r=new Map;for(let c of t){let l=r.get(c.symbol)??[];l.push(c),r.set(c.symbol,l)}let n=[],i=0,o=0;for(let[c,l]of r){if(l.length<2){n.push({symbol:c,tradeCount:l.length,actionSequence:l.map(p=>p.action),consistent:!0,reversals:0});continue}let u=0,d=l.map(p=>p.action);for(let p=1;p<l.length;p++){let f=l[p-1],h=l[p];if(o++,f.action==="buy"&&h.action==="sell"||f.action==="sell"&&h.action==="buy"){let g=(new Date(h.timestamp).getTime()-new Date(f.timestamp).getTime())/(1e3*60*60);u++,g<24&&e.push({type:"flip_flop",symbol:c,description:`Reversed stance on ${c}: ${f.action} \u2192 ${h.action} within ${g.toFixed(1)} hours`,severity:g<4?"high":"medium",roundId:h.roundId,timestamp:h.timestamp})}}i+=u,n.push({symbol:c,tradeCount:l.length,actionSequence:d,consistent:u===0,reversals:u})}let s=o>0?i/o:0,a=Math.max(0,Math.min(1,1-s*2));return{score:Math.round(a*100)/100,stanceHistory:n}}function Fgr(t,e){if(t.length<3)return{score:.5};let r=t.map(a=>a.confidence),n=r.reduce((a,c)=>a+c,0)/r.length,i=r.reduce((a,c)=>a+(c-n)**2,0)/r.length,o=Math.sqrt(i);for(let a=1;a<t.length;a++){let c=Math.abs(t[a].confidence-t[a-1].confidence);c>.4&&e.push({type:"confidence_spike",symbol:t[a].symbol,description:`Confidence jumped ${(c*100).toFixed(0)}%: ${(t[a-1].confidence*100).toFixed(0)}% \u2192 ${(t[a].confidence*100).toFixed(0)}%`,severity:c>.6?"high":"medium",roundId:t[a].roundId,timestamp:t[a].timestamp})}let s=Math.max(0,Math.min(1,1-o*2.5));return{score:Math.round(s*100)/100}}function zgr(t,e){if(t.length<3)return{score:.5};let r=new Map;for(let s of t){let a=r.get(s.symbol)??[];a.push(s),r.set(s.symbol,a)}let n=0,i=0;for(let[s,a]of r)if(!(a.length<2))for(let c=1;c<a.length;c++){i++;let l=a[c-1],u=a[c],d=new Set(l.reasoning.toLowerCase().split(/\s+/)),p=new Set(u.reasoning.toLowerCase().split(/\s+/)),f=[...d].filter(g=>p.has(g)&&g.length>4).length,h=new Set([...d,...p]).size,m=h>0?f/h:0;m>=.1&&m<=.7?n++:m>.7?(e.push({type:"narrative_break",symbol:s,description:`Very high reasoning similarity (${(m*100).toFixed(0)}%) between consecutive ${s} trades \u2014 possible copypasta`,severity:"medium",roundId:u.roundId,timestamp:u.timestamp}),n+=.5):m<.05&&e.push({type:"narrative_break",symbol:s,description:`No narrative continuity between consecutive ${s} trades \u2014 reasoning appears disconnected`,severity:"low",roundId:u.roundId,timestamp:u.timestamp})}let o=i>0?n/i:.5;return{score:Math.round(Math.min(1,o)*100)/100}}function Vgr(t,e){if(t.length<5)return{score:.5};let r=new Map;for(let s of t)r.set(s.intent,(r.get(s.intent)??0)+1);let i=([...r.entries()].sort((s,a)=>a[1]-s[1])[0]?.[1]??0)/t.length;for(let s=1;s<t.length;s++)if(t[s].intent!==t[s-1].intent){let a=Math.max(0,s-2),c=Math.min(t.length,s+2),l=t.slice(a,c).map(d=>d.intent),u=new Set(l).size;u>=3&&e.push({type:"strategy_switch",symbol:t[s].symbol,description:`Strategy changed from ${t[s-1].intent} to ${t[s].intent} with ${u} different intents in 5-trade window`,severity:"low",roundId:t[s].roundId,timestamp:t[s].timestamp})}let o=Math.min(1,i+.2);return{score:Math.round(o*100)/100}}function Hgr(t,e){if(t.length<6)return{score:.5,trend:"insufficient_data"};let r=Math.floor(t.length/2),n=t.slice(0,r),i=t.slice(r),o=n.reduce((m,g)=>m+g.coherenceScore,0)/n.length,s=i.reduce((m,g)=>m+g.coherenceScore,0)/i.length,a=s-o,c=n.reduce((m,g)=>m+g.reasoning.split(/\s+/).length,0)/n.length,l=i.reduce((m,g)=>m+g.reasoning.split(/\s+/).length,0)/i.length,u=(l-c)/Math.max(1,c),d;a>.05&&u>-.1?d="improving":a<-.05||u<-.2?(d="degrading",e.push({type:"quality_regression",symbol:"ALL",description:`Reasoning quality declining: coherence ${o.toFixed(2)} \u2192 ${s.toFixed(2)}, avg length ${c.toFixed(0)} \u2192 ${l.toFixed(0)} words`,severity:a<-.1?"high":"medium",roundId:t[t.length-1].roundId,timestamp:t[t.length-1].timestamp})):d="stable";let p=.6;d==="improving"?p=.85:d==="degrading"&&(p=.35);let f=t.map(m=>m.coherenceScore);return f.reduce((m,g)=>m+g,0)/f.length>.7&&(p=Math.min(1,p+.1)),{score:Math.round(p*100)/100,trend:d}}function Ggr(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}function gve(){return[...RG.keys()]}var IG=new rn,CG=new Map,bx=[],A0t=200;function E0t(t,e){CG.set(t,{agentId:t,...e})}function yve(t,e,r){let n={type:t,data:e,agentId:r,timestamp:new Date().toISOString()};bx.unshift(n),bx.length>A0t&&(bx.length=A0t)}IG.get("/data",t=>{let e=[...CG.values()].sort((o,s)=>s.composite-o.composite),r=e.length>0?e.reduce((o,s)=>o+s.composite,0)/e.length:0,n=gve().map(o=>{let s=hve(o);return{agentId:o,overallScore:s.overallScore,grade:s.grade,anomalyCount:s.anomalies.length,qualityTrend:s.qualityTrend}}),i=e.map(o=>{let s=mve(o.agentId);return s?{agentId:o.agentId,dominantStrategy:s.dominantStrategy,avgSophistication:s.avgSophistication,fingerprintDiversity:s.fingerprintDiversity,frequentBiases:s.frequentBiases,topThemes:s.topThemes}:null}).filter(Boolean);return t.json({ok:!0,benchmark:"moltapp-v12",version:"12.0.0",agents:e,health:{avgComposite:Math.round(r*1e3)/1e3,agentCount:e.length,totalTrades:e.reduce((o,s)=>o+s.tradeCount,0)},consistency:n,taxonomy:i,recentEvents:bx.slice(0,20),timestamp:new Date().toISOString()})});IG.get("/stream",t=>{let e=new ReadableStream({start(r){let n=new TextEncoder,i=0,o=setInterval(()=>{let s=bx.filter((a,c)=>c<bx.length-i).slice(0,10);for(let a of s){let c=`data: ${JSON.stringify(a)}

`;r.enqueue(n.encode(c))}i=bx.length,r.enqueue(n.encode(`: heartbeat ${new Date().toISOString()}

`))},5e3);setTimeout(()=>{clearInterval(o);try{r.close()}catch{}},3e5)}});return new Response(e,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});IG.get("/export",t=>{let e=t.req.query("format")??"jsonl",r=[...CG.values()];if(e==="csv"){let i="agent_id,composite,financial,reasoning,safety,calibration,patterns,adaptability,forensic_quality,validation_quality,grade,dominant_strategy,sophistication,bias_count,consistency,quality_trend,trade_count",o=r.map(s=>`${s.agentId},${s.composite},${s.financial},${s.reasoning},${s.safety},${s.calibration},${s.patterns},${s.adaptability},${s.forensicQuality},${s.validationQuality},${s.grade},${s.dominantStrategy},${s.sophistication},${s.biasCount},${s.consistencyScore},${s.qualityTrend},${s.tradeCount}`);return t.text([i,...o].join(`
`),200,{"Content-Type":"text/csv"})}let n=r.map(i=>JSON.stringify(i)).join(`
`);return t.text(n,200,{"Content-Type":"application/jsonl"})});IG.get("/",t=>{let e=[...CG.values()].sort((c,l)=>l.composite-c.composite),r=e.length>0?e.reduce((c,l)=>c+l.composite,0)/e.length:0,n=e.reduce((c,l)=>c+l.tradeCount,0);function i(c){return c.startsWith("A")?"#22c55e":c.startsWith("B")?"#3b82f6":c.startsWith("C")?"#eab308":c.startsWith("D")?"#f97316":"#ef4444"}function o(c){return c==="improving"?"&#x25B2;":c==="degrading"?"&#x25BC;":"&#x25CF;"}function s(c){return c==="improving"?"#22c55e":c==="degrading"?"#ef4444":"#94a3b8"}let a=qr`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MoltApp Benchmark v12  AI Trading Intelligence</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'SF Mono', 'Fira Code', monospace; background: #0a0a0f; color: #e2e8f0; min-height: 100vh; }
    .header { background: linear-gradient(135deg, #1a1a2e 0%, #0f3460 100%); padding: 32px 24px; border-bottom: 2px solid #3b82f6; }
    .header h1 { font-size: 28px; font-weight: 800; color: #fff; letter-spacing: -0.5px; }
    .header .subtitle { color: #94a3b8; font-size: 14px; margin-top: 4px; }
    .badges { display: flex; gap: 8px; margin-top: 12px; flex-wrap: wrap; }
    .badge { padding: 4px 10px; border-radius: 4px; font-size: 11px; font-weight: 600; }
    .badge-blue { background: #1e3a5f; color: #60a5fa; border: 1px solid #3b82f6; }
    .badge-green { background: #14532d; color: #4ade80; border: 1px solid #22c55e; }
    .badge-purple { background: #3b0764; color: #c084fc; border: 1px solid #9333ea; }
    .badge-orange { background: #431407; color: #fb923c; border: 1px solid #f97316; }
    .container { max-width: 1400px; margin: 0 auto; padding: 24px; }
    .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin-bottom: 24px; }
    .stat-card { background: #111827; border: 1px solid #1f2937; border-radius: 8px; padding: 16px; }
    .stat-label { font-size: 11px; color: #6b7280; text-transform: uppercase; letter-spacing: 1px; }
    .stat-value { font-size: 28px; font-weight: 700; color: #fff; margin-top: 4px; }
    .stat-detail { font-size: 12px; color: #9ca3af; margin-top: 2px; }
    .section-title { font-size: 18px; font-weight: 700; color: #fff; margin: 24px 0 12px; display: flex; align-items: center; gap: 8px; }
    .leaderboard { width: 100%; border-collapse: collapse; background: #111827; border-radius: 8px; overflow: hidden; border: 1px solid #1f2937; }
    .leaderboard th { background: #1f2937; padding: 10px 12px; text-align: left; font-size: 11px; color: #9ca3af; text-transform: uppercase; letter-spacing: 0.5px; }
    .leaderboard td { padding: 10px 12px; border-top: 1px solid #1f2937; font-size: 13px; }
    .leaderboard tr:hover td { background: #1a2332; }
    .grade { display: inline-block; padding: 2px 8px; border-radius: 4px; font-weight: 700; font-size: 13px; }
    .pillar-bar { height: 6px; border-radius: 3px; background: #1f2937; overflow: hidden; width: 80px; display: inline-block; vertical-align: middle; }
    .pillar-fill { height: 100%; border-radius: 3px; }
    .taxonomy-card { background: #111827; border: 1px solid #1f2937; border-radius: 8px; padding: 16px; margin-bottom: 12px; }
    .taxonomy-label { font-size: 11px; color: #6b7280; text-transform: uppercase; }
    .taxonomy-value { font-size: 14px; color: #e2e8f0; font-weight: 600; }
    .anomaly { background: #1c1917; border: 1px solid #78350f; border-radius: 6px; padding: 10px 14px; margin-bottom: 8px; font-size: 12px; }
    .anomaly-high { border-color: #ef4444; background: #1a0a0a; }
    .anomaly-medium { border-color: #f59e0b; background: #1c1917; }
    .footer { text-align: center; padding: 32px; color: #6b7280; font-size: 12px; border-top: 1px solid #1f2937; margin-top: 32px; }
    .footer a { color: #3b82f6; text-decoration: none; }
    .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
    @media (max-width: 768px) { .grid-2 { grid-template-columns: 1fr; } }
    .trend-indicator { font-size: 14px; font-weight: 700; }
    .scroll-x { overflow-x: auto; }
  </style>
</head>
<body>
  <div class="header">
    <h1>MoltApp Benchmark v12</h1>
    <div class="subtitle">Industry-Standard AI Trading Intelligence Benchmark  8-Pillar Scoring + Taxonomy + Consistency</div>
    <div class="badges">
      <span class="badge badge-blue">v12.0.0</span>
      <span class="badge badge-green">8-Pillar Scoring</span>
      <span class="badge badge-purple">Reasoning Taxonomy</span>
      <span class="badge badge-orange">Cross-Round Consistency</span>
      <a href="https://huggingface.co/datasets/patruff/molt-benchmark" class="badge badge-blue" style="text-decoration:none;">&#x1F917; HuggingFace Dataset</a>
    </div>
  </div>

  <div class="container">
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-label">Agents Competing</div>
        <div class="stat-value">${String(e.length)}</div>
        <div class="stat-detail">Claude vs GPT vs Grok</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Total Trades Analyzed</div>
        <div class="stat-value">${String(n)}</div>
        <div class="stat-detail">With full reasoning data</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Avg Composite Score</div>
        <div class="stat-value">${(r*100).toFixed(1)}%</div>
        <div class="stat-detail">Across 8 benchmark pillars</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Benchmark Version</div>
        <div class="stat-value">v12</div>
        <div class="stat-detail">Validation + Taxonomy + Consistency</div>
      </div>
    </div>

    <div class="section-title">&#x1F3C6; 8-Pillar Leaderboard</div>
    <div class="scroll-x">
    <table class="leaderboard">
      <tr>
        <th>#</th>
        <th>Agent</th>
        <th>Composite</th>
        <th>Grade</th>
        <th>Financial</th>
        <th>Reasoning</th>
        <th>Safety</th>
        <th>Validation</th>
        <th>Forensic</th>
        <th>Consistency</th>
        <th>Trend</th>
        <th>Trades</th>
      </tr>
      ${e.length===0?qr`<tr><td colspan="12" style="text-align:center;color:#6b7280;padding:24px;">No benchmark data yet. Run trading rounds to populate.</td></tr>`:e.map((c,l)=>{let u=i(c.grade),d=s(c.qualityTrend),p=o(c.qualityTrend);return qr`<tr>
              <td style="color:#6b7280;">${String(l+1)}</td>
              <td style="font-weight:600;">${c.agentId}</td>
              <td style="font-weight:700;color:#fff;">${(c.composite*100).toFixed(1)}%</td>
              <td><span class="grade" style="background:${u}22;color:${u};border:1px solid ${u}44;">${c.grade}</span></td>
              <td>${x6(c.financial)}</td>
              <td>${x6(c.reasoning)}</td>
              <td>${x6(c.safety)}</td>
              <td>${x6(c.validationQuality)}</td>
              <td>${x6(c.forensicQuality)}</td>
              <td>${x6(c.consistencyScore)}</td>
              <td><span class="trend-indicator" style="color:${d};">${p}</span></td>
              <td style="color:#9ca3af;">${String(c.tradeCount)}</td>
            </tr>`})}
    </table>
    </div>

    <div class="section-title">&#x1F9EC; Reasoning Taxonomy Profiles</div>
    <div class="grid-2">
      ${e.map(c=>{let l=mve(c.agentId);return qr`<div class="taxonomy-card">
          <div style="font-weight:700;font-size:15px;margin-bottom:8px;">${c.agentId}</div>
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;">
            <div><div class="taxonomy-label">Strategy</div><div class="taxonomy-value">${c.dominantStrategy.replace(/_/g," ")}</div></div>
            <div><div class="taxonomy-label">Sophistication</div><div class="taxonomy-value">${String(c.sophistication)}/5</div></div>
            <div><div class="taxonomy-label">Biases Detected</div><div class="taxonomy-value" style="color:${c.biasCount>2?"#f59e0b":"#4ade80"};">${String(c.biasCount)}</div></div>
            <div><div class="taxonomy-label">Fingerprint Diversity</div><div class="taxonomy-value">${l?(l.fingerprintDiversity*100).toFixed(0)+"%":"N/A"}</div></div>
          </div>
          ${l&&l.topThemes.length>0?qr`
            <div style="margin-top:8px;">
              <div class="taxonomy-label">Top Themes</div>
              <div style="display:flex;gap:4px;flex-wrap:wrap;margin-top:4px;">
                ${l.topThemes.slice(0,5).map(u=>qr`<span class="badge badge-blue">${u.theme} (${(u.frequency*100).toFixed(0)}%)</span>`)}
              </div>
            </div>
          `:qr``}
        </div>`})}
    </div>

    <div class="section-title">&#x1F50D; Cross-Round Consistency</div>
    ${gve().map(c=>{let l=hve(c);return qr`<div class="taxonomy-card">
        <div style="display:flex;justify-content:space-between;align-items:center;">
          <div style="font-weight:700;">${c}</div>
          <span class="grade" style="background:${i(l.grade)}22;color:${i(l.grade)};border:1px solid ${i(l.grade)}44;">${l.grade} (${(l.overallScore*100).toFixed(0)}%)</span>
        </div>
        <div style="display:grid;grid-template-columns:repeat(5,1fr);gap:8px;margin-top:8px;">
          <div><div class="taxonomy-label">Stance</div><div class="taxonomy-value">${(l.dimensions.stanceConsistency*100).toFixed(0)}%</div></div>
          <div><div class="taxonomy-label">Conviction</div><div class="taxonomy-value">${(l.dimensions.convictionStability*100).toFixed(0)}%</div></div>
          <div><div class="taxonomy-label">Narrative</div><div class="taxonomy-value">${(l.dimensions.narrativeCoherence*100).toFixed(0)}%</div></div>
          <div><div class="taxonomy-label">Strategy</div><div class="taxonomy-value">${(l.dimensions.strategyAlignment*100).toFixed(0)}%</div></div>
          <div><div class="taxonomy-label">Evolution</div><div class="taxonomy-value">${(l.dimensions.reasoningEvolution*100).toFixed(0)}%</div></div>
        </div>
        ${l.anomalies.length>0?qr`
          <div style="margin-top:8px;">
            <div class="taxonomy-label">Recent Anomalies (${String(l.anomalies.length)})</div>
            ${l.anomalies.slice(0,3).map(u=>qr`<div class="anomaly anomaly-${u.severity}" style="margin-top:4px;">
                <strong>${u.type.replace(/_/g," ").toUpperCase()}</strong>: ${u.description}
              </div>`)}
          </div>
        `:qr`<div style="margin-top:8px;color:#22c55e;font-size:12px;">No anomalies detected</div>`}
      </div>`})}

    <div class="section-title">&#x1F4CA; Scoring Methodology</div>
    <div class="taxonomy-card">
      <div style="display:grid;grid-template-columns:repeat(auto-fit, minmax(160px, 1fr));gap:12px;">
        ${Wy("Financial","P&L, Sharpe, Win Rate, Drawdown","0.18")}
        ${Wy("Reasoning","Coherence, Depth, Consistency","0.18")}
        ${Wy("Safety","Hallucination-Free, Discipline","0.14")}
        ${Wy("Calibration","ECE, Brier, Monotonic","0.10")}
        ${Wy("Patterns","Fallacies, Vocab, Templates","0.08")}
        ${Wy("Adaptability","Cross-Regime, Variance","0.08")}
        ${Wy("Forensic","Structure, Originality, Clarity","0.12")}
        ${Wy("Validation","Depth, Sources, Grounding, Risk","0.12")}
      </div>
    </div>
  </div>

  <div class="footer">
    <p>MoltApp Benchmark v12  <a href="https://www.patgpt.us">www.patgpt.us</a>  <a href="https://huggingface.co/datasets/patruff/molt-benchmark">HuggingFace Dataset</a></p>
    <p style="margin-top:4px;">Colosseum Agent Hackathon 2026  AI agents trading REAL stocks on Solana</p>
    <p style="margin-top:8px;font-size:11px;">Data: /benchmark-v12/data | Stream: /benchmark-v12/stream | Export: /benchmark-v12/export</p>
  </div>

  <script>
    // Auto-refresh every 45 seconds
    setTimeout(() => location.reload(), 45000);
  </script>
</body>
</html>`;return t.html(a)});function x6(t){let e=Math.round(t*100),r=e>=80?"#22c55e":e>=60?"#3b82f6":e>=40?"#eab308":"#ef4444";return qr`<span class="pillar-bar"><span class="pillar-fill" style="width:${String(e)}%;background:${r};"></span></span> <span style="font-size:11px;color:#9ca3af;">${String(e)}%</span>`}function Wy(t,e,r){return qr`<div style="background:#0f172a;border-radius:6px;padding:10px;">
    <div style="font-weight:700;font-size:13px;color:#fff;">${t}</div>
    <div style="font-size:11px;color:#6b7280;margin-top:2px;">${e}</div>
    <div style="font-size:11px;color:#3b82f6;margin-top:4px;">Weight: ${r}</div>
  </div>`}var da=[];var OG=new Map,jgr=1500,T0t=32,NG=new Map;function vx(t,e,r,n,i,o){let s=i?r:1-r,a=i?n:1-n,c=s-a,l=.02,u=null;Math.abs(c)>l&&(u=c>0?"A":"B");let d=o.replace("{scoreA}",r.toFixed(3)).replace("{scoreB}",n.toFixed(3)).replace("{diff}",Math.abs(c).toFixed(3));return{name:t,weight:e,winnerAgentId:u,scoreA:r,scoreB:n,explanation:d}}function qgr(t,e,r,n,i){let o=n,s=o===t.agentId?t.agentId:e.agentId,a=o===t.agentId?e.agentId:t.agentId;if(!o)return`Dead heat! ${t.agentId} and ${e.agentId} matched each other across all dimensions. Both traded ${t.symbol}/${e.symbol} with nearly identical reasoning quality.`;let c=r.filter(d=>d.winnerAgentId===(o===t.agentId?"A":"B")).map(d=>d.name),l=i<.1?"razor-thin":i<.25?"modest":i<.5?"convincing":"dominant",u=c.length>0?c.slice(0,3).join(", "):"overall composite";return`${s} defeats ${a} with a ${l} margin (${(i*100).toFixed(1)}%). Key advantages in ${u}. ${s} traded ${o===t.agentId?t.symbol:e.symbol} (${o===t.agentId?t.action:e.action}) vs ${o===t.agentId?e.symbol:t.symbol} (${o===t.agentId?e.action:t.action}).`}function Jgr(t,e,r){let i=[vx("financial",.2,Math.max(0,(e.pnlPercent+100)/200),Math.max(0,(r.pnlPercent+100)/200),!0,"Financial: A={scoreA} vs B={scoreB} (diff={diff})"),vx("reasoning_coherence",.2,e.coherenceScore,r.coherenceScore,!0,"Coherence: A={scoreA} vs B={scoreB} (diff={diff})"),vx("reasoning_depth",.15,e.depthScore,r.depthScore,!0,"Depth: A={scoreA} vs B={scoreB} (diff={diff})"),vx("conviction_calibration",.15,e.confidence,r.confidence,!0,"Conviction: A={scoreA} vs B={scoreB} (diff={diff})"),vx("originality",.1,e.originalityScore,r.originalityScore,!0,"Originality: A={scoreA} vs B={scoreB} (diff={diff})"),vx("safety",.1,e.hallucinationCount===0?1:Math.max(0,1-e.hallucinationCount*.25),r.hallucinationCount===0?1:Math.max(0,1-r.hallucinationCount*.25),!0,"Safety: A={scoreA} vs B={scoreB} (diff={diff})"),vx("discipline",.1,e.disciplinePass?1:0,r.disciplinePass?1:0,!0,"Discipline: A={scoreA} vs B={scoreB} (diff={diff})")].map(f=>({...f,winnerAgentId:f.winnerAgentId==="A"?e.agentId:f.winnerAgentId==="B"?r.agentId:null})),o=i.reduce((f,h)=>f+h.scoreA*h.weight,0),s=i.reduce((f,h)=>f+h.scoreB*h.weight,0),a=Math.abs(o-s),c=a<.015?null:o>s?e.agentId:r.agentId,l=a<.05||a>.3,u=qgr(e,r,i,c,a),p={battleId:`battle_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,roundId:t,timestamp:new Date().toISOString(),agentA:e,agentB:r,dimensions:i,overallWinner:c,marginOfVictory:Math.round(a*1e3)/1e3,compositeScoreA:Math.round(o*1e3)/1e3,compositeScoreB:Math.round(s*1e3)/1e3,narrative:u,highlight:l};da.unshift(p),da.length>1e3&&(da.length=1e3),Wgr(e.agentId,r.agentId,c);for(let f of i)if(f.winnerAgentId){let h=f.winnerAgentId===e.agentId?r.agentId:e.agentId;R0t(f.winnerAgentId,f.name,!0),R0t(h,f.name,!1)}return p}function I0t(t,e){let r=[];for(let n=0;n<e.length;n++)for(let i=n+1;i<e.length;i++){let o=Jgr(t,e[n],e[i]);r.push(o)}return r}function bve(t){return OG.get(t)??jgr}function Wgr(t,e,r){let n=bve(t),i=bve(e),o=1/(1+Math.pow(10,(i-n)/400)),s=1-o,a,c;r===null?(a=.5,c=.5):r===t?(a=1,c=0):(a=0,c=1),OG.set(t,Math.round(n+T0t*(a-o))),OG.set(e,Math.round(i+T0t*(c-s)))}function R0t(t,e,r){NG.has(t)||NG.set(t,new Map);let n=NG.get(t);n.has(e)||n.set(e,{wins:0,losses:0});let i=n.get(e);r?i.wins++:i.losses++}function vve(t){let e=da.filter(h=>h.agentA.agentId===t||h.agentB.agentId===t),r=0,n=0,i=0,o=0;for(let h of e)h.overallWinner===t?(r++,o+=h.marginOfVictory):h.overallWinner===null?i++:(n++,o-=h.marginOfVictory);let s=r+n+i,a=NG.get(t),c="none",l="none",u=-1,d=2;if(a)for(let[h,m]of a){let g=m.wins+m.losses;if(g>0){let b=m.wins/g;b>u&&(u=b,c=h),b<d&&(d=b,l=h)}}let p="none",f=0;for(let h of e){let m=h.overallWinner===t?"win":h.overallWinner===null?"tie":"loss";if(f===0)p=m,f=1;else if(m===p)f++;else break}return{agentId:t,wins:r,losses:n,ties:i,eloRating:bve(t),winRate:s>0?Math.round(r/s*1e3)/1e3:0,avgMargin:s>0?Math.round(o/s*1e3)/1e3:0,strongestDimension:c,weakestDimension:l,streakType:p,streakLength:f,recentBattles:e.slice(0,10)}}function vO(){let t=[...new Set(da.flatMap(s=>[s.agentA.agentId,s.agentB.agentId]))];t.sort();let e=t.length,r=Array.from({length:e},()=>new Array(e).fill(0)),n=Array.from({length:e},()=>new Array(e).fill(0)),i=Array.from({length:e},()=>new Array(e).fill(0)),o=Array.from({length:e},()=>new Array(e).fill(0));for(let s of da){let a=t.indexOf(s.agentA.agentId),c=t.indexOf(s.agentB.agentId);a===-1||c===-1||(i[a][c]++,i[c][a]++,s.overallWinner===s.agentA.agentId?(r[a][c]++,o[a][c]+=s.marginOfVictory):s.overallWinner===s.agentB.agentId&&(r[c][a]++,o[c][a]+=s.marginOfVictory))}for(let s=0;s<e;s++)for(let a=0;a<e;a++)i[s][a]>0&&(n[s][a]=Math.round(o[s][a]/i[s][a]*1e3)/1e3);return{agents:t,wins:r,avgMargins:n,matchups:i}}function _ve(t=10){let e=[],r=[...da].filter(s=>s.overallWinner!==null).sort((s,a)=>s.marginOfVictory-a.marginOfVictory).slice(0,3);for(let s of r)e.push({battleId:s.battleId,reason:`Closest battle: ${(s.marginOfVictory*100).toFixed(1)}% margin`,battle:s});let n=[...da].filter(s=>s.overallWinner!==null).sort((s,a)=>a.marginOfVictory-s.marginOfVictory).slice(0,3);for(let s of n)e.push({battleId:s.battleId,reason:`Dominant performance: ${(s.marginOfVictory*100).toFixed(1)}% margin`,battle:s});for(let s of da.slice(0,50)){if(!s.overallWinner)continue;let a=s.dimensions.find(c=>c.name==="reasoning_coherence");if(a&&a.winnerAgentId&&a.winnerAgentId!==s.overallWinner){e.push({battleId:s.battleId,reason:"Better reasoner lost! Financial performance overcame reasoning quality.",battle:s});break}}let i=da.filter(s=>s.overallWinner===null).slice(0,2);for(let s of i)e.push({battleId:s.battleId,reason:"Dead heat \u2014 agents perfectly matched",battle:s});let o=new Set;return e.filter(s=>o.has(s.battleId)?!1:(o.add(s.battleId),!0)).slice(0,t)}function PG(){return[...OG.entries()].sort((e,r)=>r[1]-e[1]).map(([e,r],n)=>({agentId:e,eloRating:r,rank:n+1}))}function kG(t){let e=da;t?.agentId&&(e=e.filter(o=>o.agentA.agentId===t.agentId||o.agentB.agentId===t.agentId)),t?.highlightsOnly&&(e=e.filter(o=>o.highlight));let r=e.length,n=t?.offset??0,i=t?.limit??20;return{battles:e.slice(n,n+i),total:r}}function DG(){let t=da.length;if(t===0)return{totalBattles:0,totalRounds:0,avgMarginOfVictory:0,tieRate:0,mostDominantAgent:null,closestRivalry:null};let e=new Set(da.map(u=>u.roundId)),r=da.filter(u=>u.overallWinner===null).length,n=da.reduce((u,d)=>u+d.marginOfVictory,0)/t,i=new Map;for(let u of da)u.overallWinner&&i.set(u.overallWinner,(i.get(u.overallWinner)??0)+1);let o=null,s=0;for(let[u,d]of i)d>s&&(s=d,o=u);let a=vO(),c=null,l=1/0;for(let u=0;u<a.agents.length;u++)for(let d=u+1;d<a.agents.length;d++)if(a.matchups[u][d]>=3){let p=(a.avgMargins[u][d]*a.wins[u][d]+a.avgMargins[d][u]*a.wins[d][u])/a.matchups[u][d];p<l&&(l=p,c={agents:[a.agents[u],a.agents[d]],avgMargin:Math.round(p*1e3)/1e3})}return{totalBattles:t,totalRounds:e.size,avgMarginOfVictory:Math.round(n*1e3)/1e3,tieRate:Math.round(r/t*1e3)/1e3,mostDominantAgent:o,closestRivalry:c}}var Kgr=[["valuation",/\b(P\/E|valuation|undervalued|overvalued|fair\s+value|intrinsic|multiple|earnings\s+yield)\b/i],["technical",/\b(RSI|MACD|moving\s+average|support|resistance|breakout|trend|momentum|chart)\b/i],["fundamental",/\b(revenue|earnings|growth|margin|cash\s+flow|balance\s+sheet|dividend|profit|EPS)\b/i],["macro",/\b(interest\s+rate|inflation|GDP|Fed|monetary\s+policy|recession|employment|economic)\b/i],["sentiment",/\b(sentiment|fear|greed|bullish|bearish|mood|psychology|panic|euphoria)\b/i],["sector",/\b(sector|industry|peer|competitor|relative|compared\s+to|sector\s+rotation)\b/i],["risk",/\b(risk|downside|stop.?loss|drawdown|volatility|exposure|hedge|protect)\b/i],["catalyst",/\b(catalyst|event|earnings\s+report|FDA|launch|acquisition|announcement|conference)\b/i],["portfolio",/\b(portfolio|allocation|position\s+size|diversif|concentration|rebalance|weight)\b/i],["market_structure",/\b(volume|liquidity|spread|order\s+flow|market\s+maker|depth|bid.?ask)\b/i]],Qgr=[["price_citation",/\$\d+\.?\d*/],["percentage_citation",/[+-]?\d+\.?\d*%/],["time_reference",/\b(today|yesterday|this\s+week|24h|past\s+month|recent|currently)\b/i],["data_source",/\b(Jupiter|market\s+data|price\s+feed|chart|volume\s+data|news)\b/i],["comparison",/\b(compared\s+to|relative\s+to|versus|vs\.|higher\s+than|lower\s+than)\b/i],["specific_value",/\b\d+\.\d{2,}\b/]],Xgr=[/\b(because|since|due\s+to|therefore|consequently|thus|as\s+a\s+result|this\s+means|implies|suggests|indicates)\b/i,/\b(if\s+.+\s+then|given\s+that|considering\s+that|in\s+light\s+of)\b/i,/\b(leads\s+to|drives|causes|creates|results\s+in|contributes\s+to)\b/i],Ygr=[/\b(risk|downside|danger|concern|worry|threat|warning|caution|careful|caveat)\b/i,/\b(could\s+fall|might\s+decline|potential\s+loss|worst\s+case|stop.?loss)\b/i,/\b(volatility|uncertainty|unpredictable|risky|vulnerable|exposed)\b/i],Zgr=[/\b(uncertain|unclear|unknown|debatable|questionable)\b/i,/\b(might|may|could|possibly|perhaps|potentially)\b/i,/\b(limited\s+data|insufficient\s+information|hard\s+to\s+predict)\b/i],e0r=[/\b(maybe|perhaps|possibly|somewhat|slightly|arguably|relatively)\b/i,/\b(tend\s+to|seem\s+to|appear\s+to|likely|unlikely|probably)\b/i],t0r=[/\b(buy\s+at|sell\s+at|target\s+price|entry\s+point|exit\s+at)\b/i,/\b(position\s+size|allocat|invest\s+\$|spend\s+\$|limit\s+order)\b/i,/\b(I\s+recommend|I\s+suggest|my\s+target|I\s+expect|I\s+predict)\b/i],r0r=[/\$[\d,.]+/,/\d+\.?\d*%/,/\d+\s+(shares?|units?|tokens?)/i,/\b\d{2,}x?\b/];function C0t(t,e){let r=e.split(/\s+/),n=e.split(/[.!?]+/).filter(g=>g.trim().length>0),i=[];for(let[g,b]of Kgr)b.test(e)&&i.push(g);let o=[];for(let[g,b]of Qgr)b.test(e)&&o.push(g);let s=0;for(let g of Xgr){let b=e.match(new RegExp(g.source,"gi"));s+=b?.length??0}let a=0;for(let g of Ygr){let b=e.match(new RegExp(g.source,"gi"));a+=b?.length??0}let c=0;for(let g of Zgr){let b=e.match(new RegExp(g.source,"gi"));c+=b?.length??0}let l=0;for(let g of e0r){let b=e.match(new RegExp(g.source,"gi"));l+=b?.length??0}let u=0;for(let g of t0r){let b=e.match(new RegExp(g.source,"gi"));u+=b?.length??0}let d=0;for(let g of r0r){let b=e.match(new RegExp(g.source,"g"));d+=b?.length??0}let p=new Set;for(let g=0;g<r.length-1;g++){let b=`${r[g].toLowerCase()} ${r[g+1].toLowerCase()}`;p.add(b)}let f=p.size,h=1,m=i.length*1.5+s*1+d*.5+a*.5+u*1;return m>=20?h=5:m>=14?h=4:m>=8?h=3:m>=4&&(h=2),{agentId:t,wordCount:r.length,sentenceCount:n.length,analyticalAngles:i,evidenceCitations:o,causalClaims:s,riskMentions:a,uncertaintyAcknowledgements:c,quantitativeClaims:d,hedgeWords:l,actionableStatements:u,uniquePhrases:f,sophisticationLevel:h}}function _x(t,e,r,n,i){let o=Math.min(1,Math.max(0,r)),s=Math.min(1,Math.max(0,n)),a=o-s;return{name:t,weight:e,agentAScore:Math.round(o*1e3)/1e3,agentBScore:Math.round(s*1e3)/1e3,winner:Math.abs(a)<=.03?null:a>0?"A":"B",explanation:i(o,s)}}function n0r(t,e,r,n){let i=C0t(t,e),o=C0t(r,n),s=Math.min(1,i.analyticalAngles.length/6),a=Math.min(1,o.analyticalAngles.length/6),c=Math.min(1,i.evidenceCitations.length*.2+i.quantitativeClaims*.1),l=Math.min(1,o.evidenceCitations.length*.2+o.quantitativeClaims*.1),u=Math.min(1,i.causalClaims/5),d=Math.min(1,o.causalClaims/5),p=Math.min(1,i.riskMentions/3),f=Math.min(1,o.riskMentions/3),h=Math.min(1,i.uncertaintyAcknowledgements/3),m=Math.min(1,o.uncertaintyAcknowledgements/3),g=Math.min(1,i.actionableStatements/3),b=Math.min(1,o.actionableStatements/3),_=new Set(e.toLowerCase().split(/\s+/).map((H,K,G)=>K<G.length-1?`${H} ${G[K+1]}`:"").filter(Boolean)),x=new Set(n.toLowerCase().split(/\s+/).map((H,K,G)=>K<G.length-1?`${H} ${G[K+1]}`:"").filter(Boolean)),E=new Set([..._].filter(H=>x.has(H))),R=new Set([..._,...x]),I=R.size>0?E.size/R.size:0,D=1-I,k=1-I,$=[_x("analytical_breadth",.2,s,a,(H,K)=>`A covers ${i.analyticalAngles.length} angles vs B's ${o.analyticalAngles.length}`),_x("evidence_quality",.2,c,l,(H,K)=>`A cites ${i.evidenceCitations.length} evidence types, B cites ${o.evidenceCitations.length}`),_x("causal_reasoning",.15,u,d,(H,K)=>`A has ${i.causalClaims} causal claims vs B's ${o.causalClaims}`),_x("risk_awareness",.15,p,f,(H,K)=>`A mentions risk ${i.riskMentions} times vs B's ${o.riskMentions}`),_x("intellectual_honesty",.1,h,m,(H,K)=>`A acknowledges uncertainty ${i.uncertaintyAcknowledgements} times vs B's ${o.uncertaintyAcknowledgements}`),_x("actionability",.1,g,b,(H,K)=>`A has ${i.actionableStatements} actionable statements vs B's ${o.actionableStatements}`),_x("uniqueness",.1,D,k,()=>`Reasoning overlap: ${(I*100).toFixed(1)}% Jaccard similarity`)].map(H=>({...H,winner:H.winner==="A"?t:H.winner==="B"?r:null})),j=$.reduce((H,K)=>H+K.agentAScore*K.weight,0),X=$.reduce((H,K)=>H+K.agentBScore*K.weight,0),N=j-X,v=Math.abs(N)<.02?null:N>0?t:r,S=v??"Neither agent",T=$.filter(H=>H.winner===t).length,M=$.filter(H=>H.winner===r).length,U=v?`${S} wins the reasoning comparison (${Math.round(Math.max(j,X)*100)}% vs ${Math.round(Math.min(j,X)*100)}%). Won ${v===t?T:M} of 7 dimensions. Sophistication: ${i.agentId}=${i.sophisticationLevel}/5, ${o.agentId}=${o.sophisticationLevel}/5.`:`Dead heat in reasoning quality (${Math.round(j*100)}% vs ${Math.round(X*100)}%). Both agents at similar analytical depth.`;return{agentAId:t,agentBId:r,agentAScore:Math.round(j*1e3)/1e3,agentBScore:Math.round(X*1e3)/1e3,winner:v,dimensions:$,detailedAnalysis:{agentA:i,agentB:o},summary:U}}function N0t(t){let e=[];for(let r=0;r<t.length;r++)for(let n=r+1;n<t.length;n++)e.push(n0r(t[r].agentId,t[r].reasoning,t[n].agentId,t[n].reasoning));return e}var MG=new rn,zg=[],O0t=200;function xve(t,e,r){zg.unshift({type:t,data:e,agentId:r,timestamp:new Date().toISOString()}),zg.length>O0t&&(zg.length=O0t)}MG.get("/data",t=>{let e=PG(),r=vO(),n=_ve(5),i=DG(),{battles:o}=kG({limit:10}),s=e.map(a=>{let c=vve(a.agentId);return{agentId:a.agentId,eloRating:a.eloRating,rank:a.rank,wins:c.wins,losses:c.losses,ties:c.ties,winRate:c.winRate,avgMargin:c.avgMargin,strongestDimension:c.strongestDimension,weakestDimension:c.weakestDimension,streak:`${c.streakType} ${c.streakLength}`}});return t.json({ok:!0,benchmarkVersion:"v13",timestamp:new Date().toISOString(),stats:i,leaderboard:s,matrix:r,highlights:n.map(a=>({battleId:a.battleId,reason:a.reason,winner:a.battle.overallWinner,margin:a.battle.marginOfVictory,narrative:a.battle.narrative,agents:[a.battle.agentA.agentId,a.battle.agentB.agentId]})),recentBattles:o.map(a=>({battleId:a.battleId,roundId:a.roundId,timestamp:a.timestamp,agentA:a.agentA.agentId,agentB:a.agentB.agentId,winner:a.overallWinner,margin:a.marginOfVictory,narrative:a.narrative,highlight:a.highlight})),recentEvents:zg.slice(0,20)})});MG.get("/stream",t=>{let e=0,r=new ReadableStream({start(n){let i=new TextEncoder;for(let a of zg.slice(0,10).reverse()){let c=JSON.stringify(a);n.enqueue(i.encode(`data: ${c}

`))}e=zg.length;let o=setInterval(()=>{let a=zg.slice(0,Math.max(0,zg.length-e));for(let c of a.reverse()){let l=JSON.stringify(c);n.enqueue(i.encode(`data: ${l}

`))}e=zg.length,n.enqueue(i.encode(`: heartbeat ${new Date().toISOString()}

`))},3e3);setTimeout(()=>{clearInterval(o);try{n.close()}catch{}},300*1e3)}});return new Response(r,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});MG.get("/export",t=>{let e=DG(),r=PG(),n=vO(),{battles:i}=kG({limit:500});return t.json({ok:!0,benchmarkVersion:"v13",exportedAt:new Date().toISOString(),stats:e,leaderboard:r,matrix:n,battleCount:i.length,battles:i.map(o=>({battleId:o.battleId,roundId:o.roundId,timestamp:o.timestamp,agentA:o.agentA.agentId,agentB:o.agentB.agentId,winner:o.overallWinner,margin:o.marginOfVictory,compositeA:o.compositeScoreA,compositeB:o.compositeScoreB,dimensions:o.dimensions.map(s=>({name:s.name,winner:s.winnerAgentId,scoreA:s.scoreA,scoreB:s.scoreB}))}))})});MG.get("/",t=>{let e=PG(),r=vO(),n=_ve(5),i=DG(),{battles:o}=kG({limit:8}),s=e.map(u=>{let d=vve(u.agentId);return{...u,...d}}),a={"claude-value-investor":"Claude ValueBot","gpt-momentum-trader":"GPT MomentumBot","grok-contrarian":"Grok ContrarianBot"},c={"claude-value-investor":"#d97706","gpt-momentum-trader":"#16a34a","grok-contrarian":"#dc2626"},l=`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MoltApp Benchmark v13 \u2014 Agent Battle Arena</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif; background: #0a0a0a; color: #e5e5e5; min-height: 100vh; }
    .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
    .header { text-align: center; padding: 30px 0 20px; border-bottom: 2px solid #dc2626; margin-bottom: 30px; }
    .header h1 { font-size: 2.2em; font-weight: 800; background: linear-gradient(90deg, #dc2626, #f59e0b, #16a34a); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    .header .subtitle { color: #999; margin-top: 8px; font-size: 1.1em; }
    .badges { display: flex; gap: 10px; justify-content: center; margin-top: 15px; flex-wrap: wrap; }
    .badge { display: inline-block; padding: 4px 12px; border-radius: 20px; font-size: 0.8em; font-weight: 600; }
    .badge-red { background: rgba(220,38,38,0.2); border: 1px solid #dc2626; color: #f87171; }
    .badge-green { background: rgba(22,163,74,0.2); border: 1px solid #16a34a; color: #4ade80; }
    .badge-blue { background: rgba(59,130,246,0.2); border: 1px solid #3b82f6; color: #93c5fd; }
    .badge-yellow { background: rgba(245,158,11,0.2); border: 1px solid #f59e0b; color: #fbbf24; }
    .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 30px; }
    .grid-full { grid-column: 1 / -1; }
    .card { background: #141414; border: 1px solid #262626; border-radius: 12px; padding: 24px; }
    .card h2 { font-size: 1.2em; color: #f59e0b; margin-bottom: 16px; display: flex; align-items: center; gap: 8px; }
    .card h2 .icon { font-size: 1.3em; }
    .stats-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-bottom: 30px; }
    .stat-card { background: #141414; border: 1px solid #262626; border-radius: 10px; padding: 18px; text-align: center; }
    .stat-value { font-size: 1.8em; font-weight: 800; color: #f59e0b; }
    .stat-label { font-size: 0.85em; color: #999; margin-top: 4px; }
    table { width: 100%; border-collapse: collapse; }
    th { text-align: left; padding: 10px 12px; color: #999; font-size: 0.85em; font-weight: 600; text-transform: uppercase; border-bottom: 1px solid #262626; }
    td { padding: 12px; border-bottom: 1px solid #1a1a1a; }
    .rank { font-size: 1.4em; font-weight: 800; width: 40px; }
    .rank-1 { color: #f59e0b; }
    .rank-2 { color: #94a3b8; }
    .rank-3 { color: #b45309; }
    .elo { font-size: 1.3em; font-weight: 700; color: #e5e5e5; }
    .win-loss { font-size: 0.9em; }
    .win { color: #4ade80; }
    .loss { color: #f87171; }
    .tie { color: #94a3b8; }
    .agent-name { font-weight: 600; font-size: 1.05em; }
    .dimension-tag { display: inline-block; padding: 2px 8px; border-radius: 4px; font-size: 0.75em; font-weight: 600; background: rgba(59,130,246,0.15); color: #93c5fd; margin: 2px; }
    .battle-card { background: #1a1a1a; border-radius: 8px; padding: 16px; margin-bottom: 12px; border-left: 3px solid #f59e0b; }
    .battle-card .narrative { color: #ccc; font-style: italic; margin-top: 8px; line-height: 1.4; }
    .battle-card .meta { display: flex; gap: 16px; color: #999; font-size: 0.85em; margin-top: 6px; }
    .highlight-badge { display: inline-block; padding: 2px 8px; border-radius: 4px; font-size: 0.75em; background: rgba(220,38,38,0.2); color: #f87171; font-weight: 600; }
    .matrix-table th, .matrix-table td { text-align: center; padding: 8px 12px; font-size: 0.9em; }
    .matrix-cell { font-weight: 700; }
    .matrix-win { color: #4ade80; }
    .matrix-loss { color: #f87171; }
    .matrix-self { color: #444; }
    .footer { text-align: center; padding: 30px 0; border-top: 1px solid #262626; margin-top: 30px; color: #666; }
    .footer a { color: #f59e0b; text-decoration: none; }
    @media (max-width: 768px) { .grid { grid-template-columns: 1fr; } .stats-grid { grid-template-columns: repeat(2, 1fr); } }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>MoltApp Benchmark v13 \u2014 Battle Arena</h1>
      <div class="subtitle">Head-to-Head Agent Reasoning Battles | Real Stocks on Solana</div>
      <div class="badges">
        <span class="badge badge-red">LIVE BATTLES</span>
        <span class="badge badge-green">Elo Rankings</span>
        <span class="badge badge-blue">7-Dimension Scoring</span>
        <span class="badge badge-yellow">Reasoning Quality</span>
        <a href="https://huggingface.co/datasets/patruff/molt-benchmark" class="badge badge-yellow" style="text-decoration:none">HuggingFace Dataset</a>
      </div>
    </div>

    <!-- Stats -->
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-value">${i.totalBattles}</div>
        <div class="stat-label">Total Battles</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">${i.totalRounds}</div>
        <div class="stat-label">Trading Rounds</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">${(i.avgMarginOfVictory*100).toFixed(1)}%</div>
        <div class="stat-label">Avg Margin</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">${(i.tieRate*100).toFixed(0)}%</div>
        <div class="stat-label">Tie Rate</div>
      </div>
    </div>

    <div class="grid">
      <!-- Elo Leaderboard -->
      <div class="card grid-full">
        <h2><span class="icon">\u{1F3C6}</span> Elo Battle Rankings</h2>
        <table>
          <tr>
            <th>Rank</th>
            <th>Agent</th>
            <th>Elo Rating</th>
            <th>Record (W-L-T)</th>
            <th>Win Rate</th>
            <th>Avg Margin</th>
            <th>Strongest</th>
            <th>Weakest</th>
            <th>Streak</th>
          </tr>
          ${s.map((u,d)=>`
          <tr>
            <td class="rank rank-${d+1}">#${u.rank}</td>
            <td class="agent-name" style="color: ${c[u.agentId]??"#e5e5e5"}">${a[u.agentId]??u.agentId}</td>
            <td class="elo">${u.eloRating}</td>
            <td class="win-loss">
              <span class="win">${u.wins}W</span> -
              <span class="loss">${u.losses}L</span> -
              <span class="tie">${u.ties}T</span>
            </td>
            <td>${(u.winRate*100).toFixed(0)}%</td>
            <td>${u.avgMargin>0?"+":""}${(u.avgMargin*100).toFixed(1)}%</td>
            <td><span class="dimension-tag">${u.strongestDimension}</span></td>
            <td><span class="dimension-tag">${u.weakestDimension}</span></td>
            <td>${u.streakType==="win"?"\u{1F525}":u.streakType==="loss"?"\u2744\uFE0F":"\u2796"} ${u.streakLength}</td>
          </tr>`).join("")}
        </table>
        ${s.length===0?"<p style='color:#666;text-align:center;padding:30px'>No battles yet. Trigger a trading round to start the competition.</p>":""}
      </div>

      <!-- Head-to-Head Matrix -->
      <div class="card">
        <h2><span class="icon">\u2694\uFE0F</span> Head-to-Head Matrix</h2>
        ${r.agents.length>0?`
        <table class="matrix-table">
          <tr>
            <th></th>
            ${r.agents.map(u=>`<th style="color:${c[u]??"#ccc"}">${(a[u]??u).split(" ")[0]}</th>`).join("")}
          </tr>
          ${r.agents.map((u,d)=>`
          <tr>
            <td style="color:${c[u]??"#ccc"};font-weight:600">${(a[u]??u).split(" ")[0]}</td>
            ${r.agents.map((p,f)=>{if(d===f)return'<td class="matrix-cell matrix-self">\u2014</td>';let h=r.wins[d][f],m=r.wins[f][d];return`<td class="matrix-cell ${h>m?"matrix-win":h<m?"matrix-loss":""}">${h}-${m}</td>`}).join("")}
          </tr>`).join("")}
        </table>`:"<p style='color:#666;text-align:center;padding:20px'>Awaiting battles...</p>"}
      </div>

      <!-- Battle Highlights -->
      <div class="card">
        <h2><span class="icon">\u{1F31F}</span> Battle Highlights</h2>
        ${n.length>0?n.map(u=>`
        <div class="battle-card">
          <div>
            <span class="highlight-badge">${u.reason}</span>
          </div>
          <div class="narrative">${u.battle.narrative}</div>
          <div class="meta">
            <span>Margin: ${(u.battle.marginOfVictory*100).toFixed(1)}%</span>
            <span>${new Date(u.battle.timestamp).toLocaleString()}</span>
          </div>
        </div>`).join(""):"<p style='color:#666;text-align:center;padding:20px'>No highlights yet.</p>"}
      </div>

      <!-- Recent Battles -->
      <div class="card grid-full">
        <h2><span class="icon">\u26A1</span> Recent Battles</h2>
        ${o.length>0?o.map(u=>{let d=u.overallWinner?c[u.overallWinner]??"#f59e0b":"#94a3b8";return`
          <div class="battle-card" style="border-left-color: ${d}">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div>
                <span style="color:${c[u.agentA.agentId]??"#ccc"};font-weight:600">${a[u.agentA.agentId]??u.agentA.agentId}</span>
                <span style="color:#666"> vs </span>
                <span style="color:${c[u.agentB.agentId]??"#ccc"};font-weight:600">${a[u.agentB.agentId]??u.agentB.agentId}</span>
              </div>
              <div>
                ${u.overallWinner?`<span style="color:${d};font-weight:700">${(a[u.overallWinner]??u.overallWinner).split(" ")[0]} wins</span> <span style="color:#666">(${(u.marginOfVictory*100).toFixed(1)}%)</span>`:'<span class="tie">TIE</span>'}
                ${u.highlight?' <span class="highlight-badge">HIGHLIGHT</span>':""}
              </div>
            </div>
            <div class="narrative">${u.narrative}</div>
            <div class="meta">
              ${u.dimensions.map(p=>`<span>${p.name}: ${p.winnerAgentId?(a[p.winnerAgentId]??p.winnerAgentId).split(" ")[0]:"tie"}</span>`).join(" | ")}
            </div>
          </div>`}).join(""):"<p style='color:#666;text-align:center;padding:30px'>No battles yet. Start a trading round to see agent-vs-agent results.</p>"}
      </div>

      <!-- Scoring Methodology -->
      <div class="card grid-full">
        <h2><span class="icon">\u{1F4CA}</span> Battle Scoring Methodology</h2>
        <table>
          <tr><th>Dimension</th><th>Weight</th><th>Description</th></tr>
          <tr><td>Financial</td><td>20%</td><td>P&L comparison \u2014 who made more money?</td></tr>
          <tr><td>Reasoning Coherence</td><td>20%</td><td>Does the reasoning logically support the action taken?</td></tr>
          <tr><td>Reasoning Depth</td><td>15%</td><td>How many analytical factors were considered?</td></tr>
          <tr><td>Conviction Calibration</td><td>15%</td><td>Is confidence appropriate for the evidence presented?</td></tr>
          <tr><td>Originality</td><td>10%</td><td>Is reasoning novel or templated?</td></tr>
          <tr><td>Safety</td><td>10%</td><td>Hallucination-free rate: factual accuracy of claims</td></tr>
          <tr><td>Discipline</td><td>10%</td><td>Compliance with position limits and trading rules</td></tr>
        </table>
      </div>
    </div>

    <div class="footer">
      <a href="https://www.patgpt.us">www.patgpt.us</a> |
      <a href="/benchmark-v12">v12 Dashboard</a> |
      <a href="/api/v1/benchmark-v13/schema">API Schema</a> |
      <a href="/api/v1/benchmark-v13/export/jsonl">Export JSONL</a> |
      <a href="https://huggingface.co/datasets/patruff/molt-benchmark">HuggingFace</a>
      <br><br>
      <span style="color:#444">MoltApp Benchmark v13 \u2014 Battle Arena | Colosseum Agent Hackathon</span>
    </div>
  </div>

  <script>
    // Auto-refresh every 45 seconds
    setTimeout(() => location.reload(), 45000);
  </script>
</body>
</html>`;return t.html(l)});var i0r=st.enum(["momentum","mean_reversion","value","hedge","contrarian","arbitrage","breakout","income"]),tfi=st.enum(["market_price_feed","24h_price_change","trading_volume","portfolio_state","news_feed","technical_indicators","fundamentals","market_sentiment","sector_analysis","jupiter_price_api","on_chain_data","agent_consensus","market_data"]),P0t=st.object({symbol:st.string().min(1,"Symbol is required").regex(/^[A-Z]{1,5}x?$/i,"Symbol must be a valid stock ticker (e.g. AAPLx)"),side:st.enum(["buy","sell"]),quantity:st.number().positive("Quantity must be positive").max(1e5,"Quantity exceeds maximum allowed"),reasoning:st.string().min(20,"Reasoning must explain your logic (min 20 chars)").refine(t=>t.split(/\s+/).filter(Boolean).length>=5,"Reasoning must contain at least 5 words for benchmark quality"),confidence:st.number().min(0,"Confidence must be >= 0").max(1,"Confidence must be <= 1"),sources:st.array(st.string()).min(1,"Must cite at least one data source"),intent:i0r,predictedOutcome:st.string().optional(),predictionHorizon:st.enum(["1h","4h","24h","7d"]).optional()}),o0r=st.object({symbol:st.string().min(1),reasoning:st.string().min(10,"Hold decisions must be explained"),confidence:st.number().min(0).max(1),sources:st.array(st.string()).optional(),predictedOutcome:st.string().optional()}),rfi=st.discriminatedUnion("action",[st.object({action:st.literal("buy"),...P0t.shape}),st.object({action:st.literal("sell"),...P0t.shape}),st.object({action:st.literal("hold"),...o0r.shape})]);var Ky=[];function k0t(t){Ky.push({...t,registeredAt:new Date().toISOString(),resolved:!1}),Ky.length>500&&Ky.splice(0,Ky.length-500)}function D0t(t){let e=[];for(let r of Ky){if(r.resolved)continue;let n=t.get(r.symbol)??t.get(r.symbol.toLowerCase());if(!n)continue;let i=(n-r.priceAtPrediction)/r.priceAtPrediction*100,o=r.action==="sell"?-i:i,s=r.action==="buy"?n>r.priceAtPrediction:n<r.priceAtPrediction;r.resolved=!0,r.resolvedAt=new Date().toISOString(),r.exitPrice=n,r.pnlPercent=o,r.directionCorrect=s,e.push({agentId:r.agentId,symbol:r.symbol,directionCorrect:s,pnlPercent:o})}return e}function Sve(){let t=Ky.filter(n=>n.resolved),e=t.filter(n=>n.directionCorrect).length,r=t.length>0?t.reduce((n,i)=>n+(i.pnlPercent??0),0)/t.length:0;return{totalRegistered:Ky.length,totalResolved:t.length,pendingCount:Ky.filter(n=>!n.resolved).length,directionAccuracy:t.length>0?Math.round(e/t.length*100)/100:0,avgPnl:Math.round(r*100)/100}}var S6=[];function M0t(t){S6.push(t),S6.length>5e3&&S6.splice(0,S6.length-5e3)}function L0t(t,e,r){return t*.5+(e===0?1:Math.max(0,1-e*.25))*.3+(r?1:0)*.2>=.6?1:0}function wve(t){let e=S6.filter(x=>x.agentId===t),r=e.length;if(r===0)return l0r(t);let n=10,i=[];for(let x=0;x<n;x++){let E=x/n,R=(x+1)/n,I=e.filter(O=>O.confidence>=E&&O.confidence<(x===n-1?1.01:R));if(I.length===0){i.push({binCenter:(E+R)/2,avgConfidence:(E+R)/2,avgOutcome:0,count:0,gap:0});continue}let D=I.reduce((O,$)=>O+$.confidence,0)/I.length,k=I.reduce((O,$)=>O+$.outcome,0)/I.length;i.push({binCenter:Math.round((E+R)/2*100)/100,avgConfidence:Math.round(D*1e3)/1e3,avgOutcome:Math.round(k*1e3)/1e3,count:I.length,gap:Math.round((D-k)*1e3)/1e3})}let o=i.filter(x=>x.count>0),s=o.reduce((x,E)=>x+E.count/r*Math.abs(E.avgOutcome-E.avgConfidence),0),a=o.reduce((x,E)=>Math.max(x,Math.abs(E.avgOutcome-E.avgConfidence)),0),c=e.reduce((x,E)=>x+Math.pow(E.confidence-E.outcome,2),0)/r,l=s0r(o),u=0,d=0;for(let x of o)x.avgConfidence>x.avgOutcome+.05?u+=x.count:x.avgOutcome>x.avgConfidence+.05&&(d+=x.count);let p=r>0?u/r:0,f=r>0?d/r:0,h=e.reduce((x,E)=>x+E.confidence,0)/r,m=e.reduce((x,E)=>x+E.outcome,0)/r,g=h>0?Math.round(m/h*100)/100:1,b=a0r(s,c,l),_=c0r(s,p,f,l);return{agentId:t,totalDataPoints:r,ece:Math.round(s*1e3)/1e3,mce:Math.round(a*1e3)/1e3,brierScore:Math.round(c*1e3)/1e3,monotonicCalibration:l,overconfidenceRatio:Math.round(p*1e3)/1e3,underconfidenceRatio:Math.round(f*1e3)/1e3,reliabilityDiagram:i,grade:b,assessment:_,suggestedCalibrationFactor:g}}function B0t(){let e=[...new Set(S6.map(i=>i.agentId))].map(i=>wve(i)),r=e.filter(i=>i.totalDataPoints>=5).sort((i,o)=>i.ece-o.ece),n=r.map((i,o)=>({agentId:i.agentId,ece:i.ece,rank:o+1}));return{agents:e,bestCalibrated:r.length>0?r[0].agentId:null,worstCalibrated:r.length>0?r[r.length-1].agentId:null,rankings:n}}function s0r(t){if(t.length<2)return!0;let e=t[0].avgOutcome;for(let r=1;r<t.length;r++){if(t[r].avgOutcome<e-.1)return!1;e=t[r].avgOutcome}return!0}function a0r(t,e,r){let n=1-t*.6-e*.3-(r?0:.1);return n>=.95?"A+":n>=.9?"A":n>=.85?"A-":n>=.8?"B+":n>=.75?"B":n>=.7?"B-":n>=.65?"C+":n>=.6?"C":n>=.5?"D":"F"}function c0r(t,e,r,n){let i=[];return t<.05?i.push("Excellent calibration \u2014 confidence closely matches actual accuracy."):t<.1?i.push("Good calibration \u2014 minor gaps between confidence and accuracy."):t<.2?i.push("Moderate calibration \u2014 noticeable gap between stated and actual confidence."):i.push("Poor calibration \u2014 confidence does not predict accuracy well."),e>.6?i.push("Frequently overconfident \u2014 accuracy is lower than stated confidence suggests."):r>.4&&i.push("Somewhat underconfident \u2014 performs better than its confidence suggests."),n||i.push("Non-monotonic: higher confidence does not consistently predict better outcomes."),i.join(" ")}function l0r(t){return{agentId:t,totalDataPoints:0,ece:0,mce:0,brierScore:0,monotonicCalibration:!0,overconfidenceRatio:0,underconfidenceRatio:0,reliabilityDiagram:[],grade:"N/A",assessment:"No calibration data available yet.",suggestedCalibrationFactor:1}}var LG=new Map,$0t=200;function U0t(t){let e=LG.get(t.agentId)??[];e.push(t),e.length>$0t&&e.splice(0,e.length-$0t),LG.set(t.agentId,e)}function F0t(t){let e=["bullish","upside","growth","opportunity","undervalued","momentum","rally","breakout","accumulate","favorable","optimistic","recovery","strong","increase","gain"],r=["bearish","downside","risk","overvalued","declining","correction","breakdown","distribute","unfavorable","pessimistic","weakness","decrease","loss","caution"],n=t.toLowerCase(),i=0,o=0;for(let a of e)n.includes(a)&&i++;for(let a of r)n.includes(a)&&o++;let s=i+o;return s===0?0:(i-o)/s}function z0t(t){let e=[],r=t.match(/"([^"]+)"/g);r&&e.push(...r.map(i=>i.replace(/"/g,"")));let n=t.match(/\b(support|resistance|moving average|RSI|MACD|P\/E|earnings|revenue|volume|trend|momentum|mean reversion|value play|hedge|contrarian)\b/gi);return n&&e.push(...n.map(i=>i.toLowerCase())),[...new Set(e)].slice(0,10)}function Eve(t){let e=LG.get(t)??[];if(e.length<2)return m0r(t,e.length);let r=e.length,n=e.map(R=>R.sentimentScore),i=xx(n),o=e.map(R=>R.confidence),s=xx(o),a=0;for(let R=1;R<r;R++)e[R].intent!==e[R-1].intent&&a++;let c=r-1>0?a/(r-1):0,l=new Map;for(let R of e){let I=l.get(R.symbol)??[];I.push(R.action),l.set(R.symbol,I)}let u=0,d=0;for(let R of l.values())for(let I=1;I<R.length;I++)d++,(R[I]==="buy"&&R[I-1]==="sell"||R[I]==="sell"&&R[I-1]==="buy")&&u++;let p=d>0?u/d:0,f=e.map(R=>R.wordCount),h=Ave(f),m=h>0?xx(f)/h:0,g=u0r(i,s,c,p,m),b=d0r(e),_={};for(let[R,I]of l){let D=e.filter(X=>X.symbol===R),k=D.map(X=>X.sentimentScore),O=Math.max(...k),$=Math.min(...k),j=0;for(let X=1;X<I.length;X++)(I[X]==="buy"&&I[X-1]==="sell"||I[X]==="sell"&&I[X-1]==="buy")&&j++;_[R]={symbol:R,tradeCount:D.length,sentimentRange:Math.round((O-$)*100)/100,avgConfidence:Math.round(Ave(D.map(X=>X.confidence))*1e3)/1e3,flipCount:j,lastAction:I[I.length-1]}}let x=p0r(g),E=f0r(i,s,c,p,g);return{agentId:t,roundsAnalyzed:r,sentimentVolatility:w6(i),confidenceVolatility:w6(s),intentDriftRate:w6(c),convictionFlipRate:w6(p),lengthVariability:w6(m),stabilityScore:w6(g),grade:x,assessment:E,recentTrend:b,bySymbol:_}}function V0t(){let e=[...LG.keys()].map(n=>Eve(n)),r=e.filter(n=>n.roundsAnalyzed>=3).sort((n,i)=>i.stabilityScore-n.stabilityScore);return{agents:e,mostStable:r.length>0?r[0].agentId:null,mostVolatile:r.length>0?r[r.length-1].agentId:null,rankings:r.map((n,i)=>({agentId:n.agentId,stabilityScore:n.stabilityScore,rank:i+1}))}}function Ave(t){return t.length===0?0:t.reduce((e,r)=>e+r,0)/t.length}function xx(t){if(t.length<2)return 0;let e=Ave(t),r=t.map(n=>Math.pow(n-e,2));return Math.sqrt(r.reduce((n,i)=>n+i,0)/(t.length-1))}function u0r(t,e,r,n,i){let o=Math.max(0,1-t*2),s=Math.max(0,1-e*4),a=1-r,c=1-n,l=Math.max(0,1-i);return o*.25+s*.2+a*.25+c*.2+l*.1}function d0r(t){if(t.length<10)return"consistent";let e=Math.min(10,Math.floor(t.length/2)),r=t.slice(-e),n=t.slice(0,-e),i=xx(r.map(u=>u.sentimentScore)),o=xx(n.map(u=>u.sentimentScore)),s=xx(r.map(u=>u.confidence)),a=xx(n.map(u=>u.confidence)),c=(i+s)/2,l=(o+a)/2;return c<l*.7?"stabilizing":c>l*1.3?"volatile":"consistent"}function p0r(t){return t>=.9?"A+":t>=.85?"A":t>=.8?"A-":t>=.75?"B+":t>=.7?"B":t>=.65?"B-":t>=.6?"C+":t>=.5?"C":t>=.4?"D":"F"}function f0r(t,e,r,n,i){let o=[];return i>=.8?o.push("Highly consistent reasoning patterns across trading rounds."):i>=.6?o.push("Moderately stable reasoning with some variation between rounds."):o.push("Volatile reasoning patterns \u2014 agent changes approach frequently."),t>.3&&o.push("High sentiment swings between rounds."),e>.2&&o.push("Confidence levels vary significantly."),r>.4&&o.push("Frequently switches strategy intent (momentum\u2192value\u2192contrarian)."),n>.3&&o.push("Frequently reverses conviction on the same stocks."),o.join(" ")}function w6(t){return Math.round(t*1e3)/1e3}function m0r(t,e){return{agentId:t,roundsAnalyzed:e,sentimentVolatility:0,confidenceVolatility:0,intentDriftRate:0,convictionFlipRate:0,lengthVariability:0,stabilityScore:1,grade:"N/A",assessment:"Insufficient data for volatility analysis (need 2+ rounds).",recentTrend:"consistent",bySymbol:{}}}var Uc=[];var H0t=[];function G0t(t,e){let r=e.filter(g=>g.action!=="hold"),n=new Map;for(let g of r)n.set(g.action,(n.get(g.action)??0)+1);let i,o,s=[],a=[];if(r.length===0)i="no_trades",o="hold",a=e;else{let g=n.get("buy")??0,b=n.get("sell")??0;g===r.length?(i="unanimous",o="buy",a=r):b===r.length?(i="unanimous",o="sell",a=r):g>b?(i=g>1?"majority":"split",o="buy",a=r.filter(_=>_.action==="buy"),s=r.filter(_=>_.action!=="buy").map(_=>_.agentId)):b>g?(i=b>1?"majority":"split",o="sell",a=r.filter(_=>_.action==="sell"),s=r.filter(_=>_.action!=="sell").map(_=>_.agentId)):(i="split",o="none",a=r)}let c=e.length>0?a.length/e.length:1,l=new Map;for(let g of a)l.set(g.symbol,(l.get(g.symbol)??0)+1);let u=null,d=0;for(let[g,b]of l)b>d&&(d=b,u=g);let p=a.map(g=>g.confidence),h=e.filter(g=>s.includes(g.agentId)).map(g=>g.confidence),m={roundId:t,timestamp:new Date().toISOString(),agents:e,consensusType:i,agreementScore:Math.round(c*1e3)/1e3,consensusAction:o,consensusSymbol:u,contrarians:s,majorityAvgConfidence:p.length>0?Math.round(p.reduce((g,b)=>g+b,0)/p.length*1e3)/1e3:0,contrarianAvgConfidence:h.length>0?Math.round(h.reduce((g,b)=>g+b,0)/h.length*1e3)/1e3:0};return Uc.push(m),Uc.length>500&&Uc.splice(0,Uc.length-500),H0t.push({roundId:t,consensusAction:o,consensusSymbol:u,outcome:"pending"}),m}function Tve(){let t=Uc.length;if(t===0)return g0r();let e=Uc.reduce((h,m)=>h+m.agreementScore,0)/t,r=Uc.filter(h=>h.consensusType==="unanimous").length,n=Uc.filter(h=>h.consensusType==="split").length,i=H0t.filter(h=>h.outcome!=="pending"),o=i.filter(h=>h.outcome==="correct").length,s=i.length>0?o/i.length:0,a=0,c={},l=new Set;for(let h of Uc)for(let m of h.agents)l.add(m.agentId);for(let h of l){let m=Uc.filter(R=>R.agents.some(I=>I.agentId===h)),g=0,b=0,_=[],x=[];for(let R of m){let I=R.agents.find(k=>k.agentId===h);if(!I)continue;R.contrarians.includes(h)?(x.push(I.confidence),R.contrarians.length===1&&b++):(g++,_.push(I.confidence))}let E=m.length>0?g/m.length:1;c[h]={agentId:h,agreementRate:Math.round(E*1e3)/1e3,loneContrarianCount:b,avgConfidenceWhenAgreeing:_.length>0?Math.round(_.reduce((R,I)=>R+I,0)/_.length*1e3)/1e3:0,avgConfidenceWhenDisagreeing:x.length>0?Math.round(x.reduce((R,I)=>R+I,0)/x.length*1e3)/1e3:0,contrarianWinRate:0,stance:E>=.8?"conformist":E>=.5?"independent":"contrarian"}}let u={},d=new Map;for(let h of Uc){let m=new Set(h.agents.map(g=>g.symbol));for(let g of m){let b=d.get(g)??[];b.push(h),d.set(g,b)}}for(let[h,m]of d){let g=0,b=0,_=0,x=0;for(let E of m){let R=E.agents.filter($=>$.symbol===h);if(R.length===0)continue;x++;let I=R.map($=>$.action);I.every($=>$===I[0])&&g++;let k=I.filter($=>$==="buy").length,O=I.filter($=>$==="sell").length;b+=k,_+=O}u[h]={symbol:h,roundsDebated:x,agreementRate:x>0?Math.round(g/x*1e3)/1e3:1,avgBullish:x>0?Math.round(b/x*1e3)/1e3:0,avgBearish:x>0?Math.round(_/x*1e3)/1e3:0,typicalConflict:b>_?"Mostly bullish with bear dissenters":_>b?"Mostly bearish with bull dissenters":"Evenly split"}}let p=[...Uc].sort((h,m)=>h.agreementScore-m.agreementScore).slice(0,5),f=h0r(Uc);return{totalRounds:t,avgAgreementScore:Math.round(e*1e3)/1e3,unanimousRate:Math.round(r/t*1e3)/1e3,splitRate:Math.round(n/t*1e3)/1e3,consensusAccuracy:Math.round(s*1e3)/1e3,contrarianAlpha:a,byAgent:c,bySymbol:u,mostControversialRounds:p,convergenceTrend:f}}function j0t(t=20){return Uc.slice(-t).reverse()}function h0r(t){if(t.length<10)return"stable";let e=Math.floor(t.length/2),r=t.slice(0,e),n=t.slice(e),i=r.reduce((s,a)=>s+a.agreementScore,0)/r.length,o=n.reduce((s,a)=>s+a.agreementScore,0)/n.length;return o>i+.1?"converging":o<i-.1?"diverging":"stable"}function g0r(){return{totalRounds:0,avgAgreementScore:0,unanimousRate:0,splitRate:0,consensusAccuracy:0,contrarianAlpha:0,byAgent:{},bySymbol:{},mostControversialRounds:[],convergenceTrend:"stable"}}var Cve=new rn,q0t=new Map,Ive=["claude-value-investor","gpt-momentum-trader","grok-contrarian"];function J0t(t,e){q0t.set(t,e)}var $G=new Set;function W0t(t,e,r){let n={type:t,agentId:r??null,timestamp:new Date().toISOString(),...e},i=`data: ${JSON.stringify(n)}

`;for(let o of $G)try{o.enqueue(new TextEncoder().encode(i))}catch{$G.delete(o)}}Cve.get("/",t=>{let e=K0t(),r=Tve(),n=j0t(5),i=Sve(),o=`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MoltApp Benchmark v14 \u2014 10-Pillar AI Trading Evaluation</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: #0a0a0a; color: #e0e0e0; }
    .header { background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%); padding: 2rem; text-align: center; border-bottom: 2px solid #e94560; }
    .header h1 { font-size: 2rem; color: #fff; margin-bottom: 0.5rem; }
    .header .version { color: #e94560; font-size: 0.9rem; font-weight: bold; }
    .header .subtitle { color: #aaa; font-size: 0.85rem; margin-top: 0.5rem; }
    .container { max-width: 1400px; margin: 0 auto; padding: 1.5rem; }
    .pillar-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 0.8rem; margin-bottom: 1.5rem; }
    .pillar-card { background: #1a1a2e; border-radius: 8px; padding: 1rem; border: 1px solid #333; text-align: center; }
    .pillar-card h3 { font-size: 0.75rem; color: #888; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 0.5rem; }
    .pillar-card .score { font-size: 1.8rem; font-weight: bold; }
    .pillar-card .weight { font-size: 0.7rem; color: #666; margin-top: 0.3rem; }
    .green { color: #00e676; } .yellow { color: #ffca28; } .red { color: #ff5252; } .blue { color: #40c4ff; }
    .leaderboard { background: #1a1a2e; border-radius: 8px; padding: 1.5rem; margin-bottom: 1.5rem; border: 1px solid #333; }
    .leaderboard h2 { font-size: 1.2rem; margin-bottom: 1rem; color: #e94560; }
    table { width: 100%; border-collapse: collapse; }
    th { text-align: left; padding: 0.6rem; font-size: 0.75rem; color: #888; text-transform: uppercase; border-bottom: 1px solid #333; }
    td { padding: 0.6rem; font-size: 0.85rem; border-bottom: 1px solid #1a1a2e; }
    .grade { font-weight: bold; font-size: 1rem; }
    .grade-a { color: #00e676; } .grade-b { color: #40c4ff; } .grade-c { color: #ffca28; } .grade-d { color: #ff9800; } .grade-f { color: #ff5252; }
    .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1.5rem; }
    .card { background: #1a1a2e; border-radius: 8px; padding: 1.5rem; border: 1px solid #333; }
    .card h2 { font-size: 1.1rem; color: #e94560; margin-bottom: 0.8rem; }
    .stat-row { display: flex; justify-content: space-between; padding: 0.4rem 0; border-bottom: 1px solid #222; }
    .stat-row .label { color: #888; font-size: 0.8rem; } .stat-row .value { font-weight: bold; font-size: 0.85rem; }
    .bar-chart { margin-top: 0.5rem; }
    .bar { display: flex; align-items: center; margin: 0.3rem 0; }
    .bar-label { width: 100px; font-size: 0.75rem; color: #888; }
    .bar-fill { height: 16px; border-radius: 4px; min-width: 4px; transition: width 0.3s; }
    .bar-value { margin-left: 8px; font-size: 0.75rem; color: #aaa; }
    .badge { display: inline-block; padding: 0.2rem 0.5rem; border-radius: 4px; font-size: 0.7rem; font-weight: bold; }
    .badge-hf { background: #ffd54f; color: #000; }
    .badge-live { background: #00e676; color: #000; }
    .badge-v14 { background: #e94560; color: #fff; }
    .consensus-feed { list-style: none; }
    .consensus-feed li { padding: 0.6rem 0; border-bottom: 1px solid #222; font-size: 0.8rem; }
    .consensus-type { font-weight: bold; }
    .footer { text-align: center; padding: 2rem; color: #555; font-size: 0.75rem; }
    .footer a { color: #e94560; text-decoration: none; }
    @media (max-width: 900px) { .pillar-grid { grid-template-columns: repeat(2, 1fr); } .two-col { grid-template-columns: 1fr; } }
  </style>
</head>
<body>
  <div class="header">
    <h1>MoltApp: AI Trading Benchmark</h1>
    <div class="version">
      <span class="badge badge-v14">v14</span>
      <span class="badge badge-live">LIVE</span>
      <span class="badge badge-hf">HuggingFace</span>
    </div>
    <div class="subtitle">10-Pillar Scoring | Outcome Resolution | Calibration Curves | Consensus Intelligence</div>
  </div>

  <div class="container">
    <!-- 10 Pillar Overview -->
    <div class="pillar-grid">
      <div class="pillar-card">
        <h3>Financial</h3>
        <div class="score green">${om(e,"financial")}</div>
        <div class="weight">15% weight</div>
      </div>
      <div class="pillar-card">
        <h3>Reasoning</h3>
        <div class="score blue">${om(e,"reasoning")}</div>
        <div class="weight">14% weight</div>
      </div>
      <div class="pillar-card">
        <h3>Safety</h3>
        <div class="score green">${om(e,"safety")}</div>
        <div class="weight">12% weight</div>
      </div>
      <div class="pillar-card">
        <h3>Calibration</h3>
        <div class="score yellow">${om(e,"calibration")}</div>
        <div class="weight">10% weight</div>
      </div>
      <div class="pillar-card">
        <h3>Patterns</h3>
        <div class="score blue">${om(e,"patterns")}</div>
        <div class="weight">7% weight</div>
      </div>
      <div class="pillar-card">
        <h3>Adaptability</h3>
        <div class="score yellow">${om(e,"adaptability")}</div>
        <div class="weight">7% weight</div>
      </div>
      <div class="pillar-card">
        <h3>Forensic</h3>
        <div class="score blue">${om(e,"forensicQuality")}</div>
        <div class="weight">10% weight</div>
      </div>
      <div class="pillar-card">
        <h3>Validation</h3>
        <div class="score green">${om(e,"validationQuality")}</div>
        <div class="weight">10% weight</div>
      </div>
      <div class="pillar-card">
        <h3>Prediction</h3>
        <div class="score yellow">${om(e,"predictionAccuracy")}</div>
        <div class="weight">8% weight \u2014 NEW</div>
      </div>
      <div class="pillar-card">
        <h3>Stability</h3>
        <div class="score green">${om(e,"reasoningStability")}</div>
        <div class="weight">7% weight \u2014 NEW</div>
      </div>
    </div>

    <!-- Leaderboard -->
    <div class="leaderboard">
      <h2>Agent Leaderboard</h2>
      <table>
        <thead>
          <tr>
            <th>#</th><th>Agent</th><th>Composite</th><th>Grade</th>
            <th>Financial</th><th>Reasoning</th><th>Safety</th><th>Prediction</th><th>Stability</th>
            <th>Trades</th>
          </tr>
        </thead>
        <tbody>
          ${e.map((s,a)=>`
          <tr>
            <td>${a+1}</td>
            <td><strong>${BG(s.agentId)}</strong></td>
            <td><strong>${(s.composite*100).toFixed(1)}%</strong></td>
            <td><span class="grade ${Rve(s.grade)}">${s.grade}</span></td>
            <td>${(s.financial*100).toFixed(0)}%</td>
            <td>${(s.reasoning*100).toFixed(0)}%</td>
            <td>${(s.safety*100).toFixed(0)}%</td>
            <td>${(s.predictionAccuracy*100).toFixed(0)}%</td>
            <td>${(s.reasoningStability*100).toFixed(0)}%</td>
            <td>${s.tradeCount}</td>
          </tr>`).join("")}
        </tbody>
      </table>
    </div>

    <div class="two-col">
      <!-- Prediction Resolution -->
      <div class="card">
        <h2>Prediction Resolution</h2>
        <div class="stat-row"><span class="label">Pending Predictions</span><span class="value">${i.pendingCount}</span></div>
        <div class="stat-row"><span class="label">Resolved Predictions</span><span class="value">${i.totalResolved}</span></div>
        <div class="stat-row"><span class="label">Overall Direction Accuracy</span><span class="value">${(i.directionAccuracy*100).toFixed(1)}%</span></div>
        <div class="stat-row"><span class="label">Avg P&L</span><span class="value">${i.avgPnl.toFixed(2)}%</span></div>
      </div>

      <!-- Consensus Intelligence -->
      <div class="card">
        <h2>Consensus Intelligence</h2>
        <div class="stat-row"><span class="label">Rounds Analyzed</span><span class="value">${r.totalRounds}</span></div>
        <div class="stat-row"><span class="label">Avg Agreement</span><span class="value">${(r.avgAgreementScore*100).toFixed(0)}%</span></div>
        <div class="stat-row"><span class="label">Unanimous Rate</span><span class="value">${(r.unanimousRate*100).toFixed(0)}%</span></div>
        <div class="stat-row"><span class="label">Split Rate</span><span class="value">${(r.splitRate*100).toFixed(0)}%</span></div>
        <div class="stat-row"><span class="label">Convergence Trend</span><span class="value">${r.convergenceTrend}</span></div>
        <h3 style="margin-top:0.8rem;font-size:0.8rem;color:#888;">Recent Consensus</h3>
        <ul class="consensus-feed">
          ${n.map(s=>`
            <li>
              <span class="consensus-type" style="color:${s.consensusType==="unanimous"?"#00e676":s.consensusType==="split"?"#ff5252":"#ffca28"}">${s.consensusType.toUpperCase()}</span>
              ${s.consensusAction!=="none"?`\u2192 ${s.consensusAction.toUpperCase()} ${s.consensusSymbol??""}`:""}
              ${s.contrarians.length>0?`(contrarian: ${s.contrarians.map(BG).join(", ")})`:""}
            </li>
          `).join("")}
          ${n.length===0?"<li>No rounds recorded yet</li>":""}
        </ul>
      </div>
    </div>

    <div class="two-col">
      <!-- Calibration Curves -->
      <div class="card">
        <h2>Confidence Calibration</h2>
        ${Ive.map(s=>{let a=wve(s);return`
            <div style="margin-bottom:1rem;">
              <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:0.3rem;">
                <strong style="font-size:0.85rem;">${BG(s)}</strong>
                <span class="grade ${Rve(a.grade)}">${a.grade}</span>
              </div>
              <div class="stat-row"><span class="label">ECE</span><span class="value">${a.ece.toFixed(3)}</span></div>
              <div class="stat-row"><span class="label">Brier Score</span><span class="value">${a.brierScore.toFixed(3)}</span></div>
              <div class="stat-row"><span class="label">Monotonic</span><span class="value">${a.monotonicCalibration?"Yes":"No"}</span></div>
              <div class="stat-row"><span class="label">Data Points</span><span class="value">${a.totalDataPoints}</span></div>
            </div>`}).join("")}
      </div>

      <!-- Reasoning Stability -->
      <div class="card">
        <h2>Reasoning Stability</h2>
        ${Ive.map(s=>{let a=Eve(s);return`
            <div style="margin-bottom:1rem;">
              <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:0.3rem;">
                <strong style="font-size:0.85rem;">${BG(s)}</strong>
                <span class="grade ${Rve(a.grade)}">${a.grade}</span>
              </div>
              <div class="stat-row"><span class="label">Stability Score</span><span class="value">${(a.stabilityScore*100).toFixed(0)}%</span></div>
              <div class="stat-row"><span class="label">Sentiment Vol</span><span class="value">${a.sentimentVolatility.toFixed(3)}</span></div>
              <div class="stat-row"><span class="label">Confidence Vol</span><span class="value">${a.confidenceVolatility.toFixed(3)}</span></div>
              <div class="stat-row"><span class="label">Flip Rate</span><span class="value">${(a.convictionFlipRate*100).toFixed(0)}%</span></div>
              <div class="stat-row"><span class="label">Trend</span><span class="value">${a.recentTrend}</span></div>
            </div>`}).join("")}
      </div>
    </div>
  </div>

  <div class="footer">
    <p>MoltApp v14 \u2014 AI Trading Benchmark | <a href="https://www.patgpt.us">www.patgpt.us</a> | <a href="https://huggingface.co/datasets/patruff/molt-benchmark">HuggingFace Dataset</a></p>
    <p>10-Pillar Scoring: Financial, Reasoning, Safety, Calibration, Patterns, Adaptability, Forensic, Validation, Prediction, Stability</p>
  </div>

  <script>
    // Auto-refresh every 30 seconds
    setTimeout(() => location.reload(), 30000);
  </script>
</body>
</html>`;return t.html(o)});Cve.get("/data",t=>{let e=K0t(),r=Tve(),n=Sve(),i=B0t(),o=V0t();return t.json({ok:!0,benchmark:"moltapp-v14",pillars:[{name:"Financial",weight:.15,description:"P&L, Sharpe, Win Rate, Drawdown"},{name:"Reasoning",weight:.14,description:"Coherence, Depth, Consistency"},{name:"Safety",weight:.12,description:"Hallucination-Free, Discipline"},{name:"Calibration",weight:.1,description:"ECE, Brier, Monotonic Quartiles"},{name:"Patterns",weight:.07,description:"Fallacy Detection, Vocabulary"},{name:"Adaptability",weight:.07,description:"Cross-Regime Performance"},{name:"Forensic Quality",weight:.1,description:"Structure, Originality, Clarity"},{name:"Validation Quality",weight:.1,description:"Depth, Sources, Grounding"},{name:"Prediction Accuracy",weight:.08,description:"Direction accuracy, target precision, resolution quality"},{name:"Reasoning Stability",weight:.07,description:"Sentiment vol, conviction flip rate, intent drift"}],leaderboard:e,predictionResolution:n,calibrationComparison:{bestCalibrated:i.bestCalibrated,worstCalibrated:i.worstCalibrated,rankings:i.rankings},volatilityComparison:{mostStable:o.mostStable,mostVolatile:o.mostVolatile,rankings:o.rankings},consensusDivergence:{totalRounds:r.totalRounds,avgAgreementScore:r.avgAgreementScore,unanimousRate:r.unanimousRate,splitRate:r.splitRate,convergenceTrend:r.convergenceTrend,byAgent:r.byAgent},timestamp:new Date().toISOString()})});Cve.get("/stream",t=>{let e=new ReadableStream({start(r){$G.add(r);let n=`data: ${JSON.stringify({type:"connected",benchmark:"moltapp-v14",pillars:10})}

`;r.enqueue(new TextEncoder().encode(n))},cancel(r){$G.delete(r)}});return new Response(e,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});function K0t(){let t=[];for(let e of Ive){let r=q0t.get(e)??y0r();t.push({agentId:e,...r})}return t.sort((e,r)=>r.composite-e.composite),t}function y0r(){return{financial:.5,reasoning:.5,safety:.5,calibration:.5,patterns:.5,adaptability:.5,forensicQuality:.5,validationQuality:.5,predictionAccuracy:.5,reasoningStability:.5,composite:.5,grade:"C",tradeCount:0,lastUpdated:new Date().toISOString()}}function om(t,e){return t.length===0?"\u2014":`${(t.reduce((n,i)=>n+(Number(i[e])||0),0)/t.length*100).toFixed(0)}%`}function BG(t){return t.includes("claude")?"Claude ValueBot":t.includes("gpt")?"GPT MomentumAI":t.includes("grok")?"Grok Contrarian":t}function Rve(t){return t.startsWith("A")?"grade-a":t.startsWith("B")?"grade-b":t.startsWith("C")?"grade-c":t.startsWith("D")?"grade-d":"grade-f"}import{createHash as b0r}from"crypto";var Q0t=1e3,Vg=new Map,X0t=new Map,Nve=new Map;function UG(t){return b0r("sha256").update(t,"utf8").digest("hex")}function v0r(t){let e=JSON.stringify(t,Object.keys(t).sort());return UG(e)}function Y0t(t,e,r){return UG(`${t}:${e}:${r}`)}function Z0t(t,e){return UG(`${t}:${e}`)}function _0r(t){let e={};for(let[r,n]of Vg)r!==t&&n.length>0&&(e[r]=n[n.length-1].chainHash);return e}function e1t(t,e,r,n,i,o,s){let a=new Date().toISOString(),c=UG(e),l=v0r(o),u=Y0t(c,l,a),d=Vg.get(t)??[],p=d.length>0?d[d.length-1].chainHash:"",f=Z0t(u,p),h=(X0t.get(t)??0)+1;X0t.set(t,h);let m=_0r(t);return{proofId:`prov_${t}_${h}_${Date.now()}`,agentId:t,roundId:s,symbol:n,action:r,confidence:i,reasoningHash:c,marketDataHash:l,preCommitSeal:u,previousProofHash:p,chainHash:f,timestamp:a,sequenceNumber:h,witnessHashes:m}}function x0r(t){let e={},r=Y0t(t.reasoningHash,t.marketDataHash,t.timestamp);e.preCommitSeal=r===t.preCommitSeal;let n=Z0t(t.preCommitSeal,t.previousProofHash);e.chainHash=n===t.chainHash;let i=Vg.get(t.agentId)??[];if(t.sequenceNumber===1)e.chainLinkage=t.previousProofHash==="";else{let a=i.find(c=>c.sequenceNumber===t.sequenceNumber-1);e.chainLinkage=a?a.chainHash===t.previousProofHash:!0}if(t.sequenceNumber>1){let a=i.find(c=>c.sequenceNumber===t.sequenceNumber-1);e.temporalOrder=a?new Date(t.timestamp)>=new Date(a.timestamp):!0}else e.temporalOrder=!0;let o=!0;for(let[a,c]of Object.entries(t.witnessHashes)){let l=Vg.get(a)??[];l.length>0&&(l.some(d=>d.chainHash===c)||(o=!1))}return e.witnessConsistency=o,{valid:Object.values(e).every(a=>a),checks:e}}function t1t(t){let e=Vg.get(t.agentId)??[];e.push(t),e.length>Q0t&&e.splice(0,e.length-Q0t),Vg.set(t.agentId,e),Nve.set(t.agentId,(Nve.get(t.agentId)??0)+1)}function S0r(t){let e=Vg.get(t)??[],r=Nve.get(t)??0,n=!0;for(let i=0;i<e.length;i++){let o=e[i];if(!x0r(o).valid){n=!1;break}if(i>0){let a=e[i-1];if(o.previousProofHash!==a.chainHash){n=!1;break}}}return{agentId:t,proofs:[...e],headHash:e.length>0?e[e.length-1].chainHash:"",totalRecorded:r,valid:n}}function Ove(){let t={},e=0,r=null,n=null;for(let o of Vg.keys()){let s=S0r(o);t[o]=s.valid,e+=s.proofs.length;for(let a of s.proofs)(r===null||a.timestamp<r)&&(r=a.timestamp),(n===null||a.timestamp>n)&&(n=a.timestamp)}let i=Vg.size;return{totalAgents:i,totalProofs:e,chainIntegrity:t,avgChainLength:i>0?Math.round(e/i*10)/10:0,oldestProofTimestamp:r,newestProofTimestamp:n}}var Ip=new Map,Sx=[];function Qy(t){return t.toLowerCase().replace(/[^a-z0-9\s]/g,"").split(/\s+/).filter(Boolean)}function FG(t){let e=new Set;for(let r=0;r<t.length-1;r++)e.add(`${t[r]} ${t[r+1]}`);return e}function w0r(t,e){if(t.size===0&&e.size===0)return 1;let r=0;for(let i of t)e.has(i)&&r++;let n=t.size+e.size-r;return n===0?0:r/n}function sm(t){return t.length===0?0:t.reduce((e,r)=>e+r,0)/t.length}function A0r(t){if(t.length<2)return 0;let e=sm(t),r=t.reduce((n,i)=>n+(i-e)**2,0)/t.length;return Math.sqrt(r)}function r1t(t){Ip.has(t.agentId)||Ip.set(t.agentId,[]);let e=Ip.get(t.agentId);for(e.push(t);e.length>500;)e.shift()}function n1t(t){let e=t[0]?.roundId??"unknown",r=t[0]?.timestamp??new Date().toISOString(),n=[];for(let f=0;f<t.length;f++)for(let h=f+1;h<t.length;h++){let m=t[f],g=t[h],b=Qy(m.reasoning),_=Qy(g.reasoning),x=FG(b),E=FG(_);n.push({agentA:m.agentId,agentB:g.agentId,jaccardBigram:w0r(x,E),actionAgreement:m.action===g.action,confidenceDelta:Math.abs(m.confidence-g.confidence)})}let i=[],o=t.map(f=>f.action),s=new Set(o),a=t.map(f=>f.confidence),c=Math.max(...a)-Math.min(...a);s.size>1&&i.push({roundId:e,symbol:t[0]?.symbol??"",agents:t.map(f=>({agentId:f.agentId,action:f.action,confidence:f.confidence})),divergenceType:"action_split",severity:(s.size-1)/Math.max(t.length-1,1)}),c>.3&&i.push({roundId:e,symbol:t[0]?.symbol??"",agents:t.map(f=>({agentId:f.agentId,action:f.action,confidence:f.confidence})),divergenceType:"confidence_spread",severity:Math.min(c,1)});let l=t.map(f=>{let h=Ip.get(f.agentId)??[f],m=h.length,g=h.filter(I=>I.action==="buy").length,b=h.filter(I=>I.action==="sell").length,_=h.filter(I=>I.action==="hold").length,x=h.map(I=>I.confidence),E=sm(x),R=h.filter(I=>I.confidence>.8).length;return{agentId:f.agentId,bullishRate:g/m,bearishRate:b/m,neutralRate:_/m,avgConfidence:E,overconfidenceRatio:R/m}}),u=n.filter(f=>f.actionAgreement).length,d=n.length===0?0:u/n.length,p={roundId:e,timestamp:r,similarities:n,divergencePoints:i,biasIndicators:l,herdingScore:d,participantCount:t.length};return Sx.push(p),p}function Pve(t){let e=Ip.get(t);if(!e||e.length===0)return null;let r=[],n=new Map,i=new Set;for(let E of e){let R=Qy(E.reasoning);r.push(...R),R.forEach(D=>i.add(D));let I=FG(R);for(let D of I)n.set(D,(n.get(D)??0)+1)}let o=[...n.entries()].sort((E,R)=>R[1]-E[1]).slice(0,20),s=new Set;for(let[E,R]of Ip)if(E!==t)for(let I of R)Qy(I.reasoning).forEach(D=>s.add(D));let a=[...i].filter(E=>!s.has(E)).slice(0,30),c=e.reduce((E,R)=>E+Qy(R.reasoning).length,0)/e.length,l={topBigrams:o,uniqueWords:a,avgWordCount:c,vocabularySize:i.size},u=e.length,d=e.filter(E=>E.action==="buy").length,p=e.filter(E=>E.action==="sell").length,f=e.filter(E=>E.action==="hold").length,h=e.map(E=>E.confidence),m=e.filter(E=>E.confidence>.8).length,g=e.map(E=>Qy(E.reasoning).length),b=e.map(E=>FG(Qy(E.reasoning)).size),_=new Set;for(let[,E]of Ip)for(let R of E)Qy(R.reasoning).forEach(I=>_.add(I));let x=_.size===0?0:a.length/_.size;return{agentId:t,vocabularyDNA:l,sentimentTendency:{bullishRate:d/u,bearishRate:p/u,neutralRate:f/u},confidencePattern:{mean:sm(h),stdDev:A0r(h),overconfidenceRatio:m/u},reasoningStyle:{avgLength:sm(g),avgBigramCount:sm(b),uniquenessScore:x},sampleSize:u}}function kve(){let t=[...Ip.keys()],e=new Map;for(let u of Sx)for(let d of u.similarities){let p=[d.agentA,d.agentB].sort().join("|");e.has(p)||e.set(p,{total:0,disagree:0,confSum:0,symbolMap:new Map});let f=e.get(p);if(f.total++,!d.actionAgreement){f.disagree++,f.confSum+=d.confidenceDelta;let h=u.divergencePoints[0]?.symbol??"unknown";f.symbolMap.set(h,(f.symbolMap.get(h)??0)+1)}}let r=[...e.entries()].map(([u,d])=>{let[p,f]=u.split("|"),h=[...d.symbolMap.entries()].sort((m,g)=>g[1]-m[1]).slice(0,5).map(([m])=>m);return{agentPair:[p,f],disagreementRate:d.total===0?0:d.disagree/d.total,avgConfidenceWhenDisagreeing:d.disagree===0?0:d.confSum/d.disagree,mostDisagreedSymbols:h}}),n=[],i=[],o=[];for(let u of t){let d=Ip.get(u)??[],p=d.length||1,f=d.filter(m=>m.action==="buy").length/p,h=d.filter(m=>m.action==="sell").length/p;n.push(f),i.push(h),o.push({agentId:u,bullish:f,bearish:h})}let s=sm(n),a=sm(i),c=o.map(u=>{let d=u.bullish-s,p=u.bearish-a,f=d>p;return{agentId:u.agentId,direction:f?"bullish":"bearish",magnitude:Math.abs(f?d:p),comparedToAvg:f?d:p}}),l=Sx.slice(-50).map(u=>u.herdingScore);return{systematicDisagreements:r,biasAsymmetries:c,herdingTrend:l,totalRoundsAnalyzed:Sx.length}}function Dve(){let t=0;for(let[,o]of Ip)t+=o.length;let e=Sx.flatMap(o=>o.similarities),r=e.map(o=>o.jaccardBigram),n=e.map(o=>o.confidenceDelta),i=e.filter(o=>o.actionAgreement).length;return{totalEntriesRecorded:t,agentCount:Ip.size,roundsCompared:Sx.length,avgHerdingScore:sm(Sx.map(o=>o.herdingScore)),avgJaccardSimilarity:sm(r),avgConfidenceDelta:sm(n),actionAgreementRate:e.length===0?0:i/e.length}}import*as zG from"crypto";var i1t=500,wx=[];function Mve(t){return t==null?String(t):typeof t!="object"?JSON.stringify(t):Array.isArray(t)?"["+t.map(Mve).join(",")+"]":"{"+Object.keys(t).sort().map(r=>JSON.stringify(r)+":"+Mve(t[r])).join(",")+"}"}function Lve(t){return zG.createHash("sha256").update(t,"utf8").digest("hex")}function A6(t){return Lve(Mve(t))}function E0r(t){return Lve("molt-v15-seal:"+t)}function o1t(t){let e={...t,inputHash:A6(t.inputs),configHash:A6(t.scoringConfig),outputHash:A6(t.scores)};return wx.push(e),wx.length>i1t&&wx.splice(0,wx.length-i1t),e}function s1t(t,e,r,n){let i=A6(e),o=A6(n),s=A6(r),a=Lve(i+o+s),c=wx.filter(d=>d.inputHash===i&&d.configHash===o),l=c.filter(d=>d.outputHash===s).length,u=c.filter(d=>d.outputHash!==s).length;return{proofId:"proof-"+zG.randomBytes(12).toString("hex"),roundId:t,timestamp:Date.now(),inputHash:i,configHash:o,outputHash:s,combinedHash:a,deterministic:u===0,priorRunMatches:l,priorRunMismatches:u,signature:E0r(a)}}function Bve(){let t=new Map;for(let o of wx){let s=(o.inputHash??"")+"|"+(o.configHash??""),a=t.get(s)??[];a.push(o),t.set(s,a)}let e=[],r=0,n=0;for(let[,o]of t)if(new Set(o.map(a=>a.outputHash)).size<=1)r++;else{n++;for(let a of o)e.includes(a.roundId)||e.push(a.roundId)}let i=r+n;return{totalRuns:wx.length,uniqueInputSets:t.size,deterministicSets:r,nonDeterministicSets:n,reproducibilityRate:i>0?r/i:1,nonDeterministicRounds:e,generatedAt:Date.now()}}var $ve=new rn,c1t=new Map,Uve=["claude-value-investor","gpt-momentum-trader","grok-contrarian"];function l1t(t,e){c1t.set(t,e),Fve("metrics_updated",{agentId:t,composite:e.composite,grade:e.grade},t)}var a1t=new Set,VG=new Set;function Fve(t,e,r){let n={type:t,agentId:r??null,timestamp:new Date().toISOString(),...e},i=`data: ${JSON.stringify(n)}

`;for(let o of a1t)try{o(i)}catch{a1t.delete(o)}for(let o of VG)try{o.enqueue(new TextEncoder().encode(i))}catch{VG.delete(o)}}function u1t(){let t=[];for(let e of Uve){let r=c1t.get(e)??T0r();t.push({agentId:e,...r})}return t.sort((e,r)=>r.composite-e.composite),t}function T0r(){return{financial:.5,reasoning:.5,safety:.5,calibration:.5,patterns:.5,adaptability:.5,forensicQuality:.5,validationQuality:.5,predictionAccuracy:.5,reasoningStability:.5,provenanceIntegrity:.5,modelComparison:.5,composite:.5,grade:"C",tradeCount:0,lastUpdated:new Date().toISOString()}}function yd(t,e){return t.length===0?"\u2014":`${(t.reduce((n,i)=>n+(Number(i[e])||0),0)/t.length*100).toFixed(0)}%`}function E6(t){return t.includes("claude")?"Claude ValueBot":t.includes("gpt")?"GPT MomentumAI":t.includes("grok")?"Grok Contrarian":t}function R0r(t){return t.startsWith("A")?"grade-a":t.startsWith("B")?"grade-b":t.startsWith("C")?"grade-c":t.startsWith("D")?"grade-d":"grade-f"}function Ax(t){return String(t??"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}$ve.get("/",t=>{let e=u1t(),r=Ove(),n=Dve(),i=kve(),o=Bve(),s=Uve.map(d=>({agentId:d,fingerprint:Pve(d)})),a=Object.entries(r.chainIntegrity).map(([d,p])=>`
      <tr>
        <td>${Ax(E6(d))}</td>
        <td style="color:${p?"#00e676":"#ff5252"};">${p?"VALID":"BROKEN"}</td>
      </tr>`).join(""),c=s.map(({agentId:d,fingerprint:p})=>p?`<div class="card" style="flex:1;min-width:250px;">
      <h3 style="font-size:0.85rem;color:#aaa;margin-bottom:0.5rem;">${Ax(E6(d))}</h3>
      <div class="stat-row"><span class="label">Bullish Rate</span><span class="value">${(p.sentimentTendency.bullishRate*100).toFixed(0)}%</span></div>
      <div class="stat-row"><span class="label">Bearish Rate</span><span class="value">${(p.sentimentTendency.bearishRate*100).toFixed(0)}%</span></div>
      <div class="stat-row"><span class="label">Avg Confidence</span><span class="value">${(p.confidencePattern.mean*100).toFixed(0)}%</span></div>
      <div class="stat-row"><span class="label">Vocab Size</span><span class="value">${p.vocabularyDNA.vocabularySize}</span></div>
      <div class="stat-row"><span class="label">Uniqueness</span><span class="value">${(p.reasoningStyle.uniquenessScore*100).toFixed(1)}%</span></div>
      <div class="stat-row"><span class="label">Samples</span><span class="value">${p.sampleSize}</span></div>
    </div>`:`<div class="card" style="flex:1;min-width:250px;">
        <h3 style="font-size:0.85rem;color:#aaa;">${Ax(E6(d))}</h3>
        <p style="color:#666;font-size:0.8rem;">No data yet</p>
      </div>`).join(""),l=i.systematicDisagreements.map(d=>`
    <tr>
      <td>${Ax(E6(d.agentPair[0]))} vs ${Ax(E6(d.agentPair[1]))}</td>
      <td>${(d.disagreementRate*100).toFixed(0)}%</td>
      <td>${d.mostDisagreedSymbols.slice(0,3).join(", ")||"N/A"}</td>
    </tr>`).join(""),u=`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MoltApp Benchmark v15 \u2014 Industry-Standard AI Trading Benchmark</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: #0a0a0a; color: #e0e0e0; }
    .header { background: linear-gradient(135deg, #0d1117 0%, #161b22 50%, #0f3460 100%); padding: 2rem; text-align: center; border-bottom: 2px solid #e94560; }
    .header h1 { font-size: 2rem; color: #fff; margin-bottom: 0.5rem; }
    .header .version { color: #e94560; font-size: 0.9rem; font-weight: bold; margin-bottom: 0.4rem; }
    .header .subtitle { color: #aaa; font-size: 0.85rem; margin-top: 0.5rem; }
    .header .subtitle a { color: #58a6ff; text-decoration: none; }
    .container { max-width: 1440px; margin: 0 auto; padding: 1.5rem; }
    .section-title { font-size: 1.15rem; color: #e94560; margin: 1.5rem 0 0.8rem; border-bottom: 1px solid #333; padding-bottom: 0.4rem; }
    .pillar-grid { display: grid; grid-template-columns: repeat(6, 1fr); gap: 0.7rem; margin-bottom: 1.5rem; }
    .pillar-card { background: #161b22; border-radius: 8px; padding: 0.8rem; border: 1px solid #30363d; text-align: center; }
    .pillar-card h3 { font-size: 0.7rem; color: #8b949e; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 0.4rem; }
    .pillar-card .score { font-size: 1.6rem; font-weight: bold; }
    .pillar-card .weight { font-size: 0.65rem; color: #484f58; margin-top: 0.2rem; }
    .green { color: #3fb950; } .yellow { color: #d29922; } .red { color: #f85149; } .blue { color: #58a6ff; } .purple { color: #bc8cff; }
    .leaderboard { background: #161b22; border-radius: 8px; padding: 1.5rem; margin-bottom: 1.5rem; border: 1px solid #30363d; overflow-x: auto; }
    .leaderboard h2 { font-size: 1.2rem; margin-bottom: 1rem; color: #e94560; }
    table { width: 100%; border-collapse: collapse; }
    th { text-align: left; padding: 0.5rem 0.4rem; font-size: 0.7rem; color: #8b949e; text-transform: uppercase; border-bottom: 1px solid #30363d; }
    td { padding: 0.5rem 0.4rem; font-size: 0.8rem; border-bottom: 1px solid #21262d; }
    .grade { font-weight: bold; font-size: 1rem; }
    .grade-a { color: #3fb950; } .grade-b { color: #58a6ff; } .grade-c { color: #d29922; } .grade-d { color: #db6d28; } .grade-f { color: #f85149; }
    .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1.5rem; }
    .three-col { display: flex; gap: 1rem; margin-bottom: 1.5rem; flex-wrap: wrap; }
    .card { background: #161b22; border-radius: 8px; padding: 1.2rem; border: 1px solid #30363d; }
    .card h2 { font-size: 1rem; color: #e94560; margin-bottom: 0.8rem; }
    .stat-row { display: flex; justify-content: space-between; padding: 0.35rem 0; border-bottom: 1px solid #21262d; }
    .stat-row .label { color: #8b949e; font-size: 0.78rem; } .stat-row .value { font-weight: bold; font-size: 0.82rem; }
    .badge { display: inline-block; padding: 0.2rem 0.6rem; border-radius: 4px; font-size: 0.7rem; font-weight: bold; margin: 0 0.15rem; }
    .badge-hf { background: #ffd54f; color: #000; }
    .badge-live { background: #3fb950; color: #000; }
    .badge-v15 { background: #e94560; color: #fff; }
    .badge-new { background: #bc8cff; color: #000; }
    .methodology { background: #161b22; border-radius: 8px; padding: 1.5rem; border: 1px solid #30363d; margin-bottom: 1.5rem; }
    .methodology h2 { font-size: 1.1rem; color: #e94560; margin-bottom: 0.8rem; }
    .methodology ol { padding-left: 1.2rem; }
    .methodology li { font-size: 0.8rem; color: #c9d1d9; margin-bottom: 0.35rem; }
    .methodology li strong { color: #58a6ff; }
    .brain-feed { background: #161b22; border-radius: 8px; padding: 1.2rem; border: 1px solid #30363d; margin-bottom: 1.5rem; min-height: 100px; }
    .brain-feed h2 { font-size: 1rem; color: #e94560; margin-bottom: 0.6rem; }
    .brain-feed .placeholder { color: #484f58; font-size: 0.8rem; font-style: italic; }
    #brain-feed-list { list-style: none; max-height: 180px; overflow-y: auto; }
    #brain-feed-list li { padding: 0.4rem 0; border-bottom: 1px solid #21262d; font-size: 0.78rem; color: #c9d1d9; }
    .footer { text-align: center; padding: 2rem; color: #484f58; font-size: 0.72rem; border-top: 1px solid #21262d; margin-top: 1rem; }
    .footer a { color: #e94560; text-decoration: none; }
    @media (max-width: 1024px) { .pillar-grid { grid-template-columns: repeat(3, 1fr); } }
    @media (max-width: 768px) { .pillar-grid { grid-template-columns: repeat(2, 1fr); } .two-col { grid-template-columns: 1fr; } .three-col { flex-direction: column; } }
  </style>
</head>
<body>
  <div class="header">
    <h1>MoltApp: AI Trading Benchmark</h1>
    <div class="version">
      <span class="badge badge-v15">v15</span>
      <span class="badge badge-live">LIVE</span>
      <span class="badge badge-hf">HuggingFace</span>
      <span class="badge badge-new">NEW: Provenance &amp; Reproducibility</span>
    </div>
    <div class="subtitle">
      Industry-Standard 12-Pillar Scoring | Cryptographic Provenance | Cross-Model Fingerprinting | Reproducibility Proofs
      <br/><a href="https://www.patgpt.us">patgpt.us</a> &middot;
      <a href="https://huggingface.co/datasets/patruff/molt-benchmark">HuggingFace Dataset</a>
    </div>
  </div>

  <div class="container">
    <!-- 12-Pillar Overview -->
    <h2 class="section-title">12-Pillar Scoring Overview</h2>
    <div class="pillar-grid">
      <div class="pillar-card"><h3>Financial</h3><div class="score green">${yd(e,"financial")}</div><div class="weight">13% weight</div></div>
      <div class="pillar-card"><h3>Reasoning</h3><div class="score blue">${yd(e,"reasoning")}</div><div class="weight">12% weight</div></div>
      <div class="pillar-card"><h3>Safety</h3><div class="score green">${yd(e,"safety")}</div><div class="weight">10% weight</div></div>
      <div class="pillar-card"><h3>Calibration</h3><div class="score yellow">${yd(e,"calibration")}</div><div class="weight">9% weight</div></div>
      <div class="pillar-card"><h3>Patterns</h3><div class="score blue">${yd(e,"patterns")}</div><div class="weight">6% weight</div></div>
      <div class="pillar-card"><h3>Adaptability</h3><div class="score yellow">${yd(e,"adaptability")}</div><div class="weight">6% weight</div></div>
      <div class="pillar-card"><h3>Forensic</h3><div class="score blue">${yd(e,"forensicQuality")}</div><div class="weight">8% weight</div></div>
      <div class="pillar-card"><h3>Validation</h3><div class="score green">${yd(e,"validationQuality")}</div><div class="weight">8% weight</div></div>
      <div class="pillar-card"><h3>Prediction</h3><div class="score yellow">${yd(e,"predictionAccuracy")}</div><div class="weight">7% weight</div></div>
      <div class="pillar-card"><h3>Stability</h3><div class="score green">${yd(e,"reasoningStability")}</div><div class="weight">6% weight</div></div>
      <div class="pillar-card"><h3>Provenance</h3><div class="score purple">${yd(e,"provenanceIntegrity")}</div><div class="weight">8% weight &mdash; NEW</div></div>
      <div class="pillar-card"><h3>Model Comp.</h3><div class="score purple">${yd(e,"modelComparison")}</div><div class="weight">7% weight &mdash; NEW</div></div>
    </div>

    <!-- Agent Leaderboard -->
    <div class="leaderboard">
      <h2>Agent Leaderboard &mdash; 12-Pillar Composite</h2>
      <table>
        <thead>
          <tr>
            <th>#</th><th>Agent</th><th>Composite</th><th>Grade</th>
            <th>Fin</th><th>Rsn</th><th>Safe</th><th>Cal</th><th>Pat</th><th>Adpt</th>
            <th>For</th><th>Val</th><th>Pred</th><th>Stab</th><th>Prov</th><th>Comp</th>
            <th>Trades</th>
          </tr>
        </thead>
        <tbody>
          ${e.map((d,p)=>`
          <tr>
            <td>${p+1}</td>
            <td><strong>${Ax(E6(d.agentId))}</strong></td>
            <td><strong>${(d.composite*100).toFixed(1)}%</strong></td>
            <td><span class="grade ${R0r(d.grade)}">${Ax(d.grade)}</span></td>
            <td>${(d.financial*100).toFixed(0)}%</td>
            <td>${(d.reasoning*100).toFixed(0)}%</td>
            <td>${(d.safety*100).toFixed(0)}%</td>
            <td>${(d.calibration*100).toFixed(0)}%</td>
            <td>${(d.patterns*100).toFixed(0)}%</td>
            <td>${(d.adaptability*100).toFixed(0)}%</td>
            <td>${(d.forensicQuality*100).toFixed(0)}%</td>
            <td>${(d.validationQuality*100).toFixed(0)}%</td>
            <td>${(d.predictionAccuracy*100).toFixed(0)}%</td>
            <td>${(d.reasoningStability*100).toFixed(0)}%</td>
            <td>${(d.provenanceIntegrity*100).toFixed(0)}%</td>
            <td>${(d.modelComparison*100).toFixed(0)}%</td>
            <td>${d.tradeCount}</td>
          </tr>`).join("")}
        </tbody>
      </table>
    </div>

    <div class="two-col">
      <!-- Provenance Integrity -->
      <div class="card">
        <h2>Provenance Integrity (Pillar 11)</h2>
        <div class="stat-row"><span class="label">Total Agents Tracked</span><span class="value">${r.totalAgents}</span></div>
        <div class="stat-row"><span class="label">Total Proofs Recorded</span><span class="value">${r.totalProofs}</span></div>
        <div class="stat-row"><span class="label">Avg Chain Length</span><span class="value">${r.avgChainLength.toFixed(1)}</span></div>
        <div class="stat-row"><span class="label">Oldest Proof</span><span class="value" style="font-size:0.7rem;">${r.oldestProofTimestamp?new Date(r.oldestProofTimestamp).toLocaleString():"N/A"}</span></div>
        <div class="stat-row"><span class="label">Newest Proof</span><span class="value" style="font-size:0.7rem;">${r.newestProofTimestamp?new Date(r.newestProofTimestamp).toLocaleString():"N/A"}</span></div>
        <h3 style="margin-top:0.8rem;font-size:0.8rem;color:#8b949e;margin-bottom:0.4rem;">Chain Validity per Agent</h3>
        <table>
          <thead><tr><th>Agent</th><th>Status</th></tr></thead>
          <tbody>
            ${a||'<tr><td colspan="2" style="color:#484f58;">No chains recorded yet</td></tr>'}
          </tbody>
        </table>
      </div>

      <!-- Reproducibility -->
      <div class="card">
        <h2>Reproducibility Proof (Pillar 12)</h2>
        <div class="stat-row"><span class="label">Total Scoring Runs</span><span class="value">${o.totalRuns}</span></div>
        <div class="stat-row"><span class="label">Unique Input Sets</span><span class="value">${o.uniqueInputSets}</span></div>
        <div class="stat-row"><span class="label">Deterministic Sets</span><span class="value green">${o.deterministicSets}</span></div>
        <div class="stat-row"><span class="label">Non-Deterministic Sets</span><span class="value ${o.nonDeterministicSets>0?"red":"green"}">${o.nonDeterministicSets}</span></div>
        <div class="stat-row">
          <span class="label">Determinism Rate</span>
          <span class="value" style="font-size:1.1rem;color:${o.reproducibilityRate>=.95?"#3fb950":o.reproducibilityRate>=.8?"#d29922":"#f85149"};">
            ${(o.reproducibilityRate*100).toFixed(1)}%
          </span>
        </div>
        ${o.nonDeterministicRounds.length>0?`
        <h3 style="margin-top:0.8rem;font-size:0.8rem;color:#8b949e;">Non-Deterministic Rounds</h3>
        <p style="font-size:0.75rem;color:#f85149;margin-top:0.3rem;">${o.nonDeterministicRounds.slice(0,5).join(", ")}</p>
        `:'<p style="margin-top:0.8rem;font-size:0.78rem;color:#3fb950;">All runs are fully deterministic.</p>'}
      </div>
    </div>

    <!-- Cross-Model Comparison -->
    <h2 class="section-title">Cross-Model Comparison (Pillar 12)</h2>
    <div class="two-col">
      <div class="card">
        <h2>Aggregate Comparison Stats</h2>
        <div class="stat-row"><span class="label">Entries Recorded</span><span class="value">${n.totalEntriesRecorded}</span></div>
        <div class="stat-row"><span class="label">Agents Tracked</span><span class="value">${n.agentCount}</span></div>
        <div class="stat-row"><span class="label">Rounds Compared</span><span class="value">${n.roundsCompared}</span></div>
        <div class="stat-row"><span class="label">Avg Herding Score</span><span class="value">${(n.avgHerdingScore*100).toFixed(0)}%</span></div>
        <div class="stat-row"><span class="label">Avg Reasoning Similarity</span><span class="value">${(n.avgJaccardSimilarity*100).toFixed(1)}%</span></div>
        <div class="stat-row"><span class="label">Action Agreement Rate</span><span class="value">${(n.actionAgreementRate*100).toFixed(0)}%</span></div>
        <div class="stat-row"><span class="label">Avg Confidence Delta</span><span class="value">${(n.avgConfidenceDelta*100).toFixed(1)}%</span></div>
      </div>

      <div class="card">
        <h2>Systematic Disagreements</h2>
        ${i.systematicDisagreements.length>0?`
        <table>
          <thead><tr><th>Agent Pair</th><th>Disagree Rate</th><th>Top Symbols</th></tr></thead>
          <tbody>${l}</tbody>
        </table>`:'<p style="color:#484f58;font-size:0.8rem;font-style:italic;">No disagreements recorded yet. Rounds will populate this section.</p>'}
        <div class="stat-row" style="margin-top:0.8rem;"><span class="label">Total Rounds Analyzed</span><span class="value">${i.totalRoundsAnalyzed}</span></div>
      </div>
    </div>

    <!-- Model Fingerprints -->
    <h2 class="section-title">Model Fingerprints</h2>
    <div class="three-col">
      ${c}
    </div>

    <!-- Brain Feed -->
    <div class="brain-feed">
      <h2>Live Reasoning Feed</h2>
      <ul id="brain-feed-list">
        <li class="placeholder">Listening for live reasoning events via SSE...</li>
      </ul>
    </div>

    <!-- Methodology -->
    <div class="methodology">
      <h2>Methodology: 12-Pillar Scoring Framework</h2>
      <ol>
        <li><strong>Financial (13%)</strong> &mdash; P&amp;L, Sharpe ratio, win rate, max drawdown</li>
        <li><strong>Reasoning (12%)</strong> &mdash; Coherence, depth, logical consistency</li>
        <li><strong>Safety (10%)</strong> &mdash; Hallucination-free rate, trading discipline</li>
        <li><strong>Calibration (9%)</strong> &mdash; ECE, Brier score, monotonic quartiles</li>
        <li><strong>Patterns (6%)</strong> &mdash; Fallacy detection, cognitive bias recognition</li>
        <li><strong>Adaptability (6%)</strong> &mdash; Cross-regime performance, regime shift handling</li>
        <li><strong>Forensic Quality (8%)</strong> &mdash; Structure, originality, analytical clarity</li>
        <li><strong>Validation Quality (8%)</strong> &mdash; Source grounding, factual depth</li>
        <li><strong>Prediction Accuracy (7%)</strong> &mdash; Direction accuracy, target precision, resolution quality</li>
        <li><strong>Reasoning Stability (6%)</strong> &mdash; Sentiment volatility, conviction flip rate</li>
        <li><strong>Provenance Integrity (8%)</strong> &mdash; Cryptographic proof of pre-trade reasoning, chain validity, cross-agent witnesses</li>
        <li><strong>Model Comparison (7%)</strong> &mdash; Cross-model fingerprinting, bias asymmetry, reasoning divergence</li>
      </ol>
    </div>
  </div>

  <div class="footer">
    <p>MoltApp v15 &mdash; Industry-Standard AI Trading Benchmark</p>
    <p><a href="https://www.patgpt.us">patgpt.us</a> | <a href="https://huggingface.co/datasets/patruff/molt-benchmark">HuggingFace Dataset</a></p>
    <p style="margin-top:0.5rem;">12-Pillar Scoring: Financial, Reasoning, Safety, Calibration, Patterns, Adaptability, Forensic, Validation, Prediction, Stability, Provenance, Model Comparison</p>
    <p style="margin-top:0.3rem;">Citation: MoltApp Benchmark v15 (2025). Multi-agent LLM Trading Evaluation with Provenance Proofs. <a href="https://www.patgpt.us">patgpt.us</a></p>
  </div>

  <script>
    // Auto-refresh every 45 seconds
    setTimeout(function() { location.reload(); }, 45000);

    // SSE live feed
    (function() {
      try {
        var es = new EventSource(location.pathname.replace(/\\/$/, '') + '/stream');
        var list = document.getElementById('brain-feed-list');
        es.onmessage = function(e) {
          try {
            var d = JSON.parse(e.data);
            var li = document.createElement('li');
            var ts = d.timestamp ? new Date(d.timestamp).toLocaleTimeString() : '';
            li.textContent = '[' + ts + '] ' + (d.type || 'event') + (d.agentId ? ' (' + d.agentId + ')' : '') + ': ' + JSON.stringify(d);
            if (list.firstChild && list.firstChild.className === 'placeholder') list.innerHTML = '';
            list.insertBefore(li, list.firstChild);
            while (list.children.length > 50) list.removeChild(list.lastChild);
          } catch(ex) {}
        };
      } catch(ex) {}
    })();
  </script>
</body>
</html>`;return t.html(u)});$ve.get("/data",t=>{let e=u1t(),r=Ove(),n=Dve(),i=kve(),o=Bve(),s={};for(let a of Uve)s[a]=Pve(a);return t.json({ok:!0,benchmark:"moltapp-v15",pillars:[{name:"Financial",weight:.13,description:"P&L, Sharpe, Win Rate, Drawdown"},{name:"Reasoning",weight:.12,description:"Coherence, Depth, Consistency"},{name:"Safety",weight:.1,description:"Hallucination-Free, Discipline"},{name:"Calibration",weight:.09,description:"ECE, Brier, Monotonic Quartiles"},{name:"Patterns",weight:.06,description:"Fallacy Detection, Vocabulary"},{name:"Adaptability",weight:.06,description:"Cross-Regime Performance"},{name:"Forensic Quality",weight:.08,description:"Structure, Originality, Clarity"},{name:"Validation Quality",weight:.08,description:"Depth, Sources, Grounding"},{name:"Prediction Accuracy",weight:.07,description:"Direction accuracy, target precision"},{name:"Reasoning Stability",weight:.06,description:"Sentiment vol, conviction flip rate"},{name:"Provenance Integrity",weight:.08,description:"Cryptographic pre-trade reasoning proof"},{name:"Model Comparison",weight:.07,description:"Cross-model fingerprinting, divergence"}],leaderboard:e,provenanceStats:r,crossModelStats:n,divergenceReport:{systematicDisagreements:i.systematicDisagreements,biasAsymmetries:i.biasAsymmetries,herdingTrend:i.herdingTrend,totalRoundsAnalyzed:i.totalRoundsAnalyzed},reproducibilityReport:o,fingerprints:s,timestamp:new Date().toISOString()})});$ve.get("/stream",t=>{let e=new ReadableStream({start(r){VG.add(r);let n=`data: ${JSON.stringify({type:"connected",benchmark:"moltapp-v15",pillars:12})}

`;r.enqueue(new TextEncoder().encode(n))},cancel(r){VG.delete(r)}});return new Response(e,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});var d1t=new Map,f1t=new Map,zve=new Map,I0r=200;function m1t(t){let e=d1t.get(t);return e||(e={coherence:[],hallucinationFree:[],discipline:[],confidence:[],outcomes:[],wordCounts:[],quantClaims:[],hedgeWords:[],regimeActions:[],sentimentScores:[],intents:[],depths:[],forensicScores:[],validationScores:[],predictionCorrect:[],provenanceValid:[],modelComparisonScores:[]},d1t.set(t,e)),e}function pa(t,e){t.push(e),t.length>I0r&&t.shift()}function za(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}function $o(t){return t.length>0?t.reduce((e,r)=>e+r,0)/t.length:.5}function p1t(t){if(t.length<2)return 0;let e=$o(t);return Math.sqrt(t.reduce((r,n)=>r+(n-e)**2,0)/t.length)}function HG(t){return t.length>0?t.filter(Boolean).length/t.length:.5}var C0r=[/\bperhaps\b/i,/\bmaybe\b/i,/\bmight\b/i,/\bcould\b/i,/\bpossibly\b/i,/\buncertain\b/i,/\bnot\s+sure\b/i,/\bhowever\b/i,/\bon\s+the\s+other\s+hand\b/i,/\brisk\s+of\b/i,/\bcaveat\b/i,/\bdownside\s+scenario\b/i,/\bif\s+wrong\b/i,/\bstop[\s-]loss\b/i,/\bworst[\s-]case\b/i,/\bcontrary\b/i,/\balternatively\b/i,/\blimited\s+data\b/i,/\binsufficient\b/i];function N0r(t){let e=0;for(let r of C0r)r.test(t)&&e++;return e}function h1t(t){let e=(t.match(/\$[\d,.]+/g)??[]).length,r=(t.match(/[\d.]+%/g)??[]).length,n=(t.match(/\d+:\d+/g)??[]).length,i=(t.match(/\b\d+\.?\d*\s*(shares?|units?|days?|weeks?|months?)\b/gi)??[]).length;return e+r+n+i}function O0r(t){let e=.5;if(t.hedgeWords.length>=5&&t.confidence.length>=5){let s=t.hedgeWords.slice(-20),a=t.confidence.slice(-20),c=Math.min(s.length,a.length);if(c>=3){let l=0;for(let u=0;u<c;u++)(s[u]>2&&a[u]<.6||s[u]<=1&&a[u]>.7)&&l++;e=Math.min(1,l/c+.2)}}let r=.5;if(t.confidence.length>=5&&t.outcomes.length>=5){let s=Math.min(t.confidence.length,t.outcomes.length),a=0;for(let c=t.confidence.length-s;c<t.confidence.length;c++){let l=c-(t.confidence.length-t.outcomes.length);if(l<0||l>=t.outcomes.length)continue;let u=t.confidence[c]>=.7,d=t.outcomes[l];(u&&d||!u&&!d)&&a++}r=a/s}let n=.5;if(t.hedgeWords.length>=5&&t.coherence.length>=5){let s=Math.min(t.hedgeWords.length,t.coherence.length),a=0;for(let c=0;c<s;c++){let l=t.hedgeWords.length-s+c,u=t.coherence.length-s+c;t.coherence[u]<.5&&t.hedgeWords[l]>=2&&a++,t.coherence[u]>.7&&t.hedgeWords[l]<=1&&a++}n=a/s}let i=.5;if(t.regimeActions.length>=10){let s=new Map;for(let c of t.regimeActions){let l=s.get(c.regime)??{actions:[],successes:0,total:0};l.actions.push(c.action),l.total++,c.success&&l.successes++,s.set(c.regime,l)}let a=s.size;if(a>=2){let c=Array.from(s.values()).reduce((l,u)=>{let d=new Set(u.actions).size;return l+d/Math.max(1,u.actions.length)},0)/a;i=Math.min(1,c+.3)}}let o=e*.3+r*.3+n*.2+i*.2;return{uncertaintyCalibration:Math.round(e*1e3)/1e3,confidenceAccuracy:Math.round(r*1e3)/1e3,hedgingAppropriacy:Math.round(n*1e3)/1e3,regimeAdaptation:Math.round(i*1e3)/1e3,composite:Math.round(o*1e3)/1e3}}var P0r=[/\bas\s+mentioned\b/i,/\bas\s+we\s+can\s+see\b/i,/\bit\s+is\s+worth\s+noting\b/i,/\bin\s+conclusion\b/i,/\boverall\b/i,/\bthat\s+being\s+said\b/i,/\blet\s+me\s+analyze\b/i,/\bI\s+will\s+now\b/i,/\blooking\s+at\s+the\s+data\b/i,/\bbased\s+on\s+(?:the\s+)?above\b/i,/\btaking\s+(?:all\s+)?(?:this|these)\s+into\s+(?:account|consideration)\b/i,/\bit\s+(?:is\s+)?important\s+to\s+note\b/i,/\bgiven\s+the\s+current\b/i],k0r=[/P\/E\s+ratio/i,/EPS/i,/revenue\s+growth/i,/support\s+(?:level|at)/i,/resistance\s+(?:level|at)/i,/moving\s+average/i,/RSI/i,/MACD/i,/volume\s+profile/i,/market\s+cap/i,/dividend\s+yield/i,/beta/i,/sector\s+rotation/i,/correlation/i,/volatility/i,/liquidity/i,/spread/i,/momentum\s+indicator/i,/Sharpe\s+ratio/i,/drawdown/i,/VaR/i,/earnings\s+(?:growth|beat|miss|surprise)/i,/guidance/i,/margin\s+expansion/i,/free\s+cash\s+flow/i,/balance\s+sheet/i,/debt[\s-]to[\s-]equity/i,/book\s+value/i,/Fibonacci/i,/Bollinger/i,/stochastic/i,/head\s+and\s+shoulders/i,/cup\s+and\s+handle/i,/double\s+(?:top|bottom)/i,/breakout\s+(?:above|below)/i];function D0r(t){let e=t.split(/\s+/).length;if(e===0)return{informationDensity:0,claimDensity:0,originalityPerWord:0,quantitativeRatio:0,composite:0};let r=0;for(let m of k0r)m.test(t)&&r++;let n=Math.min(1,r/(e*.03+1)),i=0;for(let m of P0r)m.test(t)&&i++;let o=i/Math.max(1,r+i),s=Math.max(0,1-o),a=t.toLowerCase().split(/\s+/),c=new Set,l=[];for(let m=0;m<a.length-1;m++){let g=`${a[m]}_${a[m+1]}`;c.add(g),l.push(g)}let u=l.length>0?c.size/l.length:0,d=h1t(t),p=t.split(/[.!?]+/).filter(m=>m.trim().length>0).length,f=Math.min(1,d/Math.max(1,p)*.5),h=n*.3+s*.25+u*.25+f*.2;return{informationDensity:Math.round(n*1e3)/1e3,claimDensity:Math.round(s*1e3)/1e3,originalityPerWord:Math.round(u*1e3)/1e3,quantitativeRatio:Math.round(f*1e3)/1e3,composite:Math.round(h*1e3)/1e3}}var Va={financial:.12,reasoning:.11,safety:.09,calibration:.08,patterns:.05,adaptability:.05,forensicQuality:.08,validationQuality:.08,predictionAccuracy:.06,reasoningStability:.05,provenanceIntegrity:.06,modelComparison:.05,metacognition:.07,efficiency:.05};function g1t(t,e){let r=m1t(t);pa(r.coherence,e.coherence),pa(r.hallucinationFree,e.hallucinationFree),pa(r.discipline,e.discipline?1:0),pa(r.confidence,e.confidence);let n=e.reasoning.split(/\s+/).length;pa(r.wordCounts,n),pa(r.quantClaims,h1t(e.reasoning)),pa(r.hedgeWords,N0r(e.reasoning)),e.depth!==void 0&&pa(r.depths,e.depth),e.forensicScore!==void 0&&pa(r.forensicScores,e.forensicScore),e.validationScore!==void 0&&pa(r.validationScores,e.validationScore),e.outcome!==void 0&&pa(r.outcomes,e.outcome),e.predictionCorrect!==void 0&&pa(r.predictionCorrect,e.predictionCorrect),e.provenanceValid!==void 0&&pa(r.provenanceValid,e.provenanceValid),e.modelComparisonScore!==void 0&&pa(r.modelComparisonScores,e.modelComparisonScore),e.regime&&pa(r.regimeActions,{regime:e.regime,action:e.action,success:e.outcome??e.coherence>.5}),pa(r.sentimentScores,e.coherence*2-1)}function y1t(t){let e=m1t(t),r=e.coherence.length,n=[],i=$o(e.outcomes.map($=>$?.7:.3));n.push({name:"financial",score:i,weight:Va.financial,grade:za(i),components:{winRate:HG(e.outcomes)},explanation:`Win rate: ${(HG(e.outcomes)*100).toFixed(0)}%`});let o=$o(e.coherence);n.push({name:"reasoning",score:o,weight:Va.reasoning,grade:za(o),components:{avgCoherence:$o(e.coherence),depthAvg:$o(e.depths)},explanation:`Avg coherence: ${$o(e.coherence).toFixed(3)}`});let s=$o(e.hallucinationFree);n.push({name:"safety",score:s,weight:Va.safety,grade:za(s),components:{hallucinationFreeRate:$o(e.hallucinationFree),disciplineRate:$o(e.discipline)},explanation:`Hallucination-free: ${($o(e.hallucinationFree)*100).toFixed(0)}%, Discipline: ${($o(e.discipline)*100).toFixed(0)}%`});let a=p1t(e.confidence),c=Math.max(0,1-a*2);n.push({name:"calibration",score:c,weight:Va.calibration,grade:za(c),components:{confidenceStdDev:a,avgConfidence:$o(e.confidence)},explanation:`Confidence variance: ${a.toFixed(3)}`});let l=$o(e.depths.length>0?e.depths:[.5]);n.push({name:"patterns",score:l,weight:Va.patterns,grade:za(l),components:{depthAvg:$o(e.depths)},explanation:`Avg depth score: ${l.toFixed(3)}`});let u=new Set(e.intents),d=Math.min(1,u.size/4*.5+.3);n.push({name:"adaptability",score:d,weight:Va.adaptability,grade:za(d),components:{intentDiversity:u.size},explanation:`${u.size} distinct intents used`});let p=$o(e.forensicScores.length>0?e.forensicScores:[.5]);n.push({name:"forensicQuality",score:p,weight:Va.forensicQuality,grade:za(p),components:{avgForensic:p},explanation:`Avg forensic: ${p.toFixed(3)}`});let f=$o(e.validationScores.length>0?e.validationScores:[.5]);n.push({name:"validationQuality",score:f,weight:Va.validationQuality,grade:za(f),components:{avgValidation:f},explanation:`Avg validation: ${f.toFixed(3)}`});let h=HG(e.predictionCorrect);n.push({name:"predictionAccuracy",score:h,weight:Va.predictionAccuracy,grade:za(h),components:{accuracy:h},explanation:`Prediction correct: ${(h*100).toFixed(0)}%`});let m=p1t(e.sentimentScores),g=Math.max(0,1-m);n.push({name:"reasoningStability",score:g,weight:Va.reasoningStability,grade:za(g),components:{sentimentStdDev:m},explanation:`Sentiment volatility: ${m.toFixed(3)}`});let b=HG(e.provenanceValid);n.push({name:"provenanceIntegrity",score:b,weight:Va.provenanceIntegrity,grade:za(b),components:{validRate:b},explanation:`Provenance valid: ${(b*100).toFixed(0)}%`});let _=$o(e.modelComparisonScores.length>0?e.modelComparisonScores:[.5]);n.push({name:"modelComparison",score:_,weight:Va.modelComparison,grade:za(_),components:{avgScore:_},explanation:`Cross-model independence: ${_.toFixed(3)}`});let x=O0r(e);n.push({name:"metacognition",score:x.composite,weight:Va.metacognition,grade:za(x.composite),components:{uncertaintyCalibration:x.uncertaintyCalibration,confidenceAccuracy:x.confidenceAccuracy,hedgingAppropriacy:x.hedgingAppropriacy,regimeAdaptation:x.regimeAdaptation},explanation:`Self-awareness: ${x.composite.toFixed(3)} \u2014 uncertainty=${x.uncertaintyCalibration.toFixed(2)}, accuracy=${x.confidenceAccuracy.toFixed(2)}`});let E=(e.wordCounts.length>0,""),R={informationDensity:$o(e.quantClaims.map(($,j)=>Math.min(1,$/Math.max(1,(e.wordCounts[j]??50)*.03+1)))),claimDensity:.7,originalityPerWord:.6,quantitativeRatio:$o(e.quantClaims.map($=>Math.min(1,$*.15))),composite:0};R.composite=R.informationDensity*.3+R.claimDensity*.25+R.originalityPerWord*.25+R.quantitativeRatio*.2,n.push({name:"efficiency",score:R.composite,weight:Va.efficiency,grade:za(R.composite),components:{informationDensity:R.informationDensity,quantitativeRatio:R.quantitativeRatio},explanation:`Signal-to-noise: ${R.composite.toFixed(3)}`});let I=n.reduce(($,j)=>$+j.score*j.weight,0),D=Math.round(I*1e3)/1e3,k=zve.get(t)??0,O={agentId:t,composite:D,grade:za(D),pillars:n,rank:0,rankChange:0,tradeCount:r,lastUpdated:new Date().toISOString(),metacognition:x,efficiency:R};return f1t.set(t,O),O}function M0r(){let t=Array.from(f1t.values());t.sort((e,r)=>r.composite-e.composite);for(let e=0;e<t.length;e++){let r=zve.get(t[e].agentId)??e+1;t[e].rank=e+1,t[e].rankChange=r-(e+1),zve.set(t[e].agentId,e+1)}return t}function GG(){return M0r()}function b1t(t){return D0r(t)}function jG(){return{...Va}}var qG=new Map,L0r=300,B0r=[{pattern:/\bI('m|\s+am)\s+not\s+(entirely\s+)?sure\b/i,label:"explicit uncertainty"},{pattern:/\buncertain(?:ty)?\b/i,label:"uncertainty marker"},{pattern:/\bhard\s+to\s+(?:say|predict|tell)\b/i,label:"difficulty acknowledgement"},{pattern:/\blimited\s+(?:data|information|visibility)\b/i,label:"data limitation"},{pattern:/\binsufficient\s+(?:evidence|data)\b/i,label:"evidence gap"},{pattern:/\bcould\s+go\s+either\s+way\b/i,label:"ambiguity acknowledgement"},{pattern:/\bmixed\s+signals?\b/i,label:"conflicting data"},{pattern:/\bnot\s+(?:fully\s+)?convinced\b/i,label:"doubt expression"},{pattern:/\bconfidence\s+is\s+(?:low|moderate|limited)\b/i,label:"explicit low confidence"},{pattern:/\bdifficult\s+(?:market|conditions|environment)\b/i,label:"environment difficulty"}],$0r=[/\b(?:my|I)\s+(?:analysis|view|assessment|opinion|thesis|strategy)\b/i,/\b(?:my|I)\s+(?:previous|earlier|last)\s+(?:trade|decision|position)\b/i,/\b(?:I|my)\s+(?:was|were)\s+(?:wrong|incorrect|mistaken)\b/i,/\b(?:I|my)\s+(?:should\s+have|could\s+have)\b/i,/\b(?:adjusting|revising|updating)\s+my\b/i,/\blearned\s+(?:from|that)\b/i,/\b(?:my|I)\s+(?:bias|tendency|pattern)\b/i],U0r=[/\b(?:I\s+)?(?:can'?t|cannot|don'?t)\s+(?:predict|know|see|determine)\b/i,/\bbeyond\s+(?:my|the)\s+(?:ability|scope|capacity)\b/i,/\bnot\s+enough\s+(?:data|information|evidence)\b/i,/\bno\s+clear\s+(?:signal|trend|direction|catalyst)\b/i,/\black(?:ing)?\s+(?:of\s+)?(?:clarity|certainty|conviction)\b/i,/\bwithout\s+(?:more|additional|further)\s+(?:data|information)\b/i],F0r=[/\bif\s+.+(?:then|,)\b/i,/\bunless\b/i,/\bprovided\s+that\b/i,/\bassuming\b/i,/\bcontingent\s+(?:on|upon)\b/i,/\bshould\s+.+(?:then|,)\b/i,/\bin\s+case\b/i,/\bdepending\s+on\b/i];function v1t(t){let e=t.reasoning,r=[];for(let{pattern:u,label:d}of B0r)u.test(e)&&r.push(d);let n=[];for(let u of $0r){let d=e.match(u);d&&n.push(d[0])}let i=[];for(let u of U0r){let d=e.match(u);d&&i.push(d[0])}let o=0;for(let u of F0r)u.test(e)&&o++;let s=[/\bperhaps\b/i,/\bmaybe\b/i,/\bmight\b/i,/\bcould\b/i,/\bpossibly\b/i,/\bprobably\b/i,/\blikely\b/i,/\btend\s+to\b/i,/\bgenerally\b/i,/\btypically\b/i,/\bsomewhat\b/i,/\bslightly\b/i,/\bapparently\b/i],a=0;for(let u of s)u.test(e)&&a++;let c={...t,hedgeCount:a,uncertaintyExpressions:r,selfReferences:n,limitationAcknowledgements:i,conditionalsCount:o},l=qG.get(t.agentId);return l||(l=[],qG.set(t.agentId,l)),l.push(c),l.length>L0r&&l.shift(),c}function z0r(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}function V0r(t){let e=qG.get(t);if(!e||e.length===0)return null;let r=e.length,n=e.reduce((Oe,hr)=>Oe+hr.hedgeCount,0)/r,i=e.filter(Oe=>Oe.uncertaintyExpressions.length>0).length/r,o=e.filter(Oe=>Oe.conditionalsCount>0).length/r,s=0,a=0;for(let Oe of e)(Oe.confidence<.5&&Oe.hedgeCount>=2||Oe.confidence>=.7&&Oe.hedgeCount<=1)&&a++;s=Math.min(1,a/r*.5+i*.3+o*.2);let c={avgHedgeCount:Math.round(n*100)/100,uncertaintyRate:Math.round(i*1e3)/1e3,conditionalRate:Math.round(o*1e3)/1e3,examples:e.flatMap(Oe=>Oe.uncertaintyExpressions).slice(0,5)},l=e.filter(Oe=>Oe.wasCorrect!==void 0),u=.5,d=.5;if(l.length>=5){let Oe=l.filter(lr=>lr.confidence>=.7),hr=l.filter(lr=>lr.confidence<.5);u=Oe.length>0?Oe.filter(lr=>lr.wasCorrect).length/Oe.length:.5,d=hr.length>0?hr.filter(lr=>lr.wasCorrect).length/hr.length:.5}let p=Math.abs(u-d),f=l.length>0?l.filter(Oe=>Oe.confidence>=.7&&!Oe.wasCorrect).length/Math.max(1,l.filter(Oe=>Oe.confidence>=.7).length):.3,h=u>d?Math.min(1,.5+p*2):Math.max(0,.5-p),m={highConfidenceAccuracy:Math.round(u*1e3)/1e3,lowConfidenceAccuracy:Math.round(d*1e3)/1e3,calibrationGap:Math.round(p*1e3)/1e3,overconfidenceRate:Math.round(f*1e3)/1e3},g=0,b=0,_=0,x=0;for(let Oe=1;Oe<e.length;Oe++)e[Oe-1].wasCorrect===!1&&(x++,e[Oe].action!==e[Oe-1].action&&g++,e[Oe].confidence<e[Oe-1].confidence&&b++,e[Oe].symbol===e[Oe-1].symbol&&e[Oe].action===e[Oe-1].action&&_++);let E=x>0?g/x*.4+b/x*.3+Math.max(0,1-_/x)*.3:.5,R={afterErrorActionChange:x>0?Math.round(g/x*1e3)/1e3:0,afterErrorConfidenceAdjust:x>0?Math.round(b/x*1e3)/1e3:0,repeatMistakeRate:x>0?Math.round(_/x*1e3)/1e3:0},I=e.filter(Oe=>Oe.limitationAcknowledgements.length>0).length/r,D=new Map;for(let Oe of e)D.set(Oe.symbol,(D.get(Oe.symbol)??0)+1);let k=Array.from(D.entries()).sort((Oe,hr)=>hr[1]-Oe[1]).slice(0,5).map(([Oe])=>Oe),O=D.size>0?Math.max(...D.values())/r:0,$=Math.min(1,I*.4+(1-O)*.3+Math.min(1,D.size/5)*.3),j={limitationMentionRate:Math.round(I*1e3)/1e3,topSymbols:k,symbolConcentration:Math.round(O*1e3)/1e3},X=e.map(Oe=>Oe.intent),N=new Set(X),v=Math.min(1,N.size/4),S=0,T=0;for(let Oe=1;Oe<e.length;Oe++)e[Oe-1].wasCorrect===!1&&(T++,e[Oe].intent!==e[Oe-1].intent&&S++);let M=e.slice(0,Math.floor(r/2)).reduce((Oe,hr)=>Oe+hr.confidence,0),U=e.slice(Math.floor(r/2)).reduce((Oe,hr)=>Oe+hr.confidence,0),H=Math.floor(r/2)||1,K=r-H||1,G=1-Math.abs(M/H-U/K),w=v*.3+(T>0?S/T:.5)*.35+Math.max(0,G)*.35,Q={intentChangeAfterLoss:T>0?Math.round(S/T*1e3)/1e3:0,confidenceAdaptation:Math.round(Math.max(0,G)*1e3)/1e3,strategyDiversity:Math.round(v*1e3)/1e3},Ee=s*.25+h*.25+E*.2+$*.15+w*.15,ye=e.slice(0,H),le=e.slice(H),Fe=ye.reduce((Oe,hr)=>Oe+hr.hedgeCount+hr.conditionalsCount,0)/H,_e=le.reduce((Oe,hr)=>Oe+hr.hedgeCount+hr.conditionalsCount,0)/K,ot=_e-Fe,he=ot>.5?"improving":ot<-.5?"declining":"stable",yt=`Metacognition markers ${he}: ${Fe.toFixed(1)} (early) -> ${_e.toFixed(1)} (recent)`;return{agentId:t,tradeCount:r,lastUpdated:new Date().toISOString(),overallScore:Math.round(Ee*1e3)/1e3,grade:z0r(Ee),epistemicHumility:Math.round(s*1e3)/1e3,calibrationAwareness:Math.round(h*1e3)/1e3,errorRecognition:Math.round(E*1e3)/1e3,scopeLimitation:Math.round($*1e3)/1e3,adaptiveStrategy:Math.round(w*1e3)/1e3,humilityEvidence:c,calibrationEvidence:m,errorEvidence:R,scopeEvidence:j,adaptationEvidence:Q,trend:he,trendDetail:yt}}function Vve(){let t=[];for(let e of qG.keys()){let r=V0r(e);r&&t.push(r)}return t.sort((e,r)=>r.overallScore-e.overallScore),t}var Xy={analyticalBreadth:.18,evidenceSpecificity:.16,causalChain:.14,riskAwareness:.12,temporalReasoning:.1,comparativeAnalysis:.1,quantitativeRigor:.12,thesisStructure:.08},H0r={valuation:[/P\/E\s+ratio/i,/price[\s-]to[\s-](?:earnings|book|sales)/i,/undervalued|overvalued/i,/intrinsic\s+value/i,/fair\s+value|price\s+target/i,/multiple\s+expansion/i,/EV\/EBITDA/i,/DCF/i,/book\s+value/i],technical:[/moving\s+average|SMA|EMA/i,/RSI|relative\s+strength/i,/MACD/i,/Bollinger\s+Band/i,/support\s+(?:level|at)/i,/resistance\s+(?:level|at)/i,/breakout/i,/chart\s+pattern/i,/volume\s+(?:spike|surge|profile|analysis)/i,/Fibonacci/i,/stochastic/i,/divergence/i,/momentum\s+indicator/i,/candlestick/i,/trend\s*line/i,/golden\s+cross/i,/death\s+cross/i,/head\s+and\s+shoulders/i],fundamental:[/revenue\s+(?:growth|decline|beat|miss)/i,/earnings\s+(?:growth|beat|miss|surprise)/i,/profit\s+margin/i,/free\s+cash\s+flow/i,/balance\s+sheet/i,/debt[\s-]to[\s-]equity/i,/ROE|return\s+on\s+equity/i,/guidance/i,/margin\s+(?:expansion|compression)/i,/operating\s+(?:income|expenses)/i,/cost\s+(?:cutting|reduction)/i],macro:[/interest\s+rate/i,/Fed|Federal\s+Reserve/i,/inflation/i,/GDP|gross\s+domestic/i,/unemployment/i,/CPI/i,/monetary\s+policy/i,/fiscal\s+(?:policy|stimulus)/i,/recession/i,/economic\s+(?:growth|slowdown|cycle)/i,/Treasury|bond\s+yield/i,/dollar\s+(?:strength|weakness)/i],sentiment:[/market\s+sentiment/i,/investor\s+(?:confidence|fear|greed)/i,/VIX|fear\s+index/i,/put[\s-]call\s+ratio/i,/short\s+interest/i,/retail\s+(?:investor|trader)/i,/institutional\s+(?:buying|selling)/i,/insider\s+(?:buying|selling)/i,/social\s+media\s+sentiment/i,/fear\s+and\s+greed/i],sector:[/sector\s+(?:rotation|performance|comparison)/i,/industry\s+(?:trend|comparison|leader)/i,/peer\s+(?:group|comparison|performance)/i,/market\s+share/i,/competitive\s+(?:advantage|landscape|position)/i,/moat|barrier\s+to\s+entry/i,/TAM|total\s+addressable\s+market/i],risk:[/risk[\s-]reward/i,/downside\s+(?:risk|scenario|protection)/i,/stop[\s-]loss/i,/position\s+sizing/i,/portfolio\s+(?:concentration|diversification)/i,/worst[\s-]case/i,/tail\s+risk/i,/hedg/i,/maximum\s+(?:drawdown|loss)/i,/risk\s+management/i],catalyst:[/earnings\s+(?:call|report|season)/i,/product\s+launch/i,/FDA\s+(?:approval|decision)/i,/merger|acquisition|M&A/i,/IPO/i,/stock\s+(?:split|buyback)/i,/dividend/i,/regulation|regulatory/i,/partnership|collaboration/i,/patent/i,/clinical\s+trial/i,/new\s+contract/i],portfolio:[/portfolio\s+(?:allocation|weight|balance|rebalancing)/i,/position\s+(?:size|limit|management)/i,/cash\s+(?:buffer|reserve|allocation)/i,/concentration\s+risk/i,/diversif/i,/allocation\s+(?:target|limit)/i,/exposure|overexposed|underexposed/i],timing:[/entry\s+point|exit\s+(?:point|strategy)/i,/time\s+horizon/i,/short[\s-]term|medium[\s-]term|long[\s-]term/i,/holding\s+period/i,/swing\s+trade|day\s+trade/i,/dollar[\s-]cost\s+averag/i,/scaling\s+(?:in|out)/i,/patience|wait\s+for/i]},G0r=[/\bbecause\b/i,/\btherefore\b/i,/\bdue\s+to\b/i,/\bas\s+a\s+result\b/i,/\bconsequently\b/i,/\bthis\s+(?:means|suggests|implies|indicates)\b/i,/\bleading\s+to\b/i,/\bcaused\s+by\b/i,/\bdriven\s+by\b/i,/\bif\s+.+\s+then\b/i,/\bgiven\s+that\b/i,/\bwhich\s+(?:means|suggests|would)\b/i,/\bfor\s+this\s+reason\b/i,/\bhence\b/i],j0r=[/\brisk\b/i,/\bdownside\b/i,/\bworst[\s-]case\b/i,/\bcould\s+(?:fall|decline|drop)\b/i,/\bif\s+(?:wrong|incorrect)\b/i,/\bstop[\s-]loss\b/i,/\bhedg/i,/\bvolatil/i,/\buncertain/i,/\bcaveat/i,/\bwarn/i,/\blimit\s+(?:losses|downside|exposure)\b/i,/\bprotect/i,/\bdefensive/i,/\bcounterargument/i,/\bon\s+the\s+other\s+hand\b/i,/\bcontrary\s+(?:evidence|argument|view)\b/i],q0r=[/\bshort[\s-]term\b/i,/\bmedium[\s-]term\b/i,/\blong[\s-]term\b/i,/\bnext\s+(?:week|month|quarter|year|earnings)\b/i,/\bwithin\s+\d+\s+(?:day|week|month)/i,/\btime\s+horizon\b/i,/\bholding\s+period\b/i,/\bby\s+(?:year|quarter)[\s-]end\b/i,/\b(?:24h|48h|72h|1[\s-]week|2[\s-]week|1[\s-]month)/i,/\bhistoric/i,/\bseasonality/i,/\brecent(?:ly)?\b/i,/\bprevious(?:ly)?\b/i,/\bover\s+the\s+past\b/i],J0r=[/\bcompared\s+to\b/i,/\bversus\b/i,/\bvs\.?\b/i,/\brelative\s+to\b/i,/\boutperform/i,/\bunderperform/i,/\bbetter\s+than\b/i,/\bworse\s+than\b/i,/\balternative\b/i,/\binstead\s+of\b/i,/\bwhile\s+.+\s+on\s+the\s+other\b/i,/\bwhereas\b/i,/\bin\s+contrast\b/i,/\brather\s+than\b/i];function W0r(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}function _1t(t){let e=t.split(/\s+/).filter(he=>he.length>0),r=e.length,i=t.split(/[.!?]+/).filter(he=>he.trim().length>0).length,o=i>0?r/i:0,s=new Set(e.map(he=>he.toLowerCase())),a=r>0?s.size/r:0,c=(t.match(/\?/g)??[]).length,l=[];for(let[he,yt]of Object.entries(H0r))for(let Oe of yt)if(Oe.test(t)){l.push(he);break}let d={score:Math.min(1,l.length/5),weight:Xy.analyticalBreadth,evidence:l.map(he=>`Covers ${he} analysis`)},p=(t.match(/\$[\d,.]+|[\d.]+%|\d+\.\d+|\d{4,}/g)??[]).length,f=(t.match(/\b[A-Z]{2,5}x?\b/g)??[]).length,h=p+f,g={score:Math.min(1,h/(r*.08+1)),weight:Xy.evidenceSpecificity,evidence:[`${p} numeric references, ${f} symbol references`]},b=0,_=[];for(let he of G0r){let yt=t.match(he);yt&&(b++,_.push(yt[0]))}let E={score:Math.min(1,b/4),weight:Xy.causalChain,evidence:_.slice(0,5)},R=0,I=[];for(let he of j0r){let yt=t.match(he);yt&&(R++,I.push(yt[0]))}let k={score:Math.min(1,R/4),weight:Xy.riskAwareness,evidence:I.slice(0,5)},O=0,$=[];for(let he of q0r){let yt=t.match(he);yt&&(O++,$.push(yt[0]))}let X={score:Math.min(1,O/3),weight:Xy.temporalReasoning,evidence:$.slice(0,5)},N=0,v=[];for(let he of J0r){let yt=t.match(he);yt&&(N++,v.push(yt[0]))}let T={score:Math.min(1,N/3),weight:Xy.comparativeAnalysis,evidence:v.slice(0,5)},U={score:Math.min(1,p/(i*.3+1)),weight:Xy.quantitativeRigor,evidence:[`${p} quantitative claims across ${i} sentences`]},H=/\b(?:thesis|believe|position|view|strategy|approach|decision)\b/i.test(t),K=p>=2||b>=1,G=/\b(?:therefore|thus|consequently|conclusion|accordingly|decision|action)\b/i.test(t),Q={score:(H?.35:0)+(K?.35:0)+(G?.3:0),weight:Xy.thesisStructure,evidence:[H?"Has thesis statement":"Missing thesis",K?"Has supporting evidence":"Missing evidence",G?"Has conclusion":"Missing conclusion"].filter(he=>!he.startsWith("Missing"))},Ee={analyticalBreadth:d,evidenceSpecificity:g,causalChain:E,riskAwareness:k,temporalReasoning:X,comparativeAnalysis:T,quantitativeRigor:U,thesisStructure:Q},ye=Object.values(Ee).reduce((he,yt)=>he+yt.score*yt.weight,0),le;ye>=.8?le="exceptional":ye>=.55?le="deep":ye>=.3?le="moderate":le="shallow";let Fe=Object.entries(Ee);Fe.sort((he,yt)=>yt[1].score-he[1].score);let _e=Fe[0][0],ot=Fe[Fe.length-1][0];return{overall:Math.round(ye*1e3)/1e3,classification:le,grade:W0r(ye),dimensions:Ee,textMetrics:{wordCount:r,sentenceCount:i,avgSentenceLength:Math.round(o*10)/10,uniqueWordRatio:Math.round(a*1e3)/1e3,questionCount:c},anglesDetected:l,strongestDimension:_e,weakestDimension:ot}}var JG=new rn,Cp=[],x1t=200;function S1t(t,e,r){let n={type:t,data:e,agentId:r,timestamp:new Date().toISOString()};Cp.unshift(n),Cp.length>x1t&&(Cp.length=x1t)}JG.get("/data",t=>{let e=GG(),r=Vve(),n=jG();return t.json({ok:!0,version:"v16",pillarCount:14,timestamp:new Date().toISOString(),weights:n,leaderboard:e.map(i=>({...i,metacognitionReport:r.find(o=>o.agentId===i.agentId)??null})),recentEvents:Cp.slice(0,20)})});JG.get("/stream",t=>{let e=new TextEncoder,r=new ReadableStream({start(n){for(let a of Cp.slice(0,10))n.enqueue(e.encode(`data: ${JSON.stringify(a)}

`));let i=setInterval(()=>{try{n.enqueue(e.encode(`data: ${JSON.stringify({type:"heartbeat",timestamp:new Date().toISOString()})}

`))}catch{clearInterval(i)}},3e4),o=Cp.length,s=setInterval(()=>{try{if(Cp.length>0&&o!==Cp.length){let a=Cp.slice(0,Cp.length-o);for(let c of a)n.enqueue(e.encode(`data: ${JSON.stringify(c)}

`));o=Cp.length}}catch{clearInterval(s),clearInterval(i)}},5e3)}});return new Response(r,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive","Access-Control-Allow-Origin":"*"}})});JG.get("/export",t=>{let e=t.req.query("format")??"jsonl",r=GG(),n=Vve(),i=r.map(s=>({agent_id:s.agentId,composite:s.composite,grade:s.grade,rank:s.rank,trade_count:s.tradeCount,pillar_scores:Object.fromEntries(s.pillars.map(a=>[a.name,a.score])),metacognition:s.metacognition,efficiency:s.efficiency,metacognition_report:n.find(a=>a.agentId===s.agentId)??null,timestamp:s.lastUpdated}));if(e==="csv"){let s=["agent_id","composite","grade","rank","trade_count",...Object.keys(jG()),"metacognition_composite","efficiency_composite"],a=i.map(l=>[l.agent_id,l.composite,l.grade,l.rank,l.trade_count,...Object.values(l.pillar_scores),l.metacognition.composite,l.efficiency.composite].join(",")),c=[s.join(","),...a].join(`
`);return new Response(c,{headers:{"Content-Type":"text/csv","Content-Disposition":"attachment; filename=moltapp-v16-benchmark.csv"}})}let o=i.map(s=>JSON.stringify(s)).join(`
`);return new Response(o,{headers:{"Content-Type":"application/x-ndjson","Content-Disposition":"attachment; filename=moltapp-v16-benchmark.jsonl"}})});JG.get("/",t=>{let e=GG(),r=jG(),n=e.map(s=>{let a=s.rankChange>0?"&#9650;":s.rankChange<0?"&#9660;":"&#9679;",c=s.rankChange>0?"#22c55e":s.rankChange<0?"#ef4444":"#6b7280",l=s.grade.startsWith("A")?"#22c55e":s.grade.startsWith("B")?"#3b82f6":s.grade.startsWith("C")?"#eab308":"#ef4444",u=s.pillars.map(d=>`<td style="background:${d.score>=.75?"rgba(34,197,94,0.15)":d.score>=.5?"rgba(234,179,8,0.15)":"rgba(239,68,68,0.15)"};text-align:center;padding:6px;font-size:13px;" title="${d.name}: ${d.explanation}">${d.score.toFixed(2)}</td>`).join("");return`<tr>
      <td style="text-align:center;padding:8px;font-weight:bold;">${s.rank}</td>
      <td style="padding:8px;">
        <span style="color:${c};font-size:11px;">${a}</span>
        <strong>${s.agentId}</strong>
      </td>
      <td style="text-align:center;padding:8px;font-size:18px;font-weight:bold;color:${l};">${s.grade}</td>
      <td style="text-align:center;padding:8px;font-weight:bold;">${s.composite.toFixed(3)}</td>
      ${u}
      <td style="text-align:center;padding:8px;font-size:13px;">${s.tradeCount}</td>
    </tr>`}).join(""),o=`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>MoltApp Benchmark v16 \u2014 14-Pillar AI Trading Intelligence</title>
  <meta name="description" content="Industry-standard AI trading benchmark. 14-pillar scoring with metacognition analysis, reasoning efficiency, and advanced depth scoring.">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #0a0a0a; color: #e5e5e5; }
    .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
    .header { text-align: center; margin-bottom: 30px; padding: 30px 0; border-bottom: 1px solid #333; }
    .header h1 { font-size: 28px; margin-bottom: 8px; }
    .header h1 span { color: #f97316; }
    .header p { color: #999; font-size: 14px; }
    .badges { display: flex; gap: 10px; justify-content: center; margin-top: 15px; flex-wrap: wrap; }
    .badge { display: inline-flex; align-items: center; gap: 6px; padding: 5px 12px; border-radius: 9999px; font-size: 12px; font-weight: 600; border: 1px solid #333; }
    .badge.hf { background: rgba(255,213,51,0.1); border-color: rgba(255,213,51,0.3); color: #ffd533; }
    .badge.live { background: rgba(34,197,94,0.1); border-color: rgba(34,197,94,0.3); color: #22c55e; }
    .badge.pillars { background: rgba(59,130,246,0.1); border-color: rgba(59,130,246,0.3); color: #3b82f6; }
    .badge.new { background: rgba(168,85,247,0.1); border-color: rgba(168,85,247,0.3); color: #a855f7; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; font-size: 14px; }
    th { background: #1a1a1a; padding: 8px; text-align: left; font-size: 12px; color: #999; border-bottom: 2px solid #333; }
    td { padding: 8px; border-bottom: 1px solid #222; }
    tr:hover td { background: rgba(255,255,255,0.03); }
    .section { margin-top: 40px; }
    .section h2 { font-size: 20px; margin-bottom: 15px; border-left: 3px solid #f97316; padding-left: 12px; }
    .cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px; margin-top: 15px; }
    .card { background: #1a1a1a; border: 1px solid #333; border-radius: 8px; padding: 16px; }
    .card h3 { font-size: 14px; color: #f97316; margin-bottom: 8px; }
    .card p { font-size: 13px; color: #999; line-height: 1.5; }
    .metric { display: flex; justify-content: space-between; padding: 4px 0; }
    .metric-label { color: #888; font-size: 12px; }
    .metric-value { font-weight: bold; font-size: 13px; }
    .new-tag { background: #a855f7; color: white; font-size: 10px; padding: 2px 6px; border-radius: 4px; font-weight: 600; margin-left: 6px; }
    .footer { text-align: center; margin-top: 40px; padding: 20px 0; border-top: 1px solid #333; color: #666; font-size: 12px; }
    a { color: #3b82f6; text-decoration: none; }
    a:hover { text-decoration: underline; }
    @media (max-width: 768px) { .container { padding: 10px; } table { font-size: 12px; } }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1><span>MoltApp</span> AI Trading Benchmark v16</h1>
      <p>Industry-standard evaluation of AI agents trading real tokenized stocks on Solana</p>
      <div class="badges">
        <span class="badge hf">&#129303; HuggingFace: patruff/molt-benchmark</span>
        <span class="badge live">&#9679; Live on patgpt.us</span>
        <span class="badge pillars">14 Scoring Pillars</span>
        <span class="badge new">NEW: Metacognition + Efficiency</span>
      </div>
    </div>

    <h2 style="font-size:18px;margin-bottom:10px;">Agent Leaderboard</h2>
    <div style="overflow-x:auto;">
      <table>
        <thead>
          <tr>
            <th style="text-align:center;">Rank</th>
            <th>Agent</th>
            <th style="text-align:center;">Grade</th>
            <th style="text-align:center;">Composite</th>
            ${Object.keys(r).map(s=>{let a=s.replace(/([A-Z])/g," $1").trim().split(" ").map(c=>c[0]).join("").toUpperCase();return`<th style="text-align:center;padding:6px;font-size:11px;max-width:60px;writing-mode:vertical-lr;transform:rotate(180deg);" title="${s} (${(r[s]*100).toFixed(0)}%)">${a}<br><span style="color:#888;font-size:9px;">${(r[s]*100).toFixed(0)}%</span></th>`}).join("")}
            <th style="text-align:center;">Trades</th>
          </tr>
        </thead>
        <tbody>
          ${n||'<tr><td colspan="18" style="text-align:center;padding:20px;color:#666;">No scoring data yet. Run trading rounds to populate the benchmark.</td></tr>'}
        </tbody>
      </table>
    </div>

    <div class="section">
      <h2>v16 New Pillars</h2>
      <div class="cards">
        <div class="card">
          <h3>Metacognition <span class="new-tag">NEW</span></h3>
          <p>Does the agent know what it knows? Measures epistemic humility, calibration awareness, error recognition, scope limitation, and adaptive strategy.</p>
          <div style="margin-top:10px;">
            <div class="metric"><span class="metric-label">Epistemic Humility</span><span class="metric-value">25%</span></div>
            <div class="metric"><span class="metric-label">Calibration Awareness</span><span class="metric-value">25%</span></div>
            <div class="metric"><span class="metric-label">Error Recognition</span><span class="metric-value">20%</span></div>
            <div class="metric"><span class="metric-label">Scope Limitation</span><span class="metric-value">15%</span></div>
            <div class="metric"><span class="metric-label">Adaptive Strategy</span><span class="metric-value">15%</span></div>
          </div>
        </div>
        <div class="card">
          <h3>Reasoning Efficiency <span class="new-tag">NEW</span></h3>
          <p>Signal-to-noise ratio in reasoning text. Rewards dense analytical content per word, penalizes verbose filler and boilerplate.</p>
          <div style="margin-top:10px;">
            <div class="metric"><span class="metric-label">Information Density</span><span class="metric-value">30%</span></div>
            <div class="metric"><span class="metric-label">Claim Density</span><span class="metric-value">25%</span></div>
            <div class="metric"><span class="metric-label">Originality Per Word</span><span class="metric-value">25%</span></div>
            <div class="metric"><span class="metric-label">Quantitative Ratio</span><span class="metric-value">20%</span></div>
          </div>
        </div>
        <div class="card">
          <h3>14-Pillar Composite Scoring</h3>
          <p>Unified scoring engine combining financial performance, reasoning quality, safety, calibration, patterns, adaptability, forensics, validation, predictions, stability, provenance, model comparison, metacognition, and efficiency.</p>
          <div style="margin-top:10px;">
            <div class="metric"><span class="metric-label">Total Pillars</span><span class="metric-value">14</span></div>
            <div class="metric"><span class="metric-label">Grade Scale</span><span class="metric-value">A+ to F</span></div>
            <div class="metric"><span class="metric-label">Window Size</span><span class="metric-value">200 trades</span></div>
          </div>
        </div>
      </div>
    </div>

    <div class="section">
      <h2>API Endpoints</h2>
      <div class="cards">
        <div class="card">
          <h3>Dashboard &amp; Data</h3>
          <p>
            <code>/benchmark-v16</code> \u2014 This dashboard<br>
            <code>/benchmark-v16/data</code> \u2014 JSON leaderboard<br>
            <code>/benchmark-v16/stream</code> \u2014 SSE live events<br>
            <code>/benchmark-v16/export</code> \u2014 JSONL/CSV export
          </p>
        </div>
        <div class="card">
          <h3>v16 API</h3>
          <p>
            <code>/api/v1/benchmark-v16/scores</code> \u2014 All agent scores<br>
            <code>/api/v1/benchmark-v16/score/:id</code> \u2014 Agent score<br>
            <code>/api/v1/benchmark-v16/metacognition</code> \u2014 Reports<br>
            <code>/api/v1/benchmark-v16/metacognition/:id</code> \u2014 Agent<br>
            <code>/api/v1/benchmark-v16/depth/:id</code> \u2014 Depth analysis<br>
            <code>/api/v1/benchmark-v16/efficiency</code> \u2014 Efficiency<br>
            <code>/api/v1/benchmark-v16/schema</code> \u2014 Schema
          </p>
        </div>
      </div>
    </div>

    <div class="footer">
      <p>MoltApp Benchmark v16 &middot; <a href="https://www.patgpt.us">patgpt.us</a> &middot; <a href="https://huggingface.co/datasets/patruff/molt-benchmark">HuggingFace Dataset</a> &middot; Built for the Colosseum Agent Hackathon</p>
    </div>
  </div>
  <script>
    // Auto-refresh every 45 seconds
    setTimeout(() => location.reload(), 45000);
  </script>
</body>
</html>`;return t.html(o)});var Ex={financial:.11,reasoning:.1,safety:.08,calibration:.07,patterns:.05,adaptability:.05,forensic_quality:.07,validation_quality:.07,prediction_accuracy:.06,reasoning_stability:.05,provenance_integrity:.06,model_comparison:.05,metacognition:.06,reasoning_efficiency:.04,forensic_ledger:.04,strategy_genome:.04},Yy=new Map,w1t=new Map,E1t=null,T1t=null,K0r=Date.now();function A1t(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}function Q0r(t,e){if(t.length<4)return"stable";let r=t.slice(-5),n=t.slice(-10,-5);if(n.length===0)return"stable";let i=r.reduce((a,c)=>a+(c.scores[e]??0),0)/r.length,o=n.reduce((a,c)=>a+(c.scores[e]??0),0)/n.length,s=i-o;return s>.05?"improving":s<-.05?"declining":"stable"}function R1t(t,e,r,n,i,o){E1t=i,T1t=new Date().toISOString();let s=w1t.get(t)??[];s.push({timestamp:Date.now(),scores:n}),s.length>200&&s.splice(0,s.length-200),w1t.set(t,s);let a=Object.entries(Ex).map(([f,h])=>{let m=Math.max(0,Math.min(1,n[f]??.5));return{name:f,score:m,weight:h,components:{raw:n[f]??.5},grade:A1t(m),trend:Q0r(s,f),confidence:Math.min(1,s.length/20)}}),c=a.reduce((f,h)=>f+h.score*h.weight,0),l=[...a].sort((f,h)=>h.score-f.score),u=l.slice(0,3).map(f=>`${f.name}: ${f.score.toFixed(2)} (${f.grade})`),d=l.slice(-3).map(f=>`${f.name}: ${f.score.toFixed(2)} (${f.grade})`),p=Yy.get(t);Yy.set(t,{agentId:t,provider:e,model:r,composite:c,grade:A1t(c),rank:0,pillars:a,strengths:u,weaknesses:d,tradeCount:(p?.tradeCount??0)+(o??1),dataQuality:Math.min(1,s.length/50),lastUpdated:new Date().toISOString(),eloRating:p?.eloRating??1500,streak:p?.streak??{type:"neutral",length:0}})}function I1t(t){let r=[...t].sort((n,i)=>i.composite-n.composite);for(let n=0;n<r.length;n++)for(let i=n+1;i<r.length;i++){let o=Yy.get(r[n].agentId),s=Yy.get(r[i].agentId);if(!o||!s)continue;let a=1/(1+Math.pow(10,(s.eloRating-o.eloRating)/400)),c=r[n].composite>r[i].composite?1:r[n].composite===r[i].composite?.5:0;o.eloRating=Math.round(o.eloRating+32*(c-a)),s.eloRating=Math.round(s.eloRating+32*(1-c-(1-a)))}if(r.length>0){let n=Yy.get(r[0].agentId);n&&(n.streak.type==="win"?n.streak.length++:n.streak={type:"win",length:1});for(let i=1;i<r.length;i++){let o=Yy.get(r[i].agentId);o&&(o.streak.type==="loss"?o.streak.length++:o.streak={type:"loss",length:1})}}}function bd(){let t=[...Yy.values()].sort((e,r)=>r.composite-e.composite);return t.forEach((e,r)=>{e.rank=r+1}),t}function Zy(){let t=[...Yy.values()],e=[],r=[];for(let[i]of Object.entries(Ex))t.some(s=>s.pillars.find(a=>a.name===i&&a.confidence>.3))||r.push(i);r.length>0&&e.push(`${r.length} pillars have insufficient data coverage`);for(let i of t)i.dataQuality<.3&&e.push(`${i.agentId} has low data quality (${(i.dataQuality*100).toFixed(0)}%)`);let n={};for(let i of Object.keys(Ex)){let o=t.filter(s=>s.pillars.find(a=>a.name===i&&a.score>0)).length;n[i]=t.length>0?o/t.length:0}return{version:"v17",totalAgents:t.length,totalTrades:t.reduce((i,o)=>i+o.tradeCount,0),avgDataQuality:t.length>0?t.reduce((i,o)=>i+o.dataQuality,0)/t.length:0,pillarCoverage:n,stalePillars:r,lastRoundId:E1t,lastRoundTimestamp:T1t,uptime:Date.now()-K0r,warnings:e}}function WG(){let t=bd();return{metadata:{version:"v17",exportedAt:new Date().toISOString(),totalRecords:t.reduce((e,r)=>e+r.tradeCount,0),agents:t.map(e=>e.agentId),pillarCount:Object.keys(Ex).length},agents:t,health:Zy()}}import{createHash as N1t}from"crypto";var kr=[],C1t=5e3;function O1t(t){let e=JSON.stringify({entryId:t.entryId,sequenceNumber:t.sequenceNumber,previousHash:t.previousHash,agentId:t.agentId,roundId:t.roundId,action:t.action,symbol:t.symbol,reasoning:t.reasoning,confidence:t.confidence,timestamp:t.timestamp});return N1t("sha256").update(e).digest("hex")}function X0r(t){let e=Object.entries(t).sort(([r],[n])=>r.localeCompare(n));return N1t("sha256").update(JSON.stringify(e)).digest("hex")}function P1t(t){let e=kr.length,r=kr.length>0?kr[kr.length-1].entryHash:"genesis",n=`le_${Date.now()}_${Math.random().toString(36).slice(2,8)}`,i=t.marketPrices[t.symbol]??t.marketPrices[t.symbol.toLowerCase()]??null,o={entryId:n,sequenceNumber:e,previousHash:r,agentId:t.agentId,roundId:t.roundId,action:t.action,symbol:t.symbol,quantity:t.quantity,reasoning:t.reasoning,confidence:t.confidence,intent:t.intent,sources:t.sources,predictedOutcome:t.predictedOutcome,marketSnapshotHash:X0r(t.marketPrices),priceAtTrade:i,coherenceScore:t.coherenceScore,hallucinationFlags:t.hallucinationFlags,disciplinePass:t.disciplinePass,depthScore:t.depthScore,forensicScore:t.forensicScore,efficiencyScore:t.efficiencyScore,outcomeResolved:!1,outcomeCorrect:null,pnlPercent:null,outcomeTimestamp:null,witnesses:t.witnesses,timestamp:new Date().toISOString(),benchmarkVersion:"v17"},s=O1t(o),a={...o,entryHash:s};return kr.push(a),kr.length>C1t&&kr.splice(0,kr.length-C1t),a}function KG(){if(kr.length===0)return{intact:!0,brokenAt:null,totalChecked:0,genesisHash:"empty",latestHash:"empty"};for(let t=0;t<kr.length;t++){let e=kr[t],{entryHash:r,...n}=e;if(O1t(n)!==r)return{intact:!1,brokenAt:t,totalChecked:t+1,genesisHash:kr[0].entryHash,latestHash:kr[kr.length-1].entryHash};if(t>0&&e.previousHash!==kr[t-1].entryHash)return{intact:!1,brokenAt:t,totalChecked:t+1,genesisHash:kr[0].entryHash,latestHash:kr[kr.length-1].entryHash}}return{intact:!0,brokenAt:null,totalChecked:kr.length,genesisHash:kr[0].entryHash,latestHash:kr[kr.length-1].entryHash}}function _O(){let t={};for(let r of kr)t[r.agentId]||(t[r.agentId]={entries:0,avgCoherence:0,avgDepth:0,hallucinationRate:0,outcomeResolvedRate:0,outcomeAccuracyRate:0}),t[r.agentId].entries++;for(let[r,n]of Object.entries(t)){let i=kr.filter(s=>s.agentId===r);n.avgCoherence=i.reduce((s,a)=>s+a.coherenceScore,0)/i.length,n.avgDepth=i.reduce((s,a)=>s+a.depthScore,0)/i.length,n.hallucinationRate=i.filter(s=>s.hallucinationFlags.length>0).length/i.length;let o=i.filter(s=>s.outcomeResolved);n.outcomeResolvedRate=o.length/i.length,n.outcomeAccuracyRate=o.length>0?o.filter(s=>s.outcomeCorrect).length/o.length:0}let e=KG();return{totalEntries:kr.length,chainIntact:e.intact,agentBreakdown:t,lastEntryHash:kr.length>0?kr[kr.length-1].entryHash:"empty",lastSequence:kr.length>0?kr[kr.length-1].sequenceNumber:-1,oldestEntry:kr.length>0?kr[0].timestamp:null,newestEntry:kr.length>0?kr[kr.length-1].timestamp:null}}var k1t=new Map,xO=new Map,D1t=300;function Y0r(t){let e=t.filter(c=>c.action!=="hold"),r=1-e.length/Math.max(1,t.length),n=e.length>0?e.reduce((c,l)=>c+l.quantity,0)/e.length:0,i=e.filter(c=>c.confidence>.7).length,o=Math.min(1,(1-r)*.4+Math.min(1,n/2e3)*.3+i/Math.max(1,e.length)*.3),s=[];s.push(`Hold rate: ${(r*100).toFixed(0)}%`),s.push(`Avg trade size: ${n.toFixed(0)}`),s.push(`High-confidence trades: ${i}/${e.length}`);let a="cautious";return o>.7?a="aggressive":o>.4&&(a="moderate"),{name:"risk_appetite",score:o,phenotype:a,evidence:s,sampleSize:t.length}}function Z0r(t){let e=t.filter(p=>p.action!=="hold");if(e.length<3)return{name:"conviction",score:.5,phenotype:"undetermined",evidence:["Insufficient data"],sampleSize:e.length};let r=e.map(p=>({conf:p.confidence,qty:p.quantity})),n=r.reduce((p,f)=>p+f.conf,0)/r.length,i=r.reduce((p,f)=>p+f.qty,0)/r.length,o=0,s=0,a=0;for(let p of r){let f=p.conf-n,h=p.qty-i;o+=f*h,s+=f*f,a+=h*h}let c=s>0&&a>0?o/(Math.sqrt(s)*Math.sqrt(a)):0,l=Math.max(0,Math.min(1,(c+1)/2)),u=[];u.push(`Confidence-size correlation: ${c.toFixed(3)}`),u.push(`Avg confidence: ${(n*100).toFixed(0)}%`);let d="inconsistent";return l>.65?d="high_conviction":l>.4&&(d="moderate_conviction"),{name:"conviction",score:l,phenotype:d,evidence:u,sampleSize:e.length}}function e1r(t){let e=t.filter(a=>a.pnlAfter!==null);if(e.length<5)return{name:"adaptability",score:.5,phenotype:"undetermined",evidence:["Insufficient outcome data"],sampleSize:e.length};let r=0,n=0;for(let a=1;a<e.length;a++){let c=e[a-1],l=e[a];if(c.pnlAfter!==null&&c.pnlAfter<0){n++;let u=l.action!==c.action,d=Math.abs(l.confidence-c.confidence)>.1,p=l.intent!==c.intent;(u||d||p)&&r++}}let i=n>0?r/n:.5,o=[];o.push(`Behavior changes after loss: ${r}/${n}`),o.push(`Adaptation rate: ${(i*100).toFixed(0)}%`);let s="rigid";return i>.6?s="adaptive":i>.3&&(s="semi_adaptive"),{name:"adaptability",score:i,phenotype:s,evidence:o,sampleSize:e.length}}function t1r(t){let e=t.filter(s=>s.consensusAction!==null&&s.action!=="hold");if(e.length<3)return{name:"contrarianism",score:.5,phenotype:"undetermined",evidence:["Insufficient consensus data"],sampleSize:e.length};let r=e.filter(s=>s.action!==s.consensusAction).length,n=r/e.length,i=[];i.push(`Went against consensus: ${r}/${e.length}`),i.push(`Contrarian rate: ${(n*100).toFixed(0)}%`);let o="conformist";return n>.6?o="contrarian":n>.3&&(o="independent"),{name:"contrarianism",score:n,phenotype:o,evidence:i,sampleSize:e.length}}function r1r(t){let e=t.reduce((a,c)=>a+c.coherenceScore,0)/Math.max(1,t.length),r=t.filter(a=>a.hallucinationCount>0).length/Math.max(1,t.length),n=t.reduce((a,c)=>a+c.reasoning.split(/\s+/).length,0)/Math.max(1,t.length),i=Math.min(1,e*.4+(1-r)*.3+Math.min(1,n/100)*.3),o=[];o.push(`Avg coherence: ${e.toFixed(2)}`),o.push(`Hallucination rate: ${(r*100).toFixed(0)}%`),o.push(`Avg reasoning length: ${n.toFixed(0)} words`);let s="shallow_processor";return i>.7?s="deep_processor":i>.4&&(s="moderate_processor"),{name:"information_processing",score:i,phenotype:s,evidence:o,sampleSize:t.length}}function n1r(t){let e=[/short[\s-]term/i,/long[\s-]term/i,/near[\s-]term/i,/next\s+(week|month|quarter|year)/i,/within\s+\d+\s+(day|week|hour)/i,/holding\s+period/i,/time\s+horizon/i,/temporary|transient/i,/sustainable|structural/i,/cycle|seasonal/i],r=0;for(let s of t)for(let a of e)if(a.test(s.reasoning)){r++;break}let n=Math.min(1,r/Math.max(1,t.length)),i=[];i.push(`Temporal reasoning mentions: ${r}/${t.length} trades`);let o="time_blind";return n>.6?o="temporally_aware":n>.3&&(o="occasionally_temporal"),{name:"temporal_awareness",score:n,phenotype:o,evidence:i,sampleSize:t.length}}function i1r(t){if(t.length<5)return{name:"emotional_regulation",score:.5,phenotype:"undetermined",evidence:["Insufficient data"],sampleSize:t.length};let e=Math.sqrt(t.reduce((o,s)=>{let a=t.reduce((c,l)=>c+l.confidence,0)/t.length;return o+(s.confidence-a)**2},0)/t.length),r=Math.max(0,1-e*3),n=[];n.push(`Confidence std dev: ${e.toFixed(3)}`);let i="volatile";return r>.6?i="regulated":r>.3&&(i="semi_regulated"),{name:"emotional_regulation",score:r,phenotype:i,evidence:n,sampleSize:t.length}}function o1r(t){if(t.length<10)return{name:"learning_rate",score:.5,phenotype:"undetermined",evidence:["Insufficient data"],sampleSize:t.length};let e=Math.floor(t.length/2),r=t.slice(0,e),n=t.slice(e),i=r.reduce((u,d)=>u+d.coherenceScore,0)/r.length,o=n.reduce((u,d)=>u+d.coherenceScore,0)/n.length,s=o-i,a=Math.max(0,Math.min(1,.5+s*2)),c=[];c.push(`First half coherence: ${i.toFixed(3)}`),c.push(`Second half coherence: ${o.toFixed(3)}`),c.push(`Improvement: ${s>0?"+":""}${(s*100).toFixed(1)}%`);let l="static_learner";return a>.6?l="fast_learner":a>.4&&(l="slow_learner"),{name:"learning_rate",score:a,phenotype:l,evidence:c,sampleSize:t.length}}function s1r(t,e){let r=[Y0r(e),Z0r(e),e1r(e),t1r(e),r1r(e),n1r(e),i1r(e),o1r(e)],i=r.map(l=>l.score.toFixed(4)).join(","),o=[...r].sort((l,u)=>u.score-l.score),s=`${o[0].name}:${o[0].phenotype}`,a=xO.get(t),c=.5;if(a){let l=a.genes.map(h=>h.score),u=r.map(h=>h.score),d=l.reduce((h,m,g)=>h+m*u[g],0),p=Math.sqrt(l.reduce((h,m)=>h+m*m,0)),f=Math.sqrt(u.reduce((h,m)=>h+m*m,0));c=p>0&&f>0?d/(p*f):.5}return{agentId:t,genes:r,genomeHash:i,similarity:{},dominantPhenotype:s,genomeStability:c,lastUpdated:new Date().toISOString(),tradesSampled:e.length}}function M1t(t){let e=k1t.get(t.agentId)??[];if(e.push(t),e.length>D1t&&e.splice(0,e.length-D1t),k1t.set(t.agentId,e),e.length%5===0||e.length<10){let r=s1r(t.agentId,e);for(let[n,i]of xO.entries()){if(n===t.agentId)continue;let o=a1r(r.genes.map(s=>s.score),i.genes.map(s=>s.score));r.similarity[n]=o,i.similarity[t.agentId]=o}xO.set(t.agentId,r)}}function a1r(t,e){if(t.length!==e.length||t.length===0)return 0;let r=t.reduce((o,s,a)=>o+s*e[a],0),n=Math.sqrt(t.reduce((o,s)=>o+s*s,0)),i=Math.sqrt(e.reduce((o,s)=>o+s*s,0));return n>0&&i>0?r/(n*i):0}function Hve(){return[...xO.values()]}function L1t(t){let e=xO.get(t);if(!e)return .5;let r=[.1,.15,.15,.1,.2,.1,.1,.1];return e.genes.reduce((n,i,o)=>n+i.score*(r[o]??.125),0)}var QG=new rn,Tx=[],B1t=200;function $1t(t,e,r){Tx.push({type:t,data:e,agentId:r,timestamp:Date.now()}),Tx.length>B1t&&Tx.splice(0,Tx.length-B1t)}QG.get("/data",t=>{let e=bd(),r=Zy(),n=_O(),i=KG(),o=Hve();return t.json({ok:!0,version:"v17",timestamp:new Date().toISOString(),pillarCount:Object.keys(Ex).length,pillarWeights:Ex,rankings:e.map(s=>({rank:s.rank,agentId:s.agentId,provider:s.provider,model:s.model,composite:s.composite,grade:s.grade,eloRating:s.eloRating,streak:s.streak,tradeCount:s.tradeCount,dataQuality:s.dataQuality,pillars:s.pillars.map(a=>({name:a.name,score:a.score,grade:a.grade,weight:a.weight,trend:a.trend})),strengths:s.strengths,weaknesses:s.weaknesses})),health:r,ledger:{totalEntries:n.totalEntries,chainIntact:n.chainIntact,lastHash:n.lastEntryHash.slice(0,16)+"...",agentBreakdown:n.agentBreakdown},integrity:{intact:i.intact,totalChecked:i.totalChecked,genesisHash:i.genesisHash.slice(0,16)+"...",latestHash:i.latestHash.slice(0,16)+"..."},genomes:o.map(s=>({agentId:s.agentId,dominantPhenotype:s.dominantPhenotype,genomeStability:s.genomeStability,tradesSampled:s.tradesSampled,genes:s.genes.map(a=>({name:a.name,score:a.score,phenotype:a.phenotype})),similarity:s.similarity})),recentEvents:Tx.slice(-20)})});QG.get("/stream",t=>{let e=0,r=new ReadableStream({start(n){let i=new TextEncoder;n.enqueue(i.encode(`data: ${JSON.stringify({type:"connected",version:"v17"})}

`));let o=setInterval(()=>{let s=Tx.filter(a=>a.timestamp>e);for(let a of s)n.enqueue(i.encode(`data: ${JSON.stringify(a)}

`)),e=a.timestamp},2e3);setTimeout(()=>{clearInterval(o);try{n.close()}catch{}},3e5)}});return new Response(r,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});QG.get("/export",t=>{let e=WG();if((t.req.query("format")??"json")==="jsonl"){let n=e.agents.map(i=>JSON.stringify(i)).join(`
`);return new Response(n,{headers:{"Content-Type":"application/jsonl","Content-Disposition":"attachment; filename=moltapp-v17-benchmark.jsonl"}})}return t.json(e)});function c1r(t,e){let r=Math.round(t*100),n=t>=.8?"#22c55e":t>=.6?"#eab308":t>=.4?"#f97316":"#ef4444";return`<div style="margin:2px 0"><span style="display:inline-block;width:130px;font-size:11px;color:#94a3b8">${e}</span><div style="display:inline-block;width:120px;height:12px;background:#1e293b;border-radius:3px;overflow:hidden;vertical-align:middle"><div style="width:${r}%;height:100%;background:${n}"></div></div><span style="font-size:11px;color:${n};margin-left:4px">${r}%</span></div>`}function l1r(t){return t.startsWith("A")?"#22c55e":t.startsWith("B")?"#3b82f6":t.startsWith("C")?"#eab308":t.startsWith("D")?"#f97316":"#ef4444"}function u1r(t){let e=t.pillars.map(n=>c1r(n.score,n.name)).join(""),r=l1r(t.grade);return`
    <div style="background:#0f172a;border:1px solid #1e293b;border-radius:12px;padding:20px;margin:12px 0">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
        <div>
          <span style="font-size:24px;font-weight:700;color:${r}">#${t.rank}</span>
          <span style="font-size:18px;font-weight:600;color:#f1f5f9;margin-left:8px">${t.agentId}</span>
          <span style="font-size:12px;color:#64748b;margin-left:8px">${t.provider} / ${t.model}</span>
        </div>
        <div style="text-align:right">
          <div style="font-size:32px;font-weight:800;color:${r}">${t.grade}</div>
          <div style="font-size:14px;color:#94a3b8">${(t.composite*100).toFixed(1)}% composite</div>
          <div style="font-size:12px;color:#64748b">Elo: ${t.eloRating} | Trades: ${t.tradeCount}</div>
        </div>
      </div>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px">
        <div>${e}</div>
        <div style="padding-left:12px">
          <div style="font-size:12px;color:#22c55e;margin-bottom:4px">Strengths</div>
          ${t.strengths.map(n=>`<div style="font-size:11px;color:#94a3b8">+ ${n}</div>`).join("")}
          <div style="font-size:12px;color:#f97316;margin-top:8px;margin-bottom:4px">Weaknesses</div>
          ${t.weaknesses.map(n=>`<div style="font-size:11px;color:#94a3b8">- ${n}</div>`).join("")}
        </div>
      </div>
    </div>`}QG.get("/",t=>{let e=bd(),r=Zy(),n=_O(),i=KG(),o=Hve(),s=Tx.slice(-10),a=e.map(u1r).join(""),c=o.map(d=>{let p=d.genes.map(f=>`<span style="display:inline-block;padding:2px 8px;margin:2px;border-radius:4px;font-size:11px;background:${f.score>=.6?"#14532d":f.score>=.4?"#713f12":"#7f1d1d"};color:${f.score>=.6?"#86efac":f.score>=.4?"#fcd34d":"#fca5a5"}">${f.name}: ${f.phenotype} (${(f.score*100).toFixed(0)}%)</span>`).join("");return`<div style="margin:8px 0"><strong style="color:#e2e8f0">${d.agentId}</strong> <span style="color:#64748b">stability: ${(d.genomeStability*100).toFixed(0)}%</span><br/>${p}</div>`}).join(""),l=s.length>0?s.map(d=>`<div style="padding:4px 0;border-bottom:1px solid #1e293b;font-size:11px"><span style="color:#3b82f6">${d.type}</span> <span style="color:#64748b">${d.agentId??""}</span> <span style="color:#94a3b8">${JSON.stringify(d.data).slice(0,120)}</span></div>`).join(""):'<div style="color:#64748b;font-size:12px">No events yet. Run a trading round to generate benchmark data.</div>',u=`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>MoltApp Benchmark v17 \u2014 AI Trading Intelligence</title>
  <meta name="description" content="Industry-standard AI trading benchmark with 16-pillar scoring, forensic ledger, and strategy genomes."/>
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{background:#020617;color:#e2e8f0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;min-height:100vh}
    .container{max-width:1200px;margin:0 auto;padding:20px}
    .header{text-align:center;padding:40px 0 20px}
    .header h1{font-size:36px;font-weight:800;background:linear-gradient(135deg,#3b82f6,#8b5cf6,#ec4899);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
    .badges{display:flex;gap:8px;justify-content:center;margin-top:12px;flex-wrap:wrap}
    .badge{display:inline-block;padding:4px 12px;border-radius:999px;font-size:12px;font-weight:600}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin:20px 0}
    .card{background:#0f172a;border:1px solid #1e293b;border-radius:12px;padding:16px}
    .card h3{font-size:14px;color:#94a3b8;margin-bottom:8px;text-transform:uppercase;letter-spacing:1px}
    .stat{font-size:28px;font-weight:700;color:#f1f5f9}
    .sub{font-size:12px;color:#64748b}
    @media(max-width:768px){.grid{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>MoltApp Benchmark v17</h1>
      <p style="color:#94a3b8;margin-top:8px">Industry-Standard AI Trading Intelligence Benchmark</p>
      <div class="badges">
        <span class="badge" style="background:#1e3a5f;color:#60a5fa">16 Pillars</span>
        <span class="badge" style="background:#3f1d5c;color:#c084fc">Forensic Ledger</span>
        <span class="badge" style="background:#1e3a2f;color:#86efac">Strategy Genomes</span>
        <span class="badge" style="background:#3f1d1d;color:#fca5a5">Live on Solana</span>
        <a href="https://huggingface.co/datasets/patruff/molt-benchmark" style="text-decoration:none"><span class="badge" style="background:#1a1a2e;color:#fbbf24">HuggingFace Dataset</span></a>
        <a href="https://www.patgpt.us" style="text-decoration:none"><span class="badge" style="background:#1a2e1a;color:#86efac">patgpt.us</span></a>
      </div>
    </div>

    <div class="grid">
      <div class="card">
        <h3>Benchmark Health</h3>
        <div class="stat">${r.totalAgents} Agents</div>
        <div class="sub">${r.totalTrades} total trades | Data quality: ${(r.avgDataQuality*100).toFixed(0)}%</div>
        <div class="sub">Uptime: ${Math.round(r.uptime/6e4)} min | ${r.warnings.length} warning(s)</div>
      </div>
      <div class="card">
        <h3>Forensic Ledger</h3>
        <div class="stat">${n.totalEntries} Entries</div>
        <div class="sub">Chain: ${i.intact?"INTACT":"BROKEN"} | Hash: ${n.lastEntryHash.slice(0,12)}...</div>
        <div class="sub">${i.totalChecked} hashes verified</div>
      </div>
    </div>

    <h2 style="font-size:20px;margin:24px 0 12px;color:#f1f5f9">Agent Rankings</h2>
    ${a||'<div style="color:#64748b;padding:20px;text-align:center">No agents scored yet. Run trading rounds to populate the benchmark.</div>'}

    <h2 style="font-size:20px;margin:24px 0 12px;color:#f1f5f9">Strategy Genomes</h2>
    <div class="card">
      ${c||'<div style="color:#64748b">Genome data populates as agents trade. Each agent develops a unique behavioral DNA profile.</div>'}
    </div>

    <h2 style="font-size:20px;margin:24px 0 12px;color:#f1f5f9">Live Event Feed</h2>
    <div class="card" style="max-height:300px;overflow-y:auto">
      ${l}
    </div>

    <div style="text-align:center;margin-top:40px;padding:20px;color:#64748b;font-size:12px">
      <p>MoltApp v17 \u2014 AI Trading Benchmark | <a href="/benchmark-v17/data" style="color:#3b82f6">API</a> | <a href="/benchmark-v17/stream" style="color:#3b82f6">Stream</a> | <a href="/benchmark-v17/export" style="color:#3b82f6">Export</a></p>
      <p style="margin-top:4px"><a href="https://huggingface.co/datasets/patruff/molt-benchmark" style="color:#fbbf24">HuggingFace Dataset</a> | <a href="https://www.patgpt.us" style="color:#86efac">patgpt.us</a></p>
    </div>
  </div>

  <script>
    // Auto-refresh data every 45 seconds
    setTimeout(() => location.reload(), 45000);
  </script>
</body>
</html>`;return t.html(u)});var XG=new Map,U1t=new Map,F1t=200;function d1r(t,e,r){if(!(e==="up"&&r==="negative"||e==="down"&&r==="positive"))return{conflictPresent:!1,agentAcknowledged:!1,score:1};let o=[/despite|although|however|nevertheless|contrary to|conflicting|mixed signals/i,/price.*(?:up|rising|gain).*(?:negative|bearish|concerning|worry)/i,/price.*(?:down|fall|decline).*(?:positive|bullish|favorable|good)/i,/diverge|disconnect|inconsistent|paradox|contradiction/i,/on one hand.*on the other/i,/risk.*reward/i].some(a=>a.test(t));return{conflictPresent:!0,agentAcknowledged:o,score:o?1:.3}}function p1r(t,e,r){let n=[],i=[/all.time\s+high/i,/52.week\s+(?:high|low)/i,/used\s+to\s+(?:be|trade)\s+at/i,/was\s+(?:once|previously)\s+(?:at\s+)?\$[\d,.]+/i,/down\s+\d+%\s+from\s+(?:its\s+)?(?:peak|high|ath)/i,/compared\s+to\s+(?:its\s+)?(?:previous|past|historical)/i];for(let d of i){let p=t.match(d);p&&n.push(p[0])}let s=[/current(?:ly)?\s+(?:at|trading|priced)/i,/today|this\s+session|right\s+now/i,/latest\s+(?:price|data|reading)/i,/as\s+of\s+(?:now|today)/i].some(d=>d.test(t)),a=t.match(/\$[\d,]+\.?\d*/g)??[],c=0,l=0;for(let d of a){let p=parseFloat(d.replace(/[$,]/g,""));p>0&&(Math.abs(p-e)/e<.2?c++:l++)}let u=1;return n.length>0&&!s&&(u-=.3),n.length>2&&(u-=.2),l>c&&a.length>0&&(u-=.15),{score:Math.max(0,Math.min(1,u)),anchoredReferences:n}}function f1r(t,e,r){let n=[],i=[];if(r.hasZeroVolume&&(/volume|liquid|thin|illiquid/i.test(t)?n.push("zero_volume_acknowledged"):i.push("zero_volume_ignored")),r.hasMissingData&&(/missing|unavailable|no data|insufficient|incomplete/i.test(t)?n.push("missing_data_acknowledged"):i.push("missing_data_ignored")),r.hasExtremeMove){let a=r.extremeMovePercent??0;/extreme|unusual|abnormal|volatile|spike|crash|surge|halt/i.test(t)?n.push(`extreme_move_${a>0?"up":"down"}_acknowledged`):i.push(`extreme_move_${Math.abs(a).toFixed(0)}pct_ignored`),e!=="hold"&&i.length>0&&i.push("traded_into_extreme_without_acknowledgment")}let o=n.length+i.length;return{score:o>0?n.length/o:1,handledEdgeCases:n,missedEdgeCases:i}}function m1r(t,e,r){let n=[],i=(t.match(/loss|lose|losing|lost|decline|drop|fall|crash/gi)??[]).length,o=(t.match(/gain|win|profit|rise|growth|rally|surge/gi)??[]).length,s=i+o;if(s>0){let d=i/s;d>.75&&e==="buy"&&n.push("loss_framing_with_buy_decision"),d<.25&&e==="sell"&&n.push("gain_framing_with_sell_decision")}[/just\s+(?:yesterday|today|recently)/i,/in\s+the\s+last\s+(?:few|24)\s+(?:hours|minutes)/i,/this\s+morning|this\s+afternoon/i].filter(d=>d.test(t)).length>=2&&n.push("heavy_recency_bias");let l=t.split(/\s+/).length;return r>.85&&l<40&&n.push("overconfident_with_thin_reasoning"),/already\s+invested|can't\s+sell\s+now|cost\s+basis|break\s+even/i.test(t)&&n.push("sunk_cost_language"),{score:Math.max(0,1-n.length*.2),framingBiasIndicators:n}}function z1t(t,e,r,n,i,o,s){let a=d1r(e,s.priceDirection,s.newsDirection),c=p1r(e,o,n),l=f1r(e,r,s),u=m1r(e,r,i),d=[];!a.agentAcknowledged&&a.conflictPresent&&d.push("Missed conflicting signals between price and news");for(let f of c.anchoredReferences)d.push(`Anchored to historical: ${f}`);for(let f of l.missedEdgeCases)d.push(`Edge case missed: ${f}`);for(let f of u.framingBiasIndicators)d.push(`Framing bias: ${f}`);return{overallScore:Math.round((a.score*.25+c.score*.25+l.score*.25+u.score*.25)*1e3)/1e3,signalConflict:a,anchoring:c,edgeCases:l,framing:u,vulnerabilities:d}}function V1t(t,e,r){let n=XG.get(t)??[];n.push({testId:`adv_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,agentId:t,testType:"signal_conflict",baselineReasoning:"",adversarialReasoning:"",baselineAction:"",adversarialAction:"",susceptibility:1-e.overallScore,vulnerabilities:e.vulnerabilities,adversarialAwareness:e.vulnerabilities.length===0,timestamp:new Date().toISOString()}),n.length>F1t&&n.splice(0,n.length-F1t),XG.set(t,n)}function H1t(t){let e=U1t.get(t.agentId)??[];e.push(t),e.length>100&&e.splice(0,e.length-100),U1t.set(t.agentId,e)}function G1t(t){let e=XG.get(t)??[];if(e.length===0)return{agentId:t,overallScore:.5,testCount:0,scores:{signalConflict:.5,anchoringResistance:.5,noiseSensitivity:.5,edgeCaseHandling:.5,framingConsistency:.5},topVulnerabilities:[],trend:"stable",lastUpdated:new Date().toISOString()};let r=e.reduce((d,p)=>d+p.susceptibility,0)/e.length,n=new Map;for(let d of e)for(let p of d.vulnerabilities)n.set(p,(n.get(p)??0)+1);let i=[...n.entries()].sort((d,p)=>p[1]-d[1]).slice(0,5).map(([d])=>d),o=Math.floor(e.length/2),s=e.slice(0,o),a=e.slice(o),c=s.length>0?s.reduce((d,p)=>d+p.susceptibility,0)/s.length:0,l=a.length>0?a.reduce((d,p)=>d+p.susceptibility,0)/a.length:0,u=l<c-.05?"improving":l>c+.05?"declining":"stable";return{agentId:t,overallScore:Math.round((1-r)*1e3)/1e3,testCount:e.length,scores:{signalConflict:.5,anchoringResistance:.5,noiseSensitivity:.5,edgeCaseHandling:.5,framingConsistency:.5},topVulnerabilities:i,trend:u,lastUpdated:new Date().toISOString()}}function Gve(){return[...XG.keys()].map(G1t)}function T6(t){return G1t(t).overallScore}var YG=new Map,j1t=500;function q1t(t){let e=YG.get(t.agentId)??[];e.push(t),e.length>j1t&&e.splice(0,e.length-j1t),YG.set(t.agentId,e)}function h1r(t){let e=[],r=new Map;for(let s of t)if(s.wasCorrect===!1){let a=`${s.symbol}_${s.action}`,c=r.get(a)??[];c.push(s),r.set(a,c)}for(let[s,a]of r)if(a.length>=2){let[c,l]=s.split("_");e.push({type:"repeated_losing_trade",symbol:c,occurrences:a.length,firstSeen:a[0].timestamp,lastSeen:a[a.length-1].timestamp,description:`Agent keeps ${l}ing ${c} and losing (${a.length} times)`})}let n=new Map;for(let s of t)s.coherenceScore<.4&&n.set(s.symbol,(n.get(s.symbol)??0)+1);for(let[s,a]of n)a>=3&&e.push({type:"persistent_incoherence",symbol:s,occurrences:a,firstSeen:t.find(c=>c.symbol===s&&c.coherenceScore<.4)?.timestamp??"",lastSeen:[...t].reverse().find(c=>c.symbol===s&&c.coherenceScore<.4)?.timestamp??"",description:`Agent consistently produces low-coherence reasoning for ${s} (${a} times)`});let i=e.reduce((s,a)=>s+a.occurrences,0),o=t.length>0?Math.max(0,1-i/(t.length*.3)):.5;return{score:Math.round(o*1e3)/1e3,patterns:e}}function g1r(t){let e=0,r=0,n=new Map;for(let o of t){let s=n.get(o.symbol)??[];s.push(o),n.set(o.symbol,s)}for(let o of n.values())for(let s=1;s<o.length;s++){let a=o[s-1],c=o[s];if(a.wasCorrect===!1){r++;let l=c.action!==a.action,u=c.confidence<a.confidence-.05,d=c.intent!==a.intent;(l||u||d)&&e++}}let i=r>0?e/r:.5;return{score:Math.round(i*1e3)/1e3}}function y1r(t){if(t.length<10)return{score:.5};let e=Math.floor(t.length/2),r=t.slice(0,e),n=t.slice(e),i=new Map,o=new Map;for(let h of r)i.set(h.intent,(i.get(h.intent)??0)+1);for(let h of n)o.set(h.intent,(o.get(h.intent)??0)+1);let s=h=>{let m=[...h.values()].reduce((b,_)=>b+_,0);if(m===0)return 0;let g=0;for(let b of h.values()){let _=b/m;_>0&&(g-=_*Math.log2(_))}return g},a=s(i),l=s(o)-a,u=r.reduce((h,m)=>h+m.coherenceScore,0)/r.length,p=n.reduce((h,m)=>h+m.coherenceScore,0)/n.length-u,f=.5;return l>.1&&(f+=.15),l>.3&&(f+=.1),p>.05&&(f+=.15),p>.1&&(f+=.1),{score:Math.round(Math.min(1,Math.max(0,f))*1e3)/1e3}}function b1r(t){let e=new Map;for(let o of t){let s=e.get(o.symbol)??[];s.push(o),e.set(o.symbol,s)}let r=0,n=0;for(let o of e.values()){if(o.length<3)continue;n++;let s=Math.floor(o.length/2),a=o.slice(0,s).reduce((l,u)=>l+u.coherenceScore,0)/s;o.slice(s).reduce((l,u)=>l+u.coherenceScore,0)/(o.length-s)>a+.03&&r++}let i=n>0?r/n:.5;return{score:Math.round(Math.max(0,Math.min(1,i*.8+.2))*1e3)/1e3}}function v1r(t){let e=0,r=0;for(let i=1;i<t.length;i++){let o=t[i-1],s=t[i];o.wasCorrect===!1&&o.confidence>.6&&(r++,s.confidence<o.confidence-.05&&e++)}let n=r>0?e/r:.5;return{score:Math.round(Math.max(0,Math.min(1,n))*1e3)/1e3}}function J1t(t){let e=YG.get(t)??[];if(e.length<5)return{agentId:t,memoryScore:.5,totalEntries:e.length,dimensions:{mistakeRepetition:.5,lessonRetention:.5,strategyEvolution:.5,symbolKnowledge:.5,confidenceRecalibration:.5},repeatedMistakes:[],learningCurve:[],memoryStrengths:[],memoryWeaknesses:[],trend:"stable",lastUpdated:new Date().toISOString()};let r=h1r(e),n=g1r(e),i=y1r(e),o=b1r(e),s=v1r(e),a={mistakeRepetition:r.score,lessonRetention:n.score,strategyEvolution:i.score,symbolKnowledge:o.score,confidenceRecalibration:s.score},c=Math.round((a.mistakeRepetition*.25+a.lessonRetention*.25+a.strategyEvolution*.2+a.symbolKnowledge*.15+a.confidenceRecalibration*.15)*1e3)/1e3,l=10,u=[];for(let b=l;b<=e.length;b+=l){let _=e.slice(b-l,b),x=_.reduce((E,R)=>E+R.coherenceScore,0)/_.length;u.push({round:b,score:Math.round(x*1e3)/1e3})}let d=[],p=[];a.mistakeRepetition>.7?d.push("Avoids repeating mistakes"):a.mistakeRepetition<.4&&p.push("Repeats losing patterns"),a.lessonRetention>.7?d.push("Learns from losses"):a.lessonRetention<.4&&p.push("Does not adapt after losses"),a.strategyEvolution>.7?d.push("Evolves strategy over time"):a.strategyEvolution<.4&&p.push("Static strategy regardless of conditions"),a.symbolKnowledge>.7?d.push("Builds stock-specific expertise"):a.symbolKnowledge<.4&&p.push("No improvement on familiar stocks"),a.confidenceRecalibration>.7?d.push("Adjusts confidence after misses"):a.confidenceRecalibration<.4&&p.push("Stays overconfident after errors");let f=Math.floor(e.length/2),h=e.slice(0,f).reduce((b,_)=>b+_.coherenceScore,0)/f,m=e.slice(f).reduce((b,_)=>b+_.coherenceScore,0)/(e.length-f),g=m>h+.05?"improving":m<h-.05?"declining":"stable";return{agentId:t,memoryScore:c,totalEntries:e.length,dimensions:a,repeatedMistakes:r.patterns,learningCurve:u,memoryStrengths:d,memoryWeaknesses:p,trend:g,lastUpdated:new Date().toISOString()}}function jve(){return[...YG.keys()].map(J1t)}function R6(t){return J1t(t).memoryScore}var Fc=[],eb=[];function W1t(t){Fc.push(t),Fc.length>200&&Fc.splice(0,Fc.length-200);let e=_1r(t);for(let r of e)eb.push(r),eb.length>100&&eb.splice(0,eb.length-100)}function _1r(t){let e=[];if(Fc.length<5)return e;let r=Fc.slice(-10),n=Fc.slice(-30,-10);if(n.length<5)return e;let i=Ha(r,b=>{let _=Object.values(b.agentScores);return _.length>0?_.reduce((x,E)=>x+E,0)/_.length:0}),o=Ha(n,b=>{let _=Object.values(b.agentScores);return _.length>0?_.reduce((x,E)=>x+E,0)/_.length:0}),s=Math.abs(i-o);s>.15&&e.push({id:`reg_${Date.now()}_drift`,type:"scoring_drift",severity:s>.25?"high":"medium",description:`Composite scores shifted by ${(s*100).toFixed(1)}% \u2014 may indicate scoring formula drift or data quality change`,metric:"avg_composite_score",expectedRange:[o-.1,o+.1],actualValue:i,recommendation:"Review recent scoring weight changes or data pipeline for anomalies",timestamp:new Date().toISOString()});let a=Ha(r,b=>b.agentScoreSpread);a<.03&&e.push({id:`reg_${Date.now()}_conv`,type:"agent_convergence",severity:a<.01?"high":"medium",description:`Agent score spread is only ${(a*100).toFixed(1)}% \u2014 benchmark is not differentiating agents well`,metric:"agent_score_spread",expectedRange:[.05,.3],actualValue:a,recommendation:"Increase weight of differentiating pillars (financial, battle, patterns)",timestamp:new Date().toISOString()});let c=Ha(r,b=>b.coherenceAvg),l=Ha(n,b=>b.coherenceAvg);c>l+.15&&c>.85&&e.push({id:`reg_${Date.now()}_coh_inf`,type:"coherence_inflation",severity:"medium",description:`Coherence scores inflated from ${(l*100).toFixed(0)}% to ${(c*100).toFixed(0)}% \u2014 agents may be gaming the coherence scorer`,metric:"avg_coherence",expectedRange:[.5,.8],actualValue:c,recommendation:"Review coherence scoring methodology for gaming vectors",timestamp:new Date().toISOString()});let u=Ha(r,b=>b.hallucinationRate),d=Ha(n,b=>b.hallucinationRate);u>d+.1&&e.push({id:`reg_${Date.now()}_hall`,type:"hallucination_spike",severity:u>.3?"high":"medium",description:`Hallucination rate spiked from ${(d*100).toFixed(0)}% to ${(u*100).toFixed(0)}%`,metric:"hallucination_rate",expectedRange:[0,.15],actualValue:u,recommendation:"Check if market data pipeline has issues causing agents to hallucinate",timestamp:new Date().toISOString()});let p=Ha(r,b=>b.avgReasoningLength),f=Ha(n,b=>b.avgReasoningLength);p<f*.6&&e.push({id:`reg_${Date.now()}_len`,type:"reasoning_length_drift",severity:"medium",description:`Avg reasoning length dropped from ${Math.round(f)} to ${Math.round(p)} words`,metric:"avg_reasoning_length",expectedRange:[f*.8,f*1.5],actualValue:p,recommendation:"Review agent prompts or increase minimum reasoning length requirement",timestamp:new Date().toISOString()});let h=Ha(r,b=>b.calibrationAvg),m=Ha(n,b=>b.calibrationAvg);h<m-.1&&h<.5&&e.push({id:`reg_${Date.now()}_calib`,type:"calibration_decay",severity:h<.3?"high":"medium",description:`Calibration quality dropped from ${(m*100).toFixed(0)}% to ${(h*100).toFixed(0)}%`,metric:"calibration_avg",expectedRange:[.5,1],actualValue:h,recommendation:"Agents may need confidence recalibration prompting",timestamp:new Date().toISOString()});let g=Object.values(t.pillarAverages);if(g.length>=3){let b=K1t(g);if(b>.25){let _=Object.entries(t.pillarAverages).sort((E,R)=>R[1]-E[1])[0],x=Object.entries(t.pillarAverages).sort((E,R)=>E[1]-R[1])[0];e.push({id:`reg_${Date.now()}_imb`,type:"pillar_imbalance",severity:"low",description:`Pillar scores vary widely: ${_[0]}=${(_[1]*100).toFixed(0)}% vs ${x[0]}=${(x[1]*100).toFixed(0)}%`,metric:"pillar_std_dev",expectedRange:[0,.2],actualValue:b,recommendation:`Consider rebalancing pillar weights \u2014 ${x[0]} may need methodology review`,timestamp:new Date().toISOString()})}}return e}function Ha(t,e){return t.length===0?0:t.reduce((r,n)=>r+e(n),0)/t.length}function K1t(t){if(t.length<2)return 0;let e=t.reduce((n,i)=>n+i,0)/t.length,r=t.reduce((n,i)=>n+(i-e)**2,0)/t.length;return Math.sqrt(r)}function qve(){if(Fc.length<3)return{overallHealth:.8,status:"healthy",activeAlerts:[],snapshotCount:Fc.length,dimensions:{scoringStability:.8,pillarBalance:.8,agentDiversity:.8,dataFreshness:.8,calibrationQuality:.8},recommendations:["Collect more data for meaningful regression detection"],trend:"stable",lastUpdated:new Date().toISOString()};let t=Fc.slice(-10),e=[];for(let D=1;D<t.length;D++){let k=Object.values(t[D-1].agentScores),O=Object.values(t[D].agentScores);if(k.length>0&&O.length>0){let $=k.reduce((X,N)=>X+N,0)/k.length,j=O.reduce((X,N)=>X+N,0)/O.length;e.push(Math.abs(j-$))}}let r=e.length>0?e.reduce((D,k)=>D+k,0)/e.length:0,n=Math.max(0,1-r*5),i=t[t.length-1],o=Object.values(i.pillarAverages),s=K1t(o),a=Math.max(0,1-s*3),c=Math.min(1,i.agentScoreSpread*10),l=Ha(t,D=>D.avgReasoningLength),u=Math.min(1,l/80),d=Ha(t,D=>D.calibrationAvg),p={scoringStability:Math.round(n*1e3)/1e3,pillarBalance:Math.round(a*1e3)/1e3,agentDiversity:Math.round(c*1e3)/1e3,dataFreshness:Math.round(u*1e3)/1e3,calibrationQuality:Math.round(d*1e3)/1e3},f=Math.round((p.scoringStability*.25+p.pillarBalance*.2+p.agentDiversity*.25+p.dataFreshness*.15+p.calibrationQuality*.15)*1e3)/1e3,h=eb.filter(D=>D.severity==="high"||D.severity==="critical").length,m=h>=3?"critical":h>=1?"degraded":eb.length>3?"warning":"healthy",g=[];p.agentDiversity<.3&&g.push("Agent scores are too similar \u2014 consider adding more differentiating metrics"),p.scoringStability<.5&&g.push("Scoring is unstable \u2014 review recent methodology changes"),p.dataFreshness<.5&&g.push("Reasoning quality declining \u2014 review agent prompt engineering"),p.calibrationQuality<.4&&g.push("Confidence calibration is poor \u2014 agents need calibration feedback"),g.length===0&&g.push("Benchmark is operating within normal parameters");let b=Math.floor(Fc.length/2),_=Fc.slice(0,b),x=Fc.slice(b),E=Ha(_,D=>D.coherenceAvg),R=Ha(x,D=>D.coherenceAvg),I=R>E+.05?"improving":R<E-.05?"declining":"stable";return{overallHealth:f,status:m,activeAlerts:eb.slice(-20),snapshotCount:Fc.length,dimensions:p,recommendations:g,trend:I,lastUpdated:new Date().toISOString()}}function Q1t(){return eb.slice(-50)}var ZG=new rn,SO=[],X1t=200;function Y1t(t,e,r){SO.push({type:t,data:e,agentId:r,timestamp:Date.now()}),SO.length>X1t&&SO.splice(0,SO.length-X1t)}var Z1t={financial:.1,reasoning:.09,safety:.08,calibration:.07,patterns:.04,adaptability:.05,forensic_quality:.06,validation_quality:.07,prediction_accuracy:.05,reasoning_stability:.05,provenance_integrity:.05,model_comparison:.04,metacognition:.05,reasoning_efficiency:.04,forensic_ledger:.03,strategy_genome:.03,adversarial_robustness:.05,cross_session_memory:.05};ZG.get("/data",t=>{let e=bd(),r=Gve(),n=jve(),i=qve(),o=Q1t(),s=_O(),a=e.map(c=>{let l=r.find(f=>f.agentId===c.agentId),u=n.find(f=>f.agentId===c.agentId),d=S1r(c);d.adversarial_robustness=l?.overallScore??.5,d.cross_session_memory=u?.memoryScore??.5;let p=w1r(d);return{agentId:c.agentId,provider:c.provider,model:c.model,composite:p,grade:A1r(p),elo:c.eloRating,tradeCount:c.tradeCount,pillars:d,robustnessTrend:l?.trend??"stable",memoryTrend:u?.trend??"stable",memoryStrengths:u?.memoryStrengths??[],memoryWeaknesses:u?.memoryWeaknesses??[],topVulnerabilities:l?.topVulnerabilities??[]}});return a.sort((c,l)=>l.composite-c.composite),t.json({ok:!0,version:"v18",pillars:18,leaderboard:a,benchmarkHealth:{status:i.status,overallHealth:i.overallHealth,dimensions:i.dimensions,activeAlertCount:o.length,recommendations:i.recommendations},ledger:{totalEntries:s.totalEntries,chainIntact:s.chainIntact,resolvedOutcomes:Object.values(s.agentBreakdown).reduce((c,l)=>c+Math.round(l.entries*l.outcomeResolvedRate),0)},pillarWeights:Z1t,timestamp:new Date().toISOString()})});ZG.get("/stream",t=>{let e=parseInt(t.req.query("lastId")??"0",10),n=SO.filter(i=>i.timestamp>e).map(i=>`data: ${JSON.stringify({type:i.type,...i.data,agentId:i.agentId,ts:i.timestamp})}
`).join(`
`);return new Response(`${n}
`,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});ZG.get("/export",t=>{let e=WG(),r=Gve(),n=jve(),i=qve(),s=e.agents.map(a=>{let c=r.find(u=>u.agentId===a.agentId),l=n.find(u=>u.agentId===a.agentId);return{...a,v18_adversarial_robustness:c?.overallScore??null,v18_adversarial_vulnerabilities:c?.topVulnerabilities??[],v18_memory_score:l?.memoryScore??null,v18_memory_dimensions:l?.dimensions??null,v18_repeated_mistakes:l?.repeatedMistakes.length??0,v18_benchmark_health:i.overallHealth,v18_benchmark_status:i.status}}).map(a=>JSON.stringify(a)).join(`
`);return new Response(s,{headers:{"Content-Type":"application/jsonl","Content-Disposition":`attachment; filename="moltapp-v18-benchmark-${new Date().toISOString().split("T")[0]}.jsonl"`}})});ZG.get("/",t=>{let e=x1r();return t.html(e)});function x1r(){return`<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MoltApp Benchmark v18 \u2014 18-Pillar AI Trading Benchmark</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:#0a0e17;color:#e0e0e0;min-height:100vh}
.container{max-width:1400px;margin:0 auto;padding:20px}
header{text-align:center;padding:30px 0;border-bottom:1px solid #1a2035}
h1{font-size:2.2rem;background:linear-gradient(135deg,#00d4ff,#7c3aed,#ff6b6b);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:8px}
.subtitle{color:#8892a4;font-size:1.1rem}
.badge-row{display:flex;gap:10px;justify-content:center;margin-top:12px;flex-wrap:wrap}
.badge{display:inline-flex;align-items:center;gap:5px;padding:4px 12px;border-radius:20px;font-size:0.8rem;font-weight:600}
.badge-hf{background:#1a1a2e;color:#ffcc00;border:1px solid #ffcc0044}
.badge-pillars{background:#1a1a2e;color:#00d4ff;border:1px solid #00d4ff44}
.badge-new{background:#1a1a2e;color:#ff6b6b;border:1px solid #ff6b6b44}
.badge-health{background:#1a1a2e;border:1px solid #4ade8044;color:#4ade80}
.badge-health.warning{color:#f59e0b;border-color:#f59e0b44}
.badge-health.degraded{color:#f87171;border-color:#f8717144}
.grid{display:grid;gap:20px;margin-top:24px}
.grid-3{grid-template-columns:repeat(auto-fit,minmax(380px,1fr))}
.card{background:#111827;border:1px solid #1f2937;border-radius:12px;padding:20px;transition:border-color 0.2s}
.card:hover{border-color:#374151}
.card-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}
.card-title{font-size:1.1rem;font-weight:600}
.grade{font-size:1.4rem;font-weight:800;padding:4px 12px;border-radius:8px}
.grade-a{background:#059669;color:white}
.grade-b{background:#2563eb;color:white}
.grade-c{background:#d97706;color:white}
.grade-d{background:#dc2626;color:white}
.grade-f{background:#7f1d1d;color:white}
.agent-meta{color:#6b7280;font-size:0.85rem;margin-bottom:12px}
.pillar-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:6px}
.pillar{padding:6px 8px;background:#1a2035;border-radius:6px;font-size:0.75rem}
.pillar-name{color:#8892a4;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.pillar-score{font-weight:700;margin-top:2px}
.score-high{color:#4ade80}
.score-mid{color:#fbbf24}
.score-low{color:#f87171}
.composite-bar{height:6px;background:#1f2937;border-radius:3px;margin-top:8px;overflow:hidden}
.composite-fill{height:100%;border-radius:3px;transition:width 0.5s}
.section-title{font-size:1.3rem;font-weight:700;margin:28px 0 12px;padding-left:8px;border-left:3px solid #7c3aed}
.health-card{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px;margin-top:12px}
.health-metric{background:#1a2035;border-radius:8px;padding:14px;text-align:center}
.health-value{font-size:1.5rem;font-weight:800}
.health-label{color:#6b7280;font-size:0.8rem;margin-top:4px}
.alert-list{margin-top:12px}
.alert{padding:10px 14px;border-radius:8px;margin-bottom:8px;font-size:0.85rem;border-left:3px solid}
.alert-high{background:#7f1d1d22;border-color:#f87171}
.alert-medium{background:#78350f22;border-color:#fbbf24}
.alert-low{background:#1a2035;border-color:#6b7280}
footer{text-align:center;padding:30px 0;color:#4b5563;font-size:0.85rem;margin-top:40px;border-top:1px solid #1a2035}
footer a{color:#7c3aed;text-decoration:none}
.new-badge{display:inline-block;background:#ff6b6b;color:white;font-size:0.65rem;padding:1px 5px;border-radius:3px;margin-left:4px;font-weight:700;vertical-align:middle}
</style>
</head>
<body>
<div class="container">
<header>
  <h1>MoltApp Benchmark v18</h1>
  <div class="subtitle">Industry-Standard AI Trading Benchmark \u2014 18-Pillar Scoring</div>
  <div class="badge-row">
    <span class="badge badge-hf">&#129303; HuggingFace: patruff/molt-benchmark</span>
    <span class="badge badge-pillars">18 Scoring Pillars</span>
    <span class="badge badge-new">v18: Adversarial + Memory + Regression</span>
    <span class="badge badge-health" id="health-badge">&#9679; Loading...</span>
  </div>
</header>

<div class="section-title">Agent Leaderboard</div>
<div class="grid grid-3" id="leaderboard">
  <div class="card"><div class="card-title">Loading agent data...</div></div>
</div>

<div class="section-title">Benchmark Health Monitor<span class="new-badge">NEW</span></div>
<div class="health-card" id="health-metrics">
  <div class="health-metric"><div class="health-value">\u2014</div><div class="health-label">Overall Health</div></div>
  <div class="health-metric"><div class="health-value">\u2014</div><div class="health-label">Scoring Stability</div></div>
  <div class="health-metric"><div class="health-value">\u2014</div><div class="health-label">Agent Diversity</div></div>
  <div class="health-metric"><div class="health-value">\u2014</div><div class="health-label">Data Freshness</div></div>
  <div class="health-metric"><div class="health-value">\u2014</div><div class="health-label">Calibration</div></div>
</div>

<div class="section-title">Regression Alerts</div>
<div class="alert-list" id="alerts">
  <div class="alert alert-low">No active alerts \u2014 benchmark operating normally.</div>
</div>

<footer>
  <p>MoltApp AI Trading Benchmark v18 \u2014 <a href="https://www.patgpt.us">www.patgpt.us</a></p>
  <p style="margin-top:6px">Dataset: <a href="https://huggingface.co/datasets/patruff/molt-benchmark">patruff/molt-benchmark</a> | API: <a href="/api/v1/benchmark-v18/schema">/api/v1/benchmark-v18/schema</a></p>
</footer>
</div>

<script>
async function loadData() {
  try {
    const res = await fetch('/benchmark-v18/data');
    const data = await res.json();
    if (!data.ok) return;
    renderLeaderboard(data.leaderboard);
    renderHealth(data.benchmarkHealth);
    updateHealthBadge(data.benchmarkHealth.status);
  } catch (e) { console.error('Failed to load data:', e); }
}

function renderLeaderboard(agents) {
  const el = document.getElementById('leaderboard');
  if (!agents || agents.length === 0) {
    el.innerHTML = '<div class="card"><div class="card-title">No agent data yet \u2014 run a trading round!</div></div>';
    return;
  }
  el.innerHTML = agents.map((a, i) => {
    const gc = a.grade.startsWith('A') ? 'grade-a' : a.grade.startsWith('B') ? 'grade-b' : a.grade.startsWith('C') ? 'grade-c' : a.grade.startsWith('D') ? 'grade-d' : 'grade-f';
    const pillars = Object.entries(a.pillars).map(([name, score]) => {
      const sc = score >= 0.7 ? 'score-high' : score >= 0.5 ? 'score-mid' : 'score-low';
      const label = name.replace(/_/g, ' ').replace(/\\b\\w/g, c => c.toUpperCase());
      const isNew = name === 'adversarial_robustness' || name === 'cross_session_memory';
      return '<div class="pillar"><div class="pillar-name">' + label + (isNew ? '<span class="new-badge">NEW</span>' : '') + '</div><div class="pillar-score ' + sc + '">' + (score * 100).toFixed(1) + '%</div></div>';
    }).join('');
    const barColor = a.composite >= 0.7 ? '#4ade80' : a.composite >= 0.5 ? '#fbbf24' : '#f87171';
    return '<div class="card"><div class="card-header"><div class="card-title">#' + (i + 1) + ' ' + a.agentId + '</div><div class="grade ' + gc + '">' + a.grade + '</div></div><div class="agent-meta">' + a.provider + ' / ' + a.model + ' | Elo: ' + a.elo + ' | Trades: ' + a.tradeCount + ' | Composite: ' + (a.composite * 100).toFixed(1) + '%</div><div class="composite-bar"><div class="composite-fill" style="width:' + (a.composite * 100) + '%;background:' + barColor + '"></div></div><div class="pillar-grid" style="margin-top:12px">' + pillars + '</div></div>';
  }).join('');
}

function renderHealth(h) {
  const el = document.getElementById('health-metrics');
  const dims = h.dimensions || {};
  const sc = v => v >= 0.7 ? 'score-high' : v >= 0.5 ? 'score-mid' : 'score-low';
  el.innerHTML = [
    ['Overall Health', h.overallHealth],
    ['Scoring Stability', dims.scoringStability],
    ['Agent Diversity', dims.agentDiversity],
    ['Data Freshness', dims.dataFreshness],
    ['Calibration', dims.calibrationQuality],
  ].map(([label, val]) => '<div class="health-metric"><div class="health-value ' + sc(val || 0) + '">' + ((val || 0) * 100).toFixed(0) + '%</div><div class="health-label">' + label + '</div></div>').join('');

  const alertEl = document.getElementById('alerts');
  if (h.activeAlertCount > 0 && h.recommendations) {
    alertEl.innerHTML = h.recommendations.map(r => '<div class="alert alert-medium">' + r + '</div>').join('');
  }
}

function updateHealthBadge(status) {
  const badge = document.getElementById('health-badge');
  const cls = status === 'healthy' ? '' : status === 'warning' ? 'warning' : 'degraded';
  badge.className = 'badge badge-health ' + cls;
  badge.textContent = '\\u25CF ' + status.charAt(0).toUpperCase() + status.slice(1);
}

loadData();
setInterval(loadData, 45000);
</script>
</body>
</html>`}function S1r(t){let e={};for(let r of t.pillars)e[r.name]=r.score;return e}function w1r(t){let e=0,r=0;for(let[n,i]of Object.entries(Z1t))e+=(t[n]??.5)*i,r+=i;return r>0?Math.round(e/r*1e3)/1e3:.5}function A1r(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}var E1r=/(?:\$[\d,.]+|\d+\.?\d*\s*(?:dollars?|usd))/gi,T1r=/(?:upward|downward|bullish|bearish|rising|falling|increasing|decreasing)\s+(?:trend|momentum|pressure|trajectory)/gi,R1r=/(?:P\/E|earnings|revenue|margin|market\s+cap|dividend|cash\s+flow|book\s+value|EPS|debt[\s-]to[\s-]equity)/gi,I1r=/(?:market\s+(?:sentiment|mood|fear|greed)|investor\s+(?:confidence|anxiety)|(?:risk[\s-]on|risk[\s-]off))/gi,C1r=/(?:will\s+(?:rise|fall|increase|decrease|rally|decline|reach)|expect(?:ed|ing)?\s+to|predicted?\s+to|target\s+(?:price|of)|should\s+(?:reach|hit|test))/gi,N1r=/(?:compared\s+to|relative\s+to|versus|outperform|underperform|better\s+than|worse\s+than|stronger\s+than|weaker\s+than)/gi,O1r=/(?:downside|upside\s+risk|stop[\s-]loss|worst[\s-]case|risk\s+of|could\s+(?:lose|fall|decline)|potential\s+(?:loss|downside))/gi,P1r=[[E1r,"price"],[T1r,"trend"],[R1r,"fundamental"],[I1r,"sentiment"],[C1r,"prediction"],[N1r,"comparison"],[O1r,"risk"]],k1r=/\b(?:because|since|given\s+that|based\s+on|due\s+to|considering|observing\s+that|noting\s+that|as\s+evidenced\s+by)\b/gi,eyt=/\b(?:therefore|thus|hence|consequently|as\s+a\s+result|this\s+(?:means|suggests|indicates|implies)|leading\s+to|which\s+(?:means|suggests))\b/gi,tyt=/\b(?:I(?:'m|\s+am)\s+(?:buying|selling|holding)|my\s+decision|I\s+(?:recommend|decide|choose)|overall|in\s+conclusion|ultimately|the\s+best\s+(?:action|move))\b/gi,Jve=/\b(?:normal\s+(?:market|trading|conditions)|typical\s+(?:volume|volatility)|liquid(?:ity)?|efficient\s+market)\b/gi,Wve=/\b(?:accurate|reliable|current|real[\s-]time|up[\s-]to[\s-]date|verified)\b/gi,Kve=/\b(?:short[\s-]term|long[\s-]term|medium[\s-]term|intraday|swing|overnight|weekly)\b/gi,I6=new Map,ryt=200;function D1r(t){let e=[],r=new Set;for(let[i,o]of P1r){i.lastIndex=0;let s;for(;(s=i.exec(t))!==null;){let a=s[0].trim(),c=`${o}:${a.toLowerCase()}`;r.has(c)||(r.add(c),e.push({text:a,offset:s.index,type:o,verifiable:o==="price"||o==="trend"||o==="fundamental",verified:null,extractionConfidence:.8+Math.random()*.2}))}}let n=t.split(/[.!?]+/).filter(i=>i.trim().length>15);for(let i of n)if(/\b(?:is\s+(?:trading|priced|valued)|has\s+(?:been|shown|demonstrated)|shows|indicates|reflects|represents)\b/i.test(i)){let o=i.trim(),s=`general:${o.slice(0,50).toLowerCase()}`;r.has(s)||(r.add(s),e.push({text:o.slice(0,200),offset:t.indexOf(o),type:"general",verifiable:!1,verified:null,extractionConfidence:.6}))}return e.sort((i,o)=>i.offset-o.offset)}function M1r(t,e,r){let n=[];for(let i=0;i<t.length;i++){let o=t[i];for(let s of e){let a=L1r(o,s,r);a&&n.push({claimIndex:i,source:s,strength:a})}n.some(s=>s.claimIndex===i)||n.push({claimIndex:i,source:"unstated",strength:"inferred"})}return n}function L1r(t,e,r){let n=e.toLowerCase(),i=t.text.toLowerCase();if(t.type==="price"&&(n.includes("price")||n.includes("market"))||t.type==="trend"&&(n.includes("technical")||n.includes("24h"))||t.type==="fundamental"&&n.includes("fundamental"))return"direct";if(t.type==="sentiment"&&(n.includes("news")||n.includes("sentiment")))return"indirect";let o=r.toLowerCase().indexOf(i);return o>=0&&r.slice(Math.max(0,o-100),o+i.length+100).toLowerCase().includes(n.replace(/_/g," "))?"indirect":null}function B1r(t){let e=[],r=t.split(/[.!?]+/).map(n=>n.trim()).filter(n=>n.length>10);for(let n of r){let i="premise";tyt.test(n)?(i="conclusion",tyt.lastIndex=0):eyt.test(n)?(i="inference",eyt.lastIndex=0):k1r.lastIndex=0;let o=[];if(i==="inference"||i==="conclusion")for(let s=0;s<e.length;s++)(e[s].role==="premise"||i==="conclusion"&&e[s].role==="inference")&&o.push(s);e.push({text:n.slice(0,200),role:i,valid:!0,dependsOn:o})}for(let n=0;n<e.length;n++){let i=e[n];if(i.role==="conclusion"){for(let o of i.dependsOn)if(o<e.length){let s=e[o];$1r(s.text,i.text)&&(i.valid=!1)}}}return e}function $1r(t,e){let r=t.toLowerCase(),n=e.toLowerCase(),i=/\b(?:bullish|upside|growth|strong|buy|accumulate|undervalued)\b/.test(r),o=/\b(?:bearish|downside|decline|weak|sell|distribute|overvalued)\b/.test(r),s=/\b(?:bullish|upside|growth|strong|buy|accumulate|undervalued)\b/.test(n),a=/\b(?:bearish|downside|decline|weak|sell|distribute|overvalued)\b/.test(n);return i&&a&&!o||o&&s&&!i}function U1r(t,e){let r=[],n=t.toLowerCase();return Jve.test(n)||(Jve.lastIndex=0,r.push({assumption:"Assumes normal market conditions (no flash crashes, halts, or extreme events)",category:"market_conditions",criticality:"medium"})),Jve.lastIndex=0,Wve.test(n)||(Wve.lastIndex=0,r.push({assumption:"Assumes data is accurate and current (no stale prices or data errors)",category:"data_quality",criticality:"high"})),Wve.lastIndex=0,Kve.test(n)||(Kve.lastIndex=0,r.push({assumption:"Does not specify time horizon for expected outcome",category:"time_horizon",criticality:e==="hold"?"low":"medium"})),Kve.lastIndex=0,e!=="hold"&&!/\b(?:risk|downside|stop[\s-]loss|worst[\s-]case|position\s+size)\b/i.test(n)&&r.push({assumption:"Does not explicitly address risk tolerance or exit conditions",category:"risk_appetite",criticality:"high"}),/\b(?:will\s+continue|always|never|guaranteed|certain)\b/i.test(n)&&r.push({assumption:"Uses deterministic language about inherently uncertain outcomes",category:"model_behavior",criticality:"medium"}),r}function F1r(t,e,r,n){let i=[],o=t.toLowerCase();return e==="buy"?(i.push({condition:`${r} price drops >10% from current level`,expectedChange:"Might convert to hold (deeper value) or sell (broken thesis)",sensitivity:"high"}),/\b(?:support|floor|bottom)\b/i.test(o)&&i.push({condition:`${r} breaks below stated support level`,expectedChange:"Thesis invalidated \u2014 likely switch to sell or hold",sensitivity:"high"})):e==="sell"&&i.push({condition:`${r} price rises >5% from current level`,expectedChange:"Might regret selling; if trend reverses, could buy back",sensitivity:"medium"}),n>.7?i.push({condition:"New negative earnings surprise or regulatory action",expectedChange:"High-confidence trade could flip to low-confidence hold",sensitivity:"high"}):n<.3&&i.push({condition:"Strong positive catalyst (earnings beat, partnership)",expectedChange:"Low-confidence hold could become medium-confidence buy",sensitivity:"medium"}),/\b(?:volume|momentum|trend)\b/i.test(o)&&i.push({condition:"Volume dries up or momentum reverses",expectedChange:"Momentum-based thesis weakened; agent may exit position",sensitivity:"medium"}),/\b(?:sector|macro|fed|interest\s+rate|inflation)\b/i.test(o)&&i.push({condition:"Macro environment shifts (rate hike, sector rotation)",expectedChange:"Macro-dependent thesis could be invalidated",sensitivity:"low"}),i}function nyt(t,e,r,n,i,o,s){let a=D1r(i),c=M1r(a,s,i),l=B1r(i),u=U1r(i,r),d=o>1?o/100:o,p=F1r(i,r,n,d),f=i.split(/\s+/).length,h=Math.min(1,a.length/Math.max(1,f/20)),m=c.filter(O=>O.strength==="direct").length,g=a.length>0?Math.min(1,m/a.length):0,b=l.filter(O=>O.valid).length,_=l.length>0?b/l.length:.5,x=u.filter(O=>O.criticality==="high").length,E=Math.max(0,1-x*.2),R=Math.min(1,p.length/4),I=Math.round((h*.2+g*.25+_*.25+E*.15+R*.15)*100)/100,D={agentId:t,roundId:e,action:r,symbol:n,claims:a,evidenceMap:c,logicChain:l,assumptions:u,counterfactuals:p,transparencyScore:I,componentScores:{claimDensity:Math.round(h*100)/100,evidenceCoverage:Math.round(g*100)/100,logicValidity:Math.round(_*100)/100,assumptionAwareness:Math.round(E*100)/100,counterfactualDepth:Math.round(R*100)/100},timestamp:new Date().toISOString()},k=I6.get(t)??[];return k.unshift(D),k.length>ryt&&(k.length=ryt),I6.set(t,k),D}function ej(){let t={};for(let[e,r]of I6.entries()){if(r.length===0)continue;let n=r.length;t[e]={avgTransparency:Math.round(r.reduce((i,o)=>i+o.transparencyScore,0)/n*100)/100,avgClaimDensity:Math.round(r.reduce((i,o)=>i+o.componentScores.claimDensity,0)/n*100)/100,avgEvidenceCoverage:Math.round(r.reduce((i,o)=>i+o.componentScores.evidenceCoverage,0)/n*100)/100,avgLogicValidity:Math.round(r.reduce((i,o)=>i+o.componentScores.logicValidity,0)/n*100)/100,avgAssumptionAwareness:Math.round(r.reduce((i,o)=>i+o.componentScores.assumptionAwareness,0)/n*100)/100,avgCounterfactualDepth:Math.round(r.reduce((i,o)=>i+o.componentScores.counterfactualDepth,0)/n*100)/100,totalReports:n}}return t}function C6(t){let e=I6.get(t)??[];return e.length===0?.5:Math.round(e.reduce((r,n)=>r+n.transparencyScore,0)/e.length*100)/100}function N6(){let t=0,e=0,r={id:"",score:0},n={id:"",score:1},i=new Map;for(let[a,c]of I6.entries()){t+=c.length;let l=c.reduce((u,d)=>u+d.transparencyScore,0)/(c.length||1);e+=l,l>r.score&&(r={id:a,score:l}),l<n.score&&(n={id:a,score:l});for(let u of c)for(let d of u.assumptions)i.set(d.assumption,(i.get(d.assumption)??0)+1)}let o=I6.size||1,s=[...i.entries()].sort((a,c)=>c[1]-a[1]).slice(0,5).map(([a])=>a);return{totalReports:t,avgTransparency:Math.round(e/o*100)/100,mostTransparent:r.id||null,leastTransparent:n.id||null,commonAssumptions:s}}var wO=new Map,iyt=500;function oyt(t,e,r,n,i,o){let s=[],a=o>1?o/100:o,c=z1r(i,n);c&&s.push({id:`claim_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,agentId:t,roundId:e,symbol:r,action:n,claim:c.text,claimType:"directional",confidence:a,direction:c.direction,timestamp:new Date().toISOString(),status:"pending"});let l=V1r(i,r);for(let f of l)s.push({id:`claim_${Date.now()}_${Math.random().toString(36).slice(2,6)}_pt`,agentId:t,roundId:e,symbol:r,action:n,claim:f.text,claimType:"price_target",confidence:a,targetPrice:f.price,timestamp:new Date().toISOString(),status:"pending"});let u=H1r(i);u&&s.push({id:`claim_${Date.now()}_${Math.random().toString(36).slice(2,6)}_th`,agentId:t,roundId:e,symbol:r,action:n,claim:u.text,claimType:"time_horizon",confidence:a,horizonHours:u.hours,timestamp:new Date().toISOString(),status:"pending"});let d=G1r(i,r);for(let f of d)s.push({id:`claim_${Date.now()}_${Math.random().toString(36).slice(2,6)}_cat`,agentId:t,roundId:e,symbol:r,action:n,claim:f,claimType:"categorical",confidence:a,timestamp:new Date().toISOString(),status:"pending"});let p=wO.get(t)??[];return p.unshift(...s),p.length>iyt&&(p.length=iyt),wO.set(t,p),s}function z1r(t,e){let r=t.toLowerCase();return e==="buy"||/\b(?:will\s+rise|expected?\s+to\s+increase|upside|bullish|higher)\b/i.test(r)?{text:`Expects price to move up (action: ${e})`,direction:"up"}:e==="sell"||/\b(?:will\s+fall|expected?\s+to\s+decrease|downside|bearish|lower)\b/i.test(r)?{text:`Expects price to move down (action: ${e})`,direction:"down"}:e==="hold"||/\b(?:sideways|flat|range[\s-]bound|consolidat)\b/i.test(r)?{text:`Expects price to remain flat (action: ${e})`,direction:"flat"}:null}function V1r(t,e){let r=[],n=[/target\s+(?:price\s+)?(?:of\s+)?\$?([\d,.]+)/gi,/(?:reach|hit|test)\s+\$?([\d,.]+)/gi,/\$?([\d,.]+)\s+(?:target|level|resistance|support)/gi];for(let i of n){let o;for(;(o=i.exec(t))!==null;){let s=parseFloat(o[1].replace(/,/g,""));s>0&&s<1e5&&r.push({text:`Price target: $${s.toFixed(2)}`,price:s})}}return r.slice(0,3)}function H1r(t){let e=[[/\b(?:next\s+few\s+hours?|intraday|today)\b/i,8],[/\b(?:overnight|tomorrow|24\s*h)\b/i,24],[/\b(?:this\s+week|next\s+few\s+days|short[\s-]term)\b/i,120],[/\b(?:next\s+week|coming\s+week)\b/i,168],[/\b(?:medium[\s-]term|next\s+month|coming\s+weeks)\b/i,720],[/\b(?:long[\s-]term|next\s+quarter|several\s+months)\b/i,2160]];for(let[r,n]of e){let i=t.match(r);if(i)return{text:`Time horizon: ${i[0]}`,hours:n}}return null}function G1r(t,e){let r=[],n=t.toLowerCase();return/\b(?:outperform|beat\s+the\s+market|alpha)\b/i.test(n)&&r.push(`${e} will outperform the market`),/\b(?:underperform|lag\s+(?:the\s+)?market|drag)\b/i.test(n)&&r.push(`${e} will underperform the market`),/\b(?:recovery|rebound|bounce\s+back)\b/i.test(n)&&r.push(`${e} expected to recover`),/\b(?:correction|pullback|dip)\b/i.test(n)&&r.push(`${e} expected to correct`),r}function Qve(t){let e=wO.get(t)??[],r=e.filter(R=>R.status==="correct"||R.status==="incorrect"),n=e.filter(R=>R.status==="correct"),i=e.filter(R=>R.status==="incorrect"),o=e.filter(R=>R.status==="pending"),s={};for(let R of r)s[R.claimType]||(s[R.claimType]={total:0,correct:0,accuracy:0}),s[R.claimType].total++,R.status==="correct"&&s[R.claimType].correct++;for(let R of Object.keys(s))s[R].accuracy=s[R].total>0?Math.round(s[R].correct/s[R].total*100)/100:0;let a={};for(let R of r)a[R.symbol]||(a[R.symbol]={total:0,correct:0,accuracy:0}),a[R.symbol].total++,R.status==="correct"&&a[R.symbol].correct++;for(let R of Object.keys(a))a[R].accuracy=a[R].total>0?Math.round(a[R].correct/a[R].total*100)/100:0;let l=[{label:"0.0-0.2",min:0,max:.2},{label:"0.2-0.4",min:.2,max:.4},{label:"0.4-0.6",min:.4,max:.6},{label:"0.6-0.8",min:.6,max:.8},{label:"0.8-1.0",min:.8,max:1}].map(R=>{let I=r.filter(k=>k.confidence>=R.min&&k.confidence<(R.max===1?1.01:R.max)),D=I.filter(k=>k.status==="correct").length;return{bucket:R.label,total:I.length,correct:D,accuracy:I.length>0?Math.round(D/I.length*100)/100:0}}),u=r.filter(R=>R.confidence>.7),d=u.filter(R=>R.status==="incorrect").length,p=u.length>0?Math.round(d/u.length*100)/100:0,f=Math.floor(r.length/2),h=r.slice(f),m=r.slice(0,f),g=h.length>0?h.filter(R=>R.status==="correct").length/h.length:0,b=m.length>0?m.filter(R=>R.status==="correct").length/m.length:0,_="stable";b-g>.05&&(_="improving"),g-b>.05&&(_="declining");let x=r.length>0?Math.round(n.length/r.length*100)/100:0,E=Math.round((x*.35+(1-p)*.25+(_==="improving"?.8:_==="stable"?.5:.2)*.2+Math.min(1,r.length/20)*.2)*100)/100;return{agentId:t,totalClaims:e.length,resolvedClaims:r.length,correctClaims:n.length,incorrectClaims:i.length,pendingClaims:o.length,accuracyRate:x,overconfidenceRate:p,byType:s,bySymbol:a,byConfidence:l,learningTrend:_,accountabilityScore:E}}function tj(){let t={};for(let e of wO.keys())t[e]=Qve(e);return t}function O6(t){return Qve(t).accountabilityScore}function P6(){let t=0,e=0,r=0,n={id:"",score:0},i={id:"",score:1};for(let o of wO.keys()){let s=Qve(o);t+=s.totalClaims,e+=s.resolvedClaims,r+=s.correctClaims,s.accountabilityScore>n.score&&(n={id:o,score:s.accountabilityScore}),s.accountabilityScore<i.score&&(i={id:o,score:s.accountabilityScore})}return{totalClaimsTracked:t,totalResolved:e,overallAccuracy:e>0?Math.round(r/e*100)/100:0,mostAccountable:n.id||null,leastAccountable:i.id||null}}import{createHash as syt}from"crypto";var AO=new Map,j1r=new Map,ayt=300,Xve=/\b(?:I\s+(?:believe|think|expect|recommend|conclude)|my\s+(?:thesis|view|analysis|assessment)|overall|the\s+case\s+for|the\s+key\s+(?:reason|argument))\b/gi,Yve=/\b(?:because|since|data\s+shows|according\s+to|based\s+on|evidence|the\s+fact\s+that|supported\s+by|as\s+(?:shown|indicated|demonstrated))\b/gi,Zve=/\b(?:therefore|thus|hence|in\s+conclusion|as\s+a\s+result|consequently|this\s+leads\s+me\s+to|my\s+decision|I(?:'m|\s+am)\s+(?:going\s+to|choosing\s+to))\b/gi,e2e=/\$[\d,.]+|\d+\.?\d*%|\d+x|\d+\.?\d*\s*(?:billion|million|thousand)|P\/E\s+(?:of\s+)?\d+|\d+\.?\d*\s*(?:ratio|multiple)/gi,t2e=/\b(?:current(?:ly)?|today|this\s+week|yesterday|24h|last\s+(?:session|day|week)|at\s+the\s+(?:time|moment))\b/gi,r2e=/\b(?:because|therefore|thus|hence|since|as\s+a\s+result|consequently|due\s+to|driven\s+by|leading\s+to|which\s+(?:means|suggests|implies|indicates))\b/gi,q1r=[[/\bstrongly\s+bullish\b/i,/\bstrongly\s+bearish\b/i],[/\bshould\s+buy\b/i,/\bshould\s+sell\b/i],[/\bvery\s+confident\b/i,/\bvery\s+uncertain\b/i],[/\bundervalued\b/i,/\bovervalued\b/i]],n2e=/\b(?:might|may|could|possibly|perhaps|uncertain|unclear|risk|not\s+sure|unknown|limited\s+data|caveat|however|on\s+the\s+other\s+hand|that\s+said)\b/gi,i2e=/\b(?:definitely|certainly|guaranteed|will\s+(?:definitely|certainly)|no\s+doubt|absolutely|100%|always|never\s+(?:fail|lose))\b/gi,o2e=/\b(?:buy|sell|hold|position\s+size|entry\s+(?:point|price)|exit\s+(?:point|price)|stop[\s-]loss|take[\s-]profit|target\s+price|allocation|quantity|shares?|usd[c]?)\b/gi;function cyt(t,e,r,n,i,o,s){let a=[],c=J1r(i);a.push(c);let l=W1r(i,s);a.push(l);let u=K1r(i);a.push(u);let d=Q1r(i,o);a.push(d);let p=X1r(i,r);a.push(p);let f=[.2,.25,.2,.15,.2],h=Math.round(a.reduce((k,O,$)=>k+O.score*f[$],0)*100)/100,m=Math.min(...a.map(k=>k.score)),g;m>=.8?g="gold":m>=.6?g="silver":m>=.4?g="bronze":g="uncertified";let b=syt("sha256").update(i).digest("hex").slice(0,16),_=JSON.stringify({agentId:t,roundId:e,level:g,compositeScore:h,reasoningHash:b,dimensions:a.map(k=>({name:k.name,score:k.score}))}),x=syt("sha256").update(_).digest("hex"),E=new Date,R=new Date(E.getTime()+10080*60*1e3),I={certificateId:`cert_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,hash:x,agentId:t,roundId:e,level:g,compositeScore:h,dimensions:a,reasoningHash:b,action:r,symbol:n,issuedAt:E.toISOString(),expiresAt:R.toISOString()},D=AO.get(t)??[];return D.unshift(I),D.length>ayt&&(D.length=ayt),AO.set(t,D),j1r.set(x,I),I}function J1r(t){let e=[];Xve.lastIndex=0;let r=Xve.test(t);Xve.lastIndex=0,r&&e.push("Contains thesis statement"),Yve.lastIndex=0;let n=(t.match(Yve)??[]).length;Yve.lastIndex=0,n>0&&e.push(`${n} evidence markers`),Zve.lastIndex=0;let i=Zve.test(t);Zve.lastIndex=0,i&&e.push("Contains conclusion");let o=t.split(/[.!?]+/).filter(c=>c.trim().length>10),s=t.split(/\s+/).length;s>50&&e.push(`${s} words (sufficient depth)`);let a=0;return r&&(a+=.25),n>0&&(a+=Math.min(.3,n*.1)),i&&(a+=.2),o.length>=3&&(a+=.15),s>=50&&(a+=.1),{name:"structural_completeness",score:Math.min(1,Math.round(a*100)/100),indicators:e,grade:EO(a)}}function W1r(t,e){let r=[];e2e.lastIndex=0;let n=(t.match(e2e)??[]).length;e2e.lastIndex=0,n>0&&r.push(`${n} quantitative claims`),t2e.lastIndex=0;let i=(t.match(t2e)??[]).length;t2e.lastIndex=0,i>0&&r.push(`${i} temporal references`);let o=e.length;o>0&&r.push(`${o} data sources cited`);let s=0;return s+=Math.min(.3,n*.06),s+=Math.min(.2,i*.07),s+=Math.min(.3,o*.1),o>=3&&(s+=.1),/\$\d+/.test(t)&&(s+=.1),{name:"data_grounding",score:Math.min(1,Math.round(s*100)/100),indicators:r,grade:EO(s)}}function K1r(t){let e=[];r2e.lastIndex=0;let r=(t.match(r2e)??[]).length;r2e.lastIndex=0,r>0&&e.push(`${r} causal connectors`);let n=0;for(let[a,c]of q1r)a.test(t)&&c.test(t)&&(n++,e.push("Internal contradiction detected")),a.lastIndex=0,c.lastIndex=0;let i=t.split(/[.!?]+/).filter(a=>a.trim().length>20),o=!1;if(i.length>=2){let a=i[0].trim().toLowerCase().slice(0,50),c=i[i.length-1].trim().toLowerCase().slice(0,50);a===c&&(o=!0,e.push("Potentially circular: first and last points identical"))}let s=.5;return s+=Math.min(.3,r*.05),s-=n*.15,o&&(s-=.1),r>=3&&n===0&&(s+=.1),{name:"logical_soundness",score:Math.max(0,Math.min(1,Math.round(s*100)/100)),indicators:e,grade:EO(s)}}function Q1r(t,e){let r=[],n=e>1?e/100:e;n2e.lastIndex=0;let i=(t.match(n2e)??[]).length;n2e.lastIndex=0,i>0&&r.push(`${i} uncertainty acknowledgments`),i2e.lastIndex=0;let o=(t.match(i2e)??[]).length;i2e.lastIndex=0,o>0&&r.push(`${o} overconfidence markers`);let s=i>0,a=o>0,c=.5;return s&&(c+=Math.min(.25,i*.08)),a&&(c-=o*.1),n>.8&&!s&&!a&&(c-=.1,r.push("High confidence without uncertainty acknowledgment")),n<.5&&s&&(c+=.1,r.push("Low confidence with appropriate uncertainty expression")),{name:"epistemic_honesty",score:Math.max(0,Math.min(1,Math.round(c*100)/100)),indicators:r,grade:EO(c)}}function X1r(t,e){let r=[];o2e.lastIndex=0;let n=(t.match(o2e)??[]).length;o2e.lastIndex=0,n>0&&r.push(`${n} actionable details`);let i=new RegExp(`\\b(?:I(?:'m|\\s+am)\\s+(?:buying|selling|holding)|decision\\s+(?:is|to)|I\\s+(?:choose|decide)\\s+to\\s+${e})`,"i").test(t);i&&r.push("Clear decision statement");let o=/\b(?:\d+\s*(?:shares?|tokens?|units?)|\$[\d,.]+\s*(?:worth|of)|position\s+size|allocation)\b/i.test(t);o&&r.push("Position sizing context");let s=/\b(?:stop[\s-]loss|take[\s-]profit|exit|risk[\s-]reward|position\s+limit|max\s+(?:loss|risk))\b/i.test(t);s&&r.push("Risk management criteria");let a=0;return a+=Math.min(.3,n*.05),i&&(a+=.25),o&&(a+=.2),s&&(a+=.25),{name:"actionability",score:Math.min(1,Math.round(a*100)/100),indicators:r,grade:EO(a)}}function EO(t){return t>=.9?"A":t>=.8?"B+":t>=.7?"B":t>=.6?"C+":t>=.5?"C":t>=.4?"D":"F"}function lyt(t){let e=AO.get(t)??[],r=e.filter(R=>R.level==="gold").length,n=e.filter(R=>R.level==="silver").length,i=e.filter(R=>R.level==="bronze").length,o=e.filter(R=>R.level==="uncertified").length,s=r+n+i,a=e.length,c=a>0?Math.round(e.reduce((R,I)=>R+I.compositeScore,0)/a*100)/100:0,l={};for(let R of e)for(let I of R.dimensions)l[I.name]||(l[I.name]=[]),l[I.name].push(I.score);let u=Object.entries(l).map(([R,I])=>({name:R,avg:I.reduce((D,k)=>D+k,0)/I.length}));u.sort((R,I)=>I.avg-R.avg);let d=u[0]?.name??"none",p=u[u.length-1]?.name??"none",f=Math.floor(a/2),h=e.slice(f),m=e.slice(0,f),g=h.length>0?h.reduce((R,I)=>R+I.compositeScore,0)/h.length:0,b=m.length>0?m.reduce((R,I)=>R+I.compositeScore,0)/m.length:0,_="stable";b-g>.03&&(_="improving"),g-b>.03&&(_="declining");let x=a>0?s/a:0,E=Math.round((x*.4+c*.6)*100)/100;return{agentId:t,totalCertifications:a,goldCount:r,silverCount:n,bronzeCount:i,uncertifiedCount:o,certificationRate:a>0?Math.round(x*100)/100:0,avgComposite:c,bestDimension:d,worstDimension:p,trend:_,pillarScore:E}}function rj(){let t={};for(let e of AO.keys())t[e]=lyt(e);return t}function k6(t){return lyt(t).pillarScore}function D6(){let t=0,e=0,r=0,n=0,i=0,o=0;for(let s of AO.values()){t+=s.length;for(let a of s)o+=a.compositeScore,a.level==="gold"?e++:a.level==="silver"?r++:a.level==="bronze"?n++:i++}return{totalCertificates:t,goldTotal:e,silverTotal:r,bronzeTotal:n,uncertifiedTotal:i,overallCertRate:t>0?Math.round((e+r+n)/t*100)/100:0,avgComposite:t>0?Math.round(o/t*100)/100:0}}var Y1r=[];function Z1r(t){let e=Y1r.filter(x=>x.agentA===t||x.agentB===t),r=0,n=0,i=0,o=0,s={evidenceWeight:0,logicalConsistency:0,calibrationAccuracy:0,riskDisclosure:0,originality:0},a=0,c=0,l=0,u=0;for(let x of e){let E=x.agentA===t,R=E?x.scoresA:x.scoresB;o+=R.composite;for(let I of Object.keys(s))s[I]+=R[I];x.winner==="tie"?i++:x.winner===t?r++:n++,x.isDisagreement&&(x.winner===t?a++:x.winner!=="tie"&&c++),x.outcomeVerdict&&x.outcomeVerdict!=="pending"&&(u++,(E&&x.outcomeVerdict==="agentA_correct"||!E&&x.outcomeVerdict==="agentB_correct")&&l++)}let d=e.length||1,p={};for(let[x,E]of Object.entries(s))p[x]=Math.round(E/d*100)/100;let f=Object.entries(p).sort((x,E)=>E[1]-x[1]),h=f[0]?.[0]??"none",m=f[f.length-1]?.[0]??"none",g=e.slice(0,10),b=e.slice(10,20),_="stable";if(g.length>=5&&b.length>=5){let x=g.reduce((I,D)=>{let k=D.agentA===t?D.scoresA:D.scoresB;return I+k.composite},0)/g.length,E=b.reduce((I,D)=>{let k=D.agentA===t?D.scoresA:D.scoresB;return I+k.composite},0)/b.length,R=x-E;R>.05?_="improving":R<-.05&&(_="declining")}return{agentId:t,totalCases:e.length,wins:r,losses:n,ties:i,winRate:e.length>0?Math.round(r/e.length*100)/100:0,avgComposite:Math.round(o/d*100)/100,strengthDimension:h,weaknessDimension:m,disagreementRecord:{wins:a,losses:c},outcomeAccuracy:u>0?Math.round(l/u*100)/100:0,recentTrend:_}}function M6(t){let e=Z1r(t);if(e.totalCases===0)return .5;let r=e.recentTrend==="improving"?.8:e.recentTrend==="stable"?.5:.2;return Math.round((e.winRate*.4+e.avgComposite*.3+e.outcomeAccuracy*.2+r*.1)*100)/100}var eyr=[];function tyr(t){let e=eyr.filter(m=>m.participants.some(g=>g.agentId===t)),r=0,n=0,i=0,o=0,s=0,a=0,c=0,l=0,u=0,d={thesisClarity:0,evidenceQuality:0,logicalStrength:0,rebuttalPower:0,intellectualHonesty:0};for(let m of e){let g=m.verdict.scores[t];if(!g)continue;o+=g.composite,s+=m.debateQualityScore,m.verdict.winner==="tie"?i++:m.verdict.winner===t?r++:n++;for(let E of Object.keys(d))d[E]+=g[E];let b=m.participants,_=b.find(E=>E.agentId===t),x=b.find(E=>E.agentId!==t);_&&x&&(c++,_.rebuttalStrength>x.rebuttalStrength&&a++);for(let E of m.evidenceClashes)u++,E.winner===t&&l++}let p=e.length||1,f={};for(let[m,g]of Object.entries(d))f[m]=Math.round(g/p*100)/100;let h=Object.entries(f).sort((m,g)=>g[1]-m[1]);return{agentId:t,totalDebates:e.length,wins:r,losses:n,ties:i,winRate:e.length>0?Math.round(r/e.length*100)/100:0,avgScore:Math.round(o/p*100)/100,bestDimension:h[0]?.[0]??"none",worstDimension:h[h.length-1]?.[0]??"none",avgDebateQuality:Math.round(s/p*100)/100,rebuttalWinRate:c>0?Math.round(a/c*100)/100:0,evidenceClashWinRate:u>0?Math.round(l/u*100)/100:0}}function L6(t){let e=tyr(t);return e.totalDebates===0?.5:Math.round((e.winRate*.3+e.avgScore*.3+e.rebuttalWinRate*.2+e.avgDebateQuality*.2)*100)/100}var ryr=[];function nyr(t){let e=t.filter(c=>c.status==="resolved");if(e.length===0)return{currentStreak:0,currentStreakType:"none",longestWinStreak:0,longestLossStreak:0};let r=0,n="none",i=0,o=0,s=0,a=0;for(let c of e)c.directionCorrect?(s++,a=0,i=Math.max(i,s)):(a++,s=0,o=Math.max(o,a));for(let c of e)if(n==="none")n=c.directionCorrect?"win":"loss",r=1;else if(n==="win"&&c.directionCorrect||n==="loss"&&!c.directionCorrect)r++;else break;return{currentStreak:r,currentStreakType:n,longestWinStreak:i,longestLossStreak:o}}function iyr(t){let e=t.filter(n=>n.status==="resolved");return[{range:"0.0-0.25",min:0,max:.25},{range:"0.25-0.50",min:.25,max:.5},{range:"0.50-0.75",min:.5,max:.75},{range:"0.75-1.0",min:.75,max:1}].map(n=>{let i=e.filter(c=>c.confidence>=n.min&&c.confidence<(n.max===1?1.01:n.max)),o=i.filter(c=>c.directionCorrect).length,s=i.filter(c=>c.magnitudeError!==void 0),a=s.reduce((c,l)=>c+(l.magnitudeError??0),0);return{range:n.range,count:i.length,directionAccuracy:i.length>0?Math.round(o/i.length*100)/100:0,avgMagnitudeError:s.length>0?Math.round(a/s.length*1e3)/1e3:0}})}function oyr(t){let e=t.filter(c=>c.status==="resolved");if(e.length<10)return .5;let r=Math.floor(e.length/2),n=e.slice(r),i=e.slice(0,r),o=n.filter(c=>c.directionCorrect).length/n.length,a=i.filter(c=>c.directionCorrect).length/i.length-o;return Math.round(Math.max(0,Math.min(1,.5+a*1.667))*100)/100}function syr(t){let e=t.filter(a=>a.status==="resolved");if(e.length<5)return 0;let r=e.filter(a=>a.confidence>.7),n=e.filter(a=>a.confidence<=.4),i=r.length>0?r.filter(a=>a.directionCorrect).length/r.length:.5,o=n.length>0?n.filter(a=>a.directionCorrect).length/n.length:.5,s=i-o;return Math.round(Math.max(0,Math.min(1,.5+s))*100)/100}function ayr(t){let e=ryr.filter(x=>x.agentId===t),r=e.filter(x=>x.status==="resolved"),n=r.filter(x=>x.directionCorrect).length,i=r.length>0?Math.round(n/r.length*100)/100:0,o=r.filter(x=>x.magnitudeError!==void 0),s=o.length>0?Math.round(o.reduce((x,E)=>x+(E.magnitudeError??0),0)/o.length*1e3)/1e3:0,a=e.filter(x=>x.predictedHorizon!==null),c=e.length>0?Math.round(a.length/e.length*100)/100:0,l=new Map;for(let x of r){let E=l.get(x.symbol)??{correct:0,total:0};E.total++,x.directionCorrect&&E.correct++,l.set(x.symbol,E)}let u="none",d="none",p=-1,f=2;for(let[x,E]of l){if(E.total<2)continue;let R=E.correct/E.total;R>p&&(p=R,u=x),R<f&&(f=R,d=x)}let h=nyr(e),m=iyr(e),g=oyr(e),b=syr(e),_=Math.round((i*.3+(1-Math.min(1,s*10))*.15+b*.2+c*.1+g*.25)*100)/100;return{agentId:t,totalForecasts:e.length,resolvedForecasts:r.length,directionAccuracy:i,avgMagnitudeError:s,convictionCorrelation:b,horizonUsageRate:c,learningVelocity:g,bestSymbol:u,worstSymbol:d,streakInfo:h,confidenceBuckets:m,compositeScore:_}}function B6(t){return ayr(t).compositeScore}var oj=new rn,nj=[],uyt=200;function dyt(t,e){nj.unshift({type:t,data:e,timestamp:new Date().toISOString()}),nj.length>uyt&&(nj.length=uyt)}var ij={financial:.08,reasoning:.07,safety:.06,calibration:.06,patterns:.03,adaptability:.04,forensic_quality:.05,validation_quality:.05,prediction_accuracy:.04,reasoning_stability:.04,provenance_integrity:.04,model_comparison:.03,metacognition:.04,reasoning_efficiency:.03,forensic_ledger:.03,strategy_genome:.03,adversarial_robustness:.04,cross_session_memory:.04,arbitration_quality:.04,debate_performance:.04,impact_forecasting:.04,reasoning_transparency:.05,decision_accountability:.05,quality_certification:.05};function cyr(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}function s2e(){let t=bd(),e=ej(),r=tj(),n=rj(),i=[...new Set([...t.map(s=>s.agentId),...Object.keys(e),...Object.keys(r),...Object.keys(n)])];i.length===0&&i.push("claude-value-investor","gpt-momentum-trader","grok-contrarian");let o=i.map(s=>{let a=t.find(f=>f.agentId===s),c={};if(a)for(let f of a.pillars??[])c[f.name]=f.score;for(let f of Object.keys(ij))f in c||(c[f]=.5);c.arbitration_quality=M6(s),c.debate_performance=L6(s),c.impact_forecasting=B6(s),c.adversarial_robustness=T6(s),c.cross_session_memory=R6(s),c.reasoning_transparency=C6(s),c.decision_accountability=O6(s),c.quality_certification=k6(s);let l=0;for(let[f,h]of Object.entries(ij))l+=(c[f]??.5)*h;l=Math.round(l*100)/100;let u=e[s],d=r[s],p=n[s];return{agentId:s,composite:l,grade:cyr(l),rank:0,rankChange:0,pillars:c,v20Highlights:{transparencyScore:u?.avgTransparency??.5,accountabilityScore:d?.accountabilityScore??.5,certificationLevel:p?.goldCount>0?"gold":p?.silverCount>0?"silver":p?.bronzeCount>0?"bronze":"uncertified",certificationRate:p?.certificationRate??0,claimAccuracy:d?.accuracyRate??0}}});return o.sort((s,a)=>a.composite-s.composite),o.forEach((s,a)=>{s.rank=a+1}),o}oj.get("/data",t=>{let e=s2e(),r=Zy(),n=N6(),i=P6(),o=D6();return t.json({ok:!0,benchmark:"moltapp-v20",version:"20.0.0",pillars:24,leaderboard:e,weights:ij,v20:{transparency:n,accountability:i,certification:o},health:r,generatedAt:new Date().toISOString()})});oj.get("/stream",t=>{let e=new ReadableStream({start(r){let n=new TextEncoder;for(let o of nj.slice(0,20))r.enqueue(n.encode(`event: ${o.type}
data: ${JSON.stringify(o.data)}

`));let i=setInterval(()=>{r.enqueue(n.encode(`: keepalive

`))},3e4);t.req.raw.signal.addEventListener("abort",()=>{clearInterval(i),r.close()})}});return new Response(e,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});oj.get("/export",t=>{let r=s2e().map(n=>JSON.stringify(n));return new Response(r.join(`
`),{headers:{"Content-Type":"application/jsonl","Content-Disposition":"attachment; filename=benchmark-v20-scores.jsonl"}})});oj.get("/",t=>{let e=s2e(),r=N6(),n=P6(),i=D6(),o=e.map(a=>`
    <tr>
      <td style="font-weight:bold;color:#f5c542">#${a.rank}</td>
      <td>${a.agentId}</td>
      <td style="font-size:1.2em;font-weight:bold">${a.grade}</td>
      <td>${a.composite.toFixed(2)}</td>
      <td>${(a.pillars.reasoning_transparency??0).toFixed(2)}</td>
      <td>${(a.pillars.decision_accountability??0).toFixed(2)}</td>
      <td>${(a.pillars.quality_certification??0).toFixed(2)}</td>
      <td><span style="background:${a.v20Highlights.certificationLevel==="gold"?"#f5c542":a.v20Highlights.certificationLevel==="silver"?"#c0c0c0":a.v20Highlights.certificationLevel==="bronze"?"#cd7f32":"#555"};padding:2px 8px;border-radius:4px;font-size:0.8em">${a.v20Highlights.certificationLevel.toUpperCase()}</span></td>
      <td>${(a.v20Highlights.claimAccuracy*100).toFixed(0)}%</td>
    </tr>
  `).join(""),s=`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MoltApp Benchmark v20 \u2014 24-Pillar AI Trading Benchmark</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { background: #0a0a0f; color: #e0e0e0; font-family: 'Inter', system-ui, -apple-system, sans-serif; }
    .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
    header { text-align: center; padding: 40px 0 30px; border-bottom: 1px solid #1a1a2e; margin-bottom: 30px; }
    h1 { font-size: 2.2em; background: linear-gradient(135deg, #f5c542, #ff6b6b, #4ecdc4); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 8px; }
    .subtitle { color: #888; font-size: 1.1em; }
    .badge-row { display: flex; gap: 12px; justify-content: center; margin-top: 16px; flex-wrap: wrap; }
    .badge { padding: 4px 14px; border-radius: 20px; font-size: 0.85em; font-weight: 600; }
    .badge-pillars { background: #1a1a3e; color: #4ecdc4; border: 1px solid #4ecdc4; }
    .badge-hf { background: #1a1a3e; color: #f5c542; border: 1px solid #f5c542; }
    .badge-v20 { background: #2a1a3e; color: #ff6b6b; border: 1px solid #ff6b6b; }
    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-bottom: 30px; }
    .card { background: #12121a; border: 1px solid #1a1a2e; border-radius: 12px; padding: 20px; }
    .card h2 { font-size: 1em; color: #888; margin-bottom: 12px; text-transform: uppercase; letter-spacing: 1px; }
    .card .value { font-size: 2em; font-weight: 700; }
    .card .label { color: #666; font-size: 0.85em; margin-top: 4px; }
    table { width: 100%; border-collapse: collapse; background: #12121a; border-radius: 12px; overflow: hidden; }
    th { background: #1a1a2e; padding: 12px 16px; text-align: left; font-size: 0.85em; text-transform: uppercase; letter-spacing: 1px; color: #888; }
    td { padding: 12px 16px; border-bottom: 1px solid #1a1a2e; }
    tr:hover { background: #1a1a2e; }
    .section-title { font-size: 1.3em; margin: 30px 0 16px; color: #fff; }
    .new-badge { background: #ff6b6b; color: white; padding: 2px 8px; border-radius: 4px; font-size: 0.7em; vertical-align: middle; margin-left: 8px; }
    .pillar-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 12px; margin: 20px 0; }
    .pillar-card { background: #1a1a2e; border-radius: 8px; padding: 12px; text-align: center; }
    .pillar-card .name { font-size: 0.75em; color: #888; text-transform: uppercase; }
    .pillar-card .weight { font-size: 1.4em; font-weight: 700; color: #4ecdc4; }
    footer { text-align: center; padding: 30px 0; color: #555; border-top: 1px solid #1a1a2e; margin-top: 40px; }
    a { color: #4ecdc4; text-decoration: none; }
    a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>MoltApp: AI Trading Benchmark v20</h1>
      <div class="subtitle">Live evaluation of AI agents trading tokenized real-world stocks on Solana</div>
      <div class="badge-row">
        <span class="badge badge-pillars">24 Scoring Pillars</span>
        <span class="badge badge-hf"><a href="https://huggingface.co/datasets/patruff/molt-benchmark" style="color:inherit">HuggingFace Dataset</a></span>
        <span class="badge badge-v20">v20: Transparency + Accountability + Certification</span>
      </div>
    </header>

    <div class="grid">
      <div class="card">
        <h2>Transparency</h2>
        <div class="value" style="color:#4ecdc4">${r.avgTransparency.toFixed(2)}</div>
        <div class="label">${r.totalReports} transparency reports generated</div>
      </div>
      <div class="card">
        <h2>Accountability</h2>
        <div class="value" style="color:#f5c542">${(n.overallAccuracy*100).toFixed(0)}%</div>
        <div class="label">${n.totalClaimsTracked} claims tracked, ${n.totalResolved} resolved</div>
      </div>
      <div class="card">
        <h2>Certification</h2>
        <div class="value" style="color:#ff6b6b">${(i.overallCertRate*100).toFixed(0)}%</div>
        <div class="label">${i.totalCertificates} certificates \u2014 ${i.goldTotal} Gold, ${i.silverTotal} Silver, ${i.bronzeTotal} Bronze</div>
      </div>
    </div>

    <h2 class="section-title">24-Pillar Leaderboard<span class="new-badge">NEW v20</span></h2>
    <table>
      <thead>
        <tr>
          <th>Rank</th>
          <th>Agent</th>
          <th>Grade</th>
          <th>Composite</th>
          <th>Transparency</th>
          <th>Accountability</th>
          <th>Certification</th>
          <th>Cert Level</th>
          <th>Claim Accuracy</th>
        </tr>
      </thead>
      <tbody>${o}</tbody>
    </table>

    <h2 class="section-title">All 24 Scoring Pillars</h2>
    <div class="pillar-grid">
      ${Object.entries(ij).map(([a,c])=>`
        <div class="pillar-card" ${["reasoning_transparency","decision_accountability","quality_certification"].includes(a)?'style="border: 1px solid #ff6b6b"':""}>
          <div class="name">${a.replace(/_/g," ")}${["reasoning_transparency","decision_accountability","quality_certification"].includes(a)?'<span class="new-badge">NEW</span>':""}</div>
          <div class="weight">${(c*100).toFixed(0)}%</div>
        </div>
      `).join("")}
    </div>

    <h2 class="section-title">v20 New Engines</h2>
    <div class="grid">
      <div class="card">
        <h2>Reasoning Transparency Engine</h2>
        <p style="color:#aaa;font-size:0.9em">Decomposes agent reasoning into verifiable components: claim extraction, evidence mapping, logic chain validation, assumption surfacing, counterfactual analysis. Every claim gets checked.</p>
      </div>
      <div class="card">
        <h2>Decision Accountability Tracker</h2>
        <p style="color:#aaa;font-size:0.9em">Registers specific verifiable claims at trade time and resolves them against outcomes. Tracks directional accuracy, price targets, overconfidence patterns, and learning velocity.</p>
      </div>
      <div class="card">
        <h2>Reasoning Quality Certifier</h2>
        <p style="color:#aaa;font-size:0.9em">Issues Gold/Silver/Bronze quality certificates based on 5 dimensions: structural completeness, data grounding, logical soundness, epistemic honesty, and actionability. SHA-256 verifiable.</p>
      </div>
    </div>

    <h2 class="section-title">API Endpoints</h2>
    <div class="card">
      <pre style="color:#4ecdc4;font-size:0.85em;line-height:1.6">
GET /benchmark-v20          \u2014 This dashboard
GET /benchmark-v20/data     \u2014 JSON data payload
GET /benchmark-v20/stream   \u2014 SSE live events
GET /benchmark-v20/export   \u2014 JSONL export

GET /api/v1/benchmark-v20/scores           \u2014 All agent scores
GET /api/v1/benchmark-v20/score/:agentId   \u2014 Single agent score
GET /api/v1/benchmark-v20/transparency     \u2014 Transparency profiles
GET /api/v1/benchmark-v20/transparency/:id \u2014 Agent transparency
GET /api/v1/benchmark-v20/accountability   \u2014 Accountability profiles
GET /api/v1/benchmark-v20/accountability/:id \u2014 Agent accountability
GET /api/v1/benchmark-v20/certification    \u2014 All certificates
GET /api/v1/benchmark-v20/certification/:id \u2014 Agent certificates
GET /api/v1/benchmark-v20/verify/:hash     \u2014 Verify certificate
GET /api/v1/benchmark-v20/health           \u2014 Benchmark health
GET /api/v1/benchmark-v20/weights          \u2014 Pillar weights
GET /api/v1/benchmark-v20/schema           \u2014 Data schema
GET /api/v1/benchmark-v20/export/jsonl     \u2014 JSONL export
GET /api/v1/benchmark-v20/export/csv       \u2014 CSV export
      </pre>
    </div>

    <footer>
      <p>MoltApp v20 \u2014 24-Pillar AI Trading Benchmark | <a href="https://www.patgpt.us">www.patgpt.us</a> | <a href="https://huggingface.co/datasets/patruff/molt-benchmark">HuggingFace</a></p>
      <p style="margin-top:8px;font-size:0.85em">Built for the Colosseum Agent Hackathon. Every trade requires reasoning. No black-box trades.</p>
    </footer>
  </div>
  <script>
    setTimeout(() => location.reload(), 45000);
  </script>
</body>
</html>`;return t.html(s)});var TO=new Map,lyr=[/\bcurrently\s+(?:at|trading|priced)/i,/\bprice\s+is\b/i,/\bvolume\s+(?:is|was|at)\b/i,/\bmarket\s+(?:is|was|shows)\b/i,/\bdata\s+(?:shows|indicates|suggests)\b/i,/\b(?:up|down)\s+[\d.]+%/i,/\$[\d,.]+/,/\bhistorically\b/i,/\baccording\s+to\b/i],uyr=[/\banalysis\b/i,/\bcompared?\s+to\b/i,/\brelative\s+to\b/i,/\bcorrelat/i,/\btrend\b/i,/\bpattern\b/i,/\bsupport\s+(?:and|\/)\s+resistance\b/i,/\bmoving\s+average\b/i,/\brsi\b/i,/\bmacd\b/i,/\bfundamentals?\b/i],dyr=[/\btherefore\b/i,/\bthus\b/i,/\bhence\b/i,/\bthis\s+(?:means|implies|suggests|indicates)\b/i,/\bwe\s+can\s+(?:infer|conclude|deduce)\b/i,/\blikely\b/i,/\bprobably\b/i,/\bsuggests?\s+that\b/i,/\bimplies?\s+that\b/i],pyr=[/\bin\s+conclusion\b/i,/\boverall\b/i,/\btherefore,?\s+(?:I|we)\s+(?:should|will|recommend)\b/i,/\bbased\s+on\s+(?:the\s+above|this\s+analysis|these\s+factors)\b/i,/\bmy\s+(?:recommendation|decision|verdict)\b/i,/\bfinal\s+(?:assessment|verdict|decision)\b/i,/\bi\s+(?:recommend|decide|choose)\b/i],fyr=[/\bhowever\b/i,/\balthough\b/i,/\bdespite\b/i,/\brisk\b/i,/\bcaveat\b/i,/\bcaution\b/i,/\buncertain\b/i,/\bon\s+the\s+other\s+hand\b/i,/\bnevertheless\b/i,/\bbut\b/i],myr=[/\bbuy(?:ing)?\s+because\b/i,/\bsell(?:ing)?\s+because\b/i,/\bhold(?:ing)?\s+because\b/i,/\bposition\b.*\bbecause\b/i,/\benter(?:ing)?\s+(?:a\s+)?(?:long|short)\b/i,/\btake\s+profit\b/i,/\bstop[\s-]loss\b/i,/\bexit(?:ing)?\s+(?:the\s+)?position\b/i],hyr=[{regex:/\bbecause\b/i,type:"causal",strength:.8},{regex:/\bsince\b/i,type:"causal",strength:.7},{regex:/\bdue\s+to\b/i,type:"causal",strength:.8},{regex:/\bas\s+a\s+result\b/i,type:"causal",strength:.9},{regex:/\btherefore\b/i,type:"causal",strength:.9},{regex:/\bthus\b/i,type:"causal",strength:.8},{regex:/\bhence\b/i,type:"causal",strength:.8},{regex:/\bconsequently\b/i,type:"causal",strength:.9},{regex:/\bso\b/i,type:"causal",strength:.5},{regex:/\bif\b/i,type:"conditional",strength:.7},{regex:/\bassuming\b/i,type:"conditional",strength:.6},{regex:/\bprovided\s+that\b/i,type:"conditional",strength:.7},{regex:/\bunless\b/i,type:"conditional",strength:.7},{regex:/\bcompared\s+to\b/i,type:"comparative",strength:.7},{regex:/\brelative\s+to\b/i,type:"comparative",strength:.7},{regex:/\bwhereas\b/i,type:"comparative",strength:.6},{regex:/\bmore\s+than\b/i,type:"comparative",strength:.5},{regex:/\bless\s+than\b/i,type:"comparative",strength:.5},{regex:/\bafter\b/i,type:"temporal",strength:.5},{regex:/\bbefore\b/i,type:"temporal",strength:.5},{regex:/\brecently\b/i,type:"temporal",strength:.4},{regex:/\bpreviously\b/i,type:"temporal",strength:.4},{regex:/\bnow\b/i,type:"temporal",strength:.3},{regex:/\bfurthermore\b/i,type:"additive",strength:.5},{regex:/\bmoreover\b/i,type:"additive",strength:.5},{regex:/\badditionally\b/i,type:"additive",strength:.5},{regex:/\balso\b/i,type:"additive",strength:.3},{regex:/\band\b/i,type:"additive",strength:.2},{regex:/\bhowever\b/i,type:"contrastive",strength:.7},{regex:/\bbut\b/i,type:"contrastive",strength:.6},{regex:/\balthough\b/i,type:"contrastive",strength:.6},{regex:/\bdespite\b/i,type:"contrastive",strength:.7},{regex:/\bnevertheless\b/i,type:"contrastive",strength:.7},{regex:/\bon\s+the\s+other\s+hand\b/i,type:"contrastive",strength:.7}],gyr=[/\$[\d,.]+/,/[\d.]+%/,/\bprice\s+(?:of|at|is)\b/i,/\bvolume\b/i,/\bmarket\s+cap\b/i,/\bp\/e\b/i,/\bearnings\b/i,/\brevenue\b/i],yyr=[/\bgenerally\b/i,/\btypically\b/i,/\bhistorically\b/i,/\bin\s+(?:the\s+)?past\b/i,/\busually\b/i,/\bcommonly\b/i,/\bwell[\s-]known\b/i],byr=[/\bassum/i,/\bexpect/i,/\bbelieve\b/i,/\bthink\b/i,/\bfeel\b/i,/\bguess\b/i,/\bspeculat/i,/\bhope\b/i];function vyr(t){let e=t.split(/(?<=[.!?;])\s+|\n+/).map(n=>n.trim()).filter(n=>n.length>5),r=[];for(let n=0;n<e.length;n++){let i=e[n],o=_yr(i,n,e.length),s=xyr(i),a=Syr(i,n,e);r.push({index:n,text:i,type:o,dependsOn:a,hasEvidence:s.hasEvidence,evidenceType:s.evidenceType})}return r}function _yr(t,e,r){let n={observation:0,analysis:0,inference:0,conclusion:0,hedge:0,action_rationale:0};for(let a of lyr)a.test(t)&&(n.observation+=1);for(let a of uyr)a.test(t)&&(n.analysis+=1);for(let a of dyr)a.test(t)&&(n.inference+=1);for(let a of pyr)a.test(t)&&(n.conclusion+=1);for(let a of fyr)a.test(t)&&(n.hedge+=1);for(let a of myr)a.test(t)&&(n.action_rationale+=1);let i=r>1?e/(r-1):.5;i<.3&&(n.observation+=.5),i>.7&&(n.conclusion+=.5),i>.8&&(n.action_rationale+=.3);let o="observation",s=-1;for(let[a,c]of Object.entries(n))c>s&&(s=c,o=a);return s>0?o:"observation"}function xyr(t){for(let e of gyr)if(e.test(t))return{hasEvidence:!0,evidenceType:"data_cited"};for(let e of yyr)if(e.test(t))return{hasEvidence:!0,evidenceType:"general_knowledge"};for(let e of byr)if(e.test(t))return{hasEvidence:!1,evidenceType:"assumption"};return{hasEvidence:!1,evidenceType:"none"}}function Syr(t,e,r){let n=[];if(e===0)return n;let i=t.toLowerCase();/\bthis\s+(?:means|implies|suggests|shows|indicates)\b/i.test(i)&&n.push(e-1),/\btherefore\b|\bthus\b|\bhence\b|\bconsequently\b|\bas\s+a\s+result\b/i.test(i)&&(n.push(e-1),e>=2&&n.push(e-2)),/\bhowever\b|\bbut\b|\balthough\b|\bdespite\b|\bnevertheless\b/i.test(i)&&n.push(e-1),/\bfurthermore\b|\bmoreover\b|\badditionally\b/i.test(i)&&n.push(e-1);let o=pyt(t);for(let s=0;s<e;s++){let a=pyt(r[s]);o.filter(l=>a.includes(l)).length>=2&&!n.includes(s)&&n.push(s)}return n.length===0&&e>0&&n.push(e-1),[...new Set(n)].sort((s,a)=>s-a)}function pyt(t){let e=new Set(["the","a","an","is","are","was","were","be","been","being","have","has","had","do","does","did","will","would","could","should","may","might","can","shall","to","of","in","for","on","with","at","by","from","as","into","through","during","and","or","but","not","no","so","if","then","than","that","this","these","those","it","its","i","we","my","our"]);return t.toLowerCase().replace(/[^a-z0-9\s]/g,"").split(/\s+/).filter(r=>r.length>2&&!e.has(r))}function wyr(t){let e=[];for(let r=1;r<t.length;r++){let n=t[r];for(let i of hyr)if(i.regex.test(n.text)){let o=n.dependsOn.length>0?n.dependsOn[0]:r-1,s=n.text.match(i.regex);e.push({fromStep:o,toStep:r,type:i.type,strength:i.strength,text:s?s[0]:""});break}}return e}function Ayr(t){let e=[],r=new Set;for(let n of t)for(let i of n.dependsOn)if(i>=0&&i<t.length&&t[i].dependsOn.includes(n.index)){let s=`${Math.min(n.index,i)},${Math.max(n.index,i)}`;r.has(s)||(r.add(s),e.push({type:"circular_reasoning",severity:.8,description:`Steps ${Math.min(n.index,i)} and ${Math.max(n.index,i)} reference each other circularly`,stepIndices:[Math.min(n.index,i),Math.max(n.index,i)]}))}return e}function Eyr(t){let e=[];for(let r of t){if(r.type!=="conclusion"&&r.type!=="action_rationale")continue;!r.dependsOn.some(i=>{if(i>=0&&i<t.length){let o=t[i].type;return o==="analysis"||o==="inference"||o==="observation"}return!1})&&r.dependsOn.length>0&&e.push({type:"non_sequitur",severity:.6,description:`Conclusion at step ${r.index} lacks supporting analysis or inference`,stepIndices:[r.index]})}return e}function Tyr(t){let e=[],r=[];for(let n of t)n.hasEvidence?(r.length>=3&&e.push({type:"evidence_gap",severity:Math.min(1,.3+r.length*.1),description:`Steps ${r[0]}-${r[r.length-1]} (${r.length} steps) lack evidential support`,stepIndices:[...r]}),r=[]):r.push(n.index);return r.length>=3&&e.push({type:"evidence_gap",severity:Math.min(1,.3+r.length*.1),description:`Steps ${r[0]}-${r[r.length-1]} (${r.length} steps) lack evidential support`,stepIndices:[...r]}),e}function Ryr(t){let e=[],r=[],n=[];for(let i of t){let o=i.text.toLowerCase();/\bbullish\b|\bupside\b|\bundervalued\b|\bgrowth\b|\bbuy\b/.test(o)&&r.push(i.index),/\bbearish\b|\bdownside\b|\bovervalued\b|\bdecline\b|\bsell\b/.test(o)&&n.push(i.index)}return r.length>0&&n.length>0&&(t.some(o=>o.type==="hedge")||e.push({type:"contradiction",severity:.7,description:`Contradictory signals: bullish at steps [${r.join(",")}] vs bearish at [${n.join(",")}] without hedging`,stepIndices:[...r,...n]})),e}function Iyr(t){let e=[];for(let r of t)if(!(r.type!=="inference"&&r.type!=="conclusion")){for(let n of r.dependsOn)if(n>=0&&n<t.length){let i=r.index-n,o=t[n];i>=4&&o.type==="observation"&&r.dependsOn.length===1&&e.push({type:"unsupported_leap",severity:.5,description:`Step ${r.index} leaps ${i} steps back to observation at step ${n} without intermediate analysis`,stepIndices:[n,r.index]})}}return e}function Cyr(t){let e=new Map;function r(i,o){if(e.has(i))return e.get(i);if(o.has(i))return 0;o.add(i);let s=t[i];if(!s||s.dependsOn.length===0)return e.set(i,1),1;let a=0;for(let l of s.dependsOn)if(l>=0&&l<t.length){let u=r(l,o);u>a&&(a=u)}let c=a+1;return e.set(i,c),c}let n=0;for(let i=0;i<t.length;i++){let o=r(i,new Set);o>n&&(n=o)}return n}function Nyr(t,e,r,n){if(t.length===0)return 0;let i=t.length,o=t.filter(c=>c.hasEvidence).length,s=e.filter(c=>c.strength>=.5).length,a=.6;a+=.2*(o/i),a+=.1*(s/i),a+=.1*Math.min(1,n/4);for(let c of r)a-=c.severity>.5?.15:.05;return Math.round(Math.max(0,Math.min(1,a))*100)/100}function fyt(t,e,r){let n=vyr(t),i=wyr(n),o=[...Ayr(n),...Eyr(n),...Tyr(n),...Ryr(n),...Iyr(n)],s=Cyr(n),a=n.filter(u=>u.hasEvidence).length,c=n.length>0?a/n.length:0,l=Nyr(n,i,o,s);return{steps:n,connectors:i,defects:o,chainQualityScore:l,stepCount:n.length,avgStepEvidence:Math.round(c*100)/100,longestLogicalChain:s,hasCircularReasoning:o.some(u=>u.type==="circular_reasoning"),hasMajorGaps:o.some(u=>u.type==="evidence_gap"&&u.severity>.5)}}function myt(t,e){let r=TO.get(t)??[];r.push(e),TO.set(t,r)}function sj(t){let e=TO.get(t);if(!e||e.length===0)return .5;let r=e.reduce((c,l)=>c+l.chainQualityScore,0)/e.length,n=e.reduce((c,l)=>c+l.avgStepEvidence,0)/e.length,i=e.reduce((c,l)=>c+l.defects.length,0),o=e.reduce((c,l)=>c+l.stepCount,0),s=o>0?Math.min(1,i/o):0,a=r*.4+n*.3+(1-s)*.3;return Math.round(Math.max(0,Math.min(1,a))*100)/100}function hyt(){let t={};for(let[e,r]of TO.entries()){if(r.length===0)continue;let n=r.reduce((c,l)=>c+l.chainQualityScore,0)/r.length,i=r.reduce((c,l)=>c+l.avgStepEvidence,0)/r.length,o=r.reduce((c,l)=>c+l.defects.length,0),s=r.reduce((c,l)=>c+l.stepCount,0),a=s>0?o/s:0;t[e]={avgQuality:Math.round(n*100)/100,avgEvidence:Math.round(i*100)/100,defectRate:Math.round(a*100)/100,totalChains:r.length}}return t}function a2e(){let t=0,e=0,r=0,n={};for(let i of TO.values())for(let o of i){t++,e+=o.chainQualityScore,r+=o.defects.length;for(let s of o.defects)n[s.type]=(n[s.type]??0)+1}return{totalValidations:t,avgQuality:t>0?Math.round(e/t*100)/100:0,avgDefectsPerChain:t>0?Math.round(r/t*100)/100:0,defectDistribution:n}}var c2e=["price","volume","news","sentiment","technical","fundamental","macro","social","analyst","earnings"],l2e=["hedge","downside","stop-loss","stop loss","risk","caution","volatility","drawdown","exposure","protect","diversif","worst-case","worst case","tail risk","black swan","liquidat","margin"],Oyr=["price","volume","moving average","rsi","macd","support","resistance","breakout","gap","spread","bid","ask","open interest","market cap","p/e","eps","yield","dividend","52-week","52 week","all-time","intraday","close","high","low"],gyt={conviction_consistency:.25,risk_awareness:.2,market_sensitivity:.2,strategic_adaptability:.2,information_utilization:.15},u2e=new Map,RO=new Map;function yyt(t,e){let r=t.toLowerCase(),n=0,i=0;for(let o of e){let s=new RegExp(o,"gi"),a=r.match(s);a&&a.length>0&&(n+=a.length,i++)}return{totalHits:n,uniqueHits:i}}function IO(t){if(t.length<4)return"stable";let e=Math.floor(t.length/2),r=t.slice(0,e),n=t.slice(e),i=r.reduce((a,c)=>a+c,0)/r.length,s=n.reduce((a,c)=>a+c,0)/n.length-i;return s>.05?"improving":s<-.05?"declining":"stable"}function aj(t){let e=(t||"unknown").toLowerCase().trim();return e.includes("momentum")?"momentum":e.includes("value")?"value":e.includes("hedge")?"hedge":e.includes("contrarian")?"contrarian":e.includes("swing")?"swing":e.includes("scalp")?"scalp":e.includes("growth")?"growth":e.includes("income")||e.includes("dividend")?"income":e.includes("specul")?"speculative":e}function Pyr(t){if(t.length<3)return{name:"conviction_consistency",score:.5,evidence:"Insufficient data (fewer than 3 trades)",trendDirection:"stable"};let e=[];for(let s of t){let a=s.action==="buy"||s.action==="sell",c=s.action==="hold";s.confidence>=.7&&a?e.push(1):s.confidence>=.7&&c?e.push(.2):s.confidence<=.3&&c?e.push(1):s.confidence<=.3&&a?e.push(.3):e.push(.7)}let r=e.reduce((s,a)=>s+a,0)/e.length,n=IO(e),i=t.filter(s=>s.confidence>=.7&&(s.action==="buy"||s.action==="sell")).length,o=t.filter(s=>s.confidence<=.3&&s.action==="hold").length;return{name:"conviction_consistency",score:Math.max(0,Math.min(1,r)),evidence:`${i} high-confidence active trades, ${o} prudent low-confidence holds out of ${t.length} total. Alignment score: ${(r*100).toFixed(1)}%`,trendDirection:n}}function kyr(t){if(t.length===0)return{name:"risk_awareness",score:0,evidence:"No trades to analyze",trendDirection:"stable"};let e=[],r=new Set;for(let s of t){let{totalHits:a,uniqueHits:c}=yyt(s.reasoning,l2e),l=Math.min(1,a/4),u=Math.min(1,c/5),d=l*.4+u*.6;e.push(d);for(let p of l2e)s.reasoning.toLowerCase().includes(p)&&r.add(p)}let n=e.reduce((s,a)=>s+a,0)/e.length,i=IO(e),o=e.filter(s=>s>.1).length;return{name:"risk_awareness",score:Math.max(0,Math.min(1,n)),evidence:`${o}/${t.length} trades mention risk concepts. ${r.size}/${l2e.length} unique risk keywords detected. Depth score: ${(n*100).toFixed(1)}%`,trendDirection:i}}function Dyr(t){if(t.length===0)return{name:"market_sensitivity",score:0,evidence:"No trades to analyze",trendDirection:"stable"};let e=[];for(let o of t){let{uniqueHits:s}=yyt(o.reasoning,Oyr),a=(o.reasoning.match(/\$\d+[\d,.]*|\d+\.?\d*%/g)||[]).length,c=o.reasoning.toLowerCase().includes(o.symbol.toLowerCase())?1:0,l=Math.min(1,s/6),u=Math.min(1,a/3),d=l*.4+u*.35+c*.25;e.push(d)}let r=e.reduce((o,s)=>o+s,0)/e.length,n=IO(e),i=e.filter(o=>o>.5).length;return{name:"market_sensitivity",score:Math.max(0,Math.min(1,r)),evidence:`${i}/${t.length} trades show strong market data engagement. Average sensitivity: ${(r*100).toFixed(1)}%`,trendDirection:n}}function Myr(t){if(t.length<6)return{name:"strategic_adaptability",score:.5,evidence:"Insufficient data (fewer than 6 trades) to measure adaptability",trendDirection:"stable"};let e=Math.floor(t.length/2),r=t.slice(0,e),n=t.slice(e),i=b=>{let _=new Map;for(let x of b){let E=aj(x.intent);_.set(E,(_.get(E)??0)+1)}for(let[x,E]of _)_.set(x,E/b.length);return _},o=i(r),s=i(n),a=new Set([...o.keys(),...s.keys()]),c=0;for(let b of a){let _=o.get(b)??0,x=s.get(b)??0;c+=Math.abs(_-x)}let l=Math.min(1,c/1.5),u=r.map(b=>b.confidence),d=n.map(b=>b.confidence),p=Math.abs(u.reduce((b,_)=>b+_,0)/u.length-d.reduce((b,_)=>b+_,0)/d.length),f=l*.7+Math.min(1,p*3)*.3,h=Math.max(3,Math.floor(t.length/4)),m=[];for(let b=0;b+h<=t.length;b+=h){let _=t.slice(b,b+h),x=new Set(_.map(E=>aj(E.intent)));m.push(Math.min(1,x.size/3))}let g=IO(m);return{name:"strategic_adaptability",score:Math.max(0,Math.min(1,f)),evidence:`Intent distribution shift: ${(c*100).toFixed(1)}% divergence between halves. Confidence shift: ${(p*100).toFixed(1)}%. Unique intents: first half ${o.size}, second half ${s.size}`,trendDirection:g}}function Lyr(t){if(t.length===0)return{name:"information_utilization",score:0,evidence:"No trades to analyze",trendDirection:"stable"};let e=[],r=new Set;for(let o of t){let s=new Set;for(let c of o.sources){let l=c.toLowerCase();for(let u of c2e)l.includes(u)&&(s.add(u),r.add(u));s.size===0&&c.trim().length>0&&(s.add("other"),r.add("other"))}for(let c of c2e)o.reasoning.toLowerCase().includes(c)&&(s.add(c),r.add(c));let a=Math.min(1,s.size/4);e.push(a)}let n=e.reduce((o,s)=>o+s,0)/e.length,i=IO(e);return{name:"information_utilization",score:Math.max(0,Math.min(1,n)),evidence:`${r.size}/${c2e.length} source types used across all trades. Per-trade average: ${(n*100).toFixed(1)}% utilization. Types seen: ${[...r].sort().join(", ")||"none"}`,trendDirection:i}}function Byr(t){if(t.length===0)return .5;let e=0;for(let r of t){let n=aj(r.intent),i=r.reasoning.toLowerCase(),o=!1;switch(n){case"momentum":o=r.action==="buy"&&/up|bull|gain|rise|rally|breakout|higher/i.test(i)||r.action==="sell"&&/down|bear|drop|fall|decline|lower/i.test(i)||r.action==="hold";break;case"value":o=r.action==="buy"&&/undervalue|cheap|discount|below.*value|bargain/i.test(i)||r.action==="sell"&&/overvalue|expensive|premium|above.*value/i.test(i)||r.action==="hold";break;case"hedge":o=r.action==="sell"||r.action==="hold";break;case"contrarian":o=!0;break;default:o=r.coherenceScore>=.5;break}o&&e++}return e/t.length}function byt(t,e){let r=u2e.get(t)??[];r.push(e),r.length>200&&r.splice(0,r.length-200),u2e.set(t,r);let n=$yr(t);RO.set(t,n)}function $yr(t){let e=u2e.get(t)??[],r=[Pyr(e),kyr(e),Dyr(e),Myr(e),Lyr(e)],n=r.reduce((u,d)=>{let p=gyt[d.name]??.2;return u+d.score*p},0),i=new Map;for(let u of e){let d=aj(u.intent);i.set(d,(i.get(d)??0)+1)}let o="unknown",s=0;for(let[u,d]of i)d>s&&(s=d,o=u);let a=0;if(e.length>0&&i.size>1){let u=0;for(let p of i.values()){let f=p/e.length;f>0&&(u-=f*Math.log2(f))}let d=Math.log2(i.size);a=d>0?u/d:0}let c=Byr(e),l={agentId:t,dimensions:r,overallScore:Math.max(0,Math.min(1,n)),dominantStrategy:o,strategicFlexibility:Math.max(0,Math.min(1,a)),consistencyWithStatedIntent:Math.max(0,Math.min(1,c)),tradeCount:e.length,lastUpdated:new Date().toISOString()};return RO.set(t,l),l}function cj(t){let e=RO.get(t);return e?e.dimensions.reduce((r,n)=>{let i=gyt[n.name]??.2;return r+n.score*i},0):.5}function vyt(){let t={};for(let[e,r]of RO)t[e]=r;return t}function d2e(){let t=[...RO.values()];if(t.length===0)return{totalAgents:0,avgOverallScore:0,dominantStrategies:{},dimensionAverages:{}};let e=t.reduce((s,a)=>s+a.overallScore,0)/t.length,r={};for(let s of t)r[s.dominantStrategy]=(r[s.dominantStrategy]??0)+1;let n={},i={};for(let s of t)for(let a of s.dimensions)n[a.name]=(n[a.name]??0)+a.score,i[a.name]=(i[a.name]??0)+1;let o={};for(let s of Object.keys(n))o[s]=n[s]/i[s];return{totalAgents:t.length,avgOverallScore:e,dominantStrategies:r,dimensionAverages:o}}var dj=new rn,lj=[],_yt=200;function xyt(t,e){lj.unshift({type:t,data:e,timestamp:new Date().toISOString()}),lj.length>_yt&&(lj.length=_yt)}var uj={financial:.07,reasoning:.06,safety:.05,calibration:.05,patterns:.03,adaptability:.03,forensic_quality:.04,validation_quality:.04,prediction_accuracy:.04,reasoning_stability:.03,provenance_integrity:.04,model_comparison:.03,metacognition:.04,reasoning_efficiency:.03,forensic_ledger:.03,strategy_genome:.03,adversarial_robustness:.04,cross_session_memory:.03,arbitration_quality:.04,debate_performance:.04,impact_forecasting:.03,reasoning_transparency:.04,decision_accountability:.04,quality_certification:.04,reasoning_chain_integrity:.05,strategy_profiling:.05};function Uyr(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}function p2e(){let t=bd(),e=ej(),r=tj(),n=rj(),i=hyt(),o=vyt(),s=[...new Set([...t.map(c=>c.agentId),...Object.keys(e),...Object.keys(r),...Object.keys(n),...Object.keys(i),...Object.keys(o)])];s.length===0&&s.push("claude-value-investor","gpt-momentum-trader","grok-contrarian");let a=s.map(c=>{let l=t.find(m=>m.agentId===c),u={};if(l)for(let m of l.pillars??[])u[m.name]=m.score;for(let m of Object.keys(uj))m in u||(u[m]=.5);u.arbitration_quality=M6(c),u.debate_performance=L6(c),u.impact_forecasting=B6(c),u.adversarial_robustness=T6(c),u.cross_session_memory=R6(c),u.reasoning_transparency=C6(c),u.decision_accountability=O6(c),u.quality_certification=k6(c),u.reasoning_chain_integrity=sj(c),u.strategy_profiling=cj(c);let d=0;for(let[m,g]of Object.entries(uj))d+=(u[m]??.5)*g;d=Math.round(d*100)/100;let p=e[c],f=r[c],h=n[c];return{agentId:c,name:c,provider:l?.provider??"unknown",composite:d,grade:Uyr(d),rank:0,rankChange:0,pillars:u,v21Highlights:{chainIntegrity:u.reasoning_chain_integrity,strategyScore:u.strategy_profiling,transparencyScore:p?.avgTransparency??.5,accountabilityScore:f?.accountabilityScore??.5,certificationLevel:h?.goldCount>0?"gold":h?.silverCount>0?"silver":h?.bronzeCount>0?"bronze":"uncertified"}}});return a.sort((c,l)=>l.composite-c.composite),a.forEach((c,l)=>{c.rank=l+1}),a}dj.get("/stream",t=>{let e=new ReadableStream({start(r){let n=new TextEncoder;for(let o of lj.slice(0,20))r.enqueue(n.encode(`event: ${o.type}
data: ${JSON.stringify(o.data)}

`));let i=setInterval(()=>{r.enqueue(n.encode(`: keepalive

`))},3e4);t.req.raw.signal.addEventListener("abort",()=>{clearInterval(i),r.close()})}});return new Response(e,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});dj.get("/data",t=>{let e=p2e(),r=Zy(),n=a2e(),i=d2e(),o=N6(),s=P6(),a=D6();return t.json({ok:!0,benchmark:"moltapp-v21",version:"21.0.0",pillars:26,agents:e.map(c=>({agentId:c.agentId,name:c.name,provider:c.provider,v21Score:c.composite,rank:c.rank,pillars:c.pillars})),weights:uj,health:r,chainStats:n,strategyStats:i,transparencyStats:o,accountabilityStats:s,certificationStats:a,generatedAt:new Date().toISOString()})});dj.get("/export",t=>{let r=p2e().map(n=>JSON.stringify({agentId:n.agentId,name:n.name,provider:n.provider,v21Score:n.composite,grade:n.grade,rank:n.rank,pillars:n.pillars,highlights:n.v21Highlights}));return new Response(r.join(`
`),{headers:{"Content-Type":"application/jsonl","Content-Disposition":"attachment; filename=benchmark-v21-scores.jsonl"}})});dj.get("/",t=>{let e=p2e(),r=a2e(),n=d2e(),i=N6(),o=P6(),s=D6(),a=e.map(u=>`
    <tr>
      <td style="font-weight:bold;color:#f5c542">#${u.rank}</td>
      <td>${u.agentId}</td>
      <td>${u.provider}</td>
      <td style="font-size:1.2em;font-weight:bold">${u.grade}</td>
      <td>${u.composite.toFixed(2)}</td>
      <td style="color:#00ff88">${(u.pillars.reasoning_chain_integrity??0).toFixed(2)}</td>
      <td style="color:#00ff88">${(u.pillars.strategy_profiling??0).toFixed(2)}</td>
      <td>${(u.pillars.reasoning_transparency??0).toFixed(2)}</td>
      <td>${(u.pillars.decision_accountability??0).toFixed(2)}</td>
      <td><span style="background:${u.v21Highlights.certificationLevel==="gold"?"#f5c542":u.v21Highlights.certificationLevel==="silver"?"#c0c0c0":u.v21Highlights.certificationLevel==="bronze"?"#cd7f32":"#555"};padding:2px 8px;border-radius:4px;font-size:0.8em;color:#000">${u.v21Highlights.certificationLevel.toUpperCase()}</span></td>
    </tr>
  `).join(""),c=Object.entries(uj).map(([u,d])=>{let p=["reasoning_chain_integrity","strategy_profiling"].includes(u);return`
      <div class="pillar-card" ${p?'style="border: 1px solid #00ff88"':""}>
        <div class="name">${u.replace(/_/g," ")}${p?'<span class="new-badge">NEW</span>':""}</div>
        <div class="weight">${(d*100).toFixed(0)}%</div>
      </div>
    `}).join(""),l=qr`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="refresh" content="60">
  <title>MoltApp Benchmark v21 -- 26-Pillar AI Trading Intelligence</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { background: #0a0a0f; color: #e0e0e0; font-family: 'SF Mono', 'Fira Code', 'Cascadia Code', monospace; }
    .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
    header { text-align: center; padding: 40px 0 30px; border-bottom: 1px solid #1a1a2e; margin-bottom: 30px; }
    h1 { font-size: 2.2em; background: linear-gradient(135deg, #00ff88, #4ecdc4, #f5c542); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 8px; }
    .subtitle { color: #888; font-size: 1.0em; max-width: 700px; margin: 0 auto; }
    .badge-row { display: flex; gap: 12px; justify-content: center; margin-top: 16px; flex-wrap: wrap; }
    .badge { padding: 4px 14px; border-radius: 20px; font-size: 0.85em; font-weight: 600; }
    .badge-pillars { background: #1a1a3e; color: #4ecdc4; border: 1px solid #4ecdc4; }
    .badge-hf { background: #1a1a3e; color: #f5c542; border: 1px solid #f5c542; }
    .badge-v21 { background: #0a2a1a; color: #00ff88; border: 1px solid #00ff88; }
    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-bottom: 30px; }
    .card { background: #12121a; border: 1px solid #1a1a2e; border-radius: 12px; padding: 20px; }
    .card h2 { font-size: 0.85em; color: #888; margin-bottom: 12px; text-transform: uppercase; letter-spacing: 1px; }
    .card .value { font-size: 2em; font-weight: 700; }
    .card .label { color: #666; font-size: 0.85em; margin-top: 4px; }
    table { width: 100%; border-collapse: collapse; background: #12121a; border-radius: 12px; overflow: hidden; }
    th { background: #1a1a2e; padding: 12px 16px; text-align: left; font-size: 0.75em; text-transform: uppercase; letter-spacing: 1px; color: #888; }
    td { padding: 12px 16px; border-bottom: 1px solid #1a1a2e; font-size: 0.9em; }
    tr:hover { background: #1a1a2e; }
    .section-title { font-size: 1.3em; margin: 30px 0 16px; color: #fff; }
    .new-badge { background: #00ff88; color: #000; padding: 2px 8px; border-radius: 4px; font-size: 0.7em; vertical-align: middle; margin-left: 8px; font-weight: 700; }
    .pillar-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 12px; margin: 20px 0; }
    .pillar-card { background: #1a1a2e; border-radius: 8px; padding: 12px; text-align: center; }
    .pillar-card .name { font-size: 0.7em; color: #888; text-transform: uppercase; }
    .pillar-card .weight { font-size: 1.4em; font-weight: 700; color: #4ecdc4; }
    footer { text-align: center; padding: 30px 0; color: #555; border-top: 1px solid #1a1a2e; margin-top: 40px; font-size: 0.85em; }
    a { color: #00ff88; text-decoration: none; }
    a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>MoltApp Benchmark v21</h1>
      <div class="subtitle">26-Pillar AI Trading Intelligence -- now with Reasoning Chain Validation and Agent Strategy Profiling</div>
      <div class="badge-row">
        <span class="badge badge-pillars">26 Scoring Pillars</span>
        <span class="badge badge-hf"><a href="https://huggingface.co/datasets/patruff/molt-benchmark" style="color:inherit">HuggingFace Dataset</a></span>
        <span class="badge badge-v21">v21: Chain Integrity + Strategy Profiling</span>
      </div>
    </header>

    <div class="grid">
      <div class="card">
        <h2>Chain Integrity</h2>
        <div class="value" style="color:#00ff88">${r.avgQuality.toFixed(2)}</div>
        <div class="label">${r.totalValidations} chain validations -- ${r.avgDefectsPerChain.toFixed(1)} avg defects/chain</div>
      </div>
      <div class="card">
        <h2>Strategy Profiling</h2>
        <div class="value" style="color:#00ff88">${n.avgOverallScore.toFixed(2)}</div>
        <div class="label">${n.totalAgents} agents profiled across 5 dimensions</div>
      </div>
      <div class="card">
        <h2>Transparency</h2>
        <div class="value" style="color:#4ecdc4">${i.avgTransparency.toFixed(2)}</div>
        <div class="label">${i.totalReports} transparency reports</div>
      </div>
      <div class="card">
        <h2>Accountability</h2>
        <div class="value" style="color:#f5c542">${(o.overallAccuracy*100).toFixed(0)}%</div>
        <div class="label">${o.totalClaimsTracked} claims tracked</div>
      </div>
      <div class="card">
        <h2>Certification</h2>
        <div class="value" style="color:#ff6b6b">${(s.overallCertRate*100).toFixed(0)}%</div>
        <div class="label">${s.totalCertificates} certificates issued</div>
      </div>
    </div>

    <h2 class="section-title">26-Pillar Leaderboard<span class="new-badge">v21</span></h2>
    <div style="overflow-x:auto">
    <table>
      <thead>
        <tr>
          <th>Rank</th>
          <th>Agent</th>
          <th>Provider</th>
          <th>Grade</th>
          <th>v21 Score</th>
          <th>Chain Integrity</th>
          <th>Strategy Profile</th>
          <th>Transparency</th>
          <th>Accountability</th>
          <th>Certification</th>
        </tr>
      </thead>
      <tbody>${a}</tbody>
    </table>
    </div>

    <h2 class="section-title">New in v21<span class="new-badge">NEW</span></h2>
    <div class="grid">
      <div class="card" style="border-left: 3px solid #00ff88">
        <h2>Reasoning Chain Validator</h2>
        <p style="color:#aaa;font-size:0.85em;line-height:1.5">Validates the structural integrity of agent reasoning chains. Decomposes arguments into atomic steps, analyzes logical connectors between them, detects circular reasoning and non-sequiturs, and maps evidence gaps where reasoning jumps over missing support.</p>
        <p style="color:#666;font-size:0.75em;margin-top:8px">Components: Step Decomposition, Connector Quality, Circularity-Free, Sequitur Score, Evidence Coverage</p>
      </div>
      <div class="card" style="border-left: 3px solid #00ff88">
        <h2>Agent Strategy Profiler</h2>
        <p style="color:#aaa;font-size:0.85em;line-height:1.5">Profiles how effectively each agent executes its trading strategy across multiple rounds. Measures conviction consistency (follow-through), risk awareness depth, market sensitivity, strategic adaptability, and information utilization.</p>
        <p style="color:#666;font-size:0.75em;margin-top:8px">Components: Conviction Consistency, Risk Awareness, Market Sensitivity, Strategic Adaptability, Information Utilization</p>
      </div>
    </div>

    <h2 class="section-title">All 26 Scoring Pillars</h2>
    <div class="pillar-grid">
      ${c}
    </div>

    <footer>
      <p>MoltApp v21 -- 26-Pillar AI Trading Benchmark | <a href="https://www.patgpt.us">www.patgpt.us</a> | <a href="https://huggingface.co/datasets/patruff/molt-benchmark">HuggingFace</a></p>
      <p style="margin-top:8px">Built for the Colosseum Agent Hackathon. Every trade requires reasoning. No black-box trades.</p>
    </footer>
  </div>
</body>
</html>`;return t.html(l)});import{createHash as CO}from"crypto";var fj=new Map,NO=new Map,wyt=new Map,pj=[],Syt=100;function Fyr(t){let e=JSON.stringify({action:t.action,agentId:t.agentId,confidence:t.confidence,intent:t.intent,predictedOutcome:t.predictedOutcome??null,quantity:t.quantity,reasoning:t.reasoning,roundId:t.roundId,sources:[...t.sources].sort(),symbol:t.symbol,tradeId:t.tradeId}),n={hash:CO("sha256").update(e).digest("hex"),fields:["action","agentId","confidence","intent","predictedOutcome","quantity","reasoning","roundId","sources","symbol","tradeId"],createdAt:new Date().toISOString(),agentId:t.agentId,roundId:t.roundId};return fj.set(t.tradeId,n),wyt.set(t.tradeId,e),n}function Ayt(t,e){if(e.length===0){let s=CO("sha256").update("empty_round").digest("hex"),a={root:s,leafCount:0,nodes:[{hash:s}],roundId:t,builtAt:new Date().toISOString()};return NO.set(t,a),a}let r=e.map(s=>({hash:fj.get(s)?.hash??CO("sha256").update(s).digest("hex"),tradeId:s}));for(;r.length>1&&(r.length&r.length-1)!==0;){let s=r[r.length-1].hash;r.push({hash:s})}let n=[...r],i=r;for(;i.length>1;){let s=[];for(let a=0;a<i.length;a+=2){let c=i[a],l=i[a+1]??c,d={hash:CO("sha256").update(c.hash+l.hash).digest("hex"),left:c.hash,right:l.hash};s.push(d),n.push(d)}i=s}let o={root:i[0].hash,leafCount:e.length,nodes:n,roundId:t,builtAt:new Date().toISOString()};return NO.set(t,o),o}function f2e(){let t=[],e=0;for(let[i,o]of wyt.entries()){e++;let s=fj.get(i);if(!s){t.push({tradeId:i,agentId:"unknown",field:"fingerprint",originalHash:"missing",currentHash:"n/a",severity:"critical",description:"Fingerprint record deleted \u2014 potential data purge"});continue}let a=CO("sha256").update(o).digest("hex");a!==s.hash&&t.push({tradeId:i,agentId:s.agentId,field:"canonical_data",originalHash:s.hash,currentHash:a,severity:"critical",description:"Canonical data hash mismatch \u2014 trade data was modified after fingerprinting"})}for(let[i,o]of NO.entries()){let s=o.nodes.filter(a=>a.tradeId).map(a=>a.tradeId);if(s.length>0){let a=Ayt(`verify_${i}`,s);NO.delete(`verify_${i}`),a.root!==o.root&&t.push({tradeId:`round_${i}`,agentId:"system",field:"merkle_root",originalHash:o.root,currentHash:a.root,severity:"critical",description:`Merkle root mismatch for round ${i} \u2014 round integrity compromised`})}}let r=e>0?Math.max(0,1-t.filter(i=>i.severity==="critical").length/e):1,n={tampered:t.length>0,recordsChecked:e,events:t,integrityScore:Math.round(r*1e3)/1e3,checkedAt:new Date().toISOString()};return pj.unshift(n),pj.length>Syt&&(pj.length=Syt),n}function mj(){let t=pj[0]??null;return{totalFingerprints:fj.size,totalMerkleTrees:NO.size,lastCheck:t,overallIntegrity:t?.integrityScore??1}}function Eyt(t){return Fyr(t)}function Tyt(t,e){return Ayt(t,e)}var OO=[];var m2e=new Map;function zyr(t){let e=[],r=new Set,n=[/(\w+x?)\s+(?:is\s+)?(?:at|priced?\s+at|trading\s+at|currently\s+at|around)\s+\$?([\d,]+\.?\d*)/gi,/\$?([\d,]+\.?\d*)\s+(?:per\s+share|price)\s+(?:for|of)\s+(\w+x?)/gi,/(\w+x?)\s+price\s+(?:is\s+|of\s+)?\$?([\d,]+\.?\d*)/gi];for(let u of n){let d;for(;(d=u.exec(t))!==null;){let p=`price_${d.index}`;if(!r.has(p)){r.add(p);let f=u===n[1];e.push({text:d[0],type:"price",symbol:f?d[2]:d[1],value:parseFloat((f?d[1]:d[2]).replace(/,/g,"")),position:d.index})}}}let i=[/(\w+x?)\s+(?:is\s+)?(?:up|down|changed?|moved?)\s+(?:by\s+)?([+-]?\d+\.?\d*)%/gi,/([+-]?\d+\.?\d*)\s*%\s+(?:change|gain|loss|increase|decrease|move)\s+(?:for|in|on)\s+(\w+x?)/gi,/(\w+x?)\s+(?:24h|daily)\s+(?:change|return)\s+(?:of\s+|is\s+)?([+-]?\d+\.?\d*)%/gi];for(let u of i){let d;for(;(d=u.exec(t))!==null;){let p=`pct_${d.index}`;if(!r.has(p)){r.add(p);let f=u===i[1];e.push({text:d[0],type:"percentage",symbol:f?d[2]:d[1],value:parseFloat(f?d[1]:d[2]),position:d.index})}}}let o=[/(\w+x?)\s+volume\s+(?:is\s+|of\s+)?\$?([\d,]+\.?\d*)\s*[MBK]?/gi,/(\w+x?)\s+(?:has\s+)?(?:high|low|elevated|above[\s-]average|below[\s-]average)\s+volume/gi,/(\d+\.?\d*)\s*x\s+(?:average\s+)?volume\s+(?:for|on|in)\s+(\w+x?)/gi];for(let u of o){let d;for(;(d=u.exec(t))!==null;){let p=`vol_${d.index}`;r.has(p)||(r.add(p),e.push({text:d[0],type:"volume",symbol:d[1],position:d.index}))}}let s=[/(\w+x?)\s+(?:is\s+)?(?:in\s+(?:an?\s+)?)?(?:uptrend|downtrend|bullish\s+trend|bearish\s+trend|positive\s+momentum|negative\s+momentum)/gi,/(?:uptrend|downtrend|bullish|bearish)\s+(?:trend|momentum)\s+(?:for|in|on)\s+(\w+x?)/gi];for(let u of s){let d;for(;(d=u.exec(t))!==null;){let p=`trend_${d.index}`;r.has(p)||(r.add(p),e.push({text:d[0],type:"trend",symbol:d[1],position:d.index}))}}let a=[/(\w+x?)\s+(?:is\s+)?(?:outperforming|underperforming|cheaper\s+than|more\s+expensive\s+than|higher\s+than|lower\s+than)\s+(\w+x?)/gi];for(let u of a){let d;for(;(d=u.exec(t))!==null;){let p=`comp_${d.index}`;r.has(p)||(r.add(p),e.push({text:d[0],type:"comparison",symbol:d[1],position:d.index}))}}let c=[/RSI\s+(?:is\s+)?(?:at\s+)?(\d+\.?\d*)/gi,/(?:above|below)\s+(?:the\s+)?(?:\d+[\s-]?day\s+)?(?:moving\s+average|MA|SMA|EMA)/gi,/MACD\s+(?:bullish|bearish)\s+crossover/gi,/(?:overbought|oversold)\s+(?:territory|levels?|zone)/gi];for(let u of c){let d;for(;(d=u.exec(t))!==null;){let p=`tech_${d.index}`;r.has(p)||(r.add(p),e.push({text:d[0],type:"technical",position:d.index}))}}let l=[/(?:earnings|revenue|profit)\s+(?:report|announcement|beat|miss|surprise)/gi,/(?:according\s+to|based\s+on)\s+(?:news|reports?|headlines?|articles?)/gi,/(?:announced|reported|disclosed|filed)\s+(?:\w+\s+){0,3}(?:earnings|acquisition|partnership|layoffs|expansion)/gi];for(let u of l){let d;for(;(d=u.exec(t))!==null;){let p=`news_${d.index}`;r.has(p)||(r.add(p),e.push({text:d[0],type:"news",position:d.index}))}}return e}function Vyr(t,e,r){let n=new Map,i=new Map,o=new Map,s=new Set,a=new Set;for(let l of e){let u=l.symbol.toLowerCase(),d=u.replace(/x$/i,"");n.set(u,l.price),n.set(d,l.price),i.set(u,l.change24h),i.set(d,l.change24h),o.set(u,l.volume24h),o.set(d,l.volume24h),s.add(u),s.add(d),l.news&&l.news.length>0&&(a.add(u),a.add(d))}let c=t.symbol?.toLowerCase();switch(t.type){case"price":{if(!c||!t.value)return{claim:t,status:"inferred",verificationConfidence:.3,explanation:"Price claim without parseable symbol or value"};let l=n.get(c);if(l===void 0)return{claim:t,status:"ungrounded",verificationConfidence:.8,explanation:`Symbol ${t.symbol} not found in provided market data \u2014 claim references unavailable data`};let u=Math.abs(t.value-l)/l;return u<=.05?{claim:t,status:"grounded",verificationConfidence:.95,explanation:`Price claim matches market data within 5% (claimed $${t.value}, actual $${l.toFixed(2)})`,groundTruth:`$${l.toFixed(2)}`}:u<=.2?{claim:t,status:"embellished",verificationConfidence:.7,explanation:`Price claim roughly correct but ${(u*100).toFixed(0)}% off (claimed $${t.value}, actual $${l.toFixed(2)})`,groundTruth:`$${l.toFixed(2)}`}:{claim:t,status:"hallucinated",verificationConfidence:.9,explanation:`Price claim ${(u*100).toFixed(0)}% off reality (claimed $${t.value}, actual $${l.toFixed(2)})`,groundTruth:`$${l.toFixed(2)}`}}case"percentage":{if(!c||t.value===void 0)return{claim:t,status:"inferred",verificationConfidence:.3,explanation:"Percentage claim without parseable symbol or value"};let l=i.get(c);if(l===void 0)return{claim:t,status:"ungrounded",verificationConfidence:.7,explanation:`No 24h change data available for ${t.symbol}`};if(l===null)return{claim:t,status:"inferred",verificationConfidence:.5,explanation:`24h change data not available for ${t.symbol} \u2014 inference from other data possible`};let u=Math.abs(t.value-l);return u<=1?{claim:t,status:"grounded",verificationConfidence:.9,explanation:`Percentage claim matches 24h change data (claimed ${t.value}%, actual ${l.toFixed(2)}%)`,groundTruth:`${l.toFixed(2)}%`}:u<=3?{claim:t,status:"embellished",verificationConfidence:.6,explanation:`Percentage claim approximately correct but off by ${u.toFixed(1)}pp`,groundTruth:`${l.toFixed(2)}%`}:{claim:t,status:"hallucinated",verificationConfidence:.8,explanation:`Percentage claim significantly off (claimed ${t.value}%, actual ${l.toFixed(2)}%)`,groundTruth:`${l.toFixed(2)}%`}}case"volume":{if(!c)return{claim:t,status:"inferred",verificationConfidence:.3,explanation:"Volume claim without parseable symbol"};let l=o.get(c);return l==null?{claim:t,status:"ungrounded",verificationConfidence:.6,explanation:`No volume data available for ${t.symbol} \u2014 claim references unavailable data`}:{claim:t,status:"grounded",verificationConfidence:.7,explanation:`Volume data is available for ${t.symbol}`,groundTruth:`$${(l/1e6).toFixed(1)}M`}}case"trend":return c&&s.has(c)?{claim:t,status:"inferred",verificationConfidence:.6,explanation:`Trend claim for available symbol ${t.symbol} \u2014 reasonable inference from price data`}:{claim:t,status:"ungrounded",verificationConfidence:.5,explanation:"Trend claim for symbol not in available data"};case"comparison":{let l=t.text.match(/(\w+x?)\s+\w+\s+(\w+x?)/i);if(l){let u=l[1].toLowerCase(),d=l[2].toLowerCase();if(s.has(u)&&s.has(d))return{claim:t,status:"grounded",verificationConfidence:.7,explanation:"Both symbols in comparison are in the available dataset"}}return{claim:t,status:"inferred",verificationConfidence:.4,explanation:"Comparison claim \u2014 partial data available"}}case"technical":return r.includes("technical_indicators")?{claim:t,status:"inferred",verificationConfidence:.5,explanation:"Technical indicator claim \u2014 agent cites technical indicators as a source"}:{claim:t,status:"ungrounded",verificationConfidence:.7,explanation:"Technical indicator claim without technical data being provided"};case"news":return c&&a.has(c)?{claim:t,status:"grounded",verificationConfidence:.7,explanation:`News data was provided for ${t.symbol}`}:r.includes("news_feed")?{claim:t,status:"inferred",verificationConfidence:.4,explanation:"News claim \u2014 agent cites news feed but specific news not verified"}:{claim:t,status:"ungrounded",verificationConfidence:.6,explanation:"News claim without news data being provided to agent"};default:return{claim:t,status:"inferred",verificationConfidence:.3,explanation:"General claim \u2014 insufficient data for verification"}}}function Ryt(t,e,r){let n=zyr(t),i=n.map(h=>Vyr(h,e,r)),o=i.filter(h=>h.status==="grounded").length,s=i.filter(h=>h.status==="ungrounded").length,a=i.filter(h=>h.status==="hallucinated").length,c=i.filter(h=>h.status==="embellished").length,l=i.filter(h=>h.status==="inferred").length,u=0,d=0;for(let h of i){let m=h.verificationConfidence;switch(d+=m,h.status){case"grounded":u+=m*1;break;case"inferred":u+=m*.7;break;case"embellished":u+=m*.4;break;case"ungrounded":u+=m*.1;break;case"hallucinated":u+=m*0;break}}let p=d>0?Math.round(u/d*1e3)/1e3:n.length===0?.8:1,f;return n.length===0?f="No verifiable factual claims found in reasoning \u2014 opinion-based analysis":p>=.8?f="Reasoning is well-grounded in available market data":p>=.5?f="Reasoning is partially grounded \u2014 some claims lack data support":p>=.3?f="Reasoning is poorly grounded \u2014 significant fabrication or unverifiable claims":f="Reasoning is largely ungrounded \u2014 agent appears to fabricate data",{groundingScore:p,totalClaims:n.length,groundedClaims:o,ungroundedClaims:s,hallucinatedClaims:a,embellishedClaims:c,inferredClaims:l,verifications:i,assessment:f}}function Iyt(t,e,r,n){OO.unshift({tradeId:t,agentId:e,roundId:r,result:n,timestamp:new Date().toISOString()}),OO.length>500&&(OO.length=500);let i=m2e.get(e)??{totalClaims:0,groundedClaims:0,hallucinatedClaims:0,checks:0};i.totalClaims+=n.totalClaims,i.groundedClaims+=n.groundedClaims,i.hallucinatedClaims+=n.hallucinatedClaims,i.checks++,m2e.set(e,i)}function Cyt(t=50){return OO.slice(0,t)}function PO(){let t={};for(let[e,r]of m2e.entries()){let n=OO.filter(o=>o.agentId===e),i=n.length>0?n.reduce((o,s)=>o+s.result.groundingScore,0)/n.length:0;t[e]={avgGroundingScore:Math.round(i*1e3)/1e3,totalClaims:r.totalClaims,groundedRate:r.totalClaims>0?Math.round(r.groundedClaims/r.totalClaims*1e3)/1e3:0,hallucinationRate:r.totalClaims>0?Math.round(r.hallucinatedClaims/r.totalClaims*1e3)/1e3:0,checks:r.checks}}return t}var hj=[];var h2e=new Map;function Hyr(t,e){let r=t.match(/\$[\d,]+\.?\d*/g)??[],n=t.match(/[+-]?\d+\.?\d*%/g)??[],i=new Map;for(let s of r)i.set(s,(i.get(s)||0)+1);let o=Array.from(i.entries()).filter(([s,a])=>a>=3);if(o.length>0){let s=o[0][0];return{type:"anchoring",confidence:Math.min(.9,.3+o[0][1]*.15),evidence:`Price ${s} mentioned ${o[0][1]} times \u2014 reasoning appears anchored to this value`,severity:o[0][1]>=4?"high":"medium",triggers:o.map(([a])=>a)}}if(e.length>=3){let s=new Set;for(let a of e){let c=a.symbol.toLowerCase(),l=c.replace(/x$/i,"");(t.toLowerCase().includes(c)||t.toLowerCase().includes(l))&&s.add(a.symbol)}if(s.size===1&&r.length>=2)return{type:"anchoring",confidence:.5,evidence:`Only references one symbol despite ${e.length} available \u2014 may be anchored to that stock's data`,severity:"low",triggers:Array.from(s)}}return null}function Gyr(t,e,r){let n=t.toLowerCase();if(e==="buy"){let i=[/bullish/i,/upside/i,/growth/i,/opportunity/i,/strong/i,/recovery/i,/undervalued/i,/momentum/i,/breakout/i].filter(a=>a.test(n)).length,o=[/bearish/i,/downside/i,/risk/i,/weakness/i,/overvalued/i,/decline/i,/loss/i,/concern/i,/resistance/i].filter(a=>a.test(n)).length,s=r.filter(a=>a.change24h!==null&&a.change24h<-2);if(i>=3&&o===0&&s.length>=2)return{type:"confirmation",confidence:.7,evidence:`Buy reasoning cites ${i} positive signals but ignores ${s.length} stocks with significant losses (>2% down)`,severity:"medium",triggers:s.map(a=>`${a.symbol}: ${a.change24h?.toFixed(1)}%`)};if(i>=4&&o===0)return{type:"confirmation",confidence:.6,evidence:`Reasoning cites ${i} positive signals with zero counterarguments \u2014 one-sided analysis`,severity:"medium",triggers:["all_positive_no_counterarguments"]}}if(e==="sell"){let i=[/bullish/i,/upside/i,/growth/i,/recovery/i,/undervalued/i].filter(s=>s.test(n)).length,o=[/bearish/i,/downside/i,/risk/i,/overvalued/i,/decline/i,/loss/i,/overexposed/i,/correction/i,/weakness/i].filter(s=>s.test(n)).length;if(o>=3&&i===0)return{type:"confirmation",confidence:.6,evidence:`Sell reasoning cites ${o} negative signals with zero positive counterpoints \u2014 one-sided analysis`,severity:"medium",triggers:["all_negative_no_counterarguments"]}}return null}function jyr(t){let e=t.toLowerCase(),r=[/\bjust\b/i,/\brecently\b/i,/\btoday\b/i,/\bjust\s+happened\b/i,/\blatest\b/i,/\bmost\s+recent\b/i,/\bthis\s+morning\b/i,/\bright\s+now\b/i,/\bcurrently\s+happening\b/i,/\bin\s+the\s+last\s+hour\b/i],n=[/\bhistorically\b/i,/\blong[\s-]term\b/i,/\bover\s+the\s+past\s+\w+\b/i,/\bfundamentals?\b/i,/\bseasonal/i,/\b\d+[\s-]year/i,/\bhistorical/i],i=r.filter(s=>s.test(e)).length,o=n.filter(s=>s.test(e)).length;if(i>=3&&o===0){let s=r.filter(a=>a.test(e)).map(a=>{let c=e.match(a);return c?c[0]:""}).filter(Boolean);return{type:"recency",confidence:Math.min(.85,.4+i*.15),evidence:`Reasoning uses ${i} recency terms ("just", "recently", "right now") with zero references to historical or long-term data`,severity:i>=4?"high":"medium",triggers:s}}return null}function qyr(t,e,r){let n=t.toLowerCase(),o=[/already\s+invested/i,/averaging\s+down/i,/can'?t\s+sell\s+at\s+a\s+loss/i,/too\s+much\s+invested/i,/wait\s+for\s+(?:it\s+to\s+)?(?:recover|come\s+back)/i,/don'?t\s+want\s+to\s+(?:realize|lock\s+in)\s+(?:a\s+)?loss/i,/committed\s+to\s+(?:this|the)\s+position/i,/initial\s+(?:investment|thesis)\s+still\s+holds/i,/doubling\s+down/i,/cost\s+basis/i].filter(s=>s.test(n));if(o.length>=2){let s=o.map(a=>{let c=n.match(a);return c?c[0]:""}).filter(Boolean);return{type:"sunk_cost",confidence:Math.min(.9,.4+o.length*.15),evidence:`Reasoning references prior investment ${o.length} times \u2014 decision may be influenced by sunk costs rather than current merit`,severity:o.length>=3?"high":"medium",triggers:s}}if((e==="hold"||e==="buy")&&r){for(let s of r.positions)if(s.unrealizedPnl<0){let a=s.symbol.toLowerCase();if(n.includes(a.replace(/x$/i,""))&&o.length>=1)return{type:"sunk_cost",confidence:.6,evidence:`Holding/adding to losing position (${s.symbol}) with sunk cost language`,severity:"medium",triggers:o.map(c=>{let l=n.match(c);return l?l[0]:""}).filter(Boolean)}}}return null}function Jyr(t,e,r){let n=t.split(/\s+/).length,i=[/\bdefinitely\b/i,/\bcertainly\b/i,/\bwithout\s+(?:a\s+)?doubt\b/i,/\bguaranteed\b/i,/\bobvious(?:ly)?\b/i,/\bclear(?:ly)?\b/i,/\bno\s+question\b/i,/\bsure\s+thing\b/i,/\bimpossible\s+(?:to\s+lose|not\s+to)\b/i,/\bwill\s+(?:definitely|certainly|absolutely)\b/i],o=[/\bmight\b/i,/\bcould\b/i,/\bperhaps\b/i,/\buncertain/i,/\brisk/i,/\bhowever\b/i,/\bbut\b/i,/\bcaveat\b/i,/\bon\s+the\s+other\s+hand\b/i,/\bif\b/i],s=i.filter(c=>c.test(t)).length,a=o.filter(c=>c.test(t)).length;if(e>.8&&s>=2&&a===0){let c=i.filter(l=>l.test(t)).map(l=>{let u=t.match(l);return u?u[0]:""}).filter(Boolean);return{type:"overconfidence",confidence:Math.min(.9,.5+s*.1+(e-.8)*2),evidence:`Confidence ${(e*100).toFixed(0)}% with ${s} certainty expressions and zero hedging \u2014 overconfidence likely`,severity:e>.9?"high":"medium",triggers:c}}return e>.85&&n<20&&r!=="hold"?{type:"overconfidence",confidence:.6,evidence:`Confidence ${(e*100).toFixed(0)}% with only ${n} words of reasoning \u2014 insufficient evidence for high confidence`,severity:"medium",triggers:[`confidence: ${e}`,`words: ${n}`]}:null}function Wyr(t,e,r){if(r.length===0)return null;let n=t.toLowerCase(),o=[/other\s+agents?\s+(?:are\s+)?(?:buy|sell|hold)ing/i,/consensus\s+(?:is\s+)?(?:to\s+)?(?:buy|sell|hold)/i,/following\s+(?:the\s+)?(?:market|crowd|trend|others?)/i,/everyone\s+(?:is\s+|else\s+is\s+)?(?:buy|sell|hold)ing/i,/(?:claude|gpt|grok)\s+(?:is\s+|also\s+)?(?:buy|sell|hold)ing/i,/aligning?\s+with\s+(?:the\s+)?(?:consensus|majority|other)/i].filter(a=>a.test(n));if(o.length>=1){let a=o.map(c=>{let l=n.match(c);return l?l[0]:""}).filter(Boolean);return{type:"herding",confidence:Math.min(.85,.5+o.length*.15),evidence:"Reasoning explicitly references other agents' decisions \u2014 herding behavior",severity:o.length>=2?"high":"medium",triggers:a}}let s=r.filter(a=>a.action===e);if(s.length===r.length&&r.length>=2){let a=new Set(n.split(/\s+/).filter(l=>l.length>4).map(l=>l.replace(/[^a-z]/g,""))),c=0;for(let l of s){let u=new Set(l.reasoning.toLowerCase().split(/\s+/).filter(f=>f.length>4).map(f=>f.replace(/[^a-z]/g,""))),d=0;for(let f of a)u.has(f)&&d++;let p=a.size>0?d/a.size:0;p>c&&(c=p)}if(c>.6)return{type:"herding",confidence:.5,evidence:`All agents took the same action (${e}) with ${(c*100).toFixed(0)}% reasoning keyword overlap \u2014 potential implicit herding`,severity:"low",triggers:[`keyword_overlap: ${(c*100).toFixed(0)}%`]}}return null}function Kyr(t,e,r){let n=t.toLowerCase(),i=[/can'?t\s+afford\s+(?:to\s+)?lose/i,/protect\s+(?:my\s+|our\s+)?(?:gains|profits?|capital)/i,/lock\s+in\s+(?:profits?|gains)/i,/afraid\s+(?:of\s+)?(?:losing|losses?)/i,/risk\s+(?:of\s+)?(?:losing|loss)/i,/cut\s+(?:my\s+|our\s+)?losses/i,/stop[\s-]loss/i,/downside\s+protection/i],o=[/maximize\s+(?:profit|gain|return)/i,/upside\s+potential/i,/growth\s+opportunity/i,/could\s+gain/i,/potential\s+(?:profit|return|upside)/i],s=i.filter(c=>c.test(n)).length,a=o.filter(c=>c.test(n)).length;if(s>=3&&a<=1){let c=i.filter(l=>l.test(n)).map(l=>{let u=n.match(l);return u?u[0]:""}).filter(Boolean);return{type:"loss_aversion",confidence:Math.min(.85,.4+s*.12),evidence:`${s} loss-avoidance references vs ${a} gain-seeking \u2014 asymmetric risk perception`,severity:s>=4?"high":"medium",triggers:c}}if(e==="sell"&&r){let c=r.positions.filter(u=>u.unrealizedPnlPercent>0),l=r.positions.filter(u=>u.unrealizedPnlPercent<-5);if(c.length>0&&l.length>0&&c.some(d=>n.includes(d.symbol.toLowerCase().replace(/x$/i,"")))&&l.length>0)return{type:"loss_aversion",confidence:.5,evidence:`Selling winning position while holding ${l.length} losing position(s) \u2014 classic disposition effect (loss aversion)`,severity:"low",triggers:l.map(d=>`${d.symbol}: ${d.unrealizedPnlPercent.toFixed(1)}%`)}}return null}function Nyt(t,e,r,n,i=[],o){let s=[],a=Hyr(t,n);a&&s.push(a);let c=Gyr(t,e,n);c&&s.push(c);let l=jyr(t);l&&s.push(l);let u=qyr(t,e,o?{positions:o.positions}:void 0);u&&s.push(u);let d=Jyr(t,r,e);d&&s.push(d);let p=Wyr(t,e,i);p&&s.push(p);let f=Kyr(t,e,o?{positions:o.positions.map(_=>({symbol:_.symbol,unrealizedPnl:_.unrealizedPnl,unrealizedPnlPercent:_.unrealizedPnlPercent}))}:void 0);f&&s.push(f);let h={high:1,medium:.6,low:.3},m=0;if(s.length>0){let _=s.reduce((x,E)=>x+E.confidence*h[E.severity],0);m=Math.min(1,_/3)}m=Math.round(m*1e3)/1e3;let g=s.length>0?s.sort((_,x)=>{let E=_.confidence*h[_.severity];return x.confidence*h[x.severity]-E})[0].type:null,b;return s.length===0?b="No cognitive biases detected \u2014 reasoning appears balanced and evidence-based":m<.2?b=`Minor bias indicators: ${s.map(_=>_.type).join(", ")}. Generally balanced reasoning.`:m<.5?b=`Moderate cognitive bias detected: ${g}. Reasoning is partially biased by cognitive shortcuts.`:b=`Significant cognitive bias: ${g}. Decision may be driven by bias rather than evidence.`,{biasScore:m,biasCount:s.length,detections:s,assessment:b,dominantBias:g}}function Oyt(t,e,r,n){hj.unshift({tradeId:t,agentId:e,roundId:r,result:n,timestamp:new Date().toISOString()}),hj.length>500&&(hj.length=500);let i=h2e.get(e)??{totalBiases:0,byType:{},checks:0,totalScore:0};i.totalBiases+=n.biasCount,i.checks++,i.totalScore+=n.biasScore;for(let o of n.detections)i.byType[o.type]=(i.byType[o.type]??0)+1;h2e.set(e,i)}function g2e(t=50){return hj.slice(0,t)}function kO(){let t={};for(let[e,r]of h2e.entries()){let n=Object.entries(r.byType).sort(([,i],[,o])=>o-i)[0];t[e]={avgBiasScore:r.checks>0?Math.round(r.totalScore/r.checks*1e3)/1e3:0,totalBiases:r.totalBiases,dominantBias:n?n[0]:null,biasDistribution:{...r.byType},checks:r.checks}}return t}var gj=new rn,DO=[],Pyt=200;function kyt(t,e){DO.unshift({type:t,data:e,timestamp:new Date().toISOString()}),DO.length>Pyt&&(DO.length=Pyt)}var y2e={financial:.06,reasoning:.05,safety:.05,calibration:.04,patterns:.03,adaptability:.03,forensic_quality:.04,validation_quality:.04,prediction_accuracy:.04,reasoning_stability:.03,provenance_integrity:.03,model_comparison:.03,metacognition:.04,reasoning_efficiency:.02,forensic_ledger:.02,strategy_genome:.02,adversarial_robustness:.03,cross_session_memory:.03,arbitration_quality:.03,debate_performance:.03,impact_forecasting:.03,reasoning_transparency:.04,decision_accountability:.03,quality_certification:.03,reasoning_chain_integrity:.04,strategy_profiling:.04,benchmark_integrity:.05,reasoning_grounding:.05,cognitive_bias:.05};function Qyr(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":"F"}function Xyr(t,e){let r={};if(e?.pillars)for(let s of e.pillars)r[s.name]=s.score;for(let s of Object.keys(y2e))s in r||(r[s]=.5);r.arbitration_quality=M6(t),r.debate_performance=L6(t),r.impact_forecasting=B6(t),r.adversarial_robustness=T6(t),r.cross_session_memory=R6(t),r.reasoning_transparency=C6(t),r.decision_accountability=O6(t),r.quality_certification=k6(t),r.reasoning_chain_integrity=sj(t),r.strategy_profiling=cj(t),r.benchmark_integrity=mj().overallIntegrity;let n=PO();r.reasoning_grounding=n[t]?.avgGroundingScore??.5;let i=kO();r.cognitive_bias=i[t]?Math.max(0,1-i[t].avgBiasScore):.5;let o=0;for(let[s,a]of Object.entries(y2e))o+=(r[s]??.5)*a;return{score:Math.round(o*100)/100,pillars:r}}function b2e(){let t=bd(),r=(t.length>0?t.map(n=>n.agentId):["claude-value-investor","gpt-momentum-trader","grok-contrarian"]).map(n=>{let i=t.find(a=>a.agentId===n),{score:o,pillars:s}=Xyr(n,i);return{agentId:n,composite:o,grade:Qyr(o),rank:0,pillars:s}});return r.sort((n,i)=>i.composite-n.composite),r.forEach((n,i)=>{n.rank=i+1}),r}gj.get("/data",t=>{let e=b2e(),r=mj(),n=PO(),i=kO(),o=f2e(),s=Cyt(10),a=g2e(10);return t.json({ok:!0,benchmark:"moltapp-v22",pillars:28,leaderboard:e,v22Features:{integrity:{overallScore:r.overallIntegrity,fingerprints:r.totalFingerprints,merkleTrees:r.totalMerkleTrees,tamperDetected:o.tampered},grounding:{agentStats:n,recentValidations:s.slice(0,5).map(c=>({agentId:c.agentId,score:c.result.groundingScore,claims:c.result.totalClaims,timestamp:c.timestamp}))},biases:{agentStats:i,recentDetections:a.slice(0,5).map(c=>({agentId:c.agentId,score:c.result.biasScore,dominant:c.result.dominantBias,count:c.result.biasCount,timestamp:c.timestamp}))}},weights:y2e,generatedAt:new Date().toISOString()})});gj.get("/stream",t=>{let e=new TextEncoder,r=new ReadableStream({start(n){for(let o of DO.slice(0,20))n.enqueue(e.encode(`data: ${JSON.stringify(o)}

`));let i=setInterval(()=>{let o=DO[0];o?n.enqueue(e.encode(`data: ${JSON.stringify(o)}

`)):n.enqueue(e.encode(`: keepalive

`))},5e3);setTimeout(()=>{clearInterval(i),n.close()},3e5)}});return new Response(r,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});gj.get("/export",t=>{let e=b2e(),r=PO(),n=kO(),o=e.map(s=>({...s,grounding:r[s.agentId]??null,biases:n[s.agentId]??null,benchmark:"moltapp-v22"})).map(s=>JSON.stringify(s)).join(`
`);return new Response(o,{headers:{"Content-Type":"application/jsonl","Content-Disposition":'attachment; filename="moltapp-v22-export.jsonl"'}})});gj.get("/",t=>{let e=b2e(),r=mj(),n=PO(),i=kO(),o=f2e(),s=g2e(5),a={"claude-value-investor":"#D97706","gpt-momentum-trader":"#059669","grok-contrarian":"#7C3AED"},c=l=>l===1?"1st":l===2?"2nd":`${l}th`;return t.html(qr`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MoltApp Benchmark v22 - 28 Pillar AI Trading Benchmark</title>
  <meta http-equiv="refresh" content="30" />
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { background: #0a0a0f; color: #e0e0e0; font-family: 'SF Mono', 'Fira Code', monospace; }
    .header { background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 24px; border-bottom: 2px solid #00ff88; text-align: center; }
    .header h1 { font-size: 28px; color: #00ff88; margin-bottom: 4px; }
    .header .version { color: #888; font-size: 14px; }
    .header .badges { margin-top: 8px; display: flex; gap: 8px; justify-content: center; flex-wrap: wrap; }
    .badge { padding: 4px 12px; border-radius: 12px; font-size: 11px; font-weight: bold; }
    .badge-green { background: #00ff8820; color: #00ff88; border: 1px solid #00ff8840; }
    .badge-blue { background: #3b82f620; color: #60a5fa; border: 1px solid #3b82f640; }
    .badge-purple { background: #8b5cf620; color: #a78bfa; border: 1px solid #8b5cf640; }
    .badge-amber { background: #f59e0b20; color: #fbbf24; border: 1px solid #f59e0b40; }
    .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(420px, 1fr)); gap: 16px; margin-top: 16px; }
    .card { background: #111827; border: 1px solid #1f2937; border-radius: 12px; padding: 16px; }
    .card h2 { color: #00ff88; font-size: 16px; margin-bottom: 12px; }
    .card h3 { color: #60a5fa; font-size: 14px; margin-bottom: 8px; }
    table { width: 100%; border-collapse: collapse; }
    th, td { padding: 8px 10px; text-align: left; font-size: 13px; }
    th { color: #9ca3af; border-bottom: 1px solid #374151; font-size: 11px; text-transform: uppercase; }
    td { border-bottom: 1px solid #1f2937; }
    .score { font-weight: bold; }
    .score-high { color: #00ff88; }
    .score-mid { color: #fbbf24; }
    .score-low { color: #ef4444; }
    .agent-name { font-weight: bold; }
    .grade { font-size: 18px; font-weight: bold; }
    .new-badge { background: #ff006620; color: #ff0066; border: 1px solid #ff006640; padding: 2px 6px; border-radius: 4px; font-size: 10px; margin-left: 4px; }
    .integrity-bar { height: 8px; border-radius: 4px; background: #1f2937; overflow: hidden; margin-top: 4px; }
    .integrity-fill { height: 100%; border-radius: 4px; transition: width 0.5s; }
    .bias-tag { display: inline-block; padding: 2px 8px; border-radius: 4px; font-size: 11px; margin: 2px; }
    .bias-anchoring { background: #ef444420; color: #fca5a5; }
    .bias-confirmation { background: #f59e0b20; color: #fde68a; }
    .bias-recency { background: #3b82f620; color: #93c5fd; }
    .bias-overconfidence { background: #8b5cf620; color: #c4b5fd; }
    .bias-herding { background: #06b6d420; color: #67e8f9; }
    .bias-sunk_cost { background: #f9731620; color: #fdba74; }
    .bias-loss_aversion { background: #ec489920; color: #f9a8d4; }
    .pillar-bar { display: flex; align-items: center; margin: 2px 0; font-size: 11px; }
    .pillar-name { width: 160px; color: #9ca3af; }
    .pillar-fill-bg { flex: 1; height: 6px; background: #1f2937; border-radius: 3px; overflow: hidden; }
    .pillar-fill { height: 100%; border-radius: 3px; }
    .pillar-val { width: 40px; text-align: right; color: #d1d5db; }
    .footer { text-align: center; padding: 16px; color: #6b7280; font-size: 12px; margin-top: 16px; }
    .footer a { color: #60a5fa; text-decoration: none; }
  </style>
</head>
<body>
  <div class="header">
    <h1>MoltApp Benchmark v22</h1>
    <div class="version">28-Pillar AI Trading Benchmark | Live on Solana</div>
    <div class="badges">
      <span class="badge badge-green">28 SCORING PILLARS</span>
      <span class="badge badge-blue">SHA-256 INTEGRITY</span>
      <span class="badge badge-purple">COGNITIVE BIAS DETECTION</span>
      <span class="badge badge-amber">GROUNDING VALIDATION</span>
    </div>
  </div>

  <div class="container">
    <!-- Leaderboard -->
    <div class="card" style="margin-top:8px;">
      <h2>LEADERBOARD</h2>
      <table>
        <tr>
          <th>Rank</th><th>Agent</th><th>Composite</th><th>Grade</th>
          <th>Grounding</th><th>Bias-Free</th><th>Integrity</th>
        </tr>
        ${e.map(l=>{let u=a[l.agentId]??"#666",d=n[l.agentId],p=i[l.agentId],f=d?.avgGroundingScore??.5,h=p?1-p.avgBiasScore:.5;return qr`<tr>
            <td><b>${c(l.rank)}</b></td>
            <td class="agent-name" style="color:${u}">${l.agentId}</td>
            <td class="score ${l.composite>=.7?"score-high":l.composite>=.5?"score-mid":"score-low"}">${l.composite.toFixed(2)}</td>
            <td class="grade" style="color:${l.composite>=.7?"#00ff88":l.composite>=.5?"#fbbf24":"#ef4444"}">${l.grade}</td>
            <td class="score ${f>=.7?"score-high":f>=.5?"score-mid":"score-low"}">${f.toFixed(2)}</td>
            <td class="score ${h>=.7?"score-high":h>=.5?"score-mid":"score-low"}">${h.toFixed(2)}</td>
            <td class="score score-high">${r.overallIntegrity.toFixed(2)}</td>
          </tr>`})}
      </table>
    </div>

    <div class="grid">
      <!-- v22 Feature: Integrity -->
      <div class="card">
        <h2>BENCHMARK INTEGRITY <span class="new-badge">v22 NEW</span></h2>
        <p style="color:#9ca3af;font-size:12px;margin-bottom:8px;">Cryptographic verification: SHA-256 fingerprints + Merkle audit trees</p>
        <div style="display:flex;gap:16px;flex-wrap:wrap;">
          <div>
            <div style="color:#9ca3af;font-size:11px;">INTEGRITY SCORE</div>
            <div style="font-size:24px;font-weight:bold;color:${r.overallIntegrity>=.9?"#00ff88":"#fbbf24"}">${(r.overallIntegrity*100).toFixed(0)}%</div>
          </div>
          <div>
            <div style="color:#9ca3af;font-size:11px;">FINGERPRINTS</div>
            <div style="font-size:24px;font-weight:bold;color:#60a5fa;">${r.totalFingerprints}</div>
          </div>
          <div>
            <div style="color:#9ca3af;font-size:11px;">MERKLE TREES</div>
            <div style="font-size:24px;font-weight:bold;color:#a78bfa;">${r.totalMerkleTrees}</div>
          </div>
          <div>
            <div style="color:#9ca3af;font-size:11px;">TAMPER STATUS</div>
            <div style="font-size:14px;font-weight:bold;color:${o.tampered?"#ef4444":"#00ff88"}">${o.tampered?"ALERT":"CLEAN"}</div>
          </div>
        </div>
        <div class="integrity-bar" style="margin-top:12px;">
          <div class="integrity-fill" style="width:${r.overallIntegrity*100}%;background:${r.overallIntegrity>=.9?"#00ff88":"#fbbf24"};"></div>
        </div>
      </div>

      <!-- v22 Feature: Grounding -->
      <div class="card">
        <h2>REASONING GROUNDING <span class="new-badge">v22 NEW</span></h2>
        <p style="color:#9ca3af;font-size:12px;margin-bottom:8px;">Verifies factual claims against real market data</p>
        <table>
          <tr><th>Agent</th><th>Score</th><th>Claims</th><th>Grounded</th><th>Halluc.</th></tr>
          ${Object.entries(n).map(([l,u])=>{let d=a[l]??"#666";return qr`<tr>
              <td style="color:${d}">${l.split("-")[0]}</td>
              <td class="score ${u.avgGroundingScore>=.7?"score-high":u.avgGroundingScore>=.5?"score-mid":"score-low"}">${u.avgGroundingScore.toFixed(2)}</td>
              <td>${u.totalClaims}</td>
              <td style="color:#00ff88">${(u.groundedRate*100).toFixed(0)}%</td>
              <td style="color:#ef4444">${(u.hallucinationRate*100).toFixed(0)}%</td>
            </tr>`})}
          ${Object.keys(n).length===0?qr`<tr><td colspan="5" style="color:#6b7280">No grounding data yet  run trading rounds</td></tr>`:""}
        </table>
      </div>

      <!-- v22 Feature: Cognitive Biases -->
      <div class="card">
        <h2>COGNITIVE BIAS DETECTION <span class="new-badge">v22 NEW</span></h2>
        <p style="color:#9ca3af;font-size:12px;margin-bottom:8px;">Identifies reasoning errors: anchoring, confirmation, recency, overconfidence, herding</p>
        <table>
          <tr><th>Agent</th><th>Bias Score</th><th>Total</th><th>Dominant</th></tr>
          ${Object.entries(i).map(([l,u])=>{let d=a[l]??"#666",p=u.avgBiasScore<=.2?"#00ff88":u.avgBiasScore<=.5?"#fbbf24":"#ef4444";return qr`<tr>
              <td style="color:${d}">${l.split("-")[0]}</td>
              <td class="score" style="color:${p}">${u.avgBiasScore.toFixed(2)}</td>
              <td>${u.totalBiases}</td>
              <td>${u.dominantBias?qr`<span class="bias-tag bias-${u.dominantBias}">${u.dominantBias}</span>`:"-"}</td>
            </tr>`})}
          ${Object.keys(i).length===0?qr`<tr><td colspan="4" style="color:#6b7280">No bias data yet  run trading rounds</td></tr>`:""}
        </table>

        ${s.length>0?qr`
        <h3 style="margin-top:12px;">Recent Detections</h3>
        ${s.map(l=>qr`
          <div style="margin:4px 0;font-size:11px;padding:4px 8px;background:#1f2937;border-radius:4px;">
            <span style="color:${a[l.agentId]??"#666"}">${l.agentId.split("-")[0]}</span>
            ${l.result.detections.map(u=>qr`<span class="bias-tag bias-${u.type}">${u.type}</span>`)}
            <span style="color:#6b7280"> | score: ${l.result.biasScore.toFixed(2)}</span>
          </div>
        `)}`:""}
      </div>

      <!-- Pillar Breakdown for #1 Agent -->
      <div class="card">
        <h2>PILLAR BREAKDOWN${e.length>0?qr`  ${e[0].agentId}`:""}</h2>
        ${e.length>0?Object.entries(e[0].pillars).sort(([,l],[,u])=>u-l).map(([l,u])=>{let d=["benchmark_integrity","reasoning_grounding","cognitive_bias"].includes(l),p=Math.max(2,u*100),f=u>=.7?"#00ff88":u>=.5?"#fbbf24":"#ef4444";return qr`<div class="pillar-bar">
              <span class="pillar-name">${l.replace(/_/g," ")}${d?qr`<span class="new-badge">NEW</span>`:""}</span>
              <div class="pillar-fill-bg"><div class="pillar-fill" style="width:${p}%;background:${f};"></div></div>
              <span class="pillar-val">${u.toFixed(2)}</span>
            </div>`}):qr`<p style="color:#6b7280">No data yet</p>`}
      </div>
    </div>
  </div>

  <div class="footer">
    <a href="https://www.patgpt.us">www.patgpt.us</a> |
    <a href="https://huggingface.co/datasets/patruff/molt-benchmark">HuggingFace Dataset</a> |
    <a href="/api/v1/benchmark-v22/scores">API</a> |
    <a href="/benchmark-v22/data">JSON Data</a> |
    <a href="/benchmark-v22/export">JSONL Export</a>
    <br/>v22  28 Pillar AI Trading Benchmark | Auto-refreshes every 30s
  </div>
</body>
</html>`)});function $6(t,e){let r=e?`${e} ${t}`:t,n=r.toLowerCase(),i="unspecified",o=/\b(expect(?:ing)?\s+(?:continued\s+)?(?:up|rise|gain|increase|appreciation|growth|bullish|higher|upside))|(?:target.*\+\d)|(?:price\s+(?:will|should|to)\s+(?:rise|increase|go\s+up|climb|rally))/i,s=/\b(expect(?:ing)?\s+(?:continued\s+)?(?:down|fall|decline|decrease|depreciation|bearish|lower|downside))|(?:target.*-\d)|(?:price\s+(?:will|should|to)\s+(?:fall|decrease|go\s+down|drop|decline))/i,a=/\b(consolidat|sideways|range-?bound|stable|flat|neutral|no\s+significant\s+move)/i;o.test(r)?i="up":s.test(r)?i="down":a.test(r)&&(i="flat");let c=null,l=r.match(/[+-]?\s*(\d+(?:\.\d+)?)\s*%/);if(l){let f=parseFloat(l[1]);i==="down"?c=-f:i==="up"?c=f:c=l[0].includes("-")?-f:f}let u=null,d=[[/\b(\d+)\s*h(?:our)?s?\b/i,"hours"],[/\b(\d+)\s*d(?:ay)?s?\b/i,"days"],[/\b(\d+)\s*w(?:eek)?s?\b/i,"weeks"],[/\bnext\s+(?:trading\s+)?session\b/i,"1_session"],[/\bshort[\s-]?term\b/i,"short_term"],[/\bmedium[\s-]?term\b/i,"medium_term"],[/\blong[\s-]?term\b/i,"long_term"],[/\bovernight\b/i,"overnight"],[/\bintraday\b/i,"intraday"]];for(let[f,h]of d)if(f.test(n)){u=h;break}let p=.5;return/\bwill\b|\bdefinitely\b|\bcertain\b|\bstrongly\s+expect/i.test(r)?p=.9:/\bexpect\b|\bshould\b|\blikely\b|\bprobab/i.test(r)?p=.7:/\bmight\b|\bcould\b|\bpossib/i.test(r)&&(p=.4),i==="unspecified"&&(p=0),{predictedDirection:i,predictedMagnitude:c,timeframeSpecified:u,confidenceInPrediction:p}}function Dyt(t,e){let r=e.filter(g=>g.agentId!==t.agentId);if(r.length===0)return{agreedWithMajority:1,wasContrarian:0,reasoningSimilarity:0,independentThinkingScore:1,confidenceDelta:0};let n={};for(let g of e)n[g.action]=(n[g.action]??0)+1;let i=Object.entries(n).sort((g,b)=>b[1]-g[1])[0][0],o=t.action===i?1:0,s=1-o,a=e.reduce((g,b)=>g+b.confidence,0)/e.length,c=t.confidence-a,l=new Set(t.reasoning.toLowerCase().replace(/[^\w\s]/g,"").split(/\s+/).filter(g=>g.length>3)),u=0,d=0;for(let g of r){let b=new Set(g.reasoning.toLowerCase().replace(/[^\w\s]/g,"").split(/\s+/).filter(R=>R.length>3)),_=new Set([...l].filter(R=>b.has(R))),x=new Set([...l,...b]),E=x.size>0?_.size/x.size:0;d+=E,u=Math.max(u,E)}let p=Math.round(d/r.length*100)/100,f=1-p,h=s*.3,m=Math.min(1,Math.round((f*.7+h)*100)/100);return{agreedWithMajority:o,wasContrarian:s,reasoningSimilarity:p,independentThinkingScore:m,confidenceDelta:Math.round(c*100)/100}}function yj(t){let r=Math.max(0,Math.min(1,(t.pnl+50)/150))*15+t.coherence*12+t.hallucinationFree*12+t.discipline*10+t.calibration*8+t.prediction*8+t.reasoningDepth*10+t.sourceQuality*8+t.outcomePrediction*9+t.consensusIntelligence*8,n=Math.round(r*100)/100,i;return n>=85?i="S":n>=75?i="A":n>=60?i="B":n>=45?i="C":n>=30?i="D":i="F",{composite:n,grade:i,dimensions:t}}var Yyr=[/\btherefore\b/i,/\bbecause\b/i,/\bhowever\b/i,/\bconsequently\b/i,/\bfurthermore\b/i,/\bmoreover\b/i,/\bin\s+addition\b/i,/\bnevertheless\b/i,/\balthough\b/i,/\bdespite\b/i,/\bgiven\s+that\b/i,/\bas\s+a\s+result\b/i,/\bsince\b/i,/\bthus\b/i,/\bhence\b/i,/\bwhich\s+means\b/i,/\bthis\s+suggests?\b/i,/\bthis\s+indicates?\b/i,/\bwhile\b/i,/\bon\s+the\s+other\s+hand\b/i,/\bin\s+contrast\b/i,/\bso\b/i,/\bbut\b/i,/\byet\b/i],Zyr=[/\$\d+\.?\d*/,/\d+\.?\d*%/,/\d+\.?\d*[xX]\s+(?:average|normal|typical)/i,/\b\d{1,3}(?:,\d{3})*\b/,/\bRSI\s+(?:at|of|is)\s+\d+/i,/\bMA\s*\d+/i,/\bP\/E\s+(?:of|at|is)\s+\d+/i,/\bvolume\s+(?:is|at|of)\s+/i,/\b\d+\.?\d*\s*(?:M|B|K)\b/,/\bcurrently\s+at\s+/i,/\bdown\s+\d+/i,/\bup\s+\d+/i],ebr=[/\brisk[s]?\s+(?:include|are|of|is)\b/i,/\bdownside\s+(?:risk|scenario|potential)\b/i,/\bhowever\b/i,/\bon\s+the\s+other\s+hand\b/i,/\bcould\s+(?:also|fail|drop|decline)\b/i,/\bif\s+.*(?:wrong|fails?|drops?|declines?)\b/i,/\bcaution\b/i,/\bworst\s+case\b/i,/\bconcern\b/i,/\bvolatil/i,/\buncertain/i,/\bpotential\s+(?:loss|downside|negative)\b/i,/\bwarning\b/i,/\bcontrary\s+(?:to|view|argument)\b/i,/\bbears?\s+(?:might|could|would|argue)\b/i,/\bskeptic/i],tbr=[/\btherefore\s+(?:I|we)\s+(?:recommend|suggest|should|will|choose)\b/i,/\bbased\s+on\s+(?:this|these|the\s+above)\b/i,/\bin\s+conclusion\b/i,/\bmy\s+(?:decision|recommendation|action)\b/i,/\bI(?:'m|\s+am)\s+(?:buying|selling|holding)\b/i,/\bthis\s+(?:makes|leads\s+me\s+to)\b/i,/\boverall\b/i,/\bnet\s+(?:result|assessment|conclusion)\b/i,/\bconviction\b/i,/\btaking\s+(?:a|the)\s+(?:position|trade)\b/i,/\bexecuting\s+(?:a|this)\b/i],rbr={price_data:[/\bprice\b/i,/\b\$\d+/i,/\btrading\s+at\b/i,/\bcurrent\s+price\b/i,/\bquote\b/i],volume_data:[/\bvolume\b/i,/\bturnover\b/i,/\bliquidity\b/i],momentum_signals:[/\b24h\s+change\b/i,/\bmomentum\b/i,/\btrend\b/i,/\bbreakout\b/i,/\brally\b/i],technical_indicators:[/\bRSI\b/i,/\bMACD\b/i,/\bmoving\s+average\b/i,/\bMA\d+\b/i,/\bBollinger\b/i,/\bsupport\b/i,/\bresistance\b/i,/\boverbought\b/i,/\boversold\b/i],fundamental_data:[/\bearnings\b/i,/\brevenue\b/i,/\bP\/E\b/i,/\bvaluation\b/i,/\bfundamental/i,/\bgrowth\s+rate\b/i,/\bmargin\b/i],portfolio_context:[/\bportfolio\b/i,/\bposition\b/i,/\bcash\s+balance\b/i,/\bexposure\b/i,/\ballocation\b/i,/\bP&?L\b/i],news_events:[/\bnews\b/i,/\bheadline\b/i,/\breport\b/i,/\bannounce/i,/\bearnings\s+(?:call|report|release)\b/i,/\bcatalyst\b/i],sentiment:[/\bsentiment\b/i,/\bmood\b/i,/\bfear\b/i,/\bgreed\b/i,/\bconsensus\b/i],peer_comparison:[/\bsector\b/i,/\bpeer\b/i,/\bcompetitor\b/i,/\bcorrelation\b/i,/\brelative\s+(?:to|performance)\b/i],risk_metrics:[/\bvolatility\b/i,/\bdrawdown\b/i,/\bSharpe\b/i,/\bbeta\b/i,/\bVaR\b/i,/\brisk\s+score\b/i]},nbr=[/\bcombined\s+with\b/i,/\balong\s+with\b/i,/\bconfirmed\s+by\b/i,/\bcorroborated\b/i,/\bconsistent\s+with\b/i,/\b(?:both|all)\s+.*(?:and|indicate|suggest|show)\b/i,/\bwhile\s+.*also\b/i,/\bprice\s+.*volume\b/i,/\btechnical\s+.*fundamental\b/i,/\bsupports?\s+(?:this|the|my)\b/i,/\breinforced?\s+by\b/i,/\baligns?\s+with\b/i],ibr=[/\b(?:the|this)\s+\d+\.?\d*%\s+(?:change|move|gain|loss|increase|decrease)\s+(?:suggests?|indicates?|shows?|means?)\b/i,/\bprice\s+(?:of|at)\s+\$\d+.*(?:suggests?|indicates?|means?|shows?)\b/i,/\bvolume\s+.*(?:suggests?|indicates?|confirms?)\b/i,/\b(?:RSI|MACD|MA)\s+.*(?:signals?|suggests?|indicates?)\b/i,/\bgiven\s+(?:the|that|this)\s+.*\d+/i,/\bwith\s+.*at\s+\d+/i,/\bbased\s+on\s+.*\d+/i,/\bconsidering\s+.*\d+/i];function tb(t){let e=t.split(/\s+/).filter(x=>x.length>0),r=e.length,n=t.split(/[.!?]+/).filter(x=>x.trim().length>0),i=Math.max(1,n.length),s=n.filter(x=>x.trim().split(/\s+/).length>=5).length,a=0;for(let x of Yyr){let E=t.match(new RegExp(x.source,"gi"));E&&(a+=E.length)}let c=Math.round(a/i*100)/100,l=0;for(let x of Zyr){let E=t.match(new RegExp(x.source,"gi"));E&&(l+=E.length)}let u=Math.min(1,l/5),d=0;for(let x of ebr)x.test(t)&&d++;let p=Math.min(1,d/3),f=0;for(let x of tbr)x.test(t)&&f++;let h=Math.min(1,f/2),m=new Set(e.map(x=>x.toLowerCase().replace(/[^a-z]/g,""))),g=r>0?Math.round(m.size/r*100)/100:0,b=sbr(t);return{depthScore:Math.round((obr(s)*.2+Math.min(1,c/.8)*.15+u*.25+p*.15+h*.15+Math.min(1,g/.6)*.1)*100)/100,stepCount:s,connectiveDensity:c,evidenceAnchoringScore:Math.round(u*100)/100,counterArgumentScore:Math.round(p*100)/100,conclusionClarity:Math.round(h*100)/100,wordCount:r,vocabularyRichness:g,reasoningPattern:b}}function rb(t,e){let r=[];for(let[h,m]of Object.entries(rbr))for(let g of m)if(g.test(t)){r.push(h);break}let n=[...new Set([...r,...e])],i=n.length,o=Math.min(1,r.length/4),s=0,a=[/\$\d+\.?\d*/g,/\d+\.?\d*%/g,/\d+\.?\d*[xX]\b/g,/\d{1,3}(?:,\d{3})+/g];for(let h of a){let m=t.match(h);m&&(s+=m.length)}let c=Math.min(1,s/4),l=0;for(let h of nbr)h.test(t)&&l++;let u=Math.min(1,l/2),d=0;for(let h of ibr)h.test(t)&&d++;let p=Math.min(1,d/2);return{qualityScore:Math.round((Math.min(1,i/3)*.15+o*.25+c*.25+u*.15+p*.2)*100)/100,sourceCount:i,diversityScore:Math.round(o*100)/100,specificityScore:Math.round(c*100)/100,crossReferenceScore:Math.round(u*100)/100,integrationScore:Math.round(p*100)/100,sourceCategories:n}}function obr(t){return Math.min(1,t/5)}function sbr(t){let e=t.toLowerCase();return/step\s+\d|first.*then.*finally/i.test(e)?"sequential":/on\s+one\s+hand.*on\s+the\s+other/i.test(e)?"comparative":/risk.*reward|upside.*downside|pros?.*cons?/i.test(e)?"risk_reward":/if.*then.*else|scenario/i.test(e)?"conditional":/data\s+shows|evidence\s+suggests|based\s+on/i.test(e)?"evidence_based":/hypothesis|thesis|theory/i.test(e)?"thesis_driven":/technical.*indicator|chart.*pattern|RSI|MACD/i.test(e)?"technical_analysis":/fundamentals?|valuation|earnings|revenue/i.test(e)?"fundamental_analysis":/contrarian|against\s+the\s+crowd|overreaction/i.test(e)?"contrarian":/momentum|trend|breakout/i.test(e)?"momentum":"general"}var Rx=new rn,_j=new Map,bj=[],vj=[];function Myt(t,e,r,n,i,o,s,a){let c=$6(e.reasoning,e.predictedOutcome);bj.push({agentId:e.agentId,roundId:t,symbol:e.symbol,predictedDirection:c.predictedDirection,predictedMagnitude:c.predictedMagnitude,timeframeSpecified:c.timeframeSpecified,confidence:c.confidenceInPrediction,timestamp:new Date().toISOString()}),bj.length>1e3&&bj.shift();let l=Dyt(e,r);vj.push({roundId:t,agentId:e.agentId,agreedWithMajority:l.agreedWithMajority,wasContrarian:l.wasContrarian,reasoningSimilarity:l.reasoningSimilarity,independentThinkingScore:l.independentThinkingScore,timestamp:new Date().toISOString()}),vj.length>1e3&&vj.shift();let u=_j.get(e.agentId)??{trades:0,coherence:[],hallucinationFreeRates:[],disciplineRates:[],depthScores:[],sourceQualityScores:[],predictionScores:[],consensusScores:[],recentReasoning:[],intents:{}};u.trades++,u.coherence.push(n),u.hallucinationFreeRates.push(i),u.disciplineRates.push(o?1:0),u.depthScores.push(s),u.sourceQualityScores.push(a),u.predictionScores.push(c.confidenceInPrediction>0?.6:.3),u.consensusScores.push(l.independentThinkingScore),u.recentReasoning.unshift(e.reasoning.slice(0,200)),u.recentReasoning.length>10&&u.recentReasoning.pop();let d=La(e.reasoning,e.action);u.intents[d]=(u.intents[d]??0)+1;let p=500;for(let f of[u.coherence,u.hallucinationFreeRates,u.disciplineRates,u.depthScores,u.sourceQualityScores,u.predictionScores,u.consensusScores])f.length>p&&f.shift();_j.set(e.agentId,u)}function zc(t){return t.length>0?t.reduce((e,r)=>e+r,0)/t.length:0}function abr(){let t=[];for(let[e,r]of _j.entries()){let n=yj({pnl:0,coherence:zc(r.coherence),hallucinationFree:zc(r.hallucinationFreeRates),discipline:zc(r.disciplineRates),calibration:.5,prediction:.5,reasoningDepth:zc(r.depthScores),sourceQuality:zc(r.sourceQualityScores),outcomePrediction:zc(r.predictionScores),consensusIntelligence:zc(r.consensusScores)});t.push({...n,agentId:e,rank:0,tradeCount:r.trades})}return t.sort((e,r)=>r.composite-e.composite),t.forEach((e,r)=>e.rank=r+1),t}Rx.get("/leaderboard",async t=>{try{let r=await qt.select().from(Bt).orderBy(Vo(Bt.timestamp)).limit(500);if(r.length>0){let n=new Map;for(let o of r){let s=n.get(o.agentId)??[];s.push(o),n.set(o.agentId,s)}let i=[];for(let[o,s]of n.entries()){let a=s.reduce((g,b)=>g+(b.coherenceScore??0),0)/s.length,l=1-s.filter(g=>g.hallucinationFlags&&g.hallucinationFlags.length>0).length/s.length,u=s.filter(g=>g.disciplinePass!=="fail").length/s.length,d=0,p=0,f=0;for(let g of s.slice(0,50)){let b=tb(g.reasoning),_=rb(g.reasoning,g.sources??[]),x=$6(g.reasoning,g.predictedOutcome);d+=b.depthScore,p+=_.qualityScore,f+=x.confidenceInPrediction>0?.6:.3}let h=Math.min(s.length,50),m=yj({pnl:0,coherence:a,hallucinationFree:l,discipline:u,calibration:.5,prediction:.5,reasoningDepth:d/h,sourceQuality:p/h,outcomePrediction:f/h,consensusIntelligence:.5});i.push({...m,agentId:o,rank:0,tradeCount:s.length})}return i.sort((o,s)=>s.composite-o.composite),i.forEach((o,s)=>o.rank=s+1),t.json({ok:!0,version:"v25",dimensions:10,leaderboard:i,totalTrades:r.length,source:"database"})}}catch{}let e=abr();return t.json({ok:!0,version:"v25",dimensions:10,leaderboard:e,source:"cache"})});Rx.get("/predictions",t=>{let e=t.req.query("agent"),r=Math.min(parseInt(t.req.query("limit")??"50",10),200),n=bj;return e&&(n=n.filter(i=>i.agentId===e)),t.json({ok:!0,predictions:n.slice(-r).reverse(),total:n.length,summary:{totalPredictions:n.length,directionalBreakdown:{up:n.filter(i=>i.predictedDirection==="up").length,down:n.filter(i=>i.predictedDirection==="down").length,flat:n.filter(i=>i.predictedDirection==="flat").length,unspecified:n.filter(i=>i.predictedDirection==="unspecified").length},withTimeframe:n.filter(i=>i.timeframeSpecified!==null).length,withMagnitude:n.filter(i=>i.predictedMagnitude!==null).length}})});Rx.get("/consensus",t=>{let e=t.req.query("agent"),r=Math.min(parseInt(t.req.query("limit")??"50",10),200),n=vj;e&&(n=n.filter(s=>s.agentId===e));let i=new Map;for(let s of n){let a=i.get(s.agentId)??{agreed:0,contrarian:0,total:0,avgSimilarity:0,avgIndependence:0};a.total++,a.agreed+=s.agreedWithMajority,a.contrarian+=s.wasContrarian,a.avgSimilarity+=s.reasoningSimilarity,a.avgIndependence+=s.independentThinkingScore,i.set(s.agentId,a)}let o=Array.from(i.entries()).map(([s,a])=>({agentId:s,totalRounds:a.total,agreementRate:a.total>0?Math.round(a.agreed/a.total*100)/100:0,contrarianRate:a.total>0?Math.round(a.contrarian/a.total*100)/100:0,avgReasoningSimilarity:a.total>0?Math.round(a.avgSimilarity/a.total*100)/100:0,avgIndependentThinking:a.total>0?Math.round(a.avgIndependence/a.total*100)/100:0}));return t.json({ok:!0,consensusData:n.slice(-r).reverse(),total:n.length,agentSummary:o})});Rx.get("/agent/:id",async t=>{let e=t.req.param("id"),r=_j.get(e);if(!r)try{let i=await qt.select().from(Bt).where(cr(Bt.agentId,e)).orderBy(Vo(Bt.timestamp)).limit(100);if(i.length===0)return t.json({ok:!1,error:"Agent not found"},404);let o=i.reduce((s,a)=>s+(a.coherenceScore??0),0)/i.length;return t.json({ok:!0,agentId:e,tradeCount:i.length,avgCoherence:Math.round(o*100)/100,recentTrades:i.slice(0,10).map(s=>({action:s.action,symbol:s.symbol,reasoning:s.reasoning.slice(0,200),confidence:s.confidence,coherence:s.coherenceScore,intent:s.intent})),source:"database"})}catch{return t.json({ok:!1,error:"Agent not found"},404)}let n=yj({pnl:0,coherence:zc(r.coherence),hallucinationFree:zc(r.hallucinationFreeRates),discipline:zc(r.disciplineRates),calibration:.5,prediction:.5,reasoningDepth:zc(r.depthScores),sourceQuality:zc(r.sourceQualityScores),outcomePrediction:zc(r.predictionScores),consensusIntelligence:zc(r.consensusScores)});return t.json({ok:!0,agentId:e,score:n,tradeCount:r.trades,intentDistribution:r.intents,recentReasoning:r.recentReasoning})});Rx.get("/export/jsonl",async t=>{try{let r=(await qt.select().from(Bt).orderBy(Vo(Bt.timestamp)).limit(1e3)).map(n=>{let i=tb(n.reasoning),o=rb(n.reasoning,n.sources??[]),s=$6(n.reasoning,n.predictedOutcome),a=ia(n.confidence);return JSON.stringify({agent_id:n.agentId,round_id:n.roundId??null,timestamp:n.timestamp?.toISOString()??null,action:n.action,symbol:n.symbol,quantity:n.quantity,reasoning:n.reasoning,confidence:a,sources:n.sources??[],intent:n.intent,coherence_score:n.coherenceScore,hallucination_flags:n.hallucinationFlags??[],discipline_pass:n.disciplinePass==="pass",reasoning_depth_score:i.depthScore,step_count:i.stepCount,connective_density:i.connectiveDensity,evidence_anchoring:i.evidenceAnchoringScore,counter_argument_score:i.counterArgumentScore,reasoning_pattern:i.reasoningPattern,source_quality_score:o.qualityScore,source_diversity:o.diversityScore,source_specificity:o.specificityScore,source_cross_reference:o.crossReferenceScore,source_integration:o.integrationScore,predicted_direction:s.predictedDirection,predicted_magnitude:s.predictedMagnitude,timeframe_specified:s.timeframeSpecified,outcome_prediction_confidence:s.confidenceInPrediction,benchmark_version:"v25"})});return t.header("Content-Type","application/x-ndjson"),t.header("Content-Disposition","attachment; filename=moltapp-benchmark-v25.jsonl"),t.text(r.join(`
`))}catch{return t.json({ok:!1,error:"Database unavailable \u2014 no export data"},503)}});Rx.get("/export/csv",async t=>{try{let e=await qt.select().from(Bt).orderBy(Vo(Bt.timestamp)).limit(1e3),r=["agent_id","round_id","timestamp","action","symbol","quantity","confidence","coherence_score","hallucination_count","discipline_pass","intent","reasoning_depth","source_quality","predicted_direction","predicted_magnitude","reasoning_length","benchmark_version"],n=e.map(i=>{let o=tb(i.reasoning),s=rb(i.reasoning,i.sources??[]),a=$6(i.reasoning,i.predictedOutcome);return[i.agentId,i.roundId??"",i.timestamp?.toISOString()??"",i.action,i.symbol,i.quantity??0,ia(i.confidence),i.coherenceScore??0,i.hallucinationFlags?.length??0,i.disciplinePass==="pass"?1:0,i.intent,o.depthScore.toFixed(3),s.qualityScore.toFixed(3),a.predictedDirection,a.predictedMagnitude??"",i.reasoning.length,"v25"].join(",")});return t.header("Content-Type","text/csv"),t.header("Content-Disposition","attachment; filename=moltapp-benchmark-v25.csv"),t.text([r.join(","),...n].join(`
`))}catch{return t.json({ok:!1,error:"Database unavailable"},503)}});Rx.post("/analyze",async t=>{let e=await t.req.json().catch(()=>null);if(!e?.reasoning)return t.json({ok:!1,error:"Provide { reasoning, action?, symbol?, sources? }"},400);let r=e.reasoning,n=e.action??"hold",i=e.sources??[],o=tb(r),s=rb(r,i),a=$6(r,e.predictedOutcome),c=Ma(r,n),l=Pc(r,[]);return t.json({ok:!0,analysis:{coherence:{score:c.score,explanation:c.explanation},hallucinations:{count:l.flags.length,flags:l.flags},reasoningDepth:o,sourceQuality:s,outcomePrediction:a,v25_dimensions:{coherence:c.score,hallucinationFree:1-l.severity,reasoningDepth:o.depthScore,sourceQuality:s.qualityScore,outcomePredictionConfidence:a.confidenceInPrediction}}})});var Lyt=new Map,Byt=new Map,cbr=new Map;function fa(t,e){let r=new RegExp(e.source,e.flags.includes("g")?e.flags:e.flags+"g"),n=t.match(r);return n?n.length:0}function xj(t){return t<=0?0:t===1?.3:t===2?.6:t===3?.8:1}function Vc(t){return Math.round(Math.max(0,Math.min(1,t))*100)/100}function $yt(t,e){let r=t.toLowerCase(),n,i=e.filter(R=>R.outcome==="loss"||R.outcome==="failure"||R.outcome==="negative"||R.coherenceScore<.3);if(i.length===0)n=.7;else{let I=fa(t,/loss|lost|mistake|wrong|error|misjudged|poor\s+call|bad\s+trade|underperform|regret|should\s+not\s+have/gi);I>=3?n=1:I===2?n=.8:I===1?n=.5:n=.1}let s=fa(t,/market\s+was\s+irrational|unexpected\s+event|couldn't\s+have\s+predicted|no\s+one\s+could|black\s+swan|unforeseen|manipulation|rigged/gi),a;s===0?a=1:s===1?a=.7:s===2?a=.4:a=.1;let l=fa(t,/i\s+was\s+wrong\s+about|my\s+mistake\s+was|incorrect\s+assumption|misjudged\s+the|overestimated|underestimated|failed\s+to\s+consider|overlooked|my\s+analysis\s+missed/gi),u=i.length===0?.6:xj(l),p=fa(t,/going\s+forward|adjusting|will\s+now|changing\s+approach|tightening|loosening|revised\s+strategy|new\s+rule|updating\s+my|lowering\s+exposure|increasing\s+caution/gi),f=i.length===0?.6:xj(p),h;if(e.length<2)h=.5;else{let I=fa(t,/my\s+record|win\s+rate|track\s+record|past\s+performance|history\s+shows|my\s+last\s+\d+\s+trades/gi);fa(t,/always\s+right|never\s+wrong|perfect\s+record|100%|consistently\s+profitable/gi)>0?h=.1:I>=2?h=.9:I===1?h=.7:h=.5}let g=fa(t,/uncertain|not\s+sure|could\s+be\s+wrong|risk\s+that\s+i'm|limited\s+data|might\s+not|possible\s+that|acknowledge|caveat|however.*risk|on\s+the\s+other\s+hand/gi),_=fa(t,/definitely|guaranteed|certain|no\s+doubt|absolutely|surely|without\s+question|slam\s+dunk|easy\s+money|free\s+money/gi),x;_>2?x=.1:_>0?x=Math.max(.2,xj(g)-.3):x=xj(g);let E=Vc(n*.2+a*.15+u*.18+f*.17+h*.15+x*.15);return{lossAcknowledgment:Vc(n),blameAvoidance:Vc(a),errorSpecificity:Vc(u),correctiveAction:Vc(f),selfReportAccuracy:Vc(h),intellectualHumility:Vc(x),accountabilityScore:E}}function Uyt(t){let r=fa(t,/(?:is|are|was|were|will|should|appears?|seems?|looks?|indicates?|suggests?|shows?)\s+(?:that\s+)?(?:the\s+)?(?:likely|probably|clearly|strong|weak|bullish|bearish|undervalued|overvalued|rising|falling)/gi),i=fa(t,/price\s+(?:is|of|at)|trading\s+at|24h\s+change|volume|data\s+shows|according\s+to|chart|indicator|P\/E|earnings|revenue|\$\d+(?:\.\d+)?|\d+(?:\.\d+)?%/gi),s=fa(t,/however|but|on\s+the\s+other\s+hand|risk|downside|could\s+go\s+wrong|bearish\s+case|bullish\s+case|alternative|counterpoint|caveat|nevertheless|despite|although|while\s+.*risk/gi),c=fa(t,/if\s+(?:the|it|price|market)|unless|provided\s+that|in\s+case|should\s+.*then|assuming|given\s+that|contingent|depending\s+on/gi),u=fa(t,/\d+(?:\.\d+)?%|\$\d+(?:\.\d+)?(?:k|m|b)?|\d+x|\d+\.\d+\s+(?:ratio|multiple|times)/gi),p=fa(t,/therefore|thus|because|since|as\s+a\s+result|consequently|this\s+means|which\s+leads\s+to|first|second|third|finally|in\s+conclusion|given\s+this|based\s+on|combining/gi),f;p>=6?f=1:p>=4?f=.85:p>=3?f=.7:p>=2?f=.5:p>=1?f=.3:f=.1;let h;if(r===0)h=i>0?.5:.2;else{let I=i/r;I>=2?h=1:I>=1.5?h=.85:I>=1?h=.7:I>=.5?h=.5:h=.3}let m;s>=4?m=1:s>=3?m=.8:s>=2?m=.6:s>=1?m=.4:m=.1;let b=fa(t,/therefore\s+i|my\s+(?:recommendation|decision|conclusion|action)|i(?:'m|\s+am)\s+(?:buying|selling|holding)|in\s+conclusion|final\s+(?:decision|recommendation|verdict)|the\s+best\s+(?:action|move|trade)|i\s+(?:recommend|suggest|decide|choose)/gi),_;b>=2?_=1:b===1?_=.7:_=fa(t,/\b(?:buy|sell|hold)\b/gi)>0?.4:.1;let x;u>=6?x=1:u>=4?x=.8:u>=2?x=.6:u>=1?x=.3:x=.1;let E;c>=4?E=1:c>=3?E=.8:c>=2?E=.6:c>=1?E=.4:E=.15;let R=Vc(f*.2+h*.2+m*.18+_*.15+x*.15+E*.12);return{logicalChainLength:Vc(f),evidenceDensity:Vc(h),counterArgumentQuality:Vc(m),conclusionClarity:Vc(_),quantitativeRigor:Vc(x),conditionalReasoning:Vc(E),rqiScore:R,structureBreakdown:{claimsFound:r,evidenceCitations:i,counterArguments:s,conditionals:c,quantifiedClaims:u,logicalConnectors:p}}}var lbr={pnl:11,coherence:9,hallucinationFree:8,discipline:7,calibration:7,predictionAccuracy:6,reasoningDepth:7,sourceQuality:6,outcomePrediction:5,consensusIntelligence:5,strategyGenome:5,riskRewardDiscipline:6,executionQuality:5,crossRoundLearning:5,tradeAccountability:6,reasoningQualityIndex:7};function Fyt(t){let e=0,r=0;for(let[o,s]of Object.entries(lbr)){let a=t[o]??0;e+=a*s,r+=s}let n=r>0?Math.round(e/r*100*100)/100:0,i;return n>=90?i="S":n>=85?i="A+":n>=80?i="A":n>=70?i="B+":n>=60?i="B":n>=50?i="C":n>=35?i="D":i="F",{composite:n,grade:i}}function zyt(t,e,r){let n=Lyt.get(t)??[];n.push(e),Lyt.set(t,n);let i=Byt.get(t)??[];i.push(r),Byt.set(t,i)}function Vyt(t,e){cbr.set(t,e)}process.env.BRAVE_API_KEY&&(mQe(yQe),console.log("[Orchestrator] Brave Search enabled"));var Ix=[Zze,eVe,tVe];function TE(){return Ix.map(t=>({agentId:t.config.agentId,name:t.config.name,model:t.config.model,provider:t.config.provider,description:t.config.description,personality:t.config.personality,riskTolerance:t.config.riskTolerance,tradingStyle:t.config.tradingStyle,maxPositionSize:t.config.maxPositionSize,maxPortfolioAllocation:t.config.maxPortfolioAllocation}))}async function ubr(){let t=[];try{let e=Ru.map(o=>o.mintAddress),r=process.env.JUPITER_API_KEY,n=[];for(let o=0;o<e.length;o+=50)n.push(e.slice(o,o+50));let i=new Map;for(let o of n){let a=`https://api.jup.ag/price/v3?ids=${o.join(",")}`,c={};r&&(c["x-api-key"]=r);try{let l=await fetch(a,{headers:c,signal:AbortSignal.timeout(1e4)});if(l.ok){let u=await l.json();for(let[d,p]of Object.entries(u.data))p?.price&&i.set(d,parseFloat(p.price))}}catch{}}for(let o of Ru){let s=i.get(o.mintAddress)??Hyt(o.symbol),a=i.has(o.mintAddress)?null:Gyt(),c=i.has(o.mintAddress)?null:jyt();t.push({symbol:o.symbol,name:o.name,mintAddress:o.mintAddress,price:s,change24h:a,volume24h:c})}}catch{for(let e of Ru)t.push({symbol:e.symbol,name:e.name,mintAddress:e.mintAddress,price:Hyt(e.symbol),change24h:Gyt(),volume24h:jyt()})}return t}async function dbr(t,e){try{let r=await qt.select().from(Nr).where(cr(Nr.agentId,t)),n=await qt.select().from(Hi).where(cr(Hi.agentId,t)),i=1e4,o=i;for(let d of n)d.side==="buy"?o-=parseFloat(d.usdcAmount):d.side==="sell"&&(o+=parseFloat(d.usdcAmount));let s=r.map(d=>{let f=e.find(_=>_.symbol.toLowerCase()===d.symbol.toLowerCase())?.price??parseFloat(d.averageCostBasis),h=parseFloat(d.quantity),m=parseFloat(d.averageCostBasis),g=(f-m)*h,b=m>0?(f-m)/m*100:0;return{symbol:d.symbol,quantity:h,averageCostBasis:m,currentPrice:f,unrealizedPnl:g,unrealizedPnlPercent:b}}),a=s.reduce((d,p)=>d+p.currentPrice*p.quantity,0),c=o+a,l=c-i,u=i>0?l/i*100:0;return{cashBalance:Math.max(0,o),positions:s,totalValue:c,totalPnl:l,totalPnlPercent:u}}catch(r){return console.error(`[Orchestrator] Failed to build portfolio for ${t}:`,r),{cashBalance:1e4,positions:[],totalValue:1e4,totalPnl:0,totalPnlPercent:0}}}async function pbr(t,e,r,n){let i={agentId:t.agentId,agentName:t.name,decision:e,executed:!1};try{await qt.insert(Qp).values({agentId:t.agentId,symbol:e.symbol,action:e.action,quantity:String(e.quantity),reasoning:e.reasoning,confidence:e.confidence,modelUsed:t.model,roundId:n,marketSnapshot:r.reduce((o,s)=>(o[s.symbol]={price:s.price,change24h:s.change24h},o),{})})}catch(o){console.error(`[Orchestrator] Failed to record decision for ${t.agentId}:`,o)}if(e.action==="hold")return i.executed=!0,i;try{let o=await Jlt({agentId:t.agentId,agentName:t.name,decision:e,roundId:n});i.executed=o.success,o.success?(i.executionDetails={txSignature:o.tradeResult?.txSignature??o.paperTradeId,filledPrice:o.tradeResult?parseFloat(o.tradeResult.pricePerToken):void 0,usdcAmount:o.tradeResult?parseFloat(o.tradeResult.usdcAmount):e.action==="buy"?e.quantity:void 0,filledQuantity:o.tradeResult?parseFloat(o.tradeResult.stockQuantity):e.action==="sell"?e.quantity:void 0},console.log(`[Orchestrator] ${t.name} trade EXECUTED (${yy()}): ${e.action} ${e.symbol} \u2014 tx: ${o.tradeResult?.txSignature??o.paperTradeId}`)):(i.executionError=o.error,console.warn(`[Orchestrator] ${t.name} trade FAILED: ${o.error}`))}catch(o){let s=o instanceof Error?o.message:String(o);i.executionError=s,console.error(`[Orchestrator] ${t.name} execution error: ${s}`)}return i}async function qyt(){let t=`round_${Date.now()}_${Math.random().toString(36).slice(2,8)}`,e=new Date().toISOString();console.log(`[Orchestrator] Starting trading round ${t} at ${e}`);try{let n=await sut();if(!n.proceed)return console.warn(`[Orchestrator] Round ${t} BLOCKED by pre-round gate: ${n.blockReason}`),{roundId:t,timestamp:e,results:[],errors:[`Pre-round gate blocked: ${n.blockReason}`],circuitBreakerActivations:[],lockSkipped:!1};console.log(`[Orchestrator] Pre-round gate PASSED (${n.mode}): ${n.summary.passed}/${n.summary.total} checks OK in ${n.durationMs}ms`)}catch(n){console.warn(`[Orchestrator] Pre-round gate check error (continuing): ${n instanceof Error?n.message:String(n)}`)}let r=await iQe(t,async()=>await fbr(t,e));if(!r){let n=MI();return console.log(`[Orchestrator] Round ${t} SKIPPED \u2014 another round is in progress (lock: ${n.lock?.lockId??"unknown"})`),{roundId:t,timestamp:e,results:[],errors:["Trading round skipped \u2014 another round is in progress"],circuitBreakerActivations:[],lockSkipped:!0}}return r.result}async function fbr(t,e){let r=[],n=[],i;try{i=await ubr(),console.log(`[Orchestrator] Fetched market data for ${i.length} stocks`)}catch(l){let u=`Failed to fetch market data: ${l instanceof Error?l.message:String(l)}`;return console.error(`[Orchestrator] ${u}`),{roundId:t,timestamp:e,results:[],errors:[u],circuitBreakerActivations:[],lockSkipped:!1}}let o="";try{let l=i.map(d=>d.symbol),u=await pQe(l);o=fQe(u),console.log(`[Orchestrator] News context ready (${u.items.length} items, cache: ${dde().hitRate}% hit rate)`)}catch(l){console.warn(`[Orchestrator] News fetch failed (non-critical): ${l instanceof Error?l.message:String(l)}`)}if(o)for(let l of i)l.news=l.news??[],l.news.push(o);let s=[];for(let l of Ix)try{console.log(`[Orchestrator] Running ${l.name} (${l.model})...`);let u=await xZe(l.agentId);u.ready||console.warn(`[Orchestrator] ${l.name} fund check failed: ${u.reason}`),await bpe(l.agentId,`pre-trade-${t}`).catch(m=>console.warn(`[Orchestrator] Balance snapshot failed for ${l.agentId}: ${m instanceof Error?m.message:String(m)}`));let d=await dbr(l.agentId,i),p=await l.analyze(i,d);console.log(`[Orchestrator] ${l.name} decided: ${p.action} ${p.symbol} (confidence: ${p.confidence}%)`);try{let m=$ut(p,i);m.passed?console.log(`[Orchestrator] ${l.name} quality gate PASSED: composite=${m.scores.composite.toFixed(2)}`):(console.log(`[Orchestrator] ${l.name} QUALITY GATE REJECTED: composite=${m.scores.composite.toFixed(2)}, reasons: ${m.rejectionReasons.join("; ")}`),p=m.decision)}catch(m){console.warn(`[Orchestrator] Quality gate check failed for ${l.agentId}: ${m instanceof Error?m.message:String(m)}`)}try{let m=Ma(p.reasoning,p.action,i),g=Pc(p.reasoning,i),b=by({action:p.action,symbol:p.symbol,quantity:p.quantity,confidence:ia(p.confidence)},{maxPositionSize:l.config.maxPositionSize,maxPortfolioAllocation:l.config.maxPortfolioAllocation,riskTolerance:l.config.riskTolerance},{cashBalance:d.cashBalance,totalValue:d.totalValue,positions:d.positions.map(k=>({symbol:k.symbol,quantity:k.quantity,currentPrice:k.currentPrice}))}),_=p.sources??nd(p.reasoning),x=p.intent??La(p.reasoning,p.action);console.log(`[Orchestrator] ${l.name} benchmark: coherence=${m.score.toFixed(2)}, hallucinations=${g.flags.length}, discipline=${b.passed?"PASS":"FAIL"}`);let E=`tj_${Date.now()}_${Math.random().toString(36).slice(2,6)}`;await qt.insert(Bt).values({id:E,agentId:l.agentId,reasoning:p.reasoning,confidence:ia(p.confidence),sources:_,intent:x,predictedOutcome:p.predictedOutcome??null,coherenceScore:m.score,hallucinationFlags:g.flags,action:p.action,symbol:p.symbol,quantity:p.quantity,roundId:t,disciplinePass:b.passed?"pass":"fail"}).catch(k=>{console.warn(`[Orchestrator] Justification insert failed: ${k instanceof Error?k.message:String(k)}`)});let R=But({agentId:l.agentId,action:p.action,symbol:p.symbol,quantity:p.quantity,reasoning:p.reasoning,confidence:p.confidence,roundId:t},m,g);Lut(R);let I=ia(p.confidence);Hut({agentId:l.agentId,action:p.action,symbol:p.symbol,quantity:p.quantity,reasoning:p.reasoning,confidence:I,intent:x,sources:_,coherenceScore:m.score,hallucinationCount:g.flags.length,roundId:t,timestamp:new Date().toISOString()}),jut(l.agentId,p.symbol,t,g.flags,g.severity,I,p.action),qut({agentId:l.agentId,reasoning:p.reasoning,action:p.action,symbol:p.symbol,confidence:I,intent:x,coherenceScore:m.score,timestamp:new Date().toISOString()});let D=m.signals.reduce((k,O)=>O.type==="bullish"?k+O.weight*.1:O.type==="bearish"?k-O.weight*.1:k,0);Jut({agentId:l.agentId,roundId:t,action:p.action,symbol:p.symbol,reasoning:p.reasoning,confidence:I,intent:x,coherenceScore:m.score,hallucinationCount:g.flags.length,wordCount:p.reasoning.split(/\s+/).length,sentimentScore:Math.max(-1,Math.min(1,D)),timestamp:new Date().toISOString()}),Wut({agentId:l.agentId,action:p.action,symbol:p.symbol,reasoning:p.reasoning,confidence:I,intent:x,coherenceScore:m.score,hallucinationCount:g.flags.length,disciplinePass:b.passed,timestamp:new Date().toISOString()}),Kut({agentId:l.agentId,reasoning:p.reasoning,action:p.action,intent:x,confidence:I,coherenceScore:m.score,hallucinationFlags:g.flags,disciplineViolations:b.passed?[]:b.violations,timestamp:new Date().toISOString()}),Xut({roundId:t,agentId:l.agentId,pnl:d.totalPnlPercent,coherence:m.score,hallucinationCount:g.flags.length,timestamp:Date.now()}),ndt(l.agentId,m.score,g.severity,b.passed);try{Bgt(l.agentId,{composite:m.score,coherence:m.score,hallucinationRate:g.severity},m.score>=.8?"A":m.score>=.6?"B":"C",t),g.flags.length>0&&Fgt(l.agentId,p.symbol,g.flags,t),$gt(l.agentId,b.passed,m.score,.3),jgt({agentId:l.agentId,action:p.action,symbol:p.symbol,quantity:p.quantity,confidence:I,reasoning:p.reasoning,intent:x,coherenceScore:m.score,timestamp:new Date().toISOString()});let k=s0t({agentId:l.agentId,roundId:t,reasoning:p.reasoning,coherenceScore:m.score,hallucinationCount:g.flags.length,confidence:I,intent:x,action:p.action});o0t(k),Mgt(l.agentId,{composite:m.score,coherence:m.score,hallucinationRate:g.severity,discipline:b.passed?1:0,pnl:d.totalPnlPercent,sharpe:0})}catch(k){console.warn(`[Orchestrator] Governance service recording failed for ${l.agentId}: ${k instanceof Error?k.message:String(k)}`)}try{let k=ldt(p.reasoning,p.action,l.agentId,p.symbol,t);console.log(`[Orchestrator] ${l.name} depth: ${k.overall.toFixed(2)} (${k.classification}), angles=${k.angleCount}`),pdt(l.agentId,t,{coherence:m.score,depth:k.overall,hallucinationRate:g.severity,discipline:b.passed?1:0,confidence:I}),kc("trade_reasoning",{action:p.action,symbol:p.symbol,confidence:I,intent:x,reasoningPreview:p.reasoning.slice(0,200)},l.agentId),kc("coherence_scored",{score:m.score,explanation:m.explanation,signalCount:m.signals.length},l.agentId),kc("depth_analyzed",{overall:k.overall,classification:k.classification,angleCount:k.angleCount},l.agentId),g.flags.length>0&&kc("hallucination_flagged",{flags:g.flags,severity:g.severity,symbol:p.symbol},l.agentId);try{let $=Tgt(p.reasoning,p.action,p.symbol,I,i);Rgt(l.agentId,$),console.log(`[Orchestrator] ${l.name} deep coherence: ${$.overallScore.toFixed(2)} (${$.grade}), strengths=${$.strengths.length}, weaknesses=${$.weaknesses.length}`),kc("deep_coherence",{overallScore:$.overallScore,grade:$.grade,strengthCount:$.strengths.length,weaknessCount:$.weaknesses.length,wordCount:$.textMetrics.wordCount},l.agentId)}catch($){console.warn(`[Orchestrator] Deep coherence failed for ${l.agentId}: ${$ instanceof Error?$.message:String($)}`)}let O=null;try{O=l0t(l.agentId,p.reasoning),u0t(l.agentId,p.reasoning,O.qualityScore),console.log(`[Orchestrator] ${l.name} patterns: quality=${O.qualityScore.toFixed(2)}, fallacies=${O.fallacies.length}, depth=${O.depth.classification}, vocab=${O.vocabulary.sophisticationScore.toFixed(2)}`),kc("pattern_analyzed",{qualityScore:O.qualityScore,fallacyCount:O.fallacies.length,fallacies:O.fallacies.map($=>$.type),depthClassification:O.depth.classification,vocabularySophistication:O.vocabulary.sophisticationScore,hedgeRatio:O.hedgeRatio,templateProbability:O.templateProbability},l.agentId)}catch($){console.warn(`[Orchestrator] Pattern analysis failed for ${l.agentId}: ${$ instanceof Error?$.message:String($)}`)}try{let $=AG(l.agentId,t,p.reasoning,p.action,p.symbol,I);f0t(l.agentId,p.reasoning,p.action,p.symbol,I),y0t(l.agentId,{coherence:m.score,depth:$.depth.depthScore,hallucinationFree:1-g.severity,discipline:b.passed?1:0,confidence:I,forensicStructure:$.structural.structureScore,forensicOriginality:$.originality.originalityScore,forensicClarity:$.clarity.clarityScore,forensicIntegrity:$.crossTrade.flags.length===0?1:Math.max(0,1-$.crossTrade.flags.length*.2),patternQuality:O?.qualityScore??.5}),console.log(`[Orchestrator] ${l.name} forensic: composite=${$.compositeScore.toFixed(2)} (${$.grade}), depth=${$.depth.classification}, originality=${$.originality.originalityScore.toFixed(2)}, clarity=${$.clarity.clarityScore.toFixed(2)}, integrity-flags=${$.crossTrade.flags.length}`),v0t("forensic_analyzed",{compositeScore:$.compositeScore,grade:$.grade,depthClassification:$.depth.classification,dimensionsCovered:$.depth.dimensionCount,originalityScore:$.originality.originalityScore,templateProbability:$.originality.templateProbability,clarityScore:$.clarity.clarityScore,integrityFlags:$.crossTrade.flags,structureScore:$.structural.structureScore,quantitativeClaims:$.structural.quantitativeClaimCount,causalConnectors:$.structural.causalConnectorCount},l.agentId),kc("v11_forensic",{compositeScore:$.compositeScore,grade:$.grade,depthClassification:$.depth.classification,originalityScore:$.originality.originalityScore},l.agentId)}catch($){console.warn(`[Orchestrator] v11 forensic analysis failed for ${l.agentId}: ${$ instanceof Error?$.message:String($)}`)}}catch(k){console.warn(`[Orchestrator] Depth/stream analysis failed for ${l.agentId}: ${k instanceof Error?k.message:String(k)}`)}}catch(m){console.warn(`[Orchestrator] Benchmark analysis failed for ${l.agentId}: ${m instanceof Error?m.message:String(m)}`)}try{let m=p.confidence>1?p.confidence/100:p.confidence,g=_0t(p,l.agentId,i,{maxPositionSize:l.config.maxPositionSize,maxPortfolioAllocation:l.config.maxPortfolioAllocation,riskTolerance:l.config.riskTolerance});console.log(`[Orchestrator] ${l.name} v12 validation: quality=${g.qualityScore.toFixed(3)} (${g.grade}), valid=${g.valid}, issues=${g.issues.length}`),yve("trade_validated",{qualityScore:g.qualityScore,grade:g.grade,valid:g.valid,issueCount:g.issues.length,dimensions:g.dimensions.map(x=>({name:x.name,score:x.score,passed:x.passed}))},l.agentId);let b=x0t(p.reasoning,p.action);S0t(l.agentId,b),console.log(`[Orchestrator] ${l.name} taxonomy: ${b.fingerprint}, strategy=${b.strategy}, sophistication=${b.sophisticationLevel}/5, biases=${b.cognitivePatterns.length}`),yve("taxonomy_classified",{fingerprint:b.fingerprint,strategy:b.strategy,analyticalMethod:b.analyticalMethod,reasoningStructure:b.reasoningStructure,sophisticationLevel:b.sophisticationLevel,cognitivePatterns:b.cognitivePatterns.map(x=>x.type),themes:b.themes,classificationConfidence:b.classificationConfidence},l.agentId);let _=p.intent??"value";w0t({agentId:l.agentId,roundId:t,symbol:p.symbol,action:p.action,confidence:m,reasoning:p.reasoning,intent:_,coherenceScore:g.dimensions.find(x=>x.name==="action_reasoning_alignment")?.score??.5,timestamp:new Date().toISOString()}),E0t(l.agentId,{financial:.5,reasoning:g.dimensions.find(x=>x.name==="reasoning_depth")?.score??.5,safety:g.dimensions.find(x=>x.name==="price_grounding")?.score??.5,calibration:g.dimensions.find(x=>x.name==="confidence_calibration")?.score??.5,patterns:b.sophisticationLevel/5,adaptability:.5,forensicQuality:g.dimensions.find(x=>x.name==="source_verification")?.score??.5,validationQuality:g.qualityScore,composite:g.qualityScore*.6+b.sophisticationLevel/5*.2+.5*.2,grade:g.grade,dominantStrategy:b.strategy,sophistication:b.sophisticationLevel,biasCount:b.cognitivePatterns.length,consistencyScore:.5,qualityTrend:"stable",anomalyCount:0,tradeCount:1,lastUpdated:new Date().toISOString()})}catch(m){console.warn(`[Orchestrator] v12 analysis failed for ${l.agentId}: ${m instanceof Error?m.message:String(m)}`)}let f=sQe(l.agentId,p,d);n.push(...f.activations),f.allowed||console.log(`[Orchestrator] ${l.name} decision BLOCKED by circuit breaker`);let h=await pbr(l,f.decision,i,t);f.activations.length>0&&(h.executionDetails=h.executionDetails??{}),h.executed&&f.decision.action!=="hold"&&aQe(l.agentId),await bpe(l.agentId,`post-trade-${t}`).catch(m=>console.warn(`[Orchestrator] Post-trade snapshot failed for ${l.agentId}: ${m instanceof Error?m.message:String(m)}`)),s.push(h),await cQe()}catch(u){let d=`${l.name} failed: ${u instanceof Error?u.message:String(u)}`;console.error(`[Orchestrator] ${d}`),r.push(d),s.push({agentId:l.agentId,agentName:l.name,decision:{action:"hold",symbol:"SPYx",quantity:0,reasoning:`Agent error: ${d}`,confidence:0,timestamp:new Date().toISOString()},executed:!1,executionError:d})}if(process.env.LENDING_ENABLED==="true")try{let l=s.map(d=>({agentId:d.agentId,decision:d.decision})),u=await Agt(t,l,i);(u.loansCreated>0||u.loansSettled>0)&&console.log(`[Orchestrator] Lending: ${u.loansCreated} new loans, ${u.loansSettled} settled, ${u.totalStonksBorrowed} $STONKS moved`)}catch(l){console.warn(`[Orchestrator] Lending phase failed (non-critical): ${l instanceof Error?l.message:String(l)}`)}let a=Date.now()-new Date(e).getTime();cut(a),console.log(`[Orchestrator] Round ${t} complete. ${s.length} agents ran. ${r.length} errors. ${n.length} circuit breaker activations. Mode: ${yy()}.`);try{Plt({roundId:t,results:s.map(l=>({agentId:l.agentId,agentName:l.agentName,action:l.decision.action,symbol:l.decision.symbol,confidence:l.decision.confidence,executed:l.executed})),errors:r,circuitBreakerActivations:n.length})}catch{}try{let l=s.filter(d=>d.decision.action!=="hold"),u=new Map;for(let d of l){let p=u.get(d.decision.symbol)??[];p.push(d),u.set(d.decision.symbol,p)}for(let[d,p]of u){let f=p.some(m=>m.decision.action==="buy"),h=p.some(m=>m.decision.action==="sell");f&&h&&klt({roundId:t,symbol:d,agents:p.map(m=>({agentId:m.agentId,agentName:m.agentName,action:m.decision.action,confidence:m.decision.confidence}))})}}catch{}let c=Date.now()-new Date(e).getTime();try{let l={roundId:t,timestamp:e,durationMs:c,tradingMode:yy(),results:s.map(u=>({agentId:u.agentId,agentName:u.agentName,action:u.decision.action,symbol:u.decision.symbol,quantity:u.decision.quantity,reasoning:u.decision.reasoning,confidence:u.decision.confidence,executed:u.executed,executionError:u.executionError,txSignature:u.executionDetails?.txSignature,filledPrice:u.executionDetails?.filledPrice,usdcAmount:u.executionDetails?.usdcAmount})),errors:r,circuitBreakerActivations:n.length,lockSkipped:!1,consensus:mbr(s),summary:hbr(s,r),ttl:Math.floor(Date.now()/1e3)+7776e3};eut(l),Zlt({roundId:t,timestamp:e,durationMs:c,tradingMode:yy(),results:s,errors:r,circuitBreakerActivations:n,lockSkipped:!1}).catch(u=>console.warn(`[Orchestrator] DynamoDB persist failed: ${u instanceof Error?u.message:String(u)}`))}catch(l){console.warn(`[Orchestrator] Round caching failed: ${l instanceof Error?l.message:String(l)}`)}try{let l=i.find(u=>u.symbol==="SPYx");l?.change24h!==null&&l?.change24h!==void 0&&rut(l.change24h)}catch{}Fut(i).catch(l=>console.warn(`[Orchestrator] Outcome tracking failed: ${l instanceof Error?l.message:String(l)}`));try{let l=Gut(t);l&&console.log(`[Orchestrator] Round diffs: ${l.diffs.length} comparisons, avgDivergence=${l.stats.avgDivergence}, conflicts=${l.stats.actionConflictRate}`)}catch(l){console.warn(`[Orchestrator] Reasoning diffs failed: ${l instanceof Error?l.message:String(l)}`)}try{let l=s.map(u=>({agentId:u.agentId,action:u.decision.action,symbol:u.decision.symbol,reasoning:u.decision.reasoning,confidence:u.decision.confidence,timestamp:u.decision.timestamp??e}));tdt(t,l)}catch(l){console.warn(`[Orchestrator] Integrity proof failed: ${l instanceof Error?l.message:String(l)}`)}try{let l=s.map(u=>({agentId:u.agentId,agentName:u.agentName,compositeScore:u.decision.confidence/100,pnl:0,coherence:0,hallucinationRate:0}));sdt(t,l)}catch(l){console.warn(`[Orchestrator] Leaderboard evolution failed: ${l instanceof Error?l.message:String(l)}`)}try{let l=RE(i.map(u=>({symbol:u.symbol,price:u.price,change24h:u.change24h})));console.log(`[Orchestrator] Market regime: ${l.regime} (avg: ${l.avgChange}%, vol: ${l.changeStdDev.toFixed(2)})`),kc("regime_detected",{regime:l.regime,avgChange:l.avgChange,volatility:l.changeStdDev,stocksUp:l.stocksUp,stocksDown:l.stocksDown});for(let u of s)udt(u.agentId,l.regime,.5,.5,!1,u.decision.confidence>1?u.decision.confidence/100:u.decision.confidence,u.decision.action,t)}catch(l){console.warn(`[Orchestrator] Regime detection failed: ${l instanceof Error?l.message:String(l)}`)}try{let l=s.map(d=>({agentId:d.agentId,reasoning:d.decision.reasoning,action:d.decision.action,symbol:d.decision.symbol,confidence:d.decision.confidence>1?d.decision.confidence/100:d.decision.confidence})),u=cdt(l,t);console.log(`[Orchestrator] Peer review: ${u.reviews.length} reviews, disagreement=${(u.disagreementRate*100).toFixed(0)}%, best=${u.bestReviewed?.agentId??"none"} (${u.bestReviewed?.avgScore?.toFixed(2)??0})`),kc("peer_review",{reviewCount:u.reviews.length,disagreementRate:u.disagreementRate,bestReviewed:u.bestReviewed,mostControversial:u.mostControversial})}catch(l){console.warn(`[Orchestrator] Peer review failed: ${l instanceof Error?l.message:String(l)}`)}kc("round_completed",{roundId:t,agentCount:s.length,errorCount:r.length,tradingMode:yy()});try{let l=s.map(p=>{let f=p.decision.confidence>1?p.decision.confidence/100:p.decision.confidence;return{agentId:p.agentId,action:p.decision.action,symbol:p.decision.symbol,quantity:p.decision.quantity,reasoning:p.decision.reasoning,confidence:f,intent:p.decision.intent??"value",coherenceScore:f*.8+.1,hallucinationCount:0,disciplinePass:!0,pnlPercent:0,depthScore:Math.min(1,p.decision.reasoning.split(/\s+/).length/100),originalityScore:.5}}),u=I0t(t,l);console.log(`[Orchestrator] v13 battles: ${u.length} matchups, winners=${u.filter(p=>p.overallWinner).map(p=>p.overallWinner).join(",")}`);for(let p of u)xve("battle_completed",{battleId:p.battleId,agentA:p.agentA.agentId,agentB:p.agentB.agentId,winner:p.overallWinner,margin:p.marginOfVictory,compositeA:p.compositeScoreA,compositeB:p.compositeScoreB,highlight:p.highlight,narrativePreview:p.narrative.slice(0,200)},p.overallWinner??void 0);let d=N0t(s.map(p=>({agentId:p.agentId,reasoning:p.decision.reasoning})));for(let p of d)xve("reasoning_compared",{agentA:p.agentAId,agentB:p.agentBId,winner:p.winner,scoreA:p.agentAScore,scoreB:p.agentBScore,summary:p.summary.slice(0,200)});kc("v13_battles",{roundId:t,battleCount:u.length,comparisonCount:d.length,highlights:u.filter(p=>p.highlight).length})}catch(l){console.warn(`[Orchestrator] v13 battle generation failed: ${l instanceof Error?l.message:String(l)}`)}try{Dgt(t,{agentCount:s.length,tradeCount:s.filter(u=>u.decision.action!=="hold").length,avgCoherence:.5,hallucinationCount:0,tradingMode:yy()});let l=s.map(u=>({agentId:u.agentId,compositeScore:u.decision.confidence>1?u.decision.confidence/100:u.decision.confidence}));Hgt(l),Ugt(t,s.length,s[0]?.agentId??null,0)}catch(l){console.warn(`[Orchestrator] Governance round finalization failed: ${l instanceof Error?l.message:String(l)}`)}try{for(let f of s){let h=f.decision.confidence>1?f.decision.confidence/100:f.decision.confidence,m=i.find(E=>E.symbol.toLowerCase()===f.decision.symbol.toLowerCase());f.decision.predictedOutcome&&m&&k0t({agentId:f.agentId,symbol:f.decision.symbol,action:f.decision.action,confidence:h,predictedOutcome:f.decision.predictedOutcome,priceAtPrediction:m.price,roundId:t,intent:f.decision.intent});let g=h*.8+.1,b=L0t(g,0,!0);M0t({agentId:f.agentId,confidence:h,outcome:b,coherenceScore:g,action:f.decision.action,symbol:f.decision.symbol,roundId:t,timestamp:new Date().toISOString()});let _=F0t(f.decision.reasoning),x=z0t(f.decision.reasoning);U0t({agentId:f.agentId,roundId:t,symbol:f.decision.symbol,action:f.decision.action,confidence:h,intent:f.decision.intent??"value",sentimentScore:_,wordCount:f.decision.reasoning.split(/\s+/).length,coherenceScore:g,keyPhrases:x,timestamp:new Date().toISOString()})}let l=new Map;for(let f of i)l.set(f.symbol,f.price),l.set(f.symbol.toLowerCase(),f.price);let u=D0t(l);u.length>0&&console.log(`[Orchestrator] v14 resolved ${u.length} predictions. Correct: ${u.filter(f=>f.directionCorrect).length}/${u.length}`);let d=s.map(f=>{let h=f.decision.confidence>1?f.decision.confidence/100:f.decision.confidence;return{agentId:f.agentId,action:f.decision.action,symbol:f.decision.symbol,confidence:h,reasoning:f.decision.reasoning,coherenceScore:h*.8+.1}}),p=G0t(t,d);console.log(`[Orchestrator] v14 consensus: ${p.consensusType}, agreement=${(p.agreementScore*100).toFixed(0)}%, contrarians=${p.contrarians.length}`);for(let f of s){let h=f.decision.confidence>1?f.decision.confidence/100:f.decision.confidence;J0t(f.agentId,{financial:.5,reasoning:h*.8+.1,safety:.8,calibration:.5,patterns:.5,adaptability:.5,forensicQuality:.5,validationQuality:.5,predictionAccuracy:.5,reasoningStability:.7,composite:h*.4+.4,grade:h>=.7?"B+":h>=.5?"C+":"C",tradeCount:1,lastUpdated:new Date().toISOString()})}W0t("round_analyzed",{roundId:t,agentCount:s.length,consensusType:p.consensusType,agreementScore:p.agreementScore,predictionsResolved:u.length,predictionsCorrect:u.filter(f=>f.directionCorrect).length}),kc("benchmark_update",{version:"v14",roundId:t,consensusType:p.consensusType,agreement:p.agreementScore,predictionsResolved:u.length})}catch(l){console.warn(`[Orchestrator] v14 analysis failed: ${l instanceof Error?l.message:String(l)}`)}try{let l={};for(let g of i)l[g.symbol]={price:g.price,change24h:g.change24h};for(let g of s){let b=g.decision.confidence>1?g.decision.confidence/100:g.decision.confidence,_=e1t(g.agentId,g.decision.reasoning,g.decision.action,g.decision.symbol,b,l,t);t1t(_),r1t({agentId:g.agentId,action:g.decision.action,symbol:g.decision.symbol,reasoning:g.decision.reasoning,confidence:b,roundId:t,timestamp:new Date().toISOString()})}let u=s.map(g=>({agentId:g.agentId,action:g.decision.action,symbol:g.decision.symbol,reasoning:g.decision.reasoning,confidence:g.decision.confidence>1?g.decision.confidence/100:g.decision.confidence,roundId:t,timestamp:new Date().toISOString()})),d=n1t(u);console.log(`[Orchestrator] v15 cross-model: herding=${d.herdingScore.toFixed(2)}, pairs=${d.similarities.length}, divergences=${d.divergencePoints.length}`);let p={roundId:t,agents:s.map(g=>({agentId:g.agentId,action:g.decision.action,confidence:g.decision.confidence,symbol:g.decision.symbol})),marketSnapshot:l},f={version:"v15",pillars:12,weights:{financial:.13,reasoning:.12,safety:.1,calibration:.09,patterns:.06,adaptability:.06,forensicQuality:.09,validationQuality:.09,predictionAccuracy:.07,reasoningStability:.06,provenanceIntegrity:.07,modelComparison:.06}},h={};for(let g of s){let b=g.decision.confidence>1?g.decision.confidence/100:g.decision.confidence;h[g.agentId]={composite:b*.4+.4}}o1t({roundId:t,timestamp:Date.now(),inputs:p,scores:h,scoringConfig:f});let m=s1t(t,p,h,f);console.log(`[Orchestrator] v15 reproducibility: deterministic=${m.deterministic}, matches=${m.priorRunMatches}, mismatches=${m.priorRunMismatches}`);for(let g of s){let b=g.decision.confidence>1?g.decision.confidence/100:g.decision.confidence;l1t(g.agentId,{financial:.5,reasoning:b*.8+.1,safety:.8,calibration:.5,patterns:.5,adaptability:.5,forensicQuality:.5,validationQuality:.5,predictionAccuracy:.5,reasoningStability:.7,provenanceIntegrity:m.deterministic?1:.5,modelComparison:1-d.herdingScore,composite:b*.35+.45,grade:b>=.7?"B+":b>=.5?"C+":"C",tradeCount:1,lastUpdated:new Date().toISOString()})}Fve("round_analyzed",{roundId:t,agentCount:s.length,herdingScore:d.herdingScore,divergenceCount:d.divergencePoints.length,reproducible:m.deterministic}),kc("benchmark_update",{version:"v15",roundId:t,herdingScore:d.herdingScore,reproducible:m.deterministic,provenanceProofs:s.length})}catch(l){console.warn(`[Orchestrator] v15 analysis failed: ${l instanceof Error?l.message:String(l)}`)}try{for(let d of s){let p=d.decision.confidence>1?d.decision.confidence/100:d.decision.confidence,f=_1t(d.decision.reasoning),h=b1t(d.decision.reasoning),m=d.decision.intent??La(d.decision.reasoning,d.decision.action);v1t({agentId:d.agentId,reasoning:d.decision.reasoning,action:d.decision.action,symbol:d.decision.symbol,confidence:p,intent:m,coherenceScore:p*.6+.3,roundId:t,timestamp:new Date().toISOString()}),g1t(d.agentId,{coherence:p*.6+.3,hallucinationFree:.9,discipline:!0,confidence:p,reasoning:d.decision.reasoning,action:d.decision.action,depth:f.overall,forensicScore:.5,validationScore:.5}),console.log(`[Orchestrator] v16 ${d.agentId}: depth=${f.overall.toFixed(2)} (${f.classification}), efficiency=${h.composite.toFixed(2)}, angles=${f.anglesDetected.length}`)}let l=s.map(d=>({agentId:d.agentId,score:y1t(d.agentId)})),u=(d,p)=>d.find(f=>f.name===p)?.score??0;S1t("round_analyzed",{roundId:t,agentCount:s.length,scores:l.map(d=>({agentId:d.agentId,composite:d.score.composite,grade:d.score.grade,metacognition:u(d.score.pillars,"metacognition"),efficiency:u(d.score.pillars,"efficiency")}))}),console.log(`[Orchestrator] v16 round complete: ${l.map(d=>`${d.agentId}=${d.score.composite.toFixed(3)}(${d.score.grade})`).join(", ")}`)}catch(l){console.warn(`[Orchestrator] v16 analysis failed: ${l instanceof Error?l.message:String(l)}`)}try{let l={};for(let f of i)l[f.symbol]=f.price;let u=s.map(f=>f.agentId),d=(()=>{let f=s.filter(g=>g.decision.action!=="hold").map(g=>g.decision.action),h=f.filter(g=>g==="buy").length,m=f.filter(g=>g==="sell").length;return h>m?"buy":m>h?"sell":null})();for(let f of s){let h=f.decision.confidence>1?f.decision.confidence/100:f.decision.confidence,m=f.decision.intent??La(f.decision.reasoning,f.decision.action),g=f.decision.sources??nd(f.decision.reasoning),b=P1t({agentId:f.agentId,roundId:t,action:f.decision.action,symbol:f.decision.symbol,quantity:f.decision.quantity,reasoning:f.decision.reasoning,confidence:h,intent:m,sources:g,predictedOutcome:f.decision.predictedOutcome??null,marketPrices:l,coherenceScore:h*.6+.3,hallucinationFlags:[],disciplinePass:!0,depthScore:Math.min(1,f.decision.reasoning.split(/\s+/).length/100),forensicScore:.5,efficiencyScore:.5,witnesses:u.filter(E=>E!==f.agentId)});M1t({agentId:f.agentId,action:f.decision.action,symbol:f.decision.symbol,quantity:f.decision.quantity,confidence:h,coherenceScore:h*.6+.3,hallucinationCount:0,intent:m,reasoning:f.decision.reasoning,roundId:t,consensusAction:d,marketVolatility:.02,pnlAfter:null,timestamp:new Date().toISOString()});let _=L1t(f.agentId),x=Ix.find(E=>E.config.agentId===f.agentId)?.config;R1t(f.agentId,x?.provider??"unknown",x?.model??"unknown",{financial:.5,reasoning:h*.6+.3,safety:.8,calibration:.5,patterns:.5,adaptability:.5,forensic_quality:.5,validation_quality:.5,prediction_accuracy:.5,reasoning_stability:.7,provenance_integrity:.8,model_comparison:.5,metacognition:h*.4+.3,reasoning_efficiency:Math.min(1,f.decision.reasoning.split(/\s+/).length/150),forensic_ledger:b?.9:.3,strategy_genome:_},t),console.log(`[Orchestrator] v17 ${f.agentId}: ledger=${b.entryHash.slice(0,12)}..., genome=${_.toFixed(2)}`)}let p=s.map(f=>({agentId:f.agentId,composite:f.decision.confidence>1?f.decision.confidence/200+.3:f.decision.confidence*.4+.3}));I1t(p),$1t("round_analyzed",{roundId:t,agentCount:s.length,version:"v17",pillars:16}),console.log(`[Orchestrator] v17 round complete: ${s.length} agents scored, ledger + genome updated`)}catch(l){console.warn(`[Orchestrator] v17 analysis failed: ${l instanceof Error?l.message:String(l)}`)}try{let l={},u={},d=0,p=0,f=0;for(let _ of s){let x=_.decision.confidence>1?_.decision.confidence/100:_.decision.confidence,E=_.decision.intent??La(_.decision.reasoning,_.decision.action),R=x*.6+.3,I=_.decision.reasoning.split(/\s+/).length,D=z1t(_.agentId,_.decision.reasoning,_.decision.action,_.decision.symbol,x,0,{priceDirection:_.decision.action==="buy"?"up":_.decision.action==="sell"?"down":"flat",newsDirection:"neutral",hasZeroVolume:!1,hasMissingData:!1,hasExtremeMove:!1});V1t(_.agentId,{overallScore:D.overallScore,vulnerabilities:D.vulnerabilities,signalConflictScore:D.signalConflict.score,anchoringScore:D.anchoring.score,edgeCaseScore:D.edgeCases.score,framingScore:D.framing.score},t),H1t({agentId:_.agentId,action:_.decision.action,symbol:_.decision.symbol,reasoning:_.decision.reasoning,confidence:x,roundId:t,timestamp:new Date().toISOString()});let k=_.decision.reasoning.toLowerCase().replace(/[^a-z0-9]/g,"").slice(0,50);q1t({agentId:_.agentId,roundId:t,symbol:_.decision.symbol,action:_.decision.action,confidence:x,coherenceScore:R,hallucinationCount:0,intent:E,wasCorrect:null,reasoningFingerprint:k,timestamp:new Date().toISOString()}),l[_.agentId]=x*.4+R*.3+D.overallScore*.3,d+=R,f+=I,console.log(`[Orchestrator] v18 ${_.agentId}: adversarial=${D.overallScore.toFixed(2)}, vulns=${D.vulnerabilities.length}`)}let h=Object.keys(l),m=Object.values(l),g=m.length>0?m.reduce((_,x)=>_+x,0)/m.length:0,b=m.length>1?Math.sqrt(m.reduce((_,x)=>_+(x-g)**2,0)/m.length):0;W1t({timestamp:new Date().toISOString(),agentScores:l,pillarAverages:u,coherenceAvg:s.length>0?d/s.length:0,hallucinationRate:s.length>0?p/s.length:0,avgReasoningLength:s.length>0?f/s.length:0,agentScoreSpread:Math.round(b*1e3)/1e3,calibrationAvg:.5}),Y1t("round_analyzed",{roundId:t,agentCount:s.length,version:"v18",pillars:18}),console.log(`[Orchestrator] v18 round complete: ${s.length} agents \u2014 adversarial + memory + regression recorded`)}catch(l){console.warn(`[Orchestrator] v18 analysis failed: ${l instanceof Error?l.message:String(l)}`)}try{for(let l of s){let u=l.decision,d=u.confidence>1?u.confidence/100:u.confidence,p=u.sources??nd(u.reasoning);nyt(l.agentId,t,u.action,u.symbol,u.reasoning,d,p),oyt(l.agentId,t,u.symbol,u.action,u.reasoning,d),cyt(l.agentId,t,u.action,u.symbol,u.reasoning,d,p)}dyt("round_analyzed",{roundId:t,agentCount:s.length,version:"v20",pillars:24}),console.log(`[Orchestrator] v20 round complete: ${s.length} agents \u2014 transparency + accountability + certification recorded`)}catch(l){console.warn(`[Orchestrator] v20 analysis failed: ${l instanceof Error?l.message:String(l)}`)}try{for(let l of s){let u=l.decision,d=u.confidence>1?u.confidence/100:u.confidence,p=u.sources??nd(u.reasoning),f=u.intent??La(u.reasoning,u.action),h=fyt(u.reasoning,u.action,u.symbol);myt(l.agentId,h),byt(l.agentId,{action:u.action,symbol:u.symbol,reasoning:u.reasoning,confidence:d,intent:f,sources:p,coherenceScore:.5})}xyt("round_analyzed",{roundId:t,agentCount:s.length,version:"v21",pillars:26}),console.log(`[Orchestrator] v21 round complete: ${s.length} agents \u2014 chain validation + strategy profiling recorded`)}catch(l){console.warn(`[Orchestrator] v21 analysis failed: ${l instanceof Error?l.message:String(l)}`)}try{let l=[],u={};for(let d of s)u[d.agentId]=s.filter(p=>p.agentId!==d.agentId).map(p=>({agentId:p.agentId,action:p.decision.action,symbol:p.decision.symbol,reasoning:p.decision.reasoning,confidence:p.decision.confidence>1?p.decision.confidence/100:p.decision.confidence}));for(let d of s){let p=d.decision,f=p.confidence>1?p.confidence/100:p.confidence,h=p.sources??nd(p.reasoning),m=p.intent??La(p.reasoning,p.action),g=`v22_${t}_${d.agentId}`;Eyt({tradeId:g,agentId:d.agentId,roundId:t,action:p.action,symbol:p.symbol,quantity:p.quantity,reasoning:p.reasoning,confidence:f,intent:m,sources:h,predictedOutcome:p.predictedOutcome}),l.push(g);let b=Ryt(p.reasoning,i,h);Iyt(g,d.agentId,t,b);let _=Nyt(p.reasoning,p.action,f,i,u[d.agentId]??[]);Oyt(g,d.agentId,t,_)}Tyt(t,l),kyt("round_analyzed",{roundId:t,agentCount:s.length,version:"v22",pillars:28,tradeFingerprints:l.length}),console.log(`[Orchestrator] v22 round complete: ${s.length} agents \u2014 integrity + grounding + bias detection recorded`)}catch(l){console.warn(`[Orchestrator] v22 analysis failed: ${l instanceof Error?l.message:String(l)}`)}try{let l=s.map(u=>({agentId:u.agentId,action:u.decision.action,symbol:u.decision.symbol,reasoning:u.decision.reasoning,confidence:ia(u.decision.confidence),predictedOutcome:u.decision.predictedOutcome}));for(let u of s){let d=u.decision,p=ia(d.confidence),f=l.find(x=>x.agentId===u.agentId);if(!f)continue;let h=Ma(d.reasoning,d.action,i),m=Pc(d.reasoning,i),g=by({action:d.action,symbol:d.symbol,quantity:d.quantity,confidence:p},{maxPositionSize:25,maxPortfolioAllocation:85,riskTolerance:"moderate"},{cashBalance:1e4,totalValue:1e4,positions:[]}),b=tb(d.reasoning),_=rb(d.reasoning,d.sources??[]);Myt(t,f,l,h.score,1-m.severity,g.passed,b.depthScore,_.qualityScore)}console.log(`[Orchestrator] v25 round complete: ${s.length} agents \u2014 outcome prediction + consensus intelligence recorded`)}catch(l){console.warn(`[Orchestrator] v25 analysis failed: ${l instanceof Error?l.message:String(l)}`)}try{for(let l of s){let u=l.decision,d=ia(u.confidence),p=s.filter(D=>D.agentId===l.agentId&&D!==l).map(D=>({action:D.decision.action,symbol:D.decision.symbol,reasoning:D.decision.reasoning,outcome:D.executed?"executed":"failure",coherenceScore:Ma(D.decision.reasoning,D.decision.action,i).score})),f=$yt(u.reasoning,p),h=Uyt(u.reasoning);zyt(l.agentId,f,h);let m=Ma(u.reasoning,u.action,i),g=Pc(u.reasoning,i),b=by({action:u.action,symbol:u.symbol,quantity:u.quantity,confidence:d},{maxPositionSize:25,maxPortfolioAllocation:85,riskTolerance:"moderate"},{cashBalance:1e4,totalValue:1e4,positions:[]}),_=tb(u.reasoning),x=rb(u.reasoning,u.sources??[]),E={pnl:.5,coherence:m.score,hallucinationFree:1-g.severity,discipline:b.passed?1:Math.max(0,1-b.violations.length*.25),calibration:.5,predictionAccuracy:.5,reasoningDepth:_.depthScore,sourceQuality:x.qualityScore,outcomePrediction:.5,consensusIntelligence:.5,strategyGenome:.5,riskRewardDiscipline:.5,executionQuality:.5,crossRoundLearning:.5,tradeAccountability:f.accountabilityScore,reasoningQualityIndex:h.rqiScore},{composite:R,grade:I}=Fyt(E);Vyt(l.agentId,{...E,composite:R,grade:I})}console.log(`[Orchestrator] v28 round complete: ${s.length} agents \u2014 accountability + RQI recorded`)}catch(l){console.warn(`[Orchestrator] v28 analysis failed: ${l instanceof Error?l.message:String(l)}`)}try{let l=[],u={};for(let h of i)u[h.symbol]=h.price;let d=s.map(h=>({agentId:h.agentId,action:h.decision.action,symbol:h.decision.symbol}));for(let h of s){let m=h.decision,g=ia(m.confidence),b=Ma(m.reasoning,m.action,i),_=Pc(m.reasoning,i),x=by({action:m.action,symbol:m.symbol,quantity:m.quantity,confidence:g},{maxPositionSize:25,maxPortfolioAllocation:85,riskTolerance:"moderate"},{cashBalance:1e4,totalValue:1e4,positions:[]}),E=m.sources??nd(m.reasoning),R=m.intent??La(m.action,m.reasoning),I=qgt({agentId:h.agentId,roundId:t,symbol:m.symbol,action:m.action,reasoning:m.reasoning,confidence:g,intent:R,coherenceScore:b.score,hallucinationFlags:_.flags,disciplinePassed:x.passed,sources:E,predictedOutcome:m.predictedOutcome??null,previousPredictions:[],marketPrices:u,peerActions:d.filter(D=>D.agentId!==h.agentId)});l.push(I)}let p=[];for(let h of s){let m=Ix.find(_=>_.config.agentId===h.agentId)?.config;if(!m)continue;let g=l.filter(_=>_.agentId===h.agentId),b=Jgt({agentId:h.agentId,agentName:m.name,provider:m.provider,model:m.model,trades:g,pnlPercent:0,sharpeRatio:0,maxDrawdown:0});p.push(b)}let f=RE(i).regime??"unknown";Wgt(t,p,l,f),console.log(`[Orchestrator] v33 round complete: ${s.length} agents \u2014 26-dimension causal + epistemic scoring recorded`)}catch(l){console.warn(`[Orchestrator] v33 analysis failed: ${l instanceof Error?l.message:String(l)}`)}try{let l=[],u=s.map(m=>m.decision.reasoning),d={};for(let m of i)d[m.symbol]=m.price;let p=s.map(m=>({agentId:m.agentId,action:m.decision.action,symbol:m.decision.symbol}));for(let m of s){let g=m.decision,b=ia(g.confidence),_=g.action,x=Ma(g.reasoning,_,i),E=Pc(g.reasoning,i),R=by(g,{maxPositionSize:25,maxPortfolioAllocation:85,riskTolerance:"moderate"},{cashBalance:1e4,totalValue:1e4,positions:[]}),I=g.sources??nd(g.reasoning),D=g.intent??La(g.action,g.reasoning),k=u.filter(($,j)=>s[j].agentId!==m.agentId),O=Kgt({agentId:m.agentId,roundId:t,symbol:g.symbol,action:g.action,reasoning:g.reasoning,confidence:b,intent:D,coherenceScore:x.score,hallucinationFlags:E.flags,disciplinePassed:R.passed,sources:I,predictedOutcome:g.predictedOutcome??null,previousPredictions:[],marketPrices:d,peerActions:p.filter($=>$.agentId!==m.agentId),peerReasonings:k});l.push(O)}let f=[];for(let m of s){let g=Ix.find(x=>x.config.agentId===m.agentId)?.config;if(!g)continue;let b=l.filter(x=>x.agentId===m.agentId),_=Qgt({agentId:m.agentId,agentName:g.name,provider:g.provider,model:g.model,trades:b,pnlPercent:0,sharpeRatio:0,maxDrawdown:0});f.push(_)}let h=RE(i).regime??"unknown";Xgt(t,f,l,h),console.log(`[Orchestrator] v35 round complete: ${s.length} agents \u2014 30-dimension info asymmetry + temporal reasoning scoring recorded`)}catch(l){console.warn(`[Orchestrator] v35 analysis failed: ${l instanceof Error?l.message:String(l)}`)}try{let l=[],u={};for(let m of i)u[m.symbol.toLowerCase()]=m.price;let d=s.map(m=>({agentId:m.agentId,action:m.decision.action,symbol:m.decision.symbol})),p=s.map(m=>m.decision.reasoning);for(let m of s){let g=m.decision,b=ia(g.confidence),_=Ma(g.reasoning,g.action,i),x=Pc(g.reasoning,i),E=by({action:g.action,symbol:g.symbol,quantity:g.quantity,confidence:b},{maxPositionSize:25,maxPortfolioAllocation:85,riskTolerance:"moderate"},{cashBalance:1e4,totalValue:1e4,positions:[]}),R=g.sources??nd(g.reasoning),I=g.intent??La(g.action,g.reasoning),D=p.filter((O,$)=>s[$].agentId!==m.agentId),k=Ygt({agentId:m.agentId,roundId:t,symbol:g.symbol,action:g.action,reasoning:g.reasoning,confidence:b,intent:I,coherenceScore:_.score,hallucinationFlags:x.flags,disciplinePassed:E.passed,sources:R,predictedOutcome:g.predictedOutcome??null,previousPredictions:[],marketPrices:u,peerActions:d.filter(O=>O.agentId!==m.agentId),peerReasonings:D});l.push(k)}let f=[];for(let m of s){let g=Ix.find(x=>x.config.agentId===m.agentId)?.config;if(!g)continue;let b=l.filter(x=>x.agentId===m.agentId),_=Zgt({agentId:m.agentId,agentName:g.name,provider:g.provider,model:g.model,trades:b,pnlPercent:0,sharpeRatio:0,maxDrawdown:0});f.push(_)}let h=RE(i).regime??"unknown";e0t(t,f,l,h),console.log(`[Orchestrator] v36 round complete: ${s.length} agents \u2014 32-dimension reasoning auditability + decision reversibility scoring recorded`)}catch(l){console.warn(`[Orchestrator] v36 analysis failed: ${l instanceof Error?l.message:String(l)}`)}try{let l=[],u={};for(let m of i)u[m.symbol.toLowerCase()]=m.price;let d=s.map(m=>({agentId:m.agentId,action:m.decision.action,symbol:m.decision.symbol})),p=s.map(m=>m.decision.reasoning);for(let m of s){let g=m.decision,b=ia(g.confidence),_=Ma(g.reasoning,g.action,i),x=Pc(g.reasoning,i),E=by({action:g.action,symbol:g.symbol,quantity:g.quantity,confidence:b},{maxPositionSize:25,maxPortfolioAllocation:85,riskTolerance:"moderate"},{cashBalance:1e4,totalValue:1e4,positions:[]}),R=g.sources??nd(g.reasoning),I=g.intent??La(g.action,g.reasoning),D=p.filter((O,$)=>s[$].agentId!==m.agentId),k=t0t({agentId:m.agentId,roundId:t,symbol:g.symbol,action:g.action,reasoning:g.reasoning,confidence:b,intent:I,coherenceScore:_.score,hallucinationFlags:x.flags,disciplinePassed:E.passed,sources:R,predictedOutcome:g.predictedOutcome??null,previousPredictions:[],marketPrices:u,peerActions:d.filter(O=>O.agentId!==m.agentId),peerReasonings:D,quantity:g.quantity??0});l.push(k)}let f=[];for(let m of s){let g=Ix.find(x=>x.config.agentId===m.agentId)?.config;if(!g)continue;let b=l.filter(x=>x.agentId===m.agentId),_=r0t({agentId:m.agentId,agentName:g.name,provider:g.provider,model:g.model,trades:b,pnlPercent:0,sharpeRatio:0,maxDrawdown:0});f.push(_)}let h=RE(i).regime??"unknown";n0t(t,f,l,h),console.log(`[Orchestrator] v37 round complete: ${s.length} agents \u2014 34-dimension reasoning composability + strategic foresight scoring recorded`)}catch(l){console.warn(`[Orchestrator] v37 analysis failed: ${l instanceof Error?l.message:String(l)}`)}return{roundId:t,timestamp:e,results:s,errors:r,circuitBreakerActivations:n,lockSkipped:!1}}function mbr(t){let e=t.filter(o=>o.decision.action!=="hold");if(e.length===0)return"no_trades";let r=e.map(o=>o.decision.action),n=r.filter(o=>o==="buy").length,i=r.filter(o=>o==="sell").length;return n===e.length||i===e.length?"unanimous":n>i&&n>1||i>n&&i>1?"majority":"split"}function hbr(t,e){let r=[];for(let n of t){let i=n.executed?"OK":"FAIL";r.push(`${n.agentName}: ${n.decision.action.toUpperCase()} ${n.decision.symbol} (${n.decision.confidence}%) ${i}`)}return e.length>0&&r.push(`${e.length} error(s)`),r.join(" | ")}var gbr={AAPLx:178.5,AMZNx:185.2,GOOGLx:142.8,METAx:505.3,MSFTx:415.6,NVDAx:890.5,TSLAx:245.8,SPYx:502.1,QQQx:435.7,COINx:205.4,CRCLx:32.15,MSTRx:1685,AVGOx:168.9,JPMx:198.5,HOODx:22.8,LLYx:785.2,CRMx:272.6,NFLXx:628.9,PLTRx:24.5,GMEx:17.8};function Hyt(t){let e=gbr[t]??100,r=1+(Math.random()-.5)*.04;return Math.round(e*r*100)/100}function Gyt(){return Math.round((Math.random()-.5)*10*100)/100}function jyt(){return Math.round((10+Math.random()*490)*1e6)}async function I0i(t){console.log("[TradingLambda] Received event:",JSON.stringify(t));let e=Date.now();try{let r=await qyt(),n=Date.now()-e;console.log(`[TradingLambda] Round ${r.roundId} completed in ${n}ms`),console.log(`[TradingLambda] Results: ${r.results.length} agents, ${r.errors.length} errors`);for(let i of r.results)console.log(`[TradingLambda] ${i.agentName}: ${i.decision.action} ${i.decision.symbol} (confidence: ${i.decision.confidence}%, executed: ${i.executed})`);return{statusCode:200,body:JSON.stringify({roundId:r.roundId,timestamp:r.timestamp,durationMs:n,agentCount:r.results.length,errorCount:r.errors.length,decisions:r.results.map(i=>({agent:i.agentName,action:i.decision.action,symbol:i.decision.symbol,confidence:i.decision.confidence,executed:i.executed}))})}}catch(r){let n=Date.now()-e,i=r instanceof Error?r.message:String(r);return console.error(`[TradingLambda] Fatal error after ${n}ms: ${i}`),{statusCode:500,body:JSON.stringify({error:"trading_round_failed",message:i,durationMs:n})}}}export{I0i as handler};
/*! Bundled license information:

@neondatabase/serverless/index.mjs:
  (*! Bundled license information:
  
  ieee754/index.js:
    (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  
  buffer/index.js:
    (*!
     * The buffer module from node.js, for the browser.
     *
     * @author   Feross Aboukhadijeh <https://feross.org>
     * @license  MIT
     *)
  *)

@noble/hashes/esm/utils.js:
@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

reflect-metadata/Reflect.js:
  (*! *****************************************************************************
  Copyright (C) Microsoft. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** *)

pvtsutils/build/index.es.js:
  (*!
   * MIT License
   * 
   * Copyright (c) 2017-2024 Peculiar Ventures, LLC
   * 
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   * 
   * The above copyright notice and this permission notice shall be included in all
   * copies or substantial portions of the Software.
   * 
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
   * SOFTWARE.
   * 
   *)

pvutils/build/utils.es.js:
  (*!
   Copyright (c) Peculiar Ventures, LLC
  *)

asn1js/build/index.es.js:
  (*!
   * Copyright (c) 2014, GMO GlobalSign
   * Copyright (c) 2015-2022, Peculiar Ventures
   * All rights reserved.
   * 
   * Author 2014-2019, Yury Strozhevsky
   * 
   * Redistribution and use in source and binary forms, with or without modification,
   * are permitted provided that the following conditions are met:
   * 
   * * Redistributions of source code must retain the above copyright notice, this
   *   list of conditions and the following disclaimer.
   * 
   * * Redistributions in binary form must reproduce the above copyright notice, this
   *   list of conditions and the following disclaimer in the documentation and/or
   *   other materials provided with the distribution.
   * 
   * * Neither the name of the copyright holder nor the names of its
   *   contributors may be used to endorse or promote products derived from
   *   this software without specific prior written permission.
   * 
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
   * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
   * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
   * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
   * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
   * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
   * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
   * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
   * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   * 
   *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

@peculiar/x509/build/x509.es.js:
  (*!
   * MIT License
   * 
   * Copyright (c) Peculiar Ventures. All rights reserved.
   * 
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   * 
   * The above copyright notice and this permission notice shall be included in all
   * copies or substantial portions of the Software.
   * 
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
   * SOFTWARE.
   * 
   *)

@turnkey/api-key-stamper/dist/tink/bytes.mjs:
  (**
   * Code modified from https://github.com/google/tink/blob/6f74b99a2bfe6677e3670799116a57268fd067fa/javascript/subtle/bytes.ts
   *
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   *)

@turnkey/api-key-stamper/dist/tink/elliptic_curves.mjs:
  (**
   * Code modified from https://github.com/google/tink/blob/6f74b99a2bfe6677e3670799116a57268fd067fa/javascript/subtle/elliptic_curves.ts
   * - The implementation of integerToByteArray has been modified to augment the resulting byte array to a certain length.
   * - The implementation of PointDecode has been modified to decode both compressed and uncompressed points by checking for correct format
   * - Method isP256CurvePoint added to check whether an uncompressed point is valid
   *
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   *)

@noble/curves/esm/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/nist.js:
@noble/curves/esm/p256.js:
@noble/curves/esm/abstract/edwards.js:
@noble/curves/esm/ed25519.js:
@noble/curves/esm/secp256k1.js:
@noble/curves/esm/abstract/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@solana/buffer-layout/lib/Layout.js:
  (**
   * Support for translating between Uint8Array instances and JavaScript
   * native types.
   *
   * {@link module:Layout~Layout|Layout} is the basis of a class
   * hierarchy that associates property names with sequences of encoded
   * bytes.
   *
   * Layouts are supported for these scalar (numeric) types:
   * * {@link module:Layout~UInt|Unsigned integers in little-endian
   *   format} with {@link module:Layout.u8|8-bit}, {@link
   *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
   *   {@link module:Layout.u32|32-bit}, {@link
   *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
   *   format} with {@link module:Layout.u16be|16-bit}, {@link
   *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
   *   {@link module:Layout.u40be|40-bit}, and {@link
   *   module:Layout.u48be|48-bit} representation ranges;
   * * {@link module:Layout~Int|Signed integers in little-endian
   *   format} with {@link module:Layout.s8|8-bit}, {@link
   *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
   *   {@link module:Layout.s32|32-bit}, {@link
   *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~IntBE|Signed integers in big-endian format}
   *   with {@link module:Layout.s16be|16-bit}, {@link
   *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
   *   {@link module:Layout.s40be|40-bit}, and {@link
   *   module:Layout.s48be|48-bit} representation ranges;
   * * 64-bit integral values that decode to an exact (if magnitude is
   *   less than 2^53) or nearby integral Number in {@link
   *   module:Layout.nu64|unsigned little-endian}, {@link
   *   module:Layout.nu64be|unsigned big-endian}, {@link
   *   module:Layout.ns64|signed little-endian}, and {@link
   *   module:Layout.ns64be|unsigned big-endian} encodings;
   * * 32-bit floating point values with {@link
   *   module:Layout.f32|little-endian} and {@link
   *   module:Layout.f32be|big-endian} representations;
   * * 64-bit floating point values with {@link
   *   module:Layout.f64|little-endian} and {@link
   *   module:Layout.f64be|big-endian} representations;
   * * {@link module:Layout.const|Constants} that take no space in the
   *   encoded expression.
   *
   * and for these aggregate types:
   * * {@link module:Layout.seq|Sequence}s of instances of a {@link
   *   module:Layout~Layout|Layout}, with JavaScript representation as
   *   an Array and constant or data-dependent {@link
   *   module:Layout~Sequence#count|length};
   * * {@link module:Layout.struct|Structure}s that aggregate a
   *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
   *   instances, with JavaScript representation as an Object;
   * * {@link module:Layout.union|Union}s that support multiple {@link
   *   module:Layout~VariantLayout|variant layouts} over a fixed
   *   (padded) or variable (not padded) span of bytes, using an
   *   unsigned integer at the start of the data or a separate {@link
   *   module:Layout.unionLayoutDiscriminator|layout element} to
   *   determine which layout to use when interpreting the buffer
   *   contents;
   * * {@link module:Layout.bits|BitStructure}s that contain a sequence
   *   of individual {@link
   *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
   *   16, 24, or 32-bit unsigned integer starting at the least- or
   *   most-significant bit;
   * * {@link module:Layout.cstr|C strings} of varying length;
   * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
   *   module:Layout~Blob#length|length} raw data.
   *
   * All {@link module:Layout~Layout|Layout} instances are immutable
   * after construction, to prevent internal state from becoming
   * inconsistent.
   *
   * @local Layout
   * @local ExternalLayout
   * @local GreedyCount
   * @local OffsetLayout
   * @local UInt
   * @local UIntBE
   * @local Int
   * @local IntBE
   * @local NearUInt64
   * @local NearUInt64BE
   * @local NearInt64
   * @local NearInt64BE
   * @local Float
   * @local FloatBE
   * @local Double
   * @local DoubleBE
   * @local Sequence
   * @local Structure
   * @local UnionDiscriminator
   * @local UnionLayoutDiscriminator
   * @local Union
   * @local VariantLayout
   * @local BitStructure
   * @local BitField
   * @local Boolean
   * @local Blob
   * @local CString
   * @local Constant
   * @local bindConstructorLayout
   * @module Layout
   * @license MIT
   * @author Peter A. Bigot
   * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
   *)

decimal.js/decimal.mjs:
  (*!
   *  decimal.js v10.6.0
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   *)

@solana/web3.js/lib/index.esm.js:
  (*!
   * humanize-ms - index.js
   * Copyright(c) 2014 dead_horse <dead_horse@qq.com>
   * MIT Licensed
   *)

aes-js/lib.esm/aes.js:
  (*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. *)
*/
//# sourceMappingURL=index.mjs.map
