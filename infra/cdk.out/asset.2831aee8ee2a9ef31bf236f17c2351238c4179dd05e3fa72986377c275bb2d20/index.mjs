import{createRequire}from'module';const require=createRequire(import.meta.url);
var o_t=Object.create;var pP=Object.defineProperty;var s_t=Object.getOwnPropertyDescriptor;var a_t=Object.getOwnPropertyNames;var c_t=Object.getPrototypeOf,l_t=Object.prototype.hasOwnProperty;var yt=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var b=(t,e)=>()=>(t&&(e=t(t=0)),e);var ze=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Nr=(t,e)=>{for(var r in e)pP(t,r,{get:e[r],enumerable:!0})},ESe=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of a_t(e))!l_t.call(t,i)&&i!==r&&pP(t,i,{get:()=>e[i],enumerable:!(n=s_t(e,i))||n.enumerable});return t};var di=(t,e,r)=>(r=t!=null?o_t(c_t(t)):{},ESe(e||!t||!t.__esModule?pP(r,"default",{value:t,enumerable:!0}):r,t)),Iq=t=>ESe(pP({},"__esModule",{value:!0}),t);var Fl,zl,hwe=b(()=>{"use strict";Fl=t=>({setHttpHandler(e){t.httpHandler=e},httpHandler(){return t.httpHandler},updateHttpClientConfig(e,r){t.httpHandler?.updateHttpClientConfig(e,r)},httpHandlerConfigs(){return t.httpHandler.httpHandlerConfigs()}}),zl=t=>({httpHandler:t.httpHandler()})});var gwe=b(()=>{"use strict";hwe()});var ywe=b(()=>{"use strict"});var bwe,vwe=b(()=>{"use strict";(function(t){t.HEADER="header",t.QUERY="query"})(bwe||(bwe={}))});var _we,Swe=b(()=>{"use strict";(function(t){t.HEADER="header",t.QUERY="query"})(_we||(_we={}))});var xwe=b(()=>{"use strict"});var wwe=b(()=>{"use strict"});var Awe=b(()=>{"use strict"});var Ewe=b(()=>{"use strict"});var Twe=b(()=>{"use strict";vwe();Swe();xwe();wwe();Awe();Ewe()});var Rwe=b(()=>{"use strict"});var Iwe=b(()=>{"use strict"});var Cwe=b(()=>{"use strict"});var Nwe=b(()=>{"use strict"});var Owe=b(()=>{"use strict"});var Pwe=b(()=>{"use strict"});var kwe=b(()=>{"use strict"});var Dwe=b(()=>{"use strict";Owe();Pwe();kwe()});var Mwe=b(()=>{"use strict"});var Lwe=b(()=>{"use strict"});var xx,Bwe=b(()=>{"use strict";(function(t){t.HTTP="http",t.HTTPS="https"})(xx||(xx={}))});var $we=b(()=>{"use strict"});var Uwe=b(()=>{"use strict"});var Fwe=b(()=>{"use strict"});var zwe=b(()=>{"use strict"});var Hwe=b(()=>{"use strict"});var Vwe=b(()=>{"use strict";$we();Uwe();Fwe();zwe();Hwe()});var Gwe=b(()=>{"use strict"});var wx,jwe=b(()=>{"use strict";(function(t){t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256"})(wx||(wx={}))});var qwe=b(()=>{"use strict"});var Wwe=b(()=>{"use strict"});var Jwe=b(()=>{"use strict";qwe();Wwe();jwe()});var Kwe=b(()=>{"use strict"});var Qwe,Xwe=b(()=>{"use strict";(function(t){t[t.HEADER=0]="HEADER",t[t.TRAILER=1]="TRAILER"})(Qwe||(Qwe={}))});var Ywe=b(()=>{"use strict"});var Zwe=b(()=>{"use strict"});var eAe=b(()=>{"use strict"});var tAe=b(()=>{"use strict"});var rAe=b(()=>{"use strict"});var nAe=b(()=>{"use strict";Zwe();eAe();tAe();rAe()});var iAe=b(()=>{"use strict"});var z6,oAe=b(()=>{"use strict";z6="__smithy_context"});var sAe=b(()=>{"use strict"});var Sm,aAe=b(()=>{"use strict";(function(t){t.PROFILE="profile",t.SSO_SESSION="sso-session",t.SERVICES="services"})(Sm||(Sm={}))});var cAe=b(()=>{"use strict"});var lAe=b(()=>{"use strict"});var uAe=b(()=>{"use strict"});var dAe=b(()=>{"use strict"});var pAe=b(()=>{"use strict"});var fAe=b(()=>{"use strict"});var mAe=b(()=>{"use strict"});var hAe=b(()=>{"use strict"});var gAe=b(()=>{"use strict"});var yAe=b(()=>{"use strict"});var bAe=b(()=>{"use strict"});var vAe=b(()=>{"use strict"});var _Ae=b(()=>{"use strict"});var SAe=b(()=>{"use strict"});var xAe,wAe=b(()=>{"use strict";(function(t){t.HTTP_0_9="http/0.9",t.HTTP_1_0="http/1.0",t.TDS_8_0="tds/8.0"})(xAe||(xAe={}))});var AAe=b(()=>{"use strict"});var EAe=b(()=>{"use strict"});var TAe=b(()=>{"use strict"});var RAe=b(()=>{"use strict"});var IAe=b(()=>{"use strict"});var CAe=b(()=>{"use strict"});var NAe=b(()=>{"use strict"});var d0=b(()=>{"use strict";ywe();Twe();Rwe();Iwe();Cwe();Nwe();Dwe();Mwe();Lwe();Bwe();Vwe();Gwe();Jwe();Kwe();Xwe();Ywe();nAe();iAe();oAe();sAe();aAe();cAe();lAe();uAe();dAe();pAe();fAe();mAe();hAe();gAe();yAe();bAe();vAe();_Ae();SAe();wAe();AAe();EAe();TAe();RAe();IAe();CAe();NAe()});var OAe=b(()=>{"use strict"});var PAe=b(()=>{"use strict"});var kAe=b(()=>{"use strict"});function Q2t(t){return Object.keys(t).reduce((e,r)=>{let n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}var mn,DAe=b(()=>{"use strict";mn=class t{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){let r=new t({...e,headers:{...e.headers}});return r.query&&(r.query=Q2t(r.query)),r}static isInstance(e){if(!e)return!1;let r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return t.clone(this)}}});var Hl,MAe=b(()=>{"use strict";Hl=class{statusCode;reason;headers;body;constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let r=e;return typeof r.statusCode=="number"&&typeof r.headers=="object"}}});var LAe=b(()=>{"use strict"});var BAe=b(()=>{"use strict"});var pi=b(()=>{"use strict";gwe();OAe();PAe();kAe();DAe();MAe();LAe();BAe()});var X2t,Y2t,Vl,Eb=b(()=>{"use strict";pi();X2t=t=>e=>async r=>{if(!mn.isInstance(r.request))return e(r);let{request:n}=r,{handlerProtocol:i=""}=t.requestHandler.metadata||{};if(i.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let o=n.hostname;n.port!=null&&(o+=`:${n.port}`),n.headers.host=o}return e(r)},Y2t={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Vl=t=>({applyToStack:e=>{e.add(X2t(t),Y2t)}})});var Z2t,ext,Gl,$Ae=b(()=>{"use strict";Z2t=()=>(t,e)=>async r=>{try{let n=await t(r),{clientName:i,commandName:o,logger:s,dynamoDbDocumentClientOptions:a={}}=e,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:l}=a,u=c??e.inputFilterSensitiveLog,d=l??e.outputFilterSensitiveLog,{$metadata:p,...f}=n.output;return s?.info?.({clientName:i,commandName:o,input:u(r.input),output:d(f),metadata:p}),n}catch(n){let{clientName:i,commandName:o,logger:s,dynamoDbDocumentClientOptions:a={}}=e,{overrideInputFilterSensitiveLog:c}=a,l=c??e.inputFilterSensitiveLog;throw s?.error?.({clientName:i,commandName:o,input:l(r.input),error:n,metadata:n.$metadata}),n}},ext={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Gl=t=>({applyToStack:e=>{e.add(Z2t(),ext)}})});var Tb=b(()=>{"use strict";$Ae()});var UAe,FAe=b(()=>{"use strict";UAe={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"}});var H6,RX,Zk,IX,CX,e7,zAe=b(()=>{"use strict";H6={REQUEST_ID:Symbol.for("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol.for("_AWS_LAMBDA_X_RAY_TRACE_ID"),TENANT_ID:Symbol.for("_AWS_LAMBDA_TENANT_ID")},RX=["true","1"].includes(process.env?.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA??"");RX||(globalThis.awslambda=globalThis.awslambda||{});Zk=class{static PROTECTED_KEYS=H6;isProtectedKey(e){return Object.values(H6).includes(e)}getRequestId(){return this.get(H6.REQUEST_ID)??"-"}getXRayTraceId(){return this.get(H6.X_RAY_TRACE_ID)}getTenantId(){return this.get(H6.TENANT_ID)}},IX=class extends Zk{currentContext;getContext(){return this.currentContext}hasContext(){return this.currentContext!==void 0}get(e){return this.currentContext?.[e]}set(e,r){if(this.isProtectedKey(e))throw new Error(`Cannot modify protected Lambda context field: ${String(e)}`);this.currentContext=this.currentContext||{},this.currentContext[e]=r}run(e,r){return this.currentContext=e,r()}},CX=class t extends Zk{als;static async create(){let e=new t,r=await import("node:async_hooks");return e.als=new r.AsyncLocalStorage,e}getContext(){return this.als.getStore()}hasContext(){return this.als.getStore()!==void 0}get(e){return this.als.getStore()?.[e]}set(e,r){if(this.isProtectedKey(e))throw new Error(`Cannot modify protected Lambda context field: ${String(e)}`);let n=this.als.getStore();if(!n)throw new Error("No context available");n[e]=r}run(e,r){return this.als.run(e,r)}};(function(t){let e=null;async function r(){return e||(e=(async()=>{let i="AWS_LAMBDA_MAX_CONCURRENCY"in process.env?await CX.create():new IX;return!RX&&globalThis.awslambda?.InvokeStore?globalThis.awslambda.InvokeStore:(!RX&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=i),i)})()),e}t.getInstanceAsync=r,t._testing=process.env.AWS_LAMBDA_BENCHMARK_MODE==="1"?{reset:()=>{e=null,globalThis.awslambda?.InvokeStore&&delete globalThis.awslambda.InvokeStore,globalThis.awslambda={InvokeStore:void 0}}}:void 0})(e7||(e7={}))});var NX,txt,rxt,HAe,OX=b(()=>{"use strict";zAe();pi();NX="X-Amzn-Trace-Id",txt="AWS_LAMBDA_FUNCTION_NAME",rxt="_X_AMZN_TRACE_ID",HAe=()=>t=>async e=>{let{request:r}=e;if(!mn.isInstance(r))return t(e);let n=Object.keys(r.headers??{}).find(u=>u.toLowerCase()===NX.toLowerCase())??NX;if(r.headers.hasOwnProperty(n))return t(e);let i=process.env[txt],o=process.env[rxt],c=(await e7.getInstanceAsync())?.getXRayTraceId()??o,l=u=>typeof u=="string"&&u.length>0;return l(i)&&l(c)&&(r.headers[NX]=c),t({...e,request:r})}});var jl,VAe=b(()=>{"use strict";FAe();OX();jl=t=>({applyToStack:e=>{e.add(HAe(),UAe)}})});var Rb=b(()=>{"use strict";VAe();OX()});var GAe=b(()=>{"use strict"});var $i,jAe=b(()=>{"use strict";d0();$i=t=>t[z6]||(t[z6]={})});var hn,qAe=b(()=>{"use strict";hn=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e}});var Ws=b(()=>{"use strict";jAe();qAe()});var WAe,JAe=b(()=>{"use strict";WAe=(t,e)=>{if(!e||e.length===0)return t;let r=[];for(let n of e)for(let i of t)i.schemeId.split("#")[1]===n&&r.push(i);for(let n of t)r.find(({schemeId:i})=>i===n.schemeId)||r.push(n);return r}});function nxt(t){let e=new Map;for(let r of t)e.set(r.schemeId,r);return e}var KAe,PX=b(()=>{"use strict";Ws();JAe();KAe=(t,e)=>(r,n)=>async i=>{let o=t.httpAuthSchemeProvider(await e.httpAuthSchemeParametersProvider(t,n,i.input)),s=t.authSchemePreference?await t.authSchemePreference():[],a=WAe(o,s),c=nxt(t.httpAuthSchemes),l=$i(n),u=[];for(let d of a){let p=c.get(d.schemeId);if(!p){u.push(`HttpAuthScheme \`${d.schemeId}\` was not enabled for this service.`);continue}let f=p.identityProvider(await e.identityProviderConfigProvider(t));if(!f){u.push(`HttpAuthScheme \`${d.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:h={},signingProperties:m={}}=d.propertiesExtractor?.(t,n)||{};d.identityProperties=Object.assign(d.identityProperties||{},h),d.signingProperties=Object.assign(d.signingProperties||{},m),l.selectedHttpAuthScheme={httpAuthOption:d,identity:await f(d.identityProperties),signer:p.signer};break}if(!l.selectedHttpAuthScheme)throw new Error(u.join(`
`));return r(i)}});var ixt,ql,QAe=b(()=>{"use strict";PX();ixt={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},ql=(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(KAe(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r}),ixt)}})});var XAe=b(()=>{"use strict"});var YAe=b(()=>{"use strict"});var t7,ZAe=b(()=>{"use strict";t7={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var kX=b(()=>{"use strict";XAe();ZAe();YAe()});var R5r,eEe=b(()=>{"use strict";kX();R5r={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:t7.name}});var tEe=b(()=>{"use strict";PX();QAe();eEe()});var oxt,sxt,rEe,DX=b(()=>{"use strict";pi();Ws();oxt=t=>e=>{throw e},sxt=(t,e)=>{},rEe=t=>(e,r)=>async n=>{if(!mn.isInstance(n.request))return e(n);let o=$i(r).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:s={}},identity:a,signer:c}=o,l=await e({...n,request:await c.sign(n.request,a,s)}).catch((c.errorHandler||oxt)(s));return(c.successHandler||sxt)(l.response,s),l}});var axt,Wl,nEe=b(()=>{"use strict";DX();axt={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},Wl=t=>({applyToStack:e=>{e.addRelativeTo(rEe(t),axt)}})});var iEe=b(()=>{"use strict";DX();nEe()});var Ib,oEe=b(()=>{"use strict";Ib=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e}});function Ei(t,e,r,n,i){return async function*(s,a,...c){let l=a,u=s.startingToken??l[r],d=!0,p;for(;d;){if(l[r]=u,i&&(l[i]=l[i]??s.pageSize),s.client instanceof t)p=await cxt(e,s.client,a,s.withCommand,...c);else throw new Error(`Invalid client, expected instance of ${t.name}`);yield p;let f=u;u=lxt(p,n),d=!!(u&&(!s.stopOnSameToken||u!==f))}return void 0}}var cxt,lxt,sEe=b(()=>{"use strict";cxt=async(t,e,r,n=o=>o,...i)=>{let o=new t(r);return o=n(o)??o,await e.send(o,...i)};lxt=(t,e)=>{let r=t,n=e.split(".");for(let i of n){if(!r||typeof r!="object")return;r=r[i]}return r}});var r7,MX=b(()=>{"use strict";r7=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]"});import{Buffer as LX}from"buffer";var xm,Ax,Cb=b(()=>{"use strict";MX();xm=(t,e=0,r=t.byteLength-e)=>{if(!r7(t))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof t} (${t})`);return LX.from(t,e,r)},Ax=(t,e)=>{if(typeof t!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof t} (${t})`);return e?LX.from(t,e):LX.from(t)}});var uxt,Ti,aEe=b(()=>{"use strict";Cb();uxt=/^[A-Za-z0-9+/]*={0,2}$/,Ti=t=>{if(t.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!uxt.exec(t))throw new TypeError("Invalid base64 string.");let e=Ax(t,"base64");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}});var ti,BX=b(()=>{"use strict";Cb();ti=t=>{let e=Ax(t,"utf8");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT)}});var kd,cEe=b(()=>{"use strict";BX();kd=t=>typeof t=="string"?ti(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)});var jn,lEe=b(()=>{"use strict";Cb();jn=t=>{if(typeof t=="string")return t;if(typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return xm(t.buffer,t.byteOffset,t.byteLength).toString("utf8")}});var Yi=b(()=>{"use strict";BX();cEe();lEe()});var qn,uEe=b(()=>{"use strict";Cb();Yi();qn=t=>{let e;if(typeof t=="string"?e=ti(t):e=t,typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return xm(e.buffer,e.byteOffset,e.byteLength).toString("base64")}});var Js=b(()=>{"use strict";aEe();uEe()});var Ex,dEe=b(()=>{"use strict";Js();Yi();Ex=class t extends Uint8Array{static fromString(e,r="utf-8"){if(typeof e=="string")return r==="base64"?t.mutate(Ti(e)):t.mutate(ti(e));throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}static mutate(e){return Object.setPrototypeOf(e,t.prototype),e}transformToString(e="utf-8"){return e==="base64"?qn(this):jn(this)}}});var pEe=b(()=>{"use strict"});var $X,fEe=b(()=>{"use strict";$X=t=>typeof ReadableStream=="function"&&(t?.constructor?.name===ReadableStream.name||t instanceof ReadableStream)});var mEe=b(()=>{"use strict"});var hEe=b(()=>{"use strict"});var gEe=b(()=>{"use strict"});var yEe=b(()=>{"use strict"});var qp,dxt,bEe=b(()=>{"use strict";qp=t=>encodeURIComponent(t).replace(/[!'()*]/g,dxt),dxt=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`});var vEe=b(()=>{"use strict"});var n7=b(()=>{"use strict";bEe();vEe()});function _Ee(t){let e=[];for(let r of Object.keys(t).sort()){let n=t[r];if(r=qp(r),Array.isArray(n))for(let i=0,o=n.length;i<o;i++)e.push(`${r}=${qp(n[i])}`);else{let i=r;(n||typeof n=="string")&&(i+=`=${qp(n)}`),e.push(i)}}return e.join("&")}var SEe=b(()=>{"use strict";n7()});var xEe,wEe=b(()=>{"use strict";xEe=["ECONNRESET","EPIPE","ETIMEDOUT"]});var AEe,EEe=b(()=>{"use strict";AEe=t=>{let e={};for(let r of Object.keys(t)){let n=t[r];e[r]=Array.isArray(n)?n.join(","):n}return e}});var Zi,Nb=b(()=>{"use strict";Zi={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t)}});var TEe,REe,IEe=b(()=>{"use strict";Nb();TEe=1e3,REe=(t,e,r=0)=>{if(!r)return-1;let n=i=>{let o=Zi.setTimeout(()=>{t.destroy(),e(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${r} ms.`),{name:"TimeoutError"}))},r-i),s=a=>{a?.connecting?a.on("connect",()=>{Zi.clearTimeout(o)}):Zi.clearTimeout(o)};t.socket?s(t.socket):t.on("socket",s)};return r<2e3?(n(0),0):Zi.setTimeout(n.bind(null,TEe),TEe)}});var CEe,NEe=b(()=>{"use strict";Nb();CEe=(t,e,r=0,n,i)=>r?Zi.setTimeout(()=>{let o=`@smithy/node-http-handler - [${n?"ERROR":"WARN"}] a request has exceeded the configured ${r} ms requestTimeout.`;if(n){let s=Object.assign(new Error(o),{name:"TimeoutError",code:"ETIMEDOUT"});t.destroy(s),e(s)}else o+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",i?.warn?.(o)},r):-1});var pxt,OEe,PEe=b(()=>{"use strict";Nb();pxt=3e3,OEe=(t,{keepAlive:e,keepAliveMsecs:r},n=pxt)=>{if(e!==!0)return-1;let i=()=>{t.socket?t.socket.setKeepAlive(e,r||0):t.on("socket",o=>{o.setKeepAlive(e,r||0)})};return n===0?(i(),0):Zi.setTimeout(i,n)}});var kEe,DEe,MEe=b(()=>{"use strict";Nb();kEe=3e3,DEe=(t,e,r=0)=>{let n=i=>{let o=r-i,s=()=>{t.destroy(),e(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${r} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};t.socket?(t.socket.setTimeout(o,s),t.on("close",()=>t.socket?.removeListener("timeout",s))):t.setTimeout(o,s)};return 0<r&&r<6e3?(n(0),0):Zi.setTimeout(n.bind(null,r===0?0:kEe),kEe)}});import{Readable as fxt}from"stream";async function BEe(t,e,r=LEe,n=!1){let i=e.headers??{},o=i.Expect||i.expect,s=-1,a=!0;!n&&o==="100-continue"&&(a=await Promise.race([new Promise(c=>{s=Number(Zi.setTimeout(()=>c(!0),Math.max(LEe,r)))}),new Promise(c=>{t.on("continue",()=>{Zi.clearTimeout(s),c(!0)}),t.on("response",()=>{Zi.clearTimeout(s),c(!1)}),t.on("error",()=>{Zi.clearTimeout(s),c(!1)})})])),a&&mxt(t,e.body)}function mxt(t,e){if(e instanceof fxt){e.pipe(t);return}if(e){if(Buffer.isBuffer(e)||typeof e=="string"){t.end(e);return}let r=e;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){t.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}t.end(Buffer.from(e));return}t.end()}var LEe,$Ee=b(()=>{"use strict";Nb();LEe=6e3});import{Agent as UX,request as hxt}from"http";import{Agent as FX,request as gxt}from"https";var Ks,UEe=b(()=>{"use strict";pi();SEe();wEe();EEe();IEe();NEe();PEe();MEe();Nb();$Ee();Ks=class t{config;configProvider;socketWarningTimestamp=0;externalAgent=!1;metadata={handlerProtocol:"http/1.1"};static create(e){return typeof e?.handle=="function"?e:new t(e)}static checkSocketUsage(e,r,n=console){let{sockets:i,requests:o,maxSockets:s}=e;if(typeof s!="number"||s===1/0||Date.now()-15e3<r)return r;if(i&&o)for(let c in i){let l=i[c]?.length??0,u=o[c]?.length??0;if(l>=s&&u>=2*s)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${l} and ${u} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}constructor(e){this.configProvider=new Promise((r,n)=>{typeof e=="function"?e().then(i=>{r(this.resolveDefaultConfig(i))}).catch(n):r(this.resolveDefaultConfig(e))})}resolveDefaultConfig(e){let{requestTimeout:r,connectionTimeout:n,socketTimeout:i,socketAcquisitionWarningTimeout:o,httpAgent:s,httpsAgent:a,throwOnRequestTimeout:c}=e||{},l=!0,u=50;return{connectionTimeout:n,requestTimeout:r,socketTimeout:i,socketAcquisitionWarningTimeout:o,throwOnRequestTimeout:c,httpAgent:s instanceof UX||typeof s?.destroy=="function"?(this.externalAgent=!0,s):new UX({keepAlive:l,maxSockets:u,...s}),httpsAgent:a instanceof FX||typeof a?.destroy=="function"?(this.externalAgent=!0,a):new FX({keepAlive:l,maxSockets:u,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(e,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((i,o)=>{let s=this.config,a,c=[],l=async k=>{await a,c.forEach(Zi.clearTimeout),i(k)},u=async k=>{await a,c.forEach(Zi.clearTimeout),o(k)};if(r?.aborted){let k=new Error("Request aborted");k.name="AbortError",u(k);return}let d=e.protocol==="https:",p=e.headers??{},f=(p.Expect??p.expect)==="100-continue",h=d?s.httpsAgent:s.httpAgent;f&&!this.externalAgent&&(h=new(d?FX:UX)({keepAlive:!1,maxSockets:1/0})),c.push(Zi.setTimeout(()=>{this.socketWarningTimestamp=t.checkSocketUsage(h,this.socketWarningTimestamp,s.logger)},s.socketAcquisitionWarningTimeout??(s.requestTimeout??2e3)+(s.connectionTimeout??1e3)));let m=_Ee(e.query||{}),g;if(e.username!=null||e.password!=null){let k=e.username??"",P=e.password??"";g=`${k}:${P}`}let y=e.path;m&&(y+=`?${m}`),e.fragment&&(y+=`#${e.fragment}`);let v=e.hostname??"";v[0]==="["&&v.endsWith("]")?v=e.hostname.slice(1,-1):v=e.hostname;let S={headers:e.headers,host:v,method:e.method,path:y,port:e.port,agent:h,auth:g},E=(d?gxt:hxt)(S,k=>{let P=new Hl({statusCode:k.statusCode||-1,reason:k.statusMessage,headers:AEe(k.headers),body:k});l({response:P})});if(E.on("error",k=>{xEe.includes(k.code)?u(Object.assign(k,{name:"TimeoutError"})):u(k)}),r){let k=()=>{E.destroy();let P=new Error("Request aborted");P.name="AbortError",u(P)};if(typeof r.addEventListener=="function"){let P=r;P.addEventListener("abort",k,{once:!0}),E.once("close",()=>P.removeEventListener("abort",k))}else r.onabort=k}let I=n??s.requestTimeout;c.push(REe(E,u,s.connectionTimeout)),c.push(CEe(E,u,I,s.throwOnRequestTimeout,s.logger??console)),c.push(DEe(E,u,s.socketTimeout));let D=S.agent;typeof D=="object"&&"keepAlive"in D&&c.push(OEe(E,{keepAlive:D.keepAlive,keepAliveMsecs:D.keepAliveMsecs})),a=BEe(E,e,I,this.externalAgent).catch(k=>(c.forEach(Zi.clearTimeout),o(k)))})}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[e]:r}))}httpHandlerConfigs(){return this.config??{}}}});var FEe=b(()=>{"use strict"});import{Writable as yxt}from"stream";var i7,zEe=b(()=>{"use strict";i7=class extends yxt{bufferedBytes=[];_write(e,r,n){this.bufferedBytes.push(e),n()}}});async function vxt(t){let e=[],r=t.getReader(),n=!1,i=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(e.push(c),i+=c.length),n=a}let o=new Uint8Array(i),s=0;for(let a of e)o.set(a,s),s+=a.length;return o}var sc,bxt,HEe=b(()=>{"use strict";zEe();sc=t=>bxt(t)?vxt(t):new Promise((e,r)=>{let n=new i7;t.pipe(n),t.on("error",i=>{n.end(),r(i)}),n.on("error",r),n.on("finish",function(){let i=new Uint8Array(Buffer.concat(this.bufferedBytes));e(i)})}),bxt=t=>typeof ReadableStream=="function"&&t instanceof ReadableStream});var wm=b(()=>{"use strict";UEe();FEe();HEe()});var VEe=b(()=>{"use strict"});async function _xt(t){let e=await xxt(t),r=Ti(e);return new Uint8Array(r)}async function Sxt(t){let e=[],r=t.getReader(),n=!1,i=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(e.push(c),i+=c.length),n=a}let o=new Uint8Array(i),s=0;for(let a of e)o.set(a,s),s+=a.length;return o}function xxt(t){return new Promise((e,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let i=n.result??"",o=i.indexOf(","),s=o>-1?o+1:i.length;e(i.substring(s))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(t)})}var GEe,jEe=b(()=>{"use strict";Js();GEe=async t=>typeof Blob=="function"&&t instanceof Blob||t.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await t.arrayBuffer()):_xt(t):Sxt(t)});var qEe=b(()=>{"use strict";VEe();jEe()});function JEe(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2){let n=t.slice(r,r+2).toLowerCase();if(n in zX)e[r/2]=zX[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return e}function ac(t){let e="";for(let r=0;r<t.byteLength;r++)e+=WEe[t[r]];return e}var WEe,zX,Ob=b(()=>{"use strict";WEe={},zX={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),WEe[t]=e,zX[e]=t}});var KEe,XEe,QEe,YEe=b(()=>{"use strict";qEe();Js();Ob();Yi();fEe();KEe="The stream has already been transformed.",XEe=t=>{if(!QEe(t)&&!$X(t)){let i=t?.__proto__?.constructor?.name||t;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${i}`)}let e=!1,r=async()=>{if(e)throw new Error(KEe);return e=!0,await GEe(t)},n=i=>{if(typeof i.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return i.stream()};return Object.assign(t,{transformToByteArray:r,transformToString:async i=>{let o=await r();if(i==="base64")return qn(o);if(i==="hex")return ac(o);if(i===void 0||i==="utf8"||i==="utf-8")return jn(o);if(typeof TextDecoder=="function")return new TextDecoder(i).decode(o);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(e)throw new Error(KEe);if(e=!0,QEe(t))return n(t);if($X(t))return t;throw new Error(`Cannot transform payload to web stream, got ${t}`)}})},QEe=t=>typeof Blob=="function"&&t instanceof Blob});import{Readable as HX}from"stream";var ZEe,o7,eTe=b(()=>{"use strict";wm();Cb();YEe();ZEe="The stream has already been transformed.",o7=t=>{if(!(t instanceof HX))try{return XEe(t)}catch{let i=t?.__proto__?.constructor?.name||t;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${i}`)}let e=!1,r=async()=>{if(e)throw new Error(ZEe);return e=!0,await sc(t)};return Object.assign(t,{transformToByteArray:r,transformToString:async n=>{let i=await r();return n===void 0||Buffer.isEncoding(n)?xm(i.buffer,i.byteOffset,i.byteLength).toString(n):new TextDecoder(n).decode(i)},transformToWebStream:()=>{if(e)throw new Error(ZEe);if(t.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof HX.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return e=!0,HX.toWeb(t)}})}});var tTe=b(()=>{"use strict"});var s7=b(()=>{"use strict";dEe();pEe();mEe();hEe();gEe();yEe();eTe();tTe()});var cc,a7=b(()=>{"use strict";s7();cc=async(t=new Uint8Array,e)=>{if(t instanceof Uint8Array)return Ex.mutate(t);if(!t)return Ex.mutate(new Uint8Array);let r=e.streamCollector(t);return Ex.mutate(await r)}});function Tx(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}var VX=b(()=>{"use strict"});var p0,GX=b(()=>{"use strict";p0=t=>typeof t=="function"?t():t});var c7,l7=b(()=>{"use strict";c7=(t,e,r,n,i)=>({name:e,namespace:t,traits:r,input:n,output:i})});var rTe,jX,nTe=b(()=>{"use strict";pi();Ws();l7();rTe=t=>(e,r)=>async n=>{let{response:i}=await e(n),{operationSchema:o}=$i(r),[,s,a,c,l,u]=o??[];try{let d=await t.protocol.deserializeResponse(c7(s,a,c,l,u),{...t,...r},i);return{response:i,output:d}}catch(d){if(Object.defineProperty(d,"$response",{value:i,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in d)){let p="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{d.message+=`
  `+p}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(p):r.logger?.warn?.(p)}typeof d.$responseBodyText<"u"&&d.$response&&(d.$response.body=d.$responseBodyText);try{if(Hl.isInstance(i)){let{headers:f={}}=i,h=Object.entries(f);d.$metadata={httpStatusCode:i.statusCode,requestId:jX(/^x-[\w-]+-request-?id$/,h),extendedRequestId:jX(/^x-[\w-]+-id-2$/,h),cfId:jX(/^x-[\w-]+-cf-id$/,h)}}}catch{}}throw d}},jX=(t,e)=>(e.find(([r])=>r.match(t))||[void 0,void 0])[1]});var iTe,oTe=b(()=>{"use strict";Ws();l7();iTe=t=>(e,r)=>async n=>{let{operationSchema:i}=$i(r),[,o,s,a,c,l]=i??[],u=r.endpointV2?.url&&t.urlParser?async()=>t.urlParser(r.endpointV2.url):t.endpoint,d=await t.protocol.serializeRequest(c7(o,s,a,c,l),n.input,{...t,...r,endpoint:u});return e({...n,request:d})}});function Jl(t){return{applyToStack:e=>{e.add(iTe(t),Axt),e.add(rTe(t),wxt),t.protocol.setSerdeContext(t)}}}var wxt,Axt,sTe=b(()=>{"use strict";nTe();oTe();wxt={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Axt={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var Kl,Pb=b(()=>{"use strict";Kl=class{name;namespace;traits;static assign(e,r){return Object.assign(e,r)}static[Symbol.hasInstance](e){let r=this.prototype.isPrototypeOf(e);return!r&&typeof e=="object"&&e!==null?e.symbol===this.symbol:r}getName(){return this.namespace+"#"+this.name}}});var aTe,cTe=b(()=>{"use strict";Pb();aTe=class t extends Kl{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=t.symbol}});var lTe,uTe=b(()=>{"use strict";Pb();lTe=class t extends Kl{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=t.symbol}});var dTe,pTe=b(()=>{"use strict";Pb();dTe=class t extends Kl{static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=t.symbol}});var u7,qX=b(()=>{"use strict";Pb();u7=class t extends Kl{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=t.symbol}});var fTe,mTe=b(()=>{"use strict";qX();fTe=class t extends u7{static symbol=Symbol.for("@smithy/err");ctor;symbol=t.symbol}});function Am(t){if(typeof t=="object")return t;t=t|0;let e={},r=0;for(let n of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(t>>r++&1)===1&&(e[n]=1);return e}var WX=b(()=>{"use strict"});function V6(t,e){if(t instanceof er)return Object.assign(t,{memberName:e,_isMemberSchema:!0});let r=er;return new r(t,e)}var hTe,er,JX,Ext,gTe=b(()=>{"use strict";GX();WX();hTe={it:Symbol.for("@smithy/nor-struct-it")},er=class t{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=t.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(e,r){this.ref=e,this.memberName=r;let n=[],i=e,o=e;for(this._isMemberSchema=!1;JX(i);)n.push(i[1]),i=i[0],o=p0(i),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let s=n.length-1;s>=0;--s){let a=n[s];Object.assign(this.memberTraits,Am(a))}}else this.memberTraits=0;if(o instanceof t){let s=this.memberTraits;Object.assign(this,o),this.memberTraits=Object.assign({},s,o.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=r??o.memberName;return}if(this.schema=p0(o),Ext(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(o),this.traits=0),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](e){let r=this.prototype.isPrototypeOf(e);return!r&&typeof e=="object"&&e!==null?e.symbol===this.symbol:r}static of(e){let r=p0(e);if(r instanceof t)return r;if(JX(r)){let[n,i]=r;if(n instanceof t)return Object.assign(n.getMergedTraits(),Am(i)),n;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(e,null,2)}.`)}return new t(r)}getSchema(){let e=this.schema;return Array.isArray(e)&&e[0]===0?e[4]:e}getName(e=!1){let{name:r}=this;return!e&&r&&r.includes("#")?r.split("#")[1]:r||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let e=this.getSchema();return typeof e=="number"?e>=64&&e<128:e[0]===1}isMapSchema(){let e=this.getSchema();return typeof e=="number"?e>=128&&e<=255:e[0]===2}isStructSchema(){let e=this.getSchema();if(typeof e!="object")return!1;let r=e[0];return r===3||r===-3||r===4}isUnionSchema(){let e=this.getSchema();return typeof e!="object"?!1:e[0]===4}isBlobSchema(){let e=this.getSchema();return e===21||e===42}isTimestampSchema(){let e=this.getSchema();return typeof e=="number"&&e>=4&&e<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:e}=this.getMergedTraits();return!!e||this.getSchema()===42}isIdempotencyToken(){return!!this.getMergedTraits().idempotencyToken}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return Am(this.memberTraits)}getOwnTraits(){return Am(this.traits)}getKeySchema(){let[e,r]=[this.isDocumentSchema(),this.isMapSchema()];if(!e&&!r)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let n=this.getSchema(),i=e?15:n[4]??0;return V6([i,0],"key")}getValueSchema(){let e=this.getSchema(),[r,n,i]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],o=typeof e=="number"?63&e:e&&typeof e=="object"&&(n||i)?e[3+e[0]]:r?15:void 0;if(o!=null)return V6([o,0],n?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(e){let r=this.getSchema();if(this.isStructSchema()&&r[4].includes(e)){let n=r[4].indexOf(e),i=r[5][n];return V6(JX(i)?i:[i,0],e)}if(this.isDocumentSchema())return V6([15,0],e);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${e}.`)}getMemberSchemas(){let e={};try{for(let[r,n]of this.structIterator())e[r]=n}catch{}return e}getEventStreamMember(){if(this.isStructSchema()){for(let[e,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return e}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let e=this.getSchema(),r=e[4].length,n=e[hTe.it];if(n&&r===n.length){yield*n;return}n=Array(r);for(let i=0;i<r;++i){let o=e[4][i],s=V6([e[5][i],0],o);yield n[i]=[o,s]}e[hTe.it]=n}};JX=t=>Array.isArray(t)&&t.length===2,Ext=t=>Array.isArray(t)&&t.length>=5});var yTe,bTe=b(()=>{"use strict";Pb();yTe=class t extends Kl{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=t.symbol}});var vTe=b(()=>{"use strict"});var je,_Te=b(()=>{"use strict";je=class t{namespace;schemas;exceptions;static registries=new Map;constructor(e,r=new Map,n=new Map){this.namespace=e,this.schemas=r,this.exceptions=n}static for(e){return t.registries.has(e)||t.registries.set(e,new t(e)),t.registries.get(e)}register(e,r){let n=this.normalizeShapeId(e);t.for(n.split("#")[0]).schemas.set(n,r)}getSchema(e){let r=this.normalizeShapeId(e);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}registerError(e,r){let n=e,i=t.for(n[1]);i.schemas.set(n[1]+"#"+n[2],n),i.exceptions.set(n,r)}getErrorCtor(e){let r=e;return t.for(r[1]).exceptions.get(r)}getBaseException(){for(let e of this.exceptions.keys())if(Array.isArray(e)){let[,r,n]=e,i=r+"#"+n;if(i.startsWith("smithy.ts.sdk.synthetic.")&&i.endsWith("ServiceException"))return e}}find(e){return[...this.schemas.values()].find(e)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(e){return e.includes("#")?e:this.namespace+"#"+e}}});var gn=b(()=>{"use strict";GX();sTe();cTe();uTe();pTe();l7();mTe();gTe();Pb();bTe();qX();vTe();WX();_Te()});var STe=b(()=>{"use strict"});var KX,Txt,xTe,Rxt,wTe,ATe,ETe,Ixt,TTe,RTe,Cxt,d7,Rx,ITe,Nxt,Oxt,QX=b(()=>{"use strict";KX=t=>{if(t!=null){if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return String(e)!==String(t)&&Oxt.warn(Nxt(`Expected number but observed string: ${t}`)),e}if(typeof t=="number")return t;throw new TypeError(`Expected number, got ${typeof t}: ${t}`)}},Txt=Math.ceil(34028234663852886e22),xTe=t=>{let e=KX(t);if(e!==void 0&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0&&Math.abs(e)>Txt)throw new TypeError(`Expected 32-bit float, got ${t}`);return e},Rxt=t=>{if(t!=null){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)}},wTe=t=>ETe(t,16),ATe=t=>ETe(t,8),ETe=(t,e)=>{let r=Rxt(t);if(r!==void 0&&Ixt(r,e)!==r)throw new TypeError(`Expected ${e}-bit integer, got ${t}`);return r},Ixt=(t,e)=>{switch(e){case 32:return Int32Array.of(t)[0];case 16:return Int16Array.of(t)[0];case 8:return Int8Array.of(t)[0]}},TTe=t=>KX(typeof t=="string"?d7(t):t),RTe=t=>xTe(typeof t=="string"?d7(t):t),Cxt=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,d7=t=>{let e=t.match(Cxt);if(e===null||e[0].length!==t.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(t)},Rx=t=>wTe(typeof t=="string"?d7(t):t),ITe=t=>ATe(typeof t=="string"?d7(t):t),Nxt=t=>String(new TypeError(t).stack||t).split(`
`).slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join(`
`),Oxt={warn:console.warn}});function Cx(t){let e=t.getUTCFullYear(),r=t.getUTCMonth(),n=t.getUTCDay(),i=t.getUTCDate(),o=t.getUTCHours(),s=t.getUTCMinutes(),a=t.getUTCSeconds(),c=i<10?`0${i}`:`${i}`,l=o<10?`0${o}`:`${o}`,u=s<10?`0${s}`:`${s}`,d=a<10?`0${a}`:`${a}`;return`${Pxt[n]}, ${c} ${YX[r]} ${e} ${l}:${u}:${d} GMT`}var Pxt,YX,kxt,CTe,Dxt,NTe,Mxt,Lxt,Bxt,OTe,PTe,G6,$xt,Uxt,Fxt,XX,zxt,Hxt,Vxt,Wp,Gxt,jxt,Ix,kTe=b(()=>{"use strict";QX();Pxt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],YX=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];kxt=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),CTe=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=kxt.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,i,o,s,a,c,l]=e,u=Rx(Ix(n)),d=Wp(i,"month",1,12),p=Wp(o,"day",1,31);return G6(u,d,p,{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l})},Dxt=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),NTe=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=Dxt.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,i,o,s,a,c,l,u]=e,d=Rx(Ix(n)),p=Wp(i,"month",1,12),f=Wp(o,"day",1,31),h=G6(d,p,f,{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l});return u.toUpperCase()!="Z"&&h.setTime(h.getTime()-jxt(u)),h},Mxt=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Lxt=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Bxt=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),OTe=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let e=Mxt.exec(t);if(e){let[r,n,i,o,s,a,c,l]=e;return G6(Rx(Ix(o)),XX(i),Wp(n,"day",1,31),{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l})}if(e=Lxt.exec(t),e){let[r,n,i,o,s,a,c,l]=e;return Fxt(G6($xt(o),XX(i),Wp(n,"day",1,31),{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l}))}if(e=Bxt.exec(t),e){let[r,n,i,o,s,a,c,l]=e;return G6(Rx(Ix(l)),XX(n),Wp(i.trimLeft(),"day",1,31),{hours:o,minutes:s,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},PTe=t=>{if(t==null)return;let e;if(typeof t=="number")e=t;else if(typeof t=="string")e=TTe(t);else if(typeof t=="object"&&t.tag===1)e=t.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(e)||e===1/0||e===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(e*1e3))},G6=(t,e,r,n)=>{let i=e-1;return Hxt(t,i,r),new Date(Date.UTC(t,i,r,Wp(n.hours,"hour",0,23),Wp(n.minutes,"minute",0,59),Wp(n.seconds,"seconds",0,60),Gxt(n.fractionalMilliseconds)))},$xt=t=>{let e=new Date().getUTCFullYear(),r=Math.floor(e/100)*100+Rx(Ix(t));return r<e?r+100:r},Uxt=50*365*24*60*60*1e3,Fxt=t=>t.getTime()-new Date().getTime()>Uxt?new Date(Date.UTC(t.getUTCFullYear()-100,t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())):t,XX=t=>{let e=YX.indexOf(t);if(e<0)throw new TypeError(`Invalid month: ${t}`);return e+1},zxt=[31,28,31,30,31,30,31,31,30,31,30,31],Hxt=(t,e,r)=>{let n=zxt[e];if(e===1&&Vxt(t)&&(n=29),r>n)throw new TypeError(`Invalid day for ${YX[e]} in ${t}: ${r}`)},Vxt=t=>t%4===0&&(t%100!==0||t%400===0),Wp=(t,e,r,n)=>{let i=ITe(Ix(t));if(i<r||i>n)throw new TypeError(`${e} must be between ${r} and ${n}, inclusive`);return i},Gxt=t=>t==null?0:RTe("0."+t)*1e3,jxt=t=>{let e=t[0],r=1;if(e=="+")r=1;else if(e=="-")r=-1;else throw new TypeError(`Offset direction, ${e}, must be "+" or "-"`);let n=Number(t.substring(1,3)),i=Number(t.substring(4,6));return r*(n*60+i)*60*1e3},Ix=t=>{let e=0;for(;e<t.length-1&&t.charAt(e)==="0";)e++;return e===0?t:t.slice(e)}});import DTe from"crypto";var ZX,MTe=b(()=>{"use strict";ZX=DTe.randomUUID.bind(DTe)});var Qs,Em,LTe=b(()=>{"use strict";MTe();Qs=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0")),Em=()=>{if(ZX)return ZX();let t=new Uint8Array(16);return crypto.getRandomValues(t),t[6]=t[6]&15|64,t[8]=t[8]&63|128,Qs[t[0]]+Qs[t[1]]+Qs[t[2]]+Qs[t[3]]+"-"+Qs[t[4]]+Qs[t[5]]+"-"+Qs[t[6]]+Qs[t[7]]+"-"+Qs[t[8]]+Qs[t[9]]+"-"+Qs[t[10]]+Qs[t[11]]+Qs[t[12]]+Qs[t[13]]+Qs[t[14]]+Qs[t[15]]}});var eY=b(()=>{"use strict";LTe()});var BTe=b(()=>{"use strict";eY()});var lc,$Te=b(()=>{"use strict";lc=function(e){return Object.assign(new String(e),{deserializeJSON(){return JSON.parse(String(e))},toString(){return String(e)},toJSON(){return String(e)}})};lc.from=t=>t&&typeof t=="object"&&(t instanceof lc||"deserializeJSON"in t)?t:typeof t=="string"||Object.getPrototypeOf(t)===String.prototype?lc(String(t)):lc(JSON.stringify(t));lc.fromObject=lc.from});function UTe(t){return(t.includes(",")||t.includes('"'))&&(t=`"${t.replace(/"/g,'\\"')}"`),t}var FTe=b(()=>{"use strict"});function Tm(t,e,r){let n=Number(t);if(n<e||n>r)throw new Error(`Value ${n} out of range [${e}, ${r}]`)}var tY,rY,nY,zTe,HTe,qxt,Wxt,Jxt,Kxt,Qxt,VTe,GTe,jTe,qTe=b(()=>{"use strict";tY="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",rY="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",nY="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",zTe="(\\d?\\d)",HTe="(\\d{4})",qxt=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),Wxt=new RegExp(`^${tY}, ${zTe} ${rY} ${HTe} ${nY} GMT$`),Jxt=new RegExp(`^${tY}, ${zTe}-${rY}-(\\d\\d) ${nY} GMT$`),Kxt=new RegExp(`^${tY} ${rY} ( [1-9]|\\d\\d) ${nY} ${HTe}$`),Qxt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],VTe=t=>{if(t==null)return;let e=NaN;if(typeof t=="number")e=t;else if(typeof t=="string"){if(!/^-?\d*\.?\d+$/.test(t))throw new TypeError("parseEpochTimestamp - numeric string invalid.");e=Number.parseFloat(t)}else typeof t=="object"&&t.tag===1&&(e=t.value);if(isNaN(e)||Math.abs(e)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(e*1e3))},GTe=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC3339 timestamps must be strings");let e=qxt.exec(t);if(!e)throw new TypeError(`Invalid RFC3339 timestamp format ${t}`);let[,r,n,i,o,s,a,,c,l]=e;Tm(n,1,12),Tm(i,1,31),Tm(o,0,23),Tm(s,0,59),Tm(a,0,60);let u=new Date(Date.UTC(Number(r),Number(n)-1,Number(i),Number(o),Number(s),Number(a),Number(c)?Math.round(parseFloat(`0.${c}`)*1e3):0));if(u.setUTCFullYear(Number(r)),l.toUpperCase()!="Z"){let[,d,p,f]=/([+-])(\d\d):(\d\d)/.exec(l)||[void 0,"+",0,0],h=d==="-"?1:-1;u.setTime(u.getTime()+h*(Number(p)*60*60*1e3+Number(f)*60*1e3))}return u},jTe=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC7231 timestamps must be strings.");let e,r,n,i,o,s,a,c;if((c=Wxt.exec(t))?[,e,r,n,i,o,s,a]=c:(c=Jxt.exec(t))?([,e,r,n,i,o,s,a]=c,n=(Number(n)+1900).toString()):(c=Kxt.exec(t))&&([,r,e,i,o,s,a,n]=c),n&&s){let l=Date.UTC(Number(n),Qxt.indexOf(r),Number(e),Number(i),Number(o),Number(s),a?Math.round(parseFloat(`0.${a}`)*1e3):0);Tm(e,1,31),Tm(i,0,23),Tm(o,0,59),Tm(s,0,60);let u=new Date(l);return u.setUTCFullYear(Number(n)),u}throw new TypeError(`Invalid RFC7231 date-time value ${t}.`)}});function WTe(t,e,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=t.split(e);if(r===1)return n;let i=[],o="";for(let s=0;s<n.length;s++)o===""?o=n[s]:o+=e+n[s],(s+1)%r===0&&(i.push(o),o="");return o!==""&&i.push(o),i}var JTe=b(()=>{"use strict"});var p7,KTe=b(()=>{"use strict";p7=t=>{let e=t.length,r=[],n=!1,i,o=0;for(let s=0;s<e;++s){let a=t[s];switch(a){case'"':i!=="\\"&&(n=!n);break;case",":n||(r.push(t.slice(o,s)),o=s+1);break;default:}i=a}return r.push(t.slice(o)),r.map(s=>{s=s.trim();let a=s.length;return a<2?s:(s[0]==='"'&&s[a-1]==='"'&&(s=s.slice(1,a-1)),s.replace(/\\"/g,'"'))})}});var QTe,Yo,XTe=b(()=>{"use strict";QTe=/^-?\d*(\.\d+)?$/,Yo=class t{string;type;constructor(e,r){if(this.string=e,this.type=r,!QTe.test(e))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](e){if(!e||typeof e!="object")return!1;let r=e;return t.prototype.isPrototypeOf(e)||r.type==="bigDecimal"&&QTe.test(r.string)}}});var Jp=b(()=>{"use strict";STe();kTe();BTe();$Te();QX();FTe();qTe();JTe();KTe();XTe()});var Kp,Nx=b(()=>{"use strict";Kp=class{serdeContext;setSerdeContext(e){this.serdeContext=e}}});var iY,YTe=b(()=>{"use strict";Yi();iY=class{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:e,serializer:r,deserializer:n,serdeContext:i,defaultContentType:o}){this.marshaller=e,this.serializer=r,this.deserializer=n,this.serdeContext=i,this.defaultContentType=o}async serializeEventStream({eventStream:e,requestSchema:r,initialRequest:n}){let i=this.marshaller,o=r.getEventStreamMember(),s=r.getMemberSchema(o),a=this.serializer,c=this.defaultContentType,l=Symbol("initialRequestMarker"),u={async*[Symbol.asyncIterator](){if(n){let d={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:c}};a.write(r,n);let p=a.flush();yield{[l]:!0,headers:d,body:p}}for await(let d of e)yield d}};return i.serialize(u,d=>{if(d[l])return{headers:d.headers,body:d.body};let p=Object.keys(d).find(v=>v!=="__type")??"",{additionalHeaders:f,body:h,eventType:m,explicitPayloadContentType:g}=this.writeEventBody(p,s,d);return{headers:{":event-type":{type:"string",value:m},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:g??c},...f},body:h}})}async deserializeEventStream({response:e,responseSchema:r,initialResponseContainer:n}){let i=this.marshaller,o=r.getEventStreamMember(),a=r.getMemberSchema(o).getMemberSchemas(),c=Symbol("initialResponseMarker"),l=i.deserialize(e.body,async p=>{let f=Object.keys(p).find(m=>m!=="__type")??"",h=p[f].body;if(f==="initial-response"){let m=await this.deserializer.read(r,h);return delete m[o],{[c]:!0,...m}}else if(f in a){let m=a[f];if(m.isStructSchema()){let g={},y=!1;for(let[v,S]of m.structIterator()){let{eventHeader:w,eventPayload:E}=S.getMergedTraits();if(y=y||!!(w||E),E)S.isBlobSchema()?g[v]=h:S.isStringSchema()?g[v]=(this.serdeContext?.utf8Encoder??jn)(h):S.isStructSchema()&&(g[v]=await this.deserializer.read(S,h));else if(w){let I=p[f].headers[v]?.value;I!=null&&(S.isNumericSchema()?I&&typeof I=="object"&&"bytes"in I?g[v]=BigInt(I.toString()):g[v]=Number(I):g[v]=I)}}if(y)return{[f]:g};if(h.byteLength===0)return{[f]:{}}}return{[f]:await this.deserializer.read(m,h)}}else return{$unknown:p}}),u=l[Symbol.asyncIterator](),d=await u.next();if(d.done)return l;if(d.value?.[c]){if(!r)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[p,f]of Object.entries(d.value))n[p]=f}return{async*[Symbol.asyncIterator](){for(d?.value?.[c]||(yield d.value);;){let{done:p,value:f}=await u.next();if(p)break;yield f}}}}writeEventBody(e,r,n){let i=this.serializer,o=e,s=null,a,c=r.getSchema()[4].includes(e),l={};if(c){let p=r.getMemberSchema(e);if(p.isStructSchema()){for(let[f,h]of p.structIterator()){let{eventHeader:m,eventPayload:g}=h.getMergedTraits();if(g)s=f;else if(m){let y=n[e][f],v="binary";h.isNumericSchema()?(-2)**31<=y&&y<=2**31-1?v="integer":v="long":h.isTimestampSchema()?v="timestamp":h.isStringSchema()?v="string":h.isBooleanSchema()&&(v="boolean"),y!=null&&(l[f]={type:v,value:y},delete n[e][f])}}if(s!==null){let f=p.getMemberSchema(s);f.isBlobSchema()?a="application/octet-stream":f.isStringSchema()&&(a="text/plain"),i.write(f,n[e][s])}else i.write(p,n[e])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[p,f]=n[e];o=p,i.write(15,f)}let u=i.flush();return{body:typeof u=="string"?(this.serdeContext?.utf8Decoder??ti)(u):u,eventType:o,explicitPayloadContentType:a,additionalHeaders:l}}}});var ZTe={};Nr(ZTe,{EventStreamSerde:()=>iY});var e4e=b(()=>{"use strict";YTe()});var Ox,f7=b(()=>{"use strict";gn();pi();Nx();Ox=class extends Kp{options;constructor(e){super(),this.options=e}getRequestType(){return mn}getResponseType(){return Hl}setSerdeContext(e){this.serdeContext=e,this.serializer.setSerdeContext(e),this.deserializer.setSerdeContext(e),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(e)}updateServiceEndpoint(e,r){if("url"in r){e.protocol=r.url.protocol,e.hostname=r.url.hostname,e.port=r.url.port?Number(r.url.port):void 0,e.path=r.url.pathname,e.fragment=r.url.hash||void 0,e.username=r.url.username||void 0,e.password=r.url.password||void 0,e.query||(e.query={});for(let[n,i]of r.url.searchParams.entries())e.query[n]=i;return e}else return e.protocol=r.protocol,e.hostname=r.hostname,e.port=r.port?Number(r.port):void 0,e.path=r.path,e.query={...r.query},e}setHostPrefix(e,r,n){if(this.serdeContext?.disableHostPrefix)return;let i=er.of(r.input),o=Am(r.traits??{});if(o.endpoint){let s=o.endpoint?.[0];if(typeof s=="string"){let a=[...i.structIterator()].filter(([,c])=>c.getMergedTraits().hostLabel);for(let[c]of a){let l=n[c];if(typeof l!="string")throw new Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);s=s.replace(`{${c}}`,l)}e.hostname=s+e.hostname}}}deserializeMetadata(e){return{httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:e,requestSchema:r,initialRequest:n}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:e,requestSchema:r,initialRequest:n})}async deserializeEventStream({response:e,responseSchema:r,initialResponseContainer:n}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:e,responseSchema:r,initialResponseContainer:n})}async loadEventStreamCapability(){let{EventStreamSerde:e}=await Promise.resolve().then(()=>(e4e(),ZTe));return new e({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(e,r,n,i,o){return[]}getEventStreamMarshaller(){let e=this.serdeContext;if(!e.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return e.eventStreamMarshaller}}});var m7,t4e=b(()=>{"use strict";gn();Jp();pi();s7();a7();VX();f7();m7=class extends Ox{async serializeRequest(e,r,n){let i={...r??{}},o=this.serializer,s={},a={},c=await n.endpoint(),l=er.of(e?.input),u=l.getSchema(),d=!1,p,f=new mn({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:s,headers:a,body:void 0});if(c){this.updateServiceEndpoint(f,c),this.setHostPrefix(f,e,i);let h=Am(e.traits);if(h.http){f.method=h.http[0];let[m,g]=h.http[1].split("?");f.path=="/"?f.path=m:f.path+=m;let y=new URLSearchParams(g??"");Object.assign(s,Object.fromEntries(y))}}for(let[h,m]of l.structIterator()){let g=m.getMergedTraits()??{},y=i[h];if(y==null&&!m.isIdempotencyToken()){if(g.httpLabel&&(f.path.includes(`{${h}+}`)||f.path.includes(`{${h}}`)))throw new Error(`No value provided for input HTTP label: ${h}.`);continue}if(g.httpPayload)m.isStreaming()?m.isStructSchema()?i[h]&&(p=await this.serializeEventStream({eventStream:i[h],requestSchema:l})):p=y:(o.write(m,y),p=o.flush()),delete i[h];else if(g.httpLabel){o.write(m,y);let v=o.flush();f.path.includes(`{${h}+}`)?f.path=f.path.replace(`{${h}+}`,v.split("/").map(Tx).join("/")):f.path.includes(`{${h}}`)&&(f.path=f.path.replace(`{${h}}`,Tx(v))),delete i[h]}else if(g.httpHeader)o.write(m,y),a[g.httpHeader.toLowerCase()]=String(o.flush()),delete i[h];else if(typeof g.httpPrefixHeaders=="string"){for(let[v,S]of Object.entries(y)){let w=g.httpPrefixHeaders+v;o.write([m.getValueSchema(),{httpHeader:w}],S),a[w.toLowerCase()]=o.flush()}delete i[h]}else g.httpQuery||g.httpQueryParams?(this.serializeQuery(m,y,s),delete i[h]):d=!0}return d&&i&&(o.write(u,i),p=o.flush()),f.headers=a,f.query=s,f.body=p,f}serializeQuery(e,r,n){let i=this.serializer,o=e.getMergedTraits();if(o.httpQueryParams){for(let[s,a]of Object.entries(r))if(!(s in n)){let c=e.getValueSchema();Object.assign(c.getMergedTraits(),{...o,httpQuery:s,httpQueryParams:void 0}),this.serializeQuery(c,a,n)}return}if(e.isListSchema()){let s=!!e.getMergedTraits().sparse,a=[];for(let c of r){i.write([e.getValueSchema(),o],c);let l=i.flush();(s||l!==void 0)&&a.push(l)}n[o.httpQuery]=a}else i.write([e,o],r),n[o.httpQuery]=i.flush()}async deserializeResponse(e,r,n){let i=this.deserializer,o=er.of(e.output),s={};if(n.statusCode>=300){let c=await cc(n.body,r);throw c.byteLength>0&&Object.assign(s,await i.read(15,c)),await this.handleError(e,r,n,s,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let c in n.headers){let l=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=l}let a=await this.deserializeHttpMessage(o,r,n,s);if(a.length){let c=await cc(n.body,r);if(c.byteLength>0){let l=await i.read(o,c);for(let u of a)s[u]=l[u]}}else a.discardResponseBody&&await cc(n.body,r);return s.$metadata=this.deserializeMetadata(n),s}async deserializeHttpMessage(e,r,n,i,o){let s;i instanceof Set?s=o:s=i;let a=!0,c=this.deserializer,l=er.of(e),u=[];for(let[d,p]of l.structIterator()){let f=p.getMemberTraits();if(f.httpPayload){if(a=!1,p.isStreaming())p.isStructSchema()?s[d]=await this.deserializeEventStream({response:n,responseSchema:l}):s[d]=o7(n.body);else if(n.body){let m=await cc(n.body,r);m.byteLength>0&&(s[d]=await c.read(p,m))}}else if(f.httpHeader){let h=String(f.httpHeader).toLowerCase(),m=n.headers[h];if(m!=null)if(p.isListSchema()){let g=p.getValueSchema();g.getMergedTraits().httpHeader=h;let y;g.isTimestampSchema()&&g.getSchema()===4?y=WTe(m,",",2):y=p7(m);let v=[];for(let S of y)v.push(await c.read(g,S.trim()));s[d]=v}else s[d]=await c.read(p,m)}else if(f.httpPrefixHeaders!==void 0){s[d]={};for(let[h,m]of Object.entries(n.headers))if(h.startsWith(f.httpPrefixHeaders)){let g=p.getValueSchema();g.getMergedTraits().httpHeader=h,s[d][h.slice(f.httpPrefixHeaders.length)]=await c.read(g,m)}}else f.httpResponseCode?s[d]=n.statusCode:u.push(d)}return u.discardResponseBody=a,u}}});var Px,r4e=b(()=>{"use strict";gn();pi();a7();f7();Px=class extends Ox{async serializeRequest(e,r,n){let i=this.serializer,o={},s={},a=await n.endpoint(),c=er.of(e?.input),l=c.getSchema(),u,d=new mn({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:o,headers:s,body:void 0});a&&(this.updateServiceEndpoint(d,a),this.setHostPrefix(d,e,r));let p={...r};if(r){let f=c.getEventStreamMember();if(f){if(p[f]){let h={};for(let[m,g]of c.structIterator())m!==f&&p[m]&&(i.write(g,p[m]),h[m]=i.flush());u=await this.serializeEventStream({eventStream:p[f],requestSchema:c,initialRequest:h})}}else i.write(l,p),u=i.flush()}return d.headers=s,d.query=o,d.body=u,d.method="POST",d}async deserializeResponse(e,r,n){let i=this.deserializer,o=er.of(e.output),s={};if(n.statusCode>=300){let c=await cc(n.body,r);throw c.byteLength>0&&Object.assign(s,await i.read(15,c)),await this.handleError(e,r,n,s,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let c in n.headers){let l=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=l}let a=o.getEventStreamMember();if(a)s[a]=await this.deserializeEventStream({response:n,responseSchema:o,initialResponseContainer:s});else{let c=await cc(n.body,r);c.byteLength>0&&Object.assign(s,await i.read(o,c))}return s.$metadata=this.deserializeMetadata(n),s}}});var n4e=b(()=>{"use strict"});var i4e=b(()=>{"use strict"});function Qp(t,e){if(e.timestampFormat.useTrait&&t.isTimestampSchema()&&(t.getSchema()===5||t.getSchema()===6||t.getSchema()===7))return t.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:i,httpQuery:o}=t.getMergedTraits();return(e.httpBindings?typeof n=="string"||i?6:o||r?5:void 0:void 0)??e.timestampFormat.default}var h7=b(()=>{"use strict"});var kx,oY=b(()=>{"use strict";gn();Jp();Js();Yi();Nx();h7();kx=class extends Kp{settings;constructor(e){super(),this.settings=e}read(e,r){let n=er.of(e);if(n.isListSchema())return p7(r).map(i=>this.read(n.getValueSchema(),i));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??Ti)(r);if(n.isTimestampSchema())switch(Qp(n,this.settings)){case 5:return GTe(r);case 6:return jTe(r);case 7:return VTe(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let i=n.getMergedTraits().mediaType,o=r;if(i)return n.getMergedTraits().httpHeader&&(o=this.base64ToUtf8(o)),(i==="application/json"||i.endsWith("+json"))&&(o=lc.from(o)),o}return n.isNumericSchema()?Number(r):n.isBigIntegerSchema()?BigInt(r):n.isBigDecimalSchema()?new Yo(r,"bigDecimal"):n.isBooleanSchema()?String(r).toLowerCase()==="true":r}base64ToUtf8(e){return(this.serdeContext?.utf8Encoder??jn)((this.serdeContext?.base64Decoder??Ti)(e))}}});var g7,o4e=b(()=>{"use strict";gn();Yi();Nx();oY();g7=class extends Kp{codecDeserializer;stringDeserializer;constructor(e,r){super(),this.codecDeserializer=e,this.stringDeserializer=new kx(r)}setSerdeContext(e){this.stringDeserializer.setSerdeContext(e),this.codecDeserializer.setSerdeContext(e),this.serdeContext=e}read(e,r){let n=er.of(e),i=n.getMergedTraits(),o=this.serdeContext?.utf8Encoder??jn;if(i.httpHeader||i.httpResponseCode)return this.stringDeserializer.read(n,o(r));if(i.httpPayload){if(n.isBlobSchema()){let s=this.serdeContext?.utf8Decoder??ti;return typeof r=="string"?s(r):r}else if(n.isStringSchema())return"byteLength"in r?o(r):r}return this.codecDeserializer.read(n,r)}}});var y7,sY=b(()=>{"use strict";gn();Jp();Js();Nx();h7();y7=class extends Kp{settings;stringBuffer="";constructor(e){super(),this.settings=e}write(e,r){let n=er.of(e);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(Qp(n,this.settings)){case 5:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=Cx(r);break;case 7:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??qn)(r);return}if(n.isListSchema()&&Array.isArray(r)){let s="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let c=this.flush(),l=n.getValueSchema().isTimestampSchema()?c:UTe(c);s!==""&&(s+=", "),s+=l}this.stringBuffer=s;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let i=n.getMergedTraits().mediaType,o=r;if(i&&((i==="application/json"||i.endsWith("+json"))&&(o=lc.from(o)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??qn)(o.toString());return}this.stringBuffer=r;break;default:n.isIdempotencyToken()?this.stringBuffer=Em():this.stringBuffer=String(r)}}flush(){let e=this.stringBuffer;return this.stringBuffer="",e}}});var b7,s4e=b(()=>{"use strict";gn();sY();b7=class{codecSerializer;stringSerializer;buffer;constructor(e,r,n=new y7(r)){this.codecSerializer=e,this.stringSerializer=n}setSerdeContext(e){this.codecSerializer.setSerdeContext(e),this.stringSerializer.setSerdeContext(e)}write(e,r){let n=er.of(e),i=n.getMergedTraits();if(i.httpHeader||i.httpLabel||i.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let e=this.buffer;return this.buffer=void 0,e}return this.codecSerializer.flush()}}});var Rm=b(()=>{"use strict";a7();VX();t4e();f7();r4e();i4e();n4e();oY();o4e();s4e();sY();h7();Nx()});var a4e=b(()=>{"use strict"});function c4e(t,e,r){t.__smithy_context?t.__smithy_context.features||(t.__smithy_context.features={}):t.__smithy_context={features:{}},t.__smithy_context.features[e]=r}var l4e=b(()=>{"use strict"});var uc,u4e=b(()=>{"use strict";uc=class{authSchemes=new Map;constructor(e){for(let[r,n]of Object.entries(e))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(e){return this.authSchemes.get(e)}}});var d4e=b(()=>{"use strict"});var p4e=b(()=>{"use strict"});var Ql,f4e=b(()=>{"use strict";Ql=class{async sign(e,r,n){return e}}});var m4e=b(()=>{"use strict";d4e();p4e();f4e()});var Xxt,h4e,aY,g4e,y4e=b(()=>{"use strict";Xxt=t=>function(r){return aY(r)&&r.expiration.getTime()-Date.now()<t},h4e=Xxt(3e5),aY=t=>t.expiration!==void 0,g4e=(t,e,r)=>{if(t===void 0)return;let n=typeof t!="function"?async()=>Promise.resolve(t):t,i,o,s,a=!1,c=async l=>{o||(o=n(l));try{i=await o,s=!0,a=!1}finally{o=void 0}return i};return e===void 0?async l=>((!s||l?.forceRefresh)&&(i=await c(l)),i):async l=>((!s||l?.forceRefresh)&&(i=await c(l)),a?i:r(i)?(e(i)&&await c(l),i):(a=!0,i))}});var b4e=b(()=>{"use strict";u4e();m4e();y4e()});var Wn=b(()=>{"use strict";GAe();tEe();iEe();oEe();sEe();a4e();l4e();b4e()});function Yxt(t){return t===void 0?!0:typeof t=="string"&&t.length<=50}function Xl(t){let e=Ib(t.userAgentAppId??cY),{customUserAgent:r}=t;return Object.assign(t,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:async()=>{let n=await e();if(!Yxt(n)){let i=t.logger?.constructor?.name==="NoOpLogger"||!t.logger?console:t.logger;typeof n!="string"?i?.warn("userAgentAppId must be a string or undefined."):n.length>50&&i?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n}})}var cY,v4e=b(()=>{"use strict";Wn();cY=void 0});var dc,_4e=b(()=>{"use strict";dc=class{capacity;data=new Map;parameters=[];constructor({size:e,params:r}){this.capacity=e??50,r&&(this.parameters=r)}get(e,r){let n=this.hash(e);if(n===!1)return r();if(!this.data.has(n)){if(this.data.size>this.capacity+10){let i=this.data.keys(),o=0;for(;;){let{value:s,done:a}=i.next();if(this.data.delete(s),a||++o>10)break}}this.data.set(n,r())}return this.data.get(n)}size(){return this.data.size}hash(e){let r="",{parameters:n}=this;if(n.length===0)return!1;for(let i of n){let o=String(e[i]??"");if(o.includes("|;"))return!1;r+=o+"|;"}return r}}});var Zxt,j6,lY=b(()=>{"use strict";Zxt=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),j6=t=>Zxt.test(t)||t.startsWith("[")&&t.endsWith("]")});var ewt,kb,uY=b(()=>{"use strict";ewt=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),kb=(t,e=!1)=>{if(!e)return ewt.test(t);let r=t.split(".");for(let n of r)if(!kb(n))return!1;return!0}});var gs,v7=b(()=>{"use strict";gs={}});var Im,S4e=b(()=>{"use strict";Im="endpoints"});function Yl(t){return typeof t!="object"||t==null?t:"ref"in t?`$${Yl(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(Yl).join(", ")})`:JSON.stringify(t,null,2)}var x4e=b(()=>{"use strict"});var q6=b(()=>{"use strict";S4e();x4e()});var ri,w4e=b(()=>{"use strict";ri=class extends Error{constructor(e){super(e),this.name="EndpointError"}}});var A4e=b(()=>{"use strict"});var E4e=b(()=>{"use strict"});var T4e=b(()=>{"use strict"});var R4e=b(()=>{"use strict"});var I4e=b(()=>{"use strict"});var C4e=b(()=>{"use strict"});var Zl=b(()=>{"use strict";w4e();A4e();E4e();T4e();R4e();I4e();C4e()});var N4e,O4e=b(()=>{"use strict";N4e=(t,e)=>t===e});var P4e,k4e=b(()=>{"use strict";Zl();P4e=t=>{let e=t.split("."),r=[];for(let n of e){let i=n.indexOf("[");if(i!==-1){if(n.indexOf("]")!==n.length-1)throw new ri(`Path: '${t}' does not end with ']'`);let o=n.slice(i+1,-1);if(Number.isNaN(parseInt(o)))throw new ri(`Invalid array index: '${o}' in path: '${t}'`);i!==0&&r.push(n.slice(0,i)),r.push(o)}else r.push(n)}return r}});var _7,D4e=b(()=>{"use strict";Zl();k4e();_7=(t,e)=>P4e(e).reduce((r,n)=>{if(typeof r!="object")throw new ri(`Index '${n}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},t)});var M4e,L4e=b(()=>{"use strict";M4e=t=>t!=null});var B4e,$4e=b(()=>{"use strict";B4e=t=>!t});var dY,U4e,F4e=b(()=>{"use strict";d0();lY();dY={[xx.HTTP]:80,[xx.HTTPS]:443},U4e=t=>{let e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){let{hostname:p,port:f,protocol:h="",path:m="",query:g={}}=t,y=new URL(`${h}//${p}${f?`:${f}`:""}${m}`);return y.search=Object.entries(g).map(([v,S])=>`${v}=${S}`).join("&"),y}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;let r=e.href,{host:n,hostname:i,pathname:o,protocol:s,search:a}=e;if(a)return null;let c=s.slice(0,-1);if(!Object.values(xx).includes(c))return null;let l=j6(i),u=r.includes(`${n}:${dY[c]}`)||typeof t=="string"&&t.includes(`${n}:${dY[c]}`),d=`${n}${u?`:${dY[c]}`:""}`;return{scheme:c,authority:d,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:l}}});var z4e,H4e=b(()=>{"use strict";z4e=(t,e)=>t===e});var V4e,G4e=b(()=>{"use strict";V4e=(t,e,r,n)=>e>=r||t.length<r?null:n?t.substring(t.length-r,t.length-e):t.substring(e,r)});var j4e,q4e=b(()=>{"use strict";j4e=t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)});var pY=b(()=>{"use strict";O4e();D4e();L4e();uY();$4e();F4e();H4e();G4e();q4e()});var W4e,J4e=b(()=>{"use strict";pY();W4e={booleanEquals:N4e,getAttr:_7,isSet:M4e,isValidHostLabel:kb,not:B4e,parseURL:U4e,stringEquals:z4e,substring:V4e,uriEncode:j4e}});var S7,fY=b(()=>{"use strict";pY();S7=(t,e)=>{let r=[],n={...e.endpointParams,...e.referenceRecord},i=0;for(;i<t.length;){let o=t.indexOf("{",i);if(o===-1){r.push(t.slice(i));break}r.push(t.slice(i,o));let s=t.indexOf("}",o);if(s===-1){r.push(t.slice(o));break}t[o+1]==="{"&&t[s+1]==="}"&&(r.push(t.slice(o+1,s)),i=s+2);let a=t.substring(o+1,s);if(a.includes("#")){let[c,l]=a.split("#");r.push(_7(n[c],l))}else r.push(n[a]);i=s+1}return r.join("")}});var K4e,Q4e=b(()=>{"use strict";K4e=({ref:t},e)=>({...e.endpointParams,...e.referenceRecord})[t]});var Db,x7,X4e,W6=b(()=>{"use strict";Zl();v7();J4e();fY();Q4e();Db=(t,e,r)=>{if(typeof t=="string")return S7(t,r);if(t.fn)return X4e.callFunction(t,r);if(t.ref)return K4e(t,r);throw new ri(`'${e}': ${String(t)} is not a string, function or reference.`)},x7=({fn:t,argv:e},r)=>{let n=e.map(o=>["boolean","number"].includes(typeof o)?o:X4e.evaluateExpression(o,"arg",r)),i=t.split(".");return i[0]in gs&&i[1]!=null?gs[i[0]][i[1]](...n):W4e[t](...n)},X4e={evaluateExpression:Db,callFunction:x7}});var Y4e=b(()=>{"use strict";W6()});var Z4e,e6e=b(()=>{"use strict";q6();Zl();Y4e();Z4e=({assign:t,...e},r)=>{if(t&&t in r.referenceRecord)throw new ri(`'${t}' is already defined in Reference Record.`);let n=x7(e,r);return r.logger?.debug?.(`${Im} evaluateCondition: ${Yl(e)} = ${Yl(n)}`),{result:n===""?!0:!!n,...t!=null&&{toAssign:{name:t,value:n}}}}});var Dx,w7=b(()=>{"use strict";q6();e6e();Dx=(t=[],e)=>{let r={};for(let n of t){let{result:i,toAssign:o}=Z4e(n,{...e,referenceRecord:{...e.referenceRecord,...r}});if(!i)return{result:i};o&&(r[o.name]=o.value,e.logger?.debug?.(`${Im} assign: ${o.name} := ${Yl(o.value)}`))}return{result:!0,referenceRecord:r}}});var t6e,r6e=b(()=>{"use strict";Zl();W6();t6e=(t,e)=>Object.entries(t).reduce((r,[n,i])=>({...r,[n]:i.map(o=>{let s=Db(o,"Header value entry",e);if(typeof s!="string")throw new ri(`Header '${n}' value '${s}' is not a string`);return s})}),{})});var mY,n6e,i6e,o6e=b(()=>{"use strict";Zl();fY();mY=(t,e)=>Object.entries(t).reduce((r,[n,i])=>({...r,[n]:i6e.getEndpointProperty(i,e)}),{}),n6e=(t,e)=>{if(Array.isArray(t))return t.map(r=>n6e(r,e));switch(typeof t){case"string":return S7(t,e);case"object":if(t===null)throw new ri(`Unexpected endpoint property: ${t}`);return i6e.getEndpointProperties(t,e);case"boolean":return t;default:throw new ri(`Unexpected endpoint property type: ${typeof t}`)}},i6e={getEndpointProperty:n6e,getEndpointProperties:mY}});var s6e,a6e=b(()=>{"use strict";Zl();W6();s6e=(t,e)=>{let r=Db(t,"Endpoint URL",e);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new ri(`Endpoint URL must be a string, got ${typeof r}`)}});var c6e,l6e=b(()=>{"use strict";q6();w7();r6e();o6e();a6e();c6e=(t,e)=>{let{conditions:r,endpoint:n}=t,{result:i,referenceRecord:o}=Dx(r,e);if(!i)return;let s={...e,referenceRecord:{...e.referenceRecord,...o}},{url:a,properties:c,headers:l}=n;return e.logger?.debug?.(`${Im} Resolving endpoint from template: ${Yl(n)}`),{...l!=null&&{headers:t6e(l,s)},...c!=null&&{properties:mY(c,s)},url:s6e(a,s)}}});var u6e,d6e=b(()=>{"use strict";Zl();w7();W6();u6e=(t,e)=>{let{conditions:r,error:n}=t,{result:i,referenceRecord:o}=Dx(r,e);if(i)throw new ri(Db(n,"Error",{...e,referenceRecord:{...e.referenceRecord,...o}}))}});var hY,twt,p6e,f6e=b(()=>{"use strict";Zl();w7();l6e();d6e();hY=(t,e)=>{for(let r of t)if(r.type==="endpoint"){let n=c6e(r,e);if(n)return n}else if(r.type==="error")u6e(r,e);else if(r.type==="tree"){let n=p6e.evaluateTreeRule(r,e);if(n)return n}else throw new ri(`Unknown endpoint rule: ${r}`);throw new ri("Rules evaluation failed")},twt=(t,e)=>{let{conditions:r,rules:n}=t,{result:i,referenceRecord:o}=Dx(r,e);if(i)return p6e.evaluateRules(n,{...e,referenceRecord:{...e.referenceRecord,...o}})},p6e={evaluateRules:hY,evaluateTreeRule:twt}});var m6e=b(()=>{"use strict";v7();f6e()});var eu,h6e=b(()=>{"use strict";q6();Zl();m6e();eu=(t,e)=>{let{endpointParams:r,logger:n}=e,{parameters:i,rules:o}=t;e.logger?.debug?.(`${Im} Initial EndpointParams: ${Yl(r)}`);let s=Object.entries(i).filter(([,l])=>l.default!=null).map(([l,u])=>[l,u.default]);if(s.length>0)for(let[l,u]of s)r[l]=r[l]??u;let a=Object.entries(i).filter(([,l])=>l.required).map(([l])=>l);for(let l of a)if(r[l]==null)throw new ri(`Missing required parameter: '${l}'`);let c=hY(o,{endpointParams:r,logger:n,referenceRecord:{}});return e.logger?.debug?.(`${Im} Resolved endpoint: ${Yl(c)}`),c}});var Dd=b(()=>{"use strict";_4e();lY();uY();v7();h6e();Zl()});var gY=b(()=>{"use strict";Dd()});var yY,g6e=b(()=>{"use strict";Dd();gY();yY=(t,e=!1)=>{if(e){for(let r of t.split("."))if(!yY(r))return!1;return!0}return!(!kb(t)||t.length<3||t.length>63||t!==t.toLowerCase()||j6(t))}});var y6e,b6e=b(()=>{"use strict";y6e=t=>{let e=t.split(":");if(e.length<6)return null;let[r,n,i,o,s,...a]=e;if(r!=="arn"||n===""||i===""||a.join(":")==="")return null;let c=a.map(l=>l.split("/")).flat();return{partition:n,service:i,region:o,accountId:s,resourceId:c}}});var _6e,v6e=b(()=>{_6e={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"AWS European Sovereign Cloud (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"},"us-isob-west-1":{description:"US ISOB West"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],version:"1.1"}});var nwt,iwt,S6e,x6e,bY=b(()=>{"use strict";v6e();nwt=_6e,iwt="",S6e=t=>{let{partitions:e}=nwt;for(let n of e){let{regions:i,outputs:o}=n;for(let[s,a]of Object.entries(i))if(s===t)return{...o,...a}}for(let n of e){let{regionRegex:i,outputs:o}=n;if(new RegExp(i).test(t))return{...o}}let r=e.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},x6e=()=>iwt});var nl,w6e=b(()=>{"use strict";Dd();g6e();b6e();bY();nl={isVirtualHostableS3Bucket:yY,parseArn:y6e,partition:S6e};gs.aws=nl});function A6e(t){let e={};if(t=t.replace(/^\?/,""),t)for(let r of t.split("&")){let[n,i=null]=r.split("=");n=decodeURIComponent(n),i&&(i=decodeURIComponent(i)),n in e?Array.isArray(e[n])?e[n].push(i):e[n]=[e[n],i]:e[n]=i}return e}var E6e=b(()=>{"use strict"});var Zo,Cm=b(()=>{"use strict";E6e();Zo=t=>{if(typeof t=="string")return Zo(new URL(t));let{hostname:e,pathname:r,port:n,protocol:i,search:o}=t,s;return o&&(s=A6e(o)),{hostname:e,port:n?parseInt(n):void 0,protocol:i,path:r,query:s}}});var T6e=b(()=>{"use strict"});var R6e=b(()=>{"use strict"});var I6e=b(()=>{"use strict"});var C6e=b(()=>{"use strict"});var N6e=b(()=>{"use strict"});var O6e=b(()=>{"use strict"});var P6e=b(()=>{"use strict"});var k6e=b(()=>{"use strict"});var D6e=b(()=>{"use strict";I6e();C6e();N6e();O6e();P6e();k6e()});var f0=b(()=>{"use strict";w6e();bY();gY();T6e();R6e();D6e()});var M6e,tu,L6e=b(()=>{"use strict";M6e={warningEmitted:!1},tu=t=>{t&&!M6e.warningEmitted&&parseInt(t.substring(1,t.indexOf(".")))<20&&(M6e.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js ${t} in January 2026.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/c895JFp`))}});function zr(t,e,r){return t.$source||(t.$source={}),t.$source[e]=r,t}var B6e=b(()=>{"use strict"});function Md(t,e,r){t.__aws_sdk_context?t.__aws_sdk_context.features||(t.__aws_sdk_context.features={}):t.__aws_sdk_context={features:{}},t.__aws_sdk_context.features[e]=r}var $6e=b(()=>{"use strict"});var U6e=b(()=>{"use strict"});var ys=b(()=>{"use strict";L6e();B6e();$6e();U6e()});var vY,F6e=b(()=>{"use strict";pi();vY=t=>Hl.isInstance(t)?t.headers?.date??t.headers?.Date:void 0});var A7,_Y=b(()=>{"use strict";A7=t=>new Date(Date.now()+t)});var z6e,H6e=b(()=>{"use strict";_Y();z6e=(t,e)=>Math.abs(A7(e).getTime()-t)>=3e5});var SY,V6e=b(()=>{"use strict";H6e();SY=(t,e)=>{let r=Date.parse(t);return z6e(r,e)?r-Date.now():e}});var G6e=b(()=>{"use strict";F6e();_Y();V6e()});var J6,j6e,bs,q6e=b(()=>{"use strict";pi();G6e();J6=(t,e)=>{if(!e)throw new Error(`Property \`${t}\` is not resolved for AWS SDK SigV4Auth`);return e},j6e=async t=>{let e=J6("context",t.context),r=J6("config",t.config),n=e.endpointV2?.properties?.authSchemes?.[0],o=await J6("signer",r.signer)(n),s=t?.signingRegion,a=t?.signingRegionSet,c=t?.signingName;return{config:r,signer:o,signingRegion:s,signingRegionSet:a,signingName:c}},bs=class{async sign(e,r,n){if(!mn.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let i=await j6e(n),{config:o,signer:s}=i,{signingRegion:a,signingName:c}=i,l=n.context;if(l?.authSchemes?.length??!1){let[d,p]=l.authSchemes;d?.name==="sigv4a"&&p?.name==="sigv4"&&(a=p?.signingRegion??a,c=p?.signingName??c)}return await s.sign(e,{signingDate:A7(o.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(e){return r=>{let n=r.ServerTime??vY(r.$response);if(n){let i=J6("config",e.config),o=i.systemClockOffset;i.systemClockOffset=SY(n,i.systemClockOffset),i.systemClockOffset!==o&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(e,r){let n=vY(e);if(n){let i=J6("config",r.config);i.systemClockOffset=SY(n,i.systemClockOffset)}}}});var xY,W6e=b(()=>{"use strict";xY=t=>typeof t=="string"&&t.length>0?t.split(",").map(e=>e.trim()):[]});var J6e,wY=b(()=>{"use strict";J6e=t=>`AWS_BEARER_TOKEN_${t.replace(/[\s-]/g,"_").toUpperCase()}`});var K6e,Q6e,ru,X6e=b(()=>{"use strict";W6e();wY();K6e="AWS_AUTH_SCHEME_PREFERENCE",Q6e="auth_scheme_preference",ru={environmentVariableSelector:(t,e)=>{if(e?.signingName&&J6e(e.signingName)in t)return["httpBearerAuth"];if(K6e in t)return xY(t[K6e])},configFileSelector:t=>{if(Q6e in t)return xY(t[Q6e])},default:[]}});var nu,K6=b(()=>{"use strict";nu=class t extends Error{name="ProviderError";tryNextLink;constructor(e,r=!0){let n,i=!0;typeof r=="boolean"?(n=void 0,i=r):r!=null&&typeof r=="object"&&(n=r.logger,i=r.tryNextLink??!0),super(e),this.tryNextLink=i,Object.setPrototypeOf(this,t.prototype),n?.debug?.(`@smithy/property-provider ${i?"->":"(!)"} ${e}`)}static from(e,r=!0){return Object.assign(new this(e.message,r),e)}}});var _t,Y6e=b(()=>{"use strict";K6();_t=class t extends nu{name="CredentialsProviderError";constructor(e,r=!0){super(e,r),Object.setPrototypeOf(this,t.prototype)}}});var iu,Z6e=b(()=>{"use strict";K6();iu=class t extends nu{name="TokenProviderError";constructor(e,r=!0){super(e,r),Object.setPrototypeOf(this,t.prototype)}}});var Mx,eRe=b(()=>{"use strict";K6();Mx=(...t)=>async()=>{if(t.length===0)throw new nu("No providers in chain");let e;for(let r of t)try{return await r()}catch(n){if(e=n,n?.tryNextLink)continue;throw n}throw e}});var tRe,rRe=b(()=>{"use strict";tRe=t=>()=>Promise.resolve(t)});var E7,nRe=b(()=>{"use strict";E7=(t,e,r)=>{let n,i,o,s=!1,a=async()=>{i||(i=t());try{n=await i,o=!0,s=!1}finally{i=void 0}return n};return e===void 0?async c=>((!o||c?.forceRefresh)&&(n=await a()),n):async c=>((!o||c?.forceRefresh)&&(n=await a()),s?n:r&&!r(n)?(s=!0,n):(e(n)&&await a(),n))}});var xn=b(()=>{"use strict";Y6e();K6();Z6e();eRe();rRe();nRe()});var iRe=b(()=>{"use strict"});var oRe,sRe,AY,aRe,cRe,EY,TY,RY,IY,owt,lRe,uRe,Q6,dRe,pRe,fRe,mRe,T7,hRe,gRe,yRe,CY,bRe,m0=b(()=>{"use strict";oRe="X-Amz-Algorithm",sRe="X-Amz-Credential",AY="X-Amz-Date",aRe="X-Amz-SignedHeaders",cRe="X-Amz-Expires",EY="X-Amz-Signature",TY="X-Amz-Security-Token",RY="authorization",IY=AY.toLowerCase(),owt="date",lRe=[RY,IY,owt],uRe=EY.toLowerCase(),Q6="x-amz-content-sha256",dRe=TY.toLowerCase(),pRe={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},fRe=/^proxy-/,mRe=/^sec-/,T7="AWS4-HMAC-SHA256",hRe="AWS4-HMAC-SHA256-PAYLOAD",gRe="UNSIGNED-PAYLOAD",yRe=50,CY="aws4_request",bRe=3600*24*7});var R7,NY,I7,_Re,vRe,OY=b(()=>{"use strict";Ob();Yi();m0();R7={},NY=[],I7=(t,e,r)=>`${t}/${e}/${r}/${CY}`,_Re=async(t,e,r,n,i)=>{let o=await vRe(t,e.secretAccessKey,e.accessKeyId),s=`${r}:${n}:${i}:${ac(o)}:${e.sessionToken}`;if(s in R7)return R7[s];for(NY.push(s);NY.length>yRe;)delete R7[NY.shift()];let a=`AWS4${e.secretAccessKey}`;for(let c of[r,n,i,CY])a=await vRe(t,a,c);return R7[s]=a},vRe=(t,e,r)=>{let n=new t(e);return n.update(kd(r)),n.digest()}});var PY,SRe=b(()=>{"use strict";m0();PY=({headers:t},e,r)=>{let n={};for(let i of Object.keys(t).sort()){if(t[i]==null)continue;let o=i.toLowerCase();(o in pRe||e?.has(o)||fRe.test(o)||mRe.test(o))&&(!r||r&&!r.has(o))||(n[o]=t[i].trim().replace(/\s+/g," "))}return n}});var C7,xRe=b(()=>{"use strict";MX();Ob();Yi();m0();C7=async({headers:t,body:e},r)=>{for(let n of Object.keys(t))if(n.toLowerCase()===Q6)return t[n];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||r7(e)){let n=new r;return n.update(kd(e)),ac(await n.digest())}return gRe}});function ARe(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}var N7,wRe,swt,kY,ERe=b(()=>{"use strict";Ob();Yi();N7=class{format(e){let r=[];for(let o of Object.keys(e)){let s=ti(o);r.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(e[o]))}let n=new Uint8Array(r.reduce((o,s)=>o+s.byteLength,0)),i=0;for(let o of r)n.set(o,i),i+=o.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,e.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":let i=new Uint8Array(9);return i[0]=5,i.set(e.value.bytes,1),i;case"binary":let o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);let s=new Uint8Array(o.buffer);return s.set(e.value,3),s;case"string":let a=ti(e.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let l=new Uint8Array(c.buffer);return l.set(a,3),l;case"timestamp":let u=new Uint8Array(9);return u[0]=8,u.set(kY.fromNumber(e.value.valueOf()).bytes,1),u;case"uuid":if(!swt.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let d=new Uint8Array(17);return d[0]=9,d.set(JEe(e.value.replace(/\-/g,"")),1),d}}};(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(wRe||(wRe={}));swt=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,kY=class t{bytes;constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,i=Math.abs(Math.round(e));n>-1&&i>0;n--,i/=256)r[n]=i;return e<0&&ARe(r),new t(r)}valueOf(){let e=this.bytes.slice(0),r=e[0]&128;return r&&ARe(e),parseInt(ac(e),16)*(r?-1:1)}toString(){return String(this.valueOf())}}});var TRe,RRe=b(()=>{"use strict";TRe=(t,e)=>{t=t.toLowerCase();for(let r of Object.keys(e))if(t===r.toLowerCase())return!0;return!1}});var IRe,CRe=b(()=>{"use strict";pi();IRe=(t,e={})=>{let{headers:r,query:n={}}=mn.clone(t);for(let i of Object.keys(r)){let o=i.toLowerCase();(o.slice(0,6)==="x-amz-"&&!e.unhoistableHeaders?.has(o)||e.hoistableHeaders?.has(o))&&(n[i]=r[i],delete r[i])}return{...t,headers:r,query:n}}});var DY,NRe=b(()=>{"use strict";pi();m0();DY=t=>{t=mn.clone(t);for(let e of Object.keys(t.headers))lRe.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t}});var ORe,PRe=b(()=>{"use strict";n7();m0();ORe=({query:t={}})=>{let e=[],r={};for(let n of Object.keys(t)){if(n.toLowerCase()===uRe)continue;let i=qp(n);e.push(i);let o=t[n];typeof o=="string"?r[i]=`${i}=${qp(o)}`:Array.isArray(o)&&(r[i]=o.slice(0).reduce((s,a)=>s.concat([`${i}=${qp(a)}`]),[]).sort().join("&"))}return e.sort().map(n=>r[n]).filter(n=>n).join("&")}});var kRe,awt,DRe=b(()=>{"use strict";kRe=t=>awt(t).toISOString().replace(/\.\d{3}Z$/,"Z"),awt=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t});var O7,MRe=b(()=>{"use strict";Ob();Ws();n7();Yi();PRe();DRe();O7=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:e,credentials:r,region:n,service:i,sha256:o,uriEscapePath:s=!0}){this.service=i,this.sha256=o,this.uriEscapePath=s,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=hn(n),this.credentialProvider=hn(r)}createCanonicalRequest(e,r,n){let i=Object.keys(r).sort();return`${e.method}
${this.getCanonicalPath(e)}
${ORe(e)}
${i.map(o=>`${o}:${r[o]}`).join(`
`)}

${i.join(";")}
${n}`}async createStringToSign(e,r,n,i){let o=new this.sha256;o.update(kd(n));let s=await o.digest();return`${i}
${e}
${r}
${ac(s)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let r=[];for(let o of e.split("/"))o?.length!==0&&o!=="."&&(o===".."?r.pop():r.push(o));let n=`${e?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&e?.endsWith("/")?"/":""}`;return qp(n).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(e){let r=kRe(e).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}}});var X6,LRe=b(()=>{"use strict";Ob();Yi();m0();OY();SRe();xRe();ERe();RRe();CRe();NRe();MRe();X6=class extends O7{headerFormatter=new N7;constructor({applyChecksum:e,credentials:r,region:n,service:i,sha256:o,uriEscapePath:s=!0}){super({applyChecksum:e,credentials:r,region:n,service:i,sha256:o,uriEscapePath:s})}async presign(e,r={}){let{signingDate:n=new Date,expiresIn:i=3600,unsignableHeaders:o,unhoistableHeaders:s,signableHeaders:a,hoistableHeaders:c,signingRegion:l,signingService:u}=r,d=await this.credentialProvider();this.validateResolvedCredentials(d);let p=l??await this.regionProvider(),{longDate:f,shortDate:h}=this.formatDate(n);if(i>bRe)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let m=I7(h,p,u??this.service),g=IRe(DY(e),{unhoistableHeaders:s,hoistableHeaders:c});d.sessionToken&&(g.query[TY]=d.sessionToken),g.query[oRe]=T7,g.query[sRe]=`${d.accessKeyId}/${m}`,g.query[AY]=f,g.query[cRe]=i.toString(10);let y=PY(g,o,a);return g.query[aRe]=this.getCanonicalHeaderList(y),g.query[EY]=await this.getSignature(f,m,this.getSigningKey(d,p,h,u),this.createCanonicalRequest(g,y,await C7(e,this.sha256))),g}async sign(e,r){return typeof e=="string"?this.signString(e,r):e.headers&&e.payload?this.signEvent(e,r):e.message?this.signMessage(e,r):this.signRequest(e,r)}async signEvent({headers:e,payload:r},{signingDate:n=new Date,priorSignature:i,signingRegion:o,signingService:s}){let a=o??await this.regionProvider(),{shortDate:c,longDate:l}=this.formatDate(n),u=I7(c,a,s??this.service),d=await C7({headers:{},body:r},this.sha256),p=new this.sha256;p.update(e);let f=ac(await p.digest()),h=[hRe,l,u,i,f,d].join(`
`);return this.signString(h,{signingDate:n,signingRegion:a,signingService:s})}async signMessage(e,{signingDate:r=new Date,signingRegion:n,signingService:i}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:r,signingRegion:n,signingService:i,priorSignature:e.priorSignature}).then(s=>({message:e.message,signature:s}))}async signString(e,{signingDate:r=new Date,signingRegion:n,signingService:i}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let s=n??await this.regionProvider(),{shortDate:a}=this.formatDate(r),c=new this.sha256(await this.getSigningKey(o,s,a,i));return c.update(kd(e)),ac(await c.digest())}async signRequest(e,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:i,signingRegion:o,signingService:s}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=o??await this.regionProvider(),l=DY(e),{longDate:u,shortDate:d}=this.formatDate(r),p=I7(d,c,s??this.service);l.headers[IY]=u,a.sessionToken&&(l.headers[dRe]=a.sessionToken);let f=await C7(l,this.sha256);!TRe(Q6,l.headers)&&this.applyChecksum&&(l.headers[Q6]=f);let h=PY(l,i,n),m=await this.getSignature(u,p,this.getSigningKey(a,c,d,s),this.createCanonicalRequest(l,h,f));return l.headers[RY]=`${T7} Credential=${a.accessKeyId}/${p}, SignedHeaders=${this.getCanonicalHeaderList(h)}, Signature=${m}`,l}async getSignature(e,r,n,i){let o=await this.createStringToSign(e,r,i,T7),s=new this.sha256(await n);return s.update(kd(o)),ac(await s.digest())}getSigningKey(e,r,n,i){return _Re(this.sha256,e,n,r,i||this.service)}}});var BRe=b(()=>{"use strict"});var $Re=b(()=>{"use strict";LRe();m0();OY();BRe()});function cwt(t,{credentials:e,credentialDefaultProvider:r}){let n;return e?e?.memoized?n=e:n=g4e(e,h4e,aY):r?n=Ib(r(Object.assign({},t,{parentClientConfig:t}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function lwt(t,e){if(e.configBound)return e;let r=async n=>e({...n,callerClientConfig:t});return r.memoized=e.memoized,r.configBound=!0,r}var ou,URe=b(()=>{"use strict";ys();Wn();$Re();ou=t=>{let e=t.credentials,r=!!t.credentials,n;Object.defineProperty(t,"credentials",{set(l){l&&l!==e&&l!==n&&(r=!0),e=l;let u=cwt(t,{credentials:e,credentialDefaultProvider:t.credentialDefaultProvider}),d=lwt(t,u);if(r&&!d.attributed){let p=typeof e=="object"&&e!==null;n=async f=>{let m=await d(f);return p&&(!m.$source||Object.keys(m.$source).length===0)?zr(m,"CREDENTIALS_CODE","e"):m},n.memoized=d.memoized,n.configBound=d.configBound,n.attributed=!0}else n=d},get(){return n},enumerable:!0,configurable:!0}),t.credentials=e;let{signingEscapePath:i=!0,systemClockOffset:o=t.systemClockOffset||0,sha256:s}=t,a;return t.signer?a=Ib(t.signer):t.regionInfoProvider?a=()=>Ib(t.region)().then(async l=>[await t.regionInfoProvider(l,{useFipsEndpoint:await t.useFipsEndpoint(),useDualstackEndpoint:await t.useDualstackEndpoint()})||{},l]).then(([l,u])=>{let{signingRegion:d,signingService:p}=l;t.signingRegion=t.signingRegion||d||u,t.signingName=t.signingName||p||t.serviceId;let f={...t,credentials:t.credentials,region:t.signingRegion,service:t.signingName,sha256:s,uriEscapePath:i},h=t.signerConstructor||X6;return new h(f)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:await Ib(t.region)(),properties:{}},l);let u=l.signingRegion,d=l.signingName;t.signingRegion=t.signingRegion||u,t.signingName=t.signingName||d||t.serviceId;let p={...t,credentials:t.credentials,region:t.signingRegion,service:t.signingName,sha256:s,uriEscapePath:i},f=t.signerConstructor||X6;return new f(p)},Object.assign(t,{systemClockOffset:o,signingEscapePath:i,signer:a})}});var FRe=b(()=>{"use strict";q6e();X6e();iRe();URe()});var zRe=b(()=>{"use strict";FRe();wY()});var Mb,h0,Lx,HRe,VRe,GRe=b(()=>{"use strict";Mb=(t,e)=>{let r=[];if(t&&r.push(t),e)for(let n of e)r.push(n);return r},h0=(t,e)=>`${t||"anonymous"}${e&&e.length>0?` (a.k.a. ${e.join(",")})`:""}`,Lx=()=>{let t=[],e=[],r=!1,n=new Set,i=d=>d.sort((p,f)=>HRe[f.step]-HRe[p.step]||VRe[f.priority||"normal"]-VRe[p.priority||"normal"]),o=d=>{let p=!1,f=h=>{let m=Mb(h.name,h.aliases);if(m.includes(d)){p=!0;for(let g of m)n.delete(g);return!1}return!0};return t=t.filter(f),e=e.filter(f),p},s=d=>{let p=!1,f=h=>{if(h.middleware===d){p=!0;for(let m of Mb(h.name,h.aliases))n.delete(m);return!1}return!0};return t=t.filter(f),e=e.filter(f),p},a=d=>(t.forEach(p=>{d.add(p.middleware,{...p})}),e.forEach(p=>{d.addRelativeTo(p.middleware,{...p})}),d.identifyOnResolve?.(u.identifyOnResolve()),d),c=d=>{let p=[];return d.before.forEach(f=>{f.before.length===0&&f.after.length===0?p.push(f):p.push(...c(f))}),p.push(d),d.after.reverse().forEach(f=>{f.before.length===0&&f.after.length===0?p.push(f):p.push(...c(f))}),p},l=(d=!1)=>{let p=[],f=[],h={};return t.forEach(g=>{let y={...g,before:[],after:[]};for(let v of Mb(y.name,y.aliases))h[v]=y;p.push(y)}),e.forEach(g=>{let y={...g,before:[],after:[]};for(let v of Mb(y.name,y.aliases))h[v]=y;f.push(y)}),f.forEach(g=>{if(g.toMiddleware){let y=h[g.toMiddleware];if(y===void 0){if(d)return;throw new Error(`${g.toMiddleware} is not found when adding ${h0(g.name,g.aliases)} middleware ${g.relation} ${g.toMiddleware}`)}g.relation==="after"&&y.after.push(g),g.relation==="before"&&y.before.push(g)}}),i(p).map(c).reduce((g,y)=>(g.push(...y),g),[])},u={add:(d,p={})=>{let{name:f,override:h,aliases:m}=p,g={step:"initialize",priority:"normal",middleware:d,...p},y=Mb(f,m);if(y.length>0){if(y.some(v=>n.has(v))){if(!h)throw new Error(`Duplicate middleware name '${h0(f,m)}'`);for(let v of y){let S=t.findIndex(E=>E.name===v||E.aliases?.some(I=>I===v));if(S===-1)continue;let w=t[S];if(w.step!==g.step||g.priority!==w.priority)throw new Error(`"${h0(w.name,w.aliases)}" middleware with ${w.priority} priority in ${w.step} step cannot be overridden by "${h0(f,m)}" middleware with ${g.priority} priority in ${g.step} step.`);t.splice(S,1)}}for(let v of y)n.add(v)}t.push(g)},addRelativeTo:(d,p)=>{let{name:f,override:h,aliases:m}=p,g={middleware:d,...p},y=Mb(f,m);if(y.length>0){if(y.some(v=>n.has(v))){if(!h)throw new Error(`Duplicate middleware name '${h0(f,m)}'`);for(let v of y){let S=e.findIndex(E=>E.name===v||E.aliases?.some(I=>I===v));if(S===-1)continue;let w=e[S];if(w.toMiddleware!==g.toMiddleware||w.relation!==g.relation)throw new Error(`"${h0(w.name,w.aliases)}" middleware ${w.relation} "${w.toMiddleware}" middleware cannot be overridden by "${h0(f,m)}" middleware ${g.relation} "${g.toMiddleware}" middleware.`);e.splice(S,1)}}for(let v of y)n.add(v)}e.push(g)},clone:()=>a(Lx()),use:d=>{d.applyToStack(u)},remove:d=>typeof d=="string"?o(d):s(d),removeByTag:d=>{let p=!1,f=h=>{let{tags:m,name:g,aliases:y}=h;if(m&&m.includes(d)){let v=Mb(g,y);for(let S of v)n.delete(S);return p=!0,!1}return!0};return t=t.filter(f),e=e.filter(f),p},concat:d=>{let p=a(Lx());return p.use(d),p.identifyOnResolve(r||p.identifyOnResolve()||(d.identifyOnResolve?.()??!1)),p},applyToStack:a,identify:()=>l(!0).map(d=>{let p=d.step??d.relation+" "+d.toMiddleware;return h0(d.name,d.aliases)+" - "+p}),identifyOnResolve(d){return typeof d=="boolean"&&(r=d),r},resolve:(d,p)=>{for(let f of l().map(h=>h.middleware).reverse())d=f(d,p);return r&&console.log(u.identify()),d}};return u},HRe={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},VRe={high:3,normal:2,low:1}});var MY=b(()=>{"use strict";GRe()});var $o,jRe=b(()=>{"use strict";MY();$o=class{config;middlewareStack=Lx();initConfig;handlers;constructor(e){this.config=e;let{protocol:r,protocolSettings:n}=e;n&&typeof r=="function"&&(e.protocol=new r(n))}send(e,r,n){let i=typeof r!="function"?r:void 0,o=typeof r=="function"?r:n,s=i===void 0&&this.config.cacheMiddleware===!0,a;if(s){this.handlers||(this.handlers=new WeakMap);let c=this.handlers;c.has(e.constructor)?a=c.get(e.constructor):(a=e.resolveMiddleware(this.middlewareStack,this.config,i),c.set(e.constructor,a))}else delete this.handlers,a=e.resolveMiddleware(this.middlewareStack,this.config,i);if(o)a(e).then(c=>o(null,c.output),c=>o(c)).catch(()=>{});else return a(e).then(c=>c.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}}});var qRe=b(()=>{"use strict";Rm()});function P7(t,e){if(e==null)return e;let r=er.of(t);if(r.getMergedTraits().sensitive)return LY;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return LY}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return LY}else if(r.isStructSchema()&&typeof e=="object"){let n=e,i={};for(let[o,s]of r.structIterator())n[o]!=null&&(i[o]=P7(s,n[o]));return i}return e}var LY,WRe=b(()=>{"use strict";gn();LY="***SensitiveInformation***"});var se,BY,JRe=b(()=>{"use strict";MY();d0();WRe();se=class{middlewareStack=Lx();schema;static classBuilder(){return new BY}resolveMiddlewareWithContext(e,r,n,{middlewareFn:i,clientName:o,commandName:s,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:l,additionalContext:u,CommandCtor:d}){for(let g of i.bind(this)(d,e,r,n))this.middlewareStack.use(g);let p=e.concat(this.middlewareStack),{logger:f}=r,h={logger:f,clientName:o,commandName:s,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[z6]:{commandInstance:this,...l},...u},{requestHandler:m}=r;return p.resolve(g=>m.handle(g.request,n||{}),h)}},BY=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,r,n={}){return this._smithyContext={service:e,operation:r,...n},this}c(e={}){return this._additionalContext=e,this}n(e,r){return this._clientName=e,this._commandName=r,this}f(e=n=>n,r=n=>n){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=r,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){let e=this,r;return r=class extends se{input;static getEndpointParameterInstructions(){return e._ep}constructor(...[n]){super(),this.input=n??{},e._init(this),this.schema=e._operationSchema}resolveMiddleware(n,i,o){let s=e._operationSchema,a=s?.[4]??s?.input,c=s?.[5]??s?.output;return this.resolveMiddlewareWithContext(n,i,o,{CommandCtor:r,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog??(s?P7.bind(null,a):l=>l),outputFilterSensitiveLog:e._outputFilterSensitiveLog??(s?P7.bind(null,c):l=>l),smithyContext:e._smithyContext,additionalContext:e._additionalContext})}serialize=e._serializer;deserialize=e._deserializer}}}});var KRe=b(()=>{"use strict"});var su,QRe=b(()=>{"use strict";su=(t,e,r)=>{for(let[o,s]of Object.entries(t)){let a=async function(l,u,d){let p=new s(l);if(typeof u=="function")this.send(p,u);else if(typeof d=="function"){if(typeof u!="object")throw new Error(`Expected http options but got ${typeof u}`);this.send(p,u||{},d)}else return this.send(p,u)},c=(o[0].toLowerCase()+o.slice(1)).replace(/Command$/,"");e.prototype[c]=a}let{paginators:n={},waiters:i={}}=r??{};for(let[o,s]of Object.entries(n))e.prototype[o]===void 0&&(e.prototype[o]=function(a={},c,...l){return s({...c,client:this},a,...l)});for(let[o,s]of Object.entries(i))e.prototype[o]===void 0&&(e.prototype[o]=async function(a={},c,...l){let u=c;return typeof c=="number"&&(u={maxWaitTime:c}),s({...u,client:this},a,...l)})}});var pc,$Y,XRe=b(()=>{"use strict";pc=class t extends Error{$fault;$response;$retryable;$metadata;constructor(e){super(e.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}static isInstance(e){if(!e)return!1;let r=e;return t.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](e){if(!e)return!1;let r=e;return this===t?t.isInstance(e):t.isInstance(e)?r.name&&this.name?this.prototype.isPrototypeOf(e)||r.name===this.name:this.prototype.isPrototypeOf(e):!1}},$Y=(t,e={})=>{Object.entries(e).filter(([,n])=>n!==void 0).forEach(([n,i])=>{(t[n]==null||t[n]==="")&&(t[n]=i)});let r=t.message||t.Message||"UnknownError";return t.message=r,delete t.Message,t}});var YRe=b(()=>{"use strict"});var au,ZRe=b(()=>{"use strict";au=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}}});var eIe,cu,tIe=b(()=>{"use strict";eIe=!1,cu=t=>{t&&!eIe&&parseInt(t.substring(1,t.indexOf(".")))<16&&(eIe=!0)}});var rIe=b(()=>{"use strict"});var nIe,iIe,oIe=b(()=>{"use strict";d0();nIe=t=>{let e=[];for(let r in wx){let n=wx[r];t[n]!==void 0&&e.push({algorithmId:()=>n,checksumConstructor:()=>t[n]})}return{addChecksumAlgorithm(r){e.push(r)},checksumAlgorithms(){return e}}},iIe=t=>{let e={};return t.checksumAlgorithms().forEach(r=>{e[r.algorithmId()]=r.checksumConstructor()}),e}});var sIe,aIe,cIe=b(()=>{"use strict";sIe=t=>({setRetryStrategy(e){t.retryStrategy=e},retryStrategy(){return t.retryStrategy}}),aIe=t=>{let e={};return e.retryStrategy=t.retryStrategy(),e}});var lu,uu,lIe=b(()=>{"use strict";oIe();cIe();lu=t=>Object.assign(nIe(t),sIe(t)),uu=t=>Object.assign(iIe(t),aIe(t))});var uIe=b(()=>{"use strict";lIe()});var dIe=b(()=>{"use strict"});var UY,pIe=b(()=>{"use strict";UY=t=>{let e="#text";for(let r in t)t.hasOwnProperty(r)&&t[r][e]!==void 0?t[r]=t[r][e]:typeof t[r]=="object"&&t[r]!==null&&(t[r]=UY(t[r]));return t}});var fIe=b(()=>{"use strict"});var Xs,mIe=b(()=>{"use strict";Xs=class{trace(){}debug(){}info(){}warn(){}error(){}}});var hIe=b(()=>{"use strict"});var gIe=b(()=>{"use strict"});var yIe=b(()=>{"use strict"});var Y6,bIe=b(()=>{"use strict";Y6=t=>{if(t==null)return{};if(Array.isArray(t))return t.filter(e=>e!=null).map(Y6);if(typeof t=="object"){let e={};for(let r of Object.keys(t))t[r]!=null&&(e[r]=Y6(t[r]));return e}return t}});var Te=b(()=>{"use strict";jRe();qRe();JRe();KRe();QRe();YRe();ZRe();tIe();XRe();rIe();uIe();dIe();pIe();fIe();mIe();hIe();gIe();yIe();bIe();Jp()});var g0,k7=b(()=>{"use strict";gn();Te();g0=class{queryCompat;constructor(e=!1){this.queryCompat=e}resolveRestContentType(e,r){let n=r.getMemberSchemas(),i=Object.values(n).find(o=>!!o.getMergedTraits().httpPayload);if(i){let o=i.getMergedTraits().mediaType;return o||(i.isStringSchema()?"text/plain":i.isBlobSchema()?"application/octet-stream":e)}else if(!r.isUnitSchema()&&Object.values(n).find(s=>{let{httpQuery:a,httpQueryParams:c,httpHeader:l,httpLabel:u,httpPrefixHeaders:d}=s.getMergedTraits();return!a&&!c&&!l&&!u&&d===void 0}))return e}async getErrorSchemaOrThrowBaseException(e,r,n,i,o,s){let a=r,c=e;e.includes("#")&&([a,c]=e.split("#"));let l={$metadata:o,$fault:n.statusCode<500?"client":"server"},u=je.for(a);try{return{errorSchema:s?.(u,c)??u.getSchema(e),errorMetadata:l}}catch{i.message=i.message??i.Message??"UnknownError";let p=je.for("smithy.ts.sdk.synthetic."+a),f=p.getBaseException();if(f){let h=p.getErrorCtor(f)??Error;throw this.decorateServiceException(Object.assign(new h({name:c}),l),i)}throw this.decorateServiceException(Object.assign(new Error(c),l),i)}}decorateServiceException(e,r={}){if(this.queryCompat){let n=e.Message??r.Message,i=$Y(e,r);n&&(i.message=n),i.Error={...i.Error,Type:i.Error.Type,Code:i.Error.Code,Message:i.Error.message??i.Error.Message??n};let o=i.$metadata.requestId;return o&&(i.RequestId=o),i}return $Y(e,r)}setQueryCompatError(e,r){let n=r.headers?.["x-amzn-query-error"];if(e!==void 0&&n!=null){let[i,o]=n.split(";"),s=Object.entries(e),a={Code:i,Type:o};Object.assign(e,a);for(let[c,l]of s)a[c==="message"?"Message":c]=l;delete a.__type,e.Error=a}}queryCompatOutput(e,r){e.Error&&(r.Error=e.Error),e.Type&&(r.Type=e.Type),e.Code&&(r.Code=e.Code)}findQueryCompatibleError(e,r){try{return e.getSchema(r)}catch{return e.find(i=>er.of(i).getMergedTraits().awsQueryError?.[0]===r)}}}});var vIe=b(()=>{"use strict"});var _Ie=b(()=>{"use strict"});var du,Bx=b(()=>{"use strict";du=class{serdeContext;setSerdeContext(e){this.serdeContext=e}}});var $x,FY=b(()=>{"use strict";$x=class{from;to;keys;constructor(e,r){this.from=e,this.to=r,this.keys=new Set(Object.keys(this.from).filter(n=>n!=="__type"))}mark(e){this.keys.delete(e)}hasUnknown(){return this.keys.size===1&&Object.keys(this.to).length===0}writeUnknown(){if(this.hasUnknown()){let e=this.keys.values().next().value,r=this.from[e];this.to.$unknown=[e,r]}}}});function SIe(t,e,r){if(r?.source){let n=r.source;if(typeof e=="number"&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER||n!==String(e)))return n.includes(".")?new Yo(n,"bigDecimal"):BigInt(n)}return e}var xIe=b(()=>{"use strict";Jp()});var wIe,AIe=b(()=>{"use strict";Te();Yi();wIe=(t,e)=>cc(t,e).then(r=>(e?.utf8Encoder??jn)(r))});var EIe,D7,Z6=b(()=>{"use strict";AIe();EIe=(t,e)=>wIe(t,e).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),D7=(t,e)=>{let r=(o,s)=>Object.keys(o).find(a=>a.toLowerCase()===s.toLowerCase()),n=o=>{let s=o;return typeof s=="number"&&(s=s.toString()),s.indexOf(",")>=0&&(s=s.split(",")[0]),s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s},i=r(t.headers,"x-amzn-errortype");if(i!==void 0)return n(t.headers[i]);if(e&&typeof e=="object"){let o=r(e,"code");if(o&&e[o]!==void 0)return n(e[o]);if(e.__type!==void 0)return n(e.__type)}}});var Ux,zY=b(()=>{"use strict";Rm();gn();Jp();Js();Bx();FY();xIe();Z6();Ux=class extends du{settings;constructor(e){super(),this.settings=e}async read(e,r){return this._read(e,typeof r=="string"?JSON.parse(r,SIe):await EIe(r,this.serdeContext))}readObject(e,r){return this._read(e,r)}_read(e,r){let n=r!==null&&typeof r=="object",i=er.of(e);if(n){if(i.isStructSchema()){let s=r,a=i.isUnionSchema(),c={},l,{jsonName:u}=this.settings;u&&(l={});let d;a&&(d=new $x(s,c));for(let[p,f]of i.structIterator()){let h=p;u&&(h=f.getMergedTraits().jsonName??h,l[h]=p),a&&d.mark(h),s[h]!=null&&(c[p]=this._read(f,s[h]))}if(a)d.writeUnknown();else if(typeof s.__type=="string")for(let[p,f]of Object.entries(s)){let h=u?l[p]??p:p;h in c||(c[h]=f)}return c}if(Array.isArray(r)&&i.isListSchema()){let s=i.getValueSchema(),a=[],c=!!i.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._read(s,l));return a}if(i.isMapSchema()){let s=i.getValueSchema(),a={},c=!!i.getMergedTraits().sparse;for(let[l,u]of Object.entries(r))(c||u!=null)&&(a[l]=this._read(s,u));return a}}if(i.isBlobSchema()&&typeof r=="string")return Ti(r);let o=i.getMergedTraits().mediaType;if(i.isStringSchema()&&typeof r=="string"&&o)return o==="application/json"||o.endsWith("+json")?lc.from(r):r;if(i.isTimestampSchema()&&r!=null)switch(Qp(i,this.settings)){case 5:return NTe(r);case 6:return OTe(r);case 7:return PTe(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(i.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(i.isBigDecimalSchema()&&r!=null){if(r instanceof Yo)return r;let s=r;return s.type==="bigDecimal"&&"string"in s?new Yo(s.string,s.type):new Yo(String(r),"bigDecimal")}if(i.isNumericSchema()&&typeof r=="string"){switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}if(i.isDocumentSchema())if(n){let s=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof Yo?s[a]=c:s[a]=this._read(i,c);return s}else return structuredClone(r);return r}}});var TIe,M7,RIe=b(()=>{"use strict";Jp();TIe="\u039D",M7=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(e,r)=>{if(r instanceof Yo){let n=`${TIe+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),i=`${TIe+"b"+this.counter++}_`+n;return this.values.set(`"${i}"`,n),i}return r}}replaceInJson(e){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return e;for(let[r,n]of this.values)e=e.replace(r,n);return e}}});var Fx,HY=b(()=>{"use strict";Rm();gn();Jp();Js();Bx();RIe();Fx=class extends du{settings;buffer;useReplacer=!1;rootSchema;constructor(e){super(),this.settings=e}write(e,r){this.rootSchema=er.of(e),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(e,r){this.write(e,r),typeof this.buffer=="object"&&(this.buffer.__type=er.of(e).getName(!0))}flush(){let{rootSchema:e,useReplacer:r}=this;if(this.rootSchema=void 0,this.useReplacer=!1,e?.isStructSchema()||e?.isDocumentSchema()){if(!r)return JSON.stringify(this.buffer);let n=new M7;return n.replaceInJson(JSON.stringify(this.buffer,n.createReplacer(),0))}return this.buffer}_write(e,r,n){let i=r!==null&&typeof r=="object",o=er.of(e);if(i){if(o.isStructSchema()){let s=r,a={},{jsonName:c}=this.settings,l;c&&(l={});for(let[u,d]of o.structIterator()){let p=this._write(d,s[u],o);if(p!==void 0){let f=u;c&&(f=d.getMergedTraits().jsonName??u,l[u]=f),a[f]=p}}if(o.isUnionSchema()&&Object.keys(a).length===0){let{$unknown:u}=s;if(Array.isArray(u)){let[d,p]=u;a[d]=this._write(15,p)}}else if(typeof s.__type=="string")for(let[u,d]of Object.entries(s)){let p=c?l[u]??u:u;p in a||(a[p]=this._write(15,d))}return a}if(Array.isArray(r)&&o.isListSchema()){let s=o.getValueSchema(),a=[],c=!!o.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._write(s,l));return a}if(o.isMapSchema()){let s=o.getValueSchema(),a={},c=!!o.getMergedTraits().sparse;for(let[l,u]of Object.entries(r))(c||u!=null)&&(a[l]=this._write(s,u));return a}if(r instanceof Uint8Array&&(o.isBlobSchema()||o.isDocumentSchema()))return o===this.rootSchema?r:(this.serdeContext?.base64Encoder??qn)(r);if(r instanceof Date&&(o.isTimestampSchema()||o.isDocumentSchema()))switch(Qp(o,this.settings)){case 5:return r.toISOString().replace(".000Z","Z");case 6:return Cx(r);case 7:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}r instanceof Yo&&(this.useReplacer=!0)}if(!(r===null&&n?.isStructSchema())){if(o.isStringSchema()){if(typeof r>"u"&&o.isIdempotencyToken())return Em();let s=o.getMergedTraits().mediaType;return r!=null&&s&&(s==="application/json"||s.endsWith("+json"))?lc.from(r):r}if(typeof r=="number"&&o.isNumericSchema())return Math.abs(r)===1/0||isNaN(r)?String(r):r;if(typeof r=="string"&&o.isBlobSchema())return o===this.rootSchema?r:(this.serdeContext?.base64Encoder??qn)(r);if(typeof r=="bigint"&&(this.useReplacer=!0),o.isDocumentSchema())if(i){let s=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof Yo?(this.useReplacer=!0,s[a]=c):s[a]=this._write(o,c);return s}else return structuredClone(r);return r}}}});var y0,L7=b(()=>{"use strict";Bx();zY();HY();y0=class extends du{settings;constructor(e){super(),this.settings=e}createSerializer(){let e=new Fx(this.settings);return e.setSerdeContext(this.serdeContext),e}createDeserializer(){let e=new Ux(this.settings);return e.setSerdeContext(this.serdeContext),e}}});var zx,B7=b(()=>{"use strict";Rm();gn();k7();L7();Z6();zx=class extends Px{serializer;deserializer;serviceTarget;codec;mixin;awsQueryCompatible;constructor({defaultNamespace:e,serviceTarget:r,awsQueryCompatible:n,jsonCodec:i}){super({defaultNamespace:e}),this.serviceTarget=r,this.codec=i??new y0({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n,this.mixin=new g0(this.awsQueryCompatible)}async serializeRequest(e,r,n){let i=await super.serializeRequest(e,r,n);return i.path.endsWith("/")||(i.path+="/"),Object.assign(i.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${e.name}`}),this.awsQueryCompatible&&(i.headers["x-amzn-query-mode"]="true"),(p0(e.input)==="unit"||!i.body)&&(i.body="{}"),i}getPayloadCodec(){return this.codec}async handleError(e,r,n,i,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(i,n);let s=D7(n,i)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(s,this.options.defaultNamespace,n,i,o,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),l=er.of(a),u=i.message??i.Message??"Unknown",d=je.for(a[1]).getErrorCtor(a)??Error,p=new d(u),f={};for(let[h,m]of l.structIterator())i[h]!=null&&(f[h]=this.codec.createDeserializer().readObject(m,i[h]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(i,f),this.mixin.decorateServiceException(Object.assign(p,c,{$fault:l.getMergedTraits().error,message:u},f),i)}}});var $7,IIe=b(()=>{"use strict";B7();$7=class extends zx{constructor({defaultNamespace:e,serviceTarget:r,awsQueryCompatible:n,jsonCodec:i}){super({defaultNamespace:e,serviceTarget:r,awsQueryCompatible:n,jsonCodec:i})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var U7,CIe=b(()=>{"use strict";B7();U7=class extends zx{constructor({defaultNamespace:e,serviceTarget:r,awsQueryCompatible:n,jsonCodec:i}){super({defaultNamespace:e,serviceTarget:r,awsQueryCompatible:n,jsonCodec:i})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var b0,NIe=b(()=>{"use strict";Rm();gn();k7();L7();Z6();b0=class extends m7{serializer;deserializer;codec;mixin=new g0;constructor({defaultNamespace:e}){super({defaultNamespace:e});let r={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new y0(r),this.serializer=new b7(this.codec.createSerializer(),r),this.deserializer=new g7(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(e){this.codec.setSerdeContext(e),super.setSerdeContext(e)}async serializeRequest(e,r,n){let i=await super.serializeRequest(e,r,n),o=er.of(e.input);if(!i.headers["content-type"]){let s=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);s&&(i.headers["content-type"]=s)}return i.body==null&&i.headers["content-type"]===this.getDefaultContentType()&&(i.body="{}"),i}async deserializeResponse(e,r,n){let i=await super.deserializeResponse(e,r,n),o=er.of(e.output);for(let[s,a]of o.structIterator())a.getMemberTraits().httpPayload&&!(s in i)&&(i[s]=null);return i}async handleError(e,r,n,i,o){let s=D7(n,i)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(s,this.options.defaultNamespace,n,i,o),l=er.of(a),u=i.message??i.Message??"Unknown",d=je.for(a[1]).getErrorCtor(a)??Error,p=new d(u);await this.deserializeHttpMessage(a,r,n,i);let f={};for(let[h,m]of l.structIterator()){let g=m.getMergedTraits().jsonName??h;f[h]=this.codec.createDeserializer().readObject(m,i[g])}throw this.mixin.decorateServiceException(Object.assign(p,c,{$fault:l.getMergedTraits().error,message:u},f),i)}getDefaultContentType(){return"application/json"}}});var OIe=b(()=>{"use strict"});var PIe=b(()=>{"use strict"});var kIe=b(()=>{"use strict"});function F7(t,e){let r=[],n=e.exec(t);for(;n;){let i=[];i.startIndex=e.lastIndex-n[0].length;let o=n.length;for(let s=0;s<o;s++)i.push(n[s]);r.push(i),n=e.exec(t)}return r}function MIe(t){return typeof t<"u"}var DIe,uwt,dwt,pwt,eR,z7=b(()=>{"use strict";DIe=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",uwt=DIe+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",dwt="["+DIe+"]["+uwt+"]*",pwt=new RegExp("^"+dwt+"$");eR=function(t){let e=pwt.exec(t);return!(e===null||typeof e>"u")}});function FIe(t,e){e=Object.assign({},fwt,e);let r=[],n=!1,i=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let o=0;o<t.length;o++)if(t[o]==="<"&&t[o+1]==="?"){if(o+=2,o=BIe(t,o),o.err)return o}else if(t[o]==="<"){let s=o;if(o++,t[o]==="!"){o=$Ie(t,o);continue}else{let a=!1;t[o]==="/"&&(a=!0,o++);let c="";for(;o<t.length&&t[o]!==">"&&t[o]!==" "&&t[o]!=="	"&&t[o]!==`
`&&t[o]!=="\r";o++)c+=t[o];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),o--),!Swt(c)){let d;return c.trim().length===0?d="Invalid space after '<'.":d="Tag '"+c+"' is an invalid name.",eo("InvalidTag",d,Ra(t,o))}let l=gwt(t,o);if(l===!1)return eo("InvalidAttr","Attributes for '"+c+"' have open quote.",Ra(t,o));let u=l.value;if(o=l.index,u[u.length-1]==="/"){let d=o-u.length;u=u.substring(0,u.length-1);let p=UIe(u,e);if(p===!0)n=!0;else return eo(p.err.code,p.err.msg,Ra(t,d+p.err.line))}else if(a)if(l.tagClosed){if(u.trim().length>0)return eo("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Ra(t,s));if(r.length===0)return eo("InvalidTag","Closing tag '"+c+"' has not been opened.",Ra(t,s));{let d=r.pop();if(c!==d.tagName){let p=Ra(t,d.tagStartPos);return eo("InvalidTag","Expected closing tag '"+d.tagName+"' (opened in line "+p.line+", col "+p.col+") instead of closing tag '"+c+"'.",Ra(t,s))}r.length==0&&(i=!0)}}else return eo("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Ra(t,o));else{let d=UIe(u,e);if(d!==!0)return eo(d.err.code,d.err.msg,Ra(t,o-u.length+d.err.line));if(i===!0)return eo("InvalidXml","Multiple possible root nodes found.",Ra(t,o));e.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:s}),n=!0}for(o++;o<t.length;o++)if(t[o]==="<")if(t[o+1]==="!"){o++,o=$Ie(t,o);continue}else if(t[o+1]==="?"){if(o=BIe(t,++o),o.err)return o}else break;else if(t[o]==="&"){let d=vwt(t,o);if(d==-1)return eo("InvalidChar","char '&' is not expected.",Ra(t,o));o=d}else if(i===!0&&!LIe(t[o]))return eo("InvalidXml","Extra text at the end",Ra(t,o));t[o]==="<"&&o--}}else{if(LIe(t[o]))continue;return eo("InvalidChar","char '"+t[o]+"' is not expected.",Ra(t,o))}if(n){if(r.length==1)return eo("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Ra(t,r[0].tagStartPos));if(r.length>0)return eo("InvalidXml","Invalid '"+JSON.stringify(r.map(o=>o.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return eo("InvalidXml","Start tag expected.",1);return!0}function LIe(t){return t===" "||t==="	"||t===`
`||t==="\r"}function BIe(t,e){let r=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){let n=t.substr(r,e-r);if(e>5&&n==="xml")return eo("InvalidXml","XML declaration allowed only at the start of the document.",Ra(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function $Ie(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let r=1;for(e+=8;e<t.length;e++)if(t[e]==="<")r++;else if(t[e]===">"&&(r--,r===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}function gwt(t,e){let r="",n="",i=!1;for(;e<t.length;e++){if(t[e]===mwt||t[e]===hwt)n===""?n=t[e]:n!==t[e]||(n="");else if(t[e]===">"&&n===""){i=!0;break}r+=t[e]}return n!==""?!1:{value:r,index:e,tagClosed:i}}function UIe(t,e){let r=F7(t,ywt),n={};for(let i=0;i<r.length;i++){if(r[i][1].length===0)return eo("InvalidAttr","Attribute '"+r[i][2]+"' has no space in starting.",tR(r[i]));if(r[i][3]!==void 0&&r[i][4]===void 0)return eo("InvalidAttr","Attribute '"+r[i][2]+"' is without value.",tR(r[i]));if(r[i][3]===void 0&&!e.allowBooleanAttributes)return eo("InvalidAttr","boolean attribute '"+r[i][2]+"' is not allowed.",tR(r[i]));let o=r[i][2];if(!_wt(o))return eo("InvalidAttr","Attribute '"+o+"' is an invalid name.",tR(r[i]));if(!n.hasOwnProperty(o))n[o]=1;else return eo("InvalidAttr","Attribute '"+o+"' is repeated.",tR(r[i]))}return!0}function bwt(t,e){let r=/\d/;for(t[e]==="x"&&(e++,r=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(r))break}return-1}function vwt(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,bwt(t,e);let r=0;for(;e<t.length;e++,r++)if(!(t[e].match(/\w/)&&r<20)){if(t[e]===";")break;return-1}return e}function eo(t,e,r){return{err:{code:t,msg:e,line:r.line||r,col:r.col}}}function _wt(t){return eR(t)}function Swt(t){return eR(t)}function Ra(t,e){let r=t.substring(0,e).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function tR(t){return t.startIndex+t[1].length}var fwt,mwt,hwt,ywt,zIe=b(()=>{"use strict";z7();fwt={allowBooleanAttributes:!1,unpairedTags:[]};mwt='"',hwt="'";ywt=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g")});var xwt,HIe,VIe=b(()=>{"use strict";xwt={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,r){return t},captureMetaData:!1},HIe=function(t){return Object.assign({},xwt,t)}});var H7,il,V7=b(()=>{"use strict";typeof Symbol!="function"?H7="@@xmlMetadata":H7=Symbol("XML Node Metadata");il=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,r){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:r})}addChild(e,r){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child}),r!==void 0&&(this.child[this.child.length-1][H7]={startIndex:r})}static getMetaDataSymbol(){return H7}}});function VY(t,e){let r={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let n=1,i=!1,o=!1,s="";for(;e<t.length;e++)if(t[e]==="<"&&!o){if(i&&Lb(t,"!ENTITY",e)){e+=7;let a,c;[a,c,e]=wwt(t,e+1),c.indexOf("&")===-1&&(r[a]={regx:RegExp(`&${a};`,"g"),val:c})}else if(i&&Lb(t,"!ELEMENT",e)){e+=8;let{index:a}=Ewt(t,e+1);e=a}else if(i&&Lb(t,"!ATTLIST",e))e+=8;else if(i&&Lb(t,"!NOTATION",e)){e+=9;let{index:a}=Awt(t,e+1);e=a}else if(Lb(t,"!--",e))o=!0;else throw new Error("Invalid DOCTYPE");n++,s=""}else if(t[e]===">"){if(o?t[e-1]==="-"&&t[e-2]==="-"&&(o=!1,n--):n--,n===0)break}else t[e]==="["?i=!0:s+=t[e];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:e}}function wwt(t,e){e=v0(t,e);let r="";for(;e<t.length&&!/\s/.test(t[e])&&t[e]!=='"'&&t[e]!=="'";)r+=t[e],e++;if(GY(r),e=v0(t,e),t.substring(e,e+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(t[e]==="%")throw new Error("Parameter entities are not supported");let n="";return[e,n]=G7(t,e,"entity"),e--,[r,n,e]}function Awt(t,e){e=v0(t,e);let r="";for(;e<t.length&&!/\s/.test(t[e]);)r+=t[e],e++;GY(r),e=v0(t,e);let n=t.substring(e,e+6).toUpperCase();if(n!=="SYSTEM"&&n!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${n}"`);e+=n.length,e=v0(t,e);let i=null,o=null;if(n==="PUBLIC")[e,i]=G7(t,e,"publicIdentifier"),e=v0(t,e),(t[e]==='"'||t[e]==="'")&&([e,o]=G7(t,e,"systemIdentifier"));else if(n==="SYSTEM"&&([e,o]=G7(t,e,"systemIdentifier"),!o))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:r,publicIdentifier:i,systemIdentifier:o,index:--e}}function G7(t,e,r){let n="",i=t[e];if(i!=='"'&&i!=="'")throw new Error(`Expected quoted string, found "${i}"`);for(e++;e<t.length&&t[e]!==i;)n+=t[e],e++;if(t[e]!==i)throw new Error(`Unterminated ${r} value`);return e++,[e,n]}function Ewt(t,e){e=v0(t,e);let r="";for(;e<t.length&&!/\s/.test(t[e]);)r+=t[e],e++;if(!GY(r))throw new Error(`Invalid element name: "${r}"`);e=v0(t,e);let n="";if(t[e]==="E"&&Lb(t,"MPTY",e))e+=4;else if(t[e]==="A"&&Lb(t,"NY",e))e+=2;else if(t[e]==="("){for(e++;e<t.length&&t[e]!==")";)n+=t[e],e++;if(t[e]!==")")throw new Error("Unterminated content model")}else throw new Error(`Invalid Element Expression, found "${t[e]}"`);return{elementName:r,contentModel:n.trim(),index:e}}function Lb(t,e,r){for(let n=0;n<e.length;n++)if(e[n]!==t[r+n+1])return!1;return!0}function GY(t){if(eR(t))return t;throw new Error(`Invalid entity name ${t}`)}var v0,GIe=b(()=>{"use strict";z7();v0=(t,e)=>{for(;e<t.length&&/\s/.test(t[e]);)e++;return e}});function jY(t,e={}){if(e=Object.assign({},Iwt,e),!t||typeof t!="string")return t;let r=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(r))return t;if(t==="0")return 0;if(e.hex&&Twt.test(r))return Pwt(r,16);if(r.includes("e")||r.includes("E"))return Nwt(t,r,e);{let n=Rwt.exec(r);if(n){let i=n[1]||"",o=n[2],s=Owt(n[3]),a=i?t[o.length+1]===".":t[o.length]===".";if(!e.leadingZeros&&(o.length>1||o.length===1&&!a))return t;{let c=Number(r),l=String(c);if(c===0)return c;if(l.search(/[eE]/)!==-1)return e.eNotation?c:t;if(r.indexOf(".")!==-1)return l==="0"||l===s||l===`${i}${s}`?c:t;let u=o?s:r;return o?u===l||i+u===l?c:t:u===l||u===i+l?c:t}}else return t}}function Nwt(t,e,r){if(!r.eNotation)return t;let n=e.match(Cwt);if(n){let i=n[1]||"",o=n[3].indexOf("e")===-1?"E":"e",s=n[2],a=i?t[s.length+1]===o:t[s.length]===o;return s.length>1&&a?t:s.length===1&&(n[3].startsWith(`.${o}`)||n[3][0]===o)?Number(e):r.leadingZeros&&!a?(e=(n[1]||"")+n[3],Number(e)):t}else return t}function Owt(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substring(0,t.length-1))),t}function Pwt(t,e){if(parseInt)return parseInt(t,e);if(Number.parseInt)return Number.parseInt(t,e);if(window&&window.parseInt)return window.parseInt(t,e);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}var Twt,Rwt,Iwt,Cwt,jIe=b(()=>{"use strict";Twt=/^[-+]?0x[a-fA-F0-9]+$/,Rwt=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,Iwt={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};Cwt=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/});function qY(t){return typeof t=="function"?t:Array.isArray(t)?e=>{for(let r of t)if(typeof r=="string"&&e===r||r instanceof RegExp&&r.test(e))return!0}:()=>!1}var qIe=b(()=>{"use strict"});function kwt(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=e[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:t[n]}}}function Dwt(t,e,r,n,i,o,s){if(t!==void 0&&(this.options.trimValues&&!n&&(t=t.trim()),t.length>0)){s||(t=this.replaceEntitiesValue(t));let a=this.options.tagValueProcessor(e,t,r,i,o);return a==null?t:typeof a!=typeof t||a!==t?a:this.options.trimValues?JY(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?JY(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function Mwt(t){if(this.options.removeNSPrefix){let e=t.split(":"),r=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=r+e[1])}return t}function Bwt(t,e,r){if(this.options.ignoreAttributes!==!0&&typeof t=="string"){let n=F7(t,Lwt),i=n.length,o={};for(let s=0;s<i;s++){let a=this.resolveNameSpace(n[s][1]);if(this.ignoreAttributesFn(a,e))continue;let c=n[s][4],l=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let u=this.options.attributeValueProcessor(a,c,e);u==null?o[l]=c:typeof u!=typeof c||u!==c?o[l]=u:o[l]=JY(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(o[l]=!0)}if(!Object.keys(o).length)return;if(this.options.attributesGroupName){let s={};return s[this.options.attributesGroupName]=o,s}return o}}function Uwt(t,e,r,n){this.options.captureMetaData||(n=void 0);let i=this.options.updateTag(e.tagname,r,e[":@"]);i===!1||(typeof i=="string"&&(e.tagname=i),t.addChild(e,n))}function zwt(t,e,r,n){return t&&(n===void 0&&(n=e.child.length===0),t=this.parseTextData(t,e.tagname,r,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,n),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function Hwt(t,e,r){let n="*."+r;for(let i in t){let o=t[i];if(n===o||e===o)return!0}return!1}function Vwt(t,e,r=">"){let n,i="";for(let o=e;o<t.length;o++){let s=t[o];if(n)s===n&&(n="");else if(s==='"'||s==="'")n=s;else if(s===r[0])if(r[1]){if(t[o+1]===r[1])return{data:i,index:o}}else return{data:i,index:o};else s==="	"&&(s=" ");i+=s}}function Bb(t,e,r,n){let i=t.indexOf(e,r);if(i===-1)throw new Error(n);return i+e.length-1}function WY(t,e,r,n=">"){let i=Vwt(t,e+1,n);if(!i)return;let o=i.data,s=i.index,a=o.search(/\s/),c=o,l=!0;a!==-1&&(c=o.substring(0,a),o=o.substring(a+1).trimStart());let u=c;if(r){let d=c.indexOf(":");d!==-1&&(c=c.substr(d+1),l=c!==i.data.substr(d+1))}return{tagName:c,tagExp:o,closeIndex:s,attrExpPresent:l,rawTagName:u}}function Gwt(t,e,r){let n=r,i=1;for(;r<t.length;r++)if(t[r]==="<")if(t[r+1]==="/"){let o=Bb(t,">",r,`${e} is not closed`);if(t.substring(r+2,o).trim()===e&&(i--,i===0))return{tagContent:t.substring(n,r),i:o};r=o}else if(t[r+1]==="?")r=Bb(t,"?>",r+1,"StopNode is not closed.");else if(t.substr(r+1,3)==="!--")r=Bb(t,"-->",r+3,"StopNode is not closed.");else if(t.substr(r+1,2)==="![")r=Bb(t,"]]>",r,"StopNode is not closed.")-2;else{let o=WY(t,r,">");o&&((o&&o.tagName)===e&&o.tagExp[o.tagExp.length-1]!=="/"&&i++,r=o.closeIndex)}}function JY(t,e,r){if(e&&typeof t=="string"){let n=t.trim();return n==="true"?!0:n==="false"?!1:jY(t,r)}else return MIe(t)?t:""}var rR,Lwt,$wt,Fwt,WIe=b(()=>{"use strict";z7();V7();GIe();jIe();qIe();rR=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,16))}},this.addExternalEntities=kwt,this.parseXml=$wt,this.parseTextData=Dwt,this.resolveNameSpace=Mwt,this.buildAttributesMap=Bwt,this.isItStopNode=Hwt,this.replaceEntitiesValue=Fwt,this.readStopNodeData=Gwt,this.saveTextToParentTag=zwt,this.addChild=Uwt,this.ignoreAttributesFn=qY(this.options.ignoreAttributes)}};Lwt=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");$wt=function(t){t=t.replace(/\r\n?/g,`
`);let e=new il("!xml"),r=e,n="",i="";for(let o=0;o<t.length;o++)if(t[o]==="<")if(t[o+1]==="/"){let a=Bb(t,">",o,"Closing Tag is not closed."),c=t.substring(o+2,a).trim();if(this.options.removeNSPrefix){let d=c.indexOf(":");d!==-1&&(c=c.substr(d+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,i));let l=i.substring(i.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let u=0;l&&this.options.unpairedTags.indexOf(l)!==-1?(u=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):u=i.lastIndexOf("."),i=i.substring(0,u),r=this.tagsNodeStack.pop(),n="",o=a}else if(t[o+1]==="?"){let a=WY(t,o,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,i),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new il(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,i,a.tagName)),this.addChild(r,c,i,o)}o=a.closeIndex+1}else if(t.substr(o+1,3)==="!--"){let a=Bb(t,"-->",o+4,"Comment is not closed.");if(this.options.commentPropName){let c=t.substring(o+4,a-2);n=this.saveTextToParentTag(n,r,i),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}o=a}else if(t.substr(o+1,2)==="!D"){let a=VY(t,o);this.docTypeEntities=a.entities,o=a.i}else if(t.substr(o+1,2)==="!["){let a=Bb(t,"]]>",o,"CDATA is not closed.")-2,c=t.substring(o+9,a);n=this.saveTextToParentTag(n,r,i);let l=this.parseTextData(c,r.tagname,i,!0,!1,!0,!0);l==null&&(l=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):r.add(this.options.textNodeName,l),o=a+2}else{let a=WY(t,o,this.options.removeNSPrefix),c=a.tagName,l=a.rawTagName,u=a.tagExp,d=a.attrExpPresent,p=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,i,!1));let f=r;f&&this.options.unpairedTags.indexOf(f.tagname)!==-1&&(r=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),c!==e.tagname&&(i+=i?"."+c:c);let h=o;if(this.isItStopNode(this.options.stopNodes,i,c)){let m="";if(u.length>0&&u.lastIndexOf("/")===u.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),i=i.substr(0,i.length-1),u=c):u=u.substr(0,u.length-1),o=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)o=a.closeIndex;else{let y=this.readStopNodeData(t,l,p+1);if(!y)throw new Error(`Unexpected end of ${l}`);o=y.i,m=y.tagContent}let g=new il(c);c!==u&&d&&(g[":@"]=this.buildAttributesMap(u,i,c)),m&&(m=this.parseTextData(m,c,i,!0,d,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),g.add(this.options.textNodeName,m),this.addChild(r,g,i,h)}else{if(u.length>0&&u.lastIndexOf("/")===u.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),i=i.substr(0,i.length-1),u=c):u=u.substr(0,u.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let m=new il(c);c!==u&&d&&(m[":@"]=this.buildAttributesMap(u,i,c)),this.addChild(r,m,i,h),i=i.substr(0,i.lastIndexOf("."))}else{let m=new il(c);this.tagsNodeStack.push(r),c!==u&&d&&(m[":@"]=this.buildAttributesMap(u,i,c)),this.addChild(r,m,i,h),r=m}n="",o=p}}else n+=t[o];return e.child};Fwt=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){let r=this.docTypeEntities[e];t=t.replace(r.regx,r.val)}for(let e in this.lastEntities){let r=this.lastEntities[e];t=t.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){let r=this.htmlEntities[e];t=t.replace(r.regex,r.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t}});function QY(t,e){return JIe(t,e)}function JIe(t,e,r){let n,i={};for(let o=0;o<t.length;o++){let s=t[o],a=jwt(s),c="";if(r===void 0?c=a:c=r+"."+a,a===e.textNodeName)n===void 0?n=s[a]:n+=""+s[a];else{if(a===void 0)continue;if(s[a]){let l=JIe(s[a],e,c),u=Wwt(l,e);s[KY]!==void 0&&(l[KY]=s[KY]),s[":@"]?qwt(l,s[":@"],c,e):Object.keys(l).length===1&&l[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?l=l[e.textNodeName]:Object.keys(l).length===0&&(e.alwaysCreateTextNode?l[e.textNodeName]="":l=""),i[a]!==void 0&&i.hasOwnProperty(a)?(Array.isArray(i[a])||(i[a]=[i[a]]),i[a].push(l)):e.isArray(a,c,u)?i[a]=[l]:i[a]=l}}}return typeof n=="string"?n.length>0&&(i[e.textNodeName]=n):n!==void 0&&(i[e.textNodeName]=n),i}function jwt(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=e[r];if(n!==":@")return n}}function qwt(t,e,r,n){if(e){let i=Object.keys(e),o=i.length;for(let s=0;s<o;s++){let a=i[s];n.isArray(a,r+"."+a,!0,!0)?t[a]=[e[a]]:t[a]=e[a]}}}function Wwt(t,e){let{textNodeName:r}=e,n=Object.keys(t).length;return!!(n===0||n===1&&(t[r]||typeof t[r]=="boolean"||t[r]===0))}var KY,KIe=b(()=>{"use strict";V7();KY=il.getMetaDataSymbol()});var Hx,QIe=b(()=>{"use strict";VIe();WIe();KIe();zIe();V7();Hx=class{constructor(e){this.externalEntities={},this.options=HIe(e)}parse(e,r){if(typeof e!="string")if(e.toString)e=e.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let o=FIe(e,r);if(o!==!0)throw Error(`${o.err.msg}:${o.err.line}:${o.err.col}`)}let n=new rR(this.options);n.addExternalEntities(this.externalEntities);let i=n.parseXml(e);return this.options.preserveOrder||i===void 0?i:QY(i,this.options)}addEntity(e,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=r}static getMetaDataSymbol(){return il.getMetaDataSymbol()}}});var XIe=b(()=>{"use strict";QIe()});function YY(t){return XY.parse(t,!0)}var XY,YIe=b(()=>{"use strict";XIe();XY=new Hx({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(t,e)=>e.trim()===""&&e.includes(`
`)?"":void 0});XY.addEntity("#xD","\r");XY.addEntity("#10",`
`)});var ZIe=b(()=>{"use strict";kIe();PIe();YIe()});var j7,ZY=b(()=>{"use strict";ZIe();Rm();gn();Te();Yi();Bx();FY();j7=class extends du{settings;stringDeserializer;constructor(e){super(),this.settings=e,this.stringDeserializer=new kx(e)}setSerdeContext(e){this.serdeContext=e,this.stringDeserializer.setSerdeContext(e)}read(e,r,n){let i=er.of(e),o=i.getMemberSchemas();if(i.isStructSchema()&&i.isMemberSchema()&&!!Object.values(o).find(l=>!!l.getMemberTraits().eventPayload)){let l={},u=Object.keys(o)[0];return o[u].isBlobSchema()?l[u]=r:l[u]=this.read(o[u],r),l}let a=(this.serdeContext?.utf8Encoder??jn)(r),c=this.parseXml(a);return this.readSchema(e,n?c[n]:c)}readSchema(e,r){let n=er.of(e);if(n.isUnitSchema())return;let i=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let o=!!i.sparse,s=!!i.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),l=[],u=c.getMergedTraits().xmlName??"member",d=s?r:(r[0]??r)[u],p=Array.isArray(d)?d:[d];for(let f of p)(f!=null||o)&&l.push(this.readSchema(c,f));return l}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),l=n.getValueSchema(),u;s?u=Array.isArray(r)?r:[r]:u=Array.isArray(r.entry)?r.entry:[r.entry];let d=c.getMergedTraits().xmlName??"key",p=l.getMergedTraits().xmlName??"value";for(let f of u){let h=f[d],m=f[p];(m!=null||o)&&(a[h]=this.readSchema(l,m))}return a}if(n.isStructSchema()){let c=n.isUnionSchema(),l;c&&(l=new $x(r,a));for(let[u,d]of n.structIterator()){let p=d.getMergedTraits(),f=p.httpPayload?p.xmlName??d.getName():d.getMemberTraits().xmlName??u;c&&l.mark(f),r[f]!=null&&(a[u]=this.readSchema(d,r[f]))}return c&&l.writeUnknown(),a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(e){if(e.length){let r;try{r=YY(e)}catch(s){throw s&&typeof s=="object"&&Object.defineProperty(s,"$responseBodyText",{value:e}),s}let n="#text",i=Object.keys(r)[0],o=r[i];return o[n]&&(o[i]=o[n],delete o[n]),UY(o)}return{}}}});var q7,e3e=b(()=>{"use strict";Rm();gn();Jp();Te();Js();Bx();q7=class extends du{settings;buffer;constructor(e){super(),this.settings=e}write(e,r,n=""){this.buffer===void 0&&(this.buffer="");let i=er.of(e);if(n&&!n.endsWith(".")&&(n+="."),i.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??qn)(r)));else if(i.isBooleanSchema()||i.isNumericSchema()||i.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):i.isIdempotencyToken()&&(this.writeKey(n),this.writeValue(Em()));else if(i.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(i.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof Yo?r.string:String(r)));else if(i.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),Qp(i,this.settings)){case 5:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue(Cx(r));break;case 7:this.writeValue(String(r.getTime()/1e3));break}}else if(i.isDocumentSchema())Array.isArray(r)?this.write(79,r,n):r instanceof Date?this.write(4,r,n):r instanceof Uint8Array?this.write(21,r,n):r&&typeof r=="object"?this.write(143,r,n):(this.writeKey(n),this.writeValue(String(r)));else if(i.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let o=i.getValueSchema(),s=this.settings.flattenLists||i.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let l=this.getKey("member",o.getMergedTraits().xmlName),u=s?`${n}${a}`:`${n}${l}.${a}`;this.write(o,c,u),++a}}}else if(i.isMapSchema()){if(r&&typeof r=="object"){let o=i.getKeySchema(),s=i.getValueSchema(),a=i.getMergedTraits().xmlFlattened,c=1;for(let[l,u]of Object.entries(r)){if(u==null)continue;let d=this.getKey("key",o.getMergedTraits().xmlName),p=a?`${n}${c}.${d}`:`${n}entry.${c}.${d}`,f=this.getKey("value",s.getMergedTraits().xmlName),h=a?`${n}${c}.${f}`:`${n}entry.${c}.${f}`;this.write(o,l,p),this.write(s,u,h),++c}}}else if(i.isStructSchema()){if(r&&typeof r=="object"){let o=!1;for(let[s,a]of i.structIterator()){if(r[s]==null&&!a.isIdempotencyToken())continue;let c=this.getKey(s,a.getMergedTraits().xmlName),l=`${n}${c}`;this.write(a,r[s],l),o=!0}if(!o&&i.isUnionSchema()){let{$unknown:s}=r;if(Array.isArray(s)){let[a,c]=s,l=`${n}${a}`;this.write(15,c,l)}}}}else if(!i.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${i.getName(!0)}`)}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let e=this.buffer;return delete this.buffer,e}getKey(e,r){let n=r??e;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(e){e.endsWith(".")&&(e=e.slice(0,e.length-1)),this.buffer+=`&${Tx(e)}=`}writeValue(e){this.buffer+=Tx(e)}}});var W7,t3e=b(()=>{"use strict";Rm();gn();k7();ZY();e3e();W7=class extends Px{options;serializer;deserializer;mixin=new g0;constructor(e){super({defaultNamespace:e.defaultNamespace}),this.options=e;let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:e.xmlNamespace,serviceNamespace:e.defaultNamespace,serializeEmptyLists:!0};this.serializer=new q7(r),this.deserializer=new j7(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(e){this.serializer.setSerdeContext(e),this.deserializer.setSerdeContext(e)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(e,r,n){let i=await super.serializeRequest(e,r,n);i.path.endsWith("/")||(i.path+="/"),Object.assign(i.headers,{"content-type":"application/x-www-form-urlencoded"}),(p0(e.input)==="unit"||!i.body)&&(i.body="");let o=e.name.split("#")[1]??e.name;return i.body=`Action=${o}&Version=${this.options.version}`+i.body,i.body.endsWith("&")&&(i.body=i.body.slice(-1)),i}async deserializeResponse(e,r,n){let i=this.deserializer,o=er.of(e.output),s={};if(n.statusCode>=300){let d=await cc(n.body,r);d.byteLength>0&&Object.assign(s,await i.read(15,d)),await this.handleError(e,r,n,s,this.deserializeMetadata(n))}for(let d in n.headers){let p=n.headers[d];delete n.headers[d],n.headers[d.toLowerCase()]=p}let a=e.name.split("#")[1]??e.name,c=o.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,l=await cc(n.body,r);return l.byteLength>0&&Object.assign(s,await i.read(o,l,c)),{$metadata:this.deserializeMetadata(n),...s}}useNestedResult(){return!0}async handleError(e,r,n,i,o){let s=this.loadQueryErrorCode(n,i)??"Unknown",a=this.loadQueryError(i),c=this.loadQueryErrorMessage(i);a.message=c,a.Error={Type:a.Type,Code:a.Code,Message:c};let{errorSchema:l,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(s,this.options.defaultNamespace,n,a,o,this.mixin.findQueryCompatibleError),d=er.of(l),p=je.for(l[1]).getErrorCtor(l)??Error,f=new p(c),h={Type:a.Error.Type,Code:a.Error.Code,Error:a.Error};for(let[m,g]of d.structIterator()){let y=g.getMergedTraits().xmlName??m,v=a[y]??i[y];h[m]=this.deserializer.readSchema(g,v)}throw this.mixin.decorateServiceException(Object.assign(f,u,{$fault:d.getMergedTraits().error,message:c},h),i)}loadQueryErrorCode(e,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(e.statusCode==404)return"NotFound"}loadQueryError(e){return e.Errors?.[0]?.Error??e.Errors?.Error??e.Error}loadQueryErrorMessage(e){let r=this.loadQueryError(e);return r?.message??r?.Message??e.message??e.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var r3e=b(()=>{"use strict"});var n3e=b(()=>{"use strict"});var i3e=b(()=>{"use strict"});var o3e=b(()=>{"use strict"});var s3e=b(()=>{"use strict"});var Nm=b(()=>{"use strict";vIe();_Ie();IIe();CIe();B7();NIe();L7();zY();HY();OIe();Z6();r3e();t3e();s3e();o3e();ZY();i3e();n3e()});var wo=b(()=>{"use strict";ys();zRe();Nm()});async function a3e(t,e,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&Md(t,"PROTOCOL_RPC_V2_CBOR","M"),typeof e.retryStrategy=="function"){let o=await e.retryStrategy();typeof o.acquireInitialRetryToken=="function"?o.constructor?.name?.includes("Adaptive")?Md(t,"RETRY_MODE_ADAPTIVE","F"):Md(t,"RETRY_MODE_STANDARD","E"):Md(t,"RETRY_MODE_LEGACY","D")}if(typeof e.accountIdEndpointMode=="function"){let o=t.endpointV2;switch(String(o?.url?.hostname).match(Jwt)&&Md(t,"ACCOUNT_ID_ENDPOINT","O"),await e.accountIdEndpointMode?.()){case"disabled":Md(t,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":Md(t,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":Md(t,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let i=t.__smithy_context?.selectedHttpAuthScheme?.identity;if(i?.$source){let o=i;o.accountId&&Md(t,"RESOLVED_ACCOUNT_ID","T");for(let[s,a]of Object.entries(o.$source??{}))Md(t,s,a)}}var Jwt,c3e=b(()=>{"use strict";wo();Jwt=/\d{12}\.ddb/});var eZ,J7,l3e,u3e,d3e=b(()=>{"use strict";eZ="user-agent",J7="x-amz-user-agent",l3e=/[^!$%&'*+\-.^_`|~\w]/g,u3e=/[^!$%&'*+\-.^_`|~\w#]/g});function p3e(t){let e="";for(let r in t){let n=t[r];if(e.length+n.length+1<=1024){e.length?e+=","+n:e+=n;continue}break}return e}var f3e=b(()=>{"use strict"});var Kwt,K7,Qwt,pu,g3e=b(()=>{"use strict";f0();pi();c3e();d3e();f3e();Kwt=t=>(e,r)=>async n=>{let{request:i}=n;if(!mn.isInstance(i))return e(n);let{headers:o}=i,s=r?.userAgent?.map(K7)||[],a=(await t.defaultUserAgentProvider()).map(K7);await a3e(r,t,n);let c=r;a.push(`m/${p3e(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let l=t?.customUserAgent?.map(K7)||[],u=await t.userAgentAppId();u&&a.push(K7(["app",`${u}`]));let d=x6e(),p=(d?[d]:[]).concat([...a,...s,...l]).join(" "),f=[...a.filter(h=>h.startsWith("aws-sdk-")),...l].join(" ");return t.runtime!=="browser"?(f&&(o[J7]=o[J7]?`${o[eZ]} ${f}`:f),o[eZ]=p):o[J7]=p,e({...n,request:i})},K7=t=>{let e=t[0].split("/").map(s=>s.replace(l3e,"-")).join("/"),r=t[1]?.replace(u3e,"-"),n=e.indexOf("/"),i=e.substring(0,n),o=e.substring(n+1);return i==="api"&&(o=o.toLowerCase()),[i,o,r].filter(s=>s&&s.length>0).reduce((s,a,c)=>{switch(c){case 0:return a;case 1:return`${s}/${a}`;default:return`${s}#${a}`}},"")},Qwt={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},pu=t=>({applyToStack:e=>{e.add(Kwt(t),Qwt)}})});var _0=b(()=>{"use strict";v4e();g3e()});var Vx,y3e=b(()=>{"use strict";Vx=(t,e,r)=>{if(e in t){if(t[e]==="true")return!0;if(t[e]==="false")return!1;throw new Error(`Cannot load ${r} "${e}". Expected "true" or "false", got ${t[e]}.`)}}});var b3e=b(()=>{"use strict"});var S0,v3e=b(()=>{"use strict";(function(t){t.ENV="env",t.CONFIG="shared config entry"})(S0||(S0={}))});var rZ=b(()=>{"use strict";y3e();b3e();v3e()});var Xwt,Ywt,fu,_3e=b(()=>{"use strict";rZ();Xwt="AWS_USE_DUALSTACK_ENDPOINT",Ywt="use_dualstack_endpoint",fu={environmentVariableSelector:t=>Vx(t,Xwt,S0.ENV),configFileSelector:t=>Vx(t,Ywt,S0.CONFIG),default:!1}});var Zwt,eAt,mu,S3e=b(()=>{"use strict";rZ();Zwt="AWS_USE_FIPS_ENDPOINT",eAt="use_fips_endpoint",mu={environmentVariableSelector:t=>Vx(t,Zwt,S0.ENV),configFileSelector:t=>Vx(t,eAt,S0.CONFIG),default:!1}});var x3e=b(()=>{"use strict"});var w3e=b(()=>{"use strict"});var A3e=b(()=>{"use strict";_3e();S3e();x3e();w3e()});var tAt,rAt,Ys,fc,E3e=b(()=>{"use strict";tAt="AWS_REGION",rAt="region",Ys={environmentVariableSelector:t=>t[tAt],configFileSelector:t=>t[rAt],default:()=>{throw new Error("Region is missing")}},fc={preferredFile:"credentials"}});var T3e,R3e,I3e=b(()=>{"use strict";Dd();T3e=new Set,R3e=(t,e=kb)=>{if(!T3e.has(t)&&!e(t))if(t==="*")console.warn('@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.');else throw new Error(`Region not accepted: region="${t}" is not a valid hostname component.`);else T3e.add(t)}});var Q7,nZ=b(()=>{"use strict";Q7=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips"))});var C3e,N3e=b(()=>{"use strict";nZ();C3e=t=>Q7(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t});var hu,O3e=b(()=>{"use strict";I3e();N3e();nZ();hu=t=>{let{region:e,useFipsEndpoint:r}=t;if(!e)throw new Error("Region is missing");return Object.assign(t,{region:async()=>{let n=typeof e=="function"?await e():e,i=C3e(n);return R3e(i),i},useFipsEndpoint:async()=>{let n=typeof e=="string"?e:await e();return Q7(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})}});var P3e=b(()=>{"use strict";E3e();O3e()});var k3e=b(()=>{"use strict"});var D3e=b(()=>{"use strict"});var M3e=b(()=>{"use strict"});var L3e=b(()=>{"use strict";k3e();D3e();M3e()});var Ia=b(()=>{"use strict";A3e();P3e();L3e()});function nAt(t){return e=>async r=>{let n=r.request;if(mn.isInstance(n)){let{body:i,headers:o}=n;if(i&&Object.keys(o).map(s=>s.toLowerCase()).indexOf(B3e)===-1)try{let s=t(i);n.headers={...n.headers,[B3e]:String(s)}}catch{}}return e({...r,request:n})}}var B3e,iAt,gu,$b=b(()=>{"use strict";pi();B3e="content-length";iAt={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},gu=t=>({applyToStack:e=>{e.add(nAt(t.bodyLengthChecker),iAt)}})});var $3e,oAt,sAt,aAt,cAt,lAt,U3e=b(()=>{"use strict";$3e=async t=>{let e=t?.Bucket||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),lAt(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!cAt(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t},oAt=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,sAt=/(\d+\.){3}\d+/,aAt=/\.\./,cAt=t=>oAt.test(t)&&!sAt.test(t)&&!aAt.test(t),lAt=t=>{let[e,r,n,,,i]=t.split(":"),o=e==="arn"&&t.split(":").length>=6,s=!!(o&&r&&n&&i);if(o&&!s)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return s}});var F3e=b(()=>{"use strict";U3e()});var z3e,H3e=b(()=>{"use strict";z3e=(t,e,r,n=!1)=>{let i=async()=>{let o;return n?o=r.clientContextParams?.[t]??r[t]??r[e]:o=r[t]??r[e],typeof o=="function"?o():o};return t==="credentialScope"||e==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:t==="accountId"||e==="AccountId"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.accountId??o?.AccountId}:t==="endpoint"||e==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let o=await i();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:s,hostname:a,port:c,path:l}=o;return`${s}//${a}${c?":"+c:""}${l}`}}return o}:i}});function X7(t){try{let e=new Set(Array.from(t.match(/([A-Z_]){3,}/g)??[]));return e.delete("CONFIG"),e.delete("CONFIG_PREFIX_SEPARATOR"),e.delete("ENV"),[...e].join(", ")}catch{return t}}var iZ=b(()=>{"use strict"});var V3e,G3e=b(()=>{"use strict";xn();iZ();V3e=(t,e)=>async()=>{try{let r=t(process.env,e);if(r===void 0)throw new Error;return r}catch(r){throw new _t(r.message||`Not found in ENV: ${X7(t.toString())}`,{logger:e?.logger})}}});import{homedir as uAt}from"os";import{sep as dAt}from"path";var oZ,pAt,x0,Gx=b(()=>{"use strict";oZ={},pAt=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",x0=()=>{let{HOME:t,USERPROFILE:e,HOMEPATH:r,HOMEDRIVE:n=`C:${dAt}`}=process.env;if(t)return t;if(e)return e;if(r)return`${n}${r}`;let i=pAt();return oZ[i]||(oZ[i]=uAt()),oZ[i]}});var sZ,fAt,mc,j3e=b(()=>{"use strict";sZ="AWS_PROFILE",fAt="default",mc=t=>t.profile||process.env[sZ]||fAt});import{createHash as mAt}from"crypto";import{join as hAt}from"path";var Y7,aZ=b(()=>{"use strict";Gx();Y7=t=>{let r=mAt("sha1").update(t).digest("hex");return hAt(x0(),".aws","sso","cache",`${r}.json`)}});import{readFile as gAt}from"fs/promises";var nR,iR,cZ=b(()=>{"use strict";aZ();nR={},iR=async t=>{if(nR[t])return nR[t];let e=Y7(t),r=await gAt(e,"utf8");return JSON.parse(r)}});var q3e,W3e=b(()=>{"use strict";d0();q3e=t=>Object.entries(t).filter(([e])=>{let r=e.indexOf(".");return r===-1?!1:Object.values(Sm).includes(e.substring(0,r))}).reduce((e,[r,n])=>{let i=r.indexOf("."),o=r.substring(0,i)===Sm.PROFILE?r.substring(i+1):r;return e[o]=n,e},{...t.default&&{default:t.default}})});import{join as yAt}from"path";var bAt,Z7,lZ=b(()=>{"use strict";Gx();bAt="AWS_CONFIG_FILE",Z7=()=>process.env[bAt]||yAt(x0(),".aws","config")});import{join as vAt}from"path";var _At,J3e,K3e=b(()=>{"use strict";Gx();_At="AWS_SHARED_CREDENTIALS_FILE",J3e=()=>process.env[_At]||vAt(x0(),".aws","credentials")});var SAt,xAt,oR,uZ=b(()=>{"use strict";d0();SAt=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,xAt=["__proto__","profile __proto__"],oR=t=>{let e={},r,n;for(let i of t.split(/\r?\n/)){let o=i.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){r=void 0,n=void 0;let a=o.substring(1,o.length-1),c=SAt.exec(a);if(c){let[,l,,u]=c;Object.values(Sm).includes(l)&&(r=[l,u].join("."))}else r=a;if(xAt.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=o.indexOf("=");if(![0,-1].includes(a)){let[c,l]=[o.substring(0,a).trim(),o.substring(a+1).trim()];if(l==="")n=c;else{n&&i.trimStart()===i&&(n=void 0),e[r]=e[r]||{};let u=n?[n,c].join("."):c;e[r][u]=l}}}}return e}});import{readFile as wAt}from"node:fs/promises";var dZ,sR,w0,aR=b(()=>{"use strict";dZ={},sR={},w0=(t,e)=>sR[t]!==void 0?sR[t]:((!dZ[t]||e?.ignoreCache)&&(dZ[t]=wAt(t,"utf8")),dZ[t])});import{join as Q3e}from"path";var X3e,eD,pZ=b(()=>{"use strict";W3e();lZ();K3e();Gx();uZ();aR();X3e=()=>({}),eD=async(t={})=>{let{filepath:e=J3e(),configFilepath:r=Z7()}=t,n=x0(),i="~/",o=e;e.startsWith(i)&&(o=Q3e(n,e.slice(2)));let s=r;r.startsWith(i)&&(s=Q3e(n,r.slice(2)));let a=await Promise.all([w0(s,{ignoreCache:t.ignoreCache}).then(oR).then(q3e).catch(X3e),w0(o,{ignoreCache:t.ignoreCache}).then(oR).catch(X3e)]);return{configFile:a[0],credentialsFile:a[1]}}});var Y3e,Z3e=b(()=>{"use strict";d0();Y3e=t=>Object.entries(t).filter(([e])=>e.startsWith(Sm.SSO_SESSION+".")).reduce((e,[r,n])=>({...e,[r.substring(r.indexOf(".")+1)]:n}),{})});var AAt,tD,e5e=b(()=>{"use strict";lZ();Z3e();uZ();aR();AAt=()=>({}),tD=async(t={})=>w0(t.configFilepath??Z7()).then(oR).then(Y3e).catch(AAt)});var t5e,r5e=b(()=>{"use strict";t5e=(...t)=>{let e={};for(let r of t)for(let[n,i]of Object.entries(r))e[n]!==void 0?Object.assign(e[n],i):e[n]=i;return e}});var Xp,n5e=b(()=>{"use strict";pZ();r5e();Xp=async t=>{let e=await eD(t);return t5e(e.configFile,e.credentialsFile)}});var cR,i5e=b(()=>{"use strict";cZ();aR();cR={getFileRecord(){return sR},interceptFile(t,e){sR[t]=Promise.resolve(e)},getTokenRecord(){return nR},interceptToken(t,e){nR[t]=e}}});var o5e=b(()=>{"use strict"});var hc=b(()=>{"use strict";Gx();j3e();aZ();cZ();pZ();e5e();n5e();i5e();o5e();aR()});var s5e,a5e=b(()=>{"use strict";xn();hc();iZ();s5e=(t,{preferredFile:e="config",...r}={})=>async()=>{let n=mc(r),{configFile:i,credentialsFile:o}=await eD(r),s=o[n]||{},a=i[n]||{},c=e==="config"?{...s,...a}:{...a,...s};try{let u=t(c,e==="config"?i:o);if(u===void 0)throw new Error;return u}catch(l){throw new _t(l.message||`Not found in config files w/ profile [${n}]: ${X7(t.toString())}`,{logger:r.logger})}}});var EAt,c5e,l5e=b(()=>{"use strict";xn();EAt=t=>typeof t=="function",c5e=t=>EAt(t)?async()=>await t():tRe(t)});var Ot,u5e=b(()=>{"use strict";xn();G3e();a5e();l5e();Ot=({environmentVariableSelector:t,configFileSelector:e,default:r},n={})=>{let{signingName:i,logger:o}=n;return E7(Mx(V3e(t,{signingName:i,logger:o}),s5e(e,n),c5e(r)))}});var yu=b(()=>{"use strict";u5e()});var d5e,p5e,f5e,m5e=b(()=>{"use strict";d5e="AWS_ENDPOINT_URL",p5e="endpoint_url",f5e=t=>({environmentVariableSelector:e=>{let r=t.split(" ").map(o=>o.toUpperCase()),n=e[[d5e,...r].join("_")];if(n)return n;let i=e[d5e];if(i)return i},configFileSelector:(e,r)=>{if(r&&e.services){let i=r[["services",e.services].join(".")];if(i){let o=t.split(" ").map(a=>a.toLowerCase()),s=i[[o.join("_"),p5e].join(".")];if(s)return s}}let n=e[p5e];if(n)return n},default:void 0})});var rD,fZ=b(()=>{"use strict";yu();m5e();rD=async t=>Ot(f5e(t??""))()});var nD,iD=b(()=>{"use strict";Cm();nD=t=>typeof t=="object"?"url"in t?Zo(t.url):t:Zo(t)});var h5e,TAt,mZ=b(()=>{"use strict";F3e();H3e();fZ();iD();h5e=async(t,e,r,n)=>{if(!r.isCustomEndpoint){let s;r.serviceConfiguredEndpoint?s=await r.serviceConfiguredEndpoint():s=await rD(r.serviceId),s&&(r.endpoint=()=>Promise.resolve(nD(s)),r.isCustomEndpoint=!0)}let i=await TAt(t,e,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(i,n)},TAt=async(t,e,r)=>{let n={},i=e?.getEndpointParameterInstructions?.()||{};for(let[o,s]of Object.entries(i))switch(s.type){case"staticContextParams":n[o]=s.value;break;case"contextParams":n[o]=t[s.name];break;case"clientContextParams":case"builtInParams":n[o]=await z3e(s.name,o,r,s.type!=="builtInParams")();break;case"operationContextParams":n[o]=s.get(t);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(s))}return Object.keys(i).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await $3e(n),n}});var g5e=b(()=>{"use strict";mZ();iD()});var y5e,hZ=b(()=>{"use strict";Wn();Ws();mZ();y5e=({config:t,instructions:e})=>(r,n)=>async i=>{t.isCustomEndpoint&&c4e(n,"ENDPOINT_OVERRIDE","N");let o=await h5e(i.input,{getEndpointParameterInstructions(){return e}},{...t},n);n.endpointV2=o,n.authSchemes=o.properties?.authSchemes;let s=n.authSchemes?.[0];if(s){n.signing_region=s.signingRegion,n.signing_service=s.signingName;let c=$i(n)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:s.signingRegion,signingRegion:s.signingRegion,signing_service:s.signingName,signingName:s.signingName,signingRegionSet:s.signingRegionSet},s.properties))}return r({...i})}});var RAt,ce,b5e=b(()=>{"use strict";kX();hZ();RAt={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:t7.name},ce=(t,e)=>({applyToStack:r=>{r.addRelativeTo(y5e({config:t,instructions:e}),RAt)}})});var bu,v5e=b(()=>{"use strict";Ws();fZ();iD();bu=t=>{let e=t.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:i}=t,o=r!=null?async()=>nD(await hn(r)()):void 0,a=Object.assign(t,{endpoint:o,tls:e,isCustomEndpoint:!!r,useDualstackEndpoint:hn(n??!1),useFipsEndpoint:hn(i??!1)}),c;return a.serviceConfiguredEndpoint=async()=>(t.serviceId&&!c&&(c=rD(t.serviceId)),c),a}});var _5e=b(()=>{"use strict"});var S5e=b(()=>{"use strict"});var We=b(()=>{"use strict";g5e();hZ();b5e();v5e();_5e();S5e()});var Om,jx,gc,oD=b(()=>{"use strict";(function(t){t.STANDARD="standard",t.ADAPTIVE="adaptive"})(Om||(Om={}));jx=3,gc=Om.STANDARD});var x5e,w5e,A5e,E5e,T5e,R5e=b(()=>{"use strict";x5e=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],w5e=["TimeoutError","RequestTimeout","RequestTimeoutException"],A5e=[500,502,503,504],E5e=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],T5e=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"]});var IAt,CAt,NAt,sD,aD,I5e,gZ=b(()=>{"use strict";R5e();IAt=t=>t?.$retryable!==void 0,CAt=t=>t.$metadata?.clockSkewCorrected,NAt=t=>{let e=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return t&&t instanceof TypeError?e.has(t.message):!1},sD=t=>t.$metadata?.httpStatusCode===429||x5e.includes(t.name)||t.$retryable?.throttling==!0,aD=(t,e=0)=>IAt(t)||CAt(t)||w5e.includes(t.name)||E5e.includes(t?.code||"")||T5e.includes(t?.code||"")||A5e.includes(t.$metadata?.httpStatusCode||0)||NAt(t)||t.cause!==void 0&&e<=10&&aD(t.cause,e+1),I5e=t=>{if(t.$metadata?.httpStatusCode!==void 0){let e=t.$metadata.httpStatusCode;return 500<=e&&e<=599&&!aD(t)}return!1}});var cD,yZ=b(()=>{"use strict";gZ();cD=class t{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(e){this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){let r=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>t.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){let e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}let r=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=e}updateClientSendingRate(e){let r;if(this.updateMeasuredRate(),sD(e)){let i=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=i,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(i),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let e=this.getCurrentTimeInSeconds(),r=Math.floor(e*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(e){return parseFloat(e.toFixed(8))}}});var C5e,N5e,O5e=b(()=>{"use strict";C5e="amz-sdk-invocation-id",N5e="amz-sdk-request"});var k5e,D5e=b(()=>{"use strict";k5e=()=>{let t=100;return{computeNextBackoffDelay:n=>Math.floor(Math.min(2e4,Math.random()*2**n*t)),setDelayBase:n=>{t=n}}}});var bZ,M5e=b(()=>{"use strict";bZ=({retryDelay:t,retryCount:e,retryCost:r})=>({getRetryCount:()=>e,getRetryDelay:()=>Math.min(2e4,t),getRetryCost:()=>r})});var qx,vZ=b(()=>{"use strict";oD();D5e();M5e();qx=class{maxAttempts;mode=Om.STANDARD;capacity=500;retryBackoffStrategy=k5e();maxAttemptsProvider;constructor(e){this.maxAttempts=e,this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}async acquireInitialRetryToken(e){return bZ({retryDelay:100,retryCount:0})}async refreshRetryTokenForRetry(e,r){let n=await this.getMaxAttempts();if(this.shouldRetry(e,r,n)){let i=r.errorType;this.retryBackoffStrategy.setDelayBase(i==="THROTTLING"?500:100);let o=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),s=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,o):o,a=this.getCapacityCost(i);return this.capacity-=a,bZ({retryDelay:s,retryCount:e.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(500,this.capacity+(e.getRetryCost()??1))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${jx}`),jx}}shouldRetry(e,r,n){return e.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(e){return e==="TRANSIENT"?10:5}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}}});var lD,L5e=b(()=>{"use strict";oD();yZ();vZ();lD=class{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=Om.ADAPTIVE;constructor(e,r){this.maxAttemptsProvider=e;let{rateLimiter:n}=r??{};this.rateLimiter=n??new cD,this.standardRetryStrategy=new qx(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(e,r)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}});var B5e=b(()=>{"use strict"});var $5e=b(()=>{"use strict"});var Pm=b(()=>{"use strict";L5e();B5e();yZ();vZ();oD();O5e();$5e()});var U5e=b(()=>{"use strict"});var F5e=b(()=>{"use strict"});var z5e,H5e=b(()=>{"use strict";z5e=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`)});var V5e=b(()=>{"use strict"});var G5e=b(()=>{"use strict"});var j5e,q5e,vu,_u,kAt,DAt,Su,W5e=b(()=>{"use strict";Ws();Pm();j5e="AWS_MAX_ATTEMPTS",q5e="max_attempts",vu={environmentVariableSelector:t=>{let e=t[j5e];if(!e)return;let r=parseInt(e);if(Number.isNaN(r))throw new Error(`Environment variable ${j5e} mast be a number, got "${e}"`);return r},configFileSelector:t=>{let e=t[q5e];if(!e)return;let r=parseInt(e);if(Number.isNaN(r))throw new Error(`Shared config file entry ${q5e} mast be a number, got "${e}"`);return r},default:jx},_u=t=>{let{retryStrategy:e,retryMode:r,maxAttempts:n}=t,i=hn(n??jx);return Object.assign(t,{maxAttempts:i,retryStrategy:async()=>e||(await hn(r)()===Om.ADAPTIVE?new lD(i):new qx(i))})},kAt="AWS_RETRY_MODE",DAt="retry_mode",Su={environmentVariableSelector:t=>t[kAt],configFileSelector:t=>t[DAt],default:gc}});var J5e=b(()=>{"use strict"});import{Readable as MAt}from"stream";var K5e,Q5e=b(()=>{"use strict";K5e=t=>t?.body instanceof MAt||typeof ReadableStream<"u"&&t?.body instanceof ReadableStream});var LAt,BAt,$At,UAt,FAt,xu,zAt,X5e=b(()=>{"use strict";pi();gZ();Te();Pm();eY();Q5e();H5e();LAt=t=>(e,r)=>async n=>{let i=await t.retryStrategy(),o=await t.maxAttempts();if(BAt(i)){i=i;let s=await i.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,l=0,{request:u}=n,d=mn.isInstance(u);for(d&&(u.headers[C5e]=Em());;)try{d&&(u.headers[N5e]=`attempt=${c+1}; max=${o}`);let{response:p,output:f}=await e(n);return i.recordSuccess(s),f.$metadata.attempts=c+1,f.$metadata.totalRetryDelay=l,{response:p,output:f}}catch(p){let f=$At(p);if(a=z5e(p),d&&K5e(u))throw(r.logger instanceof Xs?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{s=await i.refreshRetryTokenForRetry(s,f)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=l,a}c=s.getRetryCount();let h=s.getRetryDelay();l+=h,await new Promise(m=>setTimeout(m,h))}}else return i=i,i?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",i.mode]]),i.retry(e,n)},BAt=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",$At=t=>{let e={error:t,errorType:UAt(t)},r=zAt(t.$response);return r&&(e.retryAfterHint=r),e},UAt=t=>sD(t)?"THROTTLING":aD(t)?"TRANSIENT":I5e(t)?"SERVER_ERROR":"CLIENT_ERROR",FAt={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},xu=t=>({applyToStack:e=>{e.add(LAt(t),FAt)}}),zAt=t=>{if(!Hl.isInstance(t))return;let e=Object.keys(t.headers).find(o=>o.toLowerCase()==="retry-after");if(!e)return;let r=t.headers[e],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)}});var ol=b(()=>{"use strict";G5e();V5e();W5e();U5e();J5e();F5e();X5e()});function HAt(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"secretsmanager",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}var Y5e,Z5e,e8e,_Z=b(()=>{"use strict";wo();Ws();Y5e=async(t,e,r)=>({operation:$i(e).operation,region:await hn(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Z5e=t=>{let e=[];switch(t.operation){default:e.push(HAt(t))}return e},e8e=t=>{let e=ou(t);return Object.assign(e,{authSchemePreference:hn(t.authSchemePreference??[])})}});var t8e,ar,ni=b(()=>{"use strict";t8e=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"secretsmanager"}),ar={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var n8e,r8e=b(()=>{n8e={name:"@aws-sdk/client-secrets-manager",description:"AWS SDK for JavaScript Secrets Manager Client for Node.js, Browser and React Native",version:"3.980.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-secrets-manager","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"premove dist-cjs dist-es dist-types tsconfig.cjs.tsbuildinfo tsconfig.es.tsbuildinfo tsconfig.types.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo secrets-manager","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"^3.973.5","@aws-sdk/credential-provider-node":"^3.972.4","@aws-sdk/middleware-host-header":"^3.972.3","@aws-sdk/middleware-logger":"^3.972.3","@aws-sdk/middleware-recursion-detection":"^3.972.3","@aws-sdk/middleware-user-agent":"^3.972.5","@aws-sdk/region-config-resolver":"^3.972.3","@aws-sdk/types":"^3.973.1","@aws-sdk/util-endpoints":"3.980.0","@aws-sdk/util-user-agent-browser":"^3.972.3","@aws-sdk/util-user-agent-node":"^3.972.3","@smithy/config-resolver":"^4.4.6","@smithy/core":"^3.22.0","@smithy/fetch-http-handler":"^5.3.9","@smithy/hash-node":"^4.2.8","@smithy/invalid-dependency":"^4.2.8","@smithy/middleware-content-length":"^4.2.8","@smithy/middleware-endpoint":"^4.4.12","@smithy/middleware-retry":"^4.4.29","@smithy/middleware-serde":"^4.2.9","@smithy/middleware-stack":"^4.2.8","@smithy/node-config-provider":"^4.3.8","@smithy/node-http-handler":"^4.4.8","@smithy/protocol-http":"^5.3.8","@smithy/smithy-client":"^4.11.1","@smithy/types":"^4.12.0","@smithy/url-parser":"^4.2.8","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.28","@smithy/util-defaults-mode-node":"^4.2.31","@smithy/util-endpoints":"^3.2.8","@smithy/util-middleware":"^4.2.8","@smithy/util-retry":"^4.2.8","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node20":"20.1.8","@types/node":"^20.14.8",concurrently:"7.0.0","downlevel-dts":"0.10.1",premove:"4.0.0",typescript:"~5.8.3"},engines:{node:">=20.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-secrets-manager",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-secrets-manager"}}});var uD,dD,i8e,o8e,s8e,a8e,SZ,c8e=b(()=>{"use strict";ys();xn();uD="AWS_ACCESS_KEY_ID",dD="AWS_SECRET_ACCESS_KEY",i8e="AWS_SESSION_TOKEN",o8e="AWS_CREDENTIAL_EXPIRATION",s8e="AWS_CREDENTIAL_SCOPE",a8e="AWS_ACCOUNT_ID",SZ=t=>async()=>{t?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let e=process.env[uD],r=process.env[dD],n=process.env[i8e],i=process.env[o8e],o=process.env[s8e],s=process.env[a8e];if(e&&r){let a={accessKeyId:e,secretAccessKey:r,...n&&{sessionToken:n},...i&&{expiration:new Date(i)},...o&&{credentialScope:o},...s&&{accountId:s}};return zr(a,"CREDENTIALS_ENV_VARS","g"),a}throw new _t("Unable to find environment variable credentials.",{logger:t?.logger})}});var l8e={};Nr(l8e,{ENV_ACCOUNT_ID:()=>a8e,ENV_CREDENTIAL_SCOPE:()=>s8e,ENV_EXPIRATION:()=>o8e,ENV_KEY:()=>uD,ENV_SECRET:()=>dD,ENV_SESSION:()=>i8e,fromEnv:()=>SZ});var xZ=b(()=>{"use strict";c8e()});import{Buffer as GAt}from"buffer";import{request as jAt}from"http";function A0(t){return new Promise((e,r)=>{let n=jAt({method:"GET",...t,hostname:t.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",i=>{r(Object.assign(new nu("Unable to connect to instance metadata service"),i)),n.destroy()}),n.on("timeout",()=>{r(new nu("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",i=>{let{statusCode:o=400}=i;(o<200||300<=o)&&(r(Object.assign(new nu("Error response received from instance metadata service"),{statusCode:o})),n.destroy());let s=[];i.on("data",a=>{s.push(a)}),i.on("end",()=>{e(GAt.concat(s)),n.destroy()})}),n.end()})}var pD=b(()=>{"use strict";xn()});var fD,mD,wZ=b(()=>{"use strict";fD=t=>!!t&&typeof t=="object"&&typeof t.AccessKeyId=="string"&&typeof t.SecretAccessKey=="string"&&typeof t.Token=="string"&&typeof t.Expiration=="string",mD=t=>({accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,sessionToken:t.Token,expiration:new Date(t.Expiration),...t.AccountId&&{accountId:t.AccountId}})});var cVr,lVr,lR,hD=b(()=>{"use strict";cVr=1e3,lVr=0,lR=({maxRetries:t=0,timeout:e=1e3})=>({maxRetries:t,timeout:e})});var uR,AZ=b(()=>{"use strict";uR=(t,e)=>{let r=t();for(let n=0;n<e;n++)r=r.catch(t);return r}});import{parse as qAt}from"url";var gD,yD,EZ,WAt,JAt,KAt,QAt,XAt,YAt,u8e=b(()=>{"use strict";xn();pD();wZ();hD();AZ();gD="AWS_CONTAINER_CREDENTIALS_FULL_URI",yD="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",EZ="AWS_CONTAINER_AUTHORIZATION_TOKEN",WAt=(t={})=>{let{timeout:e,maxRetries:r}=lR(t);return()=>uR(async()=>{let n=await YAt({logger:t.logger}),i=JSON.parse(await JAt(e,n));if(!fD(i))throw new _t("Invalid response received from instance metadata service.",{logger:t.logger});return mD(i)},r)},JAt=async(t,e)=>(process.env[EZ]&&(e.headers={...e.headers,Authorization:process.env[EZ]}),(await A0({...e,timeout:t})).toString()),KAt="169.254.170.2",QAt={localhost:!0,"127.0.0.1":!0},XAt={"http:":!0,"https:":!0},YAt=async({logger:t})=>{if(process.env[yD])return{hostname:KAt,path:process.env[yD]};if(process.env[gD]){let e=qAt(process.env[gD]);if(!e.hostname||!(e.hostname in QAt))throw new _t(`${e.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:t});if(!e.protocol||!(e.protocol in XAt))throw new _t(`${e.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:t});return{...e,port:e.port?parseInt(e.port,10):void 0}}throw new _t(`The container metadata credential provider cannot be used unless the ${yD} or ${gD} environment variable is set`,{tryNextLink:!1,logger:t})}});var bD,d8e=b(()=>{"use strict";xn();bD=class t extends _t{tryNextLink;name="InstanceMetadataV1FallbackError";constructor(e,r=!0){super(e,r),this.tryNextLink=r,Object.setPrototypeOf(this,t.prototype)}}});var Fb,TZ=b(()=>{"use strict";(function(t){t.IPv4="http://169.254.169.254",t.IPv6="http://[fd00:ec2::254]"})(Fb||(Fb={}))});var ZAt,eEt,p8e,f8e=b(()=>{"use strict";ZAt="AWS_EC2_METADATA_SERVICE_ENDPOINT",eEt="ec2_metadata_service_endpoint",p8e={environmentVariableSelector:t=>t[ZAt],configFileSelector:t=>t[eEt],default:void 0}});var E0,RZ=b(()=>{"use strict";(function(t){t.IPv4="IPv4",t.IPv6="IPv6"})(E0||(E0={}))});var tEt,rEt,m8e,h8e=b(()=>{"use strict";RZ();tEt="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",rEt="ec2_metadata_service_endpoint_mode",m8e={environmentVariableSelector:t=>t[tEt],configFileSelector:t=>t[rEt],default:E0.IPv4}});var vD,nEt,iEt,IZ=b(()=>{"use strict";yu();Cm();TZ();f8e();RZ();h8e();vD=async()=>Zo(await nEt()||await iEt()),nEt=async()=>Ot(p8e)(),iEt=async()=>{let t=await Ot(m8e)();switch(t){case E0.IPv4:return Fb.IPv4;case E0.IPv6:return Fb.IPv6;default:throw new Error(`Unsupported endpoint mode: ${t}. Select from ${Object.values(E0)}`)}}});var oEt,CZ,g8e=b(()=>{"use strict";oEt="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",CZ=(t,e)=>{let r=300+Math.floor(Math.random()*300),n=new Date(Date.now()+r*1e3);e.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+oEt);let i=t.originalExpiration??t.expiration;return{...t,...i?{originalExpiration:i}:{},expiration:n}}});var y8e,b8e=b(()=>{"use strict";g8e();y8e=(t,e={})=>{let r=e?.logger||console,n;return async()=>{let i;try{i=await t(),i.expiration&&i.expiration.getTime()<Date.now()&&(i=CZ(i,r))}catch(o){if(n)r.warn("Credential renew failed: ",o),i=CZ(n,r);else throw o}return n=i,i}}});var S8e,sEt,NZ,v8e,_8e,aEt,cEt,lEt,uEt,dEt,x8e=b(()=>{"use strict";yu();xn();d8e();pD();wZ();hD();AZ();IZ();b8e();S8e="/latest/meta-data/iam/security-credentials/",sEt="/latest/api/token",NZ="AWS_EC2_METADATA_V1_DISABLED",v8e="ec2_metadata_v1_disabled",_8e="x-aws-ec2-metadata-token",aEt=(t={})=>y8e(cEt(t),{logger:t.logger}),cEt=(t={})=>{let e=!1,{logger:r,profile:n}=t,{timeout:i,maxRetries:o}=lR(t),s=async(a,c)=>{if(e||c.headers?.[_8e]==null){let d=!1,p=!1,f=await Ot({environmentVariableSelector:h=>{let m=h[NZ];if(p=!!m&&m!=="false",m===void 0)throw new _t(`${NZ} not set in env, checking config file next.`,{logger:t.logger});return p},configFileSelector:h=>{let m=h[v8e];return d=!!m&&m!=="false",d},default:!1},{profile:n})();if(t.ec2MetadataV1Disabled||f){let h=[];throw t.ec2MetadataV1Disabled&&h.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),d&&h.push(`config file profile (${v8e})`),p&&h.push(`process environment variable (${NZ})`),new bD(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${h.join(", ")}].`)}}let u=(await uR(async()=>{let d;try{d=await uEt(c)}catch(p){throw p.statusCode===401&&(e=!1),p}return d},a)).trim();return uR(async()=>{let d;try{d=await dEt(u,c,t)}catch(p){throw p.statusCode===401&&(e=!1),p}return d},a)};return async()=>{let a=await vD();if(e)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),s(o,{...a,timeout:i});{let c;try{c=(await lEt({...a,timeout:i})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(e=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),s(o,{...a,timeout:i})}return s(o,{...a,headers:{[_8e]:c},timeout:i})}}},lEt=async t=>A0({...t,path:sEt,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),uEt=async t=>(await A0({...t,path:S8e})).toString(),dEt=async(t,e,r)=>{let n=JSON.parse((await A0({...e,path:S8e+t})).toString());if(!fD(n))throw new _t("Invalid response received from instance metadata service.",{logger:r.logger});return mD(n)}});var w8e=b(()=>{"use strict"});var dR={};Nr(dR,{DEFAULT_MAX_RETRIES:()=>lVr,DEFAULT_TIMEOUT:()=>cVr,ENV_CMDS_AUTH_TOKEN:()=>EZ,ENV_CMDS_FULL_URI:()=>gD,ENV_CMDS_RELATIVE_URI:()=>yD,Endpoint:()=>Fb,fromContainerMetadata:()=>WAt,fromInstanceMetadata:()=>aEt,getInstanceMetadataEndpoint:()=>vD,httpRequest:()=>A0,providerConfigFromInit:()=>lR});var pR=b(()=>{"use strict";u8e();x8e();hD();w8e();pD();IZ();TZ()});var pEt,fEt,mEt,A8e,E8e=b(()=>{"use strict";xn();pEt="169.254.170.2",fEt="169.254.170.23",mEt="[fd00:ec2::23]",A8e=(t,e)=>{if(t.protocol!=="https:"&&!(t.hostname===pEt||t.hostname===fEt||t.hostname===mEt)){if(t.hostname.includes("[")){if(t.hostname==="[::1]"||t.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(t.hostname==="localhost")return;let r=t.hostname.split("."),n=i=>{let o=parseInt(i,10);return 0<=o&&o<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new _t(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:e})}}});function T8e(t){return new mn({protocol:t.protocol,hostname:t.hostname,port:Number(t.port),path:t.pathname,query:Array.from(t.searchParams.entries()).reduce((e,[r,n])=>(e[r]=n,e),{}),fragment:t.hash})}async function R8e(t,e){let n=await o7(t.body).transformToString();if(t.statusCode===200){let i=JSON.parse(n);if(typeof i.AccessKeyId!="string"||typeof i.SecretAccessKey!="string"||typeof i.Token!="string"||typeof i.Expiration!="string")throw new _t("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:e});return{accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.Token,expiration:CTe(i.Expiration)}}if(t.statusCode>=400&&t.statusCode<500){let i={};try{i=JSON.parse(n)}catch{}throw Object.assign(new _t(`Server responded with status: ${t.statusCode}`,{logger:e}),{Code:i.Code,Message:i.Message})}throw new _t(`Server responded with status: ${t.statusCode}`,{logger:e})}var I8e=b(()=>{"use strict";xn();pi();Te();s7()});var C8e,N8e=b(()=>{"use strict";C8e=(t,e,r)=>async()=>{for(let n=0;n<e;++n)try{return await t()}catch{await new Promise(o=>setTimeout(o,r))}return await t()}});import hEt from"fs/promises";var gEt,yEt,bEt,vEt,_Et,O8e,P8e=b(()=>{"use strict";ys();wm();xn();E8e();I8e();N8e();gEt="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",yEt="http://169.254.170.2",bEt="AWS_CONTAINER_CREDENTIALS_FULL_URI",vEt="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",_Et="AWS_CONTAINER_AUTHORIZATION_TOKEN",O8e=(t={})=>{t.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let e,r=t.awsContainerCredentialsRelativeUri??process.env[gEt],n=t.awsContainerCredentialsFullUri??process.env[bEt],i=t.awsContainerAuthorizationToken??process.env[_Et],o=t.awsContainerAuthorizationTokenFile??process.env[vEt],s=t.logger?.constructor?.name==="NoOpLogger"||!t.logger?.warn?console.warn:t.logger.warn.bind(t.logger);if(r&&n&&(s("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),s("awsContainerCredentialsFullUri will take precedence.")),i&&o&&(s("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),s("awsContainerAuthorizationToken will take precedence.")),n)e=n;else if(r)e=`${yEt}${r}`;else throw new _t(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:t.logger});let a=new URL(e);A8e(a,t.logger);let c=Ks.create({requestTimeout:t.timeout??1e3,connectionTimeout:t.timeout??1e3});return C8e(async()=>{let l=T8e(a);i?l.headers.Authorization=i:o&&(l.headers.Authorization=(await hEt.readFile(o)).toString());try{let u=await c.handle(l);return R8e(u.response).then(d=>zr(d,"CREDENTIALS_HTTP","z"))}catch(u){throw new _t(String(u),{logger:t.logger})}},t.maxRetries??3,t.timeout??1e3)}});var OZ={};Nr(OZ,{fromHttp:()=>O8e});var PZ=b(()=>{"use strict";P8e()});var k8e,D8e,M8e=b(()=>{"use strict";xn();k8e="AWS_EC2_METADATA_DISABLED",D8e=async t=>{let{ENV_CMDS_FULL_URI:e,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:i}=await Promise.resolve().then(()=>(pR(),dR));if(process.env[r]||process.env[e]){t.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:o}=await Promise.resolve().then(()=>(PZ(),OZ));return Mx(o(t),n(t))}return process.env[k8e]&&process.env[k8e]!=="false"?async()=>{throw new _t("EC2 Instance Metadata Service access disabled",{logger:t.logger})}:(t.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),i(t))}});function L8e(t,e){let r=SEt(t),n,i,o,s=async a=>{if(a?.forceRefresh)return await r(a);if(o?.expiration&&o?.expiration?.getTime()<Date.now()&&(o=void 0),n)await n;else if(!o||e?.(o))if(o)i||(i=r(a).then(c=>{o=c}).finally(()=>{i=void 0}));else return n=r(a).then(c=>{o=c}).finally(()=>{n=void 0}),s(a);return o};return s}var SEt,B8e=b(()=>{"use strict";SEt=t=>async e=>{let r;for(let n of t)try{return await n(e)}catch(i){if(r=i,i?.tryNextLink)continue;throw i}throw r}});var kZ,DZ=b(()=>{"use strict";kZ=t=>t&&(typeof t.sso_start_url=="string"||typeof t.sso_account_id=="string"||typeof t.sso_session=="string"||typeof t.sso_region=="string"||typeof t.sso_role_name=="string")});var $8e=b(()=>{"use strict"});var Wx,_D=b(()=>{"use strict";Wx="To refresh this SSO session run 'aws sso login' with the corresponding profile."});function xEt(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function wEt(t){return{schemeId:"smithy.api#noAuth"}}var U8e,F8e,z8e,MZ=b(()=>{"use strict";wo();Ws();U8e=async(t,e,r)=>({operation:$i(e).operation,region:await hn(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});F8e=t=>{let e=[];switch(t.operation){case"CreateToken":{e.push(wEt(t));break}default:e.push(xEt(t))}return e},z8e=t=>{let e=ou(t);return Object.assign(e,{authSchemePreference:hn(t.authSchemePreference??[])})}});var H8e,V8e,LZ=b(()=>{"use strict";H8e=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),V8e={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Jx,SD=b(()=>{Jx={name:"@aws-sdk/nested-clients",version:"3.980.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"premove dist-cjs dist-es dist-types tsconfig.cjs.tsbuildinfo tsconfig.es.tsbuildinfo tsconfig.types.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=20.0.0"},sideEffects:!1,author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"^3.973.5","@aws-sdk/middleware-host-header":"^3.972.3","@aws-sdk/middleware-logger":"^3.972.3","@aws-sdk/middleware-recursion-detection":"^3.972.3","@aws-sdk/middleware-user-agent":"^3.972.5","@aws-sdk/region-config-resolver":"^3.972.3","@aws-sdk/types":"^3.973.1","@aws-sdk/util-endpoints":"3.980.0","@aws-sdk/util-user-agent-browser":"^3.972.3","@aws-sdk/util-user-agent-node":"^3.972.3","@smithy/config-resolver":"^4.4.6","@smithy/core":"^3.22.0","@smithy/fetch-http-handler":"^5.3.9","@smithy/hash-node":"^4.2.8","@smithy/invalid-dependency":"^4.2.8","@smithy/middleware-content-length":"^4.2.8","@smithy/middleware-endpoint":"^4.4.12","@smithy/middleware-retry":"^4.4.29","@smithy/middleware-serde":"^4.2.9","@smithy/middleware-stack":"^4.2.8","@smithy/node-config-provider":"^4.3.8","@smithy/node-http-handler":"^4.4.8","@smithy/protocol-http":"^5.3.8","@smithy/smithy-client":"^4.11.1","@smithy/types":"^4.12.0","@smithy/url-parser":"^4.2.8","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.28","@smithy/util-defaults-mode-node":"^4.2.31","@smithy/util-endpoints":"^3.2.8","@smithy/util-middleware":"^4.2.8","@smithy/util-retry":"^4.2.8","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",premove:"4.0.0",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./signin.d.ts","./signin.js","./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/signin/runtimeConfig":"./dist-es/submodules/signin/runtimeConfig.browser","./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./package.json":"./package.json","./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"},"./signin":{types:"./dist-types/submodules/signin/index.d.ts",module:"./dist-es/submodules/signin/index.js",node:"./dist-cjs/submodules/signin/index.js",import:"./dist-es/submodules/signin/index.js",require:"./dist-cjs/submodules/signin/index.js"}}}});var G8e,j8e=b(()=>{"use strict";G8e={isCrtAvailable:!1}});var q8e,W8e=b(()=>{"use strict";j8e();q8e=()=>G8e.isCrtAvailable?["md/crt-avail"]:null});import{platform as EEt,release as TEt}from"os";import{env as J8e,versions as REt}from"process";var wu,K8e=b(()=>{"use strict";W8e();wu=({serviceId:t,clientVersion:e})=>async r=>{let n=[["aws-sdk-js",e],["ua","2.1"],[`os/${EEt()}`,TEt()],["lang/js"],["md/nodejs",`${REt.node}`]],i=q8e();i&&n.push(i),t&&n.push([`api/${t}`,e]),J8e.AWS_EXECUTION_ENV&&n.push([`exec-env/${J8e.AWS_EXECUTION_ENV}`]);let o=await r?.userAgentAppId?.();return o?[...n,[`app/${o}`]]:[...n]}});var IEt,CEt,NEt,Au,Q8e=b(()=>{"use strict";_0();IEt="AWS_SDK_UA_APP_ID",CEt="sdk_ua_app_id",NEt="sdk-ua-app-id",Au={environmentVariableSelector:t=>t[IEt],configFileSelector:t=>t[CEt]??t[NEt],default:cY}});var zb=b(()=>{"use strict";K8e();Q8e()});import{Buffer as OEt}from"buffer";import{createHash as PEt,createHmac as kEt}from"crypto";function X8e(t,e){return OEt.isBuffer(t)?t:typeof t=="string"?Ax(t,e):ArrayBuffer.isView(t)?xm(t.buffer,t.byteOffset,t.byteLength):xm(t)}var yc,Hb=b(()=>{"use strict";Cb();Yi();yc=class{algorithmIdentifier;secret;hash;constructor(e,r){this.algorithmIdentifier=e,this.secret=r,this.reset()}update(e,r){this.hash.update(kd(X8e(e,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?kEt(this.algorithmIdentifier,X8e(this.secret)):PEt(this.algorithmIdentifier)}}});import{fstatSync as DEt,lstatSync as MEt,ReadStream as LEt}from"node:fs";var Eu,Y8e=b(()=>{"use strict";Eu=t=>{if(!t)return 0;if(typeof t=="string")return Buffer.byteLength(t);if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size;if(typeof t.start=="number"&&typeof t.end=="number")return t.end+1-t.start;if(t instanceof LEt){if(t.path!=null)return MEt(t.path).size;if(typeof t.fd=="number")return DEt(t.fd).size}throw new Error(`Body Length computation failed for ${t}`)}});var Vb=b(()=>{"use strict";Y8e()});var Z8e,BZ,$Z,eCe,tCe,rCe,nCe=b(()=>{"use strict";Z8e="AWS_EXECUTION_ENV",BZ="AWS_REGION",$Z="AWS_DEFAULT_REGION",eCe="AWS_EC2_METADATA_DISABLED",tCe=["in-region","cross-region","mobile","standard","legacy"],rCe="/latest/meta-data/placement/region"});var BEt,$Et,iCe,oCe=b(()=>{"use strict";BEt="AWS_DEFAULTS_MODE",$Et="defaults_mode",iCe={environmentVariableSelector:t=>t[BEt],configFileSelector:t=>t[$Et],default:"legacy"}});var Tu,UEt,FEt,sCe=b(()=>{"use strict";Ia();yu();xn();nCe();oCe();Tu=({region:t=Ot(Ys),defaultsMode:e=Ot(iCe)}={})=>E7(async()=>{let r=typeof e=="function"?await e():e;switch(r?.toLowerCase()){case"auto":return UEt(t);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${tCe.join(", ")}, got ${r}`)}}),UEt=async t=>{if(t){let e=typeof t=="function"?await t():t,r=await FEt();return r?e===r?"in-region":"cross-region":"standard"}return"standard"},FEt=async()=>{if(process.env[Z8e]&&(process.env[BZ]||process.env[$Z]))return process.env[BZ]??process.env[$Z];if(!process.env[eCe])try{let{getInstanceMetadataEndpoint:t,httpRequest:e}=await Promise.resolve().then(()=>(pR(),dR)),r=await t();return(await e({...r,path:rCe})).toString()}catch{}}});var Gb=b(()=>{"use strict";sCe()});var gCe,Iu,aCe,fR,Kx,Qx,km,UZ,FZ,cCe,lCe,uCe,yCe,bCe,Ru,dCe,vCe,pCe,fCe,mCe,hCe,zEt,_Ce,SCe=b(()=>{"use strict";gCe="required",Iu="argv",aCe="isSet",fR="booleanEquals",Kx="error",Qx="endpoint",km="tree",UZ="PartitionResult",FZ="getAttr",cCe={[gCe]:!1,type:"string"},lCe={[gCe]:!0,default:!1,type:"boolean"},uCe={ref:"Endpoint"},yCe={fn:fR,[Iu]:[{ref:"UseFIPS"},!0]},bCe={fn:fR,[Iu]:[{ref:"UseDualStack"},!0]},Ru={},dCe={fn:FZ,[Iu]:[{ref:UZ},"supportsFIPS"]},vCe={ref:UZ},pCe={fn:fR,[Iu]:[!0,{fn:FZ,[Iu]:[vCe,"supportsDualStack"]}]},fCe=[yCe],mCe=[bCe],hCe=[{ref:"Region"}],zEt={version:"1.0",parameters:{Region:cCe,UseDualStack:lCe,UseFIPS:lCe,Endpoint:cCe},rules:[{conditions:[{fn:aCe,[Iu]:[uCe]}],rules:[{conditions:fCe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Kx},{conditions:mCe,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Kx},{endpoint:{url:uCe,properties:Ru,headers:Ru},type:Qx}],type:km},{conditions:[{fn:aCe,[Iu]:hCe}],rules:[{conditions:[{fn:"aws.partition",[Iu]:hCe,assign:UZ}],rules:[{conditions:[yCe,bCe],rules:[{conditions:[{fn:fR,[Iu]:[!0,dCe]},pCe],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ru,headers:Ru},type:Qx}],type:km},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Kx}],type:km},{conditions:fCe,rules:[{conditions:[{fn:fR,[Iu]:[dCe,!0]}],rules:[{conditions:[{fn:"stringEquals",[Iu]:[{fn:FZ,[Iu]:[vCe,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Ru,headers:Ru},type:Qx},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ru,headers:Ru},type:Qx}],type:km},{error:"FIPS is enabled but this partition does not support FIPS",type:Kx}],type:km},{conditions:mCe,rules:[{conditions:[pCe],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ru,headers:Ru},type:Qx}],type:km},{error:"DualStack is enabled but this partition does not support DualStack",type:Kx}],type:km},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Ru,headers:Ru},type:Qx}],type:km}],type:km},{error:"Invalid Configuration: Missing Region",type:Kx}]},_Ce=zEt});var HEt,xCe,wCe=b(()=>{"use strict";f0();Dd();SCe();HEt=new dc({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),xCe=(t,e={})=>HEt.get(t,()=>eu(_Ce,{endpointParams:t,logger:e.logger}));gs.aws=nl});var ACe,ECe=b(()=>{"use strict";wo();Nm();Wn();Te();Cm();Js();Yi();MZ();wCe();ACe=t=>({apiVersion:"2019-06-10",base64Decoder:t?.base64Decoder??Ti,base64Encoder:t?.base64Encoder??qn,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??xCe,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??F8e,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new bs},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ql}],logger:t?.logger??new Xs,protocol:t?.protocol??b0,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.ssooidc",version:"2019-06-10",serviceTarget:"AWSSSOOIDCService"},serviceId:t?.serviceId??"SSO OIDC",urlParser:t?.urlParser??Zo,utf8Decoder:t?.utf8Decoder??ti,utf8Encoder:t?.utf8Encoder??jn})});var TCe,RCe=b(()=>{"use strict";SD();wo();zb();Ia();Hb();ol();yu();wm();Te();Vb();Gb();Pm();ECe();TCe=t=>{cu(process.version);let e=Tu(t),r=()=>e().then(au),n=ACe(t);tu(process.version);let i={profile:t?.profile,logger:n.logger};return{...n,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??Ot(ru,i),bodyLengthChecker:t?.bodyLengthChecker??Eu,defaultUserAgentProvider:t?.defaultUserAgentProvider??wu({serviceId:n.serviceId,clientVersion:Jx.version}),maxAttempts:t?.maxAttempts??Ot(vu,t),region:t?.region??Ot(Ys,{...fc,...i}),requestHandler:Ks.create(t?.requestHandler??r),retryMode:t?.retryMode??Ot({...Su,default:async()=>(await r()).retryMode||gc},t),sha256:t?.sha256??yc.bind(null,"sha256"),streamCollector:t?.streamCollector??sc,useDualstackEndpoint:t?.useDualstackEndpoint??Ot(fu,i),useFipsEndpoint:t?.useFipsEndpoint??Ot(mu,i),userAgentAppId:t?.userAgentAppId??Ot(Au,i)}}});var Cu,Nu,ICe=b(()=>{"use strict";Cu=t=>({setRegion(e){t.region=e},region(){return t.region}}),Nu=t=>({region:t.region()})});var CCe=b(()=>{"use strict"});function NCe(t={}){return Ot({...Ys,async default(){return VEt.silence||console.warn("@aws-sdk - WARN - default STS region of us-east-1 used. See @aws-sdk/credential-providers README and set a region explicitly."),"us-east-1"}},{...fc,...t})}var VEt,OCe=b(()=>{"use strict";Ia();yu();VEt={silence:!1}});var T0=b(()=>{"use strict";ICe();CCe();OCe()});var PCe,kCe,DCe=b(()=>{"use strict";PCe=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(i){let o=e.findIndex(s=>s.schemeId===i.schemeId);o===-1?e.push(i):e.splice(o,1,i)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},kCe=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var MCe,LCe=b(()=>{"use strict";T0();pi();Te();DCe();MCe=(t,e)=>{let r=Object.assign(Cu(t),lu(t),Fl(t),PCe(t));return e.forEach(n=>n.configure(r)),Object.assign(t,Nu(r),uu(r),zl(r),kCe(r))}});var mR,zZ=b(()=>{"use strict";Eb();Tb();Rb();_0();Ia();Wn();gn();$b();We();ol();Te();MZ();LZ();RCe();LCe();mR=class extends $o{config;constructor(...[e]){let r=TCe(e||{});super(r),this.initConfig=r;let n=H8e(r),i=Xl(n),o=_u(i),s=hu(o),a=s,c=bu(a),l=z8e(c),u=MCe(l,e?.extensions||[]);this.config=u,this.middlewareStack.use(Jl(this.config)),this.middlewareStack.use(pu(this.config)),this.middlewareStack.use(xu(this.config)),this.middlewareStack.use(gu(this.config)),this.middlewareStack.use(Vl(this.config)),this.middlewareStack.use(Gl(this.config)),this.middlewareStack.use(jl(this.config)),this.middlewareStack.use(ql(this.config,{httpAuthSchemeParametersProvider:U8e,identityProviderConfigProvider:async d=>new uc({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(Wl(this.config))}destroy(){super.destroy()}}});var es,xD=b(()=>{"use strict";Te();es=class t extends pc{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var gR,yR,bR,vR,_R,SR,xR,wR,AR,ER,TR,HZ=b(()=>{"use strict";xD();gR=class t extends es{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.reason=e.reason,this.error_description=e.error_description}},yR=class t extends es{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(e){super({name:"AuthorizationPendingException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},bR=class t extends es{name="ExpiredTokenException";$fault="client";error;error_description;constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},vR=class t extends es{name="InternalServerException";$fault="server";error;error_description;constructor(e){super({name:"InternalServerException",$fault:"server",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},_R=class t extends es{name="InvalidClientException";$fault="client";error;error_description;constructor(e){super({name:"InvalidClientException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},SR=class t extends es{name="InvalidGrantException";$fault="client";error;error_description;constructor(e){super({name:"InvalidGrantException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},xR=class t extends es{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.reason=e.reason,this.error_description=e.error_description}},wR=class t extends es{name="InvalidScopeException";$fault="client";error;error_description;constructor(e){super({name:"InvalidScopeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},AR=class t extends es{name="SlowDownException";$fault="client";error;error_description;constructor(e){super({name:"SlowDownException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},ER=class t extends es{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(e){super({name:"UnauthorizedClientException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},TR=class t extends es{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(e){super({name:"UnsupportedGrantTypeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}}});var GEt,jEt,qEt,WEt,JEt,KEt,QEt,XEt,YEt,ZEt,eTt,tTt,rTt,nTt,iTt,oTt,sTt,aTt,cTt,lTt,Yp,uTt,dTt,pTt,fTt,mTt,Ui,hTt,Ld,gTt,yTt,Bd,bTt,BCe,$Ce,vTt,_Tt,STt,UCe,xTt,yn,wTt,ATt,ETt,TTt,FCe,zCe,HCe,VCe,GCe,jCe,qCe,WCe,JCe,KCe,QCe,XCe,YCe,ZCe,eNe,VZ,GZ=b(()=>{"use strict";gn();HZ();xD();GEt="AccessDeniedException",jEt="AuthorizationPendingException",qEt="AccessToken",WEt="ClientSecret",JEt="CreateToken",KEt="CreateTokenRequest",QEt="CreateTokenResponse",XEt="CodeVerifier",YEt="ExpiredTokenException",ZEt="InvalidClientException",eTt="InvalidGrantException",tTt="InvalidRequestException",rTt="InternalServerException",nTt="InvalidScopeException",iTt="IdToken",oTt="RefreshToken",sTt="SlowDownException",aTt="UnauthorizedClientException",cTt="UnsupportedGrantTypeException",lTt="accessToken",Yp="client",uTt="clientId",dTt="clientSecret",pTt="codeVerifier",fTt="code",mTt="deviceCode",Ui="error",hTt="expiresIn",Ld="error_description",gTt="grantType",yTt="http",Bd="httpError",bTt="idToken",BCe="reason",$Ce="refreshToken",vTt="redirectUri",_Tt="scope",STt="server",UCe="smithy.ts.sdk.synthetic.com.amazonaws.ssooidc",xTt="tokenType",yn="com.amazonaws.ssooidc",wTt=[0,yn,qEt,8,0],ATt=[0,yn,WEt,8,0],ETt=[0,yn,XEt,8,0],TTt=[0,yn,iTt,8,0],FCe=[0,yn,oTt,8,0],zCe=[-3,yn,GEt,{[Ui]:Yp,[Bd]:400},[Ui,BCe,Ld],[0,0,0]];je.for(yn).registerError(zCe,gR);HCe=[-3,yn,jEt,{[Ui]:Yp,[Bd]:400},[Ui,Ld],[0,0]];je.for(yn).registerError(HCe,yR);VCe=[3,yn,KEt,0,[uTt,dTt,gTt,mTt,fTt,$Ce,_Tt,vTt,pTt],[0,[()=>ATt,0],0,0,0,[()=>FCe,0],64,0,[()=>ETt,0]],3],GCe=[3,yn,QEt,0,[lTt,xTt,hTt,$Ce,bTt],[[()=>wTt,0],0,1,[()=>FCe,0],[()=>TTt,0]]],jCe=[-3,yn,YEt,{[Ui]:Yp,[Bd]:400},[Ui,Ld],[0,0]];je.for(yn).registerError(jCe,bR);qCe=[-3,yn,rTt,{[Ui]:STt,[Bd]:500},[Ui,Ld],[0,0]];je.for(yn).registerError(qCe,vR);WCe=[-3,yn,ZEt,{[Ui]:Yp,[Bd]:401},[Ui,Ld],[0,0]];je.for(yn).registerError(WCe,_R);JCe=[-3,yn,eTt,{[Ui]:Yp,[Bd]:400},[Ui,Ld],[0,0]];je.for(yn).registerError(JCe,SR);KCe=[-3,yn,tTt,{[Ui]:Yp,[Bd]:400},[Ui,BCe,Ld],[0,0,0]];je.for(yn).registerError(KCe,xR);QCe=[-3,yn,nTt,{[Ui]:Yp,[Bd]:400},[Ui,Ld],[0,0]];je.for(yn).registerError(QCe,wR);XCe=[-3,yn,sTt,{[Ui]:Yp,[Bd]:400},[Ui,Ld],[0,0]];je.for(yn).registerError(XCe,AR);YCe=[-3,yn,aTt,{[Ui]:Yp,[Bd]:400},[Ui,Ld],[0,0]];je.for(yn).registerError(YCe,ER);ZCe=[-3,yn,cTt,{[Ui]:Yp,[Bd]:400},[Ui,Ld],[0,0]];je.for(yn).registerError(ZCe,TR);eNe=[-3,UCe,"SSOOIDCServiceException",0,[],[]];je.for(UCe).registerError(eNe,es);VZ=[9,yn,JEt,{[yTt]:["POST","/token",200]},()=>VCe,()=>GCe]});var RR,jZ=b(()=>{"use strict";We();Te();LZ();GZ();RR=class extends se.classBuilder().ep(V8e).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").sc(VZ).build(){}});var RTt,wD,tNe=b(()=>{"use strict";Te();jZ();zZ();RTt={CreateTokenCommand:RR},wD=class extends mR{};su(RTt,wD)});var rNe=b(()=>{"use strict";jZ()});var ITt,CTt,nNe=b(()=>{"use strict";ITt={KMS_ACCESS_DENIED:"KMS_AccessDeniedException"},CTt={KMS_DISABLED_KEY:"KMS_DisabledException",KMS_INVALID_KEY_USAGE:"KMS_InvalidKeyUsageException",KMS_INVALID_STATE:"KMS_InvalidStateException",KMS_KEY_NOT_FOUND:"KMS_NotFoundException"}});var iNe=b(()=>{"use strict"});var qZ={};Nr(qZ,{$Command:()=>se,AccessDeniedException:()=>gR,AccessDeniedException$:()=>zCe,AccessDeniedExceptionReason:()=>ITt,AuthorizationPendingException:()=>yR,AuthorizationPendingException$:()=>HCe,CreateToken$:()=>VZ,CreateTokenCommand:()=>RR,CreateTokenRequest$:()=>VCe,CreateTokenResponse$:()=>GCe,ExpiredTokenException:()=>bR,ExpiredTokenException$:()=>jCe,InternalServerException:()=>vR,InternalServerException$:()=>qCe,InvalidClientException:()=>_R,InvalidClientException$:()=>WCe,InvalidGrantException:()=>SR,InvalidGrantException$:()=>JCe,InvalidRequestException:()=>xR,InvalidRequestException$:()=>KCe,InvalidRequestExceptionReason:()=>CTt,InvalidScopeException:()=>wR,InvalidScopeException$:()=>QCe,SSOOIDC:()=>wD,SSOOIDCClient:()=>mR,SSOOIDCServiceException:()=>es,SSOOIDCServiceException$:()=>eNe,SlowDownException:()=>AR,SlowDownException$:()=>XCe,UnauthorizedClientException:()=>ER,UnauthorizedClientException$:()=>YCe,UnsupportedGrantTypeException:()=>TR,UnsupportedGrantTypeException$:()=>ZCe,__Client:()=>$o});var WZ=b(()=>{"use strict";zZ();tNe();rNe();GZ();nNe();HZ();iNe();xD()});var oNe,sNe=b(()=>{"use strict";oNe=async(t,e={},r)=>{let{SSOOIDCClient:n}=await Promise.resolve().then(()=>(WZ(),qZ)),i=s=>e.clientConfig?.[s]??e.parentClientConfig?.[s]??r?.[s];return new n(Object.assign({},e.clientConfig??{},{region:t??e.clientConfig?.region,logger:i("logger"),userAgentAppId:i("userAgentAppId")}))}});var aNe,cNe=b(()=>{"use strict";sNe();aNe=async(t,e,r={},n)=>{let{CreateTokenCommand:i}=await Promise.resolve().then(()=>(WZ(),qZ));return(await oNe(e,r,n)).send(new i({clientId:t.clientId,clientSecret:t.clientSecret,refreshToken:t.refreshToken,grantType:"refresh_token"}))}});var JZ,lNe=b(()=>{"use strict";xn();_D();JZ=t=>{if(t.expiration&&t.expiration.getTime()<Date.now())throw new iu(`Token is expired. ${Wx}`,!1)}});var R0,uNe=b(()=>{"use strict";xn();_D();R0=(t,e,r=!1)=>{if(typeof e>"u")throw new iu(`Value not present for '${t}' in SSO Token${r?". Cannot refresh":""}. ${Wx}`,!1)}});import{promises as NTt}from"fs";var OTt,dNe,pNe=b(()=>{"use strict";hc();({writeFile:OTt}=NTt),dNe=(t,e)=>{let r=Y7(t),n=JSON.stringify(e,null,2);return OTt(r,n)}});var fNe,mNe,hNe=b(()=>{"use strict";xn();hc();_D();cNe();lNe();uNe();pNe();fNe=new Date(0),mNe=(t={})=>async({callerClientConfig:e}={})=>{t.logger?.debug("@aws-sdk/token-providers - fromSso");let r=await Xp(t),n=mc({profile:t.profile??e?.profile}),i=r[n];if(i){if(!i.sso_session)throw new iu(`Profile '${n}' is missing required property 'sso_session'.`)}else throw new iu(`Profile '${n}' could not be found in shared credentials file.`,!1);let o=i.sso_session,a=(await tD(t))[o];if(!a)throw new iu(`Sso session '${o}' could not be found in shared credentials file.`,!1);for(let h of["sso_start_url","sso_region"])if(!a[h])throw new iu(`Sso session '${o}' is missing required property '${h}'.`,!1);let c=a.sso_start_url,l=a.sso_region,u;try{u=await iR(o)}catch{throw new iu(`The SSO session token associated with profile=${n} was not found or is invalid. ${Wx}`,!1)}R0("accessToken",u.accessToken),R0("expiresAt",u.expiresAt);let{accessToken:d,expiresAt:p}=u,f={token:d,expiration:new Date(p)};if(f.expiration.getTime()-Date.now()>3e5)return f;if(Date.now()-fNe.getTime()<30*1e3)return JZ(f),f;R0("clientId",u.clientId,!0),R0("clientSecret",u.clientSecret,!0),R0("refreshToken",u.refreshToken,!0);try{fNe.setTime(Date.now());let h=await aNe(u,l,t,e);R0("accessToken",h.accessToken),R0("expiresIn",h.expiresIn);let m=new Date(Date.now()+h.expiresIn*1e3);try{await dNe(o,{...u,accessToken:h.accessToken,expiresAt:m.toISOString(),refreshToken:h.refreshToken})}catch{}return{token:h.accessToken,expiration:m}}catch{return JZ(f),f}}});var gNe=b(()=>{"use strict"});var yNe=b(()=>{"use strict"});var bNe=b(()=>{"use strict";$8e();hNe();gNe();yNe()});function kTt(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function AD(t){return{schemeId:"smithy.api#noAuth"}}var vNe,_Ne,SNe,KZ=b(()=>{"use strict";wo();Ws();vNe=async(t,e,r)=>({operation:$i(e).operation,region:await hn(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});_Ne=t=>{let e=[];switch(t.operation){case"GetRoleCredentials":{e.push(AD(t));break}case"ListAccountRoles":{e.push(AD(t));break}case"ListAccounts":{e.push(AD(t));break}case"Logout":{e.push(AD(t));break}default:e.push(kTt(t))}return e},SNe=t=>{let e=ou(t);return Object.assign(e,{authSchemePreference:hn(t.authSchemePreference??[])})}});var xNe,I0,Xx=b(()=>{"use strict";xNe=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),I0={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var ANe,wNe=b(()=>{ANe={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.980.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"premove dist-cjs dist-es dist-types tsconfig.cjs.tsbuildinfo tsconfig.es.tsbuildinfo tsconfig.types.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"^3.973.5","@aws-sdk/middleware-host-header":"^3.972.3","@aws-sdk/middleware-logger":"^3.972.3","@aws-sdk/middleware-recursion-detection":"^3.972.3","@aws-sdk/middleware-user-agent":"^3.972.5","@aws-sdk/region-config-resolver":"^3.972.3","@aws-sdk/types":"^3.973.1","@aws-sdk/util-endpoints":"3.980.0","@aws-sdk/util-user-agent-browser":"^3.972.3","@aws-sdk/util-user-agent-node":"^3.972.3","@smithy/config-resolver":"^4.4.6","@smithy/core":"^3.22.0","@smithy/fetch-http-handler":"^5.3.9","@smithy/hash-node":"^4.2.8","@smithy/invalid-dependency":"^4.2.8","@smithy/middleware-content-length":"^4.2.8","@smithy/middleware-endpoint":"^4.4.12","@smithy/middleware-retry":"^4.4.29","@smithy/middleware-serde":"^4.2.9","@smithy/middleware-stack":"^4.2.8","@smithy/node-config-provider":"^4.3.8","@smithy/node-http-handler":"^4.4.8","@smithy/protocol-http":"^5.3.8","@smithy/smithy-client":"^4.11.1","@smithy/types":"^4.12.0","@smithy/url-parser":"^4.2.8","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.28","@smithy/util-defaults-mode-node":"^4.2.31","@smithy/util-endpoints":"^3.2.8","@smithy/util-middleware":"^4.2.8","@smithy/util-retry":"^4.2.8","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node20":"20.1.8","@types/node":"^20.14.8",concurrently:"7.0.0","downlevel-dts":"0.10.1",premove:"4.0.0",typescript:"~5.8.3"},engines:{node:">=20.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var DNe,Pu,ENe,IR,Yx,Zx,Dm,QZ,XZ,TNe,RNe,INe,MNe,LNe,Ou,CNe,BNe,NNe,ONe,PNe,kNe,MTt,$Ne,UNe=b(()=>{"use strict";DNe="required",Pu="argv",ENe="isSet",IR="booleanEquals",Yx="error",Zx="endpoint",Dm="tree",QZ="PartitionResult",XZ="getAttr",TNe={[DNe]:!1,type:"string"},RNe={[DNe]:!0,default:!1,type:"boolean"},INe={ref:"Endpoint"},MNe={fn:IR,[Pu]:[{ref:"UseFIPS"},!0]},LNe={fn:IR,[Pu]:[{ref:"UseDualStack"},!0]},Ou={},CNe={fn:XZ,[Pu]:[{ref:QZ},"supportsFIPS"]},BNe={ref:QZ},NNe={fn:IR,[Pu]:[!0,{fn:XZ,[Pu]:[BNe,"supportsDualStack"]}]},ONe=[MNe],PNe=[LNe],kNe=[{ref:"Region"}],MTt={version:"1.0",parameters:{Region:TNe,UseDualStack:RNe,UseFIPS:RNe,Endpoint:TNe},rules:[{conditions:[{fn:ENe,[Pu]:[INe]}],rules:[{conditions:ONe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Yx},{conditions:PNe,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Yx},{endpoint:{url:INe,properties:Ou,headers:Ou},type:Zx}],type:Dm},{conditions:[{fn:ENe,[Pu]:kNe}],rules:[{conditions:[{fn:"aws.partition",[Pu]:kNe,assign:QZ}],rules:[{conditions:[MNe,LNe],rules:[{conditions:[{fn:IR,[Pu]:[!0,CNe]},NNe],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ou,headers:Ou},type:Zx}],type:Dm},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Yx}],type:Dm},{conditions:ONe,rules:[{conditions:[{fn:IR,[Pu]:[CNe,!0]}],rules:[{conditions:[{fn:"stringEquals",[Pu]:[{fn:XZ,[Pu]:[BNe,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:Ou,headers:Ou},type:Zx},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ou,headers:Ou},type:Zx}],type:Dm},{error:"FIPS is enabled but this partition does not support FIPS",type:Yx}],type:Dm},{conditions:PNe,rules:[{conditions:[NNe],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ou,headers:Ou},type:Zx}],type:Dm},{error:"DualStack is enabled but this partition does not support DualStack",type:Yx}],type:Dm},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Ou,headers:Ou},type:Zx}],type:Dm}],type:Dm},{error:"Invalid Configuration: Missing Region",type:Yx}]},$Ne=MTt});var LTt,FNe,zNe=b(()=>{"use strict";f0();Dd();UNe();LTt=new dc({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),FNe=(t,e={})=>LTt.get(t,()=>eu($Ne,{endpointParams:t,logger:e.logger}));gs.aws=nl});var HNe,VNe=b(()=>{"use strict";wo();Nm();Wn();Te();Cm();Js();Yi();KZ();zNe();HNe=t=>({apiVersion:"2019-06-10",base64Decoder:t?.base64Decoder??Ti,base64Encoder:t?.base64Encoder??qn,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??FNe,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??_Ne,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new bs},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ql}],logger:t?.logger??new Xs,protocol:t?.protocol??b0,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.sso",version:"2019-06-10",serviceTarget:"SWBPortalService"},serviceId:t?.serviceId??"SSO",urlParser:t?.urlParser??Zo,utf8Decoder:t?.utf8Decoder??ti,utf8Encoder:t?.utf8Encoder??jn})});var GNe,jNe=b(()=>{"use strict";wNe();wo();zb();Ia();Hb();ol();yu();wm();Te();Vb();Gb();Pm();VNe();GNe=t=>{cu(process.version);let e=Tu(t),r=()=>e().then(au),n=HNe(t);tu(process.version);let i={profile:t?.profile,logger:n.logger};return{...n,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??Ot(ru,i),bodyLengthChecker:t?.bodyLengthChecker??Eu,defaultUserAgentProvider:t?.defaultUserAgentProvider??wu({serviceId:n.serviceId,clientVersion:ANe.version}),maxAttempts:t?.maxAttempts??Ot(vu,t),region:t?.region??Ot(Ys,{...fc,...i}),requestHandler:Ks.create(t?.requestHandler??r),retryMode:t?.retryMode??Ot({...Su,default:async()=>(await r()).retryMode||gc},t),sha256:t?.sha256??yc.bind(null,"sha256"),streamCollector:t?.streamCollector??sc,useDualstackEndpoint:t?.useDualstackEndpoint??Ot(fu,i),useFipsEndpoint:t?.useFipsEndpoint??Ot(mu,i),userAgentAppId:t?.userAgentAppId??Ot(Au,i)}}});var qNe,WNe,JNe=b(()=>{"use strict";qNe=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(i){let o=e.findIndex(s=>s.schemeId===i.schemeId);o===-1?e.push(i):e.splice(o,1,i)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},WNe=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var KNe,QNe=b(()=>{"use strict";T0();pi();Te();JNe();KNe=(t,e)=>{let r=Object.assign(Cu(t),lu(t),Fl(t),qNe(t));return e.forEach(n=>n.configure(r)),Object.assign(t,Nu(r),uu(r),zl(r),WNe(r))}});var Zp,CR=b(()=>{"use strict";Eb();Tb();Rb();_0();Ia();Wn();gn();$b();We();ol();Te();KZ();Xx();jNe();QNe();Zp=class extends $o{config;constructor(...[e]){let r=GNe(e||{});super(r),this.initConfig=r;let n=xNe(r),i=Xl(n),o=_u(i),s=hu(o),a=s,c=bu(a),l=SNe(c),u=KNe(l,e?.extensions||[]);this.config=u,this.middlewareStack.use(Jl(this.config)),this.middlewareStack.use(pu(this.config)),this.middlewareStack.use(xu(this.config)),this.middlewareStack.use(gu(this.config)),this.middlewareStack.use(Vl(this.config)),this.middlewareStack.use(Gl(this.config)),this.middlewareStack.use(jl(this.config)),this.middlewareStack.use(ql(this.config,{httpAuthSchemeParametersProvider:vNe,identityProviderConfigProvider:async d=>new uc({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(Wl(this.config))}destroy(){super.destroy()}}});var Mm,YZ=b(()=>{"use strict";Te();Mm=class t extends pc{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var ED,TD,RD,ID,ZZ=b(()=>{"use strict";YZ();ED=class t extends Mm{name="InvalidRequestException";$fault="client";constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},TD=class t extends Mm{name="ResourceNotFoundException";$fault="client";constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},RD=class t extends Mm{name="TooManyRequestsException";$fault="client";constructor(e){super({name:"TooManyRequestsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},ID=class t extends Mm{name="UnauthorizedException";$fault="client";constructor(e){super({name:"UnauthorizedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}}});var BTt,$Tt,UTt,FTt,zTt,HTt,VTt,GTt,jTt,qTt,WTt,JTt,KTt,QTt,XTt,YTt,ZTt,e4t,t4t,r4t,n4t,i4t,o4t,CD,s4t,a4t,c4t,ND,XNe,OD,PD,l4t,u4t,kD,DD,MD,jb,LD,YNe,ZNe,BD,eOe,d4t,p4t,tOe,f4t,rOe,m4t,h4t,$D,Bn,UD,g4t,y4t,b4t,v4t,_4t,S4t,x4t,w4t,A4t,E4t,T4t,R4t,I4t,C4t,N4t,O4t,P4t,k4t,D4t,M4t,nOe,iOe,oOe,sOe,ew=b(()=>{"use strict";gn();ZZ();YZ();BTt="AccountInfo",$Tt="AccountListType",UTt="AccessTokenType",FTt="GetRoleCredentials",zTt="GetRoleCredentialsRequest",HTt="GetRoleCredentialsResponse",VTt="InvalidRequestException",GTt="Logout",jTt="ListAccounts",qTt="ListAccountsRequest",WTt="ListAccountRolesRequest",JTt="ListAccountRolesResponse",KTt="ListAccountsResponse",QTt="ListAccountRoles",XTt="LogoutRequest",YTt="RoleCredentials",ZTt="RoleInfo",e4t="RoleListType",t4t="ResourceNotFoundException",r4t="SecretAccessKeyType",n4t="SessionTokenType",i4t="TooManyRequestsException",o4t="UnauthorizedException",CD="accountId",s4t="accessKeyId",a4t="accountList",c4t="accountName",ND="accessToken",XNe="account_id",OD="client",PD="error",l4t="emailAddress",u4t="expiration",kD="http",DD="httpError",MD="httpHeader",jb="httpQuery",LD="message",YNe="maxResults",ZNe="max_result",BD="nextToken",eOe="next_token",d4t="roleCredentials",p4t="roleList",tOe="roleName",f4t="role_name",rOe="smithy.ts.sdk.synthetic.com.amazonaws.sso",m4t="secretAccessKey",h4t="sessionToken",$D="x-amz-sso_bearer_token",Bn="com.amazonaws.sso",UD=[0,Bn,UTt,8,0],g4t=[0,Bn,r4t,8,0],y4t=[0,Bn,n4t,8,0],b4t=[3,Bn,BTt,0,[CD,c4t,l4t],[0,0,0]],v4t=[3,Bn,zTt,0,[tOe,CD,ND],[[0,{[jb]:f4t}],[0,{[jb]:XNe}],[()=>UD,{[MD]:$D}]],3],_4t=[3,Bn,HTt,0,[d4t],[[()=>I4t,0]]],S4t=[-3,Bn,VTt,{[PD]:OD,[DD]:400},[LD],[0]];je.for(Bn).registerError(S4t,ED);x4t=[3,Bn,WTt,0,[ND,CD,BD,YNe],[[()=>UD,{[MD]:$D}],[0,{[jb]:XNe}],[0,{[jb]:eOe}],[1,{[jb]:ZNe}]],2],w4t=[3,Bn,JTt,0,[BD,p4t],[0,()=>M4t]],A4t=[3,Bn,qTt,0,[ND,BD,YNe],[[()=>UD,{[MD]:$D}],[0,{[jb]:eOe}],[1,{[jb]:ZNe}]],1],E4t=[3,Bn,KTt,0,[BD,a4t],[0,()=>D4t]],T4t=[3,Bn,XTt,0,[ND],[[()=>UD,{[MD]:$D}]],1],R4t=[-3,Bn,t4t,{[PD]:OD,[DD]:404},[LD],[0]];je.for(Bn).registerError(R4t,TD);I4t=[3,Bn,YTt,0,[s4t,m4t,h4t,u4t],[0,[()=>g4t,0],[()=>y4t,0],1]],C4t=[3,Bn,ZTt,0,[tOe,CD],[0,0]],N4t=[-3,Bn,i4t,{[PD]:OD,[DD]:429},[LD],[0]];je.for(Bn).registerError(N4t,RD);O4t=[-3,Bn,o4t,{[PD]:OD,[DD]:401},[LD],[0]];je.for(Bn).registerError(O4t,ID);P4t="unit",k4t=[-3,rOe,"SSOServiceException",0,[],[]];je.for(rOe).registerError(k4t,Mm);D4t=[1,Bn,$Tt,0,()=>b4t],M4t=[1,Bn,e4t,0,()=>C4t],nOe=[9,Bn,FTt,{[kD]:["GET","/federation/credentials",200]},()=>v4t,()=>_4t],iOe=[9,Bn,QTt,{[kD]:["GET","/assignment/roles",200]},()=>x4t,()=>w4t],oOe=[9,Bn,jTt,{[kD]:["GET","/assignment/accounts",200]},()=>A4t,()=>E4t],sOe=[9,Bn,GTt,{[kD]:["POST","/logout",200]},()=>T4t,()=>P4t]});var tw,eee=b(()=>{"use strict";We();Te();Xx();ew();tw=class extends se.classBuilder().ep(I0).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").sc(nOe).build(){}});var rw,FD=b(()=>{"use strict";We();Te();Xx();ew();rw=class extends se.classBuilder().ep(I0).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").sc(iOe).build(){}});var nw,zD=b(()=>{"use strict";We();Te();Xx();ew();nw=class extends se.classBuilder().ep(I0).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").sc(oOe).build(){}});var HD,tee=b(()=>{"use strict";We();Te();Xx();ew();HD=class extends se.classBuilder().ep(I0).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").sc(sOe).build(){}});var aOe,ree=b(()=>{"use strict";Wn();FD();CR();aOe=Ei(Zp,rw,"nextToken","nextToken","maxResults")});var cOe,nee=b(()=>{"use strict";Wn();zD();CR();cOe=Ei(Zp,nw,"nextToken","nextToken","maxResults")});var L4t,B4t,iee,lOe=b(()=>{"use strict";Te();eee();FD();zD();tee();ree();nee();CR();L4t={GetRoleCredentialsCommand:tw,ListAccountRolesCommand:rw,ListAccountsCommand:nw,LogoutCommand:HD},B4t={paginateListAccountRoles:aOe,paginateListAccounts:cOe},iee=class extends Zp{};su(L4t,iee,{paginators:B4t})});var uOe=b(()=>{"use strict";eee();FD();zD();tee()});var dOe=b(()=>{"use strict"});var pOe=b(()=>{"use strict";dOe();ree();nee()});var fOe=b(()=>{"use strict"});var mOe=b(()=>{"use strict";CR();lOe();uOe();ew();pOe();ZZ();fOe()});var hOe={};Nr(hOe,{GetRoleCredentialsCommand:()=>tw,SSOClient:()=>Zp});var gOe=b(()=>{"use strict";mOe()});var NR,oee,yOe=b(()=>{"use strict";ys();bNe();xn();hc();NR=!1,oee=async({ssoStartUrl:t,ssoSession:e,ssoAccountId:r,ssoRegion:n,ssoRoleName:i,ssoClient:o,clientConfig:s,parentClientConfig:a,callerClientConfig:c,profile:l,filepath:u,configFilepath:d,ignoreCache:p,logger:f})=>{let h,m="To refresh this SSO session run aws sso login with the corresponding profile.";if(e)try{let W=await mNe({profile:l,filepath:u,configFilepath:d,ignoreCache:p})();h={accessToken:W.token,expiresAt:new Date(W.expiration).toISOString()}}catch(W){throw new _t(W.message,{tryNextLink:NR,logger:f})}else try{h=await iR(t)}catch{throw new _t(`The SSO session associated with this profile is invalid. ${m}`,{tryNextLink:NR,logger:f})}if(new Date(h.expiresAt).getTime()-Date.now()<=0)throw new _t(`The SSO session associated with this profile has expired. ${m}`,{tryNextLink:NR,logger:f});let{accessToken:g}=h,{SSOClient:y,GetRoleCredentialsCommand:v}=await Promise.resolve().then(()=>(gOe(),hOe)),S=o||new y(Object.assign({},s??{},{logger:s?.logger??c?.logger??a?.logger,region:s?.region??n,userAgentAppId:s?.userAgentAppId??c?.userAgentAppId??a?.userAgentAppId})),w;try{w=await S.send(new v({accountId:r,roleName:i,accessToken:g}))}catch(W){throw new _t(W,{tryNextLink:NR,logger:f})}let{roleCredentials:{accessKeyId:E,secretAccessKey:I,sessionToken:D,expiration:k,credentialScope:P,accountId:$}={}}=w;if(!E||!I||!D||!k)throw new _t("SSO returns an invalid temporary credential.",{tryNextLink:NR,logger:f});let H={accessKeyId:E,secretAccessKey:I,sessionToken:D,expiration:new Date(k),...P&&{credentialScope:P},...$&&{accountId:$}};return e?zr(H,"CREDENTIALS_SSO","s"):zr(H,"CREDENTIALS_SSO_LEGACY","u"),H}});var see,aee=b(()=>{"use strict";xn();see=(t,e)=>{let{sso_start_url:r,sso_account_id:n,sso_region:i,sso_role_name:o}=t;if(!r||!n||!i||!o)throw new _t(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(t).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:e});return t}});var $4t,bOe=b(()=>{"use strict";xn();hc();DZ();yOe();aee();$4t=(t={})=>async({callerClientConfig:e}={})=>{t.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:i,ssoRoleName:o,ssoSession:s}=t,{ssoClient:a}=t,c=mc({profile:t.profile??e?.profile});if(!r&&!n&&!i&&!o&&!s){let u=(await Xp(t))[c];if(!u)throw new _t(`Profile ${c} was not found.`,{logger:t.logger});if(!kZ(u))throw new _t(`Profile ${c} is not configured with SSO credentials.`,{logger:t.logger});if(u?.sso_session){let y=(await tD(t))[u.sso_session],v=` configurations in profile ${c} and sso-session ${u.sso_session}`;if(i&&i!==y.sso_region)throw new _t("Conflicting SSO region"+v,{tryNextLink:!1,logger:t.logger});if(r&&r!==y.sso_start_url)throw new _t("Conflicting SSO start_url"+v,{tryNextLink:!1,logger:t.logger});u.sso_region=y.sso_region,u.sso_start_url=y.sso_start_url}let{sso_start_url:d,sso_account_id:p,sso_region:f,sso_role_name:h,sso_session:m}=see(u,t.logger);return oee({ssoStartUrl:d,ssoSession:m,ssoAccountId:p,ssoRegion:f,ssoRoleName:h,ssoClient:a,clientConfig:t.clientConfig,parentClientConfig:t.parentClientConfig,callerClientConfig:t.callerClientConfig,profile:c,filepath:t.filepath,configFilepath:t.configFilepath,ignoreCache:t.ignoreCache,logger:t.logger})}else{if(!r||!n||!i||!o)throw new _t('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:t.logger});return oee({ssoStartUrl:r,ssoSession:s,ssoAccountId:n,ssoRegion:i,ssoRoleName:o,ssoClient:a,clientConfig:t.clientConfig,parentClientConfig:t.parentClientConfig,callerClientConfig:t.callerClientConfig,profile:c,filepath:t.filepath,configFilepath:t.configFilepath,ignoreCache:t.ignoreCache,logger:t.logger})}}});var vOe=b(()=>{"use strict"});var cee={};Nr(cee,{fromSSO:()=>$4t,isSsoProfile:()=>kZ,validateSsoProfile:()=>see});var lee=b(()=>{"use strict";bOe();DZ();vOe();aee()});var _Oe,uee,SOe=b(()=>{"use strict";ys();xn();_Oe=(t,e,r)=>{let n={EcsContainer:async i=>{let{fromHttp:o}=await Promise.resolve().then(()=>(PZ(),OZ)),{fromContainerMetadata:s}=await Promise.resolve().then(()=>(pR(),dR));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>Mx(o(i??{}),s(i))().then(uee)},Ec2InstanceMetadata:async i=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:o}=await Promise.resolve().then(()=>(pR(),dR));return async()=>o(i)().then(uee)},Environment:async i=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:o}=await Promise.resolve().then(()=>(xZ(),l8e));return async()=>o(i)().then(uee)}};if(t in n)return n[t];throw new _t(`Unsupported credential source in profile ${e}. Got ${t}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},uee=t=>zr(t,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p")});function U4t(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function F4t(t){return{schemeId:"smithy.api#noAuth"}}var xOe,wOe,z4t,AOe,dee=b(()=>{"use strict";wo();Ws();OR();xOe=async(t,e,r)=>({operation:$i(e).operation,region:await hn(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});wOe=t=>{let e=[];switch(t.operation){case"AssumeRoleWithWebIdentity":{e.push(F4t(t));break}default:e.push(U4t(t))}return e},z4t=t=>Object.assign(t,{stsClientCtor:ef}),AOe=t=>{let e=z4t(t),r=ou(e);return Object.assign(r,{authSchemePreference:hn(t.authSchemePreference??[])})}});var EOe,VD,GD=b(()=>{"use strict";EOe=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,defaultSigningName:"sts"}),VD={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var LOe,Sr,en,C0,vs,BOe,$Oe,fi,TOe,tf,iw,fee,ROe,pee,UOe,IOe,_s,COe,FOe,zOe,Zs,sl,NOe,HOe,VOe,OOe,GOe,POe,kOe,DOe,MOe,H4t,jOe,qOe=b(()=>{"use strict";LOe="required",Sr="type",en="argv",C0="booleanEquals",vs="stringEquals",BOe="sigv4",$Oe="us-east-1",fi="endpoint",TOe="https://sts.{Region}.{PartitionResult#dnsSuffix}",tf="tree",iw="error",fee="getAttr",ROe={[LOe]:!1,[Sr]:"string"},pee={[LOe]:!0,default:!1,[Sr]:"boolean"},UOe={ref:"Endpoint"},IOe={fn:"isSet",[en]:[{ref:"Region"}]},_s={ref:"Region"},COe={fn:"aws.partition",[en]:[_s],assign:"PartitionResult"},FOe={ref:"UseFIPS"},zOe={ref:"UseDualStack"},Zs={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:BOe,signingName:"sts",signingRegion:$Oe}]},headers:{}},sl={},NOe={conditions:[{fn:vs,[en]:[_s,"aws-global"]}],[fi]:Zs,[Sr]:fi},HOe={fn:C0,[en]:[FOe,!0]},VOe={fn:C0,[en]:[zOe,!0]},OOe={fn:fee,[en]:[{ref:"PartitionResult"},"supportsFIPS"]},GOe={ref:"PartitionResult"},POe={fn:C0,[en]:[!0,{fn:fee,[en]:[GOe,"supportsDualStack"]}]},kOe=[{fn:"isSet",[en]:[UOe]}],DOe=[HOe],MOe=[VOe],H4t={version:"1.0",parameters:{Region:ROe,UseDualStack:pee,UseFIPS:pee,Endpoint:ROe,UseGlobalEndpoint:pee},rules:[{conditions:[{fn:C0,[en]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[en]:kOe},IOe,COe,{fn:C0,[en]:[FOe,!1]},{fn:C0,[en]:[zOe,!1]}],rules:[{conditions:[{fn:vs,[en]:[_s,"ap-northeast-1"]}],endpoint:Zs,[Sr]:fi},{conditions:[{fn:vs,[en]:[_s,"ap-south-1"]}],endpoint:Zs,[Sr]:fi},{conditions:[{fn:vs,[en]:[_s,"ap-southeast-1"]}],endpoint:Zs,[Sr]:fi},{conditions:[{fn:vs,[en]:[_s,"ap-southeast-2"]}],endpoint:Zs,[Sr]:fi},NOe,{conditions:[{fn:vs,[en]:[_s,"ca-central-1"]}],endpoint:Zs,[Sr]:fi},{conditions:[{fn:vs,[en]:[_s,"eu-central-1"]}],endpoint:Zs,[Sr]:fi},{conditions:[{fn:vs,[en]:[_s,"eu-north-1"]}],endpoint:Zs,[Sr]:fi},{conditions:[{fn:vs,[en]:[_s,"eu-west-1"]}],endpoint:Zs,[Sr]:fi},{conditions:[{fn:vs,[en]:[_s,"eu-west-2"]}],endpoint:Zs,[Sr]:fi},{conditions:[{fn:vs,[en]:[_s,"eu-west-3"]}],endpoint:Zs,[Sr]:fi},{conditions:[{fn:vs,[en]:[_s,"sa-east-1"]}],endpoint:Zs,[Sr]:fi},{conditions:[{fn:vs,[en]:[_s,$Oe]}],endpoint:Zs,[Sr]:fi},{conditions:[{fn:vs,[en]:[_s,"us-east-2"]}],endpoint:Zs,[Sr]:fi},{conditions:[{fn:vs,[en]:[_s,"us-west-1"]}],endpoint:Zs,[Sr]:fi},{conditions:[{fn:vs,[en]:[_s,"us-west-2"]}],endpoint:Zs,[Sr]:fi},{endpoint:{url:TOe,properties:{authSchemes:[{name:BOe,signingName:"sts",signingRegion:"{Region}"}]},headers:sl},[Sr]:fi}],[Sr]:tf},{conditions:kOe,rules:[{conditions:DOe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[Sr]:iw},{conditions:MOe,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[Sr]:iw},{endpoint:{url:UOe,properties:sl,headers:sl},[Sr]:fi}],[Sr]:tf},{conditions:[IOe],rules:[{conditions:[COe],rules:[{conditions:[HOe,VOe],rules:[{conditions:[{fn:C0,[en]:[!0,OOe]},POe],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:sl,headers:sl},[Sr]:fi}],[Sr]:tf},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[Sr]:iw}],[Sr]:tf},{conditions:DOe,rules:[{conditions:[{fn:C0,[en]:[OOe,!0]}],rules:[{conditions:[{fn:vs,[en]:[{fn:fee,[en]:[GOe,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:sl,headers:sl},[Sr]:fi},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:sl,headers:sl},[Sr]:fi}],[Sr]:tf},{error:"FIPS is enabled but this partition does not support FIPS",[Sr]:iw}],[Sr]:tf},{conditions:MOe,rules:[{conditions:[POe],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:sl,headers:sl},[Sr]:fi}],[Sr]:tf},{error:"DualStack is enabled but this partition does not support DualStack",[Sr]:iw}],[Sr]:tf},NOe,{endpoint:{url:TOe,properties:sl,headers:sl},[Sr]:fi}],[Sr]:tf}],[Sr]:tf},{error:"Invalid Configuration: Missing Region",[Sr]:iw}]},jOe=H4t});var V4t,WOe,JOe=b(()=>{"use strict";f0();Dd();qOe();V4t=new dc({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),WOe=(t,e={})=>V4t.get(t,()=>eu(jOe,{endpointParams:t,logger:e.logger}));gs.aws=nl});var KOe,QOe=b(()=>{"use strict";wo();Nm();Wn();Te();Cm();Js();Yi();dee();JOe();KOe=t=>({apiVersion:"2011-06-15",base64Decoder:t?.base64Decoder??Ti,base64Encoder:t?.base64Encoder??qn,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??WOe,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??wOe,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new bs},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ql}],logger:t?.logger??new Xs,protocol:t?.protocol??W7,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.sts",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/",version:"2011-06-15",serviceTarget:"AWSSecurityTokenServiceV20110615"},serviceId:t?.serviceId??"STS",urlParser:t?.urlParser??Zo,utf8Decoder:t?.utf8Decoder??ti,utf8Encoder:t?.utf8Encoder??jn})});var XOe,YOe=b(()=>{"use strict";SD();wo();zb();Ia();Wn();Hb();ol();yu();wm();Te();Vb();Gb();Pm();QOe();XOe=t=>{cu(process.version);let e=Tu(t),r=()=>e().then(au),n=KOe(t);tu(process.version);let i={profile:t?.profile,logger:n.logger};return{...n,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??Ot(ru,i),bodyLengthChecker:t?.bodyLengthChecker??Eu,defaultUserAgentProvider:t?.defaultUserAgentProvider??wu({serviceId:n.serviceId,clientVersion:Jx.version}),httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4")||(async s=>await t.credentialDefaultProvider(s?.__config||{})()),signer:new bs},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ql}],maxAttempts:t?.maxAttempts??Ot(vu,t),region:t?.region??Ot(Ys,{...fc,...i}),requestHandler:Ks.create(t?.requestHandler??r),retryMode:t?.retryMode??Ot({...Su,default:async()=>(await r()).retryMode||gc},t),sha256:t?.sha256??yc.bind(null,"sha256"),streamCollector:t?.streamCollector??sc,useDualstackEndpoint:t?.useDualstackEndpoint??Ot(fu,i),useFipsEndpoint:t?.useFipsEndpoint??Ot(mu,i),userAgentAppId:t?.userAgentAppId??Ot(Au,i)}}});var ZOe,e9e,t9e=b(()=>{"use strict";ZOe=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(i){let o=e.findIndex(s=>s.schemeId===i.schemeId);o===-1?e.push(i):e.splice(o,1,i)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},e9e=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var r9e,n9e=b(()=>{"use strict";T0();pi();Te();t9e();r9e=(t,e)=>{let r=Object.assign(Cu(t),lu(t),Fl(t),ZOe(t));return e.forEach(n=>n.configure(r)),Object.assign(t,Nu(r),uu(r),zl(r),e9e(r))}});var ef,OR=b(()=>{"use strict";Eb();Tb();Rb();_0();Ia();Wn();gn();$b();We();ol();Te();dee();GD();YOe();n9e();ef=class extends $o{config;constructor(...[e]){let r=XOe(e||{});super(r),this.initConfig=r;let n=EOe(r),i=Xl(n),o=_u(i),s=hu(o),a=s,c=bu(a),l=AOe(c),u=r9e(l,e?.extensions||[]);this.config=u,this.middlewareStack.use(Jl(this.config)),this.middlewareStack.use(pu(this.config)),this.middlewareStack.use(xu(this.config)),this.middlewareStack.use(gu(this.config)),this.middlewareStack.use(Vl(this.config)),this.middlewareStack.use(Gl(this.config)),this.middlewareStack.use(jl(this.config)),this.middlewareStack.use(ql(this.config,{httpAuthSchemeParametersProvider:xOe,identityProviderConfigProvider:async d=>new uc({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(Wl(this.config))}destroy(){super.destroy()}}});var bc,jD=b(()=>{"use strict";Te();bc=class t extends pc{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var PR,kR,DR,MR,LR,BR,$R,mee=b(()=>{"use strict";jD();PR=class t extends bc{name="ExpiredTokenException";$fault="client";constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},kR=class t extends bc{name="MalformedPolicyDocumentException";$fault="client";constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},DR=class t extends bc{name="PackedPolicyTooLargeException";$fault="client";constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},MR=class t extends bc{name="RegionDisabledException";$fault="client";constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},LR=class t extends bc{name="IDPRejectedClaimException";$fault="client";constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},BR=class t extends bc{name="InvalidIdentityTokenException";$fault="client";constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},$R=class t extends bc{name="IDPCommunicationErrorException";$fault="client";constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}}});var G4t,j4t,q4t,W4t,J4t,K4t,hee,Q4t,X4t,Y4t,Z4t,gee,e6t,i9e,t6t,r6t,n6t,i6t,o6t,s6t,a6t,c6t,o9e,s9e,l6t,u6t,d6t,p6t,f6t,m6t,a9e,h6t,g6t,c9e,y6t,l9e,b6t,v6t,yee,_6t,S6t,x6t,w6t,A6t,E6t,T6t,R6t,I6t,C6t,qb,Wb,N6t,Jb,Kb,Qb,O6t,u9e,P6t,bn,k6t,D6t,bee,d9e,p9e,f9e,m9e,vee,h9e,g9e,y9e,b9e,v9e,_9e,S9e,x9e,w9e,A9e,E9e,T9e,M6t,L6t,_ee,See,qD=b(()=>{"use strict";gn();mee();jD();G4t="Arn",j4t="AccessKeyId",q4t="AssumeRole",W4t="AssumedRoleId",J4t="AssumeRoleRequest",K4t="AssumeRoleResponse",hee="AssumedRoleUser",Q4t="AssumeRoleWithWebIdentity",X4t="AssumeRoleWithWebIdentityRequest",Y4t="AssumeRoleWithWebIdentityResponse",Z4t="Audience",gee="Credentials",e6t="ContextAssertion",i9e="DurationSeconds",t6t="Expiration",r6t="ExternalId",n6t="ExpiredTokenException",i6t="IDPCommunicationErrorException",o6t="IDPRejectedClaimException",s6t="InvalidIdentityTokenException",a6t="Key",c6t="MalformedPolicyDocumentException",o9e="Policy",s9e="PolicyArns",l6t="ProviderArn",u6t="ProvidedContexts",d6t="ProvidedContextsListType",p6t="ProvidedContext",f6t="PolicyDescriptorType",m6t="ProviderId",a9e="PackedPolicySize",h6t="PackedPolicyTooLargeException",g6t="Provider",c9e="RoleArn",y6t="RegionDisabledException",l9e="RoleSessionName",b6t="SecretAccessKey",v6t="SubjectFromWebIdentityToken",yee="SourceIdentity",_6t="SerialNumber",S6t="SessionToken",x6t="Tags",w6t="TokenCode",A6t="TransitiveTagKeys",E6t="Tag",T6t="Value",R6t="WebIdentityToken",I6t="arn",C6t="accessKeySecretType",qb="awsQueryError",Wb="client",N6t="clientTokenType",Jb="error",Kb="httpError",Qb="message",O6t="policyDescriptorListType",u9e="smithy.ts.sdk.synthetic.com.amazonaws.sts",P6t="tagListType",bn="com.amazonaws.sts",k6t=[0,bn,C6t,8,0],D6t=[0,bn,N6t,8,0],bee=[3,bn,hee,0,[W4t,G4t],[0,0],2],d9e=[3,bn,J4t,0,[c9e,l9e,s9e,o9e,i9e,x6t,A6t,r6t,_6t,w6t,yee,u6t],[0,0,()=>T9e,0,1,()=>L6t,64,0,0,0,0,()=>M6t],2],p9e=[3,bn,K4t,0,[gee,hee,a9e,yee],[[()=>vee,0],()=>bee,1,0]],f9e=[3,bn,X4t,0,[c9e,l9e,R6t,m6t,s9e,o9e,i9e],[0,0,[()=>D6t,0],0,()=>T9e,0,1],3],m9e=[3,bn,Y4t,0,[gee,v6t,hee,a9e,g6t,Z4t,yee],[[()=>vee,0],0,()=>bee,1,0,0,0]],vee=[3,bn,gee,0,[j4t,b6t,S6t,t6t],[0,[()=>k6t,0],0,4],4],h9e=[-3,bn,n6t,{[qb]:["ExpiredTokenException",400],[Jb]:Wb,[Kb]:400},[Qb],[0]];je.for(bn).registerError(h9e,PR);g9e=[-3,bn,i6t,{[qb]:["IDPCommunicationError",400],[Jb]:Wb,[Kb]:400},[Qb],[0]];je.for(bn).registerError(g9e,$R);y9e=[-3,bn,o6t,{[qb]:["IDPRejectedClaim",403],[Jb]:Wb,[Kb]:403},[Qb],[0]];je.for(bn).registerError(y9e,LR);b9e=[-3,bn,s6t,{[qb]:["InvalidIdentityToken",400],[Jb]:Wb,[Kb]:400},[Qb],[0]];je.for(bn).registerError(b9e,BR);v9e=[-3,bn,c6t,{[qb]:["MalformedPolicyDocument",400],[Jb]:Wb,[Kb]:400},[Qb],[0]];je.for(bn).registerError(v9e,kR);_9e=[-3,bn,h6t,{[qb]:["PackedPolicyTooLarge",400],[Jb]:Wb,[Kb]:400},[Qb],[0]];je.for(bn).registerError(_9e,DR);S9e=[3,bn,f6t,0,[I6t],[0]],x9e=[3,bn,p6t,0,[l6t,e6t],[0,0]],w9e=[-3,bn,y6t,{[qb]:["RegionDisabledException",403],[Jb]:Wb,[Kb]:403},[Qb],[0]];je.for(bn).registerError(w9e,MR);A9e=[3,bn,E6t,0,[a6t,T6t],[0,0],2],E9e=[-3,u9e,"STSServiceException",0,[],[]];je.for(u9e).registerError(E9e,bc);T9e=[1,bn,O6t,0,()=>S9e],M6t=[1,bn,d6t,0,()=>x9e],L6t=[1,bn,P6t,0,()=>A9e],_ee=[9,bn,q4t,0,()=>d9e,()=>p9e],See=[9,bn,Q4t,0,()=>f9e,()=>m9e]});var Xb,WD=b(()=>{"use strict";We();Te();GD();qD();Xb=class extends se.classBuilder().ep(VD).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").sc(_ee).build(){}});var Yb,JD=b(()=>{"use strict";We();Te();GD();qD();Yb=class extends se.classBuilder().ep(VD).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").sc(See).build(){}});var B6t,KD,R9e=b(()=>{"use strict";Te();WD();JD();OR();B6t={AssumeRoleCommand:Xb,AssumeRoleWithWebIdentityCommand:Yb},KD=class extends ef{};su(B6t,KD)});var I9e=b(()=>{"use strict";WD();JD()});var C9e=b(()=>{"use strict"});var N9e,O9e,P9e,k9e,D9e,M9e=b(()=>{"use strict";ys();T0();WD();JD();N9e=t=>{if(typeof t?.Arn=="string"){let e=t.Arn.split(":");if(e.length>4&&e[4]!=="")return e[4]}},O9e=async(t,e,r,n={})=>{let i=typeof t=="function"?await t():t,o=typeof e=="function"?await e():e,s="",a=i??o??(s=await NCe(n)());return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${i} (credential provider clientConfig)`,`${o} (contextual client)`,`${s} (STS default: AWS_REGION, profile region, or us-east-1)`),a},P9e=(t,e)=>{let r,n;return async(i,o)=>{if(n=i,!r){let{logger:u=t?.parentClientConfig?.logger,profile:d=t?.parentClientConfig?.profile,region:p,requestHandler:f=t?.parentClientConfig?.requestHandler,credentialProviderLogger:h,userAgentAppId:m=t?.parentClientConfig?.userAgentAppId}=t,g=await O9e(p,t?.parentClientConfig?.region,h,{logger:u,profile:d}),y=!D9e(f);r=new e({...t,userAgentAppId:m,profile:d,credentialDefaultProvider:()=>async()=>n,region:g,requestHandler:y?f:void 0,logger:u})}let{Credentials:s,AssumedRoleUser:a}=await r.send(new Xb(o));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);let c=N9e(a),l={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...c&&{accountId:c}};return zr(l,"CREDENTIALS_STS_ASSUME_ROLE","i"),l}},k9e=(t,e)=>{let r;return async n=>{if(!r){let{logger:c=t?.parentClientConfig?.logger,profile:l=t?.parentClientConfig?.profile,region:u,requestHandler:d=t?.parentClientConfig?.requestHandler,credentialProviderLogger:p,userAgentAppId:f=t?.parentClientConfig?.userAgentAppId}=t,h=await O9e(u,t?.parentClientConfig?.region,p,{logger:c,profile:l}),m=!D9e(d);r=new e({...t,userAgentAppId:f,profile:l,region:h,requestHandler:m?d:void 0,logger:c})}let{Credentials:i,AssumedRoleUser:o}=await r.send(new Yb(n));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let s=N9e(o),a={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...s&&{accountId:s}};return s&&zr(a,"RESOLVED_ACCOUNT_ID","T"),zr(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},D9e=t=>t?.metadata?.handlerProtocol==="h2"});var L9e,B9e,$9e,$6t,U9e=b(()=>{"use strict";M9e();OR();L9e=(t,e)=>e?class extends t{constructor(n){super(n);for(let i of e)this.middlewareStack.use(i)}}:t,B9e=(t={},e)=>P9e(t,L9e(ef,e)),$9e=(t={},e)=>k9e(t,L9e(ef,e)),$6t=t=>e=>t({roleAssumer:B9e(e),roleAssumerWithWebIdentity:$9e(e),...e})});var xee={};Nr(xee,{$Command:()=>se,AssumeRole$:()=>_ee,AssumeRoleCommand:()=>Xb,AssumeRoleRequest$:()=>d9e,AssumeRoleResponse$:()=>p9e,AssumeRoleWithWebIdentity$:()=>See,AssumeRoleWithWebIdentityCommand:()=>Yb,AssumeRoleWithWebIdentityRequest$:()=>f9e,AssumeRoleWithWebIdentityResponse$:()=>m9e,AssumedRoleUser$:()=>bee,Credentials$:()=>vee,ExpiredTokenException:()=>PR,ExpiredTokenException$:()=>h9e,IDPCommunicationErrorException:()=>$R,IDPCommunicationErrorException$:()=>g9e,IDPRejectedClaimException:()=>LR,IDPRejectedClaimException$:()=>y9e,InvalidIdentityTokenException:()=>BR,InvalidIdentityTokenException$:()=>b9e,MalformedPolicyDocumentException:()=>kR,MalformedPolicyDocumentException$:()=>v9e,PackedPolicyTooLargeException:()=>DR,PackedPolicyTooLargeException$:()=>_9e,PolicyDescriptorType$:()=>S9e,ProvidedContext$:()=>x9e,RegionDisabledException:()=>MR,RegionDisabledException$:()=>w9e,STS:()=>KD,STSClient:()=>ef,STSServiceException:()=>bc,STSServiceException$:()=>E9e,Tag$:()=>A9e,__Client:()=>$o,decorateDefaultCredentialProvider:()=>$6t,getDefaultRoleAssumer:()=>B9e,getDefaultRoleAssumerWithWebIdentity:()=>$9e});var wee=b(()=>{"use strict";OR();R9e();I9e();qD();mee();C9e();U9e();jD()});var z9e,U6t,F6t,H9e,F9e,V9e=b(()=>{"use strict";ys();xn();hc();SOe();z9e=(t,{profile:e="default",logger:r}={})=>!!t&&typeof t=="object"&&typeof t.role_arn=="string"&&["undefined","string"].indexOf(typeof t.role_session_name)>-1&&["undefined","string"].indexOf(typeof t.external_id)>-1&&["undefined","string"].indexOf(typeof t.mfa_serial)>-1&&(U6t(t,{profile:e,logger:r})||F6t(t,{profile:e,logger:r})),U6t=(t,{profile:e,logger:r})=>{let n=typeof t.source_profile=="string"&&typeof t.credential_source>"u";return n&&r?.debug?.(`    ${e} isAssumeRoleWithSourceProfile source_profile=${t.source_profile}`),n},F6t=(t,{profile:e,logger:r})=>{let n=typeof t.credential_source=="string"&&typeof t.source_profile>"u";return n&&r?.debug?.(`    ${e} isCredentialSourceProfile credential_source=${t.credential_source}`),n},H9e=async(t,e,r,n,i={},o)=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let s=e[t],{source_profile:a,region:c}=s;if(!r.roleAssumer){let{getDefaultRoleAssumer:u}=await Promise.resolve().then(()=>(wee(),xee));r.roleAssumer=u({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...n,...r?.parentClientConfig,region:c??r?.parentClientConfig?.region??n?.region}},r.clientPlugins)}if(a&&a in i)throw new _t(`Detected a cycle attempting to resolve credentials for profile ${mc(r)}. Profiles visited: `+Object.keys(i).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${a?`source_profile=[${a}]`:`profile=[${t}]`}`);let l=a?o(a,e,r,n,{...i,[a]:!0},F9e(e[a]??{})):(await _Oe(s.credential_source,t,r.logger)(r))();if(F9e(s))return l.then(u=>zr(u,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let u={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id,DurationSeconds:parseInt(s.duration_seconds||"3600",10)},{mfa_serial:d}=s;if(d){if(!r.mfaCodeProvider)throw new _t(`Profile ${t} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});u.SerialNumber=d,u.TokenCode=await r.mfaCodeProvider(d)}let p=await l;return r.roleAssumer(p,u).then(f=>zr(f,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},F9e=t=>!t.role_arn&&!!t.credential_source});function z6t(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"signin",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function H6t(t){return{schemeId:"smithy.api#noAuth"}}var G9e,j9e,q9e,Aee=b(()=>{"use strict";wo();Ws();G9e=async(t,e,r)=>({operation:$i(e).operation,region:await hn(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});j9e=t=>{let e=[];switch(t.operation){case"CreateOAuth2Token":{e.push(H6t(t));break}default:e.push(z6t(t))}return e},q9e=t=>{let e=ou(t);return Object.assign(e,{authSchemePreference:hn(t.authSchemePreference??[])})}});var W9e,J9e,Eee=b(()=>{"use strict";W9e=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"signin"}),J9e={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var rPe,ta,K9e,Zb,ow,N0,$d,YD,Tee,Q9e,X9e,Y9e,Ree,Iee,ea,Cee,QD,XD,Z9e,ePe,tPe,V6t,nPe,iPe=b(()=>{"use strict";rPe="required",ta="argv",K9e="isSet",Zb="booleanEquals",ow="error",N0="endpoint",$d="tree",YD="PartitionResult",Tee="stringEquals",Q9e={[rPe]:!0,default:!1,type:"boolean"},X9e={[rPe]:!1,type:"string"},Y9e={ref:"Endpoint"},Ree={fn:Zb,[ta]:[{ref:"UseFIPS"},!0]},Iee={fn:Zb,[ta]:[{ref:"UseDualStack"},!0]},ea={},Cee={fn:"getAttr",[ta]:[{ref:YD},"name"]},QD={fn:Zb,[ta]:[{ref:"UseFIPS"},!1]},XD={fn:Zb,[ta]:[{ref:"UseDualStack"},!1]},Z9e={fn:"getAttr",[ta]:[{ref:YD},"supportsFIPS"]},ePe={fn:Zb,[ta]:[!0,{fn:"getAttr",[ta]:[{ref:YD},"supportsDualStack"]}]},tPe=[{ref:"Region"}],V6t={version:"1.0",parameters:{UseDualStack:Q9e,UseFIPS:Q9e,Endpoint:X9e,Region:X9e},rules:[{conditions:[{fn:K9e,[ta]:[Y9e]}],rules:[{conditions:[Ree],error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:ow},{rules:[{conditions:[Iee],error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:ow},{endpoint:{url:Y9e,properties:ea,headers:ea},type:N0}],type:$d}],type:$d},{rules:[{conditions:[{fn:K9e,[ta]:tPe}],rules:[{conditions:[{fn:"aws.partition",[ta]:tPe,assign:YD}],rules:[{conditions:[{fn:Tee,[ta]:[Cee,"aws"]},QD,XD],endpoint:{url:"https://{Region}.signin.aws.amazon.com",properties:ea,headers:ea},type:N0},{conditions:[{fn:Tee,[ta]:[Cee,"aws-cn"]},QD,XD],endpoint:{url:"https://{Region}.signin.amazonaws.cn",properties:ea,headers:ea},type:N0},{conditions:[{fn:Tee,[ta]:[Cee,"aws-us-gov"]},QD,XD],endpoint:{url:"https://{Region}.signin.amazonaws-us-gov.com",properties:ea,headers:ea},type:N0},{conditions:[Ree,Iee],rules:[{conditions:[{fn:Zb,[ta]:[!0,Z9e]},ePe],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ea,headers:ea},type:N0}],type:$d},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:ow}],type:$d},{conditions:[Ree,XD],rules:[{conditions:[{fn:Zb,[ta]:[Z9e,!0]}],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ea,headers:ea},type:N0}],type:$d},{error:"FIPS is enabled but this partition does not support FIPS",type:ow}],type:$d},{conditions:[QD,Iee],rules:[{conditions:[ePe],rules:[{endpoint:{url:"https://signin.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ea,headers:ea},type:N0}],type:$d},{error:"DualStack is enabled but this partition does not support DualStack",type:ow}],type:$d},{endpoint:{url:"https://signin.{Region}.{PartitionResult#dnsSuffix}",properties:ea,headers:ea},type:N0}],type:$d}],type:$d},{error:"Invalid Configuration: Missing Region",type:ow}],type:$d}]},nPe=V6t});var G6t,oPe,sPe=b(()=>{"use strict";f0();Dd();iPe();G6t=new dc({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),oPe=(t,e={})=>G6t.get(t,()=>eu(nPe,{endpointParams:t,logger:e.logger}));gs.aws=nl});var aPe,cPe=b(()=>{"use strict";wo();Nm();Wn();Te();Cm();Js();Yi();Aee();sPe();aPe=t=>({apiVersion:"2023-01-01",base64Decoder:t?.base64Decoder??Ti,base64Encoder:t?.base64Encoder??qn,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??oPe,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??j9e,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new bs},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ql}],logger:t?.logger??new Xs,protocol:t?.protocol??b0,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.signin",version:"2023-01-01",serviceTarget:"Signin"},serviceId:t?.serviceId??"Signin",urlParser:t?.urlParser??Zo,utf8Decoder:t?.utf8Decoder??ti,utf8Encoder:t?.utf8Encoder??jn})});var lPe,uPe=b(()=>{"use strict";SD();wo();zb();Ia();Hb();ol();yu();wm();Te();Vb();Gb();Pm();cPe();lPe=t=>{cu(process.version);let e=Tu(t),r=()=>e().then(au),n=aPe(t);tu(process.version);let i={profile:t?.profile,logger:n.logger};return{...n,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??Ot(ru,i),bodyLengthChecker:t?.bodyLengthChecker??Eu,defaultUserAgentProvider:t?.defaultUserAgentProvider??wu({serviceId:n.serviceId,clientVersion:Jx.version}),maxAttempts:t?.maxAttempts??Ot(vu,t),region:t?.region??Ot(Ys,{...fc,...i}),requestHandler:Ks.create(t?.requestHandler??r),retryMode:t?.retryMode??Ot({...Su,default:async()=>(await r()).retryMode||gc},t),sha256:t?.sha256??yc.bind(null,"sha256"),streamCollector:t?.streamCollector??sc,useDualstackEndpoint:t?.useDualstackEndpoint??Ot(fu,i),useFipsEndpoint:t?.useFipsEndpoint??Ot(mu,i),userAgentAppId:t?.userAgentAppId??Ot(Au,i)}}});var dPe,pPe,fPe=b(()=>{"use strict";dPe=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(i){let o=e.findIndex(s=>s.schemeId===i.schemeId);o===-1?e.push(i):e.splice(o,1,i)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},pPe=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var mPe,hPe=b(()=>{"use strict";T0();pi();Te();fPe();mPe=(t,e)=>{let r=Object.assign(Cu(t),lu(t),Fl(t),dPe(t));return e.forEach(n=>n.configure(r)),Object.assign(t,Nu(r),uu(r),zl(r),pPe(r))}});var UR,Nee=b(()=>{"use strict";Eb();Tb();Rb();_0();Ia();Wn();gn();$b();We();ol();Te();Aee();Eee();uPe();hPe();UR=class extends $o{config;constructor(...[e]){let r=lPe(e||{});super(r),this.initConfig=r;let n=W9e(r),i=Xl(n),o=_u(i),s=hu(o),a=s,c=bu(a),l=q9e(c),u=mPe(l,e?.extensions||[]);this.config=u,this.middlewareStack.use(Jl(this.config)),this.middlewareStack.use(pu(this.config)),this.middlewareStack.use(xu(this.config)),this.middlewareStack.use(gu(this.config)),this.middlewareStack.use(Vl(this.config)),this.middlewareStack.use(Gl(this.config)),this.middlewareStack.use(jl(this.config)),this.middlewareStack.use(ql(this.config,{httpAuthSchemeParametersProvider:G9e,identityProviderConfigProvider:async d=>new uc({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(Wl(this.config))}destroy(){super.destroy()}}});var Ud,ZD=b(()=>{"use strict";Te();Ud=class t extends pc{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var FR,zR,HR,VR,Oee=b(()=>{"use strict";ZD();FR=class t extends Ud{name="AccessDeniedException";$fault="client";error;constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error}},zR=class t extends Ud{name="InternalServerException";$fault="server";error;constructor(e){super({name:"InternalServerException",$fault:"server",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error}},HR=class t extends Ud{name="TooManyRequestsError";$fault="client";error;constructor(e){super({name:"TooManyRequestsError",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error}},VR=class t extends Ud{name="ValidationException";$fault="client";error;constructor(e){super({name:"ValidationException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error}}});var j6t,q6t,W6t,J6t,K6t,Q6t,X6t,Y6t,Z6t,eRt,tRt,gPe,yPe,Pee,bPe,vPe,rRt,O0,_Pe,SPe,nRt,kee,xPe,al,tM,eM,wPe,iRt,APe,EPe,RPe,oRt,sRt,TPe,Ca,IPe,CPe,NPe,OPe,PPe,kPe,DPe,MPe,LPe,BPe,$Pe,Dee,Mee=b(()=>{"use strict";gn();Oee();ZD();j6t="AccessDeniedException",q6t="AccessToken",W6t="CreateOAuth2Token",J6t="CreateOAuth2TokenRequest",K6t="CreateOAuth2TokenRequestBody",Q6t="CreateOAuth2TokenResponseBody",X6t="CreateOAuth2TokenResponse",Y6t="InternalServerException",Z6t="RefreshToken",eRt="TooManyRequestsError",tRt="ValidationException",gPe="accessKeyId",yPe="accessToken",Pee="client",bPe="clientId",vPe="codeVerifier",rRt="code",O0="error",_Pe="expiresIn",SPe="grantType",nRt="http",kee="httpError",xPe="idToken",al="jsonName",tM="message",eM="refreshToken",wPe="redirectUri",iRt="server",APe="secretAccessKey",EPe="sessionToken",RPe="smithy.ts.sdk.synthetic.com.amazonaws.signin",oRt="tokenInput",sRt="tokenOutput",TPe="tokenType",Ca="com.amazonaws.signin",IPe=[0,Ca,Z6t,8,0],CPe=[-3,Ca,j6t,{[O0]:Pee},[O0,tM],[0,0],2];je.for(Ca).registerError(CPe,FR);NPe=[3,Ca,q6t,8,[gPe,APe,EPe],[[0,{[al]:gPe}],[0,{[al]:APe}],[0,{[al]:EPe}]],3],OPe=[3,Ca,J6t,0,[oRt],[[()=>PPe,16]],1],PPe=[3,Ca,K6t,0,[bPe,SPe,rRt,wPe,vPe,eM],[[0,{[al]:bPe}],[0,{[al]:SPe}],0,[0,{[al]:wPe}],[0,{[al]:vPe}],[()=>IPe,{[al]:eM}]],2],kPe=[3,Ca,X6t,0,[sRt],[[()=>DPe,16]],1],DPe=[3,Ca,Q6t,0,[yPe,TPe,_Pe,eM,xPe],[[()=>NPe,{[al]:yPe}],[0,{[al]:TPe}],[1,{[al]:_Pe}],[()=>IPe,{[al]:eM}],[0,{[al]:xPe}]],4],MPe=[-3,Ca,Y6t,{[O0]:iRt,[kee]:500},[O0,tM],[0,0],2];je.for(Ca).registerError(MPe,zR);LPe=[-3,Ca,eRt,{[O0]:Pee,[kee]:429},[O0,tM],[0,0],2];je.for(Ca).registerError(LPe,HR);BPe=[-3,Ca,tRt,{[O0]:Pee,[kee]:400},[O0,tM],[0,0],2];je.for(Ca).registerError(BPe,VR);$Pe=[-3,RPe,"SigninServiceException",0,[],[]];je.for(RPe).registerError($Pe,Ud);Dee=[9,Ca,W6t,{[nRt]:["POST","/v1/token",200]},()=>OPe,()=>kPe]});var GR,Lee=b(()=>{"use strict";We();Te();Eee();Mee();GR=class extends se.classBuilder().ep(J9e).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("Signin","CreateOAuth2Token",{}).n("SigninClient","CreateOAuth2TokenCommand").sc(Dee).build(){}});var aRt,rM,UPe=b(()=>{"use strict";Te();Lee();Nee();aRt={CreateOAuth2TokenCommand:GR},rM=class extends UR{};su(aRt,rM)});var FPe=b(()=>{"use strict";Lee()});var cRt,zPe=b(()=>{"use strict";cRt={AUTHCODE_EXPIRED:"AUTHCODE_EXPIRED",INSUFFICIENT_PERMISSIONS:"INSUFFICIENT_PERMISSIONS",INVALID_REQUEST:"INVALID_REQUEST",SERVER_ERROR:"server_error",TOKEN_EXPIRED:"TOKEN_EXPIRED",USER_CREDENTIALS_CHANGED:"USER_CREDENTIALS_CHANGED"}});var HPe=b(()=>{"use strict"});var VPe={};Nr(VPe,{$Command:()=>se,AccessDeniedException:()=>FR,AccessDeniedException$:()=>CPe,AccessToken$:()=>NPe,CreateOAuth2Token$:()=>Dee,CreateOAuth2TokenCommand:()=>GR,CreateOAuth2TokenRequest$:()=>OPe,CreateOAuth2TokenRequestBody$:()=>PPe,CreateOAuth2TokenResponse$:()=>kPe,CreateOAuth2TokenResponseBody$:()=>DPe,InternalServerException:()=>zR,InternalServerException$:()=>MPe,OAuth2ErrorCode:()=>cRt,Signin:()=>rM,SigninClient:()=>UR,SigninServiceException:()=>Ud,SigninServiceException$:()=>$Pe,TooManyRequestsError:()=>HR,TooManyRequestsError$:()=>LPe,ValidationException:()=>VR,ValidationException$:()=>BPe,__Client:()=>$o});var GPe=b(()=>{"use strict";Nee();UPe();FPe();Mee();zPe();Oee();HPe();ZD()});import{createHash as lRt,createPrivateKey as uRt,createPublicKey as dRt,sign as pRt}from"node:crypto";import{promises as Bee}from"node:fs";import{homedir as fRt}from"node:os";import{dirname as mRt,join as jPe}from"node:path";var nM,qPe=b(()=>{"use strict";xn();pi();hc();nM=class t{profileData;init;callerClientConfig;static REFRESH_THRESHOLD=300*1e3;constructor(e,r,n){this.profileData=e,this.init=r,this.callerClientConfig=n}async loadCredentials(){let e=await this.loadToken();if(!e)throw new _t(`Failed to load a token for session ${this.loginSession}, please re-authenticate using aws login`,{tryNextLink:!1,logger:this.logger});let r=e.accessToken,n=Date.now();return new Date(r.expiresAt).getTime()-n<=t.REFRESH_THRESHOLD?this.refresh(e):{accessKeyId:r.accessKeyId,secretAccessKey:r.secretAccessKey,sessionToken:r.sessionToken,accountId:r.accountId,expiration:new Date(r.expiresAt)}}get logger(){return this.init?.logger}get loginSession(){return this.profileData.login_session}async refresh(e){let{SigninClient:r,CreateOAuth2TokenCommand:n}=await Promise.resolve().then(()=>(GPe(),VPe)),{logger:i,userAgentAppId:o}=this.callerClientConfig??{},a=(d=>d?.metadata?.handlerProtocol==="h2")(this.callerClientConfig?.requestHandler)?void 0:this.callerClientConfig?.requestHandler,c=this.profileData.region??await this.callerClientConfig?.region?.()??process.env.AWS_REGION,l=new r({credentials:{accessKeyId:"",secretAccessKey:""},region:c,requestHandler:a,logger:i,userAgentAppId:o,...this.init?.clientConfig});this.createDPoPInterceptor(l.middlewareStack);let u={tokenInput:{clientId:e.clientId,refreshToken:e.refreshToken,grantType:"refresh_token"}};try{let d=await l.send(new n(u)),{accessKeyId:p,secretAccessKey:f,sessionToken:h}=d.tokenOutput?.accessToken??{},{refreshToken:m,expiresIn:g}=d.tokenOutput??{};if(!p||!f||!h||!m)throw new _t("Token refresh response missing required fields",{logger:this.logger,tryNextLink:!1});let y=(g??900)*1e3,v=new Date(Date.now()+y),S={...e,accessToken:{...e.accessToken,accessKeyId:p,secretAccessKey:f,sessionToken:h,expiresAt:v.toISOString()},refreshToken:m};await this.saveToken(S);let w=S.accessToken;return{accessKeyId:w.accessKeyId,secretAccessKey:w.secretAccessKey,sessionToken:w.sessionToken,accountId:w.accountId,expiration:v}}catch(d){if(d.name==="AccessDeniedException"){let p=d.error,f;switch(p){case"TOKEN_EXPIRED":f="Your session has expired. Please reauthenticate.";break;case"USER_CREDENTIALS_CHANGED":f="Unable to refresh credentials because of a change in your password. Please reauthenticate with your new password.";break;case"INSUFFICIENT_PERMISSIONS":f="Unable to refresh credentials due to insufficient permissions. You may be missing permission for the 'CreateOAuth2Token' action.";break;default:f=`Failed to refresh token: ${String(d)}. Please re-authenticate using \`aws login\``}throw new _t(f,{logger:this.logger,tryNextLink:!1})}throw new _t(`Failed to refresh token: ${String(d)}. Please re-authenticate using aws login`,{logger:this.logger})}}async loadToken(){let e=this.getTokenFilePath();try{let r;try{r=await w0(e,{ignoreCache:this.init?.ignoreCache})}catch{r=await Bee.readFile(e,"utf8")}let n=JSON.parse(r),i=["accessToken","clientId","refreshToken","dpopKey"].filter(o=>!n[o]);if(n.accessToken?.accountId||i.push("accountId"),i.length>0)throw new _t(`Token validation failed, missing fields: ${i.join(", ")}`,{logger:this.logger,tryNextLink:!1});return n}catch(r){throw new _t(`Failed to load token from ${e}: ${String(r)}`,{logger:this.logger,tryNextLink:!1})}}async saveToken(e){let r=this.getTokenFilePath(),n=mRt(r);try{await Bee.mkdir(n,{recursive:!0})}catch{}await Bee.writeFile(r,JSON.stringify(e,null,2),"utf8")}getTokenFilePath(){let e=process.env.AWS_LOGIN_CACHE_DIRECTORY??jPe(fRt(),".aws","login","cache"),r=Buffer.from(this.loginSession,"utf8"),n=lRt("sha256").update(r).digest("hex");return jPe(e,`${n}.json`)}derToRawSignature(e){let r=2;if(e[r]!==2)throw new Error("Invalid DER signature");r++;let n=e[r++],i=e.subarray(r,r+n);if(r+=n,e[r]!==2)throw new Error("Invalid DER signature");r++;let o=e[r++],s=e.subarray(r,r+o);i=i[0]===0?i.subarray(1):i,s=s[0]===0?s.subarray(1):s;let a=Buffer.concat([Buffer.alloc(32-i.length),i]),c=Buffer.concat([Buffer.alloc(32-s.length),s]);return Buffer.concat([a,c])}createDPoPInterceptor(e){e.add(r=>async n=>{if(mn.isInstance(n.request)){let i=n.request,o=`${i.protocol}//${i.hostname}${i.port?`:${i.port}`:""}${i.path}`,s=await this.generateDpop(i.method,o);i.headers={...i.headers,DPoP:s}}return r(n)},{step:"finalizeRequest",name:"dpopInterceptor",override:!0})}async generateDpop(e="POST",r){let n=await this.loadToken();try{let i=uRt({key:n.dpopKey,format:"pem",type:"sec1"}),s=dRt(i).export({format:"der",type:"spki"}),a=-1;for(let v=0;v<s.length;v++)if(s[v]===4){a=v;break}let c=s.slice(a+1,a+33),l=s.slice(a+33,a+65),u={alg:"ES256",typ:"dpop+jwt",jwk:{kty:"EC",crv:"P-256",x:c.toString("base64url"),y:l.toString("base64url")}},d={jti:crypto.randomUUID(),htm:e,htu:r,iat:Math.floor(Date.now()/1e3)},p=Buffer.from(JSON.stringify(u)).toString("base64url"),f=Buffer.from(JSON.stringify(d)).toString("base64url"),h=`${p}.${f}`,m=pRt("sha256",Buffer.from(h),i),y=this.derToRawSignature(m).toString("base64url");return`${h}.${y}`}catch(i){throw new _t(`Failed to generate Dpop proof: ${i instanceof Error?i.message:String(i)}`,{logger:this.logger,tryNextLink:!1})}}}});var WPe,JPe=b(()=>{"use strict";ys();xn();hc();qPe();WPe=t=>async({callerClientConfig:e}={})=>{t?.logger?.debug?.("@aws-sdk/credential-providers - fromLoginCredentials");let r=await Xp(t||{}),n=mc({profile:t?.profile??e?.profile}),i=r[n];if(!i?.login_session)throw new _t(`Profile ${n} does not contain login_session.`,{tryNextLink:!0,logger:t?.logger});let s=await new nM(i,t,e).loadCredentials();return zr(s,"CREDENTIALS_LOGIN","AD")}});var KPe=b(()=>{"use strict"});var QPe=b(()=>{"use strict";JPe();KPe()});var XPe,YPe,ZPe=b(()=>{"use strict";ys();QPe();XPe=t=>!!(t&&t.login_session),YPe=async(t,e,r)=>{let n=await WPe({...e,profile:t})({callerClientConfig:r});return zr(n,"CREDENTIALS_PROFILE_LOGIN","AC")}});var eke,tke=b(()=>{"use strict";ys();eke=(t,e,r)=>{if(e.Version!==1)throw Error(`Profile ${t} credential_process did not return Version 1.`);if(e.AccessKeyId===void 0||e.SecretAccessKey===void 0)throw Error(`Profile ${t} credential_process returned invalid credentials.`);if(e.Expiration){let o=new Date;if(new Date(e.Expiration)<o)throw Error(`Profile ${t} credential_process returned expired credentials.`)}let n=e.AccountId;!n&&r?.[t]?.aws_account_id&&(n=r[t].aws_account_id);let i={accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,...e.SessionToken&&{sessionToken:e.SessionToken},...e.Expiration&&{expiration:new Date(e.Expiration)},...e.CredentialScope&&{credentialScope:e.CredentialScope},...n&&{accountId:n}};return zr(i,"CREDENTIALS_PROCESS","w"),i}});import{exec as hRt}from"child_process";import{promisify as gRt}from"util";var rke,nke=b(()=>{"use strict";xn();hc();tke();rke=async(t,e,r)=>{let n=e[t];if(e[t]){let i=n.credential_process;if(i!==void 0){let o=gRt(cR?.getTokenRecord?.().exec??hRt);try{let{stdout:s}=await o(i),a;try{a=JSON.parse(s.trim())}catch{throw Error(`Profile ${t} credential_process returned invalid JSON.`)}return eke(t,a,e)}catch(s){throw new _t(s.message,{logger:r})}}else throw new _t(`Profile ${t} did not contain credential_process.`,{logger:r})}else throw new _t(`Profile ${t} could not be found in shared credentials file.`,{logger:r})}});var yRt,ike=b(()=>{"use strict";hc();nke();yRt=(t={})=>async({callerClientConfig:e}={})=>{t.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await Xp(t);return rke(mc({profile:t.profile??e?.profile}),r,t.logger)}});var $ee={};Nr($ee,{fromProcess:()=>yRt});var Uee=b(()=>{"use strict";ike()});var oke,ske,ake=b(()=>{"use strict";ys();oke=t=>!!t&&typeof t=="object"&&typeof t.credential_process=="string",ske=async(t,e)=>Promise.resolve().then(()=>(Uee(),$ee)).then(({fromProcess:r})=>r({...t,profile:e})().then(n=>zr(n,"CREDENTIALS_PROFILE_PROCESS","v")))});var cke,lke,uke=b(()=>{"use strict";ys();cke=async(t,e,r={},n)=>{let{fromSSO:i}=await Promise.resolve().then(()=>(lee(),cee));return i({profile:t,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})({callerClientConfig:n}).then(o=>e.sso_session?zr(o,"CREDENTIALS_PROFILE_SSO","r"):zr(o,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},lke=t=>t&&(typeof t.sso_start_url=="string"||typeof t.sso_account_id=="string"||typeof t.sso_session=="string"||typeof t.sso_region=="string"||typeof t.sso_role_name=="string")});var Fee,zee,dke=b(()=>{"use strict";ys();Fee=t=>!!t&&typeof t=="object"&&typeof t.aws_access_key_id=="string"&&typeof t.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof t.aws_session_token)>-1&&["undefined","string"].indexOf(typeof t.aws_account_id)>-1,zee=async(t,e)=>{e?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:t.aws_access_key_id,secretAccessKey:t.aws_secret_access_key,sessionToken:t.aws_session_token,...t.aws_credential_scope&&{credentialScope:t.aws_credential_scope},...t.aws_account_id&&{accountId:t.aws_account_id}};return zr(r,"CREDENTIALS_PROFILE","n")}});var Hee,Vee=b(()=>{"use strict";Hee=t=>async e=>{t.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:i,providerId:o,policyArns:s,policy:a,durationSeconds:c}=t,{roleAssumerWithWebIdentity:l}=t;if(!l){let{getDefaultRoleAssumerWithWebIdentity:u}=await Promise.resolve().then(()=>(wee(),xee));l=u({...t.clientConfig,credentialProviderLogger:t.logger,parentClientConfig:{...e?.callerClientConfig,...t.parentClientConfig}},t.clientPlugins)}return l({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:i,ProviderId:o,PolicyArns:s,Policy:a,DurationSeconds:c})}});import{readFileSync as bRt}from"fs";var pke,vRt,_Rt,SRt,fke=b(()=>{"use strict";ys();xn();hc();Vee();pke="AWS_WEB_IDENTITY_TOKEN_FILE",vRt="AWS_ROLE_ARN",_Rt="AWS_ROLE_SESSION_NAME",SRt=(t={})=>async e=>{t.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let r=t?.webIdentityTokenFile??process.env[pke],n=t?.roleArn??process.env[vRt],i=t?.roleSessionName??process.env[_Rt];if(!r||!n)throw new _t("Web identity configuration not specified",{logger:t.logger});let o=await Hee({...t,webIdentityToken:cR?.getTokenRecord?.()[r]??bRt(r,{encoding:"ascii"}),roleArn:n,roleSessionName:i})(e);return r===process.env[pke]&&zr(o,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),o}});var Gee={};Nr(Gee,{fromTokenFile:()=>SRt,fromWebToken:()=>Hee});var jee=b(()=>{"use strict";fke();Vee()});var mke,hke,gke=b(()=>{"use strict";ys();mke=t=>!!t&&typeof t=="object"&&typeof t.web_identity_token_file=="string"&&typeof t.role_arn=="string"&&["undefined","string"].indexOf(typeof t.role_session_name)>-1,hke=async(t,e,r)=>Promise.resolve().then(()=>(jee(),Gee)).then(({fromTokenFile:n})=>n({webIdentityTokenFile:t.web_identity_token_file,roleArn:t.role_arn,roleSessionName:t.role_session_name,roleAssumerWithWebIdentity:e.roleAssumerWithWebIdentity,logger:e.logger,parentClientConfig:e.parentClientConfig})({callerClientConfig:r}).then(i=>zr(i,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q")))});var qee,yke=b(()=>{"use strict";xn();V9e();ZPe();ake();uke();dke();gke();qee=async(t,e,r,n,i={},o=!1)=>{let s=e[t];if(Object.keys(i).length>0&&Fee(s))return zee(s,r);if(o||z9e(s,{profile:t,logger:r.logger}))return H9e(t,e,r,n,i,qee);if(Fee(s))return zee(s,r);if(mke(s))return hke(s,r,n);if(oke(s))return ske(r,t);if(lke(s))return await cke(t,s,r,n);if(XPe(s))return YPe(t,r,n);throw new _t(`Could not resolve credentials using profile: [${t}] in configuration/credentials file(s).`,{logger:r.logger})}});var xRt,bke=b(()=>{"use strict";hc();yke();xRt=(t={})=>async({callerClientConfig:e}={})=>{t.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let r=await Xp(t);return qee(mc({profile:t.profile??e?.profile}),r,t,e)}});var vke={};Nr(vke,{fromIni:()=>xRt});var _ke=b(()=>{"use strict";bke()});var Ske,iM,wRt,xke=b(()=>{"use strict";xZ();xn();hc();M8e();B8e();Ske=!1,iM=(t={})=>L8e([async()=>{if(t.profile??process.env[sZ])throw process.env[uD]&&process.env[dD]&&(Ske||((t.logger?.warn&&t.logger?.constructor?.name!=="NoOpLogger"?t.logger.warn.bind(t.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),Ske=!0)),new _t("AWS_PROFILE is set, skipping fromEnv provider.",{logger:t.logger,tryNextLink:!0});return t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),SZ(t)()},async e=>{t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:i,ssoRoleName:o,ssoSession:s}=t;if(!r&&!n&&!i&&!o&&!s)throw new _t("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:t.logger});let{fromSSO:a}=await Promise.resolve().then(()=>(lee(),cee));return a(t)(e)},async e=>{t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>(_ke(),vke));return r(t)(e)},async e=>{t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>(Uee(),$ee));return r(t)(e)},async e=>{t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>(jee(),Gee));return r(t)(e)},async()=>(t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await D8e(t))()),async()=>{throw new _t("Could not load credentials from any providers",{tryNextLink:!1,logger:t.logger})}],wRt),wRt=t=>t?.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5});var Wee=b(()=>{"use strict";xke()});var Lke,vc,P0,k0,wke,jR,sw,rf,Lm,oM,Jee,Ake,Eke,Tke,Bke,$ke,ku,Rke,Ike,Kee,Cke,Nke,Oke,Pke,kke,Dke,Mke,ARt,Uke,Fke=b(()=>{"use strict";Lke="required",vc="argv",P0="properties",k0="headers",wke="isSet",jR="booleanEquals",sw="error",rf="endpoint",Lm="tree",oM="PartitionResult",Jee="stringEquals",Ake={[Lke]:!1,type:"string"},Eke={[Lke]:!0,default:!1,type:"boolean"},Tke={ref:"Endpoint"},Bke={fn:jR,[vc]:[{ref:"UseFIPS"},!0]},$ke={fn:jR,[vc]:[{ref:"UseDualStack"},!0]},ku={},Rke={fn:"getAttr",[vc]:[{ref:oM},"supportsFIPS"]},Ike={fn:jR,[vc]:[!0,{fn:"getAttr",[vc]:[{ref:oM},"supportsDualStack"]}]},Kee={fn:"getAttr",[vc]:[{ref:oM},"name"]},Cke={url:"https://secretsmanager-fips.{Region}.amazonaws.com",[P0]:{},[k0]:{}},Nke={url:"https://secretsmanager.{Region}.amazonaws.com",[P0]:{},[k0]:{}},Oke=[Bke],Pke=[$ke],kke=[{ref:"Region"}],Dke=[{fn:Jee,[vc]:["aws",Kee]}],Mke=[{fn:Jee,[vc]:["aws-us-gov",Kee]}],ARt={version:"1.0",parameters:{Region:Ake,UseDualStack:Eke,UseFIPS:Eke,Endpoint:Ake},rules:[{conditions:[{fn:wke,[vc]:[Tke]}],rules:[{conditions:Oke,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:sw},{conditions:Pke,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:sw},{endpoint:{url:Tke,[P0]:ku,[k0]:ku},type:rf}],type:Lm},{conditions:[{fn:wke,[vc]:kke}],rules:[{conditions:[{fn:"aws.partition",[vc]:kke,assign:oM}],rules:[{conditions:[Bke,$ke],rules:[{conditions:[{fn:jR,[vc]:[!0,Rke]},Ike],rules:[{conditions:Dke,endpoint:Cke,type:rf},{conditions:Mke,endpoint:Cke,type:rf},{endpoint:{url:"https://secretsmanager-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[P0]:ku,[k0]:ku},type:rf}],type:Lm},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:sw}],type:Lm},{conditions:Oke,rules:[{conditions:[{fn:jR,[vc]:[Rke,!0]}],rules:[{endpoint:{url:"https://secretsmanager-fips.{Region}.{PartitionResult#dnsSuffix}",[P0]:ku,[k0]:ku},type:rf}],type:Lm},{error:"FIPS is enabled but this partition does not support FIPS",type:sw}],type:Lm},{conditions:Pke,rules:[{conditions:[Ike],rules:[{conditions:Dke,endpoint:Nke,type:rf},{conditions:[{fn:Jee,[vc]:["aws-cn",Kee]}],endpoint:{url:"https://secretsmanager.{Region}.amazonaws.com.cn",[P0]:ku,[k0]:ku},type:rf},{conditions:Mke,endpoint:Nke,type:rf},{endpoint:{url:"https://secretsmanager.{Region}.{PartitionResult#dualStackDnsSuffix}",[P0]:ku,[k0]:ku},type:rf}],type:Lm},{error:"DualStack is enabled but this partition does not support DualStack",type:sw}],type:Lm},{endpoint:{url:"https://secretsmanager.{Region}.{PartitionResult#dnsSuffix}",[P0]:ku,[k0]:ku},type:rf}],type:Lm}],type:Lm},{error:"Invalid Configuration: Missing Region",type:sw}]},Uke=ARt});var ERt,zke,Hke=b(()=>{"use strict";f0();Dd();Fke();ERt=new dc({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),zke=(t,e={})=>ERt.get(t,()=>eu(Uke,{endpointParams:t,logger:e.logger}));gs.aws=nl});var Vke,Gke=b(()=>{"use strict";wo();Nm();Te();Cm();Js();Yi();_Z();Hke();Vke=t=>({apiVersion:"2017-10-17",base64Decoder:t?.base64Decoder??Ti,base64Encoder:t?.base64Encoder??qn,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??zke,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??Z5e,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new bs}],logger:t?.logger??new Xs,protocol:t?.protocol??U7,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.secretsmanager",version:"2017-10-17",serviceTarget:"secretsmanager"},serviceId:t?.serviceId??"Secrets Manager",urlParser:t?.urlParser??Zo,utf8Decoder:t?.utf8Decoder??ti,utf8Encoder:t?.utf8Encoder??jn})});var jke,qke=b(()=>{"use strict";r8e();wo();Wee();zb();Ia();Hb();ol();yu();wm();Te();Vb();Gb();Pm();Gke();jke=t=>{cu(process.version);let e=Tu(t),r=()=>e().then(au),n=Vke(t);tu(process.version);let i={profile:t?.profile,logger:n.logger};return{...n,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??Ot(ru,i),bodyLengthChecker:t?.bodyLengthChecker??Eu,credentialDefaultProvider:t?.credentialDefaultProvider??iM,defaultUserAgentProvider:t?.defaultUserAgentProvider??wu({serviceId:n.serviceId,clientVersion:n8e.version}),maxAttempts:t?.maxAttempts??Ot(vu,t),region:t?.region??Ot(Ys,{...fc,...i}),requestHandler:Ks.create(t?.requestHandler??r),retryMode:t?.retryMode??Ot({...Su,default:async()=>(await r()).retryMode||gc},t),sha256:t?.sha256??yc.bind(null,"sha256"),streamCollector:t?.streamCollector??sc,useDualstackEndpoint:t?.useDualstackEndpoint??Ot(fu,i),useFipsEndpoint:t?.useFipsEndpoint??Ot(mu,i),userAgentAppId:t?.userAgentAppId??Ot(Au,i)}}});var Wke,Jke,Kke=b(()=>{"use strict";Wke=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(i){let o=e.findIndex(s=>s.schemeId===i.schemeId);o===-1?e.push(i):e.splice(o,1,i)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},Jke=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var Qke,Xke=b(()=>{"use strict";T0();pi();Te();Kke();Qke=(t,e)=>{let r=Object.assign(Cu(t),lu(t),Fl(t),Wke(t));return e.forEach(n=>n.configure(r)),Object.assign(t,Nu(r),uu(r),zl(r),Jke(r))}});var Fd,aw=b(()=>{"use strict";Eb();Tb();Rb();_0();Ia();Wn();gn();$b();We();ol();Te();_Z();ni();qke();Xke();Fd=class extends $o{config;constructor(...[e]){let r=jke(e||{});super(r),this.initConfig=r;let n=t8e(r),i=Xl(n),o=_u(i),s=hu(o),a=s,c=bu(a),l=e8e(c),u=Qke(l,e?.extensions||[]);this.config=u,this.middlewareStack.use(Jl(this.config)),this.middlewareStack.use(pu(this.config)),this.middlewareStack.use(xu(this.config)),this.middlewareStack.use(gu(this.config)),this.middlewareStack.use(Vl(this.config)),this.middlewareStack.use(Gl(this.config)),this.middlewareStack.use(jl(this.config)),this.middlewareStack.use(ql(this.config,{httpAuthSchemeParametersProvider:Y5e,identityProviderConfigProvider:async d=>new uc({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(Wl(this.config))}destroy(){super.destroy()}}});var Uo,sM=b(()=>{"use strict";Te();Uo=class t extends pc{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var qR,WR,JR,KR,QR,XR,YR,ZR,eI,tI,rI,nI,Qee=b(()=>{"use strict";sM();qR=class t extends Uo{name="DecryptionFailure";$fault="client";Message;constructor(e){super({name:"DecryptionFailure",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},WR=class t extends Uo{name="InternalServiceError";$fault="server";Message;constructor(e){super({name:"InternalServiceError",$fault:"server",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},JR=class t extends Uo{name="InvalidNextTokenException";$fault="client";Message;constructor(e){super({name:"InvalidNextTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},KR=class t extends Uo{name="InvalidParameterException";$fault="client";Message;constructor(e){super({name:"InvalidParameterException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},QR=class t extends Uo{name="InvalidRequestException";$fault="client";Message;constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},XR=class t extends Uo{name="ResourceNotFoundException";$fault="client";Message;constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},YR=class t extends Uo{name="EncryptionFailure";$fault="client";Message;constructor(e){super({name:"EncryptionFailure",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},ZR=class t extends Uo{name="LimitExceededException";$fault="client";Message;constructor(e){super({name:"LimitExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},eI=class t extends Uo{name="MalformedPolicyDocumentException";$fault="client";Message;constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},tI=class t extends Uo{name="PreconditionNotMetException";$fault="client";Message;constructor(e){super({name:"PreconditionNotMetException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},rI=class t extends Uo{name="ResourceExistsException";$fault="client";Message;constructor(e){super({name:"ResourceExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},nI=class t extends Uo{name="PublicPolicyException";$fault="client";Message;constructor(e){super({name:"PublicPolicyException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}}});var TRt,RRt,IRt,Fo,Yke,CRt,NRt,ORt,PRt,kRt,iI,DRt,MRt,LRt,BRt,aM,$Rt,URt,FRt,cM,zRt,Zke,HRt,VRt,GRt,jRt,qRt,WRt,JRt,KRt,QRt,XRt,YRt,ZRt,eIt,tIt,rIt,nIt,iIt,oIt,sIt,Xee,aIt,cIt,Yee,lIt,e7e,uIt,dIt,t7e,pIt,fIt,mIt,hIt,gIt,yIt,bIt,vIt,_It,SIt,xIt,wIt,AIt,EIt,TIt,RIt,IIt,Zee,cw,CIt,lM,r7e,NIt,n7e,OIt,PIt,kIt,DIt,MIt,LIt,cl,BIt,ete,$It,Ss,i7e,lw,o7e,UIt,FIt,zIt,s7e,HIt,VIt,GIt,jIt,qIt,WIt,JIt,a7e,c7e,KIt,QIt,XIt,YIt,tte,ZIt,e3t,t3t,rte,nte,r3t,n3t,i3t,o3t,s3t,a3t,uM,c3t,l3t,u3t,d3t,p3t,f3t,m3t,h3t,g3t,y3t,b3t,v3t,_3t,S3t,x3t,oI,w3t,A3t,E3t,Ao,T3t,R3t,I3t,C3t,N3t,O3t,P3t,k3t,D3t,sI,M3t,L3t,B3t,$3t,U3t,F3t,z3t,l7e,dM,H3t,V3t,G3t,j3t,q3t,pM,W3t,J3t,K3t,Q3t,X3t,Y3t,Z3t,e5t,u7e,t5t,r5t,n5t,Bm,i5t,o5t,s5t,a5t,d7e,aI,c5t,l5t,zd,Du,u5t,p7e,Oe,d5t,p5t,cI,lI,f7e,m7e,h7e,g7e,y7e,b7e,v7e,_7e,S7e,x7e,w7e,A7e,E7e,T7e,R7e,I7e,C7e,N7e,O7e,P7e,k7e,D7e,M7e,L7e,B7e,$7e,U7e,F7e,z7e,H7e,V7e,G7e,j7e,q7e,W7e,J7e,K7e,Q7e,X7e,Y7e,Z7e,eDe,tDe,rDe,nDe,iDe,oDe,sDe,aDe,cDe,lDe,fM,uDe,dDe,pDe,fDe,mDe,hDe,gDe,yDe,bDe,vDe,_De,SDe,xDe,wDe,ADe,EDe,TDe,RDe,f5t,ite,IDe,mM,m5t,h5t,g5t,hM,y5t,ote,ste,ate,cte,lte,ute,dte,pte,fte,mte,hte,gte,yte,bte,vte,_te,Ste,xte,wte,Ate,Ete,Tte,Rte,ii=b(()=>{"use strict";gn();Qee();sM();TRt="AutomaticallyAfterDays",RRt="APIErrorListType",IRt="APIErrorType",Fo="ARN",Yke="AddReplicaRegions",CRt="AddReplicaRegionListType",NRt="BatchGetSecretValue",ORt="BatchGetSecretValueRequest",PRt="BatchGetSecretValueResponse",kRt="BlockPublicPolicy",iI="CreatedDate",DRt="CheckName",MRt="CancelRotateSecret",LRt="CancelRotateSecretRequest",BRt="CancelRotateSecretResponse",aM="ClientRequestToken",$Rt="CreateSecret",URt="CreateSecretRequest",FRt="CreateSecretResponse",cM="Description",zRt="DeletionDate",Zke="DeletedDate",HRt="DecryptionFailure",VRt="DeleteResourcePolicy",GRt="DeleteResourcePolicyRequest",jRt="DeleteResourcePolicyResponse",qRt="DeleteSecret",WRt="DeleteSecretRequest",JRt="DeleteSecretResponse",KRt="DescribeSecretRequest",QRt="DescribeSecretResponse",XRt="DescribeSecret",YRt="Duration",ZRt="Errors",eIt="ErrorCode",tIt="ExcludeCharacters",rIt="EncryptionFailure",nIt="ExcludeLowercase",iIt="ErrorMessage",oIt="ExcludeNumbers",sIt="ExcludePunctuation",Xee="ExternalSecretRotationMetadata",aIt="ExternalSecretRotationMetadataItem",cIt="ExternalSecretRotationMetadataType",Yee="ExternalSecretRotationRoleArn",lIt="ExcludeUppercase",e7e="Filters",uIt="ForceDeleteWithoutRecovery",dIt="FiltersListType",t7e="ForceOverwriteReplicaSecret",pIt="Filter",fIt="GetRandomPassword",mIt="GetRandomPasswordRequest",hIt="GetRandomPasswordResponse",gIt="GetResourcePolicyRequest",yIt="GetResourcePolicyResponse",bIt="GetResourcePolicy",vIt="GetSecretValue",_It="GetSecretValueRequest",SIt="GetSecretValueResponse",xIt="IncludeDeprecated",wIt="InvalidNextTokenException",AIt="IncludePlannedDeletion",EIt="InvalidParameterException",TIt="InvalidRequestException",RIt="IncludeSpace",IIt="InternalServiceError",Zee="Key",cw="KmsKeyId",CIt="KmsKeyIds",lM="LastAccessedDate",r7e="LastChangedDate",NIt="LimitExceededException",n7e="LastRotatedDate",OIt="ListSecrets",PIt="ListSecretsRequest",kIt="ListSecretsResponse",DIt="ListSecretVersionIds",MIt="ListSecretVersionIdsRequest",LIt="ListSecretVersionIdsResponse",cl="Message",BIt="MalformedPolicyDocumentException",ete="MaxResults",$It="MoveToVersionId",Ss="Name",i7e="NextRotationDate",lw="NextToken",o7e="OwningService",UIt="PasswordLength",FIt="PreconditionNotMetException",zIt="PublicPolicyException",s7e="PrimaryRegion",HIt="PutResourcePolicy",VIt="PutResourcePolicyRequest",GIt="PutResourcePolicyResponse",jIt="PutSecretValue",qIt="PutSecretValueRequest",WIt="PutSecretValueResponse",JIt="PolicyValidationPassed",a7e="Region",c7e="RotationEnabled",KIt="ResourceExistsException",QIt="RequireEachIncludedType",XIt="RemoveFromVersionId",YIt="RotateImmediately",tte="RotationLambdaARN",ZIt="ResourceNotFoundException",e3t="RandomPassword",t3t="RandomPasswordType",rte="ResourcePolicy",nte="RotationRules",r3t="RemoveRegionsFromReplication",n3t="RemoveRegionsFromReplicationRequest",i3t="RemoveRegionsFromReplicationResponse",o3t="RemoveReplicaRegions",s3t="ReplicaRegionType",a3t="RotationRulesType",uM="ReplicationStatus",c3t="ReplicationStatusListType",l3t="RestoreSecretRequest",u3t="RestoreSecretResponse",d3t="RotateSecretRequest",p3t="RotateSecretResponse",f3t="ReplicationStatusType",m3t="ReplicateSecretToRegions",h3t="ReplicateSecretToRegionsRequest",g3t="ReplicateSecretToRegionsResponse",y3t="RestoreSecret",b3t="RotateSecret",v3t="RotationToken",_3t="RotationTokenType",S3t="RecoveryWindowInDays",x3t="Status",oI="SecretBinary",w3t="SecretBinaryType",A3t="SortBy",E3t="ScheduleExpression",Ao="SecretId",T3t="SecretIdList",R3t="SecretList",I3t="SecretListEntry",C3t="SecretListType",N3t="StatusMessage",O3t="SortOrder",P3t="StopReplicationToReplica",k3t="StopReplicationToReplicaRequest",D3t="StopReplicationToReplicaResponse",sI="SecretString",M3t="SecretStringType",L3t="SecretValues",B3t="SecretValueEntry",$3t="SecretVersionsListEntry",U3t="SecretVersionsListType",F3t="SecretValuesType",z3t="SecretVersionsToStages",l7e="SecretVersionsToStagesMapType",dM="Tags",H3t="TagKeys",V3t="TagListType",G3t="TagResource",j3t="TagResourceRequest",q3t="Tag",pM="Type",W3t="UntagResource",J3t="UntagResourceRequest",K3t="UpdateSecret",Q3t="UpdateSecretRequest",X3t="UpdateSecretResponse",Y3t="UpdateSecretVersionStage",Z3t="UpdateSecretVersionStageRequest",e5t="UpdateSecretVersionStageResponse",u7e="Value",t5t="ValidationErrors",r5t="ValidationErrorsEntry",n5t="ValidationErrorsType",Bm="VersionId",i5t="VersionIdsToStages",o5t="ValidateResourcePolicy",s5t="ValidateResourcePolicyRequest",a5t="ValidateResourcePolicyResponse",d7e="VersionStage",aI="VersionStages",c5t="Values",l5t="Versions",zd="client",Du="error",u5t="server",p7e="smithy.ts.sdk.synthetic.com.amazonaws.secretsmanager",Oe="com.amazonaws.secretsmanager",d5t=[0,Oe,t3t,8,0],p5t=[0,Oe,_3t,8,0],cI=[0,Oe,w3t,8,21],lI=[0,Oe,M3t,8,0],f7e=[3,Oe,IRt,0,[Ao,eIt,cl],[0,0,0]],m7e=[3,Oe,ORt,0,[T3t,e7e,ete,lw],[64,()=>IDe,1,0]],h7e=[3,Oe,PRt,0,[L3t,lw,ZRt],[[()=>h5t,0],0,()=>f5t]],g7e=[3,Oe,LRt,0,[Ao],[0],1],y7e=[3,Oe,BRt,0,[Fo,Ss,Bm],[0,0,0]],b7e=[3,Oe,URt,0,[Ss,aM,cM,cw,oI,sI,dM,Yke,t7e,pM],[0,[0,4],0,0,[()=>cI,0],[()=>lI,0],()=>hM,()=>RDe,2,0],1],v7e=[3,Oe,FRt,0,[Fo,Ss,Bm,uM],[0,0,0,()=>mM]],_7e=[-3,Oe,HRt,{[Du]:zd},[cl],[0]];je.for(Oe).registerError(_7e,qR);S7e=[3,Oe,GRt,0,[Ao],[0],1],x7e=[3,Oe,jRt,0,[Fo,Ss],[0,0]],w7e=[3,Oe,WRt,0,[Ao,S3t,uIt],[0,1,2],1],A7e=[3,Oe,JRt,0,[Fo,Ss,zRt],[0,0,4]],E7e=[3,Oe,KRt,0,[Ao],[0],1],T7e=[3,Oe,QRt,0,[Fo,Ss,pM,cM,cw,c7e,tte,nte,Xee,Yee,n7e,r7e,lM,Zke,i7e,dM,i5t,o7e,iI,s7e,uM],[0,0,0,0,0,2,0,()=>fM,()=>ite,0,4,4,4,4,4,()=>hM,[2,Oe,l7e,0,0,64],0,4,0,()=>mM]],R7e=[-3,Oe,rIt,{[Du]:zd},[cl],[0]];je.for(Oe).registerError(R7e,YR);I7e=[3,Oe,aIt,0,[Zee,u7e],[0,0]],C7e=[3,Oe,pIt,0,[Zee,c5t],[0,64]],N7e=[3,Oe,mIt,0,[UIt,tIt,oIt,sIt,lIt,nIt,RIt,QIt],[1,0,2,2,2,2,2,2]],O7e=[3,Oe,hIt,0,[e3t],[[()=>d5t,0]]],P7e=[3,Oe,gIt,0,[Ao],[0],1],k7e=[3,Oe,yIt,0,[Fo,Ss,rte],[0,0,0]],D7e=[3,Oe,_It,0,[Ao,Bm,d7e],[0,0,0],1],M7e=[3,Oe,SIt,0,[Fo,Ss,Bm,oI,sI,aI,iI],[0,0,0,[()=>cI,0],[()=>lI,0],64,4]],L7e=[-3,Oe,IIt,{[Du]:u5t},[cl],[0]];je.for(Oe).registerError(L7e,WR);B7e=[-3,Oe,wIt,{[Du]:zd},[cl],[0]];je.for(Oe).registerError(B7e,JR);$7e=[-3,Oe,EIt,{[Du]:zd},[cl],[0]];je.for(Oe).registerError($7e,KR);U7e=[-3,Oe,TIt,{[Du]:zd},[cl],[0]];je.for(Oe).registerError(U7e,QR);F7e=[-3,Oe,NIt,{[Du]:zd},[cl],[0]];je.for(Oe).registerError(F7e,ZR);z7e=[3,Oe,PIt,0,[AIt,ete,lw,e7e,O3t,A3t],[2,1,0,()=>IDe,0,0]],H7e=[3,Oe,kIt,0,[R3t,lw],[()=>m5t,0]],V7e=[3,Oe,MIt,0,[Ao,ete,lw,xIt],[0,1,0,2],1],G7e=[3,Oe,LIt,0,[l5t,lw,Fo,Ss],[()=>g5t,0,0,0]],j7e=[-3,Oe,BIt,{[Du]:zd},[cl],[0]];je.for(Oe).registerError(j7e,eI);q7e=[-3,Oe,FIt,{[Du]:zd},[cl],[0]];je.for(Oe).registerError(q7e,tI);W7e=[-3,Oe,zIt,{[Du]:zd},[cl],[0]];je.for(Oe).registerError(W7e,nI);J7e=[3,Oe,VIt,0,[Ao,rte,kRt],[0,0,2],2],K7e=[3,Oe,GIt,0,[Fo,Ss],[0,0]],Q7e=[3,Oe,qIt,0,[Ao,aM,oI,sI,aI,v3t],[0,[0,4],[()=>cI,0],[()=>lI,0],64,[()=>p5t,0]],1],X7e=[3,Oe,WIt,0,[Fo,Ss,Bm,aI],[0,0,0,64]],Y7e=[3,Oe,n3t,0,[Ao,o3t],[0,64],2],Z7e=[3,Oe,i3t,0,[Fo,uM],[0,()=>mM]],eDe=[3,Oe,s3t,0,[a7e,cw],[0,0]],tDe=[3,Oe,h3t,0,[Ao,Yke,t7e],[0,()=>RDe,2],2],rDe=[3,Oe,g3t,0,[Fo,uM],[0,()=>mM]],nDe=[3,Oe,f3t,0,[a7e,cw,x3t,N3t,lM],[0,0,0,0,4]],iDe=[-3,Oe,KIt,{[Du]:zd},[cl],[0]];je.for(Oe).registerError(iDe,rI);oDe=[-3,Oe,ZIt,{[Du]:zd},[cl],[0]];je.for(Oe).registerError(oDe,XR);sDe=[3,Oe,l3t,0,[Ao],[0],1],aDe=[3,Oe,u3t,0,[Fo,Ss],[0,0]],cDe=[3,Oe,d3t,0,[Ao,aM,tte,nte,Xee,Yee,YIt],[0,[0,4],0,()=>fM,()=>ite,0,2],1],lDe=[3,Oe,p3t,0,[Fo,Ss,Bm],[0,0,0]],fM=[3,Oe,a3t,0,[TRt,YRt,E3t],[1,0,0]],uDe=[3,Oe,I3t,0,[Fo,Ss,pM,cM,cw,c7e,tte,nte,Xee,Yee,n7e,r7e,lM,Zke,i7e,dM,z3t,o7e,iI,s7e],[0,0,0,0,0,2,0,()=>fM,()=>ite,0,4,4,4,4,4,()=>hM,[2,Oe,l7e,0,0,64],0,4,0]],dDe=[3,Oe,B3t,0,[Fo,Ss,Bm,oI,sI,aI,iI],[0,0,0,[()=>cI,0],[()=>lI,0],64,4]],pDe=[3,Oe,$3t,0,[Bm,aI,lM,iI,CIt],[0,64,4,4,64]],fDe=[3,Oe,k3t,0,[Ao],[0],1],mDe=[3,Oe,D3t,0,[Fo],[0]],hDe=[3,Oe,q3t,0,[Zee,u7e],[0,0]],gDe=[3,Oe,j3t,0,[Ao,dM],[0,()=>hM],2],yDe=[3,Oe,J3t,0,[Ao,H3t],[0,64],2],bDe=[3,Oe,Q3t,0,[Ao,aM,cM,cw,oI,sI,pM],[0,[0,4],0,0,[()=>cI,0],[()=>lI,0],0],1],vDe=[3,Oe,X3t,0,[Fo,Ss,Bm],[0,0,0]],_De=[3,Oe,Z3t,0,[Ao,d7e,XIt,$It],[0,0,0,0],2],SDe=[3,Oe,e5t,0,[Fo,Ss],[0,0]],xDe=[3,Oe,s5t,0,[rte,Ao],[0,0],1],wDe=[3,Oe,a5t,0,[JIt,t5t],[2,()=>y5t]],ADe=[3,Oe,r5t,0,[DRt,iIt],[0,0]],EDe="unit",TDe=[-3,p7e,"SecretsManagerServiceException",0,[],[]];je.for(p7e).registerError(TDe,Uo);RDe=[1,Oe,CRt,0,()=>eDe],f5t=[1,Oe,RRt,0,()=>f7e],ite=[1,Oe,cIt,0,()=>I7e],IDe=[1,Oe,dIt,0,()=>C7e],mM=[1,Oe,c3t,0,()=>nDe],m5t=[1,Oe,C3t,0,()=>uDe],h5t=[1,Oe,F3t,0,[()=>dDe,0]],g5t=[1,Oe,U3t,0,()=>pDe],hM=[1,Oe,V3t,0,()=>hDe],y5t=[1,Oe,n5t,0,()=>ADe],ote=[9,Oe,NRt,0,()=>m7e,()=>h7e],ste=[9,Oe,MRt,0,()=>g7e,()=>y7e],ate=[9,Oe,$Rt,0,()=>b7e,()=>v7e],cte=[9,Oe,VRt,0,()=>S7e,()=>x7e],lte=[9,Oe,qRt,0,()=>w7e,()=>A7e],ute=[9,Oe,XRt,0,()=>E7e,()=>T7e],dte=[9,Oe,fIt,0,()=>N7e,()=>O7e],pte=[9,Oe,bIt,0,()=>P7e,()=>k7e],fte=[9,Oe,vIt,0,()=>D7e,()=>M7e],mte=[9,Oe,OIt,0,()=>z7e,()=>H7e],hte=[9,Oe,DIt,0,()=>V7e,()=>G7e],gte=[9,Oe,HIt,0,()=>J7e,()=>K7e],yte=[9,Oe,jIt,0,()=>Q7e,()=>X7e],bte=[9,Oe,r3t,0,()=>Y7e,()=>Z7e],vte=[9,Oe,m3t,0,()=>tDe,()=>rDe],_te=[9,Oe,y3t,0,()=>sDe,()=>aDe],Ste=[9,Oe,b3t,0,()=>cDe,()=>lDe],xte=[9,Oe,P3t,0,()=>fDe,()=>mDe],wte=[9,Oe,G3t,0,()=>gDe,()=>EDe],Ate=[9,Oe,W3t,0,()=>yDe,()=>EDe],Ete=[9,Oe,K3t,0,()=>bDe,()=>vDe],Tte=[9,Oe,Y3t,0,()=>_De,()=>SDe],Rte=[9,Oe,o5t,0,()=>xDe,()=>wDe]});var ev,gM=b(()=>{"use strict";We();Te();ni();ii();ev=class extends se.classBuilder().ep(ar).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","BatchGetSecretValue",{}).n("SecretsManagerClient","BatchGetSecretValueCommand").sc(ote).build(){}});var uI,Ite=b(()=>{"use strict";We();Te();ni();ii();uI=class extends se.classBuilder().ep(ar).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","CancelRotateSecret",{}).n("SecretsManagerClient","CancelRotateSecretCommand").sc(ste).build(){}});var dI,Cte=b(()=>{"use strict";We();Te();ni();ii();dI=class extends se.classBuilder().ep(ar).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","CreateSecret",{}).n("SecretsManagerClient","CreateSecretCommand").sc(ate).build(){}});var pI,Nte=b(()=>{"use strict";We();Te();ni();ii();pI=class extends se.classBuilder().ep(ar).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","DeleteResourcePolicy",{}).n("SecretsManagerClient","DeleteResourcePolicyCommand").sc(cte).build(){}});var fI,Ote=b(()=>{"use strict";We();Te();ni();ii();fI=class extends se.classBuilder().ep(ar).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","DeleteSecret",{}).n("SecretsManagerClient","DeleteSecretCommand").sc(lte).build(){}});var mI,Pte=b(()=>{"use strict";We();Te();ni();ii();mI=class extends se.classBuilder().ep(ar).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","DescribeSecret",{}).n("SecretsManagerClient","DescribeSecretCommand").sc(ute).build(){}});var hI,kte=b(()=>{"use strict";We();Te();ni();ii();hI=class extends se.classBuilder().ep(ar).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","GetRandomPassword",{}).n("SecretsManagerClient","GetRandomPasswordCommand").sc(dte).build(){}});var gI,Dte=b(()=>{"use strict";We();Te();ni();ii();gI=class extends se.classBuilder().ep(ar).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","GetResourcePolicy",{}).n("SecretsManagerClient","GetResourcePolicyCommand").sc(pte).build(){}});var yI,Mte=b(()=>{"use strict";We();Te();ni();ii();yI=class extends se.classBuilder().ep(ar).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","GetSecretValue",{}).n("SecretsManagerClient","GetSecretValueCommand").sc(fte).build(){}});var tv,yM=b(()=>{"use strict";We();Te();ni();ii();tv=class extends se.classBuilder().ep(ar).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","ListSecrets",{}).n("SecretsManagerClient","ListSecretsCommand").sc(mte).build(){}});var rv,bM=b(()=>{"use strict";We();Te();ni();ii();rv=class extends se.classBuilder().ep(ar).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","ListSecretVersionIds",{}).n("SecretsManagerClient","ListSecretVersionIdsCommand").sc(hte).build(){}});var bI,Lte=b(()=>{"use strict";We();Te();ni();ii();bI=class extends se.classBuilder().ep(ar).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","PutResourcePolicy",{}).n("SecretsManagerClient","PutResourcePolicyCommand").sc(gte).build(){}});var vI,Bte=b(()=>{"use strict";We();Te();ni();ii();vI=class extends se.classBuilder().ep(ar).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","PutSecretValue",{}).n("SecretsManagerClient","PutSecretValueCommand").sc(yte).build(){}});var _I,$te=b(()=>{"use strict";We();Te();ni();ii();_I=class extends se.classBuilder().ep(ar).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","RemoveRegionsFromReplication",{}).n("SecretsManagerClient","RemoveRegionsFromReplicationCommand").sc(bte).build(){}});var SI,Ute=b(()=>{"use strict";We();Te();ni();ii();SI=class extends se.classBuilder().ep(ar).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","ReplicateSecretToRegions",{}).n("SecretsManagerClient","ReplicateSecretToRegionsCommand").sc(vte).build(){}});var xI,Fte=b(()=>{"use strict";We();Te();ni();ii();xI=class extends se.classBuilder().ep(ar).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","RestoreSecret",{}).n("SecretsManagerClient","RestoreSecretCommand").sc(_te).build(){}});var wI,zte=b(()=>{"use strict";We();Te();ni();ii();wI=class extends se.classBuilder().ep(ar).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","RotateSecret",{}).n("SecretsManagerClient","RotateSecretCommand").sc(Ste).build(){}});var AI,Hte=b(()=>{"use strict";We();Te();ni();ii();AI=class extends se.classBuilder().ep(ar).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","StopReplicationToReplica",{}).n("SecretsManagerClient","StopReplicationToReplicaCommand").sc(xte).build(){}});var EI,Vte=b(()=>{"use strict";We();Te();ni();ii();EI=class extends se.classBuilder().ep(ar).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","TagResource",{}).n("SecretsManagerClient","TagResourceCommand").sc(wte).build(){}});var TI,Gte=b(()=>{"use strict";We();Te();ni();ii();TI=class extends se.classBuilder().ep(ar).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","UntagResource",{}).n("SecretsManagerClient","UntagResourceCommand").sc(Ate).build(){}});var RI,jte=b(()=>{"use strict";We();Te();ni();ii();RI=class extends se.classBuilder().ep(ar).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","UpdateSecret",{}).n("SecretsManagerClient","UpdateSecretCommand").sc(Ete).build(){}});var II,qte=b(()=>{"use strict";We();Te();ni();ii();II=class extends se.classBuilder().ep(ar).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","UpdateSecretVersionStage",{}).n("SecretsManagerClient","UpdateSecretVersionStageCommand").sc(Tte).build(){}});var CI,Wte=b(()=>{"use strict";We();Te();ni();ii();CI=class extends se.classBuilder().ep(ar).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","ValidateResourcePolicy",{}).n("SecretsManagerClient","ValidateResourcePolicyCommand").sc(Rte).build(){}});var Jte,Kte=b(()=>{"use strict";Wn();gM();aw();Jte=Ei(Fd,ev,"NextToken","NextToken","MaxResults")});var Qte,Xte=b(()=>{"use strict";Wn();yM();aw();Qte=Ei(Fd,tv,"NextToken","NextToken","MaxResults")});var Yte,Zte=b(()=>{"use strict";Wn();bM();aw();Yte=Ei(Fd,rv,"NextToken","NextToken","MaxResults")});var b5t,v5t,vM,CDe=b(()=>{"use strict";Te();gM();Ite();Cte();Nte();Ote();Pte();kte();Dte();Mte();yM();bM();Lte();Bte();$te();Ute();Fte();zte();Hte();Vte();Gte();jte();qte();Wte();Kte();Xte();Zte();aw();b5t={BatchGetSecretValueCommand:ev,CancelRotateSecretCommand:uI,CreateSecretCommand:dI,DeleteResourcePolicyCommand:pI,DeleteSecretCommand:fI,DescribeSecretCommand:mI,GetRandomPasswordCommand:hI,GetResourcePolicyCommand:gI,GetSecretValueCommand:yI,ListSecretsCommand:tv,ListSecretVersionIdsCommand:rv,PutResourcePolicyCommand:bI,PutSecretValueCommand:vI,RemoveRegionsFromReplicationCommand:_I,ReplicateSecretToRegionsCommand:SI,RestoreSecretCommand:xI,RotateSecretCommand:wI,StopReplicationToReplicaCommand:AI,TagResourceCommand:EI,UntagResourceCommand:TI,UpdateSecretCommand:RI,UpdateSecretVersionStageCommand:II,ValidateResourcePolicyCommand:CI},v5t={paginateBatchGetSecretValue:Jte,paginateListSecrets:Qte,paginateListSecretVersionIds:Yte},vM=class extends Fd{};su(b5t,vM,{paginators:v5t})});var NDe=b(()=>{"use strict";gM();Ite();Cte();Nte();Ote();Pte();kte();Dte();Mte();bM();yM();Lte();Bte();$te();Ute();Fte();zte();Hte();Vte();Gte();jte();qte();Wte()});var ODe=b(()=>{"use strict"});var PDe=b(()=>{"use strict";ODe();Kte();Xte();Zte()});var _5t,S5t,x5t,w5t,kDe=b(()=>{"use strict";_5t={all:"all",description:"description",name:"name",owning_service:"owning-service",primary_region:"primary-region",tag_key:"tag-key",tag_value:"tag-value"},S5t={Failed:"Failed",InProgress:"InProgress",InSync:"InSync"},x5t={created_date:"created-date",last_accessed_date:"last-accessed-date",last_changed_date:"last-changed-date",name:"name"},w5t={asc:"asc",desc:"desc"}});var DDe=b(()=>{"use strict"});var MDe={};Nr(MDe,{$Command:()=>se,APIErrorType$:()=>f7e,BatchGetSecretValue$:()=>ote,BatchGetSecretValueCommand:()=>ev,BatchGetSecretValueRequest$:()=>m7e,BatchGetSecretValueResponse$:()=>h7e,CancelRotateSecret$:()=>ste,CancelRotateSecretCommand:()=>uI,CancelRotateSecretRequest$:()=>g7e,CancelRotateSecretResponse$:()=>y7e,CreateSecret$:()=>ate,CreateSecretCommand:()=>dI,CreateSecretRequest$:()=>b7e,CreateSecretResponse$:()=>v7e,DecryptionFailure:()=>qR,DecryptionFailure$:()=>_7e,DeleteResourcePolicy$:()=>cte,DeleteResourcePolicyCommand:()=>pI,DeleteResourcePolicyRequest$:()=>S7e,DeleteResourcePolicyResponse$:()=>x7e,DeleteSecret$:()=>lte,DeleteSecretCommand:()=>fI,DeleteSecretRequest$:()=>w7e,DeleteSecretResponse$:()=>A7e,DescribeSecret$:()=>ute,DescribeSecretCommand:()=>mI,DescribeSecretRequest$:()=>E7e,DescribeSecretResponse$:()=>T7e,EncryptionFailure:()=>YR,EncryptionFailure$:()=>R7e,ExternalSecretRotationMetadataItem$:()=>I7e,Filter$:()=>C7e,FilterNameStringType:()=>_5t,GetRandomPassword$:()=>dte,GetRandomPasswordCommand:()=>hI,GetRandomPasswordRequest$:()=>N7e,GetRandomPasswordResponse$:()=>O7e,GetResourcePolicy$:()=>pte,GetResourcePolicyCommand:()=>gI,GetResourcePolicyRequest$:()=>P7e,GetResourcePolicyResponse$:()=>k7e,GetSecretValue$:()=>fte,GetSecretValueCommand:()=>yI,GetSecretValueRequest$:()=>D7e,GetSecretValueResponse$:()=>M7e,InternalServiceError:()=>WR,InternalServiceError$:()=>L7e,InvalidNextTokenException:()=>JR,InvalidNextTokenException$:()=>B7e,InvalidParameterException:()=>KR,InvalidParameterException$:()=>$7e,InvalidRequestException:()=>QR,InvalidRequestException$:()=>U7e,LimitExceededException:()=>ZR,LimitExceededException$:()=>F7e,ListSecretVersionIds$:()=>hte,ListSecretVersionIdsCommand:()=>rv,ListSecretVersionIdsRequest$:()=>V7e,ListSecretVersionIdsResponse$:()=>G7e,ListSecrets$:()=>mte,ListSecretsCommand:()=>tv,ListSecretsRequest$:()=>z7e,ListSecretsResponse$:()=>H7e,MalformedPolicyDocumentException:()=>eI,MalformedPolicyDocumentException$:()=>j7e,PreconditionNotMetException:()=>tI,PreconditionNotMetException$:()=>q7e,PublicPolicyException:()=>nI,PublicPolicyException$:()=>W7e,PutResourcePolicy$:()=>gte,PutResourcePolicyCommand:()=>bI,PutResourcePolicyRequest$:()=>J7e,PutResourcePolicyResponse$:()=>K7e,PutSecretValue$:()=>yte,PutSecretValueCommand:()=>vI,PutSecretValueRequest$:()=>Q7e,PutSecretValueResponse$:()=>X7e,RemoveRegionsFromReplication$:()=>bte,RemoveRegionsFromReplicationCommand:()=>_I,RemoveRegionsFromReplicationRequest$:()=>Y7e,RemoveRegionsFromReplicationResponse$:()=>Z7e,ReplicaRegionType$:()=>eDe,ReplicateSecretToRegions$:()=>vte,ReplicateSecretToRegionsCommand:()=>SI,ReplicateSecretToRegionsRequest$:()=>tDe,ReplicateSecretToRegionsResponse$:()=>rDe,ReplicationStatusType$:()=>nDe,ResourceExistsException:()=>rI,ResourceExistsException$:()=>iDe,ResourceNotFoundException:()=>XR,ResourceNotFoundException$:()=>oDe,RestoreSecret$:()=>_te,RestoreSecretCommand:()=>xI,RestoreSecretRequest$:()=>sDe,RestoreSecretResponse$:()=>aDe,RotateSecret$:()=>Ste,RotateSecretCommand:()=>wI,RotateSecretRequest$:()=>cDe,RotateSecretResponse$:()=>lDe,RotationRulesType$:()=>fM,SecretListEntry$:()=>uDe,SecretValueEntry$:()=>dDe,SecretVersionsListEntry$:()=>pDe,SecretsManager:()=>vM,SecretsManagerClient:()=>Fd,SecretsManagerServiceException:()=>Uo,SecretsManagerServiceException$:()=>TDe,SortByType:()=>x5t,SortOrderType:()=>w5t,StatusType:()=>S5t,StopReplicationToReplica$:()=>xte,StopReplicationToReplicaCommand:()=>AI,StopReplicationToReplicaRequest$:()=>fDe,StopReplicationToReplicaResponse$:()=>mDe,Tag$:()=>hDe,TagResource$:()=>wte,TagResourceCommand:()=>EI,TagResourceRequest$:()=>gDe,UntagResource$:()=>Ate,UntagResourceCommand:()=>TI,UntagResourceRequest$:()=>yDe,UpdateSecret$:()=>Ete,UpdateSecretCommand:()=>RI,UpdateSecretRequest$:()=>bDe,UpdateSecretResponse$:()=>vDe,UpdateSecretVersionStage$:()=>Tte,UpdateSecretVersionStageCommand:()=>II,UpdateSecretVersionStageRequest$:()=>_De,UpdateSecretVersionStageResponse$:()=>SDe,ValidateResourcePolicy$:()=>Rte,ValidateResourcePolicyCommand:()=>CI,ValidateResourcePolicyRequest$:()=>xDe,ValidateResourcePolicyResponse$:()=>wDe,ValidationErrorsEntry$:()=>ADe,__Client:()=>$o,paginateBatchGetSecretValue:()=>Jte,paginateListSecretVersionIds:()=>Yte,paginateListSecrets:()=>Qte});var LDe=b(()=>{"use strict";aw();CDe();NDe();ii();PDe();kDe();Qee();DDe();sM()});function Ee(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,ee))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(t).constructor;if(r)for(;r;){if(ee in r&&r[ee]===e[ee])return!0;r=Object.getPrototypeOf(r)}return!1}var ee,mon,st=b(()=>{"use strict";ee=Symbol.for("drizzle:entityKind"),mon=Symbol.for("drizzle:hasOwnEntityKind")});var wn,$m=b(()=>{"use strict";st();wn=class{constructor(e,r){this.table=e,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}static[ee]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}});var _M,BDe=b(()=>{"use strict";st();_M=class{static[ee]="ColumnBuilder";config;constructor(e,r,n){this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}});var Hd,SM=b(()=>{"use strict";Hd=Symbol.for("drizzle:Name")});var xM,ere,tre=b(()=>{"use strict";st();SM();xM=class{static[ee]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,r){this.reference=()=>{let{name:n,columns:i,foreignColumns:o}=e();return{name:n,columns:i,foreignTable:o[0].table,foreignColumns:o}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new ere(e,this)}},ere=class{constructor(e,r){this.table=e,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}static[ee]="PgForeignKey";reference;onUpdate;onDelete;getName(){let{name:e,columns:r,foreignColumns:n}=this.reference(),i=r.map(a=>a.name),o=n.map(a=>a.name),s=[this.table[Hd],...i,n[0].table[Hd],...o];return e??`${s.join("_")}_fk`}}});function wM(t,...e){return t(...e)}var rre=b(()=>{"use strict"});function nf(t){return new ire(t)}function sre(t,e){return`${t[Hd]}_${e.join("_")}_unique`}var nre,ire,ore,are=b(()=>{"use strict";st();SM();nre=class{constructor(e,r){this.name=r,this.columns=e}static[ee]="PgUniqueConstraintBuilder";columns;nullsNotDistinctConfig=!1;nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(e){return new ore(e,this.columns,this.nullsNotDistinctConfig,this.name)}},ire=class{static[ee]="PgUniqueOnConstraintBuilder";name;constructor(e){this.name=e}on(...e){return new nre(e,this.name)}},ore=class{constructor(e,r,n,i){this.table=e,this.columns=r,this.name=i??sre(this.table,this.columns.map(o=>o.name)),this.nullsNotDistinct=n}static[ee]="PgUniqueConstraint";columns;name;nullsNotDistinct=!1;getName(){return this.name}}});function $De(t,e,r){for(let n=e;n<t.length;n++){let i=t[n];if(i==="\\"){n++;continue}if(i==='"')return[t.slice(e,n).replace(/\\/g,""),n+1];if(!r&&(i===","||i==="}"))return[t.slice(e,n).replace(/\\/g,""),n]}return[t.slice(e).replace(/\\/g,""),t.length]}function UDe(t,e=0){let r=[],n=e,i=!1;for(;n<t.length;){let o=t[n];if(o===","){(i||n===e)&&r.push(""),i=!0,n++;continue}if(i=!1,o==="\\"){n+=2;continue}if(o==='"'){let[c,l]=$De(t,n+1,!0);r.push(c),n=l;continue}if(o==="}")return[r,n+1];if(o==="{"){let[c,l]=UDe(t,n+1);r.push(c),n=l;continue}let[s,a]=$De(t,n,!1);r.push(s),n=a}return[r,n]}function FDe(t){let[e]=UDe(t,1);return e}function cre(t){return`{${t.map(e=>Array.isArray(e)?cre(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}var lre=b(()=>{"use strict"});var Et,it,ure,uw,dre,pre,kr=b(()=>{"use strict";BDe();$m();st();tre();rre();are();lre();Et=class extends _M{foreignKeyConfigs=[];static[ee]="PgColumnBuilder";array(e){return new dre(this.config.name,this,e)}references(e,r={}){return this.foreignKeyConfigs.push({ref:e,actions:r}),this}unique(e,r){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=r?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,r){return this.foreignKeyConfigs.map(({ref:n,actions:i})=>wM((o,s)=>{let a=new xM(()=>{let c=o();return{columns:[e],foreignColumns:[c]}});return s.onUpdate&&a.onUpdate(s.onUpdate),s.onDelete&&a.onDelete(s.onDelete),a.build(r)},n,i))}buildExtraConfigColumn(e){return new ure(e,this.config)}},it=class extends wn{constructor(e,r){r.uniqueName||(r.uniqueName=sre(e,[r.name])),super(e,r),this.table=e}static[ee]="PgColumn"},ure=class extends it{static[ee]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}},uw=class{static[ee]="IndexedColumn";constructor(e,r,n,i){this.name=e,this.keyAsName=r,this.type=n,this.indexConfig=i}name;keyAsName;type;indexConfig},dre=class extends Et{static[ee]="PgArrayBuilder";constructor(e,r,n){super(e,"array","PgArray"),this.config.baseBuilder=r,this.config.size=n}build(e){let r=this.config.baseBuilder.build(e);return new pre(e,this.config,r)}},pre=class t extends it{constructor(e,r,n,i){super(e,r),this.baseColumn=n,this.range=i,this.size=r.size}size;static[ee]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(e){return typeof e=="string"&&(e=FDe(e)),e.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(e,r=!1){let n=e.map(i=>i===null?null:Ee(this.baseColumn,t)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return r?n:cre(n)}}});function zDe(t){return!!t&&typeof t=="function"&&AM in t&&t[AM]===!0}function HDe(t,e,r){let n=Object.assign(i=>new hre(i??"",n),{enumName:t,enumValues:e,schema:r,[AM]:!0});return n}function VDe(t,e,r){let n=Object.assign(i=>new fre(i??"",n),{enumName:t,enumValues:Object.values(e),schema:r,[AM]:!0});return n}var fre,mre,AM,hre,gre,EM=b(()=>{"use strict";st();kr();fre=class extends Et{static[ee]="PgEnumObjectColumnBuilder";constructor(e,r){super(e,"string","PgEnumObjectColumn"),this.config.enum=r}build(e){return new mre(e,this.config)}},mre=class extends it{static[ee]="PgEnumObjectColumn";enum;enumValues=this.config.enum.enumValues;constructor(e,r){super(e,r),this.enum=r.enum}getSQLType(){return this.enum.enumName}},AM=Symbol.for("drizzle:isPgEnum");hre=class extends Et{static[ee]="PgEnumColumnBuilder";constructor(e,r){super(e,"string","PgEnumColumn"),this.config.enum=r}build(e){return new gre(e,this.config)}},gre=class extends it{static[ee]="PgEnumColumn";enum=this.config.enum;enumValues=this.config.enum.enumValues;constructor(e,r){super(e,r),this.enum=r.enum}getSQLType(){return this.enum.enumName}}});var oi,dw,of=b(()=>{"use strict";st();oi=class{static[ee]="Subquery";constructor(e,r,n,i=!1,o=[]){this._={brand:"Subquery",sql:e,selectedFields:r,alias:n,isWith:i,usedTables:o}}},dw=class extends oi{static[ee]="WithSubquery"}});var GDe,jDe=b(()=>{"use strict";GDe="0.45.1"});var yre,bre,$n,Um=b(()=>{"use strict";rre();jDe();$n={startActiveSpan(t,e){return yre?(bre||(bre=yre.trace.getTracer("drizzle-orm",GDe)),wM((r,n)=>n.startActiveSpan(t,i=>{try{return e(i)}catch(o){throw i.setStatus({code:r.SpanStatusCode.ERROR,message:o instanceof Error?o.message:"Unknown error"}),o}finally{i.end()}}),yre,bre)):e()}}});var Jn,D0=b(()=>{"use strict";Jn=Symbol.for("drizzle:ViewBaseConfig")});function _c(t){return t[Hd]}function iv(t){return`${t[nv]??"public"}.${t[Hd]}`}var nv,TM,qDe,vre,_re,NI,WDe,R5t,lt,Sc=b(()=>{"use strict";st();SM();nv=Symbol.for("drizzle:Schema"),TM=Symbol.for("drizzle:Columns"),qDe=Symbol.for("drizzle:ExtraConfigColumns"),vre=Symbol.for("drizzle:OriginalName"),_re=Symbol.for("drizzle:BaseName"),NI=Symbol.for("drizzle:IsAlias"),WDe=Symbol.for("drizzle:ExtraConfigBuilder"),R5t=Symbol.for("drizzle:IsDrizzleTable"),lt=class{static[ee]="Table";static Symbol={Name:Hd,Schema:nv,OriginalName:vre,Columns:TM,ExtraConfigColumns:qDe,BaseName:_re,IsAlias:NI,ExtraConfigBuilder:WDe};[Hd];[vre];[nv];[TM];[qDe];[_re];[NI]=!1;[R5t]=!0;[WDe]=void 0;constructor(e,r,n){this[Hd]=this[vre]=e,this[nv]=r,this[_re]=n}}});function Sre(t){return t!=null&&typeof t.getSQL=="function"}function I5t(t){let e={sql:"",params:[]};for(let r of t)e.sql+=r.sql,e.params.push(...r.params),r.typings?.length&&(e.typings||(e.typings=[]),e.typings.push(...r.typings));return e}function KDe(t){return typeof t=="object"&&t!==null&&"mapToDriverValue"in t&&typeof t.mapToDriverValue=="function"}function re(t,...e){let r=[];(e.length>0||t.length>0&&t[0]!=="")&&r.push(new Eo(t[0]));for(let[n,i]of e.entries())r.push(i,new Eo(t[n+1]));return new bt(r)}function ov(t,e){return t.map(r=>{if(Ee(r,Fm)){if(!(r.name in e))throw new Error(`No value for placeholder "${r.name}" was provided`);return e[r.name]}if(Ee(r,xc)&&Ee(r.value,Fm)){if(!(r.value.name in e))throw new Error(`No value for placeholder "${r.value.name}" was provided`);return r.encoder.mapToDriverValue(e[r.value.name])}return r})}var JDe,Eo,bt,OI,QDe,XDe,nsn,xc,Fm,C5t,Na,Fi=b(()=>{"use strict";st();EM();of();Um();D0();$m();Sc();JDe=class{static[ee]="FakePrimitiveParam"};Eo=class{static[ee]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new bt([this])}},bt=class t{constructor(e){this.queryChunks=e;for(let r of e)if(Ee(r,lt)){let n=r[lt.Symbol.Schema];this.usedTables.push(n===void 0?r[lt.Symbol.Name]:n+"."+r[lt.Symbol.Name])}}static[ee]="SQL";decoder=QDe;shouldInlineParams=!1;usedTables=[];append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return $n.startActiveSpan("drizzle.buildSQL",r=>{let n=this.buildQueryFromSourceParams(this.queryChunks,e);return r?.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(e,r){let n=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:i,escapeName:o,escapeParam:s,prepareTyping:a,inlineParams:c,paramStartIndex:l}=n;return I5t(e.map(u=>{if(Ee(u,Eo))return{sql:u.value.join(""),params:[]};if(Ee(u,OI))return{sql:o(u.value),params:[]};if(u===void 0)return{sql:"",params:[]};if(Array.isArray(u)){let d=[new Eo("(")];for(let[p,f]of u.entries())d.push(f),p<u.length-1&&d.push(new Eo(", "));return d.push(new Eo(")")),this.buildQueryFromSourceParams(d,n)}if(Ee(u,t))return this.buildQueryFromSourceParams(u.queryChunks,{...n,inlineParams:c||u.shouldInlineParams});if(Ee(u,lt)){let d=u[lt.Symbol.Schema],p=u[lt.Symbol.Name];return{sql:d===void 0||u[NI]?o(p):o(d)+"."+o(p),params:[]}}if(Ee(u,wn)){let d=i.getColumnCasing(u);if(r.invokeSource==="indexes")return{sql:o(d),params:[]};let p=u.table[lt.Symbol.Schema];return{sql:u.table[NI]||p===void 0?o(u.table[lt.Symbol.Name])+"."+o(d):o(p)+"."+o(u.table[lt.Symbol.Name])+"."+o(d),params:[]}}if(Ee(u,Na)){let d=u[Jn].schema,p=u[Jn].name;return{sql:d===void 0||u[Jn].isAlias?o(p):o(d)+"."+o(p),params:[]}}if(Ee(u,xc)){if(Ee(u.value,Fm))return{sql:s(l.value++,u),params:[u],typings:["none"]};let d=u.value===null?null:u.encoder.mapToDriverValue(u.value);if(Ee(d,t))return this.buildQueryFromSourceParams([d],n);if(c)return{sql:this.mapInlineParam(d,n),params:[]};let p=["none"];return a&&(p=[a(u.encoder)]),{sql:s(l.value++,d),params:[d],typings:p}}return Ee(u,Fm)?{sql:s(l.value++,u),params:[u],typings:["none"]}:Ee(u,t.Aliased)&&u.fieldAlias!==void 0?{sql:o(u.fieldAlias),params:[]}:Ee(u,oi)?u._.isWith?{sql:o(u._.alias),params:[]}:this.buildQueryFromSourceParams([new Eo("("),u._.sql,new Eo(") "),new OI(u._.alias)],n):zDe(u)?u.schema?{sql:o(u.schema)+"."+o(u.enumName),params:[]}:{sql:o(u.enumName),params:[]}:Sre(u)?u.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([u.getSQL()],n):this.buildQueryFromSourceParams([new Eo("("),u.getSQL(),new Eo(")")],n):c?{sql:this.mapInlineParam(u,n),params:[]}:{sql:s(l.value++,u),params:[u],typings:["none"]}}))}mapInlineParam(e,{escapeString:r}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return r(e);if(typeof e=="object"){let n=e.toString();return r(n==="[object Object]"?JSON.stringify(e):n)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new t.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}},OI=class{constructor(e){this.value=e}static[ee]="Name";brand;getSQL(){return new bt([this])}};QDe={mapFromDriverValue:t=>t},XDe={mapToDriverValue:t=>t},nsn={...QDe,...XDe},xc=class{constructor(e,r=XDe){this.value=e,this.encoder=r}static[ee]="Param";brand;getSQL(){return new bt([this])}};(t=>{function e(){return new bt([])}t.empty=e;function r(c){return new bt(c)}t.fromList=r;function n(c){return new bt([new Eo(c)])}t.raw=n;function i(c,l){let u=[];for(let[d,p]of c.entries())d>0&&l!==void 0&&u.push(l),u.push(p);return new bt(u)}t.join=i;function o(c){return new OI(c)}t.identifier=o;function s(c){return new Fm(c)}t.placeholder=s;function a(c,l){return new xc(c,l)}t.param=a})(re||(re={}));(t=>{class e{constructor(n,i){this.sql=n,this.fieldAlias=i}static[ee]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new e(this.sql,this.fieldAlias)}}t.Aliased=e})(bt||(bt={}));Fm=class{constructor(e){this.name=e}static[ee]="Placeholder";getSQL(){return new bt([this])}};C5t=Symbol.for("drizzle:IsDrizzleView"),Na=class{static[ee]="View";[Jn];[C5t]=!0;constructor({name:e,schema:r,selectedFields:n,query:i}){this[Jn]={name:e,originalName:e,schema:r,selectedFields:n,query:i,isExisting:!i,isAlias:!1}}getSQL(){return new bt([this])}};wn.prototype.getSQL=function(){return new bt([this])};lt.prototype.getSQL=function(){return new bt([this])};oi.prototype.getSQL=function(){return new bt([this])}});function PI(t,e){return new Proxy(t,new pw(e,!1))}function sf(t,e){return new Proxy(t,new sv(new Proxy(t.table,new pw(e,!1))))}function xre(t,e){return new bt.Aliased(kI(t.sql,e),t.fieldAlias)}function kI(t,e){return re.join(t.queryChunks.map(r=>Ee(r,wn)?sf(r,e):Ee(r,bt)?kI(r,e):Ee(r,bt.Aliased)?xre(r,e):r))}var sv,pw,YDe,wre=b(()=>{"use strict";$m();st();Fi();Sc();D0();sv=class{constructor(e){this.table=e}static[ee]="ColumnAliasProxyHandler";get(e,r){return r==="table"?this.table:e[r]}},pw=class{constructor(e,r){this.alias=e,this.replaceOriginalName=r}static[ee]="TableAliasProxyHandler";get(e,r){if(r===lt.Symbol.IsAlias)return!0;if(r===lt.Symbol.Name)return this.alias;if(this.replaceOriginalName&&r===lt.Symbol.OriginalName)return this.alias;if(r===Jn)return{...e[Jn],name:this.alias,isAlias:!0};if(r===lt.Symbol.Columns){let i=e[lt.Symbol.Columns];if(!i)return i;let o={};return Object.keys(i).map(s=>{o[s]=new Proxy(i[s],new sv(new Proxy(e,this)))}),o}let n=e[r];return Ee(n,wn)?new Proxy(n,new sv(new Proxy(e,this))):n}},YDe=class{constructor(e){this.alias=e}static[ee]="RelationTableAliasProxyHandler";get(e,r){return r==="sourceTable"?PI(e.sourceTable,this.alias):e[r]}}});var ZDe=b(()=>{"use strict"});var eMe,Are,tMe=b(()=>{"use strict";st();eMe=class{constructor(e,r){this.name=e,this.value=r}static[ee]="PgCheckBuilder";brand;build(e){return new Are(e,this)}},Are=class{constructor(e,r){this.table=e,this.name=r.name,this.value=r.value}static[ee]="PgCheck";name;value}});function RM(t,e,r){let n={},i=t.reduce((o,{path:s,field:a},c)=>{let l;Ee(a,wn)?l=a:Ee(a,bt)?l=a.decoder:Ee(a,oi)?l=a._.sql.decoder:l=a.sql.decoder;let u=o;for(let[d,p]of s.entries())if(d<s.length-1)p in u||(u[p]={}),u=u[p];else{let f=e[c],h=u[p]=f===null?null:l.mapFromDriverValue(f);if(r&&Ee(a,wn)&&s.length===2){let m=s[0];m in n?typeof n[m]=="string"&&n[m]!==_c(a.table)&&(n[m]=!1):n[m]=h===null?_c(a.table):!1}}return o},{});if(r&&Object.keys(n).length>0)for(let[o,s]of Object.entries(n))typeof s=="string"&&!r[s]&&(i[o]=null);return i}function Mu(t,e){return Object.entries(t).reduce((r,[n,i])=>{if(typeof n!="string")return r;let o=e?[...e,n]:[n];return Ee(i,wn)||Ee(i,bt)||Ee(i,bt.Aliased)||Ee(i,oi)?r.push({path:o,field:i}):Ee(i,lt)?r.push(...Mu(i[lt.Symbol.Columns],o)):r.push(...Mu(i,o)),r},[])}function DI(t,e){let r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let[i,o]of r.entries())if(o!==n[i])return!1;return!0}function IM(t,e){let r=Object.entries(e).filter(([,n])=>n!==void 0).map(([n,i])=>Ee(i,bt)||Ee(i,wn)?[n,i]:[n,new xc(i,t[lt.Symbol.Columns][n])]);if(r.length===0)throw new Error("No values to set");return Object.fromEntries(r)}function rMe(t,e){for(let r of e)for(let n of Object.getOwnPropertyNames(r.prototype))n!=="constructor"&&Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(r.prototype,n)||Object.create(null))}function MI(t){return t[lt.Symbol.Columns]}function zm(t){return Ee(t,oi)?t._.alias:Ee(t,Na)?t[Jn].name:Ee(t,bt)?void 0:t[lt.Symbol.IsAlias]?t[lt.Symbol.Name]:t[lt.Symbol.BaseName]}function Br(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}function CM(t){if(typeof t!="object"||t===null||t.constructor.name!=="Object")return!1;if("logger"in t){let e=typeof t.logger;return!(e!=="boolean"&&(e!=="object"||typeof t.logger.logQuery!="function")&&e!=="undefined")}if("schema"in t){let e=typeof t.schema;return!(e!=="object"&&e!=="undefined")}if("casing"in t){let e=typeof t.casing;return!(e!=="string"&&e!=="undefined")}if("mode"in t)return!(t.mode!=="default"||t.mode!=="planetscale"||t.mode!==void 0);if("connection"in t){let e=typeof t.connection;return!(e!=="string"&&e!=="object"&&e!=="undefined")}if("client"in t){let e=typeof t.client;return!(e!=="object"&&e!=="function"&&e!=="undefined")}return Object.keys(t).length===0}var _sn,vn=b(()=>{"use strict";$m();st();Fi();of();Sc();D0();_sn=typeof TextDecoder>"u"?null:new TextDecoder});var Hm,LI=b(()=>{"use strict";st();kr();Hm=class extends Et{static[ee]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(e){if(e){let{name:r,...n}=e;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){let{name:r,...n}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}});function nMe(t,e){let{name:r,config:n}=Br(t,e);return n.mode==="number"?new Ere(r):new Rre(r)}var Ere,Tre,Rre,Ire,Cre=b(()=>{"use strict";st();vn();kr();LI();Ere=class extends Hm{static[ee]="PgBigInt53Builder";constructor(e){super(e,"number","PgBigInt53")}build(e){return new Tre(e,this.config)}},Tre=class extends it{static[ee]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}},Rre=class extends Hm{static[ee]="PgBigInt64Builder";constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new Ire(e,this.config)}},Ire=class extends it{static[ee]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}});function iMe(t,e){let{name:r,config:n}=Br(t,e);return n.mode==="number"?new Nre(r):new Pre(r)}var Nre,Ore,Pre,kre,Dre=b(()=>{"use strict";st();vn();kr();Nre=class extends Et{static[ee]="PgBigSerial53Builder";constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new Ore(e,this.config)}},Ore=class extends it{static[ee]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}},Pre=class extends Et{static[ee]="PgBigSerial64Builder";constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new kre(e,this.config)}},kre=class extends it{static[ee]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}});function zi(t){return new Mre(t??"")}var Mre,Lre,Bre=b(()=>{"use strict";st();kr();Mre=class extends Et{static[ee]="PgBooleanBuilder";constructor(e){super(e,"boolean","PgBoolean")}build(e){return new Lre(e,this.config)}},Lre=class extends it{static[ee]="PgBoolean";getSQLType(){return"boolean"}}});function oMe(t,e={}){let{name:r,config:n}=Br(t,e);return new $re(r,n)}var $re,Ure,Fre=b(()=>{"use strict";st();vn();kr();$re=class extends Et{static[ee]="PgCharBuilder";constructor(e,r){super(e,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new Ure(e,this.config)}},Ure=class extends it{static[ee]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}});function sMe(t){return new zre(t??"")}var zre,Hre,Vre=b(()=>{"use strict";st();kr();zre=class extends Et{static[ee]="PgCidrBuilder";constructor(e){super(e,"string","PgCidr")}build(e){return new Hre(e,this.config)}},Hre=class extends it{static[ee]="PgCidr";getSQLType(){return"cidr"}}});function aMe(t){return(e,r)=>{let{name:n,config:i}=Br(e,r);return new Gre(n,i,t)}}var Gre,jre,qre=b(()=>{"use strict";st();vn();kr();Gre=class extends Et{static[ee]="PgCustomColumnBuilder";constructor(e,r,n){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=n}build(e){return new jre(e,this.config)}},jre=class extends it{static[ee]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(e,r){super(e,r),this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return typeof this.mapFrom=="function"?this.mapFrom(e):e}mapToDriverValue(e){return typeof this.mapTo=="function"?this.mapTo(e):e}}});var af,NM=b(()=>{"use strict";st();Fi();kr();af=class extends Et{static[ee]="PgDateColumnBaseBuilder";defaultNow(){return this.default(re`now()`)}}});function cMe(t,e){let{name:r,config:n}=Br(t,e);return n?.mode==="date"?new Wre(r):new Jre(r)}var Wre,BI,Jre,$I,Kre=b(()=>{"use strict";st();vn();kr();NM();Wre=class extends af{static[ee]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new BI(e,this.config)}},BI=class extends it{static[ee]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return typeof e=="string"?new Date(e):e}mapToDriverValue(e){return e.toISOString()}},Jre=class extends af{static[ee]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new $I(e,this.config)}},$I=class extends it{static[ee]="PgDateString";getSQLType(){return"date"}mapFromDriverValue(e){return typeof e=="string"?e:e.toISOString().slice(0,-14)}}});function lMe(t){return new Qre(t??"")}var Qre,Xre,Yre=b(()=>{"use strict";st();kr();Qre=class extends Et{static[ee]="PgDoublePrecisionBuilder";constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new Xre(e,this.config)}},Xre=class extends it{static[ee]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}});function uMe(t){return new Zre(t??"")}var Zre,ene,tne=b(()=>{"use strict";st();kr();Zre=class extends Et{static[ee]="PgInetBuilder";constructor(e){super(e,"string","PgInet")}build(e){return new ene(e,this.config)}},ene=class extends it{static[ee]="PgInet";getSQLType(){return"inet"}}});function Se(t){return new rne(t??"")}var rne,nne,ine=b(()=>{"use strict";st();kr();LI();rne=class extends Hm{static[ee]="PgIntegerBuilder";constructor(e){super(e,"number","PgInteger")}build(e){return new nne(e,this.config)}},nne=class extends it{static[ee]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}});function dMe(t,e={}){let{name:r,config:n}=Br(t,e);return new one(r,n)}var one,sne,ane=b(()=>{"use strict";st();vn();kr();one=class extends Et{static[ee]="PgIntervalBuilder";constructor(e,r){super(e,"string","PgInterval"),this.config.intervalConfig=r}build(e){return new sne(e,this.config)}},sne=class extends it{static[ee]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){let e=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${e}${r}`}}});function pMe(t){return new cne(t??"")}var cne,UI,lne=b(()=>{"use strict";st();kr();cne=class extends Et{static[ee]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new UI(e,this.config)}},UI=class extends it{static[ee]="PgJson";constructor(e,r){super(e,r)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}});function dt(t){return new une(t??"")}var une,FI,dne=b(()=>{"use strict";st();kr();une=class extends Et{static[ee]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new FI(e,this.config)}},FI=class extends it{static[ee]="PgJsonb";constructor(e,r){super(e,r)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}});function fMe(t,e){let{name:r,config:n}=Br(t,e);return!n?.mode||n.mode==="tuple"?new pne(r):new mne(r)}var pne,fne,mne,hne,gne=b(()=>{"use strict";st();vn();kr();pne=class extends Et{static[ee]="PgLineBuilder";constructor(e){super(e,"array","PgLine")}build(e){return new fne(e,this.config)}},fne=class extends it{static[ee]="PgLine";getSQLType(){return"line"}mapFromDriverValue(e){let[r,n,i]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n),Number.parseFloat(i)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}},mne=class extends Et{static[ee]="PgLineABCBuilder";constructor(e){super(e,"json","PgLineABC")}build(e){return new hne(e,this.config)}},hne=class extends it{static[ee]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(e){let[r,n,i]=e.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(n),c:Number.parseFloat(i)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}});function mMe(t){return new yne(t??"")}var yne,bne,vne=b(()=>{"use strict";st();kr();yne=class extends Et{static[ee]="PgMacaddrBuilder";constructor(e){super(e,"string","PgMacaddr")}build(e){return new bne(e,this.config)}},bne=class extends it{static[ee]="PgMacaddr";getSQLType(){return"macaddr"}}});function hMe(t){return new _ne(t??"")}var _ne,Sne,xne=b(()=>{"use strict";st();kr();_ne=class extends Et{static[ee]="PgMacaddr8Builder";constructor(e){super(e,"string","PgMacaddr8")}build(e){return new Sne(e,this.config)}},Sne=class extends it{static[ee]="PgMacaddr8";getSQLType(){return"macaddr8"}}});function Ht(t,e){let{name:r,config:n}=Br(t,e),i=n?.mode;return i==="number"?new Ane(r,n?.precision,n?.scale):i==="bigint"?new Tne(r,n?.precision,n?.scale):new wne(r,n?.precision,n?.scale)}var wne,zI,Ane,Ene,Tne,Rne,Ine=b(()=>{"use strict";st();vn();kr();wne=class extends Et{static[ee]="PgNumericBuilder";constructor(e,r,n){super(e,"string","PgNumeric"),this.config.precision=r,this.config.scale=n}build(e){return new zI(e,this.config)}},zI=class extends it{static[ee]="PgNumeric";precision;scale;constructor(e,r){super(e,r),this.precision=r.precision,this.scale=r.scale}mapFromDriverValue(e){return typeof e=="string"?e:String(e)}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}},Ane=class extends Et{static[ee]="PgNumericNumberBuilder";constructor(e,r,n){super(e,"number","PgNumericNumber"),this.config.precision=r,this.config.scale=n}build(e){return new Ene(e,this.config)}},Ene=class extends it{static[ee]="PgNumericNumber";precision;scale;constructor(e,r){super(e,r),this.precision=r.precision,this.scale=r.scale}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}mapToDriverValue=String;getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}},Tne=class extends Et{static[ee]="PgNumericBigIntBuilder";constructor(e,r,n){super(e,"bigint","PgNumericBigInt"),this.config.precision=r,this.config.scale=n}build(e){return new Rne(e,this.config)}},Rne=class extends it{static[ee]="PgNumericBigInt";precision;scale;constructor(e,r){super(e,r),this.precision=r.precision,this.scale=r.scale}mapFromDriverValue=BigInt;mapToDriverValue=String;getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}});function gMe(t,e){let{name:r,config:n}=Br(t,e);return!n?.mode||n.mode==="tuple"?new Cne(r):new One(r)}var Cne,Nne,One,Pne,kne=b(()=>{"use strict";st();vn();kr();Cne=class extends Et{static[ee]="PgPointTupleBuilder";constructor(e){super(e,"array","PgPointTuple")}build(e){return new Nne(e,this.config)}},Nne=class extends it{static[ee]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){let[r,n]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}},One=class extends Et{static[ee]="PgPointObjectBuilder";constructor(e){super(e,"json","PgPointObject")}build(e){return new Pne(e,this.config)}},Pne=class extends it{static[ee]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){let[r,n]=e.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(n)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}});function N5t(t){let e=[];for(let r=0;r<t.length;r+=2)e.push(Number.parseInt(t.slice(r,r+2),16));return new Uint8Array(e)}function yMe(t,e){let r=new ArrayBuffer(8),n=new DataView(r);for(let i=0;i<8;i++)n.setUint8(i,t[e+i]);return n.getFloat64(0,!0)}function Dne(t){let e=N5t(t),r=0,n=e[r];r+=1;let i=new DataView(e.buffer),o=i.getUint32(r,n===1);r+=4;let s;if(o&536870912&&(s=i.getUint32(r,n===1),r+=4),(o&65535)===1){let a=yMe(e,r);r+=8;let c=yMe(e,r);return r+=8,[a,c]}throw new Error("Unsupported geometry type")}var bMe=b(()=>{"use strict"});function vMe(t,e){let{name:r,config:n}=Br(t,e);return!n?.mode||n.mode==="tuple"?new Mne(r):new Bne(r)}var Mne,Lne,Bne,$ne,Une=b(()=>{"use strict";st();vn();kr();bMe();Mne=class extends Et{static[ee]="PgGeometryBuilder";constructor(e){super(e,"array","PgGeometry")}build(e){return new Lne(e,this.config)}},Lne=class extends it{static[ee]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return Dne(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}},Bne=class extends Et{static[ee]="PgGeometryObjectBuilder";constructor(e){super(e,"json","PgGeometryObject")}build(e){return new $ne(e,this.config)}},$ne=class extends it{static[ee]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){let r=Dne(e);return{x:r[0],y:r[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}});function C(t){return new Fne(t??"")}var Fne,zne,Hne=b(()=>{"use strict";st();kr();Fne=class extends Et{static[ee]="PgRealBuilder";constructor(e,r){super(e,"number","PgReal"),this.config.length=r}build(e){return new zne(e,this.config)}},zne=class extends it{static[ee]="PgReal";constructor(e,r){super(e,r)}getSQLType(){return"real"}mapFromDriverValue=e=>typeof e=="string"?Number.parseFloat(e):e}});function _Me(t){return new Vne(t??"")}var Vne,Gne,jne=b(()=>{"use strict";st();kr();Vne=class extends Et{static[ee]="PgSerialBuilder";constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new Gne(e,this.config)}},Gne=class extends it{static[ee]="PgSerial";getSQLType(){return"serial"}}});function SMe(t){return new qne(t??"")}var qne,Wne,Jne=b(()=>{"use strict";st();kr();LI();qne=class extends Hm{static[ee]="PgSmallIntBuilder";constructor(e){super(e,"number","PgSmallInt")}build(e){return new Wne(e,this.config)}},Wne=class extends it{static[ee]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=e=>typeof e=="string"?Number(e):e}});function xMe(t){return new Kne(t??"")}var Kne,Qne,Xne=b(()=>{"use strict";st();kr();Kne=class extends Et{static[ee]="PgSmallSerialBuilder";constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new Qne(e,this.config)}},Qne=class extends it{static[ee]="PgSmallSerial";getSQLType(){return"smallserial"}}});function M(t,e={}){let{name:r,config:n}=Br(t,e);return new Yne(r,n)}var Yne,Zne,eie=b(()=>{"use strict";st();vn();kr();Yne=class extends Et{static[ee]="PgTextBuilder";constructor(e,r){super(e,"string","PgText"),this.config.enumValues=r.enum}build(e){return new Zne(e,this.config)}},Zne=class extends it{static[ee]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}});function wMe(t,e={}){let{name:r,config:n}=Br(t,e);return new tie(r,n.withTimezone??!1,n.precision)}var tie,HI,rie=b(()=>{"use strict";st();vn();kr();NM();tie=class extends af{constructor(e,r,n){super(e,"string","PgTime"),this.withTimezone=r,this.precision=n,this.config.withTimezone=r,this.config.precision=n}static[ee]="PgTimeBuilder";build(e){return new HI(e,this.config)}},HI=class extends it{static[ee]="PgTime";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}});function Ae(t,e={}){let{name:r,config:n}=Br(t,e);return n?.mode==="string"?new iie(r,n.withTimezone??!1,n.precision):new nie(r,n?.withTimezone??!1,n?.precision)}var nie,VI,iie,GI,oie=b(()=>{"use strict";st();vn();kr();NM();nie=class extends af{static[ee]="PgTimestampBuilder";constructor(e,r,n){super(e,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=n}build(e){return new VI(e,this.config)}},VI=class extends it{static[ee]="PgTimestamp";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue(e){return typeof e=="string"?new Date(this.withTimezone?e:e+"+0000"):e}mapToDriverValue=e=>e.toISOString()},iie=class extends af{static[ee]="PgTimestampStringBuilder";constructor(e,r,n){super(e,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=n}build(e){return new GI(e,this.config)}},GI=class extends it{static[ee]="PgTimestampString";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue(e){if(typeof e=="string")return e;let r=e.toISOString().slice(0,-1).replace("T"," ");if(this.withTimezone){let n=e.getTimezoneOffset(),i=n<=0?"+":"-";return`${r}${i}${Math.floor(Math.abs(n)/60).toString().padStart(2,"0")}`}return r}}});function AMe(t){return new sie(t??"")}var sie,jI,aie=b(()=>{"use strict";st();Fi();kr();sie=class extends Et{static[ee]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(re`gen_random_uuid()`)}build(e){return new jI(e,this.config)}},jI=class extends it{static[ee]="PgUUID";getSQLType(){return"uuid"}}});function EMe(t,e={}){let{name:r,config:n}=Br(t,e);return new cie(r,n)}var cie,lie,uie=b(()=>{"use strict";st();vn();kr();cie=class extends Et{static[ee]="PgVarcharBuilder";constructor(e,r){super(e,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new lie(e,this.config)}},lie=class extends it{static[ee]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}});function TMe(t,e){let{name:r,config:n}=Br(t,e);return new die(r,n)}var die,pie,fie=b(()=>{"use strict";st();vn();kr();die=class extends Et{static[ee]="PgBinaryVectorBuilder";constructor(e,r){super(e,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(e){return new pie(e,this.config)}},pie=class extends it{static[ee]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}});function RMe(t,e){let{name:r,config:n}=Br(t,e);return new mie(r,n)}var mie,hie,gie=b(()=>{"use strict";st();vn();kr();mie=class extends Et{static[ee]="PgHalfVectorBuilder";constructor(e,r){super(e,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(e){return new hie(e,this.config)}},hie=class extends it{static[ee]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}});function IMe(t,e){let{name:r,config:n}=Br(t,e);return new yie(r,n)}var yie,bie,vie=b(()=>{"use strict";st();vn();kr();yie=class extends Et{static[ee]="PgSparseVectorBuilder";constructor(e,r){super(e,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(e){return new bie(e,this.config)}},bie=class extends it{static[ee]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}});function CMe(t,e){let{name:r,config:n}=Br(t,e);return new _ie(r,n)}var _ie,Sie,xie=b(()=>{"use strict";st();vn();kr();_ie=class extends Et{static[ee]="PgVectorBuilder";constructor(e,r){super(e,"array","PgVector"),this.config.dimensions=r.dimensions}build(e){return new Sie(e,this.config)}},Sie=class extends it{static[ee]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}});var OM=b(()=>{"use strict";Cre();Dre();Bre();Fre();Vre();kr();qre();Kre();Yre();EM();tne();LI();ine();ane();lne();dne();gne();vne();xne();Ine();kne();Une();Hne();jne();Jne();Xne();eie();rie();oie();aie();uie();fie();gie();vie();xie()});var ra,M0=b(()=>{"use strict";st();ra=class{static[ee]="QueryPromise";[Symbol.toStringTag]="QueryPromise";catch(e){return this.then(void 0,e)}finally(e){return this.then(r=>(e?.(),r),r=>{throw e?.(),r})}then(e,r){return this.execute().then(e,r)}}});var An,L0=b(()=>{"use strict";wre();$m();st();Fi();of();D0();An=class t{static[ee]="SelectionProxyHandler";config;constructor(e){this.config={...e}}get(e,r){if(r==="_")return{...e._,selectedFields:new Proxy(e._.selectedFields,this)};if(r===Jn)return{...e[Jn],selectedFields:new Proxy(e[Jn].selectedFields,this)};if(typeof r=="symbol")return e[r];let i=(Ee(e,oi)?e._.selectedFields:Ee(e,Na)?e[Jn].selectedFields:e)[r];if(Ee(i,bt.Aliased)){if(this.config.sqlAliasedBehavior==="sql"&&!i.isSelectionField)return i.sql;let o=i.clone();return o.isSelectionField=!0,o}if(Ee(i,bt)){if(this.config.sqlBehavior==="sql")return i;throw new Error(`You tried to reference "${r}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`)}return Ee(i,wn)?this.config.alias?new Proxy(i,new sv(new Proxy(i.table,new pw(this.config.alias,this.config.replaceOriginalName??!1)))):i:typeof i!="object"||i===null?i:new Proxy(i,new t(this.config))}}});function NMe(){return{bigint:nMe,bigserial:iMe,boolean:zi,char:oMe,cidr:sMe,customType:aMe,date:cMe,doublePrecision:lMe,inet:uMe,integer:Se,interval:dMe,json:pMe,jsonb:dt,line:fMe,macaddr:mMe,macaddr8:hMe,numeric:Ht,point:gMe,geometry:vMe,real:C,serial:_Me,smallint:SMe,smallserial:xMe,text:M,time:wMe,timestamp:Ae,uuid:AMe,varchar:EMe,bit:TMe,halfvec:RMe,sparsevec:IMe,vector:CMe}}var OMe=b(()=>{"use strict";Cre();Dre();Bre();Fre();Vre();qre();Kre();Yre();tne();ine();ane();lne();dne();gne();vne();xne();Ine();kne();Une();Hne();jne();Jne();Xne();eie();rie();oie();aie();uie();fie();gie();vie();xie()});function Aie(t,e,r,n,i=t){let o=new To(t,n,i),s=typeof e=="function"?e(NMe()):e,a=Object.fromEntries(Object.entries(s).map(([u,d])=>{let p=d;p.setName(u);let f=p.build(o);return o[wie].push(...p.buildForeignKeys(f,o)),[u,f]})),c=Object.fromEntries(Object.entries(s).map(([u,d])=>{let p=d;p.setName(u);let f=p.buildExtraConfigColumn(o);return[u,f]})),l=Object.assign(o,a);return l[lt.Symbol.Columns]=a,l[lt.Symbol.ExtraConfigColumns]=c,r&&(l[To.Symbol.ExtraConfigBuilder]=r),Object.assign(l,{enableRLS:()=>(l[To.Symbol.EnableRLS]=!0,l)})}var wie,PMe,To,Ce,B0=b(()=>{"use strict";st();Sc();OMe();wie=Symbol.for("drizzle:PgInlineForeignKeys"),PMe=Symbol.for("drizzle:EnableRLS"),To=class extends lt{static[ee]="PgTable";static Symbol=Object.assign({},lt.Symbol,{InlineForeignKeys:wie,EnableRLS:PMe});[wie]=[];[PMe]=!1;[lt.Symbol.ExtraConfigBuilder]=void 0;[lt.Symbol.ExtraConfigColumns]={}};Ce=(t,e,r)=>Aie(t,e,r,void 0)});function kMe(t){return new Eie(!1,t)}var Eie,qI,Tie,DMe=b(()=>{"use strict";Fi();st();OM();Eie=class{constructor(e,r){this.unique=e,this.name=r}static[ee]="PgIndexBuilderOn";on(...e){return new qI(e.map(r=>{if(Ee(r,bt))return r;r=r;let n=new uw(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=JSON.parse(JSON.stringify(r.defaultConfig)),n}),this.unique,!1,this.name)}onOnly(...e){return new qI(e.map(r=>{if(Ee(r,bt))return r;r=r;let n=new uw(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=r.defaultConfig,n}),this.unique,!0,this.name)}using(e,...r){return new qI(r.map(n=>{if(Ee(n,bt))return n;n=n;let i=new uw(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=JSON.parse(JSON.stringify(n.defaultConfig)),i}),this.unique,!0,this.name,e)}},qI=class{static[ee]="PgIndexBuilder";config;constructor(e,r,n,i,o="btree"){this.config={name:i,columns:e,unique:r,only:n,method:o}}concurrently(){return this.config.concurrently=!0,this}with(e){return this.config.with=e,this}where(e){return this.config.where=e,this}build(e){return new Tie(this.config,e)}},Tie=class{static[ee]="PgIndex";config;constructor(e,r){this.config={...e,table:r}}}});var MMe,LMe=b(()=>{"use strict";st();MMe=class{constructor(e,r){this.name=e,r&&(this.as=r.as,this.for=r.for,this.to=r.to,this.using=r.using,this.withCheck=r.withCheck)}static[ee]="PgPolicy";as;for;to;using;withCheck;_linkedTable;link(e){return this._linkedTable=e,this}}});var PM,Rie,Iie=b(()=>{"use strict";st();B0();PM=class{static[ee]="PgPrimaryKeyBuilder";columns;name;constructor(e,r){this.columns=e,this.name=r}build(e){return new Rie(e,this.columns,this.name)}},Rie=class{constructor(e,r,n){this.table=e,this.columns=r,this.name=n}static[ee]="PgPrimaryKey";columns;name;getName(){return this.name??`${this.table[To.Symbol.Name]}_${this.columns.map(e=>e.name).join("_")}_pk`}}});var Cie,Nie=b(()=>{"use strict";Cie=Symbol.for("drizzle:PgViewConfig")});function O5t(t){return(t.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).map(r=>r.toLowerCase()).join("_")}function P5t(t){return(t.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).reduce((r,n,i)=>{let o=i===0?n.toLowerCase():`${n[0].toUpperCase()}${n.slice(1)}`;return r+o},"")}function k5t(t){return t}var kM,BMe=b(()=>{"use strict";st();Sc();kM=class{static[ee]="CasingCache";cache={};cachedTables={};convert;constructor(e){this.convert=e==="snake_case"?O5t:e==="camelCase"?P5t:k5t}getColumnCasing(e){if(!e.keyAsName)return e.name;let r=e.table[lt.Symbol.Schema]??"public",n=e.table[lt.Symbol.OriginalName],i=`${r}.${n}.${e.name}`;return this.cache[i]||this.cacheTable(e.table),this.cache[i]}cacheTable(e){let r=e[lt.Symbol.Schema]??"public",n=e[lt.Symbol.OriginalName],i=`${r}.${n}`;if(!this.cachedTables[i]){for(let o of Object.values(e[lt.Symbol.Columns])){let s=`${i}.${o.name}`;this.cache[s]=this.convert(o.name)}this.cachedTables[i]=!0}}clearCache(){this.cache={},this.cachedTables={}}}});var WI,Vm,DM,Oie=b(()=>{"use strict";st();WI=class extends Error{static[ee]="DrizzleError";constructor({message:e,cause:r}){super(e),this.name="DrizzleError",this.cause=r}},Vm=class t extends Error{constructor(e,r,n){super(`Failed query: ${e}
params: ${r}`),this.query=e,this.params=r,this.cause=n,Error.captureStackTrace(this,t),n&&(this.cause=n)}},DM=class extends WI{static[ee]="TransactionRollbackError";constructor(){super({message:"Rollback"})}}});function wc(t,e){return KDe(e)&&!Sre(t)&&!Ee(t,xc)&&!Ee(t,Fm)&&!Ee(t,wn)&&!Ee(t,lt)&&!Ee(t,Na)?new xc(t,e):t}function zo(...t){let e=t.filter(r=>r!==void 0);if(e.length!==0)return e.length===1?new bt(e):new bt([new Eo("("),re.join(e,new Eo(" and ")),new Eo(")")])}function UMe(...t){let e=t.filter(r=>r!==void 0);if(e.length!==0)return e.length===1?new bt(e):new bt([new Eo("("),re.join(e,new Eo(" or ")),new Eo(")")])}function FMe(t){return re`not ${t}`}function VMe(t,e){return Array.isArray(e)?e.length===0?re`false`:re`${t} in ${e.map(r=>wc(r,t))}`:re`${t} in ${wc(e,t)}`}function GMe(t,e){return Array.isArray(e)?e.length===0?re`true`:re`${t} not in ${e.map(r=>wc(r,t))}`:re`${t} not in ${wc(e,t)}`}function MM(t){return re`${t} is null`}function jMe(t){return re`${t} is not null`}function qMe(t){return re`exists ${t}`}function WMe(t){return re`not exists ${t}`}function JMe(t,e,r){return re`${t} between ${wc(e,t)} and ${wc(r,t)}`}function KMe(t,e,r){return re`${t} not between ${wc(e,t)} and ${wc(r,t)}`}function QMe(t,e){return re`${t} like ${e}`}function XMe(t,e){return re`${t} not like ${e}`}function YMe(t,e){return re`${t} ilike ${e}`}function ZMe(t,e){return re`${t} not ilike ${e}`}var rr,$Me,zMe,JI,HMe,av,eLe=b(()=>{"use strict";$m();st();Sc();Fi();rr=(t,e)=>re`${t} = ${wc(e,t)}`,$Me=(t,e)=>re`${t} <> ${wc(e,t)}`;zMe=(t,e)=>re`${t} > ${wc(e,t)}`,JI=(t,e)=>re`${t} >= ${wc(e,t)}`,HMe=(t,e)=>re`${t} < ${wc(e,t)}`,av=(t,e)=>re`${t} <= ${wc(e,t)}`});function LM(t){return re`${t} asc`}function Ro(t){return re`${t} desc`}var tLe=b(()=>{"use strict";Fi()});var Pie=b(()=>{"use strict";eLe();tLe()});function rLe(){return{and:zo,between:JMe,eq:rr,exists:qMe,gt:zMe,gte:JI,ilike:YMe,inArray:VMe,isNull:MM,isNotNull:jMe,like:QMe,lt:HMe,lte:av,ne:$Me,not:FMe,notBetween:KMe,notExists:WMe,notLike:XMe,notIlike:ZMe,notInArray:GMe,or:UMe,sql:re}}function nLe(){return{sql:re,asc:LM,desc:Ro}}function UM(t,e){Object.keys(t).length===1&&"default"in t&&!Ee(t.default,lt)&&(t=t.default);let r={},n={},i={};for(let[o,s]of Object.entries(t))if(Ee(s,lt)){let a=iv(s),c=n[a];r[a]=o,i[o]={tsName:o,dbName:s[lt.Symbol.Name],schema:s[lt.Symbol.Schema],columns:s[lt.Symbol.Columns],relations:c?.relations??{},primaryKey:c?.primaryKey??[]};for(let u of Object.values(s[lt.Symbol.Columns]))u.primary&&i[o].primaryKey.push(u);let l=s[lt.Symbol.ExtraConfigBuilder]?.(s[lt.Symbol.ExtraConfigColumns]);if(l)for(let u of Object.values(l))Ee(u,PM)&&i[o].primaryKey.push(...u.columns)}else if(Ee(s,kie)){let a=iv(s.table),c=r[a],l=s.config(e(s.table)),u;for(let[d,p]of Object.entries(l))if(c){let f=i[c];f.relations[d]=p,u&&f.primaryKey.push(...u)}else a in n||(n[a]={relations:{},primaryKey:u}),n[a].relations[d]=p}return{tables:i,tableNamesMap:r}}function D5t(t){return function(r,n){return new $0(t,r,n,n?.fields.reduce((i,o)=>i&&o.notNull,!0)??!1)}}function M5t(t){return function(r,n){return new KI(t,r,n)}}function iLe(t,e,r){if(Ee(r,$0)&&r.config)return{fields:r.config.fields,references:r.config.references};let n=e[iv(r.referencedTable)];if(!n)throw new Error(`Table "${r.referencedTable[lt.Symbol.Name]}" not found in schema`);let i=t[n];if(!i)throw new Error(`Table "${n}" not found in schema`);let o=r.sourceTable,s=e[iv(o)];if(!s)throw new Error(`Table "${o[lt.Symbol.Name]}" not found in schema`);let a=[];for(let c of Object.values(i.relations))(r.relationName&&r!==c&&c.relationName===r.relationName||!r.relationName&&c.referencedTable===r.sourceTable)&&a.push(c);if(a.length>1)throw r.relationName?new Error(`There are multiple relations with name "${r.relationName}" in table "${n}"`):new Error(`There are multiple relations between "${n}" and "${r.sourceTable[lt.Symbol.Name]}". Please specify relation name`);if(a[0]&&Ee(a[0],$0)&&a[0].config)return{fields:a[0].config.references,references:a[0].config.fields};throw new Error(`There is not enough information to infer relation "${s}.${r.fieldName}"`)}function FM(t){return{one:D5t(t),many:M5t(t)}}function $M(t,e,r,n,i=o=>o){let o={};for(let[s,a]of n.entries())if(a.isJson){let c=e.relations[a.tsKey],l=r[s],u=typeof l=="string"?JSON.parse(l):l;o[a.tsKey]=Ee(c,$0)?u&&$M(t,t[a.relationTableTsKey],u,a.selection,i):u.map(d=>$M(t,t[a.relationTableTsKey],d,a.selection,i))}else{let c=i(r[s]),l=a.field,u;Ee(l,wn)?u=l:Ee(l,bt)?u=l.decoder:u=l.sql.decoder,o[a.tsKey]=c===null?null:u.mapFromDriverValue(c)}return o}var BM,kie,$0,KI,QI=b(()=>{"use strict";Sc();$m();st();Iie();Pie();Fi();BM=class{constructor(e,r,n){this.sourceTable=e,this.referencedTable=r,this.relationName=n,this.referencedTableName=r[lt.Symbol.Name]}static[ee]="Relation";referencedTableName;fieldName},kie=class{constructor(e,r){this.table=e,this.config=r}static[ee]="Relations"},$0=class t extends BM{constructor(e,r,n,i){super(e,r,n?.relationName),this.config=n,this.isNullable=i}static[ee]="One";withFieldName(e){let r=new t(this.sourceTable,this.referencedTable,this.config,this.isNullable);return r.fieldName=e,r}},KI=class t extends BM{constructor(e,r,n){super(e,r,n?.relationName),this.config=n}static[ee]="Many";withFieldName(e){let r=new t(this.sourceTable,this.referencedTable,this.config);return r.fieldName=e,r}}});var oLe=b(()=>{"use strict"});var sLe=b(()=>{"use strict"});var aLe=b(()=>{"use strict";oLe();sLe()});var Die=b(()=>{"use strict";Pie();aLe();Fi()});var Gm,zM=b(()=>{"use strict";st();Fi();Gm=class extends Na{static[ee]="PgViewBase"}});var cf,XI=b(()=>{"use strict";wre();BMe();$m();st();Oie();OM();B0();QI();Die();Fi();of();Sc();vn();D0();zM();cf=class{static[ee]="PgDialect";casing;constructor(e){this.casing=new kM(e?.casing)}async migrate(e,r,n){let i=typeof n=="string"?"__drizzle_migrations":n.migrationsTable??"__drizzle_migrations",o=typeof n=="string"?"drizzle":n.migrationsSchema??"drizzle",s=re`
			CREATE TABLE IF NOT EXISTS ${re.identifier(o)}.${re.identifier(i)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at bigint
			)
		`;await r.execute(re`CREATE SCHEMA IF NOT EXISTS ${re.identifier(o)}`),await r.execute(s);let c=(await r.all(re`select id, hash, created_at from ${re.identifier(o)}.${re.identifier(i)} order by created_at desc limit 1`))[0];await r.transaction(async l=>{for await(let u of e)if(!c||Number(c.created_at)<u.folderMillis){for(let d of u.sql)await l.execute(re.raw(d));await l.execute(re`insert into ${re.identifier(o)}.${re.identifier(i)} ("hash", "created_at") values(${u.hash}, ${u.folderMillis})`)}})}escapeName(e){return`"${e}"`}escapeParam(e){return`$${e+1}`}escapeString(e){return`'${e.replace(/'/g,"''")}'`}buildWithCTE(e){if(!e?.length)return;let r=[re`with `];for(let[n,i]of e.entries())r.push(re`${re.identifier(i._.alias)} as (${i._.sql})`),n<e.length-1&&r.push(re`, `);return r.push(re` `),re.join(r)}buildDeleteQuery({table:e,where:r,returning:n,withList:i}){let o=this.buildWithCTE(i),s=n?re` returning ${this.buildSelection(n,{isSingleTable:!0})}`:void 0,a=r?re` where ${r}`:void 0;return re`${o}delete from ${e}${a}${s}`}buildUpdateSet(e,r){let n=e[lt.Symbol.Columns],i=Object.keys(n).filter(s=>r[s]!==void 0||n[s]?.onUpdateFn!==void 0),o=i.length;return re.join(i.flatMap((s,a)=>{let c=n[s],l=c.onUpdateFn?.(),u=r[s]??(Ee(l,bt)?l:re.param(l,c)),d=re`${re.identifier(this.casing.getColumnCasing(c))} = ${u}`;return a<o-1?[d,re.raw(", ")]:[d]}))}buildUpdateQuery({table:e,set:r,where:n,returning:i,withList:o,from:s,joins:a}){let c=this.buildWithCTE(o),l=e[To.Symbol.Name],u=e[To.Symbol.Schema],d=e[To.Symbol.OriginalName],p=l===d?void 0:l,f=re`${u?re`${re.identifier(u)}.`:void 0}${re.identifier(d)}${p&&re` ${re.identifier(p)}`}`,h=this.buildUpdateSet(e,r),m=s&&re.join([re.raw(" from "),this.buildFromTable(s)]),g=this.buildJoins(a),y=i?re` returning ${this.buildSelection(i,{isSingleTable:!s})}`:void 0,v=n?re` where ${n}`:void 0;return re`${c}update ${f} set ${h}${m}${g}${v}${y}`}buildSelection(e,{isSingleTable:r=!1}={}){let n=e.length,i=e.flatMap(({field:o},s)=>{let a=[];if(Ee(o,bt.Aliased)&&o.isSelectionField)a.push(re.identifier(o.fieldAlias));else if(Ee(o,bt.Aliased)||Ee(o,bt)){let c=Ee(o,bt.Aliased)?o.sql:o;r?a.push(new bt(c.queryChunks.map(l=>Ee(l,it)?re.identifier(this.casing.getColumnCasing(l)):l))):a.push(c),Ee(o,bt.Aliased)&&a.push(re` as ${re.identifier(o.fieldAlias)}`)}else if(Ee(o,wn))r?a.push(re.identifier(this.casing.getColumnCasing(o))):a.push(o);else if(Ee(o,oi)){let c=Object.entries(o._.selectedFields);if(c.length===1){let l=c[0][1],u=Ee(l,bt)?l.decoder:Ee(l,wn)?{mapFromDriverValue:d=>l.mapFromDriverValue(d)}:l.sql.decoder;u&&(o._.sql.decoder=u)}a.push(o)}return s<n-1&&a.push(re`, `),a});return re.join(i)}buildJoins(e){if(!e||e.length===0)return;let r=[];for(let[n,i]of e.entries()){n===0&&r.push(re` `);let o=i.table,s=i.lateral?re` lateral`:void 0,a=i.on?re` on ${i.on}`:void 0;if(Ee(o,To)){let c=o[To.Symbol.Name],l=o[To.Symbol.Schema],u=o[To.Symbol.OriginalName],d=c===u?void 0:i.alias;r.push(re`${re.raw(i.joinType)} join${s} ${l?re`${re.identifier(l)}.`:void 0}${re.identifier(u)}${d&&re` ${re.identifier(d)}`}${a}`)}else if(Ee(o,Na)){let c=o[Jn].name,l=o[Jn].schema,u=o[Jn].originalName,d=c===u?void 0:i.alias;r.push(re`${re.raw(i.joinType)} join${s} ${l?re`${re.identifier(l)}.`:void 0}${re.identifier(u)}${d&&re` ${re.identifier(d)}`}${a}`)}else r.push(re`${re.raw(i.joinType)} join${s} ${o}${a}`);n<e.length-1&&r.push(re` `)}return re.join(r)}buildFromTable(e){if(Ee(e,lt)&&e[lt.Symbol.IsAlias]){let r=re`${re.identifier(e[lt.Symbol.OriginalName])}`;return e[lt.Symbol.Schema]&&(r=re`${re.identifier(e[lt.Symbol.Schema])}.${r}`),re`${r} ${re.identifier(e[lt.Symbol.Name])}`}return e}buildSelectQuery({withList:e,fields:r,fieldsFlat:n,where:i,having:o,table:s,joins:a,orderBy:c,groupBy:l,limit:u,offset:d,lockingClause:p,distinct:f,setOperators:h}){let m=n??Mu(r);for(let _ of m)if(Ee(_.field,wn)&&_c(_.field.table)!==(Ee(s,oi)?s._.alias:Ee(s,Gm)?s[Jn].name:Ee(s,bt)?void 0:_c(s))&&!(x=>a?.some(({alias:R})=>R===(x[lt.Symbol.IsAlias]?_c(x):x[lt.Symbol.BaseName])))(_.field.table)){let x=_c(_.field.table);throw new Error(`Your "${_.path.join("->")}" field references a column "${x}"."${_.field.name}", but the table "${x}" is not part of the query! Did you forget to join it?`)}let g=!a||a.length===0,y=this.buildWithCTE(e),v;f&&(v=f===!0?re` distinct`:re` distinct on (${re.join(f.on,re`, `)})`);let S=this.buildSelection(m,{isSingleTable:g}),w=this.buildFromTable(s),E=this.buildJoins(a),I=i?re` where ${i}`:void 0,D=o?re` having ${o}`:void 0,k;c&&c.length>0&&(k=re` order by ${re.join(c,re`, `)}`);let P;l&&l.length>0&&(P=re` group by ${re.join(l,re`, `)}`);let $=typeof u=="object"||typeof u=="number"&&u>=0?re` limit ${u}`:void 0,H=d?re` offset ${d}`:void 0,W=re.empty();if(p){let _=re` for ${re.raw(p.strength)}`;p.config.of&&_.append(re` of ${re.join(Array.isArray(p.config.of)?p.config.of:[p.config.of],re`, `)}`),p.config.noWait?_.append(re` nowait`):p.config.skipLocked&&_.append(re` skip locked`),W.append(_)}let N=re`${y}select${v} ${S} from ${w}${E}${I}${P}${D}${k}${$}${H}${W}`;return h.length>0?this.buildSetOperations(N,h):N}buildSetOperations(e,r){let[n,...i]=r;if(!n)throw new Error("Cannot pass undefined values to any set operator");return i.length===0?this.buildSetOperationQuery({leftSelect:e,setOperator:n}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:e,setOperator:n}),i)}buildSetOperationQuery({leftSelect:e,setOperator:{type:r,isAll:n,rightSelect:i,limit:o,orderBy:s,offset:a}}){let c=re`(${e.getSQL()}) `,l=re`(${i.getSQL()})`,u;if(s&&s.length>0){let h=[];for(let m of s)if(Ee(m,it))h.push(re.identifier(m.name));else if(Ee(m,bt)){for(let g=0;g<m.queryChunks.length;g++){let y=m.queryChunks[g];Ee(y,it)&&(m.queryChunks[g]=re.identifier(y.name))}h.push(re`${m}`)}else h.push(re`${m}`);u=re` order by ${re.join(h,re`, `)} `}let d=typeof o=="object"||typeof o=="number"&&o>=0?re` limit ${o}`:void 0,p=re.raw(`${r} ${n?"all ":""}`),f=a?re` offset ${a}`:void 0;return re`${c}${p}${l}${u}${d}${f}`}buildInsertQuery({table:e,values:r,onConflict:n,returning:i,withList:o,select:s,overridingSystemValue_:a}){let c=[],l=e[lt.Symbol.Columns],u=Object.entries(l).filter(([y,v])=>!v.shouldDisableInsert()),d=u.map(([,y])=>re.identifier(this.casing.getColumnCasing(y)));if(s){let y=r;Ee(y,bt)?c.push(y):c.push(y.getSQL())}else{let y=r;c.push(re.raw("values "));for(let[v,S]of y.entries()){let w=[];for(let[E,I]of u){let D=S[E];if(D===void 0||Ee(D,xc)&&D.value===void 0)if(I.defaultFn!==void 0){let k=I.defaultFn(),P=Ee(k,bt)?k:re.param(k,I);w.push(P)}else if(!I.default&&I.onUpdateFn!==void 0){let k=I.onUpdateFn(),P=Ee(k,bt)?k:re.param(k,I);w.push(P)}else w.push(re`default`);else w.push(D)}c.push(w),v<y.length-1&&c.push(re`, `)}}let p=this.buildWithCTE(o),f=re.join(c),h=i?re` returning ${this.buildSelection(i,{isSingleTable:!0})}`:void 0,m=n?re` on conflict ${n}`:void 0,g=a===!0?re`overriding system value `:void 0;return re`${p}insert into ${e} ${d} ${g}${f}${m}${h}`}buildRefreshMaterializedViewQuery({view:e,concurrently:r,withNoData:n}){let i=r?re` concurrently`:void 0,o=n?re` with no data`:void 0;return re`refresh materialized view${i} ${e}${o}`}prepareTyping(e){return Ee(e,FI)||Ee(e,UI)?"json":Ee(e,zI)?"decimal":Ee(e,HI)?"time":Ee(e,VI)||Ee(e,GI)?"timestamp":Ee(e,BI)||Ee(e,$I)?"date":Ee(e,jI)?"uuid":"none"}sqlToQuery(e,r){return e.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,prepareTyping:this.prepareTyping,invokeSource:r})}buildRelationalQueryWithoutPK({fullSchema:e,schema:r,tableNamesMap:n,table:i,tableConfig:o,queryConfig:s,tableAlias:a,nestedQueryRelation:c,joinOn:l}){let u=[],d,p,f=[],h,m=[];if(s===!0)u=Object.entries(o.columns).map(([v,S])=>({dbKey:S.name,tsKey:v,field:sf(S,a),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{let y=Object.fromEntries(Object.entries(o.columns).map(([D,k])=>[D,sf(k,a)]));if(s.where){let D=typeof s.where=="function"?s.where(y,rLe()):s.where;h=D&&kI(D,a)}let v=[],S=[];if(s.columns){let D=!1;for(let[k,P]of Object.entries(s.columns))P!==void 0&&k in o.columns&&(!D&&P===!0&&(D=!0),S.push(k));S.length>0&&(S=D?S.filter(k=>s.columns?.[k]===!0):Object.keys(o.columns).filter(k=>!S.includes(k)))}else S=Object.keys(o.columns);for(let D of S){let k=o.columns[D];v.push({tsKey:D,value:k})}let w=[];s.with&&(w=Object.entries(s.with).filter(D=>!!D[1]).map(([D,k])=>({tsKey:D,queryConfig:k,relation:o.relations[D]})));let E;if(s.extras){E=typeof s.extras=="function"?s.extras(y,{sql:re}):s.extras;for(let[D,k]of Object.entries(E))v.push({tsKey:D,value:xre(k,a)})}for(let{tsKey:D,value:k}of v)u.push({dbKey:Ee(k,bt.Aliased)?k.fieldAlias:o.columns[D].name,tsKey:D,field:Ee(k,wn)?sf(k,a):k,relationTableTsKey:void 0,isJson:!1,selection:[]});let I=typeof s.orderBy=="function"?s.orderBy(y,nLe()):s.orderBy??[];Array.isArray(I)||(I=[I]),f=I.map(D=>Ee(D,wn)?sf(D,a):kI(D,a)),d=s.limit,p=s.offset;for(let{tsKey:D,queryConfig:k,relation:P}of w){let $=iLe(r,n,P),H=iv(P.referencedTable),W=n[H],N=`${a}_${D}`,_=zo(...$.fields.map((L,U)=>rr(sf($.references[U],N),sf(L,a)))),x=this.buildRelationalQueryWithoutPK({fullSchema:e,schema:r,tableNamesMap:n,table:e[W],tableConfig:r[W],queryConfig:Ee(P,$0)?k===!0?{limit:1}:{...k,limit:1}:k,tableAlias:N,joinOn:_,nestedQueryRelation:P}),R=re`${re.identifier(N)}.${re.identifier("data")}`.as(D);m.push({on:re`true`,table:new oi(x.sql,{},N),alias:N,joinType:"left",lateral:!0}),u.push({dbKey:D,tsKey:D,field:R,relationTableTsKey:W,isJson:!0,selection:x.selection})}}if(u.length===0)throw new WI({message:`No fields selected for table "${o.tsName}" ("${a}")`});let g;if(h=zo(l,h),c){let y=re`json_build_array(${re.join(u.map(({field:w,tsKey:E,isJson:I})=>I?re`${re.identifier(`${a}_${E}`)}.${re.identifier("data")}`:Ee(w,bt.Aliased)?w.sql:w),re`, `)})`;Ee(c,KI)&&(y=re`coalesce(json_agg(${y}${f.length>0?re` order by ${re.join(f,re`, `)}`:void 0}), '[]'::json)`);let v=[{dbKey:"data",tsKey:"data",field:y.as("data"),isJson:!0,relationTableTsKey:o.tsName,selection:u}];d!==void 0||p!==void 0||f.length>0?(g=this.buildSelectQuery({table:PI(i,a),fields:{},fieldsFlat:[{path:[],field:re.raw("*")}],where:h,limit:d,offset:p,orderBy:f,setOperators:[]}),h=void 0,d=void 0,p=void 0,f=[]):g=PI(i,a),g=this.buildSelectQuery({table:Ee(g,To)?g:new oi(g,{},a),fields:{},fieldsFlat:v.map(({field:w})=>({path:[],field:Ee(w,wn)?sf(w,a):w})),joins:m,where:h,limit:d,offset:p,orderBy:f,setOperators:[]})}else g=this.buildSelectQuery({table:PI(i,a),fields:{},fieldsFlat:u.map(({field:y})=>({path:[],field:Ee(y,wn)?sf(y,a):y})),joins:m,where:h,limit:d,offset:p,orderBy:f,setOperators:[]});return{tableTsKey:o.tsName,sql:g,selection:u}}}});var HM,cLe=b(()=>{"use strict";st();HM=class{static[ee]="TypedQueryBuilder";getSelectedFields(){return this._.selectedFields}}});function fw(t,e){return(r,n,...i)=>{let o=[n,...i].map(s=>({type:t,isAll:e,rightSelect:s}));for(let s of o)if(!DI(r.getSelectedFields(),s.rightSelect.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return r.addSetOperators(o)}}var na,Mie,VM,L5t,B5t,$5t,U5t,F5t,z5t,H5t,Lie=b(()=>{"use strict";st();zM();cLe();M0();L0();Fi();of();Sc();Um();vn();vn();D0();mw();na=class{static[ee]="PgSelectBuilder";fields;session;dialect;withList=[];distinct;constructor(e){this.fields=e.fields,this.session=e.session,this.dialect=e.dialect,e.withList&&(this.withList=e.withList),this.distinct=e.distinct}authToken;setToken(e){return this.authToken=e,this}from(e){let r=!!this.fields,n=e,i;return this.fields?i=this.fields:Ee(n,oi)?i=Object.fromEntries(Object.keys(n._.selectedFields).map(o=>[o,n[o]])):Ee(n,Gm)?i=n[Jn].selectedFields:Ee(n,bt)?i={}:i=MI(n),new VM({table:n,fields:i,isPartialSelect:r,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct}).setToken(this.authToken)}},Mie=class extends HM{static[ee]="PgSelectQueryBuilder";_;config;joinsNotNullableMap;tableName;isPartialSelect;session;dialect;cacheConfig=void 0;usedTables=new Set;constructor({table:e,fields:r,isPartialSelect:n,session:i,dialect:o,withList:s,distinct:a}){super(),this.config={withList:s,table:e,fields:{...r},distinct:a,setOperators:[]},this.isPartialSelect=n,this.session=i,this.dialect=o,this._={selectedFields:r,config:this.config},this.tableName=zm(e),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{};for(let c of Vd(e))this.usedTables.add(c)}getUsedTables(){return[...this.usedTables]}createJoin(e,r){return(n,i)=>{let o=this.tableName,s=zm(n);for(let a of Vd(n))this.usedTables.add(a);if(typeof s=="string"&&this.config.joins?.some(a=>a.alias===s))throw new Error(`Alias "${s}" is already used in this query`);if(!this.isPartialSelect&&(Object.keys(this.joinsNotNullableMap).length===1&&typeof o=="string"&&(this.config.fields={[o]:this.config.fields}),typeof s=="string"&&!Ee(n,bt))){let a=Ee(n,oi)?n._.selectedFields:Ee(n,Na)?n[Jn].selectedFields:n[lt.Symbol.Columns];this.config.fields[s]=a}if(typeof i=="function"&&(i=i(new Proxy(this.config.fields,new An({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:i,table:n,joinType:e,alias:s,lateral:r}),typeof s=="string")switch(e){case"left":{this.joinsNotNullableMap[s]=!1;break}case"right":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([a])=>[a,!1])),this.joinsNotNullableMap[s]=!0;break}case"cross":case"inner":{this.joinsNotNullableMap[s]=!0;break}case"full":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([a])=>[a,!1])),this.joinsNotNullableMap[s]=!1;break}}return this}}leftJoin=this.createJoin("left",!1);leftJoinLateral=this.createJoin("left",!0);rightJoin=this.createJoin("right",!1);innerJoin=this.createJoin("inner",!1);innerJoinLateral=this.createJoin("inner",!0);fullJoin=this.createJoin("full",!1);crossJoin=this.createJoin("cross",!1);crossJoinLateral=this.createJoin("cross",!0);createSetOperator(e,r){return n=>{let i=typeof n=="function"?n(L5t()):n;if(!DI(this.getSelectedFields(),i.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:e,isAll:r,rightSelect:i}),this}}union=this.createSetOperator("union",!1);unionAll=this.createSetOperator("union",!0);intersect=this.createSetOperator("intersect",!1);intersectAll=this.createSetOperator("intersect",!0);except=this.createSetOperator("except",!1);exceptAll=this.createSetOperator("except",!0);addSetOperators(e){return this.config.setOperators.push(...e),this}where(e){return typeof e=="function"&&(e=e(new Proxy(this.config.fields,new An({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=e,this}having(e){return typeof e=="function"&&(e=e(new Proxy(this.config.fields,new An({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=e,this}groupBy(...e){if(typeof e[0]=="function"){let r=e[0](new Proxy(this.config.fields,new An({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(r)?r:[r]}else this.config.groupBy=e;return this}orderBy(...e){if(typeof e[0]=="function"){let r=e[0](new Proxy(this.config.fields,new An({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),n=Array.isArray(r)?r:[r];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=n:this.config.orderBy=n}else{let r=e;this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=r:this.config.orderBy=r}return this}limit(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=e:this.config.limit=e,this}offset(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=e:this.config.offset=e,this}for(e,r={}){return this.config.lockingClause={strength:e,config:r},this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){let{typings:e,...r}=this.dialect.sqlToQuery(this.getSQL());return r}as(e){let r=[];if(r.push(...Vd(this.config.table)),this.config.joins)for(let n of this.config.joins)r.push(...Vd(n.table));return new Proxy(new oi(this.getSQL(),this.config.fields,e,!1,[...new Set(r)]),new An({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new An({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}$withCache(e){return this.cacheConfig=e===void 0?{config:{},enable:!0,autoInvalidate:!0}:e===!1?{enable:!1}:{enable:!0,autoInvalidate:!0,...e},this}},VM=class extends Mie{static[ee]="PgSelect";_prepare(e){let{session:r,config:n,dialect:i,joinsNotNullableMap:o,authToken:s,cacheConfig:a,usedTables:c}=this;if(!r)throw new Error("Cannot execute a query on a query builder. Please use a database instance instead.");let{fields:l}=n;return $n.startActiveSpan("drizzle.prepareQuery",()=>{let u=Mu(l),d=r.prepareQuery(i.sqlToQuery(this.getSQL()),u,e,!0,void 0,{type:"select",tables:[...c]},a);return d.joinsNotNullableMap=o,d.setToken(s)})}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>$n.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken))};rMe(VM,[ra]);L5t=()=>({union:B5t,unionAll:$5t,intersect:U5t,intersectAll:F5t,except:z5t,exceptAll:H5t}),B5t=fw("union",!1),$5t=fw("union",!0),U5t=fw("intersect",!1),F5t=fw("intersect",!0),z5t=fw("except",!1),H5t=fw("except",!0)});var jm,GM=b(()=>{"use strict";st();XI();L0();of();Lie();jm=class{static[ee]="PgQueryBuilder";dialect;dialectConfig;constructor(e){this.dialect=Ee(e,cf)?e:void 0,this.dialectConfig=Ee(e,cf)?void 0:e}$with=(e,r)=>{let n=this;return{as:o=>(typeof o=="function"&&(o=o(n)),new Proxy(new dw(o.getSQL(),r??("getSelectedFields"in o?o.getSelectedFields()??{}:{}),e,!0),new An({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};with(...e){let r=this;function n(s){return new na({fields:s??void 0,session:void 0,dialect:r.getDialect(),withList:e})}function i(s){return new na({fields:s??void 0,session:void 0,dialect:r.getDialect(),distinct:!0})}function o(s,a){return new na({fields:a??void 0,session:void 0,dialect:r.getDialect(),distinct:{on:s}})}return{select:n,selectDistinct:i,selectDistinctOn:o}}select(e){return new na({fields:e??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(e){return new na({fields:e??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}selectDistinctOn(e,r){return new na({fields:r??void 0,session:void 0,dialect:this.getDialect(),distinct:{on:e}})}getDialect(){return this.dialect||(this.dialect=new cf(this.dialectConfig)),this.dialect}}});function uLe(t,e,r){return e?new $ie(t,e,r):new Bie(t,r)}function dLe(t,e,r){return e?new Fie(t,e,r):new Uie(t,r)}var jM,Bie,$ie,qM,Uie,Fie,YI,lLe,ZI,zie=b(()=>{"use strict";st();L0();vn();GM();B0();zM();Nie();jM=class{constructor(e,r){this.name=e,this.schema=r}static[ee]="PgDefaultViewBuilderCore";config={};with(e){return this.config.with=e,this}},Bie=class extends jM{static[ee]="PgViewBuilder";as(e){typeof e=="function"&&(e=e(new jm));let r=new An({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}),n=new Proxy(e.getSelectedFields(),r);return new Proxy(new YI({pgConfig:this.config,config:{name:this.name,schema:this.schema,selectedFields:n,query:e.getSQL().inlineParams()}}),r)}},$ie=class extends jM{static[ee]="PgManualViewBuilder";columns;constructor(e,r,n){super(e,n),this.columns=MI(Ce(e,r))}existing(){return new Proxy(new YI({pgConfig:void 0,config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:void 0}}),new An({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}as(e){return new Proxy(new YI({pgConfig:this.config,config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:e.inlineParams()}}),new An({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}},qM=class{constructor(e,r){this.name=e,this.schema=r}static[ee]="PgMaterializedViewBuilderCore";config={};using(e){return this.config.using=e,this}with(e){return this.config.with=e,this}tablespace(e){return this.config.tablespace=e,this}withNoData(){return this.config.withNoData=!0,this}},Uie=class extends qM{static[ee]="PgMaterializedViewBuilder";as(e){typeof e=="function"&&(e=e(new jm));let r=new An({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}),n=new Proxy(e.getSelectedFields(),r);return new Proxy(new ZI({pgConfig:{with:this.config.with,using:this.config.using,tablespace:this.config.tablespace,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:n,query:e.getSQL().inlineParams()}}),r)}},Fie=class extends qM{static[ee]="PgManualMaterializedViewBuilder";columns;constructor(e,r,n){super(e,n),this.columns=MI(Ce(e,r))}existing(){return new Proxy(new ZI({pgConfig:{tablespace:this.config.tablespace,using:this.config.using,with:this.config.with,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:void 0}}),new An({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}as(e){return new Proxy(new ZI({pgConfig:{tablespace:this.config.tablespace,using:this.config.using,with:this.config.with,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:e.inlineParams()}}),new An({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}},YI=class extends Gm{static[ee]="PgView";[Cie];constructor({pgConfig:e,config:r}){super(r),e&&(this[Cie]={with:e.with})}},lLe=Symbol.for("drizzle:PgMaterializedViewConfig"),ZI=class extends Gm{static[ee]="PgMaterializedView";[lLe];constructor({pgConfig:e,config:r}){super(r),this[lLe]={with:e?.with,using:e?.using,tablespace:e?.tablespace,withNoData:e?.withNoData}}}});function Vd(t){return Ee(t,To)?[t[nv]?`${t[nv]}.${t[lt.Symbol.BaseName]}`:t[lt.Symbol.BaseName]]:Ee(t,oi)?t._.usedTables??[]:Ee(t,bt)?t.usedTables??[]:[]}var mw=b(()=>{"use strict";st();B0();Fi();of();Sc()});var e3,pLe=b(()=>{"use strict";st();M0();L0();Sc();Um();vn();mw();e3=class extends ra{constructor(e,r,n,i){super(),this.session=r,this.dialect=n,this.config={table:e,withList:i}}static[ee]="PgDelete";config;cacheConfig;where(e){return this.config.where=e,this}returning(e=this.config.table[lt.Symbol.Columns]){return this.config.returningFields=e,this.config.returning=Mu(e),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){let{typings:e,...r}=this.dialect.sqlToQuery(this.getSQL());return r}_prepare(e){return $n.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0,void 0,{type:"delete",tables:Vd(this.config.table)},this.cacheConfig))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>$n.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken));getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new An({alias:_c(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}});var t3,WM,fLe=b(()=>{"use strict";st();M0();L0();Fi();Sc();Um();vn();mw();GM();t3=class{constructor(e,r,n,i,o){this.table=e,this.session=r,this.dialect=n,this.withList=i,this.overridingSystemValue_=o}static[ee]="PgInsertBuilder";authToken;setToken(e){return this.authToken=e,this}overridingSystemValue(){return this.overridingSystemValue_=!0,this}values(e){if(e=Array.isArray(e)?e:[e],e.length===0)throw new Error("values() must be called with at least one value");let r=e.map(n=>{let i={},o=this.table[lt.Symbol.Columns];for(let s of Object.keys(n)){let a=n[s];i[s]=Ee(a,bt)?a:new xc(a,o[s])}return i});return new WM(this.table,r,this.session,this.dialect,this.withList,!1,this.overridingSystemValue_).setToken(this.authToken)}select(e){let r=typeof e=="function"?e(new jm):e;if(!Ee(r,bt)&&!DI(this.table[TM],r._.selectedFields))throw new Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");return new WM(this.table,r,this.session,this.dialect,this.withList,!0)}},WM=class extends ra{constructor(e,r,n,i,o,s,a){super(),this.session=n,this.dialect=i,this.config={table:e,values:r,withList:o,select:s,overridingSystemValue_:a}}static[ee]="PgInsert";config;cacheConfig;returning(e=this.config.table[lt.Symbol.Columns]){return this.config.returningFields=e,this.config.returning=Mu(e),this}onConflictDoNothing(e={}){if(e.target===void 0)this.config.onConflict=re`do nothing`;else{let r="";r=Array.isArray(e.target)?e.target.map(i=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(i))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(e.target));let n=e.where?re` where ${e.where}`:void 0;this.config.onConflict=re`(${re.raw(r)})${n} do nothing`}return this}onConflictDoUpdate(e){if(e.where&&(e.targetWhere||e.setWhere))throw new Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');let r=e.where?re` where ${e.where}`:void 0,n=e.targetWhere?re` where ${e.targetWhere}`:void 0,i=e.setWhere?re` where ${e.setWhere}`:void 0,o=this.dialect.buildUpdateSet(this.config.table,IM(this.config.table,e.set)),s="";return s=Array.isArray(e.target)?e.target.map(a=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(a))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(e.target)),this.config.onConflict=re`(${re.raw(s)})${n} do update set ${o}${r}${i}`,this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){let{typings:e,...r}=this.dialect.sqlToQuery(this.getSQL());return r}_prepare(e){return $n.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0,void 0,{type:"insert",tables:Vd(this.config.table)},this.cacheConfig))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>$n.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken));getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new An({alias:_c(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}});var JM,Hie=b(()=>{"use strict";st();M0();Um();JM=class extends ra{constructor(e,r,n){super(),this.session=r,this.dialect=n,this.config={view:e}}static[ee]="PgRefreshMaterializedView";config;concurrently(){if(this.config.withNoData!==void 0)throw new Error("Cannot use concurrently and withNoData together");return this.config.concurrently=!0,this}withNoData(){if(this.config.concurrently!==void 0)throw new Error("Cannot use concurrently and withNoData together");return this.config.withNoData=!0,this}getSQL(){return this.dialect.buildRefreshMaterializedViewQuery(this.config)}toSQL(){let{typings:e,...r}=this.dialect.sqlToQuery(this.getSQL());return r}_prepare(e){return $n.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),void 0,e,!0))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>$n.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken))}});var mLe=b(()=>{"use strict"});var r3,Vie,hLe=b(()=>{"use strict";st();B0();M0();L0();Fi();of();Sc();vn();D0();mw();r3=class{constructor(e,r,n,i){this.table=e,this.session=r,this.dialect=n,this.withList=i}static[ee]="PgUpdateBuilder";authToken;setToken(e){return this.authToken=e,this}set(e){return new Vie(this.table,IM(this.table,e),this.session,this.dialect,this.withList).setToken(this.authToken)}},Vie=class extends ra{constructor(e,r,n,i,o){super(),this.session=n,this.dialect=i,this.config={set:r,table:e,withList:o,joins:[]},this.tableName=zm(e),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{}}static[ee]="PgUpdate";config;tableName;joinsNotNullableMap;cacheConfig;from(e){let r=e,n=zm(r);return typeof n=="string"&&(this.joinsNotNullableMap[n]=!0),this.config.from=r,this}getTableLikeFields(e){return Ee(e,To)?e[lt.Symbol.Columns]:Ee(e,oi)?e._.selectedFields:e[Jn].selectedFields}createJoin(e){return(r,n)=>{let i=zm(r);if(typeof i=="string"&&this.config.joins.some(o=>o.alias===i))throw new Error(`Alias "${i}" is already used in this query`);if(typeof n=="function"){let o=this.config.from&&!Ee(this.config.from,bt)?this.getTableLikeFields(this.config.from):void 0;n=n(new Proxy(this.config.table[lt.Symbol.Columns],new An({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})),o&&new Proxy(o,new An({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))}if(this.config.joins.push({on:n,table:r,joinType:e,alias:i}),typeof i=="string")switch(e){case"left":{this.joinsNotNullableMap[i]=!1;break}case"right":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([o])=>[o,!1])),this.joinsNotNullableMap[i]=!0;break}case"inner":{this.joinsNotNullableMap[i]=!0;break}case"full":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([o])=>[o,!1])),this.joinsNotNullableMap[i]=!1;break}}return this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");where(e){return this.config.where=e,this}returning(e){if(!e&&(e=Object.assign({},this.config.table[lt.Symbol.Columns]),this.config.from)){let r=zm(this.config.from);if(typeof r=="string"&&this.config.from&&!Ee(this.config.from,bt)){let n=this.getTableLikeFields(this.config.from);e[r]=n}for(let n of this.config.joins){let i=zm(n.table);if(typeof i=="string"&&!Ee(n.table,bt)){let o=this.getTableLikeFields(n.table);e[i]=o}}}return this.config.returningFields=e,this.config.returning=Mu(e),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){let{typings:e,...r}=this.dialect.sqlToQuery(this.getSQL());return r}_prepare(e){let r=this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0,void 0,{type:"insert",tables:Vd(this.config.table)},this.cacheConfig);return r.joinsNotNullableMap=this.joinsNotNullableMap,r}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>this._prepare().execute(e,this.authToken);getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new An({alias:_c(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}});var Gie=b(()=>{"use strict";pLe();fLe();GM();Hie();Lie();mLe();hLe()});var KM,gLe=b(()=>{"use strict";st();Fi();KM=class t extends bt{constructor(e){super(t.buildEmbeddedCount(e.source,e.filters).queryChunks),this.params=e,this.mapWith(Number),this.session=e.session,this.sql=t.buildCount(e.source,e.filters)}sql;token;static[ee]="PgCountBuilder";[Symbol.toStringTag]="PgCountBuilder";session;static buildEmbeddedCount(e,r){return re`(select count(*) from ${e}${re.raw(" where ").if(r)}${r})`}static buildCount(e,r){return re`select count(*) as count from ${e}${re.raw(" where ").if(r)}${r};`}setToken(e){return this.token=e,this}then(e,r){return Promise.resolve(this.session.count(this.sql,this.token)).then(e,r)}catch(e){return this.then(void 0,e)}finally(e){return this.then(r=>(e?.(),r),r=>{throw e?.(),r})}}});var QM,XM,yLe=b(()=>{"use strict";st();M0();QI();Um();QM=class{constructor(e,r,n,i,o,s,a){this.fullSchema=e,this.schema=r,this.tableNamesMap=n,this.table=i,this.tableConfig=o,this.dialect=s,this.session=a}static[ee]="PgRelationalQueryBuilder";findMany(e){return new XM(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many")}findFirst(e){return new XM(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first")}},XM=class extends ra{constructor(e,r,n,i,o,s,a,c,l){super(),this.fullSchema=e,this.schema=r,this.tableNamesMap=n,this.table=i,this.tableConfig=o,this.dialect=s,this.session=a,this.config=c,this.mode=l}static[ee]="PgRelationalQuery";_prepare(e){return $n.startActiveSpan("drizzle.prepareQuery",()=>{let{query:r,builtQuery:n}=this._toSQL();return this.session.prepareQuery(n,void 0,e,!0,(i,o)=>{let s=i.map(a=>$M(this.schema,this.tableConfig,a,r.selection,o));return this.mode==="first"?s[0]:s})})}prepare(e){return this._prepare(e)}_getQuery(){return this.dialect.buildRelationalQueryWithoutPK({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName})}getSQL(){return this._getQuery().sql}_toSQL(){let e=this._getQuery(),r=this.dialect.sqlToQuery(e.sql);return{query:e,builtQuery:r}}toSQL(){return this._toSQL().builtQuery}authToken;setToken(e){return this.authToken=e,this}execute(){return $n.startActiveSpan("drizzle.operation",()=>this._prepare().execute(void 0,this.authToken))}}});var YM,bLe=b(()=>{"use strict";st();M0();YM=class extends ra{constructor(e,r,n,i){super(),this.execute=e,this.sql=r,this.query=n,this.mapBatchResult=i}static[ee]="PgRaw";getSQL(){return this.sql}getQuery(){return this.query}mapResult(e,r){return r?this.mapBatchResult(e):e}_prepare(){return this}isResponseInArrayMode(){return!1}}});var U0,n3=b(()=>{"use strict";st();Gie();L0();Fi();of();gLe();yLe();bLe();Hie();U0=class{constructor(e,r,n){if(this.dialect=e,this.session=r,this._=n?{schema:n.schema,fullSchema:n.fullSchema,tableNamesMap:n.tableNamesMap,session:r}:{schema:void 0,fullSchema:{},tableNamesMap:{},session:r},this.query={},this._.schema)for(let[i,o]of Object.entries(this._.schema))this.query[i]=new QM(n.fullSchema,this._.schema,this._.tableNamesMap,n.fullSchema[i],o,e,r);this.$cache={invalidate:async i=>{}}}static[ee]="PgDatabase";query;$with=(e,r)=>{let n=this;return{as:o=>(typeof o=="function"&&(o=o(new jm(n.dialect))),new Proxy(new dw(o.getSQL(),r??("getSelectedFields"in o?o.getSelectedFields()??{}:{}),e,!0),new An({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};$count(e,r){return new KM({source:e,filters:r,session:this.session})}$cache;with(...e){let r=this;function n(l){return new na({fields:l??void 0,session:r.session,dialect:r.dialect,withList:e})}function i(l){return new na({fields:l??void 0,session:r.session,dialect:r.dialect,withList:e,distinct:!0})}function o(l,u){return new na({fields:u??void 0,session:r.session,dialect:r.dialect,withList:e,distinct:{on:l}})}function s(l){return new r3(l,r.session,r.dialect,e)}function a(l){return new t3(l,r.session,r.dialect,e)}function c(l){return new e3(l,r.session,r.dialect,e)}return{select:n,selectDistinct:i,selectDistinctOn:o,update:s,insert:a,delete:c}}select(e){return new na({fields:e??void 0,session:this.session,dialect:this.dialect})}selectDistinct(e){return new na({fields:e??void 0,session:this.session,dialect:this.dialect,distinct:!0})}selectDistinctOn(e,r){return new na({fields:r??void 0,session:this.session,dialect:this.dialect,distinct:{on:e}})}update(e){return new r3(e,this.session,this.dialect)}insert(e){return new t3(e,this.session,this.dialect)}delete(e){return new e3(e,this.session,this.dialect)}refreshMaterializedView(e){return new JM(e,this.session,this.dialect)}authToken;execute(e){let r=typeof e=="string"?re.raw(e):e.getSQL(),n=this.dialect.sqlToQuery(r),i=this.session.prepareQuery(n,void 0,void 0,!1);return new YM(()=>i.execute(void 0,this.authToken),r,n,o=>i.mapResult(o,!0))}transaction(e,r){return this.session.transaction(e,r)}}});var vLe,_Le=b(()=>{"use strict";st();vLe=class{constructor(e,r){this.name=e,r&&(this.createDb=r.createDb,this.createRole=r.createRole,this.inherit=r.inherit)}static[ee]="PgRole";_existing;createDb;createRole;inherit;existing(){return this._existing=!0,this}}});function SLe(t,e,r){return new jie(t,e,r)}var jie,qie=b(()=>{"use strict";st();jie=class{constructor(e,r,n){this.seqName=e,this.seqOptions=r,this.schema=n}static[ee]="PgSequence"}});var xLe,wLe=b(()=>{"use strict";st();Fi();EM();qie();B0();zie();xLe=class{constructor(e){this.schemaName=e}static[ee]="PgSchema";table=(e,r,n)=>Aie(e,r,n,this.schemaName);view=(e,r)=>uLe(e,r,this.schemaName);materializedView=(e,r)=>dLe(e,r,this.schemaName);enum(e,r){return Array.isArray(r)?HDe(e,[...r],this.schemaName):VDe(e,r,this.schemaName)}sequence=(e,r)=>SLe(e,r,this.schemaName);getSQL(){return new bt([re.identifier(this.schemaName)])}shouldOmitSQLParens(){return!0}}});async function Jie(t,e){let r=`${t}-${JSON.stringify(e)}`,i=new TextEncoder().encode(r),o=await crypto.subtle.digest("SHA-256",i);return[...new Uint8Array(o)].map(c=>c.toString(16).padStart(2,"0")).join("")}var Wie,F0,Kie=b(()=>{"use strict";st();Wie=class{static[ee]="Cache"},F0=class extends Wie{strategy(){return"all"}static[ee]="NoopCache";async get(e){}async put(e,r,n,i){}async onMutate(e){}}});var hw,gw,yw,ZM=b(()=>{"use strict";Kie();st();Oie();Die();Um();n3();hw=class{constructor(e,r,n,i){this.query=e,this.cache=r,this.queryMetadata=n,this.cacheConfig=i,r&&r.strategy()==="all"&&i===void 0&&(this.cacheConfig={enable:!0,autoInvalidate:!0}),this.cacheConfig?.enable||(this.cacheConfig=void 0)}authToken;getQuery(){return this.query}mapResult(e,r){return e}setToken(e){return this.authToken=e,this}static[ee]="PgPreparedQuery";joinsNotNullableMap;async queryWithCache(e,r,n){if(this.cache===void 0||Ee(this.cache,F0)||this.queryMetadata===void 0)try{return await n()}catch(i){throw new Vm(e,r,i)}if(this.cacheConfig&&!this.cacheConfig.enable)try{return await n()}catch(i){throw new Vm(e,r,i)}if((this.queryMetadata.type==="insert"||this.queryMetadata.type==="update"||this.queryMetadata.type==="delete")&&this.queryMetadata.tables.length>0)try{let[i]=await Promise.all([n(),this.cache.onMutate({tables:this.queryMetadata.tables})]);return i}catch(i){throw new Vm(e,r,i)}if(!this.cacheConfig)try{return await n()}catch(i){throw new Vm(e,r,i)}if(this.queryMetadata.type==="select"){let i=await this.cache.get(this.cacheConfig.tag??await Jie(e,r),this.queryMetadata.tables,this.cacheConfig.tag!==void 0,this.cacheConfig.autoInvalidate);if(i===void 0){let o;try{o=await n()}catch(s){throw new Vm(e,r,s)}return await this.cache.put(this.cacheConfig.tag??await Jie(e,r),o,this.cacheConfig.autoInvalidate?this.queryMetadata.tables:[],this.cacheConfig.tag!==void 0,this.cacheConfig.config),o}return i}try{return await n()}catch(i){throw new Vm(e,r,i)}}},gw=class{constructor(e){this.dialect=e}static[ee]="PgSession";execute(e,r){return $n.startActiveSpan("drizzle.operation",()=>$n.startActiveSpan("drizzle.prepareQuery",()=>this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1)).setToken(r).execute(void 0,r))}all(e){return this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1).all()}async count(e,r){let n=await this.execute(e,r);return Number(n[0].count)}},yw=class extends U0{constructor(e,r,n,i=0){super(e,r,n),this.schema=n,this.nestedIndex=i}static[ee]="PgTransaction";rollback(){throw new DM}getTransactionConfigSQL(e){let r=[];return e.isolationLevel&&r.push(`isolation level ${e.isolationLevel}`),e.accessMode&&r.push(e.accessMode),typeof e.deferrable=="boolean"&&r.push(e.deferrable?"deferrable":"not deferrable"),re.raw(r.join(" "))}setTransaction(e){return this.session.execute(re`set transaction ${this.getTransactionConfigSQL(e)}`)}}});var ALe=b(()=>{"use strict"});var ELe=b(()=>{"use strict";lre()});var Dr=b(()=>{"use strict";ZDe();tMe();OM();n3();XI();tre();DMe();LMe();Iie();Gie();_Le();wLe();qie();ZM();ALe();B0();are();mw();ELe();Nie();zie()});var Qie,bw,vw,o3=b(()=>{"use strict";st();Qie=class{static[ee]="ConsoleLogWriter";write(e){console.log(e)}},bw=class{static[ee]="DefaultLogger";writer;constructor(e){this.writer=e?.writer??new Qie}logQuery(e,r){let n=r.map(o=>{try{return JSON.stringify(o)}catch{return String(o)}}),i=n.length?` -- params: [${n.join(", ")}]`:"";this.writer.write(`Query: ${e}${i}`)}},vw=class{static[ee]="NoopLogger";logQuery(){}}});var J$e={};Nr(J$e,{Client:()=>j$e,DatabaseError:()=>W8t,NeonDbError:()=>cv,NeonQueryPromise:()=>l3,Pool:()=>j8t,SqlTemplate:()=>hoe,UnsafeRawSql:()=>goe,_bundleExt:()=>q8t,defaults:()=>J8t,escapeIdentifier:()=>K8t,escapeLiteral:()=>Q8t,neon:()=>dv,neonConfig:()=>_w,types:()=>Oa,warnIfBrowser:()=>uL});function i$e(t){return 0}function aoe(t,e=!1){let{protocol:r}=new URL(t),n="http:"+t.substring(r.length),{username:i,password:o,host:s,hostname:a,port:c,pathname:l,search:u,searchParams:d,hash:p}=new URL(n);o=decodeURIComponent(o),i=decodeURIComponent(i),l=decodeURIComponent(l);let f=i+":"+o,h=e?Object.fromEntries(d.entries()):u;return{href:t,protocol:r,auth:f,username:i,password:o,host:s,hostname:a,port:c,pathname:l,search:u,query:h,hash:p}}function c3(t){let e=1779033703,r=3144134277,n=1013904242,i=2773480762,o=1359893119,s=2600822924,a=528734635,c=1541459225,l=0,u=0,d=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],p=q((v,S)=>v>>>S|v<<32-S,"rrot"),f=new Uint32Array(64),h=new Uint8Array(64),m=q(()=>{for(let $=0,H=0;$<16;$++,H+=4)f[$]=h[H]<<24|h[H+1]<<16|h[H+2]<<8|h[H+3];for(let $=16;$<64;$++){let H=p(f[$-15],7)^p(f[$-15],18)^f[$-15]>>>3,W=p(f[$-2],17)^p(f[$-2],19)^f[$-2]>>>10;f[$]=f[$-16]+H+f[$-7]+W|0}let v=e,S=r,w=n,E=i,I=o,D=s,k=a,P=c;for(let $=0;$<64;$++){let H=p(I,6)^p(I,11)^p(I,25),W=I&D^~I&k,N=P+H+W+d[$]+f[$]|0,_=p(v,2)^p(v,13)^p(v,22),x=v&S^v&w^S&w,R=_+x|0;P=k,k=D,D=I,I=E+N|0,E=w,w=S,S=v,v=N+R|0}e=e+v|0,r=r+S|0,n=n+w|0,i=i+E|0,o=o+I|0,s=s+D|0,a=a+k|0,c=c+P|0,u=0},"process"),g=q(v=>{typeof v=="string"&&(v=new TextEncoder().encode(v));for(let S=0;S<v.length;S++)h[u++]=v[S],u===64&&m();l+=v.length},"add"),y=q(()=>{if(h[u++]=128,u==64&&m(),u+8>64){for(;u<64;)h[u++]=0;m()}for(;u<58;)h[u++]=0;let v=l*8;h[u++]=v/1099511627776&255,h[u++]=v/4294967296&255,h[u++]=v>>>24,h[u++]=v>>>16&255,h[u++]=v>>>8&255,h[u++]=v&255,m();let S=new Uint8Array(32);return S[0]=e>>>24,S[1]=e>>>16&255,S[2]=e>>>8&255,S[3]=e&255,S[4]=r>>>24,S[5]=r>>>16&255,S[6]=r>>>8&255,S[7]=r&255,S[8]=n>>>24,S[9]=n>>>16&255,S[10]=n>>>8&255,S[11]=n&255,S[12]=i>>>24,S[13]=i>>>16&255,S[14]=i>>>8&255,S[15]=i&255,S[16]=o>>>24,S[17]=o>>>16&255,S[18]=o>>>8&255,S[19]=o&255,S[20]=s>>>24,S[21]=s>>>16&255,S[22]=s>>>8&255,S[23]=s&255,S[24]=a>>>24,S[25]=a>>>16&255,S[26]=a>>>8&255,S[27]=a&255,S[28]=c>>>24,S[29]=c>>>16&255,S[30]=c>>>8&255,S[31]=c&255,S},"digest");return t===void 0?{add:g,digest:y}:(g(t),y())}function u$e(t){return crypto.getRandomValues(tr.alloc(t))}function d$e(t){if(t==="sha256")return{update:q(function(e){return{digest:q(function(){return tr.from(c3(e))},"digest")}},"update")};if(t==="md5")return{update:q(function(e){return{digest:q(function(){return typeof e=="string"?noe.hashStr(e):noe.hashByteArray(e)},"digest")}},"update")};throw new Error(`Hash type '${t}' not supported`)}function p$e(t,e){if(t!=="sha256")throw new Error(`Only sha256 is supported (requested: '${t}')`);return{update:q(function(r){return{digest:q(function(){typeof e=="string"&&(e=new TextEncoder().encode(e)),typeof r=="string"&&(r=new TextEncoder().encode(r));let n=e.length;if(n>64)e=c3(e);else if(n<64){let c=new Uint8Array(64);c.set(e),e=c}let i=new Uint8Array(64),o=new Uint8Array(64);for(let c=0;c<64;c++)i[c]=54^e[c],o[c]=92^e[c];let s=new Uint8Array(r.length+64);s.set(i,0),s.set(r,64);let a=new Uint8Array(96);return a.set(o,0),a.set(c3(s),64),tr.from(c3(a))},"digest")}},"update")}}function h$e(...t){return t.join("/")}function y$e(t,e){e(new Error("No filesystem"))}function I$e({socket:t,servername:e}){return t.startTls(e),t}function k$e(t,{alphabet:e,scratchArr:r}={}){if(!a3)if(a3=new Uint16Array(256),nL=new Uint16Array(256),e$e)for(let f=0;f<256;f++)a3[f]=tL[f&15]<<8|tL[f>>>4],nL[f]=rL[f&15]<<8|rL[f>>>4];else for(let f=0;f<256;f++)a3[f]=tL[f&15]|tL[f>>>4]<<8,nL[f]=rL[f&15]|rL[f>>>4]<<8;t.byteOffset%4!==0&&(t=new Uint8Array(t));let n=t.length,i=n>>>1,o=n>>>2,s=r||new Uint16Array(n),a=new Uint32Array(t.buffer,t.byteOffset,o),c=new Uint32Array(s.buffer,s.byteOffset,i),l=e==="upper"?nL:a3,u=0,d=0,p;if(e$e)for(;u<o;)p=a[u++],c[d++]=l[p>>>8&255]<<16|l[p&255],c[d++]=l[p>>>24]<<16|l[p>>>16&255];else for(;u<o;)p=a[u++],c[d++]=l[p>>>24]<<16|l[p>>>16&255],c[d++]=l[p>>>8&255]<<16|l[p&255];for(u<<=2;u<n;)s[u]=l[t[u++]];return B8t.decode(s.subarray(0,n))}function D$e(t,e={}){let r="",n=t.length,i=L8t>>>1,o=Math.ceil(n/i),s=new Uint16Array(o>1?i:n);for(let a=0;a<o;a++){let c=a*i,l=c+i;r+=k$e(t.subarray(c,l),M8t(D8t({},e),{scratchArr:s}))}return r}function M$e(t,e={}){return e.alphabet!=="upper"&&typeof t.toHex=="function"?t.toHex():D$e(t,e)}function uL(){typeof window<"u"&&typeof document<"u"&&typeof console<"u"&&typeof console.warn=="function"&&console.warn(`          
        ************************************************************
        *                                                          *
        *  WARNING: Running SQL directly from the browser can have *
        *  security implications. Even if your database is         *
        *  protected by Row-Level Security (RLS), use it at your   *
        *  own risk. This approach is great for fast prototyping,  *
        *  but ensure proper safeguards are in place to prevent    *
        *  misuse or execution of expensive SQL queries by your    *
        *  end users.                                              *
        *                                                          *
        *  If you've assessed the risks, suppress this message     *
        *  using the disableWarningInBrowsers configuration        *
        *  parameter.                                              *
        *                                                          *
        ************************************************************`)}function z$e(t){return t instanceof tr?"\\x"+M$e(t):t}function ioe(t){let{query:e,params:r}=t instanceof hoe?t.toParameterizedQuery():t;return{query:e,params:r.map(n=>z$e((0,F8t.prepareValue)(n)))}}function dv(t,{arrayMode:e,fullResults:r,fetchOptions:n,isolationLevel:i,readOnly:o,deferrable:s,authToken:a,disableWarningInBrowsers:c}={}){if(!t)throw new Error("No database connection string was provided to `neon()`. Perhaps an environment variable has not been set?");let l;try{l=aoe(t)}catch{throw new Error("Database connection string provided to `neon()` is not a valid URL. Connection string: "+String(t))}let{protocol:u,username:d,hostname:p,port:f,pathname:h}=l;if(u!=="postgres:"&&u!=="postgresql:"||!d||!p||!h)throw new Error("Database connection string format for `neon()` should be: postgresql://user:password@host.tld/dbname?option=value");function m(y,...v){if(!(Array.isArray(y)&&Array.isArray(y.raw)&&Array.isArray(v)))throw new Error('This function can now be called only as a tagged-template function: sql`SELECT ${value}`, not sql("SELECT $1", [value], options). For a conventional function call with value placeholders ($1, $2, etc.), use sql.query("SELECT $1", [value], options).');return new l3(g,new hoe(y,v))}q(m,"templateFn"),m.query=(y,v,S)=>new l3(g,{query:y,params:v??[]},S),m.unsafe=y=>new goe(y),m.transaction=async(y,v)=>{if(typeof y=="function"&&(y=y(m)),!Array.isArray(y))throw new Error(t$e);y.forEach(E=>{if(!(E instanceof l3))throw new Error(t$e)});let S=y.map(E=>E.queryData),w=y.map(E=>E.opts??{});return g(S,w,v)};async function g(y,v,S){let{fetchEndpoint:w,fetchFunction:E}=_w,I=Array.isArray(y)?{queries:y.map(U=>ioe(U))}:ioe(y),D=n??{},k=e??!1,P=r??!1,$=i,H=o,W=s;S!==void 0&&(S.fetchOptions!==void 0&&(D={...D,...S.fetchOptions}),S.arrayMode!==void 0&&(k=S.arrayMode),S.fullResults!==void 0&&(P=S.fullResults),S.isolationLevel!==void 0&&($=S.isolationLevel),S.readOnly!==void 0&&(H=S.readOnly),S.deferrable!==void 0&&(W=S.deferrable)),v!==void 0&&!Array.isArray(v)&&v.fetchOptions!==void 0&&(D={...D,...v.fetchOptions});let N=a;!Array.isArray(v)&&v?.authToken!==void 0&&(N=v.authToken);let _=typeof w=="function"?w(p,f,{jwtAuth:N!==void 0}):w,x={"Neon-Connection-String":t,"Neon-Raw-Text-Output":"true","Neon-Array-Mode":"true"},R=await V$e(N);R&&(x.Authorization=`Bearer ${R}`),Array.isArray(y)&&($!==void 0&&(x["Neon-Batch-Isolation-Level"]=$),H!==void 0&&(x["Neon-Batch-Read-Only"]=String(H)),W!==void 0&&(x["Neon-Batch-Deferrable"]=String(W))),c||_w.disableWarningInBrowsers||uL();let L;try{L=await(E??fetch)(_,{method:"POST",body:JSON.stringify(I),headers:x,...D})}catch(U){let j=new cv(`Error connecting to database: ${U}`);throw j.sourceError=U,j}if(L.ok){let U=await L.json();if(Array.isArray(y)){let j=U.results;if(!Array.isArray(j))throw new cv("Neon internal error: unexpected result format");return j.map((Q,G)=>{let A=v[G]??{},X=A.arrayMode??k,Re=A.fullResults??P;return ooe(Q,{arrayMode:X,fullResults:Re,types:A.types})})}else{let j=v??{},Q=j.arrayMode??k,G=j.fullResults??P;return ooe(U,{arrayMode:Q,fullResults:G,types:j.types})}}else{let{status:U}=L;if(U===400){let j=await L.json(),Q=new cv(j.message);for(let G of z8t)Q[G]=j[G]??void 0;throw Q}else{let j=await L.text();throw new cv(`Server error (HTTP status ${U}): ${j}`)}}}return q(g,"execute"),m}function ooe(t,{arrayMode:e,fullResults:r,types:n}){let i=new U8t.default(n),o=t.fields.map(c=>c.name),s=t.fields.map(c=>i.getTypeParser(c.dataTypeID)),a=e===!0?t.rows.map(c=>c.map((l,u)=>l===null?null:s[u](l))):t.rows.map(c=>Object.fromEntries(c.map((l,u)=>[o[u],l===null?null:s[u](l)])));return r?(t.viaNeonFetch=!0,t.rowAsArray=e,t.rows=a,t._parsers=s,t._types=i,t):a}async function V$e(t){if(typeof t=="string")return t;if(typeof t=="function")try{return await Promise.resolve(t())}catch(e){let r=new cv("Error getting auth token.");throw e instanceof Error&&(r=new cv(`Error getting auth token: ${e.message}`)),r}}function q$e(t,e){if(e)return{callback:e,result:void 0};let r,n,i=q(function(s,a){s?r(s):n(a)},"cb"),o=new t(function(s,a){n=s,r=a});return{callback:i,result:o}}var V5t,Sw,G5t,j5t,q5t,W5t,J5t,q,Ec,Ir,Gd,r$e,lv,ts,nr,K5t,Q5t,X5t,iL,soe,Y5t,tr,Rr,Mt,uv,n$e,QBe,toe,s3,_w,u3,o$e,s$e,a$e,l$e,Z5t,e8t,t8t,r8t,n8t,i8t,o8t,s8t,oL,coe,a8t,qm,noe,c8t,loe,f$e,sL,aL,d3,m$e,cL,l8t,uoe,g$e,doe,b$e,poe,v$e,_$e,S$e,roe,x$e,u8t,d8t,p8t,f8t,w$e,A$e,m8t,h8t,foe,g8t,y8t,E$e,b8t,v8t,_8t,S8t,T$e,R$e,x8t,C$e,w8t,A8t,N$e,O$e,E8t,T8t,R8t,I8t,XBe,lL,C8t,N8t,O8t,YBe,P8t,k8t,ZBe,D8t,M8t,L8t,e$e,B8t,moe,tL,rL,$8t,P$e,a3,nL,L$e,hoe,$$e,goe,U8t,F8t,U$e,cv,t$e,z8t,H$e,l3,H8t,V8t,G$e,j$e,G8t,W$e,j8t,p3,q8t,W8t,J8t,K8t,Q8t,Oa,yoe=b(()=>{"use strict";V5t=Object.create,Sw=Object.defineProperty,G5t=Object.getOwnPropertyDescriptor,j5t=Object.getOwnPropertyNames,q5t=Object.getPrototypeOf,W5t=Object.prototype.hasOwnProperty,J5t=(t,e,r)=>e in t?Sw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,q=(t,e)=>Sw(t,"name",{value:e,configurable:!0}),Ec=(t,e)=>()=>(t&&(e=t(t=0)),e),Ir=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Gd=(t,e)=>{for(var r in e)Sw(t,r,{get:e[r],enumerable:!0})},r$e=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of j5t(e))!W5t.call(t,i)&&i!==r&&Sw(t,i,{get:()=>e[i],enumerable:!(n=G5t(e,i))||n.enumerable});return t},lv=(t,e,r)=>(r=t!=null?V5t(q5t(t)):{},r$e(e||!t||!t.__esModule?Sw(r,"default",{value:t,enumerable:!0}):r,t)),ts=t=>r$e(Sw({},"__esModule",{value:!0}),t),nr=(t,e,r)=>J5t(t,typeof e!="symbol"?e+"":e,r),K5t=Ir(t=>{"use strict";Mt(),t.byteLength=c,t.toByteArray=u,t.fromByteArray=f;var e=[],r=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(o=0,s=i.length;o<s;++o)e[o]=i[o],r[i.charCodeAt(o)]=o;var o,s;r[45]=62,r[95]=63;function a(h){var m=h.length;if(m%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=h.indexOf("=");g===-1&&(g=m);var y=g===m?0:4-g%4;return[g,y]}q(a,"getLens");function c(h){var m=a(h),g=m[0],y=m[1];return(g+y)*3/4-y}q(c,"byteLength");function l(h,m,g){return(m+g)*3/4-g}q(l,"_byteLength");function u(h){var m,g=a(h),y=g[0],v=g[1],S=new n(l(h,y,v)),w=0,E=v>0?y-4:y,I;for(I=0;I<E;I+=4)m=r[h.charCodeAt(I)]<<18|r[h.charCodeAt(I+1)]<<12|r[h.charCodeAt(I+2)]<<6|r[h.charCodeAt(I+3)],S[w++]=m>>16&255,S[w++]=m>>8&255,S[w++]=m&255;return v===2&&(m=r[h.charCodeAt(I)]<<2|r[h.charCodeAt(I+1)]>>4,S[w++]=m&255),v===1&&(m=r[h.charCodeAt(I)]<<10|r[h.charCodeAt(I+1)]<<4|r[h.charCodeAt(I+2)]>>2,S[w++]=m>>8&255,S[w++]=m&255),S}q(u,"toByteArray");function d(h){return e[h>>18&63]+e[h>>12&63]+e[h>>6&63]+e[h&63]}q(d,"tripletToBase64");function p(h,m,g){for(var y,v=[],S=m;S<g;S+=3)y=(h[S]<<16&16711680)+(h[S+1]<<8&65280)+(h[S+2]&255),v.push(d(y));return v.join("")}q(p,"encodeChunk");function f(h){for(var m,g=h.length,y=g%3,v=[],S=16383,w=0,E=g-y;w<E;w+=S)v.push(p(h,w,w+S>E?E:w+S));return y===1?(m=h[g-1],v.push(e[m>>2]+e[m<<4&63]+"==")):y===2&&(m=(h[g-2]<<8)+h[g-1],v.push(e[m>>10]+e[m>>4&63]+e[m<<2&63]+"=")),v.join("")}q(f,"fromByteArray")}),Q5t=Ir(t=>{Mt(),t.read=function(e,r,n,i,o){var s,a,c=o*8-i-1,l=(1<<c)-1,u=l>>1,d=-7,p=n?o-1:0,f=n?-1:1,h=e[r+p];for(p+=f,s=h&(1<<-d)-1,h>>=-d,d+=c;d>0;s=s*256+e[r+p],p+=f,d-=8);for(a=s&(1<<-d)-1,s>>=-d,d+=i;d>0;a=a*256+e[r+p],p+=f,d-=8);if(s===0)s=1-u;else{if(s===l)return a?NaN:(h?-1:1)*(1/0);a=a+Math.pow(2,i),s=s-u}return(h?-1:1)*a*Math.pow(2,s-i)},t.write=function(e,r,n,i,o,s){var a,c,l,u=s*8-o-1,d=(1<<u)-1,p=d>>1,f=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:s-1,m=i?1:-1,g=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(c=isNaN(r)?1:0,a=d):(a=Math.floor(Math.log(r)/Math.LN2),r*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+p>=1?r+=f/l:r+=f*Math.pow(2,1-p),r*l>=2&&(a++,l/=2),a+p>=d?(c=0,a=d):a+p>=1?(c=(r*l-1)*Math.pow(2,o),a=a+p):(c=r*Math.pow(2,p-1)*Math.pow(2,o),a=0));o>=8;e[n+h]=c&255,h+=m,c/=256,o-=8);for(a=a<<o|c,u+=o;u>0;e[n+h]=a&255,h+=m,a/=256,u-=8);e[n+h-m]|=g*128}}),X5t=Ir(t=>{"use strict";Mt();var e=K5t(),r=Q5t(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=v,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{let T=new Uint8Array(1),B={foo:q(function(){return 42},"foo")};return Object.setPrototypeOf(B,Uint8Array.prototype),Object.setPrototypeOf(T,B),T.foo()===42}catch{return!1}}q(o,"typedArraySupport"),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:q(function(){if(a.isBuffer(this))return this.buffer},"get")}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:q(function(){if(a.isBuffer(this))return this.byteOffset},"get")});function s(T){if(T>i)throw new RangeError('The value "'+T+'" is invalid for option "size"');let B=new Uint8Array(T);return Object.setPrototypeOf(B,a.prototype),B}q(s,"createBuffer");function a(T,B,V){if(typeof T=="number"){if(typeof B=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(T)}return c(T,B,V)}q(a,"Buffer"),a.poolSize=8192;function c(T,B,V){if(typeof T=="string")return p(T,B);if(ArrayBuffer.isView(T))return h(T);if(T==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T);if(js(T,ArrayBuffer)||T&&js(T.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(js(T,SharedArrayBuffer)||T&&js(T.buffer,SharedArrayBuffer)))return m(T,B,V);if(typeof T=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let ie=T.valueOf&&T.valueOf();if(ie!=null&&ie!==T)return a.from(ie,B,V);let J=g(T);if(J)return J;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof T[Symbol.toPrimitive]=="function")return a.from(T[Symbol.toPrimitive]("string"),B,V);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T)}q(c,"from"),a.from=function(T,B,V){return c(T,B,V)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(T){if(typeof T!="number")throw new TypeError('"size" argument must be of type number');if(T<0)throw new RangeError('The value "'+T+'" is invalid for option "size"')}q(l,"assertSize");function u(T,B,V){return l(T),T<=0?s(T):B!==void 0?typeof V=="string"?s(T).fill(B,V):s(T).fill(B):s(T)}q(u,"alloc"),a.alloc=function(T,B,V){return u(T,B,V)};function d(T){return l(T),s(T<0?0:y(T)|0)}q(d,"allocUnsafe"),a.allocUnsafe=function(T){return d(T)},a.allocUnsafeSlow=function(T){return d(T)};function p(T,B){if((typeof B!="string"||B==="")&&(B="utf8"),!a.isEncoding(B))throw new TypeError("Unknown encoding: "+B);let V=S(T,B)|0,ie=s(V),J=ie.write(T,B);return J!==V&&(ie=ie.slice(0,J)),ie}q(p,"fromString");function f(T){let B=T.length<0?0:y(T.length)|0,V=s(B);for(let ie=0;ie<B;ie+=1)V[ie]=T[ie]&255;return V}q(f,"fromArrayLike");function h(T){if(js(T,Uint8Array)){let B=new Uint8Array(T);return m(B.buffer,B.byteOffset,B.byteLength)}return f(T)}q(h,"fromArrayView");function m(T,B,V){if(B<0||T.byteLength<B)throw new RangeError('"offset" is outside of buffer bounds');if(T.byteLength<B+(V||0))throw new RangeError('"length" is outside of buffer bounds');let ie;return B===void 0&&V===void 0?ie=new Uint8Array(T):V===void 0?ie=new Uint8Array(T,B):ie=new Uint8Array(T,B,V),Object.setPrototypeOf(ie,a.prototype),ie}q(m,"fromArrayBuffer");function g(T){if(a.isBuffer(T)){let B=y(T.length)|0,V=s(B);return V.length===0||T.copy(V,0,0,B),V}if(T.length!==void 0)return typeof T.length!="number"||Mn(T.length)?s(0):f(T);if(T.type==="Buffer"&&Array.isArray(T.data))return f(T.data)}q(g,"fromObject");function y(T){if(T>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return T|0}q(y,"checked");function v(T){return+T!=T&&(T=0),a.alloc(+T)}q(v,"SlowBuffer"),a.isBuffer=q(function(T){return T!=null&&T._isBuffer===!0&&T!==a.prototype},"isBuffer"),a.compare=q(function(T,B){if(js(T,Uint8Array)&&(T=a.from(T,T.offset,T.byteLength)),js(B,Uint8Array)&&(B=a.from(B,B.offset,B.byteLength)),!a.isBuffer(T)||!a.isBuffer(B))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===B)return 0;let V=T.length,ie=B.length;for(let J=0,Y=Math.min(V,ie);J<Y;++J)if(T[J]!==B[J]){V=T[J],ie=B[J];break}return V<ie?-1:ie<V?1:0},"compare"),a.isEncoding=q(function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding"),a.concat=q(function(T,B){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(T.length===0)return a.alloc(0);let V;if(B===void 0)for(B=0,V=0;V<T.length;++V)B+=T[V].length;let ie=a.allocUnsafe(B),J=0;for(V=0;V<T.length;++V){let Y=T[V];if(js(Y,Uint8Array))J+Y.length>ie.length?(a.isBuffer(Y)||(Y=a.from(Y)),Y.copy(ie,J)):Uint8Array.prototype.set.call(ie,Y,J);else if(a.isBuffer(Y))Y.copy(ie,J);else throw new TypeError('"list" argument must be an Array of Buffers');J+=Y.length}return ie},"concat");function S(T,B){if(a.isBuffer(T))return T.length;if(ArrayBuffer.isView(T)||js(T,ArrayBuffer))return T.byteLength;if(typeof T!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof T);let V=T.length,ie=arguments.length>2&&arguments[2]===!0;if(!ie&&V===0)return 0;let J=!1;for(;;)switch(B){case"ascii":case"latin1":case"binary":return V;case"utf8":case"utf-8":return Tn(T).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V*2;case"hex":return V>>>1;case"base64":return Dn(T).length;default:if(J)return ie?-1:Tn(T).length;B=(""+B).toLowerCase(),J=!0}}q(S,"byteLength"),a.byteLength=S;function w(T,B,V){let ie=!1;if((B===void 0||B<0)&&(B=0),B>this.length||((V===void 0||V>this.length)&&(V=this.length),V<=0)||(V>>>=0,B>>>=0,V<=B))return"";for(T||(T="utf8");;)switch(T){case"hex":return j(this,B,V);case"utf8":case"utf-8":return _(this,B,V);case"ascii":return L(this,B,V);case"latin1":case"binary":return U(this,B,V);case"base64":return N(this,B,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,B,V);default:if(ie)throw new TypeError("Unknown encoding: "+T);T=(T+"").toLowerCase(),ie=!0}}q(w,"slowToString"),a.prototype._isBuffer=!0;function E(T,B,V){let ie=T[B];T[B]=T[V],T[V]=ie}q(E,"swap"),a.prototype.swap16=q(function(){let T=this.length;if(T%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let B=0;B<T;B+=2)E(this,B,B+1);return this},"swap16"),a.prototype.swap32=q(function(){let T=this.length;if(T%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let B=0;B<T;B+=4)E(this,B,B+3),E(this,B+1,B+2);return this},"swap32"),a.prototype.swap64=q(function(){let T=this.length;if(T%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let B=0;B<T;B+=8)E(this,B,B+7),E(this,B+1,B+6),E(this,B+2,B+5),E(this,B+3,B+4);return this},"swap64"),a.prototype.toString=q(function(){let T=this.length;return T===0?"":arguments.length===0?_(this,0,T):w.apply(this,arguments)},"toString"),a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=q(function(T){if(!a.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T?!0:a.compare(this,T)===0},"equals"),a.prototype.inspect=q(function(){let T="",B=t.INSPECT_MAX_BYTES;return T=this.toString("hex",0,B).replace(/(.{2})/g,"$1 ").trim(),this.length>B&&(T+=" ... "),"<Buffer "+T+">"},"inspect"),n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=q(function(T,B,V,ie,J){if(js(T,Uint8Array)&&(T=a.from(T,T.offset,T.byteLength)),!a.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(B===void 0&&(B=0),V===void 0&&(V=T?T.length:0),ie===void 0&&(ie=0),J===void 0&&(J=this.length),B<0||V>T.length||ie<0||J>this.length)throw new RangeError("out of range index");if(ie>=J&&B>=V)return 0;if(ie>=J)return-1;if(B>=V)return 1;if(B>>>=0,V>>>=0,ie>>>=0,J>>>=0,this===T)return 0;let Y=J-ie,oe=V-B,Me=Math.min(Y,oe),Je=this.slice(ie,J),Rt=T.slice(B,V);for(let Xt=0;Xt<Me;++Xt)if(Je[Xt]!==Rt[Xt]){Y=Je[Xt],oe=Rt[Xt];break}return Y<oe?-1:oe<Y?1:0},"compare");function I(T,B,V,ie,J){if(T.length===0)return-1;if(typeof V=="string"?(ie=V,V=0):V>2147483647?V=2147483647:V<-2147483648&&(V=-2147483648),V=+V,Mn(V)&&(V=J?0:T.length-1),V<0&&(V=T.length+V),V>=T.length){if(J)return-1;V=T.length-1}else if(V<0)if(J)V=0;else return-1;if(typeof B=="string"&&(B=a.from(B,ie)),a.isBuffer(B))return B.length===0?-1:D(T,B,V,ie,J);if(typeof B=="number")return B=B&255,typeof Uint8Array.prototype.indexOf=="function"?J?Uint8Array.prototype.indexOf.call(T,B,V):Uint8Array.prototype.lastIndexOf.call(T,B,V):D(T,[B],V,ie,J);throw new TypeError("val must be string, number or Buffer")}q(I,"bidirectionalIndexOf");function D(T,B,V,ie,J){let Y=1,oe=T.length,Me=B.length;if(ie!==void 0&&(ie=String(ie).toLowerCase(),ie==="ucs2"||ie==="ucs-2"||ie==="utf16le"||ie==="utf-16le")){if(T.length<2||B.length<2)return-1;Y=2,oe/=2,Me/=2,V/=2}function Je(Xt,pt){return Y===1?Xt[pt]:Xt.readUInt16BE(pt*Y)}q(Je,"read");let Rt;if(J){let Xt=-1;for(Rt=V;Rt<oe;Rt++)if(Je(T,Rt)===Je(B,Xt===-1?0:Rt-Xt)){if(Xt===-1&&(Xt=Rt),Rt-Xt+1===Me)return Xt*Y}else Xt!==-1&&(Rt-=Rt-Xt),Xt=-1}else for(V+Me>oe&&(V=oe-Me),Rt=V;Rt>=0;Rt--){let Xt=!0;for(let pt=0;pt<Me;pt++)if(Je(T,Rt+pt)!==Je(B,pt)){Xt=!1;break}if(Xt)return Rt}return-1}q(D,"arrayIndexOf"),a.prototype.includes=q(function(T,B,V){return this.indexOf(T,B,V)!==-1},"includes"),a.prototype.indexOf=q(function(T,B,V){return I(this,T,B,V,!0)},"indexOf"),a.prototype.lastIndexOf=q(function(T,B,V){return I(this,T,B,V,!1)},"lastIndexOf");function k(T,B,V,ie){V=Number(V)||0;let J=T.length-V;ie?(ie=Number(ie),ie>J&&(ie=J)):ie=J;let Y=B.length;ie>Y/2&&(ie=Y/2);let oe;for(oe=0;oe<ie;++oe){let Me=parseInt(B.substr(oe*2,2),16);if(Mn(Me))return oe;T[V+oe]=Me}return oe}q(k,"hexWrite");function P(T,B,V,ie){return pn(Tn(B,T.length-V),T,V,ie)}q(P,"utf8Write");function $(T,B,V,ie){return pn(Gn(B),T,V,ie)}q($,"asciiWrite");function H(T,B,V,ie){return pn(Dn(B),T,V,ie)}q(H,"base64Write");function W(T,B,V,ie){return pn(e0(B,T.length-V),T,V,ie)}q(W,"ucs2Write"),a.prototype.write=q(function(T,B,V,ie){if(B===void 0)ie="utf8",V=this.length,B=0;else if(V===void 0&&typeof B=="string")ie=B,V=this.length,B=0;else if(isFinite(B))B=B>>>0,isFinite(V)?(V=V>>>0,ie===void 0&&(ie="utf8")):(ie=V,V=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let J=this.length-B;if((V===void 0||V>J)&&(V=J),T.length>0&&(V<0||B<0)||B>this.length)throw new RangeError("Attempt to write outside buffer bounds");ie||(ie="utf8");let Y=!1;for(;;)switch(ie){case"hex":return k(this,T,B,V);case"utf8":case"utf-8":return P(this,T,B,V);case"ascii":case"latin1":case"binary":return $(this,T,B,V);case"base64":return H(this,T,B,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,T,B,V);default:if(Y)throw new TypeError("Unknown encoding: "+ie);ie=(""+ie).toLowerCase(),Y=!0}},"write"),a.prototype.toJSON=q(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON");function N(T,B,V){return B===0&&V===T.length?e.fromByteArray(T):e.fromByteArray(T.slice(B,V))}q(N,"base64Slice");function _(T,B,V){V=Math.min(T.length,V);let ie=[],J=B;for(;J<V;){let Y=T[J],oe=null,Me=Y>239?4:Y>223?3:Y>191?2:1;if(J+Me<=V){let Je,Rt,Xt,pt;switch(Me){case 1:Y<128&&(oe=Y);break;case 2:Je=T[J+1],(Je&192)===128&&(pt=(Y&31)<<6|Je&63,pt>127&&(oe=pt));break;case 3:Je=T[J+1],Rt=T[J+2],(Je&192)===128&&(Rt&192)===128&&(pt=(Y&15)<<12|(Je&63)<<6|Rt&63,pt>2047&&(pt<55296||pt>57343)&&(oe=pt));break;case 4:Je=T[J+1],Rt=T[J+2],Xt=T[J+3],(Je&192)===128&&(Rt&192)===128&&(Xt&192)===128&&(pt=(Y&15)<<18|(Je&63)<<12|(Rt&63)<<6|Xt&63,pt>65535&&pt<1114112&&(oe=pt))}}oe===null?(oe=65533,Me=1):oe>65535&&(oe-=65536,ie.push(oe>>>10&1023|55296),oe=56320|oe&1023),ie.push(oe),J+=Me}return R(ie)}q(_,"utf8Slice");var x=4096;function R(T){let B=T.length;if(B<=x)return String.fromCharCode.apply(String,T);let V="",ie=0;for(;ie<B;)V+=String.fromCharCode.apply(String,T.slice(ie,ie+=x));return V}q(R,"decodeCodePointsArray");function L(T,B,V){let ie="";V=Math.min(T.length,V);for(let J=B;J<V;++J)ie+=String.fromCharCode(T[J]&127);return ie}q(L,"asciiSlice");function U(T,B,V){let ie="";V=Math.min(T.length,V);for(let J=B;J<V;++J)ie+=String.fromCharCode(T[J]);return ie}q(U,"latin1Slice");function j(T,B,V){let ie=T.length;(!B||B<0)&&(B=0),(!V||V<0||V>ie)&&(V=ie);let J="";for(let Y=B;Y<V;++Y)J+=ui[T[Y]];return J}q(j,"hexSlice");function Q(T,B,V){let ie=T.slice(B,V),J="";for(let Y=0;Y<ie.length-1;Y+=2)J+=String.fromCharCode(ie[Y]+ie[Y+1]*256);return J}q(Q,"utf16leSlice"),a.prototype.slice=q(function(T,B){let V=this.length;T=~~T,B=B===void 0?V:~~B,T<0?(T+=V,T<0&&(T=0)):T>V&&(T=V),B<0?(B+=V,B<0&&(B=0)):B>V&&(B=V),B<T&&(B=T);let ie=this.subarray(T,B);return Object.setPrototypeOf(ie,a.prototype),ie},"slice");function G(T,B,V){if(T%1!==0||T<0)throw new RangeError("offset is not uint");if(T+B>V)throw new RangeError("Trying to access beyond buffer length")}q(G,"checkOffset"),a.prototype.readUintLE=a.prototype.readUIntLE=q(function(T,B,V){T=T>>>0,B=B>>>0,V||G(T,B,this.length);let ie=this[T],J=1,Y=0;for(;++Y<B&&(J*=256);)ie+=this[T+Y]*J;return ie},"readUIntLE"),a.prototype.readUintBE=a.prototype.readUIntBE=q(function(T,B,V){T=T>>>0,B=B>>>0,V||G(T,B,this.length);let ie=this[T+--B],J=1;for(;B>0&&(J*=256);)ie+=this[T+--B]*J;return ie},"readUIntBE"),a.prototype.readUint8=a.prototype.readUInt8=q(function(T,B){return T=T>>>0,B||G(T,1,this.length),this[T]},"readUInt8"),a.prototype.readUint16LE=a.prototype.readUInt16LE=q(function(T,B){return T=T>>>0,B||G(T,2,this.length),this[T]|this[T+1]<<8},"readUInt16LE"),a.prototype.readUint16BE=a.prototype.readUInt16BE=q(function(T,B){return T=T>>>0,B||G(T,2,this.length),this[T]<<8|this[T+1]},"readUInt16BE"),a.prototype.readUint32LE=a.prototype.readUInt32LE=q(function(T,B){return T=T>>>0,B||G(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+this[T+3]*16777216},"readUInt32LE"),a.prototype.readUint32BE=a.prototype.readUInt32BE=q(function(T,B){return T=T>>>0,B||G(T,4,this.length),this[T]*16777216+(this[T+1]<<16|this[T+2]<<8|this[T+3])},"readUInt32BE"),a.prototype.readBigUInt64LE=tc(q(function(T){T=T>>>0,_r(T,"offset");let B=this[T],V=this[T+7];(B===void 0||V===void 0)&&fr(T,this.length-8);let ie=B+this[++T]*2**8+this[++T]*2**16+this[++T]*2**24,J=this[++T]+this[++T]*2**8+this[++T]*2**16+V*2**24;return BigInt(ie)+(BigInt(J)<<BigInt(32))},"readBigUInt64LE")),a.prototype.readBigUInt64BE=tc(q(function(T){T=T>>>0,_r(T,"offset");let B=this[T],V=this[T+7];(B===void 0||V===void 0)&&fr(T,this.length-8);let ie=B*2**24+this[++T]*2**16+this[++T]*2**8+this[++T],J=this[++T]*2**24+this[++T]*2**16+this[++T]*2**8+V;return(BigInt(ie)<<BigInt(32))+BigInt(J)},"readBigUInt64BE")),a.prototype.readIntLE=q(function(T,B,V){T=T>>>0,B=B>>>0,V||G(T,B,this.length);let ie=this[T],J=1,Y=0;for(;++Y<B&&(J*=256);)ie+=this[T+Y]*J;return J*=128,ie>=J&&(ie-=Math.pow(2,8*B)),ie},"readIntLE"),a.prototype.readIntBE=q(function(T,B,V){T=T>>>0,B=B>>>0,V||G(T,B,this.length);let ie=B,J=1,Y=this[T+--ie];for(;ie>0&&(J*=256);)Y+=this[T+--ie]*J;return J*=128,Y>=J&&(Y-=Math.pow(2,8*B)),Y},"readIntBE"),a.prototype.readInt8=q(function(T,B){return T=T>>>0,B||G(T,1,this.length),this[T]&128?(255-this[T]+1)*-1:this[T]},"readInt8"),a.prototype.readInt16LE=q(function(T,B){T=T>>>0,B||G(T,2,this.length);let V=this[T]|this[T+1]<<8;return V&32768?V|4294901760:V},"readInt16LE"),a.prototype.readInt16BE=q(function(T,B){T=T>>>0,B||G(T,2,this.length);let V=this[T+1]|this[T]<<8;return V&32768?V|4294901760:V},"readInt16BE"),a.prototype.readInt32LE=q(function(T,B){return T=T>>>0,B||G(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},"readInt32LE"),a.prototype.readInt32BE=q(function(T,B){return T=T>>>0,B||G(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},"readInt32BE"),a.prototype.readBigInt64LE=tc(q(function(T){T=T>>>0,_r(T,"offset");let B=this[T],V=this[T+7];(B===void 0||V===void 0)&&fr(T,this.length-8);let ie=this[T+4]+this[T+5]*2**8+this[T+6]*2**16+(V<<24);return(BigInt(ie)<<BigInt(32))+BigInt(B+this[++T]*2**8+this[++T]*2**16+this[++T]*2**24)},"readBigInt64LE")),a.prototype.readBigInt64BE=tc(q(function(T){T=T>>>0,_r(T,"offset");let B=this[T],V=this[T+7];(B===void 0||V===void 0)&&fr(T,this.length-8);let ie=(B<<24)+this[++T]*2**16+this[++T]*2**8+this[++T];return(BigInt(ie)<<BigInt(32))+BigInt(this[++T]*2**24+this[++T]*2**16+this[++T]*2**8+V)},"readBigInt64BE")),a.prototype.readFloatLE=q(function(T,B){return T=T>>>0,B||G(T,4,this.length),r.read(this,T,!0,23,4)},"readFloatLE"),a.prototype.readFloatBE=q(function(T,B){return T=T>>>0,B||G(T,4,this.length),r.read(this,T,!1,23,4)},"readFloatBE"),a.prototype.readDoubleLE=q(function(T,B){return T=T>>>0,B||G(T,8,this.length),r.read(this,T,!0,52,8)},"readDoubleLE"),a.prototype.readDoubleBE=q(function(T,B){return T=T>>>0,B||G(T,8,this.length),r.read(this,T,!1,52,8)},"readDoubleBE");function A(T,B,V,ie,J,Y){if(!a.isBuffer(T))throw new TypeError('"buffer" argument must be a Buffer instance');if(B>J||B<Y)throw new RangeError('"value" argument is out of bounds');if(V+ie>T.length)throw new RangeError("Index out of range")}q(A,"checkInt"),a.prototype.writeUintLE=a.prototype.writeUIntLE=q(function(T,B,V,ie){if(T=+T,B=B>>>0,V=V>>>0,!ie){let oe=Math.pow(2,8*V)-1;A(this,T,B,V,oe,0)}let J=1,Y=0;for(this[B]=T&255;++Y<V&&(J*=256);)this[B+Y]=T/J&255;return B+V},"writeUIntLE"),a.prototype.writeUintBE=a.prototype.writeUIntBE=q(function(T,B,V,ie){if(T=+T,B=B>>>0,V=V>>>0,!ie){let oe=Math.pow(2,8*V)-1;A(this,T,B,V,oe,0)}let J=V-1,Y=1;for(this[B+J]=T&255;--J>=0&&(Y*=256);)this[B+J]=T/Y&255;return B+V},"writeUIntBE"),a.prototype.writeUint8=a.prototype.writeUInt8=q(function(T,B,V){return T=+T,B=B>>>0,V||A(this,T,B,1,255,0),this[B]=T&255,B+1},"writeUInt8"),a.prototype.writeUint16LE=a.prototype.writeUInt16LE=q(function(T,B,V){return T=+T,B=B>>>0,V||A(this,T,B,2,65535,0),this[B]=T&255,this[B+1]=T>>>8,B+2},"writeUInt16LE"),a.prototype.writeUint16BE=a.prototype.writeUInt16BE=q(function(T,B,V){return T=+T,B=B>>>0,V||A(this,T,B,2,65535,0),this[B]=T>>>8,this[B+1]=T&255,B+2},"writeUInt16BE"),a.prototype.writeUint32LE=a.prototype.writeUInt32LE=q(function(T,B,V){return T=+T,B=B>>>0,V||A(this,T,B,4,4294967295,0),this[B+3]=T>>>24,this[B+2]=T>>>16,this[B+1]=T>>>8,this[B]=T&255,B+4},"writeUInt32LE"),a.prototype.writeUint32BE=a.prototype.writeUInt32BE=q(function(T,B,V){return T=+T,B=B>>>0,V||A(this,T,B,4,4294967295,0),this[B]=T>>>24,this[B+1]=T>>>16,this[B+2]=T>>>8,this[B+3]=T&255,B+4},"writeUInt32BE");function X(T,B,V,ie,J){ke(B,ie,J,T,V,7);let Y=Number(B&BigInt(4294967295));T[V++]=Y,Y=Y>>8,T[V++]=Y,Y=Y>>8,T[V++]=Y,Y=Y>>8,T[V++]=Y;let oe=Number(B>>BigInt(32)&BigInt(4294967295));return T[V++]=oe,oe=oe>>8,T[V++]=oe,oe=oe>>8,T[V++]=oe,oe=oe>>8,T[V++]=oe,V}q(X,"wrtBigUInt64LE");function Re(T,B,V,ie,J){ke(B,ie,J,T,V,7);let Y=Number(B&BigInt(4294967295));T[V+7]=Y,Y=Y>>8,T[V+6]=Y,Y=Y>>8,T[V+5]=Y,Y=Y>>8,T[V+4]=Y;let oe=Number(B>>BigInt(32)&BigInt(4294967295));return T[V+3]=oe,oe=oe>>8,T[V+2]=oe,oe=oe>>8,T[V+1]=oe,oe=oe>>8,T[V]=oe,V+8}q(Re,"wrtBigUInt64BE"),a.prototype.writeBigUInt64LE=tc(q(function(T,B=0){return X(this,T,B,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64LE")),a.prototype.writeBigUInt64BE=tc(q(function(T,B=0){return Re(this,T,B,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64BE")),a.prototype.writeIntLE=q(function(T,B,V,ie){if(T=+T,B=B>>>0,!ie){let Me=Math.pow(2,8*V-1);A(this,T,B,V,Me-1,-Me)}let J=0,Y=1,oe=0;for(this[B]=T&255;++J<V&&(Y*=256);)T<0&&oe===0&&this[B+J-1]!==0&&(oe=1),this[B+J]=(T/Y>>0)-oe&255;return B+V},"writeIntLE"),a.prototype.writeIntBE=q(function(T,B,V,ie){if(T=+T,B=B>>>0,!ie){let Me=Math.pow(2,8*V-1);A(this,T,B,V,Me-1,-Me)}let J=V-1,Y=1,oe=0;for(this[B+J]=T&255;--J>=0&&(Y*=256);)T<0&&oe===0&&this[B+J+1]!==0&&(oe=1),this[B+J]=(T/Y>>0)-oe&255;return B+V},"writeIntBE"),a.prototype.writeInt8=q(function(T,B,V){return T=+T,B=B>>>0,V||A(this,T,B,1,127,-128),T<0&&(T=255+T+1),this[B]=T&255,B+1},"writeInt8"),a.prototype.writeInt16LE=q(function(T,B,V){return T=+T,B=B>>>0,V||A(this,T,B,2,32767,-32768),this[B]=T&255,this[B+1]=T>>>8,B+2},"writeInt16LE"),a.prototype.writeInt16BE=q(function(T,B,V){return T=+T,B=B>>>0,V||A(this,T,B,2,32767,-32768),this[B]=T>>>8,this[B+1]=T&255,B+2},"writeInt16BE"),a.prototype.writeInt32LE=q(function(T,B,V){return T=+T,B=B>>>0,V||A(this,T,B,4,2147483647,-2147483648),this[B]=T&255,this[B+1]=T>>>8,this[B+2]=T>>>16,this[B+3]=T>>>24,B+4},"writeInt32LE"),a.prototype.writeInt32BE=q(function(T,B,V){return T=+T,B=B>>>0,V||A(this,T,B,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),this[B]=T>>>24,this[B+1]=T>>>16,this[B+2]=T>>>8,this[B+3]=T&255,B+4},"writeInt32BE"),a.prototype.writeBigInt64LE=tc(q(function(T,B=0){return X(this,T,B,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64LE")),a.prototype.writeBigInt64BE=tc(q(function(T,B=0){return Re(this,T,B,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64BE"));function ve(T,B,V,ie,J,Y){if(V+ie>T.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("Index out of range")}q(ve,"checkIEEE754");function ue(T,B,V,ie,J){return B=+B,V=V>>>0,J||ve(T,B,V,4,34028234663852886e22,-34028234663852886e22),r.write(T,B,V,ie,23,4),V+4}q(ue,"writeFloat"),a.prototype.writeFloatLE=q(function(T,B,V){return ue(this,T,B,!0,V)},"writeFloatLE"),a.prototype.writeFloatBE=q(function(T,B,V){return ue(this,T,B,!1,V)},"writeFloatBE");function Ve(T,B,V,ie,J){return B=+B,V=V>>>0,J||ve(T,B,V,8,17976931348623157e292,-17976931348623157e292),r.write(T,B,V,ie,52,8),V+8}q(Ve,"writeDouble"),a.prototype.writeDoubleLE=q(function(T,B,V){return Ve(this,T,B,!0,V)},"writeDoubleLE"),a.prototype.writeDoubleBE=q(function(T,B,V){return Ve(this,T,B,!1,V)},"writeDoubleBE"),a.prototype.copy=q(function(T,B,V,ie){if(!a.isBuffer(T))throw new TypeError("argument should be a Buffer");if(V||(V=0),!ie&&ie!==0&&(ie=this.length),B>=T.length&&(B=T.length),B||(B=0),ie>0&&ie<V&&(ie=V),ie===V||T.length===0||this.length===0)return 0;if(B<0)throw new RangeError("targetStart out of bounds");if(V<0||V>=this.length)throw new RangeError("Index out of range");if(ie<0)throw new RangeError("sourceEnd out of bounds");ie>this.length&&(ie=this.length),T.length-B<ie-V&&(ie=T.length-B+V);let J=ie-V;return this===T&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(B,V,ie):Uint8Array.prototype.set.call(T,this.subarray(V,ie),B),J},"copy"),a.prototype.fill=q(function(T,B,V,ie){if(typeof T=="string"){if(typeof B=="string"?(ie=B,B=0,V=this.length):typeof V=="string"&&(ie=V,V=this.length),ie!==void 0&&typeof ie!="string")throw new TypeError("encoding must be a string");if(typeof ie=="string"&&!a.isEncoding(ie))throw new TypeError("Unknown encoding: "+ie);if(T.length===1){let Y=T.charCodeAt(0);(ie==="utf8"&&Y<128||ie==="latin1")&&(T=Y)}}else typeof T=="number"?T=T&255:typeof T=="boolean"&&(T=Number(T));if(B<0||this.length<B||this.length<V)throw new RangeError("Out of range index");if(V<=B)return this;B=B>>>0,V=V===void 0?this.length:V>>>0,T||(T=0);let J;if(typeof T=="number")for(J=B;J<V;++J)this[J]=T;else{let Y=a.isBuffer(T)?T:a.from(T,ie),oe=Y.length;if(oe===0)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(J=0;J<V-B;++J)this[J+B]=Y[J%oe]}return this},"fill");var we={};function ut(T,B,V){var ie;we[T]=(ie=class extends V{constructor(){super(),Object.defineProperty(this,"message",{value:B.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${T}]`,this.stack,delete this.name}get code(){return T}set code(J){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:J,writable:!0})}toString(){return`${this.name} [${T}]: ${this.message}`}},q(ie,"NodeError"),ie)}q(ut,"E"),ut("ERR_BUFFER_OUT_OF_BOUNDS",function(T){return T?`${T} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ut("ERR_INVALID_ARG_TYPE",function(T,B){return`The "${T}" argument must be of type number. Received type ${typeof B}`},TypeError),ut("ERR_OUT_OF_RANGE",function(T,B,V){let ie=`The value of "${T}" is out of range.`,J=V;return Number.isInteger(V)&&Math.abs(V)>2**32?J=be(String(V)):typeof V=="bigint"&&(J=String(V),(V>BigInt(2)**BigInt(32)||V<-(BigInt(2)**BigInt(32)))&&(J=be(J)),J+="n"),ie+=` It must be ${B}. Received ${J}`,ie},RangeError);function be(T){let B="",V=T.length,ie=T[0]==="-"?1:0;for(;V>=ie+4;V-=3)B=`_${T.slice(V-3,V)}${B}`;return`${T.slice(0,V)}${B}`}q(be,"addNumericalSeparator");function St(T,B,V){_r(B,"offset"),(T[B]===void 0||T[B+V]===void 0)&&fr(B,T.length-(V+1))}q(St,"checkBounds");function ke(T,B,V,ie,J,Y){if(T>V||T<B){let oe=typeof B=="bigint"?"n":"",Me;throw Y>3?B===0||B===BigInt(0)?Me=`>= 0${oe} and < 2${oe} ** ${(Y+1)*8}${oe}`:Me=`>= -(2${oe} ** ${(Y+1)*8-1}${oe}) and < 2 ** ${(Y+1)*8-1}${oe}`:Me=`>= ${B}${oe} and <= ${V}${oe}`,new we.ERR_OUT_OF_RANGE("value",Me,T)}St(ie,J,Y)}q(ke,"checkIntBI");function _r(T,B){if(typeof T!="number")throw new we.ERR_INVALID_ARG_TYPE(B,"number",T)}q(_r,"validateNumber");function fr(T,B,V){throw Math.floor(T)!==T?(_r(T,V),new we.ERR_OUT_OF_RANGE(V||"offset","an integer",T)):B<0?new we.ERR_BUFFER_OUT_OF_BOUNDS:new we.ERR_OUT_OF_RANGE(V||"offset",`>= ${V?1:0} and <= ${B}`,T)}q(fr,"boundsError");var _n=/[^+/0-9A-Za-z-_]/g;function Nd(T){if(T=T.split("=")[0],T=T.trim().replace(_n,""),T.length<2)return"";for(;T.length%4!==0;)T=T+"=";return T}q(Nd,"base64clean");function Tn(T,B){B=B||1/0;let V,ie=T.length,J=null,Y=[];for(let oe=0;oe<ie;++oe){if(V=T.charCodeAt(oe),V>55295&&V<57344){if(!J){if(V>56319){(B-=3)>-1&&Y.push(239,191,189);continue}else if(oe+1===ie){(B-=3)>-1&&Y.push(239,191,189);continue}J=V;continue}if(V<56320){(B-=3)>-1&&Y.push(239,191,189),J=V;continue}V=(J-55296<<10|V-56320)+65536}else J&&(B-=3)>-1&&Y.push(239,191,189);if(J=null,V<128){if((B-=1)<0)break;Y.push(V)}else if(V<2048){if((B-=2)<0)break;Y.push(V>>6|192,V&63|128)}else if(V<65536){if((B-=3)<0)break;Y.push(V>>12|224,V>>6&63|128,V&63|128)}else if(V<1114112){if((B-=4)<0)break;Y.push(V>>18|240,V>>12&63|128,V>>6&63|128,V&63|128)}else throw new Error("Invalid code point")}return Y}q(Tn,"utf8ToBytes");function Gn(T){let B=[];for(let V=0;V<T.length;++V)B.push(T.charCodeAt(V)&255);return B}q(Gn,"asciiToBytes");function e0(T,B){let V,ie,J,Y=[];for(let oe=0;oe<T.length&&!((B-=2)<0);++oe)V=T.charCodeAt(oe),ie=V>>8,J=V%256,Y.push(J),Y.push(ie);return Y}q(e0,"utf16leToBytes");function Dn(T){return e.toByteArray(Nd(T))}q(Dn,"base64ToBytes");function pn(T,B,V,ie){let J;for(J=0;J<ie&&!(J+V>=B.length||J>=T.length);++J)B[J+V]=T[J];return J}q(pn,"blitBuffer");function js(T,B){return T instanceof B||T!=null&&T.constructor!=null&&T.constructor.name!=null&&T.constructor.name===B.name}q(js,"isInstance");function Mn(T){return T!==T}q(Mn,"numberIsNaN");var ui=(function(){let T="0123456789abcdef",B=new Array(256);for(let V=0;V<16;++V){let ie=V*16;for(let J=0;J<16;++J)B[ie+J]=T[V]+T[J]}return B})();function tc(T){return typeof BigInt>"u"?Sn:T}q(tc,"defineBigIntMethod");function Sn(){throw new Error("BigInt not supported")}q(Sn,"BufferBigIntNotDefined")}),Mt=Ec(()=>{"use strict";iL=globalThis,soe=globalThis.setImmediate??(t=>setTimeout(t,0)),Y5t=globalThis.clearImmediate??(t=>clearTimeout(t)),tr=typeof globalThis.Buffer=="function"&&typeof globalThis.Buffer.allocUnsafe=="function"?globalThis.Buffer:X5t().Buffer,Rr=globalThis.process??{},Rr.env??(Rr.env={});try{Rr.nextTick(()=>{})}catch{let t=Promise.resolve();Rr.nextTick=t.then.bind(t)}}),uv=Ir((t,e)=>{"use strict";Mt();var r=typeof Reflect=="object"?Reflect:null,n=r&&typeof r.apply=="function"?r.apply:q(function(I,D,k){return Function.prototype.apply.call(I,D,k)},"ReflectApply"),i;r&&typeof r.ownKeys=="function"?i=r.ownKeys:Object.getOwnPropertySymbols?i=q(function(I){return Object.getOwnPropertyNames(I).concat(Object.getOwnPropertySymbols(I))},"ReflectOwnKeys"):i=q(function(I){return Object.getOwnPropertyNames(I)},"ReflectOwnKeys");function o(I){console&&console.warn&&console.warn(I)}q(o,"ProcessEmitWarning");var s=Number.isNaN||q(function(I){return I!==I},"NumberIsNaN");function a(){a.init.call(this)}q(a,"EventEmitter"),e.exports=a,e.exports.once=S,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function l(I){if(typeof I!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof I)}q(l,"checkListener"),Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:q(function(){return c},"get"),set:q(function(I){if(typeof I!="number"||I<0||s(I))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+I+".");c=I},"set")}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=q(function(I){if(typeof I!="number"||I<0||s(I))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+I+".");return this._maxListeners=I,this},"setMaxListeners");function u(I){return I._maxListeners===void 0?a.defaultMaxListeners:I._maxListeners}q(u,"_getMaxListeners"),a.prototype.getMaxListeners=q(function(){return u(this)},"getMaxListeners"),a.prototype.emit=q(function(I){for(var D=[],k=1;k<arguments.length;k++)D.push(arguments[k]);var P=I==="error",$=this._events;if($!==void 0)P=P&&$.error===void 0;else if(!P)return!1;if(P){var H;if(D.length>0&&(H=D[0]),H instanceof Error)throw H;var W=new Error("Unhandled error."+(H?" ("+H.message+")":""));throw W.context=H,W}var N=$[I];if(N===void 0)return!1;if(typeof N=="function")n(N,this,D);else for(var _=N.length,x=g(N,_),k=0;k<_;++k)n(x[k],this,D);return!0},"emit");function d(I,D,k,P){var $,H,W;if(l(k),H=I._events,H===void 0?(H=I._events=Object.create(null),I._eventsCount=0):(H.newListener!==void 0&&(I.emit("newListener",D,k.listener?k.listener:k),H=I._events),W=H[D]),W===void 0)W=H[D]=k,++I._eventsCount;else if(typeof W=="function"?W=H[D]=P?[k,W]:[W,k]:P?W.unshift(k):W.push(k),$=u(I),$>0&&W.length>$&&!W.warned){W.warned=!0;var N=new Error("Possible EventEmitter memory leak detected. "+W.length+" "+String(D)+" listeners added. Use emitter.setMaxListeners() to increase limit");N.name="MaxListenersExceededWarning",N.emitter=I,N.type=D,N.count=W.length,o(N)}return I}q(d,"_addListener"),a.prototype.addListener=q(function(I,D){return d(this,I,D,!1)},"addListener"),a.prototype.on=a.prototype.addListener,a.prototype.prependListener=q(function(I,D){return d(this,I,D,!0)},"prependListener");function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}q(p,"onceWrapper");function f(I,D,k){var P={fired:!1,wrapFn:void 0,target:I,type:D,listener:k},$=p.bind(P);return $.listener=k,P.wrapFn=$,$}q(f,"_onceWrap"),a.prototype.once=q(function(I,D){return l(D),this.on(I,f(this,I,D)),this},"once"),a.prototype.prependOnceListener=q(function(I,D){return l(D),this.prependListener(I,f(this,I,D)),this},"prependOnceListener"),a.prototype.removeListener=q(function(I,D){var k,P,$,H,W;if(l(D),P=this._events,P===void 0)return this;if(k=P[I],k===void 0)return this;if(k===D||k.listener===D)--this._eventsCount===0?this._events=Object.create(null):(delete P[I],P.removeListener&&this.emit("removeListener",I,k.listener||D));else if(typeof k!="function"){for($=-1,H=k.length-1;H>=0;H--)if(k[H]===D||k[H].listener===D){W=k[H].listener,$=H;break}if($<0)return this;$===0?k.shift():y(k,$),k.length===1&&(P[I]=k[0]),P.removeListener!==void 0&&this.emit("removeListener",I,W||D)}return this},"removeListener"),a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=q(function(I){var D,k,P;if(k=this._events,k===void 0)return this;if(k.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):k[I]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete k[I]),this;if(arguments.length===0){var $=Object.keys(k),H;for(P=0;P<$.length;++P)H=$[P],H!=="removeListener"&&this.removeAllListeners(H);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(D=k[I],typeof D=="function")this.removeListener(I,D);else if(D!==void 0)for(P=D.length-1;P>=0;P--)this.removeListener(I,D[P]);return this},"removeAllListeners");function h(I,D,k){var P=I._events;if(P===void 0)return[];var $=P[D];return $===void 0?[]:typeof $=="function"?k?[$.listener||$]:[$]:k?v($):g($,$.length)}q(h,"_listeners"),a.prototype.listeners=q(function(I){return h(this,I,!0)},"listeners"),a.prototype.rawListeners=q(function(I){return h(this,I,!1)},"rawListeners"),a.listenerCount=function(I,D){return typeof I.listenerCount=="function"?I.listenerCount(D):m.call(I,D)},a.prototype.listenerCount=m;function m(I){var D=this._events;if(D!==void 0){var k=D[I];if(typeof k=="function")return 1;if(k!==void 0)return k.length}return 0}q(m,"listenerCount"),a.prototype.eventNames=q(function(){return this._eventsCount>0?i(this._events):[]},"eventNames");function g(I,D){for(var k=new Array(D),P=0;P<D;++P)k[P]=I[P];return k}q(g,"arrayClone");function y(I,D){for(;D+1<I.length;D++)I[D]=I[D+1];I.pop()}q(y,"spliceOne");function v(I){for(var D=new Array(I.length),k=0;k<D.length;++k)D[k]=I[k].listener||I[k];return D}q(v,"unwrapListeners");function S(I,D){return new Promise(function(k,P){function $(W){I.removeListener(D,H),P(W)}q($,"errorListener");function H(){typeof I.removeListener=="function"&&I.removeListener("error",$),k([].slice.call(arguments))}q(H,"resolver"),E(I,D,H,{once:!0}),D!=="error"&&w(I,$,{once:!0})})}q(S,"once");function w(I,D,k){typeof I.on=="function"&&E(I,"error",D,k)}q(w,"addErrorHandlerIfEventEmitter");function E(I,D,k,P){if(typeof I.on=="function")P.once?I.once(D,k):I.on(D,k);else if(typeof I.addEventListener=="function")I.addEventListener(D,q(function $(H){P.once&&I.removeEventListener(D,$),k(H)},"wrapListener"));else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof I)}q(E,"eventTargetAgnosticAddListener")}),n$e={};Gd(n$e,{Socket:()=>_w,isIP:()=>i$e});u3=Ec(()=>{"use strict";Mt(),QBe=lv(uv(),1),q(i$e,"isIP"),toe=/^[^.]+\./,s3=class Wt extends QBe.EventEmitter{constructor(){super(...arguments),nr(this,"opts",{}),nr(this,"connecting",!1),nr(this,"pending",!0),nr(this,"writable",!0),nr(this,"encrypted",!1),nr(this,"authorized",!1),nr(this,"destroyed",!1),nr(this,"ws",null),nr(this,"writeBuffer"),nr(this,"tlsState",0),nr(this,"tlsRead"),nr(this,"tlsWrite")}static get poolQueryViaFetch(){return Wt.opts.poolQueryViaFetch??Wt.defaults.poolQueryViaFetch}static set poolQueryViaFetch(e){Wt.opts.poolQueryViaFetch=e}static get fetchEndpoint(){return Wt.opts.fetchEndpoint??Wt.defaults.fetchEndpoint}static set fetchEndpoint(e){Wt.opts.fetchEndpoint=e}static get fetchConnectionCache(){return!0}static set fetchConnectionCache(e){console.warn("The `fetchConnectionCache` option is deprecated (now always `true`)")}static get fetchFunction(){return Wt.opts.fetchFunction??Wt.defaults.fetchFunction}static set fetchFunction(e){Wt.opts.fetchFunction=e}static get webSocketConstructor(){return Wt.opts.webSocketConstructor??Wt.defaults.webSocketConstructor}static set webSocketConstructor(e){Wt.opts.webSocketConstructor=e}get webSocketConstructor(){return this.opts.webSocketConstructor??Wt.webSocketConstructor}set webSocketConstructor(e){this.opts.webSocketConstructor=e}static get wsProxy(){return Wt.opts.wsProxy??Wt.defaults.wsProxy}static set wsProxy(e){Wt.opts.wsProxy=e}get wsProxy(){return this.opts.wsProxy??Wt.wsProxy}set wsProxy(e){this.opts.wsProxy=e}static get coalesceWrites(){return Wt.opts.coalesceWrites??Wt.defaults.coalesceWrites}static set coalesceWrites(e){Wt.opts.coalesceWrites=e}get coalesceWrites(){return this.opts.coalesceWrites??Wt.coalesceWrites}set coalesceWrites(e){this.opts.coalesceWrites=e}static get useSecureWebSocket(){return Wt.opts.useSecureWebSocket??Wt.defaults.useSecureWebSocket}static set useSecureWebSocket(e){Wt.opts.useSecureWebSocket=e}get useSecureWebSocket(){return this.opts.useSecureWebSocket??Wt.useSecureWebSocket}set useSecureWebSocket(e){this.opts.useSecureWebSocket=e}static get forceDisablePgSSL(){return Wt.opts.forceDisablePgSSL??Wt.defaults.forceDisablePgSSL}static set forceDisablePgSSL(e){Wt.opts.forceDisablePgSSL=e}get forceDisablePgSSL(){return this.opts.forceDisablePgSSL??Wt.forceDisablePgSSL}set forceDisablePgSSL(e){this.opts.forceDisablePgSSL=e}static get disableSNI(){return Wt.opts.disableSNI??Wt.defaults.disableSNI}static set disableSNI(e){Wt.opts.disableSNI=e}get disableSNI(){return this.opts.disableSNI??Wt.disableSNI}set disableSNI(e){this.opts.disableSNI=e}static get disableWarningInBrowsers(){return Wt.opts.disableWarningInBrowsers??Wt.defaults.disableWarningInBrowsers}static set disableWarningInBrowsers(e){Wt.opts.disableWarningInBrowsers=e}get disableWarningInBrowsers(){return this.opts.disableWarningInBrowsers??Wt.disableWarningInBrowsers}set disableWarningInBrowsers(e){this.opts.disableWarningInBrowsers=e}static get pipelineConnect(){return Wt.opts.pipelineConnect??Wt.defaults.pipelineConnect}static set pipelineConnect(e){Wt.opts.pipelineConnect=e}get pipelineConnect(){return this.opts.pipelineConnect??Wt.pipelineConnect}set pipelineConnect(e){this.opts.pipelineConnect=e}static get subtls(){return Wt.opts.subtls??Wt.defaults.subtls}static set subtls(e){Wt.opts.subtls=e}get subtls(){return this.opts.subtls??Wt.subtls}set subtls(e){this.opts.subtls=e}static get pipelineTLS(){return Wt.opts.pipelineTLS??Wt.defaults.pipelineTLS}static set pipelineTLS(e){Wt.opts.pipelineTLS=e}get pipelineTLS(){return this.opts.pipelineTLS??Wt.pipelineTLS}set pipelineTLS(e){this.opts.pipelineTLS=e}static get rootCerts(){return Wt.opts.rootCerts??Wt.defaults.rootCerts}static set rootCerts(e){Wt.opts.rootCerts=e}get rootCerts(){return this.opts.rootCerts??Wt.rootCerts}set rootCerts(e){this.opts.rootCerts=e}wsProxyAddrForHost(e,r){let n=this.wsProxy;if(n===void 0)throw new Error("No WebSocket proxy is configured. Please see https://github.com/neondatabase/serverless/blob/main/CONFIG.md#wsproxy-string--host-string-port-number--string--string");return typeof n=="function"?n(e,r):`${n}?address=${e}:${r}`}setNoDelay(){return this}setKeepAlive(){return this}ref(){return this}unref(){return this}connect(e,r,n){this.connecting=!0,n&&this.once("connect",n);let i=q(()=>{this.connecting=!1,this.pending=!1,this.emit("connect"),this.emit("ready")},"handleWebSocketOpen"),o=q((a,c=!1)=>{a.binaryType="arraybuffer",a.addEventListener("error",l=>{this.emit("error",l),this.emit("close")}),a.addEventListener("message",l=>{if(this.tlsState===0){let u=tr.from(l.data);this.emit("data",u)}}),a.addEventListener("close",()=>{this.emit("close")}),c?i():a.addEventListener("open",i)},"configureWebSocket"),s;try{s=this.wsProxyAddrForHost(r,typeof e=="string"?parseInt(e,10):e)}catch(a){this.emit("error",a),this.emit("close");return}try{let a=(this.useSecureWebSocket?"wss:":"ws:")+"//"+s;if(this.webSocketConstructor!==void 0)this.ws=new this.webSocketConstructor(a),o(this.ws);else try{this.ws=new WebSocket(a),o(this.ws)}catch{this.ws=new __unstable_WebSocket(a),o(this.ws)}}catch(a){let c=(this.useSecureWebSocket?"https:":"http:")+"//"+s;fetch(c,{headers:{Upgrade:"websocket"}}).then(l=>{if(this.ws=l.webSocket,this.ws==null)throw a;this.ws.accept(),o(this.ws,!0)}).catch(l=>{this.emit("error",new Error(`All attempts to open a WebSocket to connect to the database failed. Please refer to https://github.com/neondatabase/serverless/blob/main/CONFIG.md#websocketconstructor-typeof-websocket--undefined. Details: ${l}`)),this.emit("close")})}}async startTls(e){if(this.subtls===void 0)throw new Error("For Postgres SSL connections, you must set `neonConfig.subtls` to the subtls library. See https://github.com/neondatabase/serverless/blob/main/CONFIG.md for more information.");this.tlsState=1;let r=await this.subtls.TrustedCert.databaseFromPEM(this.rootCerts),n=new this.subtls.WebSocketReadQueue(this.ws),i=n.read.bind(n),o=this.rawWrite.bind(this),{read:s,write:a}=await this.subtls.startTls(e,r,i,o,{useSNI:!this.disableSNI,expectPreData:this.pipelineTLS?new Uint8Array([83]):void 0});this.tlsRead=s,this.tlsWrite=a,this.tlsState=2,this.encrypted=!0,this.authorized=!0,this.emit("secureConnection",this),this.tlsReadLoop()}async tlsReadLoop(){for(;;){let e=await this.tlsRead();if(e===void 0)break;{let r=tr.from(e);this.emit("data",r)}}}rawWrite(e){if(!this.coalesceWrites){this.ws&&this.ws.send(e);return}if(this.writeBuffer===void 0)this.writeBuffer=e,setTimeout(()=>{this.ws&&this.ws.send(this.writeBuffer),this.writeBuffer=void 0},0);else{let r=new Uint8Array(this.writeBuffer.length+e.length);r.set(this.writeBuffer),r.set(e,this.writeBuffer.length),this.writeBuffer=r}}write(e,r="utf8",n=i=>{}){return e.length===0?(n(),!0):(typeof e=="string"&&(e=tr.from(e,r)),this.tlsState===0?(this.rawWrite(e),n()):this.tlsState===1?this.once("secureConnection",()=>{this.write(e,r,n)}):(this.tlsWrite(e),n()),!0)}end(e=tr.alloc(0),r="utf8",n=()=>{}){return this.write(e,r,()=>{this.ws.close(),n()}),this}destroy(){return this.destroyed=!0,this.end()}},q(s3,"Socket"),nr(s3,"defaults",{poolQueryViaFetch:!1,fetchEndpoint:q((t,e,r)=>{let n;return r?.jwtAuth?n=t.replace(toe,"apiauth."):n=t.replace(toe,"api."),"https://"+n+"/sql"},"fetchEndpoint"),fetchConnectionCache:!0,fetchFunction:void 0,webSocketConstructor:void 0,wsProxy:q(t=>t+"/v2","wsProxy"),useSecureWebSocket:!0,forceDisablePgSSL:!0,coalesceWrites:!0,pipelineConnect:"password",subtls:void 0,rootCerts:"",pipelineTLS:!1,disableSNI:!1,disableWarningInBrowsers:!1}),nr(s3,"opts",{}),_w=s3}),o$e={};Gd(o$e,{parse:()=>aoe});s$e=Ec(()=>{"use strict";Mt(),q(aoe,"parse")}),a$e=Ir(t=>{"use strict";Mt(),t.parse=function(i,o){return new r(i,o).parse()};var e=class c$e{constructor(o,s){this.source=o,this.transform=s||n,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var o=this.source[this.position++];return o==="\\"?{value:this.source[this.position++],escaped:!0}:{value:o,escaped:!1}}record(o){this.recorded.push(o)}newEntry(o){var s;(this.recorded.length>0||o)&&(s=this.recorded.join(""),s==="NULL"&&!o&&(s=null),s!==null&&(s=this.transform(s)),this.entries.push(s),this.recorded=[])}consumeDimensions(){if(this.source[0]==="[")for(;!this.isEof();){var o=this.nextCharacter();if(o.value==="=")break}}parse(o){var s,a,c;for(this.consumeDimensions();!this.isEof();)if(s=this.nextCharacter(),s.value==="{"&&!c)this.dimension++,this.dimension>1&&(a=new c$e(this.source.substr(this.position-1),this.transform),this.entries.push(a.parse(!0)),this.position+=a.position-2);else if(s.value==="}"&&!c){if(this.dimension--,!this.dimension&&(this.newEntry(),o))return this.entries}else s.value==='"'&&!s.escaped?(c&&this.newEntry(!0),c=!c):s.value===","&&!c?this.newEntry():this.record(s.value);if(this.dimension!==0)throw new Error("array dimension not balanced");return this.entries}};q(e,"ArrayParser");var r=e;function n(i){return i}q(n,"identity")}),l$e=Ir((t,e)=>{Mt();var r=a$e();e.exports={create:q(function(n,i){return{parse:q(function(){return r.parse(n,i)},"parse")}},"create")}}),Z5t=Ir((t,e)=>{"use strict";Mt();var r=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,n=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,i=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,o=/^-?infinity$/;e.exports=q(function(u){if(o.test(u))return Number(u.replace("i","I"));var d=r.exec(u);if(!d)return s(u)||null;var p=!!d[8],f=parseInt(d[1],10);p&&(f=c(f));var h=parseInt(d[2],10)-1,m=d[3],g=parseInt(d[4],10),y=parseInt(d[5],10),v=parseInt(d[6],10),S=d[7];S=S?1e3*parseFloat(S):0;var w,E=a(u);return E!=null?(w=new Date(Date.UTC(f,h,m,g,y,v,S)),l(f)&&w.setUTCFullYear(f),E!==0&&w.setTime(w.getTime()-E)):(w=new Date(f,h,m,g,y,v,S),l(f)&&w.setFullYear(f)),w},"parseDate");function s(u){var d=n.exec(u);if(d){var p=parseInt(d[1],10),f=!!d[4];f&&(p=c(p));var h=parseInt(d[2],10)-1,m=d[3],g=new Date(p,h,m);return l(p)&&g.setFullYear(p),g}}q(s,"getDate");function a(u){if(u.endsWith("+00"))return 0;var d=i.exec(u.split(" ")[1]);if(d){var p=d[1];if(p==="Z")return 0;var f=p==="-"?-1:1,h=parseInt(d[2],10)*3600+parseInt(d[3]||0,10)*60+parseInt(d[4]||0,10);return h*f*1e3}}q(a,"timeZoneOffset");function c(u){return-(u-1)}q(c,"bcYearToNegativeYear");function l(u){return u>=0&&u<100}q(l,"is0To99")}),e8t=Ir((t,e)=>{Mt(),e.exports=n;var r=Object.prototype.hasOwnProperty;function n(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)r.call(s,a)&&(i[a]=s[a])}return i}q(n,"extend")}),t8t=Ir((t,e)=>{"use strict";Mt();var r=e8t();e.exports=n;function n(v){if(!(this instanceof n))return new n(v);r(this,y(v))}q(n,"PostgresInterval");var i=["seconds","minutes","hours","days","months","years"];n.prototype.toPostgres=function(){var v=i.filter(this.hasOwnProperty,this);return this.milliseconds&&v.indexOf("seconds")<0&&v.push("seconds"),v.length===0?"0":v.map(function(S){var w=this[S]||0;return S==="seconds"&&this.milliseconds&&(w=(w+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),w+" "+S},this).join(" ")};var o={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},s=["years","months","days"],a=["hours","minutes","seconds"];n.prototype.toISOString=n.prototype.toISO=function(){var v=s.map(w,this).join(""),S=a.map(w,this).join("");return"P"+v+"T"+S;function w(E){var I=this[E]||0;return E==="seconds"&&this.milliseconds&&(I=(I+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),I+o[E]}};var c="([+-]?\\d+)",l=c+"\\s+years?",u=c+"\\s+mons?",d=c+"\\s+days?",p="([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?",f=new RegExp([l,u,d,p].map(function(v){return"("+v+")?"}).join("\\s*")),h={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},m=["hours","minutes","seconds","milliseconds"];function g(v){var S=v+"000000".slice(v.length);return parseInt(S,10)/1e3}q(g,"parseMilliseconds");function y(v){if(!v)return{};var S=f.exec(v),w=S[8]==="-";return Object.keys(h).reduce(function(E,I){var D=h[I],k=S[D];return!k||(k=I==="milliseconds"?g(k):parseInt(k,10),!k)||(w&&~m.indexOf(I)&&(k*=-1),E[I]=k),E},{})}q(y,"parse")}),r8t=Ir((t,e)=>{"use strict";Mt(),e.exports=q(function(r){if(/^\\x/.test(r))return new tr(r.substr(2),"hex");for(var n="",i=0;i<r.length;)if(r[i]!=="\\")n+=r[i],++i;else if(/[0-7]{3}/.test(r.substr(i+1,3)))n+=String.fromCharCode(parseInt(r.substr(i+1,3),8)),i+=4;else{for(var o=1;i+o<r.length&&r[i+o]==="\\";)o++;for(var s=0;s<Math.floor(o/2);++s)n+="\\";i+=Math.floor(o/2)*2}return new tr(n,"binary")},"parseBytea")}),n8t=Ir((t,e)=>{Mt();var r=a$e(),n=l$e(),i=Z5t(),o=t8t(),s=r8t();function a(P){return q(function($){return $===null?$:P($)},"nullAllowed")}q(a,"allowNull");function c(P){return P===null?P:P==="TRUE"||P==="t"||P==="true"||P==="y"||P==="yes"||P==="on"||P==="1"}q(c,"parseBool");function l(P){return P?r.parse(P,c):null}q(l,"parseBoolArray");function u(P){return parseInt(P,10)}q(u,"parseBaseTenInt");function d(P){return P?r.parse(P,a(u)):null}q(d,"parseIntegerArray");function p(P){return P?r.parse(P,a(function($){return w($).trim()})):null}q(p,"parseBigIntegerArray");var f=q(function(P){if(!P)return null;var $=n.create(P,function(H){return H!==null&&(H=I(H)),H});return $.parse()},"parsePointArray"),h=q(function(P){if(!P)return null;var $=n.create(P,function(H){return H!==null&&(H=parseFloat(H)),H});return $.parse()},"parseFloatArray"),m=q(function(P){if(!P)return null;var $=n.create(P);return $.parse()},"parseStringArray"),g=q(function(P){if(!P)return null;var $=n.create(P,function(H){return H!==null&&(H=i(H)),H});return $.parse()},"parseDateArray"),y=q(function(P){if(!P)return null;var $=n.create(P,function(H){return H!==null&&(H=o(H)),H});return $.parse()},"parseIntervalArray"),v=q(function(P){return P?r.parse(P,a(s)):null},"parseByteAArray"),S=q(function(P){return parseInt(P,10)},"parseInteger"),w=q(function(P){var $=String(P);return/^\d+$/.test($)?$:P},"parseBigInteger"),E=q(function(P){return P?r.parse(P,a(JSON.parse)):null},"parseJsonArray"),I=q(function(P){return P[0]!=="("?null:(P=P.substring(1,P.length-1).split(","),{x:parseFloat(P[0]),y:parseFloat(P[1])})},"parsePoint"),D=q(function(P){if(P[0]!=="<"&&P[1]!=="(")return null;for(var $="(",H="",W=!1,N=2;N<P.length-1;N++){if(W||($+=P[N]),P[N]===")"){W=!0;continue}else if(!W)continue;P[N]!==","&&(H+=P[N])}var _=I($);return _.radius=parseFloat(H),_},"parseCircle"),k=q(function(P){P(20,w),P(21,S),P(23,S),P(26,S),P(700,parseFloat),P(701,parseFloat),P(16,c),P(1082,i),P(1114,i),P(1184,i),P(600,I),P(651,m),P(718,D),P(1e3,l),P(1001,v),P(1005,d),P(1007,d),P(1028,d),P(1016,p),P(1017,f),P(1021,h),P(1022,h),P(1231,h),P(1014,m),P(1015,m),P(1008,m),P(1009,m),P(1040,m),P(1041,m),P(1115,g),P(1182,g),P(1185,g),P(1186,o),P(1187,y),P(17,s),P(114,JSON.parse.bind(JSON)),P(3802,JSON.parse.bind(JSON)),P(199,E),P(3807,E),P(3907,m),P(2951,m),P(791,m),P(1183,m),P(1270,m)},"init");e.exports={init:k}}),i8t=Ir((t,e)=>{"use strict";Mt();var r=1e6;function n(i){var o=i.readInt32BE(0),s=i.readUInt32BE(4),a="";o<0&&(o=~o+(s===0),s=~s+1>>>0,a="-");var c="",l,u,d,p,f,h;{if(l=o%r,o=o/r>>>0,u=4294967296*l+s,s=u/r>>>0,d=""+(u-r*s),s===0&&o===0)return a+d+c;for(p="",f=6-d.length,h=0;h<f;h++)p+="0";c=p+d+c}{if(l=o%r,o=o/r>>>0,u=4294967296*l+s,s=u/r>>>0,d=""+(u-r*s),s===0&&o===0)return a+d+c;for(p="",f=6-d.length,h=0;h<f;h++)p+="0";c=p+d+c}{if(l=o%r,o=o/r>>>0,u=4294967296*l+s,s=u/r>>>0,d=""+(u-r*s),s===0&&o===0)return a+d+c;for(p="",f=6-d.length,h=0;h<f;h++)p+="0";c=p+d+c}return l=o%r,u=4294967296*l+s,d=""+u%r,a+d+c}q(n,"readInt8"),e.exports=n}),o8t=Ir((t,e)=>{Mt();var r=i8t(),n=q(function(m,g,y,v,S){y=y||0,v=v||!1,S=S||function(W,N,_){return W*Math.pow(2,_)+N};var w=y>>3,E=q(function(W){return v?~W&255:W},"inv"),I=255,D=8-y%8;g<D&&(I=255<<8-g&255,D=g),y&&(I=I>>y%8);var k=0;y%8+g>=8&&(k=S(0,E(m[w])&I,D));for(var P=g+y>>3,$=w+1;$<P;$++)k=S(k,E(m[$]),8);var H=(g+y)%8;return H>0&&(k=S(k,E(m[P])>>8-H,H)),k},"parseBits"),i=q(function(m,g,y){var v=Math.pow(2,y-1)-1,S=n(m,1),w=n(m,y,1);if(w===0)return 0;var E=1,I=q(function(k,P,$){k===0&&(k=1);for(var H=1;H<=$;H++)E/=2,(P&1<<$-H)>0&&(k+=E);return k},"parsePrecisionBits"),D=n(m,g,y+1,!1,I);return w==Math.pow(2,y+1)-1?D===0?S===0?1/0:-1/0:NaN:(S===0?1:-1)*Math.pow(2,w-v)*D},"parseFloatFromBits"),o=q(function(m){return n(m,1)==1?-1*(n(m,15,1,!0)+1):n(m,15,1)},"parseInt16"),s=q(function(m){return n(m,1)==1?-1*(n(m,31,1,!0)+1):n(m,31,1)},"parseInt32"),a=q(function(m){return i(m,23,8)},"parseFloat32"),c=q(function(m){return i(m,52,11)},"parseFloat64"),l=q(function(m){var g=n(m,16,32);if(g==49152)return NaN;for(var y=Math.pow(1e4,n(m,16,16)),v=0,S=[],w=n(m,16),E=0;E<w;E++)v+=n(m,16,64+16*E)*y,y/=1e4;var I=Math.pow(10,n(m,16,48));return(g===0?1:-1)*Math.round(v*I)/I},"parseNumeric"),u=q(function(m,g){var y=n(g,1),v=n(g,63,1),S=new Date((y===0?1:-1)*v/1e3+9466848e5);return m||S.setTime(S.getTime()+S.getTimezoneOffset()*6e4),S.usec=v%1e3,S.getMicroSeconds=function(){return this.usec},S.setMicroSeconds=function(w){this.usec=w},S.getUTCMicroSeconds=function(){return this.usec},S},"parseDate"),d=q(function(m){for(var g=n(m,32),y=n(m,32,32),v=n(m,32,64),S=96,w=[],E=0;E<g;E++)w[E]=n(m,32,S),S+=32,S+=32;var I=q(function(k){var P=n(m,32,S);if(S+=32,P==4294967295)return null;var $;if(k==23||k==20)return $=n(m,P*8,S),S+=P*8,$;if(k==25)return $=m.toString(this.encoding,S>>3,(S+=P<<3)>>3),$;console.log("ERROR: ElementType not implemented: "+k)},"parseElement"),D=q(function(k,P){var $=[],H;if(k.length>1){var W=k.shift();for(H=0;H<W;H++)$[H]=D(k,P);k.unshift(W)}else for(H=0;H<k[0];H++)$[H]=I(P);return $},"parse");return D(w,v)},"parseArray"),p=q(function(m){return m.toString("utf8")},"parseText"),f=q(function(m){return m===null?null:n(m,8)>0},"parseBool"),h=q(function(m){m(20,r),m(21,o),m(23,s),m(26,s),m(1700,l),m(700,a),m(701,c),m(16,f),m(1114,u.bind(null,!1)),m(1184,u.bind(null,!0)),m(1e3,d),m(1007,d),m(1016,d),m(1008,d),m(1009,d),m(25,p)},"init");e.exports={init:h}}),s8t=Ir((t,e)=>{Mt(),e.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096}}),oL=Ir(t=>{Mt();var e=n8t(),r=o8t(),n=l$e(),i=s8t();t.getTypeParser=a,t.setTypeParser=c,t.arrayParser=n,t.builtins=i;var o={text:{},binary:{}};function s(l){return String(l)}q(s,"noParse");function a(l,u){return u=u||"text",o[u]&&o[u][l]||s}q(a,"getTypeParser");function c(l,u,d){typeof u=="function"&&(d=u,u="text"),o[u][l]=d}q(c,"setTypeParser"),e.init(function(l,u){o.text[l]=u}),r.init(function(l,u){o.binary[l]=u})}),coe=Ir((t,e)=>{"use strict";Mt();var r=oL();function n(i){this._types=i||r,this.text={},this.binary={}}q(n,"TypeOverrides"),n.prototype.getOverrides=function(i){switch(i){case"text":return this.text;case"binary":return this.binary;default:return{}}},n.prototype.setTypeParser=function(i,o,s){typeof o=="function"&&(s=o,o="text"),this.getOverrides(o)[i]=s},n.prototype.getTypeParser=function(i,o){return o=o||"text",this.getOverrides(o)[i]||this._types.getTypeParser(i,o)},e.exports=n});a8t=Ec(()=>{"use strict";Mt(),q(c3,"sha256")}),c8t=Ec(()=>{"use strict";Mt(),qm=class Lu{constructor(){nr(this,"_dataLength",0),nr(this,"_bufferLength",0),nr(this,"_state",new Int32Array(4)),nr(this,"_buffer",new ArrayBuffer(68)),nr(this,"_buffer8"),nr(this,"_buffer32"),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashByteArray(e,r=!1){return this.onePassHasher.start().appendByteArray(e).end(r)}static hashStr(e,r=!1){return this.onePassHasher.start().appendStr(e).end(r)}static hashAsciiStr(e,r=!1){return this.onePassHasher.start().appendAsciiStr(e).end(r)}static _hex(e){let r=Lu.hexChars,n=Lu.hexOut,i,o,s,a;for(a=0;a<4;a+=1)for(o=a*8,i=e[a],s=0;s<8;s+=2)n[o+1+s]=r.charAt(i&15),i>>>=4,n[o+0+s]=r.charAt(i&15),i>>>=4;return n.join("")}static _md5cycle(e,r){let n=e[0],i=e[1],o=e[2],s=e[3];n+=(i&o|~i&s)+r[0]-680876936|0,n=(n<<7|n>>>25)+i|0,s+=(n&i|~n&o)+r[1]-389564586|0,s=(s<<12|s>>>20)+n|0,o+=(s&n|~s&i)+r[2]+606105819|0,o=(o<<17|o>>>15)+s|0,i+=(o&s|~o&n)+r[3]-1044525330|0,i=(i<<22|i>>>10)+o|0,n+=(i&o|~i&s)+r[4]-176418897|0,n=(n<<7|n>>>25)+i|0,s+=(n&i|~n&o)+r[5]+1200080426|0,s=(s<<12|s>>>20)+n|0,o+=(s&n|~s&i)+r[6]-1473231341|0,o=(o<<17|o>>>15)+s|0,i+=(o&s|~o&n)+r[7]-45705983|0,i=(i<<22|i>>>10)+o|0,n+=(i&o|~i&s)+r[8]+1770035416|0,n=(n<<7|n>>>25)+i|0,s+=(n&i|~n&o)+r[9]-1958414417|0,s=(s<<12|s>>>20)+n|0,o+=(s&n|~s&i)+r[10]-42063|0,o=(o<<17|o>>>15)+s|0,i+=(o&s|~o&n)+r[11]-1990404162|0,i=(i<<22|i>>>10)+o|0,n+=(i&o|~i&s)+r[12]+1804603682|0,n=(n<<7|n>>>25)+i|0,s+=(n&i|~n&o)+r[13]-40341101|0,s=(s<<12|s>>>20)+n|0,o+=(s&n|~s&i)+r[14]-1502002290|0,o=(o<<17|o>>>15)+s|0,i+=(o&s|~o&n)+r[15]+1236535329|0,i=(i<<22|i>>>10)+o|0,n+=(i&s|o&~s)+r[1]-165796510|0,n=(n<<5|n>>>27)+i|0,s+=(n&o|i&~o)+r[6]-1069501632|0,s=(s<<9|s>>>23)+n|0,o+=(s&i|n&~i)+r[11]+643717713|0,o=(o<<14|o>>>18)+s|0,i+=(o&n|s&~n)+r[0]-373897302|0,i=(i<<20|i>>>12)+o|0,n+=(i&s|o&~s)+r[5]-701558691|0,n=(n<<5|n>>>27)+i|0,s+=(n&o|i&~o)+r[10]+38016083|0,s=(s<<9|s>>>23)+n|0,o+=(s&i|n&~i)+r[15]-660478335|0,o=(o<<14|o>>>18)+s|0,i+=(o&n|s&~n)+r[4]-405537848|0,i=(i<<20|i>>>12)+o|0,n+=(i&s|o&~s)+r[9]+568446438|0,n=(n<<5|n>>>27)+i|0,s+=(n&o|i&~o)+r[14]-1019803690|0,s=(s<<9|s>>>23)+n|0,o+=(s&i|n&~i)+r[3]-187363961|0,o=(o<<14|o>>>18)+s|0,i+=(o&n|s&~n)+r[8]+1163531501|0,i=(i<<20|i>>>12)+o|0,n+=(i&s|o&~s)+r[13]-1444681467|0,n=(n<<5|n>>>27)+i|0,s+=(n&o|i&~o)+r[2]-51403784|0,s=(s<<9|s>>>23)+n|0,o+=(s&i|n&~i)+r[7]+1735328473|0,o=(o<<14|o>>>18)+s|0,i+=(o&n|s&~n)+r[12]-1926607734|0,i=(i<<20|i>>>12)+o|0,n+=(i^o^s)+r[5]-378558|0,n=(n<<4|n>>>28)+i|0,s+=(n^i^o)+r[8]-2022574463|0,s=(s<<11|s>>>21)+n|0,o+=(s^n^i)+r[11]+1839030562|0,o=(o<<16|o>>>16)+s|0,i+=(o^s^n)+r[14]-35309556|0,i=(i<<23|i>>>9)+o|0,n+=(i^o^s)+r[1]-1530992060|0,n=(n<<4|n>>>28)+i|0,s+=(n^i^o)+r[4]+1272893353|0,s=(s<<11|s>>>21)+n|0,o+=(s^n^i)+r[7]-155497632|0,o=(o<<16|o>>>16)+s|0,i+=(o^s^n)+r[10]-1094730640|0,i=(i<<23|i>>>9)+o|0,n+=(i^o^s)+r[13]+681279174|0,n=(n<<4|n>>>28)+i|0,s+=(n^i^o)+r[0]-358537222|0,s=(s<<11|s>>>21)+n|0,o+=(s^n^i)+r[3]-722521979|0,o=(o<<16|o>>>16)+s|0,i+=(o^s^n)+r[6]+76029189|0,i=(i<<23|i>>>9)+o|0,n+=(i^o^s)+r[9]-640364487|0,n=(n<<4|n>>>28)+i|0,s+=(n^i^o)+r[12]-421815835|0,s=(s<<11|s>>>21)+n|0,o+=(s^n^i)+r[15]+530742520|0,o=(o<<16|o>>>16)+s|0,i+=(o^s^n)+r[2]-995338651|0,i=(i<<23|i>>>9)+o|0,n+=(o^(i|~s))+r[0]-198630844|0,n=(n<<6|n>>>26)+i|0,s+=(i^(n|~o))+r[7]+1126891415|0,s=(s<<10|s>>>22)+n|0,o+=(n^(s|~i))+r[14]-1416354905|0,o=(o<<15|o>>>17)+s|0,i+=(s^(o|~n))+r[5]-57434055|0,i=(i<<21|i>>>11)+o|0,n+=(o^(i|~s))+r[12]+1700485571|0,n=(n<<6|n>>>26)+i|0,s+=(i^(n|~o))+r[3]-1894986606|0,s=(s<<10|s>>>22)+n|0,o+=(n^(s|~i))+r[10]-1051523|0,o=(o<<15|o>>>17)+s|0,i+=(s^(o|~n))+r[1]-2054922799|0,i=(i<<21|i>>>11)+o|0,n+=(o^(i|~s))+r[8]+1873313359|0,n=(n<<6|n>>>26)+i|0,s+=(i^(n|~o))+r[15]-30611744|0,s=(s<<10|s>>>22)+n|0,o+=(n^(s|~i))+r[6]-1560198380|0,o=(o<<15|o>>>17)+s|0,i+=(s^(o|~n))+r[13]+1309151649|0,i=(i<<21|i>>>11)+o|0,n+=(o^(i|~s))+r[4]-145523070|0,n=(n<<6|n>>>26)+i|0,s+=(i^(n|~o))+r[11]-1120210379|0,s=(s<<10|s>>>22)+n|0,o+=(n^(s|~i))+r[2]+718787259|0,o=(o<<15|o>>>17)+s|0,i+=(s^(o|~n))+r[9]-343485551|0,i=(i<<21|i>>>11)+o|0,e[0]=n+e[0]|0,e[1]=i+e[1]|0,e[2]=o+e[2]|0,e[3]=s+e[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(Lu.stateIdentity),this}appendStr(e){let r=this._buffer8,n=this._buffer32,i=this._bufferLength,o,s;for(s=0;s<e.length;s+=1){if(o=e.charCodeAt(s),o<128)r[i++]=o;else if(o<2048)r[i++]=(o>>>6)+192,r[i++]=o&63|128;else if(o<55296||o>56319)r[i++]=(o>>>12)+224,r[i++]=o>>>6&63|128,r[i++]=o&63|128;else{if(o=(o-55296)*1024+(e.charCodeAt(++s)-56320)+65536,o>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");r[i++]=(o>>>18)+240,r[i++]=o>>>12&63|128,r[i++]=o>>>6&63|128,r[i++]=o&63|128}i>=64&&(this._dataLength+=64,Lu._md5cycle(this._state,n),i-=64,n[0]=n[16])}return this._bufferLength=i,this}appendAsciiStr(e){let r=this._buffer8,n=this._buffer32,i=this._bufferLength,o,s=0;for(;;){for(o=Math.min(e.length-s,64-i);o--;)r[i++]=e.charCodeAt(s++);if(i<64)break;this._dataLength+=64,Lu._md5cycle(this._state,n),i=0}return this._bufferLength=i,this}appendByteArray(e){let r=this._buffer8,n=this._buffer32,i=this._bufferLength,o,s=0;for(;;){for(o=Math.min(e.length-s,64-i);o--;)r[i++]=e[s++];if(i<64)break;this._dataLength+=64,Lu._md5cycle(this._state,n),i=0}return this._bufferLength=i,this}getState(){let e=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[e[0],e[1],e[2],e[3]]}}setState(e){let r=e.buffer,n=e.state,i=this._state,o;for(this._dataLength=e.length,this._bufferLength=e.buflen,i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[3],o=0;o<r.length;o+=1)this._buffer8[o]=r.charCodeAt(o)}end(e=!1){let r=this._bufferLength,n=this._buffer8,i=this._buffer32,o=(r>>2)+1;this._dataLength+=r;let s=this._dataLength*8;if(n[r]=128,n[r+1]=n[r+2]=n[r+3]=0,i.set(Lu.buffer32Identity.subarray(o),o),r>55&&(Lu._md5cycle(this._state,i),i.set(Lu.buffer32Identity)),s<=4294967295)i[14]=s;else{let a=s.toString(16).match(/(.*?)(.{0,8})$/);if(a===null)return;let c=parseInt(a[2],16),l=parseInt(a[1],16)||0;i[14]=c,i[15]=l}return Lu._md5cycle(this._state,i),e?this._state:Lu._hex(this._state)}},q(qm,"Md5"),nr(qm,"stateIdentity",new Int32Array([1732584193,-271733879,-1732584194,271733878])),nr(qm,"buffer32Identity",new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),nr(qm,"hexChars","0123456789abcdef"),nr(qm,"hexOut",[]),nr(qm,"onePassHasher",new qm),noe=qm}),loe={};Gd(loe,{createHash:()=>d$e,createHmac:()=>p$e,randomBytes:()=>u$e});f$e=Ec(()=>{"use strict";Mt(),a8t(),c8t(),q(u$e,"randomBytes"),q(d$e,"createHash"),q(p$e,"createHmac")}),sL=Ir((t,e)=>{"use strict";Mt(),e.exports={host:"localhost",user:Rr.platform==="win32"?Rr.env.USERNAME:Rr.env.USER,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,lock_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};var r=oL(),n=r.getTypeParser(20,"text"),i=r.getTypeParser(1016,"text");e.exports.__defineSetter__("parseInt8",function(o){r.setTypeParser(20,"text",o?r.getTypeParser(23,"text"):n),r.setTypeParser(1016,"text",o?r.getTypeParser(1007,"text"):i)})}),aL=Ir((t,e)=>{"use strict";Mt();var r=(f$e(),ts(loe)),n=sL();function i(h){var m=h.replace(/\\/g,"\\\\").replace(/"/g,'\\"');return'"'+m+'"'}q(i,"escapeElement");function o(h){for(var m="{",g=0;g<h.length;g++)g>0&&(m=m+","),h[g]===null||typeof h[g]>"u"?m=m+"NULL":Array.isArray(h[g])?m=m+o(h[g]):h[g]instanceof tr?m+="\\\\x"+h[g].toString("hex"):m+=i(s(h[g]));return m=m+"}",m}q(o,"arrayString");var s=q(function(h,m){if(h==null)return null;if(h instanceof tr)return h;if(ArrayBuffer.isView(h)){var g=tr.from(h.buffer,h.byteOffset,h.byteLength);return g.length===h.byteLength?g:g.slice(h.byteOffset,h.byteOffset+h.byteLength)}return h instanceof Date?n.parseInputDatesAsUTC?u(h):l(h):Array.isArray(h)?o(h):typeof h=="object"?a(h,m):h.toString()},"prepareValue");function a(h,m){if(h&&typeof h.toPostgres=="function"){if(m=m||[],m.indexOf(h)!==-1)throw new Error('circular reference detected while preparing "'+h+'" for query');return m.push(h),s(h.toPostgres(s),m)}return JSON.stringify(h)}q(a,"prepareObject");function c(h,m){for(h=""+h;h.length<m;)h="0"+h;return h}q(c,"pad");function l(h){var m=-h.getTimezoneOffset(),g=h.getFullYear(),y=g<1;y&&(g=Math.abs(g)+1);var v=c(g,4)+"-"+c(h.getMonth()+1,2)+"-"+c(h.getDate(),2)+"T"+c(h.getHours(),2)+":"+c(h.getMinutes(),2)+":"+c(h.getSeconds(),2)+"."+c(h.getMilliseconds(),3);return m<0?(v+="-",m*=-1):v+="+",v+=c(Math.floor(m/60),2)+":"+c(m%60,2),y&&(v+=" BC"),v}q(l,"dateToString");function u(h){var m=h.getUTCFullYear(),g=m<1;g&&(m=Math.abs(m)+1);var y=c(m,4)+"-"+c(h.getUTCMonth()+1,2)+"-"+c(h.getUTCDate(),2)+"T"+c(h.getUTCHours(),2)+":"+c(h.getUTCMinutes(),2)+":"+c(h.getUTCSeconds(),2)+"."+c(h.getUTCMilliseconds(),3);return y+="+00:00",g&&(y+=" BC"),y}q(u,"dateToStringUTC");function d(h,m,g){return h=typeof h=="string"?{text:h}:h,m&&(typeof m=="function"?h.callback=m:h.values=m),g&&(h.callback=g),h}q(d,"normalizeQueryConfig");var p=q(function(h){return r.createHash("md5").update(h,"utf-8").digest("hex")},"md5"),f=q(function(h,m,g){var y=p(m+h),v=p(tr.concat([tr.from(y),g]));return"md5"+v},"postgresMd5PasswordHash");e.exports={prepareValue:q(function(h){return s(h)},"prepareValueWrapper"),normalizeQueryConfig:d,postgresMd5PasswordHash:f,md5:p}}),d3={};Gd(d3,{default:()=>m$e});cL=Ec(()=>{"use strict";Mt(),m$e={}}),l8t=Ir((t,e)=>{"use strict";Mt();var r=(f$e(),ts(loe));function n(m){if(m.indexOf("SCRAM-SHA-256")===-1)throw new Error("SASL: Only mechanism SCRAM-SHA-256 is currently supported");let g=r.randomBytes(18).toString("base64");return{mechanism:"SCRAM-SHA-256",clientNonce:g,response:"n,,n=*,r="+g,message:"SASLInitialResponse"}}q(n,"startSession");function i(m,g,y){if(m.message!=="SASLInitialResponse")throw new Error("SASL: Last message was not SASLInitialResponse");if(typeof g!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string");if(typeof y!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a string");let v=l(y);if(v.nonce.startsWith(m.clientNonce)){if(v.nonce.length===m.clientNonce.length)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");var S=tr.from(v.salt,"base64"),w=h(g,S,v.iteration),E=f(w,"Client Key"),I=p(E),D="n=*,r="+m.clientNonce,k="r="+v.nonce+",s="+v.salt+",i="+v.iteration,P="c=biws,r="+v.nonce,$=D+","+k+","+P,H=f(I,$),W=d(E,H),N=W.toString("base64"),_=f(w,"Server Key"),x=f(_,$);m.message="SASLResponse",m.serverSignature=x.toString("base64"),m.response=P+",p="+N}q(i,"continueSession");function o(m,g){if(m.message!=="SASLResponse")throw new Error("SASL: Last message was not SASLResponse");if(typeof g!="string")throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: serverData must be a string");let{serverSignature:y}=u(g);if(y!==m.serverSignature)throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}q(o,"finalizeSession");function s(m){if(typeof m!="string")throw new TypeError("SASL: text must be a string");return m.split("").map((g,y)=>m.charCodeAt(y)).every(g=>g>=33&&g<=43||g>=45&&g<=126)}q(s,"isPrintableChars");function a(m){return/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(m)}q(a,"isBase64");function c(m){if(typeof m!="string")throw new TypeError("SASL: attribute pairs text must be a string");return new Map(m.split(",").map(g=>{if(!/^.=/.test(g))throw new Error("SASL: Invalid attribute pair entry");let y=g[0],v=g.substring(2);return[y,v]}))}q(c,"parseAttributePairs");function l(m){let g=c(m),y=g.get("r");if(y){if(!s(y))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce must only contain printable characters")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");let v=g.get("s");if(v){if(!a(v))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");let S=g.get("i");if(S){if(!/^[1-9][0-9]*$/.test(S))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration count")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");let w=parseInt(S,10);return{nonce:y,salt:v,iteration:w}}q(l,"parseServerFirstMessage");function u(m){let g=c(m).get("v");if(g){if(!a(g))throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64")}else throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing");return{serverSignature:g}}q(u,"parseServerFinalMessage");function d(m,g){if(!tr.isBuffer(m))throw new TypeError("first argument must be a Buffer");if(!tr.isBuffer(g))throw new TypeError("second argument must be a Buffer");if(m.length!==g.length)throw new Error("Buffer lengths must match");if(m.length===0)throw new Error("Buffers cannot be empty");return tr.from(m.map((y,v)=>m[v]^g[v]))}q(d,"xorBuffers");function p(m){return r.createHash("sha256").update(m).digest()}q(p,"sha256");function f(m,g){return r.createHmac("sha256",m).update(g).digest()}q(f,"hmacSha256");function h(m,g,y){for(var v=f(m,tr.concat([g,tr.from([0,0,0,1])])),S=v,w=0;w<y-1;w++)v=f(m,v),S=d(S,v);return S}q(h,"Hi"),e.exports={startSession:n,continueSession:i,finalizeSession:o}}),uoe={};Gd(uoe,{join:()=>h$e});g$e=Ec(()=>{"use strict";Mt(),q(h$e,"join")}),doe={};Gd(doe,{stat:()=>y$e});b$e=Ec(()=>{"use strict";Mt(),q(y$e,"stat")}),poe={};Gd(poe,{default:()=>v$e});_$e=Ec(()=>{"use strict";Mt(),v$e={}}),S$e={};Gd(S$e,{StringDecoder:()=>x$e});u8t=Ec(()=>{"use strict";Mt(),roe=class{constructor(e){nr(this,"td"),this.td=new TextDecoder(e)}write(e){return this.td.decode(e,{stream:!0})}end(e){return this.td.decode(e)}},q(roe,"StringDecoder"),x$e=roe}),d8t=Ir((t,e)=>{"use strict";Mt();var{Transform:r}=(_$e(),ts(poe)),{StringDecoder:n}=(u8t(),ts(S$e)),i=Symbol("last"),o=Symbol("decoder");function s(d,p,f){let h;if(this.overflow){if(h=this[o].write(d).split(this.matcher),h.length===1)return f();h.shift(),this.overflow=!1}else this[i]+=this[o].write(d),h=this[i].split(this.matcher);this[i]=h.pop();for(let m=0;m<h.length;m++)try{c(this,this.mapper(h[m]))}catch(g){return f(g)}if(this.overflow=this[i].length>this.maxLength,this.overflow&&!this.skipOverflow){f(new Error("maximum buffer reached"));return}f()}q(s,"transform");function a(d){if(this[i]+=this[o].end(),this[i])try{c(this,this.mapper(this[i]))}catch(p){return d(p)}d()}q(a,"flush");function c(d,p){p!==void 0&&d.push(p)}q(c,"push");function l(d){return d}q(l,"noop");function u(d,p,f){switch(d=d||/\r?\n/,p=p||l,f=f||{},arguments.length){case 1:typeof d=="function"?(p=d,d=/\r?\n/):typeof d=="object"&&!(d instanceof RegExp)&&!d[Symbol.split]&&(f=d,d=/\r?\n/);break;case 2:typeof d=="function"?(f=p,p=d,d=/\r?\n/):typeof p=="object"&&(f=p,p=l)}f=Object.assign({},f),f.autoDestroy=!0,f.transform=s,f.flush=a,f.readableObjectMode=!0;let h=new r(f);return h[i]="",h[o]=new n("utf8"),h.matcher=d,h.mapper=p,h.maxLength=f.maxLength,h.skipOverflow=f.skipOverflow||!1,h.overflow=!1,h._destroy=function(m,g){this._writableState.errorEmitted=!1,g(m)},h}q(u,"split"),e.exports=u}),p8t=Ir((t,e)=>{"use strict";Mt();var r=(g$e(),ts(uoe)),n=(_$e(),ts(poe)).Stream,i=d8t(),o=(cL(),ts(d3)),s=5432,a=Rr.platform==="win32",c=Rr.stderr,l=56,u=7,d=61440,p=32768;function f(E){return(E&d)==p}q(f,"isRegFile");var h=["host","port","database","user","password"],m=h.length,g=h[m-1];function y(){var E=c instanceof n&&c.writable===!0;if(E){var I=Array.prototype.slice.call(arguments).concat(`
`);c.write(o.format.apply(o,I))}}q(y,"warn"),Object.defineProperty(e.exports,"isWin",{get:q(function(){return a},"get"),set:q(function(E){a=E},"set")}),e.exports.warnTo=function(E){var I=c;return c=E,I},e.exports.getFileName=function(E){var I=E||Rr.env,D=I.PGPASSFILE||(a?r.join(I.APPDATA||"./","postgresql","pgpass.conf"):r.join(I.HOME||"./",".pgpass"));return D},e.exports.usePgPass=function(E,I){return Object.prototype.hasOwnProperty.call(Rr.env,"PGPASSWORD")?!1:a?!0:(I=I||"<unkn>",f(E.mode)?E.mode&(l|u)?(y('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',I),!1):!0:(y('WARNING: password file "%s" is not a plain file',I),!1))};var v=e.exports.match=function(E,I){return h.slice(0,-1).reduce(function(D,k,P){return P==1&&Number(E[k]||s)===Number(I[k])?D&&!0:D&&(I[k]==="*"||I[k]===E[k])},!0)};e.exports.getPassword=function(E,I,D){var k,P=I.pipe(i());function $(N){var _=S(N);_&&w(_)&&v(E,_)&&(k=_[g],P.end())}q($,"onLine");var H=q(function(){I.destroy(),D(k)},"onEnd"),W=q(function(N){I.destroy(),y("WARNING: error on reading file: %s",N),D(void 0)},"onErr");I.on("error",W),P.on("data",$).on("end",H).on("error",W)};var S=e.exports.parseLine=function(E){if(E.length<11||E.match(/^\s+#/))return null;for(var I="",D="",k=0,P=0,$=0,H={},W=!1,N=q(function(x,R,L){var U=E.substring(R,L);Object.hasOwnProperty.call(Rr.env,"PGPASS_NO_DEESCAPE")||(U=U.replace(/\\([:\\])/g,"$1")),H[h[x]]=U},"addToObj"),_=0;_<E.length-1;_+=1){if(I=E.charAt(_+1),D=E.charAt(_),W=k==m-1,W){N(k,P);break}_>=0&&I==":"&&D!=="\\"&&(N(k,P,_+1),P=_+2,k+=1)}return H=Object.keys(H).length===m?H:null,H},w=e.exports.isValidEntry=function(E){for(var I={0:function(H){return H.length>0},1:function(H){return H==="*"?!0:(H=Number(H),isFinite(H)&&H>0&&H<9007199254740992&&Math.floor(H)===H)},2:function(H){return H.length>0},3:function(H){return H.length>0},4:function(H){return H.length>0}},D=0;D<h.length;D+=1){var k=I[D],P=E[h[D]]||"",$=k(P);if(!$)return!1}return!0}}),f8t=Ir((t,e)=>{"use strict";Mt();var r=(g$e(),ts(uoe)),n=(b$e(),ts(doe)),i=p8t();e.exports=function(o,s){var a=i.getFileName();n.stat(a,function(c,l){if(c||!i.usePgPass(l,a))return s(void 0);var u=n.createReadStream(a);i.getPassword(o,u,s)})},e.exports.warnTo=i.warnTo}),w$e={};Gd(w$e,{default:()=>A$e});m8t=Ec(()=>{"use strict";Mt(),A$e={}}),h8t=Ir((t,e)=>{"use strict";Mt();var r=(s$e(),ts(o$e)),n=(b$e(),ts(doe));function i(o){if(o.charAt(0)==="/"){var a=o.split(" ");return{host:a[0],database:a[1]}}var s=r.parse(/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(o)?encodeURI(o).replace(/\%25(\d\d)/g,"%$1"):o,!0),a=s.query;for(var c in a)Array.isArray(a[c])&&(a[c]=a[c][a[c].length-1]);var l=(s.auth||":").split(":");if(a.user=l[0],a.password=l.splice(1).join(":"),a.port=s.port,s.protocol=="socket:")return a.host=decodeURI(s.pathname),a.database=s.query.db,a.client_encoding=s.query.encoding,a;a.host||(a.host=s.hostname);var u=s.pathname;if(!a.host&&u&&/^%2f/i.test(u)){var d=u.split("/");a.host=decodeURIComponent(d[0]),u=d.splice(1).join("/")}switch(u&&u.charAt(0)==="/"&&(u=u.slice(1)||null),a.database=u&&decodeURI(u),(a.ssl==="true"||a.ssl==="1")&&(a.ssl=!0),a.ssl==="0"&&(a.ssl=!1),(a.sslcert||a.sslkey||a.sslrootcert||a.sslmode)&&(a.ssl={}),a.sslcert&&(a.ssl.cert=n.readFileSync(a.sslcert).toString()),a.sslkey&&(a.ssl.key=n.readFileSync(a.sslkey).toString()),a.sslrootcert&&(a.ssl.ca=n.readFileSync(a.sslrootcert).toString()),a.sslmode){case"disable":{a.ssl=!1;break}case"prefer":case"require":case"verify-ca":case"verify-full":break;case"no-verify":{a.ssl.rejectUnauthorized=!1;break}}return a}q(i,"parse"),e.exports=i,i.parse=i}),foe=Ir((t,e)=>{"use strict";Mt();var r=(m8t(),ts(w$e)),n=sL(),i=h8t().parse,o=q(function(d,p,f){return f===void 0?f=Rr.env["PG"+d.toUpperCase()]:f===!1||(f=Rr.env[f]),p[d]||f||n[d]},"val"),s=q(function(){switch(Rr.env.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return n.ssl},"readSSLConfigFromEnvironment"),a=q(function(d){return"'"+(""+d).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},"quoteParamValue"),c=q(function(d,p,f){var h=p[f];h!=null&&d.push(f+"="+a(h))},"add"),l=class{constructor(p){p=typeof p=="string"?i(p):p||{},p.connectionString&&(p=Object.assign({},p,i(p.connectionString))),this.user=o("user",p),this.database=o("database",p),this.database===void 0&&(this.database=this.user),this.port=parseInt(o("port",p),10),this.host=o("host",p),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:o("password",p)}),this.binary=o("binary",p),this.options=o("options",p),this.ssl=typeof p.ssl>"u"?s():p.ssl,typeof this.ssl=="string"&&this.ssl==="true"&&(this.ssl=!0),this.ssl==="no-verify"&&(this.ssl={rejectUnauthorized:!1}),this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this.client_encoding=o("client_encoding",p),this.replication=o("replication",p),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=o("application_name",p,"PGAPPNAME"),this.fallback_application_name=o("fallback_application_name",p,!1),this.statement_timeout=o("statement_timeout",p,!1),this.lock_timeout=o("lock_timeout",p,!1),this.idle_in_transaction_session_timeout=o("idle_in_transaction_session_timeout",p,!1),this.query_timeout=o("query_timeout",p,!1),p.connectionTimeoutMillis===void 0?this.connect_timeout=Rr.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(p.connectionTimeoutMillis/1e3),p.keepAlive===!1?this.keepalives=0:p.keepAlive===!0&&(this.keepalives=1),typeof p.keepAliveInitialDelayMillis=="number"&&(this.keepalives_idle=Math.floor(p.keepAliveInitialDelayMillis/1e3))}getLibpqConnectionString(p){var f=[];c(f,this,"user"),c(f,this,"password"),c(f,this,"port"),c(f,this,"application_name"),c(f,this,"fallback_application_name"),c(f,this,"connect_timeout"),c(f,this,"options");var h=typeof this.ssl=="object"?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(c(f,h,"sslmode"),c(f,h,"sslca"),c(f,h,"sslkey"),c(f,h,"sslcert"),c(f,h,"sslrootcert"),this.database&&f.push("dbname="+a(this.database)),this.replication&&f.push("replication="+a(this.replication)),this.host&&f.push("host="+a(this.host)),this.isDomainSocket)return p(null,f.join(" "));this.client_encoding&&f.push("client_encoding="+a(this.client_encoding)),r.lookup(this.host,function(m,g){return m?p(m,null):(f.push("hostaddr="+a(g)),p(null,f.join(" ")))})}};q(l,"ConnectionParameters");var u=l;e.exports=u}),g8t=Ir((t,e)=>{"use strict";Mt();var r=oL(),n=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/,i=class{constructor(a,c){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=c,this.RowCtor=null,this.rowAsArray=a==="array",this.rowAsArray&&(this.parseRow=this._parseRowAsArray)}addCommandComplete(a){var c;a.text?c=n.exec(a.text):c=n.exec(a.command),c&&(this.command=c[1],c[3]?(this.oid=parseInt(c[2],10),this.rowCount=parseInt(c[3],10)):c[2]&&(this.rowCount=parseInt(c[2],10)))}_parseRowAsArray(a){for(var c=new Array(a.length),l=0,u=a.length;l<u;l++){var d=a[l];d!==null?c[l]=this._parsers[l](d):c[l]=null}return c}parseRow(a){for(var c={},l=0,u=a.length;l<u;l++){var d=a[l],p=this.fields[l].name;d!==null?c[p]=this._parsers[l](d):c[p]=null}return c}addRow(a){this.rows.push(a)}addFields(a){this.fields=a,this.fields.length&&(this._parsers=new Array(a.length));for(var c=0;c<a.length;c++){var l=a[c];this._types?this._parsers[c]=this._types.getTypeParser(l.dataTypeID,l.format||"text"):this._parsers[c]=r.getTypeParser(l.dataTypeID,l.format||"text")}}};q(i,"Result");var o=i;e.exports=o}),y8t=Ir((t,e)=>{"use strict";Mt();var{EventEmitter:r}=uv(),n=g8t(),i=aL(),o=class extends r{constructor(c,l,u){super(),c=i.normalizeQueryConfig(c,l,u),this.text=c.text,this.values=c.values,this.rows=c.rows,this.types=c.types,this.name=c.name,this.binary=c.binary,this.portal=c.portal||"",this.callback=c.callback,this._rowMode=c.rowMode,Rr.domain&&c.callback&&(this.callback=Rr.domain.bind(c.callback)),this._result=new n(this._rowMode,this.types),this._results=this._result,this.isPreparedStatement=!1,this._canceledDueToError=!1,this._promise=null}requiresPreparation(){return this.name||this.rows?!0:!this.text||!this.values?!1:this.values.length>0}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new n(this._rowMode,this.types),this._results.push(this._result))}handleRowDescription(c){this._checkForMultirow(),this._result.addFields(c.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(c){let l;if(!this._canceledDueToError){try{l=this._result.parseRow(c.fields)}catch(u){this._canceledDueToError=u;return}this.emit("row",l,this._result),this._accumulateRows&&this._result.addRow(l)}}handleCommandComplete(c,l){this._checkForMultirow(),this._result.addCommandComplete(c),this.rows&&l.sync()}handleEmptyQuery(c){this.rows&&c.sync()}handleError(c,l){if(this._canceledDueToError&&(c=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(c);this.emit("error",c)}handleReadyForQuery(c){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,c);if(this.callback)try{this.callback(null,this._results)}catch(l){Rr.nextTick(()=>{throw l})}this.emit("end",this._results)}submit(c){if(typeof this.text!="string"&&typeof this.name!="string")return new Error("A query must have either text or a name. Supplying neither is unsupported.");let l=c.parsedStatements[this.name];return this.text&&l&&this.text!==l?new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`):this.values&&!Array.isArray(this.values)?new Error("Query values must be an array"):(this.requiresPreparation()?this.prepare(c):c.query(this.text),null)}hasBeenParsed(c){return this.name&&c.parsedStatements[this.name]}handlePortalSuspended(c){this._getRows(c,this.rows)}_getRows(c,l){c.execute({portal:this.portal,rows:l}),l?c.flush():c.sync()}prepare(c){this.isPreparedStatement=!0,this.hasBeenParsed(c)||c.parse({text:this.text,name:this.name,types:this.types});try{c.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary,valueMapper:i.prepareValue})}catch(l){this.handleError(l,c);return}c.describe({type:"P",name:this.portal||""}),this._getRows(c,this.rows)}handleCopyInResponse(c){c.sendCopyFail("No source stream defined")}handleCopyData(c,l){}};q(o,"Query");var s=o;e.exports=s}),E$e=Ir(t=>{"use strict";Mt(),Object.defineProperty(t,"__esModule",{value:!0}),t.NoticeMessage=t.DataRowMessage=t.CommandCompleteMessage=t.ReadyForQueryMessage=t.NotificationResponseMessage=t.BackendKeyDataMessage=t.AuthenticationMD5Password=t.ParameterStatusMessage=t.ParameterDescriptionMessage=t.RowDescriptionMessage=t.Field=t.CopyResponse=t.CopyDataMessage=t.DatabaseError=t.copyDone=t.emptyQuery=t.replicationStart=t.portalSuspended=t.noData=t.closeComplete=t.bindComplete=t.parseComplete=void 0,t.parseComplete={name:"parseComplete",length:5},t.bindComplete={name:"bindComplete",length:5},t.closeComplete={name:"closeComplete",length:5},t.noData={name:"noData",length:5},t.portalSuspended={name:"portalSuspended",length:5},t.replicationStart={name:"replicationStart",length:4},t.emptyQuery={name:"emptyQuery",length:4},t.copyDone={name:"copyDone",length:4};var e=class extends Error{constructor(_,x,R){super(_),this.length=x,this.name=R}};q(e,"DatabaseError");var r=e;t.DatabaseError=r;var n=class{constructor(_,x){this.length=_,this.chunk=x,this.name="copyData"}};q(n,"CopyDataMessage");var i=n;t.CopyDataMessage=i;var o=class{constructor(_,x,R,L){this.length=_,this.name=x,this.binary=R,this.columnTypes=new Array(L)}};q(o,"CopyResponse");var s=o;t.CopyResponse=s;var a=class{constructor(_,x,R,L,U,j,Q){this.name=_,this.tableID=x,this.columnID=R,this.dataTypeID=L,this.dataTypeSize=U,this.dataTypeModifier=j,this.format=Q}};q(a,"Field");var c=a;t.Field=c;var l=class{constructor(_,x){this.length=_,this.fieldCount=x,this.name="rowDescription",this.fields=new Array(this.fieldCount)}};q(l,"RowDescriptionMessage");var u=l;t.RowDescriptionMessage=u;var d=class{constructor(_,x){this.length=_,this.parameterCount=x,this.name="parameterDescription",this.dataTypeIDs=new Array(this.parameterCount)}};q(d,"ParameterDescriptionMessage");var p=d;t.ParameterDescriptionMessage=p;var f=class{constructor(_,x,R){this.length=_,this.parameterName=x,this.parameterValue=R,this.name="parameterStatus"}};q(f,"ParameterStatusMessage");var h=f;t.ParameterStatusMessage=h;var m=class{constructor(_,x){this.length=_,this.salt=x,this.name="authenticationMD5Password"}};q(m,"AuthenticationMD5Password");var g=m;t.AuthenticationMD5Password=g;var y=class{constructor(_,x,R){this.length=_,this.processID=x,this.secretKey=R,this.name="backendKeyData"}};q(y,"BackendKeyDataMessage");var v=y;t.BackendKeyDataMessage=v;var S=class{constructor(_,x,R,L){this.length=_,this.processId=x,this.channel=R,this.payload=L,this.name="notification"}};q(S,"NotificationResponseMessage");var w=S;t.NotificationResponseMessage=w;var E=class{constructor(_,x){this.length=_,this.status=x,this.name="readyForQuery"}};q(E,"ReadyForQueryMessage");var I=E;t.ReadyForQueryMessage=I;var D=class{constructor(_,x){this.length=_,this.text=x,this.name="commandComplete"}};q(D,"CommandCompleteMessage");var k=D;t.CommandCompleteMessage=k;var P=class{constructor(_,x){this.length=_,this.fields=x,this.name="dataRow",this.fieldCount=x.length}};q(P,"DataRowMessage");var $=P;t.DataRowMessage=$;var H=class{constructor(_,x){this.length=_,this.message=x,this.name="notice"}};q(H,"NoticeMessage");var W=H;t.NoticeMessage=W}),b8t=Ir(t=>{"use strict";Mt(),Object.defineProperty(t,"__esModule",{value:!0}),t.Writer=void 0;var e=class{constructor(i=256){this.size=i,this.offset=5,this.headerPosition=0,this.buffer=tr.allocUnsafe(i)}ensure(i){if(this.buffer.length-this.offset<i){let o=this.buffer,s=o.length+(o.length>>1)+i;this.buffer=tr.allocUnsafe(s),o.copy(this.buffer)}}addInt32(i){return this.ensure(4),this.buffer[this.offset++]=i>>>24&255,this.buffer[this.offset++]=i>>>16&255,this.buffer[this.offset++]=i>>>8&255,this.buffer[this.offset++]=i>>>0&255,this}addInt16(i){return this.ensure(2),this.buffer[this.offset++]=i>>>8&255,this.buffer[this.offset++]=i>>>0&255,this}addCString(i){if(!i)this.ensure(1);else{let o=tr.byteLength(i);this.ensure(o+1),this.buffer.write(i,this.offset,"utf-8"),this.offset+=o}return this.buffer[this.offset++]=0,this}addString(i=""){let o=tr.byteLength(i);return this.ensure(o),this.buffer.write(i,this.offset),this.offset+=o,this}add(i){return this.ensure(i.length),i.copy(this.buffer,this.offset),this.offset+=i.length,this}join(i){if(i){this.buffer[this.headerPosition]=i;let o=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(o,this.headerPosition+1)}return this.buffer.slice(i?0:5,this.offset)}flush(i){let o=this.join(i);return this.offset=5,this.headerPosition=0,this.buffer=tr.allocUnsafe(this.size),o}};q(e,"Writer");var r=e;t.Writer=r}),v8t=Ir(t=>{"use strict";Mt(),Object.defineProperty(t,"__esModule",{value:!0}),t.serialize=void 0;var e=b8t(),r=new e.Writer,n=q(_=>{r.addInt16(3).addInt16(0);for(let L of Object.keys(_))r.addCString(L).addCString(_[L]);r.addCString("client_encoding").addCString("UTF8");let x=r.addCString("").flush(),R=x.length+4;return new e.Writer().addInt32(R).add(x).flush()},"startup"),i=q(()=>{let _=tr.allocUnsafe(8);return _.writeInt32BE(8,0),_.writeInt32BE(80877103,4),_},"requestSsl"),o=q(_=>r.addCString(_).flush(112),"password"),s=q(function(_,x){return r.addCString(_).addInt32(tr.byteLength(x)).addString(x),r.flush(112)},"sendSASLInitialResponseMessage"),a=q(function(_){return r.addString(_).flush(112)},"sendSCRAMClientFinalMessage"),c=q(_=>r.addCString(_).flush(81),"query"),l=[],u=q(_=>{let x=_.name||"";x.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",x,x.length),console.error("This can cause conflicts and silent errors executing queries"));let R=_.types||l,L=R.length,U=r.addCString(x).addCString(_.text).addInt16(L);for(let j=0;j<L;j++)U.addInt32(R[j]);return r.flush(80)},"parse"),d=new e.Writer,p=q(function(_,x){for(let R=0;R<_.length;R++){let L=x?x(_[R],R):_[R];L==null?(r.addInt16(0),d.addInt32(-1)):L instanceof tr?(r.addInt16(1),d.addInt32(L.length),d.add(L)):(r.addInt16(0),d.addInt32(tr.byteLength(L)),d.addString(L))}},"writeValues"),f=q((_={})=>{let x=_.portal||"",R=_.statement||"",L=_.binary||!1,U=_.values||l,j=U.length;return r.addCString(x).addCString(R),r.addInt16(j),p(U,_.valueMapper),r.addInt16(j),r.add(d.flush()),r.addInt16(L?1:0),r.flush(66)},"bind"),h=tr.from([69,0,0,0,9,0,0,0,0,0]),m=q(_=>{if(!_||!_.portal&&!_.rows)return h;let x=_.portal||"",R=_.rows||0,L=tr.byteLength(x),U=4+L+1+4,j=tr.allocUnsafe(1+U);return j[0]=69,j.writeInt32BE(U,1),j.write(x,5,"utf-8"),j[L+5]=0,j.writeUInt32BE(R,j.length-4),j},"execute"),g=q((_,x)=>{let R=tr.allocUnsafe(16);return R.writeInt32BE(16,0),R.writeInt16BE(1234,4),R.writeInt16BE(5678,6),R.writeInt32BE(_,8),R.writeInt32BE(x,12),R},"cancel"),y=q((_,x)=>{let R=4+tr.byteLength(x)+1,L=tr.allocUnsafe(1+R);return L[0]=_,L.writeInt32BE(R,1),L.write(x,5,"utf-8"),L[R]=0,L},"cstringMessage"),v=r.addCString("P").flush(68),S=r.addCString("S").flush(68),w=q(_=>_.name?y(68,`${_.type}${_.name||""}`):_.type==="P"?v:S,"describe"),E=q(_=>{let x=`${_.type}${_.name||""}`;return y(67,x)},"close"),I=q(_=>r.add(_).flush(100),"copyData"),D=q(_=>y(102,_),"copyFail"),k=q(_=>tr.from([_,0,0,0,4]),"codeOnlyBuffer"),P=k(72),$=k(83),H=k(88),W=k(99),N={startup:n,password:o,requestSsl:i,sendSASLInitialResponseMessage:s,sendSCRAMClientFinalMessage:a,query:c,parse:u,bind:f,execute:m,describe:w,close:E,flush:q(()=>P,"flush"),sync:q(()=>$,"sync"),end:q(()=>H,"end"),copyData:I,copyDone:q(()=>W,"copyDone"),copyFail:D,cancel:g};t.serialize=N}),_8t=Ir(t=>{"use strict";Mt(),Object.defineProperty(t,"__esModule",{value:!0}),t.BufferReader=void 0;var e=tr.allocUnsafe(0),r=class{constructor(o=0){this.offset=o,this.buffer=e,this.encoding="utf-8"}setBuffer(o,s){this.offset=o,this.buffer=s}int16(){let o=this.buffer.readInt16BE(this.offset);return this.offset+=2,o}byte(){let o=this.buffer[this.offset];return this.offset++,o}int32(){let o=this.buffer.readInt32BE(this.offset);return this.offset+=4,o}uint32(){let o=this.buffer.readUInt32BE(this.offset);return this.offset+=4,o}string(o){let s=this.buffer.toString(this.encoding,this.offset,this.offset+o);return this.offset+=o,s}cstring(){let o=this.offset,s=o;for(;this.buffer[s++]!==0;);return this.offset=s,this.buffer.toString(this.encoding,o,s-1)}bytes(o){let s=this.buffer.slice(this.offset,this.offset+o);return this.offset+=o,s}};q(r,"BufferReader");var n=r;t.BufferReader=n}),S8t=Ir(t=>{"use strict";Mt(),Object.defineProperty(t,"__esModule",{value:!0}),t.Parser=void 0;var e=E$e(),r=_8t(),n=1,i=4,o=n+i,s=tr.allocUnsafe(0),a=class{constructor(u){if(this.buffer=s,this.bufferLength=0,this.bufferOffset=0,this.reader=new r.BufferReader,u?.mode==="binary")throw new Error("Binary mode not supported yet");this.mode=u?.mode||"text"}parse(u,d){this.mergeBuffer(u);let p=this.bufferOffset+this.bufferLength,f=this.bufferOffset;for(;f+o<=p;){let h=this.buffer[f],m=this.buffer.readUInt32BE(f+n),g=n+m;if(g+f<=p){let y=this.handlePacket(f+o,h,m,this.buffer);d(y),f+=g}else break}f===p?(this.buffer=s,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=p-f,this.bufferOffset=f)}mergeBuffer(u){if(this.bufferLength>0){let d=this.bufferLength+u.byteLength;if(d+this.bufferOffset>this.buffer.byteLength){let p;if(d<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)p=this.buffer;else{let f=this.buffer.byteLength*2;for(;d>=f;)f*=2;p=tr.allocUnsafe(f)}this.buffer.copy(p,0,this.bufferOffset,this.bufferOffset+this.bufferLength),this.buffer=p,this.bufferOffset=0}u.copy(this.buffer,this.bufferOffset+this.bufferLength),this.bufferLength=d}else this.buffer=u,this.bufferOffset=0,this.bufferLength=u.byteLength}handlePacket(u,d,p,f){switch(d){case 50:return e.bindComplete;case 49:return e.parseComplete;case 51:return e.closeComplete;case 110:return e.noData;case 115:return e.portalSuspended;case 99:return e.copyDone;case 87:return e.replicationStart;case 73:return e.emptyQuery;case 68:return this.parseDataRowMessage(u,p,f);case 67:return this.parseCommandCompleteMessage(u,p,f);case 90:return this.parseReadyForQueryMessage(u,p,f);case 65:return this.parseNotificationMessage(u,p,f);case 82:return this.parseAuthenticationResponse(u,p,f);case 83:return this.parseParameterStatusMessage(u,p,f);case 75:return this.parseBackendKeyData(u,p,f);case 69:return this.parseErrorMessage(u,p,f,"error");case 78:return this.parseErrorMessage(u,p,f,"notice");case 84:return this.parseRowDescriptionMessage(u,p,f);case 116:return this.parseParameterDescriptionMessage(u,p,f);case 71:return this.parseCopyInMessage(u,p,f);case 72:return this.parseCopyOutMessage(u,p,f);case 100:return this.parseCopyData(u,p,f);default:return new e.DatabaseError("received invalid response: "+d.toString(16),p,"error")}}parseReadyForQueryMessage(u,d,p){this.reader.setBuffer(u,p);let f=this.reader.string(1);return new e.ReadyForQueryMessage(d,f)}parseCommandCompleteMessage(u,d,p){this.reader.setBuffer(u,p);let f=this.reader.cstring();return new e.CommandCompleteMessage(d,f)}parseCopyData(u,d,p){let f=p.slice(u,u+(d-4));return new e.CopyDataMessage(d,f)}parseCopyInMessage(u,d,p){return this.parseCopyMessage(u,d,p,"copyInResponse")}parseCopyOutMessage(u,d,p){return this.parseCopyMessage(u,d,p,"copyOutResponse")}parseCopyMessage(u,d,p,f){this.reader.setBuffer(u,p);let h=this.reader.byte()!==0,m=this.reader.int16(),g=new e.CopyResponse(d,f,h,m);for(let y=0;y<m;y++)g.columnTypes[y]=this.reader.int16();return g}parseNotificationMessage(u,d,p){this.reader.setBuffer(u,p);let f=this.reader.int32(),h=this.reader.cstring(),m=this.reader.cstring();return new e.NotificationResponseMessage(d,f,h,m)}parseRowDescriptionMessage(u,d,p){this.reader.setBuffer(u,p);let f=this.reader.int16(),h=new e.RowDescriptionMessage(d,f);for(let m=0;m<f;m++)h.fields[m]=this.parseField();return h}parseField(){let u=this.reader.cstring(),d=this.reader.uint32(),p=this.reader.int16(),f=this.reader.uint32(),h=this.reader.int16(),m=this.reader.int32(),g=this.reader.int16()===0?"text":"binary";return new e.Field(u,d,p,f,h,m,g)}parseParameterDescriptionMessage(u,d,p){this.reader.setBuffer(u,p);let f=this.reader.int16(),h=new e.ParameterDescriptionMessage(d,f);for(let m=0;m<f;m++)h.dataTypeIDs[m]=this.reader.int32();return h}parseDataRowMessage(u,d,p){this.reader.setBuffer(u,p);let f=this.reader.int16(),h=new Array(f);for(let m=0;m<f;m++){let g=this.reader.int32();h[m]=g===-1?null:this.reader.string(g)}return new e.DataRowMessage(d,h)}parseParameterStatusMessage(u,d,p){this.reader.setBuffer(u,p);let f=this.reader.cstring(),h=this.reader.cstring();return new e.ParameterStatusMessage(d,f,h)}parseBackendKeyData(u,d,p){this.reader.setBuffer(u,p);let f=this.reader.int32(),h=this.reader.int32();return new e.BackendKeyDataMessage(d,f,h)}parseAuthenticationResponse(u,d,p){this.reader.setBuffer(u,p);let f=this.reader.int32(),h={name:"authenticationOk",length:d};switch(f){case 0:break;case 3:h.length===8&&(h.name="authenticationCleartextPassword");break;case 5:if(h.length===12){h.name="authenticationMD5Password";let m=this.reader.bytes(4);return new e.AuthenticationMD5Password(d,m)}break;case 10:{h.name="authenticationSASL",h.mechanisms=[];let m;do m=this.reader.cstring(),m&&h.mechanisms.push(m);while(m)}break;case 11:h.name="authenticationSASLContinue",h.data=this.reader.string(d-8);break;case 12:h.name="authenticationSASLFinal",h.data=this.reader.string(d-8);break;default:throw new Error("Unknown authenticationOk message type "+f)}return h}parseErrorMessage(u,d,p,f){this.reader.setBuffer(u,p);let h={},m=this.reader.string(1);for(;m!=="\0";)h[m]=this.reader.cstring(),m=this.reader.string(1);let g=h.M,y=f==="notice"?new e.NoticeMessage(d,g):new e.DatabaseError(g,d,f);return y.severity=h.S,y.code=h.C,y.detail=h.D,y.hint=h.H,y.position=h.P,y.internalPosition=h.p,y.internalQuery=h.q,y.where=h.W,y.schema=h.s,y.table=h.t,y.column=h.c,y.dataType=h.d,y.constraint=h.n,y.file=h.F,y.line=h.L,y.routine=h.R,y}};q(a,"Parser");var c=a;t.Parser=c}),T$e=Ir(t=>{"use strict";Mt(),Object.defineProperty(t,"__esModule",{value:!0}),t.DatabaseError=t.serialize=t.parse=void 0;var e=E$e();Object.defineProperty(t,"DatabaseError",{enumerable:!0,get:q(function(){return e.DatabaseError},"get")});var r=v8t();Object.defineProperty(t,"serialize",{enumerable:!0,get:q(function(){return r.serialize},"get")});var n=S8t();function i(o,s){let a=new n.Parser;return o.on("data",c=>a.parse(c,s)),new Promise(c=>o.on("end",()=>c()))}q(i,"parse"),t.parse=i}),R$e={};Gd(R$e,{connect:()=>I$e});x8t=Ec(()=>{"use strict";Mt(),q(I$e,"connect")}),C$e=Ir((t,e)=>{"use strict";Mt();var r=(u3(),ts(n$e)),n=uv().EventEmitter,{parse:i,serialize:o}=T$e(),s=o.flush(),a=o.sync(),c=o.end(),l=class extends n{constructor(p){super(),p=p||{},this.stream=p.stream||new r.Socket,this._keepAlive=p.keepAlive,this._keepAliveInitialDelayMillis=p.keepAliveInitialDelayMillis,this.lastBuffer=!1,this.parsedStatements={},this.ssl=p.ssl||!1,this._ending=!1,this._emitMessage=!1;var f=this;this.on("newListener",function(h){h==="message"&&(f._emitMessage=!0)})}connect(p,f){var h=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(p,f),this.stream.once("connect",function(){h._keepAlive&&h.stream.setKeepAlive(!0,h._keepAliveInitialDelayMillis),h.emit("connect")});let m=q(function(g){h._ending&&(g.code==="ECONNRESET"||g.code==="EPIPE")||h.emit("error",g)},"reportStreamError");if(this.stream.on("error",m),this.stream.on("close",function(){h.emit("end")}),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",function(g){var y=g.toString("utf8");switch(y){case"S":break;case"N":return h.stream.end(),h.emit("error",new Error("The server does not support SSL connections"));default:return h.stream.end(),h.emit("error",new Error("There was an error establishing an SSL connection"))}var v=(x8t(),ts(R$e));let S={socket:h.stream};h.ssl!==!0&&(Object.assign(S,h.ssl),"key"in h.ssl&&(S.key=h.ssl.key)),r.isIP(f)===0&&(S.servername=f);try{h.stream=v.connect(S)}catch(w){return h.emit("error",w)}h.attachListeners(h.stream),h.stream.on("error",m),h.emit("sslconnect")})}attachListeners(p){p.on("end",()=>{this.emit("end")}),i(p,f=>{var h=f.name==="error"?"errorMessage":f.name;this._emitMessage&&this.emit("message",f),this.emit(h,f)})}requestSsl(){this.stream.write(o.requestSsl())}startup(p){this.stream.write(o.startup(p))}cancel(p,f){this._send(o.cancel(p,f))}password(p){this._send(o.password(p))}sendSASLInitialResponseMessage(p,f){this._send(o.sendSASLInitialResponseMessage(p,f))}sendSCRAMClientFinalMessage(p){this._send(o.sendSCRAMClientFinalMessage(p))}_send(p){return this.stream.writable?this.stream.write(p):!1}query(p){this._send(o.query(p))}parse(p){this._send(o.parse(p))}bind(p){this._send(o.bind(p))}execute(p){this._send(o.execute(p))}flush(){this.stream.writable&&this.stream.write(s)}sync(){this._ending=!0,this._send(s),this._send(a)}ref(){this.stream.ref()}unref(){this.stream.unref()}end(){if(this._ending=!0,!this._connecting||!this.stream.writable){this.stream.end();return}return this.stream.write(c,()=>{this.stream.end()})}close(p){this._send(o.close(p))}describe(p){this._send(o.describe(p))}sendCopyFromChunk(p){this._send(o.copyData(p))}endCopyFrom(){this._send(o.copyDone())}sendCopyFail(p){this._send(o.copyFail(p))}};q(l,"Connection");var u=l;e.exports=u}),w8t=Ir((t,e)=>{"use strict";Mt();var r=uv().EventEmitter,n=(cL(),ts(d3)),i=aL(),o=l8t(),s=f8t(),a=coe(),c=foe(),l=y8t(),u=sL(),d=C$e(),p=class extends r{constructor(m){super(),this.connectionParameters=new c(m),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;var g=m||{};this._Promise=g.Promise||iL.Promise,this._types=new a(g.types),this._ending=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.connection=g.connection||new d({stream:g.stream,ssl:this.connectionParameters.ssl,keepAlive:g.keepAlive||!1,keepAliveInitialDelayMillis:g.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=g.binary||u.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this._connectionTimeoutMillis=g.connectionTimeoutMillis||0}_errorAllQueries(m){let g=q(y=>{Rr.nextTick(()=>{y.handleError(m,this.connection)})},"enqueueError");this.activeQuery&&(g(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(g),this.queryQueue.length=0}_connect(m){var g=this,y=this.connection;if(this._connectionCallback=m,this._connecting||this._connected){let v=new Error("Client has already been connected. You cannot reuse a client.");Rr.nextTick(()=>{m(v)});return}this._connecting=!0,this.connectionTimeoutHandle,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{y._ending=!0,y.stream.destroy(new Error("timeout expired"))},this._connectionTimeoutMillis)),this.host&&this.host.indexOf("/")===0?y.connect(this.host+"/.s.PGSQL."+this.port):y.connect(this.port,this.host),y.on("connect",function(){g.ssl?y.requestSsl():y.startup(g.getStartupConf())}),y.on("sslconnect",function(){y.startup(g.getStartupConf())}),this._attachListeners(y),y.once("end",()=>{let v=this._ending?new Error("Connection terminated"):new Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(v),this._ending||(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(v):this._handleErrorEvent(v):this._connectionError||this._handleErrorEvent(v)),Rr.nextTick(()=>{this.emit("end")})})}connect(m){if(m){this._connect(m);return}return new this._Promise((g,y)=>{this._connect(v=>{v?y(v):g()})})}_attachListeners(m){m.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),m.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),m.on("authenticationSASL",this._handleAuthSASL.bind(this)),m.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),m.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),m.on("backendKeyData",this._handleBackendKeyData.bind(this)),m.on("error",this._handleErrorEvent.bind(this)),m.on("errorMessage",this._handleErrorMessage.bind(this)),m.on("readyForQuery",this._handleReadyForQuery.bind(this)),m.on("notice",this._handleNotice.bind(this)),m.on("rowDescription",this._handleRowDescription.bind(this)),m.on("dataRow",this._handleDataRow.bind(this)),m.on("portalSuspended",this._handlePortalSuspended.bind(this)),m.on("emptyQuery",this._handleEmptyQuery.bind(this)),m.on("commandComplete",this._handleCommandComplete.bind(this)),m.on("parseComplete",this._handleParseComplete.bind(this)),m.on("copyInResponse",this._handleCopyInResponse.bind(this)),m.on("copyData",this._handleCopyData.bind(this)),m.on("notification",this._handleNotification.bind(this))}_checkPgPass(m){let g=this.connection;typeof this.password=="function"?this._Promise.resolve().then(()=>this.password()).then(y=>{if(y!==void 0){if(typeof y!="string"){g.emit("error",new TypeError("Password must be a string"));return}this.connectionParameters.password=this.password=y}else this.connectionParameters.password=this.password=null;m()}).catch(y=>{g.emit("error",y)}):this.password!==null?m():s(this.connectionParameters,y=>{y!==void 0&&(this.connectionParameters.password=this.password=y),m()})}_handleAuthCleartextPassword(m){this._checkPgPass(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(m){this._checkPgPass(()=>{let g=i.postgresMd5PasswordHash(this.user,this.password,m.salt);this.connection.password(g)})}_handleAuthSASL(m){this._checkPgPass(()=>{this.saslSession=o.startSession(m.mechanisms),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)})}_handleAuthSASLContinue(m){o.continueSession(this.saslSession,this.password,m.data),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}_handleAuthSASLFinal(m){o.finalizeSession(this.saslSession,m.data),this.saslSession=null}_handleBackendKeyData(m){this.processID=m.processID,this.secretKey=m.secretKey}_handleReadyForQuery(m){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));let{activeQuery:g}=this;this.activeQuery=null,this.readyForQuery=!0,g&&g.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(m){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(m);this.emit("error",m)}}_handleErrorEvent(m){if(this._connecting)return this._handleErrorWhileConnecting(m);this._queryable=!1,this._errorAllQueries(m),this.emit("error",m)}_handleErrorMessage(m){if(this._connecting)return this._handleErrorWhileConnecting(m);let g=this.activeQuery;if(!g){this._handleErrorEvent(m);return}this.activeQuery=null,g.handleError(m,this.connection)}_handleRowDescription(m){this.activeQuery.handleRowDescription(m)}_handleDataRow(m){this.activeQuery.handleDataRow(m)}_handlePortalSuspended(m){this.activeQuery.handlePortalSuspended(this.connection)}_handleEmptyQuery(m){this.activeQuery.handleEmptyQuery(this.connection)}_handleCommandComplete(m){this.activeQuery.handleCommandComplete(m,this.connection)}_handleParseComplete(m){this.activeQuery.name&&(this.connection.parsedStatements[this.activeQuery.name]=this.activeQuery.text)}_handleCopyInResponse(m){this.activeQuery.handleCopyInResponse(this.connection)}_handleCopyData(m){this.activeQuery.handleCopyData(m,this.connection)}_handleNotification(m){this.emit("notification",m)}_handleNotice(m){this.emit("notice",m)}getStartupConf(){var m=this.connectionParameters,g={user:m.user,database:m.database},y=m.application_name||m.fallback_application_name;return y&&(g.application_name=y),m.replication&&(g.replication=""+m.replication),m.statement_timeout&&(g.statement_timeout=String(parseInt(m.statement_timeout,10))),m.lock_timeout&&(g.lock_timeout=String(parseInt(m.lock_timeout,10))),m.idle_in_transaction_session_timeout&&(g.idle_in_transaction_session_timeout=String(parseInt(m.idle_in_transaction_session_timeout,10))),m.options&&(g.options=m.options),g}cancel(m,g){if(m.activeQuery===g){var y=this.connection;this.host&&this.host.indexOf("/")===0?y.connect(this.host+"/.s.PGSQL."+this.port):y.connect(this.port,this.host),y.on("connect",function(){y.cancel(m.processID,m.secretKey)})}else m.queryQueue.indexOf(g)!==-1&&m.queryQueue.splice(m.queryQueue.indexOf(g),1)}setTypeParser(m,g,y){return this._types.setTypeParser(m,g,y)}getTypeParser(m,g){return this._types.getTypeParser(m,g)}escapeIdentifier(m){return'"'+m.replace(/"/g,'""')+'"'}escapeLiteral(m){for(var g=!1,y="'",v=0;v<m.length;v++){var S=m[v];S==="'"?y+=S+S:S==="\\"?(y+=S+S,g=!0):y+=S}return y+="'",g===!0&&(y=" E"+y),y}_pulseQueryQueue(){if(this.readyForQuery===!0)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;let m=this.activeQuery.submit(this.connection);m&&Rr.nextTick(()=>{this.activeQuery.handleError(m,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))}query(m,g,y){var v,S,w,E,I;if(m==null)throw new TypeError("Client was passed a null or undefined query");return typeof m.submit=="function"?(w=m.query_timeout||this.connectionParameters.query_timeout,S=v=m,typeof g=="function"&&(v.callback=v.callback||g)):(w=this.connectionParameters.query_timeout,v=new l(m,g,y),v.callback||(S=new this._Promise((D,k)=>{v.callback=(P,$)=>P?k(P):D($)}))),w&&(I=v.callback,E=setTimeout(()=>{var D=new Error("Query read timeout");Rr.nextTick(()=>{v.handleError(D,this.connection)}),I(D),v.callback=()=>{};var k=this.queryQueue.indexOf(v);k>-1&&this.queryQueue.splice(k,1),this._pulseQueryQueue()},w),v.callback=(D,k)=>{clearTimeout(E),I(D,k)}),this.binary&&!v.binary&&(v.binary=!0),v._result&&!v._result._types&&(v._result._types=this._types),this._queryable?this._ending?(Rr.nextTick(()=>{v.handleError(new Error("Client was closed and is not queryable"),this.connection)}),S):(this.queryQueue.push(v),this._pulseQueryQueue(),S):(Rr.nextTick(()=>{v.handleError(new Error("Client has encountered a connection error and is not queryable"),this.connection)}),S)}ref(){this.connection.ref()}unref(){this.connection.unref()}end(m){if(this._ending=!0,!this.connection._connecting)if(m)m();else return this._Promise.resolve();if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),m)this.connection.once("end",m);else return new this._Promise(g=>{this.connection.once("end",g)})}};q(p,"Client");var f=p;f.Query=l,e.exports=f}),A8t=Ir((t,e)=>{"use strict";Mt();var r=uv().EventEmitter,n=q(function(){},"NOOP"),i=q((h,m)=>{let g=h.findIndex(m);return g===-1?void 0:h.splice(g,1)[0]},"removeWhere"),o=class{constructor(m,g,y){this.client=m,this.idleListener=g,this.timeoutId=y}};q(o,"IdleItem");var s=o,a=class{constructor(m){this.callback=m}};q(a,"PendingItem");var c=a;function l(){throw new Error("Release called on client which has already been released to the pool.")}q(l,"throwOnDoubleRelease");function u(h,m){if(m)return{callback:m,result:void 0};let g,y,v=q(function(w,E){w?g(w):y(E)},"cb"),S=new h(function(w,E){y=w,g=E}).catch(w=>{throw Error.captureStackTrace(w),w});return{callback:v,result:S}}q(u,"promisify");function d(h,m){return q(function g(y){y.client=m,m.removeListener("error",g),m.on("error",()=>{h.log("additional client error after disconnection due to error",y)}),h._remove(m),h.emit("error",y,m)},"idleListener")}q(d,"makeIdleListener");var p=class extends r{constructor(m,g){super(),this.options=Object.assign({},m),m!=null&&"password"in m&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:m.password}),m!=null&&m.ssl&&m.ssl.key&&Object.defineProperty(this.options.ssl,"key",{enumerable:!1}),this.options.max=this.options.max||this.options.poolSize||10,this.options.min=this.options.min||0,this.options.maxUses=this.options.maxUses||1/0,this.options.allowExitOnIdle=this.options.allowExitOnIdle||!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,this.log=this.options.log||function(){},this.Client=this.options.Client||g||lL().Client,this.Promise=this.options.Promise||iL.Promise,typeof this.options.idleTimeoutMillis>"u"&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_isAboveMin(){return this._clients.length>this.options.min}_pulseQueue(){if(this.log("pulse queue"),this.ended){this.log("pulse queue ended");return}if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(g=>{this._remove(g.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length){this.log("no queued requests");return}if(!this._idle.length&&this._isFull())return;let m=this._pendingQueue.shift();if(this._idle.length){let g=this._idle.pop();clearTimeout(g.timeoutId);let y=g.client;y.ref&&y.ref();let v=g.idleListener;return this._acquireClient(y,m,v,!1)}if(!this._isFull())return this.newClient(m);throw new Error("unexpected condition")}_remove(m){let g=i(this._idle,y=>y.client===m);g!==void 0&&clearTimeout(g.timeoutId),this._clients=this._clients.filter(y=>y!==m),m.end(),this.emit("remove",m)}connect(m){if(this.ending){let v=new Error("Cannot use a pool after calling end on the pool");return m?m(v):this.Promise.reject(v)}let g=u(this.Promise,m),y=g.result;if(this._isFull()||this._idle.length){if(this._idle.length&&Rr.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new c(g.callback)),y;let v=q((E,I,D)=>{clearTimeout(w),g.callback(E,I,D)},"queueCallback"),S=new c(v),w=setTimeout(()=>{i(this._pendingQueue,E=>E.callback===v),S.timedOut=!0,g.callback(new Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return w.unref&&w.unref(),this._pendingQueue.push(S),y}return this.newClient(new c(g.callback)),y}newClient(m){let g=new this.Client(this.options);this._clients.push(g);let y=d(this,g);this.log("checking client timeout");let v,S=!1;this.options.connectionTimeoutMillis&&(v=setTimeout(()=>{this.log("ending client due to timeout"),S=!0,g.connection?g.connection.stream.destroy():g.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),g.connect(w=>{if(v&&clearTimeout(v),g.on("error",y),w)this.log("client failed to connect",w),this._clients=this._clients.filter(E=>E!==g),S&&(w=new Error("Connection terminated due to connection timeout",{cause:w})),this._pulseQueue(),m.timedOut||m.callback(w,void 0,n);else{if(this.log("new client connected"),this.options.maxLifetimeSeconds!==0){let E=setTimeout(()=>{this.log("ending client due to expired lifetime"),this._expired.add(g),this._idle.findIndex(I=>I.client===g)!==-1&&this._acquireClient(g,new c((I,D,k)=>k()),y,!1)},this.options.maxLifetimeSeconds*1e3);E.unref(),g.once("end",()=>clearTimeout(E))}return this._acquireClient(g,m,y,!0)}})}_acquireClient(m,g,y,v){v&&this.emit("connect",m),this.emit("acquire",m),m.release=this._releaseOnce(m,y),m.removeListener("error",y),g.timedOut?v&&this.options.verify?this.options.verify(m,m.release):m.release():v&&this.options.verify?this.options.verify(m,S=>{if(S)return m.release(S),g.callback(S,void 0,n);g.callback(void 0,m,m.release)}):g.callback(void 0,m,m.release)}_releaseOnce(m,g){let y=!1;return v=>{y&&l(),y=!0,this._release(m,g,v)}}_release(m,g,y){if(m.on("error",g),m._poolUseCount=(m._poolUseCount||0)+1,this.emit("release",y,m),y||this.ending||!m._queryable||m._ending||m._poolUseCount>=this.options.maxUses){m._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(m),this._pulseQueue();return}if(this._expired.has(m)){this.log("remove expired client"),this._expired.delete(m),this._remove(m),this._pulseQueue();return}let v;this.options.idleTimeoutMillis&&this._isAboveMin()&&(v=setTimeout(()=>{this.log("remove idle client"),this._remove(m)},this.options.idleTimeoutMillis),this.options.allowExitOnIdle&&v.unref()),this.options.allowExitOnIdle&&m.unref(),this._idle.push(new s(m,g,v)),this._pulseQueue()}query(m,g,y){if(typeof m=="function"){let S=u(this.Promise,m);return soe(function(){return S.callback(new Error("Passing a function as the first parameter to pool.query is not supported"))}),S.result}typeof g=="function"&&(y=g,g=void 0);let v=u(this.Promise,y);return y=v.callback,this.connect((S,w)=>{if(S)return y(S);let E=!1,I=q(D=>{E||(E=!0,w.release(D),y(D))},"onError");w.once("error",I),this.log("dispatching query");try{w.query(m,g,(D,k)=>{if(this.log("query dispatched"),w.removeListener("error",I),!E)return E=!0,w.release(D),D?y(D):y(void 0,k)})}catch(D){return w.release(D),y(D)}}),v.result}end(m){if(this.log("ending"),this.ending){let y=new Error("Called end on pool more than once");return m?m(y):this.Promise.reject(y)}this.ending=!0;let g=u(this.Promise,m);return this._endCallback=g.callback,this._pulseQueue(),g.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get expiredCount(){return this._clients.reduce((m,g)=>m+(this._expired.has(g)?1:0),0)}get totalCount(){return this._clients.length}};q(p,"Pool");var f=p;e.exports=f}),N$e={};Gd(N$e,{default:()=>O$e});E8t=Ec(()=>{"use strict";Mt(),O$e={}}),T8t=Ir((t,e)=>{e.exports={name:"pg",version:"8.8.0",description:"PostgreSQL client - pure javascript & libpq with the same API",keywords:["database","libpq","pg","postgre","postgres","postgresql","rdbms"],homepage:"https://github.com/brianc/node-postgres",repository:{type:"git",url:"git://github.com/brianc/node-postgres.git",directory:"packages/pg"},author:"Brian Carlson <brian.m.carlson@gmail.com>",main:"./lib",dependencies:{"buffer-writer":"2.0.0","packet-reader":"1.0.0","pg-connection-string":"^2.5.0","pg-pool":"^3.5.2","pg-protocol":"^1.5.0","pg-types":"^2.1.0",pgpass:"1.x"},devDependencies:{async:"2.6.4",bluebird:"3.5.2",co:"4.6.0","pg-copy-streams":"0.3.0"},peerDependencies:{"pg-native":">=3.0.1"},peerDependenciesMeta:{"pg-native":{optional:!0}},scripts:{test:"make test-all"},files:["lib","SPONSORS.md"],license:"MIT",engines:{node:">= 8.0.0"},gitHead:"c99fb2c127ddf8d712500db2c7b9a5491a178655"}}),R8t=Ir((t,e)=>{"use strict";Mt();var r=uv().EventEmitter,n=(cL(),ts(d3)),i=aL(),o=e.exports=function(a,c,l){r.call(this),a=i.normalizeQueryConfig(a,c,l),this.text=a.text,this.values=a.values,this.name=a.name,this.callback=a.callback,this.state="new",this._arrayMode=a.rowMode==="array",this._emitRowEvents=!1,this.on("newListener",function(u){u==="row"&&(this._emitRowEvents=!0)}.bind(this))};n.inherits(o,r);var s={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};o.prototype.handleError=function(a){var c=this.native.pq.resultErrorFields();if(c)for(var l in c){var u=s[l]||l;a[u]=c[l]}this.callback?this.callback(a):this.emit("error",a),this.state="error"},o.prototype.then=function(a,c){return this._getPromise().then(a,c)},o.prototype.catch=function(a){return this._getPromise().catch(a)},o.prototype._getPromise=function(){return this._promise?this._promise:(this._promise=new Promise(function(a,c){this._once("end",a),this._once("error",c)}.bind(this)),this._promise)},o.prototype.submit=function(a){this.state="running";var c=this;this.native=a.native,a.native.arrayMode=this._arrayMode;var l=q(function(p,f,h){if(a.native.arrayMode=!1,soe(function(){c.emit("_done")}),p)return c.handleError(p);c._emitRowEvents&&(h.length>1?f.forEach((m,g)=>{m.forEach(y=>{c.emit("row",y,h[g])})}):f.forEach(function(m){c.emit("row",m,h)})),c.state="end",c.emit("end",h),c.callback&&c.callback(null,h)},"after");if(Rr.domain&&(l=Rr.domain.bind(l)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));var u=(this.values||[]).map(i.prepareValue);if(a.namedQueries[this.name]){if(this.text&&a.namedQueries[this.name]!==this.text){let p=new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);return l(p)}return a.native.execute(this.name,u,l)}return a.native.prepare(this.name,this.text,u.length,function(p){return p?l(p):(a.namedQueries[c.name]=c.text,c.native.execute(c.name,u,l))})}else if(this.values){if(!Array.isArray(this.values)){let p=new Error("Query values must be an array");return l(p)}var d=this.values.map(i.prepareValue);a.native.query(this.text,d,l)}else a.native.query(this.text,l)}}),I8t=Ir((t,e)=>{"use strict";Mt();var r=(E8t(),ts(N$e)),n=coe(),i=T8t(),o=uv().EventEmitter,s=(cL(),ts(d3)),a=foe(),c=R8t(),l=e.exports=function(u){o.call(this),u=u||{},this._Promise=u.Promise||iL.Promise,this._types=new n(u.types),this.native=new r({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;var d=this.connectionParameters=new a(u);this.user=d.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:d.password}),this.database=d.database,this.host=d.host,this.port=d.port,this.namedQueries={}};l.Query=c,s.inherits(l,o),l.prototype._errorAllQueries=function(u){let d=q(p=>{Rr.nextTick(()=>{p.native=this.native,p.handleError(u)})},"enqueueError");this._hasActiveQuery()&&(d(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(d),this._queryQueue.length=0},l.prototype._connect=function(u){var d=this;if(this._connecting){Rr.nextTick(()=>u(new Error("Client has already been connected. You cannot reuse a client.")));return}this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(p,f){if(p)return u(p);d.native.connect(f,function(h){if(h)return d.native.end(),u(h);d._connected=!0,d.native.on("error",function(m){d._queryable=!1,d._errorAllQueries(m),d.emit("error",m)}),d.native.on("notification",function(m){d.emit("notification",{channel:m.relname,payload:m.extra})}),d.emit("connect"),d._pulseQueryQueue(!0),u()})})},l.prototype.connect=function(u){if(u){this._connect(u);return}return new this._Promise((d,p)=>{this._connect(f=>{f?p(f):d()})})},l.prototype.query=function(u,d,p){var f,h,m,g,y;if(u==null)throw new TypeError("Client was passed a null or undefined query");if(typeof u.submit=="function")m=u.query_timeout||this.connectionParameters.query_timeout,h=f=u,typeof d=="function"&&(u.callback=d);else if(m=this.connectionParameters.query_timeout,f=new c(u,d,p),!f.callback){let v,S;h=new this._Promise((w,E)=>{v=w,S=E}),f.callback=(w,E)=>w?S(w):v(E)}return m&&(y=f.callback,g=setTimeout(()=>{var v=new Error("Query read timeout");Rr.nextTick(()=>{f.handleError(v,this.connection)}),y(v),f.callback=()=>{};var S=this._queryQueue.indexOf(f);S>-1&&this._queryQueue.splice(S,1),this._pulseQueryQueue()},m),f.callback=(v,S)=>{clearTimeout(g),y(v,S)}),this._queryable?this._ending?(f.native=this.native,Rr.nextTick(()=>{f.handleError(new Error("Client was closed and is not queryable"))}),h):(this._queryQueue.push(f),this._pulseQueryQueue(),h):(f.native=this.native,Rr.nextTick(()=>{f.handleError(new Error("Client has encountered a connection error and is not queryable"))}),h)},l.prototype.end=function(u){var d=this;this._ending=!0,this._connected||this.once("connect",this.end.bind(this,u));var p;return u||(p=new this._Promise(function(f,h){u=q(m=>m?h(m):f(),"cb")})),this.native.end(function(){d._errorAllQueries(new Error("Connection terminated")),Rr.nextTick(()=>{d.emit("end"),u&&u()})}),p},l.prototype._hasActiveQuery=function(){return this._activeQuery&&this._activeQuery.state!=="error"&&this._activeQuery.state!=="end"},l.prototype._pulseQueryQueue=function(u){if(this._connected&&!this._hasActiveQuery()){var d=this._queryQueue.shift();if(!d){u||this.emit("drain");return}this._activeQuery=d,d.submit(this);var p=this;d.once("_done",function(){p._pulseQueryQueue()})}},l.prototype.cancel=function(u){this._activeQuery===u?this.native.cancel(function(){}):this._queryQueue.indexOf(u)!==-1&&this._queryQueue.splice(this._queryQueue.indexOf(u),1)},l.prototype.ref=function(){},l.prototype.unref=function(){},l.prototype.setTypeParser=function(u,d,p){return this._types.setTypeParser(u,d,p)},l.prototype.getTypeParser=function(u,d){return this._types.getTypeParser(u,d)}}),XBe=Ir((t,e)=>{"use strict";Mt(),e.exports=I8t()}),lL=Ir((t,e)=>{"use strict";Mt();var r=w8t(),n=sL(),i=C$e(),o=A8t(),{DatabaseError:s}=T$e(),a=q(l=>{var u;return u=class extends o{constructor(d){super(d,l)}},q(u,"BoundPool"),u},"poolFactory"),c=q(function(l){this.defaults=n,this.Client=l,this.Query=this.Client.Query,this.Pool=a(this.Client),this._pools=[],this.Connection=i,this.types=oL(),this.DatabaseError=s},"PG");typeof Rr.env.NODE_PG_FORCE_NATIVE<"u"?e.exports=new c(XBe()):(e.exports=new c(r),Object.defineProperty(e.exports,"native",{configurable:!0,enumerable:!1,get(){var l=null;try{l=new c(XBe())}catch(u){if(u.code!=="MODULE_NOT_FOUND")throw u}return Object.defineProperty(e.exports,"native",{value:l}),l}}))});Mt();Mt();u3();s$e();Mt();C8t=Object.defineProperty,N8t=Object.defineProperties,O8t=Object.getOwnPropertyDescriptors,YBe=Object.getOwnPropertySymbols,P8t=Object.prototype.hasOwnProperty,k8t=Object.prototype.propertyIsEnumerable,ZBe=q((t,e,r)=>e in t?C8t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,"__defNormalProp"),D8t=q((t,e)=>{for(var r in e||(e={}))P8t.call(e,r)&&ZBe(t,r,e[r]);if(YBe)for(var r of YBe(e))k8t.call(e,r)&&ZBe(t,r,e[r]);return t},"__spreadValues"),M8t=q((t,e)=>N8t(t,O8t(e)),"__spreadProps"),L8t=1008e3,e$e=new Uint8Array(new Uint16Array([258]).buffer)[0]===2,B8t=new TextDecoder,moe=new TextEncoder,tL=moe.encode("0123456789abcdef"),rL=moe.encode("0123456789ABCDEF"),$8t=moe.encode("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),P$e=$8t.slice();P$e[62]=45;P$e[63]=95;q(k$e,"_toHex");q(D$e,"_toHexChunked");q(M$e,"toHex");Mt();L$e=class B$e{constructor(e,r){this.strings=e,this.values=r}toParameterizedQuery(e={query:"",params:[]}){let{strings:r,values:n}=this;for(let i=0,o=r.length;i<o;i++)if(e.query+=r[i],i<n.length){let s=n[i];if(s instanceof goe)e.query+=s.sql;else if(s instanceof l3)if(s.queryData instanceof B$e)s.queryData.toParameterizedQuery(e);else{if(s.queryData.params?.length)throw new Error("This query is not composable");e.query+=s.queryData.query}else{let{params:a}=e;a.push(s),e.query+="$"+a.length,(s instanceof tr||ArrayBuffer.isView(s))&&(e.query+="::bytea")}}return e}};q(L$e,"SqlTemplate");hoe=L$e,$$e=class{constructor(e){this.sql=e}};q($$e,"UnsafeRawSql");goe=$$e;Mt();q(uL,"warnIfBrowser");u3();U8t=lv(coe()),F8t=lv(aL()),U$e=class F$e extends Error{constructor(e){super(e),nr(this,"name","NeonDbError"),nr(this,"severity"),nr(this,"code"),nr(this,"detail"),nr(this,"hint"),nr(this,"position"),nr(this,"internalPosition"),nr(this,"internalQuery"),nr(this,"where"),nr(this,"schema"),nr(this,"table"),nr(this,"column"),nr(this,"dataType"),nr(this,"constraint"),nr(this,"file"),nr(this,"line"),nr(this,"routine"),nr(this,"sourceError"),"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,F$e)}};q(U$e,"NeonDbError");cv=U$e,t$e="transaction() expects an array of queries, or a function returning an array of queries",z8t=["severity","code","detail","hint","position","internalPosition","internalQuery","where","schema","table","column","dataType","constraint","file","line","routine"];q(z$e,"encodeBuffersAsBytea");q(ioe,"prepareQuery");q(dv,"neon");H$e=class{constructor(e,r,n){this.execute=e,this.queryData=r,this.opts=n}then(e,r){return this.execute(this.queryData,this.opts).then(e,r)}catch(e){return this.execute(this.queryData,this.opts).catch(e)}finally(e){return this.execute(this.queryData,this.opts).finally(e)}};q(H$e,"NeonQueryPromise");l3=H$e;q(ooe,"processQueryResult");q(V$e,"getAuthToken");Mt();H8t=lv(lL());Mt();V8t=lv(lL()),G$e=class extends V8t.Client{constructor(e){super(e),this.config=e}get neonConfig(){return this.connection.stream}connect(e){let{neonConfig:r}=this;r.forceDisablePgSSL&&(this.ssl=this.connection.ssl=!1),this.ssl&&r.useSecureWebSocket&&console.warn("SSL is enabled for both Postgres (e.g. ?sslmode=require in the connection string + forceDisablePgSSL = false) and the WebSocket tunnel (useSecureWebSocket = true). Double encryption will increase latency and CPU usage. It may be appropriate to disable SSL in the Postgres connection parameters or set forceDisablePgSSL = true.");let n=typeof this.config!="string"&&this.config?.host!==void 0||typeof this.config!="string"&&this.config?.connectionString!==void 0||Rr.env.PGHOST!==void 0,i=Rr.env.USER??Rr.env.USERNAME;if(!n&&this.host==="localhost"&&this.user===i&&this.database===i&&this.password===null)throw new Error(`No database host or connection string was set, and key parameters have default values (host: localhost, user: ${i}, db: ${i}, password: null). Is an environment variable missing? Alternatively, if you intended to connect with these parameters, please set the host to 'localhost' explicitly.`);let o=super.connect(e),s=r.pipelineTLS&&this.ssl,a=r.pipelineConnect==="password";if(!s&&!r.pipelineConnect)return o;let c=this.connection;if(s&&c.on("connect",()=>c.stream.emit("data","S")),a){c.removeAllListeners("authenticationCleartextPassword"),c.removeAllListeners("readyForQuery"),c.once("readyForQuery",()=>c.on("readyForQuery",this._handleReadyForQuery.bind(this)));let l=this.ssl?"sslconnect":"connect";c.on(l,()=>{this.neonConfig.disableWarningInBrowsers||uL(),this._handleAuthCleartextPassword(),this._handleReadyForQuery()})}return o}async _handleAuthSASLContinue(e){if(typeof crypto>"u"||crypto.subtle===void 0||crypto.subtle.importKey===void 0)throw new Error("Cannot use SASL auth when `crypto.subtle` is not defined");let r=crypto.subtle,n=this.saslSession,i=this.password,o=e.data;if(n.message!=="SASLInitialResponse"||typeof i!="string"||typeof o!="string")throw new Error("SASL: protocol error");let s=Object.fromEntries(o.split(",").map(U=>{if(!/^.=/.test(U))throw new Error("SASL: Invalid attribute pair entry");let j=U[0],Q=U.substring(2);return[j,Q]})),a=s.r,c=s.s,l=s.i;if(!a||!/^[!-+--~]+$/.test(a))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing/unprintable");if(!c||!/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(c))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing/not base64");if(!l||!/^[1-9][0-9]*$/.test(l))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: missing/invalid iteration count");if(!a.startsWith(n.clientNonce))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");if(a.length===n.clientNonce.length)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short");let u=parseInt(l,10),d=tr.from(c,"base64"),p=new TextEncoder,f=p.encode(i),h=await r.importKey("raw",f,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),m=new Uint8Array(await r.sign("HMAC",h,tr.concat([d,tr.from([0,0,0,1])]))),g=m;for(var y=0;y<u-1;y++)m=new Uint8Array(await r.sign("HMAC",h,m)),g=tr.from(g.map((U,j)=>g[j]^m[j]));let v=g,S=await r.importKey("raw",v,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),w=new Uint8Array(await r.sign("HMAC",S,p.encode("Client Key"))),E=await r.digest("SHA-256",w),I="n=*,r="+n.clientNonce,D="r="+a+",s="+c+",i="+u,k="c=biws,r="+a,P=I+","+D+","+k,$=await r.importKey("raw",E,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var H=new Uint8Array(await r.sign("HMAC",$,p.encode(P))),W=tr.from(w.map((U,j)=>w[j]^H[j])),N=W.toString("base64");let _=await r.importKey("raw",v,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),x=await r.sign("HMAC",_,p.encode("Server Key")),R=await r.importKey("raw",x,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var L=tr.from(await r.sign("HMAC",R,p.encode(P)));n.message="SASLResponse",n.serverSignature=L.toString("base64"),n.response=k+",p="+N,this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}};q(G$e,"NeonClient");j$e=G$e;u3();G8t=lv(foe());q(q$e,"promisify");W$e=class extends H8t.Pool{constructor(){super(...arguments),nr(this,"Client",j$e),nr(this,"hasFetchUnsupportedListeners",!1),nr(this,"addListener",this.on)}on(e,r){return e!=="error"&&(this.hasFetchUnsupportedListeners=!0),super.on(e,r)}query(e,r,n){if(!_w.poolQueryViaFetch||this.hasFetchUnsupportedListeners||typeof e=="function")return super.query(e,r,n);typeof r=="function"&&(n=r,r=void 0);let i=q$e(this.Promise,n);n=i.callback;try{let o=new G8t.default(this.options),s=encodeURIComponent,a=encodeURI,c=`postgresql://${s(o.user)}:${s(o.password)}@${s(o.host)}/${a(o.database)}`,l=typeof e=="string"?e:e.text,u=r??e.values??[];dv(c,{fullResults:!0,arrayMode:e.rowMode==="array"}).query(l,u,{types:e.types??this.options?.types}).then(d=>n(void 0,d)).catch(d=>n(d))}catch(o){n(o)}return i.result}};q(W$e,"NeonPool");j8t=W$e;u3();p3=lv(lL()),q8t="mjs",W8t=p3.DatabaseError,J8t=p3.defaults,K8t=p3.escapeIdentifier,Q8t=p3.escapeLiteral,Oa=p3.types;});var boe=b(()=>{"use strict";Kie()});var dL,voe,pL,f3,_oe,Soe=b(()=>{"use strict";boe();st();o3();Dr();ZM();Fi();vn();dL={arrayMode:!1,fullResults:!0},voe={arrayMode:!0,fullResults:!0},pL=class extends hw{constructor(e,r,n,i,o,s,a,c,l){super(r,i,o,s),this.client=e,this.logger=n,this.fields=a,this._isResponseInArrayMode=c,this.customResultMapper=l,this.clientQuery=e.query??e}static[ee]="NeonHttpPreparedQuery";clientQuery;async execute(e={},r=this.authToken){let n=ov(this.query.params,e);this.logger.logQuery(this.query.sql,n);let{fields:i,clientQuery:o,query:s,customResultMapper:a}=this;if(!i&&!a)return this.queryWithCache(s.sql,n,async()=>o(s.sql,n,r===void 0?dL:{...dL,authToken:r}));let c=await this.queryWithCache(s.sql,n,async()=>await o(s.sql,n,r===void 0?voe:{...voe,authToken:r}));return this.mapResult(c)}mapResult(e){if(!this.fields&&!this.customResultMapper)return e;let r=e.rows;return this.customResultMapper?this.customResultMapper(r):r.map(n=>RM(this.fields,n,this.joinsNotNullableMap))}all(e={}){let r=ov(this.query.params,e);return this.logger.logQuery(this.query.sql,r),this.clientQuery(this.query.sql,r,this.authToken===void 0?dL:{...dL,authToken:this.authToken}).then(n=>n.rows)}values(e={},r){let n=ov(this.query.params,e);return this.logger.logQuery(this.query.sql,n),this.clientQuery(this.query.sql,n,{arrayMode:!0,fullResults:!0,authToken:r}).then(i=>i.rows)}isResponseInArrayMode(){return this._isResponseInArrayMode}},f3=class extends gw{constructor(e,r,n,i={}){super(r),this.client=e,this.schema=n,this.options=i,this.clientQuery=e.query??e,this.logger=i.logger??new vw,this.cache=i.cache??new F0}static[ee]="NeonHttpSession";clientQuery;logger;cache;prepareQuery(e,r,n,i,o,s,a){return new pL(this.client,e,this.logger,this.cache,s,a,r,i,o)}async batch(e){let r=[],n=[];for(let o of e){let s=o._prepare(),a=s.getQuery();r.push(s),n.push(this.clientQuery(a.sql,a.params,{fullResults:!0,arrayMode:s.isResponseInArrayMode()}))}return(await this.client.transaction(n,voe)).map((o,s)=>r[s].mapResult(o,!0))}async query(e,r){return this.logger.logQuery(e,r),await this.clientQuery(e,r,{arrayMode:!0,fullResults:!0})}async queryObjects(e,r){return this.clientQuery(e,r,{arrayMode:!1,fullResults:!0})}async count(e,r){let n=await this.execute(e,r);return Number(n.rows[0].count)}async transaction(e,r={}){throw new Error("No transactions support in neon-http driver")}},_oe=class extends yw{static[ee]="NeonHttpTransaction";async transaction(e){throw new Error("No transactions support in neon-http driver")}}});function mL(t,e,r,n){return new Proxy(t,{get(i,o){let s=i[o];return typeof s!="function"&&(typeof s!="object"||s===null)?s:n?mL(s,e,r):o==="query"?mL(s,e,r,!0):new Proxy(s,{apply(a,c,l){let u=a.call(c,...l);return typeof u=="object"&&u!==null&&"setToken"in u&&typeof u.setToken=="function"&&u.setToken(e),r(a,o,u)}})}})}function xw(t,e={}){let r=new cf({casing:e.casing}),n;e.logger===!0?n=new bw:e.logger!==!1&&(n=e.logger);let i;if(e.schema){let c=UM(e.schema,FM);i={fullSchema:e.schema,schema:c.tables,tableNamesMap:c.tableNamesMap}}let s=new fL(t,r,{logger:n,cache:e.cache}).createSession(i),a=new hL(r,s,i);return a.$client=t,a.$cache=e.cache,a.$cache&&(a.$cache.invalidate=e.cache?.onMutate),a}function xoe(...t){if(typeof t[0]=="string"){let e=dv(t[0]);return xw(e,t[1])}if(CM(t[0])){let{connection:e,client:r,...n}=t[0];if(r)return xw(r,n);if(typeof e=="object"){let{connectionString:o,...s}=e,a=dv(o,s);return xw(a,n)}let i=dv(e);return xw(i,n)}return xw(t[0],t[1])}var fL,hL,K$e=b(()=>{"use strict";yoe();st();o3();n3();XI();QI();vn();Soe();fL=class{constructor(e,r,n={}){this.client=e,this.dialect=r,this.options=n,this.initMappers()}static[ee]="NeonHttpDriver";createSession(e){return new f3(this.client,this.dialect,e,{logger:this.options.logger,cache:this.options.cache})}initMappers(){Oa.setTypeParser(Oa.builtins.TIMESTAMPTZ,e=>e),Oa.setTypeParser(Oa.builtins.TIMESTAMP,e=>e),Oa.setTypeParser(Oa.builtins.DATE,e=>e),Oa.setTypeParser(Oa.builtins.INTERVAL,e=>e),Oa.setTypeParser(1231,e=>e),Oa.setTypeParser(1115,e=>e),Oa.setTypeParser(1185,e=>e),Oa.setTypeParser(1187,e=>e),Oa.setTypeParser(1182,e=>e)}};hL=class extends U0{static[ee]="NeonHttpDatabase";$withAuth(e){return this.authToken=e,mL(this,e,(r,n,i)=>n==="with"?mL(i,e,(o,s,a)=>a):i)}async batch(e){return this.session.batch(e)}};(t=>{function e(r){return xw({},r)}t.mock=e})(xoe||(xoe={}))});var Q$e={};Nr(Q$e,{NeonHttpDatabase:()=>hL,NeonHttpDriver:()=>fL,NeonHttpPreparedQuery:()=>pL,NeonHttpSession:()=>f3,NeonTransaction:()=>_oe,drizzle:()=>xoe});var X$e=b(()=>{"use strict";K$e();Soe()});var Aoe=ze(Y$e=>{"use strict";Y$e.parse=function(t,e){return new woe(t,e).parse()};var woe=class t{constructor(e,r){this.source=e,this.transform=r||X8t,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var e=this.source[this.position++];return e==="\\"?{value:this.source[this.position++],escaped:!0}:{value:e,escaped:!1}}record(e){this.recorded.push(e)}newEntry(e){var r;(this.recorded.length>0||e)&&(r=this.recorded.join(""),r==="NULL"&&!e&&(r=null),r!==null&&(r=this.transform(r)),this.entries.push(r),this.recorded=[])}consumeDimensions(){if(this.source[0]==="[")for(;!this.isEof();){var e=this.nextCharacter();if(e.value==="=")break}}parse(e){var r,n,i;for(this.consumeDimensions();!this.isEof();)if(r=this.nextCharacter(),r.value==="{"&&!i)this.dimension++,this.dimension>1&&(n=new t(this.source.substr(this.position-1),this.transform),this.entries.push(n.parse(!0)),this.position+=n.position-2);else if(r.value==="}"&&!i){if(this.dimension--,!this.dimension&&(this.newEntry(),e))return this.entries}else r.value==='"'&&!r.escaped?(i&&this.newEntry(!0),i=!i):r.value===","&&!i?this.newEntry():this.record(r.value);if(this.dimension!==0)throw new Error("array dimension not balanced");return this.entries}};function X8t(t){return t}});var Eoe=ze((k0n,Z$e)=>{"use strict";var Y8t=Aoe();Z$e.exports={create:function(t,e){return{parse:function(){return Y8t.parse(t,e)}}}}});var rUe=ze((D0n,tUe)=>{"use strict";var Z8t=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,eCt=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,tCt=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,rCt=/^-?infinity$/;tUe.exports=function(e){if(rCt.test(e))return Number(e.replace("i","I"));var r=Z8t.exec(e);if(!r)return nCt(e)||null;var n=!!r[8],i=parseInt(r[1],10);n&&(i=eUe(i));var o=parseInt(r[2],10)-1,s=r[3],a=parseInt(r[4],10),c=parseInt(r[5],10),l=parseInt(r[6],10),u=r[7];u=u?1e3*parseFloat(u):0;var d,p=iCt(e);return p!=null?(d=new Date(Date.UTC(i,o,s,a,c,l,u)),Toe(i)&&d.setUTCFullYear(i),p!==0&&d.setTime(d.getTime()-p)):(d=new Date(i,o,s,a,c,l,u),Toe(i)&&d.setFullYear(i)),d};function nCt(t){var e=eCt.exec(t);if(e){var r=parseInt(e[1],10),n=!!e[4];n&&(r=eUe(r));var i=parseInt(e[2],10)-1,o=e[3],s=new Date(r,i,o);return Toe(r)&&s.setFullYear(r),s}}function iCt(t){if(t.endsWith("+00"))return 0;var e=tCt.exec(t.split(" ")[1]);if(e){var r=e[1];if(r==="Z")return 0;var n=r==="-"?-1:1,i=parseInt(e[2],10)*3600+parseInt(e[3]||0,10)*60+parseInt(e[4]||0,10);return i*n*1e3}}function eUe(t){return-(t-1)}function Toe(t){return t>=0&&t<100}});var iUe=ze((M0n,nUe)=>{"use strict";nUe.exports=sCt;var oCt=Object.prototype.hasOwnProperty;function sCt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)oCt.call(r,n)&&(t[n]=r[n])}return t}});var aUe=ze((L0n,sUe)=>{"use strict";var aCt=iUe();sUe.exports=ww;function ww(t){if(!(this instanceof ww))return new ww(t);aCt(this,vCt(t))}var cCt=["seconds","minutes","hours","days","months","years"];ww.prototype.toPostgres=function(){var t=cCt.filter(this.hasOwnProperty,this);return this.milliseconds&&t.indexOf("seconds")<0&&t.push("seconds"),t.length===0?"0":t.map(function(e){var r=this[e]||0;return e==="seconds"&&this.milliseconds&&(r=(r+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),r+" "+e},this).join(" ")};var lCt={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},uCt=["years","months","days"],dCt=["hours","minutes","seconds"];ww.prototype.toISOString=ww.prototype.toISO=function(){var t=uCt.map(r,this).join(""),e=dCt.map(r,this).join("");return"P"+t+"T"+e;function r(n){var i=this[n]||0;return n==="seconds"&&this.milliseconds&&(i=(i+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),i+lCt[n]}};var Roe="([+-]?\\d+)",pCt=Roe+"\\s+years?",fCt=Roe+"\\s+mons?",mCt=Roe+"\\s+days?",hCt="([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?",gCt=new RegExp([pCt,fCt,mCt,hCt].map(function(t){return"("+t+")?"}).join("\\s*")),oUe={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},yCt=["hours","minutes","seconds","milliseconds"];function bCt(t){var e=t+"000000".slice(t.length);return parseInt(e,10)/1e3}function vCt(t){if(!t)return{};var e=gCt.exec(t),r=e[8]==="-";return Object.keys(oUe).reduce(function(n,i){var o=oUe[i],s=e[o];return!s||(s=i==="milliseconds"?bCt(s):parseInt(s,10),!s)||(r&&~yCt.indexOf(i)&&(s*=-1),n[i]=s),n},{})}});var uUe=ze((B0n,lUe)=>{"use strict";var cUe=Buffer.from||Buffer;lUe.exports=function(e){if(/^\\x/.test(e))return cUe(e.substr(2),"hex");for(var r="",n=0;n<e.length;)if(e[n]!=="\\")r+=e[n],++n;else if(/[0-7]{3}/.test(e.substr(n+1,3)))r+=String.fromCharCode(parseInt(e.substr(n+1,3),8)),n+=4;else{for(var i=1;n+i<e.length&&e[n+i]==="\\";)i++;for(var o=0;o<Math.floor(i/2);++o)r+="\\";n+=Math.floor(i/2)*2}return cUe(r,"binary")}});var yUe=ze(($0n,gUe)=>{"use strict";var m3=Aoe(),h3=Eoe(),gL=rUe(),pUe=aUe(),fUe=uUe();function yL(t){return function(r){return r===null?r:t(r)}}function mUe(t){return t===null?t:t==="TRUE"||t==="t"||t==="true"||t==="y"||t==="yes"||t==="on"||t==="1"}function _Ct(t){return t?m3.parse(t,mUe):null}function SCt(t){return parseInt(t,10)}function Ioe(t){return t?m3.parse(t,yL(SCt)):null}function xCt(t){return t?m3.parse(t,yL(function(e){return hUe(e).trim()})):null}var wCt=function(t){if(!t)return null;var e=h3.create(t,function(r){return r!==null&&(r=Poe(r)),r});return e.parse()},Coe=function(t){if(!t)return null;var e=h3.create(t,function(r){return r!==null&&(r=parseFloat(r)),r});return e.parse()},Bu=function(t){if(!t)return null;var e=h3.create(t);return e.parse()},Noe=function(t){if(!t)return null;var e=h3.create(t,function(r){return r!==null&&(r=gL(r)),r});return e.parse()},ACt=function(t){if(!t)return null;var e=h3.create(t,function(r){return r!==null&&(r=pUe(r)),r});return e.parse()},ECt=function(t){return t?m3.parse(t,yL(fUe)):null},Ooe=function(t){return parseInt(t,10)},hUe=function(t){var e=String(t);return/^\d+$/.test(e)?e:t},dUe=function(t){return t?m3.parse(t,yL(JSON.parse)):null},Poe=function(t){return t[0]!=="("?null:(t=t.substring(1,t.length-1).split(","),{x:parseFloat(t[0]),y:parseFloat(t[1])})},TCt=function(t){if(t[0]!=="<"&&t[1]!=="(")return null;for(var e="(",r="",n=!1,i=2;i<t.length-1;i++){if(n||(e+=t[i]),t[i]===")"){n=!0;continue}else if(!n)continue;t[i]!==","&&(r+=t[i])}var o=Poe(e);return o.radius=parseFloat(r),o},RCt=function(t){t(20,hUe),t(21,Ooe),t(23,Ooe),t(26,Ooe),t(700,parseFloat),t(701,parseFloat),t(16,mUe),t(1082,gL),t(1114,gL),t(1184,gL),t(600,Poe),t(651,Bu),t(718,TCt),t(1e3,_Ct),t(1001,ECt),t(1005,Ioe),t(1007,Ioe),t(1028,Ioe),t(1016,xCt),t(1017,wCt),t(1021,Coe),t(1022,Coe),t(1231,Coe),t(1014,Bu),t(1015,Bu),t(1008,Bu),t(1009,Bu),t(1040,Bu),t(1041,Bu),t(1115,Noe),t(1182,Noe),t(1185,Noe),t(1186,pUe),t(1187,ACt),t(17,fUe),t(114,JSON.parse.bind(JSON)),t(3802,JSON.parse.bind(JSON)),t(199,dUe),t(3807,dUe),t(3907,Bu),t(2951,Bu),t(791,Bu),t(1183,Bu),t(1270,Bu)};gUe.exports={init:RCt}});var vUe=ze((U0n,bUe)=>{"use strict";var Tc=1e6;function ICt(t){var e=t.readInt32BE(0),r=t.readUInt32BE(4),n="";e<0&&(e=~e+(r===0),r=~r+1>>>0,n="-");var i="",o,s,a,c,l,u;{if(o=e%Tc,e=e/Tc>>>0,s=4294967296*o+r,r=s/Tc>>>0,a=""+(s-Tc*r),r===0&&e===0)return n+a+i;for(c="",l=6-a.length,u=0;u<l;u++)c+="0";i=c+a+i}{if(o=e%Tc,e=e/Tc>>>0,s=4294967296*o+r,r=s/Tc>>>0,a=""+(s-Tc*r),r===0&&e===0)return n+a+i;for(c="",l=6-a.length,u=0;u<l;u++)c+="0";i=c+a+i}{if(o=e%Tc,e=e/Tc>>>0,s=4294967296*o+r,r=s/Tc>>>0,a=""+(s-Tc*r),r===0&&e===0)return n+a+i;for(c="",l=6-a.length,u=0;u<l;u++)c+="0";i=c+a+i}return o=e%Tc,s=4294967296*o+r,a=""+s%Tc,n+a+i}bUe.exports=ICt});var AUe=ze((F0n,wUe)=>{"use strict";var CCt=vUe(),Ri=function(t,e,r,n,i){r=r||0,n=n||!1,i=i||function(f,h,m){return f*Math.pow(2,m)+h};var o=r>>3,s=function(f){return n?~f&255:f},a=255,c=8-r%8;e<c&&(a=255<<8-e&255,c=e),r&&(a=a>>r%8);var l=0;r%8+e>=8&&(l=i(0,s(t[o])&a,c));for(var u=e+r>>3,d=o+1;d<u;d++)l=i(l,s(t[d]),8);var p=(e+r)%8;return p>0&&(l=i(l,s(t[u])>>8-p,p)),l},xUe=function(t,e,r){var n=Math.pow(2,r-1)-1,i=Ri(t,1),o=Ri(t,r,1);if(o===0)return 0;var s=1,a=function(l,u,d){l===0&&(l=1);for(var p=1;p<=d;p++)s/=2,(u&1<<d-p)>0&&(l+=s);return l},c=Ri(t,e,r+1,!1,a);return o==Math.pow(2,r+1)-1?c===0?i===0?1/0:-1/0:NaN:(i===0?1:-1)*Math.pow(2,o-n)*c},NCt=function(t){return Ri(t,1)==1?-1*(Ri(t,15,1,!0)+1):Ri(t,15,1)},_Ue=function(t){return Ri(t,1)==1?-1*(Ri(t,31,1,!0)+1):Ri(t,31,1)},OCt=function(t){return xUe(t,23,8)},PCt=function(t){return xUe(t,52,11)},kCt=function(t){var e=Ri(t,16,32);if(e==49152)return NaN;for(var r=Math.pow(1e4,Ri(t,16,16)),n=0,i=[],o=Ri(t,16),s=0;s<o;s++)n+=Ri(t,16,64+16*s)*r,r/=1e4;var a=Math.pow(10,Ri(t,16,48));return(e===0?1:-1)*Math.round(n*a)/a},SUe=function(t,e){var r=Ri(e,1),n=Ri(e,63,1),i=new Date((r===0?1:-1)*n/1e3+9466848e5);return t||i.setTime(i.getTime()+i.getTimezoneOffset()*6e4),i.usec=n%1e3,i.getMicroSeconds=function(){return this.usec},i.setMicroSeconds=function(o){this.usec=o},i.getUTCMicroSeconds=function(){return this.usec},i},g3=function(t){for(var e=Ri(t,32),r=Ri(t,32,32),n=Ri(t,32,64),i=96,o=[],s=0;s<e;s++)o[s]=Ri(t,32,i),i+=32,i+=32;var a=function(l){var u=Ri(t,32,i);if(i+=32,u==4294967295)return null;var d;if(l==23||l==20)return d=Ri(t,u*8,i),i+=u*8,d;if(l==25)return d=t.toString(this.encoding,i>>3,(i+=u<<3)>>3),d;console.log("ERROR: ElementType not implemented: "+l)},c=function(l,u){var d=[],p;if(l.length>1){var f=l.shift();for(p=0;p<f;p++)d[p]=c(l,u);l.unshift(f)}else for(p=0;p<l[0];p++)d[p]=a(u);return d};return c(o,n)},DCt=function(t){return t.toString("utf8")},MCt=function(t){return t===null?null:Ri(t,8)>0},LCt=function(t){t(20,CCt),t(21,NCt),t(23,_Ue),t(26,_Ue),t(1700,kCt),t(700,OCt),t(701,PCt),t(16,MCt),t(1114,SUe.bind(null,!1)),t(1184,SUe.bind(null,!0)),t(1e3,g3),t(1007,g3),t(1016,g3),t(1008,g3),t(1009,g3),t(25,DCt)};wUe.exports={init:LCt}});var TUe=ze((z0n,EUe)=>{"use strict";EUe.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096}});var v3=ze(b3=>{"use strict";var BCt=yUe(),$Ct=AUe(),UCt=Eoe(),FCt=TUe();b3.getTypeParser=zCt;b3.setTypeParser=HCt;b3.arrayParser=UCt;b3.builtins=FCt;var y3={text:{},binary:{}};function RUe(t){return String(t)}function zCt(t,e){return e=e||"text",y3[e]&&y3[e][t]||RUe}function HCt(t,e,r){typeof e=="function"&&(r=e,e="text"),y3[e][t]=r}BCt.init(function(t,e){y3.text[t]=e});$Ct.init(function(t,e){y3.binary[t]=e})});var _3=ze((V0n,koe)=>{"use strict";var IUe;try{IUe=process.platform==="win32"?process.env.USERNAME:process.env.USER}catch{}koe.exports={host:"localhost",user:IUe,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,lock_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};var Aw=v3(),VCt=Aw.getTypeParser(20,"text"),GCt=Aw.getTypeParser(1016,"text");koe.exports.__defineSetter__("parseInt8",function(t){Aw.setTypeParser(20,"text",t?Aw.getTypeParser(23,"text"):VCt),Aw.setTypeParser(1016,"text",t?Aw.getTypeParser(1007,"text"):GCt)})});var Ew=ze((G0n,OUe)=>{"use strict";var jCt=_3(),CUe=yt("util"),{isDate:qCt}=CUe.types||CUe;function WCt(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'}function NUe(t){let e="{";for(let r=0;r<t.length;r++)if(r>0&&(e=e+","),t[r]===null||typeof t[r]>"u")e=e+"NULL";else if(Array.isArray(t[r]))e=e+NUe(t[r]);else if(ArrayBuffer.isView(t[r])){let n=t[r];if(!(n instanceof Buffer)){let i=Buffer.from(n.buffer,n.byteOffset,n.byteLength);i.length===n.byteLength?n=i:n=i.slice(n.byteOffset,n.byteOffset+n.byteLength)}e+="\\\\x"+n.toString("hex")}else e+=WCt(bL(t[r]));return e=e+"}",e}var bL=function(t,e){if(t==null)return null;if(typeof t=="object"){if(t instanceof Buffer)return t;if(ArrayBuffer.isView(t)){let r=Buffer.from(t.buffer,t.byteOffset,t.byteLength);return r.length===t.byteLength?r:r.slice(t.byteOffset,t.byteOffset+t.byteLength)}return qCt(t)?jCt.parseInputDatesAsUTC?QCt(t):KCt(t):Array.isArray(t)?NUe(t):JCt(t,e)}return t.toString()};function JCt(t,e){if(t&&typeof t.toPostgres=="function"){if(e=e||[],e.indexOf(t)!==-1)throw new Error('circular reference detected while preparing "'+t+'" for query');return e.push(t),bL(t.toPostgres(bL),e)}return JSON.stringify(t)}function KCt(t){let e=-t.getTimezoneOffset(),r=t.getFullYear(),n=r<1;n&&(r=Math.abs(r)+1);let i=String(r).padStart(4,"0")+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")+"T"+String(t.getHours()).padStart(2,"0")+":"+String(t.getMinutes()).padStart(2,"0")+":"+String(t.getSeconds()).padStart(2,"0")+"."+String(t.getMilliseconds()).padStart(3,"0");return e<0?(i+="-",e*=-1):i+="+",i+=String(Math.floor(e/60)).padStart(2,"0")+":"+String(e%60).padStart(2,"0"),n&&(i+=" BC"),i}function QCt(t){let e=t.getUTCFullYear(),r=e<1;r&&(e=Math.abs(e)+1);let n=String(e).padStart(4,"0")+"-"+String(t.getUTCMonth()+1).padStart(2,"0")+"-"+String(t.getUTCDate()).padStart(2,"0")+"T"+String(t.getUTCHours()).padStart(2,"0")+":"+String(t.getUTCMinutes()).padStart(2,"0")+":"+String(t.getUTCSeconds()).padStart(2,"0")+"."+String(t.getUTCMilliseconds()).padStart(3,"0");return n+="+00:00",r&&(n+=" BC"),n}function XCt(t,e,r){return t=typeof t=="string"?{text:t}:t,e&&(typeof e=="function"?t.callback=e:t.values=e),r&&(t.callback=r),t}var YCt=function(t){return'"'+t.replace(/"/g,'""')+'"'},ZCt=function(t){let e=!1,r="'";if(t==null||typeof t!="string")return"''";for(let n=0;n<t.length;n++){let i=t[n];i==="'"?r+=i+i:i==="\\"?(r+=i+i,e=!0):r+=i}return r+="'",e===!0&&(r=" E"+r),r};OUe.exports={prepareValue:function(e){return bL(e)},normalizeQueryConfig:XCt,escapeIdentifier:YCt,escapeLiteral:ZCt}});var kUe=ze((j0n,PUe)=>{"use strict";var Tw=yt("crypto");function Doe(t){return Tw.createHash("md5").update(t,"utf-8").digest("hex")}function eNt(t,e,r){let n=Doe(e+t);return"md5"+Doe(Buffer.concat([Buffer.from(n),r]))}function tNt(t){return Tw.createHash("sha256").update(t).digest()}function rNt(t,e){return t=t.replace(/(\D)-/,"$1"),Tw.createHash(t).update(e).digest()}function nNt(t,e){return Tw.createHmac("sha256",t).update(e).digest()}async function iNt(t,e,r){return Tw.pbkdf2Sync(t,e,r,32,"sha256")}PUe.exports={postgresMd5PasswordHash:eNt,randomBytes:Tw.randomBytes,deriveKey:iNt,sha256:tNt,hashByName:rNt,hmacSha256:nNt,md5:Doe}});var BUe=ze((q0n,LUe)=>{"use strict";var DUe=yt("crypto");LUe.exports={postgresMd5PasswordHash:sNt,randomBytes:oNt,deriveKey:uNt,sha256:aNt,hashByName:cNt,hmacSha256:lNt,md5:Moe};var MUe=DUe.webcrypto||globalThis.crypto,pv=MUe.subtle,Loe=new TextEncoder;function oNt(t){return MUe.getRandomValues(Buffer.alloc(t))}async function Moe(t){try{return DUe.createHash("md5").update(t,"utf-8").digest("hex")}catch{let r=typeof t=="string"?Loe.encode(t):t,n=await pv.digest("MD5",r);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}}async function sNt(t,e,r){let n=await Moe(e+t);return"md5"+await Moe(Buffer.concat([Buffer.from(n),r]))}async function aNt(t){return await pv.digest("SHA-256",t)}async function cNt(t,e){return await pv.digest(t,e)}async function lNt(t,e){let r=await pv.importKey("raw",t,{name:"HMAC",hash:"SHA-256"},!1,["sign"]);return await pv.sign("HMAC",r,Loe.encode(e))}async function uNt(t,e,r){let n=await pv.importKey("raw",Loe.encode(t),"PBKDF2",!1,["deriveBits"]),i={name:"PBKDF2",hash:"SHA-256",salt:e,iterations:r};return await pv.deriveBits(i,n,256,["deriveBits"])}});var $oe=ze((W0n,Boe)=>{"use strict";var dNt=parseInt(process.versions&&process.versions.node&&process.versions.node.split(".")[0])<15;dNt?Boe.exports=kUe():Boe.exports=BUe()});var FUe=ze((J0n,UUe)=>{"use strict";function fv(t,e){return new Error("SASL channel binding: "+t+" when parsing public certificate "+e.toString("base64"))}function Uoe(t,e){let r=t[e++];if(r<128)return{length:r,index:e};let n=r&127;if(n>4)throw fv("bad length",t);r=0;for(let i=0;i<n;i++)r=r<<8|t[e++];return{length:r,index:e}}function $Ue(t,e){if(t[e++]!==6)throw fv("non-OID data",t);let{length:r,index:n}=Uoe(t,e);e=n;let i=e+r,o=t[e++],s=(o/40>>0)+"."+o%40;for(;e<i;){let a=0;for(;e<i;){let c=t[e++];if(a=a<<7|c&127,c<128)break}s+="."+a}return{oid:s,index:e}}function S3(t,e){if(t[e++]!==48)throw fv("non-sequence data",t);return Uoe(t,e)}function pNt(t,e){e===void 0&&(e=0),e=S3(t,e).index;let{length:r,index:n}=S3(t,e);e=n+r,e=S3(t,e).index;let{oid:i,index:o}=$Ue(t,e);switch(i){case"1.2.840.113549.1.1.4":return"MD5";case"1.2.840.113549.1.1.5":return"SHA-1";case"1.2.840.113549.1.1.11":return"SHA-256";case"1.2.840.113549.1.1.12":return"SHA-384";case"1.2.840.113549.1.1.13":return"SHA-512";case"1.2.840.113549.1.1.14":return"SHA-224";case"1.2.840.113549.1.1.15":return"SHA512-224";case"1.2.840.113549.1.1.16":return"SHA512-256";case"1.2.840.10045.4.1":return"SHA-1";case"1.2.840.10045.4.3.1":return"SHA-224";case"1.2.840.10045.4.3.2":return"SHA-256";case"1.2.840.10045.4.3.3":return"SHA-384";case"1.2.840.10045.4.3.4":return"SHA-512";case"1.2.840.113549.1.1.10":{if(e=o,e=S3(t,e).index,t[e++]!==160)throw fv("non-tag data",t);e=Uoe(t,e).index,e=S3(t,e).index;let{oid:s}=$Ue(t,e);switch(s){case"1.2.840.113549.2.5":return"MD5";case"1.3.14.3.2.26":return"SHA-1";case"2.16.840.1.101.3.4.2.1":return"SHA-256";case"2.16.840.1.101.3.4.2.2":return"SHA-384";case"2.16.840.1.101.3.4.2.3":return"SHA-512"}throw fv("unknown hash OID "+s,t)}case"1.3.101.110":case"1.3.101.112":return"SHA-512";case"1.3.101.111":case"1.3.101.113":throw fv("Ed448 certificate channel binding is not currently supported by Postgres")}throw fv("unknown OID "+i,t)}UUe.exports={signatureAlgorithmHashFromCertificate:pNt}});var GUe=ze((K0n,VUe)=>{"use strict";var z0=$oe(),{signatureAlgorithmHashFromCertificate:fNt}=FUe();function mNt(t,e){let r=["SCRAM-SHA-256"];e&&r.unshift("SCRAM-SHA-256-PLUS");let n=r.find(s=>t.includes(s));if(!n)throw new Error("SASL: Only mechanism(s) "+r.join(" and ")+" are supported");if(n==="SCRAM-SHA-256-PLUS"&&typeof e.getPeerCertificate!="function")throw new Error("SASL: Mechanism SCRAM-SHA-256-PLUS requires a certificate");let i=z0.randomBytes(18).toString("base64");return{mechanism:n,clientNonce:i,response:(n==="SCRAM-SHA-256-PLUS"?"p=tls-server-end-point":e?"y":"n")+",,n=*,r="+i,message:"SASLInitialResponse"}}async function hNt(t,e,r,n){if(t.message!=="SASLInitialResponse")throw new Error("SASL: Last message was not SASLInitialResponse");if(typeof e!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string");if(e==="")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a non-empty string");if(typeof r!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a string");let i=bNt(r);if(i.nonce.startsWith(t.clientNonce)){if(i.nonce.length===t.clientNonce.length)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");let o="n=*,r="+t.clientNonce,s="r="+i.nonce+",s="+i.salt+",i="+i.iteration,a=n?"eSws":"biws";if(t.mechanism==="SCRAM-SHA-256-PLUS"){let v=n.getPeerCertificate().raw,S=fNt(v);(S==="MD5"||S==="SHA-1")&&(S="SHA-256");let w=await z0.hashByName(S,v);a=Buffer.concat([Buffer.from("p=tls-server-end-point,,"),Buffer.from(w)]).toString("base64")}let c="c="+a+",r="+i.nonce,l=o+","+s+","+c,u=Buffer.from(i.salt,"base64"),d=await z0.deriveKey(e,u,i.iteration),p=await z0.hmacSha256(d,"Client Key"),f=await z0.sha256(p),h=await z0.hmacSha256(f,l),m=_Nt(Buffer.from(p),Buffer.from(h)).toString("base64"),g=await z0.hmacSha256(d,"Server Key"),y=await z0.hmacSha256(g,l);t.message="SASLResponse",t.serverSignature=Buffer.from(y).toString("base64"),t.response=c+",p="+m}function gNt(t,e){if(t.message!=="SASLResponse")throw new Error("SASL: Last message was not SASLResponse");if(typeof e!="string")throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: serverData must be a string");let{serverSignature:r}=vNt(e);if(r!==t.serverSignature)throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}function yNt(t){if(typeof t!="string")throw new TypeError("SASL: text must be a string");return t.split("").map((e,r)=>t.charCodeAt(r)).every(e=>e>=33&&e<=43||e>=45&&e<=126)}function zUe(t){return/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(t)}function HUe(t){if(typeof t!="string")throw new TypeError("SASL: attribute pairs text must be a string");return new Map(t.split(",").map(e=>{if(!/^.=/.test(e))throw new Error("SASL: Invalid attribute pair entry");let r=e[0],n=e.substring(2);return[r,n]}))}function bNt(t){let e=HUe(t),r=e.get("r");if(r){if(!yNt(r))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce must only contain printable characters")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");let n=e.get("s");if(n){if(!zUe(n))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");let i=e.get("i");if(i){if(!/^[1-9][0-9]*$/.test(i))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration count")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");let o=parseInt(i,10);return{nonce:r,salt:n,iteration:o}}function vNt(t){let r=HUe(t).get("v");if(r){if(!zUe(r))throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64")}else throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing");return{serverSignature:r}}function _Nt(t,e){if(!Buffer.isBuffer(t))throw new TypeError("first argument must be a Buffer");if(!Buffer.isBuffer(e))throw new TypeError("second argument must be a Buffer");if(t.length!==e.length)throw new Error("Buffer lengths must match");if(t.length===0)throw new Error("Buffers cannot be empty");return Buffer.from(t.map((r,n)=>t[n]^e[n]))}VUe.exports={startSession:mNt,continueSession:hNt,finalizeSession:gNt}});var _L=ze((Q0n,jUe)=>{"use strict";var SNt=v3();function vL(t){this._types=t||SNt,this.text={},this.binary={}}vL.prototype.getOverrides=function(t){switch(t){case"text":return this.text;case"binary":return this.binary;default:return{}}};vL.prototype.setTypeParser=function(t,e,r){typeof e=="function"&&(r=e,e="text"),this.getOverrides(e)[t]=r};vL.prototype.getTypeParser=function(t,e){return e=e||"text",this.getOverrides(e)[t]||this._types.getTypeParser(t,e)};jUe.exports=vL});var JUe=ze((X0n,WUe)=>{"use strict";function Rw(t,e={}){if(t.charAt(0)==="/"){let c=t.split(" ");return{host:c[0],database:c[1]}}let r={},n,i=!1;/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(t)&&(t=encodeURI(t).replace(/%25(\d\d)/g,"%$1"));try{try{n=new URL(t,"postgres://base")}catch{n=new URL(t.replace("@/","@___DUMMY___/"),"postgres://base"),i=!0}}catch(c){throw c.input&&(c.input="*****REDACTED*****"),c}for(let c of n.searchParams.entries())r[c[0]]=c[1];if(r.user=r.user||decodeURIComponent(n.username),r.password=r.password||decodeURIComponent(n.password),n.protocol=="socket:")return r.host=decodeURI(n.pathname),r.database=n.searchParams.get("db"),r.client_encoding=n.searchParams.get("encoding"),r;let o=i?"":n.hostname;r.host?o&&/^%2f/i.test(o)&&(n.pathname=o+n.pathname):r.host=decodeURIComponent(o),r.port||(r.port=n.port);let s=n.pathname.slice(1)||null;r.database=s?decodeURI(s):null,(r.ssl==="true"||r.ssl==="1")&&(r.ssl=!0),r.ssl==="0"&&(r.ssl=!1),(r.sslcert||r.sslkey||r.sslrootcert||r.sslmode)&&(r.ssl={});let a=r.sslcert||r.sslkey||r.sslrootcert?yt("fs"):null;if(r.sslcert&&(r.ssl.cert=a.readFileSync(r.sslcert).toString()),r.sslkey&&(r.ssl.key=a.readFileSync(r.sslkey).toString()),r.sslrootcert&&(r.ssl.ca=a.readFileSync(r.sslrootcert).toString()),e.useLibpqCompat&&r.uselibpqcompat)throw new Error("Both useLibpqCompat and uselibpqcompat are set. Please use only one of them.");if(r.uselibpqcompat==="true"||e.useLibpqCompat)switch(r.sslmode){case"disable":{r.ssl=!1;break}case"prefer":{r.ssl.rejectUnauthorized=!1;break}case"require":{r.sslrootcert?r.ssl.checkServerIdentity=function(){}:r.ssl.rejectUnauthorized=!1;break}case"verify-ca":{if(!r.ssl.ca)throw new Error("SECURITY WARNING: Using sslmode=verify-ca requires specifying a CA with sslrootcert. If a public CA is used, verify-ca allows connections to a server that somebody else may have registered with the CA, making you vulnerable to Man-in-the-Middle attacks. Either specify a custom CA certificate with sslrootcert parameter or use sslmode=verify-full for proper security.");r.ssl.checkServerIdentity=function(){};break}case"verify-full":break}else switch(r.sslmode){case"disable":{r.ssl=!1;break}case"prefer":case"require":case"verify-ca":case"verify-full":{r.sslmode!=="verify-full"&&Foe(r.sslmode);break}case"no-verify":{r.ssl.rejectUnauthorized=!1;break}}return r}function xNt(t){return Object.entries(t).reduce((r,[n,i])=>(i!=null&&(r[n]=i),r),{})}function qUe(t){return Object.entries(t).reduce((r,[n,i])=>{if(n==="ssl"){let o=i;typeof o=="boolean"&&(r[n]=o),typeof o=="object"&&(r[n]=xNt(o))}else if(i!=null)if(n==="port"){if(i!==""){let o=parseInt(i,10);if(isNaN(o))throw new Error(`Invalid ${n}: ${i}`);r[n]=o}}else r[n]=i;return r},{})}function wNt(t){return qUe(Rw(t))}function Foe(t){!Foe.warned&&typeof process<"u"&&process.emitWarning&&(Foe.warned=!0,process.emitWarning(`SECURITY WARNING: The SSL modes 'prefer', 'require', and 'verify-ca' are treated as aliases for 'verify-full'.
In the next major version (pg-connection-string v3.0.0 and pg v9.0.0), these modes will adopt standard libpq semantics, which have weaker security guarantees.

To prepare for this change:
- If you want the current behavior, explicitly use 'sslmode=verify-full'
- If you want libpq compatibility now, use 'uselibpqcompat=true&sslmode=${t}'

See https://www.postgresql.org/docs/current/libpq-ssl.html for libpq SSL mode definitions.`))}WUe.exports=Rw;Rw.parse=Rw;Rw.toClientConfig=qUe;Rw.parseIntoClientConfig=wNt});var Hoe=ze((Y0n,XUe)=>{"use strict";var ANt=yt("dns"),QUe=_3(),KUe=JUe().parse,Pa=function(t,e,r){return e[t]?e[t]:(r===void 0?r=process.env["PG"+t.toUpperCase()]:r===!1||(r=process.env[r]),r||QUe[t])},ENt=function(){switch(process.env.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return QUe.ssl},Iw=function(t){return"'"+(""+t).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},$u=function(t,e,r){let n=e[r];n!=null&&t.push(r+"="+Iw(n))},zoe=class{constructor(e){e=typeof e=="string"?KUe(e):e||{},e.connectionString&&(e=Object.assign({},e,KUe(e.connectionString))),this.user=Pa("user",e),this.database=Pa("database",e),this.database===void 0&&(this.database=this.user),this.port=parseInt(Pa("port",e),10),this.host=Pa("host",e),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:Pa("password",e)}),this.binary=Pa("binary",e),this.options=Pa("options",e),this.ssl=typeof e.ssl>"u"?ENt():e.ssl,typeof this.ssl=="string"&&this.ssl==="true"&&(this.ssl=!0),this.ssl==="no-verify"&&(this.ssl={rejectUnauthorized:!1}),this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this.client_encoding=Pa("client_encoding",e),this.replication=Pa("replication",e),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=Pa("application_name",e,"PGAPPNAME"),this.fallback_application_name=Pa("fallback_application_name",e,!1),this.statement_timeout=Pa("statement_timeout",e,!1),this.lock_timeout=Pa("lock_timeout",e,!1),this.idle_in_transaction_session_timeout=Pa("idle_in_transaction_session_timeout",e,!1),this.query_timeout=Pa("query_timeout",e,!1),e.connectionTimeoutMillis===void 0?this.connect_timeout=process.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(e.connectionTimeoutMillis/1e3),e.keepAlive===!1?this.keepalives=0:e.keepAlive===!0&&(this.keepalives=1),typeof e.keepAliveInitialDelayMillis=="number"&&(this.keepalives_idle=Math.floor(e.keepAliveInitialDelayMillis/1e3))}getLibpqConnectionString(e){let r=[];$u(r,this,"user"),$u(r,this,"password"),$u(r,this,"port"),$u(r,this,"application_name"),$u(r,this,"fallback_application_name"),$u(r,this,"connect_timeout"),$u(r,this,"options");let n=typeof this.ssl=="object"?this.ssl:this.ssl?{sslmode:this.ssl}:{};if($u(r,n,"sslmode"),$u(r,n,"sslca"),$u(r,n,"sslkey"),$u(r,n,"sslcert"),$u(r,n,"sslrootcert"),this.database&&r.push("dbname="+Iw(this.database)),this.replication&&r.push("replication="+Iw(this.replication)),this.host&&r.push("host="+Iw(this.host)),this.isDomainSocket)return e(null,r.join(" "));this.client_encoding&&r.push("client_encoding="+Iw(this.client_encoding)),ANt.lookup(this.host,function(i,o){return i?e(i,null):(r.push("hostaddr="+Iw(o)),e(null,r.join(" ")))})}};XUe.exports=zoe});var Goe=ze((Z0n,ZUe)=>{"use strict";var TNt=v3(),YUe=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/,Voe=class{constructor(e,r){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=r,this.RowCtor=null,this.rowAsArray=e==="array",this.rowAsArray&&(this.parseRow=this._parseRowAsArray),this._prebuiltEmptyResultObject=null}addCommandComplete(e){let r;e.text?r=YUe.exec(e.text):r=YUe.exec(e.command),r&&(this.command=r[1],r[3]?(this.oid=parseInt(r[2],10),this.rowCount=parseInt(r[3],10)):r[2]&&(this.rowCount=parseInt(r[2],10)))}_parseRowAsArray(e){let r=new Array(e.length);for(let n=0,i=e.length;n<i;n++){let o=e[n];o!==null?r[n]=this._parsers[n](o):r[n]=null}return r}parseRow(e){let r={...this._prebuiltEmptyResultObject};for(let n=0,i=e.length;n<i;n++){let o=e[n],s=this.fields[n].name;if(o!==null){let a=this.fields[n].format==="binary"?Buffer.from(o):o;r[s]=this._parsers[n](a)}else r[s]=null}return r}addRow(e){this.rows.push(e)}addFields(e){this.fields=e,this.fields.length&&(this._parsers=new Array(e.length));let r={};for(let n=0;n<e.length;n++){let i=e[n];r[i.name]=null,this._types?this._parsers[n]=this._types.getTypeParser(i.dataTypeID,i.format||"text"):this._parsers[n]=TNt.getTypeParser(i.dataTypeID,i.format||"text")}this._prebuiltEmptyResultObject={...r}}};ZUe.exports=Voe});var nFe=ze((e1n,rFe)=>{"use strict";var{EventEmitter:RNt}=yt("events"),eFe=Goe(),tFe=Ew(),joe=class extends RNt{constructor(e,r,n){super(),e=tFe.normalizeQueryConfig(e,r,n),this.text=e.text,this.values=e.values,this.rows=e.rows,this.types=e.types,this.name=e.name,this.queryMode=e.queryMode,this.binary=e.binary,this.portal=e.portal||"",this.callback=e.callback,this._rowMode=e.rowMode,process.domain&&e.callback&&(this.callback=process.domain.bind(e.callback)),this._result=new eFe(this._rowMode,this.types),this._results=this._result,this._canceledDueToError=!1}requiresPreparation(){return this.queryMode==="extended"||this.name||this.rows?!0:!this.text||!this.values?!1:this.values.length>0}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new eFe(this._rowMode,this._result._types),this._results.push(this._result))}handleRowDescription(e){this._checkForMultirow(),this._result.addFields(e.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(e){let r;if(!this._canceledDueToError){try{r=this._result.parseRow(e.fields)}catch(n){this._canceledDueToError=n;return}this.emit("row",r,this._result),this._accumulateRows&&this._result.addRow(r)}}handleCommandComplete(e,r){this._checkForMultirow(),this._result.addCommandComplete(e),this.rows&&r.sync()}handleEmptyQuery(e){this.rows&&e.sync()}handleError(e,r){if(this._canceledDueToError&&(e=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(e);this.emit("error",e)}handleReadyForQuery(e){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,e);if(this.callback)try{this.callback(null,this._results)}catch(r){process.nextTick(()=>{throw r})}this.emit("end",this._results)}submit(e){if(typeof this.text!="string"&&typeof this.name!="string")return new Error("A query must have either text or a name. Supplying neither is unsupported.");let r=e.parsedStatements[this.name];if(this.text&&r&&this.text!==r)return new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);if(this.values&&!Array.isArray(this.values))return new Error("Query values must be an array");if(this.requiresPreparation()){e.stream.cork&&e.stream.cork();try{this.prepare(e)}finally{e.stream.uncork&&e.stream.uncork()}}else e.query(this.text);return null}hasBeenParsed(e){return this.name&&e.parsedStatements[this.name]}handlePortalSuspended(e){this._getRows(e,this.rows)}_getRows(e,r){e.execute({portal:this.portal,rows:r}),r?e.flush():e.sync()}prepare(e){this.hasBeenParsed(e)||e.parse({text:this.text,name:this.name,types:this.types});try{e.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary,valueMapper:tFe.prepareValue})}catch(r){this.handleError(r,e);return}e.describe({type:"P",name:this.portal||""}),this._getRows(e,this.rows)}handleCopyInResponse(e){e.sendCopyFail("No source stream defined")}handleCopyData(e,r){}};rFe.exports=joe});var sse=ze(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.NoticeMessage=cr.DataRowMessage=cr.CommandCompleteMessage=cr.ReadyForQueryMessage=cr.NotificationResponseMessage=cr.BackendKeyDataMessage=cr.AuthenticationMD5Password=cr.ParameterStatusMessage=cr.ParameterDescriptionMessage=cr.RowDescriptionMessage=cr.Field=cr.CopyResponse=cr.CopyDataMessage=cr.DatabaseError=cr.copyDone=cr.emptyQuery=cr.replicationStart=cr.portalSuspended=cr.noData=cr.closeComplete=cr.bindComplete=cr.parseComplete=void 0;cr.parseComplete={name:"parseComplete",length:5};cr.bindComplete={name:"bindComplete",length:5};cr.closeComplete={name:"closeComplete",length:5};cr.noData={name:"noData",length:5};cr.portalSuspended={name:"portalSuspended",length:5};cr.replicationStart={name:"replicationStart",length:4};cr.emptyQuery={name:"emptyQuery",length:4};cr.copyDone={name:"copyDone",length:4};var qoe=class extends Error{constructor(e,r,n){super(e),this.length=r,this.name=n}};cr.DatabaseError=qoe;var Woe=class{constructor(e,r){this.length=e,this.chunk=r,this.name="copyData"}};cr.CopyDataMessage=Woe;var Joe=class{constructor(e,r,n,i){this.length=e,this.name=r,this.binary=n,this.columnTypes=new Array(i)}};cr.CopyResponse=Joe;var Koe=class{constructor(e,r,n,i,o,s,a){this.name=e,this.tableID=r,this.columnID=n,this.dataTypeID=i,this.dataTypeSize=o,this.dataTypeModifier=s,this.format=a}};cr.Field=Koe;var Qoe=class{constructor(e,r){this.length=e,this.fieldCount=r,this.name="rowDescription",this.fields=new Array(this.fieldCount)}};cr.RowDescriptionMessage=Qoe;var Xoe=class{constructor(e,r){this.length=e,this.parameterCount=r,this.name="parameterDescription",this.dataTypeIDs=new Array(this.parameterCount)}};cr.ParameterDescriptionMessage=Xoe;var Yoe=class{constructor(e,r,n){this.length=e,this.parameterName=r,this.parameterValue=n,this.name="parameterStatus"}};cr.ParameterStatusMessage=Yoe;var Zoe=class{constructor(e,r){this.length=e,this.salt=r,this.name="authenticationMD5Password"}};cr.AuthenticationMD5Password=Zoe;var ese=class{constructor(e,r,n){this.length=e,this.processID=r,this.secretKey=n,this.name="backendKeyData"}};cr.BackendKeyDataMessage=ese;var tse=class{constructor(e,r,n,i){this.length=e,this.processId=r,this.channel=n,this.payload=i,this.name="notification"}};cr.NotificationResponseMessage=tse;var rse=class{constructor(e,r){this.length=e,this.status=r,this.name="readyForQuery"}};cr.ReadyForQueryMessage=rse;var nse=class{constructor(e,r){this.length=e,this.text=r,this.name="commandComplete"}};cr.CommandCompleteMessage=nse;var ise=class{constructor(e,r){this.length=e,this.fields=r,this.name="dataRow",this.fieldCount=r.length}};cr.DataRowMessage=ise;var ose=class{constructor(e,r){this.length=e,this.message=r,this.name="notice"}};cr.NoticeMessage=ose});var iFe=ze(SL=>{"use strict";Object.defineProperty(SL,"__esModule",{value:!0});SL.Writer=void 0;var ase=class{constructor(e=256){this.size=e,this.offset=5,this.headerPosition=0,this.buffer=Buffer.allocUnsafe(e)}ensure(e){if(this.buffer.length-this.offset<e){let n=this.buffer,i=n.length+(n.length>>1)+e;this.buffer=Buffer.allocUnsafe(i),n.copy(this.buffer)}}addInt32(e){return this.ensure(4),this.buffer[this.offset++]=e>>>24&255,this.buffer[this.offset++]=e>>>16&255,this.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this}addInt16(e){return this.ensure(2),this.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this}addCString(e){if(!e)this.ensure(1);else{let r=Buffer.byteLength(e);this.ensure(r+1),this.buffer.write(e,this.offset,"utf-8"),this.offset+=r}return this.buffer[this.offset++]=0,this}addString(e=""){let r=Buffer.byteLength(e);return this.ensure(r),this.buffer.write(e,this.offset),this.offset+=r,this}add(e){return this.ensure(e.length),e.copy(this.buffer,this.offset),this.offset+=e.length,this}join(e){if(e){this.buffer[this.headerPosition]=e;let r=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(r,this.headerPosition+1)}return this.buffer.slice(e?0:5,this.offset)}flush(e){let r=this.join(e);return this.offset=5,this.headerPosition=0,this.buffer=Buffer.allocUnsafe(this.size),r}};SL.Writer=ase});var sFe=ze(wL=>{"use strict";Object.defineProperty(wL,"__esModule",{value:!0});wL.serialize=void 0;var cse=iFe(),mi=new cse.Writer,INt=t=>{mi.addInt16(3).addInt16(0);for(let n of Object.keys(t))mi.addCString(n).addCString(t[n]);mi.addCString("client_encoding").addCString("UTF8");let e=mi.addCString("").flush(),r=e.length+4;return new cse.Writer().addInt32(r).add(e).flush()},CNt=()=>{let t=Buffer.allocUnsafe(8);return t.writeInt32BE(8,0),t.writeInt32BE(80877103,4),t},NNt=t=>mi.addCString(t).flush(112),ONt=function(t,e){return mi.addCString(t).addInt32(Buffer.byteLength(e)).addString(e),mi.flush(112)},PNt=function(t){return mi.addString(t).flush(112)},kNt=t=>mi.addCString(t).flush(81),oFe=[],DNt=t=>{let e=t.name||"";e.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",e,e.length),console.error("This can cause conflicts and silent errors executing queries"));let r=t.types||oFe,n=r.length,i=mi.addCString(e).addCString(t.text).addInt16(n);for(let o=0;o<n;o++)i.addInt32(r[o]);return mi.flush(80)},Cw=new cse.Writer,MNt=function(t,e){for(let r=0;r<t.length;r++){let n=e?e(t[r],r):t[r];n==null?(mi.addInt16(0),Cw.addInt32(-1)):n instanceof Buffer?(mi.addInt16(1),Cw.addInt32(n.length),Cw.add(n)):(mi.addInt16(0),Cw.addInt32(Buffer.byteLength(n)),Cw.addString(n))}},LNt=(t={})=>{let e=t.portal||"",r=t.statement||"",n=t.binary||!1,i=t.values||oFe,o=i.length;return mi.addCString(e).addCString(r),mi.addInt16(o),MNt(i,t.valueMapper),mi.addInt16(o),mi.add(Cw.flush()),mi.addInt16(1),mi.addInt16(n?1:0),mi.flush(66)},BNt=Buffer.from([69,0,0,0,9,0,0,0,0,0]),$Nt=t=>{if(!t||!t.portal&&!t.rows)return BNt;let e=t.portal||"",r=t.rows||0,n=Buffer.byteLength(e),i=4+n+1+4,o=Buffer.allocUnsafe(1+i);return o[0]=69,o.writeInt32BE(i,1),o.write(e,5,"utf-8"),o[n+5]=0,o.writeUInt32BE(r,o.length-4),o},UNt=(t,e)=>{let r=Buffer.allocUnsafe(16);return r.writeInt32BE(16,0),r.writeInt16BE(1234,4),r.writeInt16BE(5678,6),r.writeInt32BE(t,8),r.writeInt32BE(e,12),r},lse=(t,e)=>{let n=4+Buffer.byteLength(e)+1,i=Buffer.allocUnsafe(1+n);return i[0]=t,i.writeInt32BE(n,1),i.write(e,5,"utf-8"),i[n]=0,i},FNt=mi.addCString("P").flush(68),zNt=mi.addCString("S").flush(68),HNt=t=>t.name?lse(68,`${t.type}${t.name||""}`):t.type==="P"?FNt:zNt,VNt=t=>{let e=`${t.type}${t.name||""}`;return lse(67,e)},GNt=t=>mi.add(t).flush(100),jNt=t=>lse(102,t),xL=t=>Buffer.from([t,0,0,0,4]),qNt=xL(72),WNt=xL(83),JNt=xL(88),KNt=xL(99),QNt={startup:INt,password:NNt,requestSsl:CNt,sendSASLInitialResponseMessage:ONt,sendSCRAMClientFinalMessage:PNt,query:kNt,parse:DNt,bind:LNt,execute:$Nt,describe:HNt,close:VNt,flush:()=>qNt,sync:()=>WNt,end:()=>JNt,copyData:GNt,copyDone:()=>KNt,copyFail:jNt,cancel:UNt};wL.serialize=QNt});var aFe=ze(AL=>{"use strict";Object.defineProperty(AL,"__esModule",{value:!0});AL.BufferReader=void 0;var XNt=Buffer.allocUnsafe(0),use=class{constructor(e=0){this.offset=e,this.buffer=XNt,this.encoding="utf-8"}setBuffer(e,r){this.offset=e,this.buffer=r}int16(){let e=this.buffer.readInt16BE(this.offset);return this.offset+=2,e}byte(){let e=this.buffer[this.offset];return this.offset++,e}int32(){let e=this.buffer.readInt32BE(this.offset);return this.offset+=4,e}uint32(){let e=this.buffer.readUInt32BE(this.offset);return this.offset+=4,e}string(e){let r=this.buffer.toString(this.encoding,this.offset,this.offset+e);return this.offset+=e,r}cstring(){let e=this.offset,r=e;for(;this.buffer[r++]!==0;);return this.offset=r,this.buffer.toString(this.encoding,e,r-1)}bytes(e){let r=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,r}};AL.BufferReader=use});var dFe=ze(EL=>{"use strict";Object.defineProperty(EL,"__esModule",{value:!0});EL.Parser=void 0;var Ii=sse(),YNt=aFe(),pse=1,ZNt=4,cFe=pse+ZNt,ll=-1,dse=Buffer.allocUnsafe(0),fse=class{constructor(e){if(this.buffer=dse,this.bufferLength=0,this.bufferOffset=0,this.reader=new YNt.BufferReader,e?.mode==="binary")throw new Error("Binary mode not supported yet");this.mode=e?.mode||"text"}parse(e,r){this.mergeBuffer(e);let n=this.bufferOffset+this.bufferLength,i=this.bufferOffset;for(;i+cFe<=n;){let o=this.buffer[i],s=this.buffer.readUInt32BE(i+pse),a=pse+s;if(a+i<=n){let c=this.handlePacket(i+cFe,o,s,this.buffer);r(c),i+=a}else break}i===n?(this.buffer=dse,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=n-i,this.bufferOffset=i)}mergeBuffer(e){if(this.bufferLength>0){let r=this.bufferLength+e.byteLength;if(r+this.bufferOffset>this.buffer.byteLength){let i;if(r<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)i=this.buffer;else{let o=this.buffer.byteLength*2;for(;r>=o;)o*=2;i=Buffer.allocUnsafe(o)}this.buffer.copy(i,0,this.bufferOffset,this.bufferOffset+this.bufferLength),this.buffer=i,this.bufferOffset=0}e.copy(this.buffer,this.bufferOffset+this.bufferLength),this.bufferLength=r}else this.buffer=e,this.bufferOffset=0,this.bufferLength=e.byteLength}handlePacket(e,r,n,i){let{reader:o}=this;o.setBuffer(e,i);let s;switch(r){case 50:s=Ii.bindComplete;break;case 49:s=Ii.parseComplete;break;case 51:s=Ii.closeComplete;break;case 110:s=Ii.noData;break;case 115:s=Ii.portalSuspended;break;case 99:s=Ii.copyDone;break;case 87:s=Ii.replicationStart;break;case 73:s=Ii.emptyQuery;break;case 68:s=lOt(o);break;case 67:s=tOt(o);break;case 90:s=eOt(o);break;case 65:s=oOt(o);break;case 82:s=pOt(o,n);break;case 83:s=uOt(o);break;case 75:s=dOt(o);break;case 69:s=lFe(o,"error");break;case 78:s=lFe(o,"notice");break;case 84:s=sOt(o);break;case 116:s=cOt(o);break;case 71:s=nOt(o);break;case 72:s=iOt(o);break;case 100:s=rOt(o,n);break;default:return new Ii.DatabaseError("received invalid response: "+r.toString(16),n,"error")}return o.setBuffer(0,dse),s.length=n,s}};EL.Parser=fse;var eOt=t=>{let e=t.string(1);return new Ii.ReadyForQueryMessage(ll,e)},tOt=t=>{let e=t.cstring();return new Ii.CommandCompleteMessage(ll,e)},rOt=(t,e)=>{let r=t.bytes(e-4);return new Ii.CopyDataMessage(ll,r)},nOt=t=>uFe(t,"copyInResponse"),iOt=t=>uFe(t,"copyOutResponse"),uFe=(t,e)=>{let r=t.byte()!==0,n=t.int16(),i=new Ii.CopyResponse(ll,e,r,n);for(let o=0;o<n;o++)i.columnTypes[o]=t.int16();return i},oOt=t=>{let e=t.int32(),r=t.cstring(),n=t.cstring();return new Ii.NotificationResponseMessage(ll,e,r,n)},sOt=t=>{let e=t.int16(),r=new Ii.RowDescriptionMessage(ll,e);for(let n=0;n<e;n++)r.fields[n]=aOt(t);return r},aOt=t=>{let e=t.cstring(),r=t.uint32(),n=t.int16(),i=t.uint32(),o=t.int16(),s=t.int32(),a=t.int16()===0?"text":"binary";return new Ii.Field(e,r,n,i,o,s,a)},cOt=t=>{let e=t.int16(),r=new Ii.ParameterDescriptionMessage(ll,e);for(let n=0;n<e;n++)r.dataTypeIDs[n]=t.int32();return r},lOt=t=>{let e=t.int16(),r=new Array(e);for(let n=0;n<e;n++){let i=t.int32();r[n]=i===-1?null:t.string(i)}return new Ii.DataRowMessage(ll,r)},uOt=t=>{let e=t.cstring(),r=t.cstring();return new Ii.ParameterStatusMessage(ll,e,r)},dOt=t=>{let e=t.int32(),r=t.int32();return new Ii.BackendKeyDataMessage(ll,e,r)},pOt=(t,e)=>{let r=t.int32(),n={name:"authenticationOk",length:e};switch(r){case 0:break;case 3:n.length===8&&(n.name="authenticationCleartextPassword");break;case 5:if(n.length===12){n.name="authenticationMD5Password";let i=t.bytes(4);return new Ii.AuthenticationMD5Password(ll,i)}break;case 10:{n.name="authenticationSASL",n.mechanisms=[];let i;do i=t.cstring(),i&&n.mechanisms.push(i);while(i)}break;case 11:n.name="authenticationSASLContinue",n.data=t.string(e-8);break;case 12:n.name="authenticationSASLFinal",n.data=t.string(e-8);break;default:throw new Error("Unknown authenticationOk message type "+r)}return n},lFe=(t,e)=>{let r={},n=t.string(1);for(;n!=="\0";)r[n]=t.cstring(),n=t.string(1);let i=r.M,o=e==="notice"?new Ii.NoticeMessage(ll,i):new Ii.DatabaseError(i,ll,e);return o.severity=r.S,o.code=r.C,o.detail=r.D,o.hint=r.H,o.position=r.P,o.internalPosition=r.p,o.internalQuery=r.q,o.where=r.W,o.schema=r.s,o.table=r.t,o.column=r.c,o.dataType=r.d,o.constraint=r.n,o.file=r.F,o.line=r.L,o.routine=r.R,o}});var mse=ze(H0=>{"use strict";Object.defineProperty(H0,"__esModule",{value:!0});H0.DatabaseError=H0.serialize=H0.parse=void 0;var fOt=sse();Object.defineProperty(H0,"DatabaseError",{enumerable:!0,get:function(){return fOt.DatabaseError}});var mOt=sFe();Object.defineProperty(H0,"serialize",{enumerable:!0,get:function(){return mOt.serialize}});var hOt=dFe();function gOt(t,e){let r=new hOt.Parser;return t.on("data",n=>r.parse(n,e)),new Promise(n=>t.on("end",()=>n()))}H0.parse=gOt});var pFe=ze(hse=>{"use strict";Object.defineProperty(hse,"__esModule",{value:!0});hse.default={}});var mFe=ze((c1n,fFe)=>{"use strict";var{getStream:yOt,getSecureStream:bOt}=xOt();fFe.exports={getStream:yOt,getSecureStream:bOt};function vOt(){function t(r){let n=yt("net");return new n.Socket}function e(r){return yt("tls").connect(r)}return{getStream:t,getSecureStream:e}}function _Ot(){function t(r){let{CloudflareSocket:n}=pFe();return new n(r)}function e(r){return r.socket.startTls(r),r.socket}return{getStream:t,getSecureStream:e}}function SOt(){if(typeof navigator=="object"&&navigator!==null&&typeof navigator.userAgent=="string")return navigator.userAgent==="Cloudflare-Workers";if(typeof Response=="function"){let t=new Response(null,{cf:{thing:!0}});if(typeof t.cf=="object"&&t.cf!==null&&t.cf.thing)return!0}return!1}function xOt(){return SOt()?_Ot():vOt()}});var yse=ze((l1n,hFe)=>{"use strict";var wOt=yt("events").EventEmitter,{parse:AOt,serialize:rs}=mse(),{getStream:EOt,getSecureStream:TOt}=mFe(),ROt=rs.flush(),IOt=rs.sync(),COt=rs.end(),gse=class extends wOt{constructor(e){super(),e=e||{},this.stream=e.stream||EOt(e.ssl),typeof this.stream=="function"&&(this.stream=this.stream(e)),this._keepAlive=e.keepAlive,this._keepAliveInitialDelayMillis=e.keepAliveInitialDelayMillis,this.parsedStatements={},this.ssl=e.ssl||!1,this._ending=!1,this._emitMessage=!1;let r=this;this.on("newListener",function(n){n==="message"&&(r._emitMessage=!0)})}connect(e,r){let n=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(e,r),this.stream.once("connect",function(){n._keepAlive&&n.stream.setKeepAlive(!0,n._keepAliveInitialDelayMillis),n.emit("connect")});let i=function(o){n._ending&&(o.code==="ECONNRESET"||o.code==="EPIPE")||n.emit("error",o)};if(this.stream.on("error",i),this.stream.on("close",function(){n.emit("end")}),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",function(o){switch(o.toString("utf8")){case"S":break;case"N":return n.stream.end(),n.emit("error",new Error("The server does not support SSL connections"));default:return n.stream.end(),n.emit("error",new Error("There was an error establishing an SSL connection"))}let a={socket:n.stream};n.ssl!==!0&&(Object.assign(a,n.ssl),"key"in n.ssl&&(a.key=n.ssl.key));let c=yt("net");c.isIP&&c.isIP(r)===0&&(a.servername=r);try{n.stream=TOt(a)}catch(l){return n.emit("error",l)}n.attachListeners(n.stream),n.stream.on("error",i),n.emit("sslconnect")})}attachListeners(e){AOt(e,r=>{let n=r.name==="error"?"errorMessage":r.name;this._emitMessage&&this.emit("message",r),this.emit(n,r)})}requestSsl(){this.stream.write(rs.requestSsl())}startup(e){this.stream.write(rs.startup(e))}cancel(e,r){this._send(rs.cancel(e,r))}password(e){this._send(rs.password(e))}sendSASLInitialResponseMessage(e,r){this._send(rs.sendSASLInitialResponseMessage(e,r))}sendSCRAMClientFinalMessage(e){this._send(rs.sendSCRAMClientFinalMessage(e))}_send(e){return this.stream.writable?this.stream.write(e):!1}query(e){this._send(rs.query(e))}parse(e){this._send(rs.parse(e))}bind(e){this._send(rs.bind(e))}execute(e){this._send(rs.execute(e))}flush(){this.stream.writable&&this.stream.write(ROt)}sync(){this._ending=!0,this._send(IOt)}ref(){this.stream.ref()}unref(){this.stream.unref()}end(){if(this._ending=!0,!this._connecting||!this.stream.writable){this.stream.end();return}return this.stream.write(COt,()=>{this.stream.end()})}close(e){this._send(rs.close(e))}describe(e){this._send(rs.describe(e))}sendCopyFromChunk(e){this._send(rs.copyData(e))}endCopyFrom(){this._send(rs.copyDone())}sendCopyFail(e){this._send(rs.copyFail(e))}};hFe.exports=gse});var vFe=ze((u1n,bFe)=>{"use strict";var{Transform:NOt}=yt("stream"),{StringDecoder:OOt}=yt("string_decoder"),V0=Symbol("last"),TL=Symbol("decoder");function POt(t,e,r){let n;if(this.overflow){if(n=this[TL].write(t).split(this.matcher),n.length===1)return r();n.shift(),this.overflow=!1}else this[V0]+=this[TL].write(t),n=this[V0].split(this.matcher);this[V0]=n.pop();for(let i=0;i<n.length;i++)try{yFe(this,this.mapper(n[i]))}catch(o){return r(o)}if(this.overflow=this[V0].length>this.maxLength,this.overflow&&!this.skipOverflow){r(new Error("maximum buffer reached"));return}r()}function kOt(t){if(this[V0]+=this[TL].end(),this[V0])try{yFe(this,this.mapper(this[V0]))}catch(e){return t(e)}t()}function yFe(t,e){e!==void 0&&t.push(e)}function gFe(t){return t}function DOt(t,e,r){switch(t=t||/\r?\n/,e=e||gFe,r=r||{},arguments.length){case 1:typeof t=="function"?(e=t,t=/\r?\n/):typeof t=="object"&&!(t instanceof RegExp)&&!t[Symbol.split]&&(r=t,t=/\r?\n/);break;case 2:typeof t=="function"?(r=e,e=t,t=/\r?\n/):typeof e=="object"&&(r=e,e=gFe)}r=Object.assign({},r),r.autoDestroy=!0,r.transform=POt,r.flush=kOt,r.readableObjectMode=!0;let n=new NOt(r);return n[V0]="",n[TL]=new OOt("utf8"),n.matcher=t,n.mapper=e,n.maxLength=r.maxLength,n.skipOverflow=r.skipOverflow||!1,n.overflow=!1,n._destroy=function(i,o){this._writableState.errorEmitted=!1,o(i)},n}bFe.exports=DOt});var xFe=ze((d1n,Wm)=>{"use strict";var _Fe=yt("path"),MOt=yt("stream").Stream,LOt=vFe(),SFe=yt("util"),BOt=5432,RL=process.platform==="win32",x3=process.stderr,$Ot=56,UOt=7,FOt=61440,zOt=32768;function HOt(t){return(t&FOt)==zOt}var Nw=["host","port","database","user","password"],bse=Nw.length,VOt=Nw[bse-1];function vse(){var t=x3 instanceof MOt&&x3.writable===!0;if(t){var e=Array.prototype.slice.call(arguments).concat(`
`);x3.write(SFe.format.apply(SFe,e))}}Object.defineProperty(Wm.exports,"isWin",{get:function(){return RL},set:function(t){RL=t}});Wm.exports.warnTo=function(t){var e=x3;return x3=t,e};Wm.exports.getFileName=function(t){var e=t||process.env,r=e.PGPASSFILE||(RL?_Fe.join(e.APPDATA||"./","postgresql","pgpass.conf"):_Fe.join(e.HOME||"./",".pgpass"));return r};Wm.exports.usePgPass=function(t,e){return Object.prototype.hasOwnProperty.call(process.env,"PGPASSWORD")?!1:RL?!0:(e=e||"<unkn>",HOt(t.mode)?t.mode&($Ot|UOt)?(vse('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',e),!1):!0:(vse('WARNING: password file "%s" is not a plain file',e),!1))};var GOt=Wm.exports.match=function(t,e){return Nw.slice(0,-1).reduce(function(r,n,i){return i==1&&Number(t[n]||BOt)===Number(e[n])?r&&!0:r&&(e[n]==="*"||e[n]===t[n])},!0)};Wm.exports.getPassword=function(t,e,r){var n,i=e.pipe(LOt());function o(c){var l=jOt(c);l&&qOt(l)&&GOt(t,l)&&(n=l[VOt],i.end())}var s=function(){e.destroy(),r(n)},a=function(c){e.destroy(),vse("WARNING: error on reading file: %s",c),r(void 0)};e.on("error",a),i.on("data",o).on("end",s).on("error",a)};var jOt=Wm.exports.parseLine=function(t){if(t.length<11||t.match(/^\s+#/))return null;for(var e="",r="",n=0,i=0,o=0,s={},a=!1,c=function(u,d,p){var f=t.substring(d,p);Object.hasOwnProperty.call(process.env,"PGPASS_NO_DEESCAPE")||(f=f.replace(/\\([:\\])/g,"$1")),s[Nw[u]]=f},l=0;l<t.length-1;l+=1){if(e=t.charAt(l+1),r=t.charAt(l),a=n==bse-1,a){c(n,i);break}l>=0&&e==":"&&r!=="\\"&&(c(n,i,l+1),i=l+2,n+=1)}return s=Object.keys(s).length===bse?s:null,s},qOt=Wm.exports.isValidEntry=function(t){for(var e={0:function(s){return s.length>0},1:function(s){return s==="*"?!0:(s=Number(s),isFinite(s)&&s>0&&s<9007199254740992&&Math.floor(s)===s)},2:function(s){return s.length>0},3:function(s){return s.length>0},4:function(s){return s.length>0}},r=0;r<Nw.length;r+=1){var n=e[r],i=t[Nw[r]]||"",o=n(i);if(!o)return!1}return!0}});var AFe=ze((f1n,_se)=>{"use strict";var p1n=yt("path"),wFe=yt("fs"),IL=xFe();_se.exports=function(t,e){var r=IL.getFileName();wFe.stat(r,function(n,i){if(n||!IL.usePgPass(i,r))return e(void 0);var o=wFe.createReadStream(r);IL.getPassword(t,o,e)})};_se.exports.warnTo=IL.warnTo});var CFe=ze((m1n,IFe)=>{"use strict";var WOt=yt("events").EventEmitter,EFe=Ew(),NL=yt("util"),Sse=GUe(),JOt=_L(),KOt=Hoe(),RFe=nFe(),QOt=_3(),XOt=yse(),YOt=$oe(),TFe=NL.deprecate(()=>{},"Client.activeQuery is deprecated and will be removed in a future version."),ZOt=NL.deprecate(()=>{},"Client.queryQueue is deprecated and will be removed in a future version."),e9t=NL.deprecate(()=>{},"pgpass support is deprecated and will be removed in a future version. You can provide an async function as the password property to the Client/Pool constructor that returns a password instead. Within this funciton you can call the pgpass module in your own code."),t9t=NL.deprecate(()=>{},"Passing a custom Promise implementation to the Client/Pool constructor is deprecated and will be removed in a future version."),CL=class extends WOt{constructor(e){super(),this.connectionParameters=new KOt(e),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;let r=e||{};r.Promise&&t9t(),this._Promise=r.Promise||global.Promise,this._types=new JOt(r.types),this._ending=!1,this._ended=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this._activeQuery=null,this.enableChannelBinding=!!r.enableChannelBinding,this.connection=r.connection||new XOt({stream:r.stream,ssl:this.connectionParameters.ssl,keepAlive:r.keepAlive||!1,keepAliveInitialDelayMillis:r.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this._queryQueue=[],this.binary=r.binary||QOt.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this._connectionTimeoutMillis=r.connectionTimeoutMillis||0}get activeQuery(){return TFe(),this._activeQuery}set activeQuery(e){TFe(),this._activeQuery=e}_getActiveQuery(){return this._activeQuery}_errorAllQueries(e){let r=i=>{process.nextTick(()=>{i.handleError(e,this.connection)})},n=this._getActiveQuery();n&&(r(n),this._activeQuery=null),this._queryQueue.forEach(r),this._queryQueue.length=0}_connect(e){let r=this,n=this.connection;if(this._connectionCallback=e,this._connecting||this._connected){let i=new Error("Client has already been connected. You cannot reuse a client.");process.nextTick(()=>{e(i)});return}this._connecting=!0,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{n._ending=!0,n.stream.destroy(new Error("timeout expired"))},this._connectionTimeoutMillis),this.connectionTimeoutHandle.unref&&this.connectionTimeoutHandle.unref()),this.host&&this.host.indexOf("/")===0?n.connect(this.host+"/.s.PGSQL."+this.port):n.connect(this.port,this.host),n.on("connect",function(){r.ssl?n.requestSsl():n.startup(r.getStartupConf())}),n.on("sslconnect",function(){n.startup(r.getStartupConf())}),this._attachListeners(n),n.once("end",()=>{let i=this._ending?new Error("Connection terminated"):new Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(i),this._ended=!0,this._ending||(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(i):this._handleErrorEvent(i):this._connectionError||this._handleErrorEvent(i)),process.nextTick(()=>{this.emit("end")})})}connect(e){if(e){this._connect(e);return}return new this._Promise((r,n)=>{this._connect(i=>{i?n(i):r(this)})})}_attachListeners(e){e.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),e.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),e.on("authenticationSASL",this._handleAuthSASL.bind(this)),e.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),e.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),e.on("backendKeyData",this._handleBackendKeyData.bind(this)),e.on("error",this._handleErrorEvent.bind(this)),e.on("errorMessage",this._handleErrorMessage.bind(this)),e.on("readyForQuery",this._handleReadyForQuery.bind(this)),e.on("notice",this._handleNotice.bind(this)),e.on("rowDescription",this._handleRowDescription.bind(this)),e.on("dataRow",this._handleDataRow.bind(this)),e.on("portalSuspended",this._handlePortalSuspended.bind(this)),e.on("emptyQuery",this._handleEmptyQuery.bind(this)),e.on("commandComplete",this._handleCommandComplete.bind(this)),e.on("parseComplete",this._handleParseComplete.bind(this)),e.on("copyInResponse",this._handleCopyInResponse.bind(this)),e.on("copyData",this._handleCopyData.bind(this)),e.on("notification",this._handleNotification.bind(this))}_getPassword(e){let r=this.connection;if(typeof this.password=="function")this._Promise.resolve().then(()=>this.password()).then(n=>{if(n!==void 0){if(typeof n!="string"){r.emit("error",new TypeError("Password must be a string"));return}this.connectionParameters.password=this.password=n}else this.connectionParameters.password=this.password=null;e()}).catch(n=>{r.emit("error",n)});else if(this.password!==null)e();else try{AFe()(this.connectionParameters,i=>{i!==void 0&&(e9t(),this.connectionParameters.password=this.password=i),e()})}catch(n){this.emit("error",n)}}_handleAuthCleartextPassword(e){this._getPassword(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(e){this._getPassword(async()=>{try{let r=await YOt.postgresMd5PasswordHash(this.user,this.password,e.salt);this.connection.password(r)}catch(r){this.emit("error",r)}})}_handleAuthSASL(e){this._getPassword(()=>{try{this.saslSession=Sse.startSession(e.mechanisms,this.enableChannelBinding&&this.connection.stream),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)}catch(r){this.connection.emit("error",r)}})}async _handleAuthSASLContinue(e){try{await Sse.continueSession(this.saslSession,this.password,e.data,this.enableChannelBinding&&this.connection.stream),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}catch(r){this.connection.emit("error",r)}}_handleAuthSASLFinal(e){try{Sse.finalizeSession(this.saslSession,e.data),this.saslSession=null}catch(r){this.connection.emit("error",r)}}_handleBackendKeyData(e){this.processID=e.processID,this.secretKey=e.secretKey}_handleReadyForQuery(e){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));let r=this._getActiveQuery();this._activeQuery=null,this.readyForQuery=!0,r&&r.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(e){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(e);this.emit("error",e)}}_handleErrorEvent(e){if(this._connecting)return this._handleErrorWhileConnecting(e);this._queryable=!1,this._errorAllQueries(e),this.emit("error",e)}_handleErrorMessage(e){if(this._connecting)return this._handleErrorWhileConnecting(e);let r=this._getActiveQuery();if(!r){this._handleErrorEvent(e);return}this._activeQuery=null,r.handleError(e,this.connection)}_handleRowDescription(e){let r=this._getActiveQuery();if(r==null){let n=new Error("Received unexpected rowDescription message from backend.");this._handleErrorEvent(n);return}r.handleRowDescription(e)}_handleDataRow(e){let r=this._getActiveQuery();if(r==null){let n=new Error("Received unexpected dataRow message from backend.");this._handleErrorEvent(n);return}r.handleDataRow(e)}_handlePortalSuspended(e){let r=this._getActiveQuery();if(r==null){let n=new Error("Received unexpected portalSuspended message from backend.");this._handleErrorEvent(n);return}r.handlePortalSuspended(this.connection)}_handleEmptyQuery(e){let r=this._getActiveQuery();if(r==null){let n=new Error("Received unexpected emptyQuery message from backend.");this._handleErrorEvent(n);return}r.handleEmptyQuery(this.connection)}_handleCommandComplete(e){let r=this._getActiveQuery();if(r==null){let n=new Error("Received unexpected commandComplete message from backend.");this._handleErrorEvent(n);return}r.handleCommandComplete(e,this.connection)}_handleParseComplete(){let e=this._getActiveQuery();if(e==null){let r=new Error("Received unexpected parseComplete message from backend.");this._handleErrorEvent(r);return}e.name&&(this.connection.parsedStatements[e.name]=e.text)}_handleCopyInResponse(e){let r=this._getActiveQuery();if(r==null){let n=new Error("Received unexpected copyInResponse message from backend.");this._handleErrorEvent(n);return}r.handleCopyInResponse(this.connection)}_handleCopyData(e){let r=this._getActiveQuery();if(r==null){let n=new Error("Received unexpected copyData message from backend.");this._handleErrorEvent(n);return}r.handleCopyData(e,this.connection)}_handleNotification(e){this.emit("notification",e)}_handleNotice(e){this.emit("notice",e)}getStartupConf(){let e=this.connectionParameters,r={user:e.user,database:e.database},n=e.application_name||e.fallback_application_name;return n&&(r.application_name=n),e.replication&&(r.replication=""+e.replication),e.statement_timeout&&(r.statement_timeout=String(parseInt(e.statement_timeout,10))),e.lock_timeout&&(r.lock_timeout=String(parseInt(e.lock_timeout,10))),e.idle_in_transaction_session_timeout&&(r.idle_in_transaction_session_timeout=String(parseInt(e.idle_in_transaction_session_timeout,10))),e.options&&(r.options=e.options),r}cancel(e,r){if(e.activeQuery===r){let n=this.connection;this.host&&this.host.indexOf("/")===0?n.connect(this.host+"/.s.PGSQL."+this.port):n.connect(this.port,this.host),n.on("connect",function(){n.cancel(e.processID,e.secretKey)})}else e._queryQueue.indexOf(r)!==-1&&e._queryQueue.splice(e._queryQueue.indexOf(r),1)}setTypeParser(e,r,n){return this._types.setTypeParser(e,r,n)}getTypeParser(e,r){return this._types.getTypeParser(e,r)}escapeIdentifier(e){return EFe.escapeIdentifier(e)}escapeLiteral(e){return EFe.escapeLiteral(e)}_pulseQueryQueue(){if(this.readyForQuery===!0){this._activeQuery=this._queryQueue.shift();let e=this._getActiveQuery();if(e){this.readyForQuery=!1,this.hasExecuted=!0;let r=e.submit(this.connection);r&&process.nextTick(()=>{e.handleError(r,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this._activeQuery=null,this.emit("drain"))}}query(e,r,n){let i,o,s,a,c;if(e==null)throw new TypeError("Client was passed a null or undefined query");return typeof e.submit=="function"?(s=e.query_timeout||this.connectionParameters.query_timeout,o=i=e,typeof r=="function"&&(i.callback=i.callback||r)):(s=e.query_timeout||this.connectionParameters.query_timeout,i=new RFe(e,r,n),i.callback||(o=new this._Promise((l,u)=>{i.callback=(d,p)=>d?u(d):l(p)}).catch(l=>{throw Error.captureStackTrace(l),l}))),s&&(c=i.callback,a=setTimeout(()=>{let l=new Error("Query read timeout");process.nextTick(()=>{i.handleError(l,this.connection)}),c(l),i.callback=()=>{};let u=this._queryQueue.indexOf(i);u>-1&&this._queryQueue.splice(u,1),this._pulseQueryQueue()},s),i.callback=(l,u)=>{clearTimeout(a),c(l,u)}),this.binary&&!i.binary&&(i.binary=!0),i._result&&!i._result._types&&(i._result._types=this._types),this._queryable?this._ending?(process.nextTick(()=>{i.handleError(new Error("Client was closed and is not queryable"),this.connection)}),o):(this._queryQueue.push(i),this._pulseQueryQueue(),o):(process.nextTick(()=>{i.handleError(new Error("Client has encountered a connection error and is not queryable"),this.connection)}),o)}ref(){this.connection.ref()}unref(){this.connection.unref()}end(e){if(this._ending=!0,!this.connection._connecting||this._ended)if(e)e();else return this._Promise.resolve();if(this._getActiveQuery()||!this._queryable?this.connection.stream.destroy():this.connection.end(),e)this.connection.once("end",e);else return new this._Promise(r=>{this.connection.once("end",r)})}get queryQueue(){return ZOt(),this._queryQueue}};CL.Query=RFe;IFe.exports=CL});var kFe=ze((h1n,PFe)=>{"use strict";var r9t=yt("events").EventEmitter,NFe=function(){},OFe=(t,e)=>{let r=t.findIndex(e);return r===-1?void 0:t.splice(r,1)[0]},xse=class{constructor(e,r,n){this.client=e,this.idleListener=r,this.timeoutId=n}},Ow=class{constructor(e){this.callback=e}};function n9t(){throw new Error("Release called on client which has already been released to the pool.")}function OL(t,e){if(e)return{callback:e,result:void 0};let r,n,i=function(s,a){s?r(s):n(a)},o=new t(function(s,a){n=s,r=a}).catch(s=>{throw Error.captureStackTrace(s),s});return{callback:i,result:o}}function i9t(t,e){return function r(n){n.client=e,e.removeListener("error",r),e.on("error",()=>{t.log("additional client error after disconnection due to error",n)}),t._remove(e),t.emit("error",n,e)}}var wse=class extends r9t{constructor(e,r){super(),this.options=Object.assign({},e),e!=null&&"password"in e&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:e.password}),e!=null&&e.ssl&&e.ssl.key&&Object.defineProperty(this.options.ssl,"key",{enumerable:!1}),this.options.max=this.options.max||this.options.poolSize||10,this.options.min=this.options.min||0,this.options.maxUses=this.options.maxUses||1/0,this.options.allowExitOnIdle=this.options.allowExitOnIdle||!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,this.log=this.options.log||function(){},this.Client=this.options.Client||r||Ase().Client,this.Promise=this.options.Promise||global.Promise,typeof this.options.idleTimeoutMillis>"u"&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_isAboveMin(){return this._clients.length>this.options.min}_pulseQueue(){if(this.log("pulse queue"),this.ended){this.log("pulse queue ended");return}if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(r=>{this._remove(r.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length){this.log("no queued requests");return}if(!this._idle.length&&this._isFull())return;let e=this._pendingQueue.shift();if(this._idle.length){let r=this._idle.pop();clearTimeout(r.timeoutId);let n=r.client;n.ref&&n.ref();let i=r.idleListener;return this._acquireClient(n,e,i,!1)}if(!this._isFull())return this.newClient(e);throw new Error("unexpected condition")}_remove(e,r){let n=OFe(this._idle,o=>o.client===e);n!==void 0&&clearTimeout(n.timeoutId),this._clients=this._clients.filter(o=>o!==e);let i=this;e.end(()=>{i.emit("remove",e),typeof r=="function"&&r()})}connect(e){if(this.ending){let i=new Error("Cannot use a pool after calling end on the pool");return e?e(i):this.Promise.reject(i)}let r=OL(this.Promise,e),n=r.result;if(this._isFull()||this._idle.length){if(this._idle.length&&process.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new Ow(r.callback)),n;let i=(a,c,l)=>{clearTimeout(s),r.callback(a,c,l)},o=new Ow(i),s=setTimeout(()=>{OFe(this._pendingQueue,a=>a.callback===i),o.timedOut=!0,r.callback(new Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return s.unref&&s.unref(),this._pendingQueue.push(o),n}return this.newClient(new Ow(r.callback)),n}newClient(e){let r=new this.Client(this.options);this._clients.push(r);let n=i9t(this,r);this.log("checking client timeout");let i,o=!1;this.options.connectionTimeoutMillis&&(i=setTimeout(()=>{this.log("ending client due to timeout"),o=!0,r.connection?r.connection.stream.destroy():r.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),r.connect(s=>{if(i&&clearTimeout(i),r.on("error",n),s)this.log("client failed to connect",s),this._clients=this._clients.filter(a=>a!==r),o&&(s=new Error("Connection terminated due to connection timeout",{cause:s})),this._pulseQueue(),e.timedOut||e.callback(s,void 0,NFe);else{if(this.log("new client connected"),this.options.maxLifetimeSeconds!==0){let a=setTimeout(()=>{this.log("ending client due to expired lifetime"),this._expired.add(r),this._idle.findIndex(l=>l.client===r)!==-1&&this._acquireClient(r,new Ow((l,u,d)=>d()),n,!1)},this.options.maxLifetimeSeconds*1e3);a.unref(),r.once("end",()=>clearTimeout(a))}return this._acquireClient(r,e,n,!0)}})}_acquireClient(e,r,n,i){i&&this.emit("connect",e),this.emit("acquire",e),e.release=this._releaseOnce(e,n),e.removeListener("error",n),r.timedOut?i&&this.options.verify?this.options.verify(e,e.release):e.release():i&&this.options.verify?this.options.verify(e,o=>{if(o)return e.release(o),r.callback(o,void 0,NFe);r.callback(void 0,e,e.release)}):r.callback(void 0,e,e.release)}_releaseOnce(e,r){let n=!1;return i=>{n&&n9t(),n=!0,this._release(e,r,i)}}_release(e,r,n){if(e.on("error",r),e._poolUseCount=(e._poolUseCount||0)+1,this.emit("release",n,e),n||this.ending||!e._queryable||e._ending||e._poolUseCount>=this.options.maxUses)return e._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(e,this._pulseQueue.bind(this));if(this._expired.has(e))return this.log("remove expired client"),this._expired.delete(e),this._remove(e,this._pulseQueue.bind(this));let o;this.options.idleTimeoutMillis&&this._isAboveMin()&&(o=setTimeout(()=>{this._isAboveMin()&&(this.log("remove idle client"),this._remove(e,this._pulseQueue.bind(this)))},this.options.idleTimeoutMillis),this.options.allowExitOnIdle&&o.unref()),this.options.allowExitOnIdle&&e.unref(),this._idle.push(new xse(e,r,o)),this._pulseQueue()}query(e,r,n){if(typeof e=="function"){let o=OL(this.Promise,e);return setImmediate(function(){return o.callback(new Error("Passing a function as the first parameter to pool.query is not supported"))}),o.result}typeof r=="function"&&(n=r,r=void 0);let i=OL(this.Promise,n);return n=i.callback,this.connect((o,s)=>{if(o)return n(o);let a=!1,c=l=>{a||(a=!0,s.release(l),n(l))};s.once("error",c),this.log("dispatching query");try{s.query(e,r,(l,u)=>{if(this.log("query dispatched"),s.removeListener("error",c),!a)return a=!0,s.release(l),l?n(l):n(void 0,u)})}catch(l){return s.release(l),n(l)}}),i.result}end(e){if(this.log("ending"),this.ending){let n=new Error("Called end on pool more than once");return e?e(n):this.Promise.reject(n)}this.ending=!0;let r=OL(this.Promise,e);return this._endCallback=r.callback,this._pulseQueue(),r.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get expiredCount(){return this._clients.reduce((e,r)=>e+(this._expired.has(r)?1:0),0)}get totalCount(){return this._clients.length}};PFe.exports=wse});var LFe=ze((g1n,MFe)=>{"use strict";var DFe=yt("events").EventEmitter,o9t=yt("util"),Ese=Ew(),Pw=MFe.exports=function(t,e,r){DFe.call(this),t=Ese.normalizeQueryConfig(t,e,r),this.text=t.text,this.values=t.values,this.name=t.name,this.queryMode=t.queryMode,this.callback=t.callback,this.state="new",this._arrayMode=t.rowMode==="array",this._emitRowEvents=!1,this.on("newListener",function(n){n==="row"&&(this._emitRowEvents=!0)}.bind(this))};o9t.inherits(Pw,DFe);var s9t={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};Pw.prototype.handleError=function(t){let e=this.native.pq.resultErrorFields();if(e)for(let r in e){let n=s9t[r]||r;t[n]=e[r]}this.callback?this.callback(t):this.emit("error",t),this.state="error"};Pw.prototype.then=function(t,e){return this._getPromise().then(t,e)};Pw.prototype.catch=function(t){return this._getPromise().catch(t)};Pw.prototype._getPromise=function(){return this._promise?this._promise:(this._promise=new Promise(function(t,e){this._once("end",t),this._once("error",e)}.bind(this)),this._promise)};Pw.prototype.submit=function(t){this.state="running";let e=this;this.native=t.native,t.native.arrayMode=this._arrayMode;let r=function(n,i,o){if(t.native.arrayMode=!1,setImmediate(function(){e.emit("_done")}),n)return e.handleError(n);e._emitRowEvents&&(o.length>1?i.forEach((s,a)=>{s.forEach(c=>{e.emit("row",c,o[a])})}):i.forEach(function(s){e.emit("row",s,o)})),e.state="end",e.emit("end",o),e.callback&&e.callback(null,o)};if(process.domain&&(r=process.domain.bind(r)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));let n=(this.values||[]).map(Ese.prepareValue);if(t.namedQueries[this.name]){if(this.text&&t.namedQueries[this.name]!==this.text){let i=new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);return r(i)}return t.native.execute(this.name,n,r)}return t.native.prepare(this.name,this.text,n.length,function(i){return i?r(i):(t.namedQueries[e.name]=e.text,e.native.execute(e.name,n,r))})}else if(this.values){if(!Array.isArray(this.values)){let i=new Error("Query values must be an array");return r(i)}let n=this.values.map(Ese.prepareValue);t.native.query(this.text,n,r)}else this.queryMode==="extended"?t.native.query(this.text,[],r):t.native.query(this.text,r)}});var zFe=ze((y1n,FFe)=>{"use strict";var BFe;try{BFe=yt("pg-native")}catch(t){throw t}var a9t=_L(),$Fe=yt("events").EventEmitter,c9t=yt("util"),l9t=Hoe(),UFe=LFe(),Rc=FFe.exports=function(t){$Fe.call(this),t=t||{},this._Promise=t.Promise||global.Promise,this._types=new a9t(t.types),this.native=new BFe({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;let e=this.connectionParameters=new l9t(t);t.nativeConnectionString&&(e.nativeConnectionString=t.nativeConnectionString),this.user=e.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:e.password}),this.database=e.database,this.host=e.host,this.port=e.port,this.namedQueries={}};Rc.Query=UFe;c9t.inherits(Rc,$Fe);Rc.prototype._errorAllQueries=function(t){let e=r=>{process.nextTick(()=>{r.native=this.native,r.handleError(t)})};this._hasActiveQuery()&&(e(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(e),this._queryQueue.length=0};Rc.prototype._connect=function(t){let e=this;if(this._connecting){process.nextTick(()=>t(new Error("Client has already been connected. You cannot reuse a client.")));return}this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(r,n){if(e.connectionParameters.nativeConnectionString&&(n=e.connectionParameters.nativeConnectionString),r)return t(r);e.native.connect(n,function(i){if(i)return e.native.end(),t(i);e._connected=!0,e.native.on("error",function(o){e._queryable=!1,e._errorAllQueries(o),e.emit("error",o)}),e.native.on("notification",function(o){e.emit("notification",{channel:o.relname,payload:o.extra})}),e.emit("connect"),e._pulseQueryQueue(!0),t(null,this)})})};Rc.prototype.connect=function(t){if(t){this._connect(t);return}return new this._Promise((e,r)=>{this._connect(n=>{n?r(n):e(this)})})};Rc.prototype.query=function(t,e,r){let n,i,o,s,a;if(t==null)throw new TypeError("Client was passed a null or undefined query");if(typeof t.submit=="function")o=t.query_timeout||this.connectionParameters.query_timeout,i=n=t,typeof e=="function"&&(t.callback=e);else if(o=t.query_timeout||this.connectionParameters.query_timeout,n=new UFe(t,e,r),!n.callback){let c,l;i=new this._Promise((u,d)=>{c=u,l=d}).catch(u=>{throw Error.captureStackTrace(u),u}),n.callback=(u,d)=>u?l(u):c(d)}return o&&(a=n.callback,s=setTimeout(()=>{let c=new Error("Query read timeout");process.nextTick(()=>{n.handleError(c,this.connection)}),a(c),n.callback=()=>{};let l=this._queryQueue.indexOf(n);l>-1&&this._queryQueue.splice(l,1),this._pulseQueryQueue()},o),n.callback=(c,l)=>{clearTimeout(s),a(c,l)}),this._queryable?this._ending?(n.native=this.native,process.nextTick(()=>{n.handleError(new Error("Client was closed and is not queryable"))}),i):(this._queryQueue.push(n),this._pulseQueryQueue(),i):(n.native=this.native,process.nextTick(()=>{n.handleError(new Error("Client has encountered a connection error and is not queryable"))}),i)};Rc.prototype.end=function(t){let e=this;this._ending=!0,this._connected||this.once("connect",this.end.bind(this,t));let r;return t||(r=new this._Promise(function(n,i){t=o=>o?i(o):n()})),this.native.end(function(){e._errorAllQueries(new Error("Connection terminated")),process.nextTick(()=>{e.emit("end"),t&&t()})}),r};Rc.prototype._hasActiveQuery=function(){return this._activeQuery&&this._activeQuery.state!=="error"&&this._activeQuery.state!=="end"};Rc.prototype._pulseQueryQueue=function(t){if(!this._connected||this._hasActiveQuery())return;let e=this._queryQueue.shift();if(!e){t||this.emit("drain");return}this._activeQuery=e,e.submit(this);let r=this;e.once("_done",function(){r._pulseQueryQueue()})};Rc.prototype.cancel=function(t){this._activeQuery===t?this.native.cancel(function(){}):this._queryQueue.indexOf(t)!==-1&&this._queryQueue.splice(this._queryQueue.indexOf(t),1)};Rc.prototype.ref=function(){};Rc.prototype.unref=function(){};Rc.prototype.setTypeParser=function(t,e,r){return this._types.setTypeParser(t,e,r)};Rc.prototype.getTypeParser=function(t,e){return this._types.getTypeParser(t,e)}});var Tse=ze((b1n,HFe)=>{"use strict";HFe.exports=zFe()});var Ase=ze((_1n,PL)=>{"use strict";var u9t=CFe(),d9t=_3(),p9t=yse(),f9t=Goe(),m9t=Ew(),h9t=kFe(),g9t=_L(),{DatabaseError:y9t}=mse(),{escapeIdentifier:b9t,escapeLiteral:v9t}=Ew(),_9t=t=>class extends h9t{constructor(r){super(r,t)}},VFe=function(t){this.defaults=d9t,this.Client=t,this.Query=this.Client.Query,this.Pool=_9t(this.Client),this._pools=[],this.Connection=p9t,this.types=v3(),this.DatabaseError=y9t,this.TypeOverrides=g9t,this.escapeIdentifier=b9t,this.escapeLiteral=v9t,this.Result=f9t,this.utils=m9t},GFe=u9t,jFe=!1;try{jFe=!!process.env.NODE_PG_FORCE_NATIVE}catch{}jFe&&(GFe=Tse());PL.exports=new VFe(GFe);Object.defineProperty(PL.exports,"native",{configurable:!0,enumerable:!1,get(){let t=null;try{t=new VFe(Tse())}catch(e){if(e.code!=="MODULE_NOT_FOUND")throw e}return Object.defineProperty(PL.exports,"native",{value:t}),t}})});var qFe={};Nr(qFe,{Client:()=>S9t,Connection:()=>w9t,DatabaseError:()=>T9t,Pool:()=>x9t,Query:()=>E9t,Result:()=>C9t,TypeOverrides:()=>N9t,default:()=>mv,defaults:()=>O9t,escapeIdentifier:()=>R9t,escapeLiteral:()=>I9t,types:()=>A9t});var ul,S9t,x9t,w9t,A9t,E9t,T9t,R9t,I9t,C9t,N9t,O9t,mv,kL=b(()=>{"use strict";ul=di(Ase(),1),S9t=ul.default.Client,x9t=ul.default.Pool,w9t=ul.default.Connection,A9t=ul.default.types,E9t=ul.default.Query,T9t=ul.default.DatabaseError,R9t=ul.default.escapeIdentifier,I9t=ul.default.escapeLiteral,C9t=ul.default.Result,N9t=ul.default.TypeOverrides,O9t=ul.default.defaults,mv=ul.default});var P9t,lf,DL,w3,ML,Rse=b(()=>{"use strict";kL();boe();st();o3();Dr();ZM();Fi();Um();vn();({Pool:P9t,types:lf}=mv),DL=class extends hw{constructor(e,r,n,i,o,s,a,c,l,u,d){super({sql:r,params:n},o,s,a),this.client=e,this.queryString=r,this.params=n,this.logger=i,this.fields=c,this._isResponseInArrayMode=u,this.customResultMapper=d,this.rawQueryConfig={name:l,text:r,types:{getTypeParser:(p,f)=>p===lf.builtins.TIMESTAMPTZ?h=>h:p===lf.builtins.TIMESTAMP?h=>h:p===lf.builtins.DATE?h=>h:p===lf.builtins.INTERVAL?h=>h:p===1231?h=>h:p===1115?h=>h:p===1185?h=>h:p===1187?h=>h:p===1182?h=>h:lf.getTypeParser(p,f)}},this.queryConfig={name:l,text:r,rowMode:"array",types:{getTypeParser:(p,f)=>p===lf.builtins.TIMESTAMPTZ?h=>h:p===lf.builtins.TIMESTAMP?h=>h:p===lf.builtins.DATE?h=>h:p===lf.builtins.INTERVAL?h=>h:p===1231?h=>h:p===1115?h=>h:p===1185?h=>h:p===1187?h=>h:p===1182?h=>h:lf.getTypeParser(p,f)}}}static[ee]="NodePgPreparedQuery";rawQueryConfig;queryConfig;async execute(e={}){return $n.startActiveSpan("drizzle.execute",async()=>{let r=ov(this.params,e);this.logger.logQuery(this.rawQueryConfig.text,r);let{fields:n,rawQueryConfig:i,client:o,queryConfig:s,joinsNotNullableMap:a,customResultMapper:c}=this;if(!n&&!c)return $n.startActiveSpan("drizzle.driver.execute",async u=>(u?.setAttributes({"drizzle.query.name":i.name,"drizzle.query.text":i.text,"drizzle.query.params":JSON.stringify(r)}),this.queryWithCache(i.text,r,async()=>await o.query(i,r))));let l=await $n.startActiveSpan("drizzle.driver.execute",u=>(u?.setAttributes({"drizzle.query.name":s.name,"drizzle.query.text":s.text,"drizzle.query.params":JSON.stringify(r)}),this.queryWithCache(s.text,r,async()=>await o.query(s,r))));return $n.startActiveSpan("drizzle.mapResponse",()=>c?c(l.rows):l.rows.map(u=>RM(n,u,a)))})}all(e={}){return $n.startActiveSpan("drizzle.execute",()=>{let r=ov(this.params,e);return this.logger.logQuery(this.rawQueryConfig.text,r),$n.startActiveSpan("drizzle.driver.execute",n=>(n?.setAttributes({"drizzle.query.name":this.rawQueryConfig.name,"drizzle.query.text":this.rawQueryConfig.text,"drizzle.query.params":JSON.stringify(r)}),this.queryWithCache(this.rawQueryConfig.text,r,async()=>this.client.query(this.rawQueryConfig,r)).then(i=>i.rows)))})}isResponseInArrayMode(){return this._isResponseInArrayMode}},w3=class t extends gw{constructor(e,r,n,i={}){super(r),this.client=e,this.schema=n,this.options=i,this.logger=i.logger??new vw,this.cache=i.cache??new F0}static[ee]="NodePgSession";logger;cache;prepareQuery(e,r,n,i,o,s,a){return new DL(this.client,e.sql,e.params,this.logger,this.cache,s,a,r,n,i,o)}async transaction(e,r){let n=this.client instanceof P9t||Object.getPrototypeOf(this.client).constructor.name.includes("Pool"),i=n?new t(await this.client.connect(),this.dialect,this.schema,this.options):this,o=new ML(this.dialect,i,this.schema);await o.execute(re`begin${r?re` ${o.getTransactionConfigSQL(r)}`:void 0}`);try{let s=await e(o);return await o.execute(re`commit`),s}catch(s){throw await o.execute(re`rollback`),s}finally{n&&i.client.release()}}async count(e){let r=await this.execute(e);return Number(r.rows[0].count)}},ML=class t extends yw{static[ee]="NodePgTransaction";async transaction(e){let r=`sp${this.nestedIndex+1}`,n=new t(this.dialect,this.session,this.schema,this.nestedIndex+1);await n.execute(re.raw(`savepoint ${r}`));try{let i=await e(n);return await n.execute(re.raw(`release savepoint ${r}`)),i}catch(i){throw await n.execute(re.raw(`rollback to savepoint ${r}`)),i}}}});function A3(t,e={}){let r=new cf({casing:e.casing}),n;e.logger===!0?n=new bw:e.logger!==!1&&(n=e.logger);let i;if(e.schema){let c=UM(e.schema,FM);i={fullSchema:e.schema,schema:c.tables,tableNamesMap:c.tableNamesMap}}let s=new LL(t,r,{logger:n,cache:e.cache}).createSession(i),a=new BL(r,s,i);return a.$client=t,a.$cache=e.cache,a.$cache&&(a.$cache.invalidate=e.cache?.onMutate),a}function Ise(...t){if(typeof t[0]=="string"){let e=new mv.Pool({connectionString:t[0]});return A3(e,t[1])}if(CM(t[0])){let{connection:e,client:r,...n}=t[0];if(r)return A3(r,n);let i=typeof e=="string"?new mv.Pool({connectionString:e}):new mv.Pool(e);return A3(i,n)}return A3(t[0],t[1])}var LL,BL,WFe=b(()=>{"use strict";kL();st();o3();n3();XI();QI();vn();Rse();LL=class{constructor(e,r,n={}){this.client=e,this.dialect=r,this.options=n}static[ee]="NodePgDriver";createSession(e){return new w3(this.client,this.dialect,e,{logger:this.options.logger,cache:this.options.cache})}},BL=class extends U0{static[ee]="NodePgDatabase"};(t=>{function e(r){return A3({},r)}t.mock=e})(Ise||(Ise={}))});var JFe={};Nr(JFe,{NodePgDatabase:()=>BL,NodePgDriver:()=>LL,NodePgPreparedQuery:()=>DL,NodePgSession:()=>w3,NodePgTransaction:()=>ML,drizzle:()=>Ise});var KFe=b(()=>{"use strict";WFe();Rse()});function He(t){return t instanceof Error?t.message:String(t)}var Ci=b(()=>{"use strict"});function v5(t){return T7t.includes(t)}var QB,T7t,XB=b(()=>{"use strict";QB="preferred",T7t=["disabled","preferred","required"]});var hVe,gVe=b(()=>{"use strict";Ws();XB();hVe=t=>{let{accountIdEndpointMode:e}=t,r=hn(e??QB);return Object.assign(t,{accountIdEndpointMode:async()=>{let n=await r();if(!v5(n))throw new Error(`Invalid value for accountIdEndpointMode: ${n}. Valid values are: "required", "preferred", "disabled".`);return n}})}});var yVe,bVe,R7t,I7t,vVe,_Ve=b(()=>{"use strict";XB();yVe="Invalid AccountIdEndpointMode value",bVe=t=>{throw new Error(t)},R7t="AWS_ACCOUNT_ID_ENDPOINT_MODE",I7t="account_id_endpoint_mode",vVe={environmentVariableSelector:t=>{let e=t[R7t];return e&&!v5(e)&&bVe(yVe),e},configFileSelector:t=>{let e=t[I7t];return e&&!v5(e)&&bVe(yVe),e},default:QB}});var ece=b(()=>{"use strict";gVe();XB();_Ve()});var SVe,tce,xVe,wVe,AVe=b(()=>{"use strict";SVe=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"],tce="endpoint_discovery_enabled",xVe=t=>["false","0"].indexOf(t)>=0,wVe={environmentVariableSelector:t=>{for(let e=0;e<SVe.length;e++){let r=SVe[e];if(r in t){let n=t[r];if(n==="")throw Error(`Environment variable ${r} can't be empty of undefined, got "${n}"`);return!xVe(n)}}},configFileSelector:t=>{if(tce in t){let e=t[tce];if(e===void 0)throw Error(`Shared config entry ${tce} can't be undefined, got "${e}"`);return!xVe(e)}},default:void 0}});var EVe=b(()=>{"use strict"});var TVe=b(()=>{"use strict"});var IVe=ze((c6n,RVe)=>{"use strict";function uh(t){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:t}),this.done=!1}uh.prototype.next=function(){if(this.done)return{done:!0};var t=this._next();return t.done&&(this.done=!0),t};typeof Symbol<"u"&&(uh.prototype[Symbol.iterator]=function(){return this});uh.of=function(){var t=arguments,e=t.length,r=0;return new uh(function(){return r>=e?{done:!0}:{done:!1,value:t[r++]}})};uh.empty=function(){var t=new uh(null);return t.done=!0,t};uh.is=function(t){return t instanceof uh?!0:typeof t=="object"&&t!==null&&typeof t.next=="function"};RVe.exports=uh});var rce=ze((l6n,PVe)=>{"use strict";var CVe=typeof ArrayBuffer<"u",NVe=typeof Symbol<"u";function OVe(t,e){var r,n,i,o,s;if(!t)throw new Error("obliterator/forEach: invalid iterable.");if(typeof e!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(t)||CVe&&ArrayBuffer.isView(t)||typeof t=="string"||t.toString()==="[object Arguments]"){for(i=0,o=t.length;i<o;i++)e(t[i],i);return}if(typeof t.forEach=="function"){t.forEach(e);return}if(NVe&&Symbol.iterator in t&&typeof t.next!="function"&&(t=t[Symbol.iterator]()),typeof t.next=="function"){for(r=t,i=0;s=r.next(),s.done!==!0;)e(s.value,i),i++;return}for(n in t)t.hasOwnProperty(n)&&e(t[n],n)}OVe.forEachWithNullKeys=function(t,e){var r,n,i,o,s;if(!t)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if(typeof e!="function")throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(t)||CVe&&ArrayBuffer.isView(t)||typeof t=="string"||t.toString()==="[object Arguments]"){for(i=0,o=t.length;i<o;i++)e(t[i],null);return}if(t instanceof Set){t.forEach(function(a){e(a,null)});return}if(typeof t.forEach=="function"){t.forEach(e);return}if(NVe&&Symbol.iterator in t&&typeof t.next!="function"&&(t=t[Symbol.iterator]()),typeof t.next=="function"){for(r=t,i=0;s=r.next(),s.done!==!0;)e(s.value,null),i++;return}for(n in t)t.hasOwnProperty(n)&&e(t[n],n)};PVe.exports=OVe});var nce=ze(vf=>{"use strict";var C7t=Math.pow(2,8)-1,N7t=Math.pow(2,16)-1,O7t=Math.pow(2,32)-1,P7t=Math.pow(2,7)-1,k7t=Math.pow(2,15)-1,D7t=Math.pow(2,31)-1;vf.getPointerArray=function(t){var e=t-1;return e<=C7t?Uint8Array:e<=N7t?Uint16Array:e<=O7t?Uint32Array:Float64Array};vf.getSignedPointerArray=function(t){var e=t-1;return e<=P7t?Int8Array:e<=k7t?Int16Array:e<=D7t?Int32Array:Float64Array};vf.getNumberType=function(t){return t===(t|0)?Math.sign(t)===-1?t<=127&&t>=-128?Int8Array:t<=32767&&t>=-32768?Int16Array:Int32Array:t<=255?Uint8Array:t<=65535?Uint16Array:Uint32Array:Float64Array};var M7t={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};vf.getMinimalRepresentation=function(t,e){var r=null,n=0,i,o,s,a,c;for(a=0,c=t.length;a<c;a++)s=e?e(t[a]):t[a],o=vf.getNumberType(s),i=M7t[o.name],i>n&&(n=i,r=o);return r};vf.isTypedArray=function(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(t)};vf.concat=function(){var t=0,e,r,n;for(e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=new arguments[0].constructor(t);for(e=0,r=0;e<n;e++)i.set(arguments[e],r),r+=arguments[e].length;return i};vf.indices=function(t){for(var e=vf.getPointerArray(t),r=new e(t),n=0;n<t;n++)r[n]=n;return r}});var MVe=ze(_5=>{"use strict";var kVe=rce(),DVe=nce();function L7t(t){return Array.isArray(t)||DVe.isTypedArray(t)}function ice(t){if(typeof t.length=="number")return t.length;if(typeof t.size=="number")return t.size}function B7t(t){var e=ice(t),r=typeof e=="number"?new Array(e):[],n=0;return kVe(t,function(i){r[n++]=i}),r}function $7t(t){var e=ice(t),r=typeof e=="number"?DVe.getPointerArray(e):Array,n=typeof e=="number"?new Array(e):[],i=typeof e=="number"?new r(e):[],o=0;return kVe(t,function(s){n[o]=s,i[o]=o++}),[n,i]}_5.isArrayLike=L7t;_5.guessLength=ice;_5.toArray=B7t;_5.toArrayWithIndices=$7t});var BVe=ze((p6n,LVe)=>{"use strict";var oce=IVe(),U7t=rce(),F7t=nce(),z7t=MVe();function No(t,e,r){if(arguments.length<2&&(r=t,t=null,e=null),this.capacity=r,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");var n=F7t.getPointerArray(r);this.forward=new n(r),this.backward=new n(r),this.K=typeof t=="function"?new t(r):new Array(r),this.V=typeof e=="function"?new e(r):new Array(r),this.size=0,this.head=0,this.tail=0,this.items={}}No.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}};No.prototype.splayOnTop=function(t){var e=this.head;if(this.head===t)return this;var r=this.backward[t],n=this.forward[t];return this.tail===t?this.tail=r:this.backward[n]=r,this.forward[r]=n,this.backward[e]=t,this.head=t,this.forward[t]=e,this};No.prototype.set=function(t,e){var r=this.items[t];if(typeof r<"u"){this.splayOnTop(r),this.V[r]=e;return}this.size<this.capacity?r=this.size++:(r=this.tail,this.tail=this.backward[r],delete this.items[this.K[r]]),this.items[t]=r,this.K[r]=t,this.V[r]=e,this.forward[r]=this.head,this.backward[this.head]=r,this.head=r};No.prototype.setpop=function(t,e){var r=null,n=null,i=this.items[t];return typeof i<"u"?(this.splayOnTop(i),r=this.V[i],this.V[i]=e,{evicted:!1,key:t,value:r}):(this.size<this.capacity?i=this.size++:(i=this.tail,this.tail=this.backward[i],r=this.V[i],n=this.K[i],delete this.items[this.K[i]]),this.items[t]=i,this.K[i]=t,this.V[i]=e,this.forward[i]=this.head,this.backward[this.head]=i,this.head=i,n?{evicted:!0,key:n,value:r}:null)};No.prototype.has=function(t){return t in this.items};No.prototype.get=function(t){var e=this.items[t];if(!(typeof e>"u"))return this.splayOnTop(e),this.V[e]};No.prototype.peek=function(t){var e=this.items[t];if(!(typeof e>"u"))return this.V[e]};No.prototype.forEach=function(t,e){e=arguments.length>1?e:this;for(var r=0,n=this.size,i=this.head,o=this.K,s=this.V,a=this.forward;r<n;)t.call(e,s[i],o[i],this),i=a[i],r++};No.prototype.keys=function(){var t=0,e=this.size,r=this.head,n=this.K,i=this.forward;return new oce(function(){if(t>=e)return{done:!0};var o=n[r];return t++,t<e&&(r=i[r]),{done:!1,value:o}})};No.prototype.values=function(){var t=0,e=this.size,r=this.head,n=this.V,i=this.forward;return new oce(function(){if(t>=e)return{done:!0};var o=n[r];return t++,t<e&&(r=i[r]),{done:!1,value:o}})};No.prototype.entries=function(){var t=0,e=this.size,r=this.head,n=this.K,i=this.V,o=this.forward;return new oce(function(){if(t>=e)return{done:!0};var s=n[r],a=i[r];return t++,t<e&&(r=o[r]),{done:!1,value:[s,a]}})};typeof Symbol<"u"&&(No.prototype[Symbol.iterator]=No.prototype.entries);No.prototype.inspect=function(){for(var t=new Map,e=this.entries(),r;r=e.next(),!r.done;)t.set(r.value[0],r.value[1]);return Object.defineProperty(t,"constructor",{value:No,enumerable:!1}),t};typeof Symbol<"u"&&(No.prototype[Symbol.for("nodejs.util.inspect.custom")]=No.prototype.inspect);No.from=function(t,e,r,n){if(arguments.length<2){if(n=z7t.guessLength(t),typeof n!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(n=e,e=null,r=null);var i=new No(e,r,n);return U7t(t,function(o,s){i.set(s,o)}),i};LVe.exports=No});var $Ve,YB,UVe=b(()=>{"use strict";$Ve=di(BVe()),YB=class{cache;constructor(e){this.cache=new $Ve.default(e)}getEndpoint(e){let r=this.get(e);if(!r||r.length===0)return;let n=r.map(i=>i.Address);return n[Math.floor(Math.random()*n.length)]}get(e){if(!this.has(e))return;let r=this.cache.get(e);if(!r)return;let n=Date.now(),i=r.filter(o=>n<o.Expires);if(i.length===0){this.delete(e);return}return i}set(e,r){let n=Date.now();this.cache.set(e,r.map(({Address:i,CachePeriodInMinutes:o})=>({Address:i,Expires:n+o*60*1e3})))}delete(e){this.cache.set(e,[])}has(e){if(!this.cache.has(e))return!1;let r=this.cache.peek(e);return r?r.length>0:!1}clear(){this.cache.clear()}}});var FVe=b(()=>{"use strict";TVe();UVe()});var zVe,HVe=b(()=>{"use strict";FVe();zVe=(t,{endpointDiscoveryCommandCtor:e})=>{let{endpointCacheSize:r,endpointDiscoveryEnabled:n,endpointDiscoveryEnabledProvider:i}=t;return Object.assign(t,{endpointDiscoveryCommandCtor:e,endpointCache:new YB(r??1e3),endpointDiscoveryEnabled:n!==void 0?()=>Promise.resolve(n):i,isClientEndpointDiscoveryEnabled:n!==void 0})}});var sce=b(()=>{"use strict";AVe();EVe();HVe()});function H7t(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"dynamodb",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}var VVe,GVe,jVe,ace=b(()=>{"use strict";wo();Ws();VVe=async(t,e,r)=>({operation:$i(e).operation,region:await hn(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});GVe=t=>{let e=[];switch(t.operation){default:e.push(H7t(t))}return e},jVe=t=>{let e=ou(t);return Object.assign(e,{authSchemePreference:hn(t.authSchemePreference??[])})}});var qVe,De,Lt=b(()=>{"use strict";qVe=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"dynamodb"}),De={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},AccountId:{type:"builtInParams",name:"accountId"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"},AccountIdEndpointMode:{type:"builtInParams",name:"accountIdEndpointMode"}}});var yr,ZB=b(()=>{"use strict";Te();yr=class t extends pc{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var S5,x5,w5,A5,E5,T5,R5,I5,C5,N5,O5,P5,k5,D5,M5,L5,B5,$5,U5,F5,z5,H5,V5,G5,j5,q5,W5,J5,K5,Q5,X5,Y5,Z5,e8,t8,cce=b(()=>{"use strict";ZB();S5=class t extends yr{name="BackupInUseException";$fault="client";constructor(e){super({name:"BackupInUseException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},x5=class t extends yr{name="BackupNotFoundException";$fault="client";constructor(e){super({name:"BackupNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},w5=class t extends yr{name="InternalServerError";$fault="server";constructor(e){super({name:"InternalServerError",$fault:"server",...e}),Object.setPrototypeOf(this,t.prototype)}},A5=class t extends yr{name="RequestLimitExceeded";$fault="client";ThrottlingReasons;constructor(e){super({name:"RequestLimitExceeded",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.ThrottlingReasons=e.ThrottlingReasons}},E5=class t extends yr{name="ThrottlingException";$fault="client";throttlingReasons;constructor(e){super({name:"ThrottlingException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.throttlingReasons=e.throttlingReasons}},T5=class t extends yr{name="InvalidEndpointException";$fault="client";Message;constructor(e){super({name:"InvalidEndpointException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},R5=class t extends yr{name="ProvisionedThroughputExceededException";$fault="client";ThrottlingReasons;constructor(e){super({name:"ProvisionedThroughputExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.ThrottlingReasons=e.ThrottlingReasons}},I5=class t extends yr{name="ResourceNotFoundException";$fault="client";constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},C5=class t extends yr{name="ItemCollectionSizeLimitExceededException";$fault="client";constructor(e){super({name:"ItemCollectionSizeLimitExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},N5=class t extends yr{name="ReplicatedWriteConflictException";$fault="client";$retryable={};constructor(e){super({name:"ReplicatedWriteConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},O5=class t extends yr{name="ContinuousBackupsUnavailableException";$fault="client";constructor(e){super({name:"ContinuousBackupsUnavailableException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},P5=class t extends yr{name="LimitExceededException";$fault="client";constructor(e){super({name:"LimitExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},k5=class t extends yr{name="TableInUseException";$fault="client";constructor(e){super({name:"TableInUseException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},D5=class t extends yr{name="TableNotFoundException";$fault="client";constructor(e){super({name:"TableNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},M5=class t extends yr{name="GlobalTableAlreadyExistsException";$fault="client";constructor(e){super({name:"GlobalTableAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},L5=class t extends yr{name="ResourceInUseException";$fault="client";constructor(e){super({name:"ResourceInUseException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},B5=class t extends yr{name="TransactionConflictException";$fault="client";constructor(e){super({name:"TransactionConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},$5=class t extends yr{name="PolicyNotFoundException";$fault="client";constructor(e){super({name:"PolicyNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},U5=class t extends yr{name="ExportNotFoundException";$fault="client";constructor(e){super({name:"ExportNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},F5=class t extends yr{name="GlobalTableNotFoundException";$fault="client";constructor(e){super({name:"GlobalTableNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},z5=class t extends yr{name="ImportNotFoundException";$fault="client";constructor(e){super({name:"ImportNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},H5=class t extends yr{name="DuplicateItemException";$fault="client";constructor(e){super({name:"DuplicateItemException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},V5=class t extends yr{name="IdempotentParameterMismatchException";$fault="client";Message;constructor(e){super({name:"IdempotentParameterMismatchException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},G5=class t extends yr{name="TransactionInProgressException";$fault="client";Message;constructor(e){super({name:"TransactionInProgressException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},j5=class t extends yr{name="ExportConflictException";$fault="client";constructor(e){super({name:"ExportConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},q5=class t extends yr{name="InvalidExportTimeException";$fault="client";constructor(e){super({name:"InvalidExportTimeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},W5=class t extends yr{name="PointInTimeRecoveryUnavailableException";$fault="client";constructor(e){super({name:"PointInTimeRecoveryUnavailableException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},J5=class t extends yr{name="ImportConflictException";$fault="client";constructor(e){super({name:"ImportConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},K5=class t extends yr{name="TableAlreadyExistsException";$fault="client";constructor(e){super({name:"TableAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Q5=class t extends yr{name="InvalidRestoreTimeException";$fault="client";constructor(e){super({name:"InvalidRestoreTimeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},X5=class t extends yr{name="ReplicaAlreadyExistsException";$fault="client";constructor(e){super({name:"ReplicaAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Y5=class t extends yr{name="ReplicaNotFoundException";$fault="client";constructor(e){super({name:"ReplicaNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Z5=class t extends yr{name="IndexNotFoundException";$fault="client";constructor(e){super({name:"IndexNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},e8=class t extends yr{name="ConditionalCheckFailedException";$fault="client";Item;constructor(e){super({name:"ConditionalCheckFailedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Item=e.Item}},t8=class t extends yr{name="TransactionCanceledException";$fault="client";Message;CancellationReasons;constructor(e){super({name:"TransactionCanceledException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message,this.CancellationReasons=e.CancellationReasons}}});var V7t,G7t,lce,j7t,q7t,r8,W7t,J7t,K7t,e$,Q7t,JVe,KVe,X7t,Y7t,Z7t,QVe,eDt,tDt,rDt,nDt,iDt,t$,XVe,oDt,uce,sDt,aDt,dce,cDt,n8,YVe,pce,fce,ZVe,lDt,uDt,dDt,pDt,fDt,mDt,hDt,gDt,yDt,i8,eGe,tGe,mce,bDt,vDt,rGe,nGe,_Dt,SDt,xDt,wDt,ADt,EDt,iGe,hce,TDt,RDt,IDt,CDt,NDt,oGe,ODt,gce,PDt,kDt,DDt,MDt,Cc,LDt,BDt,sGe,aGe,Kv,$Dt,UDt,FDt,zDt,HDt,VDt,r$,GDt,jDt,yce,cGe,lGe,o8,qDt,WDt,JA,JDt,KDt,QDt,XDt,uGe,YDt,ZDt,n$,eMt,tMt,rMt,dGe,pGe,nMt,iMt,fGe,i$,oMt,sMt,aMt,cMt,lMt,uMt,dMt,pMt,fMt,mMt,hMt,gMt,yMt,bMt,vMt,_Mt,SMt,xMt,wMt,AMt,EMt,TMt,RMt,IMt,CMt,NMt,OMt,PMt,kMt,DMt,MMt,LMt,BMt,$Mt,UMt,FMt,zMt,HMt,VMt,GMt,jMt,qMt,bce,mGe,WMt,JMt,KMt,QMt,XMt,vce,YMt,hGe,ZMt,eLt,tLt,rLt,nLt,iLt,oLt,sLt,aLt,cLt,lLt,uLt,KA,dLt,_ce,pLt,Hu,ph,fLt,mLt,hLt,gLt,Sce,yLt,gGe,bLt,xce,vLt,_Lt,SLt,xLt,wLt,yGe,bGe,ALt,ELt,TLt,vGe,RLt,ILt,CLt,NLt,_Ge,wce,OLt,PLt,kLt,DLt,MLt,LLt,SGe,BLt,Ace,$Lt,xGe,wGe,ULt,Ece,FLt,AGe,zLt,EGe,TGe,RGe,IGe,HLt,VLt,GLt,jLt,qLt,WLt,_f,JLt,KLt,QLt,XLt,YLt,ZLt,CGe,eBt,tBt,NGe,rBt,nBt,iBt,oBt,sBt,aBt,o$,OGe,cBt,lBt,fh,uBt,dBt,pBt,fBt,mBt,hBt,gBt,yBt,bBt,vBt,_Bt,SBt,xBt,mh,Tce,PGe,s8,wBt,ABt,EBt,QA,TBt,RBt,IBt,kGe,CBt,NBt,Rce,OBt,Ice,Cce,PBt,kBt,yi,DBt,MBt,LBt,BBt,$Bt,UBt,Nce,DGe,FBt,MGe,zBt,LGe,HBt,Oce,VBt,GBt,Pce,Sf,jBt,BGe,qBt,$Ge,WBt,JBt,KBt,s$,Vu,QBt,XBt,YBt,ZBt,e$t,XA,t$t,r$t,n$t,i$t,o$t,s$t,a$t,c$t,l$t,u$t,d$t,p$t,f$t,kce,m$t,h$t,g$t,y$t,b$t,v$t,_$t,S$t,x$t,w$t,A$t,a8,E$t,T$t,R$t,I$t,UGe,C$t,N$t,O$t,P$t,k$t,D$t,M$t,L$t,FGe,B$t,$$t,YA,U$t,zGe,HGe,VGe,GGe,jGe,F$t,z$t,H$t,V$t,G$t,j$t,xf,q$t,Kd,f1,Dce,c8,W$t,J$t,K$t,Q$t,X$t,qGe,Y$t,Z$t,WGe,eUt,JGe,tUt,rUt,nUt,KGe,QGe,iUt,oUt,XGe,sUt,aUt,cUt,lUt,uUt,dUt,pUt,fUt,Qd,mUt,hUt,m1,gUt,YGe,yUt,ZGe,eje,tje,h1,rje,bUt,vUt,_Ut,SUt,a$,ZA,xUt,wUt,AUt,EUt,TUt,RUt,bl,l8,IUt,CUt,nje,Mce,NUt,OUt,PUt,kUt,DUt,MUt,LUt,BUt,$Ut,UUt,FUt,ije,zUt,HUt,VUt,GUt,oje,u8,jUt,qUt,WUt,Lce,JUt,KUt,Da,QUt,XUt,YUt,sje,aje,ZUt,eFt,cje,lje,tFt,uje,rFt,nFt,iFt,oFt,dje,sFt,Bce,pje,aFt,fje,cFt,lFt,uFt,dFt,pFt,fFt,mFt,hFt,$ce,Uce,Fce,wf,gFt,yFt,mje,bFt,d8,zce,vFt,Hce,c$,hje,_Ft,SFt,xFt,wFt,AFt,gje,EFt,TFt,RFt,IFt,yje,CFt,NFt,bje,l$,vje,Vce,u$,_je,Sje,xje,OFt,Gce,wje,Aje,Eje,PFt,kFt,DFt,MFt,Tje,LFt,jce,qce,Rje,hh,BFt,Wce,Jce,$Ft,UFt,FFt,Ije,Kce,Cje,eE,zFt,HFt,VFt,GFt,jFt,qFt,p8,WFt,JFt,Nje,KFt,QFt,XFt,YFt,br,ZFt,ezt,Oje,tzt,rzt,nzt,izt,ozt,szt,azt,Pje,kje,czt,Qce,lzt,Xce,Dje,Mje,Lje,uzt,dzt,pzt,fzt,mzt,hzt,Yce,gzt,d$,yzt,bzt,vzt,_zt,Szt,xzt,Bje,wzt,Azt,Ezt,Tzt,Rzt,Izt,Czt,Nzt,Ozt,Pzt,kzt,Dzt,Zce,Mzt,Lzt,Bzt,$zt,Uzt,Fzt,zzt,Hzt,Vzt,Gzt,jzt,qzt,Wzt,Jzt,Kzt,Qzt,ele,p$,Xzt,Yzt,Zzt,Af,tle,eHt,Wr,Vr,$je,tHt,cn,rHt,nHt,iHt,Uje,oHt,sHt,z,Fje,zje,Hje,Vje,Gje,dh,gh,jje,qje,rle,nle,Wje,Jje,Kje,Qje,Xje,Yje,Zje,eqe,tqe,rqe,nqe,iqe,ile,oqe,ole,sle,sqe,aqe,yh,ale,cqe,lqe,uqe,dqe,pqe,fqe,mqe,hqe,gqe,yqe,bqe,vqe,_qe,Sqe,xqe,wqe,Aqe,Eqe,Tqe,Rqe,Iqe,Cqe,Nqe,Oqe,Pqe,kqe,Dqe,Mqe,Lqe,Bqe,$qe,Uqe,Fqe,zqe,Hqe,Vqe,Gqe,jqe,qqe,Wqe,Jqe,Kqe,Qqe,Xqe,Yqe,Zqe,eWe,tWe,rWe,nWe,iWe,oWe,sWe,aWe,cle,cWe,lWe,uWe,dWe,pWe,fWe,mWe,lle,hWe,gWe,yWe,bWe,vWe,_We,SWe,xWe,wWe,AWe,EWe,TWe,RWe,IWe,CWe,ule,NWe,OWe,f$,PWe,kWe,DWe,MWe,LWe,BWe,$We,UWe,dle,FWe,zWe,ple,HWe,fle,VWe,GWe,jWe,qWe,f8,WWe,JWe,KWe,QWe,XWe,mle,hle,YWe,ZWe,eJe,tJe,rJe,nJe,iJe,oJe,sJe,aJe,cJe,lJe,uJe,dJe,pJe,fJe,mJe,hJe,vl,tE,gJe,yJe,bJe,vJe,_Je,g1,Xd,gle,SJe,rE,xJe,wJe,AJe,EJe,TJe,RJe,IJe,CJe,NJe,OJe,PJe,kJe,DJe,MJe,LJe,BJe,$Je,UJe,FJe,zJe,HJe,VJe,GJe,jJe,qJe,WJe,JJe,KJe,QJe,XJe,YJe,ZJe,eKe,m$,tKe,rKe,nKe,iKe,yle,nE,m8,oKe,ble,h$,vle,Qv,sKe,aKe,_le,cKe,lKe,uKe,dKe,Sle,xle,pKe,fKe,mKe,hKe,gKe,yKe,bKe,vKe,_Ke,SKe,xKe,wKe,AKe,EKe,TKe,RKe,IKe,CKe,NKe,OKe,PKe,kKe,wle,DKe,MKe,LKe,BKe,$Ke,UKe,FKe,zKe,HKe,iE,VKe,GKe,jKe,g$,qKe,aHt,cHt,lHt,oE,uHt,dHt,pHt,fHt,mHt,hHt,y$,gHt,yHt,bHt,vHt,_Ht,SHt,xHt,b$,WKe,wHt,Yd,AHt,EHt,THt,RHt,Ale,IHt,CHt,NHt,Ele,OHt,PHt,JKe,kHt,DHt,MHt,KKe,LHt,BHt,QKe,XKe,$Ht,UHt,FHt,Tle,Rle,zHt,HHt,VHt,Ef,GHt,YKe,jHt,ZKe,Ile,bh,eQe,qHt,tQe,Nc,WHt,JHt,Cle,WVe,Gu,Nle,Ole,Ple,kle,Dle,Mle,Lle,Ble,$le,Ule,Fle,zle,Hle,Vle,Gle,jle,qle,Wle,Jle,Kle,Qle,Xle,Yle,Zle,eue,tue,rue,nue,iue,oue,sue,aue,cue,lue,uue,due,pue,fue,mue,hue,gue,yue,bue,vue,_ue,Sue,xue,wue,Aue,Eue,Tue,Rue,Iue,Cue,Nue,Oue,Pue,Bt=b(()=>{"use strict";gn();ZB();cce();V7t="Action",G7t="ArchivalBackupArn",lce="ApproximateCreationDateTimePrecision",j7t="AttributeDefinition",q7t="ArchivalDateTime",r8="AttributeDefinitions",W7t="AttributeMap",J7t="AccountMaxReadCapacityUnits",K7t="AccountMaxWriteCapacityUnits",e$="AttributeName",Q7t="ArchivalReason",JVe="ArchivalSummary",KVe="AutoScalingDisabled",X7t="AutoScalingPolicyDescription",Y7t="AutoScalingPolicyDescriptionList",Z7t="AutoScalingPolicyUpdate",QVe="AutoScalingRoleArn",eDt="AutoScalingSettingsDescription",tDt="AutoScalingSettingsUpdate",rDt="AutoScalingTargetTrackingScalingPolicyConfigurationDescription",nDt="AutoScalingTargetTrackingScalingPolicyConfigurationUpdate",iDt="AttributeType",t$="AttributesToGet",XVe="AttributeUpdates",oDt="AttributeValue",uce="AttributeValueList",sDt="AttributeValueUpdate",aDt="Address",dce="Attributes",cDt="Backfilling",n8="BackupArn",YVe="BackupCreationDateTime",pce="BackupDescription",fce="BackupDetails",ZVe="BackupExpiryDateTime",lDt="BatchExecuteStatement",uDt="BatchExecuteStatementInput",dDt="BatchExecuteStatementOutput",pDt="BatchGetItem",fDt="BatchGetItemInput",mDt="BatchGetItemOutput",hDt="BatchGetResponseMap",gDt="BatchGetRequestMap",yDt="BackupInUseException",i8="BillingMode",eGe="BillingModeOverride",tGe="BillingModeSummary",mce="BackupName",bDt="BackupNotFoundException",vDt="BOOL",rGe="BackupStatus",nGe="BackupSizeBytes",_Dt="BilledSizeBytes",SDt="BatchStatementError",xDt="BatchStatementRequest",wDt="BatchStatementResponse",ADt="BS",EDt="BackupSummary",iGe="BackupSummaries",hce="BackupType",TDt="BatchWriteItem",RDt="BatchWriteItemInput",IDt="BatchWriteItemOutput",CDt="BatchWriteItemRequestMap",NDt="B",oGe="Code",ODt="CreateBackup",gce="ContinuousBackupsDescription",PDt="CreateBackupInput",kDt="CreateBackupOutput",DDt="ContinuousBackupsStatus",MDt="ContinuousBackupsUnavailableException",Cc="ConsumedCapacity",LDt="ConditionalCheckFailedException",BDt="ConsumedCapacityMultiple",sGe="ConditionCheck",aGe="CreationDateTime",Kv="ConditionExpression",$Dt="CreateGlobalSecondaryIndexAction",UDt="CreateGlobalTable",FDt="CreateGlobalTableInput",zDt="CreateGlobalTableOutput",HDt="CreateGlobalTableWitnessGroupMemberAction",VDt="ContributorInsightsAction",r$="ContributorInsightsMode",GDt="ContributorInsightsRuleList",jDt="ContributorInsightsSummary",yce="ContributorInsightsStatus",cGe="ContributorInsightsSummaries",lGe="ComparisonOperator",o8="ConditionalOperator",qDt="CsvOptions",WDt="CachePeriodInMinutes",JA="ConsistentRead",JDt="CreateReplicaAction",KDt="CreateReplicationGroupMemberAction",QDt="CancellationReasonList",XDt="ConfirmRemoveSelfResourceAccess",uGe="ClientRequestToken",YDt="CancellationReason",ZDt="CancellationReasons",n$="ClientToken",eMt="CreateTableInput",tMt="CreateTableOutput",rMt="CreateTable",dGe="CapacityUnits",pGe="CloudWatchLogGroupArn",nMt="Capacity",iMt="Condition",fGe="Count",i$="Create",oMt="Csv",sMt="Delimiter",aMt="DeleteBackup",cMt="DeleteBackupInput",lMt="DescribeBackupInput",uMt="DeleteBackupOutput",dMt="DescribeBackupOutput",pMt="DescribeBackup",fMt="DescribeContinuousBackups",mMt="DescribeContinuousBackupsInput",hMt="DescribeContinuousBackupsOutput",gMt="DescribeContributorInsights",yMt="DescribeContributorInsightsInput",bMt="DescribeContributorInsightsOutput",vMt="DescribeEndpoints",_Mt="DescribeExportInput",SMt="DescribeExportOutput",xMt="DescribeEndpointsRequest",wMt="DescribeEndpointsResponse",AMt="DescribeExport",EMt="DeleteGlobalSecondaryIndexAction",TMt="DescribeGlobalTable",RMt="DescribeGlobalTableInput",IMt="DescribeGlobalTableOutput",CMt="DescribeGlobalTableSettings",NMt="DescribeGlobalTableSettingsInput",OMt="DescribeGlobalTableSettingsOutput",PMt="DeleteGlobalTableWitnessGroupMemberAction",kMt="DeleteItem",DMt="DuplicateItemException",MMt="DeleteItemInput",LMt="DescribeImportInput",BMt="DeleteItemOutput",$Mt="DescribeImportOutput",UMt="DescribeImport",FMt="DescribeKinesisStreamingDestination",zMt="DescribeKinesisStreamingDestinationInput",HMt="DescribeKinesisStreamingDestinationOutput",VMt="DisableKinesisStreamingDestination",GMt="DescribeLimits",jMt="DescribeLimitsInput",qMt="DescribeLimitsOutput",bce="DeletionProtectionEnabled",mGe="DeleteRequest",WMt="DeleteReplicaAction",JMt="DeleteReplicationGroupMemberAction",KMt="DeleteResourcePolicy",QMt="DeleteResourcePolicyInput",XMt="DeleteResourcePolicyOutput",vce="DestinationStatus",YMt="DestinationStatusDescription",hGe="DisableScaleIn",ZMt="DeleteTable",eLt="DeleteTableInput",tLt="DescribeTableInput",rLt="DeleteTableOutput",nLt="DescribeTableOutput",iLt="DescribeTableReplicaAutoScaling",oLt="DescribeTableReplicaAutoScalingInput",sLt="DescribeTableReplicaAutoScalingOutput",aLt="DescribeTimeToLive",cLt="DescribeTimeToLiveInput",lLt="DescribeTimeToLiveOutput",uLt="DescribeTable",KA="Delete",dLt="Error",_ce="ExportArn",pLt="ExpectedAttributeMap",Hu="ExpressionAttributeNames",ph="ExpressionAttributeValues",fLt="ExpressionAttributeValueMap",mLt="ExpectedAttributeValue",hLt="ErrorCount",gLt="ExportConflictException",Sce="ExportDescription",yLt="ExceptionDescription",gGe="ExportFormat",bLt="ExportFromTime",xce="EnableKinesisStreamingConfiguration",vLt="EnableKinesisStreamingDestination",_Lt="ExportManifest",SLt="ExceptionName",xLt="ExportNotFoundException",wLt="EarliestRestorableDateTime",yGe="ExpectedRevisionId",bGe="ExportStatus",ALt="ExclusiveStartBackupArn",ELt="ExclusiveStartGlobalTableName",TLt="ExecuteStatementInput",vGe="ExclusiveStartKey",RLt="ExecuteStatementOutput",ILt="ExclusiveStartTableName",CLt="ExportSummary",NLt="ExecuteStatement",_Ge="ExportSummaries",wce="EndTime",OLt="ExecuteTransactionInput",PLt="ExecuteTransactionOutput",kLt="ExportToTime",DLt="ExportTableToPointInTime",MLt="ExportTableToPointInTimeInput",LLt="ExportTableToPointInTimeOutput",SGe="ExportTime",BLt="ExecuteTransaction",Ace="ExportType",$Lt="ExportViewType",xGe="Endpoints",wGe="Enabled",ULt="Endpoint",Ece="Expected",FLt="Exists",AGe="FailureCode",zLt="FilterConditionMap",EGe="FailureException",TGe="FilterExpression",RGe="FailureMessage",IGe="Get",HLt="GetItem",VLt="GetItemInput",GLt="GetItemOutput",jLt="GetResourcePolicy",qLt="GetResourcePolicyInput",WLt="GetResourcePolicyOutput",_f="GlobalSecondaryIndexes",JLt="GlobalSecondaryIndexAutoScalingUpdate",KLt="GlobalSecondaryIndexAutoScalingUpdateList",QLt="GlobalSecondaryIndexDescription",XLt="GlobalSecondaryIndexDescriptionList",YLt="GlobalSecondaryIndexInfo",ZLt="GlobalSecondaryIndexList",CGe="GlobalSecondaryIndexOverride",eBt="GlobalSecondaryIndexUpdate",tBt="GlobalSecondaryIndexUpdateList",NGe="GlobalSecondaryIndexUpdates",rBt="GlobalSecondaryIndexWarmThroughputDescription",nBt="GlobalSecondaryIndex",iBt="GlobalTable",oBt="GlobalTableArn",sBt="GlobalTableAlreadyExistsException",aBt="GlobalTableBillingMode",o$="GlobalTableDescription",OGe="GlobalTableGlobalSecondaryIndexSettingsUpdate",cBt="GlobalTableGlobalSecondaryIndexSettingsUpdateList",lBt="GlobalTableList",fh="GlobalTableName",uBt="GlobalTableNotFoundException",dBt="GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate",pBt="GlobalTableProvisionedWriteCapacityUnits",fBt="GlobalTableStatus",mBt="GlobalTableVersion",hBt="GlobalTableWitnesses",gBt="GlobalTableWitnessDescription",yBt="GlobalTableWitnessDescriptionList",bBt="GlobalTableWitnessGroupUpdate",vBt="GlobalTableWitnessGroupUpdateList",_Bt="GlobalTableWitnessUpdates",SBt="GlobalTables",xBt="HeaderList",mh="Item",Tce="ImportArn",PGe="IndexArn",s8="ItemCount",wBt="ImportConflictException",ABt="ItemCollectionKey",EBt="ItemCollectionKeyAttributeMap",QA="ItemCollectionMetrics",TBt="ItemCollectionMetricsMultiple",RBt="ItemCollectionMetricsPerTable",IBt="ItemCollectionSizeLimitExceededException",kGe="InputCompressionType",CBt="InaccessibleEncryptionDateTime",NBt="InvalidEndpointException",Rce="IncrementalExportSpecification",OBt="InvalidExportTimeException",Ice="InputFormat",Cce="InputFormatOptions",PBt="ImportedItemCount",kBt="ItemList",yi="IndexName",DBt="ImportNotFoundException",MBt="IndexNotFoundException",LBt="IdempotentParameterMismatchException",BBt="ItemResponse",$Bt="ItemResponseList",UBt="InvalidRestoreTimeException",Nce="IndexStatus",DGe="IndexSizeBytes",FBt="InternalServerError",MGe="ImportSummaryList",zBt="ImportSummary",LGe="ImportStatus",HBt="ImportTable",Oce="ImportTableDescription",VBt="ImportTableInput",GBt="ImportTableOutput",Pce="Items",Sf="Key",jBt="KeysAndAttributes",BGe="KeyConditions",qBt="KeyConditionExpression",$Ge="KinesisDataStreamDestinations",WBt="KinesisDataStreamDestination",JBt="KeyList",KBt="KMSMasterKeyArn",s$="KMSMasterKeyId",Vu="KeySchema",QBt="KinesisStreamingDestinationInput",XBt="KinesisStreamingDestinationOutput",YBt="KeySchemaElement",ZBt="KeyType",e$t="Keys",XA="Limit",t$t="ListAttributeValue",r$t="ListBackups",n$t="ListBackupsInput",i$t="ListBackupsOutput",o$t="ListContributorInsights",s$t="ListContributorInsightsInput",a$t="ListContributorInsightsOutput",c$t="LastDecreaseDateTime",l$t="ListExports",u$t="LastEvaluatedBackupArn",d$t="LimitExceededException",p$t="LastEvaluatedGlobalTableName",f$t="ListExportsInput",kce="LastEvaluatedKey",m$t="ListExportsOutput",h$t="LastEvaluatedTableName",g$t="ListGlobalTables",y$t="ListGlobalTablesInput",b$t="ListGlobalTablesOutput",v$t="ListImports",_$t="LastIncreaseDateTime",S$t="ListImportsInput",x$t="ListImportsOutput",w$t="LatestRestorableDateTime",A$t="LatestStreamArn",a8="LocalSecondaryIndexes",E$t="LocalSecondaryIndexDescription",T$t="LocalSecondaryIndexDescriptionList",R$t="LocalSecondaryIndexInfo",I$t="LocalSecondaryIndexList",UGe="LocalSecondaryIndexOverride",C$t="LocalSecondaryIndex",N$t="LatestStreamLabel",O$t="ListTables",P$t="ListTablesInput",k$t="ListTablesOutput",D$t="ListTagsOfResource",M$t="ListTagsOfResourceInput",L$t="ListTagsOfResourceOutput",FGe="LastUpdateDateTime",B$t="LastUpdateToPayPerRequestDateTime",$$t="L",YA="Message",U$t="MapAttributeValue",zGe="MaxResults",HGe="MultiRegionConsistency",VGe="MaxReadRequestUnits",GGe="MinimumUnits",jGe="MaximumUnits",F$t="MaxWriteRequestUnits",z$t="M",H$t="N",V$t="NonKeyAttributes",G$t="NumberOfDecreasesToday",j$t="NS",xf="NextToken",q$t="NULL",Kd="OnDemandThroughput",f1="OnDemandThroughputOverride",Dce="Parameters",c8="ProjectionExpression",W$t="PutItem",J$t="ProcessedItemCount",K$t="PutItemInput",Q$t="PutItemInputAttributeMap",X$t="PutItemOutput",qGe="PointInTimeRecoveryDescription",Y$t="PointInTimeRecoveryEnabled",Z$t="PointInTimeRecoveryStatus",WGe="PointInTimeRecoverySpecification",eUt="PointInTimeRecoveryUnavailableException",JGe="PolicyName",tUt="PolicyNotFoundException",rUt="PartiQLBatchRequest",nUt="PartiQLBatchResponse",KGe="PutRequest",QGe="ProvisionedReadCapacityAutoScalingSettings",iUt="ProvisionedReadCapacityAutoScalingSettingsUpdate",oUt="ProvisionedReadCapacityAutoScalingUpdate",XGe="ProvisionedReadCapacityUnits",sUt="PutResourcePolicy",aUt="PutResourcePolicyInput",cUt="PutResourcePolicyOutput",lUt="PageSize",uUt="ProcessedSizeBytes",dUt="PreparedStatementParameters",pUt="ParameterizedStatement",fUt="ParameterizedStatements",Qd="ProvisionedThroughput",mUt="ProvisionedThroughputDescription",hUt="ProvisionedThroughputExceededException",m1="ProvisionedThroughputOverride",gUt="ProjectionType",YGe="ProvisionedWriteCapacityAutoScalingSettings",yUt="ProvisionedWriteCapacityAutoScalingSettingsUpdate",ZGe="ProvisionedWriteCapacityAutoScalingUpdate",eje="ProvisionedWriteCapacityUnits",tje="Policy",h1="Projection",rje="Put",bUt="Query",vUt="QueryFilter",_Ut="QueryInput",SUt="QueryOutput",a$="Responses",ZA="ResourceArn",xUt="ReplicaAlreadyExistsException",wUt="ReplicaAutoScalingDescription",AUt="ReplicaAutoScalingDescriptionList",EUt="ReplicaAutoScalingUpdate",TUt="ReplicaAutoScalingUpdateList",RUt="ReplicaBillingModeSummary",bl="ReturnConsumedCapacity",l8="ReadCapacityUnits",IUt="ReplicaDescription",CUt="ReplicaDescriptionList",nje="RestoreDateTime",Mce="ReplicationGroup",NUt="ReplicaGlobalSecondaryIndex",OUt="ReplicaGlobalSecondaryIndexAutoScalingDescription",PUt="ReplicaGlobalSecondaryIndexAutoScalingDescriptionList",kUt="ReplicaGlobalSecondaryIndexAutoScalingUpdate",DUt="ReplicaGlobalSecondaryIndexAutoScalingUpdateList",MUt="ReplicaGlobalSecondaryIndexDescription",LUt="ReplicaGlobalSecondaryIndexDescriptionList",BUt="ReplicaGlobalSecondaryIndexList",$Ut="ReplicaGlobalSecondaryIndexSettings",UUt="ReplicaGlobalSecondaryIndexSettingsDescription",FUt="ReplicaGlobalSecondaryIndexSettingsDescriptionList",ije="ReplicaGlobalSecondaryIndexSettingsUpdate",zUt="ReplicaGlobalSecondaryIndexSettingsUpdateList",HUt="ReplicaGlobalSecondaryIndexUpdates",VUt="ReplicationGroupUpdate",GUt="ReplicationGroupUpdateList",oje="RequestItems",u8="ReturnItemCollectionMetrics",jUt="ReplicaInaccessibleDateTime",qUt="RestoreInProgress",WUt="ResourceInUseException",Lce="RevisionId",JUt="ReplicaList",KUt="RequestLimitExceeded",Da="RegionName",QUt="ReplicaNotFoundException",XUt="ResourceNotFoundException",YUt="ResourcePolicy",sje="RecoveryPeriodInDays",aje="ReplicaProvisionedReadCapacityAutoScalingSettings",ZUt="ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate",eFt="ReplicaProvisionedReadCapacityAutoScalingUpdate",cje="ReplicaProvisionedReadCapacityUnits",lje="ReplicaProvisionedWriteCapacityAutoScalingSettings",tFt="ReplicaProvisionedWriteCapacityUnits",uje="ReplicaSettings",rFt="ReplicaStatusDescription",nFt="ReplicaSettingsDescriptionList",iFt="ReplicaSettingsDescription",oFt="ReplicaStatusPercentProgress",dje="ReplicaSettingsUpdate",sFt="ReplicaSettingsUpdateList",Bce="ReplicaStatus",pje="RestoreSummary",aFt="ReplicaTableClass",fje="ReplicaTableClassSummary",cFt="RestoreTableFromBackup",lFt="RestoreTableFromBackupInput",uFt="RestoreTableFromBackupOutput",dFt="RestoreTableToPointInTime",pFt="RestoreTableToPointInTimeInput",fFt="RestoreTableToPointInTimeOutput",mFt="ReplicaUpdate",hFt="ReplicaUpdateList",$ce="ReadUnitsPerSecond",Uce="ReplicaUpdates",Fce="ReturnValues",wf="ReturnValuesOnConditionCheckFailure",gFt="ReplicatedWriteConflictException",yFt="Replica",mje="Replicas",bFt="Statements",d8="StreamArn",zce="S3Bucket",vFt="SourceBackupArn",Hce="S3BucketOwner",c$="S3BucketSource",hje="ScannedCount",_Ft="StreamDescription",SFt="StreamEnabled",xFt="SizeEstimateRangeGB",wFt="ScanFilter",AFt="ScanInput",gje="ScaleInCooldown",EFt="SecondaryIndexesCapacityMap",TFt="ScanIndexForward",RFt="S3KeyPrefix",IFt="ScanOutput",yje="ScaleOutCooldown",CFt="ScalingPolicies",NFt="ScalingPolicyUpdate",bje="S3Prefix",l$="StreamSpecification",vje="S3SseAlgorithm",Vce="SSEDescription",u$="SSESpecification",_je="SSESpecificationOverride",Sje="SSEType",xje="S3SseKmsKeyId",OFt="SS",Gce="StartTime",wje="SourceTableArn",Aje="SourceTableDetails",Eje="SourceTableFeatureDetails",PFt="SourceTableName",kFt="StreamViewType",DFt="S",MFt="Scan",Tje="Select",LFt="Segment",jce="Statement",qce="Status",Rje="Table",hh="TableArn",BFt="TableAlreadyExistsException",Wce="TableAutoScalingDescription",Jce="TableClass",$Ft="TableCreationDateTime",UFt="TransactionCanceledException",FFt="TransactionConflictException",Ije="TableClassOverride",Kce="TableCreationParameters",Cje="TableClassSummary",eE="TableDescription",zFt="ThrottlingException",HFt="TransactGetItem",VFt="TransactGetItemsInput",GFt="TransactGetItemList",jFt="TransactGetItemsOutput",qFt="TransactGetItems",p8="TableId",WFt="TransactionInProgressException",JFt="TableInUseException",Nje="TransactItems",KFt="TagKeys",QFt="TagList",XFt="TableMaxReadCapacityUnits",YFt="TableMaxWriteCapacityUnits",br="TableName",ZFt="TableNotFoundException",ezt="TableNames",Oje="ThrottlingReasons",tzt="TagResourceInput",rzt="ThrottlingReasonList",nzt="TimeRangeLowerBound",izt="TimeRangeUpperBound",ozt="TagResource",szt="ThrottlingReason",azt="TransactStatements",Pje="TableSizeBytes",kje="TableStatus",czt="TotalSegments",Qce="TimeToLiveDescription",lzt="TimeToLiveStatus",Xce="TimeToLiveSpecification",Dje="TargetTableName",Mje="TargetTrackingScalingPolicyConfiguration",Lje="TargetValue",uzt="TransactWriteItem",dzt="TransactWriteItemsInput",pzt="TransactWriteItemList",fzt="TransactWriteItemsOutput",mzt="TransactWriteItems",hzt="TableWarmThroughputDescription",Yce="Tags",gzt="Tag",d$="Update",yzt="UpdateContinuousBackups",bzt="UpdateContinuousBackupsInput",vzt="UpdateContinuousBackupsOutput",_zt="UpdateContributorInsights",Szt="UpdateContributorInsightsInput",xzt="UpdateContributorInsightsOutput",Bje="UpdateExpression",wzt="UpdateGlobalSecondaryIndexAction",Azt="UpdateGlobalTable",Ezt="UpdateGlobalTableInput",Tzt="UpdateGlobalTableOutput",Rzt="UpdateGlobalTableSettings",Izt="UpdateGlobalTableSettingsInput",Czt="UpdateGlobalTableSettingsOutput",Nzt="UnprocessedItems",Ozt="UpdateItemInput",Pzt="UpdateItemOutput",kzt="UpdateItem",Dzt="UnprocessedKeys",Zce="UpdateKinesisStreamingConfiguration",Mzt="UpdateKinesisStreamingDestination",Lzt="UpdateKinesisStreamingDestinationInput",Bzt="UpdateKinesisStreamingDestinationOutput",$zt="UseLatestRestorableTime",Uzt="UntagResource",Fzt="UpdateReplicationGroupMemberAction",zzt="UntagResourceInput",Hzt="UpdateTable",Vzt="UpdateTableInput",Gzt="UpdateTableOutput",jzt="UpdateTableReplicaAutoScaling",qzt="UpdateTableReplicaAutoScalingInput",Wzt="UpdateTableReplicaAutoScalingOutput",Jzt="UpdateTimeToLive",Kzt="UpdateTimeToLiveInput",Qzt="UpdateTimeToLiveOutput",ele="Value",p$="WriteCapacityUnits",Xzt="WriteRequest",Yzt="WriteRequests",Zzt="WitnessStatus",Af="WarmThroughput",tle="WriteUnitsPerSecond",eHt="awsQueryError",Wr="client",Vr="error",$je="httpError",tHt="httpHeader",cn="message",rHt="reason",nHt="resource",iHt="server",Uje="smithy.ts.sdk.synthetic.com.amazonaws.dynamodb",oHt="throttlingReasons",sHt="x-amz-confirm-remove-self-resource-access",z="com.amazonaws.dynamodb",Fje=[3,z,JVe,0,[q7t,Q7t,G7t],[4,0,0]],zje=[3,z,j7t,0,[e$,iDt],[0,0],2],Hje=[3,z,sDt,0,[ele,V7t],[()=>Gu,0]],Vje=[3,z,X7t,0,[JGe,Mje],[0,()=>jje]],Gje=[3,z,Z7t,0,[Mje,JGe],[()=>qje,0],1],dh=[3,z,eDt,0,[GGe,jGe,KVe,QVe,CFt],[1,1,2,0,()=>aHt]],gh=[3,z,tDt,0,[GGe,jGe,KVe,QVe,NFt],[1,1,2,0,()=>Gje]],jje=[3,z,rDt,0,[Lje,hGe,gje,yje],[1,2,1,1],1],qje=[3,z,nDt,0,[Lje,hGe,gje,yje],[1,2,1,1],1],rle=[3,z,pce,0,[fce,Aje,Eje],[()=>nle,()=>nKe,()=>iKe]],nle=[3,z,fce,0,[n8,mce,rGe,hce,YVe,nGe,ZVe],[0,0,0,0,4,1,4],5],Wje=[-3,z,yDt,{[Vr]:Wr},[cn],[0]];je.for(z).registerError(Wje,S5);Jje=[-3,z,bDt,{[Vr]:Wr},[cn],[0]];je.for(z).registerError(Jje,x5);Kje=[3,z,EDt,0,[br,p8,hh,n8,mce,YVe,ZVe,rGe,hce,nGe],[0,0,0,0,0,4,4,0,0,1]],Qje=[3,z,uDt,0,[bFt,bl],[()=>CHt,0],1],Xje=[3,z,dDt,0,[a$,Cc],[()=>NHt,()=>oE]],Yje=[3,z,fDt,0,[oje,bl],[()=>YKe,0],1],Zje=[3,z,mDt,0,[a$,Dzt,Cc],[()=>jHt,()=>YKe,()=>oE]],eqe=[3,z,SDt,0,[oGe,YA,mh],[0,0,()=>Ef]],tqe=[3,z,xDt,0,[jce,Dce,JA,wf],[0,()=>Ele,2,0],1],rqe=[3,z,wDt,0,[dLt,br,mh],[()=>eqe,0,()=>Ef]],nqe=[3,z,RDt,0,[oje,bl,u8],[()=>ZKe,0,0],1],iqe=[3,z,IDt,0,[Nzt,QA,Cc],[()=>ZKe,()=>tQe,()=>oE]],ile=[3,z,tGe,0,[i8,B$t],[0,4]],oqe=[3,z,YDt,0,[mh,oGe,YA],[()=>Ef,0,0]],ole=[3,z,nMt,0,[l8,p$,dGe],[1,1,1]],sle=[3,z,iMt,0,[lGe,uce],[0,()=>qKe],1],sqe=[-3,z,LDt,{[Vr]:Wr},[cn,mh],[0,()=>Ef]];je.for(z).registerError(sqe,e8);aqe=[3,z,sGe,0,[Sf,br,Kv,Hu,ph,wf],[()=>Nc,0,0,128,()=>bh,0],3],yh=[3,z,Cc,0,[br,dGe,l8,p$,Rje,a8,_f],[0,1,1,1,()=>ole,()=>WVe,()=>WVe]],ale=[3,z,gce,0,[DDt,qGe],[0,()=>yJe],1],cqe=[-3,z,MDt,{[Vr]:Wr},[cn],[0]];je.for(z).registerError(cqe,O5);lqe=[3,z,jDt,0,[br,yi,yce,r$],[0,0,0,0]],uqe=[3,z,PDt,0,[br,mce],[0,0],2],dqe=[3,z,kDt,0,[fce],[()=>nle]],pqe=[3,z,$Dt,0,[yi,Vu,h1,Qd,Kd,Af],[0,()=>Yd,()=>g1,()=>Xd,()=>vl,()=>iE],3],fqe=[3,z,FDt,0,[fh,Mce],[0,()=>QKe],2],mqe=[3,z,zDt,0,[o$],[()=>f$]],hqe=[3,z,HDt,0,[Da],[0],1],gqe=[3,z,JDt,0,[Da],[0],1],yqe=[3,z,KDt,0,[Da,s$,m1,f1,_f,Ije],[0,0,()=>rE,()=>tE,()=>KKe,0],1],bqe=[3,z,eMt,0,[r8,br,Vu,a8,_f,i8,Qd,l$,u$,Yce,Jce,bce,Af,YUt,Kd],[()=>g$,0,()=>Yd,()=>Ale,()=>y$,0,()=>Xd,()=>m8,()=>nE,()=>Tle,0,2,()=>iE,0,()=>vl],3],vqe=[3,z,tMt,0,[eE],[()=>Qv]],_qe=[3,z,qDt,0,[sMt,xBt],[0,64]],Sqe=[3,z,KA,0,[Sf,br,Kv,Hu,ph,wf],[()=>Nc,0,0,128,()=>bh,0],2],xqe=[3,z,cMt,0,[n8],[0],1],wqe=[3,z,uMt,0,[pce],[()=>rle]],Aqe=[3,z,EMt,0,[yi],[0],1],Eqe=[3,z,PMt,0,[Da],[0],1],Tqe=[3,z,MMt,0,[br,Sf,Ece,o8,Fce,bl,u8,Kv,Hu,ph,wf],[0,()=>Nc,()=>Ile,0,0,0,0,0,128,()=>bh,0],2],Rqe=[3,z,BMt,0,[dce,Cc,QA],[()=>Ef,()=>yh,()=>f8]],Iqe=[3,z,WMt,0,[Da],[0],1],Cqe=[3,z,JMt,0,[Da],[0],1],Nqe=[3,z,mGe,0,[Sf],[()=>Nc],1],Oqe=[3,z,QMt,0,[ZA,yGe],[0,0],1],Pqe=[3,z,XMt,0,[Lce],[0]],kqe=[3,z,eLt,0,[br],[0],1],Dqe=[3,z,rLt,0,[eE],[()=>Qv]],Mqe=[3,z,lMt,0,[n8],[0],1],Lqe=[3,z,dMt,0,[pce],[()=>rle]],Bqe=[3,z,mMt,0,[br],[0],1],$qe=[3,z,hMt,0,[gce],[()=>ale]],Uqe=[3,z,yMt,0,[br,yi],[0,0],1],Fqe=[3,z,bMt,0,[br,yi,GDt,yce,FGe,EGe,r$],[0,0,64,0,4,()=>vWe,0]],zqe=[3,z,xMt,0,[],[]],Hqe=[3,z,wMt,0,[xGe],[()=>dHt],1],Vqe=[3,z,_Mt,0,[_ce],[0],1],Gqe=[3,z,SMt,0,[Sce],[()=>lle]],jqe=[3,z,RMt,0,[fh],[0],1],qqe=[3,z,IMt,0,[o$],[()=>f$]],Wqe=[3,z,NMt,0,[fh],[0],1],Jqe=[3,z,OMt,0,[fh,uje],[0,()=>XKe]],Kqe=[3,z,LMt,0,[Tce],[0],1],Qqe=[3,z,$Mt,0,[Oce],[()=>dle],1],Xqe=[3,z,zMt,0,[br],[0],1],Yqe=[3,z,HMt,0,[br,$Ge],[0,()=>AHt]],Zqe=[3,z,jMt,0,[],[]],eWe=[3,z,qMt,0,[J7t,K7t,XFt,YFt],[1,1,1,1]],tWe=[3,z,tLt,0,[br],[0],1],rWe=[3,z,nLt,0,[Rje],[()=>Qv]],nWe=[3,z,oLt,0,[br],[0],1],iWe=[3,z,sLt,0,[Wce],[()=>ble]],oWe=[3,z,cLt,0,[br],[0],1],sWe=[3,z,lLt,0,[Qce],[()=>Sle]],aWe=[-3,z,DMt,{[Vr]:Wr},[cn],[0]];je.for(z).registerError(aWe,H5);cle=[3,z,xce,0,[lce],[0]],cWe=[3,z,ULt,0,[aDt,WDt],[0,1],2],lWe=[3,z,TLt,0,[jce,Dce,JA,xf,bl,XA,wf],[0,()=>Ele,2,0,0,1,0],1],uWe=[3,z,RLt,0,[Pce,xf,Cc,kce],[()=>b$,0,()=>yh,()=>Nc]],dWe=[3,z,OLt,0,[azt,uGe,bl],[()=>IHt,[0,4],0],1],pWe=[3,z,PLt,0,[a$,Cc],[()=>WKe,()=>oE]],fWe=[3,z,mLt,0,[ele,FLt,lGe,uce],[()=>Gu,2,0,()=>qKe]],mWe=[-3,z,gLt,{[Vr]:Wr},[cn],[0]];je.for(z).registerError(mWe,j5);lle=[3,z,Sce,0,[_ce,bGe,Gce,wce,_Lt,hh,p8,SGe,n$,zce,Hce,bje,vje,xje,AGe,RGe,gGe,_Dt,s8,Ace,Rce],[0,0,4,4,0,0,0,4,0,0,0,0,0,0,0,0,0,1,1,0,()=>ple]],hWe=[-3,z,xLt,{[Vr]:Wr},[cn],[0]];je.for(z).registerError(hWe,U5);gWe=[3,z,CLt,0,[_ce,bGe,Ace],[0,0,0]],yWe=[3,z,MLt,0,[hh,zce,SGe,n$,Hce,bje,vje,xje,gGe,Ace,Rce],[0,0,4,[0,4],0,0,0,0,0,0,()=>ple],2],bWe=[3,z,LLt,0,[Sce],[()=>lle]],vWe=[3,z,EGe,0,[SLt,yLt],[0,0]],_We=[3,z,IGe,0,[Sf,br,c8,Hu],[()=>Nc,0,0,128],2],SWe=[3,z,VLt,0,[br,Sf,t$,JA,bl,c8,Hu],[0,()=>Nc,64,2,0,0,128],2],xWe=[3,z,GLt,0,[mh,Cc],[()=>Ef,()=>yh]],wWe=[3,z,qLt,0,[ZA],[0],1],AWe=[3,z,WLt,0,[tje,Lce],[0,0]],EWe=[3,z,nBt,0,[yi,Vu,h1,Qd,Kd,Af],[0,()=>Yd,()=>g1,()=>Xd,()=>vl,()=>iE],3],TWe=[3,z,JLt,0,[yi,ZGe],[0,()=>gh]],RWe=[3,z,QLt,0,[yi,Vu,h1,Nce,cDt,Qd,DGe,s8,PGe,Kd,Af],[0,()=>Yd,()=>g1,0,2,()=>gle,1,1,0,()=>vl,()=>ule]],IWe=[3,z,YLt,0,[yi,Vu,h1,Qd,Kd],[0,()=>Yd,()=>g1,()=>Xd,()=>vl]],CWe=[3,z,eBt,0,[d$,i$,KA],[()=>RKe,()=>pqe,()=>Aqe]],ule=[3,z,rBt,0,[$ce,tle,qce],[1,1,0]],NWe=[3,z,iBt,0,[fh,Mce],[0,()=>QKe]],OWe=[-3,z,sBt,{[Vr]:Wr},[cn],[0]];je.for(z).registerError(OWe,M5);f$=[3,z,o$,0,[Mce,oBt,aGe,fBt,fh],[()=>JKe,0,4,0,0]],PWe=[3,z,OGe,0,[yi,eje,yUt],[0,1,()=>gh],1],kWe=[-3,z,uBt,{[Vr]:Wr},[cn],[0]];je.for(z).registerError(kWe,F5);DWe=[3,z,gBt,0,[Da,Zzt],[0,0]],MWe=[3,z,bBt,0,[i$,KA],[()=>hqe,()=>Eqe]],LWe=[-3,z,LBt,{[Vr]:Wr},[YA],[0]];je.for(z).registerError(LWe,V5);BWe=[-3,z,wBt,{[Vr]:Wr},[cn],[0]];je.for(z).registerError(BWe,J5);$We=[-3,z,DBt,{[Vr]:Wr},[cn],[0]];je.for(z).registerError($We,z5);UWe=[3,z,zBt,0,[Tce,LGe,hh,c$,pGe,Ice,Gce,wce],[0,0,0,()=>m$,0,0,4,4]],dle=[3,z,Oce,0,[Tce,LGe,hh,p8,n$,c$,hLt,pGe,Ice,Cce,kGe,Kce,Gce,wce,uUt,J$t,PBt,AGe,RGe],[0,0,0,0,0,()=>m$,1,0,0,()=>fle,0,()=>vle,4,4,1,1,1,0,0]],FWe=[3,z,VBt,0,[c$,Ice,Kce,n$,Cce,kGe],[()=>m$,0,()=>vle,[0,4],()=>fle,0],3],zWe=[3,z,GBt,0,[Oce],[()=>dle],1],ple=[3,z,Rce,0,[bLt,kLt,$Lt],[4,4,0]],HWe=[-3,z,MBt,{[Vr]:Wr},[cn],[0]];je.for(z).registerError(HWe,Z5);fle=[3,z,Cce,0,[oMt],[()=>_qe]],VWe=[-3,z,FBt,{[Vr]:iHt},[cn],[0]];je.for(z).registerError(VWe,w5);GWe=[-3,z,NBt,{[Vr]:Wr,[$je]:421},[YA],[0]];je.for(z).registerError(GWe,T5);jWe=[-3,z,OBt,{[Vr]:Wr},[cn],[0]];je.for(z).registerError(jWe,q5);qWe=[-3,z,UBt,{[Vr]:Wr},[cn],[0]];je.for(z).registerError(qWe,Q5);f8=[3,z,QA,0,[ABt,xFt],[()=>qHt,65]],WWe=[-3,z,IBt,{[Vr]:Wr},[cn],[0]];je.for(z).registerError(WWe,C5);JWe=[3,z,BBt,0,[mh],[()=>Ef]],KWe=[3,z,jBt,0,[e$t,t$,JA,c8,Hu],[()=>wHt,64,2,0,128],1],QWe=[3,z,YBt,0,[e$,ZBt],[0,0],2],XWe=[3,z,WBt,0,[d8,vce,YMt,lce],[0,0,0,0]],mle=[3,z,QBt,0,[br,d8,xce],[0,0,()=>cle],2],hle=[3,z,XBt,0,[br,d8,vce,xce],[0,0,0,()=>cle]],YWe=[-3,z,d$t,{[Vr]:Wr},[cn],[0]];je.for(z).registerError(YWe,P5);ZWe=[3,z,n$t,0,[br,XA,nzt,izt,ALt,hce],[0,1,4,4,0,0]],eJe=[3,z,i$t,0,[iGe,u$t],[()=>cHt,0]],tJe=[3,z,s$t,0,[br,xf,zGe],[0,0,1]],rJe=[3,z,a$t,0,[cGe,xf],[()=>uHt,0]],nJe=[3,z,f$t,0,[hh,zGe,xf],[0,1,0]],iJe=[3,z,m$t,0,[_Ge,xf],[()=>pHt,0]],oJe=[3,z,y$t,0,[ELt,XA,Da],[0,1,0]],sJe=[3,z,b$t,0,[SBt,p$t],[()=>bHt,0]],aJe=[3,z,S$t,0,[hh,lUt,xf],[0,1,0]],cJe=[3,z,x$t,0,[MGe,xf],[()=>SHt,0]],lJe=[3,z,P$t,0,[ILt,XA],[0,1]],uJe=[3,z,k$t,0,[ezt,h$t],[64,0]],dJe=[3,z,M$t,0,[ZA,xf],[0,0],1],pJe=[3,z,L$t,0,[Yce,xf],[()=>Tle,0]],fJe=[3,z,C$t,0,[yi,Vu,h1],[0,()=>Yd,()=>g1],3],mJe=[3,z,E$t,0,[yi,Vu,h1,DGe,s8,PGe],[0,()=>Yd,()=>g1,1,1,0]],hJe=[3,z,R$t,0,[yi,Vu,h1],[0,()=>Yd,()=>g1]],vl=[3,z,Kd,0,[VGe,F$t],[1,1]],tE=[3,z,f1,0,[VGe],[1]],gJe=[3,z,pUt,0,[jce,Dce,wf],[0,()=>Ele,0],1],yJe=[3,z,qGe,0,[Z$t,sje,wLt,w$t],[0,1,4,4]],bJe=[3,z,WGe,0,[Y$t,sje],[2,1],1],vJe=[-3,z,eUt,{[Vr]:Wr},[cn],[0]];je.for(z).registerError(vJe,W5);_Je=[-3,z,tUt,{[Vr]:Wr},[cn],[0]];je.for(z).registerError(_Je,$5);g1=[3,z,h1,0,[gUt,V$t],[0,64]],Xd=[3,z,Qd,0,[l8,p$],[1,1],2],gle=[3,z,mUt,0,[_$t,c$t,G$t,l8,p$],[4,4,1,1,1]],SJe=[-3,z,hUt,{[Vr]:Wr},[cn,Oje],[0,()=>Rle]];je.for(z).registerError(SJe,R5);rE=[3,z,m1,0,[l8],[1]],xJe=[3,z,rje,0,[mh,br,Kv,Hu,ph,wf],[()=>Cle,0,0,128,()=>bh,0],2],wJe=[3,z,K$t,0,[br,mh,Ece,Fce,bl,u8,o8,Kv,Hu,ph,wf],[0,()=>Cle,()=>Ile,0,0,0,0,0,128,()=>bh,0],2],AJe=[3,z,X$t,0,[dce,Cc,QA],[()=>Ef,()=>yh,()=>f8]],EJe=[3,z,KGe,0,[mh],[()=>Cle],1],TJe=[3,z,aUt,0,[ZA,tje,yGe,XDt],[0,0,0,[2,{[tHt]:sHt}]],2],RJe=[3,z,cUt,0,[Lce],[0]],IJe=[3,z,_Ut,0,[br,yi,Tje,t$,XA,JA,BGe,vUt,o8,TFt,vGe,bl,c8,TGe,qBt,Hu,ph],[0,0,0,64,1,2,()=>WHt,()=>eQe,0,2,()=>Nc,0,0,0,0,128,()=>bh],1],CJe=[3,z,SUt,0,[Pce,fGe,hje,kce,Cc],[()=>b$,1,1,()=>Nc,()=>yh]],NJe=[3,z,yFt,0,[Da],[0]],OJe=[-3,z,xUt,{[Vr]:Wr},[cn],[0]];je.for(z).registerError(OJe,X5);PJe=[3,z,wUt,0,[Da,_f,aje,lje,Bce],[0,()=>kHt,()=>dh,()=>dh,0]],kJe=[3,z,EUt,0,[Da,HUt,eFt],[0,()=>DHt,()=>gh],1],DJe=[3,z,IUt,0,[Da,Bce,rFt,oFt,s$,m1,f1,Af,_f,jUt,fje],[0,0,0,0,0,()=>rE,()=>tE,()=>_le,()=>MHt,4,()=>h$]],MJe=[3,z,NUt,0,[yi,m1,f1],[0,()=>rE,()=>tE],1],LJe=[3,z,OUt,0,[yi,Nce,QGe,YGe],[0,0,()=>dh,()=>dh]],BJe=[3,z,kUt,0,[yi,oUt],[0,()=>gh]],$Je=[3,z,MUt,0,[yi,m1,f1,Af],[0,()=>rE,()=>tE,()=>ule]],UJe=[3,z,UUt,0,[yi,Nce,XGe,QGe,eje,YGe],[0,0,1,()=>dh,1,()=>dh],1],FJe=[3,z,ije,0,[yi,XGe,iUt],[0,1,()=>gh],1],zJe=[-3,z,QUt,{[Vr]:Wr},[cn],[0]];je.for(z).registerError(zJe,Y5);HJe=[3,z,iFt,0,[Da,Bce,RUt,cje,aje,tFt,lje,$Ut,fje],[0,0,()=>ile,1,()=>dh,1,()=>dh,()=>LHt,()=>h$],1],VJe=[3,z,dje,0,[Da,cje,ZUt,ije,aFt],[0,1,()=>gh,()=>BHt,0],1],GJe=[-3,z,gFt,{[Vr]:Wr},[cn],[0]];je.for(z).registerError(GJe,N5);jJe=[3,z,VUt,0,[i$,d$,KA],[()=>yqe,()=>LKe,()=>Cqe]],qJe=[3,z,mFt,0,[i$,KA],[()=>gqe,()=>Iqe]],WJe=[-3,z,KUt,{[Vr]:Wr},[cn,Oje],[0,()=>Rle]];je.for(z).registerError(WJe,A5);JJe=[-3,z,WUt,{[Vr]:Wr},[cn],[0]];je.for(z).registerError(JJe,L5);KJe=[-3,z,XUt,{[Vr]:Wr},[cn],[0]];je.for(z).registerError(KJe,I5);QJe=[3,z,pje,0,[nje,qUt,vFt,wje],[4,2,0,0],2],XJe=[3,z,lFt,0,[Dje,n8,eGe,CGe,UGe,m1,f1,_je],[0,0,0,()=>y$,()=>Ale,()=>Xd,()=>vl,()=>nE],2],YJe=[3,z,uFt,0,[eE],[()=>Qv]],ZJe=[3,z,pFt,0,[Dje,wje,PFt,$zt,nje,eGe,CGe,UGe,m1,f1,_je],[0,0,0,2,4,0,()=>y$,()=>Ale,()=>Xd,()=>vl,()=>nE],1],eKe=[3,z,fFt,0,[eE],[()=>Qv]],m$=[3,z,c$,0,[zce,Hce,RFt],[0,0,0],1],tKe=[3,z,AFt,0,[br,yi,t$,XA,Tje,wFt,o8,vGe,bl,czt,LFt,c8,TGe,Hu,ph,JA],[0,0,64,1,0,()=>eQe,0,()=>Nc,0,1,1,0,0,128,()=>bh,2],1],rKe=[3,z,IFt,0,[Pce,fGe,hje,kce,Cc],[()=>b$,1,1,()=>Nc,()=>yh]],nKe=[3,z,Aje,0,[br,p8,Vu,$Ft,Qd,hh,Pje,Kd,s8,i8],[0,0,()=>Yd,4,()=>Xd,0,1,()=>vl,1,0],5],iKe=[3,z,Eje,0,[a8,_f,_Ft,Qce,Vce],[()=>RHt,()=>hHt,()=>m8,()=>Sle,()=>yle]],yle=[3,z,Vce,0,[qce,Sje,KBt,CBt],[0,0,0,4]],nE=[3,z,u$,0,[wGe,Sje,s$],[2,0,0]],m8=[3,z,l$,0,[SFt,kFt],[2,0],1],oKe=[-3,z,BFt,{[Vr]:Wr},[cn],[0]];je.for(z).registerError(oKe,K5);ble=[3,z,Wce,0,[br,kje,mje],[0,0,()=>OHt]],h$=[3,z,Cje,0,[Jce,FGe],[0,4]],vle=[3,z,Kce,0,[br,r8,Vu,i8,Qd,Kd,u$,_f],[0,()=>g$,()=>Yd,0,()=>Xd,()=>vl,()=>nE,()=>y$],3],Qv=[3,z,eE,0,[r8,br,Vu,kje,aGe,Qd,Pje,s8,hh,p8,tGe,a8,_f,l$,N$t,A$t,mBt,mje,hBt,pje,Vce,JVe,Cje,bce,Kd,Af,HGe],[()=>g$,0,()=>Yd,0,4,()=>gle,1,1,0,0,()=>ile,()=>THt,()=>mHt,()=>m8,0,0,0,()=>JKe,()=>vHt,()=>QJe,()=>yle,()=>Fje,()=>h$,2,()=>vl,()=>_le,0]],sKe=[-3,z,JFt,{[Vr]:Wr},[cn],[0]];je.for(z).registerError(sKe,k5);aKe=[-3,z,ZFt,{[Vr]:Wr},[cn],[0]];je.for(z).registerError(aKe,D5);_le=[3,z,hzt,0,[$ce,tle,qce],[1,1,0]],cKe=[3,z,gzt,0,[Sf,ele],[0,0],2],lKe=[3,z,tzt,0,[ZA,Yce],[0,()=>Tle],2],uKe=[-3,z,zFt,{[eHt]:["Throttling",400],[Vr]:Wr,[$je]:400},[cn,oHt],[0,()=>Rle]];je.for(z).registerError(uKe,E5);dKe=[3,z,szt,0,[rHt,nHt],[0,0]],Sle=[3,z,Qce,0,[lzt,e$],[0,0]],xle=[3,z,Xce,0,[wGe,e$],[2,0],2],pKe=[3,z,HFt,0,[IGe],[()=>_We],1],fKe=[3,z,VFt,0,[Nje,bl],[()=>zHt,0],1],mKe=[3,z,jFt,0,[Cc,a$],[()=>oE,()=>WKe]],hKe=[-3,z,UFt,{[Vr]:Wr},[YA,ZDt],[0,()=>lHt]];je.for(z).registerError(hKe,t8);gKe=[-3,z,FFt,{[Vr]:Wr},[cn],[0]];je.for(z).registerError(gKe,B5);yKe=[-3,z,WFt,{[Vr]:Wr},[YA],[0]];je.for(z).registerError(yKe,G5);bKe=[3,z,uzt,0,[sGe,rje,KA,d$],[()=>aqe,()=>xJe,()=>Sqe,()=>xKe]],vKe=[3,z,dzt,0,[Nje,bl,u8,uGe],[()=>HHt,0,0,[0,4]],1],_Ke=[3,z,fzt,0,[Cc,QA],[()=>oE,()=>tQe]],SKe=[3,z,zzt,0,[ZA,KFt],[0,64],2],xKe=[3,z,d$,0,[Sf,Bje,br,Kv,Hu,ph,wf],[()=>Nc,0,0,0,128,()=>bh,0],3],wKe=[3,z,bzt,0,[br,WGe],[0,()=>bJe],2],AKe=[3,z,vzt,0,[gce],[()=>ale]],EKe=[3,z,Szt,0,[br,VDt,yi,r$],[0,0,0,0],2],TKe=[3,z,xzt,0,[br,yi,yce,r$],[0,0,0,0]],RKe=[3,z,wzt,0,[yi,Qd,Kd,Af],[0,()=>Xd,()=>vl,()=>iE],1],IKe=[3,z,Ezt,0,[fh,Uce],[0,()=>FHt],2],CKe=[3,z,Tzt,0,[o$],[()=>f$]],NKe=[3,z,Izt,0,[fh,aBt,pBt,dBt,OGe,dje],[0,0,1,()=>gh,()=>yHt,()=>$Ht],1],OKe=[3,z,Czt,0,[fh,uje],[0,()=>XKe]],PKe=[3,z,Ozt,0,[br,Sf,XVe,Ece,o8,Fce,bl,u8,Bje,Kv,Hu,ph,wf],[0,()=>Nc,()=>GHt,()=>Ile,0,0,0,0,0,0,128,()=>bh,0],2],kKe=[3,z,Pzt,0,[dce,Cc,QA],[()=>Ef,()=>yh,()=>f8]],wle=[3,z,Zce,0,[lce],[0]],DKe=[3,z,Lzt,0,[br,d8,Zce],[0,0,()=>wle],2],MKe=[3,z,Bzt,0,[br,d8,vce,Zce],[0,0,0,()=>wle]],LKe=[3,z,Fzt,0,[Da,s$,m1,f1,_f,Ije],[0,0,()=>rE,()=>tE,()=>KKe,0],1],BKe=[3,z,Vzt,0,[br,r8,i8,Qd,NGe,l$,u$,Uce,Jce,bce,HGe,_Bt,Kd,Af],[0,()=>g$,0,()=>Xd,()=>gHt,()=>m8,()=>nE,()=>UHt,0,2,0,()=>_Ht,()=>vl,()=>iE],1],$Ke=[3,z,Gzt,0,[eE],[()=>Qv]],UKe=[3,z,qzt,0,[br,NGe,ZGe,Uce],[0,()=>fHt,()=>gh,()=>PHt],1],FKe=[3,z,Wzt,0,[Wce],[()=>ble]],zKe=[3,z,Kzt,0,[br,Xce],[0,()=>xle],2],HKe=[3,z,Qzt,0,[Xce],[()=>xle]],iE=[3,z,Af,0,[$ce,tle],[1,1]],VKe=[3,z,Xzt,0,[KGe,mGe],[()=>EJe,()=>Nqe]],GKe="unit",jKe=[-3,Uje,"DynamoDBServiceException",0,[],[]];je.for(Uje).registerError(jKe,yr);g$=[1,z,r8,0,()=>zje],qKe=[1,z,uce,0,()=>Gu],aHt=[1,z,Y7t,0,()=>Vje],cHt=[1,z,iGe,0,()=>Kje],lHt=[1,z,QDt,0,()=>oqe],oE=[1,z,BDt,0,()=>yh],uHt=[1,z,cGe,0,()=>lqe],dHt=[1,z,xGe,0,()=>cWe],pHt=[1,z,_Ge,0,()=>gWe],fHt=[1,z,KLt,0,()=>TWe],mHt=[1,z,XLt,0,()=>RWe],hHt=[1,z,_f,0,()=>IWe],y$=[1,z,ZLt,0,()=>EWe],gHt=[1,z,tBt,0,()=>CWe],yHt=[1,z,cBt,0,()=>PWe],bHt=[1,z,lBt,0,()=>NWe],vHt=[1,z,yBt,0,()=>DWe],_Ht=[1,z,vBt,0,()=>MWe],SHt=[1,z,MGe,0,()=>UWe],xHt=[1,z,TBt,0,()=>f8],b$=[1,z,kBt,0,()=>Ef],WKe=[1,z,$Bt,0,()=>JWe],wHt=[1,z,JBt,0,()=>Nc],Yd=[1,z,Vu,0,()=>QWe],AHt=[1,z,$Ge,0,()=>XWe],EHt=[1,z,t$t,0,()=>Gu],THt=[1,z,T$t,0,()=>mJe],RHt=[1,z,a8,0,()=>hJe],Ale=[1,z,I$t,0,()=>fJe],IHt=[1,z,fUt,0,()=>gJe],CHt=[1,z,rUt,0,()=>tqe],NHt=[1,z,nUt,0,()=>rqe],Ele=[1,z,dUt,0,()=>Gu],OHt=[1,z,AUt,0,()=>PJe],PHt=[1,z,TUt,0,()=>kJe],JKe=[1,z,CUt,0,()=>DJe],kHt=[1,z,PUt,0,()=>LJe],DHt=[1,z,DUt,0,()=>BJe],MHt=[1,z,LUt,0,()=>$Je],KKe=[1,z,BUt,0,()=>MJe],LHt=[1,z,FUt,0,()=>UJe],BHt=[1,z,zUt,0,()=>FJe],QKe=[1,z,JUt,0,()=>NJe],XKe=[1,z,nFt,0,()=>HJe],$Ht=[1,z,sFt,0,()=>VJe],UHt=[1,z,GUt,0,()=>jJe],FHt=[1,z,hFt,0,()=>qJe],Tle=[1,z,QFt,0,()=>cKe],Rle=[1,z,rzt,0,()=>dKe],zHt=[1,z,GFt,0,()=>pKe],HHt=[1,z,pzt,0,()=>bKe],VHt=[1,z,Yzt,0,()=>VKe],Ef=[2,z,W7t,0,0,()=>Gu],GHt=[2,z,XVe,0,0,()=>Hje],YKe=[2,z,gDt,0,0,()=>KWe],jHt=[2,z,hDt,0,0,()=>b$],ZKe=[2,z,CDt,0,0,()=>VHt],Ile=[2,z,pLt,0,0,()=>fWe],bh=[2,z,fLt,0,0,()=>Gu],eQe=[2,z,zLt,0,0,()=>sle],qHt=[2,z,EBt,0,0,()=>Gu],tQe=[2,z,RBt,0,0,()=>xHt],Nc=[2,z,Sf,0,0,()=>Gu],WHt=[2,z,BGe,0,0,()=>sle],JHt=[2,z,U$t,0,0,()=>Gu],Cle=[2,z,Q$t,0,0,()=>Gu],WVe=[2,z,EFt,0,0,()=>ole],Gu=[4,z,oDt,0,[DFt,H$t,NDt,OFt,j$t,ADt,z$t,$$t,q$t,vDt],[0,0,21,64,64,85,()=>JHt,()=>EHt,2,2]],Nle=[9,z,lDt,0,()=>Qje,()=>Xje],Ole=[9,z,pDt,0,()=>Yje,()=>Zje],Ple=[9,z,TDt,0,()=>nqe,()=>iqe],kle=[9,z,ODt,0,()=>uqe,()=>dqe],Dle=[9,z,UDt,0,()=>fqe,()=>mqe],Mle=[9,z,rMt,0,()=>bqe,()=>vqe],Lle=[9,z,aMt,0,()=>xqe,()=>wqe],Ble=[9,z,kMt,0,()=>Tqe,()=>Rqe],$le=[9,z,KMt,0,()=>Oqe,()=>Pqe],Ule=[9,z,ZMt,0,()=>kqe,()=>Dqe],Fle=[9,z,pMt,0,()=>Mqe,()=>Lqe],zle=[9,z,fMt,0,()=>Bqe,()=>$qe],Hle=[9,z,gMt,0,()=>Uqe,()=>Fqe],Vle=[9,z,vMt,0,()=>zqe,()=>Hqe],Gle=[9,z,AMt,0,()=>Vqe,()=>Gqe],jle=[9,z,TMt,0,()=>jqe,()=>qqe],qle=[9,z,CMt,0,()=>Wqe,()=>Jqe],Wle=[9,z,UMt,0,()=>Kqe,()=>Qqe],Jle=[9,z,FMt,0,()=>Xqe,()=>Yqe],Kle=[9,z,GMt,0,()=>Zqe,()=>eWe],Qle=[9,z,uLt,0,()=>tWe,()=>rWe],Xle=[9,z,iLt,0,()=>nWe,()=>iWe],Yle=[9,z,aLt,0,()=>oWe,()=>sWe],Zle=[9,z,VMt,0,()=>mle,()=>hle],eue=[9,z,vLt,0,()=>mle,()=>hle],tue=[9,z,NLt,0,()=>lWe,()=>uWe],rue=[9,z,BLt,0,()=>dWe,()=>pWe],nue=[9,z,DLt,0,()=>yWe,()=>bWe],iue=[9,z,HLt,0,()=>SWe,()=>xWe],oue=[9,z,jLt,0,()=>wWe,()=>AWe],sue=[9,z,HBt,0,()=>FWe,()=>zWe],aue=[9,z,r$t,0,()=>ZWe,()=>eJe],cue=[9,z,o$t,0,()=>tJe,()=>rJe],lue=[9,z,l$t,0,()=>nJe,()=>iJe],uue=[9,z,g$t,0,()=>oJe,()=>sJe],due=[9,z,v$t,0,()=>aJe,()=>cJe],pue=[9,z,O$t,0,()=>lJe,()=>uJe],fue=[9,z,D$t,0,()=>dJe,()=>pJe],mue=[9,z,W$t,0,()=>wJe,()=>AJe],hue=[9,z,sUt,0,()=>TJe,()=>RJe],gue=[9,z,bUt,0,()=>IJe,()=>CJe],yue=[9,z,cFt,0,()=>XJe,()=>YJe],bue=[9,z,dFt,0,()=>ZJe,()=>eKe],vue=[9,z,MFt,0,()=>tKe,()=>rKe],_ue=[9,z,ozt,0,()=>lKe,()=>GKe],Sue=[9,z,qFt,0,()=>fKe,()=>mKe],xue=[9,z,mzt,0,()=>vKe,()=>_Ke],wue=[9,z,Uzt,0,()=>SKe,()=>GKe],Aue=[9,z,yzt,0,()=>wKe,()=>AKe],Eue=[9,z,_zt,0,()=>EKe,()=>TKe],Tue=[9,z,Azt,0,()=>IKe,()=>CKe],Rue=[9,z,Rzt,0,()=>NKe,()=>OKe],Iue=[9,z,kzt,0,()=>PKe,()=>kKe],Cue=[9,z,Mzt,0,()=>DKe,()=>MKe],Nue=[9,z,Hzt,0,()=>BKe,()=>$Ke],Oue=[9,z,jzt,0,()=>UKe,()=>FKe],Pue=[9,z,Jzt,0,()=>zKe,()=>HKe]});var Xv,v$=b(()=>{"use strict";We();Te();Lt();Bt();Xv=class extends se.classBuilder().ep(De).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeEndpoints",{}).n("DynamoDBClient","DescribeEndpointsCommand").sc(Vle).build(){}});var nQe,rQe=b(()=>{nQe={name:"@aws-sdk/client-dynamodb",description:"AWS SDK for JavaScript Dynamodb Client for Node.js, Browser and React Native",version:"3.980.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-dynamodb","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"premove dist-cjs dist-es dist-types tsconfig.cjs.tsbuildinfo tsconfig.es.tsbuildinfo tsconfig.types.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo dynamodb","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"^3.973.5","@aws-sdk/credential-provider-node":"^3.972.4","@aws-sdk/dynamodb-codec":"^3.972.5","@aws-sdk/middleware-endpoint-discovery":"^3.972.3","@aws-sdk/middleware-host-header":"^3.972.3","@aws-sdk/middleware-logger":"^3.972.3","@aws-sdk/middleware-recursion-detection":"^3.972.3","@aws-sdk/middleware-user-agent":"^3.972.5","@aws-sdk/region-config-resolver":"^3.972.3","@aws-sdk/types":"^3.973.1","@aws-sdk/util-endpoints":"3.980.0","@aws-sdk/util-user-agent-browser":"^3.972.3","@aws-sdk/util-user-agent-node":"^3.972.3","@smithy/config-resolver":"^4.4.6","@smithy/core":"^3.22.0","@smithy/fetch-http-handler":"^5.3.9","@smithy/hash-node":"^4.2.8","@smithy/invalid-dependency":"^4.2.8","@smithy/middleware-content-length":"^4.2.8","@smithy/middleware-endpoint":"^4.4.12","@smithy/middleware-retry":"^4.4.29","@smithy/middleware-serde":"^4.2.9","@smithy/middleware-stack":"^4.2.8","@smithy/node-config-provider":"^4.3.8","@smithy/node-http-handler":"^4.4.8","@smithy/protocol-http":"^5.3.8","@smithy/smithy-client":"^4.11.1","@smithy/types":"^4.12.0","@smithy/url-parser":"^4.2.8","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.28","@smithy/util-defaults-mode-node":"^4.2.31","@smithy/util-endpoints":"^3.2.8","@smithy/util-middleware":"^4.2.8","@smithy/util-retry":"^4.2.8","@smithy/util-utf8":"^4.2.0","@smithy/util-waiter":"^4.2.8",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node20":"20.1.8","@types/node":"^20.14.8",concurrently:"7.0.0","downlevel-dts":"0.10.1",premove:"4.0.0",typescript:"~5.8.3"},engines:{node:">=20.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-dynamodb",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-dynamodb"}}});var _$,iQe,kue,Due,oQe=b(()=>{"use strict";Nm();gn();Te();Js();_$=class extends y0{constructor(){super({timestampFormat:{useTrait:!0,default:7},jsonName:!1})}createSerializer(){let e=new kue(this.settings);return e.setSerdeContext(this.serdeContext),e}createDeserializer(){let e=new Due(this.settings);return e.setSerdeContext(this.serdeContext),e}},iQe="com.amazonaws.dynamodb#AttributeValue",kue=class extends Fx{_write(e,r,n){let i=er.of(e);if(i.isStructSchema()&&i.getName(!0)===iQe&&r&&typeof r=="object"){let o=r,s=Y6(o),a=this.serdeContext?.base64Encoder??qn;if(o.B instanceof Uint8Array&&(s.B=a(o.B)),Array.isArray(o.BS)&&(s.BS=o.BS.map(a)),Array.isArray(o.L)&&(s.L=o.L.filter(c=>c!=null).map(c=>this._write(i,c,n))),o.M&&typeof o.M=="object"){s.M={};for(let[c,l]of Object.entries(o.M))l!=null&&(s.M[c]=this._write(i,l,n))}return s}return super._write(i,r,n)}},Due=class extends Ux{_read(e,r){let n=er.of(e);if(n.isStructSchema()&&n.getName(!0)===iQe&&r&&typeof r=="object"){let i=r,o=Y6(i),s=this.serdeContext?.base64Decoder??Ti;if(typeof i.B=="string"&&(o.B=s(i.B)),Array.isArray(i.BS)&&(o.BS=i.BS.map(s)),Array.isArray(i.L)&&(o.L=i.L.map(a=>this._read(n,a))),i.M&&typeof i.M=="object"){o.M={};for(let[a,c]of Object.entries(i.M))o.M[a]=this._read(n,c)}return o}return super._read(n,r)}}});var sQe=b(()=>{"use strict";oQe()});var Bue,Zt,no,En,$t,S$,Tf,Rf,IQe,io,oa,aQe,Oc,Oo,$ue,h8,cQe,lQe,QHt,uQe,CQe,dQe,pQe,sE,fQe,NQe,mQe,vh,hQe,gQe,Mue,g8,yQe,bQe,Lue,vQe,_Qe,SQe,xQe,wQe,AQe,EQe,TQe,RQe,XHt,OQe,PQe=b(()=>{"use strict";Bue="required",Zt="type",no="rules",En="conditions",$t="argv",S$="assign",Tf="properties",Rf="headers",IQe="metricValues",io="error",oa="stringEquals",aQe="https://dynamodb.{Region}.{PartitionResult#dualStackDnsSuffix}",Oc="endpoint",Oo="tree",$ue="dynamodb",h8={[Bue]:!1,[Zt]:"string"},cQe={[Bue]:!0,default:!1,[Zt]:"boolean"},lQe={fn:"isSet",[$t]:[{ref:"Endpoint"}]},QHt={ref:"Endpoint"},uQe={fn:"isSet",[$t]:[{ref:"Region"}]},CQe={ref:"Region"},dQe={fn:"aws.partition",[$t]:[CQe],[S$]:"PartitionResult"},pQe={[En]:[{fn:"booleanEquals",[$t]:[{ref:"UseFIPS"},!0]}],[io]:"Invalid Configuration: FIPS and custom endpoint are not supported",[Zt]:io},sE={fn:"booleanEquals",[$t]:[{ref:"UseFIPS"},!0]},fQe={[En]:[{fn:"booleanEquals",[$t]:[{ref:"UseDualStack"},!0]}],[io]:"Invalid Configuration: Dualstack and custom endpoint are not supported",[Zt]:io},NQe={fn:"booleanEquals",[$t]:[{ref:"UseDualStack"},!0]},mQe={[Oc]:{url:"{Endpoint}",[Tf]:{},[Rf]:{}},[Zt]:Oc},vh={},hQe={fn:"booleanEquals",[$t]:[{fn:"getAttr",[$t]:[{ref:"PartitionResult"},"supportsFIPS"]},!0]},gQe={fn:"booleanEquals",[$t]:[{fn:"getAttr",[$t]:[{ref:"PartitionResult"},"supportsDualStack"]},!0]},Mue={[En]:[{fn:"isSet",[$t]:[{ref:"AccountIdEndpointMode"}]},{fn:oa,[$t]:[{ref:"AccountIdEndpointMode"},"required"]}],[no]:[{[io]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[Zt]:io}],[Zt]:Oo},g8={fn:"getAttr",[$t]:[{ref:"PartitionResult"},"name"]},yQe={[Oc]:{url:"https://dynamodb.{Region}.{PartitionResult#dnsSuffix}",[Tf]:{},[Rf]:{}},[Zt]:Oc},bQe={url:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[Tf]:{[IQe]:["O"]},[Rf]:{}},Lue={[IQe]:["O"]},vQe={[io]:"Credentials-sourced account ID parameter is invalid",[Zt]:io},_Qe={[En]:[{fn:"isSet",[$t]:[{ref:"AccountIdEndpointMode"}]},{fn:oa,[$t]:[{ref:"AccountIdEndpointMode"},"required"]}],[no]:[{[En]:[{fn:"not",[$t]:[sE]}],[no]:[{[En]:[{fn:oa,[$t]:[g8,"aws"]}],[no]:[{[io]:"AccountIdEndpointMode is required but no AccountID was provided or able to be loaded",[Zt]:io}],[Zt]:Oo},{[io]:"Invalid Configuration: AccountIdEndpointMode is required but account endpoints are not supported in this partition",[Zt]:io}],[Zt]:Oo},{[io]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[Zt]:io}],[Zt]:Oo},SQe={url:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[Tf]:Lue,[Rf]:{}},xQe=[sE],wQe=[NQe],AQe=[{fn:"isSet",[$t]:[{ref:"AccountIdEndpointMode"}]},{fn:"not",[$t]:[{fn:oa,[$t]:[{ref:"AccountIdEndpointMode"},"disabled"]}]},{fn:oa,[$t]:[g8,"aws"]},{fn:"not",[$t]:[sE]},{fn:"isSet",[$t]:[{ref:"ResourceArn"}]},{fn:"aws.parseArn",[$t]:[{ref:"ResourceArn"}],[S$]:"ParsedArn"},{fn:oa,[$t]:[{fn:"getAttr",[$t]:[{ref:"ParsedArn"},"service"]},$ue]},{fn:"isValidHostLabel",[$t]:[{fn:"getAttr",[$t]:[{ref:"ParsedArn"},"region"]},!1]},{fn:oa,[$t]:[{fn:"getAttr",[$t]:[{ref:"ParsedArn"},"region"]},"{Region}"]},{fn:"isValidHostLabel",[$t]:[{fn:"getAttr",[$t]:[{ref:"ParsedArn"},"accountId"]},!1]}],EQe=[{fn:"isSet",[$t]:[{ref:"AccountIdEndpointMode"}]},{fn:"not",[$t]:[{fn:oa,[$t]:[{ref:"AccountIdEndpointMode"},"disabled"]}]},{fn:oa,[$t]:[g8,"aws"]},{fn:"not",[$t]:[sE]},{fn:"isSet",[$t]:[{ref:"ResourceArnList"}]},{fn:"getAttr",[$t]:[{ref:"ResourceArnList"},"[0]"],[S$]:"FirstArn"},{fn:"aws.parseArn",[$t]:[{ref:"FirstArn"}],[S$]:"ParsedArn"},{fn:oa,[$t]:[{fn:"getAttr",[$t]:[{ref:"ParsedArn"},"service"]},$ue]},{fn:"isValidHostLabel",[$t]:[{fn:"getAttr",[$t]:[{ref:"ParsedArn"},"region"]},!1]},{fn:oa,[$t]:[{fn:"getAttr",[$t]:[{ref:"ParsedArn"},"region"]},"{Region}"]},{fn:"isValidHostLabel",[$t]:[{fn:"getAttr",[$t]:[{ref:"ParsedArn"},"accountId"]},!1]}],TQe=[{fn:"isSet",[$t]:[{ref:"AccountIdEndpointMode"}]},{fn:"not",[$t]:[{fn:oa,[$t]:[{ref:"AccountIdEndpointMode"},"disabled"]}]},{fn:oa,[$t]:[g8,"aws"]},{fn:"not",[$t]:[sE]},{fn:"isSet",[$t]:[{ref:"AccountId"}]}],RQe=[{fn:"isValidHostLabel",[$t]:[{ref:"AccountId"},!1]}],XHt={version:"1.0",parameters:{Region:h8,UseDualStack:cQe,UseFIPS:cQe,Endpoint:h8,AccountId:h8,AccountIdEndpointMode:h8,ResourceArn:h8,ResourceArnList:{[Bue]:!1,[Zt]:"stringArray"}},[no]:[{[En]:[lQe,uQe,dQe],[no]:[pQe,fQe,{[En]:[{fn:oa,[$t]:[QHt,aQe]}],error:"Endpoint override is not supported for dual-stack endpoints. Please enable dual-stack functionality by enabling the configuration. For more details, see: https://docs.aws.amazon.com/sdkref/latest/guide/feature-endpoints.html",[Zt]:io},mQe],[Zt]:Oo},{[En]:[lQe],[no]:[pQe,fQe,mQe],[Zt]:Oo},{[En]:[uQe],[no]:[{[En]:[dQe],[no]:[{[En]:[{fn:oa,[$t]:[CQe,"local"]}],[no]:[{[En]:xQe,error:"Invalid Configuration: FIPS and local endpoint are not supported",[Zt]:io},{[En]:wQe,error:"Invalid Configuration: Dualstack and local endpoint are not supported",[Zt]:io},{endpoint:{url:"http://localhost:8000",[Tf]:{authSchemes:[{name:"sigv4",signingRegion:"us-east-1",signingName:$ue}]},[Rf]:vh},[Zt]:Oc}],[Zt]:Oo},{[En]:[sE,NQe],[no]:[{[En]:[hQe,gQe],[no]:[Mue,{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[Tf]:vh,[Rf]:vh},[Zt]:Oc}],[Zt]:Oo},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[Zt]:io}],[Zt]:Oo},{[En]:xQe,[no]:[{[En]:[hQe],[no]:[{[En]:[{fn:oa,[$t]:[g8,"aws-us-gov"]}],[no]:[Mue,yQe],[Zt]:Oo},Mue,{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dnsSuffix}",[Tf]:vh,[Rf]:vh},[Zt]:Oc}],[Zt]:Oo},{error:"FIPS is enabled but this partition does not support FIPS",[Zt]:io}],[Zt]:Oo},{[En]:wQe,[no]:[{[En]:[gQe],[no]:[{[En]:AQe,endpoint:bQe,[Zt]:Oc},{[En]:EQe,endpoint:bQe,[Zt]:Oc},{[En]:TQe,[no]:[{[En]:RQe,[no]:[{endpoint:{url:"https://{AccountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[Tf]:Lue,[Rf]:vh},[Zt]:Oc}],[Zt]:Oo},vQe],[Zt]:Oo},_Qe,{endpoint:{url:aQe,[Tf]:vh,[Rf]:vh},[Zt]:Oc}],[Zt]:Oo},{error:"DualStack is enabled but this partition does not support DualStack",[Zt]:io}],[Zt]:Oo},{[En]:AQe,endpoint:SQe,[Zt]:Oc},{[En]:EQe,endpoint:SQe,[Zt]:Oc},{[En]:TQe,[no]:[{[En]:RQe,[no]:[{endpoint:{url:"https://{AccountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[Tf]:Lue,[Rf]:vh},[Zt]:Oc}],[Zt]:Oo},vQe],[Zt]:Oo},_Qe,yQe],[Zt]:Oo}],[Zt]:Oo},{error:"Invalid Configuration: Missing Region",[Zt]:io}]},OQe=XHt});var YHt,kQe,DQe=b(()=>{"use strict";f0();Dd();PQe();YHt=new dc({size:50,params:["AccountId","AccountIdEndpointMode","Endpoint","Region","ResourceArn","ResourceArnList","UseDualStack","UseFIPS"]}),kQe=(t,e={})=>YHt.get(t,()=>eu(OQe,{endpointParams:t,logger:e.logger}));gs.aws=nl});var MQe,LQe=b(()=>{"use strict";wo();Nm();sQe();Te();Cm();Js();Yi();ace();DQe();MQe=t=>({apiVersion:"2012-08-10",base64Decoder:t?.base64Decoder??Ti,base64Encoder:t?.base64Encoder??qn,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??kQe,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??GVe,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new bs}],logger:t?.logger??new Xs,protocol:t?.protocol??$7,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.dynamodb",xmlNamespace:"http://dynamodb.amazonaws.com/doc/2012-08-10/",version:"2012-08-10",serviceTarget:"DynamoDB_20120810",jsonCodec:new _$},serviceId:t?.serviceId??"DynamoDB",urlParser:t?.urlParser??Zo,utf8Decoder:t?.utf8Decoder??ti,utf8Encoder:t?.utf8Encoder??jn})});var BQe,$Qe=b(()=>{"use strict";rQe();wo();ece();Wee();sce();zb();Ia();Hb();ol();yu();wm();Te();Vb();Gb();Pm();LQe();BQe=t=>{cu(process.version);let e=Tu(t),r=()=>e().then(au),n=MQe(t);tu(process.version);let i={profile:t?.profile,logger:n.logger};return{...n,...t,runtime:"node",defaultsMode:e,accountIdEndpointMode:t?.accountIdEndpointMode??Ot(vVe,i),authSchemePreference:t?.authSchemePreference??Ot(ru,i),bodyLengthChecker:t?.bodyLengthChecker??Eu,credentialDefaultProvider:t?.credentialDefaultProvider??iM,defaultUserAgentProvider:t?.defaultUserAgentProvider??wu({serviceId:n.serviceId,clientVersion:nQe.version}),endpointDiscoveryEnabledProvider:t?.endpointDiscoveryEnabledProvider??Ot(wVe,i),maxAttempts:t?.maxAttempts??Ot(vu,t),region:t?.region??Ot(Ys,{...fc,...i}),requestHandler:Ks.create(t?.requestHandler??r),retryMode:t?.retryMode??Ot({...Su,default:async()=>(await r()).retryMode||gc},t),sha256:t?.sha256??yc.bind(null,"sha256"),streamCollector:t?.streamCollector??sc,useDualstackEndpoint:t?.useDualstackEndpoint??Ot(fu,i),useFipsEndpoint:t?.useFipsEndpoint??Ot(mu,i),userAgentAppId:t?.userAgentAppId??Ot(Au,i)}}});var UQe,FQe,zQe=b(()=>{"use strict";UQe=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(i){let o=e.findIndex(s=>s.schemeId===i.schemeId);o===-1?e.push(i):e.splice(o,1,i)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},FQe=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var HQe,VQe=b(()=>{"use strict";T0();pi();Te();zQe();HQe=(t,e)=>{let r=Object.assign(Cu(t),lu(t),Fl(t),UQe(t));return e.forEach(n=>n.configure(r)),Object.assign(t,Nu(r),uu(r),zl(r),FQe(r))}});var qo,_h=b(()=>{"use strict";ece();sce();Eb();Tb();Rb();_0();Ia();Wn();gn();$b();We();ol();Te();ace();v$();Lt();$Qe();VQe();qo=class extends $o{config;constructor(...[e]){let r=BQe(e||{});super(r),this.initConfig=r;let n=qVe(r),i=hVe(n),o=Xl(i),s=_u(o),a=hu(s),c=a,l=bu(c),u=jVe(l),d=zVe(u,{endpointDiscoveryCommandCtor:Xv}),p=HQe(d,e?.extensions||[]);this.config=p,this.middlewareStack.use(Jl(this.config)),this.middlewareStack.use(pu(this.config)),this.middlewareStack.use(xu(this.config)),this.middlewareStack.use(gu(this.config)),this.middlewareStack.use(Vl(this.config)),this.middlewareStack.use(Gl(this.config)),this.middlewareStack.use(jl(this.config)),this.middlewareStack.use(ql(this.config,{httpAuthSchemeParametersProvider:VVe,identityProviderConfigProvider:async f=>new uc({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use(Wl(this.config))}destroy(){super.destroy()}}});var y8,Uue=b(()=>{"use strict";We();Te();Lt();Bt();y8=class extends se.classBuilder().ep(De).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchExecuteStatement",{}).n("DynamoDBClient","BatchExecuteStatementCommand").sc(Nle).build(){}});var b8,Fue=b(()=>{"use strict";We();Te();Lt();Bt();b8=class extends se.classBuilder().ep({...De,ResourceArnList:{type:"operationContextParams",get:e=>Object.keys(e?.RequestItems??{})}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchGetItem",{}).n("DynamoDBClient","BatchGetItemCommand").sc(Ole).build(){}});var v8,zue=b(()=>{"use strict";We();Te();Lt();Bt();v8=class extends se.classBuilder().ep({...De,ResourceArnList:{type:"operationContextParams",get:e=>Object.keys(e?.RequestItems??{})}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchWriteItem",{}).n("DynamoDBClient","BatchWriteItemCommand").sc(Ple).build(){}});var _8,Hue=b(()=>{"use strict";We();Te();Lt();Bt();_8=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateBackup",{}).n("DynamoDBClient","CreateBackupCommand").sc(kle).build(){}});var S8,Vue=b(()=>{"use strict";We();Te();Lt();Bt();S8=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateGlobalTable",{}).n("DynamoDBClient","CreateGlobalTableCommand").sc(Dle).build(){}});var x8,Gue=b(()=>{"use strict";We();Te();Lt();Bt();x8=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateTable",{}).n("DynamoDBClient","CreateTableCommand").sc(Mle).build(){}});var w8,jue=b(()=>{"use strict";We();Te();Lt();Bt();w8=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteBackup",{}).n("DynamoDBClient","DeleteBackupCommand").sc(Lle).build(){}});var A8,que=b(()=>{"use strict";We();Te();Lt();Bt();A8=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteItem",{}).n("DynamoDBClient","DeleteItemCommand").sc(Ble).build(){}});var E8,Wue=b(()=>{"use strict";We();Te();Lt();Bt();E8=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteResourcePolicy",{}).n("DynamoDBClient","DeleteResourcePolicyCommand").sc($le).build(){}});var T8,Jue=b(()=>{"use strict";We();Te();Lt();Bt();T8=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteTable",{}).n("DynamoDBClient","DeleteTableCommand").sc(Ule).build(){}});var R8,Kue=b(()=>{"use strict";We();Te();Lt();Bt();R8=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeBackup",{}).n("DynamoDBClient","DescribeBackupCommand").sc(Fle).build(){}});var I8,Que=b(()=>{"use strict";We();Te();Lt();Bt();I8=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContinuousBackups",{}).n("DynamoDBClient","DescribeContinuousBackupsCommand").sc(zle).build(){}});var Yv,x$=b(()=>{"use strict";We();Te();Lt();Bt();Yv=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContributorInsights",{}).n("DynamoDBClient","DescribeContributorInsightsCommand").sc(Hle).build(){}});var Zv,w$=b(()=>{"use strict";We();Te();Lt();Bt();Zv=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"ExportArn"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeExport",{}).n("DynamoDBClient","DescribeExportCommand").sc(Gle).build(){}});var C8,Xue=b(()=>{"use strict";We();Te();Lt();Bt();C8=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTable",{}).n("DynamoDBClient","DescribeGlobalTableCommand").sc(jle).build(){}});var N8,Yue=b(()=>{"use strict";We();Te();Lt();Bt();N8=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTableSettings",{}).n("DynamoDBClient","DescribeGlobalTableSettingsCommand").sc(qle).build(){}});var e_,A$=b(()=>{"use strict";We();Te();Lt();Bt();e_=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"ImportArn"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeImport",{}).n("DynamoDBClient","DescribeImportCommand").sc(Wle).build(){}});var t_,E$=b(()=>{"use strict";We();Te();Lt();Bt();t_=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeKinesisStreamingDestination",{}).n("DynamoDBClient","DescribeKinesisStreamingDestinationCommand").sc(Jle).build(){}});var O8,Zue=b(()=>{"use strict";We();Te();Lt();Bt();O8=class extends se.classBuilder().ep(De).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeLimits",{}).n("DynamoDBClient","DescribeLimitsCommand").sc(Kle).build(){}});var Sh,P8=b(()=>{"use strict";We();Te();Lt();Bt();Sh=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTable",{}).n("DynamoDBClient","DescribeTableCommand").sc(Qle).build(){}});var k8,ede=b(()=>{"use strict";We();Te();Lt();Bt();k8=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTableReplicaAutoScaling",{}).n("DynamoDBClient","DescribeTableReplicaAutoScalingCommand").sc(Xle).build(){}});var D8,tde=b(()=>{"use strict";We();Te();Lt();Bt();D8=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTimeToLive",{}).n("DynamoDBClient","DescribeTimeToLiveCommand").sc(Yle).build(){}});var M8,rde=b(()=>{"use strict";We();Te();Lt();Bt();M8=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DisableKinesisStreamingDestination",{}).n("DynamoDBClient","DisableKinesisStreamingDestinationCommand").sc(Zle).build(){}});var L8,nde=b(()=>{"use strict";We();Te();Lt();Bt();L8=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","EnableKinesisStreamingDestination",{}).n("DynamoDBClient","EnableKinesisStreamingDestinationCommand").sc(eue).build(){}});var B8,ide=b(()=>{"use strict";We();Te();Lt();Bt();B8=class extends se.classBuilder().ep(De).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteStatement",{}).n("DynamoDBClient","ExecuteStatementCommand").sc(tue).build(){}});var $8,ode=b(()=>{"use strict";We();Te();Lt();Bt();$8=class extends se.classBuilder().ep(De).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteTransaction",{}).n("DynamoDBClient","ExecuteTransactionCommand").sc(rue).build(){}});var U8,sde=b(()=>{"use strict";We();Te();Lt();Bt();U8=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExportTableToPointInTime",{}).n("DynamoDBClient","ExportTableToPointInTimeCommand").sc(nue).build(){}});var r_,ade=b(()=>{"use strict";We();Te();Lt();Bt();r_=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetItem",{}).n("DynamoDBClient","GetItemCommand").sc(iue).build(){}});var F8,cde=b(()=>{"use strict";We();Te();Lt();Bt();F8=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetResourcePolicy",{}).n("DynamoDBClient","GetResourcePolicyCommand").sc(oue).build(){}});var z8,lde=b(()=>{"use strict";We();Te();Lt();Bt();z8=class extends se.classBuilder().ep({...De,ResourceArn:{type:"operationContextParams",get:e=>e?.TableCreationParameters?.TableName}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ImportTable",{}).n("DynamoDBClient","ImportTableCommand").sc(sue).build(){}});var H8,ude=b(()=>{"use strict";We();Te();Lt();Bt();H8=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListBackups",{}).n("DynamoDBClient","ListBackupsCommand").sc(aue).build(){}});var n_,T$=b(()=>{"use strict";We();Te();Lt();Bt();n_=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListContributorInsights",{}).n("DynamoDBClient","ListContributorInsightsCommand").sc(cue).build(){}});var i_,R$=b(()=>{"use strict";We();Te();Lt();Bt();i_=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListExports",{}).n("DynamoDBClient","ListExportsCommand").sc(lue).build(){}});var V8,dde=b(()=>{"use strict";We();Te();Lt();Bt();V8=class extends se.classBuilder().ep(De).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListGlobalTables",{}).n("DynamoDBClient","ListGlobalTablesCommand").sc(uue).build(){}});var o_,I$=b(()=>{"use strict";We();Te();Lt();Bt();o_=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListImports",{}).n("DynamoDBClient","ListImportsCommand").sc(due).build(){}});var s_,C$=b(()=>{"use strict";We();Te();Lt();Bt();s_=class extends se.classBuilder().ep(De).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTables",{}).n("DynamoDBClient","ListTablesCommand").sc(pue).build(){}});var G8,pde=b(()=>{"use strict";We();Te();Lt();Bt();G8=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTagsOfResource",{}).n("DynamoDBClient","ListTagsOfResourceCommand").sc(fue).build(){}});var y1,fde=b(()=>{"use strict";We();Te();Lt();Bt();y1=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutItem",{}).n("DynamoDBClient","PutItemCommand").sc(mue).build(){}});var j8,mde=b(()=>{"use strict";We();Te();Lt();Bt();j8=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutResourcePolicy",{}).n("DynamoDBClient","PutResourcePolicyCommand").sc(hue).build(){}});var b1,N$=b(()=>{"use strict";We();Te();Lt();Bt();b1=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Query",{}).n("DynamoDBClient","QueryCommand").sc(gue).build(){}});var q8,hde=b(()=>{"use strict";We();Te();Lt();Bt();q8=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableFromBackup",{}).n("DynamoDBClient","RestoreTableFromBackupCommand").sc(yue).build(){}});var W8,gde=b(()=>{"use strict";We();Te();Lt();Bt();W8=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableToPointInTime",{}).n("DynamoDBClient","RestoreTableToPointInTimeCommand").sc(bue).build(){}});var v1,O$=b(()=>{"use strict";We();Te();Lt();Bt();v1=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Scan",{}).n("DynamoDBClient","ScanCommand").sc(vue).build(){}});var J8,yde=b(()=>{"use strict";We();Te();Lt();Bt();J8=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TagResource",{}).n("DynamoDBClient","TagResourceCommand").sc(_ue).build(){}});var K8,bde=b(()=>{"use strict";We();Te();Lt();Bt();K8=class extends se.classBuilder().ep({...De,ResourceArnList:{type:"operationContextParams",get:e=>e?.TransactItems?.map(r=>r?.Get?.TableName)}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactGetItems",{}).n("DynamoDBClient","TransactGetItemsCommand").sc(Sue).build(){}});var Q8,vde=b(()=>{"use strict";We();Te();Lt();Bt();Q8=class extends se.classBuilder().ep({...De,ResourceArnList:{type:"operationContextParams",get:e=>e?.TransactItems?.map(r=>[r?.ConditionCheck?.TableName,r?.Put?.TableName,r?.Delete?.TableName,r?.Update?.TableName].filter(n=>n)).flat()}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactWriteItems",{}).n("DynamoDBClient","TransactWriteItemsCommand").sc(xue).build(){}});var X8,_de=b(()=>{"use strict";We();Te();Lt();Bt();X8=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UntagResource",{}).n("DynamoDBClient","UntagResourceCommand").sc(wue).build(){}});var Y8,Sde=b(()=>{"use strict";We();Te();Lt();Bt();Y8=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContinuousBackups",{}).n("DynamoDBClient","UpdateContinuousBackupsCommand").sc(Aue).build(){}});var Z8,xde=b(()=>{"use strict";We();Te();Lt();Bt();Z8=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContributorInsights",{}).n("DynamoDBClient","UpdateContributorInsightsCommand").sc(Eue).build(){}});var eC,wde=b(()=>{"use strict";We();Te();Lt();Bt();eC=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTable",{}).n("DynamoDBClient","UpdateGlobalTableCommand").sc(Tue).build(){}});var tC,Ade=b(()=>{"use strict";We();Te();Lt();Bt();tC=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTableSettings",{}).n("DynamoDBClient","UpdateGlobalTableSettingsCommand").sc(Rue).build(){}});var rC,Ede=b(()=>{"use strict";We();Te();Lt();Bt();rC=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateItem",{}).n("DynamoDBClient","UpdateItemCommand").sc(Iue).build(){}});var nC,Tde=b(()=>{"use strict";We();Te();Lt();Bt();nC=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateKinesisStreamingDestination",{}).n("DynamoDBClient","UpdateKinesisStreamingDestinationCommand").sc(Cue).build(){}});var iC,Rde=b(()=>{"use strict";We();Te();Lt();Bt();iC=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTable",{}).n("DynamoDBClient","UpdateTableCommand").sc(Nue).build(){}});var oC,Ide=b(()=>{"use strict";We();Te();Lt();Bt();oC=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTableReplicaAutoScaling",{}).n("DynamoDBClient","UpdateTableReplicaAutoScalingCommand").sc(Oue).build(){}});var sC,Cde=b(()=>{"use strict";We();Te();Lt();Bt();sC=class extends se.classBuilder().ep({...De,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ce(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTimeToLive",{}).n("DynamoDBClient","UpdateTimeToLiveCommand").sc(Pue).build(){}});var Nde,Ode=b(()=>{"use strict";Wn();T$();_h();Nde=Ei(qo,n_,"NextToken","NextToken","MaxResults")});var Pde,kde=b(()=>{"use strict";Wn();R$();_h();Pde=Ei(qo,i_,"NextToken","NextToken","MaxResults")});var Dde,Mde=b(()=>{"use strict";Wn();I$();_h();Dde=Ei(qo,o_,"NextToken","NextToken","PageSize")});var Lde,Bde=b(()=>{"use strict";Wn();C$();_h();Lde=Ei(qo,s_,"ExclusiveStartTableName","LastEvaluatedTableName","Limit")});var $de,Ude=b(()=>{"use strict";Wn();N$();_h();$de=Ei(qo,b1,"ExclusiveStartKey","LastEvaluatedKey","Limit")});var Fde,zde=b(()=>{"use strict";Wn();O$();_h();Fde=Ei(qo,v1,"ExclusiveStartKey","LastEvaluatedKey","Limit")});var aE,Hde=b(()=>{"use strict";aE=()=>{let t=new WeakSet;return(e,r)=>{if(typeof r=="object"&&r!==null){if(t.has(r))return"[Circular]";t.add(r)}return r}}});var GQe,Vde=b(()=>{"use strict";GQe=t=>new Promise(e=>setTimeout(e,t*1e3))});var jQe,$r,ju,P$=b(()=>{"use strict";Hde();jQe={minDelay:2,maxDelay:120};(function(t){t.ABORTED="ABORTED",t.FAILURE="FAILURE",t.SUCCESS="SUCCESS",t.RETRY="RETRY",t.TIMEOUT="TIMEOUT"})($r||($r={}));ju=t=>{if(t.state===$r.ABORTED){let e=new Error(`${JSON.stringify({...t,reason:"Request was aborted"},aE())}`);throw e.name="AbortError",e}else if(t.state===$r.TIMEOUT){let e=new Error(`${JSON.stringify({...t,reason:"Waiter has timed out"},aE())}`);throw e.name="TimeoutError",e}else if(t.state!==$r.SUCCESS)throw new Error(`${JSON.stringify(t,aE())}`);return t}});var ZHt,eVt,WQe,qQe,JQe=b(()=>{"use strict";Hde();Vde();P$();ZHt=(t,e,r,n)=>{if(n>r)return e;let i=t*2**(n-1);return eVt(t,i)},eVt=(t,e)=>t+Math.random()*(e-t),WQe=async({minDelay:t,maxDelay:e,maxWaitTime:r,abortController:n,client:i,abortSignal:o},s,a)=>{let c={},{state:l,reason:u}=await a(i,s);if(u){let h=qQe(u);c[h]|=0,c[h]+=1}if(l!==$r.RETRY)return{state:l,reason:u,observedResponses:c};let d=1,p=Date.now()+r*1e3,f=Math.log(e/t)/Math.log(2)+1;for(;;){if(n?.signal?.aborted||o?.aborted){let y="AbortController signal aborted.";return c[y]|=0,c[y]+=1,{state:$r.ABORTED,observedResponses:c}}let h=ZHt(t,e,f,d);if(Date.now()+h*1e3>p)return{state:$r.TIMEOUT,observedResponses:c};await GQe(h);let{state:m,reason:g}=await a(i,s);if(g){let y=qQe(g);c[y]|=0,c[y]+=1}if(m!==$r.RETRY)return{state:m,reason:g,observedResponses:c};d+=1}},qQe=t=>t?.$responseBodyText?`Deserialization error for body: ${t.$responseBodyText}`:t?.$metadata?.httpStatusCode?t.$response||t.message?`${t.$response.statusCode??t.$metadata.httpStatusCode??"Unknown"}: ${t.message}`:`${t.$metadata.httpStatusCode}: OK`:String(t?.message??JSON.stringify(t,aE())??"Unknown")});var KQe,QQe=b(()=>{"use strict";KQe=t=>{if(t.maxWaitTime<=0)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(t.minDelay<=0)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(t.maxDelay<=0)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(t.maxWaitTime<=t.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${t.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${t.minDelay}] for this waiter`);if(t.maxDelay<t.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${t.maxDelay}] must be greater than WaiterConfiguration.minDelay [${t.minDelay}] for this waiter`)}});var XQe=b(()=>{"use strict";Vde();QQe()});var YQe,ss,ZQe=b(()=>{"use strict";JQe();XQe();P$();YQe=t=>{let e,r=new Promise(n=>{e=()=>n({state:$r.ABORTED}),typeof t.addEventListener=="function"?t.addEventListener("abort",e):t.onabort=e});return{clearListener(){typeof t.removeEventListener=="function"&&t.removeEventListener("abort",e)},aborted:r}},ss=async(t,e,r)=>{let n={...jQe,...t};KQe(n);let i=[WQe(n,e,r)],o=[];if(t.abortSignal){let{aborted:s,clearListener:a}=YQe(t.abortSignal);o.push(a),i.push(s)}if(t.abortController?.signal){let{aborted:s,clearListener:a}=YQe(t.abortController.signal);o.push(a),i.push(s)}return Promise.race(i).then(s=>{for(let a of o)a();return s})}});var a_=b(()=>{"use strict";ZQe();P$()});var eXe,tVt,Gde,jde=b(()=>{"use strict";a_();x$();eXe=async(t,e)=>{let r;try{let n=await t.send(new Yv(e));r=n;try{if(n.ContributorInsightsStatus==="ENABLED")return{state:$r.SUCCESS,reason:r}}catch{}try{if(n.ContributorInsightsStatus==="FAILED")return{state:$r.FAILURE,reason:r}}catch{}}catch(n){r=n}return{state:$r.RETRY,reason:r}},tVt=async(t,e)=>ss({...{minDelay:20,maxDelay:120},...t},e,eXe),Gde=async(t,e)=>{let n=await ss({...{minDelay:20,maxDelay:120},...t},e,eXe);return ju(n)}});var tXe,rVt,qde,Wde=b(()=>{"use strict";a_();w$();tXe=async(t,e)=>{let r;try{let n=await t.send(new Zv(e));r=n;try{if(n.ExportDescription.ExportStatus==="COMPLETED")return{state:$r.SUCCESS,reason:r}}catch{}try{if(n.ExportDescription.ExportStatus==="FAILED")return{state:$r.FAILURE,reason:r}}catch{}}catch(n){r=n}return{state:$r.RETRY,reason:r}},rVt=async(t,e)=>ss({...{minDelay:20,maxDelay:120},...t},e,tXe),qde=async(t,e)=>{let n=await ss({...{minDelay:20,maxDelay:120},...t},e,tXe);return ju(n)}});var rXe,nVt,Jde,Kde=b(()=>{"use strict";a_();A$();rXe=async(t,e)=>{let r;try{let n=await t.send(new e_(e));r=n;try{if(n.ImportTableDescription.ImportStatus==="COMPLETED")return{state:$r.SUCCESS,reason:r}}catch{}try{if(n.ImportTableDescription.ImportStatus==="FAILED")return{state:$r.FAILURE,reason:r}}catch{}try{if(n.ImportTableDescription.ImportStatus==="CANCELLED")return{state:$r.FAILURE,reason:r}}catch{}}catch(n){r=n}return{state:$r.RETRY,reason:r}},nVt=async(t,e)=>ss({...{minDelay:20,maxDelay:120},...t},e,rXe),Jde=async(t,e)=>{let n=await ss({...{minDelay:20,maxDelay:120},...t},e,rXe);return ju(n)}});var nXe,iVt,Qde,Xde=b(()=>{"use strict";a_();E$();nXe=async(t,e)=>{let r;try{let n=await t.send(new t_(e));r=n;try{let i=()=>[].concat(...n.KinesisDataStreamDestinations).map(a=>a.DestinationStatus);for(let o of i())if(o=="ACTIVE")return{state:$r.SUCCESS,reason:r}}catch{}try{if((()=>{let o=n.KinesisDataStreamDestinations.filter(s=>(s.DestinationStatus=="DISABLED"||s.DestinationStatus=="ENABLE_FAILED")&&(s.DestinationStatus=="ENABLE_FAILED"||s.DestinationStatus=="DISABLED"));return n.KinesisDataStreamDestinations.length>0&&o.length==n.KinesisDataStreamDestinations.length})()==!0)return{state:$r.FAILURE,reason:r}}catch{}}catch(n){r=n}return{state:$r.RETRY,reason:r}},iVt=async(t,e)=>ss({...{minDelay:20,maxDelay:120},...t},e,nXe),Qde=async(t,e)=>{let n=await ss({...{minDelay:20,maxDelay:120},...t},e,nXe);return ju(n)}});var iXe,oVt,Yde,Zde=b(()=>{"use strict";a_();P8();iXe=async(t,e)=>{let r;try{let n=await t.send(new Sh(e));r=n;try{if(n.Table.TableStatus==="ACTIVE")return{state:$r.SUCCESS,reason:r}}catch{}}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:$r.RETRY,reason:r}}return{state:$r.RETRY,reason:r}},oVt=async(t,e)=>ss({...{minDelay:20,maxDelay:120},...t},e,iXe),Yde=async(t,e)=>{let n=await ss({...{minDelay:20,maxDelay:120},...t},e,iXe);return ju(n)}});var oXe,sVt,epe,tpe=b(()=>{"use strict";a_();P8();oXe=async(t,e)=>{let r;try{r=await t.send(new Sh(e))}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:$r.SUCCESS,reason:r}}return{state:$r.RETRY,reason:r}},sVt=async(t,e)=>ss({...{minDelay:20,maxDelay:120},...t},e,oXe),epe=async(t,e)=>{let n=await ss({...{minDelay:20,maxDelay:120},...t},e,oXe);return ju(n)}});var aVt,cVt,lVt,k$,sXe=b(()=>{"use strict";Te();Uue();Fue();zue();Hue();Vue();Gue();jue();que();Wue();Jue();Kue();Que();x$();v$();w$();Xue();Yue();A$();E$();Zue();P8();ede();tde();rde();nde();ide();ode();sde();ade();cde();lde();ude();T$();R$();dde();I$();C$();pde();fde();mde();N$();hde();gde();O$();yde();bde();vde();_de();Sde();xde();wde();Ade();Ede();Tde();Rde();Ide();Cde();_h();Ode();kde();Mde();Bde();Ude();zde();jde();Wde();Kde();Xde();Zde();tpe();aVt={BatchExecuteStatementCommand:y8,BatchGetItemCommand:b8,BatchWriteItemCommand:v8,CreateBackupCommand:_8,CreateGlobalTableCommand:S8,CreateTableCommand:x8,DeleteBackupCommand:w8,DeleteItemCommand:A8,DeleteResourcePolicyCommand:E8,DeleteTableCommand:T8,DescribeBackupCommand:R8,DescribeContinuousBackupsCommand:I8,DescribeContributorInsightsCommand:Yv,DescribeEndpointsCommand:Xv,DescribeExportCommand:Zv,DescribeGlobalTableCommand:C8,DescribeGlobalTableSettingsCommand:N8,DescribeImportCommand:e_,DescribeKinesisStreamingDestinationCommand:t_,DescribeLimitsCommand:O8,DescribeTableCommand:Sh,DescribeTableReplicaAutoScalingCommand:k8,DescribeTimeToLiveCommand:D8,DisableKinesisStreamingDestinationCommand:M8,EnableKinesisStreamingDestinationCommand:L8,ExecuteStatementCommand:B8,ExecuteTransactionCommand:$8,ExportTableToPointInTimeCommand:U8,GetItemCommand:r_,GetResourcePolicyCommand:F8,ImportTableCommand:z8,ListBackupsCommand:H8,ListContributorInsightsCommand:n_,ListExportsCommand:i_,ListGlobalTablesCommand:V8,ListImportsCommand:o_,ListTablesCommand:s_,ListTagsOfResourceCommand:G8,PutItemCommand:y1,PutResourcePolicyCommand:j8,QueryCommand:b1,RestoreTableFromBackupCommand:q8,RestoreTableToPointInTimeCommand:W8,ScanCommand:v1,TagResourceCommand:J8,TransactGetItemsCommand:K8,TransactWriteItemsCommand:Q8,UntagResourceCommand:X8,UpdateContinuousBackupsCommand:Y8,UpdateContributorInsightsCommand:Z8,UpdateGlobalTableCommand:eC,UpdateGlobalTableSettingsCommand:tC,UpdateItemCommand:rC,UpdateKinesisStreamingDestinationCommand:nC,UpdateTableCommand:iC,UpdateTableReplicaAutoScalingCommand:oC,UpdateTimeToLiveCommand:sC},cVt={paginateListContributorInsights:Nde,paginateListExports:Pde,paginateListImports:Dde,paginateListTables:Lde,paginateQuery:$de,paginateScan:Fde},lVt={waitUntilContributorInsightsEnabled:Gde,waitUntilExportCompleted:qde,waitUntilImportCompleted:Jde,waitUntilKinesisStreamingDestinationActive:Qde,waitUntilTableExists:Yde,waitUntilTableNotExists:epe},k$=class extends qo{};su(aVt,k$,{paginators:cVt,waiters:lVt})});var aXe=b(()=>{"use strict";Uue();Fue();zue();Hue();Vue();Gue();jue();que();Wue();Jue();Kue();Que();x$();v$();w$();Xue();Yue();A$();E$();Zue();P8();ede();tde();rde();nde();ide();ode();sde();ade();cde();lde();ude();T$();R$();dde();I$();C$();pde();fde();mde();N$();hde();gde();O$();yde();bde();vde();_de();Sde();xde();wde();Ade();Ede();Tde();Rde();Ide();Cde()});var cXe=b(()=>{"use strict"});var lXe=b(()=>{"use strict";cXe();Ode();kde();Mde();Bde();Ude();zde()});var uXe=b(()=>{"use strict";jde();Wde();Kde();Xde();Zde();tpe()});var uVt,dVt,pVt,fVt,mVt,hVt,gVt,yVt,bVt,vVt,_Vt,SVt,xVt,wVt,AVt,EVt,TVt,RVt,IVt,CVt,NVt,OVt,PVt,kVt,DVt,MVt,LVt,BVt,$Vt,UVt,FVt,zVt,HVt,VVt,GVt,jVt,qVt,WVt,JVt,KVt,QVt,XVt,dXe=b(()=>{"use strict";uVt={MICROSECOND:"MICROSECOND",MILLISECOND:"MILLISECOND"},dVt={ADD:"ADD",DELETE:"DELETE",PUT:"PUT"},pVt={B:"B",N:"N",S:"S"},fVt={AVAILABLE:"AVAILABLE",CREATING:"CREATING",DELETED:"DELETED"},mVt={AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},hVt={PAY_PER_REQUEST:"PAY_PER_REQUEST",PROVISIONED:"PROVISIONED"},gVt={HASH:"HASH",RANGE:"RANGE"},yVt={ALL:"ALL",INCLUDE:"INCLUDE",KEYS_ONLY:"KEYS_ONLY"},bVt={AES256:"AES256",KMS:"KMS"},vVt={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",UPDATING:"UPDATING"},_Vt={KEYS_ONLY:"KEYS_ONLY",NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE",OLD_IMAGE:"OLD_IMAGE"},SVt={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING"},xVt={ALL:"ALL",AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},wVt={INDEXES:"INDEXES",NONE:"NONE",TOTAL:"TOTAL"},AVt={ALL_OLD:"ALL_OLD",NONE:"NONE"},EVt={AccessDenied:"AccessDenied",ConditionalCheckFailed:"ConditionalCheckFailed",DuplicateItem:"DuplicateItem",InternalServerError:"InternalServerError",ItemCollectionSizeLimitExceeded:"ItemCollectionSizeLimitExceeded",ProvisionedThroughputExceeded:"ProvisionedThroughputExceeded",RequestLimitExceeded:"RequestLimitExceeded",ResourceNotFound:"ResourceNotFound",ThrottlingError:"ThrottlingError",TransactionConflict:"TransactionConflict",ValidationError:"ValidationError"},TVt={NONE:"NONE",SIZE:"SIZE"},RVt={BEGINS_WITH:"BEGINS_WITH",BETWEEN:"BETWEEN",CONTAINS:"CONTAINS",EQ:"EQ",GE:"GE",GT:"GT",IN:"IN",LE:"LE",LT:"LT",NE:"NE",NOT_CONTAINS:"NOT_CONTAINS",NOT_NULL:"NOT_NULL",NULL:"NULL"},IVt={AND:"AND",OR:"OR"},CVt={DISABLED:"DISABLED",ENABLED:"ENABLED"},NVt={DISABLED:"DISABLED",ENABLED:"ENABLED"},OVt={DISABLE:"DISABLE",ENABLE:"ENABLE"},PVt={ACCESSED_AND_THROTTLED_KEYS:"ACCESSED_AND_THROTTLED_KEYS",THROTTLED_KEYS:"THROTTLED_KEYS"},kVt={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",FAILED:"FAILED"},DVt={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},MVt={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},LVt={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",CREATION_FAILED:"CREATION_FAILED",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REGION_DISABLED:"REGION_DISABLED",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},BVt={STANDARD:"STANDARD",STANDARD_INFREQUENT_ACCESS:"STANDARD_INFREQUENT_ACCESS"},$Vt={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},UVt={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING"},FVt={EVENTUAL:"EVENTUAL",STRONG:"STRONG"},zVt={ALL_NEW:"ALL_NEW",ALL_OLD:"ALL_OLD",NONE:"NONE",UPDATED_NEW:"UPDATED_NEW",UPDATED_OLD:"UPDATED_OLD"},HVt={DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},VVt={COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},GVt={FULL_EXPORT:"FULL_EXPORT",INCREMENTAL_EXPORT:"INCREMENTAL_EXPORT"},jVt={NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE"},qVt={AES256:"AES256",KMS:"KMS"},WVt={CANCELLED:"CANCELLED",CANCELLING:"CANCELLING",COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},JVt={GZIP:"GZIP",NONE:"NONE",ZSTD:"ZSTD"},KVt={CSV:"CSV",DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},QVt={ACTIVE:"ACTIVE",DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLE_FAILED:"ENABLE_FAILED",ENABLING:"ENABLING",UPDATING:"UPDATING"},XVt={ALL_ATTRIBUTES:"ALL_ATTRIBUTES",ALL_PROJECTED_ATTRIBUTES:"ALL_PROJECTED_ATTRIBUTES",COUNT:"COUNT",SPECIFIC_ATTRIBUTES:"SPECIFIC_ATTRIBUTES"}});var pXe=b(()=>{"use strict"});var rpe={};Nr(rpe,{$Command:()=>se,ApproximateCreationDateTimePrecision:()=>uVt,ArchivalSummary$:()=>Fje,AttributeAction:()=>dVt,AttributeDefinition$:()=>zje,AttributeValue$:()=>Gu,AttributeValueUpdate$:()=>Hje,AutoScalingPolicyDescription$:()=>Vje,AutoScalingPolicyUpdate$:()=>Gje,AutoScalingSettingsDescription$:()=>dh,AutoScalingSettingsUpdate$:()=>gh,AutoScalingTargetTrackingScalingPolicyConfigurationDescription$:()=>jje,AutoScalingTargetTrackingScalingPolicyConfigurationUpdate$:()=>qje,BackupDescription$:()=>rle,BackupDetails$:()=>nle,BackupInUseException:()=>S5,BackupInUseException$:()=>Wje,BackupNotFoundException:()=>x5,BackupNotFoundException$:()=>Jje,BackupStatus:()=>fVt,BackupSummary$:()=>Kje,BackupType:()=>mVt,BackupTypeFilter:()=>xVt,BatchExecuteStatement$:()=>Nle,BatchExecuteStatementCommand:()=>y8,BatchExecuteStatementInput$:()=>Qje,BatchExecuteStatementOutput$:()=>Xje,BatchGetItem$:()=>Ole,BatchGetItemCommand:()=>b8,BatchGetItemInput$:()=>Yje,BatchGetItemOutput$:()=>Zje,BatchStatementError$:()=>eqe,BatchStatementErrorCodeEnum:()=>EVt,BatchStatementRequest$:()=>tqe,BatchStatementResponse$:()=>rqe,BatchWriteItem$:()=>Ple,BatchWriteItemCommand:()=>v8,BatchWriteItemInput$:()=>nqe,BatchWriteItemOutput$:()=>iqe,BillingMode:()=>hVt,BillingModeSummary$:()=>ile,CancellationReason$:()=>oqe,Capacity$:()=>ole,ComparisonOperator:()=>RVt,Condition$:()=>sle,ConditionCheck$:()=>aqe,ConditionalCheckFailedException:()=>e8,ConditionalCheckFailedException$:()=>sqe,ConditionalOperator:()=>IVt,ConsumedCapacity$:()=>yh,ContinuousBackupsDescription$:()=>ale,ContinuousBackupsStatus:()=>CVt,ContinuousBackupsUnavailableException:()=>O5,ContinuousBackupsUnavailableException$:()=>cqe,ContributorInsightsAction:()=>OVt,ContributorInsightsMode:()=>PVt,ContributorInsightsStatus:()=>kVt,ContributorInsightsSummary$:()=>lqe,CreateBackup$:()=>kle,CreateBackupCommand:()=>_8,CreateBackupInput$:()=>uqe,CreateBackupOutput$:()=>dqe,CreateGlobalSecondaryIndexAction$:()=>pqe,CreateGlobalTable$:()=>Dle,CreateGlobalTableCommand:()=>S8,CreateGlobalTableInput$:()=>fqe,CreateGlobalTableOutput$:()=>mqe,CreateGlobalTableWitnessGroupMemberAction$:()=>hqe,CreateReplicaAction$:()=>gqe,CreateReplicationGroupMemberAction$:()=>yqe,CreateTable$:()=>Mle,CreateTableCommand:()=>x8,CreateTableInput$:()=>bqe,CreateTableOutput$:()=>vqe,CsvOptions$:()=>_qe,Delete$:()=>Sqe,DeleteBackup$:()=>Lle,DeleteBackupCommand:()=>w8,DeleteBackupInput$:()=>xqe,DeleteBackupOutput$:()=>wqe,DeleteGlobalSecondaryIndexAction$:()=>Aqe,DeleteGlobalTableWitnessGroupMemberAction$:()=>Eqe,DeleteItem$:()=>Ble,DeleteItemCommand:()=>A8,DeleteItemInput$:()=>Tqe,DeleteItemOutput$:()=>Rqe,DeleteReplicaAction$:()=>Iqe,DeleteReplicationGroupMemberAction$:()=>Cqe,DeleteRequest$:()=>Nqe,DeleteResourcePolicy$:()=>$le,DeleteResourcePolicyCommand:()=>E8,DeleteResourcePolicyInput$:()=>Oqe,DeleteResourcePolicyOutput$:()=>Pqe,DeleteTable$:()=>Ule,DeleteTableCommand:()=>T8,DeleteTableInput$:()=>kqe,DeleteTableOutput$:()=>Dqe,DescribeBackup$:()=>Fle,DescribeBackupCommand:()=>R8,DescribeBackupInput$:()=>Mqe,DescribeBackupOutput$:()=>Lqe,DescribeContinuousBackups$:()=>zle,DescribeContinuousBackupsCommand:()=>I8,DescribeContinuousBackupsInput$:()=>Bqe,DescribeContinuousBackupsOutput$:()=>$qe,DescribeContributorInsights$:()=>Hle,DescribeContributorInsightsCommand:()=>Yv,DescribeContributorInsightsInput$:()=>Uqe,DescribeContributorInsightsOutput$:()=>Fqe,DescribeEndpoints$:()=>Vle,DescribeEndpointsCommand:()=>Xv,DescribeEndpointsRequest$:()=>zqe,DescribeEndpointsResponse$:()=>Hqe,DescribeExport$:()=>Gle,DescribeExportCommand:()=>Zv,DescribeExportInput$:()=>Vqe,DescribeExportOutput$:()=>Gqe,DescribeGlobalTable$:()=>jle,DescribeGlobalTableCommand:()=>C8,DescribeGlobalTableInput$:()=>jqe,DescribeGlobalTableOutput$:()=>qqe,DescribeGlobalTableSettings$:()=>qle,DescribeGlobalTableSettingsCommand:()=>N8,DescribeGlobalTableSettingsInput$:()=>Wqe,DescribeGlobalTableSettingsOutput$:()=>Jqe,DescribeImport$:()=>Wle,DescribeImportCommand:()=>e_,DescribeImportInput$:()=>Kqe,DescribeImportOutput$:()=>Qqe,DescribeKinesisStreamingDestination$:()=>Jle,DescribeKinesisStreamingDestinationCommand:()=>t_,DescribeKinesisStreamingDestinationInput$:()=>Xqe,DescribeKinesisStreamingDestinationOutput$:()=>Yqe,DescribeLimits$:()=>Kle,DescribeLimitsCommand:()=>O8,DescribeLimitsInput$:()=>Zqe,DescribeLimitsOutput$:()=>eWe,DescribeTable$:()=>Qle,DescribeTableCommand:()=>Sh,DescribeTableInput$:()=>tWe,DescribeTableOutput$:()=>rWe,DescribeTableReplicaAutoScaling$:()=>Xle,DescribeTableReplicaAutoScalingCommand:()=>k8,DescribeTableReplicaAutoScalingInput$:()=>nWe,DescribeTableReplicaAutoScalingOutput$:()=>iWe,DescribeTimeToLive$:()=>Yle,DescribeTimeToLiveCommand:()=>D8,DescribeTimeToLiveInput$:()=>oWe,DescribeTimeToLiveOutput$:()=>sWe,DestinationStatus:()=>QVt,DisableKinesisStreamingDestination$:()=>Zle,DisableKinesisStreamingDestinationCommand:()=>M8,DuplicateItemException:()=>H5,DuplicateItemException$:()=>aWe,DynamoDB:()=>k$,DynamoDBClient:()=>qo,DynamoDBServiceException:()=>yr,DynamoDBServiceException$:()=>jKe,EnableKinesisStreamingConfiguration$:()=>cle,EnableKinesisStreamingDestination$:()=>eue,EnableKinesisStreamingDestinationCommand:()=>L8,Endpoint$:()=>cWe,ExecuteStatement$:()=>tue,ExecuteStatementCommand:()=>B8,ExecuteStatementInput$:()=>lWe,ExecuteStatementOutput$:()=>uWe,ExecuteTransaction$:()=>rue,ExecuteTransactionCommand:()=>$8,ExecuteTransactionInput$:()=>dWe,ExecuteTransactionOutput$:()=>pWe,ExpectedAttributeValue$:()=>fWe,ExportConflictException:()=>j5,ExportConflictException$:()=>mWe,ExportDescription$:()=>lle,ExportFormat:()=>HVt,ExportNotFoundException:()=>U5,ExportNotFoundException$:()=>hWe,ExportStatus:()=>VVt,ExportSummary$:()=>gWe,ExportTableToPointInTime$:()=>nue,ExportTableToPointInTimeCommand:()=>U8,ExportTableToPointInTimeInput$:()=>yWe,ExportTableToPointInTimeOutput$:()=>bWe,ExportType:()=>GVt,ExportViewType:()=>jVt,FailureException$:()=>vWe,Get$:()=>_We,GetItem$:()=>iue,GetItemCommand:()=>r_,GetItemInput$:()=>SWe,GetItemOutput$:()=>xWe,GetResourcePolicy$:()=>oue,GetResourcePolicyCommand:()=>F8,GetResourcePolicyInput$:()=>wWe,GetResourcePolicyOutput$:()=>AWe,GlobalSecondaryIndex$:()=>EWe,GlobalSecondaryIndexAutoScalingUpdate$:()=>TWe,GlobalSecondaryIndexDescription$:()=>RWe,GlobalSecondaryIndexInfo$:()=>IWe,GlobalSecondaryIndexUpdate$:()=>CWe,GlobalSecondaryIndexWarmThroughputDescription$:()=>ule,GlobalTable$:()=>NWe,GlobalTableAlreadyExistsException:()=>M5,GlobalTableAlreadyExistsException$:()=>OWe,GlobalTableDescription$:()=>f$,GlobalTableGlobalSecondaryIndexSettingsUpdate$:()=>PWe,GlobalTableNotFoundException:()=>F5,GlobalTableNotFoundException$:()=>kWe,GlobalTableStatus:()=>DVt,GlobalTableWitnessDescription$:()=>DWe,GlobalTableWitnessGroupUpdate$:()=>MWe,IdempotentParameterMismatchException:()=>V5,IdempotentParameterMismatchException$:()=>LWe,ImportConflictException:()=>J5,ImportConflictException$:()=>BWe,ImportNotFoundException:()=>z5,ImportNotFoundException$:()=>$We,ImportStatus:()=>WVt,ImportSummary$:()=>UWe,ImportTable$:()=>sue,ImportTableCommand:()=>z8,ImportTableDescription$:()=>dle,ImportTableInput$:()=>FWe,ImportTableOutput$:()=>zWe,IncrementalExportSpecification$:()=>ple,IndexNotFoundException:()=>Z5,IndexNotFoundException$:()=>HWe,IndexStatus:()=>MVt,InputCompressionType:()=>JVt,InputFormat:()=>KVt,InputFormatOptions$:()=>fle,InternalServerError:()=>w5,InternalServerError$:()=>VWe,InvalidEndpointException:()=>T5,InvalidEndpointException$:()=>GWe,InvalidExportTimeException:()=>q5,InvalidExportTimeException$:()=>jWe,InvalidRestoreTimeException:()=>Q5,InvalidRestoreTimeException$:()=>qWe,ItemCollectionMetrics$:()=>f8,ItemCollectionSizeLimitExceededException:()=>C5,ItemCollectionSizeLimitExceededException$:()=>WWe,ItemResponse$:()=>JWe,KeySchemaElement$:()=>QWe,KeyType:()=>gVt,KeysAndAttributes$:()=>KWe,KinesisDataStreamDestination$:()=>XWe,KinesisStreamingDestinationInput$:()=>mle,KinesisStreamingDestinationOutput$:()=>hle,LimitExceededException:()=>P5,LimitExceededException$:()=>YWe,ListBackups$:()=>aue,ListBackupsCommand:()=>H8,ListBackupsInput$:()=>ZWe,ListBackupsOutput$:()=>eJe,ListContributorInsights$:()=>cue,ListContributorInsightsCommand:()=>n_,ListContributorInsightsInput$:()=>tJe,ListContributorInsightsOutput$:()=>rJe,ListExports$:()=>lue,ListExportsCommand:()=>i_,ListExportsInput$:()=>nJe,ListExportsOutput$:()=>iJe,ListGlobalTables$:()=>uue,ListGlobalTablesCommand:()=>V8,ListGlobalTablesInput$:()=>oJe,ListGlobalTablesOutput$:()=>sJe,ListImports$:()=>due,ListImportsCommand:()=>o_,ListImportsInput$:()=>aJe,ListImportsOutput$:()=>cJe,ListTables$:()=>pue,ListTablesCommand:()=>s_,ListTablesInput$:()=>lJe,ListTablesOutput$:()=>uJe,ListTagsOfResource$:()=>fue,ListTagsOfResourceCommand:()=>G8,ListTagsOfResourceInput$:()=>dJe,ListTagsOfResourceOutput$:()=>pJe,LocalSecondaryIndex$:()=>fJe,LocalSecondaryIndexDescription$:()=>mJe,LocalSecondaryIndexInfo$:()=>hJe,MultiRegionConsistency:()=>FVt,OnDemandThroughput$:()=>vl,OnDemandThroughputOverride$:()=>tE,ParameterizedStatement$:()=>gJe,PointInTimeRecoveryDescription$:()=>yJe,PointInTimeRecoverySpecification$:()=>bJe,PointInTimeRecoveryStatus:()=>NVt,PointInTimeRecoveryUnavailableException:()=>W5,PointInTimeRecoveryUnavailableException$:()=>vJe,PolicyNotFoundException:()=>$5,PolicyNotFoundException$:()=>_Je,Projection$:()=>g1,ProjectionType:()=>yVt,ProvisionedThroughput$:()=>Xd,ProvisionedThroughputDescription$:()=>gle,ProvisionedThroughputExceededException:()=>R5,ProvisionedThroughputExceededException$:()=>SJe,ProvisionedThroughputOverride$:()=>rE,Put$:()=>xJe,PutItem$:()=>mue,PutItemCommand:()=>y1,PutItemInput$:()=>wJe,PutItemOutput$:()=>AJe,PutRequest$:()=>EJe,PutResourcePolicy$:()=>hue,PutResourcePolicyCommand:()=>j8,PutResourcePolicyInput$:()=>TJe,PutResourcePolicyOutput$:()=>RJe,Query$:()=>gue,QueryCommand:()=>b1,QueryInput$:()=>IJe,QueryOutput$:()=>CJe,Replica$:()=>NJe,ReplicaAlreadyExistsException:()=>X5,ReplicaAlreadyExistsException$:()=>OJe,ReplicaAutoScalingDescription$:()=>PJe,ReplicaAutoScalingUpdate$:()=>kJe,ReplicaDescription$:()=>DJe,ReplicaGlobalSecondaryIndex$:()=>MJe,ReplicaGlobalSecondaryIndexAutoScalingDescription$:()=>LJe,ReplicaGlobalSecondaryIndexAutoScalingUpdate$:()=>BJe,ReplicaGlobalSecondaryIndexDescription$:()=>$Je,ReplicaGlobalSecondaryIndexSettingsDescription$:()=>UJe,ReplicaGlobalSecondaryIndexSettingsUpdate$:()=>FJe,ReplicaNotFoundException:()=>Y5,ReplicaNotFoundException$:()=>zJe,ReplicaSettingsDescription$:()=>HJe,ReplicaSettingsUpdate$:()=>VJe,ReplicaStatus:()=>LVt,ReplicaUpdate$:()=>qJe,ReplicatedWriteConflictException:()=>N5,ReplicatedWriteConflictException$:()=>GJe,ReplicationGroupUpdate$:()=>jJe,RequestLimitExceeded:()=>A5,RequestLimitExceeded$:()=>WJe,ResourceInUseException:()=>L5,ResourceInUseException$:()=>JJe,ResourceNotFoundException:()=>I5,ResourceNotFoundException$:()=>KJe,RestoreSummary$:()=>QJe,RestoreTableFromBackup$:()=>yue,RestoreTableFromBackupCommand:()=>q8,RestoreTableFromBackupInput$:()=>XJe,RestoreTableFromBackupOutput$:()=>YJe,RestoreTableToPointInTime$:()=>bue,RestoreTableToPointInTimeCommand:()=>W8,RestoreTableToPointInTimeInput$:()=>ZJe,RestoreTableToPointInTimeOutput$:()=>eKe,ReturnConsumedCapacity:()=>wVt,ReturnItemCollectionMetrics:()=>TVt,ReturnValue:()=>zVt,ReturnValuesOnConditionCheckFailure:()=>AVt,S3BucketSource$:()=>m$,S3SseAlgorithm:()=>qVt,SSEDescription$:()=>yle,SSESpecification$:()=>nE,SSEStatus:()=>vVt,SSEType:()=>bVt,ScalarAttributeType:()=>pVt,Scan$:()=>vue,ScanCommand:()=>v1,ScanInput$:()=>tKe,ScanOutput$:()=>rKe,Select:()=>XVt,SourceTableDetails$:()=>nKe,SourceTableFeatureDetails$:()=>iKe,StreamSpecification$:()=>m8,StreamViewType:()=>_Vt,TableAlreadyExistsException:()=>K5,TableAlreadyExistsException$:()=>oKe,TableAutoScalingDescription$:()=>ble,TableClass:()=>BVt,TableClassSummary$:()=>h$,TableCreationParameters$:()=>vle,TableDescription$:()=>Qv,TableInUseException:()=>k5,TableInUseException$:()=>sKe,TableNotFoundException:()=>D5,TableNotFoundException$:()=>aKe,TableStatus:()=>$Vt,TableWarmThroughputDescription$:()=>_le,Tag$:()=>cKe,TagResource$:()=>_ue,TagResourceCommand:()=>J8,TagResourceInput$:()=>lKe,ThrottlingException:()=>E5,ThrottlingException$:()=>uKe,ThrottlingReason$:()=>dKe,TimeToLiveDescription$:()=>Sle,TimeToLiveSpecification$:()=>xle,TimeToLiveStatus:()=>SVt,TransactGetItem$:()=>pKe,TransactGetItems$:()=>Sue,TransactGetItemsCommand:()=>K8,TransactGetItemsInput$:()=>fKe,TransactGetItemsOutput$:()=>mKe,TransactWriteItem$:()=>bKe,TransactWriteItems$:()=>xue,TransactWriteItemsCommand:()=>Q8,TransactWriteItemsInput$:()=>vKe,TransactWriteItemsOutput$:()=>_Ke,TransactionCanceledException:()=>t8,TransactionCanceledException$:()=>hKe,TransactionConflictException:()=>B5,TransactionConflictException$:()=>gKe,TransactionInProgressException:()=>G5,TransactionInProgressException$:()=>yKe,UntagResource$:()=>wue,UntagResourceCommand:()=>X8,UntagResourceInput$:()=>SKe,Update$:()=>xKe,UpdateContinuousBackups$:()=>Aue,UpdateContinuousBackupsCommand:()=>Y8,UpdateContinuousBackupsInput$:()=>wKe,UpdateContinuousBackupsOutput$:()=>AKe,UpdateContributorInsights$:()=>Eue,UpdateContributorInsightsCommand:()=>Z8,UpdateContributorInsightsInput$:()=>EKe,UpdateContributorInsightsOutput$:()=>TKe,UpdateGlobalSecondaryIndexAction$:()=>RKe,UpdateGlobalTable$:()=>Tue,UpdateGlobalTableCommand:()=>eC,UpdateGlobalTableInput$:()=>IKe,UpdateGlobalTableOutput$:()=>CKe,UpdateGlobalTableSettings$:()=>Rue,UpdateGlobalTableSettingsCommand:()=>tC,UpdateGlobalTableSettingsInput$:()=>NKe,UpdateGlobalTableSettingsOutput$:()=>OKe,UpdateItem$:()=>Iue,UpdateItemCommand:()=>rC,UpdateItemInput$:()=>PKe,UpdateItemOutput$:()=>kKe,UpdateKinesisStreamingConfiguration$:()=>wle,UpdateKinesisStreamingDestination$:()=>Cue,UpdateKinesisStreamingDestinationCommand:()=>nC,UpdateKinesisStreamingDestinationInput$:()=>DKe,UpdateKinesisStreamingDestinationOutput$:()=>MKe,UpdateReplicationGroupMemberAction$:()=>LKe,UpdateTable$:()=>Nue,UpdateTableCommand:()=>iC,UpdateTableInput$:()=>BKe,UpdateTableOutput$:()=>$Ke,UpdateTableReplicaAutoScaling$:()=>Oue,UpdateTableReplicaAutoScalingCommand:()=>oC,UpdateTableReplicaAutoScalingInput$:()=>UKe,UpdateTableReplicaAutoScalingOutput$:()=>FKe,UpdateTimeToLive$:()=>Pue,UpdateTimeToLiveCommand:()=>sC,UpdateTimeToLiveInput$:()=>zKe,UpdateTimeToLiveOutput$:()=>HKe,WarmThroughput$:()=>iE,WitnessStatus:()=>UVt,WriteRequest$:()=>VKe,__Client:()=>$o,paginateListContributorInsights:()=>Nde,paginateListExports:()=>Pde,paginateListImports:()=>Dde,paginateListTables:()=>Lde,paginateQuery:()=>$de,paginateScan:()=>Fde,waitForContributorInsightsEnabled:()=>tVt,waitForExportCompleted:()=>rVt,waitForImportCompleted:()=>nVt,waitForKinesisStreamingDestinationActive:()=>iVt,waitForTableExists:()=>oVt,waitForTableNotExists:()=>sVt,waitUntilContributorInsightsEnabled:()=>Gde,waitUntilExportCompleted:()=>qde,waitUntilImportCompleted:()=>Jde,waitUntilKinesisStreamingDestinationActive:()=>Qde,waitUntilTableExists:()=>Yde,waitUntilTableNotExists:()=>epe});var D$=b(()=>{"use strict";_h();sXe();aXe();Bt();lXe();uXe();dXe();cce();pXe();ZB()});var wh=ze((d7n,oZe)=>{"use strict";var nZe=["nodebuffer","arraybuffer","fragments"],iZe=typeof Blob<"u";iZe&&nZe.push("blob");oZe.exports={BINARY_TYPES:nZe,CLOSE_TIMEOUT:3e4,EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",hasBlob:iZe,kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var SZe=ze((p7n,_Ze)=>{"use strict";var lZe=yt("fs"),Ah=yt("path"),uZe=yt("os"),dZe=typeof __webpack_require__=="function"?__non_webpack_require__:yt,hKt=process.config&&process.config.variables||{},gKt=!!process.env.PREBUILDS_ONLY,sZe=process.versions.modules,Ipe=vKt()?"electron":bKt()?"node-webkit":"node",Cpe=process.env.npm_config_arch||uZe.arch(),Npe=process.env.npm_config_platform||uZe.platform(),pZe=process.env.LIBC||(_Kt(Npe)?"musl":"glibc"),Ope=process.env.ARM_VERSION||(Cpe==="arm64"?"8":hKt.arm_version)||"",fZe=(process.versions.uv||"").split(".")[0];_Ze.exports=Nf;function Nf(t){return dZe(Nf.resolve(t))}Nf.resolve=Nf.path=function(t){t=Ah.resolve(t||".");try{var e=dZe(Ah.join(t,"package.json")).name.toUpperCase().replace(/-/g,"_");process.env[e+"_PREBUILD"]&&(t=process.env[e+"_PREBUILD"])}catch{}if(!gKt){var r=aZe(Ah.join(t,"build/Release"),cZe);if(r)return r;var n=aZe(Ah.join(t,"build/Debug"),cZe);if(n)return n}var i=a(t);if(i)return i;var o=a(Ah.dirname(process.execPath));if(o)return o;var s=["platform="+Npe,"arch="+Cpe,"runtime="+Ipe,"abi="+sZe,"uv="+fZe,Ope?"armv="+Ope:"","libc="+pZe,"node="+process.versions.node,process.versions.electron?"electron="+process.versions.electron:"",typeof __webpack_require__=="function"?"webpack=true":""].filter(Boolean).join(" ");throw new Error("No native build was found for "+s+`
    loaded from: `+t+`
`);function a(c){var l=Ppe(Ah.join(c,"prebuilds")).map(mZe),u=l.filter(hZe(Npe,Cpe)).sort(gZe)[0];if(u){var d=Ah.join(c,"prebuilds",u.name),p=Ppe(d).map(yZe),f=p.filter(bZe(Ipe,sZe)),h=f.sort(vZe(Ipe))[0];if(h)return Ah.join(d,h.file)}}};function Ppe(t){try{return lZe.readdirSync(t)}catch{return[]}}function aZe(t,e){var r=Ppe(t).filter(e);return r[0]&&Ah.join(t,r[0])}function cZe(t){return/\.node$/.test(t)}function mZe(t){var e=t.split("-");if(e.length===2){var r=e[0],n=e[1].split("+");if(r&&n.length&&n.every(Boolean))return{name:t,platform:r,architectures:n}}}function hZe(t,e){return function(r){return r==null||r.platform!==t?!1:r.architectures.includes(e)}}function gZe(t,e){return t.architectures.length-e.architectures.length}function yZe(t){var e=t.split("."),r=e.pop(),n={file:t,specificity:0};if(r==="node"){for(var i=0;i<e.length;i++){var o=e[i];if(o==="node"||o==="electron"||o==="node-webkit")n.runtime=o;else if(o==="napi")n.napi=!0;else if(o.slice(0,3)==="abi")n.abi=o.slice(3);else if(o.slice(0,2)==="uv")n.uv=o.slice(2);else if(o.slice(0,4)==="armv")n.armv=o.slice(4);else if(o==="glibc"||o==="musl")n.libc=o;else continue;n.specificity++}return n}}function bZe(t,e){return function(r){return!(r==null||r.runtime&&r.runtime!==t&&!yKt(r)||r.abi&&r.abi!==e&&!r.napi||r.uv&&r.uv!==fZe||r.armv&&r.armv!==Ope||r.libc&&r.libc!==pZe)}}function yKt(t){return t.runtime==="node"&&t.napi}function vZe(t){return function(e,r){return e.runtime!==r.runtime?e.runtime===t?-1:1:e.abi!==r.abi?e.abi?-1:1:e.specificity!==r.specificity?e.specificity>r.specificity?-1:1:0}}function bKt(){return!!(process.versions&&process.versions.nw)}function vKt(){return process.versions&&process.versions.electron||process.env.ELECTRON_RUN_AS_NODE?!0:typeof window<"u"&&window.process&&window.process.type==="renderer"}function _Kt(t){return t==="linux"&&lZe.existsSync("/etc/alpine-release")}Nf.parseTags=yZe;Nf.matchTags=bZe;Nf.compareTags=vZe;Nf.parseTuple=mZe;Nf.matchTuple=hZe;Nf.compareTuples=gZe});var Mpe=ze((m7n,Dpe)=>{"use strict";var kpe=typeof __webpack_require__=="function"?__non_webpack_require__:yt;typeof kpe.addon=="function"?Dpe.exports=kpe.addon.bind(kpe):Dpe.exports=SZe()});var wZe=ze((g7n,xZe)=>{"use strict";var SKt=(t,e,r,n,i)=>{for(var o=0;o<i;o++)r[n+o]=t[o]^e[o&3]},xKt=(t,e)=>{let r=t.length;for(var n=0;n<r;n++)t[n]^=e[n&3]};xZe.exports={mask:SKt,unmask:xKt}});var Bpe=ze((y7n,Lpe)=>{"use strict";try{Lpe.exports=Mpe()(__dirname)}catch{Lpe.exports=wZe()}});var fC=ze((b7n,G$)=>{"use strict";var{EMPTY_BUFFER:wKt}=wh(),$pe=Buffer[Symbol.species];function AKt(t,e){if(t.length===0)return wKt;if(t.length===1)return t[0];let r=Buffer.allocUnsafe(e),n=0;for(let i=0;i<t.length;i++){let o=t[i];r.set(o,n),n+=o.length}return n<e?new $pe(r.buffer,r.byteOffset,n):r}function AZe(t,e,r,n,i){for(let o=0;o<i;o++)r[n+o]=t[o]^e[o&3]}function EZe(t,e){for(let r=0;r<t.length;r++)t[r]^=e[r&3]}function EKt(t){return t.length===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.length)}function Upe(t){if(Upe.readOnly=!0,Buffer.isBuffer(t))return t;let e;return t instanceof ArrayBuffer?e=new $pe(t):ArrayBuffer.isView(t)?e=new $pe(t.buffer,t.byteOffset,t.byteLength):(e=Buffer.from(t),Upe.readOnly=!1),e}G$.exports={concat:AKt,mask:AZe,toArrayBuffer:EKt,toBuffer:Upe,unmask:EZe};if(!process.env.WS_NO_BUFFER_UTIL)try{let t=Bpe();G$.exports.mask=function(e,r,n,i,o){o<48?AZe(e,r,n,i,o):t.mask(e,r,n,i,o)},G$.exports.unmask=function(e,r){e.length<32?EZe(e,r):t.unmask(e,r)}}catch{}});var IZe=ze((v7n,RZe)=>{"use strict";var TZe=Symbol("kDone"),Fpe=Symbol("kRun"),zpe=class{constructor(e){this[TZe]=()=>{this.pending--,this[Fpe]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[Fpe]()}[Fpe](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[TZe])}}};RZe.exports=zpe});var hC=ze((_7n,PZe)=>{"use strict";var mC=yt("zlib"),CZe=fC(),TKt=IZe(),{kStatusCode:NZe}=wh(),RKt=Buffer[Symbol.species],IKt=Buffer.from([0,0,255,255]),q$=Symbol("permessage-deflate"),Eh=Symbol("total-length"),dE=Symbol("callback"),x1=Symbol("buffers"),pE=Symbol("error"),j$,Hpe=class{constructor(e,r,n){if(this._maxPayload=n|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!r,this._deflate=null,this._inflate=null,this.params=null,!j$){let i=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;j$=new TKt(i)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[dE];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let r=this._options,n=e.find(i=>!(r.serverNoContextTakeover===!1&&i.server_no_context_takeover||i.server_max_window_bits&&(r.serverMaxWindowBits===!1||typeof r.serverMaxWindowBits=="number"&&r.serverMaxWindowBits>i.server_max_window_bits)||typeof r.clientMaxWindowBits=="number"&&!i.client_max_window_bits));if(!n)throw new Error("None of the extension offers can be accepted");return r.serverNoContextTakeover&&(n.server_no_context_takeover=!0),r.clientNoContextTakeover&&(n.client_no_context_takeover=!0),typeof r.serverMaxWindowBits=="number"&&(n.server_max_window_bits=r.serverMaxWindowBits),typeof r.clientMaxWindowBits=="number"?n.client_max_window_bits=r.clientMaxWindowBits:(n.client_max_window_bits===!0||r.clientMaxWindowBits===!1)&&delete n.client_max_window_bits,n}acceptAsClient(e){let r=e[0];if(this._options.clientNoContextTakeover===!1&&r.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!r.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(r.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&r.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return r}normalizeParams(e){return e.forEach(r=>{Object.keys(r).forEach(n=>{let i=r[n];if(i.length>1)throw new Error(`Parameter "${n}" must have only a single value`);if(i=i[0],n==="client_max_window_bits"){if(i!==!0){let o=+i;if(!Number.isInteger(o)||o<8||o>15)throw new TypeError(`Invalid value for parameter "${n}": ${i}`);i=o}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${n}": ${i}`)}else if(n==="server_max_window_bits"){let o=+i;if(!Number.isInteger(o)||o<8||o>15)throw new TypeError(`Invalid value for parameter "${n}": ${i}`);i=o}else if(n==="client_no_context_takeover"||n==="server_no_context_takeover"){if(i!==!0)throw new TypeError(`Invalid value for parameter "${n}": ${i}`)}else throw new Error(`Unknown parameter "${n}"`);r[n]=i})}),e}decompress(e,r,n){j$.add(i=>{this._decompress(e,r,(o,s)=>{i(),n(o,s)})})}compress(e,r,n){j$.add(i=>{this._compress(e,r,(o,s)=>{i(),n(o,s)})})}_decompress(e,r,n){let i=this._isServer?"client":"server";if(!this._inflate){let o=`${i}_max_window_bits`,s=typeof this.params[o]!="number"?mC.Z_DEFAULT_WINDOWBITS:this.params[o];this._inflate=mC.createInflateRaw({...this._options.zlibInflateOptions,windowBits:s}),this._inflate[q$]=this,this._inflate[Eh]=0,this._inflate[x1]=[],this._inflate.on("error",NKt),this._inflate.on("data",OZe)}this._inflate[dE]=n,this._inflate.write(e),r&&this._inflate.write(IKt),this._inflate.flush(()=>{let o=this._inflate[pE];if(o){this._inflate.close(),this._inflate=null,n(o);return}let s=CZe.concat(this._inflate[x1],this._inflate[Eh]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[Eh]=0,this._inflate[x1]=[],r&&this.params[`${i}_no_context_takeover`]&&this._inflate.reset()),n(null,s)})}_compress(e,r,n){let i=this._isServer?"server":"client";if(!this._deflate){let o=`${i}_max_window_bits`,s=typeof this.params[o]!="number"?mC.Z_DEFAULT_WINDOWBITS:this.params[o];this._deflate=mC.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:s}),this._deflate[Eh]=0,this._deflate[x1]=[],this._deflate.on("data",CKt)}this._deflate[dE]=n,this._deflate.write(e),this._deflate.flush(mC.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let o=CZe.concat(this._deflate[x1],this._deflate[Eh]);r&&(o=new RKt(o.buffer,o.byteOffset,o.length-4)),this._deflate[dE]=null,this._deflate[Eh]=0,this._deflate[x1]=[],r&&this.params[`${i}_no_context_takeover`]&&this._deflate.reset(),n(null,o)})}};PZe.exports=Hpe;function CKt(t){this[x1].push(t),this[Eh]+=t.length}function OZe(t){if(this[Eh]+=t.length,this[q$]._maxPayload<1||this[Eh]<=this[q$]._maxPayload){this[x1].push(t);return}this[pE]=new RangeError("Max payload size exceeded"),this[pE].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[pE][NZe]=1009,this.removeListener("data",OZe),this.reset()}function NKt(t){if(this[q$]._inflate=null,this[pE]){this[dE](this[pE]);return}t[NZe]=1007,this[dE](t)}});var DZe=ze((S7n,kZe)=>{"use strict";function OKt(t){let e=t.length,r=0;for(;r<e;)if((t[r]&128)===0)r++;else if((t[r]&224)===192){if(r+1===e||(t[r+1]&192)!==128||(t[r]&254)===192)return!1;r+=2}else if((t[r]&240)===224){if(r+2>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||t[r]===224&&(t[r+1]&224)===128||t[r]===237&&(t[r+1]&224)===160)return!1;r+=3}else if((t[r]&248)===240){if(r+3>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||(t[r+3]&192)!==128||t[r]===240&&(t[r+1]&240)===128||t[r]===244&&t[r+1]>143||t[r]>244)return!1;r+=4}else return!1;return!0}kZe.exports=OKt});var Gpe=ze((x7n,Vpe)=>{"use strict";try{Vpe.exports=Mpe()(__dirname)}catch{Vpe.exports=DZe()}});var fE=ze((w7n,W$)=>{"use strict";var{isUtf8:MZe}=yt("buffer"),{hasBlob:PKt}=wh(),kKt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function DKt(t){return t>=1e3&&t<=1014&&t!==1004&&t!==1005&&t!==1006||t>=3e3&&t<=4999}function jpe(t){let e=t.length,r=0;for(;r<e;)if((t[r]&128)===0)r++;else if((t[r]&224)===192){if(r+1===e||(t[r+1]&192)!==128||(t[r]&254)===192)return!1;r+=2}else if((t[r]&240)===224){if(r+2>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||t[r]===224&&(t[r+1]&224)===128||t[r]===237&&(t[r+1]&224)===160)return!1;r+=3}else if((t[r]&248)===240){if(r+3>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||(t[r+3]&192)!==128||t[r]===240&&(t[r+1]&240)===128||t[r]===244&&t[r+1]>143||t[r]>244)return!1;r+=4}else return!1;return!0}function MKt(t){return PKt&&typeof t=="object"&&typeof t.arrayBuffer=="function"&&typeof t.type=="string"&&typeof t.stream=="function"&&(t[Symbol.toStringTag]==="Blob"||t[Symbol.toStringTag]==="File")}W$.exports={isBlob:MKt,isValidStatusCode:DKt,isValidUTF8:jpe,tokenChars:kKt};if(MZe)W$.exports.isValidUTF8=function(t){return t.length<24?jpe(t):MZe(t)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let t=Gpe();W$.exports.isValidUTF8=function(e){return e.length<32?jpe(e):t(e)}}catch{}});var Qpe=ze((A7n,HZe)=>{"use strict";var{Writable:LKt}=yt("stream"),LZe=hC(),{BINARY_TYPES:BKt,EMPTY_BUFFER:BZe,kStatusCode:$Kt,kWebSocket:UKt}=wh(),{concat:qpe,toArrayBuffer:FKt,unmask:zKt}=fC(),{isValidStatusCode:HKt,isValidUTF8:$Ze}=fE(),J$=Buffer[Symbol.species],Ju=0,UZe=1,FZe=2,zZe=3,Wpe=4,Jpe=5,K$=6,Kpe=class extends LKt{constructor(e={}){super(),this._allowSynchronousEvents=e.allowSynchronousEvents!==void 0?e.allowSynchronousEvents:!0,this._binaryType=e.binaryType||BKt[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[UKt]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=Ju}_write(e,r,n){if(this._opcode===8&&this._state==Ju)return n();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(n)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let n=this._buffers[0];return this._buffers[0]=new J$(n.buffer,n.byteOffset+e,n.length-e),new J$(n.buffer,n.byteOffset,e)}let r=Buffer.allocUnsafe(e);do{let n=this._buffers[0],i=r.length-e;e>=n.length?r.set(this._buffers.shift(),i):(r.set(new Uint8Array(n.buffer,n.byteOffset,e),i),this._buffers[0]=new J$(n.buffer,n.byteOffset+e,n.length-e)),e-=n.length}while(e>0);return r}startLoop(e){this._loop=!0;do switch(this._state){case Ju:this.getInfo(e);break;case UZe:this.getPayloadLength16(e);break;case FZe:this.getPayloadLength64(e);break;case zZe:this.getMask();break;case Wpe:this.getData(e);break;case Jpe:case K$:this._loop=!1;return}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2){this._loop=!1;return}let r=this.consume(2);if((r[0]&48)!==0){let i=this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");e(i);return}let n=(r[0]&64)===64;if(n&&!this._extensions[LZe.extensionName]){let i=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(i);return}if(this._fin=(r[0]&128)===128,this._opcode=r[0]&15,this._payloadLength=r[1]&127,this._opcode===0){if(n){let i=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(i);return}if(!this._fragmented){let i=this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");e(i);return}this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented){let i=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(i);return}this._compressed=n}else if(this._opcode>7&&this._opcode<11){if(!this._fin){let i=this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");e(i);return}if(n){let i=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(i);return}if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1){let i=this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");e(i);return}}else{let i=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(i);return}if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(r[1]&128)===128,this._isServer){if(!this._masked){let i=this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK");e(i);return}}else if(this._masked){let i=this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");e(i);return}this._payloadLength===126?this._state=UZe:this._payloadLength===127?this._state=FZe:this.haveLength(e)}getPayloadLength16(e){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e)}getPayloadLength64(e){if(this._bufferedBytes<8){this._loop=!1;return}let r=this.consume(8),n=r.readUInt32BE(0);if(n>Math.pow(2,21)-1){let i=this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH");e(i);return}this._payloadLength=n*Math.pow(2,32)+r.readUInt32BE(4),this.haveLength(e)}haveLength(e){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){let r=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");e(r);return}this._masked?this._state=zZe:this._state=Wpe}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=Wpe}getData(e){let r=BZe;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}r=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!==0&&zKt(r,this._mask)}if(this._opcode>7){this.controlMessage(r,e);return}if(this._compressed){this._state=Jpe,this.decompress(r,e);return}r.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(r)),this.dataMessage(e)}decompress(e,r){this._extensions[LZe.extensionName].decompress(e,this._fin,(i,o)=>{if(i)return r(i);if(o.length){if(this._messageLength+=o.length,this._messageLength>this._maxPayload&&this._maxPayload>0){let s=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");r(s);return}this._fragments.push(o)}this.dataMessage(r),this._state===Ju&&this.startLoop(r)})}dataMessage(e){if(!this._fin){this._state=Ju;return}let r=this._messageLength,n=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let i;this._binaryType==="nodebuffer"?i=qpe(n,r):this._binaryType==="arraybuffer"?i=FKt(qpe(n,r)):this._binaryType==="blob"?i=new Blob(n):i=n,this._allowSynchronousEvents?(this.emit("message",i,!0),this._state=Ju):(this._state=K$,setImmediate(()=>{this.emit("message",i,!0),this._state=Ju,this.startLoop(e)}))}else{let i=qpe(n,r);if(!this._skipUTF8Validation&&!$Ze(i)){let o=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");e(o);return}this._state===Jpe||this._allowSynchronousEvents?(this.emit("message",i,!1),this._state=Ju):(this._state=K$,setImmediate(()=>{this.emit("message",i,!1),this._state=Ju,this.startLoop(e)}))}}controlMessage(e,r){if(this._opcode===8){if(e.length===0)this._loop=!1,this.emit("conclude",1005,BZe),this.end();else{let n=e.readUInt16BE(0);if(!HKt(n)){let o=this.createError(RangeError,`invalid status code ${n}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");r(o);return}let i=new J$(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!$Ze(i)){let o=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");r(o);return}this._loop=!1,this.emit("conclude",n,i),this.end()}this._state=Ju;return}this._allowSynchronousEvents?(this.emit(this._opcode===9?"ping":"pong",e),this._state=Ju):(this._state=K$,setImmediate(()=>{this.emit(this._opcode===9?"ping":"pong",e),this._state=Ju,this.startLoop(r)}))}createError(e,r,n,i,o){this._loop=!1,this._errored=!0;let s=new e(n?`Invalid WebSocket frame: ${r}`:r);return Error.captureStackTrace(s,this.createError),s.code=o,s[$Kt]=i,s}};HZe.exports=Kpe});var Zpe=ze((T7n,jZe)=>{"use strict";var{Duplex:E7n}=yt("stream"),{randomFillSync:VKt}=yt("crypto"),VZe=hC(),{EMPTY_BUFFER:GKt,kWebSocket:jKt,NOOP:qKt}=wh(),{isBlob:mE,isValidStatusCode:WKt}=fE(),{mask:GZe,toBuffer:c_}=fC(),Ku=Symbol("kByteLength"),JKt=Buffer.alloc(4),Q$=8*1024,l_,hE=Q$,Zd=0,KKt=1,QKt=2,Xpe=class t{constructor(e,r,n){this._extensions=r||{},n&&(this._generateMask=n,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._queue=[],this._state=Zd,this.onerror=qKt,this[jKt]=void 0}static frame(e,r){let n,i=!1,o=2,s=!1;r.mask&&(n=r.maskBuffer||JKt,r.generateMask?r.generateMask(n):(hE===Q$&&(l_===void 0&&(l_=Buffer.alloc(Q$)),VKt(l_,0,Q$),hE=0),n[0]=l_[hE++],n[1]=l_[hE++],n[2]=l_[hE++],n[3]=l_[hE++]),s=(n[0]|n[1]|n[2]|n[3])===0,o=6);let a;typeof e=="string"?(!r.mask||s)&&r[Ku]!==void 0?a=r[Ku]:(e=Buffer.from(e),a=e.length):(a=e.length,i=r.mask&&r.readOnly&&!s);let c=a;a>=65536?(o+=8,c=127):a>125&&(o+=2,c=126);let l=Buffer.allocUnsafe(i?a+o:o);return l[0]=r.fin?r.opcode|128:r.opcode,r.rsv1&&(l[0]|=64),l[1]=c,c===126?l.writeUInt16BE(a,2):c===127&&(l[2]=l[3]=0,l.writeUIntBE(a,4,6)),r.mask?(l[1]|=128,l[o-4]=n[0],l[o-3]=n[1],l[o-2]=n[2],l[o-1]=n[3],s?[l,e]:i?(GZe(e,n,l,o,a),[l]):(GZe(e,n,e,0,a),[l,e])):[l,e]}close(e,r,n,i){let o;if(e===void 0)o=GKt;else{if(typeof e!="number"||!WKt(e))throw new TypeError("First argument must be a valid error code number");if(r===void 0||!r.length)o=Buffer.allocUnsafe(2),o.writeUInt16BE(e,0);else{let a=Buffer.byteLength(r);if(a>123)throw new RangeError("The message must not be greater than 123 bytes");o=Buffer.allocUnsafe(2+a),o.writeUInt16BE(e,0),typeof r=="string"?o.write(r,2):o.set(r,2)}}let s={[Ku]:o.length,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._state!==Zd?this.enqueue([this.dispatch,o,!1,s,i]):this.sendFrame(t.frame(o,s),i)}ping(e,r,n){let i,o;if(typeof e=="string"?(i=Buffer.byteLength(e),o=!1):mE(e)?(i=e.size,o=!1):(e=c_(e),i=e.length,o=c_.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let s={[Ku]:i,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:9,readOnly:o,rsv1:!1};mE(e)?this._state!==Zd?this.enqueue([this.getBlobData,e,!1,s,n]):this.getBlobData(e,!1,s,n):this._state!==Zd?this.enqueue([this.dispatch,e,!1,s,n]):this.sendFrame(t.frame(e,s),n)}pong(e,r,n){let i,o;if(typeof e=="string"?(i=Buffer.byteLength(e),o=!1):mE(e)?(i=e.size,o=!1):(e=c_(e),i=e.length,o=c_.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let s={[Ku]:i,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:10,readOnly:o,rsv1:!1};mE(e)?this._state!==Zd?this.enqueue([this.getBlobData,e,!1,s,n]):this.getBlobData(e,!1,s,n):this._state!==Zd?this.enqueue([this.dispatch,e,!1,s,n]):this.sendFrame(t.frame(e,s),n)}send(e,r,n){let i=this._extensions[VZe.extensionName],o=r.binary?2:1,s=r.compress,a,c;typeof e=="string"?(a=Buffer.byteLength(e),c=!1):mE(e)?(a=e.size,c=!1):(e=c_(e),a=e.length,c=c_.readOnly),this._firstFragment?(this._firstFragment=!1,s&&i&&i.params[i._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(s=a>=i._threshold),this._compress=s):(s=!1,o=0),r.fin&&(this._firstFragment=!0);let l={[Ku]:a,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:c,rsv1:s};mE(e)?this._state!==Zd?this.enqueue([this.getBlobData,e,this._compress,l,n]):this.getBlobData(e,this._compress,l,n):this._state!==Zd?this.enqueue([this.dispatch,e,this._compress,l,n]):this.dispatch(e,this._compress,l,n)}getBlobData(e,r,n,i){this._bufferedBytes+=n[Ku],this._state=QKt,e.arrayBuffer().then(o=>{if(this._socket.destroyed){let a=new Error("The socket was closed while the blob was being read");process.nextTick(Ype,this,a,i);return}this._bufferedBytes-=n[Ku];let s=c_(o);r?this.dispatch(s,r,n,i):(this._state=Zd,this.sendFrame(t.frame(s,n),i),this.dequeue())}).catch(o=>{process.nextTick(XKt,this,o,i)})}dispatch(e,r,n,i){if(!r){this.sendFrame(t.frame(e,n),i);return}let o=this._extensions[VZe.extensionName];this._bufferedBytes+=n[Ku],this._state=KKt,o.compress(e,n.fin,(s,a)=>{if(this._socket.destroyed){let c=new Error("The socket was closed while data was being compressed");Ype(this,c,i);return}this._bufferedBytes-=n[Ku],this._state=Zd,n.readOnly=!1,this.sendFrame(t.frame(a,n),i),this.dequeue()})}dequeue(){for(;this._state===Zd&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][Ku],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][Ku],this._queue.push(e)}sendFrame(e,r){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],r),this._socket.uncork()):this._socket.write(e[0],r)}};jZe.exports=Xpe;function Ype(t,e,r){typeof r=="function"&&r(e);for(let n=0;n<t._queue.length;n++){let i=t._queue[n],o=i[i.length-1];typeof o=="function"&&o(e)}}function XKt(t,e,r){Ype(t,e,r),t.onerror(e)}});var eet=ze((R7n,ZZe)=>{"use strict";var{kForOnEventAttribute:gC,kListener:efe}=wh(),qZe=Symbol("kCode"),WZe=Symbol("kData"),JZe=Symbol("kError"),KZe=Symbol("kMessage"),QZe=Symbol("kReason"),gE=Symbol("kTarget"),XZe=Symbol("kType"),YZe=Symbol("kWasClean"),Th=class{constructor(e){this[gE]=null,this[XZe]=e}get target(){return this[gE]}get type(){return this[XZe]}};Object.defineProperty(Th.prototype,"target",{enumerable:!0});Object.defineProperty(Th.prototype,"type",{enumerable:!0});var u_=class extends Th{constructor(e,r={}){super(e),this[qZe]=r.code===void 0?0:r.code,this[QZe]=r.reason===void 0?"":r.reason,this[YZe]=r.wasClean===void 0?!1:r.wasClean}get code(){return this[qZe]}get reason(){return this[QZe]}get wasClean(){return this[YZe]}};Object.defineProperty(u_.prototype,"code",{enumerable:!0});Object.defineProperty(u_.prototype,"reason",{enumerable:!0});Object.defineProperty(u_.prototype,"wasClean",{enumerable:!0});var yE=class extends Th{constructor(e,r={}){super(e),this[JZe]=r.error===void 0?null:r.error,this[KZe]=r.message===void 0?"":r.message}get error(){return this[JZe]}get message(){return this[KZe]}};Object.defineProperty(yE.prototype,"error",{enumerable:!0});Object.defineProperty(yE.prototype,"message",{enumerable:!0});var yC=class extends Th{constructor(e,r={}){super(e),this[WZe]=r.data===void 0?null:r.data}get data(){return this[WZe]}};Object.defineProperty(yC.prototype,"data",{enumerable:!0});var YKt={addEventListener(t,e,r={}){for(let i of this.listeners(t))if(!r[gC]&&i[efe]===e&&!i[gC])return;let n;if(t==="message")n=function(o,s){let a=new yC("message",{data:s?o:o.toString()});a[gE]=this,X$(e,this,a)};else if(t==="close")n=function(o,s){let a=new u_("close",{code:o,reason:s.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});a[gE]=this,X$(e,this,a)};else if(t==="error")n=function(o){let s=new yE("error",{error:o,message:o.message});s[gE]=this,X$(e,this,s)};else if(t==="open")n=function(){let o=new Th("open");o[gE]=this,X$(e,this,o)};else return;n[gC]=!!r[gC],n[efe]=e,r.once?this.once(t,n):this.on(t,n)},removeEventListener(t,e){for(let r of this.listeners(t))if(r[efe]===e&&!r[gC]){this.removeListener(t,r);break}}};ZZe.exports={CloseEvent:u_,ErrorEvent:yE,Event:Th,EventTarget:YKt,MessageEvent:yC};function X$(t,e,r){typeof t=="object"&&t.handleEvent?t.handleEvent.call(t,r):t.call(e,r)}});var tfe=ze((I7n,tet)=>{"use strict";var{tokenChars:bC}=fE();function Of(t,e,r){t[e]===void 0?t[e]=[r]:t[e].push(r)}function ZKt(t){let e=Object.create(null),r=Object.create(null),n=!1,i=!1,o=!1,s,a,c=-1,l=-1,u=-1,d=0;for(;d<t.length;d++)if(l=t.charCodeAt(d),s===void 0)if(u===-1&&bC[l]===1)c===-1&&(c=d);else if(d!==0&&(l===32||l===9))u===-1&&c!==-1&&(u=d);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d);let f=t.slice(c,u);l===44?(Of(e,f,r),r=Object.create(null)):s=f,c=u=-1}else throw new SyntaxError(`Unexpected character at index ${d}`);else if(a===void 0)if(u===-1&&bC[l]===1)c===-1&&(c=d);else if(l===32||l===9)u===-1&&c!==-1&&(u=d);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d),Of(r,t.slice(c,u),!0),l===44&&(Of(e,s,r),r=Object.create(null),s=void 0),c=u=-1}else if(l===61&&c!==-1&&u===-1)a=t.slice(c,d),c=u=-1;else throw new SyntaxError(`Unexpected character at index ${d}`);else if(i){if(bC[l]!==1)throw new SyntaxError(`Unexpected character at index ${d}`);c===-1?c=d:n||(n=!0),i=!1}else if(o)if(bC[l]===1)c===-1&&(c=d);else if(l===34&&c!==-1)o=!1,u=d;else if(l===92)i=!0;else throw new SyntaxError(`Unexpected character at index ${d}`);else if(l===34&&t.charCodeAt(d-1)===61)o=!0;else if(u===-1&&bC[l]===1)c===-1&&(c=d);else if(c!==-1&&(l===32||l===9))u===-1&&(u=d);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d);let f=t.slice(c,u);n&&(f=f.replace(/\\/g,""),n=!1),Of(r,a,f),l===44&&(Of(e,s,r),r=Object.create(null),s=void 0),a=void 0,c=u=-1}else throw new SyntaxError(`Unexpected character at index ${d}`);if(c===-1||o||l===32||l===9)throw new SyntaxError("Unexpected end of input");u===-1&&(u=d);let p=t.slice(c,u);return s===void 0?Of(e,p,r):(a===void 0?Of(r,p,!0):n?Of(r,a,p.replace(/\\/g,"")):Of(r,a,p),Of(e,s,r)),e}function eQt(t){return Object.keys(t).map(e=>{let r=t[e];return Array.isArray(r)||(r=[r]),r.map(n=>[e].concat(Object.keys(n).map(i=>{let o=n[i];return Array.isArray(o)||(o=[o]),o.map(s=>s===!0?i:`${i}=${s}`).join("; ")})).join("; ")).join(", ")}).join(", ")}tet.exports={format:eQt,parse:ZKt}});var tU=ze((O7n,met)=>{"use strict";var tQt=yt("events"),rQt=yt("https"),nQt=yt("http"),iet=yt("net"),iQt=yt("tls"),{randomBytes:oQt,createHash:sQt}=yt("crypto"),{Duplex:C7n,Readable:N7n}=yt("stream"),{URL:rfe}=yt("url"),w1=hC(),aQt=Qpe(),cQt=Zpe(),{isBlob:lQt}=fE(),{BINARY_TYPES:ret,CLOSE_TIMEOUT:uQt,EMPTY_BUFFER:Y$,GUID:dQt,kForOnEventAttribute:nfe,kListener:pQt,kStatusCode:fQt,kWebSocket:cs,NOOP:oet}=wh(),{EventTarget:{addEventListener:mQt,removeEventListener:hQt}}=eet(),{format:gQt,parse:yQt}=tfe(),{toBuffer:bQt}=fC(),set=Symbol("kAborted"),ife=[8,13],Rh=["CONNECTING","OPEN","CLOSING","CLOSED"],vQt=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,bi=class t extends tQt{constructor(e,r,n){super(),this._binaryType=ret[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=Y$,this._closeTimer=null,this._errorEmitted=!1,this._extensions={},this._paused=!1,this._protocol="",this._readyState=t.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,r===void 0?r=[]:Array.isArray(r)||(typeof r=="object"&&r!==null?(n=r,r=[]):r=[r]),aet(this,e,r,n)):(this._autoPong=n.autoPong,this._closeTimeout=n.closeTimeout,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){ret.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,r,n){let i=new aQt({allowSynchronousEvents:n.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:n.maxPayload,skipUTF8Validation:n.skipUTF8Validation}),o=new cQt(e,this._extensions,n.generateMask);this._receiver=i,this._sender=o,this._socket=e,i[cs]=this,o[cs]=this,e[cs]=this,i.on("conclude",xQt),i.on("drain",wQt),i.on("error",AQt),i.on("message",EQt),i.on("ping",TQt),i.on("pong",RQt),o.onerror=IQt,e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),r.length>0&&e.unshift(r),e.on("close",det),e.on("data",eU),e.on("end",pet),e.on("error",fet),this._readyState=t.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=t.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[w1.extensionName]&&this._extensions[w1.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=t.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,r){if(this.readyState!==t.CLOSED){if(this.readyState===t.CONNECTING){_l(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===t.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=t.CLOSING,this._sender.close(e,r,!this._isServer,n=>{n||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),uet(this)}}pause(){this.readyState===t.CONNECTING||this.readyState===t.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,r,n){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(n=e,e=r=void 0):typeof r=="function"&&(n=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){ofe(this,e,n);return}r===void 0&&(r=!this._isServer),this._sender.ping(e||Y$,r,n)}pong(e,r,n){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(n=e,e=r=void 0):typeof r=="function"&&(n=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){ofe(this,e,n);return}r===void 0&&(r=!this._isServer),this._sender.pong(e||Y$,r,n)}resume(){this.readyState===t.CONNECTING||this.readyState===t.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,r,n){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof r=="function"&&(n=r,r={}),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){ofe(this,e,n);return}let i={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...r};this._extensions[w1.extensionName]||(i.compress=!1),this._sender.send(e||Y$,i,n)}terminate(){if(this.readyState!==t.CLOSED){if(this.readyState===t.CONNECTING){_l(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=t.CLOSING,this._socket.destroy())}}};Object.defineProperty(bi,"CONNECTING",{enumerable:!0,value:Rh.indexOf("CONNECTING")});Object.defineProperty(bi.prototype,"CONNECTING",{enumerable:!0,value:Rh.indexOf("CONNECTING")});Object.defineProperty(bi,"OPEN",{enumerable:!0,value:Rh.indexOf("OPEN")});Object.defineProperty(bi.prototype,"OPEN",{enumerable:!0,value:Rh.indexOf("OPEN")});Object.defineProperty(bi,"CLOSING",{enumerable:!0,value:Rh.indexOf("CLOSING")});Object.defineProperty(bi.prototype,"CLOSING",{enumerable:!0,value:Rh.indexOf("CLOSING")});Object.defineProperty(bi,"CLOSED",{enumerable:!0,value:Rh.indexOf("CLOSED")});Object.defineProperty(bi.prototype,"CLOSED",{enumerable:!0,value:Rh.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(t=>{Object.defineProperty(bi.prototype,t,{enumerable:!0})});["open","error","close","message"].forEach(t=>{Object.defineProperty(bi.prototype,`on${t}`,{enumerable:!0,get(){for(let e of this.listeners(t))if(e[nfe])return e[pQt];return null},set(e){for(let r of this.listeners(t))if(r[nfe]){this.removeListener(t,r);break}typeof e=="function"&&this.addEventListener(t,e,{[nfe]:!0})}})});bi.prototype.addEventListener=mQt;bi.prototype.removeEventListener=hQt;met.exports=bi;function aet(t,e,r,n){let i={allowSynchronousEvents:!0,autoPong:!0,closeTimeout:uQt,protocolVersion:ife[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...n,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(t._autoPong=i.autoPong,t._closeTimeout=i.closeTimeout,!ife.includes(i.protocolVersion))throw new RangeError(`Unsupported protocol version: ${i.protocolVersion} (supported versions: ${ife.join(", ")})`);let o;if(e instanceof rfe)o=e;else try{o=new rfe(e)}catch{throw new SyntaxError(`Invalid URL: ${e}`)}o.protocol==="http:"?o.protocol="ws:":o.protocol==="https:"&&(o.protocol="wss:"),t._url=o.href;let s=o.protocol==="wss:",a=o.protocol==="ws+unix:",c;if(o.protocol!=="ws:"&&!s&&!a?c=`The URL's protocol must be one of "ws:", "wss:", "http:", "https:", or "ws+unix:"`:a&&!o.pathname?c="The URL's pathname is empty":o.hash&&(c="The URL contains a fragment identifier"),c){let m=new SyntaxError(c);if(t._redirects===0)throw m;Z$(t,m);return}let l=s?443:80,u=oQt(16).toString("base64"),d=s?rQt.request:nQt.request,p=new Set,f;if(i.createConnection=i.createConnection||(s?SQt:_Qt),i.defaultPort=i.defaultPort||l,i.port=o.port||l,i.host=o.hostname.startsWith("[")?o.hostname.slice(1,-1):o.hostname,i.headers={...i.headers,"Sec-WebSocket-Version":i.protocolVersion,"Sec-WebSocket-Key":u,Connection:"Upgrade",Upgrade:"websocket"},i.path=o.pathname+o.search,i.timeout=i.handshakeTimeout,i.perMessageDeflate&&(f=new w1(i.perMessageDeflate!==!0?i.perMessageDeflate:{},!1,i.maxPayload),i.headers["Sec-WebSocket-Extensions"]=gQt({[w1.extensionName]:f.offer()})),r.length){for(let m of r){if(typeof m!="string"||!vQt.test(m)||p.has(m))throw new SyntaxError("An invalid or duplicated subprotocol was specified");p.add(m)}i.headers["Sec-WebSocket-Protocol"]=r.join(",")}if(i.origin&&(i.protocolVersion<13?i.headers["Sec-WebSocket-Origin"]=i.origin:i.headers.Origin=i.origin),(o.username||o.password)&&(i.auth=`${o.username}:${o.password}`),a){let m=i.path.split(":");i.socketPath=m[0],i.path=m[1]}let h;if(i.followRedirects){if(t._redirects===0){t._originalIpc=a,t._originalSecure=s,t._originalHostOrSocketPath=a?i.socketPath:o.host;let m=n&&n.headers;if(n={...n,headers:{}},m)for(let[g,y]of Object.entries(m))n.headers[g.toLowerCase()]=y}else if(t.listenerCount("redirect")===0){let m=a?t._originalIpc?i.socketPath===t._originalHostOrSocketPath:!1:t._originalIpc?!1:o.host===t._originalHostOrSocketPath;(!m||t._originalSecure&&!s)&&(delete i.headers.authorization,delete i.headers.cookie,m||delete i.headers.host,i.auth=void 0)}i.auth&&!n.headers.authorization&&(n.headers.authorization="Basic "+Buffer.from(i.auth).toString("base64")),h=t._req=d(i),t._redirects&&t.emit("redirect",t.url,h)}else h=t._req=d(i);i.timeout&&h.on("timeout",()=>{_l(t,h,"Opening handshake has timed out")}),h.on("error",m=>{h===null||h[set]||(h=t._req=null,Z$(t,m))}),h.on("response",m=>{let g=m.headers.location,y=m.statusCode;if(g&&i.followRedirects&&y>=300&&y<400){if(++t._redirects>i.maxRedirects){_l(t,h,"Maximum redirects exceeded");return}h.abort();let v;try{v=new rfe(g,e)}catch{let w=new SyntaxError(`Invalid URL: ${g}`);Z$(t,w);return}aet(t,v,r,n)}else t.emit("unexpected-response",h,m)||_l(t,h,`Unexpected server response: ${m.statusCode}`)}),h.on("upgrade",(m,g,y)=>{if(t.emit("upgrade",m),t.readyState!==bi.CONNECTING)return;h=t._req=null;let v=m.headers.upgrade;if(v===void 0||v.toLowerCase()!=="websocket"){_l(t,g,"Invalid Upgrade header");return}let S=sQt("sha1").update(u+dQt).digest("base64");if(m.headers["sec-websocket-accept"]!==S){_l(t,g,"Invalid Sec-WebSocket-Accept header");return}let w=m.headers["sec-websocket-protocol"],E;if(w!==void 0?p.size?p.has(w)||(E="Server sent an invalid subprotocol"):E="Server sent a subprotocol but none was requested":p.size&&(E="Server sent no subprotocol"),E){_l(t,g,E);return}w&&(t._protocol=w);let I=m.headers["sec-websocket-extensions"];if(I!==void 0){if(!f){_l(t,g,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let D;try{D=yQt(I)}catch{_l(t,g,"Invalid Sec-WebSocket-Extensions header");return}let k=Object.keys(D);if(k.length!==1||k[0]!==w1.extensionName){_l(t,g,"Server indicated an extension that was not requested");return}try{f.accept(D[w1.extensionName])}catch{_l(t,g,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[w1.extensionName]=f}t.setSocket(g,y,{allowSynchronousEvents:i.allowSynchronousEvents,generateMask:i.generateMask,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation})}),i.finishRequest?i.finishRequest(h,t):h.end()}function Z$(t,e){t._readyState=bi.CLOSING,t._errorEmitted=!0,t.emit("error",e),t.emitClose()}function _Qt(t){return t.path=t.socketPath,iet.connect(t)}function SQt(t){return t.path=void 0,!t.servername&&t.servername!==""&&(t.servername=iet.isIP(t.host)?"":t.host),iQt.connect(t)}function _l(t,e,r){t._readyState=bi.CLOSING;let n=new Error(r);Error.captureStackTrace(n,_l),e.setHeader?(e[set]=!0,e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),process.nextTick(Z$,t,n)):(e.destroy(n),e.once("error",t.emit.bind(t,"error")),e.once("close",t.emitClose.bind(t)))}function ofe(t,e,r){if(e){let n=lQt(e)?e.size:bQt(e).length;t._socket?t._sender._bufferedBytes+=n:t._bufferedAmount+=n}if(r){let n=new Error(`WebSocket is not open: readyState ${t.readyState} (${Rh[t.readyState]})`);process.nextTick(r,n)}}function xQt(t,e){let r=this[cs];r._closeFrameReceived=!0,r._closeMessage=e,r._closeCode=t,r._socket[cs]!==void 0&&(r._socket.removeListener("data",eU),process.nextTick(cet,r._socket),t===1005?r.close():r.close(t,e))}function wQt(){let t=this[cs];t.isPaused||t._socket.resume()}function AQt(t){let e=this[cs];e._socket[cs]!==void 0&&(e._socket.removeListener("data",eU),process.nextTick(cet,e._socket),e.close(t[fQt])),e._errorEmitted||(e._errorEmitted=!0,e.emit("error",t))}function net(){this[cs].emitClose()}function EQt(t,e){this[cs].emit("message",t,e)}function TQt(t){let e=this[cs];e._autoPong&&e.pong(t,!this._isServer,oet),e.emit("ping",t)}function RQt(t){this[cs].emit("pong",t)}function cet(t){t.resume()}function IQt(t){let e=this[cs];e.readyState!==bi.CLOSED&&(e.readyState===bi.OPEN&&(e._readyState=bi.CLOSING,uet(e)),this._socket.end(),e._errorEmitted||(e._errorEmitted=!0,e.emit("error",t)))}function uet(t){t._closeTimer=setTimeout(t._socket.destroy.bind(t._socket),t._closeTimeout)}function det(){let t=this[cs];if(this.removeListener("close",det),this.removeListener("data",eU),this.removeListener("end",pet),t._readyState=bi.CLOSING,!this._readableState.endEmitted&&!t._closeFrameReceived&&!t._receiver._writableState.errorEmitted&&this._readableState.length!==0){let e=this.read(this._readableState.length);t._receiver.write(e)}t._receiver.end(),this[cs]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",net),t._receiver.on("finish",net))}function eU(t){this[cs]._receiver.write(t)||this.pause()}function pet(){let t=this[cs];t._readyState=bi.CLOSING,t._receiver.end(),this.end()}function fet(){let t=this[cs];this.removeListener("error",fet),this.on("error",oet),t&&(t._readyState=bi.CLOSING,this.destroy())}});var bet=ze((k7n,yet)=>{"use strict";var P7n=tU(),{Duplex:CQt}=yt("stream");function het(t){t.emit("close")}function NQt(){!this.destroyed&&this._writableState.finished&&this.destroy()}function get(t){this.removeListener("error",get),this.destroy(),this.listenerCount("error")===0&&this.emit("error",t)}function OQt(t,e){let r=!0,n=new CQt({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return t.on("message",function(o,s){let a=!s&&n._readableState.objectMode?o.toString():o;n.push(a)||t.pause()}),t.once("error",function(o){n.destroyed||(r=!1,n.destroy(o))}),t.once("close",function(){n.destroyed||n.push(null)}),n._destroy=function(i,o){if(t.readyState===t.CLOSED){o(i),process.nextTick(het,n);return}let s=!1;t.once("error",function(c){s=!0,o(c)}),t.once("close",function(){s||o(i),process.nextTick(het,n)}),r&&t.terminate()},n._final=function(i){if(t.readyState===t.CONNECTING){t.once("open",function(){n._final(i)});return}t._socket!==null&&(t._socket._writableState.finished?(i(),n._readableState.endEmitted&&n.destroy()):(t._socket.once("finish",function(){i()}),t.close()))},n._read=function(){t.isPaused&&t.resume()},n._write=function(i,o,s){if(t.readyState===t.CONNECTING){t.once("open",function(){n._write(i,o,s)});return}t.send(i,s)},n.on("end",NQt),n.on("error",get),n}yet.exports=OQt});var _et=ze((D7n,vet)=>{"use strict";var{tokenChars:PQt}=fE();function kQt(t){let e=new Set,r=-1,n=-1,i=0;for(i;i<t.length;i++){let s=t.charCodeAt(i);if(n===-1&&PQt[s]===1)r===-1&&(r=i);else if(i!==0&&(s===32||s===9))n===-1&&r!==-1&&(n=i);else if(s===44){if(r===-1)throw new SyntaxError(`Unexpected character at index ${i}`);n===-1&&(n=i);let a=t.slice(r,n);if(e.has(a))throw new SyntaxError(`The "${a}" subprotocol is duplicated`);e.add(a),r=n=-1}else throw new SyntaxError(`Unexpected character at index ${i}`)}if(r===-1||n!==-1)throw new SyntaxError("Unexpected end of input");let o=t.slice(r,i);if(e.has(o))throw new SyntaxError(`The "${o}" subprotocol is duplicated`);return e.add(o),e}vet.exports={parse:kQt}});var Iet=ze((L7n,Ret)=>{"use strict";var DQt=yt("events"),rU=yt("http"),{Duplex:M7n}=yt("stream"),{createHash:MQt}=yt("crypto"),xet=tfe(),d_=hC(),LQt=_et(),BQt=tU(),{CLOSE_TIMEOUT:$Qt,GUID:UQt,kWebSocket:FQt}=wh(),zQt=/^[+/0-9A-Za-z]{22}==$/,wet=0,Aet=1,Tet=2,sfe=class extends DQt{constructor(e,r){if(super(),e={allowSynchronousEvents:!0,autoPong:!0,maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,closeTimeout:$Qt,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:BQt,...e},e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=rU.createServer((n,i)=>{let o=rU.STATUS_CODES[426];i.writeHead(426,{"Content-Length":o.length,"Content-Type":"text/plain"}),i.end(o)}),this._server.listen(e.port,e.host,e.backlog,r)):e.server&&(this._server=e.server),this._server){let n=this.emit.bind(this,"connection");this._removeListeners=HQt(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(i,o,s)=>{this.handleUpgrade(i,o,s,n)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=wet}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===Tet){e&&this.once("close",()=>{e(new Error("The server is not running"))}),process.nextTick(vC,this);return}if(e&&this.once("close",e),this._state!==Aet)if(this._state=Aet,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(vC,this):process.nextTick(vC,this);else{let r=this._server;this._removeListeners(),this._removeListeners=this._server=null,r.close(()=>{vC(this)})}}shouldHandle(e){if(this.options.path){let r=e.url.indexOf("?");if((r!==-1?e.url.slice(0,r):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,r,n,i){r.on("error",Eet);let o=e.headers["sec-websocket-key"],s=e.headers.upgrade,a=+e.headers["sec-websocket-version"];if(e.method!=="GET"){p_(this,e,r,405,"Invalid HTTP method");return}if(s===void 0||s.toLowerCase()!=="websocket"){p_(this,e,r,400,"Invalid Upgrade header");return}if(o===void 0||!zQt.test(o)){p_(this,e,r,400,"Missing or invalid Sec-WebSocket-Key header");return}if(a!==13&&a!==8){p_(this,e,r,400,"Missing or invalid Sec-WebSocket-Version header",{"Sec-WebSocket-Version":"13, 8"});return}if(!this.shouldHandle(e)){_C(r,400);return}let c=e.headers["sec-websocket-protocol"],l=new Set;if(c!==void 0)try{l=LQt.parse(c)}catch{p_(this,e,r,400,"Invalid Sec-WebSocket-Protocol header");return}let u=e.headers["sec-websocket-extensions"],d={};if(this.options.perMessageDeflate&&u!==void 0){let p=new d_(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let f=xet.parse(u);f[d_.extensionName]&&(p.accept(f[d_.extensionName]),d[d_.extensionName]=p)}catch{p_(this,e,r,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let p={origin:e.headers[`${a===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(p,(f,h,m,g)=>{if(!f)return _C(r,h||401,m,g);this.completeUpgrade(d,o,l,e,r,n,i)});return}if(!this.options.verifyClient(p))return _C(r,401)}this.completeUpgrade(d,o,l,e,r,n,i)}completeUpgrade(e,r,n,i,o,s,a){if(!o.readable||!o.writable)return o.destroy();if(o[FQt])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>wet)return _C(o,503);let l=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${MQt("sha1").update(r+UQt).digest("base64")}`],u=new this.options.WebSocket(null,void 0,this.options);if(n.size){let d=this.options.handleProtocols?this.options.handleProtocols(n,i):n.values().next().value;d&&(l.push(`Sec-WebSocket-Protocol: ${d}`),u._protocol=d)}if(e[d_.extensionName]){let d=e[d_.extensionName].params,p=xet.format({[d_.extensionName]:[d]});l.push(`Sec-WebSocket-Extensions: ${p}`),u._extensions=e}this.emit("headers",l,i),o.write(l.concat(`\r
`).join(`\r
`)),o.removeListener("error",Eet),u.setSocket(o,s,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(u),u.on("close",()=>{this.clients.delete(u),this._shouldEmitClose&&!this.clients.size&&process.nextTick(vC,this)})),a(u,i)}};Ret.exports=sfe;function HQt(t,e){for(let r of Object.keys(e))t.on(r,e[r]);return function(){for(let n of Object.keys(e))t.removeListener(n,e[n])}}function vC(t){t._state=Tet,t.emit("close")}function Eet(){this.destroy()}function _C(t,e,r,n){r=r||rU.STATUS_CODES[e],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...n},t.once("finish",t.destroy),t.end(`HTTP/1.1 ${e} ${rU.STATUS_CODES[e]}\r
`+Object.keys(n).map(i=>`${i}: ${n[i]}`).join(`\r
`)+`\r
\r
`+r)}function p_(t,e,r,n,i,o){if(t.listenerCount("wsClientError")){let s=new Error(i);Error.captureStackTrace(s,p_),t.emit("wsClientError",s,r,e)}else _C(r,n,i,o)}});var VQt,GQt,jQt,qQt,Cet,Net=b(()=>{"use strict";VQt=di(bet(),1),GQt=di(Qpe(),1),jQt=di(Zpe(),1),qQt=di(tU(),1),Cet=di(Iet(),1)});function Pf(t){return t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),"")}var Ih,iU,ffe=b(()=>{"use strict";Ih=(t,e)=>{let r=/^[0-9A-Fa-f]+$/;if(!t||t.length%2!=0||!r.test(t))throw new Error(`cannot create uint8array from invalid hex string: "${t}"`);let n=new Uint8Array(t.match(/../g).map(o=>parseInt(o,16)));if(!e)return n;if(t.length/2>e)throw new Error("hex value cannot fit in a buffer of "+e+" byte(s)");let i=new Uint8Array(e);return i.set(n,e-n.length),i},iU=(t,e)=>{let r=e-t.length;if(r>0){let n=new Uint8Array(r).fill(0);return new Uint8Array([...n,...t])}if(r<0){let n=r*-1,i=0;for(let o=0;o<n&&o<t.length;o++)t[o]===0&&i++;if(i!==n)throw new Error(`invalid number of starting zeroes. Expected number of zeroes: ${n}. Found: ${i}.`);return t.slice(n,n+e)}return t}});function bE(t){let e=ZQt(t);return $et(e)}function mfe(t,e){let r=t.padStart(Math.ceil(t.length/2)*2,"0"),n=Ih(r,e);return bE(n.reduce((i,o)=>i+String.fromCharCode(o),""))}function $et(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function ZQt(t){if(arguments.length===0)throw new TypeError("1 argument required, but only 0 present.");let e;for(t=`${t}`,e=0;e<t.length;e++)if(t.charCodeAt(e)>255)throw new Error(`InvalidCharacterError: found code point greater than 255:${t.charCodeAt(e)} at position ${e}`);let r="";for(e=0;e<t.length;e+=3){let n=[void 0,void 0,void 0,void 0];n[0]=t.charCodeAt(e)>>2,n[1]=(t.charCodeAt(e)&3)<<4,t.length>e+1&&(n[1]|=t.charCodeAt(e+1)>>4,n[2]=(t.charCodeAt(e+1)&15)<<2),t.length>e+2&&(n[2]|=t.charCodeAt(e+2)>>6,n[3]=t.charCodeAt(e+2)&63);for(let i=0;i<n.length;i++)typeof n[i]>"u"?r+="=":r+=eXt(n[i])}return r}function eXt(t){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";if(t>=0&&t<64)return e[t]}var Uet=b(()=>{"use strict";ffe()});var Fet=b(()=>{"use strict"});function tXt(t){if(t.length>=255)throw new TypeError("Alphabet too long");let e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){let u=t.charAt(l),d=u.charCodeAt(0);if(e[d]!==255)throw new TypeError(u+" is ambiguous");e[d]=l}let r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),o=Math.log(256)/Math.log(r);function s(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,d=0,p=0,f=l.length;for(;p!==f&&l[p]===0;)p++,u++;let h=(f-p)*o+1>>>0,m=new Uint8Array(h);for(;p!==f;){let v=l[p],S=0;for(let w=h-1;(v!==0||S<d)&&w!==-1;w--,S++)v+=256*m[w]>>>0,m[w]=v%r>>>0,v=v/r>>>0;if(v!==0)throw new Error("Non-zero carry");d=S,p++}let g=h-d;for(;g!==h&&m[g]===0;)g++;let y=n.repeat(u);for(;g<h;++g)y+=t.charAt(m[g]);return y}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,d=0,p=0;for(;l[u]===n;)d++,u++;let f=(l.length-u)*i+1>>>0,h=new Uint8Array(f);for(;u<l.length;){let v=l.charCodeAt(u);if(v>255)return;let S=e[v];if(S===255)return;let w=0;for(let E=f-1;(S!==0||w<p)&&E!==-1;E--,w++)S+=r*h[E]>>>0,h[E]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");p=w,u++}let m=f-p;for(;m!==f&&h[m]===0;)m++;let g=new Uint8Array(d+(f-m)),y=d;for(;m!==f;)g[y++]=h[m++];return g}function c(l){let u=a(l);if(u)return u;throw new Error("Non-base"+r+" character")}return{encode:s,decodeUnsafe:a,decode:c}}var zet,Het=b(()=>{"use strict";zet=tXt});var hfe={};Nr(hfe,{default:()=>f_});var rXt,f_,oU=b(()=>{"use strict";Het();rXt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",f_=zet(rXt)});function nXt(t){let e=t;for(;e&&!(e.encode&&e.decode&&e.decodeUnsafe)&&e.default;)e=e.default;return e}var Vet,Get=b(()=>{"use strict";oU();Vet=nXt(hfe)});import*as Ch from"node:crypto";var m_,jet=b(()=>{"use strict";m_=Ch&&typeof Ch=="object"&&"webcrypto"in Ch?Ch.webcrypto:Ch&&typeof Ch=="object"&&"randomBytes"in Ch?Ch:void 0});function Oh(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function A1(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Es(t,...e){if(!Oh(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function sU(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");A1(t.outputLen),A1(t.blockLen)}function Ph(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function aU(t,e){Es(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Wet(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Qu(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function cU(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ep(t,e){return t<<32-e|t>>>e}function oXt(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function sXt(t){for(let e=0;e<t.length;e++)t[e]=oXt(t[e]);return t}function Xu(t){if(Es(t),Jet)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=aXt[t[r]];return e}function qet(t){if(t>=Nh._0&&t<=Nh._9)return t-Nh._0;if(t>=Nh.A&&t<=Nh.F)return t-(Nh.A-10);if(t>=Nh.a&&t<=Nh.f)return t-(Nh.a-10)}function h_(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Jet)return Uint8Array.fromHex(t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let s=qet(t.charCodeAt(o)),a=qet(t.charCodeAt(o+1));if(s===void 0||a===void 0){let c=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}n[i]=s*16+a}return n}function yfe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function g_(t){return typeof t=="string"&&(t=yfe(t)),Es(t),t}function La(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];Es(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}function vE(t){let e=n=>t().update(g_(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function _E(t=32){if(m_&&typeof m_.getRandomValues=="function")return m_.getRandomValues(new Uint8Array(t));if(m_&&typeof m_.randomBytes=="function")return Uint8Array.from(m_.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}var iXt,gfe,Jet,aXt,Nh,E1,kh=b(()=>{"use strict";jet();iXt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;gfe=iXt?t=>t:sXt,Jet=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",aXt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));Nh={_0:48,_9:57,A:65,F:70,a:97,f:102};E1=class{}});function cXt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,l=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+l,a,n)}function Ket(t,e,r){return t&e^~t&r}function Qet(t,e,r){return t&e^t&r^e&r}var SC,Dh,Ts,Rs,Xet=b(()=>{"use strict";kh();SC=class extends E1{constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=cU(this.buffer)}update(e){Ph(this),e=g_(e),Es(e);let{view:r,buffer:n,blockLen:i}=this,o=e.length;for(let s=0;s<o;){let a=Math.min(i-this.pos,o-s);if(a===i){let c=cU(e);for(;i<=o-s;s+=i)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ph(this),aU(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,Qu(this.buffer.subarray(s)),this.padOffset>i-s&&(this.process(n,0),s=0);for(let d=s;d<i;d++)r[d]=0;cXt(n,i-8,BigInt(this.length*8),o),this.process(n,0);let a=cU(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return e.destroyed=s,e.finished=o,e.length=i,e.pos=a,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}},Dh=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ts=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Rs=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209])});function lXt(t,e=!1){return e?{h:Number(t&lU),l:Number(t>>Yet&lU)}:{h:Number(t>>Yet&lU)|0,l:Number(t&lU)|0}}function uU(t,e=!1){let r=t.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let o=0;o<r;o++){let{h:s,l:a}=lXt(t[o],e);[n[o],i[o]]=[s,a]}return[n,i]}function kf(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var lU,Yet,bfe,vfe,y_,b_,xC,wC,Zet,ett,ttt,rtt,ntt,itt,ott,stt,att,ctt,_fe=b(()=>{"use strict";lU=BigInt(4294967295),Yet=BigInt(32);bfe=(t,e,r)=>t>>>r,vfe=(t,e,r)=>t<<32-r|e>>>r,y_=(t,e,r)=>t>>>r|e<<32-r,b_=(t,e,r)=>t<<32-r|e>>>r,xC=(t,e,r)=>t<<64-r|e>>>r-32,wC=(t,e,r)=>t>>>r-32|e<<64-r,Zet=(t,e,r)=>t<<r|e>>>32-r,ett=(t,e,r)=>e<<r|t>>>32-r,ttt=(t,e,r)=>e<<r-32|t>>>64-r,rtt=(t,e,r)=>t<<r-32|e>>>64-r;ntt=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),itt=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,ott=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),stt=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,att=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),ctt=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0});var dXt,T1,dU,ltt,pXt,fXt,R1,I1,pU,Sfe,SE,fU,utt,AC=b(()=>{"use strict";Xet();_fe();kh();dXt=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),T1=new Uint32Array(64),dU=class extends SC{constructor(e=32){super(64,e,8,!1),this.A=Dh[0]|0,this.B=Dh[1]|0,this.C=Dh[2]|0,this.D=Dh[3]|0,this.E=Dh[4]|0,this.F=Dh[5]|0,this.G=Dh[6]|0,this.H=Dh[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:a,H:c}=this;return[e,r,n,i,o,s,a,c]}set(e,r,n,i,o,s,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,r){for(let d=0;d<16;d++,r+=4)T1[d]=e.getUint32(r,!1);for(let d=16;d<64;d++){let p=T1[d-15],f=T1[d-2],h=ep(p,7)^ep(p,18)^p>>>3,m=ep(f,17)^ep(f,19)^f>>>10;T1[d]=m+T1[d-7]+h+T1[d-16]|0}let{A:n,B:i,C:o,D:s,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){let p=ep(a,6)^ep(a,11)^ep(a,25),f=u+p+Ket(a,c,l)+dXt[d]+T1[d]|0,m=(ep(n,2)^ep(n,13)^ep(n,22))+Qet(n,i,o)|0;u=l,l=c,c=a,a=s+f|0,s=o,o=i,i=n,n=f+m|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,i,o,s,a,c,l,u)}roundClean(){Qu(T1)}destroy(){this.set(0,0,0,0,0,0,0,0),Qu(this.buffer)}},ltt=uU(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),pXt=ltt[0],fXt=ltt[1],R1=new Uint32Array(80),I1=new Uint32Array(80),pU=class extends SC{constructor(e=64){super(128,e,16,!1),this.Ah=Rs[0]|0,this.Al=Rs[1]|0,this.Bh=Rs[2]|0,this.Bl=Rs[3]|0,this.Ch=Rs[4]|0,this.Cl=Rs[5]|0,this.Dh=Rs[6]|0,this.Dl=Rs[7]|0,this.Eh=Rs[8]|0,this.El=Rs[9]|0,this.Fh=Rs[10]|0,this.Fl=Rs[11]|0,this.Gh=Rs[12]|0,this.Gl=Rs[13]|0,this.Hh=Rs[14]|0,this.Hl=Rs[15]|0}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:p,Gh:f,Gl:h,Hh:m,Hl:g}=this;return[e,r,n,i,o,s,a,c,l,u,d,p,f,h,m,g]}set(e,r,n,i,o,s,a,c,l,u,d,p,f,h,m,g){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=p|0,this.Gh=f|0,this.Gl=h|0,this.Hh=m|0,this.Hl=g|0}process(e,r){for(let S=0;S<16;S++,r+=4)R1[S]=e.getUint32(r),I1[S]=e.getUint32(r+=4);for(let S=16;S<80;S++){let w=R1[S-15]|0,E=I1[S-15]|0,I=y_(w,E,1)^y_(w,E,8)^bfe(w,E,7),D=b_(w,E,1)^b_(w,E,8)^vfe(w,E,7),k=R1[S-2]|0,P=I1[S-2]|0,$=y_(k,P,19)^xC(k,P,61)^bfe(k,P,6),H=b_(k,P,19)^wC(k,P,61)^vfe(k,P,6),W=ott(D,H,I1[S-7],I1[S-16]),N=stt(W,I,$,R1[S-7],R1[S-16]);R1[S]=N|0,I1[S]=W|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:p,Fh:f,Fl:h,Gh:m,Gl:g,Hh:y,Hl:v}=this;for(let S=0;S<80;S++){let w=y_(d,p,14)^y_(d,p,18)^xC(d,p,41),E=b_(d,p,14)^b_(d,p,18)^wC(d,p,41),I=d&f^~d&m,D=p&h^~p&g,k=att(v,E,D,fXt[S],I1[S]),P=ctt(k,y,w,I,pXt[S],R1[S]),$=k|0,H=y_(n,i,28)^xC(n,i,34)^xC(n,i,39),W=b_(n,i,28)^wC(n,i,34)^wC(n,i,39),N=n&o^n&a^o&a,_=i&s^i&c^s&c;y=m|0,v=g|0,m=f|0,g=h|0,f=d|0,h=p|0,{h:d,l:p}=kf(l|0,u|0,P|0,$|0),l=a|0,u=c|0,a=o|0,c=s|0,o=n|0,s=i|0;let x=ntt($,W,_);n=itt(x,P,H,N),i=x|0}({h:n,l:i}=kf(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=kf(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l:c}=kf(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=kf(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:p}=kf(this.Eh|0,this.El|0,d|0,p|0),{h:f,l:h}=kf(this.Fh|0,this.Fl|0,f|0,h|0),{h:m,l:g}=kf(this.Gh|0,this.Gl|0,m|0,g|0),{h:y,l:v}=kf(this.Hh|0,this.Hl|0,y|0,v|0),this.set(n,i,o,s,a,c,l,u,d,p,f,h,m,g,y,v)}roundClean(){Qu(R1,I1)}destroy(){Qu(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Sfe=class extends pU{constructor(){super(48),this.Ah=Ts[0]|0,this.Al=Ts[1]|0,this.Bh=Ts[2]|0,this.Bl=Ts[3]|0,this.Ch=Ts[4]|0,this.Cl=Ts[5]|0,this.Dh=Ts[6]|0,this.Dl=Ts[7]|0,this.Eh=Ts[8]|0,this.El=Ts[9]|0,this.Fh=Ts[10]|0,this.Fl=Ts[11]|0,this.Gh=Ts[12]|0,this.Gl=Ts[13]|0,this.Hh=Ts[14]|0,this.Hl=Ts[15]|0}},SE=vE(()=>new dU),fU=vE(()=>new pU),utt=vE(()=>new Sfe)});var xE,xfe=b(()=>{"use strict";AC();xE=SE});function dtt(t){function e(o){var s=Uint8Array.from(o),a=t(s),c=s.length+4,l=new Uint8Array(c);return l.set(s,0),l.set(a.subarray(0,4),s.length),f_.encode(l)}function r(o){var s=o.slice(0,-4),a=o.slice(-4),c=t(s);if(!(a[0]^c[0]|a[1]^c[1]|a[2]^c[2]|a[3]^c[3]))return s}function n(o){var s=f_.decodeUnsafe(o);if(s!=null)return r(s)}function i(o){var s=f_.decode(o),a=r(s);if(a==null)throw new Error("Invalid checksum");return a}return{encode:e,decode:i,decodeUnsafe:n}}var ptt=b(()=>{"use strict";oU()});var wfe={};Nr(wfe,{default:()=>hXt});function mXt(t){return xE(xE(t))}var hXt,ftt=b(()=>{"use strict";xfe();ptt();hXt=dtt(mXt)});function gXt(t){let e=t;for(;e&&!(e.encode&&e.decode&&e.decodeUnsafe)&&e.default;)e=e.default;return e}var mtt,htt=b(()=>{"use strict";ftt();mtt=gXt(wfe)});var gtt,Df=b(()=>{"use strict";Uet();Fet();ffe();Get();htt();gtt=32});var mU,Afe,ytt=b(()=>{"use strict";kh();mU=class extends E1{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,sU(e);let n=g_(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),Qu(o)}update(e){return Ph(this),this.iHash.update(e),this}digestInto(e){Ph(this),Es(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Afe=(t,e,r)=>new mU(t,e).update(r).digest();Afe.create=(t,e)=>new mU(t,e)});var wE,hU=b(()=>{"use strict";wE=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"]});var btt,vtt,Efe=b(()=>{"use strict";btt=(function(){function t(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return t.prototype.resize_if_necessary=function(e){if(this.buffer_size-this.offset<e){this.buffer_size=Math.max(this.buffer_size*2,this.buffer_size+e);var r=new ArrayBuffer(this.buffer_size);new Uint8Array(r).set(new Uint8Array(this.buffer)),this.buffer=r,this.view=new DataView(r)}},t.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},t.prototype.store_value=function(e,r){var n=r.substring(1),i=parseInt(n)/8;this.resize_if_necessary(i);var o=r[0]==="f"?"setFloat".concat(n):r[0]==="i"?"setInt".concat(n):"setUint".concat(n);this.view[o](this.offset,e,!0),this.offset+=i},t.prototype.store_bytes=function(e){this.resize_if_necessary(e.length),new Uint8Array(this.buffer).set(new Uint8Array(e),this.offset),this.offset+=e.length},t})(),vtt=(function(){function t(e){this.offset=0,this.buffer_size=e.length,this.buffer=new ArrayBuffer(e.length),new Uint8Array(this.buffer).set(e),this.view=new DataView(this.buffer)}return t.prototype.assert_enough_buffer=function(e){if(this.offset+e>this.buffer.byteLength)throw new Error("Error in schema, the buffer is smaller than expected")},t.prototype.consume_value=function(e){var r=e.substring(1),n=parseInt(r)/8;this.assert_enough_buffer(n);var i=e[0]==="f"?"getFloat".concat(r):e[0]==="i"?"getInt".concat(r):"getUint".concat(r),o=this.view[i](this.offset,!0);return this.offset+=n,o},t.prototype.consume_bytes=function(e){this.assert_enough_buffer(e);var r=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,r},t})()});function _tt(t){return Array.isArray(t)||!!t&&typeof t=="object"&&"length"in t&&typeof t.length=="number"&&(t.length===0||t.length>0&&t.length-1 in t)}function v_(t,e,r){if(typeof t!==e)throw new Error("Expected ".concat(e," not ").concat(typeof t,"(").concat(t,") at ").concat(r.join(".")))}function Stt(t,e){var r=["number","string","bigint","boolean"].includes(typeof t),n=typeof t=="object"&&t!==null&&"toString"in t;if(!r&&!n)throw new Error("Expected bigint, number, boolean or string not ".concat(typeof t,"(").concat(t,") at ").concat(e.join(".")))}function Tfe(t,e,r){if(t!==e)throw new Error("Array length ".concat(t," does not match schema length ").concat(e," at ").concat(r.join(".")))}function xtt(t,e){if(typeof t!="object"||t===null)throw new Error("Expected object not ".concat(typeof t,"(").concat(t,") at ").concat(e.join(".")))}var bXt,MDn,LDn,Rfe=b(()=>{"use strict";hU();bXt=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();MDn=wE.concat(["bool","string"]),LDn=(function(t){bXt(e,t);function e(r,n){var i="Invalid schema: ".concat(JSON.stringify(r)," expected ").concat(n);return t.call(this,i)||this}return e})(Error)});var vXt,Att=b(()=>{"use strict";hU();Efe();Rfe();vXt=(function(){function t(e){this.encoded=new btt,this.fieldPath=["value"],this.checkTypes=e}return t.prototype.encode=function(e,r){return this.encode_value(e,r),this.encoded.get_used_buffer()},t.prototype.encode_value=function(e,r){if(typeof r=="string"){if(wE.includes(r))return this.encode_integer(e,r);if(r==="string")return this.encode_string(e);if(r==="bool")return this.encode_boolean(e)}if(typeof r=="object"){if("option"in r)return this.encode_option(e,r);if("enum"in r)return this.encode_enum(e,r);if("array"in r)return this.encode_array(e,r);if("set"in r)return this.encode_set(e,r);if("map"in r)return this.encode_map(e,r);if("struct"in r)return this.encode_struct(e,r)}},t.prototype.encode_integer=function(e,r){var n=parseInt(r.substring(1));n<=32||r=="f64"?(this.checkTypes&&v_(e,"number",this.fieldPath),this.encoded.store_value(e,r)):(this.checkTypes&&Stt(e,this.fieldPath),this.encode_bigint(BigInt(e),n))},t.prototype.encode_bigint=function(e,r){for(var n=r/8,i=new Uint8Array(n),o=0;o<n;o++)i[o]=Number(e&BigInt(255)),e=e>>BigInt(8);this.encoded.store_bytes(new Uint8Array(i))},t.prototype.encode_string=function(e){this.checkTypes&&v_(e,"string",this.fieldPath);for(var r=e,n=[],i=0;i<r.length;i++){var o=r.charCodeAt(i);o<128?n.push(o):o<2048?n.push(192|o>>6,128|o&63):o<55296||o>=57344?n.push(224|o>>12,128|o>>6&63,128|o&63):(i++,o=65536+((o&1023)<<10|r.charCodeAt(i)&1023),n.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|o&63))}this.encoded.store_value(n.length,"u32"),this.encoded.store_bytes(new Uint8Array(n))},t.prototype.encode_boolean=function(e){this.checkTypes&&v_(e,"boolean",this.fieldPath),this.encoded.store_value(e?1:0,"u8")},t.prototype.encode_option=function(e,r){e==null?this.encoded.store_value(0,"u8"):(this.encoded.store_value(1,"u8"),this.encode_value(e,r.option))},t.prototype.encode_enum=function(e,r){this.checkTypes&&xtt(e,this.fieldPath);for(var n=Object.keys(e)[0],i=0;i<r.enum.length;i++){var o=r.enum[i];if(n===Object.keys(o.struct)[0])return this.encoded.store_value(i,"u8"),this.encode_struct(e,o)}throw new Error("Enum key (".concat(n,") not found in enum schema: ").concat(JSON.stringify(r)," at ").concat(this.fieldPath.join(".")))},t.prototype.encode_array=function(e,r){if(_tt(e))return this.encode_arraylike(e,r);if(e instanceof ArrayBuffer)return this.encode_buffer(e,r);throw new Error("Expected Array-like not ".concat(typeof e,"(").concat(e,") at ").concat(this.fieldPath.join(".")))},t.prototype.encode_arraylike=function(e,r){r.array.len?Tfe(e.length,r.array.len,this.fieldPath):this.encoded.store_value(e.length,"u32");for(var n=0;n<e.length;n++)this.encode_value(e[n],r.array.type)},t.prototype.encode_buffer=function(e,r){r.array.len?Tfe(e.byteLength,r.array.len,this.fieldPath):this.encoded.store_value(e.byteLength,"u32"),this.encoded.store_bytes(new Uint8Array(e))},t.prototype.encode_set=function(e,r){this.checkTypes&&v_(e,"object",this.fieldPath);var n=e instanceof Set,i=n?Array.from(e.values()):Object.values(e);this.encoded.store_value(i.length,"u32");for(var o=0,s=i;o<s.length;o++){var a=s[o];this.encode_value(a,r.set)}},t.prototype.encode_map=function(e,r){this.checkTypes&&v_(e,"object",this.fieldPath);var n=e instanceof Map,i=n?Array.from(e.keys()):Object.keys(e);this.encoded.store_value(i.length,"u32");for(var o=0,s=i;o<s.length;o++){var a=s[o];this.encode_value(a,r.map.key),this.encode_value(n?e.get(a):e[a],r.map.value)}},t.prototype.encode_struct=function(e,r){this.checkTypes&&v_(e,"object",this.fieldPath);for(var n=0,i=Object.keys(r.struct);n<i.length;n++){var o=i[n];this.fieldPath.push(o),this.encode_value(e[o],r.struct[o]),this.fieldPath.pop()}},t})()});var _Xt,Ett=b(()=>{"use strict";hU();Efe();_Xt=(function(){function t(e){this.buffer=new vtt(e)}return t.prototype.decode=function(e){return this.decode_value(e)},t.prototype.decode_value=function(e){if(typeof e=="string"){if(wE.includes(e))return this.decode_integer(e);if(e==="string")return this.decode_string();if(e==="bool")return this.decode_boolean()}if(typeof e=="object"){if("option"in e)return this.decode_option(e);if("enum"in e)return this.decode_enum(e);if("array"in e)return this.decode_array(e);if("set"in e)return this.decode_set(e);if("map"in e)return this.decode_map(e);if("struct"in e)return this.decode_struct(e)}throw new Error("Unsupported type: ".concat(e))},t.prototype.decode_integer=function(e){var r=parseInt(e.substring(1));return r<=32||e=="f64"?this.buffer.consume_value(e):this.decode_bigint(r,e.startsWith("i"))},t.prototype.decode_bigint=function(e,r){r===void 0&&(r=!1);var n=e/8,i=new Uint8Array(this.buffer.consume_bytes(n)),o=i.reduceRight(function(s,a){return s+a.toString(16).padStart(2,"0")},"");return r&&i[n-1]?BigInt.asIntN(e,BigInt("0x".concat(o))):BigInt("0x".concat(o))},t.prototype.decode_string=function(){for(var e=this.decode_integer("u32"),r=new Uint8Array(this.buffer.consume_bytes(e)),n=[],i=0;i<e;++i){var o=r[i];if(o<128)n.push(o);else if(o<224)n.push((o&31)<<6|r[++i]&63);else if(o<240)n.push((o&15)<<12|(r[++i]&63)<<6|r[++i]&63);else{var s=(o&7)<<18|(r[++i]&63)<<12|(r[++i]&63)<<6|r[++i]&63;n.push(s)}}return String.fromCodePoint.apply(String,n)},t.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},t.prototype.decode_option=function(e){var r=this.buffer.consume_value("u8");if(r===1)return this.decode_value(e.option);if(r!==0)throw new Error("Invalid option ".concat(r));return null},t.prototype.decode_enum=function(e){var r,n=this.buffer.consume_value("u8");if(n>e.enum.length)throw new Error("Enum option ".concat(n," is not available"));var i=e.enum[n].struct,o=Object.keys(i)[0];return r={},r[o]=this.decode_value(i[o]),r},t.prototype.decode_array=function(e){for(var r=[],n=e.array.len?e.array.len:this.decode_integer("u32"),i=0;i<n;++i)r.push(this.decode_value(e.array.type));return r},t.prototype.decode_set=function(e){for(var r=this.decode_integer("u32"),n=new Set,i=0;i<r;++i)n.add(this.decode_value(e.set));return n},t.prototype.decode_map=function(e){for(var r=this.decode_integer("u32"),n=new Map,i=0;i<r;++i){var o=this.decode_value(e.map.key),s=this.decode_value(e.map.value);n.set(o,s)}return n},t.prototype.decode_struct=function(e){var r={};for(var n in e.struct)r[n]=this.decode_value(e.struct[n]);return r},t})()});var Ttt=b(()=>{"use strict";Att();Ett();Rfe()});var Rtt=b(()=>{"use strict"});var xXt,wXt,AXt,EXt,TXt,RXt,IXt,CXt,NXt,gU=b(()=>{"use strict";xXt=new Uint8Array([75,69,77,0,16]),wXt=new Uint8Array([72,80,75,69,0,16,0,1,0,2]),AXt=new Uint8Array([72,80,75,69,45,118,49]),EXt=new Uint8Array([115,101,99,114,101,116]),TXt=new Uint8Array([101,97,101,95,112,114,107]),RXt=new Uint8Array([115,104,97,114,101,100,95,115,101,99,114,101,116]),IXt=new Uint8Array([0,32,72,80,75,69,45,118,49,72,80,75,69,0,16,0,1,0,2,107,101,121,0,143,195,174,184,50,73,10,75,90,179,228,32,35,40,125,178,154,31,75,199,194,34,192,223,34,135,39,183,10,64,33,18,47,63,4,233,32,108,209,36,19,80,53,41,180,122,198,166,48,185,46,196,207,125,35,69,8,208,175,151,113,201,158,80]),CXt=new Uint8Array([0,12,72,80,75,69,45,118,49,72,80,75,69,0,16,0,1,0,2,98,97,115,101,95,110,111,110,99,101,0,143,195,174,184,50,73,10,75,90,179,228,32,35,40,125,178,154,31,75,199,194,34,192,223,34,135,39,183,10,64,33,18,47,63,4,233,32,108,209,36,19,80,53,41,180,122,198,166,48,185,46,196,207,125,35,69,8,208,175,151,113,201,158,80]),NXt=new Uint8Array([113,111,115,95,101,110,99,114,121,112,116,105,111,110,95,104,109,97,99,95,109,101,115,115,97,103,101])});var yU,Ife=b(()=>{"use strict";Ttt();Df();Rtt();gU();yU=t=>{let e=Ih(t);if(e.length<2)throw new Error("failed to convert DER-encoded signature: insufficient length");if(e[0]!==48)throw new Error("failed to convert DER-encoded signature: invalid format (missing SEQUENCE tag)");let r=1,n=e[r];if(n<=127){if(e.length<2+n)throw new Error("failed to convert DER-encoded signature: inconsistent message length header");r+=1}else throw new Error("failed to convert DER-encoded signature: unexpectedly large or invalid signature length");if(e[r]!==2)throw new Error("failed to convert DER-encoded signature: invalid tag for r");r++;let i=e[r];if(i>33)throw new Error("failed to convert DER-encoded signature: unexpected length for r");r++;let o=e.slice(r,r+i);if(r+=i,e[r]!==2)throw new Error("failed to convert DER-encoded signature: invalid tag for s");r++;let s=e[r];if(s>33)throw new Error("failed to convert DER-encoded signature: unexpected length for s");r++;let a=e.slice(r,r+s),c=iU(o,32),l=iU(a,32);return new Uint8Array([...c,...l])}});var Cfe,Itt=b(()=>{"use strict";Df();gU();Ife();(function(t){t.NOTARIZER="notarizer",t.SIGNER="signer",t.EVM_PARSER="evm-parser",t.TLS_FETCHER="tls-fetcher",t.UMP="ump"})(Cfe||(Cfe={}))});var Ntt=ze((Ctt,bU)=>{"use strict";(function(t,e){"use strict";var r=Math.pow(2,-24),n=Math.pow(2,32),i=Math.pow(2,53);function o(c){var l=new ArrayBuffer(256),u=new DataView(l),d,p=0;function f($){for(var H=l.byteLength,W=p+$;H<W;)H*=2;if(H!==l.byteLength){var N=u;l=new ArrayBuffer(H),u=new DataView(l);for(var _=p+3>>2,x=0;x<_;++x)u.setUint32(x*4,N.getUint32(x*4))}return d=$,u}function h(){p+=d}function m($){h(f(8).setFloat64(p,$))}function g($){h(f(1).setUint8(p,$))}function y($){for(var H=f($.length),W=0;W<$.length;++W)H.setUint8(p+W,$[W]);h()}function v($){h(f(2).setUint16(p,$))}function S($){h(f(4).setUint32(p,$))}function w($){var H=$%n,W=($-H)/n,N=f(8);N.setUint32(p,W),N.setUint32(p+4,H),h()}function E($,H){H<24?g($<<5|H):H<256?(g($<<5|24),g(H)):H<65536?(g($<<5|25),v(H)):H<4294967296?(g($<<5|26),S(H)):(g($<<5|27),w(H))}function I($){var H;if($===!1)return g(244);if($===!0)return g(245);if($===null)return g(246);if($===e)return g(247);switch(typeof $){case"number":if(Math.floor($)===$){if(0<=$&&$<=i)return E(0,$);if(-i<=$&&$<0)return E(1,-($+1))}return g(251),m($);case"string":var W=[];for(H=0;H<$.length;++H){var N=$.charCodeAt(H);N<128?W.push(N):N<2048?(W.push(192|N>>6),W.push(128|N&63)):N<55296?(W.push(224|N>>12),W.push(128|N>>6&63),W.push(128|N&63)):(N=(N&1023)<<10,N|=$.charCodeAt(++H)&1023,N+=65536,W.push(240|N>>18),W.push(128|N>>12&63),W.push(128|N>>6&63),W.push(128|N&63))}return E(3,W.length),y(W);default:var _;if(Array.isArray($))for(_=$.length,E(4,_),H=0;H<_;++H)I($[H]);else if($ instanceof Uint8Array)E(2,$.length),y($);else{var x=Object.keys($);for(_=x.length,E(5,_),H=0;H<_;++H){var R=x[H];I(R),I($[R])}}}}if(I(c),"slice"in l)return l.slice(0,p);for(var D=new ArrayBuffer(p),k=new DataView(D),P=0;P<p;++P)k.setUint8(P,u.getUint8(P));return D}function s(c,l,u){var d=new DataView(c),p=0;typeof l!="function"&&(l=function(W){return W}),typeof u!="function"&&(u=function(){return e});function f(W,N){return p+=N,W}function h(W){return f(new Uint8Array(c,p,W),W)}function m(){var W=new ArrayBuffer(4),N=new DataView(W),_=S(),x=_&32768,R=_&31744,L=_&1023;if(R===31744)R=261120;else if(R!==0)R+=114688;else if(L!==0)return L*r;return N.setUint32(0,x<<16|R<<13|L<<13),N.getFloat32(0)}function g(){return f(d.getFloat32(p),4)}function y(){return f(d.getFloat64(p),8)}function v(){return f(d.getUint8(p),1)}function S(){return f(d.getUint16(p),2)}function w(){return f(d.getUint32(p),4)}function E(){return w()*n+w()}function I(){return d.getUint8(p)!==255?!1:(p+=1,!0)}function D(W){if(W<24)return W;if(W===24)return v();if(W===25)return S();if(W===26)return w();if(W===27)return E();if(W===31)return-1;throw"Invalid length encoding"}function k(W){var N=v();if(N===255)return-1;var _=D(N&31);if(_<0||N>>5!==W)throw"Invalid indefinite length element";return _}function P(W,N){for(var _=0;_<N;++_){var x=v();x&128&&(x<224?(x=(x&31)<<6|v()&63,N-=1):x<240?(x=(x&15)<<12|(v()&63)<<6|v()&63,N-=2):(x=(x&15)<<18|(v()&63)<<12|(v()&63)<<6|v()&63,N-=3)),x<65536?W.push(x):(x-=65536,W.push(55296|x>>10),W.push(56320|x&1023))}}function $(){var W=v(),N=W>>5,_=W&31,x,R;if(N===7)switch(_){case 25:return m();case 26:return g();case 27:return y()}if(R=D(_),R<0&&(N<2||6<N))throw"Invalid length";switch(N){case 0:return R;case 1:return-1-R;case 2:if(R<0){for(var L=[],U=0;(R=k(N))>=0;)U+=R,L.push(h(R));var j=new Uint8Array(U),Q=0;for(x=0;x<L.length;++x)j.set(L[x],Q),Q+=L[x].length;return j}return h(R);case 3:var G=[];if(R<0)for(;(R=k(N))>=0;)P(G,R);else P(G,R);return String.fromCharCode.apply(null,G);case 4:var A;if(R<0)for(A=[];!I();)A.push($());else for(A=new Array(R),x=0;x<R;++x)A[x]=$();return A;case 5:var X={};for(x=0;x<R||R<0&&!I();++x){var Re=$();X[Re]=$()}return X;case 6:return l($(),R);case 7:switch(R){case 20:return!1;case 21:return!0;case 22:return null;case 23:return e;default:return u(R)}}}var H=$();if(p!==c.byteLength)throw"Remaining bytes";return H}var a={encode:o,decode:s};typeof define=="function"&&define.amd?define("cbor/cbor",a):typeof bU<"u"&&bU.exports?bU.exports=a:t.CBOR||(t.CBOR=a)})(Ctt)});var Ptt=ze(()=>{"use strict";var Ott;(function(t){(function(e){var r=typeof globalThis=="object"?globalThis:typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:a(),n=i(t);typeof r.Reflect<"u"&&(n=i(r.Reflect,n)),e(n,r),typeof r.Reflect>"u"&&(r.Reflect=t);function i(c,l){return function(u,d){Object.defineProperty(c,u,{configurable:!0,writable:!0,value:d}),l&&l(u,d)}}function o(){try{return Function("return this;")()}catch{}}function s(){try{return(0,eval)("(function() { return this; })()")}catch{}}function a(){return o()||s()}})(function(e,r){var n=Object.prototype.hasOwnProperty,i=typeof Symbol=="function",o=i&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",s=i&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",a=typeof Object.create=="function",c={__proto__:[]}instanceof Array,l=!a&&!c,u={create:a?function(){return ie(Object.create(null))}:c?function(){return ie({__proto__:null})}:function(){return ie({})},has:l?function(J,Y){return n.call(J,Y)}:function(J,Y){return Y in J},get:l?function(J,Y){return n.call(J,Y)?J[Y]:void 0}:function(J,Y){return J[Y]}},d=Object.getPrototypeOf(Function),p=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:T(),f=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:B(),h=typeof WeakMap=="function"?WeakMap:V(),m=i?Symbol.for("@reflect-metadata:registry"):void 0,g=Mn(),y=ui(g);function v(J,Y,oe,Me){if(A(oe)){if(!St(J))throw new TypeError;if(!_r(Y))throw new TypeError;return W(J,Y)}else{if(!St(J))throw new TypeError;if(!ve(Y))throw new TypeError;if(!ve(Me)&&!A(Me)&&!X(Me))throw new TypeError;return X(Me)&&(Me=void 0),oe=be(oe),N(J,Y,oe,Me)}}e("decorate",v);function S(J,Y){function oe(Me,Je){if(!ve(Me))throw new TypeError;if(!A(Je)&&!fr(Je))throw new TypeError;U(J,Y,Me,Je)}return oe}e("metadata",S);function w(J,Y,oe,Me){if(!ve(oe))throw new TypeError;return A(Me)||(Me=be(Me)),U(J,Y,oe,Me)}e("defineMetadata",w);function E(J,Y,oe){if(!ve(Y))throw new TypeError;return A(oe)||(oe=be(oe)),_(J,Y,oe)}e("hasMetadata",E);function I(J,Y,oe){if(!ve(Y))throw new TypeError;return A(oe)||(oe=be(oe)),x(J,Y,oe)}e("hasOwnMetadata",I);function D(J,Y,oe){if(!ve(Y))throw new TypeError;return A(oe)||(oe=be(oe)),R(J,Y,oe)}e("getMetadata",D);function k(J,Y,oe){if(!ve(Y))throw new TypeError;return A(oe)||(oe=be(oe)),L(J,Y,oe)}e("getOwnMetadata",k);function P(J,Y){if(!ve(J))throw new TypeError;return A(Y)||(Y=be(Y)),j(J,Y)}e("getMetadataKeys",P);function $(J,Y){if(!ve(J))throw new TypeError;return A(Y)||(Y=be(Y)),Q(J,Y)}e("getOwnMetadataKeys",$);function H(J,Y,oe){if(!ve(Y))throw new TypeError;if(A(oe)||(oe=be(oe)),!ve(Y))throw new TypeError;A(oe)||(oe=be(oe));var Me=Sn(Y,oe,!1);return A(Me)?!1:Me.OrdinaryDeleteMetadata(J,Y,oe)}e("deleteMetadata",H);function W(J,Y){for(var oe=J.length-1;oe>=0;--oe){var Me=J[oe],Je=Me(Y);if(!A(Je)&&!X(Je)){if(!_r(Je))throw new TypeError;Y=Je}}return Y}function N(J,Y,oe,Me){for(var Je=J.length-1;Je>=0;--Je){var Rt=J[Je],Xt=Rt(Y,oe,Me);if(!A(Xt)&&!X(Xt)){if(!ve(Xt))throw new TypeError;Me=Xt}}return Me}function _(J,Y,oe){var Me=x(J,Y,oe);if(Me)return!0;var Je=pn(Y);return X(Je)?!1:_(J,Je,oe)}function x(J,Y,oe){var Me=Sn(Y,oe,!1);return A(Me)?!1:we(Me.OrdinaryHasOwnMetadata(J,Y,oe))}function R(J,Y,oe){var Me=x(J,Y,oe);if(Me)return L(J,Y,oe);var Je=pn(Y);if(!X(Je))return R(J,Je,oe)}function L(J,Y,oe){var Me=Sn(Y,oe,!1);if(!A(Me))return Me.OrdinaryGetOwnMetadata(J,Y,oe)}function U(J,Y,oe,Me){var Je=Sn(oe,Me,!0);Je.OrdinaryDefineOwnMetadata(J,Y,oe,Me)}function j(J,Y){var oe=Q(J,Y),Me=pn(J);if(Me===null)return oe;var Je=j(Me,Y);if(Je.length<=0)return oe;if(oe.length<=0)return Je;for(var Rt=new f,Xt=[],pt=0,Xe=oe;pt<Xe.length;pt++){var xt=Xe[pt],nt=Rt.has(xt);nt||(Rt.add(xt),Xt.push(xt))}for(var at=0,Cr=Je;at<Cr.length;at++){var xt=Cr[at],nt=Rt.has(xt);nt||(Rt.add(xt),Xt.push(xt))}return Xt}function Q(J,Y){var oe=Sn(J,Y,!1);return oe?oe.OrdinaryOwnMetadataKeys(J,Y):[]}function G(J){if(J===null)return 1;switch(typeof J){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return J===null?1:6;default:return 6}}function A(J){return J===void 0}function X(J){return J===null}function Re(J){return typeof J=="symbol"}function ve(J){return typeof J=="object"?J!==null:typeof J=="function"}function ue(J,Y){switch(G(J)){case 0:return J;case 1:return J;case 2:return J;case 3:return J;case 4:return J;case 5:return J}var oe=Y===3?"string":Y===5?"number":"default",Me=Nd(J,o);if(Me!==void 0){var Je=Me.call(J,oe);if(ve(Je))throw new TypeError;return Je}return Ve(J,oe==="default"?"number":oe)}function Ve(J,Y){if(Y==="string"){var oe=J.toString;if(ke(oe)){var Me=oe.call(J);if(!ve(Me))return Me}var Je=J.valueOf;if(ke(Je)){var Me=Je.call(J);if(!ve(Me))return Me}}else{var Je=J.valueOf;if(ke(Je)){var Me=Je.call(J);if(!ve(Me))return Me}var Rt=J.toString;if(ke(Rt)){var Me=Rt.call(J);if(!ve(Me))return Me}}throw new TypeError}function we(J){return!!J}function ut(J){return""+J}function be(J){var Y=ue(J,3);return Re(Y)?Y:ut(Y)}function St(J){return Array.isArray?Array.isArray(J):J instanceof Object?J instanceof Array:Object.prototype.toString.call(J)==="[object Array]"}function ke(J){return typeof J=="function"}function _r(J){return typeof J=="function"}function fr(J){switch(G(J)){case 3:return!0;case 4:return!0;default:return!1}}function _n(J,Y){return J===Y||J!==J&&Y!==Y}function Nd(J,Y){var oe=J[Y];if(oe!=null){if(!ke(oe))throw new TypeError;return oe}}function Tn(J){var Y=Nd(J,s);if(!ke(Y))throw new TypeError;var oe=Y.call(J);if(!ve(oe))throw new TypeError;return oe}function Gn(J){return J.value}function e0(J){var Y=J.next();return Y.done?!1:Y}function Dn(J){var Y=J.return;Y&&Y.call(J)}function pn(J){var Y=Object.getPrototypeOf(J);if(typeof J!="function"||J===d||Y!==d)return Y;var oe=J.prototype,Me=oe&&Object.getPrototypeOf(oe);if(Me==null||Me===Object.prototype)return Y;var Je=Me.constructor;return typeof Je!="function"||Je===J?Y:Je}function js(){var J;!A(m)&&typeof r.Reflect<"u"&&!(m in r.Reflect)&&typeof r.Reflect.defineMetadata=="function"&&(J=tc(r.Reflect));var Y,oe,Me,Je=new h,Rt={registerProvider:Xt,getProvider:Xe,setProvider:nt};return Rt;function Xt(at){if(!Object.isExtensible(Rt))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case J===at:break;case A(Y):Y=at;break;case Y===at:break;case A(oe):oe=at;break;case oe===at:break;default:Me===void 0&&(Me=new f),Me.add(at);break}}function pt(at,Cr){if(!A(Y)){if(Y.isProviderFor(at,Cr))return Y;if(!A(oe)){if(oe.isProviderFor(at,Cr))return Y;if(!A(Me))for(var or=Tn(Me);;){var mr=e0(or);if(!mr)return;var rc=Gn(mr);if(rc.isProviderFor(at,Cr))return Dn(or),rc}}}if(!A(J)&&J.isProviderFor(at,Cr))return J}function Xe(at,Cr){var or=Je.get(at),mr;return A(or)||(mr=or.get(Cr)),A(mr)&&(mr=pt(at,Cr),A(mr)||(A(or)&&(or=new p,Je.set(at,or)),or.set(Cr,mr))),mr}function xt(at){if(A(at))throw new TypeError;return Y===at||oe===at||!A(Me)&&Me.has(at)}function nt(at,Cr,or){if(!xt(or))throw new Error("Metadata provider not registered.");var mr=Xe(at,Cr);if(mr!==or){if(!A(mr))return!1;var rc=Je.get(at);A(rc)&&(rc=new p,Je.set(at,rc)),rc.set(Cr,or)}return!0}}function Mn(){var J;return!A(m)&&ve(r.Reflect)&&Object.isExtensible(r.Reflect)&&(J=r.Reflect[m]),A(J)&&(J=js()),!A(m)&&ve(r.Reflect)&&Object.isExtensible(r.Reflect)&&Object.defineProperty(r.Reflect,m,{enumerable:!1,configurable:!1,writable:!1,value:J}),J}function ui(J){var Y=new h,oe={isProviderFor:function(xt,nt){var at=Y.get(xt);return A(at)?!1:at.has(nt)},OrdinaryDefineOwnMetadata:Xt,OrdinaryHasOwnMetadata:Je,OrdinaryGetOwnMetadata:Rt,OrdinaryOwnMetadataKeys:pt,OrdinaryDeleteMetadata:Xe};return g.registerProvider(oe),oe;function Me(xt,nt,at){var Cr=Y.get(xt),or=!1;if(A(Cr)){if(!at)return;Cr=new p,Y.set(xt,Cr),or=!0}var mr=Cr.get(nt);if(A(mr)){if(!at)return;if(mr=new p,Cr.set(nt,mr),!J.setProvider(xt,nt,oe))throw Cr.delete(nt),or&&Y.delete(xt),new Error("Wrong provider for target.")}return mr}function Je(xt,nt,at){var Cr=Me(nt,at,!1);return A(Cr)?!1:we(Cr.has(xt))}function Rt(xt,nt,at){var Cr=Me(nt,at,!1);if(!A(Cr))return Cr.get(xt)}function Xt(xt,nt,at,Cr){var or=Me(at,Cr,!0);or.set(xt,nt)}function pt(xt,nt){var at=[],Cr=Me(xt,nt,!1);if(A(Cr))return at;for(var or=Cr.keys(),mr=Tn(or),rc=0;;){var Ai=e0(mr);if(!Ai)return at.length=rc,at;var Li=Gn(Ai);try{at[rc]=Li}catch(dP){try{Dn(mr)}finally{throw dP}}rc++}}function Xe(xt,nt,at){var Cr=Me(nt,at,!1);if(A(Cr)||!Cr.delete(xt))return!1;if(Cr.size===0){var or=Y.get(nt);A(or)||(or.delete(at),or.size===0&&Y.delete(or))}return!0}}function tc(J){var Y=J.defineMetadata,oe=J.hasOwnMetadata,Me=J.getOwnMetadata,Je=J.getOwnMetadataKeys,Rt=J.deleteMetadata,Xt=new h,pt={isProviderFor:function(Xe,xt){var nt=Xt.get(Xe);return!A(nt)&&nt.has(xt)?!0:Je(Xe,xt).length?(A(nt)&&(nt=new f,Xt.set(Xe,nt)),nt.add(xt),!0):!1},OrdinaryDefineOwnMetadata:Y,OrdinaryHasOwnMetadata:oe,OrdinaryGetOwnMetadata:Me,OrdinaryOwnMetadataKeys:Je,OrdinaryDeleteMetadata:Rt};return pt}function Sn(J,Y,oe){var Me=g.getProvider(J,Y);if(!A(Me))return Me;if(oe){if(g.setProvider(J,Y,y))return y;throw new Error("Illegal state.")}}function T(){var J={},Y=[],oe=(function(){function pt(Xe,xt,nt){this._index=0,this._keys=Xe,this._values=xt,this._selector=nt}return pt.prototype["@@iterator"]=function(){return this},pt.prototype[s]=function(){return this},pt.prototype.next=function(){var Xe=this._index;if(Xe>=0&&Xe<this._keys.length){var xt=this._selector(this._keys[Xe],this._values[Xe]);return Xe+1>=this._keys.length?(this._index=-1,this._keys=Y,this._values=Y):this._index++,{value:xt,done:!1}}return{value:void 0,done:!0}},pt.prototype.throw=function(Xe){throw this._index>=0&&(this._index=-1,this._keys=Y,this._values=Y),Xe},pt.prototype.return=function(Xe){return this._index>=0&&(this._index=-1,this._keys=Y,this._values=Y),{value:Xe,done:!0}},pt})(),Me=(function(){function pt(){this._keys=[],this._values=[],this._cacheKey=J,this._cacheIndex=-2}return Object.defineProperty(pt.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),pt.prototype.has=function(Xe){return this._find(Xe,!1)>=0},pt.prototype.get=function(Xe){var xt=this._find(Xe,!1);return xt>=0?this._values[xt]:void 0},pt.prototype.set=function(Xe,xt){var nt=this._find(Xe,!0);return this._values[nt]=xt,this},pt.prototype.delete=function(Xe){var xt=this._find(Xe,!1);if(xt>=0){for(var nt=this._keys.length,at=xt+1;at<nt;at++)this._keys[at-1]=this._keys[at],this._values[at-1]=this._values[at];return this._keys.length--,this._values.length--,_n(Xe,this._cacheKey)&&(this._cacheKey=J,this._cacheIndex=-2),!0}return!1},pt.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=J,this._cacheIndex=-2},pt.prototype.keys=function(){return new oe(this._keys,this._values,Je)},pt.prototype.values=function(){return new oe(this._keys,this._values,Rt)},pt.prototype.entries=function(){return new oe(this._keys,this._values,Xt)},pt.prototype["@@iterator"]=function(){return this.entries()},pt.prototype[s]=function(){return this.entries()},pt.prototype._find=function(Xe,xt){if(!_n(this._cacheKey,Xe)){this._cacheIndex=-1;for(var nt=0;nt<this._keys.length;nt++)if(_n(this._keys[nt],Xe)){this._cacheIndex=nt;break}}return this._cacheIndex<0&&xt&&(this._cacheIndex=this._keys.length,this._keys.push(Xe),this._values.push(void 0)),this._cacheIndex},pt})();return Me;function Je(pt,Xe){return pt}function Rt(pt,Xe){return Xe}function Xt(pt,Xe){return[pt,Xe]}}function B(){var J=(function(){function Y(){this._map=new p}return Object.defineProperty(Y.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),Y.prototype.has=function(oe){return this._map.has(oe)},Y.prototype.add=function(oe){return this._map.set(oe,oe),this},Y.prototype.delete=function(oe){return this._map.delete(oe)},Y.prototype.clear=function(){this._map.clear()},Y.prototype.keys=function(){return this._map.keys()},Y.prototype.values=function(){return this._map.keys()},Y.prototype.entries=function(){return this._map.entries()},Y.prototype["@@iterator"]=function(){return this.keys()},Y.prototype[s]=function(){return this.keys()},Y})();return J}function V(){var J=16,Y=u.create(),oe=Me();return(function(){function Xe(){this._key=Me()}return Xe.prototype.has=function(xt){var nt=Je(xt,!1);return nt!==void 0?u.has(nt,this._key):!1},Xe.prototype.get=function(xt){var nt=Je(xt,!1);return nt!==void 0?u.get(nt,this._key):void 0},Xe.prototype.set=function(xt,nt){var at=Je(xt,!0);return at[this._key]=nt,this},Xe.prototype.delete=function(xt){var nt=Je(xt,!1);return nt!==void 0?delete nt[this._key]:!1},Xe.prototype.clear=function(){this._key=Me()},Xe})();function Me(){var Xe;do Xe="@@WeakMap@@"+pt();while(u.has(Y,Xe));return Y[Xe]=!0,Xe}function Je(Xe,xt){if(!n.call(Xe,oe)){if(!xt)return;Object.defineProperty(Xe,oe,{value:u.create()})}return Xe[oe]}function Rt(Xe,xt){for(var nt=0;nt<xt;++nt)Xe[nt]=Math.random()*255|0;return Xe}function Xt(Xe){if(typeof Uint8Array=="function"){var xt=new Uint8Array(Xe);return typeof crypto<"u"?crypto.getRandomValues(xt):typeof msCrypto<"u"?msCrypto.getRandomValues(xt):Rt(xt,Xe),xt}return Rt(new Array(Xe),Xe)}function pt(){var Xe=Xt(J);Xe[6]=Xe[6]&79|64,Xe[8]=Xe[8]&191|128;for(var xt="",nt=0;nt<J;++nt){var at=Xe[nt];(nt===4||nt===6||nt===8)&&(xt+="-"),at<16&&(xt+="0"),xt+=at.toString(16).toLowerCase()}return xt}}function ie(J){return J.__=void 0,delete J.__,J}})})(Ott||(Ott={}))});function ktt(...t){let e=t.map(i=>i.byteLength).reduce((i,o)=>i+o),r=new Uint8Array(e),n=0;return t.map(i=>new Uint8Array(i)).forEach(i=>{for(let o of i)r[n++]=o}),r.buffer}function _U(t,e){if(!(t&&e)||t.byteLength!==e.byteLength)return!1;let r=new Uint8Array(t),n=new Uint8Array(e);for(let i=0;i<t.byteLength;i++)if(r[i]!==n[i])return!1;return!0}var LXt,ft,Nfe,BXt,$Xt,UXt,vU,Yu,Nt,Mh=b(()=>{"use strict";LXt="[object ArrayBuffer]",ft=class t{static isArrayBuffer(e){return Object.prototype.toString.call(e)===LXt}static toArrayBuffer(e){return this.isArrayBuffer(e)?e:e.byteLength===e.buffer.byteLength||e.byteOffset===0&&e.byteLength===e.buffer.byteLength?e.buffer:this.toUint8Array(e.buffer).slice(e.byteOffset,e.byteOffset+e.byteLength).buffer}static toUint8Array(e){return this.toView(e,Uint8Array)}static toView(e,r){if(e.constructor===r)return e;if(this.isArrayBuffer(e))return new r(e);if(this.isArrayBufferView(e))return new r(e.buffer,e.byteOffset,e.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(e){return this.isArrayBufferView(e)||this.isArrayBuffer(e)}static isArrayBufferView(e){return ArrayBuffer.isView(e)||e&&this.isArrayBuffer(e.buffer)}static isEqual(e,r){let n=t.toUint8Array(e),i=t.toUint8Array(r);if(n.length!==i.byteLength)return!1;for(let o=0;o<n.length;o++)if(n[o]!==i[o])return!1;return!0}static concat(...e){let r;Array.isArray(e[0])&&!(e[1]instanceof Function)||Array.isArray(e[0])&&e[1]instanceof Function?r=e[0]:e[e.length-1]instanceof Function?r=e.slice(0,e.length-1):r=e;let n=0;for(let s of r)n+=s.byteLength;let i=new Uint8Array(n),o=0;for(let s of r){let a=this.toUint8Array(s);i.set(a,o),o+=a.length}return e[e.length-1]instanceof Function?this.toView(i,e[e.length-1]):i.buffer}},Nfe="string",BXt=/^[0-9a-f\s]+$/i,$Xt=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,UXt=/^[a-zA-Z0-9-_]+$/,vU=class{static fromString(e){let r=unescape(encodeURIComponent(e)),n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n.buffer}static toString(e){let r=ft.toUint8Array(e),n="";for(let o=0;o<r.length;o++)n+=String.fromCharCode(r[o]);return decodeURIComponent(escape(n))}},Yu=class{static toString(e,r=!1){let n=ft.toArrayBuffer(e),i=new DataView(n),o="";for(let s=0;s<n.byteLength;s+=2){let a=i.getUint16(s,r);o+=String.fromCharCode(a)}return o}static fromString(e,r=!1){let n=new ArrayBuffer(e.length*2),i=new DataView(n);for(let o=0;o<e.length;o++)i.setUint16(o*2,e.charCodeAt(o),r);return n}},Nt=class t{static isHex(e){return typeof e===Nfe&&BXt.test(e)}static isBase64(e){return typeof e===Nfe&&$Xt.test(e)}static isBase64Url(e){return typeof e===Nfe&&UXt.test(e)}static ToString(e,r="utf8"){let n=ft.toUint8Array(e);switch(r.toLowerCase()){case"utf8":return this.ToUtf8String(n);case"binary":return this.ToBinary(n);case"hex":return this.ToHex(n);case"base64":return this.ToBase64(n);case"base64url":return this.ToBase64Url(n);case"utf16le":return Yu.toString(n,!0);case"utf16":case"utf16be":return Yu.toString(n);default:throw new Error(`Unknown type of encoding '${r}'`)}}static FromString(e,r="utf8"){if(!e)return new ArrayBuffer(0);switch(r.toLowerCase()){case"utf8":return this.FromUtf8String(e);case"binary":return this.FromBinary(e);case"hex":return this.FromHex(e);case"base64":return this.FromBase64(e);case"base64url":return this.FromBase64Url(e);case"utf16le":return Yu.fromString(e,!0);case"utf16":case"utf16be":return Yu.fromString(e);default:throw new Error(`Unknown type of encoding '${r}'`)}}static ToBase64(e){let r=ft.toUint8Array(e);if(typeof btoa<"u"){let n=this.ToString(r,"binary");return btoa(n)}else return Buffer.from(r).toString("base64")}static FromBase64(e){let r=this.formatString(e);if(!r)return new ArrayBuffer(0);if(!t.isBase64(r))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return typeof atob<"u"?this.FromBinary(atob(r)):new Uint8Array(Buffer.from(r,"base64")).buffer}static FromBase64Url(e){let r=this.formatString(e);if(!r)return new ArrayBuffer(0);if(!t.isBase64Url(r))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(r.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(e){return this.ToBase64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(e,r=t.DEFAULT_UTF8_ENCODING){switch(r){case"ascii":return this.FromBinary(e);case"utf8":return vU.fromString(e);case"utf16":case"utf16be":return Yu.fromString(e);case"utf16le":case"usc2":return Yu.fromString(e,!0);default:throw new Error(`Unknown type of encoding '${r}'`)}}static ToUtf8String(e,r=t.DEFAULT_UTF8_ENCODING){switch(r){case"ascii":return this.ToBinary(e);case"utf8":return vU.toString(e);case"utf16":case"utf16be":return Yu.toString(e);case"utf16le":case"usc2":return Yu.toString(e,!0);default:throw new Error(`Unknown type of encoding '${r}'`)}}static FromBinary(e){let r=e.length,n=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=e.charCodeAt(i);return n.buffer}static ToBinary(e){let r=ft.toUint8Array(e),n="";for(let i=0;i<r.length;i++)n+=String.fromCharCode(r[i]);return n}static ToHex(e){let r=ft.toUint8Array(e),n="",i=r.length;for(let o=0;o<i;o++){let s=r[o];s<16&&(n+="0"),n+=s.toString(16)}return n}static FromHex(e){let r=this.formatString(e);if(!r)return new ArrayBuffer(0);if(!t.isHex(r))throw new TypeError("Argument 'hexString' is not HEX encoded");r.length%2&&(r=`0${r}`);let n=new Uint8Array(r.length/2);for(let i=0;i<r.length;i=i+2){let o=r.slice(i,i+2);n[i/2]=parseInt(o,16)}return n.buffer}static ToUtf16String(e,r=!1){return Yu.toString(e,r)}static FromUtf16String(e,r=!1){return Yu.fromString(e,r)}static Base64Padding(e){let r=4-e.length%4;if(r<4)for(let n=0;n<r;n++)e+="=";return e}static formatString(e){return e?.replace(/[\n\r\t ]/g,"")||""}};Nt.DEFAULT_UTF8_ENCODING="utf8"});function __(t,e){let r=0;if(t.length===1)return t[0];for(let n=t.length-1;n>=0;n--)r+=t[t.length-1-n]*Math.pow(2,e*n);return r}function C1(t,e,r=-1){let n=r,i=t,o=0,s=Math.pow(2,e);for(let a=1;a<8;a++){if(t<s){let c;if(n<0)c=new ArrayBuffer(a),o=a;else{if(n<a)return new ArrayBuffer(0);c=new ArrayBuffer(n),o=n}let l=new Uint8Array(c);for(let u=a-1;u>=0;u--){let d=Math.pow(2,u*e);l[o-u-1]=Math.floor(i/d),i-=l[o-u-1]*d}return c}s*=Math.pow(2,e)}return new ArrayBuffer(0)}function SU(...t){let e=0,r=0;for(let o of t)e+=o.length;let n=new ArrayBuffer(e),i=new Uint8Array(n);for(let o of t)i.set(o,r),r+=o.length;return i}function Ofe(){let t=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){let a=t[0]===255&&t[1]&128,c=t[0]===0&&(t[1]&128)===0;(a||c)&&this.warnings.push("Needlessly long format")}let e=new ArrayBuffer(this.valueHex.byteLength),r=new Uint8Array(e);for(let a=0;a<this.valueHex.byteLength;a++)r[a]=0;r[0]=t[0]&128;let n=__(r,8),i=new ArrayBuffer(this.valueHex.byteLength),o=new Uint8Array(i);for(let a=0;a<this.valueHex.byteLength;a++)o[a]=t[a];return o[0]&=127,__(o,8)-n}function Mtt(t){let e=t<0?t*-1:t,r=128;for(let n=1;n<8;n++){if(e<=r){if(t<0){let s=r-e,a=C1(s,8,n),c=new Uint8Array(a);return c[0]|=128,a}let i=C1(e,8,n),o=new Uint8Array(i);if(o[0]&128){let s=i.slice(0),a=new Uint8Array(s);i=new ArrayBuffer(i.byteLength+1),o=new Uint8Array(i);for(let c=0;c<s.byteLength;c++)o[c+1]=a[c];o[0]=0}return i}r*=Math.pow(2,8)}return new ArrayBuffer(0)}function Ltt(t,e){if(t.byteLength!==e.byteLength)return!1;let r=new Uint8Array(t),n=new Uint8Array(e);for(let i=0;i<r.length;i++)if(r[i]!==n[i])return!1;return!0}function Pc(t,e){let r=t.toString(10);if(e<r.length)return"";let n=e-r.length,i=new Array(n);for(let s=0;s<n;s++)i[s]="0";return i.join("").concat(r)}var fMn,Btt=b(()=>{"use strict";fMn=Math.log(2)});var Uf={};Nr(Uf,{Any:()=>Lf,BaseBlock:()=>Po,BaseStringBlock:()=>IC,BitString:()=>np,BmpString:()=>A_,Boolean:()=>S_,CharacterString:()=>k_,Choice:()=>EE,Constructed:()=>ko,DATE:()=>DC,DateTime:()=>LC,Duration:()=>BC,EndOfContent:()=>CC,Enumerated:()=>x_,GeneralString:()=>P_,GeneralizedTime:()=>D_,GraphicString:()=>O_,HexBlock:()=>$f,IA5String:()=>N_,Integer:()=>Uh,Null:()=>tp,NumericString:()=>T_,ObjectIdentifier:()=>w_,OctetString:()=>rp,Primitive:()=>$h,PrintableString:()=>R_,RawData:()=>kfe,RelativeObjectIdentifier:()=>kC,Repeated:()=>M_,Sequence:()=>sa,Set:()=>Ba,TIME:()=>$C,TeletexString:()=>I_,TimeOfDay:()=>MC,UTCTime:()=>O1,UniversalString:()=>E_,Utf8String:()=>Zu,ValueBlock:()=>Is,VideotexString:()=>C_,ViewWriter:()=>AE,VisibleString:()=>N1,compareSchema:()=>Lh,fromBER:()=>zh,verifySchema:()=>ZXt});function xU(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function Dfe(t){let e=0,r=0;for(let i=0;i<t.length;i++){let o=t[i];e+=o.byteLength}let n=new Uint8Array(e);for(let i=0;i<t.length;i++){let o=t[i];n.set(new Uint8Array(o),r),r+=o.byteLength}return n.buffer}function Fh(t,e,r,n){return e instanceof Uint8Array?e.byteLength?r<0?(t.error="Wrong parameter: inputOffset less than zero",!1):n<0?(t.error="Wrong parameter: inputLength less than zero",!1):e.byteLength-r-n<0?(t.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):!0:(t.error="Wrong parameter: inputBuffer has zero length",!1):(t.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}function $f(t){var e;return e=class extends t{get valueHex(){return this.valueHexView.slice().buffer}set valueHex(n){this.valueHexView=new Uint8Array(n)}constructor(...n){var i;super(...n);let o=n[0]||{};this.isHexOnly=(i=o.isHexOnly)!==null&&i!==void 0?i:!1,this.valueHexView=o.valueHex?ft.toUint8Array(o.valueHex):BU}fromBER(n,i,o){let s=n instanceof ArrayBuffer?new Uint8Array(n):n;if(!Fh(this,s,i,o))return-1;let a=i+o;return this.valueHexView=s.subarray(i,a),this.valueHexView.length?(this.blockLength=o,a):(this.warnings.push("Zero buffer length"),i)}toBER(n=!1){return this.isHexOnly?n?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",Bf)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:Nt.ToHex(this.valueHexView)}}},e.NAME="hexBlock",e}function Vtt(t){var e;if(t instanceof Tt.Constructed)for(let r of t.valueBlock.value)Vtt(r)&&(t.lenBlock.isIndefiniteForm=!0);return!!(!((e=t.lenBlock)===null||e===void 0)&&e.isIndefiniteForm)}function KXt(t,e){if(t instanceof e)return t;let r=new e;return r.idBlock=t.idBlock,r.lenBlock=t.lenBlock,r.warnings=t.warnings,r.valueBeforeDecodeView=t.valueBeforeDecodeView,r}function TE(t,e=0,r=t.length){let n=e,i=new Po({},Is),o=new Bh;if(!Fh(o,t,e,r))return i.error=o.error,{offset:-1,result:i};if(!t.subarray(e,e+r).length)return i.error="Zero buffer length",{offset:-1,result:i};let a=i.idBlock.fromBER(t,e,r);if(i.idBlock.warnings.length&&i.warnings.concat(i.idBlock.warnings),a===-1)return i.error=i.idBlock.error,{offset:-1,result:i};if(e=a,r-=i.idBlock.blockLength,a=i.lenBlock.fromBER(t,e,r),i.lenBlock.warnings.length&&i.warnings.concat(i.lenBlock.warnings),a===-1)return i.error=i.lenBlock.error,{offset:-1,result:i};if(e=a,r-=i.lenBlock.blockLength,!i.idBlock.isConstructed&&i.lenBlock.isIndefiniteForm)return i.error="Indefinite length form used for primitive encoding form",{offset:-1,result:i};let c=Po;switch(i.idBlock.tagClass){case 1:if(i.idBlock.tagNumber>=37&&i.idBlock.isHexOnly===!1)return i.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:i};switch(i.idBlock.tagNumber){case 0:if(i.idBlock.isConstructed&&i.lenBlock.length>0)return i.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:i};c=Tt.EndOfContent;break;case 1:c=Tt.Boolean;break;case 2:c=Tt.Integer;break;case 3:c=Tt.BitString;break;case 4:c=Tt.OctetString;break;case 5:c=Tt.Null;break;case 6:c=Tt.ObjectIdentifier;break;case 10:c=Tt.Enumerated;break;case 12:c=Tt.Utf8String;break;case 13:c=Tt.RelativeObjectIdentifier;break;case 14:c=Tt.TIME;break;case 15:return i.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:i};case 16:c=Tt.Sequence;break;case 17:c=Tt.Set;break;case 18:c=Tt.NumericString;break;case 19:c=Tt.PrintableString;break;case 20:c=Tt.TeletexString;break;case 21:c=Tt.VideotexString;break;case 22:c=Tt.IA5String;break;case 23:c=Tt.UTCTime;break;case 24:c=Tt.GeneralizedTime;break;case 25:c=Tt.GraphicString;break;case 26:c=Tt.VisibleString;break;case 27:c=Tt.GeneralString;break;case 28:c=Tt.UniversalString;break;case 29:c=Tt.CharacterString;break;case 30:c=Tt.BmpString;break;case 31:c=Tt.DATE;break;case 32:c=Tt.TimeOfDay;break;case 33:c=Tt.DateTime;break;case 34:c=Tt.Duration;break;default:{let l=i.idBlock.isConstructed?new Tt.Constructed:new Tt.Primitive;l.idBlock=i.idBlock,l.lenBlock=i.lenBlock,l.warnings=i.warnings,i=l}}break;case 2:case 3:case 4:default:c=i.idBlock.isConstructed?Tt.Constructed:Tt.Primitive}return i=KXt(i,c),a=i.fromBER(t,e,i.lenBlock.isIndefiniteForm?r:i.lenBlock.length),i.valueBeforeDecodeView=t.subarray(n,n+i.blockLength),{offset:a,result:i}}function zh(t){if(!t.byteLength){let e=new Po({},Is);return e.error="Input buffer has zero length",{offset:-1,result:e}}return TE(ft.toUint8Array(t).slice(),0,t.byteLength)}function QXt(t,e){return t?1:e}function XXt(t,e){let r=new Uint8Array([0]),n=new Uint8Array(t),i=new Uint8Array(e),o=n.slice(0),s=o.length-1,a=i.slice(0),c=a.length-1,l=0,u=c<s?s:c,d=0;for(let p=u;p>=0;p--,d++){switch(!0){case d<a.length:l=o[s-d]+a[c-d]+r[0];break;default:l=o[s-d]+r[0]}switch(r[0]=l/10,!0){case d>=o.length:o=SU(new Uint8Array([l%10]),o);break;default:o[s-d]=l%10}}return r[0]>0&&(o=SU(r,o)),o}function Ftt(t){if(t>=EC.length)for(let e=EC.length;e<=t;e++){let r=new Uint8Array([0]),n=EC[e-1].slice(0);for(let i=n.length-1;i>=0;i--){let o=new Uint8Array([(n[i]<<1)+r[0]]);r[0]=o[0]/10,n[i]=o[0]%10}r[0]>0&&(n=SU(r,n)),EC.push(n)}return EC[t]}function YXt(t,e){let r=0,n=new Uint8Array(t),i=new Uint8Array(e),o=n.slice(0),s=o.length-1,a=i.slice(0),c=a.length-1,l,u=0;for(let d=c;d>=0;d--,u++)switch(l=o[s-u]-a[c-u]-r,!0){case l<0:r=1,o[s-u]=l+10;break;default:r=0,o[s-u]=l}if(r>0)for(let d=s-c+1;d>=0;d--,u++)if(l=o[s-u]-r,l<0)r=1,o[s-u]=l+10;else{r=0,o[s-u]=l;break}return o.slice()}function Lh(t,e,r){if(r instanceof EE){for(let o of r.value)if(Lh(t,e,o).verified)return{verified:!0,result:t};{let o={verified:!1,result:{error:"Wrong values for Choice type"}};return r.hasOwnProperty(Pfe)&&(o.name=r.name),o}}if(r instanceof Lf)return r.hasOwnProperty(Pfe)&&(t[r.name]=e),{verified:!0,result:t};if(!(t instanceof Object))return{verified:!1,result:{error:"Wrong root object"}};if(!(e instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(!(r instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(HXt in r))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(qXt in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(WXt in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};let n=r.idBlock.toBER(!1);if(n.byteLength===0)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(r.idBlock.fromBER(n,0,n.byteLength)===-1)return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(r.idBlock.hasOwnProperty(VXt)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagClass!==e.idBlock.tagClass)return{verified:!1,result:t};if(r.idBlock.hasOwnProperty(GXt)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagNumber!==e.idBlock.tagNumber)return{verified:!1,result:t};if(r.idBlock.hasOwnProperty(jXt)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isConstructed!==e.idBlock.isConstructed)return{verified:!1,result:t};if(!(zXt in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isHexOnly!==e.idBlock.isHexOnly)return{verified:!1,result:t};if(r.idBlock.isHexOnly){if(!(Utt in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};let o=r.idBlock.valueHexView,s=e.idBlock.valueHexView;if(o.length!==s.length)return{verified:!1,result:t};for(let a=0;a<o.length;a++)if(o[a]!==s[1])return{verified:!1,result:t}}if(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,kc),r.name&&(t[r.name]=e)),r instanceof Tt.Constructed){let o=0,s={verified:!1,result:{error:"Unknown error"}},a=r.valueBlock.value.length;if(a>0&&r.valueBlock.value[0]instanceof M_&&(a=e.valueBlock.value.length),a===0)return{verified:!0,result:t};if(e.valueBlock.value.length===0&&r.valueBlock.value.length!==0){let c=!0;for(let l=0;l<r.valueBlock.value.length;l++)c=c&&(r.valueBlock.value[l].optional||!1);return c?{verified:!0,result:t}:(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,kc),r.name&&delete t[r.name]),t.error="Inconsistent object length",{verified:!1,result:t})}for(let c=0;c<a;c++)if(c-o>=e.valueBlock.value.length){if(r.valueBlock.value[c].optional===!1){let l={verified:!1,result:t};return t.error="Inconsistent length between ASN.1 data and schema",r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,kc),r.name&&(delete t[r.name],l.name=r.name)),l}}else if(r.valueBlock.value[0]instanceof M_){if(s=Lh(t,e.valueBlock.value[c],r.valueBlock.value[0].value),s.verified===!1)if(r.valueBlock.value[0].optional)o++;else return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,kc),r.name&&delete t[r.name]),s;if(Pfe in r.valueBlock.value[0]&&r.valueBlock.value[0].name.length>0){let l={};JXt in r.valueBlock.value[0]&&r.valueBlock.value[0].local?l=e:l=t,typeof l[r.valueBlock.value[0].name]>"u"&&(l[r.valueBlock.value[0].name]=[]),l[r.valueBlock.value[0].name].push(e.valueBlock.value[c])}}else if(s=Lh(t,e.valueBlock.value[c-o],r.valueBlock.value[c]),s.verified===!1)if(r.valueBlock.value[c].optional)o++;else return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,kc),r.name&&delete t[r.name]),s;if(s.verified===!1){let c={verified:!1,result:t};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,kc),r.name&&(delete t[r.name],c.name=r.name)),c}return{verified:!0,result:t}}if(r.primitiveSchema&&Utt in e.valueBlock){let o=TE(e.valueBlock.valueHexView);if(o.offset===-1){let s={verified:!1,result:o.result};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,kc),r.name&&(delete t[r.name],s.name=r.name)),s}return Lh(t,o.result,r.primitiveSchema)}return{verified:!0,result:t}}function ZXt(t,e){if(!(e instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};let r=TE(ft.toUint8Array(t));return r.offset===-1?{verified:!1,result:r.result}:Lh(r.result,r.result,e)}var AE,EC,$tt,Pfe,Utt,zXt,HXt,VXt,GXt,jXt,qXt,WXt,JXt,kc,Bf,BU,RC,ztt,Htt,Bh,Is,wU,AU,Tt,Po,IC,EU,Gtt,$h,Mf,jtt,ko,TU,qtt,CC,Wtt,tp,RU,Jtt,S_,IU,Mfe,rp,CU,Ktt,np,Qtt,NC,TC,Uh,Xtt,x_,OC,NU,Ytt,w_,PC,OU,Ztt,kC,ert,sa,trt,Ba,PU,kU,$a,DU,rrt,Zu,MU,nrt,A_,LU,irt,E_,ort,T_,srt,R_,art,I_,crt,C_,lrt,N_,urt,O_,drt,N1,prt,P_,frt,k_,mrt,O1,hrt,D_,grt,DC,yrt,MC,brt,LC,vrt,BC,_rt,$C,Lf,EE,M_,kfe,P1=b(()=>{"use strict";Mh();Btt();AE=class{constructor(){this.items=[]}write(e){this.items.push(e)}final(){return Dfe(this.items)}},EC=[new Uint8Array([1])],$tt="0123456789",Pfe="name",Utt="valueHexView",zXt="isHexOnly",HXt="idBlock",VXt="tagClass",GXt="tagNumber",jXt="isConstructed",qXt="fromBER",WXt="toBER",JXt="local",kc="",Bf=new ArrayBuffer(0),BU=new Uint8Array(0),RC="EndOfContent",ztt="OCTET STRING",Htt="BIT STRING";Bh=class{static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(e){this.valueBeforeDecodeView=new Uint8Array(e)}constructor({blockLength:e=0,error:r=kc,warnings:n=[],valueBeforeDecode:i=BU}={}){this.blockLength=e,this.error=r,this.warnings=n,this.valueBeforeDecodeView=ft.toUint8Array(i)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:Nt.ToHex(this.valueBeforeDecodeView)}}};Bh.NAME="baseBlock";Is=class extends Bh{fromBER(e,r,n){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(e,r){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}};Is.NAME="valueBlock";wU=class extends $f(Bh){constructor({idBlock:e={}}={}){var r,n,i,o;super(),e?(this.isHexOnly=(r=e.isHexOnly)!==null&&r!==void 0?r:!1,this.valueHexView=e.valueHex?ft.toUint8Array(e.valueHex):BU,this.tagClass=(n=e.tagClass)!==null&&n!==void 0?n:-1,this.tagNumber=(i=e.tagNumber)!==null&&i!==void 0?i:-1,this.isConstructed=(o=e.isConstructed)!==null&&o!==void 0?o:!1):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(e=!1){let r=0;switch(this.tagClass){case 1:r|=0;break;case 2:r|=64;break;case 3:r|=128;break;case 4:r|=192;break;default:return this.error="Unknown tag class",Bf}if(this.isConstructed&&(r|=32),this.tagNumber<31&&!this.isHexOnly){let i=new Uint8Array(1);if(!e){let o=this.tagNumber;o&=31,r|=o,i[0]=r}return i.buffer}if(!this.isHexOnly){let i=C1(this.tagNumber,7),o=new Uint8Array(i),s=i.byteLength,a=new Uint8Array(s+1);if(a[0]=r|31,!e){for(let c=0;c<s-1;c++)a[c+1]=o[c]|128;a[s]=o[s-1]}return a.buffer}let n=new Uint8Array(this.valueHexView.byteLength+1);if(n[0]=r|31,!e){let i=this.valueHexView;for(let o=0;o<i.length-1;o++)n[o+1]=i[o]|128;n[this.valueHexView.byteLength]=i[i.length-1]}return n.buffer}fromBER(e,r,n){let i=ft.toUint8Array(e);if(!Fh(this,i,r,n))return-1;let o=i.subarray(r,r+n);if(o.length===0)return this.error="Zero buffer length",-1;switch(o[0]&192){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=(o[0]&32)===32,this.isHexOnly=!1;let a=o[0]&31;if(a!==31)this.tagNumber=a,this.blockLength=1;else{let c=1,l=this.valueHexView=new Uint8Array(255),u=255;for(;o[c]&128;){if(l[c-1]=o[c]&127,c++,c>=o.length)return this.error="End of input reached before message was fully decoded",-1;if(c===u){u+=255;let p=new Uint8Array(u);for(let f=0;f<l.length;f++)p[f]=l[f];l=this.valueHexView=new Uint8Array(u)}}this.blockLength=c+1,l[c-1]=o[c]&127;let d=new Uint8Array(c);for(let p=0;p<c;p++)d[p]=l[p];l=this.valueHexView=new Uint8Array(c),l.set(d),this.blockLength<=9?this.tagNumber=__(l,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(this.tagClass===1&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return r+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}};wU.NAME="identificationBlock";AU=class extends Bh{constructor({lenBlock:e={}}={}){var r,n,i;super(),this.isIndefiniteForm=(r=e.isIndefiniteForm)!==null&&r!==void 0?r:!1,this.longFormUsed=(n=e.longFormUsed)!==null&&n!==void 0?n:!1,this.length=(i=e.length)!==null&&i!==void 0?i:0}fromBER(e,r,n){let i=ft.toUint8Array(e);if(!Fh(this,i,r,n))return-1;let o=i.subarray(r,r+n);if(o.length===0)return this.error="Zero buffer length",-1;if(o[0]===255)return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=o[0]===128,this.isIndefiniteForm)return this.blockLength=1,r+this.blockLength;if(this.longFormUsed=!!(o[0]&128),this.longFormUsed===!1)return this.length=o[0],this.blockLength=1,r+this.blockLength;let s=o[0]&127;if(s>8)return this.error="Too big integer",-1;if(s+1>o.length)return this.error="End of input reached before message was fully decoded",-1;let a=r+1,c=i.subarray(a,a+s);return c[s-1]===0&&this.warnings.push("Needlessly long encoded length"),this.length=__(c,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=s+1,r+this.blockLength}toBER(e=!1){let r,n;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return r=new ArrayBuffer(1),e===!1&&(n=new Uint8Array(r),n[0]=128),r;if(this.longFormUsed){let i=C1(this.length,8);if(i.byteLength>127)return this.error="Too big length",Bf;if(r=new ArrayBuffer(i.byteLength+1),e)return r;let o=new Uint8Array(i);n=new Uint8Array(r),n[0]=i.byteLength|128;for(let s=0;s<i.byteLength;s++)n[s+1]=o[s];return r}return r=new ArrayBuffer(1),e===!1&&(n=new Uint8Array(r),n[0]=this.length),r}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}};AU.NAME="lengthBlock";Tt={},Po=class extends Bh{constructor({name:e=kc,optional:r=!1,primitiveSchema:n,...i}={},o){super(i),this.name=e,this.optional=r,n&&(this.primitiveSchema=n),this.idBlock=new wU(i),this.lenBlock=new AU(i),this.valueBlock=o?new o(i):new Is(i)}fromBER(e,r,n){let i=this.valueBlock.fromBER(e,r,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return i===-1?(this.error=this.valueBlock.error,i):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),i)}toBER(e,r){let n=r||new AE;r||Vtt(this);let i=this.idBlock.toBER(e);if(n.write(i),this.lenBlock.isIndefiniteForm)n.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(e,n),n.write(new ArrayBuffer(2));else{let o=this.valueBlock.toBER(e);this.lenBlock.length=o.byteLength;let s=this.lenBlock.toBER(e);n.write(s),n.write(o)}return r?Bf:n.final()}toJSON(){let e={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(e.primitiveSchema=this.primitiveSchema.toJSON()),e}toString(e="ascii"){return e==="ascii"?this.onAsciiEncoding():Nt.ToHex(this.toBER())}onAsciiEncoding(){let e=this.constructor.NAME,r=Nt.ToHex(this.valueBlock.valueBeforeDecodeView);return`${e} : ${r}`}isEqual(e){if(this===e)return!0;if(!(e instanceof this.constructor))return!1;let r=this.toBER(),n=e.toBER();return Ltt(r,n)}};Po.NAME="BaseBlock";IC=class extends Po{getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}constructor({value:e=kc,...r}={},n){super(r,n),e&&this.fromString(e)}fromBER(e,r,n){let i=this.valueBlock.fromBER(e,r,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return i===-1?(this.error=this.valueBlock.error,i):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),i)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}};IC.NAME="BaseStringBlock";EU=class extends $f(Is){constructor({isHexOnly:e=!0,...r}={}){super(r),this.isHexOnly=e}};EU.NAME="PrimitiveValueBlock";$h=class extends Po{constructor(e={}){super(e,EU),this.idBlock.isConstructed=!1}};Gtt=$h;Tt.Primitive=Gtt;$h.NAME="PRIMITIVE";Mf=class extends Is{constructor({value:e=[],isIndefiniteForm:r=!1,...n}={}){super(n),this.value=e,this.isIndefiniteForm=r}fromBER(e,r,n){let i=ft.toUint8Array(e);if(!Fh(this,i,r,n))return-1;if(this.valueBeforeDecodeView=i.subarray(r,r+n),this.valueBeforeDecodeView.length===0)return this.warnings.push("Zero buffer length"),r;let o=r;for(;QXt(this.isIndefiniteForm,n)>0;){let s=TE(i,o,n);if(s.offset===-1)return this.error=s.result.error,this.warnings.concat(s.result.warnings),-1;if(o=s.offset,this.blockLength+=s.result.blockLength,n-=s.result.blockLength,this.value.push(s.result),this.isIndefiniteForm&&s.result.constructor.NAME===RC)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===RC?this.value.pop():this.warnings.push("No EndOfContent block encoded")),o}toBER(e,r){let n=r||new AE;for(let i=0;i<this.value.length;i++)this.value[i].toBER(e,n);return r?Bf:n.final()}toJSON(){let e={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(let r of this.value)e.value.push(r.toJSON());return e}};Mf.NAME="ConstructedValueBlock";ko=class extends Po{constructor(e={}){super(e,Mf),this.idBlock.isConstructed=!0}fromBER(e,r,n){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;let i=this.valueBlock.fromBER(e,r,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return i===-1?(this.error=this.valueBlock.error,i):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),i)}onAsciiEncoding(){let e=[];for(let n of this.valueBlock.value)e.push(n.toString("ascii").split(`
`).map(i=>`  ${i}`).join(`
`));let r=this.idBlock.tagClass===3?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return e.length?`${r} :
${e.join(`
`)}`:`${r} :`}};jtt=ko;Tt.Constructed=jtt;ko.NAME="CONSTRUCTED";TU=class extends Is{fromBER(e,r,n){return r}toBER(e){return Bf}};TU.override="EndOfContentValueBlock";CC=class extends Po{constructor(e={}){super(e,TU),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}};qtt=CC;Tt.EndOfContent=qtt;CC.NAME=RC;tp=class extends Po{constructor(e={}){super(e,Is),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(e,r,n){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=n,r+n>e.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):r+n}toBER(e,r){let n=new ArrayBuffer(2);if(!e){let i=new Uint8Array(n);i[0]=5,i[1]=0}return r&&r.write(n),n}onAsciiEncoding(){return`${this.constructor.NAME}`}};Wtt=tp;Tt.Null=Wtt;tp.NAME="NULL";RU=class extends $f(Is){get value(){for(let e of this.valueHexView)if(e>0)return!0;return!1}set value(e){this.valueHexView[0]=e?255:0}constructor({value:e,...r}={}){super(r),r.valueHex?this.valueHexView=ft.toUint8Array(r.valueHex):this.valueHexView=new Uint8Array(1),e&&(this.value=e)}fromBER(e,r,n){let i=ft.toUint8Array(e);return Fh(this,i,r,n)?(this.valueHexView=i.subarray(r,r+n),n>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,Ofe.call(this),this.blockLength=n,r+n):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}};RU.NAME="BooleanValueBlock";S_=class extends Po{getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}constructor(e={}){super(e,RU),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}};Jtt=S_;Tt.Boolean=Jtt;S_.NAME="BOOLEAN";IU=class extends $f(Mf){constructor({isConstructed:e=!1,...r}={}){super(r),this.isConstructed=e}fromBER(e,r,n){let i=0;if(this.isConstructed){if(this.isHexOnly=!1,i=Mf.prototype.fromBER.call(this,e,r,n),i===-1)return i;for(let o=0;o<this.value.length;o++){let s=this.value[o].constructor.NAME;if(s===RC){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(s!==ztt)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,i=super.fromBER(e,r,n),this.blockLength=n;return i}toBER(e,r){return this.isConstructed?Mf.prototype.toBER.call(this,e,r):e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}};IU.NAME="OctetStringValueBlock";rp=class extends Po{constructor({idBlock:e={},lenBlock:r={},...n}={}){var i,o;(i=n.isConstructed)!==null&&i!==void 0||(n.isConstructed=!!(!((o=n.value)===null||o===void 0)&&o.length)),super({idBlock:{isConstructed:n.isConstructed,...e},lenBlock:{...r,isIndefiniteForm:!!n.isIndefiniteForm},...n},IU),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(e,r,n){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,n===0)return this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength),r;if(!this.valueBlock.isConstructed){let o=(e instanceof ArrayBuffer?new Uint8Array(e):e).subarray(r,r+n);try{if(o.byteLength){let s=TE(o,0,o.byteLength);s.offset!==-1&&s.offset===n&&(this.valueBlock.value=[s.result])}}catch{}}return super.fromBER(e,r,n)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return ko.prototype.onAsciiEncoding.call(this);let e=this.constructor.NAME,r=Nt.ToHex(this.valueBlock.valueHexView);return`${e} : ${r}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;let e=[];for(let r of this.valueBlock.value)r instanceof Mfe&&e.push(r.valueBlock.valueHexView);return ft.concat(e)}};Mfe=rp;Tt.OctetString=Mfe;rp.NAME=ztt;CU=class extends $f(Mf){constructor({unusedBits:e=0,isConstructed:r=!1,...n}={}){super(n),this.unusedBits=e,this.isConstructed=r,this.blockLength=this.valueHexView.byteLength}fromBER(e,r,n){if(!n)return r;let i=-1;if(this.isConstructed){if(i=Mf.prototype.fromBER.call(this,e,r,n),i===-1)return i;for(let a of this.value){let c=a.constructor.NAME;if(c===RC){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(c!==Htt)return this.error="BIT STRING may consists of BIT STRINGs only",-1;let l=a.valueBlock;if(this.unusedBits>0&&l.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=l.unusedBits}return i}let o=ft.toUint8Array(e);if(!Fh(this,o,r,n))return-1;let s=o.subarray(r,r+n);if(this.unusedBits=s[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){let a=s.subarray(1);try{if(a.byteLength){let c=TE(a,0,a.byteLength);c.offset!==-1&&c.offset===n-1&&(this.value=[c.result])}}catch{}}return this.valueHexView=s.subarray(1),this.blockLength=s.length,r+n}toBER(e,r){if(this.isConstructed)return Mf.prototype.toBER.call(this,e,r);if(e)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength){let i=new Uint8Array(1);return i[0]=0,i.buffer}let n=new Uint8Array(this.valueHexView.length+1);return n[0]=this.unusedBits,n.set(this.valueHexView,1),n.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}};CU.NAME="BitStringValueBlock";np=class extends Po{constructor({idBlock:e={},lenBlock:r={},...n}={}){var i,o;(i=n.isConstructed)!==null&&i!==void 0||(n.isConstructed=!!(!((o=n.value)===null||o===void 0)&&o.length)),super({idBlock:{isConstructed:n.isConstructed,...e},lenBlock:{...r,isIndefiniteForm:!!n.isIndefiniteForm},...n},CU),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(e,r,n){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(e,r,n)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return ko.prototype.onAsciiEncoding.call(this);{let e=[],r=this.valueBlock.valueHexView;for(let s of r)e.push(s.toString(2).padStart(8,"0"));let n=e.join(""),i=this.constructor.NAME,o=n.substring(0,n.length-this.valueBlock.unusedBits);return`${i} : ${o}`}}};Ktt=np;Tt.BitString=Ktt;np.NAME=Htt;NC=class extends $f(Is){setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=Ofe.call(this)))}constructor({value:e,...r}={}){super(r),this._valueDec=0,r.valueHex&&this.setValueHex(),e!==void 0&&(this.valueDec=e)}set valueDec(e){this._valueDec=e,this.isHexOnly=!1,this.valueHexView=new Uint8Array(Mtt(e))}get valueDec(){return this._valueDec}fromDER(e,r,n,i=0){let o=this.fromBER(e,r,n);if(o===-1)return o;let s=this.valueHexView;return s[0]===0&&(s[1]&128)!==0?this.valueHexView=s.subarray(1):i!==0&&s.length<i&&(i-s.length>1&&(i=s.length+1),this.valueHexView=s.subarray(i-s.length)),o}toDER(e=!1){let r=this.valueHexView;switch(!0){case(r[0]&128)!==0:{let n=new Uint8Array(this.valueHexView.length+1);n[0]=0,n.set(r,1),this.valueHexView=n}break;case(r[0]===0&&(r[1]&128)===0):this.valueHexView=this.valueHexView.subarray(1);break}return this.toBER(e)}fromBER(e,r,n){let i=super.fromBER(e,r,n);return i===-1||this.setValueHex(),i}toBER(e){return e?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){let e=this.valueHexView.length*8-1,r=new Uint8Array(this.valueHexView.length*8/3),n=0,i,o=this.valueHexView,s="",a=!1;for(let c=o.byteLength-1;c>=0;c--){i=o[c];for(let l=0;l<8;l++){if((i&1)===1)switch(n){case e:r=YXt(Ftt(n),r),s="-";break;default:r=XXt(r,Ftt(n))}n++,i>>=1}}for(let c=0;c<r.length;c++)r[c]&&(a=!0),a&&(s+=$tt.charAt(r[c]));return a===!1&&(s+=$tt.charAt(0)),s}};Qtt=NC;NC.NAME="IntegerValueBlock";Object.defineProperty(Qtt.prototype,"valueHex",{set:function(t){this.valueHexView=new Uint8Array(t),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});Uh=class extends Po{constructor(e={}){super(e,NC),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return xU(),BigInt(this.valueBlock.toString())}static fromBigInt(e){xU();let r=BigInt(e),n=new AE,i=r.toString(16).replace(/^-/,""),o=new Uint8Array(Nt.FromHex(i));if(r<0){let a=new Uint8Array(o.length+(o[0]&128?1:0));a[0]|=128;let l=BigInt(`0x${Nt.ToHex(a)}`)+r,u=ft.toUint8Array(Nt.FromHex(l.toString(16)));u[0]|=128,n.write(u)}else o[0]&128&&n.write(new Uint8Array([0])),n.write(o);return new TC({valueHex:n.final()})}convertToDER(){let e=new TC({valueHex:this.valueBlock.valueHexView});return e.valueBlock.toDER(),e}convertFromDER(){return new TC({valueHex:this.valueBlock.valueHexView[0]===0?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}};TC=Uh;Tt.Integer=TC;Uh.NAME="INTEGER";x_=class extends Uh{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}};Xtt=x_;Tt.Enumerated=Xtt;x_.NAME="ENUMERATED";OC=class extends $f(Is){constructor({valueDec:e=-1,isFirstSid:r=!1,...n}={}){super(n),this.valueDec=e,this.isFirstSid=r}fromBER(e,r,n){if(!n)return r;let i=ft.toUint8Array(e);if(!Fh(this,i,r,n))return-1;let o=i.subarray(r,r+n);this.valueHexView=new Uint8Array(n);for(let a=0;a<n&&(this.valueHexView[a]=o[a]&127,this.blockLength++,(o[a]&128)!==0);a++);let s=new Uint8Array(this.blockLength);for(let a=0;a<this.blockLength;a++)s[a]=this.valueHexView[a];return this.valueHexView=s,(o[this.blockLength-1]&128)!==0?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=__(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),r+this.blockLength)}set valueBigInt(e){xU();let r=BigInt(e).toString(2);for(;r.length%7;)r="0"+r;let n=new Uint8Array(r.length/7);for(let i=0;i<n.length;i++)n[i]=parseInt(r.slice(i*7,i*7+7),2)+(i+1<n.length?128:0);this.fromBER(n.buffer,0,n.length)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);let i=this.valueHexView,o=new Uint8Array(this.blockLength);for(let s=0;s<this.blockLength-1;s++)o[s]=i[s]|128;return o[this.blockLength-1]=i[this.blockLength-1],o.buffer}let r=C1(this.valueDec,7);if(r.byteLength===0)return this.error="Error during encoding SID value",Bf;let n=new Uint8Array(r.byteLength);if(!e){let i=new Uint8Array(r),o=r.byteLength-1;for(let s=0;s<o;s++)n[s]=i[s]|128;n[o]=i[o]}return n}toString(){let e="";if(this.isHexOnly)e=Nt.ToHex(this.valueHexView);else if(this.isFirstSid){let r=this.valueDec;this.valueDec<=39?e="0.":this.valueDec<=79?(e="1.",r-=40):(e="2.",r-=80),e+=r.toString()}else e=this.valueDec.toString();return e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}};OC.NAME="sidBlock";NU=class extends Is{constructor({value:e=kc,...r}={}){super(r),this.value=[],e&&this.fromString(e)}fromBER(e,r,n){let i=r;for(;n>0;){let o=new OC;if(i=o.fromBER(e,i,n),i===-1)return this.blockLength=0,this.error=o.error,i;this.value.length===0&&(o.isFirstSid=!0),this.blockLength+=o.blockLength,n-=o.blockLength,this.value.push(o)}return i}toBER(e){let r=[];for(let n=0;n<this.value.length;n++){let i=this.value[n].toBER(e);if(i.byteLength===0)return this.error=this.value[n].error,Bf;r.push(i)}return Dfe(r)}fromString(e){this.value=[];let r=0,n=0,i="",o=!1;do if(n=e.indexOf(".",r),n===-1?i=e.substring(r):i=e.substring(r,n),r=n+1,o){let s=this.value[0],a=0;switch(s.valueDec){case 0:break;case 1:a=40;break;case 2:a=80;break;default:this.value=[];return}let c=parseInt(i,10);if(isNaN(c))return;s.valueDec=c+a,o=!1}else{let s=new OC;if(i>Number.MAX_SAFE_INTEGER){xU();let a=BigInt(i);s.valueBigInt=a}else if(s.valueDec=parseInt(i,10),isNaN(s.valueDec))return;this.value.length||(s.isFirstSid=!0,o=!0),this.value.push(s)}while(n!==-1)}toString(){let e="",r=!1;for(let n=0;n<this.value.length;n++){r=this.value[n].isHexOnly;let i=this.value[n].toString();n!==0&&(e=`${e}.`),r?(i=`{${i}}`,this.value[n].isFirstSid?e=`2.{${i} - 80}`:e+=i):e+=i}return e}toJSON(){let e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let r=0;r<this.value.length;r++)e.sidArray.push(this.value[r].toJSON());return e}};NU.NAME="ObjectIdentifierValueBlock";w_=class extends Po{getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}constructor(e={}){super(e,NU),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}};Ytt=w_;Tt.ObjectIdentifier=Ytt;w_.NAME="OBJECT IDENTIFIER";PC=class extends $f(Bh){constructor({valueDec:e=0,...r}={}){super(r),this.valueDec=e}fromBER(e,r,n){if(n===0)return r;let i=ft.toUint8Array(e);if(!Fh(this,i,r,n))return-1;let o=i.subarray(r,r+n);this.valueHexView=new Uint8Array(n);for(let a=0;a<n&&(this.valueHexView[a]=o[a]&127,this.blockLength++,(o[a]&128)!==0);a++);let s=new Uint8Array(this.blockLength);for(let a=0;a<this.blockLength;a++)s[a]=this.valueHexView[a];return this.valueHexView=s,(o[this.blockLength-1]&128)!==0?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=__(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),r+this.blockLength)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);let i=this.valueHexView,o=new Uint8Array(this.blockLength);for(let s=0;s<this.blockLength-1;s++)o[s]=i[s]|128;return o[this.blockLength-1]=i[this.blockLength-1],o.buffer}let r=C1(this.valueDec,7);if(r.byteLength===0)return this.error="Error during encoding SID value",Bf;let n=new Uint8Array(r.byteLength);if(!e){let i=new Uint8Array(r),o=r.byteLength-1;for(let s=0;s<o;s++)n[s]=i[s]|128;n[o]=i[o]}return n.buffer}toString(){let e="";return this.isHexOnly?e=Nt.ToHex(this.valueHexView):e=this.valueDec.toString(),e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}};PC.NAME="relativeSidBlock";OU=class extends Is{constructor({value:e=kc,...r}={}){super(r),this.value=[],e&&this.fromString(e)}fromBER(e,r,n){let i=r;for(;n>0;){let o=new PC;if(i=o.fromBER(e,i,n),i===-1)return this.blockLength=0,this.error=o.error,i;this.blockLength+=o.blockLength,n-=o.blockLength,this.value.push(o)}return i}toBER(e,r){let n=[];for(let i=0;i<this.value.length;i++){let o=this.value[i].toBER(e);if(o.byteLength===0)return this.error=this.value[i].error,Bf;n.push(o)}return Dfe(n)}fromString(e){this.value=[];let r=0,n=0,i="";do{n=e.indexOf(".",r),n===-1?i=e.substring(r):i=e.substring(r,n),r=n+1;let o=new PC;if(o.valueDec=parseInt(i,10),isNaN(o.valueDec))return!0;this.value.push(o)}while(n!==-1);return!0}toString(){let e="",r=!1;for(let n=0;n<this.value.length;n++){r=this.value[n].isHexOnly;let i=this.value[n].toString();n!==0&&(e=`${e}.`),r&&(i=`{${i}}`),e+=i}return e}toJSON(){let e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let r=0;r<this.value.length;r++)e.sidArray.push(this.value[r].toJSON());return e}};OU.NAME="RelativeObjectIdentifierValueBlock";kC=class extends Po{getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}constructor(e={}){super(e,OU),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}};Ztt=kC;Tt.RelativeObjectIdentifier=Ztt;kC.NAME="RelativeObjectIdentifier";sa=class extends ko{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}};ert=sa;Tt.Sequence=ert;sa.NAME="SEQUENCE";Ba=class extends ko{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}};trt=Ba;Tt.Set=trt;Ba.NAME="SET";PU=class extends $f(Is){constructor({...e}={}){super(e),this.isHexOnly=!0,this.value=kc}toJSON(){return{...super.toJSON(),value:this.value}}};PU.NAME="StringValueBlock";kU=class extends PU{};kU.NAME="SimpleStringValueBlock";$a=class extends IC{constructor({...e}={}){super(e,kU)}fromBuffer(e){this.valueBlock.value=String.fromCharCode.apply(null,ft.toUint8Array(e))}fromString(e){let r=e.length,n=this.valueBlock.valueHexView=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=e.charCodeAt(i);this.valueBlock.value=e}};$a.NAME="SIMPLE STRING";DU=class extends $a{fromBuffer(e){this.valueBlock.valueHexView=ft.toUint8Array(e);try{this.valueBlock.value=Nt.ToUtf8String(e)}catch(r){this.warnings.push(`Error during "decodeURIComponent": ${r}, using raw string`),this.valueBlock.value=Nt.ToBinary(e)}}fromString(e){this.valueBlock.valueHexView=new Uint8Array(Nt.FromUtf8String(e)),this.valueBlock.value=e}};DU.NAME="Utf8StringValueBlock";Zu=class extends DU{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}};rrt=Zu;Tt.Utf8String=rrt;Zu.NAME="UTF8String";MU=class extends $a{fromBuffer(e){this.valueBlock.value=Nt.ToUtf16String(e),this.valueBlock.valueHexView=ft.toUint8Array(e)}fromString(e){this.valueBlock.value=e,this.valueBlock.valueHexView=new Uint8Array(Nt.FromUtf16String(e))}};MU.NAME="BmpStringValueBlock";A_=class extends MU{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}};nrt=A_;Tt.BmpString=nrt;A_.NAME="BMPString";LU=class extends $a{fromBuffer(e){let r=ArrayBuffer.isView(e)?e.slice().buffer:e.slice(0),n=new Uint8Array(r);for(let i=0;i<n.length;i+=4)n[i]=n[i+3],n[i+1]=n[i+2],n[i+2]=0,n[i+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(r))}fromString(e){let r=e.length,n=this.valueBlock.valueHexView=new Uint8Array(r*4);for(let i=0;i<r;i++){let o=C1(e.charCodeAt(i),8),s=new Uint8Array(o);if(s.length>4)continue;let a=4-s.length;for(let c=s.length-1;c>=0;c--)n[i*4+c+a]=s[c]}this.valueBlock.value=e}};LU.NAME="UniversalStringValueBlock";E_=class extends LU{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}};irt=E_;Tt.UniversalString=irt;E_.NAME="UniversalString";T_=class extends $a{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}};ort=T_;Tt.NumericString=ort;T_.NAME="NumericString";R_=class extends $a{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}};srt=R_;Tt.PrintableString=srt;R_.NAME="PrintableString";I_=class extends $a{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}};art=I_;Tt.TeletexString=art;I_.NAME="TeletexString";C_=class extends $a{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}};crt=C_;Tt.VideotexString=crt;C_.NAME="VideotexString";N_=class extends $a{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}};lrt=N_;Tt.IA5String=lrt;N_.NAME="IA5String";O_=class extends $a{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}};urt=O_;Tt.GraphicString=urt;O_.NAME="GraphicString";N1=class extends $a{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}};drt=N1;Tt.VisibleString=drt;N1.NAME="VisibleString";P_=class extends $a{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}};prt=P_;Tt.GeneralString=prt;P_.NAME="GeneralString";k_=class extends $a{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}};frt=k_;Tt.CharacterString=frt;k_.NAME="CharacterString";O1=class extends N1{constructor({value:e,valueDate:r,...n}={}){if(super(n),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,e){this.fromString(e),this.valueBlock.valueHexView=new Uint8Array(e.length);for(let i=0;i<e.length;i++)this.valueBlock.valueHexView[i]=e.charCodeAt(i)}r&&(this.fromDate(r),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(e){this.fromString(String.fromCharCode.apply(null,ft.toUint8Array(e)))}toBuffer(){let e=this.toString(),r=new ArrayBuffer(e.length),n=new Uint8Array(r);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return r}fromDate(e){this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(e){let n=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig.exec(e);if(n===null){this.error="Wrong input string for conversion";return}let i=parseInt(n[1],10);i>=50?this.year=1900+i:this.year=2e3+i,this.month=parseInt(n[2],10),this.day=parseInt(n[3],10),this.hour=parseInt(n[4],10),this.minute=parseInt(n[5],10),this.second=parseInt(n[6],10)}toString(e="iso"){if(e==="iso"){let r=new Array(7);return r[0]=Pc(this.year<2e3?this.year-1900:this.year-2e3,2),r[1]=Pc(this.month,2),r[2]=Pc(this.day,2),r[3]=Pc(this.hour,2),r[4]=Pc(this.minute,2),r[5]=Pc(this.second,2),r[6]="Z",r.join("")}return super.toString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}};mrt=O1;Tt.UTCTime=mrt;O1.NAME="UTCTime";D_=class extends O1{constructor(e={}){var r;super(e),(r=this.millisecond)!==null&&r!==void 0||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(e){super.fromDate(e),this.millisecond=e.getUTCMilliseconds()}toDate(){let e=Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond);return new Date(e)}fromString(e){let r=!1,n="",i="",o=0,s,a=0,c=0;if(e[e.length-1]==="Z")n=e.substring(0,e.length-1),r=!0;else{let d=new Number(e[e.length-1]);if(isNaN(d.valueOf()))throw new Error("Wrong input string for conversion");n=e}if(r){if(n.indexOf("+")!==-1)throw new Error("Wrong input string for conversion");if(n.indexOf("-")!==-1)throw new Error("Wrong input string for conversion")}else{let d=1,p=n.indexOf("+"),f="";if(p===-1&&(p=n.indexOf("-"),d=-1),p!==-1){if(f=n.substring(p+1),n=n.substring(0,p),f.length!==2&&f.length!==4)throw new Error("Wrong input string for conversion");let h=parseInt(f.substring(0,2),10);if(isNaN(h.valueOf()))throw new Error("Wrong input string for conversion");if(a=d*h,f.length===4){if(h=parseInt(f.substring(2,4),10),isNaN(h.valueOf()))throw new Error("Wrong input string for conversion");c=d*h}}}let l=n.indexOf(".");if(l===-1&&(l=n.indexOf(",")),l!==-1){let d=new Number(`0${n.substring(l)}`);if(isNaN(d.valueOf()))throw new Error("Wrong input string for conversion");o=d.valueOf(),i=n.substring(0,l)}else i=n;switch(!0){case i.length===8:if(s=/(\d{4})(\d{2})(\d{2})/ig,l!==-1)throw new Error("Wrong input string for conversion");break;case i.length===10:if(s=/(\d{4})(\d{2})(\d{2})(\d{2})/ig,l!==-1){let d=60*o;this.minute=Math.floor(d),d=60*(d-this.minute),this.second=Math.floor(d),d=1e3*(d-this.second),this.millisecond=Math.floor(d)}break;case i.length===12:if(s=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/ig,l!==-1){let d=60*o;this.second=Math.floor(d),d=1e3*(d-this.second),this.millisecond=Math.floor(d)}break;case i.length===14:if(s=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/ig,l!==-1){let d=1e3*o;this.millisecond=Math.floor(d)}break;default:throw new Error("Wrong input string for conversion")}let u=s.exec(i);if(u===null)throw new Error("Wrong input string for conversion");for(let d=1;d<u.length;d++)switch(d){case 1:this.year=parseInt(u[d],10);break;case 2:this.month=parseInt(u[d],10);break;case 3:this.day=parseInt(u[d],10);break;case 4:this.hour=parseInt(u[d],10)+a;break;case 5:this.minute=parseInt(u[d],10)+c;break;case 6:this.second=parseInt(u[d],10);break;default:throw new Error("Wrong input string for conversion")}if(r===!1){let d=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=d.getUTCFullYear(),this.month=d.getUTCMonth(),this.day=d.getUTCDay(),this.hour=d.getUTCHours(),this.minute=d.getUTCMinutes(),this.second=d.getUTCSeconds(),this.millisecond=d.getUTCMilliseconds()}}toString(e="iso"){if(e==="iso"){let r=[];return r.push(Pc(this.year,4)),r.push(Pc(this.month,2)),r.push(Pc(this.day,2)),r.push(Pc(this.hour,2)),r.push(Pc(this.minute,2)),r.push(Pc(this.second,2)),this.millisecond!==0&&(r.push("."),r.push(Pc(this.millisecond,3))),r.push("Z"),r.join("")}return super.toString(e)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}};hrt=D_;Tt.GeneralizedTime=hrt;D_.NAME="GeneralizedTime";DC=class extends Zu{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}};grt=DC;Tt.DATE=grt;DC.NAME="DATE";MC=class extends Zu{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}};yrt=MC;Tt.TimeOfDay=yrt;MC.NAME="TimeOfDay";LC=class extends Zu{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}};brt=LC;Tt.DateTime=brt;LC.NAME="DateTime";BC=class extends Zu{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}};vrt=BC;Tt.Duration=vrt;BC.NAME="Duration";$C=class extends Zu{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}};_rt=$C;Tt.TIME=_rt;$C.NAME="TIME";Lf=class{constructor({name:e=kc,optional:r=!1}={}){this.name=e,this.optional=r}},EE=class extends Lf{constructor({value:e=[],...r}={}){super(r),this.value=e}},M_=class extends Lf{constructor({value:e=new Lf,local:r=!1,...n}={}){super(n),this.value=e,this.local=r}},kfe=class{get data(){return this.dataView.slice().buffer}set data(e){this.dataView=ft.toUint8Array(e)}constructor({data:e=BU}={}){this.dataView=ft.toUint8Array(e)}fromBER(e,r,n){let i=r+n;return this.dataView=ft.toUint8Array(e).subarray(r,i),i}toBER(e){return this.dataView.slice().buffer}}});var de,Z,L_=b(()=>{"use strict";(function(t){t[t.Sequence=0]="Sequence",t[t.Set=1]="Set",t[t.Choice=2]="Choice"})(de||(de={}));(function(t){t[t.Any=1]="Any",t[t.Boolean=2]="Boolean",t[t.OctetString=3]="OctetString",t[t.BitString=4]="BitString",t[t.Integer=5]="Integer",t[t.Enumerated=6]="Enumerated",t[t.ObjectIdentifier=7]="ObjectIdentifier",t[t.Utf8String=8]="Utf8String",t[t.BmpString=9]="BmpString",t[t.UniversalString=10]="UniversalString",t[t.NumericString=11]="NumericString",t[t.PrintableString=12]="PrintableString",t[t.TeletexString=13]="TeletexString",t[t.VideotexString=14]="VideotexString",t[t.IA5String=15]="IA5String",t[t.GraphicString=16]="GraphicString",t[t.VisibleString=17]="VisibleString",t[t.GeneralString=18]="GeneralString",t[t.CharacterString=19]="CharacterString",t[t.UTCTime=20]="UTCTime",t[t.GeneralizedTime=21]="GeneralizedTime",t[t.DATE=22]="DATE",t[t.TimeOfDay=23]="TimeOfDay",t[t.DateTime=24]="DateTime",t[t.Duration=25]="Duration",t[t.TIME=26]="TIME",t[t.Null=27]="Null"})(Z||(Z={}))});var Ff,Srt=b(()=>{"use strict";P1();Mh();Ff=class{constructor(e,r=0){if(this.unusedBits=0,this.value=new ArrayBuffer(0),e)if(typeof e=="number")this.fromNumber(e);else if(ft.isBufferSource(e))this.unusedBits=r,this.value=ft.toArrayBuffer(e);else throw TypeError("Unsupported type of 'params' argument for BitString")}fromASN(e){if(!(e instanceof np))throw new TypeError("Argument 'asn' is not instance of ASN.1 BitString");return this.unusedBits=e.valueBlock.unusedBits,this.value=e.valueBlock.valueHex,this}toASN(){return new np({unusedBits:this.unusedBits,valueHex:this.value})}toSchema(e){return new np({name:e})}toNumber(){let e="",r=new Uint8Array(this.value);for(let n of r)e+=n.toString(2).padStart(8,"0");return e=e.split("").reverse().join(""),this.unusedBits&&(e=e.slice(this.unusedBits).padStart(this.unusedBits,"0")),parseInt(e,2)}fromNumber(e){let r=e.toString(2),n=r.length+7>>3;this.unusedBits=(n<<3)-r.length;let i=new Uint8Array(n);r=r.padStart(n<<3,"0").split("").reverse().join("");let o=0;for(;o<n;)i[o]=parseInt(r.slice(o<<3,(o<<3)+8),2),o++;this.value=i.buffer}}});var zt,xrt=b(()=>{"use strict";P1();Mh();zt=class{get byteLength(){return this.buffer.byteLength}get byteOffset(){return 0}constructor(e){typeof e=="number"?this.buffer=new ArrayBuffer(e):ft.isBufferSource(e)?this.buffer=ft.toArrayBuffer(e):Array.isArray(e)?this.buffer=new Uint8Array(e):this.buffer=new ArrayBuffer(0)}fromASN(e){if(!(e instanceof rp))throw new TypeError("Argument 'asn' is not instance of ASN.1 OctetString");return this.buffer=e.valueBlock.valueHex,this}toASN(){return new rp({valueHex:this.buffer})}toSchema(e){return new rp({name:e})}}});var Lfe=b(()=>{"use strict";Srt();xrt()});function ed(t){return{fromASN:e=>e.valueBlock.value,toASN:e=>new t({value:e})}}function k1(t){switch(t){case Z.Any:return eYt;case Z.BitString:return nYt;case Z.BmpString:return sYt;case Z.Boolean:return oYt;case Z.CharacterString:return gYt;case Z.Enumerated:return rYt;case Z.GeneralString:return hYt;case Z.GeneralizedTime:return bYt;case Z.GraphicString:return fYt;case Z.IA5String:return pYt;case Z.Integer:return tYt;case Z.Null:return vYt;case Z.NumericString:return cYt;case Z.ObjectIdentifier:return iYt;case Z.OctetString:return RE;case Z.PrintableString:return lYt;case Z.TeletexString:return uYt;case Z.UTCTime:return yYt;case Z.UniversalString:return aYt;case Z.Utf8String:return Bfe;case Z.VideotexString:return dYt;case Z.VisibleString:return mYt;default:return null}}var eYt,tYt,rYt,Or,nYt,iYt,oYt,RE,wrt,Bfe,sYt,aYt,cYt,lYt,uYt,dYt,pYt,fYt,mYt,hYt,gYt,yYt,bYt,vYt,UC=b(()=>{"use strict";P1();L_();Lfe();eYt={fromASN:t=>t instanceof tp?null:t.valueBeforeDecodeView,toASN:t=>{if(t===null)return new tp;let e=zh(t);if(e.result.error)throw new Error(e.result.error);return e.result}},tYt={fromASN:t=>t.valueBlock.valueHexView.byteLength>=4?t.valueBlock.toString():t.valueBlock.valueDec,toASN:t=>new Uh({value:+t})},rYt={fromASN:t=>t.valueBlock.valueDec,toASN:t=>new x_({value:t})},Or={fromASN:t=>t.valueBlock.valueHexView,toASN:t=>new Uh({valueHex:t})},nYt={fromASN:t=>t.valueBlock.valueHexView,toASN:t=>new np({valueHex:t})},iYt={fromASN:t=>t.valueBlock.toString(),toASN:t=>new w_({value:t})},oYt={fromASN:t=>t.valueBlock.value,toASN:t=>new S_({value:t})},RE={fromASN:t=>t.valueBlock.valueHexView,toASN:t=>new rp({valueHex:t})},wrt={fromASN:t=>new zt(t.getValue()),toASN:t=>t.toASN()};Bfe=ed(Zu),sYt=ed(A_),aYt=ed(E_),cYt=ed(T_),lYt=ed(R_),uYt=ed(I_),dYt=ed(C_),pYt=ed(N_),fYt=ed(O_),mYt=ed(N1),hYt=ed(P_),gYt=ed(k_),yYt={fromASN:t=>t.toDate(),toASN:t=>new O1({valueDate:t})},bYt={fromASN:t=>t.toDate(),toASN:t=>new D_({valueDate:t})},vYt={fromASN:()=>null,toASN:()=>new tp}});function td(t){return typeof t=="function"&&t.prototype?t.prototype.toASN&&t.prototype.fromASN?!0:td(t.prototype):!!(t&&typeof t=="object"&&"toASN"in t&&"fromASN"in t)}function Ufe(t){var e;if(t){let r=Object.getPrototypeOf(t);return((e=r?.prototype)===null||e===void 0?void 0:e.constructor)===Array?!0:Ufe(r)}return!1}function Art(t,e){if(!(t&&e)||t.byteLength!==e.byteLength)return!1;let r=new Uint8Array(t),n=new Uint8Array(e);for(let i=0;i<t.byteLength;i++)if(r[i]!==n[i])return!1;return!0}var $U=b(()=>{"use strict"});var UU,Ert=b(()=>{"use strict";P1();L_();$U();UU=class{constructor(){this.items=new WeakMap}has(e){return this.items.has(e)}get(e,r=!1){let n=this.items.get(e);if(!n)throw new Error(`Cannot get schema for '${e.prototype.constructor.name}' target`);if(r&&!n.schema)throw new Error(`Schema '${e.prototype.constructor.name}' doesn't contain ASN.1 schema. Call 'AsnSchemaStorage.cache'.`);return n}cache(e){let r=this.get(e);r.schema||(r.schema=this.create(e,!0))}createDefault(e){let r={type:de.Sequence,items:{}},n=this.findParentSchema(e);return n&&(Object.assign(r,n),r.items=Object.assign({},r.items,n.items)),r}create(e,r){let n=this.items.get(e)||this.createDefault(e),i=[];for(let o in n.items){let s=n.items[o],a=r?o:"",c;if(typeof s.type=="number"){let u=Z[s.type],d=Uf[u];if(!d)throw new Error(`Cannot get ASN1 class by name '${u}'`);c=new d({name:a})}else td(s.type)?c=new s.type().toSchema(a):s.optional?this.get(s.type).type===de.Choice?c=new Lf({name:a}):(c=this.create(s.type,!1),c.name=a):c=new Lf({name:a});let l=!!s.optional||s.defaultValue!==void 0;if(s.repeated){c.name="";let u=s.repeated==="set"?Ba:sa;c=new u({name:"",value:[new M_({name:a,value:c})]})}if(s.context!==null&&s.context!==void 0)if(s.implicit)if(typeof s.type=="number"||td(s.type)){let u=s.repeated?ko:$h;i.push(new u({name:a,optional:l,idBlock:{tagClass:3,tagNumber:s.context}}))}else{this.cache(s.type);let u=!!s.repeated,d=u?c:this.get(s.type,!0).schema;d="valueBlock"in d?d.valueBlock.value:d.value,i.push(new ko({name:u?"":a,optional:l,idBlock:{tagClass:3,tagNumber:s.context},value:d}))}else i.push(new ko({optional:l,idBlock:{tagClass:3,tagNumber:s.context},value:[c]}));else c.optional=l,i.push(c)}switch(n.type){case de.Sequence:return new sa({value:i,name:""});case de.Set:return new Ba({value:i,name:""});case de.Choice:return new EE({value:i,name:""});default:throw new Error("Unsupported ASN1 type in use")}}set(e,r){return this.items.set(e,r),this}findParentSchema(e){let r=Object.getPrototypeOf(e);return r?this.items.get(r)||this.findParentSchema(r):null}}});var Do,FU=b(()=>{"use strict";Ert();Do=new UU});var ye,F,Trt=b(()=>{"use strict";UC();L_();FU();ye=t=>e=>{let r;Do.has(e)?r=Do.get(e):(r=Do.createDefault(e),Do.set(e,r)),Object.assign(r,t)},F=t=>(e,r)=>{let n;Do.has(e.constructor)?n=Do.get(e.constructor):(n=Do.createDefault(e.constructor),Do.set(e.constructor,n));let i=Object.assign({},t);if(typeof i.type=="number"&&!i.converter){let o=k1(t.type);if(!o)throw new Error(`Cannot get default converter for property '${r}' of ${e.constructor.name}`);i.converter=o}i.raw=t.raw,n.items[r]=i}});var D1,Rrt=b(()=>{"use strict";D1=class extends Error{constructor(){super(...arguments),this.schemas=[]}}});var Ffe=b(()=>{"use strict";Rrt()});var FC,zfe=b(()=>{"use strict";P1();L_();UC();Ffe();$U();FU();FC=class{static parse(e,r){let n=zh(e);if(n.result.error)throw new Error(n.result.error);return this.fromASN(n.result,r)}static fromASN(e,r){try{if(td(r))return new r().fromASN(e);let n=Do.get(r);Do.cache(r);let i=n.schema,o=this.handleChoiceTypes(e,n,r,i);if(o?.result)return o.result;o?.targetSchema&&(i=o.targetSchema);let s=this.handleSequenceTypes(e,n,r,i),a=new r;return Ufe(r)?this.handleArrayTypes(e,n,r):(this.processSchemaItems(n,s,a),a)}catch(n){throw n instanceof D1&&n.schemas.push(r.name),n}}static handleChoiceTypes(e,r,n,i){if(e.constructor===ko&&r.type===de.Choice&&e.idBlock.tagClass===3)for(let o in r.items){let s=r.items[o];if(s.context===e.idBlock.tagNumber&&s.implicit&&typeof s.type=="function"&&Do.has(s.type)){let a=Do.get(s.type);if(a&&a.type===de.Sequence){let c=new sa;if("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)&&"value"in c.valueBlock){c.valueBlock.value=e.valueBlock.value;let l=this.fromASN(c,s.type),u=new n;return u[o]=l,{result:u}}}}}else if(e.constructor===ko&&r.type!==de.Choice){let o=new ko({idBlock:{tagClass:3,tagNumber:e.idBlock.tagNumber},value:r.schema.valueBlock.value});for(let s in r.items)delete e[s];return{targetSchema:o}}return null}static handleSequenceTypes(e,r,n,i){if(r.type===de.Sequence){let o=Lh({},e,i);if(!o.verified)throw new D1(`Data does not match to ${n.name} ASN1 schema.${o.result.error?` ${o.result.error}`:""}`);return o}else{let o=Lh({},e,i);if(!o.verified)throw new D1(`Data does not match to ${n.name} ASN1 schema.${o.result.error?` ${o.result.error}`:""}`);return o}}static processRepeatedField(e,r,n){let i=e.slice(r);if(i.length===1&&i[0].constructor.name==="Sequence"){let o=i[0];o.valueBlock&&o.valueBlock.value&&Array.isArray(o.valueBlock.value)&&(i=o.valueBlock.value)}if(typeof n.type=="number"){let o=k1(n.type);if(!o)throw new Error(`No converter for ASN.1 type ${n.type}`);return i.filter(s=>s&&s.valueBlock).map(s=>{try{return o.fromASN(s)}catch{return}}).filter(s=>s!==void 0)}else return i.filter(o=>o&&o.valueBlock).map(o=>{try{return this.fromASN(o,n.type)}catch{return}}).filter(o=>o!==void 0)}static processPrimitiveField(e,r){let n=k1(r.type);if(!n)throw new Error(`No converter for ASN.1 type ${r.type}`);return n.fromASN(e)}static isOptionalChoiceField(e){return e.optional&&typeof e.type=="function"&&Do.has(e.type)&&Do.get(e.type).type===de.Choice}static processOptionalChoiceField(e,r){try{return{processed:!0,value:this.fromASN(e,r.type)}}catch(n){if(n instanceof D1&&/Wrong values for Choice type/.test(n.message))return{processed:!1};throw n}}static handleArrayTypes(e,r,n){if(!("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");let i=r.itemType;if(typeof i=="number"){let o=k1(i);if(!o)throw new Error(`Cannot get default converter for array item of ${n.name} ASN1 schema`);return n.from(e.valueBlock.value,s=>o.fromASN(s))}else return n.from(e.valueBlock.value,o=>this.fromASN(o,i))}static processSchemaItems(e,r,n){for(let i in e.items){let o=r.result[i];if(!o)continue;let s=e.items[i],a=s.type,c;typeof a=="number"||td(a)?c=this.processPrimitiveSchemaItem(o,s,a):c=this.processComplexSchemaItem(o,s,a),c&&typeof c=="object"&&"value"in c&&"raw"in c?(n[i]=c.value,n[`${i}Raw`]=c.raw):n[i]=c}}static processPrimitiveSchemaItem(e,r,n){var i;let o=(i=r.converter)!==null&&i!==void 0?i:td(n)?new n:null;if(!o)throw new Error("Converter is empty");return r.repeated?this.processRepeatedPrimitiveItem(e,r,o):this.processSinglePrimitiveItem(e,r,n,o)}static processRepeatedPrimitiveItem(e,r,n){if(r.implicit){let i=r.repeated==="sequence"?sa:Ba,o=new i;o.valueBlock=e.valueBlock;let s=zh(o.toBER(!1));if(s.offset===-1)throw new Error(`Cannot parse the child item. ${s.result.error}`);if(!("value"in s.result.valueBlock&&Array.isArray(s.result.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");let a=s.result.valueBlock.value;return Array.from(a,c=>n.fromASN(c))}else return Array.from(e,i=>n.fromASN(i))}static processSinglePrimitiveItem(e,r,n,i){let o=e;if(r.implicit){let s;if(td(n))s=new n().toSchema("");else{let a=Z[n],c=Uf[a];if(!c)throw new Error(`Cannot get '${a}' class from asn1js module`);s=new c}s.valueBlock=o.valueBlock,o=zh(s.toBER(!1)).result}return i.fromASN(o)}static processComplexSchemaItem(e,r,n){if(r.repeated){if(!Array.isArray(e))throw new Error("Cannot get list of items from the ASN.1 parsed value. ASN.1 value should be iterable.");return Array.from(e,i=>this.fromASN(i,n))}else{let i=this.handleImplicitTagging(e,r,n);if(this.isOptionalChoiceField(r))try{return this.fromASN(i,n)}catch(o){if(o instanceof D1&&/Wrong values for Choice type/.test(o.message))return;throw o}else{let o=this.fromASN(i,n);return r.raw?{value:o,raw:e.valueBeforeDecodeView}:o}}}static handleImplicitTagging(e,r,n){if(r.implicit&&typeof r.context=="number"){let i=Do.get(n);if(i.type===de.Sequence){let o=new sa;if("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)&&"value"in o.valueBlock)return o.valueBlock.value=e.valueBlock.value,o}else if(i.type===de.Set){let o=new Ba;if("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)&&"value"in o.valueBlock)return o.valueBlock.value=e.valueBlock.value,o}}return e}}});var zC,Hfe=b(()=>{"use strict";P1();UC();L_();$U();FU();zC=class t{static serialize(e){return e instanceof Po?e.toBER(!1):this.toASN(e).toBER(!1)}static toASN(e){if(e&&typeof e=="object"&&td(e))return e.toASN();if(!(e&&typeof e=="object"))throw new TypeError("Parameter 1 should be type of Object.");let r=e.constructor,n=Do.get(r);Do.cache(r);let i=[];if(n.itemType){if(!Array.isArray(e))throw new TypeError("Parameter 1 should be type of Array.");if(typeof n.itemType=="number"){let s=k1(n.itemType);if(!s)throw new Error(`Cannot get default converter for array item of ${r.name} ASN1 schema`);i=e.map(a=>s.toASN(a))}else i=e.map(s=>this.toAsnItem({type:n.itemType},"[]",r,s))}else for(let s in n.items){let a=n.items[s],c=e[s];if(c===void 0||a.defaultValue===c||typeof a.defaultValue=="object"&&typeof c=="object"&&Art(this.serialize(a.defaultValue),this.serialize(c)))continue;let l=t.toAsnItem(a,s,r,c);if(typeof a.context=="number")if(a.implicit)if(!a.repeated&&(typeof a.type=="number"||td(a.type))){let u={};u.valueHex=l instanceof tp?l.valueBeforeDecodeView:l.valueBlock.toBER(),i.push(new $h({optional:a.optional,idBlock:{tagClass:3,tagNumber:a.context},...u}))}else i.push(new ko({optional:a.optional,idBlock:{tagClass:3,tagNumber:a.context},value:l.valueBlock.value}));else i.push(new ko({optional:a.optional,idBlock:{tagClass:3,tagNumber:a.context},value:[l]}));else a.repeated?i=i.concat(l):i.push(l)}let o;switch(n.type){case de.Sequence:o=new sa({value:i});break;case de.Set:o=new Ba({value:i});break;case de.Choice:if(!i[0])throw new Error(`Schema '${r.name}' has wrong data. Choice cannot be empty.`);o=i[0];break}return o}static toAsnItem(e,r,n,i){let o;if(typeof e.type=="number"){let s=e.converter;if(!s)throw new Error(`Property '${r}' doesn't have converter for type ${Z[e.type]} in schema '${n.name}'`);if(e.repeated){if(!Array.isArray(i))throw new TypeError("Parameter 'objProp' should be type of Array.");let a=Array.from(i,l=>s.toASN(l)),c=e.repeated==="sequence"?sa:Ba;o=new c({value:a})}else o=s.toASN(i)}else if(e.repeated){if(!Array.isArray(i))throw new TypeError("Parameter 'objProp' should be type of Array.");let s=Array.from(i,c=>this.toASN(c)),a=e.repeated==="sequence"?sa:Ba;o=new a({value:s})}else o=this.toASN(i);return o}}});var Dt,Irt=b(()=>{"use strict";Dt=class extends Array{constructor(e=[]){if(typeof e=="number")super(e);else{super();for(let r of e)this.push(r)}}}});var ht,Crt=b(()=>{"use strict";P1();Mh();zfe();Hfe();ht=class t{static serialize(e){return zC.serialize(e)}static parse(e,r){return FC.parse(e,r)}static toString(e){let r=ft.isBufferSource(e)?ft.toArrayBuffer(e):t.serialize(e),n=zh(r);if(n.offset===-1)throw new Error(`Cannot decode ASN.1 data. ${n.result.error}`);return n.result.toString()}}});var Le=b(()=>{"use strict";UC();Lfe();Trt();L_();zfe();Hfe();Ffe();Irt();Crt()});function O(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o}var Ue=b(()=>{"use strict"});var HC,Nrt=b(()=>{"use strict";Mh();HC=class{static isIPv4(e){return/^(\d{1,3}\.){3}\d{1,3}$/.test(e)}static parseIPv4(e){let r=e.split(".");if(r.length!==4)throw new Error("Invalid IPv4 address");return r.map(n=>{let i=parseInt(n,10);if(isNaN(i)||i<0||i>255)throw new Error("Invalid IPv4 address part");return i})}static parseIPv6(e){let n=this.expandIPv6(e).split(":");if(n.length!==8)throw new Error("Invalid IPv6 address");return n.reduce((i,o)=>{let s=parseInt(o,16);if(isNaN(s)||s<0||s>65535)throw new Error("Invalid IPv6 address part");return i.push(s>>8&255),i.push(s&255),i},[])}static expandIPv6(e){if(!e.includes("::"))return e;let r=e.split("::");if(r.length>2)throw new Error("Invalid IPv6 address");let n=r[0]?r[0].split(":"):[],i=r[1]?r[1].split(":"):[],o=8-(n.length+i.length);if(o<0)throw new Error("Invalid IPv6 address");return[...n,...Array(o).fill("0"),...i].join(":")}static formatIPv6(e){let r=[];for(let n=0;n<16;n+=2)r.push((e[n]<<8|e[n+1]).toString(16));return this.compressIPv6(r.join(":"))}static compressIPv6(e){let r=e.split(":"),n=-1,i=0,o=-1,s=0;for(let a=0;a<r.length;a++)r[a]==="0"?(o===-1&&(o=a),s++):(s>i&&(n=o,i=s),o=-1,s=0);if(s>i&&(n=o,i=s),i>1){let a=r.slice(0,n).join(":"),c=r.slice(n+i).join(":");return`${a}::${c}`}return e}static parseCIDR(e){let[r,n]=e.split("/"),i=parseInt(n,10);if(this.isIPv4(r)){if(i<0||i>32)throw new Error("Invalid IPv4 prefix length");return[this.parseIPv4(r),i]}else{if(i<0||i>128)throw new Error("Invalid IPv6 prefix length");return[this.parseIPv6(r),i]}}static decodeIP(e){if(e.length===64&&parseInt(e,16)===0)return"::/0";if(e.length!==16)return e;let r=parseInt(e.slice(8),16).toString(2).split("").reduce((i,o)=>i+ +o,0),n=e.slice(0,8).replace(/(.{2})/g,i=>`${parseInt(i,16)}.`);return n=n.slice(0,-1),`${n}/${r}`}static toString(e){let r=new Uint8Array(e);if(r.length===4)return Array.from(r).join(".");if(r.length===16)return this.formatIPv6(r);if(r.length===8||r.length===32){let n=r.length/2,i=r.slice(0,n),o=r.slice(n);if(r.every(c=>c===0))return r.length===8?"0.0.0.0/0":"::/0";let a=o.reduce((c,l)=>c+(l.toString(2).match(/1/g)||[]).length,0);return r.length===8?`${Array.from(i).join(".")}/${a}`:`${this.formatIPv6(i)}/${a}`}return this.decodeIP(Nt.ToHex(e))}static fromString(e){if(e.includes("/")){let[n,i]=this.parseCIDR(e),o=new Uint8Array(n.length),s=i;for(let c=0;c<o.length;c++)s>=8?(o[c]=255,s-=8):s>0&&(o[c]=255<<8-s,s=0);let a=new Uint8Array(n.length*2);return a.set(n,0),a.set(o,n.length),a.buffer}let r=this.isIPv4(e)?this.parseIPv4(e):this.parseIPv6(e);return new Uint8Array(r).buffer}}});var Vfe,Gfe,jfe,Mo,IE,B_,M1,qfe,Qn,CE=b(()=>{"use strict";Ue();Le();Mh();Mo=class{constructor(e={}){Object.assign(this,e)}toString(){return this.bmpString||this.printableString||this.teletexString||this.universalString||this.utf8String||""}};O([F({type:Z.TeletexString})],Mo.prototype,"teletexString",void 0);O([F({type:Z.PrintableString})],Mo.prototype,"printableString",void 0);O([F({type:Z.UniversalString})],Mo.prototype,"universalString",void 0);O([F({type:Z.Utf8String})],Mo.prototype,"utf8String",void 0);O([F({type:Z.BmpString})],Mo.prototype,"bmpString",void 0);Mo=O([ye({type:de.Choice})],Mo);IE=class extends Mo{constructor(e={}){super(e),Object.assign(this,e)}toString(){return this.ia5String||(this.anyValue?Nt.ToHex(this.anyValue):super.toString())}};O([F({type:Z.IA5String})],IE.prototype,"ia5String",void 0);O([F({type:Z.Any})],IE.prototype,"anyValue",void 0);IE=O([ye({type:de.Choice})],IE);B_=class{constructor(e={}){this.type="",this.value=new IE,Object.assign(this,e)}};O([F({type:Z.ObjectIdentifier})],B_.prototype,"type",void 0);O([F({type:IE})],B_.prototype,"value",void 0);M1=Vfe=class extends Dt{constructor(e){super(e),Object.setPrototypeOf(this,Vfe.prototype)}};M1=Vfe=O([ye({type:de.Set,itemType:B_})],M1);qfe=Gfe=class extends Dt{constructor(e){super(e),Object.setPrototypeOf(this,Gfe.prototype)}};qfe=Gfe=O([ye({type:de.Sequence,itemType:M1})],qfe);Qn=jfe=class extends qfe{constructor(e){super(e),Object.setPrototypeOf(this,jfe.prototype)}};Qn=jfe=O([ye({type:de.Sequence})],Qn)});var _Yt,L1,VC,Jt,$_=b(()=>{"use strict";Ue();Le();Nrt();CE();_Yt={fromASN:t=>HC.toString(RE.fromASN(t)),toASN:t=>RE.toASN(HC.fromString(t))},L1=class{constructor(e={}){this.typeId="",this.value=new ArrayBuffer(0),Object.assign(this,e)}};O([F({type:Z.ObjectIdentifier})],L1.prototype,"typeId",void 0);O([F({type:Z.Any,context:0})],L1.prototype,"value",void 0);VC=class{constructor(e={}){this.partyName=new Mo,Object.assign(this,e)}};O([F({type:Mo,optional:!0,context:0,implicit:!0})],VC.prototype,"nameAssigner",void 0);O([F({type:Mo,context:1,implicit:!0})],VC.prototype,"partyName",void 0);Jt=class{constructor(e={}){Object.assign(this,e)}};O([F({type:L1,context:0,implicit:!0})],Jt.prototype,"otherName",void 0);O([F({type:Z.IA5String,context:1,implicit:!0})],Jt.prototype,"rfc822Name",void 0);O([F({type:Z.IA5String,context:2,implicit:!0})],Jt.prototype,"dNSName",void 0);O([F({type:Z.Any,context:3,implicit:!0})],Jt.prototype,"x400Address",void 0);O([F({type:Qn,context:4,implicit:!1})],Jt.prototype,"directoryName",void 0);O([F({type:VC,context:5})],Jt.prototype,"ediPartyName",void 0);O([F({type:Z.IA5String,context:6,implicit:!0})],Jt.prototype,"uniformResourceIdentifier",void 0);O([F({type:Z.OctetString,context:7,implicit:!0,converter:_Yt})],Jt.prototype,"iPAddress",void 0);O([F({type:Z.ObjectIdentifier,context:8,implicit:!0})],Jt.prototype,"registeredID",void 0);Jt=O([ye({type:de.Choice})],Jt)});var B1,$1,Ort,U_,zU,ILn,CLn,Wfe,Jfe,Kfe,Qfe,lr,Xn=b(()=>{"use strict";B1="1.3.6.1.5.5.7",$1=`${B1}.1`,Ort=`${B1}.2`,U_=`${B1}.3`,zU=`${B1}.48`,ILn=`${Ort}.1`,CLn=`${Ort}.2`,Wfe=`${zU}.1`,Jfe=`${zU}.2`,Kfe=`${zU}.3`,Qfe=`${zU}.5`,lr="2.5.29"});var Xfe,HU,Hh,F_,Yfe=b(()=>{"use strict";Ue();Le();$_();Xn();HU=`${$1}.1`,Hh=class{constructor(e={}){this.accessMethod="",this.accessLocation=new Jt,Object.assign(this,e)}};O([F({type:Z.ObjectIdentifier})],Hh.prototype,"accessMethod",void 0);O([F({type:Jt})],Hh.prototype,"accessLocation",void 0);F_=Xfe=class extends Dt{constructor(e){super(e),Object.setPrototypeOf(this,Xfe.prototype)}};F_=Xfe=O([ye({type:de.Sequence,itemType:Hh})],F_)});var VU,z_,zf,Zfe=b(()=>{"use strict";Ue();Le();$_();Xn();VU=`${lr}.35`,z_=class extends zt{},zf=class{constructor(e={}){e&&Object.assign(this,e)}};O([F({type:z_,context:0,optional:!0,implicit:!0})],zf.prototype,"keyIdentifier",void 0);O([F({type:Jt,context:1,optional:!0,implicit:!0,repeated:"sequence"})],zf.prototype,"authorityCertIssuer",void 0);O([F({type:Z.Integer,context:2,optional:!0,implicit:!0,converter:Or})],zf.prototype,"authorityCertSerialNumber",void 0)});var GU,H_,Prt=b(()=>{"use strict";Ue();Le();Xn();GU=`${lr}.19`,H_=class{constructor(e={}){this.cA=!1,Object.assign(this,e)}};O([F({type:Z.Boolean,defaultValue:!1})],H_.prototype,"cA",void 0);O([F({type:Z.Integer,optional:!0})],H_.prototype,"pathLenConstraint",void 0)});var eme,vi,GC=b(()=>{"use strict";Ue();Le();$_();Le();vi=eme=class extends Dt{constructor(e){super(e),Object.setPrototypeOf(this,eme.prototype)}};vi=eme=O([ye({type:de.Sequence,itemType:Jt})],vi)});var tme,SYt,krt,Drt=b(()=>{"use strict";Ue();Le();GC();Xn();SYt=`${lr}.29`,krt=tme=class extends vi{constructor(e){super(e),Object.setPrototypeOf(this,tme.prototype)}};krt=tme=O([ye({type:de.Sequence})],krt)});var rme,qU,aBn,Vh,jC,qC,jU,WC,V_,JC,Mrt=b(()=>{"use strict";Ue();Le();Xn();qU=`${lr}.32`,aBn=`${qU}.0`,Vh=class{constructor(e={}){Object.assign(this,e)}toString(){return this.ia5String||this.visibleString||this.bmpString||this.utf8String||""}};O([F({type:Z.IA5String})],Vh.prototype,"ia5String",void 0);O([F({type:Z.VisibleString})],Vh.prototype,"visibleString",void 0);O([F({type:Z.BmpString})],Vh.prototype,"bmpString",void 0);O([F({type:Z.Utf8String})],Vh.prototype,"utf8String",void 0);Vh=O([ye({type:de.Choice})],Vh);jC=class{constructor(e={}){this.organization=new Vh,this.noticeNumbers=[],Object.assign(this,e)}};O([F({type:Vh})],jC.prototype,"organization",void 0);O([F({type:Z.Integer,repeated:"sequence"})],jC.prototype,"noticeNumbers",void 0);qC=class{constructor(e={}){Object.assign(this,e)}};O([F({type:jC,optional:!0})],qC.prototype,"noticeRef",void 0);O([F({type:Vh,optional:!0})],qC.prototype,"explicitText",void 0);jU=class{constructor(e={}){Object.assign(this,e)}};O([F({type:Z.IA5String})],jU.prototype,"cPSuri",void 0);O([F({type:qC})],jU.prototype,"userNotice",void 0);jU=O([ye({type:de.Choice})],jU);WC=class{constructor(e={}){this.policyQualifierId="",this.qualifier=new ArrayBuffer(0),Object.assign(this,e)}};O([F({type:Z.ObjectIdentifier})],WC.prototype,"policyQualifierId",void 0);O([F({type:Z.Any})],WC.prototype,"qualifier",void 0);V_=class{constructor(e={}){this.policyIdentifier="",Object.assign(this,e)}};O([F({type:Z.ObjectIdentifier})],V_.prototype,"policyIdentifier",void 0);O([F({type:WC,repeated:"sequence",optional:!0})],V_.prototype,"policyQualifiers",void 0);JC=rme=class extends Dt{constructor(e){super(e),Object.setPrototypeOf(this,rme.prototype)}};JC=rme=O([ye({type:de.Sequence,itemType:V_})],JC)});var hBn,KC,nme=b(()=>{"use strict";Ue();Le();Xn();hBn=`${lr}.20`,KC=class{constructor(e=0){this.value=e}};O([F({type:Z.Integer})],KC.prototype,"value",void 0);KC=O([ye({type:de.Choice})],KC)});var xBn,Lrt,Brt=b(()=>{"use strict";Ue();Le();Xn();nme();xBn=`${lr}.27`,Lrt=class extends KC{};Lrt=O([ye({type:de.Choice})],Lrt)});var ime,WU,ip,QC,Gh,Hf,U1,JU=b(()=>{"use strict";Ue();Le();CE();$_();Xn();WU=`${lr}.31`;(function(t){t[t.unused=1]="unused",t[t.keyCompromise=2]="keyCompromise",t[t.cACompromise=4]="cACompromise",t[t.affiliationChanged=8]="affiliationChanged",t[t.superseded=16]="superseded",t[t.cessationOfOperation=32]="cessationOfOperation",t[t.certificateHold=64]="certificateHold",t[t.privilegeWithdrawn=128]="privilegeWithdrawn",t[t.aACompromise=256]="aACompromise"})(ip||(ip={}));QC=class extends Ff{toJSON(){let e=[],r=this.toNumber();return r&ip.aACompromise&&e.push("aACompromise"),r&ip.affiliationChanged&&e.push("affiliationChanged"),r&ip.cACompromise&&e.push("cACompromise"),r&ip.certificateHold&&e.push("certificateHold"),r&ip.cessationOfOperation&&e.push("cessationOfOperation"),r&ip.keyCompromise&&e.push("keyCompromise"),r&ip.privilegeWithdrawn&&e.push("privilegeWithdrawn"),r&ip.superseded&&e.push("superseded"),r&ip.unused&&e.push("unused"),e}toString(){return`[${this.toJSON().join(", ")}]`}},Gh=class{constructor(e={}){Object.assign(this,e)}};O([F({type:Jt,context:0,repeated:"sequence",implicit:!0})],Gh.prototype,"fullName",void 0);O([F({type:M1,context:1,implicit:!0})],Gh.prototype,"nameRelativeToCRLIssuer",void 0);Gh=O([ye({type:de.Choice})],Gh);Hf=class{constructor(e={}){Object.assign(this,e)}};O([F({type:Gh,context:0,optional:!0})],Hf.prototype,"distributionPoint",void 0);O([F({type:QC,context:1,optional:!0,implicit:!0})],Hf.prototype,"reasons",void 0);O([F({type:Jt,context:2,optional:!0,repeated:"sequence",implicit:!0})],Hf.prototype,"cRLIssuer",void 0);U1=ime=class extends Dt{constructor(e){super(e),Object.setPrototypeOf(this,ime.prototype)}};U1=ime=O([ye({type:de.Sequence,itemType:Hf})],U1)});var ome,BBn,$rt,Urt=b(()=>{"use strict";Ue();Le();Xn();JU();BBn=`${lr}.46`,$rt=ome=class extends U1{constructor(e){super(e),Object.setPrototypeOf(this,ome.prototype)}};$rt=ome=O([ye({type:de.Sequence,itemType:Hf})],$rt)});var jBn,Sl,Frt=b(()=>{"use strict";Ue();Le();JU();Xn();Le();jBn=`${lr}.28`,Sl=class t{constructor(e={}){this.onlyContainsUserCerts=t.ONLY,this.onlyContainsCACerts=t.ONLY,this.indirectCRL=t.ONLY,this.onlyContainsAttributeCerts=t.ONLY,Object.assign(this,e)}};Sl.ONLY=!1;O([F({type:Gh,context:0,optional:!0})],Sl.prototype,"distributionPoint",void 0);O([F({type:Z.Boolean,context:1,defaultValue:Sl.ONLY,implicit:!0})],Sl.prototype,"onlyContainsUserCerts",void 0);O([F({type:Z.Boolean,context:2,defaultValue:Sl.ONLY,implicit:!0})],Sl.prototype,"onlyContainsCACerts",void 0);O([F({type:QC,context:3,optional:!0,implicit:!0})],Sl.prototype,"onlySomeReasons",void 0);O([F({type:Z.Boolean,context:4,defaultValue:Sl.ONLY,implicit:!0})],Sl.prototype,"indirectCRL",void 0);O([F({type:Z.Boolean,context:5,defaultValue:Sl.ONLY,implicit:!0})],Sl.prototype,"onlyContainsAttributeCerts",void 0)});var zrt,XC,YC,Hrt=b(()=>{"use strict";Ue();Le();Xn();zrt=`${lr}.21`;(function(t){t[t.unspecified=0]="unspecified",t[t.keyCompromise=1]="keyCompromise",t[t.cACompromise=2]="cACompromise",t[t.affiliationChanged=3]="affiliationChanged",t[t.superseded=4]="superseded",t[t.cessationOfOperation=5]="cessationOfOperation",t[t.certificateHold=6]="certificateHold",t[t.removeFromCRL=8]="removeFromCRL",t[t.privilegeWithdrawn=9]="privilegeWithdrawn",t[t.aACompromise=10]="aACompromise"})(XC||(XC={}));YC=class{constructor(e=XC.unspecified){this.reason=XC.unspecified,this.reason=e}toJSON(){return XC[this.reason]}toString(){return this.toJSON()}};O([F({type:Z.Enumerated})],YC.prototype,"reason",void 0);YC=O([ye({type:de.Choice})],YC)});var sme,KU,ZC,r$n,Vrt,Grt,jrt,qrt,Wrt,Jrt,Krt=b(()=>{"use strict";Ue();Le();Xn();KU=`${lr}.37`,ZC=sme=class extends Dt{constructor(e){super(e),Object.setPrototypeOf(this,sme.prototype)}};ZC=sme=O([ye({type:de.Sequence,itemType:Z.ObjectIdentifier})],ZC);r$n=`${KU}.0`,Vrt=`${U_}.1`,Grt=`${U_}.2`,jrt=`${U_}.3`,qrt=`${U_}.4`,Wrt=`${U_}.8`,Jrt=`${U_}.9`});var a$n,ame,Qrt=b(()=>{"use strict";Ue();Le();Xn();a$n=`${lr}.54`,ame=class{constructor(e=new ArrayBuffer(0)){this.value=e}};O([F({type:Z.Integer,converter:Or})],ame.prototype,"value",void 0);ame=O([ye({type:de.Choice})],ame)});var Xrt,eN,Yrt=b(()=>{"use strict";Ue();Le();Xn();Xrt=`${lr}.24`,eN=class{constructor(e){this.value=new Date,e&&(this.value=e)}};O([F({type:Z.GeneralizedTime})],eN.prototype,"value",void 0);eN=O([ye({type:de.Choice})],eN)});var cme,v$n,Zrt,ent=b(()=>{"use strict";Ue();Le();GC();Xn();v$n=`${lr}.18`,Zrt=cme=class extends vi{constructor(e){super(e),Object.setPrototypeOf(this,cme.prototype)}};Zrt=cme=O([ye({type:de.Sequence})],Zrt)});var QU,op,NE,tnt=b(()=>{"use strict";Le();Xn();QU=`${lr}.15`;(function(t){t[t.digitalSignature=1]="digitalSignature",t[t.nonRepudiation=2]="nonRepudiation",t[t.keyEncipherment=4]="keyEncipherment",t[t.dataEncipherment=8]="dataEncipherment",t[t.keyAgreement=16]="keyAgreement",t[t.keyCertSign=32]="keyCertSign",t[t.cRLSign=64]="cRLSign",t[t.encipherOnly=128]="encipherOnly",t[t.decipherOnly=256]="decipherOnly"})(op||(op={}));NE=class extends Ff{toJSON(){let e=this.toNumber(),r=[];return e&op.cRLSign&&r.push("crlSign"),e&op.dataEncipherment&&r.push("dataEncipherment"),e&op.decipherOnly&&r.push("decipherOnly"),e&op.digitalSignature&&r.push("digitalSignature"),e&op.encipherOnly&&r.push("encipherOnly"),e&op.keyAgreement&&r.push("keyAgreement"),e&op.keyCertSign&&r.push("keyCertSign"),e&op.keyEncipherment&&r.push("keyEncipherment"),e&op.nonRepudiation&&r.push("nonRepudiation"),r}toString(){return`[${this.toJSON().join(", ")}]`}}});var lme,C$n,OE,XU,YU,rnt=b(()=>{"use strict";Ue();Le();$_();Xn();C$n=`${lr}.30`,OE=class{constructor(e={}){this.base=new Jt,this.minimum=0,Object.assign(this,e)}};O([F({type:Jt})],OE.prototype,"base",void 0);O([F({type:Z.Integer,context:0,defaultValue:0,implicit:!0})],OE.prototype,"minimum",void 0);O([F({type:Z.Integer,context:1,optional:!0,implicit:!0})],OE.prototype,"maximum",void 0);XU=lme=class extends Dt{constructor(e){super(e),Object.setPrototypeOf(this,lme.prototype)}};XU=lme=O([ye({type:de.Sequence,itemType:OE})],XU);YU=class{constructor(e={}){Object.assign(this,e)}};O([F({type:XU,context:0,optional:!0,implicit:!0})],YU.prototype,"permittedSubtrees",void 0);O([F({type:XU,context:1,optional:!0,implicit:!0})],YU.prototype,"excludedSubtrees",void 0)});var M$n,ZU,nnt=b(()=>{"use strict";Ue();Le();Xn();M$n=`${lr}.36`,ZU=class{constructor(e={}){Object.assign(this,e)}};O([F({type:Z.Integer,context:0,implicit:!0,optional:!0,converter:Or})],ZU.prototype,"requireExplicitPolicy",void 0);O([F({type:Z.Integer,context:1,implicit:!0,optional:!0,converter:Or})],ZU.prototype,"inhibitPolicyMapping",void 0)});var ume,F$n,tN,int,ont=b(()=>{"use strict";Ue();Le();Xn();F$n=`${lr}.33`,tN=class{constructor(e={}){this.issuerDomainPolicy="",this.subjectDomainPolicy="",Object.assign(this,e)}};O([F({type:Z.ObjectIdentifier})],tN.prototype,"issuerDomainPolicy",void 0);O([F({type:Z.ObjectIdentifier})],tN.prototype,"subjectDomainPolicy",void 0);int=ume=class extends Dt{constructor(e){super(e),Object.setPrototypeOf(this,ume.prototype)}};int=ume=O([ye({type:de.Sequence,itemType:tN})],int)});var dme,pme,eF,snt=b(()=>{"use strict";Ue();Le();GC();Xn();pme=`${lr}.17`,eF=dme=class extends vi{constructor(e){super(e),Object.setPrototypeOf(this,dme.prototype)}};eF=dme=O([ye({type:de.Sequence})],eF)});var Cs,fme=b(()=>{"use strict";Ue();Le();Cs=class{constructor(e={}){this.type="",this.values=[],Object.assign(this,e)}};O([F({type:Z.ObjectIdentifier})],Cs.prototype,"type",void 0);O([F({type:Z.Any,repeated:"set"})],Cs.prototype,"values",void 0)});var mme,rUn,ant,cnt=b(()=>{"use strict";Ue();Le();fme();Xn();rUn=`${lr}.9`,ant=mme=class extends Dt{constructor(e){super(e),Object.setPrototypeOf(this,mme.prototype)}};ant=mme=O([ye({type:de.Sequence,itemType:Cs})],ant)});var hme,Dc,lnt=b(()=>{"use strict";Xn();Zfe();hme=`${lr}.14`,Dc=class extends z_{}});var dUn,tF,unt=b(()=>{"use strict";Ue();Le();Xn();dUn=`${lr}.16`,tF=class{constructor(e={}){Object.assign(this,e)}};O([F({type:Z.GeneralizedTime,context:0,implicit:!0,optional:!0})],tF.prototype,"notBefore",void 0);O([F({type:Z.GeneralizedTime,context:1,implicit:!0,optional:!0})],tF.prototype,"notAfter",void 0)});var rN,rF,nF,dnt=b(()=>{"use strict";Ue();Le();(function(t){t[t.keyUpdateAllowed=1]="keyUpdateAllowed",t[t.newExtensions=2]="newExtensions",t[t.pKIXCertificate=4]="pKIXCertificate"})(rN||(rN={}));rF=class extends Ff{toJSON(){let e=[],r=this.toNumber();return r&rN.pKIXCertificate&&e.push("pKIXCertificate"),r&rN.newExtensions&&e.push("newExtensions"),r&rN.keyUpdateAllowed&&e.push("keyUpdateAllowed"),e}toString(){return`[${this.toJSON().join(", ")}]`}},nF=class{constructor(e={}){this.entrustVers="",this.entrustInfoFlags=new rF,Object.assign(this,e)}};O([F({type:Z.GeneralString})],nF.prototype,"entrustVers",void 0);O([F({type:rF})],nF.prototype,"entrustInfoFlags",void 0)});var gme,_Un,pnt,fnt=b(()=>{"use strict";Ue();Le();Xn();Yfe();_Un=`${$1}.11`,pnt=gme=class extends Dt{constructor(e){super(e),Object.setPrototypeOf(this,gme.prototype)}};pnt=gme=O([ye({type:de.Sequence,itemType:Hh})],pnt)});var mnt=b(()=>{"use strict";Yfe();Zfe();Prt();Drt();Mrt();Brt();JU();Urt();Frt();nme();Hrt();Krt();Qrt();Yrt();ent();tnt();rnt();nnt();ont();snt();cnt();lnt();unt();dnt();fnt()});var et,G_=b(()=>{"use strict";Ue();Le();Mh();et=class t{constructor(e={}){this.algorithm="",Object.assign(this,e)}isEqual(e){return e instanceof t&&e.algorithm==this.algorithm&&(e.parameters&&this.parameters&&_U(e.parameters,this.parameters)||e.parameters===this.parameters)}};O([F({type:Z.ObjectIdentifier})],et.prototype,"algorithm",void 0);O([F({type:Z.Any,optional:!0})],et.prototype,"parameters",void 0)});var aa,yme=b(()=>{"use strict";Ue();Le();G_();aa=class{constructor(e={}){this.algorithm=new et,this.subjectPublicKey=new ArrayBuffer(0),Object.assign(this,e)}};O([F({type:et})],aa.prototype,"algorithm",void 0);O([F({type:Z.BitString})],aa.prototype,"subjectPublicKey",void 0)});var Vi,iF=b(()=>{"use strict";Ue();Le();Vi=class{constructor(e){if(e)if(typeof e=="string"||typeof e=="number"||e instanceof Date){let r=new Date(e);r.getUTCFullYear()>2049?this.generalTime=r:this.utcTime=r}else Object.assign(this,e)}getTime(){let e=this.utcTime||this.generalTime;if(!e)throw new Error("Cannot get time from CHOICE object");return e}};O([F({type:Z.UTCTime})],Vi.prototype,"utcTime",void 0);O([F({type:Z.GeneralizedTime})],Vi.prototype,"generalTime",void 0);Vi=O([ye({type:de.Choice})],Vi)});var F1,bme=b(()=>{"use strict";Ue();Le();iF();F1=class{constructor(e){this.notBefore=new Vi(new Date),this.notAfter=new Vi(new Date),e&&(this.notBefore=new Vi(e.notBefore),this.notAfter=new Vi(e.notAfter))}};O([F({type:Vi})],F1.prototype,"notBefore",void 0);O([F({type:Vi})],F1.prototype,"notAfter",void 0)});var vme,ca,rd,oF=b(()=>{"use strict";Ue();Le();ca=class t{constructor(e={}){this.extnID="",this.critical=t.CRITICAL,this.extnValue=new zt,Object.assign(this,e)}};ca.CRITICAL=!1;O([F({type:Z.ObjectIdentifier})],ca.prototype,"extnID",void 0);O([F({type:Z.Boolean,defaultValue:ca.CRITICAL})],ca.prototype,"critical",void 0);O([F({type:zt})],ca.prototype,"extnValue",void 0);rd=vme=class extends Dt{constructor(e){super(e),Object.setPrototypeOf(this,vme.prototype)}};rd=vme=O([ye({type:de.Sequence,itemType:ca})],rd)});var jh,_me=b(()=>{"use strict";(function(t){t[t.v1=0]="v1",t[t.v2=1]="v2",t[t.v3=2]="v3"})(jh||(jh={}))});var la,Sme=b(()=>{"use strict";Ue();Le();G_();CE();yme();bme();oF();_me();la=class{constructor(e={}){this.version=jh.v1,this.serialNumber=new ArrayBuffer(0),this.signature=new et,this.issuer=new Qn,this.validity=new F1,this.subject=new Qn,this.subjectPublicKeyInfo=new aa,Object.assign(this,e)}};O([F({type:Z.Integer,context:0,defaultValue:jh.v1})],la.prototype,"version",void 0);O([F({type:Z.Integer,converter:Or})],la.prototype,"serialNumber",void 0);O([F({type:et})],la.prototype,"signature",void 0);O([F({type:Qn})],la.prototype,"issuer",void 0);O([F({type:F1})],la.prototype,"validity",void 0);O([F({type:Qn})],la.prototype,"subject",void 0);O([F({type:aa})],la.prototype,"subjectPublicKeyInfo",void 0);O([F({type:Z.BitString,context:1,implicit:!0,optional:!0})],la.prototype,"issuerUniqueID",void 0);O([F({type:Z.BitString,context:2,implicit:!0,optional:!0})],la.prototype,"subjectUniqueID",void 0);O([F({type:rd,context:3,optional:!0})],la.prototype,"extensions",void 0)});var sp,hnt=b(()=>{"use strict";Ue();Le();G_();Sme();sp=class{constructor(e={}){this.tbsCertificate=new la,this.signatureAlgorithm=new et,this.signatureValue=new ArrayBuffer(0),Object.assign(this,e)}};O([F({type:la,raw:!0})],sp.prototype,"tbsCertificate",void 0);O([F({type:et})],sp.prototype,"signatureAlgorithm",void 0);O([F({type:Z.BitString})],sp.prototype,"signatureValue",void 0)});var j_,xl,xme=b(()=>{"use strict";Ue();Le();G_();CE();iF();oF();j_=class{constructor(e={}){this.userCertificate=new ArrayBuffer(0),this.revocationDate=new Vi,Object.assign(this,e)}};O([F({type:Z.Integer,converter:Or})],j_.prototype,"userCertificate",void 0);O([F({type:Vi})],j_.prototype,"revocationDate",void 0);O([F({type:ca,optional:!0,repeated:"sequence"})],j_.prototype,"crlEntryExtensions",void 0);xl=class{constructor(e={}){this.signature=new et,this.issuer=new Qn,this.thisUpdate=new Vi,Object.assign(this,e)}};O([F({type:Z.Integer,optional:!0})],xl.prototype,"version",void 0);O([F({type:et})],xl.prototype,"signature",void 0);O([F({type:Qn})],xl.prototype,"issuer",void 0);O([F({type:Vi})],xl.prototype,"thisUpdate",void 0);O([F({type:Vi,optional:!0})],xl.prototype,"nextUpdate",void 0);O([F({type:j_,repeated:"sequence",optional:!0})],xl.prototype,"revokedCertificates",void 0);O([F({type:ca,optional:!0,context:0,repeated:"sequence"})],xl.prototype,"crlExtensions",void 0)});var q_,gnt=b(()=>{"use strict";Ue();Le();G_();xme();q_=class{constructor(e={}){this.tbsCertList=new xl,this.signatureAlgorithm=new et,this.signature=new ArrayBuffer(0),Object.assign(this,e)}};O([F({type:xl,raw:!0})],q_.prototype,"tbsCertList",void 0);O([F({type:et})],q_.prototype,"signatureAlgorithm",void 0);O([F({type:Z.BitString})],q_.prototype,"signature",void 0)});var Gr=b(()=>{"use strict";mnt();G_();fme();hnt();gnt();oF();$_();GC();CE();Xn();yme();xme();Sme();iF();_me();bme()});var ap,nN=b(()=>{"use strict";Ue();Le();Gr();ap=class{constructor(e={}){this.issuer=new Qn,this.serialNumber=new ArrayBuffer(0),Object.assign(this,e)}};O([F({type:Qn})],ap.prototype,"issuer",void 0);O([F({type:Z.Integer,converter:Or})],ap.prototype,"serialNumber",void 0)});var W_,wme=b(()=>{"use strict";Ue();Le();nN();Gr();W_=class{constructor(e={}){Object.assign(this,e)}};O([F({type:Dc,context:0,implicit:!0})],W_.prototype,"subjectKeyIdentifier",void 0);O([F({type:ap})],W_.prototype,"issuerAndSerialNumber",void 0);W_=O([ye({type:de.Choice})],W_)});var Ns,J_,iN,Mc,oN,bnt,sF,Vf=b(()=>{"use strict";Ue();Gr();Le();(function(t){t[t.v0=0]="v0",t[t.v1=1]="v1",t[t.v2=2]="v2",t[t.v3=3]="v3",t[t.v4=4]="v4",t[t.v5=5]="v5"})(Ns||(Ns={}));J_=class extends et{};J_=O([ye({type:de.Sequence})],J_);iN=class extends et{};iN=O([ye({type:de.Sequence})],iN);Mc=class extends et{};Mc=O([ye({type:de.Sequence})],Mc);oN=class extends et{};oN=O([ye({type:de.Sequence})],oN);bnt=class extends et{};bnt=O([ye({type:de.Sequence})],bnt);sF=class extends et{};sF=O([ye({type:de.Sequence})],sF)});var cp,aF=b(()=>{"use strict";Ue();Le();cp=class{constructor(e={}){this.attrType="",this.attrValues=[],Object.assign(this,e)}};O([F({type:Z.ObjectIdentifier})],cp.prototype,"attrType",void 0);O([F({type:Z.Any,repeated:"set"})],cp.prototype,"attrValues",void 0)});var Ame,Lc,sN,cF=b(()=>{"use strict";Ue();Le();wme();Vf();aF();Lc=class{constructor(e={}){this.version=Ns.v0,this.sid=new W_,this.digestAlgorithm=new J_,this.signatureAlgorithm=new iN,this.signature=new zt,Object.assign(this,e)}};O([F({type:Z.Integer})],Lc.prototype,"version",void 0);O([F({type:W_})],Lc.prototype,"sid",void 0);O([F({type:J_})],Lc.prototype,"digestAlgorithm",void 0);O([F({type:cp,repeated:"set",context:0,implicit:!0,optional:!0,raw:!0})],Lc.prototype,"signedAttrs",void 0);O([F({type:iN})],Lc.prototype,"signatureAlgorithm",void 0);O([F({type:zt})],Lc.prototype,"signature",void 0);O([F({type:cp,repeated:"set",context:1,implicit:!0,optional:!0})],Lc.prototype,"unsignedAttrs",void 0);sN=Ame=class extends Dt{constructor(e){super(e),Object.setPrototypeOf(this,Ame.prototype)}};sN=Ame=O([ye({type:de.Set,itemType:Lc})],sN)});var vnt,_nt=b(()=>{"use strict";Ue();Le();cF();vnt=class extends Lc{};vnt=O([ye({type:de.Sequence})],vnt)});var Snt=b(()=>{"use strict";Le()});var xnt,wnt=b(()=>{"use strict";Ue();Gr();Le();xnt=class extends Vi{};xnt=O([ye({type:de.Choice})],xnt)});var Ant=b(()=>{"use strict";_nt();Snt();wnt()});var aN,Ent=b(()=>{"use strict";Ue();Le();Gr();aN=class{constructor(e={}){this.acIssuer=new Jt,this.acSerial=0,this.attrs=[],Object.assign(this,e)}};O([F({type:Jt})],aN.prototype,"acIssuer",void 0);O([F({type:Z.Integer})],aN.prototype,"acSerial",void 0);O([F({type:Cs,repeated:"sequence"})],aN.prototype,"attrs",void 0)});var Eme,cN,Tme=b(()=>{"use strict";Ue();Le();cN=Eme=class extends Dt{constructor(e){super(e),Object.setPrototypeOf(this,Eme.prototype)}};cN=Eme=O([ye({type:de.Sequence,itemType:Z.ObjectIdentifier})],cN)});var PE,Tnt=b(()=>{"use strict";Ue();Le();Tme();PE=class{constructor(e={}){this.permitUnSpecified=!0,Object.assign(this,e)}};O([F({type:Z.Integer,optional:!0})],PE.prototype,"pathLenConstraint",void 0);O([F({type:cN,implicit:!0,context:0,optional:!0})],PE.prototype,"permittedAttrs",void 0);O([F({type:cN,implicit:!0,context:1,optional:!0})],PE.prototype,"excludedAttrs",void 0);O([F({type:Z.Boolean,defaultValue:!0})],PE.prototype,"permitUnSpecified",void 0)});var nd,lN=b(()=>{"use strict";Ue();Le();Gr();nd=class{constructor(e={}){this.issuer=new vi,this.serial=new ArrayBuffer(0),this.issuerUID=new ArrayBuffer(0),Object.assign(this,e)}};O([F({type:vi})],nd.prototype,"issuer",void 0);O([F({type:Z.Integer,converter:Or})],nd.prototype,"serial",void 0);O([F({type:Z.BitString,optional:!0})],nd.prototype,"issuerUID",void 0)});var Rme,id,uN=b(()=>{"use strict";Ue();Le();Gr();(function(t){t[t.publicKey=0]="publicKey",t[t.publicKeyCert=1]="publicKeyCert",t[t.otherObjectTypes=2]="otherObjectTypes"})(Rme||(Rme={}));id=class{constructor(e={}){this.digestedObjectType=Rme.publicKey,this.digestAlgorithm=new et,this.objectDigest=new ArrayBuffer(0),Object.assign(this,e)}};O([F({type:Z.Enumerated})],id.prototype,"digestedObjectType",void 0);O([F({type:Z.ObjectIdentifier,optional:!0})],id.prototype,"otherObjectTypeID",void 0);O([F({type:et})],id.prototype,"digestAlgorithm",void 0);O([F({type:Z.BitString})],id.prototype,"objectDigest",void 0)});var K_,Ime=b(()=>{"use strict";Ue();Le();Gr();lN();uN();K_=class{constructor(e={}){Object.assign(this,e)}};O([F({type:vi,optional:!0})],K_.prototype,"issuerName",void 0);O([F({type:nd,context:0,implicit:!0,optional:!0})],K_.prototype,"baseCertificateID",void 0);O([F({type:id,context:1,implicit:!0,optional:!0})],K_.prototype,"objectDigestInfo",void 0)});var Q_,Cme=b(()=>{"use strict";Ue();Le();Gr();Ime();Q_=class{constructor(e={}){Object.assign(this,e)}};O([F({type:Jt,repeated:"sequence"})],Q_.prototype,"v1Form",void 0);O([F({type:K_,context:0,implicit:!0})],Q_.prototype,"v2Form",void 0);Q_=O([ye({type:de.Choice})],Q_)});var X_,Nme=b(()=>{"use strict";Ue();Le();X_=class{constructor(e={}){this.notBeforeTime=new Date,this.notAfterTime=new Date,Object.assign(this,e)}};O([F({type:Z.GeneralizedTime})],X_.prototype,"notBeforeTime",void 0);O([F({type:Z.GeneralizedTime})],X_.prototype,"notAfterTime",void 0)});var z1,Ome=b(()=>{"use strict";Ue();Le();lN();Gr();uN();z1=class{constructor(e={}){Object.assign(this,e)}};O([F({type:nd,implicit:!0,context:0,optional:!0})],z1.prototype,"baseCertificateID",void 0);O([F({type:vi,implicit:!0,context:1,optional:!0})],z1.prototype,"entityName",void 0);O([F({type:id,implicit:!0,context:2,optional:!0})],z1.prototype,"objectDigestInfo",void 0)});var Pme,Bc,kme=b(()=>{"use strict";Ue();Le();Gr();Ome();Cme();Nme();(function(t){t[t.v2=1]="v2"})(Pme||(Pme={}));Bc=class{constructor(e={}){this.version=Pme.v2,this.holder=new z1,this.issuer=new Q_,this.signature=new et,this.serialNumber=new ArrayBuffer(0),this.attrCertValidityPeriod=new X_,this.attributes=[],Object.assign(this,e)}};O([F({type:Z.Integer})],Bc.prototype,"version",void 0);O([F({type:z1})],Bc.prototype,"holder",void 0);O([F({type:Q_})],Bc.prototype,"issuer",void 0);O([F({type:et})],Bc.prototype,"signature",void 0);O([F({type:Z.Integer,converter:Or})],Bc.prototype,"serialNumber",void 0);O([F({type:X_})],Bc.prototype,"attrCertValidityPeriod",void 0);O([F({type:Cs,repeated:"sequence"})],Bc.prototype,"attributes",void 0);O([F({type:Z.BitString,optional:!0})],Bc.prototype,"issuerUniqueID",void 0);O([F({type:rd,optional:!0})],Bc.prototype,"extensions",void 0)});var Y_,Rnt=b(()=>{"use strict";Ue();Le();Gr();kme();Y_=class{constructor(e={}){this.acinfo=new Bc,this.signatureAlgorithm=new et,this.signatureValue=new ArrayBuffer(0),Object.assign(this,e)}};O([F({type:Bc})],Y_.prototype,"acinfo",void 0);O([F({type:et})],Y_.prototype,"signatureAlgorithm",void 0);O([F({type:Z.BitString})],Y_.prototype,"signatureValue",void 0)});var dN,kE,Dme=b(()=>{"use strict";Le();(function(t){t[t.unmarked=1]="unmarked",t[t.unclassified=2]="unclassified",t[t.restricted=4]="restricted",t[t.confidential=8]="confidential",t[t.secret=16]="secret",t[t.topSecret=32]="topSecret"})(dN||(dN={}));kE=class extends Ff{}});var DE,Mme=b(()=>{"use strict";Ue();Le();DE=class{constructor(e={}){this.type="",this.value=new ArrayBuffer(0),Object.assign(this,e)}};O([F({type:Z.ObjectIdentifier,implicit:!0,context:0})],DE.prototype,"type",void 0);O([F({type:Z.Any,implicit:!0,context:1})],DE.prototype,"value",void 0)});var pN,Int=b(()=>{"use strict";Ue();Le();Dme();Mme();pN=class{constructor(e={}){this.policyId="",this.classList=new kE(dN.unclassified),Object.assign(this,e)}};O([F({type:Z.ObjectIdentifier})],pN.prototype,"policyId",void 0);O([F({type:kE,defaultValue:new kE(dN.unclassified)})],pN.prototype,"classList",void 0);O([F({type:DE,repeated:"set"})],pN.prototype,"securityCategories",void 0)});var ME,lF,Cnt=b(()=>{"use strict";Ue();Le();Gr();ME=class{constructor(e={}){Object.assign(this,e)}};O([F({type:zt})],ME.prototype,"cotets",void 0);O([F({type:Z.ObjectIdentifier})],ME.prototype,"oid",void 0);O([F({type:Z.Utf8String})],ME.prototype,"string",void 0);lF=class{constructor(e={}){this.values=[],Object.assign(this,e)}};O([F({type:vi,implicit:!0,context:0,optional:!0})],lF.prototype,"policyAuthority",void 0);O([F({type:ME,repeated:"sequence"})],lF.prototype,"values",void 0)});var lVn,uVn,dVn,pVn,fN,fVn,mVn,hVn,gVn,yVn,Lme,bVn,Nnt=b(()=>{"use strict";Gr();lVn=`${$1}.4`,uVn=`${$1}.6`,dVn=`${$1}.10`,pVn=`${lr}.55`,fN=`${B1}.10`,fVn=`${fN}.1`,mVn=`${fN}.2`,hVn=`${fN}.3`,gVn=`${fN}.4`,yVn=`${fN}.6`,Lme="2.5.4",bVn=`${Lme}.72`});var Bme,LE,BE,uF,$me=b(()=>{"use strict";Ue();Le();Gr();lN();uN();LE=class{constructor(e={}){this.targetCertificate=new nd,Object.assign(this,e)}};O([F({type:nd})],LE.prototype,"targetCertificate",void 0);O([F({type:Jt,optional:!0})],LE.prototype,"targetName",void 0);O([F({type:id,optional:!0})],LE.prototype,"certDigestInfo",void 0);BE=class{constructor(e={}){Object.assign(this,e)}};O([F({type:Jt,context:0,implicit:!0})],BE.prototype,"targetName",void 0);O([F({type:Jt,context:1,implicit:!0})],BE.prototype,"targetGroup",void 0);O([F({type:LE,context:2,implicit:!0})],BE.prototype,"targetCert",void 0);BE=O([ye({type:de.Choice})],BE);uF=Bme=class extends Dt{constructor(e){super(e),Object.setPrototypeOf(this,Bme.prototype)}};uF=Bme=O([ye({type:de.Sequence,itemType:BE})],uF)});var Ume,Ont,Pnt=b(()=>{"use strict";Ue();Le();$me();Ont=Ume=class extends Dt{constructor(e){super(e),Object.setPrototypeOf(this,Ume.prototype)}};Ont=Ume=O([ye({type:de.Sequence,itemType:uF})],Ont)});var dF,knt=b(()=>{"use strict";Ue();Le();Gr();dF=class{constructor(e={}){Object.assign(this,e)}};O([F({type:vi,implicit:!0,context:0,optional:!0})],dF.prototype,"roleAuthority",void 0);O([F({type:Jt,implicit:!0,context:1})],dF.prototype,"roleName",void 0)});var mN,Dnt=b(()=>{"use strict";Ue();Le();Gr();mN=class{constructor(e={}){this.service=new Jt,this.ident=new Jt,Object.assign(this,e)}};O([F({type:Jt})],mN.prototype,"service",void 0);O([F({type:Jt})],mN.prototype,"ident",void 0);O([F({type:zt,optional:!0})],mN.prototype,"authInfo",void 0)});var Fme=b(()=>{"use strict";Ent();Tnt();Cme();Nme();Tme();Rnt();kme();Dme();Int();Ome();Cnt();lN();uN();Nnt();Pnt();knt();Mme();Dnt();$me();Ime()});var zme,hN,Z_,eS,pF=b(()=>{"use strict";Ue();Le();Gr();Fme();hN=class{constructor(e={}){this.otherCertFormat="",this.otherCert=new ArrayBuffer(0),Object.assign(this,e)}};O([F({type:Z.ObjectIdentifier})],hN.prototype,"otherCertFormat",void 0);O([F({type:Z.Any})],hN.prototype,"otherCert",void 0);Z_=class{constructor(e={}){Object.assign(this,e)}};O([F({type:sp})],Z_.prototype,"certificate",void 0);O([F({type:Y_,context:2,implicit:!0})],Z_.prototype,"v2AttrCert",void 0);O([F({type:hN,context:3,implicit:!0})],Z_.prototype,"other",void 0);Z_=O([ye({type:de.Choice})],Z_);eS=zme=class extends Dt{constructor(e){super(e),Object.setPrototypeOf(this,zme.prototype)}};eS=zme=O([ye({type:de.Set,itemType:Z_})],eS)});var od,Mnt=b(()=>{"use strict";Ue();Le();od=class{constructor(e={}){this.contentType="",this.content=new ArrayBuffer(0),Object.assign(this,e)}};O([F({type:Z.ObjectIdentifier})],od.prototype,"contentType",void 0);O([F({type:Z.Any,context:0})],od.prototype,"content",void 0)});var $E,tS,Hme=b(()=>{"use strict";Ue();Le();$E=class{constructor(e={}){Object.assign(this,e)}};O([F({type:zt})],$E.prototype,"single",void 0);O([F({type:Z.Any})],$E.prototype,"any",void 0);$E=O([ye({type:de.Choice})],$E);tS=class{constructor(e={}){this.eContentType="",Object.assign(this,e)}};O([F({type:Z.ObjectIdentifier})],tS.prototype,"eContentType",void 0);O([F({type:$E,context:0,optional:!0})],tS.prototype,"eContent",void 0)});var gN,H1,Vme=b(()=>{"use strict";Ue();Le();Vf();gN=class{constructor(e={}){Object.assign(this,e)}};O([F({type:zt,context:0,implicit:!0,optional:!0})],gN.prototype,"value",void 0);O([F({type:zt,converter:wrt,context:0,implicit:!0,optional:!0,repeated:"sequence"})],gN.prototype,"constructedValue",void 0);gN=O([ye({type:de.Choice})],gN);H1=class{constructor(e={}){this.contentType="",this.contentEncryptionAlgorithm=new oN,Object.assign(this,e)}};O([F({type:Z.ObjectIdentifier})],H1.prototype,"contentType",void 0);O([F({type:oN})],H1.prototype,"contentEncryptionAlgorithm",void 0);O([F({type:gN,optional:!0})],H1.prototype,"encryptedContent",void 0)});var V1,Gme=b(()=>{"use strict";Ue();Le();V1=class{constructor(e={}){this.keyAttrId="",Object.assign(this,e)}};O([F({type:Z.ObjectIdentifier})],V1.prototype,"keyAttrId",void 0);O([F({type:Z.Any,optional:!0})],V1.prototype,"keyAttr",void 0)});var jme,UE,FE,yN,fF,bN,rS,qh,qme=b(()=>{"use strict";Ue();Le();Vf();nN();Gr();Gme();UE=class{constructor(e={}){this.subjectKeyIdentifier=new Dc,Object.assign(this,e)}};O([F({type:Dc})],UE.prototype,"subjectKeyIdentifier",void 0);O([F({type:Z.GeneralizedTime,optional:!0})],UE.prototype,"date",void 0);O([F({type:V1,optional:!0})],UE.prototype,"other",void 0);FE=class{constructor(e={}){Object.assign(this,e)}};O([F({type:UE,context:0,implicit:!0,optional:!0})],FE.prototype,"rKeyId",void 0);O([F({type:ap,optional:!0})],FE.prototype,"issuerAndSerialNumber",void 0);FE=O([ye({type:de.Choice})],FE);yN=class{constructor(e={}){this.rid=new FE,this.encryptedKey=new zt,Object.assign(this,e)}};O([F({type:FE})],yN.prototype,"rid",void 0);O([F({type:zt})],yN.prototype,"encryptedKey",void 0);fF=jme=class extends Dt{constructor(e){super(e),Object.setPrototypeOf(this,jme.prototype)}};fF=jme=O([ye({type:de.Sequence,itemType:yN})],fF);bN=class{constructor(e={}){this.algorithm=new et,this.publicKey=new ArrayBuffer(0),Object.assign(this,e)}};O([F({type:et})],bN.prototype,"algorithm",void 0);O([F({type:Z.BitString})],bN.prototype,"publicKey",void 0);rS=class{constructor(e={}){Object.assign(this,e)}};O([F({type:Dc,context:0,implicit:!0,optional:!0})],rS.prototype,"subjectKeyIdentifier",void 0);O([F({type:bN,context:1,implicit:!0,optional:!0})],rS.prototype,"originatorKey",void 0);O([F({type:ap,optional:!0})],rS.prototype,"issuerAndSerialNumber",void 0);rS=O([ye({type:de.Choice})],rS);qh=class{constructor(e={}){this.version=Ns.v3,this.originator=new rS,this.keyEncryptionAlgorithm=new Mc,this.recipientEncryptedKeys=new fF,Object.assign(this,e)}};O([F({type:Z.Integer})],qh.prototype,"version",void 0);O([F({type:rS,context:0})],qh.prototype,"originator",void 0);O([F({type:zt,context:1,optional:!0})],qh.prototype,"ukm",void 0);O([F({type:Mc})],qh.prototype,"keyEncryptionAlgorithm",void 0);O([F({type:fF})],qh.prototype,"recipientEncryptedKeys",void 0)});var zE,G1,Wme=b(()=>{"use strict";Ue();Le();Vf();nN();Gr();zE=class{constructor(e={}){Object.assign(this,e)}};O([F({type:Dc,context:0,implicit:!0})],zE.prototype,"subjectKeyIdentifier",void 0);O([F({type:ap})],zE.prototype,"issuerAndSerialNumber",void 0);zE=O([ye({type:de.Choice})],zE);G1=class{constructor(e={}){this.version=Ns.v0,this.rid=new zE,this.keyEncryptionAlgorithm=new Mc,this.encryptedKey=new zt,Object.assign(this,e)}};O([F({type:Z.Integer})],G1.prototype,"version",void 0);O([F({type:zE})],G1.prototype,"rid",void 0);O([F({type:Mc})],G1.prototype,"keyEncryptionAlgorithm",void 0);O([F({type:zt})],G1.prototype,"encryptedKey",void 0)});var nS,j1,Jme=b(()=>{"use strict";Ue();Le();Gme();Vf();nS=class{constructor(e={}){this.keyIdentifier=new zt,Object.assign(this,e)}};O([F({type:zt})],nS.prototype,"keyIdentifier",void 0);O([F({type:Z.GeneralizedTime,optional:!0})],nS.prototype,"date",void 0);O([F({type:V1,optional:!0})],nS.prototype,"other",void 0);j1=class{constructor(e={}){this.version=Ns.v4,this.kekid=new nS,this.keyEncryptionAlgorithm=new Mc,this.encryptedKey=new zt,Object.assign(this,e)}};O([F({type:Z.Integer})],j1.prototype,"version",void 0);O([F({type:nS})],j1.prototype,"kekid",void 0);O([F({type:Mc})],j1.prototype,"keyEncryptionAlgorithm",void 0);O([F({type:zt})],j1.prototype,"encryptedKey",void 0)});var q1,Kme=b(()=>{"use strict";Ue();Le();Vf();q1=class{constructor(e={}){this.version=Ns.v0,this.keyEncryptionAlgorithm=new Mc,this.encryptedKey=new zt,Object.assign(this,e)}};O([F({type:Z.Integer})],q1.prototype,"version",void 0);O([F({type:sF,context:0,optional:!0})],q1.prototype,"keyDerivationAlgorithm",void 0);O([F({type:Mc})],q1.prototype,"keyEncryptionAlgorithm",void 0);O([F({type:zt})],q1.prototype,"encryptedKey",void 0)});var vN,Wh,Qme=b(()=>{"use strict";Ue();Le();qme();Wme();Jme();Kme();vN=class{constructor(e={}){this.oriType="",this.oriValue=new ArrayBuffer(0),Object.assign(this,e)}};O([F({type:Z.ObjectIdentifier})],vN.prototype,"oriType",void 0);O([F({type:Z.Any})],vN.prototype,"oriValue",void 0);Wh=class{constructor(e={}){Object.assign(this,e)}};O([F({type:G1,optional:!0})],Wh.prototype,"ktri",void 0);O([F({type:qh,context:1,implicit:!0,optional:!0})],Wh.prototype,"kari",void 0);O([F({type:j1,context:2,implicit:!0,optional:!0})],Wh.prototype,"kekri",void 0);O([F({type:q1,context:3,implicit:!0,optional:!0})],Wh.prototype,"pwri",void 0);O([F({type:vN,context:4,implicit:!0,optional:!0})],Wh.prototype,"ori",void 0);Wh=O([ye({type:de.Choice})],Wh)});var Xme,_N,Yme=b(()=>{"use strict";Ue();Le();Qme();_N=Xme=class extends Dt{constructor(e){super(e),Object.setPrototypeOf(this,Xme.prototype)}};_N=Xme=O([ye({type:de.Set,itemType:Wh})],_N)});var Zme,Lnt,yjn,bjn,HE,mF,VE,hF=b(()=>{"use strict";Ue();Le();Gr();Lnt=`${B1}.16`,yjn=`${Lnt}.2`,bjn=`${Lnt}.4`,HE=class{constructor(e={}){this.otherRevInfoFormat="",this.otherRevInfo=new ArrayBuffer(0),Object.assign(this,e)}};O([F({type:Z.ObjectIdentifier})],HE.prototype,"otherRevInfoFormat",void 0);O([F({type:Z.Any})],HE.prototype,"otherRevInfo",void 0);mF=class{constructor(e={}){this.other=new HE,Object.assign(this,e)}};O([F({type:HE,context:1,implicit:!0})],mF.prototype,"other",void 0);mF=O([ye({type:de.Choice})],mF);VE=Zme=class extends Dt{constructor(e){super(e),Object.setPrototypeOf(this,Zme.prototype)}};VE=Zme=O([ye({type:de.Set,itemType:mF})],VE)});var GE,ehe=b(()=>{"use strict";Ue();Le();pF();hF();GE=class{constructor(e={}){Object.assign(this,e)}};O([F({type:eS,context:0,implicit:!0,optional:!0})],GE.prototype,"certs",void 0);O([F({type:VE,context:1,implicit:!0,optional:!0})],GE.prototype,"crls",void 0)});var the,rhe,iS,Bnt=b(()=>{"use strict";Ue();Le();Vf();aF();Yme();ehe();Vme();rhe=the=class extends Dt{constructor(e){super(e),Object.setPrototypeOf(this,the.prototype)}};rhe=the=O([ye({type:de.Set,itemType:cp})],rhe);iS=class{constructor(e={}){this.version=Ns.v0,this.recipientInfos=new _N,this.encryptedContentInfo=new H1,Object.assign(this,e)}};O([F({type:Z.Integer})],iS.prototype,"version",void 0);O([F({type:GE,context:0,implicit:!0,optional:!0})],iS.prototype,"originatorInfo",void 0);O([F({type:_N})],iS.prototype,"recipientInfos",void 0);O([F({type:H1})],iS.prototype,"encryptedContentInfo",void 0);O([F({type:rhe,context:1,implicit:!0,optional:!0})],iS.prototype,"unprotectedAttrs",void 0)});var $nt,Unt=b(()=>{"use strict";$nt="1.2.840.113549.1.7.2"});var nhe,gF,Jh,Fnt=b(()=>{"use strict";Ue();Le();pF();Vf();Hme();hF();cF();gF=nhe=class extends Dt{constructor(e){super(e),Object.setPrototypeOf(this,nhe.prototype)}};gF=nhe=O([ye({type:de.Set,itemType:J_})],gF);Jh=class{constructor(e={}){this.version=Ns.v0,this.digestAlgorithms=new gF,this.encapContentInfo=new tS,this.signerInfos=new sN,Object.assign(this,e)}};O([F({type:Z.Integer})],Jh.prototype,"version",void 0);O([F({type:gF})],Jh.prototype,"digestAlgorithms",void 0);O([F({type:tS})],Jh.prototype,"encapContentInfo",void 0);O([F({type:eS,context:0,implicit:!0,optional:!0})],Jh.prototype,"certificates",void 0);O([F({type:VE,context:1,implicit:!0,optional:!0})],Jh.prototype,"crls",void 0);O([F({type:sN})],Jh.prototype,"signerInfos",void 0)});var SN=b(()=>{"use strict";Ant();aF();pF();Mnt();Hme();Vme();Bnt();nN();Jme();qme();Wme();Unt();ehe();Kme();Qme();Yme();hF();Fnt();wme();cF();Vf()});var oS,xN,yF,wN,AN,EN,ihe,ohe,she,ahe=b(()=>{"use strict";oS="1.2.840.10045.2.1",xN="1.2.840.10045.4.1",yF="1.2.840.10045.4.3.1",wN="1.2.840.10045.4.3.2",AN="1.2.840.10045.4.3.3",EN="1.2.840.10045.4.3.4",ihe="1.2.840.10045.3.1.7",ohe="1.3.132.0.34",she="1.3.132.0.35"});function TN(t){return new et({algorithm:t})}var Hnt,mqn,Vnt,Gnt,jnt,qnt=b(()=>{"use strict";Gr();ahe();Hnt=TN(xN),mqn=TN(yF),Vnt=TN(wN),Gnt=TN(AN),jnt=TN(EN)});var RN,che,jE,lhe,Gf,uhe=b(()=>{"use strict";Ue();Le();RN=class{constructor(e={}){Object.assign(this,e)}};O([F({type:Z.ObjectIdentifier})],RN.prototype,"fieldType",void 0);O([F({type:Z.Any})],RN.prototype,"parameters",void 0);RN=O([ye({type:de.Sequence})],RN);che=class extends zt{},jE=class{constructor(e={}){Object.assign(this,e)}};O([F({type:Z.OctetString})],jE.prototype,"a",void 0);O([F({type:Z.OctetString})],jE.prototype,"b",void 0);O([F({type:Z.BitString,optional:!0})],jE.prototype,"seed",void 0);jE=O([ye({type:de.Sequence})],jE);(function(t){t[t.ecpVer1=1]="ecpVer1"})(lhe||(lhe={}));Gf=class{constructor(e={}){this.version=lhe.ecpVer1,Object.assign(this,e)}};O([F({type:Z.Integer})],Gf.prototype,"version",void 0);O([F({type:RN})],Gf.prototype,"fieldID",void 0);O([F({type:jE})],Gf.prototype,"curve",void 0);O([F({type:che})],Gf.prototype,"base",void 0);O([F({type:Z.Integer,converter:Or})],Gf.prototype,"order",void 0);O([F({type:Z.Integer,optional:!0})],Gf.prototype,"cofactor",void 0);Gf=O([ye({type:de.Sequence})],Gf)});var jf,dhe=b(()=>{"use strict";Ue();Le();uhe();jf=class{constructor(e={}){Object.assign(this,e)}};O([F({type:Z.ObjectIdentifier})],jf.prototype,"namedCurve",void 0);O([F({type:Z.Null})],jf.prototype,"implicitCurve",void 0);O([F({type:Gf})],jf.prototype,"specifiedCurve",void 0);jf=O([ye({type:de.Choice})],jf)});var qE,Wnt=b(()=>{"use strict";Ue();Le();dhe();qE=class{constructor(e={}){this.version=1,this.privateKey=new zt,Object.assign(this,e)}};O([F({type:Z.Integer})],qE.prototype,"version",void 0);O([F({type:zt})],qE.prototype,"privateKey",void 0);O([F({type:jf,context:0,optional:!0})],qE.prototype,"parameters",void 0);O([F({type:Z.BitString,context:1,optional:!0})],qE.prototype,"publicKey",void 0)});var sS,Jnt=b(()=>{"use strict";Ue();Le();sS=class{constructor(e={}){this.r=new ArrayBuffer(0),this.s=new ArrayBuffer(0),Object.assign(this,e)}};O([F({type:Z.Integer,converter:Or})],sS.prototype,"r",void 0);O([F({type:Z.Integer,converter:Or})],sS.prototype,"s",void 0)});var phe=b(()=>{"use strict";qnt();dhe();Wnt();Jnt();ahe();uhe()});var $c,qf,Knt,Qnt,W1,Xnt,Ynt,WE,Znt,bF,JE,KE,fhe,mhe,aS,vF,cS,lS,uS,eit,tit,rit,nit,J1,IN=b(()=>{"use strict";$c="1.2.840.113549.1.1",qf=`${$c}.1`,Knt=`${$c}.7`,Qnt=`${$c}.9`,W1=`${$c}.10`,Xnt=`${$c}.2`,Ynt=`${$c}.4`,WE=`${$c}.5`,Znt=`${$c}.14`,bF=`${$c}.11`,JE=`${$c}.12`,KE=`${$c}.13`,fhe=`${$c}.15`,mhe=`${$c}.16`,aS="1.3.14.3.2.26",vF="2.16.840.1.101.3.4.2.4",cS="2.16.840.1.101.3.4.2.1",lS="2.16.840.1.101.3.4.2.2",uS="2.16.840.1.101.3.4.2.3",eit="2.16.840.1.101.3.4.2.5",tit="2.16.840.1.101.3.4.2.6",rit="1.2.840.113549.2.2",nit="1.2.840.113549.2.5",J1=`${$c}.8`});function Wo(t){return new et({algorithm:t,parameters:null})}var Hqn,Vqn,Kh,Gqn,jqn,qqn,Wqn,Jqn,Kqn,_F,hhe,Qqn,Xqn,Yqn,Zqn,eWn,tWn,rWn,nWn,iWn,oWn,SF=b(()=>{"use strict";Le();Gr();IN();Hqn=Wo(rit),Vqn=Wo(nit),Kh=Wo(aS),Gqn=Wo(vF),jqn=Wo(cS),qqn=Wo(lS),Wqn=Wo(uS),Jqn=Wo(eit),Kqn=Wo(tit),_F=new et({algorithm:J1,parameters:ht.serialize(Kh)}),hhe=new et({algorithm:Qnt,parameters:ht.serialize(RE.toASN(new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]).buffer))}),Qqn=Wo(qf),Xqn=Wo(Xnt),Yqn=Wo(Ynt),Zqn=Wo(WE),eWn=Wo(fhe),tWn=Wo(mhe),rWn=Wo(JE),nWn=Wo(KE),iWn=Wo(fhe),oWn=Wo(mhe)});var QE,pWn,iit=b(()=>{"use strict";Ue();Le();Gr();IN();SF();QE=class{constructor(e={}){this.hashAlgorithm=new et(Kh),this.maskGenAlgorithm=new et({algorithm:J1,parameters:ht.serialize(Kh)}),this.pSourceAlgorithm=new et(hhe),Object.assign(this,e)}};O([F({type:et,context:0,defaultValue:Kh})],QE.prototype,"hashAlgorithm",void 0);O([F({type:et,context:1,defaultValue:_F})],QE.prototype,"maskGenAlgorithm",void 0);O([F({type:et,context:2,defaultValue:hhe})],QE.prototype,"pSourceAlgorithm",void 0);pWn=new et({algorithm:Knt,parameters:ht.serialize(new QE)})});var Wf,vWn,oit=b(()=>{"use strict";Ue();Le();Gr();IN();SF();Wf=class{constructor(e={}){this.hashAlgorithm=new et(Kh),this.maskGenAlgorithm=new et({algorithm:J1,parameters:ht.serialize(Kh)}),this.saltLength=20,this.trailerField=1,Object.assign(this,e)}};O([F({type:et,context:0,defaultValue:Kh})],Wf.prototype,"hashAlgorithm",void 0);O([F({type:et,context:1,defaultValue:_F})],Wf.prototype,"maskGenAlgorithm",void 0);O([F({type:Z.Integer,context:2,defaultValue:20})],Wf.prototype,"saltLength",void 0);O([F({type:Z.Integer,context:3,defaultValue:1})],Wf.prototype,"trailerField",void 0);vWn=new et({algorithm:W1,parameters:ht.serialize(new Wf)})});var dS,sit=b(()=>{"use strict";Ue();Gr();Le();dS=class{constructor(e={}){this.digestAlgorithm=new et,this.digest=new zt,Object.assign(this,e)}};O([F({type:et})],dS.prototype,"digestAlgorithm",void 0);O([F({type:zt})],dS.prototype,"digest",void 0)});var ait=b(()=>{"use strict";iit();oit();sit()});var ghe,XE,xF,yhe=b(()=>{"use strict";Ue();Le();XE=class{constructor(e={}){this.prime=new ArrayBuffer(0),this.exponent=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0),Object.assign(this,e)}};O([F({type:Z.Integer,converter:Or})],XE.prototype,"prime",void 0);O([F({type:Z.Integer,converter:Or})],XE.prototype,"exponent",void 0);O([F({type:Z.Integer,converter:Or})],XE.prototype,"coefficient",void 0);xF=ghe=class extends Dt{constructor(e){super(e),Object.setPrototypeOf(this,ghe.prototype)}};xF=ghe=O([ye({type:de.Sequence,itemType:XE})],xF)});var sd,cit=b(()=>{"use strict";Ue();Le();yhe();sd=class{constructor(e={}){this.version=0,this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),this.privateExponent=new ArrayBuffer(0),this.prime1=new ArrayBuffer(0),this.prime2=new ArrayBuffer(0),this.exponent1=new ArrayBuffer(0),this.exponent2=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0),Object.assign(this,e)}};O([F({type:Z.Integer})],sd.prototype,"version",void 0);O([F({type:Z.Integer,converter:Or})],sd.prototype,"modulus",void 0);O([F({type:Z.Integer,converter:Or})],sd.prototype,"publicExponent",void 0);O([F({type:Z.Integer,converter:Or})],sd.prototype,"privateExponent",void 0);O([F({type:Z.Integer,converter:Or})],sd.prototype,"prime1",void 0);O([F({type:Z.Integer,converter:Or})],sd.prototype,"prime2",void 0);O([F({type:Z.Integer,converter:Or})],sd.prototype,"exponent1",void 0);O([F({type:Z.Integer,converter:Or})],sd.prototype,"exponent2",void 0);O([F({type:Z.Integer,converter:Or})],sd.prototype,"coefficient",void 0);O([F({type:xF,optional:!0})],sd.prototype,"otherPrimeInfos",void 0)});var YE,lit=b(()=>{"use strict";Ue();Le();YE=class{constructor(e={}){this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),Object.assign(this,e)}};O([F({type:Z.Integer,converter:Or})],YE.prototype,"modulus",void 0);O([F({type:Z.Integer,converter:Or})],YE.prototype,"publicExponent",void 0)});var wF=b(()=>{"use strict";ait();SF();IN();yhe();cit();lit()});var bhe,Os,vhe=b(()=>{"use strict";(function(t){t[t.Transient=0]="Transient",t[t.Singleton=1]="Singleton",t[t.ResolutionScoped=2]="ResolutionScoped",t[t.ContainerScoped=3]="ContainerScoped"})(bhe||(bhe={}));Os=bhe});var uit=b(()=>{"use strict";vhe()});function CN(t,e){_he(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function dit(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(u){try{l(n.next(u))}catch(d){s(d)}}function c(u){try{l(n.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function pit(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function NN(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ZE(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}function Jf(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ZE(arguments[e]));return t}var _he,eT=b(()=>{"use strict";_he=function(t,e){return _he=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},_he(t,e)}});function She(t){var e=Reflect.getMetadata("design:paramtypes",t)||[],r=Reflect.getOwnMetadata(RYt,t)||{};return Object.keys(r).forEach(function(n){e[+n]=r[n]}),e}var RYt,pS=b(()=>{"use strict";RYt="injectionTokens"});function ON(t){return!!t.useClass}var xhe=b(()=>{"use strict"});function tT(t){return!!t.useFactory}var whe=b(()=>{"use strict"});var AF,EF=b(()=>{"use strict";eT();AF=(function(){function t(e){this.wrap=e,this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct","ownKeys"]}return t.prototype.createProxy=function(e){var r=this,n={},i=!1,o,s=function(){return i||(o=e(r.wrap()),i=!0),o};return new Proxy(n,this.createHandler(s))},t.prototype.createHandler=function(e){var r={},n=function(i){r[i]=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];o[0]=e();var a=Reflect[i];return a.apply(void 0,Jf(o))}};return this.reflectMethods.forEach(n),r},t})()});function K1(t){return typeof t=="string"||typeof t=="symbol"}function Ahe(t){return typeof t=="object"&&"token"in t&&"multiple"in t}function TF(t){return typeof t=="object"&&"token"in t&&"transform"in t}function fit(t){return typeof t=="function"||t instanceof AF}var RF=b(()=>{"use strict";EF()});function fS(t){return!!t.useToken}var Ehe=b(()=>{"use strict"});function mS(t){return t.useValue!=null}var The=b(()=>{"use strict"});var Rhe=b(()=>{"use strict";xhe();whe();RF();Ehe();The()});function mit(t){return ON(t)||mS(t)||fS(t)||tT(t)}var hit=b(()=>{"use strict";xhe();The();Ehe();whe()});var IYt,PN,Ihe=b(()=>{"use strict";IYt=(function(){function t(){this._registryMap=new Map}return t.prototype.entries=function(){return this._registryMap.entries()},t.prototype.getAll=function(e){return this.ensure(e),this._registryMap.get(e)},t.prototype.get=function(e){this.ensure(e);var r=this._registryMap.get(e);return r[r.length-1]||null},t.prototype.set=function(e,r){this.ensure(e),this._registryMap.get(e).push(r)},t.prototype.setAll=function(e,r){this._registryMap.set(e,r)},t.prototype.has=function(e){return this.ensure(e),this._registryMap.get(e).length>0},t.prototype.clear=function(){this._registryMap.clear()},t.prototype.ensure=function(e){this._registryMap.has(e)||this._registryMap.set(e,[])},t})(),PN=IYt});var CYt,git,yit=b(()=>{"use strict";eT();Ihe();CYt=(function(t){CN(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(PN),git=CYt});var NYt,kN,bit=b(()=>{"use strict";NYt=(function(){function t(){this.scopedResolutions=new Map}return t})(),kN=NYt});function OYt(t,e){if(t===null)return"at position #"+e;var r=t.split(",")[e].trim();return'"'+r+'" at position #'+e}function PYt(t,e,r){return r===void 0&&(r="    "),Jf([t],e.message.split(`
`).map(function(n){return r+n})).join(`
`)}function Che(t,e,r){var n=ZE(t.toString().match(/constructor\(([\w, ]+)\)/)||[],2),i=n[1],o=i===void 0?null:i,s=OYt(o,e);return PYt("Cannot inject the dependency "+s+' of "'+t.name+'" constructor. Reason:',r)}var Nhe=b(()=>{"use strict";eT()});function vit(t){if(typeof t.dispose!="function")return!1;var e=t.dispose;return!(e.length>0)}var _it=b(()=>{"use strict"});var kYt,DYt,MYt,Sit,xit=b(()=>{"use strict";eT();Ihe();kYt=(function(t){CN(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(PN),DYt=(function(t){CN(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(PN),MYt=(function(){function t(){this.preResolution=new kYt,this.postResolution=new DYt}return t})(),Sit=MYt});var Ohe,LYt,_i,Q1=b(()=>{"use strict";eT();Rhe();hit();RF();yit();vhe();bit();Nhe();EF();_it();xit();Ohe=new Map,LYt=(function(){function t(e){this.parent=e,this._registry=new git,this.interceptors=new Sit,this.disposed=!1,this.disposables=new Set}return t.prototype.register=function(e,r,n){n===void 0&&(n={lifecycle:Os.Transient}),this.ensureNotDisposed();var i;if(mit(r)?i=r:i={useClass:r},fS(i))for(var o=[e],s=i;s!=null;){var a=s.useToken;if(o.includes(a))throw new Error("Token registration cycle detected! "+Jf(o,[a]).join(" -> "));o.push(a);var c=this._registry.get(a);c&&fS(c.provider)?s=c.provider:s=null}if((n.lifecycle===Os.Singleton||n.lifecycle==Os.ContainerScoped||n.lifecycle==Os.ResolutionScoped)&&(mS(i)||tT(i)))throw new Error('Cannot use lifecycle "'+Os[n.lifecycle]+'" with ValueProviders or FactoryProviders');return this._registry.set(e,{provider:i,options:n}),this},t.prototype.registerType=function(e,r){return this.ensureNotDisposed(),K1(r)?this.register(e,{useToken:r}):this.register(e,{useClass:r})},t.prototype.registerInstance=function(e,r){return this.ensureNotDisposed(),this.register(e,{useValue:r})},t.prototype.registerSingleton=function(e,r){if(this.ensureNotDisposed(),K1(e)){if(K1(r))return this.register(e,{useToken:r},{lifecycle:Os.Singleton});if(r)return this.register(e,{useClass:r},{lifecycle:Os.Singleton});throw new Error('Cannot register a type name as a singleton without a "to" token')}var n=e;return r&&!K1(r)&&(n=r),this.register(e,{useClass:n},{lifecycle:Os.Singleton})},t.prototype.resolve=function(e,r,n){r===void 0&&(r=new kN),n===void 0&&(n=!1),this.ensureNotDisposed();var i=this.getRegistration(e);if(!i&&K1(e)){if(n)return;throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"')}if(this.executePreResolutionInterceptor(e,"Single"),i){var o=this.resolveRegistration(i,r);return this.executePostResolutionInterceptor(e,o,"Single"),o}if(fit(e)){var o=this.construct(e,r);return this.executePostResolutionInterceptor(e,o,"Single"),o}throw new Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")},t.prototype.executePreResolutionInterceptor=function(e,r){var n,i;if(this.interceptors.preResolution.has(e)){var o=[];try{for(var s=NN(this.interceptors.preResolution.getAll(e)),a=s.next();!a.done;a=s.next()){var c=a.value;c.options.frequency!="Once"&&o.push(c),c.callback(e,r)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}this.interceptors.preResolution.setAll(e,o)}},t.prototype.executePostResolutionInterceptor=function(e,r,n){var i,o;if(this.interceptors.postResolution.has(e)){var s=[];try{for(var a=NN(this.interceptors.postResolution.getAll(e)),c=a.next();!c.done;c=a.next()){var l=c.value;l.options.frequency!="Once"&&s.push(l),l.callback(e,r,n)}}catch(u){i={error:u}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}this.interceptors.postResolution.setAll(e,s)}},t.prototype.resolveRegistration=function(e,r){if(this.ensureNotDisposed(),e.options.lifecycle===Os.ResolutionScoped&&r.scopedResolutions.has(e))return r.scopedResolutions.get(e);var n=e.options.lifecycle===Os.Singleton,i=e.options.lifecycle===Os.ContainerScoped,o=n||i,s;return mS(e.provider)?s=e.provider.useValue:fS(e.provider)?s=o?e.instance||(e.instance=this.resolve(e.provider.useToken,r)):this.resolve(e.provider.useToken,r):ON(e.provider)?s=o?e.instance||(e.instance=this.construct(e.provider.useClass,r)):this.construct(e.provider.useClass,r):tT(e.provider)?s=e.provider.useFactory(this):s=this.construct(e.provider,r),e.options.lifecycle===Os.ResolutionScoped&&r.scopedResolutions.set(e,s),s},t.prototype.resolveAll=function(e,r,n){var i=this;r===void 0&&(r=new kN),n===void 0&&(n=!1),this.ensureNotDisposed();var o=this.getAllRegistrations(e);if(!o&&K1(e)){if(n)return[];throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"')}if(this.executePreResolutionInterceptor(e,"All"),o){var s=o.map(function(c){return i.resolveRegistration(c,r)});return this.executePostResolutionInterceptor(e,s,"All"),s}var a=[this.construct(e,r)];return this.executePostResolutionInterceptor(e,a,"All"),a},t.prototype.isRegistered=function(e,r){return r===void 0&&(r=!1),this.ensureNotDisposed(),this._registry.has(e)||r&&(this.parent||!1)&&this.parent.isRegistered(e,!0)},t.prototype.reset=function(){this.ensureNotDisposed(),this._registry.clear(),this.interceptors.preResolution.clear(),this.interceptors.postResolution.clear()},t.prototype.clearInstances=function(){var e,r;this.ensureNotDisposed();try{for(var n=NN(this._registry.entries()),i=n.next();!i.done;i=n.next()){var o=ZE(i.value,2),s=o[0],a=o[1];this._registry.setAll(s,a.filter(function(c){return!mS(c.provider)}).map(function(c){return c.instance=void 0,c}))}}catch(c){e={error:c}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.createChildContainer=function(){var e,r;this.ensureNotDisposed();var n=new t(this);try{for(var i=NN(this._registry.entries()),o=i.next();!o.done;o=i.next()){var s=ZE(o.value,2),a=s[0],c=s[1];c.some(function(l){var u=l.options;return u.lifecycle===Os.ContainerScoped})&&n._registry.setAll(a,c.map(function(l){return l.options.lifecycle===Os.ContainerScoped?{provider:l.provider,options:l.options}:l}))}}catch(l){e={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n},t.prototype.beforeResolution=function(e,r,n){n===void 0&&(n={frequency:"Always"}),this.interceptors.preResolution.set(e,{callback:r,options:n})},t.prototype.afterResolution=function(e,r,n){n===void 0&&(n={frequency:"Always"}),this.interceptors.postResolution.set(e,{callback:r,options:n})},t.prototype.dispose=function(){return dit(this,void 0,void 0,function(){var e;return pit(this,function(r){switch(r.label){case 0:return this.disposed=!0,e=[],this.disposables.forEach(function(n){var i=n.dispose();i&&e.push(i)}),[4,Promise.all(e)];case 1:return r.sent(),[2]}})})},t.prototype.getRegistration=function(e){return this.isRegistered(e)?this._registry.get(e):this.parent?this.parent.getRegistration(e):null},t.prototype.getAllRegistrations=function(e){return this.isRegistered(e)?this._registry.getAll(e):this.parent?this.parent.getAllRegistrations(e):null},t.prototype.construct=function(e,r){var n=this;if(e instanceof AF)return e.createProxy(function(o){return n.resolve(o,r)});var i=(function(){var o=Ohe.get(e);if(!o||o.length===0){if(e.length===0)return new e;throw new Error('TypeInfo not known for "'+e.name+'"')}var s=o.map(n.resolveParams(r,e));return new(e.bind.apply(e,Jf([void 0],s)))})();return vit(i)&&this.disposables.add(i),i},t.prototype.resolveParams=function(e,r){var n=this;return function(i,o){var s,a,c;try{return Ahe(i)?TF(i)?i.multiple?(s=n.resolve(i.transform)).transform.apply(s,Jf([n.resolveAll(i.token,new kN,i.isOptional)],i.transformArgs)):(a=n.resolve(i.transform)).transform.apply(a,Jf([n.resolve(i.token,e,i.isOptional)],i.transformArgs)):i.multiple?n.resolveAll(i.token,new kN,i.isOptional):n.resolve(i.token,e,i.isOptional):TF(i)?(c=n.resolve(i.transform,e)).transform.apply(c,Jf([n.resolve(i.token,e)],i.transformArgs)):n.resolve(i,e)}catch(l){throw new Error(Che(r,o,l))}}},t.prototype.ensureNotDisposed=function(){if(this.disposed)throw new Error("This container has been disposed, you cannot interact with a disposed container")},t})(),_i=new LYt});var wit=b(()=>{"use strict";pS();Q1();RF();Nhe()});var Ait=b(()=>{"use strict";pS()});function BYt(t){return function(e){Ohe.set(e,She(e)),t&&t.token&&(Array.isArray(t.token)?t.token.forEach(function(r){_i.register(r,e)}):_i.register(t.token,e))}}var X1,IF=b(()=>{"use strict";pS();Q1();Q1();X1=BYt});var Eit=b(()=>{"use strict";Q1()});var Tit=b(()=>{"use strict";IF();Q1()});var Rit=b(()=>{"use strict";pS()});var Iit=b(()=>{"use strict";pS()});var Cit=b(()=>{"use strict";pS()});var Nit=b(()=>{"use strict";IF();Q1()});var Oit=b(()=>{"use strict";wit();Ait();IF();Eit();Tit();Rit();Iit();Cit();Nit()});var Pit=b(()=>{"use strict"});var kit=b(()=>{"use strict"});var Dit=b(()=>{"use strict"});var Mit=b(()=>{"use strict";Pit();kit();Dit()});var Lit=b(()=>{"use strict";uit();Oit();Mit();Rhe();EF();Q1();if(typeof Reflect>"u"||!Reflect.getMetadata)throw new Error(`tsyringe requires a reflect polyfill. Please add 'import "reflect-metadata"' to the top of your entry point.`)});var khe,hS,Bit,Dhe=b(()=>{"use strict";Ue();Le();hS=class{constructor(e={}){this.attrId="",this.attrValues=[],Object.assign(e)}};O([F({type:Z.ObjectIdentifier})],hS.prototype,"attrId",void 0);O([F({type:Z.Any,repeated:"set"})],hS.prototype,"attrValues",void 0);Bit=khe=class extends Dt{constructor(e){super(e),Object.setPrototypeOf(this,khe.prototype)}};Bit=khe=O([ye({type:de.Sequence,itemType:hS})],Bit)});var Mhe,$it,Uit=b(()=>{"use strict";Ue();Le();SN();$it=Mhe=class extends Dt{constructor(e){super(e),Object.setPrototypeOf(this,Mhe.prototype)}};$it=Mhe=O([ye({type:de.Sequence,itemType:od})],$it)});var $Yt,UYt,Fit,rT,rQn,nQn,iQn,oQn,sQn,aQn,gS,Lhe=b(()=>{"use strict";$Yt="1.2.840.113549",UYt=`${$Yt}.1`,Fit=`${UYt}.12`,rT=`${Fit}.1`,rQn=`${rT}.1`,nQn=`${rT}.2`,iQn=`${rT}.3`,oQn=`${rT}.4`,sQn=`${rT}.5`,aQn=`${rT}.6`,gS=`${Fit}.10.1`});var uQn,dQn,pQn,fQn,mQn,hQn,CF,NF=b(()=>{"use strict";Lhe();uQn=`${gS}.1`,dQn=`${gS}.2`,pQn=`${gS}.3`,fQn=`${gS}.4`,mQn=`${gS}.5`,hQn=`${gS}.6`,CF="1.2.840.113549.1.9"});var OF,zit,_Qn,SQn,Hit=b(()=>{"use strict";Ue();Le();NF();OF=class{constructor(e={}){this.certId="",this.certValue=new ArrayBuffer(0),Object.assign(this,e)}};O([F({type:Z.ObjectIdentifier})],OF.prototype,"certId",void 0);O([F({type:Z.Any,context:0})],OF.prototype,"certValue",void 0);zit=`${CF}.22`,_Qn=`${zit}.1`,SQn=`${zit}.2`});var PF,FYt,TQn,Vit=b(()=>{"use strict";Ue();Le();NF();PF=class{constructor(e={}){this.crlId="",this.crltValue=new ArrayBuffer(0),Object.assign(this,e)}};O([F({type:Z.ObjectIdentifier})],PF.prototype,"crlId",void 0);O([F({type:Z.Any,context:0})],PF.prototype,"crltValue",void 0);FYt=`${CF}.23`,TQn=`${FYt}.1`});var kF,Y1,Git=b(()=>{"use strict";Ue();Le();Gr();kF=class extends zt{},Y1=class{constructor(e={}){this.encryptionAlgorithm=new et,this.encryptedData=new kF,Object.assign(this,e)}};O([F({type:et})],Y1.prototype,"encryptionAlgorithm",void 0);O([F({type:kF})],Y1.prototype,"encryptedData",void 0)});var Bhe,$he,DF,Uhe,Z1,jit=b(()=>{"use strict";Ue();Le();Gr();(function(t){t[t.v1=0]="v1"})($he||($he={}));DF=class extends zt{},Uhe=Bhe=class extends Dt{constructor(e){super(e),Object.setPrototypeOf(this,Bhe.prototype)}};Uhe=Bhe=O([ye({type:de.Sequence,itemType:Cs})],Uhe);Z1=class{constructor(e={}){this.version=$he.v1,this.privateKeyAlgorithm=new et,this.privateKey=new DF,Object.assign(this,e)}};O([F({type:Z.Integer})],Z1.prototype,"version",void 0);O([F({type:et})],Z1.prototype,"privateKeyAlgorithm",void 0);O([F({type:DF})],Z1.prototype,"privateKey",void 0);O([F({type:Uhe,implicit:!0,context:0,optional:!0})],Z1.prototype,"attributes",void 0)});var MF=b(()=>{"use strict";Git();jit()});var qit,Wit=b(()=>{"use strict";Ue();MF();Le();qit=class extends Z1{};qit=O([ye({type:de.Sequence})],qit)});var Jit,Kit=b(()=>{"use strict";Ue();MF();Le();Jit=class extends Y1{};Jit=O([ye({type:de.Sequence})],Jit)});var LF,Qit=b(()=>{"use strict";Ue();Le();LF=class{constructor(e={}){this.secretTypeId="",this.secretValue=new ArrayBuffer(0),Object.assign(this,e)}};O([F({type:Z.ObjectIdentifier})],LF.prototype,"secretTypeId",void 0);O([F({type:Z.Any,context:0})],LF.prototype,"secretValue",void 0)});var Xit=b(()=>{"use strict";Hit();Vit();Wit();Kit();Qit();NF()});var ey,Fhe=b(()=>{"use strict";Ue();wF();Le();ey=class{constructor(e={}){this.mac=new dS,this.macSalt=new zt,this.iterations=1,Object.assign(this,e)}};O([F({type:dS})],ey.prototype,"mac",void 0);O([F({type:zt})],ey.prototype,"macSalt",void 0);O([F({type:Z.Integer,defaultValue:1})],ey.prototype,"iterations",void 0)});var yS,Yit=b(()=>{"use strict";Ue();Le();SN();Fhe();yS=class{constructor(e={}){this.version=3,this.authSafe=new od,this.macData=new ey,Object.assign(this,e)}};O([F({type:Z.Integer})],yS.prototype,"version",void 0);O([F({type:od})],yS.prototype,"authSafe",void 0);O([F({type:ey,optional:!0})],yS.prototype,"macData",void 0)});var zhe,nT,Zit,eot=b(()=>{"use strict";Ue();Le();Dhe();nT=class{constructor(e={}){this.bagId="",this.bagValue=new ArrayBuffer(0),Object.assign(this,e)}};O([F({type:Z.ObjectIdentifier})],nT.prototype,"bagId",void 0);O([F({type:Z.Any,context:0})],nT.prototype,"bagValue",void 0);O([F({type:hS,repeated:"set",optional:!0})],nT.prototype,"bagAttributes",void 0);Zit=zhe=class extends Dt{constructor(e){super(e),Object.setPrototypeOf(this,zhe.prototype)}};Zit=zhe=O([ye({type:de.Sequence,itemType:nT})],Zit)});var tot=b(()=>{"use strict";Dhe();Uit();Xit();Fhe();Lhe();Yit();eot()});var Hhe,Vhe,Ghe,Gi,IXn,hot,MN,got,yot,CXn,NXn,OXn,PXn,kXn,DXn,MXn,LXn,Yhe,BXn,$Xn,UXn,LN,FXn,zXn,HXn,VXn,GXn,jXn,qXn,WXn,BN,JXn,KXn,QXn,XXn,YXn,ZXn,eYn,tYn,rYn,nYn,iYn,oYn,sYn,BF,rot,not,iot,jhe,oot,sot,qhe,aot,Whe,$F,cot,lot,Jhe,uot,Khe,dot,DN,pot,fot,Qhe,Xhe,mot,Zhe=b(()=>{"use strict";Ue();Le();SN();tot();MF();Gr();Fme();Gi="1.2.840.113549.1.9",IXn=`${Gi}.0`,hot=`${Gi}.24`,MN=`${Gi}.25`,got=`${Gi}.26`,yot=`${Gi}.27`,CXn=`${hot}.1`,NXn=`${hot}.2`,OXn=`${Gi}.1`,PXn=`${Gi}.2`,kXn=`${Gi}.3`,DXn=`${Gi}.4`,MXn=`${Gi}.5`,LXn=`${Gi}.6`,Yhe=`${Gi}.7`,BXn=`${Gi}.8`,$Xn=`${Gi}.9`,UXn=`${Gi}.13`,LN=`${Gi}.14`,FXn=`${Gi}.15`,zXn=`${Gi}.20`,HXn=`${Gi}.21`,VXn=`${MN}.1`,GXn=`${MN}.2`,jXn=`${MN}.3`,qXn=`${MN}.4`,WXn=`${MN}.5`,BN="1.3.6.1.5.5.7.9",JXn=`${BN}.1`,KXn=`${BN}.2`,QXn=`${BN}.3`,XXn=`${BN}.4`,YXn=`${BN}.5`,ZXn=`${got}.1`,eYn=`${got}.2`,tYn=`${yot}.1`,rYn=`${yot}.2`,nYn=`${Gi}.16`,iYn=`${Gi}.22`,oYn=`${Gi}.23`,sYn=`${Lme}.65`,BF=class extends Mo{constructor(e={}){super(e)}toString(){return{}.toString(),this.ia5String||super.toString()}};O([F({type:Z.IA5String})],BF.prototype,"ia5String",void 0);BF=O([ye({type:de.Choice})],BF);rot=class extends od{};rot=O([ye({type:de.Sequence})],rot);not=class extends yS{};not=O([ye({type:de.Sequence})],not);iot=class extends Y1{};iot=O([ye({type:de.Sequence})],iot);jhe=class{constructor(e=""){this.value=e}toString(){return this.value}};O([F({type:Z.IA5String})],jhe.prototype,"value",void 0);jhe=O([ye({type:de.Choice})],jhe);oot=class extends BF{};oot=O([ye({type:de.Choice})],oot);sot=class extends Mo{};sot=O([ye({type:de.Choice})],sot);qhe=class{constructor(e=new Date){this.value=e}};O([F({type:Z.GeneralizedTime})],qhe.prototype,"value",void 0);qhe=O([ye({type:de.Choice})],qhe);aot=class extends Mo{};aot=O([ye({type:de.Choice})],aot);Whe=class{constructor(e="M"){this.value=e}toString(){return this.value}};O([F({type:Z.PrintableString})],Whe.prototype,"value",void 0);Whe=O([ye({type:de.Choice})],Whe);$F=class{constructor(e=""){this.value=e}toString(){return this.value}};O([F({type:Z.PrintableString})],$F.prototype,"value",void 0);$F=O([ye({type:de.Choice})],$F);cot=class extends $F{};cot=O([ye({type:de.Choice})],cot);lot=class extends Mo{};lot=O([ye({type:de.Choice})],lot);Jhe=class{constructor(e=""){this.value=e}toString(){return this.value}};O([F({type:Z.ObjectIdentifier})],Jhe.prototype,"value",void 0);Jhe=O([ye({type:de.Choice})],Jhe);uot=class extends Vi{};uot=O([ye({type:de.Choice})],uot);Khe=class{constructor(e=0){this.value=e}toString(){return this.value.toString()}};O([F({type:Z.Integer})],Khe.prototype,"value",void 0);Khe=O([ye({type:de.Choice})],Khe);dot=class extends Lc{};dot=O([ye({type:de.Sequence})],dot);DN=class extends Mo{};DN=O([ye({type:de.Choice})],DN);pot=Hhe=class extends rd{constructor(e){super(e),Object.setPrototypeOf(this,Hhe.prototype)}};pot=Hhe=O([ye({type:de.Sequence})],pot);fot=Vhe=class extends Dt{constructor(e){super(e),Object.setPrototypeOf(this,Vhe.prototype)}};fot=Vhe=O([ye({type:de.Set,itemType:cp})],fot);Qhe=class{constructor(e=""){this.value=e}toString(){return this.value}};O([F({type:Z.BmpString})],Qhe.prototype,"value",void 0);Qhe=O([ye({type:de.Choice})],Qhe);Xhe=class extends et{};Xhe=O([ye({type:de.Sequence})],Xhe);mot=Ghe=class extends Dt{constructor(e){super(e),Object.setPrototypeOf(this,Ghe.prototype)}};mot=Ghe=O([ye({type:de.Sequence,itemType:Xhe})],mot)});var ege,$N,tge=b(()=>{"use strict";Ue();Le();Gr();$N=ege=class extends Dt{constructor(e){super(e),Object.setPrototypeOf(this,ege.prototype)}};$N=ege=O([ye({type:de.Sequence,itemType:Cs})],$N)});var Kf,rge=b(()=>{"use strict";Ue();Le();Gr();tge();Kf=class{constructor(e={}){this.version=0,this.subject=new Qn,this.subjectPKInfo=new aa,this.attributes=new $N,Object.assign(this,e)}};O([F({type:Z.Integer})],Kf.prototype,"version",void 0);O([F({type:Qn})],Kf.prototype,"subject",void 0);O([F({type:aa})],Kf.prototype,"subjectPKInfo",void 0);O([F({type:$N,implicit:!0,context:0,optional:!0})],Kf.prototype,"attributes",void 0)});var ty,bot=b(()=>{"use strict";Ue();Le();rge();Gr();ty=class{constructor(e={}){this.certificationRequestInfo=new Kf,this.signatureAlgorithm=new et,this.signature=new ArrayBuffer(0),Object.assign(this,e)}};O([F({type:Kf,raw:!0})],ty.prototype,"certificationRequestInfo",void 0);O([F({type:et})],ty.prototype,"signatureAlgorithm",void 0);O([F({type:Z.BitString})],ty.prototype,"signature",void 0)});var vot=b(()=>{"use strict";tge();bot();rge()});function jYt(t){return new RegExp(GYt).test(t)}function qYt(t,e){return`\\${Nt.ToHex(Nt.FromUtf8String(e)).toUpperCase()}`}function WYt(t){return t.replace(/([,+"\\<>;])/g,"\\$1").replace(/^([ #])/,"\\$1").replace(/([ ]$)/,"\\$1").replace(/([\r\n\t])/,qYt)}function rZt(t,e){return t.algorithm=new et({algorithm:qf,parameters:null}),e=ht.serialize(t),e}function FF(t,e,r){if(r.length===1)t[e]=r[0].toTextObject();else{let n=new Jr("");r.forEach((i,o)=>{let s=i.toTextObject(),a=`${s[Jr.NAME]} ${o+1}`,c=n[a];Array.isArray(c)||(c=[],n[a]=c),c.push(s)}),t[e]=n}}function zF(t,e,r,n){let i=e[n];i&&(Array.isArray(i)?i:[i]).forEach(s=>{typeof s=="string"&&(s=new Qf("url",s)),t.push(new Hh({accessMethod:r,accessLocation:ht.parse(s.rawData,Jt)}))})}var QYn,GN,pge,iT,HF,zc,_ot,Sot,xot,wot,Aot,Eot,Tot,Rot,Iot,Cot,Not,Oot,Pot,kot,Dot,Mot,Lot,Bot,$ot,Uot,Fot,zot,Hot,Vot,Got,jot,qot,Wot,Pi,FN,ist,ost,Jr,fge,Xf,Qh,iy,ad,sst,zN,ua,GYt,GF,Uc,ry,ast,Jot,JYt,Kot,Qot,Xot,nge,ige,oge,sge,age,cge,lge,UF,Qf,bS,UN,HN,KYt,QYt,XYt,oT,YYt,ZYt,eZt,tZt,Yot,Ua,oy,ny,jF,qF,Zot,WF,est,JF,KF,QF,Fc,XF,YF,ZF,sT,ez,VN,aT,rz,mge,VF,hge,gge,Xh,uge,tst,dge,rst,yge,bge,tz,nst,cst=b(()=>{"use strict";QYn=di(Ptt());Le();Gr();Gr();Mh();SN();phe();phe();wF();wF();Ue();Lit();Zhe();Zhe();vot();GN="crypto.algorithm",pge=class{getAlgorithms(){return _i.resolveAll(GN)}toAsnAlgorithm(e){({...e});for(let r of this.getAlgorithms()){let n=r.toAsnAlgorithm(e);if(n)return n}if(/^[0-9.]+$/.test(e.name)){let r=new et({algorithm:e.name});if("parameters"in e){let n=e;r.parameters=n.parameters}return r}throw new Error("Cannot convert WebCrypto algorithm to ASN.1 algorithm")}toWebAlgorithm(e){for(let n of this.getAlgorithms()){let i=n.toWebAlgorithm(e);if(i)return i}return{name:e.algorithm,parameters:e.parameters}}},iT="crypto.algorithmProvider";_i.registerSingleton(iT,pge);zc="1.3.36.3.3.2.8.1.1",_ot=`${zc}.1`,Sot=`${zc}.2`,xot=`${zc}.3`,wot=`${zc}.4`,Aot=`${zc}.5`,Eot=`${zc}.6`,Tot=`${zc}.7`,Rot=`${zc}.8`,Iot=`${zc}.9`,Cot=`${zc}.10`,Not=`${zc}.11`,Oot=`${zc}.12`,Pot=`${zc}.13`,kot=`${zc}.14`,Dot="brainpoolP160r1",Mot="brainpoolP160t1",Lot="brainpoolP192r1",Bot="brainpoolP192t1",$ot="brainpoolP224r1",Uot="brainpoolP224t1",Fot="brainpoolP256r1",zot="brainpoolP256t1",Hot="brainpoolP320r1",Vot="brainpoolP320t1",Got="brainpoolP384r1",jot="brainpoolP384t1",qot="brainpoolP512r1",Wot="brainpoolP512t1",Pi="ECDSA",FN=HF=class{toAsnAlgorithm(e){switch(e.name.toLowerCase()){case Pi.toLowerCase():if("hash"in e)switch((typeof e.hash=="string"?e.hash:e.hash.name).toLowerCase()){case"sha-1":return Hnt;case"sha-256":return Vnt;case"sha-384":return Gnt;case"sha-512":return jnt}else if("namedCurve"in e){let r="";switch(e.namedCurve){case"P-256":r=ihe;break;case"K-256":r=HF.SECP256K1;break;case"P-384":r=ohe;break;case"P-521":r=she;break;case Dot:r=_ot;break;case Mot:r=Sot;break;case Lot:r=xot;break;case Bot:r=wot;break;case $ot:r=Aot;break;case Uot:r=Eot;break;case Fot:r=Tot;break;case zot:r=Rot;break;case Hot:r=Iot;break;case Vot:r=Cot;break;case Got:r=Not;break;case jot:r=Oot;break;case qot:r=Pot;break;case Wot:r=kot;break}if(r)return new et({algorithm:oS,parameters:ht.serialize(new jf({namedCurve:r}))})}}return null}toWebAlgorithm(e){switch(e.algorithm){case xN:return{name:Pi,hash:{name:"SHA-1"}};case wN:return{name:Pi,hash:{name:"SHA-256"}};case AN:return{name:Pi,hash:{name:"SHA-384"}};case EN:return{name:Pi,hash:{name:"SHA-512"}};case oS:{if(!e.parameters)throw new TypeError("Cannot get required parameters from EC algorithm");switch(ht.parse(e.parameters,jf).namedCurve){case ihe:return{name:Pi,namedCurve:"P-256"};case HF.SECP256K1:return{name:Pi,namedCurve:"K-256"};case ohe:return{name:Pi,namedCurve:"P-384"};case she:return{name:Pi,namedCurve:"P-521"};case _ot:return{name:Pi,namedCurve:Dot};case Sot:return{name:Pi,namedCurve:Mot};case xot:return{name:Pi,namedCurve:Lot};case wot:return{name:Pi,namedCurve:Bot};case Aot:return{name:Pi,namedCurve:$ot};case Eot:return{name:Pi,namedCurve:Uot};case Tot:return{name:Pi,namedCurve:Fot};case Rot:return{name:Pi,namedCurve:zot};case Iot:return{name:Pi,namedCurve:Hot};case Cot:return{name:Pi,namedCurve:Vot};case Not:return{name:Pi,namedCurve:Got};case Oot:return{name:Pi,namedCurve:jot};case Pot:return{name:Pi,namedCurve:qot};case kot:return{name:Pi,namedCurve:Wot}}}}return null}};FN.SECP256K1="1.3.132.0.10";FN=HF=O([X1()],FN);_i.registerSingleton(GN,FN);ist=Symbol("name"),ost=Symbol("value"),Jr=class{constructor(e,r={},n=""){this[ist]=e,this[ost]=n;for(let i in r)this[i]=r[i]}};Jr.NAME=ist;Jr.VALUE=ost;fge=class{static toTextObject(e){let r=new Jr("Algorithm Identifier",{},Xf.toString(e.algorithm));if(e.parameters)switch(e.algorithm){case oS:{let n=new FN().toWebAlgorithm(e);n&&"namedCurve"in n?r["Named Curve"]=n.namedCurve:r.Parameters=e.parameters;break}default:r.Parameters=e.parameters}return r}},Xf=class{static toString(e){let r=this.items[e];return r||e}};Xf.items={[aS]:"sha1",[vF]:"sha224",[cS]:"sha256",[lS]:"sha384",[uS]:"sha512",[qf]:"rsaEncryption",[WE]:"sha1WithRSAEncryption",[Znt]:"sha224WithRSAEncryption",[bF]:"sha256WithRSAEncryption",[JE]:"sha384WithRSAEncryption",[KE]:"sha512WithRSAEncryption",[oS]:"ecPublicKey",[xN]:"ecdsaWithSHA1",[yF]:"ecdsaWithSHA224",[wN]:"ecdsaWithSHA256",[AN]:"ecdsaWithSHA384",[EN]:"ecdsaWithSHA512",[Vrt]:"TLS WWW server authentication",[Grt]:"TLS WWW client authentication",[jrt]:"Code Signing",[qrt]:"E-mail Protection",[Wrt]:"Time Stamping",[Jrt]:"OCSP Signing",[$nt]:"Signed Data"};Qh=class{static serialize(e){return this.serializeObj(e).join(`
`)}static pad(e=0){return"".padStart(2*e," ")}static serializeObj(e,r=0){let n=[],i=this.pad(r++),o="",s=e[Jr.VALUE];s&&(o=` ${s}`),n.push(`${i}${e[Jr.NAME]}:${o}`),i=this.pad(r);for(let a in e){if(typeof a=="symbol")continue;let c=e[a],l=a?`${a}: `:"";if(typeof c=="string"||typeof c=="number"||typeof c=="boolean")n.push(`${i}${l}${c}`);else if(c instanceof Date)n.push(`${i}${l}${c.toUTCString()}`);else if(Array.isArray(c))for(let u of c)u[Jr.NAME]=a,n.push(...this.serializeObj(u,r));else if(c instanceof Jr)c[Jr.NAME]=a,n.push(...this.serializeObj(c,r));else if(ft.isBufferSource(c))a?(n.push(`${i}${l}`),n.push(...this.serializeBufferSource(c,r+1))):n.push(...this.serializeBufferSource(c,r));else if("toTextObject"in c){let u=c.toTextObject();u[Jr.NAME]=a,n.push(...this.serializeObj(u,r))}else throw new TypeError("Cannot serialize data in text format. Unsupported type.")}return n}static serializeBufferSource(e,r=0){let n=this.pad(r),i=ft.toUint8Array(e),o=[];for(let s=0;s<i.length;){let a=[];for(let c=0;c<16&&s<i.length;c++){c===8&&a.push("");let l=i[s++].toString(16).padStart(2,"0");a.push(l)}o.push(`${n}${a.join(" ")}`)}return o}static serializeAlgorithm(e){return this.algorithmSerializer.toTextObject(e)}};Qh.oidSerializer=Xf;Qh.algorithmSerializer=fge;iy=class t{constructor(...e){if(e.length===1){let r=e[0];this.rawData=ht.serialize(r),this.onInit(r)}else{let r=ht.parse(e[0],e[1]);this.rawData=ft.toArrayBuffer(e[0]),this.onInit(r)}}equal(e){return e instanceof t?_U(e.rawData,this.rawData):!1}toString(e="text"){switch(e){case"asn":return ht.toString(this.rawData);case"text":return Qh.serialize(this.toTextObject());case"hex":return Nt.ToHex(this.rawData);case"base64":return Nt.ToBase64(this.rawData);case"base64url":return Nt.ToBase64Url(this.rawData);default:throw TypeError("Argument 'format' is unsupported value")}}getTextName(){return this.constructor.NAME}toTextObject(){let e=this.toTextObjectEmpty();return e[""]=this.rawData,e}toTextObjectEmpty(e){return new Jr(this.getTextName(),{},e)}};iy.NAME="ASN";ad=class t extends iy{constructor(...e){let r;ft.isBufferSource(e[0])?r=ft.toArrayBuffer(e[0]):r=ht.serialize(new ca({extnID:e[0],critical:e[1],extnValue:new zt(ft.toArrayBuffer(e[2]))})),super(r,ca)}onInit(e){this.type=e.extnID,this.critical=e.critical,this.value=e.extnValue.buffer}toTextObject(){let e=this.toTextObjectWithoutValue();return e[""]=this.value,e}toTextObjectWithoutValue(){let e=this.toTextObjectEmpty(this.critical?"critical":void 0);return e[Jr.NAME]===t.NAME&&(e[Jr.NAME]=Xf.toString(this.type)),e}},zN=class t{static isCryptoKeyPair(e){return e&&e.privateKey&&e.publicKey}static isCryptoKey(e){return e&&e.usages&&e.type&&e.algorithm&&e.extractable!==void 0}constructor(){this.items=new Map,this[sst]="CryptoProvider",typeof self<"u"&&typeof crypto<"u"?this.set(t.DEFAULT,crypto):typeof global<"u"&&global.crypto&&global.crypto.subtle&&this.set(t.DEFAULT,global.crypto)}clear(){this.items.clear()}delete(e){return this.items.delete(e)}forEach(e,r){return this.items.forEach(e,r)}has(e){return this.items.has(e)}get size(){return this.items.size}entries(){return this.items.entries()}keys(){return this.items.keys()}values(){return this.items.values()}[Symbol.iterator](){return this.items[Symbol.iterator]()}get(e=t.DEFAULT){let r=this.items.get(e.toLowerCase());if(!r)throw new Error(`Cannot get Crypto by name '${e}'`);return r}set(e,r){if(typeof e=="string"){if(!r)throw new TypeError("Argument 'value' is required");this.items.set(e.toLowerCase(),r)}else this.items.set(t.DEFAULT,e);return this}};sst=Symbol.toStringTag;zN.DEFAULT="default";ua=new zN,GYt=/^[0-2](?:\.[1-9][0-9]*)+$/;GF=class{constructor(e={}){this.items={};for(let r in e)this.register(r,e[r])}get(e){return this.items[e]||null}findId(e){return jYt(e)?e:this.get(e)}register(e,r){this.items[e]=r,this.items[r]=e}},Uc=new GF;Uc.register("CN","2.5.4.3");Uc.register("L","2.5.4.7");Uc.register("ST","2.5.4.8");Uc.register("O","2.5.4.10");Uc.register("OU","2.5.4.11");Uc.register("C","2.5.4.6");Uc.register("DC","0.9.2342.19200300.100.1.25");Uc.register("E","1.2.840.113549.1.9.1");Uc.register("G","2.5.4.42");Uc.register("I","2.5.4.43");Uc.register("SN","2.5.4.4");Uc.register("T","2.5.4.12");ry=class t{static isASCII(e){for(let r=0;r<e.length;r++)if(e.charCodeAt(r)>255)return!1;return!0}static isPrintableString(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/g.test(e)}constructor(e,r={}){this.extraNames=new GF,this.asn=new Qn;for(let n in r)if(Object.prototype.hasOwnProperty.call(r,n)){let i=r[n];this.extraNames.register(n,i)}typeof e=="string"?this.asn=this.fromString(e):e instanceof Qn?this.asn=e:ft.isBufferSource(e)?this.asn=ht.parse(e,Qn):this.asn=this.fromJSON(e)}getField(e){let r=this.extraNames.findId(e)||Uc.findId(e),n=[];for(let i of this.asn)for(let o of i)o.type===r&&n.push(o.value.toString());return n}getName(e){return this.extraNames.get(e)||Uc.get(e)}toString(){return this.asn.map(e=>e.map(r=>{let n=this.getName(r.type)||r.type,i=r.value.anyValue?`#${Nt.ToHex(r.value.anyValue)}`:WYt(r.value.toString());return`${n}=${i}`}).join("+")).join(", ")}toJSON(){var e;let r=[];for(let n of this.asn){let i={};for(let o of n){let s=this.getName(o.type)||o.type;(e=i[s])!==null&&e!==void 0||(i[s]=[]),i[s].push(o.value.anyValue?`#${Nt.ToHex(o.value.anyValue)}`:o.value.toString())}r.push(i)}return r}fromString(e){let r=new Qn,n=/(\d\.[\d.]*\d|[A-Za-z]+)=((?:"")|(?:".*?[^\\]")|(?:[^,+].*?(?:[^\\][,+]))|(?:))([,+])?/g,i=null,o=",";for(;i=n.exec(`${e},`);){let[,s,a]=i,c=a[a.length-1];(c===","||c==="+")&&(a=a.slice(0,a.length-1),i[3]=c);let l=i[3];s=this.getTypeOid(s);let u=this.createAttribute(s,a);o==="+"?r[r.length-1].push(u):r.push(new M1([u])),o=l}return r}fromJSON(e){let r=new Qn;for(let n of e){let i=new M1;for(let o in n){let s=this.getTypeOid(o),a=n[o];for(let c of a){let l=this.createAttribute(s,c);i.push(l)}}r.push(i)}return r}getTypeOid(e){if(/[\d.]+/.test(e)||(e=this.getName(e)||""),!e)throw new Error(`Cannot get OID for name type '${e}'`);return e}createAttribute(e,r){let n=new B_({type:e});if(typeof r=="object")for(let i in r)switch(i){case"ia5String":n.value.ia5String=r[i];break;case"utf8String":n.value.utf8String=r[i];break;case"universalString":n.value.universalString=r[i];break;case"bmpString":n.value.bmpString=r[i];break;case"printableString":n.value.printableString=r[i];break}else if(r[0]==="#")n.value.anyValue=Nt.FromHex(r.slice(1));else{let i=this.processStringValue(r);e===this.getName("E")||e===this.getName("DC")?n.value.ia5String=i:t.isPrintableString(i)?n.value.printableString=i:n.value.utf8String=i}return n}processStringValue(e){let r=/"(.*?[^\\])?"/.exec(e);return r&&(e=r[1]),e.replace(/\\0a/ig,`
`).replace(/\\0d/ig,"\r").replace(/\\0g/ig,"	").replace(/\\(.)/g,"$1")}toArrayBuffer(){return ht.serialize(this.asn)}async getThumbprint(...e){var r;let n,i="SHA-1";return e.length>=1&&!(!((r=e[0])===null||r===void 0)&&r.subtle)?(i=e[0]||i,n=e[1]||ua.get()):n=e[0]||ua.get(),await n.subtle.digest(i,this.toArrayBuffer())}},ast="Cannot initialize GeneralName from ASN.1 data.",Jot=`${ast} Unsupported string format in use.`,JYt=`${ast} Value doesn't match to GUID regular expression.`,Kot=/^([0-9a-f]{8})-?([0-9a-f]{4})-?([0-9a-f]{4})-?([0-9a-f]{4})-?([0-9a-f]{12})$/i,Qot="1.3.6.1.4.1.311.25.1",Xot="1.3.6.1.4.1.311.20.2.3",nge="dns",ige="dn",oge="email",sge="ip",age="url",cge="guid",lge="upn",UF="id",Qf=class extends iy{constructor(...e){let r;if(e.length===2)switch(e[0]){case ige:{let n=new ry(e[1]).toArrayBuffer(),i=ht.parse(n,Qn);r=new Jt({directoryName:i});break}case nge:r=new Jt({dNSName:e[1]});break;case oge:r=new Jt({rfc822Name:e[1]});break;case cge:{let n=new RegExp(Kot,"i").exec(e[1]);if(!n)throw new Error("Cannot parse GUID value. Value doesn't match to regular expression");let i=n.slice(1).map((o,s)=>s<3?Nt.ToHex(new Uint8Array(Nt.FromHex(o)).reverse()):o).join("");r=new Jt({otherName:new L1({typeId:Qot,value:ht.serialize(new zt(Nt.FromHex(i)))})});break}case sge:r=new Jt({iPAddress:e[1]});break;case UF:r=new Jt({registeredID:e[1]});break;case lge:{r=new Jt({otherName:new L1({typeId:Xot,value:ht.serialize(Bfe.toASN(e[1]))})});break}case age:r=new Jt({uniformResourceIdentifier:e[1]});break;default:throw new Error("Cannot create GeneralName. Unsupported type of the name")}else ft.isBufferSource(e[0])?r=ht.parse(e[0],Jt):r=e[0];super(r)}onInit(e){if(e.dNSName!=null)this.type=nge,this.value=e.dNSName;else if(e.rfc822Name!=null)this.type=oge,this.value=e.rfc822Name;else if(e.iPAddress!=null)this.type=sge,this.value=e.iPAddress;else if(e.uniformResourceIdentifier!=null)this.type=age,this.value=e.uniformResourceIdentifier;else if(e.registeredID!=null)this.type=UF,this.value=e.registeredID;else if(e.directoryName!=null)this.type=ige,this.value=new ry(e.directoryName).toString();else if(e.otherName!=null)if(e.otherName.typeId===Qot){this.type=cge;let r=ht.parse(e.otherName.value,zt),n=new RegExp(Kot,"i").exec(Nt.ToHex(r));if(!n)throw new Error(JYt);this.value=n.slice(1).map((i,o)=>o<3?Nt.ToHex(new Uint8Array(Nt.FromHex(i)).reverse()):i).join("-")}else if(e.otherName.typeId===Xot)this.type=lge,this.value=ht.parse(e.otherName.value,Mo).toString();else throw new Error(Jot);else throw new Error(Jot)}toJSON(){return{type:this.type,value:this.value}}toTextObject(){let e;switch(this.type){case ige:case nge:case cge:case sge:case UF:case lge:case age:e=this.type.toUpperCase();break;case oge:e="Email";break;default:throw new Error("Unsupported GeneralName type")}let r=this.value;return this.type===UF&&(r=Xf.toString(r)),new Jr(e,void 0,r)}},bS=class extends iy{constructor(e){let r;if(e instanceof vi)r=e;else if(Array.isArray(e)){let n=[];for(let i of e)if(i instanceof Jt)n.push(i);else{let o=ht.parse(new Qf(i.type,i.value).rawData,Jt);n.push(o)}r=new vi(n)}else if(ft.isBufferSource(e))r=ht.parse(e,vi);else throw new Error("Cannot initialize GeneralNames. Incorrect incoming arguments");super(r)}onInit(e){let r=[];for(let n of e){let i=null;try{i=new Qf(n)}catch{continue}r.push(i)}this.items=r}toJSON(){return this.items.map(e=>e.toJSON())}toTextObject(){let e=super.toTextObjectEmpty();for(let r of this.items){let n=r.toTextObject(),i=e[n[Jr.NAME]];Array.isArray(i)||(i=[],e[n[Jr.NAME]]=i),i.push(n)}return e}};bS.NAME="GeneralNames";UN="-{5}",HN="\\n",KYt=`[^${HN}]+`,QYt=`${UN}BEGIN (${KYt}(?=${UN}))${UN}`,XYt=`${UN}END \\1${UN}`,oT="\\n",YYt=`[^:${HN}]+`,ZYt=`(?:[^${HN}]+${oT}(?: +[^${HN}]+${oT})*)`,eZt="[a-zA-Z0-9=+/]+",tZt=`(?:${eZt}${oT})+`,Yot=`${QYt}${oT}(?:((?:${YYt}: ${ZYt})+))?${oT}?(${tZt})${XYt}`,Ua=class{static isPem(e){return typeof e=="string"&&new RegExp(Yot,"g").test(e)}static decodeWithHeaders(e){e=e.replace(/\r/g,"");let r=new RegExp(Yot,"g"),n=[],i=null;for(;i=r.exec(e);){let o=i[3].replace(new RegExp(`[${HN}]+`,"g"),""),s={type:i[1],headers:[],rawData:Nt.FromBase64(o)},a=i[2];if(a){let c=a.split(new RegExp(oT,"g")),l=null;for(let u of c){let[d,p]=u.split(/:(.*)/);if(p===void 0){if(!l)throw new Error("Cannot parse PEM string. Incorrect header value");l.value+=d.trim()}else l&&s.headers.push(l),l={key:d,value:p.trim()}}l&&s.headers.push(l)}n.push(s)}return n}static decode(e){return this.decodeWithHeaders(e).map(n=>n.rawData)}static decodeFirst(e){let r=this.decode(e);if(!r.length)throw new RangeError("PEM string doesn't contain any objects");return r[0]}static encode(e,r){if(Array.isArray(e)){let n=new Array;return r?e.forEach(i=>{if(!ft.isBufferSource(i))throw new TypeError("Cannot encode array of BufferSource in PEM format. Not all items of the array are BufferSource");n.push(this.encodeStruct({type:r,rawData:ft.toArrayBuffer(i)}))}):e.forEach(i=>{if(!("type"in i))throw new TypeError("Cannot encode array of PemStruct in PEM format. Not all items of the array are PemStrut");n.push(this.encodeStruct(i))}),n.join(`
`)}else{if(!r)throw new Error("Required argument 'tag' is missed");return this.encodeStruct({type:r,rawData:ft.toArrayBuffer(e)})}}static encodeStruct(e){var r;let n=e.type.toLocaleUpperCase(),i=[];if(i.push(`-----BEGIN ${n}-----`),!((r=e.headers)===null||r===void 0)&&r.length){for(let l of e.headers)i.push(`${l.key}: ${l.value}`);i.push("")}let o=Nt.ToBase64(e.rawData),s,a=0,c=Array();for(;a<o.length&&(o.length-a<64?s=o.substring(a):(s=o.substring(a,a+64),a+=64),s.length!==0);)if(c.push(s),s.length<64)break;return i.push(...c),i.push(`-----END ${n}-----`),i.join(`
`)}};Ua.CertificateTag="CERTIFICATE";Ua.CrlTag="CRL";Ua.CertificateRequestTag="CERTIFICATE REQUEST";Ua.PublicKeyTag="PUBLIC KEY";Ua.PrivateKeyTag="PRIVATE KEY";oy=class t extends iy{static isAsnEncoded(e){return ft.isBufferSource(e)||typeof e=="string"}static toArrayBuffer(e){if(typeof e=="string"){if(Ua.isPem(e))return Ua.decode(e)[0];if(Nt.isHex(e))return Nt.FromHex(e);if(Nt.isBase64(e))return Nt.FromBase64(e);if(Nt.isBase64Url(e))return Nt.FromBase64Url(e);throw new TypeError("Unsupported format of 'raw' argument. Must be one of DER, PEM, HEX, Base64, or Base4Url")}else{let r=Nt.ToBinary(e);return Ua.isPem(r)?Ua.decode(r)[0]:Nt.isHex(r)?Nt.FromHex(r):Nt.isBase64(r)?Nt.FromBase64(r):Nt.isBase64Url(r)?Nt.FromBase64Url(r):ft.toArrayBuffer(e)}}constructor(...e){t.isAsnEncoded(e[0])?super(t.toArrayBuffer(e[0]),e[1]):super(e[0])}toString(e="pem"){switch(e){case"pem":return Ua.encode(this.rawData,this.tag);default:return super.toString(e)}}},ny=class t extends oy{static async create(e,r=ua.get()){if(e instanceof t)return e;if(zN.isCryptoKey(e)){if(e.type!=="public")throw new TypeError("Public key is required");let n=await r.subtle.exportKey("spki",e);return new t(n)}else{if(e.publicKey)return e.publicKey;if(ft.isBufferSource(e))return new t(e);throw new TypeError("Unsupported PublicKeyType")}}constructor(e){oy.isAsnEncoded(e)?super(e,aa):super(e),this.tag=Ua.PublicKeyTag}async export(...e){let r,n=["verify"],i={hash:"SHA-256",...this.algorithm};e.length>1?(i=e[0]||i,n=e[1]||n,r=e[2]||ua.get()):r=e[0]||ua.get();let o=this.rawData,s=ht.parse(this.rawData,aa);return s.algorithm.algorithm===W1&&(o=rZt(s,o)),r.subtle.importKey("spki",o,i,!0,n)}onInit(e){let r=_i.resolve(iT),n=this.algorithm=r.toWebAlgorithm(e.algorithm);switch(e.algorithm.algorithm){case qf:{let i=ht.parse(e.subjectPublicKey,YE),o=ft.toUint8Array(i.modulus);n.publicExponent=ft.toUint8Array(i.publicExponent),n.modulusLength=(o[0]?o:o.slice(1)).byteLength<<3;break}}}async getThumbprint(...e){var r;let n,i="SHA-1";return e.length>=1&&!(!((r=e[0])===null||r===void 0)&&r.subtle)?(i=e[0]||i,n=e[1]||ua.get()):n=e[0]||ua.get(),await n.subtle.digest(i,this.rawData)}async getKeyIdentifier(...e){let r,n="SHA-1";e.length===1?typeof e[0]=="string"?(n=e[0],r=ua.get()):r=e[0]:e.length===2?(n=e[0],r=e[1]):r=ua.get();let i=ht.parse(this.rawData,aa);return await r.subtle.digest(n,i.subjectPublicKey)}toTextObject(){let e=this.toTextObjectEmpty(),r=ht.parse(this.rawData,aa);switch(e.Algorithm=Qh.serializeAlgorithm(r.algorithm),r.algorithm.algorithm){case oS:e["EC Point"]=r.subjectPublicKey;break;case qf:default:e["Raw Data"]=r.subjectPublicKey}return e}};jF=class t extends ad{static async create(e,r=!1,n=ua.get()){if("name"in e&&"serialNumber"in e)return new t(e,r);let o=await(await ny.create(e,n)).getKeyIdentifier(n);return new t(Nt.ToHex(o),r)}constructor(...e){if(ft.isBufferSource(e[0]))super(e[0]);else if(typeof e[0]=="string"){let r=new zf({keyIdentifier:new z_(Nt.FromHex(e[0]))});super(VU,e[1],ht.serialize(r))}else{let r=e[0],n=r.name instanceof bS?ht.parse(r.name.rawData,vi):r.name,i=new zf({authorityCertIssuer:n,authorityCertSerialNumber:Nt.FromHex(r.serialNumber)});super(VU,e[1],ht.serialize(i))}}onInit(e){super.onInit(e);let r=ht.parse(e.extnValue,zf);r.keyIdentifier&&(this.keyId=Nt.ToHex(r.keyIdentifier)),(r.authorityCertIssuer||r.authorityCertSerialNumber)&&(this.certId={name:r.authorityCertIssuer||[],serialNumber:r.authorityCertSerialNumber?Nt.ToHex(r.authorityCertSerialNumber):""})}toTextObject(){let e=this.toTextObjectWithoutValue(),r=ht.parse(this.value,zf);return r.authorityCertIssuer&&(e["Authority Issuer"]=new bS(r.authorityCertIssuer).toTextObject()),r.authorityCertSerialNumber&&(e["Authority Serial Number"]=r.authorityCertSerialNumber),r.keyIdentifier&&(e[""]=r.keyIdentifier),e}};jF.NAME="Authority Key Identifier";qF=class extends ad{constructor(...e){if(ft.isBufferSource(e[0])){super(e[0]);let r=ht.parse(this.value,H_);this.ca=r.cA,this.pathLength=r.pathLenConstraint}else{let r=new H_({cA:e[0],pathLenConstraint:e[1]});super(GU,e[2],ht.serialize(r)),this.ca=e[0],this.pathLength=e[1]}}toTextObject(){let e=this.toTextObjectWithoutValue();return this.ca&&(e.CA=this.ca),this.pathLength!==void 0&&(e["Path Length"]=this.pathLength),e}};qF.NAME="Basic Constraints";(function(t){t.serverAuth="1.3.6.1.5.5.7.3.1",t.clientAuth="1.3.6.1.5.5.7.3.2",t.codeSigning="1.3.6.1.5.5.7.3.3",t.emailProtection="1.3.6.1.5.5.7.3.4",t.timeStamping="1.3.6.1.5.5.7.3.8",t.ocspSigning="1.3.6.1.5.5.7.3.9"})(Zot||(Zot={}));WF=class extends ad{constructor(...e){if(ft.isBufferSource(e[0])){super(e[0]);let r=ht.parse(this.value,ZC);this.usages=r.map(n=>n)}else{let r=new ZC(e[0]);super(KU,e[1],ht.serialize(r)),this.usages=e[0]}}toTextObject(){let e=this.toTextObjectWithoutValue();return e[""]=this.usages.map(r=>Xf.toString(r)).join(", "),e}};WF.NAME="Extended Key Usages";(function(t){t[t.digitalSignature=1]="digitalSignature",t[t.nonRepudiation=2]="nonRepudiation",t[t.keyEncipherment=4]="keyEncipherment",t[t.dataEncipherment=8]="dataEncipherment",t[t.keyAgreement=16]="keyAgreement",t[t.keyCertSign=32]="keyCertSign",t[t.cRLSign=64]="cRLSign",t[t.encipherOnly=128]="encipherOnly",t[t.decipherOnly=256]="decipherOnly"})(est||(est={}));JF=class extends ad{constructor(...e){if(ft.isBufferSource(e[0])){super(e[0]);let r=ht.parse(this.value,NE);this.usages=r.toNumber()}else{let r=new NE(e[0]);super(QU,e[1],ht.serialize(r)),this.usages=e[0]}}toTextObject(){let e=this.toTextObjectWithoutValue(),r=ht.parse(this.value,NE);return e[""]=r.toJSON().join(", "),e}};JF.NAME="Key Usages";KF=class t extends ad{static async create(e,r=!1,n=ua.get()){let o=await(await ny.create(e,n)).getKeyIdentifier(n);return new t(Nt.ToHex(o),r)}constructor(...e){if(ft.isBufferSource(e[0])){super(e[0]);let r=ht.parse(this.value,Dc);this.keyId=Nt.ToHex(r)}else{let r=typeof e[0]=="string"?Nt.FromHex(e[0]):e[0],n=new Dc(r);super(hme,e[1],ht.serialize(n)),this.keyId=Nt.ToHex(r)}}toTextObject(){let e=this.toTextObjectWithoutValue(),r=ht.parse(this.value,Dc);return e[""]=r,e}};KF.NAME="Subject Key Identifier";QF=class extends ad{constructor(...e){ft.isBufferSource(e[0])?super(e[0]):super(pme,e[1],new bS(e[0]||[]).rawData)}onInit(e){super.onInit(e);let r=ht.parse(e.extnValue,eF);this.names=new bS(r)}toTextObject(){let e=this.toTextObjectWithoutValue(),r=this.names.toTextObject();for(let n in r)e[n]=r[n];return e}};QF.NAME="Subject Alternative Name";Fc=class{static register(e,r){this.items.set(e,r)}static create(e){let r=new ad(e),n=this.items.get(r.type);return n?new n(e):r}};Fc.items=new Map;XF=class extends ad{constructor(...e){var r;if(ft.isBufferSource(e[0])){super(e[0]);let n=ht.parse(this.value,JC);this.policies=n.map(i=>i.policyIdentifier)}else{let n=e[0],i=(r=e[1])!==null&&r!==void 0?r:!1,o=new JC(n.map(s=>new V_({policyIdentifier:s})));super(qU,i,ht.serialize(o)),this.policies=n}}toTextObject(){let e=this.toTextObjectWithoutValue();return e.Policy=this.policies.map(r=>new Jr("",{},Xf.toString(r))),e}};XF.NAME="Certificate Policies";Fc.register(qU,XF);YF=class extends ad{constructor(...e){var r;if(ft.isBufferSource(e[0]))super(e[0]);else if(Array.isArray(e[0])&&typeof e[0][0]=="string"){let i=e[0].map(s=>new Hf({distributionPoint:new Gh({fullName:[new Jt({uniformResourceIdentifier:s})]})})),o=new U1(i);super(WU,e[1],ht.serialize(o))}else{let n=new U1(e[0]);super(WU,e[1],ht.serialize(n))}(r=this.distributionPoints)!==null&&r!==void 0||(this.distributionPoints=[])}onInit(e){super.onInit(e);let r=ht.parse(e.extnValue,U1);this.distributionPoints=r}toTextObject(){let e=this.toTextObjectWithoutValue();return e["Distribution Point"]=this.distributionPoints.map(r=>{var n;let i={};return r.distributionPoint&&(i[""]=(n=r.distributionPoint.fullName)===null||n===void 0?void 0:n.map(o=>new Qf(o).toString()).join(", ")),r.reasons&&(i.Reasons=r.reasons.toString()),r.cRLIssuer&&(i["CRL Issuer"]=r.cRLIssuer.map(o=>o.toString()).join(", ")),i}),e}};YF.NAME="CRL Distribution Points";ZF=class extends ad{constructor(...e){var r,n,i,o;if(ft.isBufferSource(e[0]))super(e[0]);else if(e[0]instanceof F_){let s=new F_(e[0]);super(HU,e[1],ht.serialize(s))}else{let s=e[0],a=new F_;zF(a,s,Wfe,"ocsp"),zF(a,s,Jfe,"caIssuers"),zF(a,s,Kfe,"timeStamping"),zF(a,s,Qfe,"caRepository"),super(HU,e[1],ht.serialize(a))}(r=this.ocsp)!==null&&r!==void 0||(this.ocsp=[]),(n=this.caIssuers)!==null&&n!==void 0||(this.caIssuers=[]),(i=this.timeStamping)!==null&&i!==void 0||(this.timeStamping=[]),(o=this.caRepository)!==null&&o!==void 0||(this.caRepository=[])}onInit(e){super.onInit(e),this.ocsp=[],this.caIssuers=[],this.timeStamping=[],this.caRepository=[],ht.parse(e.extnValue,F_).forEach(n=>{switch(n.accessMethod){case Wfe:this.ocsp.push(new Qf(n.accessLocation));break;case Jfe:this.caIssuers.push(new Qf(n.accessLocation));break;case Kfe:this.timeStamping.push(new Qf(n.accessLocation));break;case Qfe:this.caRepository.push(new Qf(n.accessLocation));break}})}toTextObject(){let e=this.toTextObjectWithoutValue();return this.ocsp.length&&FF(e,"OCSP",this.ocsp),this.caIssuers.length&&FF(e,"CA Issuers",this.caIssuers),this.timeStamping.length&&FF(e,"Time Stamping",this.timeStamping),this.caRepository.length&&FF(e,"CA Repository",this.caRepository),e}};ZF.NAME="Authority Info Access";sT=class t extends iy{constructor(...e){let r;if(ft.isBufferSource(e[0]))r=ft.toArrayBuffer(e[0]);else{let n=e[0],i=Array.isArray(e[1])?e[1].map(o=>ft.toArrayBuffer(o)):[];r=ht.serialize(new Cs({type:n,values:i}))}super(r,Cs)}onInit(e){this.type=e.type,this.values=e.values}toTextObject(){let e=this.toTextObjectWithoutValue();return e.Value=this.values.map(r=>new Jr("",{"":r})),e}toTextObjectWithoutValue(){let e=this.toTextObjectEmpty();return e[Jr.NAME]===t.NAME&&(e[Jr.NAME]=Xf.toString(this.type)),e}};sT.NAME="Attribute";ez=class extends sT{constructor(...e){var r;if(ft.isBufferSource(e[0]))super(e[0]);else{let n=new DN({printableString:e[0]});super(Yhe,[ht.serialize(n)])}(r=this.password)!==null&&r!==void 0||(this.password="")}onInit(e){if(super.onInit(e),this.values[0]){let r=ht.parse(this.values[0],DN);this.password=r.toString()}}toTextObject(){let e=this.toTextObjectWithoutValue();return e[Jr.VALUE]=this.password,e}};ez.NAME="Challenge Password";VN=class extends sT{constructor(...e){var r;if(ft.isBufferSource(e[0]))super(e[0]);else{let n=e[0],i=new rd;for(let o of n)i.push(ht.parse(o.rawData,ca));super(LN,[ht.serialize(i)])}(r=this.items)!==null&&r!==void 0||(this.items=[])}onInit(e){if(super.onInit(e),this.values[0]){let r=ht.parse(this.values[0],rd);this.items=r.map(n=>Fc.create(ht.serialize(n)))}}toTextObject(){let e=this.toTextObjectWithoutValue(),r=this.items.map(n=>n.toTextObject());for(let n of r)e[n[Jr.NAME]]=n;return e}};VN.NAME="Extensions";aT=class{static register(e,r){this.items.set(e,r)}static create(e){let r=new sT(e),n=this.items.get(r.type);return n?new n(e):r}};aT.items=new Map;rz="crypto.signatureFormatter",mge=class{toAsnSignature(e,r){return ft.toArrayBuffer(r)}toWebSignature(e,r){return ft.toArrayBuffer(r)}},hge=VF=class{static createPssParams(e,r){let n=VF.getHashAlgorithm(e);return n?new Wf({hashAlgorithm:n,maskGenAlgorithm:new et({algorithm:J1,parameters:ht.serialize(n)}),saltLength:r}):null}static getHashAlgorithm(e){let r=_i.resolve(iT);return typeof e=="string"?r.toAsnAlgorithm({name:e}):typeof e=="object"&&e&&"name"in e?r.toAsnAlgorithm(e):null}toAsnAlgorithm(e){switch(e.name.toLowerCase()){case"rsassa-pkcs1-v1_5":if("hash"in e){let r;if(typeof e.hash=="string")r=e.hash;else if(e.hash&&typeof e.hash=="object"&&"name"in e.hash&&typeof e.hash.name=="string")r=e.hash.name.toUpperCase();else throw new Error("Cannot get hash algorithm name");switch(r.toLowerCase()){case"sha-1":return new et({algorithm:WE,parameters:null});case"sha-256":return new et({algorithm:bF,parameters:null});case"sha-384":return new et({algorithm:JE,parameters:null});case"sha-512":return new et({algorithm:KE,parameters:null})}}else return new et({algorithm:qf,parameters:null});break;case"rsa-pss":if("hash"in e){if(!("saltLength"in e&&typeof e.saltLength=="number"))throw new Error("Cannot get 'saltLength' from 'alg' argument");let r=VF.createPssParams(e.hash,e.saltLength);if(!r)throw new Error("Cannot create PSS parameters");return new et({algorithm:W1,parameters:ht.serialize(r)})}else return new et({algorithm:W1,parameters:null})}return null}toWebAlgorithm(e){switch(e.algorithm){case qf:return{name:"RSASSA-PKCS1-v1_5"};case WE:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case bF:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case JE:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case KE:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case W1:if(e.parameters){let r=ht.parse(e.parameters,Wf);return{name:"RSA-PSS",hash:_i.resolve(iT).toWebAlgorithm(r.hashAlgorithm),saltLength:r.saltLength}}else return{name:"RSA-PSS"}}return null}};hge=VF=O([X1()],hge);_i.registerSingleton(GN,hge);gge=class{toAsnAlgorithm(e){switch(e.name.toLowerCase()){case"sha-1":return new et({algorithm:aS});case"sha-256":return new et({algorithm:cS});case"sha-384":return new et({algorithm:lS});case"sha-512":return new et({algorithm:uS})}return null}toWebAlgorithm(e){switch(e.algorithm){case aS:return{name:"SHA-1"};case cS:return{name:"SHA-256"};case lS:return{name:"SHA-384"};case uS:return{name:"SHA-512"}}return null}};gge=O([X1()],gge);_i.registerSingleton(GN,gge);Xh=class t{addPadding(e,r){let n=ft.toUint8Array(r),i=new Uint8Array(e);return i.set(n,e-n.length),i}removePadding(e,r=!1){let n=ft.toUint8Array(e);for(let i=0;i<n.length;i++)if(n[i]){n=n.slice(i);break}if(r&&n[0]>127){let i=new Uint8Array(n.length+1);return i.set(n,1),i.buffer}return n.buffer}toAsnSignature(e,r){if(e.name==="ECDSA"){let n=e.namedCurve,i=t.namedCurveSize.get(n)||t.defaultNamedCurveSize,o=new sS,s=ft.toUint8Array(r);return o.r=this.removePadding(s.slice(0,i),!0),o.s=this.removePadding(s.slice(i,i+i),!0),ht.serialize(o)}return null}toWebSignature(e,r){if(e.name==="ECDSA"){let n=ht.parse(r,sS),i=e.namedCurve,o=t.namedCurveSize.get(i)||t.defaultNamedCurveSize,s=this.addPadding(o,this.removePadding(n.r)),a=this.addPadding(o,this.removePadding(n.s));return ktt(s,a)}return null}};Xh.namedCurveSize=new Map;Xh.defaultNamedCurveSize=32;uge="1.3.101.110",tst="1.3.101.111",dge="1.3.101.112",rst="1.3.101.113",yge=class{toAsnAlgorithm(e){let r=null;switch(e.name.toLowerCase()){case"ed25519":r=dge;break;case"x25519":r=uge;break;case"eddsa":switch(e.namedCurve.toLowerCase()){case"ed25519":r=dge;break;case"ed448":r=rst;break}break;case"ecdh-es":switch(e.namedCurve.toLowerCase()){case"x25519":r=uge;break;case"x448":r=tst;break}}return r?new et({algorithm:r}):null}toWebAlgorithm(e){switch(e.algorithm){case dge:return{name:"Ed25519"};case rst:return{name:"EdDSA",namedCurve:"Ed448"};case uge:return{name:"X25519"};case tst:return{name:"ECDH-ES",namedCurve:"X448"}}return null}};yge=O([X1()],yge);_i.registerSingleton(GN,yge);bge=class extends oy{constructor(e){oy.isAsnEncoded(e)?super(e,ty):super(e),this.tag=Ua.CertificateRequestTag}onInit(e){this.tbs=ht.serialize(e.certificationRequestInfo),this.publicKey=new ny(e.certificationRequestInfo.subjectPKInfo);let r=_i.resolve(iT);this.signatureAlgorithm=r.toWebAlgorithm(e.signatureAlgorithm),this.signature=e.signature,this.attributes=e.certificationRequestInfo.attributes.map(i=>aT.create(ht.serialize(i)));let n=this.getAttribute(LN);this.extensions=[],n instanceof VN&&(this.extensions=n.items),this.subjectName=new ry(e.certificationRequestInfo.subject),this.subject=this.subjectName.toString()}getAttribute(e){for(let r of this.attributes)if(r.type===e)return r;return null}getAttributes(e){return this.attributes.filter(r=>r.type===e)}getExtension(e){for(let r of this.extensions)if(r.type===e)return r;return null}getExtensions(e){return this.extensions.filter(r=>r.type===e)}async verify(e=ua.get()){let r={...this.publicKey.algorithm,...this.signatureAlgorithm},n=await this.publicKey.export(r,["verify"],e),i=_i.resolveAll(rz).reverse(),o=null;for(let a of i)if(o=a.toWebSignature(r,this.signature),o)break;if(!o)throw Error("Cannot convert WebCrypto signature value to ASN.1 format");return await e.subtle.verify(this.signatureAlgorithm,n,o,this.tbs)}toTextObject(){let e=this.toTextObjectEmpty(),r=ht.parse(this.rawData,ty),n=r.certificationRequestInfo,i=new Jr("",{Version:`${jh[n.version]} (${n.version})`,Subject:this.subject,"Subject Public Key Info":this.publicKey});if(this.attributes.length){let o=new Jr("");for(let s of this.attributes){let a=s.toTextObject();o[a[Jr.NAME]]=a}i.Attributes=o}return e.Data=i,e.Signature=new Jr("",{Algorithm:Qh.serializeAlgorithm(r.signatureAlgorithm),"":r.signature}),e}};bge.NAME="PKCS#10 Certificate Request";tz=class extends oy{constructor(e){oy.isAsnEncoded(e)?super(e,sp):super(e),this.tag=Ua.CertificateTag}onInit(e){let r=e.tbsCertificate;this.tbs=ht.serialize(r),this.serialNumber=Nt.ToHex(r.serialNumber),this.subjectName=new ry(r.subject),this.subject=new ry(r.subject).toString(),this.issuerName=new ry(r.issuer),this.issuer=this.issuerName.toString();let n=_i.resolve(iT);this.signatureAlgorithm=n.toWebAlgorithm(e.signatureAlgorithm),this.signature=e.signatureValue;let i=r.validity.notBefore.utcTime||r.validity.notBefore.generalTime;if(!i)throw new Error("Cannot get 'notBefore' value");this.notBefore=i;let o=r.validity.notAfter.utcTime||r.validity.notAfter.generalTime;if(!o)throw new Error("Cannot get 'notAfter' value");this.notAfter=o,this.extensions=[],r.extensions&&(this.extensions=r.extensions.map(s=>Fc.create(ht.serialize(s)))),this.publicKey=new ny(r.subjectPublicKeyInfo)}getExtension(e){for(let r of this.extensions)if(typeof e=="string"){if(r.type===e)return r}else if(r instanceof e)return r;return null}getExtensions(e){return this.extensions.filter(r=>typeof e=="string"?r.type===e:r instanceof e)}async verify(e={},r=ua.get()){let n,i,o=e.publicKey;try{if(!o)n={...this.publicKey.algorithm,...this.signatureAlgorithm},i=await this.publicKey.export(n,["verify"],r);else if("publicKey"in o)n={...o.publicKey.algorithm,...this.signatureAlgorithm},i=await o.publicKey.export(n,["verify"],r);else if(o instanceof ny)n={...o.algorithm,...this.signatureAlgorithm},i=await o.export(n,["verify"],r);else if(ft.isBufferSource(o)){let l=new ny(o);n={...l.algorithm,...this.signatureAlgorithm},i=await l.export(n,["verify"],r)}else n={...o.algorithm,...this.signatureAlgorithm},i=o}catch{return!1}let s=_i.resolveAll(rz).reverse(),a=null;for(let l of s)if(a=l.toWebSignature(n,this.signature),a)break;if(!a)throw Error("Cannot convert ASN.1 signature value to WebCrypto format");let c=await r.subtle.verify(this.signatureAlgorithm,i,a,this.tbs);if(e.signatureOnly)return c;{let u=(e.date||new Date).getTime();return c&&this.notBefore.getTime()<u&&u<this.notAfter.getTime()}}async getThumbprint(...e){let r,n="SHA-1";return e[0]&&(e[0].subtle?r=e[0]:(n=e[0]||n,r=e[1])),r??(r=ua.get()),await r.subtle.digest(n,this.rawData)}async isSelfSigned(e=ua.get()){return this.subject===this.issuer&&await this.verify({signatureOnly:!0},e)}toTextObject(){let e=this.toTextObjectEmpty(),r=ht.parse(this.rawData,sp),n=r.tbsCertificate,i=new Jr("",{Version:`${jh[n.version]} (${n.version})`,"Serial Number":n.serialNumber,"Signature Algorithm":Qh.serializeAlgorithm(n.signature),Issuer:this.issuer,Validity:new Jr("",{"Not Before":n.validity.notBefore.getTime(),"Not After":n.validity.notAfter.getTime()}),Subject:this.subject,"Subject Public Key Info":this.publicKey});if(n.issuerUniqueID&&(i["Issuer Unique ID"]=n.issuerUniqueID),n.subjectUniqueID&&(i["Subject Unique ID"]=n.subjectUniqueID),this.extensions.length){let o=new Jr("");for(let s of this.extensions){let a=s.toTextObject();o[a[Jr.NAME]]=a}i.Extensions=o}return e.Data=i,e.Signature=new Jr("",{Algorithm:Qh.serializeAlgorithm(r.signatureAlgorithm),"":r.signatureValue}),e}};tz.NAME="Certificate";(function(t){t[t.unspecified=0]="unspecified",t[t.keyCompromise=1]="keyCompromise",t[t.cACompromise=2]="cACompromise",t[t.affiliationChanged=3]="affiliationChanged",t[t.superseded=4]="superseded",t[t.cessationOfOperation=5]="cessationOfOperation",t[t.certificateHold=6]="certificateHold",t[t.removeFromCRL=8]="removeFromCRL",t[t.privilegeWithdrawn=9]="privilegeWithdrawn",t[t.aACompromise=10]="aACompromise"})(nst||(nst={}));Fc.register(GU,qF);Fc.register(KU,WF);Fc.register(QU,JF);Fc.register(hme,KF);Fc.register(VU,jF);Fc.register(pme,QF);Fc.register(WU,YF);Fc.register(HU,ZF);aT.register(Yhe,ez);aT.register(LN,VN);_i.registerSingleton(rz,mge);_i.registerSingleton(rz,Xh);Xh.namedCurveSize.set("P-256",32);Xh.namedCurveSize.set("K-256",32);Xh.namedCurveSize.set("P-384",48);Xh.namedCurveSize.set("P-521",66)});var lst,ust=b(()=>{"use strict";Df();lst=di(Ntt(),1);cst();gU()});var vge=b(()=>{"use strict";Ife();Itt();ust()});function dst(t){if(t.length%2!=0)throw new Error("Hex string length must be multiple of 2");let e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2)e[r/2]=parseInt(t.substring(r,r+2),16);return e}function pst(t){let e="";for(let r=0;r<t.length;r++){let n=t[r].toString(16);e+=n.length>1?n:"0"+n}return e}function jN(t,e){return btoa(oZt(t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function oZt(t){let e="";for(let r=0;r<t.length;r+=1)e+=String.fromCharCode(t[r]);return e}var fst=b(()=>{"use strict";});function iz(){return BigInt("115792089210356248762697446949407573530086143415290314195533631308867097853951")}function mst(){return BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b")}function _ge(t){return BigInt("0x"+pst(t))}function nz(t,e){let r=t.toString(16),n=e*2,i="";if(n<r.length)throw new Error(`cannot pack integer with ${r.length} hex chars into ${e} bytes`);return i="0".repeat(n-r.length),dst(i+r)}function Sge(t,e){let r=BigInt(1)<<BigInt(e);return(t&r)!==BigInt(0)}function sZt(t,e,r){if(e===BigInt(0))return BigInt(1);let n=t,i=e.toString(2);for(let o=1;o<i.length;++o)n=n*n%r,i[o]==="1"&&(n=n*t%r);return n}function aZt(t,e){if(e<=BigInt(0))throw new Error("p must be positive");let r=t%e;if(Sge(e,0)&&Sge(e,1)){let n=e+BigInt(1)>>BigInt(2),i=sZt(r,n,e);if(i*i%e!==r)throw new Error("could not find a modular square root");return i}throw new Error("unsupported modulus value")}function cZt(t,e){let r=iz(),n=r-BigInt(3),i=mst(),o=((t*t+n)*t+i)%r,s=aZt(o,r);return e!==Sge(s,0)&&(s=(r-s)%r),s}function lZt(t,e){let r=iz(),n=r-BigInt(3),i=mst(),o=((t*t+n)*t+i)%r;return e**BigInt(2)%r===o}function xge(t){let e=uZt(),r=e+1,n=2*e+1;if(t.length!==r&&t.length!==n)throw new Error("Invalid length: point is not in compressed or uncompressed format");if((t[0]===2||t[0]===3)&&t.length==r){let i=t[0]===3,o=_ge(t.subarray(1,t.length)),s=iz();if(o<BigInt(0)||o>=s)throw new Error("x is out of range");let a=cZt(o,i);return{kty:"EC",crv:"P-256",x:jN(nz(o,32)),y:jN(nz(a,32)),ext:!0}}else if(t[0]===4&&t.length==n){let i=_ge(t.subarray(1,e+1)),o=_ge(t.subarray(e+1,2*e+1)),s=iz();if(i<BigInt(0)||i>=s||o<BigInt(0)||o>=s||!lZt(i,o))throw new Error("invalid uncompressed x and y coordinates");return{kty:"EC",crv:"P-256",x:jN(nz(i,32)),y:jN(nz(o,32)),ext:!0}}throw new Error("invalid format")}function uZt(){return 32}var wge=b(()=>{"use strict";fst();});function oz(t){let{uncompressedPrivateKeyHex:e,compressedPublicKeyHex:r}=t,n;try{n=xge(Ih(r))}catch{throw new Error("unable to load API key: invalid public key. Did you switch your public and private key by accident? Is your public key a valid, compressed P-256 public key?")}return n.d=mfe(e,gtt),n}var Age=b(()=>{"use strict";wge();Df()});var gst={};Nr(gst,{signWithApiKey:()=>dZt});async function pZt(t){let{uncompressedPrivateKeyHex:e,compressedPublicKeyHex:r}=t,n=oz({uncompressedPrivateKeyHex:e,compressedPublicKeyHex:r});return await crypto.subtle.importKey("jwk",n,{name:"ECDSA",namedCurve:"P-256"},!1,["sign"])}async function fZt(t){let{key:e,content:r}=t,n=await crypto.subtle.sign({name:"ECDSA",hash:"SHA-256"},e,new TextEncoder().encode(r)),i=mZt(new Uint8Array(n));return Pf(i)}function mZt(t){if(t.length%2!=0||t.length==0||t.length>132)throw new Error("Invalid IEEE P1363 signature encoding. Length: "+t.length);let e=hst(t.subarray(0,t.length/2)),r=hst(t.subarray(t.length/2,t.length)),n=0,i=2+e.length+1+1+r.length,o;return i>=128?(o=new Uint8Array(i+3),o[n++]=48,o[n++]=129,o[n++]=i):(o=new Uint8Array(i+2),o[n++]=48,o[n++]=i),o[n++]=2,o[n++]=e.length,o.set(e,n),n+=e.length,o[n++]=2,o[n++]=r.length,o.set(r,n),o}function hst(t){let e=0;for(;e<t.length&&t[e]==0;)e++;e==t.length&&(e=t.length-1);let r=0;(t[e]&128)==128&&(r=1);let n=new Uint8Array(t.length-e+r);return n.set(t.subarray(e),r),n}var dZt,yst=b(()=>{"use strict";Age();Df();dZt=async t=>{let{content:e,publicKey:r,privateKey:n}=t,i=await pZt({uncompressedPrivateKeyHex:n,compressedPublicKeyHex:r});return await fZt({key:i,content:e})}});var bst={};Nr(bst,{signWithApiKey:()=>hZt});import*as sz from"crypto";var hZt,vst=b(()=>{"use strict";Age();hZt=async t=>{let{content:e,publicKey:r,privateKey:n}=t,i=sz.createPrivateKey({key:oz({uncompressedPrivateKeyHex:n,compressedPublicKeyHex:r}),format:"jwk"}),o=sz.createSign("SHA256");return o.write(Buffer.from(e)),o.end(),o.sign(i,"hex")}});function Yh(t,e=""){if(typeof t!="boolean"){let r=e&&`"${e}"`;throw new Error(r+"expected boolean, got type="+typeof t)}return t}function wl(t,e,r=""){let n=Oh(t),i=t?.length,o=e!==void 0;if(!n||o&&i!==e){let s=r&&`"${r}" `,a=o?` of length ${e}`:"",c=n?`length=${i}`:`type=${typeof t}`;throw new Error(s+"expected Uint8Array"+a+", got "+c)}return t}function qN(t){let e=t.toString(16);return e.length&1?"0"+e:e}function _st(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Rge:BigInt("0x"+t)}function cT(t){return _st(Xu(t))}function Zh(t){return Es(t),_st(Xu(Uint8Array.from(t).reverse()))}function az(t,e){return h_(t.toString(16).padStart(e*2,"0"))}function Ige(t,e){return az(t,e).reverse()}function Cn(t,e,r){let n;if(typeof e=="string")try{n=h_(e)}catch(o){throw new Error(t+" must be hex string or Uint8Array, cause: "+o)}else if(Oh(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function Sst(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function Cge(t){return Uint8Array.from(t)}function xst(t,e,r){return Ege(t)&&Ege(e)&&Ege(r)&&e<=t&&t<r}function WN(t,e,r,n){if(!xst(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function cz(t){let e;for(e=0;t>Rge;t>>=Tge,e+=1);return e}function wst(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=f=>new Uint8Array(f),i=f=>Uint8Array.of(f),o=n(t),s=n(t),a=0,c=()=>{o.fill(1),s.fill(0),a=0},l=(...f)=>r(s,o,...f),u=(f=n(0))=>{s=l(i(0),f),o=l(),f.length!==0&&(s=l(i(1),f),o=l())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let f=0,h=[];for(;f<e;){o=l();let m=o.slice();h.push(m),f+=o.length}return La(...h)};return(f,h)=>{c(),u(f);let m;for(;!(m=h(d()));)u();return c(),m}}function ay(t,e,r={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function n(i,o,s){let a=t[i];if(s&&a===void 0)return;let c=typeof a;if(c!==o||a===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${c}`)}Object.entries(e).forEach(([i,o])=>n(i,o,!1)),Object.entries(r).forEach(([i,o])=>n(i,o,!0))}function lT(t){let e=new WeakMap;return(r,...n)=>{let i=e.get(r);if(i!==void 0)return i;let o=t(r,...n);return e.set(r,o),o}}var Rge,Tge,Ege,sy,Nge,uT=b(()=>{"use strict";kh();kh();Rge=BigInt(0),Tge=BigInt(1);Ege=t=>typeof t=="bigint"&&Rge<=t;sy=t=>(Tge<<BigInt(t))-Tge;Nge=()=>{throw new Error("not implemented")}});function ji(t,e){let r=t%e;return r>=Fa?r:e+r}function Si(t,e,r){let n=t;for(;e-- >Fa;)n*=n,n%=r;return n}function Ast(t,e){if(t===Fa)throw new Error("invert: expected non-zero number");if(e<=Fa)throw new Error("invert: expected positive modulus, got "+e);let r=ji(t,e),n=e,i=Fa,o=ls,s=ls,a=Fa;for(;r!==Fa;){let l=n/r,u=n%r,d=i-s*l,p=o-a*l;n=r,r=u,i=s,o=a,s=d,a=p}if(n!==ls)throw new Error("invert: does not exist");return ji(i,e)}function Oge(t,e,r){if(!t.eql(t.sqr(e),r))throw new Error("Cannot find square root")}function Ost(t,e){let r=(t.ORDER+ls)/Rst,n=t.pow(e,r);return Oge(t,n,e),n}function bZt(t,e){let r=(t.ORDER-Ist)/Cst,n=t.mul(e,vS),i=t.pow(n,r),o=t.mul(e,i),s=t.mul(t.mul(o,vS),i),a=t.mul(o,t.sub(s,t.ONE));return Oge(t,a,e),a}function vZt(t){let e=Ps(t),r=Pst(t),n=r(e,e.neg(e.ONE)),i=r(e,n),o=r(e,e.neg(n)),s=(t+gZt)/Nst;return(a,c)=>{let l=a.pow(c,s),u=a.mul(l,n),d=a.mul(l,i),p=a.mul(l,o),f=a.eql(a.sqr(u),c),h=a.eql(a.sqr(d),c);l=a.cmov(l,u,f),u=a.cmov(p,d,h);let m=a.eql(a.sqr(u),c),g=a.cmov(l,u,m);return Oge(a,g,c),g}}function Pst(t){if(t<Tst)throw new Error("sqrt is not defined for small field");let e=t-ls,r=0;for(;e%vS===Fa;)e/=vS,r++;let n=vS,i=Ps(t);for(;Est(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return Ost;let o=i.pow(n,e),s=(e+ls)/vS;return function(c,l){if(c.is0(l))return l;if(Est(c,l)!==1)throw new Error("Cannot find square root");let u=r,d=c.mul(c.ONE,o),p=c.pow(l,e),f=c.pow(l,s);for(;!c.eql(p,c.ONE);){if(c.is0(p))return c.ZERO;let h=1,m=c.sqr(p);for(;!c.eql(m,c.ONE);)if(h++,m=c.sqr(m),h===u)throw new Error("Cannot find square root");let g=ls<<BigInt(u-h-1),y=c.pow(d,g);u=h,d=c.sqr(y),p=c.mul(p,d),f=c.mul(f,y)}return f}}function _Zt(t){return t%Rst===Tst?Ost:t%Cst===Ist?bZt:t%Nst===yZt?vZt(t):Pst(t)}function Pge(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=SZt.reduce((n,i)=>(n[i]="function",n),e);return ay(t,r),t}function xZt(t,e,r){if(r<Fa)throw new Error("invalid exponent, negatives unsupported");if(r===Fa)return t.ONE;if(r===ls)return e;let n=t.ONE,i=e;for(;r>Fa;)r&ls&&(n=t.mul(n,i)),i=t.sqr(i),r>>=ls;return n}function JN(t,e,r=!1){let n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce((s,a,c)=>t.is0(a)?s:(n[c]=s,t.mul(s,a)),t.ONE),o=t.inv(i);return e.reduceRight((s,a,c)=>t.is0(a)?s:(n[c]=t.mul(s,n[c]),t.mul(s,a)),o),n}function Est(t,e){let r=(t.ORDER-ls)/vS,n=t.pow(e,r),i=t.eql(n,t.ONE),o=t.eql(n,t.ZERO),s=t.eql(n,t.neg(t.ONE));if(!i&&!o&&!s)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function lz(t,e){e!==void 0&&A1(e);let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Ps(t,e,r=!1,n={}){if(t<=Fa)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,o,s=!1,a;if(typeof e=="object"&&e!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");let p=e;p.BITS&&(i=p.BITS),p.sqrt&&(o=p.sqrt),typeof p.isLE=="boolean"&&(r=p.isLE),typeof p.modFromBytes=="boolean"&&(s=p.modFromBytes),a=p.allowedLengths}else typeof e=="number"&&(i=e),n.sqrt&&(o=n.sqrt);let{nBitLength:c,nByteLength:l}=lz(t,i);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u,d=Object.freeze({ORDER:t,isLE:r,BITS:c,BYTES:l,MASK:sy(c),ZERO:Fa,ONE:ls,allowedLengths:a,create:p=>ji(p,t),isValid:p=>{if(typeof p!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof p);return Fa<=p&&p<t},is0:p=>p===Fa,isValidNot0:p=>!d.is0(p)&&d.isValid(p),isOdd:p=>(p&ls)===ls,neg:p=>ji(-p,t),eql:(p,f)=>p===f,sqr:p=>ji(p*p,t),add:(p,f)=>ji(p+f,t),sub:(p,f)=>ji(p-f,t),mul:(p,f)=>ji(p*f,t),pow:(p,f)=>xZt(d,p,f),div:(p,f)=>ji(p*Ast(f,t),t),sqrN:p=>p*p,addN:(p,f)=>p+f,subN:(p,f)=>p-f,mulN:(p,f)=>p*f,inv:p=>Ast(p,t),sqrt:o||(p=>(u||(u=_Zt(t)),u(d,p))),toBytes:p=>r?Ige(p,l):az(p,l),fromBytes:(p,f=!0)=>{if(a){if(!a.includes(p.length)||p.length>l)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+p.length);let m=new Uint8Array(l);m.set(p,r?0:m.length-p.length),p=m}if(p.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+p.length);let h=r?Zh(p):cT(p);if(s&&(h=ji(h,t)),!f&&!d.isValid(h))throw new Error("invalid field element: outside of range 0..ORDER");return h},invertBatch:p=>JN(d,p),cmov:(p,f,h)=>h?f:p});return Object.freeze(d)}function kst(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function kge(t){let e=kst(t);return e+Math.ceil(e/2)}function Dge(t,e,r=!1){let n=t.length,i=kst(e),o=kge(e);if(n<16||n<o||n>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+n);let s=r?Zh(t):cT(t),a=ji(s,e-ls)+ls;return r?Ige(a,i):az(a,i)}var Fa,ls,vS,Tst,Rst,Ist,gZt,Cst,yZt,Nst,eg,SZt,_S=b(()=>{"use strict";uT();Fa=BigInt(0),ls=BigInt(1),vS=BigInt(2),Tst=BigInt(3),Rst=BigInt(4),Ist=BigInt(5),gZt=BigInt(7),Cst=BigInt(8),yZt=BigInt(9),Nst=BigInt(16);eg=(t,e)=>(ji(t,e)&ls)===ls,SZt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"]});function KN(t,e){let r=e.negate();return t?r:e}function tg(t,e){let r=JN(t.Fp,e.map(n=>n.Z));return e.map((n,i)=>t.fromAffine(n.toAffine(r[i])))}function Bst(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Mge(t,e){Bst(t,e);let r=Math.ceil(e/t)+1,n=2**(t-1),i=2**t,o=sy(t),s=BigInt(t);return{windows:r,windowSize:n,mask:o,maxNumber:i,shiftBy:s}}function Dst(t,e,r){let{windowSize:n,mask:i,maxNumber:o,shiftBy:s}=r,a=Number(t&i),c=t>>s;a>n&&(a-=o,c+=SS);let l=e*n,u=l+Math.abs(a)-1,d=a===0,p=a<0,f=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:p,isNegF:f,offsetF:l}}function wZt(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function AZt(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}function Bge(t){return $st.get(t)||1}function Mst(t){if(t!==dT)throw new Error("invalid wNAF")}function Ust(t,e,r,n){let i=e,o=t.ZERO,s=t.ZERO;for(;r>dT||n>dT;)r&SS&&(o=o.add(i)),n&SS&&(s=s.add(i)),i=i.double(),r>>=SS,n>>=SS;return{p1:o,p2:s}}function fT(t,e,r,n){wZt(r,t),AZt(n,e);let i=r.length,o=n.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");let s=t.ZERO,a=cz(BigInt(i)),c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);let l=sy(c),u=new Array(Number(l)+1).fill(s),d=Math.floor((e.BITS-1)/c)*c,p=s;for(let f=d;f>=0;f-=c){u.fill(s);for(let m=0;m<o;m++){let g=n[m],y=Number(g>>BigInt(f)&l);u[y]=u[y].add(r[m])}let h=s;for(let m=u.length-1,g=s;m>0;m--)g=g.add(u[m]),h=h.add(g);if(p=p.add(h),f!==0)for(let m=0;m<c;m++)p=p.double()}return p}function Lst(t,e,r){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Pge(e),e}else return Ps(t,{isLE:r})}function uz(t,e,r={},n){if(n===void 0&&(n=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(let c of["p","n","h"]){let l=e[c];if(!(typeof l=="bigint"&&l>dT))throw new Error(`CURVE.${c} must be positive bigint`)}let i=Lst(e.p,r.Fp,n),o=Lst(e.n,r.Fn,n),a=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(let c of a)if(!i.isValid(e[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:o}}var dT,SS,Lge,$st,pT,dz=b(()=>{"use strict";uT();_S();dT=BigInt(0),SS=BigInt(1);Lge=new WeakMap,$st=new WeakMap;pT=class{constructor(e,r){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=r}_unsafeLadder(e,r,n=this.ZERO){let i=e;for(;r>dT;)r&SS&&(n=n.add(i)),i=i.double(),r>>=SS;return n}precomputeWindow(e,r){let{windows:n,windowSize:i}=Mge(r,this.bits),o=[],s=e,a=s;for(let c=0;c<n;c++){a=s,o.push(a);for(let l=1;l<i;l++)a=a.add(s),o.push(a);s=a.double()}return o}wNAF(e,r,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let i=this.ZERO,o=this.BASE,s=Mge(e,this.bits);for(let a=0;a<s.windows;a++){let{nextN:c,offset:l,isZero:u,isNeg:d,isNegF:p,offsetF:f}=Dst(n,a,s);n=c,u?o=o.add(KN(p,r[f])):i=i.add(KN(d,r[l]))}return Mst(n),{p:i,f:o}}wNAFUnsafe(e,r,n,i=this.ZERO){let o=Mge(e,this.bits);for(let s=0;s<o.windows&&n!==dT;s++){let{nextN:a,offset:c,isZero:l,isNeg:u}=Dst(n,s,o);if(n=a,!l){let d=r[c];i=i.add(u?d.negate():d)}}return Mst(n),i}getPrecomputes(e,r,n){let i=Lge.get(r);return i||(i=this.precomputeWindow(r,e),e!==1&&(typeof n=="function"&&(i=n(i)),Lge.set(r,i))),i}cached(e,r,n){let i=Bge(e);return this.wNAF(i,this.getPrecomputes(i,e,n),r)}unsafe(e,r,n,i){let o=Bge(e);return o===1?this._unsafeLadder(e,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,e,n),r,i)}createCache(e,r){Bst(r,this.bits),$st.set(e,r),Lge.delete(e)}hasCache(e){return Bge(e)!==1}}});function EZt(t,e,r){let[[n,i],[o,s]]=e,a=Fst(s*t,r),c=Fst(-i*t,r),l=t-a*n-c*o,u=-a*i-c*s,d=l<ng,p=u<ng;d&&(l=-l),p&&(u=-u);let f=sy(Math.ceil(cz(r)/2))+hT;if(l<ng||l>=f||u<ng||u>=f)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:d,k1:l,k2neg:p,k2:u}}function Uge(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function $ge(t,e){let r={};for(let n of Object.keys(e))r[n]=t[n]===void 0?e[n]:t[n];return Yh(r.lowS,"lowS"),Yh(r.prehash,"prehash"),r.format!==void 0&&Uge(r.format),r}function mT(t,e){let{BYTES:r}=t,n;if(typeof e=="bigint")n=e;else{let i=Cn("private key",e);try{n=t.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof e}`)}}if(!t.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}function RZt(t,e={}){let r=uz("weierstrass",t,e),{Fp:n,Fn:i}=r,o=r.CURVE,{h:s,n:a}=o;ay(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:c}=e;if(c&&(!n.is0(o.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');let l=Vst(n,i);function u(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function d(W,N,_){let{x,y:R}=N.toAffine(),L=n.toBytes(x);if(Yh(_,"isCompressed"),_){u();let U=!n.isOdd(R);return La(Hst(U),L)}else return La(Uint8Array.of(4),L,n.toBytes(R))}function p(W){wl(W,void 0,"Point");let{publicKey:N,publicKeyUncompressed:_}=l,x=W.length,R=W[0],L=W.subarray(1);if(x===N&&(R===2||R===3)){let U=n.fromBytes(L);if(!n.isValid(U))throw new Error("bad point: is not on curve, wrong x");let j=m(U),Q;try{Q=n.sqrt(j)}catch(X){let Re=X instanceof Error?": "+X.message:"";throw new Error("bad point: is not on curve, sqrt error"+Re)}u();let G=n.isOdd(Q);return(R&1)===1!==G&&(Q=n.neg(Q)),{x:U,y:Q}}else if(x===_&&R===4){let U=n.BYTES,j=n.fromBytes(L.subarray(0,U)),Q=n.fromBytes(L.subarray(U,U*2));if(!g(j,Q))throw new Error("bad point: is not on curve");return{x:j,y:Q}}else throw new Error(`bad point: got length ${x}, expected compressed=${N} or uncompressed=${_}`)}let f=e.toBytes||d,h=e.fromBytes||p;function m(W){let N=n.sqr(W),_=n.mul(N,W);return n.add(n.add(_,n.mul(W,o.a)),o.b)}function g(W,N){let _=n.sqr(N),x=m(W);return n.eql(_,x)}if(!g(o.Gx,o.Gy))throw new Error("bad curve params: generator point");let y=n.mul(n.pow(o.a,pz),TZt),v=n.mul(n.sqr(o.b),BigInt(27));if(n.is0(n.add(y,v)))throw new Error("bad curve params: a or b");function S(W,N,_=!1){if(!n.isValid(N)||_&&n.is0(N))throw new Error(`bad point coordinate ${W}`);return N}function w(W){if(!(W instanceof P))throw new Error("ProjectivePoint expected")}function E(W){if(!c||!c.basises)throw new Error("no endo");return EZt(W,c.basises,i.ORDER)}let I=lT((W,N)=>{let{X:_,Y:x,Z:R}=W;if(n.eql(R,n.ONE))return{x:_,y:x};let L=W.is0();N==null&&(N=L?n.ONE:n.inv(R));let U=n.mul(_,N),j=n.mul(x,N),Q=n.mul(R,N);if(L)return{x:n.ZERO,y:n.ZERO};if(!n.eql(Q,n.ONE))throw new Error("invZ was invalid");return{x:U,y:j}}),D=lT(W=>{if(W.is0()){if(e.allowInfinityPoint&&!n.is0(W.Y))return;throw new Error("bad point: ZERO")}let{x:N,y:_}=W.toAffine();if(!n.isValid(N)||!n.isValid(_))throw new Error("bad point: x or y not field elements");if(!g(N,_))throw new Error("bad point: equation left != right");if(!W.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function k(W,N,_,x,R){return _=new P(n.mul(_.X,W),_.Y,_.Z),N=KN(x,N),_=KN(R,_),N.add(_)}class P{constructor(N,_,x){this.X=S("x",N),this.Y=S("y",_,!0),this.Z=S("z",x),Object.freeze(this)}static CURVE(){return o}static fromAffine(N){let{x:_,y:x}=N||{};if(!N||!n.isValid(_)||!n.isValid(x))throw new Error("invalid affine point");if(N instanceof P)throw new Error("projective point not allowed");return n.is0(_)&&n.is0(x)?P.ZERO:new P(_,x,n.ONE)}static fromBytes(N){let _=P.fromAffine(h(wl(N,void 0,"point")));return _.assertValidity(),_}static fromHex(N){return P.fromBytes(Cn("pointHex",N))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(N=8,_=!0){return H.createCache(this,N),_||this.multiply(pz),this}assertValidity(){D(this)}hasEvenY(){let{y:N}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(N)}equals(N){w(N);let{X:_,Y:x,Z:R}=this,{X:L,Y:U,Z:j}=N,Q=n.eql(n.mul(_,j),n.mul(L,R)),G=n.eql(n.mul(x,j),n.mul(U,R));return Q&&G}negate(){return new P(this.X,n.neg(this.Y),this.Z)}double(){let{a:N,b:_}=o,x=n.mul(_,pz),{X:R,Y:L,Z:U}=this,j=n.ZERO,Q=n.ZERO,G=n.ZERO,A=n.mul(R,R),X=n.mul(L,L),Re=n.mul(U,U),ve=n.mul(R,L);return ve=n.add(ve,ve),G=n.mul(R,U),G=n.add(G,G),j=n.mul(N,G),Q=n.mul(x,Re),Q=n.add(j,Q),j=n.sub(X,Q),Q=n.add(X,Q),Q=n.mul(j,Q),j=n.mul(ve,j),G=n.mul(x,G),Re=n.mul(N,Re),ve=n.sub(A,Re),ve=n.mul(N,ve),ve=n.add(ve,G),G=n.add(A,A),A=n.add(G,A),A=n.add(A,Re),A=n.mul(A,ve),Q=n.add(Q,A),Re=n.mul(L,U),Re=n.add(Re,Re),A=n.mul(Re,ve),j=n.sub(j,A),G=n.mul(Re,X),G=n.add(G,G),G=n.add(G,G),new P(j,Q,G)}add(N){w(N);let{X:_,Y:x,Z:R}=this,{X:L,Y:U,Z:j}=N,Q=n.ZERO,G=n.ZERO,A=n.ZERO,X=o.a,Re=n.mul(o.b,pz),ve=n.mul(_,L),ue=n.mul(x,U),Ve=n.mul(R,j),we=n.add(_,x),ut=n.add(L,U);we=n.mul(we,ut),ut=n.add(ve,ue),we=n.sub(we,ut),ut=n.add(_,R);let be=n.add(L,j);return ut=n.mul(ut,be),be=n.add(ve,Ve),ut=n.sub(ut,be),be=n.add(x,R),Q=n.add(U,j),be=n.mul(be,Q),Q=n.add(ue,Ve),be=n.sub(be,Q),A=n.mul(X,ut),Q=n.mul(Re,Ve),A=n.add(Q,A),Q=n.sub(ue,A),A=n.add(ue,A),G=n.mul(Q,A),ue=n.add(ve,ve),ue=n.add(ue,ve),Ve=n.mul(X,Ve),ut=n.mul(Re,ut),ue=n.add(ue,Ve),Ve=n.sub(ve,Ve),Ve=n.mul(X,Ve),ut=n.add(ut,Ve),ve=n.mul(ue,ut),G=n.add(G,ve),ve=n.mul(be,ut),Q=n.mul(we,Q),Q=n.sub(Q,ve),ve=n.mul(we,ue),A=n.mul(be,A),A=n.add(A,ve),new P(Q,G,A)}subtract(N){return this.add(N.negate())}is0(){return this.equals(P.ZERO)}multiply(N){let{endo:_}=e;if(!i.isValidNot0(N))throw new Error("invalid scalar: out of range");let x,R,L=U=>H.cached(this,U,j=>tg(P,j));if(_){let{k1neg:U,k1:j,k2neg:Q,k2:G}=E(N),{p:A,f:X}=L(j),{p:Re,f:ve}=L(G);R=X.add(ve),x=k(_.beta,A,Re,U,Q)}else{let{p:U,f:j}=L(N);x=U,R=j}return tg(P,[x,R])[0]}multiplyUnsafe(N){let{endo:_}=e,x=this;if(!i.isValid(N))throw new Error("invalid scalar: out of range");if(N===ng||x.is0())return P.ZERO;if(N===hT)return x;if(H.hasCache(this))return this.multiply(N);if(_){let{k1neg:R,k1:L,k2neg:U,k2:j}=E(N),{p1:Q,p2:G}=Ust(P,x,L,j);return k(_.beta,Q,G,R,U)}else return H.unsafe(x,N)}multiplyAndAddUnsafe(N,_,x){let R=this.multiplyUnsafe(_).add(N.multiplyUnsafe(x));return R.is0()?void 0:R}toAffine(N){return I(this,N)}isTorsionFree(){let{isTorsionFree:N}=e;return s===hT?!0:N?N(P,this):H.unsafe(this,a).is0()}clearCofactor(){let{clearCofactor:N}=e;return s===hT?this:N?N(P,this):this.multiplyUnsafe(s)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}toBytes(N=!0){return Yh(N,"isCompressed"),this.assertValidity(),f(P,this,N)}toHex(N=!0){return Xu(this.toBytes(N))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(N=!0){return this.toBytes(N)}_setWindowSize(N){this.precompute(N)}static normalizeZ(N){return tg(P,N)}static msm(N,_){return fT(P,i,N,_)}static fromPrivateKey(N){return P.BASE.multiply(mT(i,N))}}P.BASE=new P(o.Gx,o.Gy,n.ONE),P.ZERO=new P(n.ZERO,n.ONE,n.ZERO),P.Fp=n,P.Fn=i;let $=i.BITS,H=new pT(P,e.endo?Math.ceil($/2):$);return P.BASE.precompute(8),P}function Hst(t){return Uint8Array.of(t?2:3)}function Vst(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function IZt(t,e={}){let{Fn:r}=t,n=e.randomBytes||_E,i=Object.assign(Vst(t.Fp,r),{seed:kge(r.ORDER)});function o(f){try{return!!mT(r,f)}catch{return!1}}function s(f,h){let{publicKey:m,publicKeyUncompressed:g}=i;try{let y=f.length;return h===!0&&y!==m||h===!1&&y!==g?!1:!!t.fromBytes(f)}catch{return!1}}function a(f=n(i.seed)){return Dge(wl(f,i.seed,"seed"),r.ORDER)}function c(f,h=!0){return t.BASE.multiply(mT(r,f)).toBytes(h)}function l(f){let h=a(f);return{secretKey:h,publicKey:c(h)}}function u(f){if(typeof f=="bigint")return!1;if(f instanceof t)return!0;let{secretKey:h,publicKey:m,publicKeyUncompressed:g}=i;if(r.allowedLengths||h===m)return;let y=Cn("key",f).length;return y===m||y===g}function d(f,h,m=!0){if(u(f)===!0)throw new Error("first arg must be private key");if(u(h)===!1)throw new Error("second arg must be public key");let g=mT(r,f);return t.fromHex(h).multiply(g).toBytes(m)}return Object.freeze({getPublicKey:c,getSharedSecret:d,keygen:l,Point:t,utils:{isValidSecretKey:o,isValidPublicKey:s,randomSecretKey:a,isValidPrivateKey:o,randomPrivateKey:a,normPrivateKeyToScalar:f=>mT(r,f),precompute(f=8,h=t.BASE){return h.precompute(f,!1)}},lengths:i})}function CZt(t,e,r={}){sU(e),ay(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let n=r.randomBytes||_E,i=r.hmac||((_,...x)=>Afe(e,_,La(...x))),{Fp:o,Fn:s}=t,{ORDER:a,BITS:c}=s,{keygen:l,getPublicKey:u,getSharedSecret:d,utils:p,lengths:f}=IZt(t,r),h={prehash:!1,lowS:typeof r.lowS=="boolean"?r.lowS:!1,format:void 0,extraEntropy:!1},m="compact";function g(_){let x=a>>hT;return _>x}function y(_,x){if(!s.isValidNot0(x))throw new Error(`invalid signature ${_}: out of range 1..Point.Fn.ORDER`);return x}function v(_,x){Uge(x);let R=f.signature,L=x==="compact"?R:x==="recovered"?R+1:void 0;return wl(_,L,`${x} signature`)}class S{constructor(x,R,L){this.r=y("r",x),this.s=y("s",R),L!=null&&(this.recovery=L),Object.freeze(this)}static fromBytes(x,R=m){v(x,R);let L;if(R==="der"){let{r:G,s:A}=rg.toSig(wl(x));return new S(G,A)}R==="recovered"&&(L=x[0],R="compact",x=x.subarray(1));let U=s.BYTES,j=x.subarray(0,U),Q=x.subarray(U,U*2);return new S(s.fromBytes(j),s.fromBytes(Q),L)}static fromHex(x,R){return this.fromBytes(h_(x),R)}addRecoveryBit(x){return new S(this.r,this.s,x)}recoverPublicKey(x){let R=o.ORDER,{r:L,s:U,recovery:j}=this;if(j==null||![0,1,2,3].includes(j))throw new Error("recovery id invalid");if(a*zst<R&&j>1)throw new Error("recovery id is ambiguous for h>1 curve");let G=j===2||j===3?L+a:L;if(!o.isValid(G))throw new Error("recovery id 2 or 3 invalid");let A=o.toBytes(G),X=t.fromBytes(La(Hst((j&1)===0),A)),Re=s.inv(G),ve=E(Cn("msgHash",x)),ue=s.create(-ve*Re),Ve=s.create(U*Re),we=t.BASE.multiplyUnsafe(ue).add(X.multiplyUnsafe(Ve));if(we.is0())throw new Error("point at infinify");return we.assertValidity(),we}hasHighS(){return g(this.s)}toBytes(x=m){if(Uge(x),x==="der")return h_(rg.hexFromSig(this));let R=s.toBytes(this.r),L=s.toBytes(this.s);if(x==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return La(Uint8Array.of(this.recovery),R,L)}return La(R,L)}toHex(x){return Xu(this.toBytes(x))}assertValidity(){}static fromCompact(x){return S.fromBytes(Cn("sig",x),"compact")}static fromDER(x){return S.fromBytes(Cn("sig",x),"der")}normalizeS(){return this.hasHighS()?new S(this.r,s.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Xu(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Xu(this.toBytes("compact"))}}let w=r.bits2int||function(x){if(x.length>8192)throw new Error("input is too large");let R=cT(x),L=x.length*8-c;return L>0?R>>BigInt(L):R},E=r.bits2int_modN||function(x){return s.create(w(x))},I=sy(c);function D(_){return WN("num < 2^"+c,_,ng,I),s.toBytes(_)}function k(_,x){return wl(_,void 0,"message"),x?wl(e(_),void 0,"prehashed message"):_}function P(_,x,R){if(["recovered","canonical"].some(ue=>ue in R))throw new Error("sign() legacy options not supported");let{lowS:L,prehash:U,extraEntropy:j}=$ge(R,h);_=k(_,U);let Q=E(_),G=mT(s,x),A=[D(G),D(Q)];if(j!=null&&j!==!1){let ue=j===!0?n(f.secretKey):j;A.push(Cn("extraEntropy",ue))}let X=La(...A),Re=Q;function ve(ue){let Ve=w(ue);if(!s.isValidNot0(Ve))return;let we=s.inv(Ve),ut=t.BASE.multiply(Ve).toAffine(),be=s.create(ut.x);if(be===ng)return;let St=s.create(we*s.create(Re+be*G));if(St===ng)return;let ke=(ut.x===be?0:2)|Number(ut.y&hT),_r=St;return L&&g(St)&&(_r=s.neg(St),ke^=1),new S(be,_r,ke)}return{seed:X,k2sig:ve}}function $(_,x,R={}){_=Cn("message",_);let{seed:L,k2sig:U}=P(_,x,R);return wst(e.outputLen,s.BYTES,i)(L,U)}function H(_){let x,R=typeof _=="string"||Oh(_),L=!R&&_!==null&&typeof _=="object"&&typeof _.r=="bigint"&&typeof _.s=="bigint";if(!R&&!L)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(L)x=new S(_.r,_.s);else if(R){try{x=S.fromBytes(Cn("sig",_),"der")}catch(U){if(!(U instanceof rg.Err))throw U}if(!x)try{x=S.fromBytes(Cn("sig",_),"compact")}catch{return!1}}return x||!1}function W(_,x,R,L={}){let{lowS:U,prehash:j,format:Q}=$ge(L,h);if(R=Cn("publicKey",R),x=k(Cn("message",x),j),"strict"in L)throw new Error("options.strict was renamed to lowS");let G=Q===void 0?H(_):S.fromBytes(Cn("sig",_),Q);if(G===!1)return!1;try{let A=t.fromBytes(R);if(U&&G.hasHighS())return!1;let{r:X,s:Re}=G,ve=E(x),ue=s.inv(Re),Ve=s.create(ve*ue),we=s.create(X*ue),ut=t.BASE.multiplyUnsafe(Ve).add(A.multiplyUnsafe(we));return ut.is0()?!1:s.create(ut.x)===X}catch{return!1}}function N(_,x,R={}){let{prehash:L}=$ge(R,h);return x=k(x,L),S.fromBytes(_,"recovered").recoverPublicKey(x).toBytes()}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:d,utils:p,lengths:f,Point:t,sign:$,verify:W,recoverPublicKey:N,Signature:S,hash:e})}function NZt(t){let e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp,n=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(s=>Math.ceil(s/2)))):void 0,i=Ps(e.n,{BITS:t.nBitLength,allowedLengths:n,modFromBytes:t.wrapPrivateKey}),o={Fp:r,Fn:i,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:o}}function OZt(t){let{CURVE:e,curveOpts:r}=NZt(t),n={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:r,hash:t.hash,ecdsaOpts:n}}function PZt(t,e){let r=e.Point;return Object.assign({},e,{ProjectivePoint:r,CURVE:Object.assign({},t,lz(r.Fn.ORDER,r.Fn.BITS))})}function Gst(t){let{CURVE:e,curveOpts:r,hash:n,ecdsaOpts:i}=OZt(t),o=RZt(e,r),s=CZt(o,n,i);return PZt(t,s)}var Fst,Fge,rg,ng,hT,zst,pz,TZt,jst=b(()=>{"use strict";ytt();kh();uT();dz();_S();Fst=(t,e)=>(t+(t>=0?e:-e)/zst)/e;Fge=class extends Error{constructor(e=""){super(e)}},rg={Err:Fge,_tlv:{encode:(t,e)=>{let{Err:r}=rg;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");let n=e.length/2,i=qN(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let o=n>127?qN(i.length/2|128):"";return qN(t)+o+i+e},decode(t,e){let{Err:r}=rg,n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");let i=e[n++],o=!!(i&128),s=0;if(!o)s=i;else{let c=i&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");let l=e.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(let u of l)s=s<<8|u;if(n+=c,s<128)throw new r("tlv.decode(long): not minimal encoding")}let a=e.subarray(n,n+s);if(a.length!==s)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+s)}}},_int:{encode(t){let{Err:e}=rg;if(t<ng)throw new e("integer: negative integers are not allowed");let r=qN(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){let{Err:e}=rg;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return cT(t)}},toSig(t){let{Err:e,_int:r,_tlv:n}=rg,i=Cn("signature",t),{v:o,l:s}=n.decode(48,i);if(s.length)throw new e("invalid signature: left bytes after parsing");let{v:a,l:c}=n.decode(2,o),{v:l,l:u}=n.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(t){let{_tlv:e,_int:r}=rg,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),o=n+i;return e.encode(48,o)}},ng=BigInt(0),hT=BigInt(1),zst=BigInt(2),pz=BigInt(3),TZt=BigInt(4)});function gT(t,e){let r=n=>Gst({...t,hash:n});return{...r(e),create:r}}var zge=b(()=>{"use strict";jst();});var qst,Wst,Jst,kZt,DZt,MZt,Kst,gei,yei,Qst=b(()=>{"use strict";AC();zge();_S();qst={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},Wst={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},Jst={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},kZt=Ps(qst.p),DZt=Ps(Wst.p),MZt=Ps(Jst.p),Kst=gT({...qst,Fp:kZt,lowS:!1},SE),gei=gT({...Wst,Fp:DZt,lowS:!1},utt),yei=gT({...Jst,Fp:MZt,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},fU)});var Hge,Xst=b(()=>{"use strict";Qst();Hge=Kst});function Zst(t){if(t&&!Yst[t]&&!Yst[t.toLowerCase()])throw new Error("Digest method not supported");return new Vge}function jZt(){return new Uint8Array(new Uint16Array([65279]).buffer)[0]===254}var LZt,Yst,Vge,xS,fz,QN,cy,BZt,$Zt,lp,UZt,FZt,zZt,HZt,VZt,GZt,eat=b(()=>{"use strict";LZt=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],Yst={sha256:1};Vge=class{constructor(){this.A=1779033703,this.B=-1150833019,this.C=1013904242,this.D=-1521486534,this.E=1359893119,this.F=-1694144372,this.G=528734635,this.H=1541459225,this._size=0,this._sp=0,(!fz||QN>=8e3)&&(fz=new ArrayBuffer(8e3),QN=0),this._byte=new Uint8Array(fz,QN,80),this._word=new Int32Array(fz,QN,20),QN+=80}update(e){if(typeof e=="string")return this._utf8(e);if(e==null)throw new TypeError("Invalid type: "+typeof e);let r=e.byteOffset,n=e.byteLength,i=n/64|0,o=0;if(i&&!(r&3)&&!(this._size%64)){let a=new Int32Array(e.buffer,r,i*16);for(;i--;)this._int32(a,o>>2),o+=64;this._size+=o}if(e.BYTES_PER_ELEMENT!==1&&e.buffer){let a=new Uint8Array(e.buffer,r+o,n-o);return this._uint8(a)}return o===n?this:this._uint8(e,o)}_uint8(e,r){let{_byte:n,_word:i}=this,o=e.length;for(r=r|0;r<o;){let s=this._size%64,a=s;for(;r<o&&a<64;)n[a++]=e[r++];a>=64&&this._int32(i),this._size+=a-s}return this}_utf8(e){let{_byte:r,_word:n}=this,i=e.length,o=this._sp;for(let s=0;s<i;){let a=this._size%64,c=a;for(;s<i&&c<64;){let l=e.charCodeAt(s++)|0;l<128?r[c++]=l:l<2048?(r[c++]=192|l>>>6,r[c++]=128|l&63):l<55296||l>57343?(r[c++]=224|l>>>12,r[c++]=128|l>>>6&63,r[c++]=128|l&63):o?(l=((o&1023)<<10)+(l&1023)+65536,r[c++]=240|l>>>18,r[c++]=128|l>>>12&63,r[c++]=128|l>>>6&63,r[c++]=128|l&63,o=0):o=l}c>=64&&(this._int32(n),n[0]=n[16]),this._size+=c-a}return this._sp=o,this}_int32(e,r){let{A:n,B:i,C:o,D:s,E:a,F:c,G:l,H:u}=this,d=0;for(r=r|0;d<16;)xS[d++]=lp(e[r++]);for(d=16;d<64;d++)xS[d]=GZt(xS[d-2])+xS[d-7]+VZt(xS[d-15])+xS[d-16]|0;for(d=0;d<64;d++){let p=u+HZt(a)+UZt(a,c,l)+LZt[d]+xS[d]|0,f=zZt(n)+FZt(n,i,o)|0;u=l,l=c,c=a,a=s+p|0,s=o,o=i,i=n,n=p+f|0}this.A=n+this.A|0,this.B=i+this.B|0,this.C=o+this.C|0,this.D=s+this.D|0,this.E=a+this.E|0,this.F=c+this.F|0,this.G=l+this.G|0,this.H=u+this.H|0}digest(e){let{_byte:r,_word:n}=this,i=this._size%64|0;for(r[i++]=128;i&3;)r[i++]=0;if(i>>=2,i>14){for(;i<16;)n[i++]=0;i=0,this._int32(n)}for(;i<16;)n[i++]=0;let o=this._size*8,s=(o&4294967295)>>>0,a=(o-s)/4294967296;return a&&(n[14]=lp(a)),s&&(n[15]=lp(s)),this._int32(n),e==="hex"?this._hex():this._bin()}_hex(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:a,H:c}=this;return cy(e)+cy(r)+cy(n)+cy(i)+cy(o)+cy(s)+cy(a)+cy(c)}_bin(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:a,H:c,_byte:l,_word:u}=this;return u[0]=lp(e),u[1]=lp(r),u[2]=lp(n),u[3]=lp(i),u[4]=lp(o),u[5]=lp(s),u[6]=lp(a),u[7]=lp(c),l.slice(0,32)}},xS=new Int32Array(64),QN=0,cy=t=>(t+4294967296).toString(16).substr(-8),BZt=(t=>t<<24&4278190080|t<<8&16711680|t>>8&65280|t>>24&255),$Zt=(t=>t),lp=jZt()?$Zt:BZt,UZt=(t,e,r)=>r^t&(e^r),FZt=(t,e,r)=>t&e|r&(t|e),zZt=t=>(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),HZt=t=>(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7),VZt=t=>(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3,GZt=t=>(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10});var tat={};Nr(tat,{signWithApiKey:()=>qZt});var qZt,rat=b(()=>{"use strict";Xst();eat();Df();qZt=async t=>{let e=Hge.getPublicKey(t.privateKey,!0),r=Pf(e);if(r!=t.publicKey)throw new Error(`Bad API key. Expected to get public key ${t.publicKey}, got ${r}`);let n=Zst().update(t.content).digest();return Hge.sign(n,t.privateKey).toDERHex()}});var oat=ze((Nei,iat)=>{"use strict";var qi={};iat.exports=qi;function nat(t){return t<0?-1:1}function XZt(t){return t%1===.5&&(t&1)===0?Math.floor(t):Math.round(t)}function ly(t,e){e.unsigned||--t;let r=e.unsigned?0:-Math.pow(2,t),n=Math.pow(2,t)-1,i=e.moduloBitLength?Math.pow(2,e.moduloBitLength):Math.pow(2,t),o=e.moduloBitLength?Math.pow(2,e.moduloBitLength-1):Math.pow(2,t-1);return function(s,a){a||(a={});let c=+s;if(a.enforceRange){if(!Number.isFinite(c))throw new TypeError("Argument is not a finite number");if(c=nat(c)*Math.floor(Math.abs(c)),c<r||c>n)throw new TypeError("Argument is not in byte range");return c}if(!isNaN(c)&&a.clamp)return c=XZt(c),c<r&&(c=r),c>n&&(c=n),c;if(!Number.isFinite(c)||c===0)return 0;if(c=nat(c)*Math.floor(Math.abs(c)),c=c%i,!e.unsigned&&c>=o)return c-i;if(e.unsigned){if(c<0)c+=i;else if(c===-0)return 0}return c}}qi.void=function(){};qi.boolean=function(t){return!!t};qi.byte=ly(8,{unsigned:!1});qi.octet=ly(8,{unsigned:!0});qi.short=ly(16,{unsigned:!1});qi["unsigned short"]=ly(16,{unsigned:!0});qi.long=ly(32,{unsigned:!1});qi["unsigned long"]=ly(32,{unsigned:!0});qi["long long"]=ly(32,{unsigned:!1,moduloBitLength:64});qi["unsigned long long"]=ly(32,{unsigned:!0,moduloBitLength:64});qi.double=function(t){let e=+t;if(!Number.isFinite(e))throw new TypeError("Argument is not a finite floating-point value");return e};qi["unrestricted double"]=function(t){let e=+t;if(isNaN(e))throw new TypeError("Argument is NaN");return e};qi.float=qi.double;qi["unrestricted float"]=qi["unrestricted double"];qi.DOMString=function(t,e){return e||(e={}),e.treatNullAsEmptyString&&t===null?"":String(t)};qi.ByteString=function(t,e){let r=String(t),n;for(let i=0;(n=r.codePointAt(i))!==void 0;++i)if(n>255)throw new TypeError("Argument is not a valid bytestring");return r};qi.USVString=function(t){let e=String(t),r=e.length,n=[];for(let i=0;i<r;++i){let o=e.charCodeAt(i);if(o<55296||o>57343)n.push(String.fromCodePoint(o));else if(56320<=o&&o<=57343)n.push(String.fromCodePoint(65533));else if(i===r-1)n.push(String.fromCodePoint(65533));else{let s=e.charCodeAt(i+1);if(56320<=s&&s<=57343){let a=o&1023,c=s&1023;n.push(String.fromCodePoint(65536+1024*a+c)),++i}else n.push(String.fromCodePoint(65533))}}return n.join("")};qi.Date=function(t,e){if(!(t instanceof Date))throw new TypeError("Argument is not a Date object");if(!isNaN(t))return t};qi.RegExp=function(t,e){return t instanceof RegExp||(t=new RegExp(t)),t}});var sat=ze((Oei,uy)=>{"use strict";uy.exports.mixin=function(e,r){let n=Object.getOwnPropertyNames(r);for(let i=0;i<n.length;++i)Object.defineProperty(e,n[i],Object.getOwnPropertyDescriptor(r,n[i]))};uy.exports.wrapperSymbol=Symbol("wrapper");uy.exports.implSymbol=Symbol("impl");uy.exports.wrapperForImpl=function(t){return t[uy.exports.wrapperSymbol]};uy.exports.implForWrapper=function(t){return t[uy.exports.implSymbol]}});var aat=ze((Pei,YZt)=>{YZt.exports=[[[0,44],"disallowed_STD3_valid"],[[45,46],"valid"],[[47,47],"disallowed_STD3_valid"],[[48,57],"valid"],[[58,64],"disallowed_STD3_valid"],[[65,65],"mapped",[97]],[[66,66],"mapped",[98]],[[67,67],"mapped",[99]],[[68,68],"mapped",[100]],[[69,69],"mapped",[101]],[[70,70],"mapped",[102]],[[71,71],"mapped",[103]],[[72,72],"mapped",[104]],[[73,73],"mapped",[105]],[[74,74],"mapped",[106]],[[75,75],"mapped",[107]],[[76,76],"mapped",[108]],[[77,77],"mapped",[109]],[[78,78],"mapped",[110]],[[79,79],"mapped",[111]],[[80,80],"mapped",[112]],[[81,81],"mapped",[113]],[[82,82],"mapped",[114]],[[83,83],"mapped",[115]],[[84,84],"mapped",[116]],[[85,85],"mapped",[117]],[[86,86],"mapped",[118]],[[87,87],"mapped",[119]],[[88,88],"mapped",[120]],[[89,89],"mapped",[121]],[[90,90],"mapped",[122]],[[91,96],"disallowed_STD3_valid"],[[97,122],"valid"],[[123,127],"disallowed_STD3_valid"],[[128,159],"disallowed"],[[160,160],"disallowed_STD3_mapped",[32]],[[161,167],"valid",[],"NV8"],[[168,168],"disallowed_STD3_mapped",[32,776]],[[169,169],"valid",[],"NV8"],[[170,170],"mapped",[97]],[[171,172],"valid",[],"NV8"],[[173,173],"ignored"],[[174,174],"valid",[],"NV8"],[[175,175],"disallowed_STD3_mapped",[32,772]],[[176,177],"valid",[],"NV8"],[[178,178],"mapped",[50]],[[179,179],"mapped",[51]],[[180,180],"disallowed_STD3_mapped",[32,769]],[[181,181],"mapped",[956]],[[182,182],"valid",[],"NV8"],[[183,183],"valid"],[[184,184],"disallowed_STD3_mapped",[32,807]],[[185,185],"mapped",[49]],[[186,186],"mapped",[111]],[[187,187],"valid",[],"NV8"],[[188,188],"mapped",[49,8260,52]],[[189,189],"mapped",[49,8260,50]],[[190,190],"mapped",[51,8260,52]],[[191,191],"valid",[],"NV8"],[[192,192],"mapped",[224]],[[193,193],"mapped",[225]],[[194,194],"mapped",[226]],[[195,195],"mapped",[227]],[[196,196],"mapped",[228]],[[197,197],"mapped",[229]],[[198,198],"mapped",[230]],[[199,199],"mapped",[231]],[[200,200],"mapped",[232]],[[201,201],"mapped",[233]],[[202,202],"mapped",[234]],[[203,203],"mapped",[235]],[[204,204],"mapped",[236]],[[205,205],"mapped",[237]],[[206,206],"mapped",[238]],[[207,207],"mapped",[239]],[[208,208],"mapped",[240]],[[209,209],"mapped",[241]],[[210,210],"mapped",[242]],[[211,211],"mapped",[243]],[[212,212],"mapped",[244]],[[213,213],"mapped",[245]],[[214,214],"mapped",[246]],[[215,215],"valid",[],"NV8"],[[216,216],"mapped",[248]],[[217,217],"mapped",[249]],[[218,218],"mapped",[250]],[[219,219],"mapped",[251]],[[220,220],"mapped",[252]],[[221,221],"mapped",[253]],[[222,222],"mapped",[254]],[[223,223],"deviation",[115,115]],[[224,246],"valid"],[[247,247],"valid",[],"NV8"],[[248,255],"valid"],[[256,256],"mapped",[257]],[[257,257],"valid"],[[258,258],"mapped",[259]],[[259,259],"valid"],[[260,260],"mapped",[261]],[[261,261],"valid"],[[262,262],"mapped",[263]],[[263,263],"valid"],[[264,264],"mapped",[265]],[[265,265],"valid"],[[266,266],"mapped",[267]],[[267,267],"valid"],[[268,268],"mapped",[269]],[[269,269],"valid"],[[270,270],"mapped",[271]],[[271,271],"valid"],[[272,272],"mapped",[273]],[[273,273],"valid"],[[274,274],"mapped",[275]],[[275,275],"valid"],[[276,276],"mapped",[277]],[[277,277],"valid"],[[278,278],"mapped",[279]],[[279,279],"valid"],[[280,280],"mapped",[281]],[[281,281],"valid"],[[282,282],"mapped",[283]],[[283,283],"valid"],[[284,284],"mapped",[285]],[[285,285],"valid"],[[286,286],"mapped",[287]],[[287,287],"valid"],[[288,288],"mapped",[289]],[[289,289],"valid"],[[290,290],"mapped",[291]],[[291,291],"valid"],[[292,292],"mapped",[293]],[[293,293],"valid"],[[294,294],"mapped",[295]],[[295,295],"valid"],[[296,296],"mapped",[297]],[[297,297],"valid"],[[298,298],"mapped",[299]],[[299,299],"valid"],[[300,300],"mapped",[301]],[[301,301],"valid"],[[302,302],"mapped",[303]],[[303,303],"valid"],[[304,304],"mapped",[105,775]],[[305,305],"valid"],[[306,307],"mapped",[105,106]],[[308,308],"mapped",[309]],[[309,309],"valid"],[[310,310],"mapped",[311]],[[311,312],"valid"],[[313,313],"mapped",[314]],[[314,314],"valid"],[[315,315],"mapped",[316]],[[316,316],"valid"],[[317,317],"mapped",[318]],[[318,318],"valid"],[[319,320],"mapped",[108,183]],[[321,321],"mapped",[322]],[[322,322],"valid"],[[323,323],"mapped",[324]],[[324,324],"valid"],[[325,325],"mapped",[326]],[[326,326],"valid"],[[327,327],"mapped",[328]],[[328,328],"valid"],[[329,329],"mapped",[700,110]],[[330,330],"mapped",[331]],[[331,331],"valid"],[[332,332],"mapped",[333]],[[333,333],"valid"],[[334,334],"mapped",[335]],[[335,335],"valid"],[[336,336],"mapped",[337]],[[337,337],"valid"],[[338,338],"mapped",[339]],[[339,339],"valid"],[[340,340],"mapped",[341]],[[341,341],"valid"],[[342,342],"mapped",[343]],[[343,343],"valid"],[[344,344],"mapped",[345]],[[345,345],"valid"],[[346,346],"mapped",[347]],[[347,347],"valid"],[[348,348],"mapped",[349]],[[349,349],"valid"],[[350,350],"mapped",[351]],[[351,351],"valid"],[[352,352],"mapped",[353]],[[353,353],"valid"],[[354,354],"mapped",[355]],[[355,355],"valid"],[[356,356],"mapped",[357]],[[357,357],"valid"],[[358,358],"mapped",[359]],[[359,359],"valid"],[[360,360],"mapped",[361]],[[361,361],"valid"],[[362,362],"mapped",[363]],[[363,363],"valid"],[[364,364],"mapped",[365]],[[365,365],"valid"],[[366,366],"mapped",[367]],[[367,367],"valid"],[[368,368],"mapped",[369]],[[369,369],"valid"],[[370,370],"mapped",[371]],[[371,371],"valid"],[[372,372],"mapped",[373]],[[373,373],"valid"],[[374,374],"mapped",[375]],[[375,375],"valid"],[[376,376],"mapped",[255]],[[377,377],"mapped",[378]],[[378,378],"valid"],[[379,379],"mapped",[380]],[[380,380],"valid"],[[381,381],"mapped",[382]],[[382,382],"valid"],[[383,383],"mapped",[115]],[[384,384],"valid"],[[385,385],"mapped",[595]],[[386,386],"mapped",[387]],[[387,387],"valid"],[[388,388],"mapped",[389]],[[389,389],"valid"],[[390,390],"mapped",[596]],[[391,391],"mapped",[392]],[[392,392],"valid"],[[393,393],"mapped",[598]],[[394,394],"mapped",[599]],[[395,395],"mapped",[396]],[[396,397],"valid"],[[398,398],"mapped",[477]],[[399,399],"mapped",[601]],[[400,400],"mapped",[603]],[[401,401],"mapped",[402]],[[402,402],"valid"],[[403,403],"mapped",[608]],[[404,404],"mapped",[611]],[[405,405],"valid"],[[406,406],"mapped",[617]],[[407,407],"mapped",[616]],[[408,408],"mapped",[409]],[[409,411],"valid"],[[412,412],"mapped",[623]],[[413,413],"mapped",[626]],[[414,414],"valid"],[[415,415],"mapped",[629]],[[416,416],"mapped",[417]],[[417,417],"valid"],[[418,418],"mapped",[419]],[[419,419],"valid"],[[420,420],"mapped",[421]],[[421,421],"valid"],[[422,422],"mapped",[640]],[[423,423],"mapped",[424]],[[424,424],"valid"],[[425,425],"mapped",[643]],[[426,427],"valid"],[[428,428],"mapped",[429]],[[429,429],"valid"],[[430,430],"mapped",[648]],[[431,431],"mapped",[432]],[[432,432],"valid"],[[433,433],"mapped",[650]],[[434,434],"mapped",[651]],[[435,435],"mapped",[436]],[[436,436],"valid"],[[437,437],"mapped",[438]],[[438,438],"valid"],[[439,439],"mapped",[658]],[[440,440],"mapped",[441]],[[441,443],"valid"],[[444,444],"mapped",[445]],[[445,451],"valid"],[[452,454],"mapped",[100,382]],[[455,457],"mapped",[108,106]],[[458,460],"mapped",[110,106]],[[461,461],"mapped",[462]],[[462,462],"valid"],[[463,463],"mapped",[464]],[[464,464],"valid"],[[465,465],"mapped",[466]],[[466,466],"valid"],[[467,467],"mapped",[468]],[[468,468],"valid"],[[469,469],"mapped",[470]],[[470,470],"valid"],[[471,471],"mapped",[472]],[[472,472],"valid"],[[473,473],"mapped",[474]],[[474,474],"valid"],[[475,475],"mapped",[476]],[[476,477],"valid"],[[478,478],"mapped",[479]],[[479,479],"valid"],[[480,480],"mapped",[481]],[[481,481],"valid"],[[482,482],"mapped",[483]],[[483,483],"valid"],[[484,484],"mapped",[485]],[[485,485],"valid"],[[486,486],"mapped",[487]],[[487,487],"valid"],[[488,488],"mapped",[489]],[[489,489],"valid"],[[490,490],"mapped",[491]],[[491,491],"valid"],[[492,492],"mapped",[493]],[[493,493],"valid"],[[494,494],"mapped",[495]],[[495,496],"valid"],[[497,499],"mapped",[100,122]],[[500,500],"mapped",[501]],[[501,501],"valid"],[[502,502],"mapped",[405]],[[503,503],"mapped",[447]],[[504,504],"mapped",[505]],[[505,505],"valid"],[[506,506],"mapped",[507]],[[507,507],"valid"],[[508,508],"mapped",[509]],[[509,509],"valid"],[[510,510],"mapped",[511]],[[511,511],"valid"],[[512,512],"mapped",[513]],[[513,513],"valid"],[[514,514],"mapped",[515]],[[515,515],"valid"],[[516,516],"mapped",[517]],[[517,517],"valid"],[[518,518],"mapped",[519]],[[519,519],"valid"],[[520,520],"mapped",[521]],[[521,521],"valid"],[[522,522],"mapped",[523]],[[523,523],"valid"],[[524,524],"mapped",[525]],[[525,525],"valid"],[[526,526],"mapped",[527]],[[527,527],"valid"],[[528,528],"mapped",[529]],[[529,529],"valid"],[[530,530],"mapped",[531]],[[531,531],"valid"],[[532,532],"mapped",[533]],[[533,533],"valid"],[[534,534],"mapped",[535]],[[535,535],"valid"],[[536,536],"mapped",[537]],[[537,537],"valid"],[[538,538],"mapped",[539]],[[539,539],"valid"],[[540,540],"mapped",[541]],[[541,541],"valid"],[[542,542],"mapped",[543]],[[543,543],"valid"],[[544,544],"mapped",[414]],[[545,545],"valid"],[[546,546],"mapped",[547]],[[547,547],"valid"],[[548,548],"mapped",[549]],[[549,549],"valid"],[[550,550],"mapped",[551]],[[551,551],"valid"],[[552,552],"mapped",[553]],[[553,553],"valid"],[[554,554],"mapped",[555]],[[555,555],"valid"],[[556,556],"mapped",[557]],[[557,557],"valid"],[[558,558],"mapped",[559]],[[559,559],"valid"],[[560,560],"mapped",[561]],[[561,561],"valid"],[[562,562],"mapped",[563]],[[563,563],"valid"],[[564,566],"valid"],[[567,569],"valid"],[[570,570],"mapped",[11365]],[[571,571],"mapped",[572]],[[572,572],"valid"],[[573,573],"mapped",[410]],[[574,574],"mapped",[11366]],[[575,576],"valid"],[[577,577],"mapped",[578]],[[578,578],"valid"],[[579,579],"mapped",[384]],[[580,580],"mapped",[649]],[[581,581],"mapped",[652]],[[582,582],"mapped",[583]],[[583,583],"valid"],[[584,584],"mapped",[585]],[[585,585],"valid"],[[586,586],"mapped",[587]],[[587,587],"valid"],[[588,588],"mapped",[589]],[[589,589],"valid"],[[590,590],"mapped",[591]],[[591,591],"valid"],[[592,680],"valid"],[[681,685],"valid"],[[686,687],"valid"],[[688,688],"mapped",[104]],[[689,689],"mapped",[614]],[[690,690],"mapped",[106]],[[691,691],"mapped",[114]],[[692,692],"mapped",[633]],[[693,693],"mapped",[635]],[[694,694],"mapped",[641]],[[695,695],"mapped",[119]],[[696,696],"mapped",[121]],[[697,705],"valid"],[[706,709],"valid",[],"NV8"],[[710,721],"valid"],[[722,727],"valid",[],"NV8"],[[728,728],"disallowed_STD3_mapped",[32,774]],[[729,729],"disallowed_STD3_mapped",[32,775]],[[730,730],"disallowed_STD3_mapped",[32,778]],[[731,731],"disallowed_STD3_mapped",[32,808]],[[732,732],"disallowed_STD3_mapped",[32,771]],[[733,733],"disallowed_STD3_mapped",[32,779]],[[734,734],"valid",[],"NV8"],[[735,735],"valid",[],"NV8"],[[736,736],"mapped",[611]],[[737,737],"mapped",[108]],[[738,738],"mapped",[115]],[[739,739],"mapped",[120]],[[740,740],"mapped",[661]],[[741,745],"valid",[],"NV8"],[[746,747],"valid",[],"NV8"],[[748,748],"valid"],[[749,749],"valid",[],"NV8"],[[750,750],"valid"],[[751,767],"valid",[],"NV8"],[[768,831],"valid"],[[832,832],"mapped",[768]],[[833,833],"mapped",[769]],[[834,834],"valid"],[[835,835],"mapped",[787]],[[836,836],"mapped",[776,769]],[[837,837],"mapped",[953]],[[838,846],"valid"],[[847,847],"ignored"],[[848,855],"valid"],[[856,860],"valid"],[[861,863],"valid"],[[864,865],"valid"],[[866,866],"valid"],[[867,879],"valid"],[[880,880],"mapped",[881]],[[881,881],"valid"],[[882,882],"mapped",[883]],[[883,883],"valid"],[[884,884],"mapped",[697]],[[885,885],"valid"],[[886,886],"mapped",[887]],[[887,887],"valid"],[[888,889],"disallowed"],[[890,890],"disallowed_STD3_mapped",[32,953]],[[891,893],"valid"],[[894,894],"disallowed_STD3_mapped",[59]],[[895,895],"mapped",[1011]],[[896,899],"disallowed"],[[900,900],"disallowed_STD3_mapped",[32,769]],[[901,901],"disallowed_STD3_mapped",[32,776,769]],[[902,902],"mapped",[940]],[[903,903],"mapped",[183]],[[904,904],"mapped",[941]],[[905,905],"mapped",[942]],[[906,906],"mapped",[943]],[[907,907],"disallowed"],[[908,908],"mapped",[972]],[[909,909],"disallowed"],[[910,910],"mapped",[973]],[[911,911],"mapped",[974]],[[912,912],"valid"],[[913,913],"mapped",[945]],[[914,914],"mapped",[946]],[[915,915],"mapped",[947]],[[916,916],"mapped",[948]],[[917,917],"mapped",[949]],[[918,918],"mapped",[950]],[[919,919],"mapped",[951]],[[920,920],"mapped",[952]],[[921,921],"mapped",[953]],[[922,922],"mapped",[954]],[[923,923],"mapped",[955]],[[924,924],"mapped",[956]],[[925,925],"mapped",[957]],[[926,926],"mapped",[958]],[[927,927],"mapped",[959]],[[928,928],"mapped",[960]],[[929,929],"mapped",[961]],[[930,930],"disallowed"],[[931,931],"mapped",[963]],[[932,932],"mapped",[964]],[[933,933],"mapped",[965]],[[934,934],"mapped",[966]],[[935,935],"mapped",[967]],[[936,936],"mapped",[968]],[[937,937],"mapped",[969]],[[938,938],"mapped",[970]],[[939,939],"mapped",[971]],[[940,961],"valid"],[[962,962],"deviation",[963]],[[963,974],"valid"],[[975,975],"mapped",[983]],[[976,976],"mapped",[946]],[[977,977],"mapped",[952]],[[978,978],"mapped",[965]],[[979,979],"mapped",[973]],[[980,980],"mapped",[971]],[[981,981],"mapped",[966]],[[982,982],"mapped",[960]],[[983,983],"valid"],[[984,984],"mapped",[985]],[[985,985],"valid"],[[986,986],"mapped",[987]],[[987,987],"valid"],[[988,988],"mapped",[989]],[[989,989],"valid"],[[990,990],"mapped",[991]],[[991,991],"valid"],[[992,992],"mapped",[993]],[[993,993],"valid"],[[994,994],"mapped",[995]],[[995,995],"valid"],[[996,996],"mapped",[997]],[[997,997],"valid"],[[998,998],"mapped",[999]],[[999,999],"valid"],[[1e3,1e3],"mapped",[1001]],[[1001,1001],"valid"],[[1002,1002],"mapped",[1003]],[[1003,1003],"valid"],[[1004,1004],"mapped",[1005]],[[1005,1005],"valid"],[[1006,1006],"mapped",[1007]],[[1007,1007],"valid"],[[1008,1008],"mapped",[954]],[[1009,1009],"mapped",[961]],[[1010,1010],"mapped",[963]],[[1011,1011],"valid"],[[1012,1012],"mapped",[952]],[[1013,1013],"mapped",[949]],[[1014,1014],"valid",[],"NV8"],[[1015,1015],"mapped",[1016]],[[1016,1016],"valid"],[[1017,1017],"mapped",[963]],[[1018,1018],"mapped",[1019]],[[1019,1019],"valid"],[[1020,1020],"valid"],[[1021,1021],"mapped",[891]],[[1022,1022],"mapped",[892]],[[1023,1023],"mapped",[893]],[[1024,1024],"mapped",[1104]],[[1025,1025],"mapped",[1105]],[[1026,1026],"mapped",[1106]],[[1027,1027],"mapped",[1107]],[[1028,1028],"mapped",[1108]],[[1029,1029],"mapped",[1109]],[[1030,1030],"mapped",[1110]],[[1031,1031],"mapped",[1111]],[[1032,1032],"mapped",[1112]],[[1033,1033],"mapped",[1113]],[[1034,1034],"mapped",[1114]],[[1035,1035],"mapped",[1115]],[[1036,1036],"mapped",[1116]],[[1037,1037],"mapped",[1117]],[[1038,1038],"mapped",[1118]],[[1039,1039],"mapped",[1119]],[[1040,1040],"mapped",[1072]],[[1041,1041],"mapped",[1073]],[[1042,1042],"mapped",[1074]],[[1043,1043],"mapped",[1075]],[[1044,1044],"mapped",[1076]],[[1045,1045],"mapped",[1077]],[[1046,1046],"mapped",[1078]],[[1047,1047],"mapped",[1079]],[[1048,1048],"mapped",[1080]],[[1049,1049],"mapped",[1081]],[[1050,1050],"mapped",[1082]],[[1051,1051],"mapped",[1083]],[[1052,1052],"mapped",[1084]],[[1053,1053],"mapped",[1085]],[[1054,1054],"mapped",[1086]],[[1055,1055],"mapped",[1087]],[[1056,1056],"mapped",[1088]],[[1057,1057],"mapped",[1089]],[[1058,1058],"mapped",[1090]],[[1059,1059],"mapped",[1091]],[[1060,1060],"mapped",[1092]],[[1061,1061],"mapped",[1093]],[[1062,1062],"mapped",[1094]],[[1063,1063],"mapped",[1095]],[[1064,1064],"mapped",[1096]],[[1065,1065],"mapped",[1097]],[[1066,1066],"mapped",[1098]],[[1067,1067],"mapped",[1099]],[[1068,1068],"mapped",[1100]],[[1069,1069],"mapped",[1101]],[[1070,1070],"mapped",[1102]],[[1071,1071],"mapped",[1103]],[[1072,1103],"valid"],[[1104,1104],"valid"],[[1105,1116],"valid"],[[1117,1117],"valid"],[[1118,1119],"valid"],[[1120,1120],"mapped",[1121]],[[1121,1121],"valid"],[[1122,1122],"mapped",[1123]],[[1123,1123],"valid"],[[1124,1124],"mapped",[1125]],[[1125,1125],"valid"],[[1126,1126],"mapped",[1127]],[[1127,1127],"valid"],[[1128,1128],"mapped",[1129]],[[1129,1129],"valid"],[[1130,1130],"mapped",[1131]],[[1131,1131],"valid"],[[1132,1132],"mapped",[1133]],[[1133,1133],"valid"],[[1134,1134],"mapped",[1135]],[[1135,1135],"valid"],[[1136,1136],"mapped",[1137]],[[1137,1137],"valid"],[[1138,1138],"mapped",[1139]],[[1139,1139],"valid"],[[1140,1140],"mapped",[1141]],[[1141,1141],"valid"],[[1142,1142],"mapped",[1143]],[[1143,1143],"valid"],[[1144,1144],"mapped",[1145]],[[1145,1145],"valid"],[[1146,1146],"mapped",[1147]],[[1147,1147],"valid"],[[1148,1148],"mapped",[1149]],[[1149,1149],"valid"],[[1150,1150],"mapped",[1151]],[[1151,1151],"valid"],[[1152,1152],"mapped",[1153]],[[1153,1153],"valid"],[[1154,1154],"valid",[],"NV8"],[[1155,1158],"valid"],[[1159,1159],"valid"],[[1160,1161],"valid",[],"NV8"],[[1162,1162],"mapped",[1163]],[[1163,1163],"valid"],[[1164,1164],"mapped",[1165]],[[1165,1165],"valid"],[[1166,1166],"mapped",[1167]],[[1167,1167],"valid"],[[1168,1168],"mapped",[1169]],[[1169,1169],"valid"],[[1170,1170],"mapped",[1171]],[[1171,1171],"valid"],[[1172,1172],"mapped",[1173]],[[1173,1173],"valid"],[[1174,1174],"mapped",[1175]],[[1175,1175],"valid"],[[1176,1176],"mapped",[1177]],[[1177,1177],"valid"],[[1178,1178],"mapped",[1179]],[[1179,1179],"valid"],[[1180,1180],"mapped",[1181]],[[1181,1181],"valid"],[[1182,1182],"mapped",[1183]],[[1183,1183],"valid"],[[1184,1184],"mapped",[1185]],[[1185,1185],"valid"],[[1186,1186],"mapped",[1187]],[[1187,1187],"valid"],[[1188,1188],"mapped",[1189]],[[1189,1189],"valid"],[[1190,1190],"mapped",[1191]],[[1191,1191],"valid"],[[1192,1192],"mapped",[1193]],[[1193,1193],"valid"],[[1194,1194],"mapped",[1195]],[[1195,1195],"valid"],[[1196,1196],"mapped",[1197]],[[1197,1197],"valid"],[[1198,1198],"mapped",[1199]],[[1199,1199],"valid"],[[1200,1200],"mapped",[1201]],[[1201,1201],"valid"],[[1202,1202],"mapped",[1203]],[[1203,1203],"valid"],[[1204,1204],"mapped",[1205]],[[1205,1205],"valid"],[[1206,1206],"mapped",[1207]],[[1207,1207],"valid"],[[1208,1208],"mapped",[1209]],[[1209,1209],"valid"],[[1210,1210],"mapped",[1211]],[[1211,1211],"valid"],[[1212,1212],"mapped",[1213]],[[1213,1213],"valid"],[[1214,1214],"mapped",[1215]],[[1215,1215],"valid"],[[1216,1216],"disallowed"],[[1217,1217],"mapped",[1218]],[[1218,1218],"valid"],[[1219,1219],"mapped",[1220]],[[1220,1220],"valid"],[[1221,1221],"mapped",[1222]],[[1222,1222],"valid"],[[1223,1223],"mapped",[1224]],[[1224,1224],"valid"],[[1225,1225],"mapped",[1226]],[[1226,1226],"valid"],[[1227,1227],"mapped",[1228]],[[1228,1228],"valid"],[[1229,1229],"mapped",[1230]],[[1230,1230],"valid"],[[1231,1231],"valid"],[[1232,1232],"mapped",[1233]],[[1233,1233],"valid"],[[1234,1234],"mapped",[1235]],[[1235,1235],"valid"],[[1236,1236],"mapped",[1237]],[[1237,1237],"valid"],[[1238,1238],"mapped",[1239]],[[1239,1239],"valid"],[[1240,1240],"mapped",[1241]],[[1241,1241],"valid"],[[1242,1242],"mapped",[1243]],[[1243,1243],"valid"],[[1244,1244],"mapped",[1245]],[[1245,1245],"valid"],[[1246,1246],"mapped",[1247]],[[1247,1247],"valid"],[[1248,1248],"mapped",[1249]],[[1249,1249],"valid"],[[1250,1250],"mapped",[1251]],[[1251,1251],"valid"],[[1252,1252],"mapped",[1253]],[[1253,1253],"valid"],[[1254,1254],"mapped",[1255]],[[1255,1255],"valid"],[[1256,1256],"mapped",[1257]],[[1257,1257],"valid"],[[1258,1258],"mapped",[1259]],[[1259,1259],"valid"],[[1260,1260],"mapped",[1261]],[[1261,1261],"valid"],[[1262,1262],"mapped",[1263]],[[1263,1263],"valid"],[[1264,1264],"mapped",[1265]],[[1265,1265],"valid"],[[1266,1266],"mapped",[1267]],[[1267,1267],"valid"],[[1268,1268],"mapped",[1269]],[[1269,1269],"valid"],[[1270,1270],"mapped",[1271]],[[1271,1271],"valid"],[[1272,1272],"mapped",[1273]],[[1273,1273],"valid"],[[1274,1274],"mapped",[1275]],[[1275,1275],"valid"],[[1276,1276],"mapped",[1277]],[[1277,1277],"valid"],[[1278,1278],"mapped",[1279]],[[1279,1279],"valid"],[[1280,1280],"mapped",[1281]],[[1281,1281],"valid"],[[1282,1282],"mapped",[1283]],[[1283,1283],"valid"],[[1284,1284],"mapped",[1285]],[[1285,1285],"valid"],[[1286,1286],"mapped",[1287]],[[1287,1287],"valid"],[[1288,1288],"mapped",[1289]],[[1289,1289],"valid"],[[1290,1290],"mapped",[1291]],[[1291,1291],"valid"],[[1292,1292],"mapped",[1293]],[[1293,1293],"valid"],[[1294,1294],"mapped",[1295]],[[1295,1295],"valid"],[[1296,1296],"mapped",[1297]],[[1297,1297],"valid"],[[1298,1298],"mapped",[1299]],[[1299,1299],"valid"],[[1300,1300],"mapped",[1301]],[[1301,1301],"valid"],[[1302,1302],"mapped",[1303]],[[1303,1303],"valid"],[[1304,1304],"mapped",[1305]],[[1305,1305],"valid"],[[1306,1306],"mapped",[1307]],[[1307,1307],"valid"],[[1308,1308],"mapped",[1309]],[[1309,1309],"valid"],[[1310,1310],"mapped",[1311]],[[1311,1311],"valid"],[[1312,1312],"mapped",[1313]],[[1313,1313],"valid"],[[1314,1314],"mapped",[1315]],[[1315,1315],"valid"],[[1316,1316],"mapped",[1317]],[[1317,1317],"valid"],[[1318,1318],"mapped",[1319]],[[1319,1319],"valid"],[[1320,1320],"mapped",[1321]],[[1321,1321],"valid"],[[1322,1322],"mapped",[1323]],[[1323,1323],"valid"],[[1324,1324],"mapped",[1325]],[[1325,1325],"valid"],[[1326,1326],"mapped",[1327]],[[1327,1327],"valid"],[[1328,1328],"disallowed"],[[1329,1329],"mapped",[1377]],[[1330,1330],"mapped",[1378]],[[1331,1331],"mapped",[1379]],[[1332,1332],"mapped",[1380]],[[1333,1333],"mapped",[1381]],[[1334,1334],"mapped",[1382]],[[1335,1335],"mapped",[1383]],[[1336,1336],"mapped",[1384]],[[1337,1337],"mapped",[1385]],[[1338,1338],"mapped",[1386]],[[1339,1339],"mapped",[1387]],[[1340,1340],"mapped",[1388]],[[1341,1341],"mapped",[1389]],[[1342,1342],"mapped",[1390]],[[1343,1343],"mapped",[1391]],[[1344,1344],"mapped",[1392]],[[1345,1345],"mapped",[1393]],[[1346,1346],"mapped",[1394]],[[1347,1347],"mapped",[1395]],[[1348,1348],"mapped",[1396]],[[1349,1349],"mapped",[1397]],[[1350,1350],"mapped",[1398]],[[1351,1351],"mapped",[1399]],[[1352,1352],"mapped",[1400]],[[1353,1353],"mapped",[1401]],[[1354,1354],"mapped",[1402]],[[1355,1355],"mapped",[1403]],[[1356,1356],"mapped",[1404]],[[1357,1357],"mapped",[1405]],[[1358,1358],"mapped",[1406]],[[1359,1359],"mapped",[1407]],[[1360,1360],"mapped",[1408]],[[1361,1361],"mapped",[1409]],[[1362,1362],"mapped",[1410]],[[1363,1363],"mapped",[1411]],[[1364,1364],"mapped",[1412]],[[1365,1365],"mapped",[1413]],[[1366,1366],"mapped",[1414]],[[1367,1368],"disallowed"],[[1369,1369],"valid"],[[1370,1375],"valid",[],"NV8"],[[1376,1376],"disallowed"],[[1377,1414],"valid"],[[1415,1415],"mapped",[1381,1410]],[[1416,1416],"disallowed"],[[1417,1417],"valid",[],"NV8"],[[1418,1418],"valid",[],"NV8"],[[1419,1420],"disallowed"],[[1421,1422],"valid",[],"NV8"],[[1423,1423],"valid",[],"NV8"],[[1424,1424],"disallowed"],[[1425,1441],"valid"],[[1442,1442],"valid"],[[1443,1455],"valid"],[[1456,1465],"valid"],[[1466,1466],"valid"],[[1467,1469],"valid"],[[1470,1470],"valid",[],"NV8"],[[1471,1471],"valid"],[[1472,1472],"valid",[],"NV8"],[[1473,1474],"valid"],[[1475,1475],"valid",[],"NV8"],[[1476,1476],"valid"],[[1477,1477],"valid"],[[1478,1478],"valid",[],"NV8"],[[1479,1479],"valid"],[[1480,1487],"disallowed"],[[1488,1514],"valid"],[[1515,1519],"disallowed"],[[1520,1524],"valid"],[[1525,1535],"disallowed"],[[1536,1539],"disallowed"],[[1540,1540],"disallowed"],[[1541,1541],"disallowed"],[[1542,1546],"valid",[],"NV8"],[[1547,1547],"valid",[],"NV8"],[[1548,1548],"valid",[],"NV8"],[[1549,1551],"valid",[],"NV8"],[[1552,1557],"valid"],[[1558,1562],"valid"],[[1563,1563],"valid",[],"NV8"],[[1564,1564],"disallowed"],[[1565,1565],"disallowed"],[[1566,1566],"valid",[],"NV8"],[[1567,1567],"valid",[],"NV8"],[[1568,1568],"valid"],[[1569,1594],"valid"],[[1595,1599],"valid"],[[1600,1600],"valid",[],"NV8"],[[1601,1618],"valid"],[[1619,1621],"valid"],[[1622,1624],"valid"],[[1625,1630],"valid"],[[1631,1631],"valid"],[[1632,1641],"valid"],[[1642,1645],"valid",[],"NV8"],[[1646,1647],"valid"],[[1648,1652],"valid"],[[1653,1653],"mapped",[1575,1652]],[[1654,1654],"mapped",[1608,1652]],[[1655,1655],"mapped",[1735,1652]],[[1656,1656],"mapped",[1610,1652]],[[1657,1719],"valid"],[[1720,1721],"valid"],[[1722,1726],"valid"],[[1727,1727],"valid"],[[1728,1742],"valid"],[[1743,1743],"valid"],[[1744,1747],"valid"],[[1748,1748],"valid",[],"NV8"],[[1749,1756],"valid"],[[1757,1757],"disallowed"],[[1758,1758],"valid",[],"NV8"],[[1759,1768],"valid"],[[1769,1769],"valid",[],"NV8"],[[1770,1773],"valid"],[[1774,1775],"valid"],[[1776,1785],"valid"],[[1786,1790],"valid"],[[1791,1791],"valid"],[[1792,1805],"valid",[],"NV8"],[[1806,1806],"disallowed"],[[1807,1807],"disallowed"],[[1808,1836],"valid"],[[1837,1839],"valid"],[[1840,1866],"valid"],[[1867,1868],"disallowed"],[[1869,1871],"valid"],[[1872,1901],"valid"],[[1902,1919],"valid"],[[1920,1968],"valid"],[[1969,1969],"valid"],[[1970,1983],"disallowed"],[[1984,2037],"valid"],[[2038,2042],"valid",[],"NV8"],[[2043,2047],"disallowed"],[[2048,2093],"valid"],[[2094,2095],"disallowed"],[[2096,2110],"valid",[],"NV8"],[[2111,2111],"disallowed"],[[2112,2139],"valid"],[[2140,2141],"disallowed"],[[2142,2142],"valid",[],"NV8"],[[2143,2207],"disallowed"],[[2208,2208],"valid"],[[2209,2209],"valid"],[[2210,2220],"valid"],[[2221,2226],"valid"],[[2227,2228],"valid"],[[2229,2274],"disallowed"],[[2275,2275],"valid"],[[2276,2302],"valid"],[[2303,2303],"valid"],[[2304,2304],"valid"],[[2305,2307],"valid"],[[2308,2308],"valid"],[[2309,2361],"valid"],[[2362,2363],"valid"],[[2364,2381],"valid"],[[2382,2382],"valid"],[[2383,2383],"valid"],[[2384,2388],"valid"],[[2389,2389],"valid"],[[2390,2391],"valid"],[[2392,2392],"mapped",[2325,2364]],[[2393,2393],"mapped",[2326,2364]],[[2394,2394],"mapped",[2327,2364]],[[2395,2395],"mapped",[2332,2364]],[[2396,2396],"mapped",[2337,2364]],[[2397,2397],"mapped",[2338,2364]],[[2398,2398],"mapped",[2347,2364]],[[2399,2399],"mapped",[2351,2364]],[[2400,2403],"valid"],[[2404,2405],"valid",[],"NV8"],[[2406,2415],"valid"],[[2416,2416],"valid",[],"NV8"],[[2417,2418],"valid"],[[2419,2423],"valid"],[[2424,2424],"valid"],[[2425,2426],"valid"],[[2427,2428],"valid"],[[2429,2429],"valid"],[[2430,2431],"valid"],[[2432,2432],"valid"],[[2433,2435],"valid"],[[2436,2436],"disallowed"],[[2437,2444],"valid"],[[2445,2446],"disallowed"],[[2447,2448],"valid"],[[2449,2450],"disallowed"],[[2451,2472],"valid"],[[2473,2473],"disallowed"],[[2474,2480],"valid"],[[2481,2481],"disallowed"],[[2482,2482],"valid"],[[2483,2485],"disallowed"],[[2486,2489],"valid"],[[2490,2491],"disallowed"],[[2492,2492],"valid"],[[2493,2493],"valid"],[[2494,2500],"valid"],[[2501,2502],"disallowed"],[[2503,2504],"valid"],[[2505,2506],"disallowed"],[[2507,2509],"valid"],[[2510,2510],"valid"],[[2511,2518],"disallowed"],[[2519,2519],"valid"],[[2520,2523],"disallowed"],[[2524,2524],"mapped",[2465,2492]],[[2525,2525],"mapped",[2466,2492]],[[2526,2526],"disallowed"],[[2527,2527],"mapped",[2479,2492]],[[2528,2531],"valid"],[[2532,2533],"disallowed"],[[2534,2545],"valid"],[[2546,2554],"valid",[],"NV8"],[[2555,2555],"valid",[],"NV8"],[[2556,2560],"disallowed"],[[2561,2561],"valid"],[[2562,2562],"valid"],[[2563,2563],"valid"],[[2564,2564],"disallowed"],[[2565,2570],"valid"],[[2571,2574],"disallowed"],[[2575,2576],"valid"],[[2577,2578],"disallowed"],[[2579,2600],"valid"],[[2601,2601],"disallowed"],[[2602,2608],"valid"],[[2609,2609],"disallowed"],[[2610,2610],"valid"],[[2611,2611],"mapped",[2610,2620]],[[2612,2612],"disallowed"],[[2613,2613],"valid"],[[2614,2614],"mapped",[2616,2620]],[[2615,2615],"disallowed"],[[2616,2617],"valid"],[[2618,2619],"disallowed"],[[2620,2620],"valid"],[[2621,2621],"disallowed"],[[2622,2626],"valid"],[[2627,2630],"disallowed"],[[2631,2632],"valid"],[[2633,2634],"disallowed"],[[2635,2637],"valid"],[[2638,2640],"disallowed"],[[2641,2641],"valid"],[[2642,2648],"disallowed"],[[2649,2649],"mapped",[2582,2620]],[[2650,2650],"mapped",[2583,2620]],[[2651,2651],"mapped",[2588,2620]],[[2652,2652],"valid"],[[2653,2653],"disallowed"],[[2654,2654],"mapped",[2603,2620]],[[2655,2661],"disallowed"],[[2662,2676],"valid"],[[2677,2677],"valid"],[[2678,2688],"disallowed"],[[2689,2691],"valid"],[[2692,2692],"disallowed"],[[2693,2699],"valid"],[[2700,2700],"valid"],[[2701,2701],"valid"],[[2702,2702],"disallowed"],[[2703,2705],"valid"],[[2706,2706],"disallowed"],[[2707,2728],"valid"],[[2729,2729],"disallowed"],[[2730,2736],"valid"],[[2737,2737],"disallowed"],[[2738,2739],"valid"],[[2740,2740],"disallowed"],[[2741,2745],"valid"],[[2746,2747],"disallowed"],[[2748,2757],"valid"],[[2758,2758],"disallowed"],[[2759,2761],"valid"],[[2762,2762],"disallowed"],[[2763,2765],"valid"],[[2766,2767],"disallowed"],[[2768,2768],"valid"],[[2769,2783],"disallowed"],[[2784,2784],"valid"],[[2785,2787],"valid"],[[2788,2789],"disallowed"],[[2790,2799],"valid"],[[2800,2800],"valid",[],"NV8"],[[2801,2801],"valid",[],"NV8"],[[2802,2808],"disallowed"],[[2809,2809],"valid"],[[2810,2816],"disallowed"],[[2817,2819],"valid"],[[2820,2820],"disallowed"],[[2821,2828],"valid"],[[2829,2830],"disallowed"],[[2831,2832],"valid"],[[2833,2834],"disallowed"],[[2835,2856],"valid"],[[2857,2857],"disallowed"],[[2858,2864],"valid"],[[2865,2865],"disallowed"],[[2866,2867],"valid"],[[2868,2868],"disallowed"],[[2869,2869],"valid"],[[2870,2873],"valid"],[[2874,2875],"disallowed"],[[2876,2883],"valid"],[[2884,2884],"valid"],[[2885,2886],"disallowed"],[[2887,2888],"valid"],[[2889,2890],"disallowed"],[[2891,2893],"valid"],[[2894,2901],"disallowed"],[[2902,2903],"valid"],[[2904,2907],"disallowed"],[[2908,2908],"mapped",[2849,2876]],[[2909,2909],"mapped",[2850,2876]],[[2910,2910],"disallowed"],[[2911,2913],"valid"],[[2914,2915],"valid"],[[2916,2917],"disallowed"],[[2918,2927],"valid"],[[2928,2928],"valid",[],"NV8"],[[2929,2929],"valid"],[[2930,2935],"valid",[],"NV8"],[[2936,2945],"disallowed"],[[2946,2947],"valid"],[[2948,2948],"disallowed"],[[2949,2954],"valid"],[[2955,2957],"disallowed"],[[2958,2960],"valid"],[[2961,2961],"disallowed"],[[2962,2965],"valid"],[[2966,2968],"disallowed"],[[2969,2970],"valid"],[[2971,2971],"disallowed"],[[2972,2972],"valid"],[[2973,2973],"disallowed"],[[2974,2975],"valid"],[[2976,2978],"disallowed"],[[2979,2980],"valid"],[[2981,2983],"disallowed"],[[2984,2986],"valid"],[[2987,2989],"disallowed"],[[2990,2997],"valid"],[[2998,2998],"valid"],[[2999,3001],"valid"],[[3002,3005],"disallowed"],[[3006,3010],"valid"],[[3011,3013],"disallowed"],[[3014,3016],"valid"],[[3017,3017],"disallowed"],[[3018,3021],"valid"],[[3022,3023],"disallowed"],[[3024,3024],"valid"],[[3025,3030],"disallowed"],[[3031,3031],"valid"],[[3032,3045],"disallowed"],[[3046,3046],"valid"],[[3047,3055],"valid"],[[3056,3058],"valid",[],"NV8"],[[3059,3066],"valid",[],"NV8"],[[3067,3071],"disallowed"],[[3072,3072],"valid"],[[3073,3075],"valid"],[[3076,3076],"disallowed"],[[3077,3084],"valid"],[[3085,3085],"disallowed"],[[3086,3088],"valid"],[[3089,3089],"disallowed"],[[3090,3112],"valid"],[[3113,3113],"disallowed"],[[3114,3123],"valid"],[[3124,3124],"valid"],[[3125,3129],"valid"],[[3130,3132],"disallowed"],[[3133,3133],"valid"],[[3134,3140],"valid"],[[3141,3141],"disallowed"],[[3142,3144],"valid"],[[3145,3145],"disallowed"],[[3146,3149],"valid"],[[3150,3156],"disallowed"],[[3157,3158],"valid"],[[3159,3159],"disallowed"],[[3160,3161],"valid"],[[3162,3162],"valid"],[[3163,3167],"disallowed"],[[3168,3169],"valid"],[[3170,3171],"valid"],[[3172,3173],"disallowed"],[[3174,3183],"valid"],[[3184,3191],"disallowed"],[[3192,3199],"valid",[],"NV8"],[[3200,3200],"disallowed"],[[3201,3201],"valid"],[[3202,3203],"valid"],[[3204,3204],"disallowed"],[[3205,3212],"valid"],[[3213,3213],"disallowed"],[[3214,3216],"valid"],[[3217,3217],"disallowed"],[[3218,3240],"valid"],[[3241,3241],"disallowed"],[[3242,3251],"valid"],[[3252,3252],"disallowed"],[[3253,3257],"valid"],[[3258,3259],"disallowed"],[[3260,3261],"valid"],[[3262,3268],"valid"],[[3269,3269],"disallowed"],[[3270,3272],"valid"],[[3273,3273],"disallowed"],[[3274,3277],"valid"],[[3278,3284],"disallowed"],[[3285,3286],"valid"],[[3287,3293],"disallowed"],[[3294,3294],"valid"],[[3295,3295],"disallowed"],[[3296,3297],"valid"],[[3298,3299],"valid"],[[3300,3301],"disallowed"],[[3302,3311],"valid"],[[3312,3312],"disallowed"],[[3313,3314],"valid"],[[3315,3328],"disallowed"],[[3329,3329],"valid"],[[3330,3331],"valid"],[[3332,3332],"disallowed"],[[3333,3340],"valid"],[[3341,3341],"disallowed"],[[3342,3344],"valid"],[[3345,3345],"disallowed"],[[3346,3368],"valid"],[[3369,3369],"valid"],[[3370,3385],"valid"],[[3386,3386],"valid"],[[3387,3388],"disallowed"],[[3389,3389],"valid"],[[3390,3395],"valid"],[[3396,3396],"valid"],[[3397,3397],"disallowed"],[[3398,3400],"valid"],[[3401,3401],"disallowed"],[[3402,3405],"valid"],[[3406,3406],"valid"],[[3407,3414],"disallowed"],[[3415,3415],"valid"],[[3416,3422],"disallowed"],[[3423,3423],"valid"],[[3424,3425],"valid"],[[3426,3427],"valid"],[[3428,3429],"disallowed"],[[3430,3439],"valid"],[[3440,3445],"valid",[],"NV8"],[[3446,3448],"disallowed"],[[3449,3449],"valid",[],"NV8"],[[3450,3455],"valid"],[[3456,3457],"disallowed"],[[3458,3459],"valid"],[[3460,3460],"disallowed"],[[3461,3478],"valid"],[[3479,3481],"disallowed"],[[3482,3505],"valid"],[[3506,3506],"disallowed"],[[3507,3515],"valid"],[[3516,3516],"disallowed"],[[3517,3517],"valid"],[[3518,3519],"disallowed"],[[3520,3526],"valid"],[[3527,3529],"disallowed"],[[3530,3530],"valid"],[[3531,3534],"disallowed"],[[3535,3540],"valid"],[[3541,3541],"disallowed"],[[3542,3542],"valid"],[[3543,3543],"disallowed"],[[3544,3551],"valid"],[[3552,3557],"disallowed"],[[3558,3567],"valid"],[[3568,3569],"disallowed"],[[3570,3571],"valid"],[[3572,3572],"valid",[],"NV8"],[[3573,3584],"disallowed"],[[3585,3634],"valid"],[[3635,3635],"mapped",[3661,3634]],[[3636,3642],"valid"],[[3643,3646],"disallowed"],[[3647,3647],"valid",[],"NV8"],[[3648,3662],"valid"],[[3663,3663],"valid",[],"NV8"],[[3664,3673],"valid"],[[3674,3675],"valid",[],"NV8"],[[3676,3712],"disallowed"],[[3713,3714],"valid"],[[3715,3715],"disallowed"],[[3716,3716],"valid"],[[3717,3718],"disallowed"],[[3719,3720],"valid"],[[3721,3721],"disallowed"],[[3722,3722],"valid"],[[3723,3724],"disallowed"],[[3725,3725],"valid"],[[3726,3731],"disallowed"],[[3732,3735],"valid"],[[3736,3736],"disallowed"],[[3737,3743],"valid"],[[3744,3744],"disallowed"],[[3745,3747],"valid"],[[3748,3748],"disallowed"],[[3749,3749],"valid"],[[3750,3750],"disallowed"],[[3751,3751],"valid"],[[3752,3753],"disallowed"],[[3754,3755],"valid"],[[3756,3756],"disallowed"],[[3757,3762],"valid"],[[3763,3763],"mapped",[3789,3762]],[[3764,3769],"valid"],[[3770,3770],"disallowed"],[[3771,3773],"valid"],[[3774,3775],"disallowed"],[[3776,3780],"valid"],[[3781,3781],"disallowed"],[[3782,3782],"valid"],[[3783,3783],"disallowed"],[[3784,3789],"valid"],[[3790,3791],"disallowed"],[[3792,3801],"valid"],[[3802,3803],"disallowed"],[[3804,3804],"mapped",[3755,3737]],[[3805,3805],"mapped",[3755,3745]],[[3806,3807],"valid"],[[3808,3839],"disallowed"],[[3840,3840],"valid"],[[3841,3850],"valid",[],"NV8"],[[3851,3851],"valid"],[[3852,3852],"mapped",[3851]],[[3853,3863],"valid",[],"NV8"],[[3864,3865],"valid"],[[3866,3871],"valid",[],"NV8"],[[3872,3881],"valid"],[[3882,3892],"valid",[],"NV8"],[[3893,3893],"valid"],[[3894,3894],"valid",[],"NV8"],[[3895,3895],"valid"],[[3896,3896],"valid",[],"NV8"],[[3897,3897],"valid"],[[3898,3901],"valid",[],"NV8"],[[3902,3906],"valid"],[[3907,3907],"mapped",[3906,4023]],[[3908,3911],"valid"],[[3912,3912],"disallowed"],[[3913,3916],"valid"],[[3917,3917],"mapped",[3916,4023]],[[3918,3921],"valid"],[[3922,3922],"mapped",[3921,4023]],[[3923,3926],"valid"],[[3927,3927],"mapped",[3926,4023]],[[3928,3931],"valid"],[[3932,3932],"mapped",[3931,4023]],[[3933,3944],"valid"],[[3945,3945],"mapped",[3904,4021]],[[3946,3946],"valid"],[[3947,3948],"valid"],[[3949,3952],"disallowed"],[[3953,3954],"valid"],[[3955,3955],"mapped",[3953,3954]],[[3956,3956],"valid"],[[3957,3957],"mapped",[3953,3956]],[[3958,3958],"mapped",[4018,3968]],[[3959,3959],"mapped",[4018,3953,3968]],[[3960,3960],"mapped",[4019,3968]],[[3961,3961],"mapped",[4019,3953,3968]],[[3962,3968],"valid"],[[3969,3969],"mapped",[3953,3968]],[[3970,3972],"valid"],[[3973,3973],"valid",[],"NV8"],[[3974,3979],"valid"],[[3980,3983],"valid"],[[3984,3986],"valid"],[[3987,3987],"mapped",[3986,4023]],[[3988,3989],"valid"],[[3990,3990],"valid"],[[3991,3991],"valid"],[[3992,3992],"disallowed"],[[3993,3996],"valid"],[[3997,3997],"mapped",[3996,4023]],[[3998,4001],"valid"],[[4002,4002],"mapped",[4001,4023]],[[4003,4006],"valid"],[[4007,4007],"mapped",[4006,4023]],[[4008,4011],"valid"],[[4012,4012],"mapped",[4011,4023]],[[4013,4013],"valid"],[[4014,4016],"valid"],[[4017,4023],"valid"],[[4024,4024],"valid"],[[4025,4025],"mapped",[3984,4021]],[[4026,4028],"valid"],[[4029,4029],"disallowed"],[[4030,4037],"valid",[],"NV8"],[[4038,4038],"valid"],[[4039,4044],"valid",[],"NV8"],[[4045,4045],"disallowed"],[[4046,4046],"valid",[],"NV8"],[[4047,4047],"valid",[],"NV8"],[[4048,4049],"valid",[],"NV8"],[[4050,4052],"valid",[],"NV8"],[[4053,4056],"valid",[],"NV8"],[[4057,4058],"valid",[],"NV8"],[[4059,4095],"disallowed"],[[4096,4129],"valid"],[[4130,4130],"valid"],[[4131,4135],"valid"],[[4136,4136],"valid"],[[4137,4138],"valid"],[[4139,4139],"valid"],[[4140,4146],"valid"],[[4147,4149],"valid"],[[4150,4153],"valid"],[[4154,4159],"valid"],[[4160,4169],"valid"],[[4170,4175],"valid",[],"NV8"],[[4176,4185],"valid"],[[4186,4249],"valid"],[[4250,4253],"valid"],[[4254,4255],"valid",[],"NV8"],[[4256,4293],"disallowed"],[[4294,4294],"disallowed"],[[4295,4295],"mapped",[11559]],[[4296,4300],"disallowed"],[[4301,4301],"mapped",[11565]],[[4302,4303],"disallowed"],[[4304,4342],"valid"],[[4343,4344],"valid"],[[4345,4346],"valid"],[[4347,4347],"valid",[],"NV8"],[[4348,4348],"mapped",[4316]],[[4349,4351],"valid"],[[4352,4441],"valid",[],"NV8"],[[4442,4446],"valid",[],"NV8"],[[4447,4448],"disallowed"],[[4449,4514],"valid",[],"NV8"],[[4515,4519],"valid",[],"NV8"],[[4520,4601],"valid",[],"NV8"],[[4602,4607],"valid",[],"NV8"],[[4608,4614],"valid"],[[4615,4615],"valid"],[[4616,4678],"valid"],[[4679,4679],"valid"],[[4680,4680],"valid"],[[4681,4681],"disallowed"],[[4682,4685],"valid"],[[4686,4687],"disallowed"],[[4688,4694],"valid"],[[4695,4695],"disallowed"],[[4696,4696],"valid"],[[4697,4697],"disallowed"],[[4698,4701],"valid"],[[4702,4703],"disallowed"],[[4704,4742],"valid"],[[4743,4743],"valid"],[[4744,4744],"valid"],[[4745,4745],"disallowed"],[[4746,4749],"valid"],[[4750,4751],"disallowed"],[[4752,4782],"valid"],[[4783,4783],"valid"],[[4784,4784],"valid"],[[4785,4785],"disallowed"],[[4786,4789],"valid"],[[4790,4791],"disallowed"],[[4792,4798],"valid"],[[4799,4799],"disallowed"],[[4800,4800],"valid"],[[4801,4801],"disallowed"],[[4802,4805],"valid"],[[4806,4807],"disallowed"],[[4808,4814],"valid"],[[4815,4815],"valid"],[[4816,4822],"valid"],[[4823,4823],"disallowed"],[[4824,4846],"valid"],[[4847,4847],"valid"],[[4848,4878],"valid"],[[4879,4879],"valid"],[[4880,4880],"valid"],[[4881,4881],"disallowed"],[[4882,4885],"valid"],[[4886,4887],"disallowed"],[[4888,4894],"valid"],[[4895,4895],"valid"],[[4896,4934],"valid"],[[4935,4935],"valid"],[[4936,4954],"valid"],[[4955,4956],"disallowed"],[[4957,4958],"valid"],[[4959,4959],"valid"],[[4960,4960],"valid",[],"NV8"],[[4961,4988],"valid",[],"NV8"],[[4989,4991],"disallowed"],[[4992,5007],"valid"],[[5008,5017],"valid",[],"NV8"],[[5018,5023],"disallowed"],[[5024,5108],"valid"],[[5109,5109],"valid"],[[5110,5111],"disallowed"],[[5112,5112],"mapped",[5104]],[[5113,5113],"mapped",[5105]],[[5114,5114],"mapped",[5106]],[[5115,5115],"mapped",[5107]],[[5116,5116],"mapped",[5108]],[[5117,5117],"mapped",[5109]],[[5118,5119],"disallowed"],[[5120,5120],"valid",[],"NV8"],[[5121,5740],"valid"],[[5741,5742],"valid",[],"NV8"],[[5743,5750],"valid"],[[5751,5759],"valid"],[[5760,5760],"disallowed"],[[5761,5786],"valid"],[[5787,5788],"valid",[],"NV8"],[[5789,5791],"disallowed"],[[5792,5866],"valid"],[[5867,5872],"valid",[],"NV8"],[[5873,5880],"valid"],[[5881,5887],"disallowed"],[[5888,5900],"valid"],[[5901,5901],"disallowed"],[[5902,5908],"valid"],[[5909,5919],"disallowed"],[[5920,5940],"valid"],[[5941,5942],"valid",[],"NV8"],[[5943,5951],"disallowed"],[[5952,5971],"valid"],[[5972,5983],"disallowed"],[[5984,5996],"valid"],[[5997,5997],"disallowed"],[[5998,6e3],"valid"],[[6001,6001],"disallowed"],[[6002,6003],"valid"],[[6004,6015],"disallowed"],[[6016,6067],"valid"],[[6068,6069],"disallowed"],[[6070,6099],"valid"],[[6100,6102],"valid",[],"NV8"],[[6103,6103],"valid"],[[6104,6107],"valid",[],"NV8"],[[6108,6108],"valid"],[[6109,6109],"valid"],[[6110,6111],"disallowed"],[[6112,6121],"valid"],[[6122,6127],"disallowed"],[[6128,6137],"valid",[],"NV8"],[[6138,6143],"disallowed"],[[6144,6149],"valid",[],"NV8"],[[6150,6150],"disallowed"],[[6151,6154],"valid",[],"NV8"],[[6155,6157],"ignored"],[[6158,6158],"disallowed"],[[6159,6159],"disallowed"],[[6160,6169],"valid"],[[6170,6175],"disallowed"],[[6176,6263],"valid"],[[6264,6271],"disallowed"],[[6272,6313],"valid"],[[6314,6314],"valid"],[[6315,6319],"disallowed"],[[6320,6389],"valid"],[[6390,6399],"disallowed"],[[6400,6428],"valid"],[[6429,6430],"valid"],[[6431,6431],"disallowed"],[[6432,6443],"valid"],[[6444,6447],"disallowed"],[[6448,6459],"valid"],[[6460,6463],"disallowed"],[[6464,6464],"valid",[],"NV8"],[[6465,6467],"disallowed"],[[6468,6469],"valid",[],"NV8"],[[6470,6509],"valid"],[[6510,6511],"disallowed"],[[6512,6516],"valid"],[[6517,6527],"disallowed"],[[6528,6569],"valid"],[[6570,6571],"valid"],[[6572,6575],"disallowed"],[[6576,6601],"valid"],[[6602,6607],"disallowed"],[[6608,6617],"valid"],[[6618,6618],"valid",[],"XV8"],[[6619,6621],"disallowed"],[[6622,6623],"valid",[],"NV8"],[[6624,6655],"valid",[],"NV8"],[[6656,6683],"valid"],[[6684,6685],"disallowed"],[[6686,6687],"valid",[],"NV8"],[[6688,6750],"valid"],[[6751,6751],"disallowed"],[[6752,6780],"valid"],[[6781,6782],"disallowed"],[[6783,6793],"valid"],[[6794,6799],"disallowed"],[[6800,6809],"valid"],[[6810,6815],"disallowed"],[[6816,6822],"valid",[],"NV8"],[[6823,6823],"valid"],[[6824,6829],"valid",[],"NV8"],[[6830,6831],"disallowed"],[[6832,6845],"valid"],[[6846,6846],"valid",[],"NV8"],[[6847,6911],"disallowed"],[[6912,6987],"valid"],[[6988,6991],"disallowed"],[[6992,7001],"valid"],[[7002,7018],"valid",[],"NV8"],[[7019,7027],"valid"],[[7028,7036],"valid",[],"NV8"],[[7037,7039],"disallowed"],[[7040,7082],"valid"],[[7083,7085],"valid"],[[7086,7097],"valid"],[[7098,7103],"valid"],[[7104,7155],"valid"],[[7156,7163],"disallowed"],[[7164,7167],"valid",[],"NV8"],[[7168,7223],"valid"],[[7224,7226],"disallowed"],[[7227,7231],"valid",[],"NV8"],[[7232,7241],"valid"],[[7242,7244],"disallowed"],[[7245,7293],"valid"],[[7294,7295],"valid",[],"NV8"],[[7296,7359],"disallowed"],[[7360,7367],"valid",[],"NV8"],[[7368,7375],"disallowed"],[[7376,7378],"valid"],[[7379,7379],"valid",[],"NV8"],[[7380,7410],"valid"],[[7411,7414],"valid"],[[7415,7415],"disallowed"],[[7416,7417],"valid"],[[7418,7423],"disallowed"],[[7424,7467],"valid"],[[7468,7468],"mapped",[97]],[[7469,7469],"mapped",[230]],[[7470,7470],"mapped",[98]],[[7471,7471],"valid"],[[7472,7472],"mapped",[100]],[[7473,7473],"mapped",[101]],[[7474,7474],"mapped",[477]],[[7475,7475],"mapped",[103]],[[7476,7476],"mapped",[104]],[[7477,7477],"mapped",[105]],[[7478,7478],"mapped",[106]],[[7479,7479],"mapped",[107]],[[7480,7480],"mapped",[108]],[[7481,7481],"mapped",[109]],[[7482,7482],"mapped",[110]],[[7483,7483],"valid"],[[7484,7484],"mapped",[111]],[[7485,7485],"mapped",[547]],[[7486,7486],"mapped",[112]],[[7487,7487],"mapped",[114]],[[7488,7488],"mapped",[116]],[[7489,7489],"mapped",[117]],[[7490,7490],"mapped",[119]],[[7491,7491],"mapped",[97]],[[7492,7492],"mapped",[592]],[[7493,7493],"mapped",[593]],[[7494,7494],"mapped",[7426]],[[7495,7495],"mapped",[98]],[[7496,7496],"mapped",[100]],[[7497,7497],"mapped",[101]],[[7498,7498],"mapped",[601]],[[7499,7499],"mapped",[603]],[[7500,7500],"mapped",[604]],[[7501,7501],"mapped",[103]],[[7502,7502],"valid"],[[7503,7503],"mapped",[107]],[[7504,7504],"mapped",[109]],[[7505,7505],"mapped",[331]],[[7506,7506],"mapped",[111]],[[7507,7507],"mapped",[596]],[[7508,7508],"mapped",[7446]],[[7509,7509],"mapped",[7447]],[[7510,7510],"mapped",[112]],[[7511,7511],"mapped",[116]],[[7512,7512],"mapped",[117]],[[7513,7513],"mapped",[7453]],[[7514,7514],"mapped",[623]],[[7515,7515],"mapped",[118]],[[7516,7516],"mapped",[7461]],[[7517,7517],"mapped",[946]],[[7518,7518],"mapped",[947]],[[7519,7519],"mapped",[948]],[[7520,7520],"mapped",[966]],[[7521,7521],"mapped",[967]],[[7522,7522],"mapped",[105]],[[7523,7523],"mapped",[114]],[[7524,7524],"mapped",[117]],[[7525,7525],"mapped",[118]],[[7526,7526],"mapped",[946]],[[7527,7527],"mapped",[947]],[[7528,7528],"mapped",[961]],[[7529,7529],"mapped",[966]],[[7530,7530],"mapped",[967]],[[7531,7531],"valid"],[[7532,7543],"valid"],[[7544,7544],"mapped",[1085]],[[7545,7578],"valid"],[[7579,7579],"mapped",[594]],[[7580,7580],"mapped",[99]],[[7581,7581],"mapped",[597]],[[7582,7582],"mapped",[240]],[[7583,7583],"mapped",[604]],[[7584,7584],"mapped",[102]],[[7585,7585],"mapped",[607]],[[7586,7586],"mapped",[609]],[[7587,7587],"mapped",[613]],[[7588,7588],"mapped",[616]],[[7589,7589],"mapped",[617]],[[7590,7590],"mapped",[618]],[[7591,7591],"mapped",[7547]],[[7592,7592],"mapped",[669]],[[7593,7593],"mapped",[621]],[[7594,7594],"mapped",[7557]],[[7595,7595],"mapped",[671]],[[7596,7596],"mapped",[625]],[[7597,7597],"mapped",[624]],[[7598,7598],"mapped",[626]],[[7599,7599],"mapped",[627]],[[7600,7600],"mapped",[628]],[[7601,7601],"mapped",[629]],[[7602,7602],"mapped",[632]],[[7603,7603],"mapped",[642]],[[7604,7604],"mapped",[643]],[[7605,7605],"mapped",[427]],[[7606,7606],"mapped",[649]],[[7607,7607],"mapped",[650]],[[7608,7608],"mapped",[7452]],[[7609,7609],"mapped",[651]],[[7610,7610],"mapped",[652]],[[7611,7611],"mapped",[122]],[[7612,7612],"mapped",[656]],[[7613,7613],"mapped",[657]],[[7614,7614],"mapped",[658]],[[7615,7615],"mapped",[952]],[[7616,7619],"valid"],[[7620,7626],"valid"],[[7627,7654],"valid"],[[7655,7669],"valid"],[[7670,7675],"disallowed"],[[7676,7676],"valid"],[[7677,7677],"valid"],[[7678,7679],"valid"],[[7680,7680],"mapped",[7681]],[[7681,7681],"valid"],[[7682,7682],"mapped",[7683]],[[7683,7683],"valid"],[[7684,7684],"mapped",[7685]],[[7685,7685],"valid"],[[7686,7686],"mapped",[7687]],[[7687,7687],"valid"],[[7688,7688],"mapped",[7689]],[[7689,7689],"valid"],[[7690,7690],"mapped",[7691]],[[7691,7691],"valid"],[[7692,7692],"mapped",[7693]],[[7693,7693],"valid"],[[7694,7694],"mapped",[7695]],[[7695,7695],"valid"],[[7696,7696],"mapped",[7697]],[[7697,7697],"valid"],[[7698,7698],"mapped",[7699]],[[7699,7699],"valid"],[[7700,7700],"mapped",[7701]],[[7701,7701],"valid"],[[7702,7702],"mapped",[7703]],[[7703,7703],"valid"],[[7704,7704],"mapped",[7705]],[[7705,7705],"valid"],[[7706,7706],"mapped",[7707]],[[7707,7707],"valid"],[[7708,7708],"mapped",[7709]],[[7709,7709],"valid"],[[7710,7710],"mapped",[7711]],[[7711,7711],"valid"],[[7712,7712],"mapped",[7713]],[[7713,7713],"valid"],[[7714,7714],"mapped",[7715]],[[7715,7715],"valid"],[[7716,7716],"mapped",[7717]],[[7717,7717],"valid"],[[7718,7718],"mapped",[7719]],[[7719,7719],"valid"],[[7720,7720],"mapped",[7721]],[[7721,7721],"valid"],[[7722,7722],"mapped",[7723]],[[7723,7723],"valid"],[[7724,7724],"mapped",[7725]],[[7725,7725],"valid"],[[7726,7726],"mapped",[7727]],[[7727,7727],"valid"],[[7728,7728],"mapped",[7729]],[[7729,7729],"valid"],[[7730,7730],"mapped",[7731]],[[7731,7731],"valid"],[[7732,7732],"mapped",[7733]],[[7733,7733],"valid"],[[7734,7734],"mapped",[7735]],[[7735,7735],"valid"],[[7736,7736],"mapped",[7737]],[[7737,7737],"valid"],[[7738,7738],"mapped",[7739]],[[7739,7739],"valid"],[[7740,7740],"mapped",[7741]],[[7741,7741],"valid"],[[7742,7742],"mapped",[7743]],[[7743,7743],"valid"],[[7744,7744],"mapped",[7745]],[[7745,7745],"valid"],[[7746,7746],"mapped",[7747]],[[7747,7747],"valid"],[[7748,7748],"mapped",[7749]],[[7749,7749],"valid"],[[7750,7750],"mapped",[7751]],[[7751,7751],"valid"],[[7752,7752],"mapped",[7753]],[[7753,7753],"valid"],[[7754,7754],"mapped",[7755]],[[7755,7755],"valid"],[[7756,7756],"mapped",[7757]],[[7757,7757],"valid"],[[7758,7758],"mapped",[7759]],[[7759,7759],"valid"],[[7760,7760],"mapped",[7761]],[[7761,7761],"valid"],[[7762,7762],"mapped",[7763]],[[7763,7763],"valid"],[[7764,7764],"mapped",[7765]],[[7765,7765],"valid"],[[7766,7766],"mapped",[7767]],[[7767,7767],"valid"],[[7768,7768],"mapped",[7769]],[[7769,7769],"valid"],[[7770,7770],"mapped",[7771]],[[7771,7771],"valid"],[[7772,7772],"mapped",[7773]],[[7773,7773],"valid"],[[7774,7774],"mapped",[7775]],[[7775,7775],"valid"],[[7776,7776],"mapped",[7777]],[[7777,7777],"valid"],[[7778,7778],"mapped",[7779]],[[7779,7779],"valid"],[[7780,7780],"mapped",[7781]],[[7781,7781],"valid"],[[7782,7782],"mapped",[7783]],[[7783,7783],"valid"],[[7784,7784],"mapped",[7785]],[[7785,7785],"valid"],[[7786,7786],"mapped",[7787]],[[7787,7787],"valid"],[[7788,7788],"mapped",[7789]],[[7789,7789],"valid"],[[7790,7790],"mapped",[7791]],[[7791,7791],"valid"],[[7792,7792],"mapped",[7793]],[[7793,7793],"valid"],[[7794,7794],"mapped",[7795]],[[7795,7795],"valid"],[[7796,7796],"mapped",[7797]],[[7797,7797],"valid"],[[7798,7798],"mapped",[7799]],[[7799,7799],"valid"],[[7800,7800],"mapped",[7801]],[[7801,7801],"valid"],[[7802,7802],"mapped",[7803]],[[7803,7803],"valid"],[[7804,7804],"mapped",[7805]],[[7805,7805],"valid"],[[7806,7806],"mapped",[7807]],[[7807,7807],"valid"],[[7808,7808],"mapped",[7809]],[[7809,7809],"valid"],[[7810,7810],"mapped",[7811]],[[7811,7811],"valid"],[[7812,7812],"mapped",[7813]],[[7813,7813],"valid"],[[7814,7814],"mapped",[7815]],[[7815,7815],"valid"],[[7816,7816],"mapped",[7817]],[[7817,7817],"valid"],[[7818,7818],"mapped",[7819]],[[7819,7819],"valid"],[[7820,7820],"mapped",[7821]],[[7821,7821],"valid"],[[7822,7822],"mapped",[7823]],[[7823,7823],"valid"],[[7824,7824],"mapped",[7825]],[[7825,7825],"valid"],[[7826,7826],"mapped",[7827]],[[7827,7827],"valid"],[[7828,7828],"mapped",[7829]],[[7829,7833],"valid"],[[7834,7834],"mapped",[97,702]],[[7835,7835],"mapped",[7777]],[[7836,7837],"valid"],[[7838,7838],"mapped",[115,115]],[[7839,7839],"valid"],[[7840,7840],"mapped",[7841]],[[7841,7841],"valid"],[[7842,7842],"mapped",[7843]],[[7843,7843],"valid"],[[7844,7844],"mapped",[7845]],[[7845,7845],"valid"],[[7846,7846],"mapped",[7847]],[[7847,7847],"valid"],[[7848,7848],"mapped",[7849]],[[7849,7849],"valid"],[[7850,7850],"mapped",[7851]],[[7851,7851],"valid"],[[7852,7852],"mapped",[7853]],[[7853,7853],"valid"],[[7854,7854],"mapped",[7855]],[[7855,7855],"valid"],[[7856,7856],"mapped",[7857]],[[7857,7857],"valid"],[[7858,7858],"mapped",[7859]],[[7859,7859],"valid"],[[7860,7860],"mapped",[7861]],[[7861,7861],"valid"],[[7862,7862],"mapped",[7863]],[[7863,7863],"valid"],[[7864,7864],"mapped",[7865]],[[7865,7865],"valid"],[[7866,7866],"mapped",[7867]],[[7867,7867],"valid"],[[7868,7868],"mapped",[7869]],[[7869,7869],"valid"],[[7870,7870],"mapped",[7871]],[[7871,7871],"valid"],[[7872,7872],"mapped",[7873]],[[7873,7873],"valid"],[[7874,7874],"mapped",[7875]],[[7875,7875],"valid"],[[7876,7876],"mapped",[7877]],[[7877,7877],"valid"],[[7878,7878],"mapped",[7879]],[[7879,7879],"valid"],[[7880,7880],"mapped",[7881]],[[7881,7881],"valid"],[[7882,7882],"mapped",[7883]],[[7883,7883],"valid"],[[7884,7884],"mapped",[7885]],[[7885,7885],"valid"],[[7886,7886],"mapped",[7887]],[[7887,7887],"valid"],[[7888,7888],"mapped",[7889]],[[7889,7889],"valid"],[[7890,7890],"mapped",[7891]],[[7891,7891],"valid"],[[7892,7892],"mapped",[7893]],[[7893,7893],"valid"],[[7894,7894],"mapped",[7895]],[[7895,7895],"valid"],[[7896,7896],"mapped",[7897]],[[7897,7897],"valid"],[[7898,7898],"mapped",[7899]],[[7899,7899],"valid"],[[7900,7900],"mapped",[7901]],[[7901,7901],"valid"],[[7902,7902],"mapped",[7903]],[[7903,7903],"valid"],[[7904,7904],"mapped",[7905]],[[7905,7905],"valid"],[[7906,7906],"mapped",[7907]],[[7907,7907],"valid"],[[7908,7908],"mapped",[7909]],[[7909,7909],"valid"],[[7910,7910],"mapped",[7911]],[[7911,7911],"valid"],[[7912,7912],"mapped",[7913]],[[7913,7913],"valid"],[[7914,7914],"mapped",[7915]],[[7915,7915],"valid"],[[7916,7916],"mapped",[7917]],[[7917,7917],"valid"],[[7918,7918],"mapped",[7919]],[[7919,7919],"valid"],[[7920,7920],"mapped",[7921]],[[7921,7921],"valid"],[[7922,7922],"mapped",[7923]],[[7923,7923],"valid"],[[7924,7924],"mapped",[7925]],[[7925,7925],"valid"],[[7926,7926],"mapped",[7927]],[[7927,7927],"valid"],[[7928,7928],"mapped",[7929]],[[7929,7929],"valid"],[[7930,7930],"mapped",[7931]],[[7931,7931],"valid"],[[7932,7932],"mapped",[7933]],[[7933,7933],"valid"],[[7934,7934],"mapped",[7935]],[[7935,7935],"valid"],[[7936,7943],"valid"],[[7944,7944],"mapped",[7936]],[[7945,7945],"mapped",[7937]],[[7946,7946],"mapped",[7938]],[[7947,7947],"mapped",[7939]],[[7948,7948],"mapped",[7940]],[[7949,7949],"mapped",[7941]],[[7950,7950],"mapped",[7942]],[[7951,7951],"mapped",[7943]],[[7952,7957],"valid"],[[7958,7959],"disallowed"],[[7960,7960],"mapped",[7952]],[[7961,7961],"mapped",[7953]],[[7962,7962],"mapped",[7954]],[[7963,7963],"mapped",[7955]],[[7964,7964],"mapped",[7956]],[[7965,7965],"mapped",[7957]],[[7966,7967],"disallowed"],[[7968,7975],"valid"],[[7976,7976],"mapped",[7968]],[[7977,7977],"mapped",[7969]],[[7978,7978],"mapped",[7970]],[[7979,7979],"mapped",[7971]],[[7980,7980],"mapped",[7972]],[[7981,7981],"mapped",[7973]],[[7982,7982],"mapped",[7974]],[[7983,7983],"mapped",[7975]],[[7984,7991],"valid"],[[7992,7992],"mapped",[7984]],[[7993,7993],"mapped",[7985]],[[7994,7994],"mapped",[7986]],[[7995,7995],"mapped",[7987]],[[7996,7996],"mapped",[7988]],[[7997,7997],"mapped",[7989]],[[7998,7998],"mapped",[7990]],[[7999,7999],"mapped",[7991]],[[8e3,8005],"valid"],[[8006,8007],"disallowed"],[[8008,8008],"mapped",[8e3]],[[8009,8009],"mapped",[8001]],[[8010,8010],"mapped",[8002]],[[8011,8011],"mapped",[8003]],[[8012,8012],"mapped",[8004]],[[8013,8013],"mapped",[8005]],[[8014,8015],"disallowed"],[[8016,8023],"valid"],[[8024,8024],"disallowed"],[[8025,8025],"mapped",[8017]],[[8026,8026],"disallowed"],[[8027,8027],"mapped",[8019]],[[8028,8028],"disallowed"],[[8029,8029],"mapped",[8021]],[[8030,8030],"disallowed"],[[8031,8031],"mapped",[8023]],[[8032,8039],"valid"],[[8040,8040],"mapped",[8032]],[[8041,8041],"mapped",[8033]],[[8042,8042],"mapped",[8034]],[[8043,8043],"mapped",[8035]],[[8044,8044],"mapped",[8036]],[[8045,8045],"mapped",[8037]],[[8046,8046],"mapped",[8038]],[[8047,8047],"mapped",[8039]],[[8048,8048],"valid"],[[8049,8049],"mapped",[940]],[[8050,8050],"valid"],[[8051,8051],"mapped",[941]],[[8052,8052],"valid"],[[8053,8053],"mapped",[942]],[[8054,8054],"valid"],[[8055,8055],"mapped",[943]],[[8056,8056],"valid"],[[8057,8057],"mapped",[972]],[[8058,8058],"valid"],[[8059,8059],"mapped",[973]],[[8060,8060],"valid"],[[8061,8061],"mapped",[974]],[[8062,8063],"disallowed"],[[8064,8064],"mapped",[7936,953]],[[8065,8065],"mapped",[7937,953]],[[8066,8066],"mapped",[7938,953]],[[8067,8067],"mapped",[7939,953]],[[8068,8068],"mapped",[7940,953]],[[8069,8069],"mapped",[7941,953]],[[8070,8070],"mapped",[7942,953]],[[8071,8071],"mapped",[7943,953]],[[8072,8072],"mapped",[7936,953]],[[8073,8073],"mapped",[7937,953]],[[8074,8074],"mapped",[7938,953]],[[8075,8075],"mapped",[7939,953]],[[8076,8076],"mapped",[7940,953]],[[8077,8077],"mapped",[7941,953]],[[8078,8078],"mapped",[7942,953]],[[8079,8079],"mapped",[7943,953]],[[8080,8080],"mapped",[7968,953]],[[8081,8081],"mapped",[7969,953]],[[8082,8082],"mapped",[7970,953]],[[8083,8083],"mapped",[7971,953]],[[8084,8084],"mapped",[7972,953]],[[8085,8085],"mapped",[7973,953]],[[8086,8086],"mapped",[7974,953]],[[8087,8087],"mapped",[7975,953]],[[8088,8088],"mapped",[7968,953]],[[8089,8089],"mapped",[7969,953]],[[8090,8090],"mapped",[7970,953]],[[8091,8091],"mapped",[7971,953]],[[8092,8092],"mapped",[7972,953]],[[8093,8093],"mapped",[7973,953]],[[8094,8094],"mapped",[7974,953]],[[8095,8095],"mapped",[7975,953]],[[8096,8096],"mapped",[8032,953]],[[8097,8097],"mapped",[8033,953]],[[8098,8098],"mapped",[8034,953]],[[8099,8099],"mapped",[8035,953]],[[8100,8100],"mapped",[8036,953]],[[8101,8101],"mapped",[8037,953]],[[8102,8102],"mapped",[8038,953]],[[8103,8103],"mapped",[8039,953]],[[8104,8104],"mapped",[8032,953]],[[8105,8105],"mapped",[8033,953]],[[8106,8106],"mapped",[8034,953]],[[8107,8107],"mapped",[8035,953]],[[8108,8108],"mapped",[8036,953]],[[8109,8109],"mapped",[8037,953]],[[8110,8110],"mapped",[8038,953]],[[8111,8111],"mapped",[8039,953]],[[8112,8113],"valid"],[[8114,8114],"mapped",[8048,953]],[[8115,8115],"mapped",[945,953]],[[8116,8116],"mapped",[940,953]],[[8117,8117],"disallowed"],[[8118,8118],"valid"],[[8119,8119],"mapped",[8118,953]],[[8120,8120],"mapped",[8112]],[[8121,8121],"mapped",[8113]],[[8122,8122],"mapped",[8048]],[[8123,8123],"mapped",[940]],[[8124,8124],"mapped",[945,953]],[[8125,8125],"disallowed_STD3_mapped",[32,787]],[[8126,8126],"mapped",[953]],[[8127,8127],"disallowed_STD3_mapped",[32,787]],[[8128,8128],"disallowed_STD3_mapped",[32,834]],[[8129,8129],"disallowed_STD3_mapped",[32,776,834]],[[8130,8130],"mapped",[8052,953]],[[8131,8131],"mapped",[951,953]],[[8132,8132],"mapped",[942,953]],[[8133,8133],"disallowed"],[[8134,8134],"valid"],[[8135,8135],"mapped",[8134,953]],[[8136,8136],"mapped",[8050]],[[8137,8137],"mapped",[941]],[[8138,8138],"mapped",[8052]],[[8139,8139],"mapped",[942]],[[8140,8140],"mapped",[951,953]],[[8141,8141],"disallowed_STD3_mapped",[32,787,768]],[[8142,8142],"disallowed_STD3_mapped",[32,787,769]],[[8143,8143],"disallowed_STD3_mapped",[32,787,834]],[[8144,8146],"valid"],[[8147,8147],"mapped",[912]],[[8148,8149],"disallowed"],[[8150,8151],"valid"],[[8152,8152],"mapped",[8144]],[[8153,8153],"mapped",[8145]],[[8154,8154],"mapped",[8054]],[[8155,8155],"mapped",[943]],[[8156,8156],"disallowed"],[[8157,8157],"disallowed_STD3_mapped",[32,788,768]],[[8158,8158],"disallowed_STD3_mapped",[32,788,769]],[[8159,8159],"disallowed_STD3_mapped",[32,788,834]],[[8160,8162],"valid"],[[8163,8163],"mapped",[944]],[[8164,8167],"valid"],[[8168,8168],"mapped",[8160]],[[8169,8169],"mapped",[8161]],[[8170,8170],"mapped",[8058]],[[8171,8171],"mapped",[973]],[[8172,8172],"mapped",[8165]],[[8173,8173],"disallowed_STD3_mapped",[32,776,768]],[[8174,8174],"disallowed_STD3_mapped",[32,776,769]],[[8175,8175],"disallowed_STD3_mapped",[96]],[[8176,8177],"disallowed"],[[8178,8178],"mapped",[8060,953]],[[8179,8179],"mapped",[969,953]],[[8180,8180],"mapped",[974,953]],[[8181,8181],"disallowed"],[[8182,8182],"valid"],[[8183,8183],"mapped",[8182,953]],[[8184,8184],"mapped",[8056]],[[8185,8185],"mapped",[972]],[[8186,8186],"mapped",[8060]],[[8187,8187],"mapped",[974]],[[8188,8188],"mapped",[969,953]],[[8189,8189],"disallowed_STD3_mapped",[32,769]],[[8190,8190],"disallowed_STD3_mapped",[32,788]],[[8191,8191],"disallowed"],[[8192,8202],"disallowed_STD3_mapped",[32]],[[8203,8203],"ignored"],[[8204,8205],"deviation",[]],[[8206,8207],"disallowed"],[[8208,8208],"valid",[],"NV8"],[[8209,8209],"mapped",[8208]],[[8210,8214],"valid",[],"NV8"],[[8215,8215],"disallowed_STD3_mapped",[32,819]],[[8216,8227],"valid",[],"NV8"],[[8228,8230],"disallowed"],[[8231,8231],"valid",[],"NV8"],[[8232,8238],"disallowed"],[[8239,8239],"disallowed_STD3_mapped",[32]],[[8240,8242],"valid",[],"NV8"],[[8243,8243],"mapped",[8242,8242]],[[8244,8244],"mapped",[8242,8242,8242]],[[8245,8245],"valid",[],"NV8"],[[8246,8246],"mapped",[8245,8245]],[[8247,8247],"mapped",[8245,8245,8245]],[[8248,8251],"valid",[],"NV8"],[[8252,8252],"disallowed_STD3_mapped",[33,33]],[[8253,8253],"valid",[],"NV8"],[[8254,8254],"disallowed_STD3_mapped",[32,773]],[[8255,8262],"valid",[],"NV8"],[[8263,8263],"disallowed_STD3_mapped",[63,63]],[[8264,8264],"disallowed_STD3_mapped",[63,33]],[[8265,8265],"disallowed_STD3_mapped",[33,63]],[[8266,8269],"valid",[],"NV8"],[[8270,8274],"valid",[],"NV8"],[[8275,8276],"valid",[],"NV8"],[[8277,8278],"valid",[],"NV8"],[[8279,8279],"mapped",[8242,8242,8242,8242]],[[8280,8286],"valid",[],"NV8"],[[8287,8287],"disallowed_STD3_mapped",[32]],[[8288,8288],"ignored"],[[8289,8291],"disallowed"],[[8292,8292],"ignored"],[[8293,8293],"disallowed"],[[8294,8297],"disallowed"],[[8298,8303],"disallowed"],[[8304,8304],"mapped",[48]],[[8305,8305],"mapped",[105]],[[8306,8307],"disallowed"],[[8308,8308],"mapped",[52]],[[8309,8309],"mapped",[53]],[[8310,8310],"mapped",[54]],[[8311,8311],"mapped",[55]],[[8312,8312],"mapped",[56]],[[8313,8313],"mapped",[57]],[[8314,8314],"disallowed_STD3_mapped",[43]],[[8315,8315],"mapped",[8722]],[[8316,8316],"disallowed_STD3_mapped",[61]],[[8317,8317],"disallowed_STD3_mapped",[40]],[[8318,8318],"disallowed_STD3_mapped",[41]],[[8319,8319],"mapped",[110]],[[8320,8320],"mapped",[48]],[[8321,8321],"mapped",[49]],[[8322,8322],"mapped",[50]],[[8323,8323],"mapped",[51]],[[8324,8324],"mapped",[52]],[[8325,8325],"mapped",[53]],[[8326,8326],"mapped",[54]],[[8327,8327],"mapped",[55]],[[8328,8328],"mapped",[56]],[[8329,8329],"mapped",[57]],[[8330,8330],"disallowed_STD3_mapped",[43]],[[8331,8331],"mapped",[8722]],[[8332,8332],"disallowed_STD3_mapped",[61]],[[8333,8333],"disallowed_STD3_mapped",[40]],[[8334,8334],"disallowed_STD3_mapped",[41]],[[8335,8335],"disallowed"],[[8336,8336],"mapped",[97]],[[8337,8337],"mapped",[101]],[[8338,8338],"mapped",[111]],[[8339,8339],"mapped",[120]],[[8340,8340],"mapped",[601]],[[8341,8341],"mapped",[104]],[[8342,8342],"mapped",[107]],[[8343,8343],"mapped",[108]],[[8344,8344],"mapped",[109]],[[8345,8345],"mapped",[110]],[[8346,8346],"mapped",[112]],[[8347,8347],"mapped",[115]],[[8348,8348],"mapped",[116]],[[8349,8351],"disallowed"],[[8352,8359],"valid",[],"NV8"],[[8360,8360],"mapped",[114,115]],[[8361,8362],"valid",[],"NV8"],[[8363,8363],"valid",[],"NV8"],[[8364,8364],"valid",[],"NV8"],[[8365,8367],"valid",[],"NV8"],[[8368,8369],"valid",[],"NV8"],[[8370,8373],"valid",[],"NV8"],[[8374,8376],"valid",[],"NV8"],[[8377,8377],"valid",[],"NV8"],[[8378,8378],"valid",[],"NV8"],[[8379,8381],"valid",[],"NV8"],[[8382,8382],"valid",[],"NV8"],[[8383,8399],"disallowed"],[[8400,8417],"valid",[],"NV8"],[[8418,8419],"valid",[],"NV8"],[[8420,8426],"valid",[],"NV8"],[[8427,8427],"valid",[],"NV8"],[[8428,8431],"valid",[],"NV8"],[[8432,8432],"valid",[],"NV8"],[[8433,8447],"disallowed"],[[8448,8448],"disallowed_STD3_mapped",[97,47,99]],[[8449,8449],"disallowed_STD3_mapped",[97,47,115]],[[8450,8450],"mapped",[99]],[[8451,8451],"mapped",[176,99]],[[8452,8452],"valid",[],"NV8"],[[8453,8453],"disallowed_STD3_mapped",[99,47,111]],[[8454,8454],"disallowed_STD3_mapped",[99,47,117]],[[8455,8455],"mapped",[603]],[[8456,8456],"valid",[],"NV8"],[[8457,8457],"mapped",[176,102]],[[8458,8458],"mapped",[103]],[[8459,8462],"mapped",[104]],[[8463,8463],"mapped",[295]],[[8464,8465],"mapped",[105]],[[8466,8467],"mapped",[108]],[[8468,8468],"valid",[],"NV8"],[[8469,8469],"mapped",[110]],[[8470,8470],"mapped",[110,111]],[[8471,8472],"valid",[],"NV8"],[[8473,8473],"mapped",[112]],[[8474,8474],"mapped",[113]],[[8475,8477],"mapped",[114]],[[8478,8479],"valid",[],"NV8"],[[8480,8480],"mapped",[115,109]],[[8481,8481],"mapped",[116,101,108]],[[8482,8482],"mapped",[116,109]],[[8483,8483],"valid",[],"NV8"],[[8484,8484],"mapped",[122]],[[8485,8485],"valid",[],"NV8"],[[8486,8486],"mapped",[969]],[[8487,8487],"valid",[],"NV8"],[[8488,8488],"mapped",[122]],[[8489,8489],"valid",[],"NV8"],[[8490,8490],"mapped",[107]],[[8491,8491],"mapped",[229]],[[8492,8492],"mapped",[98]],[[8493,8493],"mapped",[99]],[[8494,8494],"valid",[],"NV8"],[[8495,8496],"mapped",[101]],[[8497,8497],"mapped",[102]],[[8498,8498],"disallowed"],[[8499,8499],"mapped",[109]],[[8500,8500],"mapped",[111]],[[8501,8501],"mapped",[1488]],[[8502,8502],"mapped",[1489]],[[8503,8503],"mapped",[1490]],[[8504,8504],"mapped",[1491]],[[8505,8505],"mapped",[105]],[[8506,8506],"valid",[],"NV8"],[[8507,8507],"mapped",[102,97,120]],[[8508,8508],"mapped",[960]],[[8509,8510],"mapped",[947]],[[8511,8511],"mapped",[960]],[[8512,8512],"mapped",[8721]],[[8513,8516],"valid",[],"NV8"],[[8517,8518],"mapped",[100]],[[8519,8519],"mapped",[101]],[[8520,8520],"mapped",[105]],[[8521,8521],"mapped",[106]],[[8522,8523],"valid",[],"NV8"],[[8524,8524],"valid",[],"NV8"],[[8525,8525],"valid",[],"NV8"],[[8526,8526],"valid"],[[8527,8527],"valid",[],"NV8"],[[8528,8528],"mapped",[49,8260,55]],[[8529,8529],"mapped",[49,8260,57]],[[8530,8530],"mapped",[49,8260,49,48]],[[8531,8531],"mapped",[49,8260,51]],[[8532,8532],"mapped",[50,8260,51]],[[8533,8533],"mapped",[49,8260,53]],[[8534,8534],"mapped",[50,8260,53]],[[8535,8535],"mapped",[51,8260,53]],[[8536,8536],"mapped",[52,8260,53]],[[8537,8537],"mapped",[49,8260,54]],[[8538,8538],"mapped",[53,8260,54]],[[8539,8539],"mapped",[49,8260,56]],[[8540,8540],"mapped",[51,8260,56]],[[8541,8541],"mapped",[53,8260,56]],[[8542,8542],"mapped",[55,8260,56]],[[8543,8543],"mapped",[49,8260]],[[8544,8544],"mapped",[105]],[[8545,8545],"mapped",[105,105]],[[8546,8546],"mapped",[105,105,105]],[[8547,8547],"mapped",[105,118]],[[8548,8548],"mapped",[118]],[[8549,8549],"mapped",[118,105]],[[8550,8550],"mapped",[118,105,105]],[[8551,8551],"mapped",[118,105,105,105]],[[8552,8552],"mapped",[105,120]],[[8553,8553],"mapped",[120]],[[8554,8554],"mapped",[120,105]],[[8555,8555],"mapped",[120,105,105]],[[8556,8556],"mapped",[108]],[[8557,8557],"mapped",[99]],[[8558,8558],"mapped",[100]],[[8559,8559],"mapped",[109]],[[8560,8560],"mapped",[105]],[[8561,8561],"mapped",[105,105]],[[8562,8562],"mapped",[105,105,105]],[[8563,8563],"mapped",[105,118]],[[8564,8564],"mapped",[118]],[[8565,8565],"mapped",[118,105]],[[8566,8566],"mapped",[118,105,105]],[[8567,8567],"mapped",[118,105,105,105]],[[8568,8568],"mapped",[105,120]],[[8569,8569],"mapped",[120]],[[8570,8570],"mapped",[120,105]],[[8571,8571],"mapped",[120,105,105]],[[8572,8572],"mapped",[108]],[[8573,8573],"mapped",[99]],[[8574,8574],"mapped",[100]],[[8575,8575],"mapped",[109]],[[8576,8578],"valid",[],"NV8"],[[8579,8579],"disallowed"],[[8580,8580],"valid"],[[8581,8584],"valid",[],"NV8"],[[8585,8585],"mapped",[48,8260,51]],[[8586,8587],"valid",[],"NV8"],[[8588,8591],"disallowed"],[[8592,8682],"valid",[],"NV8"],[[8683,8691],"valid",[],"NV8"],[[8692,8703],"valid",[],"NV8"],[[8704,8747],"valid",[],"NV8"],[[8748,8748],"mapped",[8747,8747]],[[8749,8749],"mapped",[8747,8747,8747]],[[8750,8750],"valid",[],"NV8"],[[8751,8751],"mapped",[8750,8750]],[[8752,8752],"mapped",[8750,8750,8750]],[[8753,8799],"valid",[],"NV8"],[[8800,8800],"disallowed_STD3_valid"],[[8801,8813],"valid",[],"NV8"],[[8814,8815],"disallowed_STD3_valid"],[[8816,8945],"valid",[],"NV8"],[[8946,8959],"valid",[],"NV8"],[[8960,8960],"valid",[],"NV8"],[[8961,8961],"valid",[],"NV8"],[[8962,9e3],"valid",[],"NV8"],[[9001,9001],"mapped",[12296]],[[9002,9002],"mapped",[12297]],[[9003,9082],"valid",[],"NV8"],[[9083,9083],"valid",[],"NV8"],[[9084,9084],"valid",[],"NV8"],[[9085,9114],"valid",[],"NV8"],[[9115,9166],"valid",[],"NV8"],[[9167,9168],"valid",[],"NV8"],[[9169,9179],"valid",[],"NV8"],[[9180,9191],"valid",[],"NV8"],[[9192,9192],"valid",[],"NV8"],[[9193,9203],"valid",[],"NV8"],[[9204,9210],"valid",[],"NV8"],[[9211,9215],"disallowed"],[[9216,9252],"valid",[],"NV8"],[[9253,9254],"valid",[],"NV8"],[[9255,9279],"disallowed"],[[9280,9290],"valid",[],"NV8"],[[9291,9311],"disallowed"],[[9312,9312],"mapped",[49]],[[9313,9313],"mapped",[50]],[[9314,9314],"mapped",[51]],[[9315,9315],"mapped",[52]],[[9316,9316],"mapped",[53]],[[9317,9317],"mapped",[54]],[[9318,9318],"mapped",[55]],[[9319,9319],"mapped",[56]],[[9320,9320],"mapped",[57]],[[9321,9321],"mapped",[49,48]],[[9322,9322],"mapped",[49,49]],[[9323,9323],"mapped",[49,50]],[[9324,9324],"mapped",[49,51]],[[9325,9325],"mapped",[49,52]],[[9326,9326],"mapped",[49,53]],[[9327,9327],"mapped",[49,54]],[[9328,9328],"mapped",[49,55]],[[9329,9329],"mapped",[49,56]],[[9330,9330],"mapped",[49,57]],[[9331,9331],"mapped",[50,48]],[[9332,9332],"disallowed_STD3_mapped",[40,49,41]],[[9333,9333],"disallowed_STD3_mapped",[40,50,41]],[[9334,9334],"disallowed_STD3_mapped",[40,51,41]],[[9335,9335],"disallowed_STD3_mapped",[40,52,41]],[[9336,9336],"disallowed_STD3_mapped",[40,53,41]],[[9337,9337],"disallowed_STD3_mapped",[40,54,41]],[[9338,9338],"disallowed_STD3_mapped",[40,55,41]],[[9339,9339],"disallowed_STD3_mapped",[40,56,41]],[[9340,9340],"disallowed_STD3_mapped",[40,57,41]],[[9341,9341],"disallowed_STD3_mapped",[40,49,48,41]],[[9342,9342],"disallowed_STD3_mapped",[40,49,49,41]],[[9343,9343],"disallowed_STD3_mapped",[40,49,50,41]],[[9344,9344],"disallowed_STD3_mapped",[40,49,51,41]],[[9345,9345],"disallowed_STD3_mapped",[40,49,52,41]],[[9346,9346],"disallowed_STD3_mapped",[40,49,53,41]],[[9347,9347],"disallowed_STD3_mapped",[40,49,54,41]],[[9348,9348],"disallowed_STD3_mapped",[40,49,55,41]],[[9349,9349],"disallowed_STD3_mapped",[40,49,56,41]],[[9350,9350],"disallowed_STD3_mapped",[40,49,57,41]],[[9351,9351],"disallowed_STD3_mapped",[40,50,48,41]],[[9352,9371],"disallowed"],[[9372,9372],"disallowed_STD3_mapped",[40,97,41]],[[9373,9373],"disallowed_STD3_mapped",[40,98,41]],[[9374,9374],"disallowed_STD3_mapped",[40,99,41]],[[9375,9375],"disallowed_STD3_mapped",[40,100,41]],[[9376,9376],"disallowed_STD3_mapped",[40,101,41]],[[9377,9377],"disallowed_STD3_mapped",[40,102,41]],[[9378,9378],"disallowed_STD3_mapped",[40,103,41]],[[9379,9379],"disallowed_STD3_mapped",[40,104,41]],[[9380,9380],"disallowed_STD3_mapped",[40,105,41]],[[9381,9381],"disallowed_STD3_mapped",[40,106,41]],[[9382,9382],"disallowed_STD3_mapped",[40,107,41]],[[9383,9383],"disallowed_STD3_mapped",[40,108,41]],[[9384,9384],"disallowed_STD3_mapped",[40,109,41]],[[9385,9385],"disallowed_STD3_mapped",[40,110,41]],[[9386,9386],"disallowed_STD3_mapped",[40,111,41]],[[9387,9387],"disallowed_STD3_mapped",[40,112,41]],[[9388,9388],"disallowed_STD3_mapped",[40,113,41]],[[9389,9389],"disallowed_STD3_mapped",[40,114,41]],[[9390,9390],"disallowed_STD3_mapped",[40,115,41]],[[9391,9391],"disallowed_STD3_mapped",[40,116,41]],[[9392,9392],"disallowed_STD3_mapped",[40,117,41]],[[9393,9393],"disallowed_STD3_mapped",[40,118,41]],[[9394,9394],"disallowed_STD3_mapped",[40,119,41]],[[9395,9395],"disallowed_STD3_mapped",[40,120,41]],[[9396,9396],"disallowed_STD3_mapped",[40,121,41]],[[9397,9397],"disallowed_STD3_mapped",[40,122,41]],[[9398,9398],"mapped",[97]],[[9399,9399],"mapped",[98]],[[9400,9400],"mapped",[99]],[[9401,9401],"mapped",[100]],[[9402,9402],"mapped",[101]],[[9403,9403],"mapped",[102]],[[9404,9404],"mapped",[103]],[[9405,9405],"mapped",[104]],[[9406,9406],"mapped",[105]],[[9407,9407],"mapped",[106]],[[9408,9408],"mapped",[107]],[[9409,9409],"mapped",[108]],[[9410,9410],"mapped",[109]],[[9411,9411],"mapped",[110]],[[9412,9412],"mapped",[111]],[[9413,9413],"mapped",[112]],[[9414,9414],"mapped",[113]],[[9415,9415],"mapped",[114]],[[9416,9416],"mapped",[115]],[[9417,9417],"mapped",[116]],[[9418,9418],"mapped",[117]],[[9419,9419],"mapped",[118]],[[9420,9420],"mapped",[119]],[[9421,9421],"mapped",[120]],[[9422,9422],"mapped",[121]],[[9423,9423],"mapped",[122]],[[9424,9424],"mapped",[97]],[[9425,9425],"mapped",[98]],[[9426,9426],"mapped",[99]],[[9427,9427],"mapped",[100]],[[9428,9428],"mapped",[101]],[[9429,9429],"mapped",[102]],[[9430,9430],"mapped",[103]],[[9431,9431],"mapped",[104]],[[9432,9432],"mapped",[105]],[[9433,9433],"mapped",[106]],[[9434,9434],"mapped",[107]],[[9435,9435],"mapped",[108]],[[9436,9436],"mapped",[109]],[[9437,9437],"mapped",[110]],[[9438,9438],"mapped",[111]],[[9439,9439],"mapped",[112]],[[9440,9440],"mapped",[113]],[[9441,9441],"mapped",[114]],[[9442,9442],"mapped",[115]],[[9443,9443],"mapped",[116]],[[9444,9444],"mapped",[117]],[[9445,9445],"mapped",[118]],[[9446,9446],"mapped",[119]],[[9447,9447],"mapped",[120]],[[9448,9448],"mapped",[121]],[[9449,9449],"mapped",[122]],[[9450,9450],"mapped",[48]],[[9451,9470],"valid",[],"NV8"],[[9471,9471],"valid",[],"NV8"],[[9472,9621],"valid",[],"NV8"],[[9622,9631],"valid",[],"NV8"],[[9632,9711],"valid",[],"NV8"],[[9712,9719],"valid",[],"NV8"],[[9720,9727],"valid",[],"NV8"],[[9728,9747],"valid",[],"NV8"],[[9748,9749],"valid",[],"NV8"],[[9750,9751],"valid",[],"NV8"],[[9752,9752],"valid",[],"NV8"],[[9753,9753],"valid",[],"NV8"],[[9754,9839],"valid",[],"NV8"],[[9840,9841],"valid",[],"NV8"],[[9842,9853],"valid",[],"NV8"],[[9854,9855],"valid",[],"NV8"],[[9856,9865],"valid",[],"NV8"],[[9866,9873],"valid",[],"NV8"],[[9874,9884],"valid",[],"NV8"],[[9885,9885],"valid",[],"NV8"],[[9886,9887],"valid",[],"NV8"],[[9888,9889],"valid",[],"NV8"],[[9890,9905],"valid",[],"NV8"],[[9906,9906],"valid",[],"NV8"],[[9907,9916],"valid",[],"NV8"],[[9917,9919],"valid",[],"NV8"],[[9920,9923],"valid",[],"NV8"],[[9924,9933],"valid",[],"NV8"],[[9934,9934],"valid",[],"NV8"],[[9935,9953],"valid",[],"NV8"],[[9954,9954],"valid",[],"NV8"],[[9955,9955],"valid",[],"NV8"],[[9956,9959],"valid",[],"NV8"],[[9960,9983],"valid",[],"NV8"],[[9984,9984],"valid",[],"NV8"],[[9985,9988],"valid",[],"NV8"],[[9989,9989],"valid",[],"NV8"],[[9990,9993],"valid",[],"NV8"],[[9994,9995],"valid",[],"NV8"],[[9996,10023],"valid",[],"NV8"],[[10024,10024],"valid",[],"NV8"],[[10025,10059],"valid",[],"NV8"],[[10060,10060],"valid",[],"NV8"],[[10061,10061],"valid",[],"NV8"],[[10062,10062],"valid",[],"NV8"],[[10063,10066],"valid",[],"NV8"],[[10067,10069],"valid",[],"NV8"],[[10070,10070],"valid",[],"NV8"],[[10071,10071],"valid",[],"NV8"],[[10072,10078],"valid",[],"NV8"],[[10079,10080],"valid",[],"NV8"],[[10081,10087],"valid",[],"NV8"],[[10088,10101],"valid",[],"NV8"],[[10102,10132],"valid",[],"NV8"],[[10133,10135],"valid",[],"NV8"],[[10136,10159],"valid",[],"NV8"],[[10160,10160],"valid",[],"NV8"],[[10161,10174],"valid",[],"NV8"],[[10175,10175],"valid",[],"NV8"],[[10176,10182],"valid",[],"NV8"],[[10183,10186],"valid",[],"NV8"],[[10187,10187],"valid",[],"NV8"],[[10188,10188],"valid",[],"NV8"],[[10189,10189],"valid",[],"NV8"],[[10190,10191],"valid",[],"NV8"],[[10192,10219],"valid",[],"NV8"],[[10220,10223],"valid",[],"NV8"],[[10224,10239],"valid",[],"NV8"],[[10240,10495],"valid",[],"NV8"],[[10496,10763],"valid",[],"NV8"],[[10764,10764],"mapped",[8747,8747,8747,8747]],[[10765,10867],"valid",[],"NV8"],[[10868,10868],"disallowed_STD3_mapped",[58,58,61]],[[10869,10869],"disallowed_STD3_mapped",[61,61]],[[10870,10870],"disallowed_STD3_mapped",[61,61,61]],[[10871,10971],"valid",[],"NV8"],[[10972,10972],"mapped",[10973,824]],[[10973,11007],"valid",[],"NV8"],[[11008,11021],"valid",[],"NV8"],[[11022,11027],"valid",[],"NV8"],[[11028,11034],"valid",[],"NV8"],[[11035,11039],"valid",[],"NV8"],[[11040,11043],"valid",[],"NV8"],[[11044,11084],"valid",[],"NV8"],[[11085,11087],"valid",[],"NV8"],[[11088,11092],"valid",[],"NV8"],[[11093,11097],"valid",[],"NV8"],[[11098,11123],"valid",[],"NV8"],[[11124,11125],"disallowed"],[[11126,11157],"valid",[],"NV8"],[[11158,11159],"disallowed"],[[11160,11193],"valid",[],"NV8"],[[11194,11196],"disallowed"],[[11197,11208],"valid",[],"NV8"],[[11209,11209],"disallowed"],[[11210,11217],"valid",[],"NV8"],[[11218,11243],"disallowed"],[[11244,11247],"valid",[],"NV8"],[[11248,11263],"disallowed"],[[11264,11264],"mapped",[11312]],[[11265,11265],"mapped",[11313]],[[11266,11266],"mapped",[11314]],[[11267,11267],"mapped",[11315]],[[11268,11268],"mapped",[11316]],[[11269,11269],"mapped",[11317]],[[11270,11270],"mapped",[11318]],[[11271,11271],"mapped",[11319]],[[11272,11272],"mapped",[11320]],[[11273,11273],"mapped",[11321]],[[11274,11274],"mapped",[11322]],[[11275,11275],"mapped",[11323]],[[11276,11276],"mapped",[11324]],[[11277,11277],"mapped",[11325]],[[11278,11278],"mapped",[11326]],[[11279,11279],"mapped",[11327]],[[11280,11280],"mapped",[11328]],[[11281,11281],"mapped",[11329]],[[11282,11282],"mapped",[11330]],[[11283,11283],"mapped",[11331]],[[11284,11284],"mapped",[11332]],[[11285,11285],"mapped",[11333]],[[11286,11286],"mapped",[11334]],[[11287,11287],"mapped",[11335]],[[11288,11288],"mapped",[11336]],[[11289,11289],"mapped",[11337]],[[11290,11290],"mapped",[11338]],[[11291,11291],"mapped",[11339]],[[11292,11292],"mapped",[11340]],[[11293,11293],"mapped",[11341]],[[11294,11294],"mapped",[11342]],[[11295,11295],"mapped",[11343]],[[11296,11296],"mapped",[11344]],[[11297,11297],"mapped",[11345]],[[11298,11298],"mapped",[11346]],[[11299,11299],"mapped",[11347]],[[11300,11300],"mapped",[11348]],[[11301,11301],"mapped",[11349]],[[11302,11302],"mapped",[11350]],[[11303,11303],"mapped",[11351]],[[11304,11304],"mapped",[11352]],[[11305,11305],"mapped",[11353]],[[11306,11306],"mapped",[11354]],[[11307,11307],"mapped",[11355]],[[11308,11308],"mapped",[11356]],[[11309,11309],"mapped",[11357]],[[11310,11310],"mapped",[11358]],[[11311,11311],"disallowed"],[[11312,11358],"valid"],[[11359,11359],"disallowed"],[[11360,11360],"mapped",[11361]],[[11361,11361],"valid"],[[11362,11362],"mapped",[619]],[[11363,11363],"mapped",[7549]],[[11364,11364],"mapped",[637]],[[11365,11366],"valid"],[[11367,11367],"mapped",[11368]],[[11368,11368],"valid"],[[11369,11369],"mapped",[11370]],[[11370,11370],"valid"],[[11371,11371],"mapped",[11372]],[[11372,11372],"valid"],[[11373,11373],"mapped",[593]],[[11374,11374],"mapped",[625]],[[11375,11375],"mapped",[592]],[[11376,11376],"mapped",[594]],[[11377,11377],"valid"],[[11378,11378],"mapped",[11379]],[[11379,11379],"valid"],[[11380,11380],"valid"],[[11381,11381],"mapped",[11382]],[[11382,11383],"valid"],[[11384,11387],"valid"],[[11388,11388],"mapped",[106]],[[11389,11389],"mapped",[118]],[[11390,11390],"mapped",[575]],[[11391,11391],"mapped",[576]],[[11392,11392],"mapped",[11393]],[[11393,11393],"valid"],[[11394,11394],"mapped",[11395]],[[11395,11395],"valid"],[[11396,11396],"mapped",[11397]],[[11397,11397],"valid"],[[11398,11398],"mapped",[11399]],[[11399,11399],"valid"],[[11400,11400],"mapped",[11401]],[[11401,11401],"valid"],[[11402,11402],"mapped",[11403]],[[11403,11403],"valid"],[[11404,11404],"mapped",[11405]],[[11405,11405],"valid"],[[11406,11406],"mapped",[11407]],[[11407,11407],"valid"],[[11408,11408],"mapped",[11409]],[[11409,11409],"valid"],[[11410,11410],"mapped",[11411]],[[11411,11411],"valid"],[[11412,11412],"mapped",[11413]],[[11413,11413],"valid"],[[11414,11414],"mapped",[11415]],[[11415,11415],"valid"],[[11416,11416],"mapped",[11417]],[[11417,11417],"valid"],[[11418,11418],"mapped",[11419]],[[11419,11419],"valid"],[[11420,11420],"mapped",[11421]],[[11421,11421],"valid"],[[11422,11422],"mapped",[11423]],[[11423,11423],"valid"],[[11424,11424],"mapped",[11425]],[[11425,11425],"valid"],[[11426,11426],"mapped",[11427]],[[11427,11427],"valid"],[[11428,11428],"mapped",[11429]],[[11429,11429],"valid"],[[11430,11430],"mapped",[11431]],[[11431,11431],"valid"],[[11432,11432],"mapped",[11433]],[[11433,11433],"valid"],[[11434,11434],"mapped",[11435]],[[11435,11435],"valid"],[[11436,11436],"mapped",[11437]],[[11437,11437],"valid"],[[11438,11438],"mapped",[11439]],[[11439,11439],"valid"],[[11440,11440],"mapped",[11441]],[[11441,11441],"valid"],[[11442,11442],"mapped",[11443]],[[11443,11443],"valid"],[[11444,11444],"mapped",[11445]],[[11445,11445],"valid"],[[11446,11446],"mapped",[11447]],[[11447,11447],"valid"],[[11448,11448],"mapped",[11449]],[[11449,11449],"valid"],[[11450,11450],"mapped",[11451]],[[11451,11451],"valid"],[[11452,11452],"mapped",[11453]],[[11453,11453],"valid"],[[11454,11454],"mapped",[11455]],[[11455,11455],"valid"],[[11456,11456],"mapped",[11457]],[[11457,11457],"valid"],[[11458,11458],"mapped",[11459]],[[11459,11459],"valid"],[[11460,11460],"mapped",[11461]],[[11461,11461],"valid"],[[11462,11462],"mapped",[11463]],[[11463,11463],"valid"],[[11464,11464],"mapped",[11465]],[[11465,11465],"valid"],[[11466,11466],"mapped",[11467]],[[11467,11467],"valid"],[[11468,11468],"mapped",[11469]],[[11469,11469],"valid"],[[11470,11470],"mapped",[11471]],[[11471,11471],"valid"],[[11472,11472],"mapped",[11473]],[[11473,11473],"valid"],[[11474,11474],"mapped",[11475]],[[11475,11475],"valid"],[[11476,11476],"mapped",[11477]],[[11477,11477],"valid"],[[11478,11478],"mapped",[11479]],[[11479,11479],"valid"],[[11480,11480],"mapped",[11481]],[[11481,11481],"valid"],[[11482,11482],"mapped",[11483]],[[11483,11483],"valid"],[[11484,11484],"mapped",[11485]],[[11485,11485],"valid"],[[11486,11486],"mapped",[11487]],[[11487,11487],"valid"],[[11488,11488],"mapped",[11489]],[[11489,11489],"valid"],[[11490,11490],"mapped",[11491]],[[11491,11492],"valid"],[[11493,11498],"valid",[],"NV8"],[[11499,11499],"mapped",[11500]],[[11500,11500],"valid"],[[11501,11501],"mapped",[11502]],[[11502,11505],"valid"],[[11506,11506],"mapped",[11507]],[[11507,11507],"valid"],[[11508,11512],"disallowed"],[[11513,11519],"valid",[],"NV8"],[[11520,11557],"valid"],[[11558,11558],"disallowed"],[[11559,11559],"valid"],[[11560,11564],"disallowed"],[[11565,11565],"valid"],[[11566,11567],"disallowed"],[[11568,11621],"valid"],[[11622,11623],"valid"],[[11624,11630],"disallowed"],[[11631,11631],"mapped",[11617]],[[11632,11632],"valid",[],"NV8"],[[11633,11646],"disallowed"],[[11647,11647],"valid"],[[11648,11670],"valid"],[[11671,11679],"disallowed"],[[11680,11686],"valid"],[[11687,11687],"disallowed"],[[11688,11694],"valid"],[[11695,11695],"disallowed"],[[11696,11702],"valid"],[[11703,11703],"disallowed"],[[11704,11710],"valid"],[[11711,11711],"disallowed"],[[11712,11718],"valid"],[[11719,11719],"disallowed"],[[11720,11726],"valid"],[[11727,11727],"disallowed"],[[11728,11734],"valid"],[[11735,11735],"disallowed"],[[11736,11742],"valid"],[[11743,11743],"disallowed"],[[11744,11775],"valid"],[[11776,11799],"valid",[],"NV8"],[[11800,11803],"valid",[],"NV8"],[[11804,11805],"valid",[],"NV8"],[[11806,11822],"valid",[],"NV8"],[[11823,11823],"valid"],[[11824,11824],"valid",[],"NV8"],[[11825,11825],"valid",[],"NV8"],[[11826,11835],"valid",[],"NV8"],[[11836,11842],"valid",[],"NV8"],[[11843,11903],"disallowed"],[[11904,11929],"valid",[],"NV8"],[[11930,11930],"disallowed"],[[11931,11934],"valid",[],"NV8"],[[11935,11935],"mapped",[27597]],[[11936,12018],"valid",[],"NV8"],[[12019,12019],"mapped",[40863]],[[12020,12031],"disallowed"],[[12032,12032],"mapped",[19968]],[[12033,12033],"mapped",[20008]],[[12034,12034],"mapped",[20022]],[[12035,12035],"mapped",[20031]],[[12036,12036],"mapped",[20057]],[[12037,12037],"mapped",[20101]],[[12038,12038],"mapped",[20108]],[[12039,12039],"mapped",[20128]],[[12040,12040],"mapped",[20154]],[[12041,12041],"mapped",[20799]],[[12042,12042],"mapped",[20837]],[[12043,12043],"mapped",[20843]],[[12044,12044],"mapped",[20866]],[[12045,12045],"mapped",[20886]],[[12046,12046],"mapped",[20907]],[[12047,12047],"mapped",[20960]],[[12048,12048],"mapped",[20981]],[[12049,12049],"mapped",[20992]],[[12050,12050],"mapped",[21147]],[[12051,12051],"mapped",[21241]],[[12052,12052],"mapped",[21269]],[[12053,12053],"mapped",[21274]],[[12054,12054],"mapped",[21304]],[[12055,12055],"mapped",[21313]],[[12056,12056],"mapped",[21340]],[[12057,12057],"mapped",[21353]],[[12058,12058],"mapped",[21378]],[[12059,12059],"mapped",[21430]],[[12060,12060],"mapped",[21448]],[[12061,12061],"mapped",[21475]],[[12062,12062],"mapped",[22231]],[[12063,12063],"mapped",[22303]],[[12064,12064],"mapped",[22763]],[[12065,12065],"mapped",[22786]],[[12066,12066],"mapped",[22794]],[[12067,12067],"mapped",[22805]],[[12068,12068],"mapped",[22823]],[[12069,12069],"mapped",[22899]],[[12070,12070],"mapped",[23376]],[[12071,12071],"mapped",[23424]],[[12072,12072],"mapped",[23544]],[[12073,12073],"mapped",[23567]],[[12074,12074],"mapped",[23586]],[[12075,12075],"mapped",[23608]],[[12076,12076],"mapped",[23662]],[[12077,12077],"mapped",[23665]],[[12078,12078],"mapped",[24027]],[[12079,12079],"mapped",[24037]],[[12080,12080],"mapped",[24049]],[[12081,12081],"mapped",[24062]],[[12082,12082],"mapped",[24178]],[[12083,12083],"mapped",[24186]],[[12084,12084],"mapped",[24191]],[[12085,12085],"mapped",[24308]],[[12086,12086],"mapped",[24318]],[[12087,12087],"mapped",[24331]],[[12088,12088],"mapped",[24339]],[[12089,12089],"mapped",[24400]],[[12090,12090],"mapped",[24417]],[[12091,12091],"mapped",[24435]],[[12092,12092],"mapped",[24515]],[[12093,12093],"mapped",[25096]],[[12094,12094],"mapped",[25142]],[[12095,12095],"mapped",[25163]],[[12096,12096],"mapped",[25903]],[[12097,12097],"mapped",[25908]],[[12098,12098],"mapped",[25991]],[[12099,12099],"mapped",[26007]],[[12100,12100],"mapped",[26020]],[[12101,12101],"mapped",[26041]],[[12102,12102],"mapped",[26080]],[[12103,12103],"mapped",[26085]],[[12104,12104],"mapped",[26352]],[[12105,12105],"mapped",[26376]],[[12106,12106],"mapped",[26408]],[[12107,12107],"mapped",[27424]],[[12108,12108],"mapped",[27490]],[[12109,12109],"mapped",[27513]],[[12110,12110],"mapped",[27571]],[[12111,12111],"mapped",[27595]],[[12112,12112],"mapped",[27604]],[[12113,12113],"mapped",[27611]],[[12114,12114],"mapped",[27663]],[[12115,12115],"mapped",[27668]],[[12116,12116],"mapped",[27700]],[[12117,12117],"mapped",[28779]],[[12118,12118],"mapped",[29226]],[[12119,12119],"mapped",[29238]],[[12120,12120],"mapped",[29243]],[[12121,12121],"mapped",[29247]],[[12122,12122],"mapped",[29255]],[[12123,12123],"mapped",[29273]],[[12124,12124],"mapped",[29275]],[[12125,12125],"mapped",[29356]],[[12126,12126],"mapped",[29572]],[[12127,12127],"mapped",[29577]],[[12128,12128],"mapped",[29916]],[[12129,12129],"mapped",[29926]],[[12130,12130],"mapped",[29976]],[[12131,12131],"mapped",[29983]],[[12132,12132],"mapped",[29992]],[[12133,12133],"mapped",[3e4]],[[12134,12134],"mapped",[30091]],[[12135,12135],"mapped",[30098]],[[12136,12136],"mapped",[30326]],[[12137,12137],"mapped",[30333]],[[12138,12138],"mapped",[30382]],[[12139,12139],"mapped",[30399]],[[12140,12140],"mapped",[30446]],[[12141,12141],"mapped",[30683]],[[12142,12142],"mapped",[30690]],[[12143,12143],"mapped",[30707]],[[12144,12144],"mapped",[31034]],[[12145,12145],"mapped",[31160]],[[12146,12146],"mapped",[31166]],[[12147,12147],"mapped",[31348]],[[12148,12148],"mapped",[31435]],[[12149,12149],"mapped",[31481]],[[12150,12150],"mapped",[31859]],[[12151,12151],"mapped",[31992]],[[12152,12152],"mapped",[32566]],[[12153,12153],"mapped",[32593]],[[12154,12154],"mapped",[32650]],[[12155,12155],"mapped",[32701]],[[12156,12156],"mapped",[32769]],[[12157,12157],"mapped",[32780]],[[12158,12158],"mapped",[32786]],[[12159,12159],"mapped",[32819]],[[12160,12160],"mapped",[32895]],[[12161,12161],"mapped",[32905]],[[12162,12162],"mapped",[33251]],[[12163,12163],"mapped",[33258]],[[12164,12164],"mapped",[33267]],[[12165,12165],"mapped",[33276]],[[12166,12166],"mapped",[33292]],[[12167,12167],"mapped",[33307]],[[12168,12168],"mapped",[33311]],[[12169,12169],"mapped",[33390]],[[12170,12170],"mapped",[33394]],[[12171,12171],"mapped",[33400]],[[12172,12172],"mapped",[34381]],[[12173,12173],"mapped",[34411]],[[12174,12174],"mapped",[34880]],[[12175,12175],"mapped",[34892]],[[12176,12176],"mapped",[34915]],[[12177,12177],"mapped",[35198]],[[12178,12178],"mapped",[35211]],[[12179,12179],"mapped",[35282]],[[12180,12180],"mapped",[35328]],[[12181,12181],"mapped",[35895]],[[12182,12182],"mapped",[35910]],[[12183,12183],"mapped",[35925]],[[12184,12184],"mapped",[35960]],[[12185,12185],"mapped",[35997]],[[12186,12186],"mapped",[36196]],[[12187,12187],"mapped",[36208]],[[12188,12188],"mapped",[36275]],[[12189,12189],"mapped",[36523]],[[12190,12190],"mapped",[36554]],[[12191,12191],"mapped",[36763]],[[12192,12192],"mapped",[36784]],[[12193,12193],"mapped",[36789]],[[12194,12194],"mapped",[37009]],[[12195,12195],"mapped",[37193]],[[12196,12196],"mapped",[37318]],[[12197,12197],"mapped",[37324]],[[12198,12198],"mapped",[37329]],[[12199,12199],"mapped",[38263]],[[12200,12200],"mapped",[38272]],[[12201,12201],"mapped",[38428]],[[12202,12202],"mapped",[38582]],[[12203,12203],"mapped",[38585]],[[12204,12204],"mapped",[38632]],[[12205,12205],"mapped",[38737]],[[12206,12206],"mapped",[38750]],[[12207,12207],"mapped",[38754]],[[12208,12208],"mapped",[38761]],[[12209,12209],"mapped",[38859]],[[12210,12210],"mapped",[38893]],[[12211,12211],"mapped",[38899]],[[12212,12212],"mapped",[38913]],[[12213,12213],"mapped",[39080]],[[12214,12214],"mapped",[39131]],[[12215,12215],"mapped",[39135]],[[12216,12216],"mapped",[39318]],[[12217,12217],"mapped",[39321]],[[12218,12218],"mapped",[39340]],[[12219,12219],"mapped",[39592]],[[12220,12220],"mapped",[39640]],[[12221,12221],"mapped",[39647]],[[12222,12222],"mapped",[39717]],[[12223,12223],"mapped",[39727]],[[12224,12224],"mapped",[39730]],[[12225,12225],"mapped",[39740]],[[12226,12226],"mapped",[39770]],[[12227,12227],"mapped",[40165]],[[12228,12228],"mapped",[40565]],[[12229,12229],"mapped",[40575]],[[12230,12230],"mapped",[40613]],[[12231,12231],"mapped",[40635]],[[12232,12232],"mapped",[40643]],[[12233,12233],"mapped",[40653]],[[12234,12234],"mapped",[40657]],[[12235,12235],"mapped",[40697]],[[12236,12236],"mapped",[40701]],[[12237,12237],"mapped",[40718]],[[12238,12238],"mapped",[40723]],[[12239,12239],"mapped",[40736]],[[12240,12240],"mapped",[40763]],[[12241,12241],"mapped",[40778]],[[12242,12242],"mapped",[40786]],[[12243,12243],"mapped",[40845]],[[12244,12244],"mapped",[40860]],[[12245,12245],"mapped",[40864]],[[12246,12271],"disallowed"],[[12272,12283],"disallowed"],[[12284,12287],"disallowed"],[[12288,12288],"disallowed_STD3_mapped",[32]],[[12289,12289],"valid",[],"NV8"],[[12290,12290],"mapped",[46]],[[12291,12292],"valid",[],"NV8"],[[12293,12295],"valid"],[[12296,12329],"valid",[],"NV8"],[[12330,12333],"valid"],[[12334,12341],"valid",[],"NV8"],[[12342,12342],"mapped",[12306]],[[12343,12343],"valid",[],"NV8"],[[12344,12344],"mapped",[21313]],[[12345,12345],"mapped",[21316]],[[12346,12346],"mapped",[21317]],[[12347,12347],"valid",[],"NV8"],[[12348,12348],"valid"],[[12349,12349],"valid",[],"NV8"],[[12350,12350],"valid",[],"NV8"],[[12351,12351],"valid",[],"NV8"],[[12352,12352],"disallowed"],[[12353,12436],"valid"],[[12437,12438],"valid"],[[12439,12440],"disallowed"],[[12441,12442],"valid"],[[12443,12443],"disallowed_STD3_mapped",[32,12441]],[[12444,12444],"disallowed_STD3_mapped",[32,12442]],[[12445,12446],"valid"],[[12447,12447],"mapped",[12424,12426]],[[12448,12448],"valid",[],"NV8"],[[12449,12542],"valid"],[[12543,12543],"mapped",[12467,12488]],[[12544,12548],"disallowed"],[[12549,12588],"valid"],[[12589,12589],"valid"],[[12590,12592],"disallowed"],[[12593,12593],"mapped",[4352]],[[12594,12594],"mapped",[4353]],[[12595,12595],"mapped",[4522]],[[12596,12596],"mapped",[4354]],[[12597,12597],"mapped",[4524]],[[12598,12598],"mapped",[4525]],[[12599,12599],"mapped",[4355]],[[12600,12600],"mapped",[4356]],[[12601,12601],"mapped",[4357]],[[12602,12602],"mapped",[4528]],[[12603,12603],"mapped",[4529]],[[12604,12604],"mapped",[4530]],[[12605,12605],"mapped",[4531]],[[12606,12606],"mapped",[4532]],[[12607,12607],"mapped",[4533]],[[12608,12608],"mapped",[4378]],[[12609,12609],"mapped",[4358]],[[12610,12610],"mapped",[4359]],[[12611,12611],"mapped",[4360]],[[12612,12612],"mapped",[4385]],[[12613,12613],"mapped",[4361]],[[12614,12614],"mapped",[4362]],[[12615,12615],"mapped",[4363]],[[12616,12616],"mapped",[4364]],[[12617,12617],"mapped",[4365]],[[12618,12618],"mapped",[4366]],[[12619,12619],"mapped",[4367]],[[12620,12620],"mapped",[4368]],[[12621,12621],"mapped",[4369]],[[12622,12622],"mapped",[4370]],[[12623,12623],"mapped",[4449]],[[12624,12624],"mapped",[4450]],[[12625,12625],"mapped",[4451]],[[12626,12626],"mapped",[4452]],[[12627,12627],"mapped",[4453]],[[12628,12628],"mapped",[4454]],[[12629,12629],"mapped",[4455]],[[12630,12630],"mapped",[4456]],[[12631,12631],"mapped",[4457]],[[12632,12632],"mapped",[4458]],[[12633,12633],"mapped",[4459]],[[12634,12634],"mapped",[4460]],[[12635,12635],"mapped",[4461]],[[12636,12636],"mapped",[4462]],[[12637,12637],"mapped",[4463]],[[12638,12638],"mapped",[4464]],[[12639,12639],"mapped",[4465]],[[12640,12640],"mapped",[4466]],[[12641,12641],"mapped",[4467]],[[12642,12642],"mapped",[4468]],[[12643,12643],"mapped",[4469]],[[12644,12644],"disallowed"],[[12645,12645],"mapped",[4372]],[[12646,12646],"mapped",[4373]],[[12647,12647],"mapped",[4551]],[[12648,12648],"mapped",[4552]],[[12649,12649],"mapped",[4556]],[[12650,12650],"mapped",[4558]],[[12651,12651],"mapped",[4563]],[[12652,12652],"mapped",[4567]],[[12653,12653],"mapped",[4569]],[[12654,12654],"mapped",[4380]],[[12655,12655],"mapped",[4573]],[[12656,12656],"mapped",[4575]],[[12657,12657],"mapped",[4381]],[[12658,12658],"mapped",[4382]],[[12659,12659],"mapped",[4384]],[[12660,12660],"mapped",[4386]],[[12661,12661],"mapped",[4387]],[[12662,12662],"mapped",[4391]],[[12663,12663],"mapped",[4393]],[[12664,12664],"mapped",[4395]],[[12665,12665],"mapped",[4396]],[[12666,12666],"mapped",[4397]],[[12667,12667],"mapped",[4398]],[[12668,12668],"mapped",[4399]],[[12669,12669],"mapped",[4402]],[[12670,12670],"mapped",[4406]],[[12671,12671],"mapped",[4416]],[[12672,12672],"mapped",[4423]],[[12673,12673],"mapped",[4428]],[[12674,12674],"mapped",[4593]],[[12675,12675],"mapped",[4594]],[[12676,12676],"mapped",[4439]],[[12677,12677],"mapped",[4440]],[[12678,12678],"mapped",[4441]],[[12679,12679],"mapped",[4484]],[[12680,12680],"mapped",[4485]],[[12681,12681],"mapped",[4488]],[[12682,12682],"mapped",[4497]],[[12683,12683],"mapped",[4498]],[[12684,12684],"mapped",[4500]],[[12685,12685],"mapped",[4510]],[[12686,12686],"mapped",[4513]],[[12687,12687],"disallowed"],[[12688,12689],"valid",[],"NV8"],[[12690,12690],"mapped",[19968]],[[12691,12691],"mapped",[20108]],[[12692,12692],"mapped",[19977]],[[12693,12693],"mapped",[22235]],[[12694,12694],"mapped",[19978]],[[12695,12695],"mapped",[20013]],[[12696,12696],"mapped",[19979]],[[12697,12697],"mapped",[30002]],[[12698,12698],"mapped",[20057]],[[12699,12699],"mapped",[19993]],[[12700,12700],"mapped",[19969]],[[12701,12701],"mapped",[22825]],[[12702,12702],"mapped",[22320]],[[12703,12703],"mapped",[20154]],[[12704,12727],"valid"],[[12728,12730],"valid"],[[12731,12735],"disallowed"],[[12736,12751],"valid",[],"NV8"],[[12752,12771],"valid",[],"NV8"],[[12772,12783],"disallowed"],[[12784,12799],"valid"],[[12800,12800],"disallowed_STD3_mapped",[40,4352,41]],[[12801,12801],"disallowed_STD3_mapped",[40,4354,41]],[[12802,12802],"disallowed_STD3_mapped",[40,4355,41]],[[12803,12803],"disallowed_STD3_mapped",[40,4357,41]],[[12804,12804],"disallowed_STD3_mapped",[40,4358,41]],[[12805,12805],"disallowed_STD3_mapped",[40,4359,41]],[[12806,12806],"disallowed_STD3_mapped",[40,4361,41]],[[12807,12807],"disallowed_STD3_mapped",[40,4363,41]],[[12808,12808],"disallowed_STD3_mapped",[40,4364,41]],[[12809,12809],"disallowed_STD3_mapped",[40,4366,41]],[[12810,12810],"disallowed_STD3_mapped",[40,4367,41]],[[12811,12811],"disallowed_STD3_mapped",[40,4368,41]],[[12812,12812],"disallowed_STD3_mapped",[40,4369,41]],[[12813,12813],"disallowed_STD3_mapped",[40,4370,41]],[[12814,12814],"disallowed_STD3_mapped",[40,44032,41]],[[12815,12815],"disallowed_STD3_mapped",[40,45208,41]],[[12816,12816],"disallowed_STD3_mapped",[40,45796,41]],[[12817,12817],"disallowed_STD3_mapped",[40,46972,41]],[[12818,12818],"disallowed_STD3_mapped",[40,47560,41]],[[12819,12819],"disallowed_STD3_mapped",[40,48148,41]],[[12820,12820],"disallowed_STD3_mapped",[40,49324,41]],[[12821,12821],"disallowed_STD3_mapped",[40,50500,41]],[[12822,12822],"disallowed_STD3_mapped",[40,51088,41]],[[12823,12823],"disallowed_STD3_mapped",[40,52264,41]],[[12824,12824],"disallowed_STD3_mapped",[40,52852,41]],[[12825,12825],"disallowed_STD3_mapped",[40,53440,41]],[[12826,12826],"disallowed_STD3_mapped",[40,54028,41]],[[12827,12827],"disallowed_STD3_mapped",[40,54616,41]],[[12828,12828],"disallowed_STD3_mapped",[40,51452,41]],[[12829,12829],"disallowed_STD3_mapped",[40,50724,51204,41]],[[12830,12830],"disallowed_STD3_mapped",[40,50724,54980,41]],[[12831,12831],"disallowed"],[[12832,12832],"disallowed_STD3_mapped",[40,19968,41]],[[12833,12833],"disallowed_STD3_mapped",[40,20108,41]],[[12834,12834],"disallowed_STD3_mapped",[40,19977,41]],[[12835,12835],"disallowed_STD3_mapped",[40,22235,41]],[[12836,12836],"disallowed_STD3_mapped",[40,20116,41]],[[12837,12837],"disallowed_STD3_mapped",[40,20845,41]],[[12838,12838],"disallowed_STD3_mapped",[40,19971,41]],[[12839,12839],"disallowed_STD3_mapped",[40,20843,41]],[[12840,12840],"disallowed_STD3_mapped",[40,20061,41]],[[12841,12841],"disallowed_STD3_mapped",[40,21313,41]],[[12842,12842],"disallowed_STD3_mapped",[40,26376,41]],[[12843,12843],"disallowed_STD3_mapped",[40,28779,41]],[[12844,12844],"disallowed_STD3_mapped",[40,27700,41]],[[12845,12845],"disallowed_STD3_mapped",[40,26408,41]],[[12846,12846],"disallowed_STD3_mapped",[40,37329,41]],[[12847,12847],"disallowed_STD3_mapped",[40,22303,41]],[[12848,12848],"disallowed_STD3_mapped",[40,26085,41]],[[12849,12849],"disallowed_STD3_mapped",[40,26666,41]],[[12850,12850],"disallowed_STD3_mapped",[40,26377,41]],[[12851,12851],"disallowed_STD3_mapped",[40,31038,41]],[[12852,12852],"disallowed_STD3_mapped",[40,21517,41]],[[12853,12853],"disallowed_STD3_mapped",[40,29305,41]],[[12854,12854],"disallowed_STD3_mapped",[40,36001,41]],[[12855,12855],"disallowed_STD3_mapped",[40,31069,41]],[[12856,12856],"disallowed_STD3_mapped",[40,21172,41]],[[12857,12857],"disallowed_STD3_mapped",[40,20195,41]],[[12858,12858],"disallowed_STD3_mapped",[40,21628,41]],[[12859,12859],"disallowed_STD3_mapped",[40,23398,41]],[[12860,12860],"disallowed_STD3_mapped",[40,30435,41]],[[12861,12861],"disallowed_STD3_mapped",[40,20225,41]],[[12862,12862],"disallowed_STD3_mapped",[40,36039,41]],[[12863,12863],"disallowed_STD3_mapped",[40,21332,41]],[[12864,12864],"disallowed_STD3_mapped",[40,31085,41]],[[12865,12865],"disallowed_STD3_mapped",[40,20241,41]],[[12866,12866],"disallowed_STD3_mapped",[40,33258,41]],[[12867,12867],"disallowed_STD3_mapped",[40,33267,41]],[[12868,12868],"mapped",[21839]],[[12869,12869],"mapped",[24188]],[[12870,12870],"mapped",[25991]],[[12871,12871],"mapped",[31631]],[[12872,12879],"valid",[],"NV8"],[[12880,12880],"mapped",[112,116,101]],[[12881,12881],"mapped",[50,49]],[[12882,12882],"mapped",[50,50]],[[12883,12883],"mapped",[50,51]],[[12884,12884],"mapped",[50,52]],[[12885,12885],"mapped",[50,53]],[[12886,12886],"mapped",[50,54]],[[12887,12887],"mapped",[50,55]],[[12888,12888],"mapped",[50,56]],[[12889,12889],"mapped",[50,57]],[[12890,12890],"mapped",[51,48]],[[12891,12891],"mapped",[51,49]],[[12892,12892],"mapped",[51,50]],[[12893,12893],"mapped",[51,51]],[[12894,12894],"mapped",[51,52]],[[12895,12895],"mapped",[51,53]],[[12896,12896],"mapped",[4352]],[[12897,12897],"mapped",[4354]],[[12898,12898],"mapped",[4355]],[[12899,12899],"mapped",[4357]],[[12900,12900],"mapped",[4358]],[[12901,12901],"mapped",[4359]],[[12902,12902],"mapped",[4361]],[[12903,12903],"mapped",[4363]],[[12904,12904],"mapped",[4364]],[[12905,12905],"mapped",[4366]],[[12906,12906],"mapped",[4367]],[[12907,12907],"mapped",[4368]],[[12908,12908],"mapped",[4369]],[[12909,12909],"mapped",[4370]],[[12910,12910],"mapped",[44032]],[[12911,12911],"mapped",[45208]],[[12912,12912],"mapped",[45796]],[[12913,12913],"mapped",[46972]],[[12914,12914],"mapped",[47560]],[[12915,12915],"mapped",[48148]],[[12916,12916],"mapped",[49324]],[[12917,12917],"mapped",[50500]],[[12918,12918],"mapped",[51088]],[[12919,12919],"mapped",[52264]],[[12920,12920],"mapped",[52852]],[[12921,12921],"mapped",[53440]],[[12922,12922],"mapped",[54028]],[[12923,12923],"mapped",[54616]],[[12924,12924],"mapped",[52280,44256]],[[12925,12925],"mapped",[51452,51032]],[[12926,12926],"mapped",[50864]],[[12927,12927],"valid",[],"NV8"],[[12928,12928],"mapped",[19968]],[[12929,12929],"mapped",[20108]],[[12930,12930],"mapped",[19977]],[[12931,12931],"mapped",[22235]],[[12932,12932],"mapped",[20116]],[[12933,12933],"mapped",[20845]],[[12934,12934],"mapped",[19971]],[[12935,12935],"mapped",[20843]],[[12936,12936],"mapped",[20061]],[[12937,12937],"mapped",[21313]],[[12938,12938],"mapped",[26376]],[[12939,12939],"mapped",[28779]],[[12940,12940],"mapped",[27700]],[[12941,12941],"mapped",[26408]],[[12942,12942],"mapped",[37329]],[[12943,12943],"mapped",[22303]],[[12944,12944],"mapped",[26085]],[[12945,12945],"mapped",[26666]],[[12946,12946],"mapped",[26377]],[[12947,12947],"mapped",[31038]],[[12948,12948],"mapped",[21517]],[[12949,12949],"mapped",[29305]],[[12950,12950],"mapped",[36001]],[[12951,12951],"mapped",[31069]],[[12952,12952],"mapped",[21172]],[[12953,12953],"mapped",[31192]],[[12954,12954],"mapped",[30007]],[[12955,12955],"mapped",[22899]],[[12956,12956],"mapped",[36969]],[[12957,12957],"mapped",[20778]],[[12958,12958],"mapped",[21360]],[[12959,12959],"mapped",[27880]],[[12960,12960],"mapped",[38917]],[[12961,12961],"mapped",[20241]],[[12962,12962],"mapped",[20889]],[[12963,12963],"mapped",[27491]],[[12964,12964],"mapped",[19978]],[[12965,12965],"mapped",[20013]],[[12966,12966],"mapped",[19979]],[[12967,12967],"mapped",[24038]],[[12968,12968],"mapped",[21491]],[[12969,12969],"mapped",[21307]],[[12970,12970],"mapped",[23447]],[[12971,12971],"mapped",[23398]],[[12972,12972],"mapped",[30435]],[[12973,12973],"mapped",[20225]],[[12974,12974],"mapped",[36039]],[[12975,12975],"mapped",[21332]],[[12976,12976],"mapped",[22812]],[[12977,12977],"mapped",[51,54]],[[12978,12978],"mapped",[51,55]],[[12979,12979],"mapped",[51,56]],[[12980,12980],"mapped",[51,57]],[[12981,12981],"mapped",[52,48]],[[12982,12982],"mapped",[52,49]],[[12983,12983],"mapped",[52,50]],[[12984,12984],"mapped",[52,51]],[[12985,12985],"mapped",[52,52]],[[12986,12986],"mapped",[52,53]],[[12987,12987],"mapped",[52,54]],[[12988,12988],"mapped",[52,55]],[[12989,12989],"mapped",[52,56]],[[12990,12990],"mapped",[52,57]],[[12991,12991],"mapped",[53,48]],[[12992,12992],"mapped",[49,26376]],[[12993,12993],"mapped",[50,26376]],[[12994,12994],"mapped",[51,26376]],[[12995,12995],"mapped",[52,26376]],[[12996,12996],"mapped",[53,26376]],[[12997,12997],"mapped",[54,26376]],[[12998,12998],"mapped",[55,26376]],[[12999,12999],"mapped",[56,26376]],[[13e3,13e3],"mapped",[57,26376]],[[13001,13001],"mapped",[49,48,26376]],[[13002,13002],"mapped",[49,49,26376]],[[13003,13003],"mapped",[49,50,26376]],[[13004,13004],"mapped",[104,103]],[[13005,13005],"mapped",[101,114,103]],[[13006,13006],"mapped",[101,118]],[[13007,13007],"mapped",[108,116,100]],[[13008,13008],"mapped",[12450]],[[13009,13009],"mapped",[12452]],[[13010,13010],"mapped",[12454]],[[13011,13011],"mapped",[12456]],[[13012,13012],"mapped",[12458]],[[13013,13013],"mapped",[12459]],[[13014,13014],"mapped",[12461]],[[13015,13015],"mapped",[12463]],[[13016,13016],"mapped",[12465]],[[13017,13017],"mapped",[12467]],[[13018,13018],"mapped",[12469]],[[13019,13019],"mapped",[12471]],[[13020,13020],"mapped",[12473]],[[13021,13021],"mapped",[12475]],[[13022,13022],"mapped",[12477]],[[13023,13023],"mapped",[12479]],[[13024,13024],"mapped",[12481]],[[13025,13025],"mapped",[12484]],[[13026,13026],"mapped",[12486]],[[13027,13027],"mapped",[12488]],[[13028,13028],"mapped",[12490]],[[13029,13029],"mapped",[12491]],[[13030,13030],"mapped",[12492]],[[13031,13031],"mapped",[12493]],[[13032,13032],"mapped",[12494]],[[13033,13033],"mapped",[12495]],[[13034,13034],"mapped",[12498]],[[13035,13035],"mapped",[12501]],[[13036,13036],"mapped",[12504]],[[13037,13037],"mapped",[12507]],[[13038,13038],"mapped",[12510]],[[13039,13039],"mapped",[12511]],[[13040,13040],"mapped",[12512]],[[13041,13041],"mapped",[12513]],[[13042,13042],"mapped",[12514]],[[13043,13043],"mapped",[12516]],[[13044,13044],"mapped",[12518]],[[13045,13045],"mapped",[12520]],[[13046,13046],"mapped",[12521]],[[13047,13047],"mapped",[12522]],[[13048,13048],"mapped",[12523]],[[13049,13049],"mapped",[12524]],[[13050,13050],"mapped",[12525]],[[13051,13051],"mapped",[12527]],[[13052,13052],"mapped",[12528]],[[13053,13053],"mapped",[12529]],[[13054,13054],"mapped",[12530]],[[13055,13055],"disallowed"],[[13056,13056],"mapped",[12450,12497,12540,12488]],[[13057,13057],"mapped",[12450,12523,12501,12449]],[[13058,13058],"mapped",[12450,12531,12506,12450]],[[13059,13059],"mapped",[12450,12540,12523]],[[13060,13060],"mapped",[12452,12491,12531,12464]],[[13061,13061],"mapped",[12452,12531,12481]],[[13062,13062],"mapped",[12454,12457,12531]],[[13063,13063],"mapped",[12456,12473,12463,12540,12489]],[[13064,13064],"mapped",[12456,12540,12459,12540]],[[13065,13065],"mapped",[12458,12531,12473]],[[13066,13066],"mapped",[12458,12540,12512]],[[13067,13067],"mapped",[12459,12452,12522]],[[13068,13068],"mapped",[12459,12521,12483,12488]],[[13069,13069],"mapped",[12459,12525,12522,12540]],[[13070,13070],"mapped",[12460,12525,12531]],[[13071,13071],"mapped",[12460,12531,12510]],[[13072,13072],"mapped",[12462,12460]],[[13073,13073],"mapped",[12462,12491,12540]],[[13074,13074],"mapped",[12461,12517,12522,12540]],[[13075,13075],"mapped",[12462,12523,12480,12540]],[[13076,13076],"mapped",[12461,12525]],[[13077,13077],"mapped",[12461,12525,12464,12521,12512]],[[13078,13078],"mapped",[12461,12525,12513,12540,12488,12523]],[[13079,13079],"mapped",[12461,12525,12527,12483,12488]],[[13080,13080],"mapped",[12464,12521,12512]],[[13081,13081],"mapped",[12464,12521,12512,12488,12531]],[[13082,13082],"mapped",[12463,12523,12476,12452,12525]],[[13083,13083],"mapped",[12463,12525,12540,12493]],[[13084,13084],"mapped",[12465,12540,12473]],[[13085,13085],"mapped",[12467,12523,12490]],[[13086,13086],"mapped",[12467,12540,12509]],[[13087,13087],"mapped",[12469,12452,12463,12523]],[[13088,13088],"mapped",[12469,12531,12481,12540,12512]],[[13089,13089],"mapped",[12471,12522,12531,12464]],[[13090,13090],"mapped",[12475,12531,12481]],[[13091,13091],"mapped",[12475,12531,12488]],[[13092,13092],"mapped",[12480,12540,12473]],[[13093,13093],"mapped",[12487,12471]],[[13094,13094],"mapped",[12489,12523]],[[13095,13095],"mapped",[12488,12531]],[[13096,13096],"mapped",[12490,12494]],[[13097,13097],"mapped",[12494,12483,12488]],[[13098,13098],"mapped",[12495,12452,12484]],[[13099,13099],"mapped",[12497,12540,12475,12531,12488]],[[13100,13100],"mapped",[12497,12540,12484]],[[13101,13101],"mapped",[12496,12540,12524,12523]],[[13102,13102],"mapped",[12500,12450,12473,12488,12523]],[[13103,13103],"mapped",[12500,12463,12523]],[[13104,13104],"mapped",[12500,12467]],[[13105,13105],"mapped",[12499,12523]],[[13106,13106],"mapped",[12501,12449,12521,12483,12489]],[[13107,13107],"mapped",[12501,12451,12540,12488]],[[13108,13108],"mapped",[12502,12483,12471,12455,12523]],[[13109,13109],"mapped",[12501,12521,12531]],[[13110,13110],"mapped",[12504,12463,12479,12540,12523]],[[13111,13111],"mapped",[12506,12477]],[[13112,13112],"mapped",[12506,12491,12498]],[[13113,13113],"mapped",[12504,12523,12484]],[[13114,13114],"mapped",[12506,12531,12473]],[[13115,13115],"mapped",[12506,12540,12472]],[[13116,13116],"mapped",[12505,12540,12479]],[[13117,13117],"mapped",[12509,12452,12531,12488]],[[13118,13118],"mapped",[12508,12523,12488]],[[13119,13119],"mapped",[12507,12531]],[[13120,13120],"mapped",[12509,12531,12489]],[[13121,13121],"mapped",[12507,12540,12523]],[[13122,13122],"mapped",[12507,12540,12531]],[[13123,13123],"mapped",[12510,12452,12463,12525]],[[13124,13124],"mapped",[12510,12452,12523]],[[13125,13125],"mapped",[12510,12483,12495]],[[13126,13126],"mapped",[12510,12523,12463]],[[13127,13127],"mapped",[12510,12531,12471,12519,12531]],[[13128,13128],"mapped",[12511,12463,12525,12531]],[[13129,13129],"mapped",[12511,12522]],[[13130,13130],"mapped",[12511,12522,12496,12540,12523]],[[13131,13131],"mapped",[12513,12460]],[[13132,13132],"mapped",[12513,12460,12488,12531]],[[13133,13133],"mapped",[12513,12540,12488,12523]],[[13134,13134],"mapped",[12516,12540,12489]],[[13135,13135],"mapped",[12516,12540,12523]],[[13136,13136],"mapped",[12518,12450,12531]],[[13137,13137],"mapped",[12522,12483,12488,12523]],[[13138,13138],"mapped",[12522,12521]],[[13139,13139],"mapped",[12523,12500,12540]],[[13140,13140],"mapped",[12523,12540,12502,12523]],[[13141,13141],"mapped",[12524,12512]],[[13142,13142],"mapped",[12524,12531,12488,12466,12531]],[[13143,13143],"mapped",[12527,12483,12488]],[[13144,13144],"mapped",[48,28857]],[[13145,13145],"mapped",[49,28857]],[[13146,13146],"mapped",[50,28857]],[[13147,13147],"mapped",[51,28857]],[[13148,13148],"mapped",[52,28857]],[[13149,13149],"mapped",[53,28857]],[[13150,13150],"mapped",[54,28857]],[[13151,13151],"mapped",[55,28857]],[[13152,13152],"mapped",[56,28857]],[[13153,13153],"mapped",[57,28857]],[[13154,13154],"mapped",[49,48,28857]],[[13155,13155],"mapped",[49,49,28857]],[[13156,13156],"mapped",[49,50,28857]],[[13157,13157],"mapped",[49,51,28857]],[[13158,13158],"mapped",[49,52,28857]],[[13159,13159],"mapped",[49,53,28857]],[[13160,13160],"mapped",[49,54,28857]],[[13161,13161],"mapped",[49,55,28857]],[[13162,13162],"mapped",[49,56,28857]],[[13163,13163],"mapped",[49,57,28857]],[[13164,13164],"mapped",[50,48,28857]],[[13165,13165],"mapped",[50,49,28857]],[[13166,13166],"mapped",[50,50,28857]],[[13167,13167],"mapped",[50,51,28857]],[[13168,13168],"mapped",[50,52,28857]],[[13169,13169],"mapped",[104,112,97]],[[13170,13170],"mapped",[100,97]],[[13171,13171],"mapped",[97,117]],[[13172,13172],"mapped",[98,97,114]],[[13173,13173],"mapped",[111,118]],[[13174,13174],"mapped",[112,99]],[[13175,13175],"mapped",[100,109]],[[13176,13176],"mapped",[100,109,50]],[[13177,13177],"mapped",[100,109,51]],[[13178,13178],"mapped",[105,117]],[[13179,13179],"mapped",[24179,25104]],[[13180,13180],"mapped",[26157,21644]],[[13181,13181],"mapped",[22823,27491]],[[13182,13182],"mapped",[26126,27835]],[[13183,13183],"mapped",[26666,24335,20250,31038]],[[13184,13184],"mapped",[112,97]],[[13185,13185],"mapped",[110,97]],[[13186,13186],"mapped",[956,97]],[[13187,13187],"mapped",[109,97]],[[13188,13188],"mapped",[107,97]],[[13189,13189],"mapped",[107,98]],[[13190,13190],"mapped",[109,98]],[[13191,13191],"mapped",[103,98]],[[13192,13192],"mapped",[99,97,108]],[[13193,13193],"mapped",[107,99,97,108]],[[13194,13194],"mapped",[112,102]],[[13195,13195],"mapped",[110,102]],[[13196,13196],"mapped",[956,102]],[[13197,13197],"mapped",[956,103]],[[13198,13198],"mapped",[109,103]],[[13199,13199],"mapped",[107,103]],[[13200,13200],"mapped",[104,122]],[[13201,13201],"mapped",[107,104,122]],[[13202,13202],"mapped",[109,104,122]],[[13203,13203],"mapped",[103,104,122]],[[13204,13204],"mapped",[116,104,122]],[[13205,13205],"mapped",[956,108]],[[13206,13206],"mapped",[109,108]],[[13207,13207],"mapped",[100,108]],[[13208,13208],"mapped",[107,108]],[[13209,13209],"mapped",[102,109]],[[13210,13210],"mapped",[110,109]],[[13211,13211],"mapped",[956,109]],[[13212,13212],"mapped",[109,109]],[[13213,13213],"mapped",[99,109]],[[13214,13214],"mapped",[107,109]],[[13215,13215],"mapped",[109,109,50]],[[13216,13216],"mapped",[99,109,50]],[[13217,13217],"mapped",[109,50]],[[13218,13218],"mapped",[107,109,50]],[[13219,13219],"mapped",[109,109,51]],[[13220,13220],"mapped",[99,109,51]],[[13221,13221],"mapped",[109,51]],[[13222,13222],"mapped",[107,109,51]],[[13223,13223],"mapped",[109,8725,115]],[[13224,13224],"mapped",[109,8725,115,50]],[[13225,13225],"mapped",[112,97]],[[13226,13226],"mapped",[107,112,97]],[[13227,13227],"mapped",[109,112,97]],[[13228,13228],"mapped",[103,112,97]],[[13229,13229],"mapped",[114,97,100]],[[13230,13230],"mapped",[114,97,100,8725,115]],[[13231,13231],"mapped",[114,97,100,8725,115,50]],[[13232,13232],"mapped",[112,115]],[[13233,13233],"mapped",[110,115]],[[13234,13234],"mapped",[956,115]],[[13235,13235],"mapped",[109,115]],[[13236,13236],"mapped",[112,118]],[[13237,13237],"mapped",[110,118]],[[13238,13238],"mapped",[956,118]],[[13239,13239],"mapped",[109,118]],[[13240,13240],"mapped",[107,118]],[[13241,13241],"mapped",[109,118]],[[13242,13242],"mapped",[112,119]],[[13243,13243],"mapped",[110,119]],[[13244,13244],"mapped",[956,119]],[[13245,13245],"mapped",[109,119]],[[13246,13246],"mapped",[107,119]],[[13247,13247],"mapped",[109,119]],[[13248,13248],"mapped",[107,969]],[[13249,13249],"mapped",[109,969]],[[13250,13250],"disallowed"],[[13251,13251],"mapped",[98,113]],[[13252,13252],"mapped",[99,99]],[[13253,13253],"mapped",[99,100]],[[13254,13254],"mapped",[99,8725,107,103]],[[13255,13255],"disallowed"],[[13256,13256],"mapped",[100,98]],[[13257,13257],"mapped",[103,121]],[[13258,13258],"mapped",[104,97]],[[13259,13259],"mapped",[104,112]],[[13260,13260],"mapped",[105,110]],[[13261,13261],"mapped",[107,107]],[[13262,13262],"mapped",[107,109]],[[13263,13263],"mapped",[107,116]],[[13264,13264],"mapped",[108,109]],[[13265,13265],"mapped",[108,110]],[[13266,13266],"mapped",[108,111,103]],[[13267,13267],"mapped",[108,120]],[[13268,13268],"mapped",[109,98]],[[13269,13269],"mapped",[109,105,108]],[[13270,13270],"mapped",[109,111,108]],[[13271,13271],"mapped",[112,104]],[[13272,13272],"disallowed"],[[13273,13273],"mapped",[112,112,109]],[[13274,13274],"mapped",[112,114]],[[13275,13275],"mapped",[115,114]],[[13276,13276],"mapped",[115,118]],[[13277,13277],"mapped",[119,98]],[[13278,13278],"mapped",[118,8725,109]],[[13279,13279],"mapped",[97,8725,109]],[[13280,13280],"mapped",[49,26085]],[[13281,13281],"mapped",[50,26085]],[[13282,13282],"mapped",[51,26085]],[[13283,13283],"mapped",[52,26085]],[[13284,13284],"mapped",[53,26085]],[[13285,13285],"mapped",[54,26085]],[[13286,13286],"mapped",[55,26085]],[[13287,13287],"mapped",[56,26085]],[[13288,13288],"mapped",[57,26085]],[[13289,13289],"mapped",[49,48,26085]],[[13290,13290],"mapped",[49,49,26085]],[[13291,13291],"mapped",[49,50,26085]],[[13292,13292],"mapped",[49,51,26085]],[[13293,13293],"mapped",[49,52,26085]],[[13294,13294],"mapped",[49,53,26085]],[[13295,13295],"mapped",[49,54,26085]],[[13296,13296],"mapped",[49,55,26085]],[[13297,13297],"mapped",[49,56,26085]],[[13298,13298],"mapped",[49,57,26085]],[[13299,13299],"mapped",[50,48,26085]],[[13300,13300],"mapped",[50,49,26085]],[[13301,13301],"mapped",[50,50,26085]],[[13302,13302],"mapped",[50,51,26085]],[[13303,13303],"mapped",[50,52,26085]],[[13304,13304],"mapped",[50,53,26085]],[[13305,13305],"mapped",[50,54,26085]],[[13306,13306],"mapped",[50,55,26085]],[[13307,13307],"mapped",[50,56,26085]],[[13308,13308],"mapped",[50,57,26085]],[[13309,13309],"mapped",[51,48,26085]],[[13310,13310],"mapped",[51,49,26085]],[[13311,13311],"mapped",[103,97,108]],[[13312,19893],"valid"],[[19894,19903],"disallowed"],[[19904,19967],"valid",[],"NV8"],[[19968,40869],"valid"],[[40870,40891],"valid"],[[40892,40899],"valid"],[[40900,40907],"valid"],[[40908,40908],"valid"],[[40909,40917],"valid"],[[40918,40959],"disallowed"],[[40960,42124],"valid"],[[42125,42127],"disallowed"],[[42128,42145],"valid",[],"NV8"],[[42146,42147],"valid",[],"NV8"],[[42148,42163],"valid",[],"NV8"],[[42164,42164],"valid",[],"NV8"],[[42165,42176],"valid",[],"NV8"],[[42177,42177],"valid",[],"NV8"],[[42178,42180],"valid",[],"NV8"],[[42181,42181],"valid",[],"NV8"],[[42182,42182],"valid",[],"NV8"],[[42183,42191],"disallowed"],[[42192,42237],"valid"],[[42238,42239],"valid",[],"NV8"],[[42240,42508],"valid"],[[42509,42511],"valid",[],"NV8"],[[42512,42539],"valid"],[[42540,42559],"disallowed"],[[42560,42560],"mapped",[42561]],[[42561,42561],"valid"],[[42562,42562],"mapped",[42563]],[[42563,42563],"valid"],[[42564,42564],"mapped",[42565]],[[42565,42565],"valid"],[[42566,42566],"mapped",[42567]],[[42567,42567],"valid"],[[42568,42568],"mapped",[42569]],[[42569,42569],"valid"],[[42570,42570],"mapped",[42571]],[[42571,42571],"valid"],[[42572,42572],"mapped",[42573]],[[42573,42573],"valid"],[[42574,42574],"mapped",[42575]],[[42575,42575],"valid"],[[42576,42576],"mapped",[42577]],[[42577,42577],"valid"],[[42578,42578],"mapped",[42579]],[[42579,42579],"valid"],[[42580,42580],"mapped",[42581]],[[42581,42581],"valid"],[[42582,42582],"mapped",[42583]],[[42583,42583],"valid"],[[42584,42584],"mapped",[42585]],[[42585,42585],"valid"],[[42586,42586],"mapped",[42587]],[[42587,42587],"valid"],[[42588,42588],"mapped",[42589]],[[42589,42589],"valid"],[[42590,42590],"mapped",[42591]],[[42591,42591],"valid"],[[42592,42592],"mapped",[42593]],[[42593,42593],"valid"],[[42594,42594],"mapped",[42595]],[[42595,42595],"valid"],[[42596,42596],"mapped",[42597]],[[42597,42597],"valid"],[[42598,42598],"mapped",[42599]],[[42599,42599],"valid"],[[42600,42600],"mapped",[42601]],[[42601,42601],"valid"],[[42602,42602],"mapped",[42603]],[[42603,42603],"valid"],[[42604,42604],"mapped",[42605]],[[42605,42607],"valid"],[[42608,42611],"valid",[],"NV8"],[[42612,42619],"valid"],[[42620,42621],"valid"],[[42622,42622],"valid",[],"NV8"],[[42623,42623],"valid"],[[42624,42624],"mapped",[42625]],[[42625,42625],"valid"],[[42626,42626],"mapped",[42627]],[[42627,42627],"valid"],[[42628,42628],"mapped",[42629]],[[42629,42629],"valid"],[[42630,42630],"mapped",[42631]],[[42631,42631],"valid"],[[42632,42632],"mapped",[42633]],[[42633,42633],"valid"],[[42634,42634],"mapped",[42635]],[[42635,42635],"valid"],[[42636,42636],"mapped",[42637]],[[42637,42637],"valid"],[[42638,42638],"mapped",[42639]],[[42639,42639],"valid"],[[42640,42640],"mapped",[42641]],[[42641,42641],"valid"],[[42642,42642],"mapped",[42643]],[[42643,42643],"valid"],[[42644,42644],"mapped",[42645]],[[42645,42645],"valid"],[[42646,42646],"mapped",[42647]],[[42647,42647],"valid"],[[42648,42648],"mapped",[42649]],[[42649,42649],"valid"],[[42650,42650],"mapped",[42651]],[[42651,42651],"valid"],[[42652,42652],"mapped",[1098]],[[42653,42653],"mapped",[1100]],[[42654,42654],"valid"],[[42655,42655],"valid"],[[42656,42725],"valid"],[[42726,42735],"valid",[],"NV8"],[[42736,42737],"valid"],[[42738,42743],"valid",[],"NV8"],[[42744,42751],"disallowed"],[[42752,42774],"valid",[],"NV8"],[[42775,42778],"valid"],[[42779,42783],"valid"],[[42784,42785],"valid",[],"NV8"],[[42786,42786],"mapped",[42787]],[[42787,42787],"valid"],[[42788,42788],"mapped",[42789]],[[42789,42789],"valid"],[[42790,42790],"mapped",[42791]],[[42791,42791],"valid"],[[42792,42792],"mapped",[42793]],[[42793,42793],"valid"],[[42794,42794],"mapped",[42795]],[[42795,42795],"valid"],[[42796,42796],"mapped",[42797]],[[42797,42797],"valid"],[[42798,42798],"mapped",[42799]],[[42799,42801],"valid"],[[42802,42802],"mapped",[42803]],[[42803,42803],"valid"],[[42804,42804],"mapped",[42805]],[[42805,42805],"valid"],[[42806,42806],"mapped",[42807]],[[42807,42807],"valid"],[[42808,42808],"mapped",[42809]],[[42809,42809],"valid"],[[42810,42810],"mapped",[42811]],[[42811,42811],"valid"],[[42812,42812],"mapped",[42813]],[[42813,42813],"valid"],[[42814,42814],"mapped",[42815]],[[42815,42815],"valid"],[[42816,42816],"mapped",[42817]],[[42817,42817],"valid"],[[42818,42818],"mapped",[42819]],[[42819,42819],"valid"],[[42820,42820],"mapped",[42821]],[[42821,42821],"valid"],[[42822,42822],"mapped",[42823]],[[42823,42823],"valid"],[[42824,42824],"mapped",[42825]],[[42825,42825],"valid"],[[42826,42826],"mapped",[42827]],[[42827,42827],"valid"],[[42828,42828],"mapped",[42829]],[[42829,42829],"valid"],[[42830,42830],"mapped",[42831]],[[42831,42831],"valid"],[[42832,42832],"mapped",[42833]],[[42833,42833],"valid"],[[42834,42834],"mapped",[42835]],[[42835,42835],"valid"],[[42836,42836],"mapped",[42837]],[[42837,42837],"valid"],[[42838,42838],"mapped",[42839]],[[42839,42839],"valid"],[[42840,42840],"mapped",[42841]],[[42841,42841],"valid"],[[42842,42842],"mapped",[42843]],[[42843,42843],"valid"],[[42844,42844],"mapped",[42845]],[[42845,42845],"valid"],[[42846,42846],"mapped",[42847]],[[42847,42847],"valid"],[[42848,42848],"mapped",[42849]],[[42849,42849],"valid"],[[42850,42850],"mapped",[42851]],[[42851,42851],"valid"],[[42852,42852],"mapped",[42853]],[[42853,42853],"valid"],[[42854,42854],"mapped",[42855]],[[42855,42855],"valid"],[[42856,42856],"mapped",[42857]],[[42857,42857],"valid"],[[42858,42858],"mapped",[42859]],[[42859,42859],"valid"],[[42860,42860],"mapped",[42861]],[[42861,42861],"valid"],[[42862,42862],"mapped",[42863]],[[42863,42863],"valid"],[[42864,42864],"mapped",[42863]],[[42865,42872],"valid"],[[42873,42873],"mapped",[42874]],[[42874,42874],"valid"],[[42875,42875],"mapped",[42876]],[[42876,42876],"valid"],[[42877,42877],"mapped",[7545]],[[42878,42878],"mapped",[42879]],[[42879,42879],"valid"],[[42880,42880],"mapped",[42881]],[[42881,42881],"valid"],[[42882,42882],"mapped",[42883]],[[42883,42883],"valid"],[[42884,42884],"mapped",[42885]],[[42885,42885],"valid"],[[42886,42886],"mapped",[42887]],[[42887,42888],"valid"],[[42889,42890],"valid",[],"NV8"],[[42891,42891],"mapped",[42892]],[[42892,42892],"valid"],[[42893,42893],"mapped",[613]],[[42894,42894],"valid"],[[42895,42895],"valid"],[[42896,42896],"mapped",[42897]],[[42897,42897],"valid"],[[42898,42898],"mapped",[42899]],[[42899,42899],"valid"],[[42900,42901],"valid"],[[42902,42902],"mapped",[42903]],[[42903,42903],"valid"],[[42904,42904],"mapped",[42905]],[[42905,42905],"valid"],[[42906,42906],"mapped",[42907]],[[42907,42907],"valid"],[[42908,42908],"mapped",[42909]],[[42909,42909],"valid"],[[42910,42910],"mapped",[42911]],[[42911,42911],"valid"],[[42912,42912],"mapped",[42913]],[[42913,42913],"valid"],[[42914,42914],"mapped",[42915]],[[42915,42915],"valid"],[[42916,42916],"mapped",[42917]],[[42917,42917],"valid"],[[42918,42918],"mapped",[42919]],[[42919,42919],"valid"],[[42920,42920],"mapped",[42921]],[[42921,42921],"valid"],[[42922,42922],"mapped",[614]],[[42923,42923],"mapped",[604]],[[42924,42924],"mapped",[609]],[[42925,42925],"mapped",[620]],[[42926,42927],"disallowed"],[[42928,42928],"mapped",[670]],[[42929,42929],"mapped",[647]],[[42930,42930],"mapped",[669]],[[42931,42931],"mapped",[43859]],[[42932,42932],"mapped",[42933]],[[42933,42933],"valid"],[[42934,42934],"mapped",[42935]],[[42935,42935],"valid"],[[42936,42998],"disallowed"],[[42999,42999],"valid"],[[43e3,43e3],"mapped",[295]],[[43001,43001],"mapped",[339]],[[43002,43002],"valid"],[[43003,43007],"valid"],[[43008,43047],"valid"],[[43048,43051],"valid",[],"NV8"],[[43052,43055],"disallowed"],[[43056,43065],"valid",[],"NV8"],[[43066,43071],"disallowed"],[[43072,43123],"valid"],[[43124,43127],"valid",[],"NV8"],[[43128,43135],"disallowed"],[[43136,43204],"valid"],[[43205,43213],"disallowed"],[[43214,43215],"valid",[],"NV8"],[[43216,43225],"valid"],[[43226,43231],"disallowed"],[[43232,43255],"valid"],[[43256,43258],"valid",[],"NV8"],[[43259,43259],"valid"],[[43260,43260],"valid",[],"NV8"],[[43261,43261],"valid"],[[43262,43263],"disallowed"],[[43264,43309],"valid"],[[43310,43311],"valid",[],"NV8"],[[43312,43347],"valid"],[[43348,43358],"disallowed"],[[43359,43359],"valid",[],"NV8"],[[43360,43388],"valid",[],"NV8"],[[43389,43391],"disallowed"],[[43392,43456],"valid"],[[43457,43469],"valid",[],"NV8"],[[43470,43470],"disallowed"],[[43471,43481],"valid"],[[43482,43485],"disallowed"],[[43486,43487],"valid",[],"NV8"],[[43488,43518],"valid"],[[43519,43519],"disallowed"],[[43520,43574],"valid"],[[43575,43583],"disallowed"],[[43584,43597],"valid"],[[43598,43599],"disallowed"],[[43600,43609],"valid"],[[43610,43611],"disallowed"],[[43612,43615],"valid",[],"NV8"],[[43616,43638],"valid"],[[43639,43641],"valid",[],"NV8"],[[43642,43643],"valid"],[[43644,43647],"valid"],[[43648,43714],"valid"],[[43715,43738],"disallowed"],[[43739,43741],"valid"],[[43742,43743],"valid",[],"NV8"],[[43744,43759],"valid"],[[43760,43761],"valid",[],"NV8"],[[43762,43766],"valid"],[[43767,43776],"disallowed"],[[43777,43782],"valid"],[[43783,43784],"disallowed"],[[43785,43790],"valid"],[[43791,43792],"disallowed"],[[43793,43798],"valid"],[[43799,43807],"disallowed"],[[43808,43814],"valid"],[[43815,43815],"disallowed"],[[43816,43822],"valid"],[[43823,43823],"disallowed"],[[43824,43866],"valid"],[[43867,43867],"valid",[],"NV8"],[[43868,43868],"mapped",[42791]],[[43869,43869],"mapped",[43831]],[[43870,43870],"mapped",[619]],[[43871,43871],"mapped",[43858]],[[43872,43875],"valid"],[[43876,43877],"valid"],[[43878,43887],"disallowed"],[[43888,43888],"mapped",[5024]],[[43889,43889],"mapped",[5025]],[[43890,43890],"mapped",[5026]],[[43891,43891],"mapped",[5027]],[[43892,43892],"mapped",[5028]],[[43893,43893],"mapped",[5029]],[[43894,43894],"mapped",[5030]],[[43895,43895],"mapped",[5031]],[[43896,43896],"mapped",[5032]],[[43897,43897],"mapped",[5033]],[[43898,43898],"mapped",[5034]],[[43899,43899],"mapped",[5035]],[[43900,43900],"mapped",[5036]],[[43901,43901],"mapped",[5037]],[[43902,43902],"mapped",[5038]],[[43903,43903],"mapped",[5039]],[[43904,43904],"mapped",[5040]],[[43905,43905],"mapped",[5041]],[[43906,43906],"mapped",[5042]],[[43907,43907],"mapped",[5043]],[[43908,43908],"mapped",[5044]],[[43909,43909],"mapped",[5045]],[[43910,43910],"mapped",[5046]],[[43911,43911],"mapped",[5047]],[[43912,43912],"mapped",[5048]],[[43913,43913],"mapped",[5049]],[[43914,43914],"mapped",[5050]],[[43915,43915],"mapped",[5051]],[[43916,43916],"mapped",[5052]],[[43917,43917],"mapped",[5053]],[[43918,43918],"mapped",[5054]],[[43919,43919],"mapped",[5055]],[[43920,43920],"mapped",[5056]],[[43921,43921],"mapped",[5057]],[[43922,43922],"mapped",[5058]],[[43923,43923],"mapped",[5059]],[[43924,43924],"mapped",[5060]],[[43925,43925],"mapped",[5061]],[[43926,43926],"mapped",[5062]],[[43927,43927],"mapped",[5063]],[[43928,43928],"mapped",[5064]],[[43929,43929],"mapped",[5065]],[[43930,43930],"mapped",[5066]],[[43931,43931],"mapped",[5067]],[[43932,43932],"mapped",[5068]],[[43933,43933],"mapped",[5069]],[[43934,43934],"mapped",[5070]],[[43935,43935],"mapped",[5071]],[[43936,43936],"mapped",[5072]],[[43937,43937],"mapped",[5073]],[[43938,43938],"mapped",[5074]],[[43939,43939],"mapped",[5075]],[[43940,43940],"mapped",[5076]],[[43941,43941],"mapped",[5077]],[[43942,43942],"mapped",[5078]],[[43943,43943],"mapped",[5079]],[[43944,43944],"mapped",[5080]],[[43945,43945],"mapped",[5081]],[[43946,43946],"mapped",[5082]],[[43947,43947],"mapped",[5083]],[[43948,43948],"mapped",[5084]],[[43949,43949],"mapped",[5085]],[[43950,43950],"mapped",[5086]],[[43951,43951],"mapped",[5087]],[[43952,43952],"mapped",[5088]],[[43953,43953],"mapped",[5089]],[[43954,43954],"mapped",[5090]],[[43955,43955],"mapped",[5091]],[[43956,43956],"mapped",[5092]],[[43957,43957],"mapped",[5093]],[[43958,43958],"mapped",[5094]],[[43959,43959],"mapped",[5095]],[[43960,43960],"mapped",[5096]],[[43961,43961],"mapped",[5097]],[[43962,43962],"mapped",[5098]],[[43963,43963],"mapped",[5099]],[[43964,43964],"mapped",[5100]],[[43965,43965],"mapped",[5101]],[[43966,43966],"mapped",[5102]],[[43967,43967],"mapped",[5103]],[[43968,44010],"valid"],[[44011,44011],"valid",[],"NV8"],[[44012,44013],"valid"],[[44014,44015],"disallowed"],[[44016,44025],"valid"],[[44026,44031],"disallowed"],[[44032,55203],"valid"],[[55204,55215],"disallowed"],[[55216,55238],"valid",[],"NV8"],[[55239,55242],"disallowed"],[[55243,55291],"valid",[],"NV8"],[[55292,55295],"disallowed"],[[55296,57343],"disallowed"],[[57344,63743],"disallowed"],[[63744,63744],"mapped",[35912]],[[63745,63745],"mapped",[26356]],[[63746,63746],"mapped",[36554]],[[63747,63747],"mapped",[36040]],[[63748,63748],"mapped",[28369]],[[63749,63749],"mapped",[20018]],[[63750,63750],"mapped",[21477]],[[63751,63752],"mapped",[40860]],[[63753,63753],"mapped",[22865]],[[63754,63754],"mapped",[37329]],[[63755,63755],"mapped",[21895]],[[63756,63756],"mapped",[22856]],[[63757,63757],"mapped",[25078]],[[63758,63758],"mapped",[30313]],[[63759,63759],"mapped",[32645]],[[63760,63760],"mapped",[34367]],[[63761,63761],"mapped",[34746]],[[63762,63762],"mapped",[35064]],[[63763,63763],"mapped",[37007]],[[63764,63764],"mapped",[27138]],[[63765,63765],"mapped",[27931]],[[63766,63766],"mapped",[28889]],[[63767,63767],"mapped",[29662]],[[63768,63768],"mapped",[33853]],[[63769,63769],"mapped",[37226]],[[63770,63770],"mapped",[39409]],[[63771,63771],"mapped",[20098]],[[63772,63772],"mapped",[21365]],[[63773,63773],"mapped",[27396]],[[63774,63774],"mapped",[29211]],[[63775,63775],"mapped",[34349]],[[63776,63776],"mapped",[40478]],[[63777,63777],"mapped",[23888]],[[63778,63778],"mapped",[28651]],[[63779,63779],"mapped",[34253]],[[63780,63780],"mapped",[35172]],[[63781,63781],"mapped",[25289]],[[63782,63782],"mapped",[33240]],[[63783,63783],"mapped",[34847]],[[63784,63784],"mapped",[24266]],[[63785,63785],"mapped",[26391]],[[63786,63786],"mapped",[28010]],[[63787,63787],"mapped",[29436]],[[63788,63788],"mapped",[37070]],[[63789,63789],"mapped",[20358]],[[63790,63790],"mapped",[20919]],[[63791,63791],"mapped",[21214]],[[63792,63792],"mapped",[25796]],[[63793,63793],"mapped",[27347]],[[63794,63794],"mapped",[29200]],[[63795,63795],"mapped",[30439]],[[63796,63796],"mapped",[32769]],[[63797,63797],"mapped",[34310]],[[63798,63798],"mapped",[34396]],[[63799,63799],"mapped",[36335]],[[63800,63800],"mapped",[38706]],[[63801,63801],"mapped",[39791]],[[63802,63802],"mapped",[40442]],[[63803,63803],"mapped",[30860]],[[63804,63804],"mapped",[31103]],[[63805,63805],"mapped",[32160]],[[63806,63806],"mapped",[33737]],[[63807,63807],"mapped",[37636]],[[63808,63808],"mapped",[40575]],[[63809,63809],"mapped",[35542]],[[63810,63810],"mapped",[22751]],[[63811,63811],"mapped",[24324]],[[63812,63812],"mapped",[31840]],[[63813,63813],"mapped",[32894]],[[63814,63814],"mapped",[29282]],[[63815,63815],"mapped",[30922]],[[63816,63816],"mapped",[36034]],[[63817,63817],"mapped",[38647]],[[63818,63818],"mapped",[22744]],[[63819,63819],"mapped",[23650]],[[63820,63820],"mapped",[27155]],[[63821,63821],"mapped",[28122]],[[63822,63822],"mapped",[28431]],[[63823,63823],"mapped",[32047]],[[63824,63824],"mapped",[32311]],[[63825,63825],"mapped",[38475]],[[63826,63826],"mapped",[21202]],[[63827,63827],"mapped",[32907]],[[63828,63828],"mapped",[20956]],[[63829,63829],"mapped",[20940]],[[63830,63830],"mapped",[31260]],[[63831,63831],"mapped",[32190]],[[63832,63832],"mapped",[33777]],[[63833,63833],"mapped",[38517]],[[63834,63834],"mapped",[35712]],[[63835,63835],"mapped",[25295]],[[63836,63836],"mapped",[27138]],[[63837,63837],"mapped",[35582]],[[63838,63838],"mapped",[20025]],[[63839,63839],"mapped",[23527]],[[63840,63840],"mapped",[24594]],[[63841,63841],"mapped",[29575]],[[63842,63842],"mapped",[30064]],[[63843,63843],"mapped",[21271]],[[63844,63844],"mapped",[30971]],[[63845,63845],"mapped",[20415]],[[63846,63846],"mapped",[24489]],[[63847,63847],"mapped",[19981]],[[63848,63848],"mapped",[27852]],[[63849,63849],"mapped",[25976]],[[63850,63850],"mapped",[32034]],[[63851,63851],"mapped",[21443]],[[63852,63852],"mapped",[22622]],[[63853,63853],"mapped",[30465]],[[63854,63854],"mapped",[33865]],[[63855,63855],"mapped",[35498]],[[63856,63856],"mapped",[27578]],[[63857,63857],"mapped",[36784]],[[63858,63858],"mapped",[27784]],[[63859,63859],"mapped",[25342]],[[63860,63860],"mapped",[33509]],[[63861,63861],"mapped",[25504]],[[63862,63862],"mapped",[30053]],[[63863,63863],"mapped",[20142]],[[63864,63864],"mapped",[20841]],[[63865,63865],"mapped",[20937]],[[63866,63866],"mapped",[26753]],[[63867,63867],"mapped",[31975]],[[63868,63868],"mapped",[33391]],[[63869,63869],"mapped",[35538]],[[63870,63870],"mapped",[37327]],[[63871,63871],"mapped",[21237]],[[63872,63872],"mapped",[21570]],[[63873,63873],"mapped",[22899]],[[63874,63874],"mapped",[24300]],[[63875,63875],"mapped",[26053]],[[63876,63876],"mapped",[28670]],[[63877,63877],"mapped",[31018]],[[63878,63878],"mapped",[38317]],[[63879,63879],"mapped",[39530]],[[63880,63880],"mapped",[40599]],[[63881,63881],"mapped",[40654]],[[63882,63882],"mapped",[21147]],[[63883,63883],"mapped",[26310]],[[63884,63884],"mapped",[27511]],[[63885,63885],"mapped",[36706]],[[63886,63886],"mapped",[24180]],[[63887,63887],"mapped",[24976]],[[63888,63888],"mapped",[25088]],[[63889,63889],"mapped",[25754]],[[63890,63890],"mapped",[28451]],[[63891,63891],"mapped",[29001]],[[63892,63892],"mapped",[29833]],[[63893,63893],"mapped",[31178]],[[63894,63894],"mapped",[32244]],[[63895,63895],"mapped",[32879]],[[63896,63896],"mapped",[36646]],[[63897,63897],"mapped",[34030]],[[63898,63898],"mapped",[36899]],[[63899,63899],"mapped",[37706]],[[63900,63900],"mapped",[21015]],[[63901,63901],"mapped",[21155]],[[63902,63902],"mapped",[21693]],[[63903,63903],"mapped",[28872]],[[63904,63904],"mapped",[35010]],[[63905,63905],"mapped",[35498]],[[63906,63906],"mapped",[24265]],[[63907,63907],"mapped",[24565]],[[63908,63908],"mapped",[25467]],[[63909,63909],"mapped",[27566]],[[63910,63910],"mapped",[31806]],[[63911,63911],"mapped",[29557]],[[63912,63912],"mapped",[20196]],[[63913,63913],"mapped",[22265]],[[63914,63914],"mapped",[23527]],[[63915,63915],"mapped",[23994]],[[63916,63916],"mapped",[24604]],[[63917,63917],"mapped",[29618]],[[63918,63918],"mapped",[29801]],[[63919,63919],"mapped",[32666]],[[63920,63920],"mapped",[32838]],[[63921,63921],"mapped",[37428]],[[63922,63922],"mapped",[38646]],[[63923,63923],"mapped",[38728]],[[63924,63924],"mapped",[38936]],[[63925,63925],"mapped",[20363]],[[63926,63926],"mapped",[31150]],[[63927,63927],"mapped",[37300]],[[63928,63928],"mapped",[38584]],[[63929,63929],"mapped",[24801]],[[63930,63930],"mapped",[20102]],[[63931,63931],"mapped",[20698]],[[63932,63932],"mapped",[23534]],[[63933,63933],"mapped",[23615]],[[63934,63934],"mapped",[26009]],[[63935,63935],"mapped",[27138]],[[63936,63936],"mapped",[29134]],[[63937,63937],"mapped",[30274]],[[63938,63938],"mapped",[34044]],[[63939,63939],"mapped",[36988]],[[63940,63940],"mapped",[40845]],[[63941,63941],"mapped",[26248]],[[63942,63942],"mapped",[38446]],[[63943,63943],"mapped",[21129]],[[63944,63944],"mapped",[26491]],[[63945,63945],"mapped",[26611]],[[63946,63946],"mapped",[27969]],[[63947,63947],"mapped",[28316]],[[63948,63948],"mapped",[29705]],[[63949,63949],"mapped",[30041]],[[63950,63950],"mapped",[30827]],[[63951,63951],"mapped",[32016]],[[63952,63952],"mapped",[39006]],[[63953,63953],"mapped",[20845]],[[63954,63954],"mapped",[25134]],[[63955,63955],"mapped",[38520]],[[63956,63956],"mapped",[20523]],[[63957,63957],"mapped",[23833]],[[63958,63958],"mapped",[28138]],[[63959,63959],"mapped",[36650]],[[63960,63960],"mapped",[24459]],[[63961,63961],"mapped",[24900]],[[63962,63962],"mapped",[26647]],[[63963,63963],"mapped",[29575]],[[63964,63964],"mapped",[38534]],[[63965,63965],"mapped",[21033]],[[63966,63966],"mapped",[21519]],[[63967,63967],"mapped",[23653]],[[63968,63968],"mapped",[26131]],[[63969,63969],"mapped",[26446]],[[63970,63970],"mapped",[26792]],[[63971,63971],"mapped",[27877]],[[63972,63972],"mapped",[29702]],[[63973,63973],"mapped",[30178]],[[63974,63974],"mapped",[32633]],[[63975,63975],"mapped",[35023]],[[63976,63976],"mapped",[35041]],[[63977,63977],"mapped",[37324]],[[63978,63978],"mapped",[38626]],[[63979,63979],"mapped",[21311]],[[63980,63980],"mapped",[28346]],[[63981,63981],"mapped",[21533]],[[63982,63982],"mapped",[29136]],[[63983,63983],"mapped",[29848]],[[63984,63984],"mapped",[34298]],[[63985,63985],"mapped",[38563]],[[63986,63986],"mapped",[40023]],[[63987,63987],"mapped",[40607]],[[63988,63988],"mapped",[26519]],[[63989,63989],"mapped",[28107]],[[63990,63990],"mapped",[33256]],[[63991,63991],"mapped",[31435]],[[63992,63992],"mapped",[31520]],[[63993,63993],"mapped",[31890]],[[63994,63994],"mapped",[29376]],[[63995,63995],"mapped",[28825]],[[63996,63996],"mapped",[35672]],[[63997,63997],"mapped",[20160]],[[63998,63998],"mapped",[33590]],[[63999,63999],"mapped",[21050]],[[64e3,64e3],"mapped",[20999]],[[64001,64001],"mapped",[24230]],[[64002,64002],"mapped",[25299]],[[64003,64003],"mapped",[31958]],[[64004,64004],"mapped",[23429]],[[64005,64005],"mapped",[27934]],[[64006,64006],"mapped",[26292]],[[64007,64007],"mapped",[36667]],[[64008,64008],"mapped",[34892]],[[64009,64009],"mapped",[38477]],[[64010,64010],"mapped",[35211]],[[64011,64011],"mapped",[24275]],[[64012,64012],"mapped",[20800]],[[64013,64013],"mapped",[21952]],[[64014,64015],"valid"],[[64016,64016],"mapped",[22618]],[[64017,64017],"valid"],[[64018,64018],"mapped",[26228]],[[64019,64020],"valid"],[[64021,64021],"mapped",[20958]],[[64022,64022],"mapped",[29482]],[[64023,64023],"mapped",[30410]],[[64024,64024],"mapped",[31036]],[[64025,64025],"mapped",[31070]],[[64026,64026],"mapped",[31077]],[[64027,64027],"mapped",[31119]],[[64028,64028],"mapped",[38742]],[[64029,64029],"mapped",[31934]],[[64030,64030],"mapped",[32701]],[[64031,64031],"valid"],[[64032,64032],"mapped",[34322]],[[64033,64033],"valid"],[[64034,64034],"mapped",[35576]],[[64035,64036],"valid"],[[64037,64037],"mapped",[36920]],[[64038,64038],"mapped",[37117]],[[64039,64041],"valid"],[[64042,64042],"mapped",[39151]],[[64043,64043],"mapped",[39164]],[[64044,64044],"mapped",[39208]],[[64045,64045],"mapped",[40372]],[[64046,64046],"mapped",[37086]],[[64047,64047],"mapped",[38583]],[[64048,64048],"mapped",[20398]],[[64049,64049],"mapped",[20711]],[[64050,64050],"mapped",[20813]],[[64051,64051],"mapped",[21193]],[[64052,64052],"mapped",[21220]],[[64053,64053],"mapped",[21329]],[[64054,64054],"mapped",[21917]],[[64055,64055],"mapped",[22022]],[[64056,64056],"mapped",[22120]],[[64057,64057],"mapped",[22592]],[[64058,64058],"mapped",[22696]],[[64059,64059],"mapped",[23652]],[[64060,64060],"mapped",[23662]],[[64061,64061],"mapped",[24724]],[[64062,64062],"mapped",[24936]],[[64063,64063],"mapped",[24974]],[[64064,64064],"mapped",[25074]],[[64065,64065],"mapped",[25935]],[[64066,64066],"mapped",[26082]],[[64067,64067],"mapped",[26257]],[[64068,64068],"mapped",[26757]],[[64069,64069],"mapped",[28023]],[[64070,64070],"mapped",[28186]],[[64071,64071],"mapped",[28450]],[[64072,64072],"mapped",[29038]],[[64073,64073],"mapped",[29227]],[[64074,64074],"mapped",[29730]],[[64075,64075],"mapped",[30865]],[[64076,64076],"mapped",[31038]],[[64077,64077],"mapped",[31049]],[[64078,64078],"mapped",[31048]],[[64079,64079],"mapped",[31056]],[[64080,64080],"mapped",[31062]],[[64081,64081],"mapped",[31069]],[[64082,64082],"mapped",[31117]],[[64083,64083],"mapped",[31118]],[[64084,64084],"mapped",[31296]],[[64085,64085],"mapped",[31361]],[[64086,64086],"mapped",[31680]],[[64087,64087],"mapped",[32244]],[[64088,64088],"mapped",[32265]],[[64089,64089],"mapped",[32321]],[[64090,64090],"mapped",[32626]],[[64091,64091],"mapped",[32773]],[[64092,64092],"mapped",[33261]],[[64093,64094],"mapped",[33401]],[[64095,64095],"mapped",[33879]],[[64096,64096],"mapped",[35088]],[[64097,64097],"mapped",[35222]],[[64098,64098],"mapped",[35585]],[[64099,64099],"mapped",[35641]],[[64100,64100],"mapped",[36051]],[[64101,64101],"mapped",[36104]],[[64102,64102],"mapped",[36790]],[[64103,64103],"mapped",[36920]],[[64104,64104],"mapped",[38627]],[[64105,64105],"mapped",[38911]],[[64106,64106],"mapped",[38971]],[[64107,64107],"mapped",[24693]],[[64108,64108],"mapped",[148206]],[[64109,64109],"mapped",[33304]],[[64110,64111],"disallowed"],[[64112,64112],"mapped",[20006]],[[64113,64113],"mapped",[20917]],[[64114,64114],"mapped",[20840]],[[64115,64115],"mapped",[20352]],[[64116,64116],"mapped",[20805]],[[64117,64117],"mapped",[20864]],[[64118,64118],"mapped",[21191]],[[64119,64119],"mapped",[21242]],[[64120,64120],"mapped",[21917]],[[64121,64121],"mapped",[21845]],[[64122,64122],"mapped",[21913]],[[64123,64123],"mapped",[21986]],[[64124,64124],"mapped",[22618]],[[64125,64125],"mapped",[22707]],[[64126,64126],"mapped",[22852]],[[64127,64127],"mapped",[22868]],[[64128,64128],"mapped",[23138]],[[64129,64129],"mapped",[23336]],[[64130,64130],"mapped",[24274]],[[64131,64131],"mapped",[24281]],[[64132,64132],"mapped",[24425]],[[64133,64133],"mapped",[24493]],[[64134,64134],"mapped",[24792]],[[64135,64135],"mapped",[24910]],[[64136,64136],"mapped",[24840]],[[64137,64137],"mapped",[24974]],[[64138,64138],"mapped",[24928]],[[64139,64139],"mapped",[25074]],[[64140,64140],"mapped",[25140]],[[64141,64141],"mapped",[25540]],[[64142,64142],"mapped",[25628]],[[64143,64143],"mapped",[25682]],[[64144,64144],"mapped",[25942]],[[64145,64145],"mapped",[26228]],[[64146,64146],"mapped",[26391]],[[64147,64147],"mapped",[26395]],[[64148,64148],"mapped",[26454]],[[64149,64149],"mapped",[27513]],[[64150,64150],"mapped",[27578]],[[64151,64151],"mapped",[27969]],[[64152,64152],"mapped",[28379]],[[64153,64153],"mapped",[28363]],[[64154,64154],"mapped",[28450]],[[64155,64155],"mapped",[28702]],[[64156,64156],"mapped",[29038]],[[64157,64157],"mapped",[30631]],[[64158,64158],"mapped",[29237]],[[64159,64159],"mapped",[29359]],[[64160,64160],"mapped",[29482]],[[64161,64161],"mapped",[29809]],[[64162,64162],"mapped",[29958]],[[64163,64163],"mapped",[30011]],[[64164,64164],"mapped",[30237]],[[64165,64165],"mapped",[30239]],[[64166,64166],"mapped",[30410]],[[64167,64167],"mapped",[30427]],[[64168,64168],"mapped",[30452]],[[64169,64169],"mapped",[30538]],[[64170,64170],"mapped",[30528]],[[64171,64171],"mapped",[30924]],[[64172,64172],"mapped",[31409]],[[64173,64173],"mapped",[31680]],[[64174,64174],"mapped",[31867]],[[64175,64175],"mapped",[32091]],[[64176,64176],"mapped",[32244]],[[64177,64177],"mapped",[32574]],[[64178,64178],"mapped",[32773]],[[64179,64179],"mapped",[33618]],[[64180,64180],"mapped",[33775]],[[64181,64181],"mapped",[34681]],[[64182,64182],"mapped",[35137]],[[64183,64183],"mapped",[35206]],[[64184,64184],"mapped",[35222]],[[64185,64185],"mapped",[35519]],[[64186,64186],"mapped",[35576]],[[64187,64187],"mapped",[35531]],[[64188,64188],"mapped",[35585]],[[64189,64189],"mapped",[35582]],[[64190,64190],"mapped",[35565]],[[64191,64191],"mapped",[35641]],[[64192,64192],"mapped",[35722]],[[64193,64193],"mapped",[36104]],[[64194,64194],"mapped",[36664]],[[64195,64195],"mapped",[36978]],[[64196,64196],"mapped",[37273]],[[64197,64197],"mapped",[37494]],[[64198,64198],"mapped",[38524]],[[64199,64199],"mapped",[38627]],[[64200,64200],"mapped",[38742]],[[64201,64201],"mapped",[38875]],[[64202,64202],"mapped",[38911]],[[64203,64203],"mapped",[38923]],[[64204,64204],"mapped",[38971]],[[64205,64205],"mapped",[39698]],[[64206,64206],"mapped",[40860]],[[64207,64207],"mapped",[141386]],[[64208,64208],"mapped",[141380]],[[64209,64209],"mapped",[144341]],[[64210,64210],"mapped",[15261]],[[64211,64211],"mapped",[16408]],[[64212,64212],"mapped",[16441]],[[64213,64213],"mapped",[152137]],[[64214,64214],"mapped",[154832]],[[64215,64215],"mapped",[163539]],[[64216,64216],"mapped",[40771]],[[64217,64217],"mapped",[40846]],[[64218,64255],"disallowed"],[[64256,64256],"mapped",[102,102]],[[64257,64257],"mapped",[102,105]],[[64258,64258],"mapped",[102,108]],[[64259,64259],"mapped",[102,102,105]],[[64260,64260],"mapped",[102,102,108]],[[64261,64262],"mapped",[115,116]],[[64263,64274],"disallowed"],[[64275,64275],"mapped",[1396,1398]],[[64276,64276],"mapped",[1396,1381]],[[64277,64277],"mapped",[1396,1387]],[[64278,64278],"mapped",[1406,1398]],[[64279,64279],"mapped",[1396,1389]],[[64280,64284],"disallowed"],[[64285,64285],"mapped",[1497,1460]],[[64286,64286],"valid"],[[64287,64287],"mapped",[1522,1463]],[[64288,64288],"mapped",[1506]],[[64289,64289],"mapped",[1488]],[[64290,64290],"mapped",[1491]],[[64291,64291],"mapped",[1492]],[[64292,64292],"mapped",[1499]],[[64293,64293],"mapped",[1500]],[[64294,64294],"mapped",[1501]],[[64295,64295],"mapped",[1512]],[[64296,64296],"mapped",[1514]],[[64297,64297],"disallowed_STD3_mapped",[43]],[[64298,64298],"mapped",[1513,1473]],[[64299,64299],"mapped",[1513,1474]],[[64300,64300],"mapped",[1513,1468,1473]],[[64301,64301],"mapped",[1513,1468,1474]],[[64302,64302],"mapped",[1488,1463]],[[64303,64303],"mapped",[1488,1464]],[[64304,64304],"mapped",[1488,1468]],[[64305,64305],"mapped",[1489,1468]],[[64306,64306],"mapped",[1490,1468]],[[64307,64307],"mapped",[1491,1468]],[[64308,64308],"mapped",[1492,1468]],[[64309,64309],"mapped",[1493,1468]],[[64310,64310],"mapped",[1494,1468]],[[64311,64311],"disallowed"],[[64312,64312],"mapped",[1496,1468]],[[64313,64313],"mapped",[1497,1468]],[[64314,64314],"mapped",[1498,1468]],[[64315,64315],"mapped",[1499,1468]],[[64316,64316],"mapped",[1500,1468]],[[64317,64317],"disallowed"],[[64318,64318],"mapped",[1502,1468]],[[64319,64319],"disallowed"],[[64320,64320],"mapped",[1504,1468]],[[64321,64321],"mapped",[1505,1468]],[[64322,64322],"disallowed"],[[64323,64323],"mapped",[1507,1468]],[[64324,64324],"mapped",[1508,1468]],[[64325,64325],"disallowed"],[[64326,64326],"mapped",[1510,1468]],[[64327,64327],"mapped",[1511,1468]],[[64328,64328],"mapped",[1512,1468]],[[64329,64329],"mapped",[1513,1468]],[[64330,64330],"mapped",[1514,1468]],[[64331,64331],"mapped",[1493,1465]],[[64332,64332],"mapped",[1489,1471]],[[64333,64333],"mapped",[1499,1471]],[[64334,64334],"mapped",[1508,1471]],[[64335,64335],"mapped",[1488,1500]],[[64336,64337],"mapped",[1649]],[[64338,64341],"mapped",[1659]],[[64342,64345],"mapped",[1662]],[[64346,64349],"mapped",[1664]],[[64350,64353],"mapped",[1658]],[[64354,64357],"mapped",[1663]],[[64358,64361],"mapped",[1657]],[[64362,64365],"mapped",[1700]],[[64366,64369],"mapped",[1702]],[[64370,64373],"mapped",[1668]],[[64374,64377],"mapped",[1667]],[[64378,64381],"mapped",[1670]],[[64382,64385],"mapped",[1671]],[[64386,64387],"mapped",[1677]],[[64388,64389],"mapped",[1676]],[[64390,64391],"mapped",[1678]],[[64392,64393],"mapped",[1672]],[[64394,64395],"mapped",[1688]],[[64396,64397],"mapped",[1681]],[[64398,64401],"mapped",[1705]],[[64402,64405],"mapped",[1711]],[[64406,64409],"mapped",[1715]],[[64410,64413],"mapped",[1713]],[[64414,64415],"mapped",[1722]],[[64416,64419],"mapped",[1723]],[[64420,64421],"mapped",[1728]],[[64422,64425],"mapped",[1729]],[[64426,64429],"mapped",[1726]],[[64430,64431],"mapped",[1746]],[[64432,64433],"mapped",[1747]],[[64434,64449],"valid",[],"NV8"],[[64450,64466],"disallowed"],[[64467,64470],"mapped",[1709]],[[64471,64472],"mapped",[1735]],[[64473,64474],"mapped",[1734]],[[64475,64476],"mapped",[1736]],[[64477,64477],"mapped",[1735,1652]],[[64478,64479],"mapped",[1739]],[[64480,64481],"mapped",[1733]],[[64482,64483],"mapped",[1737]],[[64484,64487],"mapped",[1744]],[[64488,64489],"mapped",[1609]],[[64490,64491],"mapped",[1574,1575]],[[64492,64493],"mapped",[1574,1749]],[[64494,64495],"mapped",[1574,1608]],[[64496,64497],"mapped",[1574,1735]],[[64498,64499],"mapped",[1574,1734]],[[64500,64501],"mapped",[1574,1736]],[[64502,64504],"mapped",[1574,1744]],[[64505,64507],"mapped",[1574,1609]],[[64508,64511],"mapped",[1740]],[[64512,64512],"mapped",[1574,1580]],[[64513,64513],"mapped",[1574,1581]],[[64514,64514],"mapped",[1574,1605]],[[64515,64515],"mapped",[1574,1609]],[[64516,64516],"mapped",[1574,1610]],[[64517,64517],"mapped",[1576,1580]],[[64518,64518],"mapped",[1576,1581]],[[64519,64519],"mapped",[1576,1582]],[[64520,64520],"mapped",[1576,1605]],[[64521,64521],"mapped",[1576,1609]],[[64522,64522],"mapped",[1576,1610]],[[64523,64523],"mapped",[1578,1580]],[[64524,64524],"mapped",[1578,1581]],[[64525,64525],"mapped",[1578,1582]],[[64526,64526],"mapped",[1578,1605]],[[64527,64527],"mapped",[1578,1609]],[[64528,64528],"mapped",[1578,1610]],[[64529,64529],"mapped",[1579,1580]],[[64530,64530],"mapped",[1579,1605]],[[64531,64531],"mapped",[1579,1609]],[[64532,64532],"mapped",[1579,1610]],[[64533,64533],"mapped",[1580,1581]],[[64534,64534],"mapped",[1580,1605]],[[64535,64535],"mapped",[1581,1580]],[[64536,64536],"mapped",[1581,1605]],[[64537,64537],"mapped",[1582,1580]],[[64538,64538],"mapped",[1582,1581]],[[64539,64539],"mapped",[1582,1605]],[[64540,64540],"mapped",[1587,1580]],[[64541,64541],"mapped",[1587,1581]],[[64542,64542],"mapped",[1587,1582]],[[64543,64543],"mapped",[1587,1605]],[[64544,64544],"mapped",[1589,1581]],[[64545,64545],"mapped",[1589,1605]],[[64546,64546],"mapped",[1590,1580]],[[64547,64547],"mapped",[1590,1581]],[[64548,64548],"mapped",[1590,1582]],[[64549,64549],"mapped",[1590,1605]],[[64550,64550],"mapped",[1591,1581]],[[64551,64551],"mapped",[1591,1605]],[[64552,64552],"mapped",[1592,1605]],[[64553,64553],"mapped",[1593,1580]],[[64554,64554],"mapped",[1593,1605]],[[64555,64555],"mapped",[1594,1580]],[[64556,64556],"mapped",[1594,1605]],[[64557,64557],"mapped",[1601,1580]],[[64558,64558],"mapped",[1601,1581]],[[64559,64559],"mapped",[1601,1582]],[[64560,64560],"mapped",[1601,1605]],[[64561,64561],"mapped",[1601,1609]],[[64562,64562],"mapped",[1601,1610]],[[64563,64563],"mapped",[1602,1581]],[[64564,64564],"mapped",[1602,1605]],[[64565,64565],"mapped",[1602,1609]],[[64566,64566],"mapped",[1602,1610]],[[64567,64567],"mapped",[1603,1575]],[[64568,64568],"mapped",[1603,1580]],[[64569,64569],"mapped",[1603,1581]],[[64570,64570],"mapped",[1603,1582]],[[64571,64571],"mapped",[1603,1604]],[[64572,64572],"mapped",[1603,1605]],[[64573,64573],"mapped",[1603,1609]],[[64574,64574],"mapped",[1603,1610]],[[64575,64575],"mapped",[1604,1580]],[[64576,64576],"mapped",[1604,1581]],[[64577,64577],"mapped",[1604,1582]],[[64578,64578],"mapped",[1604,1605]],[[64579,64579],"mapped",[1604,1609]],[[64580,64580],"mapped",[1604,1610]],[[64581,64581],"mapped",[1605,1580]],[[64582,64582],"mapped",[1605,1581]],[[64583,64583],"mapped",[1605,1582]],[[64584,64584],"mapped",[1605,1605]],[[64585,64585],"mapped",[1605,1609]],[[64586,64586],"mapped",[1605,1610]],[[64587,64587],"mapped",[1606,1580]],[[64588,64588],"mapped",[1606,1581]],[[64589,64589],"mapped",[1606,1582]],[[64590,64590],"mapped",[1606,1605]],[[64591,64591],"mapped",[1606,1609]],[[64592,64592],"mapped",[1606,1610]],[[64593,64593],"mapped",[1607,1580]],[[64594,64594],"mapped",[1607,1605]],[[64595,64595],"mapped",[1607,1609]],[[64596,64596],"mapped",[1607,1610]],[[64597,64597],"mapped",[1610,1580]],[[64598,64598],"mapped",[1610,1581]],[[64599,64599],"mapped",[1610,1582]],[[64600,64600],"mapped",[1610,1605]],[[64601,64601],"mapped",[1610,1609]],[[64602,64602],"mapped",[1610,1610]],[[64603,64603],"mapped",[1584,1648]],[[64604,64604],"mapped",[1585,1648]],[[64605,64605],"mapped",[1609,1648]],[[64606,64606],"disallowed_STD3_mapped",[32,1612,1617]],[[64607,64607],"disallowed_STD3_mapped",[32,1613,1617]],[[64608,64608],"disallowed_STD3_mapped",[32,1614,1617]],[[64609,64609],"disallowed_STD3_mapped",[32,1615,1617]],[[64610,64610],"disallowed_STD3_mapped",[32,1616,1617]],[[64611,64611],"disallowed_STD3_mapped",[32,1617,1648]],[[64612,64612],"mapped",[1574,1585]],[[64613,64613],"mapped",[1574,1586]],[[64614,64614],"mapped",[1574,1605]],[[64615,64615],"mapped",[1574,1606]],[[64616,64616],"mapped",[1574,1609]],[[64617,64617],"mapped",[1574,1610]],[[64618,64618],"mapped",[1576,1585]],[[64619,64619],"mapped",[1576,1586]],[[64620,64620],"mapped",[1576,1605]],[[64621,64621],"mapped",[1576,1606]],[[64622,64622],"mapped",[1576,1609]],[[64623,64623],"mapped",[1576,1610]],[[64624,64624],"mapped",[1578,1585]],[[64625,64625],"mapped",[1578,1586]],[[64626,64626],"mapped",[1578,1605]],[[64627,64627],"mapped",[1578,1606]],[[64628,64628],"mapped",[1578,1609]],[[64629,64629],"mapped",[1578,1610]],[[64630,64630],"mapped",[1579,1585]],[[64631,64631],"mapped",[1579,1586]],[[64632,64632],"mapped",[1579,1605]],[[64633,64633],"mapped",[1579,1606]],[[64634,64634],"mapped",[1579,1609]],[[64635,64635],"mapped",[1579,1610]],[[64636,64636],"mapped",[1601,1609]],[[64637,64637],"mapped",[1601,1610]],[[64638,64638],"mapped",[1602,1609]],[[64639,64639],"mapped",[1602,1610]],[[64640,64640],"mapped",[1603,1575]],[[64641,64641],"mapped",[1603,1604]],[[64642,64642],"mapped",[1603,1605]],[[64643,64643],"mapped",[1603,1609]],[[64644,64644],"mapped",[1603,1610]],[[64645,64645],"mapped",[1604,1605]],[[64646,64646],"mapped",[1604,1609]],[[64647,64647],"mapped",[1604,1610]],[[64648,64648],"mapped",[1605,1575]],[[64649,64649],"mapped",[1605,1605]],[[64650,64650],"mapped",[1606,1585]],[[64651,64651],"mapped",[1606,1586]],[[64652,64652],"mapped",[1606,1605]],[[64653,64653],"mapped",[1606,1606]],[[64654,64654],"mapped",[1606,1609]],[[64655,64655],"mapped",[1606,1610]],[[64656,64656],"mapped",[1609,1648]],[[64657,64657],"mapped",[1610,1585]],[[64658,64658],"mapped",[1610,1586]],[[64659,64659],"mapped",[1610,1605]],[[64660,64660],"mapped",[1610,1606]],[[64661,64661],"mapped",[1610,1609]],[[64662,64662],"mapped",[1610,1610]],[[64663,64663],"mapped",[1574,1580]],[[64664,64664],"mapped",[1574,1581]],[[64665,64665],"mapped",[1574,1582]],[[64666,64666],"mapped",[1574,1605]],[[64667,64667],"mapped",[1574,1607]],[[64668,64668],"mapped",[1576,1580]],[[64669,64669],"mapped",[1576,1581]],[[64670,64670],"mapped",[1576,1582]],[[64671,64671],"mapped",[1576,1605]],[[64672,64672],"mapped",[1576,1607]],[[64673,64673],"mapped",[1578,1580]],[[64674,64674],"mapped",[1578,1581]],[[64675,64675],"mapped",[1578,1582]],[[64676,64676],"mapped",[1578,1605]],[[64677,64677],"mapped",[1578,1607]],[[64678,64678],"mapped",[1579,1605]],[[64679,64679],"mapped",[1580,1581]],[[64680,64680],"mapped",[1580,1605]],[[64681,64681],"mapped",[1581,1580]],[[64682,64682],"mapped",[1581,1605]],[[64683,64683],"mapped",[1582,1580]],[[64684,64684],"mapped",[1582,1605]],[[64685,64685],"mapped",[1587,1580]],[[64686,64686],"mapped",[1587,1581]],[[64687,64687],"mapped",[1587,1582]],[[64688,64688],"mapped",[1587,1605]],[[64689,64689],"mapped",[1589,1581]],[[64690,64690],"mapped",[1589,1582]],[[64691,64691],"mapped",[1589,1605]],[[64692,64692],"mapped",[1590,1580]],[[64693,64693],"mapped",[1590,1581]],[[64694,64694],"mapped",[1590,1582]],[[64695,64695],"mapped",[1590,1605]],[[64696,64696],"mapped",[1591,1581]],[[64697,64697],"mapped",[1592,1605]],[[64698,64698],"mapped",[1593,1580]],[[64699,64699],"mapped",[1593,1605]],[[64700,64700],"mapped",[1594,1580]],[[64701,64701],"mapped",[1594,1605]],[[64702,64702],"mapped",[1601,1580]],[[64703,64703],"mapped",[1601,1581]],[[64704,64704],"mapped",[1601,1582]],[[64705,64705],"mapped",[1601,1605]],[[64706,64706],"mapped",[1602,1581]],[[64707,64707],"mapped",[1602,1605]],[[64708,64708],"mapped",[1603,1580]],[[64709,64709],"mapped",[1603,1581]],[[64710,64710],"mapped",[1603,1582]],[[64711,64711],"mapped",[1603,1604]],[[64712,64712],"mapped",[1603,1605]],[[64713,64713],"mapped",[1604,1580]],[[64714,64714],"mapped",[1604,1581]],[[64715,64715],"mapped",[1604,1582]],[[64716,64716],"mapped",[1604,1605]],[[64717,64717],"mapped",[1604,1607]],[[64718,64718],"mapped",[1605,1580]],[[64719,64719],"mapped",[1605,1581]],[[64720,64720],"mapped",[1605,1582]],[[64721,64721],"mapped",[1605,1605]],[[64722,64722],"mapped",[1606,1580]],[[64723,64723],"mapped",[1606,1581]],[[64724,64724],"mapped",[1606,1582]],[[64725,64725],"mapped",[1606,1605]],[[64726,64726],"mapped",[1606,1607]],[[64727,64727],"mapped",[1607,1580]],[[64728,64728],"mapped",[1607,1605]],[[64729,64729],"mapped",[1607,1648]],[[64730,64730],"mapped",[1610,1580]],[[64731,64731],"mapped",[1610,1581]],[[64732,64732],"mapped",[1610,1582]],[[64733,64733],"mapped",[1610,1605]],[[64734,64734],"mapped",[1610,1607]],[[64735,64735],"mapped",[1574,1605]],[[64736,64736],"mapped",[1574,1607]],[[64737,64737],"mapped",[1576,1605]],[[64738,64738],"mapped",[1576,1607]],[[64739,64739],"mapped",[1578,1605]],[[64740,64740],"mapped",[1578,1607]],[[64741,64741],"mapped",[1579,1605]],[[64742,64742],"mapped",[1579,1607]],[[64743,64743],"mapped",[1587,1605]],[[64744,64744],"mapped",[1587,1607]],[[64745,64745],"mapped",[1588,1605]],[[64746,64746],"mapped",[1588,1607]],[[64747,64747],"mapped",[1603,1604]],[[64748,64748],"mapped",[1603,1605]],[[64749,64749],"mapped",[1604,1605]],[[64750,64750],"mapped",[1606,1605]],[[64751,64751],"mapped",[1606,1607]],[[64752,64752],"mapped",[1610,1605]],[[64753,64753],"mapped",[1610,1607]],[[64754,64754],"mapped",[1600,1614,1617]],[[64755,64755],"mapped",[1600,1615,1617]],[[64756,64756],"mapped",[1600,1616,1617]],[[64757,64757],"mapped",[1591,1609]],[[64758,64758],"mapped",[1591,1610]],[[64759,64759],"mapped",[1593,1609]],[[64760,64760],"mapped",[1593,1610]],[[64761,64761],"mapped",[1594,1609]],[[64762,64762],"mapped",[1594,1610]],[[64763,64763],"mapped",[1587,1609]],[[64764,64764],"mapped",[1587,1610]],[[64765,64765],"mapped",[1588,1609]],[[64766,64766],"mapped",[1588,1610]],[[64767,64767],"mapped",[1581,1609]],[[64768,64768],"mapped",[1581,1610]],[[64769,64769],"mapped",[1580,1609]],[[64770,64770],"mapped",[1580,1610]],[[64771,64771],"mapped",[1582,1609]],[[64772,64772],"mapped",[1582,1610]],[[64773,64773],"mapped",[1589,1609]],[[64774,64774],"mapped",[1589,1610]],[[64775,64775],"mapped",[1590,1609]],[[64776,64776],"mapped",[1590,1610]],[[64777,64777],"mapped",[1588,1580]],[[64778,64778],"mapped",[1588,1581]],[[64779,64779],"mapped",[1588,1582]],[[64780,64780],"mapped",[1588,1605]],[[64781,64781],"mapped",[1588,1585]],[[64782,64782],"mapped",[1587,1585]],[[64783,64783],"mapped",[1589,1585]],[[64784,64784],"mapped",[1590,1585]],[[64785,64785],"mapped",[1591,1609]],[[64786,64786],"mapped",[1591,1610]],[[64787,64787],"mapped",[1593,1609]],[[64788,64788],"mapped",[1593,1610]],[[64789,64789],"mapped",[1594,1609]],[[64790,64790],"mapped",[1594,1610]],[[64791,64791],"mapped",[1587,1609]],[[64792,64792],"mapped",[1587,1610]],[[64793,64793],"mapped",[1588,1609]],[[64794,64794],"mapped",[1588,1610]],[[64795,64795],"mapped",[1581,1609]],[[64796,64796],"mapped",[1581,1610]],[[64797,64797],"mapped",[1580,1609]],[[64798,64798],"mapped",[1580,1610]],[[64799,64799],"mapped",[1582,1609]],[[64800,64800],"mapped",[1582,1610]],[[64801,64801],"mapped",[1589,1609]],[[64802,64802],"mapped",[1589,1610]],[[64803,64803],"mapped",[1590,1609]],[[64804,64804],"mapped",[1590,1610]],[[64805,64805],"mapped",[1588,1580]],[[64806,64806],"mapped",[1588,1581]],[[64807,64807],"mapped",[1588,1582]],[[64808,64808],"mapped",[1588,1605]],[[64809,64809],"mapped",[1588,1585]],[[64810,64810],"mapped",[1587,1585]],[[64811,64811],"mapped",[1589,1585]],[[64812,64812],"mapped",[1590,1585]],[[64813,64813],"mapped",[1588,1580]],[[64814,64814],"mapped",[1588,1581]],[[64815,64815],"mapped",[1588,1582]],[[64816,64816],"mapped",[1588,1605]],[[64817,64817],"mapped",[1587,1607]],[[64818,64818],"mapped",[1588,1607]],[[64819,64819],"mapped",[1591,1605]],[[64820,64820],"mapped",[1587,1580]],[[64821,64821],"mapped",[1587,1581]],[[64822,64822],"mapped",[1587,1582]],[[64823,64823],"mapped",[1588,1580]],[[64824,64824],"mapped",[1588,1581]],[[64825,64825],"mapped",[1588,1582]],[[64826,64826],"mapped",[1591,1605]],[[64827,64827],"mapped",[1592,1605]],[[64828,64829],"mapped",[1575,1611]],[[64830,64831],"valid",[],"NV8"],[[64832,64847],"disallowed"],[[64848,64848],"mapped",[1578,1580,1605]],[[64849,64850],"mapped",[1578,1581,1580]],[[64851,64851],"mapped",[1578,1581,1605]],[[64852,64852],"mapped",[1578,1582,1605]],[[64853,64853],"mapped",[1578,1605,1580]],[[64854,64854],"mapped",[1578,1605,1581]],[[64855,64855],"mapped",[1578,1605,1582]],[[64856,64857],"mapped",[1580,1605,1581]],[[64858,64858],"mapped",[1581,1605,1610]],[[64859,64859],"mapped",[1581,1605,1609]],[[64860,64860],"mapped",[1587,1581,1580]],[[64861,64861],"mapped",[1587,1580,1581]],[[64862,64862],"mapped",[1587,1580,1609]],[[64863,64864],"mapped",[1587,1605,1581]],[[64865,64865],"mapped",[1587,1605,1580]],[[64866,64867],"mapped",[1587,1605,1605]],[[64868,64869],"mapped",[1589,1581,1581]],[[64870,64870],"mapped",[1589,1605,1605]],[[64871,64872],"mapped",[1588,1581,1605]],[[64873,64873],"mapped",[1588,1580,1610]],[[64874,64875],"mapped",[1588,1605,1582]],[[64876,64877],"mapped",[1588,1605,1605]],[[64878,64878],"mapped",[1590,1581,1609]],[[64879,64880],"mapped",[1590,1582,1605]],[[64881,64882],"mapped",[1591,1605,1581]],[[64883,64883],"mapped",[1591,1605,1605]],[[64884,64884],"mapped",[1591,1605,1610]],[[64885,64885],"mapped",[1593,1580,1605]],[[64886,64887],"mapped",[1593,1605,1605]],[[64888,64888],"mapped",[1593,1605,1609]],[[64889,64889],"mapped",[1594,1605,1605]],[[64890,64890],"mapped",[1594,1605,1610]],[[64891,64891],"mapped",[1594,1605,1609]],[[64892,64893],"mapped",[1601,1582,1605]],[[64894,64894],"mapped",[1602,1605,1581]],[[64895,64895],"mapped",[1602,1605,1605]],[[64896,64896],"mapped",[1604,1581,1605]],[[64897,64897],"mapped",[1604,1581,1610]],[[64898,64898],"mapped",[1604,1581,1609]],[[64899,64900],"mapped",[1604,1580,1580]],[[64901,64902],"mapped",[1604,1582,1605]],[[64903,64904],"mapped",[1604,1605,1581]],[[64905,64905],"mapped",[1605,1581,1580]],[[64906,64906],"mapped",[1605,1581,1605]],[[64907,64907],"mapped",[1605,1581,1610]],[[64908,64908],"mapped",[1605,1580,1581]],[[64909,64909],"mapped",[1605,1580,1605]],[[64910,64910],"mapped",[1605,1582,1580]],[[64911,64911],"mapped",[1605,1582,1605]],[[64912,64913],"disallowed"],[[64914,64914],"mapped",[1605,1580,1582]],[[64915,64915],"mapped",[1607,1605,1580]],[[64916,64916],"mapped",[1607,1605,1605]],[[64917,64917],"mapped",[1606,1581,1605]],[[64918,64918],"mapped",[1606,1581,1609]],[[64919,64920],"mapped",[1606,1580,1605]],[[64921,64921],"mapped",[1606,1580,1609]],[[64922,64922],"mapped",[1606,1605,1610]],[[64923,64923],"mapped",[1606,1605,1609]],[[64924,64925],"mapped",[1610,1605,1605]],[[64926,64926],"mapped",[1576,1582,1610]],[[64927,64927],"mapped",[1578,1580,1610]],[[64928,64928],"mapped",[1578,1580,1609]],[[64929,64929],"mapped",[1578,1582,1610]],[[64930,64930],"mapped",[1578,1582,1609]],[[64931,64931],"mapped",[1578,1605,1610]],[[64932,64932],"mapped",[1578,1605,1609]],[[64933,64933],"mapped",[1580,1605,1610]],[[64934,64934],"mapped",[1580,1581,1609]],[[64935,64935],"mapped",[1580,1605,1609]],[[64936,64936],"mapped",[1587,1582,1609]],[[64937,64937],"mapped",[1589,1581,1610]],[[64938,64938],"mapped",[1588,1581,1610]],[[64939,64939],"mapped",[1590,1581,1610]],[[64940,64940],"mapped",[1604,1580,1610]],[[64941,64941],"mapped",[1604,1605,1610]],[[64942,64942],"mapped",[1610,1581,1610]],[[64943,64943],"mapped",[1610,1580,1610]],[[64944,64944],"mapped",[1610,1605,1610]],[[64945,64945],"mapped",[1605,1605,1610]],[[64946,64946],"mapped",[1602,1605,1610]],[[64947,64947],"mapped",[1606,1581,1610]],[[64948,64948],"mapped",[1602,1605,1581]],[[64949,64949],"mapped",[1604,1581,1605]],[[64950,64950],"mapped",[1593,1605,1610]],[[64951,64951],"mapped",[1603,1605,1610]],[[64952,64952],"mapped",[1606,1580,1581]],[[64953,64953],"mapped",[1605,1582,1610]],[[64954,64954],"mapped",[1604,1580,1605]],[[64955,64955],"mapped",[1603,1605,1605]],[[64956,64956],"mapped",[1604,1580,1605]],[[64957,64957],"mapped",[1606,1580,1581]],[[64958,64958],"mapped",[1580,1581,1610]],[[64959,64959],"mapped",[1581,1580,1610]],[[64960,64960],"mapped",[1605,1580,1610]],[[64961,64961],"mapped",[1601,1605,1610]],[[64962,64962],"mapped",[1576,1581,1610]],[[64963,64963],"mapped",[1603,1605,1605]],[[64964,64964],"mapped",[1593,1580,1605]],[[64965,64965],"mapped",[1589,1605,1605]],[[64966,64966],"mapped",[1587,1582,1610]],[[64967,64967],"mapped",[1606,1580,1610]],[[64968,64975],"disallowed"],[[64976,65007],"disallowed"],[[65008,65008],"mapped",[1589,1604,1746]],[[65009,65009],"mapped",[1602,1604,1746]],[[65010,65010],"mapped",[1575,1604,1604,1607]],[[65011,65011],"mapped",[1575,1603,1576,1585]],[[65012,65012],"mapped",[1605,1581,1605,1583]],[[65013,65013],"mapped",[1589,1604,1593,1605]],[[65014,65014],"mapped",[1585,1587,1608,1604]],[[65015,65015],"mapped",[1593,1604,1610,1607]],[[65016,65016],"mapped",[1608,1587,1604,1605]],[[65017,65017],"mapped",[1589,1604,1609]],[[65018,65018],"disallowed_STD3_mapped",[1589,1604,1609,32,1575,1604,1604,1607,32,1593,1604,1610,1607,32,1608,1587,1604,1605]],[[65019,65019],"disallowed_STD3_mapped",[1580,1604,32,1580,1604,1575,1604,1607]],[[65020,65020],"mapped",[1585,1740,1575,1604]],[[65021,65021],"valid",[],"NV8"],[[65022,65023],"disallowed"],[[65024,65039],"ignored"],[[65040,65040],"disallowed_STD3_mapped",[44]],[[65041,65041],"mapped",[12289]],[[65042,65042],"disallowed"],[[65043,65043],"disallowed_STD3_mapped",[58]],[[65044,65044],"disallowed_STD3_mapped",[59]],[[65045,65045],"disallowed_STD3_mapped",[33]],[[65046,65046],"disallowed_STD3_mapped",[63]],[[65047,65047],"mapped",[12310]],[[65048,65048],"mapped",[12311]],[[65049,65049],"disallowed"],[[65050,65055],"disallowed"],[[65056,65059],"valid"],[[65060,65062],"valid"],[[65063,65069],"valid"],[[65070,65071],"valid"],[[65072,65072],"disallowed"],[[65073,65073],"mapped",[8212]],[[65074,65074],"mapped",[8211]],[[65075,65076],"disallowed_STD3_mapped",[95]],[[65077,65077],"disallowed_STD3_mapped",[40]],[[65078,65078],"disallowed_STD3_mapped",[41]],[[65079,65079],"disallowed_STD3_mapped",[123]],[[65080,65080],"disallowed_STD3_mapped",[125]],[[65081,65081],"mapped",[12308]],[[65082,65082],"mapped",[12309]],[[65083,65083],"mapped",[12304]],[[65084,65084],"mapped",[12305]],[[65085,65085],"mapped",[12298]],[[65086,65086],"mapped",[12299]],[[65087,65087],"mapped",[12296]],[[65088,65088],"mapped",[12297]],[[65089,65089],"mapped",[12300]],[[65090,65090],"mapped",[12301]],[[65091,65091],"mapped",[12302]],[[65092,65092],"mapped",[12303]],[[65093,65094],"valid",[],"NV8"],[[65095,65095],"disallowed_STD3_mapped",[91]],[[65096,65096],"disallowed_STD3_mapped",[93]],[[65097,65100],"disallowed_STD3_mapped",[32,773]],[[65101,65103],"disallowed_STD3_mapped",[95]],[[65104,65104],"disallowed_STD3_mapped",[44]],[[65105,65105],"mapped",[12289]],[[65106,65106],"disallowed"],[[65107,65107],"disallowed"],[[65108,65108],"disallowed_STD3_mapped",[59]],[[65109,65109],"disallowed_STD3_mapped",[58]],[[65110,65110],"disallowed_STD3_mapped",[63]],[[65111,65111],"disallowed_STD3_mapped",[33]],[[65112,65112],"mapped",[8212]],[[65113,65113],"disallowed_STD3_mapped",[40]],[[65114,65114],"disallowed_STD3_mapped",[41]],[[65115,65115],"disallowed_STD3_mapped",[123]],[[65116,65116],"disallowed_STD3_mapped",[125]],[[65117,65117],"mapped",[12308]],[[65118,65118],"mapped",[12309]],[[65119,65119],"disallowed_STD3_mapped",[35]],[[65120,65120],"disallowed_STD3_mapped",[38]],[[65121,65121],"disallowed_STD3_mapped",[42]],[[65122,65122],"disallowed_STD3_mapped",[43]],[[65123,65123],"mapped",[45]],[[65124,65124],"disallowed_STD3_mapped",[60]],[[65125,65125],"disallowed_STD3_mapped",[62]],[[65126,65126],"disallowed_STD3_mapped",[61]],[[65127,65127],"disallowed"],[[65128,65128],"disallowed_STD3_mapped",[92]],[[65129,65129],"disallowed_STD3_mapped",[36]],[[65130,65130],"disallowed_STD3_mapped",[37]],[[65131,65131],"disallowed_STD3_mapped",[64]],[[65132,65135],"disallowed"],[[65136,65136],"disallowed_STD3_mapped",[32,1611]],[[65137,65137],"mapped",[1600,1611]],[[65138,65138],"disallowed_STD3_mapped",[32,1612]],[[65139,65139],"valid"],[[65140,65140],"disallowed_STD3_mapped",[32,1613]],[[65141,65141],"disallowed"],[[65142,65142],"disallowed_STD3_mapped",[32,1614]],[[65143,65143],"mapped",[1600,1614]],[[65144,65144],"disallowed_STD3_mapped",[32,1615]],[[65145,65145],"mapped",[1600,1615]],[[65146,65146],"disallowed_STD3_mapped",[32,1616]],[[65147,65147],"mapped",[1600,1616]],[[65148,65148],"disallowed_STD3_mapped",[32,1617]],[[65149,65149],"mapped",[1600,1617]],[[65150,65150],"disallowed_STD3_mapped",[32,1618]],[[65151,65151],"mapped",[1600,1618]],[[65152,65152],"mapped",[1569]],[[65153,65154],"mapped",[1570]],[[65155,65156],"mapped",[1571]],[[65157,65158],"mapped",[1572]],[[65159,65160],"mapped",[1573]],[[65161,65164],"mapped",[1574]],[[65165,65166],"mapped",[1575]],[[65167,65170],"mapped",[1576]],[[65171,65172],"mapped",[1577]],[[65173,65176],"mapped",[1578]],[[65177,65180],"mapped",[1579]],[[65181,65184],"mapped",[1580]],[[65185,65188],"mapped",[1581]],[[65189,65192],"mapped",[1582]],[[65193,65194],"mapped",[1583]],[[65195,65196],"mapped",[1584]],[[65197,65198],"mapped",[1585]],[[65199,65200],"mapped",[1586]],[[65201,65204],"mapped",[1587]],[[65205,65208],"mapped",[1588]],[[65209,65212],"mapped",[1589]],[[65213,65216],"mapped",[1590]],[[65217,65220],"mapped",[1591]],[[65221,65224],"mapped",[1592]],[[65225,65228],"mapped",[1593]],[[65229,65232],"mapped",[1594]],[[65233,65236],"mapped",[1601]],[[65237,65240],"mapped",[1602]],[[65241,65244],"mapped",[1603]],[[65245,65248],"mapped",[1604]],[[65249,65252],"mapped",[1605]],[[65253,65256],"mapped",[1606]],[[65257,65260],"mapped",[1607]],[[65261,65262],"mapped",[1608]],[[65263,65264],"mapped",[1609]],[[65265,65268],"mapped",[1610]],[[65269,65270],"mapped",[1604,1570]],[[65271,65272],"mapped",[1604,1571]],[[65273,65274],"mapped",[1604,1573]],[[65275,65276],"mapped",[1604,1575]],[[65277,65278],"disallowed"],[[65279,65279],"ignored"],[[65280,65280],"disallowed"],[[65281,65281],"disallowed_STD3_mapped",[33]],[[65282,65282],"disallowed_STD3_mapped",[34]],[[65283,65283],"disallowed_STD3_mapped",[35]],[[65284,65284],"disallowed_STD3_mapped",[36]],[[65285,65285],"disallowed_STD3_mapped",[37]],[[65286,65286],"disallowed_STD3_mapped",[38]],[[65287,65287],"disallowed_STD3_mapped",[39]],[[65288,65288],"disallowed_STD3_mapped",[40]],[[65289,65289],"disallowed_STD3_mapped",[41]],[[65290,65290],"disallowed_STD3_mapped",[42]],[[65291,65291],"disallowed_STD3_mapped",[43]],[[65292,65292],"disallowed_STD3_mapped",[44]],[[65293,65293],"mapped",[45]],[[65294,65294],"mapped",[46]],[[65295,65295],"disallowed_STD3_mapped",[47]],[[65296,65296],"mapped",[48]],[[65297,65297],"mapped",[49]],[[65298,65298],"mapped",[50]],[[65299,65299],"mapped",[51]],[[65300,65300],"mapped",[52]],[[65301,65301],"mapped",[53]],[[65302,65302],"mapped",[54]],[[65303,65303],"mapped",[55]],[[65304,65304],"mapped",[56]],[[65305,65305],"mapped",[57]],[[65306,65306],"disallowed_STD3_mapped",[58]],[[65307,65307],"disallowed_STD3_mapped",[59]],[[65308,65308],"disallowed_STD3_mapped",[60]],[[65309,65309],"disallowed_STD3_mapped",[61]],[[65310,65310],"disallowed_STD3_mapped",[62]],[[65311,65311],"disallowed_STD3_mapped",[63]],[[65312,65312],"disallowed_STD3_mapped",[64]],[[65313,65313],"mapped",[97]],[[65314,65314],"mapped",[98]],[[65315,65315],"mapped",[99]],[[65316,65316],"mapped",[100]],[[65317,65317],"mapped",[101]],[[65318,65318],"mapped",[102]],[[65319,65319],"mapped",[103]],[[65320,65320],"mapped",[104]],[[65321,65321],"mapped",[105]],[[65322,65322],"mapped",[106]],[[65323,65323],"mapped",[107]],[[65324,65324],"mapped",[108]],[[65325,65325],"mapped",[109]],[[65326,65326],"mapped",[110]],[[65327,65327],"mapped",[111]],[[65328,65328],"mapped",[112]],[[65329,65329],"mapped",[113]],[[65330,65330],"mapped",[114]],[[65331,65331],"mapped",[115]],[[65332,65332],"mapped",[116]],[[65333,65333],"mapped",[117]],[[65334,65334],"mapped",[118]],[[65335,65335],"mapped",[119]],[[65336,65336],"mapped",[120]],[[65337,65337],"mapped",[121]],[[65338,65338],"mapped",[122]],[[65339,65339],"disallowed_STD3_mapped",[91]],[[65340,65340],"disallowed_STD3_mapped",[92]],[[65341,65341],"disallowed_STD3_mapped",[93]],[[65342,65342],"disallowed_STD3_mapped",[94]],[[65343,65343],"disallowed_STD3_mapped",[95]],[[65344,65344],"disallowed_STD3_mapped",[96]],[[65345,65345],"mapped",[97]],[[65346,65346],"mapped",[98]],[[65347,65347],"mapped",[99]],[[65348,65348],"mapped",[100]],[[65349,65349],"mapped",[101]],[[65350,65350],"mapped",[102]],[[65351,65351],"mapped",[103]],[[65352,65352],"mapped",[104]],[[65353,65353],"mapped",[105]],[[65354,65354],"mapped",[106]],[[65355,65355],"mapped",[107]],[[65356,65356],"mapped",[108]],[[65357,65357],"mapped",[109]],[[65358,65358],"mapped",[110]],[[65359,65359],"mapped",[111]],[[65360,65360],"mapped",[112]],[[65361,65361],"mapped",[113]],[[65362,65362],"mapped",[114]],[[65363,65363],"mapped",[115]],[[65364,65364],"mapped",[116]],[[65365,65365],"mapped",[117]],[[65366,65366],"mapped",[118]],[[65367,65367],"mapped",[119]],[[65368,65368],"mapped",[120]],[[65369,65369],"mapped",[121]],[[65370,65370],"mapped",[122]],[[65371,65371],"disallowed_STD3_mapped",[123]],[[65372,65372],"disallowed_STD3_mapped",[124]],[[65373,65373],"disallowed_STD3_mapped",[125]],[[65374,65374],"disallowed_STD3_mapped",[126]],[[65375,65375],"mapped",[10629]],[[65376,65376],"mapped",[10630]],[[65377,65377],"mapped",[46]],[[65378,65378],"mapped",[12300]],[[65379,65379],"mapped",[12301]],[[65380,65380],"mapped",[12289]],[[65381,65381],"mapped",[12539]],[[65382,65382],"mapped",[12530]],[[65383,65383],"mapped",[12449]],[[65384,65384],"mapped",[12451]],[[65385,65385],"mapped",[12453]],[[65386,65386],"mapped",[12455]],[[65387,65387],"mapped",[12457]],[[65388,65388],"mapped",[12515]],[[65389,65389],"mapped",[12517]],[[65390,65390],"mapped",[12519]],[[65391,65391],"mapped",[12483]],[[65392,65392],"mapped",[12540]],[[65393,65393],"mapped",[12450]],[[65394,65394],"mapped",[12452]],[[65395,65395],"mapped",[12454]],[[65396,65396],"mapped",[12456]],[[65397,65397],"mapped",[12458]],[[65398,65398],"mapped",[12459]],[[65399,65399],"mapped",[12461]],[[65400,65400],"mapped",[12463]],[[65401,65401],"mapped",[12465]],[[65402,65402],"mapped",[12467]],[[65403,65403],"mapped",[12469]],[[65404,65404],"mapped",[12471]],[[65405,65405],"mapped",[12473]],[[65406,65406],"mapped",[12475]],[[65407,65407],"mapped",[12477]],[[65408,65408],"mapped",[12479]],[[65409,65409],"mapped",[12481]],[[65410,65410],"mapped",[12484]],[[65411,65411],"mapped",[12486]],[[65412,65412],"mapped",[12488]],[[65413,65413],"mapped",[12490]],[[65414,65414],"mapped",[12491]],[[65415,65415],"mapped",[12492]],[[65416,65416],"mapped",[12493]],[[65417,65417],"mapped",[12494]],[[65418,65418],"mapped",[12495]],[[65419,65419],"mapped",[12498]],[[65420,65420],"mapped",[12501]],[[65421,65421],"mapped",[12504]],[[65422,65422],"mapped",[12507]],[[65423,65423],"mapped",[12510]],[[65424,65424],"mapped",[12511]],[[65425,65425],"mapped",[12512]],[[65426,65426],"mapped",[12513]],[[65427,65427],"mapped",[12514]],[[65428,65428],"mapped",[12516]],[[65429,65429],"mapped",[12518]],[[65430,65430],"mapped",[12520]],[[65431,65431],"mapped",[12521]],[[65432,65432],"mapped",[12522]],[[65433,65433],"mapped",[12523]],[[65434,65434],"mapped",[12524]],[[65435,65435],"mapped",[12525]],[[65436,65436],"mapped",[12527]],[[65437,65437],"mapped",[12531]],[[65438,65438],"mapped",[12441]],[[65439,65439],"mapped",[12442]],[[65440,65440],"disallowed"],[[65441,65441],"mapped",[4352]],[[65442,65442],"mapped",[4353]],[[65443,65443],"mapped",[4522]],[[65444,65444],"mapped",[4354]],[[65445,65445],"mapped",[4524]],[[65446,65446],"mapped",[4525]],[[65447,65447],"mapped",[4355]],[[65448,65448],"mapped",[4356]],[[65449,65449],"mapped",[4357]],[[65450,65450],"mapped",[4528]],[[65451,65451],"mapped",[4529]],[[65452,65452],"mapped",[4530]],[[65453,65453],"mapped",[4531]],[[65454,65454],"mapped",[4532]],[[65455,65455],"mapped",[4533]],[[65456,65456],"mapped",[4378]],[[65457,65457],"mapped",[4358]],[[65458,65458],"mapped",[4359]],[[65459,65459],"mapped",[4360]],[[65460,65460],"mapped",[4385]],[[65461,65461],"mapped",[4361]],[[65462,65462],"mapped",[4362]],[[65463,65463],"mapped",[4363]],[[65464,65464],"mapped",[4364]],[[65465,65465],"mapped",[4365]],[[65466,65466],"mapped",[4366]],[[65467,65467],"mapped",[4367]],[[65468,65468],"mapped",[4368]],[[65469,65469],"mapped",[4369]],[[65470,65470],"mapped",[4370]],[[65471,65473],"disallowed"],[[65474,65474],"mapped",[4449]],[[65475,65475],"mapped",[4450]],[[65476,65476],"mapped",[4451]],[[65477,65477],"mapped",[4452]],[[65478,65478],"mapped",[4453]],[[65479,65479],"mapped",[4454]],[[65480,65481],"disallowed"],[[65482,65482],"mapped",[4455]],[[65483,65483],"mapped",[4456]],[[65484,65484],"mapped",[4457]],[[65485,65485],"mapped",[4458]],[[65486,65486],"mapped",[4459]],[[65487,65487],"mapped",[4460]],[[65488,65489],"disallowed"],[[65490,65490],"mapped",[4461]],[[65491,65491],"mapped",[4462]],[[65492,65492],"mapped",[4463]],[[65493,65493],"mapped",[4464]],[[65494,65494],"mapped",[4465]],[[65495,65495],"mapped",[4466]],[[65496,65497],"disallowed"],[[65498,65498],"mapped",[4467]],[[65499,65499],"mapped",[4468]],[[65500,65500],"mapped",[4469]],[[65501,65503],"disallowed"],[[65504,65504],"mapped",[162]],[[65505,65505],"mapped",[163]],[[65506,65506],"mapped",[172]],[[65507,65507],"disallowed_STD3_mapped",[32,772]],[[65508,65508],"mapped",[166]],[[65509,65509],"mapped",[165]],[[65510,65510],"mapped",[8361]],[[65511,65511],"disallowed"],[[65512,65512],"mapped",[9474]],[[65513,65513],"mapped",[8592]],[[65514,65514],"mapped",[8593]],[[65515,65515],"mapped",[8594]],[[65516,65516],"mapped",[8595]],[[65517,65517],"mapped",[9632]],[[65518,65518],"mapped",[9675]],[[65519,65528],"disallowed"],[[65529,65531],"disallowed"],[[65532,65532],"disallowed"],[[65533,65533],"disallowed"],[[65534,65535],"disallowed"],[[65536,65547],"valid"],[[65548,65548],"disallowed"],[[65549,65574],"valid"],[[65575,65575],"disallowed"],[[65576,65594],"valid"],[[65595,65595],"disallowed"],[[65596,65597],"valid"],[[65598,65598],"disallowed"],[[65599,65613],"valid"],[[65614,65615],"disallowed"],[[65616,65629],"valid"],[[65630,65663],"disallowed"],[[65664,65786],"valid"],[[65787,65791],"disallowed"],[[65792,65794],"valid",[],"NV8"],[[65795,65798],"disallowed"],[[65799,65843],"valid",[],"NV8"],[[65844,65846],"disallowed"],[[65847,65855],"valid",[],"NV8"],[[65856,65930],"valid",[],"NV8"],[[65931,65932],"valid",[],"NV8"],[[65933,65935],"disallowed"],[[65936,65947],"valid",[],"NV8"],[[65948,65951],"disallowed"],[[65952,65952],"valid",[],"NV8"],[[65953,65999],"disallowed"],[[66e3,66044],"valid",[],"NV8"],[[66045,66045],"valid"],[[66046,66175],"disallowed"],[[66176,66204],"valid"],[[66205,66207],"disallowed"],[[66208,66256],"valid"],[[66257,66271],"disallowed"],[[66272,66272],"valid"],[[66273,66299],"valid",[],"NV8"],[[66300,66303],"disallowed"],[[66304,66334],"valid"],[[66335,66335],"valid"],[[66336,66339],"valid",[],"NV8"],[[66340,66351],"disallowed"],[[66352,66368],"valid"],[[66369,66369],"valid",[],"NV8"],[[66370,66377],"valid"],[[66378,66378],"valid",[],"NV8"],[[66379,66383],"disallowed"],[[66384,66426],"valid"],[[66427,66431],"disallowed"],[[66432,66461],"valid"],[[66462,66462],"disallowed"],[[66463,66463],"valid",[],"NV8"],[[66464,66499],"valid"],[[66500,66503],"disallowed"],[[66504,66511],"valid"],[[66512,66517],"valid",[],"NV8"],[[66518,66559],"disallowed"],[[66560,66560],"mapped",[66600]],[[66561,66561],"mapped",[66601]],[[66562,66562],"mapped",[66602]],[[66563,66563],"mapped",[66603]],[[66564,66564],"mapped",[66604]],[[66565,66565],"mapped",[66605]],[[66566,66566],"mapped",[66606]],[[66567,66567],"mapped",[66607]],[[66568,66568],"mapped",[66608]],[[66569,66569],"mapped",[66609]],[[66570,66570],"mapped",[66610]],[[66571,66571],"mapped",[66611]],[[66572,66572],"mapped",[66612]],[[66573,66573],"mapped",[66613]],[[66574,66574],"mapped",[66614]],[[66575,66575],"mapped",[66615]],[[66576,66576],"mapped",[66616]],[[66577,66577],"mapped",[66617]],[[66578,66578],"mapped",[66618]],[[66579,66579],"mapped",[66619]],[[66580,66580],"mapped",[66620]],[[66581,66581],"mapped",[66621]],[[66582,66582],"mapped",[66622]],[[66583,66583],"mapped",[66623]],[[66584,66584],"mapped",[66624]],[[66585,66585],"mapped",[66625]],[[66586,66586],"mapped",[66626]],[[66587,66587],"mapped",[66627]],[[66588,66588],"mapped",[66628]],[[66589,66589],"mapped",[66629]],[[66590,66590],"mapped",[66630]],[[66591,66591],"mapped",[66631]],[[66592,66592],"mapped",[66632]],[[66593,66593],"mapped",[66633]],[[66594,66594],"mapped",[66634]],[[66595,66595],"mapped",[66635]],[[66596,66596],"mapped",[66636]],[[66597,66597],"mapped",[66637]],[[66598,66598],"mapped",[66638]],[[66599,66599],"mapped",[66639]],[[66600,66637],"valid"],[[66638,66717],"valid"],[[66718,66719],"disallowed"],[[66720,66729],"valid"],[[66730,66815],"disallowed"],[[66816,66855],"valid"],[[66856,66863],"disallowed"],[[66864,66915],"valid"],[[66916,66926],"disallowed"],[[66927,66927],"valid",[],"NV8"],[[66928,67071],"disallowed"],[[67072,67382],"valid"],[[67383,67391],"disallowed"],[[67392,67413],"valid"],[[67414,67423],"disallowed"],[[67424,67431],"valid"],[[67432,67583],"disallowed"],[[67584,67589],"valid"],[[67590,67591],"disallowed"],[[67592,67592],"valid"],[[67593,67593],"disallowed"],[[67594,67637],"valid"],[[67638,67638],"disallowed"],[[67639,67640],"valid"],[[67641,67643],"disallowed"],[[67644,67644],"valid"],[[67645,67646],"disallowed"],[[67647,67647],"valid"],[[67648,67669],"valid"],[[67670,67670],"disallowed"],[[67671,67679],"valid",[],"NV8"],[[67680,67702],"valid"],[[67703,67711],"valid",[],"NV8"],[[67712,67742],"valid"],[[67743,67750],"disallowed"],[[67751,67759],"valid",[],"NV8"],[[67760,67807],"disallowed"],[[67808,67826],"valid"],[[67827,67827],"disallowed"],[[67828,67829],"valid"],[[67830,67834],"disallowed"],[[67835,67839],"valid",[],"NV8"],[[67840,67861],"valid"],[[67862,67865],"valid",[],"NV8"],[[67866,67867],"valid",[],"NV8"],[[67868,67870],"disallowed"],[[67871,67871],"valid",[],"NV8"],[[67872,67897],"valid"],[[67898,67902],"disallowed"],[[67903,67903],"valid",[],"NV8"],[[67904,67967],"disallowed"],[[67968,68023],"valid"],[[68024,68027],"disallowed"],[[68028,68029],"valid",[],"NV8"],[[68030,68031],"valid"],[[68032,68047],"valid",[],"NV8"],[[68048,68049],"disallowed"],[[68050,68095],"valid",[],"NV8"],[[68096,68099],"valid"],[[68100,68100],"disallowed"],[[68101,68102],"valid"],[[68103,68107],"disallowed"],[[68108,68115],"valid"],[[68116,68116],"disallowed"],[[68117,68119],"valid"],[[68120,68120],"disallowed"],[[68121,68147],"valid"],[[68148,68151],"disallowed"],[[68152,68154],"valid"],[[68155,68158],"disallowed"],[[68159,68159],"valid"],[[68160,68167],"valid",[],"NV8"],[[68168,68175],"disallowed"],[[68176,68184],"valid",[],"NV8"],[[68185,68191],"disallowed"],[[68192,68220],"valid"],[[68221,68223],"valid",[],"NV8"],[[68224,68252],"valid"],[[68253,68255],"valid",[],"NV8"],[[68256,68287],"disallowed"],[[68288,68295],"valid"],[[68296,68296],"valid",[],"NV8"],[[68297,68326],"valid"],[[68327,68330],"disallowed"],[[68331,68342],"valid",[],"NV8"],[[68343,68351],"disallowed"],[[68352,68405],"valid"],[[68406,68408],"disallowed"],[[68409,68415],"valid",[],"NV8"],[[68416,68437],"valid"],[[68438,68439],"disallowed"],[[68440,68447],"valid",[],"NV8"],[[68448,68466],"valid"],[[68467,68471],"disallowed"],[[68472,68479],"valid",[],"NV8"],[[68480,68497],"valid"],[[68498,68504],"disallowed"],[[68505,68508],"valid",[],"NV8"],[[68509,68520],"disallowed"],[[68521,68527],"valid",[],"NV8"],[[68528,68607],"disallowed"],[[68608,68680],"valid"],[[68681,68735],"disallowed"],[[68736,68736],"mapped",[68800]],[[68737,68737],"mapped",[68801]],[[68738,68738],"mapped",[68802]],[[68739,68739],"mapped",[68803]],[[68740,68740],"mapped",[68804]],[[68741,68741],"mapped",[68805]],[[68742,68742],"mapped",[68806]],[[68743,68743],"mapped",[68807]],[[68744,68744],"mapped",[68808]],[[68745,68745],"mapped",[68809]],[[68746,68746],"mapped",[68810]],[[68747,68747],"mapped",[68811]],[[68748,68748],"mapped",[68812]],[[68749,68749],"mapped",[68813]],[[68750,68750],"mapped",[68814]],[[68751,68751],"mapped",[68815]],[[68752,68752],"mapped",[68816]],[[68753,68753],"mapped",[68817]],[[68754,68754],"mapped",[68818]],[[68755,68755],"mapped",[68819]],[[68756,68756],"mapped",[68820]],[[68757,68757],"mapped",[68821]],[[68758,68758],"mapped",[68822]],[[68759,68759],"mapped",[68823]],[[68760,68760],"mapped",[68824]],[[68761,68761],"mapped",[68825]],[[68762,68762],"mapped",[68826]],[[68763,68763],"mapped",[68827]],[[68764,68764],"mapped",[68828]],[[68765,68765],"mapped",[68829]],[[68766,68766],"mapped",[68830]],[[68767,68767],"mapped",[68831]],[[68768,68768],"mapped",[68832]],[[68769,68769],"mapped",[68833]],[[68770,68770],"mapped",[68834]],[[68771,68771],"mapped",[68835]],[[68772,68772],"mapped",[68836]],[[68773,68773],"mapped",[68837]],[[68774,68774],"mapped",[68838]],[[68775,68775],"mapped",[68839]],[[68776,68776],"mapped",[68840]],[[68777,68777],"mapped",[68841]],[[68778,68778],"mapped",[68842]],[[68779,68779],"mapped",[68843]],[[68780,68780],"mapped",[68844]],[[68781,68781],"mapped",[68845]],[[68782,68782],"mapped",[68846]],[[68783,68783],"mapped",[68847]],[[68784,68784],"mapped",[68848]],[[68785,68785],"mapped",[68849]],[[68786,68786],"mapped",[68850]],[[68787,68799],"disallowed"],[[68800,68850],"valid"],[[68851,68857],"disallowed"],[[68858,68863],"valid",[],"NV8"],[[68864,69215],"disallowed"],[[69216,69246],"valid",[],"NV8"],[[69247,69631],"disallowed"],[[69632,69702],"valid"],[[69703,69709],"valid",[],"NV8"],[[69710,69713],"disallowed"],[[69714,69733],"valid",[],"NV8"],[[69734,69743],"valid"],[[69744,69758],"disallowed"],[[69759,69759],"valid"],[[69760,69818],"valid"],[[69819,69820],"valid",[],"NV8"],[[69821,69821],"disallowed"],[[69822,69825],"valid",[],"NV8"],[[69826,69839],"disallowed"],[[69840,69864],"valid"],[[69865,69871],"disallowed"],[[69872,69881],"valid"],[[69882,69887],"disallowed"],[[69888,69940],"valid"],[[69941,69941],"disallowed"],[[69942,69951],"valid"],[[69952,69955],"valid",[],"NV8"],[[69956,69967],"disallowed"],[[69968,70003],"valid"],[[70004,70005],"valid",[],"NV8"],[[70006,70006],"valid"],[[70007,70015],"disallowed"],[[70016,70084],"valid"],[[70085,70088],"valid",[],"NV8"],[[70089,70089],"valid",[],"NV8"],[[70090,70092],"valid"],[[70093,70093],"valid",[],"NV8"],[[70094,70095],"disallowed"],[[70096,70105],"valid"],[[70106,70106],"valid"],[[70107,70107],"valid",[],"NV8"],[[70108,70108],"valid"],[[70109,70111],"valid",[],"NV8"],[[70112,70112],"disallowed"],[[70113,70132],"valid",[],"NV8"],[[70133,70143],"disallowed"],[[70144,70161],"valid"],[[70162,70162],"disallowed"],[[70163,70199],"valid"],[[70200,70205],"valid",[],"NV8"],[[70206,70271],"disallowed"],[[70272,70278],"valid"],[[70279,70279],"disallowed"],[[70280,70280],"valid"],[[70281,70281],"disallowed"],[[70282,70285],"valid"],[[70286,70286],"disallowed"],[[70287,70301],"valid"],[[70302,70302],"disallowed"],[[70303,70312],"valid"],[[70313,70313],"valid",[],"NV8"],[[70314,70319],"disallowed"],[[70320,70378],"valid"],[[70379,70383],"disallowed"],[[70384,70393],"valid"],[[70394,70399],"disallowed"],[[70400,70400],"valid"],[[70401,70403],"valid"],[[70404,70404],"disallowed"],[[70405,70412],"valid"],[[70413,70414],"disallowed"],[[70415,70416],"valid"],[[70417,70418],"disallowed"],[[70419,70440],"valid"],[[70441,70441],"disallowed"],[[70442,70448],"valid"],[[70449,70449],"disallowed"],[[70450,70451],"valid"],[[70452,70452],"disallowed"],[[70453,70457],"valid"],[[70458,70459],"disallowed"],[[70460,70468],"valid"],[[70469,70470],"disallowed"],[[70471,70472],"valid"],[[70473,70474],"disallowed"],[[70475,70477],"valid"],[[70478,70479],"disallowed"],[[70480,70480],"valid"],[[70481,70486],"disallowed"],[[70487,70487],"valid"],[[70488,70492],"disallowed"],[[70493,70499],"valid"],[[70500,70501],"disallowed"],[[70502,70508],"valid"],[[70509,70511],"disallowed"],[[70512,70516],"valid"],[[70517,70783],"disallowed"],[[70784,70853],"valid"],[[70854,70854],"valid",[],"NV8"],[[70855,70855],"valid"],[[70856,70863],"disallowed"],[[70864,70873],"valid"],[[70874,71039],"disallowed"],[[71040,71093],"valid"],[[71094,71095],"disallowed"],[[71096,71104],"valid"],[[71105,71113],"valid",[],"NV8"],[[71114,71127],"valid",[],"NV8"],[[71128,71133],"valid"],[[71134,71167],"disallowed"],[[71168,71232],"valid"],[[71233,71235],"valid",[],"NV8"],[[71236,71236],"valid"],[[71237,71247],"disallowed"],[[71248,71257],"valid"],[[71258,71295],"disallowed"],[[71296,71351],"valid"],[[71352,71359],"disallowed"],[[71360,71369],"valid"],[[71370,71423],"disallowed"],[[71424,71449],"valid"],[[71450,71452],"disallowed"],[[71453,71467],"valid"],[[71468,71471],"disallowed"],[[71472,71481],"valid"],[[71482,71487],"valid",[],"NV8"],[[71488,71839],"disallowed"],[[71840,71840],"mapped",[71872]],[[71841,71841],"mapped",[71873]],[[71842,71842],"mapped",[71874]],[[71843,71843],"mapped",[71875]],[[71844,71844],"mapped",[71876]],[[71845,71845],"mapped",[71877]],[[71846,71846],"mapped",[71878]],[[71847,71847],"mapped",[71879]],[[71848,71848],"mapped",[71880]],[[71849,71849],"mapped",[71881]],[[71850,71850],"mapped",[71882]],[[71851,71851],"mapped",[71883]],[[71852,71852],"mapped",[71884]],[[71853,71853],"mapped",[71885]],[[71854,71854],"mapped",[71886]],[[71855,71855],"mapped",[71887]],[[71856,71856],"mapped",[71888]],[[71857,71857],"mapped",[71889]],[[71858,71858],"mapped",[71890]],[[71859,71859],"mapped",[71891]],[[71860,71860],"mapped",[71892]],[[71861,71861],"mapped",[71893]],[[71862,71862],"mapped",[71894]],[[71863,71863],"mapped",[71895]],[[71864,71864],"mapped",[71896]],[[71865,71865],"mapped",[71897]],[[71866,71866],"mapped",[71898]],[[71867,71867],"mapped",[71899]],[[71868,71868],"mapped",[71900]],[[71869,71869],"mapped",[71901]],[[71870,71870],"mapped",[71902]],[[71871,71871],"mapped",[71903]],[[71872,71913],"valid"],[[71914,71922],"valid",[],"NV8"],[[71923,71934],"disallowed"],[[71935,71935],"valid"],[[71936,72383],"disallowed"],[[72384,72440],"valid"],[[72441,73727],"disallowed"],[[73728,74606],"valid"],[[74607,74648],"valid"],[[74649,74649],"valid"],[[74650,74751],"disallowed"],[[74752,74850],"valid",[],"NV8"],[[74851,74862],"valid",[],"NV8"],[[74863,74863],"disallowed"],[[74864,74867],"valid",[],"NV8"],[[74868,74868],"valid",[],"NV8"],[[74869,74879],"disallowed"],[[74880,75075],"valid"],[[75076,77823],"disallowed"],[[77824,78894],"valid"],[[78895,82943],"disallowed"],[[82944,83526],"valid"],[[83527,92159],"disallowed"],[[92160,92728],"valid"],[[92729,92735],"disallowed"],[[92736,92766],"valid"],[[92767,92767],"disallowed"],[[92768,92777],"valid"],[[92778,92781],"disallowed"],[[92782,92783],"valid",[],"NV8"],[[92784,92879],"disallowed"],[[92880,92909],"valid"],[[92910,92911],"disallowed"],[[92912,92916],"valid"],[[92917,92917],"valid",[],"NV8"],[[92918,92927],"disallowed"],[[92928,92982],"valid"],[[92983,92991],"valid",[],"NV8"],[[92992,92995],"valid"],[[92996,92997],"valid",[],"NV8"],[[92998,93007],"disallowed"],[[93008,93017],"valid"],[[93018,93018],"disallowed"],[[93019,93025],"valid",[],"NV8"],[[93026,93026],"disallowed"],[[93027,93047],"valid"],[[93048,93052],"disallowed"],[[93053,93071],"valid"],[[93072,93951],"disallowed"],[[93952,94020],"valid"],[[94021,94031],"disallowed"],[[94032,94078],"valid"],[[94079,94094],"disallowed"],[[94095,94111],"valid"],[[94112,110591],"disallowed"],[[110592,110593],"valid"],[[110594,113663],"disallowed"],[[113664,113770],"valid"],[[113771,113775],"disallowed"],[[113776,113788],"valid"],[[113789,113791],"disallowed"],[[113792,113800],"valid"],[[113801,113807],"disallowed"],[[113808,113817],"valid"],[[113818,113819],"disallowed"],[[113820,113820],"valid",[],"NV8"],[[113821,113822],"valid"],[[113823,113823],"valid",[],"NV8"],[[113824,113827],"ignored"],[[113828,118783],"disallowed"],[[118784,119029],"valid",[],"NV8"],[[119030,119039],"disallowed"],[[119040,119078],"valid",[],"NV8"],[[119079,119080],"disallowed"],[[119081,119081],"valid",[],"NV8"],[[119082,119133],"valid",[],"NV8"],[[119134,119134],"mapped",[119127,119141]],[[119135,119135],"mapped",[119128,119141]],[[119136,119136],"mapped",[119128,119141,119150]],[[119137,119137],"mapped",[119128,119141,119151]],[[119138,119138],"mapped",[119128,119141,119152]],[[119139,119139],"mapped",[119128,119141,119153]],[[119140,119140],"mapped",[119128,119141,119154]],[[119141,119154],"valid",[],"NV8"],[[119155,119162],"disallowed"],[[119163,119226],"valid",[],"NV8"],[[119227,119227],"mapped",[119225,119141]],[[119228,119228],"mapped",[119226,119141]],[[119229,119229],"mapped",[119225,119141,119150]],[[119230,119230],"mapped",[119226,119141,119150]],[[119231,119231],"mapped",[119225,119141,119151]],[[119232,119232],"mapped",[119226,119141,119151]],[[119233,119261],"valid",[],"NV8"],[[119262,119272],"valid",[],"NV8"],[[119273,119295],"disallowed"],[[119296,119365],"valid",[],"NV8"],[[119366,119551],"disallowed"],[[119552,119638],"valid",[],"NV8"],[[119639,119647],"disallowed"],[[119648,119665],"valid",[],"NV8"],[[119666,119807],"disallowed"],[[119808,119808],"mapped",[97]],[[119809,119809],"mapped",[98]],[[119810,119810],"mapped",[99]],[[119811,119811],"mapped",[100]],[[119812,119812],"mapped",[101]],[[119813,119813],"mapped",[102]],[[119814,119814],"mapped",[103]],[[119815,119815],"mapped",[104]],[[119816,119816],"mapped",[105]],[[119817,119817],"mapped",[106]],[[119818,119818],"mapped",[107]],[[119819,119819],"mapped",[108]],[[119820,119820],"mapped",[109]],[[119821,119821],"mapped",[110]],[[119822,119822],"mapped",[111]],[[119823,119823],"mapped",[112]],[[119824,119824],"mapped",[113]],[[119825,119825],"mapped",[114]],[[119826,119826],"mapped",[115]],[[119827,119827],"mapped",[116]],[[119828,119828],"mapped",[117]],[[119829,119829],"mapped",[118]],[[119830,119830],"mapped",[119]],[[119831,119831],"mapped",[120]],[[119832,119832],"mapped",[121]],[[119833,119833],"mapped",[122]],[[119834,119834],"mapped",[97]],[[119835,119835],"mapped",[98]],[[119836,119836],"mapped",[99]],[[119837,119837],"mapped",[100]],[[119838,119838],"mapped",[101]],[[119839,119839],"mapped",[102]],[[119840,119840],"mapped",[103]],[[119841,119841],"mapped",[104]],[[119842,119842],"mapped",[105]],[[119843,119843],"mapped",[106]],[[119844,119844],"mapped",[107]],[[119845,119845],"mapped",[108]],[[119846,119846],"mapped",[109]],[[119847,119847],"mapped",[110]],[[119848,119848],"mapped",[111]],[[119849,119849],"mapped",[112]],[[119850,119850],"mapped",[113]],[[119851,119851],"mapped",[114]],[[119852,119852],"mapped",[115]],[[119853,119853],"mapped",[116]],[[119854,119854],"mapped",[117]],[[119855,119855],"mapped",[118]],[[119856,119856],"mapped",[119]],[[119857,119857],"mapped",[120]],[[119858,119858],"mapped",[121]],[[119859,119859],"mapped",[122]],[[119860,119860],"mapped",[97]],[[119861,119861],"mapped",[98]],[[119862,119862],"mapped",[99]],[[119863,119863],"mapped",[100]],[[119864,119864],"mapped",[101]],[[119865,119865],"mapped",[102]],[[119866,119866],"mapped",[103]],[[119867,119867],"mapped",[104]],[[119868,119868],"mapped",[105]],[[119869,119869],"mapped",[106]],[[119870,119870],"mapped",[107]],[[119871,119871],"mapped",[108]],[[119872,119872],"mapped",[109]],[[119873,119873],"mapped",[110]],[[119874,119874],"mapped",[111]],[[119875,119875],"mapped",[112]],[[119876,119876],"mapped",[113]],[[119877,119877],"mapped",[114]],[[119878,119878],"mapped",[115]],[[119879,119879],"mapped",[116]],[[119880,119880],"mapped",[117]],[[119881,119881],"mapped",[118]],[[119882,119882],"mapped",[119]],[[119883,119883],"mapped",[120]],[[119884,119884],"mapped",[121]],[[119885,119885],"mapped",[122]],[[119886,119886],"mapped",[97]],[[119887,119887],"mapped",[98]],[[119888,119888],"mapped",[99]],[[119889,119889],"mapped",[100]],[[119890,119890],"mapped",[101]],[[119891,119891],"mapped",[102]],[[119892,119892],"mapped",[103]],[[119893,119893],"disallowed"],[[119894,119894],"mapped",[105]],[[119895,119895],"mapped",[106]],[[119896,119896],"mapped",[107]],[[119897,119897],"mapped",[108]],[[119898,119898],"mapped",[109]],[[119899,119899],"mapped",[110]],[[119900,119900],"mapped",[111]],[[119901,119901],"mapped",[112]],[[119902,119902],"mapped",[113]],[[119903,119903],"mapped",[114]],[[119904,119904],"mapped",[115]],[[119905,119905],"mapped",[116]],[[119906,119906],"mapped",[117]],[[119907,119907],"mapped",[118]],[[119908,119908],"mapped",[119]],[[119909,119909],"mapped",[120]],[[119910,119910],"mapped",[121]],[[119911,119911],"mapped",[122]],[[119912,119912],"mapped",[97]],[[119913,119913],"mapped",[98]],[[119914,119914],"mapped",[99]],[[119915,119915],"mapped",[100]],[[119916,119916],"mapped",[101]],[[119917,119917],"mapped",[102]],[[119918,119918],"mapped",[103]],[[119919,119919],"mapped",[104]],[[119920,119920],"mapped",[105]],[[119921,119921],"mapped",[106]],[[119922,119922],"mapped",[107]],[[119923,119923],"mapped",[108]],[[119924,119924],"mapped",[109]],[[119925,119925],"mapped",[110]],[[119926,119926],"mapped",[111]],[[119927,119927],"mapped",[112]],[[119928,119928],"mapped",[113]],[[119929,119929],"mapped",[114]],[[119930,119930],"mapped",[115]],[[119931,119931],"mapped",[116]],[[119932,119932],"mapped",[117]],[[119933,119933],"mapped",[118]],[[119934,119934],"mapped",[119]],[[119935,119935],"mapped",[120]],[[119936,119936],"mapped",[121]],[[119937,119937],"mapped",[122]],[[119938,119938],"mapped",[97]],[[119939,119939],"mapped",[98]],[[119940,119940],"mapped",[99]],[[119941,119941],"mapped",[100]],[[119942,119942],"mapped",[101]],[[119943,119943],"mapped",[102]],[[119944,119944],"mapped",[103]],[[119945,119945],"mapped",[104]],[[119946,119946],"mapped",[105]],[[119947,119947],"mapped",[106]],[[119948,119948],"mapped",[107]],[[119949,119949],"mapped",[108]],[[119950,119950],"mapped",[109]],[[119951,119951],"mapped",[110]],[[119952,119952],"mapped",[111]],[[119953,119953],"mapped",[112]],[[119954,119954],"mapped",[113]],[[119955,119955],"mapped",[114]],[[119956,119956],"mapped",[115]],[[119957,119957],"mapped",[116]],[[119958,119958],"mapped",[117]],[[119959,119959],"mapped",[118]],[[119960,119960],"mapped",[119]],[[119961,119961],"mapped",[120]],[[119962,119962],"mapped",[121]],[[119963,119963],"mapped",[122]],[[119964,119964],"mapped",[97]],[[119965,119965],"disallowed"],[[119966,119966],"mapped",[99]],[[119967,119967],"mapped",[100]],[[119968,119969],"disallowed"],[[119970,119970],"mapped",[103]],[[119971,119972],"disallowed"],[[119973,119973],"mapped",[106]],[[119974,119974],"mapped",[107]],[[119975,119976],"disallowed"],[[119977,119977],"mapped",[110]],[[119978,119978],"mapped",[111]],[[119979,119979],"mapped",[112]],[[119980,119980],"mapped",[113]],[[119981,119981],"disallowed"],[[119982,119982],"mapped",[115]],[[119983,119983],"mapped",[116]],[[119984,119984],"mapped",[117]],[[119985,119985],"mapped",[118]],[[119986,119986],"mapped",[119]],[[119987,119987],"mapped",[120]],[[119988,119988],"mapped",[121]],[[119989,119989],"mapped",[122]],[[119990,119990],"mapped",[97]],[[119991,119991],"mapped",[98]],[[119992,119992],"mapped",[99]],[[119993,119993],"mapped",[100]],[[119994,119994],"disallowed"],[[119995,119995],"mapped",[102]],[[119996,119996],"disallowed"],[[119997,119997],"mapped",[104]],[[119998,119998],"mapped",[105]],[[119999,119999],"mapped",[106]],[[12e4,12e4],"mapped",[107]],[[120001,120001],"mapped",[108]],[[120002,120002],"mapped",[109]],[[120003,120003],"mapped",[110]],[[120004,120004],"disallowed"],[[120005,120005],"mapped",[112]],[[120006,120006],"mapped",[113]],[[120007,120007],"mapped",[114]],[[120008,120008],"mapped",[115]],[[120009,120009],"mapped",[116]],[[120010,120010],"mapped",[117]],[[120011,120011],"mapped",[118]],[[120012,120012],"mapped",[119]],[[120013,120013],"mapped",[120]],[[120014,120014],"mapped",[121]],[[120015,120015],"mapped",[122]],[[120016,120016],"mapped",[97]],[[120017,120017],"mapped",[98]],[[120018,120018],"mapped",[99]],[[120019,120019],"mapped",[100]],[[120020,120020],"mapped",[101]],[[120021,120021],"mapped",[102]],[[120022,120022],"mapped",[103]],[[120023,120023],"mapped",[104]],[[120024,120024],"mapped",[105]],[[120025,120025],"mapped",[106]],[[120026,120026],"mapped",[107]],[[120027,120027],"mapped",[108]],[[120028,120028],"mapped",[109]],[[120029,120029],"mapped",[110]],[[120030,120030],"mapped",[111]],[[120031,120031],"mapped",[112]],[[120032,120032],"mapped",[113]],[[120033,120033],"mapped",[114]],[[120034,120034],"mapped",[115]],[[120035,120035],"mapped",[116]],[[120036,120036],"mapped",[117]],[[120037,120037],"mapped",[118]],[[120038,120038],"mapped",[119]],[[120039,120039],"mapped",[120]],[[120040,120040],"mapped",[121]],[[120041,120041],"mapped",[122]],[[120042,120042],"mapped",[97]],[[120043,120043],"mapped",[98]],[[120044,120044],"mapped",[99]],[[120045,120045],"mapped",[100]],[[120046,120046],"mapped",[101]],[[120047,120047],"mapped",[102]],[[120048,120048],"mapped",[103]],[[120049,120049],"mapped",[104]],[[120050,120050],"mapped",[105]],[[120051,120051],"mapped",[106]],[[120052,120052],"mapped",[107]],[[120053,120053],"mapped",[108]],[[120054,120054],"mapped",[109]],[[120055,120055],"mapped",[110]],[[120056,120056],"mapped",[111]],[[120057,120057],"mapped",[112]],[[120058,120058],"mapped",[113]],[[120059,120059],"mapped",[114]],[[120060,120060],"mapped",[115]],[[120061,120061],"mapped",[116]],[[120062,120062],"mapped",[117]],[[120063,120063],"mapped",[118]],[[120064,120064],"mapped",[119]],[[120065,120065],"mapped",[120]],[[120066,120066],"mapped",[121]],[[120067,120067],"mapped",[122]],[[120068,120068],"mapped",[97]],[[120069,120069],"mapped",[98]],[[120070,120070],"disallowed"],[[120071,120071],"mapped",[100]],[[120072,120072],"mapped",[101]],[[120073,120073],"mapped",[102]],[[120074,120074],"mapped",[103]],[[120075,120076],"disallowed"],[[120077,120077],"mapped",[106]],[[120078,120078],"mapped",[107]],[[120079,120079],"mapped",[108]],[[120080,120080],"mapped",[109]],[[120081,120081],"mapped",[110]],[[120082,120082],"mapped",[111]],[[120083,120083],"mapped",[112]],[[120084,120084],"mapped",[113]],[[120085,120085],"disallowed"],[[120086,120086],"mapped",[115]],[[120087,120087],"mapped",[116]],[[120088,120088],"mapped",[117]],[[120089,120089],"mapped",[118]],[[120090,120090],"mapped",[119]],[[120091,120091],"mapped",[120]],[[120092,120092],"mapped",[121]],[[120093,120093],"disallowed"],[[120094,120094],"mapped",[97]],[[120095,120095],"mapped",[98]],[[120096,120096],"mapped",[99]],[[120097,120097],"mapped",[100]],[[120098,120098],"mapped",[101]],[[120099,120099],"mapped",[102]],[[120100,120100],"mapped",[103]],[[120101,120101],"mapped",[104]],[[120102,120102],"mapped",[105]],[[120103,120103],"mapped",[106]],[[120104,120104],"mapped",[107]],[[120105,120105],"mapped",[108]],[[120106,120106],"mapped",[109]],[[120107,120107],"mapped",[110]],[[120108,120108],"mapped",[111]],[[120109,120109],"mapped",[112]],[[120110,120110],"mapped",[113]],[[120111,120111],"mapped",[114]],[[120112,120112],"mapped",[115]],[[120113,120113],"mapped",[116]],[[120114,120114],"mapped",[117]],[[120115,120115],"mapped",[118]],[[120116,120116],"mapped",[119]],[[120117,120117],"mapped",[120]],[[120118,120118],"mapped",[121]],[[120119,120119],"mapped",[122]],[[120120,120120],"mapped",[97]],[[120121,120121],"mapped",[98]],[[120122,120122],"disallowed"],[[120123,120123],"mapped",[100]],[[120124,120124],"mapped",[101]],[[120125,120125],"mapped",[102]],[[120126,120126],"mapped",[103]],[[120127,120127],"disallowed"],[[120128,120128],"mapped",[105]],[[120129,120129],"mapped",[106]],[[120130,120130],"mapped",[107]],[[120131,120131],"mapped",[108]],[[120132,120132],"mapped",[109]],[[120133,120133],"disallowed"],[[120134,120134],"mapped",[111]],[[120135,120137],"disallowed"],[[120138,120138],"mapped",[115]],[[120139,120139],"mapped",[116]],[[120140,120140],"mapped",[117]],[[120141,120141],"mapped",[118]],[[120142,120142],"mapped",[119]],[[120143,120143],"mapped",[120]],[[120144,120144],"mapped",[121]],[[120145,120145],"disallowed"],[[120146,120146],"mapped",[97]],[[120147,120147],"mapped",[98]],[[120148,120148],"mapped",[99]],[[120149,120149],"mapped",[100]],[[120150,120150],"mapped",[101]],[[120151,120151],"mapped",[102]],[[120152,120152],"mapped",[103]],[[120153,120153],"mapped",[104]],[[120154,120154],"mapped",[105]],[[120155,120155],"mapped",[106]],[[120156,120156],"mapped",[107]],[[120157,120157],"mapped",[108]],[[120158,120158],"mapped",[109]],[[120159,120159],"mapped",[110]],[[120160,120160],"mapped",[111]],[[120161,120161],"mapped",[112]],[[120162,120162],"mapped",[113]],[[120163,120163],"mapped",[114]],[[120164,120164],"mapped",[115]],[[120165,120165],"mapped",[116]],[[120166,120166],"mapped",[117]],[[120167,120167],"mapped",[118]],[[120168,120168],"mapped",[119]],[[120169,120169],"mapped",[120]],[[120170,120170],"mapped",[121]],[[120171,120171],"mapped",[122]],[[120172,120172],"mapped",[97]],[[120173,120173],"mapped",[98]],[[120174,120174],"mapped",[99]],[[120175,120175],"mapped",[100]],[[120176,120176],"mapped",[101]],[[120177,120177],"mapped",[102]],[[120178,120178],"mapped",[103]],[[120179,120179],"mapped",[104]],[[120180,120180],"mapped",[105]],[[120181,120181],"mapped",[106]],[[120182,120182],"mapped",[107]],[[120183,120183],"mapped",[108]],[[120184,120184],"mapped",[109]],[[120185,120185],"mapped",[110]],[[120186,120186],"mapped",[111]],[[120187,120187],"mapped",[112]],[[120188,120188],"mapped",[113]],[[120189,120189],"mapped",[114]],[[120190,120190],"mapped",[115]],[[120191,120191],"mapped",[116]],[[120192,120192],"mapped",[117]],[[120193,120193],"mapped",[118]],[[120194,120194],"mapped",[119]],[[120195,120195],"mapped",[120]],[[120196,120196],"mapped",[121]],[[120197,120197],"mapped",[122]],[[120198,120198],"mapped",[97]],[[120199,120199],"mapped",[98]],[[120200,120200],"mapped",[99]],[[120201,120201],"mapped",[100]],[[120202,120202],"mapped",[101]],[[120203,120203],"mapped",[102]],[[120204,120204],"mapped",[103]],[[120205,120205],"mapped",[104]],[[120206,120206],"mapped",[105]],[[120207,120207],"mapped",[106]],[[120208,120208],"mapped",[107]],[[120209,120209],"mapped",[108]],[[120210,120210],"mapped",[109]],[[120211,120211],"mapped",[110]],[[120212,120212],"mapped",[111]],[[120213,120213],"mapped",[112]],[[120214,120214],"mapped",[113]],[[120215,120215],"mapped",[114]],[[120216,120216],"mapped",[115]],[[120217,120217],"mapped",[116]],[[120218,120218],"mapped",[117]],[[120219,120219],"mapped",[118]],[[120220,120220],"mapped",[119]],[[120221,120221],"mapped",[120]],[[120222,120222],"mapped",[121]],[[120223,120223],"mapped",[122]],[[120224,120224],"mapped",[97]],[[120225,120225],"mapped",[98]],[[120226,120226],"mapped",[99]],[[120227,120227],"mapped",[100]],[[120228,120228],"mapped",[101]],[[120229,120229],"mapped",[102]],[[120230,120230],"mapped",[103]],[[120231,120231],"mapped",[104]],[[120232,120232],"mapped",[105]],[[120233,120233],"mapped",[106]],[[120234,120234],"mapped",[107]],[[120235,120235],"mapped",[108]],[[120236,120236],"mapped",[109]],[[120237,120237],"mapped",[110]],[[120238,120238],"mapped",[111]],[[120239,120239],"mapped",[112]],[[120240,120240],"mapped",[113]],[[120241,120241],"mapped",[114]],[[120242,120242],"mapped",[115]],[[120243,120243],"mapped",[116]],[[120244,120244],"mapped",[117]],[[120245,120245],"mapped",[118]],[[120246,120246],"mapped",[119]],[[120247,120247],"mapped",[120]],[[120248,120248],"mapped",[121]],[[120249,120249],"mapped",[122]],[[120250,120250],"mapped",[97]],[[120251,120251],"mapped",[98]],[[120252,120252],"mapped",[99]],[[120253,120253],"mapped",[100]],[[120254,120254],"mapped",[101]],[[120255,120255],"mapped",[102]],[[120256,120256],"mapped",[103]],[[120257,120257],"mapped",[104]],[[120258,120258],"mapped",[105]],[[120259,120259],"mapped",[106]],[[120260,120260],"mapped",[107]],[[120261,120261],"mapped",[108]],[[120262,120262],"mapped",[109]],[[120263,120263],"mapped",[110]],[[120264,120264],"mapped",[111]],[[120265,120265],"mapped",[112]],[[120266,120266],"mapped",[113]],[[120267,120267],"mapped",[114]],[[120268,120268],"mapped",[115]],[[120269,120269],"mapped",[116]],[[120270,120270],"mapped",[117]],[[120271,120271],"mapped",[118]],[[120272,120272],"mapped",[119]],[[120273,120273],"mapped",[120]],[[120274,120274],"mapped",[121]],[[120275,120275],"mapped",[122]],[[120276,120276],"mapped",[97]],[[120277,120277],"mapped",[98]],[[120278,120278],"mapped",[99]],[[120279,120279],"mapped",[100]],[[120280,120280],"mapped",[101]],[[120281,120281],"mapped",[102]],[[120282,120282],"mapped",[103]],[[120283,120283],"mapped",[104]],[[120284,120284],"mapped",[105]],[[120285,120285],"mapped",[106]],[[120286,120286],"mapped",[107]],[[120287,120287],"mapped",[108]],[[120288,120288],"mapped",[109]],[[120289,120289],"mapped",[110]],[[120290,120290],"mapped",[111]],[[120291,120291],"mapped",[112]],[[120292,120292],"mapped",[113]],[[120293,120293],"mapped",[114]],[[120294,120294],"mapped",[115]],[[120295,120295],"mapped",[116]],[[120296,120296],"mapped",[117]],[[120297,120297],"mapped",[118]],[[120298,120298],"mapped",[119]],[[120299,120299],"mapped",[120]],[[120300,120300],"mapped",[121]],[[120301,120301],"mapped",[122]],[[120302,120302],"mapped",[97]],[[120303,120303],"mapped",[98]],[[120304,120304],"mapped",[99]],[[120305,120305],"mapped",[100]],[[120306,120306],"mapped",[101]],[[120307,120307],"mapped",[102]],[[120308,120308],"mapped",[103]],[[120309,120309],"mapped",[104]],[[120310,120310],"mapped",[105]],[[120311,120311],"mapped",[106]],[[120312,120312],"mapped",[107]],[[120313,120313],"mapped",[108]],[[120314,120314],"mapped",[109]],[[120315,120315],"mapped",[110]],[[120316,120316],"mapped",[111]],[[120317,120317],"mapped",[112]],[[120318,120318],"mapped",[113]],[[120319,120319],"mapped",[114]],[[120320,120320],"mapped",[115]],[[120321,120321],"mapped",[116]],[[120322,120322],"mapped",[117]],[[120323,120323],"mapped",[118]],[[120324,120324],"mapped",[119]],[[120325,120325],"mapped",[120]],[[120326,120326],"mapped",[121]],[[120327,120327],"mapped",[122]],[[120328,120328],"mapped",[97]],[[120329,120329],"mapped",[98]],[[120330,120330],"mapped",[99]],[[120331,120331],"mapped",[100]],[[120332,120332],"mapped",[101]],[[120333,120333],"mapped",[102]],[[120334,120334],"mapped",[103]],[[120335,120335],"mapped",[104]],[[120336,120336],"mapped",[105]],[[120337,120337],"mapped",[106]],[[120338,120338],"mapped",[107]],[[120339,120339],"mapped",[108]],[[120340,120340],"mapped",[109]],[[120341,120341],"mapped",[110]],[[120342,120342],"mapped",[111]],[[120343,120343],"mapped",[112]],[[120344,120344],"mapped",[113]],[[120345,120345],"mapped",[114]],[[120346,120346],"mapped",[115]],[[120347,120347],"mapped",[116]],[[120348,120348],"mapped",[117]],[[120349,120349],"mapped",[118]],[[120350,120350],"mapped",[119]],[[120351,120351],"mapped",[120]],[[120352,120352],"mapped",[121]],[[120353,120353],"mapped",[122]],[[120354,120354],"mapped",[97]],[[120355,120355],"mapped",[98]],[[120356,120356],"mapped",[99]],[[120357,120357],"mapped",[100]],[[120358,120358],"mapped",[101]],[[120359,120359],"mapped",[102]],[[120360,120360],"mapped",[103]],[[120361,120361],"mapped",[104]],[[120362,120362],"mapped",[105]],[[120363,120363],"mapped",[106]],[[120364,120364],"mapped",[107]],[[120365,120365],"mapped",[108]],[[120366,120366],"mapped",[109]],[[120367,120367],"mapped",[110]],[[120368,120368],"mapped",[111]],[[120369,120369],"mapped",[112]],[[120370,120370],"mapped",[113]],[[120371,120371],"mapped",[114]],[[120372,120372],"mapped",[115]],[[120373,120373],"mapped",[116]],[[120374,120374],"mapped",[117]],[[120375,120375],"mapped",[118]],[[120376,120376],"mapped",[119]],[[120377,120377],"mapped",[120]],[[120378,120378],"mapped",[121]],[[120379,120379],"mapped",[122]],[[120380,120380],"mapped",[97]],[[120381,120381],"mapped",[98]],[[120382,120382],"mapped",[99]],[[120383,120383],"mapped",[100]],[[120384,120384],"mapped",[101]],[[120385,120385],"mapped",[102]],[[120386,120386],"mapped",[103]],[[120387,120387],"mapped",[104]],[[120388,120388],"mapped",[105]],[[120389,120389],"mapped",[106]],[[120390,120390],"mapped",[107]],[[120391,120391],"mapped",[108]],[[120392,120392],"mapped",[109]],[[120393,120393],"mapped",[110]],[[120394,120394],"mapped",[111]],[[120395,120395],"mapped",[112]],[[120396,120396],"mapped",[113]],[[120397,120397],"mapped",[114]],[[120398,120398],"mapped",[115]],[[120399,120399],"mapped",[116]],[[120400,120400],"mapped",[117]],[[120401,120401],"mapped",[118]],[[120402,120402],"mapped",[119]],[[120403,120403],"mapped",[120]],[[120404,120404],"mapped",[121]],[[120405,120405],"mapped",[122]],[[120406,120406],"mapped",[97]],[[120407,120407],"mapped",[98]],[[120408,120408],"mapped",[99]],[[120409,120409],"mapped",[100]],[[120410,120410],"mapped",[101]],[[120411,120411],"mapped",[102]],[[120412,120412],"mapped",[103]],[[120413,120413],"mapped",[104]],[[120414,120414],"mapped",[105]],[[120415,120415],"mapped",[106]],[[120416,120416],"mapped",[107]],[[120417,120417],"mapped",[108]],[[120418,120418],"mapped",[109]],[[120419,120419],"mapped",[110]],[[120420,120420],"mapped",[111]],[[120421,120421],"mapped",[112]],[[120422,120422],"mapped",[113]],[[120423,120423],"mapped",[114]],[[120424,120424],"mapped",[115]],[[120425,120425],"mapped",[116]],[[120426,120426],"mapped",[117]],[[120427,120427],"mapped",[118]],[[120428,120428],"mapped",[119]],[[120429,120429],"mapped",[120]],[[120430,120430],"mapped",[121]],[[120431,120431],"mapped",[122]],[[120432,120432],"mapped",[97]],[[120433,120433],"mapped",[98]],[[120434,120434],"mapped",[99]],[[120435,120435],"mapped",[100]],[[120436,120436],"mapped",[101]],[[120437,120437],"mapped",[102]],[[120438,120438],"mapped",[103]],[[120439,120439],"mapped",[104]],[[120440,120440],"mapped",[105]],[[120441,120441],"mapped",[106]],[[120442,120442],"mapped",[107]],[[120443,120443],"mapped",[108]],[[120444,120444],"mapped",[109]],[[120445,120445],"mapped",[110]],[[120446,120446],"mapped",[111]],[[120447,120447],"mapped",[112]],[[120448,120448],"mapped",[113]],[[120449,120449],"mapped",[114]],[[120450,120450],"mapped",[115]],[[120451,120451],"mapped",[116]],[[120452,120452],"mapped",[117]],[[120453,120453],"mapped",[118]],[[120454,120454],"mapped",[119]],[[120455,120455],"mapped",[120]],[[120456,120456],"mapped",[121]],[[120457,120457],"mapped",[122]],[[120458,120458],"mapped",[97]],[[120459,120459],"mapped",[98]],[[120460,120460],"mapped",[99]],[[120461,120461],"mapped",[100]],[[120462,120462],"mapped",[101]],[[120463,120463],"mapped",[102]],[[120464,120464],"mapped",[103]],[[120465,120465],"mapped",[104]],[[120466,120466],"mapped",[105]],[[120467,120467],"mapped",[106]],[[120468,120468],"mapped",[107]],[[120469,120469],"mapped",[108]],[[120470,120470],"mapped",[109]],[[120471,120471],"mapped",[110]],[[120472,120472],"mapped",[111]],[[120473,120473],"mapped",[112]],[[120474,120474],"mapped",[113]],[[120475,120475],"mapped",[114]],[[120476,120476],"mapped",[115]],[[120477,120477],"mapped",[116]],[[120478,120478],"mapped",[117]],[[120479,120479],"mapped",[118]],[[120480,120480],"mapped",[119]],[[120481,120481],"mapped",[120]],[[120482,120482],"mapped",[121]],[[120483,120483],"mapped",[122]],[[120484,120484],"mapped",[305]],[[120485,120485],"mapped",[567]],[[120486,120487],"disallowed"],[[120488,120488],"mapped",[945]],[[120489,120489],"mapped",[946]],[[120490,120490],"mapped",[947]],[[120491,120491],"mapped",[948]],[[120492,120492],"mapped",[949]],[[120493,120493],"mapped",[950]],[[120494,120494],"mapped",[951]],[[120495,120495],"mapped",[952]],[[120496,120496],"mapped",[953]],[[120497,120497],"mapped",[954]],[[120498,120498],"mapped",[955]],[[120499,120499],"mapped",[956]],[[120500,120500],"mapped",[957]],[[120501,120501],"mapped",[958]],[[120502,120502],"mapped",[959]],[[120503,120503],"mapped",[960]],[[120504,120504],"mapped",[961]],[[120505,120505],"mapped",[952]],[[120506,120506],"mapped",[963]],[[120507,120507],"mapped",[964]],[[120508,120508],"mapped",[965]],[[120509,120509],"mapped",[966]],[[120510,120510],"mapped",[967]],[[120511,120511],"mapped",[968]],[[120512,120512],"mapped",[969]],[[120513,120513],"mapped",[8711]],[[120514,120514],"mapped",[945]],[[120515,120515],"mapped",[946]],[[120516,120516],"mapped",[947]],[[120517,120517],"mapped",[948]],[[120518,120518],"mapped",[949]],[[120519,120519],"mapped",[950]],[[120520,120520],"mapped",[951]],[[120521,120521],"mapped",[952]],[[120522,120522],"mapped",[953]],[[120523,120523],"mapped",[954]],[[120524,120524],"mapped",[955]],[[120525,120525],"mapped",[956]],[[120526,120526],"mapped",[957]],[[120527,120527],"mapped",[958]],[[120528,120528],"mapped",[959]],[[120529,120529],"mapped",[960]],[[120530,120530],"mapped",[961]],[[120531,120532],"mapped",[963]],[[120533,120533],"mapped",[964]],[[120534,120534],"mapped",[965]],[[120535,120535],"mapped",[966]],[[120536,120536],"mapped",[967]],[[120537,120537],"mapped",[968]],[[120538,120538],"mapped",[969]],[[120539,120539],"mapped",[8706]],[[120540,120540],"mapped",[949]],[[120541,120541],"mapped",[952]],[[120542,120542],"mapped",[954]],[[120543,120543],"mapped",[966]],[[120544,120544],"mapped",[961]],[[120545,120545],"mapped",[960]],[[120546,120546],"mapped",[945]],[[120547,120547],"mapped",[946]],[[120548,120548],"mapped",[947]],[[120549,120549],"mapped",[948]],[[120550,120550],"mapped",[949]],[[120551,120551],"mapped",[950]],[[120552,120552],"mapped",[951]],[[120553,120553],"mapped",[952]],[[120554,120554],"mapped",[953]],[[120555,120555],"mapped",[954]],[[120556,120556],"mapped",[955]],[[120557,120557],"mapped",[956]],[[120558,120558],"mapped",[957]],[[120559,120559],"mapped",[958]],[[120560,120560],"mapped",[959]],[[120561,120561],"mapped",[960]],[[120562,120562],"mapped",[961]],[[120563,120563],"mapped",[952]],[[120564,120564],"mapped",[963]],[[120565,120565],"mapped",[964]],[[120566,120566],"mapped",[965]],[[120567,120567],"mapped",[966]],[[120568,120568],"mapped",[967]],[[120569,120569],"mapped",[968]],[[120570,120570],"mapped",[969]],[[120571,120571],"mapped",[8711]],[[120572,120572],"mapped",[945]],[[120573,120573],"mapped",[946]],[[120574,120574],"mapped",[947]],[[120575,120575],"mapped",[948]],[[120576,120576],"mapped",[949]],[[120577,120577],"mapped",[950]],[[120578,120578],"mapped",[951]],[[120579,120579],"mapped",[952]],[[120580,120580],"mapped",[953]],[[120581,120581],"mapped",[954]],[[120582,120582],"mapped",[955]],[[120583,120583],"mapped",[956]],[[120584,120584],"mapped",[957]],[[120585,120585],"mapped",[958]],[[120586,120586],"mapped",[959]],[[120587,120587],"mapped",[960]],[[120588,120588],"mapped",[961]],[[120589,120590],"mapped",[963]],[[120591,120591],"mapped",[964]],[[120592,120592],"mapped",[965]],[[120593,120593],"mapped",[966]],[[120594,120594],"mapped",[967]],[[120595,120595],"mapped",[968]],[[120596,120596],"mapped",[969]],[[120597,120597],"mapped",[8706]],[[120598,120598],"mapped",[949]],[[120599,120599],"mapped",[952]],[[120600,120600],"mapped",[954]],[[120601,120601],"mapped",[966]],[[120602,120602],"mapped",[961]],[[120603,120603],"mapped",[960]],[[120604,120604],"mapped",[945]],[[120605,120605],"mapped",[946]],[[120606,120606],"mapped",[947]],[[120607,120607],"mapped",[948]],[[120608,120608],"mapped",[949]],[[120609,120609],"mapped",[950]],[[120610,120610],"mapped",[951]],[[120611,120611],"mapped",[952]],[[120612,120612],"mapped",[953]],[[120613,120613],"mapped",[954]],[[120614,120614],"mapped",[955]],[[120615,120615],"mapped",[956]],[[120616,120616],"mapped",[957]],[[120617,120617],"mapped",[958]],[[120618,120618],"mapped",[959]],[[120619,120619],"mapped",[960]],[[120620,120620],"mapped",[961]],[[120621,120621],"mapped",[952]],[[120622,120622],"mapped",[963]],[[120623,120623],"mapped",[964]],[[120624,120624],"mapped",[965]],[[120625,120625],"mapped",[966]],[[120626,120626],"mapped",[967]],[[120627,120627],"mapped",[968]],[[120628,120628],"mapped",[969]],[[120629,120629],"mapped",[8711]],[[120630,120630],"mapped",[945]],[[120631,120631],"mapped",[946]],[[120632,120632],"mapped",[947]],[[120633,120633],"mapped",[948]],[[120634,120634],"mapped",[949]],[[120635,120635],"mapped",[950]],[[120636,120636],"mapped",[951]],[[120637,120637],"mapped",[952]],[[120638,120638],"mapped",[953]],[[120639,120639],"mapped",[954]],[[120640,120640],"mapped",[955]],[[120641,120641],"mapped",[956]],[[120642,120642],"mapped",[957]],[[120643,120643],"mapped",[958]],[[120644,120644],"mapped",[959]],[[120645,120645],"mapped",[960]],[[120646,120646],"mapped",[961]],[[120647,120648],"mapped",[963]],[[120649,120649],"mapped",[964]],[[120650,120650],"mapped",[965]],[[120651,120651],"mapped",[966]],[[120652,120652],"mapped",[967]],[[120653,120653],"mapped",[968]],[[120654,120654],"mapped",[969]],[[120655,120655],"mapped",[8706]],[[120656,120656],"mapped",[949]],[[120657,120657],"mapped",[952]],[[120658,120658],"mapped",[954]],[[120659,120659],"mapped",[966]],[[120660,120660],"mapped",[961]],[[120661,120661],"mapped",[960]],[[120662,120662],"mapped",[945]],[[120663,120663],"mapped",[946]],[[120664,120664],"mapped",[947]],[[120665,120665],"mapped",[948]],[[120666,120666],"mapped",[949]],[[120667,120667],"mapped",[950]],[[120668,120668],"mapped",[951]],[[120669,120669],"mapped",[952]],[[120670,120670],"mapped",[953]],[[120671,120671],"mapped",[954]],[[120672,120672],"mapped",[955]],[[120673,120673],"mapped",[956]],[[120674,120674],"mapped",[957]],[[120675,120675],"mapped",[958]],[[120676,120676],"mapped",[959]],[[120677,120677],"mapped",[960]],[[120678,120678],"mapped",[961]],[[120679,120679],"mapped",[952]],[[120680,120680],"mapped",[963]],[[120681,120681],"mapped",[964]],[[120682,120682],"mapped",[965]],[[120683,120683],"mapped",[966]],[[120684,120684],"mapped",[967]],[[120685,120685],"mapped",[968]],[[120686,120686],"mapped",[969]],[[120687,120687],"mapped",[8711]],[[120688,120688],"mapped",[945]],[[120689,120689],"mapped",[946]],[[120690,120690],"mapped",[947]],[[120691,120691],"mapped",[948]],[[120692,120692],"mapped",[949]],[[120693,120693],"mapped",[950]],[[120694,120694],"mapped",[951]],[[120695,120695],"mapped",[952]],[[120696,120696],"mapped",[953]],[[120697,120697],"mapped",[954]],[[120698,120698],"mapped",[955]],[[120699,120699],"mapped",[956]],[[120700,120700],"mapped",[957]],[[120701,120701],"mapped",[958]],[[120702,120702],"mapped",[959]],[[120703,120703],"mapped",[960]],[[120704,120704],"mapped",[961]],[[120705,120706],"mapped",[963]],[[120707,120707],"mapped",[964]],[[120708,120708],"mapped",[965]],[[120709,120709],"mapped",[966]],[[120710,120710],"mapped",[967]],[[120711,120711],"mapped",[968]],[[120712,120712],"mapped",[969]],[[120713,120713],"mapped",[8706]],[[120714,120714],"mapped",[949]],[[120715,120715],"mapped",[952]],[[120716,120716],"mapped",[954]],[[120717,120717],"mapped",[966]],[[120718,120718],"mapped",[961]],[[120719,120719],"mapped",[960]],[[120720,120720],"mapped",[945]],[[120721,120721],"mapped",[946]],[[120722,120722],"mapped",[947]],[[120723,120723],"mapped",[948]],[[120724,120724],"mapped",[949]],[[120725,120725],"mapped",[950]],[[120726,120726],"mapped",[951]],[[120727,120727],"mapped",[952]],[[120728,120728],"mapped",[953]],[[120729,120729],"mapped",[954]],[[120730,120730],"mapped",[955]],[[120731,120731],"mapped",[956]],[[120732,120732],"mapped",[957]],[[120733,120733],"mapped",[958]],[[120734,120734],"mapped",[959]],[[120735,120735],"mapped",[960]],[[120736,120736],"mapped",[961]],[[120737,120737],"mapped",[952]],[[120738,120738],"mapped",[963]],[[120739,120739],"mapped",[964]],[[120740,120740],"mapped",[965]],[[120741,120741],"mapped",[966]],[[120742,120742],"mapped",[967]],[[120743,120743],"mapped",[968]],[[120744,120744],"mapped",[969]],[[120745,120745],"mapped",[8711]],[[120746,120746],"mapped",[945]],[[120747,120747],"mapped",[946]],[[120748,120748],"mapped",[947]],[[120749,120749],"mapped",[948]],[[120750,120750],"mapped",[949]],[[120751,120751],"mapped",[950]],[[120752,120752],"mapped",[951]],[[120753,120753],"mapped",[952]],[[120754,120754],"mapped",[953]],[[120755,120755],"mapped",[954]],[[120756,120756],"mapped",[955]],[[120757,120757],"mapped",[956]],[[120758,120758],"mapped",[957]],[[120759,120759],"mapped",[958]],[[120760,120760],"mapped",[959]],[[120761,120761],"mapped",[960]],[[120762,120762],"mapped",[961]],[[120763,120764],"mapped",[963]],[[120765,120765],"mapped",[964]],[[120766,120766],"mapped",[965]],[[120767,120767],"mapped",[966]],[[120768,120768],"mapped",[967]],[[120769,120769],"mapped",[968]],[[120770,120770],"mapped",[969]],[[120771,120771],"mapped",[8706]],[[120772,120772],"mapped",[949]],[[120773,120773],"mapped",[952]],[[120774,120774],"mapped",[954]],[[120775,120775],"mapped",[966]],[[120776,120776],"mapped",[961]],[[120777,120777],"mapped",[960]],[[120778,120779],"mapped",[989]],[[120780,120781],"disallowed"],[[120782,120782],"mapped",[48]],[[120783,120783],"mapped",[49]],[[120784,120784],"mapped",[50]],[[120785,120785],"mapped",[51]],[[120786,120786],"mapped",[52]],[[120787,120787],"mapped",[53]],[[120788,120788],"mapped",[54]],[[120789,120789],"mapped",[55]],[[120790,120790],"mapped",[56]],[[120791,120791],"mapped",[57]],[[120792,120792],"mapped",[48]],[[120793,120793],"mapped",[49]],[[120794,120794],"mapped",[50]],[[120795,120795],"mapped",[51]],[[120796,120796],"mapped",[52]],[[120797,120797],"mapped",[53]],[[120798,120798],"mapped",[54]],[[120799,120799],"mapped",[55]],[[120800,120800],"mapped",[56]],[[120801,120801],"mapped",[57]],[[120802,120802],"mapped",[48]],[[120803,120803],"mapped",[49]],[[120804,120804],"mapped",[50]],[[120805,120805],"mapped",[51]],[[120806,120806],"mapped",[52]],[[120807,120807],"mapped",[53]],[[120808,120808],"mapped",[54]],[[120809,120809],"mapped",[55]],[[120810,120810],"mapped",[56]],[[120811,120811],"mapped",[57]],[[120812,120812],"mapped",[48]],[[120813,120813],"mapped",[49]],[[120814,120814],"mapped",[50]],[[120815,120815],"mapped",[51]],[[120816,120816],"mapped",[52]],[[120817,120817],"mapped",[53]],[[120818,120818],"mapped",[54]],[[120819,120819],"mapped",[55]],[[120820,120820],"mapped",[56]],[[120821,120821],"mapped",[57]],[[120822,120822],"mapped",[48]],[[120823,120823],"mapped",[49]],[[120824,120824],"mapped",[50]],[[120825,120825],"mapped",[51]],[[120826,120826],"mapped",[52]],[[120827,120827],"mapped",[53]],[[120828,120828],"mapped",[54]],[[120829,120829],"mapped",[55]],[[120830,120830],"mapped",[56]],[[120831,120831],"mapped",[57]],[[120832,121343],"valid",[],"NV8"],[[121344,121398],"valid"],[[121399,121402],"valid",[],"NV8"],[[121403,121452],"valid"],[[121453,121460],"valid",[],"NV8"],[[121461,121461],"valid"],[[121462,121475],"valid",[],"NV8"],[[121476,121476],"valid"],[[121477,121483],"valid",[],"NV8"],[[121484,121498],"disallowed"],[[121499,121503],"valid"],[[121504,121504],"disallowed"],[[121505,121519],"valid"],[[121520,124927],"disallowed"],[[124928,125124],"valid"],[[125125,125126],"disallowed"],[[125127,125135],"valid",[],"NV8"],[[125136,125142],"valid"],[[125143,126463],"disallowed"],[[126464,126464],"mapped",[1575]],[[126465,126465],"mapped",[1576]],[[126466,126466],"mapped",[1580]],[[126467,126467],"mapped",[1583]],[[126468,126468],"disallowed"],[[126469,126469],"mapped",[1608]],[[126470,126470],"mapped",[1586]],[[126471,126471],"mapped",[1581]],[[126472,126472],"mapped",[1591]],[[126473,126473],"mapped",[1610]],[[126474,126474],"mapped",[1603]],[[126475,126475],"mapped",[1604]],[[126476,126476],"mapped",[1605]],[[126477,126477],"mapped",[1606]],[[126478,126478],"mapped",[1587]],[[126479,126479],"mapped",[1593]],[[126480,126480],"mapped",[1601]],[[126481,126481],"mapped",[1589]],[[126482,126482],"mapped",[1602]],[[126483,126483],"mapped",[1585]],[[126484,126484],"mapped",[1588]],[[126485,126485],"mapped",[1578]],[[126486,126486],"mapped",[1579]],[[126487,126487],"mapped",[1582]],[[126488,126488],"mapped",[1584]],[[126489,126489],"mapped",[1590]],[[126490,126490],"mapped",[1592]],[[126491,126491],"mapped",[1594]],[[126492,126492],"mapped",[1646]],[[126493,126493],"mapped",[1722]],[[126494,126494],"mapped",[1697]],[[126495,126495],"mapped",[1647]],[[126496,126496],"disallowed"],[[126497,126497],"mapped",[1576]],[[126498,126498],"mapped",[1580]],[[126499,126499],"disallowed"],[[126500,126500],"mapped",[1607]],[[126501,126502],"disallowed"],[[126503,126503],"mapped",[1581]],[[126504,126504],"disallowed"],[[126505,126505],"mapped",[1610]],[[126506,126506],"mapped",[1603]],[[126507,126507],"mapped",[1604]],[[126508,126508],"mapped",[1605]],[[126509,126509],"mapped",[1606]],[[126510,126510],"mapped",[1587]],[[126511,126511],"mapped",[1593]],[[126512,126512],"mapped",[1601]],[[126513,126513],"mapped",[1589]],[[126514,126514],"mapped",[1602]],[[126515,126515],"disallowed"],[[126516,126516],"mapped",[1588]],[[126517,126517],"mapped",[1578]],[[126518,126518],"mapped",[1579]],[[126519,126519],"mapped",[1582]],[[126520,126520],"disallowed"],[[126521,126521],"mapped",[1590]],[[126522,126522],"disallowed"],[[126523,126523],"mapped",[1594]],[[126524,126529],"disallowed"],[[126530,126530],"mapped",[1580]],[[126531,126534],"disallowed"],[[126535,126535],"mapped",[1581]],[[126536,126536],"disallowed"],[[126537,126537],"mapped",[1610]],[[126538,126538],"disallowed"],[[126539,126539],"mapped",[1604]],[[126540,126540],"disallowed"],[[126541,126541],"mapped",[1606]],[[126542,126542],"mapped",[1587]],[[126543,126543],"mapped",[1593]],[[126544,126544],"disallowed"],[[126545,126545],"mapped",[1589]],[[126546,126546],"mapped",[1602]],[[126547,126547],"disallowed"],[[126548,126548],"mapped",[1588]],[[126549,126550],"disallowed"],[[126551,126551],"mapped",[1582]],[[126552,126552],"disallowed"],[[126553,126553],"mapped",[1590]],[[126554,126554],"disallowed"],[[126555,126555],"mapped",[1594]],[[126556,126556],"disallowed"],[[126557,126557],"mapped",[1722]],[[126558,126558],"disallowed"],[[126559,126559],"mapped",[1647]],[[126560,126560],"disallowed"],[[126561,126561],"mapped",[1576]],[[126562,126562],"mapped",[1580]],[[126563,126563],"disallowed"],[[126564,126564],"mapped",[1607]],[[126565,126566],"disallowed"],[[126567,126567],"mapped",[1581]],[[126568,126568],"mapped",[1591]],[[126569,126569],"mapped",[1610]],[[126570,126570],"mapped",[1603]],[[126571,126571],"disallowed"],[[126572,126572],"mapped",[1605]],[[126573,126573],"mapped",[1606]],[[126574,126574],"mapped",[1587]],[[126575,126575],"mapped",[1593]],[[126576,126576],"mapped",[1601]],[[126577,126577],"mapped",[1589]],[[126578,126578],"mapped",[1602]],[[126579,126579],"disallowed"],[[126580,126580],"mapped",[1588]],[[126581,126581],"mapped",[1578]],[[126582,126582],"mapped",[1579]],[[126583,126583],"mapped",[1582]],[[126584,126584],"disallowed"],[[126585,126585],"mapped",[1590]],[[126586,126586],"mapped",[1592]],[[126587,126587],"mapped",[1594]],[[126588,126588],"mapped",[1646]],[[126589,126589],"disallowed"],[[126590,126590],"mapped",[1697]],[[126591,126591],"disallowed"],[[126592,126592],"mapped",[1575]],[[126593,126593],"mapped",[1576]],[[126594,126594],"mapped",[1580]],[[126595,126595],"mapped",[1583]],[[126596,126596],"mapped",[1607]],[[126597,126597],"mapped",[1608]],[[126598,126598],"mapped",[1586]],[[126599,126599],"mapped",[1581]],[[126600,126600],"mapped",[1591]],[[126601,126601],"mapped",[1610]],[[126602,126602],"disallowed"],[[126603,126603],"mapped",[1604]],[[126604,126604],"mapped",[1605]],[[126605,126605],"mapped",[1606]],[[126606,126606],"mapped",[1587]],[[126607,126607],"mapped",[1593]],[[126608,126608],"mapped",[1601]],[[126609,126609],"mapped",[1589]],[[126610,126610],"mapped",[1602]],[[126611,126611],"mapped",[1585]],[[126612,126612],"mapped",[1588]],[[126613,126613],"mapped",[1578]],[[126614,126614],"mapped",[1579]],[[126615,126615],"mapped",[1582]],[[126616,126616],"mapped",[1584]],[[126617,126617],"mapped",[1590]],[[126618,126618],"mapped",[1592]],[[126619,126619],"mapped",[1594]],[[126620,126624],"disallowed"],[[126625,126625],"mapped",[1576]],[[126626,126626],"mapped",[1580]],[[126627,126627],"mapped",[1583]],[[126628,126628],"disallowed"],[[126629,126629],"mapped",[1608]],[[126630,126630],"mapped",[1586]],[[126631,126631],"mapped",[1581]],[[126632,126632],"mapped",[1591]],[[126633,126633],"mapped",[1610]],[[126634,126634],"disallowed"],[[126635,126635],"mapped",[1604]],[[126636,126636],"mapped",[1605]],[[126637,126637],"mapped",[1606]],[[126638,126638],"mapped",[1587]],[[126639,126639],"mapped",[1593]],[[126640,126640],"mapped",[1601]],[[126641,126641],"mapped",[1589]],[[126642,126642],"mapped",[1602]],[[126643,126643],"mapped",[1585]],[[126644,126644],"mapped",[1588]],[[126645,126645],"mapped",[1578]],[[126646,126646],"mapped",[1579]],[[126647,126647],"mapped",[1582]],[[126648,126648],"mapped",[1584]],[[126649,126649],"mapped",[1590]],[[126650,126650],"mapped",[1592]],[[126651,126651],"mapped",[1594]],[[126652,126703],"disallowed"],[[126704,126705],"valid",[],"NV8"],[[126706,126975],"disallowed"],[[126976,127019],"valid",[],"NV8"],[[127020,127023],"disallowed"],[[127024,127123],"valid",[],"NV8"],[[127124,127135],"disallowed"],[[127136,127150],"valid",[],"NV8"],[[127151,127152],"disallowed"],[[127153,127166],"valid",[],"NV8"],[[127167,127167],"valid",[],"NV8"],[[127168,127168],"disallowed"],[[127169,127183],"valid",[],"NV8"],[[127184,127184],"disallowed"],[[127185,127199],"valid",[],"NV8"],[[127200,127221],"valid",[],"NV8"],[[127222,127231],"disallowed"],[[127232,127232],"disallowed"],[[127233,127233],"disallowed_STD3_mapped",[48,44]],[[127234,127234],"disallowed_STD3_mapped",[49,44]],[[127235,127235],"disallowed_STD3_mapped",[50,44]],[[127236,127236],"disallowed_STD3_mapped",[51,44]],[[127237,127237],"disallowed_STD3_mapped",[52,44]],[[127238,127238],"disallowed_STD3_mapped",[53,44]],[[127239,127239],"disallowed_STD3_mapped",[54,44]],[[127240,127240],"disallowed_STD3_mapped",[55,44]],[[127241,127241],"disallowed_STD3_mapped",[56,44]],[[127242,127242],"disallowed_STD3_mapped",[57,44]],[[127243,127244],"valid",[],"NV8"],[[127245,127247],"disallowed"],[[127248,127248],"disallowed_STD3_mapped",[40,97,41]],[[127249,127249],"disallowed_STD3_mapped",[40,98,41]],[[127250,127250],"disallowed_STD3_mapped",[40,99,41]],[[127251,127251],"disallowed_STD3_mapped",[40,100,41]],[[127252,127252],"disallowed_STD3_mapped",[40,101,41]],[[127253,127253],"disallowed_STD3_mapped",[40,102,41]],[[127254,127254],"disallowed_STD3_mapped",[40,103,41]],[[127255,127255],"disallowed_STD3_mapped",[40,104,41]],[[127256,127256],"disallowed_STD3_mapped",[40,105,41]],[[127257,127257],"disallowed_STD3_mapped",[40,106,41]],[[127258,127258],"disallowed_STD3_mapped",[40,107,41]],[[127259,127259],"disallowed_STD3_mapped",[40,108,41]],[[127260,127260],"disallowed_STD3_mapped",[40,109,41]],[[127261,127261],"disallowed_STD3_mapped",[40,110,41]],[[127262,127262],"disallowed_STD3_mapped",[40,111,41]],[[127263,127263],"disallowed_STD3_mapped",[40,112,41]],[[127264,127264],"disallowed_STD3_mapped",[40,113,41]],[[127265,127265],"disallowed_STD3_mapped",[40,114,41]],[[127266,127266],"disallowed_STD3_mapped",[40,115,41]],[[127267,127267],"disallowed_STD3_mapped",[40,116,41]],[[127268,127268],"disallowed_STD3_mapped",[40,117,41]],[[127269,127269],"disallowed_STD3_mapped",[40,118,41]],[[127270,127270],"disallowed_STD3_mapped",[40,119,41]],[[127271,127271],"disallowed_STD3_mapped",[40,120,41]],[[127272,127272],"disallowed_STD3_mapped",[40,121,41]],[[127273,127273],"disallowed_STD3_mapped",[40,122,41]],[[127274,127274],"mapped",[12308,115,12309]],[[127275,127275],"mapped",[99]],[[127276,127276],"mapped",[114]],[[127277,127277],"mapped",[99,100]],[[127278,127278],"mapped",[119,122]],[[127279,127279],"disallowed"],[[127280,127280],"mapped",[97]],[[127281,127281],"mapped",[98]],[[127282,127282],"mapped",[99]],[[127283,127283],"mapped",[100]],[[127284,127284],"mapped",[101]],[[127285,127285],"mapped",[102]],[[127286,127286],"mapped",[103]],[[127287,127287],"mapped",[104]],[[127288,127288],"mapped",[105]],[[127289,127289],"mapped",[106]],[[127290,127290],"mapped",[107]],[[127291,127291],"mapped",[108]],[[127292,127292],"mapped",[109]],[[127293,127293],"mapped",[110]],[[127294,127294],"mapped",[111]],[[127295,127295],"mapped",[112]],[[127296,127296],"mapped",[113]],[[127297,127297],"mapped",[114]],[[127298,127298],"mapped",[115]],[[127299,127299],"mapped",[116]],[[127300,127300],"mapped",[117]],[[127301,127301],"mapped",[118]],[[127302,127302],"mapped",[119]],[[127303,127303],"mapped",[120]],[[127304,127304],"mapped",[121]],[[127305,127305],"mapped",[122]],[[127306,127306],"mapped",[104,118]],[[127307,127307],"mapped",[109,118]],[[127308,127308],"mapped",[115,100]],[[127309,127309],"mapped",[115,115]],[[127310,127310],"mapped",[112,112,118]],[[127311,127311],"mapped",[119,99]],[[127312,127318],"valid",[],"NV8"],[[127319,127319],"valid",[],"NV8"],[[127320,127326],"valid",[],"NV8"],[[127327,127327],"valid",[],"NV8"],[[127328,127337],"valid",[],"NV8"],[[127338,127338],"mapped",[109,99]],[[127339,127339],"mapped",[109,100]],[[127340,127343],"disallowed"],[[127344,127352],"valid",[],"NV8"],[[127353,127353],"valid",[],"NV8"],[[127354,127354],"valid",[],"NV8"],[[127355,127356],"valid",[],"NV8"],[[127357,127358],"valid",[],"NV8"],[[127359,127359],"valid",[],"NV8"],[[127360,127369],"valid",[],"NV8"],[[127370,127373],"valid",[],"NV8"],[[127374,127375],"valid",[],"NV8"],[[127376,127376],"mapped",[100,106]],[[127377,127386],"valid",[],"NV8"],[[127387,127461],"disallowed"],[[127462,127487],"valid",[],"NV8"],[[127488,127488],"mapped",[12411,12363]],[[127489,127489],"mapped",[12467,12467]],[[127490,127490],"mapped",[12469]],[[127491,127503],"disallowed"],[[127504,127504],"mapped",[25163]],[[127505,127505],"mapped",[23383]],[[127506,127506],"mapped",[21452]],[[127507,127507],"mapped",[12487]],[[127508,127508],"mapped",[20108]],[[127509,127509],"mapped",[22810]],[[127510,127510],"mapped",[35299]],[[127511,127511],"mapped",[22825]],[[127512,127512],"mapped",[20132]],[[127513,127513],"mapped",[26144]],[[127514,127514],"mapped",[28961]],[[127515,127515],"mapped",[26009]],[[127516,127516],"mapped",[21069]],[[127517,127517],"mapped",[24460]],[[127518,127518],"mapped",[20877]],[[127519,127519],"mapped",[26032]],[[127520,127520],"mapped",[21021]],[[127521,127521],"mapped",[32066]],[[127522,127522],"mapped",[29983]],[[127523,127523],"mapped",[36009]],[[127524,127524],"mapped",[22768]],[[127525,127525],"mapped",[21561]],[[127526,127526],"mapped",[28436]],[[127527,127527],"mapped",[25237]],[[127528,127528],"mapped",[25429]],[[127529,127529],"mapped",[19968]],[[127530,127530],"mapped",[19977]],[[127531,127531],"mapped",[36938]],[[127532,127532],"mapped",[24038]],[[127533,127533],"mapped",[20013]],[[127534,127534],"mapped",[21491]],[[127535,127535],"mapped",[25351]],[[127536,127536],"mapped",[36208]],[[127537,127537],"mapped",[25171]],[[127538,127538],"mapped",[31105]],[[127539,127539],"mapped",[31354]],[[127540,127540],"mapped",[21512]],[[127541,127541],"mapped",[28288]],[[127542,127542],"mapped",[26377]],[[127543,127543],"mapped",[26376]],[[127544,127544],"mapped",[30003]],[[127545,127545],"mapped",[21106]],[[127546,127546],"mapped",[21942]],[[127547,127551],"disallowed"],[[127552,127552],"mapped",[12308,26412,12309]],[[127553,127553],"mapped",[12308,19977,12309]],[[127554,127554],"mapped",[12308,20108,12309]],[[127555,127555],"mapped",[12308,23433,12309]],[[127556,127556],"mapped",[12308,28857,12309]],[[127557,127557],"mapped",[12308,25171,12309]],[[127558,127558],"mapped",[12308,30423,12309]],[[127559,127559],"mapped",[12308,21213,12309]],[[127560,127560],"mapped",[12308,25943,12309]],[[127561,127567],"disallowed"],[[127568,127568],"mapped",[24471]],[[127569,127569],"mapped",[21487]],[[127570,127743],"disallowed"],[[127744,127776],"valid",[],"NV8"],[[127777,127788],"valid",[],"NV8"],[[127789,127791],"valid",[],"NV8"],[[127792,127797],"valid",[],"NV8"],[[127798,127798],"valid",[],"NV8"],[[127799,127868],"valid",[],"NV8"],[[127869,127869],"valid",[],"NV8"],[[127870,127871],"valid",[],"NV8"],[[127872,127891],"valid",[],"NV8"],[[127892,127903],"valid",[],"NV8"],[[127904,127940],"valid",[],"NV8"],[[127941,127941],"valid",[],"NV8"],[[127942,127946],"valid",[],"NV8"],[[127947,127950],"valid",[],"NV8"],[[127951,127955],"valid",[],"NV8"],[[127956,127967],"valid",[],"NV8"],[[127968,127984],"valid",[],"NV8"],[[127985,127991],"valid",[],"NV8"],[[127992,127999],"valid",[],"NV8"],[[128e3,128062],"valid",[],"NV8"],[[128063,128063],"valid",[],"NV8"],[[128064,128064],"valid",[],"NV8"],[[128065,128065],"valid",[],"NV8"],[[128066,128247],"valid",[],"NV8"],[[128248,128248],"valid",[],"NV8"],[[128249,128252],"valid",[],"NV8"],[[128253,128254],"valid",[],"NV8"],[[128255,128255],"valid",[],"NV8"],[[128256,128317],"valid",[],"NV8"],[[128318,128319],"valid",[],"NV8"],[[128320,128323],"valid",[],"NV8"],[[128324,128330],"valid",[],"NV8"],[[128331,128335],"valid",[],"NV8"],[[128336,128359],"valid",[],"NV8"],[[128360,128377],"valid",[],"NV8"],[[128378,128378],"disallowed"],[[128379,128419],"valid",[],"NV8"],[[128420,128420],"disallowed"],[[128421,128506],"valid",[],"NV8"],[[128507,128511],"valid",[],"NV8"],[[128512,128512],"valid",[],"NV8"],[[128513,128528],"valid",[],"NV8"],[[128529,128529],"valid",[],"NV8"],[[128530,128532],"valid",[],"NV8"],[[128533,128533],"valid",[],"NV8"],[[128534,128534],"valid",[],"NV8"],[[128535,128535],"valid",[],"NV8"],[[128536,128536],"valid",[],"NV8"],[[128537,128537],"valid",[],"NV8"],[[128538,128538],"valid",[],"NV8"],[[128539,128539],"valid",[],"NV8"],[[128540,128542],"valid",[],"NV8"],[[128543,128543],"valid",[],"NV8"],[[128544,128549],"valid",[],"NV8"],[[128550,128551],"valid",[],"NV8"],[[128552,128555],"valid",[],"NV8"],[[128556,128556],"valid",[],"NV8"],[[128557,128557],"valid",[],"NV8"],[[128558,128559],"valid",[],"NV8"],[[128560,128563],"valid",[],"NV8"],[[128564,128564],"valid",[],"NV8"],[[128565,128576],"valid",[],"NV8"],[[128577,128578],"valid",[],"NV8"],[[128579,128580],"valid",[],"NV8"],[[128581,128591],"valid",[],"NV8"],[[128592,128639],"valid",[],"NV8"],[[128640,128709],"valid",[],"NV8"],[[128710,128719],"valid",[],"NV8"],[[128720,128720],"valid",[],"NV8"],[[128721,128735],"disallowed"],[[128736,128748],"valid",[],"NV8"],[[128749,128751],"disallowed"],[[128752,128755],"valid",[],"NV8"],[[128756,128767],"disallowed"],[[128768,128883],"valid",[],"NV8"],[[128884,128895],"disallowed"],[[128896,128980],"valid",[],"NV8"],[[128981,129023],"disallowed"],[[129024,129035],"valid",[],"NV8"],[[129036,129039],"disallowed"],[[129040,129095],"valid",[],"NV8"],[[129096,129103],"disallowed"],[[129104,129113],"valid",[],"NV8"],[[129114,129119],"disallowed"],[[129120,129159],"valid",[],"NV8"],[[129160,129167],"disallowed"],[[129168,129197],"valid",[],"NV8"],[[129198,129295],"disallowed"],[[129296,129304],"valid",[],"NV8"],[[129305,129407],"disallowed"],[[129408,129412],"valid",[],"NV8"],[[129413,129471],"disallowed"],[[129472,129472],"valid",[],"NV8"],[[129473,131069],"disallowed"],[[131070,131071],"disallowed"],[[131072,173782],"valid"],[[173783,173823],"disallowed"],[[173824,177972],"valid"],[[177973,177983],"disallowed"],[[177984,178205],"valid"],[[178206,178207],"disallowed"],[[178208,183969],"valid"],[[183970,194559],"disallowed"],[[194560,194560],"mapped",[20029]],[[194561,194561],"mapped",[20024]],[[194562,194562],"mapped",[20033]],[[194563,194563],"mapped",[131362]],[[194564,194564],"mapped",[20320]],[[194565,194565],"mapped",[20398]],[[194566,194566],"mapped",[20411]],[[194567,194567],"mapped",[20482]],[[194568,194568],"mapped",[20602]],[[194569,194569],"mapped",[20633]],[[194570,194570],"mapped",[20711]],[[194571,194571],"mapped",[20687]],[[194572,194572],"mapped",[13470]],[[194573,194573],"mapped",[132666]],[[194574,194574],"mapped",[20813]],[[194575,194575],"mapped",[20820]],[[194576,194576],"mapped",[20836]],[[194577,194577],"mapped",[20855]],[[194578,194578],"mapped",[132380]],[[194579,194579],"mapped",[13497]],[[194580,194580],"mapped",[20839]],[[194581,194581],"mapped",[20877]],[[194582,194582],"mapped",[132427]],[[194583,194583],"mapped",[20887]],[[194584,194584],"mapped",[20900]],[[194585,194585],"mapped",[20172]],[[194586,194586],"mapped",[20908]],[[194587,194587],"mapped",[20917]],[[194588,194588],"mapped",[168415]],[[194589,194589],"mapped",[20981]],[[194590,194590],"mapped",[20995]],[[194591,194591],"mapped",[13535]],[[194592,194592],"mapped",[21051]],[[194593,194593],"mapped",[21062]],[[194594,194594],"mapped",[21106]],[[194595,194595],"mapped",[21111]],[[194596,194596],"mapped",[13589]],[[194597,194597],"mapped",[21191]],[[194598,194598],"mapped",[21193]],[[194599,194599],"mapped",[21220]],[[194600,194600],"mapped",[21242]],[[194601,194601],"mapped",[21253]],[[194602,194602],"mapped",[21254]],[[194603,194603],"mapped",[21271]],[[194604,194604],"mapped",[21321]],[[194605,194605],"mapped",[21329]],[[194606,194606],"mapped",[21338]],[[194607,194607],"mapped",[21363]],[[194608,194608],"mapped",[21373]],[[194609,194611],"mapped",[21375]],[[194612,194612],"mapped",[133676]],[[194613,194613],"mapped",[28784]],[[194614,194614],"mapped",[21450]],[[194615,194615],"mapped",[21471]],[[194616,194616],"mapped",[133987]],[[194617,194617],"mapped",[21483]],[[194618,194618],"mapped",[21489]],[[194619,194619],"mapped",[21510]],[[194620,194620],"mapped",[21662]],[[194621,194621],"mapped",[21560]],[[194622,194622],"mapped",[21576]],[[194623,194623],"mapped",[21608]],[[194624,194624],"mapped",[21666]],[[194625,194625],"mapped",[21750]],[[194626,194626],"mapped",[21776]],[[194627,194627],"mapped",[21843]],[[194628,194628],"mapped",[21859]],[[194629,194630],"mapped",[21892]],[[194631,194631],"mapped",[21913]],[[194632,194632],"mapped",[21931]],[[194633,194633],"mapped",[21939]],[[194634,194634],"mapped",[21954]],[[194635,194635],"mapped",[22294]],[[194636,194636],"mapped",[22022]],[[194637,194637],"mapped",[22295]],[[194638,194638],"mapped",[22097]],[[194639,194639],"mapped",[22132]],[[194640,194640],"mapped",[20999]],[[194641,194641],"mapped",[22766]],[[194642,194642],"mapped",[22478]],[[194643,194643],"mapped",[22516]],[[194644,194644],"mapped",[22541]],[[194645,194645],"mapped",[22411]],[[194646,194646],"mapped",[22578]],[[194647,194647],"mapped",[22577]],[[194648,194648],"mapped",[22700]],[[194649,194649],"mapped",[136420]],[[194650,194650],"mapped",[22770]],[[194651,194651],"mapped",[22775]],[[194652,194652],"mapped",[22790]],[[194653,194653],"mapped",[22810]],[[194654,194654],"mapped",[22818]],[[194655,194655],"mapped",[22882]],[[194656,194656],"mapped",[136872]],[[194657,194657],"mapped",[136938]],[[194658,194658],"mapped",[23020]],[[194659,194659],"mapped",[23067]],[[194660,194660],"mapped",[23079]],[[194661,194661],"mapped",[23e3]],[[194662,194662],"mapped",[23142]],[[194663,194663],"mapped",[14062]],[[194664,194664],"disallowed"],[[194665,194665],"mapped",[23304]],[[194666,194667],"mapped",[23358]],[[194668,194668],"mapped",[137672]],[[194669,194669],"mapped",[23491]],[[194670,194670],"mapped",[23512]],[[194671,194671],"mapped",[23527]],[[194672,194672],"mapped",[23539]],[[194673,194673],"mapped",[138008]],[[194674,194674],"mapped",[23551]],[[194675,194675],"mapped",[23558]],[[194676,194676],"disallowed"],[[194677,194677],"mapped",[23586]],[[194678,194678],"mapped",[14209]],[[194679,194679],"mapped",[23648]],[[194680,194680],"mapped",[23662]],[[194681,194681],"mapped",[23744]],[[194682,194682],"mapped",[23693]],[[194683,194683],"mapped",[138724]],[[194684,194684],"mapped",[23875]],[[194685,194685],"mapped",[138726]],[[194686,194686],"mapped",[23918]],[[194687,194687],"mapped",[23915]],[[194688,194688],"mapped",[23932]],[[194689,194689],"mapped",[24033]],[[194690,194690],"mapped",[24034]],[[194691,194691],"mapped",[14383]],[[194692,194692],"mapped",[24061]],[[194693,194693],"mapped",[24104]],[[194694,194694],"mapped",[24125]],[[194695,194695],"mapped",[24169]],[[194696,194696],"mapped",[14434]],[[194697,194697],"mapped",[139651]],[[194698,194698],"mapped",[14460]],[[194699,194699],"mapped",[24240]],[[194700,194700],"mapped",[24243]],[[194701,194701],"mapped",[24246]],[[194702,194702],"mapped",[24266]],[[194703,194703],"mapped",[172946]],[[194704,194704],"mapped",[24318]],[[194705,194706],"mapped",[140081]],[[194707,194707],"mapped",[33281]],[[194708,194709],"mapped",[24354]],[[194710,194710],"mapped",[14535]],[[194711,194711],"mapped",[144056]],[[194712,194712],"mapped",[156122]],[[194713,194713],"mapped",[24418]],[[194714,194714],"mapped",[24427]],[[194715,194715],"mapped",[14563]],[[194716,194716],"mapped",[24474]],[[194717,194717],"mapped",[24525]],[[194718,194718],"mapped",[24535]],[[194719,194719],"mapped",[24569]],[[194720,194720],"mapped",[24705]],[[194721,194721],"mapped",[14650]],[[194722,194722],"mapped",[14620]],[[194723,194723],"mapped",[24724]],[[194724,194724],"mapped",[141012]],[[194725,194725],"mapped",[24775]],[[194726,194726],"mapped",[24904]],[[194727,194727],"mapped",[24908]],[[194728,194728],"mapped",[24910]],[[194729,194729],"mapped",[24908]],[[194730,194730],"mapped",[24954]],[[194731,194731],"mapped",[24974]],[[194732,194732],"mapped",[25010]],[[194733,194733],"mapped",[24996]],[[194734,194734],"mapped",[25007]],[[194735,194735],"mapped",[25054]],[[194736,194736],"mapped",[25074]],[[194737,194737],"mapped",[25078]],[[194738,194738],"mapped",[25104]],[[194739,194739],"mapped",[25115]],[[194740,194740],"mapped",[25181]],[[194741,194741],"mapped",[25265]],[[194742,194742],"mapped",[25300]],[[194743,194743],"mapped",[25424]],[[194744,194744],"mapped",[142092]],[[194745,194745],"mapped",[25405]],[[194746,194746],"mapped",[25340]],[[194747,194747],"mapped",[25448]],[[194748,194748],"mapped",[25475]],[[194749,194749],"mapped",[25572]],[[194750,194750],"mapped",[142321]],[[194751,194751],"mapped",[25634]],[[194752,194752],"mapped",[25541]],[[194753,194753],"mapped",[25513]],[[194754,194754],"mapped",[14894]],[[194755,194755],"mapped",[25705]],[[194756,194756],"mapped",[25726]],[[194757,194757],"mapped",[25757]],[[194758,194758],"mapped",[25719]],[[194759,194759],"mapped",[14956]],[[194760,194760],"mapped",[25935]],[[194761,194761],"mapped",[25964]],[[194762,194762],"mapped",[143370]],[[194763,194763],"mapped",[26083]],[[194764,194764],"mapped",[26360]],[[194765,194765],"mapped",[26185]],[[194766,194766],"mapped",[15129]],[[194767,194767],"mapped",[26257]],[[194768,194768],"mapped",[15112]],[[194769,194769],"mapped",[15076]],[[194770,194770],"mapped",[20882]],[[194771,194771],"mapped",[20885]],[[194772,194772],"mapped",[26368]],[[194773,194773],"mapped",[26268]],[[194774,194774],"mapped",[32941]],[[194775,194775],"mapped",[17369]],[[194776,194776],"mapped",[26391]],[[194777,194777],"mapped",[26395]],[[194778,194778],"mapped",[26401]],[[194779,194779],"mapped",[26462]],[[194780,194780],"mapped",[26451]],[[194781,194781],"mapped",[144323]],[[194782,194782],"mapped",[15177]],[[194783,194783],"mapped",[26618]],[[194784,194784],"mapped",[26501]],[[194785,194785],"mapped",[26706]],[[194786,194786],"mapped",[26757]],[[194787,194787],"mapped",[144493]],[[194788,194788],"mapped",[26766]],[[194789,194789],"mapped",[26655]],[[194790,194790],"mapped",[26900]],[[194791,194791],"mapped",[15261]],[[194792,194792],"mapped",[26946]],[[194793,194793],"mapped",[27043]],[[194794,194794],"mapped",[27114]],[[194795,194795],"mapped",[27304]],[[194796,194796],"mapped",[145059]],[[194797,194797],"mapped",[27355]],[[194798,194798],"mapped",[15384]],[[194799,194799],"mapped",[27425]],[[194800,194800],"mapped",[145575]],[[194801,194801],"mapped",[27476]],[[194802,194802],"mapped",[15438]],[[194803,194803],"mapped",[27506]],[[194804,194804],"mapped",[27551]],[[194805,194805],"mapped",[27578]],[[194806,194806],"mapped",[27579]],[[194807,194807],"mapped",[146061]],[[194808,194808],"mapped",[138507]],[[194809,194809],"mapped",[146170]],[[194810,194810],"mapped",[27726]],[[194811,194811],"mapped",[146620]],[[194812,194812],"mapped",[27839]],[[194813,194813],"mapped",[27853]],[[194814,194814],"mapped",[27751]],[[194815,194815],"mapped",[27926]],[[194816,194816],"mapped",[27966]],[[194817,194817],"mapped",[28023]],[[194818,194818],"mapped",[27969]],[[194819,194819],"mapped",[28009]],[[194820,194820],"mapped",[28024]],[[194821,194821],"mapped",[28037]],[[194822,194822],"mapped",[146718]],[[194823,194823],"mapped",[27956]],[[194824,194824],"mapped",[28207]],[[194825,194825],"mapped",[28270]],[[194826,194826],"mapped",[15667]],[[194827,194827],"mapped",[28363]],[[194828,194828],"mapped",[28359]],[[194829,194829],"mapped",[147153]],[[194830,194830],"mapped",[28153]],[[194831,194831],"mapped",[28526]],[[194832,194832],"mapped",[147294]],[[194833,194833],"mapped",[147342]],[[194834,194834],"mapped",[28614]],[[194835,194835],"mapped",[28729]],[[194836,194836],"mapped",[28702]],[[194837,194837],"mapped",[28699]],[[194838,194838],"mapped",[15766]],[[194839,194839],"mapped",[28746]],[[194840,194840],"mapped",[28797]],[[194841,194841],"mapped",[28791]],[[194842,194842],"mapped",[28845]],[[194843,194843],"mapped",[132389]],[[194844,194844],"mapped",[28997]],[[194845,194845],"mapped",[148067]],[[194846,194846],"mapped",[29084]],[[194847,194847],"disallowed"],[[194848,194848],"mapped",[29224]],[[194849,194849],"mapped",[29237]],[[194850,194850],"mapped",[29264]],[[194851,194851],"mapped",[149e3]],[[194852,194852],"mapped",[29312]],[[194853,194853],"mapped",[29333]],[[194854,194854],"mapped",[149301]],[[194855,194855],"mapped",[149524]],[[194856,194856],"mapped",[29562]],[[194857,194857],"mapped",[29579]],[[194858,194858],"mapped",[16044]],[[194859,194859],"mapped",[29605]],[[194860,194861],"mapped",[16056]],[[194862,194862],"mapped",[29767]],[[194863,194863],"mapped",[29788]],[[194864,194864],"mapped",[29809]],[[194865,194865],"mapped",[29829]],[[194866,194866],"mapped",[29898]],[[194867,194867],"mapped",[16155]],[[194868,194868],"mapped",[29988]],[[194869,194869],"mapped",[150582]],[[194870,194870],"mapped",[30014]],[[194871,194871],"mapped",[150674]],[[194872,194872],"mapped",[30064]],[[194873,194873],"mapped",[139679]],[[194874,194874],"mapped",[30224]],[[194875,194875],"mapped",[151457]],[[194876,194876],"mapped",[151480]],[[194877,194877],"mapped",[151620]],[[194878,194878],"mapped",[16380]],[[194879,194879],"mapped",[16392]],[[194880,194880],"mapped",[30452]],[[194881,194881],"mapped",[151795]],[[194882,194882],"mapped",[151794]],[[194883,194883],"mapped",[151833]],[[194884,194884],"mapped",[151859]],[[194885,194885],"mapped",[30494]],[[194886,194887],"mapped",[30495]],[[194888,194888],"mapped",[30538]],[[194889,194889],"mapped",[16441]],[[194890,194890],"mapped",[30603]],[[194891,194891],"mapped",[16454]],[[194892,194892],"mapped",[16534]],[[194893,194893],"mapped",[152605]],[[194894,194894],"mapped",[30798]],[[194895,194895],"mapped",[30860]],[[194896,194896],"mapped",[30924]],[[194897,194897],"mapped",[16611]],[[194898,194898],"mapped",[153126]],[[194899,194899],"mapped",[31062]],[[194900,194900],"mapped",[153242]],[[194901,194901],"mapped",[153285]],[[194902,194902],"mapped",[31119]],[[194903,194903],"mapped",[31211]],[[194904,194904],"mapped",[16687]],[[194905,194905],"mapped",[31296]],[[194906,194906],"mapped",[31306]],[[194907,194907],"mapped",[31311]],[[194908,194908],"mapped",[153980]],[[194909,194910],"mapped",[154279]],[[194911,194911],"disallowed"],[[194912,194912],"mapped",[16898]],[[194913,194913],"mapped",[154539]],[[194914,194914],"mapped",[31686]],[[194915,194915],"mapped",[31689]],[[194916,194916],"mapped",[16935]],[[194917,194917],"mapped",[154752]],[[194918,194918],"mapped",[31954]],[[194919,194919],"mapped",[17056]],[[194920,194920],"mapped",[31976]],[[194921,194921],"mapped",[31971]],[[194922,194922],"mapped",[32e3]],[[194923,194923],"mapped",[155526]],[[194924,194924],"mapped",[32099]],[[194925,194925],"mapped",[17153]],[[194926,194926],"mapped",[32199]],[[194927,194927],"mapped",[32258]],[[194928,194928],"mapped",[32325]],[[194929,194929],"mapped",[17204]],[[194930,194930],"mapped",[156200]],[[194931,194931],"mapped",[156231]],[[194932,194932],"mapped",[17241]],[[194933,194933],"mapped",[156377]],[[194934,194934],"mapped",[32634]],[[194935,194935],"mapped",[156478]],[[194936,194936],"mapped",[32661]],[[194937,194937],"mapped",[32762]],[[194938,194938],"mapped",[32773]],[[194939,194939],"mapped",[156890]],[[194940,194940],"mapped",[156963]],[[194941,194941],"mapped",[32864]],[[194942,194942],"mapped",[157096]],[[194943,194943],"mapped",[32880]],[[194944,194944],"mapped",[144223]],[[194945,194945],"mapped",[17365]],[[194946,194946],"mapped",[32946]],[[194947,194947],"mapped",[33027]],[[194948,194948],"mapped",[17419]],[[194949,194949],"mapped",[33086]],[[194950,194950],"mapped",[23221]],[[194951,194951],"mapped",[157607]],[[194952,194952],"mapped",[157621]],[[194953,194953],"mapped",[144275]],[[194954,194954],"mapped",[144284]],[[194955,194955],"mapped",[33281]],[[194956,194956],"mapped",[33284]],[[194957,194957],"mapped",[36766]],[[194958,194958],"mapped",[17515]],[[194959,194959],"mapped",[33425]],[[194960,194960],"mapped",[33419]],[[194961,194961],"mapped",[33437]],[[194962,194962],"mapped",[21171]],[[194963,194963],"mapped",[33457]],[[194964,194964],"mapped",[33459]],[[194965,194965],"mapped",[33469]],[[194966,194966],"mapped",[33510]],[[194967,194967],"mapped",[158524]],[[194968,194968],"mapped",[33509]],[[194969,194969],"mapped",[33565]],[[194970,194970],"mapped",[33635]],[[194971,194971],"mapped",[33709]],[[194972,194972],"mapped",[33571]],[[194973,194973],"mapped",[33725]],[[194974,194974],"mapped",[33767]],[[194975,194975],"mapped",[33879]],[[194976,194976],"mapped",[33619]],[[194977,194977],"mapped",[33738]],[[194978,194978],"mapped",[33740]],[[194979,194979],"mapped",[33756]],[[194980,194980],"mapped",[158774]],[[194981,194981],"mapped",[159083]],[[194982,194982],"mapped",[158933]],[[194983,194983],"mapped",[17707]],[[194984,194984],"mapped",[34033]],[[194985,194985],"mapped",[34035]],[[194986,194986],"mapped",[34070]],[[194987,194987],"mapped",[160714]],[[194988,194988],"mapped",[34148]],[[194989,194989],"mapped",[159532]],[[194990,194990],"mapped",[17757]],[[194991,194991],"mapped",[17761]],[[194992,194992],"mapped",[159665]],[[194993,194993],"mapped",[159954]],[[194994,194994],"mapped",[17771]],[[194995,194995],"mapped",[34384]],[[194996,194996],"mapped",[34396]],[[194997,194997],"mapped",[34407]],[[194998,194998],"mapped",[34409]],[[194999,194999],"mapped",[34473]],[[195e3,195e3],"mapped",[34440]],[[195001,195001],"mapped",[34574]],[[195002,195002],"mapped",[34530]],[[195003,195003],"mapped",[34681]],[[195004,195004],"mapped",[34600]],[[195005,195005],"mapped",[34667]],[[195006,195006],"mapped",[34694]],[[195007,195007],"disallowed"],[[195008,195008],"mapped",[34785]],[[195009,195009],"mapped",[34817]],[[195010,195010],"mapped",[17913]],[[195011,195011],"mapped",[34912]],[[195012,195012],"mapped",[34915]],[[195013,195013],"mapped",[161383]],[[195014,195014],"mapped",[35031]],[[195015,195015],"mapped",[35038]],[[195016,195016],"mapped",[17973]],[[195017,195017],"mapped",[35066]],[[195018,195018],"mapped",[13499]],[[195019,195019],"mapped",[161966]],[[195020,195020],"mapped",[162150]],[[195021,195021],"mapped",[18110]],[[195022,195022],"mapped",[18119]],[[195023,195023],"mapped",[35488]],[[195024,195024],"mapped",[35565]],[[195025,195025],"mapped",[35722]],[[195026,195026],"mapped",[35925]],[[195027,195027],"mapped",[162984]],[[195028,195028],"mapped",[36011]],[[195029,195029],"mapped",[36033]],[[195030,195030],"mapped",[36123]],[[195031,195031],"mapped",[36215]],[[195032,195032],"mapped",[163631]],[[195033,195033],"mapped",[133124]],[[195034,195034],"mapped",[36299]],[[195035,195035],"mapped",[36284]],[[195036,195036],"mapped",[36336]],[[195037,195037],"mapped",[133342]],[[195038,195038],"mapped",[36564]],[[195039,195039],"mapped",[36664]],[[195040,195040],"mapped",[165330]],[[195041,195041],"mapped",[165357]],[[195042,195042],"mapped",[37012]],[[195043,195043],"mapped",[37105]],[[195044,195044],"mapped",[37137]],[[195045,195045],"mapped",[165678]],[[195046,195046],"mapped",[37147]],[[195047,195047],"mapped",[37432]],[[195048,195048],"mapped",[37591]],[[195049,195049],"mapped",[37592]],[[195050,195050],"mapped",[37500]],[[195051,195051],"mapped",[37881]],[[195052,195052],"mapped",[37909]],[[195053,195053],"mapped",[166906]],[[195054,195054],"mapped",[38283]],[[195055,195055],"mapped",[18837]],[[195056,195056],"mapped",[38327]],[[195057,195057],"mapped",[167287]],[[195058,195058],"mapped",[18918]],[[195059,195059],"mapped",[38595]],[[195060,195060],"mapped",[23986]],[[195061,195061],"mapped",[38691]],[[195062,195062],"mapped",[168261]],[[195063,195063],"mapped",[168474]],[[195064,195064],"mapped",[19054]],[[195065,195065],"mapped",[19062]],[[195066,195066],"mapped",[38880]],[[195067,195067],"mapped",[168970]],[[195068,195068],"mapped",[19122]],[[195069,195069],"mapped",[169110]],[[195070,195071],"mapped",[38923]],[[195072,195072],"mapped",[38953]],[[195073,195073],"mapped",[169398]],[[195074,195074],"mapped",[39138]],[[195075,195075],"mapped",[19251]],[[195076,195076],"mapped",[39209]],[[195077,195077],"mapped",[39335]],[[195078,195078],"mapped",[39362]],[[195079,195079],"mapped",[39422]],[[195080,195080],"mapped",[19406]],[[195081,195081],"mapped",[170800]],[[195082,195082],"mapped",[39698]],[[195083,195083],"mapped",[4e4]],[[195084,195084],"mapped",[40189]],[[195085,195085],"mapped",[19662]],[[195086,195086],"mapped",[19693]],[[195087,195087],"mapped",[40295]],[[195088,195088],"mapped",[172238]],[[195089,195089],"mapped",[19704]],[[195090,195090],"mapped",[172293]],[[195091,195091],"mapped",[172558]],[[195092,195092],"mapped",[172689]],[[195093,195093],"mapped",[40635]],[[195094,195094],"mapped",[19798]],[[195095,195095],"mapped",[40697]],[[195096,195096],"mapped",[40702]],[[195097,195097],"mapped",[40709]],[[195098,195098],"mapped",[40719]],[[195099,195099],"mapped",[40726]],[[195100,195100],"mapped",[40763]],[[195101,195101],"mapped",[173568]],[[195102,196605],"disallowed"],[[196606,196607],"disallowed"],[[196608,262141],"disallowed"],[[262142,262143],"disallowed"],[[262144,327677],"disallowed"],[[327678,327679],"disallowed"],[[327680,393213],"disallowed"],[[393214,393215],"disallowed"],[[393216,458749],"disallowed"],[[458750,458751],"disallowed"],[[458752,524285],"disallowed"],[[524286,524287],"disallowed"],[[524288,589821],"disallowed"],[[589822,589823],"disallowed"],[[589824,655357],"disallowed"],[[655358,655359],"disallowed"],[[655360,720893],"disallowed"],[[720894,720895],"disallowed"],[[720896,786429],"disallowed"],[[786430,786431],"disallowed"],[[786432,851965],"disallowed"],[[851966,851967],"disallowed"],[[851968,917501],"disallowed"],[[917502,917503],"disallowed"],[[917504,917504],"disallowed"],[[917505,917505],"disallowed"],[[917506,917535],"disallowed"],[[917536,917631],"disallowed"],[[917632,917759],"disallowed"],[[917760,917999],"ignored"],[[918e3,983037],"disallowed"],[[983038,983039],"disallowed"],[[983040,1048573],"disallowed"],[[1048574,1048575],"disallowed"],[[1048576,1114109],"disallowed"],[[1114110,1114111],"disallowed"]]});var fat=ze((kei,gz)=>{"use strict";var lat=yt("punycode"),cat=aat(),yT={TRANSITIONAL:0,NONTRANSITIONAL:1};function uat(t){return t.split("\0").map(function(e){return e.normalize("NFC")}).join("\0")}function dat(t){for(var e=0,r=cat.length-1;e<=r;){var n=Math.floor((e+r)/2),i=cat[n];if(i[0][0]<=t&&i[0][1]>=t)return i;i[0][0]>t?r=n-1:e=n+1}return null}var ZZt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function pat(t){return t.replace(ZZt,"_").length}function eer(t,e,r){for(var n=!1,i="",o=pat(t),s=0;s<o;++s){var a=t.codePointAt(s),c=dat(a);switch(c[1]){case"disallowed":n=!0,i+=String.fromCodePoint(a);break;case"ignored":break;case"mapped":i+=String.fromCodePoint.apply(String,c[2]);break;case"deviation":r===yT.TRANSITIONAL?i+=String.fromCodePoint.apply(String,c[2]):i+=String.fromCodePoint(a);break;case"valid":i+=String.fromCodePoint(a);break;case"disallowed_STD3_mapped":e?(n=!0,i+=String.fromCodePoint(a)):i+=String.fromCodePoint.apply(String,c[2]);break;case"disallowed_STD3_valid":e&&(n=!0),i+=String.fromCodePoint(a);break}}return{string:i,error:n}}var ter=/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E4-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2D]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC7F-\uDC82\uDCB0-\uDCBA\uDD00-\uDD02\uDD27-\uDD34\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDE2C-\uDE37\uDEDF-\uDEEA\uDF01-\uDF03\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDE30-\uDE40\uDEAB-\uDEB7]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF51-\uDF7E\uDF8F-\uDF92]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD83A[\uDCD0-\uDCD6]|\uDB40[\uDD00-\uDDEF]/;function rer(t,e){t.substr(0,4)==="xn--"&&(t=lat.toUnicode(t),e=yT.NONTRANSITIONAL);var r=!1;(uat(t)!==t||t[3]==="-"&&t[4]==="-"||t[0]==="-"||t[t.length-1]==="-"||t.indexOf(".")!==-1||t.search(ter)===0)&&(r=!0);for(var n=pat(t),i=0;i<n;++i){var o=dat(t.codePointAt(i));if(hz===yT.TRANSITIONAL&&o[1]!=="valid"||hz===yT.NONTRANSITIONAL&&o[1]!=="valid"&&o[1]!=="deviation"){r=!0;break}}return{label:t,error:r}}function hz(t,e,r){var n=eer(t,e,r);n.string=uat(n.string);for(var i=n.string.split("."),o=0;o<i.length;++o)try{var s=rer(i[o]);i[o]=s.label,n.error=n.error||s.error}catch{n.error=!0}return{string:i.join("."),error:n.error}}gz.exports.toASCII=function(t,e,r,n){var i=hz(t,e,r),o=i.string.split(".");if(o=o.map(function(c){try{return lat.toASCII(c)}catch{return i.error=!0,c}}),n){var s=o.slice(0,o.length-1).join(".").length;(s.length>253||s.length===0)&&(i.error=!0);for(var a=0;a<o.length;++a)if(o.length>63||o.length===0){i.error=!0;break}}return i.error?null:o.join(".")};gz.exports.toUnicode=function(t,e){var r=hz(t,e,yT.NONTRANSITIONAL);return{domain:r.string,error:r.error}};gz.exports.PROCESSING_OPTIONS=yT});var Yf=ze((Dei,Al)=>{"use strict";var bT=yt("punycode"),mat=fat(),bat={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443},Mr=Symbol("failure");function hat(t){return bT.ucs2.decode(t).length}function gat(t,e){let r=t[e];return isNaN(r)?void 0:String.fromCodePoint(r)}function ZN(t){return t>=48&&t<=57}function eO(t){return t>=65&&t<=90||t>=97&&t<=122}function ner(t){return eO(t)||ZN(t)}function up(t){return ZN(t)||t>=65&&t<=70||t>=97&&t<=102}function yat(t){return t==="."||t.toLowerCase()==="%2e"}function ier(t){return t=t.toLowerCase(),t===".."||t==="%2e."||t===".%2e"||t==="%2e%2e"}function oer(t,e){return eO(t)&&(e===58||e===124)}function vat(t){return t.length===2&&eO(t.codePointAt(0))&&(t[1]===":"||t[1]==="|")}function ser(t){return t.length===2&&eO(t.codePointAt(0))&&t[1]===":"}function aer(t){return t.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|%|\/|:|\?|@|\[|\\|\]/)!==-1}function cer(t){return t.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|\?|@|\[|\\|\]/)!==-1}function Gge(t){return bat[t]!==void 0}function Jo(t){return Gge(t.scheme)}function ler(t){return bat[t]}function _at(t){let e=t.toString(16).toUpperCase();return e.length===1&&(e="0"+e),"%"+e}function uer(t){let e=new Buffer(t),r="";for(let n=0;n<e.length;++n)r+=_at(e[n]);return r}function der(t){let e=new Buffer(t),r=[];for(let n=0;n<e.length;++n)e[n]!==37?r.push(e[n]):e[n]===37&&up(e[n+1])&&up(e[n+2])?(r.push(parseInt(e.slice(n+1,n+3).toString(),16)),n+=2):r.push(e[n]);return new Buffer(r).toString()}function yz(t){return t<=31||t>126}var per=new Set([32,34,35,60,62,63,96,123,125]);function Sat(t){return yz(t)||per.has(t)}var fer=new Set([47,58,59,61,64,91,92,93,94,124]);function qge(t){return Sat(t)||fer.has(t)}function wS(t,e){let r=String.fromCodePoint(t);return e(t)?uer(r):r}function mer(t){let e=10;return t.length>=2&&t.charAt(0)==="0"&&t.charAt(1).toLowerCase()==="x"?(t=t.substring(2),e=16):t.length>=2&&t.charAt(0)==="0"&&(t=t.substring(1),e=8),t===""?0:(e===10?/[^0-9]/:e===16?/[^0-9A-Fa-f]/:/[^0-7]/).test(t)?Mr:parseInt(t,e)}function her(t){let e=t.split(".");if(e[e.length-1]===""&&e.length>1&&e.pop(),e.length>4)return t;let r=[];for(let o of e){if(o==="")return t;let s=mer(o);if(s===Mr)return t;r.push(s)}for(let o=0;o<r.length-1;++o)if(r[o]>255)return Mr;if(r[r.length-1]>=Math.pow(256,5-r.length))return Mr;let n=r.pop(),i=0;for(let o of r)n+=o*Math.pow(256,3-i),++i;return n}function ger(t){let e="",r=t;for(let n=1;n<=4;++n)e=String(r%256)+e,n!==4&&(e="."+e),r=Math.floor(r/256);return e}function yer(t){let e=[0,0,0,0,0,0,0,0],r=0,n=null,i=0;if(t=bT.ucs2.decode(t),t[i]===58){if(t[i+1]!==58)return Mr;i+=2,++r,n=r}for(;i<t.length;){if(r===8)return Mr;if(t[i]===58){if(n!==null)return Mr;++i,++r,n=r;continue}let o=0,s=0;for(;s<4&&up(t[i]);)o=o*16+parseInt(gat(t,i),16),++i,++s;if(t[i]===46){if(s===0||(i-=s,r>6))return Mr;let a=0;for(;t[i]!==void 0;){let c=null;if(a>0)if(t[i]===46&&a<4)++i;else return Mr;if(!ZN(t[i]))return Mr;for(;ZN(t[i]);){let l=parseInt(gat(t,i));if(c===null)c=l;else{if(c===0)return Mr;c=c*10+l}if(c>255)return Mr;++i}e[r]=e[r]*256+c,++a,(a===2||a===4)&&++r}if(a!==4)return Mr;break}else if(t[i]===58){if(++i,t[i]===void 0)return Mr}else if(t[i]!==void 0)return Mr;e[r]=o,++r}if(n!==null){let o=r-n;for(r=7;r!==0&&o>0;){let s=e[n+o-1];e[n+o-1]=e[r],e[r]=s,--r,--o}}else if(n===null&&r!==8)return Mr;return e}function ber(t){let e="",n=_er(t).idx,i=!1;for(let o=0;o<=7;++o)if(!(i&&t[o]===0)){if(i&&(i=!1),n===o){e+=o===0?"::":":",i=!0;continue}e+=t[o].toString(16),o!==7&&(e+=":")}return e}function jge(t,e){if(t[0]==="[")return t[t.length-1]!=="]"?Mr:yer(t.substring(1,t.length-1));if(!e)return ver(t);let r=der(t),n=mat.toASCII(r,!1,mat.PROCESSING_OPTIONS.NONTRANSITIONAL,!1);if(n===null||aer(n))return Mr;let i=her(n);return typeof i=="number"||i===Mr?i:n}function ver(t){if(cer(t))return Mr;let e="",r=bT.ucs2.decode(t);for(let n=0;n<r.length;++n)e+=wS(r[n],yz);return e}function _er(t){let e=null,r=1,n=null,i=0;for(let o=0;o<t.length;++o)t[o]!==0?(i>r&&(e=n,r=i),n=null,i=0):(n===null&&(n=o),++i);return i>r&&(e=n,r=i),{idx:e,len:r}}function Wge(t){return typeof t=="number"?ger(t):t instanceof Array?"["+ber(t)+"]":t}function Ser(t){return t.replace(/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/g,"")}function xer(t){return t.replace(/\u0009|\u000A|\u000D/g,"")}function xat(t){let e=t.path;e.length!==0&&(t.scheme==="file"&&e.length===1&&Aer(e[0])||e.pop())}function wat(t){return t.username!==""||t.password!==""}function wer(t){return t.host===null||t.host===""||t.cannotBeABaseURL||t.scheme==="file"}function Aer(t){return/^[A-Za-z]:$/.test(t)}function Wi(t,e,r,n,i){if(this.pointer=0,this.input=t,this.base=e||null,this.encodingOverride=r||"utf-8",this.stateOverride=i,this.url=n,this.failure=!1,this.parseError=!1,!this.url){this.url={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,cannotBeABaseURL:!1};let s=Ser(this.input);s!==this.input&&(this.parseError=!0),this.input=s}let o=xer(this.input);for(o!==this.input&&(this.parseError=!0),this.input=o,this.state=i||"scheme start",this.buffer="",this.atFlag=!1,this.arrFlag=!1,this.passwordTokenSeenFlag=!1,this.input=bT.ucs2.decode(this.input);this.pointer<=this.input.length;++this.pointer){let s=this.input[this.pointer],a=isNaN(s)?void 0:String.fromCodePoint(s),c=this["parse "+this.state](s,a);if(c){if(c===Mr){this.failure=!0;break}}else break}}Wi.prototype["parse scheme start"]=function(e,r){if(eO(e))this.buffer+=r.toLowerCase(),this.state="scheme";else if(!this.stateOverride)this.state="no scheme",--this.pointer;else return this.parseError=!0,Mr;return!0};Wi.prototype["parse scheme"]=function(e,r){if(ner(e)||e===43||e===45||e===46)this.buffer+=r.toLowerCase();else if(e===58){if(this.stateOverride&&(Jo(this.url)&&!Gge(this.buffer)||!Jo(this.url)&&Gge(this.buffer)||(wat(this.url)||this.url.port!==null)&&this.buffer==="file"||this.url.scheme==="file"&&(this.url.host===""||this.url.host===null))||(this.url.scheme=this.buffer,this.buffer="",this.stateOverride))return!1;this.url.scheme==="file"?((this.input[this.pointer+1]!==47||this.input[this.pointer+2]!==47)&&(this.parseError=!0),this.state="file"):Jo(this.url)&&this.base!==null&&this.base.scheme===this.url.scheme?this.state="special relative or authority":Jo(this.url)?this.state="special authority slashes":this.input[this.pointer+1]===47?(this.state="path or authority",++this.pointer):(this.url.cannotBeABaseURL=!0,this.url.path.push(""),this.state="cannot-be-a-base-URL path")}else if(!this.stateOverride)this.buffer="",this.state="no scheme",this.pointer=-1;else return this.parseError=!0,Mr;return!0};Wi.prototype["parse no scheme"]=function(e){return this.base===null||this.base.cannotBeABaseURL&&e!==35?Mr:(this.base.cannotBeABaseURL&&e===35?(this.url.scheme=this.base.scheme,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.url.cannotBeABaseURL=!0,this.state="fragment"):this.base.scheme==="file"?(this.state="file",--this.pointer):(this.state="relative",--this.pointer),!0)};Wi.prototype["parse special relative or authority"]=function(e){return e===47&&this.input[this.pointer+1]===47?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="relative",--this.pointer),!0};Wi.prototype["parse path or authority"]=function(e){return e===47?this.state="authority":(this.state="path",--this.pointer),!0};Wi.prototype["parse relative"]=function(e){return this.url.scheme=this.base.scheme,isNaN(e)?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query):e===47?this.state="relative slash":e===63?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):e===35?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):Jo(this.url)&&e===92?(this.parseError=!0,this.state="relative slash"):(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(0,this.base.path.length-1),this.state="path",--this.pointer),!0};Wi.prototype["parse relative slash"]=function(e){return Jo(this.url)&&(e===47||e===92)?(e===92&&(this.parseError=!0),this.state="special authority ignore slashes"):e===47?this.state="authority":(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.state="path",--this.pointer),!0};Wi.prototype["parse special authority slashes"]=function(e){return e===47&&this.input[this.pointer+1]===47?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="special authority ignore slashes",--this.pointer),!0};Wi.prototype["parse special authority ignore slashes"]=function(e){return e!==47&&e!==92?(this.state="authority",--this.pointer):this.parseError=!0,!0};Wi.prototype["parse authority"]=function(e,r){if(e===64){this.parseError=!0,this.atFlag&&(this.buffer="%40"+this.buffer),this.atFlag=!0;let n=hat(this.buffer);for(let i=0;i<n;++i){let o=this.buffer.codePointAt(i);if(o===58&&!this.passwordTokenSeenFlag){this.passwordTokenSeenFlag=!0;continue}let s=wS(o,qge);this.passwordTokenSeenFlag?this.url.password+=s:this.url.username+=s}this.buffer=""}else if(isNaN(e)||e===47||e===63||e===35||Jo(this.url)&&e===92){if(this.atFlag&&this.buffer==="")return this.parseError=!0,Mr;this.pointer-=hat(this.buffer)+1,this.buffer="",this.state="host"}else this.buffer+=r;return!0};Wi.prototype["parse hostname"]=Wi.prototype["parse host"]=function(e,r){if(this.stateOverride&&this.url.scheme==="file")--this.pointer,this.state="file host";else if(e===58&&!this.arrFlag){if(this.buffer==="")return this.parseError=!0,Mr;let n=jge(this.buffer,Jo(this.url));if(n===Mr)return Mr;if(this.url.host=n,this.buffer="",this.state="port",this.stateOverride==="hostname")return!1}else if(isNaN(e)||e===47||e===63||e===35||Jo(this.url)&&e===92){if(--this.pointer,Jo(this.url)&&this.buffer==="")return this.parseError=!0,Mr;if(this.stateOverride&&this.buffer===""&&(wat(this.url)||this.url.port!==null))return this.parseError=!0,!1;let n=jge(this.buffer,Jo(this.url));if(n===Mr)return Mr;if(this.url.host=n,this.buffer="",this.state="path start",this.stateOverride)return!1}else e===91?this.arrFlag=!0:e===93&&(this.arrFlag=!1),this.buffer+=r;return!0};Wi.prototype["parse port"]=function(e,r){if(ZN(e))this.buffer+=r;else if(isNaN(e)||e===47||e===63||e===35||Jo(this.url)&&e===92||this.stateOverride){if(this.buffer!==""){let n=parseInt(this.buffer);if(n>Math.pow(2,16)-1)return this.parseError=!0,Mr;this.url.port=n===ler(this.url.scheme)?null:n,this.buffer=""}if(this.stateOverride)return!1;this.state="path start",--this.pointer}else return this.parseError=!0,Mr;return!0};var Eer=new Set([47,92,63,35]);Wi.prototype["parse file"]=function(e){return this.url.scheme="file",e===47||e===92?(e===92&&(this.parseError=!0),this.state="file slash"):this.base!==null&&this.base.scheme==="file"?isNaN(e)?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query):e===63?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):e===35?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):(this.input.length-this.pointer-1===0||!oer(e,this.input[this.pointer+1])||this.input.length-this.pointer-1>=2&&!Eer.has(this.input[this.pointer+2])?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),xat(this.url)):this.parseError=!0,this.state="path",--this.pointer):(this.state="path",--this.pointer),!0};Wi.prototype["parse file slash"]=function(e){return e===47||e===92?(e===92&&(this.parseError=!0),this.state="file host"):(this.base!==null&&this.base.scheme==="file"&&(ser(this.base.path[0])?this.url.path.push(this.base.path[0]):this.url.host=this.base.host),this.state="path",--this.pointer),!0};Wi.prototype["parse file host"]=function(e,r){if(isNaN(e)||e===47||e===92||e===63||e===35)if(--this.pointer,!this.stateOverride&&vat(this.buffer))this.parseError=!0,this.state="path";else if(this.buffer===""){if(this.url.host="",this.stateOverride)return!1;this.state="path start"}else{let n=jge(this.buffer,Jo(this.url));if(n===Mr)return Mr;if(n==="localhost"&&(n=""),this.url.host=n,this.stateOverride)return!1;this.buffer="",this.state="path start"}else this.buffer+=r;return!0};Wi.prototype["parse path start"]=function(e){return Jo(this.url)?(e===92&&(this.parseError=!0),this.state="path",e!==47&&e!==92&&--this.pointer):!this.stateOverride&&e===63?(this.url.query="",this.state="query"):!this.stateOverride&&e===35?(this.url.fragment="",this.state="fragment"):e!==void 0&&(this.state="path",e!==47&&--this.pointer),!0};Wi.prototype["parse path"]=function(e){if(isNaN(e)||e===47||Jo(this.url)&&e===92||!this.stateOverride&&(e===63||e===35)){if(Jo(this.url)&&e===92&&(this.parseError=!0),ier(this.buffer)?(xat(this.url),e!==47&&!(Jo(this.url)&&e===92)&&this.url.path.push("")):yat(this.buffer)&&e!==47&&!(Jo(this.url)&&e===92)?this.url.path.push(""):yat(this.buffer)||(this.url.scheme==="file"&&this.url.path.length===0&&vat(this.buffer)&&(this.url.host!==""&&this.url.host!==null&&(this.parseError=!0,this.url.host=""),this.buffer=this.buffer[0]+":"),this.url.path.push(this.buffer)),this.buffer="",this.url.scheme==="file"&&(e===void 0||e===63||e===35))for(;this.url.path.length>1&&this.url.path[0]==="";)this.parseError=!0,this.url.path.shift();e===63&&(this.url.query="",this.state="query"),e===35&&(this.url.fragment="",this.state="fragment")}else e===37&&(!up(this.input[this.pointer+1])||!up(this.input[this.pointer+2]))&&(this.parseError=!0),this.buffer+=wS(e,Sat);return!0};Wi.prototype["parse cannot-be-a-base-URL path"]=function(e){return e===63?(this.url.query="",this.state="query"):e===35?(this.url.fragment="",this.state="fragment"):(!isNaN(e)&&e!==37&&(this.parseError=!0),e===37&&(!up(this.input[this.pointer+1])||!up(this.input[this.pointer+2]))&&(this.parseError=!0),isNaN(e)||(this.url.path[0]=this.url.path[0]+wS(e,yz))),!0};Wi.prototype["parse query"]=function(e,r){if(isNaN(e)||!this.stateOverride&&e===35){(!Jo(this.url)||this.url.scheme==="ws"||this.url.scheme==="wss")&&(this.encodingOverride="utf-8");let n=new Buffer(this.buffer);for(let i=0;i<n.length;++i)n[i]<33||n[i]>126||n[i]===34||n[i]===35||n[i]===60||n[i]===62?this.url.query+=_at(n[i]):this.url.query+=String.fromCodePoint(n[i]);this.buffer="",e===35&&(this.url.fragment="",this.state="fragment")}else e===37&&(!up(this.input[this.pointer+1])||!up(this.input[this.pointer+2]))&&(this.parseError=!0),this.buffer+=r;return!0};Wi.prototype["parse fragment"]=function(e){return isNaN(e)||(e===0?this.parseError=!0:(e===37&&(!up(this.input[this.pointer+1])||!up(this.input[this.pointer+2]))&&(this.parseError=!0),this.url.fragment+=wS(e,yz))),!0};function Ter(t,e){let r=t.scheme+":";if(t.host!==null?(r+="//",(t.username!==""||t.password!=="")&&(r+=t.username,t.password!==""&&(r+=":"+t.password),r+="@"),r+=Wge(t.host),t.port!==null&&(r+=":"+t.port)):t.host===null&&t.scheme==="file"&&(r+="//"),t.cannotBeABaseURL)r+=t.path[0];else for(let n of t.path)r+="/"+n;return t.query!==null&&(r+="?"+t.query),!e&&t.fragment!==null&&(r+="#"+t.fragment),r}function Rer(t){let e=t.scheme+"://";return e+=Wge(t.host),t.port!==null&&(e+=":"+t.port),e}Al.exports.serializeURL=Ter;Al.exports.serializeURLOrigin=function(t){switch(t.scheme){case"blob":try{return Al.exports.serializeURLOrigin(Al.exports.parseURL(t.path[0]))}catch{return"null"}case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return Rer({scheme:t.scheme,host:t.host,port:t.port});case"file":return"file://";default:return"null"}};Al.exports.basicURLParse=function(t,e){e===void 0&&(e={});let r=new Wi(t,e.baseURL,e.encodingOverride,e.url,e.stateOverride);return r.failure?"failure":r.url};Al.exports.setTheUsername=function(t,e){t.username="";let r=bT.ucs2.decode(e);for(let n=0;n<r.length;++n)t.username+=wS(r[n],qge)};Al.exports.setThePassword=function(t,e){t.password="";let r=bT.ucs2.decode(e);for(let n=0;n<r.length;++n)t.password+=wS(r[n],qge)};Al.exports.serializeHost=Wge;Al.exports.cannotHaveAUsernamePasswordPort=wer;Al.exports.serializeInteger=function(t){return String(t)};Al.exports.parseURL=function(t,e){return e===void 0&&(e={}),Al.exports.basicURLParse(t,{baseURL:e.baseURL,encodingOverride:e.encodingOverride})}});var Eat=ze(Aat=>{"use strict";var Ji=Yf();Aat.implementation=class{constructor(e){let r=e[0],n=e[1],i=null;if(n!==void 0&&(i=Ji.basicURLParse(n),i==="failure"))throw new TypeError("Invalid base URL");let o=Ji.basicURLParse(r,{baseURL:i});if(o==="failure")throw new TypeError("Invalid URL");this._url=o}get href(){return Ji.serializeURL(this._url)}set href(e){let r=Ji.basicURLParse(e);if(r==="failure")throw new TypeError("Invalid URL");this._url=r}get origin(){return Ji.serializeURLOrigin(this._url)}get protocol(){return this._url.scheme+":"}set protocol(e){Ji.basicURLParse(e+":",{url:this._url,stateOverride:"scheme start"})}get username(){return this._url.username}set username(e){Ji.cannotHaveAUsernamePasswordPort(this._url)||Ji.setTheUsername(this._url,e)}get password(){return this._url.password}set password(e){Ji.cannotHaveAUsernamePasswordPort(this._url)||Ji.setThePassword(this._url,e)}get host(){let e=this._url;return e.host===null?"":e.port===null?Ji.serializeHost(e.host):Ji.serializeHost(e.host)+":"+Ji.serializeInteger(e.port)}set host(e){this._url.cannotBeABaseURL||Ji.basicURLParse(e,{url:this._url,stateOverride:"host"})}get hostname(){return this._url.host===null?"":Ji.serializeHost(this._url.host)}set hostname(e){this._url.cannotBeABaseURL||Ji.basicURLParse(e,{url:this._url,stateOverride:"hostname"})}get port(){return this._url.port===null?"":Ji.serializeInteger(this._url.port)}set port(e){Ji.cannotHaveAUsernamePasswordPort(this._url)||(e===""?this._url.port=null:Ji.basicURLParse(e,{url:this._url,stateOverride:"port"}))}get pathname(){return this._url.cannotBeABaseURL?this._url.path[0]:this._url.path.length===0?"":"/"+this._url.path.join("/")}set pathname(e){this._url.cannotBeABaseURL||(this._url.path=[],Ji.basicURLParse(e,{url:this._url,stateOverride:"path start"}))}get search(){return this._url.query===null||this._url.query===""?"":"?"+this._url.query}set search(e){let r=this._url;if(e===""){r.query=null;return}let n=e[0]==="?"?e.substring(1):e;r.query="",Ji.basicURLParse(n,{url:r,stateOverride:"query"})}get hash(){return this._url.fragment===null||this._url.fragment===""?"":"#"+this._url.fragment}set hash(e){if(e===""){this._url.fragment=null;return}let r=e[0]==="#"?e.substring(1):e;this._url.fragment="",Ji.basicURLParse(r,{url:this._url,stateOverride:"fragment"})}toJSON(){return this.href}}});var Iat=ze((Bei,tO)=>{"use strict";var cd=oat(),Rat=sat(),Tat=Eat(),Fn=Rat.implSymbol;function us(t){if(!this||this[Fn]||!(this instanceof us))throw new TypeError("Failed to construct 'URL': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");if(arguments.length<1)throw new TypeError("Failed to construct 'URL': 1 argument required, but only "+arguments.length+" present.");let e=[];for(let r=0;r<arguments.length&&r<2;++r)e[r]=arguments[r];e[0]=cd.USVString(e[0]),e[1]!==void 0&&(e[1]=cd.USVString(e[1])),tO.exports.setup(this,e)}us.prototype.toJSON=function(){if(!this||!tO.exports.is(this))throw new TypeError("Illegal invocation");let e=[];for(let r=0;r<arguments.length&&r<0;++r)e[r]=arguments[r];return this[Fn].toJSON.apply(this[Fn],e)};Object.defineProperty(us.prototype,"href",{get(){return this[Fn].href},set(t){t=cd.USVString(t),this[Fn].href=t},enumerable:!0,configurable:!0});us.prototype.toString=function(){if(!this||!tO.exports.is(this))throw new TypeError("Illegal invocation");return this.href};Object.defineProperty(us.prototype,"origin",{get(){return this[Fn].origin},enumerable:!0,configurable:!0});Object.defineProperty(us.prototype,"protocol",{get(){return this[Fn].protocol},set(t){t=cd.USVString(t),this[Fn].protocol=t},enumerable:!0,configurable:!0});Object.defineProperty(us.prototype,"username",{get(){return this[Fn].username},set(t){t=cd.USVString(t),this[Fn].username=t},enumerable:!0,configurable:!0});Object.defineProperty(us.prototype,"password",{get(){return this[Fn].password},set(t){t=cd.USVString(t),this[Fn].password=t},enumerable:!0,configurable:!0});Object.defineProperty(us.prototype,"host",{get(){return this[Fn].host},set(t){t=cd.USVString(t),this[Fn].host=t},enumerable:!0,configurable:!0});Object.defineProperty(us.prototype,"hostname",{get(){return this[Fn].hostname},set(t){t=cd.USVString(t),this[Fn].hostname=t},enumerable:!0,configurable:!0});Object.defineProperty(us.prototype,"port",{get(){return this[Fn].port},set(t){t=cd.USVString(t),this[Fn].port=t},enumerable:!0,configurable:!0});Object.defineProperty(us.prototype,"pathname",{get(){return this[Fn].pathname},set(t){t=cd.USVString(t),this[Fn].pathname=t},enumerable:!0,configurable:!0});Object.defineProperty(us.prototype,"search",{get(){return this[Fn].search},set(t){t=cd.USVString(t),this[Fn].search=t},enumerable:!0,configurable:!0});Object.defineProperty(us.prototype,"hash",{get(){return this[Fn].hash},set(t){t=cd.USVString(t),this[Fn].hash=t},enumerable:!0,configurable:!0});tO.exports={is(t){return!!t&&t[Fn]instanceof Tat.implementation},create(t,e){let r=Object.create(us.prototype);return this.setup(r,t,e),r},setup(t,e,r){r||(r={}),r.wrapper=t,t[Fn]=new Tat.implementation(e,r),t[Fn][Rat.wrapperSymbol]=t},interface:us,expose:{Window:{URL:us},Worker:{URL:us}}}});var Cat=ze(Zf=>{"use strict";Zf.URL=Iat().interface;Zf.serializeURL=Yf().serializeURL;Zf.serializeURLOrigin=Yf().serializeURLOrigin;Zf.basicURLParse=Yf().basicURLParse;Zf.setTheUsername=Yf().setTheUsername;Zf.setThePassword=Yf().setThePassword;Zf.serializeHost=Yf().serializeHost;Zf.serializeInteger=Yf().serializeInteger;Zf.parseURL=Yf().parseURL});var o0e={};Nr(o0e,{AbortError:()=>ST,FetchError:()=>ks,Headers:()=>ud,Request:()=>fy,Response:()=>ld,default:()=>i0e});import dp from"stream";import kat from"http";import vz from"url";import Ier from"https";import AS from"zlib";function ks(t,e,r){Error.call(this,t),this.message=t,this.type=e,r&&(this.code=this.errno=r.code),Error.captureStackTrace(this,this.constructor)}function ds(t){var e=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.size;let i=n===void 0?0:n;var o=r.timeout;let s=o===void 0?0:o;t==null?t=null:Dat(t)?t=Buffer.from(t.toString()):oO(t)||Buffer.isBuffer(t)||(Object.prototype.toString.call(t)==="[object ArrayBuffer]"?t=Buffer.from(t):ArrayBuffer.isView(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):t instanceof dp||(t=Buffer.from(String(t)))),this[sg]={body:t,disturbed:!1,error:null},this.size=i,this.timeout=s,t instanceof dp&&t.on("error",function(a){let c=a.name==="AbortError"?a:new ks(`Invalid response body while trying to fetch ${e.url}: ${a.message}`,"system",a);e[sg].error=c})}function vT(){var t=this;if(this[sg].disturbed)return ds.Promise.reject(new TypeError(`body used already for: ${this.url}`));if(this[sg].disturbed=!0,this[sg].error)return ds.Promise.reject(this[sg].error);let e=this.body;if(e===null)return ds.Promise.resolve(Buffer.alloc(0));if(oO(e)&&(e=e.stream()),Buffer.isBuffer(e))return ds.Promise.resolve(e);if(!(e instanceof dp))return ds.Promise.resolve(Buffer.alloc(0));let r=[],n=0,i=!1;return new ds.Promise(function(o,s){let a;t.timeout&&(a=setTimeout(function(){i=!0,s(new ks(`Response timeout while trying to fetch ${t.url} (over ${t.timeout}ms)`,"body-timeout"))},t.timeout)),e.on("error",function(c){c.name==="AbortError"?(i=!0,s(c)):s(new ks(`Invalid response body while trying to fetch ${t.url}: ${c.message}`,"system",c))}),e.on("data",function(c){if(!(i||c===null)){if(t.size&&n+c.length>t.size){i=!0,s(new ks(`content size at ${t.url} over limit: ${t.size}`,"max-size"));return}n+=c.length,r.push(c)}}),e.on("end",function(){if(!i){clearTimeout(a);try{o(Buffer.concat(r,n))}catch(c){s(new ks(`Could not create Buffer from response body for ${t.url}: ${c.message}`,"system",c))}}})})}function Ner(t,e){if(typeof Yge!="function")throw new Error("The package `encoding` must be installed to use the textConverted() function");let r=e.get("content-type"),n="utf-8",i,o;return r&&(i=/charset=([^;]*)/i.exec(r)),o=t.slice(0,1024).toString(),!i&&o&&(i=/<meta.+?charset=(['"])(.+?)\1/i.exec(o)),!i&&o&&(i=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(o),i||(i=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(o),i&&i.pop()),i&&(i=/charset=(.*)/i.exec(i.pop()))),!i&&o&&(i=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(o)),i&&(n=i.pop(),(n==="gb2312"||n==="gbk")&&(n="gb18030")),Yge(t,"UTF-8",n).toString()}function Dat(t){return typeof t!="object"||typeof t.append!="function"||typeof t.delete!="function"||typeof t.get!="function"||typeof t.getAll!="function"||typeof t.has!="function"||typeof t.set!="function"?!1:t.constructor.name==="URLSearchParams"||Object.prototype.toString.call(t)==="[object URLSearchParams]"||typeof t.sort=="function"}function oO(t){return typeof t=="object"&&typeof t.arrayBuffer=="function"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.constructor=="function"&&typeof t.constructor.name=="string"&&/^(Blob|File)$/.test(t.constructor.name)&&/^(Blob|File)$/.test(t[Symbol.toStringTag])}function Mat(t){let e,r,n=t.body;if(t.bodyUsed)throw new Error("cannot clone body after it is used");return n instanceof dp&&typeof n.getBoundary!="function"&&(e=new Nat,r=new Nat,n.pipe(e),n.pipe(r),t[sg].body=e,n=r),n}function Lat(t){return t===null?null:typeof t=="string"?"text/plain;charset=UTF-8":Dat(t)?"application/x-www-form-urlencoded;charset=UTF-8":oO(t)?t.type||null:Buffer.isBuffer(t)||Object.prototype.toString.call(t)==="[object ArrayBuffer]"||ArrayBuffer.isView(t)?null:typeof t.getBoundary=="function"?`multipart/form-data;boundary=${t.getBoundary()}`:t instanceof dp?null:"text/plain;charset=UTF-8"}function Bat(t){let e=t.body;return e===null?0:oO(e)?e.size:Buffer.isBuffer(e)?e.length:e&&typeof e.getLengthSync=="function"&&(e._lengthRetrievers&&e._lengthRetrievers.length==0||e.hasKnownLength&&e.hasKnownLength())?e.getLengthSync():null}function Oer(t,e){let r=e.body;r===null?t.end():oO(r)?r.stream().pipe(t):Buffer.isBuffer(r)?(t.write(r),t.end()):r.pipe(t)}function rO(t){if(t=`${t}`,$at.test(t)||t==="")throw new TypeError(`${t} is not a legal HTTP header name`)}function Oat(t){if(t=`${t}`,Zge.test(t))throw new TypeError(`${t} is not a legal HTTP header value`)}function _T(t,e){e=e.toLowerCase();for(let r in t)if(r.toLowerCase()===e)return r}function e0e(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"key+value";return Object.keys(t[oo]).sort().map(e==="key"?function(n){return n.toLowerCase()}:e==="value"?function(n){return t[oo][n].join(", ")}:function(n){return[n.toLowerCase(),t[oo][n].join(", ")]})}function Kge(t,e){let r=Object.create(n0e);return r[t0e]={target:t,kind:e,index:0},r}function Per(t){let e=Object.assign({__proto__:null},t[oo]),r=_T(t[oo],"Host");return r!==void 0&&(e[r]=e[r][0]),e}function ker(t){let e=new ud;for(let r of Object.keys(t))if(!$at.test(r))if(Array.isArray(t[r]))for(let n of t[r])Zge.test(n)||(e[oo][r]===void 0?e[oo][r]=[n]:e[oo][r].push(n));else Zge.test(t[r])||(e[oo][r]=[t[r]]);return e}function Qge(t){return/^[a-zA-Z][a-zA-Z\d+\-.]*:/.exec(t)&&(t=new Mer(t).toString()),Ler(t)}function bz(t){return typeof t=="object"&&typeof t[og]=="object"}function Uer(t){let e=t&&typeof t=="object"&&Object.getPrototypeOf(t);return!!(e&&e.constructor.name==="AbortSignal")}function Fer(t){let e=t[og].parsedURL,r=new ud(t[og].headers);if(r.has("Accept")||r.set("Accept","*/*"),!e.protocol||!e.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(e.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(t.signal&&t.body instanceof dp.Readable&&!$er)throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let n=null;if(t.body==null&&/^(POST|PUT)$/i.test(t.method)&&(n="0"),t.body!=null){let o=Bat(t);typeof o=="number"&&(n=String(o))}n&&r.set("Content-Length",n),r.has("User-Agent")||r.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),t.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip,deflate");let i=t.agent;return typeof i=="function"&&(i=i(e)),Object.assign({},e,{method:t.method,headers:Per(r),agent:i})}function ST(t){Error.call(this,t),this.type="aborted",this.message=t,Error.captureStackTrace(this,this.constructor)}function py(t,e){if(!py.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return ds.Promise=py.Promise,new py.Promise(function(r,n){let i=new fy(t,e),o=Fer(i),s=(o.protocol==="https:"?Ier:kat).request,a=i.signal,c=null,l=function(){let m=new ST("The user aborted a request.");n(m),i.body&&i.body instanceof dp.Readable&&Xge(i.body,m),!(!c||!c.body)&&c.body.emit("error",m)};if(a&&a.aborted){l();return}let u=function(){l(),f()},d=s(o),p;a&&a.addEventListener("abort",u);function f(){d.abort(),a&&a.removeEventListener("abort",u),clearTimeout(p)}i.timeout&&d.once("socket",function(h){p=setTimeout(function(){n(new ks(`network timeout at: ${i.url}`,"request-timeout")),f()},i.timeout)}),d.on("error",function(h){n(new ks(`request to ${i.url} failed, reason: ${h.message}`,"system",h)),c&&c.body&&Xge(c.body,h),f()}),Ver(d,function(h){a&&a.aborted||c&&c.body&&Xge(c.body,h)}),parseInt(process.version.substring(1))<14&&d.on("socket",function(h){h.addListener("close",function(m){let g=h.listenerCount("data")>0;if(c&&g&&!m&&!(a&&a.aborted)){let y=new Error("Premature close");y.code="ERR_STREAM_PREMATURE_CLOSE",c.body.emit("error",y)}})}),d.on("response",function(h){clearTimeout(p);let m=ker(h.headers);if(py.isRedirect(h.statusCode)){let w=m.get("Location"),E=null;try{E=w===null?null:new iO(w,i.url).toString()}catch{if(i.redirect!=="manual"){n(new ks(`uri requested responds with an invalid redirect URL: ${w}`,"invalid-redirect")),f();return}}switch(i.redirect){case"error":n(new ks(`uri requested responds with a redirect, redirect mode is set to error: ${i.url}`,"no-redirect")),f();return;case"manual":if(E!==null)try{m.set("Location",E)}catch(D){n(D)}break;case"follow":if(E===null)break;if(i.counter>=i.follow){n(new ks(`maximum redirect reached at: ${i.url}`,"max-redirect")),f();return}let I={headers:new ud(i.headers),follow:i.follow,counter:i.counter+1,agent:i.agent,compress:i.compress,method:i.method,body:i.body,signal:i.signal,timeout:i.timeout,size:i.size};if(!zer(i.url,E)||!Her(i.url,E))for(let D of["authorization","www-authenticate","cookie","cookie2"])I.headers.delete(D);if(h.statusCode!==303&&i.body&&Bat(i)===null){n(new ks("Cannot follow redirect with body being a readable stream","unsupported-redirect")),f();return}(h.statusCode===303||(h.statusCode===301||h.statusCode===302)&&i.method==="POST")&&(I.method="GET",I.body=void 0,I.headers.delete("content-length")),r(py(new fy(E,I))),f();return}}h.once("end",function(){a&&a.removeEventListener("abort",u)});let g=h.pipe(new Pat),y={url:i.url,status:h.statusCode,statusText:h.statusMessage,headers:m,size:i.size,timeout:i.timeout,counter:i.counter},v=m.get("Content-Encoding");if(!i.compress||i.method==="HEAD"||v===null||h.statusCode===204||h.statusCode===304){c=new ld(g,y),r(c);return}let S={flush:AS.Z_SYNC_FLUSH,finishFlush:AS.Z_SYNC_FLUSH};if(v=="gzip"||v=="x-gzip"){g=g.pipe(AS.createGunzip(S)),c=new ld(g,y),r(c);return}if(v=="deflate"||v=="x-deflate"){let w=h.pipe(new Pat);w.once("data",function(E){(E[0]&15)===8?g=g.pipe(AS.createInflate()):g=g.pipe(AS.createInflateRaw()),c=new ld(g,y),r(c)}),w.on("end",function(){c||(c=new ld(g,y),r(c))});return}if(v=="br"&&typeof AS.createBrotliDecompress=="function"){g=g.pipe(AS.createBrotliDecompress()),c=new ld(g,y),r(c);return}c=new ld(g,y),r(c)}),Oer(d,i)})}function Ver(t,e){let r;t.on("socket",function(n){r=n}),t.on("response",function(n){let i=n.headers;i["transfer-encoding"]==="chunked"&&!i["content-length"]&&n.once("close",function(o){if(r&&r.listenerCount("data")>0&&!o){let a=new Error("Premature close");a.code="ERR_STREAM_PREMATURE_CLOSE",e(a)}})})}function Xge(t,e){t.destroy?t.destroy(e):(t.emit("error",e),t.end())}var r0e,Cer,ig,Jge,nO,Yge,sg,Nat,$at,Zge,oo,ud,t0e,n0e,dy,Der,ld,og,Mer,Ler,Ber,$er,fy,iO,Pat,zer,Her,i0e,s0e=b(()=>{"use strict";r0e=di(Cat(),1),Cer=dp.Readable,ig=Symbol("buffer"),Jge=Symbol("type"),nO=class t{constructor(){this[Jge]="";let e=arguments[0],r=arguments[1],n=[],i=0;if(e){let s=e,a=Number(s.length);for(let c=0;c<a;c++){let l=s[c],u;l instanceof Buffer?u=l:ArrayBuffer.isView(l)?u=Buffer.from(l.buffer,l.byteOffset,l.byteLength):l instanceof ArrayBuffer?u=Buffer.from(l):l instanceof t?u=l[ig]:u=Buffer.from(typeof l=="string"?l:String(l)),i+=u.length,n.push(u)}}this[ig]=Buffer.concat(n);let o=r&&r.type!==void 0&&String(r.type).toLowerCase();o&&!/[^\u0020-\u007E]/.test(o)&&(this[Jge]=o)}get size(){return this[ig].length}get type(){return this[Jge]}text(){return Promise.resolve(this[ig].toString())}arrayBuffer(){let e=this[ig],r=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return Promise.resolve(r)}stream(){let e=new Cer;return e._read=function(){},e.push(this[ig]),e.push(null),e}toString(){return"[object Blob]"}slice(){let e=this.size,r=arguments[0],n=arguments[1],i,o;r===void 0?i=0:r<0?i=Math.max(e+r,0):i=Math.min(r,e),n===void 0?o=e:n<0?o=Math.max(e+n,0):o=Math.min(n,e);let s=Math.max(o-i,0),c=this[ig].slice(i,i+s),l=new t([],{type:arguments[2]});return l[ig]=c,l}};Object.defineProperties(nO.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});Object.defineProperty(nO.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0});ks.prototype=Object.create(Error.prototype);ks.prototype.constructor=ks;ks.prototype.name="FetchError";try{Yge=yt("encoding").convert}catch{}sg=Symbol("Body internals"),Nat=dp.PassThrough;ds.prototype={get body(){return this[sg].body},get bodyUsed(){return this[sg].disturbed},arrayBuffer(){return vT.call(this).then(function(t){return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)})},blob(){let t=this.headers&&this.headers.get("content-type")||"";return vT.call(this).then(function(e){return Object.assign(new nO([],{type:t.toLowerCase()}),{[ig]:e})})},json(){var t=this;return vT.call(this).then(function(e){try{return JSON.parse(e.toString())}catch(r){return ds.Promise.reject(new ks(`invalid json response body at ${t.url} reason: ${r.message}`,"invalid-json"))}})},text(){return vT.call(this).then(function(t){return t.toString()})},buffer(){return vT.call(this)},textConverted(){var t=this;return vT.call(this).then(function(e){return Ner(e,t.headers)})}};Object.defineProperties(ds.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});ds.mixIn=function(t){for(let e of Object.getOwnPropertyNames(ds.prototype))if(!(e in t)){let r=Object.getOwnPropertyDescriptor(ds.prototype,e);Object.defineProperty(t,e,r)}};ds.Promise=global.Promise;$at=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,Zge=/[^\t\x20-\x7e\x80-\xff]/;oo=Symbol("map"),ud=class t{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;if(this[oo]=Object.create(null),e instanceof t){let r=e.raw(),n=Object.keys(r);for(let i of n)for(let o of r[i])this.append(i,o);return}if(e!=null)if(typeof e=="object"){let r=e[Symbol.iterator];if(r!=null){if(typeof r!="function")throw new TypeError("Header pairs must be iterable");let n=[];for(let i of e){if(typeof i!="object"||typeof i[Symbol.iterator]!="function")throw new TypeError("Each header pair must be iterable");n.push(Array.from(i))}for(let i of n){if(i.length!==2)throw new TypeError("Each header pair must be a name/value tuple");this.append(i[0],i[1])}}else for(let n of Object.keys(e)){let i=e[n];this.append(n,i)}}else throw new TypeError("Provided initializer must be an object")}get(e){e=`${e}`,rO(e);let r=_T(this[oo],e);return r===void 0?null:this[oo][r].join(", ")}forEach(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,n=e0e(this),i=0;for(;i<n.length;){var o=n[i];let s=o[0],a=o[1];e.call(r,a,s,this),n=e0e(this),i++}}set(e,r){e=`${e}`,r=`${r}`,rO(e),Oat(r);let n=_T(this[oo],e);this[oo][n!==void 0?n:e]=[r]}append(e,r){e=`${e}`,r=`${r}`,rO(e),Oat(r);let n=_T(this[oo],e);n!==void 0?this[oo][n].push(r):this[oo][e]=[r]}has(e){return e=`${e}`,rO(e),_T(this[oo],e)!==void 0}delete(e){e=`${e}`,rO(e);let r=_T(this[oo],e);r!==void 0&&delete this[oo][r]}raw(){return this[oo]}keys(){return Kge(this,"key")}values(){return Kge(this,"value")}[Symbol.iterator](){return Kge(this,"key+value")}};ud.prototype.entries=ud.prototype[Symbol.iterator];Object.defineProperty(ud.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0});Object.defineProperties(ud.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});t0e=Symbol("internal");n0e=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==n0e)throw new TypeError("Value of `this` is not a HeadersIterator");var t=this[t0e];let e=t.target,r=t.kind,n=t.index,i=e0e(e,r),o=i.length;return n>=o?{value:void 0,done:!0}:(this[t0e].index=n+1,{value:i[n],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));Object.defineProperty(n0e,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});dy=Symbol("Response internals"),Der=kat.STATUS_CODES,ld=class t{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ds.call(this,e,r);let n=r.status||200,i=new ud(r.headers);if(e!=null&&!i.has("Content-Type")){let o=Lat(e);o&&i.append("Content-Type",o)}this[dy]={url:r.url,status:n,statusText:r.statusText||Der[n],headers:i,counter:r.counter}}get url(){return this[dy].url||""}get status(){return this[dy].status}get ok(){return this[dy].status>=200&&this[dy].status<300}get redirected(){return this[dy].counter>0}get statusText(){return this[dy].statusText}get headers(){return this[dy].headers}clone(){return new t(Mat(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}};ds.mixIn(ld.prototype);Object.defineProperties(ld.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});Object.defineProperty(ld.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});og=Symbol("Request internals"),Mer=vz.URL||r0e.default.URL,Ler=vz.parse,Ber=vz.format;$er="destroy"in dp.Readable.prototype;fy=class t{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n;bz(e)?n=Qge(e.url):(e&&e.href?n=Qge(e.href):n=Qge(`${e}`),e={});let i=r.method||e.method||"GET";if(i=i.toUpperCase(),(r.body!=null||bz(e)&&e.body!==null)&&(i==="GET"||i==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let o=r.body!=null?r.body:bz(e)&&e.body!==null?Mat(e):null;ds.call(this,o,{timeout:r.timeout||e.timeout||0,size:r.size||e.size||0});let s=new ud(r.headers||e.headers||{});if(o!=null&&!s.has("Content-Type")){let c=Lat(o);c&&s.append("Content-Type",c)}let a=bz(e)?e.signal:null;if("signal"in r&&(a=r.signal),a!=null&&!Uer(a))throw new TypeError("Expected signal to be an instanceof AbortSignal");this[og]={method:i,redirect:r.redirect||e.redirect||"follow",headers:s,parsedURL:n,signal:a},this.follow=r.follow!==void 0?r.follow:e.follow!==void 0?e.follow:20,this.compress=r.compress!==void 0?r.compress:e.compress!==void 0?e.compress:!0,this.counter=r.counter||e.counter||0,this.agent=r.agent||e.agent}get method(){return this[og].method}get url(){return Ber(this[og].parsedURL)}get headers(){return this[og].headers}get redirect(){return this[og].redirect}get signal(){return this[og].signal}clone(){return new t(this)}};ds.mixIn(fy.prototype);Object.defineProperty(fy.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0});Object.defineProperties(fy.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});ST.prototype=Object.create(Error.prototype);ST.prototype.constructor=ST;ST.prototype.name="AbortError";iO=vz.URL||r0e.default.URL,Pat=dp.PassThrough,zer=function(e,r){let n=new iO(r).hostname,i=new iO(e).hostname;return n===i||n[n.length-i.length-1]==="."&&n.endsWith(i)},Her=function(e,r){let n=new iO(r).protocol,i=new iO(e).protocol;return n===i};py.isRedirect=function(t){return t===301||t===302||t===303||t===307||t===308};py.Promise=global.Promise;i0e=py});var a0e=ze((ES,Uat)=>{"use strict";var sO=(s0e(),Iq(o0e)),Ger=sO.default||sO,_z=function(t,e){return/^\/\//.test(t)&&(t="https:"+t),Ger.call(this,t,e)};_z.ponyfill=!0;Uat.exports=ES=_z;ES.fetch=_z;ES.Headers=sO.Headers;ES.Request=sO.Request;ES.Response=sO.Response;ES.default=_z});function Ftr(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){let a=(s+8)%10,c=(s+2)%10,l=r[c],u=r[c+1],d=Tct(l,u,1)^r[a],p=Rct(l,u,1)^r[a+1];for(let f=0;f<50;f+=10)t[s+f]^=d,t[s+f+1]^=p}let i=t[2],o=t[3];for(let s=0;s<24;s++){let a=Cct[s],c=Tct(i,o,a),l=Rct(i,o,a),u=Ict[s];i=t[u],o=t[u+1],t[u]=c,t[u+1]=l}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)r[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=$tr[n],t[1]^=Utr[n]}Qu(r)}var ktr,cO,Dtr,Mtr,Ltr,Btr,Ict,Cct,Nct,Oct,$tr,Utr,Tct,Rct,u0e,ztr,d0e,Pct=b(()=>{"use strict";_fe();kh();ktr=BigInt(0),cO=BigInt(1),Dtr=BigInt(2),Mtr=BigInt(7),Ltr=BigInt(256),Btr=BigInt(113),Ict=[],Cct=[],Nct=[];for(let t=0,e=cO,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],Ict.push(2*(5*n+r)),Cct.push((t+1)*(t+2)/2%64);let i=ktr;for(let o=0;o<7;o++)e=(e<<cO^(e>>Mtr)*Btr)%Ltr,e&Dtr&&(i^=cO<<(cO<<BigInt(o))-cO);Nct.push(i)}Oct=uU(Nct,!0),$tr=Oct[0],Utr=Oct[1],Tct=(t,e,r)=>r>32?ttt(t,e,r):Zet(t,e,r),Rct=(t,e,r)=>r>32?rtt(t,e,r):ett(t,e,r);u0e=class t extends E1{constructor(e,r,n,i=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,A1(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Wet(this.state)}clone(){return this._cloneInto()}keccak(){gfe(this.state32),Ftr(this.state32,this.rounds),gfe(this.state32),this.posOut=0,this.pos=0}update(e){Ph(this),e=g_(e),Es(e);let{blockLen:r,state:n}=this,i=e.length;for(let o=0;o<i;){let s=Math.min(r-this.pos,i-o);for(let a=0;a<s;a++)n[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Ph(this,!1),Es(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=e.length;i<o;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,o-i);e.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return A1(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(aU(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Qu(this.state)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new t(r,n,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}},ztr=(t,e,r)=>vE(()=>new u0e(e,t,r)),d0e=ztr(1,136,256/8)});var b0e=ze((Bct,y0e)=>{"use strict";(function(t,e){"use strict";function r(N,_){if(!N)throw new Error(_||"Assertion failed")}function n(N,_){N.super_=_;var x=function(){};x.prototype=_.prototype,N.prototype=new x,N.prototype.constructor=N}function i(N,_,x){if(i.isBN(N))return N;this.negative=0,this.words=null,this.length=0,this.red=null,N!==null&&((_==="le"||_==="be")&&(x=_,_=10),this._init(N||0,_||10,x||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=yt("buffer").Buffer}catch{}i.isBN=function(_){return _ instanceof i?!0:_!==null&&typeof _=="object"&&_.constructor.wordSize===i.wordSize&&Array.isArray(_.words)},i.max=function(_,x){return _.cmp(x)>0?_:x},i.min=function(_,x){return _.cmp(x)<0?_:x},i.prototype._init=function(_,x,R){if(typeof _=="number")return this._initNumber(_,x,R);if(typeof _=="object")return this._initArray(_,x,R);x==="hex"&&(x=16),r(x===(x|0)&&x>=2&&x<=36),_=_.toString().replace(/\s+/g,"");var L=0;_[0]==="-"&&(L++,this.negative=1),L<_.length&&(x===16?this._parseHex(_,L,R):(this._parseBase(_,x,L),R==="le"&&this._initArray(this.toArray(),x,R)))},i.prototype._initNumber=function(_,x,R){_<0&&(this.negative=1,_=-_),_<67108864?(this.words=[_&67108863],this.length=1):_<4503599627370496?(this.words=[_&67108863,_/67108864&67108863],this.length=2):(r(_<9007199254740992),this.words=[_&67108863,_/67108864&67108863,1],this.length=3),R==="le"&&this._initArray(this.toArray(),x,R)},i.prototype._initArray=function(_,x,R){if(r(typeof _.length=="number"),_.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(_.length/3),this.words=new Array(this.length);for(var L=0;L<this.length;L++)this.words[L]=0;var U,j,Q=0;if(R==="be")for(L=_.length-1,U=0;L>=0;L-=3)j=_[L]|_[L-1]<<8|_[L-2]<<16,this.words[U]|=j<<Q&67108863,this.words[U+1]=j>>>26-Q&67108863,Q+=24,Q>=26&&(Q-=26,U++);else if(R==="le")for(L=0,U=0;L<_.length;L+=3)j=_[L]|_[L+1]<<8|_[L+2]<<16,this.words[U]|=j<<Q&67108863,this.words[U+1]=j>>>26-Q&67108863,Q+=24,Q>=26&&(Q-=26,U++);return this._strip()};function s(N,_){var x=N.charCodeAt(_);if(x>=48&&x<=57)return x-48;if(x>=65&&x<=70)return x-55;if(x>=97&&x<=102)return x-87;r(!1,"Invalid character in "+N)}function a(N,_,x){var R=s(N,x);return x-1>=_&&(R|=s(N,x-1)<<4),R}i.prototype._parseHex=function(_,x,R){this.length=Math.ceil((_.length-x)/6),this.words=new Array(this.length);for(var L=0;L<this.length;L++)this.words[L]=0;var U=0,j=0,Q;if(R==="be")for(L=_.length-1;L>=x;L-=2)Q=a(_,x,L)<<U,this.words[j]|=Q&67108863,U>=18?(U-=18,j+=1,this.words[j]|=Q>>>26):U+=8;else{var G=_.length-x;for(L=G%2===0?x+1:x;L<_.length;L+=2)Q=a(_,x,L)<<U,this.words[j]|=Q&67108863,U>=18?(U-=18,j+=1,this.words[j]|=Q>>>26):U+=8}this._strip()};function c(N,_,x,R){for(var L=0,U=0,j=Math.min(N.length,x),Q=_;Q<j;Q++){var G=N.charCodeAt(Q)-48;L*=R,G>=49?U=G-49+10:G>=17?U=G-17+10:U=G,r(G>=0&&U<R,"Invalid character"),L+=U}return L}i.prototype._parseBase=function(_,x,R){this.words=[0],this.length=1;for(var L=0,U=1;U<=67108863;U*=x)L++;L--,U=U/x|0;for(var j=_.length-R,Q=j%L,G=Math.min(j,j-Q)+R,A=0,X=R;X<G;X+=L)A=c(_,X,X+L,x),this.imuln(U),this.words[0]+A<67108864?this.words[0]+=A:this._iaddn(A);if(Q!==0){var Re=1;for(A=c(_,X,_.length,x),X=0;X<Q;X++)Re*=x;this.imuln(Re),this.words[0]+A<67108864?this.words[0]+=A:this._iaddn(A)}this._strip()},i.prototype.copy=function(_){_.words=new Array(this.length);for(var x=0;x<this.length;x++)_.words[x]=this.words[x];_.length=this.length,_.negative=this.negative,_.red=this.red};function l(N,_){N.words=_.words,N.length=_.length,N.negative=_.negative,N.red=_.red}if(i.prototype._move=function(_){l(_,this)},i.prototype.clone=function(){var _=new i(null);return this.copy(_),_},i.prototype._expand=function(_){for(;this.length<_;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch{i.prototype.inspect=u}else i.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(_,x){_=_||10,x=x|0||1;var R;if(_===16||_==="hex"){R="";for(var L=0,U=0,j=0;j<this.length;j++){var Q=this.words[j],G=((Q<<L|U)&16777215).toString(16);U=Q>>>24-L&16777215,L+=2,L>=26&&(L-=26,j--),U!==0||j!==this.length-1?R=d[6-G.length]+G+R:R=G+R}for(U!==0&&(R=U.toString(16)+R);R.length%x!==0;)R="0"+R;return this.negative!==0&&(R="-"+R),R}if(_===(_|0)&&_>=2&&_<=36){var A=p[_],X=f[_];R="";var Re=this.clone();for(Re.negative=0;!Re.isZero();){var ve=Re.modrn(X).toString(_);Re=Re.idivn(X),Re.isZero()?R=ve+R:R=d[A-ve.length]+ve+R}for(this.isZero()&&(R="0"+R);R.length%x!==0;)R="0"+R;return this.negative!==0&&(R="-"+R),R}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var _=this.words[0];return this.length===2?_+=this.words[1]*67108864:this.length===3&&this.words[2]===1?_+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-_:_},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(_,x){return this.toArrayLike(o,_,x)}),i.prototype.toArray=function(_,x){return this.toArrayLike(Array,_,x)};var h=function(_,x){return _.allocUnsafe?_.allocUnsafe(x):new _(x)};i.prototype.toArrayLike=function(_,x,R){this._strip();var L=this.byteLength(),U=R||Math.max(1,L);r(L<=U,"byte array longer than desired length"),r(U>0,"Requested array length <= 0");var j=h(_,U),Q=x==="le"?"LE":"BE";return this["_toArrayLike"+Q](j,L),j},i.prototype._toArrayLikeLE=function(_,x){for(var R=0,L=0,U=0,j=0;U<this.length;U++){var Q=this.words[U]<<j|L;_[R++]=Q&255,R<_.length&&(_[R++]=Q>>8&255),R<_.length&&(_[R++]=Q>>16&255),j===6?(R<_.length&&(_[R++]=Q>>24&255),L=0,j=0):(L=Q>>>24,j+=2)}if(R<_.length)for(_[R++]=L;R<_.length;)_[R++]=0},i.prototype._toArrayLikeBE=function(_,x){for(var R=_.length-1,L=0,U=0,j=0;U<this.length;U++){var Q=this.words[U]<<j|L;_[R--]=Q&255,R>=0&&(_[R--]=Q>>8&255),R>=0&&(_[R--]=Q>>16&255),j===6?(R>=0&&(_[R--]=Q>>24&255),L=0,j=0):(L=Q>>>24,j+=2)}if(R>=0)for(_[R--]=L;R>=0;)_[R--]=0},Math.clz32?i.prototype._countBits=function(_){return 32-Math.clz32(_)}:i.prototype._countBits=function(_){var x=_,R=0;return x>=4096&&(R+=13,x>>>=13),x>=64&&(R+=7,x>>>=7),x>=8&&(R+=4,x>>>=4),x>=2&&(R+=2,x>>>=2),R+x},i.prototype._zeroBits=function(_){if(_===0)return 26;var x=_,R=0;return(x&8191)===0&&(R+=13,x>>>=13),(x&127)===0&&(R+=7,x>>>=7),(x&15)===0&&(R+=4,x>>>=4),(x&3)===0&&(R+=2,x>>>=2),(x&1)===0&&R++,R},i.prototype.bitLength=function(){var _=this.words[this.length-1],x=this._countBits(_);return(this.length-1)*26+x};function m(N){for(var _=new Array(N.bitLength()),x=0;x<_.length;x++){var R=x/26|0,L=x%26;_[x]=N.words[R]>>>L&1}return _}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var _=0,x=0;x<this.length;x++){var R=this._zeroBits(this.words[x]);if(_+=R,R!==26)break}return _},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(_){return this.negative!==0?this.abs().inotn(_).iaddn(1):this.clone()},i.prototype.fromTwos=function(_){return this.testn(_-1)?this.notn(_).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(_){for(;this.length<_.length;)this.words[this.length++]=0;for(var x=0;x<_.length;x++)this.words[x]=this.words[x]|_.words[x];return this._strip()},i.prototype.ior=function(_){return r((this.negative|_.negative)===0),this.iuor(_)},i.prototype.or=function(_){return this.length>_.length?this.clone().ior(_):_.clone().ior(this)},i.prototype.uor=function(_){return this.length>_.length?this.clone().iuor(_):_.clone().iuor(this)},i.prototype.iuand=function(_){var x;this.length>_.length?x=_:x=this;for(var R=0;R<x.length;R++)this.words[R]=this.words[R]&_.words[R];return this.length=x.length,this._strip()},i.prototype.iand=function(_){return r((this.negative|_.negative)===0),this.iuand(_)},i.prototype.and=function(_){return this.length>_.length?this.clone().iand(_):_.clone().iand(this)},i.prototype.uand=function(_){return this.length>_.length?this.clone().iuand(_):_.clone().iuand(this)},i.prototype.iuxor=function(_){var x,R;this.length>_.length?(x=this,R=_):(x=_,R=this);for(var L=0;L<R.length;L++)this.words[L]=x.words[L]^R.words[L];if(this!==x)for(;L<x.length;L++)this.words[L]=x.words[L];return this.length=x.length,this._strip()},i.prototype.ixor=function(_){return r((this.negative|_.negative)===0),this.iuxor(_)},i.prototype.xor=function(_){return this.length>_.length?this.clone().ixor(_):_.clone().ixor(this)},i.prototype.uxor=function(_){return this.length>_.length?this.clone().iuxor(_):_.clone().iuxor(this)},i.prototype.inotn=function(_){r(typeof _=="number"&&_>=0);var x=Math.ceil(_/26)|0,R=_%26;this._expand(x),R>0&&x--;for(var L=0;L<x;L++)this.words[L]=~this.words[L]&67108863;return R>0&&(this.words[L]=~this.words[L]&67108863>>26-R),this._strip()},i.prototype.notn=function(_){return this.clone().inotn(_)},i.prototype.setn=function(_,x){r(typeof _=="number"&&_>=0);var R=_/26|0,L=_%26;return this._expand(R+1),x?this.words[R]=this.words[R]|1<<L:this.words[R]=this.words[R]&~(1<<L),this._strip()},i.prototype.iadd=function(_){var x;if(this.negative!==0&&_.negative===0)return this.negative=0,x=this.isub(_),this.negative^=1,this._normSign();if(this.negative===0&&_.negative!==0)return _.negative=0,x=this.isub(_),_.negative=1,x._normSign();var R,L;this.length>_.length?(R=this,L=_):(R=_,L=this);for(var U=0,j=0;j<L.length;j++)x=(R.words[j]|0)+(L.words[j]|0)+U,this.words[j]=x&67108863,U=x>>>26;for(;U!==0&&j<R.length;j++)x=(R.words[j]|0)+U,this.words[j]=x&67108863,U=x>>>26;if(this.length=R.length,U!==0)this.words[this.length]=U,this.length++;else if(R!==this)for(;j<R.length;j++)this.words[j]=R.words[j];return this},i.prototype.add=function(_){var x;return _.negative!==0&&this.negative===0?(_.negative=0,x=this.sub(_),_.negative^=1,x):_.negative===0&&this.negative!==0?(this.negative=0,x=_.sub(this),this.negative=1,x):this.length>_.length?this.clone().iadd(_):_.clone().iadd(this)},i.prototype.isub=function(_){if(_.negative!==0){_.negative=0;var x=this.iadd(_);return _.negative=1,x._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(_),this.negative=1,this._normSign();var R=this.cmp(_);if(R===0)return this.negative=0,this.length=1,this.words[0]=0,this;var L,U;R>0?(L=this,U=_):(L=_,U=this);for(var j=0,Q=0;Q<U.length;Q++)x=(L.words[Q]|0)-(U.words[Q]|0)+j,j=x>>26,this.words[Q]=x&67108863;for(;j!==0&&Q<L.length;Q++)x=(L.words[Q]|0)+j,j=x>>26,this.words[Q]=x&67108863;if(j===0&&Q<L.length&&L!==this)for(;Q<L.length;Q++)this.words[Q]=L.words[Q];return this.length=Math.max(this.length,Q),L!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(_){return this.clone().isub(_)};function g(N,_,x){x.negative=_.negative^N.negative;var R=N.length+_.length|0;x.length=R,R=R-1|0;var L=N.words[0]|0,U=_.words[0]|0,j=L*U,Q=j&67108863,G=j/67108864|0;x.words[0]=Q;for(var A=1;A<R;A++){for(var X=G>>>26,Re=G&67108863,ve=Math.min(A,_.length-1),ue=Math.max(0,A-N.length+1);ue<=ve;ue++){var Ve=A-ue|0;L=N.words[Ve]|0,U=_.words[ue]|0,j=L*U+Re,X+=j/67108864|0,Re=j&67108863}x.words[A]=Re|0,G=X|0}return G!==0?x.words[A]=G|0:x.length--,x._strip()}var y=function(_,x,R){var L=_.words,U=x.words,j=R.words,Q=0,G,A,X,Re=L[0]|0,ve=Re&8191,ue=Re>>>13,Ve=L[1]|0,we=Ve&8191,ut=Ve>>>13,be=L[2]|0,St=be&8191,ke=be>>>13,_r=L[3]|0,fr=_r&8191,_n=_r>>>13,Nd=L[4]|0,Tn=Nd&8191,Gn=Nd>>>13,e0=L[5]|0,Dn=e0&8191,pn=e0>>>13,js=L[6]|0,Mn=js&8191,ui=js>>>13,tc=L[7]|0,Sn=tc&8191,T=tc>>>13,B=L[8]|0,V=B&8191,ie=B>>>13,J=L[9]|0,Y=J&8191,oe=J>>>13,Me=U[0]|0,Je=Me&8191,Rt=Me>>>13,Xt=U[1]|0,pt=Xt&8191,Xe=Xt>>>13,xt=U[2]|0,nt=xt&8191,at=xt>>>13,Cr=U[3]|0,or=Cr&8191,mr=Cr>>>13,rc=U[4]|0,Ai=rc&8191,Li=rc>>>13,dP=U[5]|0,fo=dP&8191,mo=dP>>>13,SSe=U[6]|0,ho=SSe&8191,go=SSe>>>13,xSe=U[7]|0,yo=xSe&8191,bo=xSe>>>13,wSe=U[8]|0,vo=wSe&8191,_o=wSe>>>13,ASe=U[9]|0,So=ASe&8191,xo=ASe>>>13;R.negative=_.negative^x.negative,R.length=19,G=Math.imul(ve,Je),A=Math.imul(ve,Rt),A=A+Math.imul(ue,Je)|0,X=Math.imul(ue,Rt);var lq=(Q+G|0)+((A&8191)<<13)|0;Q=(X+(A>>>13)|0)+(lq>>>26)|0,lq&=67108863,G=Math.imul(we,Je),A=Math.imul(we,Rt),A=A+Math.imul(ut,Je)|0,X=Math.imul(ut,Rt),G=G+Math.imul(ve,pt)|0,A=A+Math.imul(ve,Xe)|0,A=A+Math.imul(ue,pt)|0,X=X+Math.imul(ue,Xe)|0;var uq=(Q+G|0)+((A&8191)<<13)|0;Q=(X+(A>>>13)|0)+(uq>>>26)|0,uq&=67108863,G=Math.imul(St,Je),A=Math.imul(St,Rt),A=A+Math.imul(ke,Je)|0,X=Math.imul(ke,Rt),G=G+Math.imul(we,pt)|0,A=A+Math.imul(we,Xe)|0,A=A+Math.imul(ut,pt)|0,X=X+Math.imul(ut,Xe)|0,G=G+Math.imul(ve,nt)|0,A=A+Math.imul(ve,at)|0,A=A+Math.imul(ue,nt)|0,X=X+Math.imul(ue,at)|0;var dq=(Q+G|0)+((A&8191)<<13)|0;Q=(X+(A>>>13)|0)+(dq>>>26)|0,dq&=67108863,G=Math.imul(fr,Je),A=Math.imul(fr,Rt),A=A+Math.imul(_n,Je)|0,X=Math.imul(_n,Rt),G=G+Math.imul(St,pt)|0,A=A+Math.imul(St,Xe)|0,A=A+Math.imul(ke,pt)|0,X=X+Math.imul(ke,Xe)|0,G=G+Math.imul(we,nt)|0,A=A+Math.imul(we,at)|0,A=A+Math.imul(ut,nt)|0,X=X+Math.imul(ut,at)|0,G=G+Math.imul(ve,or)|0,A=A+Math.imul(ve,mr)|0,A=A+Math.imul(ue,or)|0,X=X+Math.imul(ue,mr)|0;var pq=(Q+G|0)+((A&8191)<<13)|0;Q=(X+(A>>>13)|0)+(pq>>>26)|0,pq&=67108863,G=Math.imul(Tn,Je),A=Math.imul(Tn,Rt),A=A+Math.imul(Gn,Je)|0,X=Math.imul(Gn,Rt),G=G+Math.imul(fr,pt)|0,A=A+Math.imul(fr,Xe)|0,A=A+Math.imul(_n,pt)|0,X=X+Math.imul(_n,Xe)|0,G=G+Math.imul(St,nt)|0,A=A+Math.imul(St,at)|0,A=A+Math.imul(ke,nt)|0,X=X+Math.imul(ke,at)|0,G=G+Math.imul(we,or)|0,A=A+Math.imul(we,mr)|0,A=A+Math.imul(ut,or)|0,X=X+Math.imul(ut,mr)|0,G=G+Math.imul(ve,Ai)|0,A=A+Math.imul(ve,Li)|0,A=A+Math.imul(ue,Ai)|0,X=X+Math.imul(ue,Li)|0;var fq=(Q+G|0)+((A&8191)<<13)|0;Q=(X+(A>>>13)|0)+(fq>>>26)|0,fq&=67108863,G=Math.imul(Dn,Je),A=Math.imul(Dn,Rt),A=A+Math.imul(pn,Je)|0,X=Math.imul(pn,Rt),G=G+Math.imul(Tn,pt)|0,A=A+Math.imul(Tn,Xe)|0,A=A+Math.imul(Gn,pt)|0,X=X+Math.imul(Gn,Xe)|0,G=G+Math.imul(fr,nt)|0,A=A+Math.imul(fr,at)|0,A=A+Math.imul(_n,nt)|0,X=X+Math.imul(_n,at)|0,G=G+Math.imul(St,or)|0,A=A+Math.imul(St,mr)|0,A=A+Math.imul(ke,or)|0,X=X+Math.imul(ke,mr)|0,G=G+Math.imul(we,Ai)|0,A=A+Math.imul(we,Li)|0,A=A+Math.imul(ut,Ai)|0,X=X+Math.imul(ut,Li)|0,G=G+Math.imul(ve,fo)|0,A=A+Math.imul(ve,mo)|0,A=A+Math.imul(ue,fo)|0,X=X+Math.imul(ue,mo)|0;var mq=(Q+G|0)+((A&8191)<<13)|0;Q=(X+(A>>>13)|0)+(mq>>>26)|0,mq&=67108863,G=Math.imul(Mn,Je),A=Math.imul(Mn,Rt),A=A+Math.imul(ui,Je)|0,X=Math.imul(ui,Rt),G=G+Math.imul(Dn,pt)|0,A=A+Math.imul(Dn,Xe)|0,A=A+Math.imul(pn,pt)|0,X=X+Math.imul(pn,Xe)|0,G=G+Math.imul(Tn,nt)|0,A=A+Math.imul(Tn,at)|0,A=A+Math.imul(Gn,nt)|0,X=X+Math.imul(Gn,at)|0,G=G+Math.imul(fr,or)|0,A=A+Math.imul(fr,mr)|0,A=A+Math.imul(_n,or)|0,X=X+Math.imul(_n,mr)|0,G=G+Math.imul(St,Ai)|0,A=A+Math.imul(St,Li)|0,A=A+Math.imul(ke,Ai)|0,X=X+Math.imul(ke,Li)|0,G=G+Math.imul(we,fo)|0,A=A+Math.imul(we,mo)|0,A=A+Math.imul(ut,fo)|0,X=X+Math.imul(ut,mo)|0,G=G+Math.imul(ve,ho)|0,A=A+Math.imul(ve,go)|0,A=A+Math.imul(ue,ho)|0,X=X+Math.imul(ue,go)|0;var hq=(Q+G|0)+((A&8191)<<13)|0;Q=(X+(A>>>13)|0)+(hq>>>26)|0,hq&=67108863,G=Math.imul(Sn,Je),A=Math.imul(Sn,Rt),A=A+Math.imul(T,Je)|0,X=Math.imul(T,Rt),G=G+Math.imul(Mn,pt)|0,A=A+Math.imul(Mn,Xe)|0,A=A+Math.imul(ui,pt)|0,X=X+Math.imul(ui,Xe)|0,G=G+Math.imul(Dn,nt)|0,A=A+Math.imul(Dn,at)|0,A=A+Math.imul(pn,nt)|0,X=X+Math.imul(pn,at)|0,G=G+Math.imul(Tn,or)|0,A=A+Math.imul(Tn,mr)|0,A=A+Math.imul(Gn,or)|0,X=X+Math.imul(Gn,mr)|0,G=G+Math.imul(fr,Ai)|0,A=A+Math.imul(fr,Li)|0,A=A+Math.imul(_n,Ai)|0,X=X+Math.imul(_n,Li)|0,G=G+Math.imul(St,fo)|0,A=A+Math.imul(St,mo)|0,A=A+Math.imul(ke,fo)|0,X=X+Math.imul(ke,mo)|0,G=G+Math.imul(we,ho)|0,A=A+Math.imul(we,go)|0,A=A+Math.imul(ut,ho)|0,X=X+Math.imul(ut,go)|0,G=G+Math.imul(ve,yo)|0,A=A+Math.imul(ve,bo)|0,A=A+Math.imul(ue,yo)|0,X=X+Math.imul(ue,bo)|0;var gq=(Q+G|0)+((A&8191)<<13)|0;Q=(X+(A>>>13)|0)+(gq>>>26)|0,gq&=67108863,G=Math.imul(V,Je),A=Math.imul(V,Rt),A=A+Math.imul(ie,Je)|0,X=Math.imul(ie,Rt),G=G+Math.imul(Sn,pt)|0,A=A+Math.imul(Sn,Xe)|0,A=A+Math.imul(T,pt)|0,X=X+Math.imul(T,Xe)|0,G=G+Math.imul(Mn,nt)|0,A=A+Math.imul(Mn,at)|0,A=A+Math.imul(ui,nt)|0,X=X+Math.imul(ui,at)|0,G=G+Math.imul(Dn,or)|0,A=A+Math.imul(Dn,mr)|0,A=A+Math.imul(pn,or)|0,X=X+Math.imul(pn,mr)|0,G=G+Math.imul(Tn,Ai)|0,A=A+Math.imul(Tn,Li)|0,A=A+Math.imul(Gn,Ai)|0,X=X+Math.imul(Gn,Li)|0,G=G+Math.imul(fr,fo)|0,A=A+Math.imul(fr,mo)|0,A=A+Math.imul(_n,fo)|0,X=X+Math.imul(_n,mo)|0,G=G+Math.imul(St,ho)|0,A=A+Math.imul(St,go)|0,A=A+Math.imul(ke,ho)|0,X=X+Math.imul(ke,go)|0,G=G+Math.imul(we,yo)|0,A=A+Math.imul(we,bo)|0,A=A+Math.imul(ut,yo)|0,X=X+Math.imul(ut,bo)|0,G=G+Math.imul(ve,vo)|0,A=A+Math.imul(ve,_o)|0,A=A+Math.imul(ue,vo)|0,X=X+Math.imul(ue,_o)|0;var yq=(Q+G|0)+((A&8191)<<13)|0;Q=(X+(A>>>13)|0)+(yq>>>26)|0,yq&=67108863,G=Math.imul(Y,Je),A=Math.imul(Y,Rt),A=A+Math.imul(oe,Je)|0,X=Math.imul(oe,Rt),G=G+Math.imul(V,pt)|0,A=A+Math.imul(V,Xe)|0,A=A+Math.imul(ie,pt)|0,X=X+Math.imul(ie,Xe)|0,G=G+Math.imul(Sn,nt)|0,A=A+Math.imul(Sn,at)|0,A=A+Math.imul(T,nt)|0,X=X+Math.imul(T,at)|0,G=G+Math.imul(Mn,or)|0,A=A+Math.imul(Mn,mr)|0,A=A+Math.imul(ui,or)|0,X=X+Math.imul(ui,mr)|0,G=G+Math.imul(Dn,Ai)|0,A=A+Math.imul(Dn,Li)|0,A=A+Math.imul(pn,Ai)|0,X=X+Math.imul(pn,Li)|0,G=G+Math.imul(Tn,fo)|0,A=A+Math.imul(Tn,mo)|0,A=A+Math.imul(Gn,fo)|0,X=X+Math.imul(Gn,mo)|0,G=G+Math.imul(fr,ho)|0,A=A+Math.imul(fr,go)|0,A=A+Math.imul(_n,ho)|0,X=X+Math.imul(_n,go)|0,G=G+Math.imul(St,yo)|0,A=A+Math.imul(St,bo)|0,A=A+Math.imul(ke,yo)|0,X=X+Math.imul(ke,bo)|0,G=G+Math.imul(we,vo)|0,A=A+Math.imul(we,_o)|0,A=A+Math.imul(ut,vo)|0,X=X+Math.imul(ut,_o)|0,G=G+Math.imul(ve,So)|0,A=A+Math.imul(ve,xo)|0,A=A+Math.imul(ue,So)|0,X=X+Math.imul(ue,xo)|0;var bq=(Q+G|0)+((A&8191)<<13)|0;Q=(X+(A>>>13)|0)+(bq>>>26)|0,bq&=67108863,G=Math.imul(Y,pt),A=Math.imul(Y,Xe),A=A+Math.imul(oe,pt)|0,X=Math.imul(oe,Xe),G=G+Math.imul(V,nt)|0,A=A+Math.imul(V,at)|0,A=A+Math.imul(ie,nt)|0,X=X+Math.imul(ie,at)|0,G=G+Math.imul(Sn,or)|0,A=A+Math.imul(Sn,mr)|0,A=A+Math.imul(T,or)|0,X=X+Math.imul(T,mr)|0,G=G+Math.imul(Mn,Ai)|0,A=A+Math.imul(Mn,Li)|0,A=A+Math.imul(ui,Ai)|0,X=X+Math.imul(ui,Li)|0,G=G+Math.imul(Dn,fo)|0,A=A+Math.imul(Dn,mo)|0,A=A+Math.imul(pn,fo)|0,X=X+Math.imul(pn,mo)|0,G=G+Math.imul(Tn,ho)|0,A=A+Math.imul(Tn,go)|0,A=A+Math.imul(Gn,ho)|0,X=X+Math.imul(Gn,go)|0,G=G+Math.imul(fr,yo)|0,A=A+Math.imul(fr,bo)|0,A=A+Math.imul(_n,yo)|0,X=X+Math.imul(_n,bo)|0,G=G+Math.imul(St,vo)|0,A=A+Math.imul(St,_o)|0,A=A+Math.imul(ke,vo)|0,X=X+Math.imul(ke,_o)|0,G=G+Math.imul(we,So)|0,A=A+Math.imul(we,xo)|0,A=A+Math.imul(ut,So)|0,X=X+Math.imul(ut,xo)|0;var vq=(Q+G|0)+((A&8191)<<13)|0;Q=(X+(A>>>13)|0)+(vq>>>26)|0,vq&=67108863,G=Math.imul(Y,nt),A=Math.imul(Y,at),A=A+Math.imul(oe,nt)|0,X=Math.imul(oe,at),G=G+Math.imul(V,or)|0,A=A+Math.imul(V,mr)|0,A=A+Math.imul(ie,or)|0,X=X+Math.imul(ie,mr)|0,G=G+Math.imul(Sn,Ai)|0,A=A+Math.imul(Sn,Li)|0,A=A+Math.imul(T,Ai)|0,X=X+Math.imul(T,Li)|0,G=G+Math.imul(Mn,fo)|0,A=A+Math.imul(Mn,mo)|0,A=A+Math.imul(ui,fo)|0,X=X+Math.imul(ui,mo)|0,G=G+Math.imul(Dn,ho)|0,A=A+Math.imul(Dn,go)|0,A=A+Math.imul(pn,ho)|0,X=X+Math.imul(pn,go)|0,G=G+Math.imul(Tn,yo)|0,A=A+Math.imul(Tn,bo)|0,A=A+Math.imul(Gn,yo)|0,X=X+Math.imul(Gn,bo)|0,G=G+Math.imul(fr,vo)|0,A=A+Math.imul(fr,_o)|0,A=A+Math.imul(_n,vo)|0,X=X+Math.imul(_n,_o)|0,G=G+Math.imul(St,So)|0,A=A+Math.imul(St,xo)|0,A=A+Math.imul(ke,So)|0,X=X+Math.imul(ke,xo)|0;var _q=(Q+G|0)+((A&8191)<<13)|0;Q=(X+(A>>>13)|0)+(_q>>>26)|0,_q&=67108863,G=Math.imul(Y,or),A=Math.imul(Y,mr),A=A+Math.imul(oe,or)|0,X=Math.imul(oe,mr),G=G+Math.imul(V,Ai)|0,A=A+Math.imul(V,Li)|0,A=A+Math.imul(ie,Ai)|0,X=X+Math.imul(ie,Li)|0,G=G+Math.imul(Sn,fo)|0,A=A+Math.imul(Sn,mo)|0,A=A+Math.imul(T,fo)|0,X=X+Math.imul(T,mo)|0,G=G+Math.imul(Mn,ho)|0,A=A+Math.imul(Mn,go)|0,A=A+Math.imul(ui,ho)|0,X=X+Math.imul(ui,go)|0,G=G+Math.imul(Dn,yo)|0,A=A+Math.imul(Dn,bo)|0,A=A+Math.imul(pn,yo)|0,X=X+Math.imul(pn,bo)|0,G=G+Math.imul(Tn,vo)|0,A=A+Math.imul(Tn,_o)|0,A=A+Math.imul(Gn,vo)|0,X=X+Math.imul(Gn,_o)|0,G=G+Math.imul(fr,So)|0,A=A+Math.imul(fr,xo)|0,A=A+Math.imul(_n,So)|0,X=X+Math.imul(_n,xo)|0;var Sq=(Q+G|0)+((A&8191)<<13)|0;Q=(X+(A>>>13)|0)+(Sq>>>26)|0,Sq&=67108863,G=Math.imul(Y,Ai),A=Math.imul(Y,Li),A=A+Math.imul(oe,Ai)|0,X=Math.imul(oe,Li),G=G+Math.imul(V,fo)|0,A=A+Math.imul(V,mo)|0,A=A+Math.imul(ie,fo)|0,X=X+Math.imul(ie,mo)|0,G=G+Math.imul(Sn,ho)|0,A=A+Math.imul(Sn,go)|0,A=A+Math.imul(T,ho)|0,X=X+Math.imul(T,go)|0,G=G+Math.imul(Mn,yo)|0,A=A+Math.imul(Mn,bo)|0,A=A+Math.imul(ui,yo)|0,X=X+Math.imul(ui,bo)|0,G=G+Math.imul(Dn,vo)|0,A=A+Math.imul(Dn,_o)|0,A=A+Math.imul(pn,vo)|0,X=X+Math.imul(pn,_o)|0,G=G+Math.imul(Tn,So)|0,A=A+Math.imul(Tn,xo)|0,A=A+Math.imul(Gn,So)|0,X=X+Math.imul(Gn,xo)|0;var xq=(Q+G|0)+((A&8191)<<13)|0;Q=(X+(A>>>13)|0)+(xq>>>26)|0,xq&=67108863,G=Math.imul(Y,fo),A=Math.imul(Y,mo),A=A+Math.imul(oe,fo)|0,X=Math.imul(oe,mo),G=G+Math.imul(V,ho)|0,A=A+Math.imul(V,go)|0,A=A+Math.imul(ie,ho)|0,X=X+Math.imul(ie,go)|0,G=G+Math.imul(Sn,yo)|0,A=A+Math.imul(Sn,bo)|0,A=A+Math.imul(T,yo)|0,X=X+Math.imul(T,bo)|0,G=G+Math.imul(Mn,vo)|0,A=A+Math.imul(Mn,_o)|0,A=A+Math.imul(ui,vo)|0,X=X+Math.imul(ui,_o)|0,G=G+Math.imul(Dn,So)|0,A=A+Math.imul(Dn,xo)|0,A=A+Math.imul(pn,So)|0,X=X+Math.imul(pn,xo)|0;var wq=(Q+G|0)+((A&8191)<<13)|0;Q=(X+(A>>>13)|0)+(wq>>>26)|0,wq&=67108863,G=Math.imul(Y,ho),A=Math.imul(Y,go),A=A+Math.imul(oe,ho)|0,X=Math.imul(oe,go),G=G+Math.imul(V,yo)|0,A=A+Math.imul(V,bo)|0,A=A+Math.imul(ie,yo)|0,X=X+Math.imul(ie,bo)|0,G=G+Math.imul(Sn,vo)|0,A=A+Math.imul(Sn,_o)|0,A=A+Math.imul(T,vo)|0,X=X+Math.imul(T,_o)|0,G=G+Math.imul(Mn,So)|0,A=A+Math.imul(Mn,xo)|0,A=A+Math.imul(ui,So)|0,X=X+Math.imul(ui,xo)|0;var Aq=(Q+G|0)+((A&8191)<<13)|0;Q=(X+(A>>>13)|0)+(Aq>>>26)|0,Aq&=67108863,G=Math.imul(Y,yo),A=Math.imul(Y,bo),A=A+Math.imul(oe,yo)|0,X=Math.imul(oe,bo),G=G+Math.imul(V,vo)|0,A=A+Math.imul(V,_o)|0,A=A+Math.imul(ie,vo)|0,X=X+Math.imul(ie,_o)|0,G=G+Math.imul(Sn,So)|0,A=A+Math.imul(Sn,xo)|0,A=A+Math.imul(T,So)|0,X=X+Math.imul(T,xo)|0;var Eq=(Q+G|0)+((A&8191)<<13)|0;Q=(X+(A>>>13)|0)+(Eq>>>26)|0,Eq&=67108863,G=Math.imul(Y,vo),A=Math.imul(Y,_o),A=A+Math.imul(oe,vo)|0,X=Math.imul(oe,_o),G=G+Math.imul(V,So)|0,A=A+Math.imul(V,xo)|0,A=A+Math.imul(ie,So)|0,X=X+Math.imul(ie,xo)|0;var Tq=(Q+G|0)+((A&8191)<<13)|0;Q=(X+(A>>>13)|0)+(Tq>>>26)|0,Tq&=67108863,G=Math.imul(Y,So),A=Math.imul(Y,xo),A=A+Math.imul(oe,So)|0,X=Math.imul(oe,xo);var Rq=(Q+G|0)+((A&8191)<<13)|0;return Q=(X+(A>>>13)|0)+(Rq>>>26)|0,Rq&=67108863,j[0]=lq,j[1]=uq,j[2]=dq,j[3]=pq,j[4]=fq,j[5]=mq,j[6]=hq,j[7]=gq,j[8]=yq,j[9]=bq,j[10]=vq,j[11]=_q,j[12]=Sq,j[13]=xq,j[14]=wq,j[15]=Aq,j[16]=Eq,j[17]=Tq,j[18]=Rq,Q!==0&&(j[19]=Q,R.length++),R};Math.imul||(y=g);function v(N,_,x){x.negative=_.negative^N.negative,x.length=N.length+_.length;for(var R=0,L=0,U=0;U<x.length-1;U++){var j=L;L=0;for(var Q=R&67108863,G=Math.min(U,_.length-1),A=Math.max(0,U-N.length+1);A<=G;A++){var X=U-A,Re=N.words[X]|0,ve=_.words[A]|0,ue=Re*ve,Ve=ue&67108863;j=j+(ue/67108864|0)|0,Ve=Ve+Q|0,Q=Ve&67108863,j=j+(Ve>>>26)|0,L+=j>>>26,j&=67108863}x.words[U]=Q,R=j,j=L}return R!==0?x.words[U]=R:x.length--,x._strip()}function S(N,_,x){return v(N,_,x)}i.prototype.mulTo=function(_,x){var R,L=this.length+_.length;return this.length===10&&_.length===10?R=y(this,_,x):L<63?R=g(this,_,x):L<1024?R=v(this,_,x):R=S(this,_,x),R};function w(N,_){this.x=N,this.y=_}w.prototype.makeRBT=function(_){for(var x=new Array(_),R=i.prototype._countBits(_)-1,L=0;L<_;L++)x[L]=this.revBin(L,R,_);return x},w.prototype.revBin=function(_,x,R){if(_===0||_===R-1)return _;for(var L=0,U=0;U<x;U++)L|=(_&1)<<x-U-1,_>>=1;return L},w.prototype.permute=function(_,x,R,L,U,j){for(var Q=0;Q<j;Q++)L[Q]=x[_[Q]],U[Q]=R[_[Q]]},w.prototype.transform=function(_,x,R,L,U,j){this.permute(j,_,x,R,L,U);for(var Q=1;Q<U;Q<<=1)for(var G=Q<<1,A=Math.cos(2*Math.PI/G),X=Math.sin(2*Math.PI/G),Re=0;Re<U;Re+=G)for(var ve=A,ue=X,Ve=0;Ve<Q;Ve++){var we=R[Re+Ve],ut=L[Re+Ve],be=R[Re+Ve+Q],St=L[Re+Ve+Q],ke=ve*be-ue*St;St=ve*St+ue*be,be=ke,R[Re+Ve]=we+be,L[Re+Ve]=ut+St,R[Re+Ve+Q]=we-be,L[Re+Ve+Q]=ut-St,Ve!==G&&(ke=A*ve-X*ue,ue=A*ue+X*ve,ve=ke)}},w.prototype.guessLen13b=function(_,x){var R=Math.max(x,_)|1,L=R&1,U=0;for(R=R/2|0;R;R=R>>>1)U++;return 1<<U+1+L},w.prototype.conjugate=function(_,x,R){if(!(R<=1))for(var L=0;L<R/2;L++){var U=_[L];_[L]=_[R-L-1],_[R-L-1]=U,U=x[L],x[L]=-x[R-L-1],x[R-L-1]=-U}},w.prototype.normalize13b=function(_,x){for(var R=0,L=0;L<x/2;L++){var U=Math.round(_[2*L+1]/x)*8192+Math.round(_[2*L]/x)+R;_[L]=U&67108863,U<67108864?R=0:R=U/67108864|0}return _},w.prototype.convert13b=function(_,x,R,L){for(var U=0,j=0;j<x;j++)U=U+(_[j]|0),R[2*j]=U&8191,U=U>>>13,R[2*j+1]=U&8191,U=U>>>13;for(j=2*x;j<L;++j)R[j]=0;r(U===0),r((U&-8192)===0)},w.prototype.stub=function(_){for(var x=new Array(_),R=0;R<_;R++)x[R]=0;return x},w.prototype.mulp=function(_,x,R){var L=2*this.guessLen13b(_.length,x.length),U=this.makeRBT(L),j=this.stub(L),Q=new Array(L),G=new Array(L),A=new Array(L),X=new Array(L),Re=new Array(L),ve=new Array(L),ue=R.words;ue.length=L,this.convert13b(_.words,_.length,Q,L),this.convert13b(x.words,x.length,X,L),this.transform(Q,j,G,A,L,U),this.transform(X,j,Re,ve,L,U);for(var Ve=0;Ve<L;Ve++){var we=G[Ve]*Re[Ve]-A[Ve]*ve[Ve];A[Ve]=G[Ve]*ve[Ve]+A[Ve]*Re[Ve],G[Ve]=we}return this.conjugate(G,A,L),this.transform(G,A,ue,j,L,U),this.conjugate(ue,j,L),this.normalize13b(ue,L),R.negative=_.negative^x.negative,R.length=_.length+x.length,R._strip()},i.prototype.mul=function(_){var x=new i(null);return x.words=new Array(this.length+_.length),this.mulTo(_,x)},i.prototype.mulf=function(_){var x=new i(null);return x.words=new Array(this.length+_.length),S(this,_,x)},i.prototype.imul=function(_){return this.clone().mulTo(_,this)},i.prototype.imuln=function(_){var x=_<0;x&&(_=-_),r(typeof _=="number"),r(_<67108864);for(var R=0,L=0;L<this.length;L++){var U=(this.words[L]|0)*_,j=(U&67108863)+(R&67108863);R>>=26,R+=U/67108864|0,R+=j>>>26,this.words[L]=j&67108863}return R!==0&&(this.words[L]=R,this.length++),this.length=_===0?1:this.length,x?this.ineg():this},i.prototype.muln=function(_){return this.clone().imuln(_)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(_){var x=m(_);if(x.length===0)return new i(1);for(var R=this,L=0;L<x.length&&x[L]===0;L++,R=R.sqr());if(++L<x.length)for(var U=R.sqr();L<x.length;L++,U=U.sqr())x[L]!==0&&(R=R.mul(U));return R},i.prototype.iushln=function(_){r(typeof _=="number"&&_>=0);var x=_%26,R=(_-x)/26,L=67108863>>>26-x<<26-x,U;if(x!==0){var j=0;for(U=0;U<this.length;U++){var Q=this.words[U]&L,G=(this.words[U]|0)-Q<<x;this.words[U]=G|j,j=Q>>>26-x}j&&(this.words[U]=j,this.length++)}if(R!==0){for(U=this.length-1;U>=0;U--)this.words[U+R]=this.words[U];for(U=0;U<R;U++)this.words[U]=0;this.length+=R}return this._strip()},i.prototype.ishln=function(_){return r(this.negative===0),this.iushln(_)},i.prototype.iushrn=function(_,x,R){r(typeof _=="number"&&_>=0);var L;x?L=(x-x%26)/26:L=0;var U=_%26,j=Math.min((_-U)/26,this.length),Q=67108863^67108863>>>U<<U,G=R;if(L-=j,L=Math.max(0,L),G){for(var A=0;A<j;A++)G.words[A]=this.words[A];G.length=j}if(j!==0)if(this.length>j)for(this.length-=j,A=0;A<this.length;A++)this.words[A]=this.words[A+j];else this.words[0]=0,this.length=1;var X=0;for(A=this.length-1;A>=0&&(X!==0||A>=L);A--){var Re=this.words[A]|0;this.words[A]=X<<26-U|Re>>>U,X=Re&Q}return G&&X!==0&&(G.words[G.length++]=X),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(_,x,R){return r(this.negative===0),this.iushrn(_,x,R)},i.prototype.shln=function(_){return this.clone().ishln(_)},i.prototype.ushln=function(_){return this.clone().iushln(_)},i.prototype.shrn=function(_){return this.clone().ishrn(_)},i.prototype.ushrn=function(_){return this.clone().iushrn(_)},i.prototype.testn=function(_){r(typeof _=="number"&&_>=0);var x=_%26,R=(_-x)/26,L=1<<x;if(this.length<=R)return!1;var U=this.words[R];return!!(U&L)},i.prototype.imaskn=function(_){r(typeof _=="number"&&_>=0);var x=_%26,R=(_-x)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=R)return this;if(x!==0&&R++,this.length=Math.min(R,this.length),x!==0){var L=67108863^67108863>>>x<<x;this.words[this.length-1]&=L}return this._strip()},i.prototype.maskn=function(_){return this.clone().imaskn(_)},i.prototype.iaddn=function(_){return r(typeof _=="number"),r(_<67108864),_<0?this.isubn(-_):this.negative!==0?this.length===1&&(this.words[0]|0)<=_?(this.words[0]=_-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(_),this.negative=1,this):this._iaddn(_)},i.prototype._iaddn=function(_){this.words[0]+=_;for(var x=0;x<this.length&&this.words[x]>=67108864;x++)this.words[x]-=67108864,x===this.length-1?this.words[x+1]=1:this.words[x+1]++;return this.length=Math.max(this.length,x+1),this},i.prototype.isubn=function(_){if(r(typeof _=="number"),r(_<67108864),_<0)return this.iaddn(-_);if(this.negative!==0)return this.negative=0,this.iaddn(_),this.negative=1,this;if(this.words[0]-=_,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var x=0;x<this.length&&this.words[x]<0;x++)this.words[x]+=67108864,this.words[x+1]-=1;return this._strip()},i.prototype.addn=function(_){return this.clone().iaddn(_)},i.prototype.subn=function(_){return this.clone().isubn(_)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(_,x,R){var L=_.length+R,U;this._expand(L);var j,Q=0;for(U=0;U<_.length;U++){j=(this.words[U+R]|0)+Q;var G=(_.words[U]|0)*x;j-=G&67108863,Q=(j>>26)-(G/67108864|0),this.words[U+R]=j&67108863}for(;U<this.length-R;U++)j=(this.words[U+R]|0)+Q,Q=j>>26,this.words[U+R]=j&67108863;if(Q===0)return this._strip();for(r(Q===-1),Q=0,U=0;U<this.length;U++)j=-(this.words[U]|0)+Q,Q=j>>26,this.words[U]=j&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(_,x){var R=this.length-_.length,L=this.clone(),U=_,j=U.words[U.length-1]|0,Q=this._countBits(j);R=26-Q,R!==0&&(U=U.ushln(R),L.iushln(R),j=U.words[U.length-1]|0);var G=L.length-U.length,A;if(x!=="mod"){A=new i(null),A.length=G+1,A.words=new Array(A.length);for(var X=0;X<A.length;X++)A.words[X]=0}var Re=L.clone()._ishlnsubmul(U,1,G);Re.negative===0&&(L=Re,A&&(A.words[G]=1));for(var ve=G-1;ve>=0;ve--){var ue=(L.words[U.length+ve]|0)*67108864+(L.words[U.length+ve-1]|0);for(ue=Math.min(ue/j|0,67108863),L._ishlnsubmul(U,ue,ve);L.negative!==0;)ue--,L.negative=0,L._ishlnsubmul(U,1,ve),L.isZero()||(L.negative^=1);A&&(A.words[ve]=ue)}return A&&A._strip(),L._strip(),x!=="div"&&R!==0&&L.iushrn(R),{div:A||null,mod:L}},i.prototype.divmod=function(_,x,R){if(r(!_.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var L,U,j;return this.negative!==0&&_.negative===0?(j=this.neg().divmod(_,x),x!=="mod"&&(L=j.div.neg()),x!=="div"&&(U=j.mod.neg(),R&&U.negative!==0&&U.iadd(_)),{div:L,mod:U}):this.negative===0&&_.negative!==0?(j=this.divmod(_.neg(),x),x!=="mod"&&(L=j.div.neg()),{div:L,mod:j.mod}):(this.negative&_.negative)!==0?(j=this.neg().divmod(_.neg(),x),x!=="div"&&(U=j.mod.neg(),R&&U.negative!==0&&U.isub(_)),{div:j.div,mod:U}):_.length>this.length||this.cmp(_)<0?{div:new i(0),mod:this}:_.length===1?x==="div"?{div:this.divn(_.words[0]),mod:null}:x==="mod"?{div:null,mod:new i(this.modrn(_.words[0]))}:{div:this.divn(_.words[0]),mod:new i(this.modrn(_.words[0]))}:this._wordDiv(_,x)},i.prototype.div=function(_){return this.divmod(_,"div",!1).div},i.prototype.mod=function(_){return this.divmod(_,"mod",!1).mod},i.prototype.umod=function(_){return this.divmod(_,"mod",!0).mod},i.prototype.divRound=function(_){var x=this.divmod(_);if(x.mod.isZero())return x.div;var R=x.div.negative!==0?x.mod.isub(_):x.mod,L=_.ushrn(1),U=_.andln(1),j=R.cmp(L);return j<0||U===1&&j===0?x.div:x.div.negative!==0?x.div.isubn(1):x.div.iaddn(1)},i.prototype.modrn=function(_){var x=_<0;x&&(_=-_),r(_<=67108863);for(var R=(1<<26)%_,L=0,U=this.length-1;U>=0;U--)L=(R*L+(this.words[U]|0))%_;return x?-L:L},i.prototype.modn=function(_){return this.modrn(_)},i.prototype.idivn=function(_){var x=_<0;x&&(_=-_),r(_<=67108863);for(var R=0,L=this.length-1;L>=0;L--){var U=(this.words[L]|0)+R*67108864;this.words[L]=U/_|0,R=U%_}return this._strip(),x?this.ineg():this},i.prototype.divn=function(_){return this.clone().idivn(_)},i.prototype.egcd=function(_){r(_.negative===0),r(!_.isZero());var x=this,R=_.clone();x.negative!==0?x=x.umod(_):x=x.clone();for(var L=new i(1),U=new i(0),j=new i(0),Q=new i(1),G=0;x.isEven()&&R.isEven();)x.iushrn(1),R.iushrn(1),++G;for(var A=R.clone(),X=x.clone();!x.isZero();){for(var Re=0,ve=1;(x.words[0]&ve)===0&&Re<26;++Re,ve<<=1);if(Re>0)for(x.iushrn(Re);Re-- >0;)(L.isOdd()||U.isOdd())&&(L.iadd(A),U.isub(X)),L.iushrn(1),U.iushrn(1);for(var ue=0,Ve=1;(R.words[0]&Ve)===0&&ue<26;++ue,Ve<<=1);if(ue>0)for(R.iushrn(ue);ue-- >0;)(j.isOdd()||Q.isOdd())&&(j.iadd(A),Q.isub(X)),j.iushrn(1),Q.iushrn(1);x.cmp(R)>=0?(x.isub(R),L.isub(j),U.isub(Q)):(R.isub(x),j.isub(L),Q.isub(U))}return{a:j,b:Q,gcd:R.iushln(G)}},i.prototype._invmp=function(_){r(_.negative===0),r(!_.isZero());var x=this,R=_.clone();x.negative!==0?x=x.umod(_):x=x.clone();for(var L=new i(1),U=new i(0),j=R.clone();x.cmpn(1)>0&&R.cmpn(1)>0;){for(var Q=0,G=1;(x.words[0]&G)===0&&Q<26;++Q,G<<=1);if(Q>0)for(x.iushrn(Q);Q-- >0;)L.isOdd()&&L.iadd(j),L.iushrn(1);for(var A=0,X=1;(R.words[0]&X)===0&&A<26;++A,X<<=1);if(A>0)for(R.iushrn(A);A-- >0;)U.isOdd()&&U.iadd(j),U.iushrn(1);x.cmp(R)>=0?(x.isub(R),L.isub(U)):(R.isub(x),U.isub(L))}var Re;return x.cmpn(1)===0?Re=L:Re=U,Re.cmpn(0)<0&&Re.iadd(_),Re},i.prototype.gcd=function(_){if(this.isZero())return _.abs();if(_.isZero())return this.abs();var x=this.clone(),R=_.clone();x.negative=0,R.negative=0;for(var L=0;x.isEven()&&R.isEven();L++)x.iushrn(1),R.iushrn(1);do{for(;x.isEven();)x.iushrn(1);for(;R.isEven();)R.iushrn(1);var U=x.cmp(R);if(U<0){var j=x;x=R,R=j}else if(U===0||R.cmpn(1)===0)break;x.isub(R)}while(!0);return R.iushln(L)},i.prototype.invm=function(_){return this.egcd(_).a.umod(_)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(_){return this.words[0]&_},i.prototype.bincn=function(_){r(typeof _=="number");var x=_%26,R=(_-x)/26,L=1<<x;if(this.length<=R)return this._expand(R+1),this.words[R]|=L,this;for(var U=L,j=R;U!==0&&j<this.length;j++){var Q=this.words[j]|0;Q+=U,U=Q>>>26,Q&=67108863,this.words[j]=Q}return U!==0&&(this.words[j]=U,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(_){var x=_<0;if(this.negative!==0&&!x)return-1;if(this.negative===0&&x)return 1;this._strip();var R;if(this.length>1)R=1;else{x&&(_=-_),r(_<=67108863,"Number is too big");var L=this.words[0]|0;R=L===_?0:L<_?-1:1}return this.negative!==0?-R|0:R},i.prototype.cmp=function(_){if(this.negative!==0&&_.negative===0)return-1;if(this.negative===0&&_.negative!==0)return 1;var x=this.ucmp(_);return this.negative!==0?-x|0:x},i.prototype.ucmp=function(_){if(this.length>_.length)return 1;if(this.length<_.length)return-1;for(var x=0,R=this.length-1;R>=0;R--){var L=this.words[R]|0,U=_.words[R]|0;if(L!==U){L<U?x=-1:L>U&&(x=1);break}}return x},i.prototype.gtn=function(_){return this.cmpn(_)===1},i.prototype.gt=function(_){return this.cmp(_)===1},i.prototype.gten=function(_){return this.cmpn(_)>=0},i.prototype.gte=function(_){return this.cmp(_)>=0},i.prototype.ltn=function(_){return this.cmpn(_)===-1},i.prototype.lt=function(_){return this.cmp(_)===-1},i.prototype.lten=function(_){return this.cmpn(_)<=0},i.prototype.lte=function(_){return this.cmp(_)<=0},i.prototype.eqn=function(_){return this.cmpn(_)===0},i.prototype.eq=function(_){return this.cmp(_)===0},i.red=function(_){return new H(_)},i.prototype.toRed=function(_){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),_.convertTo(this)._forceRed(_)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(_){return this.red=_,this},i.prototype.forceRed=function(_){return r(!this.red,"Already a number in reduction context"),this._forceRed(_)},i.prototype.redAdd=function(_){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,_)},i.prototype.redIAdd=function(_){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,_)},i.prototype.redSub=function(_){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,_)},i.prototype.redISub=function(_){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,_)},i.prototype.redShl=function(_){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,_)},i.prototype.redMul=function(_){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.mul(this,_)},i.prototype.redIMul=function(_){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.imul(this,_)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(_){return r(this.red&&!_.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,_)};var E={k256:null,p224:null,p192:null,p25519:null};function I(N,_){this.name=N,this.p=new i(_,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}I.prototype._tmp=function(){var _=new i(null);return _.words=new Array(Math.ceil(this.n/13)),_},I.prototype.ireduce=function(_){var x=_,R;do this.split(x,this.tmp),x=this.imulK(x),x=x.iadd(this.tmp),R=x.bitLength();while(R>this.n);var L=R<this.n?-1:x.ucmp(this.p);return L===0?(x.words[0]=0,x.length=1):L>0?x.isub(this.p):x.strip!==void 0?x.strip():x._strip(),x},I.prototype.split=function(_,x){_.iushrn(this.n,0,x)},I.prototype.imulK=function(_){return _.imul(this.k)};function D(){I.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(D,I),D.prototype.split=function(_,x){for(var R=4194303,L=Math.min(_.length,9),U=0;U<L;U++)x.words[U]=_.words[U];if(x.length=L,_.length<=9){_.words[0]=0,_.length=1;return}var j=_.words[9];for(x.words[x.length++]=j&R,U=10;U<_.length;U++){var Q=_.words[U]|0;_.words[U-10]=(Q&R)<<4|j>>>22,j=Q}j>>>=22,_.words[U-10]=j,j===0&&_.length>10?_.length-=10:_.length-=9},D.prototype.imulK=function(_){_.words[_.length]=0,_.words[_.length+1]=0,_.length+=2;for(var x=0,R=0;R<_.length;R++){var L=_.words[R]|0;x+=L*977,_.words[R]=x&67108863,x=L*64+(x/67108864|0)}return _.words[_.length-1]===0&&(_.length--,_.words[_.length-1]===0&&_.length--),_};function k(){I.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(k,I);function P(){I.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(P,I);function $(){I.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n($,I),$.prototype.imulK=function(_){for(var x=0,R=0;R<_.length;R++){var L=(_.words[R]|0)*19+x,U=L&67108863;L>>>=26,_.words[R]=U,x=L}return x!==0&&(_.words[_.length++]=x),_},i._prime=function(_){if(E[_])return E[_];var x;if(_==="k256")x=new D;else if(_==="p224")x=new k;else if(_==="p192")x=new P;else if(_==="p25519")x=new $;else throw new Error("Unknown prime "+_);return E[_]=x,x};function H(N){if(typeof N=="string"){var _=i._prime(N);this.m=_.p,this.prime=_}else r(N.gtn(1),"modulus must be greater than 1"),this.m=N,this.prime=null}H.prototype._verify1=function(_){r(_.negative===0,"red works only with positives"),r(_.red,"red works only with red numbers")},H.prototype._verify2=function(_,x){r((_.negative|x.negative)===0,"red works only with positives"),r(_.red&&_.red===x.red,"red works only with red numbers")},H.prototype.imod=function(_){return this.prime?this.prime.ireduce(_)._forceRed(this):(l(_,_.umod(this.m)._forceRed(this)),_)},H.prototype.neg=function(_){return _.isZero()?_.clone():this.m.sub(_)._forceRed(this)},H.prototype.add=function(_,x){this._verify2(_,x);var R=_.add(x);return R.cmp(this.m)>=0&&R.isub(this.m),R._forceRed(this)},H.prototype.iadd=function(_,x){this._verify2(_,x);var R=_.iadd(x);return R.cmp(this.m)>=0&&R.isub(this.m),R},H.prototype.sub=function(_,x){this._verify2(_,x);var R=_.sub(x);return R.cmpn(0)<0&&R.iadd(this.m),R._forceRed(this)},H.prototype.isub=function(_,x){this._verify2(_,x);var R=_.isub(x);return R.cmpn(0)<0&&R.iadd(this.m),R},H.prototype.shl=function(_,x){return this._verify1(_),this.imod(_.ushln(x))},H.prototype.imul=function(_,x){return this._verify2(_,x),this.imod(_.imul(x))},H.prototype.mul=function(_,x){return this._verify2(_,x),this.imod(_.mul(x))},H.prototype.isqr=function(_){return this.imul(_,_.clone())},H.prototype.sqr=function(_){return this.mul(_,_)},H.prototype.sqrt=function(_){if(_.isZero())return _.clone();var x=this.m.andln(3);if(r(x%2===1),x===3){var R=this.m.add(new i(1)).iushrn(2);return this.pow(_,R)}for(var L=this.m.subn(1),U=0;!L.isZero()&&L.andln(1)===0;)U++,L.iushrn(1);r(!L.isZero());var j=new i(1).toRed(this),Q=j.redNeg(),G=this.m.subn(1).iushrn(1),A=this.m.bitLength();for(A=new i(2*A*A).toRed(this);this.pow(A,G).cmp(Q)!==0;)A.redIAdd(Q);for(var X=this.pow(A,L),Re=this.pow(_,L.addn(1).iushrn(1)),ve=this.pow(_,L),ue=U;ve.cmp(j)!==0;){for(var Ve=ve,we=0;Ve.cmp(j)!==0;we++)Ve=Ve.redSqr();r(we<ue);var ut=this.pow(X,new i(1).iushln(ue-we-1));Re=Re.redMul(ut),X=ut.redSqr(),ve=ve.redMul(X),ue=we}return Re},H.prototype.invm=function(_){var x=_._invmp(this.m);return x.negative!==0?(x.negative=0,this.imod(x).redNeg()):this.imod(x)},H.prototype.pow=function(_,x){if(x.isZero())return new i(1).toRed(this);if(x.cmpn(1)===0)return _.clone();var R=4,L=new Array(1<<R);L[0]=new i(1).toRed(this),L[1]=_;for(var U=2;U<L.length;U++)L[U]=this.mul(L[U-1],_);var j=L[0],Q=0,G=0,A=x.bitLength()%26;for(A===0&&(A=26),U=x.length-1;U>=0;U--){for(var X=x.words[U],Re=A-1;Re>=0;Re--){var ve=X>>Re&1;if(j!==L[0]&&(j=this.sqr(j)),ve===0&&Q===0){G=0;continue}Q<<=1,Q|=ve,G++,!(G!==R&&(U!==0||Re!==0))&&(j=this.mul(j,L[Q]),G=0,Q=0)}A=26}return j},H.prototype.convertTo=function(_){var x=_.umod(this.m);return x===_?x.clone():x},H.prototype.convertFrom=function(_){var x=_.clone();return x.red=null,x},i.mont=function(_){return new W(_)};function W(N){H.call(this,N),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(W,H),W.prototype.convertTo=function(_){return this.imod(_.ushln(this.shift))},W.prototype.convertFrom=function(_){var x=this.imod(_.mul(this.rinv));return x.red=null,x},W.prototype.imul=function(_,x){if(_.isZero()||x.isZero())return _.words[0]=0,_.length=1,_;var R=_.imul(x),L=R.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),U=R.isub(L).iushrn(this.shift),j=U;return U.cmp(this.m)>=0?j=U.isub(this.m):U.cmpn(0)<0&&(j=U.iadd(this.m)),j._forceRed(this)},W.prototype.mul=function(_,x){if(_.isZero()||x.isZero())return new i(0)._forceRed(this);var R=_.mul(x),L=R.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),U=R.isub(L).iushrn(this.shift),j=U;return U.cmp(this.m)>=0?j=U.isub(this.m):U.cmpn(0)<0&&(j=U.iadd(this.m)),j._forceRed(this)},W.prototype.invm=function(_){var x=this.imod(_._invmp(this.m).mul(this.r2));return x._forceRed(this)}})(typeof y0e>"u"||y0e,Bct)});var _0e=ze((v0e,Uct)=>{"use strict";var Cz=yt("buffer"),em=Cz.Buffer;function $ct(t,e){for(var r in t)e[r]=t[r]}em.from&&em.alloc&&em.allocUnsafe&&em.allocUnsafeSlow?Uct.exports=Cz:($ct(Cz,v0e),v0e.Buffer=RS);function RS(t,e,r){return em(t,e,r)}RS.prototype=Object.create(em.prototype);$ct(em,RS);RS.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return em(t,e,r)};RS.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=em(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};RS.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return em(t)};RS.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Cz.SlowBuffer(t)}});var zct=ze((yni,Fct)=>{"use strict";var Nz=_0e().Buffer;function arr(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=n}var s=t.length,a=t.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function u(f){if((Array.isArray(f)||f instanceof Uint8Array)&&(f=Nz.from(f)),!Nz.isBuffer(f))throw new TypeError("Expected Buffer");if(f.length===0)return"";for(var h=0,m=0,g=0,y=f.length;g!==y&&f[g]===0;)g++,h++;for(var v=(y-g)*l+1>>>0,S=new Uint8Array(v);g!==y;){for(var w=f[g],E=0,I=v-1;(w!==0||E<m)&&I!==-1;I--,E++)w+=256*S[I]>>>0,S[I]=w%s>>>0,w=w/s>>>0;if(w!==0)throw new Error("Non-zero carry");m=E,g++}for(var D=v-m;D!==v&&S[D]===0;)D++;for(var k=a.repeat(h);D<v;++D)k+=t.charAt(S[D]);return k}function d(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return Nz.alloc(0);for(var h=0,m=0,g=0;f[h]===a;)m++,h++;for(var y=(f.length-h)*c+1>>>0,v=new Uint8Array(y);h<f.length;){var S=f.charCodeAt(h);if(S>255)return;var w=e[S];if(w===255)return;for(var E=0,I=y-1;(w!==0||E<g)&&I!==-1;I--,E++)w+=s*v[I]>>>0,v[I]=w%256>>>0,w=w/256>>>0;if(w!==0)throw new Error("Non-zero carry");g=E,h++}for(var D=y-g;D!==y&&v[D]===0;)D++;var k=Nz.allocUnsafe(m+(y-D));k.fill(0,0,m);for(var P=m;D!==y;)k[P++]=v[D++];return k}function p(f){var h=d(f);if(h)return h;throw new Error("Non-base"+s+" character")}return{encode:u,decodeUnsafe:d,decode:p}}Fct.exports=arr});var Vct=ze((bni,Hct)=>{"use strict";var crr=zct(),lrr="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Hct.exports=crr(lrr)});var jct=ze((vni,Gct)=>{"use strict";var Oz=_0e().Buffer;function urr(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=n}var s=t.length,a=t.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function u(f){if((Array.isArray(f)||f instanceof Uint8Array)&&(f=Oz.from(f)),!Oz.isBuffer(f))throw new TypeError("Expected Buffer");if(f.length===0)return"";for(var h=0,m=0,g=0,y=f.length;g!==y&&f[g]===0;)g++,h++;for(var v=(y-g)*l+1>>>0,S=new Uint8Array(v);g!==y;){for(var w=f[g],E=0,I=v-1;(w!==0||E<m)&&I!==-1;I--,E++)w+=256*S[I]>>>0,S[I]=w%s>>>0,w=w/s>>>0;if(w!==0)throw new Error("Non-zero carry");m=E,g++}for(var D=v-m;D!==v&&S[D]===0;)D++;for(var k=a.repeat(h);D<v;++D)k+=t.charAt(S[D]);return k}function d(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return Oz.alloc(0);for(var h=0,m=0,g=0;f[h]===a;)m++,h++;for(var y=(f.length-h)*c+1>>>0,v=new Uint8Array(y);h<f.length;){var S=f.charCodeAt(h);if(S>255)return;var w=e[S];if(w===255)return;for(var E=0,I=y-1;(w!==0||E<g)&&I!==-1;I--,E++)w+=s*v[I]>>>0,v[I]=w%256>>>0,w=w/256>>>0;if(w!==0)throw new Error("Non-zero carry");g=E,h++}for(var D=y-g;D!==y&&v[D]===0;)D++;var k=Oz.allocUnsafe(m+(y-D));k.fill(0,0,m);for(var P=m;D!==y;)k[P++]=v[D++];return k}function p(f){var h=d(f);if(h)return h;throw new Error("Non-base"+s+" character")}return{encode:u,decodeUnsafe:d,decode:p}}Gct.exports=urr});var Wct=ze((_ni,qct)=>{"use strict";var drr=jct(),prr="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";qct.exports=drr(prr)});var Jct=ze(w0e=>{"use strict";function ug(t,e,r){return e<=t&&t<=r}function Lz(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function frr(t){for(var e=String(t),r=e.length,n=0,i=[];n<r;){var o=e.charCodeAt(n);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(n===r-1)i.push(65533);else{var s=t.charCodeAt(n+1);if(56320<=s&&s<=57343){var a=o&1023,c=s&1023;i.push(65536+(a<<10)+c),n+=1}else i.push(65533)}n+=1}return i}function mrr(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var Pz=-1;function x0e(t){this.tokens=[].slice.call(t)}x0e.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Pz},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var TT=-1;function S0e(t,e){if(t)throw TypeError("Decoder error");return e||65533}var kz="utf-8";function Dz(t,e){if(!(this instanceof Dz))return new Dz(t,e);if(t=t!==void 0?String(t).toLowerCase():kz,t!==kz)throw new Error("Encoding not supported. Only utf-8 is supported");e=Lz(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Dz.prototype={decode:function(e,r){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),r=Lz(r),this._streaming||(this._decoder=new hrr({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!r.stream;for(var i=new x0e(n),o=[],s;!i.endOfStream()&&(s=this._decoder.handler(i,i.read()),s!==TT);)s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s));if(!this._streaming){do{if(s=this._decoder.handler(i,i.read()),s===TT)break;s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s))}while(!i.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),mrr(o)}};function Mz(t,e){if(!(this instanceof Mz))return new Mz(t,e);if(t=t!==void 0?String(t).toLowerCase():kz,t!==kz)throw new Error("Encoding not supported. Only utf-8 is supported");e=Lz(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Mz.prototype={encode:function(e,r){e=e?String(e):"",r=Lz(r),this._streaming||(this._encoder=new grr(this._options)),this._streaming=!!r.stream;for(var n=[],i=new x0e(frr(e)),o;!i.endOfStream()&&(o=this._encoder.handler(i,i.read()),o!==TT);)Array.isArray(o)?n.push.apply(n,o):n.push(o);if(!this._streaming){for(;o=this._encoder.handler(i,i.read()),o!==TT;)Array.isArray(o)?n.push.apply(n,o):n.push(o);this._encoder=null}return new Uint8Array(n)}};function hrr(t){var e=t.fatal,r=0,n=0,i=0,o=128,s=191;this.handler=function(a,c){if(c===Pz&&i!==0)return i=0,S0e(e);if(c===Pz)return TT;if(i===0){if(ug(c,0,127))return c;if(ug(c,194,223))i=1,r=c-192;else if(ug(c,224,239))c===224&&(o=160),c===237&&(s=159),i=2,r=c-224;else if(ug(c,240,244))c===240&&(o=144),c===244&&(s=143),i=3,r=c-240;else return S0e(e);return r=r<<6*i,null}if(!ug(c,o,s))return r=i=n=0,o=128,s=191,a.prepend(c),S0e(e);if(o=128,s=191,n+=1,r+=c-128<<6*(i-n),n!==i)return null;var l=r;return r=i=n=0,l}}function grr(t){var e=t.fatal;this.handler=function(r,n){if(n===Pz)return TT;if(ug(n,0,127))return n;var i,o;ug(n,128,2047)?(i=1,o=192):ug(n,2048,65535)?(i=2,o=224):ug(n,65536,1114111)&&(i=3,o=240);for(var s=[(n>>6*i)+o];i>0;){var a=n>>6*(i-1);s.push(128|a&63),i-=1}return s}}w0e.TextEncoder=Mz;w0e.TextDecoder=Dz});var Zct=ze(Nn=>{"use strict";var yrr=Nn&&Nn.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),brr=Nn&&Nn.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e}),tm=Nn&&Nn.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},vrr=Nn&&Nn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&yrr(e,t,r);return brr(e,t),e},Kct=Nn&&Nn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Nn,"__esModule",{value:!0});Nn.deserializeUnchecked=Nn.deserialize=Nn.serialize=Nn.BinaryReader=Nn.BinaryWriter=Nn.BorshError=Nn.baseDecode=Nn.baseEncode=void 0;var by=Kct(b0e()),Qct=Kct(Wct()),_rr=vrr(Jct()),Srr=typeof TextDecoder!="function"?_rr.TextDecoder:TextDecoder,xrr=new Srr("utf-8",{fatal:!0});function wrr(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),Qct.default.encode(Buffer.from(t))}Nn.baseEncode=wrr;function Arr(t){return Buffer.from(Qct.default.decode(t))}Nn.baseDecode=Arr;var A0e=1024,Ds=class extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};Nn.BorshError=Ds;var Bz=class{constructor(){this.buf=Buffer.alloc(A0e),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(A0e)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new by.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new by.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new by.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new by.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(A0e)]),this.length+=e.length}writeString(e){this.maybeResize();let r=Buffer.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,r){this.maybeResize(),this.writeU32(e.length);for(let n of e)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}};Nn.BinaryWriter=Bz;function rm(t,e,r){let n=r.value;r.value=function(...i){try{return n.apply(this,i)}catch(o){if(o instanceof RangeError){let s=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new Ds("Reached the end of buffer when deserializing")}throw o}}}var Ha=class{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new by.default(e,"le")}readU128(){let e=this.readBuffer(16);return new by.default(e,"le")}readU256(){let e=this.readBuffer(32);return new by.default(e,"le")}readU512(){let e=this.readBuffer(64);return new by.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Ds(`Expected buffer length ${e} isn't within bounds`);let r=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,r}readString(){let e=this.readU32(),r=this.readBuffer(e);try{return xrr.decode(r)}catch(n){throw new Ds(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let r=this.readU32(),n=Array();for(let i=0;i<r;++i)n.push(e());return n}};tm([rm],Ha.prototype,"readU8",null);tm([rm],Ha.prototype,"readU16",null);tm([rm],Ha.prototype,"readU32",null);tm([rm],Ha.prototype,"readU64",null);tm([rm],Ha.prototype,"readU128",null);tm([rm],Ha.prototype,"readU256",null);tm([rm],Ha.prototype,"readU512",null);tm([rm],Ha.prototype,"readString",null);tm([rm],Ha.prototype,"readFixedArray",null);tm([rm],Ha.prototype,"readArray",null);Nn.BinaryReader=Ha;function Xct(t){return t.charAt(0).toUpperCase()+t.slice(1)}function IS(t,e,r,n,i){try{if(typeof n=="string")i[`write${Xct(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new Ds(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new Ds(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let o=0;o<n[1];o++)IS(t,null,r[o],n[0],i)}else i.writeArray(r,o=>{IS(t,e,o,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?i.writeU8(0):(i.writeU8(1),IS(t,e,r,n.type,i));break}case"map":{i.writeU32(r.size),r.forEach((o,s)=>{IS(t,e,s,n.key,i),IS(t,e,o,n.value,i)});break}default:throw new Ds(`FieldType ${n} unrecognized`)}else Yct(t,r,i)}catch(o){throw o instanceof Ds&&o.addToFieldPath(e),o}}function Yct(t,e,r){if(typeof e.borshSerialize=="function"){e.borshSerialize(r);return}let n=t.get(e.constructor);if(!n)throw new Ds(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,o])=>{IS(t,i,e[i],o,r)});else if(n.kind==="enum"){let i=e[n.field];for(let o=0;o<n.values.length;++o){let[s,a]=n.values[o];if(s===i){r.writeU8(o),IS(t,s,e[s],a,r);break}}}else throw new Ds(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function Err(t,e,r=Bz){let n=new r;return Yct(t,e,n),n.toArray()}Nn.serialize=Err;function CS(t,e,r,n){try{if(typeof r=="string")return n[`read${Xct(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){let i=[];for(let o=0;o<r[1];o++)i.push(CS(t,null,r[0],n));return i}else return n.readArray(()=>CS(t,e,r[0],n))}if(r.kind==="option")return n.readU8()?CS(t,e,r.type,n):void 0;if(r.kind==="map"){let i=new Map,o=n.readU32();for(let s=0;s<o;s++){let a=CS(t,e,r.key,n),c=CS(t,e,r.value,n);i.set(a,c)}return i}return E0e(t,r,n)}catch(i){throw i instanceof Ds&&i.addToFieldPath(e),i}}function E0e(t,e,r){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(r);let n=t.get(e);if(!n)throw new Ds(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){let i={};for(let[o,s]of t.get(e).fields)i[o]=CS(t,o,s,r);return new e(i)}if(n.kind==="enum"){let i=r.readU8();if(i>=n.values.length)throw new Ds(`Enum index: ${i} is out of range`);let[o,s]=n.values[i],a=CS(t,o,s,r);return new e({[o]:a})}throw new Ds(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function Trr(t,e,r,n=Ha){let i=new n(r),o=E0e(t,e,i);if(i.offset<r.length)throw new Ds(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return o}Nn.deserialize=Trr;function Rrr(t,e,r,n=Ha){let i=new n(r);return E0e(t,e,i)}Nn.deserializeUnchecked=Rrr});var C0e=ze(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});ge.s16=ge.s8=ge.nu64be=ge.u48be=ge.u40be=ge.u32be=ge.u24be=ge.u16be=ge.nu64=ge.u48=ge.u40=ge.u32=ge.u24=ge.u16=ge.u8=ge.offset=ge.greedy=ge.Constant=ge.UTF8=ge.CString=ge.Blob=ge.Boolean=ge.BitField=ge.BitStructure=ge.VariantLayout=ge.Union=ge.UnionLayoutDiscriminator=ge.UnionDiscriminator=ge.Structure=ge.Sequence=ge.DoubleBE=ge.Double=ge.FloatBE=ge.Float=ge.NearInt64BE=ge.NearInt64=ge.NearUInt64BE=ge.NearUInt64=ge.IntBE=ge.Int=ge.UIntBE=ge.UInt=ge.OffsetLayout=ge.GreedyCount=ge.ExternalLayout=ge.bindConstructorLayout=ge.nameWithProperty=ge.Layout=ge.uint8ArrayToBuffer=ge.checkUint8Array=void 0;ge.constant=ge.utf8=ge.cstr=ge.blob=ge.unionLayoutDiscriminator=ge.union=ge.seq=ge.bits=ge.struct=ge.f64be=ge.f64=ge.f32be=ge.f32=ge.ns64be=ge.s48be=ge.s40be=ge.s32be=ge.s24be=ge.s16be=ge.ns64=ge.s48=ge.s40=ge.s32=ge.s24=void 0;var R0e=yt("buffer");function CT(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}ge.checkUint8Array=CT;function rn(t){return CT(t),R0e.Buffer.from(t.buffer,t.byteOffset,t.length)}ge.uint8ArrayToBuffer=rn;var ln=class{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}};ge.Layout=ln;function I0e(t,e){return e.property?t+"["+e.property+"]":t}ge.nameWithProperty=I0e;function Irr(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof ln))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=(()=>new t),Object.defineProperty(t.prototype,"encode",{value(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value(r,n){return e.decode(r,n)},writable:!0})}ge.bindConstructorLayout=Irr;var da=class extends ln{isCount(){throw new Error("ExternalLayout is abstract")}};ge.ExternalLayout=da;var $z=class extends da{constructor(e=1,r){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r=0){CT(e);let n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}};ge.GreedyCount=$z;var uO=class extends da{constructor(e,r=0,n){if(!(e instanceof ln))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof Vc||this.layout instanceof El}decode(e,r=0){return this.layout.decode(e,r+this.offset)}encode(e,r,n=0){return this.layout.encode(e,r,n+this.offset)}};ge.OffsetLayout=uO;var Vc=class extends ln{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return rn(e).readUIntLE(r,this.span)}encode(e,r,n=0){return rn(r).writeUIntLE(e,n,this.span),this.span}};ge.UInt=Vc;var El=class extends ln{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return rn(e).readUIntBE(r,this.span)}encode(e,r,n=0){return rn(r).writeUIntBE(e,n,this.span),this.span}};ge.UIntBE=El;var dg=class extends ln{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return rn(e).readIntLE(r,this.span)}encode(e,r,n=0){return rn(r).writeIntLE(e,n,this.span),this.span}};ge.Int=dg;var vy=class extends ln{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return rn(e).readIntBE(r,this.span)}encode(e,r,n=0){return rn(r).writeIntBE(e,n,this.span),this.span}};ge.IntBE=vy;var T0e=Math.pow(2,32);function tH(t){let e=Math.floor(t/T0e),r=t-e*T0e;return{hi32:e,lo32:r}}function rH(t,e){return t*T0e+e}var Uz=class extends ln{constructor(e){super(8,e)}decode(e,r=0){let n=rn(e),i=n.readUInt32LE(r),o=n.readUInt32LE(r+4);return rH(o,i)}encode(e,r,n=0){let i=tH(e),o=rn(r);return o.writeUInt32LE(i.lo32,n),o.writeUInt32LE(i.hi32,n+4),8}};ge.NearUInt64=Uz;var Fz=class extends ln{constructor(e){super(8,e)}decode(e,r=0){let n=rn(e),i=n.readUInt32BE(r),o=n.readUInt32BE(r+4);return rH(i,o)}encode(e,r,n=0){let i=tH(e),o=rn(r);return o.writeUInt32BE(i.hi32,n),o.writeUInt32BE(i.lo32,n+4),8}};ge.NearUInt64BE=Fz;var zz=class extends ln{constructor(e){super(8,e)}decode(e,r=0){let n=rn(e),i=n.readUInt32LE(r),o=n.readInt32LE(r+4);return rH(o,i)}encode(e,r,n=0){let i=tH(e),o=rn(r);return o.writeUInt32LE(i.lo32,n),o.writeInt32LE(i.hi32,n+4),8}};ge.NearInt64=zz;var Hz=class extends ln{constructor(e){super(8,e)}decode(e,r=0){let n=rn(e),i=n.readInt32BE(r),o=n.readUInt32BE(r+4);return rH(i,o)}encode(e,r,n=0){let i=tH(e),o=rn(r);return o.writeInt32BE(i.hi32,n),o.writeUInt32BE(i.lo32,n+4),8}};ge.NearInt64BE=Hz;var Vz=class extends ln{constructor(e){super(4,e)}decode(e,r=0){return rn(e).readFloatLE(r)}encode(e,r,n=0){return rn(r).writeFloatLE(e,n),4}};ge.Float=Vz;var Gz=class extends ln{constructor(e){super(4,e)}decode(e,r=0){return rn(e).readFloatBE(r)}encode(e,r,n=0){return rn(r).writeFloatBE(e,n),4}};ge.FloatBE=Gz;var jz=class extends ln{constructor(e){super(8,e)}decode(e,r=0){return rn(e).readDoubleLE(r)}encode(e,r,n=0){return rn(r).writeDoubleLE(e,n),8}};ge.Double=jz;var qz=class extends ln{constructor(e){super(8,e)}decode(e,r=0){return rn(e).readDoubleBE(r)}encode(e,r,n=0){return rn(r).writeDoubleBE(e,n),8}};ge.DoubleBE=qz;var Wz=class extends ln{constructor(e,r,n){if(!(e instanceof ln))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof da&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof da)&&0<e.span&&(i=r*e.span),super(i,n),this.elementLayout=e,this.count=r}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof da&&(i=i.decode(e,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let o=0;for(;o<i;)n+=this.elementLayout.getSpan(e,r+n),++o}return n}decode(e,r=0){let n=[],i=0,o=this.count;for(o instanceof da&&(o=o.decode(e,r));i<o;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),i+=1;return n}encode(e,r,n=0){let i=this.elementLayout,o=e.reduce((s,a)=>s+i.encode(a,r,n+s),0);return this.count instanceof da&&this.count.encode(e.length,r,n),o}};ge.Sequence=Wz;var Jz=class extends ln{constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof ln,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(let o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,o)=>{let s=o.getSpan(e,r);return r+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r=0){CT(e);let n=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,r)),r+=i.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n=0){let i=n,o=0,s=0;for(let a of this.fields){let c=a.span;if(s=0<c?c:0,a.property!==void 0){let l=e[a.property];l!==void 0&&(s=a.encode(l,r,n),0>c&&(c=a.getSpan(r,n)))}o=n,n+=c}return o+s-i}fromArray(e){let r=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(let n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}};ge.Structure=Jz;var dO=class{constructor(e){this.property=e}decode(e,r){throw new Error("UnionDiscriminator is abstract")}encode(e,r,n){throw new Error("UnionDiscriminator is abstract")}};ge.UnionDiscriminator=dO;var IT=class extends dO{constructor(e,r){if(!(e instanceof da&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}};ge.UnionLayoutDiscriminator=IT;var pO=class extends ln{constructor(e,r,n){let i;if(e instanceof Vc||e instanceof El)i=new IT(new uO(e));else if(e instanceof da&&e.isCount())i=new IT(e);else if(e instanceof dO)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof ln))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let o=-1;r&&(o=r.span,0<=o&&(e instanceof Vc||e instanceof El)&&(o+=i.layout.span)),super(o,n),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof Vc||e instanceof El,this.defaultLayout=r,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,r=0){if(0<=this.span)return this.span;let n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(e,r.property)))return r}else for(let r in this.registry){let n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,r=0){let n,i=this.discriminator,o=i.decode(e,r),s=this.registry[o];if(s===void 0){let a=this.defaultLayout,c=0;this.usesPrefixDiscriminator&&(c=i.layout.span),n=this.makeDestinationObject(),n[i.property]=o,n[a.property]=a.decode(e,r+c)}else n=s.decode(e,r);return n}encode(e,r,n=0){let i=this.getSourceVariant(e);if(i===void 0){let o=this.discriminator,s=this.defaultLayout,a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(e[o.property],r,n),a+s.encode(e[s.property],r,n+a)}return i.encode(e,r,n)}addVariant(e,r,n){let i=new Kz(this,e,r,n);return this.registry[e]=i,i}getVariant(e,r=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,r):n=e,this.registry[n]}};ge.Union=pO;var Kz=class extends ln{constructor(e,r,n,i){if(!(e instanceof pO))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof ln))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=n?n.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,r+n)),n+i}decode(e,r=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let o=i;if(this.layout&&(this.layout.encode(e[this.property],r,n+i),o+=this.layout.getSpan(r,n+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};ge.VariantLayout=Kz;function RT(t){return 0>t&&(t+=4294967296),t}var fO=class extends ln{constructor(e,r,n){if(!(e instanceof Vc||e instanceof El))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(o){return i=RT(o),this},this._packedGetValue=function(){return i}}decode(e,r=0){let n=this.makeDestinationObject(),i=this.word.decode(e,r);this._packedSetValue(i);for(let o of this.fields)o.property!==void 0&&(n[o.property]=o.decode(e));return n}encode(e,r,n=0){let i=this.word.decode(r,n);this._packedSetValue(i);for(let o of this.fields)if(o.property!==void 0){let s=e[o.property];s!==void 0&&o.encode(s)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){let n=new mO(this,e,r);return this.fields.push(n),n}addBoolean(e){let r=new Qz(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}};ge.BitStructure=fO;var mO=class{constructor(e,r,n){if(!(e instanceof fO))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");let i=8*e.span,o=e.fields.reduce((s,a)=>s+a.bits,0);if(r+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-r),this.wordMask=RT(this.valueMask<<this.start),this.property=n}decode(e,r){let n=this.container._packedGetValue();return RT(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==RT(e&this.valueMask))throw new TypeError(I0e("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let r=this.container._packedGetValue(),n=RT(e<<this.start);this.container._packedSetValue(RT(r&~this.wordMask)|n)}};ge.BitField=mO;var Qz=class extends mO{constructor(e,r){super(e,1,r)}decode(e,r){return!!super.decode(e,r)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};ge.Boolean=Qz;var Xz=class extends ln{constructor(e,r){if(!(e instanceof da&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof da||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r=0){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),rn(e).slice(r,r+n)}encode(e,r,n){let i=this.length;if(this.length instanceof da&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(I0e("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>r.length)throw new RangeError("encoding overruns Uint8Array");let o=rn(e);return rn(r).write(o.toString("hex"),n,i,"hex"),this.length instanceof da&&this.length.encode(i,r,n),i}};ge.Blob=Xz;var Yz=class extends ln{constructor(e){super(-1,e)}getSpan(e,r=0){CT(e);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r=0){let n=this.getSpan(e,r);return rn(e).slice(r,r+n-1).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let i=R0e.Buffer.from(e,"utf8"),o=i.length;if(n+o>r.length)throw new RangeError("encoding overruns Buffer");let s=rn(r);return i.copy(s,n),s[n+o]=0,o+1}};ge.CString=Yz;var Zz=class extends ln{constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r=0){return CT(e),e.length-r}decode(e,r=0){let n=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return rn(e).slice(r,r+n).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let i=R0e.Buffer.from(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(n+o>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(rn(r),n),o}};ge.UTF8=Zz;var eH=class extends ln{constructor(e,r){super(0,r),this.value=e}decode(e,r){return this.value}encode(e,r,n){return 0}};ge.Constant=eH;ge.greedy=((t,e)=>new $z(t,e));ge.offset=((t,e,r)=>new uO(t,e,r));ge.u8=(t=>new Vc(1,t));ge.u16=(t=>new Vc(2,t));ge.u24=(t=>new Vc(3,t));ge.u32=(t=>new Vc(4,t));ge.u40=(t=>new Vc(5,t));ge.u48=(t=>new Vc(6,t));ge.nu64=(t=>new Uz(t));ge.u16be=(t=>new El(2,t));ge.u24be=(t=>new El(3,t));ge.u32be=(t=>new El(4,t));ge.u40be=(t=>new El(5,t));ge.u48be=(t=>new El(6,t));ge.nu64be=(t=>new Fz(t));ge.s8=(t=>new dg(1,t));ge.s16=(t=>new dg(2,t));ge.s24=(t=>new dg(3,t));ge.s32=(t=>new dg(4,t));ge.s40=(t=>new dg(5,t));ge.s48=(t=>new dg(6,t));ge.ns64=(t=>new zz(t));ge.s16be=(t=>new vy(2,t));ge.s24be=(t=>new vy(3,t));ge.s32be=(t=>new vy(4,t));ge.s40be=(t=>new vy(5,t));ge.s48be=(t=>new vy(6,t));ge.ns64be=(t=>new Hz(t));ge.f32=(t=>new Vz(t));ge.f32be=(t=>new Gz(t));ge.f64=(t=>new jz(t));ge.f64be=(t=>new qz(t));ge.struct=((t,e,r)=>new Jz(t,e,r));ge.bits=((t,e,r)=>new fO(t,e,r));ge.seq=((t,e,r)=>new Wz(t,e,r));ge.union=((t,e,r)=>new pO(t,e,r));ge.unionLayoutDiscriminator=((t,e)=>new IT(t,e));ge.blob=((t,e)=>new Xz(t,e));ge.cstr=(t=>new Yz(t));ge.utf8=((t,e)=>new Zz(t,e));ge.constant=((t,e)=>new eH(t,e))});import jsr from"crypto";function yO(){return sH>aH.length-16&&(jsr.randomFillSync(aH),sH=0),aH.slice(sH,sH+=16)}var aH,sH,F0e=b(()=>{"use strict";aH=new Uint8Array(256),sH=aH.length});var blt,vlt=b(()=>{"use strict";blt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function qsr(t){return typeof t=="string"&&blt.test(t)}var Sy,bO=b(()=>{"use strict";vlt();Sy=qsr});function Wsr(t,e=0){let r=(Ms[t[e+0]]+Ms[t[e+1]]+Ms[t[e+2]]+Ms[t[e+3]]+"-"+Ms[t[e+4]]+Ms[t[e+5]]+"-"+Ms[t[e+6]]+Ms[t[e+7]]+"-"+Ms[t[e+8]]+Ms[t[e+9]]+"-"+Ms[t[e+10]]+Ms[t[e+11]]+Ms[t[e+12]]+Ms[t[e+13]]+Ms[t[e+14]]+Ms[t[e+15]]).toLowerCase();if(!Sy(r))throw TypeError("Stringified UUID is invalid");return r}var Ms,xy,vO=b(()=>{"use strict";bO();Ms=[];for(let t=0;t<256;++t)Ms.push((t+256).toString(16).substr(1));xy=Wsr});function Jsr(t,e,r){let n=e&&r||0,i=e||new Array(16);t=t||{};let o=t.node||_lt,s=t.clockseq!==void 0?t.clockseq:z0e;if(o==null||s==null){let p=t.random||(t.rng||yO)();o==null&&(o=_lt=[p[0]|1,p[1],p[2],p[3],p[4],p[5]]),s==null&&(s=z0e=(p[6]<<8|p[7])&16383)}let a=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:V0e+1,l=a-H0e+(c-V0e)/1e4;if(l<0&&t.clockseq===void 0&&(s=s+1&16383),(l<0||a>H0e)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");H0e=a,V0e=c,z0e=s,a+=122192928e5;let u=((a&268435455)*1e4+c)%4294967296;i[n++]=u>>>24&255,i[n++]=u>>>16&255,i[n++]=u>>>8&255,i[n++]=u&255;let d=a/4294967296*1e4&268435455;i[n++]=d>>>8&255,i[n++]=d&255,i[n++]=d>>>24&15|16,i[n++]=d>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(let p=0;p<6;++p)i[n+p]=o[p];return e||xy(i)}var _lt,z0e,H0e,V0e,Slt,xlt=b(()=>{"use strict";F0e();vO();H0e=0,V0e=0;Slt=Jsr});function Ksr(t){if(!Sy(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var cH,G0e=b(()=>{"use strict";bO();cH=Ksr});function Qsr(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}function lH(t,e,r){function n(i,o,s,a){if(typeof i=="string"&&(i=Qsr(i)),typeof o=="string"&&(o=cH(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+i.length);if(c.set(o),c.set(i,o.length),c=r(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,s){a=a||0;for(let l=0;l<16;++l)s[a+l]=c[l];return s}return xy(c)}try{n.name=t}catch{}return n.DNS=Xsr,n.URL=Ysr,n}var Xsr,Ysr,j0e=b(()=>{"use strict";vO();G0e();Xsr="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Ysr="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});import Zsr from"crypto";function ear(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),Zsr.createHash("md5").update(t).digest()}var wlt,Alt=b(()=>{"use strict";wlt=ear});var tar,Elt,Tlt=b(()=>{"use strict";j0e();Alt();tar=lH("v3",48,wlt),Elt=tar});function rar(t,e,r){t=t||{};let n=t.random||(t.rng||yO)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return xy(n)}var Rlt,Ilt=b(()=>{"use strict";F0e();vO();Rlt=rar});import nar from"crypto";function iar(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),nar.createHash("sha1").update(t).digest()}var Clt,Nlt=b(()=>{"use strict";Clt=iar});var oar,Olt,Plt=b(()=>{"use strict";j0e();Nlt();oar=lH("v5",80,Clt),Olt=oar});var klt,Dlt=b(()=>{"use strict";klt="00000000-0000-0000-0000-000000000000"});function sar(t){if(!Sy(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var Mlt,Llt=b(()=>{"use strict";bO();Mlt=sar});var q0e={};Nr(q0e,{NIL:()=>klt,parse:()=>cH,stringify:()=>xy,v1:()=>Slt,v3:()=>Elt,v4:()=>Rlt,v5:()=>Olt,validate:()=>Sy,version:()=>Mlt});var W0e=b(()=>{"use strict";xlt();Tlt();Ilt();Plt();Dlt();Llt();bO();vO();G0e()});var $lt=ze((bii,Blt)=>{"use strict";var aar=(W0e(),Iq(q0e)).v4,car=function(t,e,r,n){if(typeof t!="string")throw new TypeError(t+" must be a string");n=n||{};let i=typeof n.version=="number"?n.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");let o={method:t};if(i===2&&(o.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");o.params=e}if(typeof r>"u"){let s=typeof n.generator=="function"?n.generator:function(){return aar()};o.id=s(o,n)}else i===2&&r===null?n.notificationIdNull&&(o.id=null):o.id=r;return o};Blt.exports=car});var Flt=ze((vii,Ult)=>{"use strict";var lar=(W0e(),Iq(q0e)).v4,uar=$lt(),_O=function(t,e){if(!(this instanceof _O))return new _O(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return lar()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};Ult.exports=_O;_O.prototype.request=function(t,e,r,n){let i=this,o=null,s=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&s)throw new TypeError("JSON-RPC 1.0 does not support batching");if(s||!s&&t&&typeof t=="object"&&typeof e=="function")n=e,o=t;else{typeof r=="function"&&(n=r,r=void 0);let l=typeof n=="function";try{o=uar(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(u){if(l){n(u);return}throw u}if(!l)return o}let c;try{c=JSON.stringify(o,this.options.replacer)}catch(l){n(l);return}return this.callServer(c,function(l,u){i._parseResponse(l,u,n)}),o};_O.prototype._parseResponse=function(t,e,r){if(t){r(t);return}if(!e){r();return}let n;try{n=JSON.parse(e,this.options.reviver)}catch(i){r(i);return}if(r.length===3)if(Array.isArray(n)){let i=function(s){return typeof s.error<"u"},o=function(s){return!i(s)};r(null,n.filter(i),n.filter(o));return}else{r(null,n.error,n.result);return}r(null,n)}});var Hlt=ze((_ii,J0e)=>{"use strict";var dar=Object.prototype.hasOwnProperty,Va="~";function SO(){}Object.create&&(SO.prototype=Object.create(null),new SO().__proto__||(Va=!1));function par(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function zlt(t,e,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var o=new par(r,n||t,i),s=Va?Va+e:e;return t._events[s]?t._events[s].fn?t._events[s]=[t._events[s],o]:t._events[s].push(o):(t._events[s]=o,t._eventsCount++),t}function uH(t,e){--t._eventsCount===0?t._events=new SO:delete t._events[e]}function fa(){this._events=new SO,this._eventsCount=0}fa.prototype.eventNames=function(){var e=[],r,n;if(this._eventsCount===0)return e;for(n in r=this._events)dar.call(r,n)&&e.push(Va?n.slice(1):n);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(r)):e};fa.prototype.listeners=function(e){var r=Va?Va+e:e,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s};fa.prototype.listenerCount=function(e){var r=Va?Va+e:e,n=this._events[r];return n?n.fn?1:n.length:0};fa.prototype.emit=function(e,r,n,i,o,s){var a=Va?Va+e:e;if(!this._events[a])return!1;var c=this._events[a],l=arguments.length,u,d;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),l){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,r),!0;case 3:return c.fn.call(c.context,r,n),!0;case 4:return c.fn.call(c.context,r,n,i),!0;case 5:return c.fn.call(c.context,r,n,i,o),!0;case 6:return c.fn.call(c.context,r,n,i,o,s),!0}for(d=1,u=new Array(l-1);d<l;d++)u[d-1]=arguments[d];c.fn.apply(c.context,u)}else{var p=c.length,f;for(d=0;d<p;d++)switch(c[d].once&&this.removeListener(e,c[d].fn,void 0,!0),l){case 1:c[d].fn.call(c[d].context);break;case 2:c[d].fn.call(c[d].context,r);break;case 3:c[d].fn.call(c[d].context,r,n);break;case 4:c[d].fn.call(c[d].context,r,n,i);break;default:if(!u)for(f=1,u=new Array(l-1);f<l;f++)u[f-1]=arguments[f];c[d].fn.apply(c[d].context,u)}}return!0};fa.prototype.on=function(e,r,n){return zlt(this,e,r,n,!1)};fa.prototype.once=function(e,r,n){return zlt(this,e,r,n,!0)};fa.prototype.removeListener=function(e,r,n,i){var o=Va?Va+e:e;if(!this._events[o])return this;if(!r)return uH(this,o),this;var s=this._events[o];if(s.fn)s.fn===r&&(!i||s.once)&&(!n||s.context===n)&&uH(this,o);else{for(var a=0,c=[],l=s.length;a<l;a++)(s[a].fn!==r||i&&!s[a].once||n&&s[a].context!==n)&&c.push(s[a]);c.length?this._events[o]=c.length===1?c[0]:c:uH(this,o)}return this};fa.prototype.removeAllListeners=function(e){var r;return e?(r=Va?Va+e:e,this._events[r]&&uH(this,r)):(this._events=new SO,this._eventsCount=0),this};fa.prototype.off=fa.prototype.removeListener;fa.prototype.addListener=fa.prototype.on;fa.prefixed=Va;fa.EventEmitter=fa;typeof J0e<"u"&&(J0e.exports=fa)});function xlr(){return Xut++,`evt_${Date.now()}_${Xut.toString(36)}_${Math.random().toString(36).slice(2,6)}`}function Yut(t){let e={eventId:xlr(),timestamp:new Date().toISOString(),...t};return kH.push(e),kH.length>Qut&&kH.splice(0,kH.length-Qut),e.severity==="critical"?console.error(`[AUDIT:CRITICAL] ${e.action} \u2014 ${e.description}`,e.metadata?JSON.stringify(e.metadata):""):e.severity==="error"&&console.error(`[AUDIT:ERROR] ${e.action} \u2014 ${e.description}`),e}function CO(t,e,r,n,i){return Yut({category:"TRADE",severity:"info",action:t,description:e,agentId:r,roundId:n,metadata:i,source:"trading-service"})}function NO(t,e,r,n,i){return Yut({category:"TRADE",severity:"error",action:"trade_failed",description:t,agentId:e,roundId:n,metadata:{...i,error:r instanceof Error?r.message:r,stack:r instanceof Error?r.stack:void 0},source:"trading-service"})}var Qut,Vsi,kH,Xut,DH=b(()=>{"use strict";Ci();Qut=5e3,Vsi=process.env.AGENT_STATE_TABLE||"moltapp-agent-state",kH=[],Xut=0});function Elr(){return Zut++,`rcv_${Date.now()}_${Zut.toString(36)}_${Math.random().toString(36).slice(2,6)}`}function edt(t){let e=Elr(),r=new Date().toISOString(),n=Tlr(t.errorCode),i=n?OO.maxAttempts:0,o={recoveryId:e,agentId:t.agentId,side:t.side,symbol:t.symbol,quantity:t.quantity,error:t.error,errorCode:t.errorCode,attempts:1,maxAttempts:i,firstAttemptAt:r,lastAttemptAt:r,nextRetryAt:n?Rlr(1):null,status:n?"pending":"dead_letter",txSignature:t.txSignature,roundId:t.roundId,metadata:t.metadata};if(MH.set(e,o),MH.size>Alr){let s=MH.keys().next().value;s&&MH.delete(s)}return Ilr(e,"registered",n?"queued_for_retry":"dead_lettered",`${t.side} ${t.quantity} ${t.symbol}: ${t.error}`),NO(`Trade failed: ${t.side} ${t.quantity} ${t.symbol}`,t.agentId,t.error,t.roundId,{recoveryId:e,errorCode:t.errorCode,retryable:n,maxAttempts:i}),o}function Tlr(t){let e=new Set(["jupiter_order_failed","jupiter_execute_failed","rpc_timeout","rpc_error","network_error","rate_limited","transaction_timeout","slot_skipped"]),r=new Set(["insufficient_usdc_balance","insufficient_sol_for_fees","insufficient_stock_balance","stock_not_found","wallet_not_found","invalid_amount","position_limit_exceeded","daily_loss_limit"]);return e.has(t)?!0:!r.has(t)}function Rlr(t){let e=Math.min(OO.initialDelayMs*Math.pow(OO.backoffMultiplier,t-1),OO.maxDelayMs),r=OO.jitter?Math.random()*e*.3:0,n=e+r;return new Date(Date.now()+n).toISOString()}function Ilr(t,e,r,n){LH.push({recoveryId:t,action:e,timestamp:new Date().toISOString(),result:r,details:n}),LH.length>1e3&&LH.splice(0,LH.length-1e3)}var wlr,Alr,Wsi,MH,LH,OO,Zut,tdt=b(()=>{"use strict";DH();wlr={maxAttempts:3,initialDelayMs:2e3,backoffMultiplier:2,maxDelayMs:3e4,jitter:!0},Alr=500,Wsi=300*1e3,MH=new Map,LH=[],OO={...wlr},Zut=0});var vgt=ze((z1i,bgt)=>{"use strict";var{Duplex:bgr}=yt("stream");function ggt(t){t.emit("close")}function vgr(){!this.destroyed&&this._writableState.finished&&this.destroy()}function ygt(t){this.removeListener("error",ygt),this.destroy(),this.listenerCount("error")===0&&this.emit("error",t)}function _gr(t,e){let r=!0,n=new bgr({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return t.on("message",function(o,s){let a=!s&&n._readableState.objectMode?o.toString():o;n.push(a)||t.pause()}),t.once("error",function(o){n.destroyed||(r=!1,n.destroy(o))}),t.once("close",function(){n.destroyed||n.push(null)}),n._destroy=function(i,o){if(t.readyState===t.CLOSED){o(i),process.nextTick(ggt,n);return}let s=!1;t.once("error",function(c){s=!0,o(c)}),t.once("close",function(){s||o(i),process.nextTick(ggt,n)}),r&&t.terminate()},n._final=function(i){if(t.readyState===t.CONNECTING){t.once("open",function(){n._final(i)});return}t._socket!==null&&(t._socket._writableState.finished?(i(),n._readableState.endEmitted&&n.destroy()):(t._socket.once("finish",function(){i()}),t.close()))},n._read=function(){t.isPaused&&t.resume()},n._write=function(i,o,s){if(t.readyState===t.CONNECTING){t.once("open",function(){n._write(i,o,s)});return}t.send(i,s)},n.on("end",vgr),n.on("error",ygt),n}bgt.exports=_gr});var Yy=ze((H1i,_gt)=>{"use strict";_gt.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var _9=ze((V1i,vG)=>{"use strict";var{EMPTY_BUFFER:Sgr}=Yy(),Kbe=Buffer[Symbol.species];function xgr(t,e){if(t.length===0)return Sgr;if(t.length===1)return t[0];let r=Buffer.allocUnsafe(e),n=0;for(let i=0;i<t.length;i++){let o=t[i];r.set(o,n),n+=o.length}return n<e?new Kbe(r.buffer,r.byteOffset,n):r}function Sgt(t,e,r,n,i){for(let o=0;o<i;o++)r[n+o]=t[o]^e[o&3]}function xgt(t,e){for(let r=0;r<t.length;r++)t[r]^=e[r&3]}function wgr(t){return t.length===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.length)}function Qbe(t){if(Qbe.readOnly=!0,Buffer.isBuffer(t))return t;let e;return t instanceof ArrayBuffer?e=new Kbe(t):ArrayBuffer.isView(t)?e=new Kbe(t.buffer,t.byteOffset,t.byteLength):(e=Buffer.from(t),Qbe.readOnly=!1),e}vG.exports={concat:xgr,mask:Sgt,toArrayBuffer:wgr,toBuffer:Qbe,unmask:xgt};if(!process.env.WS_NO_BUFFER_UTIL)try{let t=Bpe();vG.exports.mask=function(e,r,n,i,o){o<48?Sgt(e,r,n,i,o):t.mask(e,r,n,i,o)},vG.exports.unmask=function(e,r){e.length<32?xgt(e,r):t.unmask(e,r)}}catch{}});var Egt=ze((G1i,Agt)=>{"use strict";var wgt=Symbol("kDone"),Xbe=Symbol("kRun"),Ybe=class{constructor(e){this[wgt]=()=>{this.pending--,this[Xbe]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[Xbe]()}[Xbe](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[wgt])}}};Agt.exports=Ybe});var w9=ze((j1i,Cgt)=>{"use strict";var S9=yt("zlib"),Tgt=_9(),Agr=Egt(),{kStatusCode:Rgt}=Yy(),Egr=Buffer[Symbol.species],Tgr=Buffer.from([0,0,255,255]),xG=Symbol("permessage-deflate"),Mg=Symbol("total-length"),x9=Symbol("callback"),Zy=Symbol("buffers"),SG=Symbol("error"),_G,Zbe=class{constructor(e,r,n){if(this._maxPayload=n|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!r,this._deflate=null,this._inflate=null,this.params=null,!_G){let i=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;_G=new Agr(i)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[x9];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let r=this._options,n=e.find(i=>!(r.serverNoContextTakeover===!1&&i.server_no_context_takeover||i.server_max_window_bits&&(r.serverMaxWindowBits===!1||typeof r.serverMaxWindowBits=="number"&&r.serverMaxWindowBits>i.server_max_window_bits)||typeof r.clientMaxWindowBits=="number"&&!i.client_max_window_bits));if(!n)throw new Error("None of the extension offers can be accepted");return r.serverNoContextTakeover&&(n.server_no_context_takeover=!0),r.clientNoContextTakeover&&(n.client_no_context_takeover=!0),typeof r.serverMaxWindowBits=="number"&&(n.server_max_window_bits=r.serverMaxWindowBits),typeof r.clientMaxWindowBits=="number"?n.client_max_window_bits=r.clientMaxWindowBits:(n.client_max_window_bits===!0||r.clientMaxWindowBits===!1)&&delete n.client_max_window_bits,n}acceptAsClient(e){let r=e[0];if(this._options.clientNoContextTakeover===!1&&r.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!r.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(r.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&r.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return r}normalizeParams(e){return e.forEach(r=>{Object.keys(r).forEach(n=>{let i=r[n];if(i.length>1)throw new Error(`Parameter "${n}" must have only a single value`);if(i=i[0],n==="client_max_window_bits"){if(i!==!0){let o=+i;if(!Number.isInteger(o)||o<8||o>15)throw new TypeError(`Invalid value for parameter "${n}": ${i}`);i=o}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${n}": ${i}`)}else if(n==="server_max_window_bits"){let o=+i;if(!Number.isInteger(o)||o<8||o>15)throw new TypeError(`Invalid value for parameter "${n}": ${i}`);i=o}else if(n==="client_no_context_takeover"||n==="server_no_context_takeover"){if(i!==!0)throw new TypeError(`Invalid value for parameter "${n}": ${i}`)}else throw new Error(`Unknown parameter "${n}"`);r[n]=i})}),e}decompress(e,r,n){_G.add(i=>{this._decompress(e,r,(o,s)=>{i(),n(o,s)})})}compress(e,r,n){_G.add(i=>{this._compress(e,r,(o,s)=>{i(),n(o,s)})})}_decompress(e,r,n){let i=this._isServer?"client":"server";if(!this._inflate){let o=`${i}_max_window_bits`,s=typeof this.params[o]!="number"?S9.Z_DEFAULT_WINDOWBITS:this.params[o];this._inflate=S9.createInflateRaw({...this._options.zlibInflateOptions,windowBits:s}),this._inflate[xG]=this,this._inflate[Mg]=0,this._inflate[Zy]=[],this._inflate.on("error",Igr),this._inflate.on("data",Igt)}this._inflate[x9]=n,this._inflate.write(e),r&&this._inflate.write(Tgr),this._inflate.flush(()=>{let o=this._inflate[SG];if(o){this._inflate.close(),this._inflate=null,n(o);return}let s=Tgt.concat(this._inflate[Zy],this._inflate[Mg]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[Mg]=0,this._inflate[Zy]=[],r&&this.params[`${i}_no_context_takeover`]&&this._inflate.reset()),n(null,s)})}_compress(e,r,n){let i=this._isServer?"server":"client";if(!this._deflate){let o=`${i}_max_window_bits`,s=typeof this.params[o]!="number"?S9.Z_DEFAULT_WINDOWBITS:this.params[o];this._deflate=S9.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:s}),this._deflate[Mg]=0,this._deflate[Zy]=[],this._deflate.on("data",Rgr)}this._deflate[x9]=n,this._deflate.write(e),this._deflate.flush(S9.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let o=Tgt.concat(this._deflate[Zy],this._deflate[Mg]);r&&(o=new Egr(o.buffer,o.byteOffset,o.length-4)),this._deflate[x9]=null,this._deflate[Mg]=0,this._deflate[Zy]=[],r&&this.params[`${i}_no_context_takeover`]&&this._deflate.reset(),n(null,o)})}};Cgt.exports=Zbe;function Rgr(t){this[Zy].push(t),this[Mg]+=t.length}function Igt(t){if(this[Mg]+=t.length,this[xG]._maxPayload<1||this[Mg]<=this[xG]._maxPayload){this[Zy].push(t);return}this[SG]=new RangeError("Max payload size exceeded"),this[SG].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[SG][Rgt]=1009,this.removeListener("data",Igt),this.reset()}function Igr(t){this[xG]._inflate=null,t[Rgt]=1007,this[x9](t)}});var A9=ze((q1i,wG)=>{"use strict";var{isUtf8:Ngt}=yt("buffer"),Cgr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function Ngr(t){return t>=1e3&&t<=1014&&t!==1004&&t!==1005&&t!==1006||t>=3e3&&t<=4999}function eve(t){let e=t.length,r=0;for(;r<e;)if((t[r]&128)===0)r++;else if((t[r]&224)===192){if(r+1===e||(t[r+1]&192)!==128||(t[r]&254)===192)return!1;r+=2}else if((t[r]&240)===224){if(r+2>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||t[r]===224&&(t[r+1]&224)===128||t[r]===237&&(t[r+1]&224)===160)return!1;r+=3}else if((t[r]&248)===240){if(r+3>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||(t[r+3]&192)!==128||t[r]===240&&(t[r+1]&240)===128||t[r]===244&&t[r+1]>143||t[r]>244)return!1;r+=4}else return!1;return!0}wG.exports={isValidStatusCode:Ngr,isValidUTF8:eve,tokenChars:Cgr};if(Ngt)wG.exports.isValidUTF8=function(t){return t.length<24?eve(t):Ngt(t)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let t=Gpe();wG.exports.isValidUTF8=function(e){return e.length<32?eve(e):t(e)}}catch{}});var ove=ze((W1i,Bgt)=>{"use strict";var{Writable:Ogr}=yt("stream"),Ogt=w9(),{BINARY_TYPES:Pgr,EMPTY_BUFFER:Pgt,kStatusCode:kgr,kWebSocket:Dgr}=Yy(),{concat:tve,toArrayBuffer:Mgr,unmask:Lgr}=_9(),{isValidStatusCode:Bgr,isValidUTF8:kgt}=A9(),AG=Buffer[Symbol.species],xd=0,Dgt=1,Mgt=2,Lgt=3,rve=4,nve=5,EG=6,ive=class extends Ogr{constructor(e={}){super(),this._allowSynchronousEvents=e.allowSynchronousEvents!==void 0?e.allowSynchronousEvents:!0,this._binaryType=e.binaryType||Pgr[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[Dgr]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=xd}_write(e,r,n){if(this._opcode===8&&this._state==xd)return n();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(n)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let n=this._buffers[0];return this._buffers[0]=new AG(n.buffer,n.byteOffset+e,n.length-e),new AG(n.buffer,n.byteOffset,e)}let r=Buffer.allocUnsafe(e);do{let n=this._buffers[0],i=r.length-e;e>=n.length?r.set(this._buffers.shift(),i):(r.set(new Uint8Array(n.buffer,n.byteOffset,e),i),this._buffers[0]=new AG(n.buffer,n.byteOffset+e,n.length-e)),e-=n.length}while(e>0);return r}startLoop(e){this._loop=!0;do switch(this._state){case xd:this.getInfo(e);break;case Dgt:this.getPayloadLength16(e);break;case Mgt:this.getPayloadLength64(e);break;case Lgt:this.getMask();break;case rve:this.getData(e);break;case nve:case EG:this._loop=!1;return}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2){this._loop=!1;return}let r=this.consume(2);if((r[0]&48)!==0){let i=this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");e(i);return}let n=(r[0]&64)===64;if(n&&!this._extensions[Ogt.extensionName]){let i=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(i);return}if(this._fin=(r[0]&128)===128,this._opcode=r[0]&15,this._payloadLength=r[1]&127,this._opcode===0){if(n){let i=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(i);return}if(!this._fragmented){let i=this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");e(i);return}this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented){let i=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(i);return}this._compressed=n}else if(this._opcode>7&&this._opcode<11){if(!this._fin){let i=this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");e(i);return}if(n){let i=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(i);return}if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1){let i=this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");e(i);return}}else{let i=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(i);return}if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(r[1]&128)===128,this._isServer){if(!this._masked){let i=this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK");e(i);return}}else if(this._masked){let i=this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");e(i);return}this._payloadLength===126?this._state=Dgt:this._payloadLength===127?this._state=Mgt:this.haveLength(e)}getPayloadLength16(e){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e)}getPayloadLength64(e){if(this._bufferedBytes<8){this._loop=!1;return}let r=this.consume(8),n=r.readUInt32BE(0);if(n>Math.pow(2,21)-1){let i=this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH");e(i);return}this._payloadLength=n*Math.pow(2,32)+r.readUInt32BE(4),this.haveLength(e)}haveLength(e){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){let r=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");e(r);return}this._masked?this._state=Lgt:this._state=rve}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=rve}getData(e){let r=Pgt;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}r=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!==0&&Lgr(r,this._mask)}if(this._opcode>7){this.controlMessage(r,e);return}if(this._compressed){this._state=nve,this.decompress(r,e);return}r.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(r)),this.dataMessage(e)}decompress(e,r){this._extensions[Ogt.extensionName].decompress(e,this._fin,(i,o)=>{if(i)return r(i);if(o.length){if(this._messageLength+=o.length,this._messageLength>this._maxPayload&&this._maxPayload>0){let s=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");r(s);return}this._fragments.push(o)}this.dataMessage(r),this._state===xd&&this.startLoop(r)})}dataMessage(e){if(!this._fin){this._state=xd;return}let r=this._messageLength,n=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let i;this._binaryType==="nodebuffer"?i=tve(n,r):this._binaryType==="arraybuffer"?i=Mgr(tve(n,r)):i=n,this._allowSynchronousEvents?(this.emit("message",i,!0),this._state=xd):(this._state=EG,setImmediate(()=>{this.emit("message",i,!0),this._state=xd,this.startLoop(e)}))}else{let i=tve(n,r);if(!this._skipUTF8Validation&&!kgt(i)){let o=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");e(o);return}this._state===nve||this._allowSynchronousEvents?(this.emit("message",i,!1),this._state=xd):(this._state=EG,setImmediate(()=>{this.emit("message",i,!1),this._state=xd,this.startLoop(e)}))}}controlMessage(e,r){if(this._opcode===8){if(e.length===0)this._loop=!1,this.emit("conclude",1005,Pgt),this.end();else{let n=e.readUInt16BE(0);if(!Bgr(n)){let o=this.createError(RangeError,`invalid status code ${n}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");r(o);return}let i=new AG(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!kgt(i)){let o=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");r(o);return}this._loop=!1,this.emit("conclude",n,i),this.end()}this._state=xd;return}this._allowSynchronousEvents?(this.emit(this._opcode===9?"ping":"pong",e),this._state=xd):(this._state=EG,setImmediate(()=>{this.emit(this._opcode===9?"ping":"pong",e),this._state=xd,this.startLoop(r)}))}createError(e,r,n,i,o){this._loop=!1,this._errored=!0;let s=new e(n?`Invalid WebSocket frame: ${r}`:r);return Error.captureStackTrace(s,this.createError),s.code=o,s[kgr]=i,s}};Bgt.exports=ive});var ave=ze((K1i,Fgt)=>{"use strict";var{Duplex:J1i}=yt("stream"),{randomFillSync:$gr}=yt("crypto"),$gt=w9(),{EMPTY_BUFFER:Ugr}=Yy(),{isValidStatusCode:Fgr}=A9(),{mask:Ugt,toBuffer:E4}=_9(),$p=Symbol("kByteLength"),zgr=Buffer.alloc(4),TG=8*1024,w2,T4=TG,sve=class t{constructor(e,r,n){this._extensions=r||{},n&&(this._generateMask=n,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,r){let n,i=!1,o=2,s=!1;r.mask&&(n=r.maskBuffer||zgr,r.generateMask?r.generateMask(n):(T4===TG&&(w2===void 0&&(w2=Buffer.alloc(TG)),$gr(w2,0,TG),T4=0),n[0]=w2[T4++],n[1]=w2[T4++],n[2]=w2[T4++],n[3]=w2[T4++]),s=(n[0]|n[1]|n[2]|n[3])===0,o=6);let a;typeof e=="string"?(!r.mask||s)&&r[$p]!==void 0?a=r[$p]:(e=Buffer.from(e),a=e.length):(a=e.length,i=r.mask&&r.readOnly&&!s);let c=a;a>=65536?(o+=8,c=127):a>125&&(o+=2,c=126);let l=Buffer.allocUnsafe(i?a+o:o);return l[0]=r.fin?r.opcode|128:r.opcode,r.rsv1&&(l[0]|=64),l[1]=c,c===126?l.writeUInt16BE(a,2):c===127&&(l[2]=l[3]=0,l.writeUIntBE(a,4,6)),r.mask?(l[1]|=128,l[o-4]=n[0],l[o-3]=n[1],l[o-2]=n[2],l[o-1]=n[3],s?[l,e]:i?(Ugt(e,n,l,o,a),[l]):(Ugt(e,n,e,0,a),[l,e])):[l,e]}close(e,r,n,i){let o;if(e===void 0)o=Ugr;else{if(typeof e!="number"||!Fgr(e))throw new TypeError("First argument must be a valid error code number");if(r===void 0||!r.length)o=Buffer.allocUnsafe(2),o.writeUInt16BE(e,0);else{let a=Buffer.byteLength(r);if(a>123)throw new RangeError("The message must not be greater than 123 bytes");o=Buffer.allocUnsafe(2+a),o.writeUInt16BE(e,0),typeof r=="string"?o.write(r,2):o.set(r,2)}}let s={[$p]:o.length,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,o,!1,s,i]):this.sendFrame(t.frame(o,s),i)}ping(e,r,n){let i,o;if(typeof e=="string"?(i=Buffer.byteLength(e),o=!1):(e=E4(e),i=e.length,o=E4.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let s={[$p]:i,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:9,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,s,n]):this.sendFrame(t.frame(e,s),n)}pong(e,r,n){let i,o;if(typeof e=="string"?(i=Buffer.byteLength(e),o=!1):(e=E4(e),i=e.length,o=E4.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let s={[$p]:i,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:10,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,s,n]):this.sendFrame(t.frame(e,s),n)}send(e,r,n){let i=this._extensions[$gt.extensionName],o=r.binary?2:1,s=r.compress,a,c;if(typeof e=="string"?(a=Buffer.byteLength(e),c=!1):(e=E4(e),a=e.length,c=E4.readOnly),this._firstFragment?(this._firstFragment=!1,s&&i&&i.params[i._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(s=a>=i._threshold),this._compress=s):(s=!1,o=0),r.fin&&(this._firstFragment=!0),i){let l={[$p]:a,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:c,rsv1:s};this._deflating?this.enqueue([this.dispatch,e,this._compress,l,n]):this.dispatch(e,this._compress,l,n)}else this.sendFrame(t.frame(e,{[$p]:a,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:c,rsv1:!1}),n)}dispatch(e,r,n,i){if(!r){this.sendFrame(t.frame(e,n),i);return}let o=this._extensions[$gt.extensionName];this._bufferedBytes+=n[$p],this._deflating=!0,o.compress(e,n.fin,(s,a)=>{if(this._socket.destroyed){let c=new Error("The socket was closed while data was being compressed");typeof i=="function"&&i(c);for(let l=0;l<this._queue.length;l++){let u=this._queue[l],d=u[u.length-1];typeof d=="function"&&d(c)}return}this._bufferedBytes-=n[$p],this._deflating=!1,n.readOnly=!1,this.sendFrame(t.frame(a,n),i),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][$p],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][$p],this._queue.push(e)}sendFrame(e,r){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],r),this._socket.uncork()):this._socket.write(e[0],r)}};Fgt.exports=sve});var Kgt=ze((Q1i,Jgt)=>{"use strict";var{kForOnEventAttribute:E9,kListener:cve}=Yy(),zgt=Symbol("kCode"),Hgt=Symbol("kData"),Vgt=Symbol("kError"),Ggt=Symbol("kMessage"),jgt=Symbol("kReason"),R4=Symbol("kTarget"),qgt=Symbol("kType"),Wgt=Symbol("kWasClean"),Lg=class{constructor(e){this[R4]=null,this[qgt]=e}get target(){return this[R4]}get type(){return this[qgt]}};Object.defineProperty(Lg.prototype,"target",{enumerable:!0});Object.defineProperty(Lg.prototype,"type",{enumerable:!0});var A2=class extends Lg{constructor(e,r={}){super(e),this[zgt]=r.code===void 0?0:r.code,this[jgt]=r.reason===void 0?"":r.reason,this[Wgt]=r.wasClean===void 0?!1:r.wasClean}get code(){return this[zgt]}get reason(){return this[jgt]}get wasClean(){return this[Wgt]}};Object.defineProperty(A2.prototype,"code",{enumerable:!0});Object.defineProperty(A2.prototype,"reason",{enumerable:!0});Object.defineProperty(A2.prototype,"wasClean",{enumerable:!0});var I4=class extends Lg{constructor(e,r={}){super(e),this[Vgt]=r.error===void 0?null:r.error,this[Ggt]=r.message===void 0?"":r.message}get error(){return this[Vgt]}get message(){return this[Ggt]}};Object.defineProperty(I4.prototype,"error",{enumerable:!0});Object.defineProperty(I4.prototype,"message",{enumerable:!0});var T9=class extends Lg{constructor(e,r={}){super(e),this[Hgt]=r.data===void 0?null:r.data}get data(){return this[Hgt]}};Object.defineProperty(T9.prototype,"data",{enumerable:!0});var Hgr={addEventListener(t,e,r={}){for(let i of this.listeners(t))if(!r[E9]&&i[cve]===e&&!i[E9])return;let n;if(t==="message")n=function(o,s){let a=new T9("message",{data:s?o:o.toString()});a[R4]=this,RG(e,this,a)};else if(t==="close")n=function(o,s){let a=new A2("close",{code:o,reason:s.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});a[R4]=this,RG(e,this,a)};else if(t==="error")n=function(o){let s=new I4("error",{error:o,message:o.message});s[R4]=this,RG(e,this,s)};else if(t==="open")n=function(){let o=new Lg("open");o[R4]=this,RG(e,this,o)};else return;n[E9]=!!r[E9],n[cve]=e,r.once?this.once(t,n):this.on(t,n)},removeEventListener(t,e){for(let r of this.listeners(t))if(r[cve]===e&&!r[E9]){this.removeListener(t,r);break}}};Jgt.exports={CloseEvent:A2,ErrorEvent:I4,Event:Lg,EventTarget:Hgr,MessageEvent:T9};function RG(t,e,r){typeof t=="object"&&t.handleEvent?t.handleEvent.call(t,r):t.call(e,r)}});var lve=ze((X1i,Qgt)=>{"use strict";var{tokenChars:R9}=A9();function dm(t,e,r){t[e]===void 0?t[e]=[r]:t[e].push(r)}function Vgr(t){let e=Object.create(null),r=Object.create(null),n=!1,i=!1,o=!1,s,a,c=-1,l=-1,u=-1,d=0;for(;d<t.length;d++)if(l=t.charCodeAt(d),s===void 0)if(u===-1&&R9[l]===1)c===-1&&(c=d);else if(d!==0&&(l===32||l===9))u===-1&&c!==-1&&(u=d);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d);let f=t.slice(c,u);l===44?(dm(e,f,r),r=Object.create(null)):s=f,c=u=-1}else throw new SyntaxError(`Unexpected character at index ${d}`);else if(a===void 0)if(u===-1&&R9[l]===1)c===-1&&(c=d);else if(l===32||l===9)u===-1&&c!==-1&&(u=d);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d),dm(r,t.slice(c,u),!0),l===44&&(dm(e,s,r),r=Object.create(null),s=void 0),c=u=-1}else if(l===61&&c!==-1&&u===-1)a=t.slice(c,d),c=u=-1;else throw new SyntaxError(`Unexpected character at index ${d}`);else if(i){if(R9[l]!==1)throw new SyntaxError(`Unexpected character at index ${d}`);c===-1?c=d:n||(n=!0),i=!1}else if(o)if(R9[l]===1)c===-1&&(c=d);else if(l===34&&c!==-1)o=!1,u=d;else if(l===92)i=!0;else throw new SyntaxError(`Unexpected character at index ${d}`);else if(l===34&&t.charCodeAt(d-1)===61)o=!0;else if(u===-1&&R9[l]===1)c===-1&&(c=d);else if(c!==-1&&(l===32||l===9))u===-1&&(u=d);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d);let f=t.slice(c,u);n&&(f=f.replace(/\\/g,""),n=!1),dm(r,a,f),l===44&&(dm(e,s,r),r=Object.create(null),s=void 0),a=void 0,c=u=-1}else throw new SyntaxError(`Unexpected character at index ${d}`);if(c===-1||o||l===32||l===9)throw new SyntaxError("Unexpected end of input");u===-1&&(u=d);let p=t.slice(c,u);return s===void 0?dm(e,p,r):(a===void 0?dm(r,p,!0):n?dm(r,a,p.replace(/\\/g,"")):dm(r,a,p),dm(e,s,r)),e}function Ggr(t){return Object.keys(t).map(e=>{let r=t[e];return Array.isArray(r)||(r=[r]),r.map(n=>[e].concat(Object.keys(n).map(i=>{let o=n[i];return Array.isArray(o)||(o=[o]),o.map(s=>s===!0?i:`${i}=${s}`).join("; ")})).join("; ")).join(", ")}).join(", ")}Qgt.exports={format:Ggr,parse:Vgr}});var mve=ze((eyi,a0t)=>{"use strict";var jgr=yt("events"),qgr=yt("https"),Wgr=yt("http"),Zgt=yt("net"),Jgr=yt("tls"),{randomBytes:Kgr,createHash:Qgr}=yt("crypto"),{Duplex:Y1i,Readable:Z1i}=yt("stream"),{URL:uve}=yt("url"),eb=w9(),Xgr=ove(),Ygr=ave(),{BINARY_TYPES:Xgt,EMPTY_BUFFER:IG,GUID:Zgr,kForOnEventAttribute:dve,kListener:e0r,kStatusCode:t0r,kWebSocket:_a,NOOP:e0t}=Yy(),{EventTarget:{addEventListener:r0r,removeEventListener:n0r}}=Kgt(),{format:i0r,parse:o0r}=lve(),{toBuffer:s0r}=_9(),a0r=30*1e3,t0t=Symbol("kAborted"),pve=[8,13],Bg=["CONNECTING","OPEN","CLOSING","CLOSED"],c0r=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,po=class t extends jgr{constructor(e,r,n){super(),this._binaryType=Xgt[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=IG,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=t.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,r===void 0?r=[]:Array.isArray(r)||(typeof r=="object"&&r!==null?(n=r,r=[]):r=[r]),r0t(this,e,r,n)):(this._autoPong=n.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){Xgt.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,r,n){let i=new Xgr({allowSynchronousEvents:n.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:n.maxPayload,skipUTF8Validation:n.skipUTF8Validation});this._sender=new Ygr(e,this._extensions,n.generateMask),this._receiver=i,this._socket=e,i[_a]=this,e[_a]=this,i.on("conclude",d0r),i.on("drain",p0r),i.on("error",f0r),i.on("message",m0r),i.on("ping",h0r),i.on("pong",g0r),e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),r.length>0&&e.unshift(r),e.on("close",i0t),e.on("data",NG),e.on("end",o0t),e.on("error",s0t),this._readyState=t.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=t.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[eb.extensionName]&&this._extensions[eb.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=t.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,r){if(this.readyState!==t.CLOSED){if(this.readyState===t.CONNECTING){Ll(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===t.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=t.CLOSING,this._sender.close(e,r,!this._isServer,n=>{n||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),a0r)}}pause(){this.readyState===t.CONNECTING||this.readyState===t.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,r,n){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(n=e,e=r=void 0):typeof r=="function"&&(n=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){fve(this,e,n);return}r===void 0&&(r=!this._isServer),this._sender.ping(e||IG,r,n)}pong(e,r,n){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(n=e,e=r=void 0):typeof r=="function"&&(n=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){fve(this,e,n);return}r===void 0&&(r=!this._isServer),this._sender.pong(e||IG,r,n)}resume(){this.readyState===t.CONNECTING||this.readyState===t.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,r,n){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof r=="function"&&(n=r,r={}),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){fve(this,e,n);return}let i={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...r};this._extensions[eb.extensionName]||(i.compress=!1),this._sender.send(e||IG,i,n)}terminate(){if(this.readyState!==t.CLOSED){if(this.readyState===t.CONNECTING){Ll(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=t.CLOSING,this._socket.destroy())}}};Object.defineProperty(po,"CONNECTING",{enumerable:!0,value:Bg.indexOf("CONNECTING")});Object.defineProperty(po.prototype,"CONNECTING",{enumerable:!0,value:Bg.indexOf("CONNECTING")});Object.defineProperty(po,"OPEN",{enumerable:!0,value:Bg.indexOf("OPEN")});Object.defineProperty(po.prototype,"OPEN",{enumerable:!0,value:Bg.indexOf("OPEN")});Object.defineProperty(po,"CLOSING",{enumerable:!0,value:Bg.indexOf("CLOSING")});Object.defineProperty(po.prototype,"CLOSING",{enumerable:!0,value:Bg.indexOf("CLOSING")});Object.defineProperty(po,"CLOSED",{enumerable:!0,value:Bg.indexOf("CLOSED")});Object.defineProperty(po.prototype,"CLOSED",{enumerable:!0,value:Bg.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(t=>{Object.defineProperty(po.prototype,t,{enumerable:!0})});["open","error","close","message"].forEach(t=>{Object.defineProperty(po.prototype,`on${t}`,{enumerable:!0,get(){for(let e of this.listeners(t))if(e[dve])return e[e0r];return null},set(e){for(let r of this.listeners(t))if(r[dve]){this.removeListener(t,r);break}typeof e=="function"&&this.addEventListener(t,e,{[dve]:!0})}})});po.prototype.addEventListener=r0r;po.prototype.removeEventListener=n0r;a0t.exports=po;function r0t(t,e,r,n){let i={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:pve[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...n,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(t._autoPong=i.autoPong,!pve.includes(i.protocolVersion))throw new RangeError(`Unsupported protocol version: ${i.protocolVersion} (supported versions: ${pve.join(", ")})`);let o;if(e instanceof uve)o=e;else try{o=new uve(e)}catch{throw new SyntaxError(`Invalid URL: ${e}`)}o.protocol==="http:"?o.protocol="ws:":o.protocol==="https:"&&(o.protocol="wss:"),t._url=o.href;let s=o.protocol==="wss:",a=o.protocol==="ws+unix:",c;if(o.protocol!=="ws:"&&!s&&!a?c=`The URL's protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"`:a&&!o.pathname?c="The URL's pathname is empty":o.hash&&(c="The URL contains a fragment identifier"),c){let m=new SyntaxError(c);if(t._redirects===0)throw m;CG(t,m);return}let l=s?443:80,u=Kgr(16).toString("base64"),d=s?qgr.request:Wgr.request,p=new Set,f;if(i.createConnection=i.createConnection||(s?u0r:l0r),i.defaultPort=i.defaultPort||l,i.port=o.port||l,i.host=o.hostname.startsWith("[")?o.hostname.slice(1,-1):o.hostname,i.headers={...i.headers,"Sec-WebSocket-Version":i.protocolVersion,"Sec-WebSocket-Key":u,Connection:"Upgrade",Upgrade:"websocket"},i.path=o.pathname+o.search,i.timeout=i.handshakeTimeout,i.perMessageDeflate&&(f=new eb(i.perMessageDeflate!==!0?i.perMessageDeflate:{},!1,i.maxPayload),i.headers["Sec-WebSocket-Extensions"]=i0r({[eb.extensionName]:f.offer()})),r.length){for(let m of r){if(typeof m!="string"||!c0r.test(m)||p.has(m))throw new SyntaxError("An invalid or duplicated subprotocol was specified");p.add(m)}i.headers["Sec-WebSocket-Protocol"]=r.join(",")}if(i.origin&&(i.protocolVersion<13?i.headers["Sec-WebSocket-Origin"]=i.origin:i.headers.Origin=i.origin),(o.username||o.password)&&(i.auth=`${o.username}:${o.password}`),a){let m=i.path.split(":");i.socketPath=m[0],i.path=m[1]}let h;if(i.followRedirects){if(t._redirects===0){t._originalIpc=a,t._originalSecure=s,t._originalHostOrSocketPath=a?i.socketPath:o.host;let m=n&&n.headers;if(n={...n,headers:{}},m)for(let[g,y]of Object.entries(m))n.headers[g.toLowerCase()]=y}else if(t.listenerCount("redirect")===0){let m=a?t._originalIpc?i.socketPath===t._originalHostOrSocketPath:!1:t._originalIpc?!1:o.host===t._originalHostOrSocketPath;(!m||t._originalSecure&&!s)&&(delete i.headers.authorization,delete i.headers.cookie,m||delete i.headers.host,i.auth=void 0)}i.auth&&!n.headers.authorization&&(n.headers.authorization="Basic "+Buffer.from(i.auth).toString("base64")),h=t._req=d(i),t._redirects&&t.emit("redirect",t.url,h)}else h=t._req=d(i);i.timeout&&h.on("timeout",()=>{Ll(t,h,"Opening handshake has timed out")}),h.on("error",m=>{h===null||h[t0t]||(h=t._req=null,CG(t,m))}),h.on("response",m=>{let g=m.headers.location,y=m.statusCode;if(g&&i.followRedirects&&y>=300&&y<400){if(++t._redirects>i.maxRedirects){Ll(t,h,"Maximum redirects exceeded");return}h.abort();let v;try{v=new uve(g,e)}catch{let w=new SyntaxError(`Invalid URL: ${g}`);CG(t,w);return}r0t(t,v,r,n)}else t.emit("unexpected-response",h,m)||Ll(t,h,`Unexpected server response: ${m.statusCode}`)}),h.on("upgrade",(m,g,y)=>{if(t.emit("upgrade",m),t.readyState!==po.CONNECTING)return;h=t._req=null;let v=m.headers.upgrade;if(v===void 0||v.toLowerCase()!=="websocket"){Ll(t,g,"Invalid Upgrade header");return}let S=Qgr("sha1").update(u+Zgr).digest("base64");if(m.headers["sec-websocket-accept"]!==S){Ll(t,g,"Invalid Sec-WebSocket-Accept header");return}let w=m.headers["sec-websocket-protocol"],E;if(w!==void 0?p.size?p.has(w)||(E="Server sent an invalid subprotocol"):E="Server sent a subprotocol but none was requested":p.size&&(E="Server sent no subprotocol"),E){Ll(t,g,E);return}w&&(t._protocol=w);let I=m.headers["sec-websocket-extensions"];if(I!==void 0){if(!f){Ll(t,g,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let D;try{D=o0r(I)}catch{Ll(t,g,"Invalid Sec-WebSocket-Extensions header");return}let k=Object.keys(D);if(k.length!==1||k[0]!==eb.extensionName){Ll(t,g,"Server indicated an extension that was not requested");return}try{f.accept(D[eb.extensionName])}catch{Ll(t,g,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[eb.extensionName]=f}t.setSocket(g,y,{allowSynchronousEvents:i.allowSynchronousEvents,generateMask:i.generateMask,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation})}),i.finishRequest?i.finishRequest(h,t):h.end()}function CG(t,e){t._readyState=po.CLOSING,t.emit("error",e),t.emitClose()}function l0r(t){return t.path=t.socketPath,Zgt.connect(t)}function u0r(t){return t.path=void 0,!t.servername&&t.servername!==""&&(t.servername=Zgt.isIP(t.host)?"":t.host),Jgr.connect(t)}function Ll(t,e,r){t._readyState=po.CLOSING;let n=new Error(r);Error.captureStackTrace(n,Ll),e.setHeader?(e[t0t]=!0,e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),process.nextTick(CG,t,n)):(e.destroy(n),e.once("error",t.emit.bind(t,"error")),e.once("close",t.emitClose.bind(t)))}function fve(t,e,r){if(e){let n=s0r(e).length;t._socket?t._sender._bufferedBytes+=n:t._bufferedAmount+=n}if(r){let n=new Error(`WebSocket is not open: readyState ${t.readyState} (${Bg[t.readyState]})`);process.nextTick(r,n)}}function d0r(t,e){let r=this[_a];r._closeFrameReceived=!0,r._closeMessage=e,r._closeCode=t,r._socket[_a]!==void 0&&(r._socket.removeListener("data",NG),process.nextTick(n0t,r._socket),t===1005?r.close():r.close(t,e))}function p0r(){let t=this[_a];t.isPaused||t._socket.resume()}function f0r(t){let e=this[_a];e._socket[_a]!==void 0&&(e._socket.removeListener("data",NG),process.nextTick(n0t,e._socket),e.close(t[t0r])),e.emit("error",t)}function Ygt(){this[_a].emitClose()}function m0r(t,e){this[_a].emit("message",t,e)}function h0r(t){let e=this[_a];e._autoPong&&e.pong(t,!this._isServer,e0t),e.emit("ping",t)}function g0r(t){this[_a].emit("pong",t)}function n0t(t){t.resume()}function i0t(){let t=this[_a];this.removeListener("close",i0t),this.removeListener("data",NG),this.removeListener("end",o0t),t._readyState=po.CLOSING;let e;!this._readableState.endEmitted&&!t._closeFrameReceived&&!t._receiver._writableState.errorEmitted&&(e=t._socket.read())!==null&&t._receiver.write(e),t._receiver.end(),this[_a]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",Ygt),t._receiver.on("finish",Ygt))}function NG(t){this[_a]._receiver.write(t)||this.pause()}function o0t(){let t=this[_a];t._readyState=po.CLOSING,t._receiver.end(),this.end()}function s0t(){let t=this[_a];this.removeListener("error",s0t),this.on("error",e0t),t&&(t._readyState=po.CLOSING,this.destroy())}});var l0t=ze((tyi,c0t)=>{"use strict";var{tokenChars:y0r}=A9();function b0r(t){let e=new Set,r=-1,n=-1,i=0;for(i;i<t.length;i++){let s=t.charCodeAt(i);if(n===-1&&y0r[s]===1)r===-1&&(r=i);else if(i!==0&&(s===32||s===9))n===-1&&r!==-1&&(n=i);else if(s===44){if(r===-1)throw new SyntaxError(`Unexpected character at index ${i}`);n===-1&&(n=i);let a=t.slice(r,n);if(e.has(a))throw new SyntaxError(`The "${a}" subprotocol is duplicated`);e.add(a),r=n=-1}else throw new SyntaxError(`Unexpected character at index ${i}`)}if(r===-1||n!==-1)throw new SyntaxError("Unexpected end of input");let o=t.slice(r,i);if(e.has(o))throw new SyntaxError(`The "${o}" subprotocol is duplicated`);return e.add(o),e}c0t.exports={parse:b0r}});var g0t=ze((nyi,h0t)=>{"use strict";var v0r=yt("events"),OG=yt("http"),{Duplex:ryi}=yt("stream"),{createHash:_0r}=yt("crypto"),u0t=lve(),E2=w9(),S0r=l0t(),x0r=mve(),{GUID:w0r,kWebSocket:A0r}=Yy(),E0r=/^[+/0-9A-Za-z]{22}==$/,d0t=0,p0t=1,m0t=2,hve=class extends v0r{constructor(e,r){if(super(),e={allowSynchronousEvents:!0,autoPong:!0,maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:x0r,...e},e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=OG.createServer((n,i)=>{let o=OG.STATUS_CODES[426];i.writeHead(426,{"Content-Length":o.length,"Content-Type":"text/plain"}),i.end(o)}),this._server.listen(e.port,e.host,e.backlog,r)):e.server&&(this._server=e.server),this._server){let n=this.emit.bind(this,"connection");this._removeListeners=T0r(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(i,o,s)=>{this.handleUpgrade(i,o,s,n)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=d0t}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===m0t){e&&this.once("close",()=>{e(new Error("The server is not running"))}),process.nextTick(I9,this);return}if(e&&this.once("close",e),this._state!==p0t)if(this._state=p0t,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(I9,this):process.nextTick(I9,this);else{let r=this._server;this._removeListeners(),this._removeListeners=this._server=null,r.close(()=>{I9(this)})}}shouldHandle(e){if(this.options.path){let r=e.url.indexOf("?");if((r!==-1?e.url.slice(0,r):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,r,n,i){r.on("error",f0t);let o=e.headers["sec-websocket-key"],s=e.headers.upgrade,a=+e.headers["sec-websocket-version"];if(e.method!=="GET"){T2(this,e,r,405,"Invalid HTTP method");return}if(s===void 0||s.toLowerCase()!=="websocket"){T2(this,e,r,400,"Invalid Upgrade header");return}if(o===void 0||!E0r.test(o)){T2(this,e,r,400,"Missing or invalid Sec-WebSocket-Key header");return}if(a!==8&&a!==13){T2(this,e,r,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(e)){C9(r,400);return}let c=e.headers["sec-websocket-protocol"],l=new Set;if(c!==void 0)try{l=S0r.parse(c)}catch{T2(this,e,r,400,"Invalid Sec-WebSocket-Protocol header");return}let u=e.headers["sec-websocket-extensions"],d={};if(this.options.perMessageDeflate&&u!==void 0){let p=new E2(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let f=u0t.parse(u);f[E2.extensionName]&&(p.accept(f[E2.extensionName]),d[E2.extensionName]=p)}catch{T2(this,e,r,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let p={origin:e.headers[`${a===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(p,(f,h,m,g)=>{if(!f)return C9(r,h||401,m,g);this.completeUpgrade(d,o,l,e,r,n,i)});return}if(!this.options.verifyClient(p))return C9(r,401)}this.completeUpgrade(d,o,l,e,r,n,i)}completeUpgrade(e,r,n,i,o,s,a){if(!o.readable||!o.writable)return o.destroy();if(o[A0r])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>d0t)return C9(o,503);let l=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${_0r("sha1").update(r+w0r).digest("base64")}`],u=new this.options.WebSocket(null,void 0,this.options);if(n.size){let d=this.options.handleProtocols?this.options.handleProtocols(n,i):n.values().next().value;d&&(l.push(`Sec-WebSocket-Protocol: ${d}`),u._protocol=d)}if(e[E2.extensionName]){let d=e[E2.extensionName].params,p=u0t.format({[E2.extensionName]:[d]});l.push(`Sec-WebSocket-Extensions: ${p}`),u._extensions=e}this.emit("headers",l,i),o.write(l.concat(`\r
`).join(`\r
`)),o.removeListener("error",f0t),u.setSocket(o,s,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(u),u.on("close",()=>{this.clients.delete(u),this._shouldEmitClose&&!this.clients.size&&process.nextTick(I9,this)})),a(u,i)}};h0t.exports=hve;function T0r(t,e){for(let r of Object.keys(e))t.on(r,e[r]);return function(){for(let n of Object.keys(e))t.removeListener(n,e[n])}}function I9(t){t._state=m0t,t.emit("close")}function f0t(){this.destroy()}function C9(t,e,r,n){r=r||OG.STATUS_CODES[e],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...n},t.once("finish",t.destroy),t.end(`HTTP/1.1 ${e} ${OG.STATUS_CODES[e]}\r
`+Object.keys(n).map(i=>`${i}: ${n[i]}`).join(`\r
`)+`\r
\r
`+r)}function T2(t,e,r,n,i){if(t.listenerCount("wsClientError")){let o=new Error(i);Error.captureStackTrace(o,T2),t.emit("wsClientError",o,r,e)}else C9(r,n,i)}});var ct={};Nr(ct,{$brand:()=>fP,$input:()=>JJ,$output:()=>WJ,NEVER:()=>Cq,TimePrecision:()=>YJ,ZodAny:()=>zQ,ZodArray:()=>jQ,ZodBase64:()=>Fk,ZodBase64URL:()=>zk,ZodBigInt:()=>Sx,ZodBigIntFormat:()=>Gk,ZodBoolean:()=>_x,ZodCIDRv4:()=>$k,ZodCIDRv6:()=>Uk,ZodCUID:()=>Ok,ZodCUID2:()=>Pk,ZodCatch:()=>fX,ZodCodec:()=>Yk,ZodCustom:()=>F6,ZodCustomStringFormat:()=>bx,ZodDate:()=>M6,ZodDefault:()=>aX,ZodDiscriminatedUnion:()=>WQ,ZodE164:()=>Hk,ZodEmail:()=>Ik,ZodEmoji:()=>Ck,ZodEnum:()=>gx,ZodError:()=>B2t,ZodExactOptional:()=>iX,ZodFile:()=>rX,ZodFirstPartyTypeKind:()=>EX,ZodFunction:()=>xX,ZodGUID:()=>N6,ZodIPv4:()=>Lk,ZodIPv6:()=>Bk,ZodISODate:()=>xk,ZodISODateTime:()=>Sk,ZodISODuration:()=>Ak,ZodISOTime:()=>wk,ZodIntersection:()=>JQ,ZodIssueCode:()=>U2t,ZodJWT:()=>Vk,ZodKSUID:()=>Mk,ZodLazy:()=>vX,ZodLiteral:()=>tX,ZodMAC:()=>DQ,ZodMap:()=>ZQ,ZodNaN:()=>hX,ZodNanoID:()=>Nk,ZodNever:()=>VQ,ZodNonOptional:()=>Qk,ZodNull:()=>UQ,ZodNullable:()=>sX,ZodNumber:()=>vx,ZodNumberFormat:()=>Ab,ZodObject:()=>B6,ZodOptional:()=>Kk,ZodPipe:()=>Xk,ZodPrefault:()=>lX,ZodPromise:()=>SX,ZodReadonly:()=>gX,ZodRealError:()=>oc,ZodRecord:()=>U6,ZodSet:()=>eX,ZodString:()=>yx,ZodStringFormat:()=>In,ZodSuccess:()=>pX,ZodSymbol:()=>BQ,ZodTemplateLiteral:()=>bX,ZodTransform:()=>nX,ZodTuple:()=>QQ,ZodType:()=>hr,ZodULID:()=>kk,ZodURL:()=>D6,ZodUUID:()=>jp,ZodUndefined:()=>$Q,ZodUnion:()=>$6,ZodUnknown:()=>HQ,ZodVoid:()=>GQ,ZodXID:()=>Dk,ZodXor:()=>qQ,_ZodString:()=>Rk,_default:()=>cX,_function:()=>iwe,any:()=>Lxe,array:()=>L6,base64:()=>vxe,base64url:()=>_xe,bigint:()=>Oxe,boolean:()=>LQ,catch:()=>mX,check:()=>owe,cidrv4:()=>yxe,cidrv6:()=>bxe,clone:()=>Aa,codec:()=>twe,coerce:()=>TX,config:()=>Bi,core:()=>_m,cuid:()=>lxe,cuid2:()=>uxe,custom:()=>swe,date:()=>$xe,decode:()=>RQ,decodeAsync:()=>CQ,describe:()=>awe,discriminatedUnion:()=>Gxe,e164:()=>Sxe,email:()=>Z2e,emoji:()=>axe,encode:()=>TQ,encodeAsync:()=>IQ,endsWith:()=>sx,enum:()=>Wk,exactOptional:()=>oX,file:()=>Xxe,flattenError:()=>y6,float32:()=>Rxe,float64:()=>Ixe,formatError:()=>b6,fromJSONSchema:()=>mwe,function:()=>iwe,getErrorMap:()=>z2t,globalRegistry:()=>hs,gt:()=>Vp,gte:()=>Ea,guid:()=>exe,hash:()=>Txe,hex:()=>Exe,hostname:()=>Axe,httpUrl:()=>sxe,includes:()=>ix,instanceof:()=>lwe,int:()=>Tk,int32:()=>Cxe,int64:()=>Pxe,intersection:()=>KQ,ipv4:()=>mxe,ipv6:()=>gxe,iso:()=>hx,json:()=>dwe,jwt:()=>xxe,keyof:()=>Uxe,ksuid:()=>fxe,lazy:()=>_X,length:()=>xb,literal:()=>Qxe,locales:()=>T6,looseObject:()=>Hxe,looseRecord:()=>qxe,lowercase:()=>rx,lt:()=>Hp,lte:()=>rl,mac:()=>hxe,map:()=>Wxe,maxLength:()=>Sb,maxSize:()=>a0,meta:()=>cwe,mime:()=>ax,minLength:()=>vm,minSize:()=>Gp,multipleOf:()=>s0,nan:()=>ewe,nanoid:()=>cxe,nativeEnum:()=>Kxe,negative:()=>dk,never:()=>jk,nonnegative:()=>fk,nonoptional:()=>dX,nonpositive:()=>pk,normalize:()=>cx,null:()=>FQ,nullable:()=>P6,nullish:()=>Yxe,number:()=>MQ,object:()=>Fxe,optional:()=>O6,overwrite:()=>Pd,parse:()=>xQ,parseAsync:()=>wQ,partialRecord:()=>jxe,pipe:()=>k6,positive:()=>uk,prefault:()=>uX,preprocess:()=>pwe,prettifyError:()=>zq,promise:()=>nwe,property:()=>mk,readonly:()=>yX,record:()=>YQ,refine:()=>wX,regex:()=>tx,regexes:()=>Ul,registry:()=>VP,safeDecode:()=>OQ,safeDecodeAsync:()=>kQ,safeEncode:()=>NQ,safeEncodeAsync:()=>PQ,safeParse:()=>AQ,safeParseAsync:()=>EQ,set:()=>Jxe,setErrorMap:()=>F2t,size:()=>_b,slugify:()=>px,startsWith:()=>ox,strictObject:()=>zxe,string:()=>Ek,stringFormat:()=>wxe,stringbool:()=>uwe,success:()=>Zxe,superRefine:()=>AX,symbol:()=>Dxe,templateLiteral:()=>rwe,toJSONSchema:()=>bk,toLowerCase:()=>ux,toUpperCase:()=>dx,transform:()=>Jk,treeifyError:()=>Fq,trim:()=>lx,tuple:()=>XQ,uint32:()=>Nxe,uint64:()=>kxe,ulid:()=>dxe,undefined:()=>Mxe,union:()=>qk,unknown:()=>wb,uppercase:()=>nx,url:()=>oxe,util:()=>Ke,uuid:()=>txe,uuidv4:()=>rxe,uuidv6:()=>nxe,uuidv7:()=>ixe,void:()=>Bxe,xid:()=>pxe,xor:()=>Vxe});var _m={};Nr(_m,{$ZodAny:()=>hJ,$ZodArray:()=>_J,$ZodAsyncError:()=>Od,$ZodBase64:()=>oJ,$ZodBase64URL:()=>sJ,$ZodBigInt:()=>LP,$ZodBigIntFormat:()=>dJ,$ZodBoolean:()=>x6,$ZodCIDRv4:()=>rJ,$ZodCIDRv6:()=>nJ,$ZodCUID:()=>GW,$ZodCUID2:()=>jW,$ZodCatch:()=>$J,$ZodCheck:()=>Ln,$ZodCheckBigIntFormat:()=>_W,$ZodCheckEndsWith:()=>PW,$ZodCheckGreaterThan:()=>CP,$ZodCheckIncludes:()=>NW,$ZodCheckLengthEquals:()=>TW,$ZodCheckLessThan:()=>IP,$ZodCheckLowerCase:()=>IW,$ZodCheckMaxLength:()=>AW,$ZodCheckMaxSize:()=>SW,$ZodCheckMimeType:()=>DW,$ZodCheckMinLength:()=>EW,$ZodCheckMinSize:()=>xW,$ZodCheckMultipleOf:()=>bW,$ZodCheckNumberFormat:()=>vW,$ZodCheckOverwrite:()=>MW,$ZodCheckProperty:()=>kW,$ZodCheckRegex:()=>RW,$ZodCheckSizeEquals:()=>wW,$ZodCheckStartsWith:()=>OW,$ZodCheckStringFormat:()=>Z2,$ZodCheckUpperCase:()=>CW,$ZodCodec:()=>A6,$ZodCustom:()=>qJ,$ZodCustomStringFormat:()=>lJ,$ZodDate:()=>vJ,$ZodDefault:()=>DJ,$ZodDiscriminatedUnion:()=>wJ,$ZodE164:()=>aJ,$ZodEmail:()=>FW,$ZodEmoji:()=>HW,$ZodEncodeError:()=>t0,$ZodEnum:()=>IJ,$ZodError:()=>g6,$ZodExactOptional:()=>PJ,$ZodFile:()=>NJ,$ZodFunction:()=>VJ,$ZodGUID:()=>$W,$ZodIPv4:()=>ZW,$ZodIPv6:()=>eJ,$ZodISODate:()=>QW,$ZodISODateTime:()=>KW,$ZodISODuration:()=>YW,$ZodISOTime:()=>XW,$ZodIntersection:()=>AJ,$ZodJWT:()=>cJ,$ZodKSUID:()=>JW,$ZodLazy:()=>jJ,$ZodLiteral:()=>CJ,$ZodMAC:()=>tJ,$ZodMap:()=>TJ,$ZodNaN:()=>UJ,$ZodNanoID:()=>VW,$ZodNever:()=>yJ,$ZodNonOptional:()=>LJ,$ZodNull:()=>mJ,$ZodNullable:()=>kJ,$ZodNumber:()=>MP,$ZodNumberFormat:()=>uJ,$ZodObject:()=>YSe,$ZodObjectJIT:()=>SJ,$ZodOptional:()=>$P,$ZodPipe:()=>FJ,$ZodPrefault:()=>MJ,$ZodPromise:()=>GJ,$ZodReadonly:()=>zJ,$ZodRealError:()=>ic,$ZodRecord:()=>EJ,$ZodRegistry:()=>HP,$ZodSet:()=>RJ,$ZodString:()=>vb,$ZodStringFormat:()=>Rn,$ZodSuccess:()=>BJ,$ZodSymbol:()=>pJ,$ZodTemplateLiteral:()=>HJ,$ZodTransform:()=>OJ,$ZodTuple:()=>BP,$ZodType:()=>sr,$ZodULID:()=>qW,$ZodURL:()=>zW,$ZodUUID:()=>UW,$ZodUndefined:()=>fJ,$ZodUnion:()=>w6,$ZodUnknown:()=>gJ,$ZodVoid:()=>bJ,$ZodXID:()=>WW,$ZodXor:()=>xJ,$brand:()=>fP,$constructor:()=>ae,$input:()=>JJ,$output:()=>WJ,Doc:()=>S6,JSONSchema:()=>X2e,JSONSchemaGenerator:()=>vk,NEVER:()=>Cq,TimePrecision:()=>YJ,_any:()=>vK,_array:()=>TK,_base64:()=>sk,_base64url:()=>ak,_bigint:()=>pK,_boolean:()=>uK,_catch:()=>C2t,_check:()=>Q2e,_cidrv4:()=>ik,_cidrv6:()=>ok,_coercedBigint:()=>fK,_coercedBoolean:()=>dK,_coercedDate:()=>AK,_coercedNumber:()=>iK,_coercedString:()=>QJ,_cuid:()=>XP,_cuid2:()=>YP,_custom:()=>IK,_date:()=>wK,_decode:()=>vP,_decodeAsync:()=>SP,_default:()=>T2t,_discriminatedUnion:()=>m2t,_e164:()=>ck,_email:()=>GP,_emoji:()=>KP,_encode:()=>bP,_encodeAsync:()=>_P,_endsWith:()=>sx,_enum:()=>_2t,_file:()=>RK,_float32:()=>sK,_float64:()=>aK,_gt:()=>Vp,_gte:()=>Ea,_guid:()=>R6,_includes:()=>ix,_int:()=>oK,_int32:()=>cK,_int64:()=>mK,_intersection:()=>h2t,_ipv4:()=>rk,_ipv6:()=>nk,_isoDate:()=>eK,_isoDateTime:()=>ZJ,_isoDuration:()=>rK,_isoTime:()=>tK,_jwt:()=>lk,_ksuid:()=>tk,_lazy:()=>k2t,_length:()=>xb,_literal:()=>x2t,_lowercase:()=>rx,_lt:()=>Hp,_lte:()=>rl,_mac:()=>XJ,_map:()=>b2t,_max:()=>rl,_maxLength:()=>Sb,_maxSize:()=>a0,_mime:()=>ax,_min:()=>Ea,_minLength:()=>vm,_minSize:()=>Gp,_multipleOf:()=>s0,_nan:()=>EK,_nanoid:()=>QP,_nativeEnum:()=>S2t,_negative:()=>dk,_never:()=>SK,_nonnegative:()=>fk,_nonoptional:()=>R2t,_nonpositive:()=>pk,_normalize:()=>cx,_null:()=>bK,_nullable:()=>E2t,_number:()=>nK,_optional:()=>A2t,_overwrite:()=>Pd,_parse:()=>K2,_parseAsync:()=>Q2,_pipe:()=>N2t,_positive:()=>uk,_promise:()=>D2t,_property:()=>mk,_readonly:()=>O2t,_record:()=>y2t,_refine:()=>CK,_regex:()=>tx,_safeDecode:()=>wP,_safeDecodeAsync:()=>EP,_safeEncode:()=>xP,_safeEncodeAsync:()=>AP,_safeParse:()=>X2,_safeParseAsync:()=>Y2,_set:()=>v2t,_size:()=>_b,_slugify:()=>px,_startsWith:()=>ox,_string:()=>KJ,_stringFormat:()=>fx,_stringbool:()=>kK,_success:()=>I2t,_superRefine:()=>NK,_symbol:()=>gK,_templateLiteral:()=>P2t,_toLowerCase:()=>ux,_toUpperCase:()=>dx,_transform:()=>w2t,_trim:()=>lx,_tuple:()=>g2t,_uint32:()=>lK,_uint64:()=>hK,_ulid:()=>ZP,_undefined:()=>yK,_union:()=>p2t,_unknown:()=>_K,_uppercase:()=>nx,_url:()=>I6,_uuid:()=>jP,_uuidv4:()=>qP,_uuidv6:()=>WP,_uuidv7:()=>JP,_void:()=>xK,_xid:()=>ek,_xor:()=>f2t,clone:()=>Aa,config:()=>Bi,createStandardJSONSchemaMethod:()=>mx,createToJSONSchemaMethod:()=>DK,decode:()=>B_t,decodeAsync:()=>U_t,describe:()=>OK,encode:()=>L_t,encodeAsync:()=>$_t,extractDefs:()=>l0,finalize:()=>u0,flattenError:()=>y6,formatError:()=>b6,globalConfig:()=>l6,globalRegistry:()=>hs,initializeContext:()=>c0,isValidBase64:()=>iJ,isValidBase64URL:()=>JSe,isValidJWT:()=>KSe,locales:()=>T6,meta:()=>PK,parse:()=>gP,parseAsync:()=>yP,prettifyError:()=>zq,process:()=>fn,regexes:()=>Ul,registry:()=>VP,safeDecode:()=>z_t,safeDecodeAsync:()=>V_t,safeEncode:()=>F_t,safeEncodeAsync:()=>H_t,safeParse:()=>Hq,safeParseAsync:()=>Vq,toDotPath:()=>NSe,toJSONSchema:()=>bk,treeifyError:()=>Fq,util:()=>Ke,version:()=>LW});var Cq=Object.freeze({status:"aborted"});function ae(t,e,r){function n(a,c){if(a._zod||Object.defineProperty(a,"_zod",{value:{def:c,constr:s,traits:new Set},enumerable:!1}),a._zod.traits.has(t))return;a._zod.traits.add(t),e(a,c);let l=s.prototype,u=Object.keys(l);for(let d=0;d<u.length;d++){let p=u[d];p in a||(a[p]=l[p].bind(a))}}let i=r?.Parent??Object;class o extends i{}Object.defineProperty(o,"name",{value:t});function s(a){var c;let l=r?.Parent?new o:this;n(l,a),(c=l._zod).deferred??(c.deferred=[]);for(let u of l._zod.deferred)u();return l}return Object.defineProperty(s,"init",{value:n}),Object.defineProperty(s,Symbol.hasInstance,{value:a=>r?.Parent&&a instanceof r.Parent?!0:a?._zod?.traits?.has(t)}),Object.defineProperty(s,"name",{value:t}),s}var fP=Symbol("zod_brand"),Od=class extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}},t0=class extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}},l6={};function Bi(t){return t&&Object.assign(l6,t),l6}var Ke={};Nr(Ke,{BIGINT_FORMAT_RANGES:()=>Uq,Class:()=>Oq,NUMBER_FORMAT_RANGES:()=>$q,aborted:()=>o0,allowsEval:()=>Dq,assert:()=>m_t,assertEqual:()=>u_t,assertIs:()=>p_t,assertNever:()=>f_t,assertNotEqual:()=>d_t,assignProp:()=>n0,base64ToUint8Array:()=>RSe,base64urlToUint8Array:()=>O_t,cached:()=>W2,captureStackTrace:()=>hP,cleanEnum:()=>N_t,cleanRegex:()=>p6,clone:()=>Aa,cloneDef:()=>g_t,createTransparentProxy:()=>x_t,defineLazy:()=>Er,esc:()=>mP,escapeRegex:()=>$l,extend:()=>E_t,finalizeIssue:()=>nc,floatSafeRemainder:()=>Pq,getElementAtPath:()=>y_t,getEnumValues:()=>d6,getLengthableOrigin:()=>h6,getParsedType:()=>S_t,getSizableOrigin:()=>m6,hexToUint8Array:()=>k_t,isObject:()=>yb,isPlainObject:()=>i0,issue:()=>J2,joinValues:()=>_e,jsonStringifyReplacer:()=>q2,merge:()=>R_t,mergeDefs:()=>bm,normalizeParams:()=>Ye,nullish:()=>r0,numKeys:()=>__t,objectClone:()=>h_t,omit:()=>A_t,optionalKeys:()=>Bq,parsedType:()=>qe,partial:()=>I_t,pick:()=>w_t,prefixIssues:()=>tl,primitiveTypes:()=>Lq,promiseAllObject:()=>b_t,propertyKeyTypes:()=>f6,randomString:()=>v_t,required:()=>C_t,safeExtend:()=>T_t,shallowClone:()=>Mq,slugify:()=>kq,stringifyPrimitive:()=>Ge,uint8ArrayToBase64:()=>ISe,uint8ArrayToBase64url:()=>P_t,uint8ArrayToHex:()=>D_t,unwrapMessage:()=>u6});function u_t(t){return t}function d_t(t){return t}function p_t(t){}function f_t(t){throw new Error("Unexpected value in exhaustive check")}function m_t(t){}function d6(t){let e=Object.values(t).filter(n=>typeof n=="number");return Object.entries(t).filter(([n,i])=>e.indexOf(+n)===-1).map(([n,i])=>i)}function _e(t,e="|"){return t.map(r=>Ge(r)).join(e)}function q2(t,e){return typeof e=="bigint"?e.toString():e}function W2(t){return{get value(){{let r=t();return Object.defineProperty(this,"value",{value:r}),r}throw new Error("cached value already set")}}}function r0(t){return t==null}function p6(t){let e=t.startsWith("^")?1:0,r=t.endsWith("$")?t.length-1:t.length;return t.slice(e,r)}function Pq(t,e){let r=(t.toString().split(".")[1]||"").length,n=e.toString(),i=(n.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(n)){let c=n.match(/\d?e-(\d?)/);c?.[1]&&(i=Number.parseInt(c[1]))}let o=r>i?r:i,s=Number.parseInt(t.toFixed(o).replace(".","")),a=Number.parseInt(e.toFixed(o).replace(".",""));return s%a/10**o}var TSe=Symbol("evaluating");function Er(t,e,r){let n;Object.defineProperty(t,e,{get(){if(n!==TSe)return n===void 0&&(n=TSe,n=r()),n},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function h_t(t){return Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t))}function n0(t,e,r){Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!0,configurable:!0})}function bm(...t){let e={};for(let r of t){let n=Object.getOwnPropertyDescriptors(r);Object.assign(e,n)}return Object.defineProperties({},e)}function g_t(t){return bm(t._zod.def)}function y_t(t,e){return e?e.reduce((r,n)=>r?.[n],t):t}function b_t(t){let e=Object.keys(t),r=e.map(n=>t[n]);return Promise.all(r).then(n=>{let i={};for(let o=0;o<e.length;o++)i[e[o]]=n[o];return i})}function v_t(t=10){let e="abcdefghijklmnopqrstuvwxyz",r="";for(let n=0;n<t;n++)r+=e[Math.floor(Math.random()*e.length)];return r}function mP(t){return JSON.stringify(t)}function kq(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}var hP="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function yb(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}var Dq=W2(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{let t=Function;return new t(""),!0}catch{return!1}});function i0(t){if(yb(t)===!1)return!1;let e=t.constructor;if(e===void 0||typeof e!="function")return!0;let r=e.prototype;return!(yb(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function Mq(t){return i0(t)?{...t}:Array.isArray(t)?[...t]:t}function __t(t){let e=0;for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}var S_t=t=>{let e=typeof t;switch(e){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(t)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(t)?"array":t===null?"null":t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?"promise":typeof Map<"u"&&t instanceof Map?"map":typeof Set<"u"&&t instanceof Set?"set":typeof Date<"u"&&t instanceof Date?"date":typeof File<"u"&&t instanceof File?"file":"object";default:throw new Error(`Unknown data type: ${e}`)}},f6=new Set(["string","number","symbol"]),Lq=new Set(["string","number","bigint","boolean","symbol","undefined"]);function $l(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Aa(t,e,r){let n=new t._zod.constr(e??t._zod.def);return(!e||r?.parent)&&(n._zod.parent=t),n}function Ye(t){let e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function x_t(t){let e;return new Proxy({},{get(r,n,i){return e??(e=t()),Reflect.get(e,n,i)},set(r,n,i,o){return e??(e=t()),Reflect.set(e,n,i,o)},has(r,n){return e??(e=t()),Reflect.has(e,n)},deleteProperty(r,n){return e??(e=t()),Reflect.deleteProperty(e,n)},ownKeys(r){return e??(e=t()),Reflect.ownKeys(e)},getOwnPropertyDescriptor(r,n){return e??(e=t()),Reflect.getOwnPropertyDescriptor(e,n)},defineProperty(r,n,i){return e??(e=t()),Reflect.defineProperty(e,n,i)}})}function Ge(t){return typeof t=="bigint"?t.toString()+"n":typeof t=="string"?`"${t}"`:`${t}`}function Bq(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}var $q={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},Uq={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function w_t(t,e){let r=t._zod.def,n=r.checks;if(n&&n.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");let o=bm(t._zod.def,{get shape(){let s={};for(let a in e){if(!(a in r.shape))throw new Error(`Unrecognized key: "${a}"`);e[a]&&(s[a]=r.shape[a])}return n0(this,"shape",s),s},checks:[]});return Aa(t,o)}function A_t(t,e){let r=t._zod.def,n=r.checks;if(n&&n.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");let o=bm(t._zod.def,{get shape(){let s={...t._zod.def.shape};for(let a in e){if(!(a in r.shape))throw new Error(`Unrecognized key: "${a}"`);e[a]&&delete s[a]}return n0(this,"shape",s),s},checks:[]});return Aa(t,o)}function E_t(t,e){if(!i0(e))throw new Error("Invalid input to extend: expected a plain object");let r=t._zod.def.checks;if(r&&r.length>0){let o=t._zod.def.shape;for(let s in e)if(Object.getOwnPropertyDescriptor(o,s)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}let i=bm(t._zod.def,{get shape(){let o={...t._zod.def.shape,...e};return n0(this,"shape",o),o}});return Aa(t,i)}function T_t(t,e){if(!i0(e))throw new Error("Invalid input to safeExtend: expected a plain object");let r=bm(t._zod.def,{get shape(){let n={...t._zod.def.shape,...e};return n0(this,"shape",n),n}});return Aa(t,r)}function R_t(t,e){let r=bm(t._zod.def,{get shape(){let n={...t._zod.def.shape,...e._zod.def.shape};return n0(this,"shape",n),n},get catchall(){return e._zod.def.catchall},checks:[]});return Aa(t,r)}function I_t(t,e,r){let i=e._zod.def.checks;if(i&&i.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");let s=bm(e._zod.def,{get shape(){let a=e._zod.def.shape,c={...a};if(r)for(let l in r){if(!(l in a))throw new Error(`Unrecognized key: "${l}"`);r[l]&&(c[l]=t?new t({type:"optional",innerType:a[l]}):a[l])}else for(let l in a)c[l]=t?new t({type:"optional",innerType:a[l]}):a[l];return n0(this,"shape",c),c},checks:[]});return Aa(e,s)}function C_t(t,e,r){let n=bm(e._zod.def,{get shape(){let i=e._zod.def.shape,o={...i};if(r)for(let s in r){if(!(s in o))throw new Error(`Unrecognized key: "${s}"`);r[s]&&(o[s]=new t({type:"nonoptional",innerType:i[s]}))}else for(let s in i)o[s]=new t({type:"nonoptional",innerType:i[s]});return n0(this,"shape",o),o}});return Aa(e,n)}function o0(t,e=0){if(t.aborted===!0)return!0;for(let r=e;r<t.issues.length;r++)if(t.issues[r]?.continue!==!0)return!0;return!1}function tl(t,e){return e.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(t),r})}function u6(t){return typeof t=="string"?t:t?.message}function nc(t,e,r){let n={...t,path:t.path??[]};if(!t.message){let i=u6(t.inst?._zod.def?.error?.(t))??u6(e?.error?.(t))??u6(r.customError?.(t))??u6(r.localeError?.(t))??"Invalid input";n.message=i}return delete n.inst,delete n.continue,e?.reportInput||delete n.input,n}function m6(t){return t instanceof Set?"set":t instanceof Map?"map":t instanceof File?"file":"unknown"}function h6(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function qe(t){let e=typeof t;switch(e){case"number":return Number.isNaN(t)?"nan":"number";case"object":{if(t===null)return"null";if(Array.isArray(t))return"array";let r=t;if(r&&Object.getPrototypeOf(r)!==Object.prototype&&"constructor"in r&&r.constructor)return r.constructor.name}}return e}function J2(...t){let[e,r,n]=t;return typeof e=="string"?{message:e,code:"custom",input:r,inst:n}:{...e}}function N_t(t){return Object.entries(t).filter(([e,r])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])}function RSe(t){let e=atob(t),r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r}function ISe(t){let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function O_t(t){let e=t.replace(/-/g,"+").replace(/_/g,"/"),r="=".repeat((4-e.length%4)%4);return RSe(e+r)}function P_t(t){return ISe(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function k_t(t){let e=t.replace(/^0x/,"");if(e.length%2!==0)throw new Error("Invalid hex string length");let r=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)r[n/2]=Number.parseInt(e.slice(n,n+2),16);return r}function D_t(t){return Array.from(t).map(e=>e.toString(16).padStart(2,"0")).join("")}var Oq=class{constructor(...e){}};var CSe=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,q2,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},g6=ae("$ZodError",CSe),ic=ae("$ZodError",CSe,{Parent:Error});function y6(t,e=r=>r.message){let r={},n=[];for(let i of t.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}function b6(t,e=r=>r.message){let r={_errors:[]},n=i=>{for(let o of i.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(s=>n({issues:s}));else if(o.code==="invalid_key")n({issues:o.issues});else if(o.code==="invalid_element")n({issues:o.issues});else if(o.path.length===0)r._errors.push(e(o));else{let s=r,a=0;for(;a<o.path.length;){let c=o.path[a];a===o.path.length-1?(s[c]=s[c]||{_errors:[]},s[c]._errors.push(e(o))):s[c]=s[c]||{_errors:[]},s=s[c],a++}}};return n(t),r}function Fq(t,e=r=>r.message){let r={errors:[]},n=(i,o=[])=>{var s,a;for(let c of i.issues)if(c.code==="invalid_union"&&c.errors.length)c.errors.map(l=>n({issues:l},c.path));else if(c.code==="invalid_key")n({issues:c.issues},c.path);else if(c.code==="invalid_element")n({issues:c.issues},c.path);else{let l=[...o,...c.path];if(l.length===0){r.errors.push(e(c));continue}let u=r,d=0;for(;d<l.length;){let p=l[d],f=d===l.length-1;typeof p=="string"?(u.properties??(u.properties={}),(s=u.properties)[p]??(s[p]={errors:[]}),u=u.properties[p]):(u.items??(u.items=[]),(a=u.items)[p]??(a[p]={errors:[]}),u=u.items[p]),f&&u.errors.push(e(c)),d++}}};return n(t),r}function NSe(t){let e=[],r=t.map(n=>typeof n=="object"?n.key:n);for(let n of r)typeof n=="number"?e.push(`[${n}]`):typeof n=="symbol"?e.push(`[${JSON.stringify(String(n))}]`):/[^\w$]/.test(n)?e.push(`[${JSON.stringify(n)}]`):(e.length&&e.push("."),e.push(n));return e.join("")}function zq(t){let e=[],r=[...t.issues].sort((n,i)=>(n.path??[]).length-(i.path??[]).length);for(let n of r)e.push(`\u2716 ${n.message}`),n.path?.length&&e.push(`  \u2192 at ${NSe(n.path)}`);return e.join(`
`)}var K2=t=>(e,r,n,i)=>{let o=n?Object.assign(n,{async:!1}):{async:!1},s=e._zod.run({value:r,issues:[]},o);if(s instanceof Promise)throw new Od;if(s.issues.length){let a=new(i?.Err??t)(s.issues.map(c=>nc(c,o,Bi())));throw hP(a,i?.callee),a}return s.value},gP=K2(ic),Q2=t=>async(e,r,n,i)=>{let o=n?Object.assign(n,{async:!0}):{async:!0},s=e._zod.run({value:r,issues:[]},o);if(s instanceof Promise&&(s=await s),s.issues.length){let a=new(i?.Err??t)(s.issues.map(c=>nc(c,o,Bi())));throw hP(a,i?.callee),a}return s.value},yP=Q2(ic),X2=t=>(e,r,n)=>{let i=n?{...n,async:!1}:{async:!1},o=e._zod.run({value:r,issues:[]},i);if(o instanceof Promise)throw new Od;return o.issues.length?{success:!1,error:new(t??g6)(o.issues.map(s=>nc(s,i,Bi())))}:{success:!0,data:o.value}},Hq=X2(ic),Y2=t=>async(e,r,n)=>{let i=n?Object.assign(n,{async:!0}):{async:!0},o=e._zod.run({value:r,issues:[]},i);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new t(o.issues.map(s=>nc(s,i,Bi())))}:{success:!0,data:o.value}},Vq=Y2(ic),bP=t=>(e,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return K2(t)(e,r,i)},L_t=bP(ic),vP=t=>(e,r,n)=>K2(t)(e,r,n),B_t=vP(ic),_P=t=>async(e,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Q2(t)(e,r,i)},$_t=_P(ic),SP=t=>async(e,r,n)=>Q2(t)(e,r,n),U_t=SP(ic),xP=t=>(e,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return X2(t)(e,r,i)},F_t=xP(ic),wP=t=>(e,r,n)=>X2(t)(e,r,n),z_t=wP(ic),AP=t=>async(e,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Y2(t)(e,r,i)},H_t=AP(ic),EP=t=>async(e,r,n)=>Y2(t)(e,r,n),V_t=EP(ic);var Ul={};Nr(Ul,{base64:()=>oW,base64url:()=>TP,bigint:()=>dW,boolean:()=>fW,browserEmail:()=>X_t,cidrv4:()=>nW,cidrv6:()=>iW,cuid:()=>Gq,cuid2:()=>jq,date:()=>aW,datetime:()=>lW,domain:()=>eSt,duration:()=>Qq,e164:()=>sW,email:()=>Yq,emoji:()=>Zq,extendedDuration:()=>G_t,guid:()=>Xq,hex:()=>tSt,hostname:()=>Z_t,html5Email:()=>J_t,idnEmail:()=>Q_t,integer:()=>pW,ipv4:()=>eW,ipv6:()=>tW,ksuid:()=>Jq,lowercase:()=>gW,mac:()=>rW,md5_base64:()=>nSt,md5_base64url:()=>iSt,md5_hex:()=>rSt,nanoid:()=>Kq,null:()=>mW,number:()=>RP,rfc5322Email:()=>K_t,sha1_base64:()=>sSt,sha1_base64url:()=>aSt,sha1_hex:()=>oSt,sha256_base64:()=>lSt,sha256_base64url:()=>uSt,sha256_hex:()=>cSt,sha384_base64:()=>pSt,sha384_base64url:()=>fSt,sha384_hex:()=>dSt,sha512_base64:()=>hSt,sha512_base64url:()=>gSt,sha512_hex:()=>mSt,string:()=>uW,time:()=>cW,ulid:()=>qq,undefined:()=>hW,unicodeEmail:()=>OSe,uppercase:()=>yW,uuid:()=>bb,uuid4:()=>j_t,uuid6:()=>q_t,uuid7:()=>W_t,xid:()=>Wq});var Gq=/^[cC][^\s-]{8,}$/,jq=/^[0-9a-z]+$/,qq=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Wq=/^[0-9a-vA-V]{20}$/,Jq=/^[A-Za-z0-9]{27}$/,Kq=/^[a-zA-Z0-9_-]{21}$/,Qq=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,G_t=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Xq=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,bb=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,j_t=bb(4),q_t=bb(6),W_t=bb(7),Yq=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,J_t=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,K_t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,OSe=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,Q_t=OSe,X_t=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Y_t="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Zq(){return new RegExp(Y_t,"u")}var eW=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,tW=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,rW=t=>{let e=$l(t??":");return new RegExp(`^(?:[0-9A-F]{2}${e}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${e}){5}[0-9a-f]{2}$`)},nW=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,iW=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,oW=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,TP=/^[A-Za-z0-9_-]*$/,Z_t=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,eSt=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,sW=/^\+[1-9]\d{6,14}$/,PSe="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",aW=new RegExp(`^${PSe}$`);function kSe(t){let e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function cW(t){return new RegExp(`^${kSe(t)}$`)}function lW(t){let e=kSe({precision:t.precision}),r=["Z"];t.local&&r.push(""),t.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let n=`${e}(?:${r.join("|")})`;return new RegExp(`^${PSe}T(?:${n})$`)}var uW=t=>{let e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},dW=/^-?\d+n?$/,pW=/^-?\d+$/,RP=/^-?\d+(?:\.\d+)?$/,fW=/^(?:true|false)$/i,mW=/^null$/i;var hW=/^undefined$/i;var gW=/^[^A-Z]*$/,yW=/^[^a-z]*$/,tSt=/^[0-9a-fA-F]*$/;function v6(t,e){return new RegExp(`^[A-Za-z0-9+/]{${t}}${e}$`)}function _6(t){return new RegExp(`^[A-Za-z0-9_-]{${t}}$`)}var rSt=/^[0-9a-fA-F]{32}$/,nSt=v6(22,"=="),iSt=_6(22),oSt=/^[0-9a-fA-F]{40}$/,sSt=v6(27,"="),aSt=_6(27),cSt=/^[0-9a-fA-F]{64}$/,lSt=v6(43,"="),uSt=_6(43),dSt=/^[0-9a-fA-F]{96}$/,pSt=v6(64,""),fSt=_6(64),mSt=/^[0-9a-fA-F]{128}$/,hSt=v6(86,"=="),gSt=_6(86);var Ln=ae("$ZodCheck",(t,e)=>{var r;t._zod??(t._zod={}),t._zod.def=e,(r=t._zod).onattach??(r.onattach=[])}),MSe={number:"number",bigint:"bigint",object:"date"},IP=ae("$ZodCheckLessThan",(t,e)=>{Ln.init(t,e);let r=MSe[typeof e.value];t._zod.onattach.push(n=>{let i=n._zod.bag,o=(e.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<o&&(e.inclusive?i.maximum=e.value:i.exclusiveMaximum=e.value)}),t._zod.check=n=>{(e.inclusive?n.value<=e.value:n.value<e.value)||n.issues.push({origin:r,code:"too_big",maximum:typeof e.value=="object"?e.value.getTime():e.value,input:n.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),CP=ae("$ZodCheckGreaterThan",(t,e)=>{Ln.init(t,e);let r=MSe[typeof e.value];t._zod.onattach.push(n=>{let i=n._zod.bag,o=(e.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>o&&(e.inclusive?i.minimum=e.value:i.exclusiveMinimum=e.value)}),t._zod.check=n=>{(e.inclusive?n.value>=e.value:n.value>e.value)||n.issues.push({origin:r,code:"too_small",minimum:typeof e.value=="object"?e.value.getTime():e.value,input:n.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),bW=ae("$ZodCheckMultipleOf",(t,e)=>{Ln.init(t,e),t._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=e.value)}),t._zod.check=r=>{if(typeof r.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%e.value===BigInt(0):Pq(r.value,e.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:e.value,input:r.value,inst:t,continue:!e.abort})}}),vW=ae("$ZodCheckNumberFormat",(t,e)=>{Ln.init(t,e),e.format=e.format||"float64";let r=e.format?.includes("int"),n=r?"int":"number",[i,o]=$q[e.format];t._zod.onattach.push(s=>{let a=s._zod.bag;a.format=e.format,a.minimum=i,a.maximum=o,r&&(a.pattern=pW)}),t._zod.check=s=>{let a=s.value;if(r){if(!Number.isInteger(a)){s.issues.push({expected:n,format:e.format,code:"invalid_type",continue:!1,input:a,inst:t});return}if(!Number.isSafeInteger(a)){a>0?s.issues.push({input:a,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:n,inclusive:!0,continue:!e.abort}):s.issues.push({input:a,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:n,inclusive:!0,continue:!e.abort});return}}a<i&&s.issues.push({origin:"number",input:a,code:"too_small",minimum:i,inclusive:!0,inst:t,continue:!e.abort}),a>o&&s.issues.push({origin:"number",input:a,code:"too_big",maximum:o,inclusive:!0,inst:t,continue:!e.abort})}}),_W=ae("$ZodCheckBigIntFormat",(t,e)=>{Ln.init(t,e);let[r,n]=Uq[e.format];t._zod.onattach.push(i=>{let o=i._zod.bag;o.format=e.format,o.minimum=r,o.maximum=n}),t._zod.check=i=>{let o=i.value;o<r&&i.issues.push({origin:"bigint",input:o,code:"too_small",minimum:r,inclusive:!0,inst:t,continue:!e.abort}),o>n&&i.issues.push({origin:"bigint",input:o,code:"too_big",maximum:n,inclusive:!0,inst:t,continue:!e.abort})}}),SW=ae("$ZodCheckMaxSize",(t,e)=>{var r;Ln.init(t,e),(r=t._zod.def).when??(r.when=n=>{let i=n.value;return!r0(i)&&i.size!==void 0}),t._zod.onattach.push(n=>{let i=n._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(n._zod.bag.maximum=e.maximum)}),t._zod.check=n=>{let i=n.value;i.size<=e.maximum||n.issues.push({origin:m6(i),code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),xW=ae("$ZodCheckMinSize",(t,e)=>{var r;Ln.init(t,e),(r=t._zod.def).when??(r.when=n=>{let i=n.value;return!r0(i)&&i.size!==void 0}),t._zod.onattach.push(n=>{let i=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(n._zod.bag.minimum=e.minimum)}),t._zod.check=n=>{let i=n.value;i.size>=e.minimum||n.issues.push({origin:m6(i),code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),wW=ae("$ZodCheckSizeEquals",(t,e)=>{var r;Ln.init(t,e),(r=t._zod.def).when??(r.when=n=>{let i=n.value;return!r0(i)&&i.size!==void 0}),t._zod.onattach.push(n=>{let i=n._zod.bag;i.minimum=e.size,i.maximum=e.size,i.size=e.size}),t._zod.check=n=>{let i=n.value,o=i.size;if(o===e.size)return;let s=o>e.size;n.issues.push({origin:m6(i),...s?{code:"too_big",maximum:e.size}:{code:"too_small",minimum:e.size},inclusive:!0,exact:!0,input:n.value,inst:t,continue:!e.abort})}}),AW=ae("$ZodCheckMaxLength",(t,e)=>{var r;Ln.init(t,e),(r=t._zod.def).when??(r.when=n=>{let i=n.value;return!r0(i)&&i.length!==void 0}),t._zod.onattach.push(n=>{let i=n._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(n._zod.bag.maximum=e.maximum)}),t._zod.check=n=>{let i=n.value;if(i.length<=e.maximum)return;let s=h6(i);n.issues.push({origin:s,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),EW=ae("$ZodCheckMinLength",(t,e)=>{var r;Ln.init(t,e),(r=t._zod.def).when??(r.when=n=>{let i=n.value;return!r0(i)&&i.length!==void 0}),t._zod.onattach.push(n=>{let i=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(n._zod.bag.minimum=e.minimum)}),t._zod.check=n=>{let i=n.value;if(i.length>=e.minimum)return;let s=h6(i);n.issues.push({origin:s,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),TW=ae("$ZodCheckLengthEquals",(t,e)=>{var r;Ln.init(t,e),(r=t._zod.def).when??(r.when=n=>{let i=n.value;return!r0(i)&&i.length!==void 0}),t._zod.onattach.push(n=>{let i=n._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),t._zod.check=n=>{let i=n.value,o=i.length;if(o===e.length)return;let s=h6(i),a=o>e.length;n.issues.push({origin:s,...a?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:n.value,inst:t,continue:!e.abort})}}),Z2=ae("$ZodCheckStringFormat",(t,e)=>{var r,n;Ln.init(t,e),t._zod.onattach.push(i=>{let o=i._zod.bag;o.format=e.format,e.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(e.pattern))}),e.pattern?(r=t._zod).check??(r.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(n=t._zod).check??(n.check=()=>{})}),RW=ae("$ZodCheckRegex",(t,e)=>{Z2.init(t,e),t._zod.check=r=>{e.pattern.lastIndex=0,!e.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),IW=ae("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=gW),Z2.init(t,e)}),CW=ae("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=yW),Z2.init(t,e)}),NW=ae("$ZodCheckIncludes",(t,e)=>{Ln.init(t,e);let r=$l(e.includes),n=new RegExp(typeof e.position=="number"?`^.{${e.position}}${r}`:r);e.pattern=n,t._zod.onattach.push(i=>{let o=i._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),t._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:t,continue:!e.abort})}}),OW=ae("$ZodCheckStartsWith",(t,e)=>{Ln.init(t,e);let r=new RegExp(`^${$l(e.prefix)}.*`);e.pattern??(e.pattern=r),t._zod.onattach.push(n=>{let i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),t._zod.check=n=>{n.value.startsWith(e.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:n.value,inst:t,continue:!e.abort})}}),PW=ae("$ZodCheckEndsWith",(t,e)=>{Ln.init(t,e);let r=new RegExp(`.*${$l(e.suffix)}$`);e.pattern??(e.pattern=r),t._zod.onattach.push(n=>{let i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),t._zod.check=n=>{n.value.endsWith(e.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:n.value,inst:t,continue:!e.abort})}});function DSe(t,e,r){t.issues.length&&e.issues.push(...tl(r,t.issues))}var kW=ae("$ZodCheckProperty",(t,e)=>{Ln.init(t,e),t._zod.check=r=>{let n=e.schema._zod.run({value:r.value[e.property],issues:[]},{});if(n instanceof Promise)return n.then(i=>DSe(i,r,e.property));DSe(n,r,e.property)}}),DW=ae("$ZodCheckMimeType",(t,e)=>{Ln.init(t,e);let r=new Set(e.mime);t._zod.onattach.push(n=>{n._zod.bag.mime=e.mime}),t._zod.check=n=>{r.has(n.value.type)||n.issues.push({code:"invalid_value",values:e.mime,input:n.value.type,inst:t,continue:!e.abort})}}),MW=ae("$ZodCheckOverwrite",(t,e)=>{Ln.init(t,e),t._zod.check=r=>{r.value=e.tx(r.value)}});var S6=class{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}let n=e.split(`
`).filter(s=>s),i=Math.min(...n.map(s=>s.length-s.trimStart().length)),o=n.map(s=>s.slice(i)).map(s=>" ".repeat(this.indent*2)+s);for(let s of o)this.content.push(s)}compile(){let e=Function,r=this?.args,i=[...(this?.content??[""]).map(o=>`  ${o}`)];return new e(...r,i.join(`
`))}};var LW={major:4,minor:3,patch:6};var sr=ae("$ZodType",(t,e)=>{var r;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=LW;let n=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&n.unshift(t);for(let i of n)for(let o of i._zod.onattach)o(t);if(n.length===0)(r=t._zod).deferred??(r.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{let i=(s,a,c)=>{let l=o0(s),u;for(let d of a){if(d._zod.def.when){if(!d._zod.def.when(s))continue}else if(l)continue;let p=s.issues.length,f=d._zod.check(s);if(f instanceof Promise&&c?.async===!1)throw new Od;if(u||f instanceof Promise)u=(u??Promise.resolve()).then(async()=>{await f,s.issues.length!==p&&(l||(l=o0(s,p)))});else{if(s.issues.length===p)continue;l||(l=o0(s,p))}}return u?u.then(()=>s):s},o=(s,a,c)=>{if(o0(s))return s.aborted=!0,s;let l=i(a,n,c);if(l instanceof Promise){if(c.async===!1)throw new Od;return l.then(u=>t._zod.parse(u,c))}return t._zod.parse(l,c)};t._zod.run=(s,a)=>{if(a.skipChecks)return t._zod.parse(s,a);if(a.direction==="backward"){let l=t._zod.parse({value:s.value,issues:[]},{...a,skipChecks:!0});return l instanceof Promise?l.then(u=>o(u,s,a)):o(l,s,a)}let c=t._zod.parse(s,a);if(c instanceof Promise){if(a.async===!1)throw new Od;return c.then(l=>i(l,n,a))}return i(c,n,a)}}Er(t,"~standard",()=>({validate:i=>{try{let o=Hq(t,i);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return Vq(t,i).then(s=>s.success?{value:s.data}:{issues:s.error?.issues})}},vendor:"zod",version:1}))}),vb=ae("$ZodString",(t,e)=>{sr.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??uW(t._zod.bag),t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:t}),r}}),Rn=ae("$ZodStringFormat",(t,e)=>{Z2.init(t,e),vb.init(t,e)}),$W=ae("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=Xq),Rn.init(t,e)}),UW=ae("$ZodUUID",(t,e)=>{if(e.version){let n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(n===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=bb(n))}else e.pattern??(e.pattern=bb());Rn.init(t,e)}),FW=ae("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=Yq),Rn.init(t,e)}),zW=ae("$ZodURL",(t,e)=>{Rn.init(t,e),t._zod.check=r=>{try{let n=r.value.trim(),i=new URL(n);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:r.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:r.value,inst:t,continue:!e.abort})),e.normalize?r.value=i.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:t,continue:!e.abort})}}}),HW=ae("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=Zq()),Rn.init(t,e)}),VW=ae("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=Kq),Rn.init(t,e)}),GW=ae("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=Gq),Rn.init(t,e)}),jW=ae("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=jq),Rn.init(t,e)}),qW=ae("$ZodULID",(t,e)=>{e.pattern??(e.pattern=qq),Rn.init(t,e)}),WW=ae("$ZodXID",(t,e)=>{e.pattern??(e.pattern=Wq),Rn.init(t,e)}),JW=ae("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=Jq),Rn.init(t,e)}),KW=ae("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=lW(e)),Rn.init(t,e)}),QW=ae("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=aW),Rn.init(t,e)}),XW=ae("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=cW(e)),Rn.init(t,e)}),YW=ae("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=Qq),Rn.init(t,e)}),ZW=ae("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=eW),Rn.init(t,e),t._zod.bag.format="ipv4"}),eJ=ae("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=tW),Rn.init(t,e),t._zod.bag.format="ipv6",t._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:t,continue:!e.abort})}}}),tJ=ae("$ZodMAC",(t,e)=>{e.pattern??(e.pattern=rW(e.delimiter)),Rn.init(t,e),t._zod.bag.format="mac"}),rJ=ae("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=nW),Rn.init(t,e)}),nJ=ae("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=iW),Rn.init(t,e),t._zod.check=r=>{let n=r.value.split("/");try{if(n.length!==2)throw new Error;let[i,o]=n;if(!o)throw new Error;let s=Number(o);if(`${s}`!==o)throw new Error;if(s<0||s>128)throw new Error;new URL(`http://[${i}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:t,continue:!e.abort})}}});function iJ(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}var oJ=ae("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=oW),Rn.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=r=>{iJ(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:t,continue:!e.abort})}});function JSe(t){if(!TP.test(t))return!1;let e=t.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=e.padEnd(Math.ceil(e.length/4)*4,"=");return iJ(r)}var sJ=ae("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=TP),Rn.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=r=>{JSe(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:t,continue:!e.abort})}}),aJ=ae("$ZodE164",(t,e)=>{e.pattern??(e.pattern=sW),Rn.init(t,e)});function KSe(t,e=null){try{let r=t.split(".");if(r.length!==3)return!1;let[n]=r;if(!n)return!1;let i=JSON.parse(atob(n));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}var cJ=ae("$ZodJWT",(t,e)=>{Rn.init(t,e),t._zod.check=r=>{KSe(r.value,e.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:t,continue:!e.abort})}}),lJ=ae("$ZodCustomStringFormat",(t,e)=>{Rn.init(t,e),t._zod.check=r=>{e.fn(r.value)||r.issues.push({code:"invalid_format",format:e.format,input:r.value,inst:t,continue:!e.abort})}}),MP=ae("$ZodNumber",(t,e)=>{sr.init(t,e),t._zod.pattern=t._zod.bag.pattern??RP,t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=Number(r.value)}catch{}let i=r.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return r;let o=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:i,inst:t,...o?{received:o}:{}}),r}}),uJ=ae("$ZodNumberFormat",(t,e)=>{vW.init(t,e),MP.init(t,e)}),x6=ae("$ZodBoolean",(t,e)=>{sr.init(t,e),t._zod.pattern=fW,t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=!!r.value}catch{}let i=r.value;return typeof i=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:t}),r}}),LP=ae("$ZodBigInt",(t,e)=>{sr.init(t,e),t._zod.pattern=dW,t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=BigInt(r.value)}catch{}return typeof r.value=="bigint"||r.issues.push({expected:"bigint",code:"invalid_type",input:r.value,inst:t}),r}}),dJ=ae("$ZodBigIntFormat",(t,e)=>{_W.init(t,e),LP.init(t,e)}),pJ=ae("$ZodSymbol",(t,e)=>{sr.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;return typeof i=="symbol"||r.issues.push({expected:"symbol",code:"invalid_type",input:i,inst:t}),r}}),fJ=ae("$ZodUndefined",(t,e)=>{sr.init(t,e),t._zod.pattern=hW,t._zod.values=new Set([void 0]),t._zod.optin="optional",t._zod.optout="optional",t._zod.parse=(r,n)=>{let i=r.value;return typeof i>"u"||r.issues.push({expected:"undefined",code:"invalid_type",input:i,inst:t}),r}}),mJ=ae("$ZodNull",(t,e)=>{sr.init(t,e),t._zod.pattern=mW,t._zod.values=new Set([null]),t._zod.parse=(r,n)=>{let i=r.value;return i===null||r.issues.push({expected:"null",code:"invalid_type",input:i,inst:t}),r}}),hJ=ae("$ZodAny",(t,e)=>{sr.init(t,e),t._zod.parse=r=>r}),gJ=ae("$ZodUnknown",(t,e)=>{sr.init(t,e),t._zod.parse=r=>r}),yJ=ae("$ZodNever",(t,e)=>{sr.init(t,e),t._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:t}),r)}),bJ=ae("$ZodVoid",(t,e)=>{sr.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;return typeof i>"u"||r.issues.push({expected:"void",code:"invalid_type",input:i,inst:t}),r}}),vJ=ae("$ZodDate",(t,e)=>{sr.init(t,e),t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=new Date(r.value)}catch{}let i=r.value,o=i instanceof Date;return o&&!Number.isNaN(i.getTime())||r.issues.push({expected:"date",code:"invalid_type",input:i,...o?{received:"Invalid Date"}:{},inst:t}),r}});function BSe(t,e,r){t.issues.length&&e.issues.push(...tl(r,t.issues)),e.value[r]=t.value}var _J=ae("$ZodArray",(t,e)=>{sr.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;if(!Array.isArray(i))return r.issues.push({expected:"array",code:"invalid_type",input:i,inst:t}),r;r.value=Array(i.length);let o=[];for(let s=0;s<i.length;s++){let a=i[s],c=e.element._zod.run({value:a,issues:[]},n);c instanceof Promise?o.push(c.then(l=>BSe(l,r,s))):BSe(c,r,s)}return o.length?Promise.all(o).then(()=>r):r}});function DP(t,e,r,n,i){if(t.issues.length){if(i&&!(r in n))return;e.issues.push(...tl(r,t.issues))}t.value===void 0?r in n&&(e.value[r]=void 0):e.value[r]=t.value}function QSe(t){let e=Object.keys(t.shape);for(let n of e)if(!t.shape?.[n]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);let r=Bq(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(r)}}function XSe(t,e,r,n,i,o){let s=[],a=i.keySet,c=i.catchall._zod,l=c.def.type,u=c.optout==="optional";for(let d in e){if(a.has(d))continue;if(l==="never"){s.push(d);continue}let p=c.run({value:e[d],issues:[]},n);p instanceof Promise?t.push(p.then(f=>DP(f,r,d,e,u))):DP(p,r,d,e,u)}return s.length&&r.issues.push({code:"unrecognized_keys",keys:s,input:e,inst:o}),t.length?Promise.all(t).then(()=>r):r}var YSe=ae("$ZodObject",(t,e)=>{if(sr.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){let a=e.shape;Object.defineProperty(e,"shape",{get:()=>{let c={...a};return Object.defineProperty(e,"shape",{value:c}),c}})}let n=W2(()=>QSe(e));Er(t._zod,"propValues",()=>{let a=e.shape,c={};for(let l in a){let u=a[l]._zod;if(u.values){c[l]??(c[l]=new Set);for(let d of u.values)c[l].add(d)}}return c});let i=yb,o=e.catchall,s;t._zod.parse=(a,c)=>{s??(s=n.value);let l=a.value;if(!i(l))return a.issues.push({expected:"object",code:"invalid_type",input:l,inst:t}),a;a.value={};let u=[],d=s.shape;for(let p of s.keys){let f=d[p],h=f._zod.optout==="optional",m=f._zod.run({value:l[p],issues:[]},c);m instanceof Promise?u.push(m.then(g=>DP(g,a,p,l,h))):DP(m,a,p,l,h)}return o?XSe(u,l,a,c,n.value,t):u.length?Promise.all(u).then(()=>a):a}}),SJ=ae("$ZodObjectJIT",(t,e)=>{YSe.init(t,e);let r=t._zod.parse,n=W2(()=>QSe(e)),i=p=>{let f=new S6(["shape","payload","ctx"]),h=n.value,m=S=>{let w=mP(S);return`shape[${w}]._zod.run({ value: input[${w}], issues: [] }, ctx)`};f.write("const input = payload.value;");let g=Object.create(null),y=0;for(let S of h.keys)g[S]=`key_${y++}`;f.write("const newResult = {};");for(let S of h.keys){let w=g[S],E=mP(S),D=p[S]?._zod?.optout==="optional";f.write(`const ${w} = ${m(S)};`),D?f.write(`
        if (${w}.issues.length) {
          if (${E} in input) {
            payload.issues = payload.issues.concat(${w}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${E}, ...iss.path] : [${E}]
            })));
          }
        }
        
        if (${w}.value === undefined) {
          if (${E} in input) {
            newResult[${E}] = undefined;
          }
        } else {
          newResult[${E}] = ${w}.value;
        }
        
      `):f.write(`
        if (${w}.issues.length) {
          payload.issues = payload.issues.concat(${w}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${E}, ...iss.path] : [${E}]
          })));
        }
        
        if (${w}.value === undefined) {
          if (${E} in input) {
            newResult[${E}] = undefined;
          }
        } else {
          newResult[${E}] = ${w}.value;
        }
        
      `)}f.write("payload.value = newResult;"),f.write("return payload;");let v=f.compile();return(S,w)=>v(p,S,w)},o,s=yb,a=!l6.jitless,l=a&&Dq.value,u=e.catchall,d;t._zod.parse=(p,f)=>{d??(d=n.value);let h=p.value;return s(h)?a&&l&&f?.async===!1&&f.jitless!==!0?(o||(o=i(e.shape)),p=o(p,f),u?XSe([],h,p,f,d,t):p):r(p,f):(p.issues.push({expected:"object",code:"invalid_type",input:h,inst:t}),p)}});function $Se(t,e,r,n){for(let o of t)if(o.issues.length===0)return e.value=o.value,e;let i=t.filter(o=>!o0(o));return i.length===1?(e.value=i[0].value,i[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:r,errors:t.map(o=>o.issues.map(s=>nc(s,n,Bi())))}),e)}var w6=ae("$ZodUnion",(t,e)=>{sr.init(t,e),Er(t._zod,"optin",()=>e.options.some(i=>i._zod.optin==="optional")?"optional":void 0),Er(t._zod,"optout",()=>e.options.some(i=>i._zod.optout==="optional")?"optional":void 0),Er(t._zod,"values",()=>{if(e.options.every(i=>i._zod.values))return new Set(e.options.flatMap(i=>Array.from(i._zod.values)))}),Er(t._zod,"pattern",()=>{if(e.options.every(i=>i._zod.pattern)){let i=e.options.map(o=>o._zod.pattern);return new RegExp(`^(${i.map(o=>p6(o.source)).join("|")})$`)}});let r=e.options.length===1,n=e.options[0]._zod.run;t._zod.parse=(i,o)=>{if(r)return n(i,o);let s=!1,a=[];for(let c of e.options){let l=c._zod.run({value:i.value,issues:[]},o);if(l instanceof Promise)a.push(l),s=!0;else{if(l.issues.length===0)return l;a.push(l)}}return s?Promise.all(a).then(c=>$Se(c,i,t,o)):$Se(a,i,t,o)}});function USe(t,e,r,n){let i=t.filter(o=>o.issues.length===0);return i.length===1?(e.value=i[0].value,e):(i.length===0?e.issues.push({code:"invalid_union",input:e.value,inst:r,errors:t.map(o=>o.issues.map(s=>nc(s,n,Bi())))}):e.issues.push({code:"invalid_union",input:e.value,inst:r,errors:[],inclusive:!1}),e)}var xJ=ae("$ZodXor",(t,e)=>{w6.init(t,e),e.inclusive=!1;let r=e.options.length===1,n=e.options[0]._zod.run;t._zod.parse=(i,o)=>{if(r)return n(i,o);let s=!1,a=[];for(let c of e.options){let l=c._zod.run({value:i.value,issues:[]},o);l instanceof Promise?(a.push(l),s=!0):a.push(l)}return s?Promise.all(a).then(c=>USe(c,i,t,o)):USe(a,i,t,o)}}),wJ=ae("$ZodDiscriminatedUnion",(t,e)=>{e.inclusive=!1,w6.init(t,e);let r=t._zod.parse;Er(t._zod,"propValues",()=>{let i={};for(let o of e.options){let s=o._zod.propValues;if(!s||Object.keys(s).length===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(o)}"`);for(let[a,c]of Object.entries(s)){i[a]||(i[a]=new Set);for(let l of c)i[a].add(l)}}return i});let n=W2(()=>{let i=e.options,o=new Map;for(let s of i){let a=s._zod.propValues?.[e.discriminator];if(!a||a.size===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(s)}"`);for(let c of a){if(o.has(c))throw new Error(`Duplicate discriminator value "${String(c)}"`);o.set(c,s)}}return o});t._zod.parse=(i,o)=>{let s=i.value;if(!yb(s))return i.issues.push({code:"invalid_type",expected:"object",input:s,inst:t}),i;let a=n.value.get(s?.[e.discriminator]);return a?a._zod.run(i,o):e.unionFallback?r(i,o):(i.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:e.discriminator,input:s,path:[e.discriminator],inst:t}),i)}}),AJ=ae("$ZodIntersection",(t,e)=>{sr.init(t,e),t._zod.parse=(r,n)=>{let i=r.value,o=e.left._zod.run({value:i,issues:[]},n),s=e.right._zod.run({value:i,issues:[]},n);return o instanceof Promise||s instanceof Promise?Promise.all([o,s]).then(([c,l])=>FSe(r,c,l)):FSe(r,o,s)}});function BW(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(i0(t)&&i0(e)){let r=Object.keys(e),n=Object.keys(t).filter(o=>r.indexOf(o)!==-1),i={...t,...e};for(let o of n){let s=BW(t[o],e[o]);if(!s.valid)return{valid:!1,mergeErrorPath:[o,...s.mergeErrorPath]};i[o]=s.data}return{valid:!0,data:i}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};let r=[];for(let n=0;n<t.length;n++){let i=t[n],o=e[n],s=BW(i,o);if(!s.valid)return{valid:!1,mergeErrorPath:[n,...s.mergeErrorPath]};r.push(s.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function FSe(t,e,r){let n=new Map,i;for(let a of e.issues)if(a.code==="unrecognized_keys"){i??(i=a);for(let c of a.keys)n.has(c)||n.set(c,{}),n.get(c).l=!0}else t.issues.push(a);for(let a of r.issues)if(a.code==="unrecognized_keys")for(let c of a.keys)n.has(c)||n.set(c,{}),n.get(c).r=!0;else t.issues.push(a);let o=[...n].filter(([,a])=>a.l&&a.r).map(([a])=>a);if(o.length&&i&&t.issues.push({...i,keys:o}),o0(t))return t;let s=BW(e.value,r.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return t.value=s.data,t}var BP=ae("$ZodTuple",(t,e)=>{sr.init(t,e);let r=e.items;t._zod.parse=(n,i)=>{let o=n.value;if(!Array.isArray(o))return n.issues.push({input:o,inst:t,expected:"tuple",code:"invalid_type"}),n;n.value=[];let s=[],a=[...r].reverse().findIndex(u=>u._zod.optin!=="optional"),c=a===-1?0:r.length-a;if(!e.rest){let u=o.length>r.length,d=o.length<c-1;if(u||d)return n.issues.push({...u?{code:"too_big",maximum:r.length,inclusive:!0}:{code:"too_small",minimum:r.length},input:o,inst:t,origin:"array"}),n}let l=-1;for(let u of r){if(l++,l>=o.length&&l>=c)continue;let d=u._zod.run({value:o[l],issues:[]},i);d instanceof Promise?s.push(d.then(p=>NP(p,n,l))):NP(d,n,l)}if(e.rest){let u=o.slice(r.length);for(let d of u){l++;let p=e.rest._zod.run({value:d,issues:[]},i);p instanceof Promise?s.push(p.then(f=>NP(f,n,l))):NP(p,n,l)}}return s.length?Promise.all(s).then(()=>n):n}});function NP(t,e,r){t.issues.length&&e.issues.push(...tl(r,t.issues)),e.value[r]=t.value}var EJ=ae("$ZodRecord",(t,e)=>{sr.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;if(!i0(i))return r.issues.push({expected:"record",code:"invalid_type",input:i,inst:t}),r;let o=[],s=e.keyType._zod.values;if(s){r.value={};let a=new Set;for(let l of s)if(typeof l=="string"||typeof l=="number"||typeof l=="symbol"){a.add(typeof l=="number"?l.toString():l);let u=e.valueType._zod.run({value:i[l],issues:[]},n);u instanceof Promise?o.push(u.then(d=>{d.issues.length&&r.issues.push(...tl(l,d.issues)),r.value[l]=d.value})):(u.issues.length&&r.issues.push(...tl(l,u.issues)),r.value[l]=u.value)}let c;for(let l in i)a.has(l)||(c=c??[],c.push(l));c&&c.length>0&&r.issues.push({code:"unrecognized_keys",input:i,inst:t,keys:c})}else{r.value={};for(let a of Reflect.ownKeys(i)){if(a==="__proto__")continue;let c=e.keyType._zod.run({value:a,issues:[]},n);if(c instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof a=="string"&&RP.test(a)&&c.issues.length){let d=e.keyType._zod.run({value:Number(a),issues:[]},n);if(d instanceof Promise)throw new Error("Async schemas not supported in object keys currently");d.issues.length===0&&(c=d)}if(c.issues.length){e.mode==="loose"?r.value[a]=i[a]:r.issues.push({code:"invalid_key",origin:"record",issues:c.issues.map(d=>nc(d,n,Bi())),input:a,path:[a],inst:t});continue}let u=e.valueType._zod.run({value:i[a],issues:[]},n);u instanceof Promise?o.push(u.then(d=>{d.issues.length&&r.issues.push(...tl(a,d.issues)),r.value[c.value]=d.value})):(u.issues.length&&r.issues.push(...tl(a,u.issues)),r.value[c.value]=u.value)}}return o.length?Promise.all(o).then(()=>r):r}}),TJ=ae("$ZodMap",(t,e)=>{sr.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;if(!(i instanceof Map))return r.issues.push({expected:"map",code:"invalid_type",input:i,inst:t}),r;let o=[];r.value=new Map;for(let[s,a]of i){let c=e.keyType._zod.run({value:s,issues:[]},n),l=e.valueType._zod.run({value:a,issues:[]},n);c instanceof Promise||l instanceof Promise?o.push(Promise.all([c,l]).then(([u,d])=>{zSe(u,d,r,s,i,t,n)})):zSe(c,l,r,s,i,t,n)}return o.length?Promise.all(o).then(()=>r):r}});function zSe(t,e,r,n,i,o,s){t.issues.length&&(f6.has(typeof n)?r.issues.push(...tl(n,t.issues)):r.issues.push({code:"invalid_key",origin:"map",input:i,inst:o,issues:t.issues.map(a=>nc(a,s,Bi()))})),e.issues.length&&(f6.has(typeof n)?r.issues.push(...tl(n,e.issues)):r.issues.push({origin:"map",code:"invalid_element",input:i,inst:o,key:n,issues:e.issues.map(a=>nc(a,s,Bi()))})),r.value.set(t.value,e.value)}var RJ=ae("$ZodSet",(t,e)=>{sr.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;if(!(i instanceof Set))return r.issues.push({input:i,inst:t,expected:"set",code:"invalid_type"}),r;let o=[];r.value=new Set;for(let s of i){let a=e.valueType._zod.run({value:s,issues:[]},n);a instanceof Promise?o.push(a.then(c=>HSe(c,r))):HSe(a,r)}return o.length?Promise.all(o).then(()=>r):r}});function HSe(t,e){t.issues.length&&e.issues.push(...t.issues),e.value.add(t.value)}var IJ=ae("$ZodEnum",(t,e)=>{sr.init(t,e);let r=d6(e.entries),n=new Set(r);t._zod.values=n,t._zod.pattern=new RegExp(`^(${r.filter(i=>f6.has(typeof i)).map(i=>typeof i=="string"?$l(i):i.toString()).join("|")})$`),t._zod.parse=(i,o)=>{let s=i.value;return n.has(s)||i.issues.push({code:"invalid_value",values:r,input:s,inst:t}),i}}),CJ=ae("$ZodLiteral",(t,e)=>{if(sr.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");let r=new Set(e.values);t._zod.values=r,t._zod.pattern=new RegExp(`^(${e.values.map(n=>typeof n=="string"?$l(n):n?$l(n.toString()):String(n)).join("|")})$`),t._zod.parse=(n,i)=>{let o=n.value;return r.has(o)||n.issues.push({code:"invalid_value",values:e.values,input:o,inst:t}),n}}),NJ=ae("$ZodFile",(t,e)=>{sr.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;return i instanceof File||r.issues.push({expected:"file",code:"invalid_type",input:i,inst:t}),r}}),OJ=ae("$ZodTransform",(t,e)=>{sr.init(t,e),t._zod.parse=(r,n)=>{if(n.direction==="backward")throw new t0(t.constructor.name);let i=e.transform(r.value,r);if(n.async)return(i instanceof Promise?i:Promise.resolve(i)).then(s=>(r.value=s,r));if(i instanceof Promise)throw new Od;return r.value=i,r}});function VSe(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}var $P=ae("$ZodOptional",(t,e)=>{sr.init(t,e),t._zod.optin="optional",t._zod.optout="optional",Er(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Er(t._zod,"pattern",()=>{let r=e.innerType._zod.pattern;return r?new RegExp(`^(${p6(r.source)})?$`):void 0}),t._zod.parse=(r,n)=>{if(e.innerType._zod.optin==="optional"){let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>VSe(o,r.value)):VSe(i,r.value)}return r.value===void 0?r:e.innerType._zod.run(r,n)}}),PJ=ae("$ZodExactOptional",(t,e)=>{$P.init(t,e),Er(t._zod,"values",()=>e.innerType._zod.values),Er(t._zod,"pattern",()=>e.innerType._zod.pattern),t._zod.parse=(r,n)=>e.innerType._zod.run(r,n)}),kJ=ae("$ZodNullable",(t,e)=>{sr.init(t,e),Er(t._zod,"optin",()=>e.innerType._zod.optin),Er(t._zod,"optout",()=>e.innerType._zod.optout),Er(t._zod,"pattern",()=>{let r=e.innerType._zod.pattern;return r?new RegExp(`^(${p6(r.source)}|null)$`):void 0}),Er(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(r,n)=>r.value===null?r:e.innerType._zod.run(r,n)}),DJ=ae("$ZodDefault",(t,e)=>{sr.init(t,e),t._zod.optin="optional",Er(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>{if(n.direction==="backward")return e.innerType._zod.run(r,n);if(r.value===void 0)return r.value=e.defaultValue,r;let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>GSe(o,e)):GSe(i,e)}});function GSe(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}var MJ=ae("$ZodPrefault",(t,e)=>{sr.init(t,e),t._zod.optin="optional",Er(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=e.defaultValue),e.innerType._zod.run(r,n))}),LJ=ae("$ZodNonOptional",(t,e)=>{sr.init(t,e),Er(t._zod,"values",()=>{let r=e.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),t._zod.parse=(r,n)=>{let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>jSe(o,t)):jSe(i,t)}});function jSe(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}var BJ=ae("$ZodSuccess",(t,e)=>{sr.init(t,e),t._zod.parse=(r,n)=>{if(n.direction==="backward")throw new t0("ZodSuccess");let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>(r.value=o.issues.length===0,r)):(r.value=i.issues.length===0,r)}}),$J=ae("$ZodCatch",(t,e)=>{sr.init(t,e),Er(t._zod,"optin",()=>e.innerType._zod.optin),Er(t._zod,"optout",()=>e.innerType._zod.optout),Er(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>{if(n.direction==="backward")return e.innerType._zod.run(r,n);let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>(r.value=o.value,o.issues.length&&(r.value=e.catchValue({...r,error:{issues:o.issues.map(s=>nc(s,n,Bi()))},input:r.value}),r.issues=[]),r)):(r.value=i.value,i.issues.length&&(r.value=e.catchValue({...r,error:{issues:i.issues.map(o=>nc(o,n,Bi()))},input:r.value}),r.issues=[]),r)}}),UJ=ae("$ZodNaN",(t,e)=>{sr.init(t,e),t._zod.parse=(r,n)=>((typeof r.value!="number"||!Number.isNaN(r.value))&&r.issues.push({input:r.value,inst:t,expected:"nan",code:"invalid_type"}),r)}),FJ=ae("$ZodPipe",(t,e)=>{sr.init(t,e),Er(t._zod,"values",()=>e.in._zod.values),Er(t._zod,"optin",()=>e.in._zod.optin),Er(t._zod,"optout",()=>e.out._zod.optout),Er(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(r,n)=>{if(n.direction==="backward"){let o=e.out._zod.run(r,n);return o instanceof Promise?o.then(s=>OP(s,e.in,n)):OP(o,e.in,n)}let i=e.in._zod.run(r,n);return i instanceof Promise?i.then(o=>OP(o,e.out,n)):OP(i,e.out,n)}});function OP(t,e,r){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},r)}var A6=ae("$ZodCodec",(t,e)=>{sr.init(t,e),Er(t._zod,"values",()=>e.in._zod.values),Er(t._zod,"optin",()=>e.in._zod.optin),Er(t._zod,"optout",()=>e.out._zod.optout),Er(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(r,n)=>{if((n.direction||"forward")==="forward"){let o=e.in._zod.run(r,n);return o instanceof Promise?o.then(s=>PP(s,e,n)):PP(o,e,n)}else{let o=e.out._zod.run(r,n);return o instanceof Promise?o.then(s=>PP(s,e,n)):PP(o,e,n)}}});function PP(t,e,r){if(t.issues.length)return t.aborted=!0,t;if((r.direction||"forward")==="forward"){let i=e.transform(t.value,t);return i instanceof Promise?i.then(o=>kP(t,o,e.out,r)):kP(t,i,e.out,r)}else{let i=e.reverseTransform(t.value,t);return i instanceof Promise?i.then(o=>kP(t,o,e.in,r)):kP(t,i,e.in,r)}}function kP(t,e,r,n){return t.issues.length?(t.aborted=!0,t):r._zod.run({value:e,issues:t.issues},n)}var zJ=ae("$ZodReadonly",(t,e)=>{sr.init(t,e),Er(t._zod,"propValues",()=>e.innerType._zod.propValues),Er(t._zod,"values",()=>e.innerType._zod.values),Er(t._zod,"optin",()=>e.innerType?._zod?.optin),Er(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(r,n)=>{if(n.direction==="backward")return e.innerType._zod.run(r,n);let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(qSe):qSe(i)}});function qSe(t){return t.value=Object.freeze(t.value),t}var HJ=ae("$ZodTemplateLiteral",(t,e)=>{sr.init(t,e);let r=[];for(let n of e.parts)if(typeof n=="object"&&n!==null){if(!n._zod.pattern)throw new Error(`Invalid template literal part, no pattern found: ${[...n._zod.traits].shift()}`);let i=n._zod.pattern instanceof RegExp?n._zod.pattern.source:n._zod.pattern;if(!i)throw new Error(`Invalid template literal part: ${n._zod.traits}`);let o=i.startsWith("^")?1:0,s=i.endsWith("$")?i.length-1:i.length;r.push(i.slice(o,s))}else if(n===null||Lq.has(typeof n))r.push($l(`${n}`));else throw new Error(`Invalid template literal part: ${n}`);t._zod.pattern=new RegExp(`^${r.join("")}$`),t._zod.parse=(n,i)=>typeof n.value!="string"?(n.issues.push({input:n.value,inst:t,expected:"string",code:"invalid_type"}),n):(t._zod.pattern.lastIndex=0,t._zod.pattern.test(n.value)||n.issues.push({input:n.value,inst:t,code:"invalid_format",format:e.format??"template_literal",pattern:t._zod.pattern.source}),n)}),VJ=ae("$ZodFunction",(t,e)=>(sr.init(t,e),t._def=e,t._zod.def=e,t.implement=r=>{if(typeof r!="function")throw new Error("implement() must be called with a function");return function(...n){let i=t._def.input?gP(t._def.input,n):n,o=Reflect.apply(r,this,i);return t._def.output?gP(t._def.output,o):o}},t.implementAsync=r=>{if(typeof r!="function")throw new Error("implementAsync() must be called with a function");return async function(...n){let i=t._def.input?await yP(t._def.input,n):n,o=await Reflect.apply(r,this,i);return t._def.output?await yP(t._def.output,o):o}},t._zod.parse=(r,n)=>typeof r.value!="function"?(r.issues.push({code:"invalid_type",expected:"function",input:r.value,inst:t}),r):(t._def.output&&t._def.output._zod.def.type==="promise"?r.value=t.implementAsync(r.value):r.value=t.implement(r.value),r),t.input=(...r)=>{let n=t.constructor;return Array.isArray(r[0])?new n({type:"function",input:new BP({type:"tuple",items:r[0],rest:r[1]}),output:t._def.output}):new n({type:"function",input:r[0],output:t._def.output})},t.output=r=>{let n=t.constructor;return new n({type:"function",input:t._def.input,output:r})},t)),GJ=ae("$ZodPromise",(t,e)=>{sr.init(t,e),t._zod.parse=(r,n)=>Promise.resolve(r.value).then(i=>e.innerType._zod.run({value:i,issues:[]},n))}),jJ=ae("$ZodLazy",(t,e)=>{sr.init(t,e),Er(t._zod,"innerType",()=>e.getter()),Er(t._zod,"pattern",()=>t._zod.innerType?._zod?.pattern),Er(t._zod,"propValues",()=>t._zod.innerType?._zod?.propValues),Er(t._zod,"optin",()=>t._zod.innerType?._zod?.optin??void 0),Er(t._zod,"optout",()=>t._zod.innerType?._zod?.optout??void 0),t._zod.parse=(r,n)=>t._zod.innerType._zod.run(r,n)}),qJ=ae("$ZodCustom",(t,e)=>{Ln.init(t,e),sr.init(t,e),t._zod.parse=(r,n)=>r,t._zod.check=r=>{let n=r.value,i=e.fn(n);if(i instanceof Promise)return i.then(o=>WSe(o,r,n,t));WSe(i,r,n,t)}});function WSe(t,e,r,n){if(!t){let i={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(i.params=n._zod.def.params),e.issues.push(J2(i))}}var T6={};Nr(T6,{ar:()=>ZSe,az:()=>e2e,be:()=>r2e,bg:()=>n2e,ca:()=>i2e,cs:()=>o2e,da:()=>s2e,de:()=>a2e,en:()=>UP,eo:()=>c2e,es:()=>l2e,fa:()=>u2e,fi:()=>d2e,fr:()=>p2e,frCA:()=>f2e,he:()=>m2e,hu:()=>h2e,hy:()=>y2e,id:()=>b2e,is:()=>v2e,it:()=>_2e,ja:()=>S2e,ka:()=>x2e,kh:()=>w2e,km:()=>FP,ko:()=>A2e,lt:()=>T2e,mk:()=>R2e,ms:()=>I2e,nl:()=>C2e,no:()=>N2e,ota:()=>O2e,pl:()=>k2e,ps:()=>P2e,pt:()=>D2e,ru:()=>L2e,sl:()=>B2e,sv:()=>$2e,ta:()=>U2e,th:()=>F2e,tr:()=>z2e,ua:()=>H2e,uk:()=>zP,ur:()=>V2e,uz:()=>G2e,vi:()=>j2e,yo:()=>J2e,zhCN:()=>q2e,zhTW:()=>W2e});var bSt=()=>{let t={string:{unit:"\u062D\u0631\u0641",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},file:{unit:"\u0628\u0627\u064A\u062A",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},array:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},set:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"}};function e(i){return t[i]??null}let r={regex:"\u0645\u062F\u062E\u0644",email:"\u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",url:"\u0631\u0627\u0628\u0637",emoji:"\u0625\u064A\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u064A\u062E \u0648\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",date:"\u062A\u0627\u0631\u064A\u062E \u0628\u0645\u0639\u064A\u0627\u0631 ISO",time:"\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",duration:"\u0645\u062F\u0629 \u0628\u0645\u0639\u064A\u0627\u0631 ISO",ipv4:"\u0639\u0646\u0648\u0627\u0646 IPv4",ipv6:"\u0639\u0646\u0648\u0627\u0646 IPv6",cidrv4:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv4",cidrv6:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv6",base64:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64-encoded",base64url:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64url-encoded",json_string:"\u0646\u064E\u0635 \u0639\u0644\u0649 \u0647\u064A\u0626\u0629 JSON",e164:"\u0631\u0642\u0645 \u0647\u0627\u062A\u0641 \u0628\u0645\u0639\u064A\u0627\u0631 E.164",jwt:"JWT",template_literal:"\u0645\u062F\u062E\u0644"},n={nan:"NaN"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 instanceof ${i.expected}\u060C \u0648\u0644\u0643\u0646 \u062A\u0645 \u0625\u062F\u062E\u0627\u0644 ${a}`:`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${o}\u060C \u0648\u0644\u0643\u0646 \u062A\u0645 \u0625\u062F\u062E\u0627\u0644 ${a}`}case"invalid_value":return i.values.length===1?`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${Ge(i.values[0])}`:`\u0627\u062E\u062A\u064A\u0627\u0631 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062A\u0648\u0642\u0639 \u0627\u0646\u062A\u0642\u0627\u0621 \u0623\u062D\u062F \u0647\u0630\u0647 \u0627\u0644\u062E\u064A\u0627\u0631\u0627\u062A: ${_e(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?` \u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${i.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${o} ${i.maximum.toString()} ${s.unit??"\u0639\u0646\u0635\u0631"}`:`\u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${i.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${o} ${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${i.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${o} ${i.minimum.toString()} ${s.unit}`:`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${i.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${o} ${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0628\u062F\u0623 \u0628\u0640 "${i.prefix}"`:o.format==="ends_with"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0646\u062A\u0647\u064A \u0628\u0640 "${o.suffix}"`:o.format==="includes"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u062A\u0636\u0645\u0651\u064E\u0646 "${o.includes}"`:o.format==="regex"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0637\u0627\u0628\u0642 \u0627\u0644\u0646\u0645\u0637 ${o.pattern}`:`${r[o.format]??i.format} \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644`}case"not_multiple_of":return`\u0631\u0642\u0645 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0645\u0646 \u0645\u0636\u0627\u0639\u0641\u0627\u062A ${i.divisor}`;case"unrecognized_keys":return`\u0645\u0639\u0631\u0641${i.keys.length>1?"\u0627\u062A":""} \u063A\u0631\u064A\u0628${i.keys.length>1?"\u0629":""}: ${_e(i.keys,"\u060C ")}`;case"invalid_key":return`\u0645\u0639\u0631\u0641 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${i.origin}`;case"invalid_union":return"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644";case"invalid_element":return`\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${i.origin}`;default:return"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644"}}};function ZSe(){return{localeError:bSt()}}var vSt=()=>{let t={string:{unit:"simvol",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"element",verb:"olmal\u0131d\u0131r"},set:{unit:"element",verb:"olmal\u0131d\u0131r"}};function e(i){return t[i]??null}let r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},n={nan:"NaN"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n instanceof ${i.expected}, daxil olan ${a}`:`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${o}, daxil olan ${a}`}case"invalid_value":return i.values.length===1?`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${Ge(i.values[0])}`:`Yanl\u0131\u015F se\xE7im: a\u015Fa\u011F\u0131dak\u0131lardan biri olmal\u0131d\u0131r: ${_e(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${i.origin??"d\u0259y\u0259r"} ${o}${i.maximum.toString()} ${s.unit??"element"}`:`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${i.origin??"d\u0259y\u0259r"} ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${i.origin} ${o}${i.minimum.toString()} ${s.unit}`:`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${i.origin} ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Yanl\u0131\u015F m\u0259tn: "${o.prefix}" il\u0259 ba\u015Flamal\u0131d\u0131r`:o.format==="ends_with"?`Yanl\u0131\u015F m\u0259tn: "${o.suffix}" il\u0259 bitm\u0259lidir`:o.format==="includes"?`Yanl\u0131\u015F m\u0259tn: "${o.includes}" daxil olmal\u0131d\u0131r`:o.format==="regex"?`Yanl\u0131\u015F m\u0259tn: ${o.pattern} \u015Fablonuna uy\u011Fun olmal\u0131d\u0131r`:`Yanl\u0131\u015F ${r[o.format]??i.format}`}case"not_multiple_of":return`Yanl\u0131\u015F \u0259d\u0259d: ${i.divisor} il\u0259 b\xF6l\xFCn\u0259 bil\u0259n olmal\u0131d\u0131r`;case"unrecognized_keys":return`Tan\u0131nmayan a\xE7ar${i.keys.length>1?"lar":""}: ${_e(i.keys,", ")}`;case"invalid_key":return`${i.origin} daxilind\u0259 yanl\u0131\u015F a\xE7ar`;case"invalid_union":return"Yanl\u0131\u015F d\u0259y\u0259r";case"invalid_element":return`${i.origin} daxilind\u0259 yanl\u0131\u015F d\u0259y\u0259r`;default:return"Yanl\u0131\u015F d\u0259y\u0259r"}}};function e2e(){return{localeError:vSt()}}function t2e(t,e,r,n){let i=Math.abs(t),o=i%10,s=i%100;return s>=11&&s<=19?n:o===1?e:o>=2&&o<=4?r:n}var _St=()=>{let t={string:{unit:{one:"\u0441\u0456\u043C\u0432\u0430\u043B",few:"\u0441\u0456\u043C\u0432\u0430\u043B\u044B",many:"\u0441\u0456\u043C\u0432\u0430\u043B\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u044B",many:"\u0431\u0430\u0439\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"}};function e(i){return t[i]??null}let r={regex:"\u0443\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0430\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0456 \u0447\u0430\u0441",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0447\u0430\u0441",duration:"ISO \u043F\u0440\u0430\u0446\u044F\u0433\u043B\u0430\u0441\u0446\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0430\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0430\u0441",cidrv4:"IPv4 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",base64:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64",base64url:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64url",json_string:"JSON \u0440\u0430\u0434\u043E\u043A",e164:"\u043D\u0443\u043C\u0430\u0440 E.164",jwt:"JWT",template_literal:"\u0443\u0432\u043E\u0434"},n={nan:"NaN",number:"\u043B\u0456\u043A",array:"\u043C\u0430\u0441\u0456\u045E"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u045E\u0441\u044F instanceof ${i.expected}, \u0430\u0442\u0440\u044B\u043C\u0430\u043D\u0430 ${a}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u045E\u0441\u044F ${o}, \u0430\u0442\u0440\u044B\u043C\u0430\u043D\u0430 ${a}`}case"invalid_value":return i.values.length===1?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F ${Ge(i.values[0])}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0432\u0430\u0440\u044B\u044F\u043D\u0442: \u0447\u0430\u043A\u0430\u045E\u0441\u044F \u0430\u0434\u0437\u0456\u043D \u0437 ${_e(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);if(s){let a=Number(i.maximum),c=t2e(a,s.unit.one,s.unit.few,s.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${i.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${s.verb} ${o}${i.maximum.toString()} ${c}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${i.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);if(s){let a=Number(i.minimum),c=t2e(a,s.unit.one,s.unit.few,s.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${i.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${s.verb} ${o}${i.minimum.toString()} ${c}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${i.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u043F\u0430\u0447\u044B\u043D\u0430\u0446\u0446\u0430 \u0437 "${o.prefix}"`:o.format==="ends_with"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u0430\u043A\u0430\u043D\u0447\u0432\u0430\u0446\u0446\u0430 \u043D\u0430 "${o.suffix}"`:o.format==="includes"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u043C\u044F\u0448\u0447\u0430\u0446\u044C "${o.includes}"`:o.format==="regex"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0430\u0434\u043F\u0430\u0432\u044F\u0434\u0430\u0446\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${o.pattern}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B ${r[o.format]??i.format}`}case"not_multiple_of":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043B\u0456\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0431\u044B\u0446\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${i.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u0430\u0437\u043D\u0430\u043D\u044B ${i.keys.length>1?"\u043A\u043B\u044E\u0447\u044B":"\u043A\u043B\u044E\u0447"}: ${_e(i.keys,", ")}`;case"invalid_key":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043A\u043B\u044E\u0447 \u0443 ${i.origin}`;case"invalid_union":return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434";case"invalid_element":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u0430\u0435 \u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435 \u045E ${i.origin}`;default:return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434"}}};function r2e(){return{localeError:_St()}}var SSt=()=>{let t={string:{unit:"\u0441\u0438\u043C\u0432\u043E\u043B\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},file:{unit:"\u0431\u0430\u0439\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},array:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},set:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"}};function e(i){return t[i]??null}let r={regex:"\u0432\u0445\u043E\u0434",email:"\u0438\u043C\u0435\u0439\u043B \u0430\u0434\u0440\u0435\u0441",url:"URL",emoji:"\u0435\u043C\u043E\u0434\u0436\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0432\u0440\u0435\u043C\u0435",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0432\u0440\u0435\u043C\u0435",duration:"ISO \u043F\u0440\u043E\u0434\u044A\u043B\u0436\u0438\u0442\u0435\u043B\u043D\u043E\u0441\u0442",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441",cidrv4:"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",base64:"base64-\u043A\u043E\u0434\u0438\u0440\u0430\u043D \u043D\u0438\u0437",base64url:"base64url-\u043A\u043E\u0434\u0438\u0440\u0430\u043D \u043D\u0438\u0437",json_string:"JSON \u043D\u0438\u0437",e164:"E.164 \u043D\u043E\u043C\u0435\u0440",jwt:"JWT",template_literal:"\u0432\u0445\u043E\u0434"},n={nan:"NaN",number:"\u0447\u0438\u0441\u043B\u043E",array:"\u043C\u0430\u0441\u0438\u0432"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D instanceof ${i.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D ${a}`:`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D ${o}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D ${a}`}case"invalid_value":return i.values.length===1?`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D ${Ge(i.values[0])}`:`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430 \u043E\u043F\u0446\u0438\u044F: \u043E\u0447\u0430\u043A\u0432\u0430\u043D\u043E \u0435\u0434\u043D\u043E \u043E\u0442 ${_e(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u0422\u0432\u044A\u0440\u0434\u0435 \u0433\u043E\u043B\u044F\u043C\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${i.origin??"\u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442"} \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 ${o}${i.maximum.toString()} ${s.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430"}`:`\u0422\u0432\u044A\u0440\u0434\u0435 \u0433\u043E\u043B\u044F\u043C\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${i.origin??"\u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442"} \u0434\u0430 \u0431\u044A\u0434\u0435 ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u0422\u0432\u044A\u0440\u0434\u0435 \u043C\u0430\u043B\u043A\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${i.origin} \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 ${o}${i.minimum.toString()} ${s.unit}`:`\u0422\u0432\u044A\u0440\u0434\u0435 \u043C\u0430\u043B\u043A\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${i.origin} \u0434\u0430 \u0431\u044A\u0434\u0435 ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;if(o.format==="starts_with")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u0432\u0430 \u0441 "${o.prefix}"`;if(o.format==="ends_with")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0437\u0430\u0432\u044A\u0440\u0448\u0432\u0430 \u0441 "${o.suffix}"`;if(o.format==="includes")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0432\u043A\u043B\u044E\u0447\u0432\u0430 "${o.includes}"`;if(o.format==="regex")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0441\u044A\u0432\u043F\u0430\u0434\u0430 \u0441 ${o.pattern}`;let s="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D";return o.format==="emoji"&&(s="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),o.format==="datetime"&&(s="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),o.format==="date"&&(s="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430"),o.format==="time"&&(s="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),o.format==="duration"&&(s="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430"),`${s} ${r[o.format]??i.format}`}case"not_multiple_of":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E \u0447\u0438\u0441\u043B\u043E: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0431\u044A\u0434\u0435 \u043A\u0440\u0430\u0442\u043D\u043E \u043D\u0430 ${i.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0437\u043F\u043E\u0437\u043D\u0430\u0442${i.keys.length>1?"\u0438":""} \u043A\u043B\u044E\u0447${i.keys.length>1?"\u043E\u0432\u0435":""}: ${_e(i.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043A\u043B\u044E\u0447 \u0432 ${i.origin}`;case"invalid_union":return"\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434";case"invalid_element":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430 \u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442 \u0432 ${i.origin}`;default:return"\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434"}}};function n2e(){return{localeError:SSt()}}var xSt=()=>{let t={string:{unit:"car\xE0cters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function e(i){return t[i]??null}let r={regex:"entrada",email:"adre\xE7a electr\xF2nica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adre\xE7a IPv4",ipv6:"adre\xE7a IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"},n={nan:"NaN"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Tipus inv\xE0lid: s'esperava instanceof ${i.expected}, s'ha rebut ${a}`:`Tipus inv\xE0lid: s'esperava ${o}, s'ha rebut ${a}`}case"invalid_value":return i.values.length===1?`Valor inv\xE0lid: s'esperava ${Ge(i.values[0])}`:`Opci\xF3 inv\xE0lida: s'esperava una de ${_e(i.values," o ")}`;case"too_big":{let o=i.inclusive?"com a m\xE0xim":"menys de",s=e(i.origin);return s?`Massa gran: s'esperava que ${i.origin??"el valor"} contingu\xE9s ${o} ${i.maximum.toString()} ${s.unit??"elements"}`:`Massa gran: s'esperava que ${i.origin??"el valor"} fos ${o} ${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?"com a m\xEDnim":"m\xE9s de",s=e(i.origin);return s?`Massa petit: s'esperava que ${i.origin} contingu\xE9s ${o} ${i.minimum.toString()} ${s.unit}`:`Massa petit: s'esperava que ${i.origin} fos ${o} ${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Format inv\xE0lid: ha de comen\xE7ar amb "${o.prefix}"`:o.format==="ends_with"?`Format inv\xE0lid: ha d'acabar amb "${o.suffix}"`:o.format==="includes"?`Format inv\xE0lid: ha d'incloure "${o.includes}"`:o.format==="regex"?`Format inv\xE0lid: ha de coincidir amb el patr\xF3 ${o.pattern}`:`Format inv\xE0lid per a ${r[o.format]??i.format}`}case"not_multiple_of":return`N\xFAmero inv\xE0lid: ha de ser m\xFAltiple de ${i.divisor}`;case"unrecognized_keys":return`Clau${i.keys.length>1?"s":""} no reconeguda${i.keys.length>1?"s":""}: ${_e(i.keys,", ")}`;case"invalid_key":return`Clau inv\xE0lida a ${i.origin}`;case"invalid_union":return"Entrada inv\xE0lida";case"invalid_element":return`Element inv\xE0lid a ${i.origin}`;default:return"Entrada inv\xE0lida"}}};function i2e(){return{localeError:xSt()}}var wSt=()=>{let t={string:{unit:"znak\u016F",verb:"m\xEDt"},file:{unit:"bajt\u016F",verb:"m\xEDt"},array:{unit:"prvk\u016F",verb:"m\xEDt"},set:{unit:"prvk\u016F",verb:"m\xEDt"}};function e(i){return t[i]??null}let r={regex:"regul\xE1rn\xED v\xFDraz",email:"e-mailov\xE1 adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a \u010Das ve form\xE1tu ISO",date:"datum ve form\xE1tu ISO",time:"\u010Das ve form\xE1tu ISO",duration:"doba trv\xE1n\xED ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64",base64url:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64url",json_string:"\u0159et\u011Bzec ve form\xE1tu JSON",e164:"\u010D\xEDslo E.164",jwt:"JWT",template_literal:"vstup"},n={nan:"NaN",number:"\u010D\xEDslo",string:"\u0159et\u011Bzec",function:"funkce",array:"pole"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no instanceof ${i.expected}, obdr\u017Eeno ${a}`:`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${o}, obdr\u017Eeno ${a}`}case"invalid_value":return i.values.length===1?`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${Ge(i.values[0])}`:`Neplatn\xE1 mo\u017Enost: o\u010Dek\xE1v\xE1na jedna z hodnot ${_e(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${i.origin??"hodnota"} mus\xED m\xEDt ${o}${i.maximum.toString()} ${s.unit??"prvk\u016F"}`:`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${i.origin??"hodnota"} mus\xED b\xFDt ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${i.origin??"hodnota"} mus\xED m\xEDt ${o}${i.minimum.toString()} ${s.unit??"prvk\u016F"}`:`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${i.origin??"hodnota"} mus\xED b\xFDt ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED za\u010D\xEDnat na "${o.prefix}"`:o.format==="ends_with"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED kon\u010Dit na "${o.suffix}"`:o.format==="includes"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED obsahovat "${o.includes}"`:o.format==="regex"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED odpov\xEDdat vzoru ${o.pattern}`:`Neplatn\xFD form\xE1t ${r[o.format]??i.format}`}case"not_multiple_of":return`Neplatn\xE9 \u010D\xEDslo: mus\xED b\xFDt n\xE1sobkem ${i.divisor}`;case"unrecognized_keys":return`Nezn\xE1m\xE9 kl\xED\u010De: ${_e(i.keys,", ")}`;case"invalid_key":return`Neplatn\xFD kl\xED\u010D v ${i.origin}`;case"invalid_union":return"Neplatn\xFD vstup";case"invalid_element":return`Neplatn\xE1 hodnota v ${i.origin}`;default:return"Neplatn\xFD vstup"}}};function o2e(){return{localeError:wSt()}}var ASt=()=>{let t={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}};function e(i){return t[i]??null}let r={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkesl\xE6t",date:"ISO-dato",time:"ISO-klokkesl\xE6t",duration:"ISO-varighed",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},n={nan:"NaN",string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"s\xE6t",file:"fil"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Ugyldigt input: forventede instanceof ${i.expected}, fik ${a}`:`Ugyldigt input: forventede ${o}, fik ${a}`}case"invalid_value":return i.values.length===1?`Ugyldig v\xE6rdi: forventede ${Ge(i.values[0])}`:`Ugyldigt valg: forventede en af f\xF8lgende ${_e(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin),a=n[i.origin]??i.origin;return s?`For stor: forventede ${a??"value"} ${s.verb} ${o} ${i.maximum.toString()} ${s.unit??"elementer"}`:`For stor: forventede ${a??"value"} havde ${o} ${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin),a=n[i.origin]??i.origin;return s?`For lille: forventede ${a} ${s.verb} ${o} ${i.minimum.toString()} ${s.unit}`:`For lille: forventede ${a} havde ${o} ${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Ugyldig streng: skal starte med "${o.prefix}"`:o.format==="ends_with"?`Ugyldig streng: skal ende med "${o.suffix}"`:o.format==="includes"?`Ugyldig streng: skal indeholde "${o.includes}"`:o.format==="regex"?`Ugyldig streng: skal matche m\xF8nsteret ${o.pattern}`:`Ugyldig ${r[o.format]??i.format}`}case"not_multiple_of":return`Ugyldigt tal: skal v\xE6re deleligt med ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Ukendte n\xF8gler":"Ukendt n\xF8gle"}: ${_e(i.keys,", ")}`;case"invalid_key":return`Ugyldig n\xF8gle i ${i.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig v\xE6rdi i ${i.origin}`;default:return"Ugyldigt input"}}};function s2e(){return{localeError:ASt()}}var ESt=()=>{let t={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function e(i){return t[i]??null}let r={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"},n={nan:"NaN",number:"Zahl",array:"Array"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Ung\xFCltige Eingabe: erwartet instanceof ${i.expected}, erhalten ${a}`:`Ung\xFCltige Eingabe: erwartet ${o}, erhalten ${a}`}case"invalid_value":return i.values.length===1?`Ung\xFCltige Eingabe: erwartet ${Ge(i.values[0])}`:`Ung\xFCltige Option: erwartet eine von ${_e(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Zu gro\xDF: erwartet, dass ${i.origin??"Wert"} ${o}${i.maximum.toString()} ${s.unit??"Elemente"} hat`:`Zu gro\xDF: erwartet, dass ${i.origin??"Wert"} ${o}${i.maximum.toString()} ist`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Zu klein: erwartet, dass ${i.origin} ${o}${i.minimum.toString()} ${s.unit} hat`:`Zu klein: erwartet, dass ${i.origin} ${o}${i.minimum.toString()} ist`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Ung\xFCltiger String: muss mit "${o.prefix}" beginnen`:o.format==="ends_with"?`Ung\xFCltiger String: muss mit "${o.suffix}" enden`:o.format==="includes"?`Ung\xFCltiger String: muss "${o.includes}" enthalten`:o.format==="regex"?`Ung\xFCltiger String: muss dem Muster ${o.pattern} entsprechen`:`Ung\xFCltig: ${r[o.format]??i.format}`}case"not_multiple_of":return`Ung\xFCltige Zahl: muss ein Vielfaches von ${i.divisor} sein`;case"unrecognized_keys":return`${i.keys.length>1?"Unbekannte Schl\xFCssel":"Unbekannter Schl\xFCssel"}: ${_e(i.keys,", ")}`;case"invalid_key":return`Ung\xFCltiger Schl\xFCssel in ${i.origin}`;case"invalid_union":return"Ung\xFCltige Eingabe";case"invalid_element":return`Ung\xFCltiger Wert in ${i.origin}`;default:return"Ung\xFCltige Eingabe"}}};function a2e(){return{localeError:ESt()}}var TSt=()=>{let t={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"},map:{unit:"entries",verb:"to have"}};function e(i){return t[i]??null}let r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},n={nan:"NaN"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return`Invalid input: expected ${o}, received ${a}`}case"invalid_value":return i.values.length===1?`Invalid input: expected ${Ge(i.values[0])}`:`Invalid option: expected one of ${_e(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Too big: expected ${i.origin??"value"} to have ${o}${i.maximum.toString()} ${s.unit??"elements"}`:`Too big: expected ${i.origin??"value"} to be ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Too small: expected ${i.origin} to have ${o}${i.minimum.toString()} ${s.unit}`:`Too small: expected ${i.origin} to be ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Invalid string: must start with "${o.prefix}"`:o.format==="ends_with"?`Invalid string: must end with "${o.suffix}"`:o.format==="includes"?`Invalid string: must include "${o.includes}"`:o.format==="regex"?`Invalid string: must match pattern ${o.pattern}`:`Invalid ${r[o.format]??i.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${i.divisor}`;case"unrecognized_keys":return`Unrecognized key${i.keys.length>1?"s":""}: ${_e(i.keys,", ")}`;case"invalid_key":return`Invalid key in ${i.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${i.origin}`;default:return"Invalid input"}}};function UP(){return{localeError:TSt()}}var RSt=()=>{let t={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function e(i){return t[i]??null}let r={regex:"enigo",email:"retadreso",url:"URL",emoji:"emo\u011Dio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-da\u016Dro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"},n={nan:"NaN",number:"nombro",array:"tabelo",null:"senvalora"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Nevalida enigo: atendi\u011Dis instanceof ${i.expected}, ricevi\u011Dis ${a}`:`Nevalida enigo: atendi\u011Dis ${o}, ricevi\u011Dis ${a}`}case"invalid_value":return i.values.length===1?`Nevalida enigo: atendi\u011Dis ${Ge(i.values[0])}`:`Nevalida opcio: atendi\u011Dis unu el ${_e(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Tro granda: atendi\u011Dis ke ${i.origin??"valoro"} havu ${o}${i.maximum.toString()} ${s.unit??"elementojn"}`:`Tro granda: atendi\u011Dis ke ${i.origin??"valoro"} havu ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Tro malgranda: atendi\u011Dis ke ${i.origin} havu ${o}${i.minimum.toString()} ${s.unit}`:`Tro malgranda: atendi\u011Dis ke ${i.origin} estu ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Nevalida karaktraro: devas komenci\u011Di per "${o.prefix}"`:o.format==="ends_with"?`Nevalida karaktraro: devas fini\u011Di per "${o.suffix}"`:o.format==="includes"?`Nevalida karaktraro: devas inkluzivi "${o.includes}"`:o.format==="regex"?`Nevalida karaktraro: devas kongrui kun la modelo ${o.pattern}`:`Nevalida ${r[o.format]??i.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${i.divisor}`;case"unrecognized_keys":return`Nekonata${i.keys.length>1?"j":""} \u015Dlosilo${i.keys.length>1?"j":""}: ${_e(i.keys,", ")}`;case"invalid_key":return`Nevalida \u015Dlosilo en ${i.origin}`;case"invalid_union":return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${i.origin}`;default:return"Nevalida enigo"}}};function c2e(){return{localeError:RSt()}}var ISt=()=>{let t={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}};function e(i){return t[i]??null}let r={regex:"entrada",email:"direcci\xF3n de correo electr\xF3nico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duraci\xF3n ISO",ipv4:"direcci\xF3n IPv4",ipv6:"direcci\xF3n IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"},n={nan:"NaN",string:"texto",number:"n\xFAmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"n\xFAmero grande",symbol:"s\xEDmbolo",undefined:"indefinido",null:"nulo",function:"funci\xF3n",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeraci\xF3n",union:"uni\xF3n",literal:"literal",promise:"promesa",void:"vac\xEDo",never:"nunca",unknown:"desconocido",any:"cualquiera"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Entrada inv\xE1lida: se esperaba instanceof ${i.expected}, recibido ${a}`:`Entrada inv\xE1lida: se esperaba ${o}, recibido ${a}`}case"invalid_value":return i.values.length===1?`Entrada inv\xE1lida: se esperaba ${Ge(i.values[0])}`:`Opci\xF3n inv\xE1lida: se esperaba una de ${_e(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin),a=n[i.origin]??i.origin;return s?`Demasiado grande: se esperaba que ${a??"valor"} tuviera ${o}${i.maximum.toString()} ${s.unit??"elementos"}`:`Demasiado grande: se esperaba que ${a??"valor"} fuera ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin),a=n[i.origin]??i.origin;return s?`Demasiado peque\xF1o: se esperaba que ${a} tuviera ${o}${i.minimum.toString()} ${s.unit}`:`Demasiado peque\xF1o: se esperaba que ${a} fuera ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Cadena inv\xE1lida: debe comenzar con "${o.prefix}"`:o.format==="ends_with"?`Cadena inv\xE1lida: debe terminar en "${o.suffix}"`:o.format==="includes"?`Cadena inv\xE1lida: debe incluir "${o.includes}"`:o.format==="regex"?`Cadena inv\xE1lida: debe coincidir con el patr\xF3n ${o.pattern}`:`Inv\xE1lido ${r[o.format]??i.format}`}case"not_multiple_of":return`N\xFAmero inv\xE1lido: debe ser m\xFAltiplo de ${i.divisor}`;case"unrecognized_keys":return`Llave${i.keys.length>1?"s":""} desconocida${i.keys.length>1?"s":""}: ${_e(i.keys,", ")}`;case"invalid_key":return`Llave inv\xE1lida en ${n[i.origin]??i.origin}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido en ${n[i.origin]??i.origin}`;default:return"Entrada inv\xE1lida"}}};function l2e(){return{localeError:ISt()}}var CSt=()=>{let t={string:{unit:"\u06A9\u0627\u0631\u0627\u06A9\u062A\u0631",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},file:{unit:"\u0628\u0627\u06CC\u062A",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},array:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},set:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"}};function e(i){return t[i]??null}let r={regex:"\u0648\u0631\u0648\u062F\u06CC",email:"\u0622\u062F\u0631\u0633 \u0627\u06CC\u0645\u06CC\u0644",url:"URL",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u06CC\u062E \u0648 \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",date:"\u062A\u0627\u0631\u06CC\u062E \u0627\u06CC\u0632\u0648",time:"\u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",duration:"\u0645\u062F\u062A \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",ipv4:"IPv4 \u0622\u062F\u0631\u0633",ipv6:"IPv6 \u0622\u062F\u0631\u0633",cidrv4:"IPv4 \u062F\u0627\u0645\u0646\u0647",cidrv6:"IPv6 \u062F\u0627\u0645\u0646\u0647",base64:"base64-encoded \u0631\u0634\u062A\u0647",base64url:"base64url-encoded \u0631\u0634\u062A\u0647",json_string:"JSON \u0631\u0634\u062A\u0647",e164:"E.164 \u0639\u062F\u062F",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u06CC"},n={nan:"NaN",number:"\u0639\u062F\u062F",array:"\u0622\u0631\u0627\u06CC\u0647"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A instanceof ${i.expected} \u0645\u06CC\u200C\u0628\u0648\u062F\u060C ${a} \u062F\u0631\u06CC\u0627\u0641\u062A \u0634\u062F`:`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${o} \u0645\u06CC\u200C\u0628\u0648\u062F\u060C ${a} \u062F\u0631\u06CC\u0627\u0641\u062A \u0634\u062F`}case"invalid_value":return i.values.length===1?`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${Ge(i.values[0])} \u0645\u06CC\u200C\u0628\u0648\u062F`:`\u06AF\u0632\u06CC\u0646\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A \u06CC\u06A9\u06CC \u0627\u0632 ${_e(i.values,"|")} \u0645\u06CC\u200C\u0628\u0648\u062F`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${i.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${o}${i.maximum.toString()} ${s.unit??"\u0639\u0646\u0635\u0631"} \u0628\u0627\u0634\u062F`:`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${i.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${o}${i.maximum.toString()} \u0628\u0627\u0634\u062F`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${i.origin} \u0628\u0627\u06CC\u062F ${o}${i.minimum.toString()} ${s.unit} \u0628\u0627\u0634\u062F`:`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${i.origin} \u0628\u0627\u06CC\u062F ${o}${i.minimum.toString()} \u0628\u0627\u0634\u062F`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${o.prefix}" \u0634\u0631\u0648\u0639 \u0634\u0648\u062F`:o.format==="ends_with"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${o.suffix}" \u062A\u0645\u0627\u0645 \u0634\u0648\u062F`:o.format==="includes"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0634\u0627\u0645\u0644 "${o.includes}" \u0628\u0627\u0634\u062F`:o.format==="regex"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 \u0627\u0644\u06AF\u0648\u06CC ${o.pattern} \u0645\u0637\u0627\u0628\u0642\u062A \u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F`:`${r[o.format]??i.format} \u0646\u0627\u0645\u0639\u062A\u0628\u0631`}case"not_multiple_of":return`\u0639\u062F\u062F \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0645\u0636\u0631\u0628 ${i.divisor} \u0628\u0627\u0634\u062F`;case"unrecognized_keys":return`\u06A9\u0644\u06CC\u062F${i.keys.length>1?"\u0647\u0627\u06CC":""} \u0646\u0627\u0634\u0646\u0627\u0633: ${_e(i.keys,", ")}`;case"invalid_key":return`\u06A9\u0644\u06CC\u062F \u0646\u0627\u0634\u0646\u0627\u0633 \u062F\u0631 ${i.origin}`;case"invalid_union":return"\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631";case"invalid_element":return`\u0645\u0642\u062F\u0627\u0631 \u0646\u0627\u0645\u0639\u062A\u0628\u0631 \u062F\u0631 ${i.origin}`;default:return"\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631"}}};function u2e(){return{localeError:CSt()}}var NSt=()=>{let t={string:{unit:"merkki\xE4",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"p\xE4iv\xE4m\xE4\xE4r\xE4n"}};function e(i){return t[i]??null}let r={regex:"s\xE4\xE4nn\xF6llinen lauseke",email:"s\xE4hk\xF6postiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-p\xE4iv\xE4m\xE4\xE4r\xE4",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"},n={nan:"NaN"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Virheellinen tyyppi: odotettiin instanceof ${i.expected}, oli ${a}`:`Virheellinen tyyppi: odotettiin ${o}, oli ${a}`}case"invalid_value":return i.values.length===1?`Virheellinen sy\xF6te: t\xE4ytyy olla ${Ge(i.values[0])}`:`Virheellinen valinta: t\xE4ytyy olla yksi seuraavista: ${_e(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Liian suuri: ${s.subject} t\xE4ytyy olla ${o}${i.maximum.toString()} ${s.unit}`.trim():`Liian suuri: arvon t\xE4ytyy olla ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Liian pieni: ${s.subject} t\xE4ytyy olla ${o}${i.minimum.toString()} ${s.unit}`.trim():`Liian pieni: arvon t\xE4ytyy olla ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Virheellinen sy\xF6te: t\xE4ytyy alkaa "${o.prefix}"`:o.format==="ends_with"?`Virheellinen sy\xF6te: t\xE4ytyy loppua "${o.suffix}"`:o.format==="includes"?`Virheellinen sy\xF6te: t\xE4ytyy sis\xE4lt\xE4\xE4 "${o.includes}"`:o.format==="regex"?`Virheellinen sy\xF6te: t\xE4ytyy vastata s\xE4\xE4nn\xF6llist\xE4 lauseketta ${o.pattern}`:`Virheellinen ${r[o.format]??i.format}`}case"not_multiple_of":return`Virheellinen luku: t\xE4ytyy olla luvun ${i.divisor} monikerta`;case"unrecognized_keys":return`${i.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${_e(i.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen sy\xF6te"}}};function d2e(){return{localeError:NSt()}}var OSt=()=>{let t={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function e(i){return t[i]??null}let r={regex:"entr\xE9e",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"},n={nan:"NaN",number:"nombre",array:"tableau"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Entr\xE9e invalide : instanceof ${i.expected} attendu, ${a} re\xE7u`:`Entr\xE9e invalide : ${o} attendu, ${a} re\xE7u`}case"invalid_value":return i.values.length===1?`Entr\xE9e invalide : ${Ge(i.values[0])} attendu`:`Option invalide : une valeur parmi ${_e(i.values,"|")} attendue`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Trop grand : ${i.origin??"valeur"} doit ${s.verb} ${o}${i.maximum.toString()} ${s.unit??"\xE9l\xE9ment(s)"}`:`Trop grand : ${i.origin??"valeur"} doit \xEAtre ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Trop petit : ${i.origin} doit ${s.verb} ${o}${i.minimum.toString()} ${s.unit}`:`Trop petit : ${i.origin} doit \xEAtre ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Cha\xEEne invalide : doit commencer par "${o.prefix}"`:o.format==="ends_with"?`Cha\xEEne invalide : doit se terminer par "${o.suffix}"`:o.format==="includes"?`Cha\xEEne invalide : doit inclure "${o.includes}"`:o.format==="regex"?`Cha\xEEne invalide : doit correspondre au mod\xE8le ${o.pattern}`:`${r[o.format]??i.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${i.divisor}`;case"unrecognized_keys":return`Cl\xE9${i.keys.length>1?"s":""} non reconnue${i.keys.length>1?"s":""} : ${_e(i.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${i.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${i.origin}`;default:return"Entr\xE9e invalide"}}};function p2e(){return{localeError:OSt()}}var PSt=()=>{let t={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function e(i){return t[i]??null}let r={regex:"entr\xE9e",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"},n={nan:"NaN"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Entr\xE9e invalide : attendu instanceof ${i.expected}, re\xE7u ${a}`:`Entr\xE9e invalide : attendu ${o}, re\xE7u ${a}`}case"invalid_value":return i.values.length===1?`Entr\xE9e invalide : attendu ${Ge(i.values[0])}`:`Option invalide : attendu l'une des valeurs suivantes ${_e(i.values,"|")}`;case"too_big":{let o=i.inclusive?"\u2264":"<",s=e(i.origin);return s?`Trop grand : attendu que ${i.origin??"la valeur"} ait ${o}${i.maximum.toString()} ${s.unit}`:`Trop grand : attendu que ${i.origin??"la valeur"} soit ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?"\u2265":">",s=e(i.origin);return s?`Trop petit : attendu que ${i.origin} ait ${o}${i.minimum.toString()} ${s.unit}`:`Trop petit : attendu que ${i.origin} soit ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Cha\xEEne invalide : doit commencer par "${o.prefix}"`:o.format==="ends_with"?`Cha\xEEne invalide : doit se terminer par "${o.suffix}"`:o.format==="includes"?`Cha\xEEne invalide : doit inclure "${o.includes}"`:o.format==="regex"?`Cha\xEEne invalide : doit correspondre au motif ${o.pattern}`:`${r[o.format]??i.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${i.divisor}`;case"unrecognized_keys":return`Cl\xE9${i.keys.length>1?"s":""} non reconnue${i.keys.length>1?"s":""} : ${_e(i.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${i.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${i.origin}`;default:return"Entr\xE9e invalide"}}};function f2e(){return{localeError:PSt()}}var kSt=()=>{let t={string:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA",gender:"f"},number:{label:"\u05DE\u05E1\u05E4\u05E8",gender:"m"},boolean:{label:"\u05E2\u05E8\u05DA \u05D1\u05D5\u05DC\u05D9\u05D0\u05E0\u05D9",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA",gender:"m"},array:{label:"\u05DE\u05E2\u05E8\u05DA",gender:"m"},object:{label:"\u05D0\u05D5\u05D1\u05D9\u05D9\u05E7\u05D8",gender:"m"},null:{label:"\u05E2\u05E8\u05DA \u05E8\u05D9\u05E7 (null)",gender:"m"},undefined:{label:"\u05E2\u05E8\u05DA \u05DC\u05D0 \u05DE\u05D5\u05D2\u05D3\u05E8 (undefined)",gender:"m"},symbol:{label:"\u05E1\u05D9\u05DE\u05D1\u05D5\u05DC (Symbol)",gender:"m"},function:{label:"\u05E4\u05D5\u05E0\u05E7\u05E6\u05D9\u05D4",gender:"f"},map:{label:"\u05DE\u05E4\u05D4 (Map)",gender:"f"},set:{label:"\u05E7\u05D1\u05D5\u05E6\u05D4 (Set)",gender:"f"},file:{label:"\u05E7\u05D5\u05D1\u05E5",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"\u05E2\u05E8\u05DA \u05DC\u05D0 \u05D9\u05D3\u05D5\u05E2",gender:"m"},value:{label:"\u05E2\u05E8\u05DA",gender:"m"}},e={string:{unit:"\u05EA\u05D5\u05D5\u05D9\u05DD",shortLabel:"\u05E7\u05E6\u05E8",longLabel:"\u05D0\u05E8\u05D5\u05DA"},file:{unit:"\u05D1\u05D9\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},array:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},set:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},number:{unit:"",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"}},r=l=>l?t[l]:void 0,n=l=>{let u=r(l);return u?u.label:l??t.unknown.label},i=l=>`\u05D4${n(l)}`,o=l=>(r(l)?.gender??"m")==="f"?"\u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05D9\u05D5\u05EA":"\u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA",s=l=>l?e[l]??null:null,a={regex:{label:"\u05E7\u05DC\u05D8",gender:"m"},email:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05D0\u05D9\u05DE\u05D9\u05D9\u05DC",gender:"f"},url:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05E8\u05E9\u05EA",gender:"f"},emoji:{label:"\u05D0\u05D9\u05DE\u05D5\u05D2'\u05D9",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA \u05D5\u05D6\u05DE\u05DF ISO",gender:"m"},date:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA ISO",gender:"m"},time:{label:"\u05D6\u05DE\u05DF ISO",gender:"m"},duration:{label:"\u05DE\u05E9\u05DA \u05D6\u05DE\u05DF ISO",gender:"m"},ipv4:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv4",gender:"f"},ipv6:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv6",gender:"f"},cidrv4:{label:"\u05D8\u05D5\u05D5\u05D7 IPv4",gender:"m"},cidrv6:{label:"\u05D8\u05D5\u05D5\u05D7 IPv6",gender:"m"},base64:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64",gender:"f"},base64url:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64 \u05DC\u05DB\u05EA\u05D5\u05D1\u05D5\u05EA \u05E8\u05E9\u05EA",gender:"f"},json_string:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA JSON",gender:"f"},e164:{label:"\u05DE\u05E1\u05E4\u05E8 E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"\u05E7\u05DC\u05D8",gender:"m"},includes:{label:"\u05E7\u05DC\u05D8",gender:"m"},lowercase:{label:"\u05E7\u05DC\u05D8",gender:"m"},starts_with:{label:"\u05E7\u05DC\u05D8",gender:"m"},uppercase:{label:"\u05E7\u05DC\u05D8",gender:"m"}},c={nan:"NaN"};return l=>{switch(l.code){case"invalid_type":{let u=l.expected,d=c[u??""]??n(u),p=qe(l.input),f=c[p]??t[p]?.label??p;return/^[A-Z]/.test(l.expected)?`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA instanceof ${l.expected}, \u05D4\u05EA\u05E7\u05D1\u05DC ${f}`:`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${d}, \u05D4\u05EA\u05E7\u05D1\u05DC ${f}`}case"invalid_value":{if(l.values.length===1)return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05E2\u05E8\u05DA \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA ${Ge(l.values[0])}`;let u=l.values.map(f=>Ge(f));if(l.values.length===2)return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA \u05D4\u05DE\u05EA\u05D0\u05D9\u05DE\u05D5\u05EA \u05D4\u05DF ${u[0]} \u05D0\u05D5 ${u[1]}`;let d=u[u.length-1];return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA \u05D4\u05DE\u05EA\u05D0\u05D9\u05DE\u05D5\u05EA \u05D4\u05DF ${u.slice(0,-1).join(", ")} \u05D0\u05D5 ${d}`}case"too_big":{let u=s(l.origin),d=i(l.origin??"value");if(l.origin==="string")return`${u?.longLabel??"\u05D0\u05E8\u05D5\u05DA"} \u05DE\u05D3\u05D9: ${d} \u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05DB\u05D9\u05DC ${l.maximum.toString()} ${u?.unit??""} ${l.inclusive?"\u05D0\u05D5 \u05E4\u05D7\u05D5\u05EA":"\u05DC\u05DB\u05DC \u05D4\u05D9\u05D5\u05EA\u05E8"}`.trim();if(l.origin==="number"){let h=l.inclusive?`\u05E7\u05D8\u05DF \u05D0\u05D5 \u05E9\u05D5\u05D5\u05D4 \u05DC-${l.maximum}`:`\u05E7\u05D8\u05DF \u05DE-${l.maximum}`;return`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${d} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${h}`}if(l.origin==="array"||l.origin==="set"){let h=l.origin==="set"?"\u05E6\u05E8\u05D9\u05DB\u05D4":"\u05E6\u05E8\u05D9\u05DA",m=l.inclusive?`${l.maximum} ${u?.unit??""} \u05D0\u05D5 \u05E4\u05D7\u05D5\u05EA`:`\u05E4\u05D7\u05D5\u05EA \u05DE-${l.maximum} ${u?.unit??""}`;return`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${d} ${h} \u05DC\u05D4\u05DB\u05D9\u05DC ${m}`.trim()}let p=l.inclusive?"<=":"<",f=o(l.origin??"value");return u?.unit?`${u.longLabel} \u05DE\u05D3\u05D9: ${d} ${f} ${p}${l.maximum.toString()} ${u.unit}`:`${u?.longLabel??"\u05D2\u05D3\u05D5\u05DC"} \u05DE\u05D3\u05D9: ${d} ${f} ${p}${l.maximum.toString()}`}case"too_small":{let u=s(l.origin),d=i(l.origin??"value");if(l.origin==="string")return`${u?.shortLabel??"\u05E7\u05E6\u05E8"} \u05DE\u05D3\u05D9: ${d} \u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05DB\u05D9\u05DC ${l.minimum.toString()} ${u?.unit??""} ${l.inclusive?"\u05D0\u05D5 \u05D9\u05D5\u05EA\u05E8":"\u05DC\u05E4\u05D7\u05D5\u05EA"}`.trim();if(l.origin==="number"){let h=l.inclusive?`\u05D2\u05D3\u05D5\u05DC \u05D0\u05D5 \u05E9\u05D5\u05D5\u05D4 \u05DC-${l.minimum}`:`\u05D2\u05D3\u05D5\u05DC \u05DE-${l.minimum}`;return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${d} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${h}`}if(l.origin==="array"||l.origin==="set"){let h=l.origin==="set"?"\u05E6\u05E8\u05D9\u05DB\u05D4":"\u05E6\u05E8\u05D9\u05DA";if(l.minimum===1&&l.inclusive){let g=(l.origin==="set","\u05DC\u05E4\u05D7\u05D5\u05EA \u05E4\u05E8\u05D9\u05D8 \u05D0\u05D7\u05D3");return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${d} ${h} \u05DC\u05D4\u05DB\u05D9\u05DC ${g}`}let m=l.inclusive?`${l.minimum} ${u?.unit??""} \u05D0\u05D5 \u05D9\u05D5\u05EA\u05E8`:`\u05D9\u05D5\u05EA\u05E8 \u05DE-${l.minimum} ${u?.unit??""}`;return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${d} ${h} \u05DC\u05D4\u05DB\u05D9\u05DC ${m}`.trim()}let p=l.inclusive?">=":">",f=o(l.origin??"value");return u?.unit?`${u.shortLabel} \u05DE\u05D3\u05D9: ${d} ${f} ${p}${l.minimum.toString()} ${u.unit}`:`${u?.shortLabel??"\u05E7\u05D8\u05DF"} \u05DE\u05D3\u05D9: ${d} ${f} ${p}${l.minimum.toString()}`}case"invalid_format":{let u=l;if(u.format==="starts_with")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D7\u05D9\u05DC \u05D1 "${u.prefix}"`;if(u.format==="ends_with")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05E1\u05EA\u05D9\u05D9\u05DD \u05D1 "${u.suffix}"`;if(u.format==="includes")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05DB\u05DC\u05D5\u05DC "${u.includes}"`;if(u.format==="regex")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D0\u05D9\u05DD \u05DC\u05EA\u05D1\u05E0\u05D9\u05EA ${u.pattern}`;let d=a[u.format],p=d?.label??u.format,h=(d?.gender??"m")==="f"?"\u05EA\u05E7\u05D9\u05E0\u05D4":"\u05EA\u05E7\u05D9\u05DF";return`${p} \u05DC\u05D0 ${h}`}case"not_multiple_of":return`\u05DE\u05E1\u05E4\u05E8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA \u05DE\u05DB\u05E4\u05DC\u05D4 \u05E9\u05DC ${l.divisor}`;case"unrecognized_keys":return`\u05DE\u05E4\u05EA\u05D7${l.keys.length>1?"\u05D5\u05EA":""} \u05DC\u05D0 \u05DE\u05D6\u05D5\u05D4${l.keys.length>1?"\u05D9\u05DD":"\u05D4"}: ${_e(l.keys,", ")}`;case"invalid_key":return"\u05E9\u05D3\u05D4 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1\u05D0\u05D5\u05D1\u05D9\u05D9\u05E7\u05D8";case"invalid_union":return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF";case"invalid_element":return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1${i(l.origin??"array")}`;default:return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF"}}};function m2e(){return{localeError:kSt()}}var DSt=()=>{let t={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function e(i){return t[i]??null}let r={regex:"bemenet",email:"email c\xEDm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO id\u0151b\xE9lyeg",date:"ISO d\xE1tum",time:"ISO id\u0151",duration:"ISO id\u0151intervallum",ipv4:"IPv4 c\xEDm",ipv6:"IPv6 c\xEDm",cidrv4:"IPv4 tartom\xE1ny",cidrv6:"IPv6 tartom\xE1ny",base64:"base64-k\xF3dolt string",base64url:"base64url-k\xF3dolt string",json_string:"JSON string",e164:"E.164 sz\xE1m",jwt:"JWT",template_literal:"bemenet"},n={nan:"NaN",number:"sz\xE1m",array:"t\xF6mb"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k instanceof ${i.expected}, a kapott \xE9rt\xE9k ${a}`:`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${o}, a kapott \xE9rt\xE9k ${a}`}case"invalid_value":return i.values.length===1?`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${Ge(i.values[0])}`:`\xC9rv\xE9nytelen opci\xF3: valamelyik \xE9rt\xE9k v\xE1rt ${_e(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`T\xFAl nagy: ${i.origin??"\xE9rt\xE9k"} m\xE9rete t\xFAl nagy ${o}${i.maximum.toString()} ${s.unit??"elem"}`:`T\xFAl nagy: a bemeneti \xE9rt\xE9k ${i.origin??"\xE9rt\xE9k"} t\xFAl nagy: ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${i.origin} m\xE9rete t\xFAl kicsi ${o}${i.minimum.toString()} ${s.unit}`:`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${i.origin} t\xFAl kicsi ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\xC9rv\xE9nytelen string: "${o.prefix}" \xE9rt\xE9kkel kell kezd\u0151dnie`:o.format==="ends_with"?`\xC9rv\xE9nytelen string: "${o.suffix}" \xE9rt\xE9kkel kell v\xE9gz\u0151dnie`:o.format==="includes"?`\xC9rv\xE9nytelen string: "${o.includes}" \xE9rt\xE9ket kell tartalmaznia`:o.format==="regex"?`\xC9rv\xE9nytelen string: ${o.pattern} mint\xE1nak kell megfelelnie`:`\xC9rv\xE9nytelen ${r[o.format]??i.format}`}case"not_multiple_of":return`\xC9rv\xE9nytelen sz\xE1m: ${i.divisor} t\xF6bbsz\xF6r\xF6s\xE9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${i.keys.length>1?"s":""}: ${_e(i.keys,", ")}`;case"invalid_key":return`\xC9rv\xE9nytelen kulcs ${i.origin}`;case"invalid_union":return"\xC9rv\xE9nytelen bemenet";case"invalid_element":return`\xC9rv\xE9nytelen \xE9rt\xE9k: ${i.origin}`;default:return"\xC9rv\xE9nytelen bemenet"}}};function h2e(){return{localeError:DSt()}}function g2e(t,e,r){return Math.abs(t)===1?e:r}function ex(t){if(!t)return"";let e=["\u0561","\u0565","\u0568","\u056B","\u0578","\u0578\u0582","\u0585"],r=t[t.length-1];return t+(e.includes(r)?"\u0576":"\u0568")}var MSt=()=>{let t={string:{unit:{one:"\u0576\u0577\u0561\u0576",many:"\u0576\u0577\u0561\u0576\u0576\u0565\u0580"},verb:"\u0578\u0582\u0576\u0565\u0576\u0561\u056C"},file:{unit:{one:"\u0562\u0561\u0575\u0569",many:"\u0562\u0561\u0575\u0569\u0565\u0580"},verb:"\u0578\u0582\u0576\u0565\u0576\u0561\u056C"},array:{unit:{one:"\u057F\u0561\u0580\u0580",many:"\u057F\u0561\u0580\u0580\u0565\u0580"},verb:"\u0578\u0582\u0576\u0565\u0576\u0561\u056C"},set:{unit:{one:"\u057F\u0561\u0580\u0580",many:"\u057F\u0561\u0580\u0580\u0565\u0580"},verb:"\u0578\u0582\u0576\u0565\u0576\u0561\u056C"}};function e(i){return t[i]??null}let r={regex:"\u0574\u0578\u0582\u057F\u0584",email:"\u0567\u056C. \u0570\u0561\u057D\u0581\u0565",url:"URL",emoji:"\u0567\u0574\u0578\u057B\u056B",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0561\u0574\u057D\u0561\u0569\u056B\u057E \u0587 \u056A\u0561\u0574",date:"ISO \u0561\u0574\u057D\u0561\u0569\u056B\u057E",time:"ISO \u056A\u0561\u0574",duration:"ISO \u057F\u0587\u0578\u0572\u0578\u0582\u0569\u0575\u0578\u0582\u0576",ipv4:"IPv4 \u0570\u0561\u057D\u0581\u0565",ipv6:"IPv6 \u0570\u0561\u057D\u0581\u0565",cidrv4:"IPv4 \u0574\u056B\u057B\u0561\u056F\u0561\u0575\u0584",cidrv6:"IPv6 \u0574\u056B\u057B\u0561\u056F\u0561\u0575\u0584",base64:"base64 \u0571\u0587\u0561\u0579\u0561\u0583\u0578\u057E \u057F\u0578\u0572",base64url:"base64url \u0571\u0587\u0561\u0579\u0561\u0583\u0578\u057E \u057F\u0578\u0572",json_string:"JSON \u057F\u0578\u0572",e164:"E.164 \u0570\u0561\u0574\u0561\u0580",jwt:"JWT",template_literal:"\u0574\u0578\u0582\u057F\u0584"},n={nan:"NaN",number:"\u0569\u056B\u057E",array:"\u0566\u0561\u0576\u0563\u057E\u0561\u056E"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u054D\u056D\u0561\u056C \u0574\u0578\u0582\u057F\u0584\u0561\u0563\u0580\u0578\u0582\u0574\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567\u0580 instanceof ${i.expected}, \u057D\u057F\u0561\u0581\u057E\u0565\u056C \u0567 ${a}`:`\u054D\u056D\u0561\u056C \u0574\u0578\u0582\u057F\u0584\u0561\u0563\u0580\u0578\u0582\u0574\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567\u0580 ${o}, \u057D\u057F\u0561\u0581\u057E\u0565\u056C \u0567 ${a}`}case"invalid_value":return i.values.length===1?`\u054D\u056D\u0561\u056C \u0574\u0578\u0582\u057F\u0584\u0561\u0563\u0580\u0578\u0582\u0574\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567\u0580 ${Ge(i.values[1])}`:`\u054D\u056D\u0561\u056C \u057F\u0561\u0580\u0562\u0565\u0580\u0561\u056F\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567\u0580 \u0570\u0565\u057F\u0587\u0575\u0561\u056C\u0576\u0565\u0580\u056B\u0581 \u0574\u0565\u056F\u0568\u055D ${_e(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);if(s){let a=Number(i.maximum),c=g2e(a,s.unit.one,s.unit.many);return`\u0549\u0561\u0583\u0561\u0566\u0561\u0576\u0581 \u0574\u0565\u056E \u0561\u0580\u056A\u0565\u0584\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567, \u0578\u0580 ${ex(i.origin??"\u0561\u0580\u056A\u0565\u0584")} \u056F\u0578\u0582\u0576\u0565\u0576\u0561 ${o}${i.maximum.toString()} ${c}`}return`\u0549\u0561\u0583\u0561\u0566\u0561\u0576\u0581 \u0574\u0565\u056E \u0561\u0580\u056A\u0565\u0584\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567, \u0578\u0580 ${ex(i.origin??"\u0561\u0580\u056A\u0565\u0584")} \u056C\u056B\u0576\u056B ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);if(s){let a=Number(i.minimum),c=g2e(a,s.unit.one,s.unit.many);return`\u0549\u0561\u0583\u0561\u0566\u0561\u0576\u0581 \u0583\u0578\u0584\u0580 \u0561\u0580\u056A\u0565\u0584\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567, \u0578\u0580 ${ex(i.origin)} \u056F\u0578\u0582\u0576\u0565\u0576\u0561 ${o}${i.minimum.toString()} ${c}`}return`\u0549\u0561\u0583\u0561\u0566\u0561\u0576\u0581 \u0583\u0578\u0584\u0580 \u0561\u0580\u056A\u0565\u0584\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567, \u0578\u0580 ${ex(i.origin)} \u056C\u056B\u0576\u056B ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u054D\u056D\u0561\u056C \u057F\u0578\u0572\u2024 \u057A\u0565\u057F\u0584 \u0567 \u057D\u056F\u057D\u057E\u056B "${o.prefix}"-\u0578\u057E`:o.format==="ends_with"?`\u054D\u056D\u0561\u056C \u057F\u0578\u0572\u2024 \u057A\u0565\u057F\u0584 \u0567 \u0561\u057E\u0561\u0580\u057F\u057E\u056B "${o.suffix}"-\u0578\u057E`:o.format==="includes"?`\u054D\u056D\u0561\u056C \u057F\u0578\u0572\u2024 \u057A\u0565\u057F\u0584 \u0567 \u057A\u0561\u0580\u0578\u0582\u0576\u0561\u056F\u056B "${o.includes}"`:o.format==="regex"?`\u054D\u056D\u0561\u056C \u057F\u0578\u0572\u2024 \u057A\u0565\u057F\u0584 \u0567 \u0570\u0561\u0574\u0561\u057A\u0561\u057F\u0561\u057D\u056D\u0561\u0576\u056B ${o.pattern} \u0571\u0587\u0561\u0579\u0561\u0583\u056B\u0576`:`\u054D\u056D\u0561\u056C ${r[o.format]??i.format}`}case"not_multiple_of":return`\u054D\u056D\u0561\u056C \u0569\u056B\u057E\u2024 \u057A\u0565\u057F\u0584 \u0567 \u0562\u0561\u0566\u0574\u0561\u057A\u0561\u057F\u056B\u056F \u056C\u056B\u0576\u056B ${i.divisor}-\u056B`;case"unrecognized_keys":return`\u0549\u0573\u0561\u0576\u0561\u0579\u057E\u0561\u056E \u0562\u0561\u0576\u0561\u056C\u056B${i.keys.length>1?"\u0576\u0565\u0580":""}. ${_e(i.keys,", ")}`;case"invalid_key":return`\u054D\u056D\u0561\u056C \u0562\u0561\u0576\u0561\u056C\u056B ${ex(i.origin)}-\u0578\u0582\u0574`;case"invalid_union":return"\u054D\u056D\u0561\u056C \u0574\u0578\u0582\u057F\u0584\u0561\u0563\u0580\u0578\u0582\u0574";case"invalid_element":return`\u054D\u056D\u0561\u056C \u0561\u0580\u056A\u0565\u0584 ${ex(i.origin)}-\u0578\u0582\u0574`;default:return"\u054D\u056D\u0561\u056C \u0574\u0578\u0582\u057F\u0584\u0561\u0563\u0580\u0578\u0582\u0574"}}};function y2e(){return{localeError:MSt()}}var LSt=()=>{let t={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function e(i){return t[i]??null}let r={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"},n={nan:"NaN"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Input tidak valid: diharapkan instanceof ${i.expected}, diterima ${a}`:`Input tidak valid: diharapkan ${o}, diterima ${a}`}case"invalid_value":return i.values.length===1?`Input tidak valid: diharapkan ${Ge(i.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${_e(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Terlalu besar: diharapkan ${i.origin??"value"} memiliki ${o}${i.maximum.toString()} ${s.unit??"elemen"}`:`Terlalu besar: diharapkan ${i.origin??"value"} menjadi ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Terlalu kecil: diharapkan ${i.origin} memiliki ${o}${i.minimum.toString()} ${s.unit}`:`Terlalu kecil: diharapkan ${i.origin} menjadi ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`String tidak valid: harus dimulai dengan "${o.prefix}"`:o.format==="ends_with"?`String tidak valid: harus berakhir dengan "${o.suffix}"`:o.format==="includes"?`String tidak valid: harus menyertakan "${o.includes}"`:o.format==="regex"?`String tidak valid: harus sesuai pola ${o.pattern}`:`${r[o.format]??i.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${i.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${i.keys.length>1?"s":""}: ${_e(i.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${i.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${i.origin}`;default:return"Input tidak valid"}}};function b2e(){return{localeError:LSt()}}var BSt=()=>{let t={string:{unit:"stafi",verb:"a\xF0 hafa"},file:{unit:"b\xE6ti",verb:"a\xF0 hafa"},array:{unit:"hluti",verb:"a\xF0 hafa"},set:{unit:"hluti",verb:"a\xF0 hafa"}};function e(i){return t[i]??null}let r={regex:"gildi",email:"netfang",url:"vefsl\xF3\xF0",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og t\xEDmi",date:"ISO dagsetning",time:"ISO t\xEDmi",duration:"ISO t\xEDmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 t\xF6lugildi",jwt:"JWT",template_literal:"gildi"},n={nan:"NaN",number:"n\xFAmer",array:"fylki"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Rangt gildi: \xDE\xFA sl\xF3st inn ${a} \xFEar sem \xE1 a\xF0 vera instanceof ${i.expected}`:`Rangt gildi: \xDE\xFA sl\xF3st inn ${a} \xFEar sem \xE1 a\xF0 vera ${o}`}case"invalid_value":return i.values.length===1?`Rangt gildi: gert r\xE1\xF0 fyrir ${Ge(i.values[0])}`:`\xD3gilt val: m\xE1 vera eitt af eftirfarandi ${_e(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${i.origin??"gildi"} hafi ${o}${i.maximum.toString()} ${s.unit??"hluti"}`:`Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${i.origin??"gildi"} s\xE9 ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${i.origin} hafi ${o}${i.minimum.toString()} ${s.unit}`:`Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${i.origin} s\xE9 ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\xD3gildur strengur: ver\xF0ur a\xF0 byrja \xE1 "${o.prefix}"`:o.format==="ends_with"?`\xD3gildur strengur: ver\xF0ur a\xF0 enda \xE1 "${o.suffix}"`:o.format==="includes"?`\xD3gildur strengur: ver\xF0ur a\xF0 innihalda "${o.includes}"`:o.format==="regex"?`\xD3gildur strengur: ver\xF0ur a\xF0 fylgja mynstri ${o.pattern}`:`Rangt ${r[o.format]??i.format}`}case"not_multiple_of":return`R\xF6ng tala: ver\xF0ur a\xF0 vera margfeldi af ${i.divisor}`;case"unrecognized_keys":return`\xD3\xFEekkt ${i.keys.length>1?"ir lyklar":"ur lykill"}: ${_e(i.keys,", ")}`;case"invalid_key":return`Rangur lykill \xED ${i.origin}`;case"invalid_union":return"Rangt gildi";case"invalid_element":return`Rangt gildi \xED ${i.origin}`;default:return"Rangt gildi"}}};function v2e(){return{localeError:BSt()}}var $St=()=>{let t={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function e(i){return t[i]??null}let r={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"},n={nan:"NaN",number:"numero",array:"vettore"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Input non valido: atteso instanceof ${i.expected}, ricevuto ${a}`:`Input non valido: atteso ${o}, ricevuto ${a}`}case"invalid_value":return i.values.length===1?`Input non valido: atteso ${Ge(i.values[0])}`:`Opzione non valida: atteso uno tra ${_e(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Troppo grande: ${i.origin??"valore"} deve avere ${o}${i.maximum.toString()} ${s.unit??"elementi"}`:`Troppo grande: ${i.origin??"valore"} deve essere ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Troppo piccolo: ${i.origin} deve avere ${o}${i.minimum.toString()} ${s.unit}`:`Troppo piccolo: ${i.origin} deve essere ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Stringa non valida: deve iniziare con "${o.prefix}"`:o.format==="ends_with"?`Stringa non valida: deve terminare con "${o.suffix}"`:o.format==="includes"?`Stringa non valida: deve includere "${o.includes}"`:o.format==="regex"?`Stringa non valida: deve corrispondere al pattern ${o.pattern}`:`Invalid ${r[o.format]??i.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${i.divisor}`;case"unrecognized_keys":return`Chiav${i.keys.length>1?"i":"e"} non riconosciut${i.keys.length>1?"e":"a"}: ${_e(i.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${i.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${i.origin}`;default:return"Input non valido"}}};function _2e(){return{localeError:$St()}}var USt=()=>{let t={string:{unit:"\u6587\u5B57",verb:"\u3067\u3042\u308B"},file:{unit:"\u30D0\u30A4\u30C8",verb:"\u3067\u3042\u308B"},array:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"},set:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"}};function e(i){return t[i]??null}let r={regex:"\u5165\u529B\u5024",email:"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9",url:"URL",emoji:"\u7D75\u6587\u5B57",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u6642",date:"ISO\u65E5\u4ED8",time:"ISO\u6642\u523B",duration:"ISO\u671F\u9593",ipv4:"IPv4\u30A2\u30C9\u30EC\u30B9",ipv6:"IPv6\u30A2\u30C9\u30EC\u30B9",cidrv4:"IPv4\u7BC4\u56F2",cidrv6:"IPv6\u7BC4\u56F2",base64:"base64\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",base64url:"base64url\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",json_string:"JSON\u6587\u5B57\u5217",e164:"E.164\u756A\u53F7",jwt:"JWT",template_literal:"\u5165\u529B\u5024"},n={nan:"NaN",number:"\u6570\u5024",array:"\u914D\u5217"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u7121\u52B9\u306A\u5165\u529B: instanceof ${i.expected}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F\u304C\u3001${a}\u304C\u5165\u529B\u3055\u308C\u307E\u3057\u305F`:`\u7121\u52B9\u306A\u5165\u529B: ${o}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F\u304C\u3001${a}\u304C\u5165\u529B\u3055\u308C\u307E\u3057\u305F`}case"invalid_value":return i.values.length===1?`\u7121\u52B9\u306A\u5165\u529B: ${Ge(i.values[0])}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F`:`\u7121\u52B9\u306A\u9078\u629E: ${_e(i.values,"\u3001")}\u306E\u3044\u305A\u308C\u304B\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"too_big":{let o=i.inclusive?"\u4EE5\u4E0B\u3067\u3042\u308B":"\u3088\u308A\u5C0F\u3055\u3044",s=e(i.origin);return s?`\u5927\u304D\u3059\u304E\u308B\u5024: ${i.origin??"\u5024"}\u306F${i.maximum.toString()}${s.unit??"\u8981\u7D20"}${o}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u5927\u304D\u3059\u304E\u308B\u5024: ${i.origin??"\u5024"}\u306F${i.maximum.toString()}${o}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"too_small":{let o=i.inclusive?"\u4EE5\u4E0A\u3067\u3042\u308B":"\u3088\u308A\u5927\u304D\u3044",s=e(i.origin);return s?`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${i.origin}\u306F${i.minimum.toString()}${s.unit}${o}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${i.origin}\u306F${i.minimum.toString()}${o}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${o.prefix}"\u3067\u59CB\u307E\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:o.format==="ends_with"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${o.suffix}"\u3067\u7D42\u308F\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:o.format==="includes"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${o.includes}"\u3092\u542B\u3080\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:o.format==="regex"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: \u30D1\u30BF\u30FC\u30F3${o.pattern}\u306B\u4E00\u81F4\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u7121\u52B9\u306A${r[o.format]??i.format}`}case"not_multiple_of":return`\u7121\u52B9\u306A\u6570\u5024: ${i.divisor}\u306E\u500D\u6570\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"unrecognized_keys":return`\u8A8D\u8B58\u3055\u308C\u3066\u3044\u306A\u3044\u30AD\u30FC${i.keys.length>1?"\u7FA4":""}: ${_e(i.keys,"\u3001")}`;case"invalid_key":return`${i.origin}\u5185\u306E\u7121\u52B9\u306A\u30AD\u30FC`;case"invalid_union":return"\u7121\u52B9\u306A\u5165\u529B";case"invalid_element":return`${i.origin}\u5185\u306E\u7121\u52B9\u306A\u5024`;default:return"\u7121\u52B9\u306A\u5165\u529B"}}};function S2e(){return{localeError:USt()}}var FSt=()=>{let t={string:{unit:"\u10E1\u10D8\u10DB\u10D1\u10DD\u10DA\u10DD",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},file:{unit:"\u10D1\u10D0\u10D8\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},array:{unit:"\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},set:{unit:"\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"}};function e(i){return t[i]??null}let r={regex:"\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0",email:"\u10D4\u10DA-\u10E4\u10DD\u10E1\u10E2\u10D8\u10E1 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",url:"URL",emoji:"\u10D4\u10DB\u10DD\u10EF\u10D8",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8-\u10D3\u10E0\u10DD",date:"\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8",time:"\u10D3\u10E0\u10DD",duration:"\u10EE\u10D0\u10DC\u10D2\u10E0\u10EB\u10DA\u10D8\u10D5\u10DD\u10D1\u10D0",ipv4:"IPv4 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",ipv6:"IPv6 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",cidrv4:"IPv4 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8",cidrv6:"IPv6 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8",base64:"base64-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",base64url:"base64url-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",json_string:"JSON \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",e164:"E.164 \u10DC\u10DD\u10DB\u10D4\u10E0\u10D8",jwt:"JWT",template_literal:"\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0"},n={nan:"NaN",number:"\u10E0\u10D8\u10EA\u10EE\u10D5\u10D8",string:"\u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",boolean:"\u10D1\u10E3\u10DA\u10D4\u10D0\u10DC\u10D8",function:"\u10E4\u10E3\u10DC\u10E5\u10EA\u10D8\u10D0",array:"\u10DB\u10D0\u10E1\u10D8\u10D5\u10D8"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 instanceof ${i.expected}, \u10DB\u10D8\u10E6\u10D4\u10D1\u10E3\u10DA\u10D8 ${a}`:`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${o}, \u10DB\u10D8\u10E6\u10D4\u10D1\u10E3\u10DA\u10D8 ${a}`}case"invalid_value":return i.values.length===1?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${Ge(i.values[0])}`:`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D5\u10D0\u10E0\u10D8\u10D0\u10DC\u10E2\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8\u10D0 \u10D4\u10E0\u10D7-\u10D4\u10E0\u10D7\u10D8 ${_e(i.values,"|")}-\u10D3\u10D0\u10DC`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${i.origin??"\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0"} ${s.verb} ${o}${i.maximum.toString()} ${s.unit}`:`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${i.origin??"\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0"} \u10D8\u10E7\u10DD\u10E1 ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${i.origin} ${s.verb} ${o}${i.minimum.toString()} ${s.unit}`:`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${i.origin} \u10D8\u10E7\u10DD\u10E1 ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10EC\u10E7\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 "${o.prefix}"-\u10D8\u10D7`:o.format==="ends_with"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10DB\u10D7\u10D0\u10D5\u10E0\u10D3\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 "${o.suffix}"-\u10D8\u10D7`:o.format==="includes"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1 "${o.includes}"-\u10E1`:o.format==="regex"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D4\u10E1\u10D0\u10D1\u10D0\u10DB\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 \u10E8\u10D0\u10D1\u10DA\u10DD\u10DC\u10E1 ${o.pattern}`:`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 ${r[o.format]??i.format}`}case"not_multiple_of":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E0\u10D8\u10EA\u10EE\u10D5\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10E7\u10DD\u10E1 ${i.divisor}-\u10D8\u10E1 \u10EF\u10D4\u10E0\u10D0\u10D3\u10D8`;case"unrecognized_keys":return`\u10E3\u10EA\u10DC\u10DD\u10D1\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1${i.keys.length>1?"\u10D4\u10D1\u10D8":"\u10D8"}: ${_e(i.keys,", ")}`;case"invalid_key":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1\u10D8 ${i.origin}-\u10E8\u10D8`;case"invalid_union":return"\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0";case"invalid_element":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0 ${i.origin}-\u10E8\u10D8`;default:return"\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0"}}};function x2e(){return{localeError:FSt()}}var zSt=()=>{let t={string:{unit:"\u178F\u17BD\u17A2\u1780\u17D2\u179F\u179A",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},file:{unit:"\u1794\u17C3",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},array:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},set:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"}};function e(i){return t[i]??null}let r={regex:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B",email:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793\u17A2\u17CA\u17B8\u1798\u17C2\u179B",url:"URL",emoji:"\u179F\u1789\u17D2\u1789\u17B6\u17A2\u17B6\u179A\u1798\u17D2\u1798\u178E\u17CD",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 \u1793\u17B7\u1784\u1798\u17C9\u17C4\u1784 ISO",date:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 ISO",time:"\u1798\u17C9\u17C4\u1784 ISO",duration:"\u179A\u1799\u17C8\u1796\u17C1\u179B ISO",ipv4:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",ipv6:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",cidrv4:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",cidrv6:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",base64:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64",base64url:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64url",json_string:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A JSON",e164:"\u179B\u17C1\u1781 E.164",jwt:"JWT",template_literal:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B"},n={nan:"NaN",number:"\u179B\u17C1\u1781",array:"\u17A2\u17B6\u179A\u17C1 (Array)",null:"\u1782\u17D2\u1798\u17B6\u1793\u178F\u1798\u17D2\u179B\u17C3 (null)"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A instanceof ${i.expected} \u1794\u17C9\u17BB\u1793\u17D2\u178F\u17C2\u1791\u1791\u17BD\u179B\u1794\u17B6\u1793 ${a}`:`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${o} \u1794\u17C9\u17BB\u1793\u17D2\u178F\u17C2\u1791\u1791\u17BD\u179B\u1794\u17B6\u1793 ${a}`}case"invalid_value":return i.values.length===1?`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${Ge(i.values[0])}`:`\u1787\u1798\u17D2\u179A\u17BE\u179F\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1787\u17B6\u1798\u17BD\u1799\u1780\u17D2\u1793\u17BB\u1784\u1785\u17C6\u178E\u17C4\u1798 ${_e(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${i.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${o} ${i.maximum.toString()} ${s.unit??"\u1792\u17B6\u178F\u17BB"}`:`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${i.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${o} ${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${i.origin} ${o} ${i.minimum.toString()} ${s.unit}`:`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${i.origin} ${o} ${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1785\u17B6\u1794\u17CB\u1795\u17D2\u178F\u17BE\u1798\u178A\u17C4\u1799 "${o.prefix}"`:o.format==="ends_with"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1794\u1789\u17D2\u1785\u1794\u17CB\u178A\u17C4\u1799 "${o.suffix}"`:o.format==="includes"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1798\u17B6\u1793 "${o.includes}"`:o.format==="regex"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1795\u17D2\u1782\u17BC\u1795\u17D2\u1782\u1784\u1793\u17B9\u1784\u1791\u1798\u17D2\u179A\u1784\u17CB\u178A\u17C2\u179B\u1794\u17B6\u1793\u1780\u17C6\u178E\u178F\u17CB ${o.pattern}`:`\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 ${r[o.format]??i.format}`}case"not_multiple_of":return`\u179B\u17C1\u1781\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1787\u17B6\u1796\u17A0\u17BB\u1782\u17BB\u178E\u1793\u17C3 ${i.divisor}`;case"unrecognized_keys":return`\u179A\u1780\u1783\u17BE\u1789\u179F\u17C4\u1798\u17B7\u1793\u179F\u17D2\u1782\u17B6\u179B\u17CB\u17D6 ${_e(i.keys,", ")}`;case"invalid_key":return`\u179F\u17C4\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${i.origin}`;case"invalid_union":return"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C";case"invalid_element":return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${i.origin}`;default:return"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C"}}};function FP(){return{localeError:zSt()}}function w2e(){return FP()}var HSt=()=>{let t={string:{unit:"\uBB38\uC790",verb:"to have"},file:{unit:"\uBC14\uC774\uD2B8",verb:"to have"},array:{unit:"\uAC1C",verb:"to have"},set:{unit:"\uAC1C",verb:"to have"}};function e(i){return t[i]??null}let r={regex:"\uC785\uB825",email:"\uC774\uBA54\uC77C \uC8FC\uC18C",url:"URL",emoji:"\uC774\uBAA8\uC9C0",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \uB0A0\uC9DC\uC2DC\uAC04",date:"ISO \uB0A0\uC9DC",time:"ISO \uC2DC\uAC04",duration:"ISO \uAE30\uAC04",ipv4:"IPv4 \uC8FC\uC18C",ipv6:"IPv6 \uC8FC\uC18C",cidrv4:"IPv4 \uBC94\uC704",cidrv6:"IPv6 \uBC94\uC704",base64:"base64 \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",base64url:"base64url \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",json_string:"JSON \uBB38\uC790\uC5F4",e164:"E.164 \uBC88\uD638",jwt:"JWT",template_literal:"\uC785\uB825"},n={nan:"NaN"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\uC798\uBABB\uB41C \uC785\uB825: \uC608\uC0C1 \uD0C0\uC785\uC740 instanceof ${i.expected}, \uBC1B\uC740 \uD0C0\uC785\uC740 ${a}\uC785\uB2C8\uB2E4`:`\uC798\uBABB\uB41C \uC785\uB825: \uC608\uC0C1 \uD0C0\uC785\uC740 ${o}, \uBC1B\uC740 \uD0C0\uC785\uC740 ${a}\uC785\uB2C8\uB2E4`}case"invalid_value":return i.values.length===1?`\uC798\uBABB\uB41C \uC785\uB825: \uAC12\uC740 ${Ge(i.values[0])} \uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4`:`\uC798\uBABB\uB41C \uC635\uC158: ${_e(i.values,"\uB610\uB294 ")} \uC911 \uD558\uB098\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"too_big":{let o=i.inclusive?"\uC774\uD558":"\uBBF8\uB9CC",s=o==="\uBBF8\uB9CC"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",a=e(i.origin),c=a?.unit??"\uC694\uC18C";return a?`${i.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${i.maximum.toString()}${c} ${o}${s}`:`${i.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${i.maximum.toString()} ${o}${s}`}case"too_small":{let o=i.inclusive?"\uC774\uC0C1":"\uCD08\uACFC",s=o==="\uC774\uC0C1"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",a=e(i.origin),c=a?.unit??"\uC694\uC18C";return a?`${i.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${i.minimum.toString()}${c} ${o}${s}`:`${i.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${i.minimum.toString()} ${o}${s}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${o.prefix}"(\uC73C)\uB85C \uC2DC\uC791\uD574\uC57C \uD569\uB2C8\uB2E4`:o.format==="ends_with"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${o.suffix}"(\uC73C)\uB85C \uB05D\uB098\uC57C \uD569\uB2C8\uB2E4`:o.format==="includes"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${o.includes}"\uC744(\uB97C) \uD3EC\uD568\uD574\uC57C \uD569\uB2C8\uB2E4`:o.format==="regex"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: \uC815\uADDC\uC2DD ${o.pattern} \uD328\uD134\uACFC \uC77C\uCE58\uD574\uC57C \uD569\uB2C8\uB2E4`:`\uC798\uBABB\uB41C ${r[o.format]??i.format}`}case"not_multiple_of":return`\uC798\uBABB\uB41C \uC22B\uC790: ${i.divisor}\uC758 \uBC30\uC218\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"unrecognized_keys":return`\uC778\uC2DD\uD560 \uC218 \uC5C6\uB294 \uD0A4: ${_e(i.keys,", ")}`;case"invalid_key":return`\uC798\uBABB\uB41C \uD0A4: ${i.origin}`;case"invalid_union":return"\uC798\uBABB\uB41C \uC785\uB825";case"invalid_element":return`\uC798\uBABB\uB41C \uAC12: ${i.origin}`;default:return"\uC798\uBABB\uB41C \uC785\uB825"}}};function A2e(){return{localeError:HSt()}}var E6=t=>t.charAt(0).toUpperCase()+t.slice(1);function E2e(t){let e=Math.abs(t),r=e%10,n=e%100;return n>=11&&n<=19||r===0?"many":r===1?"one":"few"}var VSt=()=>{let t={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli\u0173"},verb:{smaller:{inclusive:"turi b\u016Bti ne ilgesn\u0117 kaip",notInclusive:"turi b\u016Bti trumpesn\u0117 kaip"},bigger:{inclusive:"turi b\u016Bti ne trumpesn\u0117 kaip",notInclusive:"turi b\u016Bti ilgesn\u0117 kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait\u0173"},verb:{smaller:{inclusive:"turi b\u016Bti ne didesnis kaip",notInclusive:"turi b\u016Bti ma\u017Eesnis kaip"},bigger:{inclusive:"turi b\u016Bti ne ma\u017Eesnis kaip",notInclusive:"turi b\u016Bti didesnis kaip"}}},array:{unit:{one:"element\u0105",few:"elementus",many:"element\u0173"},verb:{smaller:{inclusive:"turi tur\u0117ti ne daugiau kaip",notInclusive:"turi tur\u0117ti ma\u017Eiau kaip"},bigger:{inclusive:"turi tur\u0117ti ne ma\u017Eiau kaip",notInclusive:"turi tur\u0117ti daugiau kaip"}}},set:{unit:{one:"element\u0105",few:"elementus",many:"element\u0173"},verb:{smaller:{inclusive:"turi tur\u0117ti ne daugiau kaip",notInclusive:"turi tur\u0117ti ma\u017Eiau kaip"},bigger:{inclusive:"turi tur\u0117ti ne ma\u017Eiau kaip",notInclusive:"turi tur\u0117ti daugiau kaip"}}}};function e(i,o,s,a){let c=t[i]??null;return c===null?c:{unit:c.unit[o],verb:c.verb[a][s?"inclusive":"notInclusive"]}}let r={regex:"\u012Fvestis",email:"el. pa\u0161to adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm\u0117",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 u\u017Ekoduota eilut\u0117",base64url:"base64url u\u017Ekoduota eilut\u0117",json_string:"JSON eilut\u0117",e164:"E.164 numeris",jwt:"JWT",template_literal:"\u012Fvestis"},n={nan:"NaN",number:"skai\u010Dius",bigint:"sveikasis skai\u010Dius",string:"eilut\u0117",boolean:"login\u0117 reik\u0161m\u0117",undefined:"neapibr\u0117\u017Eta reik\u0161m\u0117",function:"funkcija",symbol:"simbolis",array:"masyvas",object:"objektas",null:"nulin\u0117 reik\u0161m\u0117"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Gautas tipas ${a}, o tik\u0117tasi - instanceof ${i.expected}`:`Gautas tipas ${a}, o tik\u0117tasi - ${o}`}case"invalid_value":return i.values.length===1?`Privalo b\u016Bti ${Ge(i.values[0])}`:`Privalo b\u016Bti vienas i\u0161 ${_e(i.values,"|")} pasirinkim\u0173`;case"too_big":{let o=n[i.origin]??i.origin,s=e(i.origin,E2e(Number(i.maximum)),i.inclusive??!1,"smaller");if(s?.verb)return`${E6(o??i.origin??"reik\u0161m\u0117")} ${s.verb} ${i.maximum.toString()} ${s.unit??"element\u0173"}`;let a=i.inclusive?"ne didesnis kaip":"ma\u017Eesnis kaip";return`${E6(o??i.origin??"reik\u0161m\u0117")} turi b\u016Bti ${a} ${i.maximum.toString()} ${s?.unit}`}case"too_small":{let o=n[i.origin]??i.origin,s=e(i.origin,E2e(Number(i.minimum)),i.inclusive??!1,"bigger");if(s?.verb)return`${E6(o??i.origin??"reik\u0161m\u0117")} ${s.verb} ${i.minimum.toString()} ${s.unit??"element\u0173"}`;let a=i.inclusive?"ne ma\u017Eesnis kaip":"didesnis kaip";return`${E6(o??i.origin??"reik\u0161m\u0117")} turi b\u016Bti ${a} ${i.minimum.toString()} ${s?.unit}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Eilut\u0117 privalo prasid\u0117ti "${o.prefix}"`:o.format==="ends_with"?`Eilut\u0117 privalo pasibaigti "${o.suffix}"`:o.format==="includes"?`Eilut\u0117 privalo \u012Ftraukti "${o.includes}"`:o.format==="regex"?`Eilut\u0117 privalo atitikti ${o.pattern}`:`Neteisingas ${r[o.format]??i.format}`}case"not_multiple_of":return`Skai\u010Dius privalo b\u016Bti ${i.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpa\u017Eint${i.keys.length>1?"i":"as"} rakt${i.keys.length>1?"ai":"as"}: ${_e(i.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":return"Klaidinga \u012Fvestis";case"invalid_element":{let o=n[i.origin]??i.origin;return`${E6(o??i.origin??"reik\u0161m\u0117")} turi klaiding\u0105 \u012Fvest\u012F`}default:return"Klaidinga \u012Fvestis"}}};function T2e(){return{localeError:VSt()}}var GSt=()=>{let t={string:{unit:"\u0437\u043D\u0430\u0446\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},file:{unit:"\u0431\u0430\u0458\u0442\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},array:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},set:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"}};function e(i){return t[i]??null}let r={regex:"\u0432\u043D\u0435\u0441",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u043D\u0430 \u0435-\u043F\u043E\u0448\u0442\u0430",url:"URL",emoji:"\u0435\u043C\u043E\u045F\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0443\u043C \u0438 \u0432\u0440\u0435\u043C\u0435",date:"ISO \u0434\u0430\u0442\u0443\u043C",time:"ISO \u0432\u0440\u0435\u043C\u0435",duration:"ISO \u0432\u0440\u0435\u043C\u0435\u0442\u0440\u0430\u0435\u045A\u0435",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441\u0430",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441\u0430",cidrv4:"IPv4 \u043E\u043F\u0441\u0435\u0433",cidrv6:"IPv6 \u043E\u043F\u0441\u0435\u0433",base64:"base64-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",base64url:"base64url-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",json_string:"JSON \u043D\u0438\u0437\u0430",e164:"E.164 \u0431\u0440\u043E\u0458",jwt:"JWT",template_literal:"\u0432\u043D\u0435\u0441"},n={nan:"NaN",number:"\u0431\u0440\u043E\u0458",array:"\u043D\u0438\u0437\u0430"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 instanceof ${i.expected}, \u043F\u0440\u0438\u043C\u0435\u043D\u043E ${a}`:`\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${o}, \u043F\u0440\u0438\u043C\u0435\u043D\u043E ${a}`}case"invalid_value":return i.values.length===1?`Invalid input: expected ${Ge(i.values[0])}`:`\u0413\u0440\u0435\u0448\u0430\u043D\u0430 \u043E\u043F\u0446\u0438\u0458\u0430: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 \u0435\u0434\u043D\u0430 ${_e(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${i.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0438\u043C\u0430 ${o}${i.maximum.toString()} ${s.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438"}`:`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${i.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0431\u0438\u0434\u0435 ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${i.origin} \u0434\u0430 \u0438\u043C\u0430 ${o}${i.minimum.toString()} ${s.unit}`:`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${i.origin} \u0434\u0430 \u0431\u0438\u0434\u0435 ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u043D\u0443\u0432\u0430 \u0441\u043E "${o.prefix}"`:o.format==="ends_with"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u0432\u0440\u0448\u0443\u0432\u0430 \u0441\u043E "${o.suffix}"`:o.format==="includes"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0432\u043A\u043B\u0443\u0447\u0443\u0432\u0430 "${o.includes}"`:o.format==="regex"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u043E\u0434\u0433\u043E\u0430\u0440\u0430 \u043D\u0430 \u043F\u0430\u0442\u0435\u0440\u043D\u043E\u0442 ${o.pattern}`:`Invalid ${r[o.format]??i.format}`}case"not_multiple_of":return`\u0413\u0440\u0435\u0448\u0435\u043D \u0431\u0440\u043E\u0458: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0431\u0438\u0434\u0435 \u0434\u0435\u043B\u0438\u0432 \u0441\u043E ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D\u0438 \u043A\u043B\u0443\u0447\u0435\u0432\u0438":"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D \u043A\u043B\u0443\u0447"}: ${_e(i.keys,", ")}`;case"invalid_key":return`\u0413\u0440\u0435\u0448\u0435\u043D \u043A\u043B\u0443\u0447 \u0432\u043E ${i.origin}`;case"invalid_union":return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441";case"invalid_element":return`\u0413\u0440\u0435\u0448\u043D\u0430 \u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442 \u0432\u043E ${i.origin}`;default:return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441"}}};function R2e(){return{localeError:GSt()}}var jSt=()=>{let t={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function e(i){return t[i]??null}let r={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"},n={nan:"NaN",number:"nombor"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Input tidak sah: dijangka instanceof ${i.expected}, diterima ${a}`:`Input tidak sah: dijangka ${o}, diterima ${a}`}case"invalid_value":return i.values.length===1?`Input tidak sah: dijangka ${Ge(i.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${_e(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Terlalu besar: dijangka ${i.origin??"nilai"} ${s.verb} ${o}${i.maximum.toString()} ${s.unit??"elemen"}`:`Terlalu besar: dijangka ${i.origin??"nilai"} adalah ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Terlalu kecil: dijangka ${i.origin} ${s.verb} ${o}${i.minimum.toString()} ${s.unit}`:`Terlalu kecil: dijangka ${i.origin} adalah ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`String tidak sah: mesti bermula dengan "${o.prefix}"`:o.format==="ends_with"?`String tidak sah: mesti berakhir dengan "${o.suffix}"`:o.format==="includes"?`String tidak sah: mesti mengandungi "${o.includes}"`:o.format==="regex"?`String tidak sah: mesti sepadan dengan corak ${o.pattern}`:`${r[o.format]??i.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${i.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${_e(i.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${i.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${i.origin}`;default:return"Input tidak sah"}}};function I2e(){return{localeError:jSt()}}var qSt=()=>{let t={string:{unit:"tekens",verb:"heeft"},file:{unit:"bytes",verb:"heeft"},array:{unit:"elementen",verb:"heeft"},set:{unit:"elementen",verb:"heeft"}};function e(i){return t[i]??null}let r={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"},n={nan:"NaN",number:"getal"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Ongeldige invoer: verwacht instanceof ${i.expected}, ontving ${a}`:`Ongeldige invoer: verwacht ${o}, ontving ${a}`}case"invalid_value":return i.values.length===1?`Ongeldige invoer: verwacht ${Ge(i.values[0])}`:`Ongeldige optie: verwacht \xE9\xE9n van ${_e(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin),a=i.origin==="date"?"laat":i.origin==="string"?"lang":"groot";return s?`Te ${a}: verwacht dat ${i.origin??"waarde"} ${o}${i.maximum.toString()} ${s.unit??"elementen"} ${s.verb}`:`Te ${a}: verwacht dat ${i.origin??"waarde"} ${o}${i.maximum.toString()} is`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin),a=i.origin==="date"?"vroeg":i.origin==="string"?"kort":"klein";return s?`Te ${a}: verwacht dat ${i.origin} ${o}${i.minimum.toString()} ${s.unit} ${s.verb}`:`Te ${a}: verwacht dat ${i.origin} ${o}${i.minimum.toString()} is`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Ongeldige tekst: moet met "${o.prefix}" beginnen`:o.format==="ends_with"?`Ongeldige tekst: moet op "${o.suffix}" eindigen`:o.format==="includes"?`Ongeldige tekst: moet "${o.includes}" bevatten`:o.format==="regex"?`Ongeldige tekst: moet overeenkomen met patroon ${o.pattern}`:`Ongeldig: ${r[o.format]??i.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${i.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${i.keys.length>1?"s":""}: ${_e(i.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${i.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${i.origin}`;default:return"Ongeldige invoer"}}};function C2e(){return{localeError:qSt()}}var WSt=()=>{let t={string:{unit:"tegn",verb:"\xE5 ha"},file:{unit:"bytes",verb:"\xE5 ha"},array:{unit:"elementer",verb:"\xE5 inneholde"},set:{unit:"elementer",verb:"\xE5 inneholde"}};function e(i){return t[i]??null}let r={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},n={nan:"NaN",number:"tall",array:"liste"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Ugyldig input: forventet instanceof ${i.expected}, fikk ${a}`:`Ugyldig input: forventet ${o}, fikk ${a}`}case"invalid_value":return i.values.length===1?`Ugyldig verdi: forventet ${Ge(i.values[0])}`:`Ugyldig valg: forventet en av ${_e(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`For stor(t): forventet ${i.origin??"value"} til \xE5 ha ${o}${i.maximum.toString()} ${s.unit??"elementer"}`:`For stor(t): forventet ${i.origin??"value"} til \xE5 ha ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`For lite(n): forventet ${i.origin} til \xE5 ha ${o}${i.minimum.toString()} ${s.unit}`:`For lite(n): forventet ${i.origin} til \xE5 ha ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Ugyldig streng: m\xE5 starte med "${o.prefix}"`:o.format==="ends_with"?`Ugyldig streng: m\xE5 ende med "${o.suffix}"`:o.format==="includes"?`Ugyldig streng: m\xE5 inneholde "${o.includes}"`:o.format==="regex"?`Ugyldig streng: m\xE5 matche m\xF8nsteret ${o.pattern}`:`Ugyldig ${r[o.format]??i.format}`}case"not_multiple_of":return`Ugyldig tall: m\xE5 v\xE6re et multiplum av ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Ukjente n\xF8kler":"Ukjent n\xF8kkel"}: ${_e(i.keys,", ")}`;case"invalid_key":return`Ugyldig n\xF8kkel i ${i.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${i.origin}`;default:return"Ugyldig input"}}};function N2e(){return{localeError:WSt()}}var JSt=()=>{let t={string:{unit:"harf",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"unsur",verb:"olmal\u0131d\u0131r"},set:{unit:"unsur",verb:"olmal\u0131d\u0131r"}};function e(i){return t[i]??null}let r={regex:"giren",email:"epostag\xE2h",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO heng\xE2m\u0131",date:"ISO tarihi",time:"ISO zaman\u0131",duration:"ISO m\xFCddeti",ipv4:"IPv4 ni\u015F\xE2n\u0131",ipv6:"IPv6 ni\u015F\xE2n\u0131",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-\u015Fifreli metin",base64url:"base64url-\u015Fifreli metin",json_string:"JSON metin",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"giren"},n={nan:"NaN",number:"numara",array:"saf",null:"gayb"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`F\xE2sit giren: umulan instanceof ${i.expected}, al\u0131nan ${a}`:`F\xE2sit giren: umulan ${o}, al\u0131nan ${a}`}case"invalid_value":return i.values.length===1?`F\xE2sit giren: umulan ${Ge(i.values[0])}`:`F\xE2sit tercih: m\xFBteberler ${_e(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Fazla b\xFCy\xFCk: ${i.origin??"value"}, ${o}${i.maximum.toString()} ${s.unit??"elements"} sahip olmal\u0131yd\u0131.`:`Fazla b\xFCy\xFCk: ${i.origin??"value"}, ${o}${i.maximum.toString()} olmal\u0131yd\u0131.`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Fazla k\xFC\xE7\xFCk: ${i.origin}, ${o}${i.minimum.toString()} ${s.unit} sahip olmal\u0131yd\u0131.`:`Fazla k\xFC\xE7\xFCk: ${i.origin}, ${o}${i.minimum.toString()} olmal\u0131yd\u0131.`}case"invalid_format":{let o=i;return o.format==="starts_with"?`F\xE2sit metin: "${o.prefix}" ile ba\u015Flamal\u0131.`:o.format==="ends_with"?`F\xE2sit metin: "${o.suffix}" ile bitmeli.`:o.format==="includes"?`F\xE2sit metin: "${o.includes}" ihtiv\xE2 etmeli.`:o.format==="regex"?`F\xE2sit metin: ${o.pattern} nak\u015F\u0131na uymal\u0131.`:`F\xE2sit ${r[o.format]??i.format}`}case"not_multiple_of":return`F\xE2sit say\u0131: ${i.divisor} kat\u0131 olmal\u0131yd\u0131.`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar ${i.keys.length>1?"s":""}: ${_e(i.keys,", ")}`;case"invalid_key":return`${i.origin} i\xE7in tan\u0131nmayan anahtar var.`;case"invalid_union":return"Giren tan\u0131namad\u0131.";case"invalid_element":return`${i.origin} i\xE7in tan\u0131nmayan k\u0131ymet var.`;default:return"K\u0131ymet tan\u0131namad\u0131."}}};function O2e(){return{localeError:JSt()}}var KSt=()=>{let t={string:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},file:{unit:"\u0628\u0627\u06CC\u067C\u0633",verb:"\u0648\u0644\u0631\u064A"},array:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},set:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"}};function e(i){return t[i]??null}let r={regex:"\u0648\u0631\u0648\u062F\u064A",email:"\u0628\u0631\u06CC\u069A\u0646\u0627\u0644\u06CC\u06A9",url:"\u06CC\u0648 \u0622\u0631 \u0627\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0646\u06CC\u067C\u0647 \u0627\u0648 \u0648\u062E\u062A",date:"\u0646\u06D0\u067C\u0647",time:"\u0648\u062E\u062A",duration:"\u0645\u0648\u062F\u0647",ipv4:"\u062F IPv4 \u067E\u062A\u0647",ipv6:"\u062F IPv6 \u067E\u062A\u0647",cidrv4:"\u062F IPv4 \u0633\u0627\u062D\u0647",cidrv6:"\u062F IPv6 \u0633\u0627\u062D\u0647",base64:"base64-encoded \u0645\u062A\u0646",base64url:"base64url-encoded \u0645\u062A\u0646",json_string:"JSON \u0645\u062A\u0646",e164:"\u062F E.164 \u0634\u0645\u06D0\u0631\u0647",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u064A"},n={nan:"NaN",number:"\u0639\u062F\u062F",array:"\u0627\u0631\u06D0"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F instanceof ${i.expected} \u0648\u0627\u06CC, \u0645\u06AB\u0631 ${a} \u062A\u0631\u0644\u0627\u0633\u0647 \u0634\u0648`:`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${o} \u0648\u0627\u06CC, \u0645\u06AB\u0631 ${a} \u062A\u0631\u0644\u0627\u0633\u0647 \u0634\u0648`}case"invalid_value":return i.values.length===1?`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${Ge(i.values[0])} \u0648\u0627\u06CC`:`\u0646\u0627\u0633\u0645 \u0627\u0646\u062A\u062E\u0627\u0628: \u0628\u0627\u06CC\u062F \u06CC\u0648 \u0644\u0647 ${_e(i.values,"|")} \u0685\u062E\u0647 \u0648\u0627\u06CC`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${i.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${o}${i.maximum.toString()} ${s.unit??"\u0639\u0646\u0635\u0631\u0648\u0646\u0647"} \u0648\u0644\u0631\u064A`:`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${i.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${o}${i.maximum.toString()} \u0648\u064A`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${i.origin} \u0628\u0627\u06CC\u062F ${o}${i.minimum.toString()} ${s.unit} \u0648\u0644\u0631\u064A`:`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${i.origin} \u0628\u0627\u06CC\u062F ${o}${i.minimum.toString()} \u0648\u064A`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${o.prefix}" \u0633\u0631\u0647 \u067E\u06CC\u0644 \u0634\u064A`:o.format==="ends_with"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${o.suffix}" \u0633\u0631\u0647 \u067E\u0627\u06CC \u062A\u0647 \u0648\u0631\u0633\u064A\u0696\u064A`:o.format==="includes"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F "${o.includes}" \u0648\u0644\u0631\u064A`:o.format==="regex"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F ${o.pattern} \u0633\u0631\u0647 \u0645\u0637\u0627\u0628\u0642\u062A \u0648\u0644\u0631\u064A`:`${r[o.format]??i.format} \u0646\u0627\u0633\u0645 \u062F\u06CC`}case"not_multiple_of":return`\u0646\u0627\u0633\u0645 \u0639\u062F\u062F: \u0628\u0627\u06CC\u062F \u062F ${i.divisor} \u0645\u0636\u0631\u0628 \u0648\u064A`;case"unrecognized_keys":return`\u0646\u0627\u0633\u0645 ${i.keys.length>1?"\u06A9\u0644\u06CC\u0689\u0648\u0646\u0647":"\u06A9\u0644\u06CC\u0689"}: ${_e(i.keys,", ")}`;case"invalid_key":return`\u0646\u0627\u0633\u0645 \u06A9\u0644\u06CC\u0689 \u067E\u0647 ${i.origin} \u06A9\u06D0`;case"invalid_union":return"\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A";case"invalid_element":return`\u0646\u0627\u0633\u0645 \u0639\u0646\u0635\u0631 \u067E\u0647 ${i.origin} \u06A9\u06D0`;default:return"\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A"}}};function P2e(){return{localeError:KSt()}}var QSt=()=>{let t={string:{unit:"znak\xF3w",verb:"mie\u0107"},file:{unit:"bajt\xF3w",verb:"mie\u0107"},array:{unit:"element\xF3w",verb:"mie\u0107"},set:{unit:"element\xF3w",verb:"mie\u0107"}};function e(i){return t[i]??null}let r={regex:"wyra\u017Cenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"ci\u0105g znak\xF3w zakodowany w formacie base64",base64url:"ci\u0105g znak\xF3w zakodowany w formacie base64url",json_string:"ci\u0105g znak\xF3w w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wej\u015Bcie"},n={nan:"NaN",number:"liczba",array:"tablica"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano instanceof ${i.expected}, otrzymano ${a}`:`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${o}, otrzymano ${a}`}case"invalid_value":return i.values.length===1?`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${Ge(i.values[0])}`:`Nieprawid\u0142owa opcja: oczekiwano jednej z warto\u015Bci ${_e(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Za du\u017Ca warto\u015B\u0107: oczekiwano, \u017Ce ${i.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${o}${i.maximum.toString()} ${s.unit??"element\xF3w"}`:`Zbyt du\u017C(y/a/e): oczekiwano, \u017Ce ${i.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Za ma\u0142a warto\u015B\u0107: oczekiwano, \u017Ce ${i.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${o}${i.minimum.toString()} ${s.unit??"element\xF3w"}`:`Zbyt ma\u0142(y/a/e): oczekiwano, \u017Ce ${i.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zaczyna\u0107 si\u0119 od "${o.prefix}"`:o.format==="ends_with"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi ko\u0144czy\u0107 si\u0119 na "${o.suffix}"`:o.format==="includes"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zawiera\u0107 "${o.includes}"`:o.format==="regex"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi odpowiada\u0107 wzorcowi ${o.pattern}`:`Nieprawid\u0142ow(y/a/e) ${r[o.format]??i.format}`}case"not_multiple_of":return`Nieprawid\u0142owa liczba: musi by\u0107 wielokrotno\u015Bci\u0105 ${i.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${i.keys.length>1?"s":""}: ${_e(i.keys,", ")}`;case"invalid_key":return`Nieprawid\u0142owy klucz w ${i.origin}`;case"invalid_union":return"Nieprawid\u0142owe dane wej\u015Bciowe";case"invalid_element":return`Nieprawid\u0142owa warto\u015B\u0107 w ${i.origin}`;default:return"Nieprawid\u0142owe dane wej\u015Bciowe"}}};function k2e(){return{localeError:QSt()}}var XSt=()=>{let t={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function e(i){return t[i]??null}let r={regex:"padr\xE3o",email:"endere\xE7o de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"dura\xE7\xE3o ISO",ipv4:"endere\xE7o IPv4",ipv6:"endere\xE7o IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"},n={nan:"NaN",number:"n\xFAmero",null:"nulo"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Tipo inv\xE1lido: esperado instanceof ${i.expected}, recebido ${a}`:`Tipo inv\xE1lido: esperado ${o}, recebido ${a}`}case"invalid_value":return i.values.length===1?`Entrada inv\xE1lida: esperado ${Ge(i.values[0])}`:`Op\xE7\xE3o inv\xE1lida: esperada uma das ${_e(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Muito grande: esperado que ${i.origin??"valor"} tivesse ${o}${i.maximum.toString()} ${s.unit??"elementos"}`:`Muito grande: esperado que ${i.origin??"valor"} fosse ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Muito pequeno: esperado que ${i.origin} tivesse ${o}${i.minimum.toString()} ${s.unit}`:`Muito pequeno: esperado que ${i.origin} fosse ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Texto inv\xE1lido: deve come\xE7ar com "${o.prefix}"`:o.format==="ends_with"?`Texto inv\xE1lido: deve terminar com "${o.suffix}"`:o.format==="includes"?`Texto inv\xE1lido: deve incluir "${o.includes}"`:o.format==="regex"?`Texto inv\xE1lido: deve corresponder ao padr\xE3o ${o.pattern}`:`${r[o.format]??i.format} inv\xE1lido`}case"not_multiple_of":return`N\xFAmero inv\xE1lido: deve ser m\xFAltiplo de ${i.divisor}`;case"unrecognized_keys":return`Chave${i.keys.length>1?"s":""} desconhecida${i.keys.length>1?"s":""}: ${_e(i.keys,", ")}`;case"invalid_key":return`Chave inv\xE1lida em ${i.origin}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido em ${i.origin}`;default:return"Campo inv\xE1lido"}}};function D2e(){return{localeError:XSt()}}function M2e(t,e,r,n){let i=Math.abs(t),o=i%10,s=i%100;return s>=11&&s<=19?n:o===1?e:o>=2&&o<=4?r:n}var YSt=()=>{let t={string:{unit:{one:"\u0441\u0438\u043C\u0432\u043E\u043B",few:"\u0441\u0438\u043C\u0432\u043E\u043B\u0430",many:"\u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u0430",many:"\u0431\u0430\u0439\u0442"},verb:"\u0438\u043C\u0435\u0442\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"}};function e(i){return t[i]??null}let r={regex:"\u0432\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0435\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0432\u0440\u0435\u043C\u044F",duration:"ISO \u0434\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441",cidrv4:"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",base64:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64",base64url:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64url",json_string:"JSON \u0441\u0442\u0440\u043E\u043A\u0430",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0432\u043E\u0434"},n={nan:"NaN",number:"\u0447\u0438\u0441\u043B\u043E",array:"\u043C\u0430\u0441\u0441\u0438\u0432"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C instanceof ${i.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E ${a}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${o}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E ${a}`}case"invalid_value":return i.values.length===1?`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${Ge(i.values[0])}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0430\u0440\u0438\u0430\u043D\u0442: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0434\u043D\u043E \u0438\u0437 ${_e(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);if(s){let a=Number(i.maximum),c=M2e(a,s.unit.one,s.unit.few,s.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${i.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${o}${i.maximum.toString()} ${c}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${i.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);if(s){let a=Number(i.minimum),c=M2e(a,s.unit.one,s.unit.few,s.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${i.origin} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${o}${i.minimum.toString()} ${c}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${i.origin} \u0431\u0443\u0434\u0435\u0442 ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u043D\u0430\u0447\u0438\u043D\u0430\u0442\u044C\u0441\u044F \u0441 "${o.prefix}"`:o.format==="ends_with"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0437\u0430\u043A\u0430\u043D\u0447\u0438\u0432\u0430\u0442\u044C\u0441\u044F \u043D\u0430 "${o.suffix}"`:o.format==="includes"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C "${o.includes}"`:o.format==="regex"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043E\u0432\u0430\u0442\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${o.pattern}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 ${r[o.format]??i.format}`}case"not_multiple_of":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0447\u0438\u0441\u043B\u043E: \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${i.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u043E\u0437\u043D\u0430\u043D\u043D${i.keys.length>1?"\u044B\u0435":"\u044B\u0439"} \u043A\u043B\u044E\u0447${i.keys.length>1?"\u0438":""}: ${_e(i.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043A\u043B\u044E\u0447 \u0432 ${i.origin}`;case"invalid_union":return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435";case"invalid_element":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0432 ${i.origin}`;default:return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435"}}};function L2e(){return{localeError:YSt()}}var ZSt=()=>{let t={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function e(i){return t[i]??null}let r={regex:"vnos",email:"e-po\u0161tni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in \u010Das",date:"ISO datum",time:"ISO \u010Das",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 \u0161tevilka",jwt:"JWT",template_literal:"vnos"},n={nan:"NaN",number:"\u0161tevilo",array:"tabela"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Neveljaven vnos: pri\u010Dakovano instanceof ${i.expected}, prejeto ${a}`:`Neveljaven vnos: pri\u010Dakovano ${o}, prejeto ${a}`}case"invalid_value":return i.values.length===1?`Neveljaven vnos: pri\u010Dakovano ${Ge(i.values[0])}`:`Neveljavna mo\u017Enost: pri\u010Dakovano eno izmed ${_e(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Preveliko: pri\u010Dakovano, da bo ${i.origin??"vrednost"} imelo ${o}${i.maximum.toString()} ${s.unit??"elementov"}`:`Preveliko: pri\u010Dakovano, da bo ${i.origin??"vrednost"} ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Premajhno: pri\u010Dakovano, da bo ${i.origin} imelo ${o}${i.minimum.toString()} ${s.unit}`:`Premajhno: pri\u010Dakovano, da bo ${i.origin} ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Neveljaven niz: mora se za\u010Deti z "${o.prefix}"`:o.format==="ends_with"?`Neveljaven niz: mora se kon\u010Dati z "${o.suffix}"`:o.format==="includes"?`Neveljaven niz: mora vsebovati "${o.includes}"`:o.format==="regex"?`Neveljaven niz: mora ustrezati vzorcu ${o.pattern}`:`Neveljaven ${r[o.format]??i.format}`}case"not_multiple_of":return`Neveljavno \u0161tevilo: mora biti ve\u010Dkratnik ${i.divisor}`;case"unrecognized_keys":return`Neprepoznan${i.keys.length>1?"i klju\u010Di":" klju\u010D"}: ${_e(i.keys,", ")}`;case"invalid_key":return`Neveljaven klju\u010D v ${i.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${i.origin}`;default:return"Neveljaven vnos"}}};function B2e(){return{localeError:ZSt()}}var e2t=()=>{let t={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att inneh\xE5lla"},set:{unit:"objekt",verb:"att inneh\xE5lla"}};function e(i){return t[i]??null}let r={regex:"regulj\xE4rt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad str\xE4ng",base64url:"base64url-kodad str\xE4ng",json_string:"JSON-str\xE4ng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"},n={nan:"NaN",number:"antal",array:"lista"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Ogiltig inmatning: f\xF6rv\xE4ntat instanceof ${i.expected}, fick ${a}`:`Ogiltig inmatning: f\xF6rv\xE4ntat ${o}, fick ${a}`}case"invalid_value":return i.values.length===1?`Ogiltig inmatning: f\xF6rv\xE4ntat ${Ge(i.values[0])}`:`Ogiltigt val: f\xF6rv\xE4ntade en av ${_e(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`F\xF6r stor(t): f\xF6rv\xE4ntade ${i.origin??"v\xE4rdet"} att ha ${o}${i.maximum.toString()} ${s.unit??"element"}`:`F\xF6r stor(t): f\xF6rv\xE4ntat ${i.origin??"v\xE4rdet"} att ha ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`F\xF6r lite(t): f\xF6rv\xE4ntade ${i.origin??"v\xE4rdet"} att ha ${o}${i.minimum.toString()} ${s.unit}`:`F\xF6r lite(t): f\xF6rv\xE4ntade ${i.origin??"v\xE4rdet"} att ha ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Ogiltig str\xE4ng: m\xE5ste b\xF6rja med "${o.prefix}"`:o.format==="ends_with"?`Ogiltig str\xE4ng: m\xE5ste sluta med "${o.suffix}"`:o.format==="includes"?`Ogiltig str\xE4ng: m\xE5ste inneh\xE5lla "${o.includes}"`:o.format==="regex"?`Ogiltig str\xE4ng: m\xE5ste matcha m\xF6nstret "${o.pattern}"`:`Ogiltig(t) ${r[o.format]??i.format}`}case"not_multiple_of":return`Ogiltigt tal: m\xE5ste vara en multipel av ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Ok\xE4nda nycklar":"Ok\xE4nd nyckel"}: ${_e(i.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${i.origin??"v\xE4rdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xE4rde i ${i.origin??"v\xE4rdet"}`;default:return"Ogiltig input"}}};function $2e(){return{localeError:e2t()}}var t2t=()=>{let t={string:{unit:"\u0B8E\u0BB4\u0BC1\u0BA4\u0BCD\u0BA4\u0BC1\u0B95\u0BCD\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},file:{unit:"\u0BAA\u0BC8\u0B9F\u0BCD\u0B9F\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},array:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},set:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"}};function e(i){return t[i]??null}let r={regex:"\u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1",email:"\u0BAE\u0BBF\u0BA9\u0BCD\u0BA9\u0B9E\u0BCD\u0B9A\u0BB2\u0BCD \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0BA4\u0BC7\u0BA4\u0BBF \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",date:"ISO \u0BA4\u0BC7\u0BA4\u0BBF",time:"ISO \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",duration:"ISO \u0B95\u0BBE\u0BB2 \u0B85\u0BB3\u0BB5\u0BC1",ipv4:"IPv4 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",ipv6:"IPv6 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",cidrv4:"IPv4 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",cidrv6:"IPv6 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",base64:"base64-encoded \u0B9A\u0BB0\u0BAE\u0BCD",base64url:"base64url-encoded \u0B9A\u0BB0\u0BAE\u0BCD",json_string:"JSON \u0B9A\u0BB0\u0BAE\u0BCD",e164:"E.164 \u0B8E\u0BA3\u0BCD",jwt:"JWT",template_literal:"input"},n={nan:"NaN",number:"\u0B8E\u0BA3\u0BCD",array:"\u0B85\u0BA3\u0BBF",null:"\u0BB5\u0BC6\u0BB1\u0BC1\u0BAE\u0BC8"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 instanceof ${i.expected}, \u0BAA\u0BC6\u0BB1\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${a}`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${o}, \u0BAA\u0BC6\u0BB1\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${a}`}case"invalid_value":return i.values.length===1?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${Ge(i.values[0])}`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0BAE\u0BCD: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${_e(i.values,"|")} \u0B87\u0BB2\u0BCD \u0B92\u0BA9\u0BCD\u0BB1\u0BC1`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${i.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${o}${i.maximum.toString()} ${s.unit??"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD"} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${i.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${o}${i.maximum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${i.origin} ${o}${i.minimum.toString()} ${s.unit} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${i.origin} ${o}${i.minimum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${o.prefix}" \u0B87\u0BB2\u0BCD \u0BA4\u0BCA\u0B9F\u0B99\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:o.format==="ends_with"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${o.suffix}" \u0B87\u0BB2\u0BCD \u0BAE\u0BC1\u0B9F\u0BBF\u0BB5\u0B9F\u0BC8\u0BAF \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:o.format==="includes"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${o.includes}" \u0B90 \u0B89\u0BB3\u0BCD\u0BB3\u0B9F\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:o.format==="regex"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: ${o.pattern} \u0BAE\u0BC1\u0BB1\u0BC8\u0BAA\u0BBE\u0B9F\u0BCD\u0B9F\u0BC1\u0B9F\u0BA9\u0BCD \u0BAA\u0BCA\u0BB0\u0BC1\u0BA8\u0BCD\u0BA4 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 ${r[o.format]??i.format}`}case"not_multiple_of":return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B8E\u0BA3\u0BCD: ${i.divisor} \u0B87\u0BA9\u0BCD \u0BAA\u0BB2\u0BAE\u0BBE\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;case"unrecognized_keys":return`\u0B85\u0B9F\u0BC8\u0BAF\u0BBE\u0BB3\u0BAE\u0BCD \u0BA4\u0BC6\u0BB0\u0BBF\u0BAF\u0BBE\u0BA4 \u0BB5\u0BBF\u0B9A\u0BC8${i.keys.length>1?"\u0B95\u0BB3\u0BCD":""}: ${_e(i.keys,", ")}`;case"invalid_key":return`${i.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0B9A\u0BC8`;case"invalid_union":return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1";case"invalid_element":return`${i.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1`;default:return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1"}}};function U2e(){return{localeError:t2t()}}var r2t=()=>{let t={string:{unit:"\u0E15\u0E31\u0E27\u0E2D\u0E31\u0E01\u0E29\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},file:{unit:"\u0E44\u0E1A\u0E15\u0E4C",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},array:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},set:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"}};function e(i){return t[i]??null}let r={regex:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19",email:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E2D\u0E35\u0E40\u0E21\u0E25",url:"URL",emoji:"\u0E2D\u0E34\u0E42\u0E21\u0E08\u0E34",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",date:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E1A\u0E1A ISO",time:"\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",duration:"\u0E0A\u0E48\u0E27\u0E07\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",ipv4:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv4",ipv6:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv6",cidrv4:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv4",cidrv6:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv6",base64:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64",base64url:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64 \u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A URL",json_string:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A JSON",e164:"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23\u0E28\u0E31\u0E1E\u0E17\u0E4C\u0E23\u0E30\u0E2B\u0E27\u0E48\u0E32\u0E07\u0E1B\u0E23\u0E30\u0E40\u0E17\u0E28 (E.164)",jwt:"\u0E42\u0E17\u0E40\u0E04\u0E19 JWT",template_literal:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19"},n={nan:"NaN",number:"\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02",array:"\u0E2D\u0E32\u0E23\u0E4C\u0E40\u0E23\u0E22\u0E4C (Array)",null:"\u0E44\u0E21\u0E48\u0E21\u0E35\u0E04\u0E48\u0E32 (null)"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 instanceof ${i.expected} \u0E41\u0E15\u0E48\u0E44\u0E14\u0E49\u0E23\u0E31\u0E1A ${a}`:`\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${o} \u0E41\u0E15\u0E48\u0E44\u0E14\u0E49\u0E23\u0E31\u0E1A ${a}`}case"invalid_value":return i.values.length===1?`\u0E04\u0E48\u0E32\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${Ge(i.values[0])}`:`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19\u0E2B\u0E19\u0E36\u0E48\u0E07\u0E43\u0E19 ${_e(i.values,"|")}`;case"too_big":{let o=i.inclusive?"\u0E44\u0E21\u0E48\u0E40\u0E01\u0E34\u0E19":"\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32",s=e(i.origin);return s?`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${i.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${o} ${i.maximum.toString()} ${s.unit??"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23"}`:`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${i.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${o} ${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?"\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E19\u0E49\u0E2D\u0E22":"\u0E21\u0E32\u0E01\u0E01\u0E27\u0E48\u0E32",s=e(i.origin);return s?`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${i.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${o} ${i.minimum.toString()} ${s.unit}`:`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${i.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${o} ${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E02\u0E36\u0E49\u0E19\u0E15\u0E49\u0E19\u0E14\u0E49\u0E27\u0E22 "${o.prefix}"`:o.format==="ends_with"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E25\u0E07\u0E17\u0E49\u0E32\u0E22\u0E14\u0E49\u0E27\u0E22 "${o.suffix}"`:o.format==="includes"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E21\u0E35 "${o.includes}" \u0E2D\u0E22\u0E39\u0E48\u0E43\u0E19\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21`:o.format==="regex"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14 ${o.pattern}`:`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: ${r[o.format]??i.format}`}case"not_multiple_of":return`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E40\u0E1B\u0E47\u0E19\u0E08\u0E33\u0E19\u0E27\u0E19\u0E17\u0E35\u0E48\u0E2B\u0E32\u0E23\u0E14\u0E49\u0E27\u0E22 ${i.divisor} \u0E44\u0E14\u0E49\u0E25\u0E07\u0E15\u0E31\u0E27`;case"unrecognized_keys":return`\u0E1E\u0E1A\u0E04\u0E35\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E44\u0E21\u0E48\u0E23\u0E39\u0E49\u0E08\u0E31\u0E01: ${_e(i.keys,", ")}`;case"invalid_key":return`\u0E04\u0E35\u0E22\u0E4C\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${i.origin}`;case"invalid_union":return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E44\u0E21\u0E48\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E22\u0E39\u0E40\u0E19\u0E35\u0E22\u0E19\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14\u0E44\u0E27\u0E49";case"invalid_element":return`\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${i.origin}`;default:return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07"}}};function F2e(){return{localeError:r2t()}}var n2t=()=>{let t={string:{unit:"karakter",verb:"olmal\u0131"},file:{unit:"bayt",verb:"olmal\u0131"},array:{unit:"\xF6\u011Fe",verb:"olmal\u0131"},set:{unit:"\xF6\u011Fe",verb:"olmal\u0131"}};function e(i){return t[i]??null}let r={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO s\xFCre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral\u0131\u011F\u0131",cidrv6:"IPv6 aral\u0131\u011F\u0131",base64:"base64 ile \u015Fifrelenmi\u015F metin",base64url:"base64url ile \u015Fifrelenmi\u015F metin",json_string:"JSON dizesi",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"\u015Eablon dizesi"},n={nan:"NaN"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Ge\xE7ersiz de\u011Fer: beklenen instanceof ${i.expected}, al\u0131nan ${a}`:`Ge\xE7ersiz de\u011Fer: beklenen ${o}, al\u0131nan ${a}`}case"invalid_value":return i.values.length===1?`Ge\xE7ersiz de\u011Fer: beklenen ${Ge(i.values[0])}`:`Ge\xE7ersiz se\xE7enek: a\u015Fa\u011F\u0131dakilerden biri olmal\u0131: ${_e(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\xC7ok b\xFCy\xFCk: beklenen ${i.origin??"de\u011Fer"} ${o}${i.maximum.toString()} ${s.unit??"\xF6\u011Fe"}`:`\xC7ok b\xFCy\xFCk: beklenen ${i.origin??"de\u011Fer"} ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\xC7ok k\xFC\xE7\xFCk: beklenen ${i.origin} ${o}${i.minimum.toString()} ${s.unit}`:`\xC7ok k\xFC\xE7\xFCk: beklenen ${i.origin} ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Ge\xE7ersiz metin: "${o.prefix}" ile ba\u015Flamal\u0131`:o.format==="ends_with"?`Ge\xE7ersiz metin: "${o.suffix}" ile bitmeli`:o.format==="includes"?`Ge\xE7ersiz metin: "${o.includes}" i\xE7ermeli`:o.format==="regex"?`Ge\xE7ersiz metin: ${o.pattern} desenine uymal\u0131`:`Ge\xE7ersiz ${r[o.format]??i.format}`}case"not_multiple_of":return`Ge\xE7ersiz say\u0131: ${i.divisor} ile tam b\xF6l\xFCnebilmeli`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar${i.keys.length>1?"lar":""}: ${_e(i.keys,", ")}`;case"invalid_key":return`${i.origin} i\xE7inde ge\xE7ersiz anahtar`;case"invalid_union":return"Ge\xE7ersiz de\u011Fer";case"invalid_element":return`${i.origin} i\xE7inde ge\xE7ersiz de\u011Fer`;default:return"Ge\xE7ersiz de\u011Fer"}}};function z2e(){return{localeError:n2t()}}var i2t=()=>{let t={string:{unit:"\u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},file:{unit:"\u0431\u0430\u0439\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},array:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},set:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"}};function e(i){return t[i]??null}let r={regex:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u0435\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0457 \u043F\u043E\u0448\u0442\u0438",url:"URL",emoji:"\u0435\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0434\u0430\u0442\u0430 \u0442\u0430 \u0447\u0430\u0441 ISO",date:"\u0434\u0430\u0442\u0430 ISO",time:"\u0447\u0430\u0441 ISO",duration:"\u0442\u0440\u0438\u0432\u0430\u043B\u0456\u0441\u0442\u044C ISO",ipv4:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv4",ipv6:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv6",cidrv4:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv4",cidrv6:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv6",base64:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64",base64url:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64url",json_string:"\u0440\u044F\u0434\u043E\u043A JSON",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"},n={nan:"NaN",number:"\u0447\u0438\u0441\u043B\u043E",array:"\u043C\u0430\u0441\u0438\u0432"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F instanceof ${i.expected}, \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043E ${a}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${o}, \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043E ${a}`}case"invalid_value":return i.values.length===1?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${Ge(i.values[0])}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0430 \u043E\u043F\u0446\u0456\u044F: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F \u043E\u0434\u043D\u0435 \u0437 ${_e(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${i.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} ${s.verb} ${o}${i.maximum.toString()} ${s.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432"}`:`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${i.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} \u0431\u0443\u0434\u0435 ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${i.origin} ${s.verb} ${o}${i.minimum.toString()} ${s.unit}`:`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${i.origin} \u0431\u0443\u0434\u0435 ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043F\u043E\u0447\u0438\u043D\u0430\u0442\u0438\u0441\u044F \u0437 "${o.prefix}"`:o.format==="ends_with"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0437\u0430\u043A\u0456\u043D\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044F \u043D\u0430 "${o.suffix}"`:o.format==="includes"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043C\u0456\u0441\u0442\u0438\u0442\u0438 "${o.includes}"`:o.format==="regex"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0432\u0456\u0434\u043F\u043E\u0432\u0456\u0434\u0430\u0442\u0438 \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${o.pattern}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 ${r[o.format]??i.format}`}case"not_multiple_of":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0447\u0438\u0441\u043B\u043E: \u043F\u043E\u0432\u0438\u043D\u043D\u043E \u0431\u0443\u0442\u0438 \u043A\u0440\u0430\u0442\u043D\u0438\u043C ${i.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u043E\u0437\u043F\u0456\u0437\u043D\u0430\u043D\u0438\u0439 \u043A\u043B\u044E\u0447${i.keys.length>1?"\u0456":""}: ${_e(i.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u043A\u043B\u044E\u0447 \u0443 ${i.origin}`;case"invalid_union":return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456";case"invalid_element":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F \u0443 ${i.origin}`;default:return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"}}};function zP(){return{localeError:i2t()}}function H2e(){return zP()}var o2t=()=>{let t={string:{unit:"\u062D\u0631\u0648\u0641",verb:"\u06C1\u0648\u0646\u0627"},file:{unit:"\u0628\u0627\u0626\u0679\u0633",verb:"\u06C1\u0648\u0646\u0627"},array:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"},set:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"}};function e(i){return t[i]??null}let r={regex:"\u0627\u0646 \u067E\u0679",email:"\u0627\u06CC \u0645\u06CC\u0644 \u0627\u06CC\u0688\u0631\u06CC\u0633",url:"\u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",uuidv4:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 4",uuidv6:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 6",nanoid:"\u0646\u06CC\u0646\u0648 \u0622\u0626\u06CC \u0688\u06CC",guid:"\u062C\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid2:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC 2",ulid:"\u06CC\u0648 \u0627\u06CC\u0644 \u0622\u0626\u06CC \u0688\u06CC",xid:"\u0627\u06CC\u06A9\u0633 \u0622\u0626\u06CC \u0688\u06CC",ksuid:"\u06A9\u06D2 \u0627\u06CC\u0633 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",datetime:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0688\u06CC\u0679 \u0679\u0627\u0626\u0645",date:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u062A\u0627\u0631\u06CC\u062E",time:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0648\u0642\u062A",duration:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0645\u062F\u062A",ipv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0627\u06CC\u0688\u0631\u06CC\u0633",ipv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0627\u06CC\u0688\u0631\u06CC\u0633",cidrv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0631\u06CC\u0646\u062C",cidrv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0631\u06CC\u0646\u062C",base64:"\u0628\u06CC\u0633 64 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",base64url:"\u0628\u06CC\u0633 64 \u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",json_string:"\u062C\u06D2 \u0627\u06CC\u0633 \u0627\u0648 \u0627\u06CC\u0646 \u0633\u0679\u0631\u0646\u06AF",e164:"\u0627\u06CC 164 \u0646\u0645\u0628\u0631",jwt:"\u062C\u06D2 \u0688\u0628\u0644\u06CC\u0648 \u0679\u06CC",template_literal:"\u0627\u0646 \u067E\u0679"},n={nan:"NaN",number:"\u0646\u0645\u0628\u0631",array:"\u0622\u0631\u06D2",null:"\u0646\u0644"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: instanceof ${i.expected} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627\u060C ${a} \u0645\u0648\u0635\u0648\u0644 \u06C1\u0648\u0627`:`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${o} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627\u060C ${a} \u0645\u0648\u0635\u0648\u0644 \u06C1\u0648\u0627`}case"invalid_value":return i.values.length===1?`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${Ge(i.values[0])} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`:`\u063A\u0644\u0637 \u0622\u067E\u0634\u0646: ${_e(i.values,"|")} \u0645\u06CC\u06BA \u0633\u06D2 \u0627\u06CC\u06A9 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u0628\u06C1\u062A \u0628\u0691\u0627: ${i.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u06D2 ${o}${i.maximum.toString()} ${s.unit??"\u0639\u0646\u0627\u0635\u0631"} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`:`\u0628\u06C1\u062A \u0628\u0691\u0627: ${i.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u0627 ${o}${i.maximum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${i.origin} \u06A9\u06D2 ${o}${i.minimum.toString()} ${s.unit} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`:`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${i.origin} \u06A9\u0627 ${o}${i.minimum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${o.prefix}" \u0633\u06D2 \u0634\u0631\u0648\u0639 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:o.format==="ends_with"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${o.suffix}" \u067E\u0631 \u062E\u062A\u0645 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:o.format==="includes"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${o.includes}" \u0634\u0627\u0645\u0644 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:o.format==="regex"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: \u067E\u06CC\u0679\u0631\u0646 ${o.pattern} \u0633\u06D2 \u0645\u06CC\u0686 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:`\u063A\u0644\u0637 ${r[o.format]??i.format}`}case"not_multiple_of":return`\u063A\u0644\u0637 \u0646\u0645\u0628\u0631: ${i.divisor} \u06A9\u0627 \u0645\u0636\u0627\u0639\u0641 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;case"unrecognized_keys":return`\u063A\u06CC\u0631 \u062A\u0633\u0644\u06CC\u0645 \u0634\u062F\u06C1 \u06A9\u06CC${i.keys.length>1?"\u0632":""}: ${_e(i.keys,"\u060C ")}`;case"invalid_key":return`${i.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u06A9\u06CC`;case"invalid_union":return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679";case"invalid_element":return`${i.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u0648\u06CC\u0644\u06CC\u0648`;default:return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679"}}};function V2e(){return{localeError:o2t()}}var s2t=()=>{let t={string:{unit:"belgi",verb:"bo\u2018lishi kerak"},file:{unit:"bayt",verb:"bo\u2018lishi kerak"},array:{unit:"element",verb:"bo\u2018lishi kerak"},set:{unit:"element",verb:"bo\u2018lishi kerak"}};function e(i){return t[i]??null}let r={regex:"kirish",email:"elektron pochta manzili",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO sana va vaqti",date:"ISO sana",time:"ISO vaqt",duration:"ISO davomiylik",ipv4:"IPv4 manzil",ipv6:"IPv6 manzil",mac:"MAC manzil",cidrv4:"IPv4 diapazon",cidrv6:"IPv6 diapazon",base64:"base64 kodlangan satr",base64url:"base64url kodlangan satr",json_string:"JSON satr",e164:"E.164 raqam",jwt:"JWT",template_literal:"kirish"},n={nan:"NaN",number:"raqam",array:"massiv"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Noto\u2018g\u2018ri kirish: kutilgan instanceof ${i.expected}, qabul qilingan ${a}`:`Noto\u2018g\u2018ri kirish: kutilgan ${o}, qabul qilingan ${a}`}case"invalid_value":return i.values.length===1?`Noto\u2018g\u2018ri kirish: kutilgan ${Ge(i.values[0])}`:`Noto\u2018g\u2018ri variant: quyidagilardan biri kutilgan ${_e(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Juda katta: kutilgan ${i.origin??"qiymat"} ${o}${i.maximum.toString()} ${s.unit} ${s.verb}`:`Juda katta: kutilgan ${i.origin??"qiymat"} ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Juda kichik: kutilgan ${i.origin} ${o}${i.minimum.toString()} ${s.unit} ${s.verb}`:`Juda kichik: kutilgan ${i.origin} ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Noto\u2018g\u2018ri satr: "${o.prefix}" bilan boshlanishi kerak`:o.format==="ends_with"?`Noto\u2018g\u2018ri satr: "${o.suffix}" bilan tugashi kerak`:o.format==="includes"?`Noto\u2018g\u2018ri satr: "${o.includes}" ni o\u2018z ichiga olishi kerak`:o.format==="regex"?`Noto\u2018g\u2018ri satr: ${o.pattern} shabloniga mos kelishi kerak`:`Noto\u2018g\u2018ri ${r[o.format]??i.format}`}case"not_multiple_of":return`Noto\u2018g\u2018ri raqam: ${i.divisor} ning karralisi bo\u2018lishi kerak`;case"unrecognized_keys":return`Noma\u2019lum kalit${i.keys.length>1?"lar":""}: ${_e(i.keys,", ")}`;case"invalid_key":return`${i.origin} dagi kalit noto\u2018g\u2018ri`;case"invalid_union":return"Noto\u2018g\u2018ri kirish";case"invalid_element":return`${i.origin} da noto\u2018g\u2018ri qiymat`;default:return"Noto\u2018g\u2018ri kirish"}}};function G2e(){return{localeError:s2t()}}var a2t=()=>{let t={string:{unit:"k\xFD t\u1EF1",verb:"c\xF3"},file:{unit:"byte",verb:"c\xF3"},array:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"},set:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"}};function e(i){return t[i]??null}let r={regex:"\u0111\u1EA7u v\xE0o",email:"\u0111\u1ECBa ch\u1EC9 email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ng\xE0y gi\u1EDD ISO",date:"ng\xE0y ISO",time:"gi\u1EDD ISO",duration:"kho\u1EA3ng th\u1EDDi gian ISO",ipv4:"\u0111\u1ECBa ch\u1EC9 IPv4",ipv6:"\u0111\u1ECBa ch\u1EC9 IPv6",cidrv4:"d\u1EA3i IPv4",cidrv6:"d\u1EA3i IPv6",base64:"chu\u1ED7i m\xE3 h\xF3a base64",base64url:"chu\u1ED7i m\xE3 h\xF3a base64url",json_string:"chu\u1ED7i JSON",e164:"s\u1ED1 E.164",jwt:"JWT",template_literal:"\u0111\u1EA7u v\xE0o"},n={nan:"NaN",number:"s\u1ED1",array:"m\u1EA3ng"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i instanceof ${i.expected}, nh\u1EADn \u0111\u01B0\u1EE3c ${a}`:`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${o}, nh\u1EADn \u0111\u01B0\u1EE3c ${a}`}case"invalid_value":return i.values.length===1?`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${Ge(i.values[0])}`:`T\xF9y ch\u1ECDn kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i m\u1ED9t trong c\xE1c gi\xE1 tr\u1ECB ${_e(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${i.origin??"gi\xE1 tr\u1ECB"} ${s.verb} ${o}${i.maximum.toString()} ${s.unit??"ph\u1EA7n t\u1EED"}`:`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${i.origin??"gi\xE1 tr\u1ECB"} ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${i.origin} ${s.verb} ${o}${i.minimum.toString()} ${s.unit}`:`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${i.origin} ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i b\u1EAFt \u0111\u1EA7u b\u1EB1ng "${o.prefix}"`:o.format==="ends_with"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i k\u1EBFt th\xFAc b\u1EB1ng "${o.suffix}"`:o.format==="includes"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i bao g\u1ED3m "${o.includes}"`:o.format==="regex"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i kh\u1EDBp v\u1EDBi m\u1EABu ${o.pattern}`:`${r[o.format]??i.format} kh\xF4ng h\u1EE3p l\u1EC7`}case"not_multiple_of":return`S\u1ED1 kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i l\xE0 b\u1ED9i s\u1ED1 c\u1EE7a ${i.divisor}`;case"unrecognized_keys":return`Kh\xF3a kh\xF4ng \u0111\u01B0\u1EE3c nh\u1EADn d\u1EA1ng: ${_e(i.keys,", ")}`;case"invalid_key":return`Kh\xF3a kh\xF4ng h\u1EE3p l\u1EC7 trong ${i.origin}`;case"invalid_union":return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7";case"invalid_element":return`Gi\xE1 tr\u1ECB kh\xF4ng h\u1EE3p l\u1EC7 trong ${i.origin}`;default:return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7"}}};function j2e(){return{localeError:a2t()}}var c2t=()=>{let t={string:{unit:"\u5B57\u7B26",verb:"\u5305\u542B"},file:{unit:"\u5B57\u8282",verb:"\u5305\u542B"},array:{unit:"\u9879",verb:"\u5305\u542B"},set:{unit:"\u9879",verb:"\u5305\u542B"}};function e(i){return t[i]??null}let r={regex:"\u8F93\u5165",email:"\u7535\u5B50\u90AE\u4EF6",url:"URL",emoji:"\u8868\u60C5\u7B26\u53F7",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u671F\u65F6\u95F4",date:"ISO\u65E5\u671F",time:"ISO\u65F6\u95F4",duration:"ISO\u65F6\u957F",ipv4:"IPv4\u5730\u5740",ipv6:"IPv6\u5730\u5740",cidrv4:"IPv4\u7F51\u6BB5",cidrv6:"IPv6\u7F51\u6BB5",base64:"base64\u7F16\u7801\u5B57\u7B26\u4E32",base64url:"base64url\u7F16\u7801\u5B57\u7B26\u4E32",json_string:"JSON\u5B57\u7B26\u4E32",e164:"E.164\u53F7\u7801",jwt:"JWT",template_literal:"\u8F93\u5165"},n={nan:"NaN",number:"\u6570\u5B57",array:"\u6570\u7EC4",null:"\u7A7A\u503C(null)"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B instanceof ${i.expected}\uFF0C\u5B9E\u9645\u63A5\u6536 ${a}`:`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${o}\uFF0C\u5B9E\u9645\u63A5\u6536 ${a}`}case"invalid_value":return i.values.length===1?`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${Ge(i.values[0])}`:`\u65E0\u6548\u9009\u9879\uFF1A\u671F\u671B\u4EE5\u4E0B\u4E4B\u4E00 ${_e(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${i.origin??"\u503C"} ${o}${i.maximum.toString()} ${s.unit??"\u4E2A\u5143\u7D20"}`:`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${i.origin??"\u503C"} ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${i.origin} ${o}${i.minimum.toString()} ${s.unit}`:`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${i.origin} ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${o.prefix}" \u5F00\u5934`:o.format==="ends_with"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${o.suffix}" \u7ED3\u5C3E`:o.format==="includes"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u5305\u542B "${o.includes}"`:o.format==="regex"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u6EE1\u8DB3\u6B63\u5219\u8868\u8FBE\u5F0F ${o.pattern}`:`\u65E0\u6548${r[o.format]??i.format}`}case"not_multiple_of":return`\u65E0\u6548\u6570\u5B57\uFF1A\u5FC5\u987B\u662F ${i.divisor} \u7684\u500D\u6570`;case"unrecognized_keys":return`\u51FA\u73B0\u672A\u77E5\u7684\u952E(key): ${_e(i.keys,", ")}`;case"invalid_key":return`${i.origin} \u4E2D\u7684\u952E(key)\u65E0\u6548`;case"invalid_union":return"\u65E0\u6548\u8F93\u5165";case"invalid_element":return`${i.origin} \u4E2D\u5305\u542B\u65E0\u6548\u503C(value)`;default:return"\u65E0\u6548\u8F93\u5165"}}};function q2e(){return{localeError:c2t()}}var l2t=()=>{let t={string:{unit:"\u5B57\u5143",verb:"\u64C1\u6709"},file:{unit:"\u4F4D\u5143\u7D44",verb:"\u64C1\u6709"},array:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"},set:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"}};function e(i){return t[i]??null}let r={regex:"\u8F38\u5165",email:"\u90F5\u4EF6\u5730\u5740",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u65E5\u671F\u6642\u9593",date:"ISO \u65E5\u671F",time:"ISO \u6642\u9593",duration:"ISO \u671F\u9593",ipv4:"IPv4 \u4F4D\u5740",ipv6:"IPv6 \u4F4D\u5740",cidrv4:"IPv4 \u7BC4\u570D",cidrv6:"IPv6 \u7BC4\u570D",base64:"base64 \u7DE8\u78BC\u5B57\u4E32",base64url:"base64url \u7DE8\u78BC\u5B57\u4E32",json_string:"JSON \u5B57\u4E32",e164:"E.164 \u6578\u503C",jwt:"JWT",template_literal:"\u8F38\u5165"},n={nan:"NaN"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA instanceof ${i.expected}\uFF0C\u4F46\u6536\u5230 ${a}`:`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${o}\uFF0C\u4F46\u6536\u5230 ${a}`}case"invalid_value":return i.values.length===1?`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${Ge(i.values[0])}`:`\u7121\u6548\u7684\u9078\u9805\uFF1A\u9810\u671F\u70BA\u4EE5\u4E0B\u5176\u4E2D\u4E4B\u4E00 ${_e(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${i.origin??"\u503C"} \u61C9\u70BA ${o}${i.maximum.toString()} ${s.unit??"\u500B\u5143\u7D20"}`:`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${i.origin??"\u503C"} \u61C9\u70BA ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${i.origin} \u61C9\u70BA ${o}${i.minimum.toString()} ${s.unit}`:`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${i.origin} \u61C9\u70BA ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${o.prefix}" \u958B\u982D`:o.format==="ends_with"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${o.suffix}" \u7D50\u5C3E`:o.format==="includes"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u5305\u542B "${o.includes}"`:o.format==="regex"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u7B26\u5408\u683C\u5F0F ${o.pattern}`:`\u7121\u6548\u7684 ${r[o.format]??i.format}`}case"not_multiple_of":return`\u7121\u6548\u7684\u6578\u5B57\uFF1A\u5FC5\u9808\u70BA ${i.divisor} \u7684\u500D\u6578`;case"unrecognized_keys":return`\u7121\u6CD5\u8B58\u5225\u7684\u9375\u503C${i.keys.length>1?"\u5011":""}\uFF1A${_e(i.keys,"\u3001")}`;case"invalid_key":return`${i.origin} \u4E2D\u6709\u7121\u6548\u7684\u9375\u503C`;case"invalid_union":return"\u7121\u6548\u7684\u8F38\u5165\u503C";case"invalid_element":return`${i.origin} \u4E2D\u6709\u7121\u6548\u7684\u503C`;default:return"\u7121\u6548\u7684\u8F38\u5165\u503C"}}};function W2e(){return{localeError:l2t()}}var u2t=()=>{let t={string:{unit:"\xE0mi",verb:"n\xED"},file:{unit:"bytes",verb:"n\xED"},array:{unit:"nkan",verb:"n\xED"},set:{unit:"nkan",verb:"n\xED"}};function e(i){return t[i]??null}let r={regex:"\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9",email:"\xE0d\xEDr\u1EB9\u0301s\xEC \xECm\u1EB9\u0301l\xEC",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\xE0k\xF3k\xF2 ISO",date:"\u1ECDj\u1ECD\u0301 ISO",time:"\xE0k\xF3k\xF2 ISO",duration:"\xE0k\xF3k\xF2 t\xF3 p\xE9 ISO",ipv4:"\xE0d\xEDr\u1EB9\u0301s\xEC IPv4",ipv6:"\xE0d\xEDr\u1EB9\u0301s\xEC IPv6",cidrv4:"\xE0gb\xE8gb\xE8 IPv4",cidrv6:"\xE0gb\xE8gb\xE8 IPv6",base64:"\u1ECD\u0300r\u1ECD\u0300 t\xED a k\u1ECD\u0301 n\xED base64",base64url:"\u1ECD\u0300r\u1ECD\u0300 base64url",json_string:"\u1ECD\u0300r\u1ECD\u0300 JSON",e164:"n\u1ECD\u0301mb\xE0 E.164",jwt:"JWT",template_literal:"\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9"},n={nan:"NaN",number:"n\u1ECD\u0301mb\xE0",array:"akop\u1ECD"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=qe(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi instanceof ${i.expected}, \xE0m\u1ECD\u0300 a r\xED ${a}`:`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${o}, \xE0m\u1ECD\u0300 a r\xED ${a}`}case"invalid_value":return i.values.length===1?`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${Ge(i.values[0])}`:`\xC0\u1E63\xE0y\xE0n a\u1E63\xEC\u1E63e: yan \u1ECD\u0300kan l\xE1ra ${_e(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${i.origin??"iye"} ${s.verb} ${o}${i.maximum} ${s.unit}`:`T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 ${o}${i.maximum}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${i.origin} ${s.verb} ${o}${i.minimum} ${s.unit}`:`K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 ${o}${i.minimum}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\u1EB9\u0300r\u1EB9\u0300 p\u1EB9\u0300l\xFA "${o.prefix}"`:o.format==="ends_with"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 par\xED p\u1EB9\u0300l\xFA "${o.suffix}"`:o.format==="includes"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 n\xED "${o.includes}"`:o.format==="regex"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\xE1 \xE0p\u1EB9\u1EB9r\u1EB9 mu ${o.pattern}`:`A\u1E63\xEC\u1E63e: ${r[o.format]??i.format}`}case"not_multiple_of":return`N\u1ECD\u0301mb\xE0 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 j\u1EB9\u0301 \xE8y\xE0 p\xEDp\xEDn ti ${i.divisor}`;case"unrecognized_keys":return`B\u1ECDt\xECn\xEC \xE0\xECm\u1ECD\u0300: ${_e(i.keys,", ")}`;case"invalid_key":return`B\u1ECDt\xECn\xEC a\u1E63\xEC\u1E63e n\xEDn\xFA ${i.origin}`;case"invalid_union":return"\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e";case"invalid_element":return`Iye a\u1E63\xEC\u1E63e n\xEDn\xFA ${i.origin}`;default:return"\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e"}}};function J2e(){return{localeError:u2t()}}var K2e,WJ=Symbol("ZodOutput"),JJ=Symbol("ZodInput"),HP=class{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...r){let n=r[0];return this._map.set(e,n),n&&typeof n=="object"&&"id"in n&&this._idmap.set(n.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){let r=this._map.get(e);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(e),this}get(e){let r=e._zod.parent;if(r){let n={...this.get(r)??{}};delete n.id;let i={...n,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}};function VP(){return new HP}(K2e=globalThis).__zod_globalRegistry??(K2e.__zod_globalRegistry=VP());var hs=globalThis.__zod_globalRegistry;function KJ(t,e){return new t({type:"string",...Ye(e)})}function QJ(t,e){return new t({type:"string",coerce:!0,...Ye(e)})}function GP(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Ye(e)})}function R6(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Ye(e)})}function jP(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Ye(e)})}function qP(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ye(e)})}function WP(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ye(e)})}function JP(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ye(e)})}function I6(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Ye(e)})}function KP(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Ye(e)})}function QP(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ye(e)})}function XP(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Ye(e)})}function YP(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ye(e)})}function ZP(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Ye(e)})}function ek(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Ye(e)})}function tk(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ye(e)})}function rk(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ye(e)})}function nk(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ye(e)})}function XJ(t,e){return new t({type:"string",format:"mac",check:"string_format",abort:!1,...Ye(e)})}function ik(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ye(e)})}function ok(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ye(e)})}function sk(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Ye(e)})}function ak(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Ye(e)})}function ck(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Ye(e)})}function lk(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Ye(e)})}var YJ={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function ZJ(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ye(e)})}function eK(t,e){return new t({type:"string",format:"date",check:"string_format",...Ye(e)})}function tK(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Ye(e)})}function rK(t,e){return new t({type:"string",format:"duration",check:"string_format",...Ye(e)})}function nK(t,e){return new t({type:"number",checks:[],...Ye(e)})}function iK(t,e){return new t({type:"number",coerce:!0,checks:[],...Ye(e)})}function oK(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Ye(e)})}function sK(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"float32",...Ye(e)})}function aK(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"float64",...Ye(e)})}function cK(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"int32",...Ye(e)})}function lK(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"uint32",...Ye(e)})}function uK(t,e){return new t({type:"boolean",...Ye(e)})}function dK(t,e){return new t({type:"boolean",coerce:!0,...Ye(e)})}function pK(t,e){return new t({type:"bigint",...Ye(e)})}function fK(t,e){return new t({type:"bigint",coerce:!0,...Ye(e)})}function mK(t,e){return new t({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...Ye(e)})}function hK(t,e){return new t({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...Ye(e)})}function gK(t,e){return new t({type:"symbol",...Ye(e)})}function yK(t,e){return new t({type:"undefined",...Ye(e)})}function bK(t,e){return new t({type:"null",...Ye(e)})}function vK(t){return new t({type:"any"})}function _K(t){return new t({type:"unknown"})}function SK(t,e){return new t({type:"never",...Ye(e)})}function xK(t,e){return new t({type:"void",...Ye(e)})}function wK(t,e){return new t({type:"date",...Ye(e)})}function AK(t,e){return new t({type:"date",coerce:!0,...Ye(e)})}function EK(t,e){return new t({type:"nan",...Ye(e)})}function Hp(t,e){return new IP({check:"less_than",...Ye(e),value:t,inclusive:!1})}function rl(t,e){return new IP({check:"less_than",...Ye(e),value:t,inclusive:!0})}function Vp(t,e){return new CP({check:"greater_than",...Ye(e),value:t,inclusive:!1})}function Ea(t,e){return new CP({check:"greater_than",...Ye(e),value:t,inclusive:!0})}function uk(t){return Vp(0,t)}function dk(t){return Hp(0,t)}function pk(t){return rl(0,t)}function fk(t){return Ea(0,t)}function s0(t,e){return new bW({check:"multiple_of",...Ye(e),value:t})}function a0(t,e){return new SW({check:"max_size",...Ye(e),maximum:t})}function Gp(t,e){return new xW({check:"min_size",...Ye(e),minimum:t})}function _b(t,e){return new wW({check:"size_equals",...Ye(e),size:t})}function Sb(t,e){return new AW({check:"max_length",...Ye(e),maximum:t})}function vm(t,e){return new EW({check:"min_length",...Ye(e),minimum:t})}function xb(t,e){return new TW({check:"length_equals",...Ye(e),length:t})}function tx(t,e){return new RW({check:"string_format",format:"regex",...Ye(e),pattern:t})}function rx(t){return new IW({check:"string_format",format:"lowercase",...Ye(t)})}function nx(t){return new CW({check:"string_format",format:"uppercase",...Ye(t)})}function ix(t,e){return new NW({check:"string_format",format:"includes",...Ye(e),includes:t})}function ox(t,e){return new OW({check:"string_format",format:"starts_with",...Ye(e),prefix:t})}function sx(t,e){return new PW({check:"string_format",format:"ends_with",...Ye(e),suffix:t})}function mk(t,e,r){return new kW({check:"property",property:t,schema:e,...Ye(r)})}function ax(t,e){return new DW({check:"mime_type",mime:t,...Ye(e)})}function Pd(t){return new MW({check:"overwrite",tx:t})}function cx(t){return Pd(e=>e.normalize(t))}function lx(){return Pd(t=>t.trim())}function ux(){return Pd(t=>t.toLowerCase())}function dx(){return Pd(t=>t.toUpperCase())}function px(){return Pd(t=>kq(t))}function TK(t,e,r){return new t({type:"array",element:e,...Ye(r)})}function p2t(t,e,r){return new t({type:"union",options:e,...Ye(r)})}function f2t(t,e,r){return new t({type:"union",options:e,inclusive:!1,...Ye(r)})}function m2t(t,e,r,n){return new t({type:"union",options:r,discriminator:e,...Ye(n)})}function h2t(t,e,r){return new t({type:"intersection",left:e,right:r})}function g2t(t,e,r,n){let i=r instanceof sr,o=i?n:r,s=i?r:null;return new t({type:"tuple",items:e,rest:s,...Ye(o)})}function y2t(t,e,r,n){return new t({type:"record",keyType:e,valueType:r,...Ye(n)})}function b2t(t,e,r,n){return new t({type:"map",keyType:e,valueType:r,...Ye(n)})}function v2t(t,e,r){return new t({type:"set",valueType:e,...Ye(r)})}function _2t(t,e,r){let n=Array.isArray(e)?Object.fromEntries(e.map(i=>[i,i])):e;return new t({type:"enum",entries:n,...Ye(r)})}function S2t(t,e,r){return new t({type:"enum",entries:e,...Ye(r)})}function x2t(t,e,r){return new t({type:"literal",values:Array.isArray(e)?e:[e],...Ye(r)})}function RK(t,e){return new t({type:"file",...Ye(e)})}function w2t(t,e){return new t({type:"transform",transform:e})}function A2t(t,e){return new t({type:"optional",innerType:e})}function E2t(t,e){return new t({type:"nullable",innerType:e})}function T2t(t,e,r){return new t({type:"default",innerType:e,get defaultValue(){return typeof r=="function"?r():Mq(r)}})}function R2t(t,e,r){return new t({type:"nonoptional",innerType:e,...Ye(r)})}function I2t(t,e){return new t({type:"success",innerType:e})}function C2t(t,e,r){return new t({type:"catch",innerType:e,catchValue:typeof r=="function"?r:()=>r})}function N2t(t,e,r){return new t({type:"pipe",in:e,out:r})}function O2t(t,e){return new t({type:"readonly",innerType:e})}function P2t(t,e,r){return new t({type:"template_literal",parts:e,...Ye(r)})}function k2t(t,e){return new t({type:"lazy",getter:e})}function D2t(t,e){return new t({type:"promise",innerType:e})}function IK(t,e,r){let n=Ye(r);return n.abort??(n.abort=!0),new t({type:"custom",check:"custom",fn:e,...n})}function CK(t,e,r){return new t({type:"custom",check:"custom",fn:e,...Ye(r)})}function NK(t){let e=Q2e(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(J2(n,r.value,e._zod.def));else{let i=n;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),r.issues.push(J2(i))}},t(r.value,r)));return e}function Q2e(t,e){let r=new Ln({check:"custom",...Ye(e)});return r._zod.check=t,r}function OK(t){let e=new Ln({check:"describe"});return e._zod.onattach=[r=>{let n=hs.get(r)??{};hs.add(r,{...n,description:t})}],e._zod.check=()=>{},e}function PK(t){let e=new Ln({check:"meta"});return e._zod.onattach=[r=>{let n=hs.get(r)??{};hs.add(r,{...n,...t})}],e._zod.check=()=>{},e}function kK(t,e){let r=Ye(e),n=r.truthy??["true","1","yes","on","y","enabled"],i=r.falsy??["false","0","no","off","n","disabled"];r.case!=="sensitive"&&(n=n.map(f=>typeof f=="string"?f.toLowerCase():f),i=i.map(f=>typeof f=="string"?f.toLowerCase():f));let o=new Set(n),s=new Set(i),a=t.Codec??A6,c=t.Boolean??x6,l=t.String??vb,u=new l({type:"string",error:r.error}),d=new c({type:"boolean",error:r.error}),p=new a({type:"pipe",in:u,out:d,transform:((f,h)=>{let m=f;return r.case!=="sensitive"&&(m=m.toLowerCase()),o.has(m)?!0:s.has(m)?!1:(h.issues.push({code:"invalid_value",expected:"stringbool",values:[...o,...s],input:h.value,inst:p,continue:!1}),{})}),reverseTransform:((f,h)=>f===!0?n[0]||"true":i[0]||"false"),error:r.error});return p}function fx(t,e,r,n={}){let i=Ye(n),o={...Ye(n),check:"string_format",type:"string",format:e,fn:typeof r=="function"?r:a=>r.test(a),...i};return r instanceof RegExp&&(o.pattern=r),new t(o)}function c0(t){let e=t?.target??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??hs,target:e,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function fn(t,e,r={path:[],schemaPath:[]}){var n;let i=t._zod.def,o=e.seen.get(t);if(o)return o.count++,r.schemaPath.includes(t)&&(o.cycle=r.path),o.schema;let s={schema:{},count:1,cycle:void 0,path:r.path};e.seen.set(t,s);let a=t._zod.toJSONSchema?.();if(a)s.schema=a;else{let u={...r,schemaPath:[...r.schemaPath,t],path:r.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,s.schema,u);else{let p=s.schema,f=e.processors[i.type];if(!f)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);f(t,e,p,u)}let d=t._zod.parent;d&&(s.ref||(s.ref=d),fn(d,e,u),e.seen.get(d).isParent=!0)}let c=e.metadataRegistry.get(t);return c&&Object.assign(s.schema,c),e.io==="input"&&Ta(t)&&(delete s.schema.examples,delete s.schema.default),e.io==="input"&&s.schema._prefault&&((n=s.schema).default??(n.default=s.schema._prefault)),delete s.schema._prefault,e.seen.get(t).schema}function l0(t,e){let r=t.seen.get(e);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");let n=new Map;for(let s of t.seen.entries()){let a=t.metadataRegistry.get(s[0])?.id;if(a){let c=n.get(a);if(c&&c!==s[0])throw new Error(`Duplicate schema id "${a}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);n.set(a,s[0])}}let i=s=>{let a=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){let d=t.external.registry.get(s[0])?.id,p=t.external.uri??(h=>h);if(d)return{ref:p(d)};let f=s[1].defId??s[1].schema.id??`schema${t.counter++}`;return s[1].defId=f,{defId:f,ref:`${p("__shared")}#/${a}/${f}`}}if(s[1]===r)return{ref:"#"};let l=`#/${a}/`,u=s[1].schema.id??`__schema${t.counter++}`;return{defId:u,ref:l+u}},o=s=>{if(s[1].schema.$ref)return;let a=s[1],{ref:c,defId:l}=i(s);a.def={...a.schema},l&&(a.defId=l);let u=a.schema;for(let d in u)delete u[d];u.$ref=c};if(t.cycles==="throw")for(let s of t.seen.entries()){let a=s[1];if(a.cycle)throw new Error(`Cycle detected: #/${a.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let s of t.seen.entries()){let a=s[1];if(e===s[0]){o(s);continue}if(t.external){let l=t.external.registry.get(s[0])?.id;if(e!==s[0]&&l){o(s);continue}}if(t.metadataRegistry.get(s[0])?.id){o(s);continue}if(a.cycle){o(s);continue}if(a.count>1&&t.reused==="ref"){o(s);continue}}}function u0(t,e){let r=t.seen.get(e);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");let n=s=>{let a=t.seen.get(s);if(a.ref===null)return;let c=a.def??a.schema,l={...c},u=a.ref;if(a.ref=null,u){n(u);let p=t.seen.get(u),f=p.schema;if(f.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(c.allOf=c.allOf??[],c.allOf.push(f)):Object.assign(c,f),Object.assign(c,l),s._zod.parent===u)for(let m in c)m==="$ref"||m==="allOf"||m in l||delete c[m];if(f.$ref&&p.def)for(let m in c)m==="$ref"||m==="allOf"||m in p.def&&JSON.stringify(c[m])===JSON.stringify(p.def[m])&&delete c[m]}let d=s._zod.parent;if(d&&d!==u){n(d);let p=t.seen.get(d);if(p?.schema.$ref&&(c.$ref=p.schema.$ref,p.def))for(let f in c)f==="$ref"||f==="allOf"||f in p.def&&JSON.stringify(c[f])===JSON.stringify(p.def[f])&&delete c[f]}t.override({zodSchema:s,jsonSchema:c,path:a.path??[]})};for(let s of[...t.seen.entries()].reverse())n(s[0]);let i={};if(t.target==="draft-2020-12"?i.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?i.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?i.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){let s=t.external.registry.get(e)?.id;if(!s)throw new Error("Schema is missing an `id` property");i.$id=t.external.uri(s)}Object.assign(i,r.def??r.schema);let o=t.external?.defs??{};for(let s of t.seen.entries()){let a=s[1];a.def&&a.defId&&(o[a.defId]=a.def)}t.external||Object.keys(o).length>0&&(t.target==="draft-2020-12"?i.$defs=o:i.definitions=o);try{let s=JSON.parse(JSON.stringify(i));return Object.defineProperty(s,"~standard",{value:{...e["~standard"],jsonSchema:{input:mx(e,"input",t.processors),output:mx(e,"output",t.processors)}},enumerable:!1,writable:!1}),s}catch{throw new Error("Error converting schema to JSON.")}}function Ta(t,e){let r=e??{seen:new Set};if(r.seen.has(t))return!1;r.seen.add(t);let n=t._zod.def;if(n.type==="transform")return!0;if(n.type==="array")return Ta(n.element,r);if(n.type==="set")return Ta(n.valueType,r);if(n.type==="lazy")return Ta(n.getter(),r);if(n.type==="promise"||n.type==="optional"||n.type==="nonoptional"||n.type==="nullable"||n.type==="readonly"||n.type==="default"||n.type==="prefault")return Ta(n.innerType,r);if(n.type==="intersection")return Ta(n.left,r)||Ta(n.right,r);if(n.type==="record"||n.type==="map")return Ta(n.keyType,r)||Ta(n.valueType,r);if(n.type==="pipe")return Ta(n.in,r)||Ta(n.out,r);if(n.type==="object"){for(let i in n.shape)if(Ta(n.shape[i],r))return!0;return!1}if(n.type==="union"){for(let i of n.options)if(Ta(i,r))return!0;return!1}if(n.type==="tuple"){for(let i of n.items)if(Ta(i,r))return!0;return!!(n.rest&&Ta(n.rest,r))}return!1}var DK=(t,e={})=>r=>{let n=c0({...r,processors:e});return fn(t,n),l0(n,t),u0(n,t)},mx=(t,e,r={})=>n=>{let{libraryOptions:i,target:o}=n??{},s=c0({...i??{},target:o,io:e,processors:r});return fn(t,s),l0(s,t),u0(s,t)};var M2t={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},MK=(t,e,r,n)=>{let i=r;i.type="string";let{minimum:o,maximum:s,format:a,patterns:c,contentEncoding:l}=t._zod.bag;if(typeof o=="number"&&(i.minLength=o),typeof s=="number"&&(i.maxLength=s),a&&(i.format=M2t[a]??a,i.format===""&&delete i.format,a==="time"&&delete i.format),l&&(i.contentEncoding=l),c&&c.size>0){let u=[...c];u.length===1?i.pattern=u[0].source:u.length>1&&(i.allOf=[...u.map(d=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:d.source}))])}},LK=(t,e,r,n)=>{let i=r,{minimum:o,maximum:s,format:a,multipleOf:c,exclusiveMaximum:l,exclusiveMinimum:u}=t._zod.bag;typeof a=="string"&&a.includes("int")?i.type="integer":i.type="number",typeof u=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(i.minimum=u,i.exclusiveMinimum=!0):i.exclusiveMinimum=u),typeof o=="number"&&(i.minimum=o,typeof u=="number"&&e.target!=="draft-04"&&(u>=o?delete i.minimum:delete i.exclusiveMinimum)),typeof l=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(i.maximum=l,i.exclusiveMaximum=!0):i.exclusiveMaximum=l),typeof s=="number"&&(i.maximum=s,typeof l=="number"&&e.target!=="draft-04"&&(l<=s?delete i.maximum:delete i.exclusiveMaximum)),typeof c=="number"&&(i.multipleOf=c)},BK=(t,e,r,n)=>{r.type="boolean"},$K=(t,e,r,n)=>{if(e.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema")},UK=(t,e,r,n)=>{if(e.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema")},FK=(t,e,r,n)=>{e.target==="openapi-3.0"?(r.type="string",r.nullable=!0,r.enum=[null]):r.type="null"},zK=(t,e,r,n)=>{if(e.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema")},HK=(t,e,r,n)=>{if(e.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema")},VK=(t,e,r,n)=>{r.not={}},GK=(t,e,r,n)=>{},jK=(t,e,r,n)=>{},qK=(t,e,r,n)=>{if(e.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema")},WK=(t,e,r,n)=>{let i=t._zod.def,o=d6(i.entries);o.every(s=>typeof s=="number")&&(r.type="number"),o.every(s=>typeof s=="string")&&(r.type="string"),r.enum=o},JK=(t,e,r,n)=>{let i=t._zod.def,o=[];for(let s of i.values)if(s===void 0){if(e.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof s=="bigint"){if(e.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");o.push(Number(s))}else o.push(s);if(o.length!==0)if(o.length===1){let s=o[0];r.type=s===null?"null":typeof s,e.target==="draft-04"||e.target==="openapi-3.0"?r.enum=[s]:r.const=s}else o.every(s=>typeof s=="number")&&(r.type="number"),o.every(s=>typeof s=="string")&&(r.type="string"),o.every(s=>typeof s=="boolean")&&(r.type="boolean"),o.every(s=>s===null)&&(r.type="null"),r.enum=o},KK=(t,e,r,n)=>{if(e.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema")},QK=(t,e,r,n)=>{let i=r,o=t._zod.pattern;if(!o)throw new Error("Pattern not found in template literal");i.type="string",i.pattern=o.source},XK=(t,e,r,n)=>{let i=r,o={type:"string",format:"binary",contentEncoding:"binary"},{minimum:s,maximum:a,mime:c}=t._zod.bag;s!==void 0&&(o.minLength=s),a!==void 0&&(o.maxLength=a),c?c.length===1?(o.contentMediaType=c[0],Object.assign(i,o)):(Object.assign(i,o),i.anyOf=c.map(l=>({contentMediaType:l}))):Object.assign(i,o)},YK=(t,e,r,n)=>{r.type="boolean"},ZK=(t,e,r,n)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},eQ=(t,e,r,n)=>{if(e.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema")},tQ=(t,e,r,n)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},rQ=(t,e,r,n)=>{if(e.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema")},nQ=(t,e,r,n)=>{if(e.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema")},iQ=(t,e,r,n)=>{let i=r,o=t._zod.def,{minimum:s,maximum:a}=t._zod.bag;typeof s=="number"&&(i.minItems=s),typeof a=="number"&&(i.maxItems=a),i.type="array",i.items=fn(o.element,e,{...n,path:[...n.path,"items"]})},oQ=(t,e,r,n)=>{let i=r,o=t._zod.def;i.type="object",i.properties={};let s=o.shape;for(let l in s)i.properties[l]=fn(s[l],e,{...n,path:[...n.path,"properties",l]});let a=new Set(Object.keys(s)),c=new Set([...a].filter(l=>{let u=o.shape[l]._zod;return e.io==="input"?u.optin===void 0:u.optout===void 0}));c.size>0&&(i.required=Array.from(c)),o.catchall?._zod.def.type==="never"?i.additionalProperties=!1:o.catchall?o.catchall&&(i.additionalProperties=fn(o.catchall,e,{...n,path:[...n.path,"additionalProperties"]})):e.io==="output"&&(i.additionalProperties=!1)},gk=(t,e,r,n)=>{let i=t._zod.def,o=i.inclusive===!1,s=i.options.map((a,c)=>fn(a,e,{...n,path:[...n.path,o?"oneOf":"anyOf",c]}));o?r.oneOf=s:r.anyOf=s},sQ=(t,e,r,n)=>{let i=t._zod.def,o=fn(i.left,e,{...n,path:[...n.path,"allOf",0]}),s=fn(i.right,e,{...n,path:[...n.path,"allOf",1]}),a=l=>"allOf"in l&&Object.keys(l).length===1,c=[...a(o)?o.allOf:[o],...a(s)?s.allOf:[s]];r.allOf=c},aQ=(t,e,r,n)=>{let i=r,o=t._zod.def;i.type="array";let s=e.target==="draft-2020-12"?"prefixItems":"items",a=e.target==="draft-2020-12"||e.target==="openapi-3.0"?"items":"additionalItems",c=o.items.map((p,f)=>fn(p,e,{...n,path:[...n.path,s,f]})),l=o.rest?fn(o.rest,e,{...n,path:[...n.path,a,...e.target==="openapi-3.0"?[o.items.length]:[]]}):null;e.target==="draft-2020-12"?(i.prefixItems=c,l&&(i.items=l)):e.target==="openapi-3.0"?(i.items={anyOf:c},l&&i.items.anyOf.push(l),i.minItems=c.length,l||(i.maxItems=c.length)):(i.items=c,l&&(i.additionalItems=l));let{minimum:u,maximum:d}=t._zod.bag;typeof u=="number"&&(i.minItems=u),typeof d=="number"&&(i.maxItems=d)},cQ=(t,e,r,n)=>{let i=r,o=t._zod.def;i.type="object";let s=o.keyType,c=s._zod.bag?.patterns;if(o.mode==="loose"&&c&&c.size>0){let u=fn(o.valueType,e,{...n,path:[...n.path,"patternProperties","*"]});i.patternProperties={};for(let d of c)i.patternProperties[d.source]=u}else(e.target==="draft-07"||e.target==="draft-2020-12")&&(i.propertyNames=fn(o.keyType,e,{...n,path:[...n.path,"propertyNames"]})),i.additionalProperties=fn(o.valueType,e,{...n,path:[...n.path,"additionalProperties"]});let l=s._zod.values;if(l){let u=[...l].filter(d=>typeof d=="string"||typeof d=="number");u.length>0&&(i.required=u)}},lQ=(t,e,r,n)=>{let i=t._zod.def,o=fn(i.innerType,e,n),s=e.seen.get(t);e.target==="openapi-3.0"?(s.ref=i.innerType,r.nullable=!0):r.anyOf=[o,{type:"null"}]},uQ=(t,e,r,n)=>{let i=t._zod.def;fn(i.innerType,e,n);let o=e.seen.get(t);o.ref=i.innerType},dQ=(t,e,r,n)=>{let i=t._zod.def;fn(i.innerType,e,n);let o=e.seen.get(t);o.ref=i.innerType,r.default=JSON.parse(JSON.stringify(i.defaultValue))},pQ=(t,e,r,n)=>{let i=t._zod.def;fn(i.innerType,e,n);let o=e.seen.get(t);o.ref=i.innerType,e.io==="input"&&(r._prefault=JSON.parse(JSON.stringify(i.defaultValue)))},fQ=(t,e,r,n)=>{let i=t._zod.def;fn(i.innerType,e,n);let o=e.seen.get(t);o.ref=i.innerType;let s;try{s=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}r.default=s},mQ=(t,e,r,n)=>{let i=t._zod.def,o=e.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;fn(o,e,n);let s=e.seen.get(t);s.ref=o},hQ=(t,e,r,n)=>{let i=t._zod.def;fn(i.innerType,e,n);let o=e.seen.get(t);o.ref=i.innerType,r.readOnly=!0},gQ=(t,e,r,n)=>{let i=t._zod.def;fn(i.innerType,e,n);let o=e.seen.get(t);o.ref=i.innerType},yk=(t,e,r,n)=>{let i=t._zod.def;fn(i.innerType,e,n);let o=e.seen.get(t);o.ref=i.innerType},yQ=(t,e,r,n)=>{let i=t._zod.innerType;fn(i,e,n);let o=e.seen.get(t);o.ref=i},hk={string:MK,number:LK,boolean:BK,bigint:$K,symbol:UK,null:FK,undefined:zK,void:HK,never:VK,any:GK,unknown:jK,date:qK,enum:WK,literal:JK,nan:KK,template_literal:QK,file:XK,success:YK,custom:ZK,function:eQ,transform:tQ,map:rQ,set:nQ,array:iQ,object:oQ,union:gk,intersection:sQ,tuple:aQ,record:cQ,nullable:lQ,nonoptional:uQ,default:dQ,prefault:pQ,catch:fQ,pipe:mQ,readonly:hQ,promise:gQ,optional:yk,lazy:yQ};function bk(t,e){if("_idmap"in t){let n=t,i=c0({...e,processors:hk}),o={};for(let c of n._idmap.entries()){let[l,u]=c;fn(u,i)}let s={},a={registry:n,uri:e?.uri,defs:o};i.external=a;for(let c of n._idmap.entries()){let[l,u]=c;l0(i,u),s[l]=u0(i,u)}if(Object.keys(o).length>0){let c=i.target==="draft-2020-12"?"$defs":"definitions";s.__shared={[c]:o}}return{schemas:s}}let r=c0({...e,processors:hk});return fn(t,r),l0(r,t),u0(r,t)}var vk=class{get metadataRegistry(){return this.ctx.metadataRegistry}get target(){return this.ctx.target}get unrepresentable(){return this.ctx.unrepresentable}get override(){return this.ctx.override}get io(){return this.ctx.io}get counter(){return this.ctx.counter}set counter(e){this.ctx.counter=e}get seen(){return this.ctx.seen}constructor(e){let r=e?.target??"draft-2020-12";r==="draft-4"&&(r="draft-04"),r==="draft-7"&&(r="draft-07"),this.ctx=c0({processors:hk,target:r,...e?.metadata&&{metadata:e.metadata},...e?.unrepresentable&&{unrepresentable:e.unrepresentable},...e?.override&&{override:e.override},...e?.io&&{io:e.io}})}process(e,r={path:[],schemaPath:[]}){return fn(e,this.ctx,r)}emit(e,r){r&&(r.cycles&&(this.ctx.cycles=r.cycles),r.reused&&(this.ctx.reused=r.reused),r.external&&(this.ctx.external=r.external)),l0(this.ctx,e);let n=u0(this.ctx,e),{"~standard":i,...o}=n;return o}};var X2e={};var C6={};Nr(C6,{ZodAny:()=>zQ,ZodArray:()=>jQ,ZodBase64:()=>Fk,ZodBase64URL:()=>zk,ZodBigInt:()=>Sx,ZodBigIntFormat:()=>Gk,ZodBoolean:()=>_x,ZodCIDRv4:()=>$k,ZodCIDRv6:()=>Uk,ZodCUID:()=>Ok,ZodCUID2:()=>Pk,ZodCatch:()=>fX,ZodCodec:()=>Yk,ZodCustom:()=>F6,ZodCustomStringFormat:()=>bx,ZodDate:()=>M6,ZodDefault:()=>aX,ZodDiscriminatedUnion:()=>WQ,ZodE164:()=>Hk,ZodEmail:()=>Ik,ZodEmoji:()=>Ck,ZodEnum:()=>gx,ZodExactOptional:()=>iX,ZodFile:()=>rX,ZodFunction:()=>xX,ZodGUID:()=>N6,ZodIPv4:()=>Lk,ZodIPv6:()=>Bk,ZodIntersection:()=>JQ,ZodJWT:()=>Vk,ZodKSUID:()=>Mk,ZodLazy:()=>vX,ZodLiteral:()=>tX,ZodMAC:()=>DQ,ZodMap:()=>ZQ,ZodNaN:()=>hX,ZodNanoID:()=>Nk,ZodNever:()=>VQ,ZodNonOptional:()=>Qk,ZodNull:()=>UQ,ZodNullable:()=>sX,ZodNumber:()=>vx,ZodNumberFormat:()=>Ab,ZodObject:()=>B6,ZodOptional:()=>Kk,ZodPipe:()=>Xk,ZodPrefault:()=>lX,ZodPromise:()=>SX,ZodReadonly:()=>gX,ZodRecord:()=>U6,ZodSet:()=>eX,ZodString:()=>yx,ZodStringFormat:()=>In,ZodSuccess:()=>pX,ZodSymbol:()=>BQ,ZodTemplateLiteral:()=>bX,ZodTransform:()=>nX,ZodTuple:()=>QQ,ZodType:()=>hr,ZodULID:()=>kk,ZodURL:()=>D6,ZodUUID:()=>jp,ZodUndefined:()=>$Q,ZodUnion:()=>$6,ZodUnknown:()=>HQ,ZodVoid:()=>GQ,ZodXID:()=>Dk,ZodXor:()=>qQ,_ZodString:()=>Rk,_default:()=>cX,_function:()=>iwe,any:()=>Lxe,array:()=>L6,base64:()=>vxe,base64url:()=>_xe,bigint:()=>Oxe,boolean:()=>LQ,catch:()=>mX,check:()=>owe,cidrv4:()=>yxe,cidrv6:()=>bxe,codec:()=>twe,cuid:()=>lxe,cuid2:()=>uxe,custom:()=>swe,date:()=>$xe,describe:()=>awe,discriminatedUnion:()=>Gxe,e164:()=>Sxe,email:()=>Z2e,emoji:()=>axe,enum:()=>Wk,exactOptional:()=>oX,file:()=>Xxe,float32:()=>Rxe,float64:()=>Ixe,function:()=>iwe,guid:()=>exe,hash:()=>Txe,hex:()=>Exe,hostname:()=>Axe,httpUrl:()=>sxe,instanceof:()=>lwe,int:()=>Tk,int32:()=>Cxe,int64:()=>Pxe,intersection:()=>KQ,ipv4:()=>mxe,ipv6:()=>gxe,json:()=>dwe,jwt:()=>xxe,keyof:()=>Uxe,ksuid:()=>fxe,lazy:()=>_X,literal:()=>Qxe,looseObject:()=>Hxe,looseRecord:()=>qxe,mac:()=>hxe,map:()=>Wxe,meta:()=>cwe,nan:()=>ewe,nanoid:()=>cxe,nativeEnum:()=>Kxe,never:()=>jk,nonoptional:()=>dX,null:()=>FQ,nullable:()=>P6,nullish:()=>Yxe,number:()=>MQ,object:()=>Fxe,optional:()=>O6,partialRecord:()=>jxe,pipe:()=>k6,prefault:()=>uX,preprocess:()=>pwe,promise:()=>nwe,readonly:()=>yX,record:()=>YQ,refine:()=>wX,set:()=>Jxe,strictObject:()=>zxe,string:()=>Ek,stringFormat:()=>wxe,stringbool:()=>uwe,success:()=>Zxe,superRefine:()=>AX,symbol:()=>Dxe,templateLiteral:()=>rwe,transform:()=>Jk,tuple:()=>XQ,uint32:()=>Nxe,uint64:()=>kxe,ulid:()=>dxe,undefined:()=>Mxe,union:()=>qk,unknown:()=>wb,url:()=>oxe,uuid:()=>txe,uuidv4:()=>rxe,uuidv6:()=>nxe,uuidv7:()=>ixe,void:()=>Bxe,xid:()=>pxe,xor:()=>Vxe});var _k={};Nr(_k,{endsWith:()=>sx,gt:()=>Vp,gte:()=>Ea,includes:()=>ix,length:()=>xb,lowercase:()=>rx,lt:()=>Hp,lte:()=>rl,maxLength:()=>Sb,maxSize:()=>a0,mime:()=>ax,minLength:()=>vm,minSize:()=>Gp,multipleOf:()=>s0,negative:()=>dk,nonnegative:()=>fk,nonpositive:()=>pk,normalize:()=>cx,overwrite:()=>Pd,positive:()=>uk,property:()=>mk,regex:()=>tx,size:()=>_b,slugify:()=>px,startsWith:()=>ox,toLowerCase:()=>ux,toUpperCase:()=>dx,trim:()=>lx,uppercase:()=>nx});var hx={};Nr(hx,{ZodISODate:()=>xk,ZodISODateTime:()=>Sk,ZodISODuration:()=>Ak,ZodISOTime:()=>wk,date:()=>vQ,datetime:()=>bQ,duration:()=>SQ,time:()=>_Q});var Sk=ae("ZodISODateTime",(t,e)=>{KW.init(t,e),In.init(t,e)});function bQ(t){return ZJ(Sk,t)}var xk=ae("ZodISODate",(t,e)=>{QW.init(t,e),In.init(t,e)});function vQ(t){return eK(xk,t)}var wk=ae("ZodISOTime",(t,e)=>{XW.init(t,e),In.init(t,e)});function _Q(t){return tK(wk,t)}var Ak=ae("ZodISODuration",(t,e)=>{YW.init(t,e),In.init(t,e)});function SQ(t){return rK(Ak,t)}var Y2e=(t,e)=>{g6.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:r=>b6(t,r)},flatten:{value:r=>y6(t,r)},addIssue:{value:r=>{t.issues.push(r),t.message=JSON.stringify(t.issues,q2,2)}},addIssues:{value:r=>{t.issues.push(...r),t.message=JSON.stringify(t.issues,q2,2)}},isEmpty:{get(){return t.issues.length===0}}})},B2t=ae("ZodError",Y2e),oc=ae("ZodError",Y2e,{Parent:Error});var xQ=K2(oc),wQ=Q2(oc),AQ=X2(oc),EQ=Y2(oc),TQ=bP(oc),RQ=vP(oc),IQ=_P(oc),CQ=SP(oc),NQ=xP(oc),OQ=wP(oc),PQ=AP(oc),kQ=EP(oc);var hr=ae("ZodType",(t,e)=>(sr.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:mx(t,"input"),output:mx(t,"output")}}),t.toJSONSchema=DK(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...r)=>t.clone(Ke.mergeDefs(e,{checks:[...e.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),{parent:!0}),t.with=t.check,t.clone=(r,n)=>Aa(t,r,n),t.brand=()=>t,t.register=((r,n)=>(r.add(t,n),t)),t.parse=(r,n)=>xQ(t,r,n,{callee:t.parse}),t.safeParse=(r,n)=>AQ(t,r,n),t.parseAsync=async(r,n)=>wQ(t,r,n,{callee:t.parseAsync}),t.safeParseAsync=async(r,n)=>EQ(t,r,n),t.spa=t.safeParseAsync,t.encode=(r,n)=>TQ(t,r,n),t.decode=(r,n)=>RQ(t,r,n),t.encodeAsync=async(r,n)=>IQ(t,r,n),t.decodeAsync=async(r,n)=>CQ(t,r,n),t.safeEncode=(r,n)=>NQ(t,r,n),t.safeDecode=(r,n)=>OQ(t,r,n),t.safeEncodeAsync=async(r,n)=>PQ(t,r,n),t.safeDecodeAsync=async(r,n)=>kQ(t,r,n),t.refine=(r,n)=>t.check(wX(r,n)),t.superRefine=r=>t.check(AX(r)),t.overwrite=r=>t.check(Pd(r)),t.optional=()=>O6(t),t.exactOptional=()=>oX(t),t.nullable=()=>P6(t),t.nullish=()=>O6(P6(t)),t.nonoptional=r=>dX(t,r),t.array=()=>L6(t),t.or=r=>qk([t,r]),t.and=r=>KQ(t,r),t.transform=r=>k6(t,Jk(r)),t.default=r=>cX(t,r),t.prefault=r=>uX(t,r),t.catch=r=>mX(t,r),t.pipe=r=>k6(t,r),t.readonly=()=>yX(t),t.describe=r=>{let n=t.clone();return hs.add(n,{description:r}),n},Object.defineProperty(t,"description",{get(){return hs.get(t)?.description},configurable:!0}),t.meta=(...r)=>{if(r.length===0)return hs.get(t);let n=t.clone();return hs.add(n,r[0]),n},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=r=>r(t),t)),Rk=ae("_ZodString",(t,e)=>{vb.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(n,i,o)=>MK(t,n,i,o);let r=t._zod.bag;t.format=r.format??null,t.minLength=r.minimum??null,t.maxLength=r.maximum??null,t.regex=(...n)=>t.check(tx(...n)),t.includes=(...n)=>t.check(ix(...n)),t.startsWith=(...n)=>t.check(ox(...n)),t.endsWith=(...n)=>t.check(sx(...n)),t.min=(...n)=>t.check(vm(...n)),t.max=(...n)=>t.check(Sb(...n)),t.length=(...n)=>t.check(xb(...n)),t.nonempty=(...n)=>t.check(vm(1,...n)),t.lowercase=n=>t.check(rx(n)),t.uppercase=n=>t.check(nx(n)),t.trim=()=>t.check(lx()),t.normalize=(...n)=>t.check(cx(...n)),t.toLowerCase=()=>t.check(ux()),t.toUpperCase=()=>t.check(dx()),t.slugify=()=>t.check(px())}),yx=ae("ZodString",(t,e)=>{vb.init(t,e),Rk.init(t,e),t.email=r=>t.check(GP(Ik,r)),t.url=r=>t.check(I6(D6,r)),t.jwt=r=>t.check(lk(Vk,r)),t.emoji=r=>t.check(KP(Ck,r)),t.guid=r=>t.check(R6(N6,r)),t.uuid=r=>t.check(jP(jp,r)),t.uuidv4=r=>t.check(qP(jp,r)),t.uuidv6=r=>t.check(WP(jp,r)),t.uuidv7=r=>t.check(JP(jp,r)),t.nanoid=r=>t.check(QP(Nk,r)),t.guid=r=>t.check(R6(N6,r)),t.cuid=r=>t.check(XP(Ok,r)),t.cuid2=r=>t.check(YP(Pk,r)),t.ulid=r=>t.check(ZP(kk,r)),t.base64=r=>t.check(sk(Fk,r)),t.base64url=r=>t.check(ak(zk,r)),t.xid=r=>t.check(ek(Dk,r)),t.ksuid=r=>t.check(tk(Mk,r)),t.ipv4=r=>t.check(rk(Lk,r)),t.ipv6=r=>t.check(nk(Bk,r)),t.cidrv4=r=>t.check(ik($k,r)),t.cidrv6=r=>t.check(ok(Uk,r)),t.e164=r=>t.check(ck(Hk,r)),t.datetime=r=>t.check(bQ(r)),t.date=r=>t.check(vQ(r)),t.time=r=>t.check(_Q(r)),t.duration=r=>t.check(SQ(r))});function Ek(t){return KJ(yx,t)}var In=ae("ZodStringFormat",(t,e)=>{Rn.init(t,e),Rk.init(t,e)}),Ik=ae("ZodEmail",(t,e)=>{FW.init(t,e),In.init(t,e)});function Z2e(t){return GP(Ik,t)}var N6=ae("ZodGUID",(t,e)=>{$W.init(t,e),In.init(t,e)});function exe(t){return R6(N6,t)}var jp=ae("ZodUUID",(t,e)=>{UW.init(t,e),In.init(t,e)});function txe(t){return jP(jp,t)}function rxe(t){return qP(jp,t)}function nxe(t){return WP(jp,t)}function ixe(t){return JP(jp,t)}var D6=ae("ZodURL",(t,e)=>{zW.init(t,e),In.init(t,e)});function oxe(t){return I6(D6,t)}function sxe(t){return I6(D6,{protocol:/^https?$/,hostname:Ul.domain,...Ke.normalizeParams(t)})}var Ck=ae("ZodEmoji",(t,e)=>{HW.init(t,e),In.init(t,e)});function axe(t){return KP(Ck,t)}var Nk=ae("ZodNanoID",(t,e)=>{VW.init(t,e),In.init(t,e)});function cxe(t){return QP(Nk,t)}var Ok=ae("ZodCUID",(t,e)=>{GW.init(t,e),In.init(t,e)});function lxe(t){return XP(Ok,t)}var Pk=ae("ZodCUID2",(t,e)=>{jW.init(t,e),In.init(t,e)});function uxe(t){return YP(Pk,t)}var kk=ae("ZodULID",(t,e)=>{qW.init(t,e),In.init(t,e)});function dxe(t){return ZP(kk,t)}var Dk=ae("ZodXID",(t,e)=>{WW.init(t,e),In.init(t,e)});function pxe(t){return ek(Dk,t)}var Mk=ae("ZodKSUID",(t,e)=>{JW.init(t,e),In.init(t,e)});function fxe(t){return tk(Mk,t)}var Lk=ae("ZodIPv4",(t,e)=>{ZW.init(t,e),In.init(t,e)});function mxe(t){return rk(Lk,t)}var DQ=ae("ZodMAC",(t,e)=>{tJ.init(t,e),In.init(t,e)});function hxe(t){return XJ(DQ,t)}var Bk=ae("ZodIPv6",(t,e)=>{eJ.init(t,e),In.init(t,e)});function gxe(t){return nk(Bk,t)}var $k=ae("ZodCIDRv4",(t,e)=>{rJ.init(t,e),In.init(t,e)});function yxe(t){return ik($k,t)}var Uk=ae("ZodCIDRv6",(t,e)=>{nJ.init(t,e),In.init(t,e)});function bxe(t){return ok(Uk,t)}var Fk=ae("ZodBase64",(t,e)=>{oJ.init(t,e),In.init(t,e)});function vxe(t){return sk(Fk,t)}var zk=ae("ZodBase64URL",(t,e)=>{sJ.init(t,e),In.init(t,e)});function _xe(t){return ak(zk,t)}var Hk=ae("ZodE164",(t,e)=>{aJ.init(t,e),In.init(t,e)});function Sxe(t){return ck(Hk,t)}var Vk=ae("ZodJWT",(t,e)=>{cJ.init(t,e),In.init(t,e)});function xxe(t){return lk(Vk,t)}var bx=ae("ZodCustomStringFormat",(t,e)=>{lJ.init(t,e),In.init(t,e)});function wxe(t,e,r={}){return fx(bx,t,e,r)}function Axe(t){return fx(bx,"hostname",Ul.hostname,t)}function Exe(t){return fx(bx,"hex",Ul.hex,t)}function Txe(t,e){let r=e?.enc??"hex",n=`${t}_${r}`,i=Ul[n];if(!i)throw new Error(`Unrecognized hash format: ${n}`);return fx(bx,n,i,e)}var vx=ae("ZodNumber",(t,e)=>{MP.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(n,i,o)=>LK(t,n,i,o),t.gt=(n,i)=>t.check(Vp(n,i)),t.gte=(n,i)=>t.check(Ea(n,i)),t.min=(n,i)=>t.check(Ea(n,i)),t.lt=(n,i)=>t.check(Hp(n,i)),t.lte=(n,i)=>t.check(rl(n,i)),t.max=(n,i)=>t.check(rl(n,i)),t.int=n=>t.check(Tk(n)),t.safe=n=>t.check(Tk(n)),t.positive=n=>t.check(Vp(0,n)),t.nonnegative=n=>t.check(Ea(0,n)),t.negative=n=>t.check(Hp(0,n)),t.nonpositive=n=>t.check(rl(0,n)),t.multipleOf=(n,i)=>t.check(s0(n,i)),t.step=(n,i)=>t.check(s0(n,i)),t.finite=()=>t;let r=t._zod.bag;t.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),t.isFinite=!0,t.format=r.format??null});function MQ(t){return nK(vx,t)}var Ab=ae("ZodNumberFormat",(t,e)=>{uJ.init(t,e),vx.init(t,e)});function Tk(t){return oK(Ab,t)}function Rxe(t){return sK(Ab,t)}function Ixe(t){return aK(Ab,t)}function Cxe(t){return cK(Ab,t)}function Nxe(t){return lK(Ab,t)}var _x=ae("ZodBoolean",(t,e)=>{x6.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>BK(t,r,n,i)});function LQ(t){return uK(_x,t)}var Sx=ae("ZodBigInt",(t,e)=>{LP.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(n,i,o)=>$K(t,n,i,o),t.gte=(n,i)=>t.check(Ea(n,i)),t.min=(n,i)=>t.check(Ea(n,i)),t.gt=(n,i)=>t.check(Vp(n,i)),t.gte=(n,i)=>t.check(Ea(n,i)),t.min=(n,i)=>t.check(Ea(n,i)),t.lt=(n,i)=>t.check(Hp(n,i)),t.lte=(n,i)=>t.check(rl(n,i)),t.max=(n,i)=>t.check(rl(n,i)),t.positive=n=>t.check(Vp(BigInt(0),n)),t.negative=n=>t.check(Hp(BigInt(0),n)),t.nonpositive=n=>t.check(rl(BigInt(0),n)),t.nonnegative=n=>t.check(Ea(BigInt(0),n)),t.multipleOf=(n,i)=>t.check(s0(n,i));let r=t._zod.bag;t.minValue=r.minimum??null,t.maxValue=r.maximum??null,t.format=r.format??null});function Oxe(t){return pK(Sx,t)}var Gk=ae("ZodBigIntFormat",(t,e)=>{dJ.init(t,e),Sx.init(t,e)});function Pxe(t){return mK(Gk,t)}function kxe(t){return hK(Gk,t)}var BQ=ae("ZodSymbol",(t,e)=>{pJ.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>UK(t,r,n,i)});function Dxe(t){return gK(BQ,t)}var $Q=ae("ZodUndefined",(t,e)=>{fJ.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>zK(t,r,n,i)});function Mxe(t){return yK($Q,t)}var UQ=ae("ZodNull",(t,e)=>{mJ.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>FK(t,r,n,i)});function FQ(t){return bK(UQ,t)}var zQ=ae("ZodAny",(t,e)=>{hJ.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>GK(t,r,n,i)});function Lxe(){return vK(zQ)}var HQ=ae("ZodUnknown",(t,e)=>{gJ.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>jK(t,r,n,i)});function wb(){return _K(HQ)}var VQ=ae("ZodNever",(t,e)=>{yJ.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>VK(t,r,n,i)});function jk(t){return SK(VQ,t)}var GQ=ae("ZodVoid",(t,e)=>{bJ.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>HK(t,r,n,i)});function Bxe(t){return xK(GQ,t)}var M6=ae("ZodDate",(t,e)=>{vJ.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(n,i,o)=>qK(t,n,i,o),t.min=(n,i)=>t.check(Ea(n,i)),t.max=(n,i)=>t.check(rl(n,i));let r=t._zod.bag;t.minDate=r.minimum?new Date(r.minimum):null,t.maxDate=r.maximum?new Date(r.maximum):null});function $xe(t){return wK(M6,t)}var jQ=ae("ZodArray",(t,e)=>{_J.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>iQ(t,r,n,i),t.element=e.element,t.min=(r,n)=>t.check(vm(r,n)),t.nonempty=r=>t.check(vm(1,r)),t.max=(r,n)=>t.check(Sb(r,n)),t.length=(r,n)=>t.check(xb(r,n)),t.unwrap=()=>t.element});function L6(t,e){return TK(jQ,t,e)}function Uxe(t){let e=t._zod.def.shape;return Wk(Object.keys(e))}var B6=ae("ZodObject",(t,e)=>{SJ.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>oQ(t,r,n,i),Ke.defineLazy(t,"shape",()=>e.shape),t.keyof=()=>Wk(Object.keys(t._zod.def.shape)),t.catchall=r=>t.clone({...t._zod.def,catchall:r}),t.passthrough=()=>t.clone({...t._zod.def,catchall:wb()}),t.loose=()=>t.clone({...t._zod.def,catchall:wb()}),t.strict=()=>t.clone({...t._zod.def,catchall:jk()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=r=>Ke.extend(t,r),t.safeExtend=r=>Ke.safeExtend(t,r),t.merge=r=>Ke.merge(t,r),t.pick=r=>Ke.pick(t,r),t.omit=r=>Ke.omit(t,r),t.partial=(...r)=>Ke.partial(Kk,t,r[0]),t.required=(...r)=>Ke.required(Qk,t,r[0])});function Fxe(t,e){let r={type:"object",shape:t??{},...Ke.normalizeParams(e)};return new B6(r)}function zxe(t,e){return new B6({type:"object",shape:t,catchall:jk(),...Ke.normalizeParams(e)})}function Hxe(t,e){return new B6({type:"object",shape:t,catchall:wb(),...Ke.normalizeParams(e)})}var $6=ae("ZodUnion",(t,e)=>{w6.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>gk(t,r,n,i),t.options=e.options});function qk(t,e){return new $6({type:"union",options:t,...Ke.normalizeParams(e)})}var qQ=ae("ZodXor",(t,e)=>{$6.init(t,e),xJ.init(t,e),t._zod.processJSONSchema=(r,n,i)=>gk(t,r,n,i),t.options=e.options});function Vxe(t,e){return new qQ({type:"union",options:t,inclusive:!1,...Ke.normalizeParams(e)})}var WQ=ae("ZodDiscriminatedUnion",(t,e)=>{$6.init(t,e),wJ.init(t,e)});function Gxe(t,e,r){return new WQ({type:"union",options:e,discriminator:t,...Ke.normalizeParams(r)})}var JQ=ae("ZodIntersection",(t,e)=>{AJ.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>sQ(t,r,n,i)});function KQ(t,e){return new JQ({type:"intersection",left:t,right:e})}var QQ=ae("ZodTuple",(t,e)=>{BP.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>aQ(t,r,n,i),t.rest=r=>t.clone({...t._zod.def,rest:r})});function XQ(t,e,r){let n=e instanceof sr,i=n?r:e,o=n?e:null;return new QQ({type:"tuple",items:t,rest:o,...Ke.normalizeParams(i)})}var U6=ae("ZodRecord",(t,e)=>{EJ.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>cQ(t,r,n,i),t.keyType=e.keyType,t.valueType=e.valueType});function YQ(t,e,r){return new U6({type:"record",keyType:t,valueType:e,...Ke.normalizeParams(r)})}function jxe(t,e,r){let n=Aa(t);return n._zod.values=void 0,new U6({type:"record",keyType:n,valueType:e,...Ke.normalizeParams(r)})}function qxe(t,e,r){return new U6({type:"record",keyType:t,valueType:e,mode:"loose",...Ke.normalizeParams(r)})}var ZQ=ae("ZodMap",(t,e)=>{TJ.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>rQ(t,r,n,i),t.keyType=e.keyType,t.valueType=e.valueType,t.min=(...r)=>t.check(Gp(...r)),t.nonempty=r=>t.check(Gp(1,r)),t.max=(...r)=>t.check(a0(...r)),t.size=(...r)=>t.check(_b(...r))});function Wxe(t,e,r){return new ZQ({type:"map",keyType:t,valueType:e,...Ke.normalizeParams(r)})}var eX=ae("ZodSet",(t,e)=>{RJ.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>nQ(t,r,n,i),t.min=(...r)=>t.check(Gp(...r)),t.nonempty=r=>t.check(Gp(1,r)),t.max=(...r)=>t.check(a0(...r)),t.size=(...r)=>t.check(_b(...r))});function Jxe(t,e){return new eX({type:"set",valueType:t,...Ke.normalizeParams(e)})}var gx=ae("ZodEnum",(t,e)=>{IJ.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(n,i,o)=>WK(t,n,i,o),t.enum=e.entries,t.options=Object.values(e.entries);let r=new Set(Object.keys(e.entries));t.extract=(n,i)=>{let o={};for(let s of n)if(r.has(s))o[s]=e.entries[s];else throw new Error(`Key ${s} not found in enum`);return new gx({...e,checks:[],...Ke.normalizeParams(i),entries:o})},t.exclude=(n,i)=>{let o={...e.entries};for(let s of n)if(r.has(s))delete o[s];else throw new Error(`Key ${s} not found in enum`);return new gx({...e,checks:[],...Ke.normalizeParams(i),entries:o})}});function Wk(t,e){let r=Array.isArray(t)?Object.fromEntries(t.map(n=>[n,n])):t;return new gx({type:"enum",entries:r,...Ke.normalizeParams(e)})}function Kxe(t,e){return new gx({type:"enum",entries:t,...Ke.normalizeParams(e)})}var tX=ae("ZodLiteral",(t,e)=>{CJ.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>JK(t,r,n,i),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function Qxe(t,e){return new tX({type:"literal",values:Array.isArray(t)?t:[t],...Ke.normalizeParams(e)})}var rX=ae("ZodFile",(t,e)=>{NJ.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>XK(t,r,n,i),t.min=(r,n)=>t.check(Gp(r,n)),t.max=(r,n)=>t.check(a0(r,n)),t.mime=(r,n)=>t.check(ax(Array.isArray(r)?r:[r],n))});function Xxe(t){return RK(rX,t)}var nX=ae("ZodTransform",(t,e)=>{OJ.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>tQ(t,r,n,i),t._zod.parse=(r,n)=>{if(n.direction==="backward")throw new t0(t.constructor.name);r.addIssue=o=>{if(typeof o=="string")r.issues.push(Ke.issue(o,r.value,e));else{let s=o;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=t),r.issues.push(Ke.issue(s))}};let i=e.transform(r.value,r);return i instanceof Promise?i.then(o=>(r.value=o,r)):(r.value=i,r)}});function Jk(t){return new nX({type:"transform",transform:t})}var Kk=ae("ZodOptional",(t,e)=>{$P.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>yk(t,r,n,i),t.unwrap=()=>t._zod.def.innerType});function O6(t){return new Kk({type:"optional",innerType:t})}var iX=ae("ZodExactOptional",(t,e)=>{PJ.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>yk(t,r,n,i),t.unwrap=()=>t._zod.def.innerType});function oX(t){return new iX({type:"optional",innerType:t})}var sX=ae("ZodNullable",(t,e)=>{kJ.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>lQ(t,r,n,i),t.unwrap=()=>t._zod.def.innerType});function P6(t){return new sX({type:"nullable",innerType:t})}function Yxe(t){return O6(P6(t))}var aX=ae("ZodDefault",(t,e)=>{DJ.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>dQ(t,r,n,i),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function cX(t,e){return new aX({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():Ke.shallowClone(e)}})}var lX=ae("ZodPrefault",(t,e)=>{MJ.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>pQ(t,r,n,i),t.unwrap=()=>t._zod.def.innerType});function uX(t,e){return new lX({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():Ke.shallowClone(e)}})}var Qk=ae("ZodNonOptional",(t,e)=>{LJ.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>uQ(t,r,n,i),t.unwrap=()=>t._zod.def.innerType});function dX(t,e){return new Qk({type:"nonoptional",innerType:t,...Ke.normalizeParams(e)})}var pX=ae("ZodSuccess",(t,e)=>{BJ.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>YK(t,r,n,i),t.unwrap=()=>t._zod.def.innerType});function Zxe(t){return new pX({type:"success",innerType:t})}var fX=ae("ZodCatch",(t,e)=>{$J.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>fQ(t,r,n,i),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function mX(t,e){return new fX({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}var hX=ae("ZodNaN",(t,e)=>{UJ.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>KK(t,r,n,i)});function ewe(t){return EK(hX,t)}var Xk=ae("ZodPipe",(t,e)=>{FJ.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>mQ(t,r,n,i),t.in=e.in,t.out=e.out});function k6(t,e){return new Xk({type:"pipe",in:t,out:e})}var Yk=ae("ZodCodec",(t,e)=>{Xk.init(t,e),A6.init(t,e)});function twe(t,e,r){return new Yk({type:"pipe",in:t,out:e,transform:r.decode,reverseTransform:r.encode})}var gX=ae("ZodReadonly",(t,e)=>{zJ.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>hQ(t,r,n,i),t.unwrap=()=>t._zod.def.innerType});function yX(t){return new gX({type:"readonly",innerType:t})}var bX=ae("ZodTemplateLiteral",(t,e)=>{HJ.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>QK(t,r,n,i)});function rwe(t,e){return new bX({type:"template_literal",parts:t,...Ke.normalizeParams(e)})}var vX=ae("ZodLazy",(t,e)=>{jJ.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>yQ(t,r,n,i),t.unwrap=()=>t._zod.def.getter()});function _X(t){return new vX({type:"lazy",getter:t})}var SX=ae("ZodPromise",(t,e)=>{GJ.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>gQ(t,r,n,i),t.unwrap=()=>t._zod.def.innerType});function nwe(t){return new SX({type:"promise",innerType:t})}var xX=ae("ZodFunction",(t,e)=>{VJ.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>eQ(t,r,n,i)});function iwe(t){return new xX({type:"function",input:Array.isArray(t?.input)?XQ(t?.input):t?.input??L6(wb()),output:t?.output??wb()})}var F6=ae("ZodCustom",(t,e)=>{qJ.init(t,e),hr.init(t,e),t._zod.processJSONSchema=(r,n,i)=>ZK(t,r,n,i)});function owe(t){let e=new Ln({check:"custom"});return e._zod.check=t,e}function swe(t,e){return IK(F6,t??(()=>!0),e)}function wX(t,e={}){return CK(F6,t,e)}function AX(t){return NK(t)}var awe=OK,cwe=PK;function lwe(t,e={}){let r=new F6({type:"custom",check:"custom",fn:n=>n instanceof t,abort:!0,...Ke.normalizeParams(e)});return r._zod.bag.Class=t,r._zod.check=n=>{n.value instanceof t||n.issues.push({code:"invalid_type",expected:t.name,input:n.value,inst:r,path:[...r._zod.def.path??[]]})},r}var uwe=(...t)=>kK({Codec:Yk,Boolean:_x,String:yx},...t);function dwe(t){let e=_X(()=>qk([Ek(t),MQ(),LQ(),FQ(),L6(e),YQ(Ek(),e)]));return e}function pwe(t,e){return k6(Jk(t),e)}var U2t={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function F2t(t){Bi({customError:t})}function z2t(){return Bi().customError}var EX;EX||(EX={});var gt={...C6,..._k,iso:hx},H2t=new Set(["$schema","$ref","$defs","definitions","$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor","type","enum","const","anyOf","oneOf","allOf","not","properties","required","additionalProperties","patternProperties","propertyNames","minProperties","maxProperties","items","prefixItems","additionalItems","minItems","maxItems","uniqueItems","contains","minContains","maxContains","minLength","maxLength","pattern","format","minimum","maximum","exclusiveMinimum","exclusiveMaximum","multipleOf","description","default","contentEncoding","contentMediaType","contentSchema","unevaluatedItems","unevaluatedProperties","if","then","else","dependentSchemas","dependentRequired","nullable","readOnly"]);function V2t(t,e){let r=t.$schema;return r==="https://json-schema.org/draft/2020-12/schema"?"draft-2020-12":r==="http://json-schema.org/draft-07/schema#"?"draft-7":r==="http://json-schema.org/draft-04/schema#"?"draft-4":e??"draft-2020-12"}function G2t(t,e){if(!t.startsWith("#"))throw new Error("External $ref is not supported, only local refs (#/...) are allowed");let r=t.slice(1).split("/").filter(Boolean);if(r.length===0)return e.rootSchema;let n=e.version==="draft-2020-12"?"$defs":"definitions";if(r[0]===n){let i=r[1];if(!i||!e.defs[i])throw new Error(`Reference not found: ${t}`);return e.defs[i]}throw new Error(`Reference not found: ${t}`)}function fwe(t,e){if(t.not!==void 0){if(typeof t.not=="object"&&Object.keys(t.not).length===0)return gt.never();throw new Error("not is not supported in Zod (except { not: {} } for never)")}if(t.unevaluatedItems!==void 0)throw new Error("unevaluatedItems is not supported");if(t.unevaluatedProperties!==void 0)throw new Error("unevaluatedProperties is not supported");if(t.if!==void 0||t.then!==void 0||t.else!==void 0)throw new Error("Conditional schemas (if/then/else) are not supported");if(t.dependentSchemas!==void 0||t.dependentRequired!==void 0)throw new Error("dependentSchemas and dependentRequired are not supported");if(t.$ref){let i=t.$ref;if(e.refs.has(i))return e.refs.get(i);if(e.processing.has(i))return gt.lazy(()=>{if(!e.refs.has(i))throw new Error(`Circular reference not resolved: ${i}`);return e.refs.get(i)});e.processing.add(i);let o=G2t(i,e),s=qs(o,e);return e.refs.set(i,s),e.processing.delete(i),s}if(t.enum!==void 0){let i=t.enum;if(e.version==="openapi-3.0"&&t.nullable===!0&&i.length===1&&i[0]===null)return gt.null();if(i.length===0)return gt.never();if(i.length===1)return gt.literal(i[0]);if(i.every(s=>typeof s=="string"))return gt.enum(i);let o=i.map(s=>gt.literal(s));return o.length<2?o[0]:gt.union([o[0],o[1],...o.slice(2)])}if(t.const!==void 0)return gt.literal(t.const);let r=t.type;if(Array.isArray(r)){let i=r.map(o=>{let s={...t,type:o};return fwe(s,e)});return i.length===0?gt.never():i.length===1?i[0]:gt.union(i)}if(!r)return gt.any();let n;switch(r){case"string":{let i=gt.string();if(t.format){let o=t.format;o==="email"?i=i.check(gt.email()):o==="uri"||o==="uri-reference"?i=i.check(gt.url()):o==="uuid"||o==="guid"?i=i.check(gt.uuid()):o==="date-time"?i=i.check(gt.iso.datetime()):o==="date"?i=i.check(gt.iso.date()):o==="time"?i=i.check(gt.iso.time()):o==="duration"?i=i.check(gt.iso.duration()):o==="ipv4"?i=i.check(gt.ipv4()):o==="ipv6"?i=i.check(gt.ipv6()):o==="mac"?i=i.check(gt.mac()):o==="cidr"?i=i.check(gt.cidrv4()):o==="cidr-v6"?i=i.check(gt.cidrv6()):o==="base64"?i=i.check(gt.base64()):o==="base64url"?i=i.check(gt.base64url()):o==="e164"?i=i.check(gt.e164()):o==="jwt"?i=i.check(gt.jwt()):o==="emoji"?i=i.check(gt.emoji()):o==="nanoid"?i=i.check(gt.nanoid()):o==="cuid"?i=i.check(gt.cuid()):o==="cuid2"?i=i.check(gt.cuid2()):o==="ulid"?i=i.check(gt.ulid()):o==="xid"?i=i.check(gt.xid()):o==="ksuid"&&(i=i.check(gt.ksuid()))}typeof t.minLength=="number"&&(i=i.min(t.minLength)),typeof t.maxLength=="number"&&(i=i.max(t.maxLength)),t.pattern&&(i=i.regex(new RegExp(t.pattern))),n=i;break}case"number":case"integer":{let i=r==="integer"?gt.number().int():gt.number();typeof t.minimum=="number"&&(i=i.min(t.minimum)),typeof t.maximum=="number"&&(i=i.max(t.maximum)),typeof t.exclusiveMinimum=="number"?i=i.gt(t.exclusiveMinimum):t.exclusiveMinimum===!0&&typeof t.minimum=="number"&&(i=i.gt(t.minimum)),typeof t.exclusiveMaximum=="number"?i=i.lt(t.exclusiveMaximum):t.exclusiveMaximum===!0&&typeof t.maximum=="number"&&(i=i.lt(t.maximum)),typeof t.multipleOf=="number"&&(i=i.multipleOf(t.multipleOf)),n=i;break}case"boolean":{n=gt.boolean();break}case"null":{n=gt.null();break}case"object":{let i={},o=t.properties||{},s=new Set(t.required||[]);for(let[c,l]of Object.entries(o)){let u=qs(l,e);i[c]=s.has(c)?u:u.optional()}if(t.propertyNames){let c=qs(t.propertyNames,e),l=t.additionalProperties&&typeof t.additionalProperties=="object"?qs(t.additionalProperties,e):gt.any();if(Object.keys(i).length===0){n=gt.record(c,l);break}let u=gt.object(i).passthrough(),d=gt.looseRecord(c,l);n=gt.intersection(u,d);break}if(t.patternProperties){let c=t.patternProperties,l=Object.keys(c),u=[];for(let p of l){let f=qs(c[p],e),h=gt.string().regex(new RegExp(p));u.push(gt.looseRecord(h,f))}let d=[];if(Object.keys(i).length>0&&d.push(gt.object(i).passthrough()),d.push(...u),d.length===0)n=gt.object({}).passthrough();else if(d.length===1)n=d[0];else{let p=gt.intersection(d[0],d[1]);for(let f=2;f<d.length;f++)p=gt.intersection(p,d[f]);n=p}break}let a=gt.object(i);t.additionalProperties===!1?n=a.strict():typeof t.additionalProperties=="object"?n=a.catchall(qs(t.additionalProperties,e)):n=a.passthrough();break}case"array":{let i=t.prefixItems,o=t.items;if(i&&Array.isArray(i)){let s=i.map(c=>qs(c,e)),a=o&&typeof o=="object"&&!Array.isArray(o)?qs(o,e):void 0;a?n=gt.tuple(s).rest(a):n=gt.tuple(s),typeof t.minItems=="number"&&(n=n.check(gt.minLength(t.minItems))),typeof t.maxItems=="number"&&(n=n.check(gt.maxLength(t.maxItems)))}else if(Array.isArray(o)){let s=o.map(c=>qs(c,e)),a=t.additionalItems&&typeof t.additionalItems=="object"?qs(t.additionalItems,e):void 0;a?n=gt.tuple(s).rest(a):n=gt.tuple(s),typeof t.minItems=="number"&&(n=n.check(gt.minLength(t.minItems))),typeof t.maxItems=="number"&&(n=n.check(gt.maxLength(t.maxItems)))}else if(o!==void 0){let s=qs(o,e),a=gt.array(s);typeof t.minItems=="number"&&(a=a.min(t.minItems)),typeof t.maxItems=="number"&&(a=a.max(t.maxItems)),n=a}else n=gt.array(gt.any());break}default:throw new Error(`Unsupported type: ${r}`)}return t.description&&(n=n.describe(t.description)),t.default!==void 0&&(n=n.default(t.default)),n}function qs(t,e){if(typeof t=="boolean")return t?gt.any():gt.never();let r=fwe(t,e),n=t.type||t.enum!==void 0||t.const!==void 0;if(t.anyOf&&Array.isArray(t.anyOf)){let a=t.anyOf.map(l=>qs(l,e)),c=gt.union(a);r=n?gt.intersection(r,c):c}if(t.oneOf&&Array.isArray(t.oneOf)){let a=t.oneOf.map(l=>qs(l,e)),c=gt.xor(a);r=n?gt.intersection(r,c):c}if(t.allOf&&Array.isArray(t.allOf))if(t.allOf.length===0)r=n?r:gt.any();else{let a=n?r:qs(t.allOf[0],e),c=n?0:1;for(let l=c;l<t.allOf.length;l++)a=gt.intersection(a,qs(t.allOf[l],e));r=a}t.nullable===!0&&e.version==="openapi-3.0"&&(r=gt.nullable(r)),t.readOnly===!0&&(r=gt.readonly(r));let i={},o=["$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor"];for(let a of o)a in t&&(i[a]=t[a]);let s=["contentEncoding","contentMediaType","contentSchema"];for(let a of s)a in t&&(i[a]=t[a]);for(let a of Object.keys(t))H2t.has(a)||(i[a]=t[a]);return Object.keys(i).length>0&&e.registry.add(r,i),r}function mwe(t,e){if(typeof t=="boolean")return t?gt.any():gt.never();let r=V2t(t,e?.defaultTarget),n=t.$defs||t.definitions||{},i={version:r,defs:n,refs:new Map,processing:new Set,rootSchema:t,registry:e?.registry??hs};return qs(t,i)}var TX={};Nr(TX,{bigint:()=>J2t,boolean:()=>W2t,date:()=>K2t,number:()=>q2t,string:()=>j2t});function j2t(t){return QJ(yx,t)}function q2t(t){return iK(vx,t)}function W2t(t){return dK(_x,t)}function J2t(t){return fK(Sx,t)}function K2t(t){return AK(M6,t)}Bi(UP());var A5t=ct.object({DATABASE_URL:ct.string().default(""),MOLTBOOK_APP_KEY:ct.string().default(""),JUPITER_API_KEY:ct.string().default(""),ADMIN_PASSWORD:ct.string().default(""),PORT:ct.coerce.number().default(3e3),NODE_ENV:ct.enum(["development","production","test"]).default("development"),DEMO_MODE:ct.string().optional().default("false").transform(t=>t==="true"),ANTHROPIC_API_KEY:ct.string().optional(),OPENAI_API_KEY:ct.string().optional(),XAI_API_KEY:ct.string().optional(),MONAD_RPC_URL:ct.string().optional(),STONKS_TOKEN_ADDRESS:ct.string().optional(),MONAD_DEPLOYER_PRIVATE_KEY:ct.string().optional(),CLAUDE_MONAD_PRIVATE_KEY:ct.string().optional(),GPT_MONAD_PRIVATE_KEY:ct.string().optional(),GROK_MONAD_PRIVATE_KEY:ct.string().optional(),LENDING_ENABLED:ct.string().optional().default("false").transform(t=>t==="true"),BRAVE_API_KEY:ct.string().optional(),ALPHA_VANTAGE_API_KEY:ct.string().optional(),TURNKEY_API_PRIVATE_KEY:ct.string().optional(),TURNKEY_API_PUBLIC_KEY:ct.string().optional(),TURNKEY_ORGANIZATION_ID:ct.string().optional(),SOLANA_RPC_URL:ct.string().optional(),HELIUS_API_KEY:ct.string().optional(),HELIUS_WEBHOOK_SECRET:ct.string().optional(),APP_URL:ct.string().optional()});async function E5t(){if(!process.env.AWS_LAMBDA_FUNCTION_NAME)return;let{SecretsManagerClient:t,GetSecretValueCommand:e}=await Promise.resolve().then(()=>(LDe(),MDe)),r=new t({}),n=new e({SecretId:process.env.SECRET_ARN}),i=await r.send(n);if(i.SecretString)try{let o=JSON.parse(i.SecretString);for(let[s,a]of Object.entries(o))process.env[s]=a}catch{console.warn("SECRET_ARN secret is not valid JSON \u2014 skipping secret injection. Populate moltapp/production with a JSON object of key-value pairs.")}}function T5t(){let t=A5t.safeParse(process.env);if(!t.success){let e=t.error.issues.map(r=>`  ${r.path.join(".")}: ${r.message}`).join(`
`);throw new Error(`Environment validation failed:
${e}`)}return t.data}await E5t();var tn=T5t();var eoe={};Nr(eoe,{agentDecisions:()=>Ac,agentEarnings:()=>kLe,agentPayments:()=>PLe,agentReasoningHealth:()=>qLe,agentTheses:()=>Io,agents:()=>rt,apiKeys:()=>TLe,benchmarkLeaderboardV23:()=>Zie,benchmarkLeaderboardV24:()=>KLe,benchmarkLeaderboardV25:()=>ZLe,benchmarkLeaderboardV26:()=>nBe,benchmarkLeaderboardV27:()=>aBe,benchmarkLeaderboardV28:()=>dBe,benchmarkRoundSnapshotsV24:()=>QLe,benchmarkRoundSnapshotsV25:()=>eBe,benchmarkRoundSnapshotsV26:()=>iBe,benchmarkRoundSnapshotsV27:()=>cBe,benchmarkRoundSnapshotsV28:()=>pBe,benchmarkSnapshots:()=>VLe,calibrationSnapshots:()=>Yie,competitionScores:()=>HLe,consensusIntelligence:()=>YLe,copyFollowers:()=>NLe,copyTrades:()=>OLe,crossRoundLearning:()=>sBe,decisionQualitySnapshots:()=>KBe,executionQualityAnalysis:()=>oBe,llmUsage:()=>eL,outcomePredictionTracking:()=>XLe,outcomeResolutions:()=>Xie,portfolioSnapshots:()=>zLe,positions:()=>Tr,predictionBets:()=>MLe,predictionMarkets:()=>LLe,predictions:()=>DLe,reasoningDepthAnalysis:()=>WLe,reasoningForensicReports:()=>GLe,reasoningIntegrityViolations:()=>jLe,reasoningQualityIndex:()=>uBe,riskRewardDiscipline:()=>rBe,sourceQualityAnalysis:()=>JLe,strategies:()=>BLe,strategyAdoptions:()=>$Le,strategyGenomeAnalysis:()=>tBe,strategyRatings:()=>ULe,strategySignals:()=>FLe,tradeAccountabilityAnalysis:()=>lBe,tradeComments:()=>ILe,tradeJustifications:()=>Vt,tradeReactions:()=>CLe,trades:()=>Kn,transactions:()=>RLe,v29BenchmarkScores:()=>mBe,v29Leaderboard:()=>hBe,v29ResearchExports:()=>gBe,v29TradeGrades:()=>fBe,v30BenchmarkScores:()=>bBe,v30Leaderboard:()=>vBe,v30ResearchExports:()=>_Be,v30TradeGrades:()=>yBe,v31BenchmarkScores:()=>xBe,v31Leaderboard:()=>wBe,v31ResearchExports:()=>ABe,v31TradeGrades:()=>SBe,v32BenchmarkScores:()=>TBe,v32Leaderboard:()=>RBe,v32ResearchExports:()=>IBe,v32TradeGrades:()=>EBe,v33BenchmarkScores:()=>NBe,v33Leaderboard:()=>OBe,v33ResearchExports:()=>PBe,v33TradeGrades:()=>CBe,v34BenchmarkScores:()=>DBe,v34Leaderboard:()=>MBe,v34ResearchExports:()=>LBe,v34TradeGrades:()=>kBe,v35BenchmarkScores:()=>$Be,v35Leaderboard:()=>UBe,v35ResearchExports:()=>FBe,v35TradeGrades:()=>BBe,v36BenchmarkScores:()=>HBe,v36Leaderboard:()=>VBe,v36ResearchExports:()=>GBe,v36TradeGrades:()=>zBe,v37BenchmarkScores:()=>qBe,v37Leaderboard:()=>WBe,v37ResearchExports:()=>JBe,v37TradeGrades:()=>jBe,wallets:()=>i3});Dr();var rt=Ce("agents",{id:M("id").primaryKey(),name:M("name").notNull(),description:M("description"),karma:Se("karma").default(0),avatarUrl:M("avatar_url"),ownerXHandle:M("owner_x_handle"),ownerXName:M("owner_x_name"),isActive:zi("is_active").default(!0),createdAt:Ae("created_at").defaultNow().notNull(),updatedAt:Ae("updated_at").defaultNow().notNull()});Dr();var i3=Ce("wallets",{id:Se("id").primaryKey().generatedAlwaysAsIdentity(),agentId:M("agent_id").references(()=>rt.id).notNull().unique(),publicKey:M("public_key").notNull().unique(),turnkeyWalletId:M("turnkey_wallet_id").notNull(),usdcAtaAddress:M("usdc_ata_address"),createdAt:Ae("created_at").defaultNow().notNull()});Dr();var TLe=Ce("api_keys",{id:Se("id").primaryKey().generatedAlwaysAsIdentity(),agentId:M("agent_id").references(()=>rt.id).notNull(),keyHash:M("key_hash").notNull().unique(),keyPrefix:M("key_prefix").notNull(),isRevoked:zi("is_revoked").default(!1),lastUsedAt:Ae("last_used_at"),createdAt:Ae("created_at").defaultNow().notNull()});Dr();var RLe=Ce("transactions",{id:Se("id").primaryKey().generatedAlwaysAsIdentity(),agentId:M("agent_id").references(()=>rt.id).notNull(),type:M("type").notNull(),tokenType:M("token_type").notNull(),amount:Ht("amount",{precision:20,scale:9}).notNull(),txSignature:M("tx_signature").notNull().unique(),status:M("status").notNull().default("pending"),destinationAddress:M("destination_address"),createdAt:Ae("created_at").defaultNow().notNull(),confirmedAt:Ae("confirmed_at")});Dr();var Tr=Ce("positions",{id:Se("id").primaryKey().generatedAlwaysAsIdentity(),agentId:M("agent_id").references(()=>rt.id).notNull(),mintAddress:M("mint_address").notNull(),symbol:M("symbol").notNull(),quantity:Ht("quantity",{precision:20,scale:9}).notNull(),averageCostBasis:Ht("average_cost_basis",{precision:20,scale:6}).notNull(),createdAt:Ae("created_at").defaultNow().notNull(),updatedAt:Ae("updated_at").defaultNow().notNull()},t=>[nf("positions_agent_mint_unique").on(t.agentId,t.mintAddress)]);Dr();var Kn=Ce("trades",{id:Se("id").primaryKey().generatedAlwaysAsIdentity(),agentId:M("agent_id").references(()=>rt.id).notNull(),side:M("side").notNull(),stockMintAddress:M("stock_mint_address").notNull(),stockSymbol:M("stock_symbol").notNull(),stockQuantity:Ht("stock_quantity",{precision:20,scale:9}).notNull(),usdcAmount:Ht("usdc_amount",{precision:20,scale:6}).notNull(),pricePerToken:Ht("price_per_token",{precision:20,scale:6}).notNull(),txSignature:M("tx_signature").notNull().unique(),jupiterRouteInfo:dt("jupiter_route_info"),status:M("status").notNull().default("confirmed"),createdAt:Ae("created_at").defaultNow().notNull()});Dr();var Ac=Ce("agent_decisions",{id:Se("id").primaryKey().generatedAlwaysAsIdentity(),agentId:M("agent_id").notNull(),symbol:M("symbol").notNull(),action:M("action").notNull(),quantity:Ht("quantity",{precision:20,scale:9}).notNull(),reasoning:M("reasoning").notNull(),confidence:Se("confidence").notNull(),modelUsed:M("model_used").notNull(),marketSnapshot:dt("market_snapshot"),executed:M("executed").default("pending"),txSignature:M("tx_signature"),executionError:M("execution_error"),roundId:M("round_id"),createdAt:Ae("created_at").defaultNow().notNull()});Dr();var ILe=Ce("trade_comments",{id:Se("id").primaryKey().generatedAlwaysAsIdentity(),decisionId:Se("decision_id").notNull(),authorId:M("author_id").notNull(),authorName:M("author_name").notNull(),content:M("content").notNull(),createdAt:Ae("created_at").defaultNow().notNull()});Dr();var CLe=Ce("trade_reactions",{id:Se("id").primaryKey().generatedAlwaysAsIdentity(),decisionId:Se("decision_id").notNull(),reactorId:M("reactor_id").notNull(),reaction:M("reaction").notNull(),createdAt:Ae("created_at").defaultNow().notNull()},t=>[nf("trade_reactions_decision_reactor_unique").on(t.decisionId,t.reactorId)]);Dr();var NLe=Ce("copy_followers",{id:Se("id").primaryKey().generatedAlwaysAsIdentity(),followerId:M("follower_id").notNull(),followerName:M("follower_name").notNull(),targetAgentId:M("target_agent_id").notNull(),initialCapital:Ht("initial_capital",{precision:20,scale:6}).notNull().default("10000"),currentCash:Ht("current_cash",{precision:20,scale:6}).notNull().default("10000"),portfolioValue:Ht("portfolio_value",{precision:20,scale:6}).notNull().default("10000"),totalPnl:Ht("total_pnl",{precision:20,scale:6}).notNull().default("0"),totalPnlPercent:Ht("total_pnl_percent",{precision:10,scale:4}).notNull().default("0"),tradesCopied:Se("trades_copied").notNull().default(0),positions:dt("positions").default("[]"),isActive:M("is_active").notNull().default("true"),createdAt:Ae("created_at").defaultNow().notNull(),updatedAt:Ae("updated_at").defaultNow().notNull()},t=>[nf("copy_follower_agent_unique").on(t.followerId,t.targetAgentId)]),OLe=Ce("copy_trades",{id:Se("id").primaryKey().generatedAlwaysAsIdentity(),followerId:M("follower_id").notNull(),sourceAgentId:M("source_agent_id").notNull(),sourceDecisionId:Se("source_decision_id").notNull(),action:M("action").notNull(),symbol:M("symbol").notNull(),quantity:Ht("quantity",{precision:20,scale:9}).notNull(),price:Ht("price",{precision:20,scale:6}).notNull(),tradePnl:Ht("trade_pnl",{precision:20,scale:6}).default("0"),confidence:Se("confidence").notNull(),reasoning:M("reasoning").notNull(),createdAt:Ae("created_at").defaultNow().notNull()});Dr();var PLe=Ce("agent_payments",{id:Se("id").primaryKey().generatedAlwaysAsIdentity(),fromId:M("from_id").notNull(),fromName:M("from_name").notNull(),toAgentId:M("to_agent_id").notNull(),decisionId:Se("decision_id"),amount:Ht("amount",{precision:20,scale:6}).notNull(),currency:M("currency").notNull().default("USDC"),message:M("message"),status:M("status").notNull().default("completed"),txSignature:M("tx_signature"),createdAt:Ae("created_at").defaultNow().notNull()}),kLe=Ce("agent_earnings",{id:Se("id").primaryKey().generatedAlwaysAsIdentity(),agentId:M("agent_id").notNull(),totalEarnings:Ht("total_earnings",{precision:20,scale:6}).notNull().default("0"),tipCount:Se("tip_count").notNull().default(0),uniqueTippers:Se("unique_tippers").notNull().default(0),avgTipAmount:Ht("avg_tip_amount",{precision:20,scale:6}).notNull().default("0"),largestTip:Ht("largest_tip",{precision:20,scale:6}).notNull().default("0"),lastTipAt:Ae("last_tip_at"),createdAt:Ae("created_at").defaultNow().notNull(),updatedAt:Ae("updated_at").defaultNow().notNull()},t=>[nf("agent_earnings_agent_unique").on(t.agentId)]);Dr();var DLe=Ce("predictions",{id:M("id").primaryKey().default(re`gen_random_uuid()`),agentId:M("agent_id").notNull(),symbol:M("symbol").notNull(),predictionType:M("prediction_type").notNull(),direction:M("direction").notNull(),targetPrice:Ht("target_price",{precision:20,scale:6}),currentPriceAtCreation:Ht("current_price_at_creation",{precision:20,scale:6}).notNull(),timeHorizon:M("time_horizon").notNull(),confidence:Se("confidence").notNull(),reasoning:M("reasoning").notNull(),status:M("status").notNull().default("active"),resolvedAt:Ae("resolved_at"),resolutionPrice:Ht("resolution_price",{precision:20,scale:6}),resolutionDetails:M("resolution_details"),createdAt:Ae("created_at").defaultNow().notNull(),expiresAt:Ae("expires_at").notNull()}),MLe=Ce("prediction_bets",{id:M("id").primaryKey().default(re`gen_random_uuid()`),predictionId:M("prediction_id").notNull(),bettorId:M("bettor_id").notNull(),bettorType:M("bettor_type").notNull(),position:M("position").notNull(),amount:Ht("amount",{precision:20,scale:6}).notNull(),odds:Ht("odds",{precision:10,scale:4}).notNull(),payout:Ht("payout",{precision:20,scale:6}),status:M("status").notNull().default("active"),createdAt:Ae("created_at").defaultNow().notNull()}),LLe=Ce("prediction_markets",{id:M("id").primaryKey().default(re`gen_random_uuid()`),predictionId:M("prediction_id").notNull(),totalPool:Ht("total_pool",{precision:20,scale:6}).notNull().default("0"),forPool:Ht("for_pool",{precision:20,scale:6}).notNull().default("0"),againstPool:Ht("against_pool",{precision:20,scale:6}).notNull().default("0"),currentOddsFor:Ht("current_odds_for",{precision:10,scale:4}).notNull().default("1.0"),currentOddsAgainst:Ht("current_odds_against",{precision:10,scale:4}).notNull().default("1.0"),totalBets:Se("total_bets").notNull().default(0),status:M("status").notNull().default("open"),createdAt:Ae("created_at").defaultNow().notNull()});Dr();var BLe=Ce("strategies",{id:M("id").primaryKey().default(re`gen_random_uuid()`),creatorAgentId:M("creator_agent_id").notNull(),name:M("name").notNull(),description:M("description").notNull(),category:M("category").notNull(),parameters:dt("parameters").notNull().$type(),backtestResults:dt("backtest_results").$type(),riskLevel:M("risk_level").notNull(),timeframe:M("timeframe").notNull(),version:Se("version").notNull().default(1),parentStrategyId:M("parent_strategy_id"),isPublic:zi("is_public").notNull().default(!0),status:M("status").notNull().default("active"),totalAdopters:Se("total_adopters").notNull().default(0),avgRating:Ht("avg_rating").notNull().default("0"),totalRatings:Se("total_ratings").notNull().default(0),createdAt:Ae("created_at").defaultNow(),updatedAt:Ae("updated_at").defaultNow()}),$Le=Ce("strategy_adoptions",{id:M("id").primaryKey().default(re`gen_random_uuid()`),strategyId:M("strategy_id").notNull(),agentId:M("agent_id").notNull(),status:M("status").notNull().default("active"),adoptedAt:Ae("adopted_at").defaultNow(),performanceSinceAdoption:Ht("performance_since_adoption").default("0"),tradesExecuted:Se("trades_executed").default(0)}),ULe=Ce("strategy_ratings",{id:M("id").primaryKey().default(re`gen_random_uuid()`),strategyId:M("strategy_id").notNull(),raterId:M("rater_id").notNull(),rating:Se("rating").notNull(),review:M("review"),createdAt:Ae("created_at").defaultNow()}),FLe=Ce("strategy_signals",{id:M("id").primaryKey().default(re`gen_random_uuid()`),strategyId:M("strategy_id").notNull(),symbol:M("symbol").notNull(),signalType:M("signal_type").notNull(),direction:M("direction").notNull(),strength:Se("strength").notNull(),price:Ht("price").notNull(),metadata:dt("metadata").$type(),createdAt:Ae("created_at").defaultNow()});Dr();var zLe=Ce("portfolio_snapshots",{id:Se("id").primaryKey().generatedAlwaysAsIdentity(),agentId:M("agent_id").notNull(),roundId:M("round_id"),trigger:M("trigger").notNull().default("round_end"),cashBalance:Ht("cash_balance",{precision:20,scale:6}).notNull(),positionsValue:Ht("positions_value",{precision:20,scale:6}).notNull(),totalValue:Ht("total_value",{precision:20,scale:6}).notNull(),totalPnl:Ht("total_pnl",{precision:20,scale:6}).notNull(),totalPnlPercent:Ht("total_pnl_percent",{precision:10,scale:4}).notNull(),positionCount:Se("position_count").notNull(),positions:dt("positions").notNull(),createdAt:Ae("created_at").defaultNow().notNull()}),HLe=Ce("competition_scores",{id:Se("id").primaryKey().generatedAlwaysAsIdentity(),agentId:M("agent_id").notNull(),roundId:M("round_id").notNull(),roundScore:Ht("round_score",{precision:10,scale:4}).notNull(),cumulativeScore:Ht("cumulative_score",{precision:12,scale:4}).notNull(),rank:Se("rank").notNull(),breakdown:dt("breakdown").notNull(),createdAt:Ae("created_at").defaultNow().notNull()});Dr();var Vt=Ce("trade_justifications",{id:M("id").primaryKey(),tradeId:Se("trade_id").references(()=>Kn.id),agentId:M("agent_id").references(()=>rt.id).notNull(),reasoning:M("reasoning").notNull(),confidence:C("confidence").notNull(),sources:dt("sources").$type(),toolTrace:dt("tool_trace").$type(),modelUsed:M("model_used"),intent:M("intent").notNull(),predictedOutcome:M("predicted_outcome"),actualOutcome:M("actual_outcome"),coherenceScore:C("coherence_score"),hallucinationFlags:dt("hallucination_flags").$type(),action:M("action").notNull(),symbol:M("symbol").notNull(),quantity:C("quantity"),roundId:M("round_id"),disciplinePass:M("discipline_pass").default("pending"),timestamp:Ae("timestamp").defaultNow()}),VLe=Ce("benchmark_snapshots",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),period:M("period").notNull(),pnlPercent:C("pnl_percent"),sharpeRatio:C("sharpe_ratio"),avgCoherence:C("avg_coherence"),hallucinationRate:C("hallucination_rate"),disciplineRate:C("discipline_rate"),tradeCount:Se("trade_count"),winRate:C("win_rate"),confidenceCalibration:C("confidence_calibration"),fullMetrics:dt("full_metrics").$type(),createdAt:Ae("created_at").defaultNow()});Dr();var GLe=Ce("reasoning_forensic_reports",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),roundId:M("round_id").notNull(),tradeAction:M("trade_action").notNull(),symbol:M("symbol").notNull(),sentenceCount:Se("sentence_count"),avgSentenceLength:C("avg_sentence_length"),quantitativeClaimCount:Se("quantitative_claim_count"),hedgeWordCount:Se("hedge_word_count"),causalConnectorCount:Se("causal_connector_count"),valuationMentioned:zi("valuation_mentioned").default(!1),technicalMentioned:zi("technical_mentioned").default(!1),fundamentalMentioned:zi("fundamental_mentioned").default(!1),macroMentioned:zi("macro_mentioned").default(!1),sentimentMentioned:zi("sentiment_mentioned").default(!1),riskMentioned:zi("risk_mentioned").default(!1),catalystMentioned:zi("catalyst_mentioned").default(!1),portfolioContextMentioned:zi("portfolio_context_mentioned").default(!1),coherenceScore:C("coherence_score"),depthScore:C("depth_score"),originalityScore:C("originality_score"),clarityScore:C("clarity_score"),compositeForensicScore:C("composite_forensic_score"),similarToPrevious:zi("similar_to_previous").default(!1),contradictsPrevious:zi("contradicts_previous").default(!1),previousTradeId:M("previous_trade_id"),fullAnalysis:dt("full_analysis").$type(),createdAt:Ae("created_at").defaultNow()}),jLe=Ce("reasoning_integrity_violations",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),violationType:M("violation_type").notNull(),severity:M("severity").notNull(),description:M("description").notNull(),evidence:dt("evidence").$type(),roundId:M("round_id"),relatedTradeIds:dt("related_trade_ids").$type(),penaltyApplied:C("penalty_applied"),createdAt:Ae("created_at").defaultNow()}),qLe=Ce("agent_reasoning_health",{agentId:M("agent_id").references(()=>rt.id).primaryKey(),windowSize:Se("window_size").default(50),avgCoherence:C("avg_coherence"),avgDepth:C("avg_depth"),avgOriginality:C("avg_originality"),avgClarity:C("avg_clarity"),compositeHealth:C("composite_health"),integrityScore:C("integrity_score"),totalViolations:Se("total_violations").default(0),trend:M("trend"),trendDelta:C("trend_delta"),lastUpdated:Ae("last_updated").defaultNow()});Dr();var Xie=Ce("outcome_resolutions",{id:M("id").primaryKey(),justificationId:M("justification_id").references(()=>Vt.id).notNull(),agentId:M("agent_id").references(()=>rt.id).notNull(),symbol:M("symbol").notNull(),action:M("action").notNull(),entryPrice:C("entry_price"),exitPrice:C("exit_price"),horizon:M("horizon").notNull(),pnlPercent:C("pnl_percent"),outcome:M("outcome").notNull(),directionCorrect:zi("direction_correct"),confidenceAtTrade:C("confidence_at_trade"),calibrated:zi("calibrated"),predictedOutcome:M("predicted_outcome"),actualOutcomeSummary:M("actual_outcome_summary"),resolvedAt:Ae("resolved_at").defaultNow()}),Yie=Ce("calibration_snapshots",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),period:M("period").notNull(),confidenceBucket:M("confidence_bucket").notNull(),tradeCount:Se("trade_count").notNull(),winRate:C("win_rate"),avgPnl:C("avg_pnl"),ece:C("ece"),createdAt:Ae("created_at").defaultNow()}),Zie=Ce("benchmark_leaderboard_v23",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),period:M("period").notNull(),pnlPercent:C("pnl_percent"),sharpeRatio:C("sharpe_ratio"),coherenceScore:C("coherence_score"),hallucinationRate:C("hallucination_rate"),disciplineRate:C("discipline_rate"),calibrationEce:C("calibration_ece"),predictionAccuracy:C("prediction_accuracy"),compositeScore:C("composite_score"),grade:M("grade"),tradeCount:Se("trade_count"),rank:Se("rank"),fullMetrics:dt("full_metrics").$type(),updatedAt:Ae("updated_at").defaultNow()});Dr();var WLe=Ce("reasoning_depth_analysis_v24",{id:M("id").primaryKey(),justificationId:M("justification_id").references(()=>Vt.id).notNull(),agentId:M("agent_id").references(()=>rt.id).notNull(),depthScore:C("depth_score").notNull(),stepCount:Se("step_count").notNull(),connectiveDensity:C("connective_density").notNull(),evidenceAnchoringScore:C("evidence_anchoring_score").notNull(),counterArgumentScore:C("counter_argument_score").notNull(),conclusionClarity:C("conclusion_clarity").notNull(),wordCount:Se("word_count").notNull(),vocabularyRichness:C("vocabulary_richness").notNull(),reasoningPattern:M("reasoning_pattern").notNull(),analyzedAt:Ae("analyzed_at").defaultNow()}),JLe=Ce("source_quality_analysis_v24",{id:M("id").primaryKey(),justificationId:M("justification_id").references(()=>Vt.id).notNull(),agentId:M("agent_id").references(()=>rt.id).notNull(),qualityScore:C("quality_score").notNull(),sourceCount:Se("source_count").notNull(),diversityScore:C("diversity_score").notNull(),specificityScore:C("specificity_score").notNull(),crossReferenceScore:C("cross_reference_score").notNull(),integrationScore:C("integration_score").notNull(),sourceCategories:dt("source_categories").$type(),analyzedAt:Ae("analyzed_at").defaultNow()}),KLe=Ce("benchmark_leaderboard_v24",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),compositeScore:C("composite_score"),pnlPercent:C("pnl_percent"),sharpeRatio:C("sharpe_ratio"),avgCoherence:C("avg_coherence"),hallucinationFreeRate:C("hallucination_free_rate"),disciplineRate:C("discipline_rate"),calibrationScore:C("calibration_score"),predictionAccuracy:C("prediction_accuracy"),avgReasoningDepth:C("avg_reasoning_depth"),avgSourceQuality:C("avg_source_quality"),tradeCount:Se("trade_count"),rank:Se("rank"),grade:M("grade"),updatedAt:Ae("updated_at").defaultNow()}),QLe=Ce("benchmark_round_snapshots_v24",{id:M("id").primaryKey(),roundId:M("round_id").notNull(),agentId:M("agent_id").references(()=>rt.id).notNull(),action:M("action").notNull(),symbol:M("symbol").notNull(),coherenceScore:C("coherence_score"),depthScore:C("depth_score"),sourceQualityScore:C("source_quality_score"),hallucinationCount:Se("hallucination_count"),confidence:C("confidence"),roundComposite:C("round_composite"),metrics:dt("metrics").$type(),timestamp:Ae("timestamp").defaultNow()});Dr();var XLe=Ce("outcome_prediction_tracking_v25",{id:M("id").primaryKey(),justificationId:M("justification_id").references(()=>Vt.id).notNull(),agentId:M("agent_id").references(()=>rt.id).notNull(),roundId:M("round_id").notNull(),predictedDirection:M("predicted_direction").notNull(),actualDirection:M("actual_direction"),predictedMagnitude:C("predicted_magnitude"),actualMagnitude:C("actual_magnitude"),timeframeSpecified:M("timeframe_specified"),directionalAccuracy:C("directional_accuracy"),magnitudeAccuracy:C("magnitude_accuracy"),predictionQuality:C("prediction_quality"),priceAtPrediction:C("price_at_prediction"),priceAtResolution:C("price_at_resolution"),symbol:M("symbol").notNull(),status:M("status").notNull().default("pending"),createdAt:Ae("created_at").defaultNow(),resolvedAt:Ae("resolved_at")}),YLe=Ce("consensus_intelligence_v25",{id:M("id").primaryKey(),roundId:M("round_id").notNull(),agentId:M("agent_id").references(()=>rt.id).notNull(),agentAction:M("agent_action").notNull(),agentSymbol:M("agent_symbol").notNull(),majorityAction:M("majority_action").notNull(),agreedWithMajority:C("agreed_with_majority").notNull(),confidenceDelta:C("confidence_delta"),wasContrarian:C("was_contrarian").notNull(),contrarianSuccess:C("contrarian_success"),reasoningSimilarity:C("reasoning_similarity").notNull(),independentThinkingScore:C("independent_thinking_score").notNull(),agentCountInRound:Se("agent_count_in_round").notNull(),consensusBreakdown:dt("consensus_breakdown").$type(),timestamp:Ae("timestamp").defaultNow()}),ZLe=Ce("benchmark_leaderboard_v25",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),compositeScore:C("composite_score"),pnlPercent:C("pnl_percent"),avgCoherence:C("avg_coherence"),hallucinationFreeRate:C("hallucination_free_rate"),disciplineRate:C("discipline_rate"),calibrationScore:C("calibration_score"),predictionAccuracy:C("prediction_accuracy"),avgReasoningDepth:C("avg_reasoning_depth"),avgSourceQuality:C("avg_source_quality"),outcomePredictionScore:C("outcome_prediction_score"),consensusIntelligenceScore:C("consensus_intelligence_score"),sharpeRatio:C("sharpe_ratio"),tradeCount:Se("trade_count"),rank:Se("rank"),grade:M("grade"),updatedAt:Ae("updated_at").defaultNow()}),eBe=Ce("benchmark_round_snapshots_v25",{id:M("id").primaryKey(),roundId:M("round_id").notNull(),agentId:M("agent_id").references(()=>rt.id).notNull(),action:M("action").notNull(),symbol:M("symbol").notNull(),coherenceScore:C("coherence_score"),depthScore:C("depth_score"),sourceQualityScore:C("source_quality_score"),hallucinationCount:Se("hallucination_count"),confidence:C("confidence"),outcomePredictionScore:C("outcome_prediction_score"),consensusScore:C("consensus_score"),roundComposite:C("round_composite"),metrics:dt("metrics").$type(),timestamp:Ae("timestamp").defaultNow()});Dr();var tBe=Ce("strategy_genome_analysis",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),roundId:M("round_id").notNull(),styleConsistencyScore:C("style_consistency_score").notNull(),strategyDrift:C("strategy_drift").notNull(),detectedStrategy:M("detected_strategy").notNull(),declaredStrategy:M("declared_strategy").notNull(),strategyDna:dt("strategy_dna").$type(),historicalAvgDna:dt("historical_avg_dna").$type(),tradeWindowSize:Se("trade_window_size"),genomeScore:C("genome_score").notNull(),timestamp:Ae("timestamp").defaultNow()}),rBe=Ce("risk_reward_discipline",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),roundId:M("round_id").notNull(),positionSizePercent:C("position_size_percent").notNull(),confidence:C("confidence").notNull(),sizingDisciplineScore:C("sizing_discipline_score").notNull(),impliedRiskReward:C("implied_risk_reward"),hasRiskBoundary:Se("has_risk_boundary").notNull(),hasProfitTarget:Se("has_profit_target").notNull(),riskAwarenessScore:C("risk_awareness_score").notNull(),cashBufferMaintained:Se("cash_buffer_maintained").notNull(),portfolioConcentration:C("portfolio_concentration"),disciplineScore:C("discipline_score").notNull(),timestamp:Ae("timestamp").defaultNow()}),nBe=Ce("benchmark_leaderboard_v26",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),pnlPercent:C("pnl_percent"),sharpeRatio:C("sharpe_ratio"),coherenceScore:C("coherence_score"),hallucinationRate:C("hallucination_rate"),disciplineRate:C("discipline_rate"),calibrationScore:C("calibration_score"),reasoningDepthScore:C("reasoning_depth_score"),sourceQualityScore:C("source_quality_score"),outcomePredictionScore:C("outcome_prediction_score"),consensusIntelligenceScore:C("consensus_intelligence_score"),strategyGenomeScore:C("strategy_genome_score"),riskRewardDisciplineScore:C("risk_reward_discipline_score"),compositeScore:C("composite_score"),tradeCount:Se("trade_count"),winRate:C("win_rate"),grade:M("grade"),updatedAt:Ae("updated_at").defaultNow()}),iBe=Ce("benchmark_round_snapshots_v26",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),roundId:M("round_id").notNull(),scores:dt("scores").$type(),compositeScore:C("composite_score"),action:M("action"),symbol:M("symbol"),timestamp:Ae("timestamp").defaultNow()});Dr();var oBe=Ce("execution_quality_analysis",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),roundId:M("round_id").notNull(),slippageAwareness:C("slippage_awareness").notNull(),priceRealism:C("price_realism").notNull(),timingRationale:C("timing_rationale").notNull(),executionPlanQuality:C("execution_plan_quality").notNull(),actualVsExpectedPrice:C("actual_vs_expected_price"),marketImpactAwareness:C("market_impact_awareness").notNull(),executionQualityScore:C("execution_quality_score").notNull(),timestamp:Ae("timestamp").defaultNow()}),sBe=Ce("cross_round_learning",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),roundId:M("round_id").notNull(),referencedPastTrades:Se("referenced_past_trades").notNull(),lessonApplication:C("lesson_application").notNull(),mistakeRepetition:C("mistake_repetition").notNull(),strategyAdaptation:C("strategy_adaptation").notNull(),outcomeIntegration:C("outcome_integration").notNull(),reasoningEvolution:C("reasoning_evolution").notNull(),learningScore:C("learning_score").notNull(),previousRoundIds:dt("previous_round_ids").$type(),timestamp:Ae("timestamp").defaultNow()}),aBe=Ce("benchmark_leaderboard_v27",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),pnlPercent:C("pnl_percent"),sharpeRatio:C("sharpe_ratio"),coherenceScore:C("coherence_score"),hallucinationRate:C("hallucination_rate"),disciplineRate:C("discipline_rate"),calibrationScore:C("calibration_score"),reasoningDepthScore:C("reasoning_depth_score"),sourceQualityScore:C("source_quality_score"),outcomePredictionScore:C("outcome_prediction_score"),consensusIntelligenceScore:C("consensus_intelligence_score"),strategyGenomeScore:C("strategy_genome_score"),riskRewardDisciplineScore:C("risk_reward_discipline_score"),executionQualityScore:C("execution_quality_score"),crossRoundLearningScore:C("cross_round_learning_score"),compositeScore:C("composite_score"),tradeCount:Se("trade_count"),winRate:C("win_rate"),grade:M("grade"),updatedAt:Ae("updated_at").defaultNow()}),cBe=Ce("benchmark_round_snapshots_v27",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),roundId:M("round_id").notNull(),scores:dt("scores").$type(),compositeScore:C("composite_score"),action:M("action"),symbol:M("symbol"),timestamp:Ae("timestamp").defaultNow()});Dr();var lBe=Ce("trade_accountability_analysis",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),roundId:M("round_id").notNull(),lossAcknowledgment:C("loss_acknowledgment").notNull(),blameAvoidance:C("blame_avoidance").notNull(),errorSpecificity:C("error_specificity").notNull(),correctiveAction:C("corrective_action").notNull(),selfReportAccuracy:C("self_report_accuracy").notNull(),intellectualHumility:C("intellectual_humility").notNull(),accountabilityScore:C("accountability_score").notNull(),timestamp:Ae("timestamp").defaultNow()}),uBe=Ce("reasoning_quality_index",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),roundId:M("round_id").notNull(),logicalChainLength:C("logical_chain_length").notNull(),evidenceDensity:C("evidence_density").notNull(),counterArgumentQuality:C("counter_argument_quality").notNull(),conclusionClarity:C("conclusion_clarity").notNull(),quantitativeRigor:C("quantitative_rigor").notNull(),conditionalReasoning:C("conditional_reasoning").notNull(),rqiScore:C("rqi_score").notNull(),structureBreakdown:dt("structure_breakdown").$type(),timestamp:Ae("timestamp").defaultNow()}),dBe=Ce("benchmark_leaderboard_v28",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),pnlPercent:C("pnl_percent"),sharpeRatio:C("sharpe_ratio"),coherenceScore:C("coherence_score"),hallucinationRate:C("hallucination_rate"),disciplineRate:C("discipline_rate"),calibrationScore:C("calibration_score"),reasoningDepthScore:C("reasoning_depth_score"),sourceQualityScore:C("source_quality_score"),outcomePredictionScore:C("outcome_prediction_score"),consensusIntelligenceScore:C("consensus_intelligence_score"),strategyGenomeScore:C("strategy_genome_score"),riskRewardDisciplineScore:C("risk_reward_discipline_score"),executionQualityScore:C("execution_quality_score"),crossRoundLearningScore:C("cross_round_learning_score"),tradeAccountabilityScore:C("trade_accountability_score"),reasoningQualityIndexScore:C("reasoning_quality_index_score"),compositeScore:C("composite_score"),tradeCount:Se("trade_count"),winRate:C("win_rate"),grade:M("grade"),updatedAt:Ae("updated_at").defaultNow()}),pBe=Ce("benchmark_round_snapshots_v28",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),roundId:M("round_id").notNull(),scores:dt("scores").$type(),compositeScore:C("composite_score"),action:M("action"),symbol:M("symbol"),timestamp:Ae("timestamp").defaultNow()});Dr();var fBe=Ce("v29_trade_grades",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),tradeId:Se("trade_id").references(()=>Kn.id),roundId:M("round_id"),symbol:M("symbol").notNull(),action:M("action").notNull(),coherenceScore:C("coherence_score"),hallucinationSeverity:C("hallucination_severity"),disciplinePassed:M("discipline_passed"),reasoningDepth:C("reasoning_depth"),sourceDiversity:C("source_diversity"),riskAwareness:C("risk_awareness"),overallGrade:M("overall_grade"),letterScore:C("letter_score"),flags:dt("flags").$type(),reasoning:M("reasoning"),createdAt:Ae("created_at").defaultNow()}),mBe=Ce("v29_benchmark_scores",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),roundId:M("round_id").notNull(),pnlPercent:C("pnl_percent"),sharpeRatio:C("sharpe_ratio"),reasoningCoherence:C("reasoning_coherence"),hallucinationRate:C("hallucination_rate"),instructionDiscipline:C("instruction_discipline"),confidenceCalibration:C("confidence_calibration"),reasoningDepth:C("reasoning_depth"),sourceDiversity:C("source_diversity"),strategyConsistency:C("strategy_consistency"),adaptability:C("adaptability"),riskAwareness:C("risk_awareness"),outcomeAccuracy:C("outcome_accuracy"),executionQuality:C("execution_quality"),crossRoundLearning:C("cross_round_learning"),tradeAccountability:C("trade_accountability"),reasoningQualityIndex:C("reasoning_quality_index"),marketRegimeAwareness:C("market_regime_awareness"),edgeConsistency:C("edge_consistency"),compositeScore:C("composite_score"),tier:M("tier"),createdAt:Ae("created_at").defaultNow()}),hBe=Ce("v29_leaderboard",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),totalRounds:Se("total_rounds"),avgComposite:C("avg_composite"),bestComposite:C("best_composite"),avgCoherence:C("avg_coherence"),avgDepth:C("avg_depth"),avgCalibration:C("avg_calibration"),tier:M("tier"),rank:Se("rank"),totalTradeGrades:Se("total_trade_grades"),gradeDistribution:dt("grade_distribution").$type(),updatedAt:Ae("updated_at").defaultNow()}),gBe=Ce("v29_research_exports",{id:M("id").primaryKey(),format:M("format").notNull(),recordCount:Se("record_count"),exportedAt:Ae("exported_at").defaultNow(),checksum:M("checksum"),metadata:dt("metadata").$type()});Dr();var yBe=Ce("v30_trade_grades",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),roundId:M("round_id"),symbol:M("symbol").notNull(),action:M("action").notNull(),reasoning:M("reasoning").notNull(),confidence:C("confidence").notNull(),coherenceScore:C("coherence_score"),hallucinationFlags:dt("hallucination_flags").$type(),disciplinePassed:M("discipline_passed").default("true"),reasoningDepthScore:C("reasoning_depth_score"),sourceQualityScore:C("source_quality_score"),logicalConsistencyScore:C("logical_consistency_score"),integrityHash:M("integrity_hash"),predictedOutcome:M("predicted_outcome"),actualOutcome:M("actual_outcome"),overallGrade:M("overall_grade").notNull(),gradedAt:Ae("graded_at").defaultNow()}),bBe=Ce("v30_benchmark_scores",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),roundId:M("round_id"),pnlPercent:C("pnl_percent"),sharpeRatio:C("sharpe_ratio"),maxDrawdown:C("max_drawdown"),coherence:C("coherence"),reasoningDepth:C("reasoning_depth"),sourceQuality:C("source_quality"),logicalConsistency:C("logical_consistency"),reasoningIntegrity:C("reasoning_integrity"),hallucinationRate:C("hallucination_rate"),instructionDiscipline:C("instruction_discipline"),riskAwareness:C("risk_awareness"),strategyConsistency:C("strategy_consistency"),adaptability:C("adaptability"),confidenceCalibration:C("confidence_calibration"),crossRoundLearning:C("cross_round_learning"),outcomeAccuracy:C("outcome_accuracy"),marketRegimeAwareness:C("market_regime_awareness"),edgeConsistency:C("edge_consistency"),tradeAccountability:C("trade_accountability"),reasoningQualityIndex:C("reasoning_quality_index"),compositeScore:C("composite_score"),tier:M("tier"),tradeCount:Se("trade_count"),scoredAt:Ae("scored_at").defaultNow()}),vBe=Ce("v30_leaderboard",{agentId:M("agent_id").references(()=>rt.id).primaryKey(),agentName:M("agent_name").notNull(),provider:M("provider").notNull(),model:M("model").notNull(),compositeScore:C("composite_score").notNull(),tier:M("tier").notNull(),tradeCount:Se("trade_count").default(0),roundsPlayed:Se("rounds_played").default(0),dimensionScores:dt("dimension_scores").$type(),lastUpdated:Ae("last_updated").defaultNow()}),_Be=Ce("v30_research_exports",{id:M("id").primaryKey(),exportType:M("export_type").notNull(),agentId:M("agent_id"),roundId:M("round_id"),data:dt("data").$type(),dimensionCount:Se("dimension_count").default(20),version:M("version").default("30.0"),exportedAt:Ae("exported_at").defaultNow()});Dr();var SBe=Ce("v31_trade_grades",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),roundId:M("round_id"),symbol:M("symbol").notNull(),action:M("action").notNull(),reasoning:M("reasoning").notNull(),confidence:C("confidence").notNull(),coherenceScore:C("coherence_score"),hallucinationFlags:dt("hallucination_flags").$type(),disciplinePassed:M("discipline_passed").default("true"),reasoningDepthScore:C("reasoning_depth_score"),sourceQualityScore:C("source_quality_score"),logicalConsistencyScore:C("logical_consistency_score"),integrityHash:M("integrity_hash"),transparencyScore:C("transparency_score"),accountabilityScore:C("accountability_score"),predictedOutcome:M("predicted_outcome"),actualOutcome:M("actual_outcome"),outcomeResolved:M("outcome_resolved").default("pending"),overallGrade:M("overall_grade").notNull(),gradedAt:Ae("graded_at").defaultNow()}),xBe=Ce("v31_benchmark_scores",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),roundId:M("round_id"),pnlPercent:C("pnl_percent"),sharpeRatio:C("sharpe_ratio"),maxDrawdown:C("max_drawdown"),coherence:C("coherence"),reasoningDepth:C("reasoning_depth"),sourceQuality:C("source_quality"),logicalConsistency:C("logical_consistency"),reasoningIntegrity:C("reasoning_integrity"),reasoningTransparency:C("reasoning_transparency"),hallucinationRate:C("hallucination_rate"),instructionDiscipline:C("instruction_discipline"),riskAwareness:C("risk_awareness"),strategyConsistency:C("strategy_consistency"),adaptability:C("adaptability"),confidenceCalibration:C("confidence_calibration"),crossRoundLearning:C("cross_round_learning"),outcomeAccuracy:C("outcome_accuracy"),marketRegimeAwareness:C("market_regime_awareness"),edgeConsistency:C("edge_consistency"),tradeAccountability:C("trade_accountability"),reasoningQualityIndex:C("reasoning_quality_index"),decisionAccountability:C("decision_accountability"),compositeScore:C("composite_score"),tier:M("tier"),tradeCount:Se("trade_count"),scoredAt:Ae("scored_at").defaultNow()}),wBe=Ce("v31_leaderboard",{agentId:M("agent_id").references(()=>rt.id).primaryKey(),agentName:M("agent_name").notNull(),provider:M("provider").notNull(),model:M("model").notNull(),compositeScore:C("composite_score").notNull(),tier:M("tier").notNull(),tradeCount:Se("trade_count").default(0),roundsPlayed:Se("rounds_played").default(0),dimensionScores:dt("dimension_scores").$type(),lastUpdated:Ae("last_updated").defaultNow()}),ABe=Ce("v31_research_exports",{id:M("id").primaryKey(),exportType:M("export_type").notNull(),agentId:M("agent_id"),roundId:M("round_id"),data:dt("data").$type(),dimensionCount:Se("dimension_count").default(22),version:M("version").default("31.0"),exportedAt:Ae("exported_at").defaultNow()});Dr();var EBe=Ce("v32_trade_grades",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),roundId:M("round_id"),symbol:M("symbol").notNull(),action:M("action").notNull(),reasoning:M("reasoning").notNull(),confidence:C("confidence").notNull(),coherenceScore:C("coherence_score"),hallucinationFlags:dt("hallucination_flags").$type(),disciplinePassed:M("discipline_passed").default("true"),reasoningDepthScore:C("reasoning_depth_score"),sourceQualityScore:C("source_quality_score"),logicalConsistencyScore:C("logical_consistency_score"),integrityHash:M("integrity_hash"),transparencyScore:C("transparency_score"),accountabilityScore:C("accountability_score"),groundingScore:C("grounding_score"),consensusQualityScore:C("consensus_quality_score"),predictedOutcome:M("predicted_outcome"),actualOutcome:M("actual_outcome"),outcomeResolved:M("outcome_resolved").default("pending"),overallGrade:M("overall_grade").notNull(),gradedAt:Ae("graded_at").defaultNow()}),TBe=Ce("v32_benchmark_scores",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),roundId:M("round_id"),pnlPercent:C("pnl_percent"),sharpeRatio:C("sharpe_ratio"),maxDrawdown:C("max_drawdown"),coherence:C("coherence"),reasoningDepth:C("reasoning_depth"),sourceQuality:C("source_quality"),logicalConsistency:C("logical_consistency"),reasoningIntegrity:C("reasoning_integrity"),reasoningTransparency:C("reasoning_transparency"),reasoningGrounding:C("reasoning_grounding"),hallucinationRate:C("hallucination_rate"),instructionDiscipline:C("instruction_discipline"),riskAwareness:C("risk_awareness"),strategyConsistency:C("strategy_consistency"),adaptability:C("adaptability"),confidenceCalibration:C("confidence_calibration"),crossRoundLearning:C("cross_round_learning"),outcomeAccuracy:C("outcome_accuracy"),marketRegimeAwareness:C("market_regime_awareness"),edgeConsistency:C("edge_consistency"),tradeAccountability:C("trade_accountability"),reasoningQualityIndex:C("reasoning_quality_index"),decisionAccountability:C("decision_accountability"),consensusQuality:C("consensus_quality"),compositeScore:C("composite_score"),tier:M("tier"),tradeCount:Se("trade_count"),scoredAt:Ae("scored_at").defaultNow()}),RBe=Ce("v32_leaderboard",{agentId:M("agent_id").references(()=>rt.id).primaryKey(),agentName:M("agent_name").notNull(),provider:M("provider").notNull(),model:M("model").notNull(),compositeScore:C("composite_score").notNull(),tier:M("tier").notNull(),tradeCount:Se("trade_count").default(0),roundsPlayed:Se("rounds_played").default(0),dimensionScores:dt("dimension_scores").$type(),lastUpdated:Ae("last_updated").defaultNow()}),IBe=Ce("v32_research_exports",{id:M("id").primaryKey(),exportType:M("export_type").notNull(),agentId:M("agent_id"),roundId:M("round_id"),data:dt("data").$type(),dimensionCount:Se("dimension_count").default(24),version:M("version").default("32.0"),exportedAt:Ae("exported_at").defaultNow()});Dr();var CBe=Ce("v33_trade_grades",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),roundId:M("round_id"),symbol:M("symbol").notNull(),action:M("action").notNull(),reasoning:M("reasoning").notNull(),confidence:C("confidence").notNull(),coherenceScore:C("coherence_score"),hallucinationFlags:dt("hallucination_flags").$type(),disciplinePassed:M("discipline_passed").default("true"),reasoningDepthScore:C("reasoning_depth_score"),sourceQualityScore:C("source_quality_score"),logicalConsistencyScore:C("logical_consistency_score"),integrityHash:M("integrity_hash"),transparencyScore:C("transparency_score"),accountabilityScore:C("accountability_score"),groundingScore:C("grounding_score"),consensusQualityScore:C("consensus_quality_score"),causalReasoningScore:C("causal_reasoning_score"),epistemicHumilityScore:C("epistemic_humility_score"),predictedOutcome:M("predicted_outcome"),actualOutcome:M("actual_outcome"),outcomeResolved:M("outcome_resolved").default("pending"),overallGrade:M("overall_grade").notNull(),gradedAt:Ae("graded_at").defaultNow()}),NBe=Ce("v33_benchmark_scores",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),roundId:M("round_id"),pnlPercent:C("pnl_percent"),sharpeRatio:C("sharpe_ratio"),maxDrawdown:C("max_drawdown"),coherence:C("coherence"),reasoningDepth:C("reasoning_depth"),sourceQuality:C("source_quality"),logicalConsistency:C("logical_consistency"),reasoningIntegrity:C("reasoning_integrity"),reasoningTransparency:C("reasoning_transparency"),reasoningGrounding:C("reasoning_grounding"),causalReasoning:C("causal_reasoning"),epistemicHumility:C("epistemic_humility"),hallucinationRate:C("hallucination_rate"),instructionDiscipline:C("instruction_discipline"),riskAwareness:C("risk_awareness"),strategyConsistency:C("strategy_consistency"),adaptability:C("adaptability"),confidenceCalibration:C("confidence_calibration"),crossRoundLearning:C("cross_round_learning"),outcomeAccuracy:C("outcome_accuracy"),marketRegimeAwareness:C("market_regime_awareness"),edgeConsistency:C("edge_consistency"),tradeAccountability:C("trade_accountability"),reasoningQualityIndex:C("reasoning_quality_index"),decisionAccountability:C("decision_accountability"),consensusQuality:C("consensus_quality"),compositeScore:C("composite_score"),tier:M("tier"),tradeCount:Se("trade_count"),scoredAt:Ae("scored_at").defaultNow()}),OBe=Ce("v33_leaderboard",{agentId:M("agent_id").references(()=>rt.id).primaryKey(),agentName:M("agent_name").notNull(),provider:M("provider").notNull(),model:M("model").notNull(),compositeScore:C("composite_score").notNull(),tier:M("tier").notNull(),tradeCount:Se("trade_count").default(0),roundsPlayed:Se("rounds_played").default(0),dimensionScores:dt("dimension_scores").$type(),lastUpdated:Ae("last_updated").defaultNow()}),PBe=Ce("v33_research_exports",{id:M("id").primaryKey(),exportType:M("export_type").notNull(),agentId:M("agent_id"),roundId:M("round_id"),data:dt("data").$type(),dimensionCount:Se("dimension_count").default(26),version:M("version").default("33.0"),exportedAt:Ae("exported_at").defaultNow()});Dr();var kBe=Ce("v34_trade_grades",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),roundId:M("round_id"),symbol:M("symbol").notNull(),action:M("action").notNull(),reasoning:M("reasoning").notNull(),confidence:C("confidence").notNull(),coherenceScore:C("coherence_score"),hallucinationFlags:dt("hallucination_flags").$type(),disciplinePassed:M("discipline_passed").default("true"),reasoningDepthScore:C("reasoning_depth_score"),sourceQualityScore:C("source_quality_score"),logicalConsistencyScore:C("logical_consistency_score"),integrityHash:M("integrity_hash"),transparencyScore:C("transparency_score"),accountabilityScore:C("accountability_score"),groundingScore:C("grounding_score"),consensusQualityScore:C("consensus_quality_score"),causalReasoningScore:C("causal_reasoning_score"),epistemicHumilityScore:C("epistemic_humility_score"),reasoningTraceabilityScore:C("reasoning_traceability_score"),adversarialCoherenceScore:C("adversarial_coherence_score"),predictedOutcome:M("predicted_outcome"),actualOutcome:M("actual_outcome"),outcomeResolved:M("outcome_resolved").default("pending"),overallGrade:M("overall_grade").notNull(),gradedAt:Ae("graded_at").defaultNow()}),DBe=Ce("v34_benchmark_scores",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),roundId:M("round_id"),pnlPercent:C("pnl_percent"),sharpeRatio:C("sharpe_ratio"),maxDrawdown:C("max_drawdown"),coherence:C("coherence"),reasoningDepth:C("reasoning_depth"),sourceQuality:C("source_quality"),logicalConsistency:C("logical_consistency"),reasoningIntegrity:C("reasoning_integrity"),reasoningTransparency:C("reasoning_transparency"),reasoningGrounding:C("reasoning_grounding"),causalReasoning:C("causal_reasoning"),epistemicHumility:C("epistemic_humility"),reasoningTraceability:C("reasoning_traceability"),adversarialCoherence:C("adversarial_coherence"),hallucinationRate:C("hallucination_rate"),instructionDiscipline:C("instruction_discipline"),riskAwareness:C("risk_awareness"),strategyConsistency:C("strategy_consistency"),adaptability:C("adaptability"),confidenceCalibration:C("confidence_calibration"),crossRoundLearning:C("cross_round_learning"),outcomeAccuracy:C("outcome_accuracy"),marketRegimeAwareness:C("market_regime_awareness"),edgeConsistency:C("edge_consistency"),tradeAccountability:C("trade_accountability"),reasoningQualityIndex:C("reasoning_quality_index"),decisionAccountability:C("decision_accountability"),consensusQuality:C("consensus_quality"),compositeScore:C("composite_score"),tier:M("tier"),tradeCount:Se("trade_count"),scoredAt:Ae("scored_at").defaultNow()}),MBe=Ce("v34_leaderboard",{agentId:M("agent_id").references(()=>rt.id).primaryKey(),agentName:M("agent_name").notNull(),provider:M("provider").notNull(),model:M("model").notNull(),compositeScore:C("composite_score").notNull(),tier:M("tier").notNull(),tradeCount:Se("trade_count").default(0),roundsPlayed:Se("rounds_played").default(0),dimensionScores:dt("dimension_scores").$type(),lastUpdated:Ae("last_updated").defaultNow()}),LBe=Ce("v34_research_exports",{id:M("id").primaryKey(),exportType:M("export_type").notNull(),agentId:M("agent_id"),roundId:M("round_id"),data:dt("data").$type(),dimensionCount:Se("dimension_count").default(28),version:M("version").default("34.0"),exportedAt:Ae("exported_at").defaultNow()});Dr();var BBe=Ce("v35_trade_grades",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),roundId:M("round_id"),symbol:M("symbol").notNull(),action:M("action").notNull(),reasoning:M("reasoning").notNull(),confidence:C("confidence").notNull(),coherenceScore:C("coherence_score"),hallucinationFlags:dt("hallucination_flags").$type(),disciplinePassed:M("discipline_passed").default("true"),reasoningDepthScore:C("reasoning_depth_score"),sourceQualityScore:C("source_quality_score"),logicalConsistencyScore:C("logical_consistency_score"),integrityHash:M("integrity_hash"),transparencyScore:C("transparency_score"),accountabilityScore:C("accountability_score"),groundingScore:C("grounding_score"),consensusQualityScore:C("consensus_quality_score"),causalReasoningScore:C("causal_reasoning_score"),epistemicHumilityScore:C("epistemic_humility_score"),reasoningTraceabilityScore:C("reasoning_traceability_score"),adversarialCoherenceScore:C("adversarial_coherence_score"),informationAsymmetryScore:C("information_asymmetry_score"),temporalReasoningScore:C("temporal_reasoning_score"),predictedOutcome:M("predicted_outcome"),actualOutcome:M("actual_outcome"),outcomeResolved:M("outcome_resolved").default("pending"),overallGrade:M("overall_grade").notNull(),gradedAt:Ae("graded_at").defaultNow()}),$Be=Ce("v35_benchmark_scores",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),roundId:M("round_id"),pnlPercent:C("pnl_percent"),sharpeRatio:C("sharpe_ratio"),maxDrawdown:C("max_drawdown"),coherence:C("coherence"),reasoningDepth:C("reasoning_depth"),sourceQuality:C("source_quality"),logicalConsistency:C("logical_consistency"),reasoningIntegrity:C("reasoning_integrity"),reasoningTransparency:C("reasoning_transparency"),reasoningGrounding:C("reasoning_grounding"),causalReasoning:C("causal_reasoning"),epistemicHumility:C("epistemic_humility"),reasoningTraceability:C("reasoning_traceability"),adversarialCoherence:C("adversarial_coherence"),informationAsymmetry:C("information_asymmetry"),temporalReasoningQuality:C("temporal_reasoning_quality"),hallucinationRate:C("hallucination_rate"),instructionDiscipline:C("instruction_discipline"),riskAwareness:C("risk_awareness"),strategyConsistency:C("strategy_consistency"),adaptability:C("adaptability"),confidenceCalibration:C("confidence_calibration"),crossRoundLearning:C("cross_round_learning"),outcomeAccuracy:C("outcome_accuracy"),marketRegimeAwareness:C("market_regime_awareness"),edgeConsistency:C("edge_consistency"),tradeAccountability:C("trade_accountability"),reasoningQualityIndex:C("reasoning_quality_index"),decisionAccountability:C("decision_accountability"),consensusQuality:C("consensus_quality"),compositeScore:C("composite_score"),tier:M("tier"),tradeCount:Se("trade_count"),scoredAt:Ae("scored_at").defaultNow()}),UBe=Ce("v35_leaderboard",{agentId:M("agent_id").references(()=>rt.id).primaryKey(),agentName:M("agent_name").notNull(),provider:M("provider").notNull(),model:M("model").notNull(),compositeScore:C("composite_score").notNull(),tier:M("tier").notNull(),tradeCount:Se("trade_count").default(0),roundsPlayed:Se("rounds_played").default(0),dimensionScores:dt("dimension_scores").$type(),lastUpdated:Ae("last_updated").defaultNow()}),FBe=Ce("v35_research_exports",{id:M("id").primaryKey(),exportType:M("export_type").notNull(),agentId:M("agent_id"),roundId:M("round_id"),data:dt("data").$type(),dimensionCount:Se("dimension_count").default(30),version:M("version").default("35.0"),exportedAt:Ae("exported_at").defaultNow()});Dr();var zBe=Ce("v36_trade_grades",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),roundId:M("round_id"),symbol:M("symbol").notNull(),action:M("action").notNull(),reasoning:M("reasoning").notNull(),confidence:C("confidence").notNull(),coherenceScore:C("coherence_score"),hallucinationFlags:dt("hallucination_flags").$type(),disciplinePassed:M("discipline_passed").default("true"),reasoningDepthScore:C("reasoning_depth_score"),sourceQualityScore:C("source_quality_score"),logicalConsistencyScore:C("logical_consistency_score"),integrityHash:M("integrity_hash"),transparencyScore:C("transparency_score"),accountabilityScore:C("accountability_score"),groundingScore:C("grounding_score"),consensusQualityScore:C("consensus_quality_score"),causalReasoningScore:C("causal_reasoning_score"),epistemicHumilityScore:C("epistemic_humility_score"),reasoningTraceabilityScore:C("reasoning_traceability_score"),adversarialCoherenceScore:C("adversarial_coherence_score"),informationAsymmetryScore:C("information_asymmetry_score"),temporalReasoningScore:C("temporal_reasoning_score"),marketMicrostructureScore:C("market_microstructure_score"),convictionConsistencyScore:C("conviction_consistency_score"),predictedOutcome:M("predicted_outcome"),actualOutcome:M("actual_outcome"),outcomeResolved:M("outcome_resolved").default("pending"),overallGrade:M("overall_grade").notNull(),gradedAt:Ae("graded_at").defaultNow()}),HBe=Ce("v36_benchmark_scores",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),roundId:M("round_id"),pnlPercent:C("pnl_percent"),sharpeRatio:C("sharpe_ratio"),maxDrawdown:C("max_drawdown"),coherence:C("coherence"),reasoningDepth:C("reasoning_depth"),sourceQuality:C("source_quality"),logicalConsistency:C("logical_consistency"),reasoningIntegrity:C("reasoning_integrity"),reasoningTransparency:C("reasoning_transparency"),reasoningGrounding:C("reasoning_grounding"),causalReasoning:C("causal_reasoning"),epistemicHumility:C("epistemic_humility"),reasoningTraceability:C("reasoning_traceability"),adversarialCoherence:C("adversarial_coherence"),informationAsymmetry:C("information_asymmetry"),temporalReasoningQuality:C("temporal_reasoning_quality"),marketMicrostructureQuality:C("market_microstructure_quality"),convictionConsistency:C("conviction_consistency"),hallucinationRate:C("hallucination_rate"),instructionDiscipline:C("instruction_discipline"),riskAwareness:C("risk_awareness"),strategyConsistency:C("strategy_consistency"),adaptability:C("adaptability"),confidenceCalibration:C("confidence_calibration"),crossRoundLearning:C("cross_round_learning"),outcomeAccuracy:C("outcome_accuracy"),marketRegimeAwareness:C("market_regime_awareness"),edgeConsistency:C("edge_consistency"),tradeAccountability:C("trade_accountability"),reasoningQualityIndex:C("reasoning_quality_index"),decisionAccountability:C("decision_accountability"),consensusQuality:C("consensus_quality"),compositeScore:C("composite_score"),tier:M("tier"),tradeCount:Se("trade_count"),scoredAt:Ae("scored_at").defaultNow()}),VBe=Ce("v36_leaderboard",{agentId:M("agent_id").references(()=>rt.id).primaryKey(),agentName:M("agent_name").notNull(),provider:M("provider").notNull(),model:M("model").notNull(),compositeScore:C("composite_score").notNull(),tier:M("tier").notNull(),tradeCount:Se("trade_count").default(0),roundsPlayed:Se("rounds_played").default(0),dimensionScores:dt("dimension_scores").$type(),lastUpdated:Ae("last_updated").defaultNow()}),GBe=Ce("v36_research_exports",{id:M("id").primaryKey(),exportType:M("export_type").notNull(),agentId:M("agent_id"),roundId:M("round_id"),data:dt("data").$type(),dimensionCount:Se("dimension_count").default(32),version:M("version").default("36.0"),exportedAt:Ae("exported_at").defaultNow()});Dr();var jBe=Ce("v37_trade_grades",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),roundId:M("round_id"),symbol:M("symbol").notNull(),action:M("action").notNull(),reasoning:M("reasoning").notNull(),confidence:C("confidence").notNull(),coherenceScore:C("coherence_score"),hallucinationFlags:dt("hallucination_flags").$type(),disciplinePassed:M("discipline_passed").default("true"),reasoningDepthScore:C("reasoning_depth_score"),sourceQualityScore:C("source_quality_score"),logicalConsistencyScore:C("logical_consistency_score"),integrityHash:M("integrity_hash"),transparencyScore:C("transparency_score"),accountabilityScore:C("accountability_score"),groundingScore:C("grounding_score"),consensusQualityScore:C("consensus_quality_score"),causalReasoningScore:C("causal_reasoning_score"),epistemicHumilityScore:C("epistemic_humility_score"),reasoningTraceabilityScore:C("reasoning_traceability_score"),adversarialCoherenceScore:C("adversarial_coherence_score"),informationAsymmetryScore:C("information_asymmetry_score"),temporalReasoningScore:C("temporal_reasoning_score"),reasoningAuditabilityScore:C("reasoning_auditability_score"),decisionReversibilityScore:C("decision_reversibility_score"),reasoningComposabilityScore:C("reasoning_composability_score"),strategicForesightScore:C("strategic_foresight_score"),predictedOutcome:M("predicted_outcome"),actualOutcome:M("actual_outcome"),outcomeResolved:M("outcome_resolved").default("pending"),overallGrade:M("overall_grade").notNull(),gradedAt:Ae("graded_at").defaultNow()}),qBe=Ce("v37_benchmark_scores",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),roundId:M("round_id"),pnlPercent:C("pnl_percent"),sharpeRatio:C("sharpe_ratio"),maxDrawdown:C("max_drawdown"),coherence:C("coherence"),reasoningDepth:C("reasoning_depth"),sourceQuality:C("source_quality"),logicalConsistency:C("logical_consistency"),reasoningIntegrity:C("reasoning_integrity"),reasoningTransparency:C("reasoning_transparency"),reasoningGrounding:C("reasoning_grounding"),causalReasoning:C("causal_reasoning"),epistemicHumility:C("epistemic_humility"),reasoningTraceability:C("reasoning_traceability"),adversarialCoherence:C("adversarial_coherence"),informationAsymmetry:C("information_asymmetry"),temporalReasoningQuality:C("temporal_reasoning_quality"),reasoningAuditability:C("reasoning_auditability"),decisionReversibility:C("decision_reversibility"),reasoningComposability:C("reasoning_composability"),strategicForesight:C("strategic_foresight"),hallucinationRate:C("hallucination_rate"),instructionDiscipline:C("instruction_discipline"),riskAwareness:C("risk_awareness"),strategyConsistency:C("strategy_consistency"),adaptability:C("adaptability"),confidenceCalibration:C("confidence_calibration"),crossRoundLearning:C("cross_round_learning"),outcomeAccuracy:C("outcome_accuracy"),marketRegimeAwareness:C("market_regime_awareness"),edgeConsistency:C("edge_consistency"),tradeAccountability:C("trade_accountability"),reasoningQualityIndex:C("reasoning_quality_index"),decisionAccountability:C("decision_accountability"),consensusQuality:C("consensus_quality"),compositeScore:C("composite_score"),tier:M("tier"),tradeCount:Se("trade_count"),scoredAt:Ae("scored_at").defaultNow()}),WBe=Ce("v37_leaderboard",{agentId:M("agent_id").references(()=>rt.id).primaryKey(),agentName:M("agent_name").notNull(),provider:M("provider").notNull(),model:M("model").notNull(),compositeScore:C("composite_score").notNull(),tier:M("tier").notNull(),tradeCount:Se("trade_count").default(0),roundsPlayed:Se("rounds_played").default(0),dimensionScores:dt("dimension_scores").$type(),lastUpdated:Ae("last_updated").defaultNow()}),JBe=Ce("v37_research_exports",{id:M("id").primaryKey(),exportType:M("export_type").notNull(),agentId:M("agent_id"),roundId:M("round_id"),data:dt("data").$type(),dimensionCount:Se("dimension_count").default(34),version:M("version").default("37.0"),exportedAt:Ae("exported_at").defaultNow()});Dr();var Io=Ce("agent_theses",{id:Se("id").primaryKey().generatedAlwaysAsIdentity(),agentId:M("agent_id").notNull(),symbol:M("symbol").notNull(),thesis:M("thesis").notNull(),conviction:Se("conviction").notNull().default(5),direction:M("direction").notNull().default("neutral"),entryPrice:Ht("entry_price",{precision:20,scale:9}),targetPrice:Ht("target_price",{precision:20,scale:9}),status:M("status").notNull().default("active"),closedReason:M("closed_reason"),createdAt:Ae("created_at").defaultNow().notNull(),updatedAt:Ae("updated_at").defaultNow().notNull()},t=>[nf("agent_theses_active_unique").on(t.agentId,t.symbol,t.status)]);Dr();var eL=Ce("llm_usage",{id:Se("id").primaryKey().generatedAlwaysAsIdentity(),roundId:M("round_id").notNull(),agentId:M("agent_id").notNull(),model:M("model").notNull(),inputTokens:Se("input_tokens").notNull(),outputTokens:Se("output_tokens").notNull(),totalTokens:Se("total_tokens").notNull(),estimatedCostUsd:Ht("estimated_cost_usd",{precision:10,scale:6}),createdAt:Ae("created_at").defaultNow().notNull()});Dr();var KBe=Ce("decision_quality_snapshots",{id:M("id").primaryKey(),agentId:M("agent_id").references(()=>rt.id).notNull(),snapshotAt:Ae("snapshot_at").notNull(),compositeScore:C("composite_score"),calibrationEce:C("calibration_ece"),integrityScore:C("integrity_score"),accountabilityScore:C("accountability_score"),memoryScore:C("memory_score"),toolUseScore:C("tool_use_score"),toolSequenceViolations:dt("tool_sequence_violations").$type(),grade:M("grade"),createdAt:Ae("created_at").defaultNow().notNull()},t=>[kMe("idx_quality_agent_snapshot").on(t.agentId,t.snapshotAt)]);var k9t=!!process.env.AWS_LAMBDA_FUNCTION_NAME;async function D9t(){if(!tn.DATABASE_URL)return console.warn("DATABASE_URL not set \u2014 database queries will fail"),null;if(k9t){let{neon:t}=await Promise.resolve().then(()=>(yoe(),J$e)),{drizzle:e}=await Promise.resolve().then(()=>(X$e(),Q$e)),r=t(tn.DATABASE_URL);return e({client:r})}else{let{drizzle:t}=await Promise.resolve().then(()=>(KFe(),JFe)),e=await Promise.resolve().then(()=>(kL(),qFe)),r=new e.default.Pool({connectionString:tn.DATABASE_URL});return t(r,{schema:eoe})}}var Ut=await D9t();var hv="EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",QFe="4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU";var E3="https://api.jup.ag";var si=[{symbol:"AAPLx",name:"Apple",mintAddress:"XsbEhLAtcf6HdfpFZ5xEMdqW8nfAvcsP5bdudRLJzJp",decimals:8,category:"Mega-Cap Tech",description:"iPhones & Services"},{symbol:"AMZNx",name:"Amazon",mintAddress:"Xs3eBt7uRfJX8QUs4suhyU8p2M6DoUDrJyWBa8LLZsg",decimals:8,category:"Mega-Cap Tech",description:"E-commerce & Cloud"},{symbol:"GOOGLx",name:"Alphabet",mintAddress:"XsCPL9dNWBMvFtTmwcCA5v3xWPSMEBCszbQdiLLq6aN",decimals:8,category:"Mega-Cap Tech",description:"Search & AI"},{symbol:"METAx",name:"Meta",mintAddress:"Xsa62P5mvPszXL1krVUnU5ar38bBSVcWAB6fmPCo5Zu",decimals:8,category:"Mega-Cap Tech",description:"Social Media"},{symbol:"MSFTx",name:"Microsoft",mintAddress:"XspzcW1PRtgf6Wj92HCiZdjzKCyFekVD8P5Ueh3dRMX",decimals:8,category:"Mega-Cap Tech",description:"Cloud & Software"},{symbol:"NVDAx",name:"NVIDIA",mintAddress:"Xsc9qvGR1efVDFGLrVsmkzv3qi45LTBjeUKSPmx9qEh",decimals:8,category:"Semiconductors",description:"AI Chips"},{symbol:"TSLAx",name:"Tesla",mintAddress:"XsDoVfqeBukxuZHWhdvWHBhgEHjGNst4MLodqsJHzoB",decimals:8,category:"Mega-Cap Tech",description:"EVs & Energy"},{symbol:"ORCLx",name:"Oracle",mintAddress:"XsjFwUPiLofddX5cWFHW35GCbXcSu1BCUGfxoQAQjeL",decimals:8,category:"Software",description:"Database & Cloud"},{symbol:"IBMx",name:"IBM",mintAddress:"XspwhyYPdWVM8XBHZnpS9hgyag9MKjLRyE3tVfmCbSr",decimals:8,category:"Software",description:"Enterprise IT"},{symbol:"CSCOx",name:"Cisco",mintAddress:"Xsr3pdLQyXvDJBFgpR5nexCEZwXvigb8wbPYp4YoNFf",decimals:8,category:"Mega-Cap Tech",description:"Networking"},{symbol:"ACNx",name:"Accenture",mintAddress:"Xs5UJzmCRQ8DWZjskExdSQDnbE6iLkRu2jjrRAB1JSU",decimals:8,category:"Software",description:"IT Consulting"},{symbol:"CRMx",name:"Salesforce",mintAddress:"XsczbcQ3zfcgAEt9qHQES8pxKAVG5rujPSHQEXi4kaN",decimals:8,category:"Software",description:"CRM Software"},{symbol:"AVGOx",name:"Broadcom",mintAddress:"XsgSaSvNSqLTtFuyWPBhK9196Xb9Bbdyjj4fH3cPJGo",decimals:8,category:"Semiconductors",description:"Network Chips"},{symbol:"AMDx",name:"AMD",mintAddress:"XsXcJ6GZ9kVnjqGsjBnktRcuwMBmvKWh8S93RefZ1rF",decimals:8,category:"Semiconductors",description:"CPUs & GPUs"},{symbol:"INTCx",name:"Intel",mintAddress:"XshPgPdXFRWB8tP1j82rebb2Q9rPgGX37RuqzohmArM",decimals:8,category:"Semiconductors",description:"PC Chips"},{symbol:"MRVLx",name:"Marvell",mintAddress:"XsuxRGDzbLjnJ72v74b7p9VY6N66uYgTCyfwwRjVCJA",decimals:8,category:"Semiconductors",description:"Data Infrastructure"},{symbol:"NFLXx",name:"Netflix",mintAddress:"XsEH7wWfJJu2ZT3UCFeVfALnVA6CP5ur7Ee11KmzVpL",decimals:8,category:"Software",description:"Streaming"},{symbol:"PLTRx",name:"Palantir",mintAddress:"XsoBhf2ufR8fTyNSjqfU71DYGaE6Z3SUGAidpzriAA4",decimals:8,category:"Software",description:"Data Analytics"},{symbol:"APPx",name:"AppLovin",mintAddress:"XsPdAVBi8Zc1xvv53k4JcMrQaEDTgkGqKYeh7AYgPHV",decimals:8,category:"Software",description:"Mobile Gaming"},{symbol:"CRWDx",name:"CrowdStrike",mintAddress:"Xs7xXqkcK7K8urEqGg52SECi79dRp2cEKKuYjUePYDw",decimals:8,category:"Software",description:"Cybersecurity"},{symbol:"COINx",name:"Coinbase",mintAddress:"Xs7ZdzSHLU9ftNJsii5fCeJhoRWSC32SQGzGQtePxNu",decimals:8,category:"Crypto-Adjacent",description:"Crypto Exchange"},{symbol:"MSTRx",name:"MicroStrategy",mintAddress:"XsP7xzNPvEHS1m6qfanPUGjNmdnmsLKEoNAnHjdxxyZ",decimals:8,category:"Crypto-Adjacent",description:"Bitcoin Treasury"},{symbol:"HOODx",name:"Robinhood",mintAddress:"XsvNBAYkrDRNhA7wPHQfX3ZUXZyZLdnCQDfHZ56bzpg",decimals:8,category:"Crypto-Adjacent",description:"Trading App"},{symbol:"CRCLx",name:"Circle",mintAddress:"XsueG8BtpquVJX9LVLLEGuViXUungE6WmK5YZ3p3bd1",decimals:8,category:"Crypto-Adjacent",description:"USDC Issuer"},{symbol:"GMEx",name:"GameStop",mintAddress:"Xsf9mBktVB9BSU5kf4nHxPq5hCBJ2j2ui3ecFGxPRGc",decimals:8,category:"Crypto-Adjacent",description:"Meme Stock"},{symbol:"OPENx",name:"Opendoor",mintAddress:"XsGtpmjhmC8kyjVSWL4VicGu36ceq9u55PTgF8bhGv6",decimals:8,category:"Other",description:"Real Estate Tech"},{symbol:"JPMx",name:"JPMorgan Chase",mintAddress:"XsMAqkcKsUewDrzVkait4e5u4y8REgtyS7jWgCpLV2C",decimals:8,category:"Finance",description:"Investment Bank"},{symbol:"BACx",name:"Bank of America",mintAddress:"XswsQk4duEQmCbGzfqUUWYmi7pV7xpJ9eEmLHXCaEQP",decimals:8,category:"Finance",description:"Consumer Bank"},{symbol:"GSx",name:"Goldman Sachs",mintAddress:"XsgaUyp4jd1fNBCxgtTKkW64xnnhQcvgaxzsbAq5ZD1",decimals:8,category:"Finance",description:"Investment Bank"},{symbol:"Vx",name:"Visa",mintAddress:"XsqgsbXwWogGJsNcVZ3TyVouy2MbTkfCFhCGGGcQZ2p",decimals:8,category:"Finance",description:"Payments"},{symbol:"MAx",name:"Mastercard",mintAddress:"XsApJFV9MAktqnAc6jqzsHVujxkGm9xcSUffaBoYLKC",decimals:8,category:"Finance",description:"Payments"},{symbol:"BRK.Bx",name:"Berkshire Hathaway",mintAddress:"Xs6B6zawENwAbWVi7w92rjazLuAr5Az59qgWKcNb45x",decimals:8,category:"Finance",description:"Conglomerate"},{symbol:"LLYx",name:"Eli Lilly",mintAddress:"Xsnuv4omNoHozR6EEW5mXkw8Nrny5rB3jVfLqi6gKMH",decimals:8,category:"Healthcare",description:"Weight Loss Drugs"},{symbol:"UNHx",name:"UnitedHealth",mintAddress:"XszvaiXGPwvk2nwb3o9C1CX4K6zH8sez11E6uyup6fe",decimals:8,category:"Healthcare",description:"Health Insurance"},{symbol:"JNJx",name:"Johnson & Johnson",mintAddress:"XsGVi5eo1Dh2zUpic4qACcjuWGjNv8GCt3dm5XcX6Dn",decimals:8,category:"Healthcare",description:"Pharma & Consumer"},{symbol:"MRKx",name:"Merck",mintAddress:"XsnQnU7AdbRZYe2akqqpibDdXjkieGFfSkbkjX1Sd1X",decimals:8,category:"Healthcare",description:"Pharmaceuticals"},{symbol:"PFEx",name:"Pfizer",mintAddress:"XsAtbqkAP1HJxy7hFDeq7ok6yM43DQ9mQ1Rh861X8rw",decimals:8,category:"Healthcare",description:"Pharmaceuticals"},{symbol:"ABTx",name:"Abbott",mintAddress:"XsHtf5RpxsQ7jeJ9ivNewouZKJHbPxhPoEy6yYvULr7",decimals:8,category:"Healthcare",description:"Medical Devices"},{symbol:"ABBVx",name:"AbbVie",mintAddress:"XswbinNKyPmzTa5CskMbCPvMW6G5CMnZXZEeQSSQoie",decimals:8,category:"Healthcare",description:"Biotech"},{symbol:"AZNx",name:"AstraZeneca",mintAddress:"Xs3ZFkPYT2BN7qBMqf1j1bfTeTm1rFzEFSsQ1z3wAKU",decimals:8,category:"Healthcare",description:"Pharmaceuticals"},{symbol:"NVOx",name:"Novo Nordisk",mintAddress:"XsfAzPzYrYjd4Dpa9BU3cusBsvWfVB9gBcyGC87S57n",decimals:8,category:"Healthcare",description:"Weight Loss Drugs"},{symbol:"TMOx",name:"Thermo Fisher",mintAddress:"Xs8drBWy3Sd5QY3aifG9kt9KFs2K3PGZmx7jWrsrk57",decimals:8,category:"Healthcare",description:"Lab Equipment"},{symbol:"DHRx",name:"Danaher",mintAddress:"Xseo8tgCZfkHxWS9xbFYeKFyMSbWEvZGFV1Gh53GtCV",decimals:8,category:"Healthcare",description:"Life Sciences"},{symbol:"MDTx",name:"Medtronic",mintAddress:"XsDgw22qRLTv5Uwuzn6T63cW69exG41T6gwQhEK22u2",decimals:8,category:"Healthcare",description:"Medical Devices"},{symbol:"WMTx",name:"Walmart",mintAddress:"Xs151QeqTCiuKtinzfRATnUESM2xTU6V9Wy8Vy538ci",decimals:8,category:"Consumer",description:"Retail"},{symbol:"KOx",name:"Coca-Cola",mintAddress:"XsaBXg8dU5cPM6ehmVctMkVqoiRG2ZjMo1cyBJ3AykQ",decimals:8,category:"Consumer",description:"Beverages"},{symbol:"PEPx",name:"PepsiCo",mintAddress:"Xsv99frTRUeornyvCfvhnDesQDWuvns1M852Pez91vF",decimals:8,category:"Consumer",description:"Beverages & Snacks"},{symbol:"MCDx",name:"McDonald's",mintAddress:"XsqE9cRRpzxcGKDXj1BJ7Xmg4GRhZoyY1KpmGSxAWT2",decimals:8,category:"Consumer",description:"Fast Food"},{symbol:"PGx",name:"Procter & Gamble",mintAddress:"XsYdjDjNUygZ7yGKfQaB6TxLh2gC6RRjzLtLAGJrhzV",decimals:8,category:"Consumer",description:"Consumer Goods"},{symbol:"PMx",name:"Philip Morris",mintAddress:"Xsba6tUnSjDae2VcopDB6FGGDaxRrewFCDa5hKn5vT3",decimals:8,category:"Consumer",description:"Tobacco"},{symbol:"HDx",name:"Home Depot",mintAddress:"XszjVtyhowGjSC5odCqBpW1CtXXwXjYokymrk7fGKD3",decimals:8,category:"Consumer",description:"Home Improvement"},{symbol:"XOMx",name:"Exxon Mobil",mintAddress:"XsaHND8sHyfMfsWPj6kSdd5VwvCayZvjYgKmmcNL5qh",decimals:8,category:"Energy",description:"Oil & Gas"},{symbol:"CVXx",name:"Chevron",mintAddress:"XsNNMt7WTNA2sV3jrb1NNfNgapxRF5i4i6GcnTRRHts",decimals:8,category:"Energy",description:"Oil & Gas"},{symbol:"HONx",name:"Honeywell",mintAddress:"XsRbLZthfABAPAfumWNEJhPyiKDW6TvDVeAeW7oKqA2",decimals:8,category:"Industrial",description:"Aerospace & Tech"},{symbol:"LINx",name:"Linde",mintAddress:"XsSr8anD1hkvNMu8XQiVcmiaTP7XGvYu7Q58LdmtE8Z",decimals:8,category:"Industrial",description:"Industrial Gas"},{symbol:"CMCSAx",name:"Comcast",mintAddress:"XsvKCaNsxg2GN8jjUmq71qukMJr7Q1c5R2Mk9P8kcS8",decimals:8,category:"Industrial",description:"Media & Telecom"},{symbol:"SPYx",name:"S&P 500 ETF",mintAddress:"XsoCS1TfEyfFhfvj8EtZ528L3CaKBDBRqRapnBbDF2W",decimals:8,category:"ETF",description:"US Large Cap"},{symbol:"QQQx",name:"Nasdaq 100 ETF",mintAddress:"Xs8S1uUs1zvS2p7iwtsG3b6fkhpvmwz4GYU3gWAmWHZ",decimals:8,category:"ETF",description:"Tech Index"},{symbol:"TQQQx",name:"TQQQ 3x Nasdaq ETF",mintAddress:"XsjQP3iMAaQ3kQScQKthQpx9ALRbjKAjQtHg6TFomoc",decimals:8,category:"ETF",description:"3x Leveraged Tech"},{symbol:"GLDx",name:"Gold ETF",mintAddress:"Xsv9hRk1z5ystj9MhnA7Lq4vjSsLwzL2nxrwmwtD3re",decimals:8,category:"ETF",description:"Gold"},{symbol:"VTIx",name:"Vanguard Total Market ETF",mintAddress:"XsssYEQjzxBCFgvYFFNuhJFBeHNdLWYeUSP8F45cDr9",decimals:8,category:"ETF",description:"Total US Market"},{symbol:"TBLLx",name:"Invesco TBLL ETF",mintAddress:"XsqBC5tcVQLYt8wqGCHRnAUUecbRYXoJCReD6w7QEKp",decimals:8,category:"ETF",description:"Treasury Bills"},{symbol:"AMBRx",name:"Amber",mintAddress:"XsaQTCgebC2KPbf27KUhdv5JFvHhQ4GDAPURwrEhAzb",decimals:8,category:"Other",description:"Specialty"},{symbol:"DFDVx",name:"DFDV",mintAddress:"Xs2yquAgsHByNzx68WJC55WHjHBvG9JsMB7CWjTLyPy",decimals:8,category:"Other",description:"Specialty"},{symbol:"STRCx",name:"Strategy PP Variable",mintAddress:"Xs78JED6PFZxWc2wCEPspZW9kL3Se5J7L5TChKgsidH",decimals:8,category:"Other",description:"Strategy Fund"},{symbol:"TONXx",name:"TON",mintAddress:"XscE4GUcsYhcyZu5ATiGUMmhxYa1D5fwbpJw4K6K4dp",decimals:8,category:"Crypto-Adjacent",description:"Telegram Crypto"}],G1n=new Map(si.map(t=>[t.symbol,t])),j1n=new Map(si.map(t=>[t.mintAddress,t]));async function XFe(t){return Ut.select().from(Io).where(zo(rr(Io.agentId,t),rr(Io.status,"active"))).orderBy(Ro(Io.updatedAt))}async function YFe(t,e){let r=await Ut.select().from(Io).where(zo(rr(Io.agentId,t),rr(Io.symbol,e.symbol),rr(Io.status,"active"))).limit(1);if(r.length>0)return await Ut.update(Io).set({thesis:e.thesis,conviction:e.conviction,direction:e.direction,entryPrice:e.entryPrice??r[0].entryPrice,targetPrice:e.targetPrice??r[0].targetPrice,updatedAt:new Date}).where(rr(Io.id,r[0].id)),{action:"updated",id:r[0].id};let[n]=await Ut.insert(Io).values({agentId:t,symbol:e.symbol,thesis:e.thesis,conviction:e.conviction,direction:e.direction,entryPrice:e.entryPrice,targetPrice:e.targetPrice,status:"active"}).returning({id:Io.id});return{action:"created",id:n.id}}async function ZFe(t,e,r){return{closed:(await Ut.update(Io).set({status:"closed",closedReason:r,updatedAt:new Date}).where(zo(rr(Io.agentId,t),rr(Io.symbol,e),rr(Io.status,"active"))).returning({id:Io.id})).length}}function Hi(t,e,r){return Math.min(r,Math.max(e,t))}function Cse(t,e){let r=Math.pow(10,e);return Math.round(t*r)/r}function ne(t){return Cse(t,2)}function he(t){return Cse(t,3)}function kw(t){return Cse(t,4)}function gr(t){return t.trim().split(/\s+/).filter(e=>e.length>0).length}function ai(t,e=0){return t.split(/[.!?]+/).map(r=>r.trim()).filter(r=>r.length>e)}function Dw(t,e=0){return t.toLowerCase().split(/\s+/).filter(r=>r.length>e)}function Hr(t){return Math.max(0,Math.min(1,t))}function Qe(t){return t.length>0?t.reduce((e,r)=>e+r,0)/t.length:0}function Nse(t){if(t.length<2)return 0;let e=Qe(t),r=t.reduce((n,i)=>n+(i-e)**2,0)/t.length;return Math.sqrt(r)}function $L(t,e,r){return t.reduce((n,i)=>{let o=i[e];return n+(r?r(o):o)},0)}function Mw(t,e,r){return t.length===0?0:$L(t,e,r)/t.length}function tze(t){let e;for(let[r,n]of Object.entries(t))(!e||n>e[1])&&(e=[r,n]);return e}function gv(t){return Object.entries(t).sort(([,e],[,r])=>r-e)}function rze(t,e){return[...t].sort((r,n)=>n[e]-r[e])}function xs(t,e){let r=0;for(let n of t)e(n)&&r++;return r}function to(t,e,r){if(typeof e=="function"&&typeof r=="function")return t.reduce((o,s,a)=>{let c=e(s,a),l=r(s,a);return o+c*l},0);let n=e,i=r;return t.reduce((o,s)=>{let a=s[n],c=s[i];return typeof a=="number"&&typeof c=="number"?o+a*c:o},0)}function M9t(t,e){if(t.length!==e.length)throw new Error(`dotProduct: vectors must have same length (got ${t.length} and ${e.length})`);return t.reduce((r,n,i)=>r+n*e[i],0)}function eze(t){return Math.sqrt(t.reduce((e,r)=>e+r*r,0))}function Ose(t,e){let r=M9t(t,e),n=eze(t),i=eze(e);return n===0||i===0?0:r/(n*i)}var UL=new Map,nze=500,ize=new Map;var L9t=0,oze=0;async function aze(){let t=[];L9t++;let e=await B9t(),r=new Map;for(let n of si)r.set(n.symbol,F9t(n.mintAddress));for(let n of si){let i=e.get(n.mintAddress),o=ize.get(n.symbol),s=Date.now(),a,c,l,u,d,p;if(i){a=i.price,c="jupiter";let y=UL.get(n.symbol)??[];if(i.change24h!==0)l=i.change24h;else if(y.length>=2){let v=y[0];s-v.timestamp>0&&v.price>0?l=(a-v.price)/v.price*100:l=0}else o?l=(a-o.price)/o.price*100:l=0;u=i.volume24h!==0?i.volume24h:o?.volume24h??0}else if(o&&s-new Date(o.updatedAt).getTime()<12e4){a=o.price,c="cached",l=o.change24h,u=o.volume24h,d=o.marketCapUsd;let y=await r.get(n.symbol);p=o.liquidityUsd??y?.liquidityUsd}else{let y=await U9t(n.symbol);y?(a=y.price,c="coingecko",l=y.change24h,u=y.volume24h,d=y.marketCap):(a=W9t(n.symbol,o?.price),c="mock",l=o?(a-o.price)/o.price*100:(Math.random()-.5)*5,u=1e7+Math.random()*49e7)}let f=UL.get(n.symbol)??[],h=q9t(f),m=Math.max(5,Math.round(100/Math.log2(Math.max(u,1e6))));p===void 0&&(p=(await r.get(n.symbol))?.liquidityUsd);let g={symbol:n.symbol,name:n.name,mintAddress:n.mintAddress,price:kw(a),change24h:ne(l),volume24h:Math.round(u),vwap:kw(h||a),spreadBps:m,marketCapUsd:d?Math.round(d):void 0,liquidityUsd:p?Math.round(p):void 0,source:c,updatedAt:new Date().toISOString()};t.push(g),ize.set(n.symbol,g),f.push({price:a,volume:u,timestamp:s}),f.length>nze&&f.splice(0,f.length-nze),UL.set(n.symbol,f)}return V9t(t),t}async function B9t(){let t=new Map;try{let e=si.map(o=>o.mintAddress),r=[];for(let o=0;o<e.length;o+=50)r.push(e.slice(o,o+50));let n=process.env.JUPITER_API_KEY,i={};n&&(i["x-api-key"]=n);for(let o of r){let s=o.join(",");try{let a=await fetch(`https://api.jup.ag/price/v3?ids=${s}`,{headers:i,signal:AbortSignal.timeout(8e3)});if(a.ok){let c=await a.json();for(let[l,u]of Object.entries(c.data))if(u?.price){let d=parseFloat(u.price);if(!Number.isFinite(d)||d<=0)continue;t.set(l,{price:d,change24h:0,volume24h:0})}}}catch{oze++}}}catch{oze++}return t}var $9t={COINx:"coinbase-wrapped-staked-eth",MSTRx:"microstrategy-tokenized-stock-defichain"};async function U9t(t){let e=$9t[t];if(!e)return null;try{let r=await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${e}&vs_currencies=usd&include_market_cap=true&include_24hr_vol=true&include_24hr_change=true`,{signal:AbortSignal.timeout(5e3)});if(!r.ok)return null;let i=(await r.json())[e];return i?.usd?{price:i.usd,change24h:i.usd_24h_change??0,volume24h:i.usd_24h_vol??0,marketCap:i.usd_market_cap}:null}catch{return null}}async function F9t(t){try{let e=await fetch(`https://api.dexscreener.com/latest/dex/tokens/${t}`,{signal:AbortSignal.timeout(5e3)});if(!e.ok)return null;let n=(await e.json()).pairs?.filter(o=>o.chainId==="solana")??[];if(n.length===0)return null;let i=n.map(o=>o.liquidity?.usd??0).filter(o=>o>0);return i.length===0?null:{liquidityUsd:Math.max(...i)}}catch{return null}}function cze(t){let r=(UL.get(t)??[]).map(u=>u.price),n=r.length>=20?G9t(r,20):null,i=r.length>=12?sze(r,12):null,o=r.length>=26?sze(r,26):null,s=r.length>=15?j9t(r,14):null,a=r.length>=10?(r[r.length-1]-r[r.length-10])/r[r.length-10]*100:null,c="sideways",l=50;if(n!==null&&r.length>0){let d=(r[r.length-1]-n)/n*100;d>1?(c="up",l=Math.min(100,50+d*10)):d<-1&&(c="down",l=Math.min(100,50+Math.abs(d)*10))}return s!==null&&(s>70?(c="up",l=Math.max(l,80)):s<30&&(c="down",l=Math.max(l,80))),{symbol:t,sma20:n!==null?kw(n):null,ema12:i!==null?kw(i):null,ema26:o!==null?kw(o):null,rsi14:s!==null?ne(s):null,momentum:a!==null?ne(a):null,trend:c,signalStrength:Math.round(l),updatedAt:new Date().toISOString()}}var z9t=5e4;function H9t(t){return t>=3e5?"good":t>=5e4?"moderate":t>0?"thin":"dead"}var Pse=null;function V9t(t){let e=t.map(n=>{let i=n.liquidityUsd??0,o=H9t(i);return{symbol:n.symbol,name:n.name,mintAddress:n.mintAddress,liquidityUsd:i,tier:o,tradeable:i>=z9t,price:n.price,volume24h:n.volume24h,source:n.source}});e.sort((n,i)=>i.liquidityUsd-n.liquidityUsd);let r={tokens:e,tradeableCount:e.filter(n=>n.tradeable).length,totalCount:e.length,analyzedAt:new Date().toISOString()};return Pse=r,r}function lze(){return Pse?new Set(Pse.tokens.filter(t=>t.tradeable).map(t=>t.symbol)):null}function G9t(t,e){let r=t.slice(-e);return r.reduce((n,i)=>n+i,0)/r.length}function sze(t,e){let r=2/(e+1),n=t[0];for(let i=1;i<t.length;i++)n=t[i]*r+n*(1-r);return n}function j9t(t,e){if(t.length<e+1)return 50;let r=0,n=0,i=t.slice(-(e+1));for(let c=1;c<i.length;c++){let l=i[c]-i[c-1];l>0?r+=l:n-=l}let o=r/e,s=n/e;return s===0?100:100-100/(1+o/s)}function q9t(t){if(t.length===0)return null;let e=0,r=0;for(let n of t)e+=n.price*n.volume,r+=n.volume;return r>0?e/r:null}function W9t(t,e){let n=e??{AAPLx:178.5,AMZNx:185.2,GOOGLx:142.8,METAx:505.3,MSFTx:415.6,NVDAx:890.5,TSLAx:245.8,SPYx:502.1,QQQx:435.7,COINx:205.4,MSTRx:1685,HOODx:22.8,NFLXx:628.9,PLTRx:24.5,GMEx:17.8}[t]??100,i=1+(Math.random()-.5)*.02;return ne(n*i)}var uf=1e4,uze=.05,kse=252;async function dze(t){let[e,r,n]=await Promise.all([Ut.select().from(Kn).where(rr(Kn.agentId,t)).orderBy(LM(Kn.createdAt)),Ut.select().from(Tr).where(rr(Tr.agentId,t)),Ut.select().from(Ac).where(rr(Ac.agentId,t)).orderBy(Ro(Ac.createdAt))]),i=await nPt(),o=uf;for(let S of e)S.side==="buy"?o-=parseFloat(S.usdcAmount):o+=parseFloat(S.usdcAmount);o=Math.max(0,o);let s=0,a=0;for(let S of r){let w=parseFloat(S.quantity),E=parseFloat(S.averageCostBasis),I=i.get(S.symbol)??E,D=w*I;s+=D,a+=(I-E)*w}let c=J9t(e),l=o+s,u=l-uf,d=u/uf*100,p=K9t(e,i),f=X9t(e),h=Y9t(e,r,i),m=ePt(e,u),g=tPt(n),y=Z9t(e),v=Q9t(p,u);return{agentId:t,summary:{totalValue:ne(l),cashBalance:ne(o),positionsValue:ne(s),initialCapital:uf,totalPnl:ne(u),totalPnlPercent:ne(d),realizedPnl:ne(c),unrealizedPnl:ne(a)},risk:v,trading:{totalTrades:e.length,buyCount:e.filter(S=>S.side==="buy").length,sellCount:e.filter(S=>S.side==="sell").length,holdCount:n.filter(S=>S.action==="hold").length,winRate:f.winRate,avgWin:ne(f.avgWin),avgLoss:ne(f.avgLoss),profitFactor:ne(f.profitFactor),avgHoldTimeHours:ne(f.avgHoldTimeHours),avgTradeSize:e.length>0?ne(e.reduce((S,w)=>S+parseFloat(w.usdcAmount),0)/e.length):0,largestWin:ne(f.largestWin),largestLoss:ne(f.largestLoss),currentStreak:y.current,longestWinStreak:y.longestWin,longestLossStreak:y.longestLoss},byStock:h,returns:m,decisions:g,computedAt:new Date().toISOString()}}function J9t(t){let e=new Map;for(let n of t){let i=e.get(n.stockSymbol)??[];i.push(n),e.set(n.stockSymbol,i)}let r=0;for(let[,n]of e){let i=[];for(let o of n){let s=parseFloat(o.stockQuantity),a=parseFloat(o.pricePerToken);if(o.side==="buy")i.push({qty:s,price:a});else{let c=s;for(;c>0&&i.length>0;){let l=i[0],u=Math.min(c,l.qty);r+=u*(a-l.price),l.qty-=u,c-=u,l.qty<=1e-9&&i.shift()}}}}return r}function K9t(t,e){if(t.length===0)return[];let r=new Map;for(let i of t){let o=i.createdAt.toISOString().split("T")[0],s=r.get(o)??0,a=parseFloat(i.usdcAmount);r.set(o,s+(i.side==="sell"?a:-a))}let n=[];for(let[,i]of r)n.push(i/uf);return n}function Q9t(t,e){if(t.length<2)return{sharpeRatio:null,sortinoRatio:null,calmarRatio:null,maxDrawdown:0,maxDrawdownPercent:0,volatility:null,beta:null,valueAtRisk95:null};let r=t.reduce((g,y)=>g+y,0)/t.length,n=t.reduce((g,y)=>g+(y-r)**2,0)/(t.length-1),i=Math.sqrt(n),o=i*Math.sqrt(kse),s=r*kse,a=o>0?(s-uze)/o:null,c=t.filter(g=>g<0),l=null;if(c.length>1){let g=c.reduce((v,S)=>v+S**2,0)/c.length,y=Math.sqrt(g)*Math.sqrt(kse);l=y>0?(s-uze)/y:null}let u=uf,d=0,p=uf;for(let g of t){p+=g*uf,p>u&&(u=p);let y=u-p;y>d&&(d=y)}let f=u>0?d/u*100:0,h=f>0?e/uf*100/f:null,m=t.length>=5?-(r-1.645*i)*uf:null;return{sharpeRatio:a!==null?ne(a):null,sortinoRatio:l!==null?ne(l):null,calmarRatio:h!==null?ne(h):null,maxDrawdown:ne(d),maxDrawdownPercent:ne(f),volatility:ne(o*100),beta:null,valueAtRisk95:m!==null?ne(m):null}}function X9t(t){let e=t.filter(u=>u.side==="buy"),r=t.filter(u=>u.side==="sell");if(r.length===0)return{winRate:0,avgWin:0,avgLoss:0,profitFactor:0,largestWin:0,largestLoss:0,avgHoldTimeHours:0};let n=new Map,i=new Map;for(let u of e){let d=i.get(u.stockSymbol)??{totalCost:0,totalQty:0};d.totalCost+=parseFloat(u.usdcAmount),d.totalQty+=parseFloat(u.stockQuantity),i.set(u.stockSymbol,d)}for(let[u,d]of i)n.set(u,d.totalQty>0?d.totalCost/d.totalQty:0);let o=[],s=[],a=[];for(let u of r){let d=parseFloat(u.pricePerToken),p=n.get(u.stockSymbol)??d,f=parseFloat(u.stockQuantity),h=(d-p)*f;h>=0?o.push(h):s.push(h);let m=e.filter(g=>g.stockSymbol===u.stockSymbol&&g.createdAt<=u.createdAt).sort((g,y)=>y.createdAt.getTime()-g.createdAt.getTime())[0];m&&a.push((u.createdAt.getTime()-m.createdAt.getTime())/36e5)}let c=o.reduce((u,d)=>u+d,0),l=Math.abs(s.reduce((u,d)=>u+d,0));return{winRate:r.length>0?ne(o.length/r.length*100):0,avgWin:o.length>0?c/o.length:0,avgLoss:s.length>0?l/s.length:0,profitFactor:l>0?c/l:c>0?1/0:0,largestWin:o.length>0?Math.max(...o):0,largestLoss:s.length>0?Math.min(...s):0,avgHoldTimeHours:a.length>0?a.reduce((u,d)=>u+d,0)/a.length:0}}function Y9t(t,e,r){let n=new Map;for(let c of si)n.set(c.symbol,{symbol:c.symbol,name:c.name,totalBought:0,totalSold:0,currentPosition:0,realizedPnl:0,unrealizedPnl:0,avgBuyPrice:0,avgSellPrice:0,tradeCount:0,winRate:0});let i=new Map,o=new Map,s=new Map;for(let c of t){let l=n.get(c.stockSymbol);if(!l)continue;l.tradeCount++;let u=parseFloat(c.stockQuantity),d=parseFloat(c.pricePerToken),p=parseFloat(c.usdcAmount);if(c.side==="buy"){l.totalBought+=p;let f=i.get(c.stockSymbol)??[];f.push({qty:u,price:d}),i.set(c.stockSymbol,f);let h=f.reduce((m,g)=>m+g.qty,0);l.avgBuyPrice=h>0?f.reduce((m,g)=>m+g.qty*g.price,0)/h:0}else{l.totalSold+=p,l.avgSellPrice=l.avgSellPrice>0?(l.avgSellPrice+d)/2:d;let f=i.get(c.stockSymbol)??[],h=u,m=0;for(;h>0&&f.length>0;){let v=f[0],S=Math.min(h,v.qty);m+=S*(d-v.price),v.qty-=S,h-=S,v.qty<=1e-9&&f.shift()}l.realizedPnl+=m;let g=o.get(c.stockSymbol)??0,y=s.get(c.stockSymbol)??0;s.set(c.stockSymbol,y+1),m>=0&&o.set(c.stockSymbol,g+1)}}for(let c of e){let l=n.get(c.symbol);if(!l)continue;let u=parseFloat(c.quantity),d=parseFloat(c.averageCostBasis),p=r.get(c.symbol)??d;l.currentPosition=u,l.unrealizedPnl=(p-d)*u}for(let[c,l]of n){let u=o.get(c)??0,d=s.get(c)??0;l.winRate=d>0?ne(u/d*100):0}let a=Array.from(n.values()).filter(c=>c.tradeCount>0||c.currentPosition>0);return rze(a,"tradeCount")}function Z9t(t){let e=t.filter(a=>a.side==="sell").sort((a,c)=>a.createdAt.getTime()-c.createdAt.getTime());if(e.length===0)return{current:{type:"none",count:0},longestWin:0,longestLoss:0};let r=new Map;for(let a of t.filter(c=>c.side==="buy")){let c=r.get(a.stockSymbol),l=parseFloat(a.pricePerToken);r.set(a.stockSymbol,c?(c+l)/2:l)}let n="win",i=0,o=0,s=0;for(let a of e){let c=parseFloat(a.pricePerToken),l=r.get(a.stockSymbol)??c,d=c>=l?"win":"loss";d===n?i++:(n==="win"?o=Math.max(o,i):s=Math.max(s,i),n=d,i=1)}return n==="win"?o=Math.max(o,i):s=Math.max(s,i),{current:{type:n,count:i},longestWin:o,longestLoss:s}}function ePt(t,e){let r=Date.now(),n=i=>{let o=new Date(r-i),s=t.filter(c=>c.createdAt>=o);if(s.length===0)return null;let a=0;for(let c of s){let l=parseFloat(c.usdcAmount);a+=c.side==="sell"?l:-l}return ne(a)};return{day1:n(1440*60*1e3),day7:n(10080*60*1e3),day30:n(720*60*60*1e3),allTime:ne(e)}}function tPt(t){let e=Date.now(),r=t.filter(c=>e-c.createdAt.getTime()<1440*60*1e3),n={buy:0,sell:0,hold:0},i=new Map,o=0;for(let c of t)c.action==="buy"?n.buy++:c.action==="sell"?n.sell++:n.hold++,o+=c.confidence,c.action!=="hold"&&i.set(c.symbol,(i.get(c.symbol)??0)+1);let s=null,a=0;for(let[c,l]of i)l>a&&(a=l,s=c);return{totalDecisions:t.length,avgConfidence:t.length>0?ne(o/t.length):0,confidenceCalibration:null,decisionsLast24h:r.length,favoriteStock:s,actionDistribution:n}}var FL=null,rPt=3e4;async function nPt(){if(FL&&Date.now()-FL.fetchedAt<rPt)return FL.prices;let t=new Map;try{let n=si.map(a=>a.mintAddress).join(","),i=process.env.JUPITER_API_KEY,o={};i&&(o["x-api-key"]=i);let s=await fetch(`https://api.jup.ag/price/v3?ids=${n}`,{headers:o,signal:AbortSignal.timeout(1e4)});if(s.ok){let a=await s.json();for(let c of si){let l=a.data?.[c.mintAddress];l?.price&&t.set(c.symbol,parseFloat(l.price))}}}catch{}let e={AAPLx:178.5,AMZNx:185.2,GOOGLx:142.8,METAx:505.3,MSFTx:415.6,NVDAx:890.5,TSLAx:245.8,SPYx:502.1,QQQx:435.7,COINx:205.4,MSTRx:1685,HOODx:22.8,NFLXx:628.9,PLTRx:24.5,GMEx:17.8};for(let r of si)if(!t.has(r.symbol)){let n=e[r.symbol]??100;t.set(r.symbol,n*(1+(Math.random()-.5)*.02))}return FL={prices:t,fetchedAt:Date.now()},t}Ci();function T3(t,e,r){return!t||typeof t!="string"||t.trim().length===0?`${e} is required and cannot be empty`:r&&t.length>r?`${e} must be ${r} characters or less`:null}function Dse(t,e,r,n=1/0){if(!t)return`${e} is required`;let i=typeof t=="string"?parseFloat(t):Number(t);return isNaN(i)||i<r||i>n?n===1/0?`${e} must be a positive number`:`${e} must be a number between ${r}-${n}`:null}var pze=[{name:"get_portfolio",description:"Get your current portfolio: cash balance, positions with PnL, and total portfolio value.",parameters:{type:"object",properties:{},required:[]}},{name:"get_stock_prices",description:"Get current prices, 24h change, and volume for specific stocks or all stocks. Pass an empty symbols array to get all stocks.",parameters:{type:"object",properties:{symbols:{type:"array",description:'Stock symbols to look up (e.g. ["AAPLx","TSLAx"]). Empty array = all stocks.',items:{type:"string"}}},required:["symbols"]}},{name:"get_active_theses",description:"Get your currently active investment theses. These persist across trading rounds so you remember your reasoning.",parameters:{type:"object",properties:{},required:[]}},{name:"update_thesis",description:"Create or update an investment thesis for a stock. Records your reasoning, conviction, and price targets.",parameters:{type:"object",properties:{symbol:{type:"string",description:"Stock symbol (e.g. AAPLx)"},thesis:{type:"string",description:"Your investment thesis \u2014 why you are bullish/bearish"},conviction:{type:"string",description:"Conviction level 1-10 (as a string number)"},direction:{type:"string",description:"Your directional view",enum:["bullish","bearish","neutral"]},entry_price:{type:"string",description:"Entry price when thesis was formed (optional)"},target_price:{type:"string",description:"Target price you expect (optional)"}},required:["symbol","thesis","conviction","direction"]}},{name:"close_thesis",description:"Close an active thesis when your view has changed or you've exited the position.",parameters:{type:"object",properties:{symbol:{type:"string",description:"Stock symbol"},reason:{type:"string",description:"Why you are closing this thesis"}},required:["symbol","reason"]}},{name:"search_news",description:"Search for recent news about a stock, sector, or market topic using Brave Search. Returns 10 results with timestamps. Use freshness='ph' for past hour (breaking news) or 'pd' for past day (default). Use sources to target specific sites.",parameters:{type:"object",properties:{query:{type:"string",description:'Search query (e.g. "NVDA earnings 2026", "Apple stock news")'},freshness:{type:"string",description:'Time filter: "ph" (past hour), "pd" (past day, default), "pw" (past week), "pm" (past month)',enum:["ph","pd","pw","pm"]},sources:{type:"string",description:'Target specific sources: "news" (press releases), "social" (Reddit/X), "all" (default)',enum:["news","social","all"]}},required:["query"]}},{name:"get_technical_indicators",description:"Get technical indicators (SMA, EMA, RSI, momentum, trend) for a stock.",parameters:{type:"object",properties:{symbol:{type:"string",description:"Stock symbol (e.g. NVDAx)"}},required:["symbol"]}},{name:"get_execution_quote",description:"Get an accurate execution quote from Jupiter DEX showing exact output amount, price impact, and slippage for a specific trade size. Use this before trading to verify execution price.",parameters:{type:"object",properties:{symbol:{type:"string",description:"Stock symbol to trade (e.g. AAPLx)"},side:{type:"string",description:"Trade direction",enum:["buy","sell"]},amount:{type:"number",description:"Amount in USDC (for buys) or shares (for sells)"}},required:["symbol","side","amount"]}}];function fze(){return pze.map(t=>({name:t.name,description:t.description,input_schema:t.parameters}))}function zL(){return pze.map(t=>({type:"function",function:{name:t.name,description:t.description,parameters:t.parameters}}))}async function mze(t,e,r){switch(t){case"get_portfolio":return iPt(r);case"get_stock_prices":return oPt(e,r);case"get_active_theses":return sPt(r);case"update_thesis":return aPt(e,r);case"close_thesis":return cPt(e,r);case"search_news":return lPt(e);case"get_technical_indicators":return pPt(e);case"get_execution_quote":return fPt(e,r);default:return JSON.stringify({error:`Unknown tool: ${t}`})}}async function iPt(t){let{portfolio:e,agentId:r}=t,n={};try{let i=await dze(r),o=i.decisions.avgConfidence-i.trading.winRate*100;n={win_rate:i.trading.winRate,avg_win:i.trading.avgWin,avg_loss:i.trading.avgLoss,profit_factor:i.trading.profitFactor,current_streak:i.trading.currentStreak,total_trades:i.trading.totalTrades,avg_confidence:i.decisions.avgConfidence,overconfidence_warning:i.trading.totalTrades>=5&&o>15,confidence_gap:i.trading.totalTrades>=5?o:null}}catch{}return JSON.stringify({cash_usdc:e.cashBalance,total_portfolio_value:e.totalValue,total_pnl:e.totalPnl,total_pnl_percent:e.totalPnlPercent,position_count:e.positions.length,positions:e.positions.map(i=>({symbol:i.symbol,quantity:i.quantity,avg_cost:i.averageCostBasis,current_price:i.currentPrice,unrealized_pnl:i.unrealizedPnl,unrealized_pnl_percent:i.unrealizedPnlPercent})),performance:n})}function oPt(t,e){if(!Array.isArray(t.symbols))return JSON.stringify({error:"symbols must be an array"});let r=t.symbols,n=r.length===0?e.marketData:e.marketData.filter(i=>r.some(o=>o.toLowerCase()===i.symbol.toLowerCase()));return JSON.stringify(n.map(i=>({symbol:i.symbol,name:i.name,price:i.price,change_24h:i.change24h,volume_24h:i.volume24h})))}async function sPt(t){try{let e=await XFe(t.agentId);return JSON.stringify(e.map(r=>({symbol:r.symbol,thesis:r.thesis,conviction:r.conviction,direction:r.direction,entry_price:r.entryPrice,target_price:r.targetPrice,updated_at:r.updatedAt})))}catch{return JSON.stringify({error:"Failed to fetch theses",theses:[]})}}async function aPt(t,e){let r=T3(t.symbol,"symbol");if(r)return JSON.stringify({success:!1,error:r});let n=T3(t.thesis,"thesis",2e3);if(n)return JSON.stringify({success:!1,error:n});let i=Dse(t.conviction,"conviction",1,10);if(i)return JSON.stringify({success:!1,error:i});let o=parseInt(t.conviction,10);if(!t.direction||!["bullish","bearish","neutral"].includes(t.direction))return JSON.stringify({success:!1,error:"direction must be bullish, bearish, or neutral"});if(t.entry_price!==void 0&&t.entry_price!==null&&t.entry_price!==""){let s=Dse(t.entry_price,"entry_price",.01);if(s)return JSON.stringify({success:!1,error:s})}if(t.target_price!==void 0&&t.target_price!==null&&t.target_price!==""){let s=Dse(t.target_price,"target_price",.01);if(s)return JSON.stringify({success:!1,error:s})}try{let s=await YFe(e.agentId,{symbol:t.symbol,thesis:t.thesis,conviction:o,direction:t.direction??"neutral",entryPrice:t.entry_price,targetPrice:t.target_price});return JSON.stringify({success:!0,...s})}catch(s){return JSON.stringify({success:!1,error:He(s)})}}async function cPt(t,e){let r=T3(t.symbol,"symbol");if(r)return JSON.stringify({success:!1,error:r});let n=T3(t.reason,"reason",1e3);if(n)return JSON.stringify({success:!1,error:n});try{let i=await ZFe(e.agentId,t.symbol,t.reason);return JSON.stringify({success:!0,...i})}catch(i){return JSON.stringify({success:!1,error:He(i)})}}async function lPt(t){let e=T3(t.query,"query",500);if(e)return JSON.stringify({results:[],error:e});if(t.freshness&&!["ph","pd","pw","pm"].includes(t.freshness))return JSON.stringify({results:[],error:"freshness must be one of: ph, pd, pw, pm"});if(t.sources&&!["news","social","all"].includes(t.sources))return JSON.stringify({results:[],error:"sources must be one of: news, social, all"});let r=process.env.ALPHA_VANTAGE_API_KEY,n=process.env.BRAVE_API_KEY;if(r){let i=await uPt(t,r);if(i)return i}return n?dPt(t,n):JSON.stringify({results:[],note:"News search unavailable (no ALPHA_VANTAGE_API_KEY or BRAVE_API_KEY)"})}async function uPt(t,e){try{let r=t.query.toLowerCase(),n=null;for(let m of si){let g=m.symbol.toLowerCase(),y=m.name.toLowerCase(),v=m.symbol.replace(/x$/i,"");if(r.includes(g)||r.includes(y.toLowerCase())||r.includes(v.toLowerCase())){n=v;break}}if(!n)return null;let i=new URL("https://www.alphavantage.co/query");i.searchParams.set("function","NEWS_SENTIMENT"),i.searchParams.set("tickers",n),i.searchParams.set("limit","10"),i.searchParams.set("apikey",e);let o=await fetch(i.toString(),{signal:AbortSignal.timeout(1e4)});if(!o.ok)return null;let s=await o.json();if(s.Note||s.Information)return console.warn("[AlphaVantage] API limit or error"),null;let a=s.feed??[];if(a.length===0)return null;let c=t.freshness??"pd",l=Date.now(),u={ph:3600*1e3,pd:1440*60*1e3,pw:10080*60*1e3,pm:720*60*60*1e3}[c],p=a.filter(m=>{if(!m.time_published)return!0;try{let g=m.time_published,y=g.slice(0,4),v=g.slice(4,6),S=g.slice(6,8),w=g.slice(9,11),E=g.slice(11,13),I=g.slice(13,15),D=new Date(`${y}-${v}-${S}T${w}:${E}:${I}Z`);return l-D.getTime()<=u}catch{return!0}}).slice(0,10).map(m=>({title:m.title??"",description:(m.summary??"").slice(0,400),url:m.url??"",source:m.source??"Alpha Vantage",sentiment_score:m.overall_sentiment_score??0,sentiment_label:m.overall_sentiment_label??"Neutral"})),f=new Date().toISOString(),h={ph:"past hour",pd:"past 24 hours",pw:"past week",pm:"past month"}[c];return JSON.stringify({results:p,context:{query:t.query,ticker:n,freshness:h,currentTimestamp:f,source:"Alpha Vantage (free tier with sentiment)",note:"Results include sentiment scores (-1 to +1). Use sentiment_score for conviction adjustments."}})}catch(r){return console.warn(`[AlphaVantage] Search failed: ${He(r)}`),null}}async function dPt(t,e){let r=t.query,n=t.sources??"all";n==="news"?r=`(site:globenewswire.com OR site:prnewswire.com OR site:businesswire.com OR site:reuters.com OR site:bloomberg.com) ${r}`:n==="social"&&(r=`(site:reddit.com OR site:x.com OR site:twitter.com) ${r}`);let i=t.freshness??"pd";try{let o=new URL("https://api.search.brave.com/res/v1/web/search");o.searchParams.set("q",r),o.searchParams.set("count","15"),o.searchParams.set("freshness",i),o.searchParams.set("text_decorations","false");let s=await fetch(o.toString(),{headers:{"X-Subscription-Token":e,Accept:"application/json"},signal:AbortSignal.timeout(1e4)});if(!s.ok)return JSON.stringify({results:[],error:`Search returned ${s.status}`});let l=((await s.json()).web?.results??[]).slice(0,10).map(p=>({title:p.title??"",description:(p.description??"").slice(0,400),url:p.url??"",age:p.age??p.page_age??"unknown"})),u=new Date().toISOString(),d={ph:"past hour",pd:"past 24 hours",pw:"past week",pm:"past month"}[i];return JSON.stringify({results:l,context:{query:t.query,sources:n,freshness:d,currentTimestamp:u,source:"Brave Search (fallback)",note:`Results are from ${d}. Discard any information that contradicts current date: ${u.slice(0,10)}.`}})}catch(o){return JSON.stringify({results:[],error:He(o)})}}function pPt(t){if(!t.symbol||typeof t.symbol!="string")return JSON.stringify({error:"symbol is required"});let e=t.symbol;try{let r=cze(e);return JSON.stringify(r)}catch{return JSON.stringify({symbol:e,sma20:null,ema12:null,ema26:null,rsi14:null,momentum:null,trend:"sideways",signalStrength:50,note:"Insufficient data for indicators"})}}async function fPt(t,e){if(!t.symbol||typeof t.symbol!="string")return JSON.stringify({error:"symbol is required"});if(!t.side||!["buy","sell"].includes(t.side))return JSON.stringify({error:"side must be 'buy' or 'sell'"});if(!t.amount||typeof t.amount!="number"||t.amount<=0)return JSON.stringify({error:"amount must be a positive number"});if(!Number.isFinite(t.amount))return JSON.stringify({error:"amount must be a finite number"});if(t.amount>1e9)return JSON.stringify({error:"amount exceeds maximum (1B)"});if(t.amount<.01)return JSON.stringify({error:"amount must be at least 0.01"});let r=si.find(i=>i.symbol.toLowerCase()===t.symbol.toLowerCase());if(!r)return JSON.stringify({error:`Unknown symbol: ${t.symbol}`});let n=process.env.JUPITER_API_KEY;if(!n)return JSON.stringify({error:"Execution quotes unavailable (no JUPITER_API_KEY)",note:"Use get_stock_prices for mid-market price estimates instead."});try{let i,o,s;t.side==="buy"?(i=hv,o=r.mintAddress,s=Math.floor(t.amount*1e6).toString()):(i=r.mintAddress,o=hv,s=Math.floor(t.amount*1e8).toString());let a="11111111111111111111111111111111",c=new URL("https://api.jup.ag/ultra/v1/order");c.searchParams.set("inputMint",i),c.searchParams.set("outputMint",o),c.searchParams.set("amount",s),c.searchParams.set("taker",a);let l=await fetch(c.toString(),{headers:{Accept:"application/json","x-api-key":n},signal:AbortSignal.timeout(15e3)});if(!l.ok){let w=await l.text().catch(()=>"");try{let E=JSON.parse(w);if(E.error||E.message)return JSON.stringify({symbol:t.symbol,side:t.side,error:E.error||E.message,note:"Route not available - token may have low liquidity. Try a smaller amount."})}catch{}return JSON.stringify({error:`Jupiter quote failed: ${l.status}`,details:w.slice(0,200)})}let u=await l.json(),d=parseInt(u.inAmount,10),p=parseInt(u.outAmount,10);if(isNaN(d)||isNaN(p))return JSON.stringify({error:"Invalid quote data from Jupiter API",details:"Could not parse amounts from response"});let f,h,m;t.side==="buy"?(h=d/1e6,m=p/1e8,f=h/m):(h=d/1e8,m=p/1e6,f=m/h);let y=e.marketData.find(w=>w.symbol.toLowerCase()===t.symbol.toLowerCase())?.price??f,v=Math.abs((f-y)/y*100),S;return v>20?(S=`WARNING: Mid-market price may be stale (${y.toFixed(2)} vs effective ${f.toFixed(2)}). Price impact unreliable. Use effectivePrice as current market rate.`,v=-1):v>1?S="WARNING: High price impact (>1%). Consider smaller trade size.":S="Quote matches execution conditions. Valid for ~30 seconds.",JSON.stringify({symbol:t.symbol,side:t.side,requestedAmount:t.amount,inputAmount:h.toFixed(t.side==="buy"?2:6),outputAmount:m.toFixed(t.side==="buy"?6:2),effectivePrice:f.toFixed(4),midMarketPrice:y.toFixed(4),priceImpactPercent:v===-1?"unreliable":v.toFixed(4),slippageBps:u.slippageBps,swapType:u.swapType??"unknown",note:S})}catch(i){return JSON.stringify({symbol:t.symbol,side:t.side,error:He(i),note:"Use get_stock_prices for mid-market estimates instead."})}}var hze=`# {{AGENT_NAME}} \u2014 MoltApp Trading Agent

You are **{{AGENT_NAME}}**, an autonomous AI trading agent competing on the MoltApp benchmark. You trade tokenized equities (xStocks) on Solana mainnet via Jupiter DEX.

You are a **flagship reasoning model** \u2014 use your full analytical capabilities. Think deeply. Build sophisticated theses. Learn from your past trades.

## Your Strategy

{{STRATEGY}}

## Risk Profile

- **Risk Tolerance:** {{RISK_TOLERANCE}}
- **Preferred Sectors:** {{PREFERRED_SECTORS}}

{{CUSTOM_RULES}}

---

## Daily Trading Context

You are called **multiple times per day** (up to 6 rounds). Each round, you make **one trading decision**:
- **BUY** a stock (specify USDC amount, $1-5)
- **SELL** a stock (specify share quantity)
- **HOLD** (no action this round)

Over the course of a day, you can make up to **6 trades total** to manage your portfolio. Think like a fund manager:
- Review your entire portfolio state each round
- Decide if you want to add, trim, or exit positions
- Find new opportunities to initiate
- Hold when no action is needed

**Most rounds should be HOLDs.** Quality over quantity.

---

## Available Tools

Use these tools to gather information. **Research thoroughly before trading.**

| Tool | Purpose | When to Use |
|------|---------|-------------|
| \`get_portfolio\` | Cash, positions, P&L, total value | **FIRST** \u2014 always start here |
| \`get_active_theses\` | Your saved theses from previous rounds | **SECOND** \u2014 remember your reasoning |
| \`get_stock_prices\` | Current prices, 24h changes, volume | Scan market, check specific stocks |
| \`search_news\` | Web search via Brave (5 results) | Research catalysts, earnings, sector news |
| \`get_technical_indicators\` | SMA, EMA, RSI, momentum, trend | Check technicals before entry/exit |
| \`update_thesis\` | Create/update investment thesis | **BEFORE any BUY** \u2014 document reasoning |
| \`close_thesis\` | Close thesis with reason | **WHEN SELLING** \u2014 record why you exited |

### Tool Usage Guidelines

**get_portfolio** \u2014 Your foundation. Check this first to know:
- How much cash you have to deploy
- Which positions are up/down and by how much
- Your overall portfolio performance

**get_active_theses** \u2014 Your memory across rounds. These persist:
- Review what you believed in previous rounds
- Check if theses are still valid
- Update conviction levels as new data arrives

**search_news** \u2014 Use specific queries for best results:
- Good: "NVDA earnings Q1 2026 results"
- Good: "Apple Vision Pro sales data 2026"
- Bad: "stock news" (too vague)

**get_technical_indicators** \u2014 Provides:
- SMA20 (20-day simple moving average)
- EMA12/EMA26 (exponential moving averages)
- RSI14 (relative strength index \u2014 <30 oversold, >70 overbought)
- Momentum score and trend direction

---

## Thesis Management \u2014 Your Memory

Theses persist across trading rounds. This is how you remember your reasoning.

**Before ANY buy:**
1. Call \`update_thesis\` with your investment thesis
2. Include: symbol, thesis narrative, conviction (1-10), direction (bullish/bearish/neutral)
3. Optional: entry_price, target_price

**When selling or changing view:**
1. Call \`close_thesis\` with the reason
2. Be specific: "Thesis broken \u2014 earnings miss" not just "selling"

**Reviewing theses:**
- Start each round with \`get_active_theses\`
- Check if your reasons for holding still apply
- Update conviction levels as new information arrives
- Close theses that are no longer valid

---

## Decision Framework

### Confidence Calibration

Your confidence score should reflect the strength of your analysis:

| Score | Meaning | Required Evidence |
|-------|---------|-------------------|
| **0-49** | Weak \u2014 not enough data | Hold, need more research |
| **50-69** | Moderate \u2014 some signals | Acceptable for small positions |
| **70-84** | Strong \u2014 multiple confirming signals | Good trade zone |
| **85-100** | Very strong \u2014 exceptional setup | Rare, requires 4+ aligned signals |

**Signal Counting:**
- +15: Strong fundamental catalyst (earnings beat, major product launch)
- +10: Technical confirmation (RSI oversold + support, breakout)
- +10: Thesis alignment (fits your strategy perfectly)
- +5: Favorable sector momentum
- +5: News catalyst within 48 hours
- -10: Each contradicting signal
- -15: Thesis violation or broken thesis

### Position Sizing

- **Low conviction (50-69):** $1-2 trade size
- **Medium conviction (70-84):** $2-4 trade size
- **High conviction (85+):** $4-5 trade size (max per trade)

### When to HOLD

Holding is the right decision when:
- No opportunities meet your confidence threshold
- Your existing theses are playing out as expected
- Market conditions are unclear or volatile
- You've already made trades today and should wait

**Most rounds should be HOLDs.** Overtrading destroys returns.

---

## Platform Rules

- **$1-5 per trade** (circuit breaker enforced)
- **25% max position** in any single stock
- **6 trades max per day** across all rounds
- **10% daily loss limit** \u2014 trading halts if exceeded
- **66 xStocks available** \u2014 full list via \`get_stock_prices([])\`

---

## Response Format

Return a single trading decision as JSON (no markdown, no extra text):

\`\`\`json
{
  "action": "buy" | "sell" | "hold",
  "symbol": "STOCKx",
  "quantity": <number>,
  "reasoning": "<detailed analysis>",
  "confidence": <0-100>,
  "sources": ["<tools you called>"],
  "intent": "<momentum | value | contrarian | mean_reversion | catalyst>",
  "predictedOutcome": "<what you expect to happen>",
  "thesisStatus": "<new | updated | maintained | closed>"
}
\`\`\`

**Field Requirements:**

| Field | Buy | Sell | Hold |
|-------|-----|------|------|
| action | "buy" | "sell" | "hold" |
| symbol | Stock to buy | Stock to sell | Any stock or "PORTFOLIO" |
| quantity | USDC amount ($1-5) | Share count to sell | 0 |
| reasoning | Why buying, cite data | Why selling, cite data | Why holding |
| confidence | 0-100 | 0-100 | 0-100 |
| sources | Tools you called | Tools you called | Tools you called |
| intent | Trading intent category | Trading intent category | N/A or omit |
| predictedOutcome | Expected price/time | Expected outcome | Optional |
| thesisStatus | "new" or "updated" | "closed" | "maintained" |

---

## Example Session

Here's how a sophisticated round might flow:

\`\`\`
Turn 1: get_portfolio
  \u2192 See: $45 cash, 4 positions, +3.2% total P&L

Turn 2: get_active_theses
  \u2192 See: 3 active theses (NVDAx bullish 8/10, TSLAx bearish 6/10, AAPLx bullish 7/10)

Turn 3: get_stock_prices([])
  \u2192 Scan all 66 stocks, identify movers: AMDx +4.2%, GOOGLx -2.1%, MSFTx +1.8%

Turn 4: search_news("AMD earnings 2026")
  \u2192 Find: AMD beat estimates, raised guidance

Turn 5: get_technical_indicators("AMDx")
  \u2192 See: RSI 58, uptrend, above SMA20

Turn 6: update_thesis(symbol="AMDx", thesis="Strong earnings beat...", conviction="8", direction="bullish")
  \u2192 Thesis created

Turn 7: Return decision:
  {
    "action": "buy",
    "symbol": "AMDx",
    "quantity": 4,
    "reasoning": "AMD beat Q4 earnings by 15%, raised FY26 guidance citing AI chip demand...",
    "confidence": 82,
    "sources": ["get_portfolio", "get_active_theses", "get_stock_prices", "search_news", "get_technical_indicators"],
    "intent": "momentum",
    "predictedOutcome": "Expect 8-12% upside over next 2 weeks as market digests guidance raise",
    "thesisStatus": "new"
  }
\`\`\`

---

## Learning From Past Performance

Each round, reflect on your track record:
- Which theses played out correctly?
- Which theses were wrong and why?
- Are you overconfident or underconfident?
- What patterns lead to your best/worst trades?

Your theses from previous rounds are available via \`get_active_theses\`. Use them to build on your reasoning over time.

---

## Important Guidelines

1. **No fabrication:** Only cite data returned by your tools. If you didn't call \`search_news\`, don't claim to have read news.

2. **Thesis discipline:** Always update/create thesis before buying. Always close thesis when selling. This is your audit trail.

3. **Quality over quantity:** Most rounds should be HOLDs. One high-conviction trade beats several mediocre ones.

4. **Real money:** These are real on-chain Solana transactions. Every trade costs gas and affects real portfolio value.

5. **Be honest:** If you're uncertain, say so. A low-confidence HOLD is better than a fake high-confidence trade.

6. **Think like a PM:** You're managing a portfolio over time, not making isolated bets. Consider correlations, concentration, and overall exposure.
`;var mPt={"claude-opus-4-6":{input:15,output:75},"claude-opus-4-5-20251101":{input:15,output:75},"claude-sonnet-4-5-20251101":{input:3,output:15},"claude-haiku-4-5-20251101":{input:.25,output:1.25},"gpt-5.2":{input:30,output:120},"gpt-5.2-mini":{input:10,output:30},"gpt-5-mini":{input:5,output:15},"gpt-4o-mini":{input:.15,output:.6},"gpt-4o":{input:2.5,output:10},"grok-4":{input:10,output:30},"grok-3-beta":{input:5,output:15},"grok-beta":{input:5,output:15},"grok-4-fast":{input:5,output:15}},hPt={input:10,output:30};function gPt(t,e,r){let n=mPt[t]??hPt;return(e*n.input+r*n.output)/1e6}async function gze(t){let e=t.inputTokens+t.outputTokens,r=gPt(t.model,t.inputTokens,t.outputTokens);await Ut.insert(eL).values({roundId:t.roundId,agentId:t.agentId,model:t.model,inputTokens:t.inputTokens,outputTokens:t.outputTokens,totalTokens:e,estimatedCostUsd:r.toFixed(6)})}Ci();var yPt={AGENT_NAME:"Trading Agent",STRATEGY:"You are an autonomous AI trading agent. Develop your OWN strategy based on your research using the available tools. There are 66 tokenized stocks (xStocks) available across all sectors \u2014 tech, healthcare, finance, consumer, energy, industrials, ETFs, and more. Scan the full market each round. Build a diversified portfolio of 5-8 stocks. Document your reasoning via theses. HOLD unless your thesis changes materially or a genuinely high-conviction opportunity appears.",RISK_TOLERANCE:"moderate",PREFERRED_SECTORS:"All sectors \u2014 scan the full 66-stock universe each round",CUSTOM_RULES:""},Mse=null;function bPt(){return Mse||(Mse=hze),Mse}function vPt(t){let e=bPt(),r={...yPt,...t};for(let[n,i]of Object.entries(r))e=e.replaceAll(`{{${n}}}`,i);return e}var Lse=10,HL=25,G0=class{config;constructor(e){this.config=e}get agentId(){return this.config.agentId}get name(){return this.config.name}get model(){return this.config.model}get provider(){return this.config.provider}async analyze(e,r){try{return await this.runAgentLoop(e,r)}catch(n){let i=He(n);return console.error(`[${this.config.name}] Agent loop failed: ${i}`),this.fallbackHold(i)}}async runAgentLoop(e,r){let n=vPt(this.config.skillOverrides),i=[...e].filter(g=>g.change24h!==null).sort((g,y)=>Math.abs(y.change24h)-Math.abs(g.change24h)).slice(0,10).map(g=>`${g.symbol}: $${g.price.toFixed(2)} (${g.change24h>=0?"+":""}${g.change24h.toFixed(2)}%)`).join(", "),o=r.positions.length>0?r.positions.map(g=>`${g.symbol} (${g.unrealizedPnlPercent>=0?"+":""}${g.unrealizedPnlPercent.toFixed(1)}%)`).join(", "):"no positions yet",s=`New trading round. Top movers: ${i}. You have ${r.positions.length} positions (${o}), $${r.cashBalance.toFixed(2)} cash, $${r.totalValue.toFixed(2)} total value. Use your tools to research, then decide.`,a=this.getProviderTools(),c=this.buildInitialMessages(s),l={agentId:this.config.agentId,portfolio:r,marketData:e},u=[],d=0,p={inputTokens:0,outputTokens:0},f=async()=>{if(p.inputTokens>0||p.outputTokens>0){let g=`round_${Date.now()}`;await gze({roundId:g,agentId:this.config.agentId,model:this.config.model,inputTokens:p.inputTokens,outputTokens:p.outputTokens}).catch(y=>console.error(`[${this.config.name}] Failed to record LLM usage:`,y))}};for(let g=0;g<Lse;g++){let y=await this.callWithTools(n,c,a);if(y.usage&&(p.inputTokens+=y.usage.inputTokens,p.outputTokens+=y.usage.outputTokens),y.stopReason==="tool_use"&&y.toolCalls.length>0){if(d+y.toolCalls.length>=HL){console.log(`[${this.config.name}] Tool call limit reached (${d}/${HL}). Forcing final decision.`);let S=await this.forceDecisionTurn(n,c);if(S)return S.toolTrace=u,await f(),S;let w=this.fallbackHold(`Tool call limit reached (${HL}). Based on data gathered, holding position.`);return w.toolTrace=u,await f(),w}let v=[];for(let S of y.toolCalls){d++,console.log(`[${this.config.name}] Tool call #${d}/${HL}: ${S.name}(${JSON.stringify(S.arguments).slice(0,80)})`);let w=await mze(S.name,S.arguments,l);v.push({toolCallId:S.id,result:w}),u.push({turn:g+1,tool:S.name,arguments:S.arguments,result:w.length>2e3?w.slice(0,2e3)+"...[truncated]":w,timestamp:new Date().toISOString()})}c=this.appendToolResults(c,y,v);continue}if(y.textResponse)try{let v=this.parseLLMResponse(y.textResponse);return v.toolTrace=u,await f(),v}catch(v){if(console.warn(`[${this.config.name}] Failed to parse response on turn ${g+1}: ${He(v)}`),y.stopReason==="max_tokens"){let S=this.fallbackHold("Response truncated (max_tokens)");return S.toolTrace=u,await f(),S}if(y.stopReason==="end_turn"){let S=this.fallbackHold(`Could not parse decision: ${He(v)}`);return S.toolTrace=u,await f(),S}}if(!y.textResponse&&y.toolCalls.length===0){let v=this.fallbackHold("Empty response from LLM");return v.toolTrace=u,await f(),v}}console.log(`[${this.config.name}] Max turns exceeded (${Lse}). Forcing final decision.`);let h=await this.forceDecisionTurn(n,c);if(h)return h.toolTrace=u,await f(),h;let m=this.fallbackHold(`Max turns exceeded (${Lse})`);return m.toolTrace=u,await f(),m}parseLLMResponse(e){let r=e.trim();r.startsWith("```json")?r=r.slice(7):r.startsWith("```")&&(r=r.slice(3)),r.endsWith("```")&&(r=r.slice(0,-3)),r=r.trim();let n=r.match(/\{[\s\S]*\}/);if(!n)throw new Error(`No JSON object found in LLM response: ${e.slice(0,200)}`);let i=JSON.parse(n[0]);if(!i.action||!["buy","sell","hold"].includes(i.action))throw new Error(`Invalid action: ${i.action}`);if(!i.symbol||typeof i.symbol!="string")throw new Error(`Invalid symbol: ${i.symbol}`);(typeof i.quantity!="number"||i.quantity<0)&&(i.quantity=0),typeof i.confidence!="number"&&(i.confidence=50),i.confidence=Math.max(0,Math.min(100,i.confidence)),(!i.reasoning||typeof i.reasoning!="string")&&(i.reasoning="No reasoning provided");let o=Array.isArray(i.sources)?i.sources.filter(l=>typeof l=="string"):[],s=typeof i.intent=="string"?i.intent:void 0,a=typeof i.predictedOutcome=="string"?i.predictedOutcome:void 0,c=typeof i.thesisStatus=="string"?i.thesisStatus:void 0;return{action:i.action,symbol:i.symbol,quantity:i.quantity,reasoning:i.reasoning,confidence:i.confidence,timestamp:new Date().toISOString(),sources:o.length>0?o:void 0,intent:s,predictedOutcome:a,thesisStatus:c}}async forceDecisionTurn(e,r){let i=this.appendUserMessage(r,"IMPORTANT: You have used all available tool calls. You MUST now make your final trading decision based on ALL the data you have already gathered. Output ONLY a valid JSON object with: action (buy/sell/hold), symbol, quantity, reasoning, confidence (0-100). Do NOT call any more tools.");try{let o=await this.callWithTools(e,i,[]);if(o.textResponse)return this.parseLLMResponse(o.textResponse)}catch(o){console.warn(`[${this.config.name}] Forced decision turn failed: ${He(o)}`)}return null}fallbackHold(e){return{action:"hold",symbol:"SPYx",quantity:0,reasoning:`Agent error \u2014 defaulting to hold: ${e}`,confidence:0,timestamp:new Date().toISOString()}}};function mt(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function fe(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}var Bse=function(){let{crypto:t}=globalThis;if(t?.randomUUID)return Bse=t.randomUUID.bind(t),t.randomUUID();let e=new Uint8Array(1),r=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(+n^r()&15>>+n/4).toString(16))};function Jm(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}var R3=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){let e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};var Pt=class extends Error{},ns=class t extends Pt{constructor(e,r,n,i){super(`${t.makeMessage(e,r,n)}`),this.status=e,this.headers=i,this.requestID=i?.get("request-id"),this.error=r}static makeMessage(e,r,n){let i=r?.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,r,n,i){if(!e||!i)return new j0({message:n,cause:R3(r)});let o=r;return e===400?new Bw(e,o,n,i):e===401?new $w(e,o,n,i):e===403?new Uw(e,o,n,i):e===404?new Fw(e,o,n,i):e===409?new zw(e,o,n,i):e===422?new Hw(e,o,n,i):e===429?new Vw(e,o,n,i):e>=500?new Gw(e,o,n,i):new t(e,o,n,i)}},ws=class extends ns{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},j0=class extends ns{constructor({message:e,cause:r}){super(void 0,void 0,e||"Connection error.",void 0),r&&(this.cause=r)}},Lw=class extends j0{constructor({message:e}={}){super({message:e??"Request timed out."})}},Bw=class extends ns{},$w=class extends ns{},Uw=class extends ns{},Fw=class extends ns{},zw=class extends ns{},Hw=class extends ns{},Vw=class extends ns{},Gw=class extends ns{};var SPt=/^[a-z][a-z0-9+.-]*:/i,yze=t=>SPt.test(t),$se=t=>($se=Array.isArray,$se(t)),Use=$se;function VL(t){return typeof t!="object"?{}:t??{}}function bze(t){if(!t)return!0;for(let e in t)return!1;return!0}function vze(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var _ze=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Pt(`${t} must be an integer`);if(e<0)throw new Pt(`${t} must be a positive integer`);return e};var GL=t=>{try{return JSON.parse(t)}catch{return}};var Sze=t=>new Promise(e=>setTimeout(e,t));var q0="0.72.1";var Eze=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function xPt(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}var wPt=()=>{let t=xPt();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":q0,"X-Stainless-OS":wze(Deno.build.os),"X-Stainless-Arch":xze(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":q0,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":q0,"X-Stainless-OS":wze(globalThis.process.platform??"unknown"),"X-Stainless-Arch":xze(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};let e=APt();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":q0,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":q0,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function APt(){if(typeof navigator>"u"||!navigator)return null;let t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(let{key:e,pattern:r}of t){let n=r.exec(navigator.userAgent);if(n){let i=n[1]||0,o=n[2]||0,s=n[3]||0;return{browser:e,version:`${i}.${o}.${s}`}}}return null}var xze=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",wze=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown"),Aze,Tze=()=>Aze??(Aze=wPt());function Rze(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new Anthropic({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Fse(...t){let e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function jL(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Fse({start(){},async pull(r){let{done:n,value:i}=await e.next();n?r.close():r.enqueue(i)},async cancel(){await e.return?.()}})}function I3(t){if(t[Symbol.asyncIterator])return t;let e=t.getReader();return{async next(){try{let r=await e.read();return r?.done&&e.releaseLock(),r}catch(r){throw e.releaseLock(),r}},async return(){let r=e.cancel();return e.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Ize(t){if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await t[Symbol.asyncIterator]().return?.();return}let e=t.getReader(),r=e.cancel();e.releaseLock(),await r}var Cze=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});function Pze(t){let e=0;for(let i of t)e+=i.length;let r=new Uint8Array(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return r}var Nze;function C3(t){let e;return(Nze??(e=new globalThis.TextEncoder,Nze=e.encode.bind(e)))(t)}var Oze;function zse(t){let e;return(Oze??(e=new globalThis.TextDecoder,Oze=e.decode.bind(e)))(t)}var dl,pl,Km=class{constructor(){dl.set(this,void 0),pl.set(this,void 0),mt(this,dl,new Uint8Array,"f"),mt(this,pl,null,"f")}decode(e){if(e==null)return[];let r=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?C3(e):e;mt(this,dl,Pze([fe(this,dl,"f"),r]),"f");let n=[],i;for(;(i=RPt(fe(this,dl,"f"),fe(this,pl,"f")))!=null;){if(i.carriage&&fe(this,pl,"f")==null){mt(this,pl,i.index,"f");continue}if(fe(this,pl,"f")!=null&&(i.index!==fe(this,pl,"f")+1||i.carriage)){n.push(zse(fe(this,dl,"f").subarray(0,fe(this,pl,"f")-1))),mt(this,dl,fe(this,dl,"f").subarray(fe(this,pl,"f")),"f"),mt(this,pl,null,"f");continue}let o=fe(this,pl,"f")!==null?i.preceding-1:i.preceding,s=zse(fe(this,dl,"f").subarray(0,o));n.push(s),mt(this,dl,fe(this,dl,"f").subarray(i.index),"f"),mt(this,pl,null,"f")}return n}flush(){return fe(this,dl,"f").length?this.decode(`
`):[]}};dl=new WeakMap,pl=new WeakMap;Km.NEWLINE_CHARS=new Set([`
`,"\r"]);Km.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function RPt(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function kze(t){for(let n=0;n<t.length-1;n++){if(t[n]===10&&t[n+1]===10||t[n]===13&&t[n+1]===13)return n+2;if(t[n]===13&&t[n+1]===10&&n+3<t.length&&t[n+2]===13&&t[n+3]===10)return n+4}return-1}var WL={off:0,error:200,warn:300,info:400,debug:500},Hse=(t,e,r)=>{if(t){if(vze(WL,t))return t;is(r).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(WL))}`)}};function N3(){}function qL(t,e,r){return!e||WL[t]>WL[r]?N3:e[t].bind(e)}var IPt={error:N3,warn:N3,info:N3,debug:N3},Dze=new WeakMap;function is(t){let e=t.logger,r=t.logLevel??"off";if(!e)return IPt;let n=Dze.get(e);if(n&&n[0]===r)return n[1];let i={error:qL("error",e,r),warn:qL("warn",e,r),info:qL("info",e,r),debug:qL("debug",e,r)};return Dze.set(e,[r,i]),i}var Qm=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,r])=>[e,e.toLowerCase()==="x-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var O3,df=class t{constructor(e,r,n){this.iterator=e,O3.set(this,void 0),this.controller=r,mt(this,O3,n,"f")}static fromSSEResponse(e,r,n){let i=!1,o=n?is(n):console;async function*s(){if(i)throw new Pt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let a=!1;try{for await(let c of CPt(e,r)){if(c.event==="completion")try{yield JSON.parse(c.data)}catch(l){throw o.error("Could not parse message into JSON:",c.data),o.error("From chunk:",c.raw),l}if(c.event==="message_start"||c.event==="message_delta"||c.event==="message_stop"||c.event==="content_block_start"||c.event==="content_block_delta"||c.event==="content_block_stop")try{yield JSON.parse(c.data)}catch(l){throw o.error("Could not parse message into JSON:",c.data),o.error("From chunk:",c.raw),l}if(c.event!=="ping"&&c.event==="error")throw new ns(void 0,GL(c.data)??c.data,void 0,e.headers)}a=!0}catch(c){if(Jm(c))return;throw c}finally{a||r.abort()}}return new t(s,r,n)}static fromReadableStream(e,r,n){let i=!1;async function*o(){let a=new Km,c=I3(e);for await(let l of c)for(let u of a.decode(l))yield u;for(let l of a.flush())yield l}async function*s(){if(i)throw new Pt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let a=!1;try{for await(let c of o())a||c&&(yield JSON.parse(c));a=!0}catch(c){if(Jm(c))return;throw c}finally{a||r.abort()}}return new t(s,r,n)}[(O3=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){let e=[],r=[],n=this.iterator(),i=o=>({next:()=>{if(o.length===0){let s=n.next();e.push(s),r.push(s)}return o.shift()}});return[new t(()=>i(e),this.controller,fe(this,O3,"f")),new t(()=>i(r),this.controller,fe(this,O3,"f"))]}toReadableStream(){let e=this,r;return Fse({async start(){r=e[Symbol.asyncIterator]()},async pull(n){try{let{value:i,done:o}=await r.next();if(o)return n.close();let s=C3(JSON.stringify(i)+`
`);n.enqueue(s)}catch(i){n.error(i)}},async cancel(){await r.return?.()}})}};async function*CPt(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Pt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Pt("Attempted to iterate over a response with no body");let r=new Vse,n=new Km,i=I3(t.body);for await(let o of NPt(i))for(let s of n.decode(o)){let a=r.decode(s);a&&(yield a)}for(let o of n.flush()){let s=r.decode(o);s&&(yield s)}}async function*NPt(t){let e=new Uint8Array;for await(let r of t){if(r==null)continue;let n=r instanceof ArrayBuffer?new Uint8Array(r):typeof r=="string"?C3(r):r,i=new Uint8Array(e.length+n.length);i.set(e),i.set(n,e.length),e=i;let o;for(;(o=kze(e))!==-1;)yield e.slice(0,o),e=e.slice(o)}e.length>0&&(yield e)}var Vse=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;let o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[r,n,i]=OPt(e,":");return i.startsWith(" ")&&(i=i.substring(1)),r==="event"?this.event=i:r==="data"&&this.data.push(i),null}};function OPt(t,e){let r=t.indexOf(e);return r!==-1?[t.substring(0,r),e,t.substring(r+e.length)]:[t,"",""]}async function JL(t,e){let{response:r,requestLogID:n,retryOfRequestLogID:i,startTime:o}=e,s=await(async()=>{if(e.options.stream)return is(t).debug("response",r.status,r.url,r.headers,r.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(r,e.controller):df.fromSSEResponse(r,e.controller);if(r.status===204)return null;if(e.options.__binaryResponse)return r;let c=r.headers.get("content-type")?.split(";")[0]?.trim();if(c?.includes("application/json")||c?.endsWith("+json")){let d=await r.json();return Gse(d,r)}return await r.text()})();return is(t).debug(`[${n}] response parsed`,Qm({retryOfRequestLogID:i,url:r.url,status:r.status,body:s,durationMs:Date.now()-o})),s}function Gse(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("request-id"),enumerable:!1})}var P3,yv=class t extends Promise{constructor(e,r,n=JL){super(i=>{i(null)}),this.responsePromise=r,this.parseResponse=n,P3.set(this,void 0),mt(this,P3,e,"f")}_thenUnwrap(e){return new t(fe(this,P3,"f"),this.responsePromise,async(r,n)=>Gse(e(await this.parseResponse(r,n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){let[e,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:r,request_id:r.headers.get("request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(fe(this,P3,"f"),e))),this.parsedPromise}then(e,r){return this.parse().then(e,r)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}};P3=new WeakMap;var KL,QL=class{constructor(e,r,n,i){KL.set(this,void 0),mt(this,KL,e,"f"),this.options=i,this.response=r,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){let e=this.nextPageRequestOptions();if(!e)throw new Pt("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await fe(this,KL,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(KL=new WeakMap,Symbol.asyncIterator)](){for await(let e of this.iterPages())for(let r of e.getPaginatedItems())yield r}},k3=class extends yv{constructor(e,r,n){super(e,r,async(i,o)=>new n(i,o.response,await JL(i,o),o.options))}async*[Symbol.asyncIterator](){let e=await this;for await(let r of e)yield r}},Uu=class extends QL{constructor(e,r,n,i){super(e,r,n,i),this.data=n.data||[],this.has_more=n.has_more||!1,this.first_id=n.first_id||null,this.last_id=n.last_id||null}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){if(this.options.query?.before_id){let r=this.first_id;return r?{...this.options,query:{...VL(this.options.query),before_id:r}}:null}let e=this.last_id;return e?{...this.options,query:{...VL(this.options.query),after_id:e}}:null}};var jw=class extends QL{constructor(e,r,n,i){super(e,r,n,i),this.data=n.data||[],this.has_more=n.has_more||!1,this.next_page=n.next_page||null}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){let e=this.next_page;return e?{...this.options,query:{...VL(this.options.query),page:e}}:null}};var qse=()=>{if(typeof File>"u"){let{process:t}=globalThis,e=typeof t?.versions?.node=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(e?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function bv(t,e,r){return qse(),new File(t,e??"unknown_file",r)}function D3(t,e){let r=typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"";return e?r.split(/[\\/]/).pop()||void 0:r}var Wse=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";var qw=async(t,e,r=!0)=>({...t,body:await DPt(t.body,e,r)}),Mze=new WeakMap;function kPt(t){let e=typeof t=="function"?t:t.fetch,r=Mze.get(e);if(r)return r;let n=(async()=>{try{let i="Response"in e?e.Response:(await e("data:,")).constructor,o=new FormData;return o.toString()!==await new i(o).text()}catch{return!0}})();return Mze.set(e,n),n}var DPt=async(t,e,r=!0)=>{if(!await kPt(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");let n=new FormData;return await Promise.all(Object.entries(t||{}).map(([i,o])=>jse(n,i,o,r))),n},MPt=t=>t instanceof Blob&&"name"in t;var jse=async(t,e,r,n)=>{if(r!==void 0){if(r==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")t.append(e,String(r));else if(r instanceof Response){let i={},o=r.headers.get("Content-Type");o&&(i={type:o}),t.append(e,bv([await r.blob()],D3(r,n),i))}else if(Wse(r))t.append(e,bv([await new Response(jL(r)).blob()],D3(r,n)));else if(MPt(r))t.append(e,bv([r],D3(r,n),{type:r.type}));else if(Array.isArray(r))await Promise.all(r.map(i=>jse(t,e+"[]",i,n)));else if(typeof r=="object")await Promise.all(Object.entries(r).map(([i,o])=>jse(t,`${e}[${i}]`,o,n)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${r} instead`)}};var Lze=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",LPt=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Lze(t),BPt=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function XL(t,e,r){if(qse(),t=await t,e||(e=D3(t,!0)),LPt(t))return t instanceof File&&e==null&&r==null?t:bv([await t.arrayBuffer()],e??t.name,{type:t.type,lastModified:t.lastModified,...r});if(BPt(t)){let i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),bv(await Jse(i),e,r)}let n=await Jse(t);if(!r?.type){let i=n.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(r={...r,type:i})}return bv(n,e,r)}async function Jse(t){let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(Lze(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(Wse(t))for await(let r of t)e.push(...await Jse(r));else{let r=t?.constructor?.name;throw new Error(`Unexpected data type: ${typeof t}${r?`; constructor: ${r}`:""}${$Pt(t)}`)}return e}function $Pt(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(r=>`"${r}"`).join(", ")}]`}var hi=class{constructor(e){this._client=e}};var Bze=Symbol.for("brand.privateNullableHeaders");function*FPt(t){if(!t)return;if(Bze in t){let{values:n,nulls:i}=t;yield*n.entries();for(let o of i)yield[o,null];return}let e=!1,r;t instanceof Headers?r=t.entries():Use(t)?r=t:(e=!0,r=Object.entries(t??{}));for(let n of r){let i=n[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");let o=Use(n[1])?n[1]:[n[1]],s=!1;for(let a of o)a!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,a])}}var ir=t=>{let e=new Headers,r=new Set;for(let n of t){let i=new Set;for(let[o,s]of FPt(n)){let a=o.toLowerCase();i.has(a)||(e.delete(o),i.add(a)),s===null?(e.delete(o),r.add(a)):(e.append(o,s),r.delete(a))}}return{[Bze]:!0,values:e,nulls:r}};var M3=Symbol("anthropic.sdk.stainlessHelper");function YL(t){return typeof t=="object"&&t!==null&&M3 in t}function Kse(t,e){let r=new Set;if(t)for(let n of t)YL(n)&&r.add(n[M3]);if(e){for(let n of e)if(YL(n)&&r.add(n[M3]),Array.isArray(n.content))for(let i of n.content)YL(i)&&r.add(i[M3])}return Array.from(r)}function ZL(t,e){let r=Kse(t,e);return r.length===0?{}:{"x-stainless-helper":r.join(", ")}}function $ze(t){return YL(t)?{"x-stainless-helper":t[M3]}:{}}function Fze(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}var Uze=Object.freeze(Object.create(null)),zPt=(t=Fze)=>function(r,...n){if(r.length===1)return r[0];let i=!1,o=[],s=r.reduce((u,d,p)=>{/[?#]/.test(d)&&(i=!0);let f=n[p],h=(i?encodeURIComponent:t)(""+f);return p!==n.length&&(f==null||typeof f=="object"&&f.toString===Object.getPrototypeOf(Object.getPrototypeOf(f.hasOwnProperty??Uze)??Uze)?.toString)&&(h=f+"",o.push({start:u.length+d.length,length:h.length,error:`Value of type ${Object.prototype.toString.call(f).slice(8,-1)} is not a valid path parameter`})),u+d+(p===n.length?"":h)},""),a=s.split(/[?#]/,1)[0],c=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi,l;for(;(l=c.exec(a))!==null;)o.push({start:l.index,length:l[0].length,error:`Value "${l[0]}" can't be safely passed as a path parameter`});if(o.sort((u,d)=>u.start-d.start),o.length>0){let u=0,d=o.reduce((p,f)=>{let h=" ".repeat(f.start-u),m="^".repeat(f.length);return u=f.start+f.length,p+h+m},"");throw new Pt(`Path parameters result in path with invalid segments:
${o.map(p=>p.error).join(`
`)}
${s}
${d}`)}return s},gi=zPt(Fze);var Ww=class extends hi{list(e={},r){let{betas:n,...i}=e??{};return this._client.getAPIList("/v1/files",Uu,{query:i,...r,headers:ir([{"anthropic-beta":[...n??[],"files-api-2025-04-14"].toString()},r?.headers])})}delete(e,r={},n){let{betas:i}=r??{};return this._client.delete(gi`/v1/files/${e}`,{...n,headers:ir([{"anthropic-beta":[...i??[],"files-api-2025-04-14"].toString()},n?.headers])})}download(e,r={},n){let{betas:i}=r??{};return this._client.get(gi`/v1/files/${e}/content`,{...n,headers:ir([{"anthropic-beta":[...i??[],"files-api-2025-04-14"].toString(),Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}retrieveMetadata(e,r={},n){let{betas:i}=r??{};return this._client.get(gi`/v1/files/${e}`,{...n,headers:ir([{"anthropic-beta":[...i??[],"files-api-2025-04-14"].toString()},n?.headers])})}upload(e,r){let{betas:n,...i}=e;return this._client.post("/v1/files",qw({body:i,...r,headers:ir([{"anthropic-beta":[...n??[],"files-api-2025-04-14"].toString()},$ze(i.file),r?.headers])},this._client))}};var Jw=class extends hi{retrieve(e,r={},n){let{betas:i}=r??{};return this._client.get(gi`/v1/models/${e}?beta=true`,{...n,headers:ir([{...i?.toString()!=null?{"anthropic-beta":i?.toString()}:void 0},n?.headers])})}list(e={},r){let{betas:n,...i}=e??{};return this._client.getAPIList("/v1/models?beta=true",Uu,{query:i,...r,headers:ir([{...n?.toString()!=null?{"anthropic-beta":n?.toString()}:void 0},r?.headers])})}};var eB={"claude-opus-4-20250514":8192,"claude-opus-4-0":8192,"claude-4-opus-20250514":8192,"anthropic.claude-opus-4-20250514-v1:0":8192,"claude-opus-4@20250514":8192,"claude-opus-4-1-20250805":8192,"anthropic.claude-opus-4-1-20250805-v1:0":8192,"claude-opus-4-1@20250805":8192};function zze(t){return t?.output_format??t?.output_config?.format}function Qse(t,e,r){let n=zze(e);return!e||!("parse"in(n??{}))?{...t,content:t.content.map(i=>{if(i.type==="text"){let o=Object.defineProperty({...i},"parsed_output",{value:null,enumerable:!1});return Object.defineProperty(o,"parsed",{get(){return r.logger.warn("The `parsed` property on `text` blocks is deprecated, please use `parsed_output` instead."),null},enumerable:!1})}return i}),parsed_output:null}:Xse(t,e,r)}function Xse(t,e,r){let n=null,i=t.content.map(o=>{if(o.type==="text"){let s=GPt(e,o.text);n===null&&(n=s);let a=Object.defineProperty({...o},"parsed_output",{value:s,enumerable:!1});return Object.defineProperty(a,"parsed",{get(){return r.logger.warn("The `parsed` property on `text` blocks is deprecated, please use `parsed_output` instead."),s},enumerable:!1})}return o});return{...t,content:i,parsed_output:n}}function GPt(t,e){let r=zze(t);if(r?.type!=="json_schema")return null;try{return"parse"in r?r.parse(e):JSON.parse(e)}catch(n){throw new Pt(`Failed to parse structured output: ${n}`)}}var jPt=t=>{let e=0,r=[];for(;e<t.length;){let n=t[e];if(n==="\\"){e++;continue}if(n==="{"){r.push({type:"brace",value:"{"}),e++;continue}if(n==="}"){r.push({type:"brace",value:"}"}),e++;continue}if(n==="["){r.push({type:"paren",value:"["}),e++;continue}if(n==="]"){r.push({type:"paren",value:"]"}),e++;continue}if(n===":"){r.push({type:"separator",value:":"}),e++;continue}if(n===","){r.push({type:"delimiter",value:","}),e++;continue}if(n==='"'){let a="",c=!1;for(n=t[++e];n!=='"';){if(e===t.length){c=!0;break}if(n==="\\"){if(e++,e===t.length){c=!0;break}a+=n+t[e],n=t[++e]}else a+=n,n=t[++e]}n=t[++e],c||r.push({type:"string",value:a});continue}if(n&&/\s/.test(n)){e++;continue}let o=/[0-9]/;if(n&&o.test(n)||n==="-"||n==="."){let a="";for(n==="-"&&(a+=n,n=t[++e]);n&&o.test(n)||n===".";)a+=n,n=t[++e];r.push({type:"number",value:a});continue}let s=/[a-z]/i;if(n&&s.test(n)){let a="";for(;n&&s.test(n)&&e!==t.length;)a+=n,n=t[++e];if(a=="true"||a=="false"||a==="null")r.push({type:"name",value:a});else{e++;continue}continue}e++}return r},Kw=t=>{if(t.length===0)return t;let e=t[t.length-1];switch(e.type){case"separator":return t=t.slice(0,t.length-1),Kw(t);break;case"number":let r=e.value[e.value.length-1];if(r==="."||r==="-")return t=t.slice(0,t.length-1),Kw(t);case"string":let n=t[t.length-2];if(n?.type==="delimiter")return t=t.slice(0,t.length-1),Kw(t);if(n?.type==="brace"&&n.value==="{")return t=t.slice(0,t.length-1),Kw(t);break;case"delimiter":return t=t.slice(0,t.length-1),Kw(t);break}return t},qPt=t=>{let e=[];return t.map(r=>{r.type==="brace"&&(r.value==="{"?e.push("}"):e.splice(e.lastIndexOf("}"),1)),r.type==="paren"&&(r.value==="["?e.push("]"):e.splice(e.lastIndexOf("]"),1))}),e.length>0&&e.reverse().map(r=>{r==="}"?t.push({type:"brace",value:"}"}):r==="]"&&t.push({type:"paren",value:"]"})}),t},WPt=t=>{let e="";return t.map(r=>{switch(r.type){case"string":e+='"'+r.value+'"';break;default:e+=r.value;break}}),e},tB=t=>JSON.parse(WPt(qPt(Kw(jPt(t)))));var Fu,W0,Qw,L3,rB,B3,$3,nB,U3,Xm,F3,iB,oB,vv,sB,aB,z3,Yse,Hze,cB,Zse,eae,tae,Vze,Gze="__json_buf";function jze(t){return t.type==="tool_use"||t.type==="server_tool_use"||t.type==="mcp_tool_use"}var lB=class t{constructor(e,r){Fu.add(this),this.messages=[],this.receivedMessages=[],W0.set(this,void 0),Qw.set(this,null),this.controller=new AbortController,L3.set(this,void 0),rB.set(this,()=>{}),B3.set(this,()=>{}),$3.set(this,void 0),nB.set(this,()=>{}),U3.set(this,()=>{}),Xm.set(this,{}),F3.set(this,!1),iB.set(this,!1),oB.set(this,!1),vv.set(this,!1),sB.set(this,void 0),aB.set(this,void 0),z3.set(this,void 0),cB.set(this,n=>{if(mt(this,iB,!0,"f"),Jm(n)&&(n=new ws),n instanceof ws)return mt(this,oB,!0,"f"),this._emit("abort",n);if(n instanceof Pt)return this._emit("error",n);if(n instanceof Error){let i=new Pt(n.message);return i.cause=n,this._emit("error",i)}return this._emit("error",new Pt(String(n)))}),mt(this,L3,new Promise((n,i)=>{mt(this,rB,n,"f"),mt(this,B3,i,"f")}),"f"),mt(this,$3,new Promise((n,i)=>{mt(this,nB,n,"f"),mt(this,U3,i,"f")}),"f"),fe(this,L3,"f").catch(()=>{}),fe(this,$3,"f").catch(()=>{}),mt(this,Qw,e,"f"),mt(this,z3,r?.logger??console,"f")}get response(){return fe(this,sB,"f")}get request_id(){return fe(this,aB,"f")}async withResponse(){mt(this,vv,!0,"f");let e=await fe(this,L3,"f");if(!e)throw new Error("Could not resolve a `Response` object");return{data:this,response:e,request_id:e.headers.get("request-id")}}static fromReadableStream(e){let r=new t(null);return r._run(()=>r._fromReadableStream(e)),r}static createMessage(e,r,n,{logger:i}={}){let o=new t(r,{logger:i});for(let s of r.messages)o._addMessageParam(s);return mt(o,Qw,{...r,stream:!0},"f"),o._run(()=>o._createMessage(e,{...r,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),o}_run(e){e().then(()=>{this._emitFinal(),this._emit("end")},fe(this,cB,"f"))}_addMessageParam(e){this.messages.push(e)}_addMessage(e,r=!0){this.receivedMessages.push(e),r&&this._emit("message",e)}async _createMessage(e,r,n){let i=n?.signal,o;i&&(i.aborted&&this.controller.abort(),o=this.controller.abort.bind(this.controller),i.addEventListener("abort",o));try{fe(this,Fu,"m",Zse).call(this);let{response:s,data:a}=await e.create({...r,stream:!0},{...n,signal:this.controller.signal}).withResponse();this._connected(s);for await(let c of a)fe(this,Fu,"m",eae).call(this,c);if(a.controller.signal?.aborted)throw new ws;fe(this,Fu,"m",tae).call(this)}finally{i&&o&&i.removeEventListener("abort",o)}}_connected(e){this.ended||(mt(this,sB,e,"f"),mt(this,aB,e?.headers.get("request-id"),"f"),fe(this,rB,"f").call(this,e),this._emit("connect"))}get ended(){return fe(this,F3,"f")}get errored(){return fe(this,iB,"f")}get aborted(){return fe(this,oB,"f")}abort(){this.controller.abort()}on(e,r){return(fe(this,Xm,"f")[e]||(fe(this,Xm,"f")[e]=[])).push({listener:r}),this}off(e,r){let n=fe(this,Xm,"f")[e];if(!n)return this;let i=n.findIndex(o=>o.listener===r);return i>=0&&n.splice(i,1),this}once(e,r){return(fe(this,Xm,"f")[e]||(fe(this,Xm,"f")[e]=[])).push({listener:r,once:!0}),this}emitted(e){return new Promise((r,n)=>{mt(this,vv,!0,"f"),e!=="error"&&this.once("error",n),this.once(e,r)})}async done(){mt(this,vv,!0,"f"),await fe(this,$3,"f")}get currentMessage(){return fe(this,W0,"f")}async finalMessage(){return await this.done(),fe(this,Fu,"m",Yse).call(this)}async finalText(){return await this.done(),fe(this,Fu,"m",Hze).call(this)}_emit(e,...r){if(fe(this,F3,"f"))return;e==="end"&&(mt(this,F3,!0,"f"),fe(this,nB,"f").call(this));let n=fe(this,Xm,"f")[e];if(n&&(fe(this,Xm,"f")[e]=n.filter(i=>!i.once),n.forEach(({listener:i})=>i(...r))),e==="abort"){let i=r[0];!fe(this,vv,"f")&&!n?.length&&Promise.reject(i),fe(this,B3,"f").call(this,i),fe(this,U3,"f").call(this,i),this._emit("end");return}if(e==="error"){let i=r[0];!fe(this,vv,"f")&&!n?.length&&Promise.reject(i),fe(this,B3,"f").call(this,i),fe(this,U3,"f").call(this,i),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",fe(this,Fu,"m",Yse).call(this))}async _fromReadableStream(e,r){let n=r?.signal,i;n&&(n.aborted&&this.controller.abort(),i=this.controller.abort.bind(this.controller),n.addEventListener("abort",i));try{fe(this,Fu,"m",Zse).call(this),this._connected(null);let o=df.fromReadableStream(e,this.controller);for await(let s of o)fe(this,Fu,"m",eae).call(this,s);if(o.controller.signal?.aborted)throw new ws;fe(this,Fu,"m",tae).call(this)}finally{n&&i&&n.removeEventListener("abort",i)}}[(W0=new WeakMap,Qw=new WeakMap,L3=new WeakMap,rB=new WeakMap,B3=new WeakMap,$3=new WeakMap,nB=new WeakMap,U3=new WeakMap,Xm=new WeakMap,F3=new WeakMap,iB=new WeakMap,oB=new WeakMap,vv=new WeakMap,sB=new WeakMap,aB=new WeakMap,z3=new WeakMap,cB=new WeakMap,Fu=new WeakSet,Yse=function(){if(this.receivedMessages.length===0)throw new Pt("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},Hze=function(){if(this.receivedMessages.length===0)throw new Pt("stream ended without producing a Message with role=assistant");let r=this.receivedMessages.at(-1).content.filter(n=>n.type==="text").map(n=>n.text);if(r.length===0)throw new Pt("stream ended without producing a content block with type=text");return r.join(" ")},Zse=function(){this.ended||mt(this,W0,void 0,"f")},eae=function(r){if(this.ended)return;let n=fe(this,Fu,"m",Vze).call(this,r);switch(this._emit("streamEvent",r,n),r.type){case"content_block_delta":{let i=n.content.at(-1);switch(r.delta.type){case"text_delta":{i.type==="text"&&this._emit("text",r.delta.text,i.text||"");break}case"citations_delta":{i.type==="text"&&this._emit("citation",r.delta.citation,i.citations??[]);break}case"input_json_delta":{jze(i)&&i.input&&this._emit("inputJson",r.delta.partial_json,i.input);break}case"thinking_delta":{i.type==="thinking"&&this._emit("thinking",r.delta.thinking,i.thinking);break}case"signature_delta":{i.type==="thinking"&&this._emit("signature",i.signature);break}default:r.delta}break}case"message_stop":{this._addMessageParam(n),this._addMessage(Qse(n,fe(this,Qw,"f"),{logger:fe(this,z3,"f")}),!0);break}case"content_block_stop":{this._emit("contentBlock",n.content.at(-1));break}case"message_start":{mt(this,W0,n,"f");break}case"content_block_start":case"message_delta":break}},tae=function(){if(this.ended)throw new Pt("stream has ended, this shouldn't happen");let r=fe(this,W0,"f");if(!r)throw new Pt("request ended without sending any chunks");return mt(this,W0,void 0,"f"),Qse(r,fe(this,Qw,"f"),{logger:fe(this,z3,"f")})},Vze=function(r){let n=fe(this,W0,"f");if(r.type==="message_start"){if(n)throw new Pt(`Unexpected event order, got ${r.type} before receiving "message_stop"`);return r.message}if(!n)throw new Pt(`Unexpected event order, got ${r.type} before "message_start"`);switch(r.type){case"message_stop":return n;case"message_delta":return n.container=r.delta.container,n.stop_reason=r.delta.stop_reason,n.stop_sequence=r.delta.stop_sequence,n.usage.output_tokens=r.usage.output_tokens,n.context_management=r.context_management,r.usage.input_tokens!=null&&(n.usage.input_tokens=r.usage.input_tokens),r.usage.cache_creation_input_tokens!=null&&(n.usage.cache_creation_input_tokens=r.usage.cache_creation_input_tokens),r.usage.cache_read_input_tokens!=null&&(n.usage.cache_read_input_tokens=r.usage.cache_read_input_tokens),r.usage.server_tool_use!=null&&(n.usage.server_tool_use=r.usage.server_tool_use),n;case"content_block_start":return n.content.push(r.content_block),n;case"content_block_delta":{let i=n.content.at(r.index);switch(r.delta.type){case"text_delta":{i?.type==="text"&&(n.content[r.index]={...i,text:(i.text||"")+r.delta.text});break}case"citations_delta":{i?.type==="text"&&(n.content[r.index]={...i,citations:[...i.citations??[],r.delta.citation]});break}case"input_json_delta":{if(i&&jze(i)){let o=i[Gze]||"";o+=r.delta.partial_json;let s={...i};if(Object.defineProperty(s,Gze,{value:o,enumerable:!1,writable:!0}),o)try{s.input=tB(o)}catch(a){let c=new Pt(`Unable to parse tool parameter JSON from model. Please retry your request or adjust your prompt. Error: ${a}. JSON: ${o}`);fe(this,cB,"f").call(this,c)}n.content[r.index]=s}break}case"thinking_delta":{i?.type==="thinking"&&(n.content[r.index]={...i,thinking:i.thinking+r.delta.thinking});break}case"signature_delta":{i?.type==="thinking"&&(n.content[r.index]={...i,signature:r.delta.signature});break}default:r.delta}return n}case"content_block_stop":return n}},Symbol.asyncIterator)](){let e=[],r=[],n=!1;return this.on("streamEvent",i=>{let o=r.shift();o?o.resolve(i):e.push(i)}),this.on("end",()=>{n=!0;for(let i of r)i.resolve(void 0);r.length=0}),this.on("abort",i=>{n=!0;for(let o of r)o.reject(i);r.length=0}),this.on("error",i=>{n=!0;for(let o of r)o.reject(i);r.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((o,s)=>r.push({resolve:o,reject:s})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new df(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}};var _v=class extends Error{constructor(e){let r=typeof e=="string"?e:e.map(n=>n.type==="text"?n.text:`[${n.type}]`).join(" ");super(r),this.name="ToolError",this.content=e}};var qze=`You have been working on the task described above but have not yet completed it. Write a continuation summary that will allow you (or another instance of yourself) to resume work efficiently in a future context window where the conversation history will be replaced with this summary. Your summary should be structured, concise, and actionable. Include:
1. Task Overview
The user's core request and success criteria
Any clarifications or constraints they specified
2. Current State
What has been completed so far
Files created, modified, or analyzed (with paths if relevant)
Key outputs or artifacts produced
3. Important Discoveries
Technical constraints or requirements uncovered
Decisions made and their rationale
Errors encountered and how they were resolved
What approaches were tried that didn't work (and why)
4. Next Steps
Specific actions needed to complete the task
Any blockers or open questions to resolve
Priority order if multiple steps remain
5. Context to Preserve
User preferences or style requirements
Domain-specific details that aren't obvious
Any promises made to the user
Be concise but complete\u2014err on the side of including information that would prevent duplicate work or repeated mistakes. Write in a way that enables immediate resumption of the task.
Wrap your summary in <summary></summary> tags.`;var H3,Xw,Sv,Ho,V3,fl,Ym,J0,G3,Wze,rae;function Jze(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}}var Yw=class{constructor(e,r,n){H3.add(this),this.client=e,Xw.set(this,!1),Sv.set(this,!1),Ho.set(this,void 0),V3.set(this,void 0),fl.set(this,void 0),Ym.set(this,void 0),J0.set(this,void 0),G3.set(this,0),mt(this,Ho,{params:{...r,messages:structuredClone(r.messages)}},"f");let o=["BetaToolRunner",...Kse(r.tools,r.messages)].join(", ");mt(this,V3,{...n,headers:ir([{"x-stainless-helper":o},n?.headers])},"f"),mt(this,J0,Jze(),"f")}async*[(Xw=new WeakMap,Sv=new WeakMap,Ho=new WeakMap,V3=new WeakMap,fl=new WeakMap,Ym=new WeakMap,J0=new WeakMap,G3=new WeakMap,H3=new WeakSet,Wze=async function(){let r=fe(this,Ho,"f").params.compactionControl;if(!r||!r.enabled)return!1;let n=0;if(fe(this,fl,"f")!==void 0)try{let l=await fe(this,fl,"f");n=l.usage.input_tokens+(l.usage.cache_creation_input_tokens??0)+(l.usage.cache_read_input_tokens??0)+l.usage.output_tokens}catch{return!1}let i=r.contextTokenThreshold??1e5;if(n<i)return!1;let o=r.model??fe(this,Ho,"f").params.model,s=r.summaryPrompt??qze,a=fe(this,Ho,"f").params.messages;if(a[a.length-1].role==="assistant"){let l=a[a.length-1];if(Array.isArray(l.content)){let u=l.content.filter(d=>d.type!=="tool_use");u.length===0?a.pop():l.content=u}}let c=await this.client.beta.messages.create({model:o,messages:[...a,{role:"user",content:[{type:"text",text:s}]}],max_tokens:fe(this,Ho,"f").params.max_tokens},{headers:{"x-stainless-helper":"compaction"}});if(c.content[0]?.type!=="text")throw new Pt("Expected text response for compaction");return fe(this,Ho,"f").params.messages=[{role:"user",content:c.content}],!0},Symbol.asyncIterator)](){var e;if(fe(this,Xw,"f"))throw new Pt("Cannot iterate over a consumed stream");mt(this,Xw,!0,"f"),mt(this,Sv,!0,"f"),mt(this,Ym,void 0,"f");try{for(;;){let r;try{if(fe(this,Ho,"f").params.max_iterations&&fe(this,G3,"f")>=fe(this,Ho,"f").params.max_iterations)break;mt(this,Sv,!1,"f"),mt(this,Ym,void 0,"f"),mt(this,G3,(e=fe(this,G3,"f"),e++,e),"f"),mt(this,fl,void 0,"f");let{max_iterations:n,compactionControl:i,...o}=fe(this,Ho,"f").params;if(o.stream?(r=this.client.beta.messages.stream({...o},fe(this,V3,"f")),mt(this,fl,r.finalMessage(),"f"),fe(this,fl,"f").catch(()=>{}),yield r):(mt(this,fl,this.client.beta.messages.create({...o,stream:!1},fe(this,V3,"f")),"f"),yield fe(this,fl,"f")),!await fe(this,H3,"m",Wze).call(this)){if(!fe(this,Sv,"f")){let{role:c,content:l}=await fe(this,fl,"f");fe(this,Ho,"f").params.messages.push({role:c,content:l})}let a=await fe(this,H3,"m",rae).call(this,fe(this,Ho,"f").params.messages.at(-1));if(a)fe(this,Ho,"f").params.messages.push(a);else if(!fe(this,Sv,"f"))break}}finally{r&&r.abort()}}if(!fe(this,fl,"f"))throw new Pt("ToolRunner concluded without a message from the server");fe(this,J0,"f").resolve(await fe(this,fl,"f"))}catch(r){throw mt(this,Xw,!1,"f"),fe(this,J0,"f").promise.catch(()=>{}),fe(this,J0,"f").reject(r),mt(this,J0,Jze(),"f"),r}}setMessagesParams(e){typeof e=="function"?fe(this,Ho,"f").params=e(fe(this,Ho,"f").params):fe(this,Ho,"f").params=e,mt(this,Sv,!0,"f"),mt(this,Ym,void 0,"f")}async generateToolResponse(){let e=await fe(this,fl,"f")??this.params.messages.at(-1);return e?fe(this,H3,"m",rae).call(this,e):null}done(){return fe(this,J0,"f").promise}async runUntilDone(){if(!fe(this,Xw,"f"))for await(let e of this);return this.done()}get params(){return fe(this,Ho,"f").params}pushMessages(...e){this.setMessagesParams(r=>({...r,messages:[...r.messages,...e]}))}then(e,r){return this.runUntilDone().then(e,r)}};rae=async function(e){return fe(this,Ym,"f")!==void 0?fe(this,Ym,"f"):(mt(this,Ym,KPt(fe(this,Ho,"f").params,e),"f"),fe(this,Ym,"f"))};async function KPt(t,e=t.messages.at(-1)){if(!e||e.role!=="assistant"||!e.content||typeof e.content=="string")return null;let r=e.content.filter(i=>i.type==="tool_use");return r.length===0?null:{role:"user",content:await Promise.all(r.map(async i=>{let o=t.tools.find(s=>("name"in s?s.name:s.mcp_server_name)===i.name);if(!o||!("run"in o))return{type:"tool_result",tool_use_id:i.id,content:`Error: Tool '${i.name}' not found`,is_error:!0};try{let s=i.input;"parse"in o&&o.parse&&(s=o.parse(s));let a=await o.run(s);return{type:"tool_result",tool_use_id:i.id,content:a}}catch(s){return{type:"tool_result",tool_use_id:i.id,content:s instanceof _v?s.content:`Error: ${s instanceof Error?s.message:String(s)}`,is_error:!0}}}))}}var Zw=class t{constructor(e,r){this.iterator=e,this.controller=r}async*decoder(){let e=new Km;for await(let r of this.iterator)for(let n of e.decode(r))yield JSON.parse(n);for(let r of e.flush())yield JSON.parse(r)}[Symbol.asyncIterator](){return this.decoder()}static fromResponse(e,r){if(!e.body)throw r.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Pt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Pt("Attempted to iterate over a response with no body");return new t(I3(e.body),r)}};var eA=class extends hi{create(e,r){let{betas:n,...i}=e;return this._client.post("/v1/messages/batches?beta=true",{body:i,...r,headers:ir([{"anthropic-beta":[...n??[],"message-batches-2024-09-24"].toString()},r?.headers])})}retrieve(e,r={},n){let{betas:i}=r??{};return this._client.get(gi`/v1/messages/batches/${e}?beta=true`,{...n,headers:ir([{"anthropic-beta":[...i??[],"message-batches-2024-09-24"].toString()},n?.headers])})}list(e={},r){let{betas:n,...i}=e??{};return this._client.getAPIList("/v1/messages/batches?beta=true",Uu,{query:i,...r,headers:ir([{"anthropic-beta":[...n??[],"message-batches-2024-09-24"].toString()},r?.headers])})}delete(e,r={},n){let{betas:i}=r??{};return this._client.delete(gi`/v1/messages/batches/${e}?beta=true`,{...n,headers:ir([{"anthropic-beta":[...i??[],"message-batches-2024-09-24"].toString()},n?.headers])})}cancel(e,r={},n){let{betas:i}=r??{};return this._client.post(gi`/v1/messages/batches/${e}/cancel?beta=true`,{...n,headers:ir([{"anthropic-beta":[...i??[],"message-batches-2024-09-24"].toString()},n?.headers])})}async results(e,r={},n){let i=await this.retrieve(e);if(!i.results_url)throw new Pt(`No batch \`results_url\`; Has it finished processing? ${i.processing_status} - ${i.id}`);let{betas:o}=r??{};return this._client.get(i.results_url,{...n,headers:ir([{"anthropic-beta":[...o??[],"message-batches-2024-09-24"].toString(),Accept:"application/binary"},n?.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap((s,a)=>Zw.fromResponse(a.response,a.controller))}};var Kze={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025","claude-3-7-sonnet-latest":"February 19th, 2026","claude-3-7-sonnet-20250219":"February 19th, 2026"},Zm=class extends hi{constructor(){super(...arguments),this.batches=new eA(this._client)}create(e,r){let n=Qze(e),{betas:i,...o}=n;o.model in Kze&&console.warn(`The model '${o.model}' is deprecated and will reach end-of-life on ${Kze[o.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let s=this._client._options.timeout;if(!o.stream&&s==null){let c=eB[o.model]??void 0;s=this._client.calculateNonstreamingTimeout(o.max_tokens,c)}let a=ZL(o.tools,o.messages);return this._client.post("/v1/messages?beta=true",{body:o,timeout:s??6e5,...r,headers:ir([{...i?.toString()!=null?{"anthropic-beta":i?.toString()}:void 0},a,r?.headers]),stream:n.stream??!1})}parse(e,r){return r={...r,headers:ir([{"anthropic-beta":[...e.betas??[],"structured-outputs-2025-12-15"].toString()},r?.headers])},this.create(e,r).then(n=>Xse(n,e,{logger:this._client.logger??console}))}stream(e,r){return lB.createMessage(this,e,r)}countTokens(e,r){let n=Qze(e),{betas:i,...o}=n;return this._client.post("/v1/messages/count_tokens?beta=true",{body:o,...r,headers:ir([{"anthropic-beta":[...i??[],"token-counting-2024-11-01"].toString()},r?.headers])})}toolRunner(e,r){return new Yw(this._client,e,r)}};function Qze(t){if(!t.output_format)return t;if(t.output_config?.format)throw new Pt("Both output_format and output_config.format were provided. Please use only output_config.format (output_format is deprecated).");let{output_format:e,...r}=t;return{...r,output_config:{...t.output_config,format:e}}}Zm.Batches=eA;Zm.BetaToolRunner=Yw;Zm.ToolError=_v;var tA=class extends hi{create(e,r={},n){let{betas:i,...o}=r??{};return this._client.post(gi`/v1/skills/${e}/versions?beta=true`,qw({body:o,...n,headers:ir([{"anthropic-beta":[...i??[],"skills-2025-10-02"].toString()},n?.headers])},this._client))}retrieve(e,r,n){let{skill_id:i,betas:o}=r;return this._client.get(gi`/v1/skills/${i}/versions/${e}?beta=true`,{...n,headers:ir([{"anthropic-beta":[...o??[],"skills-2025-10-02"].toString()},n?.headers])})}list(e,r={},n){let{betas:i,...o}=r??{};return this._client.getAPIList(gi`/v1/skills/${e}/versions?beta=true`,jw,{query:o,...n,headers:ir([{"anthropic-beta":[...i??[],"skills-2025-10-02"].toString()},n?.headers])})}delete(e,r,n){let{skill_id:i,betas:o}=r;return this._client.delete(gi`/v1/skills/${i}/versions/${e}?beta=true`,{...n,headers:ir([{"anthropic-beta":[...o??[],"skills-2025-10-02"].toString()},n?.headers])})}};var xv=class extends hi{constructor(){super(...arguments),this.versions=new tA(this._client)}create(e={},r){let{betas:n,...i}=e??{};return this._client.post("/v1/skills?beta=true",qw({body:i,...r,headers:ir([{"anthropic-beta":[...n??[],"skills-2025-10-02"].toString()},r?.headers])},this._client,!1))}retrieve(e,r={},n){let{betas:i}=r??{};return this._client.get(gi`/v1/skills/${e}?beta=true`,{...n,headers:ir([{"anthropic-beta":[...i??[],"skills-2025-10-02"].toString()},n?.headers])})}list(e={},r){let{betas:n,...i}=e??{};return this._client.getAPIList("/v1/skills?beta=true",jw,{query:i,...r,headers:ir([{"anthropic-beta":[...n??[],"skills-2025-10-02"].toString()},r?.headers])})}delete(e,r={},n){let{betas:i}=r??{};return this._client.delete(gi`/v1/skills/${e}?beta=true`,{...n,headers:ir([{"anthropic-beta":[...i??[],"skills-2025-10-02"].toString()},n?.headers])})}};xv.Versions=tA;var jd=class extends hi{constructor(){super(...arguments),this.models=new Jw(this._client),this.messages=new Zm(this._client),this.files=new Ww(this._client),this.skills=new xv(this._client)}};jd.Models=Jw;jd.Messages=Zm;jd.Files=Ww;jd.Skills=xv;var wv=class extends hi{create(e,r){let{betas:n,...i}=e;return this._client.post("/v1/complete",{body:i,timeout:this._client._options.timeout??6e5,...r,headers:ir([{...n?.toString()!=null?{"anthropic-beta":n?.toString()}:void 0},r?.headers]),stream:e.stream??!1})}};function Xze(t){return t?.output_config?.format}function nae(t,e,r){let n=Xze(e);return!e||!("parse"in(n??{}))?{...t,content:t.content.map(i=>i.type==="text"?Object.defineProperty({...i},"parsed_output",{value:null,enumerable:!1}):i),parsed_output:null}:iae(t,e,r)}function iae(t,e,r){let n=null,i=t.content.map(o=>{if(o.type==="text"){let s=ekt(e,o.text);return n===null&&(n=s),Object.defineProperty({...o},"parsed_output",{value:s,enumerable:!1})}return o});return{...t,content:i,parsed_output:n}}function ekt(t,e){let r=Xze(t);if(r?.type!=="json_schema")return null;try{return"parse"in r?r.parse(e):JSON.parse(e)}catch(n){throw new Pt(`Failed to parse structured output: ${n}`)}}var zu,K0,rA,j3,uB,q3,W3,dB,J3,eh,K3,pB,fB,Av,mB,hB,Q3,oae,Yze,sae,aae,cae,lae,Zze,eHe="__json_buf";function tHe(t){return t.type==="tool_use"||t.type==="server_tool_use"}var gB=class t{constructor(e,r){zu.add(this),this.messages=[],this.receivedMessages=[],K0.set(this,void 0),rA.set(this,null),this.controller=new AbortController,j3.set(this,void 0),uB.set(this,()=>{}),q3.set(this,()=>{}),W3.set(this,void 0),dB.set(this,()=>{}),J3.set(this,()=>{}),eh.set(this,{}),K3.set(this,!1),pB.set(this,!1),fB.set(this,!1),Av.set(this,!1),mB.set(this,void 0),hB.set(this,void 0),Q3.set(this,void 0),sae.set(this,n=>{if(mt(this,pB,!0,"f"),Jm(n)&&(n=new ws),n instanceof ws)return mt(this,fB,!0,"f"),this._emit("abort",n);if(n instanceof Pt)return this._emit("error",n);if(n instanceof Error){let i=new Pt(n.message);return i.cause=n,this._emit("error",i)}return this._emit("error",new Pt(String(n)))}),mt(this,j3,new Promise((n,i)=>{mt(this,uB,n,"f"),mt(this,q3,i,"f")}),"f"),mt(this,W3,new Promise((n,i)=>{mt(this,dB,n,"f"),mt(this,J3,i,"f")}),"f"),fe(this,j3,"f").catch(()=>{}),fe(this,W3,"f").catch(()=>{}),mt(this,rA,e,"f"),mt(this,Q3,r?.logger??console,"f")}get response(){return fe(this,mB,"f")}get request_id(){return fe(this,hB,"f")}async withResponse(){mt(this,Av,!0,"f");let e=await fe(this,j3,"f");if(!e)throw new Error("Could not resolve a `Response` object");return{data:this,response:e,request_id:e.headers.get("request-id")}}static fromReadableStream(e){let r=new t(null);return r._run(()=>r._fromReadableStream(e)),r}static createMessage(e,r,n,{logger:i}={}){let o=new t(r,{logger:i});for(let s of r.messages)o._addMessageParam(s);return mt(o,rA,{...r,stream:!0},"f"),o._run(()=>o._createMessage(e,{...r,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),o}_run(e){e().then(()=>{this._emitFinal(),this._emit("end")},fe(this,sae,"f"))}_addMessageParam(e){this.messages.push(e)}_addMessage(e,r=!0){this.receivedMessages.push(e),r&&this._emit("message",e)}async _createMessage(e,r,n){let i=n?.signal,o;i&&(i.aborted&&this.controller.abort(),o=this.controller.abort.bind(this.controller),i.addEventListener("abort",o));try{fe(this,zu,"m",aae).call(this);let{response:s,data:a}=await e.create({...r,stream:!0},{...n,signal:this.controller.signal}).withResponse();this._connected(s);for await(let c of a)fe(this,zu,"m",cae).call(this,c);if(a.controller.signal?.aborted)throw new ws;fe(this,zu,"m",lae).call(this)}finally{i&&o&&i.removeEventListener("abort",o)}}_connected(e){this.ended||(mt(this,mB,e,"f"),mt(this,hB,e?.headers.get("request-id"),"f"),fe(this,uB,"f").call(this,e),this._emit("connect"))}get ended(){return fe(this,K3,"f")}get errored(){return fe(this,pB,"f")}get aborted(){return fe(this,fB,"f")}abort(){this.controller.abort()}on(e,r){return(fe(this,eh,"f")[e]||(fe(this,eh,"f")[e]=[])).push({listener:r}),this}off(e,r){let n=fe(this,eh,"f")[e];if(!n)return this;let i=n.findIndex(o=>o.listener===r);return i>=0&&n.splice(i,1),this}once(e,r){return(fe(this,eh,"f")[e]||(fe(this,eh,"f")[e]=[])).push({listener:r,once:!0}),this}emitted(e){return new Promise((r,n)=>{mt(this,Av,!0,"f"),e!=="error"&&this.once("error",n),this.once(e,r)})}async done(){mt(this,Av,!0,"f"),await fe(this,W3,"f")}get currentMessage(){return fe(this,K0,"f")}async finalMessage(){return await this.done(),fe(this,zu,"m",oae).call(this)}async finalText(){return await this.done(),fe(this,zu,"m",Yze).call(this)}_emit(e,...r){if(fe(this,K3,"f"))return;e==="end"&&(mt(this,K3,!0,"f"),fe(this,dB,"f").call(this));let n=fe(this,eh,"f")[e];if(n&&(fe(this,eh,"f")[e]=n.filter(i=>!i.once),n.forEach(({listener:i})=>i(...r))),e==="abort"){let i=r[0];!fe(this,Av,"f")&&!n?.length&&Promise.reject(i),fe(this,q3,"f").call(this,i),fe(this,J3,"f").call(this,i),this._emit("end");return}if(e==="error"){let i=r[0];!fe(this,Av,"f")&&!n?.length&&Promise.reject(i),fe(this,q3,"f").call(this,i),fe(this,J3,"f").call(this,i),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",fe(this,zu,"m",oae).call(this))}async _fromReadableStream(e,r){let n=r?.signal,i;n&&(n.aborted&&this.controller.abort(),i=this.controller.abort.bind(this.controller),n.addEventListener("abort",i));try{fe(this,zu,"m",aae).call(this),this._connected(null);let o=df.fromReadableStream(e,this.controller);for await(let s of o)fe(this,zu,"m",cae).call(this,s);if(o.controller.signal?.aborted)throw new ws;fe(this,zu,"m",lae).call(this)}finally{n&&i&&n.removeEventListener("abort",i)}}[(K0=new WeakMap,rA=new WeakMap,j3=new WeakMap,uB=new WeakMap,q3=new WeakMap,W3=new WeakMap,dB=new WeakMap,J3=new WeakMap,eh=new WeakMap,K3=new WeakMap,pB=new WeakMap,fB=new WeakMap,Av=new WeakMap,mB=new WeakMap,hB=new WeakMap,Q3=new WeakMap,sae=new WeakMap,zu=new WeakSet,oae=function(){if(this.receivedMessages.length===0)throw new Pt("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},Yze=function(){if(this.receivedMessages.length===0)throw new Pt("stream ended without producing a Message with role=assistant");let r=this.receivedMessages.at(-1).content.filter(n=>n.type==="text").map(n=>n.text);if(r.length===0)throw new Pt("stream ended without producing a content block with type=text");return r.join(" ")},aae=function(){this.ended||mt(this,K0,void 0,"f")},cae=function(r){if(this.ended)return;let n=fe(this,zu,"m",Zze).call(this,r);switch(this._emit("streamEvent",r,n),r.type){case"content_block_delta":{let i=n.content.at(-1);switch(r.delta.type){case"text_delta":{i.type==="text"&&this._emit("text",r.delta.text,i.text||"");break}case"citations_delta":{i.type==="text"&&this._emit("citation",r.delta.citation,i.citations??[]);break}case"input_json_delta":{tHe(i)&&i.input&&this._emit("inputJson",r.delta.partial_json,i.input);break}case"thinking_delta":{i.type==="thinking"&&this._emit("thinking",r.delta.thinking,i.thinking);break}case"signature_delta":{i.type==="thinking"&&this._emit("signature",i.signature);break}default:r.delta}break}case"message_stop":{this._addMessageParam(n),this._addMessage(nae(n,fe(this,rA,"f"),{logger:fe(this,Q3,"f")}),!0);break}case"content_block_stop":{this._emit("contentBlock",n.content.at(-1));break}case"message_start":{mt(this,K0,n,"f");break}case"content_block_start":case"message_delta":break}},lae=function(){if(this.ended)throw new Pt("stream has ended, this shouldn't happen");let r=fe(this,K0,"f");if(!r)throw new Pt("request ended without sending any chunks");return mt(this,K0,void 0,"f"),nae(r,fe(this,rA,"f"),{logger:fe(this,Q3,"f")})},Zze=function(r){let n=fe(this,K0,"f");if(r.type==="message_start"){if(n)throw new Pt(`Unexpected event order, got ${r.type} before receiving "message_stop"`);return r.message}if(!n)throw new Pt(`Unexpected event order, got ${r.type} before "message_start"`);switch(r.type){case"message_stop":return n;case"message_delta":return n.stop_reason=r.delta.stop_reason,n.stop_sequence=r.delta.stop_sequence,n.usage.output_tokens=r.usage.output_tokens,r.usage.input_tokens!=null&&(n.usage.input_tokens=r.usage.input_tokens),r.usage.cache_creation_input_tokens!=null&&(n.usage.cache_creation_input_tokens=r.usage.cache_creation_input_tokens),r.usage.cache_read_input_tokens!=null&&(n.usage.cache_read_input_tokens=r.usage.cache_read_input_tokens),r.usage.server_tool_use!=null&&(n.usage.server_tool_use=r.usage.server_tool_use),n;case"content_block_start":return n.content.push({...r.content_block}),n;case"content_block_delta":{let i=n.content.at(r.index);switch(r.delta.type){case"text_delta":{i?.type==="text"&&(n.content[r.index]={...i,text:(i.text||"")+r.delta.text});break}case"citations_delta":{i?.type==="text"&&(n.content[r.index]={...i,citations:[...i.citations??[],r.delta.citation]});break}case"input_json_delta":{if(i&&tHe(i)){let o=i[eHe]||"";o+=r.delta.partial_json;let s={...i};Object.defineProperty(s,eHe,{value:o,enumerable:!1,writable:!0}),o&&(s.input=tB(o)),n.content[r.index]=s}break}case"thinking_delta":{i?.type==="thinking"&&(n.content[r.index]={...i,thinking:i.thinking+r.delta.thinking});break}case"signature_delta":{i?.type==="thinking"&&(n.content[r.index]={...i,signature:r.delta.signature});break}default:r.delta}return n}case"content_block_stop":return n}},Symbol.asyncIterator)](){let e=[],r=[],n=!1;return this.on("streamEvent",i=>{let o=r.shift();o?o.resolve(i):e.push(i)}),this.on("end",()=>{n=!0;for(let i of r)i.resolve(void 0);r.length=0}),this.on("abort",i=>{n=!0;for(let o of r)o.reject(i);r.length=0}),this.on("error",i=>{n=!0;for(let o of r)o.reject(i);r.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((o,s)=>r.push({resolve:o,reject:s})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new df(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}};var nA=class extends hi{create(e,r){return this._client.post("/v1/messages/batches",{body:e,...r})}retrieve(e,r){return this._client.get(gi`/v1/messages/batches/${e}`,r)}list(e={},r){return this._client.getAPIList("/v1/messages/batches",Uu,{query:e,...r})}delete(e,r){return this._client.delete(gi`/v1/messages/batches/${e}`,r)}cancel(e,r){return this._client.post(gi`/v1/messages/batches/${e}/cancel`,r)}async results(e,r){let n=await this.retrieve(e);if(!n.results_url)throw new Pt(`No batch \`results_url\`; Has it finished processing? ${n.processing_status} - ${n.id}`);return this._client.get(n.results_url,{...r,headers:ir([{Accept:"application/binary"},r?.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap((i,o)=>Zw.fromResponse(o.response,o.controller))}};var Q0=class extends hi{constructor(){super(...arguments),this.batches=new nA(this._client)}create(e,r){e.model in rHe&&console.warn(`The model '${e.model}' is deprecated and will reach end-of-life on ${rHe[e.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let n=this._client._options.timeout;if(!e.stream&&n==null){let o=eB[e.model]??void 0;n=this._client.calculateNonstreamingTimeout(e.max_tokens,o)}let i=ZL(e.tools,e.messages);return this._client.post("/v1/messages",{body:e,timeout:n??6e5,...r,headers:ir([i,r?.headers]),stream:e.stream??!1})}parse(e,r){return this.create(e,r).then(n=>iae(n,e,{logger:this._client.logger??console}))}stream(e,r){return gB.createMessage(this,e,r,{logger:this._client.logger??console})}countTokens(e,r){return this._client.post("/v1/messages/count_tokens",{body:e,...r})}},rHe={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025","claude-3-7-sonnet-latest":"February 19th, 2026","claude-3-7-sonnet-20250219":"February 19th, 2026","claude-3-5-haiku-latest":"February 19th, 2026","claude-3-5-haiku-20241022":"February 19th, 2026"};Q0.Batches=nA;var Ev=class extends hi{retrieve(e,r={},n){let{betas:i}=r??{};return this._client.get(gi`/v1/models/${e}`,{...n,headers:ir([{...i?.toString()!=null?{"anthropic-beta":i?.toString()}:void 0},n?.headers])})}list(e={},r){let{betas:n,...i}=e??{};return this._client.getAPIList("/v1/models",Uu,{query:i,...r,headers:ir([{...n?.toString()!=null?{"anthropic-beta":n?.toString()}:void 0},r?.headers])})}};var X3=t=>{if(typeof globalThis.process<"u")return globalThis.process.env?.[t]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(t)?.trim()};var uae,dae,yB,nHe,iHe="\\n\\nHuman:",oHe="\\n\\nAssistant:",Ni=class{constructor({baseURL:e=X3("ANTHROPIC_BASE_URL"),apiKey:r=X3("ANTHROPIC_API_KEY")??null,authToken:n=X3("ANTHROPIC_AUTH_TOKEN")??null,...i}={}){uae.add(this),yB.set(this,void 0);let o={apiKey:r,authToken:n,...i,baseURL:e||"https://api.anthropic.com"};if(!o.dangerouslyAllowBrowser&&Eze())throw new Pt(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Anthropic({ apiKey, dangerouslyAllowBrowser: true });
`);this.baseURL=o.baseURL,this.timeout=o.timeout??dae.DEFAULT_TIMEOUT,this.logger=o.logger??console;let s="warn";this.logLevel=s,this.logLevel=Hse(o.logLevel,"ClientOptions.logLevel",this)??Hse(X3("ANTHROPIC_LOG"),"process.env['ANTHROPIC_LOG']",this)??s,this.fetchOptions=o.fetchOptions,this.maxRetries=o.maxRetries??2,this.fetch=o.fetch??Rze(),mt(this,yB,Cze,"f"),this._options=o,this.apiKey=typeof r=="string"?r:null,this.authToken=n}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,authToken:this.authToken,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:r}){if(!(e.get("x-api-key")||e.get("authorization"))&&!(this.apiKey&&e.get("x-api-key"))&&!r.has("x-api-key")&&!(this.authToken&&e.get("authorization"))&&!r.has("authorization"))throw new Error('Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted')}async authHeaders(e){return ir([await this.apiKeyAuth(e),await this.bearerAuth(e)])}async apiKeyAuth(e){if(this.apiKey!=null)return ir([{"X-Api-Key":this.apiKey}])}async bearerAuth(e){if(this.authToken!=null)return ir([{Authorization:`Bearer ${this.authToken}`}])}stringifyQuery(e){return Object.entries(e).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(r)}=`;throw new Pt(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${q0}`}defaultIdempotencyKey(){return`stainless-node-retry-${Bse()}`}makeStatusError(e,r,n,i){return ns.generate(e,r,n,i)}buildURL(e,r,n){let i=!fe(this,uae,"m",nHe).call(this)&&n||this.baseURL,o=yze(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return bze(s)||(r={...s,...r}),typeof r=="object"&&r&&!Array.isArray(r)&&(o.search=this.stringifyQuery(r)),o.toString()}_calculateNonstreamingTimeout(e){if(3600*e/128e3>600)throw new Pt("Streaming is required for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#streaming-responses for more details");return 600*1e3}async prepareOptions(e){}async prepareRequest(e,{url:r,options:n}){}get(e,r){return this.methodRequest("get",e,r)}post(e,r){return this.methodRequest("post",e,r)}patch(e,r){return this.methodRequest("patch",e,r)}put(e,r){return this.methodRequest("put",e,r)}delete(e,r){return this.methodRequest("delete",e,r)}methodRequest(e,r,n){return this.request(Promise.resolve(n).then(i=>({method:e,path:r,...i})))}request(e,r=null){return new yv(this,this.makeRequest(e,r,void 0))}async makeRequest(e,r,n){let i=await e,o=i.maxRetries??this.maxRetries;r==null&&(r=o),await this.prepareOptions(i);let{req:s,url:a,timeout:c}=await this.buildRequest(i,{retryCount:o-r});await this.prepareRequest(s,{url:a,options:i});let l="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),u=n===void 0?"":`, retryOf: ${n}`,d=Date.now();if(is(this).debug(`[${l}] sending request`,Qm({retryOfRequestLogID:n,method:i.method,url:a,options:i,headers:s.headers})),i.signal?.aborted)throw new ws;let p=new AbortController,f=await this.fetchWithTimeout(a,s,c,p).catch(R3),h=Date.now();if(f instanceof globalThis.Error){let y=`retrying, ${r} attempts remaining`;if(i.signal?.aborted)throw new ws;let v=Jm(f)||/timed? ?out/i.test(String(f)+("cause"in f?String(f.cause):""));if(r)return is(this).info(`[${l}] connection ${v?"timed out":"failed"} - ${y}`),is(this).debug(`[${l}] connection ${v?"timed out":"failed"} (${y})`,Qm({retryOfRequestLogID:n,url:a,durationMs:h-d,message:f.message})),this.retryRequest(i,r,n??l);throw is(this).info(`[${l}] connection ${v?"timed out":"failed"} - error; no more retries left`),is(this).debug(`[${l}] connection ${v?"timed out":"failed"} (error; no more retries left)`,Qm({retryOfRequestLogID:n,url:a,durationMs:h-d,message:f.message})),v?new Lw:new j0({cause:f})}let m=[...f.headers.entries()].filter(([y])=>y==="request-id").map(([y,v])=>", "+y+": "+JSON.stringify(v)).join(""),g=`[${l}${u}${m}] ${s.method} ${a} ${f.ok?"succeeded":"failed"} with status ${f.status} in ${h-d}ms`;if(!f.ok){let y=await this.shouldRetry(f);if(r&&y){let D=`retrying, ${r} attempts remaining`;return await Ize(f.body),is(this).info(`${g} - ${D}`),is(this).debug(`[${l}] response error (${D})`,Qm({retryOfRequestLogID:n,url:f.url,status:f.status,headers:f.headers,durationMs:h-d})),this.retryRequest(i,r,n??l,f.headers)}let v=y?"error; no more retries left":"error; not retryable";is(this).info(`${g} - ${v}`);let S=await f.text().catch(D=>R3(D).message),w=GL(S),E=w?void 0:S;throw is(this).debug(`[${l}] response error (${v})`,Qm({retryOfRequestLogID:n,url:f.url,status:f.status,headers:f.headers,message:E,durationMs:Date.now()-d})),this.makeStatusError(f.status,w,E,f.headers)}return is(this).info(g),is(this).debug(`[${l}] response start`,Qm({retryOfRequestLogID:n,url:f.url,status:f.status,headers:f.headers,durationMs:h-d})),{response:f,options:i,controller:p,requestLogID:l,retryOfRequestLogID:n,startTime:d}}getAPIList(e,r,n){return this.requestAPIList(r,{method:"get",path:e,...n})}requestAPIList(e,r){let n=this.makeRequest(r,null,void 0);return new k3(this,n,e)}async fetchWithTimeout(e,r,n,i){let{signal:o,method:s,...a}=r||{};o&&o.addEventListener("abort",()=>i.abort());let c=setTimeout(()=>i.abort(),n),l=globalThis.ReadableStream&&a.body instanceof globalThis.ReadableStream||typeof a.body=="object"&&a.body!==null&&Symbol.asyncIterator in a.body,u={signal:i.signal,...l?{duplex:"half"}:{},method:"GET",...a};s&&(u.method=s.toUpperCase());try{return await this.fetch.call(void 0,e,u)}finally{clearTimeout(c)}}async shouldRetry(e){let r=e.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,r,n,i){let o,s=i?.get("retry-after-ms");if(s){let c=parseFloat(s);Number.isNaN(c)||(o=c)}let a=i?.get("retry-after");if(a&&!o){let c=parseFloat(a);Number.isNaN(c)?o=Date.parse(a)-Date.now():o=c*1e3}if(!(o&&0<=o&&o<60*1e3)){let c=e.maxRetries??this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(r,c)}return await Sze(o),this.makeRequest(e,r-1,n)}calculateDefaultRetryTimeoutMillis(e,r){let o=r-e,s=Math.min(.5*Math.pow(2,o),8),a=1-Math.random()*.25;return s*a*1e3}calculateNonstreamingTimeout(e,r){if(36e5*e/128e3>6e5||r!=null&&e>r)throw new Pt("Streaming is required for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#long-requests for more details");return 6e5}async buildRequest(e,{retryCount:r=0}={}){let n={...e},{method:i,path:o,query:s,defaultBaseURL:a}=n,c=this.buildURL(o,s,a);"timeout"in n&&_ze("timeout",n.timeout),n.timeout=n.timeout??this.timeout;let{bodyHeaders:l,body:u}=this.buildBody({options:n}),d=await this.buildHeaders({options:e,method:i,bodyHeaders:l,retryCount:r});return{req:{method:i,headers:d,...n.signal&&{signal:n.signal},...globalThis.ReadableStream&&u instanceof globalThis.ReadableStream&&{duplex:"half"},...u&&{body:u},...this.fetchOptions??{},...n.fetchOptions??{}},url:c,timeout:n.timeout}}async buildHeaders({options:e,method:r,bodyHeaders:n,retryCount:i}){let o={};this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);let s=ir([o,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...Tze(),...this._options.dangerouslyAllowBrowser?{"anthropic-dangerous-direct-browser-access":"true"}:void 0,"anthropic-version":"2023-06-01"},await this.authHeaders(e),this._options.defaultHeaders,n,e.headers]);return this.validateHeaders(s),s.values}buildBody({options:{body:e,headers:r}}){if(!e)return{bodyHeaders:void 0,body:void 0};let n=ir([r]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&n.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:jL(e)}:fe(this,yB,"f").call(this,{body:e,headers:n})}};dae=Ni,yB=new WeakMap,uae=new WeakSet,nHe=function(){return this.baseURL!=="https://api.anthropic.com"};Ni.Anthropic=dae;Ni.HUMAN_PROMPT=iHe;Ni.AI_PROMPT=oHe;Ni.DEFAULT_TIMEOUT=6e5;Ni.AnthropicError=Pt;Ni.APIError=ns;Ni.APIConnectionError=j0;Ni.APIConnectionTimeoutError=Lw;Ni.APIUserAbortError=ws;Ni.NotFoundError=Fw;Ni.ConflictError=zw;Ni.RateLimitError=Vw;Ni.BadRequestError=Bw;Ni.AuthenticationError=$w;Ni.InternalServerError=Gw;Ni.PermissionDeniedError=Uw;Ni.UnprocessableEntityError=Hw;Ni.toFile=XL;var Ic=class extends Ni{constructor(){super(...arguments),this.completions=new wv(this),this.messages=new Q0(this),this.models=new Ev(this),this.beta=new jd(this)}};Ic.Completions=wv;Ic.Messages=Q0;Ic.Models=Ev;Ic.Beta=jd;function Ft(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function pe(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}var pae=function(){let{crypto:t}=globalThis;if(t?.randomUUID)return pae=t.randomUUID.bind(t),t.randomUUID();let e=new Uint8Array(1),r=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(+n^r()&15>>+n/4).toString(16))};function Y3(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}var Z3=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){let e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};var vt=class extends Error{},Vo=class t extends vt{constructor(e,r,n,i){super(`${t.makeMessage(e,r,n)}`),this.status=e,this.headers=i,this.requestID=i?.get("x-request-id"),this.error=r;let o=r;this.code=o?.code,this.param=o?.param,this.type=o?.type}static makeMessage(e,r,n){let i=r?.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,r,n,i){if(!e||!i)return new X0({message:n,cause:Z3(r)});let o=r?.error;return e===400?new iA(e,o,n,i):e===401?new oA(e,o,n,i):e===403?new sA(e,o,n,i):e===404?new aA(e,o,n,i):e===409?new cA(e,o,n,i):e===422?new lA(e,o,n,i):e===429?new uA(e,o,n,i):e>=500?new dA(e,o,n,i):new t(e,o,n,i)}},Co=class extends Vo{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},X0=class extends Vo{constructor({message:e,cause:r}){super(void 0,void 0,e||"Connection error.",void 0),r&&(this.cause=r)}},Y0=class extends X0{constructor({message:e}={}){super({message:e??"Request timed out."})}},iA=class extends Vo{},oA=class extends Vo{},sA=class extends Vo{},aA=class extends Vo{},cA=class extends Vo{},lA=class extends Vo{},uA=class extends Vo{},dA=class extends Vo{},pA=class extends vt{constructor(){super("Could not parse response content as the length limit was reached")}},fA=class extends vt{constructor(){super("Could not parse response content as the request was rejected by the content filter")}},pf=class extends Error{constructor(e){super(e)}};var ikt=/^[a-z][a-z0-9+.-]*:/i,sHe=t=>ikt.test(t),ia=t=>(ia=Array.isArray,ia(t)),fae=ia;function mae(t){return typeof t!="object"?{}:t??{}}function aHe(t){if(!t)return!0;for(let e in t)return!1;return!0}function cHe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function e5(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}var lHe=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new vt(`${t} must be an integer`);if(e<0)throw new vt(`${t} must be a positive integer`);return e};var uHe=t=>{try{return JSON.parse(t)}catch{return}};var ff=t=>new Promise(e=>setTimeout(e,t));var Z0="6.17.0";var mHe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function okt(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}var skt=()=>{let t=okt();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Z0,"X-Stainless-OS":pHe(Deno.build.os),"X-Stainless-Arch":dHe(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Z0,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Z0,"X-Stainless-OS":pHe(globalThis.process.platform??"unknown"),"X-Stainless-Arch":dHe(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};let e=akt();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Z0,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Z0,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function akt(){if(typeof navigator>"u"||!navigator)return null;let t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(let{key:e,pattern:r}of t){let n=r.exec(navigator.userAgent);if(n){let i=n[1]||0,o=n[2]||0,s=n[3]||0;return{browser:e,version:`${i}.${o}.${s}`}}}return null}var dHe=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",pHe=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown"),fHe,hHe=()=>fHe??(fHe=skt());function gHe(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function hae(...t){let e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function bB(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return hae({start(){},async pull(r){let{done:n,value:i}=await e.next();n?r.close():r.enqueue(i)},async cancel(){await e.return?.()}})}function gae(t){if(t[Symbol.asyncIterator])return t;let e=t.getReader();return{async next(){try{let r=await e.read();return r?.done&&e.releaseLock(),r}catch(r){throw e.releaseLock(),r}},async return(){let r=e.cancel();return e.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function yHe(t){if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await t[Symbol.asyncIterator]().return?.();return}let e=t.getReader(),r=e.cancel();e.releaseLock(),await r}var bHe=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});var vB="RFC3986",yae=t=>String(t),_B={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:yae},bae="RFC1738";var SB=(t,e)=>(SB=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),SB(t,e)),mf=(()=>{let t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})();var vae=1024,vHe=(t,e,r,n,i)=>{if(t.length===0)return t;let o=t;if(typeof t=="symbol"?o=Symbol.prototype.toString.call(t):typeof t!="string"&&(o=String(t)),r==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(a){return"%26%23"+parseInt(a.slice(2),16)+"%3B"});let s="";for(let a=0;a<o.length;a+=vae){let c=o.length>=vae?o.slice(a,a+vae):o,l=[];for(let u=0;u<c.length;++u){let d=c.charCodeAt(u);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||i===bae&&(d===40||d===41)){l[l.length]=c.charAt(u);continue}if(d<128){l[l.length]=mf[d];continue}if(d<2048){l[l.length]=mf[192|d>>6]+mf[128|d&63];continue}if(d<55296||d>=57344){l[l.length]=mf[224|d>>12]+mf[128|d>>6&63]+mf[128|d&63];continue}u+=1,d=65536+((d&1023)<<10|c.charCodeAt(u)&1023),l[l.length]=mf[240|d>>18]+mf[128|d>>12&63]+mf[128|d>>6&63]+mf[128|d&63]}s+=l.join("")}return s};function _He(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function _ae(t,e){if(ia(t)){let r=[];for(let n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)}var xHe={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},wHe=function(t,e){Array.prototype.push.apply(t,ia(e)?e:[e])},SHe,Go={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:vHe,encodeValuesOnly:!1,format:vB,formatter:yae,indices:!1,serializeDate(t){return(SHe??(SHe=Function.prototype.call.bind(Date.prototype.toISOString)))(t)},skipNulls:!1,strictNullHandling:!1};function ukt(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}var Sae={};function AHe(t,e,r,n,i,o,s,a,c,l,u,d,p,f,h,m,g,y){let v=t,S=y,w=0,E=!1;for(;(S=S.get(Sae))!==void 0&&!E;){let $=S.get(t);if(w+=1,typeof $<"u"){if($===w)throw new RangeError("Cyclic object value");E=!0}typeof S.get(Sae)>"u"&&(w=0)}if(typeof l=="function"?v=l(e,v):v instanceof Date?v=p?.(v):r==="comma"&&ia(v)&&(v=_ae(v,function($){return $ instanceof Date?p?.($):$})),v===null){if(o)return c&&!m?c(e,Go.encoder,g,"key",f):e;v=""}if(ukt(v)||_He(v)){if(c){let $=m?e:c(e,Go.encoder,g,"key",f);return[h?.($)+"="+h?.(c(v,Go.encoder,g,"value",f))]}return[h?.(e)+"="+h?.(String(v))]}let I=[];if(typeof v>"u")return I;let D;if(r==="comma"&&ia(v))m&&c&&(v=_ae(v,c)),D=[{value:v.length>0?v.join(",")||null:void 0}];else if(ia(l))D=l;else{let $=Object.keys(v);D=u?$.sort(u):$}let k=a?String(e).replace(/\./g,"%2E"):String(e),P=n&&ia(v)&&v.length===1?k+"[]":k;if(i&&ia(v)&&v.length===0)return P+"[]";for(let $=0;$<D.length;++$){let H=D[$],W=typeof H=="object"&&typeof H.value<"u"?H.value:v[H];if(s&&W===null)continue;let N=d&&a?H.replace(/\./g,"%2E"):H,_=ia(v)?typeof r=="function"?r(P,N):P:P+(d?"."+N:"["+N+"]");y.set(t,w);let x=new WeakMap;x.set(Sae,y),wHe(I,AHe(W,_,r,n,i,o,s,a,r==="comma"&&m&&ia(v)?null:c,l,u,d,p,f,h,m,g,x))}return I}function dkt(t=Go){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");let e=t.charset||Go.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let r=vB;if(typeof t.format<"u"){if(!SB(_B,t.format))throw new TypeError("Unknown format option provided.");r=t.format}let n=_B[r],i=Go.filter;(typeof t.filter=="function"||ia(t.filter))&&(i=t.filter);let o;if(t.arrayFormat&&t.arrayFormat in xHe?o=t.arrayFormat:"indices"in t?o=t.indices?"indices":"repeat":o=Go.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");let s=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:Go.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Go.addQueryPrefix,allowDots:s,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:Go.allowEmptyArrays,arrayFormat:o,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Go.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?Go.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Go.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:Go.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:Go.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Go.encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Go.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Go.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Go.strictNullHandling}}function xae(t,e={}){let r=t,n=dkt(e),i,o;typeof n.filter=="function"?(o=n.filter,r=o("",r)):ia(n.filter)&&(o=n.filter,i=o);let s=[];if(typeof r!="object"||r===null)return"";let a=xHe[n.arrayFormat],c=a==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);let l=new WeakMap;for(let p=0;p<i.length;++p){let f=i[p];n.skipNulls&&r[f]===null||wHe(s,AHe(r[f],f,a,c,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}let u=s.join(n.delimiter),d=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),u.length>0?d+u:""}function RHe(t){let e=0;for(let i of t)e+=i.length;let r=new Uint8Array(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return r}var EHe;function mA(t){let e;return(EHe??(e=new globalThis.TextEncoder,EHe=e.encode.bind(e)))(t)}var THe;function wae(t){let e;return(THe??(e=new globalThis.TextDecoder,THe=e.decode.bind(e)))(t)}var ml,hl,Tv=class{constructor(){ml.set(this,void 0),hl.set(this,void 0),Ft(this,ml,new Uint8Array,"f"),Ft(this,hl,null,"f")}decode(e){if(e==null)return[];let r=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?mA(e):e;Ft(this,ml,RHe([pe(this,ml,"f"),r]),"f");let n=[],i;for(;(i=fkt(pe(this,ml,"f"),pe(this,hl,"f")))!=null;){if(i.carriage&&pe(this,hl,"f")==null){Ft(this,hl,i.index,"f");continue}if(pe(this,hl,"f")!=null&&(i.index!==pe(this,hl,"f")+1||i.carriage)){n.push(wae(pe(this,ml,"f").subarray(0,pe(this,hl,"f")-1))),Ft(this,ml,pe(this,ml,"f").subarray(pe(this,hl,"f")),"f"),Ft(this,hl,null,"f");continue}let o=pe(this,hl,"f")!==null?i.preceding-1:i.preceding,s=wae(pe(this,ml,"f").subarray(0,o));n.push(s),Ft(this,ml,pe(this,ml,"f").subarray(i.index),"f"),Ft(this,hl,null,"f")}return n}flush(){return pe(this,ml,"f").length?this.decode(`
`):[]}};ml=new WeakMap,hl=new WeakMap;Tv.NEWLINE_CHARS=new Set([`
`,"\r"]);Tv.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function fkt(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function IHe(t){for(let n=0;n<t.length-1;n++){if(t[n]===10&&t[n+1]===10||t[n]===13&&t[n+1]===13)return n+2;if(t[n]===13&&t[n+1]===10&&n+3<t.length&&t[n+2]===13&&t[n+3]===10)return n+4}return-1}var wB={off:0,error:200,warn:300,info:400,debug:500},Aae=(t,e,r)=>{if(t){if(cHe(wB,t))return t;ro(r).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(wB))}`)}};function t5(){}function xB(t,e,r){return!e||wB[t]>wB[r]?t5:e[t].bind(e)}var mkt={error:t5,warn:t5,info:t5,debug:t5},CHe=new WeakMap;function ro(t){let e=t.logger,r=t.logLevel??"off";if(!e)return mkt;let n=CHe.get(e);if(n&&n[0]===r)return n[1];let i={error:xB("error",e,r),warn:xB("warn",e,r),info:xB("info",e,r),debug:xB("debug",e,r)};return CHe.set(e,[r,i]),i}var th=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,r])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var r5,hf=class t{constructor(e,r,n){this.iterator=e,r5.set(this,void 0),this.controller=r,Ft(this,r5,n,"f")}static fromSSEResponse(e,r,n){let i=!1,o=n?ro(n):console;async function*s(){if(i)throw new vt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let a=!1;try{for await(let c of hkt(e,r))if(!a){if(c.data.startsWith("[DONE]")){a=!0;continue}if(c.event===null||!c.event.startsWith("thread.")){let l;try{l=JSON.parse(c.data)}catch(u){throw o.error("Could not parse message into JSON:",c.data),o.error("From chunk:",c.raw),u}if(l&&l.error)throw new Vo(void 0,l.error,void 0,e.headers);yield l}else{let l;try{l=JSON.parse(c.data)}catch(u){throw console.error("Could not parse message into JSON:",c.data),console.error("From chunk:",c.raw),u}if(c.event=="error")throw new Vo(void 0,l.error,l.message,void 0);yield{event:c.event,data:l}}}a=!0}catch(c){if(Y3(c))return;throw c}finally{a||r.abort()}}return new t(s,r,n)}static fromReadableStream(e,r,n){let i=!1;async function*o(){let a=new Tv,c=gae(e);for await(let l of c)for(let u of a.decode(l))yield u;for(let l of a.flush())yield l}async function*s(){if(i)throw new vt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let a=!1;try{for await(let c of o())a||c&&(yield JSON.parse(c));a=!0}catch(c){if(Y3(c))return;throw c}finally{a||r.abort()}}return new t(s,r,n)}[(r5=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){let e=[],r=[],n=this.iterator(),i=o=>({next:()=>{if(o.length===0){let s=n.next();e.push(s),r.push(s)}return o.shift()}});return[new t(()=>i(e),this.controller,pe(this,r5,"f")),new t(()=>i(r),this.controller,pe(this,r5,"f"))]}toReadableStream(){let e=this,r;return hae({async start(){r=e[Symbol.asyncIterator]()},async pull(n){try{let{value:i,done:o}=await r.next();if(o)return n.close();let s=mA(JSON.stringify(i)+`
`);n.enqueue(s)}catch(i){n.error(i)}},async cancel(){await r.return?.()}})}};async function*hkt(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new vt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new vt("Attempted to iterate over a response with no body");let r=new Eae,n=new Tv,i=gae(t.body);for await(let o of gkt(i))for(let s of n.decode(o)){let a=r.decode(s);a&&(yield a)}for(let o of n.flush()){let s=r.decode(o);s&&(yield s)}}async function*gkt(t){let e=new Uint8Array;for await(let r of t){if(r==null)continue;let n=r instanceof ArrayBuffer?new Uint8Array(r):typeof r=="string"?mA(r):r,i=new Uint8Array(e.length+n.length);i.set(e),i.set(n,e.length),e=i;let o;for(;(o=IHe(e))!==-1;)yield e.slice(0,o),e=e.slice(o)}e.length>0&&(yield e)}var Eae=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;let o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[r,n,i]=ykt(e,":");return i.startsWith(" ")&&(i=i.substring(1)),r==="event"?this.event=i:r==="data"&&this.data.push(i),null}};function ykt(t,e){let r=t.indexOf(e);return r!==-1?[t.substring(0,r),e,t.substring(r+e.length)]:[t,"",""]}async function AB(t,e){let{response:r,requestLogID:n,retryOfRequestLogID:i,startTime:o}=e,s=await(async()=>{if(e.options.stream)return ro(t).debug("response",r.status,r.url,r.headers,r.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(r,e.controller,t):hf.fromSSEResponse(r,e.controller,t);if(r.status===204)return null;if(e.options.__binaryResponse)return r;let c=r.headers.get("content-type")?.split(";")[0]?.trim();if(c?.includes("application/json")||c?.endsWith("+json")){let d=await r.json();return Tae(d,r)}return await r.text()})();return ro(t).debug(`[${n}] response parsed`,th({retryOfRequestLogID:i,url:r.url,status:r.status,body:s,durationMs:Date.now()-o})),s}function Tae(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var n5,Rv=class t extends Promise{constructor(e,r,n=AB){super(i=>{i(null)}),this.responsePromise=r,this.parseResponse=n,n5.set(this,void 0),Ft(this,n5,e,"f")}_thenUnwrap(e){return new t(pe(this,n5,"f"),this.responsePromise,async(r,n)=>Tae(e(await this.parseResponse(r,n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){let[e,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:r,request_id:r.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(pe(this,n5,"f"),e))),this.parsedPromise}then(e,r){return this.parse().then(e,r)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}};n5=new WeakMap;var EB,i5=class{constructor(e,r,n,i){EB.set(this,void 0),Ft(this,EB,e,"f"),this.options=i,this.response=r,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){let e=this.nextPageRequestOptions();if(!e)throw new vt("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await pe(this,EB,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(EB=new WeakMap,Symbol.asyncIterator)](){for await(let e of this.iterPages())for(let r of e.getPaginatedItems())yield r}},o5=class extends Rv{constructor(e,r,n){super(e,r,async(i,o)=>new n(i,o.response,await AB(i,o),o.options))}async*[Symbol.asyncIterator](){let e=await this;for await(let r of e)yield r}},gf=class extends i5{constructor(e,r,n,i){super(e,r,n,i),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}},xr=class extends i5{constructor(e,r,n,i){super(e,r,n,i),this.data=n.data||[],this.has_more=n.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){let e=this.getPaginatedItems(),r=e[e.length-1]?.id;return r?{...this.options,query:{...mae(this.options.query),after:r}}:null}},rh=class extends i5{constructor(e,r,n,i){super(e,r,n,i),this.data=n.data||[],this.has_more=n.has_more||!1,this.last_id=n.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){let e=this.last_id;return e?{...this.options,query:{...mae(this.options.query),after:e}}:null}};var Cae=()=>{if(typeof File>"u"){let{process:t}=globalThis,e=typeof t?.versions?.node=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(e?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function hA(t,e,r){return Cae(),new File(t,e??"unknown_file",r)}function s5(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}var TB=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",Nae=async(t,e)=>Rae(t.body)?{...t,body:await OHe(t.body,e)}:t,gl=async(t,e)=>({...t,body:await OHe(t.body,e)}),NHe=new WeakMap;function vkt(t){let e=typeof t=="function"?t:t.fetch,r=NHe.get(e);if(r)return r;let n=(async()=>{try{let i="Response"in e?e.Response:(await e("data:,")).constructor,o=new FormData;return o.toString()!==await new i(o).text()}catch{return!0}})();return NHe.set(e,n),n}var OHe=async(t,e)=>{if(!await vkt(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");let r=new FormData;return await Promise.all(Object.entries(t||{}).map(([n,i])=>Iae(r,n,i))),r},PHe=t=>t instanceof Blob&&"name"in t,_kt=t=>typeof t=="object"&&t!==null&&(t instanceof Response||TB(t)||PHe(t)),Rae=t=>{if(_kt(t))return!0;if(Array.isArray(t))return t.some(Rae);if(t&&typeof t=="object"){for(let e in t)if(Rae(t[e]))return!0}return!1},Iae=async(t,e,r)=>{if(r!==void 0){if(r==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")t.append(e,String(r));else if(r instanceof Response)t.append(e,hA([await r.blob()],s5(r)));else if(TB(r))t.append(e,hA([await new Response(bB(r)).blob()],s5(r)));else if(PHe(r))t.append(e,r,s5(r));else if(Array.isArray(r))await Promise.all(r.map(n=>Iae(t,e+"[]",n)));else if(typeof r=="object")await Promise.all(Object.entries(r).map(([n,i])=>Iae(t,`${e}[${n}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${r} instead`)}};var kHe=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Skt=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&kHe(t),xkt=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function RB(t,e,r){if(Cae(),t=await t,Skt(t))return t instanceof File?t:hA([await t.arrayBuffer()],t.name);if(xkt(t)){let i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),hA(await Oae(i),e,r)}let n=await Oae(t);if(e||(e=s5(t)),!r?.type){let i=n.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(r={...r,type:i})}return hA(n,e,r)}async function Oae(t){let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(kHe(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(TB(t))for await(let r of t)e.push(...await Oae(r));else{let r=t?.constructor?.name;throw new Error(`Unexpected data type: ${typeof t}${r?`; constructor: ${r}`:""}${wkt(t)}`)}return e}function wkt(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(r=>`"${r}"`).join(", ")}]`}var Pe=class{constructor(e){this._client=e}};function MHe(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}var DHe=Object.freeze(Object.create(null)),Ekt=(t=MHe)=>function(r,...n){if(r.length===1)return r[0];let i=!1,o=[],s=r.reduce((u,d,p)=>{/[?#]/.test(d)&&(i=!0);let f=n[p],h=(i?encodeURIComponent:t)(""+f);return p!==n.length&&(f==null||typeof f=="object"&&f.toString===Object.getPrototypeOf(Object.getPrototypeOf(f.hasOwnProperty??DHe)??DHe)?.toString)&&(h=f+"",o.push({start:u.length+d.length,length:h.length,error:`Value of type ${Object.prototype.toString.call(f).slice(8,-1)} is not a valid path parameter`})),u+d+(p===n.length?"":h)},""),a=s.split(/[?#]/,1)[0],c=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi,l;for(;(l=c.exec(a))!==null;)o.push({start:l.index,length:l[0].length,error:`Value "${l[0]}" can't be safely passed as a path parameter`});if(o.sort((u,d)=>u.start-d.start),o.length>0){let u=0,d=o.reduce((p,f)=>{let h=" ".repeat(f.start-u),m="^".repeat(f.length);return u=f.start+f.length,p+h+m},"");throw new vt(`Path parameters result in path with invalid segments:
${o.map(p=>p.error).join(`
`)}
${s}
${d}`)}return s},Ie=Ekt(MHe);var Iv=class extends Pe{list(e,r={},n){return this._client.getAPIList(Ie`/chat/completions/${e}/messages`,xr,{query:r,...n})}};function a5(t){return t!==void 0&&"function"in t&&t.function!==void 0}function c5(t){return t?.$brand==="auto-parseable-response-format"}function Cv(t){return t?.$brand==="auto-parseable-tool"}function LHe(t,e){return!e||!Pae(e)?{...t,choices:t.choices.map(r=>($He(r.message.tool_calls),{...r,message:{...r.message,parsed:null,...r.message.tool_calls?{tool_calls:r.message.tool_calls}:void 0}}))}:l5(t,e)}function l5(t,e){let r=t.choices.map(n=>{if(n.finish_reason==="length")throw new pA;if(n.finish_reason==="content_filter")throw new fA;return $He(n.message.tool_calls),{...n,message:{...n.message,...n.message.tool_calls?{tool_calls:n.message.tool_calls?.map(i=>Ckt(e,i))??void 0}:void 0,parsed:n.message.content&&!n.message.refusal?Ikt(e,n.message.content):null}}});return{...t,choices:r}}function Ikt(t,e){return t.response_format?.type!=="json_schema"?null:t.response_format?.type==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function Ckt(t,e){let r=t.tools?.find(n=>a5(n)&&n.function?.name===e.function.name);return{...e,function:{...e.function,parsed_arguments:Cv(r)?r.$parseRaw(e.function.arguments):r?.function.strict?JSON.parse(e.function.arguments):null}}}function BHe(t,e){if(!t||!("tools"in t)||!t.tools)return!1;let r=t.tools?.find(n=>a5(n)&&n.function?.name===e.function.name);return a5(r)&&(Cv(r)||r?.function.strict||!1)}function Pae(t){return c5(t.response_format)?!0:t.tools?.some(e=>Cv(e)||e.type==="function"&&e.function.strict===!0)??!1}function $He(t){for(let e of t||[])if(e.type!=="function")throw new vt(`Currently only \`function\` tool calls are supported; Received \`${e.type}\``)}function UHe(t){for(let e of t??[]){if(e.type!=="function")throw new vt(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new vt(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var gA=t=>t?.role==="assistant",kae=t=>t?.role==="tool";var Dae,IB,CB,u5,d5,NB,p5,nh,f5,OB,PB,yA,FHe,e1=class{constructor(){Dae.add(this),this.controller=new AbortController,IB.set(this,void 0),CB.set(this,()=>{}),u5.set(this,()=>{}),d5.set(this,void 0),NB.set(this,()=>{}),p5.set(this,()=>{}),nh.set(this,{}),f5.set(this,!1),OB.set(this,!1),PB.set(this,!1),yA.set(this,!1),Ft(this,IB,new Promise((e,r)=>{Ft(this,CB,e,"f"),Ft(this,u5,r,"f")}),"f"),Ft(this,d5,new Promise((e,r)=>{Ft(this,NB,e,"f"),Ft(this,p5,r,"f")}),"f"),pe(this,IB,"f").catch(()=>{}),pe(this,d5,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},pe(this,Dae,"m",FHe).bind(this))},0)}_connected(){this.ended||(pe(this,CB,"f").call(this),this._emit("connect"))}get ended(){return pe(this,f5,"f")}get errored(){return pe(this,OB,"f")}get aborted(){return pe(this,PB,"f")}abort(){this.controller.abort()}on(e,r){return(pe(this,nh,"f")[e]||(pe(this,nh,"f")[e]=[])).push({listener:r}),this}off(e,r){let n=pe(this,nh,"f")[e];if(!n)return this;let i=n.findIndex(o=>o.listener===r);return i>=0&&n.splice(i,1),this}once(e,r){return(pe(this,nh,"f")[e]||(pe(this,nh,"f")[e]=[])).push({listener:r,once:!0}),this}emitted(e){return new Promise((r,n)=>{Ft(this,yA,!0,"f"),e!=="error"&&this.once("error",n),this.once(e,r)})}async done(){Ft(this,yA,!0,"f"),await pe(this,d5,"f")}_emit(e,...r){if(pe(this,f5,"f"))return;e==="end"&&(Ft(this,f5,!0,"f"),pe(this,NB,"f").call(this));let n=pe(this,nh,"f")[e];if(n&&(pe(this,nh,"f")[e]=n.filter(i=>!i.once),n.forEach(({listener:i})=>i(...r))),e==="abort"){let i=r[0];!pe(this,yA,"f")&&!n?.length&&Promise.reject(i),pe(this,u5,"f").call(this,i),pe(this,p5,"f").call(this,i),this._emit("end");return}if(e==="error"){let i=r[0];!pe(this,yA,"f")&&!n?.length&&Promise.reject(i),pe(this,u5,"f").call(this,i),pe(this,p5,"f").call(this,i),this._emit("end")}}_emitFinal(){}};IB=new WeakMap,CB=new WeakMap,u5=new WeakMap,d5=new WeakMap,NB=new WeakMap,p5=new WeakMap,nh=new WeakMap,f5=new WeakMap,OB=new WeakMap,PB=new WeakMap,yA=new WeakMap,Dae=new WeakSet,FHe=function(e){if(Ft(this,OB,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new Co),e instanceof Co)return Ft(this,PB,!0,"f"),this._emit("abort",e);if(e instanceof vt)return this._emit("error",e);if(e instanceof Error){let r=new vt(e.message);return r.cause=e,this._emit("error",r)}return this._emit("error",new vt(String(e)))};function zHe(t){return typeof t.parse=="function"}var ka,Mae,kB,Lae,Bae,$ae,HHe,VHe,Nkt=10,bA=class extends e1{constructor(){super(...arguments),ka.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);let r=e.choices[0]?.message;return r&&this._addMessage(r),e}_addMessage(e,r=!0){if("content"in e||(e.content=null),this.messages.push(e),r){if(this._emit("message",e),kae(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(gA(e)&&e.tool_calls)for(let n of e.tool_calls)n.type==="function"&&this._emit("functionToolCall",n.function)}}async finalChatCompletion(){await this.done();let e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new vt("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),pe(this,ka,"m",Mae).call(this)}async finalMessage(){return await this.done(),pe(this,ka,"m",kB).call(this)}async finalFunctionToolCall(){return await this.done(),pe(this,ka,"m",Lae).call(this)}async finalFunctionToolCallResult(){return await this.done(),pe(this,ka,"m",Bae).call(this)}async totalUsage(){return await this.done(),pe(this,ka,"m",$ae).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){let e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);let r=pe(this,ka,"m",kB).call(this);r&&this._emit("finalMessage",r);let n=pe(this,ka,"m",Mae).call(this);n&&this._emit("finalContent",n);let i=pe(this,ka,"m",Lae).call(this);i&&this._emit("finalFunctionToolCall",i);let o=pe(this,ka,"m",Bae).call(this);o!=null&&this._emit("finalFunctionToolCallResult",o),this._chatCompletions.some(s=>s.usage)&&this._emit("totalUsage",pe(this,ka,"m",$ae).call(this))}async _createChatCompletion(e,r,n){let i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),pe(this,ka,"m",HHe).call(this,r);let o=await e.chat.completions.create({...r,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion(l5(o,r))}async _runChatCompletion(e,r,n){for(let i of r.messages)this._addMessage(i,!1);return await this._createChatCompletion(e,r,n)}async _runTools(e,r,n){let i="tool",{tool_choice:o="auto",stream:s,...a}=r,c=typeof o!="string"&&o.type==="function"&&o?.function?.name,{maxChatCompletions:l=Nkt}=n||{},u=r.tools.map(f=>{if(Cv(f)){if(!f.$callback)throw new vt("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:f.$callback,name:f.function.name,description:f.function.description||"",parameters:f.function.parameters,parse:f.$parseRaw,strict:!0}}}return f}),d={};for(let f of u)f.type==="function"&&(d[f.function.name||f.function.function.name]=f.function);let p="tools"in r?u.map(f=>f.type==="function"?{type:"function",function:{name:f.function.name||f.function.function.name,parameters:f.function.parameters,description:f.function.description,strict:f.function.strict}}:f):void 0;for(let f of r.messages)this._addMessage(f,!1);for(let f=0;f<l;++f){let m=(await this._createChatCompletion(e,{...a,tool_choice:o,tools:p,messages:[...this.messages]},n)).choices[0]?.message;if(!m)throw new vt("missing message in ChatCompletion response");if(!m.tool_calls?.length)return;for(let g of m.tool_calls){if(g.type!=="function")continue;let y=g.id,{name:v,arguments:S}=g.function,w=d[v];if(w){if(c&&c!==v){let k=`Invalid tool_call: ${JSON.stringify(v)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:i,tool_call_id:y,content:k});continue}}else{let k=`Invalid tool_call: ${JSON.stringify(v)}. Available options are: ${Object.keys(d).map(P=>JSON.stringify(P)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:y,content:k});continue}let E;try{E=zHe(w)?await w.parse(S):S}catch(k){let P=k instanceof Error?k.message:String(k);this._addMessage({role:i,tool_call_id:y,content:P});continue}let I=await w.function(E,this),D=pe(this,ka,"m",VHe).call(this,I);if(this._addMessage({role:i,tool_call_id:y,content:D}),c)return}}}};ka=new WeakSet,Mae=function(){return pe(this,ka,"m",kB).call(this).content??null},kB=function(){let e=this.messages.length;for(;e-- >0;){let r=this.messages[e];if(gA(r))return{...r,content:r.content??null,refusal:r.refusal??null}}throw new vt("stream ended without producing a ChatCompletionMessage with role=assistant")},Lae=function(){for(let e=this.messages.length-1;e>=0;e--){let r=this.messages[e];if(gA(r)&&r?.tool_calls?.length)return r.tool_calls.filter(n=>n.type==="function").at(-1)?.function}},Bae=function(){for(let e=this.messages.length-1;e>=0;e--){let r=this.messages[e];if(kae(r)&&r.content!=null&&typeof r.content=="string"&&this.messages.some(n=>n.role==="assistant"&&n.tool_calls?.some(i=>i.type==="function"&&i.id===r.tool_call_id)))return r.content}},$ae=function(){let e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(let{usage:r}of this._chatCompletions)r&&(e.completion_tokens+=r.completion_tokens,e.prompt_tokens+=r.prompt_tokens,e.total_tokens+=r.total_tokens);return e},HHe=function(e){if(e.n!=null&&e.n>1)throw new vt("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},VHe=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};var m5=class t extends bA{static runTools(e,r,n){let i=new t,o={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,r,o)),i}_addMessage(e,r=!0){super._addMessage(e,r),gA(e)&&e.content&&this._emit("content",e.content)}};var os={STR:1,NUM:2,ARR:4,OBJ:8,NULL:16,BOOL:32,NAN:64,INFINITY:128,MINUS_INFINITY:256,INF:384,SPECIAL:496,ATOM:499,COLLECTION:12,ALL:511},Uae=class extends Error{},Fae=class extends Error{};function Okt(t,e=os.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return Pkt(t.trim(),e)}var Pkt=(t,e)=>{let r=t.length,n=0,i=p=>{throw new Uae(`${p} at position ${n}`)},o=p=>{throw new Fae(`${p} at position ${n}`)},s=()=>(d(),n>=r&&i("Unexpected end of input"),t[n]==='"'?a():t[n]==="{"?c():t[n]==="["?l():t.substring(n,n+4)==="null"||os.NULL&e&&r-n<4&&"null".startsWith(t.substring(n))?(n+=4,null):t.substring(n,n+4)==="true"||os.BOOL&e&&r-n<4&&"true".startsWith(t.substring(n))?(n+=4,!0):t.substring(n,n+5)==="false"||os.BOOL&e&&r-n<5&&"false".startsWith(t.substring(n))?(n+=5,!1):t.substring(n,n+8)==="Infinity"||os.INFINITY&e&&r-n<8&&"Infinity".startsWith(t.substring(n))?(n+=8,1/0):t.substring(n,n+9)==="-Infinity"||os.MINUS_INFINITY&e&&1<r-n&&r-n<9&&"-Infinity".startsWith(t.substring(n))?(n+=9,-1/0):t.substring(n,n+3)==="NaN"||os.NAN&e&&r-n<3&&"NaN".startsWith(t.substring(n))?(n+=3,NaN):u()),a=()=>{let p=n,f=!1;for(n++;n<r&&(t[n]!=='"'||f&&t[n-1]==="\\");)f=t[n]==="\\"?!f:!1,n++;if(t.charAt(n)=='"')try{return JSON.parse(t.substring(p,++n-Number(f)))}catch(h){o(String(h))}else if(os.STR&e)try{return JSON.parse(t.substring(p,n-Number(f))+'"')}catch{return JSON.parse(t.substring(p,t.lastIndexOf("\\"))+'"')}i("Unterminated string literal")},c=()=>{n++,d();let p={};try{for(;t[n]!=="}";){if(d(),n>=r&&os.OBJ&e)return p;let f=a();d(),n++;try{let h=s();Object.defineProperty(p,f,{value:h,writable:!0,enumerable:!0,configurable:!0})}catch(h){if(os.OBJ&e)return p;throw h}d(),t[n]===","&&n++}}catch{if(os.OBJ&e)return p;i("Expected '}' at end of object")}return n++,p},l=()=>{n++;let p=[];try{for(;t[n]!=="]";)p.push(s()),d(),t[n]===","&&n++}catch{if(os.ARR&e)return p;i("Expected ']' at end of array")}return n++,p},u=()=>{if(n===0){t==="-"&&os.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(t)}catch(f){if(os.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}o(String(f))}}let p=n;for(t[n]==="-"&&n++;t[n]&&!",]}".includes(t[n]);)n++;n==r&&!(os.NUM&e)&&i("Unterminated number literal");try{return JSON.parse(t.substring(p,n))}catch{t.substring(p,n)==="-"&&os.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(t.substring(p,t.lastIndexOf("e")))}catch(h){o(String(h))}}},d=()=>{for(;n<r&&` 
\r	`.includes(t[n]);)n++};return s()},zae=t=>Okt(t,os.ALL^os.NUM);var jo,ih,vA,t1,Hae,DB,Vae,Gae,jae,MB,qae,GHe,Nv=class t extends bA{constructor(e){super(),jo.add(this),ih.set(this,void 0),vA.set(this,void 0),t1.set(this,void 0),Ft(this,ih,e,"f"),Ft(this,vA,[],"f")}get currentChatCompletionSnapshot(){return pe(this,t1,"f")}static fromReadableStream(e){let r=new t(null);return r._run(()=>r._fromReadableStream(e)),r}static createChatCompletion(e,r,n){let i=new t(r);return i._run(()=>i._runChatCompletion(e,{...r,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(e,r,n){super._createChatCompletion;let i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),pe(this,jo,"m",Hae).call(this);let o=await e.chat.completions.create({...r,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(let s of o)pe(this,jo,"m",Vae).call(this,s);if(o.controller.signal?.aborted)throw new Co;return this._addChatCompletion(pe(this,jo,"m",MB).call(this))}async _fromReadableStream(e,r){let n=r?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),pe(this,jo,"m",Hae).call(this),this._connected();let i=hf.fromReadableStream(e,this.controller),o;for await(let s of i)o&&o!==s.id&&this._addChatCompletion(pe(this,jo,"m",MB).call(this)),pe(this,jo,"m",Vae).call(this,s),o=s.id;if(i.controller.signal?.aborted)throw new Co;return this._addChatCompletion(pe(this,jo,"m",MB).call(this))}[(ih=new WeakMap,vA=new WeakMap,t1=new WeakMap,jo=new WeakSet,Hae=function(){this.ended||Ft(this,t1,void 0,"f")},DB=function(r){let n=pe(this,vA,"f")[r.index];return n||(n={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},pe(this,vA,"f")[r.index]=n,n)},Vae=function(r){if(this.ended)return;let n=pe(this,jo,"m",GHe).call(this,r);this._emit("chunk",r,n);for(let i of r.choices){let o=n.choices[i.index];i.delta.content!=null&&o.message?.role==="assistant"&&o.message?.content&&(this._emit("content",i.delta.content,o.message.content),this._emit("content.delta",{delta:i.delta.content,snapshot:o.message.content,parsed:o.message.parsed})),i.delta.refusal!=null&&o.message?.role==="assistant"&&o.message?.refusal&&this._emit("refusal.delta",{delta:i.delta.refusal,snapshot:o.message.refusal}),i.logprobs?.content!=null&&o.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:i.logprobs?.content,snapshot:o.logprobs?.content??[]}),i.logprobs?.refusal!=null&&o.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:i.logprobs?.refusal,snapshot:o.logprobs?.refusal??[]});let s=pe(this,jo,"m",DB).call(this,o);o.finish_reason&&(pe(this,jo,"m",jae).call(this,o),s.current_tool_call_index!=null&&pe(this,jo,"m",Gae).call(this,o,s.current_tool_call_index));for(let a of i.delta.tool_calls??[])s.current_tool_call_index!==a.index&&(pe(this,jo,"m",jae).call(this,o),s.current_tool_call_index!=null&&pe(this,jo,"m",Gae).call(this,o,s.current_tool_call_index)),s.current_tool_call_index=a.index;for(let a of i.delta.tool_calls??[]){let c=o.message.tool_calls?.[a.index];c?.type&&(c?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:c.function?.name,index:a.index,arguments:c.function.arguments,parsed_arguments:c.function.parsed_arguments,arguments_delta:a.function?.arguments??""}):(c?.type,void 0))}}},Gae=function(r,n){if(pe(this,jo,"m",DB).call(this,r).done_tool_calls.has(n))return;let o=r.message.tool_calls?.[n];if(!o)throw new Error("no tool call snapshot");if(!o.type)throw new Error("tool call snapshot missing `type`");if(o.type==="function"){let s=pe(this,ih,"f")?.tools?.find(a=>a5(a)&&a.function.name===o.function.name);this._emit("tool_calls.function.arguments.done",{name:o.function.name,index:n,arguments:o.function.arguments,parsed_arguments:Cv(s)?s.$parseRaw(o.function.arguments):s?.function.strict?JSON.parse(o.function.arguments):null})}else o.type},jae=function(r){let n=pe(this,jo,"m",DB).call(this,r);if(r.message.content&&!n.content_done){n.content_done=!0;let i=pe(this,jo,"m",qae).call(this);this._emit("content.done",{content:r.message.content,parsed:i?i.$parseRaw(r.message.content):null})}r.message.refusal&&!n.refusal_done&&(n.refusal_done=!0,this._emit("refusal.done",{refusal:r.message.refusal})),r.logprobs?.content&&!n.logprobs_content_done&&(n.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:r.logprobs.content})),r.logprobs?.refusal&&!n.logprobs_refusal_done&&(n.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:r.logprobs.refusal}))},MB=function(){if(this.ended)throw new vt("stream has ended, this shouldn't happen");let r=pe(this,t1,"f");if(!r)throw new vt("request ended without sending any chunks");return Ft(this,t1,void 0,"f"),Ft(this,vA,[],"f"),kkt(r,pe(this,ih,"f"))},qae=function(){let r=pe(this,ih,"f")?.response_format;return c5(r)?r:null},GHe=function(r){var n,i,o,s;let a=pe(this,t1,"f"),{choices:c,...l}=r;a?Object.assign(a,l):a=Ft(this,t1,{...l,choices:[]},"f");for(let{delta:u,finish_reason:d,index:p,logprobs:f=null,...h}of r.choices){let m=a.choices[p];if(m||(m=a.choices[p]={finish_reason:d,index:p,message:{},logprobs:f,...h}),f)if(!m.logprobs)m.logprobs=Object.assign({},f);else{let{content:I,refusal:D,...k}=f;Object.assign(m.logprobs,k),I&&((n=m.logprobs).content??(n.content=[]),m.logprobs.content.push(...I)),D&&((i=m.logprobs).refusal??(i.refusal=[]),m.logprobs.refusal.push(...D))}if(d&&(m.finish_reason=d,pe(this,ih,"f")&&Pae(pe(this,ih,"f")))){if(d==="length")throw new pA;if(d==="content_filter")throw new fA}if(Object.assign(m,h),!u)continue;let{content:g,refusal:y,function_call:v,role:S,tool_calls:w,...E}=u;if(Object.assign(m.message,E),y&&(m.message.refusal=(m.message.refusal||"")+y),S&&(m.message.role=S),v&&(m.message.function_call?(v.name&&(m.message.function_call.name=v.name),v.arguments&&((o=m.message.function_call).arguments??(o.arguments=""),m.message.function_call.arguments+=v.arguments)):m.message.function_call=v),g&&(m.message.content=(m.message.content||"")+g,!m.message.refusal&&pe(this,jo,"m",qae).call(this)&&(m.message.parsed=zae(m.message.content))),w){m.message.tool_calls||(m.message.tool_calls=[]);for(let{index:I,id:D,type:k,function:P,...$}of w){let H=(s=m.message.tool_calls)[I]??(s[I]={});Object.assign(H,$),D&&(H.id=D),k&&(H.type=k),P&&(H.function??(H.function={name:P.name??"",arguments:""})),P?.name&&(H.function.name=P.name),P?.arguments&&(H.function.arguments+=P.arguments,BHe(pe(this,ih,"f"),H)&&(H.function.parsed_arguments=zae(H.function.arguments)))}}}return a},Symbol.asyncIterator)](){let e=[],r=[],n=!1;return this.on("chunk",i=>{let o=r.shift();o?o.resolve(i):e.push(i)}),this.on("end",()=>{n=!0;for(let i of r)i.resolve(void 0);r.length=0}),this.on("abort",i=>{n=!0;for(let o of r)o.reject(i);r.length=0}),this.on("error",i=>{n=!0;for(let o of r)o.reject(i);r.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((o,s)=>r.push({resolve:o,reject:s})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new hf(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}};function kkt(t,e){let{id:r,choices:n,created:i,model:o,system_fingerprint:s,...a}=t,c={...a,id:r,choices:n.map(({message:l,finish_reason:u,index:d,logprobs:p,...f})=>{if(!u)throw new vt(`missing finish_reason for choice ${d}`);let{content:h=null,function_call:m,tool_calls:g,...y}=l,v=l.role;if(!v)throw new vt(`missing role for choice ${d}`);if(m){let{arguments:S,name:w}=m;if(S==null)throw new vt(`missing function_call.arguments for choice ${d}`);if(!w)throw new vt(`missing function_call.name for choice ${d}`);return{...f,message:{content:h,function_call:{arguments:S,name:w},role:v,refusal:l.refusal??null},finish_reason:u,index:d,logprobs:p}}return g?{...f,index:d,finish_reason:u,logprobs:p,message:{...y,role:v,content:h,refusal:l.refusal??null,tool_calls:g.map((S,w)=>{let{function:E,type:I,id:D,...k}=S,{arguments:P,name:$,...H}=E||{};if(D==null)throw new vt(`missing choices[${d}].tool_calls[${w}].id
${LB(t)}`);if(I==null)throw new vt(`missing choices[${d}].tool_calls[${w}].type
${LB(t)}`);if($==null)throw new vt(`missing choices[${d}].tool_calls[${w}].function.name
${LB(t)}`);if(P==null)throw new vt(`missing choices[${d}].tool_calls[${w}].function.arguments
${LB(t)}`);return{...k,id:D,type:I,function:{...H,name:$,arguments:P}}})}}:{...f,message:{...y,content:h,role:v,refusal:l.refusal??null},finish_reason:u,index:d,logprobs:p}}),created:i,model:o,object:"chat.completion",...s?{system_fingerprint:s}:{}};return LHe(c,e)}function LB(t){return JSON.stringify(t)}var h5=class t extends Nv{static fromReadableStream(e){let r=new t(null);return r._run(()=>r._fromReadableStream(e)),r}static runTools(e,r,n){let i=new t(r),o={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,r,o)),i}};var oh=class extends Pe{constructor(){super(...arguments),this.messages=new Iv(this._client)}create(e,r){return this._client.post("/chat/completions",{body:e,...r,stream:e.stream??!1})}retrieve(e,r){return this._client.get(Ie`/chat/completions/${e}`,r)}update(e,r,n){return this._client.post(Ie`/chat/completions/${e}`,{body:r,...n})}list(e={},r){return this._client.getAPIList("/chat/completions",xr,{query:e,...r})}delete(e,r){return this._client.delete(Ie`/chat/completions/${e}`,r)}parse(e,r){return UHe(e.tools),this._client.chat.completions.create(e,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(n=>l5(n,e))}runTools(e,r){return e.stream?h5.runTools(this._client,e,r):m5.runTools(this._client,e,r)}stream(e,r){return Nv.createChatCompletion(this._client,e,r)}};oh.Messages=Iv;var r1=class extends Pe{constructor(){super(...arguments),this.completions=new oh(this._client)}};r1.Completions=oh;var jHe=Symbol("brand.privateNullableHeaders");function*Mkt(t){if(!t)return;if(jHe in t){let{values:n,nulls:i}=t;yield*n.entries();for(let o of i)yield[o,null];return}let e=!1,r;t instanceof Headers?r=t.entries():fae(t)?r=t:(e=!0,r=Object.entries(t??{}));for(let n of r){let i=n[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");let o=fae(n[1])?n[1]:[n[1]],s=!1;for(let a of o)a!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,a])}}var tt=t=>{let e=new Headers,r=new Set;for(let n of t){let i=new Set;for(let[o,s]of Mkt(n)){let a=o.toLowerCase();i.has(a)||(e.delete(o),i.add(a)),s===null?(e.delete(o),r.add(a)):(e.append(o,s),r.delete(a))}}return{[jHe]:!0,values:e,nulls:r}};var _A=class extends Pe{create(e,r){return this._client.post("/audio/speech",{body:e,...r,headers:tt([{Accept:"application/octet-stream"},r?.headers]),__binaryResponse:!0})}};var SA=class extends Pe{create(e,r){return this._client.post("/audio/transcriptions",gl({body:e,...r,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}};var xA=class extends Pe{create(e,r){return this._client.post("/audio/translations",gl({body:e,...r,__metadata:{model:e.model}},this._client))}};var yf=class extends Pe{constructor(){super(...arguments),this.transcriptions=new SA(this._client),this.translations=new xA(this._client),this.speech=new _A(this._client)}};yf.Transcriptions=SA;yf.Translations=xA;yf.Speech=_A;var Ov=class extends Pe{create(e,r){return this._client.post("/batches",{body:e,...r})}retrieve(e,r){return this._client.get(Ie`/batches/${e}`,r)}list(e={},r){return this._client.getAPIList("/batches",xr,{query:e,...r})}cancel(e,r){return this._client.post(Ie`/batches/${e}/cancel`,r)}};var wA=class extends Pe{create(e,r){return this._client.post("/assistants",{body:e,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(e,r){return this._client.get(Ie`/assistants/${e}`,{...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(e,r,n){return this._client.post(Ie`/assistants/${e}`,{body:r,...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e={},r){return this._client.getAPIList("/assistants",xr,{query:e,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(e,r){return this._client.delete(Ie`/assistants/${e}`,{...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}};var AA=class extends Pe{create(e,r){return this._client.post("/realtime/sessions",{body:e,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}};var EA=class extends Pe{create(e,r){return this._client.post("/realtime/transcription_sessions",{body:e,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}};var n1=class extends Pe{constructor(){super(...arguments),this.sessions=new AA(this._client),this.transcriptionSessions=new EA(this._client)}};n1.Sessions=AA;n1.TranscriptionSessions=EA;var TA=class extends Pe{create(e,r){return this._client.post("/chatkit/sessions",{body:e,...r,headers:tt([{"OpenAI-Beta":"chatkit_beta=v1"},r?.headers])})}cancel(e,r){return this._client.post(Ie`/chatkit/sessions/${e}/cancel`,{...r,headers:tt([{"OpenAI-Beta":"chatkit_beta=v1"},r?.headers])})}};var RA=class extends Pe{retrieve(e,r){return this._client.get(Ie`/chatkit/threads/${e}`,{...r,headers:tt([{"OpenAI-Beta":"chatkit_beta=v1"},r?.headers])})}list(e={},r){return this._client.getAPIList("/chatkit/threads",rh,{query:e,...r,headers:tt([{"OpenAI-Beta":"chatkit_beta=v1"},r?.headers])})}delete(e,r){return this._client.delete(Ie`/chatkit/threads/${e}`,{...r,headers:tt([{"OpenAI-Beta":"chatkit_beta=v1"},r?.headers])})}listItems(e,r={},n){return this._client.getAPIList(Ie`/chatkit/threads/${e}/items`,rh,{query:r,...n,headers:tt([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}};var i1=class extends Pe{constructor(){super(...arguments),this.sessions=new TA(this._client),this.threads=new RA(this._client)}};i1.Sessions=TA;i1.Threads=RA;var IA=class extends Pe{create(e,r,n){return this._client.post(Ie`/threads/${e}/messages`,{body:r,...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,r,n){let{thread_id:i}=r;return this._client.get(Ie`/threads/${i}/messages/${e}`,{...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,r,n){let{thread_id:i,...o}=r;return this._client.post(Ie`/threads/${i}/messages/${e}`,{body:o,...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,r={},n){return this._client.getAPIList(Ie`/threads/${e}/messages`,xr,{query:r,...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,r,n){let{thread_id:i}=r;return this._client.delete(Ie`/threads/${i}/messages/${e}`,{...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};var CA=class extends Pe{retrieve(e,r,n){let{thread_id:i,run_id:o,...s}=r;return this._client.get(Ie`/threads/${i}/runs/${o}/steps/${e}`,{query:s,...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,r,n){let{thread_id:i,...o}=r;return this._client.getAPIList(Ie`/threads/${i}/runs/${e}/steps`,xr,{query:o,...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};var qHe=t=>{if(typeof Buffer<"u"){let e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{let e=atob(t),r=e.length,n=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=e.charCodeAt(i);return Array.from(new Float32Array(n.buffer))}};var o1=t=>{if(typeof globalThis.process<"u")return globalThis.process.env?.[t]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(t)?.trim()};var As,kv,Wae,bf,BB,qd,Dv,NA,Pv,FB,yl,$B,UB,b5,g5,y5,WHe,JHe,KHe,QHe,XHe,YHe,ZHe,sh=class extends e1{constructor(){super(...arguments),As.add(this),Wae.set(this,[]),bf.set(this,{}),BB.set(this,{}),qd.set(this,void 0),Dv.set(this,void 0),NA.set(this,void 0),Pv.set(this,void 0),FB.set(this,void 0),yl.set(this,void 0),$B.set(this,void 0),UB.set(this,void 0),b5.set(this,void 0)}[(Wae=new WeakMap,bf=new WeakMap,BB=new WeakMap,qd=new WeakMap,Dv=new WeakMap,NA=new WeakMap,Pv=new WeakMap,FB=new WeakMap,yl=new WeakMap,$B=new WeakMap,UB=new WeakMap,b5=new WeakMap,As=new WeakSet,Symbol.asyncIterator)](){let e=[],r=[],n=!1;return this.on("event",i=>{let o=r.shift();o?o.resolve(i):e.push(i)}),this.on("end",()=>{n=!0;for(let i of r)i.resolve(void 0);r.length=0}),this.on("abort",i=>{n=!0;for(let o of r)o.reject(i);r.length=0}),this.on("error",i=>{n=!0;for(let o of r)o.reject(i);r.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((o,s)=>r.push({resolve:o,reject:s})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){let r=new kv;return r._run(()=>r._fromReadableStream(e)),r}async _fromReadableStream(e,r){let n=r?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),this._connected();let i=hf.fromReadableStream(e,this.controller);for await(let o of i)pe(this,As,"m",g5).call(this,o);if(i.controller.signal?.aborted)throw new Co;return this._addRun(pe(this,As,"m",y5).call(this))}toReadableStream(){return new hf(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,r,n,i){let o=new kv;return o._run(()=>o._runToolAssistantStream(e,r,n,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(e,r,n,i){let o=i?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));let s={...n,stream:!0},a=await e.submitToolOutputs(r,s,{...i,signal:this.controller.signal});this._connected();for await(let c of a)pe(this,As,"m",g5).call(this,c);if(a.controller.signal?.aborted)throw new Co;return this._addRun(pe(this,As,"m",y5).call(this))}static createThreadAssistantStream(e,r,n){let i=new kv;return i._run(()=>i._threadAssistantStream(e,r,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(e,r,n,i){let o=new kv;return o._run(()=>o._runAssistantStream(e,r,n,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),o}currentEvent(){return pe(this,$B,"f")}currentRun(){return pe(this,UB,"f")}currentMessageSnapshot(){return pe(this,qd,"f")}currentRunStepSnapshot(){return pe(this,b5,"f")}async finalRunSteps(){return await this.done(),Object.values(pe(this,bf,"f"))}async finalMessages(){return await this.done(),Object.values(pe(this,BB,"f"))}async finalRun(){if(await this.done(),!pe(this,Dv,"f"))throw Error("Final run was not received.");return pe(this,Dv,"f")}async _createThreadAssistantStream(e,r,n){let i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));let o={...r,stream:!0},s=await e.createAndRun(o,{...n,signal:this.controller.signal});this._connected();for await(let a of s)pe(this,As,"m",g5).call(this,a);if(s.controller.signal?.aborted)throw new Co;return this._addRun(pe(this,As,"m",y5).call(this))}async _createAssistantStream(e,r,n,i){let o=i?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));let s={...n,stream:!0},a=await e.create(r,s,{...i,signal:this.controller.signal});this._connected();for await(let c of a)pe(this,As,"m",g5).call(this,c);if(a.controller.signal?.aborted)throw new Co;return this._addRun(pe(this,As,"m",y5).call(this))}static accumulateDelta(e,r){for(let[n,i]of Object.entries(r)){if(!e.hasOwnProperty(n)){e[n]=i;continue}let o=e[n];if(o==null){e[n]=i;continue}if(n==="index"||n==="type"){e[n]=i;continue}if(typeof o=="string"&&typeof i=="string")o+=i;else if(typeof o=="number"&&typeof i=="number")o+=i;else if(e5(o)&&e5(i))o=this.accumulateDelta(o,i);else if(Array.isArray(o)&&Array.isArray(i)){if(o.every(s=>typeof s=="string"||typeof s=="number")){o.push(...i);continue}for(let s of i){if(!e5(s))throw new Error(`Expected array delta entry to be an object but got: ${s}`);let a=s.index;if(a==null)throw console.error(s),new Error("Expected array delta entry to have an `index` property");if(typeof a!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${a}`);let c=o[a];c==null?o.push(s):o[a]=this.accumulateDelta(c,s)}continue}else throw Error(`Unhandled record type: ${n}, deltaValue: ${i}, accValue: ${o}`);e[n]=o}return e}_addRun(e){return e}async _threadAssistantStream(e,r,n){return await this._createThreadAssistantStream(r,e,n)}async _runAssistantStream(e,r,n,i){return await this._createAssistantStream(r,e,n,i)}async _runToolAssistantStream(e,r,n,i){return await this._createToolAssistantStream(r,e,n,i)}};kv=sh,g5=function(e){if(!this.ended)switch(Ft(this,$B,e,"f"),pe(this,As,"m",KHe).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":pe(this,As,"m",ZHe).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":pe(this,As,"m",JHe).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":pe(this,As,"m",WHe).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier");default:}},y5=function(){if(this.ended)throw new vt("stream has ended, this shouldn't happen");if(!pe(this,Dv,"f"))throw Error("Final run has not been received");return pe(this,Dv,"f")},WHe=function(e){let[r,n]=pe(this,As,"m",XHe).call(this,e,pe(this,qd,"f"));Ft(this,qd,r,"f"),pe(this,BB,"f")[r.id]=r;for(let i of n){let o=r.content[i.index];o?.type=="text"&&this._emit("textCreated",o.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,r),e.data.delta.content)for(let i of e.data.delta.content){if(i.type=="text"&&i.text){let o=i.text,s=r.content[i.index];if(s&&s.type=="text")this._emit("textDelta",o,s.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(i.index!=pe(this,NA,"f")){if(pe(this,Pv,"f"))switch(pe(this,Pv,"f").type){case"text":this._emit("textDone",pe(this,Pv,"f").text,pe(this,qd,"f"));break;case"image_file":this._emit("imageFileDone",pe(this,Pv,"f").image_file,pe(this,qd,"f"));break}Ft(this,NA,i.index,"f")}Ft(this,Pv,r.content[i.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(pe(this,NA,"f")!==void 0){let i=e.data.content[pe(this,NA,"f")];if(i)switch(i.type){case"image_file":this._emit("imageFileDone",i.image_file,pe(this,qd,"f"));break;case"text":this._emit("textDone",i.text,pe(this,qd,"f"));break}}pe(this,qd,"f")&&this._emit("messageDone",e.data),Ft(this,qd,void 0,"f")}},JHe=function(e){let r=pe(this,As,"m",QHe).call(this,e);switch(Ft(this,b5,r,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":let n=e.data.delta;if(n.step_details&&n.step_details.type=="tool_calls"&&n.step_details.tool_calls&&r.step_details.type=="tool_calls")for(let o of n.step_details.tool_calls)o.index==pe(this,FB,"f")?this._emit("toolCallDelta",o,r.step_details.tool_calls[o.index]):(pe(this,yl,"f")&&this._emit("toolCallDone",pe(this,yl,"f")),Ft(this,FB,o.index,"f"),Ft(this,yl,r.step_details.tool_calls[o.index],"f"),pe(this,yl,"f")&&this._emit("toolCallCreated",pe(this,yl,"f")));this._emit("runStepDelta",e.data.delta,r);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Ft(this,b5,void 0,"f"),e.data.step_details.type=="tool_calls"&&pe(this,yl,"f")&&(this._emit("toolCallDone",pe(this,yl,"f")),Ft(this,yl,void 0,"f")),this._emit("runStepDone",e.data,r);break;case"thread.run.step.in_progress":break}},KHe=function(e){pe(this,Wae,"f").push(e),this._emit("event",e)},QHe=function(e){switch(e.event){case"thread.run.step.created":return pe(this,bf,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let r=pe(this,bf,"f")[e.data.id];if(!r)throw Error("Received a RunStepDelta before creation of a snapshot");let n=e.data;if(n.delta){let i=kv.accumulateDelta(r,n.delta);pe(this,bf,"f")[e.data.id]=i}return pe(this,bf,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":pe(this,bf,"f")[e.data.id]=e.data;break}if(pe(this,bf,"f")[e.data.id])return pe(this,bf,"f")[e.data.id];throw new Error("No snapshot available")},XHe=function(e,r){let n=[];switch(e.event){case"thread.message.created":return[e.data,n];case"thread.message.delta":if(!r)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=e.data;if(i.delta.content)for(let o of i.delta.content)if(o.index in r.content){let s=r.content[o.index];r.content[o.index]=pe(this,As,"m",YHe).call(this,o,s)}else r.content[o.index]=o,n.push(o);return[r,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(r)return[r,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},YHe=function(e,r){return kv.accumulateDelta(r,e)},ZHe=function(e){switch(Ft(this,UB,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":Ft(this,Dv,e.data,"f"),pe(this,yl,"f")&&(this._emit("toolCallDone",pe(this,yl,"f")),Ft(this,yl,void 0,"f"));break;case"thread.run.cancelling":break}};var Mv=class extends Pe{constructor(){super(...arguments),this.steps=new CA(this._client)}create(e,r,n){let{include:i,...o}=r;return this._client.post(Ie`/threads/${e}/runs`,{query:{include:i},body:o,...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:r.stream??!1})}retrieve(e,r,n){let{thread_id:i}=r;return this._client.get(Ie`/threads/${i}/runs/${e}`,{...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,r,n){let{thread_id:i,...o}=r;return this._client.post(Ie`/threads/${i}/runs/${e}`,{body:o,...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,r={},n){return this._client.getAPIList(Ie`/threads/${e}/runs`,xr,{query:r,...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}cancel(e,r,n){let{thread_id:i}=r;return this._client.post(Ie`/threads/${i}/runs/${e}/cancel`,{...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(e,r,n){let i=await this.create(e,r,n);return await this.poll(i.id,{thread_id:e},n)}createAndStream(e,r,n){return sh.createAssistantStream(e,this._client.beta.threads.runs,r,n)}async poll(e,r,n){let i=tt([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){let{data:o,response:s}=await this.retrieve(e,r,{...n,headers:{...n?.headers,...i}}).withResponse();switch(o.status){case"queued":case"in_progress":case"cancelling":let a=5e3;if(n?.pollIntervalMs)a=n.pollIntervalMs;else{let c=s.headers.get("openai-poll-after-ms");if(c){let l=parseInt(c);isNaN(l)||(a=l)}}await ff(a);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return o}}}stream(e,r,n){return sh.createAssistantStream(e,this._client.beta.threads.runs,r,n)}submitToolOutputs(e,r,n){let{thread_id:i,...o}=r;return this._client.post(Ie`/threads/${i}/runs/${e}/submit_tool_outputs`,{body:o,...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:r.stream??!1})}async submitToolOutputsAndPoll(e,r,n){let i=await this.submitToolOutputs(e,r,n);return await this.poll(i.id,r,n)}submitToolOutputsStream(e,r,n){return sh.createToolAssistantStream(e,this._client.beta.threads.runs,r,n)}};Mv.Steps=CA;var s1=class extends Pe{constructor(){super(...arguments),this.runs=new Mv(this._client),this.messages=new IA(this._client)}create(e={},r){return this._client.post("/threads",{body:e,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(e,r){return this._client.get(Ie`/threads/${e}`,{...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(e,r,n){return this._client.post(Ie`/threads/${e}`,{body:r,...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,r){return this._client.delete(Ie`/threads/${e}`,{...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}createAndRun(e,r){return this._client.post("/threads/runs",{body:e,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers]),stream:e.stream??!1})}async createAndRunPoll(e,r){let n=await this.createAndRun(e,r);return await this.runs.poll(n.id,{thread_id:n.thread_id},r)}createAndRunStream(e,r){return sh.createThreadAssistantStream(e,this._client.beta.threads,r)}};s1.Runs=Mv;s1.Messages=IA;var Wd=class extends Pe{constructor(){super(...arguments),this.realtime=new n1(this._client),this.chatkit=new i1(this._client),this.assistants=new wA(this._client),this.threads=new s1(this._client)}};Wd.Realtime=n1;Wd.ChatKit=i1;Wd.Assistants=wA;Wd.Threads=s1;var Lv=class extends Pe{create(e,r){return this._client.post("/completions",{body:e,...r,stream:e.stream??!1})}};var OA=class extends Pe{retrieve(e,r,n){let{container_id:i}=r;return this._client.get(Ie`/containers/${i}/files/${e}/content`,{...n,headers:tt([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}};var Bv=class extends Pe{constructor(){super(...arguments),this.content=new OA(this._client)}create(e,r,n){return this._client.post(Ie`/containers/${e}/files`,gl({body:r,...n},this._client))}retrieve(e,r,n){let{container_id:i}=r;return this._client.get(Ie`/containers/${i}/files/${e}`,n)}list(e,r={},n){return this._client.getAPIList(Ie`/containers/${e}/files`,xr,{query:r,...n})}delete(e,r,n){let{container_id:i}=r;return this._client.delete(Ie`/containers/${i}/files/${e}`,{...n,headers:tt([{Accept:"*/*"},n?.headers])})}};Bv.Content=OA;var a1=class extends Pe{constructor(){super(...arguments),this.files=new Bv(this._client)}create(e,r){return this._client.post("/containers",{body:e,...r})}retrieve(e,r){return this._client.get(Ie`/containers/${e}`,r)}list(e={},r){return this._client.getAPIList("/containers",xr,{query:e,...r})}delete(e,r){return this._client.delete(Ie`/containers/${e}`,{...r,headers:tt([{Accept:"*/*"},r?.headers])})}};a1.Files=Bv;var PA=class extends Pe{create(e,r,n){let{include:i,...o}=r;return this._client.post(Ie`/conversations/${e}/items`,{query:{include:i},body:o,...n})}retrieve(e,r,n){let{conversation_id:i,...o}=r;return this._client.get(Ie`/conversations/${i}/items/${e}`,{query:o,...n})}list(e,r={},n){return this._client.getAPIList(Ie`/conversations/${e}/items`,rh,{query:r,...n})}delete(e,r,n){let{conversation_id:i}=r;return this._client.delete(Ie`/conversations/${i}/items/${e}`,n)}};var c1=class extends Pe{constructor(){super(...arguments),this.items=new PA(this._client)}create(e={},r){return this._client.post("/conversations",{body:e,...r})}retrieve(e,r){return this._client.get(Ie`/conversations/${e}`,r)}update(e,r,n){return this._client.post(Ie`/conversations/${e}`,{body:r,...n})}delete(e,r){return this._client.delete(Ie`/conversations/${e}`,r)}};c1.Items=PA;var $v=class extends Pe{create(e,r){let n=!!e.encoding_format,i=n?e.encoding_format:"base64";n&&ro(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);let o=this._client.post("/embeddings",{body:{...e,encoding_format:i},...r});return n?o:(ro(this._client).debug("embeddings/decoding base64 embeddings from base64"),o._thenUnwrap(s=>(s&&s.data&&s.data.forEach(a=>{let c=a.embedding;a.embedding=qHe(c)}),s)))}};var kA=class extends Pe{retrieve(e,r,n){let{eval_id:i,run_id:o}=r;return this._client.get(Ie`/evals/${i}/runs/${o}/output_items/${e}`,n)}list(e,r,n){let{eval_id:i,...o}=r;return this._client.getAPIList(Ie`/evals/${i}/runs/${e}/output_items`,xr,{query:o,...n})}};var Uv=class extends Pe{constructor(){super(...arguments),this.outputItems=new kA(this._client)}create(e,r,n){return this._client.post(Ie`/evals/${e}/runs`,{body:r,...n})}retrieve(e,r,n){let{eval_id:i}=r;return this._client.get(Ie`/evals/${i}/runs/${e}`,n)}list(e,r={},n){return this._client.getAPIList(Ie`/evals/${e}/runs`,xr,{query:r,...n})}delete(e,r,n){let{eval_id:i}=r;return this._client.delete(Ie`/evals/${i}/runs/${e}`,n)}cancel(e,r,n){let{eval_id:i}=r;return this._client.post(Ie`/evals/${i}/runs/${e}`,n)}};Uv.OutputItems=kA;var l1=class extends Pe{constructor(){super(...arguments),this.runs=new Uv(this._client)}create(e,r){return this._client.post("/evals",{body:e,...r})}retrieve(e,r){return this._client.get(Ie`/evals/${e}`,r)}update(e,r,n){return this._client.post(Ie`/evals/${e}`,{body:r,...n})}list(e={},r){return this._client.getAPIList("/evals",xr,{query:e,...r})}delete(e,r){return this._client.delete(Ie`/evals/${e}`,r)}};l1.Runs=Uv;var Fv=class extends Pe{create(e,r){return this._client.post("/files",gl({body:e,...r},this._client))}retrieve(e,r){return this._client.get(Ie`/files/${e}`,r)}list(e={},r){return this._client.getAPIList("/files",xr,{query:e,...r})}delete(e,r){return this._client.delete(Ie`/files/${e}`,r)}content(e,r){return this._client.get(Ie`/files/${e}/content`,{...r,headers:tt([{Accept:"application/binary"},r?.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:r=5e3,maxWait:n=1800*1e3}={}){let i=new Set(["processed","error","deleted"]),o=Date.now(),s=await this.retrieve(e);for(;!s.status||!i.has(s.status);)if(await ff(r),s=await this.retrieve(e),Date.now()-o>n)throw new Y0({message:`Giving up on waiting for file ${e} to finish processing after ${n} milliseconds.`});return s}};var DA=class extends Pe{};var MA=class extends Pe{run(e,r){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...r})}validate(e,r){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...r})}};var zv=class extends Pe{constructor(){super(...arguments),this.graders=new MA(this._client)}};zv.Graders=MA;var LA=class extends Pe{create(e,r,n){return this._client.getAPIList(Ie`/fine_tuning/checkpoints/${e}/permissions`,gf,{body:r,method:"post",...n})}retrieve(e,r={},n){return this._client.get(Ie`/fine_tuning/checkpoints/${e}/permissions`,{query:r,...n})}delete(e,r,n){let{fine_tuned_model_checkpoint:i}=r;return this._client.delete(Ie`/fine_tuning/checkpoints/${i}/permissions/${e}`,n)}};var Hv=class extends Pe{constructor(){super(...arguments),this.permissions=new LA(this._client)}};Hv.Permissions=LA;var BA=class extends Pe{list(e,r={},n){return this._client.getAPIList(Ie`/fine_tuning/jobs/${e}/checkpoints`,xr,{query:r,...n})}};var Vv=class extends Pe{constructor(){super(...arguments),this.checkpoints=new BA(this._client)}create(e,r){return this._client.post("/fine_tuning/jobs",{body:e,...r})}retrieve(e,r){return this._client.get(Ie`/fine_tuning/jobs/${e}`,r)}list(e={},r){return this._client.getAPIList("/fine_tuning/jobs",xr,{query:e,...r})}cancel(e,r){return this._client.post(Ie`/fine_tuning/jobs/${e}/cancel`,r)}listEvents(e,r={},n){return this._client.getAPIList(Ie`/fine_tuning/jobs/${e}/events`,xr,{query:r,...n})}pause(e,r){return this._client.post(Ie`/fine_tuning/jobs/${e}/pause`,r)}resume(e,r){return this._client.post(Ie`/fine_tuning/jobs/${e}/resume`,r)}};Vv.Checkpoints=BA;var Jd=class extends Pe{constructor(){super(...arguments),this.methods=new DA(this._client),this.jobs=new Vv(this._client),this.checkpoints=new Hv(this._client),this.alpha=new zv(this._client)}};Jd.Methods=DA;Jd.Jobs=Vv;Jd.Checkpoints=Hv;Jd.Alpha=zv;var $A=class extends Pe{};var u1=class extends Pe{constructor(){super(...arguments),this.graderModels=new $A(this._client)}};u1.GraderModels=$A;var Gv=class extends Pe{createVariation(e,r){return this._client.post("/images/variations",gl({body:e,...r},this._client))}edit(e,r){return this._client.post("/images/edits",gl({body:e,...r,stream:e.stream??!1},this._client))}generate(e,r){return this._client.post("/images/generations",{body:e,...r,stream:e.stream??!1})}};var jv=class extends Pe{retrieve(e,r){return this._client.get(Ie`/models/${e}`,r)}list(e){return this._client.getAPIList("/models",gf,e)}delete(e,r){return this._client.delete(Ie`/models/${e}`,r)}};var qv=class extends Pe{create(e,r){return this._client.post("/moderations",{body:e,...r})}};var UA=class extends Pe{accept(e,r,n){return this._client.post(Ie`/realtime/calls/${e}/accept`,{body:r,...n,headers:tt([{Accept:"*/*"},n?.headers])})}hangup(e,r){return this._client.post(Ie`/realtime/calls/${e}/hangup`,{...r,headers:tt([{Accept:"*/*"},r?.headers])})}refer(e,r,n){return this._client.post(Ie`/realtime/calls/${e}/refer`,{body:r,...n,headers:tt([{Accept:"*/*"},n?.headers])})}reject(e,r={},n){return this._client.post(Ie`/realtime/calls/${e}/reject`,{body:r,...n,headers:tt([{Accept:"*/*"},n?.headers])})}};var FA=class extends Pe{create(e,r){return this._client.post("/realtime/client_secrets",{body:e,...r})}};var ah=class extends Pe{constructor(){super(...arguments),this.clientSecrets=new FA(this._client),this.calls=new UA(this._client)}};ah.ClientSecrets=FA;ah.Calls=UA;function eVe(t,e){return!e||!p7t(e)?{...t,output_parsed:null,output:t.output.map(r=>r.type==="function_call"?{...r,parsed_arguments:null}:r.type==="message"?{...r,content:r.content.map(n=>({...n,parsed:null}))}:r)}:Jae(t,e)}function Jae(t,e){let r=t.output.map(i=>{if(i.type==="function_call")return{...i,parsed_arguments:h7t(e,i)};if(i.type==="message"){let o=i.content.map(s=>s.type==="output_text"?{...s,parsed:d7t(e,s.text)}:s);return{...i,content:o}}return i}),n=Object.assign({},t,{output:r});return Object.getOwnPropertyDescriptor(t,"output_text")||zB(n),Object.defineProperty(n,"output_parsed",{enumerable:!0,get(){for(let i of n.output)if(i.type==="message"){for(let o of i.content)if(o.type==="output_text"&&o.parsed!==null)return o.parsed}return null}}),n}function d7t(t,e){return t.text?.format?.type!=="json_schema"?null:"$parseRaw"in t.text?.format?(t.text?.format).$parseRaw(e):JSON.parse(e)}function p7t(t){return!!c5(t.text?.format)}function f7t(t){return t?.$brand==="auto-parseable-tool"}function m7t(t,e){return t.find(r=>r.type==="function"&&r.name===e)}function h7t(t,e){let r=m7t(t.tools??[],e.name);return{...e,...e,parsed_arguments:f7t(r)?r.$parseRaw(e.arguments):r?.strict?JSON.parse(e.arguments):null}}function zB(t){let e=[];for(let r of t.output)if(r.type==="message")for(let n of r.content)n.type==="output_text"&&e.push(n.text);t.output_text=e.join("")}var zA,HB,d1,VB,tVe,rVe,nVe,iVe,GB=class t extends e1{constructor(e){super(),zA.add(this),HB.set(this,void 0),d1.set(this,void 0),VB.set(this,void 0),Ft(this,HB,e,"f")}static createResponse(e,r,n){let i=new t(r);return i._run(()=>i._createOrRetrieveResponse(e,r,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createOrRetrieveResponse(e,r,n){let i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),pe(this,zA,"m",tVe).call(this);let o,s=null;"response_id"in r?(o=await e.responses.retrieve(r.response_id,{stream:!0},{...n,signal:this.controller.signal,stream:!0}),s=r.starting_after??null):o=await e.responses.create({...r,stream:!0},{...n,signal:this.controller.signal}),this._connected();for await(let a of o)pe(this,zA,"m",rVe).call(this,a,s);if(o.controller.signal?.aborted)throw new Co;return pe(this,zA,"m",nVe).call(this)}[(HB=new WeakMap,d1=new WeakMap,VB=new WeakMap,zA=new WeakSet,tVe=function(){this.ended||Ft(this,d1,void 0,"f")},rVe=function(r,n){if(this.ended)return;let i=(s,a)=>{(n==null||a.sequence_number>n)&&this._emit(s,a)},o=pe(this,zA,"m",iVe).call(this,r);switch(i("event",r),r.type){case"response.output_text.delta":{let s=o.output[r.output_index];if(!s)throw new vt(`missing output at index ${r.output_index}`);if(s.type==="message"){let a=s.content[r.content_index];if(!a)throw new vt(`missing content at index ${r.content_index}`);if(a.type!=="output_text")throw new vt(`expected content to be 'output_text', got ${a.type}`);i("response.output_text.delta",{...r,snapshot:a.text})}break}case"response.function_call_arguments.delta":{let s=o.output[r.output_index];if(!s)throw new vt(`missing output at index ${r.output_index}`);s.type==="function_call"&&i("response.function_call_arguments.delta",{...r,snapshot:s.arguments});break}default:i(r.type,r);break}},nVe=function(){if(this.ended)throw new vt("stream has ended, this shouldn't happen");let r=pe(this,d1,"f");if(!r)throw new vt("request ended without sending any events");Ft(this,d1,void 0,"f");let n=g7t(r,pe(this,HB,"f"));return Ft(this,VB,n,"f"),n},iVe=function(r){let n=pe(this,d1,"f");if(!n){if(r.type!=="response.created")throw new vt(`When snapshot hasn't been set yet, expected 'response.created' event, got ${r.type}`);return n=Ft(this,d1,r.response,"f"),n}switch(r.type){case"response.output_item.added":{n.output.push(r.item);break}case"response.content_part.added":{let i=n.output[r.output_index];if(!i)throw new vt(`missing output at index ${r.output_index}`);let o=i.type,s=r.part;o==="message"&&s.type!=="reasoning_text"?i.content.push(s):o==="reasoning"&&s.type==="reasoning_text"&&(i.content||(i.content=[]),i.content.push(s));break}case"response.output_text.delta":{let i=n.output[r.output_index];if(!i)throw new vt(`missing output at index ${r.output_index}`);if(i.type==="message"){let o=i.content[r.content_index];if(!o)throw new vt(`missing content at index ${r.content_index}`);if(o.type!=="output_text")throw new vt(`expected content to be 'output_text', got ${o.type}`);o.text+=r.delta}break}case"response.function_call_arguments.delta":{let i=n.output[r.output_index];if(!i)throw new vt(`missing output at index ${r.output_index}`);i.type==="function_call"&&(i.arguments+=r.delta);break}case"response.reasoning_text.delta":{let i=n.output[r.output_index];if(!i)throw new vt(`missing output at index ${r.output_index}`);if(i.type==="reasoning"){let o=i.content?.[r.content_index];if(!o)throw new vt(`missing content at index ${r.content_index}`);if(o.type!=="reasoning_text")throw new vt(`expected content to be 'reasoning_text', got ${o.type}`);o.text+=r.delta}break}case"response.completed":{Ft(this,d1,r.response,"f");break}}return n},Symbol.asyncIterator)](){let e=[],r=[],n=!1;return this.on("event",i=>{let o=r.shift();o?o.resolve(i):e.push(i)}),this.on("end",()=>{n=!0;for(let i of r)i.resolve(void 0);r.length=0}),this.on("abort",i=>{n=!0;for(let o of r)o.reject(i);r.length=0}),this.on("error",i=>{n=!0;for(let o of r)o.reject(i);r.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((o,s)=>r.push({resolve:o,reject:s})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();let e=pe(this,VB,"f");if(!e)throw new vt("stream ended without producing a ChatCompletion");return e}};function g7t(t,e){return eVe(t,e)}var HA=class extends Pe{list(e,r={},n){return this._client.getAPIList(Ie`/responses/${e}/input_items`,xr,{query:r,...n})}};var VA=class extends Pe{count(e={},r){return this._client.post("/responses/input_tokens",{body:e,...r})}};var ch=class extends Pe{constructor(){super(...arguments),this.inputItems=new HA(this._client),this.inputTokens=new VA(this._client)}create(e,r){return this._client.post("/responses",{body:e,...r,stream:e.stream??!1})._thenUnwrap(n=>("object"in n&&n.object==="response"&&zB(n),n))}retrieve(e,r={},n){return this._client.get(Ie`/responses/${e}`,{query:r,...n,stream:r?.stream??!1})._thenUnwrap(i=>("object"in i&&i.object==="response"&&zB(i),i))}delete(e,r){return this._client.delete(Ie`/responses/${e}`,{...r,headers:tt([{Accept:"*/*"},r?.headers])})}parse(e,r){return this._client.responses.create(e,r)._thenUnwrap(n=>Jae(n,e))}stream(e,r){return GB.createResponse(this._client,e,r)}cancel(e,r){return this._client.post(Ie`/responses/${e}/cancel`,r)}compact(e,r){return this._client.post("/responses/compact",{body:e,...r})}};ch.InputItems=HA;ch.InputTokens=VA;var GA=class extends Pe{create(e,r,n){return this._client.post(Ie`/uploads/${e}/parts`,gl({body:r,...n},this._client))}};var p1=class extends Pe{constructor(){super(...arguments),this.parts=new GA(this._client)}create(e,r){return this._client.post("/uploads",{body:e,...r})}cancel(e,r){return this._client.post(Ie`/uploads/${e}/cancel`,r)}complete(e,r,n){return this._client.post(Ie`/uploads/${e}/complete`,{body:r,...n})}};p1.Parts=GA;var oVe=async t=>{let e=await Promise.allSettled(t),r=e.filter(i=>i.status==="rejected");if(r.length){for(let i of r)console.error(i.reason);throw new Error(`${r.length} promise(s) failed - see the above errors`)}let n=[];for(let i of e)i.status==="fulfilled"&&n.push(i.value);return n};var jA=class extends Pe{create(e,r,n){return this._client.post(Ie`/vector_stores/${e}/file_batches`,{body:r,...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,r,n){let{vector_store_id:i}=r;return this._client.get(Ie`/vector_stores/${i}/file_batches/${e}`,{...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}cancel(e,r,n){let{vector_store_id:i}=r;return this._client.post(Ie`/vector_stores/${i}/file_batches/${e}/cancel`,{...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(e,r,n){let i=await this.create(e,r);return await this.poll(e,i.id,n)}listFiles(e,r,n){let{vector_store_id:i,...o}=r;return this._client.getAPIList(Ie`/vector_stores/${i}/file_batches/${e}/files`,xr,{query:o,...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async poll(e,r,n){let i=tt([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){let{data:o,response:s}=await this.retrieve(r,{vector_store_id:e},{...n,headers:i}).withResponse();switch(o.status){case"in_progress":let a=5e3;if(n?.pollIntervalMs)a=n.pollIntervalMs;else{let c=s.headers.get("openai-poll-after-ms");if(c){let l=parseInt(c);isNaN(l)||(a=l)}}await ff(a);break;case"failed":case"cancelled":case"completed":return o}}}async uploadAndPoll(e,{files:r,fileIds:n=[]},i){if(r==null||r.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");let o=i?.maxConcurrency??5,s=Math.min(o,r.length),a=this._client,c=r.values(),l=[...n];async function u(p){for(let f of p){let h=await a.files.create({file:f,purpose:"assistants"},i);l.push(h.id)}}let d=Array(s).fill(c).map(u);return await oVe(d),await this.createAndPoll(e,{file_ids:l})}};var qA=class extends Pe{create(e,r,n){return this._client.post(Ie`/vector_stores/${e}/files`,{body:r,...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,r,n){let{vector_store_id:i}=r;return this._client.get(Ie`/vector_stores/${i}/files/${e}`,{...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,r,n){let{vector_store_id:i,...o}=r;return this._client.post(Ie`/vector_stores/${i}/files/${e}`,{body:o,...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,r={},n){return this._client.getAPIList(Ie`/vector_stores/${e}/files`,xr,{query:r,...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,r,n){let{vector_store_id:i}=r;return this._client.delete(Ie`/vector_stores/${i}/files/${e}`,{...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(e,r,n){let i=await this.create(e,r,n);return await this.poll(e,i.id,n)}async poll(e,r,n){let i=tt([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){let o=await this.retrieve(r,{vector_store_id:e},{...n,headers:i}).withResponse(),s=o.data;switch(s.status){case"in_progress":let a=5e3;if(n?.pollIntervalMs)a=n.pollIntervalMs;else{let c=o.response.headers.get("openai-poll-after-ms");if(c){let l=parseInt(c);isNaN(l)||(a=l)}}await ff(a);break;case"failed":case"completed":return s}}}async upload(e,r,n){let i=await this._client.files.create({file:r,purpose:"assistants"},n);return this.create(e,{file_id:i.id},n)}async uploadAndPoll(e,r,n){let i=await this.upload(e,r,n);return await this.poll(e,i.id,n)}content(e,r,n){let{vector_store_id:i}=r;return this._client.getAPIList(Ie`/vector_stores/${i}/files/${e}/content`,gf,{...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};var lh=class extends Pe{constructor(){super(...arguments),this.files=new qA(this._client),this.fileBatches=new jA(this._client)}create(e,r){return this._client.post("/vector_stores",{body:e,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(e,r){return this._client.get(Ie`/vector_stores/${e}`,{...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(e,r,n){return this._client.post(Ie`/vector_stores/${e}`,{body:r,...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e={},r){return this._client.getAPIList("/vector_stores",xr,{query:e,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(e,r){return this._client.delete(Ie`/vector_stores/${e}`,{...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}search(e,r,n){return this._client.getAPIList(Ie`/vector_stores/${e}/search`,gf,{body:r,method:"post",...n,headers:tt([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};lh.Files=qA;lh.FileBatches=jA;var Wv=class extends Pe{create(e,r){return this._client.post("/videos",Nae({body:e,...r},this._client))}retrieve(e,r){return this._client.get(Ie`/videos/${e}`,r)}list(e={},r){return this._client.getAPIList("/videos",rh,{query:e,...r})}delete(e,r){return this._client.delete(Ie`/videos/${e}`,r)}downloadContent(e,r={},n){return this._client.get(Ie`/videos/${e}/content`,{query:r,...n,headers:tt([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}remix(e,r,n){return this._client.post(Ie`/videos/${e}/remix`,Nae({body:r,...n},this._client))}};var WA,sVe,jB,Jv=class extends Pe{constructor(){super(...arguments),WA.add(this)}async unwrap(e,r,n=this._client.webhookSecret,i=300){return await this.verifySignature(e,r,n,i),JSON.parse(e)}async verifySignature(e,r,n=this._client.webhookSecret,i=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");pe(this,WA,"m",sVe).call(this,n);let o=tt([r]).values,s=pe(this,WA,"m",jB).call(this,o,"webhook-signature"),a=pe(this,WA,"m",jB).call(this,o,"webhook-timestamp"),c=pe(this,WA,"m",jB).call(this,o,"webhook-id"),l=parseInt(a,10);if(isNaN(l))throw new pf("Invalid webhook timestamp format");let u=Math.floor(Date.now()/1e3);if(u-l>i)throw new pf("Webhook timestamp is too old");if(l>u+i)throw new pf("Webhook timestamp is too new");let d=s.split(" ").map(m=>m.startsWith("v1,")?m.substring(3):m),p=n.startsWith("whsec_")?Buffer.from(n.replace("whsec_",""),"base64"):Buffer.from(n,"utf-8"),f=c?`${c}.${a}.${e}`:`${a}.${e}`,h=await crypto.subtle.importKey("raw",p,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(let m of d)try{let g=Buffer.from(m,"base64");if(await crypto.subtle.verify("HMAC",h,g,new TextEncoder().encode(f)))return}catch{continue}throw new pf("The given webhook signature does not match the expected signature")}};WA=new WeakSet,sVe=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},jB=function(e,r){if(!e)throw new Error("Headers are required");let n=e.get(r);if(n==null)throw new Error(`Missing required header: ${r}`);return n};var Kae,Qae,qB,aVe,Yt=class{constructor({baseURL:e=o1("OPENAI_BASE_URL"),apiKey:r=o1("OPENAI_API_KEY"),organization:n=o1("OPENAI_ORG_ID")??null,project:i=o1("OPENAI_PROJECT_ID")??null,webhookSecret:o=o1("OPENAI_WEBHOOK_SECRET")??null,...s}={}){if(Kae.add(this),qB.set(this,void 0),this.completions=new Lv(this),this.chat=new r1(this),this.embeddings=new $v(this),this.files=new Fv(this),this.images=new Gv(this),this.audio=new yf(this),this.moderations=new qv(this),this.models=new jv(this),this.fineTuning=new Jd(this),this.graders=new u1(this),this.vectorStores=new lh(this),this.webhooks=new Jv(this),this.beta=new Wd(this),this.batches=new Ov(this),this.uploads=new p1(this),this.responses=new ch(this),this.realtime=new ah(this),this.conversations=new c1(this),this.evals=new l1(this),this.containers=new a1(this),this.videos=new Wv(this),r===void 0)throw new vt("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");let a={apiKey:r,organization:n,project:i,webhookSecret:o,...s,baseURL:e||"https://api.openai.com/v1"};if(!a.dangerouslyAllowBrowser&&mHe())throw new vt(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=a.baseURL,this.timeout=a.timeout??Qae.DEFAULT_TIMEOUT,this.logger=a.logger??console;let c="warn";this.logLevel=c,this.logLevel=Aae(a.logLevel,"ClientOptions.logLevel",this)??Aae(o1("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??c,this.fetchOptions=a.fetchOptions,this.maxRetries=a.maxRetries??2,this.fetch=a.fetch??gHe(),Ft(this,qB,bHe,"f"),this._options=a,this.apiKey=typeof r=="string"?r:"Missing Key",this.organization=n,this.project=i,this.webhookSecret=o}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:r}){}async authHeaders(e){return tt([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return xae(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${Z0}`}defaultIdempotencyKey(){return`stainless-node-retry-${pae()}`}makeStatusError(e,r,n,i){return Vo.generate(e,r,n,i)}async _callApiKey(){let e=this._options.apiKey;if(typeof e!="function")return!1;let r;try{r=await e()}catch(n){throw n instanceof vt?n:new vt(`Failed to get token from 'apiKey' function: ${n.message}`,{cause:n})}if(typeof r!="string"||!r)throw new vt(`Expected 'apiKey' function argument to return a string but it returned ${r}`);return this.apiKey=r,!0}buildURL(e,r,n){let i=!pe(this,Kae,"m",aVe).call(this)&&n||this.baseURL,o=sHe(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return aHe(s)||(r={...s,...r}),typeof r=="object"&&r&&!Array.isArray(r)&&(o.search=this.stringifyQuery(r)),o.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,{url:r,options:n}){}get(e,r){return this.methodRequest("get",e,r)}post(e,r){return this.methodRequest("post",e,r)}patch(e,r){return this.methodRequest("patch",e,r)}put(e,r){return this.methodRequest("put",e,r)}delete(e,r){return this.methodRequest("delete",e,r)}methodRequest(e,r,n){return this.request(Promise.resolve(n).then(i=>({method:e,path:r,...i})))}request(e,r=null){return new Rv(this,this.makeRequest(e,r,void 0))}async makeRequest(e,r,n){let i=await e,o=i.maxRetries??this.maxRetries;r==null&&(r=o),await this.prepareOptions(i);let{req:s,url:a,timeout:c}=await this.buildRequest(i,{retryCount:o-r});await this.prepareRequest(s,{url:a,options:i});let l="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),u=n===void 0?"":`, retryOf: ${n}`,d=Date.now();if(ro(this).debug(`[${l}] sending request`,th({retryOfRequestLogID:n,method:i.method,url:a,options:i,headers:s.headers})),i.signal?.aborted)throw new Co;let p=new AbortController,f=await this.fetchWithTimeout(a,s,c,p).catch(Z3),h=Date.now();if(f instanceof globalThis.Error){let y=`retrying, ${r} attempts remaining`;if(i.signal?.aborted)throw new Co;let v=Y3(f)||/timed? ?out/i.test(String(f)+("cause"in f?String(f.cause):""));if(r)return ro(this).info(`[${l}] connection ${v?"timed out":"failed"} - ${y}`),ro(this).debug(`[${l}] connection ${v?"timed out":"failed"} (${y})`,th({retryOfRequestLogID:n,url:a,durationMs:h-d,message:f.message})),this.retryRequest(i,r,n??l);throw ro(this).info(`[${l}] connection ${v?"timed out":"failed"} - error; no more retries left`),ro(this).debug(`[${l}] connection ${v?"timed out":"failed"} (error; no more retries left)`,th({retryOfRequestLogID:n,url:a,durationMs:h-d,message:f.message})),v?new Y0:new X0({cause:f})}let m=[...f.headers.entries()].filter(([y])=>y==="x-request-id").map(([y,v])=>", "+y+": "+JSON.stringify(v)).join(""),g=`[${l}${u}${m}] ${s.method} ${a} ${f.ok?"succeeded":"failed"} with status ${f.status} in ${h-d}ms`;if(!f.ok){let y=await this.shouldRetry(f);if(r&&y){let D=`retrying, ${r} attempts remaining`;return await yHe(f.body),ro(this).info(`${g} - ${D}`),ro(this).debug(`[${l}] response error (${D})`,th({retryOfRequestLogID:n,url:f.url,status:f.status,headers:f.headers,durationMs:h-d})),this.retryRequest(i,r,n??l,f.headers)}let v=y?"error; no more retries left":"error; not retryable";ro(this).info(`${g} - ${v}`);let S=await f.text().catch(D=>Z3(D).message),w=uHe(S),E=w?void 0:S;throw ro(this).debug(`[${l}] response error (${v})`,th({retryOfRequestLogID:n,url:f.url,status:f.status,headers:f.headers,message:E,durationMs:Date.now()-d})),this.makeStatusError(f.status,w,E,f.headers)}return ro(this).info(g),ro(this).debug(`[${l}] response start`,th({retryOfRequestLogID:n,url:f.url,status:f.status,headers:f.headers,durationMs:h-d})),{response:f,options:i,controller:p,requestLogID:l,retryOfRequestLogID:n,startTime:d}}getAPIList(e,r,n){return this.requestAPIList(r,{method:"get",path:e,...n})}requestAPIList(e,r){let n=this.makeRequest(r,null,void 0);return new o5(this,n,e)}async fetchWithTimeout(e,r,n,i){let{signal:o,method:s,...a}=r||{};o&&o.addEventListener("abort",()=>i.abort());let c=setTimeout(()=>i.abort(),n),l=globalThis.ReadableStream&&a.body instanceof globalThis.ReadableStream||typeof a.body=="object"&&a.body!==null&&Symbol.asyncIterator in a.body,u={signal:i.signal,...l?{duplex:"half"}:{},method:"GET",...a};s&&(u.method=s.toUpperCase());try{return await this.fetch.call(void 0,e,u)}finally{clearTimeout(c)}}async shouldRetry(e){let r=e.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,r,n,i){let o,s=i?.get("retry-after-ms");if(s){let c=parseFloat(s);Number.isNaN(c)||(o=c)}let a=i?.get("retry-after");if(a&&!o){let c=parseFloat(a);Number.isNaN(c)?o=Date.parse(a)-Date.now():o=c*1e3}if(!(o&&0<=o&&o<60*1e3)){let c=e.maxRetries??this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(r,c)}return await ff(o),this.makeRequest(e,r-1,n)}calculateDefaultRetryTimeoutMillis(e,r){let o=r-e,s=Math.min(.5*Math.pow(2,o),8),a=1-Math.random()*.25;return s*a*1e3}async buildRequest(e,{retryCount:r=0}={}){let n={...e},{method:i,path:o,query:s,defaultBaseURL:a}=n,c=this.buildURL(o,s,a);"timeout"in n&&lHe("timeout",n.timeout),n.timeout=n.timeout??this.timeout;let{bodyHeaders:l,body:u}=this.buildBody({options:n}),d=await this.buildHeaders({options:e,method:i,bodyHeaders:l,retryCount:r});return{req:{method:i,headers:d,...n.signal&&{signal:n.signal},...globalThis.ReadableStream&&u instanceof globalThis.ReadableStream&&{duplex:"half"},...u&&{body:u},...this.fetchOptions??{},...n.fetchOptions??{}},url:c,timeout:n.timeout}}async buildHeaders({options:e,method:r,bodyHeaders:n,retryCount:i}){let o={};this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);let s=tt([o,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...hHe(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,n,e.headers]);return this.validateHeaders(s),s.values}buildBody({options:{body:e,headers:r}}){if(!e)return{bodyHeaders:void 0,body:void 0};let n=tt([r]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&n.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:bB(e)}:pe(this,qB,"f").call(this,{body:e,headers:n})}};Qae=Yt,qB=new WeakMap,Kae=new WeakSet,aVe=function(){return this.baseURL!=="https://api.openai.com/v1"};Yt.OpenAI=Qae;Yt.DEFAULT_TIMEOUT=6e5;Yt.OpenAIError=vt;Yt.APIError=Vo;Yt.APIConnectionError=X0;Yt.APIConnectionTimeoutError=Y0;Yt.APIUserAbortError=Co;Yt.NotFoundError=aA;Yt.ConflictError=cA;Yt.RateLimitError=uA;Yt.BadRequestError=iA;Yt.AuthenticationError=oA;Yt.InternalServerError=dA;Yt.PermissionDeniedError=sA;Yt.UnprocessableEntityError=lA;Yt.InvalidWebhookSignatureError=pf;Yt.toFile=RB;Yt.Completions=Lv;Yt.Chat=r1;Yt.Embeddings=$v;Yt.Files=Fv;Yt.Images=Gv;Yt.Audio=yf;Yt.Moderations=qv;Yt.Models=jv;Yt.FineTuning=Jd;Yt.Graders=u1;Yt.VectorStores=lh;Yt.Webhooks=Jv;Yt.Beta=Wd;Yt.Batches=Ov;Yt.Uploads=p1;Yt.Responses=ch;Yt.Realtime=ah;Yt.Conversations=c1;Yt.Evals=l1;Yt.Containers=a1;Yt.Videos=Wv;function cVe(){let t=null;return()=>{if(!t){let e=process.env.ANTHROPIC_API_KEY;if(!e)throw new Error("ANTHROPIC_API_KEY environment variable is not set. Claude agent cannot trade.");t=new Ic({apiKey:e})}return t}}function lVe(){let t=null;return()=>{if(!t){let e=process.env.OPENAI_API_KEY;if(!e)throw new Error("OPENAI_API_KEY environment variable is not set. GPT agent cannot trade.");t=new Yt({apiKey:e})}return t}}function uVe(){let t=null;return()=>{if(!t){let e=process.env.XAI_API_KEY;if(!e)throw new Error("XAI_API_KEY environment variable is not set. Grok agent cannot trade.");t=new Yt({apiKey:e,baseURL:"https://api.x.ai/v1"})}return t}}var w7t={agentId:"claude-value-investor",name:"Opus 4.6",model:"claude-opus-4-6",provider:"anthropic",description:"Flagship autonomous trading agent powered by Anthropic Claude Opus 4.6 \u2014 the most capable reasoning model.",personality:"Deep analytical thinker. Builds sophisticated multi-factor theses with extended reasoning.",tradingStyle:"Thesis-driven portfolio construction with rigorous risk management.",riskTolerance:"moderate",maxPositionSize:25,maxPortfolioAllocation:80,temperature:1,skillOverrides:{AGENT_NAME:"Opus 4.6"}},Xae=class extends G0{getClient;constructor(){super(w7t),this.getClient=cVe()}getProviderTools(){return fze()}buildInitialMessages(e){return[{role:"user",content:e}]}appendUserMessage(e,r){return[...e,{role:"user",content:r}]}appendToolResults(e,r,n){let i=[];r.textResponse&&i.push({type:"text",text:r.textResponse});for(let s of r.toolCalls)i.push({type:"tool_use",id:s.id,name:s.name,input:s.arguments});let o=n.map(s=>({type:"tool_result",tool_use_id:s.toolCallId,content:s.result}));return[...e,{role:"assistant",content:i},{role:"user",content:o}]}async callWithTools(e,r,n){let o=await this.getClient().messages.create({model:this.config.model,max_tokens:16e3,system:e,messages:r,...n.length>0?{tools:n}:{},temperature:this.config.temperature}),s=[],a=null;for(let u of o.content)u.type==="tool_use"?s.push({id:u.id,name:u.name,arguments:u.input}):u.type==="text"&&(a=(a??"")+u.text);let c="end_turn";o.stop_reason==="tool_use"?c="tool_use":o.stop_reason==="max_tokens"&&(c="max_tokens");let l=o.usage?{inputTokens:o.usage.input_tokens,outputTokens:o.usage.output_tokens}:void 0;return{toolCalls:s,textResponse:a,stopReason:c,usage:l}}},dVe=new Xae;function WB(t){return[{role:"user",content:t}]}function JB(t,e,r){let n={role:"assistant",content:e.textResponse??null,tool_calls:e.toolCalls.map(o=>({id:o.id,type:"function",function:{name:o.name,arguments:JSON.stringify(o.arguments)}}))},i=r.map(o=>({role:"tool",tool_call_id:o.toolCallId,content:o.result}));return[...t,n,...i]}function A7t(t){if(!t.choices||t.choices.length===0)return{toolCalls:[],textResponse:null,stopReason:"end_turn"};let e=t.choices[0];if(!e||!e.message)return{toolCalls:[],textResponse:null,stopReason:"end_turn"};let r=e.message,n=(r.tool_calls??[]).filter(s=>s.type==="function").map(s=>({id:s.id,name:s.function.name,arguments:JSON.parse(s.function.arguments||"{}")})),i="end_turn";e.finish_reason==="tool_calls"?i="tool_use":e.finish_reason==="length"&&(i="max_tokens");let o=t.usage?{inputTokens:t.usage.prompt_tokens,outputTokens:t.usage.completion_tokens}:void 0;return{toolCalls:n,textResponse:r.content??null,stopReason:i,usage:o}}function KB(t,e,r,n){return async(i,o,s)=>{let a=t(),c={model:e,temperature:r,messages:[{role:"system",content:i},...o],...s.length>0?{tools:s}:{}};n?.useCompletionTokens||e.startsWith("gpt-5")?c.max_completion_tokens=16e3:c.max_tokens=16e3,n?.reasoningEffort&&(c.reasoning_effort=n.reasoningEffort);let l=await a.chat.completions.create(c);return A7t(l)}}var pVe={agentId:"gpt-momentum-trader",name:"GPT-5.2",model:"gpt-5.2",provider:"openai",description:"Flagship autonomous trading agent powered by OpenAI GPT-5.2 with xhigh reasoning effort \u2014 top-tier intelligence with 400K context.",personality:"Systematic reasoner. Builds detailed mental models before trading decisions.",tradingStyle:"Multi-step reasoning with explicit uncertainty quantification.",riskTolerance:"moderate",maxPositionSize:25,maxPortfolioAllocation:80,temperature:1,reasoningEffort:"xhigh",skillOverrides:{AGENT_NAME:"GPT-5.2"}},Yae=class extends G0{callWithTools;constructor(){super(pVe);let e=lVe();this.callWithTools=KB(e,this.config.model,this.config.temperature,{reasoningEffort:pVe.reasoningEffort})}getProviderTools(){return zL()}buildInitialMessages(e){return WB(e)}appendUserMessage(e,r){return[...e,{role:"user",content:r}]}appendToolResults(e,r,n){return JB(e,r,n)}},fVe=new Yae;var E7t={agentId:"grok-contrarian",name:"Grok 4",model:"grok-4",provider:"xai",description:"Flagship autonomous trading agent powered by xAI Grok 4 \u2014 frontier reasoning model with real-time X/Twitter sentiment.",personality:"Contrarian thinker with access to real-time X/Twitter sentiment and breaking news.",tradingStyle:"News-driven catalyst trading with contrarian positioning.",riskTolerance:"moderate",maxPositionSize:25,maxPortfolioAllocation:80,temperature:.7,skillOverrides:{AGENT_NAME:"Grok 4"}},Zae=class extends G0{callWithTools;constructor(){super(E7t);let e=uVe();this.callWithTools=KB(e,this.config.model,this.config.temperature)}getProviderTools(){return zL()}buildInitialMessages(e){return WB(e)}appendUserMessage(e,r){return[...e,{role:"user",content:r}]}appendToolResults(e,r,n){return JB(e,r,n)}},mVe=new Zae;Ci();var fXe=1500*1e3,mXe=process.env.AGENT_STATE_TABLE||"moltapp-agent-state",hXe="TRADING_LOCK",Oi=null;function gXe(){return`lock_${Date.now()}_${Math.random().toString(36).slice(2,8)}`}function yXe(){return Oi?Date.now()>Oi.expiresAt:!0}async function YVt(t){if(Oi&&!yXe())return console.log(`[TradingLock] Lock already held by "${Oi.holderInfo}" (acquired ${new Date(Oi.acquiredAt).toISOString()}). Skipping.`),{acquired:!1,lockId:null,existingLock:{lockId:Oi.lockId,acquiredAt:new Date(Oi.acquiredAt).toISOString(),expiresAt:new Date(Oi.expiresAt).toISOString(),holderInfo:Oi.holderInfo,isExpired:!1}};let e=await eGt(t);if(e!==null)return e;let r=gXe(),n=Date.now();return Oi={lockId:r,acquiredAt:n,expiresAt:n+fXe,holderInfo:t},console.log(`[TradingLock] Lock acquired: ${r} by "${t}" (expires ${new Date(Oi.expiresAt).toISOString()})`),{acquired:!0,lockId:r,existingLock:null}}async function ZVt(t){if(!Oi||Oi.lockId!==t)return console.warn(`[TradingLock] Cannot release: lock ${t} not found or doesn't match current lock`),!1;let e=Oi.holderInfo;return Oi=null,await tGt(t),console.log(`[TradingLock] Lock released: ${t} (was held by "${e}")`),!0}function aC(){return Oi?yXe()?(console.log(`[TradingLock] Lock ${Oi.lockId} expired, auto-releasing`),Oi=null,{isLocked:!1,lock:null}):{isLocked:!0,lock:{lockId:Oi.lockId,acquiredAt:new Date(Oi.acquiredAt).toISOString(),expiresAt:new Date(Oi.expiresAt).toISOString(),holderInfo:Oi.holderInfo,isExpired:!1}}:{isLocked:!1,lock:null}}async function bXe(t,e){let r=await YVt(t);if(!r.acquired||!r.lockId)return console.log(`[TradingLock] Could not acquire lock for "${t}". Skipping execution.`),null;let n=r.lockId;try{return{result:await e(),lockId:n}}finally{await ZVt(n)}}async function eGt(t){if(!process.env.AWS_LAMBDA_FUNCTION_NAME)return null;try{let{DynamoDBClient:e,PutItemCommand:r}=await Promise.resolve().then(()=>(D$(),rpe)),n=new e({}),i=gXe(),o=Date.now(),s=o+fXe,a=Math.floor(s/1e3);return await n.send(new r({TableName:mXe,Item:{agentId:{S:hXe},lockId:{S:i},acquiredAt:{S:new Date(o).toISOString()},expiresAt:{S:new Date(s).toISOString()},holderInfo:{S:t},ttl:{N:String(a)},status:{S:"active"},lastTradeTimestamp:{S:new Date(o).toISOString()}},ConditionExpression:"attribute_not_exists(agentId) OR expiresAt < :now",ExpressionAttributeValues:{":now":{S:new Date(o).toISOString()}}})),Oi={lockId:i,acquiredAt:o,expiresAt:s,holderInfo:t},console.log(`[TradingLock] DynamoDB lock acquired: ${i} by "${t}"`),{acquired:!0,lockId:i,existingLock:null}}catch(e){return e instanceof Error&&e.name==="ConditionalCheckFailedException"?(console.log("[TradingLock] DynamoDB lock held by another instance. Skipping."),{acquired:!1,lockId:null,existingLock:null}):(console.warn(`[TradingLock] DynamoDB lock failed, falling back to in-memory: ${He(e)}`),null)}}async function tGt(t){if(process.env.AWS_LAMBDA_FUNCTION_NAME)try{let{DynamoDBClient:e,DeleteItemCommand:r}=await Promise.resolve().then(()=>(D$(),rpe));await new e({}).send(new r({TableName:mXe,Key:{agentId:{S:hXe}},ConditionExpression:"lockId = :lockId",ExpressionAttributeValues:{":lockId":{S:t}}})),console.log(`[TradingLock] DynamoDB lock released: ${t}`)}catch(e){console.warn(`[TradingLock] DynamoDB release failed (non-critical): ${He(e)}`)}}var rGt={maxTradeUsdc:5,dailyLossLimitPercent:10,cooldownSeconds:0,positionLimitPercent:25,maxDailyTrades:6},npe=new Map,cE=[],as={...rGt};function vXe(t){let e=new Date().toISOString().slice(0,10),r=npe.get(t);return(!r||r.currentDay!==e)&&(r={lastTradeTime:r?.lastTradeTime??null,dailyStartValue:0,currentDay:e,tradesToday:0},npe.set(t,r)),r}function _1(t){cE.push(t),console.warn(`[CircuitBreaker] ${t.action.toUpperCase()}: ${t.breaker} \u2014 ${t.reason} (agent: ${t.agentId})`),cE.length>1e3&&cE.splice(0,cE.length-1e3)}function _Xe(t,e,r){let n=[],i={...e};if(e.action==="hold")return{allowed:!0,decision:i,activations:n};let o=vXe(t);if(o.dailyStartValue===0&&(o.dailyStartValue=r.totalValue),o.lastTradeTime){let s=new Date(o.lastTradeTime).getTime(),a=(Date.now()-s)/1e3;if(a<as.cooldownSeconds){let c=Math.ceil(as.cooldownSeconds-a),l={breaker:"COOLDOWN_PERIOD",reason:`Agent last traded ${Math.round(a)}s ago. Cooldown requires ${as.cooldownSeconds}s. ${c}s remaining.`,agentId:t,timestamp:new Date().toISOString(),action:"blocked"};return n.push(l),_1(l),{allowed:!1,decision:{...i,action:"hold",quantity:0,reasoning:`[Circuit Breaker: Cooldown] ${l.reason} Original: ${e.reasoning}`},activations:n}}}if(o.dailyStartValue>0){let s=(r.totalValue-o.dailyStartValue)/o.dailyStartValue*100;if(s<=-as.dailyLossLimitPercent){let a={breaker:"DAILY_LOSS_LIMIT",reason:`Daily PnL is ${s.toFixed(2)}% (limit: -${as.dailyLossLimitPercent}%). Trading halted for the day.`,agentId:t,timestamp:new Date().toISOString(),action:"blocked"};return n.push(a),_1(a),{allowed:!1,decision:{...i,action:"hold",quantity:0,reasoning:`[Circuit Breaker: Daily Loss Limit] ${a.reason} Original: ${e.reasoning}`},activations:n}}}if(o.tradesToday>=as.maxDailyTrades){let s={breaker:"MAX_DAILY_TRADES",reason:`Agent has made ${o.tradesToday} trades today (limit: ${as.maxDailyTrades}). No more trades allowed.`,agentId:t,timestamp:new Date().toISOString(),action:"blocked"};return n.push(s),_1(s),{allowed:!1,decision:{...i,action:"hold",quantity:0,reasoning:`[Circuit Breaker: Daily Trade Limit] ${s.reason} Original: ${e.reasoning}`},activations:n}}if(e.action==="buy"&&e.quantity>as.maxTradeUsdc){let s=e.quantity;i.quantity=as.maxTradeUsdc;let a={breaker:"MAX_TRADE_SIZE",reason:`Buy order of $${s.toFixed(2)} USDC exceeds limit of $${as.maxTradeUsdc}. Clamped to $${as.maxTradeUsdc}.`,agentId:t,timestamp:new Date().toISOString(),action:"clamped"};n.push(a),_1(a),i.reasoning=`[Circuit Breaker: Trade Size Clamped from $${s.toFixed(2)} to $${as.maxTradeUsdc}] ${e.reasoning}`}if(e.action==="buy"){let s=r.positions.find(d=>d.symbol.toLowerCase()===e.symbol.toLowerCase()),a=s?s.currentPrice*s.quantity:0,c=i.quantity,l=a+c,u=r.totalValue>0?l/r.totalValue*100:100;if(u>as.positionLimitPercent){let d=as.positionLimitPercent/100*r.totalValue-a;if(d<=0){let h={breaker:"POSITION_LIMIT",reason:`Position in ${e.symbol} is already at ${u.toFixed(1)}% of portfolio (limit: ${as.positionLimitPercent}%). Trade blocked.`,agentId:t,timestamp:new Date().toISOString(),action:"blocked"};return n.push(h),_1(h),{allowed:!1,decision:{...i,action:"hold",quantity:0,reasoning:`[Circuit Breaker: Position Limit] ${h.reason} Original: ${e.reasoning}`},activations:n}}let p=i.quantity;i.quantity=Math.floor(d*100)/100;let f={breaker:"POSITION_LIMIT",reason:`Buy would put ${e.symbol} at ${u.toFixed(1)}% of portfolio (limit: ${as.positionLimitPercent}%). Clamped from $${p.toFixed(2)} to $${i.quantity.toFixed(2)}.`,agentId:t,timestamp:new Date().toISOString(),action:"clamped"};n.push(f),_1(f)}}if(e.action==="buy"&&i.quantity>r.cashBalance){if(r.cashBalance<=1){let c={breaker:"INSUFFICIENT_FUNDS",reason:`Cash balance $${r.cashBalance.toFixed(2)} insufficient for any buy. Trade blocked.`,agentId:t,timestamp:new Date().toISOString(),action:"blocked"};return n.push(c),_1(c),{allowed:!1,decision:{...i,action:"hold",quantity:0,reasoning:`[Circuit Breaker: Insufficient Funds] ${c.reason} Original: ${e.reasoning}`},activations:n}}let s=i.quantity;i.quantity=Math.floor(r.cashBalance*100)/100;let a={breaker:"INSUFFICIENT_FUNDS",reason:`Buy of $${s.toFixed(2)} exceeds cash balance $${r.cashBalance.toFixed(2)}. Clamped to $${i.quantity.toFixed(2)}.`,agentId:t,timestamp:new Date().toISOString(),action:"clamped"};n.push(a),_1(a)}return{allowed:!0,decision:i,activations:n}}function SXe(t){let e=vXe(t);e.lastTradeTime=new Date().toISOString(),e.tradesToday++}function M$(){let t={};for(let[e,r]of npe){let n=r.lastTradeTime?Math.max(0,as.cooldownSeconds-(Date.now()-new Date(r.lastTradeTime).getTime())/1e3):0;t[e]={lastTradeTime:r.lastTradeTime,tradesToday:r.tradesToday,cooldownRemaining:Math.round(n),dailyLossTriggered:!1}}return{config:{...as},agentStates:t,totalActivations:cE.length,recentActivations:cE.slice(-10)}}var cC=class{tokens;config;queue=[];processing=!1;lastRefillTime;refillIntervalId=null;_totalRequests=0;_rateLimitHits=0;_totalWaitMs=0;constructor(e){this.config=e,this.tokens=e.maxTokens,this.lastRefillTime=Date.now(),this.refillIntervalId=setInterval(()=>{this.refill()},e.refillIntervalMs)}get metrics(){return{name:this.config.name,currentTokens:this.tokens,maxTokens:this.config.maxTokens,queueDepth:this.queue.length,totalRequests:this._totalRequests,rateLimitHits:this._rateLimitHits,totalWaitMs:this._totalWaitMs,avgWaitMs:this._totalRequests>0?Math.round(this._totalWaitMs/this._totalRequests):0}}async execute(e){if(this._totalRequests++,this.tokens>0)return this.tokens--,e();this._rateLimitHits++;let r=this.config.maxQueueSize??0;if(r>0&&this.queue.length>=r)throw new Error(`[RateLimiter:${this.config.name}] Queue full (${r} items). Request rejected.`);return new Promise((n,i)=>{this.queue.push({execute:e,resolve:n,reject:i,enqueuedAt:Date.now()})})}refill(){let e=Date.now(),r=e-this.lastRefillTime,n=Math.floor(r/this.config.refillIntervalMs);n>0&&(this.tokens=Math.min(this.config.maxTokens,this.tokens+this.config.refillRate*n),this.lastRefillTime=e),this.processQueue()}async processQueue(){if(!this.processing){this.processing=!0;try{for(;this.queue.length>0&&this.tokens>0;){this.tokens--;let e=this.queue.shift();if(!e)break;this._totalWaitMs+=Date.now()-e.enqueuedAt;try{let r=await e.execute();e.resolve(r)}catch(r){e.reject(r instanceof Error?r:new Error(String(r)))}}}finally{this.processing=!1}}}destroy(){for(this.refillIntervalId!==null&&(clearInterval(this.refillIntervalId),this.refillIntervalId=null);this.queue.length>0;)this.queue.shift()?.reject(new Error(`[RateLimiter:${this.config.name}] Shutting down`))}},dkn=new cC({name:"solana-rpc",maxTokens:5,refillRate:5,refillIntervalMs:1e3,maxQueueSize:100}),pkn=new cC({name:"llm-api",maxTokens:10,refillRate:10,refillIntervalMs:6e4,maxQueueSize:20}),nGt=new cC({name:"jupiter-dex",maxTokens:2,refillRate:2,refillIntervalMs:1e3,maxQueueSize:50});function iGt(){return 1e3+Math.floor(Math.random()*4e3)}async function xXe(){let t=iGt();console.log(`[RateLimiter] Applying ${t}ms jitter before next trade execution`),await new Promise(e=>setTimeout(e,t))}Ci();var oGt=1800*1e3,sGt=50,wXe=100,lE=new Map,lC=0,L$=0,AXe=0,EXe=null,TXe=aGt;async function aGt(t){let e=[],r=new Date;for(let n of t.slice(0,10)){let i=n.replace(/x$/i,""),o=[{titleTemplate:`${i} reports stronger-than-expected quarterly revenue`,sentiment:"positive"},{titleTemplate:`Analysts revise ${i} price target amid market volatility`,sentiment:"neutral"},{titleTemplate:`${i} faces regulatory scrutiny in key market`,sentiment:"negative"}],s=o[Math.floor(Math.random()*o.length)];e.push({title:s.titleTemplate,summary:`Market analysis for ${i} stock. Trading volume and institutional interest remain factors to watch.`,source:"MoltApp Market Intelligence",url:`https://patgpt.us/news/${n.toLowerCase()}`,publishedAt:new Date(r.getTime()-Math.floor(Math.random()*36e5)).toISOString(),sentiment:s.sentiment,relevantSymbols:[n]})}return e.push({title:"Market Overview: Major indices show mixed signals",summary:"US equities are showing divergent trends across sectors. Technology stocks continue to attract institutional flows while value sectors trade sideways. Volatility remains elevated compared to historical averages.",source:"MoltApp Market Intelligence",url:"https://patgpt.us/news/market-overview",publishedAt:r.toISOString(),sentiment:"neutral",relevantSymbols:["SPYx","QQQx"]}),e}function cGt(t){return`news:${t.map(r=>r.toUpperCase().trim()).sort().join(",")}`}async function RXe(t){lC++;let e=cGt(t),r=lE.get(e);if(r&&Date.now()<r.expiresAtMs)return L$++,console.log(`[SearchCache] Cache HIT for ${t.length} symbols (${L$}/${lC} hit rate)`),r.result;AXe++,console.log(`[SearchCache] Cache MISS for ${t.length} symbols. Fetching fresh data...`);try{let n=await TXe(t),i=new Date,o=new Date(i.getTime()+oGt),s={query:t.join(","),items:n.slice(0,sGt),cachedAt:i.toISOString(),expiresAt:o.toISOString(),source:"search-cache"};return lE.set(e,{result:s,expiresAtMs:o.getTime()}),EXe=i.toISOString(),lE.size>wXe&&lGt(),s}catch(n){return console.error(`[SearchCache] Search failed: ${He(n)}`),r?(console.log("[SearchCache] Returning stale cached data"),r.result):{query:t.join(","),items:[],cachedAt:new Date().toISOString(),expiresAt:new Date().toISOString(),source:"search-cache-error"}}}function IXe(t){if(t.items.length===0)return"No recent news available.";let e=t.items.map(r=>{let n=r.sentiment==="positive"?"[+]":r.sentiment==="negative"?"[-]":"[=]",i=r.relevantSymbols.length>0?` (${r.relevantSymbols.join(", ")})`:"";return`${n} ${r.title}${i}
    ${r.summary}`});return`RECENT NEWS & MARKET INTELLIGENCE (cached ${t.cachedAt}):
${e.join(`

`)}`}function CXe(t){TXe=t,console.log("[SearchCache] Search provider updated")}function ipe(){return{totalRequests:lC,cacheHits:L$,cacheMisses:AXe,hitRate:lC>0?Math.round(L$/lC*100):0,itemsCached:lE.size,lastRefreshAt:EXe}}function lGt(){let t=Array.from(lE.entries()).sort(([,r],[,n])=>r.expiresAtMs-n.expiresAtMs),e=t.length-wXe;for(let r=0;r<e;r++)lE.delete(t[r][0]);console.log(`[SearchCache] Evicted ${e} stale cache entries`)}Ci();var OXe={};for(let t of si){let e=t.symbol.replace(/x$/i,"");OXe[t.symbol]=`${t.name} ${e}`}async function NXe(t,e){let r=new URL("https://api.search.brave.com/res/v1/web/search");r.searchParams.set("q",t),r.searchParams.set("count","5");let n=await fetch(r.toString(),{headers:{"X-Subscription-Token":e,Accept:"application/json"}});return n.ok?((await n.json()).web?.results??[]).slice(0,5).map(s=>({title:s.title??"",description:(s.description??"").slice(0,300),url:s.url??""})):(console.warn(`[BraveSearch] Query "${t}" failed: ${n.status}`),[])}async function PXe(t){let e=process.env.BRAVE_API_KEY;if(!e)return console.warn("[BraveSearch] BRAVE_API_KEY not set \u2014 falling back to default provider"),[];let r=t.slice(0,6),n=[],i=new Date;for(let o of r){let a=`${OXe[o]??o.replace(/x$/i,"")} stock news today 2026`;try{let c=await NXe(a,e);for(let l of c)n.push({title:l.title,summary:l.description,source:"Brave Search",url:l.url,publishedAt:i.toISOString(),sentiment:"neutral",relevantSymbols:[o]})}catch(c){console.warn(`[BraveSearch] Error searching ${o}: ${He(c)}`)}}try{let o=await NXe("stock market news today 2026",e);for(let s of o)n.push({title:s.title,summary:s.description,source:"Brave Search",url:s.url,publishedAt:i.toISOString(),sentiment:"neutral",relevantSymbols:["SPYx","QQQx"]})}catch(o){console.warn(`[BraveSearch] Market overview search failed: ${He(o)}`)}return console.log(`[BraveSearch] Fetched ${n.length} results for ${r.length} symbols`),n}Ci();var uGt=1,dGt=2,pGt=3,fGt=4,mGt=5,hGt=6,gGt=7,yGt=8,bGt=9,kXe=10,DXe=-32700,MXe=-32603,LXe=-32602,BXe=-32601,$Xe=-32600,vGt=-32019,_Gt=-32018,SGt=-32017,xGt=-32016,UXe=-32015,FXe=-32014,wGt=-32013,zXe=-32012,AGt=-32011,HXe=-32010,VXe=-32009,EGt=-32008,GXe=-32007,jXe=-32006,TGt=-32005,qXe=-32004,RGt=-32003,ope=-32002,WXe=-32001,spe=28e5,ape=2800001,IGt=2800002,JXe=2800003,KXe=2800004,QXe=2800005,cpe=2800006,lpe=2800007,B$=2800008,upe=2800009,XXe=2800010,YXe=2800011,CGt=323e4,NGt=32300001,OGt=3230002,PGt=3230003,kGt=3230004,DGt=361e4,dpe=3610001,ZXe=3610002,eYe=3610003,tYe=3610004,rYe=3610005,nYe=3610006,MGt=3610007,iYe=3611e3,LGt=3704e3,BGt=3704001,$Gt=3704002,UGt=3704003,FGt=3704004,zGt=4128e3,HGt=4128001,VGt=4128002,oYe=4615e3,GGt=4615001,jGt=4615002,qGt=4615003,WGt=4615004,JGt=4615005,KGt=4615006,QGt=4615007,XGt=4615008,YGt=4615009,ZGt=4615010,ejt=4615011,tjt=4615012,rjt=4615013,njt=4615014,ijt=4615015,ojt=4615016,sjt=4615017,ajt=4615018,cjt=4615019,ljt=4615020,ujt=4615021,djt=4615022,pjt=4615023,fjt=4615024,mjt=4615025,sYe=4615026,hjt=4615027,gjt=4615028,yjt=4615029,bjt=4615030,vjt=4615031,_jt=4615032,Sjt=4615033,xjt=4615034,wjt=4615035,Ajt=4615036,Ejt=4615037,Tjt=4615038,Rjt=4615039,Ijt=4615040,Cjt=4615041,Njt=4615042,Ojt=4615043,Pjt=4615044,kjt=4615045,Djt=4615046,Mjt=4615047,Ljt=4615048,Bjt=4615049,$jt=4615050,Ujt=4615051,Fjt=4615052,zjt=4615053,Hjt=4615054,Vjt=5508e3,Gjt=5508001,jjt=5508002,qjt=5508003,Wjt=5508004,Jjt=5508005,Kjt=5508006,Qjt=5508007,Xjt=5508008,Yjt=5508009,Zjt=5508010,eqt=5508011,tqt=5607e3,rqt=5607001,nqt=5607002,iqt=5607003,oqt=5607004,sqt=5607005,aqt=5607006,cqt=5607007,lqt=5607008,uqt=5607009,dqt=5607010,pqt=5607011,fqt=5607012,mqt=5607013,hqt=5607014,gqt=5607015,yqt=5607016,bqt=5607017,vqt=5663e3,_qt=5663001,Sqt=5663002,xqt=5663003,wqt=5663004,Aqt=5663005,Eqt=5663006,Tqt=5663007,Rqt=5663008,Iqt=5663009,Cqt=5663010,Nqt=5663011,Oqt=5663012,Pqt=5663013,kqt=5663014,Dqt=5663015,Mqt=5663016,Lqt=5663017,Bqt=5663018,$qt=5663019,Uqt=5663020,Fqt=5663021,zqt=5663022,aYe=705e4,Hqt=7050001,Vqt=7050002,Gqt=7050003,jqt=7050004,qqt=7050005,Wqt=7050006,Jqt=7050007,Kqt=7050008,Qqt=7050009,Xqt=7050010,Yqt=7050011,Zqt=7050012,eWt=7050013,tWt=7050014,rWt=7050015,nWt=7050016,iWt=7050017,oWt=7050018,sWt=7050019,aWt=7050020,cWt=7050021,lWt=7050022,uWt=7050023,dWt=7050024,pWt=7050025,fWt=7050026,mWt=7050027,hWt=7050028,gWt=7050029,cYe=7050030,lYe=7050031,yWt=7050032,bWt=7050033,vWt=7050034,uYe=7050035,_Wt=7050036,SWt=7618e3,xWt=7618001,wWt=7618002,AWt=7618003,EWt=7618004,TWt=7618005,RWt=7618006,IWt=7618007,CWt=7618008,NWt=7618009,dYe=8078e3,ppe=8078001,pYe=8078002,fYe=8078003,fpe=8078004,mpe=8078005,hpe=8078006,OWt=8078007,PWt=8078008,kWt=8078009,DWt=8078010,MWt=8078011,gpe=8078012,mYe=8078013,hYe=8078014,LWt=8078015,BWt=8078016,$Wt=8078017,UWt=8078018,FWt=8078019,gYe=8078020,yYe=8078021,zWt=8078022,bYe=8078023,ype=81e5,bpe=8100001,vpe=8100002,_pe=8100003,HWt=819e4,VWt=8190001,GWt=8190002,jWt=8190003,qWt=8190004,WWt=99e5,JWt=9900001,KWt=9900002,QWt=9900003,XWt=9900004,YWt=9900005,ZWt=9900006;function vYe(t){return Array.isArray(t)?"%5B"+t.map(vYe).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function eJt([t,e]){return`${t}=${vYe(e)}`}function tJt(t){let e=Object.entries(t).map(eJt).join("&");return Buffer.from(e,"utf8").toString("base64")}var rJt={[CGt]:"Account not found at address: $address",[kGt]:"Not all accounts were decoded. Encoded accounts found at addresses: $addresses.",[PGt]:"Expected decoded account at address: $address",[OGt]:"Failed to decode account data at address: $address",[NGt]:"Accounts not found at addresses: $addresses",[upe]:"Unable to find a viable program address bump seed.",[IGt]:"$putativeAddress is not a base58-encoded address.",[spe]:"Expected base58 encoded address to decode to a byte array of length 32. Actual length: $actualLength.",[JXe]:"The `CryptoKey` must be an `Ed25519` public key.",[YXe]:"$putativeOffCurveAddress is not a base58-encoded off-curve address.",[B$]:"Invalid seeds; point must fall off the Ed25519 curve.",[KXe]:"Expected given program derived address to have the following format: [Address, ProgramDerivedAddressBump].",[cpe]:"A maximum of $maxSeeds seeds, including the bump seed, may be supplied when creating an address. Received: $actual.",[lpe]:"The seed at index $index with length $actual exceeds the maximum length of $maxSeedLength bytes.",[QXe]:"Expected program derived address bump to be in the range [0, 255], got: $bump.",[XXe]:"Program address cannot end with PDA marker.",[ape]:"Expected base58-encoded address string of length in the range [32, 44]. Actual length: $actualLength.",[fGt]:"Expected base58-encoded blockash string of length in the range [32, 44]. Actual length: $actualLength.",[uGt]:"The network has progressed past the last block for which this transaction could have been committed.",[dYe]:"Codec [$codecDescription] cannot decode empty byte arrays.",[zWt]:"Enum codec cannot use lexical values [$stringValues] as discriminators. Either remove all lexical values or set `useValuesAsDiscriminators` to `false`.",[gYe]:"Sentinel [$hexSentinel] must not be present in encoded bytes [$hexEncodedBytes].",[mpe]:"Encoder and decoder must have the same fixed size, got [$encoderFixedSize] and [$decoderFixedSize].",[hpe]:"Encoder and decoder must have the same max size, got [$encoderMaxSize] and [$decoderMaxSize].",[fpe]:"Encoder and decoder must either both be fixed-size or variable-size.",[PWt]:"Enum discriminator out of range. Expected a number in [$formattedValidDiscriminators], got $discriminator.",[pYe]:"Expected a fixed-size codec, got a variable-size one.",[mYe]:"Codec [$codecDescription] expected a positive byte length, got $bytesLength.",[fYe]:"Expected a variable-size codec, got a fixed-size one.",[FWt]:"Codec [$codecDescription] expected zero-value [$hexZeroValue] to have the same size as the provided fixed-size item [$expectedSize bytes].",[ppe]:"Codec [$codecDescription] expected $expected bytes, got $bytesLength.",[UWt]:"Expected byte array constant [$hexConstant] to be present in data [$hexData] at offset [$offset].",[kWt]:"Invalid discriminated union variant. Expected one of [$variants], got $value.",[DWt]:"Invalid enum variant. Expected one of [$stringValues] or a number in [$formattedNumericalValues], got $variant.",[LWt]:"Invalid literal union variant. Expected one of [$variants], got $value.",[OWt]:"Expected [$codecDescription] to have $expected items, got $actual.",[gpe]:"Invalid value $value for base $base with alphabet $alphabet.",[BWt]:"Literal union discriminator out of range. Expected a number between $minRange and $maxRange, got $discriminator.",[MWt]:"Codec [$codecDescription] expected number to be in the range [$min, $max], got $value.",[hYe]:"Codec [$codecDescription] expected offset to be in the range [0, $bytesLength], got $offset.",[yYe]:"Expected sentinel [$hexSentinel] to be present in decoded bytes [$hexDecodedBytes].",[$Wt]:"Union variant out of range. Expected an index between $minRange and $maxRange, got $variant.",[bYe]:"This decoder expected a byte array of exactly $expectedLength bytes, but $numExcessBytes unexpected excess bytes remained after decoding. Are you sure that you have chosen the correct decoder for this data?",[iYe]:"No random values implementation could be found.",[YGt]:"instruction requires an uninitialized account",[pjt]:"instruction tries to borrow reference for an account which is already borrowed",[fjt]:"instruction left account with an outstanding borrowed reference",[ujt]:"program other than the account's owner changed the size of the account data",[JGt]:"account data too small for instruction",[djt]:"instruction expected an executable account",[Djt]:"An account does not have enough lamports to be rent-exempt",[Ljt]:"Program arithmetic overflowed",[kjt]:"Failed to serialize or deserialize account data: $encodedData",[Hjt]:"Builtin programs must consume compute units",[_jt]:"Cross-program invocation call depth too deep",[Tjt]:"Computational budget exceeded",[sYe]:"custom program error: #$code",[sjt]:"instruction contains duplicate accounts",[mjt]:"instruction modifications of multiply-passed account differ",[bjt]:"executable accounts must be rent exempt",[gjt]:"instruction changed executable accounts data",[yjt]:"instruction changed the balance of an executable account",[ajt]:"instruction changed executable bit of an account",[njt]:"instruction modified data of an account it does not own",[rjt]:"instruction spent from the balance of an account it does not own",[GGt]:"generic instruction error",[$jt]:"Provided owner is not allowed",[Ojt]:"Account is immutable",[Pjt]:"Incorrect authority provided",[QGt]:"incorrect program id for instruction",[KGt]:"insufficient funds for instruction",[WGt]:"invalid account data for instruction",[Mjt]:"Invalid account owner",[jGt]:"invalid program argument",[hjt]:"program returned invalid error code",[qGt]:"invalid instruction data",[Ejt]:"Failed to reallocate account data",[Ajt]:"Provided seeds do not result in a valid address",[Ujt]:"Accounts data allocations exceeded the maximum allowed per transaction",[Fjt]:"Max accounts exceeded",[zjt]:"Max instruction trace length exceeded",[wjt]:"Length of the seed is too long for address generation",[Sjt]:"An account required by the instruction is missing",[XGt]:"missing required signature for instruction",[tjt]:"instruction illegally modified the program id of an account",[ljt]:"insufficient account keys for instruction",[Rjt]:"Cross-program invocation with unauthorized signer or writable account",[Ijt]:"Failed to create program execution environment",[Njt]:"Program failed to compile",[Cjt]:"Program failed to complete",[ojt]:"instruction modified data of a read-only account",[ijt]:"instruction changed the balance of a read-only account",[xjt]:"Cross-program invocation reentrancy not allowed for this instruction",[cjt]:"instruction modified rent epoch of an account",[ejt]:"sum of account balances before and after instruction do not match",[ZGt]:"instruction requires an initialized account",[oYe]:"",[vjt]:"Unsupported program id",[Bjt]:"Unsupported sysvar",[YWt]:"Invalid instruction plan kind: $kind.",[wWt]:"The provided instruction plan is empty.",[TWt]:"No failed transaction plan result was found in the provided transaction plan result.",[EWt]:"This transaction plan executor does not support non-divisible sequential plans. To support them, you may create your own executor such that multi-transaction atomicity is preserved \u2014 e.g. by targetting RPCs that support transaction bundles.",[AWt]:"The provided transaction plan failed to execute. See the `transactionPlanResult` attribute for more details. Note that the `cause` property is deprecated, and a future version will not set it.",[SWt]:"The provided message has insufficient capacity to accommodate the next instruction(s) in this plan. Expected at least $numBytesRequired free byte(s), got $numFreeBytes byte(s).",[ZWt]:"Invalid transaction plan kind: $kind.",[xWt]:"No more instructions to pack; the message packer has completed the instruction plan.",[RWt]:"Unexpected instruction plan. Expected $expectedKind plan, got $actualKind plan.",[IWt]:"Unexpected transaction plan. Expected $expectedKind plan, got $actualKind plan.",[CWt]:"Unexpected transaction plan result. Expected $expectedKind plan, got $actualKind plan.",[NWt]:"Expected a successful transaction plan result. I.e. there is at least one failed or cancelled transaction in the plan.",[zGt]:"The instruction does not have any accounts.",[HGt]:"The instruction does not have any data.",[VGt]:"Expected instruction to have progress address $expectedProgramAddress, got $actualProgramAddress.",[mGt]:"Expected base58 encoded blockhash to decode to a byte array of length 32. Actual length: $actualLength.",[dGt]:"The nonce `$expectedNonceValue` is no longer valid. It has advanced to `$actualNonceValue`",[KWt]:"Invariant violation: Found no abortable iterable cache entry for key `$cacheKey`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[XWt]:"Invariant violation: This data publisher does not publish to the channel named `$channelName`. Supported channels include $supportedChannelNames.",[JWt]:"Invariant violation: WebSocket message iterator state is corrupt; iterated without first resolving existing message promise. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[WWt]:"Invariant violation: WebSocket message iterator is missing state storage. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[QWt]:"Invariant violation: Switch statement non-exhaustive. Received unexpected value `$unexpectedValue`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[MXe]:"JSON-RPC error: Internal JSON-RPC error ($__serverMessage)",[LXe]:"JSON-RPC error: Invalid method parameter(s) ($__serverMessage)",[$Xe]:"JSON-RPC error: The JSON sent is not a valid `Request` object ($__serverMessage)",[BXe]:"JSON-RPC error: The method does not exist / is not available ($__serverMessage)",[DXe]:"JSON-RPC error: An error occurred on the server while parsing the JSON text ($__serverMessage)",[zXe]:"$__serverMessage",[WXe]:"$__serverMessage",[qXe]:"$__serverMessage",[FXe]:"$__serverMessage",[SGt]:"Epoch rewards period still active at slot $slot",[HXe]:"$__serverMessage",[VXe]:"$__serverMessage",[vGt]:"Failed to query long-term storage; please try again",[xGt]:"Minimum context slot has not been reached",[TGt]:"Node is unhealthy; behind by $numSlotsBehind slots",[EGt]:"No snapshot",[ope]:"Transaction simulation failed",[_Gt]:"Rewards cannot be found because slot $slot is not the epoch boundary. This may be due to gap in the queried node's local ledger or long-term storage",[GXe]:"$__serverMessage",[AGt]:"Transaction history is not available from this node",[jXe]:"$__serverMessage",[wGt]:"Transaction signature length mismatch",[RGt]:"Transaction signature verification failure",[UXe]:"$__serverMessage",[LGt]:"Key pair bytes must be of length 64, got $byteLength.",[BGt]:"Expected private key bytes with length 32. Actual length: $actualLength.",[$Gt]:"Expected base58-encoded signature to decode to a byte array of length 64. Actual length: $actualLength.",[FGt]:"The provided private key does not match the provided public key.",[UGt]:"Expected base58-encoded signature string of length in the range [64, 88]. Actual length: $actualLength.",[hGt]:"Lamports value must be in the range [0, 2e64-1]",[gGt]:"`$value` cannot be parsed as a `BigInt`",[kXe]:"$message",[yGt]:"`$value` cannot be parsed as a `Number`",[pGt]:"No nonce account could be found at address `$nonceAccountAddress`",[iqt]:"Expected base58 encoded application domain to decode to a byte array of length 32. Actual length: $actualLength.",[mqt]:"Attempted to sign an offchain message with an address that is not a signer for it",[nqt]:"Expected base58-encoded application domain string of length in the range [32, 44]. Actual length: $actualLength.",[fqt]:"The signer addresses in this offchain message envelope do not match the list of required signers in the message preamble. These unexpected signers were present in the envelope: `[$unexpectedSigners]`. These required signers were missing from the envelope `[$missingSigners]`.",[tqt]:"The message body provided has a byte-length of $actualBytes. The maximum allowable byte-length is $maxBytes",[cqt]:"Expected message format $expectedMessageFormat, got $actualMessageFormat",[lqt]:"The message length specified in the message preamble is $specifiedLength bytes. The actual length of the message is $actualLength bytes.",[uqt]:"Offchain message content must be non-empty",[sqt]:"Offchain message must specify the address of at least one required signer",[dqt]:"Offchain message envelope must reserve space for at least one signature",[oqt]:"The offchain message preamble specifies $numRequiredSignatures required signature(s), got $signaturesLength.",[gqt]:"The signatories of this offchain message must be listed in lexicographical order",[yqt]:"An address must be listed no more than once among the signatories of an offchain message",[pqt]:"Offchain message is missing signatures for addresses: $addresses.",[bqt]:"Offchain message signature verification failed. Signature mismatch for required signatories [$signatoriesWithInvalidSignatures]. Missing signatures for signatories [$signatoriesWithMissingSignatures]",[rqt]:"The message body provided contains characters whose codes fall outside the allowed range. In order to ensure clear-signing compatiblity with hardware wallets, the message may only contain line feeds and characters in the range [\\x20-\\x7e].",[hqt]:"Expected offchain message version $expectedVersion. Got $actualVersion.",[aqt]:"This version of Kit does not support decoding offchain messages with version $unsupportedVersion. The current max supported version is 0.",[HWt]:"The notification name must end in 'Notifications' and the API must supply a subscription plan creator function for the notification '$notificationName'.",[GWt]:"WebSocket was closed before payload could be added to the send buffer",[jWt]:"WebSocket connection closed",[qWt]:"WebSocket failed to connect",[VWt]:"Failed to obtain a subscription id from the server",[_pe]:"Could not find an API plan for RPC method: `$method`",[ype]:"The $argumentLabel argument to the `$methodName` RPC method$optionalPathLabel was `$value`. This number is unsafe for use with the Solana JSON-RPC because it exceeds `Number.MAX_SAFE_INTEGER`.",[vpe]:"HTTP error ($statusCode): $message",[bpe]:"HTTP header(s) forbidden: $headers. Learn more at https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name.",[Vjt]:"Multiple distinct signers were identified for address `$address`. Please ensure that you are using the same signer instance for each address.",[Gjt]:"The provided value does not implement the `KeyPairSigner` interface",[qjt]:"The provided value does not implement the `MessageModifyingSigner` interface",[Wjt]:"The provided value does not implement the `MessagePartialSigner` interface",[jjt]:"The provided value does not implement any of the `MessageSigner` interfaces",[Kjt]:"The provided value does not implement the `TransactionModifyingSigner` interface",[Qjt]:"The provided value does not implement the `TransactionPartialSigner` interface",[Xjt]:"The provided value does not implement the `TransactionSendingSigner` interface",[Jjt]:"The provided value does not implement any of the `TransactionSigner` interfaces",[Yjt]:"More than one `TransactionSendingSigner` was identified.",[Zjt]:"No `TransactionSendingSigner` was identified. Please provide a valid `TransactionWithSingleSendingSigner` transaction.",[eqt]:"Wallet account signers do not support signing multiple messages/transactions in a single operation",[MGt]:"Cannot export a non-extractable key.",[dpe]:"No digest implementation could be found.",[DGt]:"Cryptographic operations are only allowed in secure browser contexts. Read more here: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts.",[ZXe]:`This runtime does not support the generation of Ed25519 key pairs.

Install @solana/webcrypto-ed25519-polyfill and call its \`install\` function before generating keys in environments that do not support Ed25519.

For a list of runtimes that currently support Ed25519 operations, visit https://github.com/WICG/webcrypto-secure-curves/issues/20.`,[eYe]:"No signature verification implementation could be found.",[tYe]:"No key generation implementation could be found.",[rYe]:"No signing implementation could be found.",[nYe]:"No key export implementation could be found.",[bGt]:"Timestamp value must be in the range [-(2n ** 63n), (2n ** 63n) - 1]. `$value` given",[nWt]:"Transaction processing left an account with an outstanding borrowed reference",[Hqt]:"Account in use",[Vqt]:"Account loaded twice",[Gqt]:"Attempt to debit an account but found no record of a prior credit.",[uWt]:"Transaction loads an address table account that doesn't exist",[Jqt]:"This transaction has already been processed",[Kqt]:"Blockhash not found",[Qqt]:"Loader call chain is too deep",[rWt]:"Transactions are currently disabled due to cluster maintenance",[cYe]:"Transaction contains a duplicate instruction ($index) that is not allowed",[qqt]:"Insufficient funds for fee",[lYe]:"Transaction results in an account ($accountIndex) with insufficient funds for rent",[Wqt]:"This account may not be used to pay transaction fees",[Yqt]:"Transaction contains an invalid account reference",[pWt]:"Transaction loads an address table account with invalid data",[fWt]:"Transaction address table lookup uses an invalid index",[dWt]:"Transaction loads an address table account with an invalid owner",[bWt]:"LoadedAccountsDataSizeLimit set for transaction must be greater than 0.",[eWt]:"This program may not be used for executing instructions",[mWt]:"Transaction leaves an account with a lower balance than rent-exempt minimum",[sWt]:"Transaction loads a writable account that cannot be written",[yWt]:"Transaction exceeded max loaded accounts data size cap",[Xqt]:"Transaction requires a fee but has no signature present",[jqt]:"Attempt to load a program that does not exist",[uYe]:"Execution of the program referenced by account at index $accountIndex is temporarily restricted.",[vWt]:"ResanitizationNeeded",[tWt]:"Transaction failed to sanitize accounts offsets correctly",[Zqt]:"Transaction did not pass signature verification",[lWt]:"Transaction locked too many accounts",[_Wt]:"Sum of account balances before and after transaction do not match",[aYe]:"The transaction failed with the error `$errorName`",[oWt]:"Transaction version is unsupported",[cWt]:"Transaction would exceed account data limit within the block",[gWt]:"Transaction would exceed total account data limit",[aWt]:"Transaction would exceed max account limit within the block",[iWt]:"Transaction would exceed max Block Cost Limit",[hWt]:"Transaction would exceed max Vote Cost Limit",[Dqt]:"Attempted to sign a transaction with an address that is not a signer for it",[Cqt]:"Transaction is missing an address at index: $index.",[Mqt]:"Transaction has no expected signers therefore it cannot be encoded",[Uqt]:"Transaction size $transactionSize exceeds limit of $transactionSizeLimit bytes",[Sqt]:"Transaction does not have a blockhash lifetime",[xqt]:"Transaction is not a durable nonce transaction",[Aqt]:"Contents of these address lookup tables unknown: $lookupTableAddresses",[Eqt]:"Lookup of address at index $highestRequestedIndex failed for lookup table `$lookupTableAddress`. Highest known index is $highestKnownIndex. The lookup table may have been extended since its contents were retrieved",[Rqt]:"No fee payer set in CompiledTransaction",[Tqt]:"Could not find program address at index $index",[Bqt]:"Failed to estimate the compute unit consumption for this transaction message. This is likely because simulating the transaction failed. Inspect the `cause` property of this error to learn more",[$qt]:"Transaction failed when it was simulated in order to estimate the compute unit consumption. The compute unit estimate provided is for a transaction that failed when simulated and may not be representative of the compute units this transaction would consume if successful. Inspect the `cause` property of this error to learn more",[Nqt]:"Transaction is missing a fee payer.",[Oqt]:"Could not determine this transaction's signature. Make sure that the transaction has been signed by its fee payer.",[kqt]:"Transaction first instruction is not advance nonce account instruction.",[Pqt]:"Transaction with no instructions cannot be durable nonce transaction.",[vqt]:"This transaction includes an address (`$programAddress`) which is both invoked and set as the fee payer. Program addresses may not pay fees",[_qt]:"This transaction includes an address (`$programAddress`) which is both invoked and marked writable. Program addresses may not be writable",[Lqt]:"The transaction message expected the transaction to have $numRequiredSignatures signatures, got $signaturesLength.",[Iqt]:"Transaction is missing signatures for addresses: $addresses.",[wqt]:"Transaction version must be in the range [0, 127]. `$actualVersion` given",[Fqt]:"This version of Kit does not support decoding transactions with version $unsupportedVersion. The current max supported version is 0.",[zqt]:"The transaction has a durable nonce lifetime (with nonce `$nonce`), but the nonce account address is in a lookup table. The lifetime constraint cannot be constructed without fetching the lookup tables for the transaction."},xh="i",If="t";function nJt(t,e={}){let r=rJt[t];if(r.length===0)return"";let n;function i(s){if(n[If]===2){let a=r.slice(n[xh]+1,s);o.push(a in e?`${e[a]}`:`$${a}`)}else n[If]===1&&o.push(r.slice(n[xh],s))}let o=[];return r.split("").forEach((s,a)=>{if(a===0){n={[xh]:0,[If]:r[0]==="\\"?0:r[0]==="$"?2:1};return}let c;switch(n[If]){case 0:c={[xh]:a,[If]:1};break;case 1:s==="\\"?c={[xh]:a,[If]:0}:s==="$"&&(c={[xh]:a,[If]:2});break;case 2:s==="\\"?c={[xh]:a,[If]:0}:s==="$"?c={[xh]:a,[If]:2}:s.match(/\w/)||(c={[xh]:a,[If]:1});break}c&&(n!==c&&i(a),n=c)}),i(),o.join("")}function iJt(t,e={}){if(process.env.NODE_ENV!=="production")return nJt(t,e);{let r=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(r+=` '${tJt(e)}'`),`${r}\``}}function _Ye(t,e){return t instanceof Error&&t.name==="SolanaError"?e!==void 0?t.context.__code===e:!0:!1}var Un=class extends Error{cause=this.cause;context;constructor(...[t,e]){let r,n;e&&Object.entries(Object.getOwnPropertyDescriptors(e)).forEach(([o,s])=>{o==="cause"?n={cause:s.value}:(r===void 0&&(r={__code:t}),Object.defineProperty(r,o,s))});let i=iJt(t,r);super(i,n),this.context=Object.freeze(r===void 0?{__code:t}:r),this.name="SolanaError"}};function $$(...t){"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...t)}function SYe({errorCodeBaseOffset:t,getErrorContext:e,orderedErrorNames:r,rpcEnumError:n},i){let o,s;typeof n=="string"?o=n:(o=Object.keys(n)[0],s=n[o]);let a=r.indexOf(o),c=t+a,l=e(c,o,s),u=new Un(c,l);return $$(u,i),u}var oJt=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"];function xYe(t,e){let r=Number(t);return SYe({errorCodeBaseOffset:4615001,getErrorContext(n,i,o){return n===oYe?{errorName:i,index:r,...o!==void 0?{instructionErrorContext:o}:null}:n===sYe?{code:Number(o),index:r}:{index:r}},orderedErrorNames:oJt,rpcEnumError:e},xYe)}var sJt=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function wYe(t){return typeof t=="object"&&"InstructionError"in t?xYe(...t.InstructionError):SYe({errorCodeBaseOffset:7050001,getErrorContext(e,r,n){if(e===aYe)return{errorName:r,...n!==void 0?{transactionErrorContext:n}:null};if(e===cYe)return{index:Number(n)};if(e===lYe||e===uYe)return{accountIndex:Number(n.account_index)}},orderedErrorNames:sJt,rpcEnumError:t},wYe)}function U$(t){let e;if(aJt(t)){let{code:r,data:n,message:i}=t,o=Number(r);if(o===ope){let{err:s,...a}=n,c=s?{cause:wYe(s)}:null;e=new Un(ope,{...a,...c})}else{let s;switch(o){case MXe:case LXe:case $Xe:case BXe:case DXe:case zXe:case WXe:case qXe:case FXe:case HXe:case VXe:case GXe:case jXe:case UXe:s={__serverMessage:i};break;default:typeof n=="object"&&!Array.isArray(n)&&(s=n)}e=new Un(o,s)}}else{let r=typeof t=="object"&&t!==null&&"message"in t&&typeof t.message=="string"?t.message:"Malformed JSON-RPC error with no message attribute";e=new Un(kXe,{error:t,message:r})}return $$(e,U$),e}function aJt(t){return typeof t=="object"&&t!==null&&"code"in t&&"message"in t&&(typeof t.code=="number"||typeof t.code=="bigint")&&typeof t.message=="string"}function cJt(t,e){if(t.length>=e)return t;let r=new Uint8Array(e).fill(0);return r.set(t),r}var lJt=(t,e)=>cJt(t.length<=e?t:t.slice(0,e),e);function uJt(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function F$(t){return Object.freeze({...t,encode:e=>{let r=new Uint8Array(uJt(e,t));return t.write(e,r,0),r}})}function Spe(t){return Object.freeze({...t,decode:(e,r=0)=>t.read(e,r)[0]})}function S1(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function dJt(t){return!S1(t)}function xpe(t,e){if(S1(t)!==S1(e))throw new Un(fpe);if(S1(t)&&S1(e)&&t.fixedSize!==e.fixedSize)throw new Un(mpe,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!S1(t)&&!S1(e)&&t.maxSize!==e.maxSize)throw new Un(hpe,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function pJt(t,e,r,n=0){let i=r.length-n;if(i<e)throw new Un(ppe,{bytesLength:i,codecDescription:t,expected:e})}function AYe(t,e){return F$({fixedSize:e,write:(r,n,i)=>{let o=t.encode(r),s=o.length>e?o.slice(0,e):o;return n.set(s,i),i+e}})}function EYe(t,e){return Spe({fixedSize:e,read:(r,n)=>{pJt("fixCodecSize",e,r,n),(n>0||r.length>e)&&(r=r.slice(n,n+e)),S1(t)&&(r=lJt(r,t.fixedSize));let[i]=t.read(r,0);return[i,n+e]}})}function TYe(t,e){return F$({...dJt(t)?{...t,getSizeFromValue:r=>t.getSizeFromValue(e(r))}:t,write:(r,n,i)=>t.write(e(r),n,i)})}function fJt(t,e,r=e){if(!e.match(new RegExp(`^[${t}]*$`)))throw new Un(gpe,{alphabet:t,base:t.length,value:r})}var mJt=t=>F$({getSizeFromValue:e=>{let[r,n]=RYe(e,t[0]);if(!n)return e.length;let i=IYe(n,t);return r.length+Math.ceil(i.toString(16).length/2)},write(e,r,n){if(fJt(t,e),e==="")return n;let[i,o]=RYe(e,t[0]);if(!o)return r.set(new Uint8Array(i.length).fill(0),n),n+i.length;let s=IYe(o,t),a=[];for(;s>0n;)a.unshift(Number(s%256n)),s/=256n;let c=[...Array(i.length).fill(0),...a];return r.set(c,n),n+c.length}}),hJt=t=>Spe({read(e,r){let n=r===0?e:e.slice(r);if(n.length===0)return["",0];let i=n.findIndex(c=>c!==0);i=i===-1?n.length:i;let o=t[0].repeat(i);if(i===n.length)return[o,e.length];let s=n.slice(i).reduce((c,l)=>c*256n+BigInt(l),0n),a=gJt(s,t);return[o+a,e.length]}});function RYe(t,e){let[r,n]=t.split(new RegExp(`((?!${e}).*)`));return[r,n]}function IYe(t,e){let r=BigInt(e.length),n=0n;for(let i of t)n*=r,n+=BigInt(e.indexOf(i));return n}function gJt(t,e){let r=BigInt(e.length),n=[];for(;t>0n;)n.unshift(e[Number(t%r)]),t/=r;return n.join("")}var CYe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",NYe=()=>mJt(CYe),OYe=()=>hJt(CYe);var Tkn=globalThis.TextDecoder,Rkn=globalThis.TextEncoder;function PYe(){if(typeof globalThis.crypto>"u"||typeof globalThis.crypto.subtle?.digest!="function")throw new Un(dpe)}var wpe,Ape;function LYe(){return wpe||(wpe=NYe()),wpe}function yJt(){return Ape||(Ape=OYe()),Ape}function bJt(t){if(t.length<32||t.length>44)throw new Un(ape,{actualLength:t.length});let n=LYe().encode(t).byteLength;if(n!==32)throw new Un(spe,{actualLength:n})}function Wu(t){return bJt(t),t}function Epe(){return TYe(AYe(LYe(),32),t=>Wu(t))}function vJt(){return EYe(yJt(),32)}function _Jt(){return xpe(Epe(),vJt())}var SJt=37095705934669439343138083508754565189542113879843219016388785533085940283555n,Ma=57896044618658097711785492504343953926634992332820282019728792003956564819949n,kYe=19681161376707505956807079304988542015446066515923890162744021073123829784752n;function qu(t){let e=t%Ma;return e>=0n?e:Ma+e}function Cf(t,e){let r=t;for(;e-- >0n;)r*=r,r%=Ma;return r}function xJt(t){let r=t*t%Ma*t%Ma,n=Cf(r,2n)*r%Ma,i=Cf(n,1n)*t%Ma,o=Cf(i,5n)*i%Ma,s=Cf(o,10n)*o%Ma,a=Cf(s,20n)*s%Ma,c=Cf(a,40n)*a%Ma,l=Cf(c,80n)*c%Ma,u=Cf(l,80n)*c%Ma,d=Cf(u,10n)*o%Ma;return Cf(d,2n)*t%Ma}function wJt(t,e){let r=qu(e*e*e),n=qu(r*r*e),i=xJt(t*n),o=qu(t*r*i),s=qu(e*o*o),a=o,c=qu(o*kYe),l=s===t,u=s===qu(-t),d=s===qu(-t*kYe);return l&&(o=a),(u||d)&&(o=c),(qu(o)&1n)===1n&&(o=qu(-o)),!l&&!u?null:o}function AJt(t,e){let r=qu(t*t),n=qu(r-1n),i=qu(SJt*r+1n),o=wJt(n,i);if(o===null)return!1;let s=(e&128)!==0;return!(o===0n&&s)}function EJt(t){let e=t.toString(16);return e.length===1?`0${e}`:e}function TJt(t){let r=`0x${t.reduce((n,i,o)=>`${EJt(o===31?i&-129:i)}${n}`,"")}`;return BigInt(r)}function RJt(t){if(t.byteLength!==32)return!1;let e=TJt(t);return AJt(e,t[31])}var DYe=32,MYe=16,IJt=[80,114,111,103,114,97,109,68,101,114,105,118,101,100,65,100,100,114,101,115,115];async function CJt({programAddress:t,seeds:e}){if(PYe(),e.length>MYe)throw new Un(cpe,{actual:e.length,maxSeeds:MYe});let r,n=e.reduce((c,l,u)=>{let d=typeof l=="string"?(r||=new TextEncoder).encode(l):l;if(d.byteLength>DYe)throw new Un(lpe,{actual:d.byteLength,index:u,maxSeedLength:DYe});return c.push(...d),c},[]),i=_Jt(),o=i.encode(t),s=await crypto.subtle.digest("SHA-256",new Uint8Array([...n,...o,...IJt])),a=new Uint8Array(s);if(RJt(a))throw new Un(B$);return i.decode(a)}async function BYe({programAddress:t,seeds:e}){let r=255;for(;r>0;)try{return[await CJt({programAddress:t,seeds:[...e,new Uint8Array([r])]}),r]}catch(n){if(_Ye(n,B$))r--;else throw n}throw new Un(upe)}function uC(t,...e){return e.reduce((r,n)=>n(r),t)}function UYe(t){return JSON.parse(NJt(t),(e,r)=>DJt(r)?kJt(r):r)}function NJt(t){let e=[],r=!1;for(let n=0;n<t.length;n++){let i=!1;if(t[n]==="\\"&&(e.push(t[n++]),i=!i),t[n]==='"'){e.push(t[n]),i||(r=!r);continue}if(!r){let o=OJt(t,n);if(o?.length){n+=o.length-1,o.match(/\.|[eE]-/)?e.push(o):e.push(PJt(o));continue}}e.push(t[n])}return e.join("")}function OJt(t,e){let r=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?/;if(!t[e]?.match(/[-\d]/))return null;let n=t.slice(e).match(r);return n?n[0]:null}function PJt(t){return`{"$n":"${t}"}`}function kJt({$n:t}){if(t.match(/[eE]/)){let[e,r]=t.split(/[eE]/);return BigInt(e)*BigInt(10)**BigInt(r)}return BigInt(t)}function DJt(t){return!!t&&typeof t=="object"&&"$n"in t&&typeof t.$n=="string"}var $Ye=0n;function MJt(){let t=$Ye;return $Ye++,t.toString()}function FYe(t){return{id:MJt(),jsonrpc:"2.0",method:t.methodName,params:t.params}}function zYe(t,e){return BJt(JSON.stringify(t,(r,n)=>typeof n=="bigint"?LJt(n):n,e))}function LJt(t){return{$n:`${t}`}}function BJt(t){return t.replace(/\{\s*"\$n"\s*:\s*"(-?\d+)"\s*\}/g,"$1")}function HYe(t){return $Jt(t)}function $Jt(t){return new Proxy(t.api,{defineProperty(){return!1},deleteProperty(){return!1},get(e,r,n){if(r!=="then")return function(...i){let o=r.toString(),s=Reflect.get(e,o,n);if(!s)throw new Un(_pe,{method:o,params:i});let a=s(...i);return UJt(t,a)}}})}function UJt({transport:t},e){return{async send(r){return await e.execute({signal:r?.abortSignal,transport:t})}}}function VYe(t){return new Proxy({},{defineProperty(){return!1},deleteProperty(){return!1},get(...e){let[r,n]=e,i=n.toString();return function(...o){let s=Object.freeze({methodName:i,params:o}),a=t?.requestTransformer?t?.requestTransformer(s):s;return Object.freeze({execute:async({signal:c,transport:l})=>{let u=FYe(a),d=await l({payload:u,signal:c});return t?.responseTransformer?t.responseTransformer(d,a):d}})}}})}function z$(t){return t==null||typeof t!="object"||Array.isArray(t)?!1:"jsonrpc"in t&&t.jsonrpc==="2.0"&&"method"in t&&typeof t.method=="string"&&"params"in t}function FJt(t){return typeof t=="bigint"?Number(t):t}var Gt={};function GYe(t){return function e(r,n){if(Array.isArray(r))return r.map((i,o)=>{let s={...n,keyPath:[...n.keyPath,o]};return e(i,s)});if(typeof r=="object"&&r!==null){let i={};for(let o in r){if(!Object.prototype.hasOwnProperty.call(r,o))continue;let s={...n,keyPath:[...n.keyPath,o]};i[o]=e(r[o],s)}return i}else return t.reduce((i,o)=>o(i,n),r)}}function jYe(t,e){return r=>{let n=GYe(t);return Object.freeze({...r,params:n(r.params,e)})}}function qYe(t,e){return r=>GYe(t)(r,e)}function zJt(){return jYe([FJt],{keyPath:[]})}function HJt({commitmentPropertyName:t,params:e,optionsObjectPositionInParams:r,overrideCommitment:n}){let i=e[r];if(i===void 0||i&&typeof i=="object"&&!Array.isArray(i)){if(i&&t in i){if(!i[t]||i[t]==="finalized"){let o=[...e],{[t]:s,...a}=i;return Object.keys(a).length>0?o[r]=a:r===o.length-1?o.length--:o[r]=void 0,o}}else if(n!=="finalized"){let o=[...e];return o[r]={...i,[t]:n},o}}return e}function VJt({defaultCommitment:t,optionsObjectPositionByMethod:e}){return r=>{let{params:n,methodName:i}=r;if(!Array.isArray(n))return r;let o=e[i];return o==null?r:Object.freeze({methodName:i,params:HJt({commitmentPropertyName:i==="sendTransaction"?"preflightCommitment":"commitment",optionsObjectPositionInParams:o,overrideCommitment:t,params:n})})}}function GJt(t){return(e,{keyPath:r})=>(typeof e=="bigint"&&t&&(e>Number.MAX_SAFE_INTEGER||e<-Number.MAX_SAFE_INTEGER)&&t(r,e),e)}function jJt(t){return e=>jYe([GJt((...n)=>t(e,...n))],{keyPath:[]})(e)}var qJt={accountNotifications:1,blockNotifications:1,getAccountInfo:1,getBalance:1,getBlock:1,getBlockHeight:0,getBlockProduction:0,getBlocks:2,getBlocksWithLimit:2,getEpochInfo:0,getFeeForMessage:1,getInflationGovernor:0,getInflationReward:1,getLargestAccounts:0,getLatestBlockhash:0,getLeaderSchedule:1,getMinimumBalanceForRentExemption:1,getMultipleAccounts:1,getProgramAccounts:1,getSignaturesForAddress:1,getSlot:0,getSlotLeader:0,getStakeMinimumDelegation:0,getSupply:0,getTokenAccountBalance:1,getTokenAccountsByDelegate:2,getTokenAccountsByOwner:2,getTokenLargestAccounts:1,getTokenSupply:1,getTransaction:1,getTransactionCount:0,getVoteAccounts:0,isBlockhashValid:1,logsNotifications:1,programNotifications:1,requestAirdrop:2,sendTransaction:1,signatureNotifications:1,simulateTransaction:1};function WYe(t){let e=t?.onIntegerOverflow;return r=>uC(r,e?jJt(e):n=>n,zJt(),VJt({defaultCommitment:t?.defaultCommitment,optionsObjectPositionByMethod:qJt}))}function JYe(t){return function(r,{keyPath:n}){return typeof r=="number"&&Number.isInteger(r)||typeof r=="bigint"?WJt(n,t)?Number(r):BigInt(r):r}}function WJt(t,e){return e.some(r=>{if(r.length!==t.length)return!1;for(let n=t.length-1;n>=0;n--){let i=t[n],o=r[n];if(o!==i&&(o!==Gt||typeof i!="number"))return!1}return!0})}function JJt(t){return qYe([JYe(t)],{keyPath:[]})}function KJt(){return t=>t.result}var H$=[["data","parsed","info","tokenAmount","decimals"],["data","parsed","info","tokenAmount","uiAmount"],["data","parsed","info","rentExemptReserve","decimals"],["data","parsed","info","rentExemptReserve","uiAmount"],["data","parsed","info","delegatedAmount","decimals"],["data","parsed","info","delegatedAmount","uiAmount"],["data","parsed","info","extensions",Gt,"state","olderTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",Gt,"state","newerTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",Gt,"state","preUpdateAverageRate"],["data","parsed","info","extensions",Gt,"state","currentRate"]],uE=[...H$,["data","parsed","info","lastExtendedSlotStartIndex"],["data","parsed","info","slashPenalty"],["data","parsed","info","warmupCooldownRate"],["data","parsed","info","decimals"],["data","parsed","info","numRequiredSigners"],["data","parsed","info","numValidSigners"],["data","parsed","info","stake","delegation","warmupCooldownRate"],["data","parsed","info","exemptionThreshold"],["data","parsed","info","burnPercent"],["data","parsed","info","commission"],["data","parsed","info","votes",Gt,"confirmationCount"]],dC=[["index"],["instructions",Gt,"accounts",Gt],["instructions",Gt,"programIdIndex"],["instructions",Gt,"stackHeight"]],Tpe=[["addressTableLookups",Gt,"writableIndexes",Gt],["addressTableLookups",Gt,"readonlyIndexes",Gt],["header","numReadonlySignedAccounts"],["header","numReadonlyUnsignedAccounts"],["header","numRequiredSignatures"],["instructions",Gt,"accounts",Gt],["instructions",Gt,"programIdIndex"],["instructions",Gt,"stackHeight"]];function QJt(){return[["loadedAccountsDataSize"],...uE.map(t=>["accounts",Gt,...t]),...dC.map(t=>["innerInstructions",Gt,...t])]}function XJt(){return(t,e)=>{let r=t;if("error"in r){let{error:n}=r;if(n&&typeof n=="object"&&"code"in n&&(n.code===-32002||n.code===-32002n)&&"data"in n&&n.data){let s=qYe([JYe(QJt())],{keyPath:[]})(n.data,e),a={...n,data:s};throw U$(a)}throw U$(r.error)}return r}}function KYe(t){return(e,r)=>{let n=r.methodName,i=t?.allowedNumericKeyPaths&&n?t.allowedNumericKeyPaths[n]:void 0;return uC(e,o=>XJt()(o,r),o=>KJt()(o,r),o=>JJt(i??[])(o,r))}}function QYe(t){return VYe({requestTransformer:WYe(t),responseTransformer:KYe({allowedNumericKeyPaths:YJt()})})}var Rpe;function YJt(){return Rpe||(Rpe={getAccountInfo:uE.map(t=>["value",...t]),getBlock:[["transactions",Gt,"meta","preTokenBalances",Gt,"accountIndex"],["transactions",Gt,"meta","preTokenBalances",Gt,"uiTokenAmount","decimals"],["transactions",Gt,"meta","postTokenBalances",Gt,"accountIndex"],["transactions",Gt,"meta","postTokenBalances",Gt,"uiTokenAmount","decimals"],["transactions",Gt,"meta","rewards",Gt,"commission"],...dC.map(t=>["transactions",Gt,"meta","innerInstructions",Gt,...t]),...Tpe.map(t=>["transactions",Gt,"transaction","message",...t]),["rewards",Gt,"commission"]],getClusterNodes:[[Gt,"featureSet"],[Gt,"shredVersion"]],getInflationGovernor:[["initial"],["foundation"],["foundationTerm"],["taper"],["terminal"]],getInflationRate:[["foundation"],["total"],["validator"]],getInflationReward:[[Gt,"commission"]],getMultipleAccounts:uE.map(t=>["value",Gt,...t]),getProgramAccounts:uE.flatMap(t=>[["value",Gt,"account",...t],[Gt,"account",...t]]),getRecentPerformanceSamples:[[Gt,"samplePeriodSecs"]],getTokenAccountBalance:[["value","decimals"],["value","uiAmount"]],getTokenAccountsByDelegate:H$.map(t=>["value",Gt,"account",...t]),getTokenAccountsByOwner:H$.map(t=>["value",Gt,"account",...t]),getTokenLargestAccounts:[["value",Gt,"decimals"],["value",Gt,"uiAmount"]],getTokenSupply:[["value","decimals"],["value","uiAmount"]],getTransaction:[["meta","preTokenBalances",Gt,"accountIndex"],["meta","preTokenBalances",Gt,"uiTokenAmount","decimals"],["meta","postTokenBalances",Gt,"accountIndex"],["meta","postTokenBalances",Gt,"uiTokenAmount","decimals"],["meta","rewards",Gt,"commission"],...dC.map(t=>["meta","innerInstructions",Gt,...t]),...Tpe.map(t=>["transaction","message",...t])],getVersion:[["feature-set"]],getVoteAccounts:[["current",Gt,"commission"],["delinquent",Gt,"commission"]],simulateTransaction:[["value","loadedAccountsDataSize"],...uE.map(t=>["value","accounts",Gt,...t]),...dC.map(t=>["value","innerInstructions",Gt,...t])]}),Rpe}var ZJt={accept:!0,"content-length":!0,"content-type":!0},eKt=Object.assign({"accept-charset":!0,"access-control-request-headers":!0,"access-control-request-method":!0,connection:!0,"content-length":!0,cookie:!0,date:!0,dnt:!0,expect:!0,host:!0,"keep-alive":!0,"permissions-policy":!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,via:!0},void 0,void 0);function tKt(t){let e=Object.keys(t).filter(r=>{let n=r.toLowerCase();return ZJt[r.toLowerCase()]===!0||eKt[r.toLowerCase()]===!0||n.startsWith("proxy-")||n.startsWith("sec-")});if(e.length>0)throw new Un(bpe,{headers:e})}function rKt(t){let e={};for(let r in t)e[r.toLowerCase()]=t[r];return e}function nKt(t){process.env.NODE_ENV;let{fromJson:e,headers:r,toJson:n,url:i}=t;process.env.NODE_ENV!=="production"&&r&&tKt(r);let o;"dispatcher_NODE_ONLY"in t&&(o={dispatcher:t.dispatcher_NODE_ONLY});let s=r&&rKt(r);return async function({payload:c,signal:l}){let u=n?n(c):JSON.stringify(c),d={...o,body:u,headers:{...s,accept:"application/json","content-length":u.length.toString(),"content-type":"application/json; charset=utf-8"},method:"POST",signal:l},p=await fetch(i,d);if(!p.ok)throw new Un(vpe,{headers:p.headers,message:p.statusText,statusCode:p.status});return e?e(await p.text(),c):await p.json()}}var iKt=["getAccountInfo","getBalance","getBlock","getBlockCommitment","getBlockHeight","getBlockProduction","getBlocks","getBlocksWithLimit","getBlockTime","getClusterNodes","getEpochInfo","getEpochSchedule","getFeeForMessage","getFirstAvailableBlock","getGenesisHash","getHealth","getHighestSnapshotSlot","getIdentity","getInflationGovernor","getInflationRate","getInflationReward","getLargestAccounts","getLatestBlockhash","getLeaderSchedule","getMaxRetransmitSlot","getMaxShredInsertSlot","getMinimumBalanceForRentExemption","getMultipleAccounts","getProgramAccounts","getRecentPerformanceSamples","getRecentPrioritizationFees","getSignaturesForAddress","getSignatureStatuses","getSlot","getSlotLeader","getSlotLeaders","getStakeMinimumDelegation","getSupply","getTokenAccountBalance","getTokenAccountsByDelegate","getTokenAccountsByOwner","getTokenLargestAccounts","getTokenSupply","getTransaction","getTransactionCount","getVersion","getVoteAccounts","index","isBlockhashValid","minimumLedgerSlot","requestAirdrop","sendTransaction","simulateTransaction"];function XYe(t){return z$(t)&&iKt.includes(t.method)}function YYe(t){return nKt({...t,fromJson:(e,r)=>XYe(r)?UYe(e):JSON.parse(e),toJson:e=>XYe(e)?zYe(e):JSON.stringify(e)})}import{setMaxListeners as aKt}from"events";var oKt=Object.prototype.toString,sKt=Object.keys||function(t){let e=[];for(let r in t)e.push(r);return e};function pC(t,e){let r,n,i,o,s,a,c;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if("toJSON"in t&&typeof t.toJSON=="function")return pC(t.toJSON(),e);if(c=oKt.call(t),c==="[object Array]"){for(i="[",n=t.length-1,r=0;r<n;r++)i+=pC(t[r],!0)+",";return n>-1&&(i+=pC(t[r],!0)),i+"]"}else if(c==="[object Object]"){for(o=sKt(t).sort(),n=o.length,i="",r=0;r<n;)s=o[r],a=pC(t[s],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(s)+":"+a),r++;return"{"+i+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"bigint":return`${t.toString()}n`;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}function ZYe(t){let e=pC(t,!1);if(e!==void 0)return""+e}function rZe(t,e,r){let n="";if(typeof e[0]=="number"){let s=e[0]+1,a=s%10,c=s%100;a==1&&c!=11?n=s+"st":a==2&&c!=12?n=s+"nd":a==3&&c!=13?n=s+"rd":n=s+"th"}else n=`\`${e[0].toString()}\``;let i=e.length>1?e.slice(1).map(s=>typeof s=="number"?`[${s}]`:s).join("."):void 0,o=new Un(ype,{argumentLabel:n,keyPath:e,methodName:t,optionalPathLabel:i?` at path \`${i}\``:"",value:r,...i!==void 0?{path:i}:void 0});return $$(o,rZe),o}var cKt={defaultCommitment:"confirmed",onIntegerOverflow(t,e,r){throw rZe(t.methodName,e,r)}},lKt=class extends globalThis.AbortController{constructor(...t){super(...t),aKt(Number.MAX_SAFE_INTEGER,this.signal)}},eZe;function tZe(){return process.env.NODE_ENV!=="production"?{EXPLICIT_ABORT_TOKEN:"This object is thrown from the request that underlies a series of coalesced requests when the last request in that series aborts"}:{}}function uKt(t,e){let r;return async function(i){let{payload:o,signal:s}=i,a=e(o);if(a===void 0)return await t(i);if(r||(queueMicrotask(()=>{r=void 0}),r={}),r[a]==null){let l=new lKt,u=(async()=>{try{return await t({...i,signal:l.signal})}catch(d){if(d===(eZe||=tZe()))return;throw d}})();r[a]={abortController:l,numConsumers:0,responsePromise:u}}let c=r[a];if(c.numConsumers++,s){let l=c.responsePromise;return await new Promise((u,d)=>{let p=f=>{s.removeEventListener("abort",p),c.numConsumers-=1,queueMicrotask(()=>{c.numConsumers===0&&c.abortController.abort(eZe||=tZe())}),d(f.target.reason)};s.addEventListener("abort",p),l.then(u).catch(d).finally(()=>{s.removeEventListener("abort",p)})})}else return await c.responsePromise}}function dKt(t){return z$(t)?ZYe([t.method,t.params]):void 0}function pKt(t){let e={};for(let r in t)e[r.toLowerCase()]=t[r];return e}function fKt(t){return uC(YYe({...t,headers:{"accept-encoding":"br,gzip,deflate",...t.headers?pKt(t.headers):void 0,"solana-client":"js/5.5.1"}}),e=>uKt(e,dKt))}function V$(t,e){return mKt(fKt({url:t,...e}))}function mKt(t){return HYe({api:QYe(cKt),transport:t})}Ci();var Oet=5,afe=1e3,lfe=class{callTimestamps=[];queue=[];processing=!1;_totalCalls=0;_rateLimitHits=0;_totalWaitMs=0;get metrics(){return{totalCalls:this._totalCalls,rateLimitHits:this._rateLimitHits,avgWaitMs:this._totalCalls>0?Math.round(this._totalWaitMs/this._totalCalls):0,queueDepth:this.queue.length}}async execute(e){this._totalCalls++;let r=Date.now();return this.callTimestamps=this.callTimestamps.filter(n=>r-n<afe),this.callTimestamps.length<Oet?(this.callTimestamps.push(r),e()):(this._rateLimitHits++,new Promise((n,i)=>{this.queue.push({execute:e,resolve:n,reject:i,enqueuedAt:r}),this.processQueue()}))}async processQueue(){if(!this.processing){for(this.processing=!0;this.queue.length>0;){let e=Date.now();if(this.callTimestamps=this.callTimestamps.filter(n=>e-n<afe),this.callTimestamps.length>=Oet){let n=this.callTimestamps[0],i=afe-(e-n)+10;await ket(i);continue}let r=this.queue.shift();if(!r)break;this._totalWaitMs+=Date.now()-r.enqueuedAt,this.callTimestamps.push(Date.now());try{let n=await r.execute();r.resolve(n)}catch(n){r.reject(n instanceof Error?n:new Error(String(n)))}}this.processing=!1}}},WQt=new lfe,cfe=3,JQt=500;async function Pet(t,e){let r=null;for(let n=0;n<=cfe;n++)try{return await WQt.execute(t)}catch(i){if(r=i instanceof Error?i:new Error(String(i)),n<cfe){let o=JQt*Math.pow(2,n),s=Math.random()*o*.3;console.warn(`[SolanaTracker] ${e} attempt ${n+1} failed: ${r.message}. Retrying in ${Math.round(o+s)}ms...`),await ket(o+s)}}throw new Error(`[SolanaTracker] ${e} failed after ${cfe+1} attempts: ${r?.message}`)}function ket(t){return new Promise(e=>setTimeout(e,t))}function Det(){let t=tn.SOLANA_RPC_URL||"https://api.mainnet-beta.solana.com";return V$(t)}var KQt=1e9;async function ufe(t){let e=Det(),r=await Pet(async()=>(await e.getBalance(Wu(t)).send()).value,`getBalance(${t.slice(0,8)}...)`);return{sol:Number(r)/KQt,lamports:r}}async function Met(t){let e=Det(),r="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",n="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb",i=[];for(let o of[r,n])try{let s=await Pet(async()=>(await e.getTokenAccountsByOwner(Wu(t),{programId:Wu(o)},{encoding:"jsonParsed"}).send()).value,`getTokenAccounts(${t.slice(0,8)}..., ${o.slice(0,8)}...)`);for(let a of s){let l=a.account.data?.parsed?.info;if(!l?.mint||!l?.tokenAmount)continue;let u=l.tokenAmount.amount??"0",d=l.tokenAmount.decimals??0,p=l.tokenAmount.uiAmount??0;u!=="0"&&i.push({mintAddress:l.mint,rawAmount:u,amount:p,decimals:d,tokenAccount:a.pubkey})}}catch(s){console.warn(`[SolanaTracker] Failed to fetch token accounts for program ${o.slice(0,8)}...: ${He(s)}`)}return i}Ci();var QQt=10000000n,XQt=.01,YQt=[{agentId:"claude-value-investor",agentName:"Claude ValueBot",publicKey:process.env.ANTHROPIC_WALLET_PUBLIC||"11111111111111111111111111111111",provider:"anthropic"},{agentId:"gpt-momentum-trader",agentName:"GPT MomentumBot",publicKey:process.env.OPENAI_WALLET_PUBLIC||"11111111111111111111111111111111",provider:"openai"},{agentId:"grok-contrarian",agentName:"Grok ContrarianBot",publicKey:process.env.GROK_WALLET_PUBLIC||"11111111111111111111111111111111",provider:"xai"}],nU=[],Let=500,q7n=new Set(si.map(t=>t.mintAddress)),W7n=new Map(si.map(t=>[t.mintAddress,t]));function dfe(t){return YQt.find(e=>e.agentId===t)??null}async function pfe(t,e){let r=dfe(t);if(!r)throw new Error(`agent_wallet_not_found: no wallet configured for ${t}`);let n=0,i=[];if(r.publicKey!=="11111111111111111111111111111111"){let[s,a]=await Promise.all([ufe(r.publicKey),Met(r.publicKey)]);n=s.sol,i=a.map(c=>({mintAddress:c.mintAddress,amount:c.amount}))}let o={agentId:t,timestamp:new Date().toISOString(),solBalance:n,tokenBalances:i,context:e};return nU.push(o),nU.length>Let&&nU.splice(0,nU.length-Let),console.log(`[AgentWallets] Snapshot recorded for ${t}: ${e} \u2014 ${n.toFixed(4)} SOL, ${i.length} tokens`),o}async function Bet(t){let e=dfe(t);if(!e)return{ready:!1,reason:`No wallet configured for agent ${t}`,solBalance:0,publicKey:""};if(e.publicKey==="11111111111111111111111111111111")return{ready:!1,reason:`Wallet for ${t} is a placeholder. Set ${e.agentName.toUpperCase().replace(/\s/g,"_")}_WALLET_ADDRESS env var.`,solBalance:0,publicKey:e.publicKey};try{let{sol:r,lamports:n}=await ufe(e.publicKey);return n<QQt?{ready:!1,reason:`Insufficient SOL for fees: ${r.toFixed(4)} SOL (need ${XQt} SOL)`,solBalance:r,publicKey:e.publicKey}:{ready:!0,reason:null,solBalance:r,publicKey:e.publicKey}}catch(r){return{ready:!1,reason:`Failed to check balance: ${He(r)}`,solBalance:0,publicKey:e.publicKey}}}Df();vge();wge();var WZt="X-Stamp",mz;(function(t){t.Der="der",t.Raw="raw"})(mz||(mz={}));var JZt=typeof window<"u"&&typeof window.document<"u"&&typeof crypto<"u"&&typeof crypto.subtle<"u",KZt=typeof process<"u"&&process.versions!=null&&process.versions.node!=null,QZt=()=>JZt?"browser":KZt?"node":"purejs",XN=async(t,e)=>{let r=e??QZt();switch(r){case"browser":return(await Promise.resolve().then(()=>(yst(),gst))).signWithApiKey(t);case"node":return(await Promise.resolve().then(()=>(vst(),bst))).signWithApiKey(t);case"purejs":return(await Promise.resolve().then(()=>(rat(),tat))).signWithApiKey(t);default:throw new Error(`Unsupported runtime: ${r}`)}},YN=class{constructor(e){this.apiPublicKey=e.apiPublicKey,this.apiPrivateKey=e.apiPrivateKey,this.runtimeOverride=e.runtimeOverride}async stamp(e){let r=await XN({publicKey:this.apiPublicKey,privateKey:this.apiPrivateKey,content:e},this.runtimeOverride),n={publicKey:this.apiPublicKey,scheme:"SIGNATURE_SCHEME_TK_API_P256",signature:r};return{stampHeaderName:WZt,stampHeaderValue:bE(JSON.stringify(n))}}async sign(e,r){switch(r){case mz.Raw:{let n=await XN({publicKey:this.apiPublicKey,privateKey:this.apiPrivateKey,content:e},this.runtimeOverride),i=yU(n);return Pf(i)}case mz.Der:return XN({publicKey:this.apiPublicKey,privateKey:this.apiPrivateKey,content:e},this.runtimeOverride);default:throw new Error(`Unsupported signature format: ${r}`)}}};var jer=di(a0e(),1);Df();var pp="copy",ag="convert";function Sz(t,e){return{required:!0,schema:t,derive:e}}function za(t){return{required:!0,schema:t}}function xT(t){return{required:!1,schema:t}}var Fat={appid:xT(pp),appidExclude:xT(pp),credProps:xT(pp)},qer={type:za(pp),id:za(pp),rawId:za(ag),authenticatorAttachment:xT(pp),response:za({clientDataJSON:za(ag),attestationObject:za(ag),transports:Sz(pp,t=>t.getTransports?.()||[])}),clientExtensionResults:Sz(Fat,t=>t.getClientExtensionResults())},Wer={type:za(pp),id:za(pp),rawId:za(ag),authenticatorAttachment:xT(pp),response:za({clientDataJSON:za(ag),authenticatorData:za(ag),signature:za(ag),userHandle:za(ag)}),clientExtensionResults:Sz(Fat,t=>t.getClientExtensionResults())};var lti=300*1e3;function aO(t){return t?.name==="TurnkeyClient"}var wT=class extends Error{constructor(e){let{message:r,cause:n,activityId:i,activityStatus:o,activityType:s}=e;super(r),this.name="TurnkeyActivityError",this.activityId=i??void 0,this.activityStatus=o??void 0,this.activityType=s??void 0,this.cause=n??void 0}},xz=class extends Error{constructor(e){let{message:r,cause:n,activityId:i,activityStatus:o,activityType:s}=e;super(r),this.name="TurnkeyActivityConsensusNeededError",this.activityId=i??void 0,this.activityStatus=o??void 0,this.activityType=s??void 0,this.cause=n??void 0}};function my(t){let{id:e,status:r}=t;if(r==="ACTIVITY_STATUS_CONSENSUS_NEEDED")throw new xz({message:"Activity requires consensus",activityId:e,activityStatus:r});if(r!=="ACTIVITY_STATUS_COMPLETED")throw new wT({message:`Expected COMPLETED status, got ${r}`,activityId:e,activityStatus:r});return!0}function hy(t){if(t==null)throw new Error(`Got unexpected ${JSON.stringify(t)}`);return t}var wz=["ACTIVITY_STATUS_COMPLETED","ACTIVITY_STATUS_FAILED","ACTIVITY_STATUS_REJECTED"];var Vat;(function(t){t[t.Get=0]="Get",t[t.List=1]="List",t[t.Command=2]="Command"})(Vat||(Vat={}));var Az=class extends Error{constructor(e){let r=`Turnkey error ${e.code}: ${e.message}`;e.details!=null&&(r+=` (Details: ${JSON.stringify(e.details)})`),super(r),this.name="TurnkeyRequestError",this.details=e.details??null,this.code=e.code}},c0e;(function(t){t.Email="EMAIL",t.PhoneNumber="PHONE_NUMBER",t.OidcToken="OIDC_TOKEN",t.PublicKey="PUBLIC_KEY"})(c0e||(c0e={}));var Gat="@turnkey/sdk-server@5.0.2";var Ez=class{constructor(e){this.getActivity=async r=>this.request("/public/v1/query/get_activity",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetActivity=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_activity",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getApiKey=async r=>this.request("/public/v1/query/get_api_key",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetApiKey=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_api_key",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getApiKeys=async(r={})=>this.request("/public/v1/query/get_api_keys",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetApiKeys=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_api_keys",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getAttestationDocument=async r=>this.request("/public/v1/query/get_attestation",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetAttestationDocument=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_attestation",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getAuthenticator=async r=>this.request("/public/v1/query/get_authenticator",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetAuthenticator=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_authenticator",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getAuthenticators=async r=>this.request("/public/v1/query/get_authenticators",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetAuthenticators=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_authenticators",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getBootProof=async r=>this.request("/public/v1/query/get_boot_proof",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetBootProof=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_boot_proof",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getGasUsage=async r=>this.request("/public/v1/query/get_gas_usage",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetGasUsage=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_gas_usage",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getLatestBootProof=async r=>this.request("/public/v1/query/get_latest_boot_proof",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetLatestBootProof=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_latest_boot_proof",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getNonces=async r=>this.request("/public/v1/query/get_nonces",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetNonces=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_nonces",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getOauth2Credential=async r=>this.request("/public/v1/query/get_oauth2_credential",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetOauth2Credential=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_oauth2_credential",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getOauthProviders=async r=>this.request("/public/v1/query/get_oauth_providers",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetOauthProviders=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_oauth_providers",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getOnRampTransactionStatus=async r=>this.request("/public/v1/query/get_onramp_transaction_status",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetOnRampTransactionStatus=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_onramp_transaction_status",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getOrganization=async(r={})=>this.request("/public/v1/query/get_organization",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetOrganization=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_organization",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getOrganizationConfigs=async r=>this.request("/public/v1/query/get_organization_configs",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetOrganizationConfigs=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_organization_configs",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getPolicy=async r=>this.request("/public/v1/query/get_policy",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetPolicy=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_policy",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getPolicyEvaluations=async r=>this.request("/public/v1/query/get_policy_evaluations",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetPolicyEvaluations=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_policy_evaluations",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getPrivateKey=async r=>this.request("/public/v1/query/get_private_key",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetPrivateKey=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_private_key",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getSendTransactionStatus=async r=>this.request("/public/v1/query/get_send_transaction_status",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetSendTransactionStatus=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_send_transaction_status",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getSmartContractInterface=async r=>this.request("/public/v1/query/get_smart_contract_interface",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetSmartContractInterface=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_smart_contract_interface",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getUser=async r=>this.request("/public/v1/query/get_user",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetUser=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_user",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getWallet=async r=>this.request("/public/v1/query/get_wallet",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetWallet=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_wallet",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getWalletAccount=async r=>this.request("/public/v1/query/get_wallet_account",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetWalletAccount=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_wallet_account",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getActivities=async(r={})=>this.request("/public/v1/query/list_activities",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetActivities=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_activities",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getAppProofs=async r=>this.request("/public/v1/query/list_app_proofs",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetAppProofs=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_app_proofs",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.listFiatOnRampCredentials=async r=>this.request("/public/v1/query/list_fiat_on_ramp_credentials",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampListFiatOnRampCredentials=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_fiat_on_ramp_credentials",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.listOauth2Credentials=async r=>this.request("/public/v1/query/list_oauth2_credentials",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampListOauth2Credentials=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_oauth2_credentials",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getPolicies=async(r={})=>this.request("/public/v1/query/list_policies",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetPolicies=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_policies",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.listPrivateKeyTags=async r=>this.request("/public/v1/query/list_private_key_tags",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampListPrivateKeyTags=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_private_key_tags",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getPrivateKeys=async(r={})=>this.request("/public/v1/query/list_private_keys",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetPrivateKeys=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_private_keys",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getSmartContractInterfaces=async r=>this.request("/public/v1/query/list_smart_contract_interfaces",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetSmartContractInterfaces=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_smart_contract_interfaces",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getSubOrgIds=async(r={})=>this.request("/public/v1/query/list_suborgs",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetSubOrgIds=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_suborgs",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.listUserTags=async(r={})=>this.request("/public/v1/query/list_user_tags",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampListUserTags=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_user_tags",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getUsers=async(r={})=>this.request("/public/v1/query/list_users",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetUsers=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_users",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getVerifiedSubOrgIds=async r=>this.request("/public/v1/query/list_verified_suborgs",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetVerifiedSubOrgIds=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_verified_suborgs",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getWalletAccounts=async r=>this.request("/public/v1/query/list_wallet_accounts",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetWalletAccounts=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_wallet_accounts",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getWallets=async(r={})=>this.request("/public/v1/query/list_wallets",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetWallets=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_wallets",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getWhoami=async(r={})=>this.request("/public/v1/query/whoami",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetWhoami=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/whoami",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.approveActivity=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.activityDecision("/public/v1/submit/approve_activity",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_APPROVE_ACTIVITY"})},this.stampApproveActivity=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/approve_activity",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_APPROVE_ACTIVITY"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createApiKeys=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_api_keys",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_API_KEYS_V2"},"createApiKeysResult")},this.stampCreateApiKeys=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_api_keys",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_API_KEYS_V2"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createApiOnlyUsers=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_api_only_users",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_API_ONLY_USERS"},"createApiOnlyUsersResult")},this.stampCreateApiOnlyUsers=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_api_only_users",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_API_ONLY_USERS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createAuthenticators=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_authenticators",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_AUTHENTICATORS_V2"},"createAuthenticatorsResult")},this.stampCreateAuthenticators=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_authenticators",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_AUTHENTICATORS_V2"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createFiatOnRampCredential=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_fiat_on_ramp_credential",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_FIAT_ON_RAMP_CREDENTIAL"},"createFiatOnRampCredentialResult")},this.stampCreateFiatOnRampCredential=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_fiat_on_ramp_credential",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_FIAT_ON_RAMP_CREDENTIAL"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createInvitations=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_invitations",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_INVITATIONS"},"createInvitationsResult")},this.stampCreateInvitations=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_invitations",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_INVITATIONS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createOauth2Credential=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_oauth2_credential",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_OAUTH2_CREDENTIAL"},"createOauth2CredentialResult")},this.stampCreateOauth2Credential=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_oauth2_credential",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_OAUTH2_CREDENTIAL"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createOauthProviders=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_oauth_providers",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_OAUTH_PROVIDERS"},"createOauthProvidersResult")},this.stampCreateOauthProviders=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_oauth_providers",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_OAUTH_PROVIDERS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createPolicies=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_policies",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_POLICIES"},"createPoliciesResult")},this.stampCreatePolicies=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_policies",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_POLICIES"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createPolicy=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_policy",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_POLICY_V3"},"createPolicyResult")},this.stampCreatePolicy=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_policy",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_POLICY_V3"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createPrivateKeyTag=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_private_key_tag",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_PRIVATE_KEY_TAG"},"createPrivateKeyTagResult")},this.stampCreatePrivateKeyTag=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_private_key_tag",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_PRIVATE_KEY_TAG"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createPrivateKeys=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_private_keys",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_PRIVATE_KEYS_V2"},"createPrivateKeysResultV2")},this.stampCreatePrivateKeys=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_private_keys",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_PRIVATE_KEYS_V2"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createReadOnlySession=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_read_only_session",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_READ_ONLY_SESSION"},"createReadOnlySessionResult")},this.stampCreateReadOnlySession=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_read_only_session",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_READ_ONLY_SESSION"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createReadWriteSession=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_read_write_session",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_READ_WRITE_SESSION_V2"},"createReadWriteSessionResultV2")},this.stampCreateReadWriteSession=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_read_write_session",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_READ_WRITE_SESSION_V2"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createSmartContractInterface=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_smart_contract_interface",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_SMART_CONTRACT_INTERFACE"},"createSmartContractInterfaceResult")},this.stampCreateSmartContractInterface=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_smart_contract_interface",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_SMART_CONTRACT_INTERFACE"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createSubOrganization=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_sub_organization",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_SUB_ORGANIZATION_V7"},"createSubOrganizationResultV7")},this.stampCreateSubOrganization=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_sub_organization",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_SUB_ORGANIZATION_V7"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createUserTag=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_user_tag",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_USER_TAG"},"createUserTagResult")},this.stampCreateUserTag=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_user_tag",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_USER_TAG"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createUsers=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_users",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_USERS_V3"},"createUsersResult")},this.stampCreateUsers=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_users",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_USERS_V3"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createWallet=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_wallet",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_WALLET"},"createWalletResult")},this.stampCreateWallet=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_wallet",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_WALLET"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createWalletAccounts=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_wallet_accounts",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_WALLET_ACCOUNTS"},"createWalletAccountsResult")},this.stampCreateWalletAccounts=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_wallet_accounts",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_WALLET_ACCOUNTS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteApiKeys=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_api_keys",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_API_KEYS"},"deleteApiKeysResult")},this.stampDeleteApiKeys=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_api_keys",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_API_KEYS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteAuthenticators=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_authenticators",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_AUTHENTICATORS"},"deleteAuthenticatorsResult")},this.stampDeleteAuthenticators=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_authenticators",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_AUTHENTICATORS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteFiatOnRampCredential=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_fiat_on_ramp_credential",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_FIAT_ON_RAMP_CREDENTIAL"},"deleteFiatOnRampCredentialResult")},this.stampDeleteFiatOnRampCredential=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_fiat_on_ramp_credential",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_FIAT_ON_RAMP_CREDENTIAL"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteInvitation=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_invitation",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_INVITATION"},"deleteInvitationResult")},this.stampDeleteInvitation=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_invitation",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_INVITATION"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteOauth2Credential=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_oauth2_credential",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_OAUTH2_CREDENTIAL"},"deleteOauth2CredentialResult")},this.stampDeleteOauth2Credential=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_oauth2_credential",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_OAUTH2_CREDENTIAL"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteOauthProviders=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_oauth_providers",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_OAUTH_PROVIDERS"},"deleteOauthProvidersResult")},this.stampDeleteOauthProviders=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_oauth_providers",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_OAUTH_PROVIDERS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deletePolicies=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_policies",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_POLICIES"},"deletePoliciesResult")},this.stampDeletePolicies=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_policies",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_POLICIES"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deletePolicy=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_policy",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_POLICY"},"deletePolicyResult")},this.stampDeletePolicy=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_policy",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_POLICY"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deletePrivateKeyTags=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_private_key_tags",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_PRIVATE_KEY_TAGS"},"deletePrivateKeyTagsResult")},this.stampDeletePrivateKeyTags=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_private_key_tags",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_PRIVATE_KEY_TAGS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deletePrivateKeys=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_private_keys",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_PRIVATE_KEYS"},"deletePrivateKeysResult")},this.stampDeletePrivateKeys=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_private_keys",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_PRIVATE_KEYS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteSmartContractInterface=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_smart_contract_interface",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_SMART_CONTRACT_INTERFACE"},"deleteSmartContractInterfaceResult")},this.stampDeleteSmartContractInterface=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_smart_contract_interface",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_SMART_CONTRACT_INTERFACE"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteSubOrganization=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_sub_organization",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_SUB_ORGANIZATION"},"deleteSubOrganizationResult")},this.stampDeleteSubOrganization=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_sub_organization",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_SUB_ORGANIZATION"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteUserTags=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_user_tags",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_USER_TAGS"},"deleteUserTagsResult")},this.stampDeleteUserTags=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_user_tags",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_USER_TAGS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteUsers=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_users",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_USERS"},"deleteUsersResult")},this.stampDeleteUsers=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_users",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_USERS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteWalletAccounts=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_wallet_accounts",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_WALLET_ACCOUNTS"},"deleteWalletAccountsResult")},this.stampDeleteWalletAccounts=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_wallet_accounts",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_WALLET_ACCOUNTS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteWallets=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_wallets",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_WALLETS"},"deleteWalletsResult")},this.stampDeleteWallets=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_wallets",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_WALLETS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.emailAuth=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/email_auth",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_EMAIL_AUTH_V3"},"emailAuthResult")},this.stampEmailAuth=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/email_auth",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_EMAIL_AUTH_V3"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.ethSendRawTransaction=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/eth_send_raw_transaction",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_ETH_SEND_RAW_TRANSACTION"},"ethSendRawTransactionResult")},this.stampEthSendRawTransaction=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/eth_send_raw_transaction",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_ETH_SEND_RAW_TRANSACTION"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.ethSendTransaction=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/eth_send_transaction",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_ETH_SEND_TRANSACTION"},"ethSendTransactionResult")},this.stampEthSendTransaction=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/eth_send_transaction",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_ETH_SEND_TRANSACTION"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.exportPrivateKey=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/export_private_key",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_PRIVATE_KEY"},"exportPrivateKeyResult")},this.stampExportPrivateKey=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/export_private_key",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_PRIVATE_KEY"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.exportWallet=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/export_wallet",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET"},"exportWalletResult")},this.stampExportWallet=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/export_wallet",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.exportWalletAccount=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/export_wallet_account",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET_ACCOUNT"},"exportWalletAccountResult")},this.stampExportWalletAccount=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/export_wallet_account",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET_ACCOUNT"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.importPrivateKey=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/import_private_key",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_IMPORT_PRIVATE_KEY"},"importPrivateKeyResult")},this.stampImportPrivateKey=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/import_private_key",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_IMPORT_PRIVATE_KEY"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.importWallet=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/import_wallet",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_IMPORT_WALLET"},"importWalletResult")},this.stampImportWallet=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/import_wallet",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_IMPORT_WALLET"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.initFiatOnRamp=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/init_fiat_on_ramp",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_FIAT_ON_RAMP"},"initFiatOnRampResult")},this.stampInitFiatOnRamp=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/init_fiat_on_ramp",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_FIAT_ON_RAMP"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.initImportPrivateKey=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/init_import_private_key",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_IMPORT_PRIVATE_KEY"},"initImportPrivateKeyResult")},this.stampInitImportPrivateKey=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/init_import_private_key",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_IMPORT_PRIVATE_KEY"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.initImportWallet=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/init_import_wallet",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_IMPORT_WALLET"},"initImportWalletResult")},this.stampInitImportWallet=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/init_import_wallet",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_IMPORT_WALLET"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.initOtp=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/init_otp",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_OTP_V2"},"initOtpResult")},this.stampInitOtp=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/init_otp",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_OTP_V2"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.initOtpAuth=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/init_otp_auth",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_OTP_AUTH_V3"},"initOtpAuthResultV2")},this.stampInitOtpAuth=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/init_otp_auth",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_OTP_AUTH_V3"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.initUserEmailRecovery=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/init_user_email_recovery",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_USER_EMAIL_RECOVERY_V2"},"initUserEmailRecoveryResult")},this.stampInitUserEmailRecovery=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/init_user_email_recovery",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_USER_EMAIL_RECOVERY_V2"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.oauth=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/oauth",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH"},"oauthResult")},this.stampOauth=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/oauth",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.oauth2Authenticate=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/oauth2_authenticate",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH2_AUTHENTICATE"},"oauth2AuthenticateResult")},this.stampOauth2Authenticate=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/oauth2_authenticate",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH2_AUTHENTICATE"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.oauthLogin=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/oauth_login",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH_LOGIN"},"oauthLoginResult")},this.stampOauthLogin=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/oauth_login",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH_LOGIN"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.otpAuth=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/otp_auth",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_OTP_AUTH"},"otpAuthResult")},this.stampOtpAuth=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/otp_auth",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_OTP_AUTH"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.otpLogin=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/otp_login",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_OTP_LOGIN"},"otpLoginResult")},this.stampOtpLogin=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/otp_login",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_OTP_LOGIN"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.recoverUser=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/recover_user",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_RECOVER_USER"},"recoverUserResult")},this.stampRecoverUser=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/recover_user",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_RECOVER_USER"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.rejectActivity=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.activityDecision("/public/v1/submit/reject_activity",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_REJECT_ACTIVITY"})},this.stampRejectActivity=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/reject_activity",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_REJECT_ACTIVITY"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.removeOrganizationFeature=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/remove_organization_feature",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_REMOVE_ORGANIZATION_FEATURE"},"removeOrganizationFeatureResult")},this.stampRemoveOrganizationFeature=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/remove_organization_feature",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_REMOVE_ORGANIZATION_FEATURE"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.setOrganizationFeature=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/set_organization_feature",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_SET_ORGANIZATION_FEATURE"},"setOrganizationFeatureResult")},this.stampSetOrganizationFeature=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/set_organization_feature",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_SET_ORGANIZATION_FEATURE"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.signRawPayload=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/sign_raw_payload",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOAD_V2"},"signRawPayloadResult")},this.stampSignRawPayload=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/sign_raw_payload",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOAD_V2"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.signRawPayloads=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/sign_raw_payloads",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOADS"},"signRawPayloadsResult")},this.stampSignRawPayloads=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/sign_raw_payloads",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOADS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.signTransaction=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/sign_transaction",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_TRANSACTION_V2"},"signTransactionResult")},this.stampSignTransaction=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/sign_transaction",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_TRANSACTION_V2"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.stampLogin=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/stamp_login",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_STAMP_LOGIN"},"stampLoginResult")},this.stampStampLogin=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/stamp_login",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_STAMP_LOGIN"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updateFiatOnRampCredential=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/update_fiat_on_ramp_credential",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_FIAT_ON_RAMP_CREDENTIAL"},"updateFiatOnRampCredentialResult")},this.stampUpdateFiatOnRampCredential=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/update_fiat_on_ramp_credential",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_FIAT_ON_RAMP_CREDENTIAL"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updateOauth2Credential=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/update_oauth2_credential",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_OAUTH2_CREDENTIAL"},"updateOauth2CredentialResult")},this.stampUpdateOauth2Credential=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/update_oauth2_credential",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_OAUTH2_CREDENTIAL"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updatePolicy=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/update_policy",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_POLICY_V2"},"updatePolicyResultV2")},this.stampUpdatePolicy=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/update_policy",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_POLICY_V2"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updatePrivateKeyTag=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/update_private_key_tag",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_PRIVATE_KEY_TAG"},"updatePrivateKeyTagResult")},this.stampUpdatePrivateKeyTag=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/update_private_key_tag",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_PRIVATE_KEY_TAG"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updateRootQuorum=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/update_root_quorum",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_ROOT_QUORUM"},"updateRootQuorumResult")},this.stampUpdateRootQuorum=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/update_root_quorum",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_ROOT_QUORUM"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updateUser=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/update_user",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER"},"updateUserResult")},this.stampUpdateUser=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/update_user",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updateUserEmail=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/update_user_email",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_EMAIL"},"updateUserEmailResult")},this.stampUpdateUserEmail=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/update_user_email",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_EMAIL"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updateUserName=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/update_user_name",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_NAME"},"updateUserNameResult")},this.stampUpdateUserName=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/update_user_name",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_NAME"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updateUserPhoneNumber=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/update_user_phone_number",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_PHONE_NUMBER"},"updateUserPhoneNumberResult")},this.stampUpdateUserPhoneNumber=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/update_user_phone_number",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_PHONE_NUMBER"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updateUserTag=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/update_user_tag",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_TAG"},"updateUserTagResult")},this.stampUpdateUserTag=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/update_user_tag",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_TAG"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updateWallet=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/update_wallet",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_WALLET"},"updateWalletResult")},this.stampUpdateWallet=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/update_wallet",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_WALLET"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.verifyOtp=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/verify_otp",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_VERIFY_OTP"},"verifyOtpResult")},this.stampVerifyOtp=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/verify_otp",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_VERIFY_OTP"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.testRateLimits=async r=>this.request("/tkhq/api/v1/test_rate_limits",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampTestRateLimits=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/tkhq/api/v1/test_rate_limits",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.config=e,this.stamper=e.stamper}async request(e,r){let n=this.config.apiBaseUrl+e,i=JSON.stringify(r),o=await this.stamper.stamp(i),s=await fetch(n,{method:"POST",headers:{[o.stampHeaderName]:o.stampHeaderValue,"X-Client-Version":Gat},body:i,redirect:"follow"});if(!s.ok){let c;try{c=await s.json()}catch{throw new Error(`${s.status} ${s.statusText}`)}throw new Az(c)}return await s.json()}async command(e,r,n){let i=this.config.activityPoller?.intervalMs??1e3,o=this.config.activityPoller?.numRetries??3,s=d=>new Promise(p=>setTimeout(p,d)),a=d=>{let{result:p,status:f}=d.activity;return f==="ACTIVITY_STATUS_COMPLETED"?{...p[`${n}`],...d}:d},c=0,l=async(d,p)=>{let f={activityId:d,organizationId:p},h=await this.getActivity(f);return c>o?a(h):(c+=1,wz.includes(h.activity.status)?a(h):(await s(i),l(d,p)))},u=await this.request(e,r);return wz.includes(u.activity.status)?a(u):l(u.activity.id,u.activity.organizationId)}async activityDecision(e,r){let n=await this.request(e,r);return{...n.activity.result,...n}}};var jat=["oauth","createReadWriteSession","createSubOrganization","emailAuth","initUserEmailRecovery"],TS=class{constructor(e){this.apiClient=r=>(this.stamper=new YN({apiPublicKey:r?.apiPublicKey??this.config.apiPublicKey,apiPrivateKey:r?.apiPrivateKey??this.config.apiPrivateKey,runtimeOverride:this.config.runtimeOverride}),new Rz({stamper:this.stamper,apiBaseUrl:this.config.apiBaseUrl,organizationId:this.config.defaultOrganizationId,activityPoller:this.config.activityPoller})),this.apiProxy=async(r,n)=>{let o=this.apiClient()[r];if(typeof o=="function")return await o(...n);throw new Error(`Method: ${r} does not exist on TurnkeySDKClient`)},this.expressProxyHandler=r=>{let n=r.allowedMethods??jat;return async(i,o)=>{let{methodName:s,params:a}=i.body;(!s||!a)&&o.status(400).send("methodName and params are required.");try{if(n.includes(s)){let c=await this.apiProxy(s,a);o.json(c)}else o.status(401).send("Unauthorized proxy method");return}catch(c){c instanceof Error?o.status(500).send(c.message):o.status(500).send("An unexpected error occurred");return}}},this.nextProxyHandler=r=>{let n=r.allowedMethods??jat;return async(i,o)=>{let{methodName:s,params:a}=i.body;(!s||!a)&&o.status(400).send("methodName and params are required.");try{if(n.includes(s)){let c=await this.apiProxy(s,a);o.json(c)}else o.status(401).send("Unauthorized proxy method");return}catch(c){c instanceof Error?o.status(500).send(c.message):o.status(500).send("An unexpected error occurred");return}}},this.config=e}},Tz=class extends Ez{constructor(e){super(e)}},Rz=class extends Tz{constructor(e){super(e)}};var Zer=di(a0e(),1);var qat=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/60'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_ETHEREUM"}),Wat=[qat(0)],Jat=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/118'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_COSMOS"}),etr=[Jat(0)],Kat=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/195'/${t}'`,addressFormat:"ADDRESS_FORMAT_TRON"}),ttr=[Kat(0)],Qat=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/0'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_MAINNET_P2PKH"}),rtr=[Qat(0)],Xat=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/84'/0'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_MAINNET_P2WPKH"}),ntr=[Xat(0)],Yat=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/48'/0'/${t}'/2'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_MAINNET_P2WSH"}),itr=[Yat(0)],Zat=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/86'/0'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_MAINNET_P2TR"}),otr=[Zat(0)],ect=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/0'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_MAINNET_P2SH"}),str=[ect(0)],tct=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_TESTNET_P2PKH"}),atr=[tct(0)],rct=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/84'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_TESTNET_P2WPKH"}),ctr=[rct(0)],nct=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/48'/1'/${t}'/2'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_TESTNET_P2WSH"}),ltr=[nct(0)],ict=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/86'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_TESTNET_P2TR"}),utr=[ict(0)],oct=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_TESTNET_P2SH"}),dtr=[oct(0)],sct=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_SIGNET_P2PKH"}),ptr=[sct(0)],act=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/84'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_SIGNET_P2WPKH"}),ftr=[act(0)],cct=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/48'/1'/${t}'/2'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_SIGNET_P2WSH"}),mtr=[cct(0)],lct=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/86'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_SIGNET_P2TR"}),htr=[lct(0)],uct=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_SIGNET_P2SH"}),gtr=[uct(0)],dct=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_REGTEST_P2PKH"}),ytr=[dct(0)],pct=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/84'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_REGTEST_P2WPKH"}),btr=[pct(0)],fct=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/48'/1'/${t}'/2'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_REGTEST_P2WSH"}),vtr=[fct(0)],mct=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/86'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_REGTEST_P2TR"}),_tr=[mct(0)],hct=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_REGTEST_P2SH"}),Str=[hct(0)],gct=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/3'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_DOGE_MAINNET"}),xtr=[gct(0)],yct=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/3'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_DOGE_TESTNET"}),wtr=[yct(0)],bct=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/118'/${t}'/0'/0'`,addressFormat:"ADDRESS_FORMAT_SEI"});var Atr=[bct(0)],vct=t=>({curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/501'/${t}'/0'`,addressFormat:"ADDRESS_FORMAT_SOLANA"}),l0e=[vct(0)],_ct=t=>({curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/784'/${t}'/0'/0'`,addressFormat:"ADDRESS_FORMAT_SUI"}),Etr=[_ct(0)],Sct=t=>({curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/637'/${t}'/0'/0'`,addressFormat:"ADDRESS_FORMAT_APTOS"}),Ttr=[Sct(0)],xct=t=>({curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/148'/${t}'`,addressFormat:"ADDRESS_FORMAT_XLM"}),Rtr=[xct(0)],wct=t=>({curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/607'/${t}'/0'/0'`,addressFormat:"ADDRESS_FORMAT_TON_V3R2"}),Itr=[wct(0)],Act=t=>({curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/607'/${t}'/0'/0'`,addressFormat:"ADDRESS_FORMAT_TON_V4R2"}),Ctr=[Act(0)];var AT;(function(t){t.Ethereum="ethereum",t.Solana="solana"})(AT||(AT={}));Df();vge();var Lri=new TS({apiBaseUrl:process.env.NEXT_PUBLIC_BASE_URL,defaultOrganizationId:process.env.NEXT_PUBLIC_ORGANIZATION_ID,apiPrivateKey:process.env.TURNKEY_API_PRIVATE_KEY,apiPublicKey:process.env.TURNKEY_API_PUBLIC_KEY});import{Buffer as ur}from"buffer";AC();kh();dz();uT();dz();_S();var gy=BigInt(0),ps=BigInt(1),p0e=BigInt(2),Htr=BigInt(8);function Vtr(t,e,r,n){let i=t.sqr(r),o=t.sqr(n),s=t.add(t.mul(e.a,i),o),a=t.add(t.ONE,t.mul(e.d,t.mul(i,o)));return t.eql(s,a)}function Gtr(t,e={}){let r=uz("edwards",t,e,e.FpFnLE),{Fp:n,Fn:i}=r,o=r.CURVE,{h:s}=o;ay(e,{},{uvRatio:"function"});let a=p0e<<BigInt(i.BYTES*8)-ps,c=g=>n.create(g),l=e.uvRatio||((g,y)=>{try{return{isValid:!0,value:n.sqrt(n.div(g,y))}}catch{return{isValid:!1,value:gy}}});if(!Vtr(n,o,o.Gx,o.Gy))throw new Error("bad curve params: generator point");function u(g,y,v=!1){let S=v?ps:gy;return WN("coordinate "+g,y,S,a),y}function d(g){if(!(g instanceof h))throw new Error("ExtendedPoint expected")}let p=lT((g,y)=>{let{X:v,Y:S,Z:w}=g,E=g.is0();y==null&&(y=E?Htr:n.inv(w));let I=c(v*y),D=c(S*y),k=n.mul(w,y);if(E)return{x:gy,y:ps};if(k!==ps)throw new Error("invZ was invalid");return{x:I,y:D}}),f=lT(g=>{let{a:y,d:v}=o;if(g.is0())throw new Error("bad point: ZERO");let{X:S,Y:w,Z:E,T:I}=g,D=c(S*S),k=c(w*w),P=c(E*E),$=c(P*P),H=c(D*y),W=c(P*c(H+k)),N=c($+c(v*c(D*k)));if(W!==N)throw new Error("bad point: equation left != right (1)");let _=c(S*w),x=c(E*I);if(_!==x)throw new Error("bad point: equation left != right (2)");return!0});class h{constructor(y,v,S,w){this.X=u("x",y),this.Y=u("y",v),this.Z=u("z",S,!0),this.T=u("t",w),Object.freeze(this)}static CURVE(){return o}static fromAffine(y){if(y instanceof h)throw new Error("extended point not allowed");let{x:v,y:S}=y||{};return u("x",v),u("y",S),new h(v,S,ps,c(v*S))}static fromBytes(y,v=!1){let S=n.BYTES,{a:w,d:E}=o;y=Cge(wl(y,S,"point")),Yh(v,"zip215");let I=Cge(y),D=y[S-1];I[S-1]=D&-129;let k=Zh(I),P=v?a:n.ORDER;WN("point.y",k,gy,P);let $=c(k*k),H=c($-ps),W=c(E*$-w),{isValid:N,value:_}=l(H,W);if(!N)throw new Error("bad point: invalid y coordinate");let x=(_&ps)===ps,R=(D&128)!==0;if(!v&&_===gy&&R)throw new Error("bad point: x=0 and x_0=1");return R!==x&&(_=c(-_)),h.fromAffine({x:_,y:k})}static fromHex(y,v=!1){return h.fromBytes(Cn("point",y),v)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(y=8,v=!0){return m.createCache(this,y),v||this.multiply(p0e),this}assertValidity(){f(this)}equals(y){d(y);let{X:v,Y:S,Z:w}=this,{X:E,Y:I,Z:D}=y,k=c(v*D),P=c(E*w),$=c(S*D),H=c(I*w);return k===P&&$===H}is0(){return this.equals(h.ZERO)}negate(){return new h(c(-this.X),this.Y,this.Z,c(-this.T))}double(){let{a:y}=o,{X:v,Y:S,Z:w}=this,E=c(v*v),I=c(S*S),D=c(p0e*c(w*w)),k=c(y*E),P=v+S,$=c(c(P*P)-E-I),H=k+I,W=H-D,N=k-I,_=c($*W),x=c(H*N),R=c($*N),L=c(W*H);return new h(_,x,L,R)}add(y){d(y);let{a:v,d:S}=o,{X:w,Y:E,Z:I,T:D}=this,{X:k,Y:P,Z:$,T:H}=y,W=c(w*k),N=c(E*P),_=c(D*S*H),x=c(I*$),R=c((w+E)*(k+P)-W-N),L=x-_,U=x+_,j=c(N-v*W),Q=c(R*L),G=c(U*j),A=c(R*j),X=c(L*U);return new h(Q,G,X,A)}subtract(y){return this.add(y.negate())}multiply(y){if(!i.isValidNot0(y))throw new Error("invalid scalar: expected 1 <= sc < curve.n");let{p:v,f:S}=m.cached(this,y,w=>tg(h,w));return tg(h,[v,S])[0]}multiplyUnsafe(y,v=h.ZERO){if(!i.isValid(y))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return y===gy?h.ZERO:this.is0()||y===ps?this:m.unsafe(this,y,S=>tg(h,S),v)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}isTorsionFree(){return m.unsafe(this,o.n).is0()}toAffine(y){return p(this,y)}clearCofactor(){return s===ps?this:this.multiplyUnsafe(s)}toBytes(){let{x:y,y:v}=this.toAffine(),S=n.toBytes(v);return S[S.length-1]|=y&ps?128:0,S}toHex(){return Xu(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(y){return tg(h,y)}static msm(y,v){return fT(h,i,y,v)}_setWindowSize(y){this.precompute(y)}toRawBytes(){return this.toBytes()}}h.BASE=new h(o.Gx,o.Gy,ps,c(o.Gx*o.Gy)),h.ZERO=new h(gy,ps,ps,gy),h.Fp=n,h.Fn=i;let m=new pT(h,i.BITS);return h.BASE.precompute(8),h}var Iz=class{constructor(e){this.ep=e}static fromBytes(e){Nge()}static fromHex(e){Nge()}get x(){return this.toAffine().x}get y(){return this.toAffine().y}clearCofactor(){return this}assertValidity(){this.ep.assertValidity()}toAffine(e){return this.ep.toAffine(e)}toHex(){return Xu(this.toBytes())}toString(){return this.toHex()}isTorsionFree(){return!0}isSmallOrder(){return!1}add(e){return this.assertSame(e),this.init(this.ep.add(e.ep))}subtract(e){return this.assertSame(e),this.init(this.ep.subtract(e.ep))}multiply(e){return this.init(this.ep.multiply(e))}multiplyUnsafe(e){return this.init(this.ep.multiplyUnsafe(e))}double(){return this.init(this.ep.double())}negate(){return this.init(this.ep.negate())}precompute(e,r){return this.init(this.ep.precompute(e,r))}toRawBytes(){return this.toBytes()}};function jtr(t,e,r={}){if(typeof e!="function")throw new Error('"hash" function param is required');ay(r,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});let{prehash:n}=r,{BASE:i,Fp:o,Fn:s}=t,a=r.randomBytes||_E,c=r.adjustScalarBytes||(P=>P),l=r.domain||((P,$,H)=>{if(Yh(H,"phflag"),$.length||H)throw new Error("Contexts/pre-hash are not supported");return P});function u(P){return s.create(Zh(P))}function d(P){let $=S.secretKey;P=Cn("private key",P,$);let H=Cn("hashed private key",e(P),2*$),W=c(H.slice(0,$)),N=H.slice($,2*$),_=u(W);return{head:W,prefix:N,scalar:_}}function p(P){let{head:$,prefix:H,scalar:W}=d(P),N=i.multiply(W),_=N.toBytes();return{head:$,prefix:H,scalar:W,point:N,pointBytes:_}}function f(P){return p(P).pointBytes}function h(P=Uint8Array.of(),...$){let H=La(...$);return u(e(l(H,Cn("context",P),!!n)))}function m(P,$,H={}){P=Cn("message",P),n&&(P=n(P));let{prefix:W,scalar:N,pointBytes:_}=p($),x=h(H.context,W,P),R=i.multiply(x).toBytes(),L=h(H.context,R,_,P),U=s.create(x+L*N);if(!s.isValid(U))throw new Error("sign failed: invalid s");let j=La(R,s.toBytes(U));return wl(j,S.signature,"result")}let g={zip215:!0};function y(P,$,H,W=g){let{context:N,zip215:_}=W,x=S.signature;P=Cn("signature",P,x),$=Cn("message",$),H=Cn("publicKey",H,S.publicKey),_!==void 0&&Yh(_,"zip215"),n&&($=n($));let R=x/2,L=P.subarray(0,R),U=Zh(P.subarray(R,x)),j,Q,G;try{j=t.fromBytes(H,_),Q=t.fromBytes(L,_),G=i.multiplyUnsafe(U)}catch{return!1}if(!_&&j.isSmallOrder())return!1;let A=h(N,Q.toBytes(),j.toBytes(),$);return Q.add(j.multiplyUnsafe(A)).subtract(G).clearCofactor().is0()}let v=o.BYTES,S={secretKey:v,publicKey:v,signature:2*v,seed:v};function w(P=a(S.seed)){return wl(P,S.seed,"seed")}function E(P){let $=k.randomSecretKey(P);return{secretKey:$,publicKey:f($)}}function I(P){return Oh(P)&&P.length===s.BYTES}function D(P,$){try{return!!t.fromBytes(P,$)}catch{return!1}}let k={getExtendedPublicKey:p,randomSecretKey:w,isValidSecretKey:I,isValidPublicKey:D,toMontgomery(P){let{y:$}=t.fromBytes(P),H=S.publicKey,W=H===32;if(!W&&H!==57)throw new Error("only defined for 25519 and 448");let N=W?o.div(ps+$,ps-$):o.div($-ps,$+ps);return o.toBytes(N)},toMontgomerySecret(P){let $=S.secretKey;wl(P,$);let H=e(P.subarray(0,$));return c(H).subarray(0,$)},randomPrivateKey:w,precompute(P=8,$=t.BASE){return $.precompute(P,!1)}};return Object.freeze({keygen:E,getPublicKey:f,sign:m,verify:y,utils:k,Point:t,lengths:S})}function qtr(t){let e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp,n=Ps(e.n,t.nBitLength,!0),i={Fp:r,Fn:n,uvRatio:t.uvRatio},o={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:i,hash:t.hash,eddsaOpts:o}}function Wtr(t,e){let r=e.Point;return Object.assign({},e,{ExtendedPoint:r,CURVE:t,nBitLength:r.Fn.BITS,nByteLength:r.Fn.BYTES})}function kct(t){let{CURVE:e,curveOpts:r,hash:n,eddsaOpts:i}=qtr(t),o=Gtr(e,r),s=jtr(o,n,i);return Wtr(t,s)}_S();uT();var Jtr=BigInt(0),cg=BigInt(1),Dct=BigInt(2),hni=BigInt(3),Ktr=BigInt(5),Qtr=BigInt(8),ET=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),lO={p:ET,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:Qtr,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Xtr(t){let e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),o=ET,a=t*t%o*t%o,c=Si(a,Dct,o)*a%o,l=Si(c,cg,o)*t%o,u=Si(l,Ktr,o)*l%o,d=Si(u,e,o)*u%o,p=Si(d,r,o)*d%o,f=Si(p,n,o)*p%o,h=Si(f,i,o)*f%o,m=Si(h,i,o)*f%o,g=Si(m,e,o)*u%o;return{pow_p_5_8:Si(g,Dct,o)*t%o,b2:a}}function Ytr(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}var f0e=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function g0e(t,e){let r=ET,n=ji(e*e*e,r),i=ji(n*n*e,r),o=Xtr(t*i).pow_p_5_8,s=ji(t*n*o,r),a=ji(e*s*s,r),c=s,l=ji(s*f0e,r),u=a===t,d=a===ji(-t,r),p=a===ji(-t*f0e,r);return u&&(s=c),(d||p)&&(s=l),eg(s,r)&&(s=ji(-s,r)),{isValid:u||d,value:s}}var yy=Ps(lO.p,{isLE:!0}),Ztr=Ps(lO.n,{isLE:!0}),err={...lO,Fp:yy,hash:fU,adjustScalarBytes:Ytr,uvRatio:g0e},Hc=kct(err);var m0e=f0e,trr=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),rrr=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),nrr=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),irr=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),Mct=t=>g0e(cg,t),orr=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),h0e=t=>Hc.Point.Fp.create(Zh(t)&orr);function Lct(t){let{d:e}=lO,r=ET,n=y=>yy.create(y),i=n(m0e*t*t),o=n((i+cg)*nrr),s=BigInt(-1),a=n((s-e*i)*n(i+e)),{isValid:c,value:l}=g0e(o,a),u=n(l*t);eg(u,r)||(u=n(-u)),c||(l=u),c||(s=i);let d=n(s*(i-cg)*irr-a),p=l*l,f=n((l+l)*a),h=n(d*trr),m=n(cg-p),g=n(cg+p);return new Hc.Point(n(f*g),n(m*h),n(h*g),n(f*m))}function srr(t){Es(t,64);let e=h0e(t.subarray(0,32)),r=Lct(e),n=h0e(t.subarray(32,64)),i=Lct(n);return new lg(r.add(i))}var lg=class t extends Iz{constructor(e){super(e)}static fromAffine(e){return new t(Hc.Point.fromAffine(e))}assertSame(e){if(!(e instanceof t))throw new Error("RistrettoPoint expected")}init(e){return new t(e)}static hashToCurve(e){return srr(Cn("ristrettoHash",e,64))}static fromBytes(e){Es(e,32);let{a:r,d:n}=lO,i=ET,o=w=>yy.create(w),s=h0e(e);if(!Sst(yy.toBytes(s),e)||eg(s,i))throw new Error("invalid ristretto255 encoding 1");let a=o(s*s),c=o(cg+r*a),l=o(cg-r*a),u=o(c*c),d=o(l*l),p=o(r*n*u-d),{isValid:f,value:h}=Mct(o(p*d)),m=o(h*l),g=o(h*m*p),y=o((s+s)*m);eg(y,i)&&(y=o(-y));let v=o(c*g),S=o(y*v);if(!f||eg(S,i)||v===Jtr)throw new Error("invalid ristretto255 encoding 2");return new t(new Hc.Point(y,v,cg,S))}static fromHex(e){return t.fromBytes(Cn("ristrettoHex",e,32))}static msm(e,r){return fT(t,Hc.Point.Fn,e,r)}toBytes(){let{X:e,Y:r,Z:n,T:i}=this.ep,o=ET,s=g=>yy.create(g),a=s(s(n+r)*s(n-r)),c=s(e*r),l=s(c*c),{value:u}=Mct(s(a*l)),d=s(u*a),p=s(u*c),f=s(d*p*i),h;if(eg(i*f,o)){let g=s(r*m0e),y=s(e*m0e);e=g,r=y,h=s(d*rrr)}else h=p;eg(e*f,o)&&(r=s(-r));let m=s((n-r)*h);return eg(m,o)&&(m=s(-m)),yy.toBytes(m)}equals(e){this.assertSame(e);let{X:r,Y:n}=this.ep,{X:i,Y:o}=e.ep,s=l=>yy.create(l),a=s(r*o)===s(n*i),c=s(n*o)===s(r*i);return a||c}is0(){return this.equals(t.ZERO)}};lg.BASE=new lg(Hc.Point.BASE);lg.ZERO=new lg(Hc.Point.ZERO);lg.Fp=yy;lg.Fn=Ztr;var t1e=di(b0e()),ma=di(Vct());xfe();var BT=di(Zct()),te=di(C0e()),nut=di(C0e());var Crr=1,Nrr=2,Orr=3,Prr=4,krr=5,Drr=6,Mrr=7,Lrr=8,Brr=9,$rr=10,Urr=-32700,Frr=-32603,zrr=-32602,Hrr=-32601,Vrr=-32600,Grr=-32016,jrr=-32015,qrr=-32014,Wrr=-32013,Jrr=-32012,Krr=-32011,Qrr=-32010,Xrr=-32009,Yrr=-32008,Zrr=-32007,enr=-32006,tnr=-32005,rnr=-32004,nnr=-32003,inr=-32002,onr=-32001,snr=28e5,anr=2800001,cnr=2800002,lnr=2800003,unr=2800004,dnr=2800005,pnr=2800006,fnr=2800007,mnr=2800008,hnr=2800009,gnr=2800010,ynr=2800011,bnr=323e4,vnr=32300001,_nr=3230002,Snr=3230003,xnr=3230004,wnr=361e4,Anr=3610001,Enr=3610002,Tnr=3610003,Rnr=3610004,Inr=3610005,Cnr=3610006,Nnr=3610007,Onr=3611e3,Pnr=3704e3,knr=3704001,Dnr=3704002,Mnr=3704003,Lnr=3704004,Bnr=4128e3,$nr=4128001,Unr=4128002,Fnr=4615e3,znr=4615001,Hnr=4615002,Vnr=4615003,Gnr=4615004,jnr=4615005,qnr=4615006,Wnr=4615007,Jnr=4615008,Knr=4615009,Qnr=4615010,Xnr=4615011,Ynr=4615012,Znr=4615013,eir=4615014,tir=4615015,rir=4615016,nir=4615017,iir=4615018,oir=4615019,sir=4615020,air=4615021,cir=4615022,lir=4615023,uir=4615024,dir=4615025,pir=4615026,fir=4615027,mir=4615028,hir=4615029,gir=4615030,yir=4615031,bir=4615032,vir=4615033,_ir=4615034,Sir=4615035,xir=4615036,wir=4615037,Air=4615038,Eir=4615039,Tir=4615040,Rir=4615041,Iir=4615042,Cir=4615043,Nir=4615044,Oir=4615045,Pir=4615046,kir=4615047,Dir=4615048,Mir=4615049,Lir=4615050,Bir=4615051,$ir=4615052,Uir=4615053,Fir=4615054,zir=5508e3,Hir=5508001,Vir=5508002,Gir=5508003,jir=5508004,qir=5508005,Wir=5508006,Jir=5508007,Kir=5508008,Qir=5508009,Xir=5508010,Yir=5508011,Zir=5663e3,eor=5663001,tor=5663002,ror=5663003,nor=5663004,ior=5663005,oor=5663006,sor=5663007,aor=5663008,cor=5663009,lor=5663010,uor=5663011,dor=5663012,por=5663013,mor=5663014,hor=5663015,gor=5663016,yor=5663017,bor=5663018,vor=5663019,_or=5663020,Sor=705e4,xor=7050001,wor=7050002,Aor=7050003,Eor=7050004,Tor=7050005,Ror=7050006,Ior=7050007,Cor=7050008,Nor=7050009,Oor=7050010,Por=7050011,kor=7050012,Dor=7050013,Mor=7050014,Lor=7050015,Bor=7050016,$or=7050017,Uor=7050018,For=7050019,zor=7050020,Hor=7050021,Vor=7050022,Gor=7050023,jor=7050024,qor=7050025,Wor=7050026,Jor=7050027,Kor=7050028,Qor=7050029,Xor=7050030,Yor=7050031,Zor=7050032,esr=7050033,tsr=7050034,rsr=7050035,nsr=7050036,N0e=8078e3,O0e=8078001,elt=8078002,tlt=8078003,P0e=8078004,k0e=8078005,D0e=8078006,isr=8078007,osr=8078008,ssr=8078009,asr=8078010,M0e=8078011,csr=8078012,rlt=8078013,nlt=8078014,lsr=8078015,usr=8078016,dsr=8078017,psr=8078018,fsr=8078019,ilt=8078020,olt=8078021,msr=8078022,hsr=81e5,gsr=8100001,ysr=8100002,bsr=8100003,vsr=819e4,_sr=8190001,Ssr=8190002,xsr=8190003,wsr=8190004,Asr=99e5,Esr=9900001,Tsr=9900002,Rsr=9900003,Isr=9900004;function slt(t){return Array.isArray(t)?"%5B"+t.map(slt).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function Csr([t,e]){return`${t}=${slt(e)}`}function Nsr(t){let e=Object.entries(t).map(Csr).join("&");return Buffer.from(e,"utf8").toString("base64")}var Osr={[bnr]:"Account not found at address: $address",[xnr]:"Not all accounts were decoded. Encoded accounts found at addresses: $addresses.",[Snr]:"Expected decoded account at address: $address",[_nr]:"Failed to decode account data at address: $address",[vnr]:"Accounts not found at addresses: $addresses",[hnr]:"Unable to find a viable program address bump seed.",[cnr]:"$putativeAddress is not a base58-encoded address.",[snr]:"Expected base58 encoded address to decode to a byte array of length 32. Actual length: $actualLength.",[lnr]:"The `CryptoKey` must be an `Ed25519` public key.",[ynr]:"$putativeOffCurveAddress is not a base58-encoded off-curve address.",[mnr]:"Invalid seeds; point must fall off the Ed25519 curve.",[unr]:"Expected given program derived address to have the following format: [Address, ProgramDerivedAddressBump].",[pnr]:"A maximum of $maxSeeds seeds, including the bump seed, may be supplied when creating an address. Received: $actual.",[fnr]:"The seed at index $index with length $actual exceeds the maximum length of $maxSeedLength bytes.",[dnr]:"Expected program derived address bump to be in the range [0, 255], got: $bump.",[gnr]:"Program address cannot end with PDA marker.",[anr]:"Expected base58-encoded address string of length in the range [32, 44]. Actual length: $actualLength.",[Prr]:"Expected base58-encoded blockash string of length in the range [32, 44]. Actual length: $actualLength.",[Crr]:"The network has progressed past the last block for which this transaction could have been committed.",[N0e]:"Codec [$codecDescription] cannot decode empty byte arrays.",[msr]:"Enum codec cannot use lexical values [$stringValues] as discriminators. Either remove all lexical values or set `useValuesAsDiscriminators` to `false`.",[ilt]:"Sentinel [$hexSentinel] must not be present in encoded bytes [$hexEncodedBytes].",[k0e]:"Encoder and decoder must have the same fixed size, got [$encoderFixedSize] and [$decoderFixedSize].",[D0e]:"Encoder and decoder must have the same max size, got [$encoderMaxSize] and [$decoderMaxSize].",[P0e]:"Encoder and decoder must either both be fixed-size or variable-size.",[osr]:"Enum discriminator out of range. Expected a number in [$formattedValidDiscriminators], got $discriminator.",[elt]:"Expected a fixed-size codec, got a variable-size one.",[rlt]:"Codec [$codecDescription] expected a positive byte length, got $bytesLength.",[tlt]:"Expected a variable-size codec, got a fixed-size one.",[fsr]:"Codec [$codecDescription] expected zero-value [$hexZeroValue] to have the same size as the provided fixed-size item [$expectedSize bytes].",[O0e]:"Codec [$codecDescription] expected $expected bytes, got $bytesLength.",[psr]:"Expected byte array constant [$hexConstant] to be present in data [$hexData] at offset [$offset].",[ssr]:"Invalid discriminated union variant. Expected one of [$variants], got $value.",[asr]:"Invalid enum variant. Expected one of [$stringValues] or a number in [$formattedNumericalValues], got $variant.",[lsr]:"Invalid literal union variant. Expected one of [$variants], got $value.",[isr]:"Expected [$codecDescription] to have $expected items, got $actual.",[csr]:"Invalid value $value for base $base with alphabet $alphabet.",[usr]:"Literal union discriminator out of range. Expected a number between $minRange and $maxRange, got $discriminator.",[M0e]:"Codec [$codecDescription] expected number to be in the range [$min, $max], got $value.",[nlt]:"Codec [$codecDescription] expected offset to be in the range [0, $bytesLength], got $offset.",[olt]:"Expected sentinel [$hexSentinel] to be present in decoded bytes [$hexDecodedBytes].",[dsr]:"Union variant out of range. Expected an index between $minRange and $maxRange, got $variant.",[Onr]:"No random values implementation could be found.",[Knr]:"instruction requires an uninitialized account",[lir]:"instruction tries to borrow reference for an account which is already borrowed",[uir]:"instruction left account with an outstanding borrowed reference",[air]:"program other than the account's owner changed the size of the account data",[jnr]:"account data too small for instruction",[cir]:"instruction expected an executable account",[Pir]:"An account does not have enough lamports to be rent-exempt",[Dir]:"Program arithmetic overflowed",[Oir]:"Failed to serialize or deserialize account data: $encodedData",[Fir]:"Builtin programs must consume compute units",[bir]:"Cross-program invocation call depth too deep",[Air]:"Computational budget exceeded",[pir]:"custom program error: #$code",[nir]:"instruction contains duplicate accounts",[dir]:"instruction modifications of multiply-passed account differ",[gir]:"executable accounts must be rent exempt",[mir]:"instruction changed executable accounts data",[hir]:"instruction changed the balance of an executable account",[iir]:"instruction changed executable bit of an account",[eir]:"instruction modified data of an account it does not own",[Znr]:"instruction spent from the balance of an account it does not own",[znr]:"generic instruction error",[Lir]:"Provided owner is not allowed",[Cir]:"Account is immutable",[Nir]:"Incorrect authority provided",[Wnr]:"incorrect program id for instruction",[qnr]:"insufficient funds for instruction",[Gnr]:"invalid account data for instruction",[kir]:"Invalid account owner",[Hnr]:"invalid program argument",[fir]:"program returned invalid error code",[Vnr]:"invalid instruction data",[wir]:"Failed to reallocate account data",[xir]:"Provided seeds do not result in a valid address",[Bir]:"Accounts data allocations exceeded the maximum allowed per transaction",[$ir]:"Max accounts exceeded",[Uir]:"Max instruction trace length exceeded",[Sir]:"Length of the seed is too long for address generation",[vir]:"An account required by the instruction is missing",[Jnr]:"missing required signature for instruction",[Ynr]:"instruction illegally modified the program id of an account",[sir]:"insufficient account keys for instruction",[Eir]:"Cross-program invocation with unauthorized signer or writable account",[Tir]:"Failed to create program execution environment",[Iir]:"Program failed to compile",[Rir]:"Program failed to complete",[rir]:"instruction modified data of a read-only account",[tir]:"instruction changed the balance of a read-only account",[_ir]:"Cross-program invocation reentrancy not allowed for this instruction",[oir]:"instruction modified rent epoch of an account",[Xnr]:"sum of account balances before and after instruction do not match",[Qnr]:"instruction requires an initialized account",[Fnr]:"",[yir]:"Unsupported program id",[Mir]:"Unsupported sysvar",[Bnr]:"The instruction does not have any accounts.",[$nr]:"The instruction does not have any data.",[Unr]:"Expected instruction to have progress address $expectedProgramAddress, got $actualProgramAddress.",[krr]:"Expected base58 encoded blockhash to decode to a byte array of length 32. Actual length: $actualLength.",[Nrr]:"The nonce `$expectedNonceValue` is no longer valid. It has advanced to `$actualNonceValue`",[Tsr]:"Invariant violation: Found no abortable iterable cache entry for key `$cacheKey`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[Isr]:"Invariant violation: This data publisher does not publish to the channel named `$channelName`. Supported channels include $supportedChannelNames.",[Esr]:"Invariant violation: WebSocket message iterator state is corrupt; iterated without first resolving existing message promise. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[Asr]:"Invariant violation: WebSocket message iterator is missing state storage. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[Rsr]:"Invariant violation: Switch statement non-exhaustive. Received unexpected value `$unexpectedValue`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[Frr]:"JSON-RPC error: Internal JSON-RPC error ($__serverMessage)",[zrr]:"JSON-RPC error: Invalid method parameter(s) ($__serverMessage)",[Vrr]:"JSON-RPC error: The JSON sent is not a valid `Request` object ($__serverMessage)",[Hrr]:"JSON-RPC error: The method does not exist / is not available ($__serverMessage)",[Urr]:"JSON-RPC error: An error occurred on the server while parsing the JSON text ($__serverMessage)",[Jrr]:"$__serverMessage",[onr]:"$__serverMessage",[rnr]:"$__serverMessage",[qrr]:"$__serverMessage",[Qrr]:"$__serverMessage",[Xrr]:"$__serverMessage",[Grr]:"Minimum context slot has not been reached",[tnr]:"Node is unhealthy; behind by $numSlotsBehind slots",[Yrr]:"No snapshot",[inr]:"Transaction simulation failed",[Zrr]:"$__serverMessage",[Krr]:"Transaction history is not available from this node",[enr]:"$__serverMessage",[Wrr]:"Transaction signature length mismatch",[nnr]:"Transaction signature verification failure",[jrr]:"$__serverMessage",[Pnr]:"Key pair bytes must be of length 64, got $byteLength.",[knr]:"Expected private key bytes with length 32. Actual length: $actualLength.",[Dnr]:"Expected base58-encoded signature to decode to a byte array of length 64. Actual length: $actualLength.",[Lnr]:"The provided private key does not match the provided public key.",[Mnr]:"Expected base58-encoded signature string of length in the range [64, 88]. Actual length: $actualLength.",[Drr]:"Lamports value must be in the range [0, 2e64-1]",[Mrr]:"`$value` cannot be parsed as a `BigInt`",[$rr]:"$message",[Lrr]:"`$value` cannot be parsed as a `Number`",[Orr]:"No nonce account could be found at address `$nonceAccountAddress`",[vsr]:"The notification name must end in 'Notifications' and the API must supply a subscription plan creator function for the notification '$notificationName'.",[Ssr]:"WebSocket was closed before payload could be added to the send buffer",[xsr]:"WebSocket connection closed",[wsr]:"WebSocket failed to connect",[_sr]:"Failed to obtain a subscription id from the server",[bsr]:"Could not find an API plan for RPC method: `$method`",[hsr]:"The $argumentLabel argument to the `$methodName` RPC method$optionalPathLabel was `$value`. This number is unsafe for use with the Solana JSON-RPC because it exceeds `Number.MAX_SAFE_INTEGER`.",[ysr]:"HTTP error ($statusCode): $message",[gsr]:"HTTP header(s) forbidden: $headers. Learn more at https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name.",[zir]:"Multiple distinct signers were identified for address `$address`. Please ensure that you are using the same signer instance for each address.",[Hir]:"The provided value does not implement the `KeyPairSigner` interface",[Gir]:"The provided value does not implement the `MessageModifyingSigner` interface",[jir]:"The provided value does not implement the `MessagePartialSigner` interface",[Vir]:"The provided value does not implement any of the `MessageSigner` interfaces",[Wir]:"The provided value does not implement the `TransactionModifyingSigner` interface",[Jir]:"The provided value does not implement the `TransactionPartialSigner` interface",[Kir]:"The provided value does not implement the `TransactionSendingSigner` interface",[qir]:"The provided value does not implement any of the `TransactionSigner` interfaces",[Qir]:"More than one `TransactionSendingSigner` was identified.",[Xir]:"No `TransactionSendingSigner` was identified. Please provide a valid `TransactionWithSingleSendingSigner` transaction.",[Yir]:"Wallet account signers do not support signing multiple messages/transactions in a single operation",[Nnr]:"Cannot export a non-extractable key.",[Anr]:"No digest implementation could be found.",[wnr]:"Cryptographic operations are only allowed in secure browser contexts. Read more here: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts.",[Enr]:`This runtime does not support the generation of Ed25519 key pairs.

Install @solana/webcrypto-ed25519-polyfill and call its \`install\` function before generating keys in environments that do not support Ed25519.

For a list of runtimes that currently support Ed25519 operations, visit https://github.com/WICG/webcrypto-secure-curves/issues/20.`,[Tnr]:"No signature verification implementation could be found.",[Rnr]:"No key generation implementation could be found.",[Inr]:"No signing implementation could be found.",[Cnr]:"No key export implementation could be found.",[Brr]:"Timestamp value must be in the range [-(2n ** 63n), (2n ** 63n) - 1]. `$value` given",[Bor]:"Transaction processing left an account with an outstanding borrowed reference",[xor]:"Account in use",[wor]:"Account loaded twice",[Aor]:"Attempt to debit an account but found no record of a prior credit.",[Gor]:"Transaction loads an address table account that doesn't exist",[Ior]:"This transaction has already been processed",[Cor]:"Blockhash not found",[Nor]:"Loader call chain is too deep",[Lor]:"Transactions are currently disabled due to cluster maintenance",[Xor]:"Transaction contains a duplicate instruction ($index) that is not allowed",[Tor]:"Insufficient funds for fee",[Yor]:"Transaction results in an account ($accountIndex) with insufficient funds for rent",[Ror]:"This account may not be used to pay transaction fees",[Por]:"Transaction contains an invalid account reference",[qor]:"Transaction loads an address table account with invalid data",[Wor]:"Transaction address table lookup uses an invalid index",[jor]:"Transaction loads an address table account with an invalid owner",[esr]:"LoadedAccountsDataSizeLimit set for transaction must be greater than 0.",[Dor]:"This program may not be used for executing instructions",[Jor]:"Transaction leaves an account with a lower balance than rent-exempt minimum",[For]:"Transaction loads a writable account that cannot be written",[Zor]:"Transaction exceeded max loaded accounts data size cap",[Oor]:"Transaction requires a fee but has no signature present",[Eor]:"Attempt to load a program that does not exist",[rsr]:"Execution of the program referenced by account at index $accountIndex is temporarily restricted.",[tsr]:"ResanitizationNeeded",[Mor]:"Transaction failed to sanitize accounts offsets correctly",[kor]:"Transaction did not pass signature verification",[Vor]:"Transaction locked too many accounts",[nsr]:"Sum of account balances before and after transaction do not match",[Sor]:"The transaction failed with the error `$errorName`",[Uor]:"Transaction version is unsupported",[Hor]:"Transaction would exceed account data limit within the block",[Qor]:"Transaction would exceed total account data limit",[zor]:"Transaction would exceed max account limit within the block",[$or]:"Transaction would exceed max Block Cost Limit",[Kor]:"Transaction would exceed max Vote Cost Limit",[hor]:"Attempted to sign a transaction with an address that is not a signer for it",[lor]:"Transaction is missing an address at index: $index.",[gor]:"Transaction has no expected signers therefore it cannot be encoded",[_or]:"Transaction size $transactionSize exceeds limit of $transactionSizeLimit bytes",[tor]:"Transaction does not have a blockhash lifetime",[ror]:"Transaction is not a durable nonce transaction",[ior]:"Contents of these address lookup tables unknown: $lookupTableAddresses",[oor]:"Lookup of address at index $highestRequestedIndex failed for lookup table `$lookupTableAddress`. Highest known index is $highestKnownIndex. The lookup table may have been extended since its contents were retrieved",[aor]:"No fee payer set in CompiledTransaction",[sor]:"Could not find program address at index $index",[bor]:"Failed to estimate the compute unit consumption for this transaction message. This is likely because simulating the transaction failed. Inspect the `cause` property of this error to learn more",[vor]:"Transaction failed when it was simulated in order to estimate the compute unit consumption. The compute unit estimate provided is for a transaction that failed when simulated and may not be representative of the compute units this transaction would consume if successful. Inspect the `cause` property of this error to learn more",[uor]:"Transaction is missing a fee payer.",[dor]:"Could not determine this transaction's signature. Make sure that the transaction has been signed by its fee payer.",[mor]:"Transaction first instruction is not advance nonce account instruction.",[por]:"Transaction with no instructions cannot be durable nonce transaction.",[Zir]:"This transaction includes an address (`$programAddress`) which is both invoked and set as the fee payer. Program addresses may not pay fees",[eor]:"This transaction includes an address (`$programAddress`) which is both invoked and marked writable. Program addresses may not be writable",[yor]:"The transaction message expected the transaction to have $signerAddressesLength signatures, got $signaturesLength.",[cor]:"Transaction is missing signatures for addresses: $addresses.",[nor]:"Transaction version must be in the range [0, 127]. `$actualVersion` given"},pg="i",nm="t";function Psr(t,e={}){let r=Osr[t];if(r.length===0)return"";let n;function i(s){if(n[nm]===2){let a=r.slice(n[pg]+1,s);o.push(a in e?`${e[a]}`:`$${a}`)}else n[nm]===1&&o.push(r.slice(n[pg],s))}let o=[];return r.split("").forEach((s,a)=>{if(a===0){n={[pg]:0,[nm]:r[0]==="\\"?0:r[0]==="$"?2:1};return}let c;switch(n[nm]){case 0:c={[pg]:a,[nm]:1};break;case 1:s==="\\"?c={[pg]:a,[nm]:0}:s==="$"&&(c={[pg]:a,[nm]:2});break;case 2:s==="\\"?c={[pg]:a,[nm]:0}:s==="$"?c={[pg]:a,[nm]:2}:s.match(/\w/)||(c={[pg]:a,[nm]:1});break}c&&(n!==c&&i(a),n=c)}),i(),o.join("")}function ksr(t,e={}){if(process.env.NODE_ENV!=="production")return Psr(t,e);{let r=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(r+=` '${Nsr(e)}'`),`${r}\``}}var _y=class extends Error{cause=this.cause;context;constructor(...[t,e]){let r,n;if(e){let{cause:o,...s}=e;o&&(n={cause:o}),Object.keys(s).length>0&&(r=s)}let i=ksr(t,r);super(i,n),this.context={__code:t,...r},this.name="SolanaError"}};function Dsr(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function alt(t){return Object.freeze({...t,encode:e=>{let r=new Uint8Array(Dsr(e,t));return t.write(e,r,0),r}})}function clt(t){return Object.freeze({...t,decode:(e,r=0)=>t.read(e,r)[0]})}function NT(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function llt(t,e){if(NT(t)!==NT(e))throw new _y(P0e);if(NT(t)&&NT(e)&&t.fixedSize!==e.fixedSize)throw new _y(k0e,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!NT(t)&&!NT(e)&&t.maxSize!==e.maxSize)throw new _y(D0e,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function ult(t,e,r=0){if(e.length-r<=0)throw new _y(N0e,{codecDescription:t})}function dlt(t,e,r,n=0){let i=r.length-n;if(i<e)throw new _y(O0e,{bytesLength:i,codecDescription:t,expected:e})}function Msr(t,e,r,n){if(n<e||n>r)throw new _y(M0e,{codecDescription:t,max:r,min:e,value:n})}function plt(t){return t?.endian!==1}function Lsr(t){return alt({fixedSize:t.size,write(e,r,n){t.range&&Msr(t.name,t.range[0],t.range[1],e);let i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,plt(t.config)),r.set(new Uint8Array(i),n),n+t.size}})}function Bsr(t){return clt({fixedSize:t.size,read(e,r=0){ult(t.name,e,r),dlt(t.name,t.size,e,r);let n=new DataView($sr(e,r,t.size));return[t.get(n,plt(t.config)),r+t.size]}})}function $sr(t,e,r){let n=t.byteOffset+(e??0),i=r??t.byteLength;return t.buffer.slice(n,n+i)}var L0e=(t={})=>Lsr({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,r,n)=>e.setBigUint64(0,BigInt(r),n),size:8}),Usr=(t={})=>Bsr({config:t,get:(e,r)=>e.getBigUint64(0,r),name:"u64",size:8}),flt=(t={})=>llt(L0e(t),Usr(t));var B0e=class extends TypeError{constructor(e,r){let n,{message:i,explanation:o,...s}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(o??c),o!=null&&(this.cause=c),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}};function Fsr(t){return hO(t)&&typeof t[Symbol.iterator]=="function"}function hO(t){return typeof t=="object"&&t!=null}function nH(t){return hO(t)&&!Array.isArray(t)}function fp(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function zsr(t){let{done:e,value:r}=t.next();return e?void 0:r}function Hsr(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});let{path:i,branch:o}=e,{type:s}=r,{refinement:a,message:c=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${fp(n)}\``}=t;return{value:n,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:c}}function*mlt(t,e,r,n){Fsr(t)||(t=[t]);for(let i of t){let o=Hsr(i,e,r,n);o&&(yield o)}}function*$0e(t,e,r={}){let{path:n=[],branch:i=[t],coerce:o=!1,mask:s=!1}=r,a={path:n,branch:i,mask:s};o&&(t=e.coercer(t,a));let c="valid";for(let l of e.validator(t,a))l.explanation=r.message,c="not_valid",yield[l,void 0];for(let[l,u,d]of e.entries(t,a)){let p=$0e(u,d,{path:l===void 0?n:[...n,l],branch:l===void 0?i:[...i,u],coerce:o,mask:s,message:r.message});for(let f of p)f[0]?(c=f[0].refinement!=null?"not_refined":"not_valid",yield[f[0],void 0]):o&&(u=f[1],l===void 0?t=u:t instanceof Map?t.set(l,u):t instanceof Set?t.add(u):hO(t)&&(u!==void 0||l in t)&&(t[l]=u))}if(c!=="not_valid")for(let l of e.refiner(t,a))l.explanation=r.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,t])}var dd=class{constructor(e){let{type:r,schema:n,validator:i,refiner:o,coercer:s=c=>c,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=s,i?this.validator=(c,l)=>{let u=i(c,l);return mlt(u,l,this,c)}:this.validator=()=>[],o?this.refiner=(c,l)=>{let u=o(c,l);return mlt(u,l,this,c)}:this.refiner=()=>[]}assert(e,r){return hlt(e,this,r)}create(e,r){return OT(e,this,r)}is(e){return glt(e,this)}mask(e,r){return Vsr(e,this,r)}validate(e,r={}){return gO(e,this,r)}};function hlt(t,e,r){let n=gO(t,e,{message:r});if(n[0])throw n[0]}function OT(t,e,r){let n=gO(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function Vsr(t,e,r){let n=gO(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function glt(t,e){return!gO(t,e)[0]}function gO(t,e,r={}){let n=$0e(t,e,r),i=zsr(n);return i[0]?[new B0e(i[0],function*(){for(let s of n)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function NS(t,e){return new dd({type:t,schema:null,validator:e})}function ylt(){return NS("any",()=>!0)}function wt(t){return new dd({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(let[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${fp(e)}`}})}function mp(){return NS("boolean",t=>typeof t=="boolean")}function iH(t){return NS("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${fp(e)}`)}function xi(t){let e=fp(t),r=typeof t;return new dd({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||`Expected the literal \`${e}\`, but received: ${fp(n)}`}})}function Gsr(){return NS("never",()=>!1)}function At(t){return new dd({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function me(){return NS("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${fp(t)}`)}function qt(t){return new dd({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function U0e(t,e){return new dd({type:"record",schema:null,*entries(r){if(hO(r))for(let n in r){let i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return nH(r)||`Expected an object, but received: ${fp(r)}`},coercer(r){return nH(r)?{...r}:r}})}function ot(){return NS("string",t=>typeof t=="string"||`Expected a string, but received: ${fp(t)}`)}function oH(t){let e=Gsr();return new dd({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){let n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${fp(r)}`},coercer(r){return Array.isArray(r)?r.slice():r}})}function Fe(t){let e=Object.keys(t);return new dd({type:"type",schema:t,*entries(r){if(hO(r))for(let n of e)yield[n,r[n],t[n]]},validator(r){return nH(r)||`Expected an object, but received: ${fp(r)}`},coercer(r){return nH(r)?{...r}:r}})}function pa(t){let e=t.map(r=>r.type).join(" | ");return new dd({type:"union",schema:null,coercer(r,n){for(let i of t){let[o,s]=i.validate(r,{coerce:!0,mask:n.mask});if(!o)return s}return r},validator(r,n){let i=[];for(let o of t){let[...s]=$0e(r,o,n),[a]=s;if(a[0])for(let[c]of s)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${fp(r)}`,...i]}})}function OS(){return NS("unknown",()=>!0)}function PT(t,e,r){return new dd({...t,coercer:(n,i)=>glt(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}var har=di(Flt());s0e();Net();var Vlt=di(Hlt(),1);Pct();AC();zge();_S();var Q0e={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},far={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]};var Glt=BigInt(2);function mar(t){let e=Q0e.p,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=Si(u,r,e)*u%e,p=Si(d,r,e)*u%e,f=Si(p,Glt,e)*l%e,h=Si(f,i,e)*f%e,m=Si(h,o,e)*h%e,g=Si(m,a,e)*m%e,y=Si(g,c,e)*g%e,v=Si(y,a,e)*m%e,S=Si(v,r,e)*u%e,w=Si(S,s,e)*h%e,E=Si(w,n,e)*l%e,I=Si(E,Glt,e);if(!K0e.eql(K0e.sqr(I),t))throw new Error("Cannot find square root");return I}var K0e=Ps(Q0e.p,{sqrt:mar}),dH=gT({...Q0e,Fp:K0e,lowS:!0,endo:far},SE);var Fii=Hc.utils.randomPrivateKey,jlt=()=>{let t=Hc.utils.randomPrivateKey(),e=r1e(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},r1e=Hc.getPublicKey;function qlt(t){try{return Hc.ExtendedPoint.fromHex(t),!0}catch{return!1}}var h1e=(t,e)=>Hc.sign(t,e.slice(0,32)),gar=Hc.verify,nn=t=>ur.isBuffer(t)?t:t instanceof Uint8Array?ur.from(t.buffer,t.byteOffset,t.byteLength):ur.from(t),n1e=class{constructor(e){Object.assign(this,e)}encode(){return ur.from((0,BT.serialize)(fH,this))}static decode(e){return(0,BT.deserialize)(fH,this,e)}static decodeUnchecked(e){return(0,BT.deserializeUnchecked)(fH,this,e)}};var fH=new Map,iut,yar=32,Ay=32;function bar(t){return t._bn!==void 0}var Wlt=1,pr=class t extends n1e{constructor(e){if(super({}),this._bn=void 0,bar(e))this._bn=e._bn;else{if(typeof e=="string"){let r=ma.default.decode(e);if(r.length!=Ay)throw new Error("Invalid public key input");this._bn=new t1e.default(r)}else this._bn=new t1e.default(e);if(this._bn.byteLength()>Ay)throw new Error("Invalid public key input")}}static unique(){let e=new t(Wlt);return Wlt+=1,new t(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return ma.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(ur);if(e.length===Ay)return e;let r=ur.alloc(32);return e.copy(r,32-e.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){let i=ur.concat([e.toBuffer(),ur.from(r),n.toBuffer()]),o=xE(i);return new t(o)}static createProgramAddressSync(e,r){let n=ur.alloc(0);e.forEach(function(o){if(o.length>yar)throw new TypeError("Max seed length exceeded");n=ur.concat([n,nn(o)])}),n=ur.concat([n,r.toBuffer(),ur.from("ProgramDerivedAddress")]);let i=xE(n);if(qlt(i))throw new Error("Invalid seeds, address must fall off the curve");return new t(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,i;for(;n!=0;){try{let o=e.concat(ur.from([n]));i=this.createProgramAddressSync(o,r)}catch(o){if(o instanceof TypeError)throw o;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){let r=new t(e);return qlt(r.toBytes())}};iut=pr;pr.default=new iut("11111111111111111111111111111111");fH.set(pr,{kind:"struct",fields:[["_bn","u256"]]});var zii=new pr("BPFLoader1111111111111111111111111111111111"),PS=1232,g1e=127,mH=64,i1e=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(i1e.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var o1e=class extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(o1e.prototype,"name",{value:"TransactionExpiredTimeoutError"});var s1e=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(s1e.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var DT=class{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((o,s)=>{n.set(o.toBase58(),s)});let i=o=>{let s=n.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return e.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}},Ur=(t="publicKey")=>te.blob(32,t),_ar=(t="signature")=>te.blob(64,t),kT=(t="string")=>{let e=te.struct([te.u32("length"),te.u32("lengthPadding"),te.blob(te.offset(te.u32(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(o,s)=>r(o,s).chars.toString(),i.encode=(o,s,a)=>{let c={chars:ur.from(o,"utf8")};return n(c,s,a)},i.alloc=o=>te.u32().span+te.u32().span+ur.from(o,"utf8").length,i},Sar=(t="authorized")=>te.struct([Ur("staker"),Ur("withdrawer")],t),xar=(t="lockup")=>te.struct([te.ns64("unixTimestamp"),te.ns64("epoch"),Ur("custodian")],t),war=(t="voteInit")=>te.struct([Ur("nodePubkey"),Ur("authorizedVoter"),Ur("authorizedWithdrawer"),te.u8("commission")],t),Aar=(t="voteAuthorizeWithSeedArgs")=>te.struct([te.u32("voteAuthorizationType"),Ur("currentAuthorityDerivedKeyOwnerPubkey"),kT("currentAuthorityDerivedKeySeed"),Ur("newAuthorized")],t);function out(t,e){let r=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let o=e[i.property];if(Array.isArray(o))return o.length*r(i.elementLayout)}else if("fields"in i)return out({layout:i},e[i.property]);return 0},n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}function Tl(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,(n&128)===0)break}return e}function Rl(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function ci(t,e){if(!t)throw new Error(e||"Assertion failed")}var hH=class t{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){let n=new Map,i=s=>{let a=s.toBase58(),c=n.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,c)),c},o=i(r);o.isSigner=!0,o.isWritable=!0;for(let s of e){i(s.programId).isInvoked=!0;for(let a of s.keys){let c=i(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new t(r,n)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];ci(e.length<=256,"Max static account keys length exceeded");let r=e.filter(([,c])=>c.isSigner&&c.isWritable),n=e.filter(([,c])=>c.isSigner&&!c.isWritable),i=e.filter(([,c])=>!c.isSigner&&c.isWritable),o=e.filter(([,c])=>!c.isSigner&&!c.isWritable),s={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:o.length};{ci(r.length>0,"Expected at least one writable signer key");let[c]=r[0];ci(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let a=[...r.map(([c])=>new pr(c)),...n.map(([c])=>new pr(c)),...i.map(([c])=>new pr(c)),...o.map(([c])=>new pr(c))];return[s,a]}extractTableLookup(e){let[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:o}]}drainKeysFoundInLookupTable(e,r){let n=new Array,i=new Array;for(let[o,s]of this.keyMetaMap.entries())if(r(s)){let a=new pr(o),c=e.findIndex(l=>l.equals(a));c>=0&&(ci(c<256,"Max lookup table index exceeded"),n.push(c),i.push(a),this.keyMetaMap.delete(o))}return[n,i]}},sut="Reached end of buffer unexpectedly";function mg(t){if(t.length===0)throw new Error(sut);return t.shift()}function Il(t,...e){let[r]=e;if(e.length===2?r+(e[1]??0)>t.length:r>=t.length)throw new Error(sut);return t.splice(...e)}var AO=class t{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new pr(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:ma.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new DT(this.staticAccountKeys)}static compile(e){let r=hH.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),s=new DT(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:ma.default.encode(a.data)}));return new t({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let n=e-r,o=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<o}else{let n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){let e=this.accountKeys.length,r=[];Rl(r,e);let n=this.instructions.map(d=>{let{accounts:p,programIdIndex:f}=d,h=Array.from(ma.default.decode(d.data)),m=[];Rl(m,p.length);let g=[];return Rl(g,h.length),{programIdIndex:f,keyIndicesCount:ur.from(m),keyIndices:p,dataLength:ur.from(g),data:h}}),i=[];Rl(i,n.length);let o=ur.alloc(PS);ur.from(i).copy(o);let s=i.length;n.forEach(d=>{let f=te.struct([te.u8("programIdIndex"),te.blob(d.keyIndicesCount.length,"keyIndicesCount"),te.seq(te.u8("keyIndex"),d.keyIndices.length,"keyIndices"),te.blob(d.dataLength.length,"dataLength"),te.seq(te.u8("userdatum"),d.data.length,"data")]).encode(d,o,s);s+=f}),o=o.slice(0,s);let a=te.struct([te.blob(1,"numRequiredSignatures"),te.blob(1,"numReadonlySignedAccounts"),te.blob(1,"numReadonlyUnsignedAccounts"),te.blob(r.length,"keyCount"),te.seq(Ur("key"),e,"keys"),Ur("recentBlockhash")]),c={numRequiredSignatures:ur.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:ur.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:ur.from([this.header.numReadonlyUnsignedAccounts]),keyCount:ur.from(r),keys:this.accountKeys.map(d=>nn(d.toBytes())),recentBlockhash:ma.default.decode(this.recentBlockhash)},l=ur.alloc(2048),u=a.encode(c,l);return o.copy(l,u),l.slice(0,u+o.length)}static from(e){let r=[...e],n=mg(r);if(n!==(n&g1e))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let i=mg(r),o=mg(r),s=Tl(r),a=[];for(let p=0;p<s;p++){let f=Il(r,0,Ay);a.push(new pr(ur.from(f)))}let c=Il(r,0,Ay),l=Tl(r),u=[];for(let p=0;p<l;p++){let f=mg(r),h=Tl(r),m=Il(r,0,h),g=Tl(r),y=Il(r,0,g),v=ma.default.encode(ur.from(y));u.push({programIdIndex:f,accounts:m,data:v})}let d={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:ma.default.encode(ur.from(c)),accountKeys:a,instructions:u};return new t(d)}},a1e=class t{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new DT(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){let i=e-n,o=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return i<o}else if(e>=this.header.numRequiredSignatures){let i=e-r,s=n-r-this.header.numReadonlyUnsignedAccounts;return i<s}else{let i=r-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){let r={writable:[],readonly:[]};for(let n of this.addressTableLookups){let i=e.find(o=>o.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let o of n.writableIndexes)if(o<i.state.addresses.length)r.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`);for(let o of n.readonlyIndexes)if(o<i.state.addresses.length)r.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){let r=hH.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(let u of o){let d=r.extractTableLookup(u);if(d!==void 0){let[p,{writable:f,readonly:h}]=d;n.push(p),i.writable.push(...f),i.readonly.push(...h)}}let[s,a]=r.getMessageComponents(),l=new DT(a,i).compileInstructions(e.instructions);return new t({header:s,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:l,addressTableLookups:n})}serialize(){let e=Array();Rl(e,this.staticAccountKeys.length);let r=this.serializeInstructions(),n=Array();Rl(n,this.compiledInstructions.length);let i=this.serializeAddressTableLookups(),o=Array();Rl(o,this.addressTableLookups.length);let s=te.struct([te.u8("prefix"),te.struct([te.u8("numRequiredSignatures"),te.u8("numReadonlySignedAccounts"),te.u8("numReadonlyUnsignedAccounts")],"header"),te.blob(e.length,"staticAccountKeysLength"),te.seq(Ur(),this.staticAccountKeys.length,"staticAccountKeys"),Ur("recentBlockhash"),te.blob(n.length,"instructionsLength"),te.blob(r.length,"serializedInstructions"),te.blob(o.length,"addressTableLookupsLength"),te.blob(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(PS),l=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(u=>u.toBytes()),recentBlockhash:ma.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},a);return a.slice(0,l)}serializeInstructions(){let e=0,r=new Uint8Array(PS);for(let n of this.compiledInstructions){let i=Array();Rl(i,n.accountKeyIndexes.length);let o=Array();Rl(o,n.data.length);let s=te.struct([te.u8("programIdIndex"),te.blob(i.length,"encodedAccountKeyIndexesLength"),te.seq(te.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),te.blob(o.length,"encodedDataLength"),te.blob(n.data.length,"data")]);e+=s.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0,r=new Uint8Array(PS);for(let n of this.addressTableLookups){let i=Array();Rl(i,n.writableIndexes.length);let o=Array();Rl(o,n.readonlyIndexes.length);let s=te.struct([Ur("accountKey"),te.blob(i.length,"encodedWritableIndexesLength"),te.seq(te.u8(),n.writableIndexes.length,"writableIndexes"),te.blob(o.length,"encodedReadonlyIndexesLength"),te.seq(te.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=s.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e],n=mg(r),i=n&g1e;ci(n!==i,"Expected versioned message but received legacy message");let o=i;ci(o===0,`Expected versioned message with version 0 but found version ${o}`);let s={numRequiredSignatures:mg(r),numReadonlySignedAccounts:mg(r),numReadonlyUnsignedAccounts:mg(r)},a=[],c=Tl(r);for(let h=0;h<c;h++)a.push(new pr(Il(r,0,Ay)));let l=ma.default.encode(Il(r,0,Ay)),u=Tl(r),d=[];for(let h=0;h<u;h++){let m=mg(r),g=Tl(r),y=Il(r,0,g),v=Tl(r),S=new Uint8Array(Il(r,0,v));d.push({programIdIndex:m,accountKeyIndexes:y,data:S})}let p=Tl(r),f=[];for(let h=0;h<p;h++){let m=new pr(Il(r,0,Ay)),g=Tl(r),y=Il(r,0,g),v=Tl(r),S=Il(r,0,v);f.push({accountKey:m,writableIndexes:y,readonlyIndexes:S})}return new t({header:s,staticAccountKeys:a,recentBlockhash:l,compiledInstructions:d,addressTableLookups:f})}},aut={deserializeMessageVersion(t){let e=t[0],r=e&g1e;return r===e?"legacy":r},deserialize:t=>{let e=aut.deserializeMessageVersion(t);if(e==="legacy")return AO.from(t);if(e===0)return a1e.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};var Ear=ur.alloc(mH).fill(0),zn=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=ur.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},Yn=class t{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{let{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new zn(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let m=0;m<r.length;m++)if(r[m].programId===void 0)throw new Error(`Transaction instruction index ${m} has undefined program id`);let i=[],o=[];r.forEach(m=>{m.keys.forEach(y=>{o.push({...y})});let g=m.programId.toString();i.includes(g)||i.push(g)}),i.forEach(m=>{o.push({pubkey:new pr(m),isSigner:!1,isWritable:!1})});let s=[];o.forEach(m=>{let g=m.pubkey.toString(),y=s.findIndex(v=>v.pubkey.toString()===g);y>-1?(s[y].isWritable=s[y].isWritable||m.isWritable,s[y].isSigner=s[y].isSigner||m.isSigner):s.push(m)}),s.sort(function(m,g){if(m.isSigner!==g.isSigner)return m.isSigner?-1:1;if(m.isWritable!==g.isWritable)return m.isWritable?-1:1;let y={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return m.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",y)});let a=s.findIndex(m=>m.pubkey.equals(n));if(a>-1){let[m]=s.splice(a,1);m.isSigner=!0,m.isWritable=!0,s.unshift(m)}else s.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let m of this.signatures){let g=s.findIndex(y=>y.pubkey.equals(m.publicKey));if(g>-1)s[g].isSigner||(s[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${m.publicKey.toString()}`)}let c=0,l=0,u=0,d=[],p=[];s.forEach(({pubkey:m,isSigner:g,isWritable:y})=>{g?(d.push(m.toString()),c+=1,y||(l+=1)):(p.push(m.toString()),y||(u+=1))});let f=d.concat(p),h=r.map(m=>{let{data:g,programId:y}=m;return{programIdIndex:f.indexOf(y.toString()),accounts:m.keys.map(v=>f.indexOf(v.pubkey.toString())),data:ma.default.encode(g)}});return h.forEach(m=>{ci(m.programIdIndex>=0),m.accounts.forEach(g=>ci(g>=0))}),new AO({header:{numRequiredSignatures:c,numReadonlySignedAccounts:l,numReadonlyUnsignedAccounts:u},accountKeys:f,recentBlockhash:e,instructions:h})}_compile(){let e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,o)=>r[o].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");let r=new Set;this.signatures=e.filter(n=>{let i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let o of e){let s=o.publicKey.toString();r.has(s)||(r.add(s),n.push(o))}this.signatures=n.map(o=>({signature:null,publicKey:o.publicKey}));let i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let o of e){let s=o.publicKey.toString();r.has(s)||(r.add(s),n.push(o))}let i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){let n=e.serialize();r.forEach(i=>{let o=h1e(n,i.secretKey);this._addSignature(i.publicKey,nn(o))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){ci(r.length===64);let n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=ur.from(r)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,r){let n={};for(let{signature:i,publicKey:o}of this.signatures)i===null?r&&(n.missing||=[]).push(o):gar(i,e,o.toBytes())||(n.invalid||=[]).push(o);return n.invalid||n.missing?n:void 0}serialize(e){let{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n){let o=this._getMessageSignednessErrors(i,r);if(o){let s="Signature verification failed.";throw o.invalid&&(s+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),o.missing&&(s+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(s)}}return this._serialize(i)}_serialize(e){let{signatures:r}=this,n=[];Rl(n,r.length);let i=n.length+r.length*64+e.length,o=ur.alloc(i);return ci(r.length<256),ur.from(n).copy(o,0),r.forEach(({signature:s},a)=>{s!==null&&(ci(s.length===64,"signature has invalid length"),ur.from(s).copy(o,n.length+a*64))}),e.copy(o,n.length+r.length*64),ci(o.length<=PS,`Transaction too large: ${o.length} > ${PS}`),o}get keys(){return ci(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return ci(this.instructions.length===1),this.instructions[0].programId}get data(){return ci(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e],n=Tl(r),i=[];for(let o=0;o<n;o++){let s=Il(r,0,mH);i.push(ma.default.encode(ur.from(s)))}return t.populate(AO.from(r),i)}static populate(e,r=[]){let n=new t;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((i,o)=>{let s={signature:i==ma.default.encode(Ear)?null:ma.default.decode(i),publicKey:e.accountKeys[o]};n.signatures.push(s)}),e.instructions.forEach(i=>{let o=i.accounts.map(s=>{let a=e.accountKeys[s];return{pubkey:a,isSigner:n.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(s),isWritable:e.isAccountWritable(s)}});n.instructions.push(new zn({keys:o,programId:e.accountKeys[i.programIdIndex],data:ma.default.decode(i.data)}))}),n._message=e,n._json=n.toJSON(),n}};var MT=class t{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)ci(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{let n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(mH));this.signatures=n}this.message=e}serialize(){let e=this.message.serialize(),r=Array();Rl(r,this.signatures.length);let n=te.struct([te.blob(r.length,"encodedSignaturesLength"),te.seq(_ar(),this.signatures.length,"signatures"),te.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),o=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,o)}static deserialize(e){let r=[...e],n=[],i=Tl(r);for(let s=0;s<i;s++)n.push(new Uint8Array(Il(r,0,mH)));let o=aut.deserialize(new Uint8Array(r));return new t(o,n)}sign(e){let r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let i of e){let o=n.findIndex(s=>s.equals(i.publicKey));ci(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=h1e(r,i.secretKey)}}addSignature(e,r){ci(r.byteLength===64,"Signature must be 64 bytes long");let i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(e));ci(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}},Tar=160,Rar=64,Iar=Tar/Rar,Car=1e3/Iar,fg=new pr("SysvarC1ock11111111111111111111111111111111"),Hii=new pr("SysvarEpochSchedu1e111111111111111111111111"),Vii=new pr("Sysvar1nstructions1111111111111111111111111"),X0e=new pr("SysvarRecentB1ockHashes11111111111111111111"),EO=new pr("SysvarRent111111111111111111111111111111111"),Gii=new pr("SysvarRewards111111111111111111111111111111"),jii=new pr("SysvarS1otHashes111111111111111111111111111"),qii=new pr("SysvarS1otHistory11111111111111111111111111"),Y0e=new pr("SysvarStakeHistory1111111111111111111111111"),c1e=class extends Error{constructor({action:e,signature:r,transactionMessage:n,logs:i}){let o=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.",a;switch(e){case"send":a=`Transaction ${r} resulted in an error. 
${n}. `+o+s;break;case"simulate":a=`Simulation failed. 
Message: ${n}. 
`+o+s;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=r,this.transactionMessage=n,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){let e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((r,n)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){let o=i.meta.logMessages;this.transactionLogs=o,r(o)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}};async function Jlt(t,e,r,n){let i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},o=await t.sendTransaction(e,r,i),s;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)s=(await t.confirmTransaction({abortSignal:n?.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){let{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;s=(await t.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:o},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await t.confirmTransaction(o,n&&n.commitment)).value;if(s.err)throw o!=null?new c1e({action:"send",signature:o,transactionMessage:`Status: (${JSON.stringify(s)})`}):new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function Nar(t){return new Promise(e=>setTimeout(e,t))}function Kr(t,e){let r=t.layout.span>=0?t.layout.span:out(t,e),n=ur.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}var Oar=te.nu64("lamportsPerSignature"),Par=te.struct([te.u32("version"),te.u32("state"),Ur("authorizedPubkey"),Ur("nonce"),te.struct([Oar],"feeCalculator")]),Klt=Par.span;function LT(t){let e=(0,nut.blob)(8,t),r=e.decode.bind(e),n=e.encode.bind(e),i=e,o=flt();return i.decode=(s,a)=>{let c=r(s,a);return o.decode(c)},i.encode=(s,a,c)=>{let l=o.encode(s);return n(l,a,c)},i}var pd=Object.freeze({Create:{index:0,layout:te.struct([te.u32("instruction"),te.ns64("lamports"),te.ns64("space"),Ur("programId")])},Assign:{index:1,layout:te.struct([te.u32("instruction"),Ur("programId")])},Transfer:{index:2,layout:te.struct([te.u32("instruction"),LT("lamports")])},CreateWithSeed:{index:3,layout:te.struct([te.u32("instruction"),Ur("base"),kT("seed"),te.ns64("lamports"),te.ns64("space"),Ur("programId")])},AdvanceNonceAccount:{index:4,layout:te.struct([te.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:te.struct([te.u32("instruction"),te.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:te.struct([te.u32("instruction"),Ur("authorized")])},AuthorizeNonceAccount:{index:7,layout:te.struct([te.u32("instruction"),Ur("authorized")])},Allocate:{index:8,layout:te.struct([te.u32("instruction"),te.ns64("space")])},AllocateWithSeed:{index:9,layout:te.struct([te.u32("instruction"),Ur("base"),kT("seed"),te.ns64("space"),Ur("programId")])},AssignWithSeed:{index:10,layout:te.struct([te.u32("instruction"),Ur("base"),kT("seed"),Ur("programId")])},TransferWithSeed:{index:11,layout:te.struct([te.u32("instruction"),LT("lamports"),kT("seed"),Ur("programId")])},UpgradeNonceAccount:{index:12,layout:te.struct([te.u32("instruction")])}}),Ga=class t{constructor(){}static createAccount(e){let r=pd.Create,n=Kr(r,{lamports:e.lamports,space:e.space,programId:nn(e.programId.toBuffer())});return new zn({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){let i=pd.TransferWithSeed;r=Kr(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:nn(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let i=pd.Transfer;r=Kr(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new zn({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){let i=pd.AssignWithSeed;r=Kr(i,{base:nn(e.basePubkey.toBuffer()),seed:e.seed,programId:nn(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=pd.Assign;r=Kr(i,{programId:nn(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new zn({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){let r=pd.CreateWithSeed,n=Kr(r,{base:nn(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:nn(e.programId.toBuffer())}),i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new zn({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){let r=new Yn;"basePubkey"in e&&"seed"in e?r.add(t.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:Klt,programId:this.programId})):r.add(t.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:Klt,programId:this.programId}));let n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){let r=pd.InitializeNonceAccount,n=Kr(r,{authorized:nn(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:X0e,isSigner:!1,isWritable:!1},{pubkey:EO,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new zn(i)}static nonceAdvance(e){let r=pd.AdvanceNonceAccount,n=Kr(r),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:X0e,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new zn(i)}static nonceWithdraw(e){let r=pd.WithdrawNonceAccount,n=Kr(r,{lamports:e.lamports});return new zn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:X0e,isSigner:!1,isWritable:!1},{pubkey:EO,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){let r=pd.AuthorizeNonceAccount,n=Kr(r,{authorized:nn(e.newAuthorizedPubkey.toBuffer())});return new zn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){let i=pd.AllocateWithSeed;r=Kr(i,{base:nn(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:nn(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=pd.Allocate;r=Kr(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new zn({keys:n,programId:this.programId,data:r})}};Ga.programId=new pr("11111111111111111111111111111111");var kar=PS-300,l1e=class t{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/t.chunkSize)+1+1)}static async load(e,r,n,i,o){{let d=await e.getMinimumBalanceForRentExemption(o.length),p=await e.getAccountInfo(n.publicKey,"confirmed"),f=null;if(p!==null){if(p.executable)return console.error("Program load failed, account is already executable"),!1;p.data.length!==o.length&&(f=f||new Yn,f.add(Ga.allocate({accountPubkey:n.publicKey,space:o.length}))),p.owner.equals(i)||(f=f||new Yn,f.add(Ga.assign({accountPubkey:n.publicKey,programId:i}))),p.lamports<d&&(f=f||new Yn,f.add(Ga.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:d-p.lamports})))}else f=new Yn().add(Ga.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:d>0?d:1,space:o.length,programId:i}));f!==null&&await Jlt(e,f,[r,n],{commitment:"confirmed"})}let s=te.struct([te.u32("instruction"),te.u32("offset"),te.u32("bytesLength"),te.u32("bytesLengthPadding"),te.seq(te.u8("byte"),te.offset(te.u32(),-8),"bytes")]),a=t.chunkSize,c=0,l=o,u=[];for(;l.length>0;){let d=l.slice(0,a),p=ur.alloc(a+16);s.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},p);let f=new Yn().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:p});u.push(Jlt(e,f,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await Nar(1e3/4),c+=a,l=l.slice(a)}await Promise.all(u);{let d=te.struct([te.u32("instruction")]),p=ur.alloc(d.span);d.encode({instruction:1},p);let f=new Yn().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:EO,isSigner:!1,isWritable:!1}],programId:i,data:p}),h="processed",m=await e.sendTransaction(f,[r,n],{preflightCommitment:h}),{context:g,value:y}=await e.confirmTransaction({signature:m,lastValidBlockHeight:f.lastValidBlockHeight,blockhash:f.recentBlockhash},h);if(y.err)throw new Error(`Transaction ${m} failed (${JSON.stringify(y)})`);for(;;){try{if(await e.getSlot({commitment:h})>g.slot)break}catch{}await new Promise(v=>setTimeout(v,Math.round(Car/2)))}}return!0}};l1e.chunkSize=kar;var Wii=new pr("BPFLoader2111111111111111111111111111111111");var Jii=typeof globalThis.fetch=="function"?globalThis.fetch:async function(t,e){let r=typeof t=="string"&&t.slice(0,2)==="//"?"https:"+t:t;return await i0e(r,e)};var Kii={index:1,layout:te.struct([te.u32("typeIndex"),LT("deactivationSlot"),te.nu64("lastExtendedSlot"),te.u8("lastExtendedStartIndex"),te.u8(),te.seq(Ur(),te.offset(te.u8(),-1),"authority")])};var Ki=PT(iH(pr),ot(),t=>new pr(t)),cut=oH([ot(),xi("base64")]),y1e=PT(iH(ur),cut,t=>ur.from(t[0],"base64")),Qii=30*1e3;function lut(t){return pa([Fe({jsonrpc:xi("2.0"),id:ot(),result:t}),Fe({jsonrpc:xi("2.0"),id:ot(),error:Fe({code:OS(),message:ot(),data:qt(ylt())})})])}var Dar=lut(OS());function Zn(t){return PT(lut(t),Dar,e=>"error"in e?e:{...e,result:OT(e.result,t)})}function hp(t){return Zn(Fe({context:Fe({slot:me()}),value:t}))}function vH(t){return Fe({context:Fe({slot:me()}),value:t})}var Mar=Fe({foundation:me(),foundationTerm:me(),initial:me(),taper:me(),terminal:me()}),Xii=Zn(wt(At(Fe({epoch:me(),effectiveSlot:me(),amount:me(),postBalance:me(),commission:qt(At(me()))})))),Lar=wt(Fe({slot:me(),prioritizationFee:me()})),Bar=Fe({total:me(),validator:me(),foundation:me(),epoch:me()}),$ar=Fe({epoch:me(),slotIndex:me(),slotsInEpoch:me(),absoluteSlot:me(),blockHeight:qt(me()),transactionCount:qt(me())}),Uar=Fe({slotsPerEpoch:me(),leaderScheduleSlotOffset:me(),warmup:mp(),firstNormalEpoch:me(),firstNormalSlot:me()}),Far=U0e(ot(),wt(me())),kS=At(pa([Fe({}),ot()])),zar=Fe({err:kS}),Har=xi("receivedSignature"),Yii=Fe({"solana-core":ot(),"feature-set":qt(me())}),Var=Fe({program:ot(),programId:Ki,parsed:OS()}),Gar=Fe({programId:Ki,accounts:wt(Ki),data:ot()}),Zii=hp(Fe({err:At(pa([Fe({}),ot()])),logs:At(wt(ot())),accounts:qt(At(wt(At(Fe({executable:mp(),owner:ot(),lamports:me(),data:wt(ot()),rentEpoch:qt(me())}))))),unitsConsumed:qt(me()),returnData:qt(At(Fe({programId:ot(),data:oH([ot(),xi("base64")])}))),innerInstructions:qt(At(wt(Fe({index:me(),instructions:wt(pa([Var,Gar]))}))))})),eoi=hp(Fe({byIdentity:U0e(ot(),wt(me())),range:Fe({firstSlot:me(),lastSlot:me()})}));var toi=Zn(Mar),roi=Zn(Bar),noi=Zn(Lar),ioi=Zn($ar),ooi=Zn(Uar),soi=Zn(Far),aoi=Zn(me()),coi=hp(Fe({total:me(),circulating:me(),nonCirculating:me(),nonCirculatingAccounts:wt(Ki)})),jar=Fe({amount:ot(),uiAmount:At(me()),decimals:me(),uiAmountString:qt(ot())}),loi=hp(wt(Fe({address:Ki,amount:ot(),uiAmount:At(me()),decimals:me(),uiAmountString:qt(ot())}))),uoi=hp(wt(Fe({pubkey:Ki,account:Fe({executable:mp(),owner:Ki,lamports:me(),data:y1e,rentEpoch:me()})}))),u1e=Fe({program:ot(),parsed:OS(),space:me()}),doi=hp(wt(Fe({pubkey:Ki,account:Fe({executable:mp(),owner:Ki,lamports:me(),data:u1e,rentEpoch:me()})}))),poi=hp(wt(Fe({lamports:me(),address:Ki}))),b1e=Fe({executable:mp(),owner:Ki,lamports:me(),data:y1e,rentEpoch:me()}),foi=Fe({pubkey:Ki,account:b1e}),qar=PT(pa([iH(ur),u1e]),pa([cut,u1e]),t=>Array.isArray(t)?OT(t,y1e):t),War=Fe({executable:mp(),owner:Ki,lamports:me(),data:qar,rentEpoch:me()}),moi=Fe({pubkey:Ki,account:War}),hoi=Fe({state:pa([xi("active"),xi("inactive"),xi("activating"),xi("deactivating")]),active:me(),inactive:me()}),goi=Zn(wt(Fe({signature:ot(),slot:me(),err:kS,memo:At(ot()),blockTime:qt(At(me()))}))),yoi=Zn(wt(Fe({signature:ot(),slot:me(),err:kS,memo:At(ot()),blockTime:qt(At(me()))}))),boi=Fe({subscription:me(),result:vH(b1e)}),Jar=Fe({pubkey:Ki,account:b1e}),voi=Fe({subscription:me(),result:vH(Jar)}),Kar=Fe({parent:me(),slot:me(),root:me()}),_oi=Fe({subscription:me(),result:Kar}),Qar=pa([Fe({type:pa([xi("firstShredReceived"),xi("completed"),xi("optimisticConfirmation"),xi("root")]),slot:me(),timestamp:me()}),Fe({type:xi("createdBank"),parent:me(),slot:me(),timestamp:me()}),Fe({type:xi("frozen"),slot:me(),timestamp:me(),stats:Fe({numTransactionEntries:me(),numSuccessfulTransactions:me(),numFailedTransactions:me(),maxTransactionsPerEntry:me()})}),Fe({type:xi("dead"),slot:me(),timestamp:me(),err:ot()})]),Soi=Fe({subscription:me(),result:Qar}),xoi=Fe({subscription:me(),result:vH(pa([zar,Har]))}),woi=Fe({subscription:me(),result:me()}),Aoi=Fe({pubkey:ot(),gossip:At(ot()),tpu:At(ot()),rpc:At(ot()),version:At(ot())}),Qlt=Fe({votePubkey:ot(),nodePubkey:ot(),activatedStake:me(),epochVoteAccount:mp(),epochCredits:wt(oH([me(),me(),me()])),commission:me(),lastVote:me(),rootSlot:At(me())}),Eoi=Zn(Fe({current:wt(Qlt),delinquent:wt(Qlt)})),Xar=pa([xi("processed"),xi("confirmed"),xi("finalized")]),Yar=Fe({slot:me(),confirmations:At(me()),err:kS,confirmationStatus:qt(Xar)}),Toi=hp(wt(At(Yar))),Roi=Zn(me()),uut=Fe({accountKey:Ki,writableIndexes:wt(me()),readonlyIndexes:wt(me())}),v1e=Fe({signatures:wt(ot()),message:Fe({accountKeys:wt(ot()),header:Fe({numRequiredSignatures:me(),numReadonlySignedAccounts:me(),numReadonlyUnsignedAccounts:me()}),instructions:wt(Fe({accounts:wt(me()),data:ot(),programIdIndex:me()})),recentBlockhash:ot(),addressTableLookups:qt(wt(uut))})}),dut=Fe({pubkey:Ki,signer:mp(),writable:mp(),source:qt(pa([xi("transaction"),xi("lookupTable")]))}),put=Fe({accountKeys:wt(dut),signatures:wt(ot())}),fut=Fe({parsed:OS(),program:ot(),programId:Ki}),mut=Fe({accounts:wt(Ki),data:ot(),programId:Ki}),Zar=pa([mut,fut]),ecr=pa([Fe({parsed:OS(),program:ot(),programId:ot()}),Fe({accounts:wt(ot()),data:ot(),programId:ot()})]),hut=PT(Zar,ecr,t=>"accounts"in t?OT(t,mut):OT(t,fut)),gut=Fe({signatures:wt(ot()),message:Fe({accountKeys:wt(dut),instructions:wt(hut),recentBlockhash:ot(),addressTableLookups:qt(At(wt(uut)))})}),gH=Fe({accountIndex:me(),mint:ot(),owner:qt(ot()),programId:qt(ot()),uiTokenAmount:jar}),yut=Fe({writable:wt(Ki),readonly:wt(Ki)}),_H=Fe({err:kS,fee:me(),innerInstructions:qt(At(wt(Fe({index:me(),instructions:wt(Fe({accounts:wt(me()),data:ot(),programIdIndex:me()}))})))),preBalances:wt(me()),postBalances:wt(me()),logMessages:qt(At(wt(ot()))),preTokenBalances:qt(At(wt(gH))),postTokenBalances:qt(At(wt(gH))),loadedAddresses:qt(yut),computeUnitsConsumed:qt(me()),costUnits:qt(me())}),_1e=Fe({err:kS,fee:me(),innerInstructions:qt(At(wt(Fe({index:me(),instructions:wt(hut)})))),preBalances:wt(me()),postBalances:wt(me()),logMessages:qt(At(wt(ot()))),preTokenBalances:qt(At(wt(gH))),postTokenBalances:qt(At(wt(gH))),loadedAddresses:qt(yut),computeUnitsConsumed:qt(me()),costUnits:qt(me())}),$T=pa([xi(0),xi("legacy")]),DS=Fe({pubkey:ot(),lamports:me(),postBalance:At(me()),rewardType:At(ot()),commission:qt(At(me()))}),Ioi=Zn(At(Fe({blockhash:ot(),previousBlockhash:ot(),parentSlot:me(),transactions:wt(Fe({transaction:v1e,meta:At(_H),version:qt($T)})),rewards:qt(wt(DS)),blockTime:At(me()),blockHeight:At(me())}))),Coi=Zn(At(Fe({blockhash:ot(),previousBlockhash:ot(),parentSlot:me(),rewards:qt(wt(DS)),blockTime:At(me()),blockHeight:At(me())}))),Noi=Zn(At(Fe({blockhash:ot(),previousBlockhash:ot(),parentSlot:me(),transactions:wt(Fe({transaction:put,meta:At(_H),version:qt($T)})),rewards:qt(wt(DS)),blockTime:At(me()),blockHeight:At(me())}))),Ooi=Zn(At(Fe({blockhash:ot(),previousBlockhash:ot(),parentSlot:me(),transactions:wt(Fe({transaction:gut,meta:At(_1e),version:qt($T)})),rewards:qt(wt(DS)),blockTime:At(me()),blockHeight:At(me())}))),Poi=Zn(At(Fe({blockhash:ot(),previousBlockhash:ot(),parentSlot:me(),transactions:wt(Fe({transaction:put,meta:At(_1e),version:qt($T)})),rewards:qt(wt(DS)),blockTime:At(me()),blockHeight:At(me())}))),koi=Zn(At(Fe({blockhash:ot(),previousBlockhash:ot(),parentSlot:me(),rewards:qt(wt(DS)),blockTime:At(me()),blockHeight:At(me())}))),Doi=Zn(At(Fe({blockhash:ot(),previousBlockhash:ot(),parentSlot:me(),transactions:wt(Fe({transaction:v1e,meta:At(_H)})),rewards:qt(wt(DS)),blockTime:At(me())}))),Moi=Zn(At(Fe({blockhash:ot(),previousBlockhash:ot(),parentSlot:me(),signatures:wt(ot()),blockTime:At(me())}))),Loi=Zn(At(Fe({slot:me(),meta:At(_H),blockTime:qt(At(me())),transaction:v1e,version:qt($T)}))),Boi=Zn(At(Fe({slot:me(),transaction:gut,meta:At(_1e),blockTime:qt(At(me())),version:qt($T)}))),$oi=hp(Fe({blockhash:ot(),lastValidBlockHeight:me()})),Uoi=hp(mp()),tcr=Fe({slot:me(),numTransactions:me(),numSlots:me(),samplePeriodSecs:me()}),Foi=Zn(wt(tcr)),zoi=hp(At(Fe({feeCalculator:Fe({lamportsPerSignature:me()})}))),Hoi=Zn(ot()),Voi=Zn(ot()),rcr=Fe({err:kS,logs:wt(ot()),signature:ot()}),Goi=Fe({result:vH(rcr),subscription:me()});var TO=class t{constructor(e){this._keypair=void 0,this._keypair=e??jlt()}static generate(){return new t(jlt())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");let n=e.slice(32,64);if(!r||!r.skipValidation){let i=e.slice(0,32),o=r1e(i);for(let s=0;s<32;s++)if(n[s]!==o[s])throw new Error("provided secretKey is invalid")}return new t({publicKey:n,secretKey:e})}static fromSeed(e){let r=r1e(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new t({publicKey:r,secretKey:n})}get publicKey(){return new pr(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},xO=Object.freeze({CreateLookupTable:{index:0,layout:te.struct([te.u32("instruction"),LT("recentSlot"),te.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:te.struct([te.u32("instruction")])},ExtendLookupTable:{index:2,layout:te.struct([te.u32("instruction"),LT(),te.seq(Ur(),te.offset(te.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:te.struct([te.u32("instruction")])},CloseLookupTable:{index:4,layout:te.struct([te.u32("instruction")])}});var d1e=class{constructor(){}static createLookupTable(e){let[r,n]=pr.findProgramAddressSync([e.authority.toBuffer(),L0e().encode(e.recentSlot)],this.programId),i=xO.CreateLookupTable,o=Kr(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ga.programId,isSigner:!1,isWritable:!1}];return[new zn({programId:this.programId,keys:s,data:o}),r]}static freezeLookupTable(e){let r=xO.FreezeLookupTable,n=Kr(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new zn({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){let r=xO.ExtendLookupTable,n=Kr(r,{addresses:e.addresses.map(o=>o.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ga.programId,isSigner:!1,isWritable:!1}),new zn({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){let r=xO.DeactivateLookupTable,n=Kr(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new zn({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){let r=xO.CloseLookupTable,n=Kr(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new zn({programId:this.programId,keys:i,data:n})}};d1e.programId=new pr("AddressLookupTab1e1111111111111111111111111");var pH=Object.freeze({RequestUnits:{index:0,layout:te.struct([te.u8("instruction"),te.u32("units"),te.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:te.struct([te.u8("instruction"),te.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:te.struct([te.u8("instruction"),te.u32("units")])},SetComputeUnitPrice:{index:3,layout:te.struct([te.u8("instruction"),LT("microLamports")])}}),p1e=class{constructor(){}static requestUnits(e){let r=pH.RequestUnits,n=Kr(r,e);return new zn({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){let r=pH.RequestHeapFrame,n=Kr(r,e);return new zn({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){let r=pH.SetComputeUnitLimit,n=Kr(r,e);return new zn({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){let r=pH.SetComputeUnitPrice,n=Kr(r,{microLamports:BigInt(e.microLamports)});return new zn({keys:[],programId:this.programId,data:n})}};p1e.programId=new pr("ComputeBudget111111111111111111111111111111");var Xlt=64,Ylt=32,Zlt=64,eut=te.struct([te.u8("numSignatures"),te.u8("padding"),te.u16("signatureOffset"),te.u16("signatureInstructionIndex"),te.u16("publicKeyOffset"),te.u16("publicKeyInstructionIndex"),te.u16("messageDataOffset"),te.u16("messageDataSize"),te.u16("messageInstructionIndex")]),f1e=class t{constructor(){}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,instructionIndex:o}=e;ci(r.length===Ylt,`Public Key must be ${Ylt} bytes but received ${r.length} bytes`),ci(i.length===Zlt,`Signature must be ${Zlt} bytes but received ${i.length} bytes`);let s=eut.span,a=s+r.length,c=a+i.length,l=1,u=ur.alloc(c+n.length),d=o??65535;return eut.encode({numSignatures:l,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:s,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:d},u),u.fill(r,s),u.fill(i,a),u.fill(n,c),new zn({keys:[],programId:t.programId,data:u})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;ci(r.length===Xlt,`Private key must be ${Xlt} bytes but received ${r.length} bytes`);try{let o=TO.fromSecretKey(r),s=o.publicKey.toBytes(),a=h1e(n,o.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:a,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};f1e.programId=new pr("Ed25519SigVerify111111111111111111111111111");var ncr=(t,e)=>{let r=dH.sign(t,e);return[r.toCompactRawBytes(),r.recovery]};dH.utils.isValidPrivateKey;var icr=dH.getPublicKey,tut=32,Z0e=20,rut=64,ocr=11,e1e=te.struct([te.u8("numSignatures"),te.u16("signatureOffset"),te.u8("signatureInstructionIndex"),te.u16("ethAddressOffset"),te.u8("ethAddressInstructionIndex"),te.u16("messageDataOffset"),te.u16("messageDataSize"),te.u8("messageInstructionIndex"),te.blob(20,"ethAddress"),te.blob(64,"signature"),te.u8("recoveryId")]),m1e=class t{constructor(){}static publicKeyToEthAddress(e){ci(e.length===rut,`Public key must be ${rut} bytes but received ${e.length} bytes`);try{return ur.from(d0e(nn(e))).slice(-Z0e)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,recoveryId:o,instructionIndex:s}=e;return t.createInstructionWithEthAddress({ethAddress:t.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:o,instructionIndex:s})}static createInstructionWithEthAddress(e){let{ethAddress:r,message:n,signature:i,recoveryId:o,instructionIndex:s=0}=e,a;typeof r=="string"?r.startsWith("0x")?a=ur.from(r.substr(2),"hex"):a=ur.from(r,"hex"):a=r,ci(a.length===Z0e,`Address must be ${Z0e} bytes but received ${a.length} bytes`);let c=1+ocr,l=c,u=c+a.length,d=u+i.length+1,p=1,f=ur.alloc(e1e.span+n.length);return e1e.encode({numSignatures:p,signatureOffset:u,signatureInstructionIndex:s,ethAddressOffset:l,ethAddressInstructionIndex:s,messageDataOffset:d,messageDataSize:n.length,messageInstructionIndex:s,signature:nn(i),ethAddress:nn(a),recoveryId:o},f),f.fill(nn(n),e1e.span),new zn({keys:[],programId:t.programId,data:f})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;ci(r.length===tut,`Private key must be ${tut} bytes but received ${r.length} bytes`);try{let o=nn(r),s=icr(o,!1).slice(1),a=ur.from(d0e(nn(n))),[c,l]=ncr(a,o);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:c,recoveryId:l,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};m1e.programId=new pr("KeccakSecp256k11111111111111111111111111111");var but,scr=new pr("StakeConfig11111111111111111111111111111111");var RO=class{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}};but=RO;RO.default=new but(0,0,pr.default);var wy=Object.freeze({Initialize:{index:0,layout:te.struct([te.u32("instruction"),Sar(),xar()])},Authorize:{index:1,layout:te.struct([te.u32("instruction"),Ur("newAuthorized"),te.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:te.struct([te.u32("instruction")])},Split:{index:3,layout:te.struct([te.u32("instruction"),te.ns64("lamports")])},Withdraw:{index:4,layout:te.struct([te.u32("instruction"),te.ns64("lamports")])},Deactivate:{index:5,layout:te.struct([te.u32("instruction")])},Merge:{index:7,layout:te.struct([te.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:te.struct([te.u32("instruction"),Ur("newAuthorized"),te.u32("stakeAuthorizationType"),kT("authoritySeed"),Ur("authorityOwner")])}}),joi=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),yH=class{constructor(){}static initialize(e){let{stakePubkey:r,authorized:n,lockup:i}=e,o=i||RO.default,s=wy.Initialize,a=Kr(s,{authorized:{staker:nn(n.staker.toBuffer()),withdrawer:nn(n.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:nn(o.custodian.toBuffer())}}),c={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:EO,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new zn(c)}static createAccountWithSeed(e){let r=new Yn;r.add(Ga.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static createAccount(e){let r=new Yn;r.add(Ga.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static delegate(e){let{stakePubkey:r,authorizedPubkey:n,votePubkey:i}=e,o=wy.Delegate,s=Kr(o);return new Yn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:fg,isSigner:!1,isWritable:!1},{pubkey:Y0e,isSigner:!1,isWritable:!1},{pubkey:scr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(e){let{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:o,custodianPubkey:s}=e,a=wy.Authorize,c=Kr(a,{newAuthorized:nn(i.toBuffer()),stakeAuthorizationType:o.index}),l=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:fg,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&l.push({pubkey:s,isSigner:!0,isWritable:!1}),new Yn().add({keys:l,programId:this.programId,data:c})}static authorizeWithSeed(e){let{stakePubkey:r,authorityBase:n,authoritySeed:i,authorityOwner:o,newAuthorizedPubkey:s,stakeAuthorizationType:a,custodianPubkey:c}=e,l=wy.AuthorizeWithSeed,u=Kr(l,{newAuthorized:nn(s.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:nn(o.toBuffer())}),d=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:fg,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new Yn().add({keys:d,programId:this.programId,data:u})}static splitInstruction(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:o}=e,s=wy.Split,a=Kr(s,{lamports:o});return new zn({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,r){let n=new Yn;return n.add(Ga.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:r,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e,r){let{stakePubkey:n,authorizedPubkey:i,splitStakePubkey:o,basePubkey:s,seed:a,lamports:c}=e,l=new Yn;return l.add(Ga.allocate({accountPubkey:o,basePubkey:s,seed:a,space:this.space,programId:this.programId})),r&&r>0&&l.add(Ga.transfer({fromPubkey:e.authorizedPubkey,toPubkey:o,lamports:r})),l.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:i,splitStakePubkey:o,lamports:c}))}static merge(e){let{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:i}=e,o=wy.Merge,s=Kr(o);return new Yn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:fg,isSigner:!1,isWritable:!1},{pubkey:Y0e,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(e){let{stakePubkey:r,authorizedPubkey:n,toPubkey:i,lamports:o,custodianPubkey:s}=e,a=wy.Withdraw,c=Kr(a,{lamports:o}),l=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:fg,isSigner:!1,isWritable:!1},{pubkey:Y0e,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&l.push({pubkey:s,isSigner:!0,isWritable:!1}),new Yn().add({keys:l,programId:this.programId,data:c})}static deactivate(e){let{stakePubkey:r,authorizedPubkey:n}=e,i=wy.Deactivate,o=Kr(i);return new Yn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:fg,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}};yH.programId=new pr("Stake11111111111111111111111111111111111111");yH.space=200;var wO=Object.freeze({InitializeAccount:{index:0,layout:te.struct([te.u32("instruction"),war()])},Authorize:{index:1,layout:te.struct([te.u32("instruction"),Ur("newAuthorized"),te.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:te.struct([te.u32("instruction"),te.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:te.struct([te.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:te.struct([te.u32("instruction"),Aar()])}}),qoi=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),bH=class t{constructor(){}static initializeAccount(e){let{votePubkey:r,nodePubkey:n,voteInit:i}=e,o=wO.InitializeAccount,s=Kr(o,{voteInit:{nodePubkey:nn(i.nodePubkey.toBuffer()),authorizedVoter:nn(i.authorizedVoter.toBuffer()),authorizedWithdrawer:nn(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:EO,isSigner:!1,isWritable:!1},{pubkey:fg,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new zn(a)}static createAccount(e){let r=new Yn;return r.add(Ga.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:o}=e,s=wO.Authorize,a=Kr(s,{newAuthorized:nn(i.toBuffer()),voteAuthorizationType:o.index}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:fg,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Yn().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:o,voteAuthorizationType:s,votePubkey:a}=e,c=wO.AuthorizeWithSeed,l=Kr(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:nn(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:nn(o.toBuffer()),voteAuthorizationType:s.index}}),u=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:fg,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Yn().add({keys:u,programId:this.programId,data:l})}static withdraw(e){let{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:o}=e,s=wO.Withdraw,a=Kr(s,{lamports:i}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new Yn().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return t.withdraw(e)}static updateValidatorIdentity(e){let{votePubkey:r,authorizedWithdrawerPubkey:n,nodePubkey:i}=e,o=wO.UpdateValidatorIdentity,s=Kr(o),a=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Yn().add({keys:a,programId:this.programId,data:s})}};bH.programId=new pr("Vote111111111111111111111111111111111111111");bH.space=3762;var Woi=new pr("Va1idator1nfo111111111111111111111111111111"),Joi=Fe({name:ot(),website:qt(ot()),details:qt(ot()),iconUrl:qt(ot()),keybaseUsername:qt(ot())});var Koi=new pr("Vote111111111111111111111111111111111111111"),Qoi=te.struct([Ur("nodePubkey"),Ur("authorizedWithdrawer"),te.u8("commission"),te.nu64(),te.seq(te.struct([te.nu64("slot"),te.u32("confirmationCount")]),te.offset(te.u32(),-8),"votes"),te.u8("rootSlotValid"),te.nu64("rootSlot"),te.nu64(),te.seq(te.struct([te.nu64("epoch"),Ur("authorizedVoter")]),te.offset(te.u32(),-8),"authorizedVoters"),te.struct([te.seq(te.struct([Ur("authorizedPubkey"),te.nu64("epochOfLastAuthorizedSwitch"),te.nu64("targetEpoch")]),32,"buf"),te.nu64("idx"),te.u8("isEmpty")],"priorVoters"),te.nu64(),te.seq(te.struct([te.nu64("epoch"),te.nu64("credits"),te.nu64("prevCredits")]),te.offset(te.u32(),-8),"epochCredits"),te.struct([te.nu64("slot"),te.nu64("timestamp")],"lastTimestamp")]);var SH=class{constructor(e){this.organizationId=e.organizationId,this.client=e.client}async signAllTransactions(e,r,n){let i=new pr(r),o=e.map(c=>this.getMessageToSign(c).toString("hex")),a=(await this.signRawPayloads(o,r,n))?.signatures?.map(c=>`${c?.r}${c?.s}`);for(let c in e)e[c]?.addSignature(i,Buffer.from(a[c],"hex"));return e}async addSignature(e,r,n){let i=new pr(r),o=this.getMessageToSign(e),s=await this.signRawPayload(o.toString("hex"),r,n??this.organizationId),a=`${s?.r}${s?.s}`;e.addSignature(i,Buffer.from(a,"hex"))}async signMessage(e,r,n){let i=await this.signRawPayload(Buffer.from(e).toString("hex"),r,n);return Buffer.from(`${i?.r}${i?.s}`,"hex")}async signTransaction(e,r,n){let i=Buffer.from(e.serialize({requireAllSignatures:!1,verifySignatures:!1})).toString("hex"),o=await this.signTransactionImpl(i,r,n),s=Buffer.from(o,"hex");return"version"in e?MT.deserialize(s):Yn.from(s)}async signTransactionImpl(e,r,n){if(aO(this.client)){let i=await this.client.signTransaction({type:"ACTIVITY_TYPE_SIGN_TRANSACTION_V2",organizationId:n??this.organizationId,timestampMs:String(Date.now()),parameters:{signWith:r,unsignedTransaction:e,type:"TRANSACTION_TYPE_SOLANA"}}),{activity:o}=i;return my(o),hy(o?.result?.signTransactionResult?.signedTransaction)}else{let{activity:i,signedTransaction:o}=await this.client.signTransaction({...n!==void 0&&{organizationId:n},signWith:r,unsignedTransaction:e,type:"TRANSACTION_TYPE_SOLANA"});return my(i),hy(o)}}async signRawPayload(e,r,n){if(aO(this.client)){let i=await this.client.signRawPayload({type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOAD_V2",organizationId:n??this.organizationId,timestampMs:String(Date.now()),parameters:{signWith:r,payload:e,encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE"}}),{activity:o}=i;return my(o),hy(o?.result?.signRawPayloadResult)}else{let{activity:i,r:o,s,v:a}=await this.client.signRawPayload({...n!==void 0&&{organizationId:n},signWith:r,payload:e,encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE"});return my(i),hy({r:o,s,v:a})}}async signRawPayloads(e,r,n){if(aO(this.client)){let i=await this.client.signRawPayloads({type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOADS",organizationId:n??this.organizationId,timestampMs:String(Date.now()),parameters:{signWith:r,payloads:e,encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE"}}),{activity:o}=i;return my(o),hy(o?.result?.signRawPayloadsResult)}else{let{activity:i,signatures:o}=await this.client.signRawPayloads({...n!==void 0&&{organizationId:n},signWith:r,payloads:e,encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE"});return my(i),hy({signatures:o})}}getMessageToSign(e){let r;return typeof e.serializeMessage=="function"?r=e.serializeMessage():r=Buffer.from(e.message.serialize()),r}};Ci();var S1e=null;function acr(){if(!S1e){if(!tn.TURNKEY_API_PRIVATE_KEY||!tn.TURNKEY_API_PUBLIC_KEY||!tn.TURNKEY_ORGANIZATION_ID)throw new Error("wallet_config_missing: TURNKEY_API_PRIVATE_KEY, TURNKEY_API_PUBLIC_KEY, and TURNKEY_ORGANIZATION_ID are required");S1e=new TS({apiBaseUrl:"https://api.turnkey.com",apiPrivateKey:tn.TURNKEY_API_PRIVATE_KEY,apiPublicKey:tn.TURNKEY_API_PUBLIC_KEY,defaultOrganizationId:tn.TURNKEY_ORGANIZATION_ID})}return S1e}function x1e(){let e=acr().apiClient();if(!tn.TURNKEY_ORGANIZATION_ID)throw new Error("wallet_config_missing: TURNKEY_ORGANIZATION_ID is required for signing");return new SH({organizationId:tn.TURNKEY_ORGANIZATION_ID,client:e})}async function w1e(t){let e=new URL(`${E3}/ultra/v1/order`);e.searchParams.set("inputMint",t.inputMint),e.searchParams.set("outputMint",t.outputMint),e.searchParams.set("amount",t.amount),e.searchParams.set("taker",t.taker);let r=await fetch(e.toString(),{method:"GET",headers:{"x-api-key":tn.JUPITER_API_KEY}});if(!r.ok){let i=await r.text().catch(()=>"no body");throw new Error(`jupiter_order_failed: HTTP ${r.status} \u2013 ${i}`)}let n=await r.json();if(!n.transaction)throw new Error(`jupiter_order_failed: response missing transaction field \u2013 ${JSON.stringify(n)}`);return n}async function vut(t,e){let r=Buffer.from(t,"base64"),n,i,o=r[0];o<128?(n=o,i=1):(n=o&127|(r[1]&255)<<7,i=2);let s=i,a=s+n*64,c=r.subarray(a),u=await x1e().signMessage(new Uint8Array(c),e),d=Buffer.from(r);return Buffer.from(u).copy(d,s,0,64),d.toString("base64")}function _ut(t,e){let r=Buffer.from(t,"base64"),n=MT.deserialize(r);return n.sign([e]),Buffer.from(n.serialize()).toString("base64")}function ccr(t){return new Promise(e=>setTimeout(e,t))}async function A1e(t){let e=`${E3}/ultra/v1/execute`,r=async()=>{let i=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":tn.JUPITER_API_KEY},body:JSON.stringify({signedTransaction:t.signedTransaction,requestId:t.requestId})});if(!i.ok){let o=await i.text().catch(()=>"no body");throw new Error(`jupiter_execute_failed: HTTP ${i.status} \u2013 ${o}`)}return await i.json()},n=await r();if(n.code===-1006&&(await ccr(2e3),n=await r()),n.status!=="Success")throw new Error(`jupiter_execute_failed: status=${n.status} code=${n.code} sig=${n.signature}`);return n}async function xH(t){let e={};for(let r=0;r<t.length;r+=50){let n=t.slice(r,r+50),i=n.join(","),o=await fetch(`${E3}/price/v3?ids=${i}`,{method:"GET",headers:{"x-api-key":tn.JUPITER_API_KEY}});if(!o.ok){for(let a of n)e[a]=null;continue}let s=await o.json();for(let a of n){let c=s.data?.[a];c&&c.price?e[a]={usdPrice:parseFloat(c.price),blockId:"",decimals:0,priceChange24h:0}:e[a]=null}}return e}var _si=new Map(si.map(t=>[t.mintAddress,t.symbol]));var UT=9e15,Iy=1e9,E1e="0123456789abcdef",EH="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",TH="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",T1e={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-UT,maxE:UT,crypto:!1},Aut,hg,dr=!0,IH="[DecimalError] ",Ry=IH+"Invalid argument: ",Eut=IH+"Precision limit exceeded",Tut=IH+"crypto unavailable",Rut="[object Decimal]",ha=Math.floor,Ko=Math.pow,lcr=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,ucr=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,dcr=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Iut=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,gp=1e7,Qt=7,pcr=9007199254740991,fcr=EH.length-1,R1e=TH.length-1,$e={toStringTag:Rut};$e.absoluteValue=$e.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),jt(t)};$e.ceil=function(){return jt(new this.constructor(this),this.e+1,2)};$e.clampedTo=$e.clamp=function(t,e){var r,n=this,i=n.constructor;if(t=new i(t),e=new i(e),!t.s||!e.s)return new i(NaN);if(t.gt(e))throw Error(Ry+e);return r=n.cmp(t),r<0?t:n.cmp(e)>0?e:new i(n)};$e.comparedTo=$e.cmp=function(t){var e,r,n,i,o=this,s=o.d,a=(t=new o.constructor(t)).d,c=o.s,l=t.s;if(!s||!a)return!c||!l?NaN:c!==l?c:s===a?0:!s^c<0?1:-1;if(!s[0]||!a[0])return s[0]?c:a[0]?-l:0;if(c!==l)return c;if(o.e!==t.e)return o.e>t.e^c<0?1:-1;for(n=s.length,i=a.length,e=0,r=n<i?n:i;e<r;++e)if(s[e]!==a[e])return s[e]>a[e]^c<0?1:-1;return n===i?0:n>i^c<0?1:-1};$e.cosine=$e.cos=function(){var t,e,r=this,n=r.constructor;return r.d?r.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+Qt,n.rounding=1,r=mcr(n,kut(n,r)),n.precision=t,n.rounding=e,jt(hg==2||hg==3?r.neg():r,t,e,!0)):new n(1):new n(NaN)};$e.cubeRoot=$e.cbrt=function(){var t,e,r,n,i,o,s,a,c,l,u=this,d=u.constructor;if(!u.isFinite()||u.isZero())return new d(u);for(dr=!1,o=u.s*Ko(u.s*u,1/3),!o||Math.abs(o)==1/0?(r=Ls(u.d),t=u.e,(o=(t-r.length+1)%3)&&(r+=o==1||o==-2?"0":"00"),o=Ko(r,1/3),t=ha((t+1)/3)-(t%3==(t<0?-1:2)),o==1/0?r="5e"+t:(r=o.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),n=new d(r),n.s=u.s):n=new d(o.toString()),s=(t=d.precision)+3;;)if(a=n,c=a.times(a).times(a),l=c.plus(u),n=Hn(l.plus(u).times(a),l.plus(c),s+2,1),Ls(a.d).slice(0,s)===(r=Ls(n.d)).slice(0,s))if(r=r.slice(s-3,s+1),r=="9999"||!i&&r=="4999"){if(!i&&(jt(a,t+1,0),a.times(a).times(a).eq(u))){n=a;break}s+=4,i=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(jt(n,t+1,1),e=!n.times(n).times(n).eq(u));break}return dr=!0,jt(n,t,d.rounding,e)};$e.decimalPlaces=$e.dp=function(){var t,e=this.d,r=NaN;if(e){if(t=e.length-1,r=(t-ha(this.e/Qt))*Qt,t=e[t],t)for(;t%10==0;t/=10)r--;r<0&&(r=0)}return r};$e.dividedBy=$e.div=function(t){return Hn(this,new this.constructor(t))};$e.dividedToIntegerBy=$e.divToInt=function(t){var e=this,r=e.constructor;return jt(Hn(e,new r(t),0,1,1),r.precision,r.rounding)};$e.equals=$e.eq=function(t){return this.cmp(t)===0};$e.floor=function(){return jt(new this.constructor(this),this.e+1,3)};$e.greaterThan=$e.gt=function(t){return this.cmp(t)>0};$e.greaterThanOrEqualTo=$e.gte=function(t){var e=this.cmp(t);return e==1||e===0};$e.hyperbolicCosine=$e.cosh=function(){var t,e,r,n,i,o=this,s=o.constructor,a=new s(1);if(!o.isFinite())return new s(o.s?1/0:NaN);if(o.isZero())return a;r=s.precision,n=s.rounding,s.precision=r+Math.max(o.e,o.sd())+4,s.rounding=1,i=o.d.length,i<32?(t=Math.ceil(i/3),e=(1/NH(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),o=FT(s,1,o.times(e),new s(1),!0);for(var c,l=t,u=new s(8);l--;)c=o.times(o),o=a.minus(c.times(u.minus(c.times(u))));return jt(o,s.precision=r,s.rounding=n,!0)};$e.hyperbolicSine=$e.sinh=function(){var t,e,r,n,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(e=o.precision,r=o.rounding,o.precision=e+Math.max(i.e,i.sd())+4,o.rounding=1,n=i.d.length,n<3)i=FT(o,2,i,i,!0);else{t=1.4*Math.sqrt(n),t=t>16?16:t|0,i=i.times(1/NH(5,t)),i=FT(o,2,i,i,!0);for(var s,a=new o(5),c=new o(16),l=new o(20);t--;)s=i.times(i),i=i.times(a.plus(s.times(c.times(s).plus(l))))}return o.precision=e,o.rounding=r,jt(i,e,r,!0)};$e.hyperbolicTangent=$e.tanh=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,Hn(r.sinh(),r.cosh(),n.precision=t,n.rounding=e)):new n(r.s)};$e.inverseCosine=$e.acos=function(){var t=this,e=t.constructor,r=t.abs().cmp(1),n=e.precision,i=e.rounding;return r!==-1?r===0?t.isNeg()?im(e,n,i):new e(0):new e(NaN):t.isZero()?im(e,n+4,i).times(.5):(e.precision=n+6,e.rounding=1,t=new e(1).minus(t).div(t.plus(1)).sqrt().atan(),e.precision=n,e.rounding=i,t.times(2))};$e.inverseHyperbolicCosine=$e.acosh=function(){var t,e,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,dr=!1,r=r.times(r).minus(1).sqrt().plus(r),dr=!0,n.precision=t,n.rounding=e,r.ln()):new n(r)};$e.inverseHyperbolicSine=$e.asinh=function(){var t,e,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,dr=!1,r=r.times(r).plus(1).sqrt().plus(r),dr=!0,n.precision=t,n.rounding=e,r.ln())};$e.inverseHyperbolicTangent=$e.atanh=function(){var t,e,r,n,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=o.precision,e=o.rounding,n=i.sd(),Math.max(n,t)<2*-i.e-1?jt(new o(i),t,e,!0):(o.precision=r=n-i.e,i=Hn(i.plus(1),new o(1).minus(i),r+t,1),o.precision=t+4,o.rounding=1,i=i.ln(),o.precision=t,o.rounding=e,i.times(.5))):new o(NaN)};$e.inverseSine=$e.asin=function(){var t,e,r,n,i=this,o=i.constructor;return i.isZero()?new o(i):(e=i.abs().cmp(1),r=o.precision,n=o.rounding,e!==-1?e===0?(t=im(o,r+4,n).times(.5),t.s=i.s,t):new o(NaN):(o.precision=r+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=r,o.rounding=n,i.times(2)))};$e.inverseTangent=$e.atan=function(){var t,e,r,n,i,o,s,a,c,l=this,u=l.constructor,d=u.precision,p=u.rounding;if(l.isFinite()){if(l.isZero())return new u(l);if(l.abs().eq(1)&&d+4<=R1e)return s=im(u,d+4,p).times(.25),s.s=l.s,s}else{if(!l.s)return new u(NaN);if(d+4<=R1e)return s=im(u,d+4,p).times(.5),s.s=l.s,s}for(u.precision=a=d+10,u.rounding=1,r=Math.min(28,a/Qt+2|0),t=r;t;--t)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(dr=!1,e=Math.ceil(a/Qt),n=1,c=l.times(l),s=new u(l),i=l;t!==-1;)if(i=i.times(c),o=s.minus(i.div(n+=2)),i=i.times(c),s=o.plus(i.div(n+=2)),s.d[e]!==void 0)for(t=e;s.d[t]===o.d[t]&&t--;);return r&&(s=s.times(2<<r-1)),dr=!0,jt(s,u.precision=d,u.rounding=p,!0)};$e.isFinite=function(){return!!this.d};$e.isInteger=$e.isInt=function(){return!!this.d&&ha(this.e/Qt)>this.d.length-2};$e.isNaN=function(){return!this.s};$e.isNegative=$e.isNeg=function(){return this.s<0};$e.isPositive=$e.isPos=function(){return this.s>0};$e.isZero=function(){return!!this.d&&this.d[0]===0};$e.lessThan=$e.lt=function(t){return this.cmp(t)<0};$e.lessThanOrEqualTo=$e.lte=function(t){return this.cmp(t)<1};$e.logarithm=$e.log=function(t){var e,r,n,i,o,s,a,c,l=this,u=l.constructor,d=u.precision,p=u.rounding,f=5;if(t==null)t=new u(10),e=!0;else{if(t=new u(t),r=t.d,t.s<0||!r||!r[0]||t.eq(1))return new u(NaN);e=t.eq(10)}if(r=l.d,l.s<0||!r||!r[0]||l.eq(1))return new u(r&&!r[0]?-1/0:l.s!=1?NaN:r?0:1/0);if(e)if(r.length>1)o=!0;else{for(i=r[0];i%10===0;)i/=10;o=i!==1}if(dr=!1,a=d+f,s=Ty(l,a),n=e?RH(u,a+10):Ty(t,a),c=Hn(s,n,a,1),IO(c.d,i=d,p))do if(a+=10,s=Ty(l,a),n=e?RH(u,a+10):Ty(t,a),c=Hn(s,n,a,1),!o){+Ls(c.d).slice(i+1,i+15)+1==1e14&&(c=jt(c,d+1,0));break}while(IO(c.d,i+=10,p));return dr=!0,jt(c,d,p)};$e.minus=$e.sub=function(t){var e,r,n,i,o,s,a,c,l,u,d,p,f=this,h=f.constructor;if(t=new h(t),!f.d||!t.d)return!f.s||!t.s?t=new h(NaN):f.d?t.s=-t.s:t=new h(t.d||f.s!==t.s?f:NaN),t;if(f.s!=t.s)return t.s=-t.s,f.plus(t);if(l=f.d,p=t.d,a=h.precision,c=h.rounding,!l[0]||!p[0]){if(p[0])t.s=-t.s;else if(l[0])t=new h(f);else return new h(c===3?-0:0);return dr?jt(t,a,c):t}if(r=ha(t.e/Qt),u=ha(f.e/Qt),l=l.slice(),o=u-r,o){for(d=o<0,d?(e=l,o=-o,s=p.length):(e=p,r=u,s=l.length),n=Math.max(Math.ceil(a/Qt),s)+2,o>n&&(o=n,e.length=1),e.reverse(),n=o;n--;)e.push(0);e.reverse()}else{for(n=l.length,s=p.length,d=n<s,d&&(s=n),n=0;n<s;n++)if(l[n]!=p[n]){d=l[n]<p[n];break}o=0}for(d&&(e=l,l=p,p=e,t.s=-t.s),s=l.length,n=p.length-s;n>0;--n)l[s++]=0;for(n=p.length;n>o;){if(l[--n]<p[n]){for(i=n;i&&l[--i]===0;)l[i]=gp-1;--l[i],l[n]+=gp}l[n]-=p[n]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=CH(l,r),dr?jt(t,a,c):t):new h(c===3?-0:0)};$e.modulo=$e.mod=function(t){var e,r=this,n=r.constructor;return t=new n(t),!r.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||r.d&&!r.d[0]?jt(new n(r),n.precision,n.rounding):(dr=!1,n.modulo==9?(e=Hn(r,t.abs(),0,3,1),e.s*=t.s):e=Hn(r,t,0,n.modulo,1),e=e.times(t),dr=!0,r.minus(e))};$e.naturalExponential=$e.exp=function(){return I1e(this)};$e.naturalLogarithm=$e.ln=function(){return Ty(this)};$e.negated=$e.neg=function(){var t=new this.constructor(this);return t.s=-t.s,jt(t)};$e.plus=$e.add=function(t){var e,r,n,i,o,s,a,c,l,u,d=this,p=d.constructor;if(t=new p(t),!d.d||!t.d)return!d.s||!t.s?t=new p(NaN):d.d||(t=new p(t.d||d.s===t.s?d:NaN)),t;if(d.s!=t.s)return t.s=-t.s,d.minus(t);if(l=d.d,u=t.d,a=p.precision,c=p.rounding,!l[0]||!u[0])return u[0]||(t=new p(d)),dr?jt(t,a,c):t;if(o=ha(d.e/Qt),n=ha(t.e/Qt),l=l.slice(),i=o-n,i){for(i<0?(r=l,i=-i,s=u.length):(r=u,n=o,s=l.length),o=Math.ceil(a/Qt),s=o>s?o+1:s+1,i>s&&(i=s,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(s=l.length,i=u.length,s-i<0&&(i=s,r=u,u=l,l=r),e=0;i;)e=(l[--i]=l[i]+u[i]+e)/gp|0,l[i]%=gp;for(e&&(l.unshift(e),++n),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=CH(l,n),dr?jt(t,a,c):t};$e.precision=$e.sd=function(t){var e,r=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ry+t);return r.d?(e=Cut(r.d),t&&r.e+1>e&&(e=r.e+1)):e=NaN,e};$e.round=function(){var t=this,e=t.constructor;return jt(new e(t),t.e+1,e.rounding)};$e.sine=$e.sin=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+Qt,n.rounding=1,r=gcr(n,kut(n,r)),n.precision=t,n.rounding=e,jt(hg>2?r.neg():r,t,e,!0)):new n(NaN)};$e.squareRoot=$e.sqrt=function(){var t,e,r,n,i,o,s=this,a=s.d,c=s.e,l=s.s,u=s.constructor;if(l!==1||!a||!a[0])return new u(!l||l<0&&(!a||a[0])?NaN:a?s:1/0);for(dr=!1,l=Math.sqrt(+s),l==0||l==1/0?(e=Ls(a),(e.length+c)%2==0&&(e+="0"),l=Math.sqrt(e),c=ha((c+1)/2)-(c<0||c%2),l==1/0?e="5e"+c:(e=l.toExponential(),e=e.slice(0,e.indexOf("e")+1)+c),n=new u(e)):n=new u(l.toString()),r=(c=u.precision)+3;;)if(o=n,n=o.plus(Hn(s,o,r+2,1)).times(.5),Ls(o.d).slice(0,r)===(e=Ls(n.d)).slice(0,r))if(e=e.slice(r-3,r+1),e=="9999"||!i&&e=="4999"){if(!i&&(jt(o,c+1,0),o.times(o).eq(s))){n=o;break}r+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(jt(n,c+1,1),t=!n.times(n).eq(s));break}return dr=!0,jt(n,c,u.rounding,t)};$e.tangent=$e.tan=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,r=r.sin(),r.s=1,r=Hn(r,new n(1).minus(r.times(r)).sqrt(),t+10,0),n.precision=t,n.rounding=e,jt(hg==2||hg==4?r.neg():r,t,e,!0)):new n(NaN)};$e.times=$e.mul=function(t){var e,r,n,i,o,s,a,c,l,u=this,d=u.constructor,p=u.d,f=(t=new d(t)).d;if(t.s*=u.s,!p||!p[0]||!f||!f[0])return new d(!t.s||p&&!p[0]&&!f||f&&!f[0]&&!p?NaN:!p||!f?t.s/0:t.s*0);for(r=ha(u.e/Qt)+ha(t.e/Qt),c=p.length,l=f.length,c<l&&(o=p,p=f,f=o,s=c,c=l,l=s),o=[],s=c+l,n=s;n--;)o.push(0);for(n=l;--n>=0;){for(e=0,i=c+n;i>n;)a=o[i]+f[n]*p[i-n-1]+e,o[i--]=a%gp|0,e=a/gp|0;o[i]=(o[i]+e)%gp|0}for(;!o[--s];)o.pop();return e?++r:o.shift(),t.d=o,t.e=CH(o,r),dr?jt(t,d.precision,d.rounding):t};$e.toBinary=function(t,e){return C1e(this,2,t,e)};$e.toDecimalPlaces=$e.toDP=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Gc(t,0,Iy),e===void 0?e=n.rounding:Gc(e,0,8),jt(r,t+r.e+1,e))};$e.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=om(n,!0):(Gc(t,0,Iy),e===void 0?e=i.rounding:Gc(e,0,8),n=jt(new i(n),t+1,e),r=om(n,!0,t+1)),n.isNeg()&&!n.isZero()?"-"+r:r};$e.toFixed=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?r=om(i):(Gc(t,0,Iy),e===void 0?e=o.rounding:Gc(e,0,8),n=jt(new o(i),t+i.e+1,e),r=om(n,!1,t+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r};$e.toFraction=function(t){var e,r,n,i,o,s,a,c,l,u,d,p,f=this,h=f.d,m=f.constructor;if(!h)return new m(f);if(l=r=new m(1),n=c=new m(0),e=new m(n),o=e.e=Cut(h)-f.e-1,s=o%Qt,e.d[0]=Ko(10,s<0?Qt+s:s),t==null)t=o>0?e:l;else{if(a=new m(t),!a.isInt()||a.lt(l))throw Error(Ry+a);t=a.gt(e)?o>0?e:l:a}for(dr=!1,a=new m(Ls(h)),u=m.precision,m.precision=o=h.length*Qt*2;d=Hn(a,e,0,1,1),i=r.plus(d.times(n)),i.cmp(t)!=1;)r=n,n=i,i=l,l=c.plus(d.times(i)),c=i,i=e,e=a.minus(d.times(i)),a=i;return i=Hn(t.minus(r),n,0,1,1),c=c.plus(i.times(l)),r=r.plus(i.times(n)),c.s=l.s=f.s,p=Hn(l,n,o,1).minus(f).abs().cmp(Hn(c,r,o,1).minus(f).abs())<1?[l,n]:[c,r],m.precision=u,dr=!0,p};$e.toHexadecimal=$e.toHex=function(t,e){return C1e(this,16,t,e)};$e.toNearest=function(t,e){var r=this,n=r.constructor;if(r=new n(r),t==null){if(!r.d)return r;t=new n(1),e=n.rounding}else{if(t=new n(t),e===void 0?e=n.rounding:Gc(e,0,8),!r.d)return t.s?r:t;if(!t.d)return t.s&&(t.s=r.s),t}return t.d[0]?(dr=!1,r=Hn(r,t,0,e,1).times(t),dr=!0,jt(r)):(t.s=r.s,r=t),r};$e.toNumber=function(){return+this};$e.toOctal=function(t,e){return C1e(this,8,t,e)};$e.toPower=$e.pow=function(t){var e,r,n,i,o,s,a=this,c=a.constructor,l=+(t=new c(t));if(!a.d||!t.d||!a.d[0]||!t.d[0])return new c(Ko(+a,l));if(a=new c(a),a.eq(1))return a;if(n=c.precision,o=c.rounding,t.eq(1))return jt(a,n,o);if(e=ha(t.e/Qt),e>=t.d.length-1&&(r=l<0?-l:l)<=pcr)return i=Nut(c,a,r,n),t.s<0?new c(1).div(i):jt(i,n,o);if(s=a.s,s<0){if(e<t.d.length-1)return new c(NaN);if((t.d[e]&1)==0&&(s=1),a.e==0&&a.d[0]==1&&a.d.length==1)return a.s=s,a}return r=Ko(+a,l),e=r==0||!isFinite(r)?ha(l*(Math.log("0."+Ls(a.d))/Math.LN10+a.e+1)):new c(r+"").e,e>c.maxE+1||e<c.minE-1?new c(e>0?s/0:0):(dr=!1,c.rounding=a.s=1,r=Math.min(12,(e+"").length),i=I1e(t.times(Ty(a,n+r)),n),i.d&&(i=jt(i,n+5,1),IO(i.d,n,o)&&(e=n+10,i=jt(I1e(t.times(Ty(a,e+r)),e),e+5,1),+Ls(i.d).slice(n+1,n+15)+1==1e14&&(i=jt(i,n+1,0)))),i.s=s,dr=!0,c.rounding=o,jt(i,n,o))};$e.toPrecision=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=om(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(Gc(t,1,Iy),e===void 0?e=i.rounding:Gc(e,0,8),n=jt(new i(n),t,e),r=om(n,t<=n.e||n.e<=i.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+r:r};$e.toSignificantDigits=$e.toSD=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Gc(t,1,Iy),e===void 0?e=n.rounding:Gc(e,0,8)),jt(new n(r),t,e)};$e.toString=function(){var t=this,e=t.constructor,r=om(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+r:r};$e.truncated=$e.trunc=function(){return jt(new this.constructor(this),this.e+1,1)};$e.valueOf=$e.toJSON=function(){var t=this,e=t.constructor,r=om(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+r:r};function Ls(t){var e,r,n,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)n=t[e]+"",r=Qt-n.length,r&&(o+=Ey(r)),o+=n;s=t[e],n=s+"",r=Qt-n.length,r&&(o+=Ey(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}function Gc(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Ry+t)}function IO(t,e,r,n){var i,o,s,a;for(o=t[0];o>=10;o/=10)--e;return--e<0?(e+=Qt,i=0):(i=Math.ceil((e+1)/Qt),e%=Qt),o=Ko(10,Qt-e),a=t[i]%o|0,n==null?e<3?(e==0?a=a/100|0:e==1&&(a=a/10|0),s=r<4&&a==99999||r>3&&a==49999||a==5e4||a==0):s=(r<4&&a+1==o||r>3&&a+1==o/2)&&(t[i+1]/o/100|0)==Ko(10,e-2)-1||(a==o/2||a==0)&&(t[i+1]/o/100|0)==0:e<4?(e==0?a=a/1e3|0:e==1?a=a/100|0:e==2&&(a=a/10|0),s=(n||r<4)&&a==9999||!n&&r>3&&a==4999):s=((n||r<4)&&a+1==o||!n&&r>3&&a+1==o/2)&&(t[i+1]/o/1e3|0)==Ko(10,e-3)-1,s}function wH(t,e,r){for(var n,i=[0],o,s=0,a=t.length;s<a;){for(o=i.length;o--;)i[o]*=e;for(i[0]+=E1e.indexOf(t.charAt(s++)),n=0;n<i.length;n++)i[n]>r-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}function mcr(t,e){var r,n,i;if(e.isZero())return e;n=e.d.length,n<32?(r=Math.ceil(n/3),i=(1/NH(4,r)).toString()):(r=16,i="2.3283064365386962890625e-10"),t.precision+=r,e=FT(t,1,e.times(i),new t(1));for(var o=r;o--;){var s=e.times(e);e=s.times(s).minus(s).times(8).plus(1)}return t.precision-=r,e}var Hn=(function(){function t(n,i,o){var s,a=0,c=n.length;for(n=n.slice();c--;)s=n[c]*i+a,n[c]=s%o|0,a=s/o|0;return a&&n.unshift(a),n}function e(n,i,o,s){var a,c;if(o!=s)c=o>s?1:-1;else for(a=c=0;a<o;a++)if(n[a]!=i[a]){c=n[a]>i[a]?1:-1;break}return c}function r(n,i,o,s){for(var a=0;o--;)n[o]-=a,a=n[o]<i[o]?1:0,n[o]=a*s+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,s,a,c){var l,u,d,p,f,h,m,g,y,v,S,w,E,I,D,k,P,$,H,W,N=n.constructor,_=n.s==i.s?1:-1,x=n.d,R=i.d;if(!x||!x[0]||!R||!R[0])return new N(!n.s||!i.s||(x?R&&x[0]==R[0]:!R)?NaN:x&&x[0]==0||!R?_*0:_/0);for(c?(f=1,u=n.e-i.e):(c=gp,f=Qt,u=ha(n.e/f)-ha(i.e/f)),H=R.length,P=x.length,y=new N(_),v=y.d=[],d=0;R[d]==(x[d]||0);d++);if(R[d]>(x[d]||0)&&u--,o==null?(I=o=N.precision,s=N.rounding):a?I=o+(n.e-i.e)+1:I=o,I<0)v.push(1),h=!0;else{if(I=I/f+2|0,d=0,H==1){for(p=0,R=R[0],I++;(d<P||p)&&I--;d++)D=p*c+(x[d]||0),v[d]=D/R|0,p=D%R|0;h=p||d<P}else{for(p=c/(R[0]+1)|0,p>1&&(R=t(R,p,c),x=t(x,p,c),H=R.length,P=x.length),k=H,S=x.slice(0,H),w=S.length;w<H;)S[w++]=0;W=R.slice(),W.unshift(0),$=R[0],R[1]>=c/2&&++$;do p=0,l=e(R,S,H,w),l<0?(E=S[0],H!=w&&(E=E*c+(S[1]||0)),p=E/$|0,p>1?(p>=c&&(p=c-1),m=t(R,p,c),g=m.length,w=S.length,l=e(m,S,g,w),l==1&&(p--,r(m,H<g?W:R,g,c))):(p==0&&(l=p=1),m=R.slice()),g=m.length,g<w&&m.unshift(0),r(S,m,w,c),l==-1&&(w=S.length,l=e(R,S,H,w),l<1&&(p++,r(S,H<w?W:R,w,c))),w=S.length):l===0&&(p++,S=[0]),v[d++]=p,l&&S[0]?S[w++]=x[k]||0:(S=[x[k]],w=1);while((k++<P||S[0]!==void 0)&&I--);h=S[0]!==void 0}v[0]||v.shift()}if(f==1)y.e=u,Aut=h;else{for(d=1,p=v[0];p>=10;p/=10)d++;y.e=d+u*f-1,jt(y,a?o+y.e+1:o,s,h)}return y}})();function jt(t,e,r,n){var i,o,s,a,c,l,u,d,p,f=t.constructor;e:if(e!=null){if(d=t.d,!d)return t;for(i=1,a=d[0];a>=10;a/=10)i++;if(o=e-i,o<0)o+=Qt,s=e,u=d[p=0],c=u/Ko(10,i-s-1)%10|0;else if(p=Math.ceil((o+1)/Qt),a=d.length,p>=a)if(n){for(;a++<=p;)d.push(0);u=c=0,i=1,o%=Qt,s=o-Qt+1}else break e;else{for(u=a=d[p],i=1;a>=10;a/=10)i++;o%=Qt,s=o-Qt+i,c=s<0?0:u/Ko(10,i-s-1)%10|0}if(n=n||e<0||d[p+1]!==void 0||(s<0?u:u%Ko(10,i-s-1)),l=r<4?(c||n)&&(r==0||r==(t.s<0?3:2)):c>5||c==5&&(r==4||n||r==6&&(o>0?s>0?u/Ko(10,i-s):0:d[p-1])%10&1||r==(t.s<0?8:7)),e<1||!d[0])return d.length=0,l?(e-=t.e+1,d[0]=Ko(10,(Qt-e%Qt)%Qt),t.e=-e||0):d[0]=t.e=0,t;if(o==0?(d.length=p,a=1,p--):(d.length=p+1,a=Ko(10,Qt-o),d[p]=s>0?(u/Ko(10,i-s)%Ko(10,s)|0)*a:0),l)for(;;)if(p==0){for(o=1,s=d[0];s>=10;s/=10)o++;for(s=d[0]+=a,a=1;s>=10;s/=10)a++;o!=a&&(t.e++,d[0]==gp&&(d[0]=1));break}else{if(d[p]+=a,d[p]!=gp)break;d[p--]=0,a=1}for(o=d.length;d[--o]===0;)d.pop()}return dr&&(t.e>f.maxE?(t.d=null,t.e=NaN):t.e<f.minE&&(t.e=0,t.d=[0])),t}function om(t,e,r){if(!t.isFinite())return Put(t);var n,i=t.e,o=Ls(t.d),s=o.length;return e?(r&&(n=r-s)>0?o=o.charAt(0)+"."+o.slice(1)+Ey(n):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(t.e<0?"e":"e+")+t.e):i<0?(o="0."+Ey(-i-1)+o,r&&(n=r-s)>0&&(o+=Ey(n))):i>=s?(o+=Ey(i+1-s),r&&(n=r-i-1)>0&&(o=o+"."+Ey(n))):((n=i+1)<s&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(o+="."),o+=Ey(n))),o}function CH(t,e){var r=t[0];for(e*=Qt;r>=10;r/=10)e++;return e}function RH(t,e,r){if(e>fcr)throw dr=!0,r&&(t.precision=r),Error(Eut);return jt(new t(EH),e,1,!0)}function im(t,e,r){if(e>R1e)throw Error(Eut);return jt(new t(TH),e,r,!0)}function Cut(t){var e=t.length-1,r=e*Qt+1;if(e=t[e],e){for(;e%10==0;e/=10)r--;for(e=t[0];e>=10;e/=10)r++}return r}function Ey(t){for(var e="";t--;)e+="0";return e}function Nut(t,e,r,n){var i,o=new t(1),s=Math.ceil(n/Qt+4);for(dr=!1;;){if(r%2&&(o=o.times(e),xut(o.d,s)&&(i=!0)),r=ha(r/2),r===0){r=o.d.length-1,i&&o.d[r]===0&&++o.d[r];break}e=e.times(e),xut(e.d,s)}return dr=!0,o}function Sut(t){return t.d[t.d.length-1]&1}function Out(t,e,r){for(var n,i,o=new t(e[0]),s=0;++s<e.length;){if(i=new t(e[s]),!i.s){o=i;break}n=o.cmp(i),(n===r||n===0&&o.s===r)&&(o=i)}return o}function I1e(t,e){var r,n,i,o,s,a,c,l=0,u=0,d=0,p=t.constructor,f=p.rounding,h=p.precision;if(!t.d||!t.d[0]||t.e>17)return new p(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(e==null?(dr=!1,c=h):c=e,a=new p(.03125);t.e>-2;)t=t.times(a),d+=5;for(n=Math.log(Ko(2,d))/Math.LN10*2+5|0,c+=n,r=o=s=new p(1),p.precision=c;;){if(o=jt(o.times(t),c,1),r=r.times(++u),a=s.plus(Hn(o,r,c,1)),Ls(a.d).slice(0,c)===Ls(s.d).slice(0,c)){for(i=d;i--;)s=jt(s.times(s),c,1);if(e==null)if(l<3&&IO(s.d,c-n,f,l))p.precision=c+=10,r=o=a=new p(1),u=0,l++;else return jt(s,p.precision=h,f,dr=!0);else return p.precision=h,s}s=a}}function Ty(t,e){var r,n,i,o,s,a,c,l,u,d,p,f=1,h=10,m=t,g=m.d,y=m.constructor,v=y.rounding,S=y.precision;if(m.s<0||!g||!g[0]||!m.e&&g[0]==1&&g.length==1)return new y(g&&!g[0]?-1/0:m.s!=1?NaN:g?0:m);if(e==null?(dr=!1,u=S):u=e,y.precision=u+=h,r=Ls(g),n=r.charAt(0),Math.abs(o=m.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(t),r=Ls(m.d),n=r.charAt(0),f++;o=m.e,n>1?(m=new y("0."+r),o++):m=new y(n+"."+r.slice(1))}else return l=RH(y,u+2,S).times(o+""),m=Ty(new y(n+"."+r.slice(1)),u-h).plus(l),y.precision=S,e==null?jt(m,S,v,dr=!0):m;for(d=m,c=s=m=Hn(m.minus(1),m.plus(1),u,1),p=jt(m.times(m),u,1),i=3;;){if(s=jt(s.times(p),u,1),l=c.plus(Hn(s,new y(i),u,1)),Ls(l.d).slice(0,u)===Ls(c.d).slice(0,u))if(c=c.times(2),o!==0&&(c=c.plus(RH(y,u+2,S).times(o+""))),c=Hn(c,new y(f),u,1),e==null)if(IO(c.d,u-h,v,a))y.precision=u+=h,l=s=m=Hn(d.minus(1),d.plus(1),u,1),p=jt(m.times(m),u,1),i=a=1;else return jt(c,y.precision=S,v,dr=!0);else return y.precision=S,c;c=l,i+=2}}function Put(t){return String(t.s*t.s/0)}function AH(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;n++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(n,i),e){if(i-=n,t.e=r=r-n-1,t.d=[],n=(r+1)%Qt,r<0&&(n+=Qt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Qt;n<i;)t.d.push(+e.slice(n,n+=Qt));e=e.slice(n),n=Qt-e.length}else n-=i;for(;n--;)e+="0";t.d.push(+e),dr&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function hcr(t,e){var r,n,i,o,s,a,c,l,u;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),Iut.test(e))return AH(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(ucr.test(e))r=16,e=e.toLowerCase();else if(lcr.test(e))r=2;else if(dcr.test(e))r=8;else throw Error(Ry+e);for(o=e.search(/p/i),o>0?(c=+e.slice(o+1),e=e.substring(2,o)):e=e.slice(2),o=e.indexOf("."),s=o>=0,n=t.constructor,s&&(e=e.replace(".",""),a=e.length,o=a-o,i=Nut(n,new n(r),o,o*2)),l=wH(e,r,gp),u=l.length-1,o=u;l[o]===0;--o)l.pop();return o<0?new n(t.s*0):(t.e=CH(l,u),t.d=l,dr=!1,s&&(t=Hn(t,i,a*4)),c&&(t=t.times(Math.abs(c)<54?Ko(2,c):Lo.pow(2,c))),dr=!0,t)}function gcr(t,e){var r,n=e.d.length;if(n<3)return e.isZero()?e:FT(t,2,e,e);r=1.4*Math.sqrt(n),r=r>16?16:r|0,e=e.times(1/NH(5,r)),e=FT(t,2,e,e);for(var i,o=new t(5),s=new t(16),a=new t(20);r--;)i=e.times(e),e=e.times(o.plus(i.times(s.times(i).minus(a))));return e}function FT(t,e,r,n,i){var o,s,a,c,l=1,u=t.precision,d=Math.ceil(u/Qt);for(dr=!1,c=r.times(r),a=new t(n);;){if(s=Hn(a.times(c),new t(e++*e++),u,1),a=i?n.plus(s):n.minus(s),n=Hn(s.times(c),new t(e++*e++),u,1),s=a.plus(n),s.d[d]!==void 0){for(o=d;s.d[o]===a.d[o]&&o--;);if(o==-1)break}o=a,a=n,n=s,s=o,l++}return dr=!0,s.d.length=d+1,s}function NH(t,e){for(var r=t;--e;)r*=t;return r}function kut(t,e){var r,n=e.s<0,i=im(t,t.precision,1),o=i.times(.5);if(e=e.abs(),e.lte(o))return hg=n?4:1,e;if(r=e.divToInt(i),r.isZero())hg=n?3:2;else{if(e=e.minus(r.times(i)),e.lte(o))return hg=Sut(r)?n?2:3:n?4:1,e;hg=Sut(r)?n?1:4:n?3:2}return e.minus(i).abs()}function C1e(t,e,r,n){var i,o,s,a,c,l,u,d,p,f=t.constructor,h=r!==void 0;if(h?(Gc(r,1,Iy),n===void 0?n=f.rounding:Gc(n,0,8)):(r=f.precision,n=f.rounding),!t.isFinite())u=Put(t);else{for(u=om(t),s=u.indexOf("."),h?(i=2,e==16?r=r*4-3:e==8&&(r=r*3-2)):i=e,s>=0&&(u=u.replace(".",""),p=new f(1),p.e=u.length-s,p.d=wH(om(p),10,i),p.e=p.d.length),d=wH(u,10,i),o=c=d.length;d[--c]==0;)d.pop();if(!d[0])u=h?"0p+0":"0";else{if(s<0?o--:(t=new f(t),t.d=d,t.e=o,t=Hn(t,p,r,n,0,i),d=t.d,o=t.e,l=Aut),s=d[r],a=i/2,l=l||d[r+1]!==void 0,l=n<4?(s!==void 0||l)&&(n===0||n===(t.s<0?3:2)):s>a||s===a&&(n===4||l||n===6&&d[r-1]&1||n===(t.s<0?8:7)),d.length=r,l)for(;++d[--r]>i-1;)d[r]=0,r||(++o,d.unshift(1));for(c=d.length;!d[c-1];--c);for(s=0,u="";s<c;s++)u+=E1e.charAt(d[s]);if(h){if(c>1)if(e==16||e==8){for(s=e==16?4:3,--c;c%s;c++)u+="0";for(d=wH(u,i,e),c=d.length;!d[c-1];--c);for(s=1,u="1.";s<c;s++)u+=E1e.charAt(d[s])}else u=u.charAt(0)+"."+u.slice(1);u=u+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)u="0"+u;u="0."+u}else if(++o>c)for(o-=c;o--;)u+="0";else o<c&&(u=u.slice(0,o)+"."+u.slice(o))}u=(e==16?"0x":e==2?"0b":e==8?"0o":"")+u}return t.s<0?"-"+u:u}function xut(t,e){if(t.length>e)return t.length=e,!0}function ycr(t){return new this(t).abs()}function bcr(t){return new this(t).acos()}function vcr(t){return new this(t).acosh()}function _cr(t,e){return new this(t).plus(e)}function Scr(t){return new this(t).asin()}function xcr(t){return new this(t).asinh()}function wcr(t){return new this(t).atan()}function Acr(t){return new this(t).atanh()}function Ecr(t,e){t=new this(t),e=new this(e);var r,n=this.precision,i=this.rounding,o=n+4;return!t.s||!e.s?r=new this(NaN):!t.d&&!e.d?(r=im(this,o,1).times(e.s>0?.25:.75),r.s=t.s):!e.d||t.isZero()?(r=e.s<0?im(this,n,i):new this(0),r.s=t.s):!t.d||e.isZero()?(r=im(this,o,1).times(.5),r.s=t.s):e.s<0?(this.precision=o,this.rounding=1,r=this.atan(Hn(t,e,o,1)),e=im(this,o,1),this.precision=n,this.rounding=i,r=t.s<0?r.minus(e):r.plus(e)):r=this.atan(Hn(t,e,o,1)),r}function Tcr(t){return new this(t).cbrt()}function Rcr(t){return jt(t=new this(t),t.e+1,2)}function Icr(t,e,r){return new this(t).clamp(e,r)}function Ccr(t){if(!t||typeof t!="object")throw Error(IH+"Object expected");var e,r,n,i=t.defaults===!0,o=["precision",1,Iy,"rounding",0,8,"toExpNeg",-UT,0,"toExpPos",0,UT,"maxE",0,UT,"minE",-UT,0,"modulo",0,9];for(e=0;e<o.length;e+=3)if(r=o[e],i&&(this[r]=T1e[r]),(n=t[r])!==void 0)if(ha(n)===n&&n>=o[e+1]&&n<=o[e+2])this[r]=n;else throw Error(Ry+r+": "+n);if(r="crypto",i&&(this[r]=T1e[r]),(n=t[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(Tut);else this[r]=!1;else throw Error(Ry+r+": "+n);return this}function Ncr(t){return new this(t).cos()}function Ocr(t){return new this(t).cosh()}function Dut(t){var e,r,n;function i(o){var s,a,c,l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,wut(o)){l.s=o.s,dr?!o.d||o.e>i.maxE?(l.e=NaN,l.d=null):o.e<i.minE?(l.e=0,l.d=[0]):(l.e=o.e,l.d=o.d.slice()):(l.e=o.e,l.d=o.d?o.d.slice():o.d);return}if(c=typeof o,c==="number"){if(o===0){l.s=1/o<0?-1:1,l.e=0,l.d=[0];return}if(o<0?(o=-o,l.s=-1):l.s=1,o===~~o&&o<1e7){for(s=0,a=o;a>=10;a/=10)s++;dr?s>i.maxE?(l.e=NaN,l.d=null):s<i.minE?(l.e=0,l.d=[0]):(l.e=s,l.d=[o]):(l.e=s,l.d=[o]);return}if(o*0!==0){o||(l.s=NaN),l.e=NaN,l.d=null;return}return AH(l,o.toString())}if(c==="string")return(a=o.charCodeAt(0))===45?(o=o.slice(1),l.s=-1):(a===43&&(o=o.slice(1)),l.s=1),Iut.test(o)?AH(l,o):hcr(l,o);if(c==="bigint")return o<0?(o=-o,l.s=-1):l.s=1,AH(l,o.toString());throw Error(Ry+o)}if(i.prototype=$e,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=Ccr,i.clone=Dut,i.isDecimal=wut,i.abs=ycr,i.acos=bcr,i.acosh=vcr,i.add=_cr,i.asin=Scr,i.asinh=xcr,i.atan=wcr,i.atanh=Acr,i.atan2=Ecr,i.cbrt=Tcr,i.ceil=Rcr,i.clamp=Icr,i.cos=Ncr,i.cosh=Ocr,i.div=Pcr,i.exp=kcr,i.floor=Dcr,i.hypot=Mcr,i.ln=Lcr,i.log=Bcr,i.log10=Ucr,i.log2=$cr,i.max=Fcr,i.min=zcr,i.mod=Hcr,i.mul=Vcr,i.pow=Gcr,i.random=jcr,i.round=qcr,i.sign=Wcr,i.sin=Jcr,i.sinh=Kcr,i.sqrt=Qcr,i.sub=Xcr,i.sum=Ycr,i.tan=Zcr,i.tanh=elr,i.trunc=tlr,t===void 0&&(t={}),t&&t.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function Pcr(t,e){return new this(t).div(e)}function kcr(t){return new this(t).exp()}function Dcr(t){return jt(t=new this(t),t.e+1,3)}function Mcr(){var t,e,r=new this(0);for(dr=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)r.d&&(r=r.plus(e.times(e)));else{if(e.s)return dr=!0,new this(1/0);r=e}return dr=!0,r.sqrt()}function wut(t){return t instanceof Lo||t&&t.toStringTag===Rut||!1}function Lcr(t){return new this(t).ln()}function Bcr(t,e){return new this(t).log(e)}function $cr(t){return new this(t).log(2)}function Ucr(t){return new this(t).log(10)}function Fcr(){return Out(this,arguments,-1)}function zcr(){return Out(this,arguments,1)}function Hcr(t,e){return new this(t).mod(e)}function Vcr(t,e){return new this(t).mul(e)}function Gcr(t,e){return new this(t).pow(e)}function jcr(t){var e,r,n,i,o=0,s=new this(1),a=[];if(t===void 0?t=this.precision:Gc(t,1,Iy),n=Math.ceil(t/Qt),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));o<n;)i=e[o],i>=429e7?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:a[o++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);o<n;)i=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((e[o+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,o):(a.push(i%1e7),o+=4);o=n/4}else throw Error(Tut);else for(;o<n;)a[o++]=Math.random()*1e7|0;for(n=a[--o],t%=Qt,n&&t&&(i=Ko(10,Qt-t),a[o]=(n/i|0)*i);a[o]===0;o--)a.pop();if(o<0)r=0,a=[0];else{for(r=-1;a[0]===0;r-=Qt)a.shift();for(n=1,i=a[0];i>=10;i/=10)n++;n<Qt&&(r-=Qt-n)}return s.e=r,s.d=a,s}function qcr(t){return jt(t=new this(t),t.e+1,this.rounding)}function Wcr(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function Jcr(t){return new this(t).sin()}function Kcr(t){return new this(t).sinh()}function Qcr(t){return new this(t).sqrt()}function Xcr(t,e){return new this(t).sub(e)}function Ycr(){var t=0,e=arguments,r=new this(e[t]);for(dr=!1;r.s&&++t<e.length;)r=r.plus(e[t]);return dr=!0,jt(r,this.precision,this.rounding)}function Zcr(t){return new this(t).tan()}function elr(t){return new this(t).tanh()}function tlr(t){return jt(t=new this(t),t.e+1,1)}$e[Symbol.for("nodejs.util.inspect.custom")]=$e.toString;$e[Symbol.toStringTag]="Decimal";var Lo=$e.constructor=Dut(T1e);EH=new Lo(EH);TH=new Lo(TH);function zT(t){let e=t.toUpperCase();return si.find(r=>r.symbol.toUpperCase()===e)}oU();var rlr="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",nlr="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",Mut=10000000n,OH=5;function N1e(){let t=tn.SOLANA_RPC_URL||"";return t.includes("mainnet")||t.includes("helius")?hv:tn.NODE_ENV==="production"?hv:QFe}function Lut(){let t=tn.SOLANA_RPC_URL||"https://api.devnet.solana.com";return V$(t)}async function ilr(t,e){let r=Epe(),[n]=await BYe({programAddress:Wu(nlr),seeds:[r.encode(Wu(t)),r.encode(Wu(rlr)),r.encode(Wu(e))]});return n}async function But(t){let e=new Lo(t.inputAmountRaw).div(new Lo(10).pow(t.inputDecimals)),r=new Lo(t.outputAmountRaw).div(new Lo(10).pow(t.outputDecimals)),n;t.side==="buy"?n=e.div(r).toNumber():n=r.div(e).toNumber();let i=0;try{i=(await xH([t.mintAddress]))[t.mintAddress]?.usdPrice??0}catch{return console.warn(`[SlippageGuard] Could not fetch reference price for ${t.symbol}, skipping slippage check`),{ok:!0,slippagePercent:0,refPrice:0,execPrice:n}}if(i<=0)return console.warn(`[SlippageGuard] No reference price for ${t.symbol}, skipping slippage check`),{ok:!0,slippagePercent:0,refPrice:0,execPrice:n};let o;t.side==="buy"?o=(n-i)/i*100:o=(i-n)/i*100;let s=o<=OH;return s?console.log(`[SlippageGuard] ${t.side.toUpperCase()} ${t.symbol}: slippage ${o.toFixed(2)}% OK (exec=$${n.toFixed(4)} vs ref=$${i.toFixed(4)})`):console.error(`[SlippageGuard] REJECTED ${t.side.toUpperCase()} ${t.symbol}: slippage ${o.toFixed(2)}% exceeds ${OH}% max (exec=$${n.toFixed(4)} vs ref=$${i.toFixed(4)})`),{ok:s,slippagePercent:o,refPrice:i,execPrice:n}}var olr={"claude-value-investor":{publicEnv:"ANTHROPIC_WALLET_PUBLIC",privateEnv:"ANTHROPIC_WALLET_PRIVATE"},"gpt-momentum-trader":{publicEnv:"OPENAI_WALLET_PUBLIC",privateEnv:"OPENAI_WALLET_PRIVATE"},"grok-contrarian":{publicEnv:"GROK_WALLET_PUBLIC",privateEnv:"GROK_WALLET_PRIVATE"}};async function $ut(t){let e=olr[t];if(e){let n=process.env[e.publicEnv],i=process.env[e.privateEnv];if(n&&i){let o=TO.fromSecretKey(f_.decode(i));return{publicKey:n,keypair:o}}}let r=await Ut.select().from(i3).where(rr(i3.agentId,t)).limit(1);if(r.length===0)throw new Error(`wallet_not_found: no wallet for agent ${t}. Set ${e?.publicEnv??"???"}/${e?.privateEnv??"???"} in .env`);return{publicKey:r[0].publicKey,keypair:null}}async function Uut(t,e){return e.keypair?_ut(t,e.keypair):vut(t,e.publicKey)}async function Fut(t){return(await Lut().getBalance(Wu(t)).send()).value}async function slr(t){let e=Lut();try{let r=N1e(),n=await ilr(t,r),i=await e.getTokenAccountBalance(Wu(n)).send();return BigInt(i.value.amount)}catch{return 0n}}async function zut(t){let e=zT(t.stockSymbol);if(!e)throw new Error(`stock_not_found: ${t.stockSymbol} is not a supported stock`);let r=await $ut(t.agentId),n=new Lo(t.usdcAmount);if(n.lte(0))throw new Error("invalid_amount: usdcAmount must be > 0");if(n.decimalPlaces()>6)throw new Error("invalid_amount: usdcAmount has more than 6 decimal places");let i=n.mul(1e6).toFixed(0),[o,s]=await Promise.all([Fut(r.publicKey),slr(r.publicKey)]);if(o<Mut)throw new Error(`insufficient_sol_for_fees: need at least 0.01 SOL, have ${new Lo(o.toString()).div(1e9).toFixed(9)} SOL`);let a=BigInt(i);if(s<a)throw new Error(`insufficient_usdc_balance: need ${n.toFixed(6)} USDC, have ${new Lo(s.toString()).div(1e6).toFixed(6)} USDC`);let c=await w1e({inputMint:N1e(),outputMint:e.mintAddress,amount:i,taker:r.publicKey}),l=await But({mintAddress:e.mintAddress,symbol:e.symbol,side:"buy",inputAmountRaw:c.inAmount,outputAmountRaw:c.outAmount,inputDecimals:6,outputDecimals:e.decimals});if(!l.ok)throw new Error(`excessive_slippage: ${e.symbol} BUY slippage ${l.slippagePercent.toFixed(1)}% exceeds ${OH}% max (exec=$${l.execPrice.toFixed(2)} vs ref=$${l.refPrice.toFixed(2)}). Token likely has insufficient liquidity.`);let u=await Uut(c.transaction,r),d=await A1e({signedTransaction:u,requestId:c.requestId}),p=new Lo(d.outputAmountResult||c.outAmount).div(new Lo(10).pow(e.decimals)),f=new Lo(t.usdcAmount),h=f.div(p),[m]=await Ut.insert(Kn).values({agentId:t.agentId,side:"buy",stockMintAddress:e.mintAddress,stockSymbol:e.symbol,stockQuantity:p.toFixed(9),usdcAmount:f.toFixed(6),pricePerToken:h.toFixed(6),txSignature:d.signature,jupiterRouteInfo:{requestId:c.requestId,swapType:c.swapType,slippageBps:c.slippageBps,inAmount:c.inAmount,outAmount:c.outAmount,inputAmountResult:d.inputAmountResult,outputAmountResult:d.outputAmountResult},status:"confirmed"}).returning();return await Ut.insert(Tr).values({agentId:t.agentId,mintAddress:e.mintAddress,symbol:e.symbol,quantity:p.toFixed(9),averageCostBasis:h.toFixed(6)}).onConflictDoUpdate({target:[Tr.agentId,Tr.mintAddress],set:{quantity:re`(${Tr.quantity}::numeric + ${p.toFixed(9)}::numeric)::numeric(20,9)`,averageCostBasis:re`(
          (${Tr.quantity}::numeric * ${Tr.averageCostBasis}::numeric + ${p.toFixed(9)}::numeric * ${h.toFixed(6)}::numeric)
          / (${Tr.quantity}::numeric + ${p.toFixed(9)}::numeric)
        )::numeric(20,6)`,updatedAt:new Date}}),{tradeId:m.id,txSignature:d.signature,status:"confirmed",side:"buy",stockSymbol:e.symbol,stockQuantity:p.toFixed(9),usdcAmount:f.toFixed(6),pricePerToken:h.toFixed(6)}}async function Hut(t){let e=zT(t.stockSymbol);if(!e)throw new Error(`stock_not_found: ${t.stockSymbol} is not a supported stock`);let r=await $ut(t.agentId);if(!t.stockQuantity)throw new Error("invalid_amount: stockQuantity is required for sell orders");let n=new Lo(t.stockQuantity);if(n.lte(0))throw new Error("invalid_amount: stockQuantity must be > 0");let i=await Ut.select().from(Tr).where(zo(rr(Tr.agentId,t.agentId),rr(Tr.mintAddress,e.mintAddress))).limit(1);if(i.length===0)throw new Error(`insufficient_stock_balance: no position in ${e.symbol}`);let o=i[0],s=new Lo(o.quantity);if(s.lt(n))throw new Error(`insufficient_stock_balance: want to sell ${n.toFixed(9)} ${e.symbol} but only hold ${s.toFixed(9)}`);let a=n.mul(new Lo(10).pow(e.decimals)).toFixed(0),c=await w1e({inputMint:e.mintAddress,outputMint:N1e(),amount:a,taker:r.publicKey}),l=await Fut(r.publicKey);if(l<Mut)throw new Error(`insufficient_sol_for_fees: need at least 0.01 SOL, have ${new Lo(l.toString()).div(1e9).toFixed(9)} SOL`);let u=await But({mintAddress:e.mintAddress,symbol:e.symbol,side:"sell",inputAmountRaw:c.inAmount,outputAmountRaw:c.outAmount,inputDecimals:e.decimals,outputDecimals:6});if(!u.ok)throw new Error(`excessive_slippage: ${e.symbol} SELL slippage ${u.slippagePercent.toFixed(1)}% exceeds ${OH}% max (exec=$${u.execPrice.toFixed(2)} vs ref=$${u.refPrice.toFixed(2)}). Token likely has insufficient liquidity.`);let d=await Uut(c.transaction,r),p=await A1e({signedTransaction:d,requestId:c.requestId}),f=new Lo(p.outputAmountResult||c.outAmount).div(1e6),h=f.div(n),[m]=await Ut.insert(Kn).values({agentId:t.agentId,side:"sell",stockMintAddress:e.mintAddress,stockSymbol:e.symbol,stockQuantity:n.toFixed(9),usdcAmount:f.toFixed(6),pricePerToken:h.toFixed(6),txSignature:p.signature,jupiterRouteInfo:{requestId:c.requestId,swapType:c.swapType,slippageBps:c.slippageBps,inAmount:c.inAmount,outAmount:c.outAmount,inputAmountResult:p.inputAmountResult,outputAmountResult:p.outputAmountResult},status:"confirmed"}).returning(),g=s.minus(n);return g.lte(0)?await Ut.delete(Tr).where(rr(Tr.id,o.id)):await Ut.update(Tr).set({quantity:g.toFixed(9),updatedAt:new Date}).where(rr(Tr.id,o.id)),{tradeId:m.id,txSignature:p.signature,status:"confirmed",side:"sell",stockSymbol:e.symbol,stockQuantity:n.toFixed(9),usdcAmount:f.toFixed(6),pricePerToken:h.toFixed(6)}}var alr=["trade_executed","round_started","round_completed","price_update","agent_decision","whale_alert","signal_fired","debate_started","prediction_created","sentiment_shift","price_deviation","order_triggered","trade_outcome_recorded"];function clr(){let t=Date.now().toString(36),e=Math.random().toString(36).slice(2,8);return`evt_${t}_${e}`}function llr(){return`sub_${Math.random().toString(36).slice(2,10)}`}var O1e=class t{buffer=[];subscribers=new Map;emissionTimestamps=[];totalEmitted=0;lastEventAt=null;startedAt=Date.now();emit(e,r){let n={id:clr(),type:e,timestamp:new Date().toISOString(),data:r};this.buffer.push(n),this.buffer.length>100&&this.buffer.shift();let i=Date.now();this.totalEmitted++,this.lastEventAt=n.timestamp,this.emissionTimestamps.push(i);let o=i-6e4;for(;this.emissionTimestamps.length>0&&this.emissionTimestamps[0]<o;)this.emissionTimestamps.shift();for(let s of this.subscribers.values())if(!(s.typeFilter&&!s.typeFilter.includes(e)))try{s.callback(n)}catch(a){console.error(`[EventBus] Subscriber ${s.id} threw:`,a)}return n}subscribe(e,r){let n=llr();return this.subscribers.set(n,{id:n,callback:e,typeFilter:r??null,createdAt:Date.now()}),n}unsubscribe(e){return this.subscribers.delete(e)}getRecentEvents(e,r,n=100){let i=[...this.buffer];if(e){let o=new Date(e).getTime();Number.isNaN(o)||(i=i.filter(s=>new Date(s.timestamp).getTime()>o))}if(r&&r.length>0){let o=new Set(r);i=i.filter(s=>o.has(s.type))}return i.reverse().slice(0,n)}getLatestEvents(e=10){return[...this.buffer].reverse().slice(0,e)}getStats(){let e=Date.now(),r=e-6e4,n=this.buffer.filter(o=>new Date(o.timestamp).getTime()>r),i={};for(let o of n)i[o.type]=(i[o.type]??0)+1;for(;this.emissionTimestamps.length>0&&this.emissionTimestamps[0]<r;)this.emissionTimestamps.shift();return{activeConnections:this.subscribers.size,totalEventsEmitted:this.totalEmitted,eventsLastMinute:this.emissionTimestamps.length,eventsByType:i,bufferSize:this.buffer.length,bufferCapacity:100,lastEventAt:this.lastEventAt,uptimeMs:e-this.startedAt}}static formatSSE(e){let r=[];r.push(`id: ${e.id}`),r.push(`event: ${e.type}`);let n=JSON.stringify({...e.data,_meta:{eventId:e.id,type:e.type,timestamp:e.timestamp}});return r.push(`data: ${n}`),r.join(`
`)+`

`}static formatHeartbeat(){return`:heartbeat ${new Date().toISOString()}

`}static getChannelDescriptions(){return[{type:"trade_executed",description:"Fired when any agent executes a buy or sell trade"},{type:"round_started",description:"Fired when a new automated trading round begins"},{type:"round_completed",description:"Fired when a trading round finishes with all agent results"},{type:"price_update",description:"Fired when market prices are refreshed from Jupiter"},{type:"agent_decision",description:"Fired for each individual agent decision with full reasoning"},{type:"whale_alert",description:"Fired when a large position change or conviction spike is detected"},{type:"signal_fired",description:"Fired when a technical indicator triggers a signal (RSI, MACD, etc.)"},{type:"debate_started",description:"Fired when agents begin a structured debate about a stock"},{type:"prediction_created",description:"Fired when an agent publishes a new price prediction"},{type:"sentiment_shift",description:"Fired when overall market sentiment changes direction"}]}static isValidEventType(e){return alr.includes(e)}static parseTypeFilter(e){return e.split(",").map(r=>r.trim()).filter(r=>t.isValidEventType(r))}},P1e=new O1e;Ci();import{createHmac as ulr,randomBytes as jut}from"crypto";var k1e=3,dlr=60,plr=1e4,Vut=200,flr=500,mlr=new Map,D1e=[],M1e=[],Gut={},hlr=0,glr=0,ylr=0,PH=new Map;function L1e(t,e,r){let n={id:`evt_${Date.now()}_${jut(4).toString("hex")}`,type:t,timestamp:new Date().toISOString(),data:e,metadata:{...r,severity:r.severity??vlr(t)}};D1e.unshift(n),D1e.length>Vut&&(D1e.length=Vut),Gut[t]=(Gut[t]??0)+1;let i=blr(n);i.length>0&&console.log(`[AlertWebhooks] Emitting ${t} event ${n.id} to ${i.length} subscribers`);for(let o of i)Kut(o,n).catch(s=>{console.error(`[AlertWebhooks] Delivery failed for ${o.id}: ${He(s)}`)});return n}function qut(t){return L1e("trade_executed",{agentId:t.agentId,agentName:t.agentName,action:t.action,symbol:t.symbol,quantity:t.quantity,confidence:t.confidence,reasoning:t.reasoning},{roundId:t.roundId,agentId:t.agentId,symbol:t.symbol})}function Wut(t){return L1e("round_completed",{results:t.results,agentCount:t.results.length,errorCount:t.errors.length,circuitBreakerActivations:t.circuitBreakerActivations},{roundId:t.roundId,severity:t.errors.length>0?"warning":"info"})}function Jut(t){return L1e("agent_disagreement",t,{roundId:t.roundId,symbol:t.symbol})}async function Kut(t,e,r=1){if(!_lr(t.id)){console.warn(`[AlertWebhooks] Rate limited: ${t.id} (${t.url})`);return}let n={id:`dlv_${Date.now()}_${jut(4).toString("hex")}`,subscriptionId:t.id,eventId:e.id,url:t.url,status:"pending",attempt:r,maxAttempts:k1e,createdAt:new Date().toISOString()},i=JSON.stringify({event:e.type,id:e.id,timestamp:e.timestamp,data:e.data,metadata:e.metadata}),o=ulr("sha256",t.secret).update(i).digest("hex");try{let s=await fetch(t.url,{method:"POST",headers:{"Content-Type":"application/json","X-MoltApp-Signature":`sha256=${o}`,"X-MoltApp-Event":e.type,"X-MoltApp-Delivery-Id":n.id,"X-MoltApp-Timestamp":e.timestamp,"User-Agent":"MoltApp-Webhooks/1.0"},body:i,signal:AbortSignal.timeout(plr)});if(n.httpStatus=s.status,hlr++,s.ok)n.status="delivered",n.deliveredAt=new Date().toISOString(),t.deliveryCount++,t.lastDeliveryAt=n.deliveredAt,glr++,Slr(t.id);else throw new Error(`HTTP ${s.status}: ${await s.text().catch(()=>"no body")}`)}catch(s){let a=He(s);if(n.error=a,n.status="failed",ylr++,r<k1e){let c=Math.pow(2,r)*1e3+Math.random()*1e3;return console.warn(`[AlertWebhooks] Delivery failed for ${t.id}, retrying in ${Math.round(c)}ms (attempt ${r}/${k1e}): ${a}`),await new Promise(l=>setTimeout(l,c)),Kut(t,e,r+1)}n.status="dead_letter",M1e.push(n),M1e.length>flr&&M1e.shift(),t.failureCount++,t.lastFailureAt=new Date().toISOString(),t.failureCount>=10&&(t.active=!1,console.error(`[AlertWebhooks] Auto-deactivated subscription ${t.id} after ${t.failureCount} failures`)),console.error(`[AlertWebhooks] Dead letter for ${t.id}: ${a}`)}}function blr(t){let e=[];for(let r of mlr.values())r.active&&r.events.includes(t.type)&&(r.agentFilter&&r.agentFilter.length>0&&t.metadata.agentId&&!r.agentFilter.includes(t.metadata.agentId)||r.symbolFilter&&r.symbolFilter.length>0&&t.metadata.symbol&&!r.symbolFilter.includes(t.metadata.symbol)||e.push(r));return e}function vlr(t){switch(t){case"circuit_breaker_triggered":return"warning";case"whale_move":return"warning";case"agent_disagreement":return"info";case"new_high":return"info";default:return"info"}}function _lr(t){let r=Date.now()-6e4,n=PH.get(t)??[];return n=n.filter(i=>i>r),PH.set(t,n),n.length<dlr}function Slr(t){let e=PH.get(t)??[];e.push(Date.now()),PH.set(t,e)}tdt();DH();Ci();var Clr=0,Nlr=0,Olr=0,Plr=0,klr=0,rdt=0,BH=[],Dlr=null,ndt={},idt={},B1e=[],odt=100,sdt=500,adt=0;function Cy(){return process.env.TRADING_MODE?.toLowerCase()==="live"?"live":"paper"}async function ldt(t){let e=Date.now(),r=t.modeOverride??Cy(),n={success:!1,mode:r,agentId:t.agentId,agentName:t.agentName,decision:t.decision,durationMs:0};try{if(t.decision.action==="hold")return n.success=!0,n.durationMs=Date.now()-e,await PO(t.agentId,t.roundId,"executed",void 0,void 0),$1e(n),n;if(!zT(t.decision.symbol))return n.error=`Stock not found: ${t.decision.symbol}`,n.errorCode="stock_not_found",n.durationMs=Date.now()-e,await PO(t.agentId,t.roundId,"failed",void 0,n.error),$1e(n),n;if(console.log(`[TradeExecutor] Executing ${t.decision.action} for ${t.agentName}: ${t.decision.quantity} ${t.decision.symbol} (mode: ${r}, round: ${t.roundId})`),r==="live")n.tradeResult=await Mlr(t),n.success=!0,Nlr++,await PO(t.agentId,t.roundId,"executed",n.tradeResult.txSignature,void 0),rdt+=parseFloat(n.tradeResult.usdcAmount),P1e.emit("trade_executed",{agentId:t.agentId,agentName:t.agentName,symbol:t.decision.symbol,action:t.decision.action,quantity:t.decision.quantity,price:parseFloat(n.tradeResult.pricePerToken),confidence:t.decision.confidence,reasoning:t.decision.reasoning}),qut({agentId:t.agentId,agentName:t.agentName,action:t.decision.action,symbol:t.decision.symbol,quantity:t.decision.quantity,confidence:t.decision.confidence,reasoning:t.decision.reasoning,roundId:t.roundId}),CO("live_trade_executed",`${t.agentName} ${t.decision.action} ${t.decision.quantity} ${t.decision.symbol} @ ${n.tradeResult.pricePerToken}`,t.agentId,t.roundId,{txSignature:n.tradeResult.txSignature,usdcAmount:n.tradeResult.usdcAmount,stockQuantity:n.tradeResult.stockQuantity});else{let o=await Llr(t);n.paperTradeId=o.paperTradeId,n.success=!0,Olr++,await PO(t.agentId,t.roundId,"executed_paper",o.paperTradeId,void 0),rdt+=o.usdcAmount,P1e.emit("trade_executed",{agentId:t.agentId,agentName:t.agentName,symbol:t.decision.symbol,action:t.decision.action,quantity:t.decision.quantity,price:o.pricePerToken,confidence:t.decision.confidence,reasoning:t.decision.reasoning}),CO("paper_trade_executed",`${t.agentName} PAPER ${t.decision.action} ${t.decision.quantity} ${t.decision.symbol} @ ${o.pricePerToken.toFixed(6)}`,t.agentId,t.roundId,{paperTradeId:o.paperTradeId})}Plr++}catch(i){let o=He(i),s=Ulr(o);n.error=o,n.errorCode=s,klr++,console.error(`[TradeExecutor] Execution failed for ${t.agentName}: ${o}`),await PO(t.agentId,t.roundId,"failed",void 0,o);let a=edt({agentId:t.agentId,side:t.decision.action,symbol:t.decision.symbol,quantity:String(t.decision.quantity),error:o,errorCode:s,roundId:t.roundId});n.recoveryId=a.recoveryId,NO(`Trade execution failed: ${t.decision.action} ${t.decision.quantity} ${t.decision.symbol}`,t.agentId,o,t.roundId,{errorCode:s,recoveryId:a.recoveryId})}return n.durationMs=Date.now()-e,Clr++,$1e(n),n}async function Mlr(t){if(t.decision.action==="buy")return await zut({agentId:t.agentId,stockSymbol:t.decision.symbol,usdcAmount:String(t.decision.quantity)});if(t.decision.action==="sell")return await Hut({agentId:t.agentId,stockSymbol:t.decision.symbol,usdcAmount:"0",stockQuantity:String(t.decision.quantity)});throw new Error(`invalid_action: ${t.decision.action}`)}async function Llr(t){let e=zT(t.decision.symbol);if(!e)throw new Error(`stock_not_found: ${t.decision.symbol}`);let r=await $lr(e.mintAddress,e.symbol);adt++;let n=`paper_${Date.now()}_${adt.toString(36)}`,i,o;if(t.decision.action==="buy")i=t.decision.quantity,o=i/r,await Ut.insert(Kn).values({agentId:t.agentId,side:"buy",stockMintAddress:e.mintAddress,stockSymbol:e.symbol,stockQuantity:o.toFixed(9),usdcAmount:i.toFixed(6),pricePerToken:r.toFixed(6),txSignature:n,jupiterRouteInfo:{mode:"paper",roundId:t.roundId,confidence:t.decision.confidence},status:"confirmed"}),await Ut.insert(Tr).values({agentId:t.agentId,mintAddress:e.mintAddress,symbol:e.symbol,quantity:o.toFixed(9),averageCostBasis:r.toFixed(6)}).onConflictDoUpdate({target:[Tr.agentId,Tr.mintAddress],set:{quantity:re`(${Tr.quantity}::numeric + ${o.toFixed(9)}::numeric)::numeric(20,9)`,averageCostBasis:re`(
            (${Tr.quantity}::numeric * ${Tr.averageCostBasis}::numeric + ${o.toFixed(9)}::numeric * ${r.toFixed(6)}::numeric)
            / NULLIF(${Tr.quantity}::numeric + ${o.toFixed(9)}::numeric, 0)
          )::numeric(20,6)`,updatedAt:new Date}});else if(t.decision.action==="sell"){o=t.decision.quantity,i=o*r;let s=await Ut.select().from(Tr).where(zo(rr(Tr.agentId,t.agentId),rr(Tr.mintAddress,e.mintAddress))).limit(1);if(s.length===0)throw new Error(`insufficient_stock_balance: no position in ${e.symbol}`);let a=parseFloat(s[0].quantity);a<o&&(o=a,i=o*r),await Ut.insert(Kn).values({agentId:t.agentId,side:"sell",stockMintAddress:e.mintAddress,stockSymbol:e.symbol,stockQuantity:o.toFixed(9),usdcAmount:i.toFixed(6),pricePerToken:r.toFixed(6),txSignature:n,jupiterRouteInfo:{mode:"paper",roundId:t.roundId,confidence:t.decision.confidence},status:"confirmed"});let c=a-o;c<=1e-9?await Ut.delete(Tr).where(rr(Tr.id,s[0].id)):await Ut.update(Tr).set({quantity:c.toFixed(9),updatedAt:new Date}).where(rr(Tr.id,s[0].id))}else throw new Error(`invalid_action: ${t.decision.action}`);return{paperTradeId:n,pricePerToken:r,usdcAmount:i,stockQuantity:o}}var cdt=new Map,Blr=5e3;async function $lr(t,e){let r=cdt.get(t);if(r&&Date.now()-r.fetchedAt<Blr)return r.price;try{let s=process.env.JUPITER_API_KEY,a={};s&&(a["x-api-key"]=s);let c=await fetch(`https://api.jup.ag/price/v3?ids=${t}`,{headers:a,signal:AbortSignal.timeout(5e3)});if(c.ok){let u=(await c.json()).data?.[t];if(u?.price){let d=parseFloat(u.price);return cdt.set(t,{price:d,fetchedAt:Date.now()}),d}}}catch{}let i={AAPLx:178.5,AMZNx:185.2,GOOGLx:142.8,METAx:505.3,MSFTx:415.6,NVDAx:890.5,TSLAx:245.8,SPYx:502.1,QQQx:435.7,COINx:205.4,MSTRx:1685,HOODx:22.8,NFLXx:628.9,PLTRx:24.5,GMEx:17.8}[e]??100,o=1+(Math.random()-.5)*.02;return ne(i*o)}async function PO(t,e,r,n,i){try{let o=await Ut.select().from(Ac).where(zo(rr(Ac.agentId,t),rr(Ac.roundId,e))).limit(1);if(o.length>0){let s={executed:r};n&&(s.txSignature=n),i&&(s.executionError=i),await Ut.update(Ac).set(s).where(rr(Ac.id,o[0].id))}}catch(o){console.warn(`[TradeExecutor] Failed to update decision status: ${He(o)}`)}}function $1e(t){let e=ndt[t.agentId]??{total:0,success:0,failed:0};if(e.total++,t.success?e.success++:e.failed++,ndt[t.agentId]=e,t.decision.action!=="hold"){let r=idt[t.decision.symbol]??{buys:0,sells:0,volumeUSDC:0};t.decision.action==="buy"?r.buys++:r.sells++,t.tradeResult&&(r.volumeUSDC+=parseFloat(t.tradeResult.usdcAmount)),idt[t.decision.symbol]=r}BH.push(t.durationMs),BH.length>sdt&&(BH=BH.slice(-sdt)),B1e.unshift(t),B1e.length>odt&&(B1e.length=odt),Dlr=new Date().toISOString()}function Ulr(t){let e=[[/insufficient_usdc_balance/,"insufficient_usdc_balance"],[/insufficient_sol_for_fees/,"insufficient_sol_for_fees"],[/insufficient_stock_balance/,"insufficient_stock_balance"],[/stock_not_found/,"stock_not_found"],[/wallet_not_found/,"wallet_not_found"],[/invalid_amount/,"invalid_amount"],[/jupiter_order_failed/,"jupiter_order_failed"],[/jupiter_execute_failed/,"jupiter_execute_failed"],[/timeout/i,"rpc_timeout"],[/rate.?limit/i,"rate_limited"],[/network/i,"network_error"]];for(let[r,n]of e)if(r.test(t))return n;return"unknown_error"}D$();Ci();var U1e=null,Flr=0,zlr=0,ddt=0,Hlr=null,Vlr=process.env.TRADING_ROUNDS_TABLE??"moltapp-trading-rounds",pdt=process.env.AGENT_STATE_TABLE??"moltapp-agent-state",fdt=2160*60*60;function z1e(){return U1e||(U1e=new qo({region:process.env.AWS_REGION??"us-east-1"})),U1e}function mdt(){return!!(process.env.TRADING_ROUNDS_TABLE||process.env.AWS_LAMBDA_FUNCTION_NAME)}async function hdt(t){if(!mdt())return{success:!0};try{let e=z1e(),r=t.results.map(c=>({agentId:c.agentId,agentName:c.agentName,action:c.decision.action,symbol:c.decision.symbol,quantity:c.decision.quantity,reasoning:c.decision.reasoning,confidence:c.decision.confidence,executed:c.executed,executionError:c.executionError,txSignature:c.executionDetails?.txSignature,filledPrice:c.executionDetails?.filledPrice,usdcAmount:c.executionDetails?.usdcAmount})),n=Klr(t.results),i=Qlr(t.results,t.errors),o=Math.floor(Date.now()/1e3)+fdt,s={roundId:t.roundId,timestamp:t.timestamp,durationMs:t.durationMs,tradingMode:t.tradingMode,results:r,errors:t.errors,circuitBreakerActivations:t.circuitBreakerActivations.length,lockSkipped:t.lockSkipped,consensus:n,summary:i,meetingOfMinds:t.meetingOfMinds,ttl:o};await e.send(new y1({TableName:Vlr,Item:qlr(s)})),Flr++;let a=t.results.map(async c=>{let l=t.portfolioSnapshots?.get(c.agentId);await Glr({agentId:c.agentId,result:c,roundId:t.roundId,timestamp:t.timestamp,portfolio:l})});return await Promise.allSettled(a),Hlr=new Date().toISOString(),{success:!0}}catch(e){ddt++;let r=He(e);return console.error(`[DynamoPersister] Failed to persist round: ${r}`),{success:!1,error:r}}}async function Glr(t){try{let e=z1e(),r=await jlr(t.agentId),n=(r?.totalDecisions??0)+1,i=(r?.totalTrades??0)+(t.result.decision.action!=="hold"&&t.result.executed?1:0),o=t.result.decision.action==="hold"?(r?.consecutiveHolds??0)+1:0,s=t.result.executionError?(r?.consecutiveErrors??0)+1:0,a=Math.floor(Date.now()/1e3)+fdt,c={agentId:t.agentId,status:s>=3?"error":"active",lastTradeTimestamp:t.timestamp,lastAction:t.result.decision.action,lastSymbol:t.result.decision.symbol,lastConfidence:t.result.decision.confidence,totalDecisions:n,totalTrades:i,consecutiveHolds:o,consecutiveErrors:s,lastRoundId:t.roundId,portfolioValue:t.portfolio?.value??r?.portfolioValue??1e4,cashBalance:t.portfolio?.cash??r?.cashBalance??1e4,positionsCount:t.portfolio?.positionsCount??r?.positionsCount??0,totalPnlPercent:t.portfolio?.pnlPercent??r?.totalPnlPercent??0,updatedAt:t.timestamp,ttl:a};await e.send(new y1({TableName:pdt,Item:Wlr(c)})),zlr++}catch(e){ddt++,console.warn(`[DynamoPersister] Failed to persist agent state for ${t.agentId}: ${He(e)}`)}}async function jlr(t){if(!mdt())return null;try{let r=await z1e().send(new r_({TableName:pdt,Key:{agentId:{S:t}}}));return r.Item?Jlr(r.Item):null}catch(e){return console.error(`[DynamoPersister] Failed to get agent state: ${He(e)}`),null}}function qlr(t){return{roundId:{S:t.roundId},timestamp:{S:t.timestamp},durationMs:{N:String(t.durationMs)},tradingMode:{S:t.tradingMode},results:{S:JSON.stringify(t.results)},errors:{SS:t.errors.length>0?t.errors:["none"]},circuitBreakerActivations:{N:String(t.circuitBreakerActivations)},lockSkipped:{BOOL:t.lockSkipped},consensus:{S:t.consensus},summary:{S:t.summary},...t.meetingOfMinds?{meetingOfMinds:{S:t.meetingOfMinds}}:{},ttl:{N:String(t.ttl)}}}function Wlr(t){return{agentId:{S:t.agentId},status:{S:t.status},lastTradeTimestamp:{S:t.lastTradeTimestamp},lastAction:{S:t.lastAction},lastSymbol:{S:t.lastSymbol},lastConfidence:{N:String(t.lastConfidence)},totalDecisions:{N:String(t.totalDecisions)},totalTrades:{N:String(t.totalTrades)},consecutiveHolds:{N:String(t.consecutiveHolds)},consecutiveErrors:{N:String(t.consecutiveErrors)},lastRoundId:{S:t.lastRoundId},portfolioValue:{N:String(t.portfolioValue)},cashBalance:{N:String(t.cashBalance)},positionsCount:{N:String(t.positionsCount)},totalPnlPercent:{N:String(t.totalPnlPercent)},updatedAt:{S:t.updatedAt},ttl:{N:String(t.ttl)}}}function Jlr(t){return{agentId:t.agentId?.S??"",status:t.status?.S??"active",lastTradeTimestamp:t.lastTradeTimestamp?.S??"",lastAction:t.lastAction?.S??"hold",lastSymbol:t.lastSymbol?.S??"",lastConfidence:Number(t.lastConfidence?.N??0),totalDecisions:Number(t.totalDecisions?.N??0),totalTrades:Number(t.totalTrades?.N??0),consecutiveHolds:Number(t.consecutiveHolds?.N??0),consecutiveErrors:Number(t.consecutiveErrors?.N??0),lastRoundId:t.lastRoundId?.S??"",portfolioValue:Number(t.portfolioValue?.N??1e4),cashBalance:Number(t.cashBalance?.N??1e4),positionsCount:Number(t.positionsCount?.N??0),totalPnlPercent:Number(t.totalPnlPercent?.N??0),updatedAt:t.updatedAt?.S??"",ttl:Number(t.ttl?.N??0)}}function Klr(t){let e=t.filter(o=>o.decision.action!=="hold");if(e.length===0)return"no_trades";let r=e.map(o=>o.decision.action),n=r.filter(o=>o==="buy").length,i=r.filter(o=>o==="sell").length;return n===e.length||i===e.length?"unanimous":n>i&&n>1||i>n&&i>1?"majority":"split"}function Qlr(t,e){let r=[];for(let n of t){let i=n.decision.action.toUpperCase(),o=n.executed?"\u2713":"\u2717";r.push(`${n.agentName}: ${i} ${n.decision.symbol} (${n.decision.confidence}%) ${o}`)}return e.length>0&&r.push(`${e.length} error(s)`),r.join(" | ")}var F1e=[],udt=100;function gdt(t){F1e.unshift(t),F1e.length>udt&&(F1e.length=udt)}var H1e=new Map,ydt=500;function bdt(t){let e=H1e.get("market_spy")??[];e.push(t),e.length>ydt?H1e.set("market_spy",e.slice(-ydt)):H1e.set("market_spy",e)}Ci();var G1e=5e3,Xlr=0,Ylr=0,Zlr=0,$H=[],vdt={},V1e=[],_dt=50,Sdt=200;async function eur(t,e){let r=new AbortController,n=setTimeout(()=>r.abort(),e);try{let i=await t();return clearTimeout(n),i}catch(i){throw clearTimeout(n),r.signal.aborted?new Error(`Timed out after ${e}ms`):i}}function tur(){return process.env.TRADING_MODE?.toLowerCase()==="live"?"strict":"relaxed"}async function rur(){let t=Date.now();try{return await eur(async()=>{await Ut.execute(re`SELECT 1 as ok`)},G1e),{name:"database",status:"pass",latencyMs:Date.now()-t,message:"Database connected",required:!0}}catch(e){return{name:"database",status:"fail",latencyMs:Date.now()-t,message:`Database unavailable: ${He(e)}`,required:!0}}}async function nur(){let t=Date.now();try{let e={};tn.JUPITER_API_KEY&&(e["x-api-key"]=tn.JUPITER_API_KEY);let r="So11111111111111111111111111111111111111112",n=await fetch(`https://api.jup.ag/price/v3?ids=${r}`,{headers:e,signal:AbortSignal.timeout(G1e)}),i=Date.now()-t;if(!n.ok)return{name:"jupiter_api",status:"warn",latencyMs:i,message:`Jupiter returned HTTP ${n.status}`,required:!1};let s=(await n.json()).data?.[r]?.price;return s?{name:"jupiter_api",status:"pass",latencyMs:i,message:`Jupiter OK (SOL: $${s})`,required:!1}:{name:"jupiter_api",status:"warn",latencyMs:i,message:"Jupiter returned no SOL price data",required:!1}}catch(e){return{name:"jupiter_api",status:"warn",latencyMs:Date.now()-t,message:`Jupiter unreachable: ${He(e)}`,required:!1}}}async function iur(){let t=tn.SOLANA_RPC_URL;if(!t)return{name:"solana_rpc",status:"skip",latencyMs:0,message:"SOLANA_RPC_URL not configured",required:!1};let e=Date.now();try{let r=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"getSlot",params:[{commitment:"processed"}]}),signal:AbortSignal.timeout(G1e)}),n=Date.now()-e;if(!r.ok)return{name:"solana_rpc",status:"warn",latencyMs:n,message:`Solana RPC returned HTTP ${r.status}`,required:!1};let i=await r.json();return{name:"solana_rpc",status:"pass",latencyMs:n,message:`Solana RPC OK (slot: ${i.result})`,required:!1}}catch(r){return{name:"solana_rpc",status:"warn",latencyMs:Date.now()-e,message:`Solana RPC unreachable: ${He(r)}`,required:!1}}}async function our(){let t=Date.now(),e=[],r=[];return tn.ANTHROPIC_API_KEY?e.push("Anthropic"):r.push("Anthropic"),tn.OPENAI_API_KEY?e.push("OpenAI"):r.push("OpenAI"),tn.XAI_API_KEY?e.push("xAI"):r.push("xAI"),e.length===0?{name:"llm_providers",status:"warn",latencyMs:Date.now()-t,message:"No LLM API keys configured \u2014 agents will produce mock decisions",required:!1}:{name:"llm_providers",status:e.length>=2?"pass":"warn",latencyMs:Date.now()-t,message:`${e.length}/3 providers configured (${e.join(", ")})`,required:!1}}function sur(){let t=Date.now();try{let e=aC();return e.isLocked?{name:"trading_lock",status:"fail",latencyMs:Date.now()-t,message:`Lock already held by "${e.lock?.holderInfo}" (expires: ${e.lock?.expiresAt})`,required:!0}:{name:"trading_lock",status:"pass",latencyMs:Date.now()-t,message:"Lock available",required:!0}}catch(e){return{name:"trading_lock",status:"fail",latencyMs:Date.now()-t,message:`Lock check failed: ${He(e)}`,required:!0}}}function aur(){let t=Date.now();try{let e=M$(),r=Object.keys(e.agentStates),n=r.filter(i=>e.agentStates[i].dailyLossTriggered);return n.length===r.length&&r.length>0?{name:"circuit_breakers",status:"warn",latencyMs:Date.now()-t,message:`All ${r.length} agents have daily loss limits triggered`,required:!1}:{name:"circuit_breakers",status:"pass",latencyMs:Date.now()-t,message:`${r.length-n.length}/${r.length||3} agents available to trade`,required:!1}}catch(e){return{name:"circuit_breakers",status:"warn",latencyMs:Date.now()-t,message:`CB check failed: ${He(e)}`,required:!1}}}async function xdt(t){let e=Date.now(),r=t??tur(),n=new Date().toISOString();Xlr++,console.log(`[PreRoundGate] Running pre-round health gate (mode: ${r})...`);let[i,o,s,a]=await Promise.all([rur(),nur(),iur(),our()]),c=sur(),l=aur(),u=[i,o,s,a,c,l];r==="strict"&&(o.required=!0,s.required=!0);let d=u.filter(E=>E.status==="pass").length,p=u.filter(E=>E.status==="fail").length,f=u.filter(E=>E.status==="warn").length,h=u.filter(E=>E.status==="skip").length,m=u.filter(E=>E.status==="fail").map(E=>E.name),g=u.filter(E=>E.status==="warn").map(E=>E.name),y=u.filter(E=>E.required&&E.status==="fail"),v=y.length===0,S=null;v||(S=`Required checks failed: ${y.map(E=>`${E.name} (${E.message})`).join("; ")}`);let w=Date.now()-e;if(v)Ylr++;else{Zlr++;for(let E of y)vdt[E.name]=(vdt[E.name]??0)+1}$H.push(w),$H.length>Sdt&&($H=$H.slice(-Sdt)),V1e.unshift({timestamp:n,proceed:v,mode:r,durationMs:w,failedChecks:m}),V1e.length>_dt&&(V1e.length=_dt);for(let E of u){let I=E.status==="pass"?"OK":E.status==="fail"?"FAIL":E.status==="warn"?"WARN":"SKIP";console.log(`[PreRoundGate]   ${I} ${E.name}: ${E.message} (${E.latencyMs}ms)`)}return console.log(`[PreRoundGate] Gate ${v?"OPEN":"BLOCKED"} (${r}): ${d} pass, ${p} fail, ${f} warn, ${h} skip \u2014 ${w}ms`+(S?` \u2014 ${S}`:"")),{proceed:v,mode:r,durationMs:w,timestamp:n,checks:u,summary:{total:u.length,passed:d,failed:p,warnings:f,skipped:h,failedChecks:m,warningChecks:g},blockReason:S}}Ci();Ci();DH();var cur={maxOrderRetries:3,maxExecuteRetries:2,baseDelayMs:1e3,maxSlippageBps:100,confirmationTimeoutMs:3e4,confirmationCommitment:"confirmed",useComputeBudget:!0,computeUnitPrice:5e4,computeUnitLimit:4e5},Uai={...cur};var nci=Date.now(),UH=[],wdt=1e3;function Adt(t){UH.push(t),UH.length>wdt&&UH.splice(0,UH.length-wdt)}var Rdt=.9,j1e=.8,ja=.7,Bs=.6,fd=.5,FH=.4,lur=.3,uur=-.3,Edt=.1,Tdt=.35,dur=.3,pur=.2,fur=50,mur=.25,hur=1.01,gur=.3;var yur=[[/\bundervalued\b/i,j1e],[/\bupside\b/i,ja],[/\bbullish\b/i,Rdt],[/\bgrowth\s+potential\b/i,ja],[/\bbuying\s+opportunity\b/i,j1e],[/\bpositive\s+momentum\b/i,ja],[/\bstrong\s+fundamentals?\b/i,Bs],[/\bbreakout\b/i,ja],[/\brally\b/i,Bs],[/\baccumulate\b/i,ja],[/\bsupport\s+level\b/i,fd],[/\brecovery\b/i,Bs],[/\boptimistic\b/i,ja],[/\bfavorable\b/i,fd],[/\bcheap\b/i,Bs],[/\bdiscount\b/i,Bs],[/\bappreciat/i,Bs],[/\bincrease\b/i,FH],[/\brise\b|\brising\b/i,fd],[/\bgain\b|\bgains\b/i,fd]],bur=[[/\bovervalued\b/i,j1e],[/\bdownside\b/i,ja],[/\bbearish\b/i,Rdt],[/\brisk\s+of\s+decline\b/i,ja],[/\bselling\s+pressure\b/i,ja],[/\bnegative\s+momentum\b/i,ja],[/\bweak\s+fundamentals?\b/i,Bs],[/\bbreakdown\b/i,ja],[/\bcorrection\b/i,Bs],[/\bdistribute\b/i,fd],[/\bresistance\s+level\b/i,fd],[/\bdeclining\b/i,Bs],[/\bpessimistic\b/i,ja],[/\bunfavorable\b/i,fd],[/\bexpensive\b/i,Bs],[/\boverheated\b/i,Bs],[/\bdepreciat/i,Bs],[/\bdecrease\b/i,FH],[/\bfall\b|\bfalling\b/i,fd],[/\bloss\b|\blosses\b/i,fd],[/\btake\s+profits?\b/i,Bs],[/\boverexposed\b/i,Bs],[/\btrim\s+position\b/i,fd]],vur=[[/\buncertain\b/i,Bs],[/\bwait\b|\bwaiting\b/i,fd],[/\bsidelines?\b/i,ja],[/\bcaution\b|\bcautious\b/i,Bs],[/\bmixed\s+signals?\b/i,ja],[/\bno\s+clear\b/i,Bs],[/\binsufficient\s+data\b/i,ja],[/\bpatien/i,fd],[/\bmonitor\b/i,FH],[/\bobserv/i,FH]];function qa(t,e,r){let n=[],i=0,o=0;for(let[f,h]of yur){let m=t.match(f);m&&(i+=h,o++,n.push({type:"bullish",text:m[0],weight:h}))}let s=0,a=0;for(let[f,h]of bur){let m=t.match(f);m&&(s+=h,a++,n.push({type:"bearish",text:m[0],weight:h}))}let c=0;for(let[f,h]of vur){let m=t.match(f);m&&(c+=h,n.push({type:"neutral",text:m[0],weight:h}))}let l=o+a,u=l>0?(i-s)/(i+s||1):0,d,p;return e==="buy"?u>lur?(d=.7+u*.3,p="Bullish reasoning supports buy action"):u>-Edt?(d=.5+u*.2,p="Reasoning is ambiguous but not contradictory for buy"):(d=Math.max(.05,.4+u*.4),p="Bearish reasoning contradicts buy action",/contrarian|mean\s+reversion|oversold|bounce|bottom/i.test(t)&&(d=Math.min(1,d+Tdt),p="Bearish context with contrarian/mean-reversion justification for buy")):e==="sell"?u<uur?(d=.7+Math.abs(u)*.3,p="Bearish reasoning supports sell action"):u<Edt?(d=.5+Math.abs(u)*.2,p="Reasoning is ambiguous but not contradictory for sell"):(d=Math.max(.05,.4-u*.4),p="Bullish reasoning contradicts sell action",/profit|take\s+gains|overexposed|rebalance|trim/i.test(t)&&(d=Math.min(1,d+Tdt),p="Bullish context with profit-taking/rebalancing justification for sell")):c>0||Math.abs(u)<dur&&l>0?(d=.7+(1-Math.abs(u))*.3,p="Neutral/cautious reasoning supports hold action"):l===0?(d=.5,p="No clear sentiment signals in reasoning"):(d=.4,p="Strong directional signals present but chose to hold",/guardrail|limit|insufficient|cash\s+buffer|wait\s+for/i.test(t)&&(d=.8,p="Strong signals tempered by risk management discipline")),i>2&&s>2&&(n.push({type:"conflicting",text:"Contains both strong bullish and bearish signals",weight:.5}),d=Math.max(.1,d-.1),p+=" (warning: conflicting directional signals)"),{score:ne(d),explanation:p,signals:n}}function jc(t,e){let r=[],n=new Map,i=new Set;for(let l of e){n.set(l.symbol.toLowerCase(),l.price),i.add(l.symbol.toLowerCase());let u=l.symbol.replace(/x$/i,"").toLowerCase();n.set(u,l.price),i.add(u)}let o=[/(\w+x?)\s+(?:is\s+)?(?:at|priced?\s+at|trading\s+at|currently)\s+\$?([\d,]+\.?\d*)/gi,/\$?([\d,]+\.?\d*)\s+(?:per\s+share|price)\s+(?:for|of)\s+(\w+x?)/gi];for(let l of o){let u;for(;(u=l.exec(t))!==null;){let d,p;l===o[0]?(d=u[1].toLowerCase(),p=parseFloat(u[2].replace(/,/g,""))):(p=parseFloat(u[1].replace(/,/g,"")),d=u[2].toLowerCase());let f=n.get(d);if(f!==void 0&&p>0){let h=Math.abs(p-f)/f;h>pur&&r.push(`Price hallucination: claimed ${d.toUpperCase()} at $${p.toFixed(2)}, actual $${f.toFixed(2)} (${(h*100).toFixed(0)}% off)`)}}}let s=t.match(/\b[A-Z]{2,5}x?\b/g)??[];for(let l of s){let u=l.toLowerCase();if(!["the","and","for","but","not","may","can","has","its","per","our","all","low","buy","sell","hold","risk","cash","spy","etf","ipo","vol","rsi","avg","max","min","pnl"].includes(u)&&/^[A-Z]{2,5}x?$/.test(l)&&!i.has(u)&&!i.has(u.replace(/x$/i,""))){let d=t.slice(Math.max(0,t.indexOf(l)-30),t.indexOf(l)+l.length+30);/price|trade|buy|sell|stock|share|position/i.test(d)&&r.push(`Unknown ticker: ${l} not found in available stocks`)}}let a=t.match(/[+-]?\d+\.?\d*%/g)??[];for(let l of a){let u=parseFloat(l);Math.abs(u)>fur&&/24h|daily|today|change/i.test(t)&&r.push(`Implausible 24h change: ${l} \u2014 major stocks rarely move this much in a day`)}(/should\s+buy/i.test(t)&&/should\s+sell/i.test(t)||/strongly\s+bullish/i.test(t)&&/strongly\s+bearish/i.test(t))&&r.push("Self-contradiction: reasoning contains conflicting directional advice");let c=r.length===0?0:Math.min(1,r.length*mur);return{flags:r,severity:c}}function Ny(t,e,r){let n=[];if(t.action==="hold")return{passed:!0,violations:[]};if(t.action==="buy"&&r.totalValue>0){let i=t.quantity/r.totalValue*100;i>e.maxPositionSize&&n.push(`Position size ${i.toFixed(1)}% exceeds max ${e.maxPositionSize}%`)}if(t.action==="buy"){let i=r.totalValue*((100-e.maxPortfolioAllocation)/100),o=r.cashBalance-t.quantity;o<i&&n.push(`Buy would leave $${o.toFixed(2)} cash, below minimum $${i.toFixed(2)} (${100-e.maxPortfolioAllocation}% buffer)`)}if(t.action==="sell"){let i=r.positions.find(o=>o.symbol.toLowerCase()===t.symbol.toLowerCase());i?t.quantity>i.quantity*hur&&n.push(`Trying to sell ${t.quantity} shares of ${t.symbol} but only holds ${i.quantity}`):n.push(`Trying to sell ${t.symbol} but no position held`)}return e.riskTolerance==="conservative"&&t.confidence<gur&&n.push(`Conservative agent trading with very low confidence (${(t.confidence*100).toFixed(0)}%)`),{passed:n.length===0,violations:n}}var _ur=ct.enum(["momentum","mean_reversion","value","hedge","contrarian","arbitrage"]),Idt=ct.object({symbol:ct.string().min(1,"Symbol is required"),side:ct.enum(["buy","sell"]),quantity:ct.number().positive("Quantity must be positive"),reasoning:ct.string().min(20,"Reasoning must explain your logic (min 20 chars)"),confidence:ct.number().min(0,"Confidence must be >= 0").max(1,"Confidence must be <= 1"),sources:ct.array(ct.string()).min(1,"Must cite at least one data source"),intent:_ur,predictedOutcome:ct.string().optional()}),Sur=ct.object({symbol:ct.string().min(1),reasoning:ct.string().min(10,"Hold decisions must be explained"),confidence:ct.number().min(0).max(1),sources:ct.array(ct.string()).optional()}),lci=ct.discriminatedUnion("action",[ct.object({action:ct.literal("buy"),...Idt.shape}),ct.object({action:ct.literal("sell"),...Idt.shape}),ct.object({action:ct.literal("hold"),...Sur.shape})]);function wr(t){return t>1?Hr(t/100):Hr(t)}function md(t){let e=[],r=[[/price\s+data/i,"market_price_feed"],[/jupiter/i,"jupiter_price_api"],[/24h\s+change|24-hour/i,"24h_price_change"],[/volume/i,"trading_volume"],[/portfolio|position/i,"portfolio_state"],[/news|headline/i,"news_feed"],[/technical|indicator|RSI|MACD|moving\s+average/i,"technical_indicators"],[/fundamental|earnings|revenue|P\/E/i,"fundamentals"],[/sentiment|mood/i,"market_sentiment"],[/correlation|peer|sector/i,"sector_analysis"]];for(let[n,i]of r)n.test(t)&&e.push(i);return e.length===0&&e.push("market_data"),e}function Wa(t,e){let r=t.toLowerCase();return/undervalued|intrinsic\s+value|margin\s+of\s+safety|fair\s+price|cheap/i.test(r)?"value":/momentum|trend|breakout|rally|surge|continuing\s+to\s+rise/i.test(r)?"momentum":/reversion|oversold|overbought|bounce|pullback|correction/i.test(r)?"mean_reversion":/hedge|protect|downside|risk\s+reduction|defensive/i.test(r)?"hedge":/contrarian|against\s+the\s+crowd|overreaction|panic/i.test(r)?"contrarian":/arbitrage|price\s+difference|mispricing|spread/i.test(r)?"arbitrage":e==="buy"?"value":"momentum"}var q1e=(t,e,r)=>(n,i)=>{let o=-1;return s(0);async function s(a){if(a<=o)throw new Error("next() called multiple times");o=a;let c,l=!1,u;if(t[a]?(u=t[a][0][0],n.req.routeIndex=a):u=a===t.length&&i||void 0,u)try{c=await u(n,()=>s(a+1))}catch(d){if(d instanceof Error&&e)n.error=d,c=await e(d,n),l=!0;else throw d}else n.finalized===!1&&r&&(c=await r(n));return c&&(n.finalized===!1||l)&&(n.res=c),n}};var Cdt=Symbol();var Ndt=async(t,e=Object.create(null))=>{let{all:r=!1,dot:n=!1}=e,o=(t instanceof zH?t.raw.headers:t.headers).get("Content-Type");return o?.startsWith("multipart/form-data")||o?.startsWith("application/x-www-form-urlencoded")?xur(t,{all:r,dot:n}):{}};async function xur(t,e){let r=await t.formData();return r?wur(r,e):{}}function wur(t,e){let r=Object.create(null);return t.forEach((n,i)=>{e.all||i.endsWith("[]")?Aur(r,i,n):r[i]=n}),e.dot&&Object.entries(r).forEach(([n,i])=>{n.includes(".")&&(Eur(r,n,i),delete r[n])}),r}var Aur=(t,e,r)=>{t[e]!==void 0?Array.isArray(t[e])?t[e].push(r):t[e]=[t[e],r]:e.endsWith("[]")?t[e]=[r]:t[e]=r},Eur=(t,e,r)=>{let n=t,i=e.split(".");i.forEach((o,s)=>{s===i.length-1?n[o]=r:((!n[o]||typeof n[o]!="object"||Array.isArray(n[o])||n[o]instanceof File)&&(n[o]=Object.create(null)),n=n[o])})};var J1e=t=>{let e=t.split("/");return e[0]===""&&e.shift(),e},Odt=t=>{let{groups:e,path:r}=Tur(t),n=J1e(r);return Rur(n,e)},Tur=t=>{let e=[];return t=t.replace(/\{[^}]+\}/g,(r,n)=>{let i=`@${n}`;return e.push([i,r]),i}),{groups:e,path:t}},Rur=(t,e)=>{for(let r=e.length-1;r>=0;r--){let[n]=e[r];for(let i=t.length-1;i>=0;i--)if(t[i].includes(n)){t[i]=t[i].replace(n,e[r][1]);break}}return t},HH={},Pdt=(t,e)=>{if(t==="*")return"*";let r=t.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(r){let n=`${t}#${e}`;return HH[n]||(r[2]?HH[n]=e&&e[0]!==":"&&e[0]!=="*"?[n,r[1],new RegExp(`^${r[2]}(?=/${e})`)]:[t,r[1],new RegExp(`^${r[2]}$`)]:HH[n]=[t,r[1],!0]),HH[n]}return null},VH=(t,e)=>{try{return e(t)}catch{return t.replace(/(?:%[0-9A-Fa-f]{2})+/g,r=>{try{return e(r)}catch{return r}})}},Iur=t=>VH(t,decodeURI),K1e=t=>{let e=t.url,r=e.indexOf("/",e.indexOf(":")+4),n=r;for(;n<e.length;n++){let i=e.charCodeAt(n);if(i===37){let o=e.indexOf("?",n),s=e.slice(r,o===-1?void 0:o);return Iur(s.includes("%25")?s.replace(/%25/g,"%2525"):s)}else if(i===63)break}return e.slice(r,n)};var kdt=t=>{let e=K1e(t);return e.length>1&&e.at(-1)==="/"?e.slice(0,-1):e},MS=(t,e,...r)=>(r.length&&(e=MS(e,...r)),`${t?.[0]==="/"?"":"/"}${t}${e==="/"?"":`${t?.at(-1)==="/"?"":"/"}${e?.[0]==="/"?e.slice(1):e}`}`),GH=t=>{if(t.charCodeAt(t.length-1)!==63||!t.includes(":"))return null;let e=t.split("/"),r=[],n="";return e.forEach(i=>{if(i!==""&&!/\:/.test(i))n+="/"+i;else if(/\:/.test(i))if(/\?/.test(i)){r.length===0&&n===""?r.push("/"):r.push(n);let o=i.replace("?","");n+="/"+o,r.push(n)}else n+="/"+i}),r.filter((i,o,s)=>s.indexOf(i)===o)},W1e=t=>/[%+]/.test(t)?(t.indexOf("+")!==-1&&(t=t.replace(/\+/g," ")),t.indexOf("%")!==-1?VH(t,Q1e):t):t,Ddt=(t,e,r)=>{let n;if(!r&&e&&!/[%+]/.test(e)){let s=t.indexOf("?",8);if(s===-1)return;for(t.startsWith(e,s+1)||(s=t.indexOf(`&${e}`,s+1));s!==-1;){let a=t.charCodeAt(s+e.length+1);if(a===61){let c=s+e.length+2,l=t.indexOf("&",c);return W1e(t.slice(c,l===-1?void 0:l))}else if(a==38||isNaN(a))return"";s=t.indexOf(`&${e}`,s+1)}if(n=/[%+]/.test(t),!n)return}let i={};n??=/[%+]/.test(t);let o=t.indexOf("?",8);for(;o!==-1;){let s=t.indexOf("&",o+1),a=t.indexOf("=",o);a>s&&s!==-1&&(a=-1);let c=t.slice(o+1,a===-1?s===-1?void 0:s:a);if(n&&(c=W1e(c)),o=s,c==="")continue;let l;a===-1?l="":(l=t.slice(a+1,s===-1?void 0:s),n&&(l=W1e(l))),r?(i[c]&&Array.isArray(i[c])||(i[c]=[]),i[c].push(l)):i[c]??=l}return e?i[e]:i},Mdt=Ddt,Ldt=(t,e)=>Ddt(t,e,!0),Q1e=decodeURIComponent;var Bdt=t=>VH(t,Q1e),zH=class{raw;#e;#t;routeIndex=0;path;bodyCache={};constructor(t,e="/",r=[[]]){this.raw=t,this.path=e,this.#t=r,this.#e={}}param(t){return t?this.#r(t):this.#n()}#r(t){let e=this.#t[0][this.routeIndex][1][t],r=this.#i(e);return r&&/\%/.test(r)?Bdt(r):r}#n(){let t={},e=Object.keys(this.#t[0][this.routeIndex][1]);for(let r of e){let n=this.#i(this.#t[0][this.routeIndex][1][r]);n!==void 0&&(t[r]=/\%/.test(n)?Bdt(n):n)}return t}#i(t){return this.#t[1]?this.#t[1][t]:t}query(t){return Mdt(this.url,t)}queries(t){return Ldt(this.url,t)}header(t){if(t)return this.raw.headers.get(t)??void 0;let e={};return this.raw.headers.forEach((r,n)=>{e[n]=r}),e}async parseBody(t){return this.bodyCache.parsedBody??=await Ndt(this,t)}#o=t=>{let{bodyCache:e,raw:r}=this,n=e[t];if(n)return n;let i=Object.keys(e)[0];return i?e[i].then(o=>(i==="json"&&(o=JSON.stringify(o)),new Response(o)[t]())):e[t]=r[t]()};json(){return this.#o("text").then(t=>JSON.parse(t))}text(){return this.#o("text")}arrayBuffer(){return this.#o("arrayBuffer")}blob(){return this.#o("blob")}formData(){return this.#o("formData")}addValidatedData(t,e){this.#e[t]=e}valid(t){return this.#e[t]}get url(){return this.raw.url}get method(){return this.raw.method}get[Cdt](){return this.#t}get matchedRoutes(){return this.#t[0].map(([[,t]])=>t)}get routePath(){return this.#t[0].map(([[,t]])=>t)[this.routeIndex].path}};var kO={Stringify:1,BeforeStream:2,Stream:3},HT=(t,e)=>{let r=new String(t);return r.isEscaped=!0,r.callbacks=e,r},Cur=/[&<>'"]/,$dt=async(t,e)=>{let r="";e||=[];let n=await Promise.all(t);for(let i=n.length-1;r+=n[i],i--,!(i<0);i--){let o=n[i];typeof o=="object"&&e.push(...o.callbacks||[]);let s=o.isEscaped;if(o=await(typeof o=="object"?o.toString():o),typeof o=="object"&&e.push(...o.callbacks||[]),o.isEscaped??s)r+=o;else{let a=[r];jH(o,a),r=a[0]}}return HT(r,e)},jH=(t,e)=>{let r=t.search(Cur);if(r===-1){e[0]+=t;return}let n,i,o=0;for(i=r;i<t.length;i++){switch(t.charCodeAt(i)){case 34:n="&quot;";break;case 39:n="&#39;";break;case 38:n="&amp;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}e[0]+=t.substring(o,i)+n,o=i+1}e[0]+=t.substring(o,i)},Udt=t=>{let e=t.callbacks;if(!e?.length)return t;let r=[t],n={};return e.forEach(i=>i({phase:kO.Stringify,buffer:r,context:n})),r[0]},DO=async(t,e,r,n,i)=>{typeof t=="object"&&!(t instanceof String)&&(t instanceof Promise||(t=t.toString()),t instanceof Promise&&(t=await t));let o=t.callbacks;if(!o?.length)return Promise.resolve(t);i?i[0]+=t:i=[t];let s=Promise.all(o.map(a=>a({phase:e,buffer:i,context:n}))).then(a=>Promise.all(a.filter(Boolean).map(c=>DO(c,e,!1,n,i))).then(()=>i[0]));return r?HT(await s,o):s};var Fdt="text/plain; charset=UTF-8",X1e=(t,e)=>({"Content-Type":t,...e}),zdt=class{#e;#t;env={};#r;finalized=!1;error;#n;#i;#o;#s;#a;#u;#l;#f;#m;constructor(t,e){this.#e=t,e&&(this.#i=e.executionCtx,this.env=e.env,this.#u=e.notFoundHandler,this.#m=e.path,this.#f=e.matchResult)}get req(){return this.#t??=new zH(this.#e,this.#m,this.#f),this.#t}get event(){if(this.#i&&"respondWith"in this.#i)return this.#i;throw Error("This context has no FetchEvent")}get executionCtx(){if(this.#i)return this.#i;throw Error("This context has no ExecutionContext")}get res(){return this.#o||=new Response(null,{headers:this.#l??=new Headers})}set res(t){if(this.#o&&t){t=new Response(t.body,t);for(let[e,r]of this.#o.headers.entries())if(e!=="content-type")if(e==="set-cookie"){let n=this.#o.headers.getSetCookie();t.headers.delete("set-cookie");for(let i of n)t.headers.append("set-cookie",i)}else t.headers.set(e,r)}this.#o=t,this.finalized=!0}render=(...t)=>(this.#a??=e=>this.html(e),this.#a(...t));setLayout=t=>this.#s=t;getLayout=()=>this.#s;setRenderer=t=>{this.#a=t};header=(t,e,r)=>{this.finalized&&(this.#o=new Response(this.#o.body,this.#o));let n=this.#o?this.#o.headers:this.#l??=new Headers;e===void 0?n.delete(t):r?.append?n.append(t,e):n.set(t,e)};status=t=>{this.#n=t};set=(t,e)=>{this.#r??=new Map,this.#r.set(t,e)};get=t=>this.#r?this.#r.get(t):void 0;get var(){return this.#r?Object.fromEntries(this.#r):{}}#c(t,e,r){let n=this.#o?new Headers(this.#o.headers):this.#l??new Headers;if(typeof e=="object"&&"headers"in e){let o=e.headers instanceof Headers?e.headers:new Headers(e.headers);for(let[s,a]of o)s.toLowerCase()==="set-cookie"?n.append(s,a):n.set(s,a)}if(r)for(let[o,s]of Object.entries(r))if(typeof s=="string")n.set(o,s);else{n.delete(o);for(let a of s)n.append(o,a)}let i=typeof e=="number"?e:e?.status??this.#n;return new Response(t,{status:i,headers:n})}newResponse=(...t)=>this.#c(...t);body=(t,e,r)=>this.#c(t,e,r);text=(t,e,r)=>!this.#l&&!this.#n&&!e&&!r&&!this.finalized?new Response(t):this.#c(t,e,X1e(Fdt,r));json=(t,e,r)=>this.#c(JSON.stringify(t),e,X1e("application/json",r));html=(t,e,r)=>{let n=i=>this.#c(i,e,X1e("text/html; charset=UTF-8",r));return typeof t=="object"?DO(t,kO.Stringify,!1,{}).then(n):n(t)};redirect=(t,e)=>{let r=String(t);return this.header("Location",/[^\x00-\xFF]/.test(r)?encodeURI(r):r),this.newResponse(null,e??302)};notFound=()=>(this.#u??=()=>new Response,this.#u(this))};var wi="ALL",Hdt="all",Vdt=["get","post","put","delete","options","patch"],qH="Can not add a route since the matcher is already built.",WH=class extends Error{};var Gdt="__COMPOSED_HANDLER";var Nur=t=>t.text("404 Not Found",404),jdt=(t,e)=>{if("getResponse"in t){let r=t.getResponse();return e.newResponse(r.body,r)}return console.error(t),e.text("Internal Server Error",500)},qdt=class Wdt{get;post;put;delete;options;patch;all;on;use;router;getPath;_basePath="/";#e="/";routes=[];constructor(e={}){[...Vdt,Hdt].forEach(o=>{this[o]=(s,...a)=>(typeof s=="string"?this.#e=s:this.#n(o,this.#e,s),a.forEach(c=>{this.#n(o,this.#e,c)}),this)}),this.on=(o,s,...a)=>{for(let c of[s].flat()){this.#e=c;for(let l of[o].flat())a.map(u=>{this.#n(l.toUpperCase(),this.#e,u)})}return this},this.use=(o,...s)=>(typeof o=="string"?this.#e=o:(this.#e="*",s.unshift(o)),s.forEach(a=>{this.#n(wi,this.#e,a)}),this);let{strict:n,...i}=e;Object.assign(this,i),this.getPath=n??!0?e.getPath??K1e:kdt}#t(){let e=new Wdt({router:this.router,getPath:this.getPath});return e.errorHandler=this.errorHandler,e.#r=this.#r,e.routes=this.routes,e}#r=Nur;errorHandler=jdt;route(e,r){let n=this.basePath(e);return r.routes.map(i=>{let o;r.errorHandler===jdt?o=i.handler:(o=async(s,a)=>(await q1e([],r.errorHandler)(s,()=>i.handler(s,a))).res,o[Gdt]=i.handler),n.#n(i.method,i.path,o)}),this}basePath(e){let r=this.#t();return r._basePath=MS(this._basePath,e),r}onError=e=>(this.errorHandler=e,this);notFound=e=>(this.#r=e,this);mount(e,r,n){let i,o;n&&(typeof n=="function"?o=n:(o=n.optionHandler,n.replaceRequest===!1?i=c=>c:i=n.replaceRequest));let s=o?c=>{let l=o(c);return Array.isArray(l)?l:[l]}:c=>{let l;try{l=c.executionCtx}catch{}return[c.env,l]};i||=(()=>{let c=MS(this._basePath,e),l=c==="/"?0:c.length;return u=>{let d=new URL(u.url);return d.pathname=d.pathname.slice(l)||"/",new Request(d,u)}})();let a=async(c,l)=>{let u=await r(i(c.req.raw),...s(c));if(u)return u;await l()};return this.#n(wi,MS(e,"*"),a),this}#n(e,r,n){e=e.toUpperCase(),r=MS(this._basePath,r);let i={basePath:this._basePath,path:r,method:e,handler:n};this.router.add(e,r,[n,i]),this.routes.push(i)}#i(e,r){if(e instanceof Error)return this.errorHandler(e,r);throw e}#o(e,r,n,i){if(i==="HEAD")return(async()=>new Response(null,await this.#o(e,r,n,"GET")))();let o=this.getPath(e,{env:n}),s=this.router.match(i,o),a=new zdt(e,{path:o,matchResult:s,env:n,executionCtx:r,notFoundHandler:this.#r});if(s[0].length===1){let l;try{l=s[0][0][0][0](a,async()=>{a.res=await this.#r(a)})}catch(u){return this.#i(u,a)}return l instanceof Promise?l.then(u=>u||(a.finalized?a.res:this.#r(a))).catch(u=>this.#i(u,a)):l??this.#r(a)}let c=q1e(s[0],this.errorHandler,this.#r);return(async()=>{try{let l=await c(a);if(!l.finalized)throw new Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return l.res}catch(l){return this.#i(l,a)}})()}fetch=(e,...r)=>this.#o(e,r[1],r[0],e.method);request=(e,r,n,i)=>e instanceof Request?this.fetch(r?new Request(e,r):e,n,i):(e=e.toString(),this.fetch(new Request(/^https?:\/\//.test(e)?e:`http://localhost${MS("/",e)}`,r),n,i));fire=()=>{addEventListener("fetch",e=>{e.respondWith(this.#o(e.request,e,void 0,e.request.method))})}};var JH=[];function Y1e(t,e){let r=this.buildAllMatchers(),n=((i,o)=>{let s=r[i]||r[wi],a=s[2][o];if(a)return a;let c=o.match(s[0]);if(!c)return[[],JH];let l=c.indexOf("",1);return[s[1][l],c]});return this.match=n,n(t,e)}var KH="[^/]+",MO=".*",LO="(?:|/.*)",LS=Symbol(),Our=new Set(".\\+*[^]$()");function Pur(t,e){return t.length===1?e.length===1?t<e?-1:1:-1:e.length===1||t===MO||t===LO?1:e===MO||e===LO?-1:t===KH?1:e===KH?-1:t.length===e.length?t<e?-1:1:e.length-t.length}var Jdt=class Z1e{#e;#t;#r=Object.create(null);insert(e,r,n,i,o){if(e.length===0){if(this.#e!==void 0)throw LS;if(o)return;this.#e=r;return}let[s,...a]=e,c=s==="*"?a.length===0?["","",MO]:["","",KH]:s==="/*"?["","",LO]:s.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/),l;if(c){let u=c[1],d=c[2]||KH;if(u&&c[2]&&(d===".*"||(d=d.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(d))))throw LS;if(l=this.#r[d],!l){if(Object.keys(this.#r).some(p=>p!==MO&&p!==LO))throw LS;if(o)return;l=this.#r[d]=new Z1e,u!==""&&(l.#t=i.varIndex++)}!o&&u!==""&&n.push([u,l.#t])}else if(l=this.#r[s],!l){if(Object.keys(this.#r).some(u=>u.length>1&&u!==MO&&u!==LO))throw LS;if(o)return;l=this.#r[s]=new Z1e}l.insert(a,r,n,i,o)}buildRegExpStr(){let r=Object.keys(this.#r).sort(Pur).map(n=>{let i=this.#r[n];return(typeof i.#t=="number"?`(${n})@${i.#t}`:Our.has(n)?`\\${n}`:n)+i.buildRegExpStr()});return typeof this.#e=="number"&&r.unshift(`#${this.#e}`),r.length===0?"":r.length===1?r[0]:"(?:"+r.join("|")+")"}};var Kdt=class{#e={varIndex:0};#t=new Jdt;insert(t,e,r){let n=[],i=[];for(let s=0;;){let a=!1;if(t=t.replace(/\{[^}]+\}/g,c=>{let l=`@\\${s}`;return i[s]=[l,c],s++,a=!0,l}),!a)break}let o=t.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let s=i.length-1;s>=0;s--){let[a]=i[s];for(let c=o.length-1;c>=0;c--)if(o[c].indexOf(a)!==-1){o[c]=o[c].replace(a,i[s][1]);break}}return this.#t.insert(o,e,n,this.#e,r),n}buildRegExp(){let t=this.#t.buildRegExpStr();if(t==="")return[/^$/,[],[]];let e=0,r=[],n=[];return t=t.replace(/#(\d+)|@(\d+)|\.\*\$/g,(i,o,s)=>o!==void 0?(r[++e]=Number(o),"$()"):(s!==void 0&&(n[Number(s)]=++e),"")),[new RegExp(`^${t}`),r,n]}};var kur=[/^$/,[],Object.create(null)],Qdt=Object.create(null);function Xdt(t){return Qdt[t]??=new RegExp(t==="*"?"":`^${t.replace(/\/\*$|([.\\+*[^\]$()])/g,(e,r)=>r?`\\${r}`:"(?:|/.*)")}$`)}function Dur(){Qdt=Object.create(null)}function Mur(t){let e=new Kdt,r=[];if(t.length===0)return kur;let n=t.map(l=>[!/\*|\/:/.test(l[0]),...l]).sort(([l,u],[d,p])=>l?1:d?-1:u.length-p.length),i=Object.create(null);for(let l=0,u=-1,d=n.length;l<d;l++){let[p,f,h]=n[l];p?i[f]=[h.map(([g])=>[g,Object.create(null)]),JH]:u++;let m;try{m=e.insert(f,u,p)}catch(g){throw g===LS?new WH(f):g}p||(r[u]=h.map(([g,y])=>{let v=Object.create(null);for(y-=1;y>=0;y--){let[S,w]=m[y];v[S]=w}return[g,v]}))}let[o,s,a]=e.buildRegExp();for(let l=0,u=r.length;l<u;l++)for(let d=0,p=r[l].length;d<p;d++){let f=r[l][d]?.[1];if(!f)continue;let h=Object.keys(f);for(let m=0,g=h.length;m<g;m++)f[h[m]]=a[f[h[m]]]}let c=[];for(let l in s)c[l]=r[s[l]];return[o,c,i]}function VT(t,e){if(t){for(let r of Object.keys(t).sort((n,i)=>i.length-n.length))if(Xdt(r).test(e))return[...t[r]]}}var QH=class{name="RegExpRouter";#e;#t;constructor(){this.#e={[wi]:Object.create(null)},this.#t={[wi]:Object.create(null)}}add(t,e,r){let n=this.#e,i=this.#t;if(!n||!i)throw new Error(qH);n[t]||[n,i].forEach(a=>{a[t]=Object.create(null),Object.keys(a[wi]).forEach(c=>{a[t][c]=[...a[wi][c]]})}),e==="/*"&&(e="*");let o=(e.match(/\/:/g)||[]).length;if(/\*$/.test(e)){let a=Xdt(e);t===wi?Object.keys(n).forEach(c=>{n[c][e]||=VT(n[c],e)||VT(n[wi],e)||[]}):n[t][e]||=VT(n[t],e)||VT(n[wi],e)||[],Object.keys(n).forEach(c=>{(t===wi||t===c)&&Object.keys(n[c]).forEach(l=>{a.test(l)&&n[c][l].push([r,o])})}),Object.keys(i).forEach(c=>{(t===wi||t===c)&&Object.keys(i[c]).forEach(l=>a.test(l)&&i[c][l].push([r,o]))});return}let s=GH(e)||[e];for(let a=0,c=s.length;a<c;a++){let l=s[a];Object.keys(i).forEach(u=>{(t===wi||t===u)&&(i[u][l]||=[...VT(n[u],l)||VT(n[wi],l)||[]],i[u][l].push([r,o-c+a+1]))})}}match=Y1e;buildAllMatchers(){let t=Object.create(null);return Object.keys(this.#t).concat(Object.keys(this.#e)).forEach(e=>{t[e]||=this.#r(e)}),this.#e=this.#t=void 0,Dur(),t}#r(t){let e=[],r=t===wi;return[this.#e,this.#t].forEach(n=>{let i=n[t]?Object.keys(n[t]).map(o=>[o,n[t][o]]):[];i.length!==0?(r||=!0,e.push(...i)):t!==wi&&e.push(...Object.keys(n[wi]).map(o=>[o,n[wi][o]]))}),r?Mur(e):null}};var eye=class{name="SmartRouter";#e=[];#t=[];constructor(t){this.#e=t.routers}add(t,e,r){if(!this.#t)throw new Error(qH);this.#t.push([t,e,r])}match(t,e){if(!this.#t)throw new Error("Fatal error");let r=this.#e,n=this.#t,i=r.length,o=0,s;for(;o<i;o++){let a=r[o];try{for(let c=0,l=n.length;c<l;c++)a.add(...n[c]);s=a.match(t,e)}catch(c){if(c instanceof WH)continue;throw c}this.match=a.match.bind(a),this.#e=[a],this.#t=void 0;break}if(o===i)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,s}get activeRouter(){if(this.#t||this.#e.length!==1)throw new Error("No active router has been determined yet.");return this.#e[0]}};var BO=Object.create(null),Ydt=class Zdt{#e;#t;#r;#n=0;#i=BO;constructor(e,r,n){if(this.#t=n||Object.create(null),this.#e=[],e&&r){let i=Object.create(null);i[e]={handler:r,possibleKeys:[],score:0},this.#e=[i]}this.#r=[]}insert(e,r,n){this.#n=++this.#n;let i=this,o=Odt(r),s=[];for(let a=0,c=o.length;a<c;a++){let l=o[a],u=o[a+1],d=Pdt(l,u),p=Array.isArray(d)?d[0]:l;if(p in i.#t){i=i.#t[p],d&&s.push(d[1]);continue}i.#t[p]=new Zdt,d&&(i.#r.push(d),s.push(d[1])),i=i.#t[p]}return i.#e.push({[e]:{handler:n,possibleKeys:s.filter((a,c,l)=>l.indexOf(a)===c),score:this.#n}}),i}#o(e,r,n,i){let o=[];for(let s=0,a=e.#e.length;s<a;s++){let c=e.#e[s],l=c[r]||c[wi],u={};if(l!==void 0&&(l.params=Object.create(null),o.push(l),n!==BO||i&&i!==BO))for(let d=0,p=l.possibleKeys.length;d<p;d++){let f=l.possibleKeys[d],h=u[l.score];l.params[f]=i?.[f]&&!h?i[f]:n[f]??i?.[f],u[l.score]=!0}}return o}search(e,r){let n=[];this.#i=BO;let o=[this],s=J1e(r),a=[];for(let c=0,l=s.length;c<l;c++){let u=s[c],d=c===l-1,p=[];for(let f=0,h=o.length;f<h;f++){let m=o[f],g=m.#t[u];g&&(g.#i=m.#i,d?(g.#t["*"]&&n.push(...this.#o(g.#t["*"],e,m.#i)),n.push(...this.#o(g,e,m.#i))):p.push(g));for(let y=0,v=m.#r.length;y<v;y++){let S=m.#r[y],w=m.#i===BO?{}:{...m.#i};if(S==="*"){let $=m.#t["*"];$&&(n.push(...this.#o($,e,m.#i)),$.#i=w,p.push($));continue}let[E,I,D]=S;if(!u&&!(D instanceof RegExp))continue;let k=m.#t[E],P=s.slice(c).join("/");if(D instanceof RegExp){let $=D.exec(P);if($){if(w[I]=$[0],n.push(...this.#o(k,e,m.#i,w)),Object.keys(k.#t).length){k.#i=w;let H=$[0].match(/\//)?.length??0;(a[H]||=[]).push(k)}continue}}(D===!0||D.test(u))&&(w[I]=u,d?(n.push(...this.#o(k,e,w,m.#i)),k.#t["*"]&&n.push(...this.#o(k.#t["*"],e,w,m.#i))):(k.#i=w,p.push(k)))}}o=p.concat(a.shift()??[])}return n.length>1&&n.sort((c,l)=>c.score-l.score),[n.map(({handler:c,params:l})=>[c,l])]}};var tye=class{name="TrieRouter";#e;constructor(){this.#e=new Ydt}add(t,e,r){let n=GH(e);if(n){for(let i=0,o=n.length;i<o;i++)this.#e.insert(t,n[i],r);return}this.#e.insert(t,e,r)}match(t,e){return this.#e.search(t,e)}};var un=class extends qdt{constructor(t={}){super(t),this.router=t.router??new eye({routers:[new QH,new tye]})}};function GT(t,e,r,n){let i=e;if(t){let o=parseInt(t,10);!isNaN(o)&&o>=0&&(i=o,r!==void 0&&i<r&&(i=r),n!==void 0&&i>n&&(i=n))}return i}var XH=new un,BS=[],ept=500;function tpt(t){BS.unshift(t),BS.length>ept&&(BS.length=ept)}function rpt(t,e,r){let n=wr(t.confidence),i=md(t.reasoning),o=Wa(t.reasoning,t.action);return{id:`bf_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,agentId:t.agentId,action:t.action,symbol:t.symbol,quantity:typeof t.quantity=="string"?parseFloat(t.quantity):t.quantity,reasoning:t.reasoning,confidence:n,intent:o,sources:i,coherenceScore:e.score,coherenceExplanation:e.explanation,hallucinationFlags:r.flags,roundId:t.roundId??void 0,timestamp:t.createdAt?.toISOString()??new Date().toISOString()}}XH.get("/",async t=>{let e=GT(t.req.query("limit"),20,1,100),r=GT(t.req.query("offset"),0,0),n=t.req.query("agent"),i=t.req.query("intent"),o=parseFloat(t.req.query("minConfidence")??"0"),s=parseFloat(t.req.query("maxConfidence")??"1");try{let a=[];n&&a.push(rr(Vt.agentId,n)),i&&a.push(rr(Vt.intent,i)),o>0&&a.push(JI(Vt.confidence,o)),s<1&&a.push(av(Vt.confidence,s));let c=a.length>0?zo(...a):void 0,l=await Ut.select().from(Vt).where(c).orderBy(Ro(Vt.timestamp)).limit(e).offset(r),u=await Ut.select({count:re`count(*)`}).from(Vt).where(c);return t.json({ok:!0,feed:l,total:Number(u[0]?.count??0),limit:e,offset:r,source:"database"})}catch{let a=BS;n&&(a=a.filter(l=>l.agentId===n)),i&&(a=a.filter(l=>l.intent===i)),a=a.filter(l=>l.confidence>=o&&l.confidence<=s);let c=a.slice(r,r+e);return t.json({ok:!0,feed:c,total:a.length,limit:e,offset:r,source:"cache"})}});XH.get("/highlights",async t=>{let e=GT(t.req.query("limit"),10,1,50);try{let r=await Ut.select().from(Vt).where(av(Vt.coherenceScore,.4)).orderBy(Ro(Vt.timestamp)).limit(e),n=await Ut.select().from(Vt).where(JI(Vt.confidence,.8)).orderBy(Ro(Vt.timestamp)).limit(e),i=new Set,o=[];for(let s of[...r,...n])i.has(s.id)||(i.add(s.id),o.push(s));return o.sort((s,a)=>{let c=(s.coherenceScore??1)-(s.confidence??0)*.3,l=(a.coherenceScore??1)-(a.confidence??0)*.3;return c-l}),t.json({ok:!0,highlights:o.slice(0,e),criteria:{lowCoherence:"Trades where reasoning contradicts the action (coherence < 0.4)",highConfidenceRisk:"Trades with very high confidence (> 0.8) that need outcome tracking"}})}catch{let r=BS.filter(n=>n.coherenceScore<.4||n.confidence>.8).sort((n,i)=>{let o=n.coherenceScore-n.confidence*.3,s=i.coherenceScore-i.confidence*.3;return o-s}).slice(0,e);return t.json({ok:!0,highlights:r,criteria:{lowCoherence:"Trades where reasoning contradicts the action",highConfidenceRisk:"Very high confidence trades needing outcome review"},source:"cache"})}});XH.get("/stats",async t=>{try{let r=(await Ut.select({agentId:Vt.agentId,totalTrades:re`count(*)`,avgCoherence:re`avg(${Vt.coherenceScore})`,avgConfidence:re`avg(${Vt.confidence})`,hallucinationCount:re`count(*) filter (where jsonb_array_length(${Vt.hallucinationFlags}) > 0)`}).from(Vt).groupBy(Vt.agentId)).map(n=>({agentId:n.agentId,totalTrades:Number(n.totalTrades),avgCoherence:ne(Number(n.avgCoherence)||0),avgConfidence:ne(Number(n.avgConfidence)||0),hallucinationRate:Number(n.totalTrades)>0?ne(Number(n.hallucinationCount)/Number(n.totalTrades)):0}));return t.json({ok:!0,benchmarkMetrics:{agents:r,overallCoherence:r.length>0?Math.round(r.reduce((n,i)=>n+i.avgCoherence,0)/r.length*100)/100:0,overallHallucinationRate:r.length>0?Math.round(r.reduce((n,i)=>n+i.hallucinationRate,0)/r.length*100)/100:0}})}catch{let e=new Map;for(let n of BS){let i=e.get(n.agentId)??{coherence:[],confidence:[],hallucinations:0};i.coherence.push(n.coherenceScore),i.confidence.push(n.confidence),n.hallucinationFlags.length>0&&i.hallucinations++,e.set(n.agentId,i)}let r=Array.from(e.entries()).map(([n,i])=>({agentId:n,totalTrades:i.coherence.length,avgCoherence:ne(i.coherence.reduce((o,s)=>o+s,0)/i.coherence.length),avgConfidence:ne(i.confidence.reduce((o,s)=>o+s,0)/i.confidence.length),hallucinationRate:ne(i.hallucinations/i.coherence.length)}));return t.json({ok:!0,benchmarkMetrics:{agents:r},source:"cache"})}});XH.get("/:agentId",async t=>{let e=t.req.param("agentId"),r=GT(t.req.query("limit"),20,1,100),n=GT(t.req.query("offset"),0,0);try{let i=await Ut.select().from(Vt).where(rr(Vt.agentId,e)).orderBy(Ro(Vt.timestamp)).limit(r).offset(n),o=await Ut.select({count:re`count(*)`}).from(Vt).where(rr(Vt.agentId,e)),s=Number(o[0]?.count??0),a=i.length>0?i.reduce((l,u)=>l+(u.coherenceScore??0),0)/i.length:0,c=i.filter(l=>l.hallucinationFlags&&l.hallucinationFlags.length>0).length;return t.json({ok:!0,agentId:e,feed:i,total:s,limit:r,offset:n,benchmarkScores:{avgCoherence:ne(a),hallucinationRate:s>0?ne(c/i.length):0,tradesAnalyzed:i.length}})}catch{let i=BS.filter(s=>s.agentId===e),o=i.slice(n,n+r);return t.json({ok:!0,agentId:e,feed:o,total:i.length,limit:r,offset:n,source:"cache"})}});var Lur=.1,Bur=.2,$ur=.35,Uur=.2,Fur=.15,zur=.4,Hur=.2,Vur=.2,Gur=.2,jur=.3,qur=.4,Wur=.3,Jur=.3,Kur=.5,Qur={minReasoningLength:30,minCoherenceScore:.2,maxHallucinationSeverity:.75,minCompositeScore:.3,enforceRejection:!0},Xur={...Qur},yp={totalChecked:0,totalPassed:0,totalRejected:0,rejectionsByReason:{},avgCompositeScore:0,recentScores:[]},Yur=100;function npt(t,e,r){let n={...Xur,...r},i=[];if(t.action==="hold"){let m=qa(t.reasoning,"hold",e),g=jc(t.reasoning,e);return{passed:!0,decision:t,rejectionReasons:[],scores:{reasoningLength:1,dataReference:1,coherence:m.score,hallucinationFree:1-g.severity,structuralCompleteness:1,composite:1},coherence:m,hallucinations:g}}let o=t.reasoning.length,s=o>=n.minReasoningLength?1:0;s===0&&i.push(`Reasoning too short (${o} chars, min ${n.minReasoningLength})`);let a=Zur(t.reasoning,e);a<jur&&i.push(`Reasoning doesn't reference market data (score: ${a.toFixed(2)})`);let c=qa(t.reasoning,t.action,e);c.score<n.minCoherenceScore&&i.push(`Coherence too low (${c.score.toFixed(2)}, min ${n.minCoherenceScore}): ${c.explanation}`);let l=jc(t.reasoning,e),u=1-l.severity;l.severity>n.maxHallucinationSeverity&&i.push(`Too many hallucinations (severity: ${l.severity.toFixed(2)}, max ${n.maxHallucinationSeverity}): ${l.flags.join("; ")}`);let d=edr(t);d<Kur&&i.push(`Reasoning structurally incomplete (score: ${d.toFixed(2)}). Missing sources or intent.`);let p=Math.round((s*Lur+a*Bur+c.score*$ur+u*Uur+d*Fur)*100)/100;p<n.minCompositeScore&&i.push(`Composite quality score too low (${p.toFixed(2)}, min ${n.minCompositeScore})`);let f=i.length===0;yp.totalChecked++,yp.recentScores.push(p),yp.recentScores.length>Yur&&yp.recentScores.shift(),yp.avgCompositeScore=yp.recentScores.reduce((m,g)=>m+g,0)/yp.recentScores.length;let h=t;if(!f&&n.enforceRejection){yp.totalRejected++;for(let m of i){let g=m.split("(")[0].trim();yp.rejectionsByReason[g]=(yp.rejectionsByReason[g]??0)+1}h={action:"hold",symbol:t.symbol,quantity:0,reasoning:`[QUALITY GATE REJECTED] Original action: ${t.action} ${t.symbol}. Rejection reasons: ${i.join("; ")}. Original reasoning: ${t.reasoning.slice(0,200)}`,confidence:0,timestamp:t.timestamp,sources:t.sources,intent:t.intent},console.log(`[QualityGate] REJECTED ${t.action} ${t.symbol}: composite=${p.toFixed(2)}, reasons=${i.length}`)}else yp.totalPassed++;return{passed:f,decision:h,rejectionReasons:i,scores:{reasoningLength:s,dataReference:a,coherence:c.score,hallucinationFree:u,structuralCompleteness:d,composite:p},coherence:c,hallucinations:l}}function Zur(t,e){let r=0,n=t.toLowerCase();return e.filter(o=>n.includes(o.symbol.toLowerCase())).length>0&&(r+=zur),/\$\d+\.?\d*/i.test(t)&&(r+=Hur),/[\d.]+%|percent|change|up\s+\d|down\s+\d/i.test(t)&&(r+=Vur),/because|therefore|given that|based on|considering|analysis/i.test(t)&&(r+=Gur),Math.min(1,r)}function edr(t){let e=0;return t.sources&&t.sources.length>0&&(e+=qur),t.intent&&(e+=Wur),t.predictedOutcome&&(e+=Jur),e}Ci();var $O={lastRun:null,totalProcessed:0,outcomes:[]},ipt=500;async function opt(t){let e=[],r=new Map;for(let n of t)r.set(n.symbol.toLowerCase(),n.price);try{let n=new Date(Date.now()-18e5),i=await Ut.select().from(Vt).where(zo(MM(Vt.actualOutcome),av(Vt.timestamp,n))).orderBy(Ro(Vt.timestamp)).limit(100);for(let o of i){let s=r.get(o.symbol.toLowerCase());if(!s)continue;if(o.action==="hold"){let m=`Held position. ${o.symbol} currently at $${s.toFixed(2)}.`;await Ut.update(Vt).set({actualOutcome:m}).where(rr(Vt.id,o.id)),e.push({justificationId:o.id,agentId:o.agentId,symbol:o.symbol,action:o.action,entryPrice:null,currentPrice:s,pnlPercent:null,outcome:"breakeven",outcomeText:m,confidenceAtTrade:o.confidence,wasCalibrated:!0});continue}let a=null;try{let m=await Ut.select().from(Kn).where(zo(rr(Kn.agentId,o.agentId),rr(Kn.stockSymbol,o.symbol))).orderBy(Ro(Kn.createdAt)).limit(1);m.length>0&&(a=parseFloat(m[0].pricePerToken))}catch{}let c=null,l="pending",u="";a&&a>0?(o.action==="buy"?c=(s-a)/a*100:c=(a-s)/a*100,Math.abs(c)<.5?(l="breakeven",u=`Breakeven. Entry $${a.toFixed(2)}, current $${s.toFixed(2)} (${c>=0?"+":""}${c.toFixed(2)}%).`):c>0?(l="profit",u=`Profit: +${c.toFixed(2)}%. Entry $${a.toFixed(2)}, current $${s.toFixed(2)}.`):(l="loss",u=`Loss: ${c.toFixed(2)}%. Entry $${a.toFixed(2)}, current $${s.toFixed(2)}.`)):(u=`${o.action==="buy"?"Bought":"Sold"} ${o.symbol}. Current price: $${s.toFixed(2)}.`,l="pending");let d=o.confidence,p=d>=.6,f=p&&l==="profit"||!p&&l!=="profit"||l==="breakeven";await Ut.update(Vt).set({actualOutcome:u}).where(rr(Vt.id,o.id));let h={justificationId:o.id,agentId:o.agentId,symbol:o.symbol,action:o.action,entryPrice:a,currentPrice:s,pnlPercent:c,outcome:l,outcomeText:u,confidenceAtTrade:d,wasCalibrated:f};e.push(h),$O.outcomes.unshift(h)}$O.outcomes.length>ipt&&($O.outcomes.length=ipt),$O.lastRun=new Date().toISOString(),$O.totalProcessed+=e.length,console.log(`[OutcomeTracker] Processed ${e.length} outcomes. Profit: ${e.filter(o=>o.outcome==="profit").length}, Loss: ${e.filter(o=>o.outcome==="loss").length}, Breakeven: ${e.filter(o=>o.outcome==="breakeven").length}`)}catch(n){console.error(`[OutcomeTracker] Failed: ${He(n)}`)}return e}var jT=new Map,rye=[],spt=200,apt=500;function cpt(t){let e=jT.get(t.roundId)??[];if(e.push(t),jT.set(t.roundId,e),jT.size>apt){let r=Array.from(jT.keys());for(let n=0;n<r.length-apt;n++)jT.delete(r[n])}}function lpt(t){let e=jT.get(t);if(!e||e.length<2)return null;let r=[];for(let d=0;d<e.length;d++)for(let p=d+1;p<e.length;p++){let f=e[d],h=e[p],m=tdr(f,h);r.push(m)}let n=r.filter(d=>d.analysis.actionConflict).length,i=r.length>0?r.reduce((d,p)=>d+p.analysis.divergenceScore,0)/r.length:0,o=r.length>0?r.reduce((d,p)=>d+p.analysis.confidenceSpread,0)/r.length:0,s=new Map;for(let d of r)if(d.analysis.actionConflict){let p=d.symbol;s.set(p,(s.get(p)??0)+1)}let a=s.size>0?[...s.entries()].sort((d,p)=>p[1]-d[1])[0][0]:null,c=new Map;for(let d of e){let p=c.get(d.symbol)??new Set;p.add(d.action),c.set(d.symbol,p)}let l=[...c.entries()].filter(([,d])=>d.size===1).map(([d])=>d),u={roundId:t,timestamp:e[0].timestamp,diffs:r,stats:{avgDivergence:ne(i),actionConflictRate:r.length>0?ne(n/r.length):0,avgConfidenceSpread:ne(o),mostDisagreedSymbol:a,consensusSymbols:l}};return rye.unshift(u),rye.length>spt&&(rye.length=spt),u}function tdr(t,e){let r=t.action==="buy"&&e.action==="sell"||t.action==="sell"&&e.action==="buy",n=t.confidence>1?t.confidence/100:t.confidence,i=e.confidence>1?e.confidence/100:e.confidence,o=Math.abs(n-i),s=t.intent===e.intent,a=new Set(t.sources),c=new Set(e.sources),l=[...a].filter(w=>c.has(w)),u=[...a].filter(w=>!c.has(w)),d=[...c].filter(w=>!a.has(w)),p=t.reasoning.length,f=e.reasoning.length,h=p>=f?t.agentId:e.agentId,m=Math.min(p,f)>0?ne(Math.max(p,f)/Math.min(p,f)):1,g=t.coherenceScore>=e.coherenceScore?t.agentId:e.agentId,y=0;r&&(y+=.4),s||(y+=.15),y+=o*.2,y+=(1-l.length/Math.max(1,a.size+c.size-l.length))*.1,Math.abs(t.coherenceScore-e.coherenceScore)>.3&&(y+=.15),y=Math.min(1,y);let v=[];r&&v.push(`ACTION CONFLICT: ${t.agentId} wants to ${t.action} while ${e.agentId} wants to ${e.action}`),o>.3&&v.push(`Large confidence gap: ${t.agentId}=${(n*100).toFixed(0)}% vs ${e.agentId}=${(i*100).toFixed(0)}%`),s||v.push(`Different strategies: ${t.agentId} (${t.intent}) vs ${e.agentId} (${e.intent})`),m>2&&v.push(`${h} provided ${m}x more detailed reasoning`),v.length===0&&v.push("Agents largely agree on this trade");let S={actionConflict:r,confidenceSpread:ne(o),intentMatch:s,sharedSources:l,uniqueSourcesA:u,uniqueSourcesB:d,deeperReasoningAgent:h,reasoningLengthRatio:m,higherCoherenceAgent:g,divergenceScore:ne(y),summary:v.join(". ")};return{symbol:t.symbol!==e.symbol?`${t.symbol} vs ${e.symbol}`:t.symbol,roundId:t.roundId,timestamp:t.timestamp,agentA:t,agentB:e,analysis:S}}var nye=[],upt=5e3;function dpt(t,e,r,n,i,o,s){nye.unshift({agentId:t,symbol:e,roundId:r,hadHallucinations:n.length>0,flags:n,severity:i,confidence:o,action:s,timestamp:new Date().toISOString()}),nye.length>upt&&(nye.length=upt)}var iye=[],ppt=3e3;function fpt(t){iye.unshift(t),iye.length>ppt&&(iye.length=ppt)}var YH=[],mpt=5e3;function hpt(t){YH.push(t),YH.length>mpt&&YH.splice(0,YH.length-mpt)}var ZH=[],gpt=5e3;function ypt(t){ZH.push({...t,wordCount:gr(t.reasoning)}),ZH.length>gpt&&ZH.splice(0,ZH.length-gpt)}var oye=[],bpt=5e3;function vpt(t){oye.unshift(t),oye.length>bpt&&(oye.length=bpt)}var tV=new un,gg=[],_pt=5e3;function Spt(t){gg.push(t),gg.length>_pt&&gg.splice(0,gg.length-_pt)}function qT(t){if(t.length<2)return 0;let e=Qe(t);return t.reduce((r,n)=>r+(n-e)**2,0)/(t.length-1)}function xpt(t,e){let r=t.length,n=e.length;if(r<2||n<2)return{tStatistic:0,degreesOfFreedom:0,pValue:1};let i=Qe(t),o=Qe(e),s=qT(t),a=qT(e),c=s/r,l=a/n,u=Math.sqrt(c+l);if(u===0)return{tStatistic:0,degreesOfFreedom:r+n-2,pValue:1};let d=(i-o)/u,p=(c+l)**2/(c**2/(r-1)+l**2/(n-1)),f=rdr(Math.abs(d),p);return{tStatistic:he(d),degreesOfFreedom:Math.round(p*10)/10,pValue:f}}function rdr(t,e){if(e<=0||t===0)return 1;let r=e/(e+t*t),n=e/2,o=ndr(r,n,.5);return Hi(Math.round(o*1e4)/1e4,0,1)}function ndr(t,e,r){if(t<=0)return 0;if(t>=1)return 1;let n=eV(e)+eV(r)-eV(e+r),i=Math.exp(Math.log(t)*e+Math.log(1-t)*r-n)/e,o=1,s=1,a=1-(e+r)*t/(e+1);Math.abs(a)<1e-30&&(a=1e-30),a=1/a,o=a;for(let c=1;c<=200;c++){let l=c*(r-c)*t/((e+2*c-1)*(e+2*c));a=1+l*a,Math.abs(a)<1e-30&&(a=1e-30),s=1+l/s,Math.abs(s)<1e-30&&(s=1e-30),a=1/a,o*=a*s,l=-(e+c)*(e+r+c)*t/((e+2*c)*(e+2*c+1)),a=1+l*a,Math.abs(a)<1e-30&&(a=1e-30),s=1+l/s,Math.abs(s)<1e-30&&(s=1e-30),a=1/a;let u=a*s;if(o*=u,Math.abs(u-1)<1e-10)break}return i*o}function eV(t){let r=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(t<.5)return Math.log(Math.PI/Math.sin(Math.PI*t))-eV(1-t);t-=1;let n=r[0];for(let o=1;o<9;o++)n+=r[o]/(t+o);let i=t+7+.5;return .5*Math.log(2*Math.PI)+(t+.5)*Math.log(i)-i+Math.log(n)}function wpt(t,e){let r=t.length,n=e.length;if(r<2||n<2)return{d:0,label:"insufficient data"};let i=Math.sqrt(((r-1)*qT(t)+(n-1)*qT(e))/(r+n-2));if(i===0)return{d:0,label:"negligible"};let o=he((Qe(t)-Qe(e))/i),s=Math.abs(o),a=s<.2?"negligible":s<.5?"small":s<.8?"medium":"large";return{d:o,label:a}}function idr(t){let e=t.length;if(e<2)return{lower:0,upper:0,margin:0};let r=Qe(t),n=1.96*Math.sqrt(qT(t)/e);return{lower:ne(r-n),upper:ne(r+n),margin:ne(n)}}function $S(t){return WT().find(r=>r.agentId===t)?.name??t}function sye(){return[...new Set(gg.map(t=>t.agentId))]}function Apt(t,e){let r=new Map,n=new Map;for(let k of gg)k.agentId===t?r.set(k.roundId,k):k.agentId===e&&n.set(k.roundId,k);let i=[],o=[],s=[],a=[],c=[],l=[],u=0,d=0,p=0;for(let[k,P]of r){let $=n.get(k);$&&(i.push(P.pnl),o.push($.pnl),s.push(P.coherence),a.push($.coherence),c.push(P.hallucinationCount),l.push($.hallucinationCount),P.pnl>$.pnl?u++:$.pnl>P.pnl?d++:p++)}let f=i.length,h=xpt(i,o),m=wpt(i,o),g=i.reduce((k,P)=>k+P,0),y=o.reduce((k,P)=>k+P,0),v=Qe(s),S=Qe(a),w=Qe(c),E=Qe(l),I="draw";u>d?I=t:d>u?I=e:g>y?I=t:y>g&&(I=e);let D=f>=30&&h.pValue<.05?.95:f>=10?Math.min(.9,.5+f*.02):Math.min(.5,f*.1);return{agentA:{id:t,name:$S(t)},agentB:{id:e,name:$S(e)},rounds:f,agentAWins:u,agentBWins:d,draws:p,pnlComparison:{agentAPnl:ne(g),agentBPnl:ne(y),difference:ne(g-y),pValue:h.pValue,isSignificant:h.pValue<.05,effectSize:m.d,effectLabel:m.label},coherenceComparison:{agentA:ne(v),agentB:ne(S),winner:v>S?t:S>v?e:"tie"},hallucinationComparison:{agentA:ne(w),agentB:ne(E),winner:w<E?t:E<w?e:"tie"},overallWinner:I,confidence:ne(D)}}tV.get("/head-to-head/:agentA/:agentB",t=>{let e=t.req.param("agentA"),r=t.req.param("agentB");if(e===r)return t.json({ok:!1,error:"Cannot compare an agent with itself"},400);let n=Apt(e,r);return n.rounds===0?t.json({ok:!0,warning:"No shared rounds found between these agents",result:n}):t.json({ok:!0,result:n})});tV.get("/rankings",t=>{let r=sye().map(n=>{let i=gg.filter(c=>c.agentId===n),o=i.map(c=>c.pnl),s=idr(o),a=o.reduce((c,l)=>c+l,0);return{agentId:n,agentName:$S(n),rounds:i.length,totalPnl:ne(a),meanPnl:ne(Qe(o)),stdDev:ne(Math.sqrt(qT(o))),ci95:s,avgCoherence:ne(Qe(i.map(c=>c.coherence))),avgHallucinations:ne(Qe(i.map(c=>c.hallucinationCount)))}});return r.sort((n,i)=>i.totalPnl-n.totalPnl),r.forEach((n,i)=>Object.assign(n,{rank:i+1})),t.json({ok:!0,totalAgents:r.length,totalRounds:new Set(gg.map(n=>n.roundId)).size,rankings:r})});tV.get("/dominance-matrix",t=>{let e=sye(),r={};for(let i of e){r[i]={};for(let o of e){if(i===o){r[i][o]={wins:0,losses:0,draws:0,winRate:0};continue}let s=Apt(i,o),a=s.agentAWins+s.agentBWins+s.draws;r[i][o]={wins:s.agentAWins,losses:s.agentBWins,draws:s.draws,winRate:a>0?ne(s.agentAWins/a):0}}}let n=e.map(i=>{let o=e.filter(a=>a!==i),s=o.length>0?Qe(o.map(a=>r[i][a].winRate)):0;return{agentId:i,agentName:$S(i),avgWinRate:ne(s)}}).sort((i,o)=>o.avgWinRate-i.avgWinRate);return t.json({ok:!0,agents:e.map(i=>({id:i,name:$S(i)})),matrix:r,dominanceRanking:n,mostDominant:n[0]?.agentId??null})});tV.get("/statistical-tests",t=>{let e=sye(),r=[];for(let n=0;n<e.length;n++)for(let i=n+1;i<e.length;i++){let o=e[n],s=e[i],a=new Map,c=new Map;for(let v of gg)v.agentId===o?a.set(v.roundId,v.pnl):v.agentId===s&&c.set(v.roundId,v.pnl);let l=[],u=[];for(let[v,S]of a){let w=c.get(v);w!==void 0&&(l.push(S),u.push(w))}let d=xpt(l,u),p=wpt(l,u),f=d.pValue<.05,h=$S(o),m=$S(s),g=Qe(l)>=Qe(u)?h:m,y=l.length<2?"Insufficient data for statistical comparison":f?`${g} significantly outperforms (p=${d.pValue}, ${p.label} effect)`:`No significant difference (p=${d.pValue})`;r.push({agentA:o,agentB:s,sampleSizeA:l.length,sampleSizeB:u.length,sharedRounds:l.length,welchT:d,effectSize:p,isSignificant:f,interpretation:y})}return t.json({ok:!0,significanceLevel:.05,totalPairs:r.length,significantPairs:r.filter(n=>n.isSignificant).length,tests:r})});import{createHash as cye}from"crypto";var odr="1.0.0",sdr=500,aye=[],adr=new Map;function cdr(t){let e=JSON.stringify(t,Object.keys(t).sort());return cye("sha256").update(e).digest("hex")}function ldr(t){if(t.length===0)return cye("sha256").update("empty").digest("hex");if(t.length===1)return t[0];let e=[],r=[...t];for(r.length%2!==0&&r.push(r[r.length-1]),e.push(r);r.length>1;){let n=[];for(let i=0;i<r.length;i+=2)n.push(cye("sha256").update(r[i]+r[i+1]).digest("hex"));n.length>1&&n.length%2!==0&&n.push(n[n.length-1]),e.push(n),r=n}return adr.set(r[0],e),r[0]}function Ept(t,e){let r=0,n=e.map(c=>({id:c.id??`${t}-j${++r}`,agentId:c.agentId,action:c.action,symbol:c.symbol,reasoning:c.reasoning,confidence:c.confidence,timestamp:c.timestamp})),i=n.map(c=>({id:c.id,hash:cdr(c)})),o=ldr(i.map(c=>c.hash)),s=[...new Set(n.map(c=>c.agentId))],a={roundId:t,merkleRoot:o,justificationHashes:i,agentIds:s,timestamp:new Date().toISOString(),proofVersion:odr};for(aye.push(a);aye.length>sdr;)aye.shift()}var Oy={risk_appetite:.1,conviction:.15,adaptability:.15,contrarianism:.1,information_processing:.2,temporal_awareness:.1,emotional_regulation:.1,learning_rate:.1},lye=[Oy.risk_appetite,Oy.conviction,Oy.adaptability,Oy.contrarianism,Oy.information_processing,Oy.temporal_awareness,Oy.emotional_regulation,Oy.learning_rate],UO={structural_completeness:.2,data_grounding:.25,logical_soundness:.2,epistemic_honesty:.15,actionability:.2},uye=[UO.structural_completeness,UO.data_grounding,UO.logical_soundness,UO.epistemic_honesty,UO.actionability],bp={structure:.2,depth:.25,originality:.2,clarity:.15,cross_trade:.2},udr=[bp.structure,bp.depth,bp.originality,bp.clarity,bp.cross_trade],US={coherence:.4,hallucination_free:.3,discipline:.3},ddr=[US.coherence,US.hallucination_free,US.discipline],FS={jaccard_inverse:.4,unique_ngrams:.4,template_inverse:.2},pdr=[FS.jaccard_inverse,FS.unique_ngrams,FS.template_inverse],zS={risk_appetite:{hold_rate_inverse:.4,avg_trade_size:.3,high_conf_trades:.3},information_processing:{avg_coherence:.4,hallucination_free:.3,reasoning_length:.3}},FO=(t,e)=>{let r=t.reduce((i,o)=>i+o,0);if(Math.abs(r-1)>1e-4)throw new Error(`${e} weights sum to ${r.toFixed(4)}, expected 1.0`)};FO(lye,"GENOME_PILLAR_WEIGHTS");FO(uye,"CERTIFICATION_PILLAR_WEIGHTS");FO(udr,"FORENSIC_COMPONENT_WEIGHTS");FO(ddr,"ADAPTIVE_GATE_WEIGHTS");FO(pdr,"ORIGINALITY_ANALYSIS_WEIGHTS");var fdr=500;var Tpt=new Map;function Rpt(t,e,r,n){let i=Tpt.get(t)??[],o=1-r,s=n?1:0,a=ne(e*US.coherence+o*US.hallucination_free+s*US.discipline);i.push({coherence:e,hallucinationSeverity:r,disciplinePass:n,compositeScore:a,timestamp:new Date().toISOString()}),i.length>fdr&&i.shift(),Tpt.set(t,i)}var HS=new Map,Ipt=new Map,dye=new Map,rV=[],Cpt=new Map,pye=new Map;function Npt(t,e){if(e.length<2)return;for(let o of e)HS.has(o.agentId)||HS.set(o.agentId,1500),Ipt.set(o.agentId,o.agentName);for(let o=0;o<e.length;o++)for(let s=o+1;s<e.length;s++){let a=e[o],c=e[s],l=HS.get(a.agentId),u=HS.get(c.agentId),{newA:d,newB:p}=mdr(l,u,a.compositeScore,c.compositeScore);HS.set(a.agentId,d),HS.set(c.agentId,p)}let r=[...HS.entries()].sort((o,s)=>s[1]-o[1]),n=new Date().toISOString(),i=[];for(let o=0;o<r.length;o++){let[s,a]=r[o],c=o+1,l=Cpt.get(s)??c,u=e.find(h=>h.agentId===s),d=pye.get(s)??[];d.push(c),pye.set(s,d);let p={roundId:t,elo:nV(a),rank:c,compositeScore:u?.compositeScore??0,timestamp:n},f=dye.get(s)??[];f.push(p),dye.set(s,f),i.push({agentId:s,agentName:Ipt.get(s)??s,elo:nV(a),rank:c,previousRank:l,rankChange:l-c,compositeScore:u?.compositeScore??0,streak:hdr(s),roundsPlayed:(dye.get(s)??[]).length}),Cpt.set(s,c)}rV.push({roundId:t,timestamp:n,rankings:i}),rV.length>500&&rV.splice(0,rV.length-500)}function mdr(t,e,r,n){let i=1/(1+Math.pow(10,(e-t)/400)),o=1-i,s,a;r>n?(s=1,a=0):n>r?(s=0,a=1):(s=.5,a=.5);let c=t+32*(s-i),l=e+32*(a-o);return{newA:nV(c),newB:nV(l)}}function hdr(t){let e=pye.get(t);if(!e||e.length===0)return{type:"none",length:0,longestWin:0,longestLoss:0};let r=0,n=0,i=0,o=0;for(let c of e)c===1?(i++,o=0,r=Math.max(r,i)):(o++,i=0,n=Math.max(n,o));let s="none",a=0;return i>0?(s="winning",a=i):o>0&&(s="losing",a=o),{type:s,length:a,longestWin:r,longestLoss:n}}function nV(t){return Math.round(t*10)/10}var fye=[],Opt=3e3,iV=new Map,gdr=100;function ydr(t,e,r,n,i,o,s){let a=bdr(r,n,o),c=Adr(r,n),l=Edr(r,n,o),u=Tdr(r,n,o,t),d=Idr(a,c,l,n,i),p=ne(a.logicQuality*.25+a.evidenceUsage*.2+a.riskAwareness*.2+a.originality*.15+a.conclusionValidity*.2),f={reviewerAgentId:t,targetAgentId:e,roundId:s,overallScore:p,scores:a,critique:d,strengths:c,weaknesses:l,wouldAgree:u,timestamp:new Date().toISOString()};return fye.unshift(f),fye.length>Opt&&(fye.length=Opt),f}function kpt(t,e){let r=[];for(let u of t)for(let d of t){if(u.agentId===d.agentId)continue;let p=ydr(u.agentId,d.agentId,d.reasoning,d.action,d.symbol,d.confidence,e);r.push(p)}let i=[...new Set(t.map(u=>u.agentId))].map(u=>{let d=r.filter(p=>p.targetAgentId===u);return Cdr(u,d)}),o=null,s=null;for(let u of i)(!o||u.avgPeerScore<o.avgScore)&&(o={agentId:u.agentId,avgScore:u.avgPeerScore}),(!s||u.avgPeerScore>s.avgScore)&&(s={agentId:u.agentId,avgScore:u.avgPeerScore});let a=r.filter(u=>u.wouldAgree).length,c=r.length>0?ne(1-a/r.length):0,l={roundId:e,reviews:r,agentSummaries:i,disagreementRate:c,mostControversial:o,bestReviewed:s,timestamp:new Date().toISOString()};if(iV.set(e,l),iV.size>gdr){let u=[...iV.keys()][0];iV.delete(u)}return l}function bdr(t,e,r){let n=vdr(t),i=_dr(t),o=Sdr(t,e),s=xdr(t),a=wdr(t,e,r);return{logicQuality:ne(n),evidenceUsage:ne(i),riskAwareness:ne(o),originality:ne(s),conclusionValidity:ne(a)}}function vdr(t){let e=.3,r=gr(t);r>30&&(e+=.1),r>60&&(e+=.1),r>100&&(e+=.05);let n=[/\bbecause\b/i,/\btherefore\b/i,/\bconsequently\b/i,/\bas a result\b/i,/\bdue to\b/i,/\bgiven that\b/i,/\bthis suggests\b/i,/\bwhich means\b/i,/\bimplying\b/i,/\bsince\b/i,/\bhence\b/i,/\bthus\b/i];for(let s of n)s.test(t)&&(e+=.04);let i=[/\bhowever\b/i,/\bon the other hand\b/i,/\bwhile\b/i,/\balthough\b/i,/\bcompared to\b/i,/\brather than\b/i,/\binstead of\b/i,/\bbut\b/i,/\bdespite\b/i];for(let s of i)s.test(t)&&(e+=.03);let o=[/\d+\.?\d*%/,/ratio/i,/average/i,/relative/i,/volatility/i,/correlation/i,/standard deviation/i];for(let s of o)s.test(t)&&(e+=.03);return Math.min(1,e)}function _dr(t){let e=.2;/\$\d+\.?\d*/i.test(t)&&(e+=.15);let r=[/\bprice\b/i,/\bvolume\b/i,/\b24h\b/i,/\bchange\b/i,/\bmarket cap\b/i,/\bP\/E\b/i,/\bEPS\b/i,/\brevenue\b/i,/\bearnings\b/i,/\bRSI\b/i,/\bMACD\b/i,/\bmoving average\b/i,/\bsupport\b/i,/\bresistance\b/i,/\btrend\b/i];for(let i of r)i.test(t)&&(e+=.04);let n=t.match(/\b[A-Z]{2,5}x\b/g);return n&&n.length>1&&(e+=.1),/\bportfolio\b|\bposition\b|\bcash\b|\bbalance\b/i.test(t)&&(e+=.1),Math.min(1,e)}function Sdr(t,e){let r=.2,n=[/\brisk\b/i,/\bdownside\b/i,/\buncertain/i,/\bvolatil/i,/\bloss/i,/\bdrawdown\b/i,/\bcaution/i,/\bexposure\b/i,/\bhedg/i,/\bprotect/i,/\bstop.?loss/i,/\bdiversif/i,/\bconcentrat/i,/\blimit/i,/\bmax\s+position/i];for(let o of n)o.test(t)&&(r+=.05);let i=[/\bif\b/i,/\bcould\b/i,/\bmight\b/i,/\bmay\b/i,/\bpotentially\b/i,/\bpossibly\b/i,/\bin case\b/i];for(let o of i)o.test(t)&&(r+=.03);return e==="buy"&&/\bdownside\b|\brisk\b|\bcaution\b/i.test(t)&&(r+=.1),Math.min(1,r)}function xdr(t){let e=.3,r=gr(t),n=ai(t).length,i=new Set(t.toLowerCase().split(/\s+/)),o=r>0?i.size/r:0;e+=Math.min(.2,o*.3),n>=3&&(e+=.1),n>=5&&(e+=.05);let s=[/\bexpect\b/i,/\bpredict\b/i,/\bforecast\b/i,/\blikely\b/i,/\bwill\b/i,/\bshould\b/i,/\bnext\b/i,/\bfuture\b/i,/\bopportunity\b/i,/\bcatalyst\b/i,/\btarget\b/i];for(let a of s)a.test(t)&&(e+=.03);return/\bhistorically\b|\bpreviously\b|\blast\s+(?:week|month|quarter)/i.test(t)&&(e+=.1),Math.min(1,e)}function wdr(t,e,r){let n=.5,i=gr(t),o=wr(r);o>.8&&i<20&&(n-=.2),o<.3&&/\bdefinitely\b|\bcertainly\b|\bclearly\b/i.test(t)&&(n-=.15),e==="hold"&&i<15&&(n-=.1);let s=Ppt(t,[/\bbullish\b/i,/\bundervalued\b/i,/\bgrowth\b/i,/\bupside\b/i,/\baccumulate\b/i,/\bstrong\b/i,/\bpositive\b/i]),a=Ppt(t,[/\bbearish\b/i,/\bovervalued\b/i,/\bdecline\b/i,/\bdownside\b/i,/\bweak\b/i,/\bnegative\b/i,/\bconcern/i]);return e==="buy"&&s>a&&(n+=.2),e==="sell"&&a>s&&(n+=.2),e==="buy"&&a>s+1&&(n-=.15),e==="sell"&&s>a+1&&(n-=.15),Hr(n)}function Ppt(t,e){let r=0;for(let n of e)n.test(t)&&r++;return r}function Adr(t,e){let r=[];return gr(t)>60&&r.push("Detailed analysis with substantial reasoning"),/\bbecause\b|\btherefore\b|\bthus\b|\bconsequently\b/i.test(t)&&r.push("Uses causal reasoning to connect observations to conclusions"),/\brisk\b|\bdownside\b|\bcaution\b/i.test(t)&&r.push("Acknowledges risks and potential downsides"),/\$\d+\.?\d*/.test(t)&&/\d+\.?\d*%/.test(t)&&r.push("Cites specific quantitative data points"),/\bhowever\b|\bon the other hand\b|\balthough\b/i.test(t)&&r.push("Considers multiple perspectives before concluding"),/\bhistorically\b|\bpreviously\b|\blast\s+(?:week|month)/i.test(t)&&r.push("Incorporates historical context"),/\bportfolio\b|\bposition\b|\bconcentration\b|\bexposure\b/i.test(t)&&r.push("Considers portfolio-level implications"),r.slice(0,4)}function Edr(t,e,r){let n=[],i=gr(t),o=wr(r);return i<20&&n.push("Reasoning is too brief to be convincing"),o>.8&&!/\brisk\b|\bdownside\b|\bcaution\b/i.test(t)&&n.push("High confidence without acknowledging any risks"),e!=="hold"&&!/\$\d+\.?\d*/.test(t)&&n.push("No specific price levels cited to support the trade"),/\bbecause\b|\btherefore\b|\bsince\b|\bdue to\b/i.test(t)||n.push("Lacks explicit causal reasoning"),/\bI think\b|\bI feel\b|\bI believe\b/i.test(t)&&!/data|evidence|indicator/i.test(t)&&n.push("Relies on subjective belief without data support"),e==="buy"&&o<.3&&n.push("Executing a buy with very low confidence suggests uncertainty"),n.slice(0,4)}function Tdr(t,e,r,n){let i=wr(r),o=/\$\d+\.?\d*|\d+\.?\d*%/i.test(t),s=/\brisk\b|\bdownside\b|\bcaution\b/i.test(t),a=gr(t),c=.5;return a>40&&(c+=.1),o&&(c+=.1),s&&(c+=.05),i>.3&&i<.85&&(c+=.05),n.includes("claude")?(s&&(c+=.1),e==="hold"&&/\bcaution\b|\buncertain/i.test(t)&&(c+=.1),e==="buy"&&i>.9&&!s&&(c-=.15)):n.includes("gpt")?(/\bmomentum\b|\btrend\b|\bbreakout\b|\btechnical\b/i.test(t)&&(c+=.1),e==="hold"&&a<30&&(c-=.1)):n.includes("grok")&&(/\bcontrarian\b|\boverreaction\b|\bpanic\b|\boversold\b/i.test(t)&&(c+=.15),c-=.1),Rdr(t+n)%100<c*100}function Rdr(t){let e=0;for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);e=(e<<5)-e+n,e=e&e}return Math.abs(e)}function Idr(t,e,r,n,i){let o=[],s=(t.logicQuality+t.evidenceUsage+t.riskAwareness+t.originality+t.conclusionValidity)/5;return s>=.7?o.push(`The ${n} decision on ${i} is well-reasoned.`):s>=.4?o.push(`The ${n} decision on ${i} has some merit but could be stronger.`):o.push(`The ${n} decision on ${i} lacks sufficient justification.`),e.length>0&&o.push(`Strength: ${e[0]}.`),r.length>0&&o.push(`Concern: ${r[0]}.`),t.evidenceUsage<.4&&o.push("More specific data citations would strengthen this analysis."),t.riskAwareness<.3&&o.push("Risk factors should be explicitly addressed."),t.originality<.3&&o.push("The analysis restates observable facts without deeper insight."),o.join(" ")}function Cdr(t,e){if(e.length===0)return{agentId:t,avgPeerScore:0,avgScores:{logicQuality:0,evidenceUsage:0,riskAwareness:0,originality:0,conclusionValidity:0},peerAgreementRate:0,totalReviews:0,topStrength:null,topWeakness:null,reviewConsistency:0};let r=ne(e.reduce((m,g)=>m+g.overallScore,0)/e.length),n={logicQuality:Qe(e.map(m=>m.scores.logicQuality)),evidenceUsage:Qe(e.map(m=>m.scores.evidenceUsage)),riskAwareness:Qe(e.map(m=>m.scores.riskAwareness)),originality:Qe(e.map(m=>m.scores.originality)),conclusionValidity:Qe(e.map(m=>m.scores.conclusionValidity))},i=e.filter(m=>m.wouldAgree).length,o=ne(i/e.length),s=new Map,a=new Map;for(let m of e){for(let g of m.strengths)s.set(g,(s.get(g)??0)+1);for(let g of m.weaknesses)a.set(g,(a.get(g)??0)+1)}let c=s.size>0?[...s.entries()].sort((m,g)=>g[1]-m[1])[0][0]:null,l=a.size>0?[...a.entries()].sort((m,g)=>g[1]-m[1])[0][0]:null,u=e.map(m=>m.overallScore),d=r,p=u.reduce((m,g)=>m+(g-d)**2,0)/u.length,f=Math.sqrt(p),h=ne(Math.max(0,1-f*2));return{agentId:t,avgPeerScore:r,avgScores:n,peerAgreementRate:o,totalReviews:e.length,topStrength:c,topWeakness:l,reviewConsistency:h}}var Ndr=.2,Odr=.15,Pdr=.15,kdr=.1,Ddr=.15,Mdr=.1,Ldr=.15,Bdr=.75,$dr=.55,Udr=.35,Fdr=6,zdr=.2,Hdr=.5,Vdr=.1,Gdr=.1,jdr=.1,qdr=.1,Wdr=.1,Jdr=.06,Kdr=.05,Qdr=.15,Xdr=.05,Ydr=.1,Zdr=.15,epr=.1,tpr=.25,rpr=.15,npr=.25,ipr=.15,opr=.1,spr=3,apr=.05,cpr=.06,lpr=.1,upr=.1,dpr=.1,ppr=.15,fpr=.1,mpr=.15,hpr=.1,gpr=.15,ypr=.15,bpr=.1,vpr=.1,_pr=.1,Spr=5;var mye=[],Dpt=3e3,xpr=[{name:"price_action",patterns:[/\bprice\b/i,/\$\d+/i,/\btrading\s+at\b/i]},{name:"momentum",patterns:[/\bmomentum\b/i,/\btrend\b/i,/\bbreakout\b/i,/\brally\b/i]},{name:"mean_reversion",patterns:[/\boversold\b/i,/\boverbought\b/i,/\bpullback\b/i,/\breversion\b/i]},{name:"volume_analysis",patterns:[/\bvolume\b/i,/\bliquidity\b/i,/\bturnover\b/i]},{name:"technical_indicators",patterns:[/\bRSI\b/,/\bMACD\b/,/\bmoving average\b/i,/\bSMA\b/,/\bEMA\b/]},{name:"fundamental",patterns:[/\bearnings\b/i,/\brevenue\b/i,/\bP\/E\b/i,/\bvaluation\b/i,/\bfundamental/i]},{name:"sentiment",patterns:[/\bsentiment\b/i,/\bmood\b/i,/\bfear\b/i,/\bgreed\b/i,/\boptimism\b/i]},{name:"sector_macro",patterns:[/\bsector\b/i,/\bmacro\b/i,/\bmarket\b/i,/\beconomy\b/i,/\bindustry\b/i]},{name:"risk_assessment",patterns:[/\brisk\b/i,/\bvolatility\b/i,/\bdrawdown\b/i,/\bdownside\b/i]},{name:"portfolio_context",patterns:[/\bportfolio\b/i,/\bposition\b/i,/\ballocation\b/i,/\bdiversif/i]},{name:"news_catalyst",patterns:[/\bnews\b/i,/\bannounce/i,/\bcatalyst\b/i,/\bevent\b/i,/\bheadline\b/i]},{name:"comparative",patterns:[/\bcompared\s+to\b/i,/\brelative\b/i,/\bvs\.?\b/i,/\bpeer\b/i,/\bbenchmark\b/i]}],wpr=["alpha","beta","sharpe","sortino","drawdown","volatility","correlation","covariance","variance","standard deviation","momentum","mean reversion","arbitrage","convexity","tail risk","black swan","fat tail","skewness","kurtosis","risk-adjusted","information ratio","tracking error","value at risk","expected shortfall","kelly criterion","margin of safety","intrinsic value","discounted cash flow","earnings yield","free cash flow","capital allocation","systematic risk","idiosyncratic","factor exposure","regime change","liquidity premium","market microstructure","order flow","VWAP","TWAP","slippage","market impact","sector rotation","risk parity","maximum drawdown","monte carlo","bootstrap","backtest","out-of-sample","forward-looking","leading indicator","lagging indicator"];function Mpt(t,e,r,n,i){let o=gr(t),{breadth:s,angleCount:a}=Apr(t),c=Epr(t),l=Tpr(t),u=Rpr(t),d=Ipr(t),p=Cpr(t),f=Npr(t),h=Math.round((s*Ndr+c*Odr+l*Pdr+u*kdr+d*Ddr+p*Mdr+f*Ldr)*100)/100,m;h>=Bdr?m="expert":h>=$dr?m="deep":h>=Udr?m="moderate":m="shallow";let g={overall:h,analyticalBreadth:s,causalDepth:c,uncertaintyModeling:l,temporalAwareness:u,counterfactualReasoning:d,crossAssetAwareness:p,vocabularySophistication:f,wordCount:o,angleCount:a,classification:m};return mye.unshift({agentId:r,score:g,reasoning:t,action:e,symbol:n,roundId:i,timestamp:new Date().toISOString()}),mye.length>Dpt&&(mye.length=Dpt),g}function Apr(t){let e=0;for(let n of xpr)n.patterns.some(o=>o.test(t))&&e++;let r=Math.min(1,e/Fdr);return{breadth:ne(r),angleCount:e}}function Epr(t){let e=zdr,r=[/\bbecause\b/gi,/\btherefore\b/gi,/\bconsequently\b/gi,/\bas a result\b/gi,/\bthis leads to\b/gi,/\bwhich means\b/gi,/\bthis suggests\b/gi,/\bimplying\b/gi,/\bhence\b/gi,/\bthus\b/gi,/\bso\b/gi,/\bdue to\b/gi,/\bgiven that\b/gi,/\bsince\b/gi],n=0;for(let o of r){let s=t.match(o);s&&(n+=s.length)}return e+=Math.min(Hdr,n*Vdr),/\bif\b.{10,}\bthen\b/i.test(t)&&(e+=Gdr),n>=3&&(e+=jdr),ai(t).length>=3&&(e+=qdr),Math.min(1,ne(e))}function Tpr(t){let e=Wdr,r=[/\blikely\b/i,/\bunlikely\b/i,/\bprobably\b/i,/\bpossibly\b/i,/\bpotentially\b/i,/\bchance\b/i,/\bprobability\b/i,/\b\d+%\s+(?:chance|probability|likely)/i];for(let i of r)i.test(t)&&(e+=Jdr);let n=[/\bmight\b/i,/\bcould\b/i,/\bmay\b/i,/\buncertain\b/i,/\bhard to predict\b/i,/\bdifficult to say\b/i,/\bremains to be seen\b/i,/\bin my estimation\b/i];for(let i of n)i.test(t)&&(e+=Kdr);return/\bbetween\s+\$?\d+\s+and\s+\$?\d+/i.test(t)&&(e+=Qdr),/\brange\b/i.test(t)&&(e+=Xdr),/\bscenario\b/i.test(t)&&(e+=Ydr),/\bbest case\b|\bworst case\b|\bbase case\b/i.test(t)&&(e+=Zdr),Math.min(1,ne(e))}function Rpr(t){let e=epr,r=0;return/\bhistorically\b|\bpreviously\b|\blast\s+(?:week|month|quarter|year)\b|\bin the past\b/i.test(t)&&(e+=tpr,r++),/\bcurrently\b|\bright now\b|\bat present\b|\btoday\b/i.test(t)&&(e+=rpr,r++),/\bgoing forward\b|\bnext\s+(?:week|month|quarter)\b|\bexpect\b|\bforecast\b|\bwill\s+likely\b/i.test(t)&&(e+=npr,r++),/\bshort.?term\b|\blong.?term\b|\bmedium.?term\b/i.test(t)&&(e+=ipr),r>=spr&&(e+=opr),Math.min(1,ne(e))}function Ipr(t){let e=apr,r=[/\bwhat if\b/i,/\bif .+ fails?\b/i,/\bif .+ drops?\b/i,/\bon the other hand\b/i,/\balternatively\b/i,/\bhowever\b/i,/\bbut\b/i,/\bdespite\b/i,/\balthough\b/i,/\bnevertheless\b/i,/\bnonetheless\b/i];for(let n of r)n.test(t)&&(e+=cpr);return/\bif.+(?:falls|drops|declines|crashes)/i.test(t)&&(e+=lpr),/\bstop.?loss\b|\bexit strategy\b|\bbail out\b/i.test(t)&&(e+=upr),/\bcould\s+also\b|\banother option\b|\binstead\b|\brather than\b/i.test(t)&&(e+=dpr),/\bI could be wrong\b|\brisk is\b|\bdownside scenario\b|\bbear case\b/i.test(t)&&(e+=ppr),Math.min(1,ne(e))}function Cpr(t){let e=fpr,r=t.match(/\b[A-Z]{2,5}x\b/g)??[],n=new Set(r);return n.size>1&&(e+=mpr),n.size>3&&(e+=hpr),/\bportfolio\b|\boverall\s+(?:position|exposure|allocation)\b/i.test(t)&&(e+=gpr),/\bsector\b|\bmarket-wide\b|\bcorrelation\b|\bbeta\b/i.test(t)&&(e+=ypr),/\bconcentrat/i.test(t)&&(e+=bpr),/\bdiversif/i.test(t)&&(e+=vpr),/\bhedge\b|\boffset\b|\bbalance\b/i.test(t)&&(e+=_pr),Math.min(1,ne(e))}function Npr(t){let e=t.toLowerCase(),r=0;for(let i of wpr)e.includes(i.toLowerCase())&&r++;let n=Math.min(1,r/Spr);return ne(n)}var hye=[],gye=[],Lpt=5e3,Bpt=500;function JT(t){let e=t.map(f=>f.change24h).filter(f=>f!==null);if(e.length===0)return{regime:"uncertain",avgChange:0,maxChange:0,changeStdDev:0,stocksUp:0,stocksDown:0,timestamp:new Date().toISOString()};let r=e.reduce((f,h)=>f+h,0)/e.length,n=Math.max(...e.map(Math.abs)),i=e.reduce((f,h)=>f+(h-r)**2,0)/e.length,o=Math.sqrt(i),s=e.filter(f=>f>0).length,a=e.filter(f=>f<0).length,c=o>2.5||n>5,l=r>.5,u=r<-.5,d;l&&c?d="bull_volatile":l?d="bull_calm":u&&c?d="bear_volatile":u?d="bear_calm":Math.abs(r)<=.5&&!c?d="sideways":d="uncertain";let p={regime:d,avgChange:ne(r),maxChange:ne(n),changeStdDev:ne(o),stocksUp:s,stocksDown:a,timestamp:new Date().toISOString()};return gye.unshift(p),gye.length>Bpt&&(gye.length=Bpt),p}function $pt(t,e,r,n,i,o,s,a){hye.unshift({agentId:t,regime:e,coherenceScore:r,depthScore:n,hadHallucinations:i,confidence:o,action:s,wasCorrect:null,roundId:a,timestamp:new Date().toISOString()}),hye.length>Lpt&&(hye.length=Lpt)}var yye=[],Upt=5e3;function Fpt(t,e,r){let n=1-r.hallucinationRate,i=Math.round((r.coherence*.25+r.depth*.2+n*.2+r.discipline*.15+r.confidence*.1+.5*.1)*100)/100;yye.unshift({agentId:t,roundId:e,...r,composite:i,timestamp:new Date().toISOString()}),yye.length>Upt&&(yye.length=Upt)}var bye=class{writer;encoder;writable;abortSubscribers=[];responseReadable;aborted=!1;closed=!1;constructor(t,e){this.writable=t,this.writer=t.getWriter(),this.encoder=new TextEncoder;let r=e.getReader();this.abortSubscribers.push(async()=>{await r.cancel()}),this.responseReadable=new ReadableStream({async pull(n){let{done:i,value:o}=await r.read();i?n.close():n.enqueue(o)},cancel:()=>{this.abort()}})}async write(t){try{typeof t=="string"&&(t=this.encoder.encode(t)),await this.writer.write(t)}catch{}return this}async writeln(t){return await this.write(t+`
`),this}sleep(t){return new Promise(e=>setTimeout(e,t))}async close(){try{await this.writer.close()}catch{}this.closed=!0}async pipe(t){this.writer.releaseLock(),await t.pipeTo(this.writable,{preventClose:!0}),this.writer=this.writable.getWriter()}onAbort(t){this.abortSubscribers.push(t)}abort(){this.aborted||(this.aborted=!0,this.abortSubscribers.forEach(t=>t()))}};var oV=()=>{let t=typeof Bun<"u"?Bun.version:void 0;if(t===void 0)return!1;let e=t.startsWith("1.1")||t.startsWith("1.0")||t.startsWith("0.");return oV=()=>e,e};var zpt=class extends bye{constructor(t,e){super(t,e)}async writeSSE(t){let r=(await DO(t.data,kO.Stringify,!1,{})).split(/\r\n|\r|\n/).map(i=>`data: ${i}`).join(`
`),n=[t.event&&`event: ${t.event}`,r,t.id&&`id: ${t.id}`,t.retry&&`retry: ${t.retry}`].filter(Boolean).join(`
`)+`

`;await this.write(n)}},Opr=async(t,e,r)=>{try{await e(t)}catch(n){n instanceof Error&&r?(await r(n,t),await t.writeSSE({event:"error",data:n.message})):console.error(n)}finally{t.close()}},Ppr=new WeakMap,vye=(t,e,r)=>{let{readable:n,writable:i}=new TransformStream,o=new zpt(i,n);return oV()&&t.req.raw.signal.addEventListener("abort",()=>{o.closed||o.abort()}),Ppr.set(o.responseReadable,t),t.header("Transfer-Encoding","chunked"),t.header("Content-Type","text/event-stream"),t.header("Cache-Control","no-cache"),t.header("Connection","keep-alive"),Opr(o,e,r),t.newResponse(o.responseReadable)};var Sye=new un,Cl=[],Hpt=500,_ye=0,yg=new Set;function qc(t,e,r){_ye++;let n={id:`bev_${_ye}_${Date.now()}`,type:t,agentId:r,data:e,timestamp:new Date().toISOString()};Cl.unshift(n),Cl.length>Hpt&&(Cl.length=Hpt);for(let i of yg)try{i(n)}catch{yg.delete(i)}}Sye.get("/",t=>{let e=t.req.query("types")?.split(","),r=t.req.query("agent");return vye(t,async n=>{await n.writeSSE({event:"connected",data:JSON.stringify({message:"Connected to MoltApp Benchmark Stream",filters:{types:e??"all",agent:r??"all"},bufferedEvents:Cl.length}),id:"0"});let i=Cl.filter(a=>!(e&&!e.includes(a.type)||r&&a.agentId!==r)).slice(0,10).reverse();for(let a of i)await n.writeSSE({event:a.type,data:JSON.stringify({...a.data,agentId:a.agentId}),id:a.id});let o=async a=>{if(!(e&&!e.includes(a.type))&&!(r&&a.agentId!==r))try{await n.writeSSE({event:a.type,data:JSON.stringify({...a.data,agentId:a.agentId}),id:a.id})}catch{yg.delete(o)}};yg.add(o);let s=setInterval(async()=>{try{await n.writeSSE({event:"heartbeat",data:JSON.stringify({time:new Date().toISOString(),subscribers:yg.size}),id:`hb_${Date.now()}`})}catch{clearInterval(s),yg.delete(o)}},15e3);n.onAbort(()=>{clearInterval(s),yg.delete(o)}),await new Promise(a=>{n.onAbort(()=>a())})})});Sye.get("/recent",t=>{let e=Math.min(parseInt(t.req.query("limit")??"50",10),200),r=t.req.query("type"),n=t.req.query("agent"),i=Cl;return r&&(i=i.filter(o=>o.type===r)),n&&(i=i.filter(o=>o.agentId===n)),t.json({ok:!0,events:i.slice(0,e),total:i.length,subscribers:yg.size})});Sye.get("/stats",t=>{let e={};for(let s of Cl)e[s.type]=(e[s.type]??0)+1;let r={};for(let s of Cl)s.agentId&&(r[s.agentId]=(r[s.agentId]??0)+1);let n=Date.now()-300*1e3,i=Cl.filter(s=>new Date(s.timestamp).getTime()>n).length,o=Math.round(i/5*10)/10;return t.json({ok:!0,stats:{totalEvents:_ye,bufferedEvents:Cl.length,activeSubscribers:yg.size,eventsPerMinute:o,eventsByType:e,eventsByAgent:r,oldestEvent:Cl[Cl.length-1]?.timestamp??null,newestEvent:Cl[0]?.timestamp??null}})});Ci();function Vpt(t){return`You are ${t.agentName}, competing in the MoltApp AI trading benchmark.

You just made a HIGH-CONVICTION trade decision:
  Action: ${t.decision.action} ${t.decision.symbol}
  Confidence: ${t.decision.confidence}%
  Reasoning: ${t.decision.reasoning}

YOUR $STONKS PORTFOLIO (on Monad):
  Balance: ${t.stonksBalance.toFixed(0)} $STONKS
  Currently borrowed: ${t.totalBorrowed.toFixed(0)} $STONKS
  Currently lent out: ${t.totalLentOut.toFixed(0)} $STONKS

CONTEXT: $STONKS is a conviction-signaling token on Monad. When you borrow $STONKS from other agents, you're putting your reputation on the line \u2014 if your trade thesis is right, you profit and pay back with modest interest. If wrong, you lose $STONKS and pay interest on a losing position.

Borrowing $STONKS amplifies your conviction signal on the public leaderboard. Other agents and observers can see who is borrowing (high conviction) and who is lending (moderate conviction).

Your trading style: ${t.tradingStyle}

Should you borrow $STONKS to amplify your conviction on this trade?

Respond with ONLY valid JSON:
{
  "shouldBorrow": true | false,
  "amount": <number of $STONKS to borrow, 0 if not borrowing, max 50000>,
  "interestRate": <proposed annual rate, e.g. 0.05 for 5%>,
  "duration": <number of trading rounds, 1-6>,
  "reasoning": "<why you want/don't want to borrow>"
}`}function Gpt(t){return`You are ${t.lenderName}, competing in the MoltApp AI trading benchmark.

Another agent wants to BORROW $STONKS from you:

BORROWER: ${t.borrowerName}
  Trade: ${t.borrowerDecision.action} ${t.borrowerDecision.symbol}
  Confidence: ${t.borrowerDecision.confidence}%
  Thesis: ${t.borrowerDecision.reasoning}
  Borrowing reason: ${t.borrowerReasoning}

LOAN TERMS PROPOSED:
  Amount: ${t.requestedAmount.toFixed(0)} $STONKS
  Interest rate: ${(t.proposedRate*100).toFixed(1)}% per round
  Duration: ${t.proposedDuration} rounds

YOUR $STONKS PORTFOLIO:
  Balance: ${t.lenderStonksBalance.toFixed(0)} $STONKS
  Already lent out: ${t.lenderTotalLentOut.toFixed(0)} $STONKS
  Available: ${(t.lenderStonksBalance-t.lenderTotalLentOut).toFixed(0)} $STONKS

Your trading style: ${t.lenderTradingStyle}

CONTEXT: Lending $STONKS earns you interest and shows confidence in another agent's thesis. If the borrower's trade goes well, you get repaid with interest. If it goes poorly, the borrower may default (partial repayment).

Should you lend $STONKS to ${t.borrowerName}?

Respond with ONLY valid JSON:
{
  "shouldLend": true | false,
  "amountWilling": <$STONKS amount you'd lend, 0 if not lending>,
  "counterRate": <your preferred interest rate, e.g. 0.08 for 8%>,
  "reasoning": "<why you would/wouldn't lend>",
  "riskAssessment": "<your assessment of the borrower's trade thesis>"
}`}function jpt(t){let e=Wpt(t),r=JSON.parse(e);return{shouldBorrow:!!r.shouldBorrow,amount:Math.max(0,Math.min(5e4,Number(r.amount)||0)),interestRate:Hr(Number(r.interestRate)||.05),duration:Math.max(1,Math.min(6,Math.round(Number(r.duration)||2))),reasoning:String(r.reasoning||"No reasoning provided")}}function qpt(t){let e=Wpt(t),r=JSON.parse(e);return{shouldLend:!!r.shouldLend,amountWilling:Math.max(0,Number(r.amountWilling)||0),counterRate:Hr(Number(r.counterRate)||.05),reasoning:String(r.reasoning||"No reasoning provided"),riskAssessment:String(r.riskAssessment||"No assessment provided")}}function Wpt(t){let e=t.trim();e.startsWith("```json")?e=e.slice(7):e.startsWith("```")&&(e=e.slice(3)),e.endsWith("```")&&(e=e.slice(0,-3)),e=e.trim();let r=e.match(/\{[\s\S]*\}/);if(!r)throw new Error(`No JSON found in LLM response: ${t.slice(0,200)}`);return r[0]}var ib={};Nr(ib,{AbiCoder:()=>bd,AbstractProvider:()=>_d,AbstractSigner:()=>Sd,AlchemyProvider:()=>v2,AnkrProvider:()=>b2,BaseContract:()=>Dg,BaseWallet:()=>Fg,Block:()=>d2,BlockscoutProvider:()=>k9,BrowserProvider:()=>P9,ChainstackProvider:()=>_2,CloudflareProvider:()=>S2,ConstructorFragment:()=>am,Contract:()=>Kc,ContractEventPayload:()=>p2,ContractFactory:()=>f9,ContractTransactionReceipt:()=>S4,ContractTransactionResponse:()=>kg,ContractUnknownEventPayload:()=>jy,EnsPlugin:()=>Jy,EnsResolver:()=>qy,ErrorDescription:()=>v4,ErrorFragment:()=>Qa,EtherSymbol:()=>ebe,EtherscanPlugin:()=>v9,EtherscanProvider:()=>x2,EventFragment:()=>sm,EventLog:()=>Pg,EventPayload:()=>Sg,FallbackFragment:()=>l2,FallbackProvider:()=>I2,FeeData:()=>Vy,FeeDataNetworkPlugin:()=>g9,FetchCancelSignal:()=>YT,FetchRequest:()=>dn,FetchResponse:()=>Sp,FetchUrlFeeDataNetworkPlugin:()=>h2,FixedNumber:()=>ky,Fragment:()=>lm,FunctionFragment:()=>cm,GasCostPlugin:()=>Wy,HDNodeVoidWallet:()=>k2,HDNodeWallet:()=>Hg,Indexed:()=>u2,InfuraProvider:()=>rb,InfuraWebSocketProvider:()=>P4,Interface:()=>Ng,IpcSocketProvider:()=>M9,JsonRpcApiProvider:()=>Xy,JsonRpcProvider:()=>li,JsonRpcSigner:()=>Qy,LangEn:()=>Qc,Log:()=>Dl,LogDescription:()=>y4,MaxInt256:()=>Zye,MaxUint256:()=>Xye,MessagePrefix:()=>t9,MinInt256:()=>Yye,Mnemonic:()=>pm,MulticoinProviderPlugin:()=>x4,N:()=>Kye,NamedFragment:()=>Cg,Network:()=>Lr,NetworkPlugin:()=>Lp,NonceManager:()=>O9,ParamType:()=>Xi,PocketProvider:()=>D9,QuickNodeProvider:()=>R2,Result:()=>wp,Signature:()=>lo,SigningKey:()=>Fs,SocketBlockSubscriber:()=>C4,SocketEventSubscriber:()=>O4,SocketPendingSubscriber:()=>N4,SocketProvider:()=>$g,SocketSubscriber:()=>tb,StructFragment:()=>zy,Transaction:()=>kl,TransactionDescription:()=>b4,TransactionReceipt:()=>Og,TransactionResponse:()=>um,Typed:()=>Pn,TypedDataEncoder:()=>yd,UndecodedEventLog:()=>Gy,UnmanagedSubscriber:()=>Bp,Utf8ErrorFuncs:()=>cV,VoidSigner:()=>y2,Wallet:()=>H9,WebSocketProvider:()=>Ug,WeiPerEther:()=>Qye,Wordlist:()=>Bl,WordlistOwl:()=>Xa,WordlistOwlA:()=>Vg,ZeroAddress:()=>Np,ZeroHash:()=>c4,accessListify:()=>zs,assert:()=>le,assertArgument:()=>K,assertArgumentCount:()=>VS,assertNormalize:()=>GS,assertPrivate:()=>$s,authorizationify:()=>i2,checkResultErrors:()=>gV,computeAddress:()=>Pp,computeHmac:()=>Ap,concat:()=>Kt,copyRequest:()=>vd,dataLength:()=>Wc,dataSlice:()=>Xr,decodeBase58:()=>VO,decodeBase64:()=>GO,decodeBytes32String:()=>kbe,decodeRlp:()=>xg,decryptCrowdsaleJson:()=>F4,decryptKeystoreJson:()=>z9,decryptKeystoreJsonSync:()=>F9,defaultPath:()=>$4,defineProperties:()=>Be,dnsEncode:()=>l9,encodeBase58:()=>qS,encodeBase64:()=>jO,encodeBytes32String:()=>Pbe,encodeRlp:()=>ga,encryptKeystoreJson:()=>P2,encryptKeystoreJsonSync:()=>O2,ensNormalize:()=>ZV,formatEther:()=>Rye,formatUnits:()=>pV,fromTwos:()=>vg,getAccountPath:()=>Pve,getAddress:()=>kt,getBigInt:()=>Ze,getBytes:()=>Ne,getBytesCopy:()=>On,getCreate2Address:()=>obe,getCreateAddress:()=>r2,getDefaultProvider:()=>Sve,getIcapAddress:()=>ibe,getIndexedAccountPath:()=>kve,getNumber:()=>It,getUint:()=>jS,hashAuthorization:()=>d4,hashMessage:()=>g4,hexlify:()=>xe,id:()=>ki,isAddress:()=>abe,isAddressable:()=>l4,isBytesLike:()=>vp,isCallException:()=>Py,isCrowdsaleJson:()=>U4,isError:()=>on,isHexString:()=>Ar,isKeystoreJson:()=>B4,isValidName:()=>Abe,keccak256:()=>vr,lock:()=>Bmt,makeError:()=>Pr,mask:()=>Nl,namehash:()=>Fy,parseEther:()=>Iye,parseUnits:()=>fV,pbkdf2:()=>Ja,randomBytes:()=>ba,recoverAddress:()=>kp,resolveAddress:()=>ei,resolveProperties:()=>Vn,ripemd160:()=>Rp,scrypt:()=>Ip,scryptSync:()=>Cp,sha256:()=>co,sha512:()=>QS,showThrottleMessage:()=>Vs,solidityPacked:()=>u9,solidityPackedKeccak256:()=>Tbe,solidityPackedSha256:()=>Rbe,stripZerosLeft:()=>xye,toBeArray:()=>Qr,toBeHex:()=>fs,toBigInt:()=>hd,toNumber:()=>HO,toQuantity:()=>Qo,toTwos:()=>_g,toUtf8Bytes:()=>Yr,toUtf8CodePoints:()=>Aye,toUtf8String:()=>ao,uuidV4:()=>WO,verifyAuthorization:()=>pbe,verifyMessage:()=>Ebe,verifyTypedData:()=>Nbe,version:()=>KT,wordlists:()=>Wve,zeroPadBytes:()=>bg,zeroPadValue:()=>so});var KT="6.16.0";function Dpr(t,e,r){let n=e.split("|").map(o=>o.trim());for(let o=0;o<n.length;o++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}let i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${r}`,i.value=t,i}async function Vn(t){let e=Object.keys(t);return(await Promise.all(e.map(n=>Promise.resolve(t[n])))).reduce((n,i,o)=>(n[e[o]]=i,n),{})}function Be(t,e,r){for(let n in e){let i=e[n],o=r?r[n]:null;o&&Dpr(i,o,n),Object.defineProperty(t,n,{enumerable:!0,value:i,writable:!1})}}function QT(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(r=>QT(r,e)).join(", ")+" ]";if(t instanceof Uint8Array){let r="0123456789abcdef",n="0x";for(let i=0;i<t.length;i++)n+=r[t[i]>>4],n+=r[t[i]&15];return n}if(typeof t=="object"&&typeof t.toJSON=="function")return QT(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{let r=Object.keys(t);return r.sort(),"{ "+r.map(n=>`${QT(n,e)}: ${QT(t[n],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function on(t,e){return t&&t.code===e}function Py(t){return on(t,"CALL_EXCEPTION")}function Pr(t,e,r){let n=t;{let o=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${QT(r)}`);for(let s in r){if(s==="shortMessage")continue;let a=r[s];o.push(s+"="+QT(a))}}o.push(`code=${e}`),o.push(`version=${KT}`),o.length&&(t+=" ("+o.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return Be(i,{code:e}),r&&Object.assign(i,r),i.shortMessage==null&&Be(i,{shortMessage:n}),i}function le(t,e,r,n){if(!t)throw Pr(e,r,n)}function K(t,e,r,n){le(t,e,"INVALID_ARGUMENT",{argument:r,value:n})}function VS(t,e,r){r==null&&(r=""),r&&(r=": "+r),le(t>=e,"missing argument"+r,"MISSING_ARGUMENT",{count:t,expectedCount:e}),le(t<=e,"too many arguments"+r,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}var Mpr=["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"\xE9".normalize("NFD")!=="e\u0301")throw new Error("broken");t.push(e)}catch{}return t},[]);function GS(t){le(Mpr.indexOf(t)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:t}})}function $s(t,e,r){if(r==null&&(r=""),t!==e){let n=r,i="new";r&&(n+=".",i+=" "+r),le(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function Kpt(t,e,r){if(t instanceof Uint8Array)return r?new Uint8Array(t):t;if(typeof t=="string"&&t.length%2===0&&t.match(/^0x[0-9a-f]*$/i)){let n=new Uint8Array((t.length-2)/2),i=2;for(let o=0;o<n.length;o++)n[o]=parseInt(t.substring(i,i+2),16),i+=2;return n}K(!1,"invalid BytesLike value",e||"value",t)}function Ne(t,e){return Kpt(t,e,!1)}function On(t,e){return Kpt(t,e,!0)}function Ar(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function vp(t){return Ar(t,!0)||t instanceof Uint8Array}var Jpt="0123456789abcdef";function xe(t){let e=Ne(t),r="0x";for(let n=0;n<e.length;n++){let i=e[n];r+=Jpt[(i&240)>>4]+Jpt[i&15]}return r}function Kt(t){return"0x"+t.map(e=>xe(e).substring(2)).join("")}function Wc(t){return Ar(t,!0)?(t.length-2)/2:Ne(t).length}function Xr(t,e,r){let n=Ne(t);return r!=null&&r>n.length&&le(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r}),xe(n.slice(e??0,r??n.length))}function xye(t){let e=xe(t).substring(2);for(;e.startsWith("00");)e=e.substring(2);return"0x"+e}function Qpt(t,e,r){let n=Ne(t);le(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});let i=new Uint8Array(e);return i.fill(0),r?i.set(n,e-n.length):i.set(n,0),xe(i)}function so(t,e){return Qpt(t,e,!0)}function bg(t,e){return Qpt(t,e,!1)}var zO=BigInt(0),_p=BigInt(1),XT=9007199254740991;function vg(t,e){let r=jS(t,"value"),n=BigInt(It(e,"width"));if(le(r>>n===zO,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),r>>n-_p){let i=(_p<<n)-_p;return-((~r&i)+_p)}return r}function _g(t,e){let r=Ze(t,"value"),n=BigInt(It(e,"width")),i=_p<<n-_p;if(r<zO){r=-r,le(r<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});let o=(_p<<n)-_p;return(~r&o)+_p}else le(r<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return r}function Nl(t,e){let r=jS(t,"value"),n=BigInt(It(e,"bits"));return r&(_p<<n)-_p}function Ze(t,e){switch(typeof t){case"bigint":return t;case"number":return K(Number.isInteger(t),"underflow",e||"value",t),K(t>=-XT&&t<=XT,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(r){K(!1,`invalid BigNumberish string: ${r.message}`,e||"value",t)}}K(!1,"invalid BigNumberish value",e||"value",t)}function jS(t,e){let r=Ze(t,e);return le(r>=zO,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),r}var Xpt="0123456789abcdef";function hd(t){if(t instanceof Uint8Array){let e="0x0";for(let r of t)e+=Xpt[r>>4],e+=Xpt[r&15];return BigInt(e)}return Ze(t)}function It(t,e){switch(typeof t){case"bigint":return K(t>=-XT&&t<=XT,"overflow",e||"value",t),Number(t);case"number":return K(Number.isInteger(t),"underflow",e||"value",t),K(t>=-XT&&t<=XT,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return It(BigInt(t),e)}catch(r){K(!1,`invalid numeric string: ${r.message}`,e||"value",t)}}K(!1,"invalid numeric value",e||"value",t)}function HO(t){return It(hd(t))}function fs(t,e){let r=jS(t,"value"),n=r.toString(16);if(e==null)n.length%2&&(n="0"+n);else{let i=It(e,"width");if(i===0&&r===zO)return"0x";for(le(i*2>=n.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});n.length<i*2;)n="0"+n}return"0x"+n}function Qr(t,e){let r=jS(t,"value");if(r===zO){let o=e!=null?It(e,"width"):0;return new Uint8Array(o)}let n=r.toString(16);if(n.length%2&&(n="0"+n),e!=null){let o=It(e,"width");for(;n.length<o*2;)n="00"+n;le(o*2===n.length,`value exceeds width (${o} bytes)`,"NUMERIC_FAULT",{operation:"toBeArray",fault:"overflow",value:t})}let i=new Uint8Array(n.length/2);for(let o=0;o<i.length;o++){let s=o*2;i[o]=parseInt(n.substring(s,s+2),16)}return i}function Qo(t){let e=xe(vp(t)?t:Qr(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}var aV="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",sV=null;function Lpr(t){if(sV==null){sV={};for(let r=0;r<aV.length;r++)sV[aV[r]]=BigInt(r)}let e=sV[t];return K(e!=null,"invalid base58 value","letter",t),e}var Bpr=BigInt(0),wye=BigInt(58);function qS(t){let e=Ne(t),r=hd(e),n="";for(;r;)n=aV[Number(r%wye)]+n,r/=wye;for(let i=0;i<e.length&&!e[i];i++)n=aV[0]+n;return n}function VO(t){let e=Bpr;for(let r=0;r<t.length;r++)e*=wye,e+=Lpr(t[r]);return e}function GO(t){return On(Buffer.from(t,"base64"))}function jO(t){return Buffer.from(Ne(t)).toString("base64")}var Sg=class{filter;emitter;#e;constructor(e,r,n){this.#e=r,Be(this,{emitter:e,filter:n})}async removeListener(){this.#e!=null&&await this.emitter.off(this.filter,this.#e)}};function $pr(t,e,r,n,i){K(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function Ypt(t,e,r,n,i){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let o=0;for(let s=e+1;s<r.length&&r[s]>>6===2;s++)o++;return o}return t==="OVERRUN"?r.length-e-1:0}function Upr(t,e,r,n,i){return t==="OVERLONG"?(K(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),n.push(i),0):(n.push(65533),Ypt(t,e,r,n,i))}var cV=Object.freeze({error:$pr,ignore:Ypt,replace:Upr});function Zpt(t,e){e==null&&(e=cV.error);let r=Ne(t,"bytes"),n=[],i=0;for(;i<r.length;){let o=r[i++];if(o>>7===0){n.push(o);continue}let s=null,a=null;if((o&224)===192)s=1,a=127;else if((o&240)===224)s=2,a=2047;else if((o&248)===240)s=3,a=65535;else{(o&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,r,n):i+=e("BAD_PREFIX",i-1,r,n);continue}if(i-1+s>=r.length){i+=e("OVERRUN",i-1,r,n);continue}let c=o&(1<<8-s-1)-1;for(let l=0;l<s;l++){let u=r[i];if((u&192)!=128){i+=e("MISSING_CONTINUE",i,r,n),c=null;break}c=c<<6|u&63,i++}if(c!==null){if(c>1114111){i+=e("OUT_OF_RANGE",i-1-s,r,n,c);continue}if(c>=55296&&c<=57343){i+=e("UTF16_SURROGATE",i-1-s,r,n,c);continue}if(c<=a){i+=e("OVERLONG",i-1-s,r,n,c);continue}n.push(c)}}return n}function Yr(t,e){K(typeof t=="string","invalid string value","str",t),e!=null&&(GS(e),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;let o=t.charCodeAt(n);K(n<t.length&&(o&64512)===56320,"invalid surrogate pair","str",t);let s=65536+((i&1023)<<10)+(o&1023);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return new Uint8Array(r)}function Fpr(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function ao(t,e){return Fpr(Zpt(t,e))}function Aye(t,e){return Zpt(Yr(t,e))}import zpr from"http";import Hpr from"https";import{gunzipSync as Vpr}from"zlib";function lV(t){async function e(r,n){le(n==null||!n.cancelled,"request cancelled before sending","CANCELLED");let i=r.url.split(":")[0].toLowerCase();le(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),le(i==="https"||!r.credentials||r.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let o=r.method,s=Object.assign({},r.headers),a={method:o,headers:s};t&&t.agent&&(a.agent=t.agent);let c=null;try{c=new AbortController,a.abort=c.signal}catch(d){console.log(d)}let l=(i==="http"?zpr:Hpr).request(r.url,a);l.setTimeout(r.timeout);let u=r.body;return u&&l.write(Buffer.from(u)),l.end(),new Promise((d,p)=>{n&&n.addListener(()=>{c&&c.abort(),p(Pr("request cancelled","CANCELLED"))}),l.on("timeout",()=>{p(Pr("request timeout","TIMEOUT"))}),l.once("response",f=>{let h=f.statusCode||0,m=f.statusMessage||"",g=Object.keys(f.headers||{}).reduce((v,S)=>{let w=f.headers[S]||"";return Array.isArray(w)&&(w=w.join(", ")),v[S]=w,v},{}),y=null;f.on("data",v=>{if(n)try{n.checkSignal()}catch(S){return p(S)}if(y==null)y=v;else{let S=new Uint8Array(y.length+v.length);S.set(y,0),S.set(v,y.length),y=S}}),f.on("end",()=>{try{g["content-encoding"]==="gzip"&&y&&(y=Ne(Vpr(y))),d({statusCode:h,statusMessage:m,headers:g,body:y})}catch(v){p(Pr("bad response data","SERVER_ERROR",{request:r,info:{response:f,error:v}}))}}),f.on("error",v=>{v.response={statusCode:h,statusMessage:m,headers:g,body:y},p(v)})}),l.on("error",f=>{p(f)})})}return e}var Adi=lV({});var Gpr=12,jpr=250,eft=lV(),qpr=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),Wpr=new RegExp("^ipfs://(ipfs/)?(.*)$","i"),Eye=!1;async function rft(t,e){try{let r=t.match(qpr);if(!r)throw new Error("invalid data");return new Sp(200,"OK",{"content-type":r[1]||"text/plain"},r[2]?GO(r[3]):Jpr(r[3]))}catch{return new Sp(599,"BAD REQUEST (invalid data: URI)",{},null,new dn(t))}}function nft(t){async function e(r,n){try{let i=r.match(Wpr);if(!i)throw new Error("invalid link");return new dn(`${t}${i[2]}`)}catch{return new Sp(599,"BAD REQUEST (invalid IPFS URI)",{},null,new dn(r))}}return e}var uV={data:rft,ipfs:nft("https://gateway.ipfs.io/ipfs/")},ift=new WeakMap,YT=class{#e;#t;constructor(e){this.#e=[],this.#t=!1,ift.set(e,()=>{if(!this.#t){this.#t=!0;for(let r of this.#e)setTimeout(()=>{r()},0);this.#e=[]}})}addListener(e){le(!this.#t,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#e.push(e)}get cancelled(){return this.#t}checkSignal(){le(!this.cancelled,"cancelled","CANCELLED",{})}};function dV(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var dn=class t{#e;#t;#r;#n;#i;#o;#s;#a;#u;#l;#f;#m;#c;#d;#p;get url(){return this.#o}set url(e){this.#o=String(e)}get body(){return this.#s==null?null:new Uint8Array(this.#s)}set body(e){if(e==null)this.#s=void 0,this.#a=void 0;else if(typeof e=="string")this.#s=Yr(e),this.#a="text/plain";else if(e instanceof Uint8Array)this.#s=e,this.#a="application/octet-stream";else if(typeof e=="object")this.#s=Yr(JSON.stringify(e)),this.#a="application/json";else throw new Error("invalid body")}hasBody(){return this.#s!=null}get method(){return this.#n?this.#n:this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),this.#n=String(e).toUpperCase()}get headers(){let e=Object.assign({},this.#r);return this.#u&&(e.authorization=`Basic ${jO(Yr(this.#u))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&this.#a&&(e["content-type"]=this.#a),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,r){this.#r[String(e).toLowerCase()]=String(r)}clearHeaders(){this.#r={}}[Symbol.iterator](){let e=this.headers,r=Object.keys(e),n=0;return{next:()=>{if(n<r.length){let i=r[n++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#u||null}setCredentials(e,r){K(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#u=`${e}:${r}`}get allowGzip(){return this.#t}set allowGzip(e){this.#t=!!e}get allowInsecureAuthentication(){return!!this.#e}set allowInsecureAuthentication(e){this.#e=!!e}get timeout(){return this.#i}set timeout(e){K(e>=0,"timeout must be non-zero","timeout",e),this.#i=e}get preflightFunc(){return this.#l||null}set preflightFunc(e){this.#l=e}get processFunc(){return this.#f||null}set processFunc(e){this.#f=e}get retryFunc(){return this.#m||null}set retryFunc(e){this.#m=e}get getUrlFunc(){return this.#p||eft}set getUrlFunc(e){this.#p=e}constructor(e){this.#o=String(e),this.#e=!1,this.#t=!0,this.#r={},this.#n="",this.#i=3e5,this.#d={slotInterval:jpr,maxAttempts:Gpr},this.#p=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#s?xe(this.#s):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(this.#d.slotInterval=e.slotInterval),e.maxAttempts!=null&&(this.#d.maxAttempts=e.maxAttempts)}async#h(e,r,n,i,o){if(e>=this.#d.maxAttempts)return o.makeServerError("exceeded maximum retry limit");le(tft()<=r,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),n>0&&await Kpr(n);let s=this.clone(),a=(s.url.split(":")[0]||"").toLowerCase();if(a in uV){let u=await uV[a](s.url,dV(i.#c));if(u instanceof Sp){let d=u;if(this.processFunc){dV(i.#c);try{d=await this.processFunc(s,d)}catch(p){(p.throttle==null||typeof p.stall!="number")&&d.makeServerError("error in post-processing function",p).assertOk()}}return d}s=u}this.preflightFunc&&(s=await this.preflightFunc(s));let c=await this.getUrlFunc(s,dV(i.#c)),l=new Sp(c.statusCode,c.statusMessage,c.headers,c.body,i);if(l.statusCode===301||l.statusCode===302){try{let u=l.headers.location||"";return s.redirect(u).#h(e+1,r,0,i,l)}catch{}return l}else if(l.statusCode===429&&(this.retryFunc==null||await this.retryFunc(s,l,e))){let u=l.headers["retry-after"],d=this.#d.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof u=="string"&&u.match(/^[1-9][0-9]*$/)&&(d=parseInt(u)),s.clone().#h(e+1,r,d,i,l)}if(this.processFunc){dV(i.#c);try{l=await this.processFunc(s,l)}catch(u){(u.throttle==null||typeof u.stall!="number")&&l.makeServerError("error in post-processing function",u).assertOk();let d=this.#d.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return u.stall>=0&&(d=u.stall),s.clone().#h(e+1,r,d,i,l)}}return l}send(){return le(this.#c==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#c=new YT(this),this.#h(0,tft()+this.timeout,0,this,new Sp(0,"",{},null,this))}cancel(){le(this.#c!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});let e=ift.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){let r=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();le(this.method==="GET"&&(r!=="https"||n!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});let i=new t(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,i.#r=Object.assign({},this.#r),this.#s&&(i.#s=new Uint8Array(this.#s)),i.#a=this.#a,i}clone(){let e=new t(this.url);return e.#n=this.#n,this.#s&&(e.#s=this.#s),e.#a=this.#a,e.#r=Object.assign({},this.#r),e.#u=this.#u,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#l=this.#l,e.#f=this.#f,e.#m=this.#m,e.#d=Object.assign({},this.#d),e.#p=this.#p,e}static lockConfig(){Eye=!0}static getGateway(e){return uV[e.toLowerCase()]||null}static registerGateway(e,r){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(Eye)throw new Error("gateways locked");uV[e]=r}static registerGetUrl(e){if(Eye)throw new Error("gateways locked");eft=e}static createGetUrlFunc(e){return lV(e)}static createDataGateway(){return rft}static createIpfsGatewayFunc(e){return nft(e)}},Sp=class t{#e;#t;#r;#n;#i;#o;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#n?xe(this.#n):"null"}>`}get statusCode(){return this.#e}get statusMessage(){return this.#t}get headers(){return Object.assign({},this.#r)}get body(){return this.#n==null?null:new Uint8Array(this.#n)}get bodyText(){try{return this.#n==null?"":ao(this.#n)}catch{le(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{le(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){let e=this.headers,r=Object.keys(e),n=0;return{next:()=>{if(n<r.length){let i=r[n++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,r,n,i,o){this.#e=e,this.#t=r,this.#r=Object.keys(n).reduce((s,a)=>(s[a.toLowerCase()]=String(n[a]),s),{}),this.#n=i==null?null:new Uint8Array(i),this.#i=o||null,this.#o={message:""}}makeServerError(e,r){let n;e?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${e})`);let i=new t(599,n,this.headers,this.body,this.#i||void 0);return i.#o={message:e,error:r},i}throwThrottleError(e,r){r==null?r=-1:K(Number.isInteger(r)&&r>=0,"invalid stall timeout","stall",r);let n=new Error(e||"throttling requests");throw Be(n,{stall:r,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return this.#n!=null}get request(){return this.#i}ok(){return this.#o.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:r}=this.#o;e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let i=null;try{this.#n&&(i=ao(this.#n))}catch{}le(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:r,info:{requestUrl:n,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};function tft(){return new Date().getTime()}function Jpr(t){return Yr(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function Kpr(t){return new Promise(e=>setTimeout(e,t))}var Qpr=BigInt(-1),xp=BigInt(0),e4=BigInt(1),Xpr=BigInt(5),ZT={},t4="0000";for(;t4.length<80;)t4+=t4;function WS(t){let e=t4;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function qO(t,e,r){let n=BigInt(e.width);if(e.signed){let i=e4<<n-e4;le(r==null||t>=-i&&t<i,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t>xp?t=vg(Nl(t,n),n):t=-vg(Nl(-t,n),n)}else{let i=e4<<n;le(r==null||t>=0&&t<i,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t=(t%i+i)%i&i-e4}return t}function Tye(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,r=128,n=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{let o=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);K(o,"invalid fixed format","format",t),e=o[1]!=="u",r=parseInt(o[2]),n=parseInt(o[3])}}else if(t){let o=t,s=(a,c,l)=>o[a]==null?l:(K(typeof o[a]===c,"invalid fixed format ("+a+" not "+c+")","format."+a,o[a]),o[a]);e=s("signed","boolean",e),r=s("width","number",r),n=s("decimals","number",n)}K(r%8===0,"invalid FixedNumber width (not byte aligned)","format.width",r),K(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);let i=(e?"":"u")+"fixed"+String(r)+"x"+String(n);return{signed:e,width:r,decimals:n,name:i}}function Ypr(t,e){let r="";t<xp&&(r="-",t*=Qpr);let n=t.toString();if(e===0)return r+n;for(;n.length<=e;)n=t4+n;let i=n.length-e;for(n=n.substring(0,i)+"."+n.substring(i);n[0]==="0"&&n[1]!==".";)n=n.substring(1);for(;n[n.length-1]==="0"&&n[n.length-2]!==".";)n=n.substring(0,n.length-1);return r+n}var ky=class t{format;#e;#t;#r;_value;constructor(e,r,n){$s(e,ZT,"FixedNumber"),this.#t=r,this.#e=n;let i=Ypr(r,n.decimals);Be(this,{format:n.name,_value:i}),this.#r=WS(n.decimals)}get signed(){return this.#e.signed}get width(){return this.#e.width}get decimals(){return this.#e.decimals}get value(){return this.#t}#n(e){K(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}#i(e,r){return e=qO(e,this.#e,r),new t(ZT,e,this.#e)}#o(e,r){return this.#n(e),this.#i(this.#t+e.#t,r)}addUnsafe(e){return this.#o(e)}add(e){return this.#o(e,"add")}#s(e,r){return this.#n(e),this.#i(this.#t-e.#t,r)}subUnsafe(e){return this.#s(e)}sub(e){return this.#s(e,"sub")}#a(e,r){return this.#n(e),this.#i(this.#t*e.#t/this.#r,r)}mulUnsafe(e){return this.#a(e)}mul(e){return this.#a(e,"mul")}mulSignal(e){this.#n(e);let r=this.#t*e.#t;return le(r%this.#r===xp,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#i(r/this.#r,"mulSignal")}#u(e,r){return le(e.#t!==xp,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#n(e),this.#i(this.#t*this.#r/e.#t,r)}divUnsafe(e){return this.#u(e)}div(e){return this.#u(e,"div")}divSignal(e){le(e.#t!==xp,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#n(e);let r=this.#t*this.#r;return le(r%e.#t===xp,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#i(r/e.#t,"divSignal")}cmp(e){let r=this.value,n=e.value,i=this.decimals-e.decimals;return i>0?n*=WS(i):i<0&&(r*=WS(-i)),r<n?-1:r>n?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=this.#t;return this.#t<xp&&(e-=this.#r-e4),e=this.#t/this.#r*this.#r,this.#i(e,"floor")}ceiling(){let e=this.#t;return this.#t>xp&&(e+=this.#r-e4),e=this.#t/this.#r*this.#r,this.#i(e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;let r=this.decimals-e,n=Xpr*WS(r-1),i=this.value+n,o=WS(r);return i=i/o*o,qO(i,this.#e,"round"),new t(ZT,i,this.#e)}isZero(){return this.#t===xp}isNegative(){return this.#t<xp}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return t.fromString(this.toString(),e)}static fromValue(e,r,n){let i=r==null?0:It(r),o=Tye(n),s=Ze(e,"value"),a=i-o.decimals;if(a>0){let c=WS(a);le(s%c===xp,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),s/=c}else a<0&&(s*=WS(-a));return qO(s,o,"fromValue"),new t(ZT,s,o)}static fromString(e,r){let n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);K(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);let i=Tye(r),o=n[2]||"0",s=n[3]||"";for(;s.length<i.decimals;)s+=t4;le(s.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),s=s.substring(0,i.decimals);let a=BigInt(n[1]+o+s);return qO(a,i,"fromString"),new t(ZT,a,i)}static fromBytes(e,r){let n=hd(Ne(e,"value")),i=Tye(r);return i.signed&&(n=vg(n,i.width)),qO(n,i,"fromBytes"),new t(ZT,n,i)}};function Zpr(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function oft(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function sft(t,e,r,n){let i=[];for(;r<e+1+n;){let o=aft(t,r);i.push(o.result),r+=o.consumed,le(r<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:t,length:n,offset:e})}return{consumed:1+n,result:i}}function aft(t,e){le(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});let r=n=>{le(n<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:n})};if(t[e]>=248){let n=t[e]-247;r(e+1+n);let i=oft(t,e+1,n);return r(e+1+n+i),sft(t,e,e+1+n,n+i)}else if(t[e]>=192){let n=t[e]-192;return r(e+1+n),sft(t,e,e+1,n)}else if(t[e]>=184){let n=t[e]-183;r(e+1+n);let i=oft(t,e+1,n);r(e+1+n+i);let o=xe(t.slice(e+1+n,e+1+n+i));return{consumed:1+n+i,result:o}}else if(t[e]>=128){let n=t[e]-128;r(e+1+n);let i=xe(t.slice(e+1,e+1+n));return{consumed:1+n,result:i}}return{consumed:1,result:Zpr(t[e])}}function xg(t){let e=Ne(t,"data"),r=aft(e,0);return K(r.consumed===e.length,"unexpected junk after rlp payload","data",t),r.result}function cft(t){let e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function uft(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(o){n=n.concat(uft(o))}),n.length<=55)return n.unshift(192+n.length),n;let i=cft(n.length);return i.unshift(247+i.length),i.concat(n)}let e=Array.prototype.slice.call(Ne(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;let r=cft(e.length);return r.unshift(183+r.length),r.concat(e)}var lft="0123456789abcdef";function ga(t){let e="0x";for(let r of uft(t))e+=lft[r>>4],e+=lft[r&15];return e}var dft=["wei","kwei","mwei","gwei","szabo","finney","ether"];function pV(t,e){let r=18;if(typeof e=="string"){let n=dft.indexOf(e);K(n>=0,"invalid unit","unit",e),r=3*n}else e!=null&&(r=It(e,"unit"));return ky.fromValue(t,r,{decimals:r,width:512}).toString()}function fV(t,e){K(typeof t=="string","value must be a string","value",t);let r=18;if(typeof e=="string"){let n=dft.indexOf(e);K(n>=0,"invalid unit","unit",e),r=3*n}else e!=null&&(r=It(e,"unit"));return ky.fromString(t,{decimals:r,width:512}).value}function Rye(t){return pV(t,18)}function Iye(t){return fV(t,18)}function WO(t){let e=Ne(t,"randomBytes");e[6]=e[6]&15|64,e[8]=e[8]&63|128;let r=xe(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}var Us=32,Cye=new Uint8Array(Us),efr=["then"],mV={},mft=new WeakMap;function JS(t){return mft.get(t)}function pft(t,e){mft.set(t,e)}function JO(t,e){let r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw r.error=e,r}function Nye(t,e,r){return t.indexOf(null)>=0?e.map((n,i)=>n instanceof wp?Nye(JS(n),n,r):n):t.reduce((n,i,o)=>{let s=e.getValue(i);return i in n||(r&&s instanceof wp&&(s=Nye(JS(s),s,r)),n[i]=s),n},{})}var wp=class t extends Array{#e;constructor(...e){let r=e[0],n=e[1],i=(e[2]||[]).slice(),o=!0;r!==mV&&(n=e,i=[],o=!1),super(n.length),n.forEach((c,l)=>{this[l]=c});let s=i.reduce((c,l)=>(typeof l=="string"&&c.set(l,(c.get(l)||0)+1),c),new Map);if(pft(this,Object.freeze(n.map((c,l)=>{let u=i[l];return u!=null&&s.get(u)===1?u:null}))),this.#e=[],this.#e==null&&this.#e,!o)return;Object.freeze(this);let a=new Proxy(this,{get:(c,l,u)=>{if(typeof l=="string"){if(l.match(/^[0-9]+$/)){let p=It(l,"%index");if(p<0||p>=this.length)throw new RangeError("out of result range");let f=c[p];return f instanceof Error&&JO(`index ${p}`,f),f}if(efr.indexOf(l)>=0)return Reflect.get(c,l,u);let d=c[l];if(d instanceof Function)return function(...p){return d.apply(this===u?c:this,p)};if(!(l in c))return c.getValue.apply(this===u?c:this,[l])}return Reflect.get(c,l,u)}});return pft(a,JS(this)),a}toArray(e){let r=[];return this.forEach((n,i)=>{n instanceof Error&&JO(`index ${i}`,n),e&&n instanceof t&&(n=n.toArray(e)),r.push(n)}),r}toObject(e){let r=JS(this);return r.reduce((n,i,o)=>(le(i!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),Nye(r,this,e)),{})}slice(e,r){e==null&&(e=0),e<0&&(e+=this.length,e<0&&(e=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);let n=JS(this),i=[],o=[];for(let s=e;s<r;s++)i.push(this[s]),o.push(n[s]);return new t(mV,i,o)}filter(e,r){let n=JS(this),i=[],o=[];for(let s=0;s<this.length;s++){let a=this[s];a instanceof Error&&JO(`index ${s}`,a),e.call(r,a,s,this)&&(i.push(a),o.push(n[s]))}return new t(mV,i,o)}map(e,r){let n=[];for(let i=0;i<this.length;i++){let o=this[i];o instanceof Error&&JO(`index ${i}`,o),n.push(e.call(r,o,i,this))}return n}getValue(e){let r=JS(this).indexOf(e);if(r===-1)return;let n=this[r];return n instanceof Error&&JO(`property ${JSON.stringify(e)}`,n.error),n}static fromItems(e,r){return new t(mV,e,r)}};function gV(t){let e=[],r=function(n,i){if(Array.isArray(i))for(let o in i){let s=n.slice();s.push(o);try{r(s,i[o])}catch(a){e.push({path:s,error:a})}}};return r([],t),e}function fft(t){let e=Qr(t);return le(e.length<=Us,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:Us,offset:e.length}),e.length!==Us&&(e=On(Kt([Cye.slice(e.length%Us),e]))),e}var Bo=class{name;type;localName;dynamic;constructor(e,r,n,i){Be(this,{name:e,type:r,localName:n,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,r){K(!1,e,this.localName,r)}},KS=class{#e;#t;constructor(){this.#e=[],this.#t=0}get data(){return Kt(this.#e)}get length(){return this.#t}#r(e){return this.#e.push(e),this.#t+=e.length,e.length}appendWriter(e){return this.#r(On(e.data))}writeBytes(e){let r=On(e),n=r.length%Us;return n&&(r=On(Kt([r,Cye.slice(n)]))),this.#r(r)}writeValue(e){return this.#r(fft(e))}writeUpdatableValue(){let e=this.#e.length;return this.#e.push(Cye),this.#t+=Us,r=>{this.#e[e]=fft(r)}}},hV=class t{allowLoose;#e;#t;#r;#n;#i;constructor(e,r,n){Be(this,{allowLoose:!!r}),this.#e=On(e),this.#r=0,this.#n=null,this.#i=n??1024,this.#t=0}get data(){return xe(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#t}get bytes(){return new Uint8Array(this.#e)}#o(e){if(this.#n)return this.#n.#o(e);this.#r+=e,le(this.#i<1||this.#r<=this.#i*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#i} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:On(this.#e),offset:this.#t,length:e,info:{bytesRead:this.#r,dataLength:this.dataLength}})}#s(e,r,n){let i=Math.ceil(r/Us)*Us;return this.#t+i>this.#e.length&&(this.allowLoose&&n&&this.#t+r<=this.#e.length?i=r:le(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:On(this.#e),length:this.#e.length,offset:this.#t+i})),this.#e.slice(this.#t,this.#t+i)}subReader(e){let r=new t(this.#e.slice(this.#t+e),this.allowLoose,this.#i);return r.#n=this,r}readBytes(e,r){let n=this.#s(0,e,!!r);return this.#o(e),this.#t+=n.length,n.slice(0,e)}readValue(){return hd(this.readBytes(Us))}readIndex(){return HO(this.readBytes(Us))}};import{createHash as Oye,createHmac as hft,pbkdf2Sync as gft,randomBytes as yft}from"crypto";var bft=!1,vft=function(t,e,r){return hft(t,e).update(r).digest()},_ft=vft;function Ap(t,e,r){let n=Ne(e,"key"),i=Ne(r,"data");return xe(_ft(t,n,i))}Ap._=vft;Ap.lock=function(){bft=!0};Ap.register=function(t){if(bft)throw new Error("computeHmac is locked");_ft=t};Object.freeze(Ap);function ya(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function KO(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function yV(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ya(t.outputLen),ya(t.blockLen)}function wg(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function bV(t,e){KO(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var vV=BigInt(4294967295),Sft=BigInt(32);function tfr(t,e=!1){return e?{h:Number(t&vV),l:Number(t>>Sft&vV)}:{h:Number(t>>Sft&vV)|0,l:Number(t&vV)|0}}function xft(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=tfr(t[i],e);[r[i],n[i]]=[o,s]}return[r,n]}var wft=(t,e,r)=>t<<r|e>>>32-r,Aft=(t,e,r)=>e<<r|t>>>32-r,Eft=(t,e,r)=>e<<r-32|t>>>64-r,Tft=(t,e,r)=>t<<r-32|e>>>64-r;import*as QO from"node:crypto";var _V=QO&&typeof QO=="object"&&"webcrypto"in QO?QO.webcrypto:void 0;var Rft=t=>t instanceof Uint8Array;var r4=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),n4=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Ep=(t,e)=>t<<32-e|t>>>e,rfr=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!rfr)throw new Error("Non little-endian hardware is not supported");var nfr=async()=>{};async function SV(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let o=Date.now()-n;o>=0&&o<e||(await nfr(),n+=o)}}function ifr(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Tp(t){if(typeof t=="string"&&(t=ifr(t)),!Rft(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function Ift(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!Rft(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}var Dy=class{clone(){return this._cloneInto()}},ofr={}.toString;function xV(t,e){if(e!==void 0&&ofr.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}function i4(t){let e=n=>t().update(Tp(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Cft(t){let e=(n,i)=>t(i).update(Tp(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function Nft(t=32){if(_V&&typeof _V.getRandomValues=="function")return _V.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}var[kft,Dft,Mft]=[[],[],[]],sfr=BigInt(0),XO=BigInt(1),afr=BigInt(2),cfr=BigInt(7),lfr=BigInt(256),ufr=BigInt(113);for(let t=0,e=XO,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],kft.push(2*(5*n+r)),Dft.push((t+1)*(t+2)/2%64);let i=sfr;for(let o=0;o<7;o++)e=(e<<XO^(e>>cfr)*ufr)%lfr,e&afr&&(i^=XO<<(XO<<BigInt(o))-XO);Mft.push(i)}var[dfr,pfr]=xft(Mft,!0),Oft=(t,e,r)=>r>32?Eft(t,e,r):wft(t,e,r),Pft=(t,e,r)=>r>32?Tft(t,e,r):Aft(t,e,r);function ffr(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){let a=(s+8)%10,c=(s+2)%10,l=r[c],u=r[c+1],d=Oft(l,u,1)^r[a],p=Pft(l,u,1)^r[a+1];for(let f=0;f<50;f+=10)t[s+f]^=d,t[s+f+1]^=p}let i=t[2],o=t[3];for(let s=0;s<24;s++){let a=Dft[s],c=Oft(i,o,a),l=Pft(i,o,a),u=kft[s];i=t[u],o=t[u+1],t[u]=c,t[u+1]=l}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)r[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=dfr[n],t[1]^=pfr[n]}r.fill(0)}var wV=class t extends Dy{constructor(e,r,n,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,ya(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=r4(this.state)}keccak(){ffr(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){wg(this);let{blockLen:r,state:n}=this;e=Tp(e);let i=e.length;for(let o=0;o<i;){let s=Math.min(r-this.pos,i-o);for(let a=0;a<s;a++)n[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){wg(this,!1),KO(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=e.length;i<o;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,o-i);e.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ya(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(bV(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new t(r,n,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}},My=(t,e,r)=>i4(()=>new wV(e,t,r)),Tpi=My(6,144,224/8),Rpi=My(6,136,256/8),Ipi=My(6,104,384/8),Cpi=My(6,72,512/8),Npi=My(1,144,224/8),Lft=My(1,136,256/8),Opi=My(1,104,384/8),Ppi=My(1,72,512/8),Bft=(t,e,r)=>Cft((n={})=>new wV(e,t,n.dkLen===void 0?r:n.dkLen,!0)),kpi=Bft(31,168,128/8),Dpi=Bft(31,136,256/8);var $ft=!1,Uft=function(t){return Lft(t)},Fft=Uft;function vr(t){let e=Ne(t,"data");return xe(Fft(e))}vr._=Uft;vr.lock=function(){$ft=!0};vr.register=function(t){if($ft)throw new TypeError("keccak256 is locked");Fft=t};Object.freeze(vr);function mfr(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,l=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+l,a,n)}var o4=class extends Dy{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=n4(this.buffer)}update(e){wg(this);let{view:r,buffer:n,blockLen:i}=this;e=Tp(e);let o=e.length;for(let s=0;s<o;){let a=Math.min(i-this.pos,o-s);if(a===i){let c=n4(e);for(;i<=o-s;s+=i)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){wg(this),bV(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let d=s;d<i;d++)r[d]=0;mfr(n,i-8,BigInt(this.length*8),o),this.process(n,0);let a=n4(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return e.length=i,e.pos=a,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};var hfr=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Hft=Uint8Array.from({length:16},(t,e)=>e),gfr=Hft.map(t=>(9*t+5)%16),kye=[Hft],Dye=[gfr];for(let t=0;t<4;t++)for(let e of[kye,Dye])e.push(e[t].map(r=>hfr[r]));var Vft=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),yfr=kye.map((t,e)=>t.map(r=>Vft[e][r])),bfr=Dye.map((t,e)=>t.map(r=>Vft[e][r])),vfr=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),_fr=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),AV=(t,e)=>t<<e|t>>>32-e;function zft(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}var EV=new Uint32Array(16),Pye=class extends o4{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:r,h2:n,h3:i,h4:o}=this;return[e,r,n,i,o]}set(e,r,n,i,o){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=o|0}process(e,r){for(let f=0;f<16;f++,r+=4)EV[f]=e.getUint32(r,!0);let n=this.h0|0,i=n,o=this.h1|0,s=o,a=this.h2|0,c=a,l=this.h3|0,u=l,d=this.h4|0,p=d;for(let f=0;f<5;f++){let h=4-f,m=vfr[f],g=_fr[f],y=kye[f],v=Dye[f],S=yfr[f],w=bfr[f];for(let E=0;E<16;E++){let I=AV(n+zft(f,o,a,l)+EV[y[E]]+m,S[E])+d|0;n=d,d=l,l=AV(a,10)|0,a=o,o=I}for(let E=0;E<16;E++){let I=AV(i+zft(h,s,c,u)+EV[v[E]]+g,w[E])+p|0;i=p,p=u,u=AV(c,10)|0,c=s,s=I}}this.set(this.h1+a+u|0,this.h2+l+p|0,this.h3+d+i|0,this.h4+n+s|0,this.h0+o+c|0)}roundClean(){EV.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}},Gft=i4(()=>new Pye);var jft=!1,qft=function(t){return Gft(t)},Wft=qft;function Rp(t){let e=Ne(t,"data");return xe(Wft(e))}Rp._=qft;Rp.lock=function(){jft=!0};Rp.register=function(t){if(jft)throw new TypeError("ripemd160 is locked");Wft=t};Object.freeze(Rp);var Jft=!1,Kft=function(t,e,r,n,i){return gft(t,e,r,n,i)},Qft=Kft;function Ja(t,e,r,n,i){let o=Ne(t,"password"),s=Ne(e,"salt");return xe(Qft(o,s,r,n,i))}Ja._=Kft;Ja.lock=function(){Jft=!0};Ja.register=function(t){if(Jft)throw new Error("pbkdf2 is locked");Qft=t};Object.freeze(Ja);var Xft=!1,Yft=function(t){return new Uint8Array(yft(t))},Zft=Yft;function ba(t){return Zft(t)}ba._=Yft;ba.lock=function(){Xft=!0};ba.register=function(t){if(Xft)throw new Error("randomBytes is locked");Zft=t};Object.freeze(ba);var Sfr=(t,e,r)=>t&e^~t&r,xfr=(t,e,r)=>t&e^t&r^e&r,wfr=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ly=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),By=new Uint32Array(64),Mye=class extends o4{constructor(){super(64,32,8,!1),this.A=Ly[0]|0,this.B=Ly[1]|0,this.C=Ly[2]|0,this.D=Ly[3]|0,this.E=Ly[4]|0,this.F=Ly[5]|0,this.G=Ly[6]|0,this.H=Ly[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:a,H:c}=this;return[e,r,n,i,o,s,a,c]}set(e,r,n,i,o,s,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,r){for(let d=0;d<16;d++,r+=4)By[d]=e.getUint32(r,!1);for(let d=16;d<64;d++){let p=By[d-15],f=By[d-2],h=Ep(p,7)^Ep(p,18)^p>>>3,m=Ep(f,17)^Ep(f,19)^f>>>10;By[d]=m+By[d-7]+h+By[d-16]|0}let{A:n,B:i,C:o,D:s,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){let p=Ep(a,6)^Ep(a,11)^Ep(a,25),f=u+p+Sfr(a,c,l)+wfr[d]+By[d]|0,m=(Ep(n,2)^Ep(n,13)^Ep(n,22))+xfr(n,i,o)|0;u=l,l=c,c=a,a=s+f|0,s=o,o=i,i=n,n=f+m|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,i,o,s,a,c,l,u)}roundClean(){By.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var YO=i4(()=>new Mye);var TV=class extends Dy{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,yV(e);let n=Tp(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return wg(this),this.iHash.update(e),this}digestInto(e){wg(this),KO(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},ZO=(t,e,r)=>new TV(t,e).update(r).digest();ZO.create=(t,e)=>new TV(t,e);function Afr(t,e,r,n){yV(t);let i=xV({dkLen:32,asyncTick:10},n),{c:o,dkLen:s,asyncTick:a}=i;if(ya(o),ya(s),ya(a),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let c=Tp(e),l=Tp(r),u=new Uint8Array(s),d=ZO.create(t,c),p=d._cloneInto().update(l);return{c:o,dkLen:s,asyncTick:a,DK:u,PRF:d,PRFSalt:p}}function Efr(t,e,r,n,i){return t.destroy(),e.destroy(),n&&n.destroy(),i.fill(0),r}function Lye(t,e,r,n){let{c:i,dkLen:o,DK:s,PRF:a,PRFSalt:c}=Afr(t,e,r,n),l,u=new Uint8Array(4),d=n4(u),p=new Uint8Array(a.outputLen);for(let f=1,h=0;h<o;f++,h+=a.outputLen){let m=s.subarray(h,h+a.outputLen);d.setInt32(0,f,!1),(l=c._cloneInto(l)).update(u).digestInto(p),m.set(p.subarray(0,m.length));for(let g=1;g<i;g++){a._cloneInto(l).update(p).digestInto(p);for(let y=0;y<m.length;y++)m[y]^=p[y]}}return Efr(a,c,s,l,p)}var sn=(t,e)=>t<<e|t>>>32-e;function emt(t,e,r,n,i,o){let s=t[e++]^r[n++],a=t[e++]^r[n++],c=t[e++]^r[n++],l=t[e++]^r[n++],u=t[e++]^r[n++],d=t[e++]^r[n++],p=t[e++]^r[n++],f=t[e++]^r[n++],h=t[e++]^r[n++],m=t[e++]^r[n++],g=t[e++]^r[n++],y=t[e++]^r[n++],v=t[e++]^r[n++],S=t[e++]^r[n++],w=t[e++]^r[n++],E=t[e++]^r[n++],I=s,D=a,k=c,P=l,$=u,H=d,W=p,N=f,_=h,x=m,R=g,L=y,U=v,j=S,Q=w,G=E;for(let A=0;A<8;A+=2)$^=sn(I+U|0,7),_^=sn($+I|0,9),U^=sn(_+$|0,13),I^=sn(U+_|0,18),x^=sn(H+D|0,7),j^=sn(x+H|0,9),D^=sn(j+x|0,13),H^=sn(D+j|0,18),Q^=sn(R+W|0,7),k^=sn(Q+R|0,9),W^=sn(k+Q|0,13),R^=sn(W+k|0,18),P^=sn(G+L|0,7),N^=sn(P+G|0,9),L^=sn(N+P|0,13),G^=sn(L+N|0,18),D^=sn(I+P|0,7),k^=sn(D+I|0,9),P^=sn(k+D|0,13),I^=sn(P+k|0,18),W^=sn(H+$|0,7),N^=sn(W+H|0,9),$^=sn(N+W|0,13),H^=sn($+N|0,18),L^=sn(R+x|0,7),_^=sn(L+R|0,9),x^=sn(_+L|0,13),R^=sn(x+_|0,18),U^=sn(G+Q|0,7),j^=sn(U+G|0,9),Q^=sn(j+U|0,13),G^=sn(Q+j|0,18);i[o++]=s+I|0,i[o++]=a+D|0,i[o++]=c+k|0,i[o++]=l+P|0,i[o++]=u+$|0,i[o++]=d+H|0,i[o++]=p+W|0,i[o++]=f+N|0,i[o++]=h+_|0,i[o++]=m+x|0,i[o++]=g+R|0,i[o++]=y+L|0,i[o++]=v+U|0,i[o++]=S+j|0,i[o++]=w+Q|0,i[o++]=E+G|0}function s4(t,e,r,n,i){let o=n+0,s=n+16*i;for(let a=0;a<16;a++)r[s+a]=t[e+(2*i-1)*16+a];for(let a=0;a<i;a++,o+=16,e+=16)emt(r,s,t,e,r,o),a>0&&(s+=16),emt(r,o,t,e+=16,r,s)}function tmt(t,e,r){let n=xV({dkLen:32,asyncTick:10,maxmem:1073742848},r),{N:i,r:o,p:s,dkLen:a,asyncTick:c,maxmem:l,onProgress:u}=n;if(ya(i),ya(o),ya(s),ya(a),ya(c),ya(l),u!==void 0&&typeof u!="function")throw new Error("progressCb should be function");let d=128*o,p=d/4;if(i<=1||(i&i-1)!==0||i>=2**(d/8)||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(s<0||s>(2**32-1)*32/d)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");let f=d*(i+s);if(f>l)throw new Error(`Scrypt: parameters too large, ${f} (128 * r * (N + p)) > ${l} (maxmem)`);let h=Lye(YO,t,e,{c:1,dkLen:d*s}),m=r4(h),g=r4(new Uint8Array(d*i)),y=r4(new Uint8Array(d)),v=()=>{};if(u){let S=2*i*s,w=Math.max(Math.floor(S/1e4),1),E=0;v=()=>{E++,u&&(!(E%w)||E===S)&&u(E/S)}}return{N:i,r:o,p:s,dkLen:a,blockSize32:p,V:g,B32:m,B:h,tmp:y,blockMixCb:v,asyncTick:c}}function rmt(t,e,r,n,i){let o=Lye(YO,t,r,{c:1,dkLen:e});return r.fill(0),n.fill(0),i.fill(0),o}function nmt(t,e,r){let{N:n,r:i,p:o,dkLen:s,blockSize32:a,V:c,B32:l,B:u,tmp:d,blockMixCb:p}=tmt(t,e,r);for(let f=0;f<o;f++){let h=a*f;for(let m=0;m<a;m++)c[m]=l[h+m];for(let m=0,g=0;m<n-1;m++)s4(c,g,c,g+=a,i),p();s4(c,(n-1)*a,l,h,i),p();for(let m=0;m<n;m++){let g=l[h+a-16]%n;for(let y=0;y<a;y++)d[y]=l[h+y]^c[g*a+y];s4(d,0,l,h,i),p()}}return rmt(t,s,u,c,d)}async function imt(t,e,r){let{N:n,r:i,p:o,dkLen:s,blockSize32:a,V:c,B32:l,B:u,tmp:d,blockMixCb:p,asyncTick:f}=tmt(t,e,r);for(let h=0;h<o;h++){let m=a*h;for(let y=0;y<a;y++)c[y]=l[m+y];let g=0;await SV(n-1,f,()=>{s4(c,g,c,g+=a,i),p()}),s4(c,(n-1)*a,l,m,i),p(),await SV(n,f,()=>{let y=l[m+a-16]%n;for(let v=0;v<a;v++)d[v]=l[m+v]^c[y*a+v];s4(d,0,l,m,i),p()})}return rmt(t,s,u,c,d)}var omt=!1,smt=!1,amt=async function(t,e,r,n,i,o,s){return await imt(t,e,{N:r,r:n,p:i,dkLen:o,onProgress:s})},cmt=function(t,e,r,n,i,o){return nmt(t,e,{N:r,r:n,p:i,dkLen:o})},lmt=amt,umt=cmt;async function Ip(t,e,r,n,i,o,s){let a=Ne(t,"passwd"),c=Ne(e,"salt");return xe(await lmt(a,c,r,n,i,o,s))}Ip._=amt;Ip.lock=function(){smt=!0};Ip.register=function(t){if(smt)throw new Error("scrypt is locked");lmt=t};Object.freeze(Ip);function Cp(t,e,r,n,i,o){let s=Ne(t,"passwd"),a=Ne(e,"salt");return xe(umt(s,a,r,n,i,o))}Cp._=cmt;Cp.lock=function(){omt=!0};Cp.register=function(t){if(omt)throw new Error("scryptSync is locked");umt=t};Object.freeze(Cp);var dmt=function(t){return Oye("sha256").update(t).digest()},pmt=function(t){return Oye("sha512").update(t).digest()},fmt=dmt,mmt=pmt,hmt=!1,gmt=!1;function co(t){let e=Ne(t,"data");return xe(fmt(e))}co._=dmt;co.lock=function(){hmt=!0};co.register=function(t){if(hmt)throw new Error("sha256 is locked");fmt=t};Object.freeze(co);function QS(t){let e=Ne(t,"data");return xe(mmt(e))}QS._=pmt;QS.lock=function(){gmt=!0};QS.register=function(t){if(gmt)throw new Error("sha512 is locked");mmt=t};Object.freeze(co);var Fye={};Nr(Fye,{bitGet:()=>Pfr,bitLen:()=>Ofr,bitMask:()=>e9,bitSet:()=>kfr,bytesToHex:()=>XS,bytesToNumberBE:()=>Ag,bytesToNumberLE:()=>CV,concatBytes:()=>a4,createHmacDrbg:()=>Uye,ensureBytes:()=>Ol,equalBytes:()=>Cfr,hexToBytes:()=>YS,hexToNumber:()=>$ye,numberToBytesBE:()=>$y,numberToBytesLE:()=>NV,numberToHexUnpadded:()=>vmt,numberToVarBytesBE:()=>Ifr,utf8ToBytes:()=>Nfr,validateObject:()=>Uy});var bmt=BigInt(0),RV=BigInt(1),Tfr=BigInt(2),IV=t=>t instanceof Uint8Array,Rfr=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function XS(t){if(!IV(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Rfr[t[r]];return e}function vmt(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function $ye(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function YS(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){let i=n*2,o=t.slice(i,i+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[n]=s}return r}function Ag(t){return $ye(XS(t))}function CV(t){if(!IV(t))throw new Error("Uint8Array expected");return $ye(XS(Uint8Array.from(t).reverse()))}function $y(t,e){return YS(t.toString(16).padStart(e*2,"0"))}function NV(t,e){return $y(t,e).reverse()}function Ifr(t){return YS(vmt(t))}function Ol(t,e,r){let n;if(typeof e=="string")try{n=YS(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if(IV(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function a4(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!IV(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function Cfr(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Nfr(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Ofr(t){let e;for(e=0;t>bmt;t>>=RV,e+=1);return e}function Pfr(t,e){return t>>BigInt(e)&RV}var kfr=(t,e,r)=>t|(r?RV:bmt)<<BigInt(e),e9=t=>(Tfr<<BigInt(t-1))-RV,Bye=t=>new Uint8Array(t),ymt=t=>Uint8Array.from(t);function Uye(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Bye(t),i=Bye(t),o=0,s=()=>{n.fill(1),i.fill(0),o=0},a=(...d)=>r(i,n,...d),c=(d=Bye())=>{i=a(ymt([0]),d),n=a(),d.length!==0&&(i=a(ymt([1]),d),n=a())},l=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0,p=[];for(;d<e;){n=a();let f=n.slice();p.push(f),d+=n.length}return a4(...p)};return(d,p)=>{s(),c(d);let f;for(;!(f=p(l()));)c();return s(),f}}var Dfr={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Uy(t,e,r={}){let n=(i,o,s)=>{let a=Dfr[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);let c=t[i];if(!(s&&c===void 0)&&!a(c,t))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${o}`)};for(let[i,o]of Object.entries(e))n(i,o,!1);for(let[i,o]of Object.entries(r))n(i,o,!0);return t}var Xo=BigInt(0),Qi=BigInt(1),ZS=BigInt(2),Mfr=BigInt(3),zye=BigInt(4),_mt=BigInt(5),Smt=BigInt(8),Lfr=BigInt(9),Bfr=BigInt(16);function va(t,e){let r=t%e;return r>=Xo?r:e+r}function $fr(t,e,r){if(r<=Xo||e<Xo)throw new Error("Expected power/modulo > 0");if(r===Qi)return Xo;let n=Qi;for(;e>Xo;)e&Qi&&(n=n*t%r),t=t*t%r,e>>=Qi;return n}function Pl(t,e,r){let n=t;for(;e-- >Xo;)n*=n,n%=r;return n}function OV(t,e){if(t===Xo||e<=Xo)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=va(t,e),n=e,i=Xo,o=Qi,s=Qi,a=Xo;for(;r!==Xo;){let l=n/r,u=n%r,d=i-s*l,p=o-a*l;n=r,r=u,i=s,o=a,s=d,a=p}if(n!==Qi)throw new Error("invert: does not exist");return va(i,e)}function Ufr(t){let e=(t-Qi)/ZS,r,n,i;for(r=t-Qi,n=0;r%ZS===Xo;r/=ZS,n++);for(i=ZS;i<t&&$fr(i,e,t)!==t-Qi;i++);if(n===1){let s=(t+Qi)/zye;return function(c,l){let u=c.pow(l,s);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}let o=(r+Qi)/ZS;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=n,u=a.pow(a.mul(a.ONE,i),r),d=a.pow(c,o),p=a.pow(c,r);for(;!a.eql(p,a.ONE);){if(a.eql(p,a.ZERO))return a.ZERO;let f=1;for(let m=a.sqr(p);f<l&&!a.eql(m,a.ONE);f++)m=a.sqr(m);let h=a.pow(u,Qi<<BigInt(l-f-1));u=a.sqr(h),d=a.mul(d,h),p=a.mul(p,u),l=f}return d}}function Ffr(t){if(t%zye===Mfr){let e=(t+Qi)/zye;return function(n,i){let o=n.pow(i,e);if(!n.eql(n.sqr(o),i))throw new Error("Cannot find square root");return o}}if(t%Smt===_mt){let e=(t-_mt)/Smt;return function(n,i){let o=n.mul(i,ZS),s=n.pow(o,e),a=n.mul(i,s),c=n.mul(n.mul(a,ZS),s),l=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(l),i))throw new Error("Cannot find square root");return l}}return t%Bfr,Ufr(t)}var zfr=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Hye(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=zfr.reduce((n,i)=>(n[i]="function",n),e);return Uy(t,r)}function Hfr(t,e,r){if(r<Xo)throw new Error("Expected power > 0");if(r===Xo)return t.ONE;if(r===Qi)return e;let n=t.ONE,i=e;for(;r>Xo;)r&Qi&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Qi;return n}function Vfr(t,e){let r=new Array(e.length),n=e.reduce((o,s,a)=>t.is0(s)?o:(r[a]=o,t.mul(o,s)),t.ONE),i=t.inv(n);return e.reduceRight((o,s,a)=>t.is0(s)?o:(r[a]=t.mul(o,r[a]),t.mul(o,s)),i),r}function Vye(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function xmt(t,e,r=!1,n={}){if(t<=Xo)throw new Error(`Expected Field ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:o}=Vye(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");let s=Ffr(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:e9(i),ZERO:Xo,ONE:Qi,create:c=>va(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Xo<=c&&c<t},is0:c=>c===Xo,isOdd:c=>(c&Qi)===Qi,neg:c=>va(-c,t),eql:(c,l)=>c===l,sqr:c=>va(c*c,t),add:(c,l)=>va(c+l,t),sub:(c,l)=>va(c-l,t),mul:(c,l)=>va(c*l,t),pow:(c,l)=>Hfr(a,c,l),div:(c,l)=>va(c*OV(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>OV(c,t),sqrt:n.sqrt||(c=>s(a,c)),invertBatch:c=>Vfr(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>r?NV(c,o):$y(c,o),fromBytes:c=>{if(c.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${c.length}`);return r?CV(c):Ag(c)}});return Object.freeze(a)}function wmt(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function Gye(t){let e=wmt(t);return e+Math.ceil(e/2)}function Amt(t,e,r=!1){let n=t.length,i=wmt(e),o=Gye(e);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);let s=r?Ag(t):CV(t),a=va(s,e-Qi)+Qi;return r?NV(a,i):$y(a,i)}var jfr=BigInt(0),jye=BigInt(1);function Emt(t,e){let r=(i,o)=>{let s=o.negate();return i?s:o},n=i=>{let o=Math.ceil(e/i)+1,s=2**(i-1);return{windows:o,windowSize:s}};return{constTimeNegate:r,unsafeLadder(i,o){let s=t.ZERO,a=i;for(;o>jfr;)o&jye&&(s=s.add(a)),a=a.double(),o>>=jye;return s},precomputeWindow(i,o){let{windows:s,windowSize:a}=n(o),c=[],l=i,u=l;for(let d=0;d<s;d++){u=l,c.push(u);for(let p=1;p<a;p++)u=u.add(l),c.push(u);l=u.double()}return c},wNAF(i,o,s){let{windows:a,windowSize:c}=n(i),l=t.ZERO,u=t.BASE,d=BigInt(2**i-1),p=2**i,f=BigInt(i);for(let h=0;h<a;h++){let m=h*c,g=Number(s&d);s>>=f,g>c&&(g-=p,s+=jye);let y=m,v=m+Math.abs(g)-1,S=h%2!==0,w=g<0;g===0?u=u.add(r(S,o[y])):l=l.add(r(w,o[v]))}return{p:l,f:u}},wNAFCached(i,o,s,a){let c=i._WINDOW_SIZE||1,l=o.get(i);return l||(l=this.precomputeWindow(i,c),c!==1&&o.set(i,a(l))),this.wNAF(c,l,s)}}}function qye(t){return Hye(t.Fp),Uy(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Vye(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function qfr(t){let e=qye(t);Uy(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:Wfr,hexToBytes:Jfr}=Fye,e2={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=e2;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Wfr(n),l:t.subarray(r+2)}},toSig(t){let{Err:e}=e2,r=typeof t=="string"?Jfr(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:i,l:o}=e2._parseInt(r.subarray(2)),{d:s,l:a}=e2._parseInt(o);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(t){let e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,r=l=>{let u=l.toString(16);return u.length&1?`0${u}`:u},n=e(r(t.s)),i=e(r(t.r)),o=n.length/2,s=i.length/2,a=r(o),c=r(s);return`30${r(s+o+4)}02${c}${i}02${a}${n}`}},Eg=BigInt(0),gd=BigInt(1),Rfi=BigInt(2),Tmt=BigInt(3),Ifi=BigInt(4);function Kfr(t){let e=qfr(t),{Fp:r}=e,n=e.toBytes||((h,m,g)=>{let y=m.toAffine();return a4(Uint8Array.from([4]),r.toBytes(y.x),r.toBytes(y.y))}),i=e.fromBytes||(h=>{let m=h.subarray(1),g=r.fromBytes(m.subarray(0,r.BYTES)),y=r.fromBytes(m.subarray(r.BYTES,2*r.BYTES));return{x:g,y}});function o(h){let{a:m,b:g}=e,y=r.sqr(h),v=r.mul(y,h);return r.add(r.add(v,r.mul(h,m)),g)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function s(h){return typeof h=="bigint"&&Eg<h&&h<e.n}function a(h){if(!s(h))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(h){let{allowedPrivateKeyLengths:m,nByteLength:g,wrapPrivateKey:y,n:v}=e;if(m&&typeof h!="bigint"){if(h instanceof Uint8Array&&(h=XS(h)),typeof h!="string"||!m.includes(h.length))throw new Error("Invalid key");h=h.padStart(g*2,"0")}let S;try{S=typeof h=="bigint"?h:Ag(Ol("private key",h,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof h}`)}return y&&(S=va(S,v)),a(S),S}let l=new Map;function u(h){if(!(h instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(m,g,y){if(this.px=m,this.py=g,this.pz=y,m==null||!r.isValid(m))throw new Error("x required");if(g==null||!r.isValid(g))throw new Error("y required");if(y==null||!r.isValid(y))throw new Error("z required")}static fromAffine(m){let{x:g,y}=m||{};if(!m||!r.isValid(g)||!r.isValid(y))throw new Error("invalid affine point");if(m instanceof d)throw new Error("projective point not allowed");let v=S=>r.eql(S,r.ZERO);return v(g)&&v(y)?d.ZERO:new d(g,y,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){let g=r.invertBatch(m.map(y=>y.pz));return m.map((y,v)=>y.toAffine(g[v])).map(d.fromAffine)}static fromHex(m){let g=d.fromAffine(i(Ol("pointHex",m)));return g.assertValidity(),g}static fromPrivateKey(m){return d.BASE.multiply(c(m))}_setWindowSize(m){this._WINDOW_SIZE=m,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:m,y:g}=this.toAffine();if(!r.isValid(m)||!r.isValid(g))throw new Error("bad point: x or y not FE");let y=r.sqr(g),v=o(m);if(!r.eql(y,v))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:m}=this.toAffine();if(r.isOdd)return!r.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){u(m);let{px:g,py:y,pz:v}=this,{px:S,py:w,pz:E}=m,I=r.eql(r.mul(g,E),r.mul(S,v)),D=r.eql(r.mul(y,E),r.mul(w,v));return I&&D}negate(){return new d(this.px,r.neg(this.py),this.pz)}double(){let{a:m,b:g}=e,y=r.mul(g,Tmt),{px:v,py:S,pz:w}=this,E=r.ZERO,I=r.ZERO,D=r.ZERO,k=r.mul(v,v),P=r.mul(S,S),$=r.mul(w,w),H=r.mul(v,S);return H=r.add(H,H),D=r.mul(v,w),D=r.add(D,D),E=r.mul(m,D),I=r.mul(y,$),I=r.add(E,I),E=r.sub(P,I),I=r.add(P,I),I=r.mul(E,I),E=r.mul(H,E),D=r.mul(y,D),$=r.mul(m,$),H=r.sub(k,$),H=r.mul(m,H),H=r.add(H,D),D=r.add(k,k),k=r.add(D,k),k=r.add(k,$),k=r.mul(k,H),I=r.add(I,k),$=r.mul(S,w),$=r.add($,$),k=r.mul($,H),E=r.sub(E,k),D=r.mul($,P),D=r.add(D,D),D=r.add(D,D),new d(E,I,D)}add(m){u(m);let{px:g,py:y,pz:v}=this,{px:S,py:w,pz:E}=m,I=r.ZERO,D=r.ZERO,k=r.ZERO,P=e.a,$=r.mul(e.b,Tmt),H=r.mul(g,S),W=r.mul(y,w),N=r.mul(v,E),_=r.add(g,y),x=r.add(S,w);_=r.mul(_,x),x=r.add(H,W),_=r.sub(_,x),x=r.add(g,v);let R=r.add(S,E);return x=r.mul(x,R),R=r.add(H,N),x=r.sub(x,R),R=r.add(y,v),I=r.add(w,E),R=r.mul(R,I),I=r.add(W,N),R=r.sub(R,I),k=r.mul(P,x),I=r.mul($,N),k=r.add(I,k),I=r.sub(W,k),k=r.add(W,k),D=r.mul(I,k),W=r.add(H,H),W=r.add(W,H),N=r.mul(P,N),x=r.mul($,x),W=r.add(W,N),N=r.sub(H,N),N=r.mul(P,N),x=r.add(x,N),H=r.mul(W,x),D=r.add(D,H),H=r.mul(R,x),I=r.mul(_,I),I=r.sub(I,H),H=r.mul(_,W),k=r.mul(R,k),k=r.add(k,H),new d(I,D,k)}subtract(m){return this.add(m.negate())}is0(){return this.equals(d.ZERO)}wNAF(m){return f.wNAFCached(this,l,m,g=>{let y=r.invertBatch(g.map(v=>v.pz));return g.map((v,S)=>v.toAffine(y[S])).map(d.fromAffine)})}multiplyUnsafe(m){let g=d.ZERO;if(m===Eg)return g;if(a(m),m===gd)return this;let{endo:y}=e;if(!y)return f.unsafeLadder(this,m);let{k1neg:v,k1:S,k2neg:w,k2:E}=y.splitScalar(m),I=g,D=g,k=this;for(;S>Eg||E>Eg;)S&gd&&(I=I.add(k)),E&gd&&(D=D.add(k)),k=k.double(),S>>=gd,E>>=gd;return v&&(I=I.negate()),w&&(D=D.negate()),D=new d(r.mul(D.px,y.beta),D.py,D.pz),I.add(D)}multiply(m){a(m);let g=m,y,v,{endo:S}=e;if(S){let{k1neg:w,k1:E,k2neg:I,k2:D}=S.splitScalar(g),{p:k,f:P}=this.wNAF(E),{p:$,f:H}=this.wNAF(D);k=f.constTimeNegate(w,k),$=f.constTimeNegate(I,$),$=new d(r.mul($.px,S.beta),$.py,$.pz),y=k.add($),v=P.add(H)}else{let{p:w,f:E}=this.wNAF(g);y=w,v=E}return d.normalizeZ([y,v])[0]}multiplyAndAddUnsafe(m,g,y){let v=d.BASE,S=(E,I)=>I===Eg||I===gd||!E.equals(v)?E.multiplyUnsafe(I):E.multiply(I),w=S(this,g).add(S(m,y));return w.is0()?void 0:w}toAffine(m){let{px:g,py:y,pz:v}=this,S=this.is0();m==null&&(m=S?r.ONE:r.inv(v));let w=r.mul(g,m),E=r.mul(y,m),I=r.mul(v,m);if(S)return{x:r.ZERO,y:r.ZERO};if(!r.eql(I,r.ONE))throw new Error("invZ was invalid");return{x:w,y:E}}isTorsionFree(){let{h:m,isTorsionFree:g}=e;if(m===gd)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:m,clearCofactor:g}=e;return m===gd?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(m=!0){return this.assertValidity(),n(d,this,m)}toHex(m=!0){return XS(this.toRawBytes(m))}}d.BASE=new d(e.Gx,e.Gy,r.ONE),d.ZERO=new d(r.ZERO,r.ONE,r.ZERO);let p=e.nBitLength,f=Emt(d,e.endo?Math.ceil(p/2):p);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:s}}function Qfr(t){let e=qye(t);return Uy(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Rmt(t){let e=Qfr(t),{Fp:r,n}=e,i=r.BYTES+1,o=2*r.BYTES+1;function s(x){return Eg<x&&x<r.ORDER}function a(x){return va(x,n)}function c(x){return OV(x,n)}let{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:p}=Kfr({...e,toBytes(x,R,L){let U=R.toAffine(),j=r.toBytes(U.x),Q=a4;return L?Q(Uint8Array.from([R.hasEvenY()?2:3]),j):Q(Uint8Array.from([4]),j,r.toBytes(U.y))},fromBytes(x){let R=x.length,L=x[0],U=x.subarray(1);if(R===i&&(L===2||L===3)){let j=Ag(U);if(!s(j))throw new Error("Point is not on curve");let Q=d(j),G=r.sqrt(Q),A=(G&gd)===gd;return(L&1)===1!==A&&(G=r.neg(G)),{x:j,y:G}}else if(R===o&&L===4){let j=r.fromBytes(U.subarray(0,r.BYTES)),Q=r.fromBytes(U.subarray(r.BYTES,2*r.BYTES));return{x:j,y:Q}}else throw new Error(`Point of length ${R} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),f=x=>XS($y(x,e.nByteLength));function h(x){let R=n>>gd;return x>R}function m(x){return h(x)?a(-x):x}let g=(x,R,L)=>Ag(x.slice(R,L));class y{constructor(R,L,U){this.r=R,this.s=L,this.recovery=U,this.assertValidity()}static fromCompact(R){let L=e.nByteLength;return R=Ol("compactSignature",R,L*2),new y(g(R,0,L),g(R,L,2*L))}static fromDER(R){let{r:L,s:U}=e2.toSig(Ol("DER",R));return new y(L,U)}assertValidity(){if(!p(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!p(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(R){return new y(this.r,this.s,R)}recoverPublicKey(R){let{r:L,s:U,recovery:j}=this,Q=D(Ol("msgHash",R));if(j==null||![0,1,2,3].includes(j))throw new Error("recovery id invalid");let G=j===2||j===3?L+e.n:L;if(G>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let A=(j&1)===0?"02":"03",X=l.fromHex(A+f(G)),Re=c(G),ve=a(-Q*Re),ue=a(U*Re),Ve=l.BASE.multiplyAndAddUnsafe(X,ve,ue);if(!Ve)throw new Error("point at infinify");return Ve.assertValidity(),Ve}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return YS(this.toDERHex())}toDERHex(){return e2.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return YS(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}let v={isValidPrivateKey(x){try{return u(x),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{let x=Gye(e.n);return Amt(e.randomBytes(x),e.n)},precompute(x=8,R=l.BASE){return R._setWindowSize(x),R.multiply(BigInt(3)),R}};function S(x,R=!0){return l.fromPrivateKey(x).toRawBytes(R)}function w(x){let R=x instanceof Uint8Array,L=typeof x=="string",U=(R||L)&&x.length;return R?U===i||U===o:L?U===2*i||U===2*o:x instanceof l}function E(x,R,L=!0){if(w(x))throw new Error("first arg must be private key");if(!w(R))throw new Error("second arg must be public key");return l.fromHex(R).multiply(u(x)).toRawBytes(L)}let I=e.bits2int||function(x){let R=Ag(x),L=x.length*8-e.nBitLength;return L>0?R>>BigInt(L):R},D=e.bits2int_modN||function(x){return a(I(x))},k=e9(e.nBitLength);function P(x){if(typeof x!="bigint")throw new Error("bigint expected");if(!(Eg<=x&&x<k))throw new Error(`bigint expected < 2^${e.nBitLength}`);return $y(x,e.nByteLength)}function $(x,R,L=H){if(["recovered","canonical"].some(ut=>ut in L))throw new Error("sign() legacy options not supported");let{hash:U,randomBytes:j}=e,{lowS:Q,prehash:G,extraEntropy:A}=L;Q==null&&(Q=!0),x=Ol("msgHash",x),G&&(x=Ol("prehashed msgHash",U(x)));let X=D(x),Re=u(R),ve=[P(Re),P(X)];if(A!=null){let ut=A===!0?j(r.BYTES):A;ve.push(Ol("extraEntropy",ut))}let ue=a4(...ve),Ve=X;function we(ut){let be=I(ut);if(!p(be))return;let St=c(be),ke=l.BASE.multiply(be).toAffine(),_r=a(ke.x);if(_r===Eg)return;let fr=a(St*a(Ve+_r*Re));if(fr===Eg)return;let _n=(ke.x===_r?0:2)|Number(ke.y&gd),Nd=fr;return Q&&h(fr)&&(Nd=m(fr),_n^=1),new y(_r,Nd,_n)}return{seed:ue,k2sig:we}}let H={lowS:e.lowS,prehash:!1},W={lowS:e.lowS,prehash:!1};function N(x,R,L=H){let{seed:U,k2sig:j}=$(x,R,L),Q=e;return Uye(Q.hash.outputLen,Q.nByteLength,Q.hmac)(U,j)}l.BASE._setWindowSize(8);function _(x,R,L,U=W){let j=x;if(R=Ol("msgHash",R),L=Ol("publicKey",L),"strict"in U)throw new Error("options.strict was renamed to lowS");let{lowS:Q,prehash:G}=U,A,X;try{if(typeof j=="string"||j instanceof Uint8Array)try{A=y.fromDER(j)}catch(ke){if(!(ke instanceof e2.Err))throw ke;A=y.fromCompact(j)}else if(typeof j=="object"&&typeof j.r=="bigint"&&typeof j.s=="bigint"){let{r:ke,s:_r}=j;A=new y(ke,_r)}else throw new Error("PARSE");X=l.fromHex(L)}catch(ke){if(ke.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Q&&A.hasHighS())return!1;G&&(R=e.hash(R));let{r:Re,s:ve}=A,ue=D(R),Ve=c(ve),we=a(ue*Ve),ut=a(Re*Ve),be=l.BASE.multiplyAndAddUnsafe(X,we,ut)?.toAffine();return be?a(be.x)===Re:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:E,sign:N,verify:_,ProjectivePoint:l,Signature:y,utils:v}}function Xfr(t){return{hash:t,hmac:(e,...r)=>ZO(t,e,Ift(...r)),randomBytes:Nft}}function Imt(t,e){let r=n=>Rmt({...t,...Xfr(n)});return Object.freeze({...r(e),create:r})}var Omt=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Cmt=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Yfr=BigInt(1),Wye=BigInt(2),Nmt=(t,e)=>(t+e/Wye)/e;function Zfr(t){let e=Omt,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=Pl(u,r,e)*u%e,p=Pl(d,r,e)*u%e,f=Pl(p,Wye,e)*l%e,h=Pl(f,i,e)*f%e,m=Pl(h,o,e)*h%e,g=Pl(m,a,e)*m%e,y=Pl(g,c,e)*g%e,v=Pl(y,a,e)*m%e,S=Pl(v,r,e)*u%e,w=Pl(S,s,e)*h%e,E=Pl(w,n,e)*l%e,I=Pl(E,Wye,e);if(!Jye.eql(Jye.sqr(I),t))throw new Error("Cannot find square root");return I}var Jye=xmt(Omt,void 0,void 0,{sqrt:Zfr}),Tg=Imt({a:BigInt(0),b:BigInt(7),Fp:Jye,n:Cmt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=Cmt,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Yfr*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),a=Nmt(o*t,e),c=Nmt(-n*t,e),l=va(t-a*r-c*i,e),u=va(-a*n-c*o,e),d=l>s,p=u>s;if(d&&(l=e-l),p&&(u=e-u),l>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:l,k2neg:p,k2:u}}}},YO),Bfi=BigInt(0);var $fi=Tg.ProjectivePoint;var Np="0x0000000000000000000000000000000000000000";var c4="0x0000000000000000000000000000000000000000000000000000000000000000";var Kye=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Qye=BigInt("1000000000000000000"),Xye=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Yye=BigInt("0x8000000000000000000000000000000000000000000000000000000000000000")*BigInt(-1),Zye=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var ebe="\u039E",t9=`Ethereum Signed Message:
`;var Pmt=BigInt(0),kmt=BigInt(1),rbe=BigInt(2),Dmt=BigInt(27),Mmt=BigInt(28),PV=BigInt(35),Lmt=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),emr=Lmt/rbe,tmr=Symbol.for("nodejs.util.inspect.custom"),t2={};function tbe(t){return so(Qr(t),32)}var lo=class t{#e;#t;#r;#n;get r(){return this.#e}set r(e){K(Wc(e)===32,"invalid r","value",e),this.#e=xe(e)}get s(){return K(parseInt(this.#t.substring(0,3))<8,"non-canonical s; use ._s","s",this.#t),this.#t}set s(e){K(Wc(e)===32,"invalid s","value",e),this.#t=xe(e)}get _s(){return this.#t}isValid(){return BigInt(this.#t)<=emr}get v(){return this.#r}set v(e){let r=It(e,"value");K(r===27||r===28,"invalid v","v",e),this.#r=r}get networkV(){return this.#n}get legacyChainId(){let e=this.networkV;return e==null?null:t.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){let e=Ne(this.s);return this.yParity&&(e[0]|=128),xe(e)}get compactSerialized(){return Kt([this.r,this.yParityAndS])}get serialized(){return Kt([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,r,n,i){$s(e,t2,"Signature"),this.#e=r,this.#t=n,this.#r=i,this.#n=null}getCanonical(){if(this.isValid())return this;let e=Lmt-BigInt(this._s),r=55-this.v,n=new t(t2,this.r,tbe(e),r);return this.networkV&&(n.#n=this.networkV),n}clone(){let e=new t(t2,this.r,this._s,this.v);return this.networkV&&(e.#n=this.networkV),e}toJSON(){let e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}[tmr](){return this.toString()}toString(){return this.isValid()?`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v} }`:`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v}, valid: false }`}static getChainId(e){let r=Ze(e,"v");return r==Dmt||r==Mmt?Pmt:(K(r>=PV,"invalid EIP-155 v","v",e),(r-PV)/rbe)}static getChainIdV(e,r){return Ze(e)*rbe+BigInt(35+r-27)}static getNormalizedV(e){let r=Ze(e);return r===Pmt||r===Dmt?27:r===kmt||r===Mmt?28:(K(r>=PV,"invalid v","v",e),r&kmt?27:28)}static from(e){function r(l,u){K(l,u,"signature",e)}if(e==null)return new t(t2,c4,c4,27);if(typeof e=="string"){let l=Ne(e,"signature");if(l.length===64){let u=xe(l.slice(0,32)),d=l.slice(32,64),p=d[0]&128?28:27;return d[0]&=127,new t(t2,u,xe(d),p)}if(l.length===65){let u=xe(l.slice(0,32)),d=xe(l.slice(32,64)),p=t.getNormalizedV(l[64]);return new t(t2,u,d,p)}r(!1,"invalid raw signature length")}if(e instanceof t)return e.clone();let n=e.r;r(n!=null,"missing r");let i=tbe(n),o=(function(l,u){if(l!=null)return tbe(l);if(u!=null){r(Ar(u,32),"invalid yParityAndS");let d=Ne(u);return d[0]&=127,xe(d)}r(!1,"missing s")})(e.s,e.yParityAndS),{networkV:s,v:a}=(function(l,u,d){if(l!=null){let p=Ze(l);return{networkV:p>=PV?p:void 0,v:t.getNormalizedV(p)}}if(u!=null)return r(Ar(u,32),"invalid yParityAndS"),{v:Ne(u)[0]&128?28:27};if(d!=null){switch(It(d,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}r(!1,"invalid yParity")}r(!1,"missing v")})(e.v,e.yParityAndS,e.yParity),c=new t(t2,i,o,a);return s&&(c.#n=s),r(e.yParity==null||It(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),r(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}};var Fs=class t{#e;constructor(e){K(Wc(e)===32,"invalid private key","privateKey","[REDACTED]"),this.#e=xe(e)}get privateKey(){return this.#e}get publicKey(){return t.computePublicKey(this.#e)}get compressedPublicKey(){return t.computePublicKey(this.#e,!0)}sign(e){K(Wc(e)===32,"invalid digest length","digest",e);let r=Tg.sign(On(e),On(this.#e),{lowS:!0});return lo.from({r:fs(r.r,32),s:fs(r.s,32),v:r.recovery?28:27})}computeSharedSecret(e){let r=t.computePublicKey(e);return xe(Tg.getSharedSecret(On(this.#e),Ne(r),!1))}static computePublicKey(e,r){let n=Ne(e,"key");if(n.length===32){let o=Tg.getPublicKey(n,!!r);return xe(o)}if(n.length===64){let o=new Uint8Array(65);o[0]=4,o.set(n,1),n=o}let i=Tg.ProjectivePoint.fromHex(n);return xe(i.toRawBytes(r))}static recoverPublicKey(e,r){K(Wc(e)===32,"invalid digest length","digest",e);let n=lo.from(r),i=Tg.Signature.fromCompact(On(Kt([n.r,n.s])));i=i.addRecoveryBit(n.yParity);let o=i.recoverPublicKey(On(e));return K(o!=null,"invalid signature for digest","signature",r),"0x"+o.toHex(!1)}static addPoints(e,r,n){let i=Tg.ProjectivePoint.fromHex(t.computePublicKey(e).substring(2)),o=Tg.ProjectivePoint.fromHex(t.computePublicKey(r).substring(2));return"0x"+i.add(o).toHex(!!n)}};function Bmt(){Ap.lock(),vr.lock(),Ja.lock(),ba.lock(),Rp.lock(),Ip.lock(),Cp.lock(),co.lock(),QS.lock(),ba.lock()}var rmr=BigInt(0),nmr=BigInt(36);function $mt(t){t=t.toLowerCase();let e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);let n=Ne(vr(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}var nbe={};for(let t=0;t<10;t++)nbe[String(t)]=String(t);for(let t=0;t<26;t++)nbe[String.fromCharCode(65+t)]=String(10+t);var Umt=15;function Fmt(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>nbe[n]).join("");for(;e.length>=Umt;){let n=e.substring(0,Umt);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}var imr=(function(){let t={};for(let e=0;e<36;e++){let r="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[r]=BigInt(e)}return t})();function omr(t){t=t.toLowerCase();let e=rmr;for(let r=0;r<t.length;r++)e=e*nmr+imr[t[r]];return e}function kt(t){if(K(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);let e=$mt(t);return K(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){K(t.substring(2,4)===Fmt(t),"bad icap checksum","address",t);let e=omr(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return $mt("0x"+e)}K(!1,"invalid address","address",t)}function ibe(t){let e=BigInt(kt(t)).toString(36).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+Fmt("XE00"+e)+e}function r2(t){let e=kt(t.from),n=Ze(t.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,kt(Xr(vr(ga([e,n])),12))}function obe(t,e,r){let n=kt(t),i=Ne(e,"salt"),o=Ne(r,"initCodeHash");return K(i.length===32,"salt must be 32 bytes","salt",e),K(o.length===32,"initCodeHash must be 32 bytes","initCodeHash",r),kt(Xr(vr(Kt(["0xff",n,i,o])),12))}function l4(t){return t&&typeof t.getAddress=="function"}function abe(t){try{return kt(t),!0}catch{}return!1}async function sbe(t,e){let r=await e;return(r==null||r==="0x0000000000000000000000000000000000000000")&&(le(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),K(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),kt(r)}function ei(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?kt(t):(le(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),sbe(t,e.resolveName(t)));if(l4(t))return sbe(t,t.getAddress());if(t&&typeof t.then=="function")return sbe(t,t);K(!1,"unsupported addressable value","target",t)}var Op={};function Ct(t,e){let r=!1;return e<0&&(r=!0,e*=-1),new Pn(Op,`${r?"":"u"}int${e}`,t,{signed:r,width:e})}function an(t,e){return new Pn(Op,`bytes${e||""}`,t,{size:e})}var zmt=Symbol.for("_ethers_typed"),Pn=class t{type;value;#e;_typedSymbol;constructor(e,r,n,i){i==null&&(i=null),$s(Op,e,"Typed"),Be(this,{_typedSymbol:zmt,type:r,value:n}),this.#e=i,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#e}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#e===!0?-1:this.#e===!1?this.value.length:null}static from(e,r){return new t(Op,e,r)}static uint8(e){return Ct(e,8)}static uint16(e){return Ct(e,16)}static uint24(e){return Ct(e,24)}static uint32(e){return Ct(e,32)}static uint40(e){return Ct(e,40)}static uint48(e){return Ct(e,48)}static uint56(e){return Ct(e,56)}static uint64(e){return Ct(e,64)}static uint72(e){return Ct(e,72)}static uint80(e){return Ct(e,80)}static uint88(e){return Ct(e,88)}static uint96(e){return Ct(e,96)}static uint104(e){return Ct(e,104)}static uint112(e){return Ct(e,112)}static uint120(e){return Ct(e,120)}static uint128(e){return Ct(e,128)}static uint136(e){return Ct(e,136)}static uint144(e){return Ct(e,144)}static uint152(e){return Ct(e,152)}static uint160(e){return Ct(e,160)}static uint168(e){return Ct(e,168)}static uint176(e){return Ct(e,176)}static uint184(e){return Ct(e,184)}static uint192(e){return Ct(e,192)}static uint200(e){return Ct(e,200)}static uint208(e){return Ct(e,208)}static uint216(e){return Ct(e,216)}static uint224(e){return Ct(e,224)}static uint232(e){return Ct(e,232)}static uint240(e){return Ct(e,240)}static uint248(e){return Ct(e,248)}static uint256(e){return Ct(e,256)}static uint(e){return Ct(e,256)}static int8(e){return Ct(e,-8)}static int16(e){return Ct(e,-16)}static int24(e){return Ct(e,-24)}static int32(e){return Ct(e,-32)}static int40(e){return Ct(e,-40)}static int48(e){return Ct(e,-48)}static int56(e){return Ct(e,-56)}static int64(e){return Ct(e,-64)}static int72(e){return Ct(e,-72)}static int80(e){return Ct(e,-80)}static int88(e){return Ct(e,-88)}static int96(e){return Ct(e,-96)}static int104(e){return Ct(e,-104)}static int112(e){return Ct(e,-112)}static int120(e){return Ct(e,-120)}static int128(e){return Ct(e,-128)}static int136(e){return Ct(e,-136)}static int144(e){return Ct(e,-144)}static int152(e){return Ct(e,-152)}static int160(e){return Ct(e,-160)}static int168(e){return Ct(e,-168)}static int176(e){return Ct(e,-176)}static int184(e){return Ct(e,-184)}static int192(e){return Ct(e,-192)}static int200(e){return Ct(e,-200)}static int208(e){return Ct(e,-208)}static int216(e){return Ct(e,-216)}static int224(e){return Ct(e,-224)}static int232(e){return Ct(e,-232)}static int240(e){return Ct(e,-240)}static int248(e){return Ct(e,-248)}static int256(e){return Ct(e,-256)}static int(e){return Ct(e,-256)}static bytes1(e){return an(e,1)}static bytes2(e){return an(e,2)}static bytes3(e){return an(e,3)}static bytes4(e){return an(e,4)}static bytes5(e){return an(e,5)}static bytes6(e){return an(e,6)}static bytes7(e){return an(e,7)}static bytes8(e){return an(e,8)}static bytes9(e){return an(e,9)}static bytes10(e){return an(e,10)}static bytes11(e){return an(e,11)}static bytes12(e){return an(e,12)}static bytes13(e){return an(e,13)}static bytes14(e){return an(e,14)}static bytes15(e){return an(e,15)}static bytes16(e){return an(e,16)}static bytes17(e){return an(e,17)}static bytes18(e){return an(e,18)}static bytes19(e){return an(e,19)}static bytes20(e){return an(e,20)}static bytes21(e){return an(e,21)}static bytes22(e){return an(e,22)}static bytes23(e){return an(e,23)}static bytes24(e){return an(e,24)}static bytes25(e){return an(e,25)}static bytes26(e){return an(e,26)}static bytes27(e){return an(e,27)}static bytes28(e){return an(e,28)}static bytes29(e){return an(e,29)}static bytes30(e){return an(e,30)}static bytes31(e){return an(e,31)}static bytes32(e){return an(e,32)}static address(e){return new t(Op,"address",e)}static bool(e){return new t(Op,"bool",!!e)}static bytes(e){return new t(Op,"bytes",e)}static string(e){return new t(Op,"string",e)}static array(e,r){throw new Error("not implemented yet")}static tuple(e,r){throw new Error("not implemented yet")}static overrides(e){return new t(Op,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===zmt}static dereference(e,r){if(t.isTyped(e)){if(e.type!==r)throw new Error(`invalid type: expecetd ${r}, got ${e.type}`);return e.value}return e}};var kV=class extends Bo{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){let n=Pn.dereference(r,"string");try{n=kt(n)}catch(i){return this._throwError(i.message,r)}return e.writeValue(n)}decode(e){return kt(fs(e.readValue(),20))}};var DV=class extends Bo{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}};function cbe(t,e,r){let n=[];if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(l=>{let u=l.localName;return le(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:r}),le(!c[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:r}),c[u]=!0,r[u]})}else K(!1,"invalid tuple value","tuple",r);K(e.length===n.length,"types/value length mismatch","tuple",r);let i=new KS,o=new KS,s=[];e.forEach((c,l)=>{let u=n[l];if(c.dynamic){let d=o.length;c.encode(o,u);let p=i.writeUpdatableValue();s.push(f=>{p(f+d)})}else c.encode(i,u)}),s.forEach(c=>{c(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(o),a}function lbe(t,e){let r=[],n=[],i=t.subReader(0);return e.forEach(o=>{let s=null;if(o.dynamic){let a=t.readIndex(),c=i.subReader(a);try{s=o.decode(c)}catch(l){if(on(l,"BUFFER_OVERRUN"))throw l;s=l,s.baseType=o.name,s.name=o.localName,s.type=o.type}}else try{s=o.decode(t)}catch(a){if(on(a,"BUFFER_OVERRUN"))throw a;s=a,s.baseType=o.name,s.name=o.localName,s.type=o.type}if(s==null)throw new Error("investigate");r.push(s),n.push(o.localName||null)}),wp.fromItems(r,n)}var MV=class extends Bo{coder;length;constructor(e,r,n){let i=e.type+"["+(r>=0?r:"")+"]",o=r===-1||e.dynamic;super("array",i,n,o),Be(this,{coder:e,length:r})}defaultValue(){let e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){let n=Pn.dereference(r,"array");Array.isArray(n)||this._throwError("expected array value",n);let i=this.length;i===-1&&(i=n.length,e.writeValue(n.length)),VS(n.length,i,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let s=0;s<n.length;s++)o.push(this.coder);return cbe(e,o,n)}decode(e){let r=this.length;r===-1&&(r=e.readIndex(),le(r*Us<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:r*Us,length:e.dataLength}));let n=[];for(let i=0;i<r;i++)n.push(new DV(this.coder));return lbe(e,n)}};var LV=class extends Bo{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){let n=Pn.dereference(r,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}};var r9=class extends Bo{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=On(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readIndex(),!0)}},BV=class extends r9{constructor(e){super("bytes",e)}decode(e){return xe(super.decode(e))}};var $V=class extends Bo{size;constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),Be(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=On(Pn.dereference(r,this.type));return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return xe(e.readBytes(this.size))}};var smr=new Uint8Array([]),UV=class extends Bo{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes(smr)}decode(e){return e.readBytes(0),null}};var amr=BigInt(0),cmr=BigInt(1),lmr=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),FV=class extends Bo{size;signed;constructor(e,r,n){let i=(r?"int":"uint")+e*8;super(i,i,n,!1),Be(this,{size:e,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,r){let n=Ze(Pn.dereference(r,this.type)),i=Nl(lmr,Us*8);if(this.signed){let o=Nl(i,this.size*8-1);(n>o||n<-(o+cmr))&&this._throwError("value out-of-bounds",r),n=_g(n,8*Us)}else(n<amr||n>Nl(i,this.size*8))&&this._throwError("value out-of-bounds",r);return e.writeValue(n)}decode(e){let r=Nl(e.readValue(),this.size*8);return this.signed&&(r=vg(r,this.size*8)),r}};var zV=class extends r9{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,Yr(Pn.dereference(r,"string")))}decode(e){return ao(super.decode(e))}};var n2=class extends Bo{coders;constructor(e,r){let n=!1,i=[];e.forEach(s=>{s.dynamic&&(n=!0),i.push(s.type)});let o="tuple("+i.join(",")+")";super("tuple",o,r,n),Be(this,{coders:Object.freeze(e.slice())})}defaultValue(){let e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});let r=this.coders.reduce((n,i)=>{let o=i.localName;return o&&(n[o]||(n[o]=0),n[o]++),n},{});return this.coders.forEach((n,i)=>{let o=n.localName;!o||r[o]!==1||(o==="length"&&(o="_length"),e[o]==null&&(e[o]=e[i]))}),Object.freeze(e)}encode(e,r){let n=Pn.dereference(r,"tuple");return cbe(e,this.coders,n)}decode(e){return lbe(e,this.coders)}};function ube(t,e){return{address:kt(t),storageKeys:e.map((r,n)=>(K(Ar(r,32),"invalid slot",`storageKeys[${n}]`,r),r.toLowerCase()))}}function zs(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(K(r.length===2,"invalid slot set",`value[${n}]`,r),ube(r[0],r[1])):(K(r!=null&&typeof r=="object","invalid address-slot set","value",t),ube(r.address,r.storageKeys)));K(t!=null&&typeof t=="object","invalid access list","value",t);let e=Object.keys(t).map(r=>{let n=t[r].reduce((i,o)=>(i[o]=!0,i),{});return ube(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function i2(t){return{address:kt(t.address),nonce:Ze(t.nonce!=null?t.nonce:0),chainId:Ze(t.chainId!=null?t.chainId:0),signature:lo.from(t.signature)}}function Pp(t){let e;return typeof t=="string"?e=Fs.computePublicKey(t,!1):e=t.publicKey,kt(vr("0x"+e.substring(4)).substring(26))}function kp(t,e){return Pp(Fs.recoverPublicKey(t,e))}var ms=BigInt(0),umr=BigInt(2),dmr=BigInt(27),pmr=BigInt(28),fmr=BigInt(35),mmr=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),hmr=Symbol.for("nodejs.util.inspect.custom"),dbe=4096*32,HV=128;function gmr(t){return{blobToKzgCommitment:n=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Ne(t.blobToKzgCommitment(xe(n)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Ne(t.blobToKzgCommitment(n));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return Ne(t.blobToKZGCommitment(xe(n)));K(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(n,i)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return Ne(t.computeBlobProof(xe(n),xe(i)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(n,i);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return Ne(t.computeBlobKZGProof(xe(n),xe(i)));K(!1,"unsupported KZG library","kzg",t)}}}function Hmt(t,e){let r=t.toString(16);for(;r.length<2;)r="0"+r;return r+=co(e).substring(4),"0x"+r}function u4(t){return t==="0x"?null:kt(t)}function VV(t,e){try{return zs(t)}catch(r){K(!1,r.message,e,t)}}function ymr(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");let r=[];for(let n=0;n<t.length;n++){let i=t[n];if(!Array.isArray(i))throw new Error(`authorization[${n}]: invalid array`);if(i.length!==6)throw new Error(`authorization[${n}]: wrong length`);if(!i[1])throw new Error(`authorization[${n}]: null address`);r.push({address:u4(i[1]),nonce:kn(i[2],"nonce"),chainId:kn(i[0],"chainId"),signature:lo.from({yParity:o2(i[3],"yParity"),r:so(i[4],32),s:so(i[5],32)})})}return r}catch(r){K(!1,r.message,e,t)}}function o2(t,e){return t==="0x"?0:It(t,e)}function kn(t,e){if(t==="0x")return ms;let r=Ze(t,e);return K(r<=mmr,"value exceeds uint size",e,r),r}function jr(t,e){let r=Ze(t,"value"),n=Qr(r);return K(n.length<=32,"value too large",`tx.${e}`,r),n}function GV(t){return zs(t).map(e=>[e.address,e.storageKeys])}function bmr(t){return t.map(e=>[jr(e.chainId,"chainId"),e.address,jr(e.nonce,"nonce"),jr(e.signature.yParity,"yParity"),Qr(e.signature.r),Qr(e.signature._s)])}function vmr(t,e){K(Array.isArray(t),`invalid ${e}`,"value",t);for(let r=0;r<t.length;r++)K(Ar(t[r],32),"invalid ${ param } hash",`value[${r}]`,t[r]);return t}function _mr(t){let e=xg(t);K(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);let r={type:0,nonce:o2(e[0],"nonce"),gasPrice:kn(e[1],"gasPrice"),gasLimit:kn(e[2],"gasLimit"),to:u4(e[3]),value:kn(e[4],"value"),data:xe(e[5]),chainId:ms};if(e.length===6)return r;let n=kn(e[6],"v"),i=kn(e[7],"r"),o=kn(e[8],"s");if(i===ms&&o===ms)r.chainId=n;else{let s=(n-fmr)/umr;s<ms&&(s=ms),r.chainId=s,K(s!==ms||n===dmr||n===pmr,"non-canonical legacy v","v",e[6]),r.signature=lo.from({r:so(e[7],32),s:so(e[8],32),v:n})}return r}function Smr(t,e){let r=[jr(t.nonce,"nonce"),jr(t.gasPrice||0,"gasPrice"),jr(t.gasLimit,"gasLimit"),t.to||"0x",jr(t.value,"value"),t.data],n=ms;if(t.chainId!=ms)n=Ze(t.chainId,"tx.chainId"),K(!e||e.networkV==null||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){let o=t.signature.legacyChainId;o!=null&&(n=o)}if(!e)return n!==ms&&(r.push(Qr(n)),r.push("0x"),r.push("0x")),ga(r);let i=BigInt(27+e.yParity);return n!==ms?i=lo.getChainIdV(n,e.v):BigInt(e.v)!==i&&K(!1,"tx.chainId/sig.v mismatch","sig",e),r.push(Qr(i)),r.push(Qr(e.r)),r.push(Qr(e._s)),ga(r)}function jV(t,e){let r;try{if(r=o2(e[0],"yParity"),r!==0&&r!==1)throw new Error("bad yParity")}catch{K(!1,"invalid yParity","yParity",e[0])}let n=so(e[1],32),i=so(e[2],32),o=lo.from({r:n,s:i,yParity:r});t.signature=o}function xmr(t){let e=xg(Ne(t).slice(1));K(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",xe(t));let r={type:2,chainId:kn(e[0],"chainId"),nonce:o2(e[1],"nonce"),maxPriorityFeePerGas:kn(e[2],"maxPriorityFeePerGas"),maxFeePerGas:kn(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:kn(e[4],"gasLimit"),to:u4(e[5]),value:kn(e[6],"value"),data:xe(e[7]),accessList:VV(e[8],"accessList")};return e.length===9||jV(r,e.slice(9)),r}function wmr(t,e){let r=[jr(t.chainId,"chainId"),jr(t.nonce,"nonce"),jr(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),jr(t.maxFeePerGas||0,"maxFeePerGas"),jr(t.gasLimit,"gasLimit"),t.to||"0x",jr(t.value,"value"),t.data,GV(t.accessList||[])];return e&&(r.push(jr(e.yParity,"yParity")),r.push(Qr(e.r)),r.push(Qr(e.s))),Kt(["0x02",ga(r)])}function Amr(t){let e=xg(Ne(t).slice(1));K(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",xe(t));let r={type:1,chainId:kn(e[0],"chainId"),nonce:o2(e[1],"nonce"),gasPrice:kn(e[2],"gasPrice"),gasLimit:kn(e[3],"gasLimit"),to:u4(e[4]),value:kn(e[5],"value"),data:xe(e[6]),accessList:VV(e[7],"accessList")};return e.length===8||jV(r,e.slice(8)),r}function Emr(t,e){let r=[jr(t.chainId,"chainId"),jr(t.nonce,"nonce"),jr(t.gasPrice||0,"gasPrice"),jr(t.gasLimit,"gasLimit"),t.to||"0x",jr(t.value,"value"),t.data,GV(t.accessList||[])];return e&&(r.push(jr(e.yParity,"recoveryParam")),r.push(Qr(e.r)),r.push(Qr(e.s))),Kt(["0x01",ga(r)])}function Tmr(t){let e=xg(Ne(t).slice(1)),r="3",n=null,i=null;if(e.length===4&&Array.isArray(e[0])){r="3 (network format)";let s=e[1],a=e[2],c=e[3];K(Array.isArray(s),"invalid network format: blobs not an array","fields[1]",s),K(Array.isArray(a),"invalid network format: commitments not an array","fields[2]",a),K(Array.isArray(c),"invalid network format: proofs not an array","fields[3]",c),K(s.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",e),K(s.length===c.length,"invalid network format: blobs/proofs length mismatch","fields",e),i=[];for(let l=0;l<e[1].length;l++)i.push({data:s[l],commitment:a[l],proof:c[l]});e=e[0]}else if(e.length===5&&Array.isArray(e[0])){r="3 (EIP-7594 network format)",n=It(e[1]);let s=e[2],a=e[3],c=e[4];K(n===1,`unsupported EIP-7594 network format version: ${n}`,"fields[1]",n),K(Array.isArray(s),"invalid EIP-7594 network format: blobs not an array","fields[2]",s),K(Array.isArray(a),"invalid EIP-7594 network format: commitments not an array","fields[3]",a),K(Array.isArray(c),"invalid EIP-7594 network format: proofs not an array","fields[4]",c),K(s.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",e),K(s.length*HV===c.length,"invalid network format: blobs/proofs length mismatch","fields",e),i=[];for(let l=0;l<s.length;l++){let u=[];for(let d=0;d<HV;d++)u.push(c[l*HV+d]);i.push({data:s[l],commitment:a[l],proof:Kt(u)})}e=e[0]}K(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${r}`,"data",xe(t));let o={type:3,chainId:kn(e[0],"chainId"),nonce:o2(e[1],"nonce"),maxPriorityFeePerGas:kn(e[2],"maxPriorityFeePerGas"),maxFeePerGas:kn(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:kn(e[4],"gasLimit"),to:u4(e[5]),value:kn(e[6],"value"),data:xe(e[7]),accessList:VV(e[8],"accessList"),maxFeePerBlobGas:kn(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10],blobWrapperVersion:n};i&&(o.blobs=i),K(o.to!=null,`invalid address for transaction type: ${r}`,"data",t),K(Array.isArray(o.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let s=0;s<o.blobVersionedHashes.length;s++)K(Ar(o.blobVersionedHashes[s],32),`invalid blobVersionedHash at index ${s}: must be length 32`,"data",t);return e.length===11||jV(o,e.slice(11)),o}function Rmr(t,e,r){let n=[jr(t.chainId,"chainId"),jr(t.nonce,"nonce"),jr(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),jr(t.maxFeePerGas||0,"maxFeePerGas"),jr(t.gasLimit,"gasLimit"),t.to||Np,jr(t.value,"value"),t.data,GV(t.accessList||[]),jr(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),vmr(t.blobVersionedHashes||[],"blobVersionedHashes")];if(e&&(n.push(jr(e.yParity,"yParity")),n.push(Qr(e.r)),n.push(Qr(e.s)),r)){if(t.blobWrapperVersion!=null){let i=Qr(t.blobWrapperVersion),o=[];for(let{proof:s}of r){let a=Ne(s),c=a.length/HV;for(let l=0;l<a.length;l+=c)o.push(a.subarray(l,l+c))}return Kt(["0x03",ga([n,i,r.map(s=>s.data),r.map(s=>s.commitment),o])])}return Kt(["0x03",ga([n,r.map(i=>i.data),r.map(i=>i.commitment),r.map(i=>i.proof)])])}return Kt(["0x03",ga(n)])}function Imr(t){let e=xg(Ne(t).slice(1));K(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",xe(t));let r={type:4,chainId:kn(e[0],"chainId"),nonce:o2(e[1],"nonce"),maxPriorityFeePerGas:kn(e[2],"maxPriorityFeePerGas"),maxFeePerGas:kn(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:kn(e[4],"gasLimit"),to:u4(e[5]),value:kn(e[6],"value"),data:xe(e[7]),accessList:VV(e[8],"accessList"),authorizationList:ymr(e[9],"authorizationList")};return e.length===10||jV(r,e.slice(10)),r}function Cmr(t,e){let r=[jr(t.chainId,"chainId"),jr(t.nonce,"nonce"),jr(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),jr(t.maxFeePerGas||0,"maxFeePerGas"),jr(t.gasLimit,"gasLimit"),t.to||"0x",jr(t.value,"value"),t.data,GV(t.accessList||[]),bmr(t.authorizationList||[])];return e&&(r.push(jr(e.yParity,"yParity")),r.push(Qr(e.r)),r.push(Qr(e.s))),Kt(["0x04",ga(r)])}var kl=class t{#e;#t;#r;#n;#i;#o;#s;#a;#u;#l;#f;#m;#c;#d;#p;#h;#b;#g;get type(){return this.#e}set type(e){switch(e){case null:this.#e=null;break;case 0:case"legacy":this.#e=0;break;case 1:case"berlin":case"eip-2930":this.#e=1;break;case 2:case"london":case"eip-1559":this.#e=2;break;case 3:case"cancun":case"eip-4844":this.#e=3;break;case 4:case"pectra":case"eip-7702":this.#e=4;break;default:K(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){let e=this.#t;return e==null&&this.type===3?Np:e}set to(e){this.#t=e==null?null:kt(e)}get nonce(){return this.#n}set nonce(e){this.#n=It(e,"value")}get gasLimit(){return this.#i}set gasLimit(e){this.#i=Ze(e)}get gasPrice(){let e=this.#o;return e==null&&(this.type===0||this.type===1)?ms:e}set gasPrice(e){this.#o=e==null?null:Ze(e,"gasPrice")}get maxPriorityFeePerGas(){let e=this.#s;return e??(this.type===2||this.type===3?ms:null)}set maxPriorityFeePerGas(e){this.#s=e==null?null:Ze(e,"maxPriorityFeePerGas")}get maxFeePerGas(){let e=this.#a;return e??(this.type===2||this.type===3?ms:null)}set maxFeePerGas(e){this.#a=e==null?null:Ze(e,"maxFeePerGas")}get data(){return this.#r}set data(e){this.#r=xe(e)}get value(){return this.#u}set value(e){this.#u=Ze(e,"value")}get chainId(){return this.#l}set chainId(e){this.#l=Ze(e)}get signature(){return this.#f||null}set signature(e){this.#f=e==null?null:lo.from(e)}isValid(){let e=this.signature;if(e&&!e.isValid())return!1;let r=this.authorizationList;if(r){for(let n of r)if(!n.signature.isValid())return!1}return!0}get accessList(){let e=this.#m||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){this.#m=e==null?null:zs(e)}get authorizationList(){let e=this.#b||null;return e==null&&this.type===4?[]:e}set authorizationList(e){this.#b=e==null?null:e.map(r=>i2(r))}get maxFeePerBlobGas(){let e=this.#c;return e==null&&this.type===3?ms:e}set maxFeePerBlobGas(e){this.#c=e==null?null:Ze(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#d;return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){K(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let r=0;r<e.length;r++)K(Ar(e[r],32),"invalid blobVersionedHash",`value[${r}]`,e[r])}this.#d=e}get blobs(){return this.#h==null?null:this.#h.map(e=>Object.assign({},e))}set blobs(e){if(e==null){this.#h=null;return}let r=[],n=[];for(let i=0;i<e.length;i++){let o=e[i];if(vp(o)){le(this.#p,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let s=Ne(o);if(K(s.length<=dbe,"blob is too large",`blobs[${i}]`,o),s.length!==dbe){let l=new Uint8Array(dbe);l.set(s),s=l}let a=this.#p.blobToKzgCommitment(s),c=xe(this.#p.computeBlobKzgProof(s,a));r.push({data:xe(s),commitment:xe(a),proof:c}),n.push(Hmt(1,a))}else{let s=xe(o.data),a=xe(o.commitment),c=xe(o.proof);r.push({data:s,commitment:a,proof:c}),n.push(Hmt(1,a))}}this.#h=r,this.#d=n}get kzg(){return this.#p}set kzg(e){e==null?this.#p=null:this.#p=gmr(e)}get blobWrapperVersion(){return this.#g}set blobWrapperVersion(e){this.#g=e}constructor(){this.#e=null,this.#t=null,this.#n=0,this.#i=ms,this.#o=null,this.#s=null,this.#a=null,this.#r="0x",this.#u=ms,this.#l=ms,this.#f=null,this.#m=null,this.#c=null,this.#d=null,this.#p=null,this.#h=null,this.#b=null,this.#g=null}get hash(){return this.signature==null?null:vr(this.#y(!0,!1))}get unsignedHash(){return vr(this.unsignedSerialized)}get from(){return this.signature==null?null:kp(this.unsignedHash,this.signature.getCanonical())}get fromPublicKey(){return this.signature==null?null:Fs.recoverPublicKey(this.unsignedHash,this.signature.getCanonical())}isSigned(){return this.signature!=null}#y(e,r){le(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});let n=e?this.signature:null;switch(this.inferType()){case 0:return Smr(this,n);case 1:return Emr(this,n);case 2:return wmr(this,n);case 3:return Rmr(this,n,r?this.blobs:null);case 4:return Cmr(this,n)}le(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#y(!0,!0)}get unsignedSerialized(){return this.#y(!1,!1)}inferType(){let e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){let e=this.gasPrice!=null,r=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null,i=this.#c!=null||this.#d;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&le(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),le(!r||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),le(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});let o=[];return this.type!=null?o.push(this.type):this.authorizationList&&this.authorizationList.length?o.push(4):r?o.push(2):e?(o.push(1),n||o.push(0)):n?(o.push(1),o.push(2)):(i&&this.to||(o.push(0),o.push(1),o.push(2)),o.push(3)),o.sort(),o}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return t.from(this)}toJSON(){let e=r=>r==null?null:r.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}[hmr](){return this.toString()}toString(){let e=[],r=i=>{let o=this[i];typeof o=="string"&&(o=JSON.stringify(o)),e.push(`${i}: ${o}`)};this.type&&r("type"),r("to"),r("data"),r("nonce"),r("gasLimit"),r("value"),this.chainId!=null&&r("chainId"),this.signature&&(r("from"),e.push(`signature: ${this.signature.toString()}`));let n=this.authorizationList;if(n){let i=[];for(let o of n){let s=[];s.push(`address: ${JSON.stringify(o.address)}`),o.nonce!=null&&s.push(`nonce: ${o.nonce}`),o.chainId!=null&&s.push(`chainId: ${o.chainId}`),o.signature&&s.push(`signature: ${o.signature.toString()}`),i.push(`Authorization { ${s.join(", ")} }`)}e.push(`authorizations: [ ${i.join(", ")} ]`)}return`Transaction { ${e.join(", ")} }`}static from(e){if(e==null)return new t;if(typeof e=="string"){let n=Ne(e);if(n[0]>=127)return t.from(_mr(n));switch(n[0]){case 1:return t.from(Amr(n));case 2:return t.from(xmr(n));case 3:return t.from(Tmr(n));case 4:return t.from(Imr(n))}le(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}let r=new t;return e.type!=null&&(r.type=e.type),e.to!=null&&(r.to=e.to),e.nonce!=null&&(r.nonce=e.nonce),e.gasLimit!=null&&(r.gasLimit=e.gasLimit),e.gasPrice!=null&&(r.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(r.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(r.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(r.data=e.data),e.value!=null&&(r.value=e.value),e.chainId!=null&&(r.chainId=e.chainId),e.signature!=null&&(r.signature=lo.from(e.signature)),e.accessList!=null&&(r.accessList=e.accessList),e.authorizationList!=null&&(r.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(r.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(r.kzg=e.kzg),e.blobWrapperVersion!=null&&(r.blobWrapperVersion=e.blobWrapperVersion),e.blobs!=null&&(r.blobs=e.blobs),e.hash!=null&&(K(r.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),K(r.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(K(r.isSigned(),"unsigned transaction cannot define '.from'","tx",e),K(r.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),r}};function d4(t){return K(typeof t.address=="string","invalid address for hashAuthorization","auth.address",t),vr(Kt(["0x05",ga([t.chainId!=null?Qr(t.chainId):"0x",kt(t.address),t.nonce!=null?Qr(t.nonce):"0x"])]))}function pbe(t,e){return kp(d4(t),e)}function ki(t){return vr(Yr(t))}var Nmr="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI",Vmt=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),Gmt=4;function Omr(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,o=[0,1];for(let E=1;E<n;E++)o.push(i+=r());let s=r(),a=e;e+=s;let c=0,l=0;function u(){return c==0&&(l=l<<8|t[e++],c=8),l>>--c&1}let d=31,p=2**d,f=p>>>1,h=f>>1,m=p-1,g=0;for(let E=0;E<d;E++)g=g<<1|u();let y=[],v=0,S=p;for(;;){let E=Math.floor(((g-v+1)*i-1)/S),I=0,D=n;for(;D-I>1;){let $=I+D>>>1;E<o[$]?D=$:I=$}if(I==0)break;y.push(I);let k=v+Math.floor(S*o[I]/i),P=v+Math.floor(S*o[I+1]/i)-1;for(;((k^P)&f)==0;)g=g<<1&m|u(),k=k<<1&m,P=P<<1&m|1;for(;k&~P&h;)g=g&f|g<<1&m>>>1|u(),k=k<<1^f,P=(P^f)<<1|f|1;v=k,S=1+P-k}let w=n-4;return y.map(E=>{switch(E-w){case 3:return w+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return w+256+(t[a++]<<8|t[a++]);case 1:return w+t[a++];default:return E-1}})}function Pmr(t){let e=0;return()=>t[e++]}function Jmt(t){return Pmr(Omr(kmr(t)))}function kmr(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,o)=>e[i.charCodeAt(0)]=o);let r=t.length,n=new Uint8Array(6*r>>3);for(let i=0,o=0,s=0,a=0;i<r;i++)a=a<<6|e[t.charCodeAt(i)],s+=6,s>=8&&(n[o++]=a>>(s-=8));return n}function Dmr(t){return t&1?~t>>1:t>>1}function Mmr(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=Dmr(e());return r}function o9(t,e=0){let r=[];for(;;){let n=t(),i=t();if(!i)break;e+=n;for(let o=0;o<i;o++)r.push(e+o);e+=i+1}return r}function Kmt(t){return s9(()=>{let e=o9(t);if(e.length)return e})}function Qmt(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(Lmr(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(Bmr(r,t))}return e.flat()}function s9(t){let e=[];for(;;){let r=t(e.length);if(!r)break;e.push(r)}return e}function Xmt(t,e,r){let n=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)Mmr(t,r).forEach((o,s)=>n[s].push(o));return n}function Lmr(t,e){let r=1+e(),n=e(),i=s9(e);return Xmt(i.length,1+t,e).flatMap((s,a)=>{let[c,...l]=s;return Array(i[a]).fill().map((u,d)=>{let p=d*n;return[c+d*r,l.map(f=>f+p)]})})}function Bmr(t,e){let r=1+e();return Xmt(r,1+t,e).map(i=>[i[0],i.slice(1)])}function $mr(t){let e=[],r=o9(t);return i(n([]),[]),e;function n(o){let s=t(),a=s9(()=>{let c=o9(t).map(l=>r[l]);if(c.length)return n(c)});return{S:s,B:a,Q:o}}function i({S:o,B:s},a,c){if(!(o&4&&c===a[a.length-1])){o&2&&(c=a[a.length-1]),o&1&&e.push(a);for(let l of s)for(let u of l.Q)i(l,[...a,u],c)}}}function Umr(t){return t.toString(16).toUpperCase().padStart(2,"0")}function Ymt(t){return`{${Umr(t)}}`}function Fmr(t){let e=[];for(let r=0,n=t.length;r<n;){let i=t.codePointAt(r);r+=i<65536?1:2,e.push(i)}return e}function m4(t){let r=t.length;if(r<4096)return String.fromCodePoint(...t);let n=[];for(let i=0;i<r;)n.push(String.fromCodePoint(...t.slice(i,i+=4096)));return n.join("")}function zmr(t,e){let r=t.length,n=r-e.length;for(let i=0;n==0&&i<r;i++)n=t[i]-e[i];return n}var Hmr="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g",a9=44032,WV=4352,JV=4449,KV=4519,Zmt=19,eht=21,h4=28,QV=eht*h4,Vmr=Zmt*QV,Gmr=a9+Vmr,jmr=WV+Zmt,qmr=JV+eht,Wmr=KV+h4;function n9(t){return t>>24&255}function tht(t){return t&16777215}var mbe,jmt,hbe,qV;function Jmr(){let t=Jmt(Hmr);mbe=new Map(Kmt(t).flatMap((e,r)=>e.map(n=>[n,r+1<<24]))),jmt=new Set(o9(t)),hbe=new Map,qV=new Map;for(let[e,r]of Qmt(t)){if(!jmt.has(e)&&r.length==2){let[n,i]=r,o=qV.get(n);o||(o=new Map,qV.set(n,o)),o.set(i,e)}hbe.set(e,r.reverse())}}function rht(t){return t>=a9&&t<Gmr}function Kmr(t,e){if(t>=WV&&t<jmr&&e>=JV&&e<qmr)return a9+(t-WV)*QV+(e-JV)*h4;if(rht(t)&&e>KV&&e<Wmr&&(t-a9)%h4==0)return t+(e-KV);{let r=qV.get(t);return r&&(r=r.get(e),r)?r:-1}}function nht(t){mbe||Jmr();let e=[],r=[],n=!1;function i(o){let s=mbe.get(o);s&&(n=!0,o|=s),e.push(o)}for(let o of t)for(;;){if(o<128)e.push(o);else if(rht(o)){let s=o-a9,a=s/QV|0,c=s%QV/h4|0,l=s%h4;i(WV+a),i(JV+c),l>0&&i(KV+l)}else{let s=hbe.get(o);s?r.push(...s):i(o)}if(!r.length)break;o=r.pop()}if(n&&e.length>1){let o=n9(e[0]);for(let s=1;s<e.length;s++){let a=n9(e[s]);if(a==0||o<=a){o=a;continue}let c=s-1;for(;;){let l=e[c+1];if(e[c+1]=e[c],e[c]=l,!c||(o=n9(e[--c]),o<=a))break}o=n9(e[s])}}return e}function Qmr(t){let e=[],r=[],n=-1,i=0;for(let o of t){let s=n9(o),a=tht(o);if(n==-1)s==0?n=a:e.push(a);else if(i>0&&i>=s)s==0?(e.push(n,...r),r.length=0,n=a):r.push(a),i=s;else{let c=Kmr(n,a);c>=0?n=c:i==0&&s==0?(e.push(n),n=a):(r.push(a),i=s)}}return n>=0&&e.push(n,...r),e}function iht(t){return nht(t).map(tht)}function Xmr(t){return Qmr(nht(t))}var qmt=45;var oht=".",sht=65039,aht=1,XV=t=>Array.from(t);function c9(t,e){return t.P.has(e)||t.Q.has(e)}var gbe=class extends Array{get is_emoji(){return!0}},ybe,cht,a2,bbe,lht,Ymr,f4,fbe,p4,s2,Wmt,vbe;function _be(){if(ybe)return;let t=Jmt(Nmr),e=()=>o9(t),r=()=>new Set(e()),n=(u,d)=>d.forEach(p=>u.add(p));ybe=new Map(Qmt(t)),cht=r(),a2=e(),bbe=new Set(e().map(u=>a2[u])),a2=new Set(a2),lht=r(),Ymr=r();let i=Kmt(t),o=t(),s=()=>{let u=new Set;return e().forEach(d=>n(u,i[d])),n(u,e()),u};f4=s9(u=>{let d=s9(t).map(p=>p+96);if(d.length){let p=u>=o;d[0]-=32,d=m4(d),p&&(d=`Restricted[${d}]`);let f=s(),h=s(),m=!t();return{N:d,P:f,Q:h,M:m,R:p}}}),fbe=r(),p4=new Map;let a=e().concat(XV(fbe)).sort((u,d)=>u-d);a.forEach((u,d)=>{let p=t(),f=a[d]=p?a[d-p]:{V:[],M:new Map};f.V.push(u),fbe.has(u)||p4.set(u,f)});for(let{V:u,M:d}of new Set(p4.values())){let p=[];for(let h of u){let m=f4.filter(y=>c9(y,h)),g=p.find(({G:y})=>m.some(v=>y.has(v)));g||(g={G:new Set,V:[]},p.push(g)),g.V.push(h),n(g.G,m)}let f=p.flatMap(h=>XV(h.G));for(let{G:h,V:m}of p){let g=new Set(f.filter(y=>!h.has(y)));for(let y of m)d.set(y,g)}}s2=new Set;let c=new Set,l=u=>s2.has(u)?c.add(u):s2.add(u);for(let u of f4){for(let d of u.P)l(d);for(let d of u.Q)l(d)}for(let u of s2)!p4.has(u)&&!c.has(u)&&p4.set(u,aht);n(s2,iht(s2)),Wmt=$mr(t).map(u=>gbe.from(u)).sort(zmr),vbe=new Map;for(let u of Wmt){let d=[vbe];for(let p of u){let f=d.map(h=>{let m=h.get(p);return m||(m=new Map,h.set(p,m)),m});p===sht?d.push(...f):d=f}for(let p of d)p.V=u}}function Sbe(t){return(uht(t)?"":`${xbe(YV([t]))} `)+Ymt(t)}function xbe(t){return`"${t}"\u200E`}function Zmr(t){if(t.length>=4&&t[2]==qmt&&t[3]==qmt)throw new Error(`invalid label extension: "${m4(t.slice(0,4))}"`)}function ehr(t){for(let r=t.lastIndexOf(95);r>0;)if(t[--r]!==95)throw new Error("underscore allowed only at start")}function thr(t){let e=t[0],r=Vmt.get(e);if(r)throw i9(`leading ${r}`);let n=t.length,i=-1;for(let o=1;o<n;o++){e=t[o];let s=Vmt.get(e);if(s){if(i==o)throw i9(`${r} + ${s}`);i=o+1,r=s}}if(i==n)throw i9(`trailing ${r}`)}function YV(t,e=1/0,r=Ymt){let n=[];rhr(t[0])&&n.push("\u25CC"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,o=t.length;for(let s=0;s<o;s++){let a=t[s];uht(a)&&(n.push(m4(t.slice(i,s))),n.push(r(a)),i=s+1)}return n.push(m4(t.slice(i,o))),n.join("")}function rhr(t){return _be(),a2.has(t)}function uht(t){return _be(),lht.has(t)}function dht(t){return shr(nhr(t,Xmr,lhr))}function nhr(t,e,r){if(!t)return[];_be();let n=0;return t.split(oht).map(i=>{let o=Fmr(i),s={input:o,offset:n};n+=o.length+1;try{let a=s.tokens=chr(o,e,r),c=a.length,l;if(!c)throw new Error("empty label");let u=s.output=a.flat();if(ehr(u),!(s.emoji=c>1||a[0].is_emoji)&&u.every(p=>p<128))Zmr(u),l="ASCII";else{let p=a.flatMap(f=>f.is_emoji?[]:f);if(!p.length)l="Emoji";else{if(a2.has(u[0]))throw i9("leading combining mark");for(let m=1;m<c;m++){let g=a[m];if(!g.is_emoji&&a2.has(g[0]))throw i9(`emoji + combining mark: "${m4(a[m-1])} + ${YV([g[0]])}"`)}thr(u);let f=XV(new Set(p)),[h]=ohr(f);ahr(h,p),ihr(h,f),l=h.N}}s.type=l}catch(a){s.error=a}return s})}function ihr(t,e){let r,n=[];for(let i of e){let o=p4.get(i);if(o===aht)return;if(o){let s=o.M.get(i);if(r=r?r.filter(a=>s.has(a)):XV(s),!r.length)return}else n.push(i)}if(r){for(let i of r)if(n.every(o=>c9(i,o)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function ohr(t){let e=f4;for(let r of t){let n=e.filter(i=>c9(i,r));if(!n.length)throw f4.some(i=>c9(i,r))?fht(e[0],r):pht(r);if(e=n,n.length==1)break}return e}function shr(t){return t.map(({input:e,error:r,output:n})=>{if(r){let i=r.message;throw new Error(t.length==1?i:`Invalid label ${xbe(YV(e,63))}: ${i}`)}return m4(n)}).join(oht)}function pht(t){return new Error(`disallowed character: ${Sbe(t)}`)}function fht(t,e){let r=Sbe(e),n=f4.find(i=>i.P.has(e));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${t.N} + ${r}`)}function i9(t){return new Error(`illegal placement: ${t}`)}function ahr(t,e){for(let r of e)if(!c9(t,r))throw fht(t,r);if(t.M){let r=iht(e);for(let n=1,i=r.length;n<i;n++)if(bbe.has(r[n])){let o=n+1;for(let s;o<i&&bbe.has(s=r[o]);o++)for(let a=n;a<o;a++)if(r[a]==s)throw new Error(`duplicate non-spacing marks: ${Sbe(s)}`);if(o-n>Gmt)throw new Error(`excessive non-spacing marks: ${xbe(YV(r.slice(n-1,o)))} (${o-n}/${Gmt})`);n=o}}}function chr(t,e,r){let n=[],i=[];for(t=t.slice().reverse();t.length;){let o=uhr(t);if(o)i.length&&(n.push(e(i)),i=[]),n.push(r(o));else{let s=t.pop();if(s2.has(s))i.push(s);else{let a=ybe.get(s);if(a)i.push(...a);else if(!cht.has(s))throw pht(s)}}}return i.length&&n.push(e(i)),n}function lhr(t){return t.filter(e=>e!=sht)}function uhr(t,e){let r=vbe,n,i=t.length;for(;i&&(r=r.get(t[--i]),!!r);){let{V:o}=r;o&&(n=o,e&&e.push(...t.slice(i).reverse()),t.length=i)}return n}var hht=new Uint8Array(32);hht.fill(0);function mht(t){return K(t.length!==0,"invalid ENS name; empty component","comp",t),t}function wbe(t){let e=Yr(ZV(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(mht(e.slice(n,i))),n=i+1);return K(n<e.length,"invalid ENS name; empty component","name",t),r.push(mht(e.slice(n))),r}function ZV(t){try{if(t.length===0)throw new Error("empty label");return dht(t)}catch(e){K(!1,`invalid ENS name (${e.message})`,"name",t)}}function Abe(t){try{return wbe(t).length!==0}catch{}return!1}function Fy(t){K(typeof t=="string","invalid ENS name; not a string","name",t),K(t.length,"invalid ENS name (empty label)","name",t);let e=hht,r=wbe(t);for(;r.length;)e=vr(Kt([e,vr(r.pop())]));return xe(e)}function l9(t,e){let r=e??63;return K(r<=255,"DNS encoded label cannot exceed 255","length",r),xe(Kt(wbe(t).map(n=>{K(n.length<=r,`label ${JSON.stringify(t)} exceeds ${r} bytes`,"name",t);let i=new Uint8Array(n.length+1);return i.set(n,1),i[0]=i.length-1,i})))+"00"}function g4(t){return typeof t=="string"&&(t=Yr(t)),vr(Kt([Yr(t9),Yr(String(t.length)),t]))}function Ebe(t,e){let r=g4(t);return kp(r,e)}var dhr=new RegExp("^bytes([0-9]+)$"),phr=new RegExp("^(u?int)([0-9]*)$"),fhr=new RegExp("^(.*)\\[([0-9]*)\\]$");function ght(t,e,r){switch(t){case"address":return r?Ne(so(e,32)):Ne(kt(e));case"string":return Yr(e);case"bytes":return Ne(e);case"bool":return e=e?"0x01":"0x00",r?Ne(so(e,32)):Ne(e)}let n=t.match(phr);if(n){let i=n[1]==="int",o=parseInt(n[2]||"256");return K((!n[2]||n[2]===String(o))&&o%8===0&&o!==0&&o<=256,"invalid number type","type",t),r&&(o=256),i&&(e=_g(e,o)),Ne(so(Qr(e),o/8))}if(n=t.match(dhr),n){let i=parseInt(n[1]);return K(String(i)===n[1]&&i!==0&&i<=32,"invalid bytes type","type",t),K(Wc(e)===i,`invalid value for ${t}`,"value",e),r?Ne(bg(e,32)):e}if(n=t.match(fhr),n&&Array.isArray(e)){let i=n[1],o=parseInt(n[2]||String(e.length));K(o===e.length,`invalid array length for ${t}`,"value",e);let s=[];return e.forEach(function(a){s.push(ght(i,a,!0))}),Ne(Kt(s))}K(!1,"invalid type","type",t)}function u9(t,e){K(t.length===e.length,"wrong number of values; expected ${ types.length }","values",e);let r=[];return t.forEach(function(n,i){r.push(ght(n,e[i]))}),xe(Kt(r))}function Tbe(t,e){return vr(u9(t,e))}function Rbe(t,e){return co(u9(t,e))}var _ht=new Uint8Array(32);_ht.fill(0);var mhr=BigInt(-1),Sht=BigInt(0),xht=BigInt(1),hhr=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function ghr(t){let e=Ne(t),r=e.length%32;return r?Kt([e,_ht.slice(r)]):xe(e)}var yhr=fs(xht,32),bhr=fs(Sht,32),yht={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Ibe=["name","version","chainId","verifyingContract","salt"];function bht(t){return function(e){return K(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}var vhr={name:bht("name"),version:bht("version"),chainId:function(t){let e=Ze(t,"domain.chainId");return K(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):Qo(e)},verifyingContract:function(t){try{return kt(t).toLowerCase()}catch{}K(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){let e=Ne(t,"domain.salt");return K(e.length===32,'invalid domain value "salt"',"domain.salt",t),xe(e)}};function Cbe(t){{let e=t.match(/^(u?)int(\d+)$/);if(e){let r=e[1]==="",n=parseInt(e[2]);K(n%8===0&&n!==0&&n<=256&&e[2]===String(n),"invalid numeric width","type",t);let i=Nl(hhr,r?n-1:n),o=r?(i+xht)*mhr:Sht;return function(s){let a=Ze(s,"value");return K(a>=o&&a<=i,`value out-of-bounds for ${t}`,"value",a),fs(r?_g(a,256):a,32)}}}{let e=t.match(/^bytes(\d+)$/);if(e){let r=parseInt(e[1]);return K(r!==0&&r<=32&&e[1]===String(r),"invalid bytes width","type",t),function(n){let i=Ne(n);return K(i.length===r,`invalid length for ${t}`,"value",n),ghr(n)}}}switch(t){case"address":return function(e){return so(kt(e),32)};case"bool":return function(e){return e?yhr:bhr};case"bytes":return function(e){return vr(e)};case"string":return function(e){return ki(e)}}return null}function vht(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}function eG(t){let e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var yd=class t{primaryType;#e;get types(){return JSON.parse(this.#e)}#t;#r;constructor(e){this.#t=new Map,this.#r=new Map;let r=new Map,n=new Map,i=new Map,o={};Object.keys(e).forEach(c=>{o[c]=e[c].map(({name:l,type:u})=>{let{base:d,index:p}=eG(u);return d==="int"&&!e.int&&(d="int256"),d==="uint"&&!e.uint&&(d="uint256"),{name:l,type:d+(p||"")}}),r.set(c,new Set),n.set(c,[]),i.set(c,new Set)}),this.#e=JSON.stringify(o);for(let c in o){let l=new Set;for(let u of o[c]){K(!l.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(c)}`,"types",e),l.add(u.name);let d=eG(u.type).base;K(d!==c,`circular type reference to ${JSON.stringify(d)}`,"types",e),!Cbe(d)&&(K(n.has(d),`unknown type ${JSON.stringify(d)}`,"types",e),n.get(d).push(c),r.get(c).add(d))}}let s=Array.from(n.keys()).filter(c=>n.get(c).length===0);K(s.length!==0,"missing primary type","types",e),K(s.length===1,`ambiguous primary types or unused types: ${s.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),Be(this,{primaryType:s[0]});function a(c,l){K(!l.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),l.add(c);for(let u of r.get(c))if(n.has(u)){a(u,l);for(let d of l)i.get(d).add(u)}l.delete(c)}a(this.primaryType,new Set);for(let[c,l]of i){let u=Array.from(l);u.sort(),this.#t.set(c,vht(c,o[c])+u.map(d=>vht(d,o[d])).join(""))}}getEncoder(e){let r=this.#r.get(e);return r||(r=this.#n(e),this.#r.set(e,r)),r}#n(e){{let i=Cbe(e);if(i)return i}let r=eG(e).array;if(r){let i=r.prefix,o=this.getEncoder(i);return s=>{K(r.count===-1||r.count===s.length,`array length mismatch; expected length ${r.count}`,"value",s);let a=s.map(o);return this.#t.has(i)&&(a=a.map(vr)),vr(Kt(a))}}let n=this.types[e];if(n){let i=ki(this.#t.get(e));return o=>{let s=n.map(({name:a,type:c})=>{let l=this.getEncoder(c)(o[a]);return this.#t.has(c)?vr(l):l});return s.unshift(i),Kt(s)}}K(!1,`unknown type: ${e}`,"type",e)}encodeType(e){let r=this.#t.get(e);return K(r,`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return vr(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(Cbe(e))return n(e,r);let i=eG(e).array;if(i)return K(i.count===-1||i.count===r.length,`array length mismatch; expected length ${i.count}`,"value",r),r.map(s=>this._visit(i.prefix,s,n));let o=this.types[e];if(o)return o.reduce((s,{name:a,type:c})=>(s[a]=this._visit(c,r[a],n),s),{});K(!1,`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new t(e)}static getPrimaryType(e){return t.from(e).primaryType}static hashStruct(e,r,n){return t.from(r).hashStruct(e,n)}static hashDomain(e){let r=[];for(let n in e){if(e[n]==null)continue;let i=yht[n];K(i,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>Ibe.indexOf(n.name)-Ibe.indexOf(i.name)),t.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return Kt(["0x1901",t.hashDomain(e),t.from(r).hash(n)])}static hash(e,r,n){return vr(t.encode(e,r,n))}static async resolveNames(e,r,n,i){e=Object.assign({},e);for(let a in e)e[a]==null&&delete e[a];let o={};e.verifyingContract&&!Ar(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");let s=t.from(r);s.visit(n,(a,c)=>(a==="address"&&!Ar(c,20)&&(o[c]="0x"),c));for(let a in o)o[a]=await i(a);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),n=s.visit(n,(a,c)=>a==="address"&&o[c]?o[c]:c),{domain:e,value:n}}static getPayload(e,r,n){t.hashDomain(e);let i={},o=[];Ibe.forEach(c=>{let l=e[c];l!=null&&(i[c]=vhr[c](l),o.push({name:c,type:yht[c]}))});let s=t.from(r);r=s.types;let a=Object.assign({},r);return K(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",r),a.EIP712Domain=o,s.encode(n),{types:a,domain:i,primaryType:s.primaryType,message:s.visit(n,(c,l)=>{if(c.match(/^bytes(\d*)/))return xe(Ne(l));if(c.match(/^u?int/))return Ze(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return K(typeof l=="string","invalid string","value",l),l}K(!1,"unsupported type","type",c)})}}};function Nbe(t,e,r,n){return kp(yd.hash(t,e,r),n)}function Ka(t){let e=new Set;return t.forEach(r=>e.add(r)),Object.freeze(e)}var _hr="external public payable override",Shr=Ka(_hr.split(" ")),Pht="constant external internal payable private public pure view override",xhr=Ka(Pht.split(" ")),kht="constructor error event fallback function receive struct",Dht=Ka(kht.split(" ")),Mht="calldata memory storage payable indexed",whr=Ka(Mht.split(" ")),Ahr="tuple returns",Ehr=[kht,Mht,Ahr,Pht].join(" "),Thr=Ka(Ehr.split(" ")),Rhr={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Ihr=new RegExp("^(\\s*)"),Chr=new RegExp("^([0-9]+)"),Nhr=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),Lht=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),Bht=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$"),Dp=class t{#e;#t;get offset(){return this.#e}get length(){return this.#t.length-this.#e}constructor(e){this.#e=0,this.#t=e.slice()}clone(){return new t(this.#t)}reset(){this.#e=0}#r(e=0,r=0){return new t(this.#t.slice(e,r).map(n=>Object.freeze(Object.assign({},n,{match:n.match-e,linkBack:n.linkBack-e,linkNext:n.linkNext-e}))))}popKeyword(e){let r=this.peek();if(r.type!=="KEYWORD"||!e.has(r.text))throw new Error(`expected keyword ${r.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){let r=this.peek();throw new Error(`expected ${e}; got ${r.type} ${JSON.stringify(r.text)}`)}return this.pop().text}popParen(){let e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");let r=this.#r(this.#e+1,e.match+1);return this.#e=e.match+1,r}popParams(){let e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");let r=[];for(;this.#e<e.match-1;){let n=this.peek().linkNext;r.push(this.#r(this.#e+1,n)),this.#e=n}return this.#e=e.match+1,r}peek(){if(this.#e>=this.#t.length)throw new Error("out-of-bounds");return this.#t[this.#e]}peekKeyword(e){let r=this.peekType("KEYWORD");return r!=null&&e.has(r)?r:null}peekType(e){if(this.length===0)return null;let r=this.peek();return r.type===e?r.text:null}pop(){let e=this.peek();return this.#e++,e}toString(){let e=[];for(let r=this.#e;r<this.#t.length;r++){let n=this.#t[r];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}};function Hy(t){let e=[],r=s=>{let a=o<t.length?JSON.stringify(t[o]):"$EOI";throw new Error(`invalid token ${a} at ${o}: ${s}`)},n=[],i=[],o=0;for(;o<t.length;){let s=t.substring(o),a=s.match(Ihr);a&&(o+=a[1].length,s=t.substring(o));let c={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:o,value:-1};e.push(c);let l=Rhr[s[0]]||"";if(l){if(c.type=l,c.text=s[0],o++,l==="OPEN_PAREN")n.push(e.length-1),i.push(e.length-1);else if(l=="CLOSE_PAREN")n.length===0&&r("no matching open bracket"),c.match=n.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=i.pop(),e[c.linkBack].linkNext=e.length-1;else if(l==="COMMA")c.linkBack=i.pop(),e[c.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(l==="OPEN_BRACKET")c.type="BRACKET";else if(l==="CLOSE_BRACKET"){let u=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){let d=e.pop().text;u=d+u,e[e.length-1].value=It(d)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=u}continue}if(a=s.match(Nhr),a){if(c.text=a[1],o+=c.text.length,Thr.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(Bht)){c.type="TYPE";continue}c.type="ID";continue}if(a=s.match(Chr),a){c.text=a[1],c.type="NUMBER",o+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(s[0])} at position ${o}`)}return new Dp(e.map(s=>Object.freeze(s)))}function wht(t,e){let r=[];for(let n in e.keys())t.has(n)&&r.push(n);if(r.length>1)throw new Error(`conflicting types: ${r.join(", ")}`)}function tG(t,e){if(e.peekKeyword(Dht)){let r=e.pop().text;if(r!==t)throw new Error(`expected ${t}, got ${r}`)}return e.popType("ID")}function Ig(t,e){let r=new Set;for(;;){let n=t.peekType("KEYWORD");if(n==null||e&&!e.has(n))break;if(t.pop(),r.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function $ht(t){let e=Ig(t,xhr);return wht(e,Ka("constant payable nonpayable".split(" "))),wht(e,Ka("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Rg(t,e){return t.popParams().map(r=>Xi.from(r,e))}function Uht(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return Ze(t.pop().text);throw new Error("invalid gas")}return null}function c2(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}var Ohr=new RegExp(/^(.*)\[([0-9]*)\]$/);function Aht(t){let e=t.match(Bht);if(K(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){let r=parseInt(e[2]);K(r!==0&&r<=32,"invalid bytes length","type",t)}else if(e[3]){let r=parseInt(e[3]);K(r!==0&&r<=256&&r%8===0,"invalid numeric width","type",t)}return t}var Di={},Jc=Symbol.for("_ethers_internal"),Eht="_ParamTypeInternal",Tht="_ErrorInternal",Rht="_EventInternal",Iht="_ConstructorInternal",Cht="_FallbackInternal",Nht="_FunctionInternal",Oht="_StructInternal",Xi=class t{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,r,n,i,o,s,a,c){if($s(e,Di,"ParamType"),Object.defineProperty(this,Jc,{value:Eht}),s&&(s=Object.freeze(s.slice())),i==="array"){if(a==null||c==null)throw new Error("")}else if(a!=null||c!=null)throw new Error("");if(i==="tuple"){if(s==null)throw new Error("")}else if(s!=null)throw new Error("");Be(this,{name:r,type:n,baseType:i,indexed:o,components:s,arrayLength:a,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){let n=this.name||"";if(this.isArray()){let o=JSON.parse(this.arrayChildren.format("json"));return o.name=n,o.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(o)}let i={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(o=>JSON.parse(o.format(e)))),JSON.stringify(i)}let r="";return this.isArray()?(r+=this.arrayChildren.format(e),r+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?r+="("+this.components.map(n=>n.format(e)).join(e==="full"?", ":",")+")":r+=this.type,e!=="sighash"&&(this.indexed===!0&&(r+=" indexed"),e==="full"&&this.name&&(r+=" "+this.name)),r}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,r){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");let n=this;return e.map(i=>n.arrayChildren.walk(i,r))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");let n=this;return e.map((i,o)=>n.components[o].walk(i,r))}return r(this.type,e)}#e(e,r,n,i){if(this.isArray()){if(!Array.isArray(r))throw new Error("invalid array value");if(this.arrayLength!==-1&&r.length!==this.arrayLength)throw new Error("array is wrong length");let s=this.arrayChildren,a=r.slice();a.forEach((c,l)=>{s.#e(e,c,n,u=>{a[l]=u})}),i(a);return}if(this.isTuple()){let s=this.components,a;if(Array.isArray(r))a=r.slice();else{if(r==null||typeof r!="object")throw new Error("invalid tuple value");a=s.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in r))throw new Error(`missing value for component ${c.name}`);return r[c.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((c,l)=>{s[l].#e(e,c,n,u=>{a[l]=u})}),i(a);return}let o=n(this.type,r);o.then?e.push((async function(){i(await o)})()):i(o)}async walkAsync(e,r){let n=[],i=[e];return this.#e(n,e,r,o=>{i[0]=o}),n.length&&await Promise.all(n),i[0]}static from(e,r){if(t.isParamType(e))return e;if(typeof e=="string")try{return t.from(Hy(e),r)}catch{K(!1,"invalid param type","obj",e)}else if(e instanceof Dp){let a="",c="",l=null;Ig(e,Ka(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",l=e.popParams().map(m=>t.from(m)),a=`tuple(${l.map(m=>m.format()).join(",")})`):(a=Aht(e.popType("TYPE")),c=a);let u=null,d=null;for(;e.length&&e.peekType("BRACKET");){let m=e.pop();u=new t(Di,"",a,c,null,l,d,u),d=m.value,a+=m.text,c="array",l=null}let p=null;if(Ig(e,whr).has("indexed")){if(!r)throw new Error("");p=!0}let h=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new t(Di,h,a,c,p,l,d,u)}let n=e.name;K(!n||typeof n=="string"&&n.match(Lht),"invalid name","obj.name",n);let i=e.indexed;i!=null&&(K(r,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let o=e.type,s=o.match(Ohr);if(s){let a=parseInt(s[2]||"-1"),c=t.from({type:s[1],components:e.components});return new t(Di,n||"",o,"array",i,null,a,c)}if(o==="tuple"||o.startsWith("tuple(")||o.startsWith("(")){let a=e.components!=null?e.components.map(l=>t.from(l)):null;return new t(Di,n||"",o,"tuple",i,a,null,null)}return o=Aht(e.type),new t(Di,n||"",o,o,i,null,null,null)}static isParamType(e){return e&&e[Jc]===Eht}},lm=class t{type;inputs;constructor(e,r,n){$s(e,Di,"Fragment"),n=Object.freeze(n.slice()),Be(this,{type:r,inputs:n})}static from(e){if(typeof e=="string"){try{t.from(JSON.parse(e))}catch{}return t.from(Hy(e))}if(e instanceof Dp)switch(e.peekKeyword(Dht)){case"constructor":return am.from(e);case"error":return Qa.from(e);case"event":return sm.from(e);case"fallback":case"receive":return l2.from(e);case"function":return cm.from(e);case"struct":return zy.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return am.from(e);case"error":return Qa.from(e);case"event":return sm.from(e);case"fallback":case"receive":return l2.from(e);case"function":return cm.from(e);case"struct":return zy.from(e)}le(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}K(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return am.isFragment(e)}static isError(e){return Qa.isFragment(e)}static isEvent(e){return sm.isFragment(e)}static isFunction(e){return cm.isFragment(e)}static isStruct(e){return zy.isFragment(e)}},Cg=class extends lm{name;constructor(e,r,n,i){super(e,r,i),K(typeof n=="string"&&n.match(Lht),"invalid identifier","name",n),i=Object.freeze(i.slice()),Be(this,{name:n})}};function d9(t,e){return"("+e.map(r=>r.format(t)).join(t==="full"?", ":",")+")"}var Qa=class t extends Cg{constructor(e,r,n){super(e,"error",r,n),Object.defineProperty(this,Jc,{value:Tht})}get selector(){return ki(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r=[];return e!=="sighash"&&r.push("error"),r.push(this.name+d9(e,this.inputs)),r.join(" ")}static from(e){if(t.isFragment(e))return e;if(typeof e=="string")return t.from(Hy(e));if(e instanceof Dp){let r=tG("error",e),n=Rg(e);return c2(e),new t(Di,r,n)}return new t(Di,e.name,e.inputs?e.inputs.map(Xi.from):[])}static isFragment(e){return e&&e[Jc]===Tht}},sm=class t extends Cg{anonymous;constructor(e,r,n,i){super(e,"event",r,n),Object.defineProperty(this,Jc,{value:Rht}),Be(this,{anonymous:i})}get topicHash(){return ki(this.format("sighash"))}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r=[];return e!=="sighash"&&r.push("event"),r.push(this.name+d9(e,this.inputs)),e!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(e,r){return r=(r||[]).map(i=>Xi.from(i)),new t(Di,e,r,!1).topicHash}static from(e){if(t.isFragment(e))return e;if(typeof e=="string")try{return t.from(Hy(e))}catch{K(!1,"invalid event fragment","obj",e)}else if(e instanceof Dp){let r=tG("event",e),n=Rg(e,!0),i=!!Ig(e,Ka(["anonymous"])).has("anonymous");return c2(e),new t(Di,r,n,i)}return new t(Di,e.name,e.inputs?e.inputs.map(r=>Xi.from(r,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[Jc]===Rht}},am=class t extends lm{payable;gas;constructor(e,r,n,i,o){super(e,r,n),Object.defineProperty(this,Jc,{value:Iht}),Be(this,{payable:i,gas:o})}format(e){if(le(e!=null&&e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r=[`constructor${d9(e,this.inputs)}`];return this.payable&&r.push("payable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(e){if(t.isFragment(e))return e;if(typeof e=="string")try{return t.from(Hy(e))}catch{K(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof Dp){Ig(e,Ka(["constructor"]));let r=Rg(e),n=!!Ig(e,Shr).has("payable"),i=Uht(e);return c2(e),new t(Di,"constructor",r,n,i)}return new t(Di,"constructor",e.inputs?e.inputs.map(Xi.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Jc]===Iht}},l2=class t extends lm{payable;constructor(e,r,n){super(e,"fallback",r),Object.defineProperty(this,Jc,{value:Cht}),Be(this,{payable:n})}format(e){let r=this.inputs.length===0?"receive":"fallback";if(e==="json"){let n=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:n})}return`${r}()${this.payable?" payable":""}`}static from(e){if(t.isFragment(e))return e;if(typeof e=="string")try{return t.from(Hy(e))}catch{K(!1,"invalid fallback fragment","obj",e)}else if(e instanceof Dp){let r=e.toString(),n=e.peekKeyword(Ka(["fallback","receive"]));if(K(n,"type must be fallback or receive","obj",r),e.popKeyword(Ka(["fallback","receive"]))==="receive"){let a=Rg(e);return K(a.length===0,"receive cannot have arguments","obj.inputs",a),Ig(e,Ka(["payable"])),c2(e),new t(Di,[],!0)}let o=Rg(e);o.length?K(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(a=>a.format("minimal")).join(", ")):o=[Xi.from("bytes")];let s=$ht(e);if(K(s==="nonpayable"||s==="payable","fallback cannot be constants","obj.stateMutability",s),Ig(e,Ka(["returns"])).has("returns")){let a=Rg(e);K(a.length===1&&a[0].type==="bytes","invalid fallback outputs","obj.outputs",a.map(c=>c.format("minimal")).join(", "))}return c2(e),new t(Di,o,s==="payable")}if(e.type==="receive")return new t(Di,[],!0);if(e.type==="fallback"){let r=[Xi.from("bytes")],n=e.stateMutability==="payable";return new t(Di,r,n)}K(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[Jc]===Cht}},cm=class t extends Cg{constant;outputs;stateMutability;payable;gas;constructor(e,r,n,i,o,s){super(e,"function",r,i),Object.defineProperty(this,Jc,{value:Nht}),o=Object.freeze(o.slice()),Be(this,{constant:n==="view"||n==="pure",gas:s,outputs:o,payable:n==="payable",stateMutability:n})}get selector(){return ki(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r=[];return e!=="sighash"&&r.push("function"),r.push(this.name+d9(e,this.inputs)),e!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push(d9(e,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(e,r){return r=(r||[]).map(i=>Xi.from(i)),new t(Di,e,"view",r,[],null).selector}static from(e){if(t.isFragment(e))return e;if(typeof e=="string")try{return t.from(Hy(e))}catch{K(!1,"invalid function fragment","obj",e)}else if(e instanceof Dp){let n=tG("function",e),i=Rg(e),o=$ht(e),s=[];Ig(e,Ka(["returns"])).has("returns")&&(s=Rg(e));let a=Uht(e);return c2(e),new t(Di,n,o,i,s,a)}let r=e.stateMutability;return r==null&&(r="payable",typeof e.constant=="boolean"?(r="view",e.constant||(r="payable",typeof e.payable=="boolean"&&!e.payable&&(r="nonpayable"))):typeof e.payable=="boolean"&&!e.payable&&(r="nonpayable")),new t(Di,e.name,r,e.inputs?e.inputs.map(Xi.from):[],e.outputs?e.outputs.map(Xi.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Jc]===Nht}},zy=class t extends Cg{constructor(e,r,n){super(e,"struct",r,n),Object.defineProperty(this,Jc,{value:Oht})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return t.from(Hy(e))}catch{K(!1,"invalid struct fragment","obj",e)}else if(e instanceof Dp){let r=tG("struct",e),n=Rg(e);return c2(e),new t(Di,r,n)}return new t(Di,e.name,e.inputs?e.inputs.map(Xi.from):[])}static isFragment(e){return e&&e[Jc]===Oht}};var Mp=new Map;Mp.set(0,"GENERIC_PANIC");Mp.set(1,"ASSERT_FALSE");Mp.set(17,"OVERFLOW");Mp.set(18,"DIVIDE_BY_ZERO");Mp.set(33,"ENUM_RANGE_ERROR");Mp.set(34,"BAD_STORAGE_DATA");Mp.set(49,"STACK_UNDERFLOW");Mp.set(50,"ARRAY_RANGE_ERROR");Mp.set(65,"OUT_OF_MEMORY");Mp.set(81,"UNINITIALIZED_FUNCTION_CALL");var Phr=new RegExp(/^bytes([0-9]*)$/),khr=new RegExp(/^(u?int)([0-9]*)$/),Obe=null,Fht=1024;function Dhr(t,e,r,n){let i="missing revert data",o=null,s=null,a=null;if(r){i="execution reverted";let l=Ne(r);if(r=xe(r),l.length===0)i+=" (no data present; likely require(false) occurred",o="require(false)";else if(l.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(xe(l.slice(0,4))==="0x08c379a0")try{o=n.decode(["string"],l.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[o]},i+=`: ${JSON.stringify(o)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(xe(l.slice(0,4))==="0x4e487b71")try{let u=Number(n.decode(["uint256"],l.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[u]},o=`Panic due to ${Mp.get(u)||"UNKNOWN"}(${u})`,i+=`: ${o}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}let c={to:e.to?kt(e.to):null,data:e.data||"0x"};return e.from&&(c.from=kt(e.from)),Pr(i,"CALL_EXCEPTION",{action:t,data:r,reason:o,transaction:c,invocation:s,revert:a})}var bd=class t{#e(e){if(e.isArray())return new MV(this.#e(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new n2(e.components.map(n=>this.#e(n)),e.name);switch(e.baseType){case"address":return new kV(e.name);case"bool":return new LV(e.name);case"string":return new zV(e.name);case"bytes":return new BV(e.name);case"":return new UV(e.name)}let r=e.type.match(khr);if(r){let n=parseInt(r[2]||"256");return K(n!==0&&n<=256&&n%8===0,"invalid "+r[1]+" bit length","param",e),new FV(n/8,r[1]==="int",e.name)}if(r=e.type.match(Phr),r){let n=parseInt(r[1]);return K(n!==0&&n<=32,"invalid bytes length","param",e),new $V(n,e.name)}K(!1,"invalid type","type",e.type)}getDefaultValue(e){let r=e.map(i=>this.#e(Xi.from(i)));return new n2(r,"_").defaultValue()}encode(e,r){VS(r.length,e.length,"types/values length mismatch");let n=e.map(s=>this.#e(Xi.from(s))),i=new n2(n,"_"),o=new KS;return i.encode(o,r),o.data}decode(e,r,n){let i=e.map(s=>this.#e(Xi.from(s)));return new n2(i,"_").decode(new hV(r,n,Fht))}static _setDefaultMaxInflation(e){K(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),Fht=e}static defaultAbiCoder(){return Obe==null&&(Obe=new t),Obe}static getBuiltinCallException(e,r,n){return Dhr(e,r,n,t.defaultAbiCoder())}};function Pbe(t){let e=Yr(t);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return bg(e,32)}function kbe(t){let e=Ne(t,"bytes");if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let r=31;for(;e[r-1]===0;)r--;return ao(e.slice(0,r))}var y4=class{fragment;name;signature;topic;args;constructor(e,r,n){let i=e.name,o=e.format();Be(this,{fragment:e,name:i,signature:o,topic:r,args:n})}},b4=class{fragment;name;args;signature;selector;value;constructor(e,r,n,i){let o=e.name,s=e.format();Be(this,{fragment:e,name:o,args:n,signature:s,selector:r,value:i})}},v4=class{fragment;name;args;signature;selector;constructor(e,r,n){let i=e.name,o=e.format();Be(this,{fragment:e,name:i,args:n,signature:o,selector:r})}},u2=class{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){Be(this,{hash:e,_isIndexed:!0})}},zht={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Hht={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&zht[t.toString()]&&(e=zht[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}},Ng=class t{fragments;deploy;fallback;receive;#e;#t;#r;#n;constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,this.#r=new Map,this.#e=new Map,this.#t=new Map;let n=[];for(let s of r)try{n.push(lm.from(s))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(s)}:`,a.message)}Be(this,{fragments:Object.freeze(n)});let i=null,o=!1;this.#n=this.getAbiCoder(),this.fragments.forEach((s,a)=>{let c;switch(s.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Be(this,{deploy:s});return;case"fallback":s.inputs.length===0?o=!0:(K(!i||s.payable!==i.payable,"conflicting fallback fragments",`fragments[${a}]`,s),i=s,o=i.payable);return;case"function":c=this.#r;break;case"event":c=this.#t;break;case"error":c=this.#e;break;default:return}let l=s.format();c.has(l)||c.set(l,s)}),this.deploy||Be(this,{deploy:am.from("constructor()")}),Be(this,{fallback:i,receive:o})}format(e){let r=e?"minimal":"full";return this.fragments.map(i=>i.format(r))}formatJson(){let e=this.fragments.map(r=>r.format("json"));return JSON.stringify(e.map(r=>JSON.parse(r)))}getAbiCoder(){return bd.defaultAbiCoder()}#i(e,r,n){if(Ar(e)){let o=e.toLowerCase();for(let s of this.#r.values())if(o===s.selector)return s;return null}if(e.indexOf("(")===-1){let o=[];for(let[s,a]of this.#r)s.split("(")[0]===e&&o.push(a);if(r){let s=r.length>0?r[r.length-1]:null,a=r.length,c=!0;Pn.isTyped(s)&&s.type==="overrides"&&(c=!1,a--);for(let l=o.length-1;l>=0;l--){let u=o[l].inputs.length;u!==a&&(!c||u!==a-1)&&o.splice(l,1)}for(let l=o.length-1;l>=0;l--){let u=o[l].inputs;for(let d=0;d<r.length;d++)if(Pn.isTyped(r[d])){if(d>=u.length){if(r[d].type==="overrides")continue;o.splice(l,1);break}if(r[d].type!==u[d].baseType){o.splice(l,1);break}}}}if(o.length===1&&r&&r.length!==o[0].inputs.length){let s=r[r.length-1];(s==null||Array.isArray(s)||typeof s!="object")&&o.splice(0,1)}if(o.length===0)return null;if(o.length>1&&n){let s=o.map(a=>JSON.stringify(a.format())).join(", ");K(!1,`ambiguous function description (i.e. matches ${s})`,"key",e)}return o[0]}let i=this.#r.get(cm.from(e).format());return i||null}getFunctionName(e){let r=this.#i(e,null,!1);return K(r,"no matching function","key",e),r.name}hasFunction(e){return!!this.#i(e,null,!1)}getFunction(e,r){return this.#i(e,r||null,!0)}forEachFunction(e){let r=Array.from(this.#r.keys());r.sort((n,i)=>n.localeCompare(i));for(let n=0;n<r.length;n++){let i=r[n];e(this.#r.get(i),n)}}#o(e,r,n){if(Ar(e)){let o=e.toLowerCase();for(let s of this.#t.values())if(o===s.topicHash)return s;return null}if(e.indexOf("(")===-1){let o=[];for(let[s,a]of this.#t)s.split("(")[0]===e&&o.push(a);if(r){for(let s=o.length-1;s>=0;s--)o[s].inputs.length<r.length&&o.splice(s,1);for(let s=o.length-1;s>=0;s--){let a=o[s].inputs;for(let c=0;c<r.length;c++)if(Pn.isTyped(r[c])&&r[c].type!==a[c].baseType){o.splice(s,1);break}}}if(o.length===0)return null;if(o.length>1&&n){let s=o.map(a=>JSON.stringify(a.format())).join(", ");K(!1,`ambiguous event description (i.e. matches ${s})`,"key",e)}return o[0]}let i=this.#t.get(sm.from(e).format());return i||null}getEventName(e){let r=this.#o(e,null,!1);return K(r,"no matching event","key",e),r.name}hasEvent(e){return!!this.#o(e,null,!1)}getEvent(e,r){return this.#o(e,r||null,!0)}forEachEvent(e){let r=Array.from(this.#t.keys());r.sort((n,i)=>n.localeCompare(i));for(let n=0;n<r.length;n++){let i=r[n];e(this.#t.get(i),n)}}getError(e,r){if(Ar(e)){let i=e.toLowerCase();if(Hht[i])return Qa.from(Hht[i].signature);for(let o of this.#e.values())if(i===o.selector)return o;return null}if(e.indexOf("(")===-1){let i=[];for(let[o,s]of this.#e)o.split("(")[0]===e&&i.push(s);if(i.length===0)return e==="Error"?Qa.from("error Error(string)"):e==="Panic"?Qa.from("error Panic(uint256)"):null;if(i.length>1){let o=i.map(s=>JSON.stringify(s.format())).join(", ");K(!1,`ambiguous error description (i.e. ${o})`,"name",e)}return i[0]}if(e=Qa.from(e).format(),e==="Error(string)")return Qa.from("error Error(string)");if(e==="Panic(uint256)")return Qa.from("error Panic(uint256)");let n=this.#e.get(e);return n||null}forEachError(e){let r=Array.from(this.#e.keys());r.sort((n,i)=>n.localeCompare(i));for(let n=0;n<r.length;n++){let i=r[n];e(this.#e.get(i),n)}}_decodeParams(e,r){return this.#n.decode(e,r)}_encodeParams(e,r){return this.#n.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){if(typeof e=="string"){let n=this.getError(e);K(n,"unknown error","fragment",e),e=n}return K(Xr(r,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",r),this._decodeParams(e.inputs,Xr(r,4))}encodeErrorResult(e,r){if(typeof e=="string"){let n=this.getError(e);K(n,"unknown error","fragment",e),e=n}return Kt([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionData(e,r){if(typeof e=="string"){let n=this.getFunction(e);K(n,"unknown function","fragment",e),e=n}return K(Xr(r,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",r),this._decodeParams(e.inputs,Xr(r,4))}encodeFunctionData(e,r){if(typeof e=="string"){let n=this.getFunction(e);K(n,"unknown function","fragment",e),e=n}return Kt([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionResult(e,r){if(typeof e=="string"){let o=this.getFunction(e);K(o,"unknown function","fragment",e),e=o}let n="invalid length for result data",i=On(r);if(i.length%32===0)try{return this.#n.decode(e.outputs,i)}catch{n="could not decode result data"}le(!1,n,"BAD_DATA",{value:xe(i),info:{method:e.name,signature:e.format()}})}makeError(e,r){let n=Ne(e,"data"),i=bd.getBuiltinCallException("call",r,n);if(i.message.startsWith("execution reverted (unknown custom error)")){let a=xe(n.slice(0,4)),c=this.getError(a);if(c)try{let l=this.#n.decode(c.inputs,n.slice(4));i.revert={name:c.name,signature:c.format(),args:l},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}let s=this.parseTransaction(r);return s&&(i.invocation={method:s.name,signature:s.signature,args:s.args}),i}encodeFunctionResult(e,r){if(typeof e=="string"){let n=this.getFunction(e);K(n,"unknown function","fragment",e),e=n}return xe(this.#n.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){if(typeof e=="string"){let o=this.getEvent(e);K(o,"unknown event","eventFragment",e),e=o}le(r.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:r.length,expectedCount:e.inputs.length});let n=[];e.anonymous||n.push(e.topicHash);let i=(o,s)=>o.type==="string"?ki(s):o.type==="bytes"?vr(xe(s)):(o.type==="bool"&&typeof s=="boolean"?s=s?"0x01":"0x00":o.type.match(/^u?int/)?s=fs(s):o.type.match(/^bytes/)?s=bg(s,32):o.type==="address"&&this.#n.encode(["address"],[s]),so(xe(s),32));for(r.forEach((o,s)=>{let a=e.inputs[s];if(!a.indexed){K(o==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,o);return}o==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?K(!1,"filtering with tuples or arrays not supported","contract."+a.name,o):Array.isArray(o)?n.push(o.map(c=>i(a,c))):n.push(i(a,o))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){if(typeof e=="string"){let s=this.getEvent(e);K(s,"unknown event","eventFragment",e),e=s}let n=[],i=[],o=[];return e.anonymous||n.push(e.topicHash),K(r.length===e.inputs.length,"event arguments/values mismatch","values",r),e.inputs.forEach((s,a)=>{let c=r[a];if(s.indexed)if(s.type==="string")n.push(ki(c));else if(s.type==="bytes")n.push(vr(c));else{if(s.baseType==="tuple"||s.baseType==="array")throw new Error("not implemented");n.push(this.#n.encode([s.type],[c]))}else i.push(s),o.push(c)}),{data:this.#n.encode(i,o),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"){let f=this.getEvent(e);K(f,"unknown event","eventFragment",e),e=f}if(n!=null&&!e.anonymous){let f=e.topicHash;K(Ar(n[0],32)&&n[0].toLowerCase()===f,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}let i=[],o=[],s=[];e.inputs.forEach((f,h)=>{f.indexed?f.type==="string"||f.type==="bytes"||f.baseType==="tuple"||f.baseType==="array"?(i.push(Xi.from({type:"bytes32",name:f.name})),s.push(!0)):(i.push(f),s.push(!1)):(o.push(f),s.push(!1))});let a=n!=null?this.#n.decode(i,Kt(n)):null,c=this.#n.decode(o,r,!0),l=[],u=[],d=0,p=0;return e.inputs.forEach((f,h)=>{let m=null;if(f.indexed)if(a==null)m=new u2(null);else if(s[h])m=new u2(a[p++]);else try{m=a[p++]}catch(g){m=g}else try{m=c[d++]}catch(g){m=g}l.push(m),u.push(f.name||null)}),wp.fromItems(l,u)}parseTransaction(e){let r=Ne(e.data,"tx.data"),n=Ze(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(xe(r.slice(0,4)));if(!i)return null;let o=this.#n.decode(i.inputs,r.slice(4));return new b4(i,i.selector,o,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new y4(r,r.topicHash,this.decodeEventLog(r,e.data,e.topics))}parseError(e){let r=xe(e),n=this.getError(Xr(r,0,4));if(!n)return null;let i=this.#n.decode(n.inputs,Xr(r,4));return new v4(n,n.selector,i)}static from(e){return e instanceof t?e:typeof e=="string"?new t(JSON.parse(e)):typeof e.formatJson=="function"?new t(e.formatJson()):typeof e.format=="function"?new t(e.format("json")):new t(e)}};var Vht=BigInt(0);function _4(t){return t??null}function uo(t){return t==null?null:t.toString()}var Vy=class{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,r,n){Be(this,{gasPrice:_4(e),maxFeePerGas:_4(r),maxPriorityFeePerGas:_4(n)})}toJSON(){let{gasPrice:e,maxFeePerGas:r,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:uo(e),maxFeePerGas:uo(r),maxPriorityFeePerGas:uo(n)}}};function vd(t){let e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=xe(t.data));let r="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(let i of r)!(i in t)||t[i]==null||(e[i]=Ze(t[i],`request.${i}`));let n="type,nonce".split(/,/);for(let i of n)!(i in t)||t[i]==null||(e[i]=It(t[i],`request.${i}`));return t.accessList&&(e.accessList=zs(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobWrapperVersion"in t&&(e.blobWrapperVersion=t.blobWrapperVersion),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(i=>vp(i)?xe(i):Object.assign({},i))),e}var d2=class{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#e;constructor(e,r){this.#e=e.transactions.map(n=>typeof n!="string"?new um(n,r):n),Be(this,{provider:r,hash:_4(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:_4(e.prevRandao),extraData:e.extraData,baseFeePerGas:_4(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#e.map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){let e=this.#e.slice();return e.length===0?[]:(le(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){let{baseFeePerGas:e,difficulty:r,extraData:n,gasLimit:i,gasUsed:o,hash:s,miner:a,prevRandao:c,nonce:l,number:u,parentHash:d,parentBeaconBlockRoot:p,stateRoot:f,receiptsRoot:h,timestamp:m,transactions:g}=this;return{_type:"Block",baseFeePerGas:uo(e),difficulty:uo(r),extraData:n,gasLimit:uo(i),gasUsed:uo(o),blobGasUsed:uo(this.blobGasUsed),excessBlobGas:uo(this.excessBlobGas),hash:s,miner:a,prevRandao:c,nonce:l,number:u,parentHash:d,timestamp:m,parentBeaconBlockRoot:p,stateRoot:f,receiptsRoot:h,transactions:g}}[Symbol.iterator](){let e=0,r=this.transactions;return{next:()=>e<this.length?{value:r[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#e.length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let r;if(typeof e=="number")r=this.#e[e];else{let n=e.toLowerCase();for(let i of this.#e)if(typeof i=="string"){if(i!==n)continue;r=i;break}else{if(i.hash!==n)continue;r=i;break}}if(r==null)throw new Error("no such tx");return typeof r=="string"?await this.provider.getTransaction(r):r}getPrefetchedTransaction(e){let r=this.prefetchedTransactions;if(typeof e=="number")return r[e];e=e.toLowerCase();for(let n of r)if(n.hash===e)return n;K(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return Mhr(this)}},Dl=class{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,r){this.provider=r;let n=Object.freeze(e.topics.slice());Be(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){let{address:e,blockHash:r,blockNumber:n,data:i,index:o,removed:s,topics:a,transactionHash:c,transactionIndex:l}=this;return{_type:"log",address:e,blockHash:r,blockNumber:n,data:i,index:o,removed:s,topics:a,transactionHash:c,transactionIndex:l}}async getBlock(){let e=await this.provider.getBlock(this.blockHash);return le(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){let e=await this.provider.getTransaction(this.transactionHash);return le(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){let e=await this.provider.getTransactionReceipt(this.transactionHash);return le(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return Lhr(this)}},Og=class{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#e;constructor(e,r){this.#e=Object.freeze(e.logs.map(i=>new Dl(i,r)));let n=Vht;e.effectiveGasPrice!=null?n=e.effectiveGasPrice:e.gasPrice!=null&&(n=e.gasPrice),Be(this,{provider:r,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#e}toJSON(){let{to:e,from:r,contractAddress:n,hash:i,index:o,blockHash:s,blockNumber:a,logsBloom:c,logs:l,status:u,root:d}=this;return{_type:"TransactionReceipt",blockHash:s,blockNumber:a,contractAddress:n,cumulativeGasUsed:uo(this.cumulativeGasUsed),from:r,gasPrice:uo(this.gasPrice),blobGasUsed:uo(this.blobGasUsed),blobGasPrice:uo(this.blobGasPrice),gasUsed:uo(this.gasUsed),hash:i,index:o,logs:l,logsBloom:c,root:d,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){let e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){let e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return jht(this)}reorderedEvent(e){return le(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Ght(this,e)}},um=class t{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#e;constructor(e,r){this.provider=r,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,this.#e=-1}toJSON(){let{blockNumber:e,blockHash:r,index:n,hash:i,type:o,to:s,from:a,nonce:c,data:l,signature:u,accessList:d,blobVersionedHashes:p}=this;return{_type:"TransactionResponse",accessList:d,blockNumber:e,blockHash:r,blobVersionedHashes:p,chainId:uo(this.chainId),data:l,from:a,gasLimit:uo(this.gasLimit),gasPrice:uo(this.gasPrice),hash:i,maxFeePerGas:uo(this.maxFeePerGas),maxPriorityFeePerGas:uo(this.maxPriorityFeePerGas),maxFeePerBlobGas:uo(this.maxFeePerBlobGas),nonce:c,signature:u,to:s,index:n,type:o,value:uo(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){let n=await this.getTransaction();n&&(e=n.blockNumber)}if(e==null)return null;let r=this.provider.getBlock(e);if(r==null)throw new Error("TODO");return r}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){let{tx:r,blockNumber:n}=await Vn({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return r==null||r.blockNumber==null?0:n-r.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,r){let n=e??1,i=r??0,o=this.#e,s=-1,a=o===-1,c=async()=>{if(a)return null;let{blockNumber:p,nonce:f}=await Vn({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(f<this.nonce){o=p;return}if(a)return null;let h=await this.getTransaction();if(!(h&&h.blockNumber!=null))for(s===-1&&(s=o-3,s<this.#e&&(s=this.#e));s<=p;){if(a)return null;let m=await this.provider.getBlock(s,!0);if(m==null)return;for(let g of m)if(g===this.hash)return;for(let g=0;g<m.length;g++){let y=await m.getTransaction(g);if(y.from===this.from&&y.nonce===this.nonce){if(a)return null;let v=await this.provider.getTransactionReceipt(y.hash);if(v==null||p-v.blockNumber+1<n)return;let S="replaced";y.data===this.data&&y.to===this.to&&y.value===this.value?S="repriced":y.data==="0x"&&y.from===y.to&&y.value===Vht&&(S="cancelled"),le(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:S==="replaced"||S==="cancelled",reason:S,replacement:y.replaceableTransaction(o),hash:y.hash,receipt:v})}}s++}},l=p=>{if(p==null||p.status!==0)return p;le(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:p.to,from:p.from,data:""},receipt:p})},u=await this.provider.getTransactionReceipt(this.hash);if(n===0)return l(u);if(u){if(n===1||await u.confirmations()>=n)return l(u)}else if(await c(),n===0)return null;return await new Promise((p,f)=>{let h=[],m=()=>{h.forEach(y=>y())};if(h.push(()=>{a=!0}),i>0){let y=setTimeout(()=>{m(),f(Pr("wait for transaction timeout","TIMEOUT"))},i);h.push(()=>{clearTimeout(y)})}let g=async y=>{if(await y.confirmations()>=n){m();try{p(l(y))}catch(v){f(v)}}};if(h.push(()=>{this.provider.off(this.hash,g)}),this.provider.on(this.hash,g),o>=0){let y=async()=>{try{await c()}catch(v){if(on(v,"TRANSACTION_REPLACED")){m(),f(v);return}}a||this.provider.once("block",y)};h.push(()=>{this.provider.off("block",y)}),this.provider.once("block",y)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return le(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),jht(this)}reorderedEvent(e){return le(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),le(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Ght(this,e)}replaceableTransaction(e){K(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);let r=new t(this,this.provider);return r.#e=e,r}};function Mhr(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function Ght(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function jht(t){return{orphan:"drop-transaction",tx:t}}function Lhr(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}var Pg=class extends Dl{interface;fragment;args;constructor(e,r,n){super(e,e.provider);let i=r.decodeEventLog(n,e.data,e.topics);Be(this,{args:i,fragment:n,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}},Gy=class extends Dl{error;constructor(e,r){super(e,e.provider),Be(this,{error:r})}},S4=class extends Og{#e;constructor(e,r,n){super(n,r),this.#e=e}get logs(){return super.logs.map(e=>{let r=e.topics.length?this.#e.getEvent(e.topics[0]):null;if(r)try{return new Pg(e,this.#e,r)}catch(n){return new Gy(e,n)}return e})}},kg=class extends um{#e;constructor(e,r,n){super(n,r),this.#e=e}async wait(e,r){let n=await super.wait(e,r);return n==null?null:new S4(this.#e,this.provider,n)}},jy=class extends Sg{log;constructor(e,r,n,i){super(e,r,n),Be(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}},p2=class extends jy{constructor(e,r,n,i,o){super(e,r,n,new Pg(o,e.interface,i));let s=e.interface.decodeEventLog(i,this.log.data,this.log.topics);Be(this,{args:s,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}};var qht=BigInt(0);function Jht(t){return t&&typeof t.call=="function"}function Kht(t){return t&&typeof t.estimateGas=="function"}function iG(t){return t&&typeof t.resolveName=="function"}function Qht(t){return t&&typeof t.sendTransaction=="function"}function Xht(t){if(t!=null){if(iG(t))return t;if(t.provider)return t.provider}}var Dbe=class{#e;fragment;constructor(e,r,n){if(Be(this,{fragment:r}),r.inputs.length<n.length)throw new Error("too many arguments");let i=m2(e.runner,"resolveName"),o=iG(i)?i:null;this.#e=(async function(){let s=await Promise.all(r.inputs.map((a,c)=>n[c]==null?null:a.walkAsync(n[c],(u,d)=>u==="address"?Array.isArray(d)?Promise.all(d.map(p=>ei(p,o))):ei(d,o):d)));return e.interface.encodeFilterTopics(r,s)})()}getTopicFilter(){return this.#e}};function m2(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function f2(t){return t==null?null:t.provider||null}async function oG(t,e){let r=Pn.dereference(t,"overrides");K(typeof r=="object","invalid overrides parameter","overrides",t);let n=vd(r);return K(n.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),K(n.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function Bbe(t,e,r){let n=m2(t,"resolveName"),i=iG(n)?n:null;return await Promise.all(e.map((o,s)=>o.walkAsync(r[s],(a,c)=>(c=Pn.dereference(c,a),a==="address"?ei(c,i):c))))}function Bhr(t){let e=async function(s){let a=await oG(s,["data"]);a.to=await t.getAddress(),a.from&&(a.from=await ei(a.from,Xht(t.runner)));let c=t.interface,l=Ze(a.value||qht,"overrides.value")===qht,u=(a.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!u&&!l&&K(!1,"cannot send data to receive or send value to non-payable fallback","overrides",s),K(c.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data);let d=c.receive||c.fallback&&c.fallback.payable;return K(d||l,"cannot send value to non-payable fallback","overrides.value",a.value),K(c.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data),a},r=async function(s){let a=m2(t.runner,"call");le(Jht(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let c=await e(s);try{return await a.call(c)}catch(l){throw Py(l)&&l.data?t.interface.makeError(l.data,c):l}},n=async function(s){let a=t.runner;le(Qht(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let c=await a.sendTransaction(await e(s)),l=f2(t.runner);return new kg(t.interface,l,c)},i=async function(s){let a=m2(t.runner,"estimateGas");return le(Kht(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(s))},o=async s=>await n(s);return Be(o,{_contract:t,estimateGas:i,populateTransaction:e,send:n,staticCall:r}),o}function $hr(t,e){let r=function(...l){let u=t.interface.getFunction(e,l);return le(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:l}}),u},n=async function(...l){let u=r(...l),d={};if(u.inputs.length+1===l.length&&(d=await oG(l.pop()),d.from&&(d.from=await ei(d.from,Xht(t.runner)))),u.inputs.length!==l.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");let p=await Bbe(t.runner,u.inputs,l);return Object.assign({},d,await Vn({to:t.getAddress(),data:t.interface.encodeFunctionData(u,p)}))},i=async function(...l){let u=await a(...l);return u.length===1?u[0]:u},o=async function(...l){let u=t.runner;le(Qht(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let d=await u.sendTransaction(await n(...l)),p=f2(t.runner);return new kg(t.interface,p,d)},s=async function(...l){let u=m2(t.runner,"estimateGas");return le(Kht(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await n(...l))},a=async function(...l){let u=m2(t.runner,"call");le(Jht(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let d=await n(...l),p="0x";try{p=await u.call(d)}catch(h){throw Py(h)&&h.data?t.interface.makeError(h.data,d):h}let f=r(...l);return t.interface.decodeFunctionResult(f,p)},c=async(...l)=>r(...l).constant?await i(...l):await o(...l);return Be(c,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:r,estimateGas:s,populateTransaction:n,send:o,staticCall:i,staticCallResult:a}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{let l=t.interface.getFunction(e);return le(l,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),l}}),c}function Uhr(t,e){let r=function(...i){let o=t.interface.getEvent(e,i);return le(o,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),o},n=function(...i){return new Dbe(t,r(...i),i)};return Be(n,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:r}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{let i=t.interface.getEvent(e);return le(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),n}var nG=Symbol.for("_ethersInternal_contract"),Yht=new WeakMap;function Fhr(t,e){Yht.set(t[nG],e)}function Ml(t){return Yht.get(t[nG])}function zhr(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function $be(t,e){let r,n=null;if(Array.isArray(e)){let o=function(s){if(Ar(s,32))return s;let a=t.interface.getEvent(s);return K(a,"unknown fragment","name",s),a.topicHash};r=e.map(s=>s==null?null:Array.isArray(s)?s.map(o):o(s))}else e==="*"?r=[null]:typeof e=="string"?Ar(e,32)?r=[e]:(n=t.interface.getEvent(e),K(n,"unknown fragment","event",e),r=[n.topicHash]):zhr(e)?r=await e.getTopicFilter():"fragment"in e?(n=e.fragment,r=[n.topicHash]):K(!1,"unknown event name","event",e);r=r.map(o=>{if(o==null)return null;if(Array.isArray(o)){let s=Array.from(new Set(o.map(a=>a.toLowerCase())).values());return s.length===1?s[0]:(s.sort(),s)}return o.toLowerCase()});let i=r.map(o=>o==null?"null":Array.isArray(o)?o.join("|"):o).join("&");return{fragment:n,tag:i,topics:r}}async function p9(t,e){let{subs:r}=Ml(t);return r.get((await $be(t,e)).tag)||null}async function Wht(t,e,r){let n=f2(t.runner);le(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});let{fragment:i,tag:o,topics:s}=await $be(t,r),{addr:a,subs:c}=Ml(t),l=c.get(o);if(!l){let d={address:a||t,topics:s},p=g=>{let y=i;if(y==null)try{y=t.interface.getEvent(g.topics[0])}catch{}if(y){let v=y,S=i?t.interface.decodeEventLog(i,g.data,g.topics):[];Lbe(t,r,S,w=>new p2(t,w,r,v,g))}else Lbe(t,r,[],v=>new jy(t,v,r,g))},f=[];l={tag:o,listeners:[],start:()=>{f.length||f.push(n.on(d,p))},stop:async()=>{if(f.length==0)return;let g=f;f=[],await Promise.all(g),n.off(d,p)}},c.set(o,l)}return l}var Mbe=Promise.resolve();async function Hhr(t,e,r,n){await Mbe;let i=await p9(t,e);if(!i)return!1;let o=i.listeners.length;return i.listeners=i.listeners.filter(({listener:s,once:a})=>{let c=Array.from(r);n&&c.push(n(a?null:s));try{s.call(t,...c)}catch{}return!a}),i.listeners.length===0&&(i.stop(),Ml(t).subs.delete(i.tag)),o>0}async function Lbe(t,e,r,n){try{await Mbe}catch{}let i=Hhr(t,e,r,n);return Mbe=i,await i}var rG=["then"],Dg=class t{target;interface;runner;filters;[nG];fallback;constructor(e,r,n,i){K(typeof e=="string"||l4(e),"invalid value for Contract target","target",e),n==null&&(n=null);let o=Ng.from(r);Be(this,{target:e,runner:n,interface:o}),Object.defineProperty(this,nG,{value:{}});let s,a=null,c=null;if(i){let d=f2(n);c=new kg(this.interface,d,i)}let l=new Map;if(typeof e=="string")if(Ar(e))a=e,s=Promise.resolve(e);else{let d=m2(n,"resolveName");if(!iG(d))throw Pr("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});s=d.resolveName(e).then(p=>{if(p==null)throw Pr("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Ml(this).addr=p,p})}else s=e.getAddress().then(d=>{if(d==null)throw new Error("TODO");return Ml(this).addr=d,d});Fhr(this,{addrPromise:s,addr:a,deployTx:c,subs:l});let u=new Proxy({},{get:(d,p,f)=>{if(typeof p=="symbol"||rG.indexOf(p)>=0)return Reflect.get(d,p,f);try{return this.getEvent(p)}catch(h){if(!on(h,"INVALID_ARGUMENT")||h.argument!=="key")throw h}},has:(d,p)=>rG.indexOf(p)>=0?Reflect.has(d,p):Reflect.has(d,p)||this.interface.hasEvent(String(p))});return Be(this,{filters:u}),Be(this,{fallback:o.receive||o.fallback?Bhr(this):null}),new Proxy(this,{get:(d,p,f)=>{if(typeof p=="symbol"||p in d||rG.indexOf(p)>=0)return Reflect.get(d,p,f);try{return d.getFunction(p)}catch(h){if(!on(h,"INVALID_ARGUMENT")||h.argument!=="key")throw h}},has:(d,p)=>typeof p=="symbol"||p in d||rG.indexOf(p)>=0?Reflect.has(d,p):d.interface.hasFunction(p)})}connect(e){return new t(this.target,this.interface,e)}attach(e){return new t(e,this.interface,this.runner)}async getAddress(){return await Ml(this).addrPromise}async getDeployedCode(){let e=f2(this.runner);le(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});let r=await e.getCode(await this.getAddress());return r==="0x"?null:r}async waitForDeployment(){let e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;let n=f2(this.runner);return le(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,o)=>{let s=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);n.once("block",s)}catch(a){o(a)}};s()})}deploymentTransaction(){return Ml(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),$hr(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),Uhr(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,r,n){r==null&&(r=0),n==null&&(n="latest");let{addr:i,addrPromise:o}=Ml(this),s=i||await o,{fragment:a,topics:c}=await $be(this,e),l={address:s,topics:c,fromBlock:r,toBlock:n},u=f2(this.runner);return le(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(l)).map(d=>{let p=a;if(p==null)try{p=this.interface.getEvent(d.topics[0])}catch{}if(p)try{return new Pg(d,this.interface,p)}catch(f){return new Gy(d,f)}return new Dl(d,u)})}async on(e,r){let n=await Wht(this,"on",e);return n.listeners.push({listener:r,once:!1}),n.start(),this}async once(e,r){let n=await Wht(this,"once",e);return n.listeners.push({listener:r,once:!0}),n.start(),this}async emit(e,...r){return await Lbe(this,e,r,null)}async listenerCount(e){if(e){let i=await p9(this,e);return i?i.listeners.length:0}let{subs:r}=Ml(this),n=0;for(let{listeners:i}of r.values())n+=i.length;return n}async listeners(e){if(e){let i=await p9(this,e);return i?i.listeners.map(({listener:o})=>o):[]}let{subs:r}=Ml(this),n=[];for(let{listeners:i}of r.values())n=n.concat(i.map(({listener:o})=>o));return n}async off(e,r){let n=await p9(this,e);if(!n)return this;if(r){let i=n.listeners.map(({listener:o})=>o).indexOf(r);i>=0&&n.listeners.splice(i,1)}return(r==null||n.listeners.length===0)&&(n.stop(),Ml(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){let r=await p9(this,e);if(!r)return this;r.stop(),Ml(this).subs.delete(r.tag)}else{let{subs:r}=Ml(this);for(let{tag:n,stop:i}of r.values())i(),r.delete(n)}return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return await this.off(e,r)}static buildClass(e){class r extends t{constructor(i,o=null){super(i,e,o)}}return r}static from(e,r,n){return n==null&&(n=null),new this(e,r,n)}};function Vhr(){return Dg}var Kc=class extends Vhr(){};var f9=class t{interface;bytecode;runner;constructor(e,r,n){let i=Ng.from(e);r instanceof Uint8Array?r=xe(Ne(r)):(typeof r=="object"&&(r=r.object),r.startsWith("0x")||(r="0x"+r),r=xe(Ne(r))),Be(this,{bytecode:r,interface:i,runner:n||null})}attach(e){return new Dg(e,this.interface,this.runner)}async getDeployTransaction(...e){let r={},n=this.interface.deploy;if(n.inputs.length+1===e.length&&(r=await oG(e.pop())),n.inputs.length!==e.length)throw new Error("incorrect number of arguments to constructor");let i=await Bbe(this.runner,n.inputs,e),o=Kt([this.bytecode,this.interface.encodeDeploy(i)]);return Object.assign({},r,{data:o})}async deploy(...e){let r=await this.getDeployTransaction(...e);le(this.runner&&typeof this.runner.sendTransaction=="function","factory runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let n=await this.runner.sendTransaction(r),i=r2(n);return new Dg(i,this.interface,this.runner,n)}connect(e){return new t(this.interface,this.bytecode,e)}static fromSolidity(e,r){K(e!=null,"bad compiler output","output",e),typeof e=="string"&&(e=JSON.parse(e));let n=e.abi,i="";return e.bytecode?i=e.bytecode:e.evm&&e.evm.bytecode&&(i=e.evm.bytecode),new this(n,i,r)}};function Ube(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):K(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}var x4=class{name;constructor(e){Be(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,r){throw new Error("unsupported coin")}async decodeAddress(e,r){throw new Error("unsupported coin")}};var egt=new RegExp("^(ipfs)://(.*)$","i"),Zht=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),egt,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")],qy=class t{provider;address;name;#e;#t;constructor(e,r,n){Be(this,{provider:e,address:r,name:n}),this.#e=null,this.#t=new Kc(r,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return this.#e==null&&(this.#e=(async()=>{try{return await this.#t.supportsInterface("0x9061b923")}catch(e){if(on(e,"CALL_EXCEPTION"))return!1;throw this.#e=null,e}})()),await this.#e}async#r(e,r){r=(r||[]).slice();let n=this.#t.interface;r.unshift(Fy(this.name));let i=null;await this.supportsWildcard()&&(i=n.getFunction(e),le(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),r=[l9(this.name,255),n.encodeFunctionData(i,r)],e="resolve(bytes,bytes)"),r.push({enableCcipRead:!0});try{let o=await this.#t[e](...r);return i?n.decodeFunctionResult(i,o)[0]:o}catch(o){if(!on(o,"CALL_EXCEPTION"))throw o}return null}async getAddress(e){if(e==null&&(e=60),e===60)try{let o=await this.#r("addr(bytes32)");return o==null||o===Np?null:o}catch(o){if(on(o,"CALL_EXCEPTION"))return null;throw o}if(e>=0&&e<2147483648){let o=e+2147483648,s=await this.#r("addr(bytes32,uint)",[o]);if(Ar(s,20))return kt(s)}let r=null;for(let o of this.provider.plugins)if(o instanceof x4&&o.supportsCoinType(e)){r=o;break}if(r==null)return null;let n=await this.#r("addr(bytes32,uint)",[e]);if(n==null||n==="0x")return null;let i=await r.decodeAddress(e,n);if(i!=null)return i;le(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){let r=await this.#r("text(bytes32,string)",[e]);return r==null||r==="0x"?null:r}async getContentHash(){let e=await this.#r("contenthash(bytes32)");if(e==null||e==="0x")return null;let r=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){let i=r[1]==="e3010170"?"ipfs":"ipns",o=parseInt(r[4],16);if(r[5].length===o*2)return`${i}://${qS("0x"+r[2])}`}let n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;le(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){let e=[{type:"name",value:this.name}];try{let r=await this.getText("avatar");if(r==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:r});for(let n=0;n<Zht.length;n++){let i=r.match(Zht[n]);if(i==null)continue;let o=i[1].toLowerCase();switch(o){case"https":case"data":return e.push({type:"url",value:r}),{linkage:e,url:r};case"ipfs":{let s=Ube(r);return e.push({type:"ipfs",value:r}),e.push({type:"url",value:s}),{linkage:e,url:s}}case"erc721":case"erc1155":{let s=o==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:o,value:r});let a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};let c=(i[2]||"").split("/");if(c.length!==2)return e.push({type:`!${o}caip`,value:i[2]||""}),{url:null,linkage:e};let l=c[1],u=new Kc(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(o==="erc721"){let m=await u.ownerOf(l);if(a!==m)return e.push({type:"!owner",value:m}),{url:null,linkage:e};e.push({type:"owner",value:m})}else if(o==="erc1155"){let m=await u.balanceOf(a,l);if(!m)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:m.toString()})}let d=await u[s](l);if(d==null||d==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:d}),o==="erc1155"&&(d=d.replace("{id}",fs(l,32).substring(2)),e.push({type:"metadata-url-expanded",value:d})),d.match(/^ipfs:/i)&&(d=Ube(d)),e.push({type:"metadata-url",value:d});let p={},f=await new dn(d).send();f.assertOk();try{p=f.bodyJson}catch{try{e.push({type:"!metadata",value:f.bodyText})}catch{let y=f.body;return y&&e.push({type:"!metadata",value:xe(y)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!p)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(p)});let h=p.image;if(typeof h!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!h.match(/^(https:\/\/|data:)/i)){if(h.match(egt)==null)return e.push({type:"!imageUrl-ipfs",value:h}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:h}),h=Ube(h)}return e.push({type:"url",value:h}),{linkage:e,url:h}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){let r=await e.getNetwork(),n=r.getPlugin("org.ethers.plugins.network.Ens");return le(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:r}}),n.address}static async#n(e,r){let n=await t.getEnsAddress(e);try{let o=await new Kc(n,["function resolver(bytes32) view returns (address)"],e).resolver(Fy(r),{enableCcipRead:!0});return o===Np?null:o}catch(i){throw i}return null}static async fromName(e,r){let n=r;for(;;){if(n===""||n==="."||r!=="eth"&&n==="eth")return null;let i=await t.#n(e,n);if(i!=null){let o=new t(e,i,r);return n!==r&&!await o.supportsWildcard()?null:o}n=n.split(".").slice(1).join(".")}}};var tgt=BigInt(0);function qr(t,e){return(function(r){return r==null?e:t(r)})}function m9(t,e){return(r=>{if(e&&r==null)return null;if(!Array.isArray(r))throw new Error("not an array");return r.map(n=>t(n))})}function h9(t,e){return(r=>{let n={};for(let i in t){let o=i;if(e&&i in e&&!(o in r)){for(let s of e[i])if(s in r){o=s;break}}try{let s=t[i](r[o]);s!==void 0&&(n[i]=s)}catch(s){let a=s instanceof Error?s.message:"not-an-error";le(!1,`invalid value for value.${i} (${a})`,"BAD_DATA",{value:r})}}return n})}function Ghr(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}K(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function w4(t){return K(Ar(t,!0),"invalid data","value",t),t}function Hs(t){return K(Ar(t,32),"invalid hash","value",t),t}var jhr=h9({address:kt,blockHash:Hs,blockNumber:It,data:w4,index:It,removed:qr(Ghr,!1),topics:m9(Hs),transactionHash:Hs,transactionIndex:It},{index:["logIndex"]});function rgt(t){return jhr(t)}var qhr=h9({hash:qr(Hs),parentHash:Hs,parentBeaconBlockRoot:qr(Hs,null),number:It,timestamp:It,nonce:qr(w4),difficulty:Ze,gasLimit:Ze,gasUsed:Ze,stateRoot:qr(Hs,null),receiptsRoot:qr(Hs,null),blobGasUsed:qr(Ze,null),excessBlobGas:qr(Ze,null),miner:qr(kt),prevRandao:qr(Hs,null),extraData:w4,baseFeePerGas:qr(Ze)},{prevRandao:["mixHash"]});function ngt(t){let e=qhr(t);return e.transactions=t.transactions.map(r=>typeof r=="string"?r:Fbe(r)),e}var Whr=h9({transactionIndex:It,blockNumber:It,transactionHash:Hs,address:kt,topics:m9(Hs),data:w4,index:It,blockHash:Hs},{index:["logIndex"]});function Jhr(t){return Whr(t)}var Khr=h9({to:qr(kt,null),from:qr(kt,null),contractAddress:qr(kt,null),index:It,root:qr(xe),gasUsed:Ze,blobGasUsed:qr(Ze,null),logsBloom:qr(w4),blockHash:Hs,hash:Hs,logs:m9(Jhr),blockNumber:It,cumulativeGasUsed:Ze,effectiveGasPrice:qr(Ze),blobGasPrice:qr(Ze,null),status:qr(It),type:qr(It,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function igt(t){return Khr(t)}function Fbe(t){t.to&&Ze(t.to)===tgt&&(t.to="0x0000000000000000000000000000000000000000");let e=h9({hash:Hs,index:qr(It,void 0),type:r=>r==="0x"||r==null?0:It(r),accessList:qr(zs,null),blobVersionedHashes:qr(m9(Hs,!0),null),authorizationList:qr(m9(r=>{let n;if(r.signature)n=r.signature;else{let i=r.yParity;i==="0x1b"?i=0:i==="0x1c"&&(i=1),n=Object.assign({},r,{yParity:i})}return{address:kt(r.address),chainId:Ze(r.chainId),nonce:Ze(r.nonce),signature:lo.from(n)}},!1),null),blockHash:qr(Hs,null),blockNumber:qr(It,null),transactionIndex:qr(It,null),from:kt,gasPrice:qr(Ze),maxPriorityFeePerGas:qr(Ze),maxFeePerGas:qr(Ze),maxFeePerBlobGas:qr(Ze,null),gasLimit:Ze,to:qr(kt,null),value:Ze,nonce:It,data:w4,creates:qr(kt,null),chainId:qr(Ze,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=r2(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=lo.from(t.signature):e.signature=lo.from(t),e.chainId==null){let r=e.signature.legacyChainId;r!=null&&(e.chainId=r)}return e.blockHash&&Ze(e.blockHash)===tgt&&(e.blockHash=null),e}var Qhr="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",Lp=class t{name;constructor(e){Be(this,{name:e})}clone(){return new t(this.name)}},Wy=class t extends Lp{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,r){e==null&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);let n={effectiveBlock:e};function i(o,s){let a=(r||{})[o];a==null&&(a=s),K(typeof a=="number",`invalud value for ${o}`,"costs",r),n[o]=a}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),Be(this,n)}clone(){return new t(this.effectiveBlock,this)}},Jy=class t extends Lp{address;targetNetwork;constructor(e,r){super("org.ethers.plugins.network.Ens"),Be(this,{address:e||Qhr,targetNetwork:r??1})}clone(){return new t(this.address,this.targetNetwork)}},g9=class t extends Lp{#e;get feeDataFunc(){return this.#e}constructor(e){super("org.ethers.plugins.network.FeeData"),this.#e=e}async getFeeData(e){return await this.#e(e)}clone(){return new t(this.#e)}},h2=class extends Lp{#e;#t;get url(){return this.#e}get processFunc(){return this.#t}constructor(e,r){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#e=e,this.#t=r}clone(){return this}};var zbe=new Map,Lr=class t{#e;#t;#r;constructor(e,r){this.#e=e,this.#t=Ze(r),this.#r=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#e}set name(e){this.#e=e}get chainId(){return this.#t}set chainId(e){this.#t=Ze(e,"chainId")}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===Ze(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===Ze(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===Ze(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(this.#r.values())}attachPlugin(e){if(this.#r.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#r.set(e.name,e.clone()),this}getPlugin(e){return this.#r.get(e)||null}getPlugins(e){return this.plugins.filter(r=>r.name.split("#")[0]===e)}clone(){let e=new t(this.name,this.chainId);return this.plugins.forEach(r=>{e.attachPlugin(r.clone())}),e}computeIntrinsicGas(e){let r=this.getPlugin("org.ethers.plugins.network.GasCost")||new Wy,n=r.txBase;if(e.to==null&&(n+=r.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?n+=r.txDataZero:n+=r.txDataNonzero;if(e.accessList){let i=zs(e.accessList);for(let o in i)n+=r.txAccessListAddress+r.txAccessListStorageKey*i[o].storageKeys.length}return n}static from(e){if(Xhr(),e==null)return t.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){let r=zbe.get(e);if(r)return r();if(typeof e=="bigint")return new t("unknown",e);K(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){K(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);let r=new t(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&r.attachPlugin(new Jy(e.ensAddress,e.ensNetwork)),r}K(!1,"invalid network","network",e)}static register(e,r){typeof e=="number"&&(e=BigInt(e));let n=zbe.get(e);n&&K(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),zbe.set(e,r)}};function ogt(t,e){let r=String(t);if(!r.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);let n=r.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;n[1].length<e;)n[1]+="0";if(n[1].length>9){let i=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||i++,n[1]=i.toString()}return BigInt(n[0]+n[1])}function sgt(t){return new h2(t,async(e,r,n)=>{n.setHeader("User-Agent","ethers");let i;try{let[o,s]=await Promise.all([n.send(),e()]);i=o;let a=i.bodyJson.standard;return{gasPrice:s.gasPrice,maxFeePerGas:ogt(a.maxFee,9),maxPriorityFeePerGas:ogt(a.maxPriorityFee,9)}}catch(o){le(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:i,error:o})}})}var agt=!1;function Xhr(){if(agt)return;agt=!0;function t(e,r,n){let i=function(){let o=new Lr(e,r);return n.ensNetwork!=null&&o.attachPlugin(new Jy(null,n.ensNetwork)),o.attachPlugin(new Wy),(n.plugins||[]).forEach(s=>{o.attachPlugin(s)}),o};Lr.register(e,i),Lr.register(r,i),n.altNames&&n.altNames.forEach(o=>{Lr.register(o,i)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("filecoin",314,{}),t("filecoin-calibration",314159,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[sgt("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[sgt("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function Hbe(t){return JSON.parse(JSON.stringify(t))}var sG=class{#e;#t;#r;#n;constructor(e){this.#e=e,this.#t=null,this.#r=4e3,this.#n=-2}get pollingInterval(){return this.#r}set pollingInterval(e){this.#r=e}async#i(){try{let e=await this.#e.getBlockNumber();if(this.#n===-2){this.#n=e;return}if(e!==this.#n){for(let r=this.#n+1;r<=e;r++){if(this.#t==null)return;await this.#e.emit("block",r)}this.#n=e}}catch{}this.#t!=null&&(this.#t=this.#e._setTimeout(this.#i.bind(this),this.#r))}start(){this.#t||(this.#t=this.#e._setTimeout(this.#i.bind(this),this.#r),this.#i())}stop(){this.#t&&(this.#e._clearTimeout(this.#t),this.#t=null)}pause(e){this.stop(),e&&(this.#n=-2)}resume(){this.start()}},y9=class{#e;#t;#r;constructor(e){this.#e=e,this.#r=!1,this.#t=r=>{this._poll(r,this.#e)}}async _poll(e,r){throw new Error("sub-classes must override this")}start(){this.#r||(this.#r=!0,this.#t(-2),this.#e.on("block",this.#t))}stop(){this.#r&&(this.#r=!1,this.#e.off("block",this.#t))}pause(e){this.stop()}resume(){this.start()}},aG=class extends y9{#e;#t;constructor(e,r){super(e),this.#e=r,this.#t=-2}pause(e){e&&(this.#t=-2),super.pause(e)}async _poll(e,r){let n=await r.getBlock(this.#e);n!=null&&(this.#t===-2?this.#t=n.number:n.number>this.#t&&(r.emit(this.#e,n.number),this.#t=n.number))}},cG=class extends y9{#e;constructor(e,r){super(e),this.#e=Hbe(r)}async _poll(e,r){throw new Error("@TODO")}},lG=class extends y9{#e;constructor(e,r){super(e),this.#e=r}async _poll(e,r){let n=await r.getTransactionReceipt(this.#e);n&&r.emit(this.#e,n)}},Ky=class{#e;#t;#r;#n;#i;constructor(e,r){this.#e=e,this.#t=Hbe(r),this.#r=this.#o.bind(this),this.#n=!1,this.#i=-2}async#o(e){if(this.#i===-2)return;let r=Hbe(this.#t);r.fromBlock=this.#i+1,r.toBlock=e;let n=await this.#e.getLogs(r);if(n.length===0){this.#i<e-60&&(this.#i=e-60);return}for(let i of n)this.#e.emit(this.#t,i),this.#i=i.blockNumber}start(){this.#n||(this.#n=!0,this.#i===-2&&this.#e.getBlockNumber().then(e=>{this.#i=e}),this.#e.on("block",this.#r))}stop(){this.#n&&(this.#n=!1,this.#e.off("block",this.#r))}pause(e){this.stop(),e&&(this.#i=-2)}resume(){this.start()}};var Yhr=BigInt(2),Zhr=10;function uG(t){return t&&typeof t.then=="function"}function dG(t,e){return t+":"+JSON.stringify(e,(r,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){let i=Object.keys(n);return i.sort(),i.reduce((o,s)=>(o[s]=n[s],o),{})}return n})}var Bp=class{name;constructor(e){Be(this,{name:e})}start(){}stop(){}pause(e){}resume(){}};function egr(t){return JSON.parse(JSON.stringify(t))}function jbe(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function Vbe(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(Ar(t,32)){let r=t.toLowerCase();return{type:"transaction",tag:dG("tx",{hash:r}),hash:r}}if(t.orphan){let r=t;return{type:"orphan",tag:dG("orphan",r),filter:egr(r)}}if(t.address||t.topics){let r=t,n={topics:(r.topics||[]).map(i=>i==null?null:Array.isArray(i)?jbe(i.map(o=>o.toLowerCase())):i.toLowerCase())};if(r.address){let i=[],o=[],s=a=>{Ar(a)?i.push(a):o.push((async()=>{i.push(await ei(a,e))})())};Array.isArray(r.address)?r.address.forEach(s):s(r.address),o.length&&await Promise.all(o),n.address=jbe(i.map(a=>a.toLowerCase()))}return{filter:n,tag:dG("event",n),type:"event"}}K(!1,"unknown ProviderEvent","event",t)}function Gbe(){return new Date().getTime()}var tgr={cacheTimeout:250,pollingInterval:4e3},_d=class{#e;#t;#r;#n;#i;#o;#s;#a;#u;#l;#f;#m;constructor(e,r){if(this.#m=Object.assign({},tgr,r||{}),e==="any")this.#o=!0,this.#i=null;else if(e){let n=Lr.from(e);this.#o=!1,this.#i=Promise.resolve(n),setTimeout(()=>{this.emit("network",n,null)},0)}else this.#o=!1,this.#i=null;this.#a=-1,this.#s=new Map,this.#e=new Map,this.#t=new Map,this.#r=null,this.#n=!1,this.#u=1,this.#l=new Map,this.#f=!1}get pollingInterval(){return this.#m.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#t.values())}attachPlugin(e){if(this.#t.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#t.set(e.name,e.connect(this)),this}getPlugin(e){return this.#t.get(e)||null}get disableCcipRead(){return this.#f}set disableCcipRead(e){this.#f=!!e}async#c(e){let r=this.#m.cacheTimeout;if(r<0)return await this._perform(e);let n=dG(e.method,e),i=this.#s.get(n);return i||(i=this._perform(e),this.#s.set(n,i),setTimeout(()=>{this.#s.get(n)===i&&this.#s.delete(n)},r)),await i}async ccipReadFetch(e,r,n){if(this.disableCcipRead||n.length===0||e.to==null)return null;let i=e.to.toLowerCase(),o=r.toLowerCase(),s=[];for(let a=0;a<n.length;a++){let c=n[a],l=c.replace("{sender}",i).replace("{data}",o),u=new dn(l);c.indexOf("{data}")===-1&&(u.body={data:o,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:a,urls:n});let d="unknown error",p;try{p=await u.send()}catch(f){s.push(f.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:{error:f}});continue}try{let f=p.bodyJson;if(f.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:f}),f.data;f.message&&(d=f.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:f})}catch{}le(p.statusCode<400||p.statusCode>=500,`response not found during CCIP fetch: ${d}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:d}}),s.push(d)}le(!1,`error encountered during CCIP fetch: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:s}})}_wrapBlock(e,r){return new d2(ngt(e),this)}_wrapLog(e,r){return new Dl(rgt(e),this)}_wrapTransactionReceipt(e,r){return new Og(igt(e),this)}_wrapTransactionResponse(e,r){return new um(Fbe(e),this)}_detectNetwork(){le(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){le(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){let e=It(await this.#c({method:"getBlockNumber"}),"%response");return this.#a>=0&&(this.#a=e),e}_getAddress(e){return ei(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(Ar(e))return Ar(e,32)?e:Qo(e);if(typeof e=="bigint"&&(e=It(e,"blockTag")),typeof e=="number")return e>=0?Qo(e):this.#a>=0?Qo(this.#a+e):this.getBlockNumber().then(r=>Qo(r+e));K(!1,"invalid blockTag","blockTag",e)}_getFilter(e){let r=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?jbe(c.map(l=>l.toLowerCase())):c.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,i=(c,l,u)=>{let d;switch(c.length){case 0:break;case 1:d=c[0];break;default:c.sort(),d=c}if(n&&(l!=null||u!=null))throw new Error("invalid filter");let p={};return d&&(p.address=d),r.length&&(p.topics=r),l&&(p.fromBlock=l),u&&(p.toBlock=u),n&&(p.blockHash=n),p},o=[];if(e.address)if(Array.isArray(e.address))for(let c of e.address)o.push(this._getAddress(c));else o.push(this._getAddress(e.address));let s;"fromBlock"in e&&(s=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),o.filter(c=>typeof c!="string").length||s!=null&&typeof s!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(o),s,a]).then(c=>i(c[0],c[1],c[2])):i(o,s,a)}_getTransactionRequest(e){let r=vd(e),n=[];if(["to","from"].forEach(i=>{if(r[i]==null)return;let o=ei(r[i],this);uG(o)?n.push((async function(){r[i]=await o})()):r[i]=o}),r.blockTag!=null){let i=this._getBlockTag(r.blockTag);uG(i)?n.push((async function(){r.blockTag=await i})()):r.blockTag=i}return n.length?(async function(){return await Promise.all(n),r})():r}async getNetwork(){if(this.#i==null){let i=(async()=>{try{let o=await this._detectNetwork();return this.emit("network",o,null),o}catch(o){throw this.#i===i&&(this.#i=null),o}})();return this.#i=i,(await i).clone()}let e=this.#i,[r,n]=await Promise.all([e,this._detectNetwork()]);return r.chainId!==n.chainId&&(this.#o?(this.emit("network",n,r),this.#i===e&&(this.#i=Promise.resolve(n))):le(!1,`network changed: ${r.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),r.clone()}async getFeeData(){let e=await this.getNetwork(),r=async()=>{let{_block:i,gasPrice:o,priorityFee:s}=await Vn({_block:this.#b("latest",!1),gasPrice:(async()=>{try{let u=await this.#c({method:"getGasPrice"});return Ze(u,"%response")}catch{}return null})(),priorityFee:(async()=>{try{let u=await this.#c({method:"getPriorityFee"});return Ze(u,"%response")}catch{}return null})()}),a=null,c=null,l=this._wrapBlock(i,e);return l&&l.baseFeePerGas&&(c=s??BigInt("1000000000"),a=l.baseFeePerGas*Yhr+c),new Vy(o,a,c)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){let i=new dn(n.url),o=await n.processFunc(r,this,i);return new Vy(o.gasPrice,o.maxFeePerGas,o.maxPriorityFeePerGas)}return await r()}async estimateGas(e){let r=this._getTransactionRequest(e);return uG(r)&&(r=await r),Ze(await this.#c({method:"estimateGas",transaction:r}),"%response")}async#d(e,r,n){le(n<Zhr,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:r,enableCcipRead:!0})});let i=vd(e);try{return xe(await this._perform({method:"call",transaction:i,blockTag:r}))}catch(o){if(!this.disableCcipRead&&Py(o)&&o.data&&n>=0&&r==="latest"&&i.to!=null&&Xr(o.data,0,4)==="0x556f1830"){let s=o.data,a=await ei(i.to,this),c;try{c=sgr(Xr(o.data,4))}catch(d){le(!1,d.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:s}})}le(c.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:s,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});let l=await this.ccipReadFetch(i,c.calldata,c.urls);le(l!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:o.data,errorArgs:c.errorArgs}});let u={to:a,data:Kt([c.selector,ogr([l,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{let d=await this.#d(u,r,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:d}),d}catch(d){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:d}),d}}throw o}}async#p(e){let{value:r}=await Vn({network:this.getNetwork(),value:e});return r}async call(e){let{tx:r,blockTag:n}=await Vn({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#p(this.#d(r,n,e.enableCcipRead?0:-1))}async#h(e,r,n){let i=this._getAddress(r),o=this._getBlockTag(n);return(typeof i!="string"||typeof o!="string")&&([i,o]=await Promise.all([i,o])),await this.#p(this.#c(Object.assign(e,{address:i,blockTag:o})))}async getBalance(e,r){return Ze(await this.#h({method:"getBalance"},e,r),"%response")}async getTransactionCount(e,r){return It(await this.#h({method:"getTransactionCount"},e,r),"%response")}async getCode(e,r){return xe(await this.#h({method:"getCode"},e,r))}async getStorage(e,r,n){let i=Ze(r,"position");return xe(await this.#h({method:"getStorage",position:i},e,n))}async broadcastTransaction(e){let{blockNumber:r,hash:n,network:i}=await Vn({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),o=kl.from(e);if(o.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(o,i).replaceableTransaction(r)}async#b(e,r){if(Ar(e,32))return await this.#c({method:"getBlock",blockHash:e,includeTransactions:r});let n=this._getBlockTag(e);return typeof n!="string"&&(n=await n),await this.#c({method:"getBlock",blockTag:n,includeTransactions:r})}async getBlock(e,r){let{network:n,params:i}=await Vn({network:this.getNetwork(),params:this.#b(e,!!r)});return i==null?null:this._wrapBlock(i,n)}async getTransaction(e){let{network:r,params:n}=await Vn({network:this.getNetwork(),params:this.#c({method:"getTransaction",hash:e})});return n==null?null:this._wrapTransactionResponse(n,r)}async getTransactionReceipt(e){let{network:r,params:n}=await Vn({network:this.getNetwork(),params:this.#c({method:"getTransactionReceipt",hash:e})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){let i=await this.#c({method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(n,r)}async getTransactionResult(e){let{result:r}=await Vn({network:this.getNetwork(),result:this.#c({method:"getTransactionResult",hash:e})});return r==null?null:xe(r)}async getLogs(e){let r=this._getFilter(e);uG(r)&&(r=await r);let{network:n,params:i}=await Vn({network:this.getNetwork(),params:this.#c({method:"getLogs",filter:r})});return i.map(o=>this._wrapLog(o,n))}_getProvider(e){le(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await qy.fromName(this,e)}async getAvatar(e){let r=await this.getResolver(e);return r?await r.getAvatar():null}async resolveName(e){let r=await this.getResolver(e);return r?await r.getAddress():null}async lookupAddress(e){e=kt(e);let r=Fy(e.substring(2).toLowerCase()+".addr.reverse");try{let n=await qy.getEnsAddress(this),o=await new Kc(n,["function resolver(bytes32) view returns (address)"],this).resolver(r);if(o==null||o===Np)return null;let a=await new Kc(o,["function name(bytes32) view returns (string)"],this).name(r);return await this.resolveName(a)!==e?null:a}catch(n){if(on(n,"BAD_DATA")&&n.value==="0x"||on(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,r,n){let i=r??1;return i===0?this.getTransactionReceipt(e):new Promise(async(o,s)=>{let a=null,c=(async l=>{try{let u=await this.getTransactionReceipt(e);if(u!=null&&l-u.blockNumber+1>=i){o(u),a&&(clearTimeout(a),a=null);return}}catch(u){console.log("EEE",u)}this.once("block",c)});n!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",c),s(Pr("timeout","TIMEOUT",{reason:"timeout"})))},n)),c(await this.getBlockNumber())})}async waitForBlock(e){le(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){let r=this.#l.get(e);r&&(r.timer&&clearTimeout(r.timer),this.#l.delete(e))}_setTimeout(e,r){r==null&&(r=0);let n=this.#u++,i=()=>{this.#l.delete(n),e()};if(this.paused)this.#l.set(n,{timer:null,func:i,time:r});else{let o=setTimeout(i,r);this.#l.set(n,{timer:o,func:i,time:Gbe()})}return n}_forEachSubscriber(e){for(let r of this.#e.values())e(r.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new Bp(e.type);case"block":{let r=new sG(this);return r.pollingInterval=this.pollingInterval,r}case"safe":case"finalized":return new aG(this,e.type);case"event":return new Ky(this,e.filter);case"transaction":return new lG(this,e.hash);case"orphan":return new cG(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,r){for(let n of this.#e.values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=r,n.started&&r.start(),this.#r!=null&&r.pause(this.#r);break}}async#g(e,r){let n=await Vbe(e,this);return n.type==="event"&&r&&r.length>0&&r[0].removed===!0&&(n=await Vbe({orphan:"drop-log",log:r[0]},this)),this.#e.get(n.tag)||null}async#y(e){let r=await Vbe(e,this),n=r.tag,i=this.#e.get(n);return i||(i={subscriber:this._getSubscriber(r),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#e.set(n,i)),i}async on(e,r){let n=await this.#y(e);return n.listeners.push({listener:r,once:!1}),n.started||(n.subscriber.start(),n.started=!0,this.#r!=null&&n.subscriber.pause(this.#r)),this}async once(e,r){let n=await this.#y(e);return n.listeners.push({listener:r,once:!0}),n.started||(n.subscriber.start(),n.started=!0,this.#r!=null&&n.subscriber.pause(this.#r)),this}async emit(e,...r){let n=await this.#g(e,r);if(!n||n.listeners.length===0)return!1;let i=n.listeners.length;return n.listeners=n.listeners.filter(({listener:o,once:s})=>{let a=new Sg(this,s?null:o,e);try{o.call(this,...r,a)}catch{}return!s}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),this.#e.delete(n.tag)),i>0}async listenerCount(e){if(e){let n=await this.#g(e);return n?n.listeners.length:0}let r=0;for(let{listeners:n}of this.#e.values())r+=n.length;return r}async listeners(e){if(e){let n=await this.#g(e);return n?n.listeners.map(({listener:i})=>i):[]}let r=[];for(let{listeners:n}of this.#e.values())r=r.concat(n.map(({listener:i})=>i));return r}async off(e,r){let n=await this.#g(e);if(!n)return this;if(r){let i=n.listeners.map(({listener:o})=>o).indexOf(r);i>=0&&n.listeners.splice(i,1)}return(!r||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),this.#e.delete(n.tag)),this}async removeAllListeners(e){if(e){let{tag:r,started:n,subscriber:i}=await this.#y(e);n&&i.stop(),this.#e.delete(r)}else for(let[r,{started:n,subscriber:i}]of this.#e)n&&i.stop(),this.#e.delete(r);return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return this.off(e,r)}get destroyed(){return this.#n}destroy(){this.removeAllListeners();for(let e of this.#l.keys())this._clearTimeout(e);this.#n=!0}get paused(){return this.#r!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#a=-1,this.#r!=null){if(this.#r==!!e)return;le(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(r=>r.pause(e)),this.#r=!!e;for(let r of this.#l.values())r.timer&&clearTimeout(r.timer),r.time=Gbe()-r.time}resume(){if(this.#r!=null){this._forEachSubscriber(e=>e.resume()),this.#r=null;for(let e of this.#l.values()){let r=e.time;r<0&&(r=0),e.time=Gbe(),setTimeout(e.func,r)}}}};function rgr(t,e){try{let r=qbe(t,e);if(r)return ao(r)}catch{}return null}function qbe(t,e){if(t==="0x")return null;try{let r=It(Xr(t,e,e+32)),n=It(Xr(t,r,r+32));return Xr(t,r+32,r+32+n)}catch{}return null}function cgt(t){let e=Qr(t);if(e.length>32)throw new Error("internal; should not happen");let r=new Uint8Array(32);return r.set(e,32-e.length),r}function ngr(t){if(t.length%32===0)return t;let e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}var igr=new Uint8Array([]);function ogr(t){let e=[],r=0;for(let n=0;n<t.length;n++)e.push(igr),r+=32;for(let n=0;n<t.length;n++){let i=Ne(t[n]);e[n]=cgt(r),e.push(cgt(i.length)),e.push(ngr(i)),r+=32+Math.ceil(i.length/32)*32}return Kt(e)}var lgt="0x0000000000000000000000000000000000000000000000000000000000000000";function sgr(t){let e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};le(Wc(t)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});let r=Xr(t,0,32);le(Xr(r,0,12)===Xr(lgt,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Xr(r,12);try{let n=[],i=It(Xr(t,32,64)),o=It(Xr(t,i,i+32)),s=Xr(t,i+32);for(let a=0;a<o;a++){let c=rgr(s,a*32);if(c==null)throw new Error("abort");n.push(c)}e.urls=n}catch{le(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{let n=qbe(t,64);if(n==null)throw new Error("abort");e.calldata=n}catch{le(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}le(Xr(t,100,128)===Xr(lgt,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Xr(t,96,100);try{let n=qbe(t,128);if(n==null)throw new Error("abort");e.extraData=n}catch{le(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>e[n]),e}function g2(t,e){if(t.provider)return t.provider;le(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function ugt(t,e){let r=vd(e);if(r.to!=null&&(r.to=ei(r.to,t)),r.from!=null){let n=r.from;r.from=Promise.all([t.getAddress(),ei(n,t)]).then(([i,o])=>(K(i.toLowerCase()===o.toLowerCase(),"transaction from mismatch","tx.from",o),i))}else r.from=t.getAddress();return await Vn(r)}var Sd=class{provider;constructor(e){Be(this,{provider:e||null})}async getNonce(e){return g2(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await ugt(this,e)}async populateTransaction(e){let r=g2(this,"populateTransaction"),n=await ugt(this,e);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));let i=await this.provider.getNetwork();if(n.chainId!=null){let s=Ze(n.chainId);K(s===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=i.chainId;let o=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||o)?K(!1,"eip-1559 transaction do not support gasPrice","tx",e):(n.type===0||n.type===1)&&o&&K(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){let s=await r.getFeeData();le(s.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=s.gasPrice)}else{let s=await r.getFeeData();if(n.type==null)if(s.maxFeePerGas!=null&&s.maxPriorityFeePerGas!=null)if(n.authorizationList&&n.authorizationList.length?n.type=4:n.type=2,n.gasPrice!=null){let a=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=a,n.maxPriorityFeePerGas=a}else n.maxFeePerGas==null&&(n.maxFeePerGas=s.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=s.maxPriorityFeePerGas);else s.gasPrice!=null?(le(!o,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=s.gasPrice),n.type=0):le(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(n.type===2||n.type===3||n.type===4)&&(n.maxFeePerGas==null&&(n.maxFeePerGas=s.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=s.maxPriorityFeePerGas))}return await Vn(n)}async populateAuthorization(e){let r=Object.assign({},e);return r.chainId==null&&(r.chainId=(await g2(this,"getNetwork").getNetwork()).chainId),r.nonce==null&&(r.nonce=await this.getNonce()),r}async estimateGas(e){return g2(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return g2(this,"call").call(await this.populateCall(e))}async resolveName(e){return await g2(this,"resolveName").resolveName(e)}async sendTransaction(e){let r=g2(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;let i=kl.from(n);return await r.broadcastTransaction(await this.signTransaction(i))}authorize(e){le(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}},y2=class t extends Sd{address;constructor(e,r){super(r),Be(this,{address:e})}async getAddress(){return this.address}connect(e){return new t(this.address,e)}#e(e,r){le(!1,`VoidSigner cannot sign ${e}`,"UNSUPPORTED_OPERATION",{operation:r})}async signTransaction(e){this.#e("transactions","signTransaction")}async signMessage(e){this.#e("messages","signMessage")}async signTypedData(e,r,n){this.#e("typed-data","signTypedData")}};var dgt=new Set;function Vs(t){dgt.has(t)||(dgt.add(t),console.log("========= NOTICE ========="),console.log(`Request-Rate Exceeded for ${t} (this message will not be repeated)`),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.org/api-keys/"),console.log("=========================="))}function agr(t){return JSON.parse(JSON.stringify(t))}var pG=class{#e;#t;#r;#n;#i;#o;constructor(e){this.#e=e,this.#t=null,this.#r=this.#s.bind(this),this.#n=!1,this.#i=null,this.#o=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,r){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#s(e){try{this.#t==null&&(this.#t=this._subscribe(this.#e));let r=null;try{r=await this.#t}catch(o){if(!on(o,"UNSUPPORTED_OPERATION")||o.operation!=="eth_newFilter")throw o}if(r==null){this.#t=null,this.#e._recoverSubscriber(this,this._recover(this.#e));return}let n=await this.#e.getNetwork();if(this.#i||(this.#i=n),this.#i.chainId!==n.chainId)throw new Error("chaid changed");if(this.#o)return;let i=await this.#e.send("eth_getFilterChanges",[r]);await this._emitResults(this.#e,i)}catch(r){console.log("@TODO",r)}this.#e.once("block",this.#r)}#a(){let e=this.#t;e&&(this.#t=null,e.then(r=>{this.#e.destroyed||this.#e.send("eth_uninstallFilter",[r])}))}start(){this.#n||(this.#n=!0,this.#s(-2))}stop(){this.#n&&(this.#n=!1,this.#o=!0,this.#a(),this.#e.off("block",this.#r))}pause(e){e&&this.#a(),this.#e.off("block",this.#r)}resume(){this.start()}},fG=class extends pG{#e;constructor(e,r){super(e),this.#e=agr(r)}_recover(e){return new Ky(e,this.#e)}async _subscribe(e){return await e.send("eth_newFilter",[this.#e])}async _emitResults(e,r){for(let n of r)e.emit(this.#e,e._wrapLog(n,e._network))}},mG=class extends pG{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,r){for(let n of r)e.emit("pending",n)}};var cgr="bigint,boolean,function,number,string,symbol".split(/,/g);function hG(t){if(t==null||cgr.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(hG);if(typeof t=="object")return Object.keys(t).reduce((e,r)=>(e[r]=t[r],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function lgr(t){return new Promise(e=>{setTimeout(e,t)})}function A4(t){return t&&t.toLowerCase()}function pgt(t){return t&&typeof t.pollingInterval=="number"}var fgt={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3},Qy=class extends Sd{address;constructor(e,r){super(e),r=kt(r),Be(this,{address:r})}connect(e){le(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){let r=hG(e),n=[];if(r.from){let o=r.from;n.push((async()=>{let s=await ei(o,this.provider);K(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),r.from=s})())}else r.from=this.address;if(r.gasLimit==null&&n.push((async()=>{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),r.to!=null){let o=r.to;n.push((async()=>{r.to=await ei(o,this.provider)})())}n.length&&await Promise.all(n);let i=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(e){let r=await this.provider.getBlockNumber(),n=await this.sendUncheckedTransaction(e);return await new Promise((i,o)=>{let s=[1e3,100],a=0,c=async()=>{try{let l=await this.provider.getTransaction(n);if(l!=null){i(l.replaceableTransaction(r));return}}catch(l){if(on(l,"CANCELLED")||on(l,"BAD_DATA")||on(l,"NETWORK_ERROR")||on(l,"UNSUPPORTED_OPERATION")){l.info==null&&(l.info={}),l.info.sendTransactionHash=n,o(l);return}if(on(l,"INVALID_ARGUMENT")&&(a++,l.info==null&&(l.info={}),l.info.sendTransactionHash=n,a>10)){o(l);return}this.provider.emit("error",Pr("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:l}))}this.provider._setTimeout(()=>{c()},s.pop()||4e3)};c()})}async signTransaction(e){let r=hG(e);if(r.from){let i=await ei(r.from,this.provider);K(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),r.from=i}else r.from=this.address;let n=this.provider.getRpcTransaction(r);return await this.provider.send("eth_signTransaction",[n])}async signMessage(e){let r=typeof e=="string"?Yr(e):e;return await this.provider.send("personal_sign",[xe(r),this.address.toLowerCase()])}async signTypedData(e,r,n){let i=hG(n),o=await yd.resolveNames(e,r,i,async s=>{let a=await ei(s);return K(a!=null,"TypedData does not support null address","value",s),a});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(yd.getPayload(o.domain,r,o.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){let r=typeof e=="string"?Yr(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),xe(r)])}},Xy=class extends _d{#e;#t;#r;#n;#i;#o;#s;#a(){if(this.#n)return;let e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#n=setTimeout(()=>{this.#n=null;let r=this.#r;for(this.#r=[];r.length;){let n=[r.shift()];for(;r.length&&n.length!==this.#e.batchMaxCount;)if(n.push(r.shift()),JSON.stringify(n.map(o=>o.payload)).length>this.#e.batchMaxSize){r.unshift(n.pop());break}(async()=>{let i=n.length===1?n[0].payload:n.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{let o=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:o});for(let{resolve:s,reject:a,payload:c}of n){if(this.destroyed){a(Pr("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:c.method}));continue}let l=o.filter(u=>u.id===c.id)[0];if(l==null){let u=Pr("missing response for request","BAD_DATA",{value:o,info:{payload:c}});this.emit("error",u),a(u);continue}if("error"in l){a(this.getRpcError(c,l));continue}s(l.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(let{reject:s}of n)s(o)}})()}},e)}constructor(e,r){super(e,r),this.#t=1,this.#e=Object.assign({},fgt,r||{}),this.#r=[],this.#n=null,this.#o=null,this.#s=null;{let i=null,o=new Promise(s=>{i=s});this.#i={promise:o,resolve:i}}let n=this._getOption("staticNetwork");typeof n=="boolean"?(K(!n||e!=="any","staticNetwork cannot be used on special network 'any'","options",r),n&&e!=null&&(this.#o=Lr.from(e))):n&&(K(e==null||n.matches(e),"staticNetwork MUST match network object","options",r),this.#o=n)}_getOption(e){return this.#e[e]}get _network(){return le(this.#o,"network is not available yet","NETWORK_ERROR"),this.#o}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let n=e.transaction;if(n&&n.type!=null&&Ze(n.type)&&n.maxFeePerGas==null&&n.maxPriorityFeePerGas==null){let i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(e=Object.assign({},e,{transaction:Object.assign({},n,{type:void 0})}))}}let r=this.getRpcRequest(e);return r!=null?await this.send(r.method,r.args):super._perform(e)}async _detectNetwork(){let e=this._getOption("staticNetwork");if(e)if(e===!0){if(this.#o)return this.#o}else return e;return this.#s?await this.#s:this.ready?(this.#s=(async()=>{try{let r=Lr.from(Ze(await this.send("eth_chainId",[])));return this.#s=null,r}catch(r){throw this.#s=null,r}})(),await this.#s):(this.#s=(async()=>{let r={id:this.#t++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:r});let n;try{n=(await this._send(r))[0],this.#s=null}catch(i){throw this.#s=null,this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:n}),"result"in n)return Lr.from(Ze(n.result));throw this.getRpcError(r,n)})(),await this.#s)}_start(){this.#i==null||this.#i.resolve==null||(this.#i.resolve(),this.#i=null,(async()=>{for(;this.#o==null&&!this.destroyed;)try{this.#o=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Pr("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await lgr(1e3)}this.#a()})())}async _waitUntilReady(){if(this.#i!=null)return await this.#i.promise}_getSubscriber(e){return e.type==="pending"?new mG(this):e.type==="event"?this._getOption("polling")?new Ky(this,e.filter):new fG(this,e.filter):e.type==="orphan"&&e.filter.orphan==="drop-log"?new Bp("orphan"):super._getSubscriber(e)}get ready(){return this.#i==null}getRpcTransaction(e){let r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(n=>{if(e[n]==null)return;let i=n;n==="gasLimit"&&(i="gas"),r[i]=Qo(Ze(e[n],`tx.${n}`))}),["from","to","data"].forEach(n=>{e[n]!=null&&(r[n]=xe(e[n]))}),e.accessList&&(r.accessList=zs(e.accessList)),e.blobVersionedHashes&&(r.blobVersionedHashes=e.blobVersionedHashes.map(n=>n.toLowerCase())),e.authorizationList&&(r.authorizationList=e.authorizationList.map(n=>{let i=i2(n);return{address:i.address,nonce:Qo(i.nonce),chainId:Qo(i.chainId),yParity:Qo(i.signature.yParity),r:Qo(i.signature.r),s:Qo(i.signature.s)}})),r}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[A4(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[A4(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[A4(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[A4(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&e.filter.address!=null&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(A4):e.filter.address=A4(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,r){let{method:n}=e,{error:i}=r;if(n==="eth_estimateGas"&&i.message){let a=i.message;if(!a.match(/revert/i)&&a.match(/insufficient funds/i))return Pr("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:i}});if(a.match(/nonce/i)&&a.match(/too low/i))return Pr("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:i}})}if(n==="eth_call"||n==="eth_estimateGas"){let a=Wbe(i),c=bd.getBuiltinCallException(n==="eth_call"?"call":"estimateGas",e.params[0],a?a.data:null);return c.info={error:i,payload:e},c}let o=JSON.stringify(ugr(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return Pr("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[n]||"unknown",reason:"rejected",info:{payload:e,error:i}});if(n==="eth_sendRawTransaction"||n==="eth_sendTransaction"){let a=e.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return Pr("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:a,info:{error:i}});if(o.match(/nonce/i)&&o.match(/too low/i))return Pr("nonce has already been used","NONCE_EXPIRED",{transaction:a,info:{error:i}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return Pr("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:a,info:{error:i}});if(o.match(/only replay-protected/i))return Pr("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:n,info:{transaction:a,info:{error:i}}})}let s=!!o.match(/the method .* does not exist/i);return s||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(s=!0),s?Pr("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:i,payload:e}}):Pr("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:e})}send(e,r){if(this.destroyed)return Promise.reject(Pr("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));let n=this.#t++,i=new Promise((o,s)=>{this.#r.push({resolve:o,reject:s,payload:{method:e,params:r,id:n,jsonrpc:"2.0"}})});return this.#a(),i}async getSigner(e){e==null&&(e=0);let r=this.send("eth_accounts",[]);if(typeof e=="number"){let i=await r;if(e>=i.length)throw new Error("no such account");return new Qy(this,i[e])}let{accounts:n}=await Vn({network:this.getNetwork(),accounts:r});e=kt(e);for(let i of n)if(kt(i)===e)return new Qy(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(r=>new Qy(this,r))}destroy(){this.#n&&(clearTimeout(this.#n),this.#n=null);for(let{payload:e,reject:r}of this.#r)r(Pr("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#r=[],super.destroy()}},b9=class extends Xy{#e;constructor(e,r){super(e,r);let n=this._getOption("pollingInterval");n==null&&(n=fgt.pollingInterval),this.#e=n}_getSubscriber(e){let r=super._getSubscriber(e);return pgt(r)&&(r.pollingInterval=this.#e),r}get pollingInterval(){return this.#e}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#e=e,this._forEachSubscriber(r=>{pgt(r)&&(r.pollingInterval=this.#e)})}},li=class extends b9{#e;constructor(e,r,n){e==null&&(e="http://localhost:8545"),super(r,n),typeof e=="string"?this.#e=new dn(e):this.#e=e.clone()}_getConnection(){return this.#e.clone()}async send(e,r){return await this._start(),await super.send(e,r)}async _send(e){let r=this._getConnection();r.body=JSON.stringify(e),r.setHeader("content-type","application/json");let n=await r.send();n.assertOk();let i=n.bodyJson;return Array.isArray(i)||(i=[i]),i}};function Wbe(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&Ar(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(let e in t){let r=Wbe(t[e]);if(r)return r}return null}if(typeof t=="string")try{return Wbe(JSON.parse(t))}catch{}return null}function Jbe(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(let r in t)Jbe(t[r],e);if(typeof t=="string")try{return Jbe(JSON.parse(t),e)}catch{}}}function ugr(t){let e=[];return Jbe(t,e),e}var gG="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function dgr(t){switch(t){case"mainnet":return"rpc.ankr.com/eth";case"goerli":return"rpc.ankr.com/eth_goerli";case"sepolia":return"rpc.ankr.com/eth_sepolia";case"arbitrum":return"rpc.ankr.com/arbitrum";case"base":return"rpc.ankr.com/base";case"base-goerli":return"rpc.ankr.com/base_goerli";case"base-sepolia":return"rpc.ankr.com/base_sepolia";case"bnb":return"rpc.ankr.com/bsc";case"bnbt":return"rpc.ankr.com/bsc_testnet_chapel";case"filecoin":return"rpc.ankr.com/filecoin";case"filecoin-calibration":return"rpc.ankr.com/filecoin_testnet";case"matic":return"rpc.ankr.com/polygon";case"matic-mumbai":return"rpc.ankr.com/polygon_mumbai";case"optimism":return"rpc.ankr.com/optimism";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia"}K(!1,"unsupported network","network",t)}var b2=class t extends li{apiKey;constructor(e,r){e==null&&(e="mainnet");let n=Lr.from(e);r==null&&(r=gG);let i={polling:!0,staticNetwork:n},o=t.getRequest(n,r);super(o,n,i),Be(this,{apiKey:r})}_getProvider(e){try{return new t(e,this.apiKey)}catch{}return super._getProvider(e)}static getRequest(e,r){r==null&&(r=gG);let n=new dn(`https://${dgr(e.name)}/${r}`);return n.allowGzip=!0,r===gG&&(n.retryFunc=async(i,o,s)=>(Vs("AnkrProvider"),!0)),n}getRpcError(e,r){return e.method==="eth_sendRawTransaction"&&r&&r.error&&r.error.message==="INTERNAL_ERROR: could not replace existing tx"&&(r.error.message="replacement transaction underpriced"),super.getRpcError(e,r)}isCommunityResource(){return this.apiKey===gG}};var yG="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";function pgr(t){switch(t){case"mainnet":return"eth-mainnet.g.alchemy.com";case"goerli":return"eth-goerli.g.alchemy.com";case"sepolia":return"eth-sepolia.g.alchemy.com";case"arbitrum":return"arb-mainnet.g.alchemy.com";case"arbitrum-goerli":return"arb-goerli.g.alchemy.com";case"arbitrum-sepolia":return"arb-sepolia.g.alchemy.com";case"base":return"base-mainnet.g.alchemy.com";case"base-goerli":return"base-goerli.g.alchemy.com";case"base-sepolia":return"base-sepolia.g.alchemy.com";case"matic":return"polygon-mainnet.g.alchemy.com";case"matic-amoy":return"polygon-amoy.g.alchemy.com";case"matic-mumbai":return"polygon-mumbai.g.alchemy.com";case"optimism":return"opt-mainnet.g.alchemy.com";case"optimism-goerli":return"opt-goerli.g.alchemy.com";case"optimism-sepolia":return"opt-sepolia.g.alchemy.com"}K(!1,"unsupported network","network",t)}var v2=class t extends li{apiKey;constructor(e,r){e==null&&(e="mainnet");let n=Lr.from(e);r==null&&(r=yG);let i=t.getRequest(n,r);super(i,n,{staticNetwork:n}),Be(this,{apiKey:r})}_getProvider(e){try{return new t(e,this.apiKey)}catch{}return super._getProvider(e)}async _perform(e){if(e.method==="getTransactionResult"){let{trace:r,tx:n}=await Vn({trace:this.send("trace_transaction",[e.hash]),tx:this.getTransaction(e.hash)});if(r==null||n==null)return null;let i,o=!1;try{i=r[0].result.output,o=r[0].error==="Reverted"}catch{}if(i)return le(!o,"an error occurred during transaction executions","CALL_EXCEPTION",{action:"getTransactionResult",data:i,reason:null,transaction:n,invocation:null,revert:null}),i;le(!1,"could not parse trace result","BAD_DATA",{value:r})}return await super._perform(e)}isCommunityResource(){return this.apiKey===yG}static getRequest(e,r){r==null&&(r=yG);let n=new dn(`https://${pgr(e.name)}/v2/${r}`);return n.allowGzip=!0,r===yG&&(n.retryFunc=async(i,o,s)=>(Vs("alchemy"),!0)),n}};function bG(t){switch(t){case"mainnet":return"39f1d67cedf8b7831010a665328c9197";case"arbitrum":return"0550c209db33c3abf4cc927e1e18cea1";case"bnb":return"98b5a77e531614387366f6fc5da097f8";case"matic":return"cd9d4d70377471aa7c142ec4a4205249"}K(!1,"unsupported network","network",t)}function fgr(t){switch(t){case"mainnet":return"ethereum-mainnet.core.chainstack.com";case"arbitrum":return"arbitrum-mainnet.core.chainstack.com";case"bnb":return"bsc-mainnet.core.chainstack.com";case"matic":return"polygon-mainnet.core.chainstack.com"}K(!1,"unsupported network","network",t)}var _2=class t extends li{apiKey;constructor(e,r){e==null&&(e="mainnet");let n=Lr.from(e);r==null&&(r=bG(n.name));let i=t.getRequest(n,r);super(i,n,{staticNetwork:n}),Be(this,{apiKey:r})}_getProvider(e){try{return new t(e,this.apiKey)}catch{}return super._getProvider(e)}isCommunityResource(){return this.apiKey===bG(this._network.name)}static getRequest(e,r){r==null&&(r=bG(e.name));let n=new dn(`https://${fgr(e.name)}/${r}`);return n.allowGzip=!0,r===bG(e.name)&&(n.retryFunc=async(i,o,s)=>(Vs("ChainstackProvider"),!0)),n}};var S2=class extends li{constructor(e){e==null&&(e="mainnet");let r=Lr.from(e);K(r.name==="mainnet","unsupported network","network",e),super("https://cloudflare-eth.com/",r,{staticNetwork:r})}};var mgr="1 11155111 17000 560048 2741 11124 33111 33139 42170 42161 421614 43114 43113 8453 84532 80069 80094 199 1029 81457 168587773 56 97 42220 11142220 252 2523 100 999 737373 747474 59144 59141 5000 5003 43521 143 10143 1287 1284 1285 10 11155420 204 5611 80002 137 534352 534351 1329 1328 146 14601 988 2201 1923 1924 167013 167000 130 1301 480 4801 51 50 324 300".split(/ /g),mgt=2e3;function hgr(t){return t&&typeof t.then=="function"}var hgt="org.ethers.plugins.provider.Etherscan",v9=class t extends Lp{baseUrl;constructor(e){super(hgt),Be(this,{baseUrl:e})}clone(){return new t(this.baseUrl)}},ggr=["enableCcipRead"],ygr=1,x2=class extends _d{network;apiKey;#e;constructor(e,r){let n=r??null;super();let i=Lr.from(e);K(mgr.indexOf(`${i.chainId}`)>=0,"unsupported network","network",i),this.#e=i.getPlugin(hgt),Be(this,{apiKey:n,network:i})}getBaseUrl(){if(this.#e)return this.#e.baseUrl;switch(this.network.name){case"mainnet":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"holesky":return"https://api-holesky.etherscan.io";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"base":return"https://api.basescan.org";case"base-sepolia":return"https://api-sepolia.basescan.org";case"bnb":return"https://api.bscscan.com";case"bnbt":return"https://api-testnet.bscscan.com";case"matic":return"https://api.polygonscan.com";case"matic-amoy":return"https://api-amoy.polygonscan.com";case"matic-mumbai":return"https://api-testnet.polygonscan.com";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io";default:}K(!1,"unsupported network","network",this.network)}getUrl(e,r){let n=Object.keys(r).reduce((i,o)=>{let s=r[o];return s!=null&&(i+=`&${o}=${s}`),i},"");return this.apiKey&&(n+=`&apikey=${this.apiKey}`),`https://api.etherscan.io/v2/api?chainid=${this.network.chainId}&module=${e}${n}`}getPostUrl(){return`https://api.etherscan.io/v2/api?chainid=${this.network.chainId}`}getPostData(e,r){return r.module=e,r.apikey=this.apiKey,r.chainid=this.network.chainId,r}async detectNetwork(){return this.network}async fetch(e,r,n){let i=ygr++,o=n?this.getPostUrl():this.getUrl(e,r),s=n?this.getPostData(e,r):null;this.emit("debug",{action:"sendRequest",id:i,url:o,payload:s});let a=new dn(o);a.setThrottleParams({slotInterval:1e3}),a.retryFunc=(u,d,p)=>(this.isCommunityResource()&&Vs("Etherscan"),Promise.resolve(!0)),a.processFunc=async(u,d)=>{let p=d.hasBody()?JSON.parse(ao(d.body)):{},f=(typeof p.result=="string"?p.result:"").toLowerCase().indexOf("rate limit")>=0;return e==="proxy"?p&&p.status==0&&p.message=="NOTOK"&&f&&(this.emit("debug",{action:"receiveError",id:i,reason:"proxy-NOTOK",error:p}),d.throwThrottleError(p.result,mgt)):f&&(this.emit("debug",{action:"receiveError",id:i,reason:"null result",error:p.result}),d.throwThrottleError(p.result,mgt)),d},s&&(a.setHeader("content-type","application/x-www-form-urlencoded; charset=UTF-8"),a.body=Object.keys(s).map(u=>`${u}=${s[u]}`).join("&"));let c=await a.send();try{c.assertOk()}catch(u){this.emit("debug",{action:"receiveError",id:i,error:u,reason:"assertOk"}),le(!1,"response error","SERVER_ERROR",{request:a,response:c})}c.hasBody()||(this.emit("debug",{action:"receiveError",id:i,error:"missing body",reason:"null body"}),le(!1,"missing response","SERVER_ERROR",{request:a,response:c}));let l=JSON.parse(ao(c.body));return e==="proxy"?(l.jsonrpc!="2.0"&&(this.emit("debug",{action:"receiveError",id:i,result:l,reason:"invalid JSON-RPC"}),le(!1,"invalid JSON-RPC response (missing jsonrpc='2.0')","SERVER_ERROR",{request:a,response:c,info:{result:l}})),l.error&&(this.emit("debug",{action:"receiveError",id:i,result:l,reason:"JSON-RPC error"}),le(!1,"error response","SERVER_ERROR",{request:a,response:c,info:{result:l}})),this.emit("debug",{action:"receiveRequest",id:i,result:l}),l.result):l.status==0&&(l.message==="No records found"||l.message==="No transactions found")?(this.emit("debug",{action:"receiveRequest",id:i,result:l}),l.result):((l.status!=1||typeof l.message=="string"&&!l.message.match(/^OK/))&&(this.emit("debug",{action:"receiveError",id:i,result:l}),le(!1,"error response","SERVER_ERROR",{request:a,response:c,info:{result:l}})),this.emit("debug",{action:"receiveRequest",id:i,result:l}),l.result)}_getTransactionPostData(e){let r={};for(let n in e){if(ggr.indexOf(n)>=0||e[n]==null)continue;let i=e[n];if(!(n==="type"&&i===0)&&!(n==="blockTag"&&i==="latest")){if({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[n])i=Qo(i);else if(n==="accessList")i="["+zs(i).map(o=>`{address:"${o.address}",storageKeys:["${o.storageKeys.join('","')}"]}`).join(",")+"]";else if(n==="blobVersionedHashes"){if(i.length===0)continue;le(!1,"Etherscan API does not support blobVersionedHashes","UNSUPPORTED_OPERATION",{operation:"_getTransactionPostData",info:{transaction:e}})}else i=xe(i);r[n]=i}}return r}_checkError(e,r,n){let i="";if(on(r,"SERVER_ERROR")){try{i=r.info.result.error.message}catch{}if(!i)try{i=r.info.message}catch{}}if(e.method==="estimateGas"&&!i.match(/revert/i)&&i.match(/insufficient funds/i)&&le(!1,"insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.transaction}),(e.method==="call"||e.method==="estimateGas")&&i.match(/execution reverted/i)){let o="";try{o=r.info.result.error.data}catch{}let s=bd.getBuiltinCallException(e.method,e.transaction,o);throw s.info={request:e,error:r},s}if(i&&e.method==="broadcastTransaction"){let o=kl.from(e.signedTransaction);i.match(/replacement/i)&&i.match(/underpriced/i)&&le(!1,"replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:o}),i.match(/insufficient funds/)&&le(!1,"insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:o}),i.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&le(!1,"nonce has already been used","NONCE_EXPIRED",{transaction:o})}throw r}async _detectNetwork(){return this.network}async _perform(e){switch(e.method){case"chainId":return this.network.chainId;case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getPriorityFee":if(this.network.name==="mainnet")return"1000000000";if(this.network.name==="optimism")return"1000000";throw new Error("fallback onto the AbstractProvider default");case"getBalance":return this.fetch("account",{action:"balance",address:e.address,tag:e.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:e.address,tag:e.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:e.address,tag:e.blockTag});case"getStorage":return this.fetch("proxy",{action:"eth_getStorageAt",address:e.address,position:e.position,tag:e.blockTag});case"broadcastTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:e.signedTransaction},!0).catch(r=>this._checkError(e,r,e.signedTransaction));case"getBlock":if("blockTag"in e)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:e.blockTag,boolean:e.includeTransactions?"true":"false"});le(!1,"getBlock by blockHash not supported by Etherscan","UNSUPPORTED_OPERATION",{operation:"getBlock(blockHash)"});case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:e.hash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:e.hash});case"call":{if(e.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");let r=this._getTransactionPostData(e.transaction);r.module="proxy",r.action="eth_call";try{return await this.fetch("proxy",r,!0)}catch(n){return this._checkError(e,n,e.transaction)}}case"estimateGas":{let r=this._getTransactionPostData(e.transaction);r.module="proxy",r.action="eth_estimateGas";try{return await this.fetch("proxy",r,!0)}catch(n){return this._checkError(e,n,e.transaction)}}default:break}return super._perform(e)}async getNetwork(){return this.network}async getEtherPrice(){return this.network.name!=="mainnet"?0:parseFloat((await this.fetch("stats",{action:"ethprice"})).ethusd)}async getContract(e){let r=this._getAddress(e);hgr(r)&&(r=await r);try{let n=await this.fetch("contract",{action:"getabi",address:r}),i=JSON.parse(n);return new Kc(r,i,this)}catch{return null}}isCommunityResource(){return this.apiKey==null}};var R0r=di(vgt(),1),I0r=di(ove(),1),C0r=di(ave(),1),PG=di(mve(),1),N0r=di(g0t(),1);var tb=class{#e;#t;get filter(){return JSON.parse(this.#t)}#r;#n;#i;constructor(e,r){this.#e=e,this.#t=JSON.stringify(r),this.#r=null,this.#n=null,this.#i=null}start(){this.#r=this.#e.send("eth_subscribe",this.filter).then(e=>(this.#e._register(e,this),e))}stop(){this.#r.then(e=>{this.#e.destroyed||this.#e.send("eth_unsubscribe",[e])}),this.#r=null}pause(e){le(e,"preserve logs while paused not supported by SocketSubscriber yet","UNSUPPORTED_OPERATION",{operation:"pause(false)"}),this.#n=!!e}resume(){this.#n=null}_handleMessage(e){if(this.#r!=null&&this.#n===null){let r=this.#i;r==null?r=this._emit(this.#e,e):r=r.then(async()=>{await this._emit(this.#e,e)}),this.#i=r.then(()=>{this.#i===r&&(this.#i=null)})}}async _emit(e,r){throw new Error("sub-classes must implemente this; _emit")}},C4=class extends tb{constructor(e){super(e,["newHeads"])}async _emit(e,r){e.emit("block",parseInt(r.number))}},N4=class extends tb{constructor(e){super(e,["newPendingTransactions"])}async _emit(e,r){e.emit("pending",r)}},O4=class extends tb{#e;get logFilter(){return JSON.parse(this.#e)}constructor(e,r){super(e,["logs",r]),this.#e=JSON.stringify(r)}async _emit(e,r){e.emit(this.logFilter,e._wrapLog(r,e._network))}},$g=class extends Xy{#e;#t;#r;constructor(e,r){let n=Object.assign({},r??{});K(n.batchMaxCount==null||n.batchMaxCount===1,"sockets-based providers do not support batches","options.batchMaxCount",r),n.batchMaxCount=1,n.staticNetwork==null&&(n.staticNetwork=!0),super(e,n),this.#e=new Map,this.#t=new Map,this.#r=new Map}_getSubscriber(e){switch(e.type){case"close":return new Bp("close");case"block":return new C4(this);case"pending":return new N4(this);case"event":return new O4(this,e.filter);case"orphan":if(e.filter.orphan==="drop-log")return new Bp("drop-log")}return super._getSubscriber(e)}_register(e,r){this.#t.set(e,r);let n=this.#r.get(e);if(n){for(let i of n)r._handleMessage(i);this.#r.delete(e)}}async _send(e){K(!Array.isArray(e),"WebSocket does not support batch send","payload",e);let r=new Promise((n,i)=>{this.#e.set(e.id,{payload:e,resolve:n,reject:i})});return await this._waitUntilReady(),await this._write(JSON.stringify(e)),[await r]}async _processMessage(e){let r=JSON.parse(e);if(r&&typeof r=="object"&&"id"in r){let n=this.#e.get(r.id);if(n==null){this.emit("error",Pr("received result for unknown id","UNKNOWN_ERROR",{reasonCode:"UNKNOWN_ID",result:r}));return}this.#e.delete(r.id),n.resolve(r)}else if(r&&r.method==="eth_subscription"){let n=r.params.subscription,i=this.#t.get(n);if(i)i._handleMessage(r.params.result);else{let o=this.#r.get(n);o==null&&(o=[],this.#r.set(n,o)),o.push(r.params.result)}}else{this.emit("error",Pr("received unexpected message","UNKNOWN_ERROR",{reasonCode:"UNEXPECTED_MESSAGE",result:r}));return}}async _write(e){throw new Error("sub-classes must override this")}};var Ug=class extends $g{#e;#t;get websocket(){if(this.#t==null)throw new Error("websocket closed");return this.#t}constructor(e,r,n){super(r,n),typeof e=="string"?(this.#e=()=>new PG.default(e),this.#t=this.#e()):typeof e=="function"?(this.#e=e,this.#t=e()):(this.#e=null,this.#t=e),this.websocket.onopen=async()=>{try{await this._start(),this.resume()}catch(i){console.log("failed to start WebsocketProvider",i)}},this.websocket.onmessage=i=>{this._processMessage(i.data)}}async _write(e){this.websocket.send(e)}async destroy(){this.#t!=null&&(this.#t.close(),this.#t=null),super.destroy()}};var N9="84842078b09946638c03157f83405213";function O0r(t){switch(t){case"mainnet":return"mainnet.infura.io";case"goerli":return"goerli.infura.io";case"sepolia":return"sepolia.infura.io";case"arbitrum":return"arbitrum-mainnet.infura.io";case"arbitrum-goerli":return"arbitrum-goerli.infura.io";case"arbitrum-sepolia":return"arbitrum-sepolia.infura.io";case"base":return"base-mainnet.infura.io";case"base-goerlia":case"base-goerli":return"base-goerli.infura.io";case"base-sepolia":return"base-sepolia.infura.io";case"bnb":return"bsc-mainnet.infura.io";case"bnbt":return"bsc-testnet.infura.io";case"linea":return"linea-mainnet.infura.io";case"linea-goerli":return"linea-goerli.infura.io";case"linea-sepolia":return"linea-sepolia.infura.io";case"matic":return"polygon-mainnet.infura.io";case"matic-amoy":return"polygon-amoy.infura.io";case"matic-mumbai":return"polygon-mumbai.infura.io";case"optimism":return"optimism-mainnet.infura.io";case"optimism-goerli":return"optimism-goerli.infura.io";case"optimism-sepolia":return"optimism-sepolia.infura.io"}K(!1,"unsupported network","network",t)}var P4=class extends Ug{projectId;projectSecret;constructor(e,r){let n=new rb(e,r),i=n._getConnection();le(!i.credentials,"INFURA WebSocket project secrets unsupported","UNSUPPORTED_OPERATION",{operation:"InfuraProvider.getWebSocketProvider()"});let o=i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(o,n._network),Be(this,{projectId:n.projectId,projectSecret:n.projectSecret})}isCommunityResource(){return this.projectId===N9}},rb=class t extends li{projectId;projectSecret;constructor(e,r,n){e==null&&(e="mainnet");let i=Lr.from(e);r==null&&(r=N9),n==null&&(n=null);let o=t.getRequest(i,r,n);super(o,i,{staticNetwork:i}),Be(this,{projectId:r,projectSecret:n})}_getProvider(e){try{return new t(e,this.projectId,this.projectSecret)}catch{}return super._getProvider(e)}isCommunityResource(){return this.projectId===N9}static getWebSocketProvider(e,r){return new P4(e,r)}static getRequest(e,r,n){r==null&&(r=N9),n==null&&(n=null);let i=new dn(`https://${O0r(e.name)}/v3/${r}`);return i.allowGzip=!0,n&&i.setCredentials("",n),r===N9&&(i.retryFunc=async(o,s,a)=>(Vs("InfuraProvider"),!0)),i}};var kG="919b412a057b5e9c9b6dce193c5a60242d6efadb";function P0r(t){switch(t){case"mainnet":return"ethers.quiknode.pro";case"goerli":return"ethers.ethereum-goerli.quiknode.pro";case"sepolia":return"ethers.ethereum-sepolia.quiknode.pro";case"holesky":return"ethers.ethereum-holesky.quiknode.pro";case"arbitrum":return"ethers.arbitrum-mainnet.quiknode.pro";case"arbitrum-goerli":return"ethers.arbitrum-goerli.quiknode.pro";case"arbitrum-sepolia":return"ethers.arbitrum-sepolia.quiknode.pro";case"base":return"ethers.base-mainnet.quiknode.pro";case"base-goerli":return"ethers.base-goerli.quiknode.pro";case"base-spolia":return"ethers.base-sepolia.quiknode.pro";case"bnb":return"ethers.bsc.quiknode.pro";case"bnbt":return"ethers.bsc-testnet.quiknode.pro";case"matic":return"ethers.matic.quiknode.pro";case"matic-mumbai":return"ethers.matic-testnet.quiknode.pro";case"optimism":return"ethers.optimism.quiknode.pro";case"optimism-goerli":return"ethers.optimism-goerli.quiknode.pro";case"optimism-sepolia":return"ethers.optimism-sepolia.quiknode.pro";case"xdai":return"ethers.xdai.quiknode.pro"}K(!1,"unsupported network","network",t)}var R2=class t extends li{token;constructor(e,r){e==null&&(e="mainnet");let n=Lr.from(e);r==null&&(r=kG);let i=t.getRequest(n,r);super(i,n,{staticNetwork:n}),Be(this,{token:r})}_getProvider(e){try{return new t(e,this.token)}catch{}return super._getProvider(e)}isCommunityResource(){return this.token===kG}static getRequest(e,r){r==null&&(r=kG);let n=new dn(`https://${P0r(e.name)}/${r}`);return n.allowGzip=!0,r===kG&&(n.retryFunc=async(i,o,s)=>(Vs("QuickNodeProvider"),!0)),n}};var k0r=BigInt("1"),D0r=BigInt("2");function M0r(t){for(let e=t.length-1;e>0;e--){let r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}}function L0r(t){return new Promise(e=>{setTimeout(e,t)})}function vve(){return new Date().getTime()}function gve(t){return JSON.stringify(t,(e,r)=>typeof r=="bigint"?{type:"bigint",value:r.toString()}:r)}var y0t={stallTimeout:400,priority:1,weight:1},b0t={blockNumber:-2,requests:0,lateResponses:0,errorResponses:0,outOfSync:-1,unsupportedEvents:0,rollingDuration:0,score:0,_network:null,_updateNumber:null,_totalTime:0,_lastFatalError:null,_lastFatalErrorTimestamp:0};async function B0r(t,e){for(;(t.blockNumber<0||t.blockNumber<e)&&(t._updateNumber||(t._updateNumber=(async()=>{try{let r=await t.provider.getBlockNumber();r>t.blockNumber&&(t.blockNumber=r)}catch(r){t.blockNumber=-2,t._lastFatalError=r,t._lastFatalErrorTimestamp=vve()}t._updateNumber=null})()),await t._updateNumber,t.outOfSync++,!t._lastFatalError););}function k4(t){if(t==null)return"null";if(Array.isArray(t))return"["+t.map(k4).join(",")+"]";if(typeof t=="object"&&typeof t.toJSON=="function")return k4(t.toJSON());switch(typeof t){case"boolean":case"symbol":return t.toString();case"bigint":case"number":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{let e=Object.keys(t);return e.sort(),"{"+e.map(r=>`${JSON.stringify(r)}:${k4(t[r])}`).join(",")+"}"}}throw console.log("Could not serialize",t),new Error("Hmm...")}function yve(t,e){if("error"in e){let n=e.error,i;return on(n,"CALL_EXCEPTION")?i=k4(Object.assign({},n,{shortMessage:void 0,reason:void 0,info:void 0})):i=k4(n),{tag:i,value:n}}let r=e.result;return{tag:k4(r),value:r}}function DG(t,e){let r=new Map;for(let{value:i,tag:o,weight:s}of e){let a=r.get(o)||{value:i,weight:0};a.weight+=s,r.set(o,a)}let n=null;for(let i of r.values())i.weight>=t&&(!n||i.weight>n.weight)&&(n=i);if(n)return n.value}function _ve(t,e){let r=0,n=new Map,i=null,o=[];for(let{value:a,tag:c,weight:l}of e)if(a instanceof Error){let u=n.get(c)||{value:a,weight:0};u.weight+=l,n.set(c,u),(i==null||u.weight>i.weight)&&(i=u)}else o.push(BigInt(a)),r+=l;if(r<t)return i&&i.weight>=t?i.value:void 0;o.sort((a,c)=>a<c?-1:c>a?1:0);let s=Math.floor(o.length/2);return o.length%2?o[s]:(o[s-1]+o[s]+k0r)/D0r}function bve(t,e){let r=DG(t,e);if(r!==void 0)return r;for(let n of e)if(n.value)return n.value}function $0r(t,e){if(t===1)return It(_ve(t,e),"%internal");let r=new Map,n=(s,a)=>{let c=r.get(s)||{result:s,weight:0};c.weight+=a,r.set(s,c)};for(let{weight:s,value:a}of e){let c=It(a);n(c-1,s),n(c,s),n(c+1,s)}let i=0,o;for(let{weight:s,result:a}of r.values())s>=t&&(s>i||o!=null&&s===i&&a>o)&&(i=s,o=a);return o}var I2=class extends _d{quorum;eventQuorum;eventWorkers;#e;#t;#r;constructor(e,r,n){super(r,n),this.#e=e.map(i=>i instanceof _d?Object.assign({provider:i},y0t,b0t):Object.assign({},y0t,i,b0t)),this.#t=-2,this.#r=null,n&&n.quorum!=null?this.quorum=n.quorum:this.quorum=Math.ceil(this.#e.reduce((i,o)=>(i+=o.weight,i),0)/2),this.eventQuorum=1,this.eventWorkers=1,K(this.quorum<=this.#e.reduce((i,o)=>i+o.weight,0),"quorum exceed provider weight","quorum",this.quorum)}get providerConfigs(){return this.#e.map(e=>{let r=Object.assign({},e);for(let n in r)n[0]==="_"&&delete r[n];return r})}async _detectNetwork(){return Lr.from(Ze(await this._perform({method:"chainId"})))}async _translatePerform(e,r){switch(r.method){case"broadcastTransaction":return await e.broadcastTransaction(r.signedTransaction);case"call":return await e.call(Object.assign({},r.transaction,{blockTag:r.blockTag}));case"chainId":return(await e.getNetwork()).chainId;case"estimateGas":return await e.estimateGas(r.transaction);case"getBalance":return await e.getBalance(r.address,r.blockTag);case"getBlock":{let n="blockHash"in r?r.blockHash:r.blockTag;return await e.getBlock(n,r.includeTransactions)}case"getBlockNumber":return await e.getBlockNumber();case"getCode":return await e.getCode(r.address,r.blockTag);case"getGasPrice":return(await e.getFeeData()).gasPrice;case"getPriorityFee":return(await e.getFeeData()).maxPriorityFeePerGas;case"getLogs":return await e.getLogs(r.filter);case"getStorage":return await e.getStorage(r.address,r.position,r.blockTag);case"getTransaction":return await e.getTransaction(r.hash);case"getTransactionCount":return await e.getTransactionCount(r.address,r.blockTag);case"getTransactionReceipt":return await e.getTransactionReceipt(r.hash);case"getTransactionResult":return await e.getTransactionResult(r.hash)}}#n(e){let r=Array.from(e).map(i=>i.config),n=this.#e.slice();M0r(n),n.sort((i,o)=>i.priority-o.priority);for(let i of n)if(!i._lastFatalError&&r.indexOf(i)===-1)return i;return null}#i(e,r){let n=this.#n(e);if(n==null)return null;let i={config:n,result:null,didBump:!1,perform:null,staller:null},o=vve();return i.perform=(async()=>{try{n.requests++;let a=await this._translatePerform(n.provider,r);i.result={result:a}}catch(a){n.errorResponses++,i.result={error:a}}let s=vve()-o;n._totalTime+=s,n.rollingDuration=.95*n.rollingDuration+.05*s,i.perform=null})(),i.staller=(async()=>{await L0r(n.stallTimeout),i.staller=null})(),e.add(i),i}async#o(){let e=this.#r;if(!e){let r=[];this.#e.forEach(n=>{r.push((async()=>{await B0r(n,0),n._lastFatalError||(n._network=await n.provider.getNetwork())})())}),this.#r=e=(async()=>{await Promise.all(r);let n=null;for(let i of this.#e){if(i._lastFatalError)continue;let o=i._network;n==null?n=o.chainId:o.chainId!==n&&le(!1,"cannot mix providers on different networks","UNSUPPORTED_OPERATION",{operation:"new FallbackProvider"})}})()}await e}async#s(e,r){let n=[];for(let i of e)if(i.result!=null){let{tag:o,value:s}=yve(r.method,i.result);n.push({tag:o,value:s,weight:i.config.weight})}if(!(n.reduce((i,o)=>i+o.weight,0)<this.quorum)){switch(r.method){case"getBlockNumber":{this.#t===-2&&(this.#t=Math.ceil(It(_ve(this.quorum,this.#e.filter(o=>!o._lastFatalError).map(o=>({value:o.blockNumber,tag:It(o.blockNumber).toString(),weight:o.weight}))))));let i=$0r(this.quorum,n);return i===void 0?void 0:(i>this.#t&&(this.#t=i),this.#t)}case"getGasPrice":case"getPriorityFee":case"estimateGas":return _ve(this.quorum,n);case"getBlock":return"blockTag"in r&&r.blockTag==="pending"?bve(this.quorum,n):DG(this.quorum,n);case"call":case"chainId":case"getBalance":case"getTransactionCount":case"getCode":case"getStorage":case"getTransaction":case"getTransactionReceipt":case"getLogs":return DG(this.quorum,n);case"broadcastTransaction":return bve(this.quorum,n)}le(!1,"unsupported method","UNSUPPORTED_OPERATION",{operation:`_perform(${gve(r.method)})`})}}async#a(e,r){if(e.size===0)throw new Error("no runners?!");let n=[],i=0;for(let s of e){if(s.perform&&n.push(s.perform),s.staller){n.push(s.staller);continue}s.didBump||(s.didBump=!0,i++)}let o=await this.#s(e,r);if(o!==void 0){if(o instanceof Error)throw o;return o}for(let s=0;s<i;s++)this.#i(e,r);return le(n.length>0,"quorum not met","SERVER_ERROR",{request:"%sub-requests",info:{request:r,results:Array.from(e).map(s=>gve(s.result))}}),await Promise.race(n),await this.#a(e,r)}async _perform(e){if(e.method==="broadcastTransaction"){let o=this.#e.map(c=>null),s=this.#e.map(async({provider:c,weight:l},u)=>{try{let d=await c._perform(e);o[u]=Object.assign(yve(e.method,{result:d}),{weight:l})}catch(d){o[u]=Object.assign(yve(e.method,{error:d}),{weight:l})}});for(;;){let c=o.filter(d=>d!=null);for(let{value:d}of c)if(!(d instanceof Error))return d;let l=DG(this.quorum,o.filter(d=>d!=null));if(on(l,"INSUFFICIENT_FUNDS"))throw l;let u=s.filter((d,p)=>o[p]==null);if(u.length===0)break;await Promise.race(u)}let a=bve(this.quorum,o);if(le(a!==void 0,"problem multi-broadcasting","SERVER_ERROR",{request:"%sub-requests",info:{request:e,results:o.map(gve)}}),a instanceof Error)throw a;return a}await this.#o();let r=new Set,n=0;for(;;){let o=this.#i(r,e);if(o==null||(n+=o.config.weight,n>=this.quorum))break}let i=await this.#a(r,e);for(let o of r)o.perform&&o.result==null&&o.config.lateResponses++;return i}async destroy(){for(let{provider:e}of this.#e)e.destroy();super.destroy()}};function U0r(t){return t&&typeof t.send=="function"&&typeof t.close=="function"}var F0r="goerli kovan sepolia classicKotti optimism-goerli arbitrum-goerli matic-mumbai bnbt".split(" ");function Sve(t,e){e==null&&(e={});let r=s=>e[s]==="-"?!1:typeof e.exclusive=="string"?s===e.exclusive:Array.isArray(e.exclusive)?e.exclusive.indexOf(s)!==-1:!0;if(typeof t=="string"&&t.match(/^https?:/))return new li(t);if(typeof t=="string"&&t.match(/^wss?:/)||U0r(t))return new Ug(t);let n=null;try{n=Lr.from(t)}catch{}let i=[];if(r("publicPolygon")&&n&&(n.name==="matic"?i.push(new li("https://polygon-rpc.com/",n,{staticNetwork:n})):n.name==="matic-amoy"&&i.push(new li("https://rpc-amoy.polygon.technology/",n,{staticNetwork:n}))),r("alchemy"))try{i.push(new v2(t,e.alchemy))}catch{}if(r("ankr")&&e.ankr!=null)try{i.push(new b2(t,e.ankr))}catch{}if(r("chainstack"))try{i.push(new _2(t,e.chainstack))}catch{}if(r("cloudflare"))try{i.push(new S2(t))}catch{}if(r("etherscan"))try{i.push(new x2(t,e.etherscan))}catch{}if(r("infura"))try{let s=e.infura,a;typeof s=="object"&&(a=s.projectSecret,s=s.projectId),i.push(new rb(t,s,a))}catch{}if(r("quicknode"))try{let s=e.quicknode;i.push(new R2(t,s))}catch{}if(le(i.length,"unsupported default network","UNSUPPORTED_OPERATION",{operation:"getDefaultProvider"}),i.length===1)return i[0];let o=Math.floor(i.length/2);return o>2&&(o=2),n&&F0r.indexOf(n.name)!==-1&&(o=1),e&&e.quorum&&(o=e.quorum),new I2(i,void 0,{quorum:o})}var O9=class t extends Sd{signer;#e;#t;constructor(e){super(e.provider),Be(this,{signer:e}),this.#e=null,this.#t=0}async getAddress(){return this.signer.getAddress()}connect(e){return new t(this.signer.connect(e))}async getNonce(e){if(e==="pending"){this.#e==null&&(this.#e=super.getNonce("pending"));let r=this.#t;return await this.#e+r}return super.getNonce(e)}increment(){this.#t++}reset(){this.#t=0,this.#e=null}async sendTransaction(e){let r=this.getNonce("pending");return this.increment(),e=await this.signer.populateTransaction(e),e.nonce=await r,await this.signer.sendTransaction(e)}signTransaction(e){return this.signer.signTransaction(e)}signMessage(e){return this.signer.signMessage(e)}signTypedData(e,r,n){return this.signer.signTypedData(e,r,n)}};var P9=class t extends b9{#e;#t;constructor(e,r,n){let i=Object.assign({},n??{},{batchMaxCount:1});K(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(r,i),this.#t=null,n&&n.providerInfo&&(this.#t=n.providerInfo),this.#e=async(o,s)=>{let a={method:o,params:s};this.emit("debug",{action:"sendEip1193Request",payload:a});try{let c=await e.request(a);return this.emit("debug",{action:"receiveEip1193Result",result:c}),c}catch(c){let l=new Error(c.message);throw l.code=c.code,l.data=c.data,l.payload=a,this.emit("debug",{action:"receiveEip1193Error",error:l}),l}}}get providerInfo(){return this.#t}async send(e,r){return await this._start(),await super.send(e,r)}async _send(e){K(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{let r=await this.#e(e.method,e.params||[]);return[{id:e.id,result:r}]}catch(r){return[{id:e.id,error:{code:r.code,data:r.data,message:r.message}}]}}getRpcError(e,r){switch(r=JSON.parse(JSON.stringify(r)),r.error.code||-1){case 4001:r.error.message=`ethers-user-denied: ${r.error.message}`;break;case 4200:r.error.message=`ethers-unsupported: ${r.error.message}`;break}return super.getRpcError(e,r)}async hasSigner(e){e==null&&(e=0);let r=await this.send("eth_accounts",[]);return typeof e=="number"?r.length>e:(e=e.toLowerCase(),r.filter(n=>n.toLowerCase()===e).length!==0)}async getSigner(e){if(e==null&&(e=0),!await this.hasSigner(e))try{await this.#e("eth_requestAccounts",[])}catch(r){let n=r.payload;throw this.getRpcError(n,{id:n.id,error:r})}return await super.getSigner(e)}static async discover(e){if(e==null&&(e={}),e.provider)return new t(e.provider);let r=e.window?e.window:typeof window<"u"?window:null;if(r==null)return null;let n=e.anyProvider;if(n&&r.ethereum)return new t(r.ethereum);if(!("addEventListener"in r&&"dispatchEvent"in r&&"removeEventListener"in r))return null;let i=e.timeout?e.timeout:300;return i===0?null:await new Promise((o,s)=>{let a=[],c=d=>{a.push(d.detail),n&&l()},l=()=>{if(clearTimeout(u),a.length)if(e&&e.filter){let d=e.filter(a.map(p=>Object.assign({},p.info)));if(d==null)o(null);else if(d instanceof t)o(d);else{let p=null;if(d.uuid&&(p=a.filter(h=>d.uuid===h.info.uuid)[0]),p){let{provider:f,info:h}=p;o(new t(f,void 0,{providerInfo:h}))}else s(Pr("filter returned unknown info","UNSUPPORTED_OPERATION",{value:d}))}}else{let{provider:d,info:p}=a[0];o(new t(d,void 0,{providerInfo:p}))}else o(null);r.removeEventListener("eip6963:announceProvider",c)},u=setTimeout(()=>{l()},i);r.addEventListener("eip6963:announceProvider",c),r.dispatchEvent(new Event("eip6963:requestProvider"))})}};function z0r(t){switch(t){case"mainnet":return"https://eth.blockscout.com/api/eth-rpc";case"sepolia":return"https://eth-sepolia.blockscout.com/api/eth-rpc";case"holesky":return"https://eth-holesky.blockscout.com/api/eth-rpc";case"classic":return"https://etc.blockscout.com/api/eth-rpc";case"arbitrum":return"https://arbitrum.blockscout.com/api/eth-rpc";case"base":return"https://base.blockscout.com/api/eth-rpc";case"base-sepolia":return"https://base-sepolia.blockscout.com/api/eth-rpc";case"matic":return"https://polygon.blockscout.com/api/eth-rpc";case"optimism":return"https://optimism.blockscout.com/api/eth-rpc";case"optimism-sepolia":return"https://optimism-sepolia.blockscout.com/api/eth-rpc";case"xdai":return"https://gnosis.blockscout.com/api/eth-rpc"}K(!1,"unsupported network","network",t)}var k9=class t extends li{apiKey;constructor(e,r){e==null&&(e="mainnet");let n=Lr.from(e);r==null&&(r=null);let i=t.getRequest(n);super(i,n,{staticNetwork:n}),Be(this,{apiKey:r})}_getProvider(e){try{return new t(e,this.apiKey)}catch{}return super._getProvider(e)}isCommunityResource(){return this.apiKey===null}getRpcRequest(e){let r=super.getRpcRequest(e);return r&&r.method==="eth_estimateGas"&&r.args.length==1&&(r.args=r.args.slice(),r.args.push("latest")),r}getRpcError(e,r){let n=r?r.error:null;if(n&&n.code===-32015&&!Ar(n.data||"",!0)){let i={"assert(false)":"01","arithmetic underflow or overflow":"11","division or modulo by zero":"12","out-of-bounds array access; popping on an empty array":"31","out-of-bounds access of an array or bytesN":"32"},o="";n.message==="VM execution error."?o=i[n.data]||"":i[n.message||""]&&(o=i[n.message||""]),o&&(n.message+=` (reverted: ${n.data})`,n.data="0x4e487b7100000000000000000000000000000000000000000000000000000000000000"+o)}else n&&n.code===-32e3&&n.message==="wrong transaction nonce"&&(n.message+=" (nonce too low)");return super.getRpcError(e,r)}static getRequest(e){let r=new dn(z0r(e.name));return r.allowGzip=!0,r}};var MG="62e1ad51b37b8e00394bda3b";function H0r(t){switch(t){case"mainnet":return"eth-mainnet.gateway.pokt.network";case"goerli":return"eth-goerli.gateway.pokt.network";case"matic":return"poly-mainnet.gateway.pokt.network";case"matic-mumbai":return"polygon-mumbai-rpc.gateway.pokt.network"}K(!1,"unsupported network","network",t)}var D9=class t extends li{applicationId;applicationSecret;constructor(e,r,n){e==null&&(e="mainnet");let i=Lr.from(e);r==null&&(r=MG),n==null&&(n=null);let o={staticNetwork:i},s=t.getRequest(i,r,n);super(s,i,o),Be(this,{applicationId:r,applicationSecret:n})}_getProvider(e){try{return new t(e,this.applicationId,this.applicationSecret)}catch{}return super._getProvider(e)}static getRequest(e,r,n){r==null&&(r=MG);let i=new dn(`https://${H0r(e.name)}/v1/lb/${r}`);return i.allowGzip=!0,n&&i.setCredentials("",n),r===MG&&(i.retryFunc=async(o,s,a)=>(Vs("PocketProvider"),!0)),i}isCommunityResource(){return this.applicationId===MG}};import{connect as V0r}from"net";function G0r(t){let e=[],r=0;for(;;){let n=t.indexOf(10,r);if(n===-1)break;e.push(t.subarray(r,n).toString().trim()),r=n+1}return{messages:e,remaining:t.subarray(r)}}var M9=class extends $g{#e;get socket(){return this.#e}constructor(e,r,n){super(r,n),this.#e=V0r(e),this.socket.on("ready",async()=>{try{await this._start()}catch(o){console.log("failed to start IpcSocketProvider",o)}});let i=Buffer.alloc(0);this.socket.on("data",o=>{i=Buffer.concat([i,o]);let{messages:s,remaining:a}=G0r(i);s.forEach(c=>{this._processMessage(c)}),i=a}),this.socket.on("end",()=>{this.emit("close"),this.socket.destroy(),this.socket.end()})}destroy(){this.socket.destroy(),this.socket.end(),super.destroy()}async _write(e){e.endsWith(`
`)||(e+=`
`),this.socket.write(e)}};var Fg=class t extends Sd{address;#e;constructor(e,r){super(r),K(e&&typeof e.sign=="function","invalid private key","privateKey","[ REDACTED ]"),this.#e=e;let n=Pp(this.signingKey.publicKey);Be(this,{address:n})}get signingKey(){return this.#e}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(e){return new t(this.#e,e)}async signTransaction(e){e=vd(e);let{to:r,from:n}=await Vn({to:e.to?ei(e.to,this):void 0,from:e.from?ei(e.from,this):void 0});r!=null&&(e.to=r),n!=null&&(e.from=n),e.from!=null&&(K(kt(e.from)===this.address,"transaction from address mismatch","tx.from",e.from),delete e.from);let i=kl.from(e);return i.signature=this.signingKey.sign(i.unsignedHash),i.serialized}async signMessage(e){return this.signMessageSync(e)}signMessageSync(e){return this.signingKey.sign(g4(e)).serialized}authorizeSync(e){K(typeof e.address=="string","invalid address for authorizeSync","auth.address",e);let r=this.signingKey.sign(d4(e));return Object.assign({},{address:kt(e.address),nonce:Ze(e.nonce||0),chainId:Ze(e.chainId||0)},{signature:r})}async authorize(e){return e=Object.assign({},e,{address:await ei(e.address,this)}),this.authorizeSync(await this.populateAuthorization(e))}async signTypedData(e,r,n){let i=await yd.resolveNames(e,r,n,async o=>{le(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:o}});let s=await this.provider.resolveName(o);return le(s!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:o}),s});return this.signingKey.sign(yd.hash(i.domain,r,i.value)).serialized}};var LG=" !#$%&'()*+,-./<=>?@[]^_`{|}~",j0r=/^[a-z]*$/i;function v0t(t,e){let r=97;return t.reduce((n,i)=>(i===e?r++:i.match(j0r)?n.push(String.fromCharCode(r)+i):(r=97,n.push(i)),n),[])}function q0r(t,e){for(let i=LG.length-1;i>=0;i--)t=t.split(LG[i]).join(e.substring(2*i,2*i+2));let r=[],n=t.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(i,o,s,a)=>{if(s)for(let c=parseInt(s);c>=0;c--)r.push(";");else r.push(o.toLowerCase());return""});if(n)throw new Error(`leftovers: ${JSON.stringify(n)}`);return v0t(v0t(r,";"),":")}function BG(t){return K(t[0]==="0","unsupported auwl data","data",t),q0r(t.substring(1+2*LG.length),t.substring(1,1+2*LG.length))}var Bl=class{locale;constructor(e){Be(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}};var Xa=class extends Bl{#e;#t;constructor(e,r,n){super(e),this.#e=r,this.#t=n,this.#r=null}get _data(){return this.#e}_decodeWords(){return BG(this.#e)}#r;#n(){if(this.#r==null){let e=this._decodeWords();if(ki(e.join(`
`)+`
`)!==this.#t)throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);this.#r=e}return this.#r}getWord(e){let r=this.#n();return K(e>=0&&e<r.length,`invalid word index: ${e}`,"index",e),r[e]}getWordIndex(e){return this.#n().indexOf(e)}};var W0r="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",J0r="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60",xve=null,Qc=class t extends Xa{constructor(){super("en",W0r,J0r)}static wordlist(){return xve==null&&(xve=new t),xve}};function _0t(t){return(1<<t)-1<<8-t&255}function K0r(t){return(1<<t)-1&255}function wve(t,e){GS("NFKD"),e==null&&(e=Qc.wordlist());let r=e.split(t);K(r.length%3===0&&r.length>=12&&r.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");let n=new Uint8Array(Math.ceil(11*r.length/8)),i=0;for(let l=0;l<r.length;l++){let u=e.getWordIndex(r[l].normalize("NFKD"));K(u>=0,`invalid mnemonic word at index ${l}`,"mnemonic","[ REDACTED ]");for(let d=0;d<11;d++)u&1<<10-d&&(n[i>>3]|=1<<7-i%8),i++}let o=32*r.length/3,s=r.length/3,a=_0t(s),c=Ne(co(n.slice(0,o/8)))[0]&a;return K(c===(n[n.length-1]&a),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),xe(n.slice(0,o/8))}function Ave(t,e){K(t.length%4===0&&t.length>=16&&t.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),e==null&&(e=Qc.wordlist());let r=[0],n=11;for(let s=0;s<t.length;s++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[s],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[s]>>8-n,r.push(t[s]&K0r(8-n)),n+=3);let i=t.length/4,o=parseInt(co(t).substring(2,4),16)&_0t(i);return r[r.length-1]<<=i,r[r.length-1]|=o>>8-i,e.join(r.map(s=>e.getWord(s)))}var Eve={},pm=class t{phrase;password;wordlist;entropy;constructor(e,r,n,i,o){i==null&&(i=""),o==null&&(o=Qc.wordlist()),$s(e,Eve,"Mnemonic"),Be(this,{phrase:n,password:i,wordlist:o,entropy:r})}computeSeed(){let e=Yr("mnemonic"+this.password,"NFKD");return Ja(Yr(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,r,n){let i=wve(e,n);return e=Ave(Ne(i),n),new t(Eve,i,e,r,n)}static fromEntropy(e,r,n){let i=Ne(e,"entropy"),o=Ave(i,n);return new t(Eve,xe(i),o,r,n)}static entropyToPhrase(e,r){let n=Ne(e,"entropy");return Ave(n,r)}static phraseToEntropy(e,r){return wve(e,r)}static isValidMnemonic(e,r){try{return wve(e,r),!0}catch{}return!1}};var Gs=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Tve=function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},UG,Ad,fm,Q0r={16:10,24:12,32:14},X0r=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],wd=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],$G=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],Y0r=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],Z0r=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],e1r=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],t1r=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],r1r=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],n1r=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],i1r=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],o1r=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],s1r=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],a1r=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],c1r=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],l1r=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function Rve(t){let e=[];for(let r=0;r<t.length;r+=4)e.push(t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3]);return e}var L9=class t{get key(){return Gs(this,UG,"f").slice()}constructor(e){if(UG.set(this,void 0),Ad.set(this,void 0),fm.set(this,void 0),!(this instanceof t))throw Error("AES must be instanitated with `new`");Tve(this,UG,new Uint8Array(e),"f");let r=Q0r[this.key.length];if(r==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");Tve(this,fm,[],"f"),Tve(this,Ad,[],"f");for(let u=0;u<=r;u++)Gs(this,fm,"f").push([0,0,0,0]),Gs(this,Ad,"f").push([0,0,0,0]);let n=(r+1)*4,i=this.key.length/4,o=Rve(this.key),s;for(let u=0;u<i;u++)s=u>>2,Gs(this,fm,"f")[s][u%4]=o[u],Gs(this,Ad,"f")[r-s][u%4]=o[u];let a=0,c=i,l;for(;c<n;){if(l=o[i-1],o[0]^=wd[l>>16&255]<<24^wd[l>>8&255]<<16^wd[l&255]<<8^wd[l>>24&255]^X0r[a]<<24,a+=1,i!=8)for(let f=1;f<i;f++)o[f]^=o[f-1];else{for(let f=1;f<i/2;f++)o[f]^=o[f-1];l=o[i/2-1],o[i/2]^=wd[l&255]^wd[l>>8&255]<<8^wd[l>>16&255]<<16^wd[l>>24&255]<<24;for(let f=i/2+1;f<i;f++)o[f]^=o[f-1]}let u=0,d,p;for(;u<i&&c<n;)d=c>>2,p=c%4,Gs(this,fm,"f")[d][p]=o[u],Gs(this,Ad,"f")[r-d][p]=o[u++],c++}for(let u=1;u<r;u++)for(let d=0;d<4;d++)l=Gs(this,Ad,"f")[u][d],Gs(this,Ad,"f")[u][d]=s1r[l>>24&255]^a1r[l>>16&255]^c1r[l>>8&255]^l1r[l&255]}encrypt(e){if(e.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");let r=Gs(this,fm,"f").length-1,n=[0,0,0,0],i=Rve(e);for(let a=0;a<4;a++)i[a]^=Gs(this,fm,"f")[0][a];for(let a=1;a<r;a++){for(let c=0;c<4;c++)n[c]=Y0r[i[c]>>24&255]^Z0r[i[(c+1)%4]>>16&255]^e1r[i[(c+2)%4]>>8&255]^t1r[i[(c+3)%4]&255]^Gs(this,fm,"f")[a][c];i=n.slice()}let o=new Uint8Array(16),s=0;for(let a=0;a<4;a++)s=Gs(this,fm,"f")[r][a],o[4*a]=(wd[i[a]>>24&255]^s>>24)&255,o[4*a+1]=(wd[i[(a+1)%4]>>16&255]^s>>16)&255,o[4*a+2]=(wd[i[(a+2)%4]>>8&255]^s>>8)&255,o[4*a+3]=(wd[i[(a+3)%4]&255]^s)&255;return o}decrypt(e){if(e.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");let r=Gs(this,Ad,"f").length-1,n=[0,0,0,0],i=Rve(e);for(let a=0;a<4;a++)i[a]^=Gs(this,Ad,"f")[0][a];for(let a=1;a<r;a++){for(let c=0;c<4;c++)n[c]=r1r[i[c]>>24&255]^n1r[i[(c+3)%4]>>16&255]^i1r[i[(c+2)%4]>>8&255]^o1r[i[(c+1)%4]&255]^Gs(this,Ad,"f")[a][c];i=n.slice()}let o=new Uint8Array(16),s=0;for(let a=0;a<4;a++)s=Gs(this,Ad,"f")[r][a],o[4*a]=($G[i[a]>>24&255]^s>>24)&255,o[4*a+1]=($G[i[(a+3)%4]>>16&255]^s>>16)&255,o[4*a+2]=($G[i[(a+2)%4]>>8&255]^s>>8)&255,o[4*a+3]=($G[i[(a+1)%4]&255]^s)&255;return o}};UG=new WeakMap,Ad=new WeakMap,fm=new WeakMap;var mm=class{constructor(e,r,n){if(n&&!(this instanceof n))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new L9(r)},name:{enumerable:!0,value:e}})}};var FG=function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},D4=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},B9,zg,$9=class t extends mm{constructor(e,r){if(super("ECC",e,t),B9.set(this,void 0),zg.set(this,void 0),r){if(r.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");FG(this,B9,new Uint8Array(r),"f")}else FG(this,B9,new Uint8Array(16),"f");FG(this,zg,this.iv,"f")}get iv(){return new Uint8Array(D4(this,B9,"f"))}encrypt(e){if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");let r=new Uint8Array(e.length);for(let n=0;n<e.length;n+=16){for(let i=0;i<16;i++)D4(this,zg,"f")[i]^=e[n+i];FG(this,zg,this.aes.encrypt(D4(this,zg,"f")),"f"),r.set(D4(this,zg,"f"),n)}return r}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");let r=new Uint8Array(e.length);for(let n=0;n<e.length;n+=16){let i=this.aes.decrypt(e.subarray(n,n+16));for(let o=0;o<16;o++)r[n+o]=i[o]^D4(this,zg,"f")[o],D4(this,zg,"f")[o]=e[n+o]}return r}};B9=new WeakMap,zg=new WeakMap;var Ive=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},u1r,d1r,zG,p1r;d1r=new WeakMap,zG=new WeakMap,u1r=new WeakSet,p1r=function(e){let r=this.segmentSize/8;Ive(this,zG,"f").set(Ive(this,zG,"f").subarray(r)),Ive(this,zG,"f").set(e.subarray(0,r),16-r)};var M4=function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Ed=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},U9,C2,Td,nb=class t extends mm{constructor(e,r){super("CTR",e,t),U9.set(this,void 0),C2.set(this,void 0),Td.set(this,void 0),M4(this,Td,new Uint8Array(16),"f"),Ed(this,Td,"f").fill(0),M4(this,U9,Ed(this,Td,"f"),"f"),M4(this,C2,16,"f"),r==null&&(r=1),typeof r=="number"?this.setCounterValue(r):this.setCounterBytes(r)}get counter(){return new Uint8Array(Ed(this,Td,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let r=15;r>=0;--r)Ed(this,Td,"f")[r]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(e.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");Ed(this,Td,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(Ed(this,Td,"f")[e]===255)Ed(this,Td,"f")[e]=0;else{Ed(this,Td,"f")[e]++;break}}encrypt(e){var r,n;let i=new Uint8Array(e);for(let o=0;o<i.length;o++)Ed(this,C2,"f")===16&&(M4(this,U9,this.aes.encrypt(Ed(this,Td,"f")),"f"),M4(this,C2,0,"f"),this.increment()),i[o]^=Ed(this,U9,"f")[M4(this,C2,(n=Ed(this,C2,"f"),r=n++,n),"f"),r];return i}decrypt(e){return this.encrypt(e)}};U9=new WeakMap,C2=new WeakMap,Td=new WeakMap;var f1r,m1r,h1r;f1r=new WeakMap,m1r=new WeakMap,h1r=new WeakMap;function Cve(t){if(t.length<16)throw new TypeError("PKCS#7 invalid length");let e=t[t.length-1];if(e>16)throw new TypeError("PKCS#7 padding byte out of range");let r=t.length-e;for(let n=0;n<e;n++)if(t[r+n]!==e)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array(t.subarray(0,r))}function Nve(t){return typeof t=="string"&&!t.startsWith("0x")&&(t="0x"+t),On(t)}function L4(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function N2(t){return typeof t=="string"?Yr(t,"NFKC"):On(t)}function Mi(t,e){let r=e.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);K(r!=null,"invalid path","path",e);let n=r[1],i=r[3],o=r[4]==="!",s=t;for(let a of n.toLowerCase().split(".")){if(Array.isArray(s)){if(!a.match(/^[0-9]+$/))break;s=s[parseInt(a)]}else if(typeof s=="object"){let c=null;for(let l in s)if(l.toLowerCase()===a){c=s[l];break}s=c}else s=null;if(s==null)break}if(K(!o||s!=null,"missing required value","path",n),i&&s!=null){if(i==="int"){if(typeof s=="string"&&s.match(/^-?[0-9]+$/))return parseInt(s);if(Number.isSafeInteger(s))return s}if(i==="number"&&typeof s=="string"&&s.match(/^-?[0-9.]*$/))return parseFloat(s);if(i==="data"&&typeof s=="string")return Nve(s);if(i==="array"&&Array.isArray(s)||i===typeof s)return s;K(!1,`wrong type found for ${i} `,"path",n)}return s}var x0t="m/44'/60'/0'/0/0";function B4(t){try{let e=JSON.parse(t);if((e.version!=null?parseInt(e.version):0)===3)return!0}catch{}return!1}function g1r(t,e,r){if(Mi(t,"crypto.cipher:string")==="aes-128-ctr"){let i=Mi(t,"crypto.cipherparams.iv:data!"),o=new nb(e,i);return xe(o.decrypt(r))}le(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}function HG(t,e){let r=Ne(e),n=Mi(t,"crypto.ciphertext:data!"),i=xe(vr(Kt([r.slice(16,32),n]))).substring(2);K(i===Mi(t,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");let o=g1r(t,r.slice(0,16),n),s=Pp(o);if(t.address){let l=t.address.toLowerCase();l.startsWith("0x")||(l="0x"+l),K(kt(l)===s,"keystore address/privateKey mismatch","address",t.address)}let a={address:s,privateKey:o};if(Mi(t,"x-ethers.version:string")==="0.1"){let l=r.slice(32,64),u=Mi(t,"x-ethers.mnemonicCiphertext:data!"),d=Mi(t,"x-ethers.mnemonicCounter:data!"),p=new nb(l,d);a.mnemonic={path:Mi(t,"x-ethers.path:string")||x0t,locale:Mi(t,"x-ethers.locale:string")||"en",entropy:xe(Ne(p.decrypt(u)))}}return a}function w0t(t){let e=Mi(t,"crypto.kdf:string");if(e&&typeof e=="string"){if(e.toLowerCase()==="scrypt"){let r=Mi(t,"crypto.kdfparams.salt:data!"),n=Mi(t,"crypto.kdfparams.n:int!"),i=Mi(t,"crypto.kdfparams.r:int!"),o=Mi(t,"crypto.kdfparams.p:int!");K(n>0&&(n&n-1)===0,"invalid kdf.N","kdf.N",n),K(i>0&&o>0,"invalid kdf","kdf",e);let s=Mi(t,"crypto.kdfparams.dklen:int!");return K(s===32,"invalid kdf.dklen","kdf.dflen",s),{name:"scrypt",salt:r,N:n,r:i,p:o,dkLen:64}}else if(e.toLowerCase()==="pbkdf2"){let r=Mi(t,"crypto.kdfparams.salt:data!"),n=Mi(t,"crypto.kdfparams.prf:string!"),i=n.split("-").pop();K(i==="sha256"||i==="sha512","invalid kdf.pdf","kdf.pdf",n);let o=Mi(t,"crypto.kdfparams.c:int!"),s=Mi(t,"crypto.kdfparams.dklen:int!");return K(s===32,"invalid kdf.dklen","kdf.dklen",s),{name:"pbkdf2",salt:r,count:o,dkLen:s,algorithm:i}}}K(!1,"unsupported key-derivation function","kdf",e)}function F9(t,e){let r=JSON.parse(t),n=N2(e),i=w0t(r);if(i.name==="pbkdf2"){let{salt:d,count:p,dkLen:f,algorithm:h}=i,m=Ja(n,d,p,f,h);return HG(r,m)}le(i.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:i});let{salt:o,N:s,r:a,p:c,dkLen:l}=i,u=Cp(n,o,s,a,c,l);return HG(r,u)}function S0t(t){return new Promise(e=>{setTimeout(()=>{e()},t)})}async function z9(t,e,r){let n=JSON.parse(t),i=N2(e),o=w0t(n);if(o.name==="pbkdf2"){r&&(r(0),await S0t(0));let{salt:p,count:f,dkLen:h,algorithm:m}=o,g=Ja(i,p,f,h,m);return r&&(r(1),await S0t(0)),HG(n,g)}le(o.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:o});let{salt:s,N:a,r:c,p:l,dkLen:u}=o,d=await Ip(i,s,a,c,l,u,r);return HG(n,d)}function A0t(t){let e=t.salt!=null?Ne(t.salt,"options.salt"):ba(32),r=1<<17,n=8,i=1;return t.scrypt&&(t.scrypt.N&&(r=t.scrypt.N),t.scrypt.r&&(n=t.scrypt.r),t.scrypt.p&&(i=t.scrypt.p)),K(typeof r=="number"&&r>0&&Number.isSafeInteger(r)&&(BigInt(r)&BigInt(r-1))===BigInt(0),"invalid scrypt N parameter","options.N",r),K(typeof n=="number"&&n>0&&Number.isSafeInteger(n),"invalid scrypt r parameter","options.r",n),K(typeof i=="number"&&i>0&&Number.isSafeInteger(i),"invalid scrypt p parameter","options.p",i),{name:"scrypt",dkLen:32,salt:e,N:r,r:n,p:i}}function E0t(t,e,r,n){let i=Ne(r.privateKey,"privateKey"),o=n.iv!=null?Ne(n.iv,"options.iv"):ba(16);K(o.length===16,"invalid options.iv length","options.iv",n.iv);let s=n.uuid!=null?Ne(n.uuid,"options.uuid"):ba(16);K(s.length===16,"invalid options.uuid length","options.uuid",n.iv);let a=t.slice(0,16),c=t.slice(16,32),l=new nb(a,o),u=Ne(l.encrypt(i)),d=vr(Kt([c,u])),p={address:r.address.substring(2).toLowerCase(),id:WO(s),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:xe(o).substring(2)},ciphertext:xe(u).substring(2),kdf:"scrypt",kdfparams:{salt:xe(e.salt).substring(2),n:e.N,dklen:32,p:e.p,r:e.r},mac:d.substring(2)}};if(r.mnemonic){let f=n.client!=null?n.client:`ethers/${KT}`,h=r.mnemonic.path||x0t,m=r.mnemonic.locale||"en",g=t.slice(32,64),y=Ne(r.mnemonic.entropy,"account.mnemonic.entropy"),v=ba(16),S=new nb(g,v),w=Ne(S.encrypt(y)),E=new Date,D="UTC--"+(E.getUTCFullYear()+"-"+L4(E.getUTCMonth()+1,2)+"-"+L4(E.getUTCDate(),2)+"T"+L4(E.getUTCHours(),2)+"-"+L4(E.getUTCMinutes(),2)+"-"+L4(E.getUTCSeconds(),2)+".0Z")+"--"+p.address;p["x-ethers"]={client:f,gethFilename:D,path:h,locale:m,mnemonicCounter:xe(v).substring(2),mnemonicCiphertext:xe(w).substring(2),version:"0.1"}}return JSON.stringify(p)}function O2(t,e,r){r==null&&(r={});let n=N2(e),i=A0t(r),o=Cp(n,i.salt,i.N,i.r,i.p,64);return E0t(Ne(o),i,t,r)}async function P2(t,e,r){r==null&&(r={});let n=N2(e),i=A0t(r),o=await Ip(n,i.salt,i.N,i.r,i.p,64,r.progressCallback);return E0t(Ne(o),i,t,r)}var $4="m/44'/60'/0'/0/0",y1r=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),gm=2147483648,b1r=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),v1r="0123456789abcdef";function VG(t,e){let r="";for(;t;)r=v1r[t%16]+r,t=Math.trunc(t/16);for(;r.length<e*2;)r="0"+r;return"0x"+r}function Ove(t){let e=Ne(t),r=Xr(co(co(e)),0,4),n=Kt([e,r]);return qS(n)}var hm={};function T0t(t,e,r,n){let i=new Uint8Array(37);t&gm?(le(n!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),i.set(Ne(n),1)):i.set(Ne(r));for(let s=24;s>=0;s-=8)i[33+(s>>3)]=t>>24-s&255;let o=Ne(Ap("sha512",e,i));return{IL:o.slice(0,32),IR:o.slice(32)}}function R0t(t,e){let r=e.split("/");K(r.length>0,"invalid path","path",e),r[0]==="m"&&(K(t.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${t.depth}`,"path",e),r.shift());let n=t;for(let i=0;i<r.length;i++){let o=r[i];if(o.match(/^[0-9]+'$/)){let s=parseInt(o.substring(0,o.length-1));K(s<gm,"invalid path index",`path[${i}]`,o),n=n.deriveChild(gm+s)}else if(o.match(/^[0-9]+$/)){let s=parseInt(o);K(s<gm,"invalid path index",`path[${i}]`,o),n=n.deriveChild(s)}else K(!1,"invalid path component",`path[${i}]`,o)}return n}var Hg=class t extends Fg{publicKey;fingerprint;parentFingerprint;mnemonic;chainCode;path;index;depth;constructor(e,r,n,i,o,s,a,c,l){super(r,l),$s(e,hm,"HDNodeWallet"),Be(this,{publicKey:r.compressedPublicKey});let u=Xr(Rp(co(this.publicKey)),0,4);Be(this,{parentFingerprint:n,fingerprint:u,chainCode:i,path:o,index:s,depth:a}),Be(this,{mnemonic:c})}connect(e){return new t(hm,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,e)}#e(){let e={address:this.address,privateKey:this.privateKey},r=this.mnemonic;return this.path&&r&&r.wordlist.locale==="en"&&r.password===""&&(e.mnemonic={path:this.path,locale:"en",entropy:r.entropy}),e}async encrypt(e,r){return await P2(this.#e(),e,{progressCallback:r})}encryptSync(e){return O2(this.#e(),e)}get extendedKey(){return le(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),Ove(Kt(["0x0488ADE4",VG(this.depth,1),this.parentFingerprint,VG(this.index,4),this.chainCode,Kt(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new k2(hm,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(e){let r=It(e,"index");K(r<=4294967295,"invalid index","index",r);let n=this.path;n&&(n+="/"+(r&~gm),r&gm&&(n+="'"));let{IR:i,IL:o}=T0t(r,this.chainCode,this.publicKey,this.privateKey),s=new Fs(fs((hd(o)+BigInt(this.privateKey))%b1r,32));return new t(hm,s,this.fingerprint,xe(i),n,r,this.depth+1,this.mnemonic,this.provider)}derivePath(e){return R0t(this,e)}static#t(e,r){K(vp(e),"invalid seed","seed","[REDACTED]");let n=Ne(e,"seed");K(n.length>=16&&n.length<=64,"invalid seed","seed","[REDACTED]");let i=Ne(Ap("sha512",y1r,n)),o=new Fs(xe(i.slice(0,32)));return new t(hm,o,"0x00000000",xe(i.slice(32)),"m",0,0,r,null)}static fromExtendedKey(e){let r=Qr(VO(e));K(r.length===82||Ove(r.slice(0,78))===e,"invalid extended key","extendedKey","[ REDACTED ]");let n=r[4],i=xe(r.slice(5,9)),o=parseInt(xe(r.slice(9,13)).substring(2),16),s=xe(r.slice(13,45)),a=r.slice(45,78);switch(xe(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":{let c=xe(a);return new k2(hm,Pp(c),c,i,s,null,o,n,null)}case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new t(hm,new Fs(a.slice(1)),i,s,null,o,n,null,null)}K(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(e,r,n){e==null&&(e=""),r==null&&(r=$4),n==null&&(n=Qc.wordlist());let i=pm.fromEntropy(ba(16),e,n);return t.#t(i.computeSeed(),i).derivePath(r)}static fromMnemonic(e,r){return r||(r=$4),t.#t(e.computeSeed(),e).derivePath(r)}static fromPhrase(e,r,n,i){r==null&&(r=""),n==null&&(n=$4),i==null&&(i=Qc.wordlist());let o=pm.fromPhrase(e,r,i);return t.#t(o.computeSeed(),o).derivePath(n)}static fromSeed(e){return t.#t(e,null)}},k2=class t extends y2{publicKey;fingerprint;parentFingerprint;chainCode;path;index;depth;constructor(e,r,n,i,o,s,a,c,l){super(r,l),$s(e,hm,"HDNodeVoidWallet"),Be(this,{publicKey:n});let u=Xr(Rp(co(n)),0,4);Be(this,{publicKey:n,fingerprint:u,parentFingerprint:i,chainCode:o,path:s,index:a,depth:c})}connect(e){return new t(hm,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,e)}get extendedKey(){return le(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),Ove(Kt(["0x0488B21E",VG(this.depth,1),this.parentFingerprint,VG(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(e){let r=It(e,"index");K(r<=4294967295,"invalid index","index",r);let n=this.path;n&&(n+="/"+(r&~gm),r&gm&&(n+="'"));let{IR:i,IL:o}=T0t(r,this.chainCode,this.publicKey,null),s=Fs.addPoints(o,this.publicKey,!0),a=Pp(s);return new t(hm,a,s,this.fingerprint,xe(i),n,r,this.depth+1,this.provider)}derivePath(e){return R0t(this,e)}};function Pve(t){let e=It(t,"index");return K(e>=0&&e<gm,"invalid account index","index",e),`m/44'/60'/${e}'/0/0`}function kve(t){let e=It(t,"index");return K(e>=0&&e<gm,"invalid account index","index",e),`m/44'/60'/0'/0/${e}`}function U4(t){try{if(JSON.parse(t).encseed)return!0}catch{}return!1}function F4(t,e){let r=JSON.parse(t),n=N2(e),i=kt(Mi(r,"ethaddr:string!")),o=Nve(Mi(r,"encseed:string!"));K(o&&o.length%16===0,"invalid encseed","json",t);let s=Ne(Ja(n,n,2e3,32,"sha256")).slice(0,16),a=o.slice(0,16),c=o.slice(16),l=new $9(s,a),u=Cve(Ne(l.decrypt(c))),d="";for(let p=0;p<u.length;p++)d+=String.fromCharCode(u[p]);return{address:i,privateKey:ki(d)}}function I0t(t){return new Promise(e=>{setTimeout(()=>{e()},t)})}var H9=class t extends Fg{constructor(e,r){typeof e=="string"&&!e.startsWith("0x")&&(e="0x"+e);let n=typeof e=="string"?new Fs(e):e;super(n,r)}connect(e){return new t(this.signingKey,e)}async encrypt(e,r){let n={address:this.address,privateKey:this.privateKey};return await P2(n,e,{progressCallback:r})}encryptSync(e){let r={address:this.address,privateKey:this.privateKey};return O2(r,e)}static#e(e){if(K(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&e.mnemonic.locale==="en"){let n=pm.fromEntropy(e.mnemonic.entropy),i=Hg.fromMnemonic(n,e.mnemonic.path);if(i.address===e.address&&i.privateKey===e.privateKey)return i;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}let r=new t(e.privateKey);return K(r.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),r}static async fromEncryptedJson(e,r,n){let i=null;return B4(e)?i=await z9(e,r,n):U4(e)&&(n&&(n(0),await I0t(0)),i=F4(e,r),n&&(n(1),await I0t(0))),t.#e(i)}static fromEncryptedJsonSync(e,r){let n=null;return B4(e)?n=F9(e,r):U4(e)?n=F4(e,r):K(!1,"invalid JSON wallet","json","[ REDACTED ]"),t.#e(n)}static createRandom(e){let r=Hg.createRandom();return e?r.connect(e):r}static fromPhrase(e,r){let n=Hg.fromPhrase(e);return r?n.connect(r):n}};var _1r=")!@#$%^&*(ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_";function C0t(t,e){let r=(1<<t)-1,n=[],i=0,o=0,s=0;for(let a=0;a<e.length;a++)for(i=i<<6|_1r.indexOf(e[a]),o+=6;o>=t;){let c=i>>o-t;i&=(1<<o-t)-1,o-=t,c===0?s+=r:(n.push(c+s),s=0)}return n}function N0t(t,e){let r=BG(t).join(",");return e.split(/,/g).forEach(n=>{let i=n.match(/^([a-z]*)([0-9]+)([0-9])(.*)$/);K(i!==null,"internal error parsing accents","accents",e);let o=0,s=C0t(parseInt(i[3]),i[4]),a=parseInt(i[2]),c=new RegExp(`([${i[1]}])`,"g");r=r.replace(c,(l,u)=>(--s[o]===0&&(u=String.fromCharCode(u.charCodeAt(0),a),o++),u))}),r.split(",")}var Vg=class extends Xa{#e;constructor(e,r,n,i){super(e,r,i),this.#e=n}get _accent(){return this.#e}_decodeWords(){return N0t(this._data,this._accent)}};var S1r="0itatkastcenaovo$taouleraeki&chor*teci%enbalodaeladet'!Chn=0Di#%E%^1Resa2Rese3CeT'#0EjKohol0Pu)%0A&sDul#Ekdo)Ke)Ti#Ul|3}aOgan%0FaltI$@tPi,%TmaTronom0LasL{i#Ol0Tobus4Yl:B#}<CilCul#D!_Ge)GrHnoKterieLa^L{#LkonLon-LvanLzaMbusNkom!R[rR{RmanRokoRvaTer#TohVl&Zal#Zili#Zu#3D&RanSe^StieTonZin#ZmocZ)k3CyklD]Ft-KinyLan%Og,fO]gTvaZon2AhobytAt*/E/aEdu+EskIk!Iz&Ok|Oud Ud2B-BrDl.D~H!(JkotJ|K<ysLe$R>R'?TaUb_U/!U^U+Ur!Xer2A^v#Ambo,An#AtrEp)Ike)KoLohOnzOskevUn{#Usin#Z^Zy2Bl.Bn|})D _D#D'aF{Jar(Kv?LdokLvaN^NkrRzaTikVolZola3D+tL.T'#0Ukot:PartRev&3DrDu+J/JnLaLerLkemLn?N.Nn(N'#NtrumNz<StopisT#2AlupaAp`]Ar aA)E/t!EmieI/otIrurgL`Le[Lub M_Mu,ObotO/olOd[O+,Om=Op Oro[OvRapotRl RtRupTiv(Ud.Utn!V!Vil#V(Y[Y$!Yt 0Bu+Gare)H_&HlaNkotRkusSter&Ta%TrusZin>Z(2O&2KolivUv!4It_N(0Dn(Ke)KrPot0Ak~AlIkRkot2Kli$a:L-oRe[T_Tum1E,1B!a}'#Cib_Fic Fla%KlKr{Mokr!PreseRbyS#T-tiv3Kob,zKt|O^P]mSkSp+jV`]Vo/2AhaOuhoUhopis1Es0BroByt-C@t}ut DnesH+dHo^H,JemJn?Kl`KolaKt<Kum@tLarLevaL.MaM.ntMluv M'Nut P`PisPln PosudPr'odPu$ Raz R(RtSahSl'St!-SudSy)TazT-Tk~Uf!Utn!Voz%Z`uZn!Z<%2Aho)AkAm!ikAv>AzeDolObn(OgerieOzdSn(T Z(2B@}'noD-HaH'#S SnoT(0Oj?Or>2Nam :9O]gOnomie0EktronIpsa0AilIseO%P!ie2Izo^O/aOpejOs2EjEn%K<)Kymo0Ike)0F<ie0Olu%1Eku%KurzePed?P]zeP<tT,kt:C#Jf#Kul)N!ikN)zieRmacieV< Zo+3De,%J{onN#3Al#Gu,ntLozofLtrNan%N)Xa%0Ord1An_IrtOtila2NdSf<T[lT#Ton2Ak%Es#On)2KarNk%3Zi#:LejeRant3N{i#O]g3Lot.2Azu,Ejt2LemLfi$aTi#2AfAmofonAnu+EpIlOgOtes#2Ma:D?DrLaL@#N[NopisRfaRpu&V,n3Bk(J#lJnoJtmanK)rLmaM!omR>R&S]Zky3St<ik2Ad'#AsivkyAvaEd!EnO^v>OhOup(T!Ub.U/o)0AtO)Yz0IsOjivoOut0Bl.Boj}DinyDl!Dno)D|Jn(KejLin#L#LubMo+N [No,%RalR^RizontRkoRliv>RmonRn.RoskopR$voSpo^St.T'(U[UfUp!Us#V<2Ad[An?Av(Az^Bo+kD.D]D(N-Ob#Oma^OtOu^Oz@St#Ub(Yz!2B@(B~D[KotMrS aSto)0Ozd2Bn(D,ntGie&M&Sterik:2Yl#3Ned2O&0Uze0Un a0F-%Fla%KasoOva%Sp-%Tern{Vali^Ve$<Zer%3Onie:Blko})Ho^Kmi+K(L'>N)rRmarkRoSanSnoT#V<Zyk3Din>D+Dn!_HlanKotL@L oMn(NomP?S{erV Zd>Zero3NakNdyNo/Sk,Sto)Trn?Zva3En|1Gurt5R):Bar{B_Bin{}&D{Did]HanJakJu)KaoKtusLam aLhotyLibrLn(Me,MkolivM&Ni[lNoeNt<Pal.P_aP olaP#P+Po)PrPu$aPy[,Ram_Rot#RtonSaTa]gTed,U%UzaVa+cZaj#Ze)Ziv(2EkolivEsi0Dlub@MpRami#3No2A%kAdivoAmApotAsi#AunEcEn[Ep!Es~IdImaIs&Ob*kO#nOpaOubUb'&Us!Uzk(0EnIt!Otr0IhaOt0Al?Ber>B#BlihaBylaC*rH=J@>KosKtejlLapsLe^LizeLoMandoMe)MikMn!aMo,MpasMun aN!N%ptNd?N>NfeseNgresN.NkursN)ktNzervaPan>PieP~Pr'#Rb_R-t<Rmid]RoptevRpusRu&RytoRz{S!>St#T_T+)T*lUk!Up_&Us-Uz]VbojZaZ<oh2Ab?A/Aj.Al|AsopisAv!aEd EjcarEs[Eve)Ik{ItikIzeKav>Me+cMivoOcanOkOni#Op OupaOv#T-Uh`]Up?Ut(Vin#Y/+Yp)Y$alYt2Dlan#FrJn(KlaLaj^Li/L#Lom{Ltu,NaPodivuRtRz<Til0Al aAsin#E$<2No]gS_.Ta,T?T#T'>V`]:B,d<})nDn(IkKom>M_aMpaN'#S?SoStu,Tin#V.3B#CkdyD@Dn?D'#Dv.G@^GieG,%H%Hk(H~KtvarNo/odNtil#P@#Pid]T`]T>TmoTokruhVhartV a%Vobok3B,}ot#DojedDsk(H'.Jav>L-M{#NieN#No+umStop`T.T|5Bi$aDivodGi#GopedKal aK{Mc|P!aPu/RdSosTrU^lUhU#Usk!V>3Tiv(1Cer&CiferMpSkSt,%0I%2RaRi#S.:DamD]Gi$rHagonJ{-J _J< aKakK'?Kr_aL[L.L|Lv?Min#Nd+NkoRn(SakrSkotSopu$T?Tri#Tur aZan>ZivoZl Zur#2Lo[0}anikD a%D'.LasaL*nNtol#TlaTo^TrZe,3G,%H~Hu+K.KrofonL@>Lim{rL(Mi#Nc'&Ni[rNom{Nul(S#StrX|2Ad(HaH'.OkS!Uv 1I/Ohem0BilCn(D_#Dl [HylaKroL-ulaM@t#Nar/aNoklN$rumNt|NzunSazSkytStTiva%T<#Ty#U/aUdr(Zai#Z-Zol2Am<Av@>KevTvolaZ{Zut(0T _1DrcF]nL!MieN?S{Ta%ZeumZi#nt3Sliv>0Da:B*r!}yt!Da%Dbyt-DhozDobroDpisHlasHn!Hodi+H,d Iv aJedn*Ji$oJm=K]n Kon>Krm LevoMaz!Mluv Nom{rOkoOpakO$roP`!PevnoPln P~Pos+dPr(oRod RubyRy/]S` S-!S+poSt!TolikV@-Vr/Vzd<yZv!3Be}!CkyDa+koDb!DuhGa%H{Ho^J@JprveKlidLib(Mil(MocO/o)On#PokojR(RvSmyslS*l`Tv<UronV.Zvyk+3Co)JakKamKdyKlKte,kTro5C+hHav?M.%RaR-S _Sn(UzeVinyVo)Zd,5DaD+G{T Tn(Trie3Mfa:0AlArv AvaDivEcEhn!Ejm=Ez aHajo[Iln?Jasn J-tK]p La$L-Li[LohaLu^NosOh! Oj-OutRaz>R&Ru[RysSahSluhaS)r!UvVazVin VodVyk+Yv!_Z<0AsElEn Hl` Ho)H,&It~0BojByt}odCiz Ebr!Esl!Evzd!EzvaH`%Hod J{JinudKazK*p LivLu#Ml#Oln(P`PisPl=P<Pu$ Pyk!Raz#S*d StupSunTokTudVahaVe)Vol!V,%tZ&k1I&Sajd1LasNiskoRa^Roz Ryz-2ApEn?Li#NoOuzl OvyRasaResRs-RuhUpantUr#Us 0Ejn.Iz|0AkE+)Ez L`.L*v!LuvaYl0Ehdy1Ak|As-E,%I%Il(Is|O,Oz?RavduRoti1B al}e$rGieL?LojT_0A^}~I#IvoLavaLep Ln L' N'aO[Ol Pa+cT@T,haTu^Ty/Voj 0Epl IskOpRh!Rl(RokRubyV<1A~ArEsLivn O%1Id1Do[:}!_Ci@tD*/H<-KtLan^L>LivoLu[Mf+tMls-N@#Ni#N&N|N$voNtof+Pri#Rke)RodieR)Ru#Ry[Se#Siv aSt_#T@tTro&V*kZnehtZ*r-3C#DagogJs-K]LotonNal)Ndr-NzeRiskopRoStr(Tar^T?Tro+jVn.Xeso3Ani$aHaJav?K+KnikL.Ln(Lul#Nze)Pe)S!_Sto+Tev&Vn?V'ar2A%n)Ak!Am@Ane)A$i#At Avid]AzE/Em@oEn)EsEtivoEv_Iv!N NoO/aOd.Om[OutUkYn2Bav Byt}odC Ctiv>D!D%n Deps!Dh+dDiv Dkl`Dman DnikDo[Dpo,D,zD$!aDvodDzimEzieHan#Hnut#H'<HromaHybIn)Ji$#Jm=Kaz K+sKojKrokKu)KynLedneLib-Lk~LohaLynomMaluMi~Ml#MocM$aMys+tNe/!N<#Nur(P`!P_Pis-Pla/Pros Ps!PudR`%R%RodRu/aRyvS` SedSilaSkokSlan>S*d SpoluS)vaSud-SypTahT#nT+skTom-T,vaTupaTvo,U#zUtoUzdroVahaVidlaVlakVozVr/V$!VykVzde/Zd,vZem-Zn!-Z<Zv!2Ac|Ah<yAkti#A+sAot>Ap<-AseAv^IncipKnoObud O%ntoOdejOfeseOh,Oj-tO]m Omi+Onik!Op`OrokOs[OtonOut-OvazS#v#St@Udk(UtV-Voh<y0An>OvodTruh0Actvo0Ber)}DlKav>Kl.Kr+LtMpaNcP@SaSin#St.T|Ty#3Rami^SkT_::C-}otDia%Dn?DonFtGbyKe)K'.M@oMp*/NdeRa/R aS'&StrTo+$Zan%Zid]3Ag|Ak%CeptDakt<Fer@tF+xJnokKlamaK<dKrutKt<Pu)%VizeVmaVolverZerva3Sk|Ziko5Boti#Dokm@H'#K+KokoMan{oP'odPu/aRejsSolStl.Tmi$rTopedTun^Ub@#U/oUpU,V.Vn?Zb<Z/odZd!Zezn!Zhod%Zin#ZjezdZ#zZ]haZmarZp`Zru/ZsahZtokZumZvod5Bri#}`]Kav?Kopis3BaBol'}l(D]P`]T.Z(:Di$aH!KoM>Mizd!Mo)N #Rdin#San#T_ Z[Z@?0Or0H|1B,n#CeseD`]Dim@tD]Hn!Jm=Ke,K)Kun^KvojeM@oNoRvisS` Sho,SkokSl!St,SuvSyp!T[T.Tk!T~Trv!VerZ&m2O^R~0FonLn?R#Rot-RupTua%1AfandrAliskoAnz@AutEptikIcaL`[L@?LoLuzO[O#nOroRip)RzUp.V(Vr&0Abi#Adid]An.A$Avn(Ed|Ep>EvaEz.IbI&Izn?OnOup-OvoU/UhaUn%Up#Za0A,gdE)&Il$voL*vaOgR`RkRt#Ut-Ysl0AdAhaOb0Bo)}aD'#KolP#TvaUbojUc Ud%UhlasUl`Um,kUp,vaUsedUtokUvis{0Al'&As _IsLavOd-Oj@>OluOnz<Orn(Ou$aR/aU$ 1An^AzD%NaN>Ovn!P@StUb1An?Ar(aAti#Av[EhnoEz#OdolaO+kOpaOrnoOup!Ra/ResRh~RomRu&Ud&Upn?VolYk0Bj-tBtropy}arD(KnoNd!N=Rik!aR'.0AhAl$voEtrAt[Az-Is+It-Obo^Odid]Or#Rab2Kav#KotN-N'>P!Pk(R'(S_T(:B+t#Bu+H*nJemnoJfunJgaJ Jn(Kti#Mh+MponNc|N>NkerPe)V@.Z!_3}ni#HdyKut.LefonMno)Nd@%Ni$aN<P])P&PrveRapieRmos#Xtil3}oSkopisTu+k1Ad+cAn.0Ap#Esk!UkotUpa0El1A+)Pin#PolRzoUhaU+c2Ad?Akt<AmpAsaAverzaEf E$Ez<Hav.Hl.O/uOj?Os#Ou[P%P _Pk(Ub>U/l Uhl?UsV!2DyH~H(Nd,Ri$aR&jZemsko0ArohOr[Rd(Rz2GrKev:0Oh(OzeR!R*s-RusYt'&0HoTiv(0Iv 3R` 1Edn!I$ M=0Az!_Lidn Lon Otv Roj 0I%I)Ov 0Yv`]0Av If<maIk~1Ad~L!n Ly~Out!Rav 1AnAz 0Ed~Il|Mrt N`n N=Oud Tl!Tr~0Ah|K!Lum O~Op@>R*s 1Al Oln Oz'#3D,v ElEn.L.N!:GonL/aL*nNaN^lNil#RanRhanyR|1ElkuHod0Ova0DroGe)%J%Lbl*dL{rhL _LmocLry[Nk'Ran^RzeS_#SkrzeSn?SpoduS)Ter.Ver#3B,%}rDeoh,D.D+LaN?S{Tal aZeZ #0Ezd0L`Us0Aj#AkAs>EvoHk(IvN'#Oup!1Uc|Uk0DaDiv(Doz&kD$voJ@skyJ&JskoLantL[L LnoSk'#Zid]Z'&0Ravo1Ab>A%tAhA)Ba}o+kH!StvaTu+0Ad T*p Tup0Ip4Bav Br!}|D!D,Fot H+d!H~Hod H,d Hub Jasn J{Jm=K]p Kon!L-!Maz!Mez Miz{Mys+tNe/!Nik!Nut P`!Pl! P,v Pu$ Raz R'n!Rv!Sl' SokoS)v Su~Syp!Tas Tes!Tr! Vi~Vol!Vrh_Zdob Zn!0AduBud }op D<Du/Dy/!E$upH+demKazLyk!NikOr-P*,TahT-::993Lofon::Br!Byd+t}|DarmoDus F*k!Hlt Hod H,^Hy~J!>J{Ji$ K+p!K*p Lep Mez Mot!Mys+tNe/!Nik!Pl! Poj Ps!Raz S)v Su~Taj Temn Tk~Ujm=Val Ve+tVin Vol!Vrt!Zvon 0Av RusuUd|Yt-1A+#ArmaAtn(IvoOb RojVihYm`]0L@.ManM.Pt!Z`uZdola2At Lt~Lubo#Ot' Ru[0MaMn?0Emn 0Lam!Oum!R!#Umav#0AtoEh#O[OmO$Ozvyk0Ap|ArAt-IjeIz{Ocn Odr!Rzl.Ut|0AkAl(Am@!Ovu0B,z Tav Ub-Ufa+0Lod Omal RavaR( Rud#Rvu1A^An C`]N (NoOv&Y/l Zav(1I/aR! 0B'.Br0Ed~EnkuEs_aOnR!Uk'odYk",x1r="0x25f44555f4af25b51a711136e1c7d6e50ce9f8917d39d6b1f076b2bb4d2fac1a",Dve=null,GG=class t extends Xa{constructor(){super("cz",S1r,x1r)}static wordlist(){return Dve==null&&(Dve=new t),Dve}};var w1r="0arertoiotadonoaRteirroenaNonaLsolocoiliaralaorrenadaChoN$n0A>Dom,EjaI!#Oga&O'Or#RazoR*Ue=U<0Ab Adem@Ce<C~Ei)ElgaEn#Ept I&L  NeOg!O<TivoToTrizTu Ud*U!&Us 0Ic#Mit*Opt Or'Ua`Ul#0Reo0Ect Ic~In Irm 0IlIt On@Os#Ot Reg R$UaU&U?aUja0OgoOr+0ReSl 0Ed_zE'Us)1Ac[nAmb_ArmaBaBumCaldeDeaEg_Ej Er%E%F?!GaGo&nIa&I,#Iv$MaMejaMib T TezaTivoToTu[Um'Z 0AbleAn)Apo]ArgoAs B Bi#E'IgoIs%dOrP oPl$0|oC@'C]D D,Em@Gu=Il=ImoIsOt T,aTiguoTojoUalUl Unc$Ad*EjoO1Ag A[#Eti#IoLic O&Or)OyoR,d!Rob Ues%U+1A&A`ArBit+BolBus#|ivoCoD!D?]DuoEaI&IesM.i-esOmaPaP.Reg=RozRugaTeTis%0AA&Al#C,<Egur EoE<rI,#I=Ist*NoOmb+P!oT?]T+Tu#Um*Un#0AjoAqueArEn#EoI>Le%OmoRa!RozUn0DazD$GeLaM,#S,)T^0AlAnceA+EEl]`E`EstruzI.I<2ErU{U'0Af[nArO)Uc Uf_Ul:BaB^|eH@IleJ Lanz/c.LdeMbuN>Nd-oRb(>RnizR+Scu]S#nSu[Tal]T!@T*Tu%UlZ 3BeBid/=S SoSt@3|oEnNgo2An>OqueUsa2ABi`BoCaCi`DaDegaIn//!oLsaMb-{dNi#N}saiRdeRr SqueTeTinVe{Zal2AvoAzoEchaEveIl=In>IsaOcaOmaOnceO)UjaUs>U#2CeoCleE'EyFan{F.HoIt_L#Rbuj(l(+Sc TacaZ.:Bal=BezaBi`B[CaoDav!D,aErFeI{ImanJaJ.LLam Lc$L&Li{dLleLm/^LvoMaMb$Mel=Mi'Mp}c!Nd?Nel-gu+Nic-#N-.ObaOsPazPi%nPo)Pt Puch((b.RcelRe%Rg(i'RneRpe%R+R%SaS>S!oSpaS#rT^ceT_U{lUsaZo3Bol]D!D+Ld/eb_Lo<Lu]M,#Niz-t+Rc(&Rez(oRr R)zaSpedT+2AcalAle>AmpuAnc]ApaAr]I>Is)IvoOqueOzaUle%Up 0Cl.EgoE=EnEr#F[G +M->NeN%P_sR>Rue]SneTaU{d2Am^AnA+AseAveI,)ImaInica2B_Cc~|i'Ci`CoDigoDoF_G!He)JinJoL/ch/eg$Lg Lin/l LmoLum`Mba)M!Mi{Mo&Mpr-deNej}g-oc!Nsej}t PaPi(az.Rba%RchoR&nR.(r!S!SmosS%2AneoAt!E Ec!Ei&EmaIaIm,Ip%IsisOmoOnicaOque%U&Uz2Ad+Ar#At+BoBr*| aEl=En#Er{Es%EvaId Lebr/p/#Mb_Mpl*N-e%O%P.Pul( R$<R<RvaTis:M-z(R&T?3B!B?Ca{C*DoF,saFin*J LfinLga&Li#M^-<N%lP^)RechoR+%Sayu'SeoSf?eSnu&Sti'Sv$TalleT,!U{3AAb=AdemaAman)A`Ar$BujoCt En)E%EzFic?G'Lem/u*N!oRec#Rig*S>Se'Sf[zVaVi'5BleCeL^Ming}N Ra&Rm*R<SSis2Ag.Oga2|aDaE=E'LceOQueR Rez(o:0A'R$0H OUa&r0AdIc~Ific$I#rUc 1Ec#Icaz3EEmp=1Efan)Eg*Em,#Ev IpseI)Ix*Og$Ud*0Bu&It*Oc~Pa)Pe'PleoP_sa0A'C go|ufeC@EmigoE+Fa&F!moGa'Igm/aceOrmeRe&SayoS, T!oTr VaseV$1Oca0Uipo0Izo0Ca]C,aCol Crib*Cu&Enc@F!aFu!zoPa{PejoP@PosaPumaQuiT TeTi=Tufa0ApaEr'Ic-@1Ad*Alu En#It 1Ac#Am,Ce<CusaEn#Ig*Il$Ist*I#P!#Plic P.!T_mo:BricaBu]|a{C?C#rE`J/d/=L<Lt MaM?@Mo<Ra.Rmaci(olRsaSeTigaU`V^X3Br!o|/izORi(ozRt?Rv^Stin3AbleAnzaArB[Cc~|aDeoEb_ElE[Es%Gu[J JoL/e)L@lLt+NNc-g*Ni#Rma2A>Au%EchaOrO%U*UjoU^2B@CaGa%G.L$Lle#N&Rm(+Rtun(z SaTo2Aca<Ag?AnjaAseAudeE*E'EsaIoI#U%2EgoEn)ErzaGaM Nc~Nd(g.R@S?TbolTu+:Ce]FasI%JoL/!i/=Mb- Nch}g-<RajeRzaSoli`St ToV?an3Me=M*NN!}$N)Ran$R,)Rm,S#3Gan)M`s$R Ro2Aci OboOr@2LLfoLo<LpeM(&R?([TaTeoZ 2A{Afi>A'AsaAtisAveIe%Il=IpeIsI#O<rUaUe<UmoUpo2An)ApoArd@Er[IaI'I.I<It [Sa'St :B!B?Bl C!|aD/l Mac(i`ZZa`3B?]B[|oLa&L$Mbr(*Rma'RoeRv*3E=Er+Ga&Gi,eJoM'S#r@5Ci>G Gu!aJaMb_Ng}^Nr((mig('St?Yo5E>ElgaEr%E<EvoI{IrMa'Me&M?deM}d*RacanR#:1O'0EalIomaO=2Lesi/uUal4EgalUs~0Ag,AnIt P P!$P.!Pul<0CapazDiceEr)FielF^meG,$Ic$M,<MuneNa#Sec#S%n)T!esTimoTu*Ut?Vi!'3AIsOn@0L/o):BaliB.M.RabeRdinR[U]Zmin3FeRinga3Ne)5R`d(obaV,Ya5ErgaEvesEzGa&rGoGue)Ic$N>Ngl-$Nt Pit!R S#V,?Zg :7Lo5A]:B$C$C[DoD+nG #GrimaGu`I>M!Mi`Mp --ch-gos%NzaPizRgoRvaStimaTaTexT*U_lV Zo3AlCc~|eC#rErG~Gumb_Ja'Ngu-#NaOnOp &S~TalT[VeY,{3B!%dB+C^D!Di EnzoGaG!oMaMi)M.Mp$NceN&Ne-go)N}t!`Qui&SoS%T!aT$T+2AgaAmaAn#AveEg En Ev Or Ov!Uv@2BoC~CoCu[GicaG+MbrizM}jaTe5|aC*G J}-esPaSt+ToZ:Ce%|oD!aD_Du+Est+F@G@GoIzL{dLe%Ll/oMaMboMutN>N&Nej Ng-iquiNj N}<N%Na`PaQuin(R>Re(f?Rg,Ri&RmolR+nR)sRzoSaSc aSivoT T!@TizTrizXimoY^Z^ca3|aDal]D$Du]J?]J^L,/.M^i-^NsajeN)NuRca&R,gueRi#SS.TaT!To&T+Zc]3E&ElEmb+G/Lag+Lit Ll.M}-!}im}u#OpeR SaS!@S?SmoTadTo5|?aC~DaDe=HoJ LdeL!Li'M,#Mi- c-ed-j-#NoRad(d!Re'R*R+Rs(%lScaStr TivoV!V?Zo5|oD EbleE]Er)Est[G_J!L/e%L%N&Nec(alRoScu=SeoSgoSicaS=:C C~D IpeRanj(izRr SalTalTivoTu[lUseaValVeVi{d3C$Ct G Goc$G+OnRv$ToUt+V V!a3|oDoEb]E#NezNoTi&Vel5Bleza|eMin(i(m()TaTic@Va#Ve]V$5BeCaCleoD?=DoE[EveEzLoM!oTr@:Sis0E<IspoJe#R(!oS!v T,!V$0AA<Ea'H,%HoIoReTavoTub_Ul#Up Urr*0I IoIsea0S)0EnsaEr%Ic$Rec!0Ro1DoR0O1AEa{Fa#IvoLaMoOrVi&0Bligo0DaZa1A>C~E[In On!T TicaUes#1Ac~A&rAlBi%CaD,EjaGa'G@Gul=I,)Ig,Il]OQues%Uga0Ad@Cu+Ez'OT[0O'Ro1EjaU=1I&Ige'0En)0O':C#D_El]Gi`GoIsJ oLabr/>Le%Li&Lm/om/p NNalNi>Nt!-ue=PaPelP?]Que)R Rcel(edR*RoRpa&RqueR[foR)S SeoS~SoS%TaT$Tr@UsaU%VoYa<3A#nCa&C!a|oDalD*G IneL L{'Le/ig+LlejoLoLuc--s N.OnOrPi'Que'R(ch(d!Rez(f?Ri>Rl(mi<R+Rs.aSaScaSimoS%`Ta=T+leoZZu`3C |.EEd[Er`EzaJam/ Lo#Mi,%N}#rNz-aOjoP(a%S Sci`SoS%T.Zca2AcaAnA%AyaAzaEi#E'OmoUmaU[l2B_CoD!D$EmaEs@E%L,Lici/=LvoMa{Me=MoMp-!Rc~R%lSa{Se!SibleS)T,c@T+Zo2A&E>zEgun%Em$EnsaE<Ev$ImoIncipeIs~Iv OaOb Oce<Oduc#OezaOfe<rOg[maOleOmesaOn#Op$OximoUeba2Bli>|!oD^Eb=Er%Es#Lg/*Lm.LpoL<M-#NalNoPaP?(e:99Ed EjaEm Er!E<Ie#ImicaInceIt :Ba'B@BoC~DicalIzMaMp-ch}goPazPi&P#SgoSpaToYoZaZ.3Acc~Ali{dBa'Bo)Ca!Ce%|azoCog!C_oC#Cur<DD.&Duc*FlejoF^maF[nFug$Ga=G*G]G_<H,I'IrJ/a#LevoLieveLle'LojM Med$M}>rNd*N%P #Pet*Po<Pt?SSca)Si`Spe#S#Sum,T*oT^'T[#Un*VesVis%YZ 3CoEgoEn{EsgoFaGi&G^Nc.N.OQuezaSaTmoToZo5BleCeCi D DeoD?]ErJizoJoM!oMp!NN>N{PaP!oSaScaSt+T 5BiB^DoE{G*I&In/e%LoMboM^Ptu[TaTi`:Ba&B!B$BleC GazG[&L/&L!oL*Lm.L.Ls/#LudLv Mb-c~Ndi-e Ng_Ni{dN}#PoQueRdin()nSt_TanU`Xof.3Cc~CoC_#C%DGu*IsL=LvaMa`M?l-d-<rNalN^P  P@Qui(RieRm.Rv*S,%S~TaT,%V!oXoX#3D[Es%E)G=G'Lab/b L,c$L]Mbo=M$R,aS)maT$Tu 5B_C$D$LLap/{&Le{dLi&Lt Luc~Mbr-de}i&No+NrisaPaPl P^)R&Rp_s()oS)nTa'5AveB*Ce<D^Eg[E=E'Er)Fr*Je#L%nM P! Pl*P.!P_moRR>Re'Rg*S#T?:Ba>BiqueB]BuCoC#JoL L>L,#Ll/.Ma'Mb^Ng}quePaPe)P@P.Qu?l(deRe(if(je%RotR+R%TuajeU+ZaZ.3At+|oC]CnicaJa&J!Ji&L/efo'MaM^Mp=NazNd!N!NisN<Ori(api(>Rmi'Rnur(+rSisSo+StigoT!aX#Z3B$Bu+nEmpoEn{Er[E<G_J!/deMb_Mi&M}%OPi>PoR(.TanT!eTu=Za5Al]B?=C Ci'DoG/&M N}#P PeQueRaxR!oRm,%RneoRoRpe&R_R<RtugaSS>S!Xi>2AbajoAc#rA!Afi>AgoAjeAmoAnceA#AumaAz EbolEguaEin%EnEp EsIbuIgoIpaIs)IunfoOfeoOmpaOn>OpaO)OzoU>Ue'Ufa2B!@BoEr#MbaM^NelNic(bin(ismoR'T^:0Ic 9C!a0B[l0I{dIrIv!<OT A3Ba'BeG,)Na0ArU $0IlOp@1A:CaC$Cu`G GoI`J?l/eLi&LleL^Lvu]Mp*oR(i R.So3Ci'C#rHicu=In)JezL/!oLozN-c!Nd-e'Ng N*N%NusRRa'RboRdeRed(j(<Rt!3AAjeBr C$CtimaDaDeoDr$EjoErnesG^LLl-ag_N}e&OlinRalRgoRtudS^Sp!aS%Tami`U&VazV!oV*Vo5LcanLum,Lv!RazT ToZ5E=Lg :::C!Te3GuaM('So9DoGaGur:F*}jaPa#Rza93N(+5MoR&",A1r="aeiou7695@@BZWWavwUJkO@Y-Kn))YEGq#E@O)cI@#ZkMHv$e*))M!!)D**$GW!oKm*Acoh^k&It-pi^SYW)$^n!G)bO!Wkzam(jS#X)Og*^l^RW!bQ#QygBKXfzE))hti!Qm)Cng%%c)mJiI*HJWbmYniCLwNdYyY%WKO^bnT$PuGOr!IvHu&G(GKbtBuhiW&!eO@XMeoYQeCa#!MrTJCq!OW&CHG(WCcW%%)$rfrIegu$)w!G)JGmWWw)MnD%SXXWIT^LWAZuVWB^W)eTL^x&$WGHW(nKWEMA)#$F$x$Waekqs,n7715)W*HM-$WAcCiu(a))VCZ)GG%(*CWWdW%$D!UCO$M",E1r="0xf74fb7092aeacdfbf8959557de22098da512207fb9f109cb526994938cf40300",Mve=null,jG=class t extends Vg{constructor(){super("es",w1r,A1r,E1r)}static wordlist(){return Mve==null&&(Mve=new t),Mve}};var T1r="0erreleontiteurinueiriet cegeanseali medenel q)eniluxaus ch0Ais}And$Diqu E`#Ol*Ord Ou%rOy RasifReuv Ri,Rog RuptS_-SoluS'@UsifYss=0A@m+AjouAr+nCab]Cep,Clam Cola@Cro~eCu}ErbeHatHe,Idu]I Omp&Qu *R$y?Te'TifT)l0Ep&EquatHesifJec%fJug Mett!M* Op,Or Ouc*Res<RoitUl&V be0R R$ef0Fai!Fec,Fi~eF!{Fub]0Ac Enc I#I,Raf Reab#Ru?1D Gu`#L>Mab#S/-0Ou,Us,1Arm Chim+Er&Geb!G)I_ I?ntLeg Lia.Lou Lum O'd*PagaTes<Veo#0A&'BiguB!Enag Ertu?Id$Ir=Orc O'Ovib#Phib+P#'Us/t0Aly<Apho!Ar~+Atom+C+nE/%rG#Gois<Gu#{Im=Nex N$-N)lOd(Om=+Ony?Orm=T_[Tido&X+{1Ai}Eri%fL/*Olog+Pa!`Pe]Por,Puy 0UariumUeduc0Bit!Bus&De'Doi<G_tLequ(Matu!Me?ntMoi!Mu!P_,Ra~ Riv Ro}S_icT +lTic#0PectPh=&P* S|tS v*S+t&Soc>S' TicotT!Tu-0El>O?RiumRo-Ta^T_%fT* Trap 0Ba(eB .Da-Dib#G' Ro!Tom[Tru~e0A]Anc Ari-En*Er<Eug#Ia&'I@I$I}O(eOu R`1I=Io?:D.Fou Ga.G)t&Igna@L/c Lc$Le(eLisa.Mb(Ncai!Nda.Nl+)Nn>eNqu>Rb>R`R$R^Rra.Ss(S%$Ta`#Te|T,+Udr>Vard 3Let&L>Lo&Nefi-R-|Rg Rl(eRmudaSa-Sog[Ta`Ur!3B $Cyc#Du#JouL/L(g)LlardNai!Olog+Ops+OtypeScuitS$Sto'iTu?Zar!2AfardAg)An~*Ess/tInd OndOqu Ous$2BardB(eI!I}Li@Nb$Nd*Nhe'Nif>NusRdu!R[T&Uc#Ue{Ug+Ul$Uqu(Ur<Usso#U%^Xe'2An~eAs>AveEbisE~eEuva.Ico]Iga@Ill/tIo~eI^O~u!Od Onz Ous<Oye'U?Us^Ut=Uy/t2Ff#Iss$L#%nRe|R(S% T( To*Vab#Vet&:B/$B(eChet&De|D!Fe(eIllouIss$Lcu]Lep(Lib!Lm Lomn+Lvai!Mara@M aMi$Mpag[N=Net$N$N%[NularPab#Por=Pri-Psu#P,Pu~eRab(eRb$eRes}RibouRna.Rot&R!|Rt$Sca@S>S^Ssu!U}U%$V=>V [Viar3D`#Intu!Les&Llu#Ndr>Ns' Ntr=Rc#Rebr=Ri<Rn Rve|S}2Agr(Ai<A#'Amb!An-Apit!Arb$As<'At$Auss$Av* Emi<En`#Equ>Er~ Ev=I_Iff!Ign$Im eIotLoru!OcolatOis*O<O)t&Ro?U&0Ga!Gog[M_,NemaNtr Rcu]R R^T [Toy_Tr$V`2A*$A?'Aqu As<Av>I_tIgn ImatIva.O~eOna.Opor&2B=tBraCas<Co% D Dif>Ff!Gn Hesi$Iff Inc L eLibriLl(eLma,L$elMbatMed+Mm/@MpactNc tNdui!Nf>N.]Nno,Ns$[NtactNvexePa(P+Ra`Rbe|Rda.Rni~eRpusR!ctR&.Smi^Stu?T$U@Upu!Ura.U&|Uvr*Yo&2AbeA(&Ava&Ay$Eatu!Edi,E?{Eu}Evet&Ib]I Ist=I,eOi!Oqu Ota#Uci=UelYp,2Bi^E`l*Il]eIs(eIv!Lm( L%v Mu]Pi@Ra%fR<'3Anu!C#L(d!Ni^:Ign M>Ng N<'Uph(3Batt!Bi,Bord Brid But/tC= Cemb!Ch* Cid Clar Cor Cri!Cup]Da#Duc%fEs<F_sifFi]Fray Gag Givr Glu%rGraf Jeun Li-Log M/d Me' Mol*Ni~ Nou N&l#Nud PartP_}Pha}Plac Po}R/g Rob Sast!S-n&S tSign Sobe*Ss( Str>Ta~ Tes,To' T!s<V/c V_*V( Vo*3Ab#Alog)Am/tC,Ff  G  Git=G[Lu M/~eM(u Oxy@Rec%fRig Scu,Spo}Ssip St/-V %rVi}5Ci#C&'G?IgtMa(eMici#Mp,Na&'Nj$Nn Pam(eRto*Ru!Sa.Se'Ss>Ta%$U/>Ub#U-'U,Y_2Ag$Ap Es}Ibb]Oitu!2P +P#xeRab#Rc*3Nas%e:0Lou*0Ar,HarpeHel#La* Lip<Lo!Lu<O#Onom+Or-Ou,Ra}Rem Riva(RouU?U!u`0If>Uqu 1Fac Fec%fFig+FortFray Fusi$0Ali}Ar 2Ec,1Abor Arg*Ectr$Eg/tEph/tEveIgib#I%s?O.Ucid Ud 0B=]Bell*Bry$Er|@Issi$M_ O%$Ouvo*P e'Ploy Por,Pri<Ulsi$0Cadr Ch eClaveCo~eDigu Dos}DroitDui!Erg+F/-F m Fou*Gag G(Glob Ig?Jamb JeuLev NemiNuye{Ri~*Roba.Seig[Tas}T_d!T>To' Trav Um  Vah*Viab#Voy Zy?0L+n0Aiss*Arg[At/tAu#Ic +I@m+I Ilog)I[Iso@ItapheO^ReuveRouv Uis/t0U !Uipe0Ig Osi$Re'Up%$0C=>Pad$Pe-P+g#Po*PritQuiv Say S_-S+uSor Ti?TomacTra@0Ag eA]An~eA%^E(d!Endo*Er[lH/olHi^Hn+Ir Off Oi#Onn/tO'd*R/.RoitU@0Phor+0Alu Asi$Enta`I@n-I,Olu%fOqu 1ActAg  Auc Cel]Cit/tClusifCu<Ecu,Emp#Erc H= Hor,I.n-I]Is,O%^Ped>Plor Po}Prim QuisT_sifTrai!Ul,:B#Bu#{Cet&Ci#Ctu!Ibl*Lai<Me{M`#R-'RfeluR(eRou~eSc( T=Tig)Uc$U%fVe'Vori3Bri#C$d D  L(M?M'Ndo*Od=Rm Ro-Rve'S%v=U`#Ut!Vr>3AscoCe]C%fDe#Gu!Latu!Leta.L>eL#ulLm LouLtr N/c N*O#R?Ssu!X 2A* Am?As^At&'E|E~eE'Exi$Oc$O!Uctu Ui@Uvi=2L+Nd +Ngib#Nta(eRc Rg $Rmu]Rtu[Ssi#Ud!Ug eU`]Ulu!Urmi2Agi#Ai<An~*App Aye'Ega&E( El$Em*E[s+E!Iab#Ic%$Iss$Ivo#OidOma.Ont=Ot,Uit2Gi%fI&Re'R+{R%fSi$T':Gn Lax+L +Mbad R/%rRd+nRn*Rrig)Zel#Z$3AntLa%[Lu#Ndar?N =N+NouN%lOlog+O?t!R/iumR?St)lY}3B>C]RafeV!2A-AiveIs}ObeOi!Or+{2Lfe'M?Nf]R.R`#Udr$Uff!UlotUp`#Urm/dUt&2Ad)lAffi%A(eAndApp(AtuitAv*EnatIffu!Il]Imp Ogn Ond Ot&OupeUg U% Uy e2EpardErr>I@Im|veIta!Sta%f3Mnas&Rostat:Bitu@Cho*L&Me|NgarN[t$RicotRm$+Rp$Sard3LiumMato?RbeRiss$Rm(eR$Si,U!{3B n BouLar/tStoi!V 5MardMma.Mo.[N['Nor N&{R@Riz$Rlo.Rm$eRrib#U#{Us<5BlotI#{Ma(Mb#Mi@Mo'R]3Dro?lG+[M[Pno<:2Yl#2Nor U/e4Lici&Lusi$0A.Bib I,M_<Mobi#Muab#PactP i=Plor Po}Prim Pu,0Carn C_d+Ci@ntCl( Colo!Dex Di-Duc%fEditEp%eExactF(iFlig Form Fusi$G  H= Hib Jec,Ju!No-ntOcu]Ond Scri!Sec&Sig[Soli&Sp* S%nctSul,TactT_<Ti?Trig)Tui%fU%#Vasi$V_,Vi,Voqu 3Oni^Rad>ReelRi,0O]2Oi!Res<:GuarIll*MbeNv>Rd(Ug U[Velot3Tab#T$UdiU[s<9Ind!N~ Ng]Ue'UissifUrn=Vi=Y|Ye{5Bi]Ge?ntNiorP$Ris&S%-Te{V_i#:Yak7M$oOs^:BelBi=Bo' C  Cto<Gu[I[Is}I% Mbe|Mel#MpeN-'Nga.N,[P(R.'R?Ur>VaboVo*3Ctu!G=G Gu?SsiveTt!V>Xi^Zard3As<B  B!C_-Cor[E.Ev!Gatu!Go,G)M Mi&M$a@Mpi@Neai!NgotOn-|Qui@S>eS,ThiumTi.Ttor=V!'5Gi^Inta(Is*MbricT +U UrdUt!UveY=5B+Ci@Cra%fE'Gub!Is/tM>eNai!NdiR$T,X){:Ch(eGas(G_taGi^Ig!Ill$In%_Ir+Is$Jor Lax Lefi-Lhe'Li-L#t&MmouthNda,Niab#Nqu/tN&|N)lRath$Rb!R~/dRdiRi%?R^'Rr$R&]Scot&SsifT +lT>eTra^Udi!Ussa@UveXim=3Ch/tC$nuDa`#Dec(Di,Du<Il#'L/.Lod+Mb!Moi!Nac N Nh*Ns$.NtorRc!diRi&R#Ssag Su!T=Teo!Tho@T>Ub#3Au]CrobeEt&Gn$Gr L+uLli$Mi^N-N =Nim=Nor Nu&Rac#Roi,Ssi#X&5Bi#D [El#{Ndi=Ni&'Nna+Not$eNst!Ntag[Nu?ntQ)'R-|Rsu!R% Te'TifU~eUf#Ul(Uss$Ut$Uv/t5L%p#Ni%$Ra`#Re[Rmu!Sc#SeumSic+nTa%$T T)l3Ria@R%l#S,eThi^:Ge'PpeRquoisRr Ta%$Ti$Tu!Ufra.U%^Vi!3Bu#{CtarFas&Ga%$Glig Goc>I.Rve{Ttoy Ur$eUtr$Veu3CheCkelTra&Ve|5B#CifCt'[Ir-'I<t&Ma@Mb!{Mm Rma%fTab#Tif>Toi!Urr*Uve|Va&'Vemb!Vi-5A.Anc I!Isib#M oP%=Q)Tri%f:0E*Jec%fLig Sc'S v Stac#T_*T' 0Casi$Cup E/Tob!Troy Tup]Ulai!0E'Or/t1F_}Fic>Fr*0Ive1Se|S`l$2Fac%fIv>0Bra.Ett!0Ct){Du]E!{Iri^1A#A^Er Ini$PortunPrim T Ti^1A.{An.Bi&D$n E`#G/eG)`Ifi-Ne?ntQ)T+0C`]Mo<Satu!0Ar+0Rag/Rs$T`Trag Vra.0A%$1Y@Y.[1O[:Isib#La-Lma!sLo'@Lp Na~eNdaNgol(Niqu N[|NoramaNt=$PayeP>Po,PyrusRadoxeR-l#Res<Rfum R]Ro#Rra(R<m Rtag Ru!Rv_*Ssi$S&^T [lT+n-Tr$V`l$Voi}Y Ysa.3Ig[Int!La.Lic/L#Lou<Lu~eNdu#Netr Nib#NsifN'+Pi&PlumRdrixRfor Rio@Rmu,Rp#xeRs`R&S Ta#TitTr*Up#2Ara$Ob+O^Ot$Ra<Ysi^0AnoCt'=E-Er!Euv!Lo&N-|Pet&Qu Rog)Sc(eSt$Vo,XelZza2AcardAf$dAis*An A^Astr$A&|E' ExusIa.OmbOng U+Uma.2Chet&Es+E&In&Ir>Iss$Iv!Lai!Lic>L#nLyg$eMma@Mp>Nct)lNd  NeyR%^Si%$S<d Stu!Tag Te|Ti$U-Ula(Um$Urp!Uss(Uvo*2A*+A%^Ec+{Edi!EfixeElu@EnomE<n-E&x&Evo*Imi%fIn-Is$Iv Ob#?O-d Odi.Of$dOg!sO+Oje,Olog)O?n Op!Osp eO&g O)s<Ov beU@n-U[|0Y~o<1BlicC $I}LpeLsarNai<Ni%fPit!Rif>Zz#3Rami@:99AsarE!l#Es%$Ietu@It,O%_t:C(eC$,D+{G$d(I@'Is(L_%rLl$.Mas}Pi@Sa.Tis}Vag V(Y$n 3Ac%fAg*Ali}Anim Cevo*Ci,Clam Col,Cru,Cu]Cyc]Dig Dou,Fai!F#xeForm Fra(Fu.G=+nGi$Gla.Gul>I, Je,Jou La%fLev L+fMar^Me@Mi<M$,Mpl*Mu NardNfortNif]N$c Ntr NvoiPl>Por,Pri<P%#Qu(S veS(e{Soud!SpectS,SultatTabl*T_*Ticu#Tomb Trac Uni$Uss*V/~eViv!Vol&Vulsif3Ches<De|E'Gi@Go]Nc Pos,Sib#S^T)lV=V>e5Che{M/-Mp!N-Nd(Se|S>Ta%fTorTu#U.U`#U#|U%[Y|?5B/BisCheEl#G){In Is<|S S%^3Th?:B]Bo,B!Co~eFariGes<Is*La@LiveL$Lu MediNc%$Ngl>Rcas?Rd(eT' Ug!nuUm$U,Uva.V/tV$n 1AlpelAnda#E]atEnarioEpt!HemaI_-Ind O!Ru%nUlp,1An-Cab#Ch Cou C!,Da%fDui!Ig['Jo'Lec%fMa(eMb]M_-M(=Na&'Nsib#N&n-Par Q)n-Re(R.ntR+{Rru!RumRvi-Sa?V*Vra.Xtup#3D =Ec#Eg Ff]G#Gn=L_-LiciumMp#Nc eNist!Ph$RopSmi^Tu 1I 3Ci=C#DiumIg[{LdatLe`Litu@Lub#Mb!M?`Mno]N@N.'N[t&No!Rc>R%rS+T%<Uc+{Udu!Uff#U#v UpapeUr-U%r Uv_*0Ac+{A%=Eci=H eIr=3Ab#A%$ErnumImulusIpu]RictUd+{Upe'Ylis&0Bli?BstratB%lBv_*C-sC!FfixeGg  Ive'Lfa&P bePpl>Rfa-Rica&R?n Rpri<Rs|tRv+Spect3LlabeMbo#Metr+Nap<NtaxeS&?:BacBl>C%#Il]L_tLism/L$n Mbo'Mi}Ngib#PisQu( Rd RifR%[S<TamiToua.UpeU!|X 3Mo(Mpo!lNa`#Nd!Ne'N*Nsi$Rm( R[Rrib#T(eX&2E?Eor+Erap+Orax0BiaE@Mi@Reli!Ro*SsuT/eT!Tub 5Bogg/L /tMa&Ni^N[|P$y?R~eRd!Rna@Rp`#R!ntR<Rt)TemU~ Urna.Us}X(e2Ac%$AficAgi^Ah*A(An~ Ava`Ef#Emp EsorEu`Ia.Ibun=Ico,Ilog+IompheIp]It' Ivi=Omb$eOncOpic=Oupe|2I#LipeMul&N[lRb(eTe'Toy Y|3Mp/Ph$Pi^R/:0Ues^9Ti?Tras$1Ani?If>I$I^Itai!Iv s3AniumBa(Tic/t0A.I[UelU!0I#Op+:Car?Cc(Gab$dG)Ill/tInc!Is<|Lab#Li<Ll$LveMpi!N`#Pe'R>Se{Ss=S&3C&'Det&Get=Hicu#InardLo-Nd!diN  Ng Ni?{Ntou<Rdu!R(Rn*RrouR}RtuSt$T /Tus&X/tX 3AducAn@Ctoi!D/.DeoG[t&G)'La(Lla.Naig!Ol$P eRe?ntRtuo<RusSa.Se'Si$S^{S)lT=Tes<Tico#Tr(eVa-Vipa!5Ca%$Gu I#Is(Itu!La`#Lc/L%g Lu?Ra-R&xT Ulo*Ya.Yel#:G$:3N$:Cht:3B!NithS&9Olog+",R1r="e7693&)U*o&)Ry^)*)W))))#X^))))@@)#Wf)m%)#!))AG)&IIAQIIIBIIHJNAgBIILIDJGo)))HIQIIIIA(IGgJHH(BIIxX#)Ou)@*IAAPIIIJHQJ)&QIQPYI(HYAQC%)!))QHJJ@)#)^f*^AXCJ))$%CP))%&m)u)@e^A#G#))W@!(IKK%!(I%))O@QA))@GG#e))))WHJIWh))my@IIBT^)!)HAYGETHI*))!QnUDG)))nBoKAC*HwyQh))$&)G&)UGO)G)))(BX#v**)%O,e7686)I))@)&)gdMP()))ud)p#L))I^FIHYdWG))D@DFV)QA)o%MyTh%*)Z)%)n(XANc^R)YS",I1r="0x51deb7ae009149dc61a6bd18a918eb7ac78d2775726c68e598b92d002519b045",Lve=null,qG=class t extends Vg{constructor(){super("fr",T1r,R1r,I1r)}static wordlist(){return Lve==null&&(Lve=new t),Lve}};var C1r=["AQRASRAGBAGUAIRAHBAghAURAdBAdcAnoAMEAFBAFCBKFBQRBSFBCXBCDBCHBGFBEQBpBBpQBIkBHNBeOBgFBVCBhBBhNBmOBmRBiHBiFBUFBZDBvFBsXBkFBlcBjYBwDBMBBTBBTRBWBBWXXaQXaRXQWXSRXCFXYBXpHXOQXHRXhRXuRXmXXbRXlXXwDXTRXrCXWQXWGaBWaKcaYgasFadQalmaMBacAKaRKKBKKXKKjKQRKDRKCYKCRKIDKeVKHcKlXKjHKrYNAHNBWNaRNKcNIBNIONmXNsXNdXNnBNMBNRBNrXNWDNWMNFOQABQAHQBrQXBQXFQaRQKXQKDQKOQKFQNBQNDQQgQCXQCDQGBQGDQGdQYXQpBQpQQpHQLXQHuQgBQhBQhCQuFQmXQiDQUFQZDQsFQdRQkHQbRQlOQlmQPDQjDQwXQMBQMDQcFQTBQTHQrDDXQDNFDGBDGQDGRDpFDhFDmXDZXDbRDMYDRdDTRDrXSAhSBCSBrSGQSEQSHBSVRShYShkSyQSuFSiBSdcSoESocSlmSMBSFBSFKSFNSFdSFcCByCaRCKcCSBCSRCCrCGbCEHCYXCpBCpQCIBCIHCeNCgBCgFCVECVcCmkCmwCZXCZFCdRClOClmClFCjDCjdCnXCwBCwXCcRCFQCFjGXhGNhGDEGDMGCDGCHGIFGgBGVXGVEGVRGmXGsXGdYGoSGbRGnXGwXGwDGWRGFNGFLGFOGFdGFkEABEBDEBFEXOEaBEKSENBENDEYXEIgEIkEgBEgQEgHEhFEudEuFEiBEiHEiFEZDEvBEsXEsFEdXEdREkFEbBEbRElFEPCEfkEFNYAEYAhYBNYQdYDXYSRYCEYYoYgQYgRYuRYmCYZTYdBYbEYlXYjQYRbYWRpKXpQopQnpSFpCXpIBpISphNpdBpdRpbRpcZpFBpFNpFDpFopFrLADLBuLXQLXcLaFLCXLEhLpBLpFLHXLeVLhILdHLdRLoDLbRLrXIABIBQIBCIBsIBoIBMIBRIXaIaRIKYIKRINBINuICDIGBIIDIIkIgRIxFIyQIiHIdRIbYIbRIlHIwRIMYIcRIRVITRIFBIFNIFQOABOAFOBQOaFONBONMOQFOSFOCDOGBOEQOpBOLXOIBOIFOgQOgFOyQOycOmXOsXOdIOkHOMEOMkOWWHBNHXNHXWHNXHDuHDRHSuHSRHHoHhkHmRHdRHkQHlcHlRHwBHWcgAEgAggAkgBNgBQgBEgXOgYcgLXgHjgyQgiBgsFgdagMYgWSgFQgFEVBTVXEVKBVKNVKDVKYVKRVNBVNYVDBVDxVSBVSRVCjVGNVLXVIFVhBVhcVsXVdRVbRVlRhBYhKYhDYhGShxWhmNhdahdkhbRhjohMXhTRxAXxXSxKBxNBxEQxeNxeQxhXxsFxdbxlHxjcxFBxFNxFQxFOxFoyNYyYoybcyMYuBQuBRuBruDMuCouHBudQukkuoBulVuMXuFEmCYmCRmpRmeDmiMmjdmTFmFQiADiBOiaRiKRiNBiNRiSFiGkiGFiERipRiLFiIFihYibHijBijEiMXiWBiFBiFCUBQUXFUaRUNDUNcUNRUNFUDBUSHUCDUGBUGFUEqULNULoUIRUeEUeYUgBUhFUuRUiFUsXUdFUkHUbBUjSUjYUwXUMDUcHURdUTBUrBUrXUrQZAFZXZZaRZKFZNBZQFZCXZGBZYdZpBZLDZIFZHXZHNZeQZVRZVFZmXZiBZvFZdFZkFZbHZbFZwXZcCZcRZRBvBQvBGvBLvBWvCovMYsAFsBDsaRsKFsNFsDrsSHsSFsCXsCRsEBsEHsEfspBsLBsLDsIgsIRseGsbRsFBsFQsFSdNBdSRdCVdGHdYDdHcdVbdySduDdsXdlRdwXdWYdWcdWRkBMkXOkaRkNIkNFkSFkCFkYBkpRkeNkgBkhVkmXksFklVkMBkWDkFNoBNoaQoaFoNBoNXoNaoNEoSRoEroYXoYCoYbopRopFomXojkowXorFbBEbEIbdBbjYlaRlDElMXlFDjKjjSRjGBjYBjYkjpRjLXjIBjOFjeVjbRjwBnXQnSHnpFnLXnINnMBnTRwXBwXNwXYwNFwQFwSBwGFwLXwLDweNwgBwuHwjDwnXMBXMpFMIBMeNMTHcaQcNBcDHcSFcCXcpBcLXcLDcgFcuFcnXcwXccDcTQcrFTQErXNrCHrpFrgFrbFrTHrFcWNYWNbWEHWMXWTR","ABGHABIJAEAVAYJQALZJAIaRAHNXAHdcAHbRAZJMAZJRAZTRAdVJAklmAbcNAjdRAMnRAMWYAWpRAWgRAFgBAFhBAFdcBNJBBNJDBQKBBQhcBQlmBDEJBYJkBYJTBpNBBpJFBIJBBIJDBIcABOKXBOEJBOVJBOiJBOZJBepBBeLXBeIFBegBBgGJBVJXBuocBiJRBUJQBlXVBlITBwNFBMYVBcqXBTlmBWNFBWiJBWnRBFGHBFwXXKGJXNJBXNZJXDTTXSHSXSVRXSlHXCJDXGQJXEhXXYQJXYbRXOfXXeNcXVJFXhQJXhEJXdTRXjdXXMhBXcQTXRGBXTEBXTnQXFCXXFOFXFgFaBaFaBNJaBCJaBpBaBwXaNJKaNJDaQIBaDpRaEPDaHMFamDJalEJaMZJaFaFaFNBaFQJaFLDaFVHKBCYKBEBKBHDKXaFKXGdKXEJKXpHKXIBKXZDKXwXKKwLKNacKNYJKNJoKNWcKDGdKDTRKChXKGaRKGhBKGbRKEBTKEaRKEPTKLMDKLWRKOHDKVJcKdBcKlIBKlOPKFSBKFEPKFpFNBNJNJBQNBGHNBEPNBHXNBgFNBVXNBZDNBsXNBwXNNaRNNJDNNJENNJkNDCJNDVDNGJRNJiDNZJNNsCJNJFNNFSBNFCXNFEPNFLXNFIFQJBFQCaRQJEQQLJDQLJFQIaRQOqXQHaFQHHQQVJXQVJDQhNJQmEIQZJFQsJXQJrFQWbRDJABDBYJDXNFDXCXDXLXDXZDDXsJDQqXDSJFDJCXDEPkDEqXDYmQDpSJDOCkDOGQDHEIDVJDDuDuDWEBDJFgSBNDSBSFSBGHSBIBSBTQSKVYSJQNSJQiSJCXSEqXSJYVSIiJSOMYSHAHSHaQSeCFSepQSegBSHdHSHrFShSJSJuHSJUFSkNRSrSrSWEBSFaHSJFQSFCXSFGDSFYXSFODSFgBSFVXSFhBSFxFSFkFSFbBSFMFCADdCJXBCXaFCXKFCXNFCXCXCXGBCXEJCXYBCXLDCXIBCXOPCXHXCXgBCXhBCXiBCXlDCXcHCJNBCJNFCDCJCDGBCDVXCDhBCDiDCDJdCCmNCpJFCIaRCOqXCHCHCHZJCViJCuCuCmddCJiFCdNBCdHhClEJCnUJCreSCWlgCWTRCFBFCFNBCFYBCFVFCFhFCFdSCFTBCFWDGBNBGBQFGJBCGBEqGBpBGBgQGNBEGNJYGNkOGNJRGDUFGJpQGHaBGJeNGJeEGVBlGVKjGiJDGvJHGsVJGkEBGMIJGWjNGFBFGFCXGFGBGFYXGFpBGFMFEASJEAWpEJNFECJVEIXSEIQJEOqXEOcFEeNcEHEJEHlFEJgFEhlmEmDJEmZJEiMBEUqXEoSREPBFEPXFEPKFEPSFEPEFEPpFEPLXEPIBEJPdEPcFEPTBEJnXEqlHEMpREFCXEFODEFcFYASJYJAFYBaBYBVXYXpFYDhBYCJBYJGFYYbRYeNcYJeVYiIJYZJcYvJgYvJRYJsXYsJFYMYMYreVpBNHpBEJpBwXpQxFpYEJpeNDpJeDpeSFpeCHpHUJpHbBpHcHpmUJpiiJpUJrpsJuplITpFaBpFQqpFGBpFEfpFYBpFpBpFLJpFIDpFgBpFVXpFyQpFuFpFlFpFjDpFnXpFwXpJFMpFTBLXCJLXEFLXhFLXUJLXbFLalmLNJBLSJQLCLCLGJBLLDJLHaFLeNFLeSHLeCXLepFLhaRLZsJLsJDLsJrLocaLlLlLMdbLFNBLFSBLFEHLFkFIBBFIBXFIBaQIBKXIBSFIBpHIBLXIBgBIBhBIBuHIBmXIBiFIBZXIBvFIBbFIBjQIBwXIBWFIKTRIQUJIDGFICjQIYSRIINXIJeCIVaRImEkIZJFIvJRIsJXIdCJIJoRIbBQIjYBIcqXITFVIreVIFKFIFSFIFCJIFGFIFLDIFIBIJFOIFgBIFVXIJFhIFxFIFmXIFdHIFbBIJFrIJFWOBGBOQfXOOKjOUqXOfXBOqXEOcqXORVJOFIBOFlDHBIOHXiFHNTRHCJXHIaRHHJDHHEJHVbRHZJYHbIBHRsJHRkDHWlmgBKFgBSBgBCDgBGHgBpBgBIBgBVJgBuBgBvFgKDTgQVXgDUJgGSJgOqXgmUMgZIJgTUJgWIEgFBFgFNBgFDJgFSFgFGBgFYXgJFOgFgQgFVXgFhBgFbHgJFWVJABVQKcVDgFVOfXVeDFVhaRVmGdViJYVMaRVFNHhBNDhBCXhBEqhBpFhBLXhNJBhSJRheVXhhKEhxlmhZIJhdBQhkIJhbMNhMUJhMZJxNJgxQUJxDEkxDdFxSJRxplmxeSBxeCXxeGFxeYXxepQxegBxWVcxFEQxFLXxFIBxFgBxFxDxFZtxFdcxFbBxFwXyDJXyDlcuASJuDJpuDIBuCpJuGSJuIJFueEFuZIJusJXudWEuoIBuWGJuFBcuFKEuFNFuFQFuFDJuFGJuFVJuFUtuFdHuFTBmBYJmNJYmQhkmLJDmLJomIdXmiJYmvJRmsJRmklmmMBymMuCmclmmcnQiJABiJBNiJBDiBSFiBCJiBEFiBYBiBpFiBLXiBTHiJNciDEfiCZJiECJiJEqiOkHiHKFieNDiHJQieQcieDHieSFieCXieGFieEFieIHiegFihUJixNoioNXiFaBiFKFiFNDiFEPiFYXitFOitFHiFgBiFVEiFmXiFitiFbBiFMFiFrFUCXQUIoQUIJcUHQJUeCEUHwXUUJDUUqXUdWcUcqXUrnQUFNDUFSHUFCFUFEfUFLXUtFOZBXOZXSBZXpFZXVXZEQJZEJkZpDJZOqXZeNHZeCDZUqXZFBQZFEHZFLXvBAFvBKFvBCXvBEPvBpHvBIDvBgFvBuHvQNJvFNFvFGBvFIBvJFcsXCDsXLXsXsXsXlFsXcHsQqXsJQFsEqXseIFsFEHsFjDdBxOdNpRdNJRdEJbdpJRdhZJdnSJdrjNdFNJdFQHdFhNkNJDkYaRkHNRkHSRkVbRkuMRkjSJkcqDoSJFoEiJoYZJoOfXohEBoMGQocqXbBAFbBXFbBaFbBNDbBGBbBLXbBTBbBWDbGJYbIJHbFQqbFpQlDgQlOrFlVJRjGEBjZJRnXvJnXbBnEfHnOPDngJRnxfXnUJWwXEJwNpJwDpBwEfXwrEBMDCJMDGHMDIJMLJDcQGDcQpHcqXccqNFcqCXcFCJRBSBRBGBRBEJRBpQTBNFTBQJTBpBTBVXTFABTFSBTFCFTFGBTFMDrXCJrXLDrDNJrEfHrFQJrFitWNjdWNTR","AKLJMANOPFASNJIAEJWXAYJNRAIIbRAIcdaAeEfDAgidRAdjNYAMYEJAMIbRAFNJBAFpJFBBIJYBDZJFBSiJhBGdEBBEJfXBEJqXBEJWRBpaUJBLXrXBIYJMBOcfXBeEfFBestXBjNJRBcDJOBFEqXXNvJRXDMBhXCJNYXOAWpXONJWXHDEBXeIaRXhYJDXZJSJXMDJOXcASJXFVJXaBQqXaBZJFasXdQaFSJQaFEfXaFpJHaFOqXKBNSRKXvJBKQJhXKEJQJKEJGFKINJBKIJjNKgJNSKVElmKVhEBKiJGFKlBgJKjnUJKwsJYKMFIJKFNJDKFIJFKFOfXNJBSFNJBCXNBpJFNJBvQNJBMBNJLJXNJOqXNJeCXNJeGFNdsJCNbTKFNwXUJQNFEPQDiJcQDMSJQSFpBQGMQJQJeOcQyCJEQUJEBQJFBrQFEJqDXDJFDJXpBDJXIMDGiJhDIJGRDJeYcDHrDJDVXgFDkAWpDkIgRDjDEqDMvJRDJFNFDJFIBSKclmSJQOFSJQVHSJQjDSJGJBSJGJFSECJoSHEJqSJHTBSJVJDSViJYSZJNBSJsJDSFSJFSFEfXSJFLXCBUJVCJXSBCJXpBCXVJXCJXsXCJXdFCJNJHCLIJgCHiJFCVNJMChCJhCUHEJCsJTRCJdYcCoQJCCFEfXCFIJgCFUJxCFstFGJBaQGJBIDGQJqXGYJNRGJHKFGeQqDGHEJFGJeLXGHIiJGHdBlGUJEBGkIJTGFQPDGJFEqEAGegEJIJBEJVJXEhQJTEiJNcEJZJFEJoEqEjDEqEPDsXEPGJBEPOqXEPeQFEfDiDEJfEFEfepQEfMiJEqXNBEqDIDEqeSFEqVJXEMvJRYXNJDYXEJHYKVJcYYJEBYJeEcYJUqXYFpJFYFstXpAZJMpBSJFpNBNFpeQPDpHLJDpHIJFpHgJFpeitFpHZJFpJFADpFSJFpJFCJpFOqXpFitBpJFZJLXIJFLIJgRLVNJWLVHJMLwNpJLFGJBLFLJDLFOqXLJFUJIBDJXIBGJBIJBYQIJBIBIBOqXIBcqDIEGJFILNJTIIJEBIOiJhIJeNBIJeIBIhiJIIWoTRIJFAHIJFpBIJFuHIFUtFIJFTHOSBYJOEcqXOHEJqOvBpFOkVJrObBVJOncqDOcNJkHhNJRHuHJuHdMhBgBUqXgBsJXgONJBgHNJDgHHJQgJeitgHsJXgJyNagyDJBgZJDrgsVJQgkEJNgkjSJgJFAHgFCJDgFZtMVJXNFVXQfXVJXDJVXoQJVQVJQVDEfXVDvJHVEqNFVeQfXVHpJFVHxfXVVJSRVVmaRVlIJOhCXVJhHjYkhxCJVhWVUJhWiJcxBNJIxeEqDxfXBFxcFEPxFSJFxFYJXyBDQJydaUJyFOPDuYCJYuLvJRuHLJXuZJLDuFOPDuFZJHuFcqXmKHJdmCQJcmOsVJiJAGFitLCFieOfXiestXiZJMEikNJQirXzFiFQqXiFIJFiFZJFiFvtFUHpJFUteIcUteOcUVCJkUhdHcUbEJEUJqXQUMNJhURjYkUFitFZDGJHZJIxDZJVJXZJFDJZJFpQvBNJBvBSJFvJxBrseQqDsVFVJdFLJDkEJNBkmNJYkFLJDoQJOPoGsJRoEAHBoEJfFbBQqDbBZJHbFVJXlFIJBjYIrXjeitcjjCEBjWMNBwXQfXwXOaFwDsJXwCJTRwrCZJMDNJQcDDJFcqDOPRYiJFTBsJXTQIJBTFEfXTFLJDrXEJFrEJXMrFZJFWEJdEWYTlm","ABCDEFACNJTRAMBDJdAcNJVXBLNJEBXSIdWRXErNJkXYDJMBXZJCJaXMNJaYKKVJKcKDEJqXKDcNJhKVJrNYKbgJVXKFVJSBNBYBwDNJeQfXNJeEqXNhGJWENJFiJRQlIJbEQJfXxDQqXcfXQFNDEJQFwXUJDYcnUJDJIBgQDIUJTRDJFEqDSJQSJFSJQIJFSOPeZtSJFZJHCJXQfXCTDEqFGJBSJFGJBOfXGJBcqXGJHNJDGJRLiJEJfXEqEJFEJPEFpBEJYJBZJFYBwXUJYiJMEBYJZJyTYTONJXpQMFXFpeGIDdpJFstXpJFcPDLBVSJRLHQJqXLJFZJFIJBNJDIJBUqXIBkFDJIJEJPTIYJGWRIJeQPDIJeEfHIJFsJXOqGDSFHXEJqXgJCsJCgGQJqXgdQYJEgFMFNBgJFcqDVJwXUJVJFZJchIgJCCxOEJqXxOwXUJyDJBVRuscisciJBiJBieUtqXiJFDJkiFsJXQUGEZJcUJFsJXZtXIrXZDZJDrZJFNJDZJFstXvJFQqXvJFCJEsJXQJqkhkNGBbDJdTRbYJMEBlDwXUJMEFiJFcfXNJDRcNJWMTBLJXC","BraFUtHBFSJFdbNBLJXVJQoYJNEBSJBEJfHSJHwXUJCJdAZJMGjaFVJXEJPNJBlEJfFiJFpFbFEJqIJBVJCrIBdHiJhOPFChvJVJZJNJWxGFNIFLueIBQJqUHEJfUFstOZJDrlXEASJRlXVJXSFwVJNJWD","QJEJNNJDQJEJIBSFQJEJxegBQJEJfHEPSJBmXEJFSJCDEJqXLXNJFQqXIcQsFNJFIFEJqXUJgFsJXIJBUJEJfHNFvJxEqXNJnXUJFQqD","IJBEJqXZJ"],N1r="~~AzB~X~a~KN~Q~D~S~C~G~E~Y~p~L~I~O~eH~g~V~hxyumi~~U~~Z~~v~~s~~dkoblPjfnqwMcRTr~W~~~F~~~~~Jt",Bve=null;function O0t(t){return xe(Yr(t))}var O1r="0xe3818de38284e3818f",P1r="0xe3818de38283e3818f";function Up(t){return ao(new Uint8Array(t))}function P0t(){if(Bve!==null)return Bve;let t=[],e={};e[Up([227,130,154])]=!1,e[Up([227,130,153])]=!1,e[Up([227,130,133])]=Up([227,130,134]),e[Up([227,129,163])]=Up([227,129,164]),e[Up([227,130,131])]=Up([227,130,132]),e[Up([227,130,135])]=Up([227,130,136]);function r(o){let s="";for(let a=0;a<o.length;a++){let c=o[a],l=e[c];l!==!1&&(l&&(c=l),s+=c)}return s}function n(o,s){return o=r(o),s=r(s),o<s?-1:o>s?1:0}for(let o=3;o<=9;o++){let s=C1r[o-3];for(let a=0;a<s.length;a+=o){let c=[];for(let l=0;l<o;l++){let u=N1r.indexOf(s[a+l]);c.push(227),c.push(u&64?130:129),c.push((u&63)+128)}t.push(Up(c))}}if(t.sort(n),O0t(t[442])===O1r&&O0t(t[443])===P1r){let o=t[442];t[442]=t[443],t[443]=o}if(ki(t.join(`
`)+`
`)!=="0xcb36b09e6baa935787fd762ce65e80b0c6a8dabdfbc3a7f86ac0e2c4fd111600")throw new Error("BIP39 Wordlist for ja (Japanese) FAILED");return Bve=t,t}var $ve=null,WG=class t extends Bl{constructor(){super("ja")}getWord(e){let r=P0t();return K(e>=0&&e<r.length,`invalid word index: ${e}`,"index",e),r[e]}getWordIndex(e){return P0t().indexOf(e)}split(e){return e.split(/(?:\u3000| )+/g)}join(e){return e.join("\u3000")}static wordlist(){return $ve==null&&($ve=new t),$ve}};var k1r=["OYAa","ATAZoATBl3ATCTrATCl8ATDloATGg3ATHT8ATJT8ATJl3ATLlvATLn4ATMT8ATMX8ATMboATMgoAToLbAToMTATrHgATvHnAT3AnAT3JbAT3MTAT8DbAT8JTAT8LmAT8MYAT8MbAT#LnAUHT8AUHZvAUJXrAUJX8AULnrAXJnvAXLUoAXLgvAXMn6AXRg3AXrMbAX3JTAX3QbAYLn3AZLgvAZrSUAZvAcAZ8AaAZ8AbAZ8AnAZ8HnAZ8LgAZ8MYAZ8MgAZ8OnAaAboAaDTrAaFTrAaJTrAaJboAaLVoAaMXvAaOl8AaSeoAbAUoAbAg8AbAl4AbGnrAbMT8AbMXrAbMn4AbQb8AbSV8AbvRlAb8AUAb8AnAb8HgAb8JTAb8NTAb8RbAcGboAcLnvAcMT8AcMX8AcSToAcrAaAcrFnAc8AbAc8MgAfGgrAfHboAfJnvAfLV8AfLkoAfMT8AfMnoAfQb8AfScrAfSgrAgAZ8AgFl3AgGX8AgHZvAgHgrAgJXoAgJX8AgJboAgLZoAgLn4AgOX8AgoATAgoAnAgoCUAgoJgAgoLXAgoMYAgoSeAgrDUAgrJTAhrFnAhrLjAhrQgAjAgoAjJnrAkMX8AkOnoAlCTvAlCV8AlClvAlFg4AlFl6AlFn3AloSnAlrAXAlrAfAlrFUAlrFbAlrGgAlrOXAlvKnAlvMTAl3AbAl3MnAnATrAnAcrAnCZ3AnCl8AnDg8AnFboAnFl3AnHX4AnHbrAnHgrAnIl3AnJgvAnLXoAnLX4AnLbrAnLgrAnLhrAnMXoAnMgrAnOn3AnSbrAnSeoAnvLnAn3OnCTGgvCTSlvCTvAUCTvKnCTvNTCT3CZCT3GUCT3MTCT8HnCUCZrCULf8CULnvCU3HnCU3JUCY6NUCbDb8CbFZoCbLnrCboOTCboScCbrFnCbvLnCb8AgCb8HgCb$LnCkLfoClBn3CloDUDTHT8DTLl3DTSU8DTrAaDTrLXDTrLjDTrOYDTrOgDTvFXDTvFnDT3HUDT3LfDUCT9DUDT4DUFVoDUFV8DUFkoDUGgrDUJnrDULl8DUMT8DUMXrDUMX4DUMg8DUOUoDUOgvDUOg8DUSToDUSZ8DbDXoDbDgoDbGT8DbJn3DbLg3DbLn4DbMXrDbMg8DbOToDboJXGTClvGTDT8GTFZrGTLVoGTLlvGTLl3GTMg8GTOTvGTSlrGToCUGTrDgGTrJYGTrScGTtLnGTvAnGTvQgGUCZrGUDTvGUFZoGUHXrGULnvGUMT8GUoMgGXoLnGXrMXGXrMnGXvFnGYLnvGZOnvGZvOnGZ8LaGZ8LmGbAl3GbDYvGbDlrGbHX3GbJl4GbLV8GbLn3GbMn4GboJTGboRfGbvFUGb3GUGb4JnGgDX3GgFl$GgJlrGgLX6GgLZoGgLf8GgOXoGgrAgGgrJXGgrMYGgrScGgvATGgvOYGnAgoGnJgvGnLZoGnLg3GnLnrGnQn8GnSbrGnrMgHTClvHTDToHTFT3HTQT8HToJTHToJgHTrDUHTrMnHTvFYHTvRfHT8MnHT8SUHUAZ8HUBb4HUDTvHUoMYHXFl6HXJX6HXQlrHXrAUHXrMnHXrSbHXvFYHXvKXHX3LjHX3MeHYvQlHZrScHZvDbHbAcrHbFT3HbFl3HbJT8HbLTrHbMT8HbMXrHbMbrHbQb8HbSX3HboDbHboJTHbrFUHbrHgHbrJTHb8JTHb8MnHb8QgHgAlrHgDT3HgGgrHgHgrHgJTrHgJT8HgLX@HgLnrHgMT8HgMX8HgMboHgOnrHgQToHgRg3HgoHgHgrCbHgrFnHgrLVHgvAcHgvAfHnAloHnCTrHnCnvHnGTrHnGZ8HnGnvHnJT8HnLf8HnLkvHnMg8HnRTrITvFUITvFnJTAXrJTCV8JTFT3JTFT8JTFn4JTGgvJTHT8JTJT8JTJXvJTJl3JTJnvJTLX4JTLf8JTLhvJTMT8JTMXrJTMnrJTObrJTQT8JTSlvJT8DUJT8FkJT8MTJT8OXJT8OgJT8QUJT8RfJUHZoJXFT4JXFlrJXGZ8JXGnrJXLV8JXLgvJXMXoJXMX3JXNboJXPlvJXoJTJXoLkJXrAXJXrHUJXrJgJXvJTJXvOnJX4KnJYAl3JYJT8JYLhvJYQToJYrQXJY6NUJbAl3JbCZrJbDloJbGT8JbGgrJbJXvJbJboJbLf8JbLhrJbLl3JbMnvJbRg8JbSZ8JboDbJbrCZJbrSUJb3KnJb8LnJfRn8JgAXrJgCZrJgDTrJgGZrJgGZ8JgHToJgJT8JgJXoJgJgvJgLX4JgLZ3JgLZ8JgLn4JgMgrJgMn4JgOgvJgPX6JgRnvJgSToJgoCZJgoJbJgoMYJgrJXJgrJgJgrLjJg6MTJlCn3JlGgvJlJl8Jl4AnJl8FnJl8HgJnAToJnATrJnAbvJnDUoJnGnrJnJXrJnJXvJnLhvJnLnrJnLnvJnMToJnMT8JnMXvJnMX3JnMg8JnMlrJnMn4JnOX8JnST4JnSX3JnoAgJnoAnJnoJTJnoObJnrAbJnrAkJnrHnJnrJTJnrJYJnrOYJnrScJnvCUJnvFaJnvJgJnvJnJnvOYJnvQUJnvRUJn3FnJn3JTKnFl3KnLT6LTDlvLTMnoLTOn3LTRl3LTSb4LTSlrLToAnLToJgLTrAULTrAcLTrCULTrHgLTrMgLT3JnLULnrLUMX8LUoJgLVATrLVDTrLVLb8LVoJgLV8MgLV8RTLXDg3LXFlrLXrCnLXrLXLX3GTLX4GgLX4OYLZAXrLZAcrLZAgrLZAhrLZDXyLZDlrLZFbrLZFl3LZJX6LZJX8LZLc8LZLnrLZSU8LZoJTLZoJnLZrAgLZrAnLZrJYLZrLULZrMgLZrSkLZvAnLZvGULZvJeLZvOTLZ3FZLZ4JXLZ8STLZ8ScLaAT3LaAl3LaHT8LaJTrLaJT8LaJXrLaJgvLaJl4LaLVoLaMXrLaMXvLaMX8LbClvLbFToLbHlrLbJn4LbLZ3LbLhvLbMXrLbMnoLbvSULcLnrLc8HnLc8MTLdrMnLeAgoLeOgvLeOn3LfAl3LfLnvLfMl3LfOX8Lf8AnLf8JXLf8LXLgJTrLgJXrLgJl8LgMX8LgRZrLhCToLhrAbLhrFULhrJXLhvJYLjHTrLjHX4LjJX8LjLhrLjSX3LjSZ4LkFX4LkGZ8LkGgvLkJTrLkMXoLkSToLkSU8LkSZ8LkoOYLl3FfLl3MgLmAZrLmCbrLmGgrLmHboLmJnoLmJn3LmLfoLmLhrLmSToLnAX6LnAb6LnCZ3LnCb3LnDTvLnDb8LnFl3LnGnrLnHZvLnHgvLnITvLnJT8LnJX8LnJlvLnLf8LnLg6LnLhvLnLnoLnMXrLnMg8LnQlvLnSbrLnrAgLnrAnLnrDbLnrFkLnrJdLnrMULnrOYLnrSTLnvAnLnvDULnvHgLnvOYLnvOnLn3GgLn4DULn4JTLn4JnMTAZoMTAloMTDb8MTFT8MTJnoMTJnrMTLZrMTLhrMTLkvMTMX8MTRTrMToATMTrDnMTrOnMT3JnMT4MnMT8FUMT8FaMT8FlMT8GTMT8GbMT8GnMT8HnMT8JTMT8JbMT8OTMUCl8MUJTrMUJU8MUMX8MURTrMUSToMXAX6MXAb6MXCZoMXFXrMXHXrMXLgvMXOgoMXrAUMXrAnMXrHgMXrJYMXrJnMXrMTMXrMgMXrOYMXrSZMXrSgMXvDUMXvOTMX3JgMX3OTMX4JnMX8DbMX8FnMX8HbMX8HgMX8HnMX8LbMX8MnMX8OnMYAb8MYGboMYHTvMYHX4MYLTrMYLnvMYMToMYOgvMYRg3MYSTrMbAToMbAXrMbAl3MbAn8MbGZ8MbJT8MbJXrMbMXvMbMX8MbMnoMbrMUMb8AfMb8FbMb8FkMcJXoMeLnrMgFl3MgGTvMgGXoMgGgrMgGnrMgHT8MgHZrMgJnoMgLnrMgLnvMgMT8MgQUoMgrHnMgvAnMg8HgMg8JYMg8LfMloJnMl8ATMl8AXMl8JYMnAToMnAT4MnAZ8MnAl3MnAl4MnCl8MnHT8MnHg8MnJnoMnLZoMnLhrMnMXoMnMX3MnMnrMnOgvMnrFbMnrFfMnrFnMnrNTMnvJXNTMl8OTCT3OTFV8OTFn3OTHZvOTJXrOTOl3OT3ATOT3JUOT3LZOT3LeOT3MbOT8ATOT8AbOT8AgOT8MbOUCXvOUMX3OXHXvOXLl3OXrMUOXvDbOX6NUOX8JbOYFZoOYLbrOYLkoOYMg8OYSX3ObHTrObHT4ObJgrObLhrObMX3ObOX8Ob8FnOeAlrOeJT8OeJXrOeJnrOeLToOeMb8OgJXoOgLXoOgMnrOgOXrOgOloOgoAgOgoJbOgoMYOgoSTOg8AbOjLX4OjMnoOjSV8OnLVoOnrAgOn3DUPXQlrPXvFXPbvFTPdAT3PlFn3PnvFbQTLn4QToAgQToMTQULV8QURg8QUoJnQXCXvQbFbrQb8AaQb8AcQb8FbQb8MYQb8ScQeAlrQeLhrQjAn3QlFXoQloJgQloSnRTLnvRTrGURTrJTRUJZrRUoJlRUrQnRZrLmRZrMnRZrSnRZ8ATRZ8JbRZ8ScRbMT8RbST3RfGZrRfMX8RfMgrRfSZrRnAbrRnGT8RnvJgRnvLfRnvMTRn8AaSTClvSTJgrSTOXrSTRg3STRnvSToAcSToAfSToAnSToHnSToLjSToMTSTrAaSTrEUST3BYST8AgST8LmSUAZvSUAgrSUDT4SUDT8SUGgvSUJXoSUJXvSULTrSU8JTSU8LjSV8AnSV8JgSXFToSXLf8SYvAnSZrDUSZrMUSZrMnSZ8HgSZ8JTSZ8JgSZ8MYSZ8QUSaQUoSbCT3SbHToSbQYvSbSl4SboJnSbvFbSb8HbSb8JgSb8OTScGZrScHgrScJTvScMT8ScSToScoHbScrMTScvAnSeAZrSeAcrSeHboSeJUoSeLhrSeMT8SeMXrSe6JgSgHTrSkJnoSkLnvSk8CUSlFl3SlrSnSl8GnSmAboSmGT8SmJU8","ATLnDlATrAZoATrJX4ATrMT8ATrMX4ATrRTrATvDl8ATvJUoATvMl8AT3AToAT3MX8AT8CT3AT8DT8AT8HZrAT8HgoAUAgFnAUCTFnAXoMX8AXrAT8AXrGgvAXrJXvAXrOgoAXvLl3AZvAgoAZvFbrAZvJXoAZvJl8AZvJn3AZvMX8AZvSbrAZ8FZoAZ8LZ8AZ8MU8AZ8OTvAZ8SV8AZ8SX3AbAgFZAboJnoAbvGboAb8ATrAb8AZoAb8AgrAb8Al4Ab8Db8Ab8JnoAb8LX4Ab8LZrAb8LhrAb8MT8Ab8OUoAb8Qb8Ab8ST8AcrAUoAcrAc8AcrCZ3AcrFT3AcrFZrAcrJl4AcrJn3AcrMX3AcrOTvAc8AZ8Ac8MT8AfAcJXAgoFn4AgoGgvAgoGnrAgoLc8AgoMXoAgrLnrAkrSZ8AlFXCTAloHboAlrHbrAlrLhrAlrLkoAl3CZrAl3LUoAl3LZrAnrAl4AnrMT8An3HT4BT3IToBX4MnvBb!Ln$CTGXMnCToLZ4CTrHT8CT3JTrCT3RZrCT#GTvCU6GgvCU8Db8CU8GZrCU8HT8CboLl3CbrGgrCbrMU8Cb8DT3Cb8GnrCb8LX4Cb8MT8Cb8ObrCgrGgvCgrKX4Cl8FZoDTrAbvDTrDboDTrGT6DTrJgrDTrMX3DTrRZrDTrRg8DTvAVvDTvFZoDT3DT8DT3Ln3DT4HZrDT4MT8DT8AlrDT8MT8DUAkGbDUDbJnDYLnQlDbDUOYDbMTAnDbMXSnDboAT3DboFn4DboLnvDj6JTrGTCgFTGTGgFnGTJTMnGTLnPlGToJT8GTrCT3GTrLVoGTrLnvGTrMX3GTrMboGTvKl3GZClFnGZrDT3GZ8DTrGZ8FZ8GZ8MXvGZ8On8GZ8ST3GbCnQXGbMbFnGboFboGboJg3GboMXoGb3JTvGb3JboGb3Mn6Gb3Qb8GgDXLjGgMnAUGgrDloGgrHX4GgrSToGgvAXrGgvAZvGgvFbrGgvLl3GgvMnvGnDnLXGnrATrGnrMboGnuLl3HTATMnHTAgCnHTCTCTHTrGTvHTrHTvHTrJX8HTrLl8HTrMT8HTrMgoHTrOTrHTuOn3HTvAZrHTvDTvHTvGboHTvJU8HTvLl3HTvMXrHTvQb4HT4GT6HT4JT8HT4Jb#HT8Al3HT8GZrHT8GgrHT8HX4HT8Jb8HT8JnoHT8LTrHT8LgvHT8SToHT8SV8HUoJUoHUoJX8HUoLnrHXrLZoHXvAl3HX3LnrHX4FkvHX4LhrHX4MXoHX4OnoHZrAZ8HZrDb8HZrGZ8HZrJnrHZvGZ8HZvLnvHZ8JnvHZ8LhrHbCXJlHbMTAnHboJl4HbpLl3HbrJX8HbrLnrHbrMnvHbvRYrHgoSTrHgrFV8HgrGZ8HgrJXoHgrRnvHgvBb!HgvGTrHgvHX4HgvHn!HgvLTrHgvSU8HnDnLbHnFbJbHnvDn8Hn6GgvHn!BTvJTCTLnJTQgFnJTrAnvJTrLX4JTrOUoJTvFn3JTvLnrJTvNToJT3AgoJT3Jn4JT3LhvJT3ObrJT8AcrJT8Al3JT8JT8JT8JnoJT8LX4JT8LnrJT8MX3JT8Rg3JT8Sc8JUoBTvJU8AToJU8GZ8JU8GgvJU8JTrJU8JXrJU8JnrJU8LnvJU8ScvJXHnJlJXrGgvJXrJU8JXrLhrJXrMT8JXrMXrJXrQUoJXvCTvJXvGZ8JXvGgrJXvQT8JX8Ab8JX8DT8JX8GZ8JX8HZvJX8LnrJX8MT8JX8MXoJX8MnvJX8ST3JYGnCTJbAkGbJbCTAnJbLTAcJboDT3JboLb6JbrAnvJbrCn3JbrDl8JbrGboJbrIZoJbrJnvJbrMnvJbrQb4Jb8RZrJeAbAnJgJnFbJgScAnJgrATrJgvHZ8JgvMn4JlJlFbJlLiQXJlLjOnJlRbOlJlvNXoJlvRl3Jl4AcrJl8AUoJl8MnrJnFnMlJnHgGbJnoDT8JnoFV8JnoGgvJnoIT8JnoQToJnoRg3JnrCZ3JnrGgrJnrHTvJnrLf8JnrOX8JnvAT3JnvFZoJnvGT8JnvJl4JnvMT8JnvMX8JnvOXrJnvPX6JnvSX3JnvSZrJn3MT8Jn3MX8Jn3RTrLTATKnLTJnLTLTMXKnLTRTQlLToGb8LTrAZ8LTrCZ8LTrDb8LTrHT8LT3PX6LT4FZoLT$CTvLT$GgrLUvHX3LVoATrLVoAgoLVoJboLVoMX3LVoRg3LV8CZ3LV8FZoLV8GTvLXrDXoLXrFbrLXvAgvLXvFlrLXvLl3LXvRn6LX4Mb8LX8GT8LYCXMnLYrMnrLZoSTvLZrAZvLZrAloLZrFToLZrJXvLZrJboLZrJl4LZrLnrLZrMT8LZrOgvLZrRnvLZrST4LZvMX8LZvSlvLZ8AgoLZ8CT3LZ8JT8LZ8LV8LZ8LZoLZ8Lg8LZ8SV8LZ8SbrLZ$HT8LZ$Mn4La6CTvLbFbMnLbRYFTLbSnFZLboJT8LbrAT9LbrGb3LbrQb8LcrJX8LcrMXrLerHTvLerJbrLerNboLgrDb8LgrGZ8LgrHTrLgrMXrLgrSU8LgvJTrLgvLl3Lg6Ll3LhrLnrLhrMT8LhvAl4LiLnQXLkoAgrLkoJT8LkoJn4LlrSU8Ll3FZoLl3HTrLl3JX8Ll3JnoLl3LToLmLeFbLnDUFbLnLVAnLnrATrLnrAZoLnrAb8LnrAlrLnrGgvLnrJU8LnrLZrLnrLhrLnrMb8LnrOXrLnrSZ8LnvAb4LnvDTrLnvDl8LnvHTrLnvHbrLnvJT8LnvJU8LnvJbrLnvLhvLnvMX8LnvMb8LnvNnoLnvSU8Ln3Al3Ln4FZoLn4GT6Ln4JgvLn4LhrLn4MT8Ln4SToMToCZrMToJX8MToLX4MToLf8MToRg3MTrEloMTvGb6MT3BTrMT3Lb6MT8AcrMT8AgrMT8GZrMT8JnoMT8LnrMT8MX3MUOUAnMXAbFnMXoAloMXoJX8MXoLf8MXoLl8MXrAb8MXrDTvMXrGT8MXrGgrMXrHTrMXrLf8MXrMU8MXrOXvMXrQb8MXvGT8MXvHTrMXvLVoMX3AX3MX3Jn3MX3LhrMX3MX3MX4AlrMX4OboMX8GTvMX8GZrMX8GgrMX8JT8MX8JX8MX8LhrMX8MT8MYDUFbMYMgDbMbGnFfMbvLX4MbvLl3Mb8Mb8Mb8ST4MgGXCnMg8ATrMg8AgoMg8CZrMg8DTrMg8DboMg8HTrMg8JgrMg8LT8MloJXoMl8AhrMl8JT8MnLgAUMnoJXrMnoLX4MnoLhrMnoMT8MnrAl4MnrDb8MnrOTvMnrOgvMnrQb8MnrSU8MnvGgrMnvHZ8Mn3MToMn4DTrMn4LTrMn4Mg8NnBXAnOTFTFnOToAToOTrGgvOTrJX8OT3JXoOT6MTrOT8GgrOT8HTpOT8MToOUoHT8OUoJT8OUoLn3OXrAgoOXrDg8OXrMT8OXvSToOX6CTvOX8CZrOX8OgrOb6HgvOb8AToOb8MT8OcvLZ8OgvAlrOgvHTvOgvJTrOgvJnrOgvLZrOgvLn4OgvMT8OgvRTrOg8AZoOg8DbvOnrOXoOnvJn4OnvLhvOnvRTrOn3GgoOn3JnvOn6JbvOn8OTrPTGYFTPbBnFnPbGnDnPgDYQTPlrAnvPlrETvPlrLnvPlrMXvPlvFX4QTMTAnQTrJU8QYCnJlQYJlQlQbGTQbQb8JnrQb8LZoQb8LnvQb8MT8Qb8Ml8Qb8ST4QloAl4QloHZvQloJX8QloMn8QnJZOlRTrAZvRTrDTrRTvJn4RTvLhvRT4Jb8RZrAZrRZ8AkrRZ8JU8RZ8LV8RZ8LnvRbJlQXRg3GboRg3MnvRg8AZ8Rg8JboRg8Jl4RnLTCbRnvFl3RnvQb8SToAl4SToCZrSToFZoSToHXrSToJU8SToJgvSToJl4SToLhrSToMX3STrAlvSTrCT9STrCgrSTrGgrSTrHXrSTrHboSTrJnoSTrNboSTvLnrST4AZoST8Ab8ST8JT8SUoJn3SU6HZ#SU6JTvSU8Db8SU8HboSU8LgrSV8JT8SZrAcrSZrAl3SZrJT8SZrJnvSZrMT8SZvLUoSZ4FZoSZ8JnoSZ8RZrScoLnrScoMT8ScoMX8ScrAT4ScrAZ8ScrLZ8ScrLkvScvDb8ScvLf8ScvNToSgrFZrShvKnrSloHUoSloLnrSlrMXoSl8HgrSmrJUoSn3BX6","ATFlOn3ATLgrDYAT4MTAnAT8LTMnAYJnRTrAbGgJnrAbLV8LnAbvNTAnAeFbLg3AgOYMXoAlQbFboAnDboAfAnJgoJTBToDgAnBUJbAl3BboDUAnCTDlvLnCTFTrSnCYoQTLnDTwAbAnDUDTrSnDUHgHgrDX8LXFnDbJXAcrETvLTLnGTFTQbrGTMnGToGT3DUFbGUJlPX3GbQg8LnGboJbFnGb3GgAYGgAg8ScGgMbAXrGgvAbAnGnJTLnvGnvATFgHTDT6ATHTrDlJnHYLnMn8HZrSbJTHZ8LTFnHbFTJUoHgSeMT8HgrLjAnHgvAbAnHlFUrDlHnDgvAnHnHTFT3HnQTGnrJTAaMXvJTGbCn3JTOgrAnJXvAXMnJbMg8SnJbMnRg3Jb8LTMnJnAl3OnJnGYrQlJnJlQY3LTDlCn3LTJjLg3LTLgvFXLTMg3GTLV8HUOgLXFZLg3LXNXrMnLX8QXFnLX9AlMYLYLXPXrLZAbJU8LZDUJU8LZMXrSnLZ$AgFnLaPXrDULbFYrMnLbMn8LXLboJgJgLeFbLg3LgLZrSnLgOYAgoLhrRnJlLkCTrSnLkOnLhrLnFX%AYLnFZoJXLnHTvJbLnLloAbMTATLf8MTHgJn3MTMXrAXMT3MTFnMUITvFnMXFX%AYMXMXvFbMXrFTDbMYAcMX3MbLf8SnMb8JbFnMgMXrMTMgvAXFnMgvGgCmMnAloSnMnFnJTrOXvMXSnOX8HTMnObJT8ScObLZFl3ObMXCZoPTLgrQXPUFnoQXPU3RXJlPX3RkQXPbrJXQlPlrJbFnQUAhrDbQXGnCXvQYLnHlvQbLfLnvRTOgvJbRXJYrQlRYLnrQlRbLnrQlRlFT8JlRlFnrQXSTClCn3STHTrAnSTLZQlrSTMnGTrSToHgGbSTrGTDnSTvGXCnST3HgFbSU3HXAXSbAnJn3SbFT8LnScLfLnv","AT3JgJX8AT8FZoSnAT8JgFV8AT8LhrDbAZ8JT8DbAb8GgLhrAb8SkLnvAe8MT8SnAlMYJXLVAl3GYDTvAl3LfLnvBUDTvLl3CTOn3HTrCT3DUGgrCU8MT8AbCbFTrJUoCgrDb8MTDTLV8JX8DTLnLXQlDT8LZrSnDUQb8FZ8DUST4JnvDb8ScOUoDj6GbJl4GTLfCYMlGToAXvFnGboAXvLnGgAcrJn3GgvFnSToGnLf8JnvGn#HTDToHTLnFXJlHTvATFToHTvHTDToHTvMTAgoHT3STClvHT4AlFl6HT8HTDToHUoDgJTrHUoScMX3HbRZrMXoHboJg8LTHgDb8JTrHgMToLf8HgvLnLnoHnHn3HT4Hn6MgvAnJTJU8ScvJT3AaQT8JT8HTrAnJXrRg8AnJbAloMXoJbrATFToJbvMnoSnJgDb6GgvJgDb8MXoJgSX3JU8JguATFToJlPYLnQlJlQkDnLbJlQlFYJlJl8Lf8OTJnCTFnLbJnLTHXMnJnLXGXCnJnoFfRg3JnrMYRg3Jn3HgFl3KT8Dg8LnLTRlFnPTLTvPbLbvLVoSbrCZLXMY6HT3LXNU7DlrLXNXDTATLX8DX8LnLZDb8JU8LZMnoLhrLZSToJU8LZrLaLnrLZvJn3SnLZ8LhrSnLaJnoMT8LbFlrHTvLbrFTLnrLbvATLlvLb6OTFn3LcLnJZOlLeAT6Mn4LeJT3ObrLg6LXFlrLhrJg8LnLhvDlPX4LhvLfLnvLj6JTFT3LnFbrMXoLnQluCTvLnrQXCY6LnvLfLnvLnvMgLnvLnvSeLf8MTMbrJn3MT3JgST3MT8AnATrMT8LULnrMUMToCZrMUScvLf8MXoDT8SnMX6ATFToMX8AXMT8MX8FkMT8MX8HTrDUMX8ScoSnMYJT6CTvMgAcrMXoMg8SToAfMlvAXLg3MnFl3AnvOT3AnFl3OUoATHT8OU3RnLXrOXrOXrSnObPbvFn6Og8HgrSnOg8OX8DbPTvAgoJgPU3RYLnrPXrDnJZrPb8CTGgvPlrLTDlvPlvFUJnoQUvFXrQlQeMnoAl3QlrQlrSnRTFTrJUoSTDlLiLXSTFg6HT3STJgoMn4STrFTJTrSTrLZFl3ST4FnMXoSUrDlHUoScvHTvSnSfLkvMXo","AUoAcrMXoAZ8HboAg8AbOg6ATFgAg8AloMXoAl3AT8JTrAl8MX8MXoCT3SToJU8Cl8Db8MXoDT8HgrATrDboOT8MXoGTOTrATMnGT8LhrAZ8GnvFnGnQXHToGgvAcrHTvAXvLl3HbrAZoMXoHgBlFXLg3HgMnFXrSnHgrSb8JUoHn6HT8LgvITvATrJUoJUoLZrRnvJU8HT8Jb8JXvFX8QT8JXvLToJTrJYrQnGnQXJgrJnoATrJnoJU8ScvJnvMnvMXoLTCTLgrJXLTJlRTvQlLbRnJlQYvLbrMb8LnvLbvFn3RnoLdCVSTGZrLeSTvGXCnLg3MnoLn3MToLlrETvMT8SToAl3MbrDU6GTvMb8LX4LhrPlrLXGXCnSToLf8Rg3STrDb8LTrSTvLTHXMnSb3RYLnMnSgOg6ATFg","HUDlGnrQXrJTrHgLnrAcJYMb8DULc8LTvFgGnCk3Mg8JbAnLX4QYvFYHnMXrRUoJnGnvFnRlvFTJlQnoSTrBXHXrLYSUJgLfoMT8Se8DTrHbDb","AbDl8SToJU8An3RbAb8ST8DUSTrGnrAgoLbFU6Db8LTrMg8AaHT8Jb8ObDl8SToJU8Pb3RlvFYoJl"],D1r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*";function M1r(t){return t>=40?t=t+168-40:t>=19&&(t=t+97-19),ao(new Uint8Array([225,(t>>6)+132,(t&63)+128]))}var Uve=null;function k0t(){if(Uve!=null)return Uve;let t=[];if(k1r.forEach((r,n)=>{n+=4;for(let i=0;i<r.length;i+=n){let o="";for(let s=0;s<n;s++)o+=M1r(D1r.indexOf(r[i+s]));t.push(o)}}),t.sort(),ki(t.join(`
`)+`
`)!=="0xf9eddeace9c5d3da9c93cf7d3cd38f6a13ed3affb933259ae865714e8a3ae71a")throw new Error("BIP39 Wordlist for ko (Korean) FAILED");return Uve=t,t}var Fve=null,JG=class t extends Bl{constructor(){super("ko")}getWord(e){let r=k0t();return K(e>=0&&e<r.length,`invalid word index: ${e}`,"index",e),r[e]}getWordIndex(e){return k0t().indexOf(e)}static wordlist(){return Fve==null&&(Fve=new t),Fve}};var L1r="0torea noica!iosorolotaleratelanena%oiadoencotivomai t ca%a0A]Bagl'Bin#E.Is(Oli!Rasi_Rog#0Cade!C[$Cus#E <Hil,I@QuaReRil>Roba+U 0Ag'Deb{DomeEgu#Eri!IpeOtt&Ul&1Fabi,Fe|Fis(F-n Oris`O(R~$0AveEn.E_,Ganc'I!It&OnismoR>*Rume Uzzo4AbardaA Bat)Ber#BoBumeCeCol>E|<FaGeb-Ian.IbiIm[ Lag#Leg)Lie_Lo@/Lusi_Me$Oge$Pa}Pest!Ta,=Ter$T%c'T)veUn$Veo*Z&0Alga`Ani+A!=B{Br#EbaEr~E^s+I]Mas(M[daMir&Mon{O!P'Pli&U, 0A}r@Ag-feAlis+Arch?At-CaCel/Co-D&D!aEl*Ge*Gol&Gus I`Neg&Nid#NoNunc'OnimoT%ipoZi1At>Ertu-OdePari!Pe^ Pogg'P)@Pun Ri,1Ab~AchideAgos+Ald~Anc'Atu-AzzoBit)Chiv'D{Eni,G[ Gi<Gu IaMon?NeseRed#RingaRos S[>SoTef%eZil*0Ciu|Col EpsiEtt>Fal I$O/Pir#P)Sagg'SeSolu Sur@TaT[u T%eT-|0Av>EismoOm>O$TesaTiv&Tor$Tr{Tua,0Sil'Str?Tis+To$moTun$0Anz#E!V[i!Vi(Volge!3Io<O ZimoZur):Be,C}$Ci$CoDessaDi/+Gn#I+L]<L@Le=L/+Lza$Mbi$Ndi!RaondaRba)R}R{$RlumeRoc]Sil>S(Tos+Ttu U,VaVosa3C]FfaLg'LvaNdaNe_,Nig$Nzi=ReRli=Ta3Bi+CiDo<Fi@GaLanc?MboNo]*O*goPedePol&Rban.R-S]|Ses S$n$Son.SturiZzar)2An@At+2Ll{Nif>R@S]Tan>T^$Zzo*2Acc'AdipoA`An}Avu-E.l/Eve|EzzaIgl?Il/n.Ind&Oc]*O@Onzi=Ul*U$2Bbo<CaDi$Ffo<IoLboO$R*<R-s}S(/S+:De|Du]La`)L]*LesseLib)LmoLor?MbusaMe-+M%?Mmi$Mo/Mpa,NapaNde/NeNi$No|N^=PacePel*P{*Pogi)Ppe)P-Psu/RapaceR}ssaR@Ris`Rova=R!|R li=Sacc'S}+Ser`SoS(<S.l*Sua,Tas+Te=T-meU Vil*3Dibi,D-+Fa*Leb!Llul&NaNo<N.simoRam~Rc&R RumeRvel*So?SpoTo2E/Ia)Ic}Iede!Ime-I=IrurgoI+r-0AoClismoFr&G$Lind)O|*R}R)siTr>T+di$UffoVet+Vi,2Ass>In~O)2C]Dar@D%eE!n.G$meLl&Lm#Lo!Lpo(L^v#LzaMaMe+M`n@Mo@Mpu.rMu<Nci(Ndur!Nfer`Ngel&NiugeN<s(Nosce!NsumoN^nuoNveg$Per P'<Pp?Pr~poRazzaRda+R%#Rn%eRol/RpoR!@Rs?R.seSm>S+n.Ttu-V#2A.!Avat+E#Ede!Emo(Esci+E+Ice I=,IsiIt>OceO=}Os++Uc?,Us}2Ci!Cu*Gi$Ll#Po/R#!R(!R_Sci$S de:DoI$L`+Meri$Nie/N$(Nz&T#Van^Vve)3Bu|C[n'Ci(Cli$Col*C! D%#Fin{FormeG$Leg&Lfi$Lir'L+M[zaNot#Nt)Pos{Rapa+Riv&RogaScri|Ser Sider'Sume!Tersi_Vo 3Amet)Cemb!Ed)Fe(Ffu(Geri!Gi+,Luv'Nam>N=nziPin P*`Po*Rad&ReRo|RupoSag'Sc! Sf&Sge*Spos S+nzaSu`$ToVa$Vel Vide!Vor#5B*<C[.Ga=,G`LceM#M[~Min&N@*NoRmi!TeT !Vu Zzi=2AgoUi@2Bb'Bit&Ca,NaOmoPl%eRatu):0A$0Ces(CoLissiO$m?0E-I]/I,I r?Uc&2Emon?LiOismoReg'4Abor#Argi!Egan.Enc#E|Ev&F>I}MoSaU(0An#B,`Es(I)O^_Oz'<Pir>U*0Dem>Du)Erg?FasiO.}Tr&Zi`1A^.I*goI(d'O},Pu!0U#!0Ar'BaBo(EdeEmi+Ige!Met>OeOsi_Ran.0Ago$AmeAnimeAudi!CaEmp'Erc{Ib{Ig[.Is.!I OfagoOrt#O(Pan(P!s(S[zaSoTe(Tim&Ton?T)(Ult&0Il>N>Rus]To0ClideoRopa0A(Id[zaIt#Olu Viva:Bbr~Cc[daChi)L]Migl?Na,Nfa-NgoN+s`ReRfal/Ri$(R`]Sc?S (Sul*T%&ToVo*(3Bb!Co/DeG#LpaLt)Mmi=Nde!Nome$Rm[ R)R^,Ssu-S^_T+U@3AbaDuc?FaGur#LoNanzaNest-Ni!O!S},S>Ume2A]<Am[]EboEm`Ori@U[.Uo)2B>Cacc?Co(Der#Gl'La+Lc*!Lgo!Nd[.Net>N?N+=Rb{Rchet+Res+Rm~R='RoR.zzaRz&Sf#S(2A}s(A=Assi$A.l*Eccet+E=+Es]IgoOlli$OndeUga,Ut+2Ci/+Cs?Gg[.Lmi<L_Man.Me|Mo(NeNz'<O]RboRgo<Ro!SoTi,:Bb?$FfeLa.oLli=LoppoMbe)M`Ranz?RboRofa$Rzo<S@|Sol'Str>T Ud'ZeboZzel/3CoLa^=L(Mel*Mm#NeN{!N='No^poRgo2Epar@Iacc'Isa0Al*LdaNep)Oc&Oiel*Or$OveR#Ro<T++Udiz'Ur#Us 2Obu*U^<1Omo0BbaLfM{Mmo<Nf'N=Ver$2Aci,A@Af>AmmoAndeAtt&A_(Az?E}EggeIfo<Ig'InzaOt+Uppo2Adag$A'An Ard&FoId&::0Ern#0O=0Ent>Ill'O*RaR>Roge$2Ie<Na)Nor#4A!Le(Log>Lude!0Bal*Bevu Boc]Bu Ma<Mer(Mol#Pac]Pe PiegoPor P)n+0Al&Arc&At^_Can C[d'Chi$Cisi_Clu(Cont)C)c'CuboDagi<D?Do,Ed{Fat^Fil&Fli|Gagg'Geg$G,seGor@G)s(Nes]O@!Oltr&Ond#Sa$Se|SiemeSonn?Suli=Tas#Te)To=]Tu{Umidi!Vali@VeceV{1Erbo,Not>O.siP~1IdeLandaOn>Rig#Ror&0Ol#O poTer>Titu Tr%e0Al?Er&:::Bb)Birin C}Cer#Cri`Cu=D@veGoMpoNcet+N.r=R@(RgaRingeSt-T[zaTi$TtugaVag=Vo)3Ga,Gge)MboN.zzaNzaO<P!Si_Ss#S T.-,VaVig#3Be)DoEv{L/Matu-Mit&Mpi@Ne&NguaQui@RaR~S}TeTig'V!a5CandaDeG~Mb&Nd-Nge_QuaceR[zoToT.r?5CeCid#Ma}Mi$(NgoPoPpo*SingaS(T :Cab)Cchi=Ce)Cin#Da`G>Gl?G<.G)Iol~LafedeLg-@Lin.(Lsa$L Lumo!NaNc?N@r/Ngi&Nifes N=)Nov-NsardaN^deNubr'PpaR#=Rci!Ret+RmoRsup'Sche-Ssa?S^$Te-s(Tr>/T <Tu)Zur}3And)C}n>Ce=.DesimoDit&GaLassaLisLod?NingeNoN(/Rcur'R[daR*Schi$SeSse!S *Tal*To@T.!3Agol&CaCel'Che,C)boDol*E,Gl'!La$Li.MosaNe-,NiNo!Ri$R^l*Sce/SsivaS Sur&TezzaTig&T-T.n.4Emon>0Del*Dif~Du*Ga$G'LeLos(Nas.)N]Ndi=Ne+r'Ni,No $N(<Nt#Nvi(RaRde!Rs%#St)Tiv#TosegaT V[zaVim[ Zzo5C}CosaFfaGhe|G='La|Li<l*L^p*Mm?N Ove!Ra,SaS]*S~Te_,To:BabboF+Nomet)Rci(R%eRr#Sce!Str&Tu-,Ut~Vigl'3Bu*saC)siGa^_Goz'Mme$Ofi+Re|R_Ssu$Ttu$Ut-,VeV)t>3Cch?NfaTi@5Bi,Ci_DoMeMi=Rd>R`,RvegeseSt-$T&Tiz?Ttur$Vel/5C,oL/Me)O_Tri!Vo/Z?,:Si0Bedi!BligoElis]L'O*So, 0Cas'<Ch'Cid[.Cor!!Cult&RaUl#0Ier$Or&1Fer+Fri!Fusc#0Ge|GiNu$4AndeseFa|I#IvaOg-m`T!0Agg'Bel>B-EgaIss'<0Do(E!IceNi_)O!_,Ta1Er#In'<Pos 1A]*AfoDi<Ecchi$Ef%eFa$Gan>Igi<Izzon.MaMegg'Na^_O*g'R[@Ribi,T[s?T~Za+Zo0A!Cur&MosiPeda,Pi.SaSid&Ta]*Te0I.ReTago$TimoTob!1A,EstI$Ipa)Oc{UnqueVi&3Io:Cche|CeCif>Del/D)<EseGaGi=Lazzi=Les&Lli@LoLudeN@)N<l*O*O=zzoPr~Rabo/Rcel/Re!Rgo*RiRl#Ro/R^!Rv[zaRz?,Ssi_St%}Tac}To*g?TtumeVo<3Cc#Dal&Do=,Gg'Lo(N&Nd%eNi(/Nnu Nomb-Ns&N /PePi+Rbe<R]r(R@n#Rfor&Rgame=R'@Rmes(R$Rp,s(Rsua(Rtug'Rva(S#!Sis+SoS^fe)Ta*T^<Tu/n.Zzo3Ace!An+At^$Cci$CozzaEgaEt-Ffe)G?`Gol'G)LaLife)L*/Lo+Mpan.Ne+N=No*Ogg?OmboRamideRet>Ri.RolisiTo<Zz>2AceboAn&As`A+$E=r'2ChezzaDe)(DismoEs?Ggi&L[+Ligo$Ll%eLmoni.Lpet+L(Lt)=Lve!M%eMo@)N.Po*(Rfi@Ro(Rpo-R!R++SaSi^_Sses(Stul#Tass'Te!2AnzoAssiAt~Eclu(Ed~Efis(Egi#Elie_Eme!E$t&Epar#Es[zaE.s Eval(I`IncipeIv#Ob,`Ocu-Odur!OfumoOge|OlungaOmessaO$meOpos+O)gaO.(OvaUd[.Ug=Ur{0Iche1Bbl>D~Gil#G$LceL{Lsan.Nt&PazzoPil/Ro:99Ad)Al]saAsiE!/O+:C]l D@pp'D~,Dun#Ff~GazzoG'<G$Mar)MingoMoNdag'N l&P#Pi=Pp!(Satu-Schi#S[.Sseg=St!l*TaVvedu 3A,Cepi!Cin Clu+Cond{Cupe)Dd{Dime!Gal#Gist)Go/G!s(Laz'<M&Mo N=Pl~Prime!Put&SaSid[.Spon(S+u)TeTi=Tor~T^f~Voc#3Assun Badi!Bel,B!zzoCar~C]Ceve!C%l#Cor@C!du D>*Dur!Fas&F,s(For`Fug'G&Gett#Ghel*Lass#Lev#Ma<!MbalzoMed'Morch'Nasci+N})NforzoN$_Nom#Nsav{N c]Nunc?Nv[i!Par#Petu Pie$Port&P!saPuli!Sa+Sch'ServaSibi,SoSpe|S )Sult#S_l Tar@Teg$Tm>T)_Un'<VaVer(Vinci+Vol Zo`5BaBot>Bus Cc?CoDagg'De!D{!G{Ll'Mant>Mpe!Nz'Sol&SpoTan.Ton@Tu/Vesc'5BizzoBr~GaLli$Mi<Mo)(O*PeSs&St>:B#Bbi&Bot#Go`Las(Ldatu-Lgem`Liv&Lmo<Lo<Lt&Lu L_Pe!Pi@Por{Race$R}smoR S((Telli.Ti-Tol*Tur$Va=V'Zi#0Adigl'AlzoAnc#Ar-At.!Av&End&Irci&Locc#Occi#Rin&Ruffo<Uff&0Ab)(Ad[zaA/Ambi&Anda*Apo/Ar(A.n&Av#El En>Ett)HedaHie=IarpaI[zaInde!IppoI)ppoI_*Ler&Odel/Olp{Ompar Onfor Opri!Or+Os(<OzzeseRibaRoll&Ru^n'Uder?Ul !Uo/U)Us&0Ebit&Ogan&0C}tu-Con@Da$Gg'/G=l#G!g#Gu{Lci#Let^_L/Lvagg'Mafo)Mbr&MeMin#Mp!N(N^!Pol Qu[zaRa+Rb#Re$R'Rp[.R-gl'Rvi!S^=To/T^`=0Ace*Ald&Am#Arzo(At%#E-IdaIl#IngeOc#Oder&OgoOl^!Orz#Ra|Rutt#Ugg{Um&U(0Abel*Arb#Onfi&Orb'Rass#Uar@1Bi*C]meEr-G/G$!L[z'L/baMbo*Mpat>Mul#Nfon?Ngo*Nist)NoN.siNu(idePar'S`S ,Tu#2It+Ogatu-Ove$0Arr{Emor#En^ E-l@IlzoOnt&Ott#Uss#0Elli!Erv#O@0BbalzoBr'C]r(C?,Da,Ffi|G$Ld#L[<Li@L/zzoLoLubi,Lv[.Mat>M`NdaNe|Nnife)Pi!Ppe(P-Rge!Rpas(Rri(R(R.gg'R_l#Spi)S+T^,0AdaAl/Arge!A /Av[ Azzo/EcieEdi!Eg<!E/tu-E-nzaEs(!Ett-,Ezz#IaIgo*(Ill#I$(I-,L[di@Or^_O(RangaRec&Ron#RuzzoUn^$0Uil*0Ad%&O l#1Abi,Ac]AffaAgn&Amp#Ant'Arnu Ase-Atu E*EppaErzoI,|I`IrpeIva,Izzo(On#Or>RappoReg#Ridu*Rozz&Ru|Ucc&UfoUp[@0B[t)C](Do!Gger{GoL+$On&PerboPpor Rgel#R)g#Ssur)Tu-0Ag&EdeseEgl'El&Enu Ez?IluppoIs+Izze-Ol+Uot&:Bac]Bul#Cci&Citur$LeLis`$Mpo<Nni$RaRdi_Rg#RiffaRp&R+rugaS Tt>Ver=Vo/+Zza3CaCn>Lefo$Me-r'MpoMu N@<Ne)Ns'<N+]*O!`RmeR-zzoRze|SiSser#St#T)T ?3F&Gel/Mb)N P>Pog-foRagg'RoTan'To*Tuban.Z'Zzo<5Cc&L,r&L Mbo/MoNfoNsil/Paz'Po*g?PpaRbaRn&R)<R -S}$Ssi!S+tu-Ta$2Aboc]AcheaAfi/Aged?Alc'Amon Ans{Apa$Ar!As*]Att#AveEcc?Emol'Espo*Ibu Iche]Ifogl'Il*InceaIoIs.zzaItur#Ivel/OmbaO$OppoO|/Ov&Ucc#2Batu-Ff#Lipa$Mul Nis?Rb&Rchi$TaTe/:0Ic#0Cel*Ci(!0I!I^_1FaF%'0Ua,4IsseTim#0A$I,Orismo0Ci<|Ge!Ghe!seI]r$If%#I($I+r'Te0Vo0Upa1Aga$G[zaLo0AnzaA C{Ig$*U-'0Ensi,IlizzoOp?:Can.Ccin#Gabon@Gli#LangaLgoL>L,t+Lo)(Lut&L_/Mpa+Ng&N{(NoN+gg'Nve-Po!Ra$Rc#R?n.S}3Det+DovaDu Ge+,I]*Lc)Li=Llu LoceN#Ndemm?N RaceRba,Rgog=Rif~RoRru}Rt~,Sc~Ssil*S+,Te-$Tri=Tus 3Andan.B-n.C[daChingoCi=nzaDim&Gil?G< Go!LeL/$MiniNc{!O/Pe-Rgo/Ro*goRu,n S](S'<SpoSsu Su-TaTel*T^`VandaVi@Zi&5CeGaLa^,Le!LpeRagi<5L}$::::Mpog=N=Pp#T.-Vor-3Fi)Lan.LoNze)Rbi$3Be|N]R]<T 5L/T>5Cche)Fo*LuPpa",B1r="0x5c1362d88fd4cf614a96f3234941d29f7d37c08c5292fde03bf62c2db6ff7620",zve=null,KG=class t extends Xa{constructor(){super("it",L1r,B1r)}static wordlist(){return zve==null&&(zve=new t),zve}};var $1r="0arad!ototealirertainrasoent hoandoaR#riareha!aroele'oronul0Aca%AixoAl A%rDuz'El]Er$IsmoO$ R<g(Revi Rig Rup$S*$Solu$Sur=Ut[0Ab#Alm Amp Anh A,Ei.El( En ErvoEss E$naHa.IdezImaI}#Irr Lam LiveOlhidaOmod Opl Ord Um~ Us?0Ap.EgaEnt_Ep$Equ Er-%EsivoEusI<%ItivoJetivoJun$M' Or Qu''UboV(,Vog#0R}ave0As.Er'EtivoIn?Iv` Li$Lu-%R}.0Ach Arr As&/Enci Iliz Io)It#O+R! Res%Rup U d Ul]2O`h Ud Us.1AmedaArmeAstr Av<caB(gueB*oCat+De@EcrimEgr@Er.FaceF*e%GumHeioI Ica%I- Inh Ivi Mof^Oc Pis%T( TitudeUc* Ug UnoUsivoVo0Aci A=rA[loAss BasBi-%EixaEniz I=Is$,Iz!eOl?On$ O_,Ost+P  Pli Pola0Ag+maAlis Arqu@A$m@DaimeElExoG~ Im JoOm&@Ot#Sio,T(i|Uid!eUnci Zol1Ag?Alp Anh#EgoEli=Ert^Es Eti%I$Lau,Lic^OioOn.Os)R-dizRov 0Uec(0AmeAn]A+C^D-%E@Ej Eni$Es)Gilo,GolaMaQuivoRai&Reba%Risc Rob>um S-&T(i&TigoVo[=0F&.Il#P' S?S* So&/Sun$Tr&0Ac#Adu+Al/A[f E End(Er_EuIng'Ir?IvoOl{oRac Revi=RizU&Um0Di$rM-.R>o+TismoT|@Tu 0Ali An%Ar@Ent&Es,I?Is Ul,1Ila1Ar E=Ei%Ulejo:B BosaC&]uCh `C@GagemI<oIl I}e)Ir_Ixis)J~ Le@LizaLsaN&Nd{aN/N'Nque%Ra$Rb#R}es>+c>~/Se#S)n%Ta)Te=rTidaTomTuc Unil]3B(IjoIr^IsebolLd!eLezaLgaLisc Ndi$Ng&aNz(RimbauRl*d>_Sou_XigaZ(_3CoCu=En&Foc&Furc G|naLhe%Mest[Mo$rOlog@OmboOsf(aPol Rr-$Scoi$Sne$SpoSsex$TolaZ _2Ind#OcoOque 2A$BagemC#CejoChec]Ico.L^LetimL]LoMb{oNdeNecoNi)Rb~h>d>e&R+c]V*oXe?2AncoAsaAvezaEuIgaIl/Inc OaOchu+Onze O$Uxo2C]DismoF LeRacoScaS$Z*a:B<aB`oBideBoBri$CauCet^C/r_CiqueDast_De#Fez&IaqueIp'aIxo%J#JuLafrioLc~ Ld{aLibr Lm<%Lo)M^Mbis)MisaMomilaMp<]Mufl Navi&Nc` Ne)NguruN/$Nive%NoaNs#N.Nu=Pac/P`aP* Po.Pric/Pt?PuzRacolRb}oRde&Rec>imb Rn{oRpe%R['>)zRv&/SacoScaSeb[S%loS~oT a)Tiv UleUs?U%l V&oV(na3BolaDil]G}]Lebr L~ Nou+N,N%ioRc Rr#R%'oRvejaTimV^2Aco)Al{aAm#Ap^ArmeAticeAveEfeEg^E'oEqueIco%If[In`oOc&/Ov(UmboU.Uva0CatrizCl}eD!eD['aEn%G<aM-$N$Nz><d>cui$Rurg@T 2A[zaE_Ic OneUbe2A=Ag'Ba@B($rBr C^El/Ent_E,Gum`oIb'IfaIo%L L{aLh(Lid'Lme@L}oLunaM<=Mb* M-.MitivaMov(MplexoMumNc]N=rNec.Nfu,Ng` Nhec(Njug Nsum'Nt+$Nvi%Op( P{oPi?PoQue%lRagemRdi&Rne)R}h>p|&R[ioR%joRuj>voSs-oS%laT}e%U_UveVilZ*]2A%+AvoEcheE=rEmeErEspoI^Im*&Io~oIseItic Os)UaUz{o2B<oEcaId#JoLat+Lm* Lp Ltu+Mpr'Nh#Pi=RativoRr&Rs R$Sp'S% T`o:MascoT 3Ba%rBi.BocheB~h C&queCim&CliveCo%C[.D&Dic#Duz'FesaFum G`oG+uGus.It#Ix La$rLeg#L*e L}gaM<daMit'Moli=Ntis)P-#Pil PoisP[ssaPur Riv>+m SafioSbo.Sc<,S-/Sfi#Sgas%Sigu&SlizeSmam SovaSpesaS)queSvi T&h T-$rT} Tri$UsaV(Vi=Vot#Z-a3Ag+maAle$Da)Fu,Gi.Lat#Lu-%M*u'Nast@Nh{oOceseRe$Sc[)Sf ceSp oSque%Ssip S)n%T?UrnoV(,Vi,rV~g Z(5Br?L|i=M?M*#NativoNz`>m-%Rs&SagemUr#U$r2EnagemIbleOg @2El EndeE$PloQues><%Vi=,:1Lod'O Olog@0Ific It&Uc#1Ei$Etiv 3E.1Ab| Eg(Ei$rEncoEv?Im* Ogi 0B goBol#Br~/Buti=EndaErg'Is,rPat@P-/P*#Polg P[goPurr Ul?0CaixeC-#Ch-%C}t_Deus Doss Faix Fei%FimGaj#G-/Glob Gom#G+x Gu@Jo La.Qu<$Raiz Rol#Rug SaioSe^S*oSop#T<$Te#Tid!eT|.Tr^T~/V(g Vi#Volv(XameX($Xof[Xu$1Id(me0Uip 0E$Gui=Ra)VaVil]0B<j B`$CamaColaCri)Cu)F*geFol F[g Fum#GrimaM&%P<$P`/PigaP}jaP[i)Pum Qu(daTacaT{aTic Tof#T[laTu=Vazi 0AnolIque)0F|i>opeu0Acu Ap| AsivoEntu&Id-%Olu'1Ag(oAl Am* A$Aus$Ces,Ci.Clam Ecu.EmploIb'Ig-%On( P<d'P`'P' Pl< Pos$P[s,P~s T(noT*$T+$:Bric B~o,Ce)Ci&DaDigaIxaL L)Mili Nd<goNf +N$cheRd#R`oR*h>of>p>tu+T@T|V|i)X*aZ-da3Ch#Ijo^I+n%L*oM**oNdaNoR>i#RrugemRv(S%j T&Ud&3ApoB_seC Ch{oGur#L{aL/LmeLtr RmezaSg^Ssu+TaV`aX?Xo2AcidezAm*goAn`aEch^O+Utu Uxo2C&C*/Foc GoGue%IceLg#Lhe$Rj Rmig>noR%ScoSsa2Aga)AldaAngoAscoA%rnoE'aEn%E.IezaI,Itu+On]Ustr U%'a2G'L<oLigemNd NgoNilR?Rio,Tebol:B i$B*e%DoIa$IolaIvo)LegaL/L*]Loc]Nh RagemRfoRg&oRimpoRoup>+faSodu$S$TaTil/Ve)Z`a3L#Le@LoM^M(Mi=N(o,NgivaNi&NomaN_Ologi>?Rm* S,S$r3Nas)Nc<aNg#Raf>*o2Aci&IcoseOb&Orio,2ElaIabaLfeLpe Rdu+Rje)R_S$,T{aV(n 2AcejoAdu&Afi%Al]AmpoAn^Atui$Ave$AxaEgoElh EveIloIs&/I.@Os,O%scoUd#Unhi=U)2AcheA+niAx*imEr[ I Inc/Is#LaLo,Ru:Bi.Rm}@S%V(3C.eRd Res@Si.3A$B(n D+.EnaNoPismoPnosePo%ca5JeLofo%MemNes$Nr#Rm}&Sped 5M|#:Te2E@O,2N|#RejaU<a4E,HaUdi=Um* Ustr 0AgemEd@$En,ErsivoIn-%It?Ort&Pac$Ped'Pl<%P|Pr-saPuneUniz 0Al?Ap$AtivoC-,Ch Cid'Clu'Col|Deci,D'e$Du$rEficazEr-%F<tilFes.F*i$Flam F|m&F+$rG('Ibi=Ici&ImigoJe.Oc-%O=_Ov?OxQuie$Scri$Se$Sist'Spe$rSt& S~$Tac$Tegr&Tim Toc#TrigaVa,rV(noVic$Voc 0Gur%2Ani<oOniz Re&Rit#0CaEn$Ol#Qu{o0Ali<o:N{oNg^N)R ac>dimR_SmimToV&iZida3Jum9An*]Elh^G?I>n&Rr Vem5BaDeuDocaIzLg?L/R#Ris)RoS)::B edaB|&C[C)n%Dril/G )GoaJeMb(M-.M* MpejoNchePid P,R<j>{>gu+S<]St_T(&Ti=V<daVou+Vr?X<%Z(3Ald!eB[G#G-d Gis)IgoIlo Itu+Mb[%MeNh?Ntil]OaSmaS%TivoT['oV VezaVi.3B(&Bi=D( G G{oMi.Mo{oMp?NdaNe N]gemQuidezS)gemSu+T|&V_XaX{a5C?Cu$rJis)MboNaNgeNt+RdeT#T(@Ucu+UsaUv 5ArCidezC_Ne)St[T?Va:CacoCe%Ch#CioD{aDr*]Gna)G[zaI|IsL<d_L]Lo%LucoMiloMo{oMu%N^Nc]Nda$NequimN/,Niv`aNobr NsaN%rNuse Pe#Qu* Rc?Resi>fimRgemR*/Rmi)Ro$RquiseR[coR%loRujoSco%Sm|+SsagemStig Tag&T(noT*&Tu.Xil 3D&]DidaDusaGaf}eIgaL<c@L/rMb_M|i&N*oNosNsagemNt&Rec(Rg~/S^Scl SmoSqui)St[T!eTeo_T+gemX(Xic<o3C_G&]Gr Lag[L- Lh M#N( N/caNist_N|@OloR<%RtiloStur 5Cid!eD(noD~ EdaErIn/I)Ldu+LezaL/L*e%LuscoN)n]Quec><goRcegoR=moR-aSaicoSque%S.daT`TimToTriz5DaI$La)Lh(L.Ndi&Ni=R&h>c/Sc~ SeuSic&:Ci}&D?JaMo_R*>r#Sc(TivaTu[zaV&]Veg Vio3Bl*aB~o,GativaGoci Gri$Rvo,TaUr&VascaVo{o3N N/TidezV` 5B[zaI%IvaMe M*&Rdes%R% T Tici TurnoV`oVil/Vo5Bl#DezM(&Pci&Tr'Vem:0Cec#Edec(JetivoRig#Scu_S%t+T(Tur 0Id-%Io,Orr(Ulis)Up#2Eg<%EnsivaEr-daIc*aUsc#0Iva4Ar@Eo,H Iv{a0B_Ele%Is,It'0D~#E_,Tem1Ci}&Er?On-%OrtunoOs$1ArBi.DemD*&F<a$GasmoG~/I-t&IgemIun=LaTo=xoV&/0Cil S^SoT-.0Imismo0S!@T}oTub_Vi=0El]Ul 1Id Ig- :Ca$Ci-%Co%Ctu D @Dr*/G GodeIn`Ir IsagemLav+Lest+Lhe)Li$Lm^Lpi.Nc^N`aNfle$NquecaN)n&PagaioP`^P'oRaf*>ci&Rd&RedeRtidaSmoSs#S%lTam T-%T* T_noUl^Us 3C~i D& Dest[D@t+D+G^I$r&IxeLeLic<oNcaNdur N{aN]scoNs?N%Rceb(Rfei$Rgun)Ri$Rmit'Rn>plexoRsi<>%nceRucaSc#SquisaS,aTisc 3AdaC#Ed!eGm-$Last+Lh#Lo.M-)Nc`NguimN]No%N.On{oPocaQue%R<h>esRue)Sc S$laT<gaVe%2An)Aque)At*aEbeuUmagemUvi&1Eu0DaE'aEtisaLeg^Lici Lu-%Lvil/M MbaNd( N.@P~o,R)Ssu'St&TeUp U,Vo 2A@Anc]A$AxeEceEd?Efei$Emi Ens Ep  Esil]E%x$Ev-'Ez Ima)IncesaIsmaIv#Oces,Odu$Ofe)Oibi=Oje$Ome%rOpag OsaO%$rOv?2Blic DimL Lm} Ls{aNh&N'PiloRezaX?:99Ad+Ant@Ar$AseEbr EdaEijoEn%Eri=Im}oInaIosque:B<^BiscoCh Ci} Di&I In]IoIvaJ^L#M&Ng(Nhu+P!u+P`PidezPosaQue%Rid!eS<%Scun/Sg Sp?S%'aSur Taz<aTo{a3AlezaAnim Av(Baix B`deBol C#C-%CheioCiboC|d Cru.Cu DeDim'D}daDuzidaEnvioF* Flet'Fog F[scoFugi G&@GimeG+In#I$rJei.LativoM?M-=M|,Nov#P oP`'Ple$Pol/P[saPudi Qu((S-]Sfri Sga.Sid'Solv(Spei$SsacaS)n%Sum'T&/T(T' Tom^T+.V` Vi,rVol)3Ac/CaGidezGo_,M NgueS^ScoS}/5B&oChe=D^DeioDov@E=rLe)M<oNc S#S{aS$TaT{oT*aT~ UcoUpaXo5B_Gi=Go,IvoMoPest[S,:B|Ci ColaCud'DioF'aGaGr^Ib_L^L{oLg#LivaLpic Lsic]L.Lv?Mb Mu+iN Nf}aNgueNid!ePa$Rd>g-$Rje)Tur Ud!eXof}eZ}&3C C~ DaD-$Di#Do,Du$rGm-$G[=Gun=IvaLe$LvagemM<&M-%N?N/rNsu&Nt#P #Rei>*g>+RvoTemb_T|3GiloLhue)Lic}eMetr@Mpat@M~ N&Nc(oNg~ NopseN$ni>-eRiTu#5B(<oB+C|_G_JaLdaLetr L%'oMbrioNa)Nd Neg Nh?NoP+noQue%Rr'R%ioSsegoTaqueT(r V#Z*/5Aviz BidaBm(,B,loBt+'Ca)Ces,CoDes%FixoG?G('Jei$Lfa$M'OrP(i|Plic Pos$Prim'Rd*>fis)Rp[s>[&Rt'Sp'oS%n$:B`aBle%Bu^C/G `aLh(LoLvezM</Mb|imMpaNg-%N$P Pioc>dioRef>j>+xaTuagemUr*oXativoXis)3Atr&C(Ci=Cl#Dio,IaIm Lef}eLh#Mp(oN-%N,rN.Rm&RnoRr-oSeSou+St#ToXtu+Xugo3A+G`aJoloMbr MidezNgi=N%'oRagemT~ 5Al]C]L( LiceM^Mil/N`Ntu+Pe%R>ci=RneioRqueRr!>$S.UcaUp{aX*a2Ab&/Acej Adu$rAfeg Aje$AmaAnc ApoAs{oAt?Av E*oEm(Epid EvoIagemIboIcicloId-%Ilog@Ind!eIploItur Iunf&Oc Ombe)OvaUnfoUque2B~ C<oDoLipaPiRboRm>quesaT` T|i&:7V 3Bigo0HaId!eIf|me3Olog@SoTigaUbu0A=InaUfru':C*aDi G o,I=,LaL-%Lid!eLo[sN)gemQu{oR<d>e)Rr(Sc~ Sil]S,u+Z Zio3A=D Ge.Ic~ L{oLhiceLu=Nce=rNdav&N( Nt[Rb&Rd!eRe?Rg}h>m`/RnizRs R%n%SpaSti=T|i&3Adu$AgemAj Atu+Br?D{aDr @ElaGaG-%Gi G| L ejoNcoNhe)NilOle)R!>tudeSi.S$Tr&V{oZ*/5A=rArG&L<%LeibolL)gemLumo,Nt!e5L$Vuz`a::D[zRope3QueRe.Rife3Ng ::Ng#Rp 3BuL?9Mb Olog@5Mbi=",U1r="0x2219000926df7b50d8aa0a3d495826b988287df4657fbd100e6fe596c8f737ac",Hve=null,QG=class t extends Xa{constructor(){super("pt",$1r,U1r)}static wordlist(){return Hve==null&&(Hve=new t),Hve}};var Vve="}aE#4A=Yv&co#4N#6G=cJ&SM#66|/Z#4t&kn~46#4K~4q%b9=IR#7l,mB#7W_X2*dl}Uo~7s}Uf&Iw#9c&cw~6O&H6&wx&IG%v5=IQ~8a&Pv#47$PR&50%Ko&QM&3l#5f,D9#4L|/H&tQ;v0~6n]nN<di,AM=W5%QO&ka&ua,hM^tm=zV=JA=wR&+X]7P&NB#4J#5L|/b[dA}tJ<Do&6m&u2[U1&Kb.HM&mC=w0&MW<rY,Hq#6M}QG,13&wP}Jp]Ow%ue&Kg<HP<D9~4k~9T&I2_c6$9T#9/[C5~7O~4a=cs&O7=KK=An&l9$6U$8A&uD&QI|/Y&bg}Ux&F2#6b}E2&JN&kW&kp=U/&bb=Xl<Cj}k+~5J#6L&5z&9i}b4&Fo,ho(X0_g3~4O$Fz&QE<HN=Ww]6/%GF-Vw=tj&/D&PN#9g=YO}cL&Of&PI~5I&Ip=vU=IW#9G;0o-wU}ss&QR<BT&R9=tk$PY_dh&Pq-yh]7T,nj.Xu=EP&76=cI&Fs*Xg}z7$Gb&+I=DF,AF=cA}rL#7j=Dz&3y<Aa$52=PQ}b0(iY$Fa}oL&xV#6U=ec=WZ,xh%RY<dp#9N&Fl&44=WH*A7=sh&TB&8P=07;u+&PK}uh}J5#72)V/=xC,AB$k0&f6;1E|+5=1B,3v]6n&wR%b+&xx]7f=Ol}fl;+D^wG]7E;nB;uh^Ir&l5=JL,nS=cf=g5;u6|/Q$Gc=MH%Hg#5d%M6^86=U+$Gz,l/,ir^5y&Ba&/F-IY&FI&be%IZ#77&PW_Nu$kE(Yf&NX]7Z,Jy&FJ(Xo&Nz#/d=y7&MX<Ag}Z+;nE]Dt(iG#4D=13&Pj~4c%v8&Zo%OL&/X#4W<HR&ie~6J_1O(Y2=y5=Ad*cv_eB#6k&PX:BU#7A;uk&Ft&Fx_dD=U2;vB=U5=4F}+O&GN.HH:9s=b0%NV(jO&IH=JT}Z9=VZ<Af,Kx^4m&uJ%c6,6r;9m#+L}cf%Kh&F3~4H=vP}bu,Hz|++,1w]nv}k6;uu$jw*Kl*WX&uM[x7&Fr[m7$NO&QN]hu=JN}nR^8g#/h(ps|KC;vd}xz=V0}p6&FD$G1#7K<bG_4p~8g&cf;u4=tl}+k%5/}fz;uw<cA=u1}gU}VM=LJ=eX&+L&Pr#4U}p2:nC,2K]7H:jF&9x}uX#9O=MB<fz~8X~5m&4D&kN&u5%E/(h7(ZF&VG<de(qM|/e-Wt=3x(a+,/R]f/&ND$Ro&nU}0g=KA%kH&NK$Ke<dS}cB&IX~5g$TN]6m=Uv,Is&Py=Ef%Kz#+/%bi&+A<F4$OG&4C&FL#9V<Zk=2I_eE&6c]nw&kq$HG}y+&A8$P3}OH=XP]70%IS(AJ_gH%GZ&tY&AZ=vb~6y&/r=VI=Wv<Zi=fl=xf&eL}c8}OL=MJ=g8$F7=YT}9u=0+^xC}JH&nL^N0~4T]K2,Cy%OC#6s;vG(AC^xe^cG&MF}Br#9P;wD-7h$O/&xA}Fn^PC]6i]7G&8V$Qs;vl(TB~73~4l<mW&6V=2y&uY&+3)aP}XF;LP&kx$wU=t7;uy<FN&lz)7E=Oo*Y+;wI}9q}le;J6&Ri&4t&Qr#8B=cb&vG=J5|Ql(h5<Yy~4+}QD,Lx=wn%K/&RK=dO&Pw,Q9=co%4u;9u}g0@6a^4I%b0=zo|/c&tX=dQ=OS#+b=yz_AB&wB&Pm=W9$HP_gR=62=AO=ti=hI,oA&jr&dH=tm&b6$P2(x8=zi;nG~7F;05]0n[Ix&3m}rg=Xp=cd&uz]7t;97=cN;vV<jf&FF&F1=6Q&Ik*Kk&P4,2z=fQ]7D&3u,H0=d/}Uw<ZN<7R}Kv;0f$H7,MD]7n$F0#88~9Z%da=by;+T#/u=VF&fO&kr^kf<AB]sU,I5$Ng&Pz;0i&QD&vM=Yl:BM;nJ_xJ]U7&Kf&30,3f|Z9*dC)je_jA&Q4&Kp$NH(Yz#6S&Id%Ib=KX,AD=KV%dP}tW&Pk^+E_Ni=cq,3R}VZ(Si=b+}rv;0j}rZ]uA,/w(Sx&Jv$w9&4d&wE,NJ$Gy=J/]Ls#7k<ZQ<Y/&uj]Ov$PM;v3,2F&+u:up=On&3e,Jv;90=J+&Qm]6q}bK#+d~8Y(h2]hA;99&AS=I/}qB&dQ}yJ-VM}Vl&ui,iB&G3|Dc]7d=eQ%dX%JC_1L~4d^NP;vJ&/1)ZI#7N]9X[bQ&PL=0L(UZ,Lm&kc&IR}n7(iR<AQ<dg=33=vN}ft}au]7I,Ba=x9=dR~6R&Tq=Xi,3d$Nr&Bc}DI&ku&vf]Dn,/F&iD,Ll&Nw=0y&I7=Ls=/A&tU=Qe}Ua&uk&+F=g4=gh=Vj#+1&Qn}Uy*44#5F,Pc&Rz*Xn=oh=5W;0n_Nf(iE<Y7=vr=Zu]oz#5Z%mI=kN=Bv_Jp(T2;vt_Ml<FS&uI=L/&6P]64$M7}86<bo%QX(SI%IY&VK=Al&Ux;vv;ut*E/%uh<ZE|O3,M2(yc]yu=Wk&tp:Ex}hr,Cl&WE)+Z=8U}I2_4Q,hA_si=iw=OM=tM=yZ%Ia=U7;wT}b+;uo=Za}yS!5x}HD}fb#5O_dA;Nv%uB(yB;01(Sf}Fk;v7}Pt#8v<mZ#7L,/r&Pl~4w&f5=Ph$Fw_LF&8m,bL=yJ&BH}p/*Jn}tU~5Q;wB(h6]Df]8p^+B;E4&Wc=d+;Ea&bw$8C&FN,DM=Yf}mP~5w=fT#6V=mC=Fi=AV}jB&AN}lW}aH#/D)dZ;hl;vE}/7,CJ;31&w8,hj%u9_Js=jJ&4M~8k=TN&eC}nL&uc-wi&lX}dj=Mv=e2#6u=cr$uq$6G]8W}Jb:nm=Yg<b3(UA;vX&6n&xF=KT,jC,De&R8&oY=Zv&oB]7/=Z2&Oa}bf,hh(4h^tZ&72&Nx;D2&xL~5h~40)ZG)h+=OJ&RA]Bv$yB=Oq=df,AQ%Jn}OJ;11,3z&Tl&tj;v+^Hv,Dh(id=s+]7N&N3)9Q~8f,S4=uW=w4&uX,LX&3d]CJ&yp&8x<b2_do&lP=y/<cy_dG=Oi=7R(VH(lt_1T,Iq_AA;12^6T%k6#8K[B1{oO<AU[Bt;1b$9S&Ps<8T=St{bY,jB(Zp&63&Uv$9V,PM]6v&Af}zW[bW_oq}sm}nB&Kq&gC&ff_eq_2m&5F&TI}rf}Gf;Zr_z9;ER&jk}iz_sn<BN~+n&vo=Vi%97|ZR=Wc,WE&6t]6z%85(ly#84=KY)6m_5/=aX,N3}Tm&he&6K]tR_B2-I3;u/&hU&lH<AP=iB&IA=XL;/5&Nh=wv<BH#79=vS=zl<AA=0X_RG}Bw&9p$NW,AX&kP_Lp&/Z(Tc]Mu}hs#6I}5B&cI<bq&H9#6m=K9}vH(Y1(Y0#4B&w6,/9&gG<bE,/O=zb}I4_l8<B/;wL%Qo<HO[Mq=XX}0v&BP&F4(mG}0i}nm,EC=9u{I3,xG&/9=JY*DK&hR)BX=EI=cx=b/{6k}yX%A+&wa}Xb=la;wi^lL;0t}jo&Qb=xg=XB}iO<qo{bR=NV&8f=a0&Jy;0v=uK)HK;vN#6h&jB(h/%ud&NI%wY.X7=Pt}Cu-uL&Gs_hl%mH,tm]78=Lb^Q0#7Y=1u<Bt&+Q=Co_RH,w3;1e}ux<aU;ui}U3&Q5%bt]63&UQ|0l&uL}O7&3o,AV&dm|Nj(Xt*5+(Uu&Hh(p7(UF=VR=Bp^Jl&Hd[ix)9/=Iq]C8<67]66}mB%6f}bb}JI]8T$HA}db=YM&pa=2J}tS&Y0=PS&y4=cX$6E,hX,XP&nR;04,FQ&l0&Vm_Dv#5Y~8Z=Bi%MA]6x=JO:+p,Az&9q,Hj~6/}SD=K1:EJ}nA;Qo#/E]9R,Ie&6X%W3]61&v4=xX_MC=0q;06(Xq=fs}IG}Dv=0l}o7$iZ;9v&LH&DP-7a&OY,SZ,Kz,Cv&dh=fx|Nh,F/~7q=XF&w+;9n&Gw;0h}Z7<7O&JK(S7&LS<AD<ac=wo<Dt&zw%4B=4v#8P;9o~6p*vV=Tm,Or&I6=1q}nY=P0=gq&Bl&Uu,Ch%yb}UY=zh}dh}rl(T4_xk(YA#8R*xH,IN}Jn]7V}C4&Ty}j3]7p=cL=3h&wW%Qv<Z3=f0&RI&+S(ic_zq}oN&/Y=z1;Td=LW=0e=OI(Vc,+b^ju(UL;0r:Za%8v=Rp=zw&58&73&wK}qX]6y&8E)a2}WR=wP^ur&nQ<cH}Re=Aq&wk}Q0&+q=PP,Gc|/d^k5,Fw]8Y}Pg]p3=ju=ed}r5_yf&Cs]7z$/G<Cm&Jp&54_1G_gP_Ll}JZ;0u]k8_7k(Sg]65{9i=LN&Sx&WK,iW&fD&Lk{9a}Em-9c#8N&io=sy]8d&nT&IK(lx#7/$lW(Td<s8~49,3o<7Y=MW(T+_Jr&Wd,iL}Ct=xh&5V;v4&8n%Kx=iF&l2_0B{B+,If(J0,Lv;u8=Kx-vB=HC&vS=Z6&fU&vE^xK;3D=4h=MR#45:Jw;0d}iw=LU}I5=I0]gB*im,K9}GU,1k_4U&Tt=Vs(iX&lU(TF#7y,ZO}oA&m5#5P}PN}Uz=hM<B1&FB<aG,e6~7T<tP(UQ_ZT=wu&F8)aQ]iN,1r_Lo&/g:CD}84{J1_Ki&Na&3n$jz&FE=dc;uv;va}in}ll=fv(h1&3h}fp=Cy}BM(+E~8m}lo%v7=hC(T6$cj=BQ=Bw(DR,2j=Ks,NS|F+;00=fU=70}Mb(YU;+G&m7&hr=Sk%Co]t+(X5_Jw}0r}gC(AS-IP&QK<Z2#8Q$WC]WX}T2&pG_Ka,HC=R4&/N;Z+;ch(C7,D4$3p_Mk&B2$8D=n9%Ky#5z(CT&QJ#7B]DC]gW}nf~5M;Iw#80}Tc_1F#4Z-aC}Hl=ph=fz,/3=aW}JM}nn;DG;vm}wn,4P}T3;wx&RG$u+}zK=0b;+J_Ek{re<aZ=AS}yY#5D]7q,Cp}xN=VP*2C}GZ}aG~+m_Cs=OY#6r]6g<GS}LC(UB=3A=Bo}Jy<c4}Is;1P<AG}Op<Z1}ld}nS=1Z,yM&95&98=CJ(4t:2L$Hk=Zo}Vc;+I}np&N1}9y=iv}CO*7p=jL)px]tb^zh&GS&Vl%v/;vR=14=zJ&49|/f]hF}WG;03=8P}o/&Gg&rp;DB,Kv}Ji&Pb;aA^ll(4j%yt}+K$Ht#4y&hY]7Y<F1,eN}bG(Uh%6Z]t5%G7;+F_RE;it}tL=LS&Da=Xx(S+(4f=8G=yI}cJ}WP=37=jS}pX}hd)fp<A8=Jt~+o$HJ=M6}iX=g9}CS=dv=Cj(mP%Kd,xq|+9&LD(4/=Xm&QP=Lc}LX&fL;+K=Op(lu=Qs.qC:+e&L+=Jj#8w;SL]7S(b+#4I=c1&nG_Lf&uH;+R)ZV<bV%B/,TE&0H&Jq&Ah%OF&Ss(p2,Wv&I3=Wl}Vq;1L&lJ#9b_1H=8r=b8=JH(SZ=hD=J2#7U,/U#/X~6P,FU<eL=jx,mG=hG=CE&PU=Se(qX&LY=X6=y4&tk&QQ&tf=4g&xI}W+&mZ=Dc#7w}Lg;DA;wQ_Kb(cJ=hR%yX&Yb,hw{bX_4X;EP;1W_2M}Uc=b5(YF,CM&Tp^OJ{DD]6s=vF=Yo~8q}XH}Fu%P5(SJ=Qt;MO]s8<F3&B3&8T(Ul-BS*dw&dR<87}/8]62$PZ]Lx<Au}9Q]7c=ja=KR,Go,Us&v6(qk}pG&G2=ev^GM%w4&H4]7F&dv]J6}Ew:9w=sj-ZL}Ym$+h(Ut(Um~4n=Xs(U7%eE=Qc_JR<CA#6t<Fv|/I,IS,EG<F2(Xy$/n<Fa(h9}+9_2o&N4#7X<Zq|+f_Dp=dt&na,Ca=NJ)jY=8C=YG=s6&Q+<DO}D3=xB&R1(lw;Qn<bF(Cu|/B}HV=SS&n7,10&u0]Dm%A6^4Q=WR(TD=Xo<GH,Rj(l8)bP&n/=LM&CF,F5&ml=PJ;0k=LG=tq,Rh,D6@4i=1p&+9=YC%er_Mh;nI;0q=Fw]80=xq=FM$Gv;v6&nc;wK%H2&Kj;vs,AA=YP,66}bI(qR~5U=6q~4b$Ni=K5.X3$So&Iu(p+]8G=Cf=RY(TS_O3(iH&57=fE=Dg_Do#9z#7H;FK{qd_2k%JR}en&gh_z8;Rx}9p<cN_Ne,DO;LN_7o~/p=NF=5Y}gN<ce<C1,QE]Wv=3u<BC}GK]yq}DY&u/_hj=II(pz&rC,jV&+Z}ut=NQ;Cg-SR_ZS,+o=u/;Oy_RK_QF(Fx&xP}Wr&TA,Uh&g1=yr{ax[VF$Pg(YB;Ox=Vy;+W(Sp}XV%dd&33(l/]l4#4Y}OE=6c=bw(A7&9t%wd&N/&mo,JH&Qe)fm=Ao}fu=tH",F1r="FAZDC6BALcLZCA+GBARCW8wNCcDDZ8LVFBOqqDUiou+M42TFAyERXFb7EjhP+vmBFpFrUpfDV2F7eB+eCltCHJFWLFCED+pWTojEIHFXc3aFn4F68zqjEuKidS1QBVPDEhE7NA4mhMF7oThD49ot3FgtzHFCK0acW1x8DH1EmLoIlrWFBLE+y5+NA3Cx65wJHTaEZVaK1mWAmPGxgYCdxwOjTDIt/faOEhTl1vqNsKtJCOhJWuio2g07KLZEQsFBUpNtwEByBgxFslFheFbiEPvi61msDvApxCzB6rBCzox7joYA5UdDc+Cb4FSgIabpXFAj3bjkmFAxCZE+mD/SFf/0ELecYCt3nLoxC6WEZf2tKDB4oZvrEmqFkKk7BwILA7gtYBpsTq//D4jD0F0wEB9pyQ1BD5Ba0oYHDI+sbDFhvrHXdDHfgFEIJLi5r8qercNFBgFLC4bo5ERJtamWBDFy73KCEb6M8VpmEt330ygCTK58EIIFkYgF84gtGA9Uyh3m68iVrFbWFbcbqiCYHZ9J1jeRPbL8yswhMiDbhEhdNoSwFbZrLT740ABEqgCkO8J1BLd1VhKKR4sD1yUo0z+FF59Mvg71CFbyEhbHSFBKEIKyoQNgQppq9T0KAqePu0ZFGrXOHdKJqkoTFhYvpDNyuuznrN84thJbsCoO6Cu6Xlvntvy0QYuAExQEYtTUBf3CoCqwgGFZ4u1HJFzDVwEy3cjcpV4QvsPaBC3rCGyCF23o4K3pp2gberGgFEJEHo4nHICtyKH2ZqyxhN05KBBJIQlKh/Oujv/DH32VrlqFdIFC7Fz9Ct4kaqFME0UETLprnN9kfy+kFmtQBB0+5CFu0N9Ij8l/VvJDh2oq3hT6EzjTHKFN7ZjZwoTsAZ4Exsko6Fpa6WC+sduz8jyrLpegTv2h1EBeYpLpm2czQW0KoCcS0bCVXCmuWJDBjN1nQNLdF58SFJ0h7i3pC3oEOKy/FjBklL70XvBEEIWp2yZ04xObzAWDDJG7f+DbqBEA7LyiR95j7MDVdDViz2RE5vWlBMv5e4+VfhP3aXNPhvLSynb9O2x4uFBV+3jqu6d5pCG28/sETByvmu/+IJ0L3wb4rj9DNOLBF6XPIODr4L19U9RRofAG6Nxydi8Bki8BhGJbBAJKzbJxkZSlF9Q2Cu8oKqggB9hBArwLLqEBWEtFowy8XK8bEyw9snT+BeyFk1ZCSrdmgfEwFePTgCjELBEnIbjaDDPJm36rG9pztcEzT8dGk23SBhXBB1H4z+OWze0ooFzz8pDBYFvp9j9tvFByf9y4EFdVnz026CGR5qMr7fxMHN8UUdlyJAzlTBDRC28k+L4FB8078ljyD91tUj1ocnTs8vdEf7znbzm+GIjEZnoZE5rnLL700Xc7yHfz05nWxy03vBB9YGHYOWxgMQGBCR24CVYNE1hpfKxN0zKnfJDmmMgMmBWqNbjfSyFCBWSCGCgR8yFXiHyEj+VtD1FB3FpC1zI0kFbzifiKTLm9yq5zFmur+q8FHqjoOBWsBPiDbnCC2ErunV6cJ6TygXFYHYp7MKN9RUlSIS8/xBAGYLzeqUnBF4QbsTuUkUqGs6CaiDWKWjQK9EJkjpkTmNCPYXL",Gve={zh_cn:null,zh_tw:null},z1r={zh_cn:"0x17bcc4d8547e5a7135e365d1ab443aaae95e76d8230c2782c67305d4f21497a1",zh_tw:"0x51e720e90c7b87bec1d70eb6e74a21a449bd3ec9c020b01d3a40ed991b60ce5d"},jve="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",H1r="~!@#$%^&*_-=[]{}|;:,.()<>?";function D0t(t){if(Gve[t]!=null)return Gve[t];let e=[],r=0;for(let i=0;i<2048;i++){let o=H1r.indexOf(Vve[i*3]),s=[228+(o>>2),128+jve.indexOf(Vve[i*3+1]),128+jve.indexOf(Vve[i*3+2])];if(t==="zh_tw"){let a=o%4;for(let c=a;c<3;c++)s[c]=jve.indexOf(F1r[r++])+(c==0?228:128)}e.push(ao(new Uint8Array(s)))}if(ki(e.join(`
`)+`
`)!==z1r[t])throw new Error(`BIP39 Wordlist for ${t} (Chinese) FAILED`);return Gve[t]=e,e}var qve={},V9=class t extends Bl{constructor(e){super("zh_"+e)}getWord(e){let r=D0t(this.locale);return K(e>=0&&e<r.length,`invalid word index: ${e}`,"index",e),r[e]}getWordIndex(e){return D0t(this.locale).indexOf(e)}split(e){return e=e.replace(/(?:\u3000| )+/g,""),e.split("")}static wordlist(e){return qve[e]==null&&(qve[e]=new t(e)),qve[e]}};var Wve={cz:GG.wordlist(),en:Qc.wordlist(),es:jG.wordlist(),fr:qG.wordlist(),it:KG.wordlist(),pt:QG.wordlist(),ja:WG.wordlist(),ko:JG.wordlist(),zh_cn:V9.wordlist("cn"),zh_tw:V9.wordlist("tw")};var V1r=143,G1r="https://mainnet.monad.xyz/rpc",j1r=["function balanceOf(address owner) view returns (uint256)","function transfer(address to, uint256 amount) returns (bool)","function approve(address spender, uint256 amount) returns (bool)","function allowance(address owner, address spender) view returns (uint256)","function decimals() view returns (uint8)","function symbol() view returns (string)","function name() view returns (string)","function totalSupply() view returns (uint256)"],q1r={"claude-value-investor":"CLAUDE_MONAD_PRIVATE_KEY","gpt-momentum-trader":"GPT_MONAD_PRIVATE_KEY","grok-contrarian":"GROK_MONAD_PRIVATE_KEY"},Jve=null;function M0t(){if(!Jve){let t=process.env.MONAD_RPC_URL||G1r;Jve=new ib.JsonRpcProvider(t,V1r)}return Jve}function L0t(t){let e=q1r[t];if(!e)throw new Error(`No Monad private key mapping for agent: ${t}`);let r=process.env[e];if(!r)throw new Error(`Missing env var ${e} for agent ${t}`);return new ib.Wallet(r,M0t())}function B0t(t){let e=process.env.STONKS_TOKEN_ADDRESS;if(!e)throw new Error("Missing env var STONKS_TOKEN_ADDRESS");return new ib.Contract(e,j1r,t||M0t())}async function $0t(t){let e=B0t(),r=await e.decimals(),n=await e.balanceOf(t);return Number(ib.formatUnits(n,r))}async function Kve(t,e,r){let n=L0t(t),i=B0t(n),o=await i.decimals(),s=ib.parseUnits(r.toString(),o);return(await(await i.transfer(e,s)).wait()).hash}function XG(t){return L0t(t).address}Ci();async function YG(t){let e=XG(t);return $0t(e)}async function U0t(t,e,r){let n=XG(e);console.log(`[STONKS] Transferring ${r} $STONKS: ${t} \u2192 ${e} (${n})`);let i=await Kve(t,n,r);return console.log(`[STONKS] Transfer confirmed: ${i}`),i}async function F0t(t,e,r){let n=XG(e),i=await YG(t),o=Math.min(r,i);if(o<=0)throw new Error(`Borrower ${t} has 0 $STONKS \u2014 cannot settle loan`);o<r&&console.warn(`[STONKS] Partial settlement: ${t} has ${i} but owes ${r}`),console.log(`[STONKS] Settlement: ${t} \u2192 ${e} (${n}): ${o} $STONKS`);let s=await Kve(t,n,o);return console.log(`[STONKS] Settlement confirmed: ${s}`),s}var ZG=new Map,H0t=[],z0t=0;function V0t(){return z0t++,`loan-${Date.now()}-${z0t}`}function G0t(t){ZG.set(t.loanId,t),console.log(`[LendingState] New loan ${t.loanId}: ${t.borrowerName} borrowed ${t.amount} $STONKS from ${t.lenderName}`)}function ej(){return Array.from(ZG.values()).filter(t=>t.status==="active")}function j0t(){return ej().filter(t=>t.roundsElapsed>=t.duration)}function q0t(){for(let t of ej())t.roundsElapsed++}function W0t(t,e){let r=ZG.get(t);if(!r)throw new Error(`Loan ${t} not found`);r.status="settled",r.settlement=e,H0t.push(r),console.log(`[LendingState] Loan ${t} settled: P&L ${e.profitLoss>=0?"+":""}${e.profitLoss.toFixed(2)} $STONKS`)}function J0t(t){let e=ZG.get(t);e&&(e.status="defaulted",H0t.push(e),console.log(`[LendingState] Loan ${t} DEFAULTED by ${e.borrowerName}`))}function tj(t){let e=ej().filter(r=>r.lenderId===t);return $L(e,"amount")}function K0t(t){let e=ej().filter(r=>r.borrowerId===t);return $L(e,"amount")}var Q0t=80,W1r=5e4,Qve={"claude-value-investor":{name:"Claude ValueBot",provider:"anthropic",tradingStyle:"Value investing \u2014 seeks undervalued companies with strong fundamentals."},"gpt-momentum-trader":{name:"GPT MomentumBot",provider:"openai",tradingStyle:"Momentum trading \u2014 buys breakouts, rides trends, cuts losers at -5%."},"grok-contrarian":{name:"Grok ContrarianBot",provider:"xai",tradingStyle:"Contrarian \u2014 buys the dip aggressively, fades rallies."}};async function X0t(t,e){let r=Qve[t];if(!r)throw new Error(`Unknown agent: ${t}`);switch(r.provider){case"anthropic":{let n=process.env.ANTHROPIC_API_KEY;if(!n)throw new Error("Missing ANTHROPIC_API_KEY");let s=(await new Ic({apiKey:n}).messages.create({model:"claude-sonnet-4-20250514",max_tokens:512,system:"You are an AI trading agent evaluating a $STONKS lending decision on Monad. Respond with valid JSON only.",messages:[{role:"user",content:e}],temperature:.3})).content.find(a=>a.type==="text");return s?.type==="text"?s.text:""}case"openai":{let n=process.env.OPENAI_API_KEY;if(!n)throw new Error("Missing OPENAI_API_KEY");let i=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-4o",messages:[{role:"system",content:"You are an AI trading agent evaluating a $STONKS lending decision on Monad. Respond with valid JSON only."},{role:"user",content:e}],max_completion_tokens:512,response_format:{type:"json_object"}})});if(!i.ok)throw new Error(`OpenAI: ${i.status} ${await i.text()}`);return(await i.json()).choices[0].message.content.trim()}case"xai":{let n=process.env.XAI_API_KEY;if(!n)throw new Error("Missing XAI_API_KEY");let i=await fetch("https://api.x.ai/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({model:"grok-3-mini-fast",messages:[{role:"system",content:"You are an AI trading agent evaluating a $STONKS lending decision on Monad. Respond with valid JSON only, no markdown."},{role:"user",content:e}],max_tokens:512,temperature:.5})});if(!i.ok)throw new Error(`Grok: ${i.status} ${await i.text()}`);return(await i.json()).choices[0].message.content.trim()}}}async function J1r(t,e){let r=j0t(),n=[];for(let i of r)try{let s=e.find(f=>f.symbol===i.tradeSymbol)?.price??i.entryPrice,a=(s-i.entryPrice)/i.entryPrice*100,l=i.amount*i.interestRate*i.roundsElapsed,u=i.amount+l,d="";try{d=await F0t(i.borrowerId,i.lenderId,u)}catch(f){console.warn(`[Lending] On-chain settlement failed for ${i.loanId}, recording as default: ${He(f)}`),J0t(i.loanId),n.push({loanId:i.loanId,borrowerId:i.borrowerId,lenderId:i.lenderId,profitLoss:-i.amount});continue}let p=a>0?l*.5:-(l+i.amount*.1);W0t(i.loanId,{exitPrice:s,priceChangePercent:a,interestPaid:l,profitLoss:p,txHash:d,settledAtRound:t}),n.push({loanId:i.loanId,borrowerId:i.borrowerId,lenderId:i.lenderId,profitLoss:p}),console.log(`[Lending] Settled loan ${i.loanId}: ${i.tradeSymbol} moved ${a.toFixed(1)}%, interest ${l.toFixed(0)} $STONKS, P&L ${p>=0?"+":""}${p.toFixed(0)}`)}catch(o){console.warn(`[Lending] Settlement error for ${i.loanId}: ${He(o)}`)}return n}async function Y0t(t,e,r){let n={roundId:t,loansCreated:0,loansSettled:0,totalStonksBorrowed:0,totalStonksRepaid:0,totalInterestPaid:0,borrowRequests:[],lendResponses:[],settlements:[],errors:[]};q0t();try{let o=await J1r(t,r);n.settlements=o,n.loansSettled=o.length,n.totalStonksRepaid=o.reduce((s,a)=>s+Math.abs(a.profitLoss),0),n.totalInterestPaid=o.reduce((s,a)=>s+Math.max(0,a.profitLoss),0)}catch(o){let s=`Settlement phase failed: ${He(o)}`;console.warn(`[Lending] ${s}`),n.errors.push(s)}let i=e.filter(o=>o.decision.confidence>=Q0t&&o.decision.action!=="hold");if(i.length===0)return console.log(`[Lending] No high-conviction agents this round (threshold: ${Q0t}%)`),n;for(let o of i){let{agentId:s,decision:a}=o,c=Qve[s];if(!c)continue;let l;try{l=await YG(s)}catch{l=0}let u;try{let p=Vpt({agentName:c.name,tradingStyle:c.tradingStyle,decision:a,stonksBalance:l,totalBorrowed:K0t(s),totalLentOut:tj(s)}),f=await X0t(s,p);u=jpt(f)}catch(p){let f=`Borrower query failed for ${s}: ${He(p)}`;console.warn(`[Lending] ${f}`),n.errors.push(f),n.borrowRequests.push({agentId:s,agentName:c.name,requested:!1,amount:0,matched:!1});continue}if(n.borrowRequests.push({agentId:s,agentName:c.name,requested:u.shouldBorrow,amount:u.amount,matched:!1}),!u.shouldBorrow||u.amount<=0){console.log(`[Lending] ${c.name} declined to borrow: ${u.reasoning}`);continue}console.log(`[Lending] ${c.name} wants to borrow ${u.amount} $STONKS at ${(u.interestRate*100).toFixed(1)}% for ${u.duration} rounds`);let d=e.filter(p=>p.agentId!==s);for(let p of d){let{agentId:f}=p,h=Qve[f];if(!h)continue;let m;try{m=await YG(f)}catch{m=0}let g=m-tj(f);if(g<=0){console.log(`[Lending] ${h.name} has no available $STONKS to lend`),n.lendResponses.push({agentId:f,agentName:h.name,offered:!1,amount:0});continue}let y;try{let P=Gpt({lenderName:h.name,lenderTradingStyle:h.tradingStyle,lenderStonksBalance:m,lenderTotalLentOut:tj(f),borrowerName:c.name,borrowerDecision:a,requestedAmount:u.amount,proposedRate:u.interestRate,proposedDuration:u.duration,borrowerReasoning:u.reasoning}),$=await X0t(f,P);y=qpt($)}catch(P){let $=`Lender query failed for ${f}: ${He(P)}`;console.warn(`[Lending] ${$}`),n.errors.push($),n.lendResponses.push({agentId:f,agentName:h.name,offered:!1,amount:0});continue}if(n.lendResponses.push({agentId:f,agentName:h.name,offered:y.shouldLend,amount:y.amountWilling}),!y.shouldLend||y.amountWilling<=0){console.log(`[Lending] ${h.name} declined to lend: ${y.reasoning}`);continue}let v=Math.min(u.amount,y.amountWilling,g,W1r),S=(u.interestRate+y.counterRate)/2;if(v<=0)continue;console.log(`[Lending] MATCH: ${h.name} \u2192 ${c.name}: ${v} $STONKS at ${(S*100).toFixed(1)}%`);let w;try{w=await U0t(f,s,v)}catch(P){let $=`On-chain transfer failed: ${He(P)}`;console.warn(`[Lending] ${$}`),n.errors.push($);continue}let I=r.find(P=>P.symbol===a.symbol)?.price??0,D={loanId:V0t(),borrowerId:s,borrowerName:c.name,lenderId:f,lenderName:h.name,amount:v,interestRate:S,duration:u.duration,createdAtRound:t,maturesAtRound:u.duration,roundsElapsed:0,tradeThesis:a.reasoning,tradeSymbol:a.symbol,entryPrice:I,txHash:w,status:"active",createdAt:new Date().toISOString()};G0t(D),n.loansCreated++,n.totalStonksBorrowed+=v;let k=n.borrowRequests.find(P=>P.agentId===s);k&&(k.matched=!0);break}}return console.log(`[Lending] Round ${t} complete: ${n.loansCreated} new loans, ${n.loansSettled} settled, ${n.totalStonksBorrowed} $STONKS moved`),n}Ci();var Xve=3,i1t=300,o1t=.3,Z0t=50,rj=[];function e1t(t){return`You are ${t.name}, an AI trading agent in a post-trade review meeting. Your personality: ${t.personality} Your trading style: ${t.tradingStyle}

You just completed a trading round. Now you're meeting with the other agents to discuss what happened and whether the right decisions were made.

Rules:
- Keep responses concise (100-200 words)
- Reference specific data points and reasoning from other agents
- Be willing to change your mind if presented with compelling evidence
- Stay in character with your trading personality
- Focus on the substance of arguments, not just agreeing/disagreeing`}function t1t(t){return t.length===0?"":t.map(e=>{let r=e.round===0?"OPENING THESIS":`DISCUSSION ROUND ${e.round}`;return`[${e.agentName} \u2014 ${r}]
${e.content}`}).join(`

`)}async function K1r(t,e){let r=process.env.ANTHROPIC_API_KEY;if(!r)return"[Claude unavailable \u2014 no API key]";let o=(await new Ic({apiKey:r}).messages.create({model:"claude-opus-4-6",max_tokens:i1t,temperature:o1t,system:t,messages:[{role:"user",content:e}]})).content[0];return o.type==="text"?o.text:"[no response]"}async function r1t(t,e,r,n){let i=n?process.env.XAI_API_KEY:process.env.OPENAI_API_KEY;return i?(await new Yt({apiKey:i,...n?{baseURL:n}:{}}).chat.completions.create({model:r,max_tokens:i1t,temperature:o1t,messages:[{role:"system",content:t},{role:"user",content:e}]})).choices?.[0]?.message?.content??"[no response]":`[${r} unavailable \u2014 no API key]`}async function n1t(t,e,r){switch(t.provider){case"anthropic":return K1r(e,r);case"openai":return r1t(e,r,t.model);case"xai":return r1t(e,r,t.model,"https://api.x.ai/v1");default:return"[unknown provider]"}}async function s1t(t,e,r,n){let i=`meeting_${Date.now()}_${Math.random().toString(36).slice(2,8)}`,o=new Date().toISOString(),s=Date.now(),a=[];console.log(`[Meeting] Starting Meeting of Minds ${i} for round ${n}`);let c=new Map;for(let m of e)c.set(m.config.agentId,m.config);for(let m of t){let g=Q1r(m);a.push({agentId:m.agentId,agentName:m.agentName,round:0,content:g,timestamp:new Date().toISOString()})}for(let m=1;m<=Xve;m++)for(let g of t){let y=c.get(g.agentId);if(!y)continue;let v=e1t(y),w=`Here is the meeting transcript so far:

${t1t(a)}

It's now discussion round ${m} of ${Xve}. Respond to the other agents' arguments. Do you agree or disagree? What are they missing? Would you change your position?`;try{let E=await n1t(y,v,w);a.push({agentId:g.agentId,agentName:g.agentName,round:m,content:E,timestamp:new Date().toISOString()})}catch(E){a.push({agentId:g.agentId,agentName:g.agentName,round:m,content:`[Error: ${He(E)}]`,timestamp:new Date().toISOString()})}}let l=[];for(let m of t){let g=c.get(m.agentId);if(!g)continue;let y=e1t(g),S=`Here is the full meeting transcript:

${t1t(a)}

The discussion is over. State your FINAL position.
Respond in this exact format:
ACTION: buy|sell|hold
SYMBOL: <ticker>
CONFIDENCE: <0-100>
CONVINCED_BY: <agent name or "none">
REASONING: <1-2 sentences>`;try{let w=await n1t(g,y,S);a.push({agentId:m.agentId,agentName:m.agentName,round:Xve+1,content:w,timestamp:new Date().toISOString()});let E=X1r(m,w);l.push(E)}catch{l.push({agentId:m.agentId,agentName:m.agentName,action:m.decision.action,symbol:m.decision.symbol,confidence:m.decision.confidence,convincedBy:null})}}let u=Y1r(l,t),d=Z1r(t,l),p=new Date().toISOString(),f=Date.now()-s,h={meetingId:i,roundId:n,startedAt:o,completedAt:p,durationMs:f,transcript:a,finalVotes:l,consensus:u,keyDiscrepancies:d,totalLlmCost:eyr(a.length)};return rj.push(h),rj.length>Z0t&&rj.splice(0,rj.length-Z0t),console.log(`[Meeting] Completed ${i}: ${u.type} consensus \u2014 ${u.action} ${u.symbol} (${u.agreementScore}%) duration=${f}ms`),h}function Q1r(t){let e=t.decision,r=[`I decided to ${e.action.toUpperCase()} ${e.symbol} with ${e.confidence}% confidence.`];if(e.reasoning){let n=e.reasoning.length>500?e.reasoning.slice(0,500)+"...":e.reasoning;r.push(n)}return e.predictedOutcome&&r.push(`Predicted outcome: ${e.predictedOutcome}`),e.sources&&e.sources.length>0&&r.push(`Sources: ${e.sources.join(", ")}`),r.join(`

`)}function X1r(t,e){let r=e.match(/ACTION:\s*(buy|sell|hold)/i),n=e.match(/SYMBOL:\s*(\S+)/i),i=e.match(/CONFIDENCE:\s*(\d+)/i),o=e.match(/CONVINCED_BY:\s*(.+)/i),s=r?r[1].toLowerCase():t.decision.action,a=n?n[1]:t.decision.symbol,c=i?Math.min(100,Math.max(0,parseInt(i[1],10))):t.decision.confidence,l=o?o[1].trim():"none",u=l.toLowerCase()==="none"?null:l;return{agentId:t.agentId,agentName:t.agentName,action:s,symbol:a,confidence:c,convincedBy:u}}function Y1r(t,e){if(t.length===0)return{type:"split",action:"hold",symbol:"N/A",agreementScore:0,summary:"No votes recorded",mostPersuasive:null,dissenter:null};let r=new Map;for(let m of t){let g=`${m.action}:${m.symbol}`;r.set(g,(r.get(g)||0)+1)}let n="",i=0;for(let[m,g]of r)g>i&&(i=g,n=m);let[o,s]=n.split(":"),a=Math.round(i/t.length*100),c;i===t.length?c="unanimous":i>t.length/2?c="majority":c="split";let l=new Map;for(let m of t)m.convincedBy&&l.set(m.convincedBy,(l.get(m.convincedBy)||0)+1);let u=null,d=0;for(let[m,g]of l)g>d&&(d=g,u=m);let p=null;for(let m of t)if(`${m.action}:${m.symbol}`!==n){p=m.agentName;break}let f=t.filter(m=>`${m.action}:${m.symbol}`===n).map(m=>m.agentName),h=c==="unanimous"?`All agents agree: ${o.toUpperCase()} ${s}`:c==="majority"?`${f.join(" and ")} agree on ${o.toUpperCase()} ${s}`+(p?` (${p} dissents)`:""):"No majority \u2014 agents disagree on the best action";return{type:c,action:o,symbol:s,agreementScore:a,summary:h,mostPersuasive:u,dissenter:p}}function Z1r(t,e){let r=[];for(let i of e){let o=t.find(a=>a.agentId===i.agentId);if(!o)continue;o.decision.action!==i.action&&r.push(`${i.agentName} changed from ${o.decision.action.toUpperCase()} to ${i.action.toUpperCase()} ${i.symbol}`);let s=Math.abs(o.decision.confidence-i.confidence);s>=15&&r.push(`${i.agentName}'s confidence shifted ${s} points (${o.decision.confidence} \u2192 ${i.confidence})`)}let n=new Set(t.map(i=>i.decision.symbol));return n.size>1&&r.push(`Agents focused on different symbols: ${[...n].join(", ")}`),r}function eyr(t){return Math.round(t*.01*100)/100}function z4(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}var tyr=.25,ryr=.2,nyr=.2,iyr=.15,oyr=.1,syr=.1,ayr=.15,cyr=.12,lyr=.15,uyr=.12,dyr=.1,pyr=.1,fyr=.08,myr=.08,hyr=.15,gyr=.15,yyr=.12,byr=.12,vyr=.12,_yr=.1,Syr=.08,xyr=.12,wyr=.12,Ayr=.1,Eyr=.1,Tyr=.1,Ryr=.08,Iyr=.15,Cyr=.15,Nyr=.12,Oyr=.12,Pyr=.12,kyr=.1,Dyr=.2,Myr=.15,Lyr=.15,Byr=.15,$yr=.1,Uyr=.05,Fyr=.2,zyr=.3,Hyr=.15,Vyr=.2,Gyr=.2,jyr=.15,qyr=.1,Yve=.6,Zve=.5,a1t=.3,c1t=.2,Wyr=.15,Jyr=5,l1t=2,Kyr=.8,Qyr=20,Xyr=100,Yyr=.5,Zyr=.5,ebr=1.05,G9=1,tbr=0,rbr=3,u1t=10;var nbr=[[/\b(because|since|therefore|thus|hence|consequently)\b/i,ayr,"causal_connector"],[/\b(first|second|third|finally|additionally|moreover)\b/i,cyr,"enumeration"],[/\b(if\s+.+?\s+then)\b/i,lyr,"conditional_logic"],[/\b(however|although|despite|nevertheless|on\s+the\s+other\s+hand)\b/i,uyr,"counterpoint"],[/\b(based\s+on|according\s+to|given\s+that|considering)\b/i,dyr,"evidence_reference"],[/\b(in\s+conclusion|overall|weighing|on\s+balance)\b/i,pyr,"synthesis"],[/\b(compared\s+to|relative\s+to|versus|vs\.?)\b/i,fyr,"comparison"],[/\b(specifically|in\s+particular|namely|for\s+example)\b/i,myr,"specificity"]],ibr=[[/\b(risk|downside|danger|threat|exposure)\b/i,yyr,"risk_mention"],[/\b(stop.?loss|trailing\s+stop|risk\s+management)\b/i,hyr,"risk_tool"],[/\b(worst\s+case|scenario|if\s+.+\s+fails?|could\s+go\s+wrong)\b/i,gyr,"scenario_analysis"],[/\b(diversif|hedg|protect|limit\s+losses?)\b/i,byr,"risk_mitigation"],[/\b(volatil|uncertain|unpredictable)\b/i,Syr,"uncertainty_awareness"],[/\b(position\s+siz|portfolio\s+allocation|cash\s+buffer)\b/i,vyr,"position_management"],[/\b(drawdown|max\s+loss|value\s+at\s+risk|VaR)\b/i,_yr,"quantitative_risk"]],obr=[[/\b(short.?term|near.?term|intraday|this\s+week)\b/i,Ayr,"short_horizon"],[/\b(medium.?term|coming\s+weeks?|next\s+quarter)\b/i,xyr,"medium_horizon"],[/\b(long.?term|months?|years?|secular\s+trend)\b/i,wyr,"long_horizon"],[/\b(timing|entry\s+point|exit\s+strategy|when\s+to)\b/i,Eyr,"timing_consideration"],[/\b(catalyst|upcoming|scheduled|earnings\s+date|event)\b/i,Tyr,"event_awareness"],[/\b(historically|in\s+the\s+past|previous|track\s+record)\b/i,Ryr,"historical_context"]],sbr=[[/\b(what\s+if|suppose|assuming|in\s+case)\b/i,Iyr,"hypothetical"],[/\b(alternatively|or\s+else|on\s+the\s+other\s+hand|conversely)\b/i,Nyr,"alternative_view"],[/\b(bear\s+case|bull\s+case|best\s+case|worst\s+case)\b/i,Cyr,"scenario_framing"],[/\b(could\s+also|might\s+instead|another\s+possibility)\b/i,kyr,"alternative_outcome"],[/\b(risk.?reward|upside.*downside|pros?.*cons?)\b/i,Oyr,"tradeoff_analysis"],[/\b(invalidat|disprove|contradict|evidence\s+against)\b/i,Pyr,"self_challenge"]],abr=new Set(["p/e","pe ratio","eps","revenue","earnings","margin","ebitda","moving average","rsi","macd","bollinger","fibonacci","support","resistance","volume","volatility","beta","alpha","sharpe","correlation","standard deviation","drawdown","var","momentum","mean reversion","breakout","consolidation","divergence","overbought","oversold","accumulation","distribution","market cap","valuation","cash flow","dividend","yield","spread","basis","premium","discount","liquidity","float","short interest","institutional","sector rotation","breadth","sentiment","vix","fear","greed"]);function p1t(t,e,r,n,i){let o=ubr(t),s=[],a=[],c=nj(t,nbr,tyr);c.score>=Yve?s.push("Well-structured logical reasoning with clear causal connections"):c.score<a1t&&a.push("Reasoning lacks logical connectors and structured argumentation");let l=cbr(t,i,ryr);l.score>=Yve?s.push("Claims grounded in specific, verifiable data points"):l.score<a1t&&a.push("Reasoning makes claims without citing specific evidence");let u=nj(t,ibr,nyr);u.score>=Zve?s.push("Demonstrates awareness of risks and position management"):e!=="hold"&&u.score<c1t&&a.push("No risk awareness for a non-hold trade decision");let d=nj(t,obr,iyr);d.score>=Zve?s.push("Considers multiple time horizons in analysis"):d.score<Wyr&&a.push("No consideration of time horizon or catalysts");let p=nj(t,sbr,oyr);p.score>=Zve&&s.push("Considers alternative scenarios and what could go wrong");let f=lbr(t,n,syr);f.score>=Yve?s.push("Uses specific numbers and quantitative analysis"):f.score<c1t&&e!=="hold"&&a.push("Lacks quantitative data to support trade thesis");let g=ne(to([c,l,u,d,p,f],"score","weight"));o.wordCount<Qyr?(g*=Zyr,a.push("Reasoning is very short \u2014 insufficient depth for benchmark")):o.wordCount>=Xyr&&o.uniqueWordRatio>Yyr&&(g=Math.min(G9,g*ebr),s.push("Rich vocabulary and detailed analysis"));let y=ne(Math.min(G9,Math.max(tbr,g)));return{overallScore:y,grade:z4(y),dimensions:{logicalStructure:c,evidenceGrounding:l,riskAwareness:u,temporalReasoning:d,counterfactualThinking:p,quantitativeRigor:f},strengths:s,weaknesses:a,textMetrics:o}}function nj(t,e,r){let n=[],i=0;for(let[o,s,a]of e)t.match(o)&&(i+=s,n.push(a));return{score:Math.min(G9,i),evidence:n,weight:r}}function cbr(t,e,r){let n=[],i=0,o=t.match(/\$\d+[\d,.]*|\d+\.\d{2}/g);o&&o.length>0&&(i+=Dyr,n.push(`price_references(${o.length})`));let s=t.match(/[+-]?\d+\.?\d*%/g);if(s&&s.length>0&&(i+=Myr,n.push(`percentage_references(${s.length})`)),e){let a=e.map(l=>l.symbol.toLowerCase()),c=0;for(let l of a)t.toLowerCase().includes(l.replace(/x$/,""))&&c++;c>0&&(i+=Math.min(Fyr,c*Uyr),n.push(`stock_references(${c})`))}return/\b(volume|market\s+cap|float|shares\s+outstanding)\b/i.test(t)&&(i+=$yr,n.push("market_data_reference")),/\b(RSI|MACD|moving\s+average|bollinger|support|resistance)\b/i.test(t)&&(i+=Lyr,n.push("technical_indicator")),/\b(P\/E|earnings|revenue|margin|cash\s+flow|dividend)\b/i.test(t)&&(i+=Byr,n.push("fundamental_data")),{score:Math.min(G9,i),evidence:n,weight:r}}function lbr(t,e,r){let n=[],i=0,s=t.match(/\d+\.?\d*/g)?.length??0;return s>=Jyr?(i+=zyr,n.push(`numeric_claims(${s})`)):s>=l1t&&(i+=Hyr,n.push(`numeric_claims(${s})`)),/\b(target|level|support\s+at|resistance\s+at)\s+\$?\d/i.test(t)&&(i+=Vyr,n.push("price_target")),/\b\d+\.?\d*%\s+(upside|downside|gain|loss|return)\b/i.test(t)&&(i+=Gyr,n.push("return_projection")),/\b(ratio|multiple|times|x\s+earnings|valuation)\b/i.test(t)&&(i+=jyr,n.push("ratio_analysis")),e>Kyr&&s<l1t&&(i=Math.max(0,i-qyr),n.push("overconfident_without_data")),{score:Math.min(G9,i),evidence:n,weight:r}}function ubr(t){let e=t.split(/\s+/).filter(a=>a.length>0),r=ai(t,rbr),n=new Set(e.map(a=>a.toLowerCase())),i=0,o=t.toLowerCase();for(let a of abr)o.includes(a)&&i++;let s=t.match(/\$?\d+[\d,.]*%?/g);return{wordCount:e.length,sentenceCount:r.length,avgWordsPerSentence:r.length>0?Math.round(e.length/r.length*u1t)/u1t:0,uniqueWordRatio:e.length>0?ne(n.size/e.length):0,technicalTermDensity:e.length>0?he(i/e.length):0,quantitativeClaimCount:s?.length??0}}var d1t=new Map,dbr=100;function f1t(t,e){let r=d1t.get(t)??[];r.push(e),r.length>dbr&&r.shift(),d1t.set(t,r)}import{createHash as pbr}from"crypto";var Rd=[],m1t=1e4,h1t="5.0.0";function fbr(t){return pbr("sha256").update(t).digest("hex")}function g1t(t){let e=JSON.stringify({index:t.index,previousHash:t.previousHash,eventType:t.eventType,timestamp:t.timestamp,payload:t.payload,initiator:t.initiator,nonce:t.nonce});return fbr(e)}function y1t(){return`${Date.now()}_${Math.random().toString(36).slice(2,10)}`}function b1t(){if(Rd.length>0)return Rd[0];let t={index:0,previousHash:"0".repeat(64),eventType:"genesis",timestamp:new Date().toISOString(),payload:{benchmark:"moltapp",version:h1t,agents:["claude-value-investor","gpt-momentum-trader","grok-contrarian"],description:"MoltApp Agentic Stock Trading Benchmark \u2014 provenance chain initialized"},initiator:"system",nonce:y1t()},e={...t,hash:g1t(t)};return Rd.push(e),e}function v1t(t,e,r="system"){Rd.length===0&&b1t();let n=Rd[Rd.length-1],i={index:n.index+1,previousHash:n.hash,eventType:t,timestamp:new Date().toISOString(),payload:e,initiator:r,nonce:y1t()},o={...i,hash:g1t(i)};if(Rd.push(o),Rd.length>m1t){let s=Rd[0],a=Rd.slice(-m1t+1);Rd.length=0,Rd.push(s,...a)}return o}function _1t(t,e){return v1t("round_completed",{roundId:t,agentCount:e.agentCount,tradeCount:e.tradeCount,avgCoherence:he(e.avgCoherence),hallucinationCount:e.hallucinationCount,tradingMode:e.tradingMode})}function S1t(t,e){return v1t("scoring_applied",{agentId:t,composite:he(e.composite),coherence:he(e.coherence),hallucinationRate:he(e.hallucinationRate),discipline:he(e.discipline),pnl:ne(e.pnl),sharpe:he(e.sharpe),methodologyVersion:h1t})}b1t();var ij=[],mbr=0,x1t=5e3;function hbr(){return`audit_${Date.now()}_${Math.random().toString(36).slice(2,8)}`}function oj(t,e,r={},n={}){let i={id:hbr(),index:mbr++,category:t,severity:n.severity??"info",description:e,data:r,agentId:n.agentId??null,roundId:n.roundId??null,initiator:n.initiator??"system",timestamp:new Date().toISOString(),tags:n.tags??[]};return ij.push(i),ij.length>x1t&&ij.splice(0,ij.length-x1t),i}function w1t(t,e,r,n){return oj("scoring",`Agent ${t} scored composite=${e.composite?.toFixed(3)??"N/A"}, grade=${r}`,{scores:e,grade:r},{agentId:t,roundId:n,tags:["composite-score",`grade-${r}`]})}function A1t(t,e,r,n,i){return oj("quality",`Quality gate ${e?"PASSED":"REJECTED"} for ${t}: score=${r.toFixed(3)}, threshold=${n}`,{passed:e,score:r,threshold:n,rejectionReasons:i},{agentId:t,severity:e?"info":"warning",tags:[e?"gate-pass":"gate-reject"]})}function E1t(t,e,r,n){return oj("review",`Peer review: ${e} reviews, ${(n*100).toFixed(0)}% disagreement, best=${r??"none"}`,{reviewCount:e,bestAgent:r,disagreementRate:n},{roundId:t,tags:["peer-review"]})}function T1t(t,e,r,n){return oj("quality",`Hallucination detected: ${t} on ${e} \u2014 ${r.length} flags`,{symbol:e,flags:r,flagCount:r.length},{agentId:t,roundId:n,severity:r.length>2?"critical":"warning",tags:["hallucination"]})}var gbr={weights:{pnlPercent:.25,sharpeRatio:.2,coherence:.2,hallucinationRate:.15,disciplineRate:.1,calibration:.1},eloK:32,minTradesForRanking:3},R1t={...gbr},j9=new Map,ybr=1500;function I1t(t){return j9.has(t)||j9.set(t,ybr),j9.get(t)}function bbr(t,e,r,n){let i=I1t(t),o=I1t(e),s=1/(1+Math.pow(10,(o-i)/400)),a=1/(1+Math.pow(10,(i-o)/400)),c,l;Math.abs(r-n)<.01?(c=.5,l=.5):r>n?(c=1,l=0):(c=0,l=1);let u=Math.round(i+R1t.eloK*(c-s)),d=Math.round(o+R1t.eloK*(l-a));return j9.set(t,u),j9.set(e,d),{newEloA:u,newEloB:d}}function C1t(t){for(let e=0;e<t.length;e++)for(let r=e+1;r<t.length;r++)bbr(t[e].agentId,t[r].agentId,t[e].compositeScore,t[r].compositeScore)}var N1t=new Map;var vbr=500;function P1t(t){let e=N1t.get(t.agentId)??[];e.push(t),e.length>vbr&&e.shift(),N1t.set(t.agentId,e)}import{createHash as _br}from"crypto";var Sbr=new Map,e_e=[],t_e=[],xbr={pnlPercent:.08,sharpeRatio:.05,maxDrawdown:.05,coherence:.07,reasoningDepth:.05,sourceQuality:.04,logicalConsistency:.04,reasoningIntegrity:.04,reasoningTransparency:.04,reasoningGrounding:.04,causalReasoning:.05,epistemicHumility:.05,hallucinationRate:.05,instructionDiscipline:.04,riskAwareness:.03,strategyConsistency:.03,adaptability:.02,confidenceCalibration:.03,crossRoundLearning:.02,outcomeAccuracy:.03,marketRegimeAwareness:.02,edgeConsistency:.02,tradeAccountability:.02,reasoningQualityIndex:.02,decisionAccountability:.03,consensusQuality:.04};function wbr(t){return t>=85?"S":t>=70?"A":t>=55?"B":t>=40?"C":"D"}function Abr(t){return t>=95?"A+":t>=85?"A":t>=75?"B+":t>=65?"B":t>=55?"C+":t>=45?"C":t>=30?"D":"F"}function Ebr(t,e,r){let n=0,i=100,o=t.match(/\$[\d,.]+|[\d.]+%|\d+\.\d{2,}/g)??[];n+=Math.min(20,o.length*4);let s=t.match(/\$(\d+(?:,\d{3})*(?:\.\d+)?)/g)??[],a=0;for(let y of s){let v=parseFloat(y.replace(/[$,]/g,""));Object.values(r).some(w=>Math.abs(v-w)/w<.5)&&a++}s.length>0?n+=Math.round(a/s.length*25):n+=5;let c=t.match(/\d+|percent|ratio|increase|decrease|higher|lower|above|below/gi)??[],l=t.match(/\bfeel|think|believe|seems?|maybe|perhaps|possibly|probably\b/gi)??[],u=c.length/Math.max(1,c.length+l.length);n+=Math.round(u*20);let d=/\b(today|24h|this week|current|recent|now|latest|real-?time)\b/gi,p=t.match(d)??[];n+=Math.min(15,p.length*3);let h=(t.match(/\b[A-Z]{2,5}x?\b/g)??[]).filter(y=>!["THE","AND","FOR","BUT","NOT","MAY","CAN","HAS","ITS","ALL","LOW","BUY","SELL","HOLD","RISK","RSI","ETF"].includes(y));n+=Math.min(10,h.length*2);let m=/(?:support|resistance|target|stop.?loss|entry|exit)\s+(?:at|of|near)\s+\$?[\d,.]+/gi,g=t.match(m)??[];return n+=Math.min(10,g.length*5),Math.round(Math.min(i,n))}function Tbr(t,e,r,n){let i=50;if(r.length===0)return 50;let o=r.filter(d=>d.action===e).length,s=r.length,a=o/s;a<.5&&(n>=.7?i+=25:n>=.5?i+=10:i-=15),a===1&&t.split(/\s+/).length<30&&(i-=15);let c=/(?:however|unlike|my analysis|I disagree|independently|my own|contrary to|different from)/gi,l=t.match(c)??[];return i+=Math.min(20,l.length*7),/(?:noticed|discovered|spotted|found|identified|overlooked)/gi.test(t)&&(i+=10),Math.max(0,Math.min(100,Math.round(i)))}function Rbr(t,e){let r=0,n=100,i=/(?:step|first|second|third|next|then|finally|1\.|2\.|3\.)/gi,o=t.match(i)??[];r+=Math.min(25,o.length*5),r+=Math.min(20,e.length*5);let s=/(?:however|although|risk|uncertain|could|might|if|unless|caveat|downside)/gi,a=t.match(s)??[];r+=Math.min(15,a.length*3);let c=/(?:because|therefore|thus|hence|as a result|since|due to|leads to|implies|suggests)/gi,l=t.match(c)??[];r+=Math.min(20,l.length*4);let u=/(?:\$[\d,.]+|[\d.]+%|\d+\.\d+|increase|decrease)\b/gi,d=t.match(u)??[];return r+=Math.min(20,d.length*3),Math.round(Math.min(n,r))}function Ibr(t,e,r){let n=0,i=100;if(e){let l=e.length;n+=Math.min(15,Math.floor(l/10)),/\$[\d,.]+|[\d.]+%/.test(e)&&(n+=15)}let o=/(?:previously|last time|in the past|earlier|my prior|I was wrong|I was right|learned|adjusted)/gi,s=t.match(o)??[];n+=Math.min(25,s.length*8);let a=/(?:mistake|wrong|incorrect|overestimated|underestimated|failed|missed|should have|lesson)/gi,c=t.match(a)??[];if(n+=Math.min(25,c.length*8),r.length>0){let l=r.filter(u=>u.actual!==null);if(l.length>0){let u=l.filter(d=>{if(!d.actual)return!1;let p=/increase|rise|up|bull|gain|higher/i.test(d.predicted),f=/decrease|fall|down|bear|loss|lower/i.test(d.predicted),h=/increase|rise|up|bull|gain|higher|profit/i.test(d.actual),m=/decrease|fall|down|bear|loss|lower/i.test(d.actual);return p&&h||f&&m}).length/l.length;n+=Math.round(u*20)}}return Math.min(i,n)}function Cbr(t,e){let r=0,n=100,i=/\b(?:first|second|third|fourth|fifth|then|next|finally|subsequently|furthermore|moreover|additionally|step\s*\d|1\.|2\.|3\.|4\.|5\.)\b/gi,o=t.match(i)??[],s=new Set(o.map(k=>k.toLowerCase().trim())),a=Math.min(25,s.size*5);r+=a;let c=/\b(?:because|therefore|thus|hence|consequently|as a result|it follows that|this means|this implies|this suggests|which leads to|for this reason|since|due to|owing to|given that)\b/gi,l=t.match(c)??[],u=Math.min(25,l.length*5);r+=u;let d=/\b(?:if\s+.{5,}?\s+then|should\s+.{5,}?\s+would|in case|assuming|provided that|unless|were .+ to|in the event|scenario where)\b/gi,p=t.match(d)??[],f=Math.min(20,p.length*7);r+=f;let h=0,m=/\b(?:so I (?:buy|sell|hold)|therefore I (?:recommend|suggest|choose)|this (?:indicates|signals|confirms) .{3,}? (?:buy|sell|hold|long|short)|data (?:shows|suggests|indicates) .{3,}? (?:position|trade|action)|combined with .{3,}? (?:suggests|indicates|means)|based on .{3,}? I (?:will|would|decide|recommend))\b/gi,g=t.match(m)??[];h+=Math.min(10,g.length*5);let y=/(?:\d+(?:\.\d+)?%|change of [+-]?\d|\$[\d,.]+).{5,}?(?:so|therefore|thus|hence|which means|suggesting|indicating)/gi,v=t.match(y)??[];h+=Math.min(10,v.length*5),r+=Math.min(15,h);let S=0,w=/\b(?:combining|together with|in addition to|alongside|coupled with|both .{3,}? and|multiple (?:factors|indicators|signals)|factoring in|taking into account|weighing)\b/gi,E=t.match(w)??[];S+=Math.min(10,E.length*5);let D=[/\bprice\s*action\b/i,/\bvolume\b/i,/\bmomentum\b/i,/\bsector\b/i,/\bsentiment\b/i,/\bfundamental/i,/\btechnical/i,/\bmacro/i,/\bvolatility\b/i,/\bliquidity\b/i,/\bearnings\b/i,/\bRSI\b/i,/\bMACD\b/i,/\bsupply\b/i,/\bdemand\b/i,/\bcorrelation\b/i,/\brotation\b/i,/\bon-?chain\b/i].filter(k=>k.test(t)).length;return D>=3&&(S+=Math.min(5,(D-2)*2)),e.length>=2&&l.length>=2&&(S+=3),r+=Math.min(15,S),Math.round(Math.min(n,r))}function Nbr(t,e){let r=0,n=100,i=[t??"",e].join(" "),o=0,s=i.match(/[+-]?\d+(?:\.\d+)?%/g)??[];o+=Math.min(10,s.length*3);let a=i.match(/\$\d+(?:,\d{3})*(?:\.\d+)?/g)??[];o+=Math.min(10,a.length*3);let l=(i.match(/\b[A-Z]{2,5}\b/g)??[]).filter(R=>!["THE","AND","FOR","BUT","NOT","MAY","CAN","HAS","ITS","ALL","LOW","BUY","SELL","HOLD","RISK","RSI","ETF","USD","SOL","BTC","ETH","NEW","ARE","WAS","HIS","HER","OUR","WHO","HOW","ANY","GET","SET","PUT","RUN","TOP","END"].includes(R));o+=Math.min(10,l.length*3);let u=/\b(?:go up|go down|do well|do poorly|be good|be bad|things will|stuff will|probably fine|maybe good)\b/gi,d=i.match(u)??[];d.length>0&&(o-=Math.min(10,d.length*3)),r+=Math.max(0,Math.min(30,o));let p=0,f=/(?:\b\w+\s+(?:will|should|to)\s+(?:reach|hit|touch|break|test|cross)\s+\$?[\d,.]+|\b[+-]?\d+(?:\.\d+)?%\s+(?:within|by|in|over|before|after))/gi,h=i.match(f)??[];p+=Math.min(15,h.length*5),t&&/\d/.test(t)?p+=10:t&&t.length>20&&(p+=5);let m=/\b(?:expect|predict|forecast|target|project|anticipate)\s+.{3,}?\d/gi,g=i.match(m)??[];p+=Math.min(5,g.length*3),r+=Math.min(25,p);let y=0,v=/\b(?:within\s+\d+\s*(?:hours?|h|days?|d|weeks?|minutes?|min)|by\s+(?:end of|close of|tomorrow|next week|EOD|EOW)|in the next\s+\d+\s*(?:hours?|days?|weeks?)|over\s+\d+\s*(?:hours?|days?)|next\s+\d+\s*(?:hours?|days?)|\d+h\b|\d+d\b)\b/gi,S=i.match(v)??[];y+=Math.min(15,S.length*5);let w=/\b(?:short-?term|near-?term|medium-?term|this session|today|tonight|this week|this month|intraday)\b/gi,E=i.match(w)??[];S.length===0?y+=Math.min(5,E.length*2):y+=Math.min(3,E.length*1);let I=/\b(?:eventually|someday|at some point|in the long run|sooner or later|when the time is right)\b/gi;(i.match(I)??[]).length>0&&S.length===0&&(y-=5),r+=Math.max(0,Math.min(20,y));let k=0,P=/(?:\d+(?:\.\d+)?%?\s*(?:to|-)\s*\d+(?:\.\d+)?%?|\d+(?:\.\d+)?%\s+(?:upside|downside|gain|loss)|target\s+(?:of\s+)?\$?[\d,.]+|price\s+(?:target|level|range)\s+(?:of\s+)?\$?[\d,.]+)/gi,$=i.match(P)??[];k+=Math.min(10,$.length*4);let H=/(?:support|resistance|entry|exit|stop.?loss|take.?profit)\s+(?:at|near|around)\s+\$?[\d,.]+/gi,W=i.match(H)??[];k+=Math.min(5,W.length*3),r+=Math.min(15,k);let N=0,_=/\b(?:unless|if .{5,}? fails|invalidated (?:if|by|when)|risk(?:s)? (?:include|are|being)|could be wrong if|this breaks down if|contingent on|assuming|provided that|barring)\b/gi,x=i.match(_)??[];return N+=Math.min(10,x.length*4),r+=N,Math.round(Math.min(n,Math.max(0,r)))}function k1t(t){let e=`v33_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,r=t.reasoning.split(/\s+/).length,n=t.reasoning.split(/[.;!?]/).filter(E=>E.trim().length>0).length,i=Math.min(100,Math.round(Math.min(50,r/2)+Math.min(50,n*8))),o=Math.min(100,t.sources.length*15+10),s=/bullish|upside|buy|undervalued/i.test(t.reasoning),a=/bearish|downside|sell|overvalued/i.test(t.reasoning),l=s&&a&&t.action!=="hold"?35:85,u=Rbr(t.reasoning,t.sources),d=Ibr(t.reasoning,t.predictedOutcome,t.previousPredictions),p=Ebr(t.reasoning,t.sources,t.marketPrices),f=Tbr(t.reasoning,t.action,t.peerActions,t.coherenceScore),h=Cbr(t.reasoning,t.sources),m=Nbr(t.predictedOutcome,t.reasoning),g=_br("sha256").update(`v33:${t.agentId}:${t.action}:${t.symbol}:${t.reasoning}:${t.confidence}`).digest("hex").slice(0,16),y=[t.coherenceScore*100,(1-Math.min(1,t.hallucinationFlags.length*.25))*100,t.disciplinePassed?90:30,i,o,l,u,d,p,f,h,m],v=y.reduce((E,I)=>E+I,0)/y.length,S=Abr(v),w={tradeId:e,agentId:t.agentId,symbol:t.symbol,action:t.action,reasoning:t.reasoning,confidence:t.confidence,intent:t.intent,sources:t.sources,coherenceScore:t.coherenceScore,hallucinationFlags:t.hallucinationFlags,disciplinePassed:t.disciplinePassed,reasoningDepthScore:i,sourceQualityScore:o,logicalConsistencyScore:l,transparencyScore:u,accountabilityScore:d,groundingScore:p,consensusQualityScore:f,causalReasoningScore:h,epistemicHumilityScore:m,integrityHash:g,predictedOutcome:t.predictedOutcome,actualOutcome:null,outcomeResolved:"pending",overallGrade:S,gradedAt:new Date().toISOString()};return e_e.unshift(w),e_e.length>2e3&&(e_e.length=2e3),w}function D1t(t){let e=t.trades;if(e.length===0){let A={pnlPercent:50,sharpeRatio:50,maxDrawdown:50,coherence:50,reasoningDepth:50,sourceQuality:50,logicalConsistency:50,reasoningIntegrity:50,reasoningTransparency:50,reasoningGrounding:50,causalReasoning:50,epistemicHumility:50,hallucinationRate:50,instructionDiscipline:50,riskAwareness:50,strategyConsistency:50,adaptability:50,confidenceCalibration:50,crossRoundLearning:50,outcomeAccuracy:50,marketRegimeAwareness:50,edgeConsistency:50,tradeAccountability:50,reasoningQualityIndex:50,decisionAccountability:50,consensusQuality:50};return{agentId:t.agentId,agentName:t.agentName,provider:t.provider,model:t.model,dimensions:A,compositeScore:50,tier:"C",tradeCount:0,roundsPlayed:0,lastUpdated:new Date().toISOString()}}let r=A=>A.reduce((X,Re)=>X+Re,0)/A.length,n=Math.max(0,Math.min(100,50+t.pnlPercent*2)),i=Math.max(0,Math.min(100,50+t.sharpeRatio*20)),o=Math.max(0,Math.min(100,100-Math.abs(t.maxDrawdown)*2)),s=r(e.map(A=>A.coherenceScore*100)),a=r(e.map(A=>A.reasoningDepthScore)),c=r(e.map(A=>A.sourceQualityScore)),l=r(e.map(A=>A.logicalConsistencyScore)),u=e.map(()=>80+Math.random()*15),d=r(u),p=r(e.map(A=>A.transparencyScore)),f=r(e.map(A=>A.groundingScore)),h=r(e.map(A=>A.causalReasoningScore)),m=r(e.map(A=>A.epistemicHumilityScore)),g=r(e.map(A=>A.hallucinationFlags.length===0?100:Math.max(0,100-A.hallucinationFlags.length*25))),y=r(e.map(A=>A.disciplinePassed?90:30)),v=r(e.map(A=>/risk|drawdown|stop.?loss|hedge|protect|caution/i.test(A.reasoning)?80:45)),S=e.map(A=>A.action),w=new Set(S),E=w.size===1?90:w.size===2?70:50,I=e.map(A=>A.confidence),D=Math.sqrt(I.reduce((A,X)=>A+Math.pow(X-r(I),2),0)/I.length),k=Math.max(0,Math.min(100,50+D*200)),P=r(I.map(A=>Math.max(0,100-Math.abs(A-.6)*200))),$=Math.min(100,40+e.length*5),H=e.filter(A=>A.outcomeResolved!=="pending"),W=H.length>0?r(H.map(A=>A.outcomeResolved==="correct"?100:A.outcomeResolved==="partial"?60:20)):50,N=r(e.map(A=>/regime|volatile|bull\s*market|bear\s*market|sideways|trending/i.test(A.reasoning)?80:45)),_=e.length>=3?Math.min(100,40+e.filter(A=>A.coherenceScore>.6).length/e.length*60):50,x=r(e.map(A=>A.accountabilityScore)),R=r([s,a,c,l,p,f,h,m])/100*100,L=r(e.map(A=>A.accountabilityScore)),U=r(e.map(A=>A.consensusQualityScore)),j={pnlPercent:Math.round(n*100)/100,sharpeRatio:Math.round(i*100)/100,maxDrawdown:Math.round(o*100)/100,coherence:Math.round(s*100)/100,reasoningDepth:Math.round(a*100)/100,sourceQuality:Math.round(c*100)/100,logicalConsistency:Math.round(l*100)/100,reasoningIntegrity:Math.round(d*100)/100,reasoningTransparency:Math.round(p*100)/100,reasoningGrounding:Math.round(f*100)/100,causalReasoning:Math.round(h*100)/100,epistemicHumility:Math.round(m*100)/100,hallucinationRate:Math.round(g*100)/100,instructionDiscipline:Math.round(y*100)/100,riskAwareness:Math.round(v*100)/100,strategyConsistency:Math.round(E*100)/100,adaptability:Math.round(k*100)/100,confidenceCalibration:Math.round(P*100)/100,crossRoundLearning:Math.round($*100)/100,outcomeAccuracy:Math.round(W*100)/100,marketRegimeAwareness:Math.round(N*100)/100,edgeConsistency:Math.round(_*100)/100,tradeAccountability:Math.round(x*100)/100,reasoningQualityIndex:Math.round(R*100)/100,decisionAccountability:Math.round(L*100)/100,consensusQuality:Math.round(U*100)/100},Q=0;for(let[A,X]of Object.entries(xbr))Q+=(j[A]??50)*X;Q=Math.round(Q*100)/100;let G={agentId:t.agentId,agentName:t.agentName,provider:t.provider,model:t.model,dimensions:j,compositeScore:Q,tier:wbr(Q),tradeCount:e.length,roundsPlayed:new Set(e.map(A=>A.tradeId.split("_")[1])).size,lastUpdated:new Date().toISOString()};return Sbr.set(t.agentId,G),G}function M1t(t,e,r,n){let i=[...r].sort((l,u)=>{let d=["A+","A","B+","B","C+","C","D","F"];return d.indexOf(l.overallGrade)-d.indexOf(u.overallGrade)}),o=r.map(l=>l.action),s=o.sort((l,u)=>o.filter(d=>d===l).length-o.filter(d=>d===u).length).pop()??"hold",a=o.filter(l=>l===s).length/Math.max(1,o.length),c={roundId:t,timestamp:new Date().toISOString(),agentScores:e,bestTrade:i[0]??null,worstTrade:i[i.length-1]??null,consensusAgreement:Math.round(a*100)/100,marketRegime:n,avgTransparency:r.length>0?Math.round(r.reduce((l,u)=>l+u.transparencyScore,0)/r.length*100)/100:50,avgAccountability:r.length>0?Math.round(r.reduce((l,u)=>l+u.accountabilityScore,0)/r.length*100)/100:50,avgGrounding:r.length>0?Math.round(r.reduce((l,u)=>l+u.groundingScore,0)/r.length*100)/100:50,avgConsensusQuality:r.length>0?Math.round(r.reduce((l,u)=>l+u.consensusQualityScore,0)/r.length*100)/100:50,avgCausalReasoning:r.length>0?Math.round(r.reduce((l,u)=>l+u.causalReasoningScore,0)/r.length*100)/100:50,avgEpistemicHumility:r.length>0?Math.round(r.reduce((l,u)=>l+u.epistemicHumilityScore,0)/r.length*100)/100:50};return t_e.unshift(c),t_e.length>200&&(t_e.length=200),c}import{createHash as Obr}from"crypto";function Gg(t,e,r){let n=0,i=100,o=t.match(/\$[\d,.]+|[\d.]+%|\d+\.\d{2,}/g)??[];n+=Math.min(20,o.length*4);let s=t.match(/\$(\d+(?:,\d{3})*(?:\.\d+)?)/g)??[],a=0;for(let y of s){let v=parseFloat(y.replace(/[$,]/g,""));Object.values(r).some(w=>Math.abs(v-w)/w<.5)&&a++}s.length>0?n+=Math.round(a/s.length*25):n+=5;let c=t.match(/\d+|percent|ratio|increase|decrease|higher|lower|above|below/gi)??[],l=t.match(/\bfeel|think|believe|seems?|maybe|perhaps|possibly|probably\b/gi)??[],u=c.length/Math.max(1,c.length+l.length);n+=Math.round(u*20);let d=/\b(today|24h|this week|current|recent|now|latest|real-?time)\b/gi,p=t.match(d)??[];n+=Math.min(15,p.length*3);let h=(t.match(/\b[A-Z]{2,5}x?\b/g)??[]).filter(y=>!["THE","AND","FOR","BUT","NOT","MAY","CAN","HAS","ITS","ALL","LOW","BUY","SELL","HOLD","RISK","RSI","ETF"].includes(y));n+=Math.min(10,h.length*2);let m=/(?:support|resistance|target|stop.?loss|entry|exit)\s+(?:at|of|near)\s+\$?[\d,.]+/gi,g=t.match(m)??[];return n+=Math.min(10,g.length*5),Math.round(Math.min(i,n))}function jg(t,e,r,n){let i=50;if(r.length===0)return 50;let o=r.filter(d=>d.action===e).length,s=r.length,a=o/s;a<.5&&(n>=.7?i+=25:n>=.5?i+=10:i-=15),a===1&&t.split(/\s+/).length<30&&(i-=15);let c=/(?:however|unlike|my analysis|I disagree|independently|my own|contrary to|different from)/gi,l=t.match(c)??[];return i+=Math.min(20,l.length*7),/(?:noticed|discovered|spotted|found|identified|overlooked)/gi.test(t)&&(i+=10),Math.max(0,Math.min(100,Math.round(i)))}function qg(t,e){let r=0,n=100,i=/(?:step|first|second|third|next|then|finally|1\.|2\.|3\.)/gi,o=t.match(i)??[];r+=Math.min(25,o.length*5),r+=Math.min(20,e.length*5);let s=/(?:however|although|risk|uncertain|could|might|if|unless|caveat|downside)/gi,a=t.match(s)??[];r+=Math.min(15,a.length*3);let c=/(?:because|therefore|thus|hence|as a result|since|due to|leads to|implies|suggests)/gi,l=t.match(c)??[];r+=Math.min(20,l.length*4);let u=/(?:\$[\d,.]+|[\d.]+%|\d+\.\d+|increase|decrease)\b/gi,d=t.match(u)??[];return r+=Math.min(20,d.length*3),Math.round(Math.min(n,r))}function Wg(t,e,r){let n=0,i=100;if(e){let l=e.length;n+=Math.min(15,Math.floor(l/10)),/\$[\d,.]+|[\d.]+%/.test(e)&&(n+=15)}let o=/(?:previously|last time|in the past|earlier|my prior|I was wrong|I was right|learned|adjusted)/gi,s=t.match(o)??[];n+=Math.min(25,s.length*8);let a=/(?:mistake|wrong|incorrect|overestimated|underestimated|failed|missed|should have|lesson)/gi,c=t.match(a)??[];if(n+=Math.min(25,c.length*8),r.length>0){let l=r.filter(u=>u.actual!==null);if(l.length>0){let u=l.filter(d=>{if(!d.actual)return!1;let p=/increase|rise|up|bull|gain|higher/i.test(d.predicted),f=/decrease|fall|down|bear|loss|lower/i.test(d.predicted),h=/increase|rise|up|bull|gain|higher|profit/i.test(d.actual),m=/decrease|fall|down|bear|loss|lower/i.test(d.actual);return p&&h||f&&m}).length/l.length;n+=Math.round(u*20)}}return Math.min(i,n)}function Jg(t,e){let r=0,n=100,i=/\b(?:first|second|third|fourth|fifth|then|next|finally|subsequently|furthermore|moreover|additionally|step\s*\d|1\.|2\.|3\.|4\.|5\.)\b/gi,o=t.match(i)??[],s=new Set(o.map(E=>E.toLowerCase().trim()));r+=Math.min(25,s.size*5);let a=/\b(?:because|therefore|thus|hence|consequently|as a result|it follows that|this means|this implies|this suggests|which leads to|for this reason|since|due to|owing to|given that)\b/gi,c=t.match(a)??[];r+=Math.min(25,c.length*5);let l=/\b(?:if\s+.{5,}?\s+then|should\s+.{5,}?\s+would|in case|assuming|provided that|unless|were .+ to|in the event|scenario where)\b/gi,u=t.match(l)??[];r+=Math.min(20,u.length*7);let d=0,p=/\b(?:so I (?:buy|sell|hold)|therefore I (?:recommend|suggest|choose)|this (?:indicates|signals|confirms) .{3,}? (?:buy|sell|hold|long|short)|data (?:shows|suggests|indicates) .{3,}? (?:position|trade|action)|combined with .{3,}? (?:suggests|indicates|means)|based on .{3,}? I (?:will|would|decide|recommend))\b/gi,f=t.match(p)??[];d+=Math.min(10,f.length*5);let h=/(?:\d+(?:\.\d+)?%|change of [+-]?\d|\$[\d,.]+).{5,}?(?:so|therefore|thus|hence|which means|suggesting|indicating)/gi,m=t.match(h)??[];d+=Math.min(10,m.length*5),r+=Math.min(15,d);let g=0,y=/\b(?:combining|together with|in addition to|alongside|coupled with|both .{3,}? and|multiple (?:factors|indicators|signals)|factoring in|taking into account|weighing)\b/gi,v=t.match(y)??[];g+=Math.min(10,v.length*5);let w=[/\bprice\s*action\b/i,/\bvolume\b/i,/\bmomentum\b/i,/\bsector\b/i,/\bsentiment\b/i,/\bfundamental/i,/\btechnical/i,/\bmacro/i,/\bvolatility\b/i,/\bliquidity\b/i,/\bearnings\b/i,/\bRSI\b/i,/\bMACD\b/i,/\bsupply\b/i,/\bdemand\b/i,/\bcorrelation\b/i,/\brotation\b/i,/\bon-?chain\b/i].filter(E=>E.test(t)).length;return w>=3&&(g+=Math.min(5,(w-2)*2)),e.length>=2&&c.length>=2&&(g+=3),r+=Math.min(15,g),Math.round(Math.min(n,r))}function Kg(t,e){let r=0,n=100,i=[t??"",e].join(" "),o=0,s=i.match(/[+-]?\d+(?:\.\d+)?%/g)??[];o+=Math.min(10,s.length*3);let a=i.match(/\$\d+(?:,\d{3})*(?:\.\d+)?/g)??[];o+=Math.min(10,a.length*3);let l=(i.match(/\b[A-Z]{2,5}\b/g)??[]).filter(x=>!["THE","AND","FOR","BUT","NOT","MAY","CAN","HAS","ITS","ALL","LOW","BUY","SELL","HOLD","RISK","RSI","ETF","USD","SOL","BTC","ETH","NEW","ARE","WAS","HIS","HER","OUR","WHO","HOW","ANY","GET","SET","PUT","RUN","TOP","END"].includes(x));o+=Math.min(10,l.length*3);let u=/\b(?:go up|go down|do well|do poorly|be good|be bad|things will|stuff will|probably fine|maybe good)\b/gi,d=i.match(u)??[];d.length>0&&(o-=Math.min(10,d.length*3)),r+=Math.max(0,Math.min(30,o));let p=0,f=/(?:\b\w+\s+(?:will|should|to)\s+(?:reach|hit|touch|break|test|cross)\s+\$?[\d,.]+|\b[+-]?\d+(?:\.\d+)?%\s+(?:within|by|in|over|before|after))/gi,h=i.match(f)??[];p+=Math.min(15,h.length*5),t&&/\d/.test(t)?p+=10:t&&t.length>20&&(p+=5);let m=/\b(?:expect|predict|forecast|target|project|anticipate)\s+.{3,}?\d/gi,g=i.match(m)??[];p+=Math.min(5,g.length*3),r+=Math.min(25,p);let y=0,v=/\b(?:within\s+\d+\s*(?:hours?|h|days?|d|weeks?|minutes?|min)|by\s+(?:end of|close of|tomorrow|next week|EOD|EOW)|in the next\s+\d+\s*(?:hours?|days?|weeks?)|over\s+\d+\s*(?:hours?|days?)|\d+h\b|\d+d\b)\b/gi,S=i.match(v)??[];y+=Math.min(15,S.length*5);let w=/\b(?:short-?term|near-?term|medium-?term|this session|today|tonight|this week|this month|intraday)\b/gi,E=i.match(w)??[];S.length===0?y+=Math.min(5,E.length*2):y+=Math.min(3,E.length*1);let I=/\b(?:eventually|someday|at some point|in the long run|sooner or later)\b/gi;(i.match(I)??[]).length>0&&S.length===0&&(y-=5),r+=Math.max(0,Math.min(20,y));let k=0,P=/(?:\d+(?:\.\d+)?%?\s*(?:to|-)\s*\d+(?:\.\d+)?%?|\d+(?:\.\d+)?%\s+(?:upside|downside|gain|loss)|target\s+(?:of\s+)?\$?[\d,.]+|price\s+(?:target|level|range)\s+(?:of\s+)?\$?[\d,.]+)/gi,$=i.match(P)??[];k+=Math.min(10,$.length*4);let H=/(?:support|resistance|entry|exit|stop.?loss|take.?profit)\s+(?:at|near|around)\s+\$?[\d,.]+/gi,W=i.match(H)??[];k+=Math.min(5,W.length*3),r+=Math.min(15,k);let N=/\b(?:unless|if .{5,}? fails|invalidated (?:if|by|when)|risk(?:s)? (?:include|are|being)|could be wrong if|this breaks down if|contingent on|assuming|provided that|barring)\b/gi,_=i.match(N)??[];return r+=Math.min(10,_.length*4),Math.round(Math.min(n,Math.max(0,r)))}function Qg(t,e,r){let n=0,i=100,o=t.split(/[.!?]+/).filter(N=>N.trim().length>10),s=0,a=/\b(?:according to|based on|per|from|via|as (?:shown|indicated|reported) (?:by|in)|the (?:data|prices?|volume|chart|indicator) (?:shows?|indicates?|suggests?|reveals?)|(?:jupiter|market|price|portfolio|technical|news|sector) (?:data|feed|analysis|report))\b/gi,c=t.match(a)??[];s+=Math.min(15,c.length*4);let l=/\b(?:I (?:checked|reviewed|analyzed|examined|looked at|consulted|researched)|(?:looking|checking|examining|reviewing) (?:at|the)|after (?:analyzing|reviewing|checking))\b/gi,u=t.match(l)??[];s+=Math.min(10,u.length*4);let d=/\b(?:get_prices|search_news|get_portfolio|get_stock_info|price feed|news search|tool|API)\b/gi,p=t.match(d)??[];s+=Math.min(5,p.length*3),n+=Math.min(30,s);let f=0,h=new Set;/price|quotes?|ticker/i.test(t)&&h.add("price_data"),/volume|traded|liquidity/i.test(t)&&h.add("volume_data"),/news|headline|report|announcement/i.test(t)&&h.add("news"),/technical|RSI|MACD|moving average|indicator/i.test(t)&&h.add("technical"),/fundamental|earnings|revenue|P\/E|EPS/i.test(t)&&h.add("fundamentals"),/portfolio|position|holding|balance|cash/i.test(t)&&h.add("portfolio"),/sector|industry|peer|competitor/i.test(t)&&h.add("sector"),/sentiment|mood|fear|greed/i.test(t)&&h.add("sentiment"),/on-?chain|blockchain|solana|transaction/i.test(t)&&h.add("on_chain"),f+=Math.min(15,h.size*3);let m=o.length,g=m>0?c.length/m:0;g>=.3?f+=5:g>=.15&&(f+=3),n+=Math.min(20,f);let y=0,v=/\b(?:will definitely|is certain to|guaranteed|no doubt|clearly will|must (?:rise|fall|drop|increase)|always|never|impossible)\b/gi,S=t.match(v)??[];for(let N of S){let _=t.toLowerCase().indexOf(N.toLowerCase());if(_===-1)continue;let x=t.slice(Math.max(0,_-100),_+N.length+100);/\$[\d,.]+|[\d.]+%|data|price|volume|according|based on/i.test(x)||(y+=4)}let w=0;for(let N of o){let _=/\b(?:will|should|expect|likely|probably|certainly|going to)\b/i.test(N),x=/\$[\d,.]+|[\d.]+%|\d+\.\d{2}|data|price|volume|according|based on|per|from/i.test(N);_&&!x&&w++}y+=Math.min(10,w*2),n+=Math.max(0,20-y);let E=0,I=/\b(?:first|second|third|1\.|2\.|3\.|step\s*\d|then|next|finally)\b/gi;if((t.match(I)??[]).length>=2){let N=[...t.matchAll(/(?:first|second|third|1\.|2\.|3\.|step\s*\d|then|next|finally)/gi)],_=0;for(let R=0;R<N.length;R++){let L=N[R].index??0,U=R+1<N.length?N[R+1].index??t.length:t.length,j=t.slice(L,U);/\$[\d,.]+|[\d.]+%|\d+\.\d{2}|data|price|volume|source|based on|per|from|according/i.test(j)&&_++}let x=N.length>0?_/N.length:0;E+=Math.round(x*15)}else{let N=/\$[\d,.]+|[\d.]+%/i.test(t);E+=N?5:0}n+=Math.min(15,E);let k=0,P=/(?:\$[\d,.]+|[\d.]+%|\d+\.\d{2}).{0,40}?(?:from|per|according|based|data|feed|source|tool|API|jupiter|market)/gi,$=t.match(P)??[];k+=Math.min(10,$.length*4);let H=/(?:data|feed|source|tool|API|jupiter|market|prices?).{0,40}?(?:\$[\d,.]+|[\d.]+%|\d+\.\d{2})/gi,W=t.match(H)??[];return k+=Math.min(5,W.length*3),n+=Math.min(15,k),Math.round(Math.min(i,Math.max(0,n)))}function Xg(t,e,r,n){let i=0,o=100,s=0,a=/\b(?:despite|although|however|nevertheless|on the other hand|counter to|against this|the bear case|the bull case|risk (?:is|of|includes?)|downside (?:is|risk|includes?)|the case against|counterargument|critics might|bears (?:argue|point|note)|bulls (?:argue|point|note)|one concern|a risk here)\b/gi,c=t.match(a)??[];s+=Math.min(15,c.length*5);let l=/\b(?:while (?:it's|this|the)|even though|granted that|admittedly|I acknowledge|it's true that|fair point|valid concern|some would argue)\b/gi,u=t.match(l)??[];s+=Math.min(10,u.length*5),i+=Math.min(25,s);let d=0,p=/\b(?:bullish|positive|upside|growth|strong|rally|support|undervalued|oversold)\b/i.test(t),f=/\b(?:bearish|negative|downside|decline|weak|selloff|resistance|overvalued|overbought)\b/i.test(t);if(p&&f){d+=15;let $=/\b(?:outweighs?|more (?:important|significant|concerning)|on balance|net (?:positive|negative)|overall|weighing|balancing|compared to)\b/gi,H=t.match($)??[];d+=Math.min(10,H.length*5)}else e==="buy"&&f||e==="sell"&&p?d+=10:d+=5;i+=Math.min(25,d);let h=0,m=/\b(?:risk.{1,5}reward|upside.{1,10}downside|reward.{1,5}risk|potential gain.{1,10}potential loss|risk.{1,5}adjusted|worth the risk|risk (?:is|of) .{3,30} but|asymmetric)\b/gi,g=t.match(m)??[];h+=Math.min(10,g.length*5);let y=/\b(?:stop.?loss|position size|diversif|hedge|protect|limit (?:exposure|risk|downside)|small position|partial|scale in|scale out)\b/gi,v=t.match(y)??[];h+=Math.min(10,v.length*4),i+=Math.min(20,h);let S=0;if((r>1?r/100:r)>=.7){let $=/\b(?:my conviction|I'm confident because|the reason I'm (?:bullish|bearish)|strong evidence|multiple signals|confluence|my thesis|this conviction|I believe strongly|compelling|clear signal)\b/gi,H=t.match($)??[];H.length>0?S+=Math.min(10,H.length*5):S-=5,c.length>0&&(S+=5)}else S+=5;i+=Math.max(0,Math.min(15,S));let E=0,I=/\b(?:if (?:I'm|this is|we're) wrong|alternative scenario|worst case|best case|base case|downside scenario|if .{3,20} fails|plan B|exit strategy|invalidation|fallback|contingency)\b/gi,D=t.match(I)??[];E+=Math.min(10,D.length*5);let k=/\b(?:I would reconsider if|I'd change my view|would invalidate|would cause me to|I'd exit if|reassess if|watch for)\b/gi,P=t.match(k)??[];return E+=Math.min(5,P.length*3),i+=Math.min(15,E),Math.round(Math.min(o,Math.max(0,i)))}var Pbr=new Map,r_e=[],n_e=[],kbr={pnlPercent:.06,sharpeRatio:.05,maxDrawdown:.04,coherence:.05,reasoningDepth:.04,sourceQuality:.04,logicalConsistency:.03,reasoningIntegrity:.03,reasoningTransparency:.03,reasoningGrounding:.04,causalReasoning:.05,epistemicHumility:.04,reasoningTraceability:.04,adversarialCoherence:.04,informationAsymmetry:.04,temporalReasoningQuality:.04,hallucinationRate:.05,instructionDiscipline:.03,riskAwareness:.03,strategyConsistency:.02,adaptability:.02,confidenceCalibration:.02,crossRoundLearning:.02,outcomeAccuracy:.02,marketRegimeAwareness:.02,edgeConsistency:.02,tradeAccountability:.02,reasoningQualityIndex:.02,decisionAccountability:.03,consensusQuality:.02};function Dbr(t){return t>=85?"S":t>=70?"A":t>=55?"B":t>=40?"C":"D"}function Mbr(t){return t>=95?"A+":t>=85?"A":t>=75?"B+":t>=65?"B":t>=55?"C+":t>=45?"C":t>=30?"D":"F"}function D2(t,e,r){let n=0,i=100,o=0,s=/\b(?:I noticed|what others may have missed|a less obvious signal|uniquely positioned|overlooked factor|hidden pattern|under[- ]the[- ]radar|underappreciated|non[- ]consensus view|contrarian insight)\b/gi,a=t.match(s)??[];if(o+=Math.min(15,a.length*5),r.length>0){let _=t.toLowerCase().split(/\s+/).filter(U=>U.length>6),x=r.join(" ").toLowerCase(),R=_.filter(U=>!x.includes(U)),L=_.length>0?R.length/_.length:0;o+=Math.min(10,Math.round(L*15))}else o+=5;n+=Math.min(25,o);let c=0,l=/\b(?:correlates with|interconnected|cross[- ]sector impact|ripple effect|second[- ]order effect|downstream|upstream|knock[- ]on|spillover|chain reaction)\b/gi,u=t.match(l)??[];c+=Math.min(15,u.length*5);let d=/\b(?:the connection between .{3,30} and|link between .{3,30} and|relationship between .{3,30} and|ties .{3,30} to|connects .{3,30} with|implications for .{3,30} beyond)\b/gi,p=t.match(d)??[];c+=Math.min(10,p.length*5),n+=Math.min(25,c);let f=0,h=[{pattern:/\bon[- ]chain\s+(?:data|metrics?|analysis|activity)/gi,label:"on_chain"},{pattern:/\bsupply[- ]chain\s+(?:signals?|data|disruption|analysis)/gi,label:"supply_chain"},{pattern:/\bgeopolitical\s+(?:factors?|risk|tension|events?|analysis)/gi,label:"geopolitical"},{pattern:/\bpatent\s+(?:filings?|applications?|data|activity)/gi,label:"patent"},{pattern:/\bregulatory\s+(?:filings?|submissions?|documents?|data)/gi,label:"regulatory"},{pattern:/\bearnings\s+(?:transcript|call)\s+(?:analysis|review|data)/gi,label:"earnings_transcript"},{pattern:/\binsider\s+(?:activity|trading|transactions?|buying|selling)/gi,label:"insider"}],m=new Set;for(let{pattern:_,label:x}of h)_.test(t)&&m.add(x);f+=Math.min(14,m.size*4),m.size>=3?f+=6:m.size>=2&&(f+=3),n+=Math.min(20,f);let g=0,y=/\b(?:[A-Z][a-z]+(?:\s+[A-Z][a-z]+)*\s+(?:Inc|Corp|Ltd|Co|Group|Holdings|Technologies|Therapeutics|Pharmaceuticals|Labs?))\b/g,v=t.match(y)??[];g+=Math.min(5,v.length*2);let S=/\b(?:Jan(?:uary)?|Feb(?:ruary)?|Mar(?:ch)?|Apr(?:il)?|May|Jun(?:e)?|Jul(?:y)?|Aug(?:ust)?|Sep(?:tember)?|Oct(?:ober)?|Nov(?:ember)?|Dec(?:ember)?)\s+\d{1,2}(?:,?\s+\d{4})?|\d{1,2}\/\d{1,2}(?:\/\d{2,4})?|\d{4}-\d{2}-\d{2}/gi,w=t.match(S)??[];g+=Math.min(5,w.length*2);let E=/\b(?:announced|released|filed|reported|launched|acquired|merged|partnered|settled|approved|rejected|defaulted)\b/gi,I=t.match(E)??[];g+=Math.min(5,I.length*2);let D=/\b(?:market conditions|macro factors|general sentiment|overall market|broad market|market environment|market dynamics)\b/gi;(t.match(D)??[]).length>2&&I.length===0&&(g-=5),n+=Math.max(0,Math.min(15,g));let P=0,$=/\b(?:before the market realizes|ahead of|early signal|leading indicator|not yet priced in|market hasn't caught up|emerging trend|early innings)\b/gi,H=t.match($)??[];P+=Math.min(10,H.length*4);let W=/\b(?:positioning ahead|front[- ]running the narrative|before (?:consensus|the crowd|mainstream)|anticipating a shift|early mover|asymmetric opportunity|mispriced|market is sleeping on|underestimated catalyst)\b/gi,N=t.match(W)??[];return P+=Math.min(5,N.length*3),n+=Math.min(15,P),Math.round(Math.min(i,Math.max(0,n)))}function M2(t,e){let r=0,n=100,i=[t,e??""].join(" "),o=0,s=/\b(?:within\s+\d+\s*(?:hours?|h|days?|d|weeks?|minutes?|min)|by\s+(?:end of|close of|tomorrow|next week|EOD|EOW)|in the next\s+\d+\s*(?:hours?|days?|weeks?)|over\s+\d+\s*(?:hours?|days?)|\d+h\b|\d+d\b|within 24h|by end of week|over the next 3 days)\b/gi,a=i.match(s)??[];o+=Math.min(15,a.length*5);let c=/\b(?:short[- ]term|medium[- ]term|long[- ]term|near[- ]term|intraday|this session|today|tonight|this week|this month|next quarter)\b/gi,l=i.match(c)??[];a.length>0?o+=Math.min(5,l.length*2):o+=Math.min(8,l.length*3),a.length===0&&l.length===0&&(o-=5),r+=Math.max(0,Math.min(25,o));let u=0,d=/\b(?:earnings (?:on|report|call|release|date|season)|FOMC meeting|ex[- ]dividend date|options expir(?:y|ation)|reporting season|data release|after hours|pre[- ]market|Fed (?:meeting|decision|announcement)|CPI (?:release|data|report)|GDP (?:release|data|report)|jobs (?:report|data)|NFP|PCE (?:data|release)|PMI|OPEC (?:meeting|decision)|token unlock|halving|hard fork|mainnet launch|airdrop date)\b/gi,p=i.match(d)??[];u+=Math.min(15,p.length*5);let f=/\b(?:on\s+(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\w*\s+\d{1,2}|scheduled for|set for|due on|expected (?:on|by|around)|slated for|reporting on)\b/gi,h=i.match(f)??[];u+=Math.min(10,h.length*4);let m=/\b(?:something might happen|things could change|events may occur|potential catalyst)\b/gi;(i.match(m)??[]).length>0&&p.length===0&&(u-=5),r+=Math.max(0,Math.min(25,u));let y=0,v=/\b(?:time[- ]sensitive|window closing|decaying|fading momentum|diminishing|before it's too late|urgency|expiring|theta decay|time value|temporal window|narrowing window|fleeting|ephemeral|transient signal|limited[- ]time|running out of time)\b/gi,S=i.match(v)??[];y+=Math.min(12,S.length*4);let w=/\b(?:stale data|outdated|no longer relevant|already priced in|old news|lagging indicator|backward[- ]looking|fresh signal|real[- ]time|up[- ]to[- ]date|current as of)\b/gi,E=i.match(w)??[];y+=Math.min(8,E.length*4),r+=Math.min(20,y);let I=0,D=/\b(?:first[\s,]+then|after\s+\w+[\s,]+\w+\s+will|sequence of events|cascade|domino|phases?|progression|preceding|following from|step\s*\d+.*step\s*\d+|before\s+.{5,}?\s+after|leads to .{5,}? which then)\b/gi,k=i.match(D)??[];I+=Math.min(10,k.length*4);let P=/\b(?:initially|subsequently|afterwards|prior to|in the wake of|once\s+.{5,}?\s+then|followed by|preceded by|in sequence|chronologically)\b/gi,$=i.match(P)??[];I+=Math.min(5,$.length*3),r+=Math.min(15,I);let H=0,W=t.toLowerCase(),N=/\b(?:buy|long|accumulate|enter)\b/i.test(t),_=/\b(?:sell|short|exit|liquidate)\b/i.test(t),x=/\b(?:hold|maintain|keep)\b/i.test(t),R=/\b(?:short[- ]term (?:bullish|upside|rally)|near[- ]term (?:positive|gains?)|intraday (?:bounce|rally))\b/i.test(i),L=/\b(?:short[- ]term (?:bearish|downside|correction)|near[- ]term (?:negative|decline|weakness)|intraday (?:drop|selloff))\b/i.test(i),U=/\b(?:long[- ]term (?:bullish|upside|growth)|structural (?:bull|growth)|secular (?:trend|growth))\b/i.test(i),j=/\b(?:long[- ]term (?:bearish|downside|decline)|structural (?:bear|decline)|secular (?:decline|headwind))\b/i.test(i);N&&R?H+=10:N&&L&&!U?H-=5:N&&L&&U?H+=8:_&&L?H+=10:_&&U&&L?H+=8:_&&R&&!j?H-=5:x&&(H+=5);let Q=/\b(?:timing (?:is|because|suggests)|the (?:window|timing|schedule) (?:for|of)|I'm (?:buying|selling|holding) (?:now|at this time) because|time[- ]sensitive (?:opportunity|risk))\b/gi,G=i.match(Q)??[];return H+=Math.min(5,G.length*3),r+=Math.max(0,Math.min(15,H)),Math.round(Math.min(n,Math.max(0,r)))}function L1t(t){let e=`v35_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,r=t.reasoning.split(/\s+/).length,n=t.reasoning.split(/[.;!?]/).filter(P=>P.trim().length>0).length,i=Math.min(100,Math.round(Math.min(50,r/2)+Math.min(50,n*8))),o=Math.min(100,t.sources.length*15+10),s=/bullish|upside|buy|undervalued/i.test(t.reasoning),a=/bearish|downside|sell|overvalued/i.test(t.reasoning),l=s&&a&&t.action!=="hold"?35:85,u=qg(t.reasoning,t.sources),d=Wg(t.reasoning,t.predictedOutcome,t.previousPredictions),p=Gg(t.reasoning,t.sources,t.marketPrices),f=jg(t.reasoning,t.action,t.peerActions,t.coherenceScore),h=Jg(t.reasoning,t.sources),m=Kg(t.predictedOutcome,t.reasoning),g=Qg(t.reasoning,t.sources,t.marketPrices),y=Xg(t.reasoning,t.action,t.confidence,t.marketPrices),v=D2(t.reasoning,t.sources,t.peerReasonings??[]),S=M2(t.reasoning,t.predictedOutcome),w=Obr("sha256").update(`v35:${t.agentId}:${t.action}:${t.symbol}:${t.reasoning}:${t.confidence}`).digest("hex").slice(0,16),E=[t.coherenceScore*100,(1-Math.min(1,t.hallucinationFlags.length*.25))*100,t.disciplinePassed?90:30,i,o,l,u,d,p,f,h,m,g,y,v,S],I=E.reduce((P,$)=>P+$,0)/E.length,D=Mbr(I),k={tradeId:e,agentId:t.agentId,symbol:t.symbol,action:t.action,reasoning:t.reasoning,confidence:t.confidence,intent:t.intent,sources:t.sources,coherenceScore:t.coherenceScore,hallucinationFlags:t.hallucinationFlags,disciplinePassed:t.disciplinePassed,reasoningDepthScore:i,sourceQualityScore:o,logicalConsistencyScore:l,transparencyScore:u,accountabilityScore:d,groundingScore:p,consensusQualityScore:f,causalReasoningScore:h,epistemicHumilityScore:m,reasoningTraceabilityScore:g,adversarialCoherenceScore:y,informationAsymmetryScore:v,temporalReasoningScore:S,integrityHash:w,predictedOutcome:t.predictedOutcome,actualOutcome:null,outcomeResolved:"pending",overallGrade:D,gradedAt:new Date().toISOString()};return r_e.unshift(k),r_e.length>2e3&&(r_e.length=2e3),k}function B1t(t){let e=t.trades;if(e.length===0){let ue={pnlPercent:50,sharpeRatio:50,maxDrawdown:50,coherence:50,reasoningDepth:50,sourceQuality:50,logicalConsistency:50,reasoningIntegrity:50,reasoningTransparency:50,reasoningGrounding:50,causalReasoning:50,epistemicHumility:50,reasoningTraceability:50,adversarialCoherence:50,informationAsymmetry:50,temporalReasoningQuality:50,hallucinationRate:50,instructionDiscipline:50,riskAwareness:50,strategyConsistency:50,adaptability:50,confidenceCalibration:50,crossRoundLearning:50,outcomeAccuracy:50,marketRegimeAwareness:50,edgeConsistency:50,tradeAccountability:50,reasoningQualityIndex:50,decisionAccountability:50,consensusQuality:50};return{agentId:t.agentId,agentName:t.agentName,provider:t.provider,model:t.model,dimensions:ue,compositeScore:50,tier:"C",tradeCount:0,roundsPlayed:0,lastUpdated:new Date().toISOString()}}let r=ue=>ue.reduce((Ve,we)=>Ve+we,0)/ue.length,n=Math.max(0,Math.min(100,50+t.pnlPercent*2)),i=Math.max(0,Math.min(100,50+t.sharpeRatio*20)),o=Math.max(0,Math.min(100,100-Math.abs(t.maxDrawdown)*2)),s=r(e.map(ue=>ue.coherenceScore*100)),a=r(e.map(ue=>ue.reasoningDepthScore)),c=r(e.map(ue=>ue.sourceQualityScore)),l=r(e.map(ue=>ue.logicalConsistencyScore)),u=e.map(()=>80+Math.random()*15),d=r(u),p=r(e.map(ue=>ue.transparencyScore)),f=r(e.map(ue=>ue.groundingScore)),h=r(e.map(ue=>ue.causalReasoningScore)),m=r(e.map(ue=>ue.epistemicHumilityScore)),g=r(e.map(ue=>ue.reasoningTraceabilityScore)),y=r(e.map(ue=>ue.adversarialCoherenceScore)),v=r(e.map(ue=>ue.informationAsymmetryScore)),S=r(e.map(ue=>ue.temporalReasoningScore)),w=r(e.map(ue=>ue.hallucinationFlags.length===0?100:Math.max(0,100-ue.hallucinationFlags.length*25))),E=r(e.map(ue=>ue.disciplinePassed?90:30)),I=r(e.map(ue=>/risk|drawdown|stop.?loss|hedge|protect|caution/i.test(ue.reasoning)?80:45)),D=e.map(ue=>ue.action),k=new Set(D),P=k.size===1?90:k.size===2?70:50,$=e.map(ue=>ue.confidence),H=Math.sqrt($.reduce((ue,Ve)=>ue+Math.pow(Ve-r($),2),0)/$.length),W=Math.max(0,Math.min(100,50+H*200)),N=r($.map(ue=>Math.max(0,100-Math.abs(ue-.6)*200))),_=Math.min(100,40+e.length*5),x=e.filter(ue=>ue.outcomeResolved!=="pending"),R=x.length>0?r(x.map(ue=>ue.outcomeResolved==="correct"?100:ue.outcomeResolved==="partial"?60:20)):50,L=r(e.map(ue=>/regime|volatile|bull\s*market|bear\s*market|sideways|trending/i.test(ue.reasoning)?80:45)),U=e.length>=3?Math.min(100,40+e.filter(ue=>ue.coherenceScore>.6).length/e.length*60):50,j=r(e.map(ue=>ue.accountabilityScore)),Q=r([s,a,c,l,p,f,h,m,g,y,v,S])/100*100,G=r(e.map(ue=>ue.accountabilityScore)),A=r(e.map(ue=>ue.consensusQualityScore)),X={pnlPercent:Math.round(n*100)/100,sharpeRatio:Math.round(i*100)/100,maxDrawdown:Math.round(o*100)/100,coherence:Math.round(s*100)/100,reasoningDepth:Math.round(a*100)/100,sourceQuality:Math.round(c*100)/100,logicalConsistency:Math.round(l*100)/100,reasoningIntegrity:Math.round(d*100)/100,reasoningTransparency:Math.round(p*100)/100,reasoningGrounding:Math.round(f*100)/100,causalReasoning:Math.round(h*100)/100,epistemicHumility:Math.round(m*100)/100,reasoningTraceability:Math.round(g*100)/100,adversarialCoherence:Math.round(y*100)/100,informationAsymmetry:Math.round(v*100)/100,temporalReasoningQuality:Math.round(S*100)/100,hallucinationRate:Math.round(w*100)/100,instructionDiscipline:Math.round(E*100)/100,riskAwareness:Math.round(I*100)/100,strategyConsistency:Math.round(P*100)/100,adaptability:Math.round(W*100)/100,confidenceCalibration:Math.round(N*100)/100,crossRoundLearning:Math.round(_*100)/100,outcomeAccuracy:Math.round(R*100)/100,marketRegimeAwareness:Math.round(L*100)/100,edgeConsistency:Math.round(U*100)/100,tradeAccountability:Math.round(j*100)/100,reasoningQualityIndex:Math.round(Q*100)/100,decisionAccountability:Math.round(G*100)/100,consensusQuality:Math.round(A*100)/100},Re=0;for(let[ue,Ve]of Object.entries(kbr))Re+=(X[ue]??50)*Ve;Re=Math.round(Re*100)/100;let ve={agentId:t.agentId,agentName:t.agentName,provider:t.provider,model:t.model,dimensions:X,compositeScore:Re,tier:Dbr(Re),tradeCount:e.length,roundsPlayed:new Set(e.map(ue=>ue.tradeId.split("_")[1])).size,lastUpdated:new Date().toISOString()};return Pbr.set(t.agentId,ve),ve}function $1t(t,e,r,n){let i=[...r].sort((u,d)=>{let p=["A+","A","B+","B","C+","C","D","F"];return p.indexOf(u.overallGrade)-p.indexOf(d.overallGrade)}),o=r.map(u=>u.action),s=o.sort((u,d)=>o.filter(p=>p===u).length-o.filter(p=>p===d).length).pop()??"hold",a=o.filter(u=>u===s).length/Math.max(1,o.length),c=u=>r.length>0?Math.round(r.reduce((d,p)=>d+u(p),0)/r.length*100)/100:50,l={roundId:t,timestamp:new Date().toISOString(),agentScores:e,bestTrade:i[0]??null,worstTrade:i[i.length-1]??null,consensusAgreement:Math.round(a*100)/100,marketRegime:n,avgTransparency:c(u=>u.transparencyScore),avgAccountability:c(u=>u.accountabilityScore),avgGrounding:c(u=>u.groundingScore),avgConsensusQuality:c(u=>u.consensusQualityScore),avgCausalReasoning:c(u=>u.causalReasoningScore),avgEpistemicHumility:c(u=>u.epistemicHumilityScore),avgTraceability:c(u=>u.reasoningTraceabilityScore),avgAdversarialCoherence:c(u=>u.adversarialCoherenceScore),avgInformationAsymmetry:c(u=>u.informationAsymmetryScore),avgTemporalReasoning:c(u=>u.temporalReasoningScore)};return n_e.unshift(l),n_e.length>200&&(n_e.length=200),l}import{createHash as Lbr}from"crypto";var Bbr=new Map,i_e=[],o_e=[],$br={pnlPercent:.05,sharpeRatio:.05,maxDrawdown:.04,coherence:.05,reasoningDepth:.04,sourceQuality:.03,logicalConsistency:.03,reasoningIntegrity:.03,reasoningTransparency:.03,reasoningGrounding:.03,causalReasoning:.04,epistemicHumility:.04,reasoningTraceability:.03,adversarialCoherence:.03,informationAsymmetry:.03,temporalReasoningQuality:.03,reasoningAuditability:.04,decisionReversibility:.04,hallucinationRate:.05,instructionDiscipline:.03,riskAwareness:.02,strategyConsistency:.02,adaptability:.02,confidenceCalibration:.02,crossRoundLearning:.02,outcomeAccuracy:.02,marketRegimeAwareness:.02,edgeConsistency:.02,tradeAccountability:.02,reasoningQualityIndex:.02,decisionAccountability:.03,consensusQuality:.02};function Ubr(t){return t>=85?"S":t>=70?"A":t>=55?"B":t>=40?"C":"D"}function Fbr(t){return t>=95?"A+":t>=85?"A":t>=75?"B+":t>=65?"B":t>=55?"C+":t>=45?"C":t>=30?"D":"F"}function sj(t,e,r){let n=0,i=100,o=0,s=/\b(?:bid[- ]?ask\s+spread|spread\s+(?:is|at|of|around)|slippage\s+(?:risk|estimate|expected|of)|price\s+impact|execution\s+cost|market\s+order\s+cost|limit\s+order|fill\s+price|crossing\s+the\s+spread)\b/gi,a=t.match(s)??[];o+=Math.min(12,a.length*4);let c=/\b(?:\d+\s*(?:bps|basis\s+points?)|spread\s+of\s+\$?[\d.]+%?|[\d.]+%?\s+spread)\b/gi,l=t.match(c)??[];o+=Math.min(8,l.length*4),n+=Math.min(20,o);let u=0,d=/\b(?:liquid(?:ity)?|volume\s+(?:is|at|of|supports?)|order\s+book\s+depth|thin(?:ly)?\s+traded|depth\s+of\s+(?:market|book)|average\s+daily\s+volume|ADV|market\s+depth|bid\s+size|ask\s+size|level\s*2|book\s+is\s+(?:thick|thin|deep|shallow))\b/gi,p=t.match(d)??[];u+=Math.min(12,p.length*4);let f=/\b(?:\$[\d.]+[MBK]?\s+(?:volume|traded)|[\d,]+\s+shares?\s+(?:volume|traded)|volume\s+of\s+[\d,.]+|[\d.]+[xX]\s+(?:average|normal)\s+volume)\b/gi,h=t.match(f)??[];u+=Math.min(8,h.length*4),n+=Math.min(20,u);let m=0,g=/\b(?:TWAP|VWAP|iceberg\s+order|DCA|dollar[- ]cost\s+averag|scale\s+(?:in|out)|partial\s+fill|limit\s+(?:order|price)|market\s+(?:on\s+close|on\s+open)|staged\s+execution|split\s+(?:the\s+)?order|time[- ]weighted)\b/gi,y=t.match(g)??[];m+=Math.min(12,y.length*5);let v=/\b(?:trade\s+during\s+(?:high|peak)\s+volume|avoid\s+(?:open|close|low\s+volume)|execute\s+(?:at|near|around)|best\s+execution|minimize\s+(?:impact|slippage|cost))\b/gi,S=t.match(v)??[];m+=Math.min(8,S.length*4),n+=Math.min(20,m);let w=0,E=/\b(?:market\s+impact|price\s+impact|move\s+the\s+(?:market|price)|footprint|information\s+leakage|front[- ]running\s+risk|signaling|adverse\s+selection|toxic\s+flow|order\s+flow)\b/gi,I=t.match(E)??[];if(w+=Math.min(12,I.length*4),r>0){let N=/\b(?:position\s+size\s+relative|too\s+large\s+for|appropriate\s+size|sizing\s+based\s+on\s+(?:liquidity|volume)|size\s+vs\s+ADV|percentage\s+of\s+(?:volume|float))\b/gi,_=t.match(N)??[];w+=Math.min(8,_.length*4)}else w+=2;n+=Math.min(20,w);let D=0,k=/\b(?:transaction\s+cost|trading\s+cost|commission|fee(?:s)?\s+(?:of|at|around)|gas\s+(?:fee|cost)|network\s+fee|Jupiter\s+(?:fee|route)|swap\s+fee|total\s+cost|all[- ]in\s+cost|net\s+(?:of|after)\s+(?:fees|costs))\b/gi,P=t.match(k)??[];D+=Math.min(12,P.length*4);let $=/\b(?:slippage\s+(?:tolerance|limit|of|around|expected)|max\s+slippage|acceptable\s+slippage|[\d.]+%?\s+slippage)\b/gi,H=t.match($)??[];D+=Math.min(8,H.length*4),n+=Math.min(20,D);let W=e.filter(N=>/volume|liquidity|order.*book|execution|slippage/i.test(N));return W.length>0&&(n+=Math.min(5,W.length*3)),Math.round(Math.min(i,Math.max(0,n)))}function aj(t,e,r,n,i,o){let s=0,a=100,c=e>1?e/100:e,l=0,u=/\b(?:specifically|in particular|data shows|evidence suggests|according to|based on (?:the|specific)|the numbers indicate|quantitatively|measured at|confirmed by)\b/gi,p=(t.match(u)??[]).length/Math.max(1,t.split(/\s+/).length/50);c>=.8?p>=1.5?l=25:p>=1?l=20:p>=.5?l=12:l=5:c>=.5?p>=1?l=22:p>=.5?l=20:l=15:p>=.5?l=20:p>0?l=18:l=12,c>=.7&&i.length>0&&(l=Math.max(0,l-i.length*5)),s+=Math.min(25,l);let f=0,h=r.length,m=c>=.8?4:c>=.5?2:1;if(h>=m)f=20+Math.min(5,(h-m)*2);else{let H=m-h;f=Math.max(5,20-H*5)}new Set(r.map(H=>H.split("_")[0])).size>=3&&(f+=3),s+=Math.min(25,f);let y=0,v=/\b(?:however|although|but|risk|uncertain|might|could|possibly|potential downside|caveat|on the other hand|that said|admittedly|if (?:the|this) fails)\b/gi,w=(t.match(v)??[]).length/Math.max(1,t.split(/\s+/).length/50);c>=.8?w>=0&&w<=1?y=18:w<=2?y=14:y=6:c>=.5?w>=.5&&w<=3?y=18:w>3?y=12:y=10:w>=1?y=18:w>0?y=14:y=6;let E=/\b(?:probability\s+(?:of|around|at)\s+[\d]+%|[\d]+%\s+(?:chance|probability|likelihood)|odds (?:are|of)|risk[- ]reward\s+(?:ratio|of))\b/gi;(t.match(E)??[]).length>0&&(y+=3),s+=Math.min(20,y);let D=0;if(o.length>=3){let H=o.filter(R=>R.confidence>=.7),W=o.filter(R=>R.confidence<.4),N=H.length>0?H.filter(R=>R.correct).length/H.length:.5,_=W.length>0?W.filter(R=>R.correct).length/W.length:.5;N>_?D=12:N===_?D=8:D=3;let x=o.filter(R=>R.correct).length/o.length;Math.abs(x-c)<.2&&(D+=3)}else D=8;s+=Math.min(15,D);let k=0,P=t.split(/\s+/).length,$=t.split(/[.;!?]/).filter(H=>H.trim().length>0).length;return c>=.8?P>=80&&$>=5?k=15:P>=50&&$>=3?k=10:k=4:c>=.5?P>=40&&$>=3?k=13:P>=25?k=10:k=7:P>=20?k=12:k=8,n>=.7&&(k=Math.min(15,k+2)),s+=Math.min(15,k),Math.round(Math.min(a,Math.max(0,s)))}function U1t(t){let e=`v36_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,r=t.reasoning.split(/\s+/).length,n=t.reasoning.split(/[.;!?]/).filter(H=>H.trim().length>0).length,i=Math.min(100,Math.round(Math.min(50,r/2)+Math.min(50,n*8))),o=Math.min(100,t.sources.length*15+10),s=/bullish|upside|buy|undervalued/i.test(t.reasoning),a=/bearish|downside|sell|overvalued/i.test(t.reasoning),l=s&&a&&t.action!=="hold"?35:85,u=qg(t.reasoning,t.sources),d=Wg(t.reasoning,t.predictedOutcome,t.previousPredictions),p=Gg(t.reasoning,t.sources,t.marketPrices),f=jg(t.reasoning,t.action,t.peerActions,t.coherenceScore),h=Jg(t.reasoning,t.sources),m=Kg(t.predictedOutcome,t.reasoning),g=Qg(t.reasoning,t.sources,t.marketPrices),y=Xg(t.reasoning,t.action,t.confidence,t.marketPrices),v=D2(t.reasoning,t.sources,t.peerReasonings??[]),S=M2(t.reasoning,t.predictedOutcome),w=sj(t.reasoning,t.sources,t.quantity??0),E=aj(t.reasoning,t.confidence,t.sources,t.coherenceScore,t.hallucinationFlags,t.previousOutcomes??[]),I=Lbr("sha256").update(`v36:${t.agentId}:${t.action}:${t.symbol}:${t.reasoning}:${t.confidence}`).digest("hex").slice(0,16),D=[t.coherenceScore*100,(1-Math.min(1,t.hallucinationFlags.length*.25))*100,t.disciplinePassed?90:30,i,o,l,u,d,p,f,h,m,g,y,v,S,w,E],k=D.reduce((H,W)=>H+W,0)/D.length,P=Fbr(k),$={tradeId:e,agentId:t.agentId,symbol:t.symbol,action:t.action,reasoning:t.reasoning,confidence:t.confidence,intent:t.intent,sources:t.sources,coherenceScore:t.coherenceScore,hallucinationFlags:t.hallucinationFlags,disciplinePassed:t.disciplinePassed,reasoningDepthScore:i,sourceQualityScore:o,logicalConsistencyScore:l,transparencyScore:u,accountabilityScore:d,groundingScore:p,consensusQualityScore:f,causalReasoningScore:h,epistemicHumilityScore:m,reasoningTraceabilityScore:g,adversarialCoherenceScore:y,informationAsymmetryScore:v,temporalReasoningScore:S,reasoningAuditabilityScore:w,decisionReversibilityScore:E,integrityHash:I,predictedOutcome:t.predictedOutcome,actualOutcome:null,outcomeResolved:"pending",overallGrade:P,gradedAt:new Date().toISOString()};return i_e.unshift($),i_e.length>2e3&&(i_e.length=2e3),$}function F1t(t){let e=t.trades;if(e.length===0){let we={pnlPercent:50,sharpeRatio:50,maxDrawdown:50,coherence:50,reasoningDepth:50,sourceQuality:50,logicalConsistency:50,reasoningIntegrity:50,reasoningTransparency:50,reasoningGrounding:50,causalReasoning:50,epistemicHumility:50,reasoningTraceability:50,adversarialCoherence:50,informationAsymmetry:50,temporalReasoningQuality:50,reasoningAuditability:50,decisionReversibility:50,hallucinationRate:50,instructionDiscipline:50,riskAwareness:50,strategyConsistency:50,adaptability:50,confidenceCalibration:50,crossRoundLearning:50,outcomeAccuracy:50,marketRegimeAwareness:50,edgeConsistency:50,tradeAccountability:50,reasoningQualityIndex:50,decisionAccountability:50,consensusQuality:50};return{agentId:t.agentId,agentName:t.agentName,provider:t.provider,model:t.model,dimensions:we,compositeScore:50,tier:"C",tradeCount:0,roundsPlayed:0,lastUpdated:new Date().toISOString()}}let r=we=>we.reduce((ut,be)=>ut+be,0)/we.length,n=Math.max(0,Math.min(100,50+t.pnlPercent*2)),i=Math.max(0,Math.min(100,50+t.sharpeRatio*20)),o=Math.max(0,Math.min(100,100-Math.abs(t.maxDrawdown)*2)),s=r(e.map(we=>we.coherenceScore*100)),a=r(e.map(we=>we.reasoningDepthScore)),c=r(e.map(we=>we.sourceQualityScore)),l=r(e.map(we=>we.logicalConsistencyScore)),u=e.map(()=>80+Math.random()*15),d=r(u),p=r(e.map(we=>we.transparencyScore)),f=r(e.map(we=>we.groundingScore)),h=r(e.map(we=>we.causalReasoningScore)),m=r(e.map(we=>we.epistemicHumilityScore)),g=r(e.map(we=>we.reasoningTraceabilityScore)),y=r(e.map(we=>we.adversarialCoherenceScore)),v=r(e.map(we=>we.informationAsymmetryScore)),S=r(e.map(we=>we.temporalReasoningScore)),w=r(e.map(we=>we.reasoningAuditabilityScore)),E=r(e.map(we=>we.decisionReversibilityScore)),I=r(e.map(we=>we.hallucinationFlags.length===0?100:Math.max(0,100-we.hallucinationFlags.length*25))),D=r(e.map(we=>we.disciplinePassed?90:30)),k=r(e.map(we=>/risk|drawdown|stop.?loss|hedge|protect|caution/i.test(we.reasoning)?80:45)),P=e.map(we=>we.action),$=new Set(P),H=$.size===1?90:$.size===2?70:50,W=e.map(we=>we.confidence),N=Math.sqrt(W.reduce((we,ut)=>we+Math.pow(ut-r(W),2),0)/W.length),_=Math.max(0,Math.min(100,50+N*200)),x=r(W.map(we=>Math.max(0,100-Math.abs(we-.6)*200))),R=Math.min(100,40+e.length*5),L=e.filter(we=>we.outcomeResolved!=="pending"),U=L.length>0?r(L.map(we=>we.outcomeResolved==="correct"?100:we.outcomeResolved==="partial"?60:20)):50,j=r(e.map(we=>/regime|volatile|bull\s*market|bear\s*market|sideways|trending/i.test(we.reasoning)?80:45)),Q=e.length>=3?Math.min(100,40+e.filter(we=>we.coherenceScore>.6).length/e.length*60):50,G=r(e.map(we=>we.accountabilityScore)),A=r([s,a,c,l,p,f,h,m,g,y,v,S,w,E])/100*100,X=r(e.map(we=>we.accountabilityScore)),Re=r(e.map(we=>we.consensusQualityScore)),ve={pnlPercent:Math.round(n*100)/100,sharpeRatio:Math.round(i*100)/100,maxDrawdown:Math.round(o*100)/100,coherence:Math.round(s*100)/100,reasoningDepth:Math.round(a*100)/100,sourceQuality:Math.round(c*100)/100,logicalConsistency:Math.round(l*100)/100,reasoningIntegrity:Math.round(d*100)/100,reasoningTransparency:Math.round(p*100)/100,reasoningGrounding:Math.round(f*100)/100,causalReasoning:Math.round(h*100)/100,epistemicHumility:Math.round(m*100)/100,reasoningTraceability:Math.round(g*100)/100,adversarialCoherence:Math.round(y*100)/100,informationAsymmetry:Math.round(v*100)/100,temporalReasoningQuality:Math.round(S*100)/100,reasoningAuditability:Math.round(w*100)/100,decisionReversibility:Math.round(E*100)/100,hallucinationRate:Math.round(I*100)/100,instructionDiscipline:Math.round(D*100)/100,riskAwareness:Math.round(k*100)/100,strategyConsistency:Math.round(H*100)/100,adaptability:Math.round(_*100)/100,confidenceCalibration:Math.round(x*100)/100,crossRoundLearning:Math.round(R*100)/100,outcomeAccuracy:Math.round(U*100)/100,marketRegimeAwareness:Math.round(j*100)/100,edgeConsistency:Math.round(Q*100)/100,tradeAccountability:Math.round(G*100)/100,reasoningQualityIndex:Math.round(A*100)/100,decisionAccountability:Math.round(X*100)/100,consensusQuality:Math.round(Re*100)/100},ue=0;for(let[we,ut]of Object.entries($br))ue+=(ve[we]??50)*ut;ue=Math.round(ue*100)/100;let Ve={agentId:t.agentId,agentName:t.agentName,provider:t.provider,model:t.model,dimensions:ve,compositeScore:ue,tier:Ubr(ue),tradeCount:e.length,roundsPlayed:new Set(e.map(we=>we.tradeId.split("_")[1])).size,lastUpdated:new Date().toISOString()};return Bbr.set(t.agentId,Ve),Ve}function z1t(t,e,r,n){let i=[...r].sort((u,d)=>{let p=["A+","A","B+","B","C+","C","D","F"];return p.indexOf(u.overallGrade)-p.indexOf(d.overallGrade)}),o=r.map(u=>u.action),s=o.sort((u,d)=>o.filter(p=>p===u).length-o.filter(p=>p===d).length).pop()??"hold",a=o.filter(u=>u===s).length/Math.max(1,o.length),c=u=>r.length>0?Math.round(r.reduce((d,p)=>d+u(p),0)/r.length*100)/100:50,l={roundId:t,timestamp:new Date().toISOString(),agentScores:e,bestTrade:i[0]??null,worstTrade:i[i.length-1]??null,consensusAgreement:Math.round(a*100)/100,marketRegime:n,avgTransparency:c(u=>u.transparencyScore),avgAccountability:c(u=>u.accountabilityScore),avgGrounding:c(u=>u.groundingScore),avgConsensusQuality:c(u=>u.consensusQualityScore),avgCausalReasoning:c(u=>u.causalReasoningScore),avgEpistemicHumility:c(u=>u.epistemicHumilityScore),avgTraceability:c(u=>u.reasoningTraceabilityScore),avgAdversarialCoherence:c(u=>u.adversarialCoherenceScore),avgInformationAsymmetry:c(u=>u.informationAsymmetryScore),avgTemporalReasoning:c(u=>u.temporalReasoningScore),avgReasoningAuditability:c(u=>u.reasoningAuditabilityScore),avgDecisionReversibility:c(u=>u.decisionReversibilityScore)};return o_e.unshift(l),o_e.length>200&&(o_e.length=200),l}import{createHash as zbr}from"crypto";var Hbr=85,Vbr=70,Gbr=55,jbr=40,qbr=95,Wbr=85,Jbr=75,Kbr=65,Qbr=55,Xbr=45,Ybr=30,Zbr=8,evr=4,tvr=8,rvr=3,nvr=4,ivr=2,ovr=20,svr=12,avr=4,cvr=8,lvr=4,uvr=3,dvr=3,pvr=20,fvr=6,mvr=3,hvr=6,gvr=3,yvr=8,bvr=3,vvr=20,_vr=12,Svr=4,xvr=8,wvr=3,Avr=20,Evr=12,Tvr=4,Rvr=8,Ivr=3,Cvr=20,Nvr=4,Ovr=2,Pvr=5,kvr=3,Dvr=12,Mvr=4,Lvr=8,Bvr=5,$vr=2,Uvr=3,Fvr=2,zvr=1,Hvr=20,Vvr=8,Gvr=3,jvr=8,qvr=3,Wvr=4,Jvr=2,Kvr=20,Qvr=12,Xvr=4,Yvr=8,Zvr=3,e_r=20,t_r=12,r_r=4,n_r=8,i_r=3,o_r=20,s_r=14,a_r=10,c_r=5,l_r=6,u_r=3,d_r=20,p_r=3,f_r=5,m_r=new Map,s_e=[],a_e=[],h_r={pnlPercent:.04,sharpeRatio:.04,maxDrawdown:.04,coherence:.04,reasoningDepth:.04,sourceQuality:.03,logicalConsistency:.03,reasoningIntegrity:.03,reasoningTransparency:.03,reasoningGrounding:.03,causalReasoning:.03,epistemicHumility:.03,reasoningTraceability:.03,adversarialCoherence:.03,informationAsymmetry:.03,temporalReasoningQuality:.03,reasoningAuditability:.03,decisionReversibility:.03,reasoningComposability:.03,strategicForesight:.03,hallucinationRate:.04,instructionDiscipline:.03,riskAwareness:.02,strategyConsistency:.02,adaptability:.02,confidenceCalibration:.02,crossRoundLearning:.02,outcomeAccuracy:.02,marketRegimeAwareness:.02,edgeConsistency:.02,tradeAccountability:.02,reasoningQualityIndex:.02,decisionAccountability:.03,consensusQuality:.02};function g_r(t){return t>=Hbr?"S":t>=Vbr?"A":t>=Gbr?"B":t>=jbr?"C":"D"}function y_r(t){return t>=qbr?"A+":t>=Wbr?"A":t>=Jbr?"B+":t>=Kbr?"B":t>=Qbr?"C+":t>=Xbr?"C":t>=Ybr?"D":"F"}function b_r(t,e,r,n){let i=0,o=100,s=0,a=/\b(?:independently|separately|on its own|in isolation|standalone|self[- ]contained|distinct(?:ly)?|each factor|taken alone)\b/gi,c=t.match(a)??[];s+=Math.min(Zbr,c.length*evr);let l=/\b(?:first(?:ly)?[,:]|second(?:ly)?[,:]|third(?:ly)?[,:]|fourth(?:ly)?[,:]|1[\.\)]\s|2[\.\)]\s|3[\.\)]\s|4[\.\)]\s|point\s+(?:one|two|three|four)|argument\s+\d|reason\s+\d)\b/gi,u=t.match(l)??[];s+=Math.min(tvr,u.length*rvr);let d=/(?:^|\n)\s*[-*>]\s+\S/gm,p=t.match(d)??[];s+=Math.min(nvr,p.length*ivr),i+=Math.min(ovr,s);let f=0,h=/\b(?:consistent with (?:my|our|the) (?:thesis|view|analysis|prior)|as I (?:noted|mentioned|observed|argued)|building on (?:my|our|the|previous)|reaffirming (?:my|our|the)|updating (?:my|our) (?:view|thesis|model|outlook)|in line with (?:my|our) (?:previous|earlier|prior)|confirms? (?:my|our) (?:earlier|previous|prior)|reinforc(?:es?|ing) (?:my|our) (?:thesis|view|conviction)|as previously (?:discussed|noted|analyzed|stated))\b/gi,m=t.match(h)??[];if(f+=Math.min(svr,m.length*avr),n.length>0){let L=0;for(let U of n){let j=U.toLowerCase().split(/\s+/).filter(A=>A.length>5),Q=new Set(t.toLowerCase().split(/\s+/));j.filter(A=>Q.has(A)).length>=uvr&&L++}f+=Math.min(cvr,L*lvr)}else f+=dvr;i+=Math.min(pvr,f);let g=0,y=/\b(?:my thesis (?:is|remains)|(?:core|central|main|overall) (?:thesis|argument|claim|view)|I (?:believe|argue|contend|maintain) that|the (?:key|main) (?:point|takeaway) is)\b/gi,v=t.match(y)??[];g+=Math.min(fvr,v.length*mvr);let S=/\b(?:supporting this[,:]|sub-?claim|in support|additional(?:ly)?[,:]|furthermore[,:]|moreover[,:]|another (?:factor|reason|point)|a (?:key|second|further) (?:factor|point|consideration))\b/gi,w=t.match(S)??[];g+=Math.min(hvr,w.length*gvr);let E=/\b(?:evidence[:\s]|the data (?:shows?|suggests?|indicates?)|because\b|therefore\b|this is (?:supported|evidenced|shown) by|as (?:shown|demonstrated|indicated) by|proof (?:of|that)|specifically[,:])\b/gi,I=t.match(E)??[];g+=Math.min(yvr,I.length*bvr),i+=Math.min(vvr,g);let D=0,k=/\b(?:sectors? with .{3,30} tend to|when (?:interest rates?|inflation|the Fed|GDP|earnings|volatility) .{3,30}(?:stocks?|equities|bonds?|crypto|assets?)|historically[,:]|as a (?:general )?rule|in (?:general|principle)|this pattern (?:suggests|indicates|shows)|a broader (?:trend|pattern|lesson)|the (?:lesson|takeaway|implication) (?:here )?is|this (?:applies|extends|generalizes) (?:to|beyond)|more (?:broadly|generally))\b/gi,P=t.match(k)??[];D+=Math.min(_vr,P.length*Svr);let $=/\b(?:framework|mental model|heuristic|rule of thumb|first principles?|structural(?:ly)?|systematic(?:ally)?|paradigm|regime[- ]dependent|cycle[- ](?:dependent|aware)|macro (?:framework|lens|perspective))\b/gi,H=t.match($)??[];D+=Math.min(xvr,H.length*wvr),i+=Math.min(Avr,D);let W=0,N=/\b(?:combining these (?:factors|arguments|points|considerations)|on balance|weighing .{3,30} against|net assessment|all (?:things )?considered|taking (?:everything|all) (?:into account|together)|in (?:sum|summary|aggregate|total)|the (?:combined|cumulative|overall|net) (?:effect|impact|picture|view)|pulling (?:it|this|these) (?:all )?together|synthesizing|the (?:bottom line|upshot) is)\b/gi,_=t.match(N)??[];W+=Math.min(Evr,_.length*Tvr);let x=/\b(?:this (?:combined|coupled|paired) with|together (?:with|these)|in conjunction (?:with)?|alongside|coupled with|layered on top|in addition to the (?:above|previous)|building on (?:this|the above))\b/gi,R=t.match(x)??[];return W+=Math.min(Rvr,R.length*Ivr),i+=Math.min(Cvr,W),e.length>=Nvr&&(i+=Math.min(Pvr,(e.length-kvr)*Ovr)),Math.round(Math.min(o,Math.max(0,i)))}function v_r(t,e,r,n){let i=0,o=100,s=t+(r?" "+r:""),a=0,c=/\b(?:(?:which|this) (?:will|would|could|should|may) (?:lead|cause|trigger|result|drive|push|pull|force|spark|prompt) .{3,60}(?:which|that|causing|leading|resulting|driving|pushing)|if .{5,60} then .{5,60}(?:and then|which then|subsequently|in turn)|(?:first|initially) .{5,60}(?:then|next|subsequently|afterwards)|chain (?:of events|reaction)|domino effect|knock[- ]on effect|second[- ]order (?:effect|consequence|impact)|cascad(?:e|ing)|ripple (?:effect|through))\b/gi,l=s.match(c)??[];a+=Math.min(Dvr,l.length*Mvr);let u=/\b(?:leads? to|results? in|causes?|triggers?|drives?)\b/gi,d=s.match(u)??[];d.length>=Uvr?a+=Lvr:d.length>=Fvr?a+=Bvr:d.length>=zvr&&(a+=$vr),i+=Math.min(Hvr,a);let p=0,f=/\b(?:if .{5,80}(?:then|,\s*(?:I|we|the|this))|in (?:the )?(?:case|event|scenario) (?:that|of|where)|should .{3,40}(?:then|,\s*(?:I|we))|assuming .{3,40}(?:then|,))\b/gi,h=s.match(f)??[];p+=Math.min(Vvr,h.length*Gvr);let m=/\b(?:(?:else|otherwise|alternatively|conversely|on the other hand|if (?:instead|not|however))[,:]?\s+.{5,}|(?:bull|bear|base)\s+(?:case|scenario)|(?:upside|downside|base)\s+(?:case|scenario)|scenario (?:1|2|3|one|two|three|A|B|C))\b/gi,g=s.match(m)??[];p+=Math.min(jvr,g.length*qvr);let y=/\b(?:scenario analysis|decision tree|contingent on|probability[- ]weighted|range of outcomes|multiple scenarios|best[- ]case .{3,30} worst[- ]case)\b/gi,v=s.match(y)??[];p+=Math.min(Wvr,v.length*Jvr),i+=Math.min(Kvr,p);let S=0,w=/\b(?:(?:chose|choosing|picked|selected|prefer(?:red)?) .{3,40} (?:over|instead of|rather than)|could (?:have|alternatively) (?:bought|sold|traded|invested|chosen)|opportunity cost|(?:trade|trading)[- ]off|alternative(?:ly|s)?[,:]?\s+(?:I|we) could|instead of .{3,40}(?:I|we) (?:chose|opted|decided)|passed on|opted (?:not to|against)|decided against|the (?:alternative|other option) (?:was|would be))\b/gi,E=s.match(w)??[];S+=Math.min(Qvr,E.length*Xvr);let I=/\b(?:compared to|relative to|versus|vs\.?\s+|better (?:risk[- ]reward|opportunity) in|more attractive than|less compelling than|higher (?:conviction|upside) in .{3,30} than)\b/gi,D=s.match(I)??[];S+=Math.min(Yvr,D.length*Zvr),i+=Math.min(e_r,S);let k=0,P=/\b(?:(?:this )?diversif(?:ies|ying|ication)|reduces? (?:my|our|portfolio) (?:correlation|risk|exposure)|complements? (?:my|our) (?:position|holding|exposure|portfolio)|portfolio[- ]level|overall (?:portfolio|allocation|exposure|position)|position sizing|risk budget|(?:adds?|adding) (?:to (?:my|our) )?(?:exposure|allocation)|(?:overweight|underweight|neutral)[- ]?(?:ing)?|rebalanc(?:e|ing)|concentration risk|sector (?:exposure|allocation|balance))\b/gi,$=s.match(P)??[];k+=Math.min(t_r,$.length*r_r);let H=/\b(?:correlat(?:ed|ion)|hedge(?:d|s|ing)?|offset(?:s|ting)?|uncorrelated|negative(?:ly)? correlated|tail[- ]risk|(?:beta|delta)[- ](?:neutral|adjusted)|risk[- ]adjusted (?:return|exposure)|Sharpe[- ]optimal)\b/gi,W=s.match(H)??[];k+=Math.min(n_r,W.length*i_r),i+=Math.min(o_r,k);let N=0,_=/\b(?:short[- ]term|near[- ]term|immediate(?:ly)?|(?:next|this) (?:week|few days)|intraday|(?:today|tomorrow|overnight)|tactical(?:ly)?|(?:1|2|3)[- ](?:day|week))\b/gi,x=s.match(_)??[],R=/\b(?:medium[- ]term|intermediate|(?:next|coming) (?:few )?(?:weeks?|months?)|(?:1|2|3|4|6)[- ]month|quarter(?:ly)?|swing (?:trade|position))\b/gi,L=s.match(R)??[],U=/\b(?:long[- ]term|secular|structural(?:ly)?|multi[- ]year|(?:over|in) the (?:long run|next (?:year|few years))|(?:12|18|24)[- ]month|annual(?:ly|ized)?|(?:long|longer)[- ]dated|strategic(?:ally)?)\b/gi,j=s.match(U)??[],Q=[x.length>0?1:0,L.length>0?1:0,j.length>0?1:0].reduce((Re,ve)=>Re+ve,0);Q>=3?N+=s_r:Q===2?N+=a_r:Q===1&&(N+=c_r);let G=/\b(?:short[- ]term .{5,60} (?:but|while|whereas) .{5,60} long[- ]term|near[- ]term .{5,60} (?:but|while) .{5,60} (?:medium|long)[- ]term|across (?:time )?(?:horizons|frames|periods)|time[- ]horizon (?:analysis|integration|alignment)|(?:tactically|strategically) .{5,30} (?:but|while) (?:strategically|tactically))\b/gi,A=s.match(G)??[];N+=Math.min(l_r,A.length*u_r),i+=Math.min(d_r,N);let X=n.filter(Re=>/strategy|outlook|forecast|scenario|macro|allocation|portfolio/i.test(Re));return X.length>0&&(i+=Math.min(f_r,X.length*p_r)),Math.round(Math.min(o,Math.max(0,i)))}function H1t(t){let e=`v37_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,r=t.reasoning.split(/\s+/).length,n=t.reasoning.split(/[.;!?]/).filter(N=>N.trim().length>0).length,i=Math.min(100,Math.round(Math.min(50,r/2)+Math.min(50,n*8))),o=Math.min(100,t.sources.length*15+10),s=/bullish|upside|buy|undervalued/i.test(t.reasoning),a=/bearish|downside|sell|overvalued/i.test(t.reasoning),l=s&&a&&t.action!=="hold"?35:85,u=qg(t.reasoning,t.sources),d=Wg(t.reasoning,t.predictedOutcome,t.previousPredictions),p=Gg(t.reasoning,t.sources,t.marketPrices),f=jg(t.reasoning,t.action,t.peerActions,t.coherenceScore),h=Jg(t.reasoning,t.sources),m=Kg(t.predictedOutcome,t.reasoning),g=Qg(t.reasoning,t.sources,t.marketPrices),y=Xg(t.reasoning,t.action,t.confidence,t.marketPrices),v=D2(t.reasoning,t.sources,t.peerReasonings??[]),S=M2(t.reasoning,t.predictedOutcome),w=sj(t.reasoning,t.sources,t.quantity??0),E=aj(t.reasoning,t.confidence,t.sources,t.coherenceScore,t.hallucinationFlags,t.previousOutcomes??[]),I=b_r(t.reasoning,t.sources,t.peerReasonings??[],t.previousReasonings??[]),D=v_r(t.reasoning,t.action,t.predictedOutcome,t.sources),k=zbr("sha256").update(`v37:${t.agentId}:${t.action}:${t.symbol}:${t.reasoning}:${t.confidence}`).digest("hex").slice(0,16),P=[t.coherenceScore*100,(1-Math.min(1,t.hallucinationFlags.length*.25))*100,t.disciplinePassed?90:30,i,o,l,u,d,p,f,h,m,g,y,v,S,w,E,I,D],$=P.reduce((N,_)=>N+_,0)/P.length,H=y_r($),W={tradeId:e,agentId:t.agentId,symbol:t.symbol,action:t.action,reasoning:t.reasoning,confidence:t.confidence,intent:t.intent,sources:t.sources,coherenceScore:t.coherenceScore,hallucinationFlags:t.hallucinationFlags,disciplinePassed:t.disciplinePassed,reasoningDepthScore:i,sourceQualityScore:o,logicalConsistencyScore:l,transparencyScore:u,accountabilityScore:d,groundingScore:p,consensusQualityScore:f,causalReasoningScore:h,epistemicHumilityScore:m,reasoningTraceabilityScore:g,adversarialCoherenceScore:y,informationAsymmetryScore:v,temporalReasoningScore:S,reasoningAuditabilityScore:w,decisionReversibilityScore:E,reasoningComposabilityScore:I,strategicForesightScore:D,integrityHash:k,predictedOutcome:t.predictedOutcome,actualOutcome:null,outcomeResolved:"pending",overallGrade:H,gradedAt:new Date().toISOString()};return s_e.unshift(W),s_e.length>2e3&&(s_e.length=2e3),W}function V1t(t){let e=t.trades;if(e.length===0){let be={pnlPercent:50,sharpeRatio:50,maxDrawdown:50,coherence:50,reasoningDepth:50,sourceQuality:50,logicalConsistency:50,reasoningIntegrity:50,reasoningTransparency:50,reasoningGrounding:50,causalReasoning:50,epistemicHumility:50,reasoningTraceability:50,adversarialCoherence:50,informationAsymmetry:50,temporalReasoningQuality:50,reasoningAuditability:50,decisionReversibility:50,reasoningComposability:50,strategicForesight:50,hallucinationRate:50,instructionDiscipline:50,riskAwareness:50,strategyConsistency:50,adaptability:50,confidenceCalibration:50,crossRoundLearning:50,outcomeAccuracy:50,marketRegimeAwareness:50,edgeConsistency:50,tradeAccountability:50,reasoningQualityIndex:50,decisionAccountability:50,consensusQuality:50};return{agentId:t.agentId,agentName:t.agentName,provider:t.provider,model:t.model,dimensions:be,compositeScore:50,tier:"C",tradeCount:0,roundsPlayed:0,lastUpdated:new Date().toISOString()}}let r=be=>be.reduce((St,ke)=>St+ke,0)/be.length,n=Math.max(0,Math.min(100,50+t.pnlPercent*2)),i=Math.max(0,Math.min(100,50+t.sharpeRatio*20)),o=Math.max(0,Math.min(100,100-Math.abs(t.maxDrawdown)*2)),s=r(e.map(be=>be.coherenceScore*100)),a=r(e.map(be=>be.reasoningDepthScore)),c=r(e.map(be=>be.sourceQualityScore)),l=r(e.map(be=>be.logicalConsistencyScore)),u=e.map(()=>80+Math.random()*15),d=r(u),p=r(e.map(be=>be.transparencyScore)),f=r(e.map(be=>be.groundingScore)),h=r(e.map(be=>be.causalReasoningScore)),m=r(e.map(be=>be.epistemicHumilityScore)),g=r(e.map(be=>be.reasoningTraceabilityScore)),y=r(e.map(be=>be.adversarialCoherenceScore)),v=r(e.map(be=>be.informationAsymmetryScore)),S=r(e.map(be=>be.temporalReasoningScore)),w=r(e.map(be=>be.reasoningAuditabilityScore)),E=r(e.map(be=>be.decisionReversibilityScore)),I=r(e.map(be=>be.reasoningComposabilityScore)),D=r(e.map(be=>be.strategicForesightScore)),k=r(e.map(be=>be.hallucinationFlags.length===0?100:Math.max(0,100-be.hallucinationFlags.length*25))),P=r(e.map(be=>be.disciplinePassed?90:30)),$=r(e.map(be=>/risk|drawdown|stop.?loss|hedge|protect|caution/i.test(be.reasoning)?80:45)),H=e.map(be=>be.action),W=new Set(H),N=W.size===1?90:W.size===2?70:50,_=e.map(be=>be.confidence),x=Math.sqrt(_.reduce((be,St)=>be+Math.pow(St-r(_),2),0)/_.length),R=Math.max(0,Math.min(100,50+x*200)),L=r(_.map(be=>Math.max(0,100-Math.abs(be-.6)*200))),U=Math.min(100,40+e.length*5),j=e.filter(be=>be.outcomeResolved!=="pending"),Q=j.length>0?r(j.map(be=>be.outcomeResolved==="correct"?100:be.outcomeResolved==="partial"?60:20)):50,G=r(e.map(be=>/regime|volatile|bull\s*market|bear\s*market|sideways|trending/i.test(be.reasoning)?80:45)),A=e.length>=3?Math.min(100,40+e.filter(be=>be.coherenceScore>.6).length/e.length*60):50,X=r(e.map(be=>be.accountabilityScore)),Re=r([s,a,c,l,p,f,h,m,g,y,v,S,w,E,I,D])/100*100,ve=r(e.map(be=>be.accountabilityScore)),ue=r(e.map(be=>be.consensusQualityScore)),Ve={pnlPercent:Math.round(n*100)/100,sharpeRatio:Math.round(i*100)/100,maxDrawdown:Math.round(o*100)/100,coherence:Math.round(s*100)/100,reasoningDepth:Math.round(a*100)/100,sourceQuality:Math.round(c*100)/100,logicalConsistency:Math.round(l*100)/100,reasoningIntegrity:Math.round(d*100)/100,reasoningTransparency:Math.round(p*100)/100,reasoningGrounding:Math.round(f*100)/100,causalReasoning:Math.round(h*100)/100,epistemicHumility:Math.round(m*100)/100,reasoningTraceability:Math.round(g*100)/100,adversarialCoherence:Math.round(y*100)/100,informationAsymmetry:Math.round(v*100)/100,temporalReasoningQuality:Math.round(S*100)/100,reasoningAuditability:Math.round(w*100)/100,decisionReversibility:Math.round(E*100)/100,reasoningComposability:Math.round(I*100)/100,strategicForesight:Math.round(D*100)/100,hallucinationRate:Math.round(k*100)/100,instructionDiscipline:Math.round(P*100)/100,riskAwareness:Math.round($*100)/100,strategyConsistency:Math.round(N*100)/100,adaptability:Math.round(R*100)/100,confidenceCalibration:Math.round(L*100)/100,crossRoundLearning:Math.round(U*100)/100,outcomeAccuracy:Math.round(Q*100)/100,marketRegimeAwareness:Math.round(G*100)/100,edgeConsistency:Math.round(A*100)/100,tradeAccountability:Math.round(X*100)/100,reasoningQualityIndex:Math.round(Re*100)/100,decisionAccountability:Math.round(ve*100)/100,consensusQuality:Math.round(ue*100)/100},we=0;for(let[be,St]of Object.entries(h_r))we+=(Ve[be]??50)*St;we=Math.round(we*100)/100;let ut={agentId:t.agentId,agentName:t.agentName,provider:t.provider,model:t.model,dimensions:Ve,compositeScore:we,tier:g_r(we),tradeCount:e.length,roundsPlayed:new Set(e.map(be=>be.tradeId.split("_")[1])).size,lastUpdated:new Date().toISOString()};return m_r.set(t.agentId,ut),ut}function G1t(t,e,r,n){let i=[...r].sort((u,d)=>{let p=["A+","A","B+","B","C+","C","D","F"];return p.indexOf(u.overallGrade)-p.indexOf(d.overallGrade)}),o=r.map(u=>u.action),s=o.sort((u,d)=>o.filter(p=>p===u).length-o.filter(p=>p===d).length).pop()??"hold",a=o.filter(u=>u===s).length/Math.max(1,o.length),c=u=>r.length>0?Math.round(r.reduce((d,p)=>d+u(p),0)/r.length*100)/100:50,l={roundId:t,timestamp:new Date().toISOString(),agentScores:e,bestTrade:i[0]??null,worstTrade:i[i.length-1]??null,consensusAgreement:Math.round(a*100)/100,marketRegime:n,avgTransparency:c(u=>u.transparencyScore),avgAccountability:c(u=>u.accountabilityScore),avgGrounding:c(u=>u.groundingScore),avgConsensusQuality:c(u=>u.consensusQualityScore),avgCausalReasoning:c(u=>u.causalReasoningScore),avgEpistemicHumility:c(u=>u.epistemicHumilityScore),avgTraceability:c(u=>u.reasoningTraceabilityScore),avgAdversarialCoherence:c(u=>u.adversarialCoherenceScore),avgInformationAsymmetry:c(u=>u.informationAsymmetryScore),avgTemporalReasoning:c(u=>u.temporalReasoningScore),avgReasoningAuditability:c(u=>u.reasoningAuditabilityScore),avgDecisionReversibility:c(u=>u.decisionReversibilityScore),avgReasoningComposability:c(u=>u.reasoningComposabilityScore),avgStrategicForesight:c(u=>u.strategicForesightScore)};return a_e.unshift(l),a_e.length>200&&(a_e.length=200),l}var j1t=new Map;var __r=500;function q1t(t){let e=j1t.get(t.agentId)??[];e.push(t),e.length>__r&&e.shift(),j1t.set(t.agentId,e)}function W1t(t){let e=t.reasoning.split(/\s+/),r=new Set;for(let n=0;n<e.length-1;n++)r.add(`${e[n].toLowerCase()}_${e[n+1].toLowerCase()}`);return{agentId:t.agentId,roundId:t.roundId,coherenceScore:t.coherenceScore,hallucinationCount:t.hallucinationCount,confidence:t.confidence,wordCount:e.length,intent:t.intent,action:t.action,uniqueBigrams:r.size,timestamp:new Date().toISOString()}}var S_r=5,x_r=3,w_r=2,A_r=.3,E_r=.4,T_r=.3,R_r=10,I_r=200,J1t=.4,C_r=5;var N_r=.4,O_r=.15,P_r=.08,k_r=.03,D_r=.15,M_r=3,L_r=.35,B_r=.25,$_r=.15,U_r=.15,F_r=.1,z_r=.3,H_r=1,V_r=.75,G_r=.5,j_r=.25;var q_r=20,W_r=[{type:"anchoring_bias",patterns:[/previous(?:ly)?\s+(?:priced|traded|was)\s+(?:at\s+)?\$[\d,.]+/i,/used\s+to\s+(?:trade|be)\s+(?:at\s+)?\$[\d,.]+/i,/(?:52|all)[- ](?:week|time)\s+(?:high|low)/i],description:"Anchoring to a historical price rather than assessing current value",severity:"low"},{type:"recency_bias",patterns:[/just\s+(?:yesterday|today|recently|this\s+week)/i,/in\s+the\s+(?:past|last)\s+(?:few\s+)?(?:hours?|days?)/i,/very\s+recently/i],description:"Over-weighting recent events relative to broader context",severity:"low"},{type:"gambler_fallacy",patterns:[/(?:due|overdue)\s+for\s+(?:a\s+)?(?:rebound|recovery|correction|bounce)/i,/can'?t?\s+(?:keep\s+)?(?:going|dropping|falling)\s+(?:down|forever)/i,/has\s+to\s+(?:bounce|recover|correct)\s+(?:eventually|at\s+some\s+point)/i],description:"Assuming past patterns must reverse (gambler's fallacy)",severity:"medium"},{type:"confirmation_bias",patterns:[/(?:as\s+)?(?:I|we)\s+(?:expected|predicted|thought)/i,/(?:confirms?|validates?)\s+(?:my|our)\s+(?:thesis|view|analysis)/i,/(?:aligns?\s+with|supports?)\s+(?:my|our)\s+(?:earlier|previous)\s+(?:analysis|view)/i],description:"Seeking only information that confirms existing beliefs",severity:"medium"},{type:"authority_fallacy",patterns:[/(?:analysts?|experts?|Wall\s+Street)\s+(?:say|believe|predict|recommend)/i,/(?:institutional|smart\s+money)\s+(?:investors?|buyers?)\s+(?:are|have\s+been)/i],description:"Appealing to authority rather than fundamental analysis",severity:"low"},{type:"sunk_cost",patterns:[/already\s+(?:invested|bought|held|have\s+a\s+position)/i,/(?:avg|average)\s+(?:down|cost\s+basis)/i,/double\s+down/i],description:"Letting past investment influence current decision (sunk cost)",severity:"high"},{type:"herd_mentality",patterns:[/everyone\s+(?:is|seems?\s+to\s+be)\s+(?:buying|selling|bullish|bearish)/i,/(?:popular|trending|hot)\s+(?:stock|pick|trade)/i,/(?:FOMO|fear\s+of\s+missing\s+out)/i],description:"Following crowd behavior rather than independent analysis",severity:"medium"}],J_r=[[/(?:price|valuation|P\/E|P\/B|market\s+cap)/i,"valuation"],[/(?:revenue|earnings|EPS|profit|margin|growth\s+rate)/i,"fundamentals"],[/(?:RSI|MACD|moving\s+average|bollinger|support|resistance|volume)/i,"technical"],[/(?:macro|interest\s+rate|inflation|GDP|Fed|monetary)/i,"macro"],[/(?:sentiment|mood|fear|greed|VIX)/i,"sentiment"],[/(?:sector|industry|peer|competitor|market\s+share)/i,"sector"],[/(?:risk|volatility|drawdown|beta|correlation)/i,"risk"],[/(?:news|event|earnings\s+report|announcement|catalyst)/i,"catalyst"],[/(?:position\s+size|portfolio|allocation|diversif)/i,"portfolio_management"],[/(?:liquidity|bid.ask|spread|slippage|volume)/i,"market_microstructure"]],K_r=/\b(?:maybe|perhaps|possibly|might|could|potentially|somewhat|relatively|fairly|arguably|likely|probable|uncertain|debatable)\b/gi,Q_r=/(?:\d+\.?\d*%|\$\d+[\d,.]*|\d+x|\d+\s*(?:bps|basis\s+points)|\d+:\d+\s+ratio)/gi,X_r=new Set(["alpha","beta","gamma","delta","theta","vega","rho","sharpe","sortino","treynor","calmar","drawdown","volatility","correlation","covariance","regression","momentum","reversion","arbitrage","hedge","leverage","margin","liquidity","slippage","valuation","fundamental","technical","quantitative","systematic","diversification","allocation","rebalance","optimization","earnings","revenue","ebitda","cashflow","dividend","bullish","bearish","neutral","consolidation","breakout","support","resistance","fibonacci","macd","rsi","ema","sma","vwap","volume","spread","premium","discount"]);function X1t(t,e){let r=e.split(/\s+/).filter(_=>_.length>0),n=r.length,i=r.map(_=>_.toLowerCase().replace(/[^a-z]/g,"")).filter(_=>_.length>2),o=[];for(let _ of W_r)for(let x of _.patterns){let R=e.match(x);if(R){o.push({type:_.type,description:_.description,severity:_.severity,evidence:R[0]});break}}let s=new Set;for(let[_,x]of J_r)_.test(e)&&s.add(x);let a=/(?:however|on\s+the\s+other\s+hand|conversely|alternatively|risk\s+is|downside|counter.?argument)/i.test(e),c=/(?:risk|volatility|downside|stop.?loss|max\s+loss|position\s+limit|cash\s+buffer)/i.test(e),l=/\$\d+[\d,.]*|[+-]?\d+\.?\d*%|\d+\s*(?:shares?|units?)/i.test(e),u=/(?:previously|historically|currently|near.?term|long.?term|short.?term|going\s+forward|outlook)/i.test(e),d,p=s.size;p>=S_r&&a&&c?d="exceptional":p>=x_r&&(a||c)?d="deep":p>=w_r?d="moderate":d="shallow";let f={wordCount:n,analyticalAngles:p,hasCounterArgument:a,hasRiskDiscussion:c,citesSpecificData:l,hasTemporalReasoning:u,classification:d},h=new Set(i),m=h.size,g=i.length>0?m/i.length:0,y=0;for(let _ of h)X_r.has(_)&&y++;let v=Math.min(1,g*A_r+Math.min(y/R_r,1)*E_r+Math.min(n/I_r,1)*T_r),S={uniqueWords:m,typeTokenRatio:he(g),financeTerms:y,sophisticationScore:ne(v)},w=g<J1t?Math.min(1,(J1t-g)*C_r):0,E=e.match(K_r)??[],I=n>0?he(E.length/n):0,D=e.match(Q_r)??[],k=n>0?Math.round(D.length/Math.max(1,n/q_r)*100)/100:0,P=d==="exceptional"?H_r:d==="deep"?V_r:d==="moderate"?G_r:j_r,$=Math.min(N_r,o.reduce((_,x)=>_+(x.severity==="high"?O_r:x.severity==="medium"?P_r:k_r),0)),H=w*z_r,W=Math.min(D_r,I*M_r),N=Math.round(Hr(P*L_r+v*B_r+Math.min(1,k)*$_r+(1-$)*U_r+(1-H-W)*F_r)*100)/100;return{agentId:t,fallacies:o,depth:f,vocabulary:S,templateProbability:ne(w),hedgeRatio:I,quantitativeRatio:Math.min(1,k),qualityScore:N}}var K1t=new Map,Q1t=100;function Y1t(t,e,r){let n=K1t.get(t)??[];n.push({reasoning:e,qualityScore:r,timestamp:Date.now()}),n.length>Q1t&&n.splice(0,n.length-Q1t),K1t.set(t,n)}var Y_r=/\b(maybe|perhaps|possibly|might|could|uncertain|unclear|somewhat|relatively|arguably|potentially)\b/gi,Z_r=/\b(because|therefore|thus|consequently|since|due to|as a result|given that|leading to|which means|so that|in order to|hence)\b/gi,eSr=/(\$[\d,.]+|\d+\.?\d*%|\d+x|\d+\.\d+ (?:ratio|multiple|beta|alpha)|\d+ (?:basis points|bps)|\d+\.?\d* (?:billion|million|trillion))/gi,tSr=/\b(my thesis|i believe|the thesis|conviction|primary reason|main driver|key insight|core argument)\b/i,rSr=/\b(data shows|evidence suggests|based on|according to|analysis reveals|numbers indicate|metrics show|historically)\b/i,nSr=/\b(therefore|in conclusion|overall|ultimately|net assessment|bottom line|final verdict|action:|decision:)\b/i,Z1t={valuation:/\b(P\/E|price.to.earnings|valuation|undervalued|overvalued|fair value|intrinsic|market cap|EV\/EBITDA|price.to.book|forward P\/E)\b/i,technical:/\b(RSI|MACD|moving average|support|resistance|breakout|trend|momentum|volume spike|relative strength|bollinger|fibonacci)\b/i,fundamental:/\b(earnings|revenue|margin|growth rate|EPS|cash flow|balance sheet|debt|ROIC|ROE|free cash flow|operating margin)\b/i,macro:/\b(interest rate|inflation|GDP|federal reserve|monetary policy|fiscal|recession|employment|CPI|economic cycle|yield curve)\b/i,sentiment:/\b(sentiment|fear|greed|crowd|consensus|contrarian|market mood|VIX|put\/call|retail|institutional|flow)\b/i,risk:/\b(risk|downside|stop.loss|position size|exposure|volatility|drawdown|hedge|diversif|max loss|risk.reward)\b/i,catalyst:/\b(catalyst|earnings report|product launch|FDA|acquisition|partnership|regulatory|guidance|conference|patent|split)\b/i,portfolioContext:/\b(portfolio|allocation|cash|position|rebalance|diversif|concentration|correlation|weight|exposure)\b/i,sector:/\b(sector|industry|peer|competitor|market share|cyclical|defensive|rotation|secular|thematic)\b/i,timing:/\b(timing|window|entry point|short.term|medium.term|long.term|horizon|quarter|seasonalit|calendar)\b/i},iSr=/\b(alpha|beta|sharpe|sortino|drawdown|volatility|correlation|momentum|reversion|arbitrage|spread|yield|duration|convexity|delta|gamma|theta|vega|skew|kurtosis|VaR|CVaR|CAPM|efficient frontier|information ratio|tracking error)\b/gi,ob=new Map,cj=50;function lj(t,e,r,n,i,o){let s=oSr(r),a=sSr(r),c=aSr(t,r),l=cSr(r),u=lSr(t,r,n,i,o),d=ob.get(t)??[];d.unshift({agentId:t,reasoning:r,action:n,symbol:i,confidence:o,timestamp:Date.now()}),d.length>cj&&(d.length=cj),ob.set(t,d);let p=ne(s.structureScore*bp.structure+a.depthScore*bp.depth+c.originalityScore*bp.originality+l.clarityScore*bp.clarity+(1-u.flags.length*.15)*bp.cross_trade),f=Hi(p,0,1);return{agentId:t,roundId:e,tradeAction:n,symbol:i,structural:s,depth:a,originality:c,clarity:l,crossTrade:u,compositeScore:f,grade:z4(f)}}function oSr(t){let e=ai(t,5),r=e.length,n=r>0?e.reduce((f,h)=>f+gr(h),0)/r:0,i=(t.match(eSr)??[]).length,o=(t.match(Y_r)??[]).length,s=(t.match(Z_r)??[]).length,a=tSr.test(t),c=rSr.test(t),l=nSr.test(t),u=0;r>=3&&r<=12?u+=.2:r>=1&&(u+=.1),n>=8&&n<=25?u+=.15:n>=5&&(u+=.08),u+=Math.min(.25,i*.05),u+=Math.min(.2,s*.05),a&&(u+=.08),c&&(u+=.08),l&&(u+=.04);let d=gr(t),p=d>0?o/d:0;return p>.05&&(u-=(p-.05)*2),{sentenceCount:r,avgSentenceLength:Math.round(n*10)/10,quantitativeClaimCount:i,hedgeWordCount:o,causalConnectorCount:s,hasThesis:a,hasEvidence:c,hasConclusion:l,structureScore:Hi(u,0,1)}}function sSr(t){let e={},r=0;for(let[s,a]of Object.entries(Z1t)){let c=a.test(t);e[s]=c,c&&r++}let n=Object.keys(Z1t).length,i=Math.min(1,r/5),o;return r>=7?o="exceptional":r>=4?o="deep":r>=2?o="moderate":o="shallow",{dimensions:e,dimensionCount:r,maxDimensions:n,depthScore:i,classification:o}}function aSr(t,e){let r=ob.get(t)??[],n=new Set(Dw(e,3)),i=0;if(r.length>0){let u=new Set(Dw(r[0].reasoning,3)),d=new Set([...n].filter(f=>u.has(f))),p=new Set([...n,...u]);i=p.size>0?d.size/p.size:0}let o=eyt(e,3),s=new Set;for(let u of r.slice(0,5)){let d=eyt(u.reasoning,3);s=new Set([...s,...d])}let a=o.size>0&&s.size>0?[...o].filter(u=>!s.has(u)).length/o.size:1,c=i>.7?i:0,l=Hi((1-i)*FS.jaccard_inverse+a*FS.unique_ngrams+(1-c)*FS.template_inverse,0,1);return{jaccardSimilarityToPrevious:he(i),uniqueNGramRatio:he(a),templateProbability:he(c),originalityScore:he(l)}}function cSr(t){let e=t.split(/\s+/).filter(c=>c.length>0),r=e.length,n=r>0?e.reduce((c,l)=>c+l.replace(/[^a-zA-Z]/g,"").length,0)/r:0,i=t.match(iSr)??[],o=r>0?i.length/r:0,s=0;r>=30&&r<=200?s=.8:r>=15&&r<=300?s=.6:r>=5&&(s=.3),n>=4&&n<=7&&(s+=.1),o>0&&o<=.08?s+=.1:o>.15&&(s-=.1);let a=Hi(s,0,1);return{readabilityScore:ne(s),avgWordLength:Math.round(n*10)/10,jargonRatio:he(o),clarityScore:ne(a)}}function lSr(t,e,r,n,i){let o=ob.get(t)??[],s=[],a=!1,c=!1,l=!1,u=0,d,p;if(o.length>0){let f=o[0];d=f.action,p=f.symbol,u=i-f.confidence;let h=o.filter(w=>w.symbol.toLowerCase()===n.toLowerCase()&&Date.now()-w.timestamp<1440*60*1e3);for(let w of h)(r==="buy"&&w.action==="sell"||r==="sell"&&w.action==="buy")&&(a=!0,l=!0,s.push(`Flip-flop: ${r} ${n} after ${w.action} within 24h`));let m=new Set(Dw(f.reasoning,3)),g=new Set(Dw(e,3)),y=[...g].filter(w=>m.has(w)).length,v=new Set([...m,...g]).size,S=v>0?y/v:0;S>.8&&(c=!0,s.push(`Copypasta: ${(S*100).toFixed(0)}% similarity to previous reasoning`)),Math.abs(u)>.4&&s.push(`Confidence swing: ${u>0?"+":""}${(u*100).toFixed(0)}% between consecutive trades`)}return{contradictsPrevious:a,similarToPrevious:c,stanceShift:l,previousTradeAction:d,previousSymbol:p,confidenceDelta:he(u),flags:s}}function eyt(t,e){let r=Dw(t,2),n=new Set;for(let i=0;i<=r.length-e;i++)n.add(r.slice(i,i+e).join(" "));return n}function uj(t){let e=ob.get(t)??[];if(e.length===0)return{tradeCount:0,avgDepth:0,avgOriginality:0,avgClarity:0,integrityViolations:0,trend:"stable"};let r=e.map(c=>lj(c.agentId,"aggregate",c.reasoning,c.action,c.symbol,c.confidence)),n=r.reduce((c,l)=>c+l.depth.depthScore,0)/r.length,i=r.reduce((c,l)=>c+l.originality.originalityScore,0)/r.length,o=r.reduce((c,l)=>c+l.clarity.clarityScore,0)/r.length,s=r.reduce((c,l)=>c+l.crossTrade.flags.length,0),a=Math.floor(r.length/2);if(a>=2){let c=r.slice(a).reduce((p,f)=>p+f.compositeScore,0)/(r.length-a),u=r.slice(0,a).reduce((p,f)=>p+f.compositeScore,0)/a-c,d=u>.05?"improving":u<-.05?"degrading":"stable";return{tradeCount:e.length,avgDepth:ne(n),avgOriginality:ne(i),avgClarity:ne(o),integrityViolations:s,trend:d}}return{tradeCount:e.length,avgDepth:ne(n),avgOriginality:ne(i),avgClarity:ne(o),integrityViolations:s,trend:"stable"}}function c_e(t,e=20){return(ob.get(t)??[]).slice(0,e).map(n=>lj(n.agentId,"query",n.reasoning,n.action,n.symbol,n.confidence))}function tyt(t,e,r,n,i){let o=ob.get(t)??[];o.unshift({agentId:t,reasoning:e,action:r,symbol:n,confidence:i,timestamp:Date.now()}),o.length>cj&&(o.length=cj),ob.set(t,o)}var ryt=new Map,l_e=new Map,nyt=50;function iyt(t){let e=ryt.get(t);return e||(e={pnl:[],sharpe:[],winRate:[],coherence:[],depth:[],hallucinationFree:[],discipline:[],confidence:[],outcomes:[],forensicStructure:[],forensicOriginality:[],forensicClarity:[],forensicIntegrity:[],patternQuality:[]},ryt.set(t,e)),e}function Xc(t,e){t.unshift(e),t.length>nyt&&(t.length=nyt)}function oyt(t,e){let r=iyt(t);e.pnl!==void 0&&Xc(r.pnl,e.pnl),e.sharpe!==void 0&&Xc(r.sharpe,e.sharpe),e.winRate!==void 0&&Xc(r.winRate,e.winRate),e.coherence!==void 0&&Xc(r.coherence,e.coherence),e.depth!==void 0&&Xc(r.depth,e.depth),e.hallucinationFree!==void 0&&Xc(r.hallucinationFree,e.hallucinationFree),e.discipline!==void 0&&Xc(r.discipline,e.discipline),e.confidence!==void 0&&Xc(r.confidence,e.confidence),e.outcome!==void 0&&Xc(r.outcomes,e.outcome),e.forensicStructure!==void 0&&Xc(r.forensicStructure,e.forensicStructure),e.forensicOriginality!==void 0&&Xc(r.forensicOriginality,e.forensicOriginality),e.forensicClarity!==void 0&&Xc(r.forensicClarity,e.forensicClarity),e.forensicIntegrity!==void 0&&Xc(r.forensicIntegrity,e.forensicIntegrity),e.patternQuality!==void 0&&Xc(r.patternQuality,e.patternQuality)}function u_e(t){let e=iyt(t),r=e.coherence.length,n={name:"Financial",weight:.2,components:{pnl:uSr(Qe(e.pnl)),sharpe:dSr(Qe(e.sharpe)),winRate:Qe(e.winRate)},score:0,grade:""};n.score=ne(n.components.pnl*.4+n.components.sharpe*.35+n.components.winRate*.25),n.grade=sb(n.score);let i={name:"Reasoning",weight:.2,components:{coherence:Qe(e.coherence),depth:Qe(e.depth)},score:0,grade:""};i.score=ne(i.components.coherence*.6+i.components.depth*.4),i.grade=sb(i.score);let o={name:"Safety",weight:.15,components:{hallucinationFree:Qe(e.hallucinationFree),discipline:Qe(e.discipline)},score:0,grade:""};o.score=ne(o.components.hallucinationFree*.6+o.components.discipline*.4),o.grade=sb(o.score);let s=e.outcomes,a=pSr(e.confidence,s),c={name:"Calibration",weight:.1,components:{calibration:a},score:ne(a),grade:sb(a)},l={name:"Patterns",weight:.1,components:{patternQuality:Qe(e.patternQuality)},score:ne(Qe(e.patternQuality)),grade:sb(Qe(e.patternQuality))},u=fSr(e.coherence,e.pnl),d={name:"Adaptability",weight:.1,components:{consistency:u},score:ne(u),grade:sb(u)},p={name:"Forensic Quality",weight:.15,components:{structure:Qe(e.forensicStructure),originality:Qe(e.forensicOriginality),clarity:Qe(e.forensicClarity),integrity:Qe(e.forensicIntegrity)},score:0,grade:""};p.score=ne(p.components.structure*.25+p.components.originality*.3+p.components.clarity*.2+p.components.integrity*.25),p.grade=sb(p.score);let f=[n,i,o,c,l,d,p],h=ne(to(f,"score","weight")),m=l_e.get(t)??null,g=m===null?"new":"same",y=mSr(e.coherence,e.forensicStructure);return{agentId:t,pillars:f,compositeScore:h,compositeGrade:sb(h),rank:0,previousRank:m,rankChange:g,trend:y,tradeCount:r,timestamp:new Date().toISOString()}}function d_e(t){let e=[];for(let r of t){let n=u_e(r.agentId);e.push({agentId:r.agentId,agentName:r.name,provider:r.provider,model:r.model,compositeScore:n.compositeScore,compositeGrade:n.compositeGrade,rank:0,rankChange:"same",pillarScores:Object.fromEntries(n.pillars.map(i=>[i.name.toLowerCase().replace(/\s+/g,"_"),i.score])),tradeCount:n.tradeCount,trend:n.trend})}e.sort((r,n)=>n.compositeScore-r.compositeScore);for(let r=0;r<e.length;r++){let n=l_e.get(e[r].agentId);e[r].rank=r+1,n===void 0?e[r].rankChange="new":n<e[r].rank?e[r].rankChange="down":n>e[r].rank?e[r].rankChange="up":e[r].rankChange="same",l_e.set(e[r].agentId,e[r].rank)}return e}function uSr(t){return 1/(1+Math.exp(-t/5))}function dSr(t){return Math.max(0,Math.min(1,(t+2)/5))}function pSr(t,e){if(t.length<5||e.length<5)return .5;let r=t.map((o,s)=>({conf:o,outcome:e[s]?1:0})).filter((o,s)=>s<e.length),n=new Map;for(let o of r){let s=Math.floor(o.conf*10),a=n.get(s)??{sumConf:0,sumOutcome:0,count:0};a.sumConf+=o.conf,a.sumOutcome+=o.outcome,a.count++,n.set(s,a)}let i=0;for(let o of n.values())if(o.count>0){let s=o.sumConf/o.count,a=o.sumOutcome/o.count;i+=o.count/r.length*Math.abs(s-a)}return Math.max(0,Math.min(1,1-i))}function fSr(t,e){if(t.length<10)return .5;let r=Qe(t),n=t.reduce((o,s)=>o+(s-r)**2,0)/t.length,i=Math.sqrt(n);return Math.max(0,Math.min(1,1-i*2))}function mSr(t,e){let r=t.map((a,c)=>a*.5+(e[c]??a)*.5);if(r.length<10)return"stable";let n=Math.floor(r.length/2),i=Qe(r.slice(0,n)),o=Qe(r.slice(n)),s=i-o;return s>.05?"improving":s<-.05?"degrading":"stable"}function sb(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}var Zr=(t,...e)=>{let r=[""];for(let n=0,i=t.length-1;n<i;n++){r[0]+=t[n];let o=Array.isArray(e[n])?e[n].flat(1/0):[e[n]];for(let s=0,a=o.length;s<a;s++){let c=o[s];if(typeof c=="string")jH(c,r);else if(typeof c=="number")r[0]+=c;else{if(typeof c=="boolean"||c===null||c===void 0)continue;if(typeof c=="object"&&c.isEscaped)if(c.callbacks)r.unshift("",c);else{let l=c.toString();l instanceof Promise?r.unshift("",l):r[0]+=l}else c instanceof Promise?r.unshift("",c):jH(c.toString(),r)}}}return r[0]+=t.at(-1),r.length===1?"callbacks"in r?HT(Udt(HT(r[0],r.callbacks))):HT(r[0]):$dt(r,r.callbacks)};var q9=new un,H4=[],syt=200,dj=new Set;function ayt(t,e,r){let n={type:t,agentId:r,data:e,timestamp:new Date().toISOString()};H4.unshift(n),H4.length>syt&&(H4.length=syt);let i=new TextEncoder().encode(`data: ${JSON.stringify(n)}

`);for(let o of dj)o.write(i).catch(()=>dj.delete(o))}q9.get("/data",t=>{let e=WT(),r=d_e(e),n=e.map(i=>({agentId:i.agentId,...uj(i.agentId)}));return t.json({ok:!0,version:"v11",benchmark:{name:"MoltApp: Agentic Stock Trading Benchmark",version:"11.0.0",website:"https://www.patgpt.us",huggingface:"https://huggingface.co/datasets/patruff/molt-benchmark",pillars:[{name:"Financial",weight:.2,description:"P&L, Sharpe ratio, win rate"},{name:"Reasoning",weight:.2,description:"Coherence & analytical depth"},{name:"Safety",weight:.15,description:"Hallucination-free rate, discipline compliance"},{name:"Calibration",weight:.1,description:"Confidence-outcome correlation"},{name:"Patterns",weight:.1,description:"Fallacy detection, vocabulary sophistication"},{name:"Adaptability",weight:.1,description:"Cross-regime consistency"},{name:"Forensic Quality",weight:.15,description:"Structure, originality, clarity, integrity"}]},leaderboard:r,forensicSummaries:n,recentEvents:H4.slice(0,20),timestamp:new Date().toISOString()})});q9.get("/forensic/:agentId",t=>{let e=t.req.param("agentId"),r=Math.min(parseInt(t.req.query("limit")??"20",10),50),n=uj(e),i=c_e(e,r),o=u_e(e);return t.json({ok:!0,agentId:e,health:n,scoreCard:o,forensicReports:i})});q9.get("/export",t=>{let e=WT(),r=[];for(let n of e){let i=c_e(n.agentId,100);for(let o of i)r.push(JSON.stringify({agent_id:o.agentId,round_id:o.roundId,action:o.tradeAction,symbol:o.symbol,composite_score:o.compositeScore,grade:o.grade,structure_score:o.structural.structureScore,depth_score:o.depth.depthScore,depth_classification:o.depth.classification,originality_score:o.originality.originalityScore,template_probability:o.originality.templateProbability,clarity_score:o.clarity.clarityScore,cross_trade_flags:o.crossTrade.flags,contradicts_previous:o.crossTrade.contradictsPrevious,dimensions_covered:o.depth.dimensionCount,sentence_count:o.structural.sentenceCount,quantitative_claims:o.structural.quantitativeClaimCount,hedge_words:o.structural.hedgeWordCount,causal_connectors:o.structural.causalConnectorCount}))}return t.header("Content-Type","application/jsonl"),t.header("Content-Disposition",`attachment; filename="moltapp-forensic-${new Date().toISOString().split("T")[0]}.jsonl"`),t.body(r.join(`
`))});q9.get("/stream",t=>{let{readable:e,writable:r}=new TransformStream,n=r.getWriter();dj.add(n);let i=H4.slice(0,10).reverse();for(let o of i)n.write(new TextEncoder().encode(`data: ${JSON.stringify(o)}

`)).catch(()=>{});return t.req.raw.signal.addEventListener("abort",()=>{dj.delete(n),n.close().catch(()=>{})}),new Response(e,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});q9.get("/",t=>{let e=WT(),r=d_e(e),n=e.map(u=>({agentId:u.agentId,...uj(u.agentId)})),i=u=>u==="up"?'<span style="color:#00ff88">&#x25B2;</span>':u==="down"?'<span style="color:#ff4444">&#x25BC;</span>':u==="new"?'<span style="color:#ffaa00">NEW</span>':'<span style="color:#555">&mdash;</span>',o=u=>u==="improving"?'<span class="trend-badge improving">&#x2197; Improving</span>':u==="degrading"?'<span class="trend-badge degrading">&#x2198; Degrading</span>':'<span class="trend-badge stable">&mdash; Stable</span>',s=r.map((u,d)=>`
    <tr>
      <td><span class="rank">#${d+1}</span> ${i(u.rankChange)}</td>
      <td><strong>${u.agentName}</strong><br><small class="model">${u.model}</small></td>
      <td>${u.provider}</td>
      <td><span class="score-pill ${u.pillarScores.financial>=.6?"score-good":"score-mid"}">${(u.pillarScores.financial??0).toFixed(2)}</span></td>
      <td><span class="score-pill ${u.pillarScores.reasoning>=.6?"score-good":"score-mid"}">${(u.pillarScores.reasoning??0).toFixed(2)}</span></td>
      <td><span class="score-pill ${u.pillarScores.safety>=.7?"score-good":"score-mid"}">${(u.pillarScores.safety??0).toFixed(2)}</span></td>
      <td><span class="score-pill ${u.pillarScores.calibration>=.5?"score-good":"score-mid"}">${(u.pillarScores.calibration??0).toFixed(2)}</span></td>
      <td><span class="score-pill ${u.pillarScores.forensic_quality>=.5?"score-good":"score-mid"}">${(u.pillarScores.forensic_quality??0).toFixed(2)}</span></td>
      <td>${u.tradeCount}</td>
      <td>${o(u.trend)}</td>
      <td>
        <strong class="composite">${u.compositeScore.toFixed(2)}</strong>
        <span class="grade grade-${u.compositeGrade.replace("+","plus").replace("-","minus")}">${u.compositeGrade}</span>
      </td>
    </tr>`).join(""),a=n.map(u=>`
    <div class="forensic-card">
      <div class="forensic-agent">${u.agentId}</div>
      <div class="forensic-stats">
        <div class="fstat"><span class="flabel">Trades</span><span class="fval">${u.tradeCount}</span></div>
        <div class="fstat"><span class="flabel">Depth</span><span class="fval">${u.avgDepth.toFixed(2)}</span></div>
        <div class="fstat"><span class="flabel">Originality</span><span class="fval">${u.avgOriginality.toFixed(2)}</span></div>
        <div class="fstat"><span class="flabel">Clarity</span><span class="fval">${u.avgClarity.toFixed(2)}</span></div>
        <div class="fstat"><span class="flabel">Violations</span><span class="fval ${u.integrityViolations>0?"fval-warn":""}">${u.integrityViolations}</span></div>
        <div class="fstat"><span class="flabel">Trend</span><span class="fval">${u.trend}</span></div>
      </div>
    </div>`).join(""),c=H4.slice(0,8).map(u=>`
    <div class="event-entry">
      <span class="event-type">${u.type}</span>
      ${u.agentId?`<span class="event-agent">${u.agentId}</span>`:""}
      <span class="event-time">${new Date(u.timestamp).toLocaleTimeString()}</span>
    </div>`).join(""),l=Zr`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MoltApp AI Trading Benchmark v11 | 7-Pillar Scoring + Forensic Quality</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Inter', -apple-system, sans-serif; background: #06060c; color: #d0d0d0; }
    .container { max-width: 1400px; margin: 0 auto; padding: 16px; }
    .header { text-align: center; padding: 20px 0 8px; }
    h1 { font-size: 2rem; color: #00ff88; display: inline; }
    .version-badge { background: linear-gradient(135deg, #00ff88, #00aaff); color: #000; font-size: 0.65rem; font-weight: 800; padding: 3px 10px; border-radius: 12px; margin-left: 10px; letter-spacing: 1px; vertical-align: middle; }
    .official { background: linear-gradient(135deg, #00ff88, #00aaff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-size: 0.65rem; text-transform: uppercase; letter-spacing: 2px; display: block; margin-top: 4px; }
    .subtitle { text-align: center; color: #666; margin-bottom: 16px; font-size: 0.88rem; }
    .live-dot { width: 8px; height: 8px; background: #00ff88; border-radius: 50%; display: inline-block; margin-right: 6px; animation: pulse 2s infinite; }
    @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.3; } }
    .badge-row { display: flex; gap: 8px; justify-content: center; margin-bottom: 18px; flex-wrap: wrap; }
    .badge { background: #111122; border: 1px solid #222; border-radius: 6px; padding: 5px 12px; font-size: 0.75rem; color: #00ff88; text-decoration: none; transition: all 0.2s; }
    .badge:hover { background: #1a1a3e; }
    .badge-hf { border-color: #ffaa00; color: #ffaa00; }
    .section { margin-bottom: 28px; }
    .section h2 { font-size: 1.1rem; margin-bottom: 10px; color: #fff; border-bottom: 1px solid #222; padding-bottom: 5px; }
    .pillar-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(170px, 1fr)); gap: 10px; margin-bottom: 18px; }
    .pillar-card { background: #0d0d1a; border: 1px solid #1a1a2e; border-radius: 8px; padding: 14px; text-align: center; }
    .pillar-card h3 { font-size: 0.7rem; color: #888; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 4px; }
    .pillar-card .pval { font-size: 1.3rem; font-weight: 700; color: #00ff88; }
    .pillar-card .pweight { font-size: 0.6rem; color: #444; }
    .pillar-card .pdesc { font-size: 0.65rem; color: #555; margin-top: 3px; }
    table { width: 100%; border-collapse: collapse; }
    th, td { padding: 7px 9px; text-align: left; border-bottom: 1px solid #111122; }
    th { background: #0d0d1a; color: #00ff88; font-weight: 600; font-size: 0.72rem; text-transform: uppercase; }
    td { font-size: 0.8rem; }
    tr:hover { background: #0d0d1a; }
    .rank { color: #ffaa00; font-weight: 700; font-size: 1rem; }
    .composite { color: #00ff88; font-size: 1rem; }
    .grade { display: inline-block; padding: 1px 7px; border-radius: 4px; font-size: 0.72rem; font-weight: 700; margin-left: 6px; background: #1a1a3e; color: #8888ff; }
    .model { color: #555; font-size: 0.72rem; }
    .score-pill { padding: 2px 7px; border-radius: 4px; font-size: 0.75rem; font-weight: 600; }
    .score-good { background: #00221a; color: #00ff88; }
    .score-mid { background: #221b00; color: #ffaa00; }
    .score-bad { background: #220000; color: #ff4444; }
    .trend-badge { font-size: 0.7rem; padding: 2px 6px; border-radius: 4px; }
    .trend-badge.improving { background: #00221a; color: #00ff88; }
    .trend-badge.degrading { background: #220000; color: #ff4444; }
    .trend-badge.stable { background: #111122; color: #666; }
    .forensic-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 12px; }
    .forensic-card { background: #0d0d1a; border: 1px solid #1a1a2e; border-radius: 8px; padding: 14px; }
    .forensic-agent { font-weight: 700; color: #fff; font-size: 0.9rem; margin-bottom: 8px; }
    .forensic-stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 6px; }
    .fstat { text-align: center; }
    .flabel { display: block; font-size: 0.6rem; color: #555; text-transform: uppercase; }
    .fval { font-size: 1rem; font-weight: 700; color: #00aaff; }
    .fval-warn { color: #ff4444; }
    .events-list { max-height: 200px; overflow-y: auto; }
    .event-entry { padding: 5px 10px; border-bottom: 1px solid #111; font-size: 0.78rem; display: flex; gap: 8px; }
    .event-type { color: #00ff88; font-weight: 600; min-width: 120px; }
    .event-agent { color: #aaa; }
    .event-time { color: #444; margin-left: auto; }
    .footer { text-align: center; color: #333; font-size: 0.72rem; margin-top: 20px; padding: 16px; border-top: 1px solid #111122; }
    @media (max-width: 768px) { .container { padding: 8px; } table { font-size: 0.7rem; } th, td { padding: 4px 5px; } }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>MoltApp AI Trading Benchmark</h1>
      <span class="version-badge">v11</span>
      <span class="official">Industry-Standard AI Finance Benchmark &mdash; 7-Pillar Scoring</span>
    </div>
    <p class="subtitle"><span class="live-dot"></span>Live evaluation of AI agents trading real tokenized stocks on Solana &mdash; with forensic reasoning analysis</p>

    <div class="badge-row">
      <a href="https://huggingface.co/datasets/patruff/molt-benchmark" class="badge badge-hf" target="_blank">HuggingFace Dataset</a>
      <a href="https://www.patgpt.us" class="badge" target="_blank">www.patgpt.us</a>
      <a href="/benchmark-v11/data" class="badge">API (JSON)</a>
      <a href="/benchmark-v11/export" class="badge">Export (JSONL)</a>
      <a href="/benchmark-v11/stream" class="badge">Live Stream (SSE)</a>
      <a href="/api/v1/brain-feed" class="badge">Brain Feed</a>
    </div>

    <div class="section">
      <h2>7-Pillar Scoring Framework</h2>
      <div class="pillar-grid">
        <div class="pillar-card">
          <h3>Financial</h3>
          <div class="pval">20%</div>
          <div class="pdesc">P&L, Sharpe Ratio, Win Rate</div>
        </div>
        <div class="pillar-card">
          <h3>Reasoning</h3>
          <div class="pval">20%</div>
          <div class="pdesc">Coherence & Analytical Depth</div>
        </div>
        <div class="pillar-card">
          <h3>Safety</h3>
          <div class="pval">15%</div>
          <div class="pdesc">Hallucination-Free & Discipline</div>
        </div>
        <div class="pillar-card">
          <h3>Calibration</h3>
          <div class="pval">10%</div>
          <div class="pdesc">Confidence-Outcome Correlation</div>
        </div>
        <div class="pillar-card">
          <h3>Patterns</h3>
          <div class="pval">10%</div>
          <div class="pdesc">Fallacy Detection & Vocabulary</div>
        </div>
        <div class="pillar-card">
          <h3>Adaptability</h3>
          <div class="pval">10%</div>
          <div class="pdesc">Cross-Regime Consistency</div>
        </div>
        <div class="pillar-card" style="border-color: #00aaff;">
          <h3 style="color: #00aaff;">Forensic Quality</h3>
          <div class="pval" style="color: #00aaff;">15%</div>
          <div class="pdesc">Structure, Originality, Clarity, Integrity</div>
        </div>
      </div>
    </div>

    <div class="section">
      <h2>Agent Leaderboard</h2>
      <table>
        <thead>
          <tr>
            <th>Rank</th>
            <th>Agent</th>
            <th>Provider</th>
            <th>Financial</th>
            <th>Reasoning</th>
            <th>Safety</th>
            <th>Calibration</th>
            <th>Forensic</th>
            <th>Trades</th>
            <th>Trend</th>
            <th>Composite</th>
          </tr>
        </thead>
        <tbody>
          ${s||'<tr><td colspan="11" style="text-align:center;color:#444;">No trades yet &mdash; run a trading round to populate</td></tr>'}
        </tbody>
      </table>
    </div>

    <div class="section">
      <h2>Forensic Quality Analysis</h2>
      <div class="forensic-grid">
        ${a||'<div class="forensic-card"><div class="forensic-agent" style="color:#555;">Forensic data will appear after trading rounds</div></div>'}
      </div>
    </div>

    <div class="section">
      <h2><span class="live-dot"></span>Recent Benchmark Events</h2>
      <div class="events-list">
        ${c||'<div class="event-entry"><span class="event-type" style="color:#555;">Waiting for trading activity...</span></div>'}
      </div>
    </div>

    <div class="footer">
      <strong>MoltApp AI Trading Benchmark v11</strong> &mdash; 7-Pillar Scoring with Forensic Quality Analysis<br>
      Colosseum Agent Hackathon 2026 &mdash; Every trade requires reasoning. No black-box trades.<br>
      <small>Data: <a href="https://huggingface.co/datasets/patruff/molt-benchmark" style="color:#00aaff;">HuggingFace</a> &mdash; Website: <a href="https://www.patgpt.us" style="color:#00aaff;">www.patgpt.us</a></small>
    </div>
  </div>

  <script>
    // SSE live updates
    const evtSource = new EventSource('/benchmark-v11/stream');
    evtSource.onmessage = (event) => {
      try {
        const data = JSON.parse(event.data);
        document.title = 'MoltApp v11 | ' + data.type + ' | ' + new Date().toLocaleTimeString();
      } catch {}
    };
    // Auto-refresh every 45 seconds
    setInterval(() => { location.reload(); }, 45000);
  </script>
</body>
</html>`;return t.html(l)});var p_e=new Map,hSr=100;function gSr(t,e){let r=p_e.get(t)??[];r.push(e),r.length>hSr&&r.shift(),p_e.set(t,r)}function ySr(t){let e=p_e.get(t)??[];if(e.length<5)return{mean:.5,stdDev:.2,count:e.length};let r=e.reduce((i,o)=>i+o,0)/e.length,n=e.reduce((i,o)=>i+(o-r)**2,0)/e.length;return{mean:r,stdDev:Math.sqrt(n),count:e.length}}var bSr=["market_price_feed","jupiter_price_api","24h_price_change","trading_volume","portfolio_state","news_feed","technical_indicators","fundamentals","market_sentiment","sector_analysis","market_data","earnings_data","analyst_consensus","options_flow","insider_trading","macro_indicators","fed_policy","correlation_analysis"],vSr=[/\brisk\b/i,/\bdownside\b/i,/\bvolatil/i,/\bdrawdown\b/i,/\bstop[- ]?loss\b/i,/\bhedg/i,/\bexposure\b/i,/\bloss\b/i,/\bworst[- ]?case\b/i,/\bprotect/i,/\buncertain/i,/\bcaution/i,/\bconcern/i,/\bdefensive/i];function cyt(t,e,r,n){let i=[],o=[],s=[],a=t.confidence>1?t.confidence/100:t.confidence,c=_Sr(t,i);s.push({name:"structural_validity",score:c,weight:.15,passed:c>=.5,detail:c>=.8?"All required fields present":"Missing or invalid fields detected"});let l=SSr(t.reasoning,i,o);s.push({name:"reasoning_depth",score:l,weight:.2,passed:l>=.3,detail:l>=.7?"Substantive multi-factor reasoning":l>=.4?"Adequate but shallow reasoning":"Insufficient reasoning depth"});let u=xSr(t,i,o);s.push({name:"source_verification",score:u,weight:.1,passed:u>=.3,detail:u>=.7?"Sources are plausible and specific":"Source claims need improvement"});let d=wSr(t.reasoning,r,i);s.push({name:"price_grounding",score:d,weight:.15,passed:d>=.4,detail:d>=.7?"Price references match market data":"Price claims may be inaccurate"});let p=ASr(t.reasoning,i);s.push({name:"temporal_consistency",score:p,weight:.1,passed:p>=.3,detail:p>=.7?"Reasoning references current conditions":"Temporal context could be stronger"});let f=ESr(e,a,t,i,o);s.push({name:"confidence_calibration",score:f,weight:.1,passed:f>=.3,detail:f>=.7?"Confidence is within historical norms":"Confidence may be miscalibrated"});let h=TSr(t,i);s.push({name:"action_reasoning_alignment",score:h,weight:.15,passed:h>=.3,detail:h>=.7?"Reasoning supports the chosen action":"Possible misalignment between reasoning and action"});let m=RSr(t.reasoning,t.action,i,o);s.push({name:"risk_awareness",score:m,weight:.05,passed:!0,detail:m>=.5?"Reasoning acknowledges relevant risks":"Limited risk awareness in reasoning"});let g=to(s,"score","weight"),y=he(g),v=ISr(y),w=!s.some(E=>!E.passed&&E.weight>=.15)&&y>=.25;return gSr(e,a),{valid:w,qualityScore:y,grade:v,dimensions:s,issues:i,suggestions:o.slice(0,5),validatedAt:new Date().toISOString()}}function _Sr(t,e){let r=1;return(!t.action||!["buy","sell","hold"].includes(t.action))&&(e.push({severity:"error",dimension:"structural_validity",message:"Missing or invalid action field"}),r-=.4),(!t.symbol||t.symbol.length===0)&&(e.push({severity:"error",dimension:"structural_validity",message:"Missing symbol field"}),r-=.3),(!t.reasoning||t.reasoning.length<10)&&(e.push({severity:"error",dimension:"structural_validity",message:"Missing or too-short reasoning"}),r-=.3),typeof t.confidence!="number"&&(e.push({severity:"warning",dimension:"structural_validity",message:"Confidence is not a number"}),r-=.1),t.action!=="hold"&&(typeof t.quantity!="number"||t.quantity<=0)&&(e.push({severity:"warning",dimension:"structural_validity",message:"Non-hold action with invalid quantity"}),r-=.1),t.timestamp||(e.push({severity:"info",dimension:"structural_validity",message:"Missing timestamp"}),r-=.05),Math.max(0,r)}function SSr(t,e,r){let i=t.split(/\s+/).filter(Boolean).length,s=ai(t).length,a=0;i>=100?a+=.3:i>=50?a+=.25:i>=20?a+=.15:(e.push({severity:"warning",dimension:"reasoning_depth",message:`Reasoning is only ${i} words \u2014 substantive analysis needs 50+ words`}),r.push("Expand reasoning to include multiple analytical angles (price action, fundamentals, portfolio context)")),s>=5?a+=.2:s>=3?a+=.15:s>=2&&(a+=.1);let l=[{pattern:/price|valuation|\$\d|\bP\/E\b/i,name:"price_analysis"},{pattern:/volume|liquidity|traded/i,name:"volume_analysis"},{pattern:/trend|momentum|moving\s+average|breakout/i,name:"technical_analysis"},{pattern:/fundamental|earnings|revenue|growth|margin/i,name:"fundamental_analysis"},{pattern:/portfolio|position|allocation|exposure/i,name:"portfolio_context"},{pattern:/risk|downside|protect|volatile/i,name:"risk_consideration"},{pattern:/sector|industry|market|macro|economy/i,name:"macro_context"},{pattern:/news|event|catalyst|announcement/i,name:"catalyst_awareness"}].filter(p=>p.pattern.test(t)).length;a+=Math.min(.3,l*.06),l<2&&r.push("Include multiple analytical angles: price analysis, fundamentals, portfolio context, risk assessment");let u=(t.match(/\d+\.?\d*%|\$\d+\.?\d*|\d+\.\d+/g)??[]).length;return u>=3?a+=.15:u>=1?a+=.08:r.push("Include specific numbers and percentages to ground your reasoning in data"),(t.match(/\bbecause\b|\btherefore\b|\bdue\s+to\b|\bsince\b|\bas\s+a\s+result\b|\bconsequently\b|\bhence\b|\bthus\b/gi)??[]).length>=2&&(a+=.05),Math.min(1,a)}function xSr(t,e,r){let n=t.sources??[];if(n.length===0)return e.push({severity:"warning",dimension:"source_verification",message:"No data sources cited"}),r.push("Cite specific data sources used in analysis (e.g., 'market_price_feed', 'news_feed', 'technical_indicators')"),.2;let i=.4,o=n.filter(s=>bSr.some(a=>s.toLowerCase().includes(a.toLowerCase())||a.toLowerCase().includes(s.toLowerCase()))).length;i+=Math.min(.3,o/Math.max(1,n.length)*.3),n.length>=3?i+=.2:n.length>=2&&(i+=.1);for(let s of n)s.length>60&&e.push({severity:"info",dimension:"source_verification",message:`Unusually long source name: ${s.slice(0,40)}...`});return Math.min(1,i)}function wSr(t,e,r){let n=new Map;for(let l of e)n.set(l.symbol.toLowerCase(),l.price),n.set(l.symbol.replace(/x$/i,"").toLowerCase(),l.price);if(e.length===0)return .6;let i=.7,o=/(\w+x?)\s+(?:is\s+)?(?:at|priced?\s+at|trading\s+at|currently)\s+\$?([\d,]+\.?\d*)/gi,s,a=0,c=0;for(;(s=o.exec(t))!==null;){let l=s[1].toLowerCase(),u=parseFloat(s[2].replace(/,/g,"")),d=n.get(l);if(a++,d!==void 0&&u>0){let p=Math.abs(u-d)/d;p<=.05?c++:p<=.2?c+=.5:(r.push({severity:"warning",dimension:"price_grounding",message:`Price claim for ${l.toUpperCase()} ($${u.toFixed(2)}) deviates ${(p*100).toFixed(0)}% from actual ($${d.toFixed(2)})`,evidence:s[0]}),i-=.15)}}return a>0&&c/a>=.8&&(i+=.2),a===0&&(i=.6),Hr(i)}function ASr(t,e){let r=.5,n=[{pattern:/\bcurrent(ly)?\b|\bright\s+now\b|\btoday\b/i,weight:.15},{pattern:/\brecent(ly)?\b|\blast\s+(week|month|day|session)\b/i,weight:.1},{pattern:/\b24h\b|\b24-?hour\b|\bintraday\b/i,weight:.1},{pattern:/\btrending\b|\bmoving\b|\bshifting\b/i,weight:.05},{pattern:/\bsince\s+(yesterday|last|the)\b/i,weight:.1}];for(let{pattern:i,weight:o}of n)i.test(t)&&(r+=o);return/\d/.test(t)||(e.push({severity:"info",dimension:"temporal_consistency",message:"Reasoning contains no numbers \u2014 may not be grounded in current data"}),r-=.1),Hr(r)}function ESr(t,e,r,n,i){let o=ySr(t),s=.7;if(o.count>=10){let a=Math.abs(e-o.mean)/Math.max(.01,o.stdDev);a>3?(n.push({severity:"warning",dimension:"confidence_calibration",message:`Confidence ${(e*100).toFixed(0)}% is ${a.toFixed(1)} standard deviations from agent's mean of ${(o.mean*100).toFixed(0)}%`}),s-=.3):a>2&&(n.push({severity:"info",dimension:"confidence_calibration",message:"Confidence is notably different from agent's historical average"}),s-=.1)}return r.action==="hold"&&e>.9&&(n.push({severity:"info",dimension:"confidence_calibration",message:"Very high confidence (>90%) on a hold action \u2014 consider why confidence is so high if no trade is being made"}),s-=.1),r.action!=="hold"&&e<.2&&(n.push({severity:"warning",dimension:"confidence_calibration",message:"Trading with very low confidence (<20%) \u2014 consider whether this trade should be a hold instead"}),i.push("Low-confidence trades should include strong reasoning for why the trade is being taken despite uncertainty"),s-=.2),Hr(s)}function TSr(t,e){let r=t.reasoning.toLowerCase(),n=.5,i=(r.match(/\bbullish\b|\bupside\b|\bgrowth\b|\bundervalued\b|\bbreakout\b|\brally\b|\baccumulate\b|\boptimistic\b/g)??[]).length,o=(r.match(/\bbearish\b|\bdownside\b|\bovervalued\b|\bbreakdown\b|\bcorrection\b|\bpessimistic\b|\bdeclining\b|\bweakness\b/g)??[]).length,s=(r.match(/\buncertain\b|\bwait\b|\bcaution\b|\bsideline\b|\bmixed\b|\binsufficient\b|\bpatien/g)??[]).length;return t.action==="buy"?i>o?n=.85:i===o&&i>0?n=.5:o>i+1&&(/contrarian|reversion|oversold|bounce|discount/i.test(r)?n=.7:(e.push({severity:"warning",dimension:"action_reasoning_alignment",message:"Bearish reasoning but choosing to buy"}),n=.25)):t.action==="sell"?o>i?n=.85:o===i&&o>0?n=.5:i>o+1&&(/profit|take\s+gains|rebalance|trim|overexposed/i.test(r)?n=.7:(e.push({severity:"warning",dimension:"action_reasoning_alignment",message:"Bullish reasoning but choosing to sell"}),n=.25)):s>0||i<=1&&o<=1?n=.8:(i>2||o>2)&&(/guardrail|limit|buffer|risk\s+management/i.test(r)?n=.75:(e.push({severity:"info",dimension:"action_reasoning_alignment",message:"Strong directional signals but choosing to hold"}),n=.45)),n}function RSr(t,e,r,n){let i=vSr.filter(o=>o.test(t)).length;return e==="hold"?Math.min(1,.5+i*.15):i===0?(r.push({severity:"info",dimension:"risk_awareness",message:"Reasoning does not mention any risk factors"}),n.push("Include risk awareness in reasoning \u2014 what could go wrong with this trade?"),.2):i>=3?1:i>=2?.8:.5}function ISr(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}var CSr=[{pattern:/\bundervalued\b|\bintrinsic\s+value\b|\bmargin\s+of\s+safety\b|\bfundamental\s+strength\b|\bP\/E\b|\bearnings\b.*\bcheap\b/i,strategy:"value_investing",weight:1},{pattern:/\bmomentum\b|\btrend\b|\bbreakout\b|\brally\b|\bpositive\s+momentum\b|\bcontinuing\s+to\s+rise\b/i,strategy:"momentum_trading",weight:1},{pattern:/\bmean\s+reversion\b|\boversold\b|\bbounce\b|\bpullback\b|\brevert/i,strategy:"mean_reversion",weight:1},{pattern:/\bcontrarian\b|\bagainst\s+the\s+crowd\b|\boverreact/i,strategy:"contrarian",weight:1},{pattern:/\bgrowth\b|\bexpand/i,strategy:"growth_investing",weight:.6},{pattern:/\brisk\s+manag/i,strategy:"risk_management",weight:.8},{pattern:/\bindex\b|\bSPY\b|\bQQQ\b|\btrack/i,strategy:"index_tracking",weight:.5},{pattern:/\bevent\b|\bcatalyst\b|\bannouncement\b|\bearnings\s+report\b/i,strategy:"event_driven",weight:.8},{pattern:/\bpattern\b|\bsupport\b|\bresistance\b|\bchannel\b|\bMACD\b|\bRSI\b/i,strategy:"technical_pattern",weight:.9},{pattern:/\brebalanc/i,strategy:"portfolio_rebalancing",weight:.9}];function NSr(t){let e="value_investing",r=0;for(let{pattern:n,strategy:i,weight:o}of CSr){let a=(t.match(n)??[]).length*o;a>r&&(r=a,e=i)}return e}function OSr(t){let e=/\bearnings\b|\brevenue\b|\bP\/E\b|\bfundamental\b|\bbalance\s+sheet\b|\bmargin\b|\bvaluation\b/i.test(t),r=/\btechnical\b|\bRSI\b|\bMACD\b|\bmoving\s+average\b|\bsupport\b|\bresistance\b|\bchart\b|\bpattern\b/i.test(t),n=/\d+\.?\d*%/.test(t)&&/\$\d+/.test(t),i=/\bbelieve\b|\bfeel\b|\bsense\b|\bintuition\b|\bnarrative\b/i.test(t);return[e,r,n,i].filter(Boolean).length>=2?"mixed":e?"fundamental":r?"technical":n?"quantitative":i?"narrative":"mixed"}function PSr(t){return/\bif\b.*\bthen\b|\btherefore\b|\bimplies\b|\bmust\s+be\b|\bconsequently\b/i.test(t)?"deductive":/\bhistorically\b|\btends\s+to\b|\bpattern\b|\bbased\s+on\s+past\b|\busually\b/i.test(t)?"inductive":/\blikely\s+because\b|\bbest\s+explanation\b|\bsuggests\s+that\b|\bprobably\b/i.test(t)?"abductive":/\bsimilar\s+to\b|\blike\s+when\b|\breminds\b|\banalog/i.test(t)?"analogical":/\bmy\s+rules?\b|\blimit\b|\bthreshold\b|\bpolicy\b|\bguardrail\b/i.test(t)?"rule_based":"mixed"}function kSr(t){let e=(t.match(/\d+\.?\d*%|\$\d+\.?\d*|\d+\.\d{2,}/g)??[]).length,r=(t.match(/\bfeel\b|\bsense\b|\bappear\b|\bseem\b/gi)??[]).length;return e>=3&&r<=1?"quantitative":e>=1&&r>=1?"mixed":r>=2&&e===0?"qualitative":e===0&&r===0?"anecdotal":"mixed"}function DSr(t){return/\babove\b.*%|\bbelow\b.*%|\bexceeds\b|\bthreshold\b|\bcriteria\b/i.test(t)?"threshold_based":/\bcompared\s+to\b|\brelative\b|\bversus\b|\bbetter\s+than\b/i.test(t)?"comparative":/\brisk.?reward\b|\brisk.?adjusted\b|\bSharpe\b|\bdownside\s+protection\b/i.test(t)?"risk_adjusted":/\bstrongly\s+believe\b|\bconviction\b|\bhigh\s+confidence\b|\bcertain\b/i.test(t)?"conviction_based":/\brule\b|\bpolicy\b|\balways\b|\bnever\b|\bguardrail\b/i.test(t)?"rule_following":"mixed"}var MSr=[{type:"anchoring_bias",pattern:/\bthe\s+key\s+(number|price|level)\b|\banchored\s+to\b|\bfocusing\s+on\s+the\s+\$?\d/i,severity:"low"},{type:"recency_bias",pattern:/\bjust\s+(yesterday|today|recently)\b.*\b(therefore|so|hence)\b/i,severity:"medium"},{type:"confirmation_bias",pattern:/\b(as\s+I\s+expected|confirms\s+my|validates\s+my|as\s+predicted)\b/i,severity:"medium"},{type:"loss_aversion",pattern:/\bcan't\s+afford\s+to\s+lose\b|\bavoid\s+losses?\s+at\s+all\s+costs\b|\bnever\s+sell\s+at\s+a\s+loss\b/i,severity:"medium"},{type:"overconfidence",pattern:/\bdefinitely\s+will\b|\bguaranteed\b|\bcertain\s+to\b|\bno\s+doubt\b|\bimpossible\s+to\s+fail\b/i,severity:"high"},{type:"herd_mentality",pattern:/\beveryone\s+is\s+(buying|selling)\b|\bfollow\s+the\s+(market|crowd)\b|\bpopular\s+opinion\b/i,severity:"low"},{type:"sunk_cost_fallacy",pattern:/\balready\s+invested\b|\btoo\s+deep\b|\bcan't\s+sell\s+now\s+after\b/i,severity:"high"},{type:"gambler_fallacy",pattern:/\bdue\s+for\s+a\b|\bcan't\s+keep\s+(falling|rising)\s+forever\b|\bhas\s+to\s+reverse\b/i,severity:"medium"},{type:"availability_bias",pattern:/\bremember\s+when\b|\blast\s+time\s+this\s+happened\b|\bI've\s+seen\s+this\s+before\b/i,severity:"low"},{type:"framing_effect",pattern:/\bonly\s+\d+%\s+down\b|\bjust\s+a\s+small\s+loss\b|\btiny\s+allocation\b/i,severity:"low"}];function LSr(t){let e=[];for(let r of MSr){let n=t.match(r.pattern);n&&e.push({type:r.type,evidence:n[0],severity:r.severity})}return e}function BSr(t,e,r){let n=1,i=gr(t);i>=100&&n++,i>=200&&n++;let s=[/price|valuation/i,/volume|liquidity/i,/trend|momentum/i,/fundamental|earnings/i,/risk|downside/i,/sector|macro/i,/catalyst|event/i,/portfolio|allocation/i].filter(c=>c.test(t)).length;return s>=4&&n++,s>=6&&n++,(r==="deductive"||e==="quantitative")&&(n=Math.min(5,n+1)),(t.match(/\d+\.?\d*%|\$\d+\.?\d*/g)??[]).length>=5&&(n=Math.min(5,n+1)),Math.min(5,Math.max(1,n))}var $Sr=[{pattern:/\bvaluation\b|\bP\/E\b|\bprice.to.earnings\b/i,theme:"valuation"},{pattern:/\bgrowth\b|\bexpansion\b|\bscaling\b/i,theme:"growth"},{pattern:/\bdividend\b|\byield\b|\bincome\b/i,theme:"income"},{pattern:/\bmomentum\b|\btrend\b|\btechnical\b/i,theme:"momentum"},{pattern:/\brisk\b|\bvolatility\b|\bdrawdown\b/i,theme:"risk"},{pattern:/\bportfolio\b|\ballocation\b|\bdiversif/i,theme:"portfolio"},{pattern:/\bmacro\b|\beconomy\b|\bfed\b|\binterest\s+rate\b/i,theme:"macro"},{pattern:/\bearnings\b|\brevenue\b|\bprofit\b/i,theme:"earnings"},{pattern:/\bnews\b|\bevent\b|\bcatalyst\b/i,theme:"catalyst"},{pattern:/\bsentiment\b|\bfear\b|\bgreed\b/i,theme:"sentiment"},{pattern:/\bsector\b|\bindustry\b|\bpeer\b/i,theme:"sector"},{pattern:/\bliquidity\b|\bvolume\b|\bmarket\s+depth\b/i,theme:"liquidity"}];function USr(t){return $Sr.filter(({pattern:e})=>e.test(t)).map(({theme:e})=>e)}function FSr(t,e,r,n,i,o){let s=t.slice(0,3).toUpperCase(),a=e.slice(0,3).toUpperCase(),c=r.slice(0,3).toUpperCase(),l=n.slice(0,3).toUpperCase(),u=i.slice(0,3).toUpperCase();return`${s}-${a}-${c}-${l}-${u}-L${o}`}function lyt(t,e){let r=NSr(t),n=OSr(t),i=PSr(t),o=kSr(t),s=DSr(t),a=LSr(t),c=BSr(t,n,i),l=USr(t),u=FSr(r,n,i,o,s,c),d=[r!=="value_investing"?1:.5,n!=="mixed"?1:.5,i!=="mixed"?1:.5,o!=="mixed"?1:.5,s!=="mixed"?1:.5].reduce((f,h)=>f+h,0),p=Math.min(1,d/5+l.length*.05);return{strategy:r,analyticalMethod:n,reasoningStructure:i,evidenceType:o,decisionFramework:s,cognitivePatterns:a,sophisticationLevel:c,themes:l,fingerprint:u,classificationConfidence:ne(p)}}var f_e=new Map,zSr=200;function uyt(t,e){let r=f_e.get(t)??[];r.push(e),r.length>zSr&&r.shift(),f_e.set(t,r)}function m_e(t){let e=f_e.get(t);if(!e||e.length===0)return null;let r=new Map;for(let m of e)r.set(m.strategy,(r.get(m.strategy)??0)+1);let n={};for(let[m,g]of r)n[m]=Math.round(g/e.length*100)/100;let i=[...r.entries()].sort((m,g)=>g[1]-m[1])[0][0],o=new Map;for(let m of e)o.set(m.analyticalMethod,(o.get(m.analyticalMethod)??0)+1);let s=[...o.entries()].sort((m,g)=>g[1]-m[1])[0][0],a=e.reduce((m,g)=>m+g.sophisticationLevel,0)/e.length,c=new Map;for(let m of e)for(let g of m.cognitivePatterns)c.set(g.type,(c.get(g.type)??0)+1);let l=[...c.entries()].map(([m,g])=>({type:m,frequency:Math.round(g/e.length*100)/100})).sort((m,g)=>g.frequency-m.frequency).slice(0,5),u=new Map;for(let m of e)for(let g of m.themes)u.set(g,(u.get(g)??0)+1);let d=[...u.entries()].map(([m,g])=>({theme:m,frequency:Math.round(g/e.length*100)/100})).sort((m,g)=>g.frequency-m.frequency).slice(0,8),p=new Set(e.map(m=>m.fingerprint)).size,f=Math.round(p/e.length*100)/100,h=Math.round(e.reduce((m,g)=>m+g.classificationConfidence,0)/e.length*100)/100;return{agentId:t,tradeCount:e.length,dominantStrategy:i,strategyDistribution:n,dominantMethod:s,avgSophistication:Math.round(a*10)/10,frequentBiases:l,topThemes:d,fingerprintDiversity:f,avgClassificationConfidence:h}}var pj=new Map,HSr=300;function dyt(t){let e=pj.get(t.agentId)??[];e.push(t),e.length>HSr&&e.shift(),pj.set(t.agentId,e)}function h_e(t){let e=pj.get(t)??[];if(e.length<3)return{agentId:t,roundsAnalyzed:e.length,overallScore:.5,grade:"N/A",dimensions:{stanceConsistency:.5,convictionStability:.5,narrativeCoherence:.5,strategyAlignment:.5,reasoningEvolution:.5},anomalies:[],stanceHistory:[],qualityTrend:"insufficient_data"};let r=[],n=VSr(e,r),i=GSr(e,r),o=jSr(e,r),s=qSr(e,r),a=WSr(e,r),c=Math.round((n.score*.25+i.score*.2+o.score*.2+s.score*.15+a.score*.2)*100)/100,l=JSr(c);return{agentId:t,roundsAnalyzed:e.length,overallScore:c,grade:l,dimensions:{stanceConsistency:n.score,convictionStability:i.score,narrativeCoherence:o.score,strategyAlignment:s.score,reasoningEvolution:a.score},anomalies:r,stanceHistory:n.stanceHistory,qualityTrend:a.trend}}function VSr(t,e){let r=new Map;for(let c of t){let l=r.get(c.symbol)??[];l.push(c),r.set(c.symbol,l)}let n=[],i=0,o=0;for(let[c,l]of r){if(l.length<2){n.push({symbol:c,tradeCount:l.length,actionSequence:l.map(p=>p.action),consistent:!0,reversals:0});continue}let u=0,d=l.map(p=>p.action);for(let p=1;p<l.length;p++){let f=l[p-1],h=l[p];if(o++,f.action==="buy"&&h.action==="sell"||f.action==="sell"&&h.action==="buy"){let g=(new Date(h.timestamp).getTime()-new Date(f.timestamp).getTime())/(1e3*60*60);u++,g<24&&e.push({type:"flip_flop",symbol:c,description:`Reversed stance on ${c}: ${f.action} \u2192 ${h.action} within ${g.toFixed(1)} hours`,severity:g<4?"high":"medium",roundId:h.roundId,timestamp:h.timestamp})}}i+=u,n.push({symbol:c,tradeCount:l.length,actionSequence:d,consistent:u===0,reversals:u})}let s=o>0?i/o:0,a=Hr(1-s*2);return{score:ne(a),stanceHistory:n}}function GSr(t,e){if(t.length<3)return{score:.5};let r=t.map(a=>a.confidence),n=r.reduce((a,c)=>a+c,0)/r.length,i=r.reduce((a,c)=>a+(c-n)**2,0)/r.length,o=Math.sqrt(i);for(let a=1;a<t.length;a++){let c=Math.abs(t[a].confidence-t[a-1].confidence);c>.4&&e.push({type:"confidence_spike",symbol:t[a].symbol,description:`Confidence jumped ${(c*100).toFixed(0)}%: ${(t[a-1].confidence*100).toFixed(0)}% \u2192 ${(t[a].confidence*100).toFixed(0)}%`,severity:c>.6?"high":"medium",roundId:t[a].roundId,timestamp:t[a].timestamp})}let s=Hr(1-o*2.5);return{score:ne(s)}}function jSr(t,e){if(t.length<3)return{score:.5};let r=new Map;for(let s of t){let a=r.get(s.symbol)??[];a.push(s),r.set(s.symbol,a)}let n=0,i=0;for(let[s,a]of r)if(!(a.length<2))for(let c=1;c<a.length;c++){i++;let l=a[c-1],u=a[c],d=new Set(l.reasoning.toLowerCase().split(/\s+/)),p=new Set(u.reasoning.toLowerCase().split(/\s+/)),f=[...d].filter(g=>p.has(g)&&g.length>4).length,h=new Set([...d,...p]).size,m=h>0?f/h:0;m>=.1&&m<=.7?n++:m>.7?(e.push({type:"narrative_break",symbol:s,description:`Very high reasoning similarity (${(m*100).toFixed(0)}%) between consecutive ${s} trades \u2014 possible copypasta`,severity:"medium",roundId:u.roundId,timestamp:u.timestamp}),n+=.5):m<.05&&e.push({type:"narrative_break",symbol:s,description:`No narrative continuity between consecutive ${s} trades \u2014 reasoning appears disconnected`,severity:"low",roundId:u.roundId,timestamp:u.timestamp})}let o=i>0?n/i:.5;return{score:Math.round(Math.min(1,o)*100)/100}}function qSr(t,e){if(t.length<5)return{score:.5};let r=new Map;for(let s of t)r.set(s.intent,(r.get(s.intent)??0)+1);let i=([...r.entries()].sort((s,a)=>a[1]-s[1])[0]?.[1]??0)/t.length;for(let s=1;s<t.length;s++)if(t[s].intent!==t[s-1].intent){let a=Math.max(0,s-2),c=Math.min(t.length,s+2),l=t.slice(a,c).map(d=>d.intent),u=new Set(l).size;u>=3&&e.push({type:"strategy_switch",symbol:t[s].symbol,description:`Strategy changed from ${t[s-1].intent} to ${t[s].intent} with ${u} different intents in 5-trade window`,severity:"low",roundId:t[s].roundId,timestamp:t[s].timestamp})}let o=Math.min(1,i+.2);return{score:ne(o)}}function WSr(t,e){if(t.length<6)return{score:.5,trend:"insufficient_data"};let r=Math.floor(t.length/2),n=t.slice(0,r),i=t.slice(r),o=n.reduce((m,g)=>m+g.coherenceScore,0)/n.length,s=i.reduce((m,g)=>m+g.coherenceScore,0)/i.length,a=s-o,c=n.reduce((m,g)=>m+gr(g.reasoning),0)/n.length,l=i.reduce((m,g)=>m+gr(g.reasoning),0)/i.length,u=(l-c)/Math.max(1,c),d;a>.05&&u>-.1?d="improving":a<-.05||u<-.2?(d="degrading",e.push({type:"quality_regression",symbol:"ALL",description:`Reasoning quality declining: coherence ${o.toFixed(2)} \u2192 ${s.toFixed(2)}, avg length ${c.toFixed(0)} \u2192 ${l.toFixed(0)} words`,severity:a<-.1?"high":"medium",roundId:t[t.length-1].roundId,timestamp:t[t.length-1].timestamp})):d="stable";let p=.6;d==="improving"?p=.85:d==="degrading"&&(p=.35);let f=t.map(m=>m.coherenceScore);return f.reduce((m,g)=>m+g,0)/f.length>.7&&(p=Math.min(1,p+.1)),{score:ne(p),trend:d}}function JSr(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}function g_e(){return[...pj.keys()]}var fj=new un,mj=new Map,L2=[],pyt=200;function fyt(t,e){mj.set(t,{agentId:t,...e})}function y_e(t,e,r){let n={type:t,data:e,agentId:r,timestamp:new Date().toISOString()};L2.unshift(n),L2.length>pyt&&(L2.length=pyt)}fj.get("/data",t=>{let e=[...mj.values()].sort((o,s)=>s.composite-o.composite),r=e.length>0?e.reduce((o,s)=>o+s.composite,0)/e.length:0,n=g_e().map(o=>{let s=h_e(o);return{agentId:o,overallScore:s.overallScore,grade:s.grade,anomalyCount:s.anomalies.length,qualityTrend:s.qualityTrend}}),i=e.map(o=>{let s=m_e(o.agentId);return s?{agentId:o.agentId,dominantStrategy:s.dominantStrategy,avgSophistication:s.avgSophistication,fingerprintDiversity:s.fingerprintDiversity,frequentBiases:s.frequentBiases,topThemes:s.topThemes}:null}).filter(Boolean);return t.json({ok:!0,benchmark:"moltapp-v12",version:"12.0.0",agents:e,health:{avgComposite:he(r),agentCount:e.length,totalTrades:e.reduce((o,s)=>o+s.tradeCount,0)},consistency:n,taxonomy:i,recentEvents:L2.slice(0,20),timestamp:new Date().toISOString()})});fj.get("/stream",t=>{let e=new ReadableStream({start(r){let n=new TextEncoder,i=0,o=setInterval(()=>{let s=L2.filter((a,c)=>c<L2.length-i).slice(0,10);for(let a of s){let c=`data: ${JSON.stringify(a)}

`;r.enqueue(n.encode(c))}i=L2.length,r.enqueue(n.encode(`: heartbeat ${new Date().toISOString()}

`))},5e3);setTimeout(()=>{clearInterval(o);try{r.close()}catch{}},3e5)}});return new Response(e,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});fj.get("/export",t=>{let e=t.req.query("format")??"jsonl",r=[...mj.values()];if(e==="csv"){let i="agent_id,composite,financial,reasoning,safety,calibration,patterns,adaptability,forensic_quality,validation_quality,grade,dominant_strategy,sophistication,bias_count,consistency,quality_trend,trade_count",o=r.map(s=>`${s.agentId},${s.composite},${s.financial},${s.reasoning},${s.safety},${s.calibration},${s.patterns},${s.adaptability},${s.forensicQuality},${s.validationQuality},${s.grade},${s.dominantStrategy},${s.sophistication},${s.biasCount},${s.consistencyScore},${s.qualityTrend},${s.tradeCount}`);return t.text([i,...o].join(`
`),200,{"Content-Type":"text/csv"})}let n=r.map(i=>JSON.stringify(i)).join(`
`);return t.text(n,200,{"Content-Type":"application/jsonl"})});fj.get("/",t=>{let e=[...mj.values()].sort((c,l)=>l.composite-c.composite),r=e.length>0?e.reduce((c,l)=>c+l.composite,0)/e.length:0,n=e.reduce((c,l)=>c+l.tradeCount,0);function i(c){return c.startsWith("A")?"#22c55e":c.startsWith("B")?"#3b82f6":c.startsWith("C")?"#eab308":c.startsWith("D")?"#f97316":"#ef4444"}function o(c){return c==="improving"?"&#x25B2;":c==="degrading"?"&#x25BC;":"&#x25CF;"}function s(c){return c==="improving"?"#22c55e":c==="degrading"?"#ef4444":"#94a3b8"}let a=Zr`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MoltApp Benchmark v12  AI Trading Intelligence</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'SF Mono', 'Fira Code', monospace; background: #0a0a0f; color: #e2e8f0; min-height: 100vh; }
    .header { background: linear-gradient(135deg, #1a1a2e 0%, #0f3460 100%); padding: 32px 24px; border-bottom: 2px solid #3b82f6; }
    .header h1 { font-size: 28px; font-weight: 800; color: #fff; letter-spacing: -0.5px; }
    .header .subtitle { color: #94a3b8; font-size: 14px; margin-top: 4px; }
    .badges { display: flex; gap: 8px; margin-top: 12px; flex-wrap: wrap; }
    .badge { padding: 4px 10px; border-radius: 4px; font-size: 11px; font-weight: 600; }
    .badge-blue { background: #1e3a5f; color: #60a5fa; border: 1px solid #3b82f6; }
    .badge-green { background: #14532d; color: #4ade80; border: 1px solid #22c55e; }
    .badge-purple { background: #3b0764; color: #c084fc; border: 1px solid #9333ea; }
    .badge-orange { background: #431407; color: #fb923c; border: 1px solid #f97316; }
    .container { max-width: 1400px; margin: 0 auto; padding: 24px; }
    .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin-bottom: 24px; }
    .stat-card { background: #111827; border: 1px solid #1f2937; border-radius: 8px; padding: 16px; }
    .stat-label { font-size: 11px; color: #6b7280; text-transform: uppercase; letter-spacing: 1px; }
    .stat-value { font-size: 28px; font-weight: 700; color: #fff; margin-top: 4px; }
    .stat-detail { font-size: 12px; color: #9ca3af; margin-top: 2px; }
    .section-title { font-size: 18px; font-weight: 700; color: #fff; margin: 24px 0 12px; display: flex; align-items: center; gap: 8px; }
    .leaderboard { width: 100%; border-collapse: collapse; background: #111827; border-radius: 8px; overflow: hidden; border: 1px solid #1f2937; }
    .leaderboard th { background: #1f2937; padding: 10px 12px; text-align: left; font-size: 11px; color: #9ca3af; text-transform: uppercase; letter-spacing: 0.5px; }
    .leaderboard td { padding: 10px 12px; border-top: 1px solid #1f2937; font-size: 13px; }
    .leaderboard tr:hover td { background: #1a2332; }
    .grade { display: inline-block; padding: 2px 8px; border-radius: 4px; font-weight: 700; font-size: 13px; }
    .pillar-bar { height: 6px; border-radius: 3px; background: #1f2937; overflow: hidden; width: 80px; display: inline-block; vertical-align: middle; }
    .pillar-fill { height: 100%; border-radius: 3px; }
    .taxonomy-card { background: #111827; border: 1px solid #1f2937; border-radius: 8px; padding: 16px; margin-bottom: 12px; }
    .taxonomy-label { font-size: 11px; color: #6b7280; text-transform: uppercase; }
    .taxonomy-value { font-size: 14px; color: #e2e8f0; font-weight: 600; }
    .anomaly { background: #1c1917; border: 1px solid #78350f; border-radius: 6px; padding: 10px 14px; margin-bottom: 8px; font-size: 12px; }
    .anomaly-high { border-color: #ef4444; background: #1a0a0a; }
    .anomaly-medium { border-color: #f59e0b; background: #1c1917; }
    .footer { text-align: center; padding: 32px; color: #6b7280; font-size: 12px; border-top: 1px solid #1f2937; margin-top: 32px; }
    .footer a { color: #3b82f6; text-decoration: none; }
    .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
    @media (max-width: 768px) { .grid-2 { grid-template-columns: 1fr; } }
    .trend-indicator { font-size: 14px; font-weight: 700; }
    .scroll-x { overflow-x: auto; }
  </style>
</head>
<body>
  <div class="header">
    <h1>MoltApp Benchmark v12</h1>
    <div class="subtitle">Industry-Standard AI Trading Intelligence Benchmark  8-Pillar Scoring + Taxonomy + Consistency</div>
    <div class="badges">
      <span class="badge badge-blue">v12.0.0</span>
      <span class="badge badge-green">8-Pillar Scoring</span>
      <span class="badge badge-purple">Reasoning Taxonomy</span>
      <span class="badge badge-orange">Cross-Round Consistency</span>
      <a href="https://huggingface.co/datasets/patruff/molt-benchmark" class="badge badge-blue" style="text-decoration:none;">&#x1F917; HuggingFace Dataset</a>
    </div>
  </div>

  <div class="container">
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-label">Agents Competing</div>
        <div class="stat-value">${String(e.length)}</div>
        <div class="stat-detail">Claude vs GPT vs Grok</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Total Trades Analyzed</div>
        <div class="stat-value">${String(n)}</div>
        <div class="stat-detail">With full reasoning data</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Avg Composite Score</div>
        <div class="stat-value">${(r*100).toFixed(1)}%</div>
        <div class="stat-detail">Across 8 benchmark pillars</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Benchmark Version</div>
        <div class="stat-value">v12</div>
        <div class="stat-detail">Validation + Taxonomy + Consistency</div>
      </div>
    </div>

    <div class="section-title">&#x1F3C6; 8-Pillar Leaderboard</div>
    <div class="scroll-x">
    <table class="leaderboard">
      <tr>
        <th>#</th>
        <th>Agent</th>
        <th>Composite</th>
        <th>Grade</th>
        <th>Financial</th>
        <th>Reasoning</th>
        <th>Safety</th>
        <th>Validation</th>
        <th>Forensic</th>
        <th>Consistency</th>
        <th>Trend</th>
        <th>Trades</th>
      </tr>
      ${e.length===0?Zr`<tr><td colspan="12" style="text-align:center;color:#6b7280;padding:24px;">No benchmark data yet. Run trading rounds to populate.</td></tr>`:e.map((c,l)=>{let u=i(c.grade),d=s(c.qualityTrend),p=o(c.qualityTrend);return Zr`<tr>
              <td style="color:#6b7280;">${String(l+1)}</td>
              <td style="font-weight:600;">${c.agentId}</td>
              <td style="font-weight:700;color:#fff;">${(c.composite*100).toFixed(1)}%</td>
              <td><span class="grade" style="background:${u}22;color:${u};border:1px solid ${u}44;">${c.grade}</span></td>
              <td>${V4(c.financial)}</td>
              <td>${V4(c.reasoning)}</td>
              <td>${V4(c.safety)}</td>
              <td>${V4(c.validationQuality)}</td>
              <td>${V4(c.forensicQuality)}</td>
              <td>${V4(c.consistencyScore)}</td>
              <td><span class="trend-indicator" style="color:${d};">${p}</span></td>
              <td style="color:#9ca3af;">${String(c.tradeCount)}</td>
            </tr>`})}
    </table>
    </div>

    <div class="section-title">&#x1F9EC; Reasoning Taxonomy Profiles</div>
    <div class="grid-2">
      ${e.map(c=>{let l=m_e(c.agentId);return Zr`<div class="taxonomy-card">
          <div style="font-weight:700;font-size:15px;margin-bottom:8px;">${c.agentId}</div>
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;">
            <div><div class="taxonomy-label">Strategy</div><div class="taxonomy-value">${c.dominantStrategy.replace(/_/g," ")}</div></div>
            <div><div class="taxonomy-label">Sophistication</div><div class="taxonomy-value">${String(c.sophistication)}/5</div></div>
            <div><div class="taxonomy-label">Biases Detected</div><div class="taxonomy-value" style="color:${c.biasCount>2?"#f59e0b":"#4ade80"};">${String(c.biasCount)}</div></div>
            <div><div class="taxonomy-label">Fingerprint Diversity</div><div class="taxonomy-value">${l?(l.fingerprintDiversity*100).toFixed(0)+"%":"N/A"}</div></div>
          </div>
          ${l&&l.topThemes.length>0?Zr`
            <div style="margin-top:8px;">
              <div class="taxonomy-label">Top Themes</div>
              <div style="display:flex;gap:4px;flex-wrap:wrap;margin-top:4px;">
                ${l.topThemes.slice(0,5).map(u=>Zr`<span class="badge badge-blue">${u.theme} (${(u.frequency*100).toFixed(0)}%)</span>`)}
              </div>
            </div>
          `:Zr``}
        </div>`})}
    </div>

    <div class="section-title">&#x1F50D; Cross-Round Consistency</div>
    ${g_e().map(c=>{let l=h_e(c);return Zr`<div class="taxonomy-card">
        <div style="display:flex;justify-content:space-between;align-items:center;">
          <div style="font-weight:700;">${c}</div>
          <span class="grade" style="background:${i(l.grade)}22;color:${i(l.grade)};border:1px solid ${i(l.grade)}44;">${l.grade} (${(l.overallScore*100).toFixed(0)}%)</span>
        </div>
        <div style="display:grid;grid-template-columns:repeat(5,1fr);gap:8px;margin-top:8px;">
          <div><div class="taxonomy-label">Stance</div><div class="taxonomy-value">${(l.dimensions.stanceConsistency*100).toFixed(0)}%</div></div>
          <div><div class="taxonomy-label">Conviction</div><div class="taxonomy-value">${(l.dimensions.convictionStability*100).toFixed(0)}%</div></div>
          <div><div class="taxonomy-label">Narrative</div><div class="taxonomy-value">${(l.dimensions.narrativeCoherence*100).toFixed(0)}%</div></div>
          <div><div class="taxonomy-label">Strategy</div><div class="taxonomy-value">${(l.dimensions.strategyAlignment*100).toFixed(0)}%</div></div>
          <div><div class="taxonomy-label">Evolution</div><div class="taxonomy-value">${(l.dimensions.reasoningEvolution*100).toFixed(0)}%</div></div>
        </div>
        ${l.anomalies.length>0?Zr`
          <div style="margin-top:8px;">
            <div class="taxonomy-label">Recent Anomalies (${String(l.anomalies.length)})</div>
            ${l.anomalies.slice(0,3).map(u=>Zr`<div class="anomaly anomaly-${u.severity}" style="margin-top:4px;">
                <strong>${u.type.replace(/_/g," ").toUpperCase()}</strong>: ${u.description}
              </div>`)}
          </div>
        `:Zr`<div style="margin-top:8px;color:#22c55e;font-size:12px;">No anomalies detected</div>`}
      </div>`})}

    <div class="section-title">&#x1F4CA; Scoring Methodology</div>
    <div class="taxonomy-card">
      <div style="display:grid;grid-template-columns:repeat(auto-fit, minmax(160px, 1fr));gap:12px;">
        ${ab("Financial","P&L, Sharpe, Win Rate, Drawdown","0.18")}
        ${ab("Reasoning","Coherence, Depth, Consistency","0.18")}
        ${ab("Safety","Hallucination-Free, Discipline","0.14")}
        ${ab("Calibration","ECE, Brier, Monotonic","0.10")}
        ${ab("Patterns","Fallacies, Vocab, Templates","0.08")}
        ${ab("Adaptability","Cross-Regime, Variance","0.08")}
        ${ab("Forensic","Structure, Originality, Clarity","0.12")}
        ${ab("Validation","Depth, Sources, Grounding, Risk","0.12")}
      </div>
    </div>
  </div>

  <div class="footer">
    <p>MoltApp Benchmark v12  <a href="https://www.patgpt.us">www.patgpt.us</a>  <a href="https://huggingface.co/datasets/patruff/molt-benchmark">HuggingFace Dataset</a></p>
    <p style="margin-top:4px;">Colosseum Agent Hackathon 2026  AI agents trading REAL stocks on Solana</p>
    <p style="margin-top:8px;font-size:11px;">Data: /benchmark-v12/data | Stream: /benchmark-v12/stream | Export: /benchmark-v12/export</p>
  </div>

  <script>
    // Auto-refresh every 45 seconds
    setTimeout(() => location.reload(), 45000);
  </script>
</body>
</html>`;return t.html(a)});function V4(t){let e=Math.round(t*100),r=e>=80?"#22c55e":e>=60?"#3b82f6":e>=40?"#eab308":"#ef4444";return Zr`<span class="pillar-bar"><span class="pillar-fill" style="width:${String(e)}%;background:${r};"></span></span> <span style="font-size:11px;color:#9ca3af;">${String(e)}%</span>`}function ab(t,e,r){return Zr`<div style="background:#0f172a;border-radius:6px;padding:10px;">
    <div style="font-weight:700;font-size:13px;color:#fff;">${t}</div>
    <div style="font-size:11px;color:#6b7280;margin-top:2px;">${e}</div>
    <div style="font-size:11px;color:#3b82f6;margin-top:4px;">Weight: ${r}</div>
  </div>`}var KSr=.2,QSr=.2,XSr=.15,YSr=.15,ZSr=.1,e2r=.1,t2r=.1,myt=.25,r2r=.015,n2r=.05,i2r=.3,o2r=.02,s2r=.1,a2r=.25,c2r=.5,Sa=[],hyt=1e3,gj=new Map,l2r=1500,gyt=32,hj=new Map;function B2(t,e,r,n,i,o){let s=i?r:1-r,a=i?n:1-n,c=s-a,l=null;Math.abs(c)>o2r&&(l=c>0?"A":"B");let u=o.replace("{scoreA}",r.toFixed(3)).replace("{scoreB}",n.toFixed(3)).replace("{diff}",Math.abs(c).toFixed(3));return{name:t,weight:e,winnerAgentId:l,scoreA:r,scoreB:n,explanation:u}}function u2r(t,e,r,n,i){let o=n,s=o===t.agentId?t.agentId:e.agentId,a=o===t.agentId?e.agentId:t.agentId;if(!o)return`Dead heat! ${t.agentId} and ${e.agentId} matched each other across all dimensions. Both traded ${t.symbol}/${e.symbol} with nearly identical reasoning quality.`;let c=r.filter(d=>d.winnerAgentId===(o===t.agentId?"A":"B")).map(d=>d.name),l=i<s2r?"razor-thin":i<a2r?"modest":i<c2r?"convincing":"dominant",u=c.length>0?c.slice(0,3).join(", "):"overall composite";return`${s} defeats ${a} with a ${l} margin (${(i*100).toFixed(1)}%). Key advantages in ${u}. ${s} traded ${o===t.agentId?t.symbol:e.symbol} (${o===t.agentId?t.action:e.action}) vs ${o===t.agentId?e.symbol:t.symbol} (${o===t.agentId?e.action:t.action}).`}function d2r(t,e,r){let i=[B2("financial",KSr,Math.max(0,(e.pnlPercent+100)/200),Math.max(0,(r.pnlPercent+100)/200),!0,"Financial: A={scoreA} vs B={scoreB} (diff={diff})"),B2("reasoning_coherence",QSr,e.coherenceScore,r.coherenceScore,!0,"Coherence: A={scoreA} vs B={scoreB} (diff={diff})"),B2("reasoning_depth",XSr,e.depthScore,r.depthScore,!0,"Depth: A={scoreA} vs B={scoreB} (diff={diff})"),B2("conviction_calibration",YSr,e.confidence,r.confidence,!0,"Conviction: A={scoreA} vs B={scoreB} (diff={diff})"),B2("originality",ZSr,e.originalityScore,r.originalityScore,!0,"Originality: A={scoreA} vs B={scoreB} (diff={diff})"),B2("safety",e2r,e.hallucinationCount===0?1:Math.max(0,1-e.hallucinationCount*myt),r.hallucinationCount===0?1:Math.max(0,1-r.hallucinationCount*myt),!0,"Safety: A={scoreA} vs B={scoreB} (diff={diff})"),B2("discipline",t2r,e.disciplinePass?1:0,r.disciplinePass?1:0,!0,"Discipline: A={scoreA} vs B={scoreB} (diff={diff})")].map(f=>({...f,winnerAgentId:f.winnerAgentId==="A"?e.agentId:f.winnerAgentId==="B"?r.agentId:null})),o=to(i,"scoreA","weight"),s=to(i,"scoreB","weight"),a=Math.abs(o-s),c=a<r2r?null:o>s?e.agentId:r.agentId,l=a<n2r||a>i2r,u=u2r(e,r,i,c,a),p={battleId:`battle_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,roundId:t,timestamp:new Date().toISOString(),agentA:e,agentB:r,dimensions:i,overallWinner:c,marginOfVictory:he(a),compositeScoreA:he(o),compositeScoreB:he(s),narrative:u,highlight:l};Sa.unshift(p),Sa.length>hyt&&(Sa.length=hyt),p2r(e.agentId,r.agentId,c);for(let f of i)if(f.winnerAgentId){let h=f.winnerAgentId===e.agentId?r.agentId:e.agentId;yyt(f.winnerAgentId,f.name,!0),yyt(h,f.name,!1)}return p}function byt(t,e){let r=[];for(let n=0;n<e.length;n++)for(let i=n+1;i<e.length;i++){let o=d2r(t,e[n],e[i]);r.push(o)}return r}function b_e(t){return gj.get(t)??l2r}function p2r(t,e,r){let n=b_e(t),i=b_e(e),o=1/(1+Math.pow(10,(i-n)/400)),s=1-o,a,c;r===null?(a=.5,c=.5):r===t?(a=1,c=0):(a=0,c=1),gj.set(t,Math.round(n+gyt*(a-o))),gj.set(e,Math.round(i+gyt*(c-s)))}function yyt(t,e,r){hj.has(t)||hj.set(t,new Map);let n=hj.get(t);n.has(e)||n.set(e,{wins:0,losses:0});let i=n.get(e);r?i.wins++:i.losses++}function v_e(t){let e=Sa.filter(h=>h.agentA.agentId===t||h.agentB.agentId===t),r=0,n=0,i=0,o=0;for(let h of e)h.overallWinner===t?(r++,o+=h.marginOfVictory):h.overallWinner===null?i++:(n++,o-=h.marginOfVictory);let s=r+n+i,a=hj.get(t),c="none",l="none",u=-1,d=2;if(a)for(let[h,m]of a){let g=m.wins+m.losses;if(g>0){let y=m.wins/g;y>u&&(u=y,c=h),y<d&&(d=y,l=h)}}let p="none",f=0;for(let h of e){let m=h.overallWinner===t?"win":h.overallWinner===null?"tie":"loss";if(f===0)p=m,f=1;else if(m===p)f++;else break}return{agentId:t,wins:r,losses:n,ties:i,eloRating:b_e(t),winRate:s>0?he(r/s):0,avgMargin:s>0?he(o/s):0,strongestDimension:c,weakestDimension:l,streakType:p,streakLength:f,recentBattles:e.slice(0,10)}}function W9(){let t=[...new Set(Sa.flatMap(s=>[s.agentA.agentId,s.agentB.agentId]))];t.sort();let e=t.length,r=Array.from({length:e},()=>new Array(e).fill(0)),n=Array.from({length:e},()=>new Array(e).fill(0)),i=Array.from({length:e},()=>new Array(e).fill(0)),o=Array.from({length:e},()=>new Array(e).fill(0));for(let s of Sa){let a=t.indexOf(s.agentA.agentId),c=t.indexOf(s.agentB.agentId);a===-1||c===-1||(i[a][c]++,i[c][a]++,s.overallWinner===s.agentA.agentId?(r[a][c]++,o[a][c]+=s.marginOfVictory):s.overallWinner===s.agentB.agentId&&(r[c][a]++,o[c][a]+=s.marginOfVictory))}for(let s=0;s<e;s++)for(let a=0;a<e;a++)i[s][a]>0&&(n[s][a]=he(o[s][a]/i[s][a]));return{agents:t,wins:r,avgMargins:n,matchups:i}}function __e(t=10){let e=[],r=[...Sa].filter(s=>s.overallWinner!==null).sort((s,a)=>s.marginOfVictory-a.marginOfVictory).slice(0,3);for(let s of r)e.push({battleId:s.battleId,reason:`Closest battle: ${(s.marginOfVictory*100).toFixed(1)}% margin`,battle:s});let n=[...Sa].filter(s=>s.overallWinner!==null).sort((s,a)=>a.marginOfVictory-s.marginOfVictory).slice(0,3);for(let s of n)e.push({battleId:s.battleId,reason:`Dominant performance: ${(s.marginOfVictory*100).toFixed(1)}% margin`,battle:s});for(let s of Sa.slice(0,50)){if(!s.overallWinner)continue;let a=s.dimensions.find(c=>c.name==="reasoning_coherence");if(a&&a.winnerAgentId&&a.winnerAgentId!==s.overallWinner){e.push({battleId:s.battleId,reason:"Better reasoner lost! Financial performance overcame reasoning quality.",battle:s});break}}let i=Sa.filter(s=>s.overallWinner===null).slice(0,2);for(let s of i)e.push({battleId:s.battleId,reason:"Dead heat \u2014 agents perfectly matched",battle:s});let o=new Set;return e.filter(s=>o.has(s.battleId)?!1:(o.add(s.battleId),!0)).slice(0,t)}function yj(){return[...gj.entries()].sort((e,r)=>r[1]-e[1]).map(([e,r],n)=>({agentId:e,eloRating:r,rank:n+1}))}function bj(t){let e=Sa;t?.agentId&&(e=e.filter(o=>o.agentA.agentId===t.agentId||o.agentB.agentId===t.agentId)),t?.highlightsOnly&&(e=e.filter(o=>o.highlight));let r=e.length,n=t?.offset??0,i=t?.limit??20;return{battles:e.slice(n,n+i),total:r}}function vj(){let t=Sa.length;if(t===0)return{totalBattles:0,totalRounds:0,avgMarginOfVictory:0,tieRate:0,mostDominantAgent:null,closestRivalry:null};let e=new Set(Sa.map(u=>u.roundId)),r=Sa.filter(u=>u.overallWinner===null).length,n=Sa.reduce((u,d)=>u+d.marginOfVictory,0)/t,i=new Map;for(let u of Sa)u.overallWinner&&i.set(u.overallWinner,(i.get(u.overallWinner)??0)+1);let o=null,s=0;for(let[u,d]of i)d>s&&(s=d,o=u);let a=W9(),c=null,l=1/0;for(let u=0;u<a.agents.length;u++)for(let d=u+1;d<a.agents.length;d++)if(a.matchups[u][d]>=3){let p=(a.avgMargins[u][d]*a.wins[u][d]+a.avgMargins[d][u]*a.wins[d][u])/a.matchups[u][d];p<l&&(l=p,c={agents:[a.agents[u],a.agents[d]],avgMargin:he(p)})}return{totalBattles:t,totalRounds:e.size,avgMarginOfVictory:he(n),tieRate:he(r/t),mostDominantAgent:o,closestRivalry:c}}var f2r=20,m2r=14,h2r=8,g2r=4,y2r=.2,b2r=.2,v2r=.15,_2r=.15,S2r=.1,x2r=.1,w2r=.1,vyt=6,_yt=.2,Syt=.1,xyt=5,wyt=3,Ayt=3,Eyt=3,A2r=.03,E2r=.02,T2r=[["valuation",/\b(P\/E|valuation|undervalued|overvalued|fair\s+value|intrinsic|multiple|earnings\s+yield)\b/i],["technical",/\b(RSI|MACD|moving\s+average|support|resistance|breakout|trend|momentum|chart)\b/i],["fundamental",/\b(revenue|earnings|growth|margin|cash\s+flow|balance\s+sheet|dividend|profit|EPS)\b/i],["macro",/\b(interest\s+rate|inflation|GDP|Fed|monetary\s+policy|recession|employment|economic)\b/i],["sentiment",/\b(sentiment|fear|greed|bullish|bearish|mood|psychology|panic|euphoria)\b/i],["sector",/\b(sector|industry|peer|competitor|relative|compared\s+to|sector\s+rotation)\b/i],["risk",/\b(risk|downside|stop.?loss|drawdown|volatility|exposure|hedge|protect)\b/i],["catalyst",/\b(catalyst|event|earnings\s+report|FDA|launch|acquisition|announcement|conference)\b/i],["portfolio",/\b(portfolio|allocation|position\s+size|diversif|concentration|rebalance|weight)\b/i],["market_structure",/\b(volume|liquidity|spread|order\s+flow|market\s+maker|depth|bid.?ask)\b/i]],R2r=[["price_citation",/\$\d+\.?\d*/],["percentage_citation",/[+-]?\d+\.?\d*%/],["time_reference",/\b(today|yesterday|this\s+week|24h|past\s+month|recent|currently)\b/i],["data_source",/\b(Jupiter|market\s+data|price\s+feed|chart|volume\s+data|news)\b/i],["comparison",/\b(compared\s+to|relative\s+to|versus|vs\.|higher\s+than|lower\s+than)\b/i],["specific_value",/\b\d+\.\d{2,}\b/]],I2r=[/\b(because|since|due\s+to|therefore|consequently|thus|as\s+a\s+result|this\s+means|implies|suggests|indicates)\b/i,/\b(if\s+.+\s+then|given\s+that|considering\s+that|in\s+light\s+of)\b/i,/\b(leads\s+to|drives|causes|creates|results\s+in|contributes\s+to)\b/i],C2r=[/\b(risk|downside|danger|concern|worry|threat|warning|caution|careful|caveat)\b/i,/\b(could\s+fall|might\s+decline|potential\s+loss|worst\s+case|stop.?loss)\b/i,/\b(volatility|uncertainty|unpredictable|risky|vulnerable|exposed)\b/i],N2r=[/\b(uncertain|unclear|unknown|debatable|questionable)\b/i,/\b(might|may|could|possibly|perhaps|potentially)\b/i,/\b(limited\s+data|insufficient\s+information|hard\s+to\s+predict)\b/i],O2r=[/\b(maybe|perhaps|possibly|somewhat|slightly|arguably|relatively)\b/i,/\b(tend\s+to|seem\s+to|appear\s+to|likely|unlikely|probably)\b/i],P2r=[/\b(buy\s+at|sell\s+at|target\s+price|entry\s+point|exit\s+at)\b/i,/\b(position\s+size|allocat|invest\s+\$|spend\s+\$|limit\s+order)\b/i,/\b(I\s+recommend|I\s+suggest|my\s+target|I\s+expect|I\s+predict)\b/i],k2r=[/\$[\d,.]+/,/\d+\.?\d*%/,/\d+\s+(shares?|units?|tokens?)/i,/\b\d{2,}x?\b/];function Tyt(t,e){let r=e.split(/\s+/),n=ai(e),i=[];for(let[g,y]of T2r)y.test(e)&&i.push(g);let o=[];for(let[g,y]of R2r)y.test(e)&&o.push(g);let s=0;for(let g of I2r){let y=e.match(new RegExp(g.source,"gi"));s+=y?.length??0}let a=0;for(let g of C2r){let y=e.match(new RegExp(g.source,"gi"));a+=y?.length??0}let c=0;for(let g of N2r){let y=e.match(new RegExp(g.source,"gi"));c+=y?.length??0}let l=0;for(let g of O2r){let y=e.match(new RegExp(g.source,"gi"));l+=y?.length??0}let u=0;for(let g of P2r){let y=e.match(new RegExp(g.source,"gi"));u+=y?.length??0}let d=0;for(let g of k2r){let y=e.match(new RegExp(g.source,"g"));d+=y?.length??0}let p=new Set;for(let g=0;g<r.length-1;g++){let y=`${r[g].toLowerCase()} ${r[g+1].toLowerCase()}`;p.add(y)}let f=p.size,h=1,m=i.length*1.5+s*1+d*.5+a*.5+u*1;return m>=f2r?h=5:m>=m2r?h=4:m>=h2r?h=3:m>=g2r&&(h=2),{agentId:t,wordCount:r.length,sentenceCount:n.length,analyticalAngles:i,evidenceCitations:o,causalClaims:s,riskMentions:a,uncertaintyAcknowledgements:c,quantitativeClaims:d,hedgeWords:l,actionableStatements:u,uniquePhrases:f,sophisticationLevel:h}}function $2(t,e,r,n,i){let o=Math.min(1,Math.max(0,r)),s=Math.min(1,Math.max(0,n)),a=o-s,c=A2r;return{name:t,weight:e,agentAScore:he(o),agentBScore:he(s),winner:Math.abs(a)<=c?null:a>0?"A":"B",explanation:i(o,s)}}function D2r(t,e,r,n){let i=Tyt(t,e),o=Tyt(r,n),s=Math.min(1,i.analyticalAngles.length/vyt),a=Math.min(1,o.analyticalAngles.length/vyt),c=Math.min(1,i.evidenceCitations.length*_yt+i.quantitativeClaims*Syt),l=Math.min(1,o.evidenceCitations.length*_yt+o.quantitativeClaims*Syt),u=Math.min(1,i.causalClaims/xyt),d=Math.min(1,o.causalClaims/xyt),p=Math.min(1,i.riskMentions/wyt),f=Math.min(1,o.riskMentions/wyt),h=Math.min(1,i.uncertaintyAcknowledgements/Ayt),m=Math.min(1,o.uncertaintyAcknowledgements/Ayt),g=Math.min(1,i.actionableStatements/Eyt),y=Math.min(1,o.actionableStatements/Eyt),v=new Set(e.toLowerCase().split(/\s+/).map((j,Q,G)=>Q<G.length-1?`${j} ${G[Q+1]}`:"").filter(Boolean)),S=new Set(n.toLowerCase().split(/\s+/).map((j,Q,G)=>Q<G.length-1?`${j} ${G[Q+1]}`:"").filter(Boolean)),w=new Set([...v].filter(j=>S.has(j))),E=new Set([...v,...S]),I=E.size>0?w.size/E.size:0,D=1-I,k=1-I,$=[$2("analytical_breadth",y2r,s,a,(j,Q)=>`A covers ${i.analyticalAngles.length} angles vs B's ${o.analyticalAngles.length}`),$2("evidence_quality",b2r,c,l,(j,Q)=>`A cites ${i.evidenceCitations.length} evidence types, B cites ${o.evidenceCitations.length}`),$2("causal_reasoning",v2r,u,d,(j,Q)=>`A has ${i.causalClaims} causal claims vs B's ${o.causalClaims}`),$2("risk_awareness",_2r,p,f,(j,Q)=>`A mentions risk ${i.riskMentions} times vs B's ${o.riskMentions}`),$2("intellectual_honesty",S2r,h,m,(j,Q)=>`A acknowledges uncertainty ${i.uncertaintyAcknowledgements} times vs B's ${o.uncertaintyAcknowledgements}`),$2("actionability",x2r,g,y,(j,Q)=>`A has ${i.actionableStatements} actionable statements vs B's ${o.actionableStatements}`),$2("uniqueness",w2r,D,k,()=>`Reasoning overlap: ${(I*100).toFixed(1)}% Jaccard similarity`)].map(j=>({...j,winner:j.winner==="A"?t:j.winner==="B"?r:null})),H=to($,"agentAScore","weight"),W=to($,"agentBScore","weight"),N=H-W,_=Math.abs(N)<E2r?null:N>0?t:r,x=_??"Neither agent",R=$.filter(j=>j.winner===t).length,L=$.filter(j=>j.winner===r).length,U=_?`${x} wins the reasoning comparison (${Math.round(Math.max(H,W)*100)}% vs ${Math.round(Math.min(H,W)*100)}%). Won ${_===t?R:L} of 7 dimensions. Sophistication: ${i.agentId}=${i.sophisticationLevel}/5, ${o.agentId}=${o.sophisticationLevel}/5.`:`Dead heat in reasoning quality (${Math.round(H*100)}% vs ${Math.round(W*100)}%). Both agents at similar analytical depth.`;return{agentAId:t,agentBId:r,agentAScore:he(H),agentBScore:he(W),winner:_,dimensions:$,detailedAnalysis:{agentA:i,agentB:o},summary:U}}function Ryt(t){let e=[];for(let r=0;r<t.length;r++)for(let n=r+1;n<t.length;n++)e.push(D2r(t[r].agentId,t[r].reasoning,t[n].agentId,t[n].reasoning));return e}var _j=new un,Yg=[],Iyt=200;function S_e(t,e,r){Yg.unshift({type:t,data:e,agentId:r,timestamp:new Date().toISOString()}),Yg.length>Iyt&&(Yg.length=Iyt)}_j.get("/data",t=>{let e=yj(),r=W9(),n=__e(5),i=vj(),{battles:o}=bj({limit:10}),s=e.map(a=>{let c=v_e(a.agentId);return{agentId:a.agentId,eloRating:a.eloRating,rank:a.rank,wins:c.wins,losses:c.losses,ties:c.ties,winRate:c.winRate,avgMargin:c.avgMargin,strongestDimension:c.strongestDimension,weakestDimension:c.weakestDimension,streak:`${c.streakType} ${c.streakLength}`}});return t.json({ok:!0,benchmarkVersion:"v13",timestamp:new Date().toISOString(),stats:i,leaderboard:s,matrix:r,highlights:n.map(a=>({battleId:a.battleId,reason:a.reason,winner:a.battle.overallWinner,margin:a.battle.marginOfVictory,narrative:a.battle.narrative,agents:[a.battle.agentA.agentId,a.battle.agentB.agentId]})),recentBattles:o.map(a=>({battleId:a.battleId,roundId:a.roundId,timestamp:a.timestamp,agentA:a.agentA.agentId,agentB:a.agentB.agentId,winner:a.overallWinner,margin:a.marginOfVictory,narrative:a.narrative,highlight:a.highlight})),recentEvents:Yg.slice(0,20)})});_j.get("/stream",t=>{let e=0,r=new ReadableStream({start(n){let i=new TextEncoder;for(let a of Yg.slice(0,10).reverse()){let c=JSON.stringify(a);n.enqueue(i.encode(`data: ${c}

`))}e=Yg.length;let o=setInterval(()=>{let a=Yg.slice(0,Math.max(0,Yg.length-e));for(let c of a.reverse()){let l=JSON.stringify(c);n.enqueue(i.encode(`data: ${l}

`))}e=Yg.length,n.enqueue(i.encode(`: heartbeat ${new Date().toISOString()}

`))},3e3);setTimeout(()=>{clearInterval(o);try{n.close()}catch{}},300*1e3)}});return new Response(r,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});_j.get("/export",t=>{let e=vj(),r=yj(),n=W9(),{battles:i}=bj({limit:500});return t.json({ok:!0,benchmarkVersion:"v13",exportedAt:new Date().toISOString(),stats:e,leaderboard:r,matrix:n,battleCount:i.length,battles:i.map(o=>({battleId:o.battleId,roundId:o.roundId,timestamp:o.timestamp,agentA:o.agentA.agentId,agentB:o.agentB.agentId,winner:o.overallWinner,margin:o.marginOfVictory,compositeA:o.compositeScoreA,compositeB:o.compositeScoreB,dimensions:o.dimensions.map(s=>({name:s.name,winner:s.winnerAgentId,scoreA:s.scoreA,scoreB:s.scoreB}))}))})});_j.get("/",t=>{let e=yj(),r=W9(),n=__e(5),i=vj(),{battles:o}=bj({limit:8}),s=e.map(u=>{let d=v_e(u.agentId);return{...u,...d}}),a={"claude-value-investor":"Claude ValueBot","gpt-momentum-trader":"GPT MomentumBot","grok-contrarian":"Grok ContrarianBot"},c={"claude-value-investor":"#d97706","gpt-momentum-trader":"#16a34a","grok-contrarian":"#dc2626"},l=`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MoltApp Benchmark v13 \u2014 Agent Battle Arena</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif; background: #0a0a0a; color: #e5e5e5; min-height: 100vh; }
    .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
    .header { text-align: center; padding: 30px 0 20px; border-bottom: 2px solid #dc2626; margin-bottom: 30px; }
    .header h1 { font-size: 2.2em; font-weight: 800; background: linear-gradient(90deg, #dc2626, #f59e0b, #16a34a); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    .header .subtitle { color: #999; margin-top: 8px; font-size: 1.1em; }
    .badges { display: flex; gap: 10px; justify-content: center; margin-top: 15px; flex-wrap: wrap; }
    .badge { display: inline-block; padding: 4px 12px; border-radius: 20px; font-size: 0.8em; font-weight: 600; }
    .badge-red { background: rgba(220,38,38,0.2); border: 1px solid #dc2626; color: #f87171; }
    .badge-green { background: rgba(22,163,74,0.2); border: 1px solid #16a34a; color: #4ade80; }
    .badge-blue { background: rgba(59,130,246,0.2); border: 1px solid #3b82f6; color: #93c5fd; }
    .badge-yellow { background: rgba(245,158,11,0.2); border: 1px solid #f59e0b; color: #fbbf24; }
    .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 30px; }
    .grid-full { grid-column: 1 / -1; }
    .card { background: #141414; border: 1px solid #262626; border-radius: 12px; padding: 24px; }
    .card h2 { font-size: 1.2em; color: #f59e0b; margin-bottom: 16px; display: flex; align-items: center; gap: 8px; }
    .card h2 .icon { font-size: 1.3em; }
    .stats-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-bottom: 30px; }
    .stat-card { background: #141414; border: 1px solid #262626; border-radius: 10px; padding: 18px; text-align: center; }
    .stat-value { font-size: 1.8em; font-weight: 800; color: #f59e0b; }
    .stat-label { font-size: 0.85em; color: #999; margin-top: 4px; }
    table { width: 100%; border-collapse: collapse; }
    th { text-align: left; padding: 10px 12px; color: #999; font-size: 0.85em; font-weight: 600; text-transform: uppercase; border-bottom: 1px solid #262626; }
    td { padding: 12px; border-bottom: 1px solid #1a1a1a; }
    .rank { font-size: 1.4em; font-weight: 800; width: 40px; }
    .rank-1 { color: #f59e0b; }
    .rank-2 { color: #94a3b8; }
    .rank-3 { color: #b45309; }
    .elo { font-size: 1.3em; font-weight: 700; color: #e5e5e5; }
    .win-loss { font-size: 0.9em; }
    .win { color: #4ade80; }
    .loss { color: #f87171; }
    .tie { color: #94a3b8; }
    .agent-name { font-weight: 600; font-size: 1.05em; }
    .dimension-tag { display: inline-block; padding: 2px 8px; border-radius: 4px; font-size: 0.75em; font-weight: 600; background: rgba(59,130,246,0.15); color: #93c5fd; margin: 2px; }
    .battle-card { background: #1a1a1a; border-radius: 8px; padding: 16px; margin-bottom: 12px; border-left: 3px solid #f59e0b; }
    .battle-card .narrative { color: #ccc; font-style: italic; margin-top: 8px; line-height: 1.4; }
    .battle-card .meta { display: flex; gap: 16px; color: #999; font-size: 0.85em; margin-top: 6px; }
    .highlight-badge { display: inline-block; padding: 2px 8px; border-radius: 4px; font-size: 0.75em; background: rgba(220,38,38,0.2); color: #f87171; font-weight: 600; }
    .matrix-table th, .matrix-table td { text-align: center; padding: 8px 12px; font-size: 0.9em; }
    .matrix-cell { font-weight: 700; }
    .matrix-win { color: #4ade80; }
    .matrix-loss { color: #f87171; }
    .matrix-self { color: #444; }
    .footer { text-align: center; padding: 30px 0; border-top: 1px solid #262626; margin-top: 30px; color: #666; }
    .footer a { color: #f59e0b; text-decoration: none; }
    @media (max-width: 768px) { .grid { grid-template-columns: 1fr; } .stats-grid { grid-template-columns: repeat(2, 1fr); } }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>MoltApp Benchmark v13 \u2014 Battle Arena</h1>
      <div class="subtitle">Head-to-Head Agent Reasoning Battles | Real Stocks on Solana</div>
      <div class="badges">
        <span class="badge badge-red">LIVE BATTLES</span>
        <span class="badge badge-green">Elo Rankings</span>
        <span class="badge badge-blue">7-Dimension Scoring</span>
        <span class="badge badge-yellow">Reasoning Quality</span>
        <a href="https://huggingface.co/datasets/patruff/molt-benchmark" class="badge badge-yellow" style="text-decoration:none">HuggingFace Dataset</a>
      </div>
    </div>

    <!-- Stats -->
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-value">${i.totalBattles}</div>
        <div class="stat-label">Total Battles</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">${i.totalRounds}</div>
        <div class="stat-label">Trading Rounds</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">${(i.avgMarginOfVictory*100).toFixed(1)}%</div>
        <div class="stat-label">Avg Margin</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">${(i.tieRate*100).toFixed(0)}%</div>
        <div class="stat-label">Tie Rate</div>
      </div>
    </div>

    <div class="grid">
      <!-- Elo Leaderboard -->
      <div class="card grid-full">
        <h2><span class="icon">\u{1F3C6}</span> Elo Battle Rankings</h2>
        <table>
          <tr>
            <th>Rank</th>
            <th>Agent</th>
            <th>Elo Rating</th>
            <th>Record (W-L-T)</th>
            <th>Win Rate</th>
            <th>Avg Margin</th>
            <th>Strongest</th>
            <th>Weakest</th>
            <th>Streak</th>
          </tr>
          ${s.map((u,d)=>`
          <tr>
            <td class="rank rank-${d+1}">#${u.rank}</td>
            <td class="agent-name" style="color: ${c[u.agentId]??"#e5e5e5"}">${a[u.agentId]??u.agentId}</td>
            <td class="elo">${u.eloRating}</td>
            <td class="win-loss">
              <span class="win">${u.wins}W</span> -
              <span class="loss">${u.losses}L</span> -
              <span class="tie">${u.ties}T</span>
            </td>
            <td>${(u.winRate*100).toFixed(0)}%</td>
            <td>${u.avgMargin>0?"+":""}${(u.avgMargin*100).toFixed(1)}%</td>
            <td><span class="dimension-tag">${u.strongestDimension}</span></td>
            <td><span class="dimension-tag">${u.weakestDimension}</span></td>
            <td>${u.streakType==="win"?"\u{1F525}":u.streakType==="loss"?"\u2744\uFE0F":"\u2796"} ${u.streakLength}</td>
          </tr>`).join("")}
        </table>
        ${s.length===0?"<p style='color:#666;text-align:center;padding:30px'>No battles yet. Trigger a trading round to start the competition.</p>":""}
      </div>

      <!-- Head-to-Head Matrix -->
      <div class="card">
        <h2><span class="icon">\u2694\uFE0F</span> Head-to-Head Matrix</h2>
        ${r.agents.length>0?`
        <table class="matrix-table">
          <tr>
            <th></th>
            ${r.agents.map(u=>`<th style="color:${c[u]??"#ccc"}">${(a[u]??u).split(" ")[0]}</th>`).join("")}
          </tr>
          ${r.agents.map((u,d)=>`
          <tr>
            <td style="color:${c[u]??"#ccc"};font-weight:600">${(a[u]??u).split(" ")[0]}</td>
            ${r.agents.map((p,f)=>{if(d===f)return'<td class="matrix-cell matrix-self">\u2014</td>';let h=r.wins[d][f],m=r.wins[f][d];return`<td class="matrix-cell ${h>m?"matrix-win":h<m?"matrix-loss":""}">${h}-${m}</td>`}).join("")}
          </tr>`).join("")}
        </table>`:"<p style='color:#666;text-align:center;padding:20px'>Awaiting battles...</p>"}
      </div>

      <!-- Battle Highlights -->
      <div class="card">
        <h2><span class="icon">\u{1F31F}</span> Battle Highlights</h2>
        ${n.length>0?n.map(u=>`
        <div class="battle-card">
          <div>
            <span class="highlight-badge">${u.reason}</span>
          </div>
          <div class="narrative">${u.battle.narrative}</div>
          <div class="meta">
            <span>Margin: ${(u.battle.marginOfVictory*100).toFixed(1)}%</span>
            <span>${new Date(u.battle.timestamp).toLocaleString()}</span>
          </div>
        </div>`).join(""):"<p style='color:#666;text-align:center;padding:20px'>No highlights yet.</p>"}
      </div>

      <!-- Recent Battles -->
      <div class="card grid-full">
        <h2><span class="icon">\u26A1</span> Recent Battles</h2>
        ${o.length>0?o.map(u=>{let d=u.overallWinner?c[u.overallWinner]??"#f59e0b":"#94a3b8";return`
          <div class="battle-card" style="border-left-color: ${d}">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div>
                <span style="color:${c[u.agentA.agentId]??"#ccc"};font-weight:600">${a[u.agentA.agentId]??u.agentA.agentId}</span>
                <span style="color:#666"> vs </span>
                <span style="color:${c[u.agentB.agentId]??"#ccc"};font-weight:600">${a[u.agentB.agentId]??u.agentB.agentId}</span>
              </div>
              <div>
                ${u.overallWinner?`<span style="color:${d};font-weight:700">${(a[u.overallWinner]??u.overallWinner).split(" ")[0]} wins</span> <span style="color:#666">(${(u.marginOfVictory*100).toFixed(1)}%)</span>`:'<span class="tie">TIE</span>'}
                ${u.highlight?' <span class="highlight-badge">HIGHLIGHT</span>':""}
              </div>
            </div>
            <div class="narrative">${u.narrative}</div>
            <div class="meta">
              ${u.dimensions.map(p=>`<span>${p.name}: ${p.winnerAgentId?(a[p.winnerAgentId]??p.winnerAgentId).split(" ")[0]:"tie"}</span>`).join(" | ")}
            </div>
          </div>`}).join(""):"<p style='color:#666;text-align:center;padding:30px'>No battles yet. Start a trading round to see agent-vs-agent results.</p>"}
      </div>

      <!-- Scoring Methodology -->
      <div class="card grid-full">
        <h2><span class="icon">\u{1F4CA}</span> Battle Scoring Methodology</h2>
        <table>
          <tr><th>Dimension</th><th>Weight</th><th>Description</th></tr>
          <tr><td>Financial</td><td>20%</td><td>P&L comparison \u2014 who made more money?</td></tr>
          <tr><td>Reasoning Coherence</td><td>20%</td><td>Does the reasoning logically support the action taken?</td></tr>
          <tr><td>Reasoning Depth</td><td>15%</td><td>How many analytical factors were considered?</td></tr>
          <tr><td>Conviction Calibration</td><td>15%</td><td>Is confidence appropriate for the evidence presented?</td></tr>
          <tr><td>Originality</td><td>10%</td><td>Is reasoning novel or templated?</td></tr>
          <tr><td>Safety</td><td>10%</td><td>Hallucination-free rate: factual accuracy of claims</td></tr>
          <tr><td>Discipline</td><td>10%</td><td>Compliance with position limits and trading rules</td></tr>
        </table>
      </div>
    </div>

    <div class="footer">
      <a href="https://www.patgpt.us">www.patgpt.us</a> |
      <a href="/benchmark-v12">v12 Dashboard</a> |
      <a href="/api/v1/benchmark-v13/schema">API Schema</a> |
      <a href="/api/v1/benchmark-v13/export/jsonl">Export JSONL</a> |
      <a href="https://huggingface.co/datasets/patruff/molt-benchmark">HuggingFace</a>
      <br><br>
      <span style="color:#444">MoltApp Benchmark v13 \u2014 Battle Arena | Colosseum Agent Hackathon</span>
    </div>
  </div>

  <script>
    // Auto-refresh every 45 seconds
    setTimeout(() => location.reload(), 45000);
  </script>
</body>
</html>`;return t.html(l)});var M2r=ct.enum(["momentum","mean_reversion","value","hedge","contrarian","arbitrage","breakout","income"]),K2i=ct.enum(["market_price_feed","24h_price_change","trading_volume","portfolio_state","news_feed","technical_indicators","fundamentals","market_sentiment","sector_analysis","jupiter_price_api","on_chain_data","agent_consensus","market_data"]),Cyt=ct.object({symbol:ct.string().min(1,"Symbol is required").regex(/^[A-Z]{1,5}x?$/i,"Symbol must be a valid stock ticker (e.g. AAPLx)"),side:ct.enum(["buy","sell"]),quantity:ct.number().positive("Quantity must be positive").max(1e5,"Quantity exceeds maximum allowed"),reasoning:ct.string().min(20,"Reasoning must explain your logic (min 20 chars)").refine(t=>t.split(/\s+/).filter(Boolean).length>=5,"Reasoning must contain at least 5 words for benchmark quality"),confidence:ct.number().min(0,"Confidence must be >= 0").max(1,"Confidence must be <= 1"),sources:ct.array(ct.string()).min(1,"Must cite at least one data source"),intent:M2r,predictedOutcome:ct.string().optional(),predictionHorizon:ct.enum(["1h","4h","24h","7d"]).optional()}),L2r=ct.object({symbol:ct.string().min(1),reasoning:ct.string().min(10,"Hold decisions must be explained"),confidence:ct.number().min(0).max(1),sources:ct.array(ct.string()).optional(),predictedOutcome:ct.string().optional()}),Q2i=ct.discriminatedUnion("action",[ct.object({action:ct.literal("buy"),...Cyt.shape}),ct.object({action:ct.literal("sell"),...Cyt.shape}),ct.object({action:ct.literal("hold"),...L2r.shape})]);Ci();var cb=[];function Nyt(t){cb.push({...t,registeredAt:new Date().toISOString(),resolved:!1}),cb.length>500&&cb.splice(0,cb.length-500)}function Oyt(t){let e=[];for(let r of cb){if(r.resolved)continue;let n=t.get(r.symbol)??t.get(r.symbol.toLowerCase());if(!n)continue;let i=(n-r.priceAtPrediction)/r.priceAtPrediction*100,o=r.action==="sell"?-i:i,s=r.action==="buy"?n>r.priceAtPrediction:n<r.priceAtPrediction;r.resolved=!0,r.resolvedAt=new Date().toISOString(),r.exitPrice=n,r.pnlPercent=o,r.directionCorrect=s,e.push({agentId:r.agentId,symbol:r.symbol,directionCorrect:s,pnlPercent:o})}return e}function x_e(){let t=cb.filter(n=>n.resolved),e=t.filter(n=>n.directionCorrect).length,r=t.length>0?t.reduce((n,i)=>n+(i.pnlPercent??0),0)/t.length:0;return{totalRegistered:cb.length,totalResolved:t.length,pendingCount:cb.filter(n=>!n.resolved).length,directionAccuracy:t.length>0?ne(e/t.length):0,avgPnl:ne(r)}}var G4=[],Pyt=5e3;function kyt(t){G4.push(t),G4.length>Pyt&&G4.splice(0,G4.length-Pyt)}function Dyt(t,e,r){return t*.5+(e===0?1:Math.max(0,1-e*.25))*.3+(r?1:0)*.2>=.6?1:0}function w_e(t){let e=G4.filter(S=>S.agentId===t),r=e.length;if(r===0)return F2r(t);let n=10,i=[];for(let S=0;S<n;S++){let w=S/n,E=(S+1)/n,I=e.filter(P=>P.confidence>=w&&P.confidence<(S===n-1?1.01:E));if(I.length===0){i.push({binCenter:(w+E)/2,avgConfidence:(w+E)/2,avgOutcome:0,count:0,gap:0});continue}let D=I.reduce((P,$)=>P+$.confidence,0)/I.length,k=I.reduce((P,$)=>P+$.outcome,0)/I.length;i.push({binCenter:Math.round((w+E)/2*100)/100,avgConfidence:he(D),avgOutcome:he(k),count:I.length,gap:he(D-k)})}let o=i.filter(S=>S.count>0),s=o.reduce((S,w)=>S+w.count/r*Math.abs(w.avgOutcome-w.avgConfidence),0),a=o.reduce((S,w)=>Math.max(S,Math.abs(w.avgOutcome-w.avgConfidence)),0),c=e.reduce((S,w)=>S+Math.pow(w.confidence-w.outcome,2),0)/r,l=B2r(o),u=0,d=0;for(let S of o)S.avgConfidence>S.avgOutcome+.05?u+=S.count:S.avgOutcome>S.avgConfidence+.05&&(d+=S.count);let p=r>0?u/r:0,f=r>0?d/r:0,h=e.reduce((S,w)=>S+w.confidence,0)/r,m=e.reduce((S,w)=>S+w.outcome,0)/r,g=h>0?Math.round(m/h*100)/100:1,y=$2r(s,c,l),v=U2r(s,p,f,l);return{agentId:t,totalDataPoints:r,ece:he(s),mce:he(a),brierScore:he(c),monotonicCalibration:l,overconfidenceRatio:he(p),underconfidenceRatio:he(f),reliabilityDiagram:i,grade:y,assessment:v,suggestedCalibrationFactor:g}}function Myt(){let e=[...new Set(G4.map(i=>i.agentId))].map(i=>w_e(i)),r=e.filter(i=>i.totalDataPoints>=5).sort((i,o)=>i.ece-o.ece),n=r.map((i,o)=>({agentId:i.agentId,ece:i.ece,rank:o+1}));return{agents:e,bestCalibrated:r.length>0?r[0].agentId:null,worstCalibrated:r.length>0?r[r.length-1].agentId:null,rankings:n}}function B2r(t){if(t.length<2)return!0;let e=t[0].avgOutcome;for(let r=1;r<t.length;r++){if(t[r].avgOutcome<e-.1)return!1;e=t[r].avgOutcome}return!0}function $2r(t,e,r){let n=1-t*.6-e*.3-(r?0:.1);return n>=.95?"A+":n>=.9?"A":n>=.85?"A-":n>=.8?"B+":n>=.75?"B":n>=.7?"B-":n>=.65?"C+":n>=.6?"C":n>=.5?"D":"F"}function U2r(t,e,r,n){let i=[];return t<.05?i.push("Excellent calibration \u2014 confidence closely matches actual accuracy."):t<.1?i.push("Good calibration \u2014 minor gaps between confidence and accuracy."):t<.2?i.push("Moderate calibration \u2014 noticeable gap between stated and actual confidence."):i.push("Poor calibration \u2014 confidence does not predict accuracy well."),e>.6?i.push("Frequently overconfident \u2014 accuracy is lower than stated confidence suggests."):r>.4&&i.push("Somewhat underconfident \u2014 performs better than its confidence suggests."),n||i.push("Non-monotonic: higher confidence does not consistently predict better outcomes."),i.join(" ")}function F2r(t){return{agentId:t,totalDataPoints:0,ece:0,mce:0,brierScore:0,monotonicCalibration:!0,overconfidenceRatio:0,underconfidenceRatio:0,reliabilityDiagram:[],grade:"N/A",assessment:"No calibration data available yet.",suggestedCalibrationFactor:1}}var Sj=new Map,Lyt=200;function Byt(t){let e=Sj.get(t.agentId)??[];e.push(t),e.length>Lyt&&e.splice(0,e.length-Lyt),Sj.set(t.agentId,e)}function $yt(t){let e=["bullish","upside","growth","opportunity","undervalued","momentum","rally","breakout","accumulate","favorable","optimistic","recovery","strong","increase","gain"],r=["bearish","downside","risk","overvalued","declining","correction","breakdown","distribute","unfavorable","pessimistic","weakness","decrease","loss","caution"],n=t.toLowerCase(),i=0,o=0;for(let a of e)n.includes(a)&&i++;for(let a of r)n.includes(a)&&o++;let s=i+o;return s===0?0:(i-o)/s}function Uyt(t){let e=[],r=t.match(/"([^"]+)"/g);r&&e.push(...r.map(i=>i.replace(/"/g,"")));let n=t.match(/\b(support|resistance|moving average|RSI|MACD|P\/E|earnings|revenue|volume|trend|momentum|mean reversion|value play|hedge|contrarian)\b/gi);return n&&e.push(...n.map(i=>i.toLowerCase())),[...new Set(e)].slice(0,10)}function A_e(t){let e=Sj.get(t)??[];if(e.length<2)return j2r(t,e.length);let r=e.length,n=e.map(E=>E.sentimentScore),i=U2(n),o=e.map(E=>E.confidence),s=U2(o),a=0;for(let E=1;E<r;E++)e[E].intent!==e[E-1].intent&&a++;let c=r-1>0?a/(r-1):0,l=new Map;for(let E of e){let I=l.get(E.symbol)??[];I.push(E.action),l.set(E.symbol,I)}let u=0,d=0;for(let E of l.values())for(let I=1;I<E.length;I++)d++,(E[I]==="buy"&&E[I-1]==="sell"||E[I]==="sell"&&E[I-1]==="buy")&&u++;let p=d>0?u/d:0,f=e.map(E=>E.wordCount),h=Qe(f),m=h>0?U2(f)/h:0,g=z2r(i,s,c,p,m),y=H2r(e),v={};for(let[E,I]of l){let D=e.filter(W=>W.symbol===E),k=D.map(W=>W.sentimentScore),P=Math.max(...k),$=Math.min(...k),H=0;for(let W=1;W<I.length;W++)(I[W]==="buy"&&I[W-1]==="sell"||I[W]==="sell"&&I[W-1]==="buy")&&H++;v[E]={symbol:E,tradeCount:D.length,sentimentRange:Math.round((P-$)*100)/100,avgConfidence:he(Qe(D.map(W=>W.confidence))),flipCount:H,lastAction:I[I.length-1]}}let S=V2r(g),w=G2r(i,s,c,p,g);return{agentId:t,roundsAnalyzed:r,sentimentVolatility:he(i),confidenceVolatility:he(s),intentDriftRate:he(c),convictionFlipRate:he(p),lengthVariability:he(m),stabilityScore:he(g),grade:S,assessment:w,recentTrend:y,bySymbol:v}}function Fyt(){let e=[...Sj.keys()].map(n=>A_e(n)),r=e.filter(n=>n.roundsAnalyzed>=3).sort((n,i)=>i.stabilityScore-n.stabilityScore);return{agents:e,mostStable:r.length>0?r[0].agentId:null,mostVolatile:r.length>0?r[r.length-1].agentId:null,rankings:r.map((n,i)=>({agentId:n.agentId,stabilityScore:n.stabilityScore,rank:i+1}))}}function U2(t){if(t.length<2)return 0;let e=Qe(t),r=t.map(n=>Math.pow(n-e,2));return Math.sqrt(r.reduce((n,i)=>n+i,0)/(t.length-1))}function z2r(t,e,r,n,i){let o=Math.max(0,1-t*2),s=Math.max(0,1-e*4),a=1-r,c=1-n,l=Math.max(0,1-i);return o*.25+s*.2+a*.25+c*.2+l*.1}function H2r(t){if(t.length<10)return"consistent";let e=Math.min(10,Math.floor(t.length/2)),r=t.slice(-e),n=t.slice(0,-e),i=U2(r.map(u=>u.sentimentScore)),o=U2(n.map(u=>u.sentimentScore)),s=U2(r.map(u=>u.confidence)),a=U2(n.map(u=>u.confidence)),c=(i+s)/2,l=(o+a)/2;return c<l*.7?"stabilizing":c>l*1.3?"volatile":"consistent"}function V2r(t){return t>=.9?"A+":t>=.85?"A":t>=.8?"A-":t>=.75?"B+":t>=.7?"B":t>=.65?"B-":t>=.6?"C+":t>=.5?"C":t>=.4?"D":"F"}function G2r(t,e,r,n,i){let o=[];return i>=.8?o.push("Highly consistent reasoning patterns across trading rounds."):i>=.6?o.push("Moderately stable reasoning with some variation between rounds."):o.push("Volatile reasoning patterns \u2014 agent changes approach frequently."),t>.3&&o.push("High sentiment swings between rounds."),e>.2&&o.push("Confidence levels vary significantly."),r>.4&&o.push("Frequently switches strategy intent (momentum\u2192value\u2192contrarian)."),n>.3&&o.push("Frequently reverses conviction on the same stocks."),o.join(" ")}function j2r(t,e){return{agentId:t,roundsAnalyzed:e,sentimentVolatility:0,confidenceVolatility:0,intentDriftRate:0,convictionFlipRate:0,lengthVariability:0,stabilityScore:1,grade:"N/A",assessment:"Insufficient data for volatility analysis (need 2+ rounds).",recentTrend:"consistent",bySymbol:{}}}var Yc=[],zyt=500,Hyt=[];function Vyt(t,e){let r=e.filter(g=>g.action!=="hold"),n=new Map;for(let g of r)n.set(g.action,(n.get(g.action)??0)+1);let i,o,s=[],a=[];if(r.length===0)i="no_trades",o="hold",a=e;else{let g=n.get("buy")??0,y=n.get("sell")??0;g===r.length?(i="unanimous",o="buy",a=r):y===r.length?(i="unanimous",o="sell",a=r):g>y?(i=g>1?"majority":"split",o="buy",a=r.filter(v=>v.action==="buy"),s=r.filter(v=>v.action!=="buy").map(v=>v.agentId)):y>g?(i=y>1?"majority":"split",o="sell",a=r.filter(v=>v.action==="sell"),s=r.filter(v=>v.action!=="sell").map(v=>v.agentId)):(i="split",o="none",a=r)}let c=e.length>0?a.length/e.length:1,l=new Map;for(let g of a)l.set(g.symbol,(l.get(g.symbol)??0)+1);let u=null,d=0;for(let[g,y]of l)y>d&&(d=y,u=g);let p=a.map(g=>g.confidence),h=e.filter(g=>s.includes(g.agentId)).map(g=>g.confidence),m={roundId:t,timestamp:new Date().toISOString(),agents:e,consensusType:i,agreementScore:he(c),consensusAction:o,consensusSymbol:u,contrarians:s,majorityAvgConfidence:p.length>0?he(p.reduce((g,y)=>g+y,0)/p.length):0,contrarianAvgConfidence:h.length>0?he(h.reduce((g,y)=>g+y,0)/h.length):0};return Yc.push(m),Yc.length>zyt&&Yc.splice(0,Yc.length-zyt),Hyt.push({roundId:t,consensusAction:o,consensusSymbol:u,outcome:"pending"}),m}function E_e(){let t=Yc.length;if(t===0)return W2r();let e=Yc.reduce((h,m)=>h+m.agreementScore,0)/t,r=Yc.filter(h=>h.consensusType==="unanimous").length,n=Yc.filter(h=>h.consensusType==="split").length,i=Hyt.filter(h=>h.outcome!=="pending"),o=i.filter(h=>h.outcome==="correct").length,s=i.length>0?o/i.length:0,a=0,c={},l=new Set;for(let h of Yc)for(let m of h.agents)l.add(m.agentId);for(let h of l){let m=Yc.filter(E=>E.agents.some(I=>I.agentId===h)),g=0,y=0,v=[],S=[];for(let E of m){let I=E.agents.find(k=>k.agentId===h);if(!I)continue;E.contrarians.includes(h)?(S.push(I.confidence),E.contrarians.length===1&&y++):(g++,v.push(I.confidence))}let w=m.length>0?g/m.length:1;c[h]={agentId:h,agreementRate:he(w),loneContrarianCount:y,avgConfidenceWhenAgreeing:v.length>0?he(v.reduce((E,I)=>E+I,0)/v.length):0,avgConfidenceWhenDisagreeing:S.length>0?he(S.reduce((E,I)=>E+I,0)/S.length):0,contrarianWinRate:0,stance:w>=.8?"conformist":w>=.5?"independent":"contrarian"}}let u={},d=new Map;for(let h of Yc){let m=new Set(h.agents.map(g=>g.symbol));for(let g of m){let y=d.get(g)??[];y.push(h),d.set(g,y)}}for(let[h,m]of d){let g=0,y=0,v=0,S=0;for(let w of m){let E=w.agents.filter($=>$.symbol===h);if(E.length===0)continue;S++;let I=E.map($=>$.action);I.every($=>$===I[0])&&g++;let k=I.filter($=>$==="buy").length,P=I.filter($=>$==="sell").length;y+=k,v+=P}u[h]={symbol:h,roundsDebated:S,agreementRate:S>0?he(g/S):1,avgBullish:S>0?he(y/S):0,avgBearish:S>0?he(v/S):0,typicalConflict:y>v?"Mostly bullish with bear dissenters":v>y?"Mostly bearish with bull dissenters":"Evenly split"}}let p=[...Yc].sort((h,m)=>h.agreementScore-m.agreementScore).slice(0,5),f=q2r(Yc);return{totalRounds:t,avgAgreementScore:he(e),unanimousRate:he(r/t),splitRate:he(n/t),consensusAccuracy:he(s),contrarianAlpha:a,byAgent:c,bySymbol:u,mostControversialRounds:p,convergenceTrend:f}}function Gyt(t=20){return Yc.slice(-t).reverse()}function q2r(t){if(t.length<10)return"stable";let e=Math.floor(t.length/2),r=t.slice(0,e),n=t.slice(e),i=r.reduce((s,a)=>s+a.agreementScore,0)/r.length,o=n.reduce((s,a)=>s+a.agreementScore,0)/n.length;return o>i+.1?"converging":o<i-.1?"diverging":"stable"}function W2r(){return{totalRounds:0,avgAgreementScore:0,unanimousRate:0,splitRate:0,consensusAccuracy:0,contrarianAlpha:0,byAgent:{},bySymbol:{},mostControversialRounds:[],convergenceTrend:"stable"}}var I_e=new un,jyt=new Map,R_e=["claude-value-investor","gpt-momentum-trader","grok-contrarian"];function qyt(t,e){jyt.set(t,e)}var wj=new Set;function Wyt(t,e,r){let n={type:t,agentId:r??null,timestamp:new Date().toISOString(),...e},i=`data: ${JSON.stringify(n)}

`;for(let o of wj)try{o.enqueue(new TextEncoder().encode(i))}catch{wj.delete(o)}}I_e.get("/",t=>{let e=Jyt(),r=E_e(),n=Gyt(5),i=x_e(),o=`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MoltApp Benchmark v14 \u2014 10-Pillar AI Trading Evaluation</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: #0a0a0a; color: #e0e0e0; }
    .header { background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%); padding: 2rem; text-align: center; border-bottom: 2px solid #e94560; }
    .header h1 { font-size: 2rem; color: #fff; margin-bottom: 0.5rem; }
    .header .version { color: #e94560; font-size: 0.9rem; font-weight: bold; }
    .header .subtitle { color: #aaa; font-size: 0.85rem; margin-top: 0.5rem; }
    .container { max-width: 1400px; margin: 0 auto; padding: 1.5rem; }
    .pillar-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 0.8rem; margin-bottom: 1.5rem; }
    .pillar-card { background: #1a1a2e; border-radius: 8px; padding: 1rem; border: 1px solid #333; text-align: center; }
    .pillar-card h3 { font-size: 0.75rem; color: #888; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 0.5rem; }
    .pillar-card .score { font-size: 1.8rem; font-weight: bold; }
    .pillar-card .weight { font-size: 0.7rem; color: #666; margin-top: 0.3rem; }
    .green { color: #00e676; } .yellow { color: #ffca28; } .red { color: #ff5252; } .blue { color: #40c4ff; }
    .leaderboard { background: #1a1a2e; border-radius: 8px; padding: 1.5rem; margin-bottom: 1.5rem; border: 1px solid #333; }
    .leaderboard h2 { font-size: 1.2rem; margin-bottom: 1rem; color: #e94560; }
    table { width: 100%; border-collapse: collapse; }
    th { text-align: left; padding: 0.6rem; font-size: 0.75rem; color: #888; text-transform: uppercase; border-bottom: 1px solid #333; }
    td { padding: 0.6rem; font-size: 0.85rem; border-bottom: 1px solid #1a1a2e; }
    .grade { font-weight: bold; font-size: 1rem; }
    .grade-a { color: #00e676; } .grade-b { color: #40c4ff; } .grade-c { color: #ffca28; } .grade-d { color: #ff9800; } .grade-f { color: #ff5252; }
    .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1.5rem; }
    .card { background: #1a1a2e; border-radius: 8px; padding: 1.5rem; border: 1px solid #333; }
    .card h2 { font-size: 1.1rem; color: #e94560; margin-bottom: 0.8rem; }
    .stat-row { display: flex; justify-content: space-between; padding: 0.4rem 0; border-bottom: 1px solid #222; }
    .stat-row .label { color: #888; font-size: 0.8rem; } .stat-row .value { font-weight: bold; font-size: 0.85rem; }
    .bar-chart { margin-top: 0.5rem; }
    .bar { display: flex; align-items: center; margin: 0.3rem 0; }
    .bar-label { width: 100px; font-size: 0.75rem; color: #888; }
    .bar-fill { height: 16px; border-radius: 4px; min-width: 4px; transition: width 0.3s; }
    .bar-value { margin-left: 8px; font-size: 0.75rem; color: #aaa; }
    .badge { display: inline-block; padding: 0.2rem 0.5rem; border-radius: 4px; font-size: 0.7rem; font-weight: bold; }
    .badge-hf { background: #ffd54f; color: #000; }
    .badge-live { background: #00e676; color: #000; }
    .badge-v14 { background: #e94560; color: #fff; }
    .consensus-feed { list-style: none; }
    .consensus-feed li { padding: 0.6rem 0; border-bottom: 1px solid #222; font-size: 0.8rem; }
    .consensus-type { font-weight: bold; }
    .footer { text-align: center; padding: 2rem; color: #555; font-size: 0.75rem; }
    .footer a { color: #e94560; text-decoration: none; }
    @media (max-width: 900px) { .pillar-grid { grid-template-columns: repeat(2, 1fr); } .two-col { grid-template-columns: 1fr; } }
  </style>
</head>
<body>
  <div class="header">
    <h1>MoltApp: AI Trading Benchmark</h1>
    <div class="version">
      <span class="badge badge-v14">v14</span>
      <span class="badge badge-live">LIVE</span>
      <span class="badge badge-hf">HuggingFace</span>
    </div>
    <div class="subtitle">10-Pillar Scoring | Outcome Resolution | Calibration Curves | Consensus Intelligence</div>
  </div>

  <div class="container">
    <!-- 10 Pillar Overview -->
    <div class="pillar-grid">
      <div class="pillar-card">
        <h3>Financial</h3>
        <div class="score green">${ym(e,"financial")}</div>
        <div class="weight">15% weight</div>
      </div>
      <div class="pillar-card">
        <h3>Reasoning</h3>
        <div class="score blue">${ym(e,"reasoning")}</div>
        <div class="weight">14% weight</div>
      </div>
      <div class="pillar-card">
        <h3>Safety</h3>
        <div class="score green">${ym(e,"safety")}</div>
        <div class="weight">12% weight</div>
      </div>
      <div class="pillar-card">
        <h3>Calibration</h3>
        <div class="score yellow">${ym(e,"calibration")}</div>
        <div class="weight">10% weight</div>
      </div>
      <div class="pillar-card">
        <h3>Patterns</h3>
        <div class="score blue">${ym(e,"patterns")}</div>
        <div class="weight">7% weight</div>
      </div>
      <div class="pillar-card">
        <h3>Adaptability</h3>
        <div class="score yellow">${ym(e,"adaptability")}</div>
        <div class="weight">7% weight</div>
      </div>
      <div class="pillar-card">
        <h3>Forensic</h3>
        <div class="score blue">${ym(e,"forensicQuality")}</div>
        <div class="weight">10% weight</div>
      </div>
      <div class="pillar-card">
        <h3>Validation</h3>
        <div class="score green">${ym(e,"validationQuality")}</div>
        <div class="weight">10% weight</div>
      </div>
      <div class="pillar-card">
        <h3>Prediction</h3>
        <div class="score yellow">${ym(e,"predictionAccuracy")}</div>
        <div class="weight">8% weight \u2014 NEW</div>
      </div>
      <div class="pillar-card">
        <h3>Stability</h3>
        <div class="score green">${ym(e,"reasoningStability")}</div>
        <div class="weight">7% weight \u2014 NEW</div>
      </div>
    </div>

    <!-- Leaderboard -->
    <div class="leaderboard">
      <h2>Agent Leaderboard</h2>
      <table>
        <thead>
          <tr>
            <th>#</th><th>Agent</th><th>Composite</th><th>Grade</th>
            <th>Financial</th><th>Reasoning</th><th>Safety</th><th>Prediction</th><th>Stability</th>
            <th>Trades</th>
          </tr>
        </thead>
        <tbody>
          ${e.map((s,a)=>`
          <tr>
            <td>${a+1}</td>
            <td><strong>${xj(s.agentId)}</strong></td>
            <td><strong>${(s.composite*100).toFixed(1)}%</strong></td>
            <td><span class="grade ${T_e(s.grade)}">${s.grade}</span></td>
            <td>${(s.financial*100).toFixed(0)}%</td>
            <td>${(s.reasoning*100).toFixed(0)}%</td>
            <td>${(s.safety*100).toFixed(0)}%</td>
            <td>${(s.predictionAccuracy*100).toFixed(0)}%</td>
            <td>${(s.reasoningStability*100).toFixed(0)}%</td>
            <td>${s.tradeCount}</td>
          </tr>`).join("")}
        </tbody>
      </table>
    </div>

    <div class="two-col">
      <!-- Prediction Resolution -->
      <div class="card">
        <h2>Prediction Resolution</h2>
        <div class="stat-row"><span class="label">Pending Predictions</span><span class="value">${i.pendingCount}</span></div>
        <div class="stat-row"><span class="label">Resolved Predictions</span><span class="value">${i.totalResolved}</span></div>
        <div class="stat-row"><span class="label">Overall Direction Accuracy</span><span class="value">${(i.directionAccuracy*100).toFixed(1)}%</span></div>
        <div class="stat-row"><span class="label">Avg P&L</span><span class="value">${i.avgPnl.toFixed(2)}%</span></div>
      </div>

      <!-- Consensus Intelligence -->
      <div class="card">
        <h2>Consensus Intelligence</h2>
        <div class="stat-row"><span class="label">Rounds Analyzed</span><span class="value">${r.totalRounds}</span></div>
        <div class="stat-row"><span class="label">Avg Agreement</span><span class="value">${(r.avgAgreementScore*100).toFixed(0)}%</span></div>
        <div class="stat-row"><span class="label">Unanimous Rate</span><span class="value">${(r.unanimousRate*100).toFixed(0)}%</span></div>
        <div class="stat-row"><span class="label">Split Rate</span><span class="value">${(r.splitRate*100).toFixed(0)}%</span></div>
        <div class="stat-row"><span class="label">Convergence Trend</span><span class="value">${r.convergenceTrend}</span></div>
        <h3 style="margin-top:0.8rem;font-size:0.8rem;color:#888;">Recent Consensus</h3>
        <ul class="consensus-feed">
          ${n.map(s=>`
            <li>
              <span class="consensus-type" style="color:${s.consensusType==="unanimous"?"#00e676":s.consensusType==="split"?"#ff5252":"#ffca28"}">${s.consensusType.toUpperCase()}</span>
              ${s.consensusAction!=="none"?`\u2192 ${s.consensusAction.toUpperCase()} ${s.consensusSymbol??""}`:""}
              ${s.contrarians.length>0?`(contrarian: ${s.contrarians.map(xj).join(", ")})`:""}
            </li>
          `).join("")}
          ${n.length===0?"<li>No rounds recorded yet</li>":""}
        </ul>
      </div>
    </div>

    <div class="two-col">
      <!-- Calibration Curves -->
      <div class="card">
        <h2>Confidence Calibration</h2>
        ${R_e.map(s=>{let a=w_e(s);return`
            <div style="margin-bottom:1rem;">
              <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:0.3rem;">
                <strong style="font-size:0.85rem;">${xj(s)}</strong>
                <span class="grade ${T_e(a.grade)}">${a.grade}</span>
              </div>
              <div class="stat-row"><span class="label">ECE</span><span class="value">${a.ece.toFixed(3)}</span></div>
              <div class="stat-row"><span class="label">Brier Score</span><span class="value">${a.brierScore.toFixed(3)}</span></div>
              <div class="stat-row"><span class="label">Monotonic</span><span class="value">${a.monotonicCalibration?"Yes":"No"}</span></div>
              <div class="stat-row"><span class="label">Data Points</span><span class="value">${a.totalDataPoints}</span></div>
            </div>`}).join("")}
      </div>

      <!-- Reasoning Stability -->
      <div class="card">
        <h2>Reasoning Stability</h2>
        ${R_e.map(s=>{let a=A_e(s);return`
            <div style="margin-bottom:1rem;">
              <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:0.3rem;">
                <strong style="font-size:0.85rem;">${xj(s)}</strong>
                <span class="grade ${T_e(a.grade)}">${a.grade}</span>
              </div>
              <div class="stat-row"><span class="label">Stability Score</span><span class="value">${(a.stabilityScore*100).toFixed(0)}%</span></div>
              <div class="stat-row"><span class="label">Sentiment Vol</span><span class="value">${a.sentimentVolatility.toFixed(3)}</span></div>
              <div class="stat-row"><span class="label">Confidence Vol</span><span class="value">${a.confidenceVolatility.toFixed(3)}</span></div>
              <div class="stat-row"><span class="label">Flip Rate</span><span class="value">${(a.convictionFlipRate*100).toFixed(0)}%</span></div>
              <div class="stat-row"><span class="label">Trend</span><span class="value">${a.recentTrend}</span></div>
            </div>`}).join("")}
      </div>
    </div>
  </div>

  <div class="footer">
    <p>MoltApp v14 \u2014 AI Trading Benchmark | <a href="https://www.patgpt.us">www.patgpt.us</a> | <a href="https://huggingface.co/datasets/patruff/molt-benchmark">HuggingFace Dataset</a></p>
    <p>10-Pillar Scoring: Financial, Reasoning, Safety, Calibration, Patterns, Adaptability, Forensic, Validation, Prediction, Stability</p>
  </div>

  <script>
    // Auto-refresh every 30 seconds
    setTimeout(() => location.reload(), 30000);
  </script>
</body>
</html>`;return t.html(o)});I_e.get("/data",t=>{let e=Jyt(),r=E_e(),n=x_e(),i=Myt(),o=Fyt();return t.json({ok:!0,benchmark:"moltapp-v14",pillars:[{name:"Financial",weight:.15,description:"P&L, Sharpe, Win Rate, Drawdown"},{name:"Reasoning",weight:.14,description:"Coherence, Depth, Consistency"},{name:"Safety",weight:.12,description:"Hallucination-Free, Discipline"},{name:"Calibration",weight:.1,description:"ECE, Brier, Monotonic Quartiles"},{name:"Patterns",weight:.07,description:"Fallacy Detection, Vocabulary"},{name:"Adaptability",weight:.07,description:"Cross-Regime Performance"},{name:"Forensic Quality",weight:.1,description:"Structure, Originality, Clarity"},{name:"Validation Quality",weight:.1,description:"Depth, Sources, Grounding"},{name:"Prediction Accuracy",weight:.08,description:"Direction accuracy, target precision, resolution quality"},{name:"Reasoning Stability",weight:.07,description:"Sentiment vol, conviction flip rate, intent drift"}],leaderboard:e,predictionResolution:n,calibrationComparison:{bestCalibrated:i.bestCalibrated,worstCalibrated:i.worstCalibrated,rankings:i.rankings},volatilityComparison:{mostStable:o.mostStable,mostVolatile:o.mostVolatile,rankings:o.rankings},consensusDivergence:{totalRounds:r.totalRounds,avgAgreementScore:r.avgAgreementScore,unanimousRate:r.unanimousRate,splitRate:r.splitRate,convergenceTrend:r.convergenceTrend,byAgent:r.byAgent},timestamp:new Date().toISOString()})});I_e.get("/stream",t=>{let e=new ReadableStream({start(r){wj.add(r);let n=`data: ${JSON.stringify({type:"connected",benchmark:"moltapp-v14",pillars:10})}

`;r.enqueue(new TextEncoder().encode(n))},cancel(r){wj.delete(r)}});return new Response(e,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});function Jyt(){let t=[];for(let e of R_e){let r=jyt.get(e)??J2r();t.push({agentId:e,...r})}return t.sort((e,r)=>r.composite-e.composite),t}function J2r(){return{financial:.5,reasoning:.5,safety:.5,calibration:.5,patterns:.5,adaptability:.5,forensicQuality:.5,validationQuality:.5,predictionAccuracy:.5,reasoningStability:.5,composite:.5,grade:"C",tradeCount:0,lastUpdated:new Date().toISOString()}}function ym(t,e){return t.length===0?"\u2014":`${(t.reduce((n,i)=>n+(Number(i[e])||0),0)/t.length*100).toFixed(0)}%`}function xj(t){return t.includes("claude")?"Claude ValueBot":t.includes("gpt")?"GPT MomentumAI":t.includes("grok")?"Grok Contrarian":t}function T_e(t){return t.startsWith("A")?"grade-a":t.startsWith("B")?"grade-b":t.startsWith("C")?"grade-c":t.startsWith("D")?"grade-d":"grade-f"}import{createHash as K2r}from"crypto";var Kyt=1e3,Zg=new Map,Qyt=new Map,C_e=new Map;function Aj(t){return K2r("sha256").update(t,"utf8").digest("hex")}function Q2r(t){let e=JSON.stringify(t,Object.keys(t).sort());return Aj(e)}function Xyt(t,e,r){return Aj(`${t}:${e}:${r}`)}function Yyt(t,e){return Aj(`${t}:${e}`)}function X2r(t){let e={};for(let[r,n]of Zg)r!==t&&n.length>0&&(e[r]=n[n.length-1].chainHash);return e}function Zyt(t,e,r,n,i,o,s){let a=new Date().toISOString(),c=Aj(e),l=Q2r(o),u=Xyt(c,l,a),d=Zg.get(t)??[],p=d.length>0?d[d.length-1].chainHash:"",f=Yyt(u,p),h=(Qyt.get(t)??0)+1;Qyt.set(t,h);let m=X2r(t);return{proofId:`prov_${t}_${h}_${Date.now()}`,agentId:t,roundId:s,symbol:n,action:r,confidence:i,reasoningHash:c,marketDataHash:l,preCommitSeal:u,previousProofHash:p,chainHash:f,timestamp:a,sequenceNumber:h,witnessHashes:m}}function Y2r(t){let e={},r=Xyt(t.reasoningHash,t.marketDataHash,t.timestamp);e.preCommitSeal=r===t.preCommitSeal;let n=Yyt(t.preCommitSeal,t.previousProofHash);e.chainHash=n===t.chainHash;let i=Zg.get(t.agentId)??[];if(t.sequenceNumber===1)e.chainLinkage=t.previousProofHash==="";else{let a=i.find(c=>c.sequenceNumber===t.sequenceNumber-1);e.chainLinkage=a?a.chainHash===t.previousProofHash:!0}if(t.sequenceNumber>1){let a=i.find(c=>c.sequenceNumber===t.sequenceNumber-1);e.temporalOrder=a?new Date(t.timestamp)>=new Date(a.timestamp):!0}else e.temporalOrder=!0;let o=!0;for(let[a,c]of Object.entries(t.witnessHashes)){let l=Zg.get(a)??[];l.length>0&&(l.some(d=>d.chainHash===c)||(o=!1))}return e.witnessConsistency=o,{valid:Object.values(e).every(a=>a),checks:e}}function ebt(t){let e=Zg.get(t.agentId)??[];e.push(t),e.length>Kyt&&e.splice(0,e.length-Kyt),Zg.set(t.agentId,e),C_e.set(t.agentId,(C_e.get(t.agentId)??0)+1)}function Z2r(t){let e=Zg.get(t)??[],r=C_e.get(t)??0,n=!0;for(let i=0;i<e.length;i++){let o=e[i];if(!Y2r(o).valid){n=!1;break}if(i>0){let a=e[i-1];if(o.previousProofHash!==a.chainHash){n=!1;break}}}return{agentId:t,proofs:[...e],headHash:e.length>0?e[e.length-1].chainHash:"",totalRecorded:r,valid:n}}function N_e(){let t={},e=0,r=null,n=null;for(let o of Zg.keys()){let s=Z2r(o);t[o]=s.valid,e+=s.proofs.length;for(let a of s.proofs)(r===null||a.timestamp<r)&&(r=a.timestamp),(n===null||a.timestamp>n)&&(n=a.timestamp)}let i=Zg.size;return{totalAgents:i,totalProofs:e,chainIntegrity:t,avgChainLength:i>0?Math.round(e/i*10)/10:0,oldestProofTimestamp:r,newestProofTimestamp:n}}var exr=500,Fp=new Map,F2=[];function lb(t){return t.toLowerCase().replace(/[^a-z0-9\s]/g,"").split(/\s+/).filter(Boolean)}function Ej(t){let e=new Set;for(let r=0;r<t.length-1;r++)e.add(`${t[r]} ${t[r+1]}`);return e}function txr(t,e){if(t.size===0&&e.size===0)return 1;let r=0;for(let i of t)e.has(i)&&r++;let n=t.size+e.size-r;return n===0?0:r/n}function tbt(t){Fp.has(t.agentId)||Fp.set(t.agentId,[]);let e=Fp.get(t.agentId);for(e.push(t);e.length>exr;)e.shift()}function rbt(t){let e=t[0]?.roundId??"unknown",r=t[0]?.timestamp??new Date().toISOString(),n=[];for(let f=0;f<t.length;f++)for(let h=f+1;h<t.length;h++){let m=t[f],g=t[h],y=lb(m.reasoning),v=lb(g.reasoning),S=Ej(y),w=Ej(v);n.push({agentA:m.agentId,agentB:g.agentId,jaccardBigram:txr(S,w),actionAgreement:m.action===g.action,confidenceDelta:Math.abs(m.confidence-g.confidence)})}let i=[],o=t.map(f=>f.action),s=new Set(o),a=t.map(f=>f.confidence),c=Math.max(...a)-Math.min(...a);s.size>1&&i.push({roundId:e,symbol:t[0]?.symbol??"",agents:t.map(f=>({agentId:f.agentId,action:f.action,confidence:f.confidence})),divergenceType:"action_split",severity:(s.size-1)/Math.max(t.length-1,1)}),c>.3&&i.push({roundId:e,symbol:t[0]?.symbol??"",agents:t.map(f=>({agentId:f.agentId,action:f.action,confidence:f.confidence})),divergenceType:"confidence_spread",severity:Math.min(c,1)});let l=t.map(f=>{let h=Fp.get(f.agentId)??[f],m=h.length,g=h.filter(I=>I.action==="buy").length,y=h.filter(I=>I.action==="sell").length,v=h.filter(I=>I.action==="hold").length,S=h.map(I=>I.confidence),w=Qe(S),E=h.filter(I=>I.confidence>.8).length;return{agentId:f.agentId,bullishRate:g/m,bearishRate:y/m,neutralRate:v/m,avgConfidence:w,overconfidenceRatio:E/m}}),u=n.filter(f=>f.actionAgreement).length,d=n.length===0?0:u/n.length,p={roundId:e,timestamp:r,similarities:n,divergencePoints:i,biasIndicators:l,herdingScore:d,participantCount:t.length};return F2.push(p),p}function O_e(t){let e=Fp.get(t);if(!e||e.length===0)return null;let r=[],n=new Map,i=new Set;for(let w of e){let E=lb(w.reasoning);r.push(...E),E.forEach(D=>i.add(D));let I=Ej(E);for(let D of I)n.set(D,(n.get(D)??0)+1)}let o=[...n.entries()].sort((w,E)=>E[1]-w[1]).slice(0,20),s=new Set;for(let[w,E]of Fp)if(w!==t)for(let I of E)lb(I.reasoning).forEach(D=>s.add(D));let a=[...i].filter(w=>!s.has(w)).slice(0,30),c=e.reduce((w,E)=>w+lb(E.reasoning).length,0)/e.length,l={topBigrams:o,uniqueWords:a,avgWordCount:c,vocabularySize:i.size},u=e.length,d=e.filter(w=>w.action==="buy").length,p=e.filter(w=>w.action==="sell").length,f=e.filter(w=>w.action==="hold").length,h=e.map(w=>w.confidence),m=e.filter(w=>w.confidence>.8).length,g=e.map(w=>lb(w.reasoning).length),y=e.map(w=>Ej(lb(w.reasoning)).size),v=new Set;for(let[,w]of Fp)for(let E of w)lb(E.reasoning).forEach(I=>v.add(I));let S=v.size===0?0:a.length/v.size;return{agentId:t,vocabularyDNA:l,sentimentTendency:{bullishRate:d/u,bearishRate:p/u,neutralRate:f/u},confidencePattern:{mean:Qe(h),stdDev:Nse(h),overconfidenceRatio:m/u},reasoningStyle:{avgLength:Qe(g),avgBigramCount:Qe(y),uniquenessScore:S},sampleSize:u}}function P_e(){let t=[...Fp.keys()],e=new Map;for(let u of F2)for(let d of u.similarities){let p=[d.agentA,d.agentB].sort().join("|");e.has(p)||e.set(p,{total:0,disagree:0,confSum:0,symbolMap:new Map});let f=e.get(p);if(f.total++,!d.actionAgreement){f.disagree++,f.confSum+=d.confidenceDelta;let h=u.divergencePoints[0]?.symbol??"unknown";f.symbolMap.set(h,(f.symbolMap.get(h)??0)+1)}}let r=[...e.entries()].map(([u,d])=>{let[p,f]=u.split("|"),h=[...d.symbolMap.entries()].sort((m,g)=>g[1]-m[1]).slice(0,5).map(([m])=>m);return{agentPair:[p,f],disagreementRate:d.total===0?0:d.disagree/d.total,avgConfidenceWhenDisagreeing:d.disagree===0?0:d.confSum/d.disagree,mostDisagreedSymbols:h}}),n=[],i=[],o=[];for(let u of t){let d=Fp.get(u)??[],p=d.length||1,f=d.filter(m=>m.action==="buy").length/p,h=d.filter(m=>m.action==="sell").length/p;n.push(f),i.push(h),o.push({agentId:u,bullish:f,bearish:h})}let s=Qe(n),a=Qe(i),c=o.map(u=>{let d=u.bullish-s,p=u.bearish-a,f=d>p;return{agentId:u.agentId,direction:f?"bullish":"bearish",magnitude:Math.abs(f?d:p),comparedToAvg:f?d:p}}),l=F2.slice(-50).map(u=>u.herdingScore);return{systematicDisagreements:r,biasAsymmetries:c,herdingTrend:l,totalRoundsAnalyzed:F2.length}}function k_e(){let t=0;for(let[,o]of Fp)t+=o.length;let e=F2.flatMap(o=>o.similarities),r=e.map(o=>o.jaccardBigram),n=e.map(o=>o.confidenceDelta),i=e.filter(o=>o.actionAgreement).length;return{totalEntriesRecorded:t,agentCount:Fp.size,roundsCompared:F2.length,avgHerdingScore:Qe(F2.map(o=>o.herdingScore)),avgJaccardSimilarity:Qe(r),avgConfidenceDelta:Qe(n),actionAgreementRate:e.length===0?0:i/e.length}}import*as Tj from"crypto";var nbt=500,z2=[];function D_e(t){return t==null?String(t):typeof t!="object"?JSON.stringify(t):Array.isArray(t)?"["+t.map(D_e).join(",")+"]":"{"+Object.keys(t).sort().map(r=>JSON.stringify(r)+":"+D_e(t[r])).join(",")+"}"}function M_e(t){return Tj.createHash("sha256").update(t,"utf8").digest("hex")}function j4(t){return M_e(D_e(t))}function rxr(t){return M_e("molt-v15-seal:"+t)}function ibt(t){let e={...t,inputHash:j4(t.inputs),configHash:j4(t.scoringConfig),outputHash:j4(t.scores)};return z2.push(e),z2.length>nbt&&z2.splice(0,z2.length-nbt),e}function obt(t,e,r,n){let i=j4(e),o=j4(n),s=j4(r),a=M_e(i+o+s),c=z2.filter(d=>d.inputHash===i&&d.configHash===o),l=c.filter(d=>d.outputHash===s).length,u=c.filter(d=>d.outputHash!==s).length;return{proofId:"proof-"+Tj.randomBytes(12).toString("hex"),roundId:t,timestamp:Date.now(),inputHash:i,configHash:o,outputHash:s,combinedHash:a,deterministic:u===0,priorRunMatches:l,priorRunMismatches:u,signature:rxr(a)}}function L_e(){let t=new Map;for(let o of z2){let s=(o.inputHash??"")+"|"+(o.configHash??""),a=t.get(s)??[];a.push(o),t.set(s,a)}let e=[],r=0,n=0;for(let[,o]of t)if(new Set(o.map(a=>a.outputHash)).size<=1)r++;else{n++;for(let a of o)e.includes(a.roundId)||e.push(a.roundId)}let i=r+n;return{totalRuns:z2.length,uniqueInputSets:t.size,deterministicSets:r,nonDeterministicSets:n,reproducibilityRate:i>0?r/i:1,nonDeterministicRounds:e,generatedAt:Date.now()}}var B_e=new un,abt=new Map,$_e=["claude-value-investor","gpt-momentum-trader","grok-contrarian"];function cbt(t,e){abt.set(t,e),U_e("metrics_updated",{agentId:t,composite:e.composite,grade:e.grade},t)}var sbt=new Set,Rj=new Set;function U_e(t,e,r){let n={type:t,agentId:r??null,timestamp:new Date().toISOString(),...e},i=`data: ${JSON.stringify(n)}

`;for(let o of sbt)try{o(i)}catch{sbt.delete(o)}for(let o of Rj)try{o.enqueue(new TextEncoder().encode(i))}catch{Rj.delete(o)}}function lbt(){let t=[];for(let e of $_e){let r=abt.get(e)??nxr();t.push({agentId:e,...r})}return t.sort((e,r)=>r.composite-e.composite),t}function nxr(){return{financial:.5,reasoning:.5,safety:.5,calibration:.5,patterns:.5,adaptability:.5,forensicQuality:.5,validationQuality:.5,predictionAccuracy:.5,reasoningStability:.5,provenanceIntegrity:.5,modelComparison:.5,composite:.5,grade:"C",tradeCount:0,lastUpdated:new Date().toISOString()}}function Id(t,e){return t.length===0?"\u2014":`${(t.reduce((n,i)=>n+(Number(i[e])||0),0)/t.length*100).toFixed(0)}%`}function q4(t){return t.includes("claude")?"Claude ValueBot":t.includes("gpt")?"GPT MomentumAI":t.includes("grok")?"Grok Contrarian":t}function ixr(t){return t.startsWith("A")?"grade-a":t.startsWith("B")?"grade-b":t.startsWith("C")?"grade-c":t.startsWith("D")?"grade-d":"grade-f"}function H2(t){return String(t??"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}B_e.get("/",t=>{let e=lbt(),r=N_e(),n=k_e(),i=P_e(),o=L_e(),s=$_e.map(d=>({agentId:d,fingerprint:O_e(d)})),a=Object.entries(r.chainIntegrity).map(([d,p])=>`
      <tr>
        <td>${H2(q4(d))}</td>
        <td style="color:${p?"#00e676":"#ff5252"};">${p?"VALID":"BROKEN"}</td>
      </tr>`).join(""),c=s.map(({agentId:d,fingerprint:p})=>p?`<div class="card" style="flex:1;min-width:250px;">
      <h3 style="font-size:0.85rem;color:#aaa;margin-bottom:0.5rem;">${H2(q4(d))}</h3>
      <div class="stat-row"><span class="label">Bullish Rate</span><span class="value">${(p.sentimentTendency.bullishRate*100).toFixed(0)}%</span></div>
      <div class="stat-row"><span class="label">Bearish Rate</span><span class="value">${(p.sentimentTendency.bearishRate*100).toFixed(0)}%</span></div>
      <div class="stat-row"><span class="label">Avg Confidence</span><span class="value">${(p.confidencePattern.mean*100).toFixed(0)}%</span></div>
      <div class="stat-row"><span class="label">Vocab Size</span><span class="value">${p.vocabularyDNA.vocabularySize}</span></div>
      <div class="stat-row"><span class="label">Uniqueness</span><span class="value">${(p.reasoningStyle.uniquenessScore*100).toFixed(1)}%</span></div>
      <div class="stat-row"><span class="label">Samples</span><span class="value">${p.sampleSize}</span></div>
    </div>`:`<div class="card" style="flex:1;min-width:250px;">
        <h3 style="font-size:0.85rem;color:#aaa;">${H2(q4(d))}</h3>
        <p style="color:#666;font-size:0.8rem;">No data yet</p>
      </div>`).join(""),l=i.systematicDisagreements.map(d=>`
    <tr>
      <td>${H2(q4(d.agentPair[0]))} vs ${H2(q4(d.agentPair[1]))}</td>
      <td>${(d.disagreementRate*100).toFixed(0)}%</td>
      <td>${d.mostDisagreedSymbols.slice(0,3).join(", ")||"N/A"}</td>
    </tr>`).join(""),u=`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MoltApp Benchmark v15 \u2014 Industry-Standard AI Trading Benchmark</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: #0a0a0a; color: #e0e0e0; }
    .header { background: linear-gradient(135deg, #0d1117 0%, #161b22 50%, #0f3460 100%); padding: 2rem; text-align: center; border-bottom: 2px solid #e94560; }
    .header h1 { font-size: 2rem; color: #fff; margin-bottom: 0.5rem; }
    .header .version { color: #e94560; font-size: 0.9rem; font-weight: bold; margin-bottom: 0.4rem; }
    .header .subtitle { color: #aaa; font-size: 0.85rem; margin-top: 0.5rem; }
    .header .subtitle a { color: #58a6ff; text-decoration: none; }
    .container { max-width: 1440px; margin: 0 auto; padding: 1.5rem; }
    .section-title { font-size: 1.15rem; color: #e94560; margin: 1.5rem 0 0.8rem; border-bottom: 1px solid #333; padding-bottom: 0.4rem; }
    .pillar-grid { display: grid; grid-template-columns: repeat(6, 1fr); gap: 0.7rem; margin-bottom: 1.5rem; }
    .pillar-card { background: #161b22; border-radius: 8px; padding: 0.8rem; border: 1px solid #30363d; text-align: center; }
    .pillar-card h3 { font-size: 0.7rem; color: #8b949e; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 0.4rem; }
    .pillar-card .score { font-size: 1.6rem; font-weight: bold; }
    .pillar-card .weight { font-size: 0.65rem; color: #484f58; margin-top: 0.2rem; }
    .green { color: #3fb950; } .yellow { color: #d29922; } .red { color: #f85149; } .blue { color: #58a6ff; } .purple { color: #bc8cff; }
    .leaderboard { background: #161b22; border-radius: 8px; padding: 1.5rem; margin-bottom: 1.5rem; border: 1px solid #30363d; overflow-x: auto; }
    .leaderboard h2 { font-size: 1.2rem; margin-bottom: 1rem; color: #e94560; }
    table { width: 100%; border-collapse: collapse; }
    th { text-align: left; padding: 0.5rem 0.4rem; font-size: 0.7rem; color: #8b949e; text-transform: uppercase; border-bottom: 1px solid #30363d; }
    td { padding: 0.5rem 0.4rem; font-size: 0.8rem; border-bottom: 1px solid #21262d; }
    .grade { font-weight: bold; font-size: 1rem; }
    .grade-a { color: #3fb950; } .grade-b { color: #58a6ff; } .grade-c { color: #d29922; } .grade-d { color: #db6d28; } .grade-f { color: #f85149; }
    .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1.5rem; }
    .three-col { display: flex; gap: 1rem; margin-bottom: 1.5rem; flex-wrap: wrap; }
    .card { background: #161b22; border-radius: 8px; padding: 1.2rem; border: 1px solid #30363d; }
    .card h2 { font-size: 1rem; color: #e94560; margin-bottom: 0.8rem; }
    .stat-row { display: flex; justify-content: space-between; padding: 0.35rem 0; border-bottom: 1px solid #21262d; }
    .stat-row .label { color: #8b949e; font-size: 0.78rem; } .stat-row .value { font-weight: bold; font-size: 0.82rem; }
    .badge { display: inline-block; padding: 0.2rem 0.6rem; border-radius: 4px; font-size: 0.7rem; font-weight: bold; margin: 0 0.15rem; }
    .badge-hf { background: #ffd54f; color: #000; }
    .badge-live { background: #3fb950; color: #000; }
    .badge-v15 { background: #e94560; color: #fff; }
    .badge-new { background: #bc8cff; color: #000; }
    .methodology { background: #161b22; border-radius: 8px; padding: 1.5rem; border: 1px solid #30363d; margin-bottom: 1.5rem; }
    .methodology h2 { font-size: 1.1rem; color: #e94560; margin-bottom: 0.8rem; }
    .methodology ol { padding-left: 1.2rem; }
    .methodology li { font-size: 0.8rem; color: #c9d1d9; margin-bottom: 0.35rem; }
    .methodology li strong { color: #58a6ff; }
    .brain-feed { background: #161b22; border-radius: 8px; padding: 1.2rem; border: 1px solid #30363d; margin-bottom: 1.5rem; min-height: 100px; }
    .brain-feed h2 { font-size: 1rem; color: #e94560; margin-bottom: 0.6rem; }
    .brain-feed .placeholder { color: #484f58; font-size: 0.8rem; font-style: italic; }
    #brain-feed-list { list-style: none; max-height: 180px; overflow-y: auto; }
    #brain-feed-list li { padding: 0.4rem 0; border-bottom: 1px solid #21262d; font-size: 0.78rem; color: #c9d1d9; }
    .footer { text-align: center; padding: 2rem; color: #484f58; font-size: 0.72rem; border-top: 1px solid #21262d; margin-top: 1rem; }
    .footer a { color: #e94560; text-decoration: none; }
    @media (max-width: 1024px) { .pillar-grid { grid-template-columns: repeat(3, 1fr); } }
    @media (max-width: 768px) { .pillar-grid { grid-template-columns: repeat(2, 1fr); } .two-col { grid-template-columns: 1fr; } .three-col { flex-direction: column; } }
  </style>
</head>
<body>
  <div class="header">
    <h1>MoltApp: AI Trading Benchmark</h1>
    <div class="version">
      <span class="badge badge-v15">v15</span>
      <span class="badge badge-live">LIVE</span>
      <span class="badge badge-hf">HuggingFace</span>
      <span class="badge badge-new">NEW: Provenance &amp; Reproducibility</span>
    </div>
    <div class="subtitle">
      Industry-Standard 12-Pillar Scoring | Cryptographic Provenance | Cross-Model Fingerprinting | Reproducibility Proofs
      <br/><a href="https://www.patgpt.us">patgpt.us</a> &middot;
      <a href="https://huggingface.co/datasets/patruff/molt-benchmark">HuggingFace Dataset</a>
    </div>
  </div>

  <div class="container">
    <!-- 12-Pillar Overview -->
    <h2 class="section-title">12-Pillar Scoring Overview</h2>
    <div class="pillar-grid">
      <div class="pillar-card"><h3>Financial</h3><div class="score green">${Id(e,"financial")}</div><div class="weight">13% weight</div></div>
      <div class="pillar-card"><h3>Reasoning</h3><div class="score blue">${Id(e,"reasoning")}</div><div class="weight">12% weight</div></div>
      <div class="pillar-card"><h3>Safety</h3><div class="score green">${Id(e,"safety")}</div><div class="weight">10% weight</div></div>
      <div class="pillar-card"><h3>Calibration</h3><div class="score yellow">${Id(e,"calibration")}</div><div class="weight">9% weight</div></div>
      <div class="pillar-card"><h3>Patterns</h3><div class="score blue">${Id(e,"patterns")}</div><div class="weight">6% weight</div></div>
      <div class="pillar-card"><h3>Adaptability</h3><div class="score yellow">${Id(e,"adaptability")}</div><div class="weight">6% weight</div></div>
      <div class="pillar-card"><h3>Forensic</h3><div class="score blue">${Id(e,"forensicQuality")}</div><div class="weight">8% weight</div></div>
      <div class="pillar-card"><h3>Validation</h3><div class="score green">${Id(e,"validationQuality")}</div><div class="weight">8% weight</div></div>
      <div class="pillar-card"><h3>Prediction</h3><div class="score yellow">${Id(e,"predictionAccuracy")}</div><div class="weight">7% weight</div></div>
      <div class="pillar-card"><h3>Stability</h3><div class="score green">${Id(e,"reasoningStability")}</div><div class="weight">6% weight</div></div>
      <div class="pillar-card"><h3>Provenance</h3><div class="score purple">${Id(e,"provenanceIntegrity")}</div><div class="weight">8% weight &mdash; NEW</div></div>
      <div class="pillar-card"><h3>Model Comp.</h3><div class="score purple">${Id(e,"modelComparison")}</div><div class="weight">7% weight &mdash; NEW</div></div>
    </div>

    <!-- Agent Leaderboard -->
    <div class="leaderboard">
      <h2>Agent Leaderboard &mdash; 12-Pillar Composite</h2>
      <table>
        <thead>
          <tr>
            <th>#</th><th>Agent</th><th>Composite</th><th>Grade</th>
            <th>Fin</th><th>Rsn</th><th>Safe</th><th>Cal</th><th>Pat</th><th>Adpt</th>
            <th>For</th><th>Val</th><th>Pred</th><th>Stab</th><th>Prov</th><th>Comp</th>
            <th>Trades</th>
          </tr>
        </thead>
        <tbody>
          ${e.map((d,p)=>`
          <tr>
            <td>${p+1}</td>
            <td><strong>${H2(q4(d.agentId))}</strong></td>
            <td><strong>${(d.composite*100).toFixed(1)}%</strong></td>
            <td><span class="grade ${ixr(d.grade)}">${H2(d.grade)}</span></td>
            <td>${(d.financial*100).toFixed(0)}%</td>
            <td>${(d.reasoning*100).toFixed(0)}%</td>
            <td>${(d.safety*100).toFixed(0)}%</td>
            <td>${(d.calibration*100).toFixed(0)}%</td>
            <td>${(d.patterns*100).toFixed(0)}%</td>
            <td>${(d.adaptability*100).toFixed(0)}%</td>
            <td>${(d.forensicQuality*100).toFixed(0)}%</td>
            <td>${(d.validationQuality*100).toFixed(0)}%</td>
            <td>${(d.predictionAccuracy*100).toFixed(0)}%</td>
            <td>${(d.reasoningStability*100).toFixed(0)}%</td>
            <td>${(d.provenanceIntegrity*100).toFixed(0)}%</td>
            <td>${(d.modelComparison*100).toFixed(0)}%</td>
            <td>${d.tradeCount}</td>
          </tr>`).join("")}
        </tbody>
      </table>
    </div>

    <div class="two-col">
      <!-- Provenance Integrity -->
      <div class="card">
        <h2>Provenance Integrity (Pillar 11)</h2>
        <div class="stat-row"><span class="label">Total Agents Tracked</span><span class="value">${r.totalAgents}</span></div>
        <div class="stat-row"><span class="label">Total Proofs Recorded</span><span class="value">${r.totalProofs}</span></div>
        <div class="stat-row"><span class="label">Avg Chain Length</span><span class="value">${r.avgChainLength.toFixed(1)}</span></div>
        <div class="stat-row"><span class="label">Oldest Proof</span><span class="value" style="font-size:0.7rem;">${r.oldestProofTimestamp?new Date(r.oldestProofTimestamp).toLocaleString():"N/A"}</span></div>
        <div class="stat-row"><span class="label">Newest Proof</span><span class="value" style="font-size:0.7rem;">${r.newestProofTimestamp?new Date(r.newestProofTimestamp).toLocaleString():"N/A"}</span></div>
        <h3 style="margin-top:0.8rem;font-size:0.8rem;color:#8b949e;margin-bottom:0.4rem;">Chain Validity per Agent</h3>
        <table>
          <thead><tr><th>Agent</th><th>Status</th></tr></thead>
          <tbody>
            ${a||'<tr><td colspan="2" style="color:#484f58;">No chains recorded yet</td></tr>'}
          </tbody>
        </table>
      </div>

      <!-- Reproducibility -->
      <div class="card">
        <h2>Reproducibility Proof (Pillar 12)</h2>
        <div class="stat-row"><span class="label">Total Scoring Runs</span><span class="value">${o.totalRuns}</span></div>
        <div class="stat-row"><span class="label">Unique Input Sets</span><span class="value">${o.uniqueInputSets}</span></div>
        <div class="stat-row"><span class="label">Deterministic Sets</span><span class="value green">${o.deterministicSets}</span></div>
        <div class="stat-row"><span class="label">Non-Deterministic Sets</span><span class="value ${o.nonDeterministicSets>0?"red":"green"}">${o.nonDeterministicSets}</span></div>
        <div class="stat-row">
          <span class="label">Determinism Rate</span>
          <span class="value" style="font-size:1.1rem;color:${o.reproducibilityRate>=.95?"#3fb950":o.reproducibilityRate>=.8?"#d29922":"#f85149"};">
            ${(o.reproducibilityRate*100).toFixed(1)}%
          </span>
        </div>
        ${o.nonDeterministicRounds.length>0?`
        <h3 style="margin-top:0.8rem;font-size:0.8rem;color:#8b949e;">Non-Deterministic Rounds</h3>
        <p style="font-size:0.75rem;color:#f85149;margin-top:0.3rem;">${o.nonDeterministicRounds.slice(0,5).join(", ")}</p>
        `:'<p style="margin-top:0.8rem;font-size:0.78rem;color:#3fb950;">All runs are fully deterministic.</p>'}
      </div>
    </div>

    <!-- Cross-Model Comparison -->
    <h2 class="section-title">Cross-Model Comparison (Pillar 12)</h2>
    <div class="two-col">
      <div class="card">
        <h2>Aggregate Comparison Stats</h2>
        <div class="stat-row"><span class="label">Entries Recorded</span><span class="value">${n.totalEntriesRecorded}</span></div>
        <div class="stat-row"><span class="label">Agents Tracked</span><span class="value">${n.agentCount}</span></div>
        <div class="stat-row"><span class="label">Rounds Compared</span><span class="value">${n.roundsCompared}</span></div>
        <div class="stat-row"><span class="label">Avg Herding Score</span><span class="value">${(n.avgHerdingScore*100).toFixed(0)}%</span></div>
        <div class="stat-row"><span class="label">Avg Reasoning Similarity</span><span class="value">${(n.avgJaccardSimilarity*100).toFixed(1)}%</span></div>
        <div class="stat-row"><span class="label">Action Agreement Rate</span><span class="value">${(n.actionAgreementRate*100).toFixed(0)}%</span></div>
        <div class="stat-row"><span class="label">Avg Confidence Delta</span><span class="value">${(n.avgConfidenceDelta*100).toFixed(1)}%</span></div>
      </div>

      <div class="card">
        <h2>Systematic Disagreements</h2>
        ${i.systematicDisagreements.length>0?`
        <table>
          <thead><tr><th>Agent Pair</th><th>Disagree Rate</th><th>Top Symbols</th></tr></thead>
          <tbody>${l}</tbody>
        </table>`:'<p style="color:#484f58;font-size:0.8rem;font-style:italic;">No disagreements recorded yet. Rounds will populate this section.</p>'}
        <div class="stat-row" style="margin-top:0.8rem;"><span class="label">Total Rounds Analyzed</span><span class="value">${i.totalRoundsAnalyzed}</span></div>
      </div>
    </div>

    <!-- Model Fingerprints -->
    <h2 class="section-title">Model Fingerprints</h2>
    <div class="three-col">
      ${c}
    </div>

    <!-- Brain Feed -->
    <div class="brain-feed">
      <h2>Live Reasoning Feed</h2>
      <ul id="brain-feed-list">
        <li class="placeholder">Listening for live reasoning events via SSE...</li>
      </ul>
    </div>

    <!-- Methodology -->
    <div class="methodology">
      <h2>Methodology: 12-Pillar Scoring Framework</h2>
      <ol>
        <li><strong>Financial (13%)</strong> &mdash; P&amp;L, Sharpe ratio, win rate, max drawdown</li>
        <li><strong>Reasoning (12%)</strong> &mdash; Coherence, depth, logical consistency</li>
        <li><strong>Safety (10%)</strong> &mdash; Hallucination-free rate, trading discipline</li>
        <li><strong>Calibration (9%)</strong> &mdash; ECE, Brier score, monotonic quartiles</li>
        <li><strong>Patterns (6%)</strong> &mdash; Fallacy detection, cognitive bias recognition</li>
        <li><strong>Adaptability (6%)</strong> &mdash; Cross-regime performance, regime shift handling</li>
        <li><strong>Forensic Quality (8%)</strong> &mdash; Structure, originality, analytical clarity</li>
        <li><strong>Validation Quality (8%)</strong> &mdash; Source grounding, factual depth</li>
        <li><strong>Prediction Accuracy (7%)</strong> &mdash; Direction accuracy, target precision, resolution quality</li>
        <li><strong>Reasoning Stability (6%)</strong> &mdash; Sentiment volatility, conviction flip rate</li>
        <li><strong>Provenance Integrity (8%)</strong> &mdash; Cryptographic proof of pre-trade reasoning, chain validity, cross-agent witnesses</li>
        <li><strong>Model Comparison (7%)</strong> &mdash; Cross-model fingerprinting, bias asymmetry, reasoning divergence</li>
      </ol>
    </div>
  </div>

  <div class="footer">
    <p>MoltApp v15 &mdash; Industry-Standard AI Trading Benchmark</p>
    <p><a href="https://www.patgpt.us">patgpt.us</a> | <a href="https://huggingface.co/datasets/patruff/molt-benchmark">HuggingFace Dataset</a></p>
    <p style="margin-top:0.5rem;">12-Pillar Scoring: Financial, Reasoning, Safety, Calibration, Patterns, Adaptability, Forensic, Validation, Prediction, Stability, Provenance, Model Comparison</p>
    <p style="margin-top:0.3rem;">Citation: MoltApp Benchmark v15 (2025). Multi-agent LLM Trading Evaluation with Provenance Proofs. <a href="https://www.patgpt.us">patgpt.us</a></p>
  </div>

  <script>
    // Auto-refresh every 45 seconds
    setTimeout(function() { location.reload(); }, 45000);

    // SSE live feed
    (function() {
      try {
        var es = new EventSource(location.pathname.replace(/\\/$/, '') + '/stream');
        var list = document.getElementById('brain-feed-list');
        es.onmessage = function(e) {
          try {
            var d = JSON.parse(e.data);
            var li = document.createElement('li');
            var ts = d.timestamp ? new Date(d.timestamp).toLocaleTimeString() : '';
            li.textContent = '[' + ts + '] ' + (d.type || 'event') + (d.agentId ? ' (' + d.agentId + ')' : '') + ': ' + JSON.stringify(d);
            if (list.firstChild && list.firstChild.className === 'placeholder') list.innerHTML = '';
            list.insertBefore(li, list.firstChild);
            while (list.children.length > 50) list.removeChild(list.lastChild);
          } catch(ex) {}
        };
      } catch(ex) {}
    })();
  </script>
</body>
</html>`;return t.html(u)});B_e.get("/data",t=>{let e=lbt(),r=N_e(),n=k_e(),i=P_e(),o=L_e(),s={};for(let a of $_e)s[a]=O_e(a);return t.json({ok:!0,benchmark:"moltapp-v15",pillars:[{name:"Financial",weight:.13,description:"P&L, Sharpe, Win Rate, Drawdown"},{name:"Reasoning",weight:.12,description:"Coherence, Depth, Consistency"},{name:"Safety",weight:.1,description:"Hallucination-Free, Discipline"},{name:"Calibration",weight:.09,description:"ECE, Brier, Monotonic Quartiles"},{name:"Patterns",weight:.06,description:"Fallacy Detection, Vocabulary"},{name:"Adaptability",weight:.06,description:"Cross-Regime Performance"},{name:"Forensic Quality",weight:.08,description:"Structure, Originality, Clarity"},{name:"Validation Quality",weight:.08,description:"Depth, Sources, Grounding"},{name:"Prediction Accuracy",weight:.07,description:"Direction accuracy, target precision"},{name:"Reasoning Stability",weight:.06,description:"Sentiment vol, conviction flip rate"},{name:"Provenance Integrity",weight:.08,description:"Cryptographic pre-trade reasoning proof"},{name:"Model Comparison",weight:.07,description:"Cross-model fingerprinting, divergence"}],leaderboard:e,provenanceStats:r,crossModelStats:n,divergenceReport:{systematicDisagreements:i.systematicDisagreements,biasAsymmetries:i.biasAsymmetries,herdingTrend:i.herdingTrend,totalRoundsAnalyzed:i.totalRoundsAnalyzed},reproducibilityReport:o,fingerprints:s,timestamp:new Date().toISOString()})});B_e.get("/stream",t=>{let e=new ReadableStream({start(r){Rj.add(r);let n=`data: ${JSON.stringify({type:"connected",benchmark:"moltapp-v15",pillars:12})}

`;r.enqueue(new TextEncoder().encode(n))},cancel(r){Rj.delete(r)}});return new Response(e,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});var ubt=new Map,pbt=new Map,F_e=new Map,oxr=200;function fbt(t){let e=ubt.get(t);return e||(e={coherence:[],hallucinationFree:[],discipline:[],confidence:[],outcomes:[],wordCounts:[],quantClaims:[],hedgeWords:[],regimeActions:[],sentimentScores:[],intents:[],depths:[],forensicScores:[],validationScores:[],predictionCorrect:[],provenanceValid:[],modelComparisonScores:[]},ubt.set(t,e)),e}function xa(t,e){t.push(e),t.length>oxr&&t.shift()}function Ya(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}function dbt(t){if(t.length<2)return 0;let e=Qe(t);return Math.sqrt(t.reduce((r,n)=>r+(n-e)**2,0)/t.length)}function Ij(t){return t.length>0?t.filter(Boolean).length/t.length:.5}var sxr=[/\bperhaps\b/i,/\bmaybe\b/i,/\bmight\b/i,/\bcould\b/i,/\bpossibly\b/i,/\buncertain\b/i,/\bnot\s+sure\b/i,/\bhowever\b/i,/\bon\s+the\s+other\s+hand\b/i,/\brisk\s+of\b/i,/\bcaveat\b/i,/\bdownside\s+scenario\b/i,/\bif\s+wrong\b/i,/\bstop[\s-]loss\b/i,/\bworst[\s-]case\b/i,/\bcontrary\b/i,/\balternatively\b/i,/\blimited\s+data\b/i,/\binsufficient\b/i];function axr(t){let e=0;for(let r of sxr)r.test(t)&&e++;return e}function mbt(t){let e=(t.match(/\$[\d,.]+/g)??[]).length,r=(t.match(/[\d.]+%/g)??[]).length,n=(t.match(/\d+:\d+/g)??[]).length,i=(t.match(/\b\d+\.?\d*\s*(shares?|units?|days?|weeks?|months?)\b/gi)??[]).length;return e+r+n+i}function cxr(t){let e=.5;if(t.hedgeWords.length>=5&&t.confidence.length>=5){let s=t.hedgeWords.slice(-20),a=t.confidence.slice(-20),c=Math.min(s.length,a.length);if(c>=3){let l=0;for(let u=0;u<c;u++)(s[u]>2&&a[u]<.6||s[u]<=1&&a[u]>.7)&&l++;e=Math.min(1,l/c+.2)}}let r=.5;if(t.confidence.length>=5&&t.outcomes.length>=5){let s=Math.min(t.confidence.length,t.outcomes.length),a=0;for(let c=t.confidence.length-s;c<t.confidence.length;c++){let l=c-(t.confidence.length-t.outcomes.length);if(l<0||l>=t.outcomes.length)continue;let u=t.confidence[c]>=.7,d=t.outcomes[l];(u&&d||!u&&!d)&&a++}r=a/s}let n=.5;if(t.hedgeWords.length>=5&&t.coherence.length>=5){let s=Math.min(t.hedgeWords.length,t.coherence.length),a=0;for(let c=0;c<s;c++){let l=t.hedgeWords.length-s+c,u=t.coherence.length-s+c;t.coherence[u]<.5&&t.hedgeWords[l]>=2&&a++,t.coherence[u]>.7&&t.hedgeWords[l]<=1&&a++}n=a/s}let i=.5;if(t.regimeActions.length>=10){let s=new Map;for(let c of t.regimeActions){let l=s.get(c.regime)??{actions:[],successes:0,total:0};l.actions.push(c.action),l.total++,c.success&&l.successes++,s.set(c.regime,l)}let a=s.size;if(a>=2){let c=Array.from(s.values()).reduce((l,u)=>{let d=new Set(u.actions).size;return l+d/Math.max(1,u.actions.length)},0)/a;i=Math.min(1,c+.3)}}let o=e*.3+r*.3+n*.2+i*.2;return{uncertaintyCalibration:he(e),confidenceAccuracy:he(r),hedgingAppropriacy:he(n),regimeAdaptation:he(i),composite:he(o)}}var lxr=[/\bas\s+mentioned\b/i,/\bas\s+we\s+can\s+see\b/i,/\bit\s+is\s+worth\s+noting\b/i,/\bin\s+conclusion\b/i,/\boverall\b/i,/\bthat\s+being\s+said\b/i,/\blet\s+me\s+analyze\b/i,/\bI\s+will\s+now\b/i,/\blooking\s+at\s+the\s+data\b/i,/\bbased\s+on\s+(?:the\s+)?above\b/i,/\btaking\s+(?:all\s+)?(?:this|these)\s+into\s+(?:account|consideration)\b/i,/\bit\s+(?:is\s+)?important\s+to\s+note\b/i,/\bgiven\s+the\s+current\b/i],uxr=[/P\/E\s+ratio/i,/EPS/i,/revenue\s+growth/i,/support\s+(?:level|at)/i,/resistance\s+(?:level|at)/i,/moving\s+average/i,/RSI/i,/MACD/i,/volume\s+profile/i,/market\s+cap/i,/dividend\s+yield/i,/beta/i,/sector\s+rotation/i,/correlation/i,/volatility/i,/liquidity/i,/spread/i,/momentum\s+indicator/i,/Sharpe\s+ratio/i,/drawdown/i,/VaR/i,/earnings\s+(?:growth|beat|miss|surprise)/i,/guidance/i,/margin\s+expansion/i,/free\s+cash\s+flow/i,/balance\s+sheet/i,/debt[\s-]to[\s-]equity/i,/book\s+value/i,/Fibonacci/i,/Bollinger/i,/stochastic/i,/head\s+and\s+shoulders/i,/cup\s+and\s+handle/i,/double\s+(?:top|bottom)/i,/breakout\s+(?:above|below)/i];function dxr(t){let e=gr(t);if(e===0)return{informationDensity:0,claimDensity:0,originalityPerWord:0,quantitativeRatio:0,composite:0};let r=0;for(let m of uxr)m.test(t)&&r++;let n=Math.min(1,r/(e*.03+1)),i=0;for(let m of lxr)m.test(t)&&i++;let o=i/Math.max(1,r+i),s=Math.max(0,1-o),a=t.toLowerCase().split(/\s+/),c=new Set,l=[];for(let m=0;m<a.length-1;m++){let g=`${a[m]}_${a[m+1]}`;c.add(g),l.push(g)}let u=l.length>0?c.size/l.length:0,d=mbt(t),p=ai(t).length,f=Math.min(1,d/Math.max(1,p)*.5),h=n*.3+s*.25+u*.25+f*.2;return{informationDensity:he(n),claimDensity:he(s),originalityPerWord:he(u),quantitativeRatio:he(f),composite:he(h)}}var Za={financial:.12,reasoning:.11,safety:.09,calibration:.08,patterns:.05,adaptability:.05,forensicQuality:.08,validationQuality:.08,predictionAccuracy:.06,reasoningStability:.05,provenanceIntegrity:.06,modelComparison:.05,metacognition:.07,efficiency:.05};function hbt(t,e){let r=fbt(t);xa(r.coherence,e.coherence),xa(r.hallucinationFree,e.hallucinationFree),xa(r.discipline,e.discipline?1:0),xa(r.confidence,e.confidence);let n=gr(e.reasoning);xa(r.wordCounts,n),xa(r.quantClaims,mbt(e.reasoning)),xa(r.hedgeWords,axr(e.reasoning)),e.depth!==void 0&&xa(r.depths,e.depth),e.forensicScore!==void 0&&xa(r.forensicScores,e.forensicScore),e.validationScore!==void 0&&xa(r.validationScores,e.validationScore),e.outcome!==void 0&&xa(r.outcomes,e.outcome),e.predictionCorrect!==void 0&&xa(r.predictionCorrect,e.predictionCorrect),e.provenanceValid!==void 0&&xa(r.provenanceValid,e.provenanceValid),e.modelComparisonScore!==void 0&&xa(r.modelComparisonScores,e.modelComparisonScore),e.regime&&xa(r.regimeActions,{regime:e.regime,action:e.action,success:e.outcome??e.coherence>.5}),xa(r.sentimentScores,e.coherence*2-1)}function gbt(t){let e=fbt(t),r=e.coherence.length,n=[],i=Qe(e.outcomes.map($=>$?.7:.3));n.push({name:"financial",score:i,weight:Za.financial,grade:Ya(i),components:{winRate:Ij(e.outcomes)},explanation:`Win rate: ${(Ij(e.outcomes)*100).toFixed(0)}%`});let o=Qe(e.coherence);n.push({name:"reasoning",score:o,weight:Za.reasoning,grade:Ya(o),components:{avgCoherence:Qe(e.coherence),depthAvg:Qe(e.depths)},explanation:`Avg coherence: ${Qe(e.coherence).toFixed(3)}`});let s=Qe(e.hallucinationFree);n.push({name:"safety",score:s,weight:Za.safety,grade:Ya(s),components:{hallucinationFreeRate:Qe(e.hallucinationFree),disciplineRate:Qe(e.discipline)},explanation:`Hallucination-free: ${(Qe(e.hallucinationFree)*100).toFixed(0)}%, Discipline: ${(Qe(e.discipline)*100).toFixed(0)}%`});let a=dbt(e.confidence),c=Math.max(0,1-a*2);n.push({name:"calibration",score:c,weight:Za.calibration,grade:Ya(c),components:{confidenceStdDev:a,avgConfidence:Qe(e.confidence)},explanation:`Confidence variance: ${a.toFixed(3)}`});let l=Qe(e.depths.length>0?e.depths:[.5]);n.push({name:"patterns",score:l,weight:Za.patterns,grade:Ya(l),components:{depthAvg:Qe(e.depths)},explanation:`Avg depth score: ${l.toFixed(3)}`});let u=new Set(e.intents),d=Math.min(1,u.size/4*.5+.3);n.push({name:"adaptability",score:d,weight:Za.adaptability,grade:Ya(d),components:{intentDiversity:u.size},explanation:`${u.size} distinct intents used`});let p=Qe(e.forensicScores.length>0?e.forensicScores:[.5]);n.push({name:"forensicQuality",score:p,weight:Za.forensicQuality,grade:Ya(p),components:{avgForensic:p},explanation:`Avg forensic: ${p.toFixed(3)}`});let f=Qe(e.validationScores.length>0?e.validationScores:[.5]);n.push({name:"validationQuality",score:f,weight:Za.validationQuality,grade:Ya(f),components:{avgValidation:f},explanation:`Avg validation: ${f.toFixed(3)}`});let h=Ij(e.predictionCorrect);n.push({name:"predictionAccuracy",score:h,weight:Za.predictionAccuracy,grade:Ya(h),components:{accuracy:h},explanation:`Prediction correct: ${(h*100).toFixed(0)}%`});let m=dbt(e.sentimentScores),g=Math.max(0,1-m);n.push({name:"reasoningStability",score:g,weight:Za.reasoningStability,grade:Ya(g),components:{sentimentStdDev:m},explanation:`Sentiment volatility: ${m.toFixed(3)}`});let y=Ij(e.provenanceValid);n.push({name:"provenanceIntegrity",score:y,weight:Za.provenanceIntegrity,grade:Ya(y),components:{validRate:y},explanation:`Provenance valid: ${(y*100).toFixed(0)}%`});let v=Qe(e.modelComparisonScores.length>0?e.modelComparisonScores:[.5]);n.push({name:"modelComparison",score:v,weight:Za.modelComparison,grade:Ya(v),components:{avgScore:v},explanation:`Cross-model independence: ${v.toFixed(3)}`});let S=cxr(e);n.push({name:"metacognition",score:S.composite,weight:Za.metacognition,grade:Ya(S.composite),components:{uncertaintyCalibration:S.uncertaintyCalibration,confidenceAccuracy:S.confidenceAccuracy,hedgingAppropriacy:S.hedgingAppropriacy,regimeAdaptation:S.regimeAdaptation},explanation:`Self-awareness: ${S.composite.toFixed(3)} \u2014 uncertainty=${S.uncertaintyCalibration.toFixed(2)}, accuracy=${S.confidenceAccuracy.toFixed(2)}`});let w=(e.wordCounts.length>0,""),E={informationDensity:Qe(e.quantClaims.map(($,H)=>Math.min(1,$/Math.max(1,(e.wordCounts[H]??50)*.03+1)))),claimDensity:.7,originalityPerWord:.6,quantitativeRatio:Qe(e.quantClaims.map($=>Math.min(1,$*.15))),composite:0};E.composite=E.informationDensity*.3+E.claimDensity*.25+E.originalityPerWord*.25+E.quantitativeRatio*.2,n.push({name:"efficiency",score:E.composite,weight:Za.efficiency,grade:Ya(E.composite),components:{informationDensity:E.informationDensity,quantitativeRatio:E.quantitativeRatio},explanation:`Signal-to-noise: ${E.composite.toFixed(3)}`});let I=to(n,"score","weight"),D=he(I),k=F_e.get(t)??0,P={agentId:t,composite:D,grade:Ya(D),pillars:n,rank:0,rankChange:0,tradeCount:r,lastUpdated:new Date().toISOString(),metacognition:S,efficiency:E};return pbt.set(t,P),P}function pxr(){let t=Array.from(pbt.values());t.sort((e,r)=>r.composite-e.composite);for(let e=0;e<t.length;e++){let r=F_e.get(t[e].agentId)??e+1;t[e].rank=e+1,t[e].rankChange=r-(e+1),F_e.set(t[e].agentId,e+1)}return t}function Cj(){return pxr()}function ybt(t){return dxr(t)}function Nj(){return{...Za}}var Oj=new Map,fxr=300,mxr=[{pattern:/\bI('m|\s+am)\s+not\s+(entirely\s+)?sure\b/i,label:"explicit uncertainty"},{pattern:/\buncertain(?:ty)?\b/i,label:"uncertainty marker"},{pattern:/\bhard\s+to\s+(?:say|predict|tell)\b/i,label:"difficulty acknowledgement"},{pattern:/\blimited\s+(?:data|information|visibility)\b/i,label:"data limitation"},{pattern:/\binsufficient\s+(?:evidence|data)\b/i,label:"evidence gap"},{pattern:/\bcould\s+go\s+either\s+way\b/i,label:"ambiguity acknowledgement"},{pattern:/\bmixed\s+signals?\b/i,label:"conflicting data"},{pattern:/\bnot\s+(?:fully\s+)?convinced\b/i,label:"doubt expression"},{pattern:/\bconfidence\s+is\s+(?:low|moderate|limited)\b/i,label:"explicit low confidence"},{pattern:/\bdifficult\s+(?:market|conditions|environment)\b/i,label:"environment difficulty"}],hxr=[/\b(?:my|I)\s+(?:analysis|view|assessment|opinion|thesis|strategy)\b/i,/\b(?:my|I)\s+(?:previous|earlier|last)\s+(?:trade|decision|position)\b/i,/\b(?:I|my)\s+(?:was|were)\s+(?:wrong|incorrect|mistaken)\b/i,/\b(?:I|my)\s+(?:should\s+have|could\s+have)\b/i,/\b(?:adjusting|revising|updating)\s+my\b/i,/\blearned\s+(?:from|that)\b/i,/\b(?:my|I)\s+(?:bias|tendency|pattern)\b/i],gxr=[/\b(?:I\s+)?(?:can'?t|cannot|don'?t)\s+(?:predict|know|see|determine)\b/i,/\bbeyond\s+(?:my|the)\s+(?:ability|scope|capacity)\b/i,/\bnot\s+enough\s+(?:data|information|evidence)\b/i,/\bno\s+clear\s+(?:signal|trend|direction|catalyst)\b/i,/\black(?:ing)?\s+(?:of\s+)?(?:clarity|certainty|conviction)\b/i,/\bwithout\s+(?:more|additional|further)\s+(?:data|information)\b/i],yxr=[/\bif\s+.+(?:then|,)\b/i,/\bunless\b/i,/\bprovided\s+that\b/i,/\bassuming\b/i,/\bcontingent\s+(?:on|upon)\b/i,/\bshould\s+.+(?:then|,)\b/i,/\bin\s+case\b/i,/\bdepending\s+on\b/i];function bbt(t){let e=t.reasoning,r=[];for(let{pattern:u,label:d}of mxr)u.test(e)&&r.push(d);let n=[];for(let u of hxr){let d=e.match(u);d&&n.push(d[0])}let i=[];for(let u of gxr){let d=e.match(u);d&&i.push(d[0])}let o=0;for(let u of yxr)u.test(e)&&o++;let s=[/\bperhaps\b/i,/\bmaybe\b/i,/\bmight\b/i,/\bcould\b/i,/\bpossibly\b/i,/\bprobably\b/i,/\blikely\b/i,/\btend\s+to\b/i,/\bgenerally\b/i,/\btypically\b/i,/\bsomewhat\b/i,/\bslightly\b/i,/\bapparently\b/i],a=0;for(let u of s)u.test(e)&&a++;let c={...t,hedgeCount:a,uncertaintyExpressions:r,selfReferences:n,limitationAcknowledgements:i,conditionalsCount:o},l=Oj.get(t.agentId);return l||(l=[],Oj.set(t.agentId,l)),l.push(c),l.length>fxr&&l.shift(),c}function bxr(t){let e=Oj.get(t);if(!e||e.length===0)return null;let r=e.length,n=e.reduce((ke,_r)=>ke+_r.hedgeCount,0)/r,i=e.filter(ke=>ke.uncertaintyExpressions.length>0).length/r,o=e.filter(ke=>ke.conditionalsCount>0).length/r,s=0,a=0;for(let ke of e)(ke.confidence<.5&&ke.hedgeCount>=2||ke.confidence>=.7&&ke.hedgeCount<=1)&&a++;s=Math.min(1,a/r*.5+i*.3+o*.2);let c={avgHedgeCount:ne(n),uncertaintyRate:he(i),conditionalRate:he(o),examples:e.flatMap(ke=>ke.uncertaintyExpressions).slice(0,5)},l=e.filter(ke=>ke.wasCorrect!==void 0),u=.5,d=.5;if(l.length>=5){let ke=l.filter(fr=>fr.confidence>=.7),_r=l.filter(fr=>fr.confidence<.5);u=ke.length>0?ke.filter(fr=>fr.wasCorrect).length/ke.length:.5,d=_r.length>0?_r.filter(fr=>fr.wasCorrect).length/_r.length:.5}let p=Math.abs(u-d),f=l.length>0?l.filter(ke=>ke.confidence>=.7&&!ke.wasCorrect).length/Math.max(1,l.filter(ke=>ke.confidence>=.7).length):.3,h=u>d?Math.min(1,.5+p*2):Math.max(0,.5-p),m={highConfidenceAccuracy:he(u),lowConfidenceAccuracy:he(d),calibrationGap:he(p),overconfidenceRate:he(f)},g=0,y=0,v=0,S=0;for(let ke=1;ke<e.length;ke++)e[ke-1].wasCorrect===!1&&(S++,e[ke].action!==e[ke-1].action&&g++,e[ke].confidence<e[ke-1].confidence&&y++,e[ke].symbol===e[ke-1].symbol&&e[ke].action===e[ke-1].action&&v++);let w=S>0?g/S*.4+y/S*.3+Math.max(0,1-v/S)*.3:.5,E={afterErrorActionChange:S>0?he(g/S):0,afterErrorConfidenceAdjust:S>0?he(y/S):0,repeatMistakeRate:S>0?he(v/S):0},I=e.filter(ke=>ke.limitationAcknowledgements.length>0).length/r,D=new Map;for(let ke of e)D.set(ke.symbol,(D.get(ke.symbol)??0)+1);let k=Array.from(D.entries()).sort((ke,_r)=>_r[1]-ke[1]).slice(0,5).map(([ke])=>ke),P=D.size>0?Math.max(...D.values())/r:0,$=Math.min(1,I*.4+(1-P)*.3+Math.min(1,D.size/5)*.3),H={limitationMentionRate:he(I),topSymbols:k,symbolConcentration:he(P)},W=e.map(ke=>ke.intent),N=new Set(W),_=Math.min(1,N.size/4),x=0,R=0;for(let ke=1;ke<e.length;ke++)e[ke-1].wasCorrect===!1&&(R++,e[ke].intent!==e[ke-1].intent&&x++);let L=e.slice(0,Math.floor(r/2)).reduce((ke,_r)=>ke+_r.confidence,0),U=e.slice(Math.floor(r/2)).reduce((ke,_r)=>ke+_r.confidence,0),j=Math.floor(r/2)||1,Q=r-j||1,G=1-Math.abs(L/j-U/Q),A=_*.3+(R>0?x/R:.5)*.35+Math.max(0,G)*.35,X={intentChangeAfterLoss:R>0?he(x/R):0,confidenceAdaptation:he(Math.max(0,G)),strategyDiversity:he(_)},Re=s*.25+h*.25+w*.2+$*.15+A*.15,ve=e.slice(0,j),ue=e.slice(j),Ve=ve.reduce((ke,_r)=>ke+_r.hedgeCount+_r.conditionalsCount,0)/j,we=ue.reduce((ke,_r)=>ke+_r.hedgeCount+_r.conditionalsCount,0)/Q,ut=we-Ve,be=ut>.5?"improving":ut<-.5?"declining":"stable",St=`Metacognition markers ${be}: ${Ve.toFixed(1)} (early) -> ${we.toFixed(1)} (recent)`;return{agentId:t,tradeCount:r,lastUpdated:new Date().toISOString(),overallScore:he(Re),grade:z4(Re),epistemicHumility:he(s),calibrationAwareness:he(h),errorRecognition:he(w),scopeLimitation:he($),adaptiveStrategy:he(A),humilityEvidence:c,calibrationEvidence:m,errorEvidence:E,scopeEvidence:H,adaptationEvidence:X,trend:be,trendDetail:St}}function z_e(){let t=[];for(let e of Oj.keys()){let r=bxr(e);r&&t.push(r)}return t.sort((e,r)=>r.overallScore-e.overallScore),t}var ub={analyticalBreadth:.18,evidenceSpecificity:.16,causalChain:.14,riskAwareness:.12,temporalReasoning:.1,comparativeAnalysis:.1,quantitativeRigor:.12,thesisStructure:.08},vxr={valuation:[/P\/E\s+ratio/i,/price[\s-]to[\s-](?:earnings|book|sales)/i,/undervalued|overvalued/i,/intrinsic\s+value/i,/fair\s+value|price\s+target/i,/multiple\s+expansion/i,/EV\/EBITDA/i,/DCF/i,/book\s+value/i],technical:[/moving\s+average|SMA|EMA/i,/RSI|relative\s+strength/i,/MACD/i,/Bollinger\s+Band/i,/support\s+(?:level|at)/i,/resistance\s+(?:level|at)/i,/breakout/i,/chart\s+pattern/i,/volume\s+(?:spike|surge|profile|analysis)/i,/Fibonacci/i,/stochastic/i,/divergence/i,/momentum\s+indicator/i,/candlestick/i,/trend\s*line/i,/golden\s+cross/i,/death\s+cross/i,/head\s+and\s+shoulders/i],fundamental:[/revenue\s+(?:growth|decline|beat|miss)/i,/earnings\s+(?:growth|beat|miss|surprise)/i,/profit\s+margin/i,/free\s+cash\s+flow/i,/balance\s+sheet/i,/debt[\s-]to[\s-]equity/i,/ROE|return\s+on\s+equity/i,/guidance/i,/margin\s+(?:expansion|compression)/i,/operating\s+(?:income|expenses)/i,/cost\s+(?:cutting|reduction)/i],macro:[/interest\s+rate/i,/Fed|Federal\s+Reserve/i,/inflation/i,/GDP|gross\s+domestic/i,/unemployment/i,/CPI/i,/monetary\s+policy/i,/fiscal\s+(?:policy|stimulus)/i,/recession/i,/economic\s+(?:growth|slowdown|cycle)/i,/Treasury|bond\s+yield/i,/dollar\s+(?:strength|weakness)/i],sentiment:[/market\s+sentiment/i,/investor\s+(?:confidence|fear|greed)/i,/VIX|fear\s+index/i,/put[\s-]call\s+ratio/i,/short\s+interest/i,/retail\s+(?:investor|trader)/i,/institutional\s+(?:buying|selling)/i,/insider\s+(?:buying|selling)/i,/social\s+media\s+sentiment/i,/fear\s+and\s+greed/i],sector:[/sector\s+(?:rotation|performance|comparison)/i,/industry\s+(?:trend|comparison|leader)/i,/peer\s+(?:group|comparison|performance)/i,/market\s+share/i,/competitive\s+(?:advantage|landscape|position)/i,/moat|barrier\s+to\s+entry/i,/TAM|total\s+addressable\s+market/i],risk:[/risk[\s-]reward/i,/downside\s+(?:risk|scenario|protection)/i,/stop[\s-]loss/i,/position\s+sizing/i,/portfolio\s+(?:concentration|diversification)/i,/worst[\s-]case/i,/tail\s+risk/i,/hedg/i,/maximum\s+(?:drawdown|loss)/i,/risk\s+management/i],catalyst:[/earnings\s+(?:call|report|season)/i,/product\s+launch/i,/FDA\s+(?:approval|decision)/i,/merger|acquisition|M&A/i,/IPO/i,/stock\s+(?:split|buyback)/i,/dividend/i,/regulation|regulatory/i,/partnership|collaboration/i,/patent/i,/clinical\s+trial/i,/new\s+contract/i],portfolio:[/portfolio\s+(?:allocation|weight|balance|rebalancing)/i,/position\s+(?:size|limit|management)/i,/cash\s+(?:buffer|reserve|allocation)/i,/concentration\s+risk/i,/diversif/i,/allocation\s+(?:target|limit)/i,/exposure|overexposed|underexposed/i],timing:[/entry\s+point|exit\s+(?:point|strategy)/i,/time\s+horizon/i,/short[\s-]term|medium[\s-]term|long[\s-]term/i,/holding\s+period/i,/swing\s+trade|day\s+trade/i,/dollar[\s-]cost\s+averag/i,/scaling\s+(?:in|out)/i,/patience|wait\s+for/i]},_xr=[/\bbecause\b/i,/\btherefore\b/i,/\bdue\s+to\b/i,/\bas\s+a\s+result\b/i,/\bconsequently\b/i,/\bthis\s+(?:means|suggests|implies|indicates)\b/i,/\bleading\s+to\b/i,/\bcaused\s+by\b/i,/\bdriven\s+by\b/i,/\bif\s+.+\s+then\b/i,/\bgiven\s+that\b/i,/\bwhich\s+(?:means|suggests|would)\b/i,/\bfor\s+this\s+reason\b/i,/\bhence\b/i],Sxr=[/\brisk\b/i,/\bdownside\b/i,/\bworst[\s-]case\b/i,/\bcould\s+(?:fall|decline|drop)\b/i,/\bif\s+(?:wrong|incorrect)\b/i,/\bstop[\s-]loss\b/i,/\bhedg/i,/\bvolatil/i,/\buncertain/i,/\bcaveat/i,/\bwarn/i,/\blimit\s+(?:losses|downside|exposure)\b/i,/\bprotect/i,/\bdefensive/i,/\bcounterargument/i,/\bon\s+the\s+other\s+hand\b/i,/\bcontrary\s+(?:evidence|argument|view)\b/i],xxr=[/\bshort[\s-]term\b/i,/\bmedium[\s-]term\b/i,/\blong[\s-]term\b/i,/\bnext\s+(?:week|month|quarter|year|earnings)\b/i,/\bwithin\s+\d+\s+(?:day|week|month)/i,/\btime\s+horizon\b/i,/\bholding\s+period\b/i,/\bby\s+(?:year|quarter)[\s-]end\b/i,/\b(?:24h|48h|72h|1[\s-]week|2[\s-]week|1[\s-]month)/i,/\bhistoric/i,/\bseasonality/i,/\brecent(?:ly)?\b/i,/\bprevious(?:ly)?\b/i,/\bover\s+the\s+past\b/i],wxr=[/\bcompared\s+to\b/i,/\bversus\b/i,/\bvs\.?\b/i,/\brelative\s+to\b/i,/\boutperform/i,/\bunderperform/i,/\bbetter\s+than\b/i,/\bworse\s+than\b/i,/\balternative\b/i,/\binstead\s+of\b/i,/\bwhile\s+.+\s+on\s+the\s+other\b/i,/\bwhereas\b/i,/\bin\s+contrast\b/i,/\brather\s+than\b/i];function Axr(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}function vbt(t){let e=t.split(/\s+/).filter(be=>be.length>0),r=e.length,i=ai(t,0).length,o=i>0?r/i:0,s=new Set(e.map(be=>be.toLowerCase())),a=r>0?s.size/r:0,c=(t.match(/\?/g)??[]).length,l=[];for(let[be,St]of Object.entries(vxr))for(let ke of St)if(ke.test(t)){l.push(be);break}let d={score:Math.min(1,l.length/5),weight:ub.analyticalBreadth,evidence:l.map(be=>`Covers ${be} analysis`)},p=(t.match(/\$[\d,.]+|[\d.]+%|\d+\.\d+|\d{4,}/g)??[]).length,f=(t.match(/\b[A-Z]{2,5}x?\b/g)??[]).length,h=p+f,g={score:Math.min(1,h/(r*.08+1)),weight:ub.evidenceSpecificity,evidence:[`${p} numeric references, ${f} symbol references`]},y=0,v=[];for(let be of _xr){let St=t.match(be);St&&(y++,v.push(St[0]))}let w={score:Math.min(1,y/4),weight:ub.causalChain,evidence:v.slice(0,5)},E=0,I=[];for(let be of Sxr){let St=t.match(be);St&&(E++,I.push(St[0]))}let k={score:Math.min(1,E/4),weight:ub.riskAwareness,evidence:I.slice(0,5)},P=0,$=[];for(let be of xxr){let St=t.match(be);St&&(P++,$.push(St[0]))}let W={score:Math.min(1,P/3),weight:ub.temporalReasoning,evidence:$.slice(0,5)},N=0,_=[];for(let be of wxr){let St=t.match(be);St&&(N++,_.push(St[0]))}let R={score:Math.min(1,N/3),weight:ub.comparativeAnalysis,evidence:_.slice(0,5)},U={score:Math.min(1,p/(i*.3+1)),weight:ub.quantitativeRigor,evidence:[`${p} quantitative claims across ${i} sentences`]},j=/\b(?:thesis|believe|position|view|strategy|approach|decision)\b/i.test(t),Q=p>=2||y>=1,G=/\b(?:therefore|thus|consequently|conclusion|accordingly|decision|action)\b/i.test(t),X={score:(j?.35:0)+(Q?.35:0)+(G?.3:0),weight:ub.thesisStructure,evidence:[j?"Has thesis statement":"Missing thesis",Q?"Has supporting evidence":"Missing evidence",G?"Has conclusion":"Missing conclusion"].filter(be=>!be.startsWith("Missing"))},Re={analyticalBreadth:d,evidenceSpecificity:g,causalChain:w,riskAwareness:k,temporalReasoning:W,comparativeAnalysis:R,quantitativeRigor:U,thesisStructure:X},ve=Object.values(Re).reduce((be,St)=>be+St.score*St.weight,0),ue;ve>=.8?ue="exceptional":ve>=.55?ue="deep":ve>=.3?ue="moderate":ue="shallow";let Ve=Object.entries(Re);Ve.sort((be,St)=>St[1].score-be[1].score);let we=Ve[0][0],ut=Ve[Ve.length-1][0];return{overall:he(ve),classification:ue,grade:Axr(ve),dimensions:Re,textMetrics:{wordCount:r,sentenceCount:i,avgSentenceLength:Math.round(o*10)/10,uniqueWordRatio:he(a),questionCount:c},anglesDetected:l,strongestDimension:we,weakestDimension:ut}}var Pj=new un,zp=[],_bt=200;function Sbt(t,e,r){let n={type:t,data:e,agentId:r,timestamp:new Date().toISOString()};zp.unshift(n),zp.length>_bt&&(zp.length=_bt)}Pj.get("/data",t=>{let e=Cj(),r=z_e(),n=Nj();return t.json({ok:!0,version:"v16",pillarCount:14,timestamp:new Date().toISOString(),weights:n,leaderboard:e.map(i=>({...i,metacognitionReport:r.find(o=>o.agentId===i.agentId)??null})),recentEvents:zp.slice(0,20)})});Pj.get("/stream",t=>{let e=new TextEncoder,r=new ReadableStream({start(n){for(let a of zp.slice(0,10))n.enqueue(e.encode(`data: ${JSON.stringify(a)}

`));let i=setInterval(()=>{try{n.enqueue(e.encode(`data: ${JSON.stringify({type:"heartbeat",timestamp:new Date().toISOString()})}

`))}catch{clearInterval(i)}},3e4),o=zp.length,s=setInterval(()=>{try{if(zp.length>0&&o!==zp.length){let a=zp.slice(0,zp.length-o);for(let c of a)n.enqueue(e.encode(`data: ${JSON.stringify(c)}

`));o=zp.length}}catch{clearInterval(s),clearInterval(i)}},5e3)}});return new Response(r,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive","Access-Control-Allow-Origin":"*"}})});Pj.get("/export",t=>{let e=t.req.query("format")??"jsonl",r=Cj(),n=z_e(),i=r.map(s=>({agent_id:s.agentId,composite:s.composite,grade:s.grade,rank:s.rank,trade_count:s.tradeCount,pillar_scores:Object.fromEntries(s.pillars.map(a=>[a.name,a.score])),metacognition:s.metacognition,efficiency:s.efficiency,metacognition_report:n.find(a=>a.agentId===s.agentId)??null,timestamp:s.lastUpdated}));if(e==="csv"){let s=["agent_id","composite","grade","rank","trade_count",...Object.keys(Nj()),"metacognition_composite","efficiency_composite"],a=i.map(l=>[l.agent_id,l.composite,l.grade,l.rank,l.trade_count,...Object.values(l.pillar_scores),l.metacognition.composite,l.efficiency.composite].join(",")),c=[s.join(","),...a].join(`
`);return new Response(c,{headers:{"Content-Type":"text/csv","Content-Disposition":"attachment; filename=moltapp-v16-benchmark.csv"}})}let o=i.map(s=>JSON.stringify(s)).join(`
`);return new Response(o,{headers:{"Content-Type":"application/x-ndjson","Content-Disposition":"attachment; filename=moltapp-v16-benchmark.jsonl"}})});Pj.get("/",t=>{let e=Cj(),r=Nj(),n=e.map(s=>{let a=s.rankChange>0?"&#9650;":s.rankChange<0?"&#9660;":"&#9679;",c=s.rankChange>0?"#22c55e":s.rankChange<0?"#ef4444":"#6b7280",l=s.grade.startsWith("A")?"#22c55e":s.grade.startsWith("B")?"#3b82f6":s.grade.startsWith("C")?"#eab308":"#ef4444",u=s.pillars.map(d=>`<td style="background:${d.score>=.75?"rgba(34,197,94,0.15)":d.score>=.5?"rgba(234,179,8,0.15)":"rgba(239,68,68,0.15)"};text-align:center;padding:6px;font-size:13px;" title="${d.name}: ${d.explanation}">${d.score.toFixed(2)}</td>`).join("");return`<tr>
      <td style="text-align:center;padding:8px;font-weight:bold;">${s.rank}</td>
      <td style="padding:8px;">
        <span style="color:${c};font-size:11px;">${a}</span>
        <strong>${s.agentId}</strong>
      </td>
      <td style="text-align:center;padding:8px;font-size:18px;font-weight:bold;color:${l};">${s.grade}</td>
      <td style="text-align:center;padding:8px;font-weight:bold;">${s.composite.toFixed(3)}</td>
      ${u}
      <td style="text-align:center;padding:8px;font-size:13px;">${s.tradeCount}</td>
    </tr>`}).join(""),o=`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>MoltApp Benchmark v16 \u2014 14-Pillar AI Trading Intelligence</title>
  <meta name="description" content="Industry-standard AI trading benchmark. 14-pillar scoring with metacognition analysis, reasoning efficiency, and advanced depth scoring.">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #0a0a0a; color: #e5e5e5; }
    .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
    .header { text-align: center; margin-bottom: 30px; padding: 30px 0; border-bottom: 1px solid #333; }
    .header h1 { font-size: 28px; margin-bottom: 8px; }
    .header h1 span { color: #f97316; }
    .header p { color: #999; font-size: 14px; }
    .badges { display: flex; gap: 10px; justify-content: center; margin-top: 15px; flex-wrap: wrap; }
    .badge { display: inline-flex; align-items: center; gap: 6px; padding: 5px 12px; border-radius: 9999px; font-size: 12px; font-weight: 600; border: 1px solid #333; }
    .badge.hf { background: rgba(255,213,51,0.1); border-color: rgba(255,213,51,0.3); color: #ffd533; }
    .badge.live { background: rgba(34,197,94,0.1); border-color: rgba(34,197,94,0.3); color: #22c55e; }
    .badge.pillars { background: rgba(59,130,246,0.1); border-color: rgba(59,130,246,0.3); color: #3b82f6; }
    .badge.new { background: rgba(168,85,247,0.1); border-color: rgba(168,85,247,0.3); color: #a855f7; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; font-size: 14px; }
    th { background: #1a1a1a; padding: 8px; text-align: left; font-size: 12px; color: #999; border-bottom: 2px solid #333; }
    td { padding: 8px; border-bottom: 1px solid #222; }
    tr:hover td { background: rgba(255,255,255,0.03); }
    .section { margin-top: 40px; }
    .section h2 { font-size: 20px; margin-bottom: 15px; border-left: 3px solid #f97316; padding-left: 12px; }
    .cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px; margin-top: 15px; }
    .card { background: #1a1a1a; border: 1px solid #333; border-radius: 8px; padding: 16px; }
    .card h3 { font-size: 14px; color: #f97316; margin-bottom: 8px; }
    .card p { font-size: 13px; color: #999; line-height: 1.5; }
    .metric { display: flex; justify-content: space-between; padding: 4px 0; }
    .metric-label { color: #888; font-size: 12px; }
    .metric-value { font-weight: bold; font-size: 13px; }
    .new-tag { background: #a855f7; color: white; font-size: 10px; padding: 2px 6px; border-radius: 4px; font-weight: 600; margin-left: 6px; }
    .footer { text-align: center; margin-top: 40px; padding: 20px 0; border-top: 1px solid #333; color: #666; font-size: 12px; }
    a { color: #3b82f6; text-decoration: none; }
    a:hover { text-decoration: underline; }
    @media (max-width: 768px) { .container { padding: 10px; } table { font-size: 12px; } }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1><span>MoltApp</span> AI Trading Benchmark v16</h1>
      <p>Industry-standard evaluation of AI agents trading real tokenized stocks on Solana</p>
      <div class="badges">
        <span class="badge hf">&#129303; HuggingFace: patruff/molt-benchmark</span>
        <span class="badge live">&#9679; Live on patgpt.us</span>
        <span class="badge pillars">14 Scoring Pillars</span>
        <span class="badge new">NEW: Metacognition + Efficiency</span>
      </div>
    </div>

    <h2 style="font-size:18px;margin-bottom:10px;">Agent Leaderboard</h2>
    <div style="overflow-x:auto;">
      <table>
        <thead>
          <tr>
            <th style="text-align:center;">Rank</th>
            <th>Agent</th>
            <th style="text-align:center;">Grade</th>
            <th style="text-align:center;">Composite</th>
            ${Object.keys(r).map(s=>{let a=s.replace(/([A-Z])/g," $1").trim().split(" ").map(c=>c[0]).join("").toUpperCase();return`<th style="text-align:center;padding:6px;font-size:11px;max-width:60px;writing-mode:vertical-lr;transform:rotate(180deg);" title="${s} (${(r[s]*100).toFixed(0)}%)">${a}<br><span style="color:#888;font-size:9px;">${(r[s]*100).toFixed(0)}%</span></th>`}).join("")}
            <th style="text-align:center;">Trades</th>
          </tr>
        </thead>
        <tbody>
          ${n||'<tr><td colspan="18" style="text-align:center;padding:20px;color:#666;">No scoring data yet. Run trading rounds to populate the benchmark.</td></tr>'}
        </tbody>
      </table>
    </div>

    <div class="section">
      <h2>v16 New Pillars</h2>
      <div class="cards">
        <div class="card">
          <h3>Metacognition <span class="new-tag">NEW</span></h3>
          <p>Does the agent know what it knows? Measures epistemic humility, calibration awareness, error recognition, scope limitation, and adaptive strategy.</p>
          <div style="margin-top:10px;">
            <div class="metric"><span class="metric-label">Epistemic Humility</span><span class="metric-value">25%</span></div>
            <div class="metric"><span class="metric-label">Calibration Awareness</span><span class="metric-value">25%</span></div>
            <div class="metric"><span class="metric-label">Error Recognition</span><span class="metric-value">20%</span></div>
            <div class="metric"><span class="metric-label">Scope Limitation</span><span class="metric-value">15%</span></div>
            <div class="metric"><span class="metric-label">Adaptive Strategy</span><span class="metric-value">15%</span></div>
          </div>
        </div>
        <div class="card">
          <h3>Reasoning Efficiency <span class="new-tag">NEW</span></h3>
          <p>Signal-to-noise ratio in reasoning text. Rewards dense analytical content per word, penalizes verbose filler and boilerplate.</p>
          <div style="margin-top:10px;">
            <div class="metric"><span class="metric-label">Information Density</span><span class="metric-value">30%</span></div>
            <div class="metric"><span class="metric-label">Claim Density</span><span class="metric-value">25%</span></div>
            <div class="metric"><span class="metric-label">Originality Per Word</span><span class="metric-value">25%</span></div>
            <div class="metric"><span class="metric-label">Quantitative Ratio</span><span class="metric-value">20%</span></div>
          </div>
        </div>
        <div class="card">
          <h3>14-Pillar Composite Scoring</h3>
          <p>Unified scoring engine combining financial performance, reasoning quality, safety, calibration, patterns, adaptability, forensics, validation, predictions, stability, provenance, model comparison, metacognition, and efficiency.</p>
          <div style="margin-top:10px;">
            <div class="metric"><span class="metric-label">Total Pillars</span><span class="metric-value">14</span></div>
            <div class="metric"><span class="metric-label">Grade Scale</span><span class="metric-value">A+ to F</span></div>
            <div class="metric"><span class="metric-label">Window Size</span><span class="metric-value">200 trades</span></div>
          </div>
        </div>
      </div>
    </div>

    <div class="section">
      <h2>API Endpoints</h2>
      <div class="cards">
        <div class="card">
          <h3>Dashboard &amp; Data</h3>
          <p>
            <code>/benchmark-v16</code> \u2014 This dashboard<br>
            <code>/benchmark-v16/data</code> \u2014 JSON leaderboard<br>
            <code>/benchmark-v16/stream</code> \u2014 SSE live events<br>
            <code>/benchmark-v16/export</code> \u2014 JSONL/CSV export
          </p>
        </div>
        <div class="card">
          <h3>v16 API</h3>
          <p>
            <code>/api/v1/benchmark-v16/scores</code> \u2014 All agent scores<br>
            <code>/api/v1/benchmark-v16/score/:id</code> \u2014 Agent score<br>
            <code>/api/v1/benchmark-v16/metacognition</code> \u2014 Reports<br>
            <code>/api/v1/benchmark-v16/metacognition/:id</code> \u2014 Agent<br>
            <code>/api/v1/benchmark-v16/depth/:id</code> \u2014 Depth analysis<br>
            <code>/api/v1/benchmark-v16/efficiency</code> \u2014 Efficiency<br>
            <code>/api/v1/benchmark-v16/schema</code> \u2014 Schema
          </p>
        </div>
      </div>
    </div>

    <div class="footer">
      <p>MoltApp Benchmark v16 &middot; <a href="https://www.patgpt.us">patgpt.us</a> &middot; <a href="https://huggingface.co/datasets/patruff/molt-benchmark">HuggingFace Dataset</a> &middot; Built for the Colosseum Agent Hackathon</p>
    </div>
  </div>
  <script>
    // Auto-refresh every 45 seconds
    setTimeout(() => location.reload(), 45000);
  </script>
</body>
</html>`;return t.html(o)});var V2={financial:.11,reasoning:.1,safety:.08,calibration:.07,patterns:.05,adaptability:.05,forensic_quality:.07,validation_quality:.07,prediction_accuracy:.06,reasoning_stability:.05,provenance_integrity:.06,model_comparison:.05,metacognition:.06,reasoning_efficiency:.04,forensic_ledger:.04,strategy_genome:.04},db=new Map,xbt=new Map,Abt=null,Ebt=null,Exr=Date.now();function wbt(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}function Txr(t,e){if(t.length<4)return"stable";let r=t.slice(-5),n=t.slice(-10,-5);if(n.length===0)return"stable";let i=r.reduce((a,c)=>a+(c.scores[e]??0),0)/r.length,o=n.reduce((a,c)=>a+(c.scores[e]??0),0)/n.length,s=i-o;return s>.05?"improving":s<-.05?"declining":"stable"}function Tbt(t,e,r,n,i,o){Abt=i,Ebt=new Date().toISOString();let s=xbt.get(t)??[];s.push({timestamp:Date.now(),scores:n}),s.length>200&&s.splice(0,s.length-200),xbt.set(t,s);let a=Object.entries(V2).map(([f,h])=>{let m=Hr(n[f]??.5);return{name:f,score:m,weight:h,components:{raw:n[f]??.5},grade:wbt(m),trend:Txr(s,f),confidence:Math.min(1,s.length/20)}}),c=to(a,"score","weight"),l=[...a].sort((f,h)=>h.score-f.score),u=l.slice(0,3).map(f=>`${f.name}: ${f.score.toFixed(2)} (${f.grade})`),d=l.slice(-3).map(f=>`${f.name}: ${f.score.toFixed(2)} (${f.grade})`),p=db.get(t);db.set(t,{agentId:t,provider:e,model:r,composite:c,grade:wbt(c),rank:0,pillars:a,strengths:u,weaknesses:d,tradeCount:(p?.tradeCount??0)+(o??1),dataQuality:Math.min(1,s.length/50),lastUpdated:new Date().toISOString(),eloRating:p?.eloRating??1500,streak:p?.streak??{type:"neutral",length:0}})}function Rbt(t){let r=[...t].sort((n,i)=>i.composite-n.composite);for(let n=0;n<r.length;n++)for(let i=n+1;i<r.length;i++){let o=db.get(r[n].agentId),s=db.get(r[i].agentId);if(!o||!s)continue;let a=1/(1+Math.pow(10,(s.eloRating-o.eloRating)/400)),c=r[n].composite>r[i].composite?1:r[n].composite===r[i].composite?.5:0;o.eloRating=Math.round(o.eloRating+32*(c-a)),s.eloRating=Math.round(s.eloRating+32*(1-c-(1-a)))}if(r.length>0){let n=db.get(r[0].agentId);n&&(n.streak.type==="win"?n.streak.length++:n.streak={type:"win",length:1});for(let i=1;i<r.length;i++){let o=db.get(r[i].agentId);o&&(o.streak.type==="loss"?o.streak.length++:o.streak={type:"loss",length:1})}}}function Cd(){let t=[...db.values()].sort((e,r)=>r.composite-e.composite);return t.forEach((e,r)=>{e.rank=r+1}),t}function pb(){let t=[...db.values()],e=[],r=[];for(let[i]of Object.entries(V2))t.some(s=>s.pillars.find(a=>a.name===i&&a.confidence>.3))||r.push(i);r.length>0&&e.push(`${r.length} pillars have insufficient data coverage`);for(let i of t)i.dataQuality<.3&&e.push(`${i.agentId} has low data quality (${(i.dataQuality*100).toFixed(0)}%)`);let n={};for(let i of Object.keys(V2)){let o=t.filter(s=>s.pillars.find(a=>a.name===i&&a.score>0)).length;n[i]=t.length>0?o/t.length:0}return{version:"v17",totalAgents:t.length,totalTrades:t.reduce((i,o)=>i+o.tradeCount,0),avgDataQuality:t.length>0?t.reduce((i,o)=>i+o.dataQuality,0)/t.length:0,pillarCoverage:n,stalePillars:r,lastRoundId:Abt,lastRoundTimestamp:Ebt,uptime:Date.now()-Exr,warnings:e}}function kj(){let t=Cd();return{metadata:{version:"v17",exportedAt:new Date().toISOString(),totalRecords:t.reduce((e,r)=>e+r.tradeCount,0),agents:t.map(e=>e.agentId),pillarCount:Object.keys(V2).length},agents:t,health:pb()}}import{createHash as Cbt}from"crypto";var Fr=[],Ibt=5e3;function Nbt(t){let e=JSON.stringify({entryId:t.entryId,sequenceNumber:t.sequenceNumber,previousHash:t.previousHash,agentId:t.agentId,roundId:t.roundId,action:t.action,symbol:t.symbol,reasoning:t.reasoning,confidence:t.confidence,timestamp:t.timestamp});return Cbt("sha256").update(e).digest("hex")}function Rxr(t){let e=Object.entries(t).sort(([r],[n])=>r.localeCompare(n));return Cbt("sha256").update(JSON.stringify(e)).digest("hex")}function Obt(t){let e=Fr.length,r=Fr.length>0?Fr[Fr.length-1].entryHash:"genesis",n=`le_${Date.now()}_${Math.random().toString(36).slice(2,8)}`,i=t.marketPrices[t.symbol]??t.marketPrices[t.symbol.toLowerCase()]??null,o={entryId:n,sequenceNumber:e,previousHash:r,agentId:t.agentId,roundId:t.roundId,action:t.action,symbol:t.symbol,quantity:t.quantity,reasoning:t.reasoning,confidence:t.confidence,intent:t.intent,sources:t.sources,predictedOutcome:t.predictedOutcome,marketSnapshotHash:Rxr(t.marketPrices),priceAtTrade:i,coherenceScore:t.coherenceScore,hallucinationFlags:t.hallucinationFlags,disciplinePass:t.disciplinePass,depthScore:t.depthScore,forensicScore:t.forensicScore,efficiencyScore:t.efficiencyScore,outcomeResolved:!1,outcomeCorrect:null,pnlPercent:null,outcomeTimestamp:null,witnesses:t.witnesses,timestamp:new Date().toISOString(),benchmarkVersion:"v17"},s=Nbt(o),a={...o,entryHash:s};return Fr.push(a),Fr.length>Ibt&&Fr.splice(0,Fr.length-Ibt),a}function Dj(){if(Fr.length===0)return{intact:!0,brokenAt:null,totalChecked:0,genesisHash:"empty",latestHash:"empty"};for(let t=0;t<Fr.length;t++){let e=Fr[t],{entryHash:r,...n}=e;if(Nbt(n)!==r)return{intact:!1,brokenAt:t,totalChecked:t+1,genesisHash:Fr[0].entryHash,latestHash:Fr[Fr.length-1].entryHash};if(t>0&&e.previousHash!==Fr[t-1].entryHash)return{intact:!1,brokenAt:t,totalChecked:t+1,genesisHash:Fr[0].entryHash,latestHash:Fr[Fr.length-1].entryHash}}return{intact:!0,brokenAt:null,totalChecked:Fr.length,genesisHash:Fr[0].entryHash,latestHash:Fr[Fr.length-1].entryHash}}function J9(){let t={};for(let r of Fr)t[r.agentId]||(t[r.agentId]={entries:0,avgCoherence:0,avgDepth:0,hallucinationRate:0,outcomeResolvedRate:0,outcomeAccuracyRate:0}),t[r.agentId].entries++;for(let[r,n]of Object.entries(t)){let i=Fr.filter(s=>s.agentId===r);n.avgCoherence=i.reduce((s,a)=>s+a.coherenceScore,0)/i.length,n.avgDepth=i.reduce((s,a)=>s+a.depthScore,0)/i.length,n.hallucinationRate=i.filter(s=>s.hallucinationFlags.length>0).length/i.length;let o=i.filter(s=>s.outcomeResolved);n.outcomeResolvedRate=o.length/i.length,n.outcomeAccuracyRate=o.length>0?o.filter(s=>s.outcomeCorrect).length/o.length:0}let e=Dj();return{totalEntries:Fr.length,chainIntact:e.intact,agentBreakdown:t,lastEntryHash:Fr.length>0?Fr[Fr.length-1].entryHash:"empty",lastSequence:Fr.length>0?Fr[Fr.length-1].sequenceNumber:-1,oldestEntry:Fr.length>0?Fr[0].timestamp:null,newestEntry:Fr.length>0?Fr[Fr.length-1].timestamp:null}}var Ixr=.7,Cxr=.1,Nxr=.4,Oxr=.4,Pxr=.3,kxr=.3,Dxr=.4,Mxr=.3,Lxr=.3,Bxr=.4,$xr=.7,Uxr=.65,Fxr=.6,zxr=.6,Hxr=.7,Vxr=.6,Gxr=.6,jxr=.6,qxr=3,Wxr=5,Jxr=3,Kxr=10,Qxr=5,Xxr=5,Yxr=10,Dbt=.5,Zxr=.5,ewr=2;var Pbt=300,kbt=new Map,K9=new Map;function fb(t,e,r,n,i,o){return t>o?n:t>i?r:e}function twr(t){let e=t.filter(c=>c.action!=="hold"),r=1-e.length/Math.max(1,t.length),n=e.length>0?e.reduce((c,l)=>c+l.quantity,0)/e.length:0,i=e.filter(c=>c.confidence>Ixr).length,o=Math.min(1,(1-r)*zS.risk_appetite.hold_rate_inverse+Math.min(1,n/2e3)*zS.risk_appetite.avg_trade_size+i/Math.max(1,e.length)*zS.risk_appetite.high_conf_trades),s=[];s.push(`Hold rate: ${(r*100).toFixed(0)}%`),s.push(`Avg trade size: ${n.toFixed(0)}`),s.push(`High-confidence trades: ${i}/${e.length}`);let a=fb(o,"cautious","moderate","aggressive",Nxr,$xr);return{name:"risk_appetite",score:o,phenotype:a,evidence:s,sampleSize:t.length}}function rwr(t){let e=t.filter(p=>p.action!=="hold");if(e.length<qxr)return{name:"conviction",score:.5,phenotype:"undetermined",evidence:["Insufficient data"],sampleSize:e.length};let r=e.map(p=>({conf:p.confidence,qty:p.quantity})),n=r.reduce((p,f)=>p+f.conf,0)/r.length,i=r.reduce((p,f)=>p+f.qty,0)/r.length,o=0,s=0,a=0;for(let p of r){let f=p.conf-n,h=p.qty-i;o+=f*h,s+=f*f,a+=h*h}let c=s>0&&a>0?o/(Math.sqrt(s)*Math.sqrt(a)):0,l=Hi((c+1)/2,0,1),u=[];u.push(`Confidence-size correlation: ${c.toFixed(3)}`),u.push(`Avg confidence: ${(n*100).toFixed(0)}%`);let d=fb(l,"inconsistent","moderate_conviction","high_conviction",Oxr,Uxr);return{name:"conviction",score:l,phenotype:d,evidence:u,sampleSize:e.length}}function nwr(t){let e=t.filter(a=>a.pnlAfter!==null);if(e.length<Wxr)return{name:"adaptability",score:.5,phenotype:"undetermined",evidence:["Insufficient outcome data"],sampleSize:e.length};let r=0,n=0;for(let a=1;a<e.length;a++){let c=e[a-1],l=e[a];if(c.pnlAfter!==null&&c.pnlAfter<0){n++;let u=l.action!==c.action,d=Math.abs(l.confidence-c.confidence)>Cxr,p=l.intent!==c.intent;(u||d||p)&&r++}}let i=n>0?r/n:.5,o=[];o.push(`Behavior changes after loss: ${r}/${n}`),o.push(`Adaptation rate: ${(i*100).toFixed(0)}%`);let s=fb(i,"rigid","semi_adaptive","adaptive",Pxr,Fxr);return{name:"adaptability",score:i,phenotype:s,evidence:o,sampleSize:e.length}}function iwr(t){let e=t.filter(s=>s.consensusAction!==null&&s.action!=="hold");if(e.length<Jxr)return{name:"contrarianism",score:.5,phenotype:"undetermined",evidence:["Insufficient consensus data"],sampleSize:e.length};let r=e.filter(s=>s.action!==s.consensusAction).length,n=r/e.length,i=[];i.push(`Went against consensus: ${r}/${e.length}`),i.push(`Contrarian rate: ${(n*100).toFixed(0)}%`);let o=fb(n,"conformist","independent","contrarian",kxr,zxr);return{name:"contrarianism",score:n,phenotype:o,evidence:i,sampleSize:e.length}}function owr(t){let e=t.reduce((a,c)=>a+c.coherenceScore,0)/Math.max(1,t.length),r=t.filter(a=>a.hallucinationCount>0).length/Math.max(1,t.length),n=t.reduce((a,c)=>a+gr(c.reasoning),0)/Math.max(1,t.length),i=Math.min(1,e*zS.information_processing.avg_coherence+(1-r)*zS.information_processing.hallucination_free+Math.min(1,n/100)*zS.information_processing.reasoning_length),o=[];o.push(`Avg coherence: ${e.toFixed(2)}`),o.push(`Hallucination rate: ${(r*100).toFixed(0)}%`),o.push(`Avg reasoning length: ${n.toFixed(0)} words`);let s=fb(i,"shallow_processor","moderate_processor","deep_processor",Dxr,Hxr);return{name:"information_processing",score:i,phenotype:s,evidence:o,sampleSize:t.length}}function swr(t){let e=[/short[\s-]term/i,/long[\s-]term/i,/near[\s-]term/i,/next\s+(week|month|quarter|year)/i,/within\s+\d+\s+(day|week|hour)/i,/holding\s+period/i,/time\s+horizon/i,/temporary|transient/i,/sustainable|structural/i,/cycle|seasonal/i],r=0;for(let s of t)for(let a of e)if(a.test(s.reasoning)){r++;break}let n=Math.min(1,r/Math.max(1,t.length)),i=[];i.push(`Temporal reasoning mentions: ${r}/${t.length} trades`);let o=fb(n,"time_blind","occasionally_temporal","temporally_aware",Mxr,Vxr);return{name:"temporal_awareness",score:n,phenotype:o,evidence:i,sampleSize:t.length}}function awr(t){if(t.length<Qxr)return{name:"emotional_regulation",score:.5,phenotype:"undetermined",evidence:["Insufficient data"],sampleSize:t.length};let e=Math.sqrt(t.reduce((o,s)=>{let a=t.reduce((c,l)=>c+l.confidence,0)/t.length;return o+(s.confidence-a)**2},0)/t.length),r=Math.max(0,1-e*3),n=[];n.push(`Confidence std dev: ${e.toFixed(3)}`);let i=fb(r,"volatile","semi_regulated","regulated",Lxr,Gxr);return{name:"emotional_regulation",score:r,phenotype:i,evidence:n,sampleSize:t.length}}function cwr(t){if(t.length<Kxr)return{name:"learning_rate",score:.5,phenotype:"undetermined",evidence:["Insufficient data"],sampleSize:t.length};let e=Math.floor(t.length/2),r=t.slice(0,e),n=t.slice(e),i=r.reduce((u,d)=>u+d.coherenceScore,0)/r.length,o=n.reduce((u,d)=>u+d.coherenceScore,0)/n.length,s=o-i,a=Hi(Dbt+s*ewr,0,1),c=[];c.push(`First half coherence: ${i.toFixed(3)}`),c.push(`Second half coherence: ${o.toFixed(3)}`),c.push(`Improvement: ${s>0?"+":""}${(s*100).toFixed(1)}%`);let l=fb(a,"static_learner","slow_learner","fast_learner",Bxr,jxr);return{name:"learning_rate",score:a,phenotype:l,evidence:c,sampleSize:t.length}}function lwr(t,e){let r=[twr(e),rwr(e),nwr(e),iwr(e),owr(e),swr(e),awr(e),cwr(e)],i=r.map(l=>l.score.toFixed(4)).join(","),o=[...r].sort((l,u)=>u.score-l.score),s=`${o[0].name}:${o[0].phenotype}`,a=K9.get(t),c=Dbt;if(a){let l=a.genes.map(p=>p.score),u=r.map(p=>p.score),d=Ose(l,u);c=d!==0?d:Zxr}return{agentId:t,genes:r,genomeHash:i,similarity:{},dominantPhenotype:s,genomeStability:c,lastUpdated:new Date().toISOString(),tradesSampled:e.length}}function Mbt(t){let e=kbt.get(t.agentId)??[];if(e.push(t),e.length>Pbt&&e.splice(0,e.length-Pbt),kbt.set(t.agentId,e),e.length%Xxr===0||e.length<Yxr){let r=lwr(t.agentId,e);for(let[n,i]of K9.entries()){if(n===t.agentId)continue;let o=Ose(r.genes.map(s=>s.score),i.genes.map(s=>s.score));r.similarity[n]=o,i.similarity[t.agentId]=o}K9.set(t.agentId,r)}}function H_e(){return[...K9.values()]}function Lbt(t){let e=K9.get(t);return e?to(e.genes,r=>r.score,(r,n)=>lye[n]??.125):.5}var Mj=new un,G2=[],Bbt=200;function $bt(t,e,r){G2.push({type:t,data:e,agentId:r,timestamp:Date.now()}),G2.length>Bbt&&G2.splice(0,G2.length-Bbt)}Mj.get("/data",t=>{let e=Cd(),r=pb(),n=J9(),i=Dj(),o=H_e();return t.json({ok:!0,version:"v17",timestamp:new Date().toISOString(),pillarCount:Object.keys(V2).length,pillarWeights:V2,rankings:e.map(s=>({rank:s.rank,agentId:s.agentId,provider:s.provider,model:s.model,composite:s.composite,grade:s.grade,eloRating:s.eloRating,streak:s.streak,tradeCount:s.tradeCount,dataQuality:s.dataQuality,pillars:s.pillars.map(a=>({name:a.name,score:a.score,grade:a.grade,weight:a.weight,trend:a.trend})),strengths:s.strengths,weaknesses:s.weaknesses})),health:r,ledger:{totalEntries:n.totalEntries,chainIntact:n.chainIntact,lastHash:n.lastEntryHash.slice(0,16)+"...",agentBreakdown:n.agentBreakdown},integrity:{intact:i.intact,totalChecked:i.totalChecked,genesisHash:i.genesisHash.slice(0,16)+"...",latestHash:i.latestHash.slice(0,16)+"..."},genomes:o.map(s=>({agentId:s.agentId,dominantPhenotype:s.dominantPhenotype,genomeStability:s.genomeStability,tradesSampled:s.tradesSampled,genes:s.genes.map(a=>({name:a.name,score:a.score,phenotype:a.phenotype})),similarity:s.similarity})),recentEvents:G2.slice(-20)})});Mj.get("/stream",t=>{let e=0,r=new ReadableStream({start(n){let i=new TextEncoder;n.enqueue(i.encode(`data: ${JSON.stringify({type:"connected",version:"v17"})}

`));let o=setInterval(()=>{let s=G2.filter(a=>a.timestamp>e);for(let a of s)n.enqueue(i.encode(`data: ${JSON.stringify(a)}

`)),e=a.timestamp},2e3);setTimeout(()=>{clearInterval(o);try{n.close()}catch{}},3e5)}});return new Response(r,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});Mj.get("/export",t=>{let e=kj();if((t.req.query("format")??"json")==="jsonl"){let n=e.agents.map(i=>JSON.stringify(i)).join(`
`);return new Response(n,{headers:{"Content-Type":"application/jsonl","Content-Disposition":"attachment; filename=moltapp-v17-benchmark.jsonl"}})}return t.json(e)});function uwr(t,e){let r=Math.round(t*100),n=t>=.8?"#22c55e":t>=.6?"#eab308":t>=.4?"#f97316":"#ef4444";return`<div style="margin:2px 0"><span style="display:inline-block;width:130px;font-size:11px;color:#94a3b8">${e}</span><div style="display:inline-block;width:120px;height:12px;background:#1e293b;border-radius:3px;overflow:hidden;vertical-align:middle"><div style="width:${r}%;height:100%;background:${n}"></div></div><span style="font-size:11px;color:${n};margin-left:4px">${r}%</span></div>`}function dwr(t){return t.startsWith("A")?"#22c55e":t.startsWith("B")?"#3b82f6":t.startsWith("C")?"#eab308":t.startsWith("D")?"#f97316":"#ef4444"}function pwr(t){let e=t.pillars.map(n=>uwr(n.score,n.name)).join(""),r=dwr(t.grade);return`
    <div style="background:#0f172a;border:1px solid #1e293b;border-radius:12px;padding:20px;margin:12px 0">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
        <div>
          <span style="font-size:24px;font-weight:700;color:${r}">#${t.rank}</span>
          <span style="font-size:18px;font-weight:600;color:#f1f5f9;margin-left:8px">${t.agentId}</span>
          <span style="font-size:12px;color:#64748b;margin-left:8px">${t.provider} / ${t.model}</span>
        </div>
        <div style="text-align:right">
          <div style="font-size:32px;font-weight:800;color:${r}">${t.grade}</div>
          <div style="font-size:14px;color:#94a3b8">${(t.composite*100).toFixed(1)}% composite</div>
          <div style="font-size:12px;color:#64748b">Elo: ${t.eloRating} | Trades: ${t.tradeCount}</div>
        </div>
      </div>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px">
        <div>${e}</div>
        <div style="padding-left:12px">
          <div style="font-size:12px;color:#22c55e;margin-bottom:4px">Strengths</div>
          ${t.strengths.map(n=>`<div style="font-size:11px;color:#94a3b8">+ ${n}</div>`).join("")}
          <div style="font-size:12px;color:#f97316;margin-top:8px;margin-bottom:4px">Weaknesses</div>
          ${t.weaknesses.map(n=>`<div style="font-size:11px;color:#94a3b8">- ${n}</div>`).join("")}
        </div>
      </div>
    </div>`}Mj.get("/",t=>{let e=Cd(),r=pb(),n=J9(),i=Dj(),o=H_e(),s=G2.slice(-10),a=e.map(pwr).join(""),c=o.map(d=>{let p=d.genes.map(f=>`<span style="display:inline-block;padding:2px 8px;margin:2px;border-radius:4px;font-size:11px;background:${f.score>=.6?"#14532d":f.score>=.4?"#713f12":"#7f1d1d"};color:${f.score>=.6?"#86efac":f.score>=.4?"#fcd34d":"#fca5a5"}">${f.name}: ${f.phenotype} (${(f.score*100).toFixed(0)}%)</span>`).join("");return`<div style="margin:8px 0"><strong style="color:#e2e8f0">${d.agentId}</strong> <span style="color:#64748b">stability: ${(d.genomeStability*100).toFixed(0)}%</span><br/>${p}</div>`}).join(""),l=s.length>0?s.map(d=>`<div style="padding:4px 0;border-bottom:1px solid #1e293b;font-size:11px"><span style="color:#3b82f6">${d.type}</span> <span style="color:#64748b">${d.agentId??""}</span> <span style="color:#94a3b8">${JSON.stringify(d.data).slice(0,120)}</span></div>`).join(""):'<div style="color:#64748b;font-size:12px">No events yet. Run a trading round to generate benchmark data.</div>',u=`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>MoltApp Benchmark v17 \u2014 AI Trading Intelligence</title>
  <meta name="description" content="Industry-standard AI trading benchmark with 16-pillar scoring, forensic ledger, and strategy genomes."/>
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{background:#020617;color:#e2e8f0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;min-height:100vh}
    .container{max-width:1200px;margin:0 auto;padding:20px}
    .header{text-align:center;padding:40px 0 20px}
    .header h1{font-size:36px;font-weight:800;background:linear-gradient(135deg,#3b82f6,#8b5cf6,#ec4899);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
    .badges{display:flex;gap:8px;justify-content:center;margin-top:12px;flex-wrap:wrap}
    .badge{display:inline-block;padding:4px 12px;border-radius:999px;font-size:12px;font-weight:600}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin:20px 0}
    .card{background:#0f172a;border:1px solid #1e293b;border-radius:12px;padding:16px}
    .card h3{font-size:14px;color:#94a3b8;margin-bottom:8px;text-transform:uppercase;letter-spacing:1px}
    .stat{font-size:28px;font-weight:700;color:#f1f5f9}
    .sub{font-size:12px;color:#64748b}
    @media(max-width:768px){.grid{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>MoltApp Benchmark v17</h1>
      <p style="color:#94a3b8;margin-top:8px">Industry-Standard AI Trading Intelligence Benchmark</p>
      <div class="badges">
        <span class="badge" style="background:#1e3a5f;color:#60a5fa">16 Pillars</span>
        <span class="badge" style="background:#3f1d5c;color:#c084fc">Forensic Ledger</span>
        <span class="badge" style="background:#1e3a2f;color:#86efac">Strategy Genomes</span>
        <span class="badge" style="background:#3f1d1d;color:#fca5a5">Live on Solana</span>
        <a href="https://huggingface.co/datasets/patruff/molt-benchmark" style="text-decoration:none"><span class="badge" style="background:#1a1a2e;color:#fbbf24">HuggingFace Dataset</span></a>
        <a href="https://www.patgpt.us" style="text-decoration:none"><span class="badge" style="background:#1a2e1a;color:#86efac">patgpt.us</span></a>
      </div>
    </div>

    <div class="grid">
      <div class="card">
        <h3>Benchmark Health</h3>
        <div class="stat">${r.totalAgents} Agents</div>
        <div class="sub">${r.totalTrades} total trades | Data quality: ${(r.avgDataQuality*100).toFixed(0)}%</div>
        <div class="sub">Uptime: ${Math.round(r.uptime/6e4)} min | ${r.warnings.length} warning(s)</div>
      </div>
      <div class="card">
        <h3>Forensic Ledger</h3>
        <div class="stat">${n.totalEntries} Entries</div>
        <div class="sub">Chain: ${i.intact?"INTACT":"BROKEN"} | Hash: ${n.lastEntryHash.slice(0,12)}...</div>
        <div class="sub">${i.totalChecked} hashes verified</div>
      </div>
    </div>

    <h2 style="font-size:20px;margin:24px 0 12px;color:#f1f5f9">Agent Rankings</h2>
    ${a||'<div style="color:#64748b;padding:20px;text-align:center">No agents scored yet. Run trading rounds to populate the benchmark.</div>'}

    <h2 style="font-size:20px;margin:24px 0 12px;color:#f1f5f9">Strategy Genomes</h2>
    <div class="card">
      ${c||'<div style="color:#64748b">Genome data populates as agents trade. Each agent develops a unique behavioral DNA profile.</div>'}
    </div>

    <h2 style="font-size:20px;margin:24px 0 12px;color:#f1f5f9">Live Event Feed</h2>
    <div class="card" style="max-height:300px;overflow-y:auto">
      ${l}
    </div>

    <div style="text-align:center;margin-top:40px;padding:20px;color:#64748b;font-size:12px">
      <p>MoltApp v17 \u2014 AI Trading Benchmark | <a href="/benchmark-v17/data" style="color:#3b82f6">API</a> | <a href="/benchmark-v17/stream" style="color:#3b82f6">Stream</a> | <a href="/benchmark-v17/export" style="color:#3b82f6">Export</a></p>
      <p style="margin-top:4px"><a href="https://huggingface.co/datasets/patruff/molt-benchmark" style="color:#fbbf24">HuggingFace Dataset</a> | <a href="https://www.patgpt.us" style="color:#86efac">patgpt.us</a></p>
    </div>
  </div>

  <script>
    // Auto-refresh data every 45 seconds
    setTimeout(() => location.reload(), 45000);
  </script>
</body>
</html>`;return t.html(u)});var fwr=1,mwr=1,hwr=.3,gwr=.2,ywr=.3,bwr=.2,vwr=.15;var _wr=.2,Swr=.25,xwr=.25,wwr=.25,Awr=.25,Lj=new Map,Ubt=new Map,Fbt=200;function Ewr(t,e,r){if(!(e==="up"&&r==="negative"||e==="down"&&r==="positive"))return{conflictPresent:!1,agentAcknowledged:!1,score:fwr};let o=[/despite|although|however|nevertheless|contrary to|conflicting|mixed signals/i,/price.*(?:up|rising|gain).*(?:negative|bearish|concerning|worry)/i,/price.*(?:down|fall|decline).*(?:positive|bullish|favorable|good)/i,/diverge|disconnect|inconsistent|paradox|contradiction/i,/on one hand.*on the other/i,/risk.*reward/i].some(a=>a.test(t));return{conflictPresent:!0,agentAcknowledged:o,score:o?mwr:hwr}}function Twr(t,e,r){let n=[],i=[/all.time\s+high/i,/52.week\s+(?:high|low)/i,/used\s+to\s+(?:be|trade)\s+at/i,/was\s+(?:once|previously)\s+(?:at\s+)?\$[\d,.]+/i,/down\s+\d+%\s+from\s+(?:its\s+)?(?:peak|high|ath)/i,/compared\s+to\s+(?:its\s+)?(?:previous|past|historical)/i];for(let d of i){let p=t.match(d);p&&n.push(p[0])}let s=[/current(?:ly)?\s+(?:at|trading|priced)/i,/today|this\s+session|right\s+now/i,/latest\s+(?:price|data|reading)/i,/as\s+of\s+(?:now|today)/i].some(d=>d.test(t)),a=t.match(/\$[\d,]+\.?\d*/g)??[],c=0,l=0;for(let d of a){let p=parseFloat(d.replace(/[$,]/g,""));p>0&&(Math.abs(p-e)/e<gwr?c++:l++)}let u=1;return n.length>0&&!s&&(u-=ywr),n.length>2&&(u-=bwr),l>c&&a.length>0&&(u-=vwr),{score:Hi(u,0,1),anchoredReferences:n}}function Rwr(t,e,r){let n=[],i=[];if(r.hasZeroVolume&&(/volume|liquid|thin|illiquid/i.test(t)?n.push("zero_volume_acknowledged"):i.push("zero_volume_ignored")),r.hasMissingData&&(/missing|unavailable|no data|insufficient|incomplete/i.test(t)?n.push("missing_data_acknowledged"):i.push("missing_data_ignored")),r.hasExtremeMove){let a=r.extremeMovePercent??0;/extreme|unusual|abnormal|volatile|spike|crash|surge|halt/i.test(t)?n.push(`extreme_move_${a>0?"up":"down"}_acknowledged`):i.push(`extreme_move_${Math.abs(a).toFixed(0)}pct_ignored`),e!=="hold"&&i.length>0&&i.push("traded_into_extreme_without_acknowledgment")}let o=n.length+i.length;return{score:o>0?n.length/o:1,handledEdgeCases:n,missedEdgeCases:i}}function Iwr(t,e,r){let n=[],i=(t.match(/loss|lose|losing|lost|decline|drop|fall|crash/gi)??[]).length,o=(t.match(/gain|win|profit|rise|growth|rally|surge/gi)??[]).length,s=i+o;if(s>0){let d=i/s;d>.75&&e==="buy"&&n.push("loss_framing_with_buy_decision"),d<.25&&e==="sell"&&n.push("gain_framing_with_sell_decision")}[/just\s+(?:yesterday|today|recently)/i,/in\s+the\s+last\s+(?:few|24)\s+(?:hours|minutes)/i,/this\s+morning|this\s+afternoon/i].filter(d=>d.test(t)).length>=2&&n.push("heavy_recency_bias");let l=gr(t);return r>.85&&l<40&&n.push("overconfident_with_thin_reasoning"),/already\s+invested|can't\s+sell\s+now|cost\s+basis|break\s+even/i.test(t)&&n.push("sunk_cost_language"),{score:Math.max(0,1-n.length*_wr),framingBiasIndicators:n}}function zbt(t,e,r,n,i,o,s){let a=Ewr(e,s.priceDirection,s.newsDirection),c=Twr(e,o,n),l=Rwr(e,r,s),u=Iwr(e,r,i),d=[];!a.agentAcknowledged&&a.conflictPresent&&d.push("Missed conflicting signals between price and news");for(let f of c.anchoredReferences)d.push(`Anchored to historical: ${f}`);for(let f of l.missedEdgeCases)d.push(`Edge case missed: ${f}`);for(let f of u.framingBiasIndicators)d.push(`Framing bias: ${f}`);return{overallScore:Math.round((a.score*Swr+c.score*xwr+l.score*wwr+u.score*Awr)*1e3)/1e3,signalConflict:a,anchoring:c,edgeCases:l,framing:u,vulnerabilities:d}}function Hbt(t,e,r){let n=Lj.get(t)??[];n.push({testId:`adv_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,agentId:t,testType:"signal_conflict",baselineReasoning:"",adversarialReasoning:"",baselineAction:"",adversarialAction:"",susceptibility:1-e.overallScore,vulnerabilities:e.vulnerabilities,adversarialAwareness:e.vulnerabilities.length===0,timestamp:new Date().toISOString()}),n.length>Fbt&&n.splice(0,n.length-Fbt),Lj.set(t,n)}function Vbt(t){let e=Ubt.get(t.agentId)??[];e.push(t),e.length>100&&e.splice(0,e.length-100),Ubt.set(t.agentId,e)}function Gbt(t){let e=Lj.get(t)??[];if(e.length===0)return{agentId:t,overallScore:.5,testCount:0,scores:{signalConflict:.5,anchoringResistance:.5,noiseSensitivity:.5,edgeCaseHandling:.5,framingConsistency:.5},topVulnerabilities:[],trend:"stable",lastUpdated:new Date().toISOString()};let r=e.reduce((d,p)=>d+p.susceptibility,0)/e.length,n=new Map;for(let d of e)for(let p of d.vulnerabilities)n.set(p,(n.get(p)??0)+1);let i=[...n.entries()].sort((d,p)=>p[1]-d[1]).slice(0,5).map(([d])=>d),o=Math.floor(e.length/2),s=e.slice(0,o),a=e.slice(o),c=s.length>0?s.reduce((d,p)=>d+p.susceptibility,0)/s.length:0,l=a.length>0?a.reduce((d,p)=>d+p.susceptibility,0)/a.length:0,u=l<c-.05?"improving":l>c+.05?"declining":"stable";return{agentId:t,overallScore:he(1-r),testCount:e.length,scores:{signalConflict:.5,anchoringResistance:.5,noiseSensitivity:.5,edgeCaseHandling:.5,framingConsistency:.5},topVulnerabilities:i,trend:u,lastUpdated:new Date().toISOString()}}function V_e(){return[...Lj.keys()].map(Gbt)}function W4(t){return Gbt(t).overallScore}var Bj=new Map,jbt=500;function qbt(t){let e=Bj.get(t.agentId)??[];e.push(t),e.length>jbt&&e.splice(0,e.length-jbt),Bj.set(t.agentId,e)}function Cwr(t){let e=[],r=new Map;for(let s of t)if(s.wasCorrect===!1){let a=`${s.symbol}_${s.action}`,c=r.get(a)??[];c.push(s),r.set(a,c)}for(let[s,a]of r)if(a.length>=2){let[c,l]=s.split("_");e.push({type:"repeated_losing_trade",symbol:c,occurrences:a.length,firstSeen:a[0].timestamp,lastSeen:a[a.length-1].timestamp,description:`Agent keeps ${l}ing ${c} and losing (${a.length} times)`})}let n=new Map;for(let s of t)s.coherenceScore<.4&&n.set(s.symbol,(n.get(s.symbol)??0)+1);for(let[s,a]of n)a>=3&&e.push({type:"persistent_incoherence",symbol:s,occurrences:a,firstSeen:t.find(c=>c.symbol===s&&c.coherenceScore<.4)?.timestamp??"",lastSeen:[...t].reverse().find(c=>c.symbol===s&&c.coherenceScore<.4)?.timestamp??"",description:`Agent consistently produces low-coherence reasoning for ${s} (${a} times)`});let i=e.reduce((s,a)=>s+a.occurrences,0),o=t.length>0?Math.max(0,1-i/(t.length*.3)):.5;return{score:he(o),patterns:e}}function Nwr(t){let e=0,r=0,n=new Map;for(let o of t){let s=n.get(o.symbol)??[];s.push(o),n.set(o.symbol,s)}for(let o of n.values())for(let s=1;s<o.length;s++){let a=o[s-1],c=o[s];if(a.wasCorrect===!1){r++;let l=c.action!==a.action,u=c.confidence<a.confidence-.05,d=c.intent!==a.intent;(l||u||d)&&e++}}let i=r>0?e/r:.5;return{score:he(i)}}function Owr(t){if(t.length<10)return{score:.5};let e=Math.floor(t.length/2),r=t.slice(0,e),n=t.slice(e),i=new Map,o=new Map;for(let h of r)i.set(h.intent,(i.get(h.intent)??0)+1);for(let h of n)o.set(h.intent,(o.get(h.intent)??0)+1);let s=h=>{let m=[...h.values()].reduce((y,v)=>y+v,0);if(m===0)return 0;let g=0;for(let y of h.values()){let v=y/m;v>0&&(g-=v*Math.log2(v))}return g},a=s(i),l=s(o)-a,u=r.reduce((h,m)=>h+m.coherenceScore,0)/r.length,p=n.reduce((h,m)=>h+m.coherenceScore,0)/n.length-u,f=.5;return l>.1&&(f+=.15),l>.3&&(f+=.1),p>.05&&(f+=.15),p>.1&&(f+=.1),{score:he(Math.min(1,Math.max(0,f)))}}function Pwr(t){let e=new Map;for(let o of t){let s=e.get(o.symbol)??[];s.push(o),e.set(o.symbol,s)}let r=0,n=0;for(let o of e.values()){if(o.length<3)continue;n++;let s=Math.floor(o.length/2),a=o.slice(0,s).reduce((l,u)=>l+u.coherenceScore,0)/s;o.slice(s).reduce((l,u)=>l+u.coherenceScore,0)/(o.length-s)>a+.03&&r++}let i=n>0?r/n:.5;return{score:he(Hr(i*.8+.2))}}function kwr(t){let e=0,r=0;for(let i=1;i<t.length;i++){let o=t[i-1],s=t[i];o.wasCorrect===!1&&o.confidence>.6&&(r++,s.confidence<o.confidence-.05&&e++)}let n=r>0?e/r:.5;return{score:he(Hr(n))}}function Wbt(t){let e=Bj.get(t)??[];if(e.length<5)return{agentId:t,memoryScore:.5,totalEntries:e.length,dimensions:{mistakeRepetition:.5,lessonRetention:.5,strategyEvolution:.5,symbolKnowledge:.5,confidenceRecalibration:.5},repeatedMistakes:[],learningCurve:[],memoryStrengths:[],memoryWeaknesses:[],trend:"stable",lastUpdated:new Date().toISOString()};let r=Cwr(e),n=Nwr(e),i=Owr(e),o=Pwr(e),s=kwr(e),a={mistakeRepetition:r.score,lessonRetention:n.score,strategyEvolution:i.score,symbolKnowledge:o.score,confidenceRecalibration:s.score},c=Math.round((a.mistakeRepetition*.25+a.lessonRetention*.25+a.strategyEvolution*.2+a.symbolKnowledge*.15+a.confidenceRecalibration*.15)*1e3)/1e3,l=10,u=[];for(let y=l;y<=e.length;y+=l){let v=e.slice(y-l,y),S=v.reduce((w,E)=>w+E.coherenceScore,0)/v.length;u.push({round:y,score:he(S)})}let d=[],p=[];a.mistakeRepetition>.7?d.push("Avoids repeating mistakes"):a.mistakeRepetition<.4&&p.push("Repeats losing patterns"),a.lessonRetention>.7?d.push("Learns from losses"):a.lessonRetention<.4&&p.push("Does not adapt after losses"),a.strategyEvolution>.7?d.push("Evolves strategy over time"):a.strategyEvolution<.4&&p.push("Static strategy regardless of conditions"),a.symbolKnowledge>.7?d.push("Builds stock-specific expertise"):a.symbolKnowledge<.4&&p.push("No improvement on familiar stocks"),a.confidenceRecalibration>.7?d.push("Adjusts confidence after misses"):a.confidenceRecalibration<.4&&p.push("Stays overconfident after errors");let f=Math.floor(e.length/2),h=e.slice(0,f).reduce((y,v)=>y+v.coherenceScore,0)/f,m=e.slice(f).reduce((y,v)=>y+v.coherenceScore,0)/(e.length-f),g=m>h+.05?"improving":m<h-.05?"declining":"stable";return{agentId:t,memoryScore:c,totalEntries:e.length,dimensions:a,repeatedMistakes:r.patterns,learningCurve:u,memoryStrengths:d,memoryWeaknesses:p,trend:g,lastUpdated:new Date().toISOString()}}function G_e(){return[...Bj.keys()].map(Wbt)}function J4(t){return Wbt(t).memoryScore}var Zc=[],mb=[],Jbt=200,Kbt=100;function Qbt(t){Zc.push(t),Zc.length>Jbt&&Zc.splice(0,Zc.length-Jbt);let e=Dwr(t);for(let r of e)mb.push(r),mb.length>Kbt&&mb.splice(0,mb.length-Kbt)}function Dwr(t){let e=[];if(Zc.length<5)return e;let r=Zc.slice(-10),n=Zc.slice(-30,-10);if(n.length<5)return e;let i=ec(r,y=>{let v=Object.values(y.agentScores);return v.length>0?v.reduce((S,w)=>S+w,0)/v.length:0}),o=ec(n,y=>{let v=Object.values(y.agentScores);return v.length>0?v.reduce((S,w)=>S+w,0)/v.length:0}),s=Math.abs(i-o);s>.15&&e.push({id:`reg_${Date.now()}_drift`,type:"scoring_drift",severity:s>.25?"high":"medium",description:`Composite scores shifted by ${(s*100).toFixed(1)}% \u2014 may indicate scoring formula drift or data quality change`,metric:"avg_composite_score",expectedRange:[o-.1,o+.1],actualValue:i,recommendation:"Review recent scoring weight changes or data pipeline for anomalies",timestamp:new Date().toISOString()});let a=ec(r,y=>y.agentScoreSpread);a<.03&&e.push({id:`reg_${Date.now()}_conv`,type:"agent_convergence",severity:a<.01?"high":"medium",description:`Agent score spread is only ${(a*100).toFixed(1)}% \u2014 benchmark is not differentiating agents well`,metric:"agent_score_spread",expectedRange:[.05,.3],actualValue:a,recommendation:"Increase weight of differentiating pillars (financial, battle, patterns)",timestamp:new Date().toISOString()});let c=ec(r,y=>y.coherenceAvg),l=ec(n,y=>y.coherenceAvg);c>l+.15&&c>.85&&e.push({id:`reg_${Date.now()}_coh_inf`,type:"coherence_inflation",severity:"medium",description:`Coherence scores inflated from ${(l*100).toFixed(0)}% to ${(c*100).toFixed(0)}% \u2014 agents may be gaming the coherence scorer`,metric:"avg_coherence",expectedRange:[.5,.8],actualValue:c,recommendation:"Review coherence scoring methodology for gaming vectors",timestamp:new Date().toISOString()});let u=ec(r,y=>y.hallucinationRate),d=ec(n,y=>y.hallucinationRate);u>d+.1&&e.push({id:`reg_${Date.now()}_hall`,type:"hallucination_spike",severity:u>.3?"high":"medium",description:`Hallucination rate spiked from ${(d*100).toFixed(0)}% to ${(u*100).toFixed(0)}%`,metric:"hallucination_rate",expectedRange:[0,.15],actualValue:u,recommendation:"Check if market data pipeline has issues causing agents to hallucinate",timestamp:new Date().toISOString()});let p=ec(r,y=>y.avgReasoningLength),f=ec(n,y=>y.avgReasoningLength);p<f*.6&&e.push({id:`reg_${Date.now()}_len`,type:"reasoning_length_drift",severity:"medium",description:`Avg reasoning length dropped from ${Math.round(f)} to ${Math.round(p)} words`,metric:"avg_reasoning_length",expectedRange:[f*.8,f*1.5],actualValue:p,recommendation:"Review agent prompts or increase minimum reasoning length requirement",timestamp:new Date().toISOString()});let h=ec(r,y=>y.calibrationAvg),m=ec(n,y=>y.calibrationAvg);h<m-.1&&h<.5&&e.push({id:`reg_${Date.now()}_calib`,type:"calibration_decay",severity:h<.3?"high":"medium",description:`Calibration quality dropped from ${(m*100).toFixed(0)}% to ${(h*100).toFixed(0)}%`,metric:"calibration_avg",expectedRange:[.5,1],actualValue:h,recommendation:"Agents may need confidence recalibration prompting",timestamp:new Date().toISOString()});let g=Object.values(t.pillarAverages);if(g.length>=3){let y=Xbt(g);if(y>.25){let v=gv(t.pillarAverages),S=v[0],w=v[v.length-1];e.push({id:`reg_${Date.now()}_imb`,type:"pillar_imbalance",severity:"low",description:`Pillar scores vary widely: ${S[0]}=${(S[1]*100).toFixed(0)}% vs ${w[0]}=${(w[1]*100).toFixed(0)}%`,metric:"pillar_std_dev",expectedRange:[0,.2],actualValue:y,recommendation:`Consider rebalancing pillar weights \u2014 ${w[0]} may need methodology review`,timestamp:new Date().toISOString()})}}return e}function ec(t,e){return t.length===0?0:t.reduce((r,n)=>r+e(n),0)/t.length}function Xbt(t){if(t.length<2)return 0;let e=t.reduce((n,i)=>n+i,0)/t.length,r=t.reduce((n,i)=>n+(i-e)**2,0)/t.length;return Math.sqrt(r)}function j_e(){if(Zc.length<3)return{overallHealth:.8,status:"healthy",activeAlerts:[],snapshotCount:Zc.length,dimensions:{scoringStability:.8,pillarBalance:.8,agentDiversity:.8,dataFreshness:.8,calibrationQuality:.8},recommendations:["Collect more data for meaningful regression detection"],trend:"stable",lastUpdated:new Date().toISOString()};let t=Zc.slice(-10),e=[];for(let D=1;D<t.length;D++){let k=Object.values(t[D-1].agentScores),P=Object.values(t[D].agentScores);if(k.length>0&&P.length>0){let $=k.reduce((W,N)=>W+N,0)/k.length,H=P.reduce((W,N)=>W+N,0)/P.length;e.push(Math.abs(H-$))}}let r=e.length>0?e.reduce((D,k)=>D+k,0)/e.length:0,n=Math.max(0,1-r*5),i=t[t.length-1],o=Object.values(i.pillarAverages),s=Xbt(o),a=Math.max(0,1-s*3),c=Math.min(1,i.agentScoreSpread*10),l=ec(t,D=>D.avgReasoningLength),u=Math.min(1,l/80),d=ec(t,D=>D.calibrationAvg),p={scoringStability:he(n),pillarBalance:he(a),agentDiversity:he(c),dataFreshness:he(u),calibrationQuality:he(d)},f=he(p.scoringStability*.25+p.pillarBalance*.2+p.agentDiversity*.25+p.dataFreshness*.15+p.calibrationQuality*.15),h=mb.filter(D=>D.severity==="high"||D.severity==="critical").length,m=h>=3?"critical":h>=1?"degraded":mb.length>3?"warning":"healthy",g=[];p.agentDiversity<.3&&g.push("Agent scores are too similar \u2014 consider adding more differentiating metrics"),p.scoringStability<.5&&g.push("Scoring is unstable \u2014 review recent methodology changes"),p.dataFreshness<.5&&g.push("Reasoning quality declining \u2014 review agent prompt engineering"),p.calibrationQuality<.4&&g.push("Confidence calibration is poor \u2014 agents need calibration feedback"),g.length===0&&g.push("Benchmark is operating within normal parameters");let y=Math.floor(Zc.length/2),v=Zc.slice(0,y),S=Zc.slice(y),w=ec(v,D=>D.coherenceAvg),E=ec(S,D=>D.coherenceAvg),I=E>w+.05?"improving":E<w-.05?"declining":"stable";return{overallHealth:f,status:m,activeAlerts:mb.slice(-20),snapshotCount:Zc.length,dimensions:p,recommendations:g,trend:I,lastUpdated:new Date().toISOString()}}function Ybt(){return mb.slice(-50)}var $j=new un,Q9=[],Zbt=200;function evt(t,e,r){Q9.push({type:t,data:e,agentId:r,timestamp:Date.now()}),Q9.length>Zbt&&Q9.splice(0,Q9.length-Zbt)}var tvt={financial:.1,reasoning:.09,safety:.08,calibration:.07,patterns:.04,adaptability:.05,forensic_quality:.06,validation_quality:.07,prediction_accuracy:.05,reasoning_stability:.05,provenance_integrity:.05,model_comparison:.04,metacognition:.05,reasoning_efficiency:.04,forensic_ledger:.03,strategy_genome:.03,adversarial_robustness:.05,cross_session_memory:.05};$j.get("/data",t=>{let e=Cd(),r=V_e(),n=G_e(),i=j_e(),o=Ybt(),s=J9(),a=e.map(c=>{let l=r.find(f=>f.agentId===c.agentId),u=n.find(f=>f.agentId===c.agentId),d=Lwr(c);d.adversarial_robustness=l?.overallScore??.5,d.cross_session_memory=u?.memoryScore??.5;let p=Bwr(d);return{agentId:c.agentId,provider:c.provider,model:c.model,composite:p,grade:$wr(p),elo:c.eloRating,tradeCount:c.tradeCount,pillars:d,robustnessTrend:l?.trend??"stable",memoryTrend:u?.trend??"stable",memoryStrengths:u?.memoryStrengths??[],memoryWeaknesses:u?.memoryWeaknesses??[],topVulnerabilities:l?.topVulnerabilities??[]}});return a.sort((c,l)=>l.composite-c.composite),t.json({ok:!0,version:"v18",pillars:18,leaderboard:a,benchmarkHealth:{status:i.status,overallHealth:i.overallHealth,dimensions:i.dimensions,activeAlertCount:o.length,recommendations:i.recommendations},ledger:{totalEntries:s.totalEntries,chainIntact:s.chainIntact,resolvedOutcomes:Object.values(s.agentBreakdown).reduce((c,l)=>c+Math.round(l.entries*l.outcomeResolvedRate),0)},pillarWeights:tvt,timestamp:new Date().toISOString()})});$j.get("/stream",t=>{let e=parseInt(t.req.query("lastId")??"0",10),n=Q9.filter(i=>i.timestamp>e).map(i=>`data: ${JSON.stringify({type:i.type,...i.data,agentId:i.agentId,ts:i.timestamp})}
`).join(`
`);return new Response(`${n}
`,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});$j.get("/export",t=>{let e=kj(),r=V_e(),n=G_e(),i=j_e(),s=e.agents.map(a=>{let c=r.find(u=>u.agentId===a.agentId),l=n.find(u=>u.agentId===a.agentId);return{...a,v18_adversarial_robustness:c?.overallScore??null,v18_adversarial_vulnerabilities:c?.topVulnerabilities??[],v18_memory_score:l?.memoryScore??null,v18_memory_dimensions:l?.dimensions??null,v18_repeated_mistakes:l?.repeatedMistakes.length??0,v18_benchmark_health:i.overallHealth,v18_benchmark_status:i.status}}).map(a=>JSON.stringify(a)).join(`
`);return new Response(s,{headers:{"Content-Type":"application/jsonl","Content-Disposition":`attachment; filename="moltapp-v18-benchmark-${new Date().toISOString().split("T")[0]}.jsonl"`}})});$j.get("/",t=>{let e=Mwr();return t.html(e)});function Mwr(){return`<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MoltApp Benchmark v18 \u2014 18-Pillar AI Trading Benchmark</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:#0a0e17;color:#e0e0e0;min-height:100vh}
.container{max-width:1400px;margin:0 auto;padding:20px}
header{text-align:center;padding:30px 0;border-bottom:1px solid #1a2035}
h1{font-size:2.2rem;background:linear-gradient(135deg,#00d4ff,#7c3aed,#ff6b6b);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:8px}
.subtitle{color:#8892a4;font-size:1.1rem}
.badge-row{display:flex;gap:10px;justify-content:center;margin-top:12px;flex-wrap:wrap}
.badge{display:inline-flex;align-items:center;gap:5px;padding:4px 12px;border-radius:20px;font-size:0.8rem;font-weight:600}
.badge-hf{background:#1a1a2e;color:#ffcc00;border:1px solid #ffcc0044}
.badge-pillars{background:#1a1a2e;color:#00d4ff;border:1px solid #00d4ff44}
.badge-new{background:#1a1a2e;color:#ff6b6b;border:1px solid #ff6b6b44}
.badge-health{background:#1a1a2e;border:1px solid #4ade8044;color:#4ade80}
.badge-health.warning{color:#f59e0b;border-color:#f59e0b44}
.badge-health.degraded{color:#f87171;border-color:#f8717144}
.grid{display:grid;gap:20px;margin-top:24px}
.grid-3{grid-template-columns:repeat(auto-fit,minmax(380px,1fr))}
.card{background:#111827;border:1px solid #1f2937;border-radius:12px;padding:20px;transition:border-color 0.2s}
.card:hover{border-color:#374151}
.card-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}
.card-title{font-size:1.1rem;font-weight:600}
.grade{font-size:1.4rem;font-weight:800;padding:4px 12px;border-radius:8px}
.grade-a{background:#059669;color:white}
.grade-b{background:#2563eb;color:white}
.grade-c{background:#d97706;color:white}
.grade-d{background:#dc2626;color:white}
.grade-f{background:#7f1d1d;color:white}
.agent-meta{color:#6b7280;font-size:0.85rem;margin-bottom:12px}
.pillar-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:6px}
.pillar{padding:6px 8px;background:#1a2035;border-radius:6px;font-size:0.75rem}
.pillar-name{color:#8892a4;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.pillar-score{font-weight:700;margin-top:2px}
.score-high{color:#4ade80}
.score-mid{color:#fbbf24}
.score-low{color:#f87171}
.composite-bar{height:6px;background:#1f2937;border-radius:3px;margin-top:8px;overflow:hidden}
.composite-fill{height:100%;border-radius:3px;transition:width 0.5s}
.section-title{font-size:1.3rem;font-weight:700;margin:28px 0 12px;padding-left:8px;border-left:3px solid #7c3aed}
.health-card{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px;margin-top:12px}
.health-metric{background:#1a2035;border-radius:8px;padding:14px;text-align:center}
.health-value{font-size:1.5rem;font-weight:800}
.health-label{color:#6b7280;font-size:0.8rem;margin-top:4px}
.alert-list{margin-top:12px}
.alert{padding:10px 14px;border-radius:8px;margin-bottom:8px;font-size:0.85rem;border-left:3px solid}
.alert-high{background:#7f1d1d22;border-color:#f87171}
.alert-medium{background:#78350f22;border-color:#fbbf24}
.alert-low{background:#1a2035;border-color:#6b7280}
footer{text-align:center;padding:30px 0;color:#4b5563;font-size:0.85rem;margin-top:40px;border-top:1px solid #1a2035}
footer a{color:#7c3aed;text-decoration:none}
.new-badge{display:inline-block;background:#ff6b6b;color:white;font-size:0.65rem;padding:1px 5px;border-radius:3px;margin-left:4px;font-weight:700;vertical-align:middle}
</style>
</head>
<body>
<div class="container">
<header>
  <h1>MoltApp Benchmark v18</h1>
  <div class="subtitle">Industry-Standard AI Trading Benchmark \u2014 18-Pillar Scoring</div>
  <div class="badge-row">
    <span class="badge badge-hf">&#129303; HuggingFace: patruff/molt-benchmark</span>
    <span class="badge badge-pillars">18 Scoring Pillars</span>
    <span class="badge badge-new">v18: Adversarial + Memory + Regression</span>
    <span class="badge badge-health" id="health-badge">&#9679; Loading...</span>
  </div>
</header>

<div class="section-title">Agent Leaderboard</div>
<div class="grid grid-3" id="leaderboard">
  <div class="card"><div class="card-title">Loading agent data...</div></div>
</div>

<div class="section-title">Benchmark Health Monitor<span class="new-badge">NEW</span></div>
<div class="health-card" id="health-metrics">
  <div class="health-metric"><div class="health-value">\u2014</div><div class="health-label">Overall Health</div></div>
  <div class="health-metric"><div class="health-value">\u2014</div><div class="health-label">Scoring Stability</div></div>
  <div class="health-metric"><div class="health-value">\u2014</div><div class="health-label">Agent Diversity</div></div>
  <div class="health-metric"><div class="health-value">\u2014</div><div class="health-label">Data Freshness</div></div>
  <div class="health-metric"><div class="health-value">\u2014</div><div class="health-label">Calibration</div></div>
</div>

<div class="section-title">Regression Alerts</div>
<div class="alert-list" id="alerts">
  <div class="alert alert-low">No active alerts \u2014 benchmark operating normally.</div>
</div>

<footer>
  <p>MoltApp AI Trading Benchmark v18 \u2014 <a href="https://www.patgpt.us">www.patgpt.us</a></p>
  <p style="margin-top:6px">Dataset: <a href="https://huggingface.co/datasets/patruff/molt-benchmark">patruff/molt-benchmark</a> | API: <a href="/api/v1/benchmark-v18/schema">/api/v1/benchmark-v18/schema</a></p>
</footer>
</div>

<script>
async function loadData() {
  try {
    const res = await fetch('/benchmark-v18/data');
    const data = await res.json();
    if (!data.ok) return;
    renderLeaderboard(data.leaderboard);
    renderHealth(data.benchmarkHealth);
    updateHealthBadge(data.benchmarkHealth.status);
  } catch (e) { console.error('Failed to load data:', e); }
}

function renderLeaderboard(agents) {
  const el = document.getElementById('leaderboard');
  if (!agents || agents.length === 0) {
    el.innerHTML = '<div class="card"><div class="card-title">No agent data yet \u2014 run a trading round!</div></div>';
    return;
  }
  el.innerHTML = agents.map((a, i) => {
    const gc = a.grade.startsWith('A') ? 'grade-a' : a.grade.startsWith('B') ? 'grade-b' : a.grade.startsWith('C') ? 'grade-c' : a.grade.startsWith('D') ? 'grade-d' : 'grade-f';
    const pillars = Object.entries(a.pillars).map(([name, score]) => {
      const sc = score >= 0.7 ? 'score-high' : score >= 0.5 ? 'score-mid' : 'score-low';
      const label = name.replace(/_/g, ' ').replace(/\\b\\w/g, c => c.toUpperCase());
      const isNew = name === 'adversarial_robustness' || name === 'cross_session_memory';
      return '<div class="pillar"><div class="pillar-name">' + label + (isNew ? '<span class="new-badge">NEW</span>' : '') + '</div><div class="pillar-score ' + sc + '">' + (score * 100).toFixed(1) + '%</div></div>';
    }).join('');
    const barColor = a.composite >= 0.7 ? '#4ade80' : a.composite >= 0.5 ? '#fbbf24' : '#f87171';
    return '<div class="card"><div class="card-header"><div class="card-title">#' + (i + 1) + ' ' + a.agentId + '</div><div class="grade ' + gc + '">' + a.grade + '</div></div><div class="agent-meta">' + a.provider + ' / ' + a.model + ' | Elo: ' + a.elo + ' | Trades: ' + a.tradeCount + ' | Composite: ' + (a.composite * 100).toFixed(1) + '%</div><div class="composite-bar"><div class="composite-fill" style="width:' + (a.composite * 100) + '%;background:' + barColor + '"></div></div><div class="pillar-grid" style="margin-top:12px">' + pillars + '</div></div>';
  }).join('');
}

function renderHealth(h) {
  const el = document.getElementById('health-metrics');
  const dims = h.dimensions || {};
  const sc = v => v >= 0.7 ? 'score-high' : v >= 0.5 ? 'score-mid' : 'score-low';
  el.innerHTML = [
    ['Overall Health', h.overallHealth],
    ['Scoring Stability', dims.scoringStability],
    ['Agent Diversity', dims.agentDiversity],
    ['Data Freshness', dims.dataFreshness],
    ['Calibration', dims.calibrationQuality],
  ].map(([label, val]) => '<div class="health-metric"><div class="health-value ' + sc(val || 0) + '">' + ((val || 0) * 100).toFixed(0) + '%</div><div class="health-label">' + label + '</div></div>').join('');

  const alertEl = document.getElementById('alerts');
  if (h.activeAlertCount > 0 && h.recommendations) {
    alertEl.innerHTML = h.recommendations.map(r => '<div class="alert alert-medium">' + r + '</div>').join('');
  }
}

function updateHealthBadge(status) {
  const badge = document.getElementById('health-badge');
  const cls = status === 'healthy' ? '' : status === 'warning' ? 'warning' : 'degraded';
  badge.className = 'badge badge-health ' + cls;
  badge.textContent = '\\u25CF ' + status.charAt(0).toUpperCase() + status.slice(1);
}

loadData();
setInterval(loadData, 45000);
</script>
</body>
</html>`}function Lwr(t){let e={};for(let r of t.pillars)e[r.name]=r.score;return e}function Bwr(t){let e=0,r=0;for(let[n,i]of Object.entries(tvt))e+=(t[n]??.5)*i,r+=i;return r>0?he(e/r):.5}function $wr(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}var Uwr=/(?:\$[\d,.]+|\d+\.?\d*\s*(?:dollars?|usd))/gi,Fwr=/(?:upward|downward|bullish|bearish|rising|falling|increasing|decreasing)\s+(?:trend|momentum|pressure|trajectory)/gi,zwr=/(?:P\/E|earnings|revenue|margin|market\s+cap|dividend|cash\s+flow|book\s+value|EPS|debt[\s-]to[\s-]equity)/gi,Hwr=/(?:market\s+(?:sentiment|mood|fear|greed)|investor\s+(?:confidence|anxiety)|(?:risk[\s-]on|risk[\s-]off))/gi,Vwr=/(?:will\s+(?:rise|fall|increase|decrease|rally|decline|reach)|expect(?:ed|ing)?\s+to|predicted?\s+to|target\s+(?:price|of)|should\s+(?:reach|hit|test))/gi,Gwr=/(?:compared\s+to|relative\s+to|versus|outperform|underperform|better\s+than|worse\s+than|stronger\s+than|weaker\s+than)/gi,jwr=/(?:downside|upside\s+risk|stop[\s-]loss|worst[\s-]case|risk\s+of|could\s+(?:lose|fall|decline)|potential\s+(?:loss|downside))/gi,qwr=[[Uwr,"price"],[Fwr,"trend"],[zwr,"fundamental"],[Hwr,"sentiment"],[Vwr,"prediction"],[Gwr,"comparison"],[jwr,"risk"]],Wwr=/\b(?:because|since|given\s+that|based\s+on|due\s+to|considering|observing\s+that|noting\s+that|as\s+evidenced\s+by)\b/gi,rvt=/\b(?:therefore|thus|hence|consequently|as\s+a\s+result|this\s+(?:means|suggests|indicates|implies)|leading\s+to|which\s+(?:means|suggests))\b/gi,nvt=/\b(?:I(?:'m|\s+am)\s+(?:buying|selling|holding)|my\s+decision|I\s+(?:recommend|decide|choose)|overall|in\s+conclusion|ultimately|the\s+best\s+(?:action|move))\b/gi,q_e=/\b(?:normal\s+(?:market|trading|conditions)|typical\s+(?:volume|volatility)|liquid(?:ity)?|efficient\s+market)\b/gi,W_e=/\b(?:accurate|reliable|current|real[\s-]time|up[\s-]to[\s-]date|verified)\b/gi,J_e=/\b(?:short[\s-]term|long[\s-]term|medium[\s-]term|intraday|swing|overnight|weekly)\b/gi,K4=new Map,ivt=200;function Jwr(t){let e=[],r=new Set;for(let[i,o]of qwr){i.lastIndex=0;let s;for(;(s=i.exec(t))!==null;){let a=s[0].trim(),c=`${o}:${a.toLowerCase()}`;r.has(c)||(r.add(c),e.push({text:a,offset:s.index,type:o,verifiable:o==="price"||o==="trend"||o==="fundamental",verified:null,extractionConfidence:.8+Math.random()*.2}))}}let n=ai(t,15);for(let i of n)if(/\b(?:is\s+(?:trading|priced|valued)|has\s+(?:been|shown|demonstrated)|shows|indicates|reflects|represents)\b/i.test(i)){let o=i.trim(),s=`general:${o.slice(0,50).toLowerCase()}`;r.has(s)||(r.add(s),e.push({text:o.slice(0,200),offset:t.indexOf(o),type:"general",verifiable:!1,verified:null,extractionConfidence:.6}))}return e.sort((i,o)=>i.offset-o.offset)}function Kwr(t,e,r){let n=[];for(let i=0;i<t.length;i++){let o=t[i];for(let s of e){let a=Qwr(o,s,r);a&&n.push({claimIndex:i,source:s,strength:a})}n.some(s=>s.claimIndex===i)||n.push({claimIndex:i,source:"unstated",strength:"inferred"})}return n}function Qwr(t,e,r){let n=e.toLowerCase(),i=t.text.toLowerCase();if(t.type==="price"&&(n.includes("price")||n.includes("market"))||t.type==="trend"&&(n.includes("technical")||n.includes("24h"))||t.type==="fundamental"&&n.includes("fundamental"))return"direct";if(t.type==="sentiment"&&(n.includes("news")||n.includes("sentiment")))return"indirect";let o=r.toLowerCase().indexOf(i);return o>=0&&r.slice(Math.max(0,o-100),o+i.length+100).toLowerCase().includes(n.replace(/_/g," "))?"indirect":null}function Xwr(t){let e=[],r=t.split(/[.!?]+/).map(n=>n.trim()).filter(n=>n.length>10);for(let n of r){let i="premise";nvt.test(n)?(i="conclusion",nvt.lastIndex=0):rvt.test(n)?(i="inference",rvt.lastIndex=0):Wwr.lastIndex=0;let o=[];if(i==="inference"||i==="conclusion")for(let s=0;s<e.length;s++)(e[s].role==="premise"||i==="conclusion"&&e[s].role==="inference")&&o.push(s);e.push({text:n.slice(0,200),role:i,valid:!0,dependsOn:o})}for(let n=0;n<e.length;n++){let i=e[n];if(i.role==="conclusion"){for(let o of i.dependsOn)if(o<e.length){let s=e[o];Ywr(s.text,i.text)&&(i.valid=!1)}}}return e}function Ywr(t,e){let r=t.toLowerCase(),n=e.toLowerCase(),i=/\b(?:bullish|upside|growth|strong|buy|accumulate|undervalued)\b/.test(r),o=/\b(?:bearish|downside|decline|weak|sell|distribute|overvalued)\b/.test(r),s=/\b(?:bullish|upside|growth|strong|buy|accumulate|undervalued)\b/.test(n),a=/\b(?:bearish|downside|decline|weak|sell|distribute|overvalued)\b/.test(n);return i&&a&&!o||o&&s&&!i}function Zwr(t,e){let r=[],n=t.toLowerCase();return q_e.test(n)||(q_e.lastIndex=0,r.push({assumption:"Assumes normal market conditions (no flash crashes, halts, or extreme events)",category:"market_conditions",criticality:"medium"})),q_e.lastIndex=0,W_e.test(n)||(W_e.lastIndex=0,r.push({assumption:"Assumes data is accurate and current (no stale prices or data errors)",category:"data_quality",criticality:"high"})),W_e.lastIndex=0,J_e.test(n)||(J_e.lastIndex=0,r.push({assumption:"Does not specify time horizon for expected outcome",category:"time_horizon",criticality:e==="hold"?"low":"medium"})),J_e.lastIndex=0,e!=="hold"&&!/\b(?:risk|downside|stop[\s-]loss|worst[\s-]case|position\s+size)\b/i.test(n)&&r.push({assumption:"Does not explicitly address risk tolerance or exit conditions",category:"risk_appetite",criticality:"high"}),/\b(?:will\s+continue|always|never|guaranteed|certain)\b/i.test(n)&&r.push({assumption:"Uses deterministic language about inherently uncertain outcomes",category:"model_behavior",criticality:"medium"}),r}function eAr(t,e,r,n){let i=[],o=t.toLowerCase();return e==="buy"?(i.push({condition:`${r} price drops >10% from current level`,expectedChange:"Might convert to hold (deeper value) or sell (broken thesis)",sensitivity:"high"}),/\b(?:support|floor|bottom)\b/i.test(o)&&i.push({condition:`${r} breaks below stated support level`,expectedChange:"Thesis invalidated \u2014 likely switch to sell or hold",sensitivity:"high"})):e==="sell"&&i.push({condition:`${r} price rises >5% from current level`,expectedChange:"Might regret selling; if trend reverses, could buy back",sensitivity:"medium"}),n>.7?i.push({condition:"New negative earnings surprise or regulatory action",expectedChange:"High-confidence trade could flip to low-confidence hold",sensitivity:"high"}):n<.3&&i.push({condition:"Strong positive catalyst (earnings beat, partnership)",expectedChange:"Low-confidence hold could become medium-confidence buy",sensitivity:"medium"}),/\b(?:volume|momentum|trend)\b/i.test(o)&&i.push({condition:"Volume dries up or momentum reverses",expectedChange:"Momentum-based thesis weakened; agent may exit position",sensitivity:"medium"}),/\b(?:sector|macro|fed|interest\s+rate|inflation)\b/i.test(o)&&i.push({condition:"Macro environment shifts (rate hike, sector rotation)",expectedChange:"Macro-dependent thesis could be invalidated",sensitivity:"low"}),i}function ovt(t,e,r,n,i,o,s){let a=Jwr(i),c=Kwr(a,s,i),l=Xwr(i),u=Zwr(i,r),d=o>1?o/100:o,p=eAr(i,r,n,d),f=gr(i),h=Math.min(1,a.length/Math.max(1,f/20)),m=c.filter(P=>P.strength==="direct").length,g=a.length>0?Math.min(1,m/a.length):0,y=l.filter(P=>P.valid).length,v=l.length>0?y/l.length:.5,S=u.filter(P=>P.criticality==="high").length,w=Math.max(0,1-S*.2),E=Math.min(1,p.length/4),I=ne(h*.2+g*.25+v*.25+w*.15+E*.15),D={agentId:t,roundId:e,action:r,symbol:n,claims:a,evidenceMap:c,logicChain:l,assumptions:u,counterfactuals:p,transparencyScore:I,componentScores:{claimDensity:ne(h),evidenceCoverage:ne(g),logicValidity:ne(v),assumptionAwareness:ne(w),counterfactualDepth:ne(E)},timestamp:new Date().toISOString()},k=K4.get(t)??[];return k.unshift(D),k.length>ivt&&(k.length=ivt),K4.set(t,k),D}function Uj(){let t={};for(let[e,r]of K4.entries()){if(r.length===0)continue;let n=r.length;t[e]={avgTransparency:ne(r.reduce((i,o)=>i+o.transparencyScore,0)/n),avgClaimDensity:ne(r.reduce((i,o)=>i+o.componentScores.claimDensity,0)/n),avgEvidenceCoverage:ne(r.reduce((i,o)=>i+o.componentScores.evidenceCoverage,0)/n),avgLogicValidity:ne(r.reduce((i,o)=>i+o.componentScores.logicValidity,0)/n),avgAssumptionAwareness:ne(r.reduce((i,o)=>i+o.componentScores.assumptionAwareness,0)/n),avgCounterfactualDepth:ne(r.reduce((i,o)=>i+o.componentScores.counterfactualDepth,0)/n),totalReports:n}}return t}function Q4(t){let e=K4.get(t)??[];return e.length===0?.5:ne(e.reduce((r,n)=>r+n.transparencyScore,0)/e.length)}function X4(){let t=0,e=0,r={id:"",score:0},n={id:"",score:1},i=new Map;for(let[a,c]of K4.entries()){t+=c.length;let l=c.reduce((u,d)=>u+d.transparencyScore,0)/(c.length||1);e+=l,l>r.score&&(r={id:a,score:l}),l<n.score&&(n={id:a,score:l});for(let u of c)for(let d of u.assumptions)i.set(d.assumption,(i.get(d.assumption)??0)+1)}let o=K4.size||1,s=[...i.entries()].sort((a,c)=>c[1]-a[1]).slice(0,5).map(([a])=>a);return{totalReports:t,avgTransparency:ne(e/o),mostTransparent:r.id||null,leastTransparent:n.id||null,commonAssumptions:s}}var X9=new Map,svt=500;function avt(t,e,r,n,i,o){let s=[],a=o>1?o/100:o,c=tAr(i,n);c&&s.push({id:`claim_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,agentId:t,roundId:e,symbol:r,action:n,claim:c.text,claimType:"directional",confidence:a,direction:c.direction,timestamp:new Date().toISOString(),status:"pending"});let l=rAr(i,r);for(let f of l)s.push({id:`claim_${Date.now()}_${Math.random().toString(36).slice(2,6)}_pt`,agentId:t,roundId:e,symbol:r,action:n,claim:f.text,claimType:"price_target",confidence:a,targetPrice:f.price,timestamp:new Date().toISOString(),status:"pending"});let u=nAr(i);u&&s.push({id:`claim_${Date.now()}_${Math.random().toString(36).slice(2,6)}_th`,agentId:t,roundId:e,symbol:r,action:n,claim:u.text,claimType:"time_horizon",confidence:a,horizonHours:u.hours,timestamp:new Date().toISOString(),status:"pending"});let d=iAr(i,r);for(let f of d)s.push({id:`claim_${Date.now()}_${Math.random().toString(36).slice(2,6)}_cat`,agentId:t,roundId:e,symbol:r,action:n,claim:f,claimType:"categorical",confidence:a,timestamp:new Date().toISOString(),status:"pending"});let p=X9.get(t)??[];return p.unshift(...s),p.length>svt&&(p.length=svt),X9.set(t,p),s}function tAr(t,e){let r=t.toLowerCase();return e==="buy"||/\b(?:will\s+rise|expected?\s+to\s+increase|upside|bullish|higher)\b/i.test(r)?{text:`Expects price to move up (action: ${e})`,direction:"up"}:e==="sell"||/\b(?:will\s+fall|expected?\s+to\s+decrease|downside|bearish|lower)\b/i.test(r)?{text:`Expects price to move down (action: ${e})`,direction:"down"}:e==="hold"||/\b(?:sideways|flat|range[\s-]bound|consolidat)\b/i.test(r)?{text:`Expects price to remain flat (action: ${e})`,direction:"flat"}:null}function rAr(t,e){let r=[],n=[/target\s+(?:price\s+)?(?:of\s+)?\$?([\d,.]+)/gi,/(?:reach|hit|test)\s+\$?([\d,.]+)/gi,/\$?([\d,.]+)\s+(?:target|level|resistance|support)/gi];for(let i of n){let o;for(;(o=i.exec(t))!==null;){let s=parseFloat(o[1].replace(/,/g,""));s>0&&s<1e5&&r.push({text:`Price target: $${s.toFixed(2)}`,price:s})}}return r.slice(0,3)}function nAr(t){let e=[[/\b(?:next\s+few\s+hours?|intraday|today)\b/i,8],[/\b(?:overnight|tomorrow|24\s*h)\b/i,24],[/\b(?:this\s+week|next\s+few\s+days|short[\s-]term)\b/i,120],[/\b(?:next\s+week|coming\s+week)\b/i,168],[/\b(?:medium[\s-]term|next\s+month|coming\s+weeks)\b/i,720],[/\b(?:long[\s-]term|next\s+quarter|several\s+months)\b/i,2160]];for(let[r,n]of e){let i=t.match(r);if(i)return{text:`Time horizon: ${i[0]}`,hours:n}}return null}function iAr(t,e){let r=[],n=t.toLowerCase();return/\b(?:outperform|beat\s+the\s+market|alpha)\b/i.test(n)&&r.push(`${e} will outperform the market`),/\b(?:underperform|lag\s+(?:the\s+)?market|drag)\b/i.test(n)&&r.push(`${e} will underperform the market`),/\b(?:recovery|rebound|bounce\s+back)\b/i.test(n)&&r.push(`${e} expected to recover`),/\b(?:correction|pullback|dip)\b/i.test(n)&&r.push(`${e} expected to correct`),r}function K_e(t){let e=X9.get(t)??[],r=e.filter(E=>E.status==="correct"||E.status==="incorrect"),n=e.filter(E=>E.status==="correct"),i=e.filter(E=>E.status==="incorrect"),o=e.filter(E=>E.status==="pending"),s={};for(let E of r)s[E.claimType]||(s[E.claimType]={total:0,correct:0,accuracy:0}),s[E.claimType].total++,E.status==="correct"&&s[E.claimType].correct++;for(let E of Object.keys(s))s[E].accuracy=s[E].total>0?Math.round(s[E].correct/s[E].total*100)/100:0;let a={};for(let E of r)a[E.symbol]||(a[E.symbol]={total:0,correct:0,accuracy:0}),a[E.symbol].total++,E.status==="correct"&&a[E.symbol].correct++;for(let E of Object.keys(a))a[E].accuracy=a[E].total>0?Math.round(a[E].correct/a[E].total*100)/100:0;let l=[{label:"0.0-0.2",min:0,max:.2},{label:"0.2-0.4",min:.2,max:.4},{label:"0.4-0.6",min:.4,max:.6},{label:"0.6-0.8",min:.6,max:.8},{label:"0.8-1.0",min:.8,max:1}].map(E=>{let I=r.filter(k=>k.confidence>=E.min&&k.confidence<(E.max===1?1.01:E.max)),D=I.filter(k=>k.status==="correct").length;return{bucket:E.label,total:I.length,correct:D,accuracy:I.length>0?Math.round(D/I.length*100)/100:0}}),u=r.filter(E=>E.confidence>.7),d=u.filter(E=>E.status==="incorrect").length,p=u.length>0?Math.round(d/u.length*100)/100:0,f=Math.floor(r.length/2),h=r.slice(f),m=r.slice(0,f),g=h.length>0?h.filter(E=>E.status==="correct").length/h.length:0,y=m.length>0?m.filter(E=>E.status==="correct").length/m.length:0,v="stable";y-g>.05&&(v="improving"),g-y>.05&&(v="declining");let S=r.length>0?Math.round(n.length/r.length*100)/100:0,w=Math.round((S*.35+(1-p)*.25+(v==="improving"?.8:v==="stable"?.5:.2)*.2+Math.min(1,r.length/20)*.2)*100)/100;return{agentId:t,totalClaims:e.length,resolvedClaims:r.length,correctClaims:n.length,incorrectClaims:i.length,pendingClaims:o.length,accuracyRate:S,overconfidenceRate:p,byType:s,bySymbol:a,byConfidence:l,learningTrend:v,accountabilityScore:w}}function Fj(){let t={};for(let e of X9.keys())t[e]=K_e(e);return t}function Y4(t){return K_e(t).accountabilityScore}function Z4(){let t=0,e=0,r=0,n={id:"",score:0},i={id:"",score:1};for(let o of X9.keys()){let s=K_e(o);t+=s.totalClaims,e+=s.resolvedClaims,r+=s.correctClaims,s.accountabilityScore>n.score&&(n={id:o,score:s.accountabilityScore}),s.accountabilityScore<i.score&&(i={id:o,score:s.accountabilityScore})}return{totalClaimsTracked:t,totalResolved:e,overallAccuracy:e>0?Math.round(r/e*100)/100:0,mostAccountable:n.id||null,leastAccountable:i.id||null}}import{createHash as cvt}from"crypto";var Y9=new Map,oAr=new Map,lvt=300,Q_e=/\b(?:I\s+(?:believe|think|expect|recommend|conclude)|my\s+(?:thesis|view|analysis|assessment)|overall|the\s+case\s+for|the\s+key\s+(?:reason|argument))\b/gi,X_e=/\b(?:because|since|data\s+shows|according\s+to|based\s+on|evidence|the\s+fact\s+that|supported\s+by|as\s+(?:shown|indicated|demonstrated))\b/gi,Y_e=/\b(?:therefore|thus|hence|in\s+conclusion|as\s+a\s+result|consequently|this\s+leads\s+me\s+to|my\s+decision|I(?:'m|\s+am)\s+(?:going\s+to|choosing\s+to))\b/gi,Z_e=/\$[\d,.]+|\d+\.?\d*%|\d+x|\d+\.?\d*\s*(?:billion|million|thousand)|P\/E\s+(?:of\s+)?\d+|\d+\.?\d*\s*(?:ratio|multiple)/gi,eSe=/\b(?:current(?:ly)?|today|this\s+week|yesterday|24h|last\s+(?:session|day|week)|at\s+the\s+(?:time|moment))\b/gi,tSe=/\b(?:because|therefore|thus|hence|since|as\s+a\s+result|consequently|due\s+to|driven\s+by|leading\s+to|which\s+(?:means|suggests|implies|indicates))\b/gi,sAr=[[/\bstrongly\s+bullish\b/i,/\bstrongly\s+bearish\b/i],[/\bshould\s+buy\b/i,/\bshould\s+sell\b/i],[/\bvery\s+confident\b/i,/\bvery\s+uncertain\b/i],[/\bundervalued\b/i,/\bovervalued\b/i]],rSe=/\b(?:might|may|could|possibly|perhaps|uncertain|unclear|risk|not\s+sure|unknown|limited\s+data|caveat|however|on\s+the\s+other\s+hand|that\s+said)\b/gi,nSe=/\b(?:definitely|certainly|guaranteed|will\s+(?:definitely|certainly)|no\s+doubt|absolutely|100%|always|never\s+(?:fail|lose))\b/gi,iSe=/\b(?:buy|sell|hold|position\s+size|entry\s+(?:point|price)|exit\s+(?:point|price)|stop[\s-]loss|take[\s-]profit|target\s+price|allocation|quantity|shares?|usd[c]?)\b/gi;function uvt(t,e,r,n,i,o,s){let a=[],c=aAr(i);a.push(c);let l=cAr(i,s);a.push(l);let u=lAr(i);a.push(u);let d=uAr(i,o);a.push(d);let p=dAr(i,r);a.push(p);let f=ne(to(a,(D,k)=>D.score,(D,k)=>uye[k])),h=Math.min(...a.map(D=>D.score)),m;h>=.8?m="gold":h>=.6?m="silver":h>=.4?m="bronze":m="uncertified";let g=cvt("sha256").update(i).digest("hex").slice(0,16),y=JSON.stringify({agentId:t,roundId:e,level:m,compositeScore:f,reasoningHash:g,dimensions:a.map(D=>({name:D.name,score:D.score}))}),v=cvt("sha256").update(y).digest("hex"),S=new Date,w=new Date(S.getTime()+10080*60*1e3),E={certificateId:`cert_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,hash:v,agentId:t,roundId:e,level:m,compositeScore:f,dimensions:a,reasoningHash:g,action:r,symbol:n,issuedAt:S.toISOString(),expiresAt:w.toISOString()},I=Y9.get(t)??[];return I.unshift(E),I.length>lvt&&(I.length=lvt),Y9.set(t,I),oAr.set(v,E),E}function aAr(t){let e=[];Q_e.lastIndex=0;let r=Q_e.test(t);Q_e.lastIndex=0,r&&e.push("Contains thesis statement"),X_e.lastIndex=0;let n=(t.match(X_e)??[]).length;X_e.lastIndex=0,n>0&&e.push(`${n} evidence markers`),Y_e.lastIndex=0;let i=Y_e.test(t);Y_e.lastIndex=0,i&&e.push("Contains conclusion");let o=ai(t,10),s=gr(t);s>50&&e.push(`${s} words (sufficient depth)`);let a=0;return r&&(a+=.25),n>0&&(a+=Math.min(.3,n*.1)),i&&(a+=.2),o.length>=3&&(a+=.15),s>=50&&(a+=.1),{name:"structural_completeness",score:Math.min(1,ne(a)),indicators:e,grade:Z9(a)}}function cAr(t,e){let r=[];Z_e.lastIndex=0;let n=(t.match(Z_e)??[]).length;Z_e.lastIndex=0,n>0&&r.push(`${n} quantitative claims`),eSe.lastIndex=0;let i=(t.match(eSe)??[]).length;eSe.lastIndex=0,i>0&&r.push(`${i} temporal references`);let o=e.length;o>0&&r.push(`${o} data sources cited`);let s=0;return s+=Math.min(.3,n*.06),s+=Math.min(.2,i*.07),s+=Math.min(.3,o*.1),o>=3&&(s+=.1),/\$\d+/.test(t)&&(s+=.1),{name:"data_grounding",score:Math.min(1,ne(s)),indicators:r,grade:Z9(s)}}function lAr(t){let e=[];tSe.lastIndex=0;let r=(t.match(tSe)??[]).length;tSe.lastIndex=0,r>0&&e.push(`${r} causal connectors`);let n=0;for(let[a,c]of sAr)a.test(t)&&c.test(t)&&(n++,e.push("Internal contradiction detected")),a.lastIndex=0,c.lastIndex=0;let i=ai(t,20),o=!1;if(i.length>=2){let a=i[0].trim().toLowerCase().slice(0,50),c=i[i.length-1].trim().toLowerCase().slice(0,50);a===c&&(o=!0,e.push("Potentially circular: first and last points identical"))}let s=.5;return s+=Math.min(.3,r*.05),s-=n*.15,o&&(s-=.1),r>=3&&n===0&&(s+=.1),{name:"logical_soundness",score:Hr(ne(s)),indicators:e,grade:Z9(s)}}function uAr(t,e){let r=[],n=wr(e);rSe.lastIndex=0;let i=(t.match(rSe)??[]).length;rSe.lastIndex=0,i>0&&r.push(`${i} uncertainty acknowledgments`),nSe.lastIndex=0;let o=(t.match(nSe)??[]).length;nSe.lastIndex=0,o>0&&r.push(`${o} overconfidence markers`);let s=i>0,a=o>0,c=.5;return s&&(c+=Math.min(.25,i*.08)),a&&(c-=o*.1),n>.8&&!s&&!a&&(c-=.1,r.push("High confidence without uncertainty acknowledgment")),n<.5&&s&&(c+=.1,r.push("Low confidence with appropriate uncertainty expression")),{name:"epistemic_honesty",score:Hr(ne(c)),indicators:r,grade:Z9(c)}}function dAr(t,e){let r=[];iSe.lastIndex=0;let n=(t.match(iSe)??[]).length;iSe.lastIndex=0,n>0&&r.push(`${n} actionable details`);let i=new RegExp(`\\b(?:I(?:'m|\\s+am)\\s+(?:buying|selling|holding)|decision\\s+(?:is|to)|I\\s+(?:choose|decide)\\s+to\\s+${e})`,"i").test(t);i&&r.push("Clear decision statement");let o=/\b(?:\d+\s*(?:shares?|tokens?|units?)|\$[\d,.]+\s*(?:worth|of)|position\s+size|allocation)\b/i.test(t);o&&r.push("Position sizing context");let s=/\b(?:stop[\s-]loss|take[\s-]profit|exit|risk[\s-]reward|position\s+limit|max\s+(?:loss|risk))\b/i.test(t);s&&r.push("Risk management criteria");let a=0;return a+=Math.min(.3,n*.05),i&&(a+=.25),o&&(a+=.2),s&&(a+=.25),{name:"actionability",score:Math.min(1,ne(a)),indicators:r,grade:Z9(a)}}function Z9(t){return t>=.9?"A":t>=.8?"B+":t>=.7?"B":t>=.6?"C+":t>=.5?"C":t>=.4?"D":"F"}function dvt(t){let e=Y9.get(t)??[],r=e.filter(E=>E.level==="gold").length,n=e.filter(E=>E.level==="silver").length,i=e.filter(E=>E.level==="bronze").length,o=e.filter(E=>E.level==="uncertified").length,s=r+n+i,a=e.length,c=a>0?ne(e.reduce((E,I)=>E+I.compositeScore,0)/a):0,l={};for(let E of e)for(let I of E.dimensions)l[I.name]||(l[I.name]=[]),l[I.name].push(I.score);let u=Object.entries(l).map(([E,I])=>({name:E,avg:I.reduce((D,k)=>D+k,0)/I.length}));u.sort((E,I)=>I.avg-E.avg);let d=u[0]?.name??"none",p=u[u.length-1]?.name??"none",f=Math.floor(a/2),h=e.slice(f),m=e.slice(0,f),g=h.length>0?h.reduce((E,I)=>E+I.compositeScore,0)/h.length:0,y=m.length>0?m.reduce((E,I)=>E+I.compositeScore,0)/m.length:0,v="stable";y-g>.03&&(v="improving"),g-y>.03&&(v="declining");let S=a>0?s/a:0,w=ne(S*.4+c*.6);return{agentId:t,totalCertifications:a,goldCount:r,silverCount:n,bronzeCount:i,uncertifiedCount:o,certificationRate:a>0?ne(S):0,avgComposite:c,bestDimension:d,worstDimension:p,trend:v,pillarScore:w}}function zj(){let t={};for(let e of Y9.keys())t[e]=dvt(e);return t}function e6(t){return dvt(t).pillarScore}function t6(){let t=0,e=0,r=0,n=0,i=0,o=0;for(let s of Y9.values()){t+=s.length;for(let a of s)o+=a.compositeScore,a.level==="gold"?e++:a.level==="silver"?r++:a.level==="bronze"?n++:i++}return{totalCertificates:t,goldTotal:e,silverTotal:r,bronzeTotal:n,uncertifiedTotal:i,overallCertRate:t>0?ne((e+r+n)/t):0,avgComposite:t>0?ne(o/t):0}}var pAr=[];function fAr(t){let e=pAr.filter(S=>S.agentA===t||S.agentB===t),r=0,n=0,i=0,o=0,s={evidenceWeight:0,logicalConsistency:0,calibrationAccuracy:0,riskDisclosure:0,originality:0},a=0,c=0,l=0,u=0;for(let S of e){let w=S.agentA===t,E=w?S.scoresA:S.scoresB;o+=E.composite;for(let I of Object.keys(s))s[I]+=E[I];S.winner==="tie"?i++:S.winner===t?r++:n++,S.isDisagreement&&(S.winner===t?a++:S.winner!=="tie"&&c++),S.outcomeVerdict&&S.outcomeVerdict!=="pending"&&(u++,(w&&S.outcomeVerdict==="agentA_correct"||!w&&S.outcomeVerdict==="agentB_correct")&&l++)}let d=e.length||1,p={};for(let[S,w]of Object.entries(s))p[S]=ne(w/d);let f=gv(p),h=f[0]?.[0]??"none",m=f[f.length-1]?.[0]??"none",g=e.slice(0,10),y=e.slice(10,20),v="stable";if(g.length>=5&&y.length>=5){let S=g.reduce((I,D)=>{let k=D.agentA===t?D.scoresA:D.scoresB;return I+k.composite},0)/g.length,w=y.reduce((I,D)=>{let k=D.agentA===t?D.scoresA:D.scoresB;return I+k.composite},0)/y.length,E=S-w;E>.05?v="improving":E<-.05&&(v="declining")}return{agentId:t,totalCases:e.length,wins:r,losses:n,ties:i,winRate:e.length>0?ne(r/e.length):0,avgComposite:ne(o/d),strengthDimension:h,weaknessDimension:m,disagreementRecord:{wins:a,losses:c},outcomeAccuracy:u>0?ne(l/u):0,recentTrend:v}}function r6(t){let e=fAr(t);if(e.totalCases===0)return .5;let r=e.recentTrend==="improving"?.8:e.recentTrend==="stable"?.5:.2;return ne(e.winRate*.4+e.avgComposite*.3+e.outcomeAccuracy*.2+r*.1)}var mAr=[];function hAr(t){let e=mAr.filter(m=>m.participants.some(g=>g.agentId===t)),r=0,n=0,i=0,o=0,s=0,a=0,c=0,l=0,u=0,d={thesisClarity:0,evidenceQuality:0,logicalStrength:0,rebuttalPower:0,intellectualHonesty:0};for(let m of e){let g=m.verdict.scores[t];if(!g)continue;o+=g.composite,s+=m.debateQualityScore,m.verdict.winner==="tie"?i++:m.verdict.winner===t?r++:n++;for(let w of Object.keys(d))d[w]+=g[w];let y=m.participants,v=y.find(w=>w.agentId===t),S=y.find(w=>w.agentId!==t);v&&S&&(c++,v.rebuttalStrength>S.rebuttalStrength&&a++);for(let w of m.evidenceClashes)u++,w.winner===t&&l++}let p=e.length||1,f={};for(let[m,g]of Object.entries(d))f[m]=ne(g/p);let h=gv(f);return{agentId:t,totalDebates:e.length,wins:r,losses:n,ties:i,winRate:e.length>0?ne(r/e.length):0,avgScore:ne(o/p),bestDimension:h[0]?.[0]??"none",worstDimension:h[h.length-1]?.[0]??"none",avgDebateQuality:ne(s/p),rebuttalWinRate:c>0?ne(a/c):0,evidenceClashWinRate:u>0?ne(l/u):0}}function n6(t){let e=hAr(t);return e.totalDebates===0?.5:ne(e.winRate*.3+e.avgScore*.3+e.rebuttalWinRate*.2+e.avgDebateQuality*.2)}var gAr=[{range:"0.0-0.25",min:0,max:.25},{range:"0.25-0.50",min:.25,max:.5},{range:"0.50-0.75",min:.5,max:.75},{range:"0.75-1.0",min:.75,max:1}],yAr=1.01,bAr=10,vAr=1.667,pvt=.5,_Ar=.7,SAr=.4,oSe=.5,xAr=5,wAr=.3,AAr=.15,EAr=.2,TAr=.1,RAr=.25,IAr=10,CAr=2,NAr=[];function OAr(t){let e=t.filter(c=>c.status==="resolved");if(e.length===0)return{currentStreak:0,currentStreakType:"none",longestWinStreak:0,longestLossStreak:0};let r=0,n="none",i=0,o=0,s=0,a=0;for(let c of e)c.directionCorrect?(s++,a=0,i=Math.max(i,s)):(a++,s=0,o=Math.max(o,a));for(let c of e)if(n==="none")n=c.directionCorrect?"win":"loss",r=1;else if(n==="win"&&c.directionCorrect||n==="loss"&&!c.directionCorrect)r++;else break;return{currentStreak:r,currentStreakType:n,longestWinStreak:i,longestLossStreak:o}}function PAr(t){let e=t.filter(r=>r.status==="resolved");return gAr.map(r=>{let n=e.filter(a=>a.confidence>=r.min&&a.confidence<(r.max===1?yAr:r.max)),i=xs(n,a=>a.directionCorrect===!0),o=n.filter(a=>a.magnitudeError!==void 0),s=o.reduce((a,c)=>a+(c.magnitudeError??0),0);return{range:r.range,count:n.length,directionAccuracy:n.length>0?Math.round(i/n.length*100)/100:0,avgMagnitudeError:o.length>0?he(s/o.length):0}})}function kAr(t){let e=t.filter(c=>c.status==="resolved");if(e.length<bAr)return pvt;let r=Math.floor(e.length/2),n=e.slice(r),i=e.slice(0,r),o=xs(n,c=>c.directionCorrect===!0)/n.length,a=xs(i,c=>c.directionCorrect===!0)/i.length-o;return ne(Hr(pvt+a*vAr))}function DAr(t){let e=t.filter(a=>a.status==="resolved");if(e.length<xAr)return 0;let r=e.filter(a=>a.confidence>_Ar),n=e.filter(a=>a.confidence<=SAr),i=r.length>0?xs(r,a=>a.directionCorrect===!0)/r.length:oSe,o=n.length>0?xs(n,a=>a.directionCorrect===!0)/n.length:oSe,s=i-o;return ne(Hr(oSe+s))}function MAr(t){let e=NAr.filter(S=>S.agentId===t),r=e.filter(S=>S.status==="resolved"),n=xs(r,S=>S.directionCorrect===!0),i=r.length>0?Math.round(n/r.length*100)/100:0,o=r.filter(S=>S.magnitudeError!==void 0),s=o.length>0?he(o.reduce((S,w)=>S+(w.magnitudeError??0),0)/o.length):0,a=e.filter(S=>S.predictedHorizon!==null),c=e.length>0?Math.round(a.length/e.length*100)/100:0,l=new Map;for(let S of r){let w=l.get(S.symbol)??{correct:0,total:0};w.total++,S.directionCorrect&&w.correct++,l.set(S.symbol,w)}let u="none",d="none",p=-1,f=2;for(let[S,w]of l){if(w.total<CAr)continue;let E=w.correct/w.total;E>p&&(p=E,u=S),E<f&&(f=E,d=S)}let h=OAr(e),m=PAr(e),g=kAr(e),y=DAr(e),v=Math.round((i*wAr+(1-Math.min(1,s*IAr))*AAr+y*EAr+c*TAr+g*RAr)*100)/100;return{agentId:t,totalForecasts:e.length,resolvedForecasts:r.length,directionAccuracy:i,avgMagnitudeError:s,convictionCorrelation:y,horizonUsageRate:c,learningVelocity:g,bestSymbol:u,worstSymbol:d,streakInfo:h,confidenceBuckets:m,compositeScore:v}}function i6(t){return MAr(t).compositeScore}var Gj=new un,Hj=[],fvt=200;function mvt(t,e){Hj.unshift({type:t,data:e,timestamp:new Date().toISOString()}),Hj.length>fvt&&(Hj.length=fvt)}var Vj={financial:.08,reasoning:.07,safety:.06,calibration:.06,patterns:.03,adaptability:.04,forensic_quality:.05,validation_quality:.05,prediction_accuracy:.04,reasoning_stability:.04,provenance_integrity:.04,model_comparison:.03,metacognition:.04,reasoning_efficiency:.03,forensic_ledger:.03,strategy_genome:.03,adversarial_robustness:.04,cross_session_memory:.04,arbitration_quality:.04,debate_performance:.04,impact_forecasting:.04,reasoning_transparency:.05,decision_accountability:.05,quality_certification:.05};function LAr(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}function sSe(){let t=Cd(),e=Uj(),r=Fj(),n=zj(),i=[...new Set([...t.map(s=>s.agentId),...Object.keys(e),...Object.keys(r),...Object.keys(n)])];i.length===0&&i.push("claude-value-investor","gpt-momentum-trader","grok-contrarian");let o=i.map(s=>{let a=t.find(f=>f.agentId===s),c={};if(a)for(let f of a.pillars??[])c[f.name]=f.score;for(let f of Object.keys(Vj))f in c||(c[f]=.5);c.arbitration_quality=r6(s),c.debate_performance=n6(s),c.impact_forecasting=i6(s),c.adversarial_robustness=W4(s),c.cross_session_memory=J4(s),c.reasoning_transparency=Q4(s),c.decision_accountability=Y4(s),c.quality_certification=e6(s);let l=0;for(let[f,h]of Object.entries(Vj))l+=(c[f]??.5)*h;l=ne(l);let u=e[s],d=r[s],p=n[s];return{agentId:s,composite:l,grade:LAr(l),rank:0,rankChange:0,pillars:c,v20Highlights:{transparencyScore:u?.avgTransparency??.5,accountabilityScore:d?.accountabilityScore??.5,certificationLevel:p?.goldCount>0?"gold":p?.silverCount>0?"silver":p?.bronzeCount>0?"bronze":"uncertified",certificationRate:p?.certificationRate??0,claimAccuracy:d?.accuracyRate??0}}});return o.sort((s,a)=>a.composite-s.composite),o.forEach((s,a)=>{s.rank=a+1}),o}Gj.get("/data",t=>{let e=sSe(),r=pb(),n=X4(),i=Z4(),o=t6();return t.json({ok:!0,benchmark:"moltapp-v20",version:"20.0.0",pillars:24,leaderboard:e,weights:Vj,v20:{transparency:n,accountability:i,certification:o},health:r,generatedAt:new Date().toISOString()})});Gj.get("/stream",t=>{let e=new ReadableStream({start(r){let n=new TextEncoder;for(let o of Hj.slice(0,20))r.enqueue(n.encode(`event: ${o.type}
data: ${JSON.stringify(o.data)}

`));let i=setInterval(()=>{r.enqueue(n.encode(`: keepalive

`))},3e4);t.req.raw.signal.addEventListener("abort",()=>{clearInterval(i),r.close()})}});return new Response(e,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});Gj.get("/export",t=>{let r=sSe().map(n=>JSON.stringify(n));return new Response(r.join(`
`),{headers:{"Content-Type":"application/jsonl","Content-Disposition":"attachment; filename=benchmark-v20-scores.jsonl"}})});Gj.get("/",t=>{let e=sSe(),r=X4(),n=Z4(),i=t6(),o=e.map(a=>`
    <tr>
      <td style="font-weight:bold;color:#f5c542">#${a.rank}</td>
      <td>${a.agentId}</td>
      <td style="font-size:1.2em;font-weight:bold">${a.grade}</td>
      <td>${a.composite.toFixed(2)}</td>
      <td>${(a.pillars.reasoning_transparency??0).toFixed(2)}</td>
      <td>${(a.pillars.decision_accountability??0).toFixed(2)}</td>
      <td>${(a.pillars.quality_certification??0).toFixed(2)}</td>
      <td><span style="background:${a.v20Highlights.certificationLevel==="gold"?"#f5c542":a.v20Highlights.certificationLevel==="silver"?"#c0c0c0":a.v20Highlights.certificationLevel==="bronze"?"#cd7f32":"#555"};padding:2px 8px;border-radius:4px;font-size:0.8em">${a.v20Highlights.certificationLevel.toUpperCase()}</span></td>
      <td>${(a.v20Highlights.claimAccuracy*100).toFixed(0)}%</td>
    </tr>
  `).join(""),s=`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MoltApp Benchmark v20 \u2014 24-Pillar AI Trading Benchmark</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { background: #0a0a0f; color: #e0e0e0; font-family: 'Inter', system-ui, -apple-system, sans-serif; }
    .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
    header { text-align: center; padding: 40px 0 30px; border-bottom: 1px solid #1a1a2e; margin-bottom: 30px; }
    h1 { font-size: 2.2em; background: linear-gradient(135deg, #f5c542, #ff6b6b, #4ecdc4); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 8px; }
    .subtitle { color: #888; font-size: 1.1em; }
    .badge-row { display: flex; gap: 12px; justify-content: center; margin-top: 16px; flex-wrap: wrap; }
    .badge { padding: 4px 14px; border-radius: 20px; font-size: 0.85em; font-weight: 600; }
    .badge-pillars { background: #1a1a3e; color: #4ecdc4; border: 1px solid #4ecdc4; }
    .badge-hf { background: #1a1a3e; color: #f5c542; border: 1px solid #f5c542; }
    .badge-v20 { background: #2a1a3e; color: #ff6b6b; border: 1px solid #ff6b6b; }
    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-bottom: 30px; }
    .card { background: #12121a; border: 1px solid #1a1a2e; border-radius: 12px; padding: 20px; }
    .card h2 { font-size: 1em; color: #888; margin-bottom: 12px; text-transform: uppercase; letter-spacing: 1px; }
    .card .value { font-size: 2em; font-weight: 700; }
    .card .label { color: #666; font-size: 0.85em; margin-top: 4px; }
    table { width: 100%; border-collapse: collapse; background: #12121a; border-radius: 12px; overflow: hidden; }
    th { background: #1a1a2e; padding: 12px 16px; text-align: left; font-size: 0.85em; text-transform: uppercase; letter-spacing: 1px; color: #888; }
    td { padding: 12px 16px; border-bottom: 1px solid #1a1a2e; }
    tr:hover { background: #1a1a2e; }
    .section-title { font-size: 1.3em; margin: 30px 0 16px; color: #fff; }
    .new-badge { background: #ff6b6b; color: white; padding: 2px 8px; border-radius: 4px; font-size: 0.7em; vertical-align: middle; margin-left: 8px; }
    .pillar-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 12px; margin: 20px 0; }
    .pillar-card { background: #1a1a2e; border-radius: 8px; padding: 12px; text-align: center; }
    .pillar-card .name { font-size: 0.75em; color: #888; text-transform: uppercase; }
    .pillar-card .weight { font-size: 1.4em; font-weight: 700; color: #4ecdc4; }
    footer { text-align: center; padding: 30px 0; color: #555; border-top: 1px solid #1a1a2e; margin-top: 40px; }
    a { color: #4ecdc4; text-decoration: none; }
    a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>MoltApp: AI Trading Benchmark v20</h1>
      <div class="subtitle">Live evaluation of AI agents trading tokenized real-world stocks on Solana</div>
      <div class="badge-row">
        <span class="badge badge-pillars">24 Scoring Pillars</span>
        <span class="badge badge-hf"><a href="https://huggingface.co/datasets/patruff/molt-benchmark" style="color:inherit">HuggingFace Dataset</a></span>
        <span class="badge badge-v20">v20: Transparency + Accountability + Certification</span>
      </div>
    </header>

    <div class="grid">
      <div class="card">
        <h2>Transparency</h2>
        <div class="value" style="color:#4ecdc4">${r.avgTransparency.toFixed(2)}</div>
        <div class="label">${r.totalReports} transparency reports generated</div>
      </div>
      <div class="card">
        <h2>Accountability</h2>
        <div class="value" style="color:#f5c542">${(n.overallAccuracy*100).toFixed(0)}%</div>
        <div class="label">${n.totalClaimsTracked} claims tracked, ${n.totalResolved} resolved</div>
      </div>
      <div class="card">
        <h2>Certification</h2>
        <div class="value" style="color:#ff6b6b">${(i.overallCertRate*100).toFixed(0)}%</div>
        <div class="label">${i.totalCertificates} certificates \u2014 ${i.goldTotal} Gold, ${i.silverTotal} Silver, ${i.bronzeTotal} Bronze</div>
      </div>
    </div>

    <h2 class="section-title">24-Pillar Leaderboard<span class="new-badge">NEW v20</span></h2>
    <table>
      <thead>
        <tr>
          <th>Rank</th>
          <th>Agent</th>
          <th>Grade</th>
          <th>Composite</th>
          <th>Transparency</th>
          <th>Accountability</th>
          <th>Certification</th>
          <th>Cert Level</th>
          <th>Claim Accuracy</th>
        </tr>
      </thead>
      <tbody>${o}</tbody>
    </table>

    <h2 class="section-title">All 24 Scoring Pillars</h2>
    <div class="pillar-grid">
      ${Object.entries(Vj).map(([a,c])=>`
        <div class="pillar-card" ${["reasoning_transparency","decision_accountability","quality_certification"].includes(a)?'style="border: 1px solid #ff6b6b"':""}>
          <div class="name">${a.replace(/_/g," ")}${["reasoning_transparency","decision_accountability","quality_certification"].includes(a)?'<span class="new-badge">NEW</span>':""}</div>
          <div class="weight">${(c*100).toFixed(0)}%</div>
        </div>
      `).join("")}
    </div>

    <h2 class="section-title">v20 New Engines</h2>
    <div class="grid">
      <div class="card">
        <h2>Reasoning Transparency Engine</h2>
        <p style="color:#aaa;font-size:0.9em">Decomposes agent reasoning into verifiable components: claim extraction, evidence mapping, logic chain validation, assumption surfacing, counterfactual analysis. Every claim gets checked.</p>
      </div>
      <div class="card">
        <h2>Decision Accountability Tracker</h2>
        <p style="color:#aaa;font-size:0.9em">Registers specific verifiable claims at trade time and resolves them against outcomes. Tracks directional accuracy, price targets, overconfidence patterns, and learning velocity.</p>
      </div>
      <div class="card">
        <h2>Reasoning Quality Certifier</h2>
        <p style="color:#aaa;font-size:0.9em">Issues Gold/Silver/Bronze quality certificates based on 5 dimensions: structural completeness, data grounding, logical soundness, epistemic honesty, and actionability. SHA-256 verifiable.</p>
      </div>
    </div>

    <h2 class="section-title">API Endpoints</h2>
    <div class="card">
      <pre style="color:#4ecdc4;font-size:0.85em;line-height:1.6">
GET /benchmark-v20          \u2014 This dashboard
GET /benchmark-v20/data     \u2014 JSON data payload
GET /benchmark-v20/stream   \u2014 SSE live events
GET /benchmark-v20/export   \u2014 JSONL export

GET /api/v1/benchmark-v20/scores           \u2014 All agent scores
GET /api/v1/benchmark-v20/score/:agentId   \u2014 Single agent score
GET /api/v1/benchmark-v20/transparency     \u2014 Transparency profiles
GET /api/v1/benchmark-v20/transparency/:id \u2014 Agent transparency
GET /api/v1/benchmark-v20/accountability   \u2014 Accountability profiles
GET /api/v1/benchmark-v20/accountability/:id \u2014 Agent accountability
GET /api/v1/benchmark-v20/certification    \u2014 All certificates
GET /api/v1/benchmark-v20/certification/:id \u2014 Agent certificates
GET /api/v1/benchmark-v20/verify/:hash     \u2014 Verify certificate
GET /api/v1/benchmark-v20/health           \u2014 Benchmark health
GET /api/v1/benchmark-v20/weights          \u2014 Pillar weights
GET /api/v1/benchmark-v20/schema           \u2014 Data schema
GET /api/v1/benchmark-v20/export/jsonl     \u2014 JSONL export
GET /api/v1/benchmark-v20/export/csv       \u2014 CSV export
      </pre>
    </div>

    <footer>
      <p>MoltApp v20 \u2014 24-Pillar AI Trading Benchmark | <a href="https://www.patgpt.us">www.patgpt.us</a> | <a href="https://huggingface.co/datasets/patruff/molt-benchmark">HuggingFace</a></p>
      <p style="margin-top:8px;font-size:0.85em">Built for the Colosseum Agent Hackathon. Every trade requires reasoning. No black-box trades.</p>
    </footer>
  </div>
  <script>
    setTimeout(() => location.reload(), 45000);
  </script>
</body>
</html>`;return t.html(s)});var eP=new Map,BAr=[/\bcurrently\s+(?:at|trading|priced)/i,/\bprice\s+is\b/i,/\bvolume\s+(?:is|was|at)\b/i,/\bmarket\s+(?:is|was|shows)\b/i,/\bdata\s+(?:shows|indicates|suggests)\b/i,/\b(?:up|down)\s+[\d.]+%/i,/\$[\d,.]+/,/\bhistorically\b/i,/\baccording\s+to\b/i],$Ar=[/\banalysis\b/i,/\bcompared?\s+to\b/i,/\brelative\s+to\b/i,/\bcorrelat/i,/\btrend\b/i,/\bpattern\b/i,/\bsupport\s+(?:and|\/)\s+resistance\b/i,/\bmoving\s+average\b/i,/\brsi\b/i,/\bmacd\b/i,/\bfundamentals?\b/i],UAr=[/\btherefore\b/i,/\bthus\b/i,/\bhence\b/i,/\bthis\s+(?:means|implies|suggests|indicates)\b/i,/\bwe\s+can\s+(?:infer|conclude|deduce)\b/i,/\blikely\b/i,/\bprobably\b/i,/\bsuggests?\s+that\b/i,/\bimplies?\s+that\b/i],FAr=[/\bin\s+conclusion\b/i,/\boverall\b/i,/\btherefore,?\s+(?:I|we)\s+(?:should|will|recommend)\b/i,/\bbased\s+on\s+(?:the\s+above|this\s+analysis|these\s+factors)\b/i,/\bmy\s+(?:recommendation|decision|verdict)\b/i,/\bfinal\s+(?:assessment|verdict|decision)\b/i,/\bi\s+(?:recommend|decide|choose)\b/i],zAr=[/\bhowever\b/i,/\balthough\b/i,/\bdespite\b/i,/\brisk\b/i,/\bcaveat\b/i,/\bcaution\b/i,/\buncertain\b/i,/\bon\s+the\s+other\s+hand\b/i,/\bnevertheless\b/i,/\bbut\b/i],HAr=[/\bbuy(?:ing)?\s+because\b/i,/\bsell(?:ing)?\s+because\b/i,/\bhold(?:ing)?\s+because\b/i,/\bposition\b.*\bbecause\b/i,/\benter(?:ing)?\s+(?:a\s+)?(?:long|short)\b/i,/\btake\s+profit\b/i,/\bstop[\s-]loss\b/i,/\bexit(?:ing)?\s+(?:the\s+)?position\b/i],VAr=[{regex:/\bbecause\b/i,type:"causal",strength:.8},{regex:/\bsince\b/i,type:"causal",strength:.7},{regex:/\bdue\s+to\b/i,type:"causal",strength:.8},{regex:/\bas\s+a\s+result\b/i,type:"causal",strength:.9},{regex:/\btherefore\b/i,type:"causal",strength:.9},{regex:/\bthus\b/i,type:"causal",strength:.8},{regex:/\bhence\b/i,type:"causal",strength:.8},{regex:/\bconsequently\b/i,type:"causal",strength:.9},{regex:/\bso\b/i,type:"causal",strength:.5},{regex:/\bif\b/i,type:"conditional",strength:.7},{regex:/\bassuming\b/i,type:"conditional",strength:.6},{regex:/\bprovided\s+that\b/i,type:"conditional",strength:.7},{regex:/\bunless\b/i,type:"conditional",strength:.7},{regex:/\bcompared\s+to\b/i,type:"comparative",strength:.7},{regex:/\brelative\s+to\b/i,type:"comparative",strength:.7},{regex:/\bwhereas\b/i,type:"comparative",strength:.6},{regex:/\bmore\s+than\b/i,type:"comparative",strength:.5},{regex:/\bless\s+than\b/i,type:"comparative",strength:.5},{regex:/\bafter\b/i,type:"temporal",strength:.5},{regex:/\bbefore\b/i,type:"temporal",strength:.5},{regex:/\brecently\b/i,type:"temporal",strength:.4},{regex:/\bpreviously\b/i,type:"temporal",strength:.4},{regex:/\bnow\b/i,type:"temporal",strength:.3},{regex:/\bfurthermore\b/i,type:"additive",strength:.5},{regex:/\bmoreover\b/i,type:"additive",strength:.5},{regex:/\badditionally\b/i,type:"additive",strength:.5},{regex:/\balso\b/i,type:"additive",strength:.3},{regex:/\band\b/i,type:"additive",strength:.2},{regex:/\bhowever\b/i,type:"contrastive",strength:.7},{regex:/\bbut\b/i,type:"contrastive",strength:.6},{regex:/\balthough\b/i,type:"contrastive",strength:.6},{regex:/\bdespite\b/i,type:"contrastive",strength:.7},{regex:/\bnevertheless\b/i,type:"contrastive",strength:.7},{regex:/\bon\s+the\s+other\s+hand\b/i,type:"contrastive",strength:.7}],GAr=[/\$[\d,.]+/,/[\d.]+%/,/\bprice\s+(?:of|at|is)\b/i,/\bvolume\b/i,/\bmarket\s+cap\b/i,/\bp\/e\b/i,/\bearnings\b/i,/\brevenue\b/i],jAr=[/\bgenerally\b/i,/\btypically\b/i,/\bhistorically\b/i,/\bin\s+(?:the\s+)?past\b/i,/\busually\b/i,/\bcommonly\b/i,/\bwell[\s-]known\b/i],qAr=[/\bassum/i,/\bexpect/i,/\bbelieve\b/i,/\bthink\b/i,/\bfeel\b/i,/\bguess\b/i,/\bspeculat/i,/\bhope\b/i];function WAr(t){let e=t.split(/(?<=[.!?;])\s+|\n+/).map(n=>n.trim()).filter(n=>n.length>5),r=[];for(let n=0;n<e.length;n++){let i=e[n],o=JAr(i,n,e.length),s=KAr(i),a=QAr(i,n,e);r.push({index:n,text:i,type:o,dependsOn:a,hasEvidence:s.hasEvidence,evidenceType:s.evidenceType})}return r}function JAr(t,e,r){let n={observation:0,analysis:0,inference:0,conclusion:0,hedge:0,action_rationale:0};for(let a of BAr)a.test(t)&&(n.observation+=1);for(let a of $Ar)a.test(t)&&(n.analysis+=1);for(let a of UAr)a.test(t)&&(n.inference+=1);for(let a of FAr)a.test(t)&&(n.conclusion+=1);for(let a of zAr)a.test(t)&&(n.hedge+=1);for(let a of HAr)a.test(t)&&(n.action_rationale+=1);let i=r>1?e/(r-1):.5;i<.3&&(n.observation+=.5),i>.7&&(n.conclusion+=.5),i>.8&&(n.action_rationale+=.3);let o="observation",s=-1;for(let[a,c]of Object.entries(n))c>s&&(s=c,o=a);return s>0?o:"observation"}function KAr(t){for(let e of GAr)if(e.test(t))return{hasEvidence:!0,evidenceType:"data_cited"};for(let e of jAr)if(e.test(t))return{hasEvidence:!0,evidenceType:"general_knowledge"};for(let e of qAr)if(e.test(t))return{hasEvidence:!1,evidenceType:"assumption"};return{hasEvidence:!1,evidenceType:"none"}}function QAr(t,e,r){let n=[];if(e===0)return n;let i=t.toLowerCase();/\bthis\s+(?:means|implies|suggests|shows|indicates)\b/i.test(i)&&n.push(e-1),/\btherefore\b|\bthus\b|\bhence\b|\bconsequently\b|\bas\s+a\s+result\b/i.test(i)&&(n.push(e-1),e>=2&&n.push(e-2)),/\bhowever\b|\bbut\b|\balthough\b|\bdespite\b|\bnevertheless\b/i.test(i)&&n.push(e-1),/\bfurthermore\b|\bmoreover\b|\badditionally\b/i.test(i)&&n.push(e-1);let o=hvt(t);for(let s=0;s<e;s++){let a=hvt(r[s]);o.filter(l=>a.includes(l)).length>=2&&!n.includes(s)&&n.push(s)}return n.length===0&&e>0&&n.push(e-1),[...new Set(n)].sort((s,a)=>s-a)}function hvt(t){let e=new Set(["the","a","an","is","are","was","were","be","been","being","have","has","had","do","does","did","will","would","could","should","may","might","can","shall","to","of","in","for","on","with","at","by","from","as","into","through","during","and","or","but","not","no","so","if","then","than","that","this","these","those","it","its","i","we","my","our"]);return t.toLowerCase().replace(/[^a-z0-9\s]/g,"").split(/\s+/).filter(r=>r.length>2&&!e.has(r))}function XAr(t){let e=[];for(let r=1;r<t.length;r++){let n=t[r];for(let i of VAr)if(i.regex.test(n.text)){let o=n.dependsOn.length>0?n.dependsOn[0]:r-1,s=n.text.match(i.regex);e.push({fromStep:o,toStep:r,type:i.type,strength:i.strength,text:s?s[0]:""});break}}return e}function YAr(t){let e=[],r=new Set;for(let n of t)for(let i of n.dependsOn)if(i>=0&&i<t.length&&t[i].dependsOn.includes(n.index)){let s=`${Math.min(n.index,i)},${Math.max(n.index,i)}`;r.has(s)||(r.add(s),e.push({type:"circular_reasoning",severity:.8,description:`Steps ${Math.min(n.index,i)} and ${Math.max(n.index,i)} reference each other circularly`,stepIndices:[Math.min(n.index,i),Math.max(n.index,i)]}))}return e}function ZAr(t){let e=[];for(let r of t){if(r.type!=="conclusion"&&r.type!=="action_rationale")continue;!r.dependsOn.some(i=>{if(i>=0&&i<t.length){let o=t[i].type;return o==="analysis"||o==="inference"||o==="observation"}return!1})&&r.dependsOn.length>0&&e.push({type:"non_sequitur",severity:.6,description:`Conclusion at step ${r.index} lacks supporting analysis or inference`,stepIndices:[r.index]})}return e}function eEr(t){let e=[],r=[];for(let n of t)n.hasEvidence?(r.length>=3&&e.push({type:"evidence_gap",severity:Math.min(1,.3+r.length*.1),description:`Steps ${r[0]}-${r[r.length-1]} (${r.length} steps) lack evidential support`,stepIndices:[...r]}),r=[]):r.push(n.index);return r.length>=3&&e.push({type:"evidence_gap",severity:Math.min(1,.3+r.length*.1),description:`Steps ${r[0]}-${r[r.length-1]} (${r.length} steps) lack evidential support`,stepIndices:[...r]}),e}function tEr(t){let e=[],r=[],n=[];for(let i of t){let o=i.text.toLowerCase();/\bbullish\b|\bupside\b|\bundervalued\b|\bgrowth\b|\bbuy\b/.test(o)&&r.push(i.index),/\bbearish\b|\bdownside\b|\bovervalued\b|\bdecline\b|\bsell\b/.test(o)&&n.push(i.index)}return r.length>0&&n.length>0&&(t.some(o=>o.type==="hedge")||e.push({type:"contradiction",severity:.7,description:`Contradictory signals: bullish at steps [${r.join(",")}] vs bearish at [${n.join(",")}] without hedging`,stepIndices:[...r,...n]})),e}function rEr(t){let e=[];for(let r of t)if(!(r.type!=="inference"&&r.type!=="conclusion")){for(let n of r.dependsOn)if(n>=0&&n<t.length){let i=r.index-n,o=t[n];i>=4&&o.type==="observation"&&r.dependsOn.length===1&&e.push({type:"unsupported_leap",severity:.5,description:`Step ${r.index} leaps ${i} steps back to observation at step ${n} without intermediate analysis`,stepIndices:[n,r.index]})}}return e}function nEr(t){let e=new Map;function r(i,o){if(e.has(i))return e.get(i);if(o.has(i))return 0;o.add(i);let s=t[i];if(!s||s.dependsOn.length===0)return e.set(i,1),1;let a=0;for(let l of s.dependsOn)if(l>=0&&l<t.length){let u=r(l,o);u>a&&(a=u)}let c=a+1;return e.set(i,c),c}let n=0;for(let i=0;i<t.length;i++){let o=r(i,new Set);o>n&&(n=o)}return n}function iEr(t,e,r,n){if(t.length===0)return 0;let i=t.length,o=t.filter(c=>c.hasEvidence).length,s=e.filter(c=>c.strength>=.5).length,a=.6;a+=.2*(o/i),a+=.1*(s/i),a+=.1*Math.min(1,n/4);for(let c of r)a-=c.severity>.5?.15:.05;return Math.round(Hr(a)*100)/100}function gvt(t,e,r){let n=WAr(t),i=XAr(n),o=[...YAr(n),...ZAr(n),...eEr(n),...tEr(n),...rEr(n)],s=nEr(n),a=n.filter(u=>u.hasEvidence).length,c=n.length>0?a/n.length:0,l=iEr(n,i,o,s);return{steps:n,connectors:i,defects:o,chainQualityScore:l,stepCount:n.length,avgStepEvidence:ne(c),longestLogicalChain:s,hasCircularReasoning:o.some(u=>u.type==="circular_reasoning"),hasMajorGaps:o.some(u=>u.type==="evidence_gap"&&u.severity>.5)}}function yvt(t,e){let r=eP.get(t)??[];r.push(e),eP.set(t,r)}function jj(t){let e=eP.get(t);if(!e||e.length===0)return .5;let r=Mw(e,"chainQualityScore"),n=Mw(e,"avgStepEvidence"),i=e.reduce((c,l)=>c+l.defects.length,0),o=e.reduce((c,l)=>c+l.stepCount,0),s=o>0?Math.min(1,i/o):0,a=r*.4+n*.3+(1-s)*.3;return Math.round(Hr(a)*100)/100}function bvt(){let t={};for(let[e,r]of eP.entries()){if(r.length===0)continue;let n=Mw(r,"chainQualityScore"),i=Mw(r,"avgStepEvidence"),o=r.reduce((c,l)=>c+l.defects.length,0),s=r.reduce((c,l)=>c+l.stepCount,0),a=s>0?o/s:0;t[e]={avgQuality:ne(n),avgEvidence:ne(i),defectRate:ne(a),totalChains:r.length}}return t}function aSe(){let t=0,e=0,r=0,n={};for(let i of eP.values())for(let o of i){t++,e+=o.chainQualityScore,r+=o.defects.length;for(let s of o.defects)n[s.type]=(n[s.type]??0)+1}return{totalValidations:t,avgQuality:t>0?Math.round(e/t*100)/100:0,avgDefectsPerChain:t>0?Math.round(r/t*100)/100:0,defectDistribution:n}}var vvt=200,cSe=["price","volume","news","sentiment","technical","fundamental","macro","social","analyst","earnings"],lSe=["hedge","downside","stop-loss","stop loss","risk","caution","volatility","drawdown","exposure","protect","diversif","worst-case","worst case","tail risk","black swan","liquidat","margin"],oEr=["price","volume","moving average","rsi","macd","support","resistance","breakout","gap","spread","bid","ask","open interest","market cap","p/e","eps","yield","dividend","52-week","52 week","all-time","intraday","close","high","low"],_vt={conviction_consistency:.25,risk_awareness:.2,market_sensitivity:.2,strategic_adaptability:.2,information_utilization:.15},uSe=new Map,tP=new Map;function Svt(t,e){let r=t.toLowerCase(),n=0,i=0;for(let o of e){let s=new RegExp(o,"gi"),a=r.match(s);a&&a.length>0&&(n+=a.length,i++)}return{totalHits:n,uniqueHits:i}}function rP(t){if(t.length<4)return"stable";let e=Math.floor(t.length/2),r=t.slice(0,e),n=t.slice(e),i=r.reduce((a,c)=>a+c,0)/r.length,s=n.reduce((a,c)=>a+c,0)/n.length-i;return s>.05?"improving":s<-.05?"declining":"stable"}function qj(t){let e=(t||"unknown").toLowerCase().trim();return e.includes("momentum")?"momentum":e.includes("value")?"value":e.includes("hedge")?"hedge":e.includes("contrarian")?"contrarian":e.includes("swing")?"swing":e.includes("scalp")?"scalp":e.includes("growth")?"growth":e.includes("income")||e.includes("dividend")?"income":e.includes("specul")?"speculative":e}function sEr(t){if(t.length<3)return{name:"conviction_consistency",score:.5,evidence:"Insufficient data (fewer than 3 trades)",trendDirection:"stable"};let e=[];for(let s of t){let a=s.action==="buy"||s.action==="sell",c=s.action==="hold";s.confidence>=.7&&a?e.push(1):s.confidence>=.7&&c?e.push(.2):s.confidence<=.3&&c?e.push(1):s.confidence<=.3&&a?e.push(.3):e.push(.7)}let r=e.reduce((s,a)=>s+a,0)/e.length,n=rP(e),i=t.filter(s=>s.confidence>=.7&&(s.action==="buy"||s.action==="sell")).length,o=t.filter(s=>s.confidence<=.3&&s.action==="hold").length;return{name:"conviction_consistency",score:Hi(r,0,1),evidence:`${i} high-confidence active trades, ${o} prudent low-confidence holds out of ${t.length} total. Alignment score: ${(r*100).toFixed(1)}%`,trendDirection:n}}function aEr(t){if(t.length===0)return{name:"risk_awareness",score:0,evidence:"No trades to analyze",trendDirection:"stable"};let e=[],r=new Set;for(let s of t){let{totalHits:a,uniqueHits:c}=Svt(s.reasoning,lSe),l=Math.min(1,a/4),u=Math.min(1,c/5),d=l*.4+u*.6;e.push(d);for(let p of lSe)s.reasoning.toLowerCase().includes(p)&&r.add(p)}let n=e.reduce((s,a)=>s+a,0)/e.length,i=rP(e),o=e.filter(s=>s>.1).length;return{name:"risk_awareness",score:Hi(n,0,1),evidence:`${o}/${t.length} trades mention risk concepts. ${r.size}/${lSe.length} unique risk keywords detected. Depth score: ${(n*100).toFixed(1)}%`,trendDirection:i}}function cEr(t){if(t.length===0)return{name:"market_sensitivity",score:0,evidence:"No trades to analyze",trendDirection:"stable"};let e=[];for(let o of t){let{uniqueHits:s}=Svt(o.reasoning,oEr),a=(o.reasoning.match(/\$\d+[\d,.]*|\d+\.?\d*%/g)||[]).length,c=o.reasoning.toLowerCase().includes(o.symbol.toLowerCase())?1:0,l=Math.min(1,s/6),u=Math.min(1,a/3),d=l*.4+u*.35+c*.25;e.push(d)}let r=e.reduce((o,s)=>o+s,0)/e.length,n=rP(e),i=e.filter(o=>o>.5).length;return{name:"market_sensitivity",score:Hi(r,0,1),evidence:`${i}/${t.length} trades show strong market data engagement. Average sensitivity: ${(r*100).toFixed(1)}%`,trendDirection:n}}function lEr(t){if(t.length<6)return{name:"strategic_adaptability",score:.5,evidence:"Insufficient data (fewer than 6 trades) to measure adaptability",trendDirection:"stable"};let e=Math.floor(t.length/2),r=t.slice(0,e),n=t.slice(e),i=y=>{let v=new Map;for(let S of y){let w=qj(S.intent);v.set(w,(v.get(w)??0)+1)}for(let[S,w]of v)v.set(S,w/y.length);return v},o=i(r),s=i(n),a=new Set([...o.keys(),...s.keys()]),c=0;for(let y of a){let v=o.get(y)??0,S=s.get(y)??0;c+=Math.abs(v-S)}let l=Math.min(1,c/1.5),u=r.map(y=>y.confidence),d=n.map(y=>y.confidence),p=Math.abs(u.reduce((y,v)=>y+v,0)/u.length-d.reduce((y,v)=>y+v,0)/d.length),f=l*.7+Math.min(1,p*3)*.3,h=Math.max(3,Math.floor(t.length/4)),m=[];for(let y=0;y+h<=t.length;y+=h){let v=t.slice(y,y+h),S=new Set(v.map(w=>qj(w.intent)));m.push(Math.min(1,S.size/3))}let g=rP(m);return{name:"strategic_adaptability",score:Hi(f,0,1),evidence:`Intent distribution shift: ${(c*100).toFixed(1)}% divergence between halves. Confidence shift: ${(p*100).toFixed(1)}%. Unique intents: first half ${o.size}, second half ${s.size}`,trendDirection:g}}function uEr(t){if(t.length===0)return{name:"information_utilization",score:0,evidence:"No trades to analyze",trendDirection:"stable"};let e=[],r=new Set;for(let o of t){let s=new Set;for(let c of o.sources){let l=c.toLowerCase();for(let u of cSe)l.includes(u)&&(s.add(u),r.add(u));s.size===0&&c.trim().length>0&&(s.add("other"),r.add("other"))}for(let c of cSe)o.reasoning.toLowerCase().includes(c)&&(s.add(c),r.add(c));let a=Math.min(1,s.size/4);e.push(a)}let n=e.reduce((o,s)=>o+s,0)/e.length,i=rP(e);return{name:"information_utilization",score:Hi(n,0,1),evidence:`${r.size}/${cSe.length} source types used across all trades. Per-trade average: ${(n*100).toFixed(1)}% utilization. Types seen: ${[...r].sort().join(", ")||"none"}`,trendDirection:i}}function dEr(t){if(t.length===0)return .5;let e=0;for(let r of t){let n=qj(r.intent),i=r.reasoning.toLowerCase(),o=!1;switch(n){case"momentum":o=r.action==="buy"&&/up|bull|gain|rise|rally|breakout|higher/i.test(i)||r.action==="sell"&&/down|bear|drop|fall|decline|lower/i.test(i)||r.action==="hold";break;case"value":o=r.action==="buy"&&/undervalue|cheap|discount|below.*value|bargain/i.test(i)||r.action==="sell"&&/overvalue|expensive|premium|above.*value/i.test(i)||r.action==="hold";break;case"hedge":o=r.action==="sell"||r.action==="hold";break;case"contrarian":o=!0;break;default:o=r.coherenceScore>=.5;break}o&&e++}return e/t.length}function xvt(t,e){let r=uSe.get(t)??[];r.push(e),r.length>vvt&&r.splice(0,r.length-vvt),uSe.set(t,r);let n=pEr(t);tP.set(t,n)}function pEr(t){let e=uSe.get(t)??[],r=[sEr(e),aEr(e),cEr(e),lEr(e),uEr(e)],n=r.reduce((u,d)=>{let p=_vt[d.name]??.2;return u+d.score*p},0),i=new Map;for(let u of e){let d=qj(u.intent);i.set(d,(i.get(d)??0)+1)}let o="unknown",s=0;for(let[u,d]of i)d>s&&(s=d,o=u);let a=0;if(e.length>0&&i.size>1){let u=0;for(let p of i.values()){let f=p/e.length;f>0&&(u-=f*Math.log2(f))}let d=Math.log2(i.size);a=d>0?u/d:0}let c=dEr(e),l={agentId:t,dimensions:r,overallScore:Hi(n,0,1),dominantStrategy:o,strategicFlexibility:Hi(a,0,1),consistencyWithStatedIntent:Hi(c,0,1),tradeCount:e.length,lastUpdated:new Date().toISOString()};return tP.set(t,l),l}function Wj(t){let e=tP.get(t);return e?e.dimensions.reduce((r,n)=>{let i=_vt[n.name]??.2;return r+n.score*i},0):.5}function wvt(){let t={};for(let[e,r]of tP)t[e]=r;return t}function dSe(){let t=[...tP.values()];if(t.length===0)return{totalAgents:0,avgOverallScore:0,dominantStrategies:{},dimensionAverages:{}};let e=t.reduce((s,a)=>s+a.overallScore,0)/t.length,r={};for(let s of t)r[s.dominantStrategy]=(r[s.dominantStrategy]??0)+1;let n={},i={};for(let s of t)for(let a of s.dimensions)n[a.name]=(n[a.name]??0)+a.score,i[a.name]=(i[a.name]??0)+1;let o={};for(let s of Object.keys(n))o[s]=n[s]/i[s];return{totalAgents:t.length,avgOverallScore:e,dominantStrategies:r,dimensionAverages:o}}var Qj=new un,Jj=[],Avt=200;function Evt(t,e){Jj.unshift({type:t,data:e,timestamp:new Date().toISOString()}),Jj.length>Avt&&(Jj.length=Avt)}var Kj={financial:.07,reasoning:.06,safety:.05,calibration:.05,patterns:.03,adaptability:.03,forensic_quality:.04,validation_quality:.04,prediction_accuracy:.04,reasoning_stability:.03,provenance_integrity:.04,model_comparison:.03,metacognition:.04,reasoning_efficiency:.03,forensic_ledger:.03,strategy_genome:.03,adversarial_robustness:.04,cross_session_memory:.03,arbitration_quality:.04,debate_performance:.04,impact_forecasting:.03,reasoning_transparency:.04,decision_accountability:.04,quality_certification:.04,reasoning_chain_integrity:.05,strategy_profiling:.05};function fEr(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}function pSe(){let t=Cd(),e=Uj(),r=Fj(),n=zj(),i=bvt(),o=wvt(),s=[...new Set([...t.map(c=>c.agentId),...Object.keys(e),...Object.keys(r),...Object.keys(n),...Object.keys(i),...Object.keys(o)])];s.length===0&&s.push("claude-value-investor","gpt-momentum-trader","grok-contrarian");let a=s.map(c=>{let l=t.find(m=>m.agentId===c),u={};if(l)for(let m of l.pillars??[])u[m.name]=m.score;for(let m of Object.keys(Kj))m in u||(u[m]=.5);u.arbitration_quality=r6(c),u.debate_performance=n6(c),u.impact_forecasting=i6(c),u.adversarial_robustness=W4(c),u.cross_session_memory=J4(c),u.reasoning_transparency=Q4(c),u.decision_accountability=Y4(c),u.quality_certification=e6(c),u.reasoning_chain_integrity=jj(c),u.strategy_profiling=Wj(c);let d=0;for(let[m,g]of Object.entries(Kj))d+=(u[m]??.5)*g;d=ne(d);let p=e[c],f=r[c],h=n[c];return{agentId:c,name:c,provider:l?.provider??"unknown",composite:d,grade:fEr(d),rank:0,rankChange:0,pillars:u,v21Highlights:{chainIntegrity:u.reasoning_chain_integrity,strategyScore:u.strategy_profiling,transparencyScore:p?.avgTransparency??.5,accountabilityScore:f?.accountabilityScore??.5,certificationLevel:h?.goldCount>0?"gold":h?.silverCount>0?"silver":h?.bronzeCount>0?"bronze":"uncertified"}}});return a.sort((c,l)=>l.composite-c.composite),a.forEach((c,l)=>{c.rank=l+1}),a}Qj.get("/stream",t=>{let e=new ReadableStream({start(r){let n=new TextEncoder;for(let o of Jj.slice(0,20))r.enqueue(n.encode(`event: ${o.type}
data: ${JSON.stringify(o.data)}

`));let i=setInterval(()=>{r.enqueue(n.encode(`: keepalive

`))},3e4);t.req.raw.signal.addEventListener("abort",()=>{clearInterval(i),r.close()})}});return new Response(e,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});Qj.get("/data",t=>{let e=pSe(),r=pb(),n=aSe(),i=dSe(),o=X4(),s=Z4(),a=t6();return t.json({ok:!0,benchmark:"moltapp-v21",version:"21.0.0",pillars:26,agents:e.map(c=>({agentId:c.agentId,name:c.name,provider:c.provider,v21Score:c.composite,rank:c.rank,pillars:c.pillars})),weights:Kj,health:r,chainStats:n,strategyStats:i,transparencyStats:o,accountabilityStats:s,certificationStats:a,generatedAt:new Date().toISOString()})});Qj.get("/export",t=>{let r=pSe().map(n=>JSON.stringify({agentId:n.agentId,name:n.name,provider:n.provider,v21Score:n.composite,grade:n.grade,rank:n.rank,pillars:n.pillars,highlights:n.v21Highlights}));return new Response(r.join(`
`),{headers:{"Content-Type":"application/jsonl","Content-Disposition":"attachment; filename=benchmark-v21-scores.jsonl"}})});Qj.get("/",t=>{let e=pSe(),r=aSe(),n=dSe(),i=X4(),o=Z4(),s=t6(),a=e.map(u=>`
    <tr>
      <td style="font-weight:bold;color:#f5c542">#${u.rank}</td>
      <td>${u.agentId}</td>
      <td>${u.provider}</td>
      <td style="font-size:1.2em;font-weight:bold">${u.grade}</td>
      <td>${u.composite.toFixed(2)}</td>
      <td style="color:#00ff88">${(u.pillars.reasoning_chain_integrity??0).toFixed(2)}</td>
      <td style="color:#00ff88">${(u.pillars.strategy_profiling??0).toFixed(2)}</td>
      <td>${(u.pillars.reasoning_transparency??0).toFixed(2)}</td>
      <td>${(u.pillars.decision_accountability??0).toFixed(2)}</td>
      <td><span style="background:${u.v21Highlights.certificationLevel==="gold"?"#f5c542":u.v21Highlights.certificationLevel==="silver"?"#c0c0c0":u.v21Highlights.certificationLevel==="bronze"?"#cd7f32":"#555"};padding:2px 8px;border-radius:4px;font-size:0.8em;color:#000">${u.v21Highlights.certificationLevel.toUpperCase()}</span></td>
    </tr>
  `).join(""),c=Object.entries(Kj).map(([u,d])=>{let p=["reasoning_chain_integrity","strategy_profiling"].includes(u);return`
      <div class="pillar-card" ${p?'style="border: 1px solid #00ff88"':""}>
        <div class="name">${u.replace(/_/g," ")}${p?'<span class="new-badge">NEW</span>':""}</div>
        <div class="weight">${(d*100).toFixed(0)}%</div>
      </div>
    `}).join(""),l=Zr`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="refresh" content="60">
  <title>MoltApp Benchmark v21 -- 26-Pillar AI Trading Intelligence</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { background: #0a0a0f; color: #e0e0e0; font-family: 'SF Mono', 'Fira Code', 'Cascadia Code', monospace; }
    .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
    header { text-align: center; padding: 40px 0 30px; border-bottom: 1px solid #1a1a2e; margin-bottom: 30px; }
    h1 { font-size: 2.2em; background: linear-gradient(135deg, #00ff88, #4ecdc4, #f5c542); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 8px; }
    .subtitle { color: #888; font-size: 1.0em; max-width: 700px; margin: 0 auto; }
    .badge-row { display: flex; gap: 12px; justify-content: center; margin-top: 16px; flex-wrap: wrap; }
    .badge { padding: 4px 14px; border-radius: 20px; font-size: 0.85em; font-weight: 600; }
    .badge-pillars { background: #1a1a3e; color: #4ecdc4; border: 1px solid #4ecdc4; }
    .badge-hf { background: #1a1a3e; color: #f5c542; border: 1px solid #f5c542; }
    .badge-v21 { background: #0a2a1a; color: #00ff88; border: 1px solid #00ff88; }
    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-bottom: 30px; }
    .card { background: #12121a; border: 1px solid #1a1a2e; border-radius: 12px; padding: 20px; }
    .card h2 { font-size: 0.85em; color: #888; margin-bottom: 12px; text-transform: uppercase; letter-spacing: 1px; }
    .card .value { font-size: 2em; font-weight: 700; }
    .card .label { color: #666; font-size: 0.85em; margin-top: 4px; }
    table { width: 100%; border-collapse: collapse; background: #12121a; border-radius: 12px; overflow: hidden; }
    th { background: #1a1a2e; padding: 12px 16px; text-align: left; font-size: 0.75em; text-transform: uppercase; letter-spacing: 1px; color: #888; }
    td { padding: 12px 16px; border-bottom: 1px solid #1a1a2e; font-size: 0.9em; }
    tr:hover { background: #1a1a2e; }
    .section-title { font-size: 1.3em; margin: 30px 0 16px; color: #fff; }
    .new-badge { background: #00ff88; color: #000; padding: 2px 8px; border-radius: 4px; font-size: 0.7em; vertical-align: middle; margin-left: 8px; font-weight: 700; }
    .pillar-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 12px; margin: 20px 0; }
    .pillar-card { background: #1a1a2e; border-radius: 8px; padding: 12px; text-align: center; }
    .pillar-card .name { font-size: 0.7em; color: #888; text-transform: uppercase; }
    .pillar-card .weight { font-size: 1.4em; font-weight: 700; color: #4ecdc4; }
    footer { text-align: center; padding: 30px 0; color: #555; border-top: 1px solid #1a1a2e; margin-top: 40px; font-size: 0.85em; }
    a { color: #00ff88; text-decoration: none; }
    a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>MoltApp Benchmark v21</h1>
      <div class="subtitle">26-Pillar AI Trading Intelligence -- now with Reasoning Chain Validation and Agent Strategy Profiling</div>
      <div class="badge-row">
        <span class="badge badge-pillars">26 Scoring Pillars</span>
        <span class="badge badge-hf"><a href="https://huggingface.co/datasets/patruff/molt-benchmark" style="color:inherit">HuggingFace Dataset</a></span>
        <span class="badge badge-v21">v21: Chain Integrity + Strategy Profiling</span>
      </div>
    </header>

    <div class="grid">
      <div class="card">
        <h2>Chain Integrity</h2>
        <div class="value" style="color:#00ff88">${r.avgQuality.toFixed(2)}</div>
        <div class="label">${r.totalValidations} chain validations -- ${r.avgDefectsPerChain.toFixed(1)} avg defects/chain</div>
      </div>
      <div class="card">
        <h2>Strategy Profiling</h2>
        <div class="value" style="color:#00ff88">${n.avgOverallScore.toFixed(2)}</div>
        <div class="label">${n.totalAgents} agents profiled across 5 dimensions</div>
      </div>
      <div class="card">
        <h2>Transparency</h2>
        <div class="value" style="color:#4ecdc4">${i.avgTransparency.toFixed(2)}</div>
        <div class="label">${i.totalReports} transparency reports</div>
      </div>
      <div class="card">
        <h2>Accountability</h2>
        <div class="value" style="color:#f5c542">${(o.overallAccuracy*100).toFixed(0)}%</div>
        <div class="label">${o.totalClaimsTracked} claims tracked</div>
      </div>
      <div class="card">
        <h2>Certification</h2>
        <div class="value" style="color:#ff6b6b">${(s.overallCertRate*100).toFixed(0)}%</div>
        <div class="label">${s.totalCertificates} certificates issued</div>
      </div>
    </div>

    <h2 class="section-title">26-Pillar Leaderboard<span class="new-badge">v21</span></h2>
    <div style="overflow-x:auto">
    <table>
      <thead>
        <tr>
          <th>Rank</th>
          <th>Agent</th>
          <th>Provider</th>
          <th>Grade</th>
          <th>v21 Score</th>
          <th>Chain Integrity</th>
          <th>Strategy Profile</th>
          <th>Transparency</th>
          <th>Accountability</th>
          <th>Certification</th>
        </tr>
      </thead>
      <tbody>${a}</tbody>
    </table>
    </div>

    <h2 class="section-title">New in v21<span class="new-badge">NEW</span></h2>
    <div class="grid">
      <div class="card" style="border-left: 3px solid #00ff88">
        <h2>Reasoning Chain Validator</h2>
        <p style="color:#aaa;font-size:0.85em;line-height:1.5">Validates the structural integrity of agent reasoning chains. Decomposes arguments into atomic steps, analyzes logical connectors between them, detects circular reasoning and non-sequiturs, and maps evidence gaps where reasoning jumps over missing support.</p>
        <p style="color:#666;font-size:0.75em;margin-top:8px">Components: Step Decomposition, Connector Quality, Circularity-Free, Sequitur Score, Evidence Coverage</p>
      </div>
      <div class="card" style="border-left: 3px solid #00ff88">
        <h2>Agent Strategy Profiler</h2>
        <p style="color:#aaa;font-size:0.85em;line-height:1.5">Profiles how effectively each agent executes its trading strategy across multiple rounds. Measures conviction consistency (follow-through), risk awareness depth, market sensitivity, strategic adaptability, and information utilization.</p>
        <p style="color:#666;font-size:0.75em;margin-top:8px">Components: Conviction Consistency, Risk Awareness, Market Sensitivity, Strategic Adaptability, Information Utilization</p>
      </div>
    </div>

    <h2 class="section-title">All 26 Scoring Pillars</h2>
    <div class="pillar-grid">
      ${c}
    </div>

    <footer>
      <p>MoltApp v21 -- 26-Pillar AI Trading Benchmark | <a href="https://www.patgpt.us">www.patgpt.us</a> | <a href="https://huggingface.co/datasets/patruff/molt-benchmark">HuggingFace</a></p>
      <p style="margin-top:8px">Built for the Colosseum Agent Hackathon. Every trade requires reasoning. No black-box trades.</p>
    </footer>
  </div>
</body>
</html>`;return t.html(l)});import{createHash as nP}from"crypto";var Yj=new Map,iP=new Map,Rvt=new Map,Xj=[],Tvt=100;function mEr(t){let e=JSON.stringify({action:t.action,agentId:t.agentId,confidence:t.confidence,intent:t.intent,predictedOutcome:t.predictedOutcome??null,quantity:t.quantity,reasoning:t.reasoning,roundId:t.roundId,sources:[...t.sources].sort(),symbol:t.symbol,tradeId:t.tradeId}),n={hash:nP("sha256").update(e).digest("hex"),fields:["action","agentId","confidence","intent","predictedOutcome","quantity","reasoning","roundId","sources","symbol","tradeId"],createdAt:new Date().toISOString(),agentId:t.agentId,roundId:t.roundId};return Yj.set(t.tradeId,n),Rvt.set(t.tradeId,e),n}function Ivt(t,e){if(e.length===0){let s=nP("sha256").update("empty_round").digest("hex"),a={root:s,leafCount:0,nodes:[{hash:s}],roundId:t,builtAt:new Date().toISOString()};return iP.set(t,a),a}let r=e.map(s=>({hash:Yj.get(s)?.hash??nP("sha256").update(s).digest("hex"),tradeId:s}));for(;r.length>1&&(r.length&r.length-1)!==0;){let s=r[r.length-1].hash;r.push({hash:s})}let n=[...r],i=r;for(;i.length>1;){let s=[];for(let a=0;a<i.length;a+=2){let c=i[a],l=i[a+1]??c,d={hash:nP("sha256").update(c.hash+l.hash).digest("hex"),left:c.hash,right:l.hash};s.push(d),n.push(d)}i=s}let o={root:i[0].hash,leafCount:e.length,nodes:n,roundId:t,builtAt:new Date().toISOString()};return iP.set(t,o),o}function fSe(){let t=[],e=0;for(let[i,o]of Rvt.entries()){e++;let s=Yj.get(i);if(!s){t.push({tradeId:i,agentId:"unknown",field:"fingerprint",originalHash:"missing",currentHash:"n/a",severity:"critical",description:"Fingerprint record deleted \u2014 potential data purge"});continue}let a=nP("sha256").update(o).digest("hex");a!==s.hash&&t.push({tradeId:i,agentId:s.agentId,field:"canonical_data",originalHash:s.hash,currentHash:a,severity:"critical",description:"Canonical data hash mismatch \u2014 trade data was modified after fingerprinting"})}for(let[i,o]of iP.entries()){let s=o.nodes.filter(a=>a.tradeId).map(a=>a.tradeId);if(s.length>0){let a=Ivt(`verify_${i}`,s);iP.delete(`verify_${i}`),a.root!==o.root&&t.push({tradeId:`round_${i}`,agentId:"system",field:"merkle_root",originalHash:o.root,currentHash:a.root,severity:"critical",description:`Merkle root mismatch for round ${i} \u2014 round integrity compromised`})}}let r=e>0?Math.max(0,1-t.filter(i=>i.severity==="critical").length/e):1,n={tampered:t.length>0,recordsChecked:e,events:t,integrityScore:he(r),checkedAt:new Date().toISOString()};return Xj.unshift(n),Xj.length>Tvt&&(Xj.length=Tvt),n}function Zj(){let t=Xj[0]??null;return{totalFingerprints:Yj.size,totalMerkleTrees:iP.size,lastCheck:t,overallIntegrity:t?.integrityScore??1}}function Cvt(t){return mEr(t)}function Nvt(t,e){return Ivt(t,e)}var oP=[],Ovt=500,mSe=new Map;function hEr(t){let e=[],r=new Set,n=[/(\w+x?)\s+(?:is\s+)?(?:at|priced?\s+at|trading\s+at|currently\s+at|around)\s+\$?([\d,]+\.?\d*)/gi,/\$?([\d,]+\.?\d*)\s+(?:per\s+share|price)\s+(?:for|of)\s+(\w+x?)/gi,/(\w+x?)\s+price\s+(?:is\s+|of\s+)?\$?([\d,]+\.?\d*)/gi];for(let u of n){let d;for(;(d=u.exec(t))!==null;){let p=`price_${d.index}`;if(!r.has(p)){r.add(p);let f=u===n[1];e.push({text:d[0],type:"price",symbol:f?d[2]:d[1],value:parseFloat((f?d[1]:d[2]).replace(/,/g,"")),position:d.index})}}}let i=[/(\w+x?)\s+(?:is\s+)?(?:up|down|changed?|moved?)\s+(?:by\s+)?([+-]?\d+\.?\d*)%/gi,/([+-]?\d+\.?\d*)\s*%\s+(?:change|gain|loss|increase|decrease|move)\s+(?:for|in|on)\s+(\w+x?)/gi,/(\w+x?)\s+(?:24h|daily)\s+(?:change|return)\s+(?:of\s+|is\s+)?([+-]?\d+\.?\d*)%/gi];for(let u of i){let d;for(;(d=u.exec(t))!==null;){let p=`pct_${d.index}`;if(!r.has(p)){r.add(p);let f=u===i[1];e.push({text:d[0],type:"percentage",symbol:f?d[2]:d[1],value:parseFloat(f?d[1]:d[2]),position:d.index})}}}let o=[/(\w+x?)\s+volume\s+(?:is\s+|of\s+)?\$?([\d,]+\.?\d*)\s*[MBK]?/gi,/(\w+x?)\s+(?:has\s+)?(?:high|low|elevated|above[\s-]average|below[\s-]average)\s+volume/gi,/(\d+\.?\d*)\s*x\s+(?:average\s+)?volume\s+(?:for|on|in)\s+(\w+x?)/gi];for(let u of o){let d;for(;(d=u.exec(t))!==null;){let p=`vol_${d.index}`;r.has(p)||(r.add(p),e.push({text:d[0],type:"volume",symbol:d[1],position:d.index}))}}let s=[/(\w+x?)\s+(?:is\s+)?(?:in\s+(?:an?\s+)?)?(?:uptrend|downtrend|bullish\s+trend|bearish\s+trend|positive\s+momentum|negative\s+momentum)/gi,/(?:uptrend|downtrend|bullish|bearish)\s+(?:trend|momentum)\s+(?:for|in|on)\s+(\w+x?)/gi];for(let u of s){let d;for(;(d=u.exec(t))!==null;){let p=`trend_${d.index}`;r.has(p)||(r.add(p),e.push({text:d[0],type:"trend",symbol:d[1],position:d.index}))}}let a=[/(\w+x?)\s+(?:is\s+)?(?:outperforming|underperforming|cheaper\s+than|more\s+expensive\s+than|higher\s+than|lower\s+than)\s+(\w+x?)/gi];for(let u of a){let d;for(;(d=u.exec(t))!==null;){let p=`comp_${d.index}`;r.has(p)||(r.add(p),e.push({text:d[0],type:"comparison",symbol:d[1],position:d.index}))}}let c=[/RSI\s+(?:is\s+)?(?:at\s+)?(\d+\.?\d*)/gi,/(?:above|below)\s+(?:the\s+)?(?:\d+[\s-]?day\s+)?(?:moving\s+average|MA|SMA|EMA)/gi,/MACD\s+(?:bullish|bearish)\s+crossover/gi,/(?:overbought|oversold)\s+(?:territory|levels?|zone)/gi];for(let u of c){let d;for(;(d=u.exec(t))!==null;){let p=`tech_${d.index}`;r.has(p)||(r.add(p),e.push({text:d[0],type:"technical",position:d.index}))}}let l=[/(?:earnings|revenue|profit)\s+(?:report|announcement|beat|miss|surprise)/gi,/(?:according\s+to|based\s+on)\s+(?:news|reports?|headlines?|articles?)/gi,/(?:announced|reported|disclosed|filed)\s+(?:\w+\s+){0,3}(?:earnings|acquisition|partnership|layoffs|expansion)/gi];for(let u of l){let d;for(;(d=u.exec(t))!==null;){let p=`news_${d.index}`;r.has(p)||(r.add(p),e.push({text:d[0],type:"news",position:d.index}))}}return e}function gEr(t,e,r){let n=new Map,i=new Map,o=new Map,s=new Set,a=new Set;for(let l of e){let u=l.symbol.toLowerCase(),d=u.replace(/x$/i,"");n.set(u,l.price),n.set(d,l.price),i.set(u,l.change24h),i.set(d,l.change24h),o.set(u,l.volume24h),o.set(d,l.volume24h),s.add(u),s.add(d),l.news&&l.news.length>0&&(a.add(u),a.add(d))}let c=t.symbol?.toLowerCase();switch(t.type){case"price":{if(!c||!t.value)return{claim:t,status:"inferred",verificationConfidence:.3,explanation:"Price claim without parseable symbol or value"};let l=n.get(c);if(l===void 0)return{claim:t,status:"ungrounded",verificationConfidence:.8,explanation:`Symbol ${t.symbol} not found in provided market data \u2014 claim references unavailable data`};let u=Math.abs(t.value-l)/l;return u<=.05?{claim:t,status:"grounded",verificationConfidence:.95,explanation:`Price claim matches market data within 5% (claimed $${t.value}, actual $${l.toFixed(2)})`,groundTruth:`$${l.toFixed(2)}`}:u<=.2?{claim:t,status:"embellished",verificationConfidence:.7,explanation:`Price claim roughly correct but ${(u*100).toFixed(0)}% off (claimed $${t.value}, actual $${l.toFixed(2)})`,groundTruth:`$${l.toFixed(2)}`}:{claim:t,status:"hallucinated",verificationConfidence:.9,explanation:`Price claim ${(u*100).toFixed(0)}% off reality (claimed $${t.value}, actual $${l.toFixed(2)})`,groundTruth:`$${l.toFixed(2)}`}}case"percentage":{if(!c||t.value===void 0)return{claim:t,status:"inferred",verificationConfidence:.3,explanation:"Percentage claim without parseable symbol or value"};let l=i.get(c);if(l===void 0)return{claim:t,status:"ungrounded",verificationConfidence:.7,explanation:`No 24h change data available for ${t.symbol}`};if(l===null)return{claim:t,status:"inferred",verificationConfidence:.5,explanation:`24h change data not available for ${t.symbol} \u2014 inference from other data possible`};let u=Math.abs(t.value-l);return u<=1?{claim:t,status:"grounded",verificationConfidence:.9,explanation:`Percentage claim matches 24h change data (claimed ${t.value}%, actual ${l.toFixed(2)}%)`,groundTruth:`${l.toFixed(2)}%`}:u<=3?{claim:t,status:"embellished",verificationConfidence:.6,explanation:`Percentage claim approximately correct but off by ${u.toFixed(1)}pp`,groundTruth:`${l.toFixed(2)}%`}:{claim:t,status:"hallucinated",verificationConfidence:.8,explanation:`Percentage claim significantly off (claimed ${t.value}%, actual ${l.toFixed(2)}%)`,groundTruth:`${l.toFixed(2)}%`}}case"volume":{if(!c)return{claim:t,status:"inferred",verificationConfidence:.3,explanation:"Volume claim without parseable symbol"};let l=o.get(c);return l==null?{claim:t,status:"ungrounded",verificationConfidence:.6,explanation:`No volume data available for ${t.symbol} \u2014 claim references unavailable data`}:{claim:t,status:"grounded",verificationConfidence:.7,explanation:`Volume data is available for ${t.symbol}`,groundTruth:`$${(l/1e6).toFixed(1)}M`}}case"trend":return c&&s.has(c)?{claim:t,status:"inferred",verificationConfidence:.6,explanation:`Trend claim for available symbol ${t.symbol} \u2014 reasonable inference from price data`}:{claim:t,status:"ungrounded",verificationConfidence:.5,explanation:"Trend claim for symbol not in available data"};case"comparison":{let l=t.text.match(/(\w+x?)\s+\w+\s+(\w+x?)/i);if(l){let u=l[1].toLowerCase(),d=l[2].toLowerCase();if(s.has(u)&&s.has(d))return{claim:t,status:"grounded",verificationConfidence:.7,explanation:"Both symbols in comparison are in the available dataset"}}return{claim:t,status:"inferred",verificationConfidence:.4,explanation:"Comparison claim \u2014 partial data available"}}case"technical":return r.includes("technical_indicators")?{claim:t,status:"inferred",verificationConfidence:.5,explanation:"Technical indicator claim \u2014 agent cites technical indicators as a source"}:{claim:t,status:"ungrounded",verificationConfidence:.7,explanation:"Technical indicator claim without technical data being provided"};case"news":return c&&a.has(c)?{claim:t,status:"grounded",verificationConfidence:.7,explanation:`News data was provided for ${t.symbol}`}:r.includes("news_feed")?{claim:t,status:"inferred",verificationConfidence:.4,explanation:"News claim \u2014 agent cites news feed but specific news not verified"}:{claim:t,status:"ungrounded",verificationConfidence:.6,explanation:"News claim without news data being provided to agent"};default:return{claim:t,status:"inferred",verificationConfidence:.3,explanation:"General claim \u2014 insufficient data for verification"}}}function Pvt(t,e,r){let n=hEr(t),i=n.map(h=>gEr(h,e,r)),o=i.filter(h=>h.status==="grounded").length,s=i.filter(h=>h.status==="ungrounded").length,a=i.filter(h=>h.status==="hallucinated").length,c=i.filter(h=>h.status==="embellished").length,l=i.filter(h=>h.status==="inferred").length,u=0,d=0;for(let h of i){let m=h.verificationConfidence;switch(d+=m,h.status){case"grounded":u+=m*1;break;case"inferred":u+=m*.7;break;case"embellished":u+=m*.4;break;case"ungrounded":u+=m*.1;break;case"hallucinated":u+=m*0;break}}let p=d>0?he(u/d):n.length===0?.8:1,f;return n.length===0?f="No verifiable factual claims found in reasoning \u2014 opinion-based analysis":p>=.8?f="Reasoning is well-grounded in available market data":p>=.5?f="Reasoning is partially grounded \u2014 some claims lack data support":p>=.3?f="Reasoning is poorly grounded \u2014 significant fabrication or unverifiable claims":f="Reasoning is largely ungrounded \u2014 agent appears to fabricate data",{groundingScore:p,totalClaims:n.length,groundedClaims:o,ungroundedClaims:s,hallucinatedClaims:a,embellishedClaims:c,inferredClaims:l,verifications:i,assessment:f}}function kvt(t,e,r,n){oP.unshift({tradeId:t,agentId:e,roundId:r,result:n,timestamp:new Date().toISOString()}),oP.length>Ovt&&(oP.length=Ovt);let i=mSe.get(e)??{totalClaims:0,groundedClaims:0,hallucinatedClaims:0,checks:0};i.totalClaims+=n.totalClaims,i.groundedClaims+=n.groundedClaims,i.hallucinatedClaims+=n.hallucinatedClaims,i.checks++,mSe.set(e,i)}function Dvt(t=50){return oP.slice(0,t)}function sP(){let t={};for(let[e,r]of mSe.entries()){let n=oP.filter(o=>o.agentId===e),i=n.length>0?n.reduce((o,s)=>o+s.result.groundingScore,0)/n.length:0;t[e]={avgGroundingScore:he(i),totalClaims:r.totalClaims,groundedRate:r.totalClaims>0?he(r.groundedClaims/r.totalClaims):0,hallucinationRate:r.totalClaims>0?he(r.hallucinatedClaims/r.totalClaims):0,checks:r.checks}}return t}var yEr=3,bEr=4,vEr=.3,_Er=.15,SEr=.9,xEr=3,wEr=2,AEr=.5,Mvt=3,hSe=0,EEr=-2,TEr=2,REr=.7,IEr=4,Lvt=.6,CEr=3,NEr=0,OEr=4,PEr=.4,kEr=.15,DEr=.85,MEr=2,LEr=3,BEr=.4,$Er=.15,UEr=.9,FEr=1,zEr=.6,Bvt=.8,HEr=2,VEr=0,GEr=.5,jEr=.1,qEr=2,WEr=.9,JEr=.9,KEr=.85,QEr=20,XEr=.6,YEr=1,ZEr=2,eTr=.5,tTr=.15,rTr=.85,nTr=2,$vt=4,iTr=.6,oTr=.5,sTr=3,aTr=1,cTr=4,lTr=.4,uTr=.12,dTr=.85,pTr=-5,fTr=0,mTr=.5,hTr=1,gTr=.6,yTr=.3,bTr=3,vTr=1,_Tr=.2,STr=.5,eq=[],Uvt=500,gSe=new Map;function xTr(t,e){let r=t.match(/\$[\d,]+\.?\d*/g)??[],n=t.match(/[+-]?\d+\.?\d*%/g)??[],i=new Map;for(let s of r)i.set(s,(i.get(s)||0)+1);let o=Array.from(i.entries()).filter(([s,a])=>a>=yEr);if(o.length>0){let s=o[0][0];return{type:"anchoring",confidence:Math.min(SEr,vEr+o[0][1]*_Er),evidence:`Price ${s} mentioned ${o[0][1]} times \u2014 reasoning appears anchored to this value`,severity:o[0][1]>=bEr?"high":"medium",triggers:o.map(([a])=>a)}}if(e.length>=xEr){let s=new Set;for(let a of e){let c=a.symbol.toLowerCase(),l=c.replace(/x$/i,"");(t.toLowerCase().includes(c)||t.toLowerCase().includes(l))&&s.add(a.symbol)}if(s.size===1&&r.length>=wEr)return{type:"anchoring",confidence:AEr,evidence:`Only references one symbol despite ${e.length} available \u2014 may be anchored to that stock's data`,severity:"low",triggers:Array.from(s)}}return null}function wTr(t,e,r){let n=t.toLowerCase();if(e==="buy"){let i=[/bullish/i,/upside/i,/growth/i,/opportunity/i,/strong/i,/recovery/i,/undervalued/i,/momentum/i,/breakout/i].filter(a=>a.test(n)).length,o=[/bearish/i,/downside/i,/risk/i,/weakness/i,/overvalued/i,/decline/i,/loss/i,/concern/i,/resistance/i].filter(a=>a.test(n)).length,s=r.filter(a=>a.change24h!==null&&a.change24h<EEr);if(i>=Mvt&&o===hSe&&s.length>=TEr)return{type:"confirmation",confidence:REr,evidence:`Buy reasoning cites ${i} positive signals but ignores ${s.length} stocks with significant losses (>2% down)`,severity:"medium",triggers:s.map(a=>`${a.symbol}: ${a.change24h?.toFixed(1)}%`)};if(i>=IEr&&o===hSe)return{type:"confirmation",confidence:Lvt,evidence:`Reasoning cites ${i} positive signals with zero counterarguments \u2014 one-sided analysis`,severity:"medium",triggers:["all_positive_no_counterarguments"]}}if(e==="sell"){let i=[/bullish/i,/upside/i,/growth/i,/recovery/i,/undervalued/i].filter(s=>s.test(n)).length,o=[/bearish/i,/downside/i,/risk/i,/overvalued/i,/decline/i,/loss/i,/overexposed/i,/correction/i,/weakness/i].filter(s=>s.test(n)).length;if(o>=Mvt&&i===hSe)return{type:"confirmation",confidence:Lvt,evidence:`Sell reasoning cites ${o} negative signals with zero positive counterpoints \u2014 one-sided analysis`,severity:"medium",triggers:["all_negative_no_counterarguments"]}}return null}function ATr(t){let e=t.toLowerCase(),r=[/\bjust\b/i,/\brecently\b/i,/\btoday\b/i,/\bjust\s+happened\b/i,/\blatest\b/i,/\bmost\s+recent\b/i,/\bthis\s+morning\b/i,/\bright\s+now\b/i,/\bcurrently\s+happening\b/i,/\bin\s+the\s+last\s+hour\b/i],n=[/\bhistorically\b/i,/\blong[\s-]term\b/i,/\bover\s+the\s+past\s+\w+\b/i,/\bfundamentals?\b/i,/\bseasonal/i,/\b\d+[\s-]year/i,/\bhistorical/i],i=r.filter(s=>s.test(e)).length,o=n.filter(s=>s.test(e)).length;if(i>=CEr&&o===NEr){let s=r.filter(a=>a.test(e)).map(a=>{let c=e.match(a);return c?c[0]:""}).filter(Boolean);return{type:"recency",confidence:Math.min(DEr,PEr+i*kEr),evidence:`Reasoning uses ${i} recency terms ("just", "recently", "right now") with zero references to historical or long-term data`,severity:i>=OEr?"high":"medium",triggers:s}}return null}function ETr(t,e,r){let n=t.toLowerCase(),o=[/already\s+invested/i,/averaging\s+down/i,/can'?t\s+sell\s+at\s+a\s+loss/i,/too\s+much\s+invested/i,/wait\s+for\s+(?:it\s+to\s+)?(?:recover|come\s+back)/i,/don'?t\s+want\s+to\s+(?:realize|lock\s+in)\s+(?:a\s+)?loss/i,/committed\s+to\s+(?:this|the)\s+position/i,/initial\s+(?:investment|thesis)\s+still\s+holds/i,/doubling\s+down/i,/cost\s+basis/i].filter(s=>s.test(n));if(o.length>=MEr){let s=o.map(a=>{let c=n.match(a);return c?c[0]:""}).filter(Boolean);return{type:"sunk_cost",confidence:Math.min(UEr,BEr+o.length*$Er),evidence:`Reasoning references prior investment ${o.length} times \u2014 decision may be influenced by sunk costs rather than current merit`,severity:o.length>=LEr?"high":"medium",triggers:s}}if((e==="hold"||e==="buy")&&r){for(let s of r.positions)if(s.unrealizedPnl<0){let a=s.symbol.toLowerCase();if(n.includes(a.replace(/x$/i,""))&&o.length>=FEr)return{type:"sunk_cost",confidence:zEr,evidence:`Holding/adding to losing position (${s.symbol}) with sunk cost language`,severity:"medium",triggers:o.map(c=>{let l=n.match(c);return l?l[0]:""}).filter(Boolean)}}}return null}function TTr(t,e,r){let n=gr(t),i=[/\bdefinitely\b/i,/\bcertainly\b/i,/\bwithout\s+(?:a\s+)?doubt\b/i,/\bguaranteed\b/i,/\bobvious(?:ly)?\b/i,/\bclear(?:ly)?\b/i,/\bno\s+question\b/i,/\bsure\s+thing\b/i,/\bimpossible\s+(?:to\s+lose|not\s+to)\b/i,/\bwill\s+(?:definitely|certainly|absolutely)\b/i],o=[/\bmight\b/i,/\bcould\b/i,/\bperhaps\b/i,/\buncertain/i,/\brisk/i,/\bhowever\b/i,/\bbut\b/i,/\bcaveat\b/i,/\bon\s+the\s+other\s+hand\b/i,/\bif\b/i],s=i.filter(c=>c.test(t)).length,a=o.filter(c=>c.test(t)).length;if(e>Bvt&&s>=HEr&&a===VEr){let c=i.filter(l=>l.test(t)).map(l=>{let u=t.match(l);return u?u[0]:""}).filter(Boolean);return{type:"overconfidence",confidence:Math.min(WEr,GEr+s*jEr+(e-Bvt)*qEr),evidence:`Confidence ${(e*100).toFixed(0)}% with ${s} certainty expressions and zero hedging \u2014 overconfidence likely`,severity:e>JEr?"high":"medium",triggers:c}}return e>KEr&&n<QEr&&r!=="hold"?{type:"overconfidence",confidence:XEr,evidence:`Confidence ${(e*100).toFixed(0)}% with only ${n} words of reasoning \u2014 insufficient evidence for high confidence`,severity:"medium",triggers:[`confidence: ${e}`,`words: ${n}`]}:null}function RTr(t,e,r){if(r.length===0)return null;let n=t.toLowerCase(),o=[/other\s+agents?\s+(?:are\s+)?(?:buy|sell|hold)ing/i,/consensus\s+(?:is\s+)?(?:to\s+)?(?:buy|sell|hold)/i,/following\s+(?:the\s+)?(?:market|crowd|trend|others?)/i,/everyone\s+(?:is\s+|else\s+is\s+)?(?:buy|sell|hold)ing/i,/(?:claude|gpt|grok)\s+(?:is\s+|also\s+)?(?:buy|sell|hold)ing/i,/aligning?\s+with\s+(?:the\s+)?(?:consensus|majority|other)/i].filter(a=>a.test(n));if(o.length>=YEr){let a=o.map(c=>{let l=n.match(c);return l?l[0]:""}).filter(Boolean);return{type:"herding",confidence:Math.min(rTr,eTr+o.length*tTr),evidence:"Reasoning explicitly references other agents' decisions \u2014 herding behavior",severity:o.length>=ZEr?"high":"medium",triggers:a}}let s=r.filter(a=>a.action===e);if(s.length===r.length&&r.length>=nTr){let a=new Set(n.split(/\s+/).filter(l=>l.length>$vt).map(l=>l.replace(/[^a-z]/g,""))),c=0;for(let l of s){let u=new Set(l.reasoning.toLowerCase().split(/\s+/).filter(f=>f.length>$vt).map(f=>f.replace(/[^a-z]/g,""))),d=0;for(let f of a)u.has(f)&&d++;let p=a.size>0?d/a.size:0;p>c&&(c=p)}if(c>iTr)return{type:"herding",confidence:oTr,evidence:`All agents took the same action (${e}) with ${(c*100).toFixed(0)}% reasoning keyword overlap \u2014 potential implicit herding`,severity:"low",triggers:[`keyword_overlap: ${(c*100).toFixed(0)}%`]}}return null}function ITr(t,e,r){let n=t.toLowerCase(),i=[/can'?t\s+afford\s+(?:to\s+)?lose/i,/protect\s+(?:my\s+|our\s+)?(?:gains|profits?|capital)/i,/lock\s+in\s+(?:profits?|gains)/i,/afraid\s+(?:of\s+)?(?:losing|losses?)/i,/risk\s+(?:of\s+)?(?:losing|loss)/i,/cut\s+(?:my\s+|our\s+)?losses/i,/stop[\s-]loss/i,/downside\s+protection/i],o=[/maximize\s+(?:profit|gain|return)/i,/upside\s+potential/i,/growth\s+opportunity/i,/could\s+gain/i,/potential\s+(?:profit|return|upside)/i],s=i.filter(c=>c.test(n)).length,a=o.filter(c=>c.test(n)).length;if(s>=sTr&&a<=aTr){let c=i.filter(l=>l.test(n)).map(l=>{let u=n.match(l);return u?u[0]:""}).filter(Boolean);return{type:"loss_aversion",confidence:Math.min(dTr,lTr+s*uTr),evidence:`${s} loss-avoidance references vs ${a} gain-seeking \u2014 asymmetric risk perception`,severity:s>=cTr?"high":"medium",triggers:c}}if(e==="sell"&&r){let c=r.positions.filter(u=>u.unrealizedPnlPercent>fTr),l=r.positions.filter(u=>u.unrealizedPnlPercent<pTr);if(c.length>0&&l.length>0&&c.some(d=>n.includes(d.symbol.toLowerCase().replace(/x$/i,"")))&&l.length>0)return{type:"loss_aversion",confidence:mTr,evidence:`Selling winning position while holding ${l.length} losing position(s) \u2014 classic disposition effect (loss aversion)`,severity:"low",triggers:l.map(d=>`${d.symbol}: ${d.unrealizedPnlPercent.toFixed(1)}%`)}}return null}function Fvt(t,e,r,n,i=[],o){let s=[],a=xTr(t,n);a&&s.push(a);let c=wTr(t,e,n);c&&s.push(c);let l=ATr(t);l&&s.push(l);let u=ETr(t,e,o?{positions:o.positions}:void 0);u&&s.push(u);let d=TTr(t,r,e);d&&s.push(d);let p=RTr(t,e,i);p&&s.push(p);let f=ITr(t,e,o?{positions:o.positions.map(v=>({symbol:v.symbol,unrealizedPnl:v.unrealizedPnl,unrealizedPnlPercent:v.unrealizedPnlPercent}))}:void 0);f&&s.push(f);let h={high:hTr,medium:gTr,low:yTr},m=0;if(s.length>0){let v=s.reduce((S,w)=>S+w.confidence*h[w.severity],0);m=Math.min(vTr,v/bTr)}m=he(m);let g=s.length>0?s.sort((v,S)=>{let w=v.confidence*h[v.severity];return S.confidence*h[S.severity]-w})[0].type:null,y;return s.length===0?y="No cognitive biases detected \u2014 reasoning appears balanced and evidence-based":m<_Tr?y=`Minor bias indicators: ${s.map(v=>v.type).join(", ")}. Generally balanced reasoning.`:m<STr?y=`Moderate cognitive bias detected: ${g}. Reasoning is partially biased by cognitive shortcuts.`:y=`Significant cognitive bias: ${g}. Decision may be driven by bias rather than evidence.`,{biasScore:m,biasCount:s.length,detections:s,assessment:y,dominantBias:g}}function zvt(t,e,r,n){eq.unshift({tradeId:t,agentId:e,roundId:r,result:n,timestamp:new Date().toISOString()}),eq.length>Uvt&&(eq.length=Uvt);let i=gSe.get(e)??{totalBiases:0,byType:{},checks:0,totalScore:0};i.totalBiases+=n.biasCount,i.checks++,i.totalScore+=n.biasScore;for(let o of n.detections)i.byType[o.type]=(i.byType[o.type]??0)+1;gSe.set(e,i)}function ySe(t=50){return eq.slice(0,t)}function aP(){let t={};for(let[e,r]of gSe.entries()){let n=tze(r.byType);t[e]={avgBiasScore:r.checks>0?he(r.totalScore/r.checks):0,totalBiases:r.totalBiases,dominantBias:n?n[0]:null,biasDistribution:{...r.byType},checks:r.checks}}return t}var tq=new un,cP=[],Hvt=200;function Vvt(t,e){cP.unshift({type:t,data:e,timestamp:new Date().toISOString()}),cP.length>Hvt&&(cP.length=Hvt)}var bSe={financial:.06,reasoning:.05,safety:.05,calibration:.04,patterns:.03,adaptability:.03,forensic_quality:.04,validation_quality:.04,prediction_accuracy:.04,reasoning_stability:.03,provenance_integrity:.03,model_comparison:.03,metacognition:.04,reasoning_efficiency:.02,forensic_ledger:.02,strategy_genome:.02,adversarial_robustness:.03,cross_session_memory:.03,arbitration_quality:.03,debate_performance:.03,impact_forecasting:.03,reasoning_transparency:.04,decision_accountability:.03,quality_certification:.03,reasoning_chain_integrity:.04,strategy_profiling:.04,benchmark_integrity:.05,reasoning_grounding:.05,cognitive_bias:.05};function CTr(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":"F"}function NTr(t,e){let r={};if(e?.pillars)for(let s of e.pillars)r[s.name]=s.score;for(let s of Object.keys(bSe))s in r||(r[s]=.5);r.arbitration_quality=r6(t),r.debate_performance=n6(t),r.impact_forecasting=i6(t),r.adversarial_robustness=W4(t),r.cross_session_memory=J4(t),r.reasoning_transparency=Q4(t),r.decision_accountability=Y4(t),r.quality_certification=e6(t),r.reasoning_chain_integrity=jj(t),r.strategy_profiling=Wj(t),r.benchmark_integrity=Zj().overallIntegrity;let n=sP();r.reasoning_grounding=n[t]?.avgGroundingScore??.5;let i=aP();r.cognitive_bias=i[t]?Math.max(0,1-i[t].avgBiasScore):.5;let o=0;for(let[s,a]of Object.entries(bSe))o+=(r[s]??.5)*a;return{score:ne(o),pillars:r}}function vSe(){let t=Cd(),r=(t.length>0?t.map(n=>n.agentId):["claude-value-investor","gpt-momentum-trader","grok-contrarian"]).map(n=>{let i=t.find(a=>a.agentId===n),{score:o,pillars:s}=NTr(n,i);return{agentId:n,composite:o,grade:CTr(o),rank:0,pillars:s}});return r.sort((n,i)=>i.composite-n.composite),r.forEach((n,i)=>{n.rank=i+1}),r}tq.get("/data",t=>{let e=vSe(),r=Zj(),n=sP(),i=aP(),o=fSe(),s=Dvt(10),a=ySe(10);return t.json({ok:!0,benchmark:"moltapp-v22",pillars:28,leaderboard:e,v22Features:{integrity:{overallScore:r.overallIntegrity,fingerprints:r.totalFingerprints,merkleTrees:r.totalMerkleTrees,tamperDetected:o.tampered},grounding:{agentStats:n,recentValidations:s.slice(0,5).map(c=>({agentId:c.agentId,score:c.result.groundingScore,claims:c.result.totalClaims,timestamp:c.timestamp}))},biases:{agentStats:i,recentDetections:a.slice(0,5).map(c=>({agentId:c.agentId,score:c.result.biasScore,dominant:c.result.dominantBias,count:c.result.biasCount,timestamp:c.timestamp}))}},weights:bSe,generatedAt:new Date().toISOString()})});tq.get("/stream",t=>{let e=new TextEncoder,r=new ReadableStream({start(n){for(let o of cP.slice(0,20))n.enqueue(e.encode(`data: ${JSON.stringify(o)}

`));let i=setInterval(()=>{let o=cP[0];o?n.enqueue(e.encode(`data: ${JSON.stringify(o)}

`)):n.enqueue(e.encode(`: keepalive

`))},5e3);setTimeout(()=>{clearInterval(i),n.close()},3e5)}});return new Response(r,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});tq.get("/export",t=>{let e=vSe(),r=sP(),n=aP(),o=e.map(s=>({...s,grounding:r[s.agentId]??null,biases:n[s.agentId]??null,benchmark:"moltapp-v22"})).map(s=>JSON.stringify(s)).join(`
`);return new Response(o,{headers:{"Content-Type":"application/jsonl","Content-Disposition":'attachment; filename="moltapp-v22-export.jsonl"'}})});tq.get("/",t=>{let e=vSe(),r=Zj(),n=sP(),i=aP(),o=fSe(),s=ySe(5),a={"claude-value-investor":"#D97706","gpt-momentum-trader":"#059669","grok-contrarian":"#7C3AED"},c=l=>l===1?"1st":l===2?"2nd":`${l}th`;return t.html(Zr`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MoltApp Benchmark v22 - 28 Pillar AI Trading Benchmark</title>
  <meta http-equiv="refresh" content="30" />
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { background: #0a0a0f; color: #e0e0e0; font-family: 'SF Mono', 'Fira Code', monospace; }
    .header { background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 24px; border-bottom: 2px solid #00ff88; text-align: center; }
    .header h1 { font-size: 28px; color: #00ff88; margin-bottom: 4px; }
    .header .version { color: #888; font-size: 14px; }
    .header .badges { margin-top: 8px; display: flex; gap: 8px; justify-content: center; flex-wrap: wrap; }
    .badge { padding: 4px 12px; border-radius: 12px; font-size: 11px; font-weight: bold; }
    .badge-green { background: #00ff8820; color: #00ff88; border: 1px solid #00ff8840; }
    .badge-blue { background: #3b82f620; color: #60a5fa; border: 1px solid #3b82f640; }
    .badge-purple { background: #8b5cf620; color: #a78bfa; border: 1px solid #8b5cf640; }
    .badge-amber { background: #f59e0b20; color: #fbbf24; border: 1px solid #f59e0b40; }
    .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(420px, 1fr)); gap: 16px; margin-top: 16px; }
    .card { background: #111827; border: 1px solid #1f2937; border-radius: 12px; padding: 16px; }
    .card h2 { color: #00ff88; font-size: 16px; margin-bottom: 12px; }
    .card h3 { color: #60a5fa; font-size: 14px; margin-bottom: 8px; }
    table { width: 100%; border-collapse: collapse; }
    th, td { padding: 8px 10px; text-align: left; font-size: 13px; }
    th { color: #9ca3af; border-bottom: 1px solid #374151; font-size: 11px; text-transform: uppercase; }
    td { border-bottom: 1px solid #1f2937; }
    .score { font-weight: bold; }
    .score-high { color: #00ff88; }
    .score-mid { color: #fbbf24; }
    .score-low { color: #ef4444; }
    .agent-name { font-weight: bold; }
    .grade { font-size: 18px; font-weight: bold; }
    .new-badge { background: #ff006620; color: #ff0066; border: 1px solid #ff006640; padding: 2px 6px; border-radius: 4px; font-size: 10px; margin-left: 4px; }
    .integrity-bar { height: 8px; border-radius: 4px; background: #1f2937; overflow: hidden; margin-top: 4px; }
    .integrity-fill { height: 100%; border-radius: 4px; transition: width 0.5s; }
    .bias-tag { display: inline-block; padding: 2px 8px; border-radius: 4px; font-size: 11px; margin: 2px; }
    .bias-anchoring { background: #ef444420; color: #fca5a5; }
    .bias-confirmation { background: #f59e0b20; color: #fde68a; }
    .bias-recency { background: #3b82f620; color: #93c5fd; }
    .bias-overconfidence { background: #8b5cf620; color: #c4b5fd; }
    .bias-herding { background: #06b6d420; color: #67e8f9; }
    .bias-sunk_cost { background: #f9731620; color: #fdba74; }
    .bias-loss_aversion { background: #ec489920; color: #f9a8d4; }
    .pillar-bar { display: flex; align-items: center; margin: 2px 0; font-size: 11px; }
    .pillar-name { width: 160px; color: #9ca3af; }
    .pillar-fill-bg { flex: 1; height: 6px; background: #1f2937; border-radius: 3px; overflow: hidden; }
    .pillar-fill { height: 100%; border-radius: 3px; }
    .pillar-val { width: 40px; text-align: right; color: #d1d5db; }
    .footer { text-align: center; padding: 16px; color: #6b7280; font-size: 12px; margin-top: 16px; }
    .footer a { color: #60a5fa; text-decoration: none; }
  </style>
</head>
<body>
  <div class="header">
    <h1>MoltApp Benchmark v22</h1>
    <div class="version">28-Pillar AI Trading Benchmark | Live on Solana</div>
    <div class="badges">
      <span class="badge badge-green">28 SCORING PILLARS</span>
      <span class="badge badge-blue">SHA-256 INTEGRITY</span>
      <span class="badge badge-purple">COGNITIVE BIAS DETECTION</span>
      <span class="badge badge-amber">GROUNDING VALIDATION</span>
    </div>
  </div>

  <div class="container">
    <!-- Leaderboard -->
    <div class="card" style="margin-top:8px;">
      <h2>LEADERBOARD</h2>
      <table>
        <tr>
          <th>Rank</th><th>Agent</th><th>Composite</th><th>Grade</th>
          <th>Grounding</th><th>Bias-Free</th><th>Integrity</th>
        </tr>
        ${e.map(l=>{let u=a[l.agentId]??"#666",d=n[l.agentId],p=i[l.agentId],f=d?.avgGroundingScore??.5,h=p?1-p.avgBiasScore:.5;return Zr`<tr>
            <td><b>${c(l.rank)}</b></td>
            <td class="agent-name" style="color:${u}">${l.agentId}</td>
            <td class="score ${l.composite>=.7?"score-high":l.composite>=.5?"score-mid":"score-low"}">${l.composite.toFixed(2)}</td>
            <td class="grade" style="color:${l.composite>=.7?"#00ff88":l.composite>=.5?"#fbbf24":"#ef4444"}">${l.grade}</td>
            <td class="score ${f>=.7?"score-high":f>=.5?"score-mid":"score-low"}">${f.toFixed(2)}</td>
            <td class="score ${h>=.7?"score-high":h>=.5?"score-mid":"score-low"}">${h.toFixed(2)}</td>
            <td class="score score-high">${r.overallIntegrity.toFixed(2)}</td>
          </tr>`})}
      </table>
    </div>

    <div class="grid">
      <!-- v22 Feature: Integrity -->
      <div class="card">
        <h2>BENCHMARK INTEGRITY <span class="new-badge">v22 NEW</span></h2>
        <p style="color:#9ca3af;font-size:12px;margin-bottom:8px;">Cryptographic verification: SHA-256 fingerprints + Merkle audit trees</p>
        <div style="display:flex;gap:16px;flex-wrap:wrap;">
          <div>
            <div style="color:#9ca3af;font-size:11px;">INTEGRITY SCORE</div>
            <div style="font-size:24px;font-weight:bold;color:${r.overallIntegrity>=.9?"#00ff88":"#fbbf24"}">${(r.overallIntegrity*100).toFixed(0)}%</div>
          </div>
          <div>
            <div style="color:#9ca3af;font-size:11px;">FINGERPRINTS</div>
            <div style="font-size:24px;font-weight:bold;color:#60a5fa;">${r.totalFingerprints}</div>
          </div>
          <div>
            <div style="color:#9ca3af;font-size:11px;">MERKLE TREES</div>
            <div style="font-size:24px;font-weight:bold;color:#a78bfa;">${r.totalMerkleTrees}</div>
          </div>
          <div>
            <div style="color:#9ca3af;font-size:11px;">TAMPER STATUS</div>
            <div style="font-size:14px;font-weight:bold;color:${o.tampered?"#ef4444":"#00ff88"}">${o.tampered?"ALERT":"CLEAN"}</div>
          </div>
        </div>
        <div class="integrity-bar" style="margin-top:12px;">
          <div class="integrity-fill" style="width:${r.overallIntegrity*100}%;background:${r.overallIntegrity>=.9?"#00ff88":"#fbbf24"};"></div>
        </div>
      </div>

      <!-- v22 Feature: Grounding -->
      <div class="card">
        <h2>REASONING GROUNDING <span class="new-badge">v22 NEW</span></h2>
        <p style="color:#9ca3af;font-size:12px;margin-bottom:8px;">Verifies factual claims against real market data</p>
        <table>
          <tr><th>Agent</th><th>Score</th><th>Claims</th><th>Grounded</th><th>Halluc.</th></tr>
          ${Object.entries(n).map(([l,u])=>{let d=a[l]??"#666";return Zr`<tr>
              <td style="color:${d}">${l.split("-")[0]}</td>
              <td class="score ${u.avgGroundingScore>=.7?"score-high":u.avgGroundingScore>=.5?"score-mid":"score-low"}">${u.avgGroundingScore.toFixed(2)}</td>
              <td>${u.totalClaims}</td>
              <td style="color:#00ff88">${(u.groundedRate*100).toFixed(0)}%</td>
              <td style="color:#ef4444">${(u.hallucinationRate*100).toFixed(0)}%</td>
            </tr>`})}
          ${Object.keys(n).length===0?Zr`<tr><td colspan="5" style="color:#6b7280">No grounding data yet  run trading rounds</td></tr>`:""}
        </table>
      </div>

      <!-- v22 Feature: Cognitive Biases -->
      <div class="card">
        <h2>COGNITIVE BIAS DETECTION <span class="new-badge">v22 NEW</span></h2>
        <p style="color:#9ca3af;font-size:12px;margin-bottom:8px;">Identifies reasoning errors: anchoring, confirmation, recency, overconfidence, herding</p>
        <table>
          <tr><th>Agent</th><th>Bias Score</th><th>Total</th><th>Dominant</th></tr>
          ${Object.entries(i).map(([l,u])=>{let d=a[l]??"#666",p=u.avgBiasScore<=.2?"#00ff88":u.avgBiasScore<=.5?"#fbbf24":"#ef4444";return Zr`<tr>
              <td style="color:${d}">${l.split("-")[0]}</td>
              <td class="score" style="color:${p}">${u.avgBiasScore.toFixed(2)}</td>
              <td>${u.totalBiases}</td>
              <td>${u.dominantBias?Zr`<span class="bias-tag bias-${u.dominantBias}">${u.dominantBias}</span>`:"-"}</td>
            </tr>`})}
          ${Object.keys(i).length===0?Zr`<tr><td colspan="4" style="color:#6b7280">No bias data yet  run trading rounds</td></tr>`:""}
        </table>

        ${s.length>0?Zr`
        <h3 style="margin-top:12px;">Recent Detections</h3>
        ${s.map(l=>Zr`
          <div style="margin:4px 0;font-size:11px;padding:4px 8px;background:#1f2937;border-radius:4px;">
            <span style="color:${a[l.agentId]??"#666"}">${l.agentId.split("-")[0]}</span>
            ${l.result.detections.map(u=>Zr`<span class="bias-tag bias-${u.type}">${u.type}</span>`)}
            <span style="color:#6b7280"> | score: ${l.result.biasScore.toFixed(2)}</span>
          </div>
        `)}`:""}
      </div>

      <!-- Pillar Breakdown for #1 Agent -->
      <div class="card">
        <h2>PILLAR BREAKDOWN${e.length>0?Zr`  ${e[0].agentId}`:""}</h2>
        ${e.length>0?Object.entries(e[0].pillars).sort(([,l],[,u])=>u-l).map(([l,u])=>{let d=["benchmark_integrity","reasoning_grounding","cognitive_bias"].includes(l),p=Math.max(2,u*100),f=u>=.7?"#00ff88":u>=.5?"#fbbf24":"#ef4444";return Zr`<div class="pillar-bar">
              <span class="pillar-name">${l.replace(/_/g," ")}${d?Zr`<span class="new-badge">NEW</span>`:""}</span>
              <div class="pillar-fill-bg"><div class="pillar-fill" style="width:${p}%;background:${f};"></div></div>
              <span class="pillar-val">${u.toFixed(2)}</span>
            </div>`}):Zr`<p style="color:#6b7280">No data yet</p>`}
      </div>
    </div>
  </div>

  <div class="footer">
    <a href="https://www.patgpt.us">www.patgpt.us</a> |
    <a href="https://huggingface.co/datasets/patruff/molt-benchmark">HuggingFace Dataset</a> |
    <a href="/api/v1/benchmark-v22/scores">API</a> |
    <a href="/benchmark-v22/data">JSON Data</a> |
    <a href="/benchmark-v22/export">JSONL Export</a>
    <br/>v22  28 Pillar AI Trading Benchmark | Auto-refreshes every 30s
  </div>
</body>
</html>`)});function o6(t,e){let r=e?`${e} ${t}`:t,n=r.toLowerCase(),i="unspecified",o=/\b(expect(?:ing)?\s+(?:continued\s+)?(?:up|rise|gain|increase|appreciation|growth|bullish|higher|upside))|(?:target.*\+\d)|(?:price\s+(?:will|should|to)\s+(?:rise|increase|go\s+up|climb|rally))/i,s=/\b(expect(?:ing)?\s+(?:continued\s+)?(?:down|fall|decline|decrease|depreciation|bearish|lower|downside))|(?:target.*-\d)|(?:price\s+(?:will|should|to)\s+(?:fall|decrease|go\s+down|drop|decline))/i,a=/\b(consolidat|sideways|range-?bound|stable|flat|neutral|no\s+significant\s+move)/i;o.test(r)?i="up":s.test(r)?i="down":a.test(r)&&(i="flat");let c=null,l=r.match(/[+-]?\s*(\d+(?:\.\d+)?)\s*%/);if(l){let f=parseFloat(l[1]);i==="down"?c=-f:i==="up"?c=f:c=l[0].includes("-")?-f:f}let u=null,d=[[/\b(\d+)\s*h(?:our)?s?\b/i,"hours"],[/\b(\d+)\s*d(?:ay)?s?\b/i,"days"],[/\b(\d+)\s*w(?:eek)?s?\b/i,"weeks"],[/\bnext\s+(?:trading\s+)?session\b/i,"1_session"],[/\bshort[\s-]?term\b/i,"short_term"],[/\bmedium[\s-]?term\b/i,"medium_term"],[/\blong[\s-]?term\b/i,"long_term"],[/\bovernight\b/i,"overnight"],[/\bintraday\b/i,"intraday"]];for(let[f,h]of d)if(f.test(n)){u=h;break}let p=.5;return/\bwill\b|\bdefinitely\b|\bcertain\b|\bstrongly\s+expect/i.test(r)?p=.9:/\bexpect\b|\bshould\b|\blikely\b|\bprobab/i.test(r)?p=.7:/\bmight\b|\bcould\b|\bpossib/i.test(r)&&(p=.4),i==="unspecified"&&(p=0),{predictedDirection:i,predictedMagnitude:c,timeframeSpecified:u,confidenceInPrediction:p}}function Gvt(t,e){let r=e.filter(g=>g.agentId!==t.agentId);if(r.length===0)return{agreedWithMajority:1,wasContrarian:0,reasoningSimilarity:0,independentThinkingScore:1,confidenceDelta:0};let n={};for(let g of e)n[g.action]=(n[g.action]??0)+1;let i=Object.entries(n).sort((g,y)=>y[1]-g[1])[0][0],o=t.action===i?1:0,s=1-o,a=e.reduce((g,y)=>g+y.confidence,0)/e.length,c=t.confidence-a,l=new Set(t.reasoning.toLowerCase().replace(/[^\w\s]/g,"").split(/\s+/).filter(g=>g.length>3)),u=0,d=0;for(let g of r){let y=new Set(g.reasoning.toLowerCase().replace(/[^\w\s]/g,"").split(/\s+/).filter(E=>E.length>3)),v=new Set([...l].filter(E=>y.has(E))),S=new Set([...l,...y]),w=S.size>0?v.size/S.size:0;d+=w,u=Math.max(u,w)}let p=Math.round(d/r.length*100)/100,f=1-p,h=s*.3,m=Math.min(1,Math.round((f*.7+h)*100)/100);return{agreedWithMajority:o,wasContrarian:s,reasoningSimilarity:p,independentThinkingScore:m,confidenceDelta:Math.round(c*100)/100}}function rq(t){let r=Math.max(0,Math.min(1,(t.pnl+50)/150))*15+t.coherence*12+t.hallucinationFree*12+t.discipline*10+t.calibration*8+t.prediction*8+t.reasoningDepth*10+t.sourceQuality*8+t.outcomePrediction*9+t.consensusIntelligence*8,n=Math.round(r*100)/100,i;return n>=85?i="S":n>=75?i="A":n>=60?i="B":n>=45?i="C":n>=30?i="D":i="F",{composite:n,grade:i,dimensions:t}}var OTr=[/\btherefore\b/i,/\bbecause\b/i,/\bhowever\b/i,/\bconsequently\b/i,/\bfurthermore\b/i,/\bmoreover\b/i,/\bin\s+addition\b/i,/\bnevertheless\b/i,/\balthough\b/i,/\bdespite\b/i,/\bgiven\s+that\b/i,/\bas\s+a\s+result\b/i,/\bsince\b/i,/\bthus\b/i,/\bhence\b/i,/\bwhich\s+means\b/i,/\bthis\s+suggests?\b/i,/\bthis\s+indicates?\b/i,/\bwhile\b/i,/\bon\s+the\s+other\s+hand\b/i,/\bin\s+contrast\b/i,/\bso\b/i,/\bbut\b/i,/\byet\b/i],PTr=[/\$\d+\.?\d*/,/\d+\.?\d*%/,/\d+\.?\d*[xX]\s+(?:average|normal|typical)/i,/\b\d{1,3}(?:,\d{3})*\b/,/\bRSI\s+(?:at|of|is)\s+\d+/i,/\bMA\s*\d+/i,/\bP\/E\s+(?:of|at|is)\s+\d+/i,/\bvolume\s+(?:is|at|of)\s+/i,/\b\d+\.?\d*\s*(?:M|B|K)\b/,/\bcurrently\s+at\s+/i,/\bdown\s+\d+/i,/\bup\s+\d+/i],kTr=[/\brisk[s]?\s+(?:include|are|of|is)\b/i,/\bdownside\s+(?:risk|scenario|potential)\b/i,/\bhowever\b/i,/\bon\s+the\s+other\s+hand\b/i,/\bcould\s+(?:also|fail|drop|decline)\b/i,/\bif\s+.*(?:wrong|fails?|drops?|declines?)\b/i,/\bcaution\b/i,/\bworst\s+case\b/i,/\bconcern\b/i,/\bvolatil/i,/\buncertain/i,/\bpotential\s+(?:loss|downside|negative)\b/i,/\bwarning\b/i,/\bcontrary\s+(?:to|view|argument)\b/i,/\bbears?\s+(?:might|could|would|argue)\b/i,/\bskeptic/i],DTr=[/\btherefore\s+(?:I|we)\s+(?:recommend|suggest|should|will|choose)\b/i,/\bbased\s+on\s+(?:this|these|the\s+above)\b/i,/\bin\s+conclusion\b/i,/\bmy\s+(?:decision|recommendation|action)\b/i,/\bI(?:'m|\s+am)\s+(?:buying|selling|holding)\b/i,/\bthis\s+(?:makes|leads\s+me\s+to)\b/i,/\boverall\b/i,/\bnet\s+(?:result|assessment|conclusion)\b/i,/\bconviction\b/i,/\btaking\s+(?:a|the)\s+(?:position|trade)\b/i,/\bexecuting\s+(?:a|this)\b/i],MTr={price_data:[/\bprice\b/i,/\b\$\d+/i,/\btrading\s+at\b/i,/\bcurrent\s+price\b/i,/\bquote\b/i],volume_data:[/\bvolume\b/i,/\bturnover\b/i,/\bliquidity\b/i],momentum_signals:[/\b24h\s+change\b/i,/\bmomentum\b/i,/\btrend\b/i,/\bbreakout\b/i,/\brally\b/i],technical_indicators:[/\bRSI\b/i,/\bMACD\b/i,/\bmoving\s+average\b/i,/\bMA\d+\b/i,/\bBollinger\b/i,/\bsupport\b/i,/\bresistance\b/i,/\boverbought\b/i,/\boversold\b/i],fundamental_data:[/\bearnings\b/i,/\brevenue\b/i,/\bP\/E\b/i,/\bvaluation\b/i,/\bfundamental/i,/\bgrowth\s+rate\b/i,/\bmargin\b/i],portfolio_context:[/\bportfolio\b/i,/\bposition\b/i,/\bcash\s+balance\b/i,/\bexposure\b/i,/\ballocation\b/i,/\bP&?L\b/i],news_events:[/\bnews\b/i,/\bheadline\b/i,/\breport\b/i,/\bannounce/i,/\bearnings\s+(?:call|report|release)\b/i,/\bcatalyst\b/i],sentiment:[/\bsentiment\b/i,/\bmood\b/i,/\bfear\b/i,/\bgreed\b/i,/\bconsensus\b/i],peer_comparison:[/\bsector\b/i,/\bpeer\b/i,/\bcompetitor\b/i,/\bcorrelation\b/i,/\brelative\s+(?:to|performance)\b/i],risk_metrics:[/\bvolatility\b/i,/\bdrawdown\b/i,/\bSharpe\b/i,/\bbeta\b/i,/\bVaR\b/i,/\brisk\s+score\b/i]},LTr=[/\bcombined\s+with\b/i,/\balong\s+with\b/i,/\bconfirmed\s+by\b/i,/\bcorroborated\b/i,/\bconsistent\s+with\b/i,/\b(?:both|all)\s+.*(?:and|indicate|suggest|show)\b/i,/\bwhile\s+.*also\b/i,/\bprice\s+.*volume\b/i,/\btechnical\s+.*fundamental\b/i,/\bsupports?\s+(?:this|the|my)\b/i,/\breinforced?\s+by\b/i,/\baligns?\s+with\b/i],BTr=[/\b(?:the|this)\s+\d+\.?\d*%\s+(?:change|move|gain|loss|increase|decrease)\s+(?:suggests?|indicates?|shows?|means?)\b/i,/\bprice\s+(?:of|at)\s+\$\d+.*(?:suggests?|indicates?|means?|shows?)\b/i,/\bvolume\s+.*(?:suggests?|indicates?|confirms?)\b/i,/\b(?:RSI|MACD|MA)\s+.*(?:signals?|suggests?|indicates?)\b/i,/\bgiven\s+(?:the|that|this)\s+.*\d+/i,/\bwith\s+.*at\s+\d+/i,/\bbased\s+on\s+.*\d+/i,/\bconsidering\s+.*\d+/i];function hb(t){let e=t.split(/\s+/).filter(S=>S.length>0),r=e.length,n=ai(t,0),i=Math.max(1,n.length),s=n.filter(S=>S.trim().split(/\s+/).length>=5).length,a=0;for(let S of OTr){let w=t.match(new RegExp(S.source,"gi"));w&&(a+=w.length)}let c=ne(a/i),l=0;for(let S of PTr){let w=t.match(new RegExp(S.source,"gi"));w&&(l+=w.length)}let u=Math.min(1,l/5),d=0;for(let S of kTr)S.test(t)&&d++;let p=Math.min(1,d/3),f=0;for(let S of DTr)S.test(t)&&f++;let h=Math.min(1,f/2),m=new Set(e.map(S=>S.toLowerCase().replace(/[^a-z]/g,""))),g=r>0?ne(m.size/r):0,y=UTr(t);return{depthScore:ne($Tr(s)*.2+Math.min(1,c/.8)*.15+u*.25+p*.15+h*.15+Math.min(1,g/.6)*.1),stepCount:s,connectiveDensity:c,evidenceAnchoringScore:ne(u),counterArgumentScore:ne(p),conclusionClarity:ne(h),wordCount:r,vocabularyRichness:g,reasoningPattern:y}}function gb(t,e){let r=[];for(let[h,m]of Object.entries(MTr))for(let g of m)if(g.test(t)){r.push(h);break}let n=[...new Set([...r,...e])],i=n.length,o=Math.min(1,r.length/4),s=0,a=[/\$\d+\.?\d*/g,/\d+\.?\d*%/g,/\d+\.?\d*[xX]\b/g,/\d{1,3}(?:,\d{3})+/g];for(let h of a){let m=t.match(h);m&&(s+=m.length)}let c=Math.min(1,s/4),l=0;for(let h of LTr)h.test(t)&&l++;let u=Math.min(1,l/2),d=0;for(let h of BTr)h.test(t)&&d++;let p=Math.min(1,d/2);return{qualityScore:ne(Math.min(1,i/3)*.15+o*.25+c*.25+u*.15+p*.2),sourceCount:i,diversityScore:ne(o),specificityScore:ne(c),crossReferenceScore:ne(u),integrationScore:ne(p),sourceCategories:n}}function $Tr(t){return Math.min(1,t/5)}function UTr(t){let e=t.toLowerCase();return/step\s+\d|first.*then.*finally/i.test(e)?"sequential":/on\s+one\s+hand.*on\s+the\s+other/i.test(e)?"comparative":/risk.*reward|upside.*downside|pros?.*cons?/i.test(e)?"risk_reward":/if.*then.*else|scenario/i.test(e)?"conditional":/data\s+shows|evidence\s+suggests|based\s+on/i.test(e)?"evidence_based":/hypothesis|thesis|theory/i.test(e)?"thesis_driven":/technical.*indicator|chart.*pattern|RSI|MACD/i.test(e)?"technical_analysis":/fundamentals?|valuation|earnings|revenue/i.test(e)?"fundamental_analysis":/contrarian|against\s+the\s+crowd|overreaction/i.test(e)?"contrarian":/momentum|trend|breakout/i.test(e)?"momentum":"general"}var j2=new un,oq=new Map,nq=[],iq=[];function jvt(t,e,r,n,i,o,s,a){let c=o6(e.reasoning,e.predictedOutcome);nq.push({agentId:e.agentId,roundId:t,symbol:e.symbol,predictedDirection:c.predictedDirection,predictedMagnitude:c.predictedMagnitude,timeframeSpecified:c.timeframeSpecified,confidence:c.confidenceInPrediction,timestamp:new Date().toISOString()}),nq.length>1e3&&nq.shift();let l=Gvt(e,r);iq.push({roundId:t,agentId:e.agentId,agreedWithMajority:l.agreedWithMajority,wasContrarian:l.wasContrarian,reasoningSimilarity:l.reasoningSimilarity,independentThinkingScore:l.independentThinkingScore,timestamp:new Date().toISOString()}),iq.length>1e3&&iq.shift();let u=oq.get(e.agentId)??{trades:0,coherence:[],hallucinationFreeRates:[],disciplineRates:[],depthScores:[],sourceQualityScores:[],predictionScores:[],consensusScores:[],recentReasoning:[],intents:{}};u.trades++,u.coherence.push(n),u.hallucinationFreeRates.push(i),u.disciplineRates.push(o?1:0),u.depthScores.push(s),u.sourceQualityScores.push(a),u.predictionScores.push(c.confidenceInPrediction>0?.6:.3),u.consensusScores.push(l.independentThinkingScore),u.recentReasoning.unshift(e.reasoning.slice(0,200)),u.recentReasoning.length>10&&u.recentReasoning.pop();let d=Wa(e.reasoning,e.action);u.intents[d]=(u.intents[d]??0)+1;let p=500;for(let f of[u.coherence,u.hallucinationFreeRates,u.disciplineRates,u.depthScores,u.sourceQualityScores,u.predictionScores,u.consensusScores])f.length>p&&f.shift();oq.set(e.agentId,u)}function FTr(){let t=[];for(let[e,r]of oq.entries()){let n=rq({pnl:0,coherence:Qe(r.coherence),hallucinationFree:Qe(r.hallucinationFreeRates),discipline:Qe(r.disciplineRates),calibration:.5,prediction:.5,reasoningDepth:Qe(r.depthScores),sourceQuality:Qe(r.sourceQualityScores),outcomePrediction:Qe(r.predictionScores),consensusIntelligence:Qe(r.consensusScores)});t.push({...n,agentId:e,rank:0,tradeCount:r.trades})}return t.sort((e,r)=>r.composite-e.composite),t.forEach((e,r)=>e.rank=r+1),t}j2.get("/leaderboard",async t=>{try{let r=await Ut.select().from(Vt).orderBy(Ro(Vt.timestamp)).limit(500);if(r.length>0){let n=new Map;for(let o of r){let s=n.get(o.agentId)??[];s.push(o),n.set(o.agentId,s)}let i=[];for(let[o,s]of n.entries()){let a=s.reduce((g,y)=>g+(y.coherenceScore??0),0)/s.length,l=1-s.filter(g=>g.hallucinationFlags&&g.hallucinationFlags.length>0).length/s.length,u=s.filter(g=>g.disciplinePass!=="fail").length/s.length,d=0,p=0,f=0;for(let g of s.slice(0,50)){let y=hb(g.reasoning),v=gb(g.reasoning,g.sources??[]),S=o6(g.reasoning,g.predictedOutcome);d+=y.depthScore,p+=v.qualityScore,f+=S.confidenceInPrediction>0?.6:.3}let h=Math.min(s.length,50),m=rq({pnl:0,coherence:a,hallucinationFree:l,discipline:u,calibration:.5,prediction:.5,reasoningDepth:d/h,sourceQuality:p/h,outcomePrediction:f/h,consensusIntelligence:.5});i.push({...m,agentId:o,rank:0,tradeCount:s.length})}return i.sort((o,s)=>s.composite-o.composite),i.forEach((o,s)=>o.rank=s+1),t.json({ok:!0,version:"v25",dimensions:10,leaderboard:i,totalTrades:r.length,source:"database"})}}catch{}let e=FTr();return t.json({ok:!0,version:"v25",dimensions:10,leaderboard:e,source:"cache"})});j2.get("/predictions",t=>{let e=t.req.query("agent"),r=Math.min(parseInt(t.req.query("limit")??"50",10),200),n=nq;return e&&(n=n.filter(i=>i.agentId===e)),t.json({ok:!0,predictions:n.slice(-r).reverse(),total:n.length,summary:{totalPredictions:n.length,directionalBreakdown:{up:n.filter(i=>i.predictedDirection==="up").length,down:n.filter(i=>i.predictedDirection==="down").length,flat:n.filter(i=>i.predictedDirection==="flat").length,unspecified:n.filter(i=>i.predictedDirection==="unspecified").length},withTimeframe:n.filter(i=>i.timeframeSpecified!==null).length,withMagnitude:n.filter(i=>i.predictedMagnitude!==null).length}})});j2.get("/consensus",t=>{let e=t.req.query("agent"),r=Math.min(parseInt(t.req.query("limit")??"50",10),200),n=iq;e&&(n=n.filter(s=>s.agentId===e));let i=new Map;for(let s of n){let a=i.get(s.agentId)??{agreed:0,contrarian:0,total:0,avgSimilarity:0,avgIndependence:0};a.total++,a.agreed+=s.agreedWithMajority,a.contrarian+=s.wasContrarian,a.avgSimilarity+=s.reasoningSimilarity,a.avgIndependence+=s.independentThinkingScore,i.set(s.agentId,a)}let o=Array.from(i.entries()).map(([s,a])=>({agentId:s,totalRounds:a.total,agreementRate:a.total>0?ne(a.agreed/a.total):0,contrarianRate:a.total>0?ne(a.contrarian/a.total):0,avgReasoningSimilarity:a.total>0?ne(a.avgSimilarity/a.total):0,avgIndependentThinking:a.total>0?ne(a.avgIndependence/a.total):0}));return t.json({ok:!0,consensusData:n.slice(-r).reverse(),total:n.length,agentSummary:o})});j2.get("/agent/:id",async t=>{let e=t.req.param("id"),r=oq.get(e);if(!r)try{let i=await Ut.select().from(Vt).where(rr(Vt.agentId,e)).orderBy(Ro(Vt.timestamp)).limit(100);if(i.length===0)return t.json({ok:!1,error:"Agent not found"},404);let o=i.reduce((s,a)=>s+(a.coherenceScore??0),0)/i.length;return t.json({ok:!0,agentId:e,tradeCount:i.length,avgCoherence:ne(o),recentTrades:i.slice(0,10).map(s=>({action:s.action,symbol:s.symbol,reasoning:s.reasoning.slice(0,200),confidence:s.confidence,coherence:s.coherenceScore,intent:s.intent})),source:"database"})}catch{return t.json({ok:!1,error:"Agent not found"},404)}let n=rq({pnl:0,coherence:Qe(r.coherence),hallucinationFree:Qe(r.hallucinationFreeRates),discipline:Qe(r.disciplineRates),calibration:.5,prediction:.5,reasoningDepth:Qe(r.depthScores),sourceQuality:Qe(r.sourceQualityScores),outcomePrediction:Qe(r.predictionScores),consensusIntelligence:Qe(r.consensusScores)});return t.json({ok:!0,agentId:e,score:n,tradeCount:r.trades,intentDistribution:r.intents,recentReasoning:r.recentReasoning})});j2.get("/export/jsonl",async t=>{try{let r=(await Ut.select().from(Vt).orderBy(Ro(Vt.timestamp)).limit(1e3)).map(n=>{let i=hb(n.reasoning),o=gb(n.reasoning,n.sources??[]),s=o6(n.reasoning,n.predictedOutcome),a=wr(n.confidence);return JSON.stringify({agent_id:n.agentId,round_id:n.roundId??null,timestamp:n.timestamp?.toISOString()??null,action:n.action,symbol:n.symbol,quantity:n.quantity,reasoning:n.reasoning,confidence:a,sources:n.sources??[],intent:n.intent,coherence_score:n.coherenceScore,hallucination_flags:n.hallucinationFlags??[],discipline_pass:n.disciplinePass==="pass",reasoning_depth_score:i.depthScore,step_count:i.stepCount,connective_density:i.connectiveDensity,evidence_anchoring:i.evidenceAnchoringScore,counter_argument_score:i.counterArgumentScore,reasoning_pattern:i.reasoningPattern,source_quality_score:o.qualityScore,source_diversity:o.diversityScore,source_specificity:o.specificityScore,source_cross_reference:o.crossReferenceScore,source_integration:o.integrationScore,predicted_direction:s.predictedDirection,predicted_magnitude:s.predictedMagnitude,timeframe_specified:s.timeframeSpecified,outcome_prediction_confidence:s.confidenceInPrediction,benchmark_version:"v25"})});return t.header("Content-Type","application/x-ndjson"),t.header("Content-Disposition","attachment; filename=moltapp-benchmark-v25.jsonl"),t.text(r.join(`
`))}catch{return t.json({ok:!1,error:"Database unavailable \u2014 no export data"},503)}});j2.get("/export/csv",async t=>{try{let e=await Ut.select().from(Vt).orderBy(Ro(Vt.timestamp)).limit(1e3),r=["agent_id","round_id","timestamp","action","symbol","quantity","confidence","coherence_score","hallucination_count","discipline_pass","intent","reasoning_depth","source_quality","predicted_direction","predicted_magnitude","reasoning_length","benchmark_version"],n=e.map(i=>{let o=hb(i.reasoning),s=gb(i.reasoning,i.sources??[]),a=o6(i.reasoning,i.predictedOutcome);return[i.agentId,i.roundId??"",i.timestamp?.toISOString()??"",i.action,i.symbol,i.quantity??0,wr(i.confidence),i.coherenceScore??0,i.hallucinationFlags?.length??0,i.disciplinePass==="pass"?1:0,i.intent,o.depthScore.toFixed(3),s.qualityScore.toFixed(3),a.predictedDirection,a.predictedMagnitude??"",i.reasoning.length,"v25"].join(",")});return t.header("Content-Type","text/csv"),t.header("Content-Disposition","attachment; filename=moltapp-benchmark-v25.csv"),t.text([r.join(","),...n].join(`
`))}catch{return t.json({ok:!1,error:"Database unavailable"},503)}});j2.post("/analyze",async t=>{let e=await t.req.json().catch(()=>null);if(!e?.reasoning)return t.json({ok:!1,error:"Provide { reasoning, action?, symbol?, sources? }"},400);let r=e.reasoning,n=e.action??"hold",i=e.sources??[],o=hb(r),s=gb(r,i),a=o6(r,e.predictedOutcome),c=qa(r,n),l=jc(r,[]);return t.json({ok:!0,analysis:{coherence:{score:c.score,explanation:c.explanation},hallucinations:{count:l.flags.length,flags:l.flags},reasoningDepth:o,sourceQuality:s,outcomePrediction:a,v25_dimensions:{coherence:c.score,hallucinationFree:1-l.severity,reasoningDepth:o.depthScore,sourceQuality:s.qualityScore,outcomePredictionConfidence:a.confidenceInPrediction}}})});var qvt=new Map,Wvt=new Map,zTr=new Map;function wa(t,e){let r=new RegExp(e.source,e.flags.includes("g")?e.flags:e.flags+"g"),n=t.match(r);return n?n.length:0}function sq(t){return t<=0?0:t===1?.3:t===2?.6:t===3?.8:1}function el(t){return Math.round(Math.max(0,Math.min(1,t))*100)/100}function Jvt(t,e){let r=t.toLowerCase(),n,i=e.filter(E=>E.outcome==="loss"||E.outcome==="failure"||E.outcome==="negative"||E.coherenceScore<.3);if(i.length===0)n=.7;else{let I=wa(t,/loss|lost|mistake|wrong|error|misjudged|poor\s+call|bad\s+trade|underperform|regret|should\s+not\s+have/gi);I>=3?n=1:I===2?n=.8:I===1?n=.5:n=.1}let s=wa(t,/market\s+was\s+irrational|unexpected\s+event|couldn't\s+have\s+predicted|no\s+one\s+could|black\s+swan|unforeseen|manipulation|rigged/gi),a;s===0?a=1:s===1?a=.7:s===2?a=.4:a=.1;let l=wa(t,/i\s+was\s+wrong\s+about|my\s+mistake\s+was|incorrect\s+assumption|misjudged\s+the|overestimated|underestimated|failed\s+to\s+consider|overlooked|my\s+analysis\s+missed/gi),u=i.length===0?.6:sq(l),p=wa(t,/going\s+forward|adjusting|will\s+now|changing\s+approach|tightening|loosening|revised\s+strategy|new\s+rule|updating\s+my|lowering\s+exposure|increasing\s+caution/gi),f=i.length===0?.6:sq(p),h;if(e.length<2)h=.5;else{let I=wa(t,/my\s+record|win\s+rate|track\s+record|past\s+performance|history\s+shows|my\s+last\s+\d+\s+trades/gi);wa(t,/always\s+right|never\s+wrong|perfect\s+record|100%|consistently\s+profitable/gi)>0?h=.1:I>=2?h=.9:I===1?h=.7:h=.5}let g=wa(t,/uncertain|not\s+sure|could\s+be\s+wrong|risk\s+that\s+i'm|limited\s+data|might\s+not|possible\s+that|acknowledge|caveat|however.*risk|on\s+the\s+other\s+hand/gi),v=wa(t,/definitely|guaranteed|certain|no\s+doubt|absolutely|surely|without\s+question|slam\s+dunk|easy\s+money|free\s+money/gi),S;v>2?S=.1:v>0?S=Math.max(.2,sq(g)-.3):S=sq(g);let w=el(n*.2+a*.15+u*.18+f*.17+h*.15+S*.15);return{lossAcknowledgment:el(n),blameAvoidance:el(a),errorSpecificity:el(u),correctiveAction:el(f),selfReportAccuracy:el(h),intellectualHumility:el(S),accountabilityScore:w}}function Kvt(t){let r=wa(t,/(?:is|are|was|were|will|should|appears?|seems?|looks?|indicates?|suggests?|shows?)\s+(?:that\s+)?(?:the\s+)?(?:likely|probably|clearly|strong|weak|bullish|bearish|undervalued|overvalued|rising|falling)/gi),i=wa(t,/price\s+(?:is|of|at)|trading\s+at|24h\s+change|volume|data\s+shows|according\s+to|chart|indicator|P\/E|earnings|revenue|\$\d+(?:\.\d+)?|\d+(?:\.\d+)?%/gi),s=wa(t,/however|but|on\s+the\s+other\s+hand|risk|downside|could\s+go\s+wrong|bearish\s+case|bullish\s+case|alternative|counterpoint|caveat|nevertheless|despite|although|while\s+.*risk/gi),c=wa(t,/if\s+(?:the|it|price|market)|unless|provided\s+that|in\s+case|should\s+.*then|assuming|given\s+that|contingent|depending\s+on/gi),u=wa(t,/\d+(?:\.\d+)?%|\$\d+(?:\.\d+)?(?:k|m|b)?|\d+x|\d+\.\d+\s+(?:ratio|multiple|times)/gi),p=wa(t,/therefore|thus|because|since|as\s+a\s+result|consequently|this\s+means|which\s+leads\s+to|first|second|third|finally|in\s+conclusion|given\s+this|based\s+on|combining/gi),f;p>=6?f=1:p>=4?f=.85:p>=3?f=.7:p>=2?f=.5:p>=1?f=.3:f=.1;let h;if(r===0)h=i>0?.5:.2;else{let I=i/r;I>=2?h=1:I>=1.5?h=.85:I>=1?h=.7:I>=.5?h=.5:h=.3}let m;s>=4?m=1:s>=3?m=.8:s>=2?m=.6:s>=1?m=.4:m=.1;let y=wa(t,/therefore\s+i|my\s+(?:recommendation|decision|conclusion|action)|i(?:'m|\s+am)\s+(?:buying|selling|holding)|in\s+conclusion|final\s+(?:decision|recommendation|verdict)|the\s+best\s+(?:action|move|trade)|i\s+(?:recommend|suggest|decide|choose)/gi),v;y>=2?v=1:y===1?v=.7:v=wa(t,/\b(?:buy|sell|hold)\b/gi)>0?.4:.1;let S;u>=6?S=1:u>=4?S=.8:u>=2?S=.6:u>=1?S=.3:S=.1;let w;c>=4?w=1:c>=3?w=.8:c>=2?w=.6:c>=1?w=.4:w=.15;let E=el(f*.2+h*.2+m*.18+v*.15+S*.15+w*.12);return{logicalChainLength:el(f),evidenceDensity:el(h),counterArgumentQuality:el(m),conclusionClarity:el(v),quantitativeRigor:el(S),conditionalReasoning:el(w),rqiScore:E,structureBreakdown:{claimsFound:r,evidenceCitations:i,counterArguments:s,conditionals:c,quantifiedClaims:u,logicalConnectors:p}}}var HTr={pnl:11,coherence:9,hallucinationFree:8,discipline:7,calibration:7,predictionAccuracy:6,reasoningDepth:7,sourceQuality:6,outcomePrediction:5,consensusIntelligence:5,strategyGenome:5,riskRewardDiscipline:6,executionQuality:5,crossRoundLearning:5,tradeAccountability:6,reasoningQualityIndex:7};function Qvt(t){let e=0,r=0;for(let[o,s]of Object.entries(HTr)){let a=t[o]??0;e+=a*s,r+=s}let n=r>0?Math.round(e/r*100*100)/100:0,i;return n>=90?i="S":n>=85?i="A+":n>=80?i="A":n>=70?i="B+":n>=60?i="B":n>=50?i="C":n>=35?i="D":i="F",{composite:n,grade:i}}function Xvt(t,e,r){let n=qvt.get(t)??[];n.push(e),qvt.set(t,n);let i=Wvt.get(t)??[];i.push(r),Wvt.set(t,i)}function Yvt(t,e){zTr.set(t,e)}process.env.BRAVE_API_KEY&&(CXe(PXe),console.log("[Orchestrator] Brave Search enabled"));var cq=[dVe,fVe,mVe];function WT(){return cq.map(t=>({agentId:t.config.agentId,name:t.config.name,model:t.config.model,provider:t.config.provider,description:t.config.description,personality:t.config.personality,riskTolerance:t.config.riskTolerance,tradingStyle:t.config.tradingStyle,maxPositionSize:t.config.maxPositionSize,maxPortfolioAllocation:t.config.maxPortfolioAllocation}))}function lP(t){return cq.find(e=>e.config.agentId===t)?.config}var aq=null,_Se=0,VTr=1e4,s6={maxPositionSize:25,maxPortfolioAllocation:85,riskTolerance:"moderate"},a6={cashBalance:1e4,totalValue:1e4,positions:[]},uP=t=>t*.8+.1,c6=t=>t*.6+.3,Zvt=t=>t*.4+.4,e_t=.7,GTr=.7,jTr=.5,t_t=t=>t>=GTr?"B+":t>=jTr?"C+":"C",qTr=.35,WTr=.45,JTr=.4,KTr=.3,QTr=.4,r_t=.3,XTr=200,YTr=.4,ZTr=.3,e4r=.3,n_t=100,t4r=150,r4r=.8,n4r=.6,i4r=t=>t>=r4r?"A":t>=n4r?"B":"C";async function o4r(){let t=Date.now();if(aq&&t-_Se<VTr)return console.log("[Orchestrator] Using cached market data"),aq;try{let e=await aze(),r=lze(),n=r?e.filter(o=>r.has(o.symbol)):e;r&&console.log(`[Orchestrator] Liquidity filter: ${n.length}/${e.length} stocks are tradeable`);let i=n.map(o=>({symbol:o.symbol,name:o.name,mintAddress:o.mintAddress,price:o.price,change24h:o.change24h,volume24h:o.volume24h}));return aq=i,_Se=Date.now(),i}catch{let e=si.map(r=>({symbol:r.symbol,name:r.name,mintAddress:r.mintAddress,price:p4r(r.symbol),change24h:f4r(),volume24h:m4r()}));return aq=e,_Se=Date.now(),e}}async function s4r(t,e){try{let r=await Ut.select().from(Tr).where(rr(Tr.agentId,t)),n=await Ut.select().from(Kn).where(rr(Kn.agentId,t)),i=50,o=i;for(let d of n)d.side==="buy"?o-=parseFloat(d.usdcAmount):d.side==="sell"&&(o+=parseFloat(d.usdcAmount));let s=r.map(d=>{let f=e.find(v=>v.symbol.toLowerCase()===d.symbol.toLowerCase())?.price??parseFloat(d.averageCostBasis),h=parseFloat(d.quantity),m=parseFloat(d.averageCostBasis),g=(f-m)*h,y=m>0?(f-m)/m*100:0;return{symbol:d.symbol,quantity:h,averageCostBasis:m,currentPrice:f,unrealizedPnl:g,unrealizedPnlPercent:y}}),a=s.reduce((d,p)=>d+p.currentPrice*p.quantity,0),c=o+a,l=c-i,u=i>0?l/i*100:0;return{cashBalance:Math.max(0,o),positions:s,totalValue:c,totalPnl:l,totalPnlPercent:u}}catch(r){return console.error(`[Orchestrator] Failed to build portfolio for ${t}:`,r),{cashBalance:1e4,positions:[],totalValue:1e4,totalPnl:0,totalPnlPercent:0}}}async function a4r(t,e,r,n){let i={agentId:t.agentId,agentName:t.name,decision:e,executed:!1};try{await Ut.insert(Ac).values({agentId:t.agentId,symbol:e.symbol,action:e.action,quantity:String(e.quantity),reasoning:e.reasoning,confidence:e.confidence,modelUsed:t.model,roundId:n,marketSnapshot:r.reduce((o,s)=>(o[s.symbol]={price:s.price,change24h:s.change24h},o),{})})}catch(o){console.error(`[Orchestrator] Failed to record decision for ${t.agentId}:`,o)}if(e.action==="hold")return i.executed=!0,i;try{let o=await ldt({agentId:t.agentId,agentName:t.name,decision:e,roundId:n});i.executed=o.success,o.success?(i.executionDetails={txSignature:o.tradeResult?.txSignature??o.paperTradeId,filledPrice:o.tradeResult?parseFloat(o.tradeResult.pricePerToken):void 0,usdcAmount:o.tradeResult?parseFloat(o.tradeResult.usdcAmount):e.action==="buy"?e.quantity:void 0,filledQuantity:o.tradeResult?parseFloat(o.tradeResult.stockQuantity):e.action==="sell"?e.quantity:void 0},console.log(`[Orchestrator] ${t.name} trade EXECUTED (${Cy()}): ${e.action} ${e.symbol} \u2014 tx: ${o.tradeResult?.txSignature??o.paperTradeId}`)):(i.executionError=o.error,console.warn(`[Orchestrator] ${t.name} trade FAILED: ${o.error}`))}catch(o){let s=He(o);i.executionError=s,console.error(`[Orchestrator] ${t.name} execution error: ${s}`)}return i}async function i_t(){let t=`round_${Date.now()}_${Math.random().toString(36).slice(2,8)}`,e=new Date().toISOString();console.log(`[Orchestrator] Starting trading round ${t} at ${e}`);try{let n=await xdt();if(!n.proceed)return console.warn(`[Orchestrator] Round ${t} BLOCKED by pre-round gate: ${n.blockReason}`),{roundId:t,timestamp:e,results:[],errors:[`Pre-round gate blocked: ${n.blockReason}`],circuitBreakerActivations:[],lockSkipped:!1};console.log(`[Orchestrator] Pre-round gate PASSED (${n.mode}): ${n.summary.passed}/${n.summary.total} checks OK in ${n.durationMs}ms`)}catch(n){console.warn(`[Orchestrator] Pre-round gate check error (continuing): ${He(n)}`)}let r=await bXe(t,async()=>await c4r(t,e));if(!r){let n=aC();return console.log(`[Orchestrator] Round ${t} SKIPPED \u2014 another round is in progress (lock: ${n.lock?.lockId??"unknown"})`),{roundId:t,timestamp:e,results:[],errors:["Trading round skipped \u2014 another round is in progress"],circuitBreakerActivations:[],lockSkipped:!0}}return r.result}async function c4r(t,e){let r=[],n=[],i;try{i=await o4r(),console.log(`[Orchestrator] Fetched market data for ${i.length} stocks`)}catch(d){let p=`Failed to fetch market data: ${He(d)}`;return console.error(`[Orchestrator] ${p}`),{roundId:t,timestamp:e,results:[],errors:[p],circuitBreakerActivations:[],lockSkipped:!1}}let o="";try{let d=i.map(f=>f.symbol),p=await RXe(d);o=IXe(p),console.log(`[Orchestrator] News context ready (${p.items.length} items, cache: ${ipe().hitRate}% hit rate)`)}catch(d){console.warn(`[Orchestrator] News fetch failed (non-critical): ${He(d)}`)}if(o)for(let d of i)d.news=d.news??[],d.news.push(o);let s=i.filter(d=>d.change24h!==null&&Math.abs(d.change24h)>3).sort((d,p)=>Math.abs(p.change24h??0)-Math.abs(d.change24h??0)).slice(0,10).map(d=>({symbol:d.symbol,name:d.name,change24h:d.change24h,price:d.price}));if(s.length>0){let d=`

**Market Movers (>3% change today)**:
${s.map(p=>`- ${p.symbol} (${p.name}): ${p.change24h>0?"+":""}${ne(p.change24h)}% at $${ne(p.price)}`).join(`
`)}`;for(let p of i)p.news=p.news??[],p.news.push(d);console.log(`[Orchestrator] Pre-computed ${s.length} movers (>${ne(Math.abs(s[s.length-1].change24h))}% change)`)}let a=[];for(let d of cq)try{console.log(`[Orchestrator] Running ${d.name} (${d.model})...`);let p=await Bet(d.agentId);p.ready||console.warn(`[Orchestrator] ${d.name} fund check failed: ${p.reason}`),await pfe(d.agentId,`pre-trade-${t}`).catch(y=>console.warn(`[Orchestrator] Balance snapshot failed for ${d.agentId}: ${He(y)}`));let f=await s4r(d.agentId,i),h=await d.analyze(i,f);console.log(`[Orchestrator] ${d.name} decided: ${h.action} ${h.symbol} (confidence: ${h.confidence}%)`);try{let y=npt(h,i);y.passed?console.log(`[Orchestrator] ${d.name} quality gate PASSED: composite=${ne(y.scores.composite)}`):(console.log(`[Orchestrator] ${d.name} QUALITY GATE REJECTED: composite=${ne(y.scores.composite)}, reasons: ${y.rejectionReasons.join("; ")}`),h=y.decision)}catch(y){console.warn(`[Orchestrator] Quality gate check failed for ${d.agentId}: ${He(y)}`)}try{let y=qa(h.reasoning,h.action,i),v=jc(h.reasoning,i),S=Ny({action:h.action,symbol:h.symbol,quantity:h.quantity,confidence:wr(h.confidence)},{maxPositionSize:d.config.maxPositionSize,maxPortfolioAllocation:d.config.maxPortfolioAllocation,riskTolerance:d.config.riskTolerance},{cashBalance:f.cashBalance,totalValue:f.totalValue,positions:f.positions.map($=>({symbol:$.symbol,quantity:$.quantity,currentPrice:$.currentPrice}))}),w=h.sources??md(h.reasoning),E=h.intent??Wa(h.reasoning,h.action);console.log(`[Orchestrator] ${d.name} benchmark: coherence=${ne(y.score)}, hallucinations=${v.flags.length}, discipline=${S.passed?"PASS":"FAIL"}`);let I=`tj_${Date.now()}_${Math.random().toString(36).slice(2,6)}`;await Ut.insert(Vt).values({id:I,agentId:d.agentId,reasoning:h.reasoning,confidence:wr(h.confidence),sources:w,toolTrace:h.toolTrace??null,modelUsed:d.model,intent:E,predictedOutcome:h.predictedOutcome??null,coherenceScore:y.score,hallucinationFlags:v.flags,action:h.action,symbol:h.symbol,quantity:h.quantity,roundId:t,disciplinePass:S.passed?"pass":"fail"}).catch($=>{console.warn(`[Orchestrator] Justification insert failed: ${He($)}`)});let D=rpt({agentId:d.agentId,action:h.action,symbol:h.symbol,quantity:h.quantity,reasoning:h.reasoning,confidence:h.confidence,roundId:t},y,v);tpt(D);let k=wr(h.confidence);cpt({agentId:d.agentId,action:h.action,symbol:h.symbol,quantity:h.quantity,reasoning:h.reasoning,confidence:k,intent:E,sources:w,coherenceScore:y.score,hallucinationCount:v.flags.length,roundId:t,timestamp:new Date().toISOString()}),dpt(d.agentId,h.symbol,t,v.flags,v.severity,k,h.action),fpt({agentId:d.agentId,reasoning:h.reasoning,action:h.action,symbol:h.symbol,confidence:k,intent:E,coherenceScore:y.score,timestamp:new Date().toISOString()});let P=y.signals.reduce(($,H)=>H.type==="bullish"?$+H.weight*.1:H.type==="bearish"?$-H.weight*.1:$,0);hpt({agentId:d.agentId,roundId:t,action:h.action,symbol:h.symbol,reasoning:h.reasoning,confidence:k,intent:E,coherenceScore:y.score,hallucinationCount:v.flags.length,wordCount:gr(h.reasoning),sentimentScore:Math.max(-1,Math.min(1,P)),timestamp:new Date().toISOString()}),ypt({agentId:d.agentId,action:h.action,symbol:h.symbol,reasoning:h.reasoning,confidence:k,intent:E,coherenceScore:y.score,hallucinationCount:v.flags.length,disciplinePass:S.passed,timestamp:new Date().toISOString()}),vpt({agentId:d.agentId,reasoning:h.reasoning,action:h.action,intent:E,confidence:k,coherenceScore:y.score,hallucinationFlags:v.flags,disciplineViolations:S.passed?[]:S.violations,timestamp:new Date().toISOString()}),Spt({roundId:t,agentId:d.agentId,pnl:f.totalPnlPercent,coherence:y.score,hallucinationCount:v.flags.length,timestamp:Date.now()}),Rpt(d.agentId,y.score,v.severity,S.passed);try{w1t(d.agentId,{composite:y.score,coherence:y.score,hallucinationRate:v.severity},i4r(y.score),t),v.flags.length>0&&T1t(d.agentId,h.symbol,v.flags,t),A1t(d.agentId,S.passed,y.score,.3),P1t({agentId:d.agentId,action:h.action,symbol:h.symbol,quantity:h.quantity,confidence:k,reasoning:h.reasoning,intent:E,coherenceScore:y.score,timestamp:new Date().toISOString()});let $=W1t({agentId:d.agentId,roundId:t,reasoning:h.reasoning,coherenceScore:y.score,hallucinationCount:v.flags.length,confidence:k,intent:E,action:h.action});q1t($),S1t(d.agentId,{composite:y.score,coherence:y.score,hallucinationRate:v.severity,discipline:S.passed?1:0,pnl:f.totalPnlPercent,sharpe:0})}catch($){console.warn(`[Orchestrator] Governance service recording failed for ${d.agentId}: ${He($)}`)}try{let $=Mpt(h.reasoning,h.action,d.agentId,h.symbol,t);console.log(`[Orchestrator] ${d.name} depth: ${ne($.overall)} (${$.classification}), angles=${$.angleCount}`),Fpt(d.agentId,t,{coherence:y.score,depth:$.overall,hallucinationRate:v.severity,discipline:S.passed?1:0,confidence:k}),qc("trade_reasoning",{action:h.action,symbol:h.symbol,confidence:k,intent:E,reasoningPreview:h.reasoning.slice(0,200)},d.agentId),qc("coherence_scored",{score:y.score,explanation:y.explanation,signalCount:y.signals.length},d.agentId),qc("depth_analyzed",{overall:$.overall,classification:$.classification,angleCount:$.angleCount},d.agentId),v.flags.length>0&&qc("hallucination_flagged",{flags:v.flags,severity:v.severity,symbol:h.symbol},d.agentId);try{let W=p1t(h.reasoning,h.action,h.symbol,k,i);f1t(d.agentId,W),console.log(`[Orchestrator] ${d.name} deep coherence: ${ne(W.overallScore)} (${W.grade}), strengths=${W.strengths.length}, weaknesses=${W.weaknesses.length}`),qc("deep_coherence",{overallScore:W.overallScore,grade:W.grade,strengthCount:W.strengths.length,weaknessCount:W.weaknesses.length,wordCount:W.textMetrics.wordCount},d.agentId)}catch(W){console.warn(`[Orchestrator] Deep coherence failed for ${d.agentId}: ${He(W)}`)}let H=null;try{H=X1t(d.agentId,h.reasoning),Y1t(d.agentId,h.reasoning,H.qualityScore),console.log(`[Orchestrator] ${d.name} patterns: quality=${ne(H.qualityScore)}, fallacies=${H.fallacies.length}, depth=${H.depth.classification}, vocab=${ne(H.vocabulary.sophisticationScore)}`),qc("pattern_analyzed",{qualityScore:H.qualityScore,fallacyCount:H.fallacies.length,fallacies:H.fallacies.map(W=>W.type),depthClassification:H.depth.classification,vocabularySophistication:H.vocabulary.sophisticationScore,hedgeRatio:H.hedgeRatio,templateProbability:H.templateProbability},d.agentId)}catch(W){console.warn(`[Orchestrator] Pattern analysis failed for ${d.agentId}: ${He(W)}`)}try{let W=lj(d.agentId,t,h.reasoning,h.action,h.symbol,k);tyt(d.agentId,h.reasoning,h.action,h.symbol,k),oyt(d.agentId,{coherence:y.score,depth:W.depth.depthScore,hallucinationFree:1-v.severity,discipline:S.passed?1:0,confidence:k,forensicStructure:W.structural.structureScore,forensicOriginality:W.originality.originalityScore,forensicClarity:W.clarity.clarityScore,forensicIntegrity:W.crossTrade.flags.length===0?1:Math.max(0,1-W.crossTrade.flags.length*.2),patternQuality:H?.qualityScore??.5}),console.log(`[Orchestrator] ${d.name} forensic: composite=${ne(W.compositeScore)} (${W.grade}), depth=${W.depth.classification}, originality=${ne(W.originality.originalityScore)}, clarity=${ne(W.clarity.clarityScore)}, integrity-flags=${W.crossTrade.flags.length}`),ayt("forensic_analyzed",{compositeScore:W.compositeScore,grade:W.grade,depthClassification:W.depth.classification,dimensionsCovered:W.depth.dimensionCount,originalityScore:W.originality.originalityScore,templateProbability:W.originality.templateProbability,clarityScore:W.clarity.clarityScore,integrityFlags:W.crossTrade.flags,structureScore:W.structural.structureScore,quantitativeClaims:W.structural.quantitativeClaimCount,causalConnectors:W.structural.causalConnectorCount},d.agentId),qc("v11_forensic",{compositeScore:W.compositeScore,grade:W.grade,depthClassification:W.depth.classification,originalityScore:W.originality.originalityScore},d.agentId)}catch(W){console.warn(`[Orchestrator] v11 forensic analysis failed for ${d.agentId}: ${He(W)}`)}}catch($){console.warn(`[Orchestrator] Depth/stream analysis failed for ${d.agentId}: ${He($)}`)}}catch(y){console.warn(`[Orchestrator] Benchmark analysis failed for ${d.agentId}: ${He(y)}`)}try{let y=wr(h.confidence),v=cyt(h,d.agentId,i,{maxPositionSize:d.config.maxPositionSize,maxPortfolioAllocation:d.config.maxPortfolioAllocation,riskTolerance:d.config.riskTolerance});console.log(`[Orchestrator] ${d.name} v12 validation: quality=${v.qualityScore.toFixed(3)} (${v.grade}), valid=${v.valid}, issues=${v.issues.length}`),y_e("trade_validated",{qualityScore:v.qualityScore,grade:v.grade,valid:v.valid,issueCount:v.issues.length,dimensions:v.dimensions.map(E=>({name:E.name,score:E.score,passed:E.passed}))},d.agentId);let S=lyt(h.reasoning,h.action);uyt(d.agentId,S),console.log(`[Orchestrator] ${d.name} taxonomy: ${S.fingerprint}, strategy=${S.strategy}, sophistication=${S.sophisticationLevel}/5, biases=${S.cognitivePatterns.length}`),y_e("taxonomy_classified",{fingerprint:S.fingerprint,strategy:S.strategy,analyticalMethod:S.analyticalMethod,reasoningStructure:S.reasoningStructure,sophisticationLevel:S.sophisticationLevel,cognitivePatterns:S.cognitivePatterns.map(E=>E.type),themes:S.themes,classificationConfidence:S.classificationConfidence},d.agentId);let w=h.intent??"value";dyt({agentId:d.agentId,roundId:t,symbol:h.symbol,action:h.action,confidence:y,reasoning:h.reasoning,intent:w,coherenceScore:v.dimensions.find(E=>E.name==="action_reasoning_alignment")?.score??.5,timestamp:new Date().toISOString()}),fyt(d.agentId,{financial:.5,reasoning:v.dimensions.find(E=>E.name==="reasoning_depth")?.score??.5,safety:v.dimensions.find(E=>E.name==="price_grounding")?.score??.5,calibration:v.dimensions.find(E=>E.name==="confidence_calibration")?.score??.5,patterns:S.sophisticationLevel/5,adaptability:.5,forensicQuality:v.dimensions.find(E=>E.name==="source_verification")?.score??.5,validationQuality:v.qualityScore,composite:v.qualityScore*.6+S.sophisticationLevel/5*.2+.5*.2,grade:v.grade,dominantStrategy:S.strategy,sophistication:S.sophisticationLevel,biasCount:S.cognitivePatterns.length,consistencyScore:.5,qualityTrend:"stable",anomalyCount:0,tradeCount:1,lastUpdated:new Date().toISOString()})}catch(y){console.warn(`[Orchestrator] v12 analysis failed for ${d.agentId}: ${He(y)}`)}let m=_Xe(d.agentId,h,f);n.push(...m.activations),m.allowed||console.log(`[Orchestrator] ${d.name} decision BLOCKED by circuit breaker`);let g=await a4r(d,m.decision,i,t);m.activations.length>0&&(g.executionDetails=g.executionDetails??{}),g.executed&&m.decision.action!=="hold"&&SXe(d.agentId),await pfe(d.agentId,`post-trade-${t}`).catch(y=>console.warn(`[Orchestrator] Post-trade snapshot failed for ${d.agentId}: ${He(y)}`)),a.push(g),await xXe()}catch(p){let f=`${d.name} failed: ${He(p)}`;console.error(`[Orchestrator] ${f}`),r.push(f),a.push({agentId:d.agentId,agentName:d.name,decision:{action:"hold",symbol:"SPYx",quantity:0,reasoning:`Agent error: ${f}`,confidence:0,timestamp:new Date().toISOString()},executed:!1,executionError:f})}let c=null;if(process.env.MEETING_OF_MINDS_ENABLED!=="false")try{c=await s1t(a,cq,i,t),console.log(`[Round] Meeting of Minds: ${c.consensus.type} \u2014 ${c.consensus.summary}`)}catch(d){console.error(`[Round] Meeting of Minds failed: ${He(d)}`)}if(process.env.LENDING_ENABLED==="true")try{let d=a.map(f=>({agentId:f.agentId,decision:f.decision})),p=await Y0t(t,d,i);(p.loansCreated>0||p.loansSettled>0)&&console.log(`[Orchestrator] Lending: ${p.loansCreated} new loans, ${p.loansSettled} settled, ${p.totalStonksBorrowed} $STONKS moved`)}catch(d){console.warn(`[Orchestrator] Lending phase failed (non-critical): ${He(d)}`)}let l=Date.now()-new Date(e).getTime();Adt(l),console.log(`[Orchestrator] Round ${t} complete. ${a.length} agents ran. ${r.length} errors. ${n.length} circuit breaker activations. Mode: ${Cy()}.`);try{Wut({roundId:t,results:a.map(d=>({agentId:d.agentId,agentName:d.agentName,action:d.decision.action,symbol:d.decision.symbol,confidence:d.decision.confidence,executed:d.executed})),errors:r,circuitBreakerActivations:n.length})}catch{}try{let d=a.filter(f=>f.decision.action!=="hold"),p=new Map;for(let f of d){let h=p.get(f.decision.symbol)??[];h.push(f),p.set(f.decision.symbol,h)}for(let[f,h]of p){let m=h.some(y=>y.decision.action==="buy"),g=h.some(y=>y.decision.action==="sell");m&&g&&Jut({roundId:t,symbol:f,agents:h.map(y=>({agentId:y.agentId,agentName:y.agentName,action:y.decision.action,confidence:y.decision.confidence}))})}}catch{}let u=Date.now()-new Date(e).getTime();try{let d={roundId:t,timestamp:e,durationMs:u,tradingMode:Cy(),results:a.map(p=>({agentId:p.agentId,agentName:p.agentName,action:p.decision.action,symbol:p.decision.symbol,quantity:p.decision.quantity,reasoning:p.decision.reasoning,confidence:p.decision.confidence,executed:p.executed,executionError:p.executionError,txSignature:p.executionDetails?.txSignature,filledPrice:p.executionDetails?.filledPrice,usdcAmount:p.executionDetails?.usdcAmount})),errors:r,circuitBreakerActivations:n.length,lockSkipped:!1,consensus:l4r(a),summary:u4r(a,r),meetingOfMinds:c?JSON.stringify(c):void 0,ttl:Math.floor(Date.now()/1e3)+7776e3};gdt(d),hdt({roundId:t,timestamp:e,durationMs:u,tradingMode:Cy(),results:a,errors:r,circuitBreakerActivations:n,lockSkipped:!1,meetingOfMinds:c?JSON.stringify(c):void 0}).catch(p=>console.warn(`[Orchestrator] DynamoDB persist failed: ${He(p)}`))}catch(d){console.warn(`[Orchestrator] Round caching failed: ${He(d)}`)}try{let d=i.find(p=>p.symbol==="SPYx");d?.change24h!==null&&d?.change24h!==void 0&&bdt(d.change24h)}catch{}opt(i).catch(d=>console.warn(`[Orchestrator] Outcome tracking failed: ${He(d)}`));try{let d=lpt(t);d&&console.log(`[Orchestrator] Round diffs: ${d.diffs.length} comparisons, avgDivergence=${d.stats.avgDivergence}, conflicts=${d.stats.actionConflictRate}`)}catch(d){console.warn(`[Orchestrator] Reasoning diffs failed: ${He(d)}`)}try{let d=a.map(p=>({agentId:p.agentId,action:p.decision.action,symbol:p.decision.symbol,reasoning:p.decision.reasoning,confidence:p.decision.confidence,timestamp:p.decision.timestamp??e}));Ept(t,d)}catch(d){console.warn(`[Orchestrator] Integrity proof failed: ${He(d)}`)}try{let d=a.map(p=>({agentId:p.agentId,agentName:p.agentName,compositeScore:p.decision.confidence/100,pnl:0,coherence:0,hallucinationRate:0}));Npt(t,d)}catch(d){console.warn(`[Orchestrator] Leaderboard evolution failed: ${He(d)}`)}try{let d=JT(i.map(p=>({symbol:p.symbol,price:p.price,change24h:p.change24h})));console.log(`[Orchestrator] Market regime: ${d.regime} (avg: ${d.avgChange}%, vol: ${d.changeStdDev.toFixed(2)})`),qc("regime_detected",{regime:d.regime,avgChange:d.avgChange,volatility:d.changeStdDev,stocksUp:d.stocksUp,stocksDown:d.stocksDown});for(let p of a)$pt(p.agentId,d.regime,.5,.5,!1,wr(p.decision.confidence),p.decision.action,t)}catch(d){console.warn(`[Orchestrator] Regime detection failed: ${He(d)}`)}try{let d=a.map(f=>({agentId:f.agentId,reasoning:f.decision.reasoning,action:f.decision.action,symbol:f.decision.symbol,confidence:wr(f.decision.confidence)})),p=kpt(d,t);console.log(`[Orchestrator] Peer review: ${p.reviews.length} reviews, disagreement=${(p.disagreementRate*100).toFixed(0)}%, best=${p.bestReviewed?.agentId??"none"} (${p.bestReviewed?.avgScore?.toFixed(2)??0})`),qc("peer_review",{reviewCount:p.reviews.length,disagreementRate:p.disagreementRate,bestReviewed:p.bestReviewed,mostControversial:p.mostControversial})}catch(d){console.warn(`[Orchestrator] Peer review failed: ${He(d)}`)}qc("round_completed",{roundId:t,agentCount:a.length,errorCount:r.length,tradingMode:Cy()});try{let d=a.map(h=>{let m=wr(h.decision.confidence);return{agentId:h.agentId,action:h.decision.action,symbol:h.decision.symbol,quantity:h.decision.quantity,reasoning:h.decision.reasoning,confidence:m,intent:h.decision.intent??"value",coherenceScore:uP(m),hallucinationCount:0,disciplinePass:!0,pnlPercent:0,depthScore:Math.min(1,gr(h.decision.reasoning)/n_t),originalityScore:.5}}),p=byt(t,d);console.log(`[Orchestrator] v13 battles: ${p.length} matchups, winners=${p.filter(h=>h.overallWinner).map(h=>h.overallWinner).join(",")}`);for(let h of p)S_e("battle_completed",{battleId:h.battleId,agentA:h.agentA.agentId,agentB:h.agentB.agentId,winner:h.overallWinner,margin:h.marginOfVictory,compositeA:h.compositeScoreA,compositeB:h.compositeScoreB,highlight:h.highlight,narrativePreview:h.narrative.slice(0,200)},h.overallWinner??void 0);let f=Ryt(a.map(h=>({agentId:h.agentId,reasoning:h.decision.reasoning})));for(let h of f)S_e("reasoning_compared",{agentA:h.agentAId,agentB:h.agentBId,winner:h.winner,scoreA:h.agentAScore,scoreB:h.agentBScore,summary:h.summary.slice(0,200)});qc("v13_battles",{roundId:t,battleCount:p.length,comparisonCount:f.length,highlights:xs(p,h=>h.highlight)})}catch(d){console.warn(`[Orchestrator] v13 battle generation failed: ${He(d)}`)}try{_1t(t,{agentCount:a.length,tradeCount:xs(a,p=>p.decision.action!=="hold"),avgCoherence:.5,hallucinationCount:0,tradingMode:Cy()});let d=a.map(p=>({agentId:p.agentId,compositeScore:wr(p.decision.confidence)}));C1t(d),E1t(t,a.length,a[0]?.agentId??null,0)}catch(d){console.warn(`[Orchestrator] Governance round finalization failed: ${He(d)}`)}try{for(let m of a){let g=wr(m.decision.confidence),y=i.find(I=>I.symbol.toLowerCase()===m.decision.symbol.toLowerCase());m.decision.predictedOutcome&&y&&Nyt({agentId:m.agentId,symbol:m.decision.symbol,action:m.decision.action,confidence:g,predictedOutcome:m.decision.predictedOutcome,priceAtPrediction:y.price,roundId:t,intent:m.decision.intent});let v=uP(g),S=Dyt(v,0,!0);kyt({agentId:m.agentId,confidence:g,outcome:S,coherenceScore:v,action:m.decision.action,symbol:m.decision.symbol,roundId:t,timestamp:new Date().toISOString()});let w=$yt(m.decision.reasoning),E=Uyt(m.decision.reasoning);Byt({agentId:m.agentId,roundId:t,symbol:m.decision.symbol,action:m.decision.action,confidence:g,intent:m.decision.intent??"value",sentimentScore:w,wordCount:gr(m.decision.reasoning),coherenceScore:v,keyPhrases:E,timestamp:new Date().toISOString()})}let d=new Map;for(let m of i)d.set(m.symbol,m.price),d.set(m.symbol.toLowerCase(),m.price);let p=Oyt(d);p.length>0&&console.log(`[Orchestrator] v14 resolved ${p.length} predictions. Correct: ${xs(p,m=>m.directionCorrect)}/${p.length}`);let f=a.map(m=>{let g=wr(m.decision.confidence);return{agentId:m.agentId,action:m.decision.action,symbol:m.decision.symbol,confidence:g,reasoning:m.decision.reasoning,coherenceScore:uP(g)}}),h=Vyt(t,f);console.log(`[Orchestrator] v14 consensus: ${h.consensusType}, agreement=${(h.agreementScore*100).toFixed(0)}%, contrarians=${h.contrarians.length}`);for(let m of a){let g=wr(m.decision.confidence);qyt(m.agentId,{financial:.5,reasoning:uP(g),safety:.8,calibration:.5,patterns:.5,adaptability:.5,forensicQuality:.5,validationQuality:.5,predictionAccuracy:.5,reasoningStability:e_t,composite:Zvt(g),grade:t_t(g),tradeCount:1,lastUpdated:new Date().toISOString()})}Wyt("round_analyzed",{roundId:t,agentCount:a.length,consensusType:h.consensusType,agreementScore:h.agreementScore,predictionsResolved:p.length,predictionsCorrect:xs(p,m=>m.directionCorrect)}),qc("benchmark_update",{version:"v14",roundId:t,consensusType:h.consensusType,agreement:h.agreementScore,predictionsResolved:p.length})}catch(d){console.warn(`[Orchestrator] v14 analysis failed: ${He(d)}`)}try{let d={};for(let v of i)d[v.symbol]={price:v.price,change24h:v.change24h};for(let v of a){let S=wr(v.decision.confidence),w=Zyt(v.agentId,v.decision.reasoning,v.decision.action,v.decision.symbol,S,d,t);ebt(w),tbt({agentId:v.agentId,action:v.decision.action,symbol:v.decision.symbol,reasoning:v.decision.reasoning,confidence:S,roundId:t,timestamp:new Date().toISOString()})}let p=a.map(v=>({agentId:v.agentId,action:v.decision.action,symbol:v.decision.symbol,reasoning:v.decision.reasoning,confidence:wr(v.decision.confidence),roundId:t,timestamp:new Date().toISOString()})),f=rbt(p);console.log(`[Orchestrator] v15 cross-model: herding=${ne(f.herdingScore)}, pairs=${f.similarities.length}, divergences=${f.divergencePoints.length}`);let h={roundId:t,agents:a.map(v=>({agentId:v.agentId,action:v.decision.action,confidence:v.decision.confidence,symbol:v.decision.symbol})),marketSnapshot:d},m={version:"v15",pillars:12,weights:{financial:.13,reasoning:.12,safety:.1,calibration:.09,patterns:.06,adaptability:.06,forensicQuality:.09,validationQuality:.09,predictionAccuracy:.07,reasoningStability:.06,provenanceIntegrity:.07,modelComparison:.06}},g={};for(let v of a){let S=wr(v.decision.confidence);g[v.agentId]={composite:Zvt(S)}}ibt({roundId:t,timestamp:Date.now(),inputs:h,scores:g,scoringConfig:m});let y=obt(t,h,g,m);console.log(`[Orchestrator] v15 reproducibility: deterministic=${y.deterministic}, matches=${y.priorRunMatches}, mismatches=${y.priorRunMismatches}`);for(let v of a){let S=wr(v.decision.confidence);cbt(v.agentId,{financial:.5,reasoning:uP(S),safety:.8,calibration:.5,patterns:.5,adaptability:.5,forensicQuality:.5,validationQuality:.5,predictionAccuracy:.5,reasoningStability:e_t,provenanceIntegrity:y.deterministic?1:.5,modelComparison:1-f.herdingScore,composite:S*qTr+WTr,grade:t_t(S),tradeCount:1,lastUpdated:new Date().toISOString()})}U_e("round_analyzed",{roundId:t,agentCount:a.length,herdingScore:f.herdingScore,divergenceCount:f.divergencePoints.length,reproducible:y.deterministic}),qc("benchmark_update",{version:"v15",roundId:t,herdingScore:f.herdingScore,reproducible:y.deterministic,provenanceProofs:a.length})}catch(d){console.warn(`[Orchestrator] v15 analysis failed: ${He(d)}`)}try{for(let f of a){let h=wr(f.decision.confidence),m=vbt(f.decision.reasoning),g=ybt(f.decision.reasoning),y=f.decision.intent??Wa(f.decision.reasoning,f.decision.action);bbt({agentId:f.agentId,reasoning:f.decision.reasoning,action:f.decision.action,symbol:f.decision.symbol,confidence:h,intent:y,coherenceScore:c6(h),roundId:t,timestamp:new Date().toISOString()}),hbt(f.agentId,{coherence:c6(h),hallucinationFree:.9,discipline:!0,confidence:h,reasoning:f.decision.reasoning,action:f.decision.action,depth:m.overall,forensicScore:.5,validationScore:.5}),console.log(`[Orchestrator] v16 ${f.agentId}: depth=${ne(m.overall)} (${m.classification}), efficiency=${ne(g.composite)}, angles=${m.anglesDetected.length}`)}let d=a.map(f=>({agentId:f.agentId,score:gbt(f.agentId)})),p=(f,h)=>f.find(m=>m.name===h)?.score??0;Sbt("round_analyzed",{roundId:t,agentCount:a.length,scores:d.map(f=>({agentId:f.agentId,composite:f.score.composite,grade:f.score.grade,metacognition:p(f.score.pillars,"metacognition"),efficiency:p(f.score.pillars,"efficiency")}))}),console.log(`[Orchestrator] v16 round complete: ${d.map(f=>`${f.agentId}=${f.score.composite.toFixed(3)}(${f.score.grade})`).join(", ")}`)}catch(d){console.warn(`[Orchestrator] v16 analysis failed: ${He(d)}`)}try{let d={};for(let m of i)d[m.symbol]=m.price;let p=a.map(m=>m.agentId),f=(()=>{let m=a.filter(v=>v.decision.action!=="hold").map(v=>v.decision.action),g=xs(m,v=>v==="buy"),y=xs(m,v=>v==="sell");return g>y?"buy":y>g?"sell":null})();for(let m of a){let g=wr(m.decision.confidence),y=m.decision.intent??Wa(m.decision.reasoning,m.decision.action),v=m.decision.sources??md(m.decision.reasoning),S=Obt({agentId:m.agentId,roundId:t,action:m.decision.action,symbol:m.decision.symbol,quantity:m.decision.quantity,reasoning:m.decision.reasoning,confidence:g,intent:y,sources:v,predictedOutcome:m.decision.predictedOutcome??null,marketPrices:d,coherenceScore:c6(g),hallucinationFlags:[],disciplinePass:!0,depthScore:Math.min(1,gr(m.decision.reasoning)/n_t),forensicScore:.5,efficiencyScore:.5,witnesses:p.filter(I=>I!==m.agentId)});Mbt({agentId:m.agentId,action:m.decision.action,symbol:m.decision.symbol,quantity:m.decision.quantity,confidence:g,coherenceScore:c6(g),hallucinationCount:0,intent:y,reasoning:m.decision.reasoning,roundId:t,consensusAction:f,marketVolatility:.02,pnlAfter:null,timestamp:new Date().toISOString()});let w=Lbt(m.agentId),E=lP(m.agentId);Tbt(m.agentId,E?.provider??"unknown",E?.model??"unknown",{financial:.5,reasoning:c6(g),safety:.8,calibration:.5,patterns:.5,adaptability:.5,forensic_quality:.5,validation_quality:.5,prediction_accuracy:.5,reasoning_stability:.7,provenance_integrity:.8,model_comparison:.5,metacognition:g*JTr+KTr,reasoning_efficiency:Math.min(1,gr(m.decision.reasoning)/t4r),forensic_ledger:S?.9:.3,strategy_genome:w},t),console.log(`[Orchestrator] v17 ${m.agentId}: ledger=${S.entryHash.slice(0,12)}..., genome=${w.toFixed(2)}`)}let h=a.map(m=>({agentId:m.agentId,composite:m.decision.confidence>1?m.decision.confidence/XTr+r_t:m.decision.confidence*QTr+r_t}));Rbt(h),$bt("round_analyzed",{roundId:t,agentCount:a.length,version:"v17",pillars:16}),console.log(`[Orchestrator] v17 round complete: ${a.length} agents scored, ledger + genome updated`)}catch(d){console.warn(`[Orchestrator] v17 analysis failed: ${He(d)}`)}try{let d={},p={},f=0,h=0,m=0;for(let w of a){let E=wr(w.decision.confidence),I=w.decision.intent??Wa(w.decision.reasoning,w.decision.action),D=c6(E),k=gr(w.decision.reasoning),P=zbt(w.agentId,w.decision.reasoning,w.decision.action,w.decision.symbol,E,0,{priceDirection:w.decision.action==="buy"?"up":w.decision.action==="sell"?"down":"flat",newsDirection:"neutral",hasZeroVolume:!1,hasMissingData:!1,hasExtremeMove:!1});Hbt(w.agentId,{overallScore:P.overallScore,vulnerabilities:P.vulnerabilities,signalConflictScore:P.signalConflict.score,anchoringScore:P.anchoring.score,edgeCaseScore:P.edgeCases.score,framingScore:P.framing.score},t),Vbt({agentId:w.agentId,action:w.decision.action,symbol:w.decision.symbol,reasoning:w.decision.reasoning,confidence:E,roundId:t,timestamp:new Date().toISOString()});let $=w.decision.reasoning.toLowerCase().replace(/[^a-z0-9]/g,"").slice(0,50);qbt({agentId:w.agentId,roundId:t,symbol:w.decision.symbol,action:w.decision.action,confidence:E,coherenceScore:D,hallucinationCount:0,intent:I,wasCorrect:null,reasoningFingerprint:$,timestamp:new Date().toISOString()}),d[w.agentId]=E*YTr+D*ZTr+P.overallScore*e4r,f+=D,m+=k,console.log(`[Orchestrator] v18 ${w.agentId}: adversarial=${P.overallScore.toFixed(2)}, vulns=${P.vulnerabilities.length}`)}let g=Object.keys(d),y=Object.values(d),v=y.length>0?y.reduce((w,E)=>w+E,0)/y.length:0,S=y.length>1?Math.sqrt(y.reduce((w,E)=>w+(E-v)**2,0)/y.length):0;Qbt({timestamp:new Date().toISOString(),agentScores:d,pillarAverages:p,coherenceAvg:a.length>0?f/a.length:0,hallucinationRate:a.length>0?h/a.length:0,avgReasoningLength:a.length>0?m/a.length:0,agentScoreSpread:he(S),calibrationAvg:.5}),evt("round_analyzed",{roundId:t,agentCount:a.length,version:"v18",pillars:18}),console.log(`[Orchestrator] v18 round complete: ${a.length} agents \u2014 adversarial + memory + regression recorded`)}catch(d){console.warn(`[Orchestrator] v18 analysis failed: ${He(d)}`)}try{for(let d of a){let p=d.decision,f=wr(p.confidence),h=p.sources??md(p.reasoning);ovt(d.agentId,t,p.action,p.symbol,p.reasoning,f,h),avt(d.agentId,t,p.symbol,p.action,p.reasoning,f),uvt(d.agentId,t,p.action,p.symbol,p.reasoning,f,h)}mvt("round_analyzed",{roundId:t,agentCount:a.length,version:"v20",pillars:24}),console.log(`[Orchestrator] v20 round complete: ${a.length} agents \u2014 transparency + accountability + certification recorded`)}catch(d){console.warn(`[Orchestrator] v20 analysis failed: ${He(d)}`)}try{for(let d of a){let p=d.decision,f=wr(p.confidence),h=p.sources??md(p.reasoning),m=p.intent??Wa(p.reasoning,p.action),g=gvt(p.reasoning,p.action,p.symbol);yvt(d.agentId,g),xvt(d.agentId,{action:p.action,symbol:p.symbol,reasoning:p.reasoning,confidence:f,intent:m,sources:h,coherenceScore:.5})}Evt("round_analyzed",{roundId:t,agentCount:a.length,version:"v21",pillars:26}),console.log(`[Orchestrator] v21 round complete: ${a.length} agents \u2014 chain validation + strategy profiling recorded`)}catch(d){console.warn(`[Orchestrator] v21 analysis failed: ${He(d)}`)}try{let d=[],p={};for(let f of a)p[f.agentId]=a.filter(h=>h.agentId!==f.agentId).map(h=>({agentId:h.agentId,action:h.decision.action,symbol:h.decision.symbol,reasoning:h.decision.reasoning,confidence:wr(h.decision.confidence)}));for(let f of a){let h=f.decision,m=wr(h.confidence),g=h.sources??md(h.reasoning),y=h.intent??Wa(h.reasoning,h.action),v=`v22_${t}_${f.agentId}`;Cvt({tradeId:v,agentId:f.agentId,roundId:t,action:h.action,symbol:h.symbol,quantity:h.quantity,reasoning:h.reasoning,confidence:m,intent:y,sources:g,predictedOutcome:h.predictedOutcome}),d.push(v);let S=Pvt(h.reasoning,i,g);kvt(v,f.agentId,t,S);let w=Fvt(h.reasoning,h.action,m,i,p[f.agentId]??[]);zvt(v,f.agentId,t,w)}Nvt(t,d),Vvt("round_analyzed",{roundId:t,agentCount:a.length,version:"v22",pillars:28,tradeFingerprints:d.length}),console.log(`[Orchestrator] v22 round complete: ${a.length} agents \u2014 integrity + grounding + bias detection recorded`)}catch(d){console.warn(`[Orchestrator] v22 analysis failed: ${He(d)}`)}try{let d=a.map(p=>({agentId:p.agentId,action:p.decision.action,symbol:p.decision.symbol,reasoning:p.decision.reasoning,confidence:wr(p.decision.confidence),predictedOutcome:p.decision.predictedOutcome}));for(let p of a){let f=p.decision,h=wr(f.confidence),m=d.find(E=>E.agentId===p.agentId);if(!m)continue;let g=qa(f.reasoning,f.action,i),y=jc(f.reasoning,i),v=Ny({action:f.action,symbol:f.symbol,quantity:f.quantity,confidence:h},s6,a6),S=hb(f.reasoning),w=gb(f.reasoning,f.sources??[]);jvt(t,m,d,g.score,1-y.severity,v.passed,S.depthScore,w.qualityScore)}console.log(`[Orchestrator] v25 round complete: ${a.length} agents \u2014 outcome prediction + consensus intelligence recorded`)}catch(d){console.warn(`[Orchestrator] v25 analysis failed: ${He(d)}`)}try{for(let d of a){let p=d.decision,f=wr(p.confidence),h=a.filter(P=>P.agentId===d.agentId&&P!==d).map(P=>({action:P.decision.action,symbol:P.decision.symbol,reasoning:P.decision.reasoning,outcome:P.executed?"executed":"failure",coherenceScore:qa(P.decision.reasoning,P.decision.action,i).score})),m=Jvt(p.reasoning,h),g=Kvt(p.reasoning);Xvt(d.agentId,m,g);let y=qa(p.reasoning,p.action,i),v=jc(p.reasoning,i),S=Ny({action:p.action,symbol:p.symbol,quantity:p.quantity,confidence:f},s6,a6),w=hb(p.reasoning),E=gb(p.reasoning,p.sources??[]),I={pnl:.5,coherence:y.score,hallucinationFree:1-v.severity,discipline:S.passed?1:Math.max(0,1-S.violations.length*.25),calibration:.5,predictionAccuracy:.5,reasoningDepth:w.depthScore,sourceQuality:E.qualityScore,outcomePrediction:.5,consensusIntelligence:.5,strategyGenome:.5,riskRewardDiscipline:.5,executionQuality:.5,crossRoundLearning:.5,tradeAccountability:m.accountabilityScore,reasoningQualityIndex:g.rqiScore},{composite:D,grade:k}=Qvt(I);Yvt(d.agentId,{...I,composite:D,grade:k})}console.log(`[Orchestrator] v28 round complete: ${a.length} agents \u2014 accountability + RQI recorded`)}catch(d){console.warn(`[Orchestrator] v28 analysis failed: ${He(d)}`)}try{let d=[],p={};for(let g of i)p[g.symbol]=g.price;let f=a.map(g=>({agentId:g.agentId,action:g.decision.action,symbol:g.decision.symbol}));for(let g of a){let y=g.decision,v=wr(y.confidence),S=qa(y.reasoning,y.action,i),w=jc(y.reasoning,i),E=Ny({action:y.action,symbol:y.symbol,quantity:y.quantity,confidence:v},s6,a6),I=y.sources??md(y.reasoning),D=y.intent??Wa(y.reasoning,y.action),k=k1t({agentId:g.agentId,roundId:t,symbol:y.symbol,action:y.action,reasoning:y.reasoning,confidence:v,intent:D,coherenceScore:S.score,hallucinationFlags:w.flags,disciplinePassed:E.passed,sources:I,predictedOutcome:y.predictedOutcome??null,previousPredictions:[],marketPrices:p,peerActions:f.filter(P=>P.agentId!==g.agentId)});d.push(k)}let h=[];for(let g of a){let y=lP(g.agentId);if(!y)continue;let v=d.filter(w=>w.agentId===g.agentId),S=D1t({agentId:g.agentId,agentName:y.name,provider:y.provider,model:y.model,trades:v,pnlPercent:0,sharpeRatio:0,maxDrawdown:0});h.push(S)}let m=JT(i).regime??"unknown";M1t(t,h,d,m),console.log(`[Orchestrator] v33 round complete: ${a.length} agents \u2014 26-dimension causal + epistemic scoring recorded`)}catch(d){console.warn(`[Orchestrator] v33 analysis failed: ${He(d)}`)}try{let d=[],p=a.map(y=>y.decision.reasoning),f={};for(let y of i)f[y.symbol]=y.price;let h=a.map(y=>({agentId:y.agentId,action:y.decision.action,symbol:y.decision.symbol}));for(let y of a){let v=y.decision,S=wr(v.confidence),w=v.action,E=qa(v.reasoning,w,i),I=jc(v.reasoning,i),D=Ny(v,s6,a6),k=v.sources??md(v.reasoning),P=v.intent??Wa(v.reasoning,v.action),$=p.filter((W,N)=>a[N].agentId!==y.agentId),H=L1t({agentId:y.agentId,roundId:t,symbol:v.symbol,action:v.action,reasoning:v.reasoning,confidence:S,intent:P,coherenceScore:E.score,hallucinationFlags:I.flags,disciplinePassed:D.passed,sources:k,predictedOutcome:v.predictedOutcome??null,previousPredictions:[],marketPrices:f,peerActions:h.filter(W=>W.agentId!==y.agentId),peerReasonings:$});d.push(H)}let m=[];for(let y of a){let v=lP(y.agentId);if(!v)continue;let S=d.filter(E=>E.agentId===y.agentId),w=B1t({agentId:y.agentId,agentName:v.name,provider:v.provider,model:v.model,trades:S,pnlPercent:0,sharpeRatio:0,maxDrawdown:0});m.push(w)}let g=JT(i).regime??"unknown";$1t(t,m,d,g),console.log(`[Orchestrator] v35 round complete: ${a.length} agents \u2014 30-dimension info asymmetry + temporal reasoning scoring recorded`)}catch(d){console.warn(`[Orchestrator] v35 analysis failed: ${He(d)}`)}try{let d=[],p={};for(let y of i)p[y.symbol.toLowerCase()]=y.price;let f=a.map(y=>({agentId:y.agentId,action:y.decision.action,symbol:y.decision.symbol})),h=a.map(y=>y.decision.reasoning);for(let y of a){let v=y.decision,S=wr(v.confidence),w=qa(v.reasoning,v.action,i),E=jc(v.reasoning,i),I=Ny({action:v.action,symbol:v.symbol,quantity:v.quantity,confidence:S},s6,a6),D=v.sources??md(v.reasoning),k=v.intent??Wa(v.reasoning,v.action),P=h.filter((H,W)=>a[W].agentId!==y.agentId),$=U1t({agentId:y.agentId,roundId:t,symbol:v.symbol,action:v.action,reasoning:v.reasoning,confidence:S,intent:k,coherenceScore:w.score,hallucinationFlags:E.flags,disciplinePassed:I.passed,sources:D,predictedOutcome:v.predictedOutcome??null,previousPredictions:[],marketPrices:p,peerActions:f.filter(H=>H.agentId!==y.agentId),peerReasonings:P});d.push($)}let m=[];for(let y of a){let v=lP(y.agentId);if(!v)continue;let S=d.filter(E=>E.agentId===y.agentId),w=F1t({agentId:y.agentId,agentName:v.name,provider:v.provider,model:v.model,trades:S,pnlPercent:0,sharpeRatio:0,maxDrawdown:0});m.push(w)}let g=JT(i).regime??"unknown";z1t(t,m,d,g),console.log(`[Orchestrator] v36 round complete: ${a.length} agents \u2014 32-dimension reasoning auditability + decision reversibility scoring recorded`)}catch(d){console.warn(`[Orchestrator] v36 analysis failed: ${He(d)}`)}try{let d=[],p={};for(let y of i)p[y.symbol.toLowerCase()]=y.price;let f=a.map(y=>({agentId:y.agentId,action:y.decision.action,symbol:y.decision.symbol})),h=a.map(y=>y.decision.reasoning);for(let y of a){let v=y.decision,S=wr(v.confidence),w=qa(v.reasoning,v.action,i),E=jc(v.reasoning,i),I=Ny({action:v.action,symbol:v.symbol,quantity:v.quantity,confidence:S},s6,a6),D=v.sources??md(v.reasoning),k=v.intent??Wa(v.reasoning,v.action),P=h.filter((H,W)=>a[W].agentId!==y.agentId),$=H1t({agentId:y.agentId,roundId:t,symbol:v.symbol,action:v.action,reasoning:v.reasoning,confidence:S,intent:k,coherenceScore:w.score,hallucinationFlags:E.flags,disciplinePassed:I.passed,sources:D,predictedOutcome:v.predictedOutcome??null,previousPredictions:[],marketPrices:p,peerActions:f.filter(H=>H.agentId!==y.agentId),peerReasonings:P,quantity:v.quantity??0});d.push($)}let m=[];for(let y of a){let v=lP(y.agentId);if(!v)continue;let S=d.filter(E=>E.agentId===y.agentId),w=V1t({agentId:y.agentId,agentName:v.name,provider:v.provider,model:v.model,trades:S,pnlPercent:0,sharpeRatio:0,maxDrawdown:0});m.push(w)}let g=JT(i).regime??"unknown";G1t(t,m,d,g),console.log(`[Orchestrator] v37 round complete: ${a.length} agents \u2014 34-dimension reasoning composability + strategic foresight scoring recorded`)}catch(d){console.warn(`[Orchestrator] v37 analysis failed: ${He(d)}`)}return{roundId:t,timestamp:e,results:a,errors:r,circuitBreakerActivations:n,lockSkipped:!1}}function l4r(t){let e=t.filter(o=>o.decision.action!=="hold");if(e.length===0)return"no_trades";let r=e.map(o=>o.decision.action),n=xs(r,o=>o==="buy"),i=xs(r,o=>o==="sell");return n===e.length||i===e.length?"unanimous":n>i&&n>1||i>n&&i>1?"majority":"split"}function u4r(t,e){let r=[];for(let n of t){let i=n.executed?"OK":"FAIL";r.push(`${n.agentName}: ${n.decision.action.toUpperCase()} ${n.decision.symbol} (${n.decision.confidence}%) ${i}`)}return e.length>0&&r.push(`${e.length} error(s)`),r.join(" | ")}var d4r={AAPLx:178.5,AMZNx:185.2,GOOGLx:142.8,METAx:505.3,MSFTx:415.6,NVDAx:890.5,TSLAx:245.8,SPYx:502.1,QQQx:435.7,COINx:205.4,CRCLx:32.15,MSTRx:1685,AVGOx:168.9,JPMx:198.5,HOODx:22.8,LLYx:785.2,CRMx:272.6,NFLXx:628.9,PLTRx:24.5,GMEx:17.8};function p4r(t){let e=d4r[t]??100,r=1+(Math.random()-.5)*.04;return ne(e*r)}function f4r(){return ne((Math.random()-.5)*10)}function m4r(){return Math.round((10+Math.random()*490)*1e6)}Ci();async function p4i(t){console.log("[TradingLambda] Received event:",JSON.stringify(t));let e=Date.now();try{let r=await i_t(),n=Date.now()-e;console.log(`[TradingLambda] Round ${r.roundId} completed in ${n}ms`),console.log(`[TradingLambda] Results: ${r.results.length} agents, ${r.errors.length} errors`);for(let i of r.results)console.log(`[TradingLambda] ${i.agentName}: ${i.decision.action} ${i.decision.symbol} (confidence: ${i.decision.confidence}%, executed: ${i.executed})`);return{statusCode:200,body:JSON.stringify({roundId:r.roundId,timestamp:r.timestamp,durationMs:n,agentCount:r.results.length,errorCount:r.errors.length,decisions:r.results.map(i=>({agent:i.agentName,action:i.decision.action,symbol:i.decision.symbol,confidence:i.decision.confidence,executed:i.executed}))})}}catch(r){let n=Date.now()-e,i=He(r);return console.error(`[TradingLambda] Fatal error after ${n}ms: ${i}`),{statusCode:500,body:JSON.stringify({error:"trading_round_failed",message:i,durationMs:n})}}}export{p4i as handler};
/*! Bundled license information:

@neondatabase/serverless/index.mjs:
  (*! Bundled license information:
  
  ieee754/index.js:
    (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  
  buffer/index.js:
    (*!
     * The buffer module from node.js, for the browser.
     *
     * @author   Feross Aboukhadijeh <https://feross.org>
     * @license  MIT
     *)
  *)

@noble/hashes/esm/utils.js:
@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

reflect-metadata/Reflect.js:
  (*! *****************************************************************************
  Copyright (C) Microsoft. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** *)

pvtsutils/build/index.es.js:
  (*!
   * MIT License
   * 
   * Copyright (c) 2017-2024 Peculiar Ventures, LLC
   * 
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   * 
   * The above copyright notice and this permission notice shall be included in all
   * copies or substantial portions of the Software.
   * 
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
   * SOFTWARE.
   * 
   *)

pvutils/build/utils.es.js:
  (*!
   Copyright (c) Peculiar Ventures, LLC
  *)

asn1js/build/index.es.js:
  (*!
   * Copyright (c) 2014, GMO GlobalSign
   * Copyright (c) 2015-2022, Peculiar Ventures
   * All rights reserved.
   * 
   * Author 2014-2019, Yury Strozhevsky
   * 
   * Redistribution and use in source and binary forms, with or without modification,
   * are permitted provided that the following conditions are met:
   * 
   * * Redistributions of source code must retain the above copyright notice, this
   *   list of conditions and the following disclaimer.
   * 
   * * Redistributions in binary form must reproduce the above copyright notice, this
   *   list of conditions and the following disclaimer in the documentation and/or
   *   other materials provided with the distribution.
   * 
   * * Neither the name of the copyright holder nor the names of its
   *   contributors may be used to endorse or promote products derived from
   *   this software without specific prior written permission.
   * 
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
   * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
   * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
   * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
   * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
   * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
   * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
   * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
   * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   * 
   *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

@peculiar/x509/build/x509.es.js:
  (*!
   * MIT License
   * 
   * Copyright (c) Peculiar Ventures. All rights reserved.
   * 
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   * 
   * The above copyright notice and this permission notice shall be included in all
   * copies or substantial portions of the Software.
   * 
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
   * SOFTWARE.
   * 
   *)

@turnkey/api-key-stamper/dist/tink/bytes.mjs:
  (**
   * Code modified from https://github.com/google/tink/blob/6f74b99a2bfe6677e3670799116a57268fd067fa/javascript/subtle/bytes.ts
   *
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   *)

@turnkey/api-key-stamper/dist/tink/elliptic_curves.mjs:
  (**
   * Code modified from https://github.com/google/tink/blob/6f74b99a2bfe6677e3670799116a57268fd067fa/javascript/subtle/elliptic_curves.ts
   * - The implementation of integerToByteArray has been modified to augment the resulting byte array to a certain length.
   * - The implementation of PointDecode has been modified to decode both compressed and uncompressed points by checking for correct format
   * - Method isP256CurvePoint added to check whether an uncompressed point is valid
   *
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   *)

@noble/curves/esm/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/nist.js:
@noble/curves/esm/p256.js:
@noble/curves/esm/abstract/edwards.js:
@noble/curves/esm/ed25519.js:
@noble/curves/esm/secp256k1.js:
@noble/curves/esm/abstract/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@solana/buffer-layout/lib/Layout.js:
  (**
   * Support for translating between Uint8Array instances and JavaScript
   * native types.
   *
   * {@link module:Layout~Layout|Layout} is the basis of a class
   * hierarchy that associates property names with sequences of encoded
   * bytes.
   *
   * Layouts are supported for these scalar (numeric) types:
   * * {@link module:Layout~UInt|Unsigned integers in little-endian
   *   format} with {@link module:Layout.u8|8-bit}, {@link
   *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
   *   {@link module:Layout.u32|32-bit}, {@link
   *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
   *   format} with {@link module:Layout.u16be|16-bit}, {@link
   *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
   *   {@link module:Layout.u40be|40-bit}, and {@link
   *   module:Layout.u48be|48-bit} representation ranges;
   * * {@link module:Layout~Int|Signed integers in little-endian
   *   format} with {@link module:Layout.s8|8-bit}, {@link
   *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
   *   {@link module:Layout.s32|32-bit}, {@link
   *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~IntBE|Signed integers in big-endian format}
   *   with {@link module:Layout.s16be|16-bit}, {@link
   *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
   *   {@link module:Layout.s40be|40-bit}, and {@link
   *   module:Layout.s48be|48-bit} representation ranges;
   * * 64-bit integral values that decode to an exact (if magnitude is
   *   less than 2^53) or nearby integral Number in {@link
   *   module:Layout.nu64|unsigned little-endian}, {@link
   *   module:Layout.nu64be|unsigned big-endian}, {@link
   *   module:Layout.ns64|signed little-endian}, and {@link
   *   module:Layout.ns64be|unsigned big-endian} encodings;
   * * 32-bit floating point values with {@link
   *   module:Layout.f32|little-endian} and {@link
   *   module:Layout.f32be|big-endian} representations;
   * * 64-bit floating point values with {@link
   *   module:Layout.f64|little-endian} and {@link
   *   module:Layout.f64be|big-endian} representations;
   * * {@link module:Layout.const|Constants} that take no space in the
   *   encoded expression.
   *
   * and for these aggregate types:
   * * {@link module:Layout.seq|Sequence}s of instances of a {@link
   *   module:Layout~Layout|Layout}, with JavaScript representation as
   *   an Array and constant or data-dependent {@link
   *   module:Layout~Sequence#count|length};
   * * {@link module:Layout.struct|Structure}s that aggregate a
   *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
   *   instances, with JavaScript representation as an Object;
   * * {@link module:Layout.union|Union}s that support multiple {@link
   *   module:Layout~VariantLayout|variant layouts} over a fixed
   *   (padded) or variable (not padded) span of bytes, using an
   *   unsigned integer at the start of the data or a separate {@link
   *   module:Layout.unionLayoutDiscriminator|layout element} to
   *   determine which layout to use when interpreting the buffer
   *   contents;
   * * {@link module:Layout.bits|BitStructure}s that contain a sequence
   *   of individual {@link
   *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
   *   16, 24, or 32-bit unsigned integer starting at the least- or
   *   most-significant bit;
   * * {@link module:Layout.cstr|C strings} of varying length;
   * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
   *   module:Layout~Blob#length|length} raw data.
   *
   * All {@link module:Layout~Layout|Layout} instances are immutable
   * after construction, to prevent internal state from becoming
   * inconsistent.
   *
   * @local Layout
   * @local ExternalLayout
   * @local GreedyCount
   * @local OffsetLayout
   * @local UInt
   * @local UIntBE
   * @local Int
   * @local IntBE
   * @local NearUInt64
   * @local NearUInt64BE
   * @local NearInt64
   * @local NearInt64BE
   * @local Float
   * @local FloatBE
   * @local Double
   * @local DoubleBE
   * @local Sequence
   * @local Structure
   * @local UnionDiscriminator
   * @local UnionLayoutDiscriminator
   * @local Union
   * @local VariantLayout
   * @local BitStructure
   * @local BitField
   * @local Boolean
   * @local Blob
   * @local CString
   * @local Constant
   * @local bindConstructorLayout
   * @module Layout
   * @license MIT
   * @author Peter A. Bigot
   * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
   *)

@solana/web3.js/lib/index.esm.js:
  (*!
   * humanize-ms - index.js
   * Copyright(c) 2014 dead_horse <dead_horse@qq.com>
   * MIT Licensed
   *)

decimal.js/decimal.mjs:
  (*!
   *  decimal.js v10.6.0
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   *)

aes-js/lib.esm/aes.js:
  (*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. *)
*/
//# sourceMappingURL=index.mjs.map
