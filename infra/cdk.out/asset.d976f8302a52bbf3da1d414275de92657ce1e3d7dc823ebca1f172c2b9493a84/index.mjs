import{createRequire}from'module';const require=createRequire(import.meta.url);
var xtt=Object.create;var cT=Object.defineProperty;var Att=Object.getOwnPropertyDescriptor;var Ett=Object.getOwnPropertyNames;var Rtt=Object.getPrototypeOf,Ttt=Object.prototype.hasOwnProperty;var St=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var g=(t,e)=>()=>(t&&(e=t(t=0)),e);var Le=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),lr=(t,e)=>{for(var r in e)cT(t,r,{get:e[r],enumerable:!0})},ede=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Ett(e))!Ttt.call(t,i)&&i!==r&&cT(t,i,{get:()=>e[i],enumerable:!(n=Att(e,i))||n.enumerable});return t};var Ni=(t,e,r)=>(r=t!=null?xtt(Rtt(t)):{},ede(e||!t||!t.__esModule?cT(r,"default",{value:t,enumerable:!0}):r,t)),cL=t=>ede(cT({},"__esModule",{value:!0}),t);var nc,ic,qme=g(()=>{"use strict";nc=t=>({setHttpHandler(e){t.httpHandler=e},httpHandler(){return t.httpHandler},updateHttpClientConfig(e,r){t.httpHandler?.updateHttpClientConfig(e,r)},httpHandlerConfigs(){return t.httpHandler.httpHandlerConfigs()}}),ic=t=>({httpHandler:t.httpHandler()})});var Hme=g(()=>{"use strict";qme()});var Wme=g(()=>{"use strict"});var Gme,Kme=g(()=>{"use strict";(function(t){t.HEADER="header",t.QUERY="query"})(Gme||(Gme={}))});var Yme,Jme=g(()=>{"use strict";(function(t){t.HEADER="header",t.QUERY="query"})(Yme||(Yme={}))});var Qme=g(()=>{"use strict"});var Zme=g(()=>{"use strict"});var Xme=g(()=>{"use strict"});var efe=g(()=>{"use strict"});var tfe=g(()=>{"use strict";Kme();Jme();Qme();Zme();Xme();efe()});var rfe=g(()=>{"use strict"});var nfe=g(()=>{"use strict"});var ife=g(()=>{"use strict"});var ofe=g(()=>{"use strict"});var sfe=g(()=>{"use strict"});var afe=g(()=>{"use strict"});var cfe=g(()=>{"use strict"});var lfe=g(()=>{"use strict";sfe();afe();cfe()});var ufe=g(()=>{"use strict"});var dfe=g(()=>{"use strict"});var Ub,pfe=g(()=>{"use strict";(function(t){t.HTTP="http",t.HTTPS="https"})(Ub||(Ub={}))});var mfe=g(()=>{"use strict"});var ffe=g(()=>{"use strict"});var hfe=g(()=>{"use strict"});var gfe=g(()=>{"use strict"});var yfe=g(()=>{"use strict"});var bfe=g(()=>{"use strict";mfe();ffe();hfe();gfe();yfe()});var vfe=g(()=>{"use strict"});var Fb,_fe=g(()=>{"use strict";(function(t){t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256"})(Fb||(Fb={}))});var Sfe=g(()=>{"use strict"});var wfe=g(()=>{"use strict"});var xfe=g(()=>{"use strict";Sfe();wfe();_fe()});var Afe=g(()=>{"use strict"});var Efe,Rfe=g(()=>{"use strict";(function(t){t[t.HEADER=0]="HEADER",t[t.TRAILER=1]="TRAILER"})(Efe||(Efe={}))});var Tfe=g(()=>{"use strict"});var Ife=g(()=>{"use strict"});var Cfe=g(()=>{"use strict"});var Ofe=g(()=>{"use strict"});var Nfe=g(()=>{"use strict"});var Pfe=g(()=>{"use strict";Ife();Cfe();Ofe();Nfe()});var kfe=g(()=>{"use strict"});var Qw,Dfe=g(()=>{"use strict";Qw="__smithy_context"});var Mfe=g(()=>{"use strict"});var qd,$fe=g(()=>{"use strict";(function(t){t.PROFILE="profile",t.SSO_SESSION="sso-session",t.SERVICES="services"})(qd||(qd={}))});var Lfe=g(()=>{"use strict"});var Bfe=g(()=>{"use strict"});var Ufe=g(()=>{"use strict"});var Ffe=g(()=>{"use strict"});var zfe=g(()=>{"use strict"});var Vfe=g(()=>{"use strict"});var jfe=g(()=>{"use strict"});var qfe=g(()=>{"use strict"});var Hfe=g(()=>{"use strict"});var Wfe=g(()=>{"use strict"});var Gfe=g(()=>{"use strict"});var Kfe=g(()=>{"use strict"});var Yfe=g(()=>{"use strict"});var Jfe=g(()=>{"use strict"});var Qfe,Zfe=g(()=>{"use strict";(function(t){t.HTTP_0_9="http/0.9",t.HTTP_1_0="http/1.0",t.TDS_8_0="tds/8.0"})(Qfe||(Qfe={}))});var Xfe=g(()=>{"use strict"});var ehe=g(()=>{"use strict"});var the=g(()=>{"use strict"});var rhe=g(()=>{"use strict"});var nhe=g(()=>{"use strict"});var ihe=g(()=>{"use strict"});var ohe=g(()=>{"use strict"});var rf=g(()=>{"use strict";Wme();tfe();rfe();nfe();ife();ofe();lfe();ufe();dfe();pfe();bfe();vfe();xfe();Afe();Rfe();Tfe();Pfe();kfe();Dfe();Mfe();$fe();Lfe();Bfe();Ufe();Ffe();zfe();Vfe();jfe();qfe();Hfe();Wfe();Gfe();Kfe();Yfe();Jfe();Zfe();Xfe();ehe();the();rhe();nhe();ihe();ohe()});var she=g(()=>{"use strict"});var ahe=g(()=>{"use strict"});var che=g(()=>{"use strict"});function fit(t){return Object.keys(t).reduce((e,r)=>{let n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}var Or,lhe=g(()=>{"use strict";Or=class t{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){let r=new t({...e,headers:{...e.headers}});return r.query&&(r.query=fit(r.query)),r}static isInstance(e){if(!e)return!1;let r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return t.clone(this)}}});var oc,uhe=g(()=>{"use strict";oc=class{statusCode;reason;headers;body;constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let r=e;return typeof r.statusCode=="number"&&typeof r.headers=="object"}}});var dhe=g(()=>{"use strict"});var phe=g(()=>{"use strict"});var An=g(()=>{"use strict";Hme();she();ahe();che();lhe();uhe();dhe();phe()});var hit,git,sc,Ug=g(()=>{"use strict";An();hit=t=>e=>async r=>{if(!Or.isInstance(r.request))return e(r);let{request:n}=r,{handlerProtocol:i=""}=t.requestHandler.metadata||{};if(i.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let o=n.hostname;n.port!=null&&(o+=`:${n.port}`),n.headers.host=o}return e(r)},git={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},sc=t=>({applyToStack:e=>{e.add(hit(t),git)}})});var yit,bit,ac,mhe=g(()=>{"use strict";yit=()=>(t,e)=>async r=>{try{let n=await t(r),{clientName:i,commandName:o,logger:s,dynamoDbDocumentClientOptions:a={}}=e,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:l}=a,u=c??e.inputFilterSensitiveLog,d=l??e.outputFilterSensitiveLog,{$metadata:p,...m}=n.output;return s?.info?.({clientName:i,commandName:o,input:u(r.input),output:d(m),metadata:p}),n}catch(n){let{clientName:i,commandName:o,logger:s,dynamoDbDocumentClientOptions:a={}}=e,{overrideInputFilterSensitiveLog:c}=a,l=c??e.inputFilterSensitiveLog;throw s?.error?.({clientName:i,commandName:o,input:l(r.input),error:n,metadata:n.$metadata}),n}},bit={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},ac=t=>({applyToStack:e=>{e.add(yit(),bit)}})});var Fg=g(()=>{"use strict";mhe()});var fhe,hhe=g(()=>{"use strict";fhe={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"}});var Zw,aV,YI,cV,lV,JI,ghe=g(()=>{"use strict";Zw={REQUEST_ID:Symbol.for("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol.for("_AWS_LAMBDA_X_RAY_TRACE_ID"),TENANT_ID:Symbol.for("_AWS_LAMBDA_TENANT_ID")},aV=["true","1"].includes(process.env?.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA??"");aV||(globalThis.awslambda=globalThis.awslambda||{});YI=class{static PROTECTED_KEYS=Zw;isProtectedKey(e){return Object.values(Zw).includes(e)}getRequestId(){return this.get(Zw.REQUEST_ID)??"-"}getXRayTraceId(){return this.get(Zw.X_RAY_TRACE_ID)}getTenantId(){return this.get(Zw.TENANT_ID)}},cV=class extends YI{currentContext;getContext(){return this.currentContext}hasContext(){return this.currentContext!==void 0}get(e){return this.currentContext?.[e]}set(e,r){if(this.isProtectedKey(e))throw new Error(`Cannot modify protected Lambda context field: ${String(e)}`);this.currentContext=this.currentContext||{},this.currentContext[e]=r}run(e,r){return this.currentContext=e,r()}},lV=class t extends YI{als;static async create(){let e=new t,r=await import("node:async_hooks");return e.als=new r.AsyncLocalStorage,e}getContext(){return this.als.getStore()}hasContext(){return this.als.getStore()!==void 0}get(e){return this.als.getStore()?.[e]}set(e,r){if(this.isProtectedKey(e))throw new Error(`Cannot modify protected Lambda context field: ${String(e)}`);let n=this.als.getStore();if(!n)throw new Error("No context available");n[e]=r}run(e,r){return this.als.run(e,r)}};(function(t){let e=null;async function r(){return e||(e=(async()=>{let i="AWS_LAMBDA_MAX_CONCURRENCY"in process.env?await lV.create():new cV;return!aV&&globalThis.awslambda?.InvokeStore?globalThis.awslambda.InvokeStore:(!aV&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=i),i)})()),e}t.getInstanceAsync=r,t._testing=process.env.AWS_LAMBDA_BENCHMARK_MODE==="1"?{reset:()=>{e=null,globalThis.awslambda?.InvokeStore&&delete globalThis.awslambda.InvokeStore,globalThis.awslambda={InvokeStore:void 0}}}:void 0})(JI||(JI={}))});var uV,vit,_it,yhe,dV=g(()=>{"use strict";ghe();An();uV="X-Amzn-Trace-Id",vit="AWS_LAMBDA_FUNCTION_NAME",_it="_X_AMZN_TRACE_ID",yhe=()=>t=>async e=>{let{request:r}=e;if(!Or.isInstance(r))return t(e);let n=Object.keys(r.headers??{}).find(u=>u.toLowerCase()===uV.toLowerCase())??uV;if(r.headers.hasOwnProperty(n))return t(e);let i=process.env[vit],o=process.env[_it],c=(await JI.getInstanceAsync())?.getXRayTraceId()??o,l=u=>typeof u=="string"&&u.length>0;return l(i)&&l(c)&&(r.headers[uV]=c),t({...e,request:r})}});var cc,bhe=g(()=>{"use strict";hhe();dV();cc=t=>({applyToStack:e=>{e.add(yhe(),fhe)}})});var zg=g(()=>{"use strict";bhe();dV()});var vhe=g(()=>{"use strict"});var Gn,_he=g(()=>{"use strict";rf();Gn=t=>t[Qw]||(t[Qw]={})});var Nr,She=g(()=>{"use strict";Nr=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e}});var Do=g(()=>{"use strict";_he();She()});var whe,xhe=g(()=>{"use strict";whe=(t,e)=>{if(!e||e.length===0)return t;let r=[];for(let n of e)for(let i of t)i.schemeId.split("#")[1]===n&&r.push(i);for(let n of t)r.find(({schemeId:i})=>i===n.schemeId)||r.push(n);return r}});function Sit(t){let e=new Map;for(let r of t)e.set(r.schemeId,r);return e}var Ahe,pV=g(()=>{"use strict";Do();xhe();Ahe=(t,e)=>(r,n)=>async i=>{let o=t.httpAuthSchemeProvider(await e.httpAuthSchemeParametersProvider(t,n,i.input)),s=t.authSchemePreference?await t.authSchemePreference():[],a=whe(o,s),c=Sit(t.httpAuthSchemes),l=Gn(n),u=[];for(let d of a){let p=c.get(d.schemeId);if(!p){u.push(`HttpAuthScheme \`${d.schemeId}\` was not enabled for this service.`);continue}let m=p.identityProvider(await e.identityProviderConfigProvider(t));if(!m){u.push(`HttpAuthScheme \`${d.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:h={},signingProperties:f={}}=d.propertiesExtractor?.(t,n)||{};d.identityProperties=Object.assign(d.identityProperties||{},h),d.signingProperties=Object.assign(d.signingProperties||{},f),l.selectedHttpAuthScheme={httpAuthOption:d,identity:await m(d.identityProperties),signer:p.signer};break}if(!l.selectedHttpAuthScheme)throw new Error(u.join(`
`));return r(i)}});var wit,lc,Ehe=g(()=>{"use strict";pV();wit={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},lc=(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Ahe(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r}),wit)}})});var Rhe=g(()=>{"use strict"});var The=g(()=>{"use strict"});var QI,Ihe=g(()=>{"use strict";QI={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var mV=g(()=>{"use strict";Rhe();Ihe();The()});var KXt,Che=g(()=>{"use strict";mV();KXt={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:QI.name}});var Ohe=g(()=>{"use strict";pV();Ehe();Che()});var xit,Ait,Nhe,fV=g(()=>{"use strict";An();Do();xit=t=>e=>{throw e},Ait=(t,e)=>{},Nhe=t=>(e,r)=>async n=>{if(!Or.isInstance(n.request))return e(n);let o=Gn(r).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:s={}},identity:a,signer:c}=o,l=await e({...n,request:await c.sign(n.request,a,s)}).catch((c.errorHandler||xit)(s));return(c.successHandler||Ait)(l.response,s),l}});var Eit,uc,Phe=g(()=>{"use strict";fV();Eit={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},uc=t=>({applyToStack:e=>{e.addRelativeTo(Nhe(t),Eit)}})});var khe=g(()=>{"use strict";fV();Phe()});var Vg,Dhe=g(()=>{"use strict";Vg=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e}});function Ln(t,e,r,n,i){return async function*(s,a,...c){let l=a,u=s.startingToken??l[r],d=!0,p;for(;d;){if(l[r]=u,i&&(l[i]=l[i]??s.pageSize),s.client instanceof t)p=await Rit(e,s.client,a,s.withCommand,...c);else throw new Error(`Invalid client, expected instance of ${t.name}`);yield p;let m=u;u=Tit(p,n),d=!!(u&&(!s.stopOnSameToken||u!==m))}return void 0}}var Rit,Tit,Mhe=g(()=>{"use strict";Rit=async(t,e,r,n=o=>o,...i)=>{let o=new t(r);return o=n(o)??o,await e.send(o,...i)};Tit=(t,e)=>{let r=t,n=e.split(".");for(let i of n){if(!r||typeof r!="object")return;r=r[i]}return r}});var ZI,hV=g(()=>{"use strict";ZI=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]"});import{Buffer as gV}from"buffer";var Hd,zb,jg=g(()=>{"use strict";hV();Hd=(t,e=0,r=t.byteLength-e)=>{if(!ZI(t))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof t} (${t})`);return gV.from(t,e,r)},zb=(t,e)=>{if(typeof t!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof t} (${t})`);return e?gV.from(t,e):gV.from(t)}});var Iit,Bn,$he=g(()=>{"use strict";jg();Iit=/^[A-Za-z0-9+/]*={0,2}$/,Bn=t=>{if(t.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!Iit.exec(t))throw new TypeError("Invalid base64 string.");let e=zb(t,"base64");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}});var yn,yV=g(()=>{"use strict";jg();yn=t=>{let e=zb(t,"utf8");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT)}});var Dl,Lhe=g(()=>{"use strict";yV();Dl=t=>typeof t=="string"?yn(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)});var ln,Bhe=g(()=>{"use strict";jg();ln=t=>{if(typeof t=="string")return t;if(typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return Hd(t.buffer,t.byteOffset,t.byteLength).toString("utf8")}});var ni=g(()=>{"use strict";yV();Lhe();Bhe()});var un,Uhe=g(()=>{"use strict";jg();ni();un=t=>{let e;if(typeof t=="string"?e=yn(t):e=t,typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return Hd(e.buffer,e.byteOffset,e.byteLength).toString("base64")}});var Mo=g(()=>{"use strict";$he();Uhe()});var Vb,Fhe=g(()=>{"use strict";Mo();ni();Vb=class t extends Uint8Array{static fromString(e,r="utf-8"){if(typeof e=="string")return r==="base64"?t.mutate(Bn(e)):t.mutate(yn(e));throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}static mutate(e){return Object.setPrototypeOf(e,t.prototype),e}transformToString(e="utf-8"){return e==="base64"?un(this):ln(this)}}});var zhe=g(()=>{"use strict"});var bV,Vhe=g(()=>{"use strict";bV=t=>typeof ReadableStream=="function"&&(t?.constructor?.name===ReadableStream.name||t instanceof ReadableStream)});var jhe=g(()=>{"use strict"});var qhe=g(()=>{"use strict"});var Hhe=g(()=>{"use strict"});var Whe=g(()=>{"use strict"});var Ru,Cit,Ghe=g(()=>{"use strict";Ru=t=>encodeURIComponent(t).replace(/[!'()*]/g,Cit),Cit=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`});var Khe=g(()=>{"use strict"});var XI=g(()=>{"use strict";Ghe();Khe()});function Yhe(t){let e=[];for(let r of Object.keys(t).sort()){let n=t[r];if(r=Ru(r),Array.isArray(n))for(let i=0,o=n.length;i<o;i++)e.push(`${r}=${Ru(n[i])}`);else{let i=r;(n||typeof n=="string")&&(i+=`=${Ru(n)}`),e.push(i)}}return e.join("&")}var Jhe=g(()=>{"use strict";XI()});var Qhe,Zhe=g(()=>{"use strict";Qhe=["ECONNRESET","EPIPE","ETIMEDOUT"]});var Xhe,ege=g(()=>{"use strict";Xhe=t=>{let e={};for(let r of Object.keys(t)){let n=t[r];e[r]=Array.isArray(n)?n.join(","):n}return e}});var ii,qg=g(()=>{"use strict";ii={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t)}});var tge,rge,nge=g(()=>{"use strict";qg();tge=1e3,rge=(t,e,r=0)=>{if(!r)return-1;let n=i=>{let o=ii.setTimeout(()=>{t.destroy(),e(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${r} ms.`),{name:"TimeoutError"}))},r-i),s=a=>{a?.connecting?a.on("connect",()=>{ii.clearTimeout(o)}):ii.clearTimeout(o)};t.socket?s(t.socket):t.on("socket",s)};return r<2e3?(n(0),0):ii.setTimeout(n.bind(null,tge),tge)}});var ige,oge=g(()=>{"use strict";qg();ige=(t,e,r=0,n,i)=>r?ii.setTimeout(()=>{let o=`@smithy/node-http-handler - [${n?"ERROR":"WARN"}] a request has exceeded the configured ${r} ms requestTimeout.`;if(n){let s=Object.assign(new Error(o),{name:"TimeoutError",code:"ETIMEDOUT"});t.destroy(s),e(s)}else o+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",i?.warn?.(o)},r):-1});var Oit,sge,age=g(()=>{"use strict";qg();Oit=3e3,sge=(t,{keepAlive:e,keepAliveMsecs:r},n=Oit)=>{if(e!==!0)return-1;let i=()=>{t.socket?t.socket.setKeepAlive(e,r||0):t.on("socket",o=>{o.setKeepAlive(e,r||0)})};return n===0?(i(),0):ii.setTimeout(i,n)}});var cge,lge,uge=g(()=>{"use strict";qg();cge=3e3,lge=(t,e,r=0)=>{let n=i=>{let o=r-i,s=()=>{t.destroy(),e(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${r} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};t.socket?(t.socket.setTimeout(o,s),t.on("close",()=>t.socket?.removeListener("timeout",s))):t.setTimeout(o,s)};return 0<r&&r<6e3?(n(0),0):ii.setTimeout(n.bind(null,r===0?0:cge),cge)}});import{Readable as Nit}from"stream";async function pge(t,e,r=dge,n=!1){let i=e.headers??{},o=i.Expect||i.expect,s=-1,a=!0;!n&&o==="100-continue"&&(a=await Promise.race([new Promise(c=>{s=Number(ii.setTimeout(()=>c(!0),Math.max(dge,r)))}),new Promise(c=>{t.on("continue",()=>{ii.clearTimeout(s),c(!0)}),t.on("response",()=>{ii.clearTimeout(s),c(!1)}),t.on("error",()=>{ii.clearTimeout(s),c(!1)})})])),a&&Pit(t,e.body)}function Pit(t,e){if(e instanceof Nit){e.pipe(t);return}if(e){if(Buffer.isBuffer(e)||typeof e=="string"){t.end(e);return}let r=e;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){t.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}t.end(Buffer.from(e));return}t.end()}var dge,mge=g(()=>{"use strict";qg();dge=6e3});import{Agent as vV,request as kit}from"http";import{Agent as _V,request as Dit}from"https";var $o,fge=g(()=>{"use strict";An();Jhe();Zhe();ege();nge();oge();age();uge();qg();mge();$o=class t{config;configProvider;socketWarningTimestamp=0;externalAgent=!1;metadata={handlerProtocol:"http/1.1"};static create(e){return typeof e?.handle=="function"?e:new t(e)}static checkSocketUsage(e,r,n=console){let{sockets:i,requests:o,maxSockets:s}=e;if(typeof s!="number"||s===1/0||Date.now()-15e3<r)return r;if(i&&o)for(let c in i){let l=i[c]?.length??0,u=o[c]?.length??0;if(l>=s&&u>=2*s)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${l} and ${u} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}constructor(e){this.configProvider=new Promise((r,n)=>{typeof e=="function"?e().then(i=>{r(this.resolveDefaultConfig(i))}).catch(n):r(this.resolveDefaultConfig(e))})}resolveDefaultConfig(e){let{requestTimeout:r,connectionTimeout:n,socketTimeout:i,socketAcquisitionWarningTimeout:o,httpAgent:s,httpsAgent:a,throwOnRequestTimeout:c}=e||{},l=!0,u=50;return{connectionTimeout:n,requestTimeout:r,socketTimeout:i,socketAcquisitionWarningTimeout:o,throwOnRequestTimeout:c,httpAgent:s instanceof vV||typeof s?.destroy=="function"?(this.externalAgent=!0,s):new vV({keepAlive:l,maxSockets:u,...s}),httpsAgent:a instanceof _V||typeof a?.destroy=="function"?(this.externalAgent=!0,a):new _V({keepAlive:l,maxSockets:u,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(e,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((i,o)=>{let s=this.config,a,c=[],l=async B=>{await a,c.forEach(ii.clearTimeout),i(B)},u=async B=>{await a,c.forEach(ii.clearTimeout),o(B)};if(r?.aborted){let B=new Error("Request aborted");B.name="AbortError",u(B);return}let d=e.protocol==="https:",p=e.headers??{},m=(p.Expect??p.expect)==="100-continue",h=d?s.httpsAgent:s.httpAgent;m&&!this.externalAgent&&(h=new(d?_V:vV)({keepAlive:!1,maxSockets:1/0})),c.push(ii.setTimeout(()=>{this.socketWarningTimestamp=t.checkSocketUsage(h,this.socketWarningTimestamp,s.logger)},s.socketAcquisitionWarningTimeout??(s.requestTimeout??2e3)+(s.connectionTimeout??1e3)));let f=Yhe(e.query||{}),y;if(e.username!=null||e.password!=null){let B=e.username??"",P=e.password??"";y=`${B}:${P}`}let v=e.path;f&&(v+=`?${f}`),e.fragment&&(v+=`#${e.fragment}`);let _=e.hostname??"";_[0]==="["&&_.endsWith("]")?_=e.hostname.slice(1,-1):_=e.hostname;let x={headers:e.headers,host:_,method:e.method,path:v,port:e.port,agent:h,auth:y},I=(d?Dit:kit)(x,B=>{let P=new oc({statusCode:B.statusCode||-1,reason:B.statusMessage,headers:Xhe(B.headers),body:B});l({response:P})});if(I.on("error",B=>{Qhe.includes(B.code)?u(Object.assign(B,{name:"TimeoutError"})):u(B)}),r){let B=()=>{I.destroy();let P=new Error("Request aborted");P.name="AbortError",u(P)};if(typeof r.addEventListener=="function"){let P=r;P.addEventListener("abort",B,{once:!0}),I.once("close",()=>P.removeEventListener("abort",B))}else r.onabort=B}let N=n??s.requestTimeout;c.push(rge(I,u,s.connectionTimeout)),c.push(ige(I,u,N,s.throwOnRequestTimeout,s.logger??console)),c.push(lge(I,u,s.socketTimeout));let L=x.agent;typeof L=="object"&&"keepAlive"in L&&c.push(sge(I,{keepAlive:L.keepAlive,keepAliveMsecs:L.keepAliveMsecs})),a=pge(I,e,N,this.externalAgent).catch(B=>(c.forEach(ii.clearTimeout),o(B)))})}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[e]:r}))}httpHandlerConfigs(){return this.config??{}}}});var hge=g(()=>{"use strict"});import{Writable as Mit}from"stream";var e8,gge=g(()=>{"use strict";e8=class extends Mit{bufferedBytes=[];_write(e,r,n){this.bufferedBytes.push(e),n()}}});async function Lit(t){let e=[],r=t.getReader(),n=!1,i=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(e.push(c),i+=c.length),n=a}let o=new Uint8Array(i),s=0;for(let a of e)o.set(a,s),s+=a.length;return o}var Bs,$it,yge=g(()=>{"use strict";gge();Bs=t=>$it(t)?Lit(t):new Promise((e,r)=>{let n=new e8;t.pipe(n),t.on("error",i=>{n.end(),r(i)}),n.on("error",r),n.on("finish",function(){let i=new Uint8Array(Buffer.concat(this.bufferedBytes));e(i)})}),$it=t=>typeof ReadableStream=="function"&&t instanceof ReadableStream});var Wd=g(()=>{"use strict";fge();hge();yge()});var bge=g(()=>{"use strict"});async function Bit(t){let e=await Fit(t),r=Bn(e);return new Uint8Array(r)}async function Uit(t){let e=[],r=t.getReader(),n=!1,i=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(e.push(c),i+=c.length),n=a}let o=new Uint8Array(i),s=0;for(let a of e)o.set(a,s),s+=a.length;return o}function Fit(t){return new Promise((e,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let i=n.result??"",o=i.indexOf(","),s=o>-1?o+1:i.length;e(i.substring(s))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(t)})}var vge,_ge=g(()=>{"use strict";Mo();vge=async t=>typeof Blob=="function"&&t instanceof Blob||t.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await t.arrayBuffer()):Bit(t):Uit(t)});var Sge=g(()=>{"use strict";bge();_ge()});function xge(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2){let n=t.slice(r,r+2).toLowerCase();if(n in SV)e[r/2]=SV[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return e}function Us(t){let e="";for(let r=0;r<t.byteLength;r++)e+=wge[t[r]];return e}var wge,SV,Hg=g(()=>{"use strict";wge={},SV={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),wge[t]=e,SV[e]=t}});var Age,Rge,Ege,Tge=g(()=>{"use strict";Sge();Mo();Hg();ni();Vhe();Age="The stream has already been transformed.",Rge=t=>{if(!Ege(t)&&!bV(t)){let i=t?.__proto__?.constructor?.name||t;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${i}`)}let e=!1,r=async()=>{if(e)throw new Error(Age);return e=!0,await vge(t)},n=i=>{if(typeof i.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return i.stream()};return Object.assign(t,{transformToByteArray:r,transformToString:async i=>{let o=await r();if(i==="base64")return un(o);if(i==="hex")return Us(o);if(i===void 0||i==="utf8"||i==="utf-8")return ln(o);if(typeof TextDecoder=="function")return new TextDecoder(i).decode(o);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(e)throw new Error(Age);if(e=!0,Ege(t))return n(t);if(bV(t))return t;throw new Error(`Cannot transform payload to web stream, got ${t}`)}})},Ege=t=>typeof Blob=="function"&&t instanceof Blob});import{Readable as wV}from"stream";var Ige,t8,Cge=g(()=>{"use strict";Wd();jg();Tge();Ige="The stream has already been transformed.",t8=t=>{if(!(t instanceof wV))try{return Rge(t)}catch{let i=t?.__proto__?.constructor?.name||t;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${i}`)}let e=!1,r=async()=>{if(e)throw new Error(Ige);return e=!0,await Bs(t)};return Object.assign(t,{transformToByteArray:r,transformToString:async n=>{let i=await r();return n===void 0||Buffer.isEncoding(n)?Hd(i.buffer,i.byteOffset,i.byteLength).toString(n):new TextDecoder(n).decode(i)},transformToWebStream:()=>{if(e)throw new Error(Ige);if(t.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof wV.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return e=!0,wV.toWeb(t)}})}});var Oge=g(()=>{"use strict"});var r8=g(()=>{"use strict";Fhe();zhe();jhe();qhe();Hhe();Whe();Cge();Oge()});var Fs,n8=g(()=>{"use strict";r8();Fs=async(t=new Uint8Array,e)=>{if(t instanceof Uint8Array)return Vb.mutate(t);if(!t)return Vb.mutate(new Uint8Array);let r=e.streamCollector(t);return Vb.mutate(await r)}});function jb(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}var xV=g(()=>{"use strict"});var nf,AV=g(()=>{"use strict";nf=t=>typeof t=="function"?t():t});var i8,o8=g(()=>{"use strict";i8=(t,e,r,n,i)=>({name:e,namespace:t,traits:r,input:n,output:i})});var Nge,EV,Pge=g(()=>{"use strict";An();Do();o8();Nge=t=>(e,r)=>async n=>{let{response:i}=await e(n),{operationSchema:o}=Gn(r),[,s,a,c,l,u]=o??[];try{let d=await t.protocol.deserializeResponse(i8(s,a,c,l,u),{...t,...r},i);return{response:i,output:d}}catch(d){if(Object.defineProperty(d,"$response",{value:i,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in d)){let p="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{d.message+=`
  `+p}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(p):r.logger?.warn?.(p)}typeof d.$responseBodyText<"u"&&d.$response&&(d.$response.body=d.$responseBodyText);try{if(oc.isInstance(i)){let{headers:m={}}=i,h=Object.entries(m);d.$metadata={httpStatusCode:i.statusCode,requestId:EV(/^x-[\w-]+-request-?id$/,h),extendedRequestId:EV(/^x-[\w-]+-id-2$/,h),cfId:EV(/^x-[\w-]+-cf-id$/,h)}}}catch{}}throw d}},EV=(t,e)=>(e.find(([r])=>r.match(t))||[void 0,void 0])[1]});var kge,Dge=g(()=>{"use strict";Do();o8();kge=t=>(e,r)=>async n=>{let{operationSchema:i}=Gn(r),[,o,s,a,c,l]=i??[],u=r.endpointV2?.url&&t.urlParser?async()=>t.urlParser(r.endpointV2.url):t.endpoint,d=await t.protocol.serializeRequest(i8(o,s,a,c,l),n.input,{...t,...r,endpoint:u});return e({...n,request:d})}});function dc(t){return{applyToStack:e=>{e.add(kge(t),Vit),e.add(Nge(t),zit),t.protocol.setSerdeContext(t)}}}var zit,Vit,Mge=g(()=>{"use strict";Pge();Dge();zit={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Vit={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var pc,Wg=g(()=>{"use strict";pc=class{name;namespace;traits;static assign(e,r){return Object.assign(e,r)}static[Symbol.hasInstance](e){let r=this.prototype.isPrototypeOf(e);return!r&&typeof e=="object"&&e!==null?e.symbol===this.symbol:r}getName(){return this.namespace+"#"+this.name}}});var $ge,Lge=g(()=>{"use strict";Wg();$ge=class t extends pc{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=t.symbol}});var Bge,Uge=g(()=>{"use strict";Wg();Bge=class t extends pc{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=t.symbol}});var Fge,zge=g(()=>{"use strict";Wg();Fge=class t extends pc{static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=t.symbol}});var s8,RV=g(()=>{"use strict";Wg();s8=class t extends pc{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=t.symbol}});var Vge,jge=g(()=>{"use strict";RV();Vge=class t extends s8{static symbol=Symbol.for("@smithy/err");ctor;symbol=t.symbol}});function Gd(t){if(typeof t=="object")return t;t=t|0;let e={},r=0;for(let n of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(t>>r++&1)===1&&(e[n]=1);return e}var TV=g(()=>{"use strict"});function Xw(t,e){if(t instanceof Pt)return Object.assign(t,{memberName:e,_isMemberSchema:!0});let r=Pt;return new r(t,e)}var qge,Pt,IV,jit,Hge=g(()=>{"use strict";AV();TV();qge={it:Symbol.for("@smithy/nor-struct-it")},Pt=class t{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=t.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(e,r){this.ref=e,this.memberName=r;let n=[],i=e,o=e;for(this._isMemberSchema=!1;IV(i);)n.push(i[1]),i=i[0],o=nf(i),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let s=n.length-1;s>=0;--s){let a=n[s];Object.assign(this.memberTraits,Gd(a))}}else this.memberTraits=0;if(o instanceof t){let s=this.memberTraits;Object.assign(this,o),this.memberTraits=Object.assign({},s,o.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=r??o.memberName;return}if(this.schema=nf(o),jit(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(o),this.traits=0),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](e){let r=this.prototype.isPrototypeOf(e);return!r&&typeof e=="object"&&e!==null?e.symbol===this.symbol:r}static of(e){let r=nf(e);if(r instanceof t)return r;if(IV(r)){let[n,i]=r;if(n instanceof t)return Object.assign(n.getMergedTraits(),Gd(i)),n;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(e,null,2)}.`)}return new t(r)}getSchema(){let e=this.schema;return Array.isArray(e)&&e[0]===0?e[4]:e}getName(e=!1){let{name:r}=this;return!e&&r&&r.includes("#")?r.split("#")[1]:r||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let e=this.getSchema();return typeof e=="number"?e>=64&&e<128:e[0]===1}isMapSchema(){let e=this.getSchema();return typeof e=="number"?e>=128&&e<=255:e[0]===2}isStructSchema(){let e=this.getSchema();if(typeof e!="object")return!1;let r=e[0];return r===3||r===-3||r===4}isUnionSchema(){let e=this.getSchema();return typeof e!="object"?!1:e[0]===4}isBlobSchema(){let e=this.getSchema();return e===21||e===42}isTimestampSchema(){let e=this.getSchema();return typeof e=="number"&&e>=4&&e<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:e}=this.getMergedTraits();return!!e||this.getSchema()===42}isIdempotencyToken(){return!!this.getMergedTraits().idempotencyToken}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return Gd(this.memberTraits)}getOwnTraits(){return Gd(this.traits)}getKeySchema(){let[e,r]=[this.isDocumentSchema(),this.isMapSchema()];if(!e&&!r)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let n=this.getSchema(),i=e?15:n[4]??0;return Xw([i,0],"key")}getValueSchema(){let e=this.getSchema(),[r,n,i]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],o=typeof e=="number"?63&e:e&&typeof e=="object"&&(n||i)?e[3+e[0]]:r?15:void 0;if(o!=null)return Xw([o,0],n?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(e){let r=this.getSchema();if(this.isStructSchema()&&r[4].includes(e)){let n=r[4].indexOf(e),i=r[5][n];return Xw(IV(i)?i:[i,0],e)}if(this.isDocumentSchema())return Xw([15,0],e);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${e}.`)}getMemberSchemas(){let e={};try{for(let[r,n]of this.structIterator())e[r]=n}catch{}return e}getEventStreamMember(){if(this.isStructSchema()){for(let[e,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return e}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let e=this.getSchema(),r=e[4].length,n=e[qge.it];if(n&&r===n.length){yield*n;return}n=Array(r);for(let i=0;i<r;++i){let o=e[4][i],s=Xw([e[5][i],0],o);yield n[i]=[o,s]}e[qge.it]=n}};IV=t=>Array.isArray(t)&&t.length===2,jit=t=>Array.isArray(t)&&t.length>=5});var Wge,Gge=g(()=>{"use strict";Wg();Wge=class t extends pc{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=t.symbol}});var Kge=g(()=>{"use strict"});var Ie,Yge=g(()=>{"use strict";Ie=class t{namespace;schemas;exceptions;static registries=new Map;constructor(e,r=new Map,n=new Map){this.namespace=e,this.schemas=r,this.exceptions=n}static for(e){return t.registries.has(e)||t.registries.set(e,new t(e)),t.registries.get(e)}register(e,r){let n=this.normalizeShapeId(e);t.for(n.split("#")[0]).schemas.set(n,r)}getSchema(e){let r=this.normalizeShapeId(e);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}registerError(e,r){let n=e,i=t.for(n[1]);i.schemas.set(n[1]+"#"+n[2],n),i.exceptions.set(n,r)}getErrorCtor(e){let r=e;return t.for(r[1]).exceptions.get(r)}getBaseException(){for(let e of this.exceptions.keys())if(Array.isArray(e)){let[,r,n]=e,i=r+"#"+n;if(i.startsWith("smithy.ts.sdk.synthetic.")&&i.endsWith("ServiceException"))return e}}find(e){return[...this.schemas.values()].find(e)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(e){return e.includes("#")?e:this.namespace+"#"+e}}});var Pr=g(()=>{"use strict";AV();Mge();Lge();Uge();zge();o8();jge();Hge();Wg();Gge();RV();Kge();TV();Yge()});var Jge=g(()=>{"use strict"});var CV,qit,Qge,Hit,Zge,Xge,e0e,Wit,t0e,r0e,Git,a8,qb,n0e,Kit,Yit,OV=g(()=>{"use strict";CV=t=>{if(t!=null){if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return String(e)!==String(t)&&Yit.warn(Kit(`Expected number but observed string: ${t}`)),e}if(typeof t=="number")return t;throw new TypeError(`Expected number, got ${typeof t}: ${t}`)}},qit=Math.ceil(34028234663852886e22),Qge=t=>{let e=CV(t);if(e!==void 0&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0&&Math.abs(e)>qit)throw new TypeError(`Expected 32-bit float, got ${t}`);return e},Hit=t=>{if(t!=null){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)}},Zge=t=>e0e(t,16),Xge=t=>e0e(t,8),e0e=(t,e)=>{let r=Hit(t);if(r!==void 0&&Wit(r,e)!==r)throw new TypeError(`Expected ${e}-bit integer, got ${t}`);return r},Wit=(t,e)=>{switch(e){case 32:return Int32Array.of(t)[0];case 16:return Int16Array.of(t)[0];case 8:return Int8Array.of(t)[0]}},t0e=t=>CV(typeof t=="string"?a8(t):t),r0e=t=>Qge(typeof t=="string"?a8(t):t),Git=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,a8=t=>{let e=t.match(Git);if(e===null||e[0].length!==t.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(t)},qb=t=>Zge(typeof t=="string"?a8(t):t),n0e=t=>Xge(typeof t=="string"?a8(t):t),Kit=t=>String(new TypeError(t).stack||t).split(`
`).slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join(`
`),Yit={warn:console.warn}});function Wb(t){let e=t.getUTCFullYear(),r=t.getUTCMonth(),n=t.getUTCDay(),i=t.getUTCDate(),o=t.getUTCHours(),s=t.getUTCMinutes(),a=t.getUTCSeconds(),c=i<10?`0${i}`:`${i}`,l=o<10?`0${o}`:`${o}`,u=s<10?`0${s}`:`${s}`,d=a<10?`0${a}`:`${a}`;return`${Jit[n]}, ${c} ${PV[r]} ${e} ${l}:${u}:${d} GMT`}var Jit,PV,Qit,i0e,Zit,o0e,Xit,eot,tot,s0e,a0e,ex,rot,not,iot,NV,oot,sot,aot,Tu,cot,lot,Hb,c0e=g(()=>{"use strict";OV();Jit=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],PV=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Qit=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),i0e=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=Qit.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,i,o,s,a,c,l]=e,u=qb(Hb(n)),d=Tu(i,"month",1,12),p=Tu(o,"day",1,31);return ex(u,d,p,{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l})},Zit=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),o0e=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=Zit.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,i,o,s,a,c,l,u]=e,d=qb(Hb(n)),p=Tu(i,"month",1,12),m=Tu(o,"day",1,31),h=ex(d,p,m,{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l});return u.toUpperCase()!="Z"&&h.setTime(h.getTime()-lot(u)),h},Xit=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),eot=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),tot=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),s0e=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let e=Xit.exec(t);if(e){let[r,n,i,o,s,a,c,l]=e;return ex(qb(Hb(o)),NV(i),Tu(n,"day",1,31),{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l})}if(e=eot.exec(t),e){let[r,n,i,o,s,a,c,l]=e;return iot(ex(rot(o),NV(i),Tu(n,"day",1,31),{hours:s,minutes:a,seconds:c,fractionalMilliseconds:l}))}if(e=tot.exec(t),e){let[r,n,i,o,s,a,c,l]=e;return ex(qb(Hb(l)),NV(n),Tu(i.trimLeft(),"day",1,31),{hours:o,minutes:s,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},a0e=t=>{if(t==null)return;let e;if(typeof t=="number")e=t;else if(typeof t=="string")e=t0e(t);else if(typeof t=="object"&&t.tag===1)e=t.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(e)||e===1/0||e===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(e*1e3))},ex=(t,e,r,n)=>{let i=e-1;return sot(t,i,r),new Date(Date.UTC(t,i,r,Tu(n.hours,"hour",0,23),Tu(n.minutes,"minute",0,59),Tu(n.seconds,"seconds",0,60),cot(n.fractionalMilliseconds)))},rot=t=>{let e=new Date().getUTCFullYear(),r=Math.floor(e/100)*100+qb(Hb(t));return r<e?r+100:r},not=50*365*24*60*60*1e3,iot=t=>t.getTime()-new Date().getTime()>not?new Date(Date.UTC(t.getUTCFullYear()-100,t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())):t,NV=t=>{let e=PV.indexOf(t);if(e<0)throw new TypeError(`Invalid month: ${t}`);return e+1},oot=[31,28,31,30,31,30,31,31,30,31,30,31],sot=(t,e,r)=>{let n=oot[e];if(e===1&&aot(t)&&(n=29),r>n)throw new TypeError(`Invalid day for ${PV[e]} in ${t}: ${r}`)},aot=t=>t%4===0&&(t%100!==0||t%400===0),Tu=(t,e,r,n)=>{let i=n0e(Hb(t));if(i<r||i>n)throw new TypeError(`${e} must be between ${r} and ${n}, inclusive`);return i},cot=t=>t==null?0:r0e("0."+t)*1e3,lot=t=>{let e=t[0],r=1;if(e=="+")r=1;else if(e=="-")r=-1;else throw new TypeError(`Offset direction, ${e}, must be "+" or "-"`);let n=Number(t.substring(1,3)),i=Number(t.substring(4,6));return r*(n*60+i)*60*1e3},Hb=t=>{let e=0;for(;e<t.length-1&&t.charAt(e)==="0";)e++;return e===0?t:t.slice(e)}});import l0e from"crypto";var kV,u0e=g(()=>{"use strict";kV=l0e.randomUUID.bind(l0e)});var Lo,Kd,d0e=g(()=>{"use strict";u0e();Lo=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0")),Kd=()=>{if(kV)return kV();let t=new Uint8Array(16);return crypto.getRandomValues(t),t[6]=t[6]&15|64,t[8]=t[8]&63|128,Lo[t[0]]+Lo[t[1]]+Lo[t[2]]+Lo[t[3]]+"-"+Lo[t[4]]+Lo[t[5]]+"-"+Lo[t[6]]+Lo[t[7]]+"-"+Lo[t[8]]+Lo[t[9]]+"-"+Lo[t[10]]+Lo[t[11]]+Lo[t[12]]+Lo[t[13]]+Lo[t[14]]+Lo[t[15]]}});var DV=g(()=>{"use strict";d0e()});var p0e=g(()=>{"use strict";DV()});var zs,m0e=g(()=>{"use strict";zs=function(e){return Object.assign(new String(e),{deserializeJSON(){return JSON.parse(String(e))},toString(){return String(e)},toJSON(){return String(e)}})};zs.from=t=>t&&typeof t=="object"&&(t instanceof zs||"deserializeJSON"in t)?t:typeof t=="string"||Object.getPrototypeOf(t)===String.prototype?zs(String(t)):zs(JSON.stringify(t));zs.fromObject=zs.from});function f0e(t){return(t.includes(",")||t.includes('"'))&&(t=`"${t.replace(/"/g,'\\"')}"`),t}var h0e=g(()=>{"use strict"});function Yd(t,e,r){let n=Number(t);if(n<e||n>r)throw new Error(`Value ${n} out of range [${e}, ${r}]`)}var MV,$V,LV,g0e,y0e,uot,dot,pot,mot,fot,b0e,v0e,_0e,S0e=g(()=>{"use strict";MV="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",$V="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",LV="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",g0e="(\\d?\\d)",y0e="(\\d{4})",uot=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),dot=new RegExp(`^${MV}, ${g0e} ${$V} ${y0e} ${LV} GMT$`),pot=new RegExp(`^${MV}, ${g0e}-${$V}-(\\d\\d) ${LV} GMT$`),mot=new RegExp(`^${MV} ${$V} ( [1-9]|\\d\\d) ${LV} ${y0e}$`),fot=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],b0e=t=>{if(t==null)return;let e=NaN;if(typeof t=="number")e=t;else if(typeof t=="string"){if(!/^-?\d*\.?\d+$/.test(t))throw new TypeError("parseEpochTimestamp - numeric string invalid.");e=Number.parseFloat(t)}else typeof t=="object"&&t.tag===1&&(e=t.value);if(isNaN(e)||Math.abs(e)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(e*1e3))},v0e=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC3339 timestamps must be strings");let e=uot.exec(t);if(!e)throw new TypeError(`Invalid RFC3339 timestamp format ${t}`);let[,r,n,i,o,s,a,,c,l]=e;Yd(n,1,12),Yd(i,1,31),Yd(o,0,23),Yd(s,0,59),Yd(a,0,60);let u=new Date(Date.UTC(Number(r),Number(n)-1,Number(i),Number(o),Number(s),Number(a),Number(c)?Math.round(parseFloat(`0.${c}`)*1e3):0));if(u.setUTCFullYear(Number(r)),l.toUpperCase()!="Z"){let[,d,p,m]=/([+-])(\d\d):(\d\d)/.exec(l)||[void 0,"+",0,0],h=d==="-"?1:-1;u.setTime(u.getTime()+h*(Number(p)*60*60*1e3+Number(m)*60*1e3))}return u},_0e=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC7231 timestamps must be strings.");let e,r,n,i,o,s,a,c;if((c=dot.exec(t))?[,e,r,n,i,o,s,a]=c:(c=pot.exec(t))?([,e,r,n,i,o,s,a]=c,n=(Number(n)+1900).toString()):(c=mot.exec(t))&&([,r,e,i,o,s,a,n]=c),n&&s){let l=Date.UTC(Number(n),fot.indexOf(r),Number(e),Number(i),Number(o),Number(s),a?Math.round(parseFloat(`0.${a}`)*1e3):0);Yd(e,1,31),Yd(i,0,23),Yd(o,0,59),Yd(s,0,60);let u=new Date(l);return u.setUTCFullYear(Number(n)),u}throw new TypeError(`Invalid RFC7231 date-time value ${t}.`)}});function w0e(t,e,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=t.split(e);if(r===1)return n;let i=[],o="";for(let s=0;s<n.length;s++)o===""?o=n[s]:o+=e+n[s],(s+1)%r===0&&(i.push(o),o="");return o!==""&&i.push(o),i}var x0e=g(()=>{"use strict"});var c8,A0e=g(()=>{"use strict";c8=t=>{let e=t.length,r=[],n=!1,i,o=0;for(let s=0;s<e;++s){let a=t[s];switch(a){case'"':i!=="\\"&&(n=!n);break;case",":n||(r.push(t.slice(o,s)),o=s+1);break;default:}i=a}return r.push(t.slice(o)),r.map(s=>{s=s.trim();let a=s.length;return a<2?s:(s[0]==='"'&&s[a-1]==='"'&&(s=s.slice(1,a-1)),s.replace(/\\"/g,'"'))})}});var E0e,Gi,R0e=g(()=>{"use strict";E0e=/^-?\d*(\.\d+)?$/,Gi=class t{string;type;constructor(e,r){if(this.string=e,this.type=r,!E0e.test(e))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](e){if(!e||typeof e!="object")return!1;let r=e;return t.prototype.isPrototypeOf(e)||r.type==="bigDecimal"&&E0e.test(r.string)}}});var Iu=g(()=>{"use strict";Jge();c0e();p0e();m0e();OV();h0e();S0e();x0e();A0e();R0e()});var Cu,Gb=g(()=>{"use strict";Cu=class{serdeContext;setSerdeContext(e){this.serdeContext=e}}});var BV,T0e=g(()=>{"use strict";ni();BV=class{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:e,serializer:r,deserializer:n,serdeContext:i,defaultContentType:o}){this.marshaller=e,this.serializer=r,this.deserializer=n,this.serdeContext=i,this.defaultContentType=o}async serializeEventStream({eventStream:e,requestSchema:r,initialRequest:n}){let i=this.marshaller,o=r.getEventStreamMember(),s=r.getMemberSchema(o),a=this.serializer,c=this.defaultContentType,l=Symbol("initialRequestMarker"),u={async*[Symbol.asyncIterator](){if(n){let d={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:c}};a.write(r,n);let p=a.flush();yield{[l]:!0,headers:d,body:p}}for await(let d of e)yield d}};return i.serialize(u,d=>{if(d[l])return{headers:d.headers,body:d.body};let p=Object.keys(d).find(_=>_!=="__type")??"",{additionalHeaders:m,body:h,eventType:f,explicitPayloadContentType:y}=this.writeEventBody(p,s,d);return{headers:{":event-type":{type:"string",value:f},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:y??c},...m},body:h}})}async deserializeEventStream({response:e,responseSchema:r,initialResponseContainer:n}){let i=this.marshaller,o=r.getEventStreamMember(),a=r.getMemberSchema(o).getMemberSchemas(),c=Symbol("initialResponseMarker"),l=i.deserialize(e.body,async p=>{let m=Object.keys(p).find(f=>f!=="__type")??"",h=p[m].body;if(m==="initial-response"){let f=await this.deserializer.read(r,h);return delete f[o],{[c]:!0,...f}}else if(m in a){let f=a[m];if(f.isStructSchema()){let y={},v=!1;for(let[_,x]of f.structIterator()){let{eventHeader:E,eventPayload:I}=x.getMergedTraits();if(v=v||!!(E||I),I)x.isBlobSchema()?y[_]=h:x.isStringSchema()?y[_]=(this.serdeContext?.utf8Encoder??ln)(h):x.isStructSchema()&&(y[_]=await this.deserializer.read(x,h));else if(E){let N=p[m].headers[_]?.value;N!=null&&(x.isNumericSchema()?N&&typeof N=="object"&&"bytes"in N?y[_]=BigInt(N.toString()):y[_]=Number(N):y[_]=N)}}if(v)return{[m]:y};if(h.byteLength===0)return{[m]:{}}}return{[m]:await this.deserializer.read(f,h)}}else return{$unknown:p}}),u=l[Symbol.asyncIterator](),d=await u.next();if(d.done)return l;if(d.value?.[c]){if(!r)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[p,m]of Object.entries(d.value))n[p]=m}return{async*[Symbol.asyncIterator](){for(d?.value?.[c]||(yield d.value);;){let{done:p,value:m}=await u.next();if(p)break;yield m}}}}writeEventBody(e,r,n){let i=this.serializer,o=e,s=null,a,c=r.getSchema()[4].includes(e),l={};if(c){let p=r.getMemberSchema(e);if(p.isStructSchema()){for(let[m,h]of p.structIterator()){let{eventHeader:f,eventPayload:y}=h.getMergedTraits();if(y)s=m;else if(f){let v=n[e][m],_="binary";h.isNumericSchema()?(-2)**31<=v&&v<=2**31-1?_="integer":_="long":h.isTimestampSchema()?_="timestamp":h.isStringSchema()?_="string":h.isBooleanSchema()&&(_="boolean"),v!=null&&(l[m]={type:_,value:v},delete n[e][m])}}if(s!==null){let m=p.getMemberSchema(s);m.isBlobSchema()?a="application/octet-stream":m.isStringSchema()&&(a="text/plain"),i.write(m,n[e][s])}else i.write(p,n[e])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[p,m]=n[e];o=p,i.write(15,m)}let u=i.flush();return{body:typeof u=="string"?(this.serdeContext?.utf8Decoder??yn)(u):u,eventType:o,explicitPayloadContentType:a,additionalHeaders:l}}}});var I0e={};lr(I0e,{EventStreamSerde:()=>BV});var C0e=g(()=>{"use strict";T0e()});var Kb,l8=g(()=>{"use strict";Pr();An();Gb();Kb=class extends Cu{options;constructor(e){super(),this.options=e}getRequestType(){return Or}getResponseType(){return oc}setSerdeContext(e){this.serdeContext=e,this.serializer.setSerdeContext(e),this.deserializer.setSerdeContext(e),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(e)}updateServiceEndpoint(e,r){if("url"in r){e.protocol=r.url.protocol,e.hostname=r.url.hostname,e.port=r.url.port?Number(r.url.port):void 0,e.path=r.url.pathname,e.fragment=r.url.hash||void 0,e.username=r.url.username||void 0,e.password=r.url.password||void 0,e.query||(e.query={});for(let[n,i]of r.url.searchParams.entries())e.query[n]=i;return e}else return e.protocol=r.protocol,e.hostname=r.hostname,e.port=r.port?Number(r.port):void 0,e.path=r.path,e.query={...r.query},e}setHostPrefix(e,r,n){if(this.serdeContext?.disableHostPrefix)return;let i=Pt.of(r.input),o=Gd(r.traits??{});if(o.endpoint){let s=o.endpoint?.[0];if(typeof s=="string"){let a=[...i.structIterator()].filter(([,c])=>c.getMergedTraits().hostLabel);for(let[c]of a){let l=n[c];if(typeof l!="string")throw new Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);s=s.replace(`{${c}}`,l)}e.hostname=s+e.hostname}}}deserializeMetadata(e){return{httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:e,requestSchema:r,initialRequest:n}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:e,requestSchema:r,initialRequest:n})}async deserializeEventStream({response:e,responseSchema:r,initialResponseContainer:n}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:e,responseSchema:r,initialResponseContainer:n})}async loadEventStreamCapability(){let{EventStreamSerde:e}=await Promise.resolve().then(()=>(C0e(),I0e));return new e({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(e,r,n,i,o){return[]}getEventStreamMarshaller(){let e=this.serdeContext;if(!e.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return e.eventStreamMarshaller}}});var u8,O0e=g(()=>{"use strict";Pr();Iu();An();r8();n8();xV();l8();u8=class extends Kb{async serializeRequest(e,r,n){let i={...r??{}},o=this.serializer,s={},a={},c=await n.endpoint(),l=Pt.of(e?.input),u=l.getSchema(),d=!1,p,m=new Or({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:s,headers:a,body:void 0});if(c){this.updateServiceEndpoint(m,c),this.setHostPrefix(m,e,i);let h=Gd(e.traits);if(h.http){m.method=h.http[0];let[f,y]=h.http[1].split("?");m.path=="/"?m.path=f:m.path+=f;let v=new URLSearchParams(y??"");Object.assign(s,Object.fromEntries(v))}}for(let[h,f]of l.structIterator()){let y=f.getMergedTraits()??{},v=i[h];if(v==null&&!f.isIdempotencyToken()){if(y.httpLabel&&(m.path.includes(`{${h}+}`)||m.path.includes(`{${h}}`)))throw new Error(`No value provided for input HTTP label: ${h}.`);continue}if(y.httpPayload)f.isStreaming()?f.isStructSchema()?i[h]&&(p=await this.serializeEventStream({eventStream:i[h],requestSchema:l})):p=v:(o.write(f,v),p=o.flush()),delete i[h];else if(y.httpLabel){o.write(f,v);let _=o.flush();m.path.includes(`{${h}+}`)?m.path=m.path.replace(`{${h}+}`,_.split("/").map(jb).join("/")):m.path.includes(`{${h}}`)&&(m.path=m.path.replace(`{${h}}`,jb(_))),delete i[h]}else if(y.httpHeader)o.write(f,v),a[y.httpHeader.toLowerCase()]=String(o.flush()),delete i[h];else if(typeof y.httpPrefixHeaders=="string"){for(let[_,x]of Object.entries(v)){let E=y.httpPrefixHeaders+_;o.write([f.getValueSchema(),{httpHeader:E}],x),a[E.toLowerCase()]=o.flush()}delete i[h]}else y.httpQuery||y.httpQueryParams?(this.serializeQuery(f,v,s),delete i[h]):d=!0}return d&&i&&(o.write(u,i),p=o.flush()),m.headers=a,m.query=s,m.body=p,m}serializeQuery(e,r,n){let i=this.serializer,o=e.getMergedTraits();if(o.httpQueryParams){for(let[s,a]of Object.entries(r))if(!(s in n)){let c=e.getValueSchema();Object.assign(c.getMergedTraits(),{...o,httpQuery:s,httpQueryParams:void 0}),this.serializeQuery(c,a,n)}return}if(e.isListSchema()){let s=!!e.getMergedTraits().sparse,a=[];for(let c of r){i.write([e.getValueSchema(),o],c);let l=i.flush();(s||l!==void 0)&&a.push(l)}n[o.httpQuery]=a}else i.write([e,o],r),n[o.httpQuery]=i.flush()}async deserializeResponse(e,r,n){let i=this.deserializer,o=Pt.of(e.output),s={};if(n.statusCode>=300){let c=await Fs(n.body,r);throw c.byteLength>0&&Object.assign(s,await i.read(15,c)),await this.handleError(e,r,n,s,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let c in n.headers){let l=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=l}let a=await this.deserializeHttpMessage(o,r,n,s);if(a.length){let c=await Fs(n.body,r);if(c.byteLength>0){let l=await i.read(o,c);for(let u of a)s[u]=l[u]}}else a.discardResponseBody&&await Fs(n.body,r);return s.$metadata=this.deserializeMetadata(n),s}async deserializeHttpMessage(e,r,n,i,o){let s;i instanceof Set?s=o:s=i;let a=!0,c=this.deserializer,l=Pt.of(e),u=[];for(let[d,p]of l.structIterator()){let m=p.getMemberTraits();if(m.httpPayload){if(a=!1,p.isStreaming())p.isStructSchema()?s[d]=await this.deserializeEventStream({response:n,responseSchema:l}):s[d]=t8(n.body);else if(n.body){let f=await Fs(n.body,r);f.byteLength>0&&(s[d]=await c.read(p,f))}}else if(m.httpHeader){let h=String(m.httpHeader).toLowerCase(),f=n.headers[h];if(f!=null)if(p.isListSchema()){let y=p.getValueSchema();y.getMergedTraits().httpHeader=h;let v;y.isTimestampSchema()&&y.getSchema()===4?v=w0e(f,",",2):v=c8(f);let _=[];for(let x of v)_.push(await c.read(y,x.trim()));s[d]=_}else s[d]=await c.read(p,f)}else if(m.httpPrefixHeaders!==void 0){s[d]={};for(let[h,f]of Object.entries(n.headers))if(h.startsWith(m.httpPrefixHeaders)){let y=p.getValueSchema();y.getMergedTraits().httpHeader=h,s[d][h.slice(m.httpPrefixHeaders.length)]=await c.read(y,f)}}else m.httpResponseCode?s[d]=n.statusCode:u.push(d)}return u.discardResponseBody=a,u}}});var Yb,N0e=g(()=>{"use strict";Pr();An();n8();l8();Yb=class extends Kb{async serializeRequest(e,r,n){let i=this.serializer,o={},s={},a=await n.endpoint(),c=Pt.of(e?.input),l=c.getSchema(),u,d=new Or({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:o,headers:s,body:void 0});a&&(this.updateServiceEndpoint(d,a),this.setHostPrefix(d,e,r));let p={...r};if(r){let m=c.getEventStreamMember();if(m){if(p[m]){let h={};for(let[f,y]of c.structIterator())f!==m&&p[f]&&(i.write(y,p[f]),h[f]=i.flush());u=await this.serializeEventStream({eventStream:p[m],requestSchema:c,initialRequest:h})}}else i.write(l,p),u=i.flush()}return d.headers=s,d.query=o,d.body=u,d.method="POST",d}async deserializeResponse(e,r,n){let i=this.deserializer,o=Pt.of(e.output),s={};if(n.statusCode>=300){let c=await Fs(n.body,r);throw c.byteLength>0&&Object.assign(s,await i.read(15,c)),await this.handleError(e,r,n,s,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let c in n.headers){let l=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=l}let a=o.getEventStreamMember();if(a)s[a]=await this.deserializeEventStream({response:n,responseSchema:o,initialResponseContainer:s});else{let c=await Fs(n.body,r);c.byteLength>0&&Object.assign(s,await i.read(o,c))}return s.$metadata=this.deserializeMetadata(n),s}}});var P0e=g(()=>{"use strict"});var k0e=g(()=>{"use strict"});function Ou(t,e){if(e.timestampFormat.useTrait&&t.isTimestampSchema()&&(t.getSchema()===5||t.getSchema()===6||t.getSchema()===7))return t.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:i,httpQuery:o}=t.getMergedTraits();return(e.httpBindings?typeof n=="string"||i?6:o||r?5:void 0:void 0)??e.timestampFormat.default}var d8=g(()=>{"use strict"});var Jb,UV=g(()=>{"use strict";Pr();Iu();Mo();ni();Gb();d8();Jb=class extends Cu{settings;constructor(e){super(),this.settings=e}read(e,r){let n=Pt.of(e);if(n.isListSchema())return c8(r).map(i=>this.read(n.getValueSchema(),i));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??Bn)(r);if(n.isTimestampSchema())switch(Ou(n,this.settings)){case 5:return v0e(r);case 6:return _0e(r);case 7:return b0e(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let i=n.getMergedTraits().mediaType,o=r;if(i)return n.getMergedTraits().httpHeader&&(o=this.base64ToUtf8(o)),(i==="application/json"||i.endsWith("+json"))&&(o=zs.from(o)),o}return n.isNumericSchema()?Number(r):n.isBigIntegerSchema()?BigInt(r):n.isBigDecimalSchema()?new Gi(r,"bigDecimal"):n.isBooleanSchema()?String(r).toLowerCase()==="true":r}base64ToUtf8(e){return(this.serdeContext?.utf8Encoder??ln)((this.serdeContext?.base64Decoder??Bn)(e))}}});var p8,D0e=g(()=>{"use strict";Pr();ni();Gb();UV();p8=class extends Cu{codecDeserializer;stringDeserializer;constructor(e,r){super(),this.codecDeserializer=e,this.stringDeserializer=new Jb(r)}setSerdeContext(e){this.stringDeserializer.setSerdeContext(e),this.codecDeserializer.setSerdeContext(e),this.serdeContext=e}read(e,r){let n=Pt.of(e),i=n.getMergedTraits(),o=this.serdeContext?.utf8Encoder??ln;if(i.httpHeader||i.httpResponseCode)return this.stringDeserializer.read(n,o(r));if(i.httpPayload){if(n.isBlobSchema()){let s=this.serdeContext?.utf8Decoder??yn;return typeof r=="string"?s(r):r}else if(n.isStringSchema())return"byteLength"in r?o(r):r}return this.codecDeserializer.read(n,r)}}});var m8,FV=g(()=>{"use strict";Pr();Iu();Mo();Gb();d8();m8=class extends Cu{settings;stringBuffer="";constructor(e){super(),this.settings=e}write(e,r){let n=Pt.of(e);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(Ou(n,this.settings)){case 5:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=Wb(r);break;case 7:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??un)(r);return}if(n.isListSchema()&&Array.isArray(r)){let s="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let c=this.flush(),l=n.getValueSchema().isTimestampSchema()?c:f0e(c);s!==""&&(s+=", "),s+=l}this.stringBuffer=s;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let i=n.getMergedTraits().mediaType,o=r;if(i&&((i==="application/json"||i.endsWith("+json"))&&(o=zs.from(o)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??un)(o.toString());return}this.stringBuffer=r;break;default:n.isIdempotencyToken()?this.stringBuffer=Kd():this.stringBuffer=String(r)}}flush(){let e=this.stringBuffer;return this.stringBuffer="",e}}});var f8,M0e=g(()=>{"use strict";Pr();FV();f8=class{codecSerializer;stringSerializer;buffer;constructor(e,r,n=new m8(r)){this.codecSerializer=e,this.stringSerializer=n}setSerdeContext(e){this.codecSerializer.setSerdeContext(e),this.stringSerializer.setSerdeContext(e)}write(e,r){let n=Pt.of(e),i=n.getMergedTraits();if(i.httpHeader||i.httpLabel||i.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let e=this.buffer;return this.buffer=void 0,e}return this.codecSerializer.flush()}}});var Jd=g(()=>{"use strict";n8();xV();O0e();l8();N0e();k0e();P0e();UV();D0e();M0e();FV();d8();Gb()});var $0e=g(()=>{"use strict"});function L0e(t,e,r){t.__smithy_context?t.__smithy_context.features||(t.__smithy_context.features={}):t.__smithy_context={features:{}},t.__smithy_context.features[e]=r}var B0e=g(()=>{"use strict"});var Vs,U0e=g(()=>{"use strict";Vs=class{authSchemes=new Map;constructor(e){for(let[r,n]of Object.entries(e))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(e){return this.authSchemes.get(e)}}});var F0e=g(()=>{"use strict"});var z0e=g(()=>{"use strict"});var mc,V0e=g(()=>{"use strict";mc=class{async sign(e,r,n){return e}}});var j0e=g(()=>{"use strict";F0e();z0e();V0e()});var hot,q0e,zV,H0e,W0e=g(()=>{"use strict";hot=t=>function(r){return zV(r)&&r.expiration.getTime()-Date.now()<t},q0e=hot(3e5),zV=t=>t.expiration!==void 0,H0e=(t,e,r)=>{if(t===void 0)return;let n=typeof t!="function"?async()=>Promise.resolve(t):t,i,o,s,a=!1,c=async l=>{o||(o=n(l));try{i=await o,s=!0,a=!1}finally{o=void 0}return i};return e===void 0?async l=>((!s||l?.forceRefresh)&&(i=await c(l)),i):async l=>((!s||l?.forceRefresh)&&(i=await c(l)),a?i:r(i)?(e(i)&&await c(l),i):(a=!0,i))}});var G0e=g(()=>{"use strict";U0e();j0e();W0e()});var dn=g(()=>{"use strict";vhe();Ohe();khe();Dhe();Mhe();$0e();B0e();G0e()});function got(t){return t===void 0?!0:typeof t=="string"&&t.length<=50}function fc(t){let e=Vg(t.userAgentAppId??VV),{customUserAgent:r}=t;return Object.assign(t,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:async()=>{let n=await e();if(!got(n)){let i=t.logger?.constructor?.name==="NoOpLogger"||!t.logger?console:t.logger;typeof n!="string"?i?.warn("userAgentAppId must be a string or undefined."):n.length>50&&i?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n}})}var VV,K0e=g(()=>{"use strict";dn();VV=void 0});var js,Y0e=g(()=>{"use strict";js=class{capacity;data=new Map;parameters=[];constructor({size:e,params:r}){this.capacity=e??50,r&&(this.parameters=r)}get(e,r){let n=this.hash(e);if(n===!1)return r();if(!this.data.has(n)){if(this.data.size>this.capacity+10){let i=this.data.keys(),o=0;for(;;){let{value:s,done:a}=i.next();if(this.data.delete(s),a||++o>10)break}}this.data.set(n,r())}return this.data.get(n)}size(){return this.data.size}hash(e){let r="",{parameters:n}=this;if(n.length===0)return!1;for(let i of n){let o=String(e[i]??"");if(o.includes("|;"))return!1;r+=o+"|;"}return r}}});var yot,tx,jV=g(()=>{"use strict";yot=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),tx=t=>yot.test(t)||t.startsWith("[")&&t.endsWith("]")});var bot,Gg,qV=g(()=>{"use strict";bot=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Gg=(t,e=!1)=>{if(!e)return bot.test(t);let r=t.split(".");for(let n of r)if(!Gg(n))return!1;return!0}});var uo,h8=g(()=>{"use strict";uo={}});var Qd,J0e=g(()=>{"use strict";Qd="endpoints"});function hc(t){return typeof t!="object"||t==null?t:"ref"in t?`$${hc(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(hc).join(", ")})`:JSON.stringify(t,null,2)}var Q0e=g(()=>{"use strict"});var rx=g(()=>{"use strict";J0e();Q0e()});var bn,Z0e=g(()=>{"use strict";bn=class extends Error{constructor(e){super(e),this.name="EndpointError"}}});var X0e=g(()=>{"use strict"});var e1e=g(()=>{"use strict"});var t1e=g(()=>{"use strict"});var r1e=g(()=>{"use strict"});var n1e=g(()=>{"use strict"});var i1e=g(()=>{"use strict"});var gc=g(()=>{"use strict";Z0e();X0e();e1e();t1e();r1e();n1e();i1e()});var o1e,s1e=g(()=>{"use strict";o1e=(t,e)=>t===e});var a1e,c1e=g(()=>{"use strict";gc();a1e=t=>{let e=t.split("."),r=[];for(let n of e){let i=n.indexOf("[");if(i!==-1){if(n.indexOf("]")!==n.length-1)throw new bn(`Path: '${t}' does not end with ']'`);let o=n.slice(i+1,-1);if(Number.isNaN(parseInt(o)))throw new bn(`Invalid array index: '${o}' in path: '${t}'`);i!==0&&r.push(n.slice(0,i)),r.push(o)}else r.push(n)}return r}});var g8,l1e=g(()=>{"use strict";gc();c1e();g8=(t,e)=>a1e(e).reduce((r,n)=>{if(typeof r!="object")throw new bn(`Index '${n}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},t)});var u1e,d1e=g(()=>{"use strict";u1e=t=>t!=null});var p1e,m1e=g(()=>{"use strict";p1e=t=>!t});var HV,f1e,h1e=g(()=>{"use strict";rf();jV();HV={[Ub.HTTP]:80,[Ub.HTTPS]:443},f1e=t=>{let e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){let{hostname:p,port:m,protocol:h="",path:f="",query:y={}}=t,v=new URL(`${h}//${p}${m?`:${m}`:""}${f}`);return v.search=Object.entries(y).map(([_,x])=>`${_}=${x}`).join("&"),v}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;let r=e.href,{host:n,hostname:i,pathname:o,protocol:s,search:a}=e;if(a)return null;let c=s.slice(0,-1);if(!Object.values(Ub).includes(c))return null;let l=tx(i),u=r.includes(`${n}:${HV[c]}`)||typeof t=="string"&&t.includes(`${n}:${HV[c]}`),d=`${n}${u?`:${HV[c]}`:""}`;return{scheme:c,authority:d,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:l}}});var g1e,y1e=g(()=>{"use strict";g1e=(t,e)=>t===e});var b1e,v1e=g(()=>{"use strict";b1e=(t,e,r,n)=>e>=r||t.length<r?null:n?t.substring(t.length-r,t.length-e):t.substring(e,r)});var _1e,S1e=g(()=>{"use strict";_1e=t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)});var WV=g(()=>{"use strict";s1e();l1e();d1e();qV();m1e();h1e();y1e();v1e();S1e()});var w1e,x1e=g(()=>{"use strict";WV();w1e={booleanEquals:o1e,getAttr:g8,isSet:u1e,isValidHostLabel:Gg,not:p1e,parseURL:f1e,stringEquals:g1e,substring:b1e,uriEncode:_1e}});var y8,GV=g(()=>{"use strict";WV();y8=(t,e)=>{let r=[],n={...e.endpointParams,...e.referenceRecord},i=0;for(;i<t.length;){let o=t.indexOf("{",i);if(o===-1){r.push(t.slice(i));break}r.push(t.slice(i,o));let s=t.indexOf("}",o);if(s===-1){r.push(t.slice(o));break}t[o+1]==="{"&&t[s+1]==="}"&&(r.push(t.slice(o+1,s)),i=s+2);let a=t.substring(o+1,s);if(a.includes("#")){let[c,l]=a.split("#");r.push(g8(n[c],l))}else r.push(n[a]);i=s+1}return r.join("")}});var A1e,E1e=g(()=>{"use strict";A1e=({ref:t},e)=>({...e.endpointParams,...e.referenceRecord})[t]});var Kg,b8,R1e,nx=g(()=>{"use strict";gc();h8();x1e();GV();E1e();Kg=(t,e,r)=>{if(typeof t=="string")return y8(t,r);if(t.fn)return R1e.callFunction(t,r);if(t.ref)return A1e(t,r);throw new bn(`'${e}': ${String(t)} is not a string, function or reference.`)},b8=({fn:t,argv:e},r)=>{let n=e.map(o=>["boolean","number"].includes(typeof o)?o:R1e.evaluateExpression(o,"arg",r)),i=t.split(".");return i[0]in uo&&i[1]!=null?uo[i[0]][i[1]](...n):w1e[t](...n)},R1e={evaluateExpression:Kg,callFunction:b8}});var T1e=g(()=>{"use strict";nx()});var I1e,C1e=g(()=>{"use strict";rx();gc();T1e();I1e=({assign:t,...e},r)=>{if(t&&t in r.referenceRecord)throw new bn(`'${t}' is already defined in Reference Record.`);let n=b8(e,r);return r.logger?.debug?.(`${Qd} evaluateCondition: ${hc(e)} = ${hc(n)}`),{result:n===""?!0:!!n,...t!=null&&{toAssign:{name:t,value:n}}}}});var Qb,v8=g(()=>{"use strict";rx();C1e();Qb=(t=[],e)=>{let r={};for(let n of t){let{result:i,toAssign:o}=I1e(n,{...e,referenceRecord:{...e.referenceRecord,...r}});if(!i)return{result:i};o&&(r[o.name]=o.value,e.logger?.debug?.(`${Qd} assign: ${o.name} := ${hc(o.value)}`))}return{result:!0,referenceRecord:r}}});var O1e,N1e=g(()=>{"use strict";gc();nx();O1e=(t,e)=>Object.entries(t).reduce((r,[n,i])=>({...r,[n]:i.map(o=>{let s=Kg(o,"Header value entry",e);if(typeof s!="string")throw new bn(`Header '${n}' value '${s}' is not a string`);return s})}),{})});var KV,P1e,k1e,D1e=g(()=>{"use strict";gc();GV();KV=(t,e)=>Object.entries(t).reduce((r,[n,i])=>({...r,[n]:k1e.getEndpointProperty(i,e)}),{}),P1e=(t,e)=>{if(Array.isArray(t))return t.map(r=>P1e(r,e));switch(typeof t){case"string":return y8(t,e);case"object":if(t===null)throw new bn(`Unexpected endpoint property: ${t}`);return k1e.getEndpointProperties(t,e);case"boolean":return t;default:throw new bn(`Unexpected endpoint property type: ${typeof t}`)}},k1e={getEndpointProperty:P1e,getEndpointProperties:KV}});var M1e,$1e=g(()=>{"use strict";gc();nx();M1e=(t,e)=>{let r=Kg(t,"Endpoint URL",e);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new bn(`Endpoint URL must be a string, got ${typeof r}`)}});var L1e,B1e=g(()=>{"use strict";rx();v8();N1e();D1e();$1e();L1e=(t,e)=>{let{conditions:r,endpoint:n}=t,{result:i,referenceRecord:o}=Qb(r,e);if(!i)return;let s={...e,referenceRecord:{...e.referenceRecord,...o}},{url:a,properties:c,headers:l}=n;return e.logger?.debug?.(`${Qd} Resolving endpoint from template: ${hc(n)}`),{...l!=null&&{headers:O1e(l,s)},...c!=null&&{properties:KV(c,s)},url:M1e(a,s)}}});var U1e,F1e=g(()=>{"use strict";gc();v8();nx();U1e=(t,e)=>{let{conditions:r,error:n}=t,{result:i,referenceRecord:o}=Qb(r,e);if(i)throw new bn(Kg(n,"Error",{...e,referenceRecord:{...e.referenceRecord,...o}}))}});var YV,vot,z1e,V1e=g(()=>{"use strict";gc();v8();B1e();F1e();YV=(t,e)=>{for(let r of t)if(r.type==="endpoint"){let n=L1e(r,e);if(n)return n}else if(r.type==="error")U1e(r,e);else if(r.type==="tree"){let n=z1e.evaluateTreeRule(r,e);if(n)return n}else throw new bn(`Unknown endpoint rule: ${r}`);throw new bn("Rules evaluation failed")},vot=(t,e)=>{let{conditions:r,rules:n}=t,{result:i,referenceRecord:o}=Qb(r,e);if(i)return z1e.evaluateRules(n,{...e,referenceRecord:{...e.referenceRecord,...o}})},z1e={evaluateRules:YV,evaluateTreeRule:vot}});var j1e=g(()=>{"use strict";h8();V1e()});var yc,q1e=g(()=>{"use strict";rx();gc();j1e();yc=(t,e)=>{let{endpointParams:r,logger:n}=e,{parameters:i,rules:o}=t;e.logger?.debug?.(`${Qd} Initial EndpointParams: ${hc(r)}`);let s=Object.entries(i).filter(([,l])=>l.default!=null).map(([l,u])=>[l,u.default]);if(s.length>0)for(let[l,u]of s)r[l]=r[l]??u;let a=Object.entries(i).filter(([,l])=>l.required).map(([l])=>l);for(let l of a)if(r[l]==null)throw new bn(`Missing required parameter: '${l}'`);let c=YV(o,{endpointParams:r,logger:n,referenceRecord:{}});return e.logger?.debug?.(`${Qd} Resolved endpoint: ${hc(c)}`),c}});var Ml=g(()=>{"use strict";Y0e();jV();qV();h8();q1e();gc()});var JV=g(()=>{"use strict";Ml()});var QV,H1e=g(()=>{"use strict";Ml();JV();QV=(t,e=!1)=>{if(e){for(let r of t.split("."))if(!QV(r))return!1;return!0}return!(!Gg(t)||t.length<3||t.length>63||t!==t.toLowerCase()||tx(t))}});var W1e,G1e=g(()=>{"use strict";W1e=t=>{let e=t.split(":");if(e.length<6)return null;let[r,n,i,o,s,...a]=e;if(r!=="arn"||n===""||i===""||a.join(":")==="")return null;let c=a.map(l=>l.split("/")).flat();return{partition:n,service:i,region:o,accountId:s,resourceId:c}}});var Y1e,K1e=g(()=>{Y1e={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"AWS European Sovereign Cloud (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"},"us-isob-west-1":{description:"US ISOB West"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],version:"1.1"}});var Sot,wot,J1e,Q1e,ZV=g(()=>{"use strict";K1e();Sot=Y1e,wot="",J1e=t=>{let{partitions:e}=Sot;for(let n of e){let{regions:i,outputs:o}=n;for(let[s,a]of Object.entries(i))if(s===t)return{...o,...a}}for(let n of e){let{regionRegex:i,outputs:o}=n;if(new RegExp(i).test(t))return{...o}}let r=e.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},Q1e=()=>wot});var Ta,Z1e=g(()=>{"use strict";Ml();H1e();G1e();ZV();Ta={isVirtualHostableS3Bucket:QV,parseArn:W1e,partition:J1e};uo.aws=Ta});function X1e(t){let e={};if(t=t.replace(/^\?/,""),t)for(let r of t.split("&")){let[n,i=null]=r.split("=");n=decodeURIComponent(n),i&&(i=decodeURIComponent(i)),n in e?Array.isArray(e[n])?e[n].push(i):e[n]=[e[n],i]:e[n]=i}return e}var eye=g(()=>{"use strict"});var Ki,Zd=g(()=>{"use strict";eye();Ki=t=>{if(typeof t=="string")return Ki(new URL(t));let{hostname:e,pathname:r,port:n,protocol:i,search:o}=t,s;return o&&(s=X1e(o)),{hostname:e,port:n?parseInt(n):void 0,protocol:i,path:r,query:s}}});var tye=g(()=>{"use strict"});var rye=g(()=>{"use strict"});var nye=g(()=>{"use strict"});var iye=g(()=>{"use strict"});var oye=g(()=>{"use strict"});var sye=g(()=>{"use strict"});var aye=g(()=>{"use strict"});var cye=g(()=>{"use strict"});var lye=g(()=>{"use strict";nye();iye();oye();sye();aye();cye()});var of=g(()=>{"use strict";Z1e();ZV();JV();tye();rye();lye()});var uye,bc,dye=g(()=>{"use strict";uye={warningEmitted:!1},bc=t=>{t&&!uye.warningEmitted&&parseInt(t.substring(1,t.indexOf(".")))<20&&(uye.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js ${t} in January 2026.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/c895JFp`))}});function hr(t,e,r){return t.$source||(t.$source={}),t.$source[e]=r,t}var pye=g(()=>{"use strict"});function $l(t,e,r){t.__aws_sdk_context?t.__aws_sdk_context.features||(t.__aws_sdk_context.features={}):t.__aws_sdk_context={features:{}},t.__aws_sdk_context.features[e]=r}var mye=g(()=>{"use strict"});var fye=g(()=>{"use strict"});var po=g(()=>{"use strict";dye();pye();mye();fye()});var XV,hye=g(()=>{"use strict";An();XV=t=>oc.isInstance(t)?t.headers?.date??t.headers?.Date:void 0});var _8,ej=g(()=>{"use strict";_8=t=>new Date(Date.now()+t)});var gye,yye=g(()=>{"use strict";ej();gye=(t,e)=>Math.abs(_8(e).getTime()-t)>=3e5});var tj,bye=g(()=>{"use strict";yye();tj=(t,e)=>{let r=Date.parse(t);return gye(r,e)?r-Date.now():e}});var vye=g(()=>{"use strict";hye();ej();bye()});var ix,_ye,mo,Sye=g(()=>{"use strict";An();vye();ix=(t,e)=>{if(!e)throw new Error(`Property \`${t}\` is not resolved for AWS SDK SigV4Auth`);return e},_ye=async t=>{let e=ix("context",t.context),r=ix("config",t.config),n=e.endpointV2?.properties?.authSchemes?.[0],o=await ix("signer",r.signer)(n),s=t?.signingRegion,a=t?.signingRegionSet,c=t?.signingName;return{config:r,signer:o,signingRegion:s,signingRegionSet:a,signingName:c}},mo=class{async sign(e,r,n){if(!Or.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let i=await _ye(n),{config:o,signer:s}=i,{signingRegion:a,signingName:c}=i,l=n.context;if(l?.authSchemes?.length??!1){let[d,p]=l.authSchemes;d?.name==="sigv4a"&&p?.name==="sigv4"&&(a=p?.signingRegion??a,c=p?.signingName??c)}return await s.sign(e,{signingDate:_8(o.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(e){return r=>{let n=r.ServerTime??XV(r.$response);if(n){let i=ix("config",e.config),o=i.systemClockOffset;i.systemClockOffset=tj(n,i.systemClockOffset),i.systemClockOffset!==o&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(e,r){let n=XV(e);if(n){let i=ix("config",r.config);i.systemClockOffset=tj(n,i.systemClockOffset)}}}});var rj,wye=g(()=>{"use strict";rj=t=>typeof t=="string"&&t.length>0?t.split(",").map(e=>e.trim()):[]});var xye,nj=g(()=>{"use strict";xye=t=>`AWS_BEARER_TOKEN_${t.replace(/[\s-]/g,"_").toUpperCase()}`});var Aye,Eye,vc,Rye=g(()=>{"use strict";wye();nj();Aye="AWS_AUTH_SCHEME_PREFERENCE",Eye="auth_scheme_preference",vc={environmentVariableSelector:(t,e)=>{if(e?.signingName&&xye(e.signingName)in t)return["httpBearerAuth"];if(Aye in t)return rj(t[Aye])},configFileSelector:t=>{if(Eye in t)return rj(t[Eye])},default:[]}});var _c,ox=g(()=>{"use strict";_c=class t extends Error{name="ProviderError";tryNextLink;constructor(e,r=!0){let n,i=!0;typeof r=="boolean"?(n=void 0,i=r):r!=null&&typeof r=="object"&&(n=r.logger,i=r.tryNextLink??!0),super(e),this.tryNextLink=i,Object.setPrototypeOf(this,t.prototype),n?.debug?.(`@smithy/property-provider ${i?"->":"(!)"} ${e}`)}static from(e,r=!0){return Object.assign(new this(e.message,r),e)}}});var Xe,Tye=g(()=>{"use strict";ox();Xe=class t extends _c{name="CredentialsProviderError";constructor(e,r=!0){super(e,r),Object.setPrototypeOf(this,t.prototype)}}});var Sc,Iye=g(()=>{"use strict";ox();Sc=class t extends _c{name="TokenProviderError";constructor(e,r=!0){super(e,r),Object.setPrototypeOf(this,t.prototype)}}});var Zb,Cye=g(()=>{"use strict";ox();Zb=(...t)=>async()=>{if(t.length===0)throw new _c("No providers in chain");let e;for(let r of t)try{return await r()}catch(n){if(e=n,n?.tryNextLink)continue;throw n}throw e}});var Oye,Nye=g(()=>{"use strict";Oye=t=>()=>Promise.resolve(t)});var S8,Pye=g(()=>{"use strict";S8=(t,e,r)=>{let n,i,o,s=!1,a=async()=>{i||(i=t());try{n=await i,o=!0,s=!1}finally{i=void 0}return n};return e===void 0?async c=>((!o||c?.forceRefresh)&&(n=await a()),n):async c=>((!o||c?.forceRefresh)&&(n=await a()),s?n:r&&!r(n)?(s=!0,n):(e(n)&&await a(),n))}});var Br=g(()=>{"use strict";Tye();ox();Iye();Cye();Nye();Pye()});var kye=g(()=>{"use strict"});var Dye,Mye,ij,$ye,Lye,oj,sj,aj,cj,xot,Bye,Uye,sx,Fye,zye,Vye,jye,w8,qye,Hye,Wye,lj,Gye,sf=g(()=>{"use strict";Dye="X-Amz-Algorithm",Mye="X-Amz-Credential",ij="X-Amz-Date",$ye="X-Amz-SignedHeaders",Lye="X-Amz-Expires",oj="X-Amz-Signature",sj="X-Amz-Security-Token",aj="authorization",cj=ij.toLowerCase(),xot="date",Bye=[aj,cj,xot],Uye=oj.toLowerCase(),sx="x-amz-content-sha256",Fye=sj.toLowerCase(),zye={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Vye=/^proxy-/,jye=/^sec-/,w8="AWS4-HMAC-SHA256",qye="AWS4-HMAC-SHA256-PAYLOAD",Hye="UNSIGNED-PAYLOAD",Wye=50,lj="aws4_request",Gye=3600*24*7});var x8,uj,A8,Yye,Kye,dj=g(()=>{"use strict";Hg();ni();sf();x8={},uj=[],A8=(t,e,r)=>`${t}/${e}/${r}/${lj}`,Yye=async(t,e,r,n,i)=>{let o=await Kye(t,e.secretAccessKey,e.accessKeyId),s=`${r}:${n}:${i}:${Us(o)}:${e.sessionToken}`;if(s in x8)return x8[s];for(uj.push(s);uj.length>Wye;)delete x8[uj.shift()];let a=`AWS4${e.secretAccessKey}`;for(let c of[r,n,i,lj])a=await Kye(t,a,c);return x8[s]=a},Kye=(t,e,r)=>{let n=new t(e);return n.update(Dl(r)),n.digest()}});var pj,Jye=g(()=>{"use strict";sf();pj=({headers:t},e,r)=>{let n={};for(let i of Object.keys(t).sort()){if(t[i]==null)continue;let o=i.toLowerCase();(o in zye||e?.has(o)||Vye.test(o)||jye.test(o))&&(!r||r&&!r.has(o))||(n[o]=t[i].trim().replace(/\s+/g," "))}return n}});var E8,Qye=g(()=>{"use strict";hV();Hg();ni();sf();E8=async({headers:t,body:e},r)=>{for(let n of Object.keys(t))if(n.toLowerCase()===sx)return t[n];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||ZI(e)){let n=new r;return n.update(Dl(e)),Us(await n.digest())}return Hye}});function Xye(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}var R8,Zye,Aot,mj,ebe=g(()=>{"use strict";Hg();ni();R8=class{format(e){let r=[];for(let o of Object.keys(e)){let s=yn(o);r.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(e[o]))}let n=new Uint8Array(r.reduce((o,s)=>o+s.byteLength,0)),i=0;for(let o of r)n.set(o,i),i+=o.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,e.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":let i=new Uint8Array(9);return i[0]=5,i.set(e.value.bytes,1),i;case"binary":let o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);let s=new Uint8Array(o.buffer);return s.set(e.value,3),s;case"string":let a=yn(e.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let l=new Uint8Array(c.buffer);return l.set(a,3),l;case"timestamp":let u=new Uint8Array(9);return u[0]=8,u.set(mj.fromNumber(e.value.valueOf()).bytes,1),u;case"uuid":if(!Aot.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let d=new Uint8Array(17);return d[0]=9,d.set(xge(e.value.replace(/\-/g,"")),1),d}}};(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(Zye||(Zye={}));Aot=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,mj=class t{bytes;constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,i=Math.abs(Math.round(e));n>-1&&i>0;n--,i/=256)r[n]=i;return e<0&&Xye(r),new t(r)}valueOf(){let e=this.bytes.slice(0),r=e[0]&128;return r&&Xye(e),parseInt(Us(e),16)*(r?-1:1)}toString(){return String(this.valueOf())}}});var tbe,rbe=g(()=>{"use strict";tbe=(t,e)=>{t=t.toLowerCase();for(let r of Object.keys(e))if(t===r.toLowerCase())return!0;return!1}});var nbe,ibe=g(()=>{"use strict";An();nbe=(t,e={})=>{let{headers:r,query:n={}}=Or.clone(t);for(let i of Object.keys(r)){let o=i.toLowerCase();(o.slice(0,6)==="x-amz-"&&!e.unhoistableHeaders?.has(o)||e.hoistableHeaders?.has(o))&&(n[i]=r[i],delete r[i])}return{...t,headers:r,query:n}}});var fj,obe=g(()=>{"use strict";An();sf();fj=t=>{t=Or.clone(t);for(let e of Object.keys(t.headers))Bye.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t}});var sbe,abe=g(()=>{"use strict";XI();sf();sbe=({query:t={}})=>{let e=[],r={};for(let n of Object.keys(t)){if(n.toLowerCase()===Uye)continue;let i=Ru(n);e.push(i);let o=t[n];typeof o=="string"?r[i]=`${i}=${Ru(o)}`:Array.isArray(o)&&(r[i]=o.slice(0).reduce((s,a)=>s.concat([`${i}=${Ru(a)}`]),[]).sort().join("&"))}return e.sort().map(n=>r[n]).filter(n=>n).join("&")}});var cbe,Eot,lbe=g(()=>{"use strict";cbe=t=>Eot(t).toISOString().replace(/\.\d{3}Z$/,"Z"),Eot=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t});var T8,ube=g(()=>{"use strict";Hg();Do();XI();ni();abe();lbe();T8=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:e,credentials:r,region:n,service:i,sha256:o,uriEscapePath:s=!0}){this.service=i,this.sha256=o,this.uriEscapePath=s,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=Nr(n),this.credentialProvider=Nr(r)}createCanonicalRequest(e,r,n){let i=Object.keys(r).sort();return`${e.method}
${this.getCanonicalPath(e)}
${sbe(e)}
${i.map(o=>`${o}:${r[o]}`).join(`
`)}

${i.join(";")}
${n}`}async createStringToSign(e,r,n,i){let o=new this.sha256;o.update(Dl(n));let s=await o.digest();return`${i}
${e}
${r}
${Us(s)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let r=[];for(let o of e.split("/"))o?.length!==0&&o!=="."&&(o===".."?r.pop():r.push(o));let n=`${e?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&e?.endsWith("/")?"/":""}`;return Ru(n).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(e){let r=cbe(e).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}}});var ax,dbe=g(()=>{"use strict";Hg();ni();sf();dj();Jye();Qye();ebe();rbe();ibe();obe();ube();ax=class extends T8{headerFormatter=new R8;constructor({applyChecksum:e,credentials:r,region:n,service:i,sha256:o,uriEscapePath:s=!0}){super({applyChecksum:e,credentials:r,region:n,service:i,sha256:o,uriEscapePath:s})}async presign(e,r={}){let{signingDate:n=new Date,expiresIn:i=3600,unsignableHeaders:o,unhoistableHeaders:s,signableHeaders:a,hoistableHeaders:c,signingRegion:l,signingService:u}=r,d=await this.credentialProvider();this.validateResolvedCredentials(d);let p=l??await this.regionProvider(),{longDate:m,shortDate:h}=this.formatDate(n);if(i>Gye)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let f=A8(h,p,u??this.service),y=nbe(fj(e),{unhoistableHeaders:s,hoistableHeaders:c});d.sessionToken&&(y.query[sj]=d.sessionToken),y.query[Dye]=w8,y.query[Mye]=`${d.accessKeyId}/${f}`,y.query[ij]=m,y.query[Lye]=i.toString(10);let v=pj(y,o,a);return y.query[$ye]=this.getCanonicalHeaderList(v),y.query[oj]=await this.getSignature(m,f,this.getSigningKey(d,p,h,u),this.createCanonicalRequest(y,v,await E8(e,this.sha256))),y}async sign(e,r){return typeof e=="string"?this.signString(e,r):e.headers&&e.payload?this.signEvent(e,r):e.message?this.signMessage(e,r):this.signRequest(e,r)}async signEvent({headers:e,payload:r},{signingDate:n=new Date,priorSignature:i,signingRegion:o,signingService:s}){let a=o??await this.regionProvider(),{shortDate:c,longDate:l}=this.formatDate(n),u=A8(c,a,s??this.service),d=await E8({headers:{},body:r},this.sha256),p=new this.sha256;p.update(e);let m=Us(await p.digest()),h=[qye,l,u,i,m,d].join(`
`);return this.signString(h,{signingDate:n,signingRegion:a,signingService:s})}async signMessage(e,{signingDate:r=new Date,signingRegion:n,signingService:i}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:r,signingRegion:n,signingService:i,priorSignature:e.priorSignature}).then(s=>({message:e.message,signature:s}))}async signString(e,{signingDate:r=new Date,signingRegion:n,signingService:i}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let s=n??await this.regionProvider(),{shortDate:a}=this.formatDate(r),c=new this.sha256(await this.getSigningKey(o,s,a,i));return c.update(Dl(e)),Us(await c.digest())}async signRequest(e,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:i,signingRegion:o,signingService:s}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=o??await this.regionProvider(),l=fj(e),{longDate:u,shortDate:d}=this.formatDate(r),p=A8(d,c,s??this.service);l.headers[cj]=u,a.sessionToken&&(l.headers[Fye]=a.sessionToken);let m=await E8(l,this.sha256);!tbe(sx,l.headers)&&this.applyChecksum&&(l.headers[sx]=m);let h=pj(l,i,n),f=await this.getSignature(u,p,this.getSigningKey(a,c,d,s),this.createCanonicalRequest(l,h,m));return l.headers[aj]=`${w8} Credential=${a.accessKeyId}/${p}, SignedHeaders=${this.getCanonicalHeaderList(h)}, Signature=${f}`,l}async getSignature(e,r,n,i){let o=await this.createStringToSign(e,r,i,w8),s=new this.sha256(await n);return s.update(Dl(o)),Us(await s.digest())}getSigningKey(e,r,n,i){return Yye(this.sha256,e,n,r,i||this.service)}}});var pbe=g(()=>{"use strict"});var mbe=g(()=>{"use strict";dbe();sf();dj();pbe()});function Rot(t,{credentials:e,credentialDefaultProvider:r}){let n;return e?e?.memoized?n=e:n=H0e(e,q0e,zV):r?n=Vg(r(Object.assign({},t,{parentClientConfig:t}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function Tot(t,e){if(e.configBound)return e;let r=async n=>e({...n,callerClientConfig:t});return r.memoized=e.memoized,r.configBound=!0,r}var wc,fbe=g(()=>{"use strict";po();dn();mbe();wc=t=>{let e=t.credentials,r=!!t.credentials,n;Object.defineProperty(t,"credentials",{set(l){l&&l!==e&&l!==n&&(r=!0),e=l;let u=Rot(t,{credentials:e,credentialDefaultProvider:t.credentialDefaultProvider}),d=Tot(t,u);if(r&&!d.attributed){let p=typeof e=="object"&&e!==null;n=async m=>{let f=await d(m);return p&&(!f.$source||Object.keys(f.$source).length===0)?hr(f,"CREDENTIALS_CODE","e"):f},n.memoized=d.memoized,n.configBound=d.configBound,n.attributed=!0}else n=d},get(){return n},enumerable:!0,configurable:!0}),t.credentials=e;let{signingEscapePath:i=!0,systemClockOffset:o=t.systemClockOffset||0,sha256:s}=t,a;return t.signer?a=Vg(t.signer):t.regionInfoProvider?a=()=>Vg(t.region)().then(async l=>[await t.regionInfoProvider(l,{useFipsEndpoint:await t.useFipsEndpoint(),useDualstackEndpoint:await t.useDualstackEndpoint()})||{},l]).then(([l,u])=>{let{signingRegion:d,signingService:p}=l;t.signingRegion=t.signingRegion||d||u,t.signingName=t.signingName||p||t.serviceId;let m={...t,credentials:t.credentials,region:t.signingRegion,service:t.signingName,sha256:s,uriEscapePath:i},h=t.signerConstructor||ax;return new h(m)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:await Vg(t.region)(),properties:{}},l);let u=l.signingRegion,d=l.signingName;t.signingRegion=t.signingRegion||u,t.signingName=t.signingName||d||t.serviceId;let p={...t,credentials:t.credentials,region:t.signingRegion,service:t.signingName,sha256:s,uriEscapePath:i},m=t.signerConstructor||ax;return new m(p)},Object.assign(t,{systemClockOffset:o,signingEscapePath:i,signer:a})}});var hbe=g(()=>{"use strict";Sye();Rye();kye();fbe()});var gbe=g(()=>{"use strict";hbe();nj()});var Yg,af,Xb,ybe,bbe,vbe=g(()=>{"use strict";Yg=(t,e)=>{let r=[];if(t&&r.push(t),e)for(let n of e)r.push(n);return r},af=(t,e)=>`${t||"anonymous"}${e&&e.length>0?` (a.k.a. ${e.join(",")})`:""}`,Xb=()=>{let t=[],e=[],r=!1,n=new Set,i=d=>d.sort((p,m)=>ybe[m.step]-ybe[p.step]||bbe[m.priority||"normal"]-bbe[p.priority||"normal"]),o=d=>{let p=!1,m=h=>{let f=Yg(h.name,h.aliases);if(f.includes(d)){p=!0;for(let y of f)n.delete(y);return!1}return!0};return t=t.filter(m),e=e.filter(m),p},s=d=>{let p=!1,m=h=>{if(h.middleware===d){p=!0;for(let f of Yg(h.name,h.aliases))n.delete(f);return!1}return!0};return t=t.filter(m),e=e.filter(m),p},a=d=>(t.forEach(p=>{d.add(p.middleware,{...p})}),e.forEach(p=>{d.addRelativeTo(p.middleware,{...p})}),d.identifyOnResolve?.(u.identifyOnResolve()),d),c=d=>{let p=[];return d.before.forEach(m=>{m.before.length===0&&m.after.length===0?p.push(m):p.push(...c(m))}),p.push(d),d.after.reverse().forEach(m=>{m.before.length===0&&m.after.length===0?p.push(m):p.push(...c(m))}),p},l=(d=!1)=>{let p=[],m=[],h={};return t.forEach(y=>{let v={...y,before:[],after:[]};for(let _ of Yg(v.name,v.aliases))h[_]=v;p.push(v)}),e.forEach(y=>{let v={...y,before:[],after:[]};for(let _ of Yg(v.name,v.aliases))h[_]=v;m.push(v)}),m.forEach(y=>{if(y.toMiddleware){let v=h[y.toMiddleware];if(v===void 0){if(d)return;throw new Error(`${y.toMiddleware} is not found when adding ${af(y.name,y.aliases)} middleware ${y.relation} ${y.toMiddleware}`)}y.relation==="after"&&v.after.push(y),y.relation==="before"&&v.before.push(y)}}),i(p).map(c).reduce((y,v)=>(y.push(...v),y),[])},u={add:(d,p={})=>{let{name:m,override:h,aliases:f}=p,y={step:"initialize",priority:"normal",middleware:d,...p},v=Yg(m,f);if(v.length>0){if(v.some(_=>n.has(_))){if(!h)throw new Error(`Duplicate middleware name '${af(m,f)}'`);for(let _ of v){let x=t.findIndex(I=>I.name===_||I.aliases?.some(N=>N===_));if(x===-1)continue;let E=t[x];if(E.step!==y.step||y.priority!==E.priority)throw new Error(`"${af(E.name,E.aliases)}" middleware with ${E.priority} priority in ${E.step} step cannot be overridden by "${af(m,f)}" middleware with ${y.priority} priority in ${y.step} step.`);t.splice(x,1)}}for(let _ of v)n.add(_)}t.push(y)},addRelativeTo:(d,p)=>{let{name:m,override:h,aliases:f}=p,y={middleware:d,...p},v=Yg(m,f);if(v.length>0){if(v.some(_=>n.has(_))){if(!h)throw new Error(`Duplicate middleware name '${af(m,f)}'`);for(let _ of v){let x=e.findIndex(I=>I.name===_||I.aliases?.some(N=>N===_));if(x===-1)continue;let E=e[x];if(E.toMiddleware!==y.toMiddleware||E.relation!==y.relation)throw new Error(`"${af(E.name,E.aliases)}" middleware ${E.relation} "${E.toMiddleware}" middleware cannot be overridden by "${af(m,f)}" middleware ${y.relation} "${y.toMiddleware}" middleware.`);e.splice(x,1)}}for(let _ of v)n.add(_)}e.push(y)},clone:()=>a(Xb()),use:d=>{d.applyToStack(u)},remove:d=>typeof d=="string"?o(d):s(d),removeByTag:d=>{let p=!1,m=h=>{let{tags:f,name:y,aliases:v}=h;if(f&&f.includes(d)){let _=Yg(y,v);for(let x of _)n.delete(x);return p=!0,!1}return!0};return t=t.filter(m),e=e.filter(m),p},concat:d=>{let p=a(Xb());return p.use(d),p.identifyOnResolve(r||p.identifyOnResolve()||(d.identifyOnResolve?.()??!1)),p},applyToStack:a,identify:()=>l(!0).map(d=>{let p=d.step??d.relation+" "+d.toMiddleware;return af(d.name,d.aliases)+" - "+p}),identifyOnResolve(d){return typeof d=="boolean"&&(r=d),r},resolve:(d,p)=>{for(let m of l().map(h=>h.middleware).reverse())d=m(d,p);return r&&console.log(u.identify()),d}};return u},ybe={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},bbe={high:3,normal:2,low:1}});var hj=g(()=>{"use strict";vbe()});var Pi,_be=g(()=>{"use strict";hj();Pi=class{config;middlewareStack=Xb();initConfig;handlers;constructor(e){this.config=e;let{protocol:r,protocolSettings:n}=e;n&&typeof r=="function"&&(e.protocol=new r(n))}send(e,r,n){let i=typeof r!="function"?r:void 0,o=typeof r=="function"?r:n,s=i===void 0&&this.config.cacheMiddleware===!0,a;if(s){this.handlers||(this.handlers=new WeakMap);let c=this.handlers;c.has(e.constructor)?a=c.get(e.constructor):(a=e.resolveMiddleware(this.middlewareStack,this.config,i),c.set(e.constructor,a))}else delete this.handlers,a=e.resolveMiddleware(this.middlewareStack,this.config,i);if(o)a(e).then(c=>o(null,c.output),c=>o(c)).catch(()=>{});else return a(e).then(c=>c.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}}});var Sbe=g(()=>{"use strict";Jd()});function I8(t,e){if(e==null)return e;let r=Pt.of(t);if(r.getMergedTraits().sensitive)return gj;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return gj}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return gj}else if(r.isStructSchema()&&typeof e=="object"){let n=e,i={};for(let[o,s]of r.structIterator())n[o]!=null&&(i[o]=I8(s,n[o]));return i}return e}var gj,wbe=g(()=>{"use strict";Pr();gj="***SensitiveInformation***"});var re,yj,xbe=g(()=>{"use strict";hj();rf();wbe();re=class{middlewareStack=Xb();schema;static classBuilder(){return new yj}resolveMiddlewareWithContext(e,r,n,{middlewareFn:i,clientName:o,commandName:s,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:l,additionalContext:u,CommandCtor:d}){for(let y of i.bind(this)(d,e,r,n))this.middlewareStack.use(y);let p=e.concat(this.middlewareStack),{logger:m}=r,h={logger:m,clientName:o,commandName:s,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[Qw]:{commandInstance:this,...l},...u},{requestHandler:f}=r;return p.resolve(y=>f.handle(y.request,n||{}),h)}},yj=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,r,n={}){return this._smithyContext={service:e,operation:r,...n},this}c(e={}){return this._additionalContext=e,this}n(e,r){return this._clientName=e,this._commandName=r,this}f(e=n=>n,r=n=>n){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=r,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){let e=this,r;return r=class extends re{input;static getEndpointParameterInstructions(){return e._ep}constructor(...[n]){super(),this.input=n??{},e._init(this),this.schema=e._operationSchema}resolveMiddleware(n,i,o){let s=e._operationSchema,a=s?.[4]??s?.input,c=s?.[5]??s?.output;return this.resolveMiddlewareWithContext(n,i,o,{CommandCtor:r,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog??(s?I8.bind(null,a):l=>l),outputFilterSensitiveLog:e._outputFilterSensitiveLog??(s?I8.bind(null,c):l=>l),smithyContext:e._smithyContext,additionalContext:e._additionalContext})}serialize=e._serializer;deserialize=e._deserializer}}}});var Abe=g(()=>{"use strict"});var xc,Ebe=g(()=>{"use strict";xc=(t,e,r)=>{for(let[o,s]of Object.entries(t)){let a=async function(l,u,d){let p=new s(l);if(typeof u=="function")this.send(p,u);else if(typeof d=="function"){if(typeof u!="object")throw new Error(`Expected http options but got ${typeof u}`);this.send(p,u||{},d)}else return this.send(p,u)},c=(o[0].toLowerCase()+o.slice(1)).replace(/Command$/,"");e.prototype[c]=a}let{paginators:n={},waiters:i={}}=r??{};for(let[o,s]of Object.entries(n))e.prototype[o]===void 0&&(e.prototype[o]=function(a={},c,...l){return s({...c,client:this},a,...l)});for(let[o,s]of Object.entries(i))e.prototype[o]===void 0&&(e.prototype[o]=async function(a={},c,...l){let u=c;return typeof c=="number"&&(u={maxWaitTime:c}),s({...u,client:this},a,...l)})}});var qs,bj,Rbe=g(()=>{"use strict";qs=class t extends Error{$fault;$response;$retryable;$metadata;constructor(e){super(e.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}static isInstance(e){if(!e)return!1;let r=e;return t.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](e){if(!e)return!1;let r=e;return this===t?t.isInstance(e):t.isInstance(e)?r.name&&this.name?this.prototype.isPrototypeOf(e)||r.name===this.name:this.prototype.isPrototypeOf(e):!1}},bj=(t,e={})=>{Object.entries(e).filter(([,n])=>n!==void 0).forEach(([n,i])=>{(t[n]==null||t[n]==="")&&(t[n]=i)});let r=t.message||t.Message||"UnknownError";return t.message=r,delete t.Message,t}});var Tbe=g(()=>{"use strict"});var Ac,Ibe=g(()=>{"use strict";Ac=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}}});var Cbe,Ec,Obe=g(()=>{"use strict";Cbe=!1,Ec=t=>{t&&!Cbe&&parseInt(t.substring(1,t.indexOf(".")))<16&&(Cbe=!0)}});var Nbe=g(()=>{"use strict"});var Pbe,kbe,Dbe=g(()=>{"use strict";rf();Pbe=t=>{let e=[];for(let r in Fb){let n=Fb[r];t[n]!==void 0&&e.push({algorithmId:()=>n,checksumConstructor:()=>t[n]})}return{addChecksumAlgorithm(r){e.push(r)},checksumAlgorithms(){return e}}},kbe=t=>{let e={};return t.checksumAlgorithms().forEach(r=>{e[r.algorithmId()]=r.checksumConstructor()}),e}});var Mbe,$be,Lbe=g(()=>{"use strict";Mbe=t=>({setRetryStrategy(e){t.retryStrategy=e},retryStrategy(){return t.retryStrategy}}),$be=t=>{let e={};return e.retryStrategy=t.retryStrategy(),e}});var Rc,Tc,Bbe=g(()=>{"use strict";Dbe();Lbe();Rc=t=>Object.assign(Pbe(t),Mbe(t)),Tc=t=>Object.assign(kbe(t),$be(t))});var Ube=g(()=>{"use strict";Bbe()});var Fbe=g(()=>{"use strict"});var vj,zbe=g(()=>{"use strict";vj=t=>{let e="#text";for(let r in t)t.hasOwnProperty(r)&&t[r][e]!==void 0?t[r]=t[r][e]:typeof t[r]=="object"&&t[r]!==null&&(t[r]=vj(t[r]));return t}});var Vbe=g(()=>{"use strict"});var Bo,jbe=g(()=>{"use strict";Bo=class{trace(){}debug(){}info(){}warn(){}error(){}}});var qbe=g(()=>{"use strict"});var Hbe=g(()=>{"use strict"});var Wbe=g(()=>{"use strict"});var cx,Gbe=g(()=>{"use strict";cx=t=>{if(t==null)return{};if(Array.isArray(t))return t.filter(e=>e!=null).map(cx);if(typeof t=="object"){let e={};for(let r of Object.keys(t))t[r]!=null&&(e[r]=cx(t[r]));return e}return t}});var fe=g(()=>{"use strict";_be();Sbe();xbe();Abe();Ebe();Tbe();Ibe();Obe();Rbe();Nbe();Ube();Fbe();zbe();Vbe();jbe();qbe();Hbe();Wbe();Gbe();Iu()});var cf,C8=g(()=>{"use strict";Pr();fe();cf=class{queryCompat;constructor(e=!1){this.queryCompat=e}resolveRestContentType(e,r){let n=r.getMemberSchemas(),i=Object.values(n).find(o=>!!o.getMergedTraits().httpPayload);if(i){let o=i.getMergedTraits().mediaType;return o||(i.isStringSchema()?"text/plain":i.isBlobSchema()?"application/octet-stream":e)}else if(!r.isUnitSchema()&&Object.values(n).find(s=>{let{httpQuery:a,httpQueryParams:c,httpHeader:l,httpLabel:u,httpPrefixHeaders:d}=s.getMergedTraits();return!a&&!c&&!l&&!u&&d===void 0}))return e}async getErrorSchemaOrThrowBaseException(e,r,n,i,o,s){let a=r,c=e;e.includes("#")&&([a,c]=e.split("#"));let l={$metadata:o,$fault:n.statusCode<500?"client":"server"},u=Ie.for(a);try{return{errorSchema:s?.(u,c)??u.getSchema(e),errorMetadata:l}}catch{i.message=i.message??i.Message??"UnknownError";let p=Ie.for("smithy.ts.sdk.synthetic."+a),m=p.getBaseException();if(m){let h=p.getErrorCtor(m)??Error;throw this.decorateServiceException(Object.assign(new h({name:c}),l),i)}throw this.decorateServiceException(Object.assign(new Error(c),l),i)}}decorateServiceException(e,r={}){if(this.queryCompat){let n=e.Message??r.Message,i=bj(e,r);n&&(i.message=n),i.Error={...i.Error,Type:i.Error.Type,Code:i.Error.Code,Message:i.Error.message??i.Error.Message??n};let o=i.$metadata.requestId;return o&&(i.RequestId=o),i}return bj(e,r)}setQueryCompatError(e,r){let n=r.headers?.["x-amzn-query-error"];if(e!==void 0&&n!=null){let[i,o]=n.split(";"),s=Object.entries(e),a={Code:i,Type:o};Object.assign(e,a);for(let[c,l]of s)a[c==="message"?"Message":c]=l;delete a.__type,e.Error=a}}queryCompatOutput(e,r){e.Error&&(r.Error=e.Error),e.Type&&(r.Type=e.Type),e.Code&&(r.Code=e.Code)}findQueryCompatibleError(e,r){try{return e.getSchema(r)}catch{return e.find(i=>Pt.of(i).getMergedTraits().awsQueryError?.[0]===r)}}}});var Kbe=g(()=>{"use strict"});var Ybe=g(()=>{"use strict"});var Ic,ev=g(()=>{"use strict";Ic=class{serdeContext;setSerdeContext(e){this.serdeContext=e}}});var tv,_j=g(()=>{"use strict";tv=class{from;to;keys;constructor(e,r){this.from=e,this.to=r,this.keys=new Set(Object.keys(this.from).filter(n=>n!=="__type"))}mark(e){this.keys.delete(e)}hasUnknown(){return this.keys.size===1&&Object.keys(this.to).length===0}writeUnknown(){if(this.hasUnknown()){let e=this.keys.values().next().value,r=this.from[e];this.to.$unknown=[e,r]}}}});function Jbe(t,e,r){if(r?.source){let n=r.source;if(typeof e=="number"&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER||n!==String(e)))return n.includes(".")?new Gi(n,"bigDecimal"):BigInt(n)}return e}var Qbe=g(()=>{"use strict";Iu()});var Zbe,Xbe=g(()=>{"use strict";fe();ni();Zbe=(t,e)=>Fs(t,e).then(r=>(e?.utf8Encoder??ln)(r))});var eve,O8,lx=g(()=>{"use strict";Xbe();eve=(t,e)=>Zbe(t,e).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),O8=(t,e)=>{let r=(o,s)=>Object.keys(o).find(a=>a.toLowerCase()===s.toLowerCase()),n=o=>{let s=o;return typeof s=="number"&&(s=s.toString()),s.indexOf(",")>=0&&(s=s.split(",")[0]),s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s},i=r(t.headers,"x-amzn-errortype");if(i!==void 0)return n(t.headers[i]);if(e&&typeof e=="object"){let o=r(e,"code");if(o&&e[o]!==void 0)return n(e[o]);if(e.__type!==void 0)return n(e.__type)}}});var rv,Sj=g(()=>{"use strict";Jd();Pr();Iu();Mo();ev();_j();Qbe();lx();rv=class extends Ic{settings;constructor(e){super(),this.settings=e}async read(e,r){return this._read(e,typeof r=="string"?JSON.parse(r,Jbe):await eve(r,this.serdeContext))}readObject(e,r){return this._read(e,r)}_read(e,r){let n=r!==null&&typeof r=="object",i=Pt.of(e);if(n){if(i.isStructSchema()){let s=r,a=i.isUnionSchema(),c={},l,{jsonName:u}=this.settings;u&&(l={});let d;a&&(d=new tv(s,c));for(let[p,m]of i.structIterator()){let h=p;u&&(h=m.getMergedTraits().jsonName??h,l[h]=p),a&&d.mark(h),s[h]!=null&&(c[p]=this._read(m,s[h]))}if(a)d.writeUnknown();else if(typeof s.__type=="string")for(let[p,m]of Object.entries(s)){let h=u?l[p]??p:p;h in c||(c[h]=m)}return c}if(Array.isArray(r)&&i.isListSchema()){let s=i.getValueSchema(),a=[],c=!!i.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._read(s,l));return a}if(i.isMapSchema()){let s=i.getValueSchema(),a={},c=!!i.getMergedTraits().sparse;for(let[l,u]of Object.entries(r))(c||u!=null)&&(a[l]=this._read(s,u));return a}}if(i.isBlobSchema()&&typeof r=="string")return Bn(r);let o=i.getMergedTraits().mediaType;if(i.isStringSchema()&&typeof r=="string"&&o)return o==="application/json"||o.endsWith("+json")?zs.from(r):r;if(i.isTimestampSchema()&&r!=null)switch(Ou(i,this.settings)){case 5:return o0e(r);case 6:return s0e(r);case 7:return a0e(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(i.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(i.isBigDecimalSchema()&&r!=null){if(r instanceof Gi)return r;let s=r;return s.type==="bigDecimal"&&"string"in s?new Gi(s.string,s.type):new Gi(String(r),"bigDecimal")}if(i.isNumericSchema()&&typeof r=="string"){switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}if(i.isDocumentSchema())if(n){let s=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof Gi?s[a]=c:s[a]=this._read(i,c);return s}else return structuredClone(r);return r}}});var tve,N8,rve=g(()=>{"use strict";Iu();tve="\u039D",N8=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(e,r)=>{if(r instanceof Gi){let n=`${tve+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),i=`${tve+"b"+this.counter++}_`+n;return this.values.set(`"${i}"`,n),i}return r}}replaceInJson(e){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return e;for(let[r,n]of this.values)e=e.replace(r,n);return e}}});var nv,wj=g(()=>{"use strict";Jd();Pr();Iu();Mo();ev();rve();nv=class extends Ic{settings;buffer;useReplacer=!1;rootSchema;constructor(e){super(),this.settings=e}write(e,r){this.rootSchema=Pt.of(e),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(e,r){this.write(e,r),typeof this.buffer=="object"&&(this.buffer.__type=Pt.of(e).getName(!0))}flush(){let{rootSchema:e,useReplacer:r}=this;if(this.rootSchema=void 0,this.useReplacer=!1,e?.isStructSchema()||e?.isDocumentSchema()){if(!r)return JSON.stringify(this.buffer);let n=new N8;return n.replaceInJson(JSON.stringify(this.buffer,n.createReplacer(),0))}return this.buffer}_write(e,r,n){let i=r!==null&&typeof r=="object",o=Pt.of(e);if(i){if(o.isStructSchema()){let s=r,a={},{jsonName:c}=this.settings,l;c&&(l={});for(let[u,d]of o.structIterator()){let p=this._write(d,s[u],o);if(p!==void 0){let m=u;c&&(m=d.getMergedTraits().jsonName??u,l[u]=m),a[m]=p}}if(o.isUnionSchema()&&Object.keys(a).length===0){let{$unknown:u}=s;if(Array.isArray(u)){let[d,p]=u;a[d]=this._write(15,p)}}else if(typeof s.__type=="string")for(let[u,d]of Object.entries(s)){let p=c?l[u]??u:u;p in a||(a[p]=this._write(15,d))}return a}if(Array.isArray(r)&&o.isListSchema()){let s=o.getValueSchema(),a=[],c=!!o.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._write(s,l));return a}if(o.isMapSchema()){let s=o.getValueSchema(),a={},c=!!o.getMergedTraits().sparse;for(let[l,u]of Object.entries(r))(c||u!=null)&&(a[l]=this._write(s,u));return a}if(r instanceof Uint8Array&&(o.isBlobSchema()||o.isDocumentSchema()))return o===this.rootSchema?r:(this.serdeContext?.base64Encoder??un)(r);if(r instanceof Date&&(o.isTimestampSchema()||o.isDocumentSchema()))switch(Ou(o,this.settings)){case 5:return r.toISOString().replace(".000Z","Z");case 6:return Wb(r);case 7:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}r instanceof Gi&&(this.useReplacer=!0)}if(!(r===null&&n?.isStructSchema())){if(o.isStringSchema()){if(typeof r>"u"&&o.isIdempotencyToken())return Kd();let s=o.getMergedTraits().mediaType;return r!=null&&s&&(s==="application/json"||s.endsWith("+json"))?zs.from(r):r}if(typeof r=="number"&&o.isNumericSchema())return Math.abs(r)===1/0||isNaN(r)?String(r):r;if(typeof r=="string"&&o.isBlobSchema())return o===this.rootSchema?r:(this.serdeContext?.base64Encoder??un)(r);if(typeof r=="bigint"&&(this.useReplacer=!0),o.isDocumentSchema())if(i){let s=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof Gi?(this.useReplacer=!0,s[a]=c):s[a]=this._write(o,c);return s}else return structuredClone(r);return r}}}});var lf,P8=g(()=>{"use strict";ev();Sj();wj();lf=class extends Ic{settings;constructor(e){super(),this.settings=e}createSerializer(){let e=new nv(this.settings);return e.setSerdeContext(this.serdeContext),e}createDeserializer(){let e=new rv(this.settings);return e.setSerdeContext(this.serdeContext),e}}});var iv,k8=g(()=>{"use strict";Jd();Pr();C8();P8();lx();iv=class extends Yb{serializer;deserializer;serviceTarget;codec;mixin;awsQueryCompatible;constructor({defaultNamespace:e,serviceTarget:r,awsQueryCompatible:n,jsonCodec:i}){super({defaultNamespace:e}),this.serviceTarget=r,this.codec=i??new lf({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n,this.mixin=new cf(this.awsQueryCompatible)}async serializeRequest(e,r,n){let i=await super.serializeRequest(e,r,n);return i.path.endsWith("/")||(i.path+="/"),Object.assign(i.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${e.name}`}),this.awsQueryCompatible&&(i.headers["x-amzn-query-mode"]="true"),(nf(e.input)==="unit"||!i.body)&&(i.body="{}"),i}getPayloadCodec(){return this.codec}async handleError(e,r,n,i,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(i,n);let s=O8(n,i)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(s,this.options.defaultNamespace,n,i,o,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),l=Pt.of(a),u=i.message??i.Message??"Unknown",d=Ie.for(a[1]).getErrorCtor(a)??Error,p=new d(u),m={};for(let[h,f]of l.structIterator())i[h]!=null&&(m[h]=this.codec.createDeserializer().readObject(f,i[h]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(i,m),this.mixin.decorateServiceException(Object.assign(p,c,{$fault:l.getMergedTraits().error,message:u},m),i)}}});var D8,nve=g(()=>{"use strict";k8();D8=class extends iv{constructor({defaultNamespace:e,serviceTarget:r,awsQueryCompatible:n,jsonCodec:i}){super({defaultNamespace:e,serviceTarget:r,awsQueryCompatible:n,jsonCodec:i})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var M8,ive=g(()=>{"use strict";k8();M8=class extends iv{constructor({defaultNamespace:e,serviceTarget:r,awsQueryCompatible:n,jsonCodec:i}){super({defaultNamespace:e,serviceTarget:r,awsQueryCompatible:n,jsonCodec:i})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var uf,ove=g(()=>{"use strict";Jd();Pr();C8();P8();lx();uf=class extends u8{serializer;deserializer;codec;mixin=new cf;constructor({defaultNamespace:e}){super({defaultNamespace:e});let r={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new lf(r),this.serializer=new f8(this.codec.createSerializer(),r),this.deserializer=new p8(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(e){this.codec.setSerdeContext(e),super.setSerdeContext(e)}async serializeRequest(e,r,n){let i=await super.serializeRequest(e,r,n),o=Pt.of(e.input);if(!i.headers["content-type"]){let s=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);s&&(i.headers["content-type"]=s)}return i.body==null&&i.headers["content-type"]===this.getDefaultContentType()&&(i.body="{}"),i}async deserializeResponse(e,r,n){let i=await super.deserializeResponse(e,r,n),o=Pt.of(e.output);for(let[s,a]of o.structIterator())a.getMemberTraits().httpPayload&&!(s in i)&&(i[s]=null);return i}async handleError(e,r,n,i,o){let s=O8(n,i)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(s,this.options.defaultNamespace,n,i,o),l=Pt.of(a),u=i.message??i.Message??"Unknown",d=Ie.for(a[1]).getErrorCtor(a)??Error,p=new d(u);await this.deserializeHttpMessage(a,r,n,i);let m={};for(let[h,f]of l.structIterator()){let y=f.getMergedTraits().jsonName??h;m[h]=this.codec.createDeserializer().readObject(f,i[y])}throw this.mixin.decorateServiceException(Object.assign(p,c,{$fault:l.getMergedTraits().error,message:u},m),i)}getDefaultContentType(){return"application/json"}}});var sve=g(()=>{"use strict"});var ave=g(()=>{"use strict"});var cve=g(()=>{"use strict"});function $8(t,e){let r=[],n=e.exec(t);for(;n;){let i=[];i.startIndex=e.lastIndex-n[0].length;let o=n.length;for(let s=0;s<o;s++)i.push(n[s]);r.push(i),n=e.exec(t)}return r}function uve(t){return typeof t<"u"}var lve,Iot,Cot,Oot,ux,L8=g(()=>{"use strict";lve=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Iot=lve+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Cot="["+lve+"]["+Iot+"]*",Oot=new RegExp("^"+Cot+"$");ux=function(t){let e=Oot.exec(t);return!(e===null||typeof e>"u")}});function hve(t,e){e=Object.assign({},Not,e);let r=[],n=!1,i=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let o=0;o<t.length;o++)if(t[o]==="<"&&t[o+1]==="?"){if(o+=2,o=pve(t,o),o.err)return o}else if(t[o]==="<"){let s=o;if(o++,t[o]==="!"){o=mve(t,o);continue}else{let a=!1;t[o]==="/"&&(a=!0,o++);let c="";for(;o<t.length&&t[o]!==">"&&t[o]!==" "&&t[o]!=="	"&&t[o]!==`
`&&t[o]!=="\r";o++)c+=t[o];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),o--),!Uot(c)){let d;return c.trim().length===0?d="Invalid space after '<'.":d="Tag '"+c+"' is an invalid name.",oi("InvalidTag",d,us(t,o))}let l=Dot(t,o);if(l===!1)return oi("InvalidAttr","Attributes for '"+c+"' have open quote.",us(t,o));let u=l.value;if(o=l.index,u[u.length-1]==="/"){let d=o-u.length;u=u.substring(0,u.length-1);let p=fve(u,e);if(p===!0)n=!0;else return oi(p.err.code,p.err.msg,us(t,d+p.err.line))}else if(a)if(l.tagClosed){if(u.trim().length>0)return oi("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",us(t,s));if(r.length===0)return oi("InvalidTag","Closing tag '"+c+"' has not been opened.",us(t,s));{let d=r.pop();if(c!==d.tagName){let p=us(t,d.tagStartPos);return oi("InvalidTag","Expected closing tag '"+d.tagName+"' (opened in line "+p.line+", col "+p.col+") instead of closing tag '"+c+"'.",us(t,s))}r.length==0&&(i=!0)}}else return oi("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",us(t,o));else{let d=fve(u,e);if(d!==!0)return oi(d.err.code,d.err.msg,us(t,o-u.length+d.err.line));if(i===!0)return oi("InvalidXml","Multiple possible root nodes found.",us(t,o));e.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:s}),n=!0}for(o++;o<t.length;o++)if(t[o]==="<")if(t[o+1]==="!"){o++,o=mve(t,o);continue}else if(t[o+1]==="?"){if(o=pve(t,++o),o.err)return o}else break;else if(t[o]==="&"){let d=Lot(t,o);if(d==-1)return oi("InvalidChar","char '&' is not expected.",us(t,o));o=d}else if(i===!0&&!dve(t[o]))return oi("InvalidXml","Extra text at the end",us(t,o));t[o]==="<"&&o--}}else{if(dve(t[o]))continue;return oi("InvalidChar","char '"+t[o]+"' is not expected.",us(t,o))}if(n){if(r.length==1)return oi("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",us(t,r[0].tagStartPos));if(r.length>0)return oi("InvalidXml","Invalid '"+JSON.stringify(r.map(o=>o.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return oi("InvalidXml","Start tag expected.",1);return!0}function dve(t){return t===" "||t==="	"||t===`
`||t==="\r"}function pve(t,e){let r=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){let n=t.substr(r,e-r);if(e>5&&n==="xml")return oi("InvalidXml","XML declaration allowed only at the start of the document.",us(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function mve(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let r=1;for(e+=8;e<t.length;e++)if(t[e]==="<")r++;else if(t[e]===">"&&(r--,r===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}function Dot(t,e){let r="",n="",i=!1;for(;e<t.length;e++){if(t[e]===Pot||t[e]===kot)n===""?n=t[e]:n!==t[e]||(n="");else if(t[e]===">"&&n===""){i=!0;break}r+=t[e]}return n!==""?!1:{value:r,index:e,tagClosed:i}}function fve(t,e){let r=$8(t,Mot),n={};for(let i=0;i<r.length;i++){if(r[i][1].length===0)return oi("InvalidAttr","Attribute '"+r[i][2]+"' has no space in starting.",dx(r[i]));if(r[i][3]!==void 0&&r[i][4]===void 0)return oi("InvalidAttr","Attribute '"+r[i][2]+"' is without value.",dx(r[i]));if(r[i][3]===void 0&&!e.allowBooleanAttributes)return oi("InvalidAttr","boolean attribute '"+r[i][2]+"' is not allowed.",dx(r[i]));let o=r[i][2];if(!Bot(o))return oi("InvalidAttr","Attribute '"+o+"' is an invalid name.",dx(r[i]));if(!n.hasOwnProperty(o))n[o]=1;else return oi("InvalidAttr","Attribute '"+o+"' is repeated.",dx(r[i]))}return!0}function $ot(t,e){let r=/\d/;for(t[e]==="x"&&(e++,r=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(r))break}return-1}function Lot(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,$ot(t,e);let r=0;for(;e<t.length;e++,r++)if(!(t[e].match(/\w/)&&r<20)){if(t[e]===";")break;return-1}return e}function oi(t,e,r){return{err:{code:t,msg:e,line:r.line||r,col:r.col}}}function Bot(t){return ux(t)}function Uot(t){return ux(t)}function us(t,e){let r=t.substring(0,e).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function dx(t){return t.startIndex+t[1].length}var Not,Pot,kot,Mot,gve=g(()=>{"use strict";L8();Not={allowBooleanAttributes:!1,unpairedTags:[]};Pot='"',kot="'";Mot=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g")});var Fot,yve,bve=g(()=>{"use strict";Fot={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,r){return t},captureMetaData:!1},yve=function(t){return Object.assign({},Fot,t)}});var B8,Ia,U8=g(()=>{"use strict";typeof Symbol!="function"?B8="@@xmlMetadata":B8=Symbol("XML Node Metadata");Ia=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,r){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:r})}addChild(e,r){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child}),r!==void 0&&(this.child[this.child.length-1][B8]={startIndex:r})}static getMetaDataSymbol(){return B8}}});function xj(t,e){let r={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let n=1,i=!1,o=!1,s="";for(;e<t.length;e++)if(t[e]==="<"&&!o){if(i&&Jg(t,"!ENTITY",e)){e+=7;let a,c;[a,c,e]=zot(t,e+1),c.indexOf("&")===-1&&(r[a]={regx:RegExp(`&${a};`,"g"),val:c})}else if(i&&Jg(t,"!ELEMENT",e)){e+=8;let{index:a}=jot(t,e+1);e=a}else if(i&&Jg(t,"!ATTLIST",e))e+=8;else if(i&&Jg(t,"!NOTATION",e)){e+=9;let{index:a}=Vot(t,e+1);e=a}else if(Jg(t,"!--",e))o=!0;else throw new Error("Invalid DOCTYPE");n++,s=""}else if(t[e]===">"){if(o?t[e-1]==="-"&&t[e-2]==="-"&&(o=!1,n--):n--,n===0)break}else t[e]==="["?i=!0:s+=t[e];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:e}}function zot(t,e){e=df(t,e);let r="";for(;e<t.length&&!/\s/.test(t[e])&&t[e]!=='"'&&t[e]!=="'";)r+=t[e],e++;if(Aj(r),e=df(t,e),t.substring(e,e+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(t[e]==="%")throw new Error("Parameter entities are not supported");let n="";return[e,n]=F8(t,e,"entity"),e--,[r,n,e]}function Vot(t,e){e=df(t,e);let r="";for(;e<t.length&&!/\s/.test(t[e]);)r+=t[e],e++;Aj(r),e=df(t,e);let n=t.substring(e,e+6).toUpperCase();if(n!=="SYSTEM"&&n!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${n}"`);e+=n.length,e=df(t,e);let i=null,o=null;if(n==="PUBLIC")[e,i]=F8(t,e,"publicIdentifier"),e=df(t,e),(t[e]==='"'||t[e]==="'")&&([e,o]=F8(t,e,"systemIdentifier"));else if(n==="SYSTEM"&&([e,o]=F8(t,e,"systemIdentifier"),!o))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:r,publicIdentifier:i,systemIdentifier:o,index:--e}}function F8(t,e,r){let n="",i=t[e];if(i!=='"'&&i!=="'")throw new Error(`Expected quoted string, found "${i}"`);for(e++;e<t.length&&t[e]!==i;)n+=t[e],e++;if(t[e]!==i)throw new Error(`Unterminated ${r} value`);return e++,[e,n]}function jot(t,e){e=df(t,e);let r="";for(;e<t.length&&!/\s/.test(t[e]);)r+=t[e],e++;if(!Aj(r))throw new Error(`Invalid element name: "${r}"`);e=df(t,e);let n="";if(t[e]==="E"&&Jg(t,"MPTY",e))e+=4;else if(t[e]==="A"&&Jg(t,"NY",e))e+=2;else if(t[e]==="("){for(e++;e<t.length&&t[e]!==")";)n+=t[e],e++;if(t[e]!==")")throw new Error("Unterminated content model")}else throw new Error(`Invalid Element Expression, found "${t[e]}"`);return{elementName:r,contentModel:n.trim(),index:e}}function Jg(t,e,r){for(let n=0;n<e.length;n++)if(e[n]!==t[r+n+1])return!1;return!0}function Aj(t){if(ux(t))return t;throw new Error(`Invalid entity name ${t}`)}var df,vve=g(()=>{"use strict";L8();df=(t,e)=>{for(;e<t.length&&/\s/.test(t[e]);)e++;return e}});function Ej(t,e={}){if(e=Object.assign({},Wot,e),!t||typeof t!="string")return t;let r=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(r))return t;if(t==="0")return 0;if(e.hex&&qot.test(r))return Jot(r,16);if(r.includes("e")||r.includes("E"))return Kot(t,r,e);{let n=Hot.exec(r);if(n){let i=n[1]||"",o=n[2],s=Yot(n[3]),a=i?t[o.length+1]===".":t[o.length]===".";if(!e.leadingZeros&&(o.length>1||o.length===1&&!a))return t;{let c=Number(r),l=String(c);if(c===0)return c;if(l.search(/[eE]/)!==-1)return e.eNotation?c:t;if(r.indexOf(".")!==-1)return l==="0"||l===s||l===`${i}${s}`?c:t;let u=o?s:r;return o?u===l||i+u===l?c:t:u===l||u===i+l?c:t}}else return t}}function Kot(t,e,r){if(!r.eNotation)return t;let n=e.match(Got);if(n){let i=n[1]||"",o=n[3].indexOf("e")===-1?"E":"e",s=n[2],a=i?t[s.length+1]===o:t[s.length]===o;return s.length>1&&a?t:s.length===1&&(n[3].startsWith(`.${o}`)||n[3][0]===o)?Number(e):r.leadingZeros&&!a?(e=(n[1]||"")+n[3],Number(e)):t}else return t}function Yot(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substring(0,t.length-1))),t}function Jot(t,e){if(parseInt)return parseInt(t,e);if(Number.parseInt)return Number.parseInt(t,e);if(window&&window.parseInt)return window.parseInt(t,e);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}var qot,Hot,Wot,Got,_ve=g(()=>{"use strict";qot=/^[-+]?0x[a-fA-F0-9]+$/,Hot=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,Wot={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};Got=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/});function Rj(t){return typeof t=="function"?t:Array.isArray(t)?e=>{for(let r of t)if(typeof r=="string"&&e===r||r instanceof RegExp&&r.test(e))return!0}:()=>!1}var Sve=g(()=>{"use strict"});function Qot(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=e[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:t[n]}}}function Zot(t,e,r,n,i,o,s){if(t!==void 0&&(this.options.trimValues&&!n&&(t=t.trim()),t.length>0)){s||(t=this.replaceEntitiesValue(t));let a=this.options.tagValueProcessor(e,t,r,i,o);return a==null?t:typeof a!=typeof t||a!==t?a:this.options.trimValues?Ij(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?Ij(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function Xot(t){if(this.options.removeNSPrefix){let e=t.split(":"),r=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=r+e[1])}return t}function tst(t,e,r){if(this.options.ignoreAttributes!==!0&&typeof t=="string"){let n=$8(t,est),i=n.length,o={};for(let s=0;s<i;s++){let a=this.resolveNameSpace(n[s][1]);if(this.ignoreAttributesFn(a,e))continue;let c=n[s][4],l=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let u=this.options.attributeValueProcessor(a,c,e);u==null?o[l]=c:typeof u!=typeof c||u!==c?o[l]=u:o[l]=Ij(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(o[l]=!0)}if(!Object.keys(o).length)return;if(this.options.attributesGroupName){let s={};return s[this.options.attributesGroupName]=o,s}return o}}function nst(t,e,r,n){this.options.captureMetaData||(n=void 0);let i=this.options.updateTag(e.tagname,r,e[":@"]);i===!1||(typeof i=="string"&&(e.tagname=i),t.addChild(e,n))}function ost(t,e,r,n){return t&&(n===void 0&&(n=e.child.length===0),t=this.parseTextData(t,e.tagname,r,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,n),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function sst(t,e,r){let n="*."+r;for(let i in t){let o=t[i];if(n===o||e===o)return!0}return!1}function ast(t,e,r=">"){let n,i="";for(let o=e;o<t.length;o++){let s=t[o];if(n)s===n&&(n="");else if(s==='"'||s==="'")n=s;else if(s===r[0])if(r[1]){if(t[o+1]===r[1])return{data:i,index:o}}else return{data:i,index:o};else s==="	"&&(s=" ");i+=s}}function Qg(t,e,r,n){let i=t.indexOf(e,r);if(i===-1)throw new Error(n);return i+e.length-1}function Tj(t,e,r,n=">"){let i=ast(t,e+1,n);if(!i)return;let o=i.data,s=i.index,a=o.search(/\s/),c=o,l=!0;a!==-1&&(c=o.substring(0,a),o=o.substring(a+1).trimStart());let u=c;if(r){let d=c.indexOf(":");d!==-1&&(c=c.substr(d+1),l=c!==i.data.substr(d+1))}return{tagName:c,tagExp:o,closeIndex:s,attrExpPresent:l,rawTagName:u}}function cst(t,e,r){let n=r,i=1;for(;r<t.length;r++)if(t[r]==="<")if(t[r+1]==="/"){let o=Qg(t,">",r,`${e} is not closed`);if(t.substring(r+2,o).trim()===e&&(i--,i===0))return{tagContent:t.substring(n,r),i:o};r=o}else if(t[r+1]==="?")r=Qg(t,"?>",r+1,"StopNode is not closed.");else if(t.substr(r+1,3)==="!--")r=Qg(t,"-->",r+3,"StopNode is not closed.");else if(t.substr(r+1,2)==="![")r=Qg(t,"]]>",r,"StopNode is not closed.")-2;else{let o=Tj(t,r,">");o&&((o&&o.tagName)===e&&o.tagExp[o.tagExp.length-1]!=="/"&&i++,r=o.closeIndex)}}function Ij(t,e,r){if(e&&typeof t=="string"){let n=t.trim();return n==="true"?!0:n==="false"?!1:Ej(t,r)}else return uve(t)?t:""}var px,est,rst,ist,wve=g(()=>{"use strict";L8();U8();vve();_ve();Sve();px=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,16))}},this.addExternalEntities=Qot,this.parseXml=rst,this.parseTextData=Zot,this.resolveNameSpace=Xot,this.buildAttributesMap=tst,this.isItStopNode=sst,this.replaceEntitiesValue=ist,this.readStopNodeData=cst,this.saveTextToParentTag=ost,this.addChild=nst,this.ignoreAttributesFn=Rj(this.options.ignoreAttributes)}};est=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");rst=function(t){t=t.replace(/\r\n?/g,`
`);let e=new Ia("!xml"),r=e,n="",i="";for(let o=0;o<t.length;o++)if(t[o]==="<")if(t[o+1]==="/"){let a=Qg(t,">",o,"Closing Tag is not closed."),c=t.substring(o+2,a).trim();if(this.options.removeNSPrefix){let d=c.indexOf(":");d!==-1&&(c=c.substr(d+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,i));let l=i.substring(i.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let u=0;l&&this.options.unpairedTags.indexOf(l)!==-1?(u=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):u=i.lastIndexOf("."),i=i.substring(0,u),r=this.tagsNodeStack.pop(),n="",o=a}else if(t[o+1]==="?"){let a=Tj(t,o,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,i),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new Ia(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,i,a.tagName)),this.addChild(r,c,i,o)}o=a.closeIndex+1}else if(t.substr(o+1,3)==="!--"){let a=Qg(t,"-->",o+4,"Comment is not closed.");if(this.options.commentPropName){let c=t.substring(o+4,a-2);n=this.saveTextToParentTag(n,r,i),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}o=a}else if(t.substr(o+1,2)==="!D"){let a=xj(t,o);this.docTypeEntities=a.entities,o=a.i}else if(t.substr(o+1,2)==="!["){let a=Qg(t,"]]>",o,"CDATA is not closed.")-2,c=t.substring(o+9,a);n=this.saveTextToParentTag(n,r,i);let l=this.parseTextData(c,r.tagname,i,!0,!1,!0,!0);l==null&&(l=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):r.add(this.options.textNodeName,l),o=a+2}else{let a=Tj(t,o,this.options.removeNSPrefix),c=a.tagName,l=a.rawTagName,u=a.tagExp,d=a.attrExpPresent,p=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,i,!1));let m=r;m&&this.options.unpairedTags.indexOf(m.tagname)!==-1&&(r=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),c!==e.tagname&&(i+=i?"."+c:c);let h=o;if(this.isItStopNode(this.options.stopNodes,i,c)){let f="";if(u.length>0&&u.lastIndexOf("/")===u.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),i=i.substr(0,i.length-1),u=c):u=u.substr(0,u.length-1),o=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)o=a.closeIndex;else{let v=this.readStopNodeData(t,l,p+1);if(!v)throw new Error(`Unexpected end of ${l}`);o=v.i,f=v.tagContent}let y=new Ia(c);c!==u&&d&&(y[":@"]=this.buildAttributesMap(u,i,c)),f&&(f=this.parseTextData(f,c,i,!0,d,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),y.add(this.options.textNodeName,f),this.addChild(r,y,i,h)}else{if(u.length>0&&u.lastIndexOf("/")===u.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),i=i.substr(0,i.length-1),u=c):u=u.substr(0,u.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let f=new Ia(c);c!==u&&d&&(f[":@"]=this.buildAttributesMap(u,i,c)),this.addChild(r,f,i,h),i=i.substr(0,i.lastIndexOf("."))}else{let f=new Ia(c);this.tagsNodeStack.push(r),c!==u&&d&&(f[":@"]=this.buildAttributesMap(u,i,c)),this.addChild(r,f,i,h),r=f}n="",o=p}}else n+=t[o];return e.child};ist=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){let r=this.docTypeEntities[e];t=t.replace(r.regx,r.val)}for(let e in this.lastEntities){let r=this.lastEntities[e];t=t.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){let r=this.htmlEntities[e];t=t.replace(r.regex,r.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t}});function Oj(t,e){return xve(t,e)}function xve(t,e,r){let n,i={};for(let o=0;o<t.length;o++){let s=t[o],a=lst(s),c="";if(r===void 0?c=a:c=r+"."+a,a===e.textNodeName)n===void 0?n=s[a]:n+=""+s[a];else{if(a===void 0)continue;if(s[a]){let l=xve(s[a],e,c),u=dst(l,e);s[Cj]!==void 0&&(l[Cj]=s[Cj]),s[":@"]?ust(l,s[":@"],c,e):Object.keys(l).length===1&&l[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?l=l[e.textNodeName]:Object.keys(l).length===0&&(e.alwaysCreateTextNode?l[e.textNodeName]="":l=""),i[a]!==void 0&&i.hasOwnProperty(a)?(Array.isArray(i[a])||(i[a]=[i[a]]),i[a].push(l)):e.isArray(a,c,u)?i[a]=[l]:i[a]=l}}}return typeof n=="string"?n.length>0&&(i[e.textNodeName]=n):n!==void 0&&(i[e.textNodeName]=n),i}function lst(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=e[r];if(n!==":@")return n}}function ust(t,e,r,n){if(e){let i=Object.keys(e),o=i.length;for(let s=0;s<o;s++){let a=i[s];n.isArray(a,r+"."+a,!0,!0)?t[a]=[e[a]]:t[a]=e[a]}}}function dst(t,e){let{textNodeName:r}=e,n=Object.keys(t).length;return!!(n===0||n===1&&(t[r]||typeof t[r]=="boolean"||t[r]===0))}var Cj,Ave=g(()=>{"use strict";U8();Cj=Ia.getMetaDataSymbol()});var ov,Eve=g(()=>{"use strict";bve();wve();Ave();gve();U8();ov=class{constructor(e){this.externalEntities={},this.options=yve(e)}parse(e,r){if(typeof e!="string")if(e.toString)e=e.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let o=hve(e,r);if(o!==!0)throw Error(`${o.err.msg}:${o.err.line}:${o.err.col}`)}let n=new px(this.options);n.addExternalEntities(this.externalEntities);let i=n.parseXml(e);return this.options.preserveOrder||i===void 0?i:Oj(i,this.options)}addEntity(e,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=r}static getMetaDataSymbol(){return Ia.getMetaDataSymbol()}}});var Rve=g(()=>{"use strict";Eve()});function Pj(t){return Nj.parse(t,!0)}var Nj,Tve=g(()=>{"use strict";Rve();Nj=new ov({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(t,e)=>e.trim()===""&&e.includes(`
`)?"":void 0});Nj.addEntity("#xD","\r");Nj.addEntity("#10",`
`)});var Ive=g(()=>{"use strict";cve();ave();Tve()});var z8,kj=g(()=>{"use strict";Ive();Jd();Pr();fe();ni();ev();_j();z8=class extends Ic{settings;stringDeserializer;constructor(e){super(),this.settings=e,this.stringDeserializer=new Jb(e)}setSerdeContext(e){this.serdeContext=e,this.stringDeserializer.setSerdeContext(e)}read(e,r,n){let i=Pt.of(e),o=i.getMemberSchemas();if(i.isStructSchema()&&i.isMemberSchema()&&!!Object.values(o).find(l=>!!l.getMemberTraits().eventPayload)){let l={},u=Object.keys(o)[0];return o[u].isBlobSchema()?l[u]=r:l[u]=this.read(o[u],r),l}let a=(this.serdeContext?.utf8Encoder??ln)(r),c=this.parseXml(a);return this.readSchema(e,n?c[n]:c)}readSchema(e,r){let n=Pt.of(e);if(n.isUnitSchema())return;let i=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let o=!!i.sparse,s=!!i.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),l=[],u=c.getMergedTraits().xmlName??"member",d=s?r:(r[0]??r)[u],p=Array.isArray(d)?d:[d];for(let m of p)(m!=null||o)&&l.push(this.readSchema(c,m));return l}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),l=n.getValueSchema(),u;s?u=Array.isArray(r)?r:[r]:u=Array.isArray(r.entry)?r.entry:[r.entry];let d=c.getMergedTraits().xmlName??"key",p=l.getMergedTraits().xmlName??"value";for(let m of u){let h=m[d],f=m[p];(f!=null||o)&&(a[h]=this.readSchema(l,f))}return a}if(n.isStructSchema()){let c=n.isUnionSchema(),l;c&&(l=new tv(r,a));for(let[u,d]of n.structIterator()){let p=d.getMergedTraits(),m=p.httpPayload?p.xmlName??d.getName():d.getMemberTraits().xmlName??u;c&&l.mark(m),r[m]!=null&&(a[u]=this.readSchema(d,r[m]))}return c&&l.writeUnknown(),a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(e){if(e.length){let r;try{r=Pj(e)}catch(s){throw s&&typeof s=="object"&&Object.defineProperty(s,"$responseBodyText",{value:e}),s}let n="#text",i=Object.keys(r)[0],o=r[i];return o[n]&&(o[i]=o[n],delete o[n]),vj(o)}return{}}}});var V8,Cve=g(()=>{"use strict";Jd();Pr();Iu();fe();Mo();ev();V8=class extends Ic{settings;buffer;constructor(e){super(),this.settings=e}write(e,r,n=""){this.buffer===void 0&&(this.buffer="");let i=Pt.of(e);if(n&&!n.endsWith(".")&&(n+="."),i.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??un)(r)));else if(i.isBooleanSchema()||i.isNumericSchema()||i.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):i.isIdempotencyToken()&&(this.writeKey(n),this.writeValue(Kd()));else if(i.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(i.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof Gi?r.string:String(r)));else if(i.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),Ou(i,this.settings)){case 5:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue(Wb(r));break;case 7:this.writeValue(String(r.getTime()/1e3));break}}else if(i.isDocumentSchema())Array.isArray(r)?this.write(79,r,n):r instanceof Date?this.write(4,r,n):r instanceof Uint8Array?this.write(21,r,n):r&&typeof r=="object"?this.write(143,r,n):(this.writeKey(n),this.writeValue(String(r)));else if(i.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let o=i.getValueSchema(),s=this.settings.flattenLists||i.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let l=this.getKey("member",o.getMergedTraits().xmlName),u=s?`${n}${a}`:`${n}${l}.${a}`;this.write(o,c,u),++a}}}else if(i.isMapSchema()){if(r&&typeof r=="object"){let o=i.getKeySchema(),s=i.getValueSchema(),a=i.getMergedTraits().xmlFlattened,c=1;for(let[l,u]of Object.entries(r)){if(u==null)continue;let d=this.getKey("key",o.getMergedTraits().xmlName),p=a?`${n}${c}.${d}`:`${n}entry.${c}.${d}`,m=this.getKey("value",s.getMergedTraits().xmlName),h=a?`${n}${c}.${m}`:`${n}entry.${c}.${m}`;this.write(o,l,p),this.write(s,u,h),++c}}}else if(i.isStructSchema()){if(r&&typeof r=="object"){let o=!1;for(let[s,a]of i.structIterator()){if(r[s]==null&&!a.isIdempotencyToken())continue;let c=this.getKey(s,a.getMergedTraits().xmlName),l=`${n}${c}`;this.write(a,r[s],l),o=!0}if(!o&&i.isUnionSchema()){let{$unknown:s}=r;if(Array.isArray(s)){let[a,c]=s,l=`${n}${a}`;this.write(15,c,l)}}}}else if(!i.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${i.getName(!0)}`)}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let e=this.buffer;return delete this.buffer,e}getKey(e,r){let n=r??e;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(e){e.endsWith(".")&&(e=e.slice(0,e.length-1)),this.buffer+=`&${jb(e)}=`}writeValue(e){this.buffer+=jb(e)}}});var j8,Ove=g(()=>{"use strict";Jd();Pr();C8();kj();Cve();j8=class extends Yb{options;serializer;deserializer;mixin=new cf;constructor(e){super({defaultNamespace:e.defaultNamespace}),this.options=e;let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:e.xmlNamespace,serviceNamespace:e.defaultNamespace,serializeEmptyLists:!0};this.serializer=new V8(r),this.deserializer=new z8(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(e){this.serializer.setSerdeContext(e),this.deserializer.setSerdeContext(e)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(e,r,n){let i=await super.serializeRequest(e,r,n);i.path.endsWith("/")||(i.path+="/"),Object.assign(i.headers,{"content-type":"application/x-www-form-urlencoded"}),(nf(e.input)==="unit"||!i.body)&&(i.body="");let o=e.name.split("#")[1]??e.name;return i.body=`Action=${o}&Version=${this.options.version}`+i.body,i.body.endsWith("&")&&(i.body=i.body.slice(-1)),i}async deserializeResponse(e,r,n){let i=this.deserializer,o=Pt.of(e.output),s={};if(n.statusCode>=300){let d=await Fs(n.body,r);d.byteLength>0&&Object.assign(s,await i.read(15,d)),await this.handleError(e,r,n,s,this.deserializeMetadata(n))}for(let d in n.headers){let p=n.headers[d];delete n.headers[d],n.headers[d.toLowerCase()]=p}let a=e.name.split("#")[1]??e.name,c=o.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,l=await Fs(n.body,r);return l.byteLength>0&&Object.assign(s,await i.read(o,l,c)),{$metadata:this.deserializeMetadata(n),...s}}useNestedResult(){return!0}async handleError(e,r,n,i,o){let s=this.loadQueryErrorCode(n,i)??"Unknown",a=this.loadQueryError(i),c=this.loadQueryErrorMessage(i);a.message=c,a.Error={Type:a.Type,Code:a.Code,Message:c};let{errorSchema:l,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(s,this.options.defaultNamespace,n,a,o,this.mixin.findQueryCompatibleError),d=Pt.of(l),p=Ie.for(l[1]).getErrorCtor(l)??Error,m=new p(c),h={Type:a.Error.Type,Code:a.Error.Code,Error:a.Error};for(let[f,y]of d.structIterator()){let v=y.getMergedTraits().xmlName??f,_=a[v]??i[v];h[f]=this.deserializer.readSchema(y,_)}throw this.mixin.decorateServiceException(Object.assign(m,u,{$fault:d.getMergedTraits().error,message:c},h),i)}loadQueryErrorCode(e,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(e.statusCode==404)return"NotFound"}loadQueryError(e){return e.Errors?.[0]?.Error??e.Errors?.Error??e.Error}loadQueryErrorMessage(e){let r=this.loadQueryError(e);return r?.message??r?.Message??e.message??e.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var Nve=g(()=>{"use strict"});var Pve=g(()=>{"use strict"});var kve=g(()=>{"use strict"});var Dve=g(()=>{"use strict"});var Mve=g(()=>{"use strict"});var Xd=g(()=>{"use strict";Kbe();Ybe();nve();ive();k8();ove();P8();Sj();wj();sve();lx();Nve();Ove();Mve();Dve();kj();kve();Pve()});var _i=g(()=>{"use strict";po();gbe();Xd()});async function $ve(t,e,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&$l(t,"PROTOCOL_RPC_V2_CBOR","M"),typeof e.retryStrategy=="function"){let o=await e.retryStrategy();typeof o.acquireInitialRetryToken=="function"?o.constructor?.name?.includes("Adaptive")?$l(t,"RETRY_MODE_ADAPTIVE","F"):$l(t,"RETRY_MODE_STANDARD","E"):$l(t,"RETRY_MODE_LEGACY","D")}if(typeof e.accountIdEndpointMode=="function"){let o=t.endpointV2;switch(String(o?.url?.hostname).match(pst)&&$l(t,"ACCOUNT_ID_ENDPOINT","O"),await e.accountIdEndpointMode?.()){case"disabled":$l(t,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":$l(t,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":$l(t,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let i=t.__smithy_context?.selectedHttpAuthScheme?.identity;if(i?.$source){let o=i;o.accountId&&$l(t,"RESOLVED_ACCOUNT_ID","T");for(let[s,a]of Object.entries(o.$source??{}))$l(t,s,a)}}var pst,Lve=g(()=>{"use strict";_i();pst=/\d{12}\.ddb/});var Dj,q8,Bve,Uve,Fve=g(()=>{"use strict";Dj="user-agent",q8="x-amz-user-agent",Bve=/[^!$%&'*+\-.^_`|~\w]/g,Uve=/[^!$%&'*+\-.^_`|~\w#]/g});function zve(t){let e="";for(let r in t){let n=t[r];if(e.length+n.length+1<=1024){e.length?e+=","+n:e+=n;continue}break}return e}var Vve=g(()=>{"use strict"});var mst,H8,fst,Cc,Hve=g(()=>{"use strict";of();An();Lve();Fve();Vve();mst=t=>(e,r)=>async n=>{let{request:i}=n;if(!Or.isInstance(i))return e(n);let{headers:o}=i,s=r?.userAgent?.map(H8)||[],a=(await t.defaultUserAgentProvider()).map(H8);await $ve(r,t,n);let c=r;a.push(`m/${zve(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let l=t?.customUserAgent?.map(H8)||[],u=await t.userAgentAppId();u&&a.push(H8(["app",`${u}`]));let d=Q1e(),p=(d?[d]:[]).concat([...a,...s,...l]).join(" "),m=[...a.filter(h=>h.startsWith("aws-sdk-")),...l].join(" ");return t.runtime!=="browser"?(m&&(o[q8]=o[q8]?`${o[Dj]} ${m}`:m),o[Dj]=p):o[q8]=p,e({...n,request:i})},H8=t=>{let e=t[0].split("/").map(s=>s.replace(Bve,"-")).join("/"),r=t[1]?.replace(Uve,"-"),n=e.indexOf("/"),i=e.substring(0,n),o=e.substring(n+1);return i==="api"&&(o=o.toLowerCase()),[i,o,r].filter(s=>s&&s.length>0).reduce((s,a,c)=>{switch(c){case 0:return a;case 1:return`${s}/${a}`;default:return`${s}#${a}`}},"")},fst={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Cc=t=>({applyToStack:e=>{e.add(mst(t),fst)}})});var pf=g(()=>{"use strict";K0e();Hve()});var sv,Wve=g(()=>{"use strict";sv=(t,e,r)=>{if(e in t){if(t[e]==="true")return!0;if(t[e]==="false")return!1;throw new Error(`Cannot load ${r} "${e}". Expected "true" or "false", got ${t[e]}.`)}}});var Gve=g(()=>{"use strict"});var mf,Kve=g(()=>{"use strict";(function(t){t.ENV="env",t.CONFIG="shared config entry"})(mf||(mf={}))});var $j=g(()=>{"use strict";Wve();Gve();Kve()});var hst,gst,Oc,Yve=g(()=>{"use strict";$j();hst="AWS_USE_DUALSTACK_ENDPOINT",gst="use_dualstack_endpoint",Oc={environmentVariableSelector:t=>sv(t,hst,mf.ENV),configFileSelector:t=>sv(t,gst,mf.CONFIG),default:!1}});var yst,bst,Nc,Jve=g(()=>{"use strict";$j();yst="AWS_USE_FIPS_ENDPOINT",bst="use_fips_endpoint",Nc={environmentVariableSelector:t=>sv(t,yst,mf.ENV),configFileSelector:t=>sv(t,bst,mf.CONFIG),default:!1}});var Qve=g(()=>{"use strict"});var Zve=g(()=>{"use strict"});var Xve=g(()=>{"use strict";Yve();Jve();Qve();Zve()});var vst,_st,Uo,Hs,e_e=g(()=>{"use strict";vst="AWS_REGION",_st="region",Uo={environmentVariableSelector:t=>t[vst],configFileSelector:t=>t[_st],default:()=>{throw new Error("Region is missing")}},Hs={preferredFile:"credentials"}});var t_e,r_e,n_e=g(()=>{"use strict";Ml();t_e=new Set,r_e=(t,e=Gg)=>{if(!t_e.has(t)&&!e(t))if(t==="*")console.warn('@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.');else throw new Error(`Region not accepted: region="${t}" is not a valid hostname component.`);else t_e.add(t)}});var W8,Lj=g(()=>{"use strict";W8=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips"))});var i_e,o_e=g(()=>{"use strict";Lj();i_e=t=>W8(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t});var Pc,s_e=g(()=>{"use strict";n_e();o_e();Lj();Pc=t=>{let{region:e,useFipsEndpoint:r}=t;if(!e)throw new Error("Region is missing");return Object.assign(t,{region:async()=>{let n=typeof e=="function"?await e():e,i=i_e(n);return r_e(i),i},useFipsEndpoint:async()=>{let n=typeof e=="string"?e:await e();return W8(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})}});var a_e=g(()=>{"use strict";e_e();s_e()});var c_e=g(()=>{"use strict"});var l_e=g(()=>{"use strict"});var u_e=g(()=>{"use strict"});var d_e=g(()=>{"use strict";c_e();l_e();u_e()});var ds=g(()=>{"use strict";Xve();a_e();d_e()});function Sst(t){return e=>async r=>{let n=r.request;if(Or.isInstance(n)){let{body:i,headers:o}=n;if(i&&Object.keys(o).map(s=>s.toLowerCase()).indexOf(p_e)===-1)try{let s=t(i);n.headers={...n.headers,[p_e]:String(s)}}catch{}}return e({...r,request:n})}}var p_e,wst,kc,Zg=g(()=>{"use strict";An();p_e="content-length";wst={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},kc=t=>({applyToStack:e=>{e.add(Sst(t.bodyLengthChecker),wst)}})});var m_e,xst,Ast,Est,Rst,Tst,f_e=g(()=>{"use strict";m_e=async t=>{let e=t?.Bucket||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),Tst(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!Rst(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t},xst=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,Ast=/(\d+\.){3}\d+/,Est=/\.\./,Rst=t=>xst.test(t)&&!Ast.test(t)&&!Est.test(t),Tst=t=>{let[e,r,n,,,i]=t.split(":"),o=e==="arn"&&t.split(":").length>=6,s=!!(o&&r&&n&&i);if(o&&!s)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return s}});var h_e=g(()=>{"use strict";f_e()});var g_e,y_e=g(()=>{"use strict";g_e=(t,e,r,n=!1)=>{let i=async()=>{let o;return n?o=r.clientContextParams?.[t]??r[t]??r[e]:o=r[t]??r[e],typeof o=="function"?o():o};return t==="credentialScope"||e==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:t==="accountId"||e==="AccountId"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.accountId??o?.AccountId}:t==="endpoint"||e==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let o=await i();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:s,hostname:a,port:c,path:l}=o;return`${s}//${a}${c?":"+c:""}${l}`}}return o}:i}});function G8(t){try{let e=new Set(Array.from(t.match(/([A-Z_]){3,}/g)??[]));return e.delete("CONFIG"),e.delete("CONFIG_PREFIX_SEPARATOR"),e.delete("ENV"),[...e].join(", ")}catch{return t}}var Bj=g(()=>{"use strict"});var b_e,v_e=g(()=>{"use strict";Br();Bj();b_e=(t,e)=>async()=>{try{let r=t(process.env,e);if(r===void 0)throw new Error;return r}catch(r){throw new Xe(r.message||`Not found in ENV: ${G8(t.toString())}`,{logger:e?.logger})}}});import{homedir as Ist}from"os";import{sep as Cst}from"path";var Uj,Ost,ff,av=g(()=>{"use strict";Uj={},Ost=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",ff=()=>{let{HOME:t,USERPROFILE:e,HOMEPATH:r,HOMEDRIVE:n=`C:${Cst}`}=process.env;if(t)return t;if(e)return e;if(r)return`${n}${r}`;let i=Ost();return Uj[i]||(Uj[i]=Ist()),Uj[i]}});var Fj,Nst,Ws,__e=g(()=>{"use strict";Fj="AWS_PROFILE",Nst="default",Ws=t=>t.profile||process.env[Fj]||Nst});import{createHash as Pst}from"crypto";import{join as kst}from"path";var K8,zj=g(()=>{"use strict";av();K8=t=>{let r=Pst("sha1").update(t).digest("hex");return kst(ff(),".aws","sso","cache",`${r}.json`)}});import{readFile as Dst}from"fs/promises";var mx,fx,Vj=g(()=>{"use strict";zj();mx={},fx=async t=>{if(mx[t])return mx[t];let e=K8(t),r=await Dst(e,"utf8");return JSON.parse(r)}});var S_e,w_e=g(()=>{"use strict";rf();S_e=t=>Object.entries(t).filter(([e])=>{let r=e.indexOf(".");return r===-1?!1:Object.values(qd).includes(e.substring(0,r))}).reduce((e,[r,n])=>{let i=r.indexOf("."),o=r.substring(0,i)===qd.PROFILE?r.substring(i+1):r;return e[o]=n,e},{...t.default&&{default:t.default}})});import{join as Mst}from"path";var $st,Y8,jj=g(()=>{"use strict";av();$st="AWS_CONFIG_FILE",Y8=()=>process.env[$st]||Mst(ff(),".aws","config")});import{join as Lst}from"path";var Bst,x_e,A_e=g(()=>{"use strict";av();Bst="AWS_SHARED_CREDENTIALS_FILE",x_e=()=>process.env[Bst]||Lst(ff(),".aws","credentials")});var Ust,Fst,hx,qj=g(()=>{"use strict";rf();Ust=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,Fst=["__proto__","profile __proto__"],hx=t=>{let e={},r,n;for(let i of t.split(/\r?\n/)){let o=i.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){r=void 0,n=void 0;let a=o.substring(1,o.length-1),c=Ust.exec(a);if(c){let[,l,,u]=c;Object.values(qd).includes(l)&&(r=[l,u].join("."))}else r=a;if(Fst.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=o.indexOf("=");if(![0,-1].includes(a)){let[c,l]=[o.substring(0,a).trim(),o.substring(a+1).trim()];if(l==="")n=c;else{n&&i.trimStart()===i&&(n=void 0),e[r]=e[r]||{};let u=n?[n,c].join("."):c;e[r][u]=l}}}}return e}});import{readFile as zst}from"node:fs/promises";var Hj,gx,hf,yx=g(()=>{"use strict";Hj={},gx={},hf=(t,e)=>gx[t]!==void 0?gx[t]:((!Hj[t]||e?.ignoreCache)&&(Hj[t]=zst(t,"utf8")),Hj[t])});import{join as E_e}from"path";var R_e,J8,Wj=g(()=>{"use strict";w_e();jj();A_e();av();qj();yx();R_e=()=>({}),J8=async(t={})=>{let{filepath:e=x_e(),configFilepath:r=Y8()}=t,n=ff(),i="~/",o=e;e.startsWith(i)&&(o=E_e(n,e.slice(2)));let s=r;r.startsWith(i)&&(s=E_e(n,r.slice(2)));let a=await Promise.all([hf(s,{ignoreCache:t.ignoreCache}).then(hx).then(S_e).catch(R_e),hf(o,{ignoreCache:t.ignoreCache}).then(hx).catch(R_e)]);return{configFile:a[0],credentialsFile:a[1]}}});var T_e,I_e=g(()=>{"use strict";rf();T_e=t=>Object.entries(t).filter(([e])=>e.startsWith(qd.SSO_SESSION+".")).reduce((e,[r,n])=>({...e,[r.substring(r.indexOf(".")+1)]:n}),{})});var Vst,Q8,C_e=g(()=>{"use strict";jj();I_e();qj();yx();Vst=()=>({}),Q8=async(t={})=>hf(t.configFilepath??Y8()).then(hx).then(T_e).catch(Vst)});var O_e,N_e=g(()=>{"use strict";O_e=(...t)=>{let e={};for(let r of t)for(let[n,i]of Object.entries(r))e[n]!==void 0?Object.assign(e[n],i):e[n]=i;return e}});var Nu,P_e=g(()=>{"use strict";Wj();N_e();Nu=async t=>{let e=await J8(t);return O_e(e.configFile,e.credentialsFile)}});var bx,k_e=g(()=>{"use strict";Vj();yx();bx={getFileRecord(){return gx},interceptFile(t,e){gx[t]=Promise.resolve(e)},getTokenRecord(){return mx},interceptToken(t,e){mx[t]=e}}});var D_e=g(()=>{"use strict"});var Gs=g(()=>{"use strict";av();__e();zj();Vj();Wj();C_e();P_e();k_e();D_e();yx()});var M_e,$_e=g(()=>{"use strict";Br();Gs();Bj();M_e=(t,{preferredFile:e="config",...r}={})=>async()=>{let n=Ws(r),{configFile:i,credentialsFile:o}=await J8(r),s=o[n]||{},a=i[n]||{},c=e==="config"?{...s,...a}:{...a,...s};try{let u=t(c,e==="config"?i:o);if(u===void 0)throw new Error;return u}catch(l){throw new Xe(l.message||`Not found in config files w/ profile [${n}]: ${G8(t.toString())}`,{logger:r.logger})}}});var jst,L_e,B_e=g(()=>{"use strict";Br();jst=t=>typeof t=="function",L_e=t=>jst(t)?async()=>await t():Oye(t)});var ct,U_e=g(()=>{"use strict";Br();v_e();$_e();B_e();ct=({environmentVariableSelector:t,configFileSelector:e,default:r},n={})=>{let{signingName:i,logger:o}=n;return S8(Zb(b_e(t,{signingName:i,logger:o}),M_e(e,n),L_e(r)))}});var Dc=g(()=>{"use strict";U_e()});var F_e,z_e,V_e,j_e=g(()=>{"use strict";F_e="AWS_ENDPOINT_URL",z_e="endpoint_url",V_e=t=>({environmentVariableSelector:e=>{let r=t.split(" ").map(o=>o.toUpperCase()),n=e[[F_e,...r].join("_")];if(n)return n;let i=e[F_e];if(i)return i},configFileSelector:(e,r)=>{if(r&&e.services){let i=r[["services",e.services].join(".")];if(i){let o=t.split(" ").map(a=>a.toLowerCase()),s=i[[o.join("_"),z_e].join(".")];if(s)return s}}let n=e[z_e];if(n)return n},default:void 0})});var Z8,Gj=g(()=>{"use strict";Dc();j_e();Z8=async t=>ct(V_e(t??""))()});var X8,eC=g(()=>{"use strict";Zd();X8=t=>typeof t=="object"?"url"in t?Ki(t.url):t:Ki(t)});var q_e,qst,Kj=g(()=>{"use strict";h_e();y_e();Gj();eC();q_e=async(t,e,r,n)=>{if(!r.isCustomEndpoint){let s;r.serviceConfiguredEndpoint?s=await r.serviceConfiguredEndpoint():s=await Z8(r.serviceId),s&&(r.endpoint=()=>Promise.resolve(X8(s)),r.isCustomEndpoint=!0)}let i=await qst(t,e,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(i,n)},qst=async(t,e,r)=>{let n={},i=e?.getEndpointParameterInstructions?.()||{};for(let[o,s]of Object.entries(i))switch(s.type){case"staticContextParams":n[o]=s.value;break;case"contextParams":n[o]=t[s.name];break;case"clientContextParams":case"builtInParams":n[o]=await g_e(s.name,o,r,s.type!=="builtInParams")();break;case"operationContextParams":n[o]=s.get(t);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(s))}return Object.keys(i).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await m_e(n),n}});var H_e=g(()=>{"use strict";Kj();eC()});var W_e,Yj=g(()=>{"use strict";dn();Do();Kj();W_e=({config:t,instructions:e})=>(r,n)=>async i=>{t.isCustomEndpoint&&L0e(n,"ENDPOINT_OVERRIDE","N");let o=await q_e(i.input,{getEndpointParameterInstructions(){return e}},{...t},n);n.endpointV2=o,n.authSchemes=o.properties?.authSchemes;let s=n.authSchemes?.[0];if(s){n.signing_region=s.signingRegion,n.signing_service=s.signingName;let c=Gn(n)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:s.signingRegion,signingRegion:s.signingRegion,signing_service:s.signingName,signingName:s.signingName,signingRegionSet:s.signingRegionSet},s.properties))}return r({...i})}});var Hst,ie,G_e=g(()=>{"use strict";mV();Yj();Hst={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:QI.name},ie=(t,e)=>({applyToStack:r=>{r.addRelativeTo(W_e({config:t,instructions:e}),Hst)}})});var Mc,K_e=g(()=>{"use strict";Do();Gj();eC();Mc=t=>{let e=t.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:i}=t,o=r!=null?async()=>X8(await Nr(r)()):void 0,a=Object.assign(t,{endpoint:o,tls:e,isCustomEndpoint:!!r,useDualstackEndpoint:Nr(n??!1),useFipsEndpoint:Nr(i??!1)}),c;return a.serviceConfiguredEndpoint=async()=>(t.serviceId&&!c&&(c=Z8(t.serviceId)),c),a}});var Y_e=g(()=>{"use strict"});var J_e=g(()=>{"use strict"});var Oe=g(()=>{"use strict";H_e();Yj();G_e();K_e();Y_e();J_e()});var ep,cv,Ks,tC=g(()=>{"use strict";(function(t){t.STANDARD="standard",t.ADAPTIVE="adaptive"})(ep||(ep={}));cv=3,Ks=ep.STANDARD});var Q_e,Z_e,X_e,e2e,t2e,r2e=g(()=>{"use strict";Q_e=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Z_e=["TimeoutError","RequestTimeout","RequestTimeoutException"],X_e=[500,502,503,504],e2e=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],t2e=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"]});var Wst,Gst,Kst,rC,nC,n2e,Jj=g(()=>{"use strict";r2e();Wst=t=>t?.$retryable!==void 0,Gst=t=>t.$metadata?.clockSkewCorrected,Kst=t=>{let e=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return t&&t instanceof TypeError?e.has(t.message):!1},rC=t=>t.$metadata?.httpStatusCode===429||Q_e.includes(t.name)||t.$retryable?.throttling==!0,nC=(t,e=0)=>Wst(t)||Gst(t)||Z_e.includes(t.name)||e2e.includes(t?.code||"")||t2e.includes(t?.code||"")||X_e.includes(t.$metadata?.httpStatusCode||0)||Kst(t)||t.cause!==void 0&&e<=10&&nC(t.cause,e+1),n2e=t=>{if(t.$metadata?.httpStatusCode!==void 0){let e=t.$metadata.httpStatusCode;return 500<=e&&e<=599&&!nC(t)}return!1}});var iC,Qj=g(()=>{"use strict";Jj();iC=class t{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(e){this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){let r=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>t.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){let e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}let r=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=e}updateClientSendingRate(e){let r;if(this.updateMeasuredRate(),rC(e)){let i=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=i,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(i),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let e=this.getCurrentTimeInSeconds(),r=Math.floor(e*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(e){return parseFloat(e.toFixed(8))}}});var i2e,o2e,s2e=g(()=>{"use strict";i2e="amz-sdk-invocation-id",o2e="amz-sdk-request"});var c2e,l2e=g(()=>{"use strict";c2e=()=>{let t=100;return{computeNextBackoffDelay:n=>Math.floor(Math.min(2e4,Math.random()*2**n*t)),setDelayBase:n=>{t=n}}}});var Zj,u2e=g(()=>{"use strict";Zj=({retryDelay:t,retryCount:e,retryCost:r})=>({getRetryCount:()=>e,getRetryDelay:()=>Math.min(2e4,t),getRetryCost:()=>r})});var lv,Xj=g(()=>{"use strict";tC();l2e();u2e();lv=class{maxAttempts;mode=ep.STANDARD;capacity=500;retryBackoffStrategy=c2e();maxAttemptsProvider;constructor(e){this.maxAttempts=e,this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}async acquireInitialRetryToken(e){return Zj({retryDelay:100,retryCount:0})}async refreshRetryTokenForRetry(e,r){let n=await this.getMaxAttempts();if(this.shouldRetry(e,r,n)){let i=r.errorType;this.retryBackoffStrategy.setDelayBase(i==="THROTTLING"?500:100);let o=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),s=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,o):o,a=this.getCapacityCost(i);return this.capacity-=a,Zj({retryDelay:s,retryCount:e.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(500,this.capacity+(e.getRetryCost()??1))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${cv}`),cv}}shouldRetry(e,r,n){return e.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(e){return e==="TRANSIENT"?10:5}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}}});var oC,d2e=g(()=>{"use strict";tC();Qj();Xj();oC=class{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=ep.ADAPTIVE;constructor(e,r){this.maxAttemptsProvider=e;let{rateLimiter:n}=r??{};this.rateLimiter=n??new iC,this.standardRetryStrategy=new lv(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(e,r)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}});var p2e=g(()=>{"use strict"});var m2e=g(()=>{"use strict"});var tp=g(()=>{"use strict";d2e();p2e();Qj();Xj();tC();s2e();m2e()});var f2e=g(()=>{"use strict"});var h2e=g(()=>{"use strict"});var g2e,y2e=g(()=>{"use strict";g2e=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`)});var b2e=g(()=>{"use strict"});var v2e=g(()=>{"use strict"});var _2e,S2e,$c,Lc,Qst,Zst,Bc,w2e=g(()=>{"use strict";Do();tp();_2e="AWS_MAX_ATTEMPTS",S2e="max_attempts",$c={environmentVariableSelector:t=>{let e=t[_2e];if(!e)return;let r=parseInt(e);if(Number.isNaN(r))throw new Error(`Environment variable ${_2e} mast be a number, got "${e}"`);return r},configFileSelector:t=>{let e=t[S2e];if(!e)return;let r=parseInt(e);if(Number.isNaN(r))throw new Error(`Shared config file entry ${S2e} mast be a number, got "${e}"`);return r},default:cv},Lc=t=>{let{retryStrategy:e,retryMode:r,maxAttempts:n}=t,i=Nr(n??cv);return Object.assign(t,{maxAttempts:i,retryStrategy:async()=>e||(await Nr(r)()===ep.ADAPTIVE?new oC(i):new lv(i))})},Qst="AWS_RETRY_MODE",Zst="retry_mode",Bc={environmentVariableSelector:t=>t[Qst],configFileSelector:t=>t[Zst],default:Ks}});var x2e=g(()=>{"use strict"});import{Readable as Xst}from"stream";var A2e,E2e=g(()=>{"use strict";A2e=t=>t?.body instanceof Xst||typeof ReadableStream<"u"&&t?.body instanceof ReadableStream});var eat,tat,rat,nat,iat,Uc,oat,R2e=g(()=>{"use strict";An();Jj();fe();tp();DV();E2e();y2e();eat=t=>(e,r)=>async n=>{let i=await t.retryStrategy(),o=await t.maxAttempts();if(tat(i)){i=i;let s=await i.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,l=0,{request:u}=n,d=Or.isInstance(u);for(d&&(u.headers[i2e]=Kd());;)try{d&&(u.headers[o2e]=`attempt=${c+1}; max=${o}`);let{response:p,output:m}=await e(n);return i.recordSuccess(s),m.$metadata.attempts=c+1,m.$metadata.totalRetryDelay=l,{response:p,output:m}}catch(p){let m=rat(p);if(a=g2e(p),d&&A2e(u))throw(r.logger instanceof Bo?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{s=await i.refreshRetryTokenForRetry(s,m)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=l,a}c=s.getRetryCount();let h=s.getRetryDelay();l+=h,await new Promise(f=>setTimeout(f,h))}}else return i=i,i?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",i.mode]]),i.retry(e,n)},tat=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",rat=t=>{let e={error:t,errorType:nat(t)},r=oat(t.$response);return r&&(e.retryAfterHint=r),e},nat=t=>rC(t)?"THROTTLING":nC(t)?"TRANSIENT":n2e(t)?"SERVER_ERROR":"CLIENT_ERROR",iat={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Uc=t=>({applyToStack:e=>{e.add(eat(t),iat)}}),oat=t=>{if(!oc.isInstance(t))return;let e=Object.keys(t.headers).find(o=>o.toLowerCase()==="retry-after");if(!e)return;let r=t.headers[e],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)}});var Ca=g(()=>{"use strict";v2e();b2e();w2e();f2e();x2e();h2e();R2e()});function sat(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"secretsmanager",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}var T2e,I2e,C2e,eq=g(()=>{"use strict";_i();Do();T2e=async(t,e,r)=>({operation:Gn(e).operation,region:await Nr(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});I2e=t=>{let e=[];switch(t.operation){default:e.push(sat(t))}return e},C2e=t=>{let e=wc(t);return Object.assign(e,{authSchemePreference:Nr(t.authSchemePreference??[])})}});var O2e,Ut,vn=g(()=>{"use strict";O2e=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"secretsmanager"}),Ut={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var P2e,N2e=g(()=>{P2e={name:"@aws-sdk/client-secrets-manager",description:"AWS SDK for JavaScript Secrets Manager Client for Node.js, Browser and React Native",version:"3.980.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-secrets-manager","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"premove dist-cjs dist-es dist-types tsconfig.cjs.tsbuildinfo tsconfig.es.tsbuildinfo tsconfig.types.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo secrets-manager","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"^3.973.5","@aws-sdk/credential-provider-node":"^3.972.4","@aws-sdk/middleware-host-header":"^3.972.3","@aws-sdk/middleware-logger":"^3.972.3","@aws-sdk/middleware-recursion-detection":"^3.972.3","@aws-sdk/middleware-user-agent":"^3.972.5","@aws-sdk/region-config-resolver":"^3.972.3","@aws-sdk/types":"^3.973.1","@aws-sdk/util-endpoints":"3.980.0","@aws-sdk/util-user-agent-browser":"^3.972.3","@aws-sdk/util-user-agent-node":"^3.972.3","@smithy/config-resolver":"^4.4.6","@smithy/core":"^3.22.0","@smithy/fetch-http-handler":"^5.3.9","@smithy/hash-node":"^4.2.8","@smithy/invalid-dependency":"^4.2.8","@smithy/middleware-content-length":"^4.2.8","@smithy/middleware-endpoint":"^4.4.12","@smithy/middleware-retry":"^4.4.29","@smithy/middleware-serde":"^4.2.9","@smithy/middleware-stack":"^4.2.8","@smithy/node-config-provider":"^4.3.8","@smithy/node-http-handler":"^4.4.8","@smithy/protocol-http":"^5.3.8","@smithy/smithy-client":"^4.11.1","@smithy/types":"^4.12.0","@smithy/url-parser":"^4.2.8","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.28","@smithy/util-defaults-mode-node":"^4.2.31","@smithy/util-endpoints":"^3.2.8","@smithy/util-middleware":"^4.2.8","@smithy/util-retry":"^4.2.8","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node20":"20.1.8","@types/node":"^20.14.8",concurrently:"7.0.0","downlevel-dts":"0.10.1",premove:"4.0.0",typescript:"~5.8.3"},engines:{node:">=20.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-secrets-manager",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-secrets-manager"}}});var sC,aC,k2e,D2e,M2e,$2e,tq,L2e=g(()=>{"use strict";po();Br();sC="AWS_ACCESS_KEY_ID",aC="AWS_SECRET_ACCESS_KEY",k2e="AWS_SESSION_TOKEN",D2e="AWS_CREDENTIAL_EXPIRATION",M2e="AWS_CREDENTIAL_SCOPE",$2e="AWS_ACCOUNT_ID",tq=t=>async()=>{t?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let e=process.env[sC],r=process.env[aC],n=process.env[k2e],i=process.env[D2e],o=process.env[M2e],s=process.env[$2e];if(e&&r){let a={accessKeyId:e,secretAccessKey:r,...n&&{sessionToken:n},...i&&{expiration:new Date(i)},...o&&{credentialScope:o},...s&&{accountId:s}};return hr(a,"CREDENTIALS_ENV_VARS","g"),a}throw new Xe("Unable to find environment variable credentials.",{logger:t?.logger})}});var B2e={};lr(B2e,{ENV_ACCOUNT_ID:()=>$2e,ENV_CREDENTIAL_SCOPE:()=>M2e,ENV_EXPIRATION:()=>D2e,ENV_KEY:()=>sC,ENV_SECRET:()=>aC,ENV_SESSION:()=>k2e,fromEnv:()=>tq});var rq=g(()=>{"use strict";L2e()});import{Buffer as cat}from"buffer";import{request as lat}from"http";function gf(t){return new Promise((e,r)=>{let n=lat({method:"GET",...t,hostname:t.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",i=>{r(Object.assign(new _c("Unable to connect to instance metadata service"),i)),n.destroy()}),n.on("timeout",()=>{r(new _c("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",i=>{let{statusCode:o=400}=i;(o<200||300<=o)&&(r(Object.assign(new _c("Error response received from instance metadata service"),{statusCode:o})),n.destroy());let s=[];i.on("data",a=>{s.push(a)}),i.on("end",()=>{e(cat.concat(s)),n.destroy()})}),n.end()})}var cC=g(()=>{"use strict";Br()});var lC,uC,nq=g(()=>{"use strict";lC=t=>!!t&&typeof t=="object"&&typeof t.AccessKeyId=="string"&&typeof t.SecretAccessKey=="string"&&typeof t.Token=="string"&&typeof t.Expiration=="string",uC=t=>({accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,sessionToken:t.Token,expiration:new Date(t.Expiration),...t.AccountId&&{accountId:t.AccountId}})});var N0r,P0r,vx,dC=g(()=>{"use strict";N0r=1e3,P0r=0,vx=({maxRetries:t=0,timeout:e=1e3})=>({maxRetries:t,timeout:e})});var _x,iq=g(()=>{"use strict";_x=(t,e)=>{let r=t();for(let n=0;n<e;n++)r=r.catch(t);return r}});import{parse as uat}from"url";var pC,mC,oq,dat,pat,mat,fat,hat,gat,U2e=g(()=>{"use strict";Br();cC();nq();dC();iq();pC="AWS_CONTAINER_CREDENTIALS_FULL_URI",mC="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",oq="AWS_CONTAINER_AUTHORIZATION_TOKEN",dat=(t={})=>{let{timeout:e,maxRetries:r}=vx(t);return()=>_x(async()=>{let n=await gat({logger:t.logger}),i=JSON.parse(await pat(e,n));if(!lC(i))throw new Xe("Invalid response received from instance metadata service.",{logger:t.logger});return uC(i)},r)},pat=async(t,e)=>(process.env[oq]&&(e.headers={...e.headers,Authorization:process.env[oq]}),(await gf({...e,timeout:t})).toString()),mat="169.254.170.2",fat={localhost:!0,"127.0.0.1":!0},hat={"http:":!0,"https:":!0},gat=async({logger:t})=>{if(process.env[mC])return{hostname:mat,path:process.env[mC]};if(process.env[pC]){let e=uat(process.env[pC]);if(!e.hostname||!(e.hostname in fat))throw new Xe(`${e.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:t});if(!e.protocol||!(e.protocol in hat))throw new Xe(`${e.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:t});return{...e,port:e.port?parseInt(e.port,10):void 0}}throw new Xe(`The container metadata credential provider cannot be used unless the ${mC} or ${pC} environment variable is set`,{tryNextLink:!1,logger:t})}});var fC,F2e=g(()=>{"use strict";Br();fC=class t extends Xe{tryNextLink;name="InstanceMetadataV1FallbackError";constructor(e,r=!0){super(e,r),this.tryNextLink=r,Object.setPrototypeOf(this,t.prototype)}}});var e0,sq=g(()=>{"use strict";(function(t){t.IPv4="http://169.254.169.254",t.IPv6="http://[fd00:ec2::254]"})(e0||(e0={}))});var yat,bat,z2e,V2e=g(()=>{"use strict";yat="AWS_EC2_METADATA_SERVICE_ENDPOINT",bat="ec2_metadata_service_endpoint",z2e={environmentVariableSelector:t=>t[yat],configFileSelector:t=>t[bat],default:void 0}});var yf,aq=g(()=>{"use strict";(function(t){t.IPv4="IPv4",t.IPv6="IPv6"})(yf||(yf={}))});var vat,_at,j2e,q2e=g(()=>{"use strict";aq();vat="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",_at="ec2_metadata_service_endpoint_mode",j2e={environmentVariableSelector:t=>t[vat],configFileSelector:t=>t[_at],default:yf.IPv4}});var hC,Sat,wat,cq=g(()=>{"use strict";Dc();Zd();sq();V2e();aq();q2e();hC=async()=>Ki(await Sat()||await wat()),Sat=async()=>ct(z2e)(),wat=async()=>{let t=await ct(j2e)();switch(t){case yf.IPv4:return e0.IPv4;case yf.IPv6:return e0.IPv6;default:throw new Error(`Unsupported endpoint mode: ${t}. Select from ${Object.values(yf)}`)}}});var xat,lq,H2e=g(()=>{"use strict";xat="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",lq=(t,e)=>{let r=300+Math.floor(Math.random()*300),n=new Date(Date.now()+r*1e3);e.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+xat);let i=t.originalExpiration??t.expiration;return{...t,...i?{originalExpiration:i}:{},expiration:n}}});var W2e,G2e=g(()=>{"use strict";H2e();W2e=(t,e={})=>{let r=e?.logger||console,n;return async()=>{let i;try{i=await t(),i.expiration&&i.expiration.getTime()<Date.now()&&(i=lq(i,r))}catch(o){if(n)r.warn("Credential renew failed: ",o),i=lq(n,r);else throw o}return n=i,i}}});var J2e,Aat,uq,K2e,Y2e,Eat,Rat,Tat,Iat,Cat,Q2e=g(()=>{"use strict";Dc();Br();F2e();cC();nq();dC();iq();cq();G2e();J2e="/latest/meta-data/iam/security-credentials/",Aat="/latest/api/token",uq="AWS_EC2_METADATA_V1_DISABLED",K2e="ec2_metadata_v1_disabled",Y2e="x-aws-ec2-metadata-token",Eat=(t={})=>W2e(Rat(t),{logger:t.logger}),Rat=(t={})=>{let e=!1,{logger:r,profile:n}=t,{timeout:i,maxRetries:o}=vx(t),s=async(a,c)=>{if(e||c.headers?.[Y2e]==null){let d=!1,p=!1,m=await ct({environmentVariableSelector:h=>{let f=h[uq];if(p=!!f&&f!=="false",f===void 0)throw new Xe(`${uq} not set in env, checking config file next.`,{logger:t.logger});return p},configFileSelector:h=>{let f=h[K2e];return d=!!f&&f!=="false",d},default:!1},{profile:n})();if(t.ec2MetadataV1Disabled||m){let h=[];throw t.ec2MetadataV1Disabled&&h.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),d&&h.push(`config file profile (${K2e})`),p&&h.push(`process environment variable (${uq})`),new fC(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${h.join(", ")}].`)}}let u=(await _x(async()=>{let d;try{d=await Iat(c)}catch(p){throw p.statusCode===401&&(e=!1),p}return d},a)).trim();return _x(async()=>{let d;try{d=await Cat(u,c,t)}catch(p){throw p.statusCode===401&&(e=!1),p}return d},a)};return async()=>{let a=await hC();if(e)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),s(o,{...a,timeout:i});{let c;try{c=(await Tat({...a,timeout:i})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(e=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),s(o,{...a,timeout:i})}return s(o,{...a,headers:{[Y2e]:c},timeout:i})}}},Tat=async t=>gf({...t,path:Aat,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),Iat=async t=>(await gf({...t,path:J2e})).toString(),Cat=async(t,e,r)=>{let n=JSON.parse((await gf({...e,path:J2e+t})).toString());if(!lC(n))throw new Xe("Invalid response received from instance metadata service.",{logger:r.logger});return uC(n)}});var Z2e=g(()=>{"use strict"});var Sx={};lr(Sx,{DEFAULT_MAX_RETRIES:()=>P0r,DEFAULT_TIMEOUT:()=>N0r,ENV_CMDS_AUTH_TOKEN:()=>oq,ENV_CMDS_FULL_URI:()=>pC,ENV_CMDS_RELATIVE_URI:()=>mC,Endpoint:()=>e0,fromContainerMetadata:()=>dat,fromInstanceMetadata:()=>Eat,getInstanceMetadataEndpoint:()=>hC,httpRequest:()=>gf,providerConfigFromInit:()=>vx});var wx=g(()=>{"use strict";U2e();Q2e();dC();Z2e();cC();cq();sq()});var Oat,Nat,Pat,X2e,eSe=g(()=>{"use strict";Br();Oat="169.254.170.2",Nat="169.254.170.23",Pat="[fd00:ec2::23]",X2e=(t,e)=>{if(t.protocol!=="https:"&&!(t.hostname===Oat||t.hostname===Nat||t.hostname===Pat)){if(t.hostname.includes("[")){if(t.hostname==="[::1]"||t.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(t.hostname==="localhost")return;let r=t.hostname.split("."),n=i=>{let o=parseInt(i,10);return 0<=o&&o<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new Xe(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:e})}}});function tSe(t){return new Or({protocol:t.protocol,hostname:t.hostname,port:Number(t.port),path:t.pathname,query:Array.from(t.searchParams.entries()).reduce((e,[r,n])=>(e[r]=n,e),{}),fragment:t.hash})}async function rSe(t,e){let n=await t8(t.body).transformToString();if(t.statusCode===200){let i=JSON.parse(n);if(typeof i.AccessKeyId!="string"||typeof i.SecretAccessKey!="string"||typeof i.Token!="string"||typeof i.Expiration!="string")throw new Xe("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:e});return{accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.Token,expiration:i0e(i.Expiration)}}if(t.statusCode>=400&&t.statusCode<500){let i={};try{i=JSON.parse(n)}catch{}throw Object.assign(new Xe(`Server responded with status: ${t.statusCode}`,{logger:e}),{Code:i.Code,Message:i.Message})}throw new Xe(`Server responded with status: ${t.statusCode}`,{logger:e})}var nSe=g(()=>{"use strict";Br();An();fe();r8()});var iSe,oSe=g(()=>{"use strict";iSe=(t,e,r)=>async()=>{for(let n=0;n<e;++n)try{return await t()}catch{await new Promise(o=>setTimeout(o,r))}return await t()}});import kat from"fs/promises";var Dat,Mat,$at,Lat,Bat,sSe,aSe=g(()=>{"use strict";po();Wd();Br();eSe();nSe();oSe();Dat="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Mat="http://169.254.170.2",$at="AWS_CONTAINER_CREDENTIALS_FULL_URI",Lat="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",Bat="AWS_CONTAINER_AUTHORIZATION_TOKEN",sSe=(t={})=>{t.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let e,r=t.awsContainerCredentialsRelativeUri??process.env[Dat],n=t.awsContainerCredentialsFullUri??process.env[$at],i=t.awsContainerAuthorizationToken??process.env[Bat],o=t.awsContainerAuthorizationTokenFile??process.env[Lat],s=t.logger?.constructor?.name==="NoOpLogger"||!t.logger?.warn?console.warn:t.logger.warn.bind(t.logger);if(r&&n&&(s("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),s("awsContainerCredentialsFullUri will take precedence.")),i&&o&&(s("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),s("awsContainerAuthorizationToken will take precedence.")),n)e=n;else if(r)e=`${Mat}${r}`;else throw new Xe(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:t.logger});let a=new URL(e);X2e(a,t.logger);let c=$o.create({requestTimeout:t.timeout??1e3,connectionTimeout:t.timeout??1e3});return iSe(async()=>{let l=tSe(a);i?l.headers.Authorization=i:o&&(l.headers.Authorization=(await kat.readFile(o)).toString());try{let u=await c.handle(l);return rSe(u.response).then(d=>hr(d,"CREDENTIALS_HTTP","z"))}catch(u){throw new Xe(String(u),{logger:t.logger})}},t.maxRetries??3,t.timeout??1e3)}});var dq={};lr(dq,{fromHttp:()=>sSe});var pq=g(()=>{"use strict";aSe()});var cSe,lSe,uSe=g(()=>{"use strict";Br();cSe="AWS_EC2_METADATA_DISABLED",lSe=async t=>{let{ENV_CMDS_FULL_URI:e,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:i}=await Promise.resolve().then(()=>(wx(),Sx));if(process.env[r]||process.env[e]){t.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:o}=await Promise.resolve().then(()=>(pq(),dq));return Zb(o(t),n(t))}return process.env[cSe]&&process.env[cSe]!=="false"?async()=>{throw new Xe("EC2 Instance Metadata Service access disabled",{logger:t.logger})}:(t.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),i(t))}});function dSe(t,e){let r=Uat(t),n,i,o,s=async a=>{if(a?.forceRefresh)return await r(a);if(o?.expiration&&o?.expiration?.getTime()<Date.now()&&(o=void 0),n)await n;else if(!o||e?.(o))if(o)i||(i=r(a).then(c=>{o=c}).finally(()=>{i=void 0}));else return n=r(a).then(c=>{o=c}).finally(()=>{n=void 0}),s(a);return o};return s}var Uat,pSe=g(()=>{"use strict";Uat=t=>async e=>{let r;for(let n of t)try{return await n(e)}catch(i){if(r=i,i?.tryNextLink)continue;throw i}throw r}});var mq,fq=g(()=>{"use strict";mq=t=>t&&(typeof t.sso_start_url=="string"||typeof t.sso_account_id=="string"||typeof t.sso_session=="string"||typeof t.sso_region=="string"||typeof t.sso_role_name=="string")});var mSe=g(()=>{"use strict"});var uv,gC=g(()=>{"use strict";uv="To refresh this SSO session run 'aws sso login' with the corresponding profile."});function Fat(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function zat(t){return{schemeId:"smithy.api#noAuth"}}var fSe,hSe,gSe,hq=g(()=>{"use strict";_i();Do();fSe=async(t,e,r)=>({operation:Gn(e).operation,region:await Nr(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});hSe=t=>{let e=[];switch(t.operation){case"CreateToken":{e.push(zat(t));break}default:e.push(Fat(t))}return e},gSe=t=>{let e=wc(t);return Object.assign(e,{authSchemePreference:Nr(t.authSchemePreference??[])})}});var ySe,bSe,gq=g(()=>{"use strict";ySe=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),bSe={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var dv,yC=g(()=>{dv={name:"@aws-sdk/nested-clients",version:"3.980.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"premove dist-cjs dist-es dist-types tsconfig.cjs.tsbuildinfo tsconfig.es.tsbuildinfo tsconfig.types.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=20.0.0"},sideEffects:!1,author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"^3.973.5","@aws-sdk/middleware-host-header":"^3.972.3","@aws-sdk/middleware-logger":"^3.972.3","@aws-sdk/middleware-recursion-detection":"^3.972.3","@aws-sdk/middleware-user-agent":"^3.972.5","@aws-sdk/region-config-resolver":"^3.972.3","@aws-sdk/types":"^3.973.1","@aws-sdk/util-endpoints":"3.980.0","@aws-sdk/util-user-agent-browser":"^3.972.3","@aws-sdk/util-user-agent-node":"^3.972.3","@smithy/config-resolver":"^4.4.6","@smithy/core":"^3.22.0","@smithy/fetch-http-handler":"^5.3.9","@smithy/hash-node":"^4.2.8","@smithy/invalid-dependency":"^4.2.8","@smithy/middleware-content-length":"^4.2.8","@smithy/middleware-endpoint":"^4.4.12","@smithy/middleware-retry":"^4.4.29","@smithy/middleware-serde":"^4.2.9","@smithy/middleware-stack":"^4.2.8","@smithy/node-config-provider":"^4.3.8","@smithy/node-http-handler":"^4.4.8","@smithy/protocol-http":"^5.3.8","@smithy/smithy-client":"^4.11.1","@smithy/types":"^4.12.0","@smithy/url-parser":"^4.2.8","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.28","@smithy/util-defaults-mode-node":"^4.2.31","@smithy/util-endpoints":"^3.2.8","@smithy/util-middleware":"^4.2.8","@smithy/util-retry":"^4.2.8","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",premove:"4.0.0",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./signin.d.ts","./signin.js","./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/signin/runtimeConfig":"./dist-es/submodules/signin/runtimeConfig.browser","./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./package.json":"./package.json","./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"},"./signin":{types:"./dist-types/submodules/signin/index.d.ts",module:"./dist-es/submodules/signin/index.js",node:"./dist-cjs/submodules/signin/index.js",import:"./dist-es/submodules/signin/index.js",require:"./dist-cjs/submodules/signin/index.js"}}}});var vSe,_Se=g(()=>{"use strict";vSe={isCrtAvailable:!1}});var SSe,wSe=g(()=>{"use strict";_Se();SSe=()=>vSe.isCrtAvailable?["md/crt-avail"]:null});import{platform as jat,release as qat}from"os";import{env as xSe,versions as Hat}from"process";var Fc,ASe=g(()=>{"use strict";wSe();Fc=({serviceId:t,clientVersion:e})=>async r=>{let n=[["aws-sdk-js",e],["ua","2.1"],[`os/${jat()}`,qat()],["lang/js"],["md/nodejs",`${Hat.node}`]],i=SSe();i&&n.push(i),t&&n.push([`api/${t}`,e]),xSe.AWS_EXECUTION_ENV&&n.push([`exec-env/${xSe.AWS_EXECUTION_ENV}`]);let o=await r?.userAgentAppId?.();return o?[...n,[`app/${o}`]]:[...n]}});var Wat,Gat,Kat,zc,ESe=g(()=>{"use strict";pf();Wat="AWS_SDK_UA_APP_ID",Gat="sdk_ua_app_id",Kat="sdk-ua-app-id",zc={environmentVariableSelector:t=>t[Wat],configFileSelector:t=>t[Gat]??t[Kat],default:VV}});var t0=g(()=>{"use strict";ASe();ESe()});import{Buffer as Yat}from"buffer";import{createHash as Jat,createHmac as Qat}from"crypto";function RSe(t,e){return Yat.isBuffer(t)?t:typeof t=="string"?zb(t,e):ArrayBuffer.isView(t)?Hd(t.buffer,t.byteOffset,t.byteLength):Hd(t)}var Ys,r0=g(()=>{"use strict";jg();ni();Ys=class{algorithmIdentifier;secret;hash;constructor(e,r){this.algorithmIdentifier=e,this.secret=r,this.reset()}update(e,r){this.hash.update(Dl(RSe(e,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?Qat(this.algorithmIdentifier,RSe(this.secret)):Jat(this.algorithmIdentifier)}}});import{fstatSync as Zat,lstatSync as Xat,ReadStream as ect}from"node:fs";var Vc,TSe=g(()=>{"use strict";Vc=t=>{if(!t)return 0;if(typeof t=="string")return Buffer.byteLength(t);if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size;if(typeof t.start=="number"&&typeof t.end=="number")return t.end+1-t.start;if(t instanceof ect){if(t.path!=null)return Xat(t.path).size;if(typeof t.fd=="number")return Zat(t.fd).size}throw new Error(`Body Length computation failed for ${t}`)}});var n0=g(()=>{"use strict";TSe()});var ISe,yq,bq,CSe,OSe,NSe,PSe=g(()=>{"use strict";ISe="AWS_EXECUTION_ENV",yq="AWS_REGION",bq="AWS_DEFAULT_REGION",CSe="AWS_EC2_METADATA_DISABLED",OSe=["in-region","cross-region","mobile","standard","legacy"],NSe="/latest/meta-data/placement/region"});var tct,rct,kSe,DSe=g(()=>{"use strict";tct="AWS_DEFAULTS_MODE",rct="defaults_mode",kSe={environmentVariableSelector:t=>t[tct],configFileSelector:t=>t[rct],default:"legacy"}});var jc,nct,ict,MSe=g(()=>{"use strict";ds();Dc();Br();PSe();DSe();jc=({region:t=ct(Uo),defaultsMode:e=ct(kSe)}={})=>S8(async()=>{let r=typeof e=="function"?await e():e;switch(r?.toLowerCase()){case"auto":return nct(t);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${OSe.join(", ")}, got ${r}`)}}),nct=async t=>{if(t){let e=typeof t=="function"?await t():t,r=await ict();return r?e===r?"in-region":"cross-region":"standard"}return"standard"},ict=async()=>{if(process.env[ISe]&&(process.env[yq]||process.env[bq]))return process.env[yq]??process.env[bq];if(!process.env[CSe])try{let{getInstanceMetadataEndpoint:t,httpRequest:e}=await Promise.resolve().then(()=>(wx(),Sx)),r=await t();return(await e({...r,path:NSe})).toString()}catch{}}});var i0=g(()=>{"use strict";MSe()});var HSe,Hc,$Se,xx,pv,mv,rp,vq,_q,LSe,BSe,USe,WSe,GSe,qc,FSe,KSe,zSe,VSe,jSe,qSe,oct,YSe,JSe=g(()=>{"use strict";HSe="required",Hc="argv",$Se="isSet",xx="booleanEquals",pv="error",mv="endpoint",rp="tree",vq="PartitionResult",_q="getAttr",LSe={[HSe]:!1,type:"string"},BSe={[HSe]:!0,default:!1,type:"boolean"},USe={ref:"Endpoint"},WSe={fn:xx,[Hc]:[{ref:"UseFIPS"},!0]},GSe={fn:xx,[Hc]:[{ref:"UseDualStack"},!0]},qc={},FSe={fn:_q,[Hc]:[{ref:vq},"supportsFIPS"]},KSe={ref:vq},zSe={fn:xx,[Hc]:[!0,{fn:_q,[Hc]:[KSe,"supportsDualStack"]}]},VSe=[WSe],jSe=[GSe],qSe=[{ref:"Region"}],oct={version:"1.0",parameters:{Region:LSe,UseDualStack:BSe,UseFIPS:BSe,Endpoint:LSe},rules:[{conditions:[{fn:$Se,[Hc]:[USe]}],rules:[{conditions:VSe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:pv},{conditions:jSe,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:pv},{endpoint:{url:USe,properties:qc,headers:qc},type:mv}],type:rp},{conditions:[{fn:$Se,[Hc]:qSe}],rules:[{conditions:[{fn:"aws.partition",[Hc]:qSe,assign:vq}],rules:[{conditions:[WSe,GSe],rules:[{conditions:[{fn:xx,[Hc]:[!0,FSe]},zSe],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:qc,headers:qc},type:mv}],type:rp},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:pv}],type:rp},{conditions:VSe,rules:[{conditions:[{fn:xx,[Hc]:[FSe,!0]}],rules:[{conditions:[{fn:"stringEquals",[Hc]:[{fn:_q,[Hc]:[KSe,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:qc,headers:qc},type:mv},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:qc,headers:qc},type:mv}],type:rp},{error:"FIPS is enabled but this partition does not support FIPS",type:pv}],type:rp},{conditions:jSe,rules:[{conditions:[zSe],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:qc,headers:qc},type:mv}],type:rp},{error:"DualStack is enabled but this partition does not support DualStack",type:pv}],type:rp},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:qc,headers:qc},type:mv}],type:rp}],type:rp},{error:"Invalid Configuration: Missing Region",type:pv}]},YSe=oct});var sct,QSe,ZSe=g(()=>{"use strict";of();Ml();JSe();sct=new js({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),QSe=(t,e={})=>sct.get(t,()=>yc(YSe,{endpointParams:t,logger:e.logger}));uo.aws=Ta});var XSe,ewe=g(()=>{"use strict";_i();Xd();dn();fe();Zd();Mo();ni();hq();ZSe();XSe=t=>({apiVersion:"2019-06-10",base64Decoder:t?.base64Decoder??Bn,base64Encoder:t?.base64Encoder??un,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??QSe,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??hSe,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new mo},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new mc}],logger:t?.logger??new Bo,protocol:t?.protocol??uf,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.ssooidc",version:"2019-06-10",serviceTarget:"AWSSSOOIDCService"},serviceId:t?.serviceId??"SSO OIDC",urlParser:t?.urlParser??Ki,utf8Decoder:t?.utf8Decoder??yn,utf8Encoder:t?.utf8Encoder??ln})});var twe,rwe=g(()=>{"use strict";yC();_i();t0();ds();r0();Ca();Dc();Wd();fe();n0();i0();tp();ewe();twe=t=>{Ec(process.version);let e=jc(t),r=()=>e().then(Ac),n=XSe(t);bc(process.version);let i={profile:t?.profile,logger:n.logger};return{...n,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??ct(vc,i),bodyLengthChecker:t?.bodyLengthChecker??Vc,defaultUserAgentProvider:t?.defaultUserAgentProvider??Fc({serviceId:n.serviceId,clientVersion:dv.version}),maxAttempts:t?.maxAttempts??ct($c,t),region:t?.region??ct(Uo,{...Hs,...i}),requestHandler:$o.create(t?.requestHandler??r),retryMode:t?.retryMode??ct({...Bc,default:async()=>(await r()).retryMode||Ks},t),sha256:t?.sha256??Ys.bind(null,"sha256"),streamCollector:t?.streamCollector??Bs,useDualstackEndpoint:t?.useDualstackEndpoint??ct(Oc,i),useFipsEndpoint:t?.useFipsEndpoint??ct(Nc,i),userAgentAppId:t?.userAgentAppId??ct(zc,i)}}});var Wc,Gc,nwe=g(()=>{"use strict";Wc=t=>({setRegion(e){t.region=e},region(){return t.region}}),Gc=t=>({region:t.region()})});var iwe=g(()=>{"use strict"});function owe(t={}){return ct({...Uo,async default(){return act.silence||console.warn("@aws-sdk - WARN - default STS region of us-east-1 used. See @aws-sdk/credential-providers README and set a region explicitly."),"us-east-1"}},{...Hs,...t})}var act,swe=g(()=>{"use strict";ds();Dc();act={silence:!1}});var bf=g(()=>{"use strict";nwe();iwe();swe()});var awe,cwe,lwe=g(()=>{"use strict";awe=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(i){let o=e.findIndex(s=>s.schemeId===i.schemeId);o===-1?e.push(i):e.splice(o,1,i)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},cwe=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var uwe,dwe=g(()=>{"use strict";bf();An();fe();lwe();uwe=(t,e)=>{let r=Object.assign(Wc(t),Rc(t),nc(t),awe(t));return e.forEach(n=>n.configure(r)),Object.assign(t,Gc(r),Tc(r),ic(r),cwe(r))}});var Ax,Sq=g(()=>{"use strict";Ug();Fg();zg();pf();ds();dn();Pr();Zg();Oe();Ca();fe();hq();gq();rwe();dwe();Ax=class extends Pi{config;constructor(...[e]){let r=twe(e||{});super(r),this.initConfig=r;let n=ySe(r),i=fc(n),o=Lc(i),s=Pc(o),a=s,c=Mc(a),l=gSe(c),u=uwe(l,e?.extensions||[]);this.config=u,this.middlewareStack.use(dc(this.config)),this.middlewareStack.use(Cc(this.config)),this.middlewareStack.use(Uc(this.config)),this.middlewareStack.use(kc(this.config)),this.middlewareStack.use(sc(this.config)),this.middlewareStack.use(ac(this.config)),this.middlewareStack.use(cc(this.config)),this.middlewareStack.use(lc(this.config,{httpAuthSchemeParametersProvider:fSe,identityProviderConfigProvider:async d=>new Vs({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(uc(this.config))}destroy(){super.destroy()}}});var Yi,bC=g(()=>{"use strict";fe();Yi=class t extends qs{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var Rx,Tx,Ix,Cx,Ox,Nx,Px,kx,Dx,Mx,$x,wq=g(()=>{"use strict";bC();Rx=class t extends Yi{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.reason=e.reason,this.error_description=e.error_description}},Tx=class t extends Yi{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(e){super({name:"AuthorizationPendingException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},Ix=class t extends Yi{name="ExpiredTokenException";$fault="client";error;error_description;constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},Cx=class t extends Yi{name="InternalServerException";$fault="server";error;error_description;constructor(e){super({name:"InternalServerException",$fault:"server",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},Ox=class t extends Yi{name="InvalidClientException";$fault="client";error;error_description;constructor(e){super({name:"InvalidClientException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},Nx=class t extends Yi{name="InvalidGrantException";$fault="client";error;error_description;constructor(e){super({name:"InvalidGrantException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},Px=class t extends Yi{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.reason=e.reason,this.error_description=e.error_description}},kx=class t extends Yi{name="InvalidScopeException";$fault="client";error;error_description;constructor(e){super({name:"InvalidScopeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},Dx=class t extends Yi{name="SlowDownException";$fault="client";error;error_description;constructor(e){super({name:"SlowDownException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},Mx=class t extends Yi{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(e){super({name:"UnauthorizedClientException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},$x=class t extends Yi{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(e){super({name:"UnsupportedGrantTypeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}}});var cct,lct,uct,dct,pct,mct,fct,hct,gct,yct,bct,vct,_ct,Sct,wct,xct,Act,Ect,Rct,Tct,Pu,Ict,Cct,Oct,Nct,Pct,Kn,kct,Ll,Dct,Mct,Bl,$ct,pwe,mwe,Lct,Bct,Uct,fwe,Fct,kr,zct,Vct,jct,qct,hwe,gwe,ywe,bwe,vwe,_we,Swe,wwe,xwe,Awe,Ewe,Rwe,Twe,Iwe,Cwe,xq,Aq=g(()=>{"use strict";Pr();wq();bC();cct="AccessDeniedException",lct="AuthorizationPendingException",uct="AccessToken",dct="ClientSecret",pct="CreateToken",mct="CreateTokenRequest",fct="CreateTokenResponse",hct="CodeVerifier",gct="ExpiredTokenException",yct="InvalidClientException",bct="InvalidGrantException",vct="InvalidRequestException",_ct="InternalServerException",Sct="InvalidScopeException",wct="IdToken",xct="RefreshToken",Act="SlowDownException",Ect="UnauthorizedClientException",Rct="UnsupportedGrantTypeException",Tct="accessToken",Pu="client",Ict="clientId",Cct="clientSecret",Oct="codeVerifier",Nct="code",Pct="deviceCode",Kn="error",kct="expiresIn",Ll="error_description",Dct="grantType",Mct="http",Bl="httpError",$ct="idToken",pwe="reason",mwe="refreshToken",Lct="redirectUri",Bct="scope",Uct="server",fwe="smithy.ts.sdk.synthetic.com.amazonaws.ssooidc",Fct="tokenType",kr="com.amazonaws.ssooidc",zct=[0,kr,uct,8,0],Vct=[0,kr,dct,8,0],jct=[0,kr,hct,8,0],qct=[0,kr,wct,8,0],hwe=[0,kr,xct,8,0],gwe=[-3,kr,cct,{[Kn]:Pu,[Bl]:400},[Kn,pwe,Ll],[0,0,0]];Ie.for(kr).registerError(gwe,Rx);ywe=[-3,kr,lct,{[Kn]:Pu,[Bl]:400},[Kn,Ll],[0,0]];Ie.for(kr).registerError(ywe,Tx);bwe=[3,kr,mct,0,[Ict,Cct,Dct,Pct,Nct,mwe,Bct,Lct,Oct],[0,[()=>Vct,0],0,0,0,[()=>hwe,0],64,0,[()=>jct,0]],3],vwe=[3,kr,fct,0,[Tct,Fct,kct,mwe,$ct],[[()=>zct,0],0,1,[()=>hwe,0],[()=>qct,0]]],_we=[-3,kr,gct,{[Kn]:Pu,[Bl]:400},[Kn,Ll],[0,0]];Ie.for(kr).registerError(_we,Ix);Swe=[-3,kr,_ct,{[Kn]:Uct,[Bl]:500},[Kn,Ll],[0,0]];Ie.for(kr).registerError(Swe,Cx);wwe=[-3,kr,yct,{[Kn]:Pu,[Bl]:401},[Kn,Ll],[0,0]];Ie.for(kr).registerError(wwe,Ox);xwe=[-3,kr,bct,{[Kn]:Pu,[Bl]:400},[Kn,Ll],[0,0]];Ie.for(kr).registerError(xwe,Nx);Awe=[-3,kr,vct,{[Kn]:Pu,[Bl]:400},[Kn,pwe,Ll],[0,0,0]];Ie.for(kr).registerError(Awe,Px);Ewe=[-3,kr,Sct,{[Kn]:Pu,[Bl]:400},[Kn,Ll],[0,0]];Ie.for(kr).registerError(Ewe,kx);Rwe=[-3,kr,Act,{[Kn]:Pu,[Bl]:400},[Kn,Ll],[0,0]];Ie.for(kr).registerError(Rwe,Dx);Twe=[-3,kr,Ect,{[Kn]:Pu,[Bl]:400},[Kn,Ll],[0,0]];Ie.for(kr).registerError(Twe,Mx);Iwe=[-3,kr,Rct,{[Kn]:Pu,[Bl]:400},[Kn,Ll],[0,0]];Ie.for(kr).registerError(Iwe,$x);Cwe=[-3,fwe,"SSOOIDCServiceException",0,[],[]];Ie.for(fwe).registerError(Cwe,Yi);xq=[9,kr,pct,{[Mct]:["POST","/token",200]},()=>bwe,()=>vwe]});var Lx,Eq=g(()=>{"use strict";Oe();fe();gq();Aq();Lx=class extends re.classBuilder().ep(bSe).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").sc(xq).build(){}});var Hct,vC,Owe=g(()=>{"use strict";fe();Eq();Sq();Hct={CreateTokenCommand:Lx},vC=class extends Ax{};xc(Hct,vC)});var Nwe=g(()=>{"use strict";Eq()});var Wct,Gct,Pwe=g(()=>{"use strict";Wct={KMS_ACCESS_DENIED:"KMS_AccessDeniedException"},Gct={KMS_DISABLED_KEY:"KMS_DisabledException",KMS_INVALID_KEY_USAGE:"KMS_InvalidKeyUsageException",KMS_INVALID_STATE:"KMS_InvalidStateException",KMS_KEY_NOT_FOUND:"KMS_NotFoundException"}});var kwe=g(()=>{"use strict"});var Rq={};lr(Rq,{$Command:()=>re,AccessDeniedException:()=>Rx,AccessDeniedException$:()=>gwe,AccessDeniedExceptionReason:()=>Wct,AuthorizationPendingException:()=>Tx,AuthorizationPendingException$:()=>ywe,CreateToken$:()=>xq,CreateTokenCommand:()=>Lx,CreateTokenRequest$:()=>bwe,CreateTokenResponse$:()=>vwe,ExpiredTokenException:()=>Ix,ExpiredTokenException$:()=>_we,InternalServerException:()=>Cx,InternalServerException$:()=>Swe,InvalidClientException:()=>Ox,InvalidClientException$:()=>wwe,InvalidGrantException:()=>Nx,InvalidGrantException$:()=>xwe,InvalidRequestException:()=>Px,InvalidRequestException$:()=>Awe,InvalidRequestExceptionReason:()=>Gct,InvalidScopeException:()=>kx,InvalidScopeException$:()=>Ewe,SSOOIDC:()=>vC,SSOOIDCClient:()=>Ax,SSOOIDCServiceException:()=>Yi,SSOOIDCServiceException$:()=>Cwe,SlowDownException:()=>Dx,SlowDownException$:()=>Rwe,UnauthorizedClientException:()=>Mx,UnauthorizedClientException$:()=>Twe,UnsupportedGrantTypeException:()=>$x,UnsupportedGrantTypeException$:()=>Iwe,__Client:()=>Pi});var Tq=g(()=>{"use strict";Sq();Owe();Nwe();Aq();Pwe();wq();kwe();bC()});var Dwe,Mwe=g(()=>{"use strict";Dwe=async(t,e={},r)=>{let{SSOOIDCClient:n}=await Promise.resolve().then(()=>(Tq(),Rq)),i=s=>e.clientConfig?.[s]??e.parentClientConfig?.[s]??r?.[s];return new n(Object.assign({},e.clientConfig??{},{region:t??e.clientConfig?.region,logger:i("logger"),userAgentAppId:i("userAgentAppId")}))}});var $we,Lwe=g(()=>{"use strict";Mwe();$we=async(t,e,r={},n)=>{let{CreateTokenCommand:i}=await Promise.resolve().then(()=>(Tq(),Rq));return(await Dwe(e,r,n)).send(new i({clientId:t.clientId,clientSecret:t.clientSecret,refreshToken:t.refreshToken,grantType:"refresh_token"}))}});var Iq,Bwe=g(()=>{"use strict";Br();gC();Iq=t=>{if(t.expiration&&t.expiration.getTime()<Date.now())throw new Sc(`Token is expired. ${uv}`,!1)}});var vf,Uwe=g(()=>{"use strict";Br();gC();vf=(t,e,r=!1)=>{if(typeof e>"u")throw new Sc(`Value not present for '${t}' in SSO Token${r?". Cannot refresh":""}. ${uv}`,!1)}});import{promises as Kct}from"fs";var Yct,Fwe,zwe=g(()=>{"use strict";Gs();({writeFile:Yct}=Kct),Fwe=(t,e)=>{let r=K8(t),n=JSON.stringify(e,null,2);return Yct(r,n)}});var Vwe,jwe,qwe=g(()=>{"use strict";Br();Gs();gC();Lwe();Bwe();Uwe();zwe();Vwe=new Date(0),jwe=(t={})=>async({callerClientConfig:e}={})=>{t.logger?.debug("@aws-sdk/token-providers - fromSso");let r=await Nu(t),n=Ws({profile:t.profile??e?.profile}),i=r[n];if(i){if(!i.sso_session)throw new Sc(`Profile '${n}' is missing required property 'sso_session'.`)}else throw new Sc(`Profile '${n}' could not be found in shared credentials file.`,!1);let o=i.sso_session,a=(await Q8(t))[o];if(!a)throw new Sc(`Sso session '${o}' could not be found in shared credentials file.`,!1);for(let h of["sso_start_url","sso_region"])if(!a[h])throw new Sc(`Sso session '${o}' is missing required property '${h}'.`,!1);let c=a.sso_start_url,l=a.sso_region,u;try{u=await fx(o)}catch{throw new Sc(`The SSO session token associated with profile=${n} was not found or is invalid. ${uv}`,!1)}vf("accessToken",u.accessToken),vf("expiresAt",u.expiresAt);let{accessToken:d,expiresAt:p}=u,m={token:d,expiration:new Date(p)};if(m.expiration.getTime()-Date.now()>3e5)return m;if(Date.now()-Vwe.getTime()<30*1e3)return Iq(m),m;vf("clientId",u.clientId,!0),vf("clientSecret",u.clientSecret,!0),vf("refreshToken",u.refreshToken,!0);try{Vwe.setTime(Date.now());let h=await $we(u,l,t,e);vf("accessToken",h.accessToken),vf("expiresIn",h.expiresIn);let f=new Date(Date.now()+h.expiresIn*1e3);try{await Fwe(o,{...u,accessToken:h.accessToken,expiresAt:f.toISOString(),refreshToken:h.refreshToken})}catch{}return{token:h.accessToken,expiration:f}}catch{return Iq(m),m}}});var Hwe=g(()=>{"use strict"});var Wwe=g(()=>{"use strict"});var Gwe=g(()=>{"use strict";mSe();qwe();Hwe();Wwe()});function Qct(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function _C(t){return{schemeId:"smithy.api#noAuth"}}var Kwe,Ywe,Jwe,Cq=g(()=>{"use strict";_i();Do();Kwe=async(t,e,r)=>({operation:Gn(e).operation,region:await Nr(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Ywe=t=>{let e=[];switch(t.operation){case"GetRoleCredentials":{e.push(_C(t));break}case"ListAccountRoles":{e.push(_C(t));break}case"ListAccounts":{e.push(_C(t));break}case"Logout":{e.push(_C(t));break}default:e.push(Qct(t))}return e},Jwe=t=>{let e=wc(t);return Object.assign(e,{authSchemePreference:Nr(t.authSchemePreference??[])})}});var Qwe,_f,fv=g(()=>{"use strict";Qwe=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),_f={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Xwe,Zwe=g(()=>{Xwe={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.980.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"premove dist-cjs dist-es dist-types tsconfig.cjs.tsbuildinfo tsconfig.es.tsbuildinfo tsconfig.types.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"^3.973.5","@aws-sdk/middleware-host-header":"^3.972.3","@aws-sdk/middleware-logger":"^3.972.3","@aws-sdk/middleware-recursion-detection":"^3.972.3","@aws-sdk/middleware-user-agent":"^3.972.5","@aws-sdk/region-config-resolver":"^3.972.3","@aws-sdk/types":"^3.973.1","@aws-sdk/util-endpoints":"3.980.0","@aws-sdk/util-user-agent-browser":"^3.972.3","@aws-sdk/util-user-agent-node":"^3.972.3","@smithy/config-resolver":"^4.4.6","@smithy/core":"^3.22.0","@smithy/fetch-http-handler":"^5.3.9","@smithy/hash-node":"^4.2.8","@smithy/invalid-dependency":"^4.2.8","@smithy/middleware-content-length":"^4.2.8","@smithy/middleware-endpoint":"^4.4.12","@smithy/middleware-retry":"^4.4.29","@smithy/middleware-serde":"^4.2.9","@smithy/middleware-stack":"^4.2.8","@smithy/node-config-provider":"^4.3.8","@smithy/node-http-handler":"^4.4.8","@smithy/protocol-http":"^5.3.8","@smithy/smithy-client":"^4.11.1","@smithy/types":"^4.12.0","@smithy/url-parser":"^4.2.8","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.28","@smithy/util-defaults-mode-node":"^4.2.31","@smithy/util-endpoints":"^3.2.8","@smithy/util-middleware":"^4.2.8","@smithy/util-retry":"^4.2.8","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node20":"20.1.8","@types/node":"^20.14.8",concurrently:"7.0.0","downlevel-dts":"0.10.1",premove:"4.0.0",typescript:"~5.8.3"},engines:{node:">=20.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var lxe,Yc,exe,Bx,hv,gv,np,Oq,Nq,txe,rxe,nxe,uxe,dxe,Kc,ixe,pxe,oxe,sxe,axe,cxe,Xct,mxe,fxe=g(()=>{"use strict";lxe="required",Yc="argv",exe="isSet",Bx="booleanEquals",hv="error",gv="endpoint",np="tree",Oq="PartitionResult",Nq="getAttr",txe={[lxe]:!1,type:"string"},rxe={[lxe]:!0,default:!1,type:"boolean"},nxe={ref:"Endpoint"},uxe={fn:Bx,[Yc]:[{ref:"UseFIPS"},!0]},dxe={fn:Bx,[Yc]:[{ref:"UseDualStack"},!0]},Kc={},ixe={fn:Nq,[Yc]:[{ref:Oq},"supportsFIPS"]},pxe={ref:Oq},oxe={fn:Bx,[Yc]:[!0,{fn:Nq,[Yc]:[pxe,"supportsDualStack"]}]},sxe=[uxe],axe=[dxe],cxe=[{ref:"Region"}],Xct={version:"1.0",parameters:{Region:txe,UseDualStack:rxe,UseFIPS:rxe,Endpoint:txe},rules:[{conditions:[{fn:exe,[Yc]:[nxe]}],rules:[{conditions:sxe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:hv},{conditions:axe,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:hv},{endpoint:{url:nxe,properties:Kc,headers:Kc},type:gv}],type:np},{conditions:[{fn:exe,[Yc]:cxe}],rules:[{conditions:[{fn:"aws.partition",[Yc]:cxe,assign:Oq}],rules:[{conditions:[uxe,dxe],rules:[{conditions:[{fn:Bx,[Yc]:[!0,ixe]},oxe],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Kc,headers:Kc},type:gv}],type:np},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:hv}],type:np},{conditions:sxe,rules:[{conditions:[{fn:Bx,[Yc]:[ixe,!0]}],rules:[{conditions:[{fn:"stringEquals",[Yc]:[{fn:Nq,[Yc]:[pxe,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:Kc,headers:Kc},type:gv},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Kc,headers:Kc},type:gv}],type:np},{error:"FIPS is enabled but this partition does not support FIPS",type:hv}],type:np},{conditions:axe,rules:[{conditions:[oxe],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Kc,headers:Kc},type:gv}],type:np},{error:"DualStack is enabled but this partition does not support DualStack",type:hv}],type:np},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Kc,headers:Kc},type:gv}],type:np}],type:np},{error:"Invalid Configuration: Missing Region",type:hv}]},mxe=Xct});var elt,hxe,gxe=g(()=>{"use strict";of();Ml();fxe();elt=new js({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),hxe=(t,e={})=>elt.get(t,()=>yc(mxe,{endpointParams:t,logger:e.logger}));uo.aws=Ta});var yxe,bxe=g(()=>{"use strict";_i();Xd();dn();fe();Zd();Mo();ni();Cq();gxe();yxe=t=>({apiVersion:"2019-06-10",base64Decoder:t?.base64Decoder??Bn,base64Encoder:t?.base64Encoder??un,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??hxe,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??Ywe,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new mo},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new mc}],logger:t?.logger??new Bo,protocol:t?.protocol??uf,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.sso",version:"2019-06-10",serviceTarget:"SWBPortalService"},serviceId:t?.serviceId??"SSO",urlParser:t?.urlParser??Ki,utf8Decoder:t?.utf8Decoder??yn,utf8Encoder:t?.utf8Encoder??ln})});var vxe,_xe=g(()=>{"use strict";Zwe();_i();t0();ds();r0();Ca();Dc();Wd();fe();n0();i0();tp();bxe();vxe=t=>{Ec(process.version);let e=jc(t),r=()=>e().then(Ac),n=yxe(t);bc(process.version);let i={profile:t?.profile,logger:n.logger};return{...n,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??ct(vc,i),bodyLengthChecker:t?.bodyLengthChecker??Vc,defaultUserAgentProvider:t?.defaultUserAgentProvider??Fc({serviceId:n.serviceId,clientVersion:Xwe.version}),maxAttempts:t?.maxAttempts??ct($c,t),region:t?.region??ct(Uo,{...Hs,...i}),requestHandler:$o.create(t?.requestHandler??r),retryMode:t?.retryMode??ct({...Bc,default:async()=>(await r()).retryMode||Ks},t),sha256:t?.sha256??Ys.bind(null,"sha256"),streamCollector:t?.streamCollector??Bs,useDualstackEndpoint:t?.useDualstackEndpoint??ct(Oc,i),useFipsEndpoint:t?.useFipsEndpoint??ct(Nc,i),userAgentAppId:t?.userAgentAppId??ct(zc,i)}}});var Sxe,wxe,xxe=g(()=>{"use strict";Sxe=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(i){let o=e.findIndex(s=>s.schemeId===i.schemeId);o===-1?e.push(i):e.splice(o,1,i)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},wxe=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var Axe,Exe=g(()=>{"use strict";bf();An();fe();xxe();Axe=(t,e)=>{let r=Object.assign(Wc(t),Rc(t),nc(t),Sxe(t));return e.forEach(n=>n.configure(r)),Object.assign(t,Gc(r),Tc(r),ic(r),wxe(r))}});var ku,Ux=g(()=>{"use strict";Ug();Fg();zg();pf();ds();dn();Pr();Zg();Oe();Ca();fe();Cq();fv();_xe();Exe();ku=class extends Pi{config;constructor(...[e]){let r=vxe(e||{});super(r),this.initConfig=r;let n=Qwe(r),i=fc(n),o=Lc(i),s=Pc(o),a=s,c=Mc(a),l=Jwe(c),u=Axe(l,e?.extensions||[]);this.config=u,this.middlewareStack.use(dc(this.config)),this.middlewareStack.use(Cc(this.config)),this.middlewareStack.use(Uc(this.config)),this.middlewareStack.use(kc(this.config)),this.middlewareStack.use(sc(this.config)),this.middlewareStack.use(ac(this.config)),this.middlewareStack.use(cc(this.config)),this.middlewareStack.use(lc(this.config,{httpAuthSchemeParametersProvider:Kwe,identityProviderConfigProvider:async d=>new Vs({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(uc(this.config))}destroy(){super.destroy()}}});var ip,Pq=g(()=>{"use strict";fe();ip=class t extends qs{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var SC,wC,xC,AC,kq=g(()=>{"use strict";Pq();SC=class t extends ip{name="InvalidRequestException";$fault="client";constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},wC=class t extends ip{name="ResourceNotFoundException";$fault="client";constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},xC=class t extends ip{name="TooManyRequestsException";$fault="client";constructor(e){super({name:"TooManyRequestsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},AC=class t extends ip{name="UnauthorizedException";$fault="client";constructor(e){super({name:"UnauthorizedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}}});var tlt,rlt,nlt,ilt,olt,slt,alt,clt,llt,ult,dlt,plt,mlt,flt,hlt,glt,ylt,blt,vlt,_lt,Slt,wlt,xlt,EC,Alt,Elt,Rlt,RC,Rxe,TC,IC,Tlt,Ilt,CC,OC,NC,o0,PC,Txe,Ixe,kC,Cxe,Clt,Olt,Oxe,Nlt,Nxe,Plt,klt,DC,Xr,MC,Dlt,Mlt,$lt,Llt,Blt,Ult,Flt,zlt,Vlt,jlt,qlt,Hlt,Wlt,Glt,Klt,Ylt,Jlt,Qlt,Zlt,Xlt,Pxe,kxe,Dxe,Mxe,yv=g(()=>{"use strict";Pr();kq();Pq();tlt="AccountInfo",rlt="AccountListType",nlt="AccessTokenType",ilt="GetRoleCredentials",olt="GetRoleCredentialsRequest",slt="GetRoleCredentialsResponse",alt="InvalidRequestException",clt="Logout",llt="ListAccounts",ult="ListAccountsRequest",dlt="ListAccountRolesRequest",plt="ListAccountRolesResponse",mlt="ListAccountsResponse",flt="ListAccountRoles",hlt="LogoutRequest",glt="RoleCredentials",ylt="RoleInfo",blt="RoleListType",vlt="ResourceNotFoundException",_lt="SecretAccessKeyType",Slt="SessionTokenType",wlt="TooManyRequestsException",xlt="UnauthorizedException",EC="accountId",Alt="accessKeyId",Elt="accountList",Rlt="accountName",RC="accessToken",Rxe="account_id",TC="client",IC="error",Tlt="emailAddress",Ilt="expiration",CC="http",OC="httpError",NC="httpHeader",o0="httpQuery",PC="message",Txe="maxResults",Ixe="max_result",kC="nextToken",Cxe="next_token",Clt="roleCredentials",Olt="roleList",Oxe="roleName",Nlt="role_name",Nxe="smithy.ts.sdk.synthetic.com.amazonaws.sso",Plt="secretAccessKey",klt="sessionToken",DC="x-amz-sso_bearer_token",Xr="com.amazonaws.sso",MC=[0,Xr,nlt,8,0],Dlt=[0,Xr,_lt,8,0],Mlt=[0,Xr,Slt,8,0],$lt=[3,Xr,tlt,0,[EC,Rlt,Tlt],[0,0,0]],Llt=[3,Xr,olt,0,[Oxe,EC,RC],[[0,{[o0]:Nlt}],[0,{[o0]:Rxe}],[()=>MC,{[NC]:DC}]],3],Blt=[3,Xr,slt,0,[Clt],[[()=>Wlt,0]]],Ult=[-3,Xr,alt,{[IC]:TC,[OC]:400},[PC],[0]];Ie.for(Xr).registerError(Ult,SC);Flt=[3,Xr,dlt,0,[RC,EC,kC,Txe],[[()=>MC,{[NC]:DC}],[0,{[o0]:Rxe}],[0,{[o0]:Cxe}],[1,{[o0]:Ixe}]],2],zlt=[3,Xr,plt,0,[kC,Olt],[0,()=>Xlt]],Vlt=[3,Xr,ult,0,[RC,kC,Txe],[[()=>MC,{[NC]:DC}],[0,{[o0]:Cxe}],[1,{[o0]:Ixe}]],1],jlt=[3,Xr,mlt,0,[kC,Elt],[0,()=>Zlt]],qlt=[3,Xr,hlt,0,[RC],[[()=>MC,{[NC]:DC}]],1],Hlt=[-3,Xr,vlt,{[IC]:TC,[OC]:404},[PC],[0]];Ie.for(Xr).registerError(Hlt,wC);Wlt=[3,Xr,glt,0,[Alt,Plt,klt,Ilt],[0,[()=>Dlt,0],[()=>Mlt,0],1]],Glt=[3,Xr,ylt,0,[Oxe,EC],[0,0]],Klt=[-3,Xr,wlt,{[IC]:TC,[OC]:429},[PC],[0]];Ie.for(Xr).registerError(Klt,xC);Ylt=[-3,Xr,xlt,{[IC]:TC,[OC]:401},[PC],[0]];Ie.for(Xr).registerError(Ylt,AC);Jlt="unit",Qlt=[-3,Nxe,"SSOServiceException",0,[],[]];Ie.for(Nxe).registerError(Qlt,ip);Zlt=[1,Xr,rlt,0,()=>$lt],Xlt=[1,Xr,blt,0,()=>Glt],Pxe=[9,Xr,ilt,{[CC]:["GET","/federation/credentials",200]},()=>Llt,()=>Blt],kxe=[9,Xr,flt,{[CC]:["GET","/assignment/roles",200]},()=>Flt,()=>zlt],Dxe=[9,Xr,llt,{[CC]:["GET","/assignment/accounts",200]},()=>Vlt,()=>jlt],Mxe=[9,Xr,clt,{[CC]:["POST","/logout",200]},()=>qlt,()=>Jlt]});var bv,Dq=g(()=>{"use strict";Oe();fe();fv();yv();bv=class extends re.classBuilder().ep(_f).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").sc(Pxe).build(){}});var vv,$C=g(()=>{"use strict";Oe();fe();fv();yv();vv=class extends re.classBuilder().ep(_f).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").sc(kxe).build(){}});var _v,LC=g(()=>{"use strict";Oe();fe();fv();yv();_v=class extends re.classBuilder().ep(_f).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").sc(Dxe).build(){}});var BC,Mq=g(()=>{"use strict";Oe();fe();fv();yv();BC=class extends re.classBuilder().ep(_f).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").sc(Mxe).build(){}});var $xe,$q=g(()=>{"use strict";dn();$C();Ux();$xe=Ln(ku,vv,"nextToken","nextToken","maxResults")});var Lxe,Lq=g(()=>{"use strict";dn();LC();Ux();Lxe=Ln(ku,_v,"nextToken","nextToken","maxResults")});var eut,tut,Bq,Bxe=g(()=>{"use strict";fe();Dq();$C();LC();Mq();$q();Lq();Ux();eut={GetRoleCredentialsCommand:bv,ListAccountRolesCommand:vv,ListAccountsCommand:_v,LogoutCommand:BC},tut={paginateListAccountRoles:$xe,paginateListAccounts:Lxe},Bq=class extends ku{};xc(eut,Bq,{paginators:tut})});var Uxe=g(()=>{"use strict";Dq();$C();LC();Mq()});var Fxe=g(()=>{"use strict"});var zxe=g(()=>{"use strict";Fxe();$q();Lq()});var Vxe=g(()=>{"use strict"});var jxe=g(()=>{"use strict";Ux();Bxe();Uxe();yv();zxe();kq();Vxe()});var qxe={};lr(qxe,{GetRoleCredentialsCommand:()=>bv,SSOClient:()=>ku});var Hxe=g(()=>{"use strict";jxe()});var Fx,Uq,Wxe=g(()=>{"use strict";po();Gwe();Br();Gs();Fx=!1,Uq=async({ssoStartUrl:t,ssoSession:e,ssoAccountId:r,ssoRegion:n,ssoRoleName:i,ssoClient:o,clientConfig:s,parentClientConfig:a,callerClientConfig:c,profile:l,filepath:u,configFilepath:d,ignoreCache:p,logger:m})=>{let h,f="To refresh this SSO session run aws sso login with the corresponding profile.";if(e)try{let ee=await jwe({profile:l,filepath:u,configFilepath:d,ignoreCache:p})();h={accessToken:ee.token,expiresAt:new Date(ee.expiration).toISOString()}}catch(ee){throw new Xe(ee.message,{tryNextLink:Fx,logger:m})}else try{h=await fx(t)}catch{throw new Xe(`The SSO session associated with this profile is invalid. ${f}`,{tryNextLink:Fx,logger:m})}if(new Date(h.expiresAt).getTime()-Date.now()<=0)throw new Xe(`The SSO session associated with this profile has expired. ${f}`,{tryNextLink:Fx,logger:m});let{accessToken:y}=h,{SSOClient:v,GetRoleCredentialsCommand:_}=await Promise.resolve().then(()=>(Hxe(),qxe)),x=o||new v(Object.assign({},s??{},{logger:s?.logger??c?.logger??a?.logger,region:s?.region??n,userAgentAppId:s?.userAgentAppId??c?.userAgentAppId??a?.userAgentAppId})),E;try{E=await x.send(new _({accountId:r,roleName:i,accessToken:y}))}catch(ee){throw new Xe(ee,{tryNextLink:Fx,logger:m})}let{roleCredentials:{accessKeyId:I,secretAccessKey:N,sessionToken:L,expiration:B,credentialScope:P,accountId:V}={}}=E;if(!I||!N||!L||!B)throw new Xe("SSO returns an invalid temporary credential.",{tryNextLink:Fx,logger:m});let j={accessKeyId:I,secretAccessKey:N,sessionToken:L,expiration:new Date(B),...P&&{credentialScope:P},...V&&{accountId:V}};return e?hr(j,"CREDENTIALS_SSO","s"):hr(j,"CREDENTIALS_SSO_LEGACY","u"),j}});var Fq,zq=g(()=>{"use strict";Br();Fq=(t,e)=>{let{sso_start_url:r,sso_account_id:n,sso_region:i,sso_role_name:o}=t;if(!r||!n||!i||!o)throw new Xe(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(t).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:e});return t}});var rut,Gxe=g(()=>{"use strict";Br();Gs();fq();Wxe();zq();rut=(t={})=>async({callerClientConfig:e}={})=>{t.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:i,ssoRoleName:o,ssoSession:s}=t,{ssoClient:a}=t,c=Ws({profile:t.profile??e?.profile});if(!r&&!n&&!i&&!o&&!s){let u=(await Nu(t))[c];if(!u)throw new Xe(`Profile ${c} was not found.`,{logger:t.logger});if(!mq(u))throw new Xe(`Profile ${c} is not configured with SSO credentials.`,{logger:t.logger});if(u?.sso_session){let v=(await Q8(t))[u.sso_session],_=` configurations in profile ${c} and sso-session ${u.sso_session}`;if(i&&i!==v.sso_region)throw new Xe("Conflicting SSO region"+_,{tryNextLink:!1,logger:t.logger});if(r&&r!==v.sso_start_url)throw new Xe("Conflicting SSO start_url"+_,{tryNextLink:!1,logger:t.logger});u.sso_region=v.sso_region,u.sso_start_url=v.sso_start_url}let{sso_start_url:d,sso_account_id:p,sso_region:m,sso_role_name:h,sso_session:f}=Fq(u,t.logger);return Uq({ssoStartUrl:d,ssoSession:f,ssoAccountId:p,ssoRegion:m,ssoRoleName:h,ssoClient:a,clientConfig:t.clientConfig,parentClientConfig:t.parentClientConfig,callerClientConfig:t.callerClientConfig,profile:c,filepath:t.filepath,configFilepath:t.configFilepath,ignoreCache:t.ignoreCache,logger:t.logger})}else{if(!r||!n||!i||!o)throw new Xe('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:t.logger});return Uq({ssoStartUrl:r,ssoSession:s,ssoAccountId:n,ssoRegion:i,ssoRoleName:o,ssoClient:a,clientConfig:t.clientConfig,parentClientConfig:t.parentClientConfig,callerClientConfig:t.callerClientConfig,profile:c,filepath:t.filepath,configFilepath:t.configFilepath,ignoreCache:t.ignoreCache,logger:t.logger})}}});var Kxe=g(()=>{"use strict"});var Vq={};lr(Vq,{fromSSO:()=>rut,isSsoProfile:()=>mq,validateSsoProfile:()=>Fq});var jq=g(()=>{"use strict";Gxe();fq();Kxe();zq()});var Yxe,qq,Jxe=g(()=>{"use strict";po();Br();Yxe=(t,e,r)=>{let n={EcsContainer:async i=>{let{fromHttp:o}=await Promise.resolve().then(()=>(pq(),dq)),{fromContainerMetadata:s}=await Promise.resolve().then(()=>(wx(),Sx));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>Zb(o(i??{}),s(i))().then(qq)},Ec2InstanceMetadata:async i=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:o}=await Promise.resolve().then(()=>(wx(),Sx));return async()=>o(i)().then(qq)},Environment:async i=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:o}=await Promise.resolve().then(()=>(rq(),B2e));return async()=>o(i)().then(qq)}};if(t in n)return n[t];throw new Xe(`Unsupported credential source in profile ${e}. Got ${t}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},qq=t=>hr(t,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p")});function nut(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function iut(t){return{schemeId:"smithy.api#noAuth"}}var Qxe,Zxe,out,Xxe,Hq=g(()=>{"use strict";_i();Do();zx();Qxe=async(t,e,r)=>({operation:Gn(e).operation,region:await Nr(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Zxe=t=>{let e=[];switch(t.operation){case"AssumeRoleWithWebIdentity":{e.push(iut(t));break}default:e.push(nut(t))}return e},out=t=>Object.assign(t,{stsClientCtor:Du}),Xxe=t=>{let e=out(t),r=wc(e);return Object.assign(r,{authSchemePreference:Nr(t.authSchemePreference??[])})}});var e6e,UC,FC=g(()=>{"use strict";e6e=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,defaultSigningName:"sts"}),UC={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var d6e,Zt,xr,Sf,fo,p6e,m6e,En,t6e,Mu,Sv,Gq,r6e,Wq,f6e,n6e,ho,i6e,h6e,g6e,Fo,Oa,o6e,y6e,b6e,s6e,v6e,a6e,c6e,l6e,u6e,sut,_6e,S6e=g(()=>{"use strict";d6e="required",Zt="type",xr="argv",Sf="booleanEquals",fo="stringEquals",p6e="sigv4",m6e="us-east-1",En="endpoint",t6e="https://sts.{Region}.{PartitionResult#dnsSuffix}",Mu="tree",Sv="error",Gq="getAttr",r6e={[d6e]:!1,[Zt]:"string"},Wq={[d6e]:!0,default:!1,[Zt]:"boolean"},f6e={ref:"Endpoint"},n6e={fn:"isSet",[xr]:[{ref:"Region"}]},ho={ref:"Region"},i6e={fn:"aws.partition",[xr]:[ho],assign:"PartitionResult"},h6e={ref:"UseFIPS"},g6e={ref:"UseDualStack"},Fo={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:p6e,signingName:"sts",signingRegion:m6e}]},headers:{}},Oa={},o6e={conditions:[{fn:fo,[xr]:[ho,"aws-global"]}],[En]:Fo,[Zt]:En},y6e={fn:Sf,[xr]:[h6e,!0]},b6e={fn:Sf,[xr]:[g6e,!0]},s6e={fn:Gq,[xr]:[{ref:"PartitionResult"},"supportsFIPS"]},v6e={ref:"PartitionResult"},a6e={fn:Sf,[xr]:[!0,{fn:Gq,[xr]:[v6e,"supportsDualStack"]}]},c6e=[{fn:"isSet",[xr]:[f6e]}],l6e=[y6e],u6e=[b6e],sut={version:"1.0",parameters:{Region:r6e,UseDualStack:Wq,UseFIPS:Wq,Endpoint:r6e,UseGlobalEndpoint:Wq},rules:[{conditions:[{fn:Sf,[xr]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[xr]:c6e},n6e,i6e,{fn:Sf,[xr]:[h6e,!1]},{fn:Sf,[xr]:[g6e,!1]}],rules:[{conditions:[{fn:fo,[xr]:[ho,"ap-northeast-1"]}],endpoint:Fo,[Zt]:En},{conditions:[{fn:fo,[xr]:[ho,"ap-south-1"]}],endpoint:Fo,[Zt]:En},{conditions:[{fn:fo,[xr]:[ho,"ap-southeast-1"]}],endpoint:Fo,[Zt]:En},{conditions:[{fn:fo,[xr]:[ho,"ap-southeast-2"]}],endpoint:Fo,[Zt]:En},o6e,{conditions:[{fn:fo,[xr]:[ho,"ca-central-1"]}],endpoint:Fo,[Zt]:En},{conditions:[{fn:fo,[xr]:[ho,"eu-central-1"]}],endpoint:Fo,[Zt]:En},{conditions:[{fn:fo,[xr]:[ho,"eu-north-1"]}],endpoint:Fo,[Zt]:En},{conditions:[{fn:fo,[xr]:[ho,"eu-west-1"]}],endpoint:Fo,[Zt]:En},{conditions:[{fn:fo,[xr]:[ho,"eu-west-2"]}],endpoint:Fo,[Zt]:En},{conditions:[{fn:fo,[xr]:[ho,"eu-west-3"]}],endpoint:Fo,[Zt]:En},{conditions:[{fn:fo,[xr]:[ho,"sa-east-1"]}],endpoint:Fo,[Zt]:En},{conditions:[{fn:fo,[xr]:[ho,m6e]}],endpoint:Fo,[Zt]:En},{conditions:[{fn:fo,[xr]:[ho,"us-east-2"]}],endpoint:Fo,[Zt]:En},{conditions:[{fn:fo,[xr]:[ho,"us-west-1"]}],endpoint:Fo,[Zt]:En},{conditions:[{fn:fo,[xr]:[ho,"us-west-2"]}],endpoint:Fo,[Zt]:En},{endpoint:{url:t6e,properties:{authSchemes:[{name:p6e,signingName:"sts",signingRegion:"{Region}"}]},headers:Oa},[Zt]:En}],[Zt]:Mu},{conditions:c6e,rules:[{conditions:l6e,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[Zt]:Sv},{conditions:u6e,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[Zt]:Sv},{endpoint:{url:f6e,properties:Oa,headers:Oa},[Zt]:En}],[Zt]:Mu},{conditions:[n6e],rules:[{conditions:[i6e],rules:[{conditions:[y6e,b6e],rules:[{conditions:[{fn:Sf,[xr]:[!0,s6e]},a6e],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Oa,headers:Oa},[Zt]:En}],[Zt]:Mu},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[Zt]:Sv}],[Zt]:Mu},{conditions:l6e,rules:[{conditions:[{fn:Sf,[xr]:[s6e,!0]}],rules:[{conditions:[{fn:fo,[xr]:[{fn:Gq,[xr]:[v6e,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:Oa,headers:Oa},[Zt]:En},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Oa,headers:Oa},[Zt]:En}],[Zt]:Mu},{error:"FIPS is enabled but this partition does not support FIPS",[Zt]:Sv}],[Zt]:Mu},{conditions:u6e,rules:[{conditions:[a6e],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Oa,headers:Oa},[Zt]:En}],[Zt]:Mu},{error:"DualStack is enabled but this partition does not support DualStack",[Zt]:Sv}],[Zt]:Mu},o6e,{endpoint:{url:t6e,properties:Oa,headers:Oa},[Zt]:En}],[Zt]:Mu}],[Zt]:Mu},{error:"Invalid Configuration: Missing Region",[Zt]:Sv}]},_6e=sut});var aut,w6e,x6e=g(()=>{"use strict";of();Ml();S6e();aut=new js({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),w6e=(t,e={})=>aut.get(t,()=>yc(_6e,{endpointParams:t,logger:e.logger}));uo.aws=Ta});var A6e,E6e=g(()=>{"use strict";_i();Xd();dn();fe();Zd();Mo();ni();Hq();x6e();A6e=t=>({apiVersion:"2011-06-15",base64Decoder:t?.base64Decoder??Bn,base64Encoder:t?.base64Encoder??un,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??w6e,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??Zxe,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new mo},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new mc}],logger:t?.logger??new Bo,protocol:t?.protocol??j8,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.sts",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/",version:"2011-06-15",serviceTarget:"AWSSecurityTokenServiceV20110615"},serviceId:t?.serviceId??"STS",urlParser:t?.urlParser??Ki,utf8Decoder:t?.utf8Decoder??yn,utf8Encoder:t?.utf8Encoder??ln})});var R6e,T6e=g(()=>{"use strict";yC();_i();t0();ds();dn();r0();Ca();Dc();Wd();fe();n0();i0();tp();E6e();R6e=t=>{Ec(process.version);let e=jc(t),r=()=>e().then(Ac),n=A6e(t);bc(process.version);let i={profile:t?.profile,logger:n.logger};return{...n,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??ct(vc,i),bodyLengthChecker:t?.bodyLengthChecker??Vc,defaultUserAgentProvider:t?.defaultUserAgentProvider??Fc({serviceId:n.serviceId,clientVersion:dv.version}),httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4")||(async s=>await t.credentialDefaultProvider(s?.__config||{})()),signer:new mo},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new mc}],maxAttempts:t?.maxAttempts??ct($c,t),region:t?.region??ct(Uo,{...Hs,...i}),requestHandler:$o.create(t?.requestHandler??r),retryMode:t?.retryMode??ct({...Bc,default:async()=>(await r()).retryMode||Ks},t),sha256:t?.sha256??Ys.bind(null,"sha256"),streamCollector:t?.streamCollector??Bs,useDualstackEndpoint:t?.useDualstackEndpoint??ct(Oc,i),useFipsEndpoint:t?.useFipsEndpoint??ct(Nc,i),userAgentAppId:t?.userAgentAppId??ct(zc,i)}}});var I6e,C6e,O6e=g(()=>{"use strict";I6e=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(i){let o=e.findIndex(s=>s.schemeId===i.schemeId);o===-1?e.push(i):e.splice(o,1,i)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},C6e=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var N6e,P6e=g(()=>{"use strict";bf();An();fe();O6e();N6e=(t,e)=>{let r=Object.assign(Wc(t),Rc(t),nc(t),I6e(t));return e.forEach(n=>n.configure(r)),Object.assign(t,Gc(r),Tc(r),ic(r),C6e(r))}});var Du,zx=g(()=>{"use strict";Ug();Fg();zg();pf();ds();dn();Pr();Zg();Oe();Ca();fe();Hq();FC();T6e();P6e();Du=class extends Pi{config;constructor(...[e]){let r=R6e(e||{});super(r),this.initConfig=r;let n=e6e(r),i=fc(n),o=Lc(i),s=Pc(o),a=s,c=Mc(a),l=Xxe(c),u=N6e(l,e?.extensions||[]);this.config=u,this.middlewareStack.use(dc(this.config)),this.middlewareStack.use(Cc(this.config)),this.middlewareStack.use(Uc(this.config)),this.middlewareStack.use(kc(this.config)),this.middlewareStack.use(sc(this.config)),this.middlewareStack.use(ac(this.config)),this.middlewareStack.use(cc(this.config)),this.middlewareStack.use(lc(this.config,{httpAuthSchemeParametersProvider:Qxe,identityProviderConfigProvider:async d=>new Vs({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(uc(this.config))}destroy(){super.destroy()}}});var Js,zC=g(()=>{"use strict";fe();Js=class t extends qs{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var Vx,jx,qx,Hx,Wx,Gx,Kx,Kq=g(()=>{"use strict";zC();Vx=class t extends Js{name="ExpiredTokenException";$fault="client";constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},jx=class t extends Js{name="MalformedPolicyDocumentException";$fault="client";constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},qx=class t extends Js{name="PackedPolicyTooLargeException";$fault="client";constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Hx=class t extends Js{name="RegionDisabledException";$fault="client";constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Wx=class t extends Js{name="IDPRejectedClaimException";$fault="client";constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Gx=class t extends Js{name="InvalidIdentityTokenException";$fault="client";constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Kx=class t extends Js{name="IDPCommunicationErrorException";$fault="client";constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}}});var cut,lut,uut,dut,put,mut,Yq,fut,hut,gut,yut,Jq,but,k6e,vut,_ut,Sut,wut,xut,Aut,Eut,Rut,D6e,M6e,Tut,Iut,Cut,Out,Nut,Put,$6e,kut,Dut,L6e,Mut,B6e,$ut,Lut,Qq,But,Uut,Fut,zut,Vut,jut,qut,Hut,Wut,Gut,s0,a0,Kut,c0,l0,u0,Yut,U6e,Jut,Dr,Qut,Zut,Zq,F6e,z6e,V6e,j6e,Xq,q6e,H6e,W6e,G6e,K6e,Y6e,J6e,Q6e,Z6e,X6e,e4e,t4e,Xut,edt,eH,tH,VC=g(()=>{"use strict";Pr();Kq();zC();cut="Arn",lut="AccessKeyId",uut="AssumeRole",dut="AssumedRoleId",put="AssumeRoleRequest",mut="AssumeRoleResponse",Yq="AssumedRoleUser",fut="AssumeRoleWithWebIdentity",hut="AssumeRoleWithWebIdentityRequest",gut="AssumeRoleWithWebIdentityResponse",yut="Audience",Jq="Credentials",but="ContextAssertion",k6e="DurationSeconds",vut="Expiration",_ut="ExternalId",Sut="ExpiredTokenException",wut="IDPCommunicationErrorException",xut="IDPRejectedClaimException",Aut="InvalidIdentityTokenException",Eut="Key",Rut="MalformedPolicyDocumentException",D6e="Policy",M6e="PolicyArns",Tut="ProviderArn",Iut="ProvidedContexts",Cut="ProvidedContextsListType",Out="ProvidedContext",Nut="PolicyDescriptorType",Put="ProviderId",$6e="PackedPolicySize",kut="PackedPolicyTooLargeException",Dut="Provider",L6e="RoleArn",Mut="RegionDisabledException",B6e="RoleSessionName",$ut="SecretAccessKey",Lut="SubjectFromWebIdentityToken",Qq="SourceIdentity",But="SerialNumber",Uut="SessionToken",Fut="Tags",zut="TokenCode",Vut="TransitiveTagKeys",jut="Tag",qut="Value",Hut="WebIdentityToken",Wut="arn",Gut="accessKeySecretType",s0="awsQueryError",a0="client",Kut="clientTokenType",c0="error",l0="httpError",u0="message",Yut="policyDescriptorListType",U6e="smithy.ts.sdk.synthetic.com.amazonaws.sts",Jut="tagListType",Dr="com.amazonaws.sts",Qut=[0,Dr,Gut,8,0],Zut=[0,Dr,Kut,8,0],Zq=[3,Dr,Yq,0,[dut,cut],[0,0],2],F6e=[3,Dr,put,0,[L6e,B6e,M6e,D6e,k6e,Fut,Vut,_ut,But,zut,Qq,Iut],[0,0,()=>t4e,0,1,()=>edt,64,0,0,0,0,()=>Xut],2],z6e=[3,Dr,mut,0,[Jq,Yq,$6e,Qq],[[()=>Xq,0],()=>Zq,1,0]],V6e=[3,Dr,hut,0,[L6e,B6e,Hut,Put,M6e,D6e,k6e],[0,0,[()=>Zut,0],0,()=>t4e,0,1],3],j6e=[3,Dr,gut,0,[Jq,Lut,Yq,$6e,Dut,yut,Qq],[[()=>Xq,0],0,()=>Zq,1,0,0,0]],Xq=[3,Dr,Jq,0,[lut,$ut,Uut,vut],[0,[()=>Qut,0],0,4],4],q6e=[-3,Dr,Sut,{[s0]:["ExpiredTokenException",400],[c0]:a0,[l0]:400},[u0],[0]];Ie.for(Dr).registerError(q6e,Vx);H6e=[-3,Dr,wut,{[s0]:["IDPCommunicationError",400],[c0]:a0,[l0]:400},[u0],[0]];Ie.for(Dr).registerError(H6e,Kx);W6e=[-3,Dr,xut,{[s0]:["IDPRejectedClaim",403],[c0]:a0,[l0]:403},[u0],[0]];Ie.for(Dr).registerError(W6e,Wx);G6e=[-3,Dr,Aut,{[s0]:["InvalidIdentityToken",400],[c0]:a0,[l0]:400},[u0],[0]];Ie.for(Dr).registerError(G6e,Gx);K6e=[-3,Dr,Rut,{[s0]:["MalformedPolicyDocument",400],[c0]:a0,[l0]:400},[u0],[0]];Ie.for(Dr).registerError(K6e,jx);Y6e=[-3,Dr,kut,{[s0]:["PackedPolicyTooLarge",400],[c0]:a0,[l0]:400},[u0],[0]];Ie.for(Dr).registerError(Y6e,qx);J6e=[3,Dr,Nut,0,[Wut],[0]],Q6e=[3,Dr,Out,0,[Tut,but],[0,0]],Z6e=[-3,Dr,Mut,{[s0]:["RegionDisabledException",403],[c0]:a0,[l0]:403},[u0],[0]];Ie.for(Dr).registerError(Z6e,Hx);X6e=[3,Dr,jut,0,[Eut,qut],[0,0],2],e4e=[-3,U6e,"STSServiceException",0,[],[]];Ie.for(U6e).registerError(e4e,Js);t4e=[1,Dr,Yut,0,()=>J6e],Xut=[1,Dr,Cut,0,()=>Q6e],edt=[1,Dr,Jut,0,()=>X6e],eH=[9,Dr,uut,0,()=>F6e,()=>z6e],tH=[9,Dr,fut,0,()=>V6e,()=>j6e]});var d0,jC=g(()=>{"use strict";Oe();fe();FC();VC();d0=class extends re.classBuilder().ep(UC).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").sc(eH).build(){}});var p0,qC=g(()=>{"use strict";Oe();fe();FC();VC();p0=class extends re.classBuilder().ep(UC).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").sc(tH).build(){}});var tdt,HC,r4e=g(()=>{"use strict";fe();jC();qC();zx();tdt={AssumeRoleCommand:d0,AssumeRoleWithWebIdentityCommand:p0},HC=class extends Du{};xc(tdt,HC)});var n4e=g(()=>{"use strict";jC();qC()});var i4e=g(()=>{"use strict"});var o4e,s4e,a4e,c4e,l4e,u4e=g(()=>{"use strict";po();bf();jC();qC();o4e=t=>{if(typeof t?.Arn=="string"){let e=t.Arn.split(":");if(e.length>4&&e[4]!=="")return e[4]}},s4e=async(t,e,r,n={})=>{let i=typeof t=="function"?await t():t,o=typeof e=="function"?await e():e,s="",a=i??o??(s=await owe(n)());return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${i} (credential provider clientConfig)`,`${o} (contextual client)`,`${s} (STS default: AWS_REGION, profile region, or us-east-1)`),a},a4e=(t,e)=>{let r,n;return async(i,o)=>{if(n=i,!r){let{logger:u=t?.parentClientConfig?.logger,profile:d=t?.parentClientConfig?.profile,region:p,requestHandler:m=t?.parentClientConfig?.requestHandler,credentialProviderLogger:h,userAgentAppId:f=t?.parentClientConfig?.userAgentAppId}=t,y=await s4e(p,t?.parentClientConfig?.region,h,{logger:u,profile:d}),v=!l4e(m);r=new e({...t,userAgentAppId:f,profile:d,credentialDefaultProvider:()=>async()=>n,region:y,requestHandler:v?m:void 0,logger:u})}let{Credentials:s,AssumedRoleUser:a}=await r.send(new d0(o));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);let c=o4e(a),l={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...c&&{accountId:c}};return hr(l,"CREDENTIALS_STS_ASSUME_ROLE","i"),l}},c4e=(t,e)=>{let r;return async n=>{if(!r){let{logger:c=t?.parentClientConfig?.logger,profile:l=t?.parentClientConfig?.profile,region:u,requestHandler:d=t?.parentClientConfig?.requestHandler,credentialProviderLogger:p,userAgentAppId:m=t?.parentClientConfig?.userAgentAppId}=t,h=await s4e(u,t?.parentClientConfig?.region,p,{logger:c,profile:l}),f=!l4e(d);r=new e({...t,userAgentAppId:m,profile:l,region:h,requestHandler:f?d:void 0,logger:c})}let{Credentials:i,AssumedRoleUser:o}=await r.send(new p0(n));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let s=o4e(o),a={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...s&&{accountId:s}};return s&&hr(a,"RESOLVED_ACCOUNT_ID","T"),hr(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},l4e=t=>t?.metadata?.handlerProtocol==="h2"});var d4e,p4e,m4e,rdt,f4e=g(()=>{"use strict";u4e();zx();d4e=(t,e)=>e?class extends t{constructor(n){super(n);for(let i of e)this.middlewareStack.use(i)}}:t,p4e=(t={},e)=>a4e(t,d4e(Du,e)),m4e=(t={},e)=>c4e(t,d4e(Du,e)),rdt=t=>e=>t({roleAssumer:p4e(e),roleAssumerWithWebIdentity:m4e(e),...e})});var rH={};lr(rH,{$Command:()=>re,AssumeRole$:()=>eH,AssumeRoleCommand:()=>d0,AssumeRoleRequest$:()=>F6e,AssumeRoleResponse$:()=>z6e,AssumeRoleWithWebIdentity$:()=>tH,AssumeRoleWithWebIdentityCommand:()=>p0,AssumeRoleWithWebIdentityRequest$:()=>V6e,AssumeRoleWithWebIdentityResponse$:()=>j6e,AssumedRoleUser$:()=>Zq,Credentials$:()=>Xq,ExpiredTokenException:()=>Vx,ExpiredTokenException$:()=>q6e,IDPCommunicationErrorException:()=>Kx,IDPCommunicationErrorException$:()=>H6e,IDPRejectedClaimException:()=>Wx,IDPRejectedClaimException$:()=>W6e,InvalidIdentityTokenException:()=>Gx,InvalidIdentityTokenException$:()=>G6e,MalformedPolicyDocumentException:()=>jx,MalformedPolicyDocumentException$:()=>K6e,PackedPolicyTooLargeException:()=>qx,PackedPolicyTooLargeException$:()=>Y6e,PolicyDescriptorType$:()=>J6e,ProvidedContext$:()=>Q6e,RegionDisabledException:()=>Hx,RegionDisabledException$:()=>Z6e,STS:()=>HC,STSClient:()=>Du,STSServiceException:()=>Js,STSServiceException$:()=>e4e,Tag$:()=>X6e,__Client:()=>Pi,decorateDefaultCredentialProvider:()=>rdt,getDefaultRoleAssumer:()=>p4e,getDefaultRoleAssumerWithWebIdentity:()=>m4e});var nH=g(()=>{"use strict";zx();r4e();n4e();VC();Kq();i4e();f4e();zC()});var g4e,ndt,idt,y4e,h4e,b4e=g(()=>{"use strict";po();Br();Gs();Jxe();g4e=(t,{profile:e="default",logger:r}={})=>!!t&&typeof t=="object"&&typeof t.role_arn=="string"&&["undefined","string"].indexOf(typeof t.role_session_name)>-1&&["undefined","string"].indexOf(typeof t.external_id)>-1&&["undefined","string"].indexOf(typeof t.mfa_serial)>-1&&(ndt(t,{profile:e,logger:r})||idt(t,{profile:e,logger:r})),ndt=(t,{profile:e,logger:r})=>{let n=typeof t.source_profile=="string"&&typeof t.credential_source>"u";return n&&r?.debug?.(`    ${e} isAssumeRoleWithSourceProfile source_profile=${t.source_profile}`),n},idt=(t,{profile:e,logger:r})=>{let n=typeof t.credential_source=="string"&&typeof t.source_profile>"u";return n&&r?.debug?.(`    ${e} isCredentialSourceProfile credential_source=${t.credential_source}`),n},y4e=async(t,e,r,n,i={},o)=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let s=e[t],{source_profile:a,region:c}=s;if(!r.roleAssumer){let{getDefaultRoleAssumer:u}=await Promise.resolve().then(()=>(nH(),rH));r.roleAssumer=u({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...n,...r?.parentClientConfig,region:c??r?.parentClientConfig?.region??n?.region}},r.clientPlugins)}if(a&&a in i)throw new Xe(`Detected a cycle attempting to resolve credentials for profile ${Ws(r)}. Profiles visited: `+Object.keys(i).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${a?`source_profile=[${a}]`:`profile=[${t}]`}`);let l=a?o(a,e,r,n,{...i,[a]:!0},h4e(e[a]??{})):(await Yxe(s.credential_source,t,r.logger)(r))();if(h4e(s))return l.then(u=>hr(u,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let u={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id,DurationSeconds:parseInt(s.duration_seconds||"3600",10)},{mfa_serial:d}=s;if(d){if(!r.mfaCodeProvider)throw new Xe(`Profile ${t} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});u.SerialNumber=d,u.TokenCode=await r.mfaCodeProvider(d)}let p=await l;return r.roleAssumer(p,u).then(m=>hr(m,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},h4e=t=>!t.role_arn&&!!t.credential_source});function odt(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"signin",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function sdt(t){return{schemeId:"smithy.api#noAuth"}}var v4e,_4e,S4e,iH=g(()=>{"use strict";_i();Do();v4e=async(t,e,r)=>({operation:Gn(e).operation,region:await Nr(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});_4e=t=>{let e=[];switch(t.operation){case"CreateOAuth2Token":{e.push(sdt(t));break}default:e.push(odt(t))}return e},S4e=t=>{let e=wc(t);return Object.assign(e,{authSchemePreference:Nr(t.authSchemePreference??[])})}});var w4e,x4e,oH=g(()=>{"use strict";w4e=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"signin"}),x4e={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var N4e,Vo,A4e,m0,wv,wf,Ul,KC,sH,E4e,R4e,T4e,aH,cH,zo,lH,WC,GC,I4e,C4e,O4e,adt,P4e,k4e=g(()=>{"use strict";N4e="required",Vo="argv",A4e="isSet",m0="booleanEquals",wv="error",wf="endpoint",Ul="tree",KC="PartitionResult",sH="stringEquals",E4e={[N4e]:!0,default:!1,type:"boolean"},R4e={[N4e]:!1,type:"string"},T4e={ref:"Endpoint"},aH={fn:m0,[Vo]:[{ref:"UseFIPS"},!0]},cH={fn:m0,[Vo]:[{ref:"UseDualStack"},!0]},zo={},lH={fn:"getAttr",[Vo]:[{ref:KC},"name"]},WC={fn:m0,[Vo]:[{ref:"UseFIPS"},!1]},GC={fn:m0,[Vo]:[{ref:"UseDualStack"},!1]},I4e={fn:"getAttr",[Vo]:[{ref:KC},"supportsFIPS"]},C4e={fn:m0,[Vo]:[!0,{fn:"getAttr",[Vo]:[{ref:KC},"supportsDualStack"]}]},O4e=[{ref:"Region"}],adt={version:"1.0",parameters:{UseDualStack:E4e,UseFIPS:E4e,Endpoint:R4e,Region:R4e},rules:[{conditions:[{fn:A4e,[Vo]:[T4e]}],rules:[{conditions:[aH],error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:wv},{rules:[{conditions:[cH],error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:wv},{endpoint:{url:T4e,properties:zo,headers:zo},type:wf}],type:Ul}],type:Ul},{rules:[{conditions:[{fn:A4e,[Vo]:O4e}],rules:[{conditions:[{fn:"aws.partition",[Vo]:O4e,assign:KC}],rules:[{conditions:[{fn:sH,[Vo]:[lH,"aws"]},WC,GC],endpoint:{url:"https://{Region}.signin.aws.amazon.com",properties:zo,headers:zo},type:wf},{conditions:[{fn:sH,[Vo]:[lH,"aws-cn"]},WC,GC],endpoint:{url:"https://{Region}.signin.amazonaws.cn",properties:zo,headers:zo},type:wf},{conditions:[{fn:sH,[Vo]:[lH,"aws-us-gov"]},WC,GC],endpoint:{url:"https://{Region}.signin.amazonaws-us-gov.com",properties:zo,headers:zo},type:wf},{conditions:[aH,cH],rules:[{conditions:[{fn:m0,[Vo]:[!0,I4e]},C4e],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:zo,headers:zo},type:wf}],type:Ul},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:wv}],type:Ul},{conditions:[aH,GC],rules:[{conditions:[{fn:m0,[Vo]:[I4e,!0]}],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dnsSuffix}",properties:zo,headers:zo},type:wf}],type:Ul},{error:"FIPS is enabled but this partition does not support FIPS",type:wv}],type:Ul},{conditions:[WC,cH],rules:[{conditions:[C4e],rules:[{endpoint:{url:"https://signin.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:zo,headers:zo},type:wf}],type:Ul},{error:"DualStack is enabled but this partition does not support DualStack",type:wv}],type:Ul},{endpoint:{url:"https://signin.{Region}.{PartitionResult#dnsSuffix}",properties:zo,headers:zo},type:wf}],type:Ul}],type:Ul},{error:"Invalid Configuration: Missing Region",type:wv}],type:Ul}]},P4e=adt});var cdt,D4e,M4e=g(()=>{"use strict";of();Ml();k4e();cdt=new js({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),D4e=(t,e={})=>cdt.get(t,()=>yc(P4e,{endpointParams:t,logger:e.logger}));uo.aws=Ta});var $4e,L4e=g(()=>{"use strict";_i();Xd();dn();fe();Zd();Mo();ni();iH();M4e();$4e=t=>({apiVersion:"2023-01-01",base64Decoder:t?.base64Decoder??Bn,base64Encoder:t?.base64Encoder??un,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??D4e,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??_4e,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new mo},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new mc}],logger:t?.logger??new Bo,protocol:t?.protocol??uf,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.signin",version:"2023-01-01",serviceTarget:"Signin"},serviceId:t?.serviceId??"Signin",urlParser:t?.urlParser??Ki,utf8Decoder:t?.utf8Decoder??yn,utf8Encoder:t?.utf8Encoder??ln})});var B4e,U4e=g(()=>{"use strict";yC();_i();t0();ds();r0();Ca();Dc();Wd();fe();n0();i0();tp();L4e();B4e=t=>{Ec(process.version);let e=jc(t),r=()=>e().then(Ac),n=$4e(t);bc(process.version);let i={profile:t?.profile,logger:n.logger};return{...n,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??ct(vc,i),bodyLengthChecker:t?.bodyLengthChecker??Vc,defaultUserAgentProvider:t?.defaultUserAgentProvider??Fc({serviceId:n.serviceId,clientVersion:dv.version}),maxAttempts:t?.maxAttempts??ct($c,t),region:t?.region??ct(Uo,{...Hs,...i}),requestHandler:$o.create(t?.requestHandler??r),retryMode:t?.retryMode??ct({...Bc,default:async()=>(await r()).retryMode||Ks},t),sha256:t?.sha256??Ys.bind(null,"sha256"),streamCollector:t?.streamCollector??Bs,useDualstackEndpoint:t?.useDualstackEndpoint??ct(Oc,i),useFipsEndpoint:t?.useFipsEndpoint??ct(Nc,i),userAgentAppId:t?.userAgentAppId??ct(zc,i)}}});var F4e,z4e,V4e=g(()=>{"use strict";F4e=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(i){let o=e.findIndex(s=>s.schemeId===i.schemeId);o===-1?e.push(i):e.splice(o,1,i)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},z4e=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var j4e,q4e=g(()=>{"use strict";bf();An();fe();V4e();j4e=(t,e)=>{let r=Object.assign(Wc(t),Rc(t),nc(t),F4e(t));return e.forEach(n=>n.configure(r)),Object.assign(t,Gc(r),Tc(r),ic(r),z4e(r))}});var Yx,uH=g(()=>{"use strict";Ug();Fg();zg();pf();ds();dn();Pr();Zg();Oe();Ca();fe();iH();oH();U4e();q4e();Yx=class extends Pi{config;constructor(...[e]){let r=B4e(e||{});super(r),this.initConfig=r;let n=w4e(r),i=fc(n),o=Lc(i),s=Pc(o),a=s,c=Mc(a),l=S4e(c),u=j4e(l,e?.extensions||[]);this.config=u,this.middlewareStack.use(dc(this.config)),this.middlewareStack.use(Cc(this.config)),this.middlewareStack.use(Uc(this.config)),this.middlewareStack.use(kc(this.config)),this.middlewareStack.use(sc(this.config)),this.middlewareStack.use(ac(this.config)),this.middlewareStack.use(cc(this.config)),this.middlewareStack.use(lc(this.config,{httpAuthSchemeParametersProvider:v4e,identityProviderConfigProvider:async d=>new Vs({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(uc(this.config))}destroy(){super.destroy()}}});var Fl,YC=g(()=>{"use strict";fe();Fl=class t extends qs{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var Jx,Qx,Zx,Xx,dH=g(()=>{"use strict";YC();Jx=class t extends Fl{name="AccessDeniedException";$fault="client";error;constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error}},Qx=class t extends Fl{name="InternalServerException";$fault="server";error;constructor(e){super({name:"InternalServerException",$fault:"server",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error}},Zx=class t extends Fl{name="TooManyRequestsError";$fault="client";error;constructor(e){super({name:"TooManyRequestsError",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error}},Xx=class t extends Fl{name="ValidationException";$fault="client";error;constructor(e){super({name:"ValidationException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error}}});var ldt,udt,ddt,pdt,mdt,fdt,hdt,gdt,ydt,bdt,vdt,H4e,W4e,pH,G4e,K4e,_dt,xf,Y4e,J4e,Sdt,mH,Q4e,Na,QC,JC,Z4e,wdt,X4e,eAe,rAe,xdt,Adt,tAe,ps,nAe,iAe,oAe,sAe,aAe,cAe,lAe,uAe,dAe,pAe,mAe,fH,hH=g(()=>{"use strict";Pr();dH();YC();ldt="AccessDeniedException",udt="AccessToken",ddt="CreateOAuth2Token",pdt="CreateOAuth2TokenRequest",mdt="CreateOAuth2TokenRequestBody",fdt="CreateOAuth2TokenResponseBody",hdt="CreateOAuth2TokenResponse",gdt="InternalServerException",ydt="RefreshToken",bdt="TooManyRequestsError",vdt="ValidationException",H4e="accessKeyId",W4e="accessToken",pH="client",G4e="clientId",K4e="codeVerifier",_dt="code",xf="error",Y4e="expiresIn",J4e="grantType",Sdt="http",mH="httpError",Q4e="idToken",Na="jsonName",QC="message",JC="refreshToken",Z4e="redirectUri",wdt="server",X4e="secretAccessKey",eAe="sessionToken",rAe="smithy.ts.sdk.synthetic.com.amazonaws.signin",xdt="tokenInput",Adt="tokenOutput",tAe="tokenType",ps="com.amazonaws.signin",nAe=[0,ps,ydt,8,0],iAe=[-3,ps,ldt,{[xf]:pH},[xf,QC],[0,0],2];Ie.for(ps).registerError(iAe,Jx);oAe=[3,ps,udt,8,[H4e,X4e,eAe],[[0,{[Na]:H4e}],[0,{[Na]:X4e}],[0,{[Na]:eAe}]],3],sAe=[3,ps,pdt,0,[xdt],[[()=>aAe,16]],1],aAe=[3,ps,mdt,0,[G4e,J4e,_dt,Z4e,K4e,JC],[[0,{[Na]:G4e}],[0,{[Na]:J4e}],0,[0,{[Na]:Z4e}],[0,{[Na]:K4e}],[()=>nAe,{[Na]:JC}]],2],cAe=[3,ps,hdt,0,[Adt],[[()=>lAe,16]],1],lAe=[3,ps,fdt,0,[W4e,tAe,Y4e,JC,Q4e],[[()=>oAe,{[Na]:W4e}],[0,{[Na]:tAe}],[1,{[Na]:Y4e}],[()=>nAe,{[Na]:JC}],[0,{[Na]:Q4e}]],4],uAe=[-3,ps,gdt,{[xf]:wdt,[mH]:500},[xf,QC],[0,0],2];Ie.for(ps).registerError(uAe,Qx);dAe=[-3,ps,bdt,{[xf]:pH,[mH]:429},[xf,QC],[0,0],2];Ie.for(ps).registerError(dAe,Zx);pAe=[-3,ps,vdt,{[xf]:pH,[mH]:400},[xf,QC],[0,0],2];Ie.for(ps).registerError(pAe,Xx);mAe=[-3,rAe,"SigninServiceException",0,[],[]];Ie.for(rAe).registerError(mAe,Fl);fH=[9,ps,ddt,{[Sdt]:["POST","/v1/token",200]},()=>sAe,()=>cAe]});var e6,gH=g(()=>{"use strict";Oe();fe();oH();hH();e6=class extends re.classBuilder().ep(x4e).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("Signin","CreateOAuth2Token",{}).n("SigninClient","CreateOAuth2TokenCommand").sc(fH).build(){}});var Edt,ZC,fAe=g(()=>{"use strict";fe();gH();uH();Edt={CreateOAuth2TokenCommand:e6},ZC=class extends Yx{};xc(Edt,ZC)});var hAe=g(()=>{"use strict";gH()});var Rdt,gAe=g(()=>{"use strict";Rdt={AUTHCODE_EXPIRED:"AUTHCODE_EXPIRED",INSUFFICIENT_PERMISSIONS:"INSUFFICIENT_PERMISSIONS",INVALID_REQUEST:"INVALID_REQUEST",SERVER_ERROR:"server_error",TOKEN_EXPIRED:"TOKEN_EXPIRED",USER_CREDENTIALS_CHANGED:"USER_CREDENTIALS_CHANGED"}});var yAe=g(()=>{"use strict"});var bAe={};lr(bAe,{$Command:()=>re,AccessDeniedException:()=>Jx,AccessDeniedException$:()=>iAe,AccessToken$:()=>oAe,CreateOAuth2Token$:()=>fH,CreateOAuth2TokenCommand:()=>e6,CreateOAuth2TokenRequest$:()=>sAe,CreateOAuth2TokenRequestBody$:()=>aAe,CreateOAuth2TokenResponse$:()=>cAe,CreateOAuth2TokenResponseBody$:()=>lAe,InternalServerException:()=>Qx,InternalServerException$:()=>uAe,OAuth2ErrorCode:()=>Rdt,Signin:()=>ZC,SigninClient:()=>Yx,SigninServiceException:()=>Fl,SigninServiceException$:()=>mAe,TooManyRequestsError:()=>Zx,TooManyRequestsError$:()=>dAe,ValidationException:()=>Xx,ValidationException$:()=>pAe,__Client:()=>Pi});var vAe=g(()=>{"use strict";uH();fAe();hAe();hH();gAe();dH();yAe();YC()});import{createHash as Tdt,createPrivateKey as Idt,createPublicKey as Cdt,sign as Odt}from"node:crypto";import{promises as yH}from"node:fs";import{homedir as Ndt}from"node:os";import{dirname as Pdt,join as _Ae}from"node:path";var XC,SAe=g(()=>{"use strict";Br();An();Gs();XC=class t{profileData;init;callerClientConfig;static REFRESH_THRESHOLD=300*1e3;constructor(e,r,n){this.profileData=e,this.init=r,this.callerClientConfig=n}async loadCredentials(){let e=await this.loadToken();if(!e)throw new Xe(`Failed to load a token for session ${this.loginSession}, please re-authenticate using aws login`,{tryNextLink:!1,logger:this.logger});let r=e.accessToken,n=Date.now();return new Date(r.expiresAt).getTime()-n<=t.REFRESH_THRESHOLD?this.refresh(e):{accessKeyId:r.accessKeyId,secretAccessKey:r.secretAccessKey,sessionToken:r.sessionToken,accountId:r.accountId,expiration:new Date(r.expiresAt)}}get logger(){return this.init?.logger}get loginSession(){return this.profileData.login_session}async refresh(e){let{SigninClient:r,CreateOAuth2TokenCommand:n}=await Promise.resolve().then(()=>(vAe(),bAe)),{logger:i,userAgentAppId:o}=this.callerClientConfig??{},a=(d=>d?.metadata?.handlerProtocol==="h2")(this.callerClientConfig?.requestHandler)?void 0:this.callerClientConfig?.requestHandler,c=this.profileData.region??await this.callerClientConfig?.region?.()??process.env.AWS_REGION,l=new r({credentials:{accessKeyId:"",secretAccessKey:""},region:c,requestHandler:a,logger:i,userAgentAppId:o,...this.init?.clientConfig});this.createDPoPInterceptor(l.middlewareStack);let u={tokenInput:{clientId:e.clientId,refreshToken:e.refreshToken,grantType:"refresh_token"}};try{let d=await l.send(new n(u)),{accessKeyId:p,secretAccessKey:m,sessionToken:h}=d.tokenOutput?.accessToken??{},{refreshToken:f,expiresIn:y}=d.tokenOutput??{};if(!p||!m||!h||!f)throw new Xe("Token refresh response missing required fields",{logger:this.logger,tryNextLink:!1});let v=(y??900)*1e3,_=new Date(Date.now()+v),x={...e,accessToken:{...e.accessToken,accessKeyId:p,secretAccessKey:m,sessionToken:h,expiresAt:_.toISOString()},refreshToken:f};await this.saveToken(x);let E=x.accessToken;return{accessKeyId:E.accessKeyId,secretAccessKey:E.secretAccessKey,sessionToken:E.sessionToken,accountId:E.accountId,expiration:_}}catch(d){if(d.name==="AccessDeniedException"){let p=d.error,m;switch(p){case"TOKEN_EXPIRED":m="Your session has expired. Please reauthenticate.";break;case"USER_CREDENTIALS_CHANGED":m="Unable to refresh credentials because of a change in your password. Please reauthenticate with your new password.";break;case"INSUFFICIENT_PERMISSIONS":m="Unable to refresh credentials due to insufficient permissions. You may be missing permission for the 'CreateOAuth2Token' action.";break;default:m=`Failed to refresh token: ${String(d)}. Please re-authenticate using \`aws login\``}throw new Xe(m,{logger:this.logger,tryNextLink:!1})}throw new Xe(`Failed to refresh token: ${String(d)}. Please re-authenticate using aws login`,{logger:this.logger})}}async loadToken(){let e=this.getTokenFilePath();try{let r;try{r=await hf(e,{ignoreCache:this.init?.ignoreCache})}catch{r=await yH.readFile(e,"utf8")}let n=JSON.parse(r),i=["accessToken","clientId","refreshToken","dpopKey"].filter(o=>!n[o]);if(n.accessToken?.accountId||i.push("accountId"),i.length>0)throw new Xe(`Token validation failed, missing fields: ${i.join(", ")}`,{logger:this.logger,tryNextLink:!1});return n}catch(r){throw new Xe(`Failed to load token from ${e}: ${String(r)}`,{logger:this.logger,tryNextLink:!1})}}async saveToken(e){let r=this.getTokenFilePath(),n=Pdt(r);try{await yH.mkdir(n,{recursive:!0})}catch{}await yH.writeFile(r,JSON.stringify(e,null,2),"utf8")}getTokenFilePath(){let e=process.env.AWS_LOGIN_CACHE_DIRECTORY??_Ae(Ndt(),".aws","login","cache"),r=Buffer.from(this.loginSession,"utf8"),n=Tdt("sha256").update(r).digest("hex");return _Ae(e,`${n}.json`)}derToRawSignature(e){let r=2;if(e[r]!==2)throw new Error("Invalid DER signature");r++;let n=e[r++],i=e.subarray(r,r+n);if(r+=n,e[r]!==2)throw new Error("Invalid DER signature");r++;let o=e[r++],s=e.subarray(r,r+o);i=i[0]===0?i.subarray(1):i,s=s[0]===0?s.subarray(1):s;let a=Buffer.concat([Buffer.alloc(32-i.length),i]),c=Buffer.concat([Buffer.alloc(32-s.length),s]);return Buffer.concat([a,c])}createDPoPInterceptor(e){e.add(r=>async n=>{if(Or.isInstance(n.request)){let i=n.request,o=`${i.protocol}//${i.hostname}${i.port?`:${i.port}`:""}${i.path}`,s=await this.generateDpop(i.method,o);i.headers={...i.headers,DPoP:s}}return r(n)},{step:"finalizeRequest",name:"dpopInterceptor",override:!0})}async generateDpop(e="POST",r){let n=await this.loadToken();try{let i=Idt({key:n.dpopKey,format:"pem",type:"sec1"}),s=Cdt(i).export({format:"der",type:"spki"}),a=-1;for(let _=0;_<s.length;_++)if(s[_]===4){a=_;break}let c=s.slice(a+1,a+33),l=s.slice(a+33,a+65),u={alg:"ES256",typ:"dpop+jwt",jwk:{kty:"EC",crv:"P-256",x:c.toString("base64url"),y:l.toString("base64url")}},d={jti:crypto.randomUUID(),htm:e,htu:r,iat:Math.floor(Date.now()/1e3)},p=Buffer.from(JSON.stringify(u)).toString("base64url"),m=Buffer.from(JSON.stringify(d)).toString("base64url"),h=`${p}.${m}`,f=Odt("sha256",Buffer.from(h),i),v=this.derToRawSignature(f).toString("base64url");return`${h}.${v}`}catch(i){throw new Xe(`Failed to generate Dpop proof: ${i instanceof Error?i.message:String(i)}`,{logger:this.logger,tryNextLink:!1})}}}});var wAe,xAe=g(()=>{"use strict";po();Br();Gs();SAe();wAe=t=>async({callerClientConfig:e}={})=>{t?.logger?.debug?.("@aws-sdk/credential-providers - fromLoginCredentials");let r=await Nu(t||{}),n=Ws({profile:t?.profile??e?.profile}),i=r[n];if(!i?.login_session)throw new Xe(`Profile ${n} does not contain login_session.`,{tryNextLink:!0,logger:t?.logger});let s=await new XC(i,t,e).loadCredentials();return hr(s,"CREDENTIALS_LOGIN","AD")}});var AAe=g(()=>{"use strict"});var EAe=g(()=>{"use strict";xAe();AAe()});var RAe,TAe,IAe=g(()=>{"use strict";po();EAe();RAe=t=>!!(t&&t.login_session),TAe=async(t,e,r)=>{let n=await wAe({...e,profile:t})({callerClientConfig:r});return hr(n,"CREDENTIALS_PROFILE_LOGIN","AC")}});var CAe,OAe=g(()=>{"use strict";po();CAe=(t,e,r)=>{if(e.Version!==1)throw Error(`Profile ${t} credential_process did not return Version 1.`);if(e.AccessKeyId===void 0||e.SecretAccessKey===void 0)throw Error(`Profile ${t} credential_process returned invalid credentials.`);if(e.Expiration){let o=new Date;if(new Date(e.Expiration)<o)throw Error(`Profile ${t} credential_process returned expired credentials.`)}let n=e.AccountId;!n&&r?.[t]?.aws_account_id&&(n=r[t].aws_account_id);let i={accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,...e.SessionToken&&{sessionToken:e.SessionToken},...e.Expiration&&{expiration:new Date(e.Expiration)},...e.CredentialScope&&{credentialScope:e.CredentialScope},...n&&{accountId:n}};return hr(i,"CREDENTIALS_PROCESS","w"),i}});import{exec as kdt}from"child_process";import{promisify as Ddt}from"util";var NAe,PAe=g(()=>{"use strict";Br();Gs();OAe();NAe=async(t,e,r)=>{let n=e[t];if(e[t]){let i=n.credential_process;if(i!==void 0){let o=Ddt(bx?.getTokenRecord?.().exec??kdt);try{let{stdout:s}=await o(i),a;try{a=JSON.parse(s.trim())}catch{throw Error(`Profile ${t} credential_process returned invalid JSON.`)}return CAe(t,a,e)}catch(s){throw new Xe(s.message,{logger:r})}}else throw new Xe(`Profile ${t} did not contain credential_process.`,{logger:r})}else throw new Xe(`Profile ${t} could not be found in shared credentials file.`,{logger:r})}});var Mdt,kAe=g(()=>{"use strict";Gs();PAe();Mdt=(t={})=>async({callerClientConfig:e}={})=>{t.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await Nu(t);return NAe(Ws({profile:t.profile??e?.profile}),r,t.logger)}});var bH={};lr(bH,{fromProcess:()=>Mdt});var vH=g(()=>{"use strict";kAe()});var DAe,MAe,$Ae=g(()=>{"use strict";po();DAe=t=>!!t&&typeof t=="object"&&typeof t.credential_process=="string",MAe=async(t,e)=>Promise.resolve().then(()=>(vH(),bH)).then(({fromProcess:r})=>r({...t,profile:e})().then(n=>hr(n,"CREDENTIALS_PROFILE_PROCESS","v")))});var LAe,BAe,UAe=g(()=>{"use strict";po();LAe=async(t,e,r={},n)=>{let{fromSSO:i}=await Promise.resolve().then(()=>(jq(),Vq));return i({profile:t,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})({callerClientConfig:n}).then(o=>e.sso_session?hr(o,"CREDENTIALS_PROFILE_SSO","r"):hr(o,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},BAe=t=>t&&(typeof t.sso_start_url=="string"||typeof t.sso_account_id=="string"||typeof t.sso_session=="string"||typeof t.sso_region=="string"||typeof t.sso_role_name=="string")});var _H,SH,FAe=g(()=>{"use strict";po();_H=t=>!!t&&typeof t=="object"&&typeof t.aws_access_key_id=="string"&&typeof t.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof t.aws_session_token)>-1&&["undefined","string"].indexOf(typeof t.aws_account_id)>-1,SH=async(t,e)=>{e?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:t.aws_access_key_id,secretAccessKey:t.aws_secret_access_key,sessionToken:t.aws_session_token,...t.aws_credential_scope&&{credentialScope:t.aws_credential_scope},...t.aws_account_id&&{accountId:t.aws_account_id}};return hr(r,"CREDENTIALS_PROFILE","n")}});var wH,xH=g(()=>{"use strict";wH=t=>async e=>{t.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:i,providerId:o,policyArns:s,policy:a,durationSeconds:c}=t,{roleAssumerWithWebIdentity:l}=t;if(!l){let{getDefaultRoleAssumerWithWebIdentity:u}=await Promise.resolve().then(()=>(nH(),rH));l=u({...t.clientConfig,credentialProviderLogger:t.logger,parentClientConfig:{...e?.callerClientConfig,...t.parentClientConfig}},t.clientPlugins)}return l({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:i,ProviderId:o,PolicyArns:s,Policy:a,DurationSeconds:c})}});import{readFileSync as $dt}from"fs";var zAe,Ldt,Bdt,Udt,VAe=g(()=>{"use strict";po();Br();Gs();xH();zAe="AWS_WEB_IDENTITY_TOKEN_FILE",Ldt="AWS_ROLE_ARN",Bdt="AWS_ROLE_SESSION_NAME",Udt=(t={})=>async e=>{t.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let r=t?.webIdentityTokenFile??process.env[zAe],n=t?.roleArn??process.env[Ldt],i=t?.roleSessionName??process.env[Bdt];if(!r||!n)throw new Xe("Web identity configuration not specified",{logger:t.logger});let o=await wH({...t,webIdentityToken:bx?.getTokenRecord?.()[r]??$dt(r,{encoding:"ascii"}),roleArn:n,roleSessionName:i})(e);return r===process.env[zAe]&&hr(o,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),o}});var AH={};lr(AH,{fromTokenFile:()=>Udt,fromWebToken:()=>wH});var EH=g(()=>{"use strict";VAe();xH()});var jAe,qAe,HAe=g(()=>{"use strict";po();jAe=t=>!!t&&typeof t=="object"&&typeof t.web_identity_token_file=="string"&&typeof t.role_arn=="string"&&["undefined","string"].indexOf(typeof t.role_session_name)>-1,qAe=async(t,e,r)=>Promise.resolve().then(()=>(EH(),AH)).then(({fromTokenFile:n})=>n({webIdentityTokenFile:t.web_identity_token_file,roleArn:t.role_arn,roleSessionName:t.role_session_name,roleAssumerWithWebIdentity:e.roleAssumerWithWebIdentity,logger:e.logger,parentClientConfig:e.parentClientConfig})({callerClientConfig:r}).then(i=>hr(i,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q")))});var RH,WAe=g(()=>{"use strict";Br();b4e();IAe();$Ae();UAe();FAe();HAe();RH=async(t,e,r,n,i={},o=!1)=>{let s=e[t];if(Object.keys(i).length>0&&_H(s))return SH(s,r);if(o||g4e(s,{profile:t,logger:r.logger}))return y4e(t,e,r,n,i,RH);if(_H(s))return SH(s,r);if(jAe(s))return qAe(s,r,n);if(DAe(s))return MAe(r,t);if(BAe(s))return await LAe(t,s,r,n);if(RAe(s))return TAe(t,r,n);throw new Xe(`Could not resolve credentials using profile: [${t}] in configuration/credentials file(s).`,{logger:r.logger})}});var Fdt,GAe=g(()=>{"use strict";Gs();WAe();Fdt=(t={})=>async({callerClientConfig:e}={})=>{t.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let r=await Nu(t);return RH(Ws({profile:t.profile??e?.profile}),r,t,e)}});var KAe={};lr(KAe,{fromIni:()=>Fdt});var YAe=g(()=>{"use strict";GAe()});var JAe,e9,zdt,QAe=g(()=>{"use strict";rq();Br();Gs();uSe();pSe();JAe=!1,e9=(t={})=>dSe([async()=>{if(t.profile??process.env[Fj])throw process.env[sC]&&process.env[aC]&&(JAe||((t.logger?.warn&&t.logger?.constructor?.name!=="NoOpLogger"?t.logger.warn.bind(t.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),JAe=!0)),new Xe("AWS_PROFILE is set, skipping fromEnv provider.",{logger:t.logger,tryNextLink:!0});return t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),tq(t)()},async e=>{t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:i,ssoRoleName:o,ssoSession:s}=t;if(!r&&!n&&!i&&!o&&!s)throw new Xe("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:t.logger});let{fromSSO:a}=await Promise.resolve().then(()=>(jq(),Vq));return a(t)(e)},async e=>{t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>(YAe(),KAe));return r(t)(e)},async e=>{t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>(vH(),bH));return r(t)(e)},async e=>{t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>(EH(),AH));return r(t)(e)},async()=>(t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await lSe(t))()),async()=>{throw new Xe("Could not load credentials from any providers",{tryNextLink:!1,logger:t.logger})}],zdt),zdt=t=>t?.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5});var TH=g(()=>{"use strict";QAe()});var dEe,Qs,Af,Ef,ZAe,t6,xv,$u,op,t9,IH,XAe,eEe,tEe,pEe,mEe,Jc,rEe,nEe,CH,iEe,oEe,sEe,aEe,cEe,lEe,uEe,Vdt,fEe,hEe=g(()=>{"use strict";dEe="required",Qs="argv",Af="properties",Ef="headers",ZAe="isSet",t6="booleanEquals",xv="error",$u="endpoint",op="tree",t9="PartitionResult",IH="stringEquals",XAe={[dEe]:!1,type:"string"},eEe={[dEe]:!0,default:!1,type:"boolean"},tEe={ref:"Endpoint"},pEe={fn:t6,[Qs]:[{ref:"UseFIPS"},!0]},mEe={fn:t6,[Qs]:[{ref:"UseDualStack"},!0]},Jc={},rEe={fn:"getAttr",[Qs]:[{ref:t9},"supportsFIPS"]},nEe={fn:t6,[Qs]:[!0,{fn:"getAttr",[Qs]:[{ref:t9},"supportsDualStack"]}]},CH={fn:"getAttr",[Qs]:[{ref:t9},"name"]},iEe={url:"https://secretsmanager-fips.{Region}.amazonaws.com",[Af]:{},[Ef]:{}},oEe={url:"https://secretsmanager.{Region}.amazonaws.com",[Af]:{},[Ef]:{}},sEe=[pEe],aEe=[mEe],cEe=[{ref:"Region"}],lEe=[{fn:IH,[Qs]:["aws",CH]}],uEe=[{fn:IH,[Qs]:["aws-us-gov",CH]}],Vdt={version:"1.0",parameters:{Region:XAe,UseDualStack:eEe,UseFIPS:eEe,Endpoint:XAe},rules:[{conditions:[{fn:ZAe,[Qs]:[tEe]}],rules:[{conditions:sEe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:xv},{conditions:aEe,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:xv},{endpoint:{url:tEe,[Af]:Jc,[Ef]:Jc},type:$u}],type:op},{conditions:[{fn:ZAe,[Qs]:cEe}],rules:[{conditions:[{fn:"aws.partition",[Qs]:cEe,assign:t9}],rules:[{conditions:[pEe,mEe],rules:[{conditions:[{fn:t6,[Qs]:[!0,rEe]},nEe],rules:[{conditions:lEe,endpoint:iEe,type:$u},{conditions:uEe,endpoint:iEe,type:$u},{endpoint:{url:"https://secretsmanager-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[Af]:Jc,[Ef]:Jc},type:$u}],type:op},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:xv}],type:op},{conditions:sEe,rules:[{conditions:[{fn:t6,[Qs]:[rEe,!0]}],rules:[{endpoint:{url:"https://secretsmanager-fips.{Region}.{PartitionResult#dnsSuffix}",[Af]:Jc,[Ef]:Jc},type:$u}],type:op},{error:"FIPS is enabled but this partition does not support FIPS",type:xv}],type:op},{conditions:aEe,rules:[{conditions:[nEe],rules:[{conditions:lEe,endpoint:oEe,type:$u},{conditions:[{fn:IH,[Qs]:["aws-cn",CH]}],endpoint:{url:"https://secretsmanager.{Region}.amazonaws.com.cn",[Af]:Jc,[Ef]:Jc},type:$u},{conditions:uEe,endpoint:oEe,type:$u},{endpoint:{url:"https://secretsmanager.{Region}.{PartitionResult#dualStackDnsSuffix}",[Af]:Jc,[Ef]:Jc},type:$u}],type:op},{error:"DualStack is enabled but this partition does not support DualStack",type:xv}],type:op},{endpoint:{url:"https://secretsmanager.{Region}.{PartitionResult#dnsSuffix}",[Af]:Jc,[Ef]:Jc},type:$u}],type:op}],type:op},{error:"Invalid Configuration: Missing Region",type:xv}]},fEe=Vdt});var jdt,gEe,yEe=g(()=>{"use strict";of();Ml();hEe();jdt=new js({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),gEe=(t,e={})=>jdt.get(t,()=>yc(fEe,{endpointParams:t,logger:e.logger}));uo.aws=Ta});var bEe,vEe=g(()=>{"use strict";_i();Xd();fe();Zd();Mo();ni();eq();yEe();bEe=t=>({apiVersion:"2017-10-17",base64Decoder:t?.base64Decoder??Bn,base64Encoder:t?.base64Encoder??un,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??gEe,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??I2e,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new mo}],logger:t?.logger??new Bo,protocol:t?.protocol??M8,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.secretsmanager",version:"2017-10-17",serviceTarget:"secretsmanager"},serviceId:t?.serviceId??"Secrets Manager",urlParser:t?.urlParser??Ki,utf8Decoder:t?.utf8Decoder??yn,utf8Encoder:t?.utf8Encoder??ln})});var _Ee,SEe=g(()=>{"use strict";N2e();_i();TH();t0();ds();r0();Ca();Dc();Wd();fe();n0();i0();tp();vEe();_Ee=t=>{Ec(process.version);let e=jc(t),r=()=>e().then(Ac),n=bEe(t);bc(process.version);let i={profile:t?.profile,logger:n.logger};return{...n,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??ct(vc,i),bodyLengthChecker:t?.bodyLengthChecker??Vc,credentialDefaultProvider:t?.credentialDefaultProvider??e9,defaultUserAgentProvider:t?.defaultUserAgentProvider??Fc({serviceId:n.serviceId,clientVersion:P2e.version}),maxAttempts:t?.maxAttempts??ct($c,t),region:t?.region??ct(Uo,{...Hs,...i}),requestHandler:$o.create(t?.requestHandler??r),retryMode:t?.retryMode??ct({...Bc,default:async()=>(await r()).retryMode||Ks},t),sha256:t?.sha256??Ys.bind(null,"sha256"),streamCollector:t?.streamCollector??Bs,useDualstackEndpoint:t?.useDualstackEndpoint??ct(Oc,i),useFipsEndpoint:t?.useFipsEndpoint??ct(Nc,i),userAgentAppId:t?.userAgentAppId??ct(zc,i)}}});var wEe,xEe,AEe=g(()=>{"use strict";wEe=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(i){let o=e.findIndex(s=>s.schemeId===i.schemeId);o===-1?e.push(i):e.splice(o,1,i)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},xEe=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var EEe,REe=g(()=>{"use strict";bf();An();fe();AEe();EEe=(t,e)=>{let r=Object.assign(Wc(t),Rc(t),nc(t),wEe(t));return e.forEach(n=>n.configure(r)),Object.assign(t,Gc(r),Tc(r),ic(r),xEe(r))}});var zl,Av=g(()=>{"use strict";Ug();Fg();zg();pf();ds();dn();Pr();Zg();Oe();Ca();fe();eq();vn();SEe();REe();zl=class extends Pi{config;constructor(...[e]){let r=_Ee(e||{});super(r),this.initConfig=r;let n=O2e(r),i=fc(n),o=Lc(i),s=Pc(o),a=s,c=Mc(a),l=C2e(c),u=EEe(l,e?.extensions||[]);this.config=u,this.middlewareStack.use(dc(this.config)),this.middlewareStack.use(Cc(this.config)),this.middlewareStack.use(Uc(this.config)),this.middlewareStack.use(kc(this.config)),this.middlewareStack.use(sc(this.config)),this.middlewareStack.use(ac(this.config)),this.middlewareStack.use(cc(this.config)),this.middlewareStack.use(lc(this.config,{httpAuthSchemeParametersProvider:T2e,identityProviderConfigProvider:async d=>new Vs({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(uc(this.config))}destroy(){super.destroy()}}});var ki,r9=g(()=>{"use strict";fe();ki=class t extends qs{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var r6,n6,i6,o6,s6,a6,c6,l6,u6,d6,p6,m6,OH=g(()=>{"use strict";r9();r6=class t extends ki{name="DecryptionFailure";$fault="client";Message;constructor(e){super({name:"DecryptionFailure",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},n6=class t extends ki{name="InternalServiceError";$fault="server";Message;constructor(e){super({name:"InternalServiceError",$fault:"server",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},i6=class t extends ki{name="InvalidNextTokenException";$fault="client";Message;constructor(e){super({name:"InvalidNextTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},o6=class t extends ki{name="InvalidParameterException";$fault="client";Message;constructor(e){super({name:"InvalidParameterException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},s6=class t extends ki{name="InvalidRequestException";$fault="client";Message;constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},a6=class t extends ki{name="ResourceNotFoundException";$fault="client";Message;constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},c6=class t extends ki{name="EncryptionFailure";$fault="client";Message;constructor(e){super({name:"EncryptionFailure",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},l6=class t extends ki{name="LimitExceededException";$fault="client";Message;constructor(e){super({name:"LimitExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},u6=class t extends ki{name="MalformedPolicyDocumentException";$fault="client";Message;constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},d6=class t extends ki{name="PreconditionNotMetException";$fault="client";Message;constructor(e){super({name:"PreconditionNotMetException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},p6=class t extends ki{name="ResourceExistsException";$fault="client";Message;constructor(e){super({name:"ResourceExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},m6=class t extends ki{name="PublicPolicyException";$fault="client";Message;constructor(e){super({name:"PublicPolicyException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}}});var qdt,Hdt,Wdt,Di,TEe,Gdt,Kdt,Ydt,Jdt,Qdt,f6,Zdt,Xdt,ept,tpt,n9,rpt,npt,ipt,i9,opt,IEe,spt,apt,cpt,lpt,upt,dpt,ppt,mpt,fpt,hpt,gpt,ypt,bpt,vpt,_pt,Spt,wpt,xpt,Apt,NH,Ept,Rpt,PH,Tpt,CEe,Ipt,Cpt,OEe,Opt,Npt,Ppt,kpt,Dpt,Mpt,$pt,Lpt,Bpt,Upt,Fpt,zpt,Vpt,jpt,qpt,Hpt,Wpt,kH,Ev,Gpt,o9,NEe,Kpt,PEe,Ypt,Jpt,Qpt,Zpt,Xpt,emt,Pa,tmt,DH,rmt,go,kEe,Rv,DEe,nmt,imt,omt,MEe,smt,amt,cmt,lmt,umt,dmt,pmt,$Ee,LEe,mmt,fmt,hmt,gmt,MH,ymt,bmt,vmt,$H,LH,_mt,Smt,wmt,xmt,Amt,Emt,s9,Rmt,Tmt,Imt,Cmt,Omt,Nmt,Pmt,kmt,Dmt,Mmt,$mt,Lmt,Bmt,Umt,Fmt,h6,zmt,Vmt,jmt,Si,qmt,Hmt,Wmt,Gmt,Kmt,Ymt,Jmt,Qmt,Zmt,g6,Xmt,eft,tft,rft,nft,ift,oft,BEe,a9,sft,aft,cft,lft,uft,c9,dft,pft,mft,fft,hft,gft,yft,bft,UEe,vft,_ft,Sft,sp,wft,xft,Aft,Eft,FEe,y6,Rft,Tft,Vl,Qc,Ift,zEe,ye,Cft,Oft,b6,v6,VEe,jEe,qEe,HEe,WEe,GEe,KEe,YEe,JEe,QEe,ZEe,XEe,e3e,t3e,r3e,n3e,i3e,o3e,s3e,a3e,c3e,l3e,u3e,d3e,p3e,m3e,f3e,h3e,g3e,y3e,b3e,v3e,_3e,S3e,w3e,x3e,A3e,E3e,R3e,T3e,I3e,C3e,O3e,N3e,P3e,k3e,D3e,M3e,$3e,L3e,B3e,l9,U3e,F3e,z3e,V3e,j3e,q3e,H3e,W3e,G3e,K3e,Y3e,J3e,Q3e,Z3e,X3e,e5e,t5e,r5e,Nft,BH,n5e,u9,Pft,kft,Dft,d9,Mft,UH,FH,zH,VH,jH,qH,HH,WH,GH,KH,YH,JH,QH,ZH,XH,eW,tW,rW,nW,iW,oW,sW,aW,_n=g(()=>{"use strict";Pr();OH();r9();qdt="AutomaticallyAfterDays",Hdt="APIErrorListType",Wdt="APIErrorType",Di="ARN",TEe="AddReplicaRegions",Gdt="AddReplicaRegionListType",Kdt="BatchGetSecretValue",Ydt="BatchGetSecretValueRequest",Jdt="BatchGetSecretValueResponse",Qdt="BlockPublicPolicy",f6="CreatedDate",Zdt="CheckName",Xdt="CancelRotateSecret",ept="CancelRotateSecretRequest",tpt="CancelRotateSecretResponse",n9="ClientRequestToken",rpt="CreateSecret",npt="CreateSecretRequest",ipt="CreateSecretResponse",i9="Description",opt="DeletionDate",IEe="DeletedDate",spt="DecryptionFailure",apt="DeleteResourcePolicy",cpt="DeleteResourcePolicyRequest",lpt="DeleteResourcePolicyResponse",upt="DeleteSecret",dpt="DeleteSecretRequest",ppt="DeleteSecretResponse",mpt="DescribeSecretRequest",fpt="DescribeSecretResponse",hpt="DescribeSecret",gpt="Duration",ypt="Errors",bpt="ErrorCode",vpt="ExcludeCharacters",_pt="EncryptionFailure",Spt="ExcludeLowercase",wpt="ErrorMessage",xpt="ExcludeNumbers",Apt="ExcludePunctuation",NH="ExternalSecretRotationMetadata",Ept="ExternalSecretRotationMetadataItem",Rpt="ExternalSecretRotationMetadataType",PH="ExternalSecretRotationRoleArn",Tpt="ExcludeUppercase",CEe="Filters",Ipt="ForceDeleteWithoutRecovery",Cpt="FiltersListType",OEe="ForceOverwriteReplicaSecret",Opt="Filter",Npt="GetRandomPassword",Ppt="GetRandomPasswordRequest",kpt="GetRandomPasswordResponse",Dpt="GetResourcePolicyRequest",Mpt="GetResourcePolicyResponse",$pt="GetResourcePolicy",Lpt="GetSecretValue",Bpt="GetSecretValueRequest",Upt="GetSecretValueResponse",Fpt="IncludeDeprecated",zpt="InvalidNextTokenException",Vpt="IncludePlannedDeletion",jpt="InvalidParameterException",qpt="InvalidRequestException",Hpt="IncludeSpace",Wpt="InternalServiceError",kH="Key",Ev="KmsKeyId",Gpt="KmsKeyIds",o9="LastAccessedDate",NEe="LastChangedDate",Kpt="LimitExceededException",PEe="LastRotatedDate",Ypt="ListSecrets",Jpt="ListSecretsRequest",Qpt="ListSecretsResponse",Zpt="ListSecretVersionIds",Xpt="ListSecretVersionIdsRequest",emt="ListSecretVersionIdsResponse",Pa="Message",tmt="MalformedPolicyDocumentException",DH="MaxResults",rmt="MoveToVersionId",go="Name",kEe="NextRotationDate",Rv="NextToken",DEe="OwningService",nmt="PasswordLength",imt="PreconditionNotMetException",omt="PublicPolicyException",MEe="PrimaryRegion",smt="PutResourcePolicy",amt="PutResourcePolicyRequest",cmt="PutResourcePolicyResponse",lmt="PutSecretValue",umt="PutSecretValueRequest",dmt="PutSecretValueResponse",pmt="PolicyValidationPassed",$Ee="Region",LEe="RotationEnabled",mmt="ResourceExistsException",fmt="RequireEachIncludedType",hmt="RemoveFromVersionId",gmt="RotateImmediately",MH="RotationLambdaARN",ymt="ResourceNotFoundException",bmt="RandomPassword",vmt="RandomPasswordType",$H="ResourcePolicy",LH="RotationRules",_mt="RemoveRegionsFromReplication",Smt="RemoveRegionsFromReplicationRequest",wmt="RemoveRegionsFromReplicationResponse",xmt="RemoveReplicaRegions",Amt="ReplicaRegionType",Emt="RotationRulesType",s9="ReplicationStatus",Rmt="ReplicationStatusListType",Tmt="RestoreSecretRequest",Imt="RestoreSecretResponse",Cmt="RotateSecretRequest",Omt="RotateSecretResponse",Nmt="ReplicationStatusType",Pmt="ReplicateSecretToRegions",kmt="ReplicateSecretToRegionsRequest",Dmt="ReplicateSecretToRegionsResponse",Mmt="RestoreSecret",$mt="RotateSecret",Lmt="RotationToken",Bmt="RotationTokenType",Umt="RecoveryWindowInDays",Fmt="Status",h6="SecretBinary",zmt="SecretBinaryType",Vmt="SortBy",jmt="ScheduleExpression",Si="SecretId",qmt="SecretIdList",Hmt="SecretList",Wmt="SecretListEntry",Gmt="SecretListType",Kmt="StatusMessage",Ymt="SortOrder",Jmt="StopReplicationToReplica",Qmt="StopReplicationToReplicaRequest",Zmt="StopReplicationToReplicaResponse",g6="SecretString",Xmt="SecretStringType",eft="SecretValues",tft="SecretValueEntry",rft="SecretVersionsListEntry",nft="SecretVersionsListType",ift="SecretValuesType",oft="SecretVersionsToStages",BEe="SecretVersionsToStagesMapType",a9="Tags",sft="TagKeys",aft="TagListType",cft="TagResource",lft="TagResourceRequest",uft="Tag",c9="Type",dft="UntagResource",pft="UntagResourceRequest",mft="UpdateSecret",fft="UpdateSecretRequest",hft="UpdateSecretResponse",gft="UpdateSecretVersionStage",yft="UpdateSecretVersionStageRequest",bft="UpdateSecretVersionStageResponse",UEe="Value",vft="ValidationErrors",_ft="ValidationErrorsEntry",Sft="ValidationErrorsType",sp="VersionId",wft="VersionIdsToStages",xft="ValidateResourcePolicy",Aft="ValidateResourcePolicyRequest",Eft="ValidateResourcePolicyResponse",FEe="VersionStage",y6="VersionStages",Rft="Values",Tft="Versions",Vl="client",Qc="error",Ift="server",zEe="smithy.ts.sdk.synthetic.com.amazonaws.secretsmanager",ye="com.amazonaws.secretsmanager",Cft=[0,ye,vmt,8,0],Oft=[0,ye,Bmt,8,0],b6=[0,ye,zmt,8,21],v6=[0,ye,Xmt,8,0],VEe=[3,ye,Wdt,0,[Si,bpt,Pa],[0,0,0]],jEe=[3,ye,Ydt,0,[qmt,CEe,DH,Rv],[64,()=>n5e,1,0]],qEe=[3,ye,Jdt,0,[eft,Rv,ypt],[[()=>kft,0],0,()=>Nft]],HEe=[3,ye,ept,0,[Si],[0],1],WEe=[3,ye,tpt,0,[Di,go,sp],[0,0,0]],GEe=[3,ye,npt,0,[go,n9,i9,Ev,h6,g6,a9,TEe,OEe,c9],[0,[0,4],0,0,[()=>b6,0],[()=>v6,0],()=>d9,()=>r5e,2,0],1],KEe=[3,ye,ipt,0,[Di,go,sp,s9],[0,0,0,()=>u9]],YEe=[-3,ye,spt,{[Qc]:Vl},[Pa],[0]];Ie.for(ye).registerError(YEe,r6);JEe=[3,ye,cpt,0,[Si],[0],1],QEe=[3,ye,lpt,0,[Di,go],[0,0]],ZEe=[3,ye,dpt,0,[Si,Umt,Ipt],[0,1,2],1],XEe=[3,ye,ppt,0,[Di,go,opt],[0,0,4]],e3e=[3,ye,mpt,0,[Si],[0],1],t3e=[3,ye,fpt,0,[Di,go,c9,i9,Ev,LEe,MH,LH,NH,PH,PEe,NEe,o9,IEe,kEe,a9,wft,DEe,f6,MEe,s9],[0,0,0,0,0,2,0,()=>l9,()=>BH,0,4,4,4,4,4,()=>d9,[2,ye,BEe,0,0,64],0,4,0,()=>u9]],r3e=[-3,ye,_pt,{[Qc]:Vl},[Pa],[0]];Ie.for(ye).registerError(r3e,c6);n3e=[3,ye,Ept,0,[kH,UEe],[0,0]],i3e=[3,ye,Opt,0,[kH,Rft],[0,64]],o3e=[3,ye,Ppt,0,[nmt,vpt,xpt,Apt,Tpt,Spt,Hpt,fmt],[1,0,2,2,2,2,2,2]],s3e=[3,ye,kpt,0,[bmt],[[()=>Cft,0]]],a3e=[3,ye,Dpt,0,[Si],[0],1],c3e=[3,ye,Mpt,0,[Di,go,$H],[0,0,0]],l3e=[3,ye,Bpt,0,[Si,sp,FEe],[0,0,0],1],u3e=[3,ye,Upt,0,[Di,go,sp,h6,g6,y6,f6],[0,0,0,[()=>b6,0],[()=>v6,0],64,4]],d3e=[-3,ye,Wpt,{[Qc]:Ift},[Pa],[0]];Ie.for(ye).registerError(d3e,n6);p3e=[-3,ye,zpt,{[Qc]:Vl},[Pa],[0]];Ie.for(ye).registerError(p3e,i6);m3e=[-3,ye,jpt,{[Qc]:Vl},[Pa],[0]];Ie.for(ye).registerError(m3e,o6);f3e=[-3,ye,qpt,{[Qc]:Vl},[Pa],[0]];Ie.for(ye).registerError(f3e,s6);h3e=[-3,ye,Kpt,{[Qc]:Vl},[Pa],[0]];Ie.for(ye).registerError(h3e,l6);g3e=[3,ye,Jpt,0,[Vpt,DH,Rv,CEe,Ymt,Vmt],[2,1,0,()=>n5e,0,0]],y3e=[3,ye,Qpt,0,[Hmt,Rv],[()=>Pft,0]],b3e=[3,ye,Xpt,0,[Si,DH,Rv,Fpt],[0,1,0,2],1],v3e=[3,ye,emt,0,[Tft,Rv,Di,go],[()=>Dft,0,0,0]],_3e=[-3,ye,tmt,{[Qc]:Vl},[Pa],[0]];Ie.for(ye).registerError(_3e,u6);S3e=[-3,ye,imt,{[Qc]:Vl},[Pa],[0]];Ie.for(ye).registerError(S3e,d6);w3e=[-3,ye,omt,{[Qc]:Vl},[Pa],[0]];Ie.for(ye).registerError(w3e,m6);x3e=[3,ye,amt,0,[Si,$H,Qdt],[0,0,2],2],A3e=[3,ye,cmt,0,[Di,go],[0,0]],E3e=[3,ye,umt,0,[Si,n9,h6,g6,y6,Lmt],[0,[0,4],[()=>b6,0],[()=>v6,0],64,[()=>Oft,0]],1],R3e=[3,ye,dmt,0,[Di,go,sp,y6],[0,0,0,64]],T3e=[3,ye,Smt,0,[Si,xmt],[0,64],2],I3e=[3,ye,wmt,0,[Di,s9],[0,()=>u9]],C3e=[3,ye,Amt,0,[$Ee,Ev],[0,0]],O3e=[3,ye,kmt,0,[Si,TEe,OEe],[0,()=>r5e,2],2],N3e=[3,ye,Dmt,0,[Di,s9],[0,()=>u9]],P3e=[3,ye,Nmt,0,[$Ee,Ev,Fmt,Kmt,o9],[0,0,0,0,4]],k3e=[-3,ye,mmt,{[Qc]:Vl},[Pa],[0]];Ie.for(ye).registerError(k3e,p6);D3e=[-3,ye,ymt,{[Qc]:Vl},[Pa],[0]];Ie.for(ye).registerError(D3e,a6);M3e=[3,ye,Tmt,0,[Si],[0],1],$3e=[3,ye,Imt,0,[Di,go],[0,0]],L3e=[3,ye,Cmt,0,[Si,n9,MH,LH,NH,PH,gmt],[0,[0,4],0,()=>l9,()=>BH,0,2],1],B3e=[3,ye,Omt,0,[Di,go,sp],[0,0,0]],l9=[3,ye,Emt,0,[qdt,gpt,jmt],[1,0,0]],U3e=[3,ye,Wmt,0,[Di,go,c9,i9,Ev,LEe,MH,LH,NH,PH,PEe,NEe,o9,IEe,kEe,a9,oft,DEe,f6,MEe],[0,0,0,0,0,2,0,()=>l9,()=>BH,0,4,4,4,4,4,()=>d9,[2,ye,BEe,0,0,64],0,4,0]],F3e=[3,ye,tft,0,[Di,go,sp,h6,g6,y6,f6],[0,0,0,[()=>b6,0],[()=>v6,0],64,4]],z3e=[3,ye,rft,0,[sp,y6,o9,f6,Gpt],[0,64,4,4,64]],V3e=[3,ye,Qmt,0,[Si],[0],1],j3e=[3,ye,Zmt,0,[Di],[0]],q3e=[3,ye,uft,0,[kH,UEe],[0,0]],H3e=[3,ye,lft,0,[Si,a9],[0,()=>d9],2],W3e=[3,ye,pft,0,[Si,sft],[0,64],2],G3e=[3,ye,fft,0,[Si,n9,i9,Ev,h6,g6,c9],[0,[0,4],0,0,[()=>b6,0],[()=>v6,0],0],1],K3e=[3,ye,hft,0,[Di,go,sp],[0,0,0]],Y3e=[3,ye,yft,0,[Si,FEe,hmt,rmt],[0,0,0,0],2],J3e=[3,ye,bft,0,[Di,go],[0,0]],Q3e=[3,ye,Aft,0,[$H,Si],[0,0],1],Z3e=[3,ye,Eft,0,[pmt,vft],[2,()=>Mft]],X3e=[3,ye,_ft,0,[Zdt,wpt],[0,0]],e5e="unit",t5e=[-3,zEe,"SecretsManagerServiceException",0,[],[]];Ie.for(zEe).registerError(t5e,ki);r5e=[1,ye,Gdt,0,()=>C3e],Nft=[1,ye,Hdt,0,()=>VEe],BH=[1,ye,Rpt,0,()=>n3e],n5e=[1,ye,Cpt,0,()=>i3e],u9=[1,ye,Rmt,0,()=>P3e],Pft=[1,ye,Gmt,0,()=>U3e],kft=[1,ye,ift,0,[()=>F3e,0]],Dft=[1,ye,nft,0,()=>z3e],d9=[1,ye,aft,0,()=>q3e],Mft=[1,ye,Sft,0,()=>X3e],UH=[9,ye,Kdt,0,()=>jEe,()=>qEe],FH=[9,ye,Xdt,0,()=>HEe,()=>WEe],zH=[9,ye,rpt,0,()=>GEe,()=>KEe],VH=[9,ye,apt,0,()=>JEe,()=>QEe],jH=[9,ye,upt,0,()=>ZEe,()=>XEe],qH=[9,ye,hpt,0,()=>e3e,()=>t3e],HH=[9,ye,Npt,0,()=>o3e,()=>s3e],WH=[9,ye,$pt,0,()=>a3e,()=>c3e],GH=[9,ye,Lpt,0,()=>l3e,()=>u3e],KH=[9,ye,Ypt,0,()=>g3e,()=>y3e],YH=[9,ye,Zpt,0,()=>b3e,()=>v3e],JH=[9,ye,smt,0,()=>x3e,()=>A3e],QH=[9,ye,lmt,0,()=>E3e,()=>R3e],ZH=[9,ye,_mt,0,()=>T3e,()=>I3e],XH=[9,ye,Pmt,0,()=>O3e,()=>N3e],eW=[9,ye,Mmt,0,()=>M3e,()=>$3e],tW=[9,ye,$mt,0,()=>L3e,()=>B3e],rW=[9,ye,Jmt,0,()=>V3e,()=>j3e],nW=[9,ye,cft,0,()=>H3e,()=>e5e],iW=[9,ye,dft,0,()=>W3e,()=>e5e],oW=[9,ye,mft,0,()=>G3e,()=>K3e],sW=[9,ye,gft,0,()=>Y3e,()=>J3e],aW=[9,ye,xft,0,()=>Q3e,()=>Z3e]});var f0,p9=g(()=>{"use strict";Oe();fe();vn();_n();f0=class extends re.classBuilder().ep(Ut).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","BatchGetSecretValue",{}).n("SecretsManagerClient","BatchGetSecretValueCommand").sc(UH).build(){}});var _6,cW=g(()=>{"use strict";Oe();fe();vn();_n();_6=class extends re.classBuilder().ep(Ut).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","CancelRotateSecret",{}).n("SecretsManagerClient","CancelRotateSecretCommand").sc(FH).build(){}});var S6,lW=g(()=>{"use strict";Oe();fe();vn();_n();S6=class extends re.classBuilder().ep(Ut).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","CreateSecret",{}).n("SecretsManagerClient","CreateSecretCommand").sc(zH).build(){}});var w6,uW=g(()=>{"use strict";Oe();fe();vn();_n();w6=class extends re.classBuilder().ep(Ut).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","DeleteResourcePolicy",{}).n("SecretsManagerClient","DeleteResourcePolicyCommand").sc(VH).build(){}});var x6,dW=g(()=>{"use strict";Oe();fe();vn();_n();x6=class extends re.classBuilder().ep(Ut).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","DeleteSecret",{}).n("SecretsManagerClient","DeleteSecretCommand").sc(jH).build(){}});var A6,pW=g(()=>{"use strict";Oe();fe();vn();_n();A6=class extends re.classBuilder().ep(Ut).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","DescribeSecret",{}).n("SecretsManagerClient","DescribeSecretCommand").sc(qH).build(){}});var E6,mW=g(()=>{"use strict";Oe();fe();vn();_n();E6=class extends re.classBuilder().ep(Ut).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","GetRandomPassword",{}).n("SecretsManagerClient","GetRandomPasswordCommand").sc(HH).build(){}});var R6,fW=g(()=>{"use strict";Oe();fe();vn();_n();R6=class extends re.classBuilder().ep(Ut).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","GetResourcePolicy",{}).n("SecretsManagerClient","GetResourcePolicyCommand").sc(WH).build(){}});var T6,hW=g(()=>{"use strict";Oe();fe();vn();_n();T6=class extends re.classBuilder().ep(Ut).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","GetSecretValue",{}).n("SecretsManagerClient","GetSecretValueCommand").sc(GH).build(){}});var h0,m9=g(()=>{"use strict";Oe();fe();vn();_n();h0=class extends re.classBuilder().ep(Ut).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","ListSecrets",{}).n("SecretsManagerClient","ListSecretsCommand").sc(KH).build(){}});var g0,f9=g(()=>{"use strict";Oe();fe();vn();_n();g0=class extends re.classBuilder().ep(Ut).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","ListSecretVersionIds",{}).n("SecretsManagerClient","ListSecretVersionIdsCommand").sc(YH).build(){}});var I6,gW=g(()=>{"use strict";Oe();fe();vn();_n();I6=class extends re.classBuilder().ep(Ut).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","PutResourcePolicy",{}).n("SecretsManagerClient","PutResourcePolicyCommand").sc(JH).build(){}});var C6,yW=g(()=>{"use strict";Oe();fe();vn();_n();C6=class extends re.classBuilder().ep(Ut).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","PutSecretValue",{}).n("SecretsManagerClient","PutSecretValueCommand").sc(QH).build(){}});var O6,bW=g(()=>{"use strict";Oe();fe();vn();_n();O6=class extends re.classBuilder().ep(Ut).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","RemoveRegionsFromReplication",{}).n("SecretsManagerClient","RemoveRegionsFromReplicationCommand").sc(ZH).build(){}});var N6,vW=g(()=>{"use strict";Oe();fe();vn();_n();N6=class extends re.classBuilder().ep(Ut).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","ReplicateSecretToRegions",{}).n("SecretsManagerClient","ReplicateSecretToRegionsCommand").sc(XH).build(){}});var P6,_W=g(()=>{"use strict";Oe();fe();vn();_n();P6=class extends re.classBuilder().ep(Ut).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","RestoreSecret",{}).n("SecretsManagerClient","RestoreSecretCommand").sc(eW).build(){}});var k6,SW=g(()=>{"use strict";Oe();fe();vn();_n();k6=class extends re.classBuilder().ep(Ut).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","RotateSecret",{}).n("SecretsManagerClient","RotateSecretCommand").sc(tW).build(){}});var D6,wW=g(()=>{"use strict";Oe();fe();vn();_n();D6=class extends re.classBuilder().ep(Ut).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","StopReplicationToReplica",{}).n("SecretsManagerClient","StopReplicationToReplicaCommand").sc(rW).build(){}});var M6,xW=g(()=>{"use strict";Oe();fe();vn();_n();M6=class extends re.classBuilder().ep(Ut).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","TagResource",{}).n("SecretsManagerClient","TagResourceCommand").sc(nW).build(){}});var $6,AW=g(()=>{"use strict";Oe();fe();vn();_n();$6=class extends re.classBuilder().ep(Ut).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","UntagResource",{}).n("SecretsManagerClient","UntagResourceCommand").sc(iW).build(){}});var L6,EW=g(()=>{"use strict";Oe();fe();vn();_n();L6=class extends re.classBuilder().ep(Ut).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","UpdateSecret",{}).n("SecretsManagerClient","UpdateSecretCommand").sc(oW).build(){}});var B6,RW=g(()=>{"use strict";Oe();fe();vn();_n();B6=class extends re.classBuilder().ep(Ut).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","UpdateSecretVersionStage",{}).n("SecretsManagerClient","UpdateSecretVersionStageCommand").sc(sW).build(){}});var U6,TW=g(()=>{"use strict";Oe();fe();vn();_n();U6=class extends re.classBuilder().ep(Ut).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("secretsmanager","ValidateResourcePolicy",{}).n("SecretsManagerClient","ValidateResourcePolicyCommand").sc(aW).build(){}});var IW,CW=g(()=>{"use strict";dn();p9();Av();IW=Ln(zl,f0,"NextToken","NextToken","MaxResults")});var OW,NW=g(()=>{"use strict";dn();m9();Av();OW=Ln(zl,h0,"NextToken","NextToken","MaxResults")});var PW,kW=g(()=>{"use strict";dn();f9();Av();PW=Ln(zl,g0,"NextToken","NextToken","MaxResults")});var $ft,Lft,h9,i5e=g(()=>{"use strict";fe();p9();cW();lW();uW();dW();pW();mW();fW();hW();m9();f9();gW();yW();bW();vW();_W();SW();wW();xW();AW();EW();RW();TW();CW();NW();kW();Av();$ft={BatchGetSecretValueCommand:f0,CancelRotateSecretCommand:_6,CreateSecretCommand:S6,DeleteResourcePolicyCommand:w6,DeleteSecretCommand:x6,DescribeSecretCommand:A6,GetRandomPasswordCommand:E6,GetResourcePolicyCommand:R6,GetSecretValueCommand:T6,ListSecretsCommand:h0,ListSecretVersionIdsCommand:g0,PutResourcePolicyCommand:I6,PutSecretValueCommand:C6,RemoveRegionsFromReplicationCommand:O6,ReplicateSecretToRegionsCommand:N6,RestoreSecretCommand:P6,RotateSecretCommand:k6,StopReplicationToReplicaCommand:D6,TagResourceCommand:M6,UntagResourceCommand:$6,UpdateSecretCommand:L6,UpdateSecretVersionStageCommand:B6,ValidateResourcePolicyCommand:U6},Lft={paginateBatchGetSecretValue:IW,paginateListSecrets:OW,paginateListSecretVersionIds:PW},h9=class extends zl{};xc($ft,h9,{paginators:Lft})});var o5e=g(()=>{"use strict";p9();cW();lW();uW();dW();pW();mW();fW();hW();f9();m9();gW();yW();bW();vW();_W();SW();wW();xW();AW();EW();RW();TW()});var s5e=g(()=>{"use strict"});var a5e=g(()=>{"use strict";s5e();CW();NW();kW()});var Bft,Uft,Fft,zft,c5e=g(()=>{"use strict";Bft={all:"all",description:"description",name:"name",owning_service:"owning-service",primary_region:"primary-region",tag_key:"tag-key",tag_value:"tag-value"},Uft={Failed:"Failed",InProgress:"InProgress",InSync:"InSync"},Fft={created_date:"created-date",last_accessed_date:"last-accessed-date",last_changed_date:"last-changed-date",name:"name"},zft={asc:"asc",desc:"desc"}});var l5e=g(()=>{"use strict"});var u5e={};lr(u5e,{$Command:()=>re,APIErrorType$:()=>VEe,BatchGetSecretValue$:()=>UH,BatchGetSecretValueCommand:()=>f0,BatchGetSecretValueRequest$:()=>jEe,BatchGetSecretValueResponse$:()=>qEe,CancelRotateSecret$:()=>FH,CancelRotateSecretCommand:()=>_6,CancelRotateSecretRequest$:()=>HEe,CancelRotateSecretResponse$:()=>WEe,CreateSecret$:()=>zH,CreateSecretCommand:()=>S6,CreateSecretRequest$:()=>GEe,CreateSecretResponse$:()=>KEe,DecryptionFailure:()=>r6,DecryptionFailure$:()=>YEe,DeleteResourcePolicy$:()=>VH,DeleteResourcePolicyCommand:()=>w6,DeleteResourcePolicyRequest$:()=>JEe,DeleteResourcePolicyResponse$:()=>QEe,DeleteSecret$:()=>jH,DeleteSecretCommand:()=>x6,DeleteSecretRequest$:()=>ZEe,DeleteSecretResponse$:()=>XEe,DescribeSecret$:()=>qH,DescribeSecretCommand:()=>A6,DescribeSecretRequest$:()=>e3e,DescribeSecretResponse$:()=>t3e,EncryptionFailure:()=>c6,EncryptionFailure$:()=>r3e,ExternalSecretRotationMetadataItem$:()=>n3e,Filter$:()=>i3e,FilterNameStringType:()=>Bft,GetRandomPassword$:()=>HH,GetRandomPasswordCommand:()=>E6,GetRandomPasswordRequest$:()=>o3e,GetRandomPasswordResponse$:()=>s3e,GetResourcePolicy$:()=>WH,GetResourcePolicyCommand:()=>R6,GetResourcePolicyRequest$:()=>a3e,GetResourcePolicyResponse$:()=>c3e,GetSecretValue$:()=>GH,GetSecretValueCommand:()=>T6,GetSecretValueRequest$:()=>l3e,GetSecretValueResponse$:()=>u3e,InternalServiceError:()=>n6,InternalServiceError$:()=>d3e,InvalidNextTokenException:()=>i6,InvalidNextTokenException$:()=>p3e,InvalidParameterException:()=>o6,InvalidParameterException$:()=>m3e,InvalidRequestException:()=>s6,InvalidRequestException$:()=>f3e,LimitExceededException:()=>l6,LimitExceededException$:()=>h3e,ListSecretVersionIds$:()=>YH,ListSecretVersionIdsCommand:()=>g0,ListSecretVersionIdsRequest$:()=>b3e,ListSecretVersionIdsResponse$:()=>v3e,ListSecrets$:()=>KH,ListSecretsCommand:()=>h0,ListSecretsRequest$:()=>g3e,ListSecretsResponse$:()=>y3e,MalformedPolicyDocumentException:()=>u6,MalformedPolicyDocumentException$:()=>_3e,PreconditionNotMetException:()=>d6,PreconditionNotMetException$:()=>S3e,PublicPolicyException:()=>m6,PublicPolicyException$:()=>w3e,PutResourcePolicy$:()=>JH,PutResourcePolicyCommand:()=>I6,PutResourcePolicyRequest$:()=>x3e,PutResourcePolicyResponse$:()=>A3e,PutSecretValue$:()=>QH,PutSecretValueCommand:()=>C6,PutSecretValueRequest$:()=>E3e,PutSecretValueResponse$:()=>R3e,RemoveRegionsFromReplication$:()=>ZH,RemoveRegionsFromReplicationCommand:()=>O6,RemoveRegionsFromReplicationRequest$:()=>T3e,RemoveRegionsFromReplicationResponse$:()=>I3e,ReplicaRegionType$:()=>C3e,ReplicateSecretToRegions$:()=>XH,ReplicateSecretToRegionsCommand:()=>N6,ReplicateSecretToRegionsRequest$:()=>O3e,ReplicateSecretToRegionsResponse$:()=>N3e,ReplicationStatusType$:()=>P3e,ResourceExistsException:()=>p6,ResourceExistsException$:()=>k3e,ResourceNotFoundException:()=>a6,ResourceNotFoundException$:()=>D3e,RestoreSecret$:()=>eW,RestoreSecretCommand:()=>P6,RestoreSecretRequest$:()=>M3e,RestoreSecretResponse$:()=>$3e,RotateSecret$:()=>tW,RotateSecretCommand:()=>k6,RotateSecretRequest$:()=>L3e,RotateSecretResponse$:()=>B3e,RotationRulesType$:()=>l9,SecretListEntry$:()=>U3e,SecretValueEntry$:()=>F3e,SecretVersionsListEntry$:()=>z3e,SecretsManager:()=>h9,SecretsManagerClient:()=>zl,SecretsManagerServiceException:()=>ki,SecretsManagerServiceException$:()=>t5e,SortByType:()=>Fft,SortOrderType:()=>zft,StatusType:()=>Uft,StopReplicationToReplica$:()=>rW,StopReplicationToReplicaCommand:()=>D6,StopReplicationToReplicaRequest$:()=>V3e,StopReplicationToReplicaResponse$:()=>j3e,Tag$:()=>q3e,TagResource$:()=>nW,TagResourceCommand:()=>M6,TagResourceRequest$:()=>H3e,UntagResource$:()=>iW,UntagResourceCommand:()=>$6,UntagResourceRequest$:()=>W3e,UpdateSecret$:()=>oW,UpdateSecretCommand:()=>L6,UpdateSecretRequest$:()=>G3e,UpdateSecretResponse$:()=>K3e,UpdateSecretVersionStage$:()=>sW,UpdateSecretVersionStageCommand:()=>B6,UpdateSecretVersionStageRequest$:()=>Y3e,UpdateSecretVersionStageResponse$:()=>J3e,ValidateResourcePolicy$:()=>aW,ValidateResourcePolicyCommand:()=>U6,ValidateResourcePolicyRequest$:()=>Q3e,ValidateResourcePolicyResponse$:()=>Z3e,ValidationErrorsEntry$:()=>X3e,__Client:()=>Pi,paginateBatchGetSecretValue:()=>IW,paginateListSecretVersionIds:()=>PW,paginateListSecrets:()=>OW});var d5e=g(()=>{"use strict";Av();i5e();o5e();_n();a5e();c5e();OH();l5e();r9()});function me(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,J))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(t).constructor;if(r)for(;r;){if(J in r&&r[J]===e[J])return!0;r=Object.getPrototypeOf(r)}return!1}var J,LRr,Ve=g(()=>{"use strict";J=Symbol.for("drizzle:entityKind"),LRr=Symbol.for("drizzle:hasOwnEntityKind")});var Ur,ap=g(()=>{"use strict";Ve();Ur=class{constructor(e,r){this.table=e,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}static[J]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}});var g9,p5e=g(()=>{"use strict";Ve();g9=class{static[J]="ColumnBuilder";config;constructor(e,r,n){this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}});var jl,y9=g(()=>{"use strict";jl=Symbol.for("drizzle:Name")});var b9,DW,MW=g(()=>{"use strict";Ve();y9();b9=class{static[J]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,r){this.reference=()=>{let{name:n,columns:i,foreignColumns:o}=e();return{name:n,columns:i,foreignTable:o[0].table,foreignColumns:o}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new DW(e,this)}},DW=class{constructor(e,r){this.table=e,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}static[J]="PgForeignKey";reference;onUpdate;onDelete;getName(){let{name:e,columns:r,foreignColumns:n}=this.reference(),i=r.map(a=>a.name),o=n.map(a=>a.name),s=[this.table[jl],...i,n[0].table[jl],...o];return e??`${s.join("_")}_fk`}}});function v9(t,...e){return t(...e)}var $W=g(()=>{"use strict"});function Rf(t){return new BW(t)}function FW(t,e){return`${t[jl]}_${e.join("_")}_unique`}var LW,BW,UW,zW=g(()=>{"use strict";Ve();y9();LW=class{constructor(e,r){this.name=r,this.columns=e}static[J]="PgUniqueConstraintBuilder";columns;nullsNotDistinctConfig=!1;nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(e){return new UW(e,this.columns,this.nullsNotDistinctConfig,this.name)}},BW=class{static[J]="PgUniqueOnConstraintBuilder";name;constructor(e){this.name=e}on(...e){return new LW(e,this.name)}},UW=class{constructor(e,r,n,i){this.table=e,this.columns=r,this.name=i??FW(this.table,this.columns.map(o=>o.name)),this.nullsNotDistinct=n}static[J]="PgUniqueConstraint";columns;name;nullsNotDistinct=!1;getName(){return this.name}}});function m5e(t,e,r){for(let n=e;n<t.length;n++){let i=t[n];if(i==="\\"){n++;continue}if(i==='"')return[t.slice(e,n).replace(/\\/g,""),n+1];if(!r&&(i===","||i==="}"))return[t.slice(e,n).replace(/\\/g,""),n]}return[t.slice(e).replace(/\\/g,""),t.length]}function f5e(t,e=0){let r=[],n=e,i=!1;for(;n<t.length;){let o=t[n];if(o===","){(i||n===e)&&r.push(""),i=!0,n++;continue}if(i=!1,o==="\\"){n+=2;continue}if(o==='"'){let[c,l]=m5e(t,n+1,!0);r.push(c),n=l;continue}if(o==="}")return[r,n+1];if(o==="{"){let[c,l]=f5e(t,n+1);r.push(c),n=l;continue}let[s,a]=m5e(t,n,!1);r.push(s),n=a}return[r,n]}function h5e(t){let[e]=f5e(t,1);return e}function VW(t){return`{${t.map(e=>Array.isArray(e)?VW(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}var jW=g(()=>{"use strict"});var nt,Fe,qW,Tv,HW,WW,ar=g(()=>{"use strict";p5e();ap();Ve();MW();$W();zW();jW();nt=class extends g9{foreignKeyConfigs=[];static[J]="PgColumnBuilder";array(e){return new HW(this.config.name,this,e)}references(e,r={}){return this.foreignKeyConfigs.push({ref:e,actions:r}),this}unique(e,r){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=r?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,r){return this.foreignKeyConfigs.map(({ref:n,actions:i})=>v9((o,s)=>{let a=new b9(()=>{let c=o();return{columns:[e],foreignColumns:[c]}});return s.onUpdate&&a.onUpdate(s.onUpdate),s.onDelete&&a.onDelete(s.onDelete),a.build(r)},n,i))}buildExtraConfigColumn(e){return new qW(e,this.config)}},Fe=class extends Ur{constructor(e,r){r.uniqueName||(r.uniqueName=FW(e,[r.name])),super(e,r),this.table=e}static[J]="PgColumn"},qW=class extends Fe{static[J]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}},Tv=class{static[J]="IndexedColumn";constructor(e,r,n,i){this.name=e,this.keyAsName=r,this.type=n,this.indexConfig=i}name;keyAsName;type;indexConfig},HW=class extends nt{static[J]="PgArrayBuilder";constructor(e,r,n){super(e,"array","PgArray"),this.config.baseBuilder=r,this.config.size=n}build(e){let r=this.config.baseBuilder.build(e);return new WW(e,this.config,r)}},WW=class t extends Fe{constructor(e,r,n,i){super(e,r),this.baseColumn=n,this.range=i,this.size=r.size}size;static[J]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(e){return typeof e=="string"&&(e=h5e(e)),e.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(e,r=!1){let n=e.map(i=>i===null?null:me(this.baseColumn,t)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return r?n:VW(n)}}});function g5e(t){return!!t&&typeof t=="function"&&_9 in t&&t[_9]===!0}function y5e(t,e,r){let n=Object.assign(i=>new YW(i??"",n),{enumName:t,enumValues:e,schema:r,[_9]:!0});return n}function b5e(t,e,r){let n=Object.assign(i=>new GW(i??"",n),{enumName:t,enumValues:Object.values(e),schema:r,[_9]:!0});return n}var GW,KW,_9,YW,JW,S9=g(()=>{"use strict";Ve();ar();GW=class extends nt{static[J]="PgEnumObjectColumnBuilder";constructor(e,r){super(e,"string","PgEnumObjectColumn"),this.config.enum=r}build(e){return new KW(e,this.config)}},KW=class extends Fe{static[J]="PgEnumObjectColumn";enum;enumValues=this.config.enum.enumValues;constructor(e,r){super(e,r),this.enum=r.enum}getSQLType(){return this.enum.enumName}},_9=Symbol.for("drizzle:isPgEnum");YW=class extends nt{static[J]="PgEnumColumnBuilder";constructor(e,r){super(e,"string","PgEnumColumn"),this.config.enum=r}build(e){return new JW(e,this.config)}},JW=class extends Fe{static[J]="PgEnumColumn";enum=this.config.enum;enumValues=this.config.enum.enumValues;constructor(e,r){super(e,r),this.enum=r.enum}getSQLType(){return this.enum.enumName}}});var Sn,Iv,Lu=g(()=>{"use strict";Ve();Sn=class{static[J]="Subquery";constructor(e,r,n,i=!1,o=[]){this._={brand:"Subquery",sql:e,selectedFields:r,alias:n,isWith:i,usedTables:o}}},Iv=class extends Sn{static[J]="WithSubquery"}});var v5e,_5e=g(()=>{"use strict";v5e="0.45.1"});var QW,ZW,en,cp=g(()=>{"use strict";$W();_5e();en={startActiveSpan(t,e){return QW?(ZW||(ZW=QW.trace.getTracer("drizzle-orm",v5e)),v9((r,n)=>n.startActiveSpan(t,i=>{try{return e(i)}catch(o){throw i.setStatus({code:r.SpanStatusCode.ERROR,message:o instanceof Error?o.message:"Unknown error"}),o}finally{i.end()}}),QW,ZW)):e()}}});var pn,Tf=g(()=>{"use strict";pn=Symbol.for("drizzle:ViewBaseConfig")});function Zs(t){return t[jl]}function b0(t){return`${t[y0]??"public"}.${t[jl]}`}var y0,w9,S5e,XW,eG,F6,w5e,Hft,qe,Xs=g(()=>{"use strict";Ve();y9();y0=Symbol.for("drizzle:Schema"),w9=Symbol.for("drizzle:Columns"),S5e=Symbol.for("drizzle:ExtraConfigColumns"),XW=Symbol.for("drizzle:OriginalName"),eG=Symbol.for("drizzle:BaseName"),F6=Symbol.for("drizzle:IsAlias"),w5e=Symbol.for("drizzle:ExtraConfigBuilder"),Hft=Symbol.for("drizzle:IsDrizzleTable"),qe=class{static[J]="Table";static Symbol={Name:jl,Schema:y0,OriginalName:XW,Columns:w9,ExtraConfigColumns:S5e,BaseName:eG,IsAlias:F6,ExtraConfigBuilder:w5e};[jl];[XW];[y0];[w9];[S5e];[eG];[F6]=!1;[Hft]=!0;[w5e]=void 0;constructor(e,r,n){this[jl]=this[XW]=e,this[y0]=r,this[eG]=n}}});function tG(t){return t!=null&&typeof t.getSQL=="function"}function Wft(t){let e={sql:"",params:[]};for(let r of t)e.sql+=r.sql,e.params.push(...r.params),r.typings?.length&&(e.typings||(e.typings=[]),e.typings.push(...r.typings));return e}function A5e(t){return typeof t=="object"&&t!==null&&"mapToDriverValue"in t&&typeof t.mapToDriverValue=="function"}function Z(t,...e){let r=[];(e.length>0||t.length>0&&t[0]!=="")&&r.push(new wi(t[0]));for(let[n,i]of e.entries())r.push(i,new wi(t[n+1]));return new Qe(r)}function v0(t,e){return t.map(r=>{if(me(r,lp)){if(!(r.name in e))throw new Error(`No value for placeholder "${r.name}" was provided`);return e[r.name]}if(me(r,ea)&&me(r.value,lp)){if(!(r.value.name in e))throw new Error(`No value for placeholder "${r.value.name}" was provided`);return r.encoder.mapToDriverValue(e[r.value.name])}return r})}var x5e,wi,Qe,z6,E5e,R5e,RTr,ea,lp,Gft,ms,Yn=g(()=>{"use strict";Ve();S9();Lu();cp();Tf();ap();Xs();x5e=class{static[J]="FakePrimitiveParam"};wi=class{static[J]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new Qe([this])}},Qe=class t{constructor(e){this.queryChunks=e;for(let r of e)if(me(r,qe)){let n=r[qe.Symbol.Schema];this.usedTables.push(n===void 0?r[qe.Symbol.Name]:n+"."+r[qe.Symbol.Name])}}static[J]="SQL";decoder=E5e;shouldInlineParams=!1;usedTables=[];append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return en.startActiveSpan("drizzle.buildSQL",r=>{let n=this.buildQueryFromSourceParams(this.queryChunks,e);return r?.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(e,r){let n=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:i,escapeName:o,escapeParam:s,prepareTyping:a,inlineParams:c,paramStartIndex:l}=n;return Wft(e.map(u=>{if(me(u,wi))return{sql:u.value.join(""),params:[]};if(me(u,z6))return{sql:o(u.value),params:[]};if(u===void 0)return{sql:"",params:[]};if(Array.isArray(u)){let d=[new wi("(")];for(let[p,m]of u.entries())d.push(m),p<u.length-1&&d.push(new wi(", "));return d.push(new wi(")")),this.buildQueryFromSourceParams(d,n)}if(me(u,t))return this.buildQueryFromSourceParams(u.queryChunks,{...n,inlineParams:c||u.shouldInlineParams});if(me(u,qe)){let d=u[qe.Symbol.Schema],p=u[qe.Symbol.Name];return{sql:d===void 0||u[F6]?o(p):o(d)+"."+o(p),params:[]}}if(me(u,Ur)){let d=i.getColumnCasing(u);if(r.invokeSource==="indexes")return{sql:o(d),params:[]};let p=u.table[qe.Symbol.Schema];return{sql:u.table[F6]||p===void 0?o(u.table[qe.Symbol.Name])+"."+o(d):o(p)+"."+o(u.table[qe.Symbol.Name])+"."+o(d),params:[]}}if(me(u,ms)){let d=u[pn].schema,p=u[pn].name;return{sql:d===void 0||u[pn].isAlias?o(p):o(d)+"."+o(p),params:[]}}if(me(u,ea)){if(me(u.value,lp))return{sql:s(l.value++,u),params:[u],typings:["none"]};let d=u.value===null?null:u.encoder.mapToDriverValue(u.value);if(me(d,t))return this.buildQueryFromSourceParams([d],n);if(c)return{sql:this.mapInlineParam(d,n),params:[]};let p=["none"];return a&&(p=[a(u.encoder)]),{sql:s(l.value++,d),params:[d],typings:p}}return me(u,lp)?{sql:s(l.value++,u),params:[u],typings:["none"]}:me(u,t.Aliased)&&u.fieldAlias!==void 0?{sql:o(u.fieldAlias),params:[]}:me(u,Sn)?u._.isWith?{sql:o(u._.alias),params:[]}:this.buildQueryFromSourceParams([new wi("("),u._.sql,new wi(") "),new z6(u._.alias)],n):g5e(u)?u.schema?{sql:o(u.schema)+"."+o(u.enumName),params:[]}:{sql:o(u.enumName),params:[]}:tG(u)?u.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([u.getSQL()],n):this.buildQueryFromSourceParams([new wi("("),u.getSQL(),new wi(")")],n):c?{sql:this.mapInlineParam(u,n),params:[]}:{sql:s(l.value++,u),params:[u],typings:["none"]}}))}mapInlineParam(e,{escapeString:r}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return r(e);if(typeof e=="object"){let n=e.toString();return r(n==="[object Object]"?JSON.stringify(e):n)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new t.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}},z6=class{constructor(e){this.value=e}static[J]="Name";brand;getSQL(){return new Qe([this])}};E5e={mapFromDriverValue:t=>t},R5e={mapToDriverValue:t=>t},RTr={...E5e,...R5e},ea=class{constructor(e,r=R5e){this.value=e,this.encoder=r}static[J]="Param";brand;getSQL(){return new Qe([this])}};(t=>{function e(){return new Qe([])}t.empty=e;function r(c){return new Qe(c)}t.fromList=r;function n(c){return new Qe([new wi(c)])}t.raw=n;function i(c,l){let u=[];for(let[d,p]of c.entries())d>0&&l!==void 0&&u.push(l),u.push(p);return new Qe(u)}t.join=i;function o(c){return new z6(c)}t.identifier=o;function s(c){return new lp(c)}t.placeholder=s;function a(c,l){return new ea(c,l)}t.param=a})(Z||(Z={}));(t=>{class e{constructor(n,i){this.sql=n,this.fieldAlias=i}static[J]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new e(this.sql,this.fieldAlias)}}t.Aliased=e})(Qe||(Qe={}));lp=class{constructor(e){this.name=e}static[J]="Placeholder";getSQL(){return new Qe([this])}};Gft=Symbol.for("drizzle:IsDrizzleView"),ms=class{static[J]="View";[pn];[Gft]=!0;constructor({name:e,schema:r,selectedFields:n,query:i}){this[pn]={name:e,originalName:e,schema:r,selectedFields:n,query:i,isExisting:!i,isAlias:!1}}getSQL(){return new Qe([this])}};Ur.prototype.getSQL=function(){return new Qe([this])};qe.prototype.getSQL=function(){return new Qe([this])};Sn.prototype.getSQL=function(){return new Qe([this])}});function V6(t,e){return new Proxy(t,new Cv(e,!1))}function Bu(t,e){return new Proxy(t,new _0(new Proxy(t.table,new Cv(e,!1))))}function rG(t,e){return new Qe.Aliased(j6(t.sql,e),t.fieldAlias)}function j6(t,e){return Z.join(t.queryChunks.map(r=>me(r,Ur)?Bu(r,e):me(r,Qe)?j6(r,e):me(r,Qe.Aliased)?rG(r,e):r))}var _0,Cv,T5e,nG=g(()=>{"use strict";ap();Ve();Yn();Xs();Tf();_0=class{constructor(e){this.table=e}static[J]="ColumnAliasProxyHandler";get(e,r){return r==="table"?this.table:e[r]}},Cv=class{constructor(e,r){this.alias=e,this.replaceOriginalName=r}static[J]="TableAliasProxyHandler";get(e,r){if(r===qe.Symbol.IsAlias)return!0;if(r===qe.Symbol.Name)return this.alias;if(this.replaceOriginalName&&r===qe.Symbol.OriginalName)return this.alias;if(r===pn)return{...e[pn],name:this.alias,isAlias:!0};if(r===qe.Symbol.Columns){let i=e[qe.Symbol.Columns];if(!i)return i;let o={};return Object.keys(i).map(s=>{o[s]=new Proxy(i[s],new _0(new Proxy(e,this)))}),o}let n=e[r];return me(n,Ur)?new Proxy(n,new _0(new Proxy(e,this))):n}},T5e=class{constructor(e){this.alias=e}static[J]="RelationTableAliasProxyHandler";get(e,r){return r==="sourceTable"?V6(e.sourceTable,this.alias):e[r]}}});var I5e=g(()=>{"use strict"});var C5e,iG,O5e=g(()=>{"use strict";Ve();C5e=class{constructor(e,r){this.name=e,this.value=r}static[J]="PgCheckBuilder";brand;build(e){return new iG(e,this)}},iG=class{constructor(e,r){this.table=e,this.name=r.name,this.value=r.value}static[J]="PgCheck";name;value}});function x9(t,e,r){let n={},i=t.reduce((o,{path:s,field:a},c)=>{let l;me(a,Ur)?l=a:me(a,Qe)?l=a.decoder:me(a,Sn)?l=a._.sql.decoder:l=a.sql.decoder;let u=o;for(let[d,p]of s.entries())if(d<s.length-1)p in u||(u[p]={}),u=u[p];else{let m=e[c],h=u[p]=m===null?null:l.mapFromDriverValue(m);if(r&&me(a,Ur)&&s.length===2){let f=s[0];f in n?typeof n[f]=="string"&&n[f]!==Zs(a.table)&&(n[f]=!1):n[f]=h===null?Zs(a.table):!1}}return o},{});if(r&&Object.keys(n).length>0)for(let[o,s]of Object.entries(n))typeof s=="string"&&!r[s]&&(i[o]=null);return i}function Zc(t,e){return Object.entries(t).reduce((r,[n,i])=>{if(typeof n!="string")return r;let o=e?[...e,n]:[n];return me(i,Ur)||me(i,Qe)||me(i,Qe.Aliased)||me(i,Sn)?r.push({path:o,field:i}):me(i,qe)?r.push(...Zc(i[qe.Symbol.Columns],o)):r.push(...Zc(i,o)),r},[])}function q6(t,e){let r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let[i,o]of r.entries())if(o!==n[i])return!1;return!0}function A9(t,e){let r=Object.entries(e).filter(([,n])=>n!==void 0).map(([n,i])=>me(i,Qe)||me(i,Ur)?[n,i]:[n,new ea(i,t[qe.Symbol.Columns][n])]);if(r.length===0)throw new Error("No values to set");return Object.fromEntries(r)}function N5e(t,e){for(let r of e)for(let n of Object.getOwnPropertyNames(r.prototype))n!=="constructor"&&Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(r.prototype,n)||Object.create(null))}function H6(t){return t[qe.Symbol.Columns]}function up(t){return me(t,Sn)?t._.alias:me(t,ms)?t[pn].name:me(t,Qe)?void 0:t[qe.Symbol.IsAlias]?t[qe.Symbol.Name]:t[qe.Symbol.BaseName]}function ur(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}function E9(t){if(typeof t!="object"||t===null||t.constructor.name!=="Object")return!1;if("logger"in t){let e=typeof t.logger;return!(e!=="boolean"&&(e!=="object"||typeof t.logger.logQuery!="function")&&e!=="undefined")}if("schema"in t){let e=typeof t.schema;return!(e!=="object"&&e!=="undefined")}if("casing"in t){let e=typeof t.casing;return!(e!=="string"&&e!=="undefined")}if("mode"in t)return!(t.mode!=="default"||t.mode!=="planetscale"||t.mode!==void 0);if("connection"in t){let e=typeof t.connection;return!(e!=="string"&&e!=="object"&&e!=="undefined")}if("client"in t){let e=typeof t.client;return!(e!=="object"&&e!=="function"&&e!=="undefined")}return Object.keys(t).length===0}var jTr,$r=g(()=>{"use strict";ap();Ve();Yn();Lu();Xs();Tf();jTr=typeof TextDecoder>"u"?null:new TextDecoder});var dp,W6=g(()=>{"use strict";Ve();ar();dp=class extends nt{static[J]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(e){if(e){let{name:r,...n}=e;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){let{name:r,...n}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}});function P5e(t,e){let{name:r,config:n}=ur(t,e);return n.mode==="number"?new oG(r):new aG(r)}var oG,sG,aG,cG,lG=g(()=>{"use strict";Ve();$r();ar();W6();oG=class extends dp{static[J]="PgBigInt53Builder";constructor(e){super(e,"number","PgBigInt53")}build(e){return new sG(e,this.config)}},sG=class extends Fe{static[J]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}},aG=class extends dp{static[J]="PgBigInt64Builder";constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new cG(e,this.config)}},cG=class extends Fe{static[J]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}});function k5e(t,e){let{name:r,config:n}=ur(t,e);return n.mode==="number"?new uG(r):new pG(r)}var uG,dG,pG,mG,fG=g(()=>{"use strict";Ve();$r();ar();uG=class extends nt{static[J]="PgBigSerial53Builder";constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new dG(e,this.config)}},dG=class extends Fe{static[J]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}},pG=class extends nt{static[J]="PgBigSerial64Builder";constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new mG(e,this.config)}},mG=class extends Fe{static[J]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}});function Mi(t){return new hG(t??"")}var hG,gG,yG=g(()=>{"use strict";Ve();ar();hG=class extends nt{static[J]="PgBooleanBuilder";constructor(e){super(e,"boolean","PgBoolean")}build(e){return new gG(e,this.config)}},gG=class extends Fe{static[J]="PgBoolean";getSQLType(){return"boolean"}}});function D5e(t,e={}){let{name:r,config:n}=ur(t,e);return new bG(r,n)}var bG,vG,_G=g(()=>{"use strict";Ve();$r();ar();bG=class extends nt{static[J]="PgCharBuilder";constructor(e,r){super(e,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new vG(e,this.config)}},vG=class extends Fe{static[J]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}});function M5e(t){return new SG(t??"")}var SG,wG,xG=g(()=>{"use strict";Ve();ar();SG=class extends nt{static[J]="PgCidrBuilder";constructor(e){super(e,"string","PgCidr")}build(e){return new wG(e,this.config)}},wG=class extends Fe{static[J]="PgCidr";getSQLType(){return"cidr"}}});function $5e(t){return(e,r)=>{let{name:n,config:i}=ur(e,r);return new AG(n,i,t)}}var AG,EG,RG=g(()=>{"use strict";Ve();$r();ar();AG=class extends nt{static[J]="PgCustomColumnBuilder";constructor(e,r,n){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=n}build(e){return new EG(e,this.config)}},EG=class extends Fe{static[J]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(e,r){super(e,r),this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return typeof this.mapFrom=="function"?this.mapFrom(e):e}mapToDriverValue(e){return typeof this.mapTo=="function"?this.mapTo(e):e}}});var Uu,R9=g(()=>{"use strict";Ve();Yn();ar();Uu=class extends nt{static[J]="PgDateColumnBaseBuilder";defaultNow(){return this.default(Z`now()`)}}});function L5e(t,e){let{name:r,config:n}=ur(t,e);return n?.mode==="date"?new TG(r):new IG(r)}var TG,G6,IG,K6,CG=g(()=>{"use strict";Ve();$r();ar();R9();TG=class extends Uu{static[J]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new G6(e,this.config)}},G6=class extends Fe{static[J]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return typeof e=="string"?new Date(e):e}mapToDriverValue(e){return e.toISOString()}},IG=class extends Uu{static[J]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new K6(e,this.config)}},K6=class extends Fe{static[J]="PgDateString";getSQLType(){return"date"}mapFromDriverValue(e){return typeof e=="string"?e:e.toISOString().slice(0,-14)}}});function B5e(t){return new OG(t??"")}var OG,NG,PG=g(()=>{"use strict";Ve();ar();OG=class extends nt{static[J]="PgDoublePrecisionBuilder";constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new NG(e,this.config)}},NG=class extends Fe{static[J]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}});function U5e(t){return new kG(t??"")}var kG,DG,MG=g(()=>{"use strict";Ve();ar();kG=class extends nt{static[J]="PgInetBuilder";constructor(e){super(e,"string","PgInet")}build(e){return new DG(e,this.config)}},DG=class extends Fe{static[J]="PgInet";getSQLType(){return"inet"}}});function pt(t){return new $G(t??"")}var $G,LG,BG=g(()=>{"use strict";Ve();ar();W6();$G=class extends dp{static[J]="PgIntegerBuilder";constructor(e){super(e,"number","PgInteger")}build(e){return new LG(e,this.config)}},LG=class extends Fe{static[J]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}});function F5e(t,e={}){let{name:r,config:n}=ur(t,e);return new UG(r,n)}var UG,FG,zG=g(()=>{"use strict";Ve();$r();ar();UG=class extends nt{static[J]="PgIntervalBuilder";constructor(e,r){super(e,"string","PgInterval"),this.config.intervalConfig=r}build(e){return new FG(e,this.config)}},FG=class extends Fe{static[J]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){let e=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${e}${r}`}}});function z5e(t){return new VG(t??"")}var VG,Y6,jG=g(()=>{"use strict";Ve();ar();VG=class extends nt{static[J]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new Y6(e,this.config)}},Y6=class extends Fe{static[J]="PgJson";constructor(e,r){super(e,r)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}});function Un(t){return new qG(t??"")}var qG,J6,HG=g(()=>{"use strict";Ve();ar();qG=class extends nt{static[J]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new J6(e,this.config)}},J6=class extends Fe{static[J]="PgJsonb";constructor(e,r){super(e,r)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}});function V5e(t,e){let{name:r,config:n}=ur(t,e);return!n?.mode||n.mode==="tuple"?new WG(r):new KG(r)}var WG,GG,KG,YG,JG=g(()=>{"use strict";Ve();$r();ar();WG=class extends nt{static[J]="PgLineBuilder";constructor(e){super(e,"array","PgLine")}build(e){return new GG(e,this.config)}},GG=class extends Fe{static[J]="PgLine";getSQLType(){return"line"}mapFromDriverValue(e){let[r,n,i]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n),Number.parseFloat(i)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}},KG=class extends nt{static[J]="PgLineABCBuilder";constructor(e){super(e,"json","PgLineABC")}build(e){return new YG(e,this.config)}},YG=class extends Fe{static[J]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(e){let[r,n,i]=e.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(n),c:Number.parseFloat(i)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}});function j5e(t){return new QG(t??"")}var QG,ZG,XG=g(()=>{"use strict";Ve();ar();QG=class extends nt{static[J]="PgMacaddrBuilder";constructor(e){super(e,"string","PgMacaddr")}build(e){return new ZG(e,this.config)}},ZG=class extends Fe{static[J]="PgMacaddr";getSQLType(){return"macaddr"}}});function q5e(t){return new eK(t??"")}var eK,tK,rK=g(()=>{"use strict";Ve();ar();eK=class extends nt{static[J]="PgMacaddr8Builder";constructor(e){super(e,"string","PgMacaddr8")}build(e){return new tK(e,this.config)}},tK=class extends Fe{static[J]="PgMacaddr8";getSQLType(){return"macaddr8"}}});function It(t,e){let{name:r,config:n}=ur(t,e),i=n?.mode;return i==="number"?new iK(r,n?.precision,n?.scale):i==="bigint"?new sK(r,n?.precision,n?.scale):new nK(r,n?.precision,n?.scale)}var nK,Q6,iK,oK,sK,aK,cK=g(()=>{"use strict";Ve();$r();ar();nK=class extends nt{static[J]="PgNumericBuilder";constructor(e,r,n){super(e,"string","PgNumeric"),this.config.precision=r,this.config.scale=n}build(e){return new Q6(e,this.config)}},Q6=class extends Fe{static[J]="PgNumeric";precision;scale;constructor(e,r){super(e,r),this.precision=r.precision,this.scale=r.scale}mapFromDriverValue(e){return typeof e=="string"?e:String(e)}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}},iK=class extends nt{static[J]="PgNumericNumberBuilder";constructor(e,r,n){super(e,"number","PgNumericNumber"),this.config.precision=r,this.config.scale=n}build(e){return new oK(e,this.config)}},oK=class extends Fe{static[J]="PgNumericNumber";precision;scale;constructor(e,r){super(e,r),this.precision=r.precision,this.scale=r.scale}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}mapToDriverValue=String;getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}},sK=class extends nt{static[J]="PgNumericBigIntBuilder";constructor(e,r,n){super(e,"bigint","PgNumericBigInt"),this.config.precision=r,this.config.scale=n}build(e){return new aK(e,this.config)}},aK=class extends Fe{static[J]="PgNumericBigInt";precision;scale;constructor(e,r){super(e,r),this.precision=r.precision,this.scale=r.scale}mapFromDriverValue=BigInt;mapToDriverValue=String;getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}});function H5e(t,e){let{name:r,config:n}=ur(t,e);return!n?.mode||n.mode==="tuple"?new lK(r):new dK(r)}var lK,uK,dK,pK,mK=g(()=>{"use strict";Ve();$r();ar();lK=class extends nt{static[J]="PgPointTupleBuilder";constructor(e){super(e,"array","PgPointTuple")}build(e){return new uK(e,this.config)}},uK=class extends Fe{static[J]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){let[r,n]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}},dK=class extends nt{static[J]="PgPointObjectBuilder";constructor(e){super(e,"json","PgPointObject")}build(e){return new pK(e,this.config)}},pK=class extends Fe{static[J]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){let[r,n]=e.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(n)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}});function Kft(t){let e=[];for(let r=0;r<t.length;r+=2)e.push(Number.parseInt(t.slice(r,r+2),16));return new Uint8Array(e)}function W5e(t,e){let r=new ArrayBuffer(8),n=new DataView(r);for(let i=0;i<8;i++)n.setUint8(i,t[e+i]);return n.getFloat64(0,!0)}function fK(t){let e=Kft(t),r=0,n=e[r];r+=1;let i=new DataView(e.buffer),o=i.getUint32(r,n===1);r+=4;let s;if(o&536870912&&(s=i.getUint32(r,n===1),r+=4),(o&65535)===1){let a=W5e(e,r);r+=8;let c=W5e(e,r);return r+=8,[a,c]}throw new Error("Unsupported geometry type")}var G5e=g(()=>{"use strict"});function K5e(t,e){let{name:r,config:n}=ur(t,e);return!n?.mode||n.mode==="tuple"?new hK(r):new yK(r)}var hK,gK,yK,bK,vK=g(()=>{"use strict";Ve();$r();ar();G5e();hK=class extends nt{static[J]="PgGeometryBuilder";constructor(e){super(e,"array","PgGeometry")}build(e){return new gK(e,this.config)}},gK=class extends Fe{static[J]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return fK(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}},yK=class extends nt{static[J]="PgGeometryObjectBuilder";constructor(e){super(e,"json","PgGeometryObject")}build(e){return new bK(e,this.config)}},bK=class extends Fe{static[J]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){let r=fK(e);return{x:r[0],y:r[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}});function Wr(t){return new _K(t??"")}var _K,SK,wK=g(()=>{"use strict";Ve();ar();_K=class extends nt{static[J]="PgRealBuilder";constructor(e,r){super(e,"number","PgReal"),this.config.length=r}build(e){return new SK(e,this.config)}},SK=class extends Fe{static[J]="PgReal";constructor(e,r){super(e,r)}getSQLType(){return"real"}mapFromDriverValue=e=>typeof e=="string"?Number.parseFloat(e):e}});function Y5e(t){return new xK(t??"")}var xK,AK,EK=g(()=>{"use strict";Ve();ar();xK=class extends nt{static[J]="PgSerialBuilder";constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new AK(e,this.config)}},AK=class extends Fe{static[J]="PgSerial";getSQLType(){return"serial"}}});function J5e(t){return new RK(t??"")}var RK,TK,IK=g(()=>{"use strict";Ve();ar();W6();RK=class extends dp{static[J]="PgSmallIntBuilder";constructor(e){super(e,"number","PgSmallInt")}build(e){return new TK(e,this.config)}},TK=class extends Fe{static[J]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=e=>typeof e=="string"?Number(e):e}});function Q5e(t){return new CK(t??"")}var CK,OK,NK=g(()=>{"use strict";Ve();ar();CK=class extends nt{static[J]="PgSmallSerialBuilder";constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new OK(e,this.config)}},OK=class extends Fe{static[J]="PgSmallSerial";getSQLType(){return"smallserial"}}});function ue(t,e={}){let{name:r,config:n}=ur(t,e);return new PK(r,n)}var PK,kK,DK=g(()=>{"use strict";Ve();$r();ar();PK=class extends nt{static[J]="PgTextBuilder";constructor(e,r){super(e,"string","PgText"),this.config.enumValues=r.enum}build(e){return new kK(e,this.config)}},kK=class extends Fe{static[J]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}});function Z5e(t,e={}){let{name:r,config:n}=ur(t,e);return new MK(r,n.withTimezone??!1,n.precision)}var MK,Z6,$K=g(()=>{"use strict";Ve();$r();ar();R9();MK=class extends Uu{constructor(e,r,n){super(e,"string","PgTime"),this.withTimezone=r,this.precision=n,this.config.withTimezone=r,this.config.precision=n}static[J]="PgTimeBuilder";build(e){return new Z6(e,this.config)}},Z6=class extends Fe{static[J]="PgTime";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}});function At(t,e={}){let{name:r,config:n}=ur(t,e);return n?.mode==="string"?new BK(r,n.withTimezone??!1,n.precision):new LK(r,n?.withTimezone??!1,n?.precision)}var LK,X6,BK,e4,UK=g(()=>{"use strict";Ve();$r();ar();R9();LK=class extends Uu{static[J]="PgTimestampBuilder";constructor(e,r,n){super(e,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=n}build(e){return new X6(e,this.config)}},X6=class extends Fe{static[J]="PgTimestamp";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue(e){return typeof e=="string"?new Date(this.withTimezone?e:e+"+0000"):e}mapToDriverValue=e=>e.toISOString()},BK=class extends Uu{static[J]="PgTimestampStringBuilder";constructor(e,r,n){super(e,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=n}build(e){return new e4(e,this.config)}},e4=class extends Fe{static[J]="PgTimestampString";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue(e){if(typeof e=="string")return e;let r=e.toISOString().slice(0,-1).replace("T"," ");if(this.withTimezone){let n=e.getTimezoneOffset(),i=n<=0?"+":"-";return`${r}${i}${Math.floor(Math.abs(n)/60).toString().padStart(2,"0")}`}return r}}});function X5e(t){return new FK(t??"")}var FK,t4,zK=g(()=>{"use strict";Ve();Yn();ar();FK=class extends nt{static[J]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(Z`gen_random_uuid()`)}build(e){return new t4(e,this.config)}},t4=class extends Fe{static[J]="PgUUID";getSQLType(){return"uuid"}}});function eRe(t,e={}){let{name:r,config:n}=ur(t,e);return new VK(r,n)}var VK,jK,qK=g(()=>{"use strict";Ve();$r();ar();VK=class extends nt{static[J]="PgVarcharBuilder";constructor(e,r){super(e,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new jK(e,this.config)}},jK=class extends Fe{static[J]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}});function tRe(t,e){let{name:r,config:n}=ur(t,e);return new HK(r,n)}var HK,WK,GK=g(()=>{"use strict";Ve();$r();ar();HK=class extends nt{static[J]="PgBinaryVectorBuilder";constructor(e,r){super(e,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(e){return new WK(e,this.config)}},WK=class extends Fe{static[J]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}});function rRe(t,e){let{name:r,config:n}=ur(t,e);return new KK(r,n)}var KK,YK,JK=g(()=>{"use strict";Ve();$r();ar();KK=class extends nt{static[J]="PgHalfVectorBuilder";constructor(e,r){super(e,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(e){return new YK(e,this.config)}},YK=class extends Fe{static[J]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}});function nRe(t,e){let{name:r,config:n}=ur(t,e);return new QK(r,n)}var QK,ZK,XK=g(()=>{"use strict";Ve();$r();ar();QK=class extends nt{static[J]="PgSparseVectorBuilder";constructor(e,r){super(e,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(e){return new ZK(e,this.config)}},ZK=class extends Fe{static[J]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}});function iRe(t,e){let{name:r,config:n}=ur(t,e);return new eY(r,n)}var eY,tY,rY=g(()=>{"use strict";Ve();$r();ar();eY=class extends nt{static[J]="PgVectorBuilder";constructor(e,r){super(e,"array","PgVector"),this.config.dimensions=r.dimensions}build(e){return new tY(e,this.config)}},tY=class extends Fe{static[J]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}});var T9=g(()=>{"use strict";lG();fG();yG();_G();xG();ar();RG();CG();PG();S9();MG();W6();BG();zG();jG();HG();JG();XG();rK();cK();mK();vK();wK();EK();IK();NK();DK();$K();UK();zK();qK();GK();JK();XK();rY()});var jo,If=g(()=>{"use strict";Ve();jo=class{static[J]="QueryPromise";[Symbol.toStringTag]="QueryPromise";catch(e){return this.then(void 0,e)}finally(e){return this.then(r=>(e?.(),r),r=>{throw e?.(),r})}then(e,r){return this.execute().then(e,r)}}});var Fr,Cf=g(()=>{"use strict";nG();ap();Ve();Yn();Lu();Tf();Fr=class t{static[J]="SelectionProxyHandler";config;constructor(e){this.config={...e}}get(e,r){if(r==="_")return{...e._,selectedFields:new Proxy(e._.selectedFields,this)};if(r===pn)return{...e[pn],selectedFields:new Proxy(e[pn].selectedFields,this)};if(typeof r=="symbol")return e[r];let i=(me(e,Sn)?e._.selectedFields:me(e,ms)?e[pn].selectedFields:e)[r];if(me(i,Qe.Aliased)){if(this.config.sqlAliasedBehavior==="sql"&&!i.isSelectionField)return i.sql;let o=i.clone();return o.isSelectionField=!0,o}if(me(i,Qe)){if(this.config.sqlBehavior==="sql")return i;throw new Error(`You tried to reference "${r}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`)}return me(i,Ur)?this.config.alias?new Proxy(i,new _0(new Proxy(i.table,new Cv(this.config.alias,this.config.replaceOriginalName??!1)))):i:typeof i!="object"||i===null?i:new Proxy(i,new t(this.config))}}});function oRe(){return{bigint:P5e,bigserial:k5e,boolean:Mi,char:D5e,cidr:M5e,customType:$5e,date:L5e,doublePrecision:B5e,inet:U5e,integer:pt,interval:F5e,json:z5e,jsonb:Un,line:V5e,macaddr:j5e,macaddr8:q5e,numeric:It,point:H5e,geometry:K5e,real:Wr,serial:Y5e,smallint:J5e,smallserial:Q5e,text:ue,time:Z5e,timestamp:At,uuid:X5e,varchar:eRe,bit:tRe,halfvec:rRe,sparsevec:nRe,vector:iRe}}var sRe=g(()=>{"use strict";lG();fG();yG();_G();xG();RG();CG();PG();MG();BG();zG();jG();HG();JG();XG();rK();cK();mK();vK();wK();EK();IK();NK();DK();$K();UK();zK();qK();GK();JK();XK();rY()});function iY(t,e,r,n,i=t){let o=new xi(t,n,i),s=typeof e=="function"?e(oRe()):e,a=Object.fromEntries(Object.entries(s).map(([u,d])=>{let p=d;p.setName(u);let m=p.build(o);return o[nY].push(...p.buildForeignKeys(m,o)),[u,m]})),c=Object.fromEntries(Object.entries(s).map(([u,d])=>{let p=d;p.setName(u);let m=p.buildExtraConfigColumn(o);return[u,m]})),l=Object.assign(o,a);return l[qe.Symbol.Columns]=a,l[qe.Symbol.ExtraConfigColumns]=c,r&&(l[xi.Symbol.ExtraConfigBuilder]=r),Object.assign(l,{enableRLS:()=>(l[xi.Symbol.EnableRLS]=!0,l)})}var nY,aRe,xi,Ft,Of=g(()=>{"use strict";Ve();Xs();sRe();nY=Symbol.for("drizzle:PgInlineForeignKeys"),aRe=Symbol.for("drizzle:EnableRLS"),xi=class extends qe{static[J]="PgTable";static Symbol=Object.assign({},qe.Symbol,{InlineForeignKeys:nY,EnableRLS:aRe});[nY]=[];[aRe]=!1;[qe.Symbol.ExtraConfigBuilder]=void 0;[qe.Symbol.ExtraConfigColumns]={}};Ft=(t,e,r)=>iY(t,e,r,void 0)});var cRe,r4,oY,lRe=g(()=>{"use strict";Yn();Ve();T9();cRe=class{constructor(e,r){this.unique=e,this.name=r}static[J]="PgIndexBuilderOn";on(...e){return new r4(e.map(r=>{if(me(r,Qe))return r;r=r;let n=new Tv(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=JSON.parse(JSON.stringify(r.defaultConfig)),n}),this.unique,!1,this.name)}onOnly(...e){return new r4(e.map(r=>{if(me(r,Qe))return r;r=r;let n=new Tv(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=r.defaultConfig,n}),this.unique,!0,this.name)}using(e,...r){return new r4(r.map(n=>{if(me(n,Qe))return n;n=n;let i=new Tv(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=JSON.parse(JSON.stringify(n.defaultConfig)),i}),this.unique,!0,this.name,e)}},r4=class{static[J]="PgIndexBuilder";config;constructor(e,r,n,i,o="btree"){this.config={name:i,columns:e,unique:r,only:n,method:o}}concurrently(){return this.config.concurrently=!0,this}with(e){return this.config.with=e,this}where(e){return this.config.where=e,this}build(e){return new oY(this.config,e)}},oY=class{static[J]="PgIndex";config;constructor(e,r){this.config={...e,table:r}}}});var uRe,dRe=g(()=>{"use strict";Ve();uRe=class{constructor(e,r){this.name=e,r&&(this.as=r.as,this.for=r.for,this.to=r.to,this.using=r.using,this.withCheck=r.withCheck)}static[J]="PgPolicy";as;for;to;using;withCheck;_linkedTable;link(e){return this._linkedTable=e,this}}});var I9,sY,aY=g(()=>{"use strict";Ve();Of();I9=class{static[J]="PgPrimaryKeyBuilder";columns;name;constructor(e,r){this.columns=e,this.name=r}build(e){return new sY(e,this.columns,this.name)}},sY=class{constructor(e,r,n){this.table=e,this.columns=r,this.name=n}static[J]="PgPrimaryKey";columns;name;getName(){return this.name??`${this.table[xi.Symbol.Name]}_${this.columns.map(e=>e.name).join("_")}_pk`}}});var cY,lY=g(()=>{"use strict";cY=Symbol.for("drizzle:PgViewConfig")});function Yft(t){return(t.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).map(r=>r.toLowerCase()).join("_")}function Jft(t){return(t.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).reduce((r,n,i)=>{let o=i===0?n.toLowerCase():`${n[0].toUpperCase()}${n.slice(1)}`;return r+o},"")}function Qft(t){return t}var C9,pRe=g(()=>{"use strict";Ve();Xs();C9=class{static[J]="CasingCache";cache={};cachedTables={};convert;constructor(e){this.convert=e==="snake_case"?Yft:e==="camelCase"?Jft:Qft}getColumnCasing(e){if(!e.keyAsName)return e.name;let r=e.table[qe.Symbol.Schema]??"public",n=e.table[qe.Symbol.OriginalName],i=`${r}.${n}.${e.name}`;return this.cache[i]||this.cacheTable(e.table),this.cache[i]}cacheTable(e){let r=e[qe.Symbol.Schema]??"public",n=e[qe.Symbol.OriginalName],i=`${r}.${n}`;if(!this.cachedTables[i]){for(let o of Object.values(e[qe.Symbol.Columns])){let s=`${i}.${o.name}`;this.cache[s]=this.convert(o.name)}this.cachedTables[i]=!0}}clearCache(){this.cache={},this.cachedTables={}}}});var n4,pp,O9,uY=g(()=>{"use strict";Ve();n4=class extends Error{static[J]="DrizzleError";constructor({message:e,cause:r}){super(e),this.name="DrizzleError",this.cause=r}},pp=class t extends Error{constructor(e,r,n){super(`Failed query: ${e}
params: ${r}`),this.query=e,this.params=r,this.cause=n,Error.captureStackTrace(this,t),n&&(this.cause=n)}},O9=class extends n4{static[J]="TransactionRollbackError";constructor(){super({message:"Rollback"})}}});function ta(t,e){return A5e(e)&&!tG(t)&&!me(t,ea)&&!me(t,lp)&&!me(t,Ur)&&!me(t,qe)&&!me(t,ms)?new ea(t,e):t}function fs(...t){let e=t.filter(r=>r!==void 0);if(e.length!==0)return e.length===1?new Qe(e):new Qe([new wi("("),Z.join(e,new wi(" and ")),new wi(")")])}function mRe(...t){let e=t.filter(r=>r!==void 0);if(e.length!==0)return e.length===1?new Qe(e):new Qe([new wi("("),Z.join(e,new wi(" or ")),new wi(")")])}function fRe(t){return Z`not ${t}`}function yRe(t,e){return Array.isArray(e)?e.length===0?Z`false`:Z`${t} in ${e.map(r=>ta(r,t))}`:Z`${t} in ${ta(e,t)}`}function bRe(t,e){return Array.isArray(e)?e.length===0?Z`true`:Z`${t} not in ${e.map(r=>ta(r,t))}`:Z`${t} not in ${ta(e,t)}`}function P9(t){return Z`${t} is null`}function vRe(t){return Z`${t} is not null`}function _Re(t){return Z`exists ${t}`}function SRe(t){return Z`not exists ${t}`}function wRe(t,e,r){return Z`${t} between ${ta(e,t)} and ${ta(r,t)}`}function xRe(t,e,r){return Z`${t} not between ${ta(e,t)} and ${ta(r,t)}`}function ARe(t,e){return Z`${t} like ${e}`}function ERe(t,e){return Z`${t} not like ${e}`}function RRe(t,e){return Z`${t} ilike ${e}`}function TRe(t,e){return Z`${t} not ilike ${e}`}var gr,N9,hRe,i4,gRe,S0,IRe=g(()=>{"use strict";ap();Ve();Xs();Yn();gr=(t,e)=>Z`${t} = ${ta(e,t)}`,N9=(t,e)=>Z`${t} <> ${ta(e,t)}`;hRe=(t,e)=>Z`${t} > ${ta(e,t)}`,i4=(t,e)=>Z`${t} >= ${ta(e,t)}`,gRe=(t,e)=>Z`${t} < ${ta(e,t)}`,S0=(t,e)=>Z`${t} <= ${ta(e,t)}`});function CRe(t){return Z`${t} asc`}function hs(t){return Z`${t} desc`}var ORe=g(()=>{"use strict";Yn()});var dY=g(()=>{"use strict";IRe();ORe()});function NRe(){return{and:fs,between:wRe,eq:gr,exists:_Re,gt:hRe,gte:i4,ilike:RRe,inArray:yRe,isNull:P9,isNotNull:vRe,like:ARe,lt:gRe,lte:S0,ne:N9,not:fRe,notBetween:xRe,notExists:SRe,notLike:ERe,notIlike:TRe,notInArray:bRe,or:mRe,sql:Z}}function PRe(){return{sql:Z,asc:CRe,desc:hs}}function M9(t,e){Object.keys(t).length===1&&"default"in t&&!me(t.default,qe)&&(t=t.default);let r={},n={},i={};for(let[o,s]of Object.entries(t))if(me(s,qe)){let a=b0(s),c=n[a];r[a]=o,i[o]={tsName:o,dbName:s[qe.Symbol.Name],schema:s[qe.Symbol.Schema],columns:s[qe.Symbol.Columns],relations:c?.relations??{},primaryKey:c?.primaryKey??[]};for(let u of Object.values(s[qe.Symbol.Columns]))u.primary&&i[o].primaryKey.push(u);let l=s[qe.Symbol.ExtraConfigBuilder]?.(s[qe.Symbol.ExtraConfigColumns]);if(l)for(let u of Object.values(l))me(u,I9)&&i[o].primaryKey.push(...u.columns)}else if(me(s,pY)){let a=b0(s.table),c=r[a],l=s.config(e(s.table)),u;for(let[d,p]of Object.entries(l))if(c){let m=i[c];m.relations[d]=p,u&&m.primaryKey.push(...u)}else a in n||(n[a]={relations:{},primaryKey:u}),n[a].relations[d]=p}return{tables:i,tableNamesMap:r}}function Zft(t){return function(r,n){return new Nf(t,r,n,n?.fields.reduce((i,o)=>i&&o.notNull,!0)??!1)}}function Xft(t){return function(r,n){return new o4(t,r,n)}}function kRe(t,e,r){if(me(r,Nf)&&r.config)return{fields:r.config.fields,references:r.config.references};let n=e[b0(r.referencedTable)];if(!n)throw new Error(`Table "${r.referencedTable[qe.Symbol.Name]}" not found in schema`);let i=t[n];if(!i)throw new Error(`Table "${n}" not found in schema`);let o=r.sourceTable,s=e[b0(o)];if(!s)throw new Error(`Table "${o[qe.Symbol.Name]}" not found in schema`);let a=[];for(let c of Object.values(i.relations))(r.relationName&&r!==c&&c.relationName===r.relationName||!r.relationName&&c.referencedTable===r.sourceTable)&&a.push(c);if(a.length>1)throw r.relationName?new Error(`There are multiple relations with name "${r.relationName}" in table "${n}"`):new Error(`There are multiple relations between "${n}" and "${r.sourceTable[qe.Symbol.Name]}". Please specify relation name`);if(a[0]&&me(a[0],Nf)&&a[0].config)return{fields:a[0].config.references,references:a[0].config.fields};throw new Error(`There is not enough information to infer relation "${s}.${r.fieldName}"`)}function $9(t){return{one:Zft(t),many:Xft(t)}}function D9(t,e,r,n,i=o=>o){let o={};for(let[s,a]of n.entries())if(a.isJson){let c=e.relations[a.tsKey],l=r[s],u=typeof l=="string"?JSON.parse(l):l;o[a.tsKey]=me(c,Nf)?u&&D9(t,t[a.relationTableTsKey],u,a.selection,i):u.map(d=>D9(t,t[a.relationTableTsKey],d,a.selection,i))}else{let c=i(r[s]),l=a.field,u;me(l,Ur)?u=l:me(l,Qe)?u=l.decoder:u=l.sql.decoder,o[a.tsKey]=c===null?null:u.mapFromDriverValue(c)}return o}var k9,pY,Nf,o4,s4=g(()=>{"use strict";Xs();ap();Ve();aY();dY();Yn();k9=class{constructor(e,r,n){this.sourceTable=e,this.referencedTable=r,this.relationName=n,this.referencedTableName=r[qe.Symbol.Name]}static[J]="Relation";referencedTableName;fieldName},pY=class{constructor(e,r){this.table=e,this.config=r}static[J]="Relations"},Nf=class t extends k9{constructor(e,r,n,i){super(e,r,n?.relationName),this.config=n,this.isNullable=i}static[J]="One";withFieldName(e){let r=new t(this.sourceTable,this.referencedTable,this.config,this.isNullable);return r.fieldName=e,r}},o4=class t extends k9{constructor(e,r,n){super(e,r,n?.relationName),this.config=n}static[J]="Many";withFieldName(e){let r=new t(this.sourceTable,this.referencedTable,this.config);return r.fieldName=e,r}}});var DRe=g(()=>{"use strict"});var MRe=g(()=>{"use strict"});var $Re=g(()=>{"use strict";DRe();MRe()});var mY=g(()=>{"use strict";dY();$Re();Yn()});var mp,L9=g(()=>{"use strict";Ve();Yn();mp=class extends ms{static[J]="PgViewBase"}});var Fu,a4=g(()=>{"use strict";nG();pRe();ap();Ve();uY();T9();Of();s4();mY();Yn();Lu();Xs();$r();Tf();L9();Fu=class{static[J]="PgDialect";casing;constructor(e){this.casing=new C9(e?.casing)}async migrate(e,r,n){let i=typeof n=="string"?"__drizzle_migrations":n.migrationsTable??"__drizzle_migrations",o=typeof n=="string"?"drizzle":n.migrationsSchema??"drizzle",s=Z`
			CREATE TABLE IF NOT EXISTS ${Z.identifier(o)}.${Z.identifier(i)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at bigint
			)
		`;await r.execute(Z`CREATE SCHEMA IF NOT EXISTS ${Z.identifier(o)}`),await r.execute(s);let c=(await r.all(Z`select id, hash, created_at from ${Z.identifier(o)}.${Z.identifier(i)} order by created_at desc limit 1`))[0];await r.transaction(async l=>{for await(let u of e)if(!c||Number(c.created_at)<u.folderMillis){for(let d of u.sql)await l.execute(Z.raw(d));await l.execute(Z`insert into ${Z.identifier(o)}.${Z.identifier(i)} ("hash", "created_at") values(${u.hash}, ${u.folderMillis})`)}})}escapeName(e){return`"${e}"`}escapeParam(e){return`$${e+1}`}escapeString(e){return`'${e.replace(/'/g,"''")}'`}buildWithCTE(e){if(!e?.length)return;let r=[Z`with `];for(let[n,i]of e.entries())r.push(Z`${Z.identifier(i._.alias)} as (${i._.sql})`),n<e.length-1&&r.push(Z`, `);return r.push(Z` `),Z.join(r)}buildDeleteQuery({table:e,where:r,returning:n,withList:i}){let o=this.buildWithCTE(i),s=n?Z` returning ${this.buildSelection(n,{isSingleTable:!0})}`:void 0,a=r?Z` where ${r}`:void 0;return Z`${o}delete from ${e}${a}${s}`}buildUpdateSet(e,r){let n=e[qe.Symbol.Columns],i=Object.keys(n).filter(s=>r[s]!==void 0||n[s]?.onUpdateFn!==void 0),o=i.length;return Z.join(i.flatMap((s,a)=>{let c=n[s],l=c.onUpdateFn?.(),u=r[s]??(me(l,Qe)?l:Z.param(l,c)),d=Z`${Z.identifier(this.casing.getColumnCasing(c))} = ${u}`;return a<o-1?[d,Z.raw(", ")]:[d]}))}buildUpdateQuery({table:e,set:r,where:n,returning:i,withList:o,from:s,joins:a}){let c=this.buildWithCTE(o),l=e[xi.Symbol.Name],u=e[xi.Symbol.Schema],d=e[xi.Symbol.OriginalName],p=l===d?void 0:l,m=Z`${u?Z`${Z.identifier(u)}.`:void 0}${Z.identifier(d)}${p&&Z` ${Z.identifier(p)}`}`,h=this.buildUpdateSet(e,r),f=s&&Z.join([Z.raw(" from "),this.buildFromTable(s)]),y=this.buildJoins(a),v=i?Z` returning ${this.buildSelection(i,{isSingleTable:!s})}`:void 0,_=n?Z` where ${n}`:void 0;return Z`${c}update ${m} set ${h}${f}${y}${_}${v}`}buildSelection(e,{isSingleTable:r=!1}={}){let n=e.length,i=e.flatMap(({field:o},s)=>{let a=[];if(me(o,Qe.Aliased)&&o.isSelectionField)a.push(Z.identifier(o.fieldAlias));else if(me(o,Qe.Aliased)||me(o,Qe)){let c=me(o,Qe.Aliased)?o.sql:o;r?a.push(new Qe(c.queryChunks.map(l=>me(l,Fe)?Z.identifier(this.casing.getColumnCasing(l)):l))):a.push(c),me(o,Qe.Aliased)&&a.push(Z` as ${Z.identifier(o.fieldAlias)}`)}else if(me(o,Ur))r?a.push(Z.identifier(this.casing.getColumnCasing(o))):a.push(o);else if(me(o,Sn)){let c=Object.entries(o._.selectedFields);if(c.length===1){let l=c[0][1],u=me(l,Qe)?l.decoder:me(l,Ur)?{mapFromDriverValue:d=>l.mapFromDriverValue(d)}:l.sql.decoder;u&&(o._.sql.decoder=u)}a.push(o)}return s<n-1&&a.push(Z`, `),a});return Z.join(i)}buildJoins(e){if(!e||e.length===0)return;let r=[];for(let[n,i]of e.entries()){n===0&&r.push(Z` `);let o=i.table,s=i.lateral?Z` lateral`:void 0,a=i.on?Z` on ${i.on}`:void 0;if(me(o,xi)){let c=o[xi.Symbol.Name],l=o[xi.Symbol.Schema],u=o[xi.Symbol.OriginalName],d=c===u?void 0:i.alias;r.push(Z`${Z.raw(i.joinType)} join${s} ${l?Z`${Z.identifier(l)}.`:void 0}${Z.identifier(u)}${d&&Z` ${Z.identifier(d)}`}${a}`)}else if(me(o,ms)){let c=o[pn].name,l=o[pn].schema,u=o[pn].originalName,d=c===u?void 0:i.alias;r.push(Z`${Z.raw(i.joinType)} join${s} ${l?Z`${Z.identifier(l)}.`:void 0}${Z.identifier(u)}${d&&Z` ${Z.identifier(d)}`}${a}`)}else r.push(Z`${Z.raw(i.joinType)} join${s} ${o}${a}`);n<e.length-1&&r.push(Z` `)}return Z.join(r)}buildFromTable(e){if(me(e,qe)&&e[qe.Symbol.IsAlias]){let r=Z`${Z.identifier(e[qe.Symbol.OriginalName])}`;return e[qe.Symbol.Schema]&&(r=Z`${Z.identifier(e[qe.Symbol.Schema])}.${r}`),Z`${r} ${Z.identifier(e[qe.Symbol.Name])}`}return e}buildSelectQuery({withList:e,fields:r,fieldsFlat:n,where:i,having:o,table:s,joins:a,orderBy:c,groupBy:l,limit:u,offset:d,lockingClause:p,distinct:m,setOperators:h}){let f=n??Zc(r);for(let b of f)if(me(b.field,Ur)&&Zs(b.field.table)!==(me(s,Sn)?s._.alias:me(s,mp)?s[pn].name:me(s,Qe)?void 0:Zs(s))&&!(S=>a?.some(({alias:R})=>R===(S[qe.Symbol.IsAlias]?Zs(S):S[qe.Symbol.BaseName])))(b.field.table)){let S=Zs(b.field.table);throw new Error(`Your "${b.path.join("->")}" field references a column "${S}"."${b.field.name}", but the table "${S}" is not part of the query! Did you forget to join it?`)}let y=!a||a.length===0,v=this.buildWithCTE(e),_;m&&(_=m===!0?Z` distinct`:Z` distinct on (${Z.join(m.on,Z`, `)})`);let x=this.buildSelection(f,{isSingleTable:y}),E=this.buildFromTable(s),I=this.buildJoins(a),N=i?Z` where ${i}`:void 0,L=o?Z` having ${o}`:void 0,B;c&&c.length>0&&(B=Z` order by ${Z.join(c,Z`, `)}`);let P;l&&l.length>0&&(P=Z` group by ${Z.join(l,Z`, `)}`);let V=typeof u=="object"||typeof u=="number"&&u>=0?Z` limit ${u}`:void 0,j=d?Z` offset ${d}`:void 0,ee=Z.empty();if(p){let b=Z` for ${Z.raw(p.strength)}`;p.config.of&&b.append(Z` of ${Z.join(Array.isArray(p.config.of)?p.config.of:[p.config.of],Z`, `)}`),p.config.noWait?b.append(Z` nowait`):p.config.skipLocked&&b.append(Z` skip locked`),ee.append(b)}let O=Z`${v}select${_} ${x} from ${E}${I}${N}${P}${L}${B}${V}${j}${ee}`;return h.length>0?this.buildSetOperations(O,h):O}buildSetOperations(e,r){let[n,...i]=r;if(!n)throw new Error("Cannot pass undefined values to any set operator");return i.length===0?this.buildSetOperationQuery({leftSelect:e,setOperator:n}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:e,setOperator:n}),i)}buildSetOperationQuery({leftSelect:e,setOperator:{type:r,isAll:n,rightSelect:i,limit:o,orderBy:s,offset:a}}){let c=Z`(${e.getSQL()}) `,l=Z`(${i.getSQL()})`,u;if(s&&s.length>0){let h=[];for(let f of s)if(me(f,Fe))h.push(Z.identifier(f.name));else if(me(f,Qe)){for(let y=0;y<f.queryChunks.length;y++){let v=f.queryChunks[y];me(v,Fe)&&(f.queryChunks[y]=Z.identifier(v.name))}h.push(Z`${f}`)}else h.push(Z`${f}`);u=Z` order by ${Z.join(h,Z`, `)} `}let d=typeof o=="object"||typeof o=="number"&&o>=0?Z` limit ${o}`:void 0,p=Z.raw(`${r} ${n?"all ":""}`),m=a?Z` offset ${a}`:void 0;return Z`${c}${p}${l}${u}${d}${m}`}buildInsertQuery({table:e,values:r,onConflict:n,returning:i,withList:o,select:s,overridingSystemValue_:a}){let c=[],l=e[qe.Symbol.Columns],u=Object.entries(l).filter(([v,_])=>!_.shouldDisableInsert()),d=u.map(([,v])=>Z.identifier(this.casing.getColumnCasing(v)));if(s){let v=r;me(v,Qe)?c.push(v):c.push(v.getSQL())}else{let v=r;c.push(Z.raw("values "));for(let[_,x]of v.entries()){let E=[];for(let[I,N]of u){let L=x[I];if(L===void 0||me(L,ea)&&L.value===void 0)if(N.defaultFn!==void 0){let B=N.defaultFn(),P=me(B,Qe)?B:Z.param(B,N);E.push(P)}else if(!N.default&&N.onUpdateFn!==void 0){let B=N.onUpdateFn(),P=me(B,Qe)?B:Z.param(B,N);E.push(P)}else E.push(Z`default`);else E.push(L)}c.push(E),_<v.length-1&&c.push(Z`, `)}}let p=this.buildWithCTE(o),m=Z.join(c),h=i?Z` returning ${this.buildSelection(i,{isSingleTable:!0})}`:void 0,f=n?Z` on conflict ${n}`:void 0,y=a===!0?Z`overriding system value `:void 0;return Z`${p}insert into ${e} ${d} ${y}${m}${f}${h}`}buildRefreshMaterializedViewQuery({view:e,concurrently:r,withNoData:n}){let i=r?Z` concurrently`:void 0,o=n?Z` with no data`:void 0;return Z`refresh materialized view${i} ${e}${o}`}prepareTyping(e){return me(e,J6)||me(e,Y6)?"json":me(e,Q6)?"decimal":me(e,Z6)?"time":me(e,X6)||me(e,e4)?"timestamp":me(e,G6)||me(e,K6)?"date":me(e,t4)?"uuid":"none"}sqlToQuery(e,r){return e.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,prepareTyping:this.prepareTyping,invokeSource:r})}buildRelationalQueryWithoutPK({fullSchema:e,schema:r,tableNamesMap:n,table:i,tableConfig:o,queryConfig:s,tableAlias:a,nestedQueryRelation:c,joinOn:l}){let u=[],d,p,m=[],h,f=[];if(s===!0)u=Object.entries(o.columns).map(([_,x])=>({dbKey:x.name,tsKey:_,field:Bu(x,a),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{let v=Object.fromEntries(Object.entries(o.columns).map(([L,B])=>[L,Bu(B,a)]));if(s.where){let L=typeof s.where=="function"?s.where(v,NRe()):s.where;h=L&&j6(L,a)}let _=[],x=[];if(s.columns){let L=!1;for(let[B,P]of Object.entries(s.columns))P!==void 0&&B in o.columns&&(!L&&P===!0&&(L=!0),x.push(B));x.length>0&&(x=L?x.filter(B=>s.columns?.[B]===!0):Object.keys(o.columns).filter(B=>!x.includes(B)))}else x=Object.keys(o.columns);for(let L of x){let B=o.columns[L];_.push({tsKey:L,value:B})}let E=[];s.with&&(E=Object.entries(s.with).filter(L=>!!L[1]).map(([L,B])=>({tsKey:L,queryConfig:B,relation:o.relations[L]})));let I;if(s.extras){I=typeof s.extras=="function"?s.extras(v,{sql:Z}):s.extras;for(let[L,B]of Object.entries(I))_.push({tsKey:L,value:rG(B,a)})}for(let{tsKey:L,value:B}of _)u.push({dbKey:me(B,Qe.Aliased)?B.fieldAlias:o.columns[L].name,tsKey:L,field:me(B,Ur)?Bu(B,a):B,relationTableTsKey:void 0,isJson:!1,selection:[]});let N=typeof s.orderBy=="function"?s.orderBy(v,PRe()):s.orderBy??[];Array.isArray(N)||(N=[N]),m=N.map(L=>me(L,Ur)?Bu(L,a):j6(L,a)),d=s.limit,p=s.offset;for(let{tsKey:L,queryConfig:B,relation:P}of E){let V=kRe(r,n,P),j=b0(P.referencedTable),ee=n[j],O=`${a}_${L}`,b=fs(...V.fields.map((k,F)=>gr(Bu(V.references[F],O),Bu(k,a)))),S=this.buildRelationalQueryWithoutPK({fullSchema:e,schema:r,tableNamesMap:n,table:e[ee],tableConfig:r[ee],queryConfig:me(P,Nf)?B===!0?{limit:1}:{...B,limit:1}:B,tableAlias:O,joinOn:b,nestedQueryRelation:P}),R=Z`${Z.identifier(O)}.${Z.identifier("data")}`.as(L);f.push({on:Z`true`,table:new Sn(S.sql,{},O),alias:O,joinType:"left",lateral:!0}),u.push({dbKey:L,tsKey:L,field:R,relationTableTsKey:ee,isJson:!0,selection:S.selection})}}if(u.length===0)throw new n4({message:`No fields selected for table "${o.tsName}" ("${a}")`});let y;if(h=fs(l,h),c){let v=Z`json_build_array(${Z.join(u.map(({field:E,tsKey:I,isJson:N})=>N?Z`${Z.identifier(`${a}_${I}`)}.${Z.identifier("data")}`:me(E,Qe.Aliased)?E.sql:E),Z`, `)})`;me(c,o4)&&(v=Z`coalesce(json_agg(${v}${m.length>0?Z` order by ${Z.join(m,Z`, `)}`:void 0}), '[]'::json)`);let _=[{dbKey:"data",tsKey:"data",field:v.as("data"),isJson:!0,relationTableTsKey:o.tsName,selection:u}];d!==void 0||p!==void 0||m.length>0?(y=this.buildSelectQuery({table:V6(i,a),fields:{},fieldsFlat:[{path:[],field:Z.raw("*")}],where:h,limit:d,offset:p,orderBy:m,setOperators:[]}),h=void 0,d=void 0,p=void 0,m=[]):y=V6(i,a),y=this.buildSelectQuery({table:me(y,xi)?y:new Sn(y,{},a),fields:{},fieldsFlat:_.map(({field:E})=>({path:[],field:me(E,Ur)?Bu(E,a):E})),joins:f,where:h,limit:d,offset:p,orderBy:m,setOperators:[]})}else y=this.buildSelectQuery({table:V6(i,a),fields:{},fieldsFlat:u.map(({field:v})=>({path:[],field:me(v,Ur)?Bu(v,a):v})),joins:f,where:h,limit:d,offset:p,orderBy:m,setOperators:[]});return{tableTsKey:o.tsName,sql:y,selection:u}}}});var B9,LRe=g(()=>{"use strict";Ve();B9=class{static[J]="TypedQueryBuilder";getSelectedFields(){return this._.selectedFields}}});function Ov(t,e){return(r,n,...i)=>{let o=[n,...i].map(s=>({type:t,isAll:e,rightSelect:s}));for(let s of o)if(!q6(r.getSelectedFields(),s.rightSelect.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return r.addSetOperators(o)}}var qo,fY,U9,eht,tht,rht,nht,iht,oht,sht,hY=g(()=>{"use strict";Ve();L9();LRe();If();Cf();Yn();Lu();Xs();cp();$r();$r();Tf();Nv();qo=class{static[J]="PgSelectBuilder";fields;session;dialect;withList=[];distinct;constructor(e){this.fields=e.fields,this.session=e.session,this.dialect=e.dialect,e.withList&&(this.withList=e.withList),this.distinct=e.distinct}authToken;setToken(e){return this.authToken=e,this}from(e){let r=!!this.fields,n=e,i;return this.fields?i=this.fields:me(n,Sn)?i=Object.fromEntries(Object.keys(n._.selectedFields).map(o=>[o,n[o]])):me(n,mp)?i=n[pn].selectedFields:me(n,Qe)?i={}:i=H6(n),new U9({table:n,fields:i,isPartialSelect:r,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct}).setToken(this.authToken)}},fY=class extends B9{static[J]="PgSelectQueryBuilder";_;config;joinsNotNullableMap;tableName;isPartialSelect;session;dialect;cacheConfig=void 0;usedTables=new Set;constructor({table:e,fields:r,isPartialSelect:n,session:i,dialect:o,withList:s,distinct:a}){super(),this.config={withList:s,table:e,fields:{...r},distinct:a,setOperators:[]},this.isPartialSelect=n,this.session=i,this.dialect=o,this._={selectedFields:r,config:this.config},this.tableName=up(e),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{};for(let c of ql(e))this.usedTables.add(c)}getUsedTables(){return[...this.usedTables]}createJoin(e,r){return(n,i)=>{let o=this.tableName,s=up(n);for(let a of ql(n))this.usedTables.add(a);if(typeof s=="string"&&this.config.joins?.some(a=>a.alias===s))throw new Error(`Alias "${s}" is already used in this query`);if(!this.isPartialSelect&&(Object.keys(this.joinsNotNullableMap).length===1&&typeof o=="string"&&(this.config.fields={[o]:this.config.fields}),typeof s=="string"&&!me(n,Qe))){let a=me(n,Sn)?n._.selectedFields:me(n,ms)?n[pn].selectedFields:n[qe.Symbol.Columns];this.config.fields[s]=a}if(typeof i=="function"&&(i=i(new Proxy(this.config.fields,new Fr({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:i,table:n,joinType:e,alias:s,lateral:r}),typeof s=="string")switch(e){case"left":{this.joinsNotNullableMap[s]=!1;break}case"right":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([a])=>[a,!1])),this.joinsNotNullableMap[s]=!0;break}case"cross":case"inner":{this.joinsNotNullableMap[s]=!0;break}case"full":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([a])=>[a,!1])),this.joinsNotNullableMap[s]=!1;break}}return this}}leftJoin=this.createJoin("left",!1);leftJoinLateral=this.createJoin("left",!0);rightJoin=this.createJoin("right",!1);innerJoin=this.createJoin("inner",!1);innerJoinLateral=this.createJoin("inner",!0);fullJoin=this.createJoin("full",!1);crossJoin=this.createJoin("cross",!1);crossJoinLateral=this.createJoin("cross",!0);createSetOperator(e,r){return n=>{let i=typeof n=="function"?n(eht()):n;if(!q6(this.getSelectedFields(),i.getSelectedFields()))throw new Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:e,isAll:r,rightSelect:i}),this}}union=this.createSetOperator("union",!1);unionAll=this.createSetOperator("union",!0);intersect=this.createSetOperator("intersect",!1);intersectAll=this.createSetOperator("intersect",!0);except=this.createSetOperator("except",!1);exceptAll=this.createSetOperator("except",!0);addSetOperators(e){return this.config.setOperators.push(...e),this}where(e){return typeof e=="function"&&(e=e(new Proxy(this.config.fields,new Fr({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=e,this}having(e){return typeof e=="function"&&(e=e(new Proxy(this.config.fields,new Fr({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=e,this}groupBy(...e){if(typeof e[0]=="function"){let r=e[0](new Proxy(this.config.fields,new Fr({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(r)?r:[r]}else this.config.groupBy=e;return this}orderBy(...e){if(typeof e[0]=="function"){let r=e[0](new Proxy(this.config.fields,new Fr({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),n=Array.isArray(r)?r:[r];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=n:this.config.orderBy=n}else{let r=e;this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=r:this.config.orderBy=r}return this}limit(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=e:this.config.limit=e,this}offset(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=e:this.config.offset=e,this}for(e,r={}){return this.config.lockingClause={strength:e,config:r},this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){let{typings:e,...r}=this.dialect.sqlToQuery(this.getSQL());return r}as(e){let r=[];if(r.push(...ql(this.config.table)),this.config.joins)for(let n of this.config.joins)r.push(...ql(n.table));return new Proxy(new Sn(this.getSQL(),this.config.fields,e,!1,[...new Set(r)]),new Fr({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new Fr({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}$withCache(e){return this.cacheConfig=e===void 0?{config:{},enable:!0,autoInvalidate:!0}:e===!1?{enable:!1}:{enable:!0,autoInvalidate:!0,...e},this}},U9=class extends fY{static[J]="PgSelect";_prepare(e){let{session:r,config:n,dialect:i,joinsNotNullableMap:o,authToken:s,cacheConfig:a,usedTables:c}=this;if(!r)throw new Error("Cannot execute a query on a query builder. Please use a database instance instead.");let{fields:l}=n;return en.startActiveSpan("drizzle.prepareQuery",()=>{let u=Zc(l),d=r.prepareQuery(i.sqlToQuery(this.getSQL()),u,e,!0,void 0,{type:"select",tables:[...c]},a);return d.joinsNotNullableMap=o,d.setToken(s)})}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>en.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken))};N5e(U9,[jo]);eht=()=>({union:tht,unionAll:rht,intersect:nht,intersectAll:iht,except:oht,exceptAll:sht}),tht=Ov("union",!1),rht=Ov("union",!0),nht=Ov("intersect",!1),iht=Ov("intersect",!0),oht=Ov("except",!1),sht=Ov("except",!0)});var fp,F9=g(()=>{"use strict";Ve();a4();Cf();Lu();hY();fp=class{static[J]="PgQueryBuilder";dialect;dialectConfig;constructor(e){this.dialect=me(e,Fu)?e:void 0,this.dialectConfig=me(e,Fu)?void 0:e}$with=(e,r)=>{let n=this;return{as:o=>(typeof o=="function"&&(o=o(n)),new Proxy(new Iv(o.getSQL(),r??("getSelectedFields"in o?o.getSelectedFields()??{}:{}),e,!0),new Fr({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};with(...e){let r=this;function n(s){return new qo({fields:s??void 0,session:void 0,dialect:r.getDialect(),withList:e})}function i(s){return new qo({fields:s??void 0,session:void 0,dialect:r.getDialect(),distinct:!0})}function o(s,a){return new qo({fields:a??void 0,session:void 0,dialect:r.getDialect(),distinct:{on:s}})}return{select:n,selectDistinct:i,selectDistinctOn:o}}select(e){return new qo({fields:e??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(e){return new qo({fields:e??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}selectDistinctOn(e,r){return new qo({fields:r??void 0,session:void 0,dialect:this.getDialect(),distinct:{on:e}})}getDialect(){return this.dialect||(this.dialect=new Fu(this.dialectConfig)),this.dialect}}});function URe(t,e,r){return e?new yY(t,e,r):new gY(t,r)}function FRe(t,e,r){return e?new vY(t,e,r):new bY(t,r)}var z9,gY,yY,V9,bY,vY,c4,BRe,l4,_Y=g(()=>{"use strict";Ve();Cf();$r();F9();Of();L9();lY();z9=class{constructor(e,r){this.name=e,this.schema=r}static[J]="PgDefaultViewBuilderCore";config={};with(e){return this.config.with=e,this}},gY=class extends z9{static[J]="PgViewBuilder";as(e){typeof e=="function"&&(e=e(new fp));let r=new Fr({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}),n=new Proxy(e.getSelectedFields(),r);return new Proxy(new c4({pgConfig:this.config,config:{name:this.name,schema:this.schema,selectedFields:n,query:e.getSQL().inlineParams()}}),r)}},yY=class extends z9{static[J]="PgManualViewBuilder";columns;constructor(e,r,n){super(e,n),this.columns=H6(Ft(e,r))}existing(){return new Proxy(new c4({pgConfig:void 0,config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:void 0}}),new Fr({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}as(e){return new Proxy(new c4({pgConfig:this.config,config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:e.inlineParams()}}),new Fr({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}},V9=class{constructor(e,r){this.name=e,this.schema=r}static[J]="PgMaterializedViewBuilderCore";config={};using(e){return this.config.using=e,this}with(e){return this.config.with=e,this}tablespace(e){return this.config.tablespace=e,this}withNoData(){return this.config.withNoData=!0,this}},bY=class extends V9{static[J]="PgMaterializedViewBuilder";as(e){typeof e=="function"&&(e=e(new fp));let r=new Fr({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}),n=new Proxy(e.getSelectedFields(),r);return new Proxy(new l4({pgConfig:{with:this.config.with,using:this.config.using,tablespace:this.config.tablespace,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:n,query:e.getSQL().inlineParams()}}),r)}},vY=class extends V9{static[J]="PgManualMaterializedViewBuilder";columns;constructor(e,r,n){super(e,n),this.columns=H6(Ft(e,r))}existing(){return new Proxy(new l4({pgConfig:{tablespace:this.config.tablespace,using:this.config.using,with:this.config.with,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:void 0}}),new Fr({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}as(e){return new Proxy(new l4({pgConfig:{tablespace:this.config.tablespace,using:this.config.using,with:this.config.with,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:e.inlineParams()}}),new Fr({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}},c4=class extends mp{static[J]="PgView";[cY];constructor({pgConfig:e,config:r}){super(r),e&&(this[cY]={with:e.with})}},BRe=Symbol.for("drizzle:PgMaterializedViewConfig"),l4=class extends mp{static[J]="PgMaterializedView";[BRe];constructor({pgConfig:e,config:r}){super(r),this[BRe]={with:e?.with,using:e?.using,tablespace:e?.tablespace,withNoData:e?.withNoData}}}});function ql(t){return me(t,xi)?[t[y0]?`${t[y0]}.${t[qe.Symbol.BaseName]}`:t[qe.Symbol.BaseName]]:me(t,Sn)?t._.usedTables??[]:me(t,Qe)?t.usedTables??[]:[]}var Nv=g(()=>{"use strict";Ve();Of();Yn();Lu();Xs()});var u4,zRe=g(()=>{"use strict";Ve();If();Cf();Xs();cp();$r();Nv();u4=class extends jo{constructor(e,r,n,i){super(),this.session=r,this.dialect=n,this.config={table:e,withList:i}}static[J]="PgDelete";config;cacheConfig;where(e){return this.config.where=e,this}returning(e=this.config.table[qe.Symbol.Columns]){return this.config.returningFields=e,this.config.returning=Zc(e),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){let{typings:e,...r}=this.dialect.sqlToQuery(this.getSQL());return r}_prepare(e){return en.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0,void 0,{type:"delete",tables:ql(this.config.table)},this.cacheConfig))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>en.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken));getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new Fr({alias:Zs(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}});var d4,j9,VRe=g(()=>{"use strict";Ve();If();Cf();Yn();Xs();cp();$r();Nv();F9();d4=class{constructor(e,r,n,i,o){this.table=e,this.session=r,this.dialect=n,this.withList=i,this.overridingSystemValue_=o}static[J]="PgInsertBuilder";authToken;setToken(e){return this.authToken=e,this}overridingSystemValue(){return this.overridingSystemValue_=!0,this}values(e){if(e=Array.isArray(e)?e:[e],e.length===0)throw new Error("values() must be called with at least one value");let r=e.map(n=>{let i={},o=this.table[qe.Symbol.Columns];for(let s of Object.keys(n)){let a=n[s];i[s]=me(a,Qe)?a:new ea(a,o[s])}return i});return new j9(this.table,r,this.session,this.dialect,this.withList,!1,this.overridingSystemValue_).setToken(this.authToken)}select(e){let r=typeof e=="function"?e(new fp):e;if(!me(r,Qe)&&!q6(this.table[w9],r._.selectedFields))throw new Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");return new j9(this.table,r,this.session,this.dialect,this.withList,!0)}},j9=class extends jo{constructor(e,r,n,i,o,s,a){super(),this.session=n,this.dialect=i,this.config={table:e,values:r,withList:o,select:s,overridingSystemValue_:a}}static[J]="PgInsert";config;cacheConfig;returning(e=this.config.table[qe.Symbol.Columns]){return this.config.returningFields=e,this.config.returning=Zc(e),this}onConflictDoNothing(e={}){if(e.target===void 0)this.config.onConflict=Z`do nothing`;else{let r="";r=Array.isArray(e.target)?e.target.map(i=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(i))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(e.target));let n=e.where?Z` where ${e.where}`:void 0;this.config.onConflict=Z`(${Z.raw(r)})${n} do nothing`}return this}onConflictDoUpdate(e){if(e.where&&(e.targetWhere||e.setWhere))throw new Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');let r=e.where?Z` where ${e.where}`:void 0,n=e.targetWhere?Z` where ${e.targetWhere}`:void 0,i=e.setWhere?Z` where ${e.setWhere}`:void 0,o=this.dialect.buildUpdateSet(this.config.table,A9(this.config.table,e.set)),s="";return s=Array.isArray(e.target)?e.target.map(a=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(a))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(e.target)),this.config.onConflict=Z`(${Z.raw(s)})${n} do update set ${o}${r}${i}`,this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){let{typings:e,...r}=this.dialect.sqlToQuery(this.getSQL());return r}_prepare(e){return en.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0,void 0,{type:"insert",tables:ql(this.config.table)},this.cacheConfig))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>en.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken));getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new Fr({alias:Zs(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}});var q9,SY=g(()=>{"use strict";Ve();If();cp();q9=class extends jo{constructor(e,r,n){super(),this.session=r,this.dialect=n,this.config={view:e}}static[J]="PgRefreshMaterializedView";config;concurrently(){if(this.config.withNoData!==void 0)throw new Error("Cannot use concurrently and withNoData together");return this.config.concurrently=!0,this}withNoData(){if(this.config.concurrently!==void 0)throw new Error("Cannot use concurrently and withNoData together");return this.config.withNoData=!0,this}getSQL(){return this.dialect.buildRefreshMaterializedViewQuery(this.config)}toSQL(){let{typings:e,...r}=this.dialect.sqlToQuery(this.getSQL());return r}_prepare(e){return en.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),void 0,e,!0))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>en.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken))}});var jRe=g(()=>{"use strict"});var p4,wY,qRe=g(()=>{"use strict";Ve();Of();If();Cf();Yn();Lu();Xs();$r();Tf();Nv();p4=class{constructor(e,r,n,i){this.table=e,this.session=r,this.dialect=n,this.withList=i}static[J]="PgUpdateBuilder";authToken;setToken(e){return this.authToken=e,this}set(e){return new wY(this.table,A9(this.table,e),this.session,this.dialect,this.withList).setToken(this.authToken)}},wY=class extends jo{constructor(e,r,n,i,o){super(),this.session=n,this.dialect=i,this.config={set:r,table:e,withList:o,joins:[]},this.tableName=up(e),this.joinsNotNullableMap=typeof this.tableName=="string"?{[this.tableName]:!0}:{}}static[J]="PgUpdate";config;tableName;joinsNotNullableMap;cacheConfig;from(e){let r=e,n=up(r);return typeof n=="string"&&(this.joinsNotNullableMap[n]=!0),this.config.from=r,this}getTableLikeFields(e){return me(e,xi)?e[qe.Symbol.Columns]:me(e,Sn)?e._.selectedFields:e[pn].selectedFields}createJoin(e){return(r,n)=>{let i=up(r);if(typeof i=="string"&&this.config.joins.some(o=>o.alias===i))throw new Error(`Alias "${i}" is already used in this query`);if(typeof n=="function"){let o=this.config.from&&!me(this.config.from,Qe)?this.getTableLikeFields(this.config.from):void 0;n=n(new Proxy(this.config.table[qe.Symbol.Columns],new Fr({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})),o&&new Proxy(o,new Fr({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))}if(this.config.joins.push({on:n,table:r,joinType:e,alias:i}),typeof i=="string")switch(e){case"left":{this.joinsNotNullableMap[i]=!1;break}case"right":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([o])=>[o,!1])),this.joinsNotNullableMap[i]=!0;break}case"inner":{this.joinsNotNullableMap[i]=!0;break}case"full":{this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([o])=>[o,!1])),this.joinsNotNullableMap[i]=!1;break}}return this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");where(e){return this.config.where=e,this}returning(e){if(!e&&(e=Object.assign({},this.config.table[qe.Symbol.Columns]),this.config.from)){let r=up(this.config.from);if(typeof r=="string"&&this.config.from&&!me(this.config.from,Qe)){let n=this.getTableLikeFields(this.config.from);e[r]=n}for(let n of this.config.joins){let i=up(n.table);if(typeof i=="string"&&!me(n.table,Qe)){let o=this.getTableLikeFields(n.table);e[i]=o}}}return this.config.returningFields=e,this.config.returning=Zc(e),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){let{typings:e,...r}=this.dialect.sqlToQuery(this.getSQL());return r}_prepare(e){let r=this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0,void 0,{type:"insert",tables:ql(this.config.table)},this.cacheConfig);return r.joinsNotNullableMap=this.joinsNotNullableMap,r}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>this._prepare().execute(e,this.authToken);getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new Fr({alias:Zs(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}});var xY=g(()=>{"use strict";zRe();VRe();F9();SY();hY();jRe();qRe()});var H9,HRe=g(()=>{"use strict";Ve();Yn();H9=class t extends Qe{constructor(e){super(t.buildEmbeddedCount(e.source,e.filters).queryChunks),this.params=e,this.mapWith(Number),this.session=e.session,this.sql=t.buildCount(e.source,e.filters)}sql;token;static[J]="PgCountBuilder";[Symbol.toStringTag]="PgCountBuilder";session;static buildEmbeddedCount(e,r){return Z`(select count(*) from ${e}${Z.raw(" where ").if(r)}${r})`}static buildCount(e,r){return Z`select count(*) as count from ${e}${Z.raw(" where ").if(r)}${r};`}setToken(e){return this.token=e,this}then(e,r){return Promise.resolve(this.session.count(this.sql,this.token)).then(e,r)}catch(e){return this.then(void 0,e)}finally(e){return this.then(r=>(e?.(),r),r=>{throw e?.(),r})}}});var W9,G9,WRe=g(()=>{"use strict";Ve();If();s4();cp();W9=class{constructor(e,r,n,i,o,s,a){this.fullSchema=e,this.schema=r,this.tableNamesMap=n,this.table=i,this.tableConfig=o,this.dialect=s,this.session=a}static[J]="PgRelationalQueryBuilder";findMany(e){return new G9(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many")}findFirst(e){return new G9(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first")}},G9=class extends jo{constructor(e,r,n,i,o,s,a,c,l){super(),this.fullSchema=e,this.schema=r,this.tableNamesMap=n,this.table=i,this.tableConfig=o,this.dialect=s,this.session=a,this.config=c,this.mode=l}static[J]="PgRelationalQuery";_prepare(e){return en.startActiveSpan("drizzle.prepareQuery",()=>{let{query:r,builtQuery:n}=this._toSQL();return this.session.prepareQuery(n,void 0,e,!0,(i,o)=>{let s=i.map(a=>D9(this.schema,this.tableConfig,a,r.selection,o));return this.mode==="first"?s[0]:s})})}prepare(e){return this._prepare(e)}_getQuery(){return this.dialect.buildRelationalQueryWithoutPK({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName})}getSQL(){return this._getQuery().sql}_toSQL(){let e=this._getQuery(),r=this.dialect.sqlToQuery(e.sql);return{query:e,builtQuery:r}}toSQL(){return this._toSQL().builtQuery}authToken;setToken(e){return this.authToken=e,this}execute(){return en.startActiveSpan("drizzle.operation",()=>this._prepare().execute(void 0,this.authToken))}}});var K9,GRe=g(()=>{"use strict";Ve();If();K9=class extends jo{constructor(e,r,n,i){super(),this.execute=e,this.sql=r,this.query=n,this.mapBatchResult=i}static[J]="PgRaw";getSQL(){return this.sql}getQuery(){return this.query}mapResult(e,r){return r?this.mapBatchResult(e):e}_prepare(){return this}isResponseInArrayMode(){return!1}}});var Pf,m4=g(()=>{"use strict";Ve();xY();Cf();Yn();Lu();HRe();WRe();GRe();SY();Pf=class{constructor(e,r,n){if(this.dialect=e,this.session=r,this._=n?{schema:n.schema,fullSchema:n.fullSchema,tableNamesMap:n.tableNamesMap,session:r}:{schema:void 0,fullSchema:{},tableNamesMap:{},session:r},this.query={},this._.schema)for(let[i,o]of Object.entries(this._.schema))this.query[i]=new W9(n.fullSchema,this._.schema,this._.tableNamesMap,n.fullSchema[i],o,e,r);this.$cache={invalidate:async i=>{}}}static[J]="PgDatabase";query;$with=(e,r)=>{let n=this;return{as:o=>(typeof o=="function"&&(o=o(new fp(n.dialect))),new Proxy(new Iv(o.getSQL(),r??("getSelectedFields"in o?o.getSelectedFields()??{}:{}),e,!0),new Fr({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};$count(e,r){return new H9({source:e,filters:r,session:this.session})}$cache;with(...e){let r=this;function n(l){return new qo({fields:l??void 0,session:r.session,dialect:r.dialect,withList:e})}function i(l){return new qo({fields:l??void 0,session:r.session,dialect:r.dialect,withList:e,distinct:!0})}function o(l,u){return new qo({fields:u??void 0,session:r.session,dialect:r.dialect,withList:e,distinct:{on:l}})}function s(l){return new p4(l,r.session,r.dialect,e)}function a(l){return new d4(l,r.session,r.dialect,e)}function c(l){return new u4(l,r.session,r.dialect,e)}return{select:n,selectDistinct:i,selectDistinctOn:o,update:s,insert:a,delete:c}}select(e){return new qo({fields:e??void 0,session:this.session,dialect:this.dialect})}selectDistinct(e){return new qo({fields:e??void 0,session:this.session,dialect:this.dialect,distinct:!0})}selectDistinctOn(e,r){return new qo({fields:r??void 0,session:this.session,dialect:this.dialect,distinct:{on:e}})}update(e){return new p4(e,this.session,this.dialect)}insert(e){return new d4(e,this.session,this.dialect)}delete(e){return new u4(e,this.session,this.dialect)}refreshMaterializedView(e){return new q9(e,this.session,this.dialect)}authToken;execute(e){let r=typeof e=="string"?Z.raw(e):e.getSQL(),n=this.dialect.sqlToQuery(r),i=this.session.prepareQuery(n,void 0,void 0,!1);return new K9(()=>i.execute(void 0,this.authToken),r,n,o=>i.mapResult(o,!0))}transaction(e,r){return this.session.transaction(e,r)}}});var KRe,YRe=g(()=>{"use strict";Ve();KRe=class{constructor(e,r){this.name=e,r&&(this.createDb=r.createDb,this.createRole=r.createRole,this.inherit=r.inherit)}static[J]="PgRole";_existing;createDb;createRole;inherit;existing(){return this._existing=!0,this}}});function JRe(t,e,r){return new AY(t,e,r)}var AY,EY=g(()=>{"use strict";Ve();AY=class{constructor(e,r,n){this.seqName=e,this.seqOptions=r,this.schema=n}static[J]="PgSequence"}});var QRe,ZRe=g(()=>{"use strict";Ve();Yn();S9();EY();Of();_Y();QRe=class{constructor(e){this.schemaName=e}static[J]="PgSchema";table=(e,r,n)=>iY(e,r,n,this.schemaName);view=(e,r)=>URe(e,r,this.schemaName);materializedView=(e,r)=>FRe(e,r,this.schemaName);enum(e,r){return Array.isArray(r)?y5e(e,[...r],this.schemaName):b5e(e,r,this.schemaName)}sequence=(e,r)=>JRe(e,r,this.schemaName);getSQL(){return new Qe([Z.identifier(this.schemaName)])}shouldOmitSQLParens(){return!0}}});async function TY(t,e){let r=`${t}-${JSON.stringify(e)}`,i=new TextEncoder().encode(r),o=await crypto.subtle.digest("SHA-256",i);return[...new Uint8Array(o)].map(c=>c.toString(16).padStart(2,"0")).join("")}var RY,kf,IY=g(()=>{"use strict";Ve();RY=class{static[J]="Cache"},kf=class extends RY{strategy(){return"all"}static[J]="NoopCache";async get(e){}async put(e,r,n,i){}async onMutate(e){}}});var Pv,kv,Dv,Y9=g(()=>{"use strict";IY();Ve();uY();mY();cp();m4();Pv=class{constructor(e,r,n,i){this.query=e,this.cache=r,this.queryMetadata=n,this.cacheConfig=i,r&&r.strategy()==="all"&&i===void 0&&(this.cacheConfig={enable:!0,autoInvalidate:!0}),this.cacheConfig?.enable||(this.cacheConfig=void 0)}authToken;getQuery(){return this.query}mapResult(e,r){return e}setToken(e){return this.authToken=e,this}static[J]="PgPreparedQuery";joinsNotNullableMap;async queryWithCache(e,r,n){if(this.cache===void 0||me(this.cache,kf)||this.queryMetadata===void 0)try{return await n()}catch(i){throw new pp(e,r,i)}if(this.cacheConfig&&!this.cacheConfig.enable)try{return await n()}catch(i){throw new pp(e,r,i)}if((this.queryMetadata.type==="insert"||this.queryMetadata.type==="update"||this.queryMetadata.type==="delete")&&this.queryMetadata.tables.length>0)try{let[i]=await Promise.all([n(),this.cache.onMutate({tables:this.queryMetadata.tables})]);return i}catch(i){throw new pp(e,r,i)}if(!this.cacheConfig)try{return await n()}catch(i){throw new pp(e,r,i)}if(this.queryMetadata.type==="select"){let i=await this.cache.get(this.cacheConfig.tag??await TY(e,r),this.queryMetadata.tables,this.cacheConfig.tag!==void 0,this.cacheConfig.autoInvalidate);if(i===void 0){let o;try{o=await n()}catch(s){throw new pp(e,r,s)}return await this.cache.put(this.cacheConfig.tag??await TY(e,r),o,this.cacheConfig.autoInvalidate?this.queryMetadata.tables:[],this.cacheConfig.tag!==void 0,this.cacheConfig.config),o}return i}try{return await n()}catch(i){throw new pp(e,r,i)}}},kv=class{constructor(e){this.dialect=e}static[J]="PgSession";execute(e,r){return en.startActiveSpan("drizzle.operation",()=>en.startActiveSpan("drizzle.prepareQuery",()=>this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1)).setToken(r).execute(void 0,r))}all(e){return this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1).all()}async count(e,r){let n=await this.execute(e,r);return Number(n[0].count)}},Dv=class extends Pf{constructor(e,r,n,i=0){super(e,r,n),this.schema=n,this.nestedIndex=i}static[J]="PgTransaction";rollback(){throw new O9}getTransactionConfigSQL(e){let r=[];return e.isolationLevel&&r.push(`isolation level ${e.isolationLevel}`),e.accessMode&&r.push(e.accessMode),typeof e.deferrable=="boolean"&&r.push(e.deferrable?"deferrable":"not deferrable"),Z.raw(r.join(" "))}setTransaction(e){return this.session.execute(Z`set transaction ${this.getTransactionConfigSQL(e)}`)}}});var XRe=g(()=>{"use strict"});var eTe=g(()=>{"use strict";jW()});var $i=g(()=>{"use strict";I5e();O5e();T9();m4();a4();MW();lRe();dRe();aY();xY();YRe();ZRe();EY();Y9();XRe();Of();zW();Nv();eTe();lY();_Y()});var CY,Mv,$v,f4=g(()=>{"use strict";Ve();CY=class{static[J]="ConsoleLogWriter";write(e){console.log(e)}},Mv=class{static[J]="DefaultLogger";writer;constructor(e){this.writer=e?.writer??new CY}logQuery(e,r){let n=r.map(o=>{try{return JSON.stringify(o)}catch{return String(o)}}),i=n.length?` -- params: [${n.join(", ")}]`:"";this.writer.write(`Query: ${e}${i}`)}},$v=class{static[J]="NoopLogger";logQuery(){}}});var _Ie={};lr(_Ie,{Client:()=>yIe,DatabaseError:()=>dgt,NeonDbError:()=>x0,NeonQueryPromise:()=>b4,Pool:()=>lgt,SqlTemplate:()=>HY,UnsafeRawSql:()=>WY,_bundleExt:()=>ugt,defaults:()=>pgt,escapeIdentifier:()=>mgt,escapeLiteral:()=>fgt,neon:()=>R0,neonConfig:()=>Lv,types:()=>gs,warnIfBrowser:()=>o7});function OTe(t){return 0}function LY(t,e=!1){let{protocol:r}=new URL(t),n="http:"+t.substring(r.length),{username:i,password:o,host:s,hostname:a,port:c,pathname:l,search:u,searchParams:d,hash:p}=new URL(n);o=decodeURIComponent(o),i=decodeURIComponent(i),l=decodeURIComponent(l);let m=i+":"+o,h=e?Object.fromEntries(d.entries()):u;return{href:t,protocol:r,auth:m,username:i,password:o,host:s,hostname:a,port:c,pathname:l,search:u,query:h,hash:p}}function y4(t){let e=1779033703,r=3144134277,n=1013904242,i=2773480762,o=1359893119,s=2600822924,a=528734635,c=1541459225,l=0,u=0,d=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],p=U((_,x)=>_>>>x|_<<32-x,"rrot"),m=new Uint32Array(64),h=new Uint8Array(64),f=U(()=>{for(let V=0,j=0;V<16;V++,j+=4)m[V]=h[j]<<24|h[j+1]<<16|h[j+2]<<8|h[j+3];for(let V=16;V<64;V++){let j=p(m[V-15],7)^p(m[V-15],18)^m[V-15]>>>3,ee=p(m[V-2],17)^p(m[V-2],19)^m[V-2]>>>10;m[V]=m[V-16]+j+m[V-7]+ee|0}let _=e,x=r,E=n,I=i,N=o,L=s,B=a,P=c;for(let V=0;V<64;V++){let j=p(N,6)^p(N,11)^p(N,25),ee=N&L^~N&B,O=P+j+ee+d[V]+m[V]|0,b=p(_,2)^p(_,13)^p(_,22),S=_&x^_&E^x&E,R=b+S|0;P=B,B=L,L=N,N=I+O|0,I=E,E=x,x=_,_=O+R|0}e=e+_|0,r=r+x|0,n=n+E|0,i=i+I|0,o=o+N|0,s=s+L|0,a=a+B|0,c=c+P|0,u=0},"process"),y=U(_=>{typeof _=="string"&&(_=new TextEncoder().encode(_));for(let x=0;x<_.length;x++)h[u++]=_[x],u===64&&f();l+=_.length},"add"),v=U(()=>{if(h[u++]=128,u==64&&f(),u+8>64){for(;u<64;)h[u++]=0;f()}for(;u<58;)h[u++]=0;let _=l*8;h[u++]=_/1099511627776&255,h[u++]=_/4294967296&255,h[u++]=_>>>24,h[u++]=_>>>16&255,h[u++]=_>>>8&255,h[u++]=_&255,f();let x=new Uint8Array(32);return x[0]=e>>>24,x[1]=e>>>16&255,x[2]=e>>>8&255,x[3]=e&255,x[4]=r>>>24,x[5]=r>>>16&255,x[6]=r>>>8&255,x[7]=r&255,x[8]=n>>>24,x[9]=n>>>16&255,x[10]=n>>>8&255,x[11]=n&255,x[12]=i>>>24,x[13]=i>>>16&255,x[14]=i>>>8&255,x[15]=i&255,x[16]=o>>>24,x[17]=o>>>16&255,x[18]=o>>>8&255,x[19]=o&255,x[20]=s>>>24,x[21]=s>>>16&255,x[22]=s>>>8&255,x[23]=s&255,x[24]=a>>>24,x[25]=a>>>16&255,x[26]=a>>>8&255,x[27]=a&255,x[28]=c>>>24,x[29]=c>>>16&255,x[30]=c>>>8&255,x[31]=c&255,x},"digest");return t===void 0?{add:y,digest:v}:(y(t),v())}function $Te(t){return crypto.getRandomValues(kt.alloc(t))}function LTe(t){if(t==="sha256")return{update:U(function(e){return{digest:U(function(){return kt.from(y4(e))},"digest")}},"update")};if(t==="md5")return{update:U(function(e){return{digest:U(function(){return typeof e=="string"?kY.hashStr(e):kY.hashByteArray(e)},"digest")}},"update")};throw new Error(`Hash type '${t}' not supported`)}function BTe(t,e){if(t!=="sha256")throw new Error(`Only sha256 is supported (requested: '${t}')`);return{update:U(function(r){return{digest:U(function(){typeof e=="string"&&(e=new TextEncoder().encode(e)),typeof r=="string"&&(r=new TextEncoder().encode(r));let n=e.length;if(n>64)e=y4(e);else if(n<64){let c=new Uint8Array(64);c.set(e),e=c}let i=new Uint8Array(64),o=new Uint8Array(64);for(let c=0;c<64;c++)i[c]=54^e[c],o[c]=92^e[c];let s=new Uint8Array(r.length+64);s.set(i,0),s.set(r,64);let a=new Uint8Array(96);return a.set(o,0),a.set(y4(s),64),kt.from(y4(a))},"digest")}},"update")}}function zTe(...t){return t.join("/")}function jTe(t,e){e(new Error("No filesystem"))}function eIe({socket:t,servername:e}){return t.startTls(e),t}function oIe(t,{alphabet:e,scratchArr:r}={}){if(!g4)if(g4=new Uint16Array(256),Z9=new Uint16Array(256),RTe)for(let m=0;m<256;m++)g4[m]=J9[m&15]<<8|J9[m>>>4],Z9[m]=Q9[m&15]<<8|Q9[m>>>4];else for(let m=0;m<256;m++)g4[m]=J9[m&15]|J9[m>>>4]<<8,Z9[m]=Q9[m&15]|Q9[m>>>4]<<8;t.byteOffset%4!==0&&(t=new Uint8Array(t));let n=t.length,i=n>>>1,o=n>>>2,s=r||new Uint16Array(n),a=new Uint32Array(t.buffer,t.byteOffset,o),c=new Uint32Array(s.buffer,s.byteOffset,i),l=e==="upper"?Z9:g4,u=0,d=0,p;if(RTe)for(;u<o;)p=a[u++],c[d++]=l[p>>>8&255]<<16|l[p&255],c[d++]=l[p>>>24]<<16|l[p>>>16&255];else for(;u<o;)p=a[u++],c[d++]=l[p>>>24]<<16|l[p>>>16&255],c[d++]=l[p>>>8&255]<<16|l[p&255];for(u<<=2;u<n;)s[u]=l[t[u++]];return tgt.decode(s.subarray(0,n))}function sIe(t,e={}){let r="",n=t.length,i=egt>>>1,o=Math.ceil(n/i),s=new Uint16Array(o>1?i:n);for(let a=0;a<o;a++){let c=a*i,l=c+i;r+=oIe(t.subarray(c,l),Xht(Zht({},e),{scratchArr:s}))}return r}function aIe(t,e={}){return e.alphabet!=="upper"&&typeof t.toHex=="function"?t.toHex():sIe(t,e)}function o7(){typeof window<"u"&&typeof document<"u"&&typeof console<"u"&&typeof console.warn=="function"&&console.warn(`          
        ************************************************************
        *                                                          *
        *  WARNING: Running SQL directly from the browser can have *
        *  security implications. Even if your database is         *
        *  protected by Row-Level Security (RLS), use it at your   *
        *  own risk. This approach is great for fast prototyping,  *
        *  but ensure proper safeguards are in place to prevent    *
        *  misuse or execution of expensive SQL queries by your    *
        *  end users.                                              *
        *                                                          *
        *  If you've assessed the risks, suppress this message     *
        *  using the disableWarningInBrowsers configuration        *
        *  parameter.                                              *
        *                                                          *
        ************************************************************`)}function mIe(t){return t instanceof kt?"\\x"+aIe(t):t}function DY(t){let{query:e,params:r}=t instanceof HY?t.toParameterizedQuery():t;return{query:e,params:r.map(n=>mIe((0,igt.prepareValue)(n)))}}function R0(t,{arrayMode:e,fullResults:r,fetchOptions:n,isolationLevel:i,readOnly:o,deferrable:s,authToken:a,disableWarningInBrowsers:c}={}){if(!t)throw new Error("No database connection string was provided to `neon()`. Perhaps an environment variable has not been set?");let l;try{l=LY(t)}catch{throw new Error("Database connection string provided to `neon()` is not a valid URL. Connection string: "+String(t))}let{protocol:u,username:d,hostname:p,port:m,pathname:h}=l;if(u!=="postgres:"&&u!=="postgresql:"||!d||!p||!h)throw new Error("Database connection string format for `neon()` should be: postgresql://user:password@host.tld/dbname?option=value");function f(v,..._){if(!(Array.isArray(v)&&Array.isArray(v.raw)&&Array.isArray(_)))throw new Error('This function can now be called only as a tagged-template function: sql`SELECT ${value}`, not sql("SELECT $1", [value], options). For a conventional function call with value placeholders ($1, $2, etc.), use sql.query("SELECT $1", [value], options).');return new b4(y,new HY(v,_))}U(f,"templateFn"),f.query=(v,_,x)=>new b4(y,{query:v,params:_??[]},x),f.unsafe=v=>new WY(v),f.transaction=async(v,_)=>{if(typeof v=="function"&&(v=v(f)),!Array.isArray(v))throw new Error(TTe);v.forEach(I=>{if(!(I instanceof b4))throw new Error(TTe)});let x=v.map(I=>I.queryData),E=v.map(I=>I.opts??{});return y(x,E,_)};async function y(v,_,x){let{fetchEndpoint:E,fetchFunction:I}=Lv,N=Array.isArray(v)?{queries:v.map(F=>DY(F))}:DY(v),L=n??{},B=e??!1,P=r??!1,V=i,j=o,ee=s;x!==void 0&&(x.fetchOptions!==void 0&&(L={...L,...x.fetchOptions}),x.arrayMode!==void 0&&(B=x.arrayMode),x.fullResults!==void 0&&(P=x.fullResults),x.isolationLevel!==void 0&&(V=x.isolationLevel),x.readOnly!==void 0&&(j=x.readOnly),x.deferrable!==void 0&&(ee=x.deferrable)),_!==void 0&&!Array.isArray(_)&&_.fetchOptions!==void 0&&(L={...L,..._.fetchOptions});let O=a;!Array.isArray(_)&&_?.authToken!==void 0&&(O=_.authToken);let b=typeof E=="function"?E(p,m,{jwtAuth:O!==void 0}):E,S={"Neon-Connection-String":t,"Neon-Raw-Text-Output":"true","Neon-Array-Mode":"true"},R=await hIe(O);R&&(S.Authorization=`Bearer ${R}`),Array.isArray(v)&&(V!==void 0&&(S["Neon-Batch-Isolation-Level"]=V),j!==void 0&&(S["Neon-Batch-Read-Only"]=String(j)),ee!==void 0&&(S["Neon-Batch-Deferrable"]=String(ee))),c||Lv.disableWarningInBrowsers||o7();let k;try{k=await(I??fetch)(b,{method:"POST",body:JSON.stringify(N),headers:S,...L})}catch(F){let q=new x0(`Error connecting to database: ${F}`);throw q.sourceError=F,q}if(k.ok){let F=await k.json();if(Array.isArray(v)){let q=F.results;if(!Array.isArray(q))throw new x0("Neon internal error: unexpected result format");return q.map((K,z)=>{let A=_[z]??{},W=A.arrayMode??B,xe=A.fullResults??P;return MY(K,{arrayMode:W,fullResults:xe,types:A.types})})}else{let q=_??{},K=q.arrayMode??B,z=q.fullResults??P;return MY(F,{arrayMode:K,fullResults:z,types:q.types})}}else{let{status:F}=k;if(F===400){let q=await k.json(),K=new x0(q.message);for(let z of ogt)K[z]=q[z]??void 0;throw K}else{let q=await k.text();throw new x0(`Server error (HTTP status ${F}): ${q}`)}}}return U(y,"execute"),f}function MY(t,{arrayMode:e,fullResults:r,types:n}){let i=new ngt.default(n),o=t.fields.map(c=>c.name),s=t.fields.map(c=>i.getTypeParser(c.dataTypeID)),a=e===!0?t.rows.map(c=>c.map((l,u)=>l===null?null:s[u](l))):t.rows.map(c=>Object.fromEntries(c.map((l,u)=>[o[u],l===null?null:s[u](l)])));return r?(t.viaNeonFetch=!0,t.rowAsArray=e,t.rows=a,t._parsers=s,t._types=i,t):a}async function hIe(t){if(typeof t=="string")return t;if(typeof t=="function")try{return await Promise.resolve(t())}catch(e){let r=new x0("Error getting auth token.");throw e instanceof Error&&(r=new x0(`Error getting auth token: ${e.message}`)),r}}function bIe(t,e){if(e)return{callback:e,result:void 0};let r,n,i=U(function(s,a){s?r(s):n(a)},"cb"),o=new t(function(s,a){n=s,r=a});return{callback:i,result:o}}var aht,Bv,cht,lht,uht,dht,pht,U,ra,rr,Hl,ITe,A0,Ji,Mt,mht,fht,hht,X9,$Y,ght,kt,tr,ft,E0,CTe,wTe,NY,h4,Lv,v4,NTe,PTe,kTe,MTe,yht,bht,vht,_ht,Sht,wht,xht,Aht,e7,BY,Eht,hp,kY,Rht,UY,UTe,t7,r7,_4,FTe,n7,Tht,FY,VTe,zY,qTe,VY,HTe,WTe,GTe,PY,KTe,Iht,Cht,Oht,Nht,YTe,JTe,Pht,kht,jY,Dht,Mht,QTe,$ht,Lht,Bht,Uht,ZTe,XTe,Fht,tIe,zht,Vht,rIe,nIe,jht,qht,Hht,Wht,xTe,i7,Ght,Kht,Yht,ATe,Jht,Qht,ETe,Zht,Xht,egt,RTe,tgt,qY,J9,Q9,rgt,iIe,g4,Z9,cIe,HY,uIe,WY,ngt,igt,dIe,x0,TTe,ogt,fIe,b4,sgt,agt,gIe,yIe,cgt,vIe,lgt,S4,ugt,dgt,pgt,mgt,fgt,gs,GY=g(()=>{"use strict";aht=Object.create,Bv=Object.defineProperty,cht=Object.getOwnPropertyDescriptor,lht=Object.getOwnPropertyNames,uht=Object.getPrototypeOf,dht=Object.prototype.hasOwnProperty,pht=(t,e,r)=>e in t?Bv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,U=(t,e)=>Bv(t,"name",{value:e,configurable:!0}),ra=(t,e)=>()=>(t&&(e=t(t=0)),e),rr=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Hl=(t,e)=>{for(var r in e)Bv(t,r,{get:e[r],enumerable:!0})},ITe=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of lht(e))!dht.call(t,i)&&i!==r&&Bv(t,i,{get:()=>e[i],enumerable:!(n=cht(e,i))||n.enumerable});return t},A0=(t,e,r)=>(r=t!=null?aht(uht(t)):{},ITe(e||!t||!t.__esModule?Bv(r,"default",{value:t,enumerable:!0}):r,t)),Ji=t=>ITe(Bv({},"__esModule",{value:!0}),t),Mt=(t,e,r)=>pht(t,typeof e!="symbol"?e+"":e,r),mht=rr(t=>{"use strict";ft(),t.byteLength=c,t.toByteArray=u,t.fromByteArray=m;var e=[],r=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(o=0,s=i.length;o<s;++o)e[o]=i[o],r[i.charCodeAt(o)]=o;var o,s;r[45]=62,r[95]=63;function a(h){var f=h.length;if(f%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=h.indexOf("=");y===-1&&(y=f);var v=y===f?0:4-y%4;return[y,v]}U(a,"getLens");function c(h){var f=a(h),y=f[0],v=f[1];return(y+v)*3/4-v}U(c,"byteLength");function l(h,f,y){return(f+y)*3/4-y}U(l,"_byteLength");function u(h){var f,y=a(h),v=y[0],_=y[1],x=new n(l(h,v,_)),E=0,I=_>0?v-4:v,N;for(N=0;N<I;N+=4)f=r[h.charCodeAt(N)]<<18|r[h.charCodeAt(N+1)]<<12|r[h.charCodeAt(N+2)]<<6|r[h.charCodeAt(N+3)],x[E++]=f>>16&255,x[E++]=f>>8&255,x[E++]=f&255;return _===2&&(f=r[h.charCodeAt(N)]<<2|r[h.charCodeAt(N+1)]>>4,x[E++]=f&255),_===1&&(f=r[h.charCodeAt(N)]<<10|r[h.charCodeAt(N+1)]<<4|r[h.charCodeAt(N+2)]>>2,x[E++]=f>>8&255,x[E++]=f&255),x}U(u,"toByteArray");function d(h){return e[h>>18&63]+e[h>>12&63]+e[h>>6&63]+e[h&63]}U(d,"tripletToBase64");function p(h,f,y){for(var v,_=[],x=f;x<y;x+=3)v=(h[x]<<16&16711680)+(h[x+1]<<8&65280)+(h[x+2]&255),_.push(d(v));return _.join("")}U(p,"encodeChunk");function m(h){for(var f,y=h.length,v=y%3,_=[],x=16383,E=0,I=y-v;E<I;E+=x)_.push(p(h,E,E+x>I?I:E+x));return v===1?(f=h[y-1],_.push(e[f>>2]+e[f<<4&63]+"==")):v===2&&(f=(h[y-2]<<8)+h[y-1],_.push(e[f>>10]+e[f>>4&63]+e[f<<2&63]+"=")),_.join("")}U(m,"fromByteArray")}),fht=rr(t=>{ft(),t.read=function(e,r,n,i,o){var s,a,c=o*8-i-1,l=(1<<c)-1,u=l>>1,d=-7,p=n?o-1:0,m=n?-1:1,h=e[r+p];for(p+=m,s=h&(1<<-d)-1,h>>=-d,d+=c;d>0;s=s*256+e[r+p],p+=m,d-=8);for(a=s&(1<<-d)-1,s>>=-d,d+=i;d>0;a=a*256+e[r+p],p+=m,d-=8);if(s===0)s=1-u;else{if(s===l)return a?NaN:(h?-1:1)*(1/0);a=a+Math.pow(2,i),s=s-u}return(h?-1:1)*a*Math.pow(2,s-i)},t.write=function(e,r,n,i,o,s){var a,c,l,u=s*8-o-1,d=(1<<u)-1,p=d>>1,m=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:s-1,f=i?1:-1,y=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(c=isNaN(r)?1:0,a=d):(a=Math.floor(Math.log(r)/Math.LN2),r*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+p>=1?r+=m/l:r+=m*Math.pow(2,1-p),r*l>=2&&(a++,l/=2),a+p>=d?(c=0,a=d):a+p>=1?(c=(r*l-1)*Math.pow(2,o),a=a+p):(c=r*Math.pow(2,p-1)*Math.pow(2,o),a=0));o>=8;e[n+h]=c&255,h+=f,c/=256,o-=8);for(a=a<<o|c,u+=o;u>0;e[n+h]=a&255,h+=f,a/=256,u-=8);e[n+h-f]|=y*128}}),hht=rr(t=>{"use strict";ft();var e=mht(),r=fht(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=_,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{let w=new Uint8Array(1),C={foo:U(function(){return 42},"foo")};return Object.setPrototypeOf(C,Uint8Array.prototype),Object.setPrototypeOf(w,C),w.foo()===42}catch{return!1}}U(o,"typedArraySupport"),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:U(function(){if(a.isBuffer(this))return this.buffer},"get")}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:U(function(){if(a.isBuffer(this))return this.byteOffset},"get")});function s(w){if(w>i)throw new RangeError('The value "'+w+'" is invalid for option "size"');let C=new Uint8Array(w);return Object.setPrototypeOf(C,a.prototype),C}U(s,"createBuffer");function a(w,C,$){if(typeof w=="number"){if(typeof C=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(w)}return c(w,C,$)}U(a,"Buffer"),a.poolSize=8192;function c(w,C,$){if(typeof w=="string")return p(w,C);if(ArrayBuffer.isView(w))return h(w);if(w==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof w);if(Po(w,ArrayBuffer)||w&&Po(w.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Po(w,SharedArrayBuffer)||w&&Po(w.buffer,SharedArrayBuffer)))return f(w,C,$);if(typeof w=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let X=w.valueOf&&w.valueOf();if(X!=null&&X!==w)return a.from(X,C,$);let H=y(w);if(H)return H;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof w[Symbol.toPrimitive]=="function")return a.from(w[Symbol.toPrimitive]("string"),C,$);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof w)}U(c,"from"),a.from=function(w,C,$){return c(w,C,$)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(w){if(typeof w!="number")throw new TypeError('"size" argument must be of type number');if(w<0)throw new RangeError('The value "'+w+'" is invalid for option "size"')}U(l,"assertSize");function u(w,C,$){return l(w),w<=0?s(w):C!==void 0?typeof $=="string"?s(w).fill(C,$):s(w).fill(C):s(w)}U(u,"alloc"),a.alloc=function(w,C,$){return u(w,C,$)};function d(w){return l(w),s(w<0?0:v(w)|0)}U(d,"allocUnsafe"),a.allocUnsafe=function(w){return d(w)},a.allocUnsafeSlow=function(w){return d(w)};function p(w,C){if((typeof C!="string"||C==="")&&(C="utf8"),!a.isEncoding(C))throw new TypeError("Unknown encoding: "+C);let $=x(w,C)|0,X=s($),H=X.write(w,C);return H!==$&&(X=X.slice(0,H)),X}U(p,"fromString");function m(w){let C=w.length<0?0:v(w.length)|0,$=s(C);for(let X=0;X<C;X+=1)$[X]=w[X]&255;return $}U(m,"fromArrayLike");function h(w){if(Po(w,Uint8Array)){let C=new Uint8Array(w);return f(C.buffer,C.byteOffset,C.byteLength)}return m(w)}U(h,"fromArrayView");function f(w,C,$){if(C<0||w.byteLength<C)throw new RangeError('"offset" is outside of buffer bounds');if(w.byteLength<C+($||0))throw new RangeError('"length" is outside of buffer bounds');let X;return C===void 0&&$===void 0?X=new Uint8Array(w):$===void 0?X=new Uint8Array(w,C):X=new Uint8Array(w,C,$),Object.setPrototypeOf(X,a.prototype),X}U(f,"fromArrayBuffer");function y(w){if(a.isBuffer(w)){let C=v(w.length)|0,$=s(C);return $.length===0||w.copy($,0,0,C),$}if(w.length!==void 0)return typeof w.length!="number"||Qr(w.length)?s(0):m(w);if(w.type==="Buffer"&&Array.isArray(w.data))return m(w.data)}U(y,"fromObject");function v(w){if(w>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return w|0}U(v,"checked");function _(w){return+w!=w&&(w=0),a.alloc(+w)}U(_,"SlowBuffer"),a.isBuffer=U(function(w){return w!=null&&w._isBuffer===!0&&w!==a.prototype},"isBuffer"),a.compare=U(function(w,C){if(Po(w,Uint8Array)&&(w=a.from(w,w.offset,w.byteLength)),Po(C,Uint8Array)&&(C=a.from(C,C.offset,C.byteLength)),!a.isBuffer(w)||!a.isBuffer(C))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(w===C)return 0;let $=w.length,X=C.length;for(let H=0,G=Math.min($,X);H<G;++H)if(w[H]!==C[H]){$=w[H],X=C[H];break}return $<X?-1:X<$?1:0},"compare"),a.isEncoding=U(function(w){switch(String(w).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding"),a.concat=U(function(w,C){if(!Array.isArray(w))throw new TypeError('"list" argument must be an Array of Buffers');if(w.length===0)return a.alloc(0);let $;if(C===void 0)for(C=0,$=0;$<w.length;++$)C+=w[$].length;let X=a.allocUnsafe(C),H=0;for($=0;$<w.length;++$){let G=w[$];if(Po(G,Uint8Array))H+G.length>X.length?(a.isBuffer(G)||(G=a.from(G)),G.copy(X,H)):Uint8Array.prototype.set.call(X,G,H);else if(a.isBuffer(G))G.copy(X,H);else throw new TypeError('"list" argument must be an Array of Buffers');H+=G.length}return X},"concat");function x(w,C){if(a.isBuffer(w))return w.length;if(ArrayBuffer.isView(w)||Po(w,ArrayBuffer))return w.byteLength;if(typeof w!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof w);let $=w.length,X=arguments.length>2&&arguments[2]===!0;if(!X&&$===0)return 0;let H=!1;for(;;)switch(C){case"ascii":case"latin1":case"binary":return $;case"utf8":case"utf-8":return jr(w).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $*2;case"hex":return $>>>1;case"base64":return Jr(w).length;default:if(H)return X?-1:jr(w).length;C=(""+C).toLowerCase(),H=!0}}U(x,"byteLength"),a.byteLength=x;function E(w,C,$){let X=!1;if((C===void 0||C<0)&&(C=0),C>this.length||(($===void 0||$>this.length)&&($=this.length),$<=0)||($>>>=0,C>>>=0,$<=C))return"";for(w||(w="utf8");;)switch(w){case"hex":return q(this,C,$);case"utf8":case"utf-8":return b(this,C,$);case"ascii":return k(this,C,$);case"latin1":case"binary":return F(this,C,$);case"base64":return O(this,C,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,C,$);default:if(X)throw new TypeError("Unknown encoding: "+w);w=(w+"").toLowerCase(),X=!0}}U(E,"slowToString"),a.prototype._isBuffer=!0;function I(w,C,$){let X=w[C];w[C]=w[$],w[$]=X}U(I,"swap"),a.prototype.swap16=U(function(){let w=this.length;if(w%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let C=0;C<w;C+=2)I(this,C,C+1);return this},"swap16"),a.prototype.swap32=U(function(){let w=this.length;if(w%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let C=0;C<w;C+=4)I(this,C,C+3),I(this,C+1,C+2);return this},"swap32"),a.prototype.swap64=U(function(){let w=this.length;if(w%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let C=0;C<w;C+=8)I(this,C,C+7),I(this,C+1,C+6),I(this,C+2,C+5),I(this,C+3,C+4);return this},"swap64"),a.prototype.toString=U(function(){let w=this.length;return w===0?"":arguments.length===0?b(this,0,w):E.apply(this,arguments)},"toString"),a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=U(function(w){if(!a.isBuffer(w))throw new TypeError("Argument must be a Buffer");return this===w?!0:a.compare(this,w)===0},"equals"),a.prototype.inspect=U(function(){let w="",C=t.INSPECT_MAX_BYTES;return w=this.toString("hex",0,C).replace(/(.{2})/g,"$1 ").trim(),this.length>C&&(w+=" ... "),"<Buffer "+w+">"},"inspect"),n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=U(function(w,C,$,X,H){if(Po(w,Uint8Array)&&(w=a.from(w,w.offset,w.byteLength)),!a.isBuffer(w))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof w);if(C===void 0&&(C=0),$===void 0&&($=w?w.length:0),X===void 0&&(X=0),H===void 0&&(H=this.length),C<0||$>w.length||X<0||H>this.length)throw new RangeError("out of range index");if(X>=H&&C>=$)return 0;if(X>=H)return-1;if(C>=$)return 1;if(C>>>=0,$>>>=0,X>>>=0,H>>>=0,this===w)return 0;let G=H-X,te=$-C,_e=Math.min(G,te),Ne=this.slice(X,H),st=w.slice(C,$);for(let Ot=0;Ot<_e;++Ot)if(Ne[Ot]!==st[Ot]){G=Ne[Ot],te=st[Ot];break}return G<te?-1:te<G?1:0},"compare");function N(w,C,$,X,H){if(w.length===0)return-1;if(typeof $=="string"?(X=$,$=0):$>2147483647?$=2147483647:$<-2147483648&&($=-2147483648),$=+$,Qr($)&&($=H?0:w.length-1),$<0&&($=w.length+$),$>=w.length){if(H)return-1;$=w.length-1}else if($<0)if(H)$=0;else return-1;if(typeof C=="string"&&(C=a.from(C,X)),a.isBuffer(C))return C.length===0?-1:L(w,C,$,X,H);if(typeof C=="number")return C=C&255,typeof Uint8Array.prototype.indexOf=="function"?H?Uint8Array.prototype.indexOf.call(w,C,$):Uint8Array.prototype.lastIndexOf.call(w,C,$):L(w,[C],$,X,H);throw new TypeError("val must be string, number or Buffer")}U(N,"bidirectionalIndexOf");function L(w,C,$,X,H){let G=1,te=w.length,_e=C.length;if(X!==void 0&&(X=String(X).toLowerCase(),X==="ucs2"||X==="ucs-2"||X==="utf16le"||X==="utf-16le")){if(w.length<2||C.length<2)return-1;G=2,te/=2,_e/=2,$/=2}function Ne(Ot,He){return G===1?Ot[He]:Ot.readUInt16BE(He*G)}U(Ne,"read");let st;if(H){let Ot=-1;for(st=$;st<te;st++)if(Ne(w,st)===Ne(C,Ot===-1?0:st-Ot)){if(Ot===-1&&(Ot=st),st-Ot+1===_e)return Ot*G}else Ot!==-1&&(st-=st-Ot),Ot=-1}else for($+_e>te&&($=te-_e),st=$;st>=0;st--){let Ot=!0;for(let He=0;He<_e;He++)if(Ne(w,st+He)!==Ne(C,He)){Ot=!1;break}if(Ot)return st}return-1}U(L,"arrayIndexOf"),a.prototype.includes=U(function(w,C,$){return this.indexOf(w,C,$)!==-1},"includes"),a.prototype.indexOf=U(function(w,C,$){return N(this,w,C,$,!0)},"indexOf"),a.prototype.lastIndexOf=U(function(w,C,$){return N(this,w,C,$,!1)},"lastIndexOf");function B(w,C,$,X){$=Number($)||0;let H=w.length-$;X?(X=Number(X),X>H&&(X=H)):X=H;let G=C.length;X>G/2&&(X=G/2);let te;for(te=0;te<X;++te){let _e=parseInt(C.substr(te*2,2),16);if(Qr(_e))return te;w[$+te]=_e}return te}U(B,"hexWrite");function P(w,C,$,X){return Ir(jr(C,w.length-$),w,$,X)}U(P,"utf8Write");function V(w,C,$,X){return Ir(cn(C),w,$,X)}U(V,"asciiWrite");function j(w,C,$,X){return Ir(Jr(C),w,$,X)}U(j,"base64Write");function ee(w,C,$,X){return Ir(Hm(C,w.length-$),w,$,X)}U(ee,"ucs2Write"),a.prototype.write=U(function(w,C,$,X){if(C===void 0)X="utf8",$=this.length,C=0;else if($===void 0&&typeof C=="string")X=C,$=this.length,C=0;else if(isFinite(C))C=C>>>0,isFinite($)?($=$>>>0,X===void 0&&(X="utf8")):(X=$,$=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let H=this.length-C;if(($===void 0||$>H)&&($=H),w.length>0&&($<0||C<0)||C>this.length)throw new RangeError("Attempt to write outside buffer bounds");X||(X="utf8");let G=!1;for(;;)switch(X){case"hex":return B(this,w,C,$);case"utf8":case"utf-8":return P(this,w,C,$);case"ascii":case"latin1":case"binary":return V(this,w,C,$);case"base64":return j(this,w,C,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,w,C,$);default:if(G)throw new TypeError("Unknown encoding: "+X);X=(""+X).toLowerCase(),G=!0}},"write"),a.prototype.toJSON=U(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON");function O(w,C,$){return C===0&&$===w.length?e.fromByteArray(w):e.fromByteArray(w.slice(C,$))}U(O,"base64Slice");function b(w,C,$){$=Math.min(w.length,$);let X=[],H=C;for(;H<$;){let G=w[H],te=null,_e=G>239?4:G>223?3:G>191?2:1;if(H+_e<=$){let Ne,st,Ot,He;switch(_e){case 1:G<128&&(te=G);break;case 2:Ne=w[H+1],(Ne&192)===128&&(He=(G&31)<<6|Ne&63,He>127&&(te=He));break;case 3:Ne=w[H+1],st=w[H+2],(Ne&192)===128&&(st&192)===128&&(He=(G&15)<<12|(Ne&63)<<6|st&63,He>2047&&(He<55296||He>57343)&&(te=He));break;case 4:Ne=w[H+1],st=w[H+2],Ot=w[H+3],(Ne&192)===128&&(st&192)===128&&(Ot&192)===128&&(He=(G&15)<<18|(Ne&63)<<12|(st&63)<<6|Ot&63,He>65535&&He<1114112&&(te=He))}}te===null?(te=65533,_e=1):te>65535&&(te-=65536,X.push(te>>>10&1023|55296),te=56320|te&1023),X.push(te),H+=_e}return R(X)}U(b,"utf8Slice");var S=4096;function R(w){let C=w.length;if(C<=S)return String.fromCharCode.apply(String,w);let $="",X=0;for(;X<C;)$+=String.fromCharCode.apply(String,w.slice(X,X+=S));return $}U(R,"decodeCodePointsArray");function k(w,C,$){let X="";$=Math.min(w.length,$);for(let H=C;H<$;++H)X+=String.fromCharCode(w[H]&127);return X}U(k,"asciiSlice");function F(w,C,$){let X="";$=Math.min(w.length,$);for(let H=C;H<$;++H)X+=String.fromCharCode(w[H]);return X}U(F,"latin1Slice");function q(w,C,$){let X=w.length;(!C||C<0)&&(C=0),(!$||$<0||$>X)&&($=X);let H="";for(let G=C;G<$;++G)H+=xn[w[G]];return H}U(q,"hexSlice");function K(w,C,$){let X=w.slice(C,$),H="";for(let G=0;G<X.length-1;G+=2)H+=String.fromCharCode(X[G]+X[G+1]*256);return H}U(K,"utf16leSlice"),a.prototype.slice=U(function(w,C){let $=this.length;w=~~w,C=C===void 0?$:~~C,w<0?(w+=$,w<0&&(w=0)):w>$&&(w=$),C<0?(C+=$,C<0&&(C=0)):C>$&&(C=$),C<w&&(C=w);let X=this.subarray(w,C);return Object.setPrototypeOf(X,a.prototype),X},"slice");function z(w,C,$){if(w%1!==0||w<0)throw new RangeError("offset is not uint");if(w+C>$)throw new RangeError("Trying to access beyond buffer length")}U(z,"checkOffset"),a.prototype.readUintLE=a.prototype.readUIntLE=U(function(w,C,$){w=w>>>0,C=C>>>0,$||z(w,C,this.length);let X=this[w],H=1,G=0;for(;++G<C&&(H*=256);)X+=this[w+G]*H;return X},"readUIntLE"),a.prototype.readUintBE=a.prototype.readUIntBE=U(function(w,C,$){w=w>>>0,C=C>>>0,$||z(w,C,this.length);let X=this[w+--C],H=1;for(;C>0&&(H*=256);)X+=this[w+--C]*H;return X},"readUIntBE"),a.prototype.readUint8=a.prototype.readUInt8=U(function(w,C){return w=w>>>0,C||z(w,1,this.length),this[w]},"readUInt8"),a.prototype.readUint16LE=a.prototype.readUInt16LE=U(function(w,C){return w=w>>>0,C||z(w,2,this.length),this[w]|this[w+1]<<8},"readUInt16LE"),a.prototype.readUint16BE=a.prototype.readUInt16BE=U(function(w,C){return w=w>>>0,C||z(w,2,this.length),this[w]<<8|this[w+1]},"readUInt16BE"),a.prototype.readUint32LE=a.prototype.readUInt32LE=U(function(w,C){return w=w>>>0,C||z(w,4,this.length),(this[w]|this[w+1]<<8|this[w+2]<<16)+this[w+3]*16777216},"readUInt32LE"),a.prototype.readUint32BE=a.prototype.readUInt32BE=U(function(w,C){return w=w>>>0,C||z(w,4,this.length),this[w]*16777216+(this[w+1]<<16|this[w+2]<<8|this[w+3])},"readUInt32BE"),a.prototype.readBigUInt64LE=ks(U(function(w){w=w>>>0,vr(w,"offset");let C=this[w],$=this[w+7];(C===void 0||$===void 0)&&sr(w,this.length-8);let X=C+this[++w]*2**8+this[++w]*2**16+this[++w]*2**24,H=this[++w]+this[++w]*2**8+this[++w]*2**16+$*2**24;return BigInt(X)+(BigInt(H)<<BigInt(32))},"readBigUInt64LE")),a.prototype.readBigUInt64BE=ks(U(function(w){w=w>>>0,vr(w,"offset");let C=this[w],$=this[w+7];(C===void 0||$===void 0)&&sr(w,this.length-8);let X=C*2**24+this[++w]*2**16+this[++w]*2**8+this[++w],H=this[++w]*2**24+this[++w]*2**16+this[++w]*2**8+$;return(BigInt(X)<<BigInt(32))+BigInt(H)},"readBigUInt64BE")),a.prototype.readIntLE=U(function(w,C,$){w=w>>>0,C=C>>>0,$||z(w,C,this.length);let X=this[w],H=1,G=0;for(;++G<C&&(H*=256);)X+=this[w+G]*H;return H*=128,X>=H&&(X-=Math.pow(2,8*C)),X},"readIntLE"),a.prototype.readIntBE=U(function(w,C,$){w=w>>>0,C=C>>>0,$||z(w,C,this.length);let X=C,H=1,G=this[w+--X];for(;X>0&&(H*=256);)G+=this[w+--X]*H;return H*=128,G>=H&&(G-=Math.pow(2,8*C)),G},"readIntBE"),a.prototype.readInt8=U(function(w,C){return w=w>>>0,C||z(w,1,this.length),this[w]&128?(255-this[w]+1)*-1:this[w]},"readInt8"),a.prototype.readInt16LE=U(function(w,C){w=w>>>0,C||z(w,2,this.length);let $=this[w]|this[w+1]<<8;return $&32768?$|4294901760:$},"readInt16LE"),a.prototype.readInt16BE=U(function(w,C){w=w>>>0,C||z(w,2,this.length);let $=this[w+1]|this[w]<<8;return $&32768?$|4294901760:$},"readInt16BE"),a.prototype.readInt32LE=U(function(w,C){return w=w>>>0,C||z(w,4,this.length),this[w]|this[w+1]<<8|this[w+2]<<16|this[w+3]<<24},"readInt32LE"),a.prototype.readInt32BE=U(function(w,C){return w=w>>>0,C||z(w,4,this.length),this[w]<<24|this[w+1]<<16|this[w+2]<<8|this[w+3]},"readInt32BE"),a.prototype.readBigInt64LE=ks(U(function(w){w=w>>>0,vr(w,"offset");let C=this[w],$=this[w+7];(C===void 0||$===void 0)&&sr(w,this.length-8);let X=this[w+4]+this[w+5]*2**8+this[w+6]*2**16+($<<24);return(BigInt(X)<<BigInt(32))+BigInt(C+this[++w]*2**8+this[++w]*2**16+this[++w]*2**24)},"readBigInt64LE")),a.prototype.readBigInt64BE=ks(U(function(w){w=w>>>0,vr(w,"offset");let C=this[w],$=this[w+7];(C===void 0||$===void 0)&&sr(w,this.length-8);let X=(C<<24)+this[++w]*2**16+this[++w]*2**8+this[++w];return(BigInt(X)<<BigInt(32))+BigInt(this[++w]*2**24+this[++w]*2**16+this[++w]*2**8+$)},"readBigInt64BE")),a.prototype.readFloatLE=U(function(w,C){return w=w>>>0,C||z(w,4,this.length),r.read(this,w,!0,23,4)},"readFloatLE"),a.prototype.readFloatBE=U(function(w,C){return w=w>>>0,C||z(w,4,this.length),r.read(this,w,!1,23,4)},"readFloatBE"),a.prototype.readDoubleLE=U(function(w,C){return w=w>>>0,C||z(w,8,this.length),r.read(this,w,!0,52,8)},"readDoubleLE"),a.prototype.readDoubleBE=U(function(w,C){return w=w>>>0,C||z(w,8,this.length),r.read(this,w,!1,52,8)},"readDoubleBE");function A(w,C,$,X,H,G){if(!a.isBuffer(w))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>H||C<G)throw new RangeError('"value" argument is out of bounds');if($+X>w.length)throw new RangeError("Index out of range")}U(A,"checkInt"),a.prototype.writeUintLE=a.prototype.writeUIntLE=U(function(w,C,$,X){if(w=+w,C=C>>>0,$=$>>>0,!X){let te=Math.pow(2,8*$)-1;A(this,w,C,$,te,0)}let H=1,G=0;for(this[C]=w&255;++G<$&&(H*=256);)this[C+G]=w/H&255;return C+$},"writeUIntLE"),a.prototype.writeUintBE=a.prototype.writeUIntBE=U(function(w,C,$,X){if(w=+w,C=C>>>0,$=$>>>0,!X){let te=Math.pow(2,8*$)-1;A(this,w,C,$,te,0)}let H=$-1,G=1;for(this[C+H]=w&255;--H>=0&&(G*=256);)this[C+H]=w/G&255;return C+$},"writeUIntBE"),a.prototype.writeUint8=a.prototype.writeUInt8=U(function(w,C,$){return w=+w,C=C>>>0,$||A(this,w,C,1,255,0),this[C]=w&255,C+1},"writeUInt8"),a.prototype.writeUint16LE=a.prototype.writeUInt16LE=U(function(w,C,$){return w=+w,C=C>>>0,$||A(this,w,C,2,65535,0),this[C]=w&255,this[C+1]=w>>>8,C+2},"writeUInt16LE"),a.prototype.writeUint16BE=a.prototype.writeUInt16BE=U(function(w,C,$){return w=+w,C=C>>>0,$||A(this,w,C,2,65535,0),this[C]=w>>>8,this[C+1]=w&255,C+2},"writeUInt16BE"),a.prototype.writeUint32LE=a.prototype.writeUInt32LE=U(function(w,C,$){return w=+w,C=C>>>0,$||A(this,w,C,4,4294967295,0),this[C+3]=w>>>24,this[C+2]=w>>>16,this[C+1]=w>>>8,this[C]=w&255,C+4},"writeUInt32LE"),a.prototype.writeUint32BE=a.prototype.writeUInt32BE=U(function(w,C,$){return w=+w,C=C>>>0,$||A(this,w,C,4,4294967295,0),this[C]=w>>>24,this[C+1]=w>>>16,this[C+2]=w>>>8,this[C+3]=w&255,C+4},"writeUInt32BE");function W(w,C,$,X,H){Re(C,X,H,w,$,7);let G=Number(C&BigInt(4294967295));w[$++]=G,G=G>>8,w[$++]=G,G=G>>8,w[$++]=G,G=G>>8,w[$++]=G;let te=Number(C>>BigInt(32)&BigInt(4294967295));return w[$++]=te,te=te>>8,w[$++]=te,te=te>>8,w[$++]=te,te=te>>8,w[$++]=te,$}U(W,"wrtBigUInt64LE");function xe(w,C,$,X,H){Re(C,X,H,w,$,7);let G=Number(C&BigInt(4294967295));w[$+7]=G,G=G>>8,w[$+6]=G,G=G>>8,w[$+5]=G,G=G>>8,w[$+4]=G;let te=Number(C>>BigInt(32)&BigInt(4294967295));return w[$+3]=te,te=te>>8,w[$+2]=te,te=te>>8,w[$+1]=te,te=te>>8,w[$]=te,$+8}U(xe,"wrtBigUInt64BE"),a.prototype.writeBigUInt64LE=ks(U(function(w,C=0){return W(this,w,C,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64LE")),a.prototype.writeBigUInt64BE=ks(U(function(w,C=0){return xe(this,w,C,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64BE")),a.prototype.writeIntLE=U(function(w,C,$,X){if(w=+w,C=C>>>0,!X){let _e=Math.pow(2,8*$-1);A(this,w,C,$,_e-1,-_e)}let H=0,G=1,te=0;for(this[C]=w&255;++H<$&&(G*=256);)w<0&&te===0&&this[C+H-1]!==0&&(te=1),this[C+H]=(w/G>>0)-te&255;return C+$},"writeIntLE"),a.prototype.writeIntBE=U(function(w,C,$,X){if(w=+w,C=C>>>0,!X){let _e=Math.pow(2,8*$-1);A(this,w,C,$,_e-1,-_e)}let H=$-1,G=1,te=0;for(this[C+H]=w&255;--H>=0&&(G*=256);)w<0&&te===0&&this[C+H+1]!==0&&(te=1),this[C+H]=(w/G>>0)-te&255;return C+$},"writeIntBE"),a.prototype.writeInt8=U(function(w,C,$){return w=+w,C=C>>>0,$||A(this,w,C,1,127,-128),w<0&&(w=255+w+1),this[C]=w&255,C+1},"writeInt8"),a.prototype.writeInt16LE=U(function(w,C,$){return w=+w,C=C>>>0,$||A(this,w,C,2,32767,-32768),this[C]=w&255,this[C+1]=w>>>8,C+2},"writeInt16LE"),a.prototype.writeInt16BE=U(function(w,C,$){return w=+w,C=C>>>0,$||A(this,w,C,2,32767,-32768),this[C]=w>>>8,this[C+1]=w&255,C+2},"writeInt16BE"),a.prototype.writeInt32LE=U(function(w,C,$){return w=+w,C=C>>>0,$||A(this,w,C,4,2147483647,-2147483648),this[C]=w&255,this[C+1]=w>>>8,this[C+2]=w>>>16,this[C+3]=w>>>24,C+4},"writeInt32LE"),a.prototype.writeInt32BE=U(function(w,C,$){return w=+w,C=C>>>0,$||A(this,w,C,4,2147483647,-2147483648),w<0&&(w=4294967295+w+1),this[C]=w>>>24,this[C+1]=w>>>16,this[C+2]=w>>>8,this[C+3]=w&255,C+4},"writeInt32BE"),a.prototype.writeBigInt64LE=ks(U(function(w,C=0){return W(this,w,C,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64LE")),a.prototype.writeBigInt64BE=ks(U(function(w,C=0){return xe(this,w,C,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64BE"));function ge(w,C,$,X,H,G){if($+X>w.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("Index out of range")}U(ge,"checkIEEE754");function ke(w,C,$,X,H){return C=+C,$=$>>>0,H||ge(w,C,$,4,34028234663852886e22,-34028234663852886e22),r.write(w,C,$,X,23,4),$+4}U(ke,"writeFloat"),a.prototype.writeFloatLE=U(function(w,C,$){return ke(this,w,C,!0,$)},"writeFloatLE"),a.prototype.writeFloatBE=U(function(w,C,$){return ke(this,w,C,!1,$)},"writeFloatBE");function Ye(w,C,$,X,H){return C=+C,$=$>>>0,H||ge(w,C,$,8,17976931348623157e292,-17976931348623157e292),r.write(w,C,$,X,52,8),$+8}U(Ye,"writeDouble"),a.prototype.writeDoubleLE=U(function(w,C,$){return Ye(this,w,C,!0,$)},"writeDoubleLE"),a.prototype.writeDoubleBE=U(function(w,C,$){return Ye(this,w,C,!1,$)},"writeDoubleBE"),a.prototype.copy=U(function(w,C,$,X){if(!a.isBuffer(w))throw new TypeError("argument should be a Buffer");if($||($=0),!X&&X!==0&&(X=this.length),C>=w.length&&(C=w.length),C||(C=0),X>0&&X<$&&(X=$),X===$||w.length===0||this.length===0)return 0;if(C<0)throw new RangeError("targetStart out of bounds");if($<0||$>=this.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("sourceEnd out of bounds");X>this.length&&(X=this.length),w.length-C<X-$&&(X=w.length-C+$);let H=X-$;return this===w&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(C,$,X):Uint8Array.prototype.set.call(w,this.subarray($,X),C),H},"copy"),a.prototype.fill=U(function(w,C,$,X){if(typeof w=="string"){if(typeof C=="string"?(X=C,C=0,$=this.length):typeof $=="string"&&(X=$,$=this.length),X!==void 0&&typeof X!="string")throw new TypeError("encoding must be a string");if(typeof X=="string"&&!a.isEncoding(X))throw new TypeError("Unknown encoding: "+X);if(w.length===1){let G=w.charCodeAt(0);(X==="utf8"&&G<128||X==="latin1")&&(w=G)}}else typeof w=="number"?w=w&255:typeof w=="boolean"&&(w=Number(w));if(C<0||this.length<C||this.length<$)throw new RangeError("Out of range index");if($<=C)return this;C=C>>>0,$=$===void 0?this.length:$>>>0,w||(w=0);let H;if(typeof w=="number")for(H=C;H<$;++H)this[H]=w;else{let G=a.isBuffer(w)?w:a.from(w,X),te=G.length;if(te===0)throw new TypeError('The value "'+w+'" is invalid for argument "value"');for(H=0;H<$-C;++H)this[H+C]=G[H%te]}return this},"fill");var dt={};function ut(w,C,$){var X;dt[w]=(X=class extends ${constructor(){super(),Object.defineProperty(this,"message",{value:C.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${w}]`,this.stack,delete this.name}get code(){return w}set code(H){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:H,writable:!0})}toString(){return`${this.name} [${w}]: ${this.message}`}},U(X,"NodeError"),X)}U(ut,"E"),ut("ERR_BUFFER_OUT_OF_BOUNDS",function(w){return w?`${w} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ut("ERR_INVALID_ARG_TYPE",function(w,C){return`The "${w}" argument must be of type number. Received type ${typeof C}`},TypeError),ut("ERR_OUT_OF_RANGE",function(w,C,$){let X=`The value of "${w}" is out of range.`,H=$;return Number.isInteger($)&&Math.abs($)>2**32?H=ot(String($)):typeof $=="bigint"&&(H=String($),($>BigInt(2)**BigInt(32)||$<-(BigInt(2)**BigInt(32)))&&(H=ot(H)),H+="n"),X+=` It must be ${C}. Received ${H}`,X},RangeError);function ot(w){let C="",$=w.length,X=w[0]==="-"?1:0;for(;$>=X+4;$-=3)C=`_${w.slice($-3,$)}${C}`;return`${w.slice(0,$)}${C}`}U(ot,"addNumericalSeparator");function bt(w,C,$){vr(C,"offset"),(w[C]===void 0||w[C+$]===void 0)&&sr(C,w.length-($+1))}U(bt,"checkBounds");function Re(w,C,$,X,H,G){if(w>$||w<C){let te=typeof C=="bigint"?"n":"",_e;throw G>3?C===0||C===BigInt(0)?_e=`>= 0${te} and < 2${te} ** ${(G+1)*8}${te}`:_e=`>= -(2${te} ** ${(G+1)*8-1}${te}) and < 2 ** ${(G+1)*8-1}${te}`:_e=`>= ${C}${te} and <= ${$}${te}`,new dt.ERR_OUT_OF_RANGE("value",_e,w)}bt(X,H,G)}U(Re,"checkIntBI");function vr(w,C){if(typeof w!="number")throw new dt.ERR_INVALID_ARG_TYPE(C,"number",w)}U(vr,"validateNumber");function sr(w,C,$){throw Math.floor(w)!==w?(vr(w,$),new dt.ERR_OUT_OF_RANGE($||"offset","an integer",w)):C<0?new dt.ERR_BUFFER_OUT_OF_BOUNDS:new dt.ERR_OUT_OF_RANGE($||"offset",`>= ${$?1:0} and <= ${C}`,w)}U(sr,"boundsError");var an=/[^+/0-9A-Za-z-_]/g;function qm(w){if(w=w.split("=")[0],w=w.trim().replace(an,""),w.length<2)return"";for(;w.length%4!==0;)w=w+"=";return w}U(qm,"base64clean");function jr(w,C){C=C||1/0;let $,X=w.length,H=null,G=[];for(let te=0;te<X;++te){if($=w.charCodeAt(te),$>55295&&$<57344){if(!H){if($>56319){(C-=3)>-1&&G.push(239,191,189);continue}else if(te+1===X){(C-=3)>-1&&G.push(239,191,189);continue}H=$;continue}if($<56320){(C-=3)>-1&&G.push(239,191,189),H=$;continue}$=(H-55296<<10|$-56320)+65536}else H&&(C-=3)>-1&&G.push(239,191,189);if(H=null,$<128){if((C-=1)<0)break;G.push($)}else if($<2048){if((C-=2)<0)break;G.push($>>6|192,$&63|128)}else if($<65536){if((C-=3)<0)break;G.push($>>12|224,$>>6&63|128,$&63|128)}else if($<1114112){if((C-=4)<0)break;G.push($>>18|240,$>>12&63|128,$>>6&63|128,$&63|128)}else throw new Error("Invalid code point")}return G}U(jr,"utf8ToBytes");function cn(w){let C=[];for(let $=0;$<w.length;++$)C.push(w.charCodeAt($)&255);return C}U(cn,"asciiToBytes");function Hm(w,C){let $,X,H,G=[];for(let te=0;te<w.length&&!((C-=2)<0);++te)$=w.charCodeAt(te),X=$>>8,H=$%256,G.push(H),G.push(X);return G}U(Hm,"utf16leToBytes");function Jr(w){return e.toByteArray(qm(w))}U(Jr,"base64ToBytes");function Ir(w,C,$,X){let H;for(H=0;H<X&&!(H+$>=C.length||H>=w.length);++H)C[H+$]=w[H];return H}U(Ir,"blitBuffer");function Po(w,C){return w instanceof C||w!=null&&w.constructor!=null&&w.constructor.name!=null&&w.constructor.name===C.name}U(Po,"isInstance");function Qr(w){return w!==w}U(Qr,"numberIsNaN");var xn=(function(){let w="0123456789abcdef",C=new Array(256);for(let $=0;$<16;++$){let X=$*16;for(let H=0;H<16;++H)C[X+H]=w[$]+w[H]}return C})();function ks(w){return typeof BigInt>"u"?Lr:w}U(ks,"defineBigIntMethod");function Lr(){throw new Error("BigInt not supported")}U(Lr,"BufferBigIntNotDefined")}),ft=ra(()=>{"use strict";X9=globalThis,$Y=globalThis.setImmediate??(t=>setTimeout(t,0)),ght=globalThis.clearImmediate??(t=>clearTimeout(t)),kt=typeof globalThis.Buffer=="function"&&typeof globalThis.Buffer.allocUnsafe=="function"?globalThis.Buffer:hht().Buffer,tr=globalThis.process??{},tr.env??(tr.env={});try{tr.nextTick(()=>{})}catch{let t=Promise.resolve();tr.nextTick=t.then.bind(t)}}),E0=rr((t,e)=>{"use strict";ft();var r=typeof Reflect=="object"?Reflect:null,n=r&&typeof r.apply=="function"?r.apply:U(function(N,L,B){return Function.prototype.apply.call(N,L,B)},"ReflectApply"),i;r&&typeof r.ownKeys=="function"?i=r.ownKeys:Object.getOwnPropertySymbols?i=U(function(N){return Object.getOwnPropertyNames(N).concat(Object.getOwnPropertySymbols(N))},"ReflectOwnKeys"):i=U(function(N){return Object.getOwnPropertyNames(N)},"ReflectOwnKeys");function o(N){console&&console.warn&&console.warn(N)}U(o,"ProcessEmitWarning");var s=Number.isNaN||U(function(N){return N!==N},"NumberIsNaN");function a(){a.init.call(this)}U(a,"EventEmitter"),e.exports=a,e.exports.once=x,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function l(N){if(typeof N!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof N)}U(l,"checkListener"),Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:U(function(){return c},"get"),set:U(function(N){if(typeof N!="number"||N<0||s(N))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+N+".");c=N},"set")}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=U(function(N){if(typeof N!="number"||N<0||s(N))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+N+".");return this._maxListeners=N,this},"setMaxListeners");function u(N){return N._maxListeners===void 0?a.defaultMaxListeners:N._maxListeners}U(u,"_getMaxListeners"),a.prototype.getMaxListeners=U(function(){return u(this)},"getMaxListeners"),a.prototype.emit=U(function(N){for(var L=[],B=1;B<arguments.length;B++)L.push(arguments[B]);var P=N==="error",V=this._events;if(V!==void 0)P=P&&V.error===void 0;else if(!P)return!1;if(P){var j;if(L.length>0&&(j=L[0]),j instanceof Error)throw j;var ee=new Error("Unhandled error."+(j?" ("+j.message+")":""));throw ee.context=j,ee}var O=V[N];if(O===void 0)return!1;if(typeof O=="function")n(O,this,L);else for(var b=O.length,S=y(O,b),B=0;B<b;++B)n(S[B],this,L);return!0},"emit");function d(N,L,B,P){var V,j,ee;if(l(B),j=N._events,j===void 0?(j=N._events=Object.create(null),N._eventsCount=0):(j.newListener!==void 0&&(N.emit("newListener",L,B.listener?B.listener:B),j=N._events),ee=j[L]),ee===void 0)ee=j[L]=B,++N._eventsCount;else if(typeof ee=="function"?ee=j[L]=P?[B,ee]:[ee,B]:P?ee.unshift(B):ee.push(B),V=u(N),V>0&&ee.length>V&&!ee.warned){ee.warned=!0;var O=new Error("Possible EventEmitter memory leak detected. "+ee.length+" "+String(L)+" listeners added. Use emitter.setMaxListeners() to increase limit");O.name="MaxListenersExceededWarning",O.emitter=N,O.type=L,O.count=ee.length,o(O)}return N}U(d,"_addListener"),a.prototype.addListener=U(function(N,L){return d(this,N,L,!1)},"addListener"),a.prototype.on=a.prototype.addListener,a.prototype.prependListener=U(function(N,L){return d(this,N,L,!0)},"prependListener");function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}U(p,"onceWrapper");function m(N,L,B){var P={fired:!1,wrapFn:void 0,target:N,type:L,listener:B},V=p.bind(P);return V.listener=B,P.wrapFn=V,V}U(m,"_onceWrap"),a.prototype.once=U(function(N,L){return l(L),this.on(N,m(this,N,L)),this},"once"),a.prototype.prependOnceListener=U(function(N,L){return l(L),this.prependListener(N,m(this,N,L)),this},"prependOnceListener"),a.prototype.removeListener=U(function(N,L){var B,P,V,j,ee;if(l(L),P=this._events,P===void 0)return this;if(B=P[N],B===void 0)return this;if(B===L||B.listener===L)--this._eventsCount===0?this._events=Object.create(null):(delete P[N],P.removeListener&&this.emit("removeListener",N,B.listener||L));else if(typeof B!="function"){for(V=-1,j=B.length-1;j>=0;j--)if(B[j]===L||B[j].listener===L){ee=B[j].listener,V=j;break}if(V<0)return this;V===0?B.shift():v(B,V),B.length===1&&(P[N]=B[0]),P.removeListener!==void 0&&this.emit("removeListener",N,ee||L)}return this},"removeListener"),a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=U(function(N){var L,B,P;if(B=this._events,B===void 0)return this;if(B.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):B[N]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete B[N]),this;if(arguments.length===0){var V=Object.keys(B),j;for(P=0;P<V.length;++P)j=V[P],j!=="removeListener"&&this.removeAllListeners(j);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(L=B[N],typeof L=="function")this.removeListener(N,L);else if(L!==void 0)for(P=L.length-1;P>=0;P--)this.removeListener(N,L[P]);return this},"removeAllListeners");function h(N,L,B){var P=N._events;if(P===void 0)return[];var V=P[L];return V===void 0?[]:typeof V=="function"?B?[V.listener||V]:[V]:B?_(V):y(V,V.length)}U(h,"_listeners"),a.prototype.listeners=U(function(N){return h(this,N,!0)},"listeners"),a.prototype.rawListeners=U(function(N){return h(this,N,!1)},"rawListeners"),a.listenerCount=function(N,L){return typeof N.listenerCount=="function"?N.listenerCount(L):f.call(N,L)},a.prototype.listenerCount=f;function f(N){var L=this._events;if(L!==void 0){var B=L[N];if(typeof B=="function")return 1;if(B!==void 0)return B.length}return 0}U(f,"listenerCount"),a.prototype.eventNames=U(function(){return this._eventsCount>0?i(this._events):[]},"eventNames");function y(N,L){for(var B=new Array(L),P=0;P<L;++P)B[P]=N[P];return B}U(y,"arrayClone");function v(N,L){for(;L+1<N.length;L++)N[L]=N[L+1];N.pop()}U(v,"spliceOne");function _(N){for(var L=new Array(N.length),B=0;B<L.length;++B)L[B]=N[B].listener||N[B];return L}U(_,"unwrapListeners");function x(N,L){return new Promise(function(B,P){function V(ee){N.removeListener(L,j),P(ee)}U(V,"errorListener");function j(){typeof N.removeListener=="function"&&N.removeListener("error",V),B([].slice.call(arguments))}U(j,"resolver"),I(N,L,j,{once:!0}),L!=="error"&&E(N,V,{once:!0})})}U(x,"once");function E(N,L,B){typeof N.on=="function"&&I(N,"error",L,B)}U(E,"addErrorHandlerIfEventEmitter");function I(N,L,B,P){if(typeof N.on=="function")P.once?N.once(L,B):N.on(L,B);else if(typeof N.addEventListener=="function")N.addEventListener(L,U(function V(j){P.once&&N.removeEventListener(L,V),B(j)},"wrapListener"));else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof N)}U(I,"eventTargetAgnosticAddListener")}),CTe={};Hl(CTe,{Socket:()=>Lv,isIP:()=>OTe});v4=ra(()=>{"use strict";ft(),wTe=A0(E0(),1),U(OTe,"isIP"),NY=/^[^.]+\./,h4=class Rt extends wTe.EventEmitter{constructor(){super(...arguments),Mt(this,"opts",{}),Mt(this,"connecting",!1),Mt(this,"pending",!0),Mt(this,"writable",!0),Mt(this,"encrypted",!1),Mt(this,"authorized",!1),Mt(this,"destroyed",!1),Mt(this,"ws",null),Mt(this,"writeBuffer"),Mt(this,"tlsState",0),Mt(this,"tlsRead"),Mt(this,"tlsWrite")}static get poolQueryViaFetch(){return Rt.opts.poolQueryViaFetch??Rt.defaults.poolQueryViaFetch}static set poolQueryViaFetch(e){Rt.opts.poolQueryViaFetch=e}static get fetchEndpoint(){return Rt.opts.fetchEndpoint??Rt.defaults.fetchEndpoint}static set fetchEndpoint(e){Rt.opts.fetchEndpoint=e}static get fetchConnectionCache(){return!0}static set fetchConnectionCache(e){console.warn("The `fetchConnectionCache` option is deprecated (now always `true`)")}static get fetchFunction(){return Rt.opts.fetchFunction??Rt.defaults.fetchFunction}static set fetchFunction(e){Rt.opts.fetchFunction=e}static get webSocketConstructor(){return Rt.opts.webSocketConstructor??Rt.defaults.webSocketConstructor}static set webSocketConstructor(e){Rt.opts.webSocketConstructor=e}get webSocketConstructor(){return this.opts.webSocketConstructor??Rt.webSocketConstructor}set webSocketConstructor(e){this.opts.webSocketConstructor=e}static get wsProxy(){return Rt.opts.wsProxy??Rt.defaults.wsProxy}static set wsProxy(e){Rt.opts.wsProxy=e}get wsProxy(){return this.opts.wsProxy??Rt.wsProxy}set wsProxy(e){this.opts.wsProxy=e}static get coalesceWrites(){return Rt.opts.coalesceWrites??Rt.defaults.coalesceWrites}static set coalesceWrites(e){Rt.opts.coalesceWrites=e}get coalesceWrites(){return this.opts.coalesceWrites??Rt.coalesceWrites}set coalesceWrites(e){this.opts.coalesceWrites=e}static get useSecureWebSocket(){return Rt.opts.useSecureWebSocket??Rt.defaults.useSecureWebSocket}static set useSecureWebSocket(e){Rt.opts.useSecureWebSocket=e}get useSecureWebSocket(){return this.opts.useSecureWebSocket??Rt.useSecureWebSocket}set useSecureWebSocket(e){this.opts.useSecureWebSocket=e}static get forceDisablePgSSL(){return Rt.opts.forceDisablePgSSL??Rt.defaults.forceDisablePgSSL}static set forceDisablePgSSL(e){Rt.opts.forceDisablePgSSL=e}get forceDisablePgSSL(){return this.opts.forceDisablePgSSL??Rt.forceDisablePgSSL}set forceDisablePgSSL(e){this.opts.forceDisablePgSSL=e}static get disableSNI(){return Rt.opts.disableSNI??Rt.defaults.disableSNI}static set disableSNI(e){Rt.opts.disableSNI=e}get disableSNI(){return this.opts.disableSNI??Rt.disableSNI}set disableSNI(e){this.opts.disableSNI=e}static get disableWarningInBrowsers(){return Rt.opts.disableWarningInBrowsers??Rt.defaults.disableWarningInBrowsers}static set disableWarningInBrowsers(e){Rt.opts.disableWarningInBrowsers=e}get disableWarningInBrowsers(){return this.opts.disableWarningInBrowsers??Rt.disableWarningInBrowsers}set disableWarningInBrowsers(e){this.opts.disableWarningInBrowsers=e}static get pipelineConnect(){return Rt.opts.pipelineConnect??Rt.defaults.pipelineConnect}static set pipelineConnect(e){Rt.opts.pipelineConnect=e}get pipelineConnect(){return this.opts.pipelineConnect??Rt.pipelineConnect}set pipelineConnect(e){this.opts.pipelineConnect=e}static get subtls(){return Rt.opts.subtls??Rt.defaults.subtls}static set subtls(e){Rt.opts.subtls=e}get subtls(){return this.opts.subtls??Rt.subtls}set subtls(e){this.opts.subtls=e}static get pipelineTLS(){return Rt.opts.pipelineTLS??Rt.defaults.pipelineTLS}static set pipelineTLS(e){Rt.opts.pipelineTLS=e}get pipelineTLS(){return this.opts.pipelineTLS??Rt.pipelineTLS}set pipelineTLS(e){this.opts.pipelineTLS=e}static get rootCerts(){return Rt.opts.rootCerts??Rt.defaults.rootCerts}static set rootCerts(e){Rt.opts.rootCerts=e}get rootCerts(){return this.opts.rootCerts??Rt.rootCerts}set rootCerts(e){this.opts.rootCerts=e}wsProxyAddrForHost(e,r){let n=this.wsProxy;if(n===void 0)throw new Error("No WebSocket proxy is configured. Please see https://github.com/neondatabase/serverless/blob/main/CONFIG.md#wsproxy-string--host-string-port-number--string--string");return typeof n=="function"?n(e,r):`${n}?address=${e}:${r}`}setNoDelay(){return this}setKeepAlive(){return this}ref(){return this}unref(){return this}connect(e,r,n){this.connecting=!0,n&&this.once("connect",n);let i=U(()=>{this.connecting=!1,this.pending=!1,this.emit("connect"),this.emit("ready")},"handleWebSocketOpen"),o=U((a,c=!1)=>{a.binaryType="arraybuffer",a.addEventListener("error",l=>{this.emit("error",l),this.emit("close")}),a.addEventListener("message",l=>{if(this.tlsState===0){let u=kt.from(l.data);this.emit("data",u)}}),a.addEventListener("close",()=>{this.emit("close")}),c?i():a.addEventListener("open",i)},"configureWebSocket"),s;try{s=this.wsProxyAddrForHost(r,typeof e=="string"?parseInt(e,10):e)}catch(a){this.emit("error",a),this.emit("close");return}try{let a=(this.useSecureWebSocket?"wss:":"ws:")+"//"+s;if(this.webSocketConstructor!==void 0)this.ws=new this.webSocketConstructor(a),o(this.ws);else try{this.ws=new WebSocket(a),o(this.ws)}catch{this.ws=new __unstable_WebSocket(a),o(this.ws)}}catch(a){let c=(this.useSecureWebSocket?"https:":"http:")+"//"+s;fetch(c,{headers:{Upgrade:"websocket"}}).then(l=>{if(this.ws=l.webSocket,this.ws==null)throw a;this.ws.accept(),o(this.ws,!0)}).catch(l=>{this.emit("error",new Error(`All attempts to open a WebSocket to connect to the database failed. Please refer to https://github.com/neondatabase/serverless/blob/main/CONFIG.md#websocketconstructor-typeof-websocket--undefined. Details: ${l}`)),this.emit("close")})}}async startTls(e){if(this.subtls===void 0)throw new Error("For Postgres SSL connections, you must set `neonConfig.subtls` to the subtls library. See https://github.com/neondatabase/serverless/blob/main/CONFIG.md for more information.");this.tlsState=1;let r=await this.subtls.TrustedCert.databaseFromPEM(this.rootCerts),n=new this.subtls.WebSocketReadQueue(this.ws),i=n.read.bind(n),o=this.rawWrite.bind(this),{read:s,write:a}=await this.subtls.startTls(e,r,i,o,{useSNI:!this.disableSNI,expectPreData:this.pipelineTLS?new Uint8Array([83]):void 0});this.tlsRead=s,this.tlsWrite=a,this.tlsState=2,this.encrypted=!0,this.authorized=!0,this.emit("secureConnection",this),this.tlsReadLoop()}async tlsReadLoop(){for(;;){let e=await this.tlsRead();if(e===void 0)break;{let r=kt.from(e);this.emit("data",r)}}}rawWrite(e){if(!this.coalesceWrites){this.ws&&this.ws.send(e);return}if(this.writeBuffer===void 0)this.writeBuffer=e,setTimeout(()=>{this.ws&&this.ws.send(this.writeBuffer),this.writeBuffer=void 0},0);else{let r=new Uint8Array(this.writeBuffer.length+e.length);r.set(this.writeBuffer),r.set(e,this.writeBuffer.length),this.writeBuffer=r}}write(e,r="utf8",n=i=>{}){return e.length===0?(n(),!0):(typeof e=="string"&&(e=kt.from(e,r)),this.tlsState===0?(this.rawWrite(e),n()):this.tlsState===1?this.once("secureConnection",()=>{this.write(e,r,n)}):(this.tlsWrite(e),n()),!0)}end(e=kt.alloc(0),r="utf8",n=()=>{}){return this.write(e,r,()=>{this.ws.close(),n()}),this}destroy(){return this.destroyed=!0,this.end()}},U(h4,"Socket"),Mt(h4,"defaults",{poolQueryViaFetch:!1,fetchEndpoint:U((t,e,r)=>{let n;return r?.jwtAuth?n=t.replace(NY,"apiauth."):n=t.replace(NY,"api."),"https://"+n+"/sql"},"fetchEndpoint"),fetchConnectionCache:!0,fetchFunction:void 0,webSocketConstructor:void 0,wsProxy:U(t=>t+"/v2","wsProxy"),useSecureWebSocket:!0,forceDisablePgSSL:!0,coalesceWrites:!0,pipelineConnect:"password",subtls:void 0,rootCerts:"",pipelineTLS:!1,disableSNI:!1,disableWarningInBrowsers:!1}),Mt(h4,"opts",{}),Lv=h4}),NTe={};Hl(NTe,{parse:()=>LY});PTe=ra(()=>{"use strict";ft(),U(LY,"parse")}),kTe=rr(t=>{"use strict";ft(),t.parse=function(i,o){return new r(i,o).parse()};var e=class DTe{constructor(o,s){this.source=o,this.transform=s||n,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var o=this.source[this.position++];return o==="\\"?{value:this.source[this.position++],escaped:!0}:{value:o,escaped:!1}}record(o){this.recorded.push(o)}newEntry(o){var s;(this.recorded.length>0||o)&&(s=this.recorded.join(""),s==="NULL"&&!o&&(s=null),s!==null&&(s=this.transform(s)),this.entries.push(s),this.recorded=[])}consumeDimensions(){if(this.source[0]==="[")for(;!this.isEof();){var o=this.nextCharacter();if(o.value==="=")break}}parse(o){var s,a,c;for(this.consumeDimensions();!this.isEof();)if(s=this.nextCharacter(),s.value==="{"&&!c)this.dimension++,this.dimension>1&&(a=new DTe(this.source.substr(this.position-1),this.transform),this.entries.push(a.parse(!0)),this.position+=a.position-2);else if(s.value==="}"&&!c){if(this.dimension--,!this.dimension&&(this.newEntry(),o))return this.entries}else s.value==='"'&&!s.escaped?(c&&this.newEntry(!0),c=!c):s.value===","&&!c?this.newEntry():this.record(s.value);if(this.dimension!==0)throw new Error("array dimension not balanced");return this.entries}};U(e,"ArrayParser");var r=e;function n(i){return i}U(n,"identity")}),MTe=rr((t,e)=>{ft();var r=kTe();e.exports={create:U(function(n,i){return{parse:U(function(){return r.parse(n,i)},"parse")}},"create")}}),yht=rr((t,e)=>{"use strict";ft();var r=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,n=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,i=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,o=/^-?infinity$/;e.exports=U(function(u){if(o.test(u))return Number(u.replace("i","I"));var d=r.exec(u);if(!d)return s(u)||null;var p=!!d[8],m=parseInt(d[1],10);p&&(m=c(m));var h=parseInt(d[2],10)-1,f=d[3],y=parseInt(d[4],10),v=parseInt(d[5],10),_=parseInt(d[6],10),x=d[7];x=x?1e3*parseFloat(x):0;var E,I=a(u);return I!=null?(E=new Date(Date.UTC(m,h,f,y,v,_,x)),l(m)&&E.setUTCFullYear(m),I!==0&&E.setTime(E.getTime()-I)):(E=new Date(m,h,f,y,v,_,x),l(m)&&E.setFullYear(m)),E},"parseDate");function s(u){var d=n.exec(u);if(d){var p=parseInt(d[1],10),m=!!d[4];m&&(p=c(p));var h=parseInt(d[2],10)-1,f=d[3],y=new Date(p,h,f);return l(p)&&y.setFullYear(p),y}}U(s,"getDate");function a(u){if(u.endsWith("+00"))return 0;var d=i.exec(u.split(" ")[1]);if(d){var p=d[1];if(p==="Z")return 0;var m=p==="-"?-1:1,h=parseInt(d[2],10)*3600+parseInt(d[3]||0,10)*60+parseInt(d[4]||0,10);return h*m*1e3}}U(a,"timeZoneOffset");function c(u){return-(u-1)}U(c,"bcYearToNegativeYear");function l(u){return u>=0&&u<100}U(l,"is0To99")}),bht=rr((t,e)=>{ft(),e.exports=n;var r=Object.prototype.hasOwnProperty;function n(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)r.call(s,a)&&(i[a]=s[a])}return i}U(n,"extend")}),vht=rr((t,e)=>{"use strict";ft();var r=bht();e.exports=n;function n(_){if(!(this instanceof n))return new n(_);r(this,v(_))}U(n,"PostgresInterval");var i=["seconds","minutes","hours","days","months","years"];n.prototype.toPostgres=function(){var _=i.filter(this.hasOwnProperty,this);return this.milliseconds&&_.indexOf("seconds")<0&&_.push("seconds"),_.length===0?"0":_.map(function(x){var E=this[x]||0;return x==="seconds"&&this.milliseconds&&(E=(E+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),E+" "+x},this).join(" ")};var o={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},s=["years","months","days"],a=["hours","minutes","seconds"];n.prototype.toISOString=n.prototype.toISO=function(){var _=s.map(E,this).join(""),x=a.map(E,this).join("");return"P"+_+"T"+x;function E(I){var N=this[I]||0;return I==="seconds"&&this.milliseconds&&(N=(N+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),N+o[I]}};var c="([+-]?\\d+)",l=c+"\\s+years?",u=c+"\\s+mons?",d=c+"\\s+days?",p="([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?",m=new RegExp([l,u,d,p].map(function(_){return"("+_+")?"}).join("\\s*")),h={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},f=["hours","minutes","seconds","milliseconds"];function y(_){var x=_+"000000".slice(_.length);return parseInt(x,10)/1e3}U(y,"parseMilliseconds");function v(_){if(!_)return{};var x=m.exec(_),E=x[8]==="-";return Object.keys(h).reduce(function(I,N){var L=h[N],B=x[L];return!B||(B=N==="milliseconds"?y(B):parseInt(B,10),!B)||(E&&~f.indexOf(N)&&(B*=-1),I[N]=B),I},{})}U(v,"parse")}),_ht=rr((t,e)=>{"use strict";ft(),e.exports=U(function(r){if(/^\\x/.test(r))return new kt(r.substr(2),"hex");for(var n="",i=0;i<r.length;)if(r[i]!=="\\")n+=r[i],++i;else if(/[0-7]{3}/.test(r.substr(i+1,3)))n+=String.fromCharCode(parseInt(r.substr(i+1,3),8)),i+=4;else{for(var o=1;i+o<r.length&&r[i+o]==="\\";)o++;for(var s=0;s<Math.floor(o/2);++s)n+="\\";i+=Math.floor(o/2)*2}return new kt(n,"binary")},"parseBytea")}),Sht=rr((t,e)=>{ft();var r=kTe(),n=MTe(),i=yht(),o=vht(),s=_ht();function a(P){return U(function(V){return V===null?V:P(V)},"nullAllowed")}U(a,"allowNull");function c(P){return P===null?P:P==="TRUE"||P==="t"||P==="true"||P==="y"||P==="yes"||P==="on"||P==="1"}U(c,"parseBool");function l(P){return P?r.parse(P,c):null}U(l,"parseBoolArray");function u(P){return parseInt(P,10)}U(u,"parseBaseTenInt");function d(P){return P?r.parse(P,a(u)):null}U(d,"parseIntegerArray");function p(P){return P?r.parse(P,a(function(V){return E(V).trim()})):null}U(p,"parseBigIntegerArray");var m=U(function(P){if(!P)return null;var V=n.create(P,function(j){return j!==null&&(j=N(j)),j});return V.parse()},"parsePointArray"),h=U(function(P){if(!P)return null;var V=n.create(P,function(j){return j!==null&&(j=parseFloat(j)),j});return V.parse()},"parseFloatArray"),f=U(function(P){if(!P)return null;var V=n.create(P);return V.parse()},"parseStringArray"),y=U(function(P){if(!P)return null;var V=n.create(P,function(j){return j!==null&&(j=i(j)),j});return V.parse()},"parseDateArray"),v=U(function(P){if(!P)return null;var V=n.create(P,function(j){return j!==null&&(j=o(j)),j});return V.parse()},"parseIntervalArray"),_=U(function(P){return P?r.parse(P,a(s)):null},"parseByteAArray"),x=U(function(P){return parseInt(P,10)},"parseInteger"),E=U(function(P){var V=String(P);return/^\d+$/.test(V)?V:P},"parseBigInteger"),I=U(function(P){return P?r.parse(P,a(JSON.parse)):null},"parseJsonArray"),N=U(function(P){return P[0]!=="("?null:(P=P.substring(1,P.length-1).split(","),{x:parseFloat(P[0]),y:parseFloat(P[1])})},"parsePoint"),L=U(function(P){if(P[0]!=="<"&&P[1]!=="(")return null;for(var V="(",j="",ee=!1,O=2;O<P.length-1;O++){if(ee||(V+=P[O]),P[O]===")"){ee=!0;continue}else if(!ee)continue;P[O]!==","&&(j+=P[O])}var b=N(V);return b.radius=parseFloat(j),b},"parseCircle"),B=U(function(P){P(20,E),P(21,x),P(23,x),P(26,x),P(700,parseFloat),P(701,parseFloat),P(16,c),P(1082,i),P(1114,i),P(1184,i),P(600,N),P(651,f),P(718,L),P(1e3,l),P(1001,_),P(1005,d),P(1007,d),P(1028,d),P(1016,p),P(1017,m),P(1021,h),P(1022,h),P(1231,h),P(1014,f),P(1015,f),P(1008,f),P(1009,f),P(1040,f),P(1041,f),P(1115,y),P(1182,y),P(1185,y),P(1186,o),P(1187,v),P(17,s),P(114,JSON.parse.bind(JSON)),P(3802,JSON.parse.bind(JSON)),P(199,I),P(3807,I),P(3907,f),P(2951,f),P(791,f),P(1183,f),P(1270,f)},"init");e.exports={init:B}}),wht=rr((t,e)=>{"use strict";ft();var r=1e6;function n(i){var o=i.readInt32BE(0),s=i.readUInt32BE(4),a="";o<0&&(o=~o+(s===0),s=~s+1>>>0,a="-");var c="",l,u,d,p,m,h;{if(l=o%r,o=o/r>>>0,u=4294967296*l+s,s=u/r>>>0,d=""+(u-r*s),s===0&&o===0)return a+d+c;for(p="",m=6-d.length,h=0;h<m;h++)p+="0";c=p+d+c}{if(l=o%r,o=o/r>>>0,u=4294967296*l+s,s=u/r>>>0,d=""+(u-r*s),s===0&&o===0)return a+d+c;for(p="",m=6-d.length,h=0;h<m;h++)p+="0";c=p+d+c}{if(l=o%r,o=o/r>>>0,u=4294967296*l+s,s=u/r>>>0,d=""+(u-r*s),s===0&&o===0)return a+d+c;for(p="",m=6-d.length,h=0;h<m;h++)p+="0";c=p+d+c}return l=o%r,u=4294967296*l+s,d=""+u%r,a+d+c}U(n,"readInt8"),e.exports=n}),xht=rr((t,e)=>{ft();var r=wht(),n=U(function(f,y,v,_,x){v=v||0,_=_||!1,x=x||function(ee,O,b){return ee*Math.pow(2,b)+O};var E=v>>3,I=U(function(ee){return _?~ee&255:ee},"inv"),N=255,L=8-v%8;y<L&&(N=255<<8-y&255,L=y),v&&(N=N>>v%8);var B=0;v%8+y>=8&&(B=x(0,I(f[E])&N,L));for(var P=y+v>>3,V=E+1;V<P;V++)B=x(B,I(f[V]),8);var j=(y+v)%8;return j>0&&(B=x(B,I(f[P])>>8-j,j)),B},"parseBits"),i=U(function(f,y,v){var _=Math.pow(2,v-1)-1,x=n(f,1),E=n(f,v,1);if(E===0)return 0;var I=1,N=U(function(B,P,V){B===0&&(B=1);for(var j=1;j<=V;j++)I/=2,(P&1<<V-j)>0&&(B+=I);return B},"parsePrecisionBits"),L=n(f,y,v+1,!1,N);return E==Math.pow(2,v+1)-1?L===0?x===0?1/0:-1/0:NaN:(x===0?1:-1)*Math.pow(2,E-_)*L},"parseFloatFromBits"),o=U(function(f){return n(f,1)==1?-1*(n(f,15,1,!0)+1):n(f,15,1)},"parseInt16"),s=U(function(f){return n(f,1)==1?-1*(n(f,31,1,!0)+1):n(f,31,1)},"parseInt32"),a=U(function(f){return i(f,23,8)},"parseFloat32"),c=U(function(f){return i(f,52,11)},"parseFloat64"),l=U(function(f){var y=n(f,16,32);if(y==49152)return NaN;for(var v=Math.pow(1e4,n(f,16,16)),_=0,x=[],E=n(f,16),I=0;I<E;I++)_+=n(f,16,64+16*I)*v,v/=1e4;var N=Math.pow(10,n(f,16,48));return(y===0?1:-1)*Math.round(_*N)/N},"parseNumeric"),u=U(function(f,y){var v=n(y,1),_=n(y,63,1),x=new Date((v===0?1:-1)*_/1e3+9466848e5);return f||x.setTime(x.getTime()+x.getTimezoneOffset()*6e4),x.usec=_%1e3,x.getMicroSeconds=function(){return this.usec},x.setMicroSeconds=function(E){this.usec=E},x.getUTCMicroSeconds=function(){return this.usec},x},"parseDate"),d=U(function(f){for(var y=n(f,32),v=n(f,32,32),_=n(f,32,64),x=96,E=[],I=0;I<y;I++)E[I]=n(f,32,x),x+=32,x+=32;var N=U(function(B){var P=n(f,32,x);if(x+=32,P==4294967295)return null;var V;if(B==23||B==20)return V=n(f,P*8,x),x+=P*8,V;if(B==25)return V=f.toString(this.encoding,x>>3,(x+=P<<3)>>3),V;console.log("ERROR: ElementType not implemented: "+B)},"parseElement"),L=U(function(B,P){var V=[],j;if(B.length>1){var ee=B.shift();for(j=0;j<ee;j++)V[j]=L(B,P);B.unshift(ee)}else for(j=0;j<B[0];j++)V[j]=N(P);return V},"parse");return L(E,_)},"parseArray"),p=U(function(f){return f.toString("utf8")},"parseText"),m=U(function(f){return f===null?null:n(f,8)>0},"parseBool"),h=U(function(f){f(20,r),f(21,o),f(23,s),f(26,s),f(1700,l),f(700,a),f(701,c),f(16,m),f(1114,u.bind(null,!1)),f(1184,u.bind(null,!0)),f(1e3,d),f(1007,d),f(1016,d),f(1008,d),f(1009,d),f(25,p)},"init");e.exports={init:h}}),Aht=rr((t,e)=>{ft(),e.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096}}),e7=rr(t=>{ft();var e=Sht(),r=xht(),n=MTe(),i=Aht();t.getTypeParser=a,t.setTypeParser=c,t.arrayParser=n,t.builtins=i;var o={text:{},binary:{}};function s(l){return String(l)}U(s,"noParse");function a(l,u){return u=u||"text",o[u]&&o[u][l]||s}U(a,"getTypeParser");function c(l,u,d){typeof u=="function"&&(d=u,u="text"),o[u][l]=d}U(c,"setTypeParser"),e.init(function(l,u){o.text[l]=u}),r.init(function(l,u){o.binary[l]=u})}),BY=rr((t,e)=>{"use strict";ft();var r=e7();function n(i){this._types=i||r,this.text={},this.binary={}}U(n,"TypeOverrides"),n.prototype.getOverrides=function(i){switch(i){case"text":return this.text;case"binary":return this.binary;default:return{}}},n.prototype.setTypeParser=function(i,o,s){typeof o=="function"&&(s=o,o="text"),this.getOverrides(o)[i]=s},n.prototype.getTypeParser=function(i,o){return o=o||"text",this.getOverrides(o)[i]||this._types.getTypeParser(i,o)},e.exports=n});Eht=ra(()=>{"use strict";ft(),U(y4,"sha256")}),Rht=ra(()=>{"use strict";ft(),hp=class Xc{constructor(){Mt(this,"_dataLength",0),Mt(this,"_bufferLength",0),Mt(this,"_state",new Int32Array(4)),Mt(this,"_buffer",new ArrayBuffer(68)),Mt(this,"_buffer8"),Mt(this,"_buffer32"),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashByteArray(e,r=!1){return this.onePassHasher.start().appendByteArray(e).end(r)}static hashStr(e,r=!1){return this.onePassHasher.start().appendStr(e).end(r)}static hashAsciiStr(e,r=!1){return this.onePassHasher.start().appendAsciiStr(e).end(r)}static _hex(e){let r=Xc.hexChars,n=Xc.hexOut,i,o,s,a;for(a=0;a<4;a+=1)for(o=a*8,i=e[a],s=0;s<8;s+=2)n[o+1+s]=r.charAt(i&15),i>>>=4,n[o+0+s]=r.charAt(i&15),i>>>=4;return n.join("")}static _md5cycle(e,r){let n=e[0],i=e[1],o=e[2],s=e[3];n+=(i&o|~i&s)+r[0]-680876936|0,n=(n<<7|n>>>25)+i|0,s+=(n&i|~n&o)+r[1]-389564586|0,s=(s<<12|s>>>20)+n|0,o+=(s&n|~s&i)+r[2]+606105819|0,o=(o<<17|o>>>15)+s|0,i+=(o&s|~o&n)+r[3]-1044525330|0,i=(i<<22|i>>>10)+o|0,n+=(i&o|~i&s)+r[4]-176418897|0,n=(n<<7|n>>>25)+i|0,s+=(n&i|~n&o)+r[5]+1200080426|0,s=(s<<12|s>>>20)+n|0,o+=(s&n|~s&i)+r[6]-1473231341|0,o=(o<<17|o>>>15)+s|0,i+=(o&s|~o&n)+r[7]-45705983|0,i=(i<<22|i>>>10)+o|0,n+=(i&o|~i&s)+r[8]+1770035416|0,n=(n<<7|n>>>25)+i|0,s+=(n&i|~n&o)+r[9]-1958414417|0,s=(s<<12|s>>>20)+n|0,o+=(s&n|~s&i)+r[10]-42063|0,o=(o<<17|o>>>15)+s|0,i+=(o&s|~o&n)+r[11]-1990404162|0,i=(i<<22|i>>>10)+o|0,n+=(i&o|~i&s)+r[12]+1804603682|0,n=(n<<7|n>>>25)+i|0,s+=(n&i|~n&o)+r[13]-40341101|0,s=(s<<12|s>>>20)+n|0,o+=(s&n|~s&i)+r[14]-1502002290|0,o=(o<<17|o>>>15)+s|0,i+=(o&s|~o&n)+r[15]+1236535329|0,i=(i<<22|i>>>10)+o|0,n+=(i&s|o&~s)+r[1]-165796510|0,n=(n<<5|n>>>27)+i|0,s+=(n&o|i&~o)+r[6]-1069501632|0,s=(s<<9|s>>>23)+n|0,o+=(s&i|n&~i)+r[11]+643717713|0,o=(o<<14|o>>>18)+s|0,i+=(o&n|s&~n)+r[0]-373897302|0,i=(i<<20|i>>>12)+o|0,n+=(i&s|o&~s)+r[5]-701558691|0,n=(n<<5|n>>>27)+i|0,s+=(n&o|i&~o)+r[10]+38016083|0,s=(s<<9|s>>>23)+n|0,o+=(s&i|n&~i)+r[15]-660478335|0,o=(o<<14|o>>>18)+s|0,i+=(o&n|s&~n)+r[4]-405537848|0,i=(i<<20|i>>>12)+o|0,n+=(i&s|o&~s)+r[9]+568446438|0,n=(n<<5|n>>>27)+i|0,s+=(n&o|i&~o)+r[14]-1019803690|0,s=(s<<9|s>>>23)+n|0,o+=(s&i|n&~i)+r[3]-187363961|0,o=(o<<14|o>>>18)+s|0,i+=(o&n|s&~n)+r[8]+1163531501|0,i=(i<<20|i>>>12)+o|0,n+=(i&s|o&~s)+r[13]-1444681467|0,n=(n<<5|n>>>27)+i|0,s+=(n&o|i&~o)+r[2]-51403784|0,s=(s<<9|s>>>23)+n|0,o+=(s&i|n&~i)+r[7]+1735328473|0,o=(o<<14|o>>>18)+s|0,i+=(o&n|s&~n)+r[12]-1926607734|0,i=(i<<20|i>>>12)+o|0,n+=(i^o^s)+r[5]-378558|0,n=(n<<4|n>>>28)+i|0,s+=(n^i^o)+r[8]-2022574463|0,s=(s<<11|s>>>21)+n|0,o+=(s^n^i)+r[11]+1839030562|0,o=(o<<16|o>>>16)+s|0,i+=(o^s^n)+r[14]-35309556|0,i=(i<<23|i>>>9)+o|0,n+=(i^o^s)+r[1]-1530992060|0,n=(n<<4|n>>>28)+i|0,s+=(n^i^o)+r[4]+1272893353|0,s=(s<<11|s>>>21)+n|0,o+=(s^n^i)+r[7]-155497632|0,o=(o<<16|o>>>16)+s|0,i+=(o^s^n)+r[10]-1094730640|0,i=(i<<23|i>>>9)+o|0,n+=(i^o^s)+r[13]+681279174|0,n=(n<<4|n>>>28)+i|0,s+=(n^i^o)+r[0]-358537222|0,s=(s<<11|s>>>21)+n|0,o+=(s^n^i)+r[3]-722521979|0,o=(o<<16|o>>>16)+s|0,i+=(o^s^n)+r[6]+76029189|0,i=(i<<23|i>>>9)+o|0,n+=(i^o^s)+r[9]-640364487|0,n=(n<<4|n>>>28)+i|0,s+=(n^i^o)+r[12]-421815835|0,s=(s<<11|s>>>21)+n|0,o+=(s^n^i)+r[15]+530742520|0,o=(o<<16|o>>>16)+s|0,i+=(o^s^n)+r[2]-995338651|0,i=(i<<23|i>>>9)+o|0,n+=(o^(i|~s))+r[0]-198630844|0,n=(n<<6|n>>>26)+i|0,s+=(i^(n|~o))+r[7]+1126891415|0,s=(s<<10|s>>>22)+n|0,o+=(n^(s|~i))+r[14]-1416354905|0,o=(o<<15|o>>>17)+s|0,i+=(s^(o|~n))+r[5]-57434055|0,i=(i<<21|i>>>11)+o|0,n+=(o^(i|~s))+r[12]+1700485571|0,n=(n<<6|n>>>26)+i|0,s+=(i^(n|~o))+r[3]-1894986606|0,s=(s<<10|s>>>22)+n|0,o+=(n^(s|~i))+r[10]-1051523|0,o=(o<<15|o>>>17)+s|0,i+=(s^(o|~n))+r[1]-2054922799|0,i=(i<<21|i>>>11)+o|0,n+=(o^(i|~s))+r[8]+1873313359|0,n=(n<<6|n>>>26)+i|0,s+=(i^(n|~o))+r[15]-30611744|0,s=(s<<10|s>>>22)+n|0,o+=(n^(s|~i))+r[6]-1560198380|0,o=(o<<15|o>>>17)+s|0,i+=(s^(o|~n))+r[13]+1309151649|0,i=(i<<21|i>>>11)+o|0,n+=(o^(i|~s))+r[4]-145523070|0,n=(n<<6|n>>>26)+i|0,s+=(i^(n|~o))+r[11]-1120210379|0,s=(s<<10|s>>>22)+n|0,o+=(n^(s|~i))+r[2]+718787259|0,o=(o<<15|o>>>17)+s|0,i+=(s^(o|~n))+r[9]-343485551|0,i=(i<<21|i>>>11)+o|0,e[0]=n+e[0]|0,e[1]=i+e[1]|0,e[2]=o+e[2]|0,e[3]=s+e[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(Xc.stateIdentity),this}appendStr(e){let r=this._buffer8,n=this._buffer32,i=this._bufferLength,o,s;for(s=0;s<e.length;s+=1){if(o=e.charCodeAt(s),o<128)r[i++]=o;else if(o<2048)r[i++]=(o>>>6)+192,r[i++]=o&63|128;else if(o<55296||o>56319)r[i++]=(o>>>12)+224,r[i++]=o>>>6&63|128,r[i++]=o&63|128;else{if(o=(o-55296)*1024+(e.charCodeAt(++s)-56320)+65536,o>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");r[i++]=(o>>>18)+240,r[i++]=o>>>12&63|128,r[i++]=o>>>6&63|128,r[i++]=o&63|128}i>=64&&(this._dataLength+=64,Xc._md5cycle(this._state,n),i-=64,n[0]=n[16])}return this._bufferLength=i,this}appendAsciiStr(e){let r=this._buffer8,n=this._buffer32,i=this._bufferLength,o,s=0;for(;;){for(o=Math.min(e.length-s,64-i);o--;)r[i++]=e.charCodeAt(s++);if(i<64)break;this._dataLength+=64,Xc._md5cycle(this._state,n),i=0}return this._bufferLength=i,this}appendByteArray(e){let r=this._buffer8,n=this._buffer32,i=this._bufferLength,o,s=0;for(;;){for(o=Math.min(e.length-s,64-i);o--;)r[i++]=e[s++];if(i<64)break;this._dataLength+=64,Xc._md5cycle(this._state,n),i=0}return this._bufferLength=i,this}getState(){let e=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[e[0],e[1],e[2],e[3]]}}setState(e){let r=e.buffer,n=e.state,i=this._state,o;for(this._dataLength=e.length,this._bufferLength=e.buflen,i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[3],o=0;o<r.length;o+=1)this._buffer8[o]=r.charCodeAt(o)}end(e=!1){let r=this._bufferLength,n=this._buffer8,i=this._buffer32,o=(r>>2)+1;this._dataLength+=r;let s=this._dataLength*8;if(n[r]=128,n[r+1]=n[r+2]=n[r+3]=0,i.set(Xc.buffer32Identity.subarray(o),o),r>55&&(Xc._md5cycle(this._state,i),i.set(Xc.buffer32Identity)),s<=4294967295)i[14]=s;else{let a=s.toString(16).match(/(.*?)(.{0,8})$/);if(a===null)return;let c=parseInt(a[2],16),l=parseInt(a[1],16)||0;i[14]=c,i[15]=l}return Xc._md5cycle(this._state,i),e?this._state:Xc._hex(this._state)}},U(hp,"Md5"),Mt(hp,"stateIdentity",new Int32Array([1732584193,-271733879,-1732584194,271733878])),Mt(hp,"buffer32Identity",new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),Mt(hp,"hexChars","0123456789abcdef"),Mt(hp,"hexOut",[]),Mt(hp,"onePassHasher",new hp),kY=hp}),UY={};Hl(UY,{createHash:()=>LTe,createHmac:()=>BTe,randomBytes:()=>$Te});UTe=ra(()=>{"use strict";ft(),Eht(),Rht(),U($Te,"randomBytes"),U(LTe,"createHash"),U(BTe,"createHmac")}),t7=rr((t,e)=>{"use strict";ft(),e.exports={host:"localhost",user:tr.platform==="win32"?tr.env.USERNAME:tr.env.USER,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,lock_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};var r=e7(),n=r.getTypeParser(20,"text"),i=r.getTypeParser(1016,"text");e.exports.__defineSetter__("parseInt8",function(o){r.setTypeParser(20,"text",o?r.getTypeParser(23,"text"):n),r.setTypeParser(1016,"text",o?r.getTypeParser(1007,"text"):i)})}),r7=rr((t,e)=>{"use strict";ft();var r=(UTe(),Ji(UY)),n=t7();function i(h){var f=h.replace(/\\/g,"\\\\").replace(/"/g,'\\"');return'"'+f+'"'}U(i,"escapeElement");function o(h){for(var f="{",y=0;y<h.length;y++)y>0&&(f=f+","),h[y]===null||typeof h[y]>"u"?f=f+"NULL":Array.isArray(h[y])?f=f+o(h[y]):h[y]instanceof kt?f+="\\\\x"+h[y].toString("hex"):f+=i(s(h[y]));return f=f+"}",f}U(o,"arrayString");var s=U(function(h,f){if(h==null)return null;if(h instanceof kt)return h;if(ArrayBuffer.isView(h)){var y=kt.from(h.buffer,h.byteOffset,h.byteLength);return y.length===h.byteLength?y:y.slice(h.byteOffset,h.byteOffset+h.byteLength)}return h instanceof Date?n.parseInputDatesAsUTC?u(h):l(h):Array.isArray(h)?o(h):typeof h=="object"?a(h,f):h.toString()},"prepareValue");function a(h,f){if(h&&typeof h.toPostgres=="function"){if(f=f||[],f.indexOf(h)!==-1)throw new Error('circular reference detected while preparing "'+h+'" for query');return f.push(h),s(h.toPostgres(s),f)}return JSON.stringify(h)}U(a,"prepareObject");function c(h,f){for(h=""+h;h.length<f;)h="0"+h;return h}U(c,"pad");function l(h){var f=-h.getTimezoneOffset(),y=h.getFullYear(),v=y<1;v&&(y=Math.abs(y)+1);var _=c(y,4)+"-"+c(h.getMonth()+1,2)+"-"+c(h.getDate(),2)+"T"+c(h.getHours(),2)+":"+c(h.getMinutes(),2)+":"+c(h.getSeconds(),2)+"."+c(h.getMilliseconds(),3);return f<0?(_+="-",f*=-1):_+="+",_+=c(Math.floor(f/60),2)+":"+c(f%60,2),v&&(_+=" BC"),_}U(l,"dateToString");function u(h){var f=h.getUTCFullYear(),y=f<1;y&&(f=Math.abs(f)+1);var v=c(f,4)+"-"+c(h.getUTCMonth()+1,2)+"-"+c(h.getUTCDate(),2)+"T"+c(h.getUTCHours(),2)+":"+c(h.getUTCMinutes(),2)+":"+c(h.getUTCSeconds(),2)+"."+c(h.getUTCMilliseconds(),3);return v+="+00:00",y&&(v+=" BC"),v}U(u,"dateToStringUTC");function d(h,f,y){return h=typeof h=="string"?{text:h}:h,f&&(typeof f=="function"?h.callback=f:h.values=f),y&&(h.callback=y),h}U(d,"normalizeQueryConfig");var p=U(function(h){return r.createHash("md5").update(h,"utf-8").digest("hex")},"md5"),m=U(function(h,f,y){var v=p(f+h),_=p(kt.concat([kt.from(v),y]));return"md5"+_},"postgresMd5PasswordHash");e.exports={prepareValue:U(function(h){return s(h)},"prepareValueWrapper"),normalizeQueryConfig:d,postgresMd5PasswordHash:m,md5:p}}),_4={};Hl(_4,{default:()=>FTe});n7=ra(()=>{"use strict";ft(),FTe={}}),Tht=rr((t,e)=>{"use strict";ft();var r=(UTe(),Ji(UY));function n(f){if(f.indexOf("SCRAM-SHA-256")===-1)throw new Error("SASL: Only mechanism SCRAM-SHA-256 is currently supported");let y=r.randomBytes(18).toString("base64");return{mechanism:"SCRAM-SHA-256",clientNonce:y,response:"n,,n=*,r="+y,message:"SASLInitialResponse"}}U(n,"startSession");function i(f,y,v){if(f.message!=="SASLInitialResponse")throw new Error("SASL: Last message was not SASLInitialResponse");if(typeof y!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string");if(typeof v!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a string");let _=l(v);if(_.nonce.startsWith(f.clientNonce)){if(_.nonce.length===f.clientNonce.length)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");var x=kt.from(_.salt,"base64"),E=h(y,x,_.iteration),I=m(E,"Client Key"),N=p(I),L="n=*,r="+f.clientNonce,B="r="+_.nonce+",s="+_.salt+",i="+_.iteration,P="c=biws,r="+_.nonce,V=L+","+B+","+P,j=m(N,V),ee=d(I,j),O=ee.toString("base64"),b=m(E,"Server Key"),S=m(b,V);f.message="SASLResponse",f.serverSignature=S.toString("base64"),f.response=P+",p="+O}U(i,"continueSession");function o(f,y){if(f.message!=="SASLResponse")throw new Error("SASL: Last message was not SASLResponse");if(typeof y!="string")throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: serverData must be a string");let{serverSignature:v}=u(y);if(v!==f.serverSignature)throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}U(o,"finalizeSession");function s(f){if(typeof f!="string")throw new TypeError("SASL: text must be a string");return f.split("").map((y,v)=>f.charCodeAt(v)).every(y=>y>=33&&y<=43||y>=45&&y<=126)}U(s,"isPrintableChars");function a(f){return/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(f)}U(a,"isBase64");function c(f){if(typeof f!="string")throw new TypeError("SASL: attribute pairs text must be a string");return new Map(f.split(",").map(y=>{if(!/^.=/.test(y))throw new Error("SASL: Invalid attribute pair entry");let v=y[0],_=y.substring(2);return[v,_]}))}U(c,"parseAttributePairs");function l(f){let y=c(f),v=y.get("r");if(v){if(!s(v))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce must only contain printable characters")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");let _=y.get("s");if(_){if(!a(_))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");let x=y.get("i");if(x){if(!/^[1-9][0-9]*$/.test(x))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration count")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");let E=parseInt(x,10);return{nonce:v,salt:_,iteration:E}}U(l,"parseServerFirstMessage");function u(f){let y=c(f).get("v");if(y){if(!a(y))throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64")}else throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing");return{serverSignature:y}}U(u,"parseServerFinalMessage");function d(f,y){if(!kt.isBuffer(f))throw new TypeError("first argument must be a Buffer");if(!kt.isBuffer(y))throw new TypeError("second argument must be a Buffer");if(f.length!==y.length)throw new Error("Buffer lengths must match");if(f.length===0)throw new Error("Buffers cannot be empty");return kt.from(f.map((v,_)=>f[_]^y[_]))}U(d,"xorBuffers");function p(f){return r.createHash("sha256").update(f).digest()}U(p,"sha256");function m(f,y){return r.createHmac("sha256",f).update(y).digest()}U(m,"hmacSha256");function h(f,y,v){for(var _=m(f,kt.concat([y,kt.from([0,0,0,1])])),x=_,E=0;E<v-1;E++)_=m(f,_),x=d(x,_);return x}U(h,"Hi"),e.exports={startSession:n,continueSession:i,finalizeSession:o}}),FY={};Hl(FY,{join:()=>zTe});VTe=ra(()=>{"use strict";ft(),U(zTe,"join")}),zY={};Hl(zY,{stat:()=>jTe});qTe=ra(()=>{"use strict";ft(),U(jTe,"stat")}),VY={};Hl(VY,{default:()=>HTe});WTe=ra(()=>{"use strict";ft(),HTe={}}),GTe={};Hl(GTe,{StringDecoder:()=>KTe});Iht=ra(()=>{"use strict";ft(),PY=class{constructor(e){Mt(this,"td"),this.td=new TextDecoder(e)}write(e){return this.td.decode(e,{stream:!0})}end(e){return this.td.decode(e)}},U(PY,"StringDecoder"),KTe=PY}),Cht=rr((t,e)=>{"use strict";ft();var{Transform:r}=(WTe(),Ji(VY)),{StringDecoder:n}=(Iht(),Ji(GTe)),i=Symbol("last"),o=Symbol("decoder");function s(d,p,m){let h;if(this.overflow){if(h=this[o].write(d).split(this.matcher),h.length===1)return m();h.shift(),this.overflow=!1}else this[i]+=this[o].write(d),h=this[i].split(this.matcher);this[i]=h.pop();for(let f=0;f<h.length;f++)try{c(this,this.mapper(h[f]))}catch(y){return m(y)}if(this.overflow=this[i].length>this.maxLength,this.overflow&&!this.skipOverflow){m(new Error("maximum buffer reached"));return}m()}U(s,"transform");function a(d){if(this[i]+=this[o].end(),this[i])try{c(this,this.mapper(this[i]))}catch(p){return d(p)}d()}U(a,"flush");function c(d,p){p!==void 0&&d.push(p)}U(c,"push");function l(d){return d}U(l,"noop");function u(d,p,m){switch(d=d||/\r?\n/,p=p||l,m=m||{},arguments.length){case 1:typeof d=="function"?(p=d,d=/\r?\n/):typeof d=="object"&&!(d instanceof RegExp)&&!d[Symbol.split]&&(m=d,d=/\r?\n/);break;case 2:typeof d=="function"?(m=p,p=d,d=/\r?\n/):typeof p=="object"&&(m=p,p=l)}m=Object.assign({},m),m.autoDestroy=!0,m.transform=s,m.flush=a,m.readableObjectMode=!0;let h=new r(m);return h[i]="",h[o]=new n("utf8"),h.matcher=d,h.mapper=p,h.maxLength=m.maxLength,h.skipOverflow=m.skipOverflow||!1,h.overflow=!1,h._destroy=function(f,y){this._writableState.errorEmitted=!1,y(f)},h}U(u,"split"),e.exports=u}),Oht=rr((t,e)=>{"use strict";ft();var r=(VTe(),Ji(FY)),n=(WTe(),Ji(VY)).Stream,i=Cht(),o=(n7(),Ji(_4)),s=5432,a=tr.platform==="win32",c=tr.stderr,l=56,u=7,d=61440,p=32768;function m(I){return(I&d)==p}U(m,"isRegFile");var h=["host","port","database","user","password"],f=h.length,y=h[f-1];function v(){var I=c instanceof n&&c.writable===!0;if(I){var N=Array.prototype.slice.call(arguments).concat(`
`);c.write(o.format.apply(o,N))}}U(v,"warn"),Object.defineProperty(e.exports,"isWin",{get:U(function(){return a},"get"),set:U(function(I){a=I},"set")}),e.exports.warnTo=function(I){var N=c;return c=I,N},e.exports.getFileName=function(I){var N=I||tr.env,L=N.PGPASSFILE||(a?r.join(N.APPDATA||"./","postgresql","pgpass.conf"):r.join(N.HOME||"./",".pgpass"));return L},e.exports.usePgPass=function(I,N){return Object.prototype.hasOwnProperty.call(tr.env,"PGPASSWORD")?!1:a?!0:(N=N||"<unkn>",m(I.mode)?I.mode&(l|u)?(v('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',N),!1):!0:(v('WARNING: password file "%s" is not a plain file',N),!1))};var _=e.exports.match=function(I,N){return h.slice(0,-1).reduce(function(L,B,P){return P==1&&Number(I[B]||s)===Number(N[B])?L&&!0:L&&(N[B]==="*"||N[B]===I[B])},!0)};e.exports.getPassword=function(I,N,L){var B,P=N.pipe(i());function V(O){var b=x(O);b&&E(b)&&_(I,b)&&(B=b[y],P.end())}U(V,"onLine");var j=U(function(){N.destroy(),L(B)},"onEnd"),ee=U(function(O){N.destroy(),v("WARNING: error on reading file: %s",O),L(void 0)},"onErr");N.on("error",ee),P.on("data",V).on("end",j).on("error",ee)};var x=e.exports.parseLine=function(I){if(I.length<11||I.match(/^\s+#/))return null;for(var N="",L="",B=0,P=0,V=0,j={},ee=!1,O=U(function(S,R,k){var F=I.substring(R,k);Object.hasOwnProperty.call(tr.env,"PGPASS_NO_DEESCAPE")||(F=F.replace(/\\([:\\])/g,"$1")),j[h[S]]=F},"addToObj"),b=0;b<I.length-1;b+=1){if(N=I.charAt(b+1),L=I.charAt(b),ee=B==f-1,ee){O(B,P);break}b>=0&&N==":"&&L!=="\\"&&(O(B,P,b+1),P=b+2,B+=1)}return j=Object.keys(j).length===f?j:null,j},E=e.exports.isValidEntry=function(I){for(var N={0:function(j){return j.length>0},1:function(j){return j==="*"?!0:(j=Number(j),isFinite(j)&&j>0&&j<9007199254740992&&Math.floor(j)===j)},2:function(j){return j.length>0},3:function(j){return j.length>0},4:function(j){return j.length>0}},L=0;L<h.length;L+=1){var B=N[L],P=I[h[L]]||"",V=B(P);if(!V)return!1}return!0}}),Nht=rr((t,e)=>{"use strict";ft();var r=(VTe(),Ji(FY)),n=(qTe(),Ji(zY)),i=Oht();e.exports=function(o,s){var a=i.getFileName();n.stat(a,function(c,l){if(c||!i.usePgPass(l,a))return s(void 0);var u=n.createReadStream(a);i.getPassword(o,u,s)})},e.exports.warnTo=i.warnTo}),YTe={};Hl(YTe,{default:()=>JTe});Pht=ra(()=>{"use strict";ft(),JTe={}}),kht=rr((t,e)=>{"use strict";ft();var r=(PTe(),Ji(NTe)),n=(qTe(),Ji(zY));function i(o){if(o.charAt(0)==="/"){var a=o.split(" ");return{host:a[0],database:a[1]}}var s=r.parse(/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(o)?encodeURI(o).replace(/\%25(\d\d)/g,"%$1"):o,!0),a=s.query;for(var c in a)Array.isArray(a[c])&&(a[c]=a[c][a[c].length-1]);var l=(s.auth||":").split(":");if(a.user=l[0],a.password=l.splice(1).join(":"),a.port=s.port,s.protocol=="socket:")return a.host=decodeURI(s.pathname),a.database=s.query.db,a.client_encoding=s.query.encoding,a;a.host||(a.host=s.hostname);var u=s.pathname;if(!a.host&&u&&/^%2f/i.test(u)){var d=u.split("/");a.host=decodeURIComponent(d[0]),u=d.splice(1).join("/")}switch(u&&u.charAt(0)==="/"&&(u=u.slice(1)||null),a.database=u&&decodeURI(u),(a.ssl==="true"||a.ssl==="1")&&(a.ssl=!0),a.ssl==="0"&&(a.ssl=!1),(a.sslcert||a.sslkey||a.sslrootcert||a.sslmode)&&(a.ssl={}),a.sslcert&&(a.ssl.cert=n.readFileSync(a.sslcert).toString()),a.sslkey&&(a.ssl.key=n.readFileSync(a.sslkey).toString()),a.sslrootcert&&(a.ssl.ca=n.readFileSync(a.sslrootcert).toString()),a.sslmode){case"disable":{a.ssl=!1;break}case"prefer":case"require":case"verify-ca":case"verify-full":break;case"no-verify":{a.ssl.rejectUnauthorized=!1;break}}return a}U(i,"parse"),e.exports=i,i.parse=i}),jY=rr((t,e)=>{"use strict";ft();var r=(Pht(),Ji(YTe)),n=t7(),i=kht().parse,o=U(function(d,p,m){return m===void 0?m=tr.env["PG"+d.toUpperCase()]:m===!1||(m=tr.env[m]),p[d]||m||n[d]},"val"),s=U(function(){switch(tr.env.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return n.ssl},"readSSLConfigFromEnvironment"),a=U(function(d){return"'"+(""+d).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},"quoteParamValue"),c=U(function(d,p,m){var h=p[m];h!=null&&d.push(m+"="+a(h))},"add"),l=class{constructor(p){p=typeof p=="string"?i(p):p||{},p.connectionString&&(p=Object.assign({},p,i(p.connectionString))),this.user=o("user",p),this.database=o("database",p),this.database===void 0&&(this.database=this.user),this.port=parseInt(o("port",p),10),this.host=o("host",p),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:o("password",p)}),this.binary=o("binary",p),this.options=o("options",p),this.ssl=typeof p.ssl>"u"?s():p.ssl,typeof this.ssl=="string"&&this.ssl==="true"&&(this.ssl=!0),this.ssl==="no-verify"&&(this.ssl={rejectUnauthorized:!1}),this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this.client_encoding=o("client_encoding",p),this.replication=o("replication",p),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=o("application_name",p,"PGAPPNAME"),this.fallback_application_name=o("fallback_application_name",p,!1),this.statement_timeout=o("statement_timeout",p,!1),this.lock_timeout=o("lock_timeout",p,!1),this.idle_in_transaction_session_timeout=o("idle_in_transaction_session_timeout",p,!1),this.query_timeout=o("query_timeout",p,!1),p.connectionTimeoutMillis===void 0?this.connect_timeout=tr.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(p.connectionTimeoutMillis/1e3),p.keepAlive===!1?this.keepalives=0:p.keepAlive===!0&&(this.keepalives=1),typeof p.keepAliveInitialDelayMillis=="number"&&(this.keepalives_idle=Math.floor(p.keepAliveInitialDelayMillis/1e3))}getLibpqConnectionString(p){var m=[];c(m,this,"user"),c(m,this,"password"),c(m,this,"port"),c(m,this,"application_name"),c(m,this,"fallback_application_name"),c(m,this,"connect_timeout"),c(m,this,"options");var h=typeof this.ssl=="object"?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(c(m,h,"sslmode"),c(m,h,"sslca"),c(m,h,"sslkey"),c(m,h,"sslcert"),c(m,h,"sslrootcert"),this.database&&m.push("dbname="+a(this.database)),this.replication&&m.push("replication="+a(this.replication)),this.host&&m.push("host="+a(this.host)),this.isDomainSocket)return p(null,m.join(" "));this.client_encoding&&m.push("client_encoding="+a(this.client_encoding)),r.lookup(this.host,function(f,y){return f?p(f,null):(m.push("hostaddr="+a(y)),p(null,m.join(" ")))})}};U(l,"ConnectionParameters");var u=l;e.exports=u}),Dht=rr((t,e)=>{"use strict";ft();var r=e7(),n=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/,i=class{constructor(a,c){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=c,this.RowCtor=null,this.rowAsArray=a==="array",this.rowAsArray&&(this.parseRow=this._parseRowAsArray)}addCommandComplete(a){var c;a.text?c=n.exec(a.text):c=n.exec(a.command),c&&(this.command=c[1],c[3]?(this.oid=parseInt(c[2],10),this.rowCount=parseInt(c[3],10)):c[2]&&(this.rowCount=parseInt(c[2],10)))}_parseRowAsArray(a){for(var c=new Array(a.length),l=0,u=a.length;l<u;l++){var d=a[l];d!==null?c[l]=this._parsers[l](d):c[l]=null}return c}parseRow(a){for(var c={},l=0,u=a.length;l<u;l++){var d=a[l],p=this.fields[l].name;d!==null?c[p]=this._parsers[l](d):c[p]=null}return c}addRow(a){this.rows.push(a)}addFields(a){this.fields=a,this.fields.length&&(this._parsers=new Array(a.length));for(var c=0;c<a.length;c++){var l=a[c];this._types?this._parsers[c]=this._types.getTypeParser(l.dataTypeID,l.format||"text"):this._parsers[c]=r.getTypeParser(l.dataTypeID,l.format||"text")}}};U(i,"Result");var o=i;e.exports=o}),Mht=rr((t,e)=>{"use strict";ft();var{EventEmitter:r}=E0(),n=Dht(),i=r7(),o=class extends r{constructor(c,l,u){super(),c=i.normalizeQueryConfig(c,l,u),this.text=c.text,this.values=c.values,this.rows=c.rows,this.types=c.types,this.name=c.name,this.binary=c.binary,this.portal=c.portal||"",this.callback=c.callback,this._rowMode=c.rowMode,tr.domain&&c.callback&&(this.callback=tr.domain.bind(c.callback)),this._result=new n(this._rowMode,this.types),this._results=this._result,this.isPreparedStatement=!1,this._canceledDueToError=!1,this._promise=null}requiresPreparation(){return this.name||this.rows?!0:!this.text||!this.values?!1:this.values.length>0}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new n(this._rowMode,this.types),this._results.push(this._result))}handleRowDescription(c){this._checkForMultirow(),this._result.addFields(c.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(c){let l;if(!this._canceledDueToError){try{l=this._result.parseRow(c.fields)}catch(u){this._canceledDueToError=u;return}this.emit("row",l,this._result),this._accumulateRows&&this._result.addRow(l)}}handleCommandComplete(c,l){this._checkForMultirow(),this._result.addCommandComplete(c),this.rows&&l.sync()}handleEmptyQuery(c){this.rows&&c.sync()}handleError(c,l){if(this._canceledDueToError&&(c=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(c);this.emit("error",c)}handleReadyForQuery(c){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,c);if(this.callback)try{this.callback(null,this._results)}catch(l){tr.nextTick(()=>{throw l})}this.emit("end",this._results)}submit(c){if(typeof this.text!="string"&&typeof this.name!="string")return new Error("A query must have either text or a name. Supplying neither is unsupported.");let l=c.parsedStatements[this.name];return this.text&&l&&this.text!==l?new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`):this.values&&!Array.isArray(this.values)?new Error("Query values must be an array"):(this.requiresPreparation()?this.prepare(c):c.query(this.text),null)}hasBeenParsed(c){return this.name&&c.parsedStatements[this.name]}handlePortalSuspended(c){this._getRows(c,this.rows)}_getRows(c,l){c.execute({portal:this.portal,rows:l}),l?c.flush():c.sync()}prepare(c){this.isPreparedStatement=!0,this.hasBeenParsed(c)||c.parse({text:this.text,name:this.name,types:this.types});try{c.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary,valueMapper:i.prepareValue})}catch(l){this.handleError(l,c);return}c.describe({type:"P",name:this.portal||""}),this._getRows(c,this.rows)}handleCopyInResponse(c){c.sendCopyFail("No source stream defined")}handleCopyData(c,l){}};U(o,"Query");var s=o;e.exports=s}),QTe=rr(t=>{"use strict";ft(),Object.defineProperty(t,"__esModule",{value:!0}),t.NoticeMessage=t.DataRowMessage=t.CommandCompleteMessage=t.ReadyForQueryMessage=t.NotificationResponseMessage=t.BackendKeyDataMessage=t.AuthenticationMD5Password=t.ParameterStatusMessage=t.ParameterDescriptionMessage=t.RowDescriptionMessage=t.Field=t.CopyResponse=t.CopyDataMessage=t.DatabaseError=t.copyDone=t.emptyQuery=t.replicationStart=t.portalSuspended=t.noData=t.closeComplete=t.bindComplete=t.parseComplete=void 0,t.parseComplete={name:"parseComplete",length:5},t.bindComplete={name:"bindComplete",length:5},t.closeComplete={name:"closeComplete",length:5},t.noData={name:"noData",length:5},t.portalSuspended={name:"portalSuspended",length:5},t.replicationStart={name:"replicationStart",length:4},t.emptyQuery={name:"emptyQuery",length:4},t.copyDone={name:"copyDone",length:4};var e=class extends Error{constructor(b,S,R){super(b),this.length=S,this.name=R}};U(e,"DatabaseError");var r=e;t.DatabaseError=r;var n=class{constructor(b,S){this.length=b,this.chunk=S,this.name="copyData"}};U(n,"CopyDataMessage");var i=n;t.CopyDataMessage=i;var o=class{constructor(b,S,R,k){this.length=b,this.name=S,this.binary=R,this.columnTypes=new Array(k)}};U(o,"CopyResponse");var s=o;t.CopyResponse=s;var a=class{constructor(b,S,R,k,F,q,K){this.name=b,this.tableID=S,this.columnID=R,this.dataTypeID=k,this.dataTypeSize=F,this.dataTypeModifier=q,this.format=K}};U(a,"Field");var c=a;t.Field=c;var l=class{constructor(b,S){this.length=b,this.fieldCount=S,this.name="rowDescription",this.fields=new Array(this.fieldCount)}};U(l,"RowDescriptionMessage");var u=l;t.RowDescriptionMessage=u;var d=class{constructor(b,S){this.length=b,this.parameterCount=S,this.name="parameterDescription",this.dataTypeIDs=new Array(this.parameterCount)}};U(d,"ParameterDescriptionMessage");var p=d;t.ParameterDescriptionMessage=p;var m=class{constructor(b,S,R){this.length=b,this.parameterName=S,this.parameterValue=R,this.name="parameterStatus"}};U(m,"ParameterStatusMessage");var h=m;t.ParameterStatusMessage=h;var f=class{constructor(b,S){this.length=b,this.salt=S,this.name="authenticationMD5Password"}};U(f,"AuthenticationMD5Password");var y=f;t.AuthenticationMD5Password=y;var v=class{constructor(b,S,R){this.length=b,this.processID=S,this.secretKey=R,this.name="backendKeyData"}};U(v,"BackendKeyDataMessage");var _=v;t.BackendKeyDataMessage=_;var x=class{constructor(b,S,R,k){this.length=b,this.processId=S,this.channel=R,this.payload=k,this.name="notification"}};U(x,"NotificationResponseMessage");var E=x;t.NotificationResponseMessage=E;var I=class{constructor(b,S){this.length=b,this.status=S,this.name="readyForQuery"}};U(I,"ReadyForQueryMessage");var N=I;t.ReadyForQueryMessage=N;var L=class{constructor(b,S){this.length=b,this.text=S,this.name="commandComplete"}};U(L,"CommandCompleteMessage");var B=L;t.CommandCompleteMessage=B;var P=class{constructor(b,S){this.length=b,this.fields=S,this.name="dataRow",this.fieldCount=S.length}};U(P,"DataRowMessage");var V=P;t.DataRowMessage=V;var j=class{constructor(b,S){this.length=b,this.message=S,this.name="notice"}};U(j,"NoticeMessage");var ee=j;t.NoticeMessage=ee}),$ht=rr(t=>{"use strict";ft(),Object.defineProperty(t,"__esModule",{value:!0}),t.Writer=void 0;var e=class{constructor(i=256){this.size=i,this.offset=5,this.headerPosition=0,this.buffer=kt.allocUnsafe(i)}ensure(i){if(this.buffer.length-this.offset<i){let o=this.buffer,s=o.length+(o.length>>1)+i;this.buffer=kt.allocUnsafe(s),o.copy(this.buffer)}}addInt32(i){return this.ensure(4),this.buffer[this.offset++]=i>>>24&255,this.buffer[this.offset++]=i>>>16&255,this.buffer[this.offset++]=i>>>8&255,this.buffer[this.offset++]=i>>>0&255,this}addInt16(i){return this.ensure(2),this.buffer[this.offset++]=i>>>8&255,this.buffer[this.offset++]=i>>>0&255,this}addCString(i){if(!i)this.ensure(1);else{let o=kt.byteLength(i);this.ensure(o+1),this.buffer.write(i,this.offset,"utf-8"),this.offset+=o}return this.buffer[this.offset++]=0,this}addString(i=""){let o=kt.byteLength(i);return this.ensure(o),this.buffer.write(i,this.offset),this.offset+=o,this}add(i){return this.ensure(i.length),i.copy(this.buffer,this.offset),this.offset+=i.length,this}join(i){if(i){this.buffer[this.headerPosition]=i;let o=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(o,this.headerPosition+1)}return this.buffer.slice(i?0:5,this.offset)}flush(i){let o=this.join(i);return this.offset=5,this.headerPosition=0,this.buffer=kt.allocUnsafe(this.size),o}};U(e,"Writer");var r=e;t.Writer=r}),Lht=rr(t=>{"use strict";ft(),Object.defineProperty(t,"__esModule",{value:!0}),t.serialize=void 0;var e=$ht(),r=new e.Writer,n=U(b=>{r.addInt16(3).addInt16(0);for(let k of Object.keys(b))r.addCString(k).addCString(b[k]);r.addCString("client_encoding").addCString("UTF8");let S=r.addCString("").flush(),R=S.length+4;return new e.Writer().addInt32(R).add(S).flush()},"startup"),i=U(()=>{let b=kt.allocUnsafe(8);return b.writeInt32BE(8,0),b.writeInt32BE(80877103,4),b},"requestSsl"),o=U(b=>r.addCString(b).flush(112),"password"),s=U(function(b,S){return r.addCString(b).addInt32(kt.byteLength(S)).addString(S),r.flush(112)},"sendSASLInitialResponseMessage"),a=U(function(b){return r.addString(b).flush(112)},"sendSCRAMClientFinalMessage"),c=U(b=>r.addCString(b).flush(81),"query"),l=[],u=U(b=>{let S=b.name||"";S.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",S,S.length),console.error("This can cause conflicts and silent errors executing queries"));let R=b.types||l,k=R.length,F=r.addCString(S).addCString(b.text).addInt16(k);for(let q=0;q<k;q++)F.addInt32(R[q]);return r.flush(80)},"parse"),d=new e.Writer,p=U(function(b,S){for(let R=0;R<b.length;R++){let k=S?S(b[R],R):b[R];k==null?(r.addInt16(0),d.addInt32(-1)):k instanceof kt?(r.addInt16(1),d.addInt32(k.length),d.add(k)):(r.addInt16(0),d.addInt32(kt.byteLength(k)),d.addString(k))}},"writeValues"),m=U((b={})=>{let S=b.portal||"",R=b.statement||"",k=b.binary||!1,F=b.values||l,q=F.length;return r.addCString(S).addCString(R),r.addInt16(q),p(F,b.valueMapper),r.addInt16(q),r.add(d.flush()),r.addInt16(k?1:0),r.flush(66)},"bind"),h=kt.from([69,0,0,0,9,0,0,0,0,0]),f=U(b=>{if(!b||!b.portal&&!b.rows)return h;let S=b.portal||"",R=b.rows||0,k=kt.byteLength(S),F=4+k+1+4,q=kt.allocUnsafe(1+F);return q[0]=69,q.writeInt32BE(F,1),q.write(S,5,"utf-8"),q[k+5]=0,q.writeUInt32BE(R,q.length-4),q},"execute"),y=U((b,S)=>{let R=kt.allocUnsafe(16);return R.writeInt32BE(16,0),R.writeInt16BE(1234,4),R.writeInt16BE(5678,6),R.writeInt32BE(b,8),R.writeInt32BE(S,12),R},"cancel"),v=U((b,S)=>{let R=4+kt.byteLength(S)+1,k=kt.allocUnsafe(1+R);return k[0]=b,k.writeInt32BE(R,1),k.write(S,5,"utf-8"),k[R]=0,k},"cstringMessage"),_=r.addCString("P").flush(68),x=r.addCString("S").flush(68),E=U(b=>b.name?v(68,`${b.type}${b.name||""}`):b.type==="P"?_:x,"describe"),I=U(b=>{let S=`${b.type}${b.name||""}`;return v(67,S)},"close"),N=U(b=>r.add(b).flush(100),"copyData"),L=U(b=>v(102,b),"copyFail"),B=U(b=>kt.from([b,0,0,0,4]),"codeOnlyBuffer"),P=B(72),V=B(83),j=B(88),ee=B(99),O={startup:n,password:o,requestSsl:i,sendSASLInitialResponseMessage:s,sendSCRAMClientFinalMessage:a,query:c,parse:u,bind:m,execute:f,describe:E,close:I,flush:U(()=>P,"flush"),sync:U(()=>V,"sync"),end:U(()=>j,"end"),copyData:N,copyDone:U(()=>ee,"copyDone"),copyFail:L,cancel:y};t.serialize=O}),Bht=rr(t=>{"use strict";ft(),Object.defineProperty(t,"__esModule",{value:!0}),t.BufferReader=void 0;var e=kt.allocUnsafe(0),r=class{constructor(o=0){this.offset=o,this.buffer=e,this.encoding="utf-8"}setBuffer(o,s){this.offset=o,this.buffer=s}int16(){let o=this.buffer.readInt16BE(this.offset);return this.offset+=2,o}byte(){let o=this.buffer[this.offset];return this.offset++,o}int32(){let o=this.buffer.readInt32BE(this.offset);return this.offset+=4,o}uint32(){let o=this.buffer.readUInt32BE(this.offset);return this.offset+=4,o}string(o){let s=this.buffer.toString(this.encoding,this.offset,this.offset+o);return this.offset+=o,s}cstring(){let o=this.offset,s=o;for(;this.buffer[s++]!==0;);return this.offset=s,this.buffer.toString(this.encoding,o,s-1)}bytes(o){let s=this.buffer.slice(this.offset,this.offset+o);return this.offset+=o,s}};U(r,"BufferReader");var n=r;t.BufferReader=n}),Uht=rr(t=>{"use strict";ft(),Object.defineProperty(t,"__esModule",{value:!0}),t.Parser=void 0;var e=QTe(),r=Bht(),n=1,i=4,o=n+i,s=kt.allocUnsafe(0),a=class{constructor(u){if(this.buffer=s,this.bufferLength=0,this.bufferOffset=0,this.reader=new r.BufferReader,u?.mode==="binary")throw new Error("Binary mode not supported yet");this.mode=u?.mode||"text"}parse(u,d){this.mergeBuffer(u);let p=this.bufferOffset+this.bufferLength,m=this.bufferOffset;for(;m+o<=p;){let h=this.buffer[m],f=this.buffer.readUInt32BE(m+n),y=n+f;if(y+m<=p){let v=this.handlePacket(m+o,h,f,this.buffer);d(v),m+=y}else break}m===p?(this.buffer=s,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=p-m,this.bufferOffset=m)}mergeBuffer(u){if(this.bufferLength>0){let d=this.bufferLength+u.byteLength;if(d+this.bufferOffset>this.buffer.byteLength){let p;if(d<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)p=this.buffer;else{let m=this.buffer.byteLength*2;for(;d>=m;)m*=2;p=kt.allocUnsafe(m)}this.buffer.copy(p,0,this.bufferOffset,this.bufferOffset+this.bufferLength),this.buffer=p,this.bufferOffset=0}u.copy(this.buffer,this.bufferOffset+this.bufferLength),this.bufferLength=d}else this.buffer=u,this.bufferOffset=0,this.bufferLength=u.byteLength}handlePacket(u,d,p,m){switch(d){case 50:return e.bindComplete;case 49:return e.parseComplete;case 51:return e.closeComplete;case 110:return e.noData;case 115:return e.portalSuspended;case 99:return e.copyDone;case 87:return e.replicationStart;case 73:return e.emptyQuery;case 68:return this.parseDataRowMessage(u,p,m);case 67:return this.parseCommandCompleteMessage(u,p,m);case 90:return this.parseReadyForQueryMessage(u,p,m);case 65:return this.parseNotificationMessage(u,p,m);case 82:return this.parseAuthenticationResponse(u,p,m);case 83:return this.parseParameterStatusMessage(u,p,m);case 75:return this.parseBackendKeyData(u,p,m);case 69:return this.parseErrorMessage(u,p,m,"error");case 78:return this.parseErrorMessage(u,p,m,"notice");case 84:return this.parseRowDescriptionMessage(u,p,m);case 116:return this.parseParameterDescriptionMessage(u,p,m);case 71:return this.parseCopyInMessage(u,p,m);case 72:return this.parseCopyOutMessage(u,p,m);case 100:return this.parseCopyData(u,p,m);default:return new e.DatabaseError("received invalid response: "+d.toString(16),p,"error")}}parseReadyForQueryMessage(u,d,p){this.reader.setBuffer(u,p);let m=this.reader.string(1);return new e.ReadyForQueryMessage(d,m)}parseCommandCompleteMessage(u,d,p){this.reader.setBuffer(u,p);let m=this.reader.cstring();return new e.CommandCompleteMessage(d,m)}parseCopyData(u,d,p){let m=p.slice(u,u+(d-4));return new e.CopyDataMessage(d,m)}parseCopyInMessage(u,d,p){return this.parseCopyMessage(u,d,p,"copyInResponse")}parseCopyOutMessage(u,d,p){return this.parseCopyMessage(u,d,p,"copyOutResponse")}parseCopyMessage(u,d,p,m){this.reader.setBuffer(u,p);let h=this.reader.byte()!==0,f=this.reader.int16(),y=new e.CopyResponse(d,m,h,f);for(let v=0;v<f;v++)y.columnTypes[v]=this.reader.int16();return y}parseNotificationMessage(u,d,p){this.reader.setBuffer(u,p);let m=this.reader.int32(),h=this.reader.cstring(),f=this.reader.cstring();return new e.NotificationResponseMessage(d,m,h,f)}parseRowDescriptionMessage(u,d,p){this.reader.setBuffer(u,p);let m=this.reader.int16(),h=new e.RowDescriptionMessage(d,m);for(let f=0;f<m;f++)h.fields[f]=this.parseField();return h}parseField(){let u=this.reader.cstring(),d=this.reader.uint32(),p=this.reader.int16(),m=this.reader.uint32(),h=this.reader.int16(),f=this.reader.int32(),y=this.reader.int16()===0?"text":"binary";return new e.Field(u,d,p,m,h,f,y)}parseParameterDescriptionMessage(u,d,p){this.reader.setBuffer(u,p);let m=this.reader.int16(),h=new e.ParameterDescriptionMessage(d,m);for(let f=0;f<m;f++)h.dataTypeIDs[f]=this.reader.int32();return h}parseDataRowMessage(u,d,p){this.reader.setBuffer(u,p);let m=this.reader.int16(),h=new Array(m);for(let f=0;f<m;f++){let y=this.reader.int32();h[f]=y===-1?null:this.reader.string(y)}return new e.DataRowMessage(d,h)}parseParameterStatusMessage(u,d,p){this.reader.setBuffer(u,p);let m=this.reader.cstring(),h=this.reader.cstring();return new e.ParameterStatusMessage(d,m,h)}parseBackendKeyData(u,d,p){this.reader.setBuffer(u,p);let m=this.reader.int32(),h=this.reader.int32();return new e.BackendKeyDataMessage(d,m,h)}parseAuthenticationResponse(u,d,p){this.reader.setBuffer(u,p);let m=this.reader.int32(),h={name:"authenticationOk",length:d};switch(m){case 0:break;case 3:h.length===8&&(h.name="authenticationCleartextPassword");break;case 5:if(h.length===12){h.name="authenticationMD5Password";let f=this.reader.bytes(4);return new e.AuthenticationMD5Password(d,f)}break;case 10:{h.name="authenticationSASL",h.mechanisms=[];let f;do f=this.reader.cstring(),f&&h.mechanisms.push(f);while(f)}break;case 11:h.name="authenticationSASLContinue",h.data=this.reader.string(d-8);break;case 12:h.name="authenticationSASLFinal",h.data=this.reader.string(d-8);break;default:throw new Error("Unknown authenticationOk message type "+m)}return h}parseErrorMessage(u,d,p,m){this.reader.setBuffer(u,p);let h={},f=this.reader.string(1);for(;f!=="\0";)h[f]=this.reader.cstring(),f=this.reader.string(1);let y=h.M,v=m==="notice"?new e.NoticeMessage(d,y):new e.DatabaseError(y,d,m);return v.severity=h.S,v.code=h.C,v.detail=h.D,v.hint=h.H,v.position=h.P,v.internalPosition=h.p,v.internalQuery=h.q,v.where=h.W,v.schema=h.s,v.table=h.t,v.column=h.c,v.dataType=h.d,v.constraint=h.n,v.file=h.F,v.line=h.L,v.routine=h.R,v}};U(a,"Parser");var c=a;t.Parser=c}),ZTe=rr(t=>{"use strict";ft(),Object.defineProperty(t,"__esModule",{value:!0}),t.DatabaseError=t.serialize=t.parse=void 0;var e=QTe();Object.defineProperty(t,"DatabaseError",{enumerable:!0,get:U(function(){return e.DatabaseError},"get")});var r=Lht();Object.defineProperty(t,"serialize",{enumerable:!0,get:U(function(){return r.serialize},"get")});var n=Uht();function i(o,s){let a=new n.Parser;return o.on("data",c=>a.parse(c,s)),new Promise(c=>o.on("end",()=>c()))}U(i,"parse"),t.parse=i}),XTe={};Hl(XTe,{connect:()=>eIe});Fht=ra(()=>{"use strict";ft(),U(eIe,"connect")}),tIe=rr((t,e)=>{"use strict";ft();var r=(v4(),Ji(CTe)),n=E0().EventEmitter,{parse:i,serialize:o}=ZTe(),s=o.flush(),a=o.sync(),c=o.end(),l=class extends n{constructor(p){super(),p=p||{},this.stream=p.stream||new r.Socket,this._keepAlive=p.keepAlive,this._keepAliveInitialDelayMillis=p.keepAliveInitialDelayMillis,this.lastBuffer=!1,this.parsedStatements={},this.ssl=p.ssl||!1,this._ending=!1,this._emitMessage=!1;var m=this;this.on("newListener",function(h){h==="message"&&(m._emitMessage=!0)})}connect(p,m){var h=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(p,m),this.stream.once("connect",function(){h._keepAlive&&h.stream.setKeepAlive(!0,h._keepAliveInitialDelayMillis),h.emit("connect")});let f=U(function(y){h._ending&&(y.code==="ECONNRESET"||y.code==="EPIPE")||h.emit("error",y)},"reportStreamError");if(this.stream.on("error",f),this.stream.on("close",function(){h.emit("end")}),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",function(y){var v=y.toString("utf8");switch(v){case"S":break;case"N":return h.stream.end(),h.emit("error",new Error("The server does not support SSL connections"));default:return h.stream.end(),h.emit("error",new Error("There was an error establishing an SSL connection"))}var _=(Fht(),Ji(XTe));let x={socket:h.stream};h.ssl!==!0&&(Object.assign(x,h.ssl),"key"in h.ssl&&(x.key=h.ssl.key)),r.isIP(m)===0&&(x.servername=m);try{h.stream=_.connect(x)}catch(E){return h.emit("error",E)}h.attachListeners(h.stream),h.stream.on("error",f),h.emit("sslconnect")})}attachListeners(p){p.on("end",()=>{this.emit("end")}),i(p,m=>{var h=m.name==="error"?"errorMessage":m.name;this._emitMessage&&this.emit("message",m),this.emit(h,m)})}requestSsl(){this.stream.write(o.requestSsl())}startup(p){this.stream.write(o.startup(p))}cancel(p,m){this._send(o.cancel(p,m))}password(p){this._send(o.password(p))}sendSASLInitialResponseMessage(p,m){this._send(o.sendSASLInitialResponseMessage(p,m))}sendSCRAMClientFinalMessage(p){this._send(o.sendSCRAMClientFinalMessage(p))}_send(p){return this.stream.writable?this.stream.write(p):!1}query(p){this._send(o.query(p))}parse(p){this._send(o.parse(p))}bind(p){this._send(o.bind(p))}execute(p){this._send(o.execute(p))}flush(){this.stream.writable&&this.stream.write(s)}sync(){this._ending=!0,this._send(s),this._send(a)}ref(){this.stream.ref()}unref(){this.stream.unref()}end(){if(this._ending=!0,!this._connecting||!this.stream.writable){this.stream.end();return}return this.stream.write(c,()=>{this.stream.end()})}close(p){this._send(o.close(p))}describe(p){this._send(o.describe(p))}sendCopyFromChunk(p){this._send(o.copyData(p))}endCopyFrom(){this._send(o.copyDone())}sendCopyFail(p){this._send(o.copyFail(p))}};U(l,"Connection");var u=l;e.exports=u}),zht=rr((t,e)=>{"use strict";ft();var r=E0().EventEmitter,n=(n7(),Ji(_4)),i=r7(),o=Tht(),s=Nht(),a=BY(),c=jY(),l=Mht(),u=t7(),d=tIe(),p=class extends r{constructor(f){super(),this.connectionParameters=new c(f),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;var y=f||{};this._Promise=y.Promise||X9.Promise,this._types=new a(y.types),this._ending=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.connection=y.connection||new d({stream:y.stream,ssl:this.connectionParameters.ssl,keepAlive:y.keepAlive||!1,keepAliveInitialDelayMillis:y.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=y.binary||u.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this._connectionTimeoutMillis=y.connectionTimeoutMillis||0}_errorAllQueries(f){let y=U(v=>{tr.nextTick(()=>{v.handleError(f,this.connection)})},"enqueueError");this.activeQuery&&(y(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(y),this.queryQueue.length=0}_connect(f){var y=this,v=this.connection;if(this._connectionCallback=f,this._connecting||this._connected){let _=new Error("Client has already been connected. You cannot reuse a client.");tr.nextTick(()=>{f(_)});return}this._connecting=!0,this.connectionTimeoutHandle,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{v._ending=!0,v.stream.destroy(new Error("timeout expired"))},this._connectionTimeoutMillis)),this.host&&this.host.indexOf("/")===0?v.connect(this.host+"/.s.PGSQL."+this.port):v.connect(this.port,this.host),v.on("connect",function(){y.ssl?v.requestSsl():v.startup(y.getStartupConf())}),v.on("sslconnect",function(){v.startup(y.getStartupConf())}),this._attachListeners(v),v.once("end",()=>{let _=this._ending?new Error("Connection terminated"):new Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(_),this._ending||(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(_):this._handleErrorEvent(_):this._connectionError||this._handleErrorEvent(_)),tr.nextTick(()=>{this.emit("end")})})}connect(f){if(f){this._connect(f);return}return new this._Promise((y,v)=>{this._connect(_=>{_?v(_):y()})})}_attachListeners(f){f.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),f.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),f.on("authenticationSASL",this._handleAuthSASL.bind(this)),f.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),f.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),f.on("backendKeyData",this._handleBackendKeyData.bind(this)),f.on("error",this._handleErrorEvent.bind(this)),f.on("errorMessage",this._handleErrorMessage.bind(this)),f.on("readyForQuery",this._handleReadyForQuery.bind(this)),f.on("notice",this._handleNotice.bind(this)),f.on("rowDescription",this._handleRowDescription.bind(this)),f.on("dataRow",this._handleDataRow.bind(this)),f.on("portalSuspended",this._handlePortalSuspended.bind(this)),f.on("emptyQuery",this._handleEmptyQuery.bind(this)),f.on("commandComplete",this._handleCommandComplete.bind(this)),f.on("parseComplete",this._handleParseComplete.bind(this)),f.on("copyInResponse",this._handleCopyInResponse.bind(this)),f.on("copyData",this._handleCopyData.bind(this)),f.on("notification",this._handleNotification.bind(this))}_checkPgPass(f){let y=this.connection;typeof this.password=="function"?this._Promise.resolve().then(()=>this.password()).then(v=>{if(v!==void 0){if(typeof v!="string"){y.emit("error",new TypeError("Password must be a string"));return}this.connectionParameters.password=this.password=v}else this.connectionParameters.password=this.password=null;f()}).catch(v=>{y.emit("error",v)}):this.password!==null?f():s(this.connectionParameters,v=>{v!==void 0&&(this.connectionParameters.password=this.password=v),f()})}_handleAuthCleartextPassword(f){this._checkPgPass(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(f){this._checkPgPass(()=>{let y=i.postgresMd5PasswordHash(this.user,this.password,f.salt);this.connection.password(y)})}_handleAuthSASL(f){this._checkPgPass(()=>{this.saslSession=o.startSession(f.mechanisms),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)})}_handleAuthSASLContinue(f){o.continueSession(this.saslSession,this.password,f.data),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}_handleAuthSASLFinal(f){o.finalizeSession(this.saslSession,f.data),this.saslSession=null}_handleBackendKeyData(f){this.processID=f.processID,this.secretKey=f.secretKey}_handleReadyForQuery(f){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));let{activeQuery:y}=this;this.activeQuery=null,this.readyForQuery=!0,y&&y.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(f){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(f);this.emit("error",f)}}_handleErrorEvent(f){if(this._connecting)return this._handleErrorWhileConnecting(f);this._queryable=!1,this._errorAllQueries(f),this.emit("error",f)}_handleErrorMessage(f){if(this._connecting)return this._handleErrorWhileConnecting(f);let y=this.activeQuery;if(!y){this._handleErrorEvent(f);return}this.activeQuery=null,y.handleError(f,this.connection)}_handleRowDescription(f){this.activeQuery.handleRowDescription(f)}_handleDataRow(f){this.activeQuery.handleDataRow(f)}_handlePortalSuspended(f){this.activeQuery.handlePortalSuspended(this.connection)}_handleEmptyQuery(f){this.activeQuery.handleEmptyQuery(this.connection)}_handleCommandComplete(f){this.activeQuery.handleCommandComplete(f,this.connection)}_handleParseComplete(f){this.activeQuery.name&&(this.connection.parsedStatements[this.activeQuery.name]=this.activeQuery.text)}_handleCopyInResponse(f){this.activeQuery.handleCopyInResponse(this.connection)}_handleCopyData(f){this.activeQuery.handleCopyData(f,this.connection)}_handleNotification(f){this.emit("notification",f)}_handleNotice(f){this.emit("notice",f)}getStartupConf(){var f=this.connectionParameters,y={user:f.user,database:f.database},v=f.application_name||f.fallback_application_name;return v&&(y.application_name=v),f.replication&&(y.replication=""+f.replication),f.statement_timeout&&(y.statement_timeout=String(parseInt(f.statement_timeout,10))),f.lock_timeout&&(y.lock_timeout=String(parseInt(f.lock_timeout,10))),f.idle_in_transaction_session_timeout&&(y.idle_in_transaction_session_timeout=String(parseInt(f.idle_in_transaction_session_timeout,10))),f.options&&(y.options=f.options),y}cancel(f,y){if(f.activeQuery===y){var v=this.connection;this.host&&this.host.indexOf("/")===0?v.connect(this.host+"/.s.PGSQL."+this.port):v.connect(this.port,this.host),v.on("connect",function(){v.cancel(f.processID,f.secretKey)})}else f.queryQueue.indexOf(y)!==-1&&f.queryQueue.splice(f.queryQueue.indexOf(y),1)}setTypeParser(f,y,v){return this._types.setTypeParser(f,y,v)}getTypeParser(f,y){return this._types.getTypeParser(f,y)}escapeIdentifier(f){return'"'+f.replace(/"/g,'""')+'"'}escapeLiteral(f){for(var y=!1,v="'",_=0;_<f.length;_++){var x=f[_];x==="'"?v+=x+x:x==="\\"?(v+=x+x,y=!0):v+=x}return v+="'",y===!0&&(v=" E"+v),v}_pulseQueryQueue(){if(this.readyForQuery===!0)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;let f=this.activeQuery.submit(this.connection);f&&tr.nextTick(()=>{this.activeQuery.handleError(f,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))}query(f,y,v){var _,x,E,I,N;if(f==null)throw new TypeError("Client was passed a null or undefined query");return typeof f.submit=="function"?(E=f.query_timeout||this.connectionParameters.query_timeout,x=_=f,typeof y=="function"&&(_.callback=_.callback||y)):(E=this.connectionParameters.query_timeout,_=new l(f,y,v),_.callback||(x=new this._Promise((L,B)=>{_.callback=(P,V)=>P?B(P):L(V)}))),E&&(N=_.callback,I=setTimeout(()=>{var L=new Error("Query read timeout");tr.nextTick(()=>{_.handleError(L,this.connection)}),N(L),_.callback=()=>{};var B=this.queryQueue.indexOf(_);B>-1&&this.queryQueue.splice(B,1),this._pulseQueryQueue()},E),_.callback=(L,B)=>{clearTimeout(I),N(L,B)}),this.binary&&!_.binary&&(_.binary=!0),_._result&&!_._result._types&&(_._result._types=this._types),this._queryable?this._ending?(tr.nextTick(()=>{_.handleError(new Error("Client was closed and is not queryable"),this.connection)}),x):(this.queryQueue.push(_),this._pulseQueryQueue(),x):(tr.nextTick(()=>{_.handleError(new Error("Client has encountered a connection error and is not queryable"),this.connection)}),x)}ref(){this.connection.ref()}unref(){this.connection.unref()}end(f){if(this._ending=!0,!this.connection._connecting)if(f)f();else return this._Promise.resolve();if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),f)this.connection.once("end",f);else return new this._Promise(y=>{this.connection.once("end",y)})}};U(p,"Client");var m=p;m.Query=l,e.exports=m}),Vht=rr((t,e)=>{"use strict";ft();var r=E0().EventEmitter,n=U(function(){},"NOOP"),i=U((h,f)=>{let y=h.findIndex(f);return y===-1?void 0:h.splice(y,1)[0]},"removeWhere"),o=class{constructor(f,y,v){this.client=f,this.idleListener=y,this.timeoutId=v}};U(o,"IdleItem");var s=o,a=class{constructor(f){this.callback=f}};U(a,"PendingItem");var c=a;function l(){throw new Error("Release called on client which has already been released to the pool.")}U(l,"throwOnDoubleRelease");function u(h,f){if(f)return{callback:f,result:void 0};let y,v,_=U(function(E,I){E?y(E):v(I)},"cb"),x=new h(function(E,I){v=E,y=I}).catch(E=>{throw Error.captureStackTrace(E),E});return{callback:_,result:x}}U(u,"promisify");function d(h,f){return U(function y(v){v.client=f,f.removeListener("error",y),f.on("error",()=>{h.log("additional client error after disconnection due to error",v)}),h._remove(f),h.emit("error",v,f)},"idleListener")}U(d,"makeIdleListener");var p=class extends r{constructor(f,y){super(),this.options=Object.assign({},f),f!=null&&"password"in f&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:f.password}),f!=null&&f.ssl&&f.ssl.key&&Object.defineProperty(this.options.ssl,"key",{enumerable:!1}),this.options.max=this.options.max||this.options.poolSize||10,this.options.min=this.options.min||0,this.options.maxUses=this.options.maxUses||1/0,this.options.allowExitOnIdle=this.options.allowExitOnIdle||!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,this.log=this.options.log||function(){},this.Client=this.options.Client||y||i7().Client,this.Promise=this.options.Promise||X9.Promise,typeof this.options.idleTimeoutMillis>"u"&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_isAboveMin(){return this._clients.length>this.options.min}_pulseQueue(){if(this.log("pulse queue"),this.ended){this.log("pulse queue ended");return}if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(y=>{this._remove(y.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length){this.log("no queued requests");return}if(!this._idle.length&&this._isFull())return;let f=this._pendingQueue.shift();if(this._idle.length){let y=this._idle.pop();clearTimeout(y.timeoutId);let v=y.client;v.ref&&v.ref();let _=y.idleListener;return this._acquireClient(v,f,_,!1)}if(!this._isFull())return this.newClient(f);throw new Error("unexpected condition")}_remove(f){let y=i(this._idle,v=>v.client===f);y!==void 0&&clearTimeout(y.timeoutId),this._clients=this._clients.filter(v=>v!==f),f.end(),this.emit("remove",f)}connect(f){if(this.ending){let _=new Error("Cannot use a pool after calling end on the pool");return f?f(_):this.Promise.reject(_)}let y=u(this.Promise,f),v=y.result;if(this._isFull()||this._idle.length){if(this._idle.length&&tr.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new c(y.callback)),v;let _=U((I,N,L)=>{clearTimeout(E),y.callback(I,N,L)},"queueCallback"),x=new c(_),E=setTimeout(()=>{i(this._pendingQueue,I=>I.callback===_),x.timedOut=!0,y.callback(new Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return E.unref&&E.unref(),this._pendingQueue.push(x),v}return this.newClient(new c(y.callback)),v}newClient(f){let y=new this.Client(this.options);this._clients.push(y);let v=d(this,y);this.log("checking client timeout");let _,x=!1;this.options.connectionTimeoutMillis&&(_=setTimeout(()=>{this.log("ending client due to timeout"),x=!0,y.connection?y.connection.stream.destroy():y.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),y.connect(E=>{if(_&&clearTimeout(_),y.on("error",v),E)this.log("client failed to connect",E),this._clients=this._clients.filter(I=>I!==y),x&&(E=new Error("Connection terminated due to connection timeout",{cause:E})),this._pulseQueue(),f.timedOut||f.callback(E,void 0,n);else{if(this.log("new client connected"),this.options.maxLifetimeSeconds!==0){let I=setTimeout(()=>{this.log("ending client due to expired lifetime"),this._expired.add(y),this._idle.findIndex(N=>N.client===y)!==-1&&this._acquireClient(y,new c((N,L,B)=>B()),v,!1)},this.options.maxLifetimeSeconds*1e3);I.unref(),y.once("end",()=>clearTimeout(I))}return this._acquireClient(y,f,v,!0)}})}_acquireClient(f,y,v,_){_&&this.emit("connect",f),this.emit("acquire",f),f.release=this._releaseOnce(f,v),f.removeListener("error",v),y.timedOut?_&&this.options.verify?this.options.verify(f,f.release):f.release():_&&this.options.verify?this.options.verify(f,x=>{if(x)return f.release(x),y.callback(x,void 0,n);y.callback(void 0,f,f.release)}):y.callback(void 0,f,f.release)}_releaseOnce(f,y){let v=!1;return _=>{v&&l(),v=!0,this._release(f,y,_)}}_release(f,y,v){if(f.on("error",y),f._poolUseCount=(f._poolUseCount||0)+1,this.emit("release",v,f),v||this.ending||!f._queryable||f._ending||f._poolUseCount>=this.options.maxUses){f._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(f),this._pulseQueue();return}if(this._expired.has(f)){this.log("remove expired client"),this._expired.delete(f),this._remove(f),this._pulseQueue();return}let _;this.options.idleTimeoutMillis&&this._isAboveMin()&&(_=setTimeout(()=>{this.log("remove idle client"),this._remove(f)},this.options.idleTimeoutMillis),this.options.allowExitOnIdle&&_.unref()),this.options.allowExitOnIdle&&f.unref(),this._idle.push(new s(f,y,_)),this._pulseQueue()}query(f,y,v){if(typeof f=="function"){let x=u(this.Promise,f);return $Y(function(){return x.callback(new Error("Passing a function as the first parameter to pool.query is not supported"))}),x.result}typeof y=="function"&&(v=y,y=void 0);let _=u(this.Promise,v);return v=_.callback,this.connect((x,E)=>{if(x)return v(x);let I=!1,N=U(L=>{I||(I=!0,E.release(L),v(L))},"onError");E.once("error",N),this.log("dispatching query");try{E.query(f,y,(L,B)=>{if(this.log("query dispatched"),E.removeListener("error",N),!I)return I=!0,E.release(L),L?v(L):v(void 0,B)})}catch(L){return E.release(L),v(L)}}),_.result}end(f){if(this.log("ending"),this.ending){let v=new Error("Called end on pool more than once");return f?f(v):this.Promise.reject(v)}this.ending=!0;let y=u(this.Promise,f);return this._endCallback=y.callback,this._pulseQueue(),y.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get expiredCount(){return this._clients.reduce((f,y)=>f+(this._expired.has(y)?1:0),0)}get totalCount(){return this._clients.length}};U(p,"Pool");var m=p;e.exports=m}),rIe={};Hl(rIe,{default:()=>nIe});jht=ra(()=>{"use strict";ft(),nIe={}}),qht=rr((t,e)=>{e.exports={name:"pg",version:"8.8.0",description:"PostgreSQL client - pure javascript & libpq with the same API",keywords:["database","libpq","pg","postgre","postgres","postgresql","rdbms"],homepage:"https://github.com/brianc/node-postgres",repository:{type:"git",url:"git://github.com/brianc/node-postgres.git",directory:"packages/pg"},author:"Brian Carlson <brian.m.carlson@gmail.com>",main:"./lib",dependencies:{"buffer-writer":"2.0.0","packet-reader":"1.0.0","pg-connection-string":"^2.5.0","pg-pool":"^3.5.2","pg-protocol":"^1.5.0","pg-types":"^2.1.0",pgpass:"1.x"},devDependencies:{async:"2.6.4",bluebird:"3.5.2",co:"4.6.0","pg-copy-streams":"0.3.0"},peerDependencies:{"pg-native":">=3.0.1"},peerDependenciesMeta:{"pg-native":{optional:!0}},scripts:{test:"make test-all"},files:["lib","SPONSORS.md"],license:"MIT",engines:{node:">= 8.0.0"},gitHead:"c99fb2c127ddf8d712500db2c7b9a5491a178655"}}),Hht=rr((t,e)=>{"use strict";ft();var r=E0().EventEmitter,n=(n7(),Ji(_4)),i=r7(),o=e.exports=function(a,c,l){r.call(this),a=i.normalizeQueryConfig(a,c,l),this.text=a.text,this.values=a.values,this.name=a.name,this.callback=a.callback,this.state="new",this._arrayMode=a.rowMode==="array",this._emitRowEvents=!1,this.on("newListener",function(u){u==="row"&&(this._emitRowEvents=!0)}.bind(this))};n.inherits(o,r);var s={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};o.prototype.handleError=function(a){var c=this.native.pq.resultErrorFields();if(c)for(var l in c){var u=s[l]||l;a[u]=c[l]}this.callback?this.callback(a):this.emit("error",a),this.state="error"},o.prototype.then=function(a,c){return this._getPromise().then(a,c)},o.prototype.catch=function(a){return this._getPromise().catch(a)},o.prototype._getPromise=function(){return this._promise?this._promise:(this._promise=new Promise(function(a,c){this._once("end",a),this._once("error",c)}.bind(this)),this._promise)},o.prototype.submit=function(a){this.state="running";var c=this;this.native=a.native,a.native.arrayMode=this._arrayMode;var l=U(function(p,m,h){if(a.native.arrayMode=!1,$Y(function(){c.emit("_done")}),p)return c.handleError(p);c._emitRowEvents&&(h.length>1?m.forEach((f,y)=>{f.forEach(v=>{c.emit("row",v,h[y])})}):m.forEach(function(f){c.emit("row",f,h)})),c.state="end",c.emit("end",h),c.callback&&c.callback(null,h)},"after");if(tr.domain&&(l=tr.domain.bind(l)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));var u=(this.values||[]).map(i.prepareValue);if(a.namedQueries[this.name]){if(this.text&&a.namedQueries[this.name]!==this.text){let p=new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);return l(p)}return a.native.execute(this.name,u,l)}return a.native.prepare(this.name,this.text,u.length,function(p){return p?l(p):(a.namedQueries[c.name]=c.text,c.native.execute(c.name,u,l))})}else if(this.values){if(!Array.isArray(this.values)){let p=new Error("Query values must be an array");return l(p)}var d=this.values.map(i.prepareValue);a.native.query(this.text,d,l)}else a.native.query(this.text,l)}}),Wht=rr((t,e)=>{"use strict";ft();var r=(jht(),Ji(rIe)),n=BY(),i=qht(),o=E0().EventEmitter,s=(n7(),Ji(_4)),a=jY(),c=Hht(),l=e.exports=function(u){o.call(this),u=u||{},this._Promise=u.Promise||X9.Promise,this._types=new n(u.types),this.native=new r({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;var d=this.connectionParameters=new a(u);this.user=d.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:d.password}),this.database=d.database,this.host=d.host,this.port=d.port,this.namedQueries={}};l.Query=c,s.inherits(l,o),l.prototype._errorAllQueries=function(u){let d=U(p=>{tr.nextTick(()=>{p.native=this.native,p.handleError(u)})},"enqueueError");this._hasActiveQuery()&&(d(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(d),this._queryQueue.length=0},l.prototype._connect=function(u){var d=this;if(this._connecting){tr.nextTick(()=>u(new Error("Client has already been connected. You cannot reuse a client.")));return}this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(p,m){if(p)return u(p);d.native.connect(m,function(h){if(h)return d.native.end(),u(h);d._connected=!0,d.native.on("error",function(f){d._queryable=!1,d._errorAllQueries(f),d.emit("error",f)}),d.native.on("notification",function(f){d.emit("notification",{channel:f.relname,payload:f.extra})}),d.emit("connect"),d._pulseQueryQueue(!0),u()})})},l.prototype.connect=function(u){if(u){this._connect(u);return}return new this._Promise((d,p)=>{this._connect(m=>{m?p(m):d()})})},l.prototype.query=function(u,d,p){var m,h,f,y,v;if(u==null)throw new TypeError("Client was passed a null or undefined query");if(typeof u.submit=="function")f=u.query_timeout||this.connectionParameters.query_timeout,h=m=u,typeof d=="function"&&(u.callback=d);else if(f=this.connectionParameters.query_timeout,m=new c(u,d,p),!m.callback){let _,x;h=new this._Promise((E,I)=>{_=E,x=I}),m.callback=(E,I)=>E?x(E):_(I)}return f&&(v=m.callback,y=setTimeout(()=>{var _=new Error("Query read timeout");tr.nextTick(()=>{m.handleError(_,this.connection)}),v(_),m.callback=()=>{};var x=this._queryQueue.indexOf(m);x>-1&&this._queryQueue.splice(x,1),this._pulseQueryQueue()},f),m.callback=(_,x)=>{clearTimeout(y),v(_,x)}),this._queryable?this._ending?(m.native=this.native,tr.nextTick(()=>{m.handleError(new Error("Client was closed and is not queryable"))}),h):(this._queryQueue.push(m),this._pulseQueryQueue(),h):(m.native=this.native,tr.nextTick(()=>{m.handleError(new Error("Client has encountered a connection error and is not queryable"))}),h)},l.prototype.end=function(u){var d=this;this._ending=!0,this._connected||this.once("connect",this.end.bind(this,u));var p;return u||(p=new this._Promise(function(m,h){u=U(f=>f?h(f):m(),"cb")})),this.native.end(function(){d._errorAllQueries(new Error("Connection terminated")),tr.nextTick(()=>{d.emit("end"),u&&u()})}),p},l.prototype._hasActiveQuery=function(){return this._activeQuery&&this._activeQuery.state!=="error"&&this._activeQuery.state!=="end"},l.prototype._pulseQueryQueue=function(u){if(this._connected&&!this._hasActiveQuery()){var d=this._queryQueue.shift();if(!d){u||this.emit("drain");return}this._activeQuery=d,d.submit(this);var p=this;d.once("_done",function(){p._pulseQueryQueue()})}},l.prototype.cancel=function(u){this._activeQuery===u?this.native.cancel(function(){}):this._queryQueue.indexOf(u)!==-1&&this._queryQueue.splice(this._queryQueue.indexOf(u),1)},l.prototype.ref=function(){},l.prototype.unref=function(){},l.prototype.setTypeParser=function(u,d,p){return this._types.setTypeParser(u,d,p)},l.prototype.getTypeParser=function(u,d){return this._types.getTypeParser(u,d)}}),xTe=rr((t,e)=>{"use strict";ft(),e.exports=Wht()}),i7=rr((t,e)=>{"use strict";ft();var r=zht(),n=t7(),i=tIe(),o=Vht(),{DatabaseError:s}=ZTe(),a=U(l=>{var u;return u=class extends o{constructor(d){super(d,l)}},U(u,"BoundPool"),u},"poolFactory"),c=U(function(l){this.defaults=n,this.Client=l,this.Query=this.Client.Query,this.Pool=a(this.Client),this._pools=[],this.Connection=i,this.types=e7(),this.DatabaseError=s},"PG");typeof tr.env.NODE_PG_FORCE_NATIVE<"u"?e.exports=new c(xTe()):(e.exports=new c(r),Object.defineProperty(e.exports,"native",{configurable:!0,enumerable:!1,get(){var l=null;try{l=new c(xTe())}catch(u){if(u.code!=="MODULE_NOT_FOUND")throw u}return Object.defineProperty(e.exports,"native",{value:l}),l}}))});ft();ft();v4();PTe();ft();Ght=Object.defineProperty,Kht=Object.defineProperties,Yht=Object.getOwnPropertyDescriptors,ATe=Object.getOwnPropertySymbols,Jht=Object.prototype.hasOwnProperty,Qht=Object.prototype.propertyIsEnumerable,ETe=U((t,e,r)=>e in t?Ght(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,"__defNormalProp"),Zht=U((t,e)=>{for(var r in e||(e={}))Jht.call(e,r)&&ETe(t,r,e[r]);if(ATe)for(var r of ATe(e))Qht.call(e,r)&&ETe(t,r,e[r]);return t},"__spreadValues"),Xht=U((t,e)=>Kht(t,Yht(e)),"__spreadProps"),egt=1008e3,RTe=new Uint8Array(new Uint16Array([258]).buffer)[0]===2,tgt=new TextDecoder,qY=new TextEncoder,J9=qY.encode("0123456789abcdef"),Q9=qY.encode("0123456789ABCDEF"),rgt=qY.encode("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),iIe=rgt.slice();iIe[62]=45;iIe[63]=95;U(oIe,"_toHex");U(sIe,"_toHexChunked");U(aIe,"toHex");ft();cIe=class lIe{constructor(e,r){this.strings=e,this.values=r}toParameterizedQuery(e={query:"",params:[]}){let{strings:r,values:n}=this;for(let i=0,o=r.length;i<o;i++)if(e.query+=r[i],i<n.length){let s=n[i];if(s instanceof WY)e.query+=s.sql;else if(s instanceof b4)if(s.queryData instanceof lIe)s.queryData.toParameterizedQuery(e);else{if(s.queryData.params?.length)throw new Error("This query is not composable");e.query+=s.queryData.query}else{let{params:a}=e;a.push(s),e.query+="$"+a.length,(s instanceof kt||ArrayBuffer.isView(s))&&(e.query+="::bytea")}}return e}};U(cIe,"SqlTemplate");HY=cIe,uIe=class{constructor(e){this.sql=e}};U(uIe,"UnsafeRawSql");WY=uIe;ft();U(o7,"warnIfBrowser");v4();ngt=A0(BY()),igt=A0(r7()),dIe=class pIe extends Error{constructor(e){super(e),Mt(this,"name","NeonDbError"),Mt(this,"severity"),Mt(this,"code"),Mt(this,"detail"),Mt(this,"hint"),Mt(this,"position"),Mt(this,"internalPosition"),Mt(this,"internalQuery"),Mt(this,"where"),Mt(this,"schema"),Mt(this,"table"),Mt(this,"column"),Mt(this,"dataType"),Mt(this,"constraint"),Mt(this,"file"),Mt(this,"line"),Mt(this,"routine"),Mt(this,"sourceError"),"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,pIe)}};U(dIe,"NeonDbError");x0=dIe,TTe="transaction() expects an array of queries, or a function returning an array of queries",ogt=["severity","code","detail","hint","position","internalPosition","internalQuery","where","schema","table","column","dataType","constraint","file","line","routine"];U(mIe,"encodeBuffersAsBytea");U(DY,"prepareQuery");U(R0,"neon");fIe=class{constructor(e,r,n){this.execute=e,this.queryData=r,this.opts=n}then(e,r){return this.execute(this.queryData,this.opts).then(e,r)}catch(e){return this.execute(this.queryData,this.opts).catch(e)}finally(e){return this.execute(this.queryData,this.opts).finally(e)}};U(fIe,"NeonQueryPromise");b4=fIe;U(MY,"processQueryResult");U(hIe,"getAuthToken");ft();sgt=A0(i7());ft();agt=A0(i7()),gIe=class extends agt.Client{constructor(e){super(e),this.config=e}get neonConfig(){return this.connection.stream}connect(e){let{neonConfig:r}=this;r.forceDisablePgSSL&&(this.ssl=this.connection.ssl=!1),this.ssl&&r.useSecureWebSocket&&console.warn("SSL is enabled for both Postgres (e.g. ?sslmode=require in the connection string + forceDisablePgSSL = false) and the WebSocket tunnel (useSecureWebSocket = true). Double encryption will increase latency and CPU usage. It may be appropriate to disable SSL in the Postgres connection parameters or set forceDisablePgSSL = true.");let n=typeof this.config!="string"&&this.config?.host!==void 0||typeof this.config!="string"&&this.config?.connectionString!==void 0||tr.env.PGHOST!==void 0,i=tr.env.USER??tr.env.USERNAME;if(!n&&this.host==="localhost"&&this.user===i&&this.database===i&&this.password===null)throw new Error(`No database host or connection string was set, and key parameters have default values (host: localhost, user: ${i}, db: ${i}, password: null). Is an environment variable missing? Alternatively, if you intended to connect with these parameters, please set the host to 'localhost' explicitly.`);let o=super.connect(e),s=r.pipelineTLS&&this.ssl,a=r.pipelineConnect==="password";if(!s&&!r.pipelineConnect)return o;let c=this.connection;if(s&&c.on("connect",()=>c.stream.emit("data","S")),a){c.removeAllListeners("authenticationCleartextPassword"),c.removeAllListeners("readyForQuery"),c.once("readyForQuery",()=>c.on("readyForQuery",this._handleReadyForQuery.bind(this)));let l=this.ssl?"sslconnect":"connect";c.on(l,()=>{this.neonConfig.disableWarningInBrowsers||o7(),this._handleAuthCleartextPassword(),this._handleReadyForQuery()})}return o}async _handleAuthSASLContinue(e){if(typeof crypto>"u"||crypto.subtle===void 0||crypto.subtle.importKey===void 0)throw new Error("Cannot use SASL auth when `crypto.subtle` is not defined");let r=crypto.subtle,n=this.saslSession,i=this.password,o=e.data;if(n.message!=="SASLInitialResponse"||typeof i!="string"||typeof o!="string")throw new Error("SASL: protocol error");let s=Object.fromEntries(o.split(",").map(F=>{if(!/^.=/.test(F))throw new Error("SASL: Invalid attribute pair entry");let q=F[0],K=F.substring(2);return[q,K]})),a=s.r,c=s.s,l=s.i;if(!a||!/^[!-+--~]+$/.test(a))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing/unprintable");if(!c||!/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(c))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing/not base64");if(!l||!/^[1-9][0-9]*$/.test(l))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: missing/invalid iteration count");if(!a.startsWith(n.clientNonce))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");if(a.length===n.clientNonce.length)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short");let u=parseInt(l,10),d=kt.from(c,"base64"),p=new TextEncoder,m=p.encode(i),h=await r.importKey("raw",m,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),f=new Uint8Array(await r.sign("HMAC",h,kt.concat([d,kt.from([0,0,0,1])]))),y=f;for(var v=0;v<u-1;v++)f=new Uint8Array(await r.sign("HMAC",h,f)),y=kt.from(y.map((F,q)=>y[q]^f[q]));let _=y,x=await r.importKey("raw",_,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),E=new Uint8Array(await r.sign("HMAC",x,p.encode("Client Key"))),I=await r.digest("SHA-256",E),N="n=*,r="+n.clientNonce,L="r="+a+",s="+c+",i="+u,B="c=biws,r="+a,P=N+","+L+","+B,V=await r.importKey("raw",I,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var j=new Uint8Array(await r.sign("HMAC",V,p.encode(P))),ee=kt.from(E.map((F,q)=>E[q]^j[q])),O=ee.toString("base64");let b=await r.importKey("raw",_,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),S=await r.sign("HMAC",b,p.encode("Server Key")),R=await r.importKey("raw",S,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var k=kt.from(await r.sign("HMAC",R,p.encode(P)));n.message="SASLResponse",n.serverSignature=k.toString("base64"),n.response=B+",p="+O,this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}};U(gIe,"NeonClient");yIe=gIe;v4();cgt=A0(jY());U(bIe,"promisify");vIe=class extends sgt.Pool{constructor(){super(...arguments),Mt(this,"Client",yIe),Mt(this,"hasFetchUnsupportedListeners",!1),Mt(this,"addListener",this.on)}on(e,r){return e!=="error"&&(this.hasFetchUnsupportedListeners=!0),super.on(e,r)}query(e,r,n){if(!Lv.poolQueryViaFetch||this.hasFetchUnsupportedListeners||typeof e=="function")return super.query(e,r,n);typeof r=="function"&&(n=r,r=void 0);let i=bIe(this.Promise,n);n=i.callback;try{let o=new cgt.default(this.options),s=encodeURIComponent,a=encodeURI,c=`postgresql://${s(o.user)}:${s(o.password)}@${s(o.host)}/${a(o.database)}`,l=typeof e=="string"?e:e.text,u=r??e.values??[];R0(c,{fullResults:!0,arrayMode:e.rowMode==="array"}).query(l,u,{types:e.types??this.options?.types}).then(d=>n(void 0,d)).catch(d=>n(d))}catch(o){n(o)}return i.result}};U(vIe,"NeonPool");lgt=vIe;v4();S4=A0(i7()),ugt="mjs",dgt=S4.DatabaseError,pgt=S4.defaults,mgt=S4.escapeIdentifier,fgt=S4.escapeLiteral,gs=S4.types;});var KY=g(()=>{"use strict";IY()});var s7,YY,a7,w4,JY,QY=g(()=>{"use strict";KY();Ve();f4();$i();Y9();Yn();$r();s7={arrayMode:!1,fullResults:!0},YY={arrayMode:!0,fullResults:!0},a7=class extends Pv{constructor(e,r,n,i,o,s,a,c,l){super(r,i,o,s),this.client=e,this.logger=n,this.fields=a,this._isResponseInArrayMode=c,this.customResultMapper=l,this.clientQuery=e.query??e}static[J]="NeonHttpPreparedQuery";clientQuery;async execute(e={},r=this.authToken){let n=v0(this.query.params,e);this.logger.logQuery(this.query.sql,n);let{fields:i,clientQuery:o,query:s,customResultMapper:a}=this;if(!i&&!a)return this.queryWithCache(s.sql,n,async()=>o(s.sql,n,r===void 0?s7:{...s7,authToken:r}));let c=await this.queryWithCache(s.sql,n,async()=>await o(s.sql,n,r===void 0?YY:{...YY,authToken:r}));return this.mapResult(c)}mapResult(e){if(!this.fields&&!this.customResultMapper)return e;let r=e.rows;return this.customResultMapper?this.customResultMapper(r):r.map(n=>x9(this.fields,n,this.joinsNotNullableMap))}all(e={}){let r=v0(this.query.params,e);return this.logger.logQuery(this.query.sql,r),this.clientQuery(this.query.sql,r,this.authToken===void 0?s7:{...s7,authToken:this.authToken}).then(n=>n.rows)}values(e={},r){let n=v0(this.query.params,e);return this.logger.logQuery(this.query.sql,n),this.clientQuery(this.query.sql,n,{arrayMode:!0,fullResults:!0,authToken:r}).then(i=>i.rows)}isResponseInArrayMode(){return this._isResponseInArrayMode}},w4=class extends kv{constructor(e,r,n,i={}){super(r),this.client=e,this.schema=n,this.options=i,this.clientQuery=e.query??e,this.logger=i.logger??new $v,this.cache=i.cache??new kf}static[J]="NeonHttpSession";clientQuery;logger;cache;prepareQuery(e,r,n,i,o,s,a){return new a7(this.client,e,this.logger,this.cache,s,a,r,i,o)}async batch(e){let r=[],n=[];for(let o of e){let s=o._prepare(),a=s.getQuery();r.push(s),n.push(this.clientQuery(a.sql,a.params,{fullResults:!0,arrayMode:s.isResponseInArrayMode()}))}return(await this.client.transaction(n,YY)).map((o,s)=>r[s].mapResult(o,!0))}async query(e,r){return this.logger.logQuery(e,r),await this.clientQuery(e,r,{arrayMode:!0,fullResults:!0})}async queryObjects(e,r){return this.clientQuery(e,r,{arrayMode:!1,fullResults:!0})}async count(e,r){let n=await this.execute(e,r);return Number(n.rows[0].count)}async transaction(e,r={}){throw new Error("No transactions support in neon-http driver")}},JY=class extends Dv{static[J]="NeonHttpTransaction";async transaction(e){throw new Error("No transactions support in neon-http driver")}}});function l7(t,e,r,n){return new Proxy(t,{get(i,o){let s=i[o];return typeof s!="function"&&(typeof s!="object"||s===null)?s:n?l7(s,e,r):o==="query"?l7(s,e,r,!0):new Proxy(s,{apply(a,c,l){let u=a.call(c,...l);return typeof u=="object"&&u!==null&&"setToken"in u&&typeof u.setToken=="function"&&u.setToken(e),r(a,o,u)}})}})}function Uv(t,e={}){let r=new Fu({casing:e.casing}),n;e.logger===!0?n=new Mv:e.logger!==!1&&(n=e.logger);let i;if(e.schema){let c=M9(e.schema,$9);i={fullSchema:e.schema,schema:c.tables,tableNamesMap:c.tableNamesMap}}let s=new c7(t,r,{logger:n,cache:e.cache}).createSession(i),a=new u7(r,s,i);return a.$client=t,a.$cache=e.cache,a.$cache&&(a.$cache.invalidate=e.cache?.onMutate),a}function ZY(...t){if(typeof t[0]=="string"){let e=R0(t[0]);return Uv(e,t[1])}if(E9(t[0])){let{connection:e,client:r,...n}=t[0];if(r)return Uv(r,n);if(typeof e=="object"){let{connectionString:o,...s}=e,a=R0(o,s);return Uv(a,n)}let i=R0(e);return Uv(i,n)}return Uv(t[0],t[1])}var c7,u7,SIe=g(()=>{"use strict";GY();Ve();f4();m4();a4();s4();$r();QY();c7=class{constructor(e,r,n={}){this.client=e,this.dialect=r,this.options=n,this.initMappers()}static[J]="NeonHttpDriver";createSession(e){return new w4(this.client,this.dialect,e,{logger:this.options.logger,cache:this.options.cache})}initMappers(){gs.setTypeParser(gs.builtins.TIMESTAMPTZ,e=>e),gs.setTypeParser(gs.builtins.TIMESTAMP,e=>e),gs.setTypeParser(gs.builtins.DATE,e=>e),gs.setTypeParser(gs.builtins.INTERVAL,e=>e),gs.setTypeParser(1231,e=>e),gs.setTypeParser(1115,e=>e),gs.setTypeParser(1185,e=>e),gs.setTypeParser(1187,e=>e),gs.setTypeParser(1182,e=>e)}};u7=class extends Pf{static[J]="NeonHttpDatabase";$withAuth(e){return this.authToken=e,l7(this,e,(r,n,i)=>n==="with"?l7(i,e,(o,s,a)=>a):i)}async batch(e){return this.session.batch(e)}};(t=>{function e(r){return Uv({},r)}t.mock=e})(ZY||(ZY={}))});var wIe={};lr(wIe,{NeonHttpDatabase:()=>u7,NeonHttpDriver:()=>c7,NeonHttpPreparedQuery:()=>a7,NeonHttpSession:()=>w4,NeonTransaction:()=>JY,drizzle:()=>ZY});var xIe=g(()=>{"use strict";SIe();QY()});var eJ=Le(AIe=>{"use strict";AIe.parse=function(t,e){return new XY(t,e).parse()};var XY=class t{constructor(e,r){this.source=e,this.transform=r||hgt,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var e=this.source[this.position++];return e==="\\"?{value:this.source[this.position++],escaped:!0}:{value:e,escaped:!1}}record(e){this.recorded.push(e)}newEntry(e){var r;(this.recorded.length>0||e)&&(r=this.recorded.join(""),r==="NULL"&&!e&&(r=null),r!==null&&(r=this.transform(r)),this.entries.push(r),this.recorded=[])}consumeDimensions(){if(this.source[0]==="[")for(;!this.isEof();){var e=this.nextCharacter();if(e.value==="=")break}}parse(e){var r,n,i;for(this.consumeDimensions();!this.isEof();)if(r=this.nextCharacter(),r.value==="{"&&!i)this.dimension++,this.dimension>1&&(n=new t(this.source.substr(this.position-1),this.transform),this.entries.push(n.parse(!0)),this.position+=n.position-2);else if(r.value==="}"&&!i){if(this.dimension--,!this.dimension&&(this.newEntry(),e))return this.entries}else r.value==='"'&&!r.escaped?(i&&this.newEntry(!0),i=!i):r.value===","&&!i?this.newEntry():this.record(r.value);if(this.dimension!==0)throw new Error("array dimension not balanced");return this.entries}};function hgt(t){return t}});var tJ=Le((DDr,EIe)=>{"use strict";var ggt=eJ();EIe.exports={create:function(t,e){return{parse:function(){return ggt.parse(t,e)}}}}});var IIe=Le((MDr,TIe)=>{"use strict";var ygt=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,bgt=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,vgt=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,_gt=/^-?infinity$/;TIe.exports=function(e){if(_gt.test(e))return Number(e.replace("i","I"));var r=ygt.exec(e);if(!r)return Sgt(e)||null;var n=!!r[8],i=parseInt(r[1],10);n&&(i=RIe(i));var o=parseInt(r[2],10)-1,s=r[3],a=parseInt(r[4],10),c=parseInt(r[5],10),l=parseInt(r[6],10),u=r[7];u=u?1e3*parseFloat(u):0;var d,p=wgt(e);return p!=null?(d=new Date(Date.UTC(i,o,s,a,c,l,u)),rJ(i)&&d.setUTCFullYear(i),p!==0&&d.setTime(d.getTime()-p)):(d=new Date(i,o,s,a,c,l,u),rJ(i)&&d.setFullYear(i)),d};function Sgt(t){var e=bgt.exec(t);if(e){var r=parseInt(e[1],10),n=!!e[4];n&&(r=RIe(r));var i=parseInt(e[2],10)-1,o=e[3],s=new Date(r,i,o);return rJ(r)&&s.setFullYear(r),s}}function wgt(t){if(t.endsWith("+00"))return 0;var e=vgt.exec(t.split(" ")[1]);if(e){var r=e[1];if(r==="Z")return 0;var n=r==="-"?-1:1,i=parseInt(e[2],10)*3600+parseInt(e[3]||0,10)*60+parseInt(e[4]||0,10);return i*n*1e3}}function RIe(t){return-(t-1)}function rJ(t){return t>=0&&t<100}});var OIe=Le(($Dr,CIe)=>{"use strict";CIe.exports=Agt;var xgt=Object.prototype.hasOwnProperty;function Agt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)xgt.call(r,n)&&(t[n]=r[n])}return t}});var kIe=Le((LDr,PIe)=>{"use strict";var Egt=OIe();PIe.exports=Fv;function Fv(t){if(!(this instanceof Fv))return new Fv(t);Egt(this,Lgt(t))}var Rgt=["seconds","minutes","hours","days","months","years"];Fv.prototype.toPostgres=function(){var t=Rgt.filter(this.hasOwnProperty,this);return this.milliseconds&&t.indexOf("seconds")<0&&t.push("seconds"),t.length===0?"0":t.map(function(e){var r=this[e]||0;return e==="seconds"&&this.milliseconds&&(r=(r+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),r+" "+e},this).join(" ")};var Tgt={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},Igt=["years","months","days"],Cgt=["hours","minutes","seconds"];Fv.prototype.toISOString=Fv.prototype.toISO=function(){var t=Igt.map(r,this).join(""),e=Cgt.map(r,this).join("");return"P"+t+"T"+e;function r(n){var i=this[n]||0;return n==="seconds"&&this.milliseconds&&(i=(i+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),i+Tgt[n]}};var nJ="([+-]?\\d+)",Ogt=nJ+"\\s+years?",Ngt=nJ+"\\s+mons?",Pgt=nJ+"\\s+days?",kgt="([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?",Dgt=new RegExp([Ogt,Ngt,Pgt,kgt].map(function(t){return"("+t+")?"}).join("\\s*")),NIe={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},Mgt=["hours","minutes","seconds","milliseconds"];function $gt(t){var e=t+"000000".slice(t.length);return parseInt(e,10)/1e3}function Lgt(t){if(!t)return{};var e=Dgt.exec(t),r=e[8]==="-";return Object.keys(NIe).reduce(function(n,i){var o=NIe[i],s=e[o];return!s||(s=i==="milliseconds"?$gt(s):parseInt(s,10),!s)||(r&&~Mgt.indexOf(i)&&(s*=-1),n[i]=s),n},{})}});var $Ie=Le((BDr,MIe)=>{"use strict";var DIe=Buffer.from||Buffer;MIe.exports=function(e){if(/^\\x/.test(e))return DIe(e.substr(2),"hex");for(var r="",n=0;n<e.length;)if(e[n]!=="\\")r+=e[n],++n;else if(/[0-7]{3}/.test(e.substr(n+1,3)))r+=String.fromCharCode(parseInt(e.substr(n+1,3),8)),n+=4;else{for(var i=1;n+i<e.length&&e[n+i]==="\\";)i++;for(var o=0;o<Math.floor(i/2);++o)r+="\\";n+=Math.floor(i/2)*2}return DIe(r,"binary")}});var jIe=Le((UDr,VIe)=>{"use strict";var x4=eJ(),A4=tJ(),d7=IIe(),BIe=kIe(),UIe=$Ie();function p7(t){return function(r){return r===null?r:t(r)}}function FIe(t){return t===null?t:t==="TRUE"||t==="t"||t==="true"||t==="y"||t==="yes"||t==="on"||t==="1"}function Bgt(t){return t?x4.parse(t,FIe):null}function Ugt(t){return parseInt(t,10)}function iJ(t){return t?x4.parse(t,p7(Ugt)):null}function Fgt(t){return t?x4.parse(t,p7(function(e){return zIe(e).trim()})):null}var zgt=function(t){if(!t)return null;var e=A4.create(t,function(r){return r!==null&&(r=cJ(r)),r});return e.parse()},oJ=function(t){if(!t)return null;var e=A4.create(t,function(r){return r!==null&&(r=parseFloat(r)),r});return e.parse()},el=function(t){if(!t)return null;var e=A4.create(t);return e.parse()},sJ=function(t){if(!t)return null;var e=A4.create(t,function(r){return r!==null&&(r=d7(r)),r});return e.parse()},Vgt=function(t){if(!t)return null;var e=A4.create(t,function(r){return r!==null&&(r=BIe(r)),r});return e.parse()},jgt=function(t){return t?x4.parse(t,p7(UIe)):null},aJ=function(t){return parseInt(t,10)},zIe=function(t){var e=String(t);return/^\d+$/.test(e)?e:t},LIe=function(t){return t?x4.parse(t,p7(JSON.parse)):null},cJ=function(t){return t[0]!=="("?null:(t=t.substring(1,t.length-1).split(","),{x:parseFloat(t[0]),y:parseFloat(t[1])})},qgt=function(t){if(t[0]!=="<"&&t[1]!=="(")return null;for(var e="(",r="",n=!1,i=2;i<t.length-1;i++){if(n||(e+=t[i]),t[i]===")"){n=!0;continue}else if(!n)continue;t[i]!==","&&(r+=t[i])}var o=cJ(e);return o.radius=parseFloat(r),o},Hgt=function(t){t(20,zIe),t(21,aJ),t(23,aJ),t(26,aJ),t(700,parseFloat),t(701,parseFloat),t(16,FIe),t(1082,d7),t(1114,d7),t(1184,d7),t(600,cJ),t(651,el),t(718,qgt),t(1e3,Bgt),t(1001,jgt),t(1005,iJ),t(1007,iJ),t(1028,iJ),t(1016,Fgt),t(1017,zgt),t(1021,oJ),t(1022,oJ),t(1231,oJ),t(1014,el),t(1015,el),t(1008,el),t(1009,el),t(1040,el),t(1041,el),t(1115,sJ),t(1182,sJ),t(1185,sJ),t(1186,BIe),t(1187,Vgt),t(17,UIe),t(114,JSON.parse.bind(JSON)),t(3802,JSON.parse.bind(JSON)),t(199,LIe),t(3807,LIe),t(3907,el),t(2951,el),t(791,el),t(1183,el),t(1270,el)};VIe.exports={init:Hgt}});var HIe=Le((FDr,qIe)=>{"use strict";var na=1e6;function Wgt(t){var e=t.readInt32BE(0),r=t.readUInt32BE(4),n="";e<0&&(e=~e+(r===0),r=~r+1>>>0,n="-");var i="",o,s,a,c,l,u;{if(o=e%na,e=e/na>>>0,s=4294967296*o+r,r=s/na>>>0,a=""+(s-na*r),r===0&&e===0)return n+a+i;for(c="",l=6-a.length,u=0;u<l;u++)c+="0";i=c+a+i}{if(o=e%na,e=e/na>>>0,s=4294967296*o+r,r=s/na>>>0,a=""+(s-na*r),r===0&&e===0)return n+a+i;for(c="",l=6-a.length,u=0;u<l;u++)c+="0";i=c+a+i}{if(o=e%na,e=e/na>>>0,s=4294967296*o+r,r=s/na>>>0,a=""+(s-na*r),r===0&&e===0)return n+a+i;for(c="",l=6-a.length,u=0;u<l;u++)c+="0";i=c+a+i}return o=e%na,s=4294967296*o+r,a=""+s%na,n+a+i}qIe.exports=Wgt});var JIe=Le((zDr,YIe)=>{"use strict";var Ggt=HIe(),Fn=function(t,e,r,n,i){r=r||0,n=n||!1,i=i||function(m,h,f){return m*Math.pow(2,f)+h};var o=r>>3,s=function(m){return n?~m&255:m},a=255,c=8-r%8;e<c&&(a=255<<8-e&255,c=e),r&&(a=a>>r%8);var l=0;r%8+e>=8&&(l=i(0,s(t[o])&a,c));for(var u=e+r>>3,d=o+1;d<u;d++)l=i(l,s(t[d]),8);var p=(e+r)%8;return p>0&&(l=i(l,s(t[u])>>8-p,p)),l},KIe=function(t,e,r){var n=Math.pow(2,r-1)-1,i=Fn(t,1),o=Fn(t,r,1);if(o===0)return 0;var s=1,a=function(l,u,d){l===0&&(l=1);for(var p=1;p<=d;p++)s/=2,(u&1<<d-p)>0&&(l+=s);return l},c=Fn(t,e,r+1,!1,a);return o==Math.pow(2,r+1)-1?c===0?i===0?1/0:-1/0:NaN:(i===0?1:-1)*Math.pow(2,o-n)*c},Kgt=function(t){return Fn(t,1)==1?-1*(Fn(t,15,1,!0)+1):Fn(t,15,1)},WIe=function(t){return Fn(t,1)==1?-1*(Fn(t,31,1,!0)+1):Fn(t,31,1)},Ygt=function(t){return KIe(t,23,8)},Jgt=function(t){return KIe(t,52,11)},Qgt=function(t){var e=Fn(t,16,32);if(e==49152)return NaN;for(var r=Math.pow(1e4,Fn(t,16,16)),n=0,i=[],o=Fn(t,16),s=0;s<o;s++)n+=Fn(t,16,64+16*s)*r,r/=1e4;var a=Math.pow(10,Fn(t,16,48));return(e===0?1:-1)*Math.round(n*a)/a},GIe=function(t,e){var r=Fn(e,1),n=Fn(e,63,1),i=new Date((r===0?1:-1)*n/1e3+9466848e5);return t||i.setTime(i.getTime()+i.getTimezoneOffset()*6e4),i.usec=n%1e3,i.getMicroSeconds=function(){return this.usec},i.setMicroSeconds=function(o){this.usec=o},i.getUTCMicroSeconds=function(){return this.usec},i},E4=function(t){for(var e=Fn(t,32),r=Fn(t,32,32),n=Fn(t,32,64),i=96,o=[],s=0;s<e;s++)o[s]=Fn(t,32,i),i+=32,i+=32;var a=function(l){var u=Fn(t,32,i);if(i+=32,u==4294967295)return null;var d;if(l==23||l==20)return d=Fn(t,u*8,i),i+=u*8,d;if(l==25)return d=t.toString(this.encoding,i>>3,(i+=u<<3)>>3),d;console.log("ERROR: ElementType not implemented: "+l)},c=function(l,u){var d=[],p;if(l.length>1){var m=l.shift();for(p=0;p<m;p++)d[p]=c(l,u);l.unshift(m)}else for(p=0;p<l[0];p++)d[p]=a(u);return d};return c(o,n)},Zgt=function(t){return t.toString("utf8")},Xgt=function(t){return t===null?null:Fn(t,8)>0},e0t=function(t){t(20,Ggt),t(21,Kgt),t(23,WIe),t(26,WIe),t(1700,Qgt),t(700,Ygt),t(701,Jgt),t(16,Xgt),t(1114,GIe.bind(null,!1)),t(1184,GIe.bind(null,!0)),t(1e3,E4),t(1007,E4),t(1016,E4),t(1008,E4),t(1009,E4),t(25,Zgt)};YIe.exports={init:e0t}});var ZIe=Le((VDr,QIe)=>{"use strict";QIe.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096}});var I4=Le(T4=>{"use strict";var t0t=jIe(),r0t=JIe(),n0t=tJ(),i0t=ZIe();T4.getTypeParser=o0t;T4.setTypeParser=s0t;T4.arrayParser=n0t;T4.builtins=i0t;var R4={text:{},binary:{}};function XIe(t){return String(t)}function o0t(t,e){return e=e||"text",R4[e]&&R4[e][t]||XIe}function s0t(t,e,r){typeof e=="function"&&(r=e,e="text"),R4[e][t]=r}t0t.init(function(t,e){R4.text[t]=e});r0t.init(function(t,e){R4.binary[t]=e})});var C4=Le((qDr,lJ)=>{"use strict";var e8e;try{e8e=process.platform==="win32"?process.env.USERNAME:process.env.USER}catch{}lJ.exports={host:"localhost",user:e8e,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,lock_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};var zv=I4(),a0t=zv.getTypeParser(20,"text"),c0t=zv.getTypeParser(1016,"text");lJ.exports.__defineSetter__("parseInt8",function(t){zv.setTypeParser(20,"text",t?zv.getTypeParser(23,"text"):a0t),zv.setTypeParser(1016,"text",t?zv.getTypeParser(1007,"text"):c0t)})});var Vv=Le((HDr,n8e)=>{"use strict";var l0t=C4(),t8e=St("util"),{isDate:u0t}=t8e.types||t8e;function d0t(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'}function r8e(t){let e="{";for(let r=0;r<t.length;r++)if(r>0&&(e=e+","),t[r]===null||typeof t[r]>"u")e=e+"NULL";else if(Array.isArray(t[r]))e=e+r8e(t[r]);else if(ArrayBuffer.isView(t[r])){let n=t[r];if(!(n instanceof Buffer)){let i=Buffer.from(n.buffer,n.byteOffset,n.byteLength);i.length===n.byteLength?n=i:n=i.slice(n.byteOffset,n.byteOffset+n.byteLength)}e+="\\\\x"+n.toString("hex")}else e+=d0t(m7(t[r]));return e=e+"}",e}var m7=function(t,e){if(t==null)return null;if(typeof t=="object"){if(t instanceof Buffer)return t;if(ArrayBuffer.isView(t)){let r=Buffer.from(t.buffer,t.byteOffset,t.byteLength);return r.length===t.byteLength?r:r.slice(t.byteOffset,t.byteOffset+t.byteLength)}return u0t(t)?l0t.parseInputDatesAsUTC?f0t(t):m0t(t):Array.isArray(t)?r8e(t):p0t(t,e)}return t.toString()};function p0t(t,e){if(t&&typeof t.toPostgres=="function"){if(e=e||[],e.indexOf(t)!==-1)throw new Error('circular reference detected while preparing "'+t+'" for query');return e.push(t),m7(t.toPostgres(m7),e)}return JSON.stringify(t)}function m0t(t){let e=-t.getTimezoneOffset(),r=t.getFullYear(),n=r<1;n&&(r=Math.abs(r)+1);let i=String(r).padStart(4,"0")+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")+"T"+String(t.getHours()).padStart(2,"0")+":"+String(t.getMinutes()).padStart(2,"0")+":"+String(t.getSeconds()).padStart(2,"0")+"."+String(t.getMilliseconds()).padStart(3,"0");return e<0?(i+="-",e*=-1):i+="+",i+=String(Math.floor(e/60)).padStart(2,"0")+":"+String(e%60).padStart(2,"0"),n&&(i+=" BC"),i}function f0t(t){let e=t.getUTCFullYear(),r=e<1;r&&(e=Math.abs(e)+1);let n=String(e).padStart(4,"0")+"-"+String(t.getUTCMonth()+1).padStart(2,"0")+"-"+String(t.getUTCDate()).padStart(2,"0")+"T"+String(t.getUTCHours()).padStart(2,"0")+":"+String(t.getUTCMinutes()).padStart(2,"0")+":"+String(t.getUTCSeconds()).padStart(2,"0")+"."+String(t.getUTCMilliseconds()).padStart(3,"0");return n+="+00:00",r&&(n+=" BC"),n}function h0t(t,e,r){return t=typeof t=="string"?{text:t}:t,e&&(typeof e=="function"?t.callback=e:t.values=e),r&&(t.callback=r),t}var g0t=function(t){return'"'+t.replace(/"/g,'""')+'"'},y0t=function(t){let e=!1,r="'";if(t==null||typeof t!="string")return"''";for(let n=0;n<t.length;n++){let i=t[n];i==="'"?r+=i+i:i==="\\"?(r+=i+i,e=!0):r+=i}return r+="'",e===!0&&(r=" E"+r),r};n8e.exports={prepareValue:function(e){return m7(e)},normalizeQueryConfig:h0t,escapeIdentifier:g0t,escapeLiteral:y0t}});var o8e=Le((WDr,i8e)=>{"use strict";var jv=St("crypto");function uJ(t){return jv.createHash("md5").update(t,"utf-8").digest("hex")}function b0t(t,e,r){let n=uJ(e+t);return"md5"+uJ(Buffer.concat([Buffer.from(n),r]))}function v0t(t){return jv.createHash("sha256").update(t).digest()}function _0t(t,e){return t=t.replace(/(\D)-/,"$1"),jv.createHash(t).update(e).digest()}function S0t(t,e){return jv.createHmac("sha256",t).update(e).digest()}async function w0t(t,e,r){return jv.pbkdf2Sync(t,e,r,32,"sha256")}i8e.exports={postgresMd5PasswordHash:b0t,randomBytes:jv.randomBytes,deriveKey:w0t,sha256:v0t,hashByName:_0t,hmacSha256:S0t,md5:uJ}});var l8e=Le((GDr,c8e)=>{"use strict";var s8e=St("crypto");c8e.exports={postgresMd5PasswordHash:A0t,randomBytes:x0t,deriveKey:I0t,sha256:E0t,hashByName:R0t,hmacSha256:T0t,md5:dJ};var a8e=s8e.webcrypto||globalThis.crypto,T0=a8e.subtle,pJ=new TextEncoder;function x0t(t){return a8e.getRandomValues(Buffer.alloc(t))}async function dJ(t){try{return s8e.createHash("md5").update(t,"utf-8").digest("hex")}catch{let r=typeof t=="string"?pJ.encode(t):t,n=await T0.digest("MD5",r);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}}async function A0t(t,e,r){let n=await dJ(e+t);return"md5"+await dJ(Buffer.concat([Buffer.from(n),r]))}async function E0t(t){return await T0.digest("SHA-256",t)}async function R0t(t,e){return await T0.digest(t,e)}async function T0t(t,e){let r=await T0.importKey("raw",t,{name:"HMAC",hash:"SHA-256"},!1,["sign"]);return await T0.sign("HMAC",r,pJ.encode(e))}async function I0t(t,e,r){let n=await T0.importKey("raw",pJ.encode(t),"PBKDF2",!1,["deriveBits"]),i={name:"PBKDF2",hash:"SHA-256",salt:e,iterations:r};return await T0.deriveBits(i,n,256,["deriveBits"])}});var fJ=Le((KDr,mJ)=>{"use strict";var C0t=parseInt(process.versions&&process.versions.node&&process.versions.node.split(".")[0])<15;C0t?mJ.exports=o8e():mJ.exports=l8e()});var p8e=Le((YDr,d8e)=>{"use strict";function I0(t,e){return new Error("SASL channel binding: "+t+" when parsing public certificate "+e.toString("base64"))}function hJ(t,e){let r=t[e++];if(r<128)return{length:r,index:e};let n=r&127;if(n>4)throw I0("bad length",t);r=0;for(let i=0;i<n;i++)r=r<<8|t[e++];return{length:r,index:e}}function u8e(t,e){if(t[e++]!==6)throw I0("non-OID data",t);let{length:r,index:n}=hJ(t,e);e=n;let i=e+r,o=t[e++],s=(o/40>>0)+"."+o%40;for(;e<i;){let a=0;for(;e<i;){let c=t[e++];if(a=a<<7|c&127,c<128)break}s+="."+a}return{oid:s,index:e}}function O4(t,e){if(t[e++]!==48)throw I0("non-sequence data",t);return hJ(t,e)}function O0t(t,e){e===void 0&&(e=0),e=O4(t,e).index;let{length:r,index:n}=O4(t,e);e=n+r,e=O4(t,e).index;let{oid:i,index:o}=u8e(t,e);switch(i){case"1.2.840.113549.1.1.4":return"MD5";case"1.2.840.113549.1.1.5":return"SHA-1";case"1.2.840.113549.1.1.11":return"SHA-256";case"1.2.840.113549.1.1.12":return"SHA-384";case"1.2.840.113549.1.1.13":return"SHA-512";case"1.2.840.113549.1.1.14":return"SHA-224";case"1.2.840.113549.1.1.15":return"SHA512-224";case"1.2.840.113549.1.1.16":return"SHA512-256";case"1.2.840.10045.4.1":return"SHA-1";case"1.2.840.10045.4.3.1":return"SHA-224";case"1.2.840.10045.4.3.2":return"SHA-256";case"1.2.840.10045.4.3.3":return"SHA-384";case"1.2.840.10045.4.3.4":return"SHA-512";case"1.2.840.113549.1.1.10":{if(e=o,e=O4(t,e).index,t[e++]!==160)throw I0("non-tag data",t);e=hJ(t,e).index,e=O4(t,e).index;let{oid:s}=u8e(t,e);switch(s){case"1.2.840.113549.2.5":return"MD5";case"1.3.14.3.2.26":return"SHA-1";case"2.16.840.1.101.3.4.2.1":return"SHA-256";case"2.16.840.1.101.3.4.2.2":return"SHA-384";case"2.16.840.1.101.3.4.2.3":return"SHA-512"}throw I0("unknown hash OID "+s,t)}case"1.3.101.110":case"1.3.101.112":return"SHA-512";case"1.3.101.111":case"1.3.101.113":throw I0("Ed448 certificate channel binding is not currently supported by Postgres")}throw I0("unknown OID "+i,t)}d8e.exports={signatureAlgorithmHashFromCertificate:O0t}});var g8e=Le((JDr,h8e)=>{"use strict";var Df=fJ(),{signatureAlgorithmHashFromCertificate:N0t}=p8e();function P0t(t,e){let r=["SCRAM-SHA-256"];e&&r.unshift("SCRAM-SHA-256-PLUS");let n=r.find(s=>t.includes(s));if(!n)throw new Error("SASL: Only mechanism(s) "+r.join(" and ")+" are supported");if(n==="SCRAM-SHA-256-PLUS"&&typeof e.getPeerCertificate!="function")throw new Error("SASL: Mechanism SCRAM-SHA-256-PLUS requires a certificate");let i=Df.randomBytes(18).toString("base64");return{mechanism:n,clientNonce:i,response:(n==="SCRAM-SHA-256-PLUS"?"p=tls-server-end-point":e?"y":"n")+",,n=*,r="+i,message:"SASLInitialResponse"}}async function k0t(t,e,r,n){if(t.message!=="SASLInitialResponse")throw new Error("SASL: Last message was not SASLInitialResponse");if(typeof e!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string");if(e==="")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a non-empty string");if(typeof r!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a string");let i=$0t(r);if(i.nonce.startsWith(t.clientNonce)){if(i.nonce.length===t.clientNonce.length)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");let o="n=*,r="+t.clientNonce,s="r="+i.nonce+",s="+i.salt+",i="+i.iteration,a=n?"eSws":"biws";if(t.mechanism==="SCRAM-SHA-256-PLUS"){let _=n.getPeerCertificate().raw,x=N0t(_);(x==="MD5"||x==="SHA-1")&&(x="SHA-256");let E=await Df.hashByName(x,_);a=Buffer.concat([Buffer.from("p=tls-server-end-point,,"),Buffer.from(E)]).toString("base64")}let c="c="+a+",r="+i.nonce,l=o+","+s+","+c,u=Buffer.from(i.salt,"base64"),d=await Df.deriveKey(e,u,i.iteration),p=await Df.hmacSha256(d,"Client Key"),m=await Df.sha256(p),h=await Df.hmacSha256(m,l),f=B0t(Buffer.from(p),Buffer.from(h)).toString("base64"),y=await Df.hmacSha256(d,"Server Key"),v=await Df.hmacSha256(y,l);t.message="SASLResponse",t.serverSignature=Buffer.from(v).toString("base64"),t.response=c+",p="+f}function D0t(t,e){if(t.message!=="SASLResponse")throw new Error("SASL: Last message was not SASLResponse");if(typeof e!="string")throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: serverData must be a string");let{serverSignature:r}=L0t(e);if(r!==t.serverSignature)throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}function M0t(t){if(typeof t!="string")throw new TypeError("SASL: text must be a string");return t.split("").map((e,r)=>t.charCodeAt(r)).every(e=>e>=33&&e<=43||e>=45&&e<=126)}function m8e(t){return/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(t)}function f8e(t){if(typeof t!="string")throw new TypeError("SASL: attribute pairs text must be a string");return new Map(t.split(",").map(e=>{if(!/^.=/.test(e))throw new Error("SASL: Invalid attribute pair entry");let r=e[0],n=e.substring(2);return[r,n]}))}function $0t(t){let e=f8e(t),r=e.get("r");if(r){if(!M0t(r))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce must only contain printable characters")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");let n=e.get("s");if(n){if(!m8e(n))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");let i=e.get("i");if(i){if(!/^[1-9][0-9]*$/.test(i))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration count")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");let o=parseInt(i,10);return{nonce:r,salt:n,iteration:o}}function L0t(t){let r=f8e(t).get("v");if(r){if(!m8e(r))throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64")}else throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing");return{serverSignature:r}}function B0t(t,e){if(!Buffer.isBuffer(t))throw new TypeError("first argument must be a Buffer");if(!Buffer.isBuffer(e))throw new TypeError("second argument must be a Buffer");if(t.length!==e.length)throw new Error("Buffer lengths must match");if(t.length===0)throw new Error("Buffers cannot be empty");return Buffer.from(t.map((r,n)=>t[n]^e[n]))}h8e.exports={startSession:P0t,continueSession:k0t,finalizeSession:D0t}});var h7=Le((QDr,y8e)=>{"use strict";var U0t=I4();function f7(t){this._types=t||U0t,this.text={},this.binary={}}f7.prototype.getOverrides=function(t){switch(t){case"text":return this.text;case"binary":return this.binary;default:return{}}};f7.prototype.setTypeParser=function(t,e,r){typeof e=="function"&&(r=e,e="text"),this.getOverrides(e)[t]=r};f7.prototype.getTypeParser=function(t,e){return e=e||"text",this.getOverrides(e)[t]||this._types.getTypeParser(t,e)};y8e.exports=f7});var _8e=Le((ZDr,v8e)=>{"use strict";function qv(t,e={}){if(t.charAt(0)==="/"){let c=t.split(" ");return{host:c[0],database:c[1]}}let r={},n,i=!1;/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(t)&&(t=encodeURI(t).replace(/%25(\d\d)/g,"%$1"));try{try{n=new URL(t,"postgres://base")}catch{n=new URL(t.replace("@/","@___DUMMY___/"),"postgres://base"),i=!0}}catch(c){throw c.input&&(c.input="*****REDACTED*****"),c}for(let c of n.searchParams.entries())r[c[0]]=c[1];if(r.user=r.user||decodeURIComponent(n.username),r.password=r.password||decodeURIComponent(n.password),n.protocol=="socket:")return r.host=decodeURI(n.pathname),r.database=n.searchParams.get("db"),r.client_encoding=n.searchParams.get("encoding"),r;let o=i?"":n.hostname;r.host?o&&/^%2f/i.test(o)&&(n.pathname=o+n.pathname):r.host=decodeURIComponent(o),r.port||(r.port=n.port);let s=n.pathname.slice(1)||null;r.database=s?decodeURI(s):null,(r.ssl==="true"||r.ssl==="1")&&(r.ssl=!0),r.ssl==="0"&&(r.ssl=!1),(r.sslcert||r.sslkey||r.sslrootcert||r.sslmode)&&(r.ssl={});let a=r.sslcert||r.sslkey||r.sslrootcert?St("fs"):null;if(r.sslcert&&(r.ssl.cert=a.readFileSync(r.sslcert).toString()),r.sslkey&&(r.ssl.key=a.readFileSync(r.sslkey).toString()),r.sslrootcert&&(r.ssl.ca=a.readFileSync(r.sslrootcert).toString()),e.useLibpqCompat&&r.uselibpqcompat)throw new Error("Both useLibpqCompat and uselibpqcompat are set. Please use only one of them.");if(r.uselibpqcompat==="true"||e.useLibpqCompat)switch(r.sslmode){case"disable":{r.ssl=!1;break}case"prefer":{r.ssl.rejectUnauthorized=!1;break}case"require":{r.sslrootcert?r.ssl.checkServerIdentity=function(){}:r.ssl.rejectUnauthorized=!1;break}case"verify-ca":{if(!r.ssl.ca)throw new Error("SECURITY WARNING: Using sslmode=verify-ca requires specifying a CA with sslrootcert. If a public CA is used, verify-ca allows connections to a server that somebody else may have registered with the CA, making you vulnerable to Man-in-the-Middle attacks. Either specify a custom CA certificate with sslrootcert parameter or use sslmode=verify-full for proper security.");r.ssl.checkServerIdentity=function(){};break}case"verify-full":break}else switch(r.sslmode){case"disable":{r.ssl=!1;break}case"prefer":case"require":case"verify-ca":case"verify-full":{r.sslmode!=="verify-full"&&gJ(r.sslmode);break}case"no-verify":{r.ssl.rejectUnauthorized=!1;break}}return r}function F0t(t){return Object.entries(t).reduce((r,[n,i])=>(i!=null&&(r[n]=i),r),{})}function b8e(t){return Object.entries(t).reduce((r,[n,i])=>{if(n==="ssl"){let o=i;typeof o=="boolean"&&(r[n]=o),typeof o=="object"&&(r[n]=F0t(o))}else if(i!=null)if(n==="port"){if(i!==""){let o=parseInt(i,10);if(isNaN(o))throw new Error(`Invalid ${n}: ${i}`);r[n]=o}}else r[n]=i;return r},{})}function z0t(t){return b8e(qv(t))}function gJ(t){!gJ.warned&&typeof process<"u"&&process.emitWarning&&(gJ.warned=!0,process.emitWarning(`SECURITY WARNING: The SSL modes 'prefer', 'require', and 'verify-ca' are treated as aliases for 'verify-full'.
In the next major version (pg-connection-string v3.0.0 and pg v9.0.0), these modes will adopt standard libpq semantics, which have weaker security guarantees.

To prepare for this change:
- If you want the current behavior, explicitly use 'sslmode=verify-full'
- If you want libpq compatibility now, use 'uselibpqcompat=true&sslmode=${t}'

See https://www.postgresql.org/docs/current/libpq-ssl.html for libpq SSL mode definitions.`))}v8e.exports=qv;qv.parse=qv;qv.toClientConfig=b8e;qv.parseIntoClientConfig=z0t});var bJ=Le((XDr,x8e)=>{"use strict";var V0t=St("dns"),w8e=C4(),S8e=_8e().parse,ys=function(t,e,r){return e[t]?e[t]:(r===void 0?r=process.env["PG"+t.toUpperCase()]:r===!1||(r=process.env[r]),r||w8e[t])},j0t=function(){switch(process.env.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return w8e.ssl},Hv=function(t){return"'"+(""+t).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},tl=function(t,e,r){let n=e[r];n!=null&&t.push(r+"="+Hv(n))},yJ=class{constructor(e){e=typeof e=="string"?S8e(e):e||{},e.connectionString&&(e=Object.assign({},e,S8e(e.connectionString))),this.user=ys("user",e),this.database=ys("database",e),this.database===void 0&&(this.database=this.user),this.port=parseInt(ys("port",e),10),this.host=ys("host",e),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:ys("password",e)}),this.binary=ys("binary",e),this.options=ys("options",e),this.ssl=typeof e.ssl>"u"?j0t():e.ssl,typeof this.ssl=="string"&&this.ssl==="true"&&(this.ssl=!0),this.ssl==="no-verify"&&(this.ssl={rejectUnauthorized:!1}),this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this.client_encoding=ys("client_encoding",e),this.replication=ys("replication",e),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=ys("application_name",e,"PGAPPNAME"),this.fallback_application_name=ys("fallback_application_name",e,!1),this.statement_timeout=ys("statement_timeout",e,!1),this.lock_timeout=ys("lock_timeout",e,!1),this.idle_in_transaction_session_timeout=ys("idle_in_transaction_session_timeout",e,!1),this.query_timeout=ys("query_timeout",e,!1),e.connectionTimeoutMillis===void 0?this.connect_timeout=process.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(e.connectionTimeoutMillis/1e3),e.keepAlive===!1?this.keepalives=0:e.keepAlive===!0&&(this.keepalives=1),typeof e.keepAliveInitialDelayMillis=="number"&&(this.keepalives_idle=Math.floor(e.keepAliveInitialDelayMillis/1e3))}getLibpqConnectionString(e){let r=[];tl(r,this,"user"),tl(r,this,"password"),tl(r,this,"port"),tl(r,this,"application_name"),tl(r,this,"fallback_application_name"),tl(r,this,"connect_timeout"),tl(r,this,"options");let n=typeof this.ssl=="object"?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(tl(r,n,"sslmode"),tl(r,n,"sslca"),tl(r,n,"sslkey"),tl(r,n,"sslcert"),tl(r,n,"sslrootcert"),this.database&&r.push("dbname="+Hv(this.database)),this.replication&&r.push("replication="+Hv(this.replication)),this.host&&r.push("host="+Hv(this.host)),this.isDomainSocket)return e(null,r.join(" "));this.client_encoding&&r.push("client_encoding="+Hv(this.client_encoding)),V0t.lookup(this.host,function(i,o){return i?e(i,null):(r.push("hostaddr="+Hv(o)),e(null,r.join(" ")))})}};x8e.exports=yJ});var _J=Le((eMr,E8e)=>{"use strict";var q0t=I4(),A8e=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/,vJ=class{constructor(e,r){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=r,this.RowCtor=null,this.rowAsArray=e==="array",this.rowAsArray&&(this.parseRow=this._parseRowAsArray),this._prebuiltEmptyResultObject=null}addCommandComplete(e){let r;e.text?r=A8e.exec(e.text):r=A8e.exec(e.command),r&&(this.command=r[1],r[3]?(this.oid=parseInt(r[2],10),this.rowCount=parseInt(r[3],10)):r[2]&&(this.rowCount=parseInt(r[2],10)))}_parseRowAsArray(e){let r=new Array(e.length);for(let n=0,i=e.length;n<i;n++){let o=e[n];o!==null?r[n]=this._parsers[n](o):r[n]=null}return r}parseRow(e){let r={...this._prebuiltEmptyResultObject};for(let n=0,i=e.length;n<i;n++){let o=e[n],s=this.fields[n].name;if(o!==null){let a=this.fields[n].format==="binary"?Buffer.from(o):o;r[s]=this._parsers[n](a)}else r[s]=null}return r}addRow(e){this.rows.push(e)}addFields(e){this.fields=e,this.fields.length&&(this._parsers=new Array(e.length));let r={};for(let n=0;n<e.length;n++){let i=e[n];r[i.name]=null,this._types?this._parsers[n]=this._types.getTypeParser(i.dataTypeID,i.format||"text"):this._parsers[n]=q0t.getTypeParser(i.dataTypeID,i.format||"text")}this._prebuiltEmptyResultObject={...r}}};E8e.exports=vJ});var C8e=Le((tMr,I8e)=>{"use strict";var{EventEmitter:H0t}=St("events"),R8e=_J(),T8e=Vv(),SJ=class extends H0t{constructor(e,r,n){super(),e=T8e.normalizeQueryConfig(e,r,n),this.text=e.text,this.values=e.values,this.rows=e.rows,this.types=e.types,this.name=e.name,this.queryMode=e.queryMode,this.binary=e.binary,this.portal=e.portal||"",this.callback=e.callback,this._rowMode=e.rowMode,process.domain&&e.callback&&(this.callback=process.domain.bind(e.callback)),this._result=new R8e(this._rowMode,this.types),this._results=this._result,this._canceledDueToError=!1}requiresPreparation(){return this.queryMode==="extended"||this.name||this.rows?!0:!this.text||!this.values?!1:this.values.length>0}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new R8e(this._rowMode,this._result._types),this._results.push(this._result))}handleRowDescription(e){this._checkForMultirow(),this._result.addFields(e.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(e){let r;if(!this._canceledDueToError){try{r=this._result.parseRow(e.fields)}catch(n){this._canceledDueToError=n;return}this.emit("row",r,this._result),this._accumulateRows&&this._result.addRow(r)}}handleCommandComplete(e,r){this._checkForMultirow(),this._result.addCommandComplete(e),this.rows&&r.sync()}handleEmptyQuery(e){this.rows&&e.sync()}handleError(e,r){if(this._canceledDueToError&&(e=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(e);this.emit("error",e)}handleReadyForQuery(e){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,e);if(this.callback)try{this.callback(null,this._results)}catch(r){process.nextTick(()=>{throw r})}this.emit("end",this._results)}submit(e){if(typeof this.text!="string"&&typeof this.name!="string")return new Error("A query must have either text or a name. Supplying neither is unsupported.");let r=e.parsedStatements[this.name];if(this.text&&r&&this.text!==r)return new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);if(this.values&&!Array.isArray(this.values))return new Error("Query values must be an array");if(this.requiresPreparation()){e.stream.cork&&e.stream.cork();try{this.prepare(e)}finally{e.stream.uncork&&e.stream.uncork()}}else e.query(this.text);return null}hasBeenParsed(e){return this.name&&e.parsedStatements[this.name]}handlePortalSuspended(e){this._getRows(e,this.rows)}_getRows(e,r){e.execute({portal:this.portal,rows:r}),r?e.flush():e.sync()}prepare(e){this.hasBeenParsed(e)||e.parse({text:this.text,name:this.name,types:this.types});try{e.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary,valueMapper:T8e.prepareValue})}catch(r){this.handleError(r,e);return}e.describe({type:"P",name:this.portal||""}),this._getRows(e,this.rows)}handleCopyInResponse(e){e.sendCopyFail("No source stream defined")}handleCopyData(e,r){}};I8e.exports=SJ});var $J=Le(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.NoticeMessage=zt.DataRowMessage=zt.CommandCompleteMessage=zt.ReadyForQueryMessage=zt.NotificationResponseMessage=zt.BackendKeyDataMessage=zt.AuthenticationMD5Password=zt.ParameterStatusMessage=zt.ParameterDescriptionMessage=zt.RowDescriptionMessage=zt.Field=zt.CopyResponse=zt.CopyDataMessage=zt.DatabaseError=zt.copyDone=zt.emptyQuery=zt.replicationStart=zt.portalSuspended=zt.noData=zt.closeComplete=zt.bindComplete=zt.parseComplete=void 0;zt.parseComplete={name:"parseComplete",length:5};zt.bindComplete={name:"bindComplete",length:5};zt.closeComplete={name:"closeComplete",length:5};zt.noData={name:"noData",length:5};zt.portalSuspended={name:"portalSuspended",length:5};zt.replicationStart={name:"replicationStart",length:4};zt.emptyQuery={name:"emptyQuery",length:4};zt.copyDone={name:"copyDone",length:4};var wJ=class extends Error{constructor(e,r,n){super(e),this.length=r,this.name=n}};zt.DatabaseError=wJ;var xJ=class{constructor(e,r){this.length=e,this.chunk=r,this.name="copyData"}};zt.CopyDataMessage=xJ;var AJ=class{constructor(e,r,n,i){this.length=e,this.name=r,this.binary=n,this.columnTypes=new Array(i)}};zt.CopyResponse=AJ;var EJ=class{constructor(e,r,n,i,o,s,a){this.name=e,this.tableID=r,this.columnID=n,this.dataTypeID=i,this.dataTypeSize=o,this.dataTypeModifier=s,this.format=a}};zt.Field=EJ;var RJ=class{constructor(e,r){this.length=e,this.fieldCount=r,this.name="rowDescription",this.fields=new Array(this.fieldCount)}};zt.RowDescriptionMessage=RJ;var TJ=class{constructor(e,r){this.length=e,this.parameterCount=r,this.name="parameterDescription",this.dataTypeIDs=new Array(this.parameterCount)}};zt.ParameterDescriptionMessage=TJ;var IJ=class{constructor(e,r,n){this.length=e,this.parameterName=r,this.parameterValue=n,this.name="parameterStatus"}};zt.ParameterStatusMessage=IJ;var CJ=class{constructor(e,r){this.length=e,this.salt=r,this.name="authenticationMD5Password"}};zt.AuthenticationMD5Password=CJ;var OJ=class{constructor(e,r,n){this.length=e,this.processID=r,this.secretKey=n,this.name="backendKeyData"}};zt.BackendKeyDataMessage=OJ;var NJ=class{constructor(e,r,n,i){this.length=e,this.processId=r,this.channel=n,this.payload=i,this.name="notification"}};zt.NotificationResponseMessage=NJ;var PJ=class{constructor(e,r){this.length=e,this.status=r,this.name="readyForQuery"}};zt.ReadyForQueryMessage=PJ;var kJ=class{constructor(e,r){this.length=e,this.text=r,this.name="commandComplete"}};zt.CommandCompleteMessage=kJ;var DJ=class{constructor(e,r){this.length=e,this.fields=r,this.name="dataRow",this.fieldCount=r.length}};zt.DataRowMessage=DJ;var MJ=class{constructor(e,r){this.length=e,this.message=r,this.name="notice"}};zt.NoticeMessage=MJ});var O8e=Le(g7=>{"use strict";Object.defineProperty(g7,"__esModule",{value:!0});g7.Writer=void 0;var LJ=class{constructor(e=256){this.size=e,this.offset=5,this.headerPosition=0,this.buffer=Buffer.allocUnsafe(e)}ensure(e){if(this.buffer.length-this.offset<e){let n=this.buffer,i=n.length+(n.length>>1)+e;this.buffer=Buffer.allocUnsafe(i),n.copy(this.buffer)}}addInt32(e){return this.ensure(4),this.buffer[this.offset++]=e>>>24&255,this.buffer[this.offset++]=e>>>16&255,this.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this}addInt16(e){return this.ensure(2),this.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this}addCString(e){if(!e)this.ensure(1);else{let r=Buffer.byteLength(e);this.ensure(r+1),this.buffer.write(e,this.offset,"utf-8"),this.offset+=r}return this.buffer[this.offset++]=0,this}addString(e=""){let r=Buffer.byteLength(e);return this.ensure(r),this.buffer.write(e,this.offset),this.offset+=r,this}add(e){return this.ensure(e.length),e.copy(this.buffer,this.offset),this.offset+=e.length,this}join(e){if(e){this.buffer[this.headerPosition]=e;let r=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(r,this.headerPosition+1)}return this.buffer.slice(e?0:5,this.offset)}flush(e){let r=this.join(e);return this.offset=5,this.headerPosition=0,this.buffer=Buffer.allocUnsafe(this.size),r}};g7.Writer=LJ});var P8e=Le(b7=>{"use strict";Object.defineProperty(b7,"__esModule",{value:!0});b7.serialize=void 0;var BJ=O8e(),Rn=new BJ.Writer,W0t=t=>{Rn.addInt16(3).addInt16(0);for(let n of Object.keys(t))Rn.addCString(n).addCString(t[n]);Rn.addCString("client_encoding").addCString("UTF8");let e=Rn.addCString("").flush(),r=e.length+4;return new BJ.Writer().addInt32(r).add(e).flush()},G0t=()=>{let t=Buffer.allocUnsafe(8);return t.writeInt32BE(8,0),t.writeInt32BE(80877103,4),t},K0t=t=>Rn.addCString(t).flush(112),Y0t=function(t,e){return Rn.addCString(t).addInt32(Buffer.byteLength(e)).addString(e),Rn.flush(112)},J0t=function(t){return Rn.addString(t).flush(112)},Q0t=t=>Rn.addCString(t).flush(81),N8e=[],Z0t=t=>{let e=t.name||"";e.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",e,e.length),console.error("This can cause conflicts and silent errors executing queries"));let r=t.types||N8e,n=r.length,i=Rn.addCString(e).addCString(t.text).addInt16(n);for(let o=0;o<n;o++)i.addInt32(r[o]);return Rn.flush(80)},Wv=new BJ.Writer,X0t=function(t,e){for(let r=0;r<t.length;r++){let n=e?e(t[r],r):t[r];n==null?(Rn.addInt16(0),Wv.addInt32(-1)):n instanceof Buffer?(Rn.addInt16(1),Wv.addInt32(n.length),Wv.add(n)):(Rn.addInt16(0),Wv.addInt32(Buffer.byteLength(n)),Wv.addString(n))}},e1t=(t={})=>{let e=t.portal||"",r=t.statement||"",n=t.binary||!1,i=t.values||N8e,o=i.length;return Rn.addCString(e).addCString(r),Rn.addInt16(o),X0t(i,t.valueMapper),Rn.addInt16(o),Rn.add(Wv.flush()),Rn.addInt16(1),Rn.addInt16(n?1:0),Rn.flush(66)},t1t=Buffer.from([69,0,0,0,9,0,0,0,0,0]),r1t=t=>{if(!t||!t.portal&&!t.rows)return t1t;let e=t.portal||"",r=t.rows||0,n=Buffer.byteLength(e),i=4+n+1+4,o=Buffer.allocUnsafe(1+i);return o[0]=69,o.writeInt32BE(i,1),o.write(e,5,"utf-8"),o[n+5]=0,o.writeUInt32BE(r,o.length-4),o},n1t=(t,e)=>{let r=Buffer.allocUnsafe(16);return r.writeInt32BE(16,0),r.writeInt16BE(1234,4),r.writeInt16BE(5678,6),r.writeInt32BE(t,8),r.writeInt32BE(e,12),r},UJ=(t,e)=>{let n=4+Buffer.byteLength(e)+1,i=Buffer.allocUnsafe(1+n);return i[0]=t,i.writeInt32BE(n,1),i.write(e,5,"utf-8"),i[n]=0,i},i1t=Rn.addCString("P").flush(68),o1t=Rn.addCString("S").flush(68),s1t=t=>t.name?UJ(68,`${t.type}${t.name||""}`):t.type==="P"?i1t:o1t,a1t=t=>{let e=`${t.type}${t.name||""}`;return UJ(67,e)},c1t=t=>Rn.add(t).flush(100),l1t=t=>UJ(102,t),y7=t=>Buffer.from([t,0,0,0,4]),u1t=y7(72),d1t=y7(83),p1t=y7(88),m1t=y7(99),f1t={startup:W0t,password:K0t,requestSsl:G0t,sendSASLInitialResponseMessage:Y0t,sendSCRAMClientFinalMessage:J0t,query:Q0t,parse:Z0t,bind:e1t,execute:r1t,describe:s1t,close:a1t,flush:()=>u1t,sync:()=>d1t,end:()=>p1t,copyData:c1t,copyDone:()=>m1t,copyFail:l1t,cancel:n1t};b7.serialize=f1t});var k8e=Le(v7=>{"use strict";Object.defineProperty(v7,"__esModule",{value:!0});v7.BufferReader=void 0;var h1t=Buffer.allocUnsafe(0),FJ=class{constructor(e=0){this.offset=e,this.buffer=h1t,this.encoding="utf-8"}setBuffer(e,r){this.offset=e,this.buffer=r}int16(){let e=this.buffer.readInt16BE(this.offset);return this.offset+=2,e}byte(){let e=this.buffer[this.offset];return this.offset++,e}int32(){let e=this.buffer.readInt32BE(this.offset);return this.offset+=4,e}uint32(){let e=this.buffer.readUInt32BE(this.offset);return this.offset+=4,e}string(e){let r=this.buffer.toString(this.encoding,this.offset,this.offset+e);return this.offset+=e,r}cstring(){let e=this.offset,r=e;for(;this.buffer[r++]!==0;);return this.offset=r,this.buffer.toString(this.encoding,e,r-1)}bytes(e){let r=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,r}};v7.BufferReader=FJ});var L8e=Le(_7=>{"use strict";Object.defineProperty(_7,"__esModule",{value:!0});_7.Parser=void 0;var zn=$J(),g1t=k8e(),VJ=1,y1t=4,D8e=VJ+y1t,ka=-1,zJ=Buffer.allocUnsafe(0),jJ=class{constructor(e){if(this.buffer=zJ,this.bufferLength=0,this.bufferOffset=0,this.reader=new g1t.BufferReader,e?.mode==="binary")throw new Error("Binary mode not supported yet");this.mode=e?.mode||"text"}parse(e,r){this.mergeBuffer(e);let n=this.bufferOffset+this.bufferLength,i=this.bufferOffset;for(;i+D8e<=n;){let o=this.buffer[i],s=this.buffer.readUInt32BE(i+VJ),a=VJ+s;if(a+i<=n){let c=this.handlePacket(i+D8e,o,s,this.buffer);r(c),i+=a}else break}i===n?(this.buffer=zJ,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=n-i,this.bufferOffset=i)}mergeBuffer(e){if(this.bufferLength>0){let r=this.bufferLength+e.byteLength;if(r+this.bufferOffset>this.buffer.byteLength){let i;if(r<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)i=this.buffer;else{let o=this.buffer.byteLength*2;for(;r>=o;)o*=2;i=Buffer.allocUnsafe(o)}this.buffer.copy(i,0,this.bufferOffset,this.bufferOffset+this.bufferLength),this.buffer=i,this.bufferOffset=0}e.copy(this.buffer,this.bufferOffset+this.bufferLength),this.bufferLength=r}else this.buffer=e,this.bufferOffset=0,this.bufferLength=e.byteLength}handlePacket(e,r,n,i){let{reader:o}=this;o.setBuffer(e,i);let s;switch(r){case 50:s=zn.bindComplete;break;case 49:s=zn.parseComplete;break;case 51:s=zn.closeComplete;break;case 110:s=zn.noData;break;case 115:s=zn.portalSuspended;break;case 99:s=zn.copyDone;break;case 87:s=zn.replicationStart;break;case 73:s=zn.emptyQuery;break;case 68:s=T1t(o);break;case 67:s=v1t(o);break;case 90:s=b1t(o);break;case 65:s=x1t(o);break;case 82:s=O1t(o,n);break;case 83:s=I1t(o);break;case 75:s=C1t(o);break;case 69:s=M8e(o,"error");break;case 78:s=M8e(o,"notice");break;case 84:s=A1t(o);break;case 116:s=R1t(o);break;case 71:s=S1t(o);break;case 72:s=w1t(o);break;case 100:s=_1t(o,n);break;default:return new zn.DatabaseError("received invalid response: "+r.toString(16),n,"error")}return o.setBuffer(0,zJ),s.length=n,s}};_7.Parser=jJ;var b1t=t=>{let e=t.string(1);return new zn.ReadyForQueryMessage(ka,e)},v1t=t=>{let e=t.cstring();return new zn.CommandCompleteMessage(ka,e)},_1t=(t,e)=>{let r=t.bytes(e-4);return new zn.CopyDataMessage(ka,r)},S1t=t=>$8e(t,"copyInResponse"),w1t=t=>$8e(t,"copyOutResponse"),$8e=(t,e)=>{let r=t.byte()!==0,n=t.int16(),i=new zn.CopyResponse(ka,e,r,n);for(let o=0;o<n;o++)i.columnTypes[o]=t.int16();return i},x1t=t=>{let e=t.int32(),r=t.cstring(),n=t.cstring();return new zn.NotificationResponseMessage(ka,e,r,n)},A1t=t=>{let e=t.int16(),r=new zn.RowDescriptionMessage(ka,e);for(let n=0;n<e;n++)r.fields[n]=E1t(t);return r},E1t=t=>{let e=t.cstring(),r=t.uint32(),n=t.int16(),i=t.uint32(),o=t.int16(),s=t.int32(),a=t.int16()===0?"text":"binary";return new zn.Field(e,r,n,i,o,s,a)},R1t=t=>{let e=t.int16(),r=new zn.ParameterDescriptionMessage(ka,e);for(let n=0;n<e;n++)r.dataTypeIDs[n]=t.int32();return r},T1t=t=>{let e=t.int16(),r=new Array(e);for(let n=0;n<e;n++){let i=t.int32();r[n]=i===-1?null:t.string(i)}return new zn.DataRowMessage(ka,r)},I1t=t=>{let e=t.cstring(),r=t.cstring();return new zn.ParameterStatusMessage(ka,e,r)},C1t=t=>{let e=t.int32(),r=t.int32();return new zn.BackendKeyDataMessage(ka,e,r)},O1t=(t,e)=>{let r=t.int32(),n={name:"authenticationOk",length:e};switch(r){case 0:break;case 3:n.length===8&&(n.name="authenticationCleartextPassword");break;case 5:if(n.length===12){n.name="authenticationMD5Password";let i=t.bytes(4);return new zn.AuthenticationMD5Password(ka,i)}break;case 10:{n.name="authenticationSASL",n.mechanisms=[];let i;do i=t.cstring(),i&&n.mechanisms.push(i);while(i)}break;case 11:n.name="authenticationSASLContinue",n.data=t.string(e-8);break;case 12:n.name="authenticationSASLFinal",n.data=t.string(e-8);break;default:throw new Error("Unknown authenticationOk message type "+r)}return n},M8e=(t,e)=>{let r={},n=t.string(1);for(;n!=="\0";)r[n]=t.cstring(),n=t.string(1);let i=r.M,o=e==="notice"?new zn.NoticeMessage(ka,i):new zn.DatabaseError(i,ka,e);return o.severity=r.S,o.code=r.C,o.detail=r.D,o.hint=r.H,o.position=r.P,o.internalPosition=r.p,o.internalQuery=r.q,o.where=r.W,o.schema=r.s,o.table=r.t,o.column=r.c,o.dataType=r.d,o.constraint=r.n,o.file=r.F,o.line=r.L,o.routine=r.R,o}});var qJ=Le(Mf=>{"use strict";Object.defineProperty(Mf,"__esModule",{value:!0});Mf.DatabaseError=Mf.serialize=Mf.parse=void 0;var N1t=$J();Object.defineProperty(Mf,"DatabaseError",{enumerable:!0,get:function(){return N1t.DatabaseError}});var P1t=P8e();Object.defineProperty(Mf,"serialize",{enumerable:!0,get:function(){return P1t.serialize}});var k1t=L8e();function D1t(t,e){let r=new k1t.Parser;return t.on("data",n=>r.parse(n,e)),new Promise(n=>t.on("end",()=>n()))}Mf.parse=D1t});var B8e=Le(HJ=>{"use strict";Object.defineProperty(HJ,"__esModule",{value:!0});HJ.default={}});var F8e=Le((lMr,U8e)=>{"use strict";var{getStream:M1t,getSecureStream:$1t}=F1t();U8e.exports={getStream:M1t,getSecureStream:$1t};function L1t(){function t(r){let n=St("net");return new n.Socket}function e(r){return St("tls").connect(r)}return{getStream:t,getSecureStream:e}}function B1t(){function t(r){let{CloudflareSocket:n}=B8e();return new n(r)}function e(r){return r.socket.startTls(r),r.socket}return{getStream:t,getSecureStream:e}}function U1t(){if(typeof navigator=="object"&&navigator!==null&&typeof navigator.userAgent=="string")return navigator.userAgent==="Cloudflare-Workers";if(typeof Response=="function"){let t=new Response(null,{cf:{thing:!0}});if(typeof t.cf=="object"&&t.cf!==null&&t.cf.thing)return!0}return!1}function F1t(){return U1t()?B1t():L1t()}});var GJ=Le((uMr,z8e)=>{"use strict";var z1t=St("events").EventEmitter,{parse:V1t,serialize:Qi}=qJ(),{getStream:j1t,getSecureStream:q1t}=F8e(),H1t=Qi.flush(),W1t=Qi.sync(),G1t=Qi.end(),WJ=class extends z1t{constructor(e){super(),e=e||{},this.stream=e.stream||j1t(e.ssl),typeof this.stream=="function"&&(this.stream=this.stream(e)),this._keepAlive=e.keepAlive,this._keepAliveInitialDelayMillis=e.keepAliveInitialDelayMillis,this.parsedStatements={},this.ssl=e.ssl||!1,this._ending=!1,this._emitMessage=!1;let r=this;this.on("newListener",function(n){n==="message"&&(r._emitMessage=!0)})}connect(e,r){let n=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(e,r),this.stream.once("connect",function(){n._keepAlive&&n.stream.setKeepAlive(!0,n._keepAliveInitialDelayMillis),n.emit("connect")});let i=function(o){n._ending&&(o.code==="ECONNRESET"||o.code==="EPIPE")||n.emit("error",o)};if(this.stream.on("error",i),this.stream.on("close",function(){n.emit("end")}),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",function(o){switch(o.toString("utf8")){case"S":break;case"N":return n.stream.end(),n.emit("error",new Error("The server does not support SSL connections"));default:return n.stream.end(),n.emit("error",new Error("There was an error establishing an SSL connection"))}let a={socket:n.stream};n.ssl!==!0&&(Object.assign(a,n.ssl),"key"in n.ssl&&(a.key=n.ssl.key));let c=St("net");c.isIP&&c.isIP(r)===0&&(a.servername=r);try{n.stream=q1t(a)}catch(l){return n.emit("error",l)}n.attachListeners(n.stream),n.stream.on("error",i),n.emit("sslconnect")})}attachListeners(e){V1t(e,r=>{let n=r.name==="error"?"errorMessage":r.name;this._emitMessage&&this.emit("message",r),this.emit(n,r)})}requestSsl(){this.stream.write(Qi.requestSsl())}startup(e){this.stream.write(Qi.startup(e))}cancel(e,r){this._send(Qi.cancel(e,r))}password(e){this._send(Qi.password(e))}sendSASLInitialResponseMessage(e,r){this._send(Qi.sendSASLInitialResponseMessage(e,r))}sendSCRAMClientFinalMessage(e){this._send(Qi.sendSCRAMClientFinalMessage(e))}_send(e){return this.stream.writable?this.stream.write(e):!1}query(e){this._send(Qi.query(e))}parse(e){this._send(Qi.parse(e))}bind(e){this._send(Qi.bind(e))}execute(e){this._send(Qi.execute(e))}flush(){this.stream.writable&&this.stream.write(H1t)}sync(){this._ending=!0,this._send(W1t)}ref(){this.stream.ref()}unref(){this.stream.unref()}end(){if(this._ending=!0,!this._connecting||!this.stream.writable){this.stream.end();return}return this.stream.write(G1t,()=>{this.stream.end()})}close(e){this._send(Qi.close(e))}describe(e){this._send(Qi.describe(e))}sendCopyFromChunk(e){this._send(Qi.copyData(e))}endCopyFrom(){this._send(Qi.copyDone())}sendCopyFail(e){this._send(Qi.copyFail(e))}};z8e.exports=WJ});var H8e=Le((dMr,q8e)=>{"use strict";var{Transform:K1t}=St("stream"),{StringDecoder:Y1t}=St("string_decoder"),$f=Symbol("last"),S7=Symbol("decoder");function J1t(t,e,r){let n;if(this.overflow){if(n=this[S7].write(t).split(this.matcher),n.length===1)return r();n.shift(),this.overflow=!1}else this[$f]+=this[S7].write(t),n=this[$f].split(this.matcher);this[$f]=n.pop();for(let i=0;i<n.length;i++)try{j8e(this,this.mapper(n[i]))}catch(o){return r(o)}if(this.overflow=this[$f].length>this.maxLength,this.overflow&&!this.skipOverflow){r(new Error("maximum buffer reached"));return}r()}function Q1t(t){if(this[$f]+=this[S7].end(),this[$f])try{j8e(this,this.mapper(this[$f]))}catch(e){return t(e)}t()}function j8e(t,e){e!==void 0&&t.push(e)}function V8e(t){return t}function Z1t(t,e,r){switch(t=t||/\r?\n/,e=e||V8e,r=r||{},arguments.length){case 1:typeof t=="function"?(e=t,t=/\r?\n/):typeof t=="object"&&!(t instanceof RegExp)&&!t[Symbol.split]&&(r=t,t=/\r?\n/);break;case 2:typeof t=="function"?(r=e,e=t,t=/\r?\n/):typeof e=="object"&&(r=e,e=V8e)}r=Object.assign({},r),r.autoDestroy=!0,r.transform=J1t,r.flush=Q1t,r.readableObjectMode=!0;let n=new K1t(r);return n[$f]="",n[S7]=new Y1t("utf8"),n.matcher=t,n.mapper=e,n.maxLength=r.maxLength,n.skipOverflow=r.skipOverflow||!1,n.overflow=!1,n._destroy=function(i,o){this._writableState.errorEmitted=!1,o(i)},n}q8e.exports=Z1t});var K8e=Le((pMr,gp)=>{"use strict";var W8e=St("path"),X1t=St("stream").Stream,eyt=H8e(),G8e=St("util"),tyt=5432,w7=process.platform==="win32",N4=process.stderr,ryt=56,nyt=7,iyt=61440,oyt=32768;function syt(t){return(t&iyt)==oyt}var Gv=["host","port","database","user","password"],KJ=Gv.length,ayt=Gv[KJ-1];function YJ(){var t=N4 instanceof X1t&&N4.writable===!0;if(t){var e=Array.prototype.slice.call(arguments).concat(`
`);N4.write(G8e.format.apply(G8e,e))}}Object.defineProperty(gp.exports,"isWin",{get:function(){return w7},set:function(t){w7=t}});gp.exports.warnTo=function(t){var e=N4;return N4=t,e};gp.exports.getFileName=function(t){var e=t||process.env,r=e.PGPASSFILE||(w7?W8e.join(e.APPDATA||"./","postgresql","pgpass.conf"):W8e.join(e.HOME||"./",".pgpass"));return r};gp.exports.usePgPass=function(t,e){return Object.prototype.hasOwnProperty.call(process.env,"PGPASSWORD")?!1:w7?!0:(e=e||"<unkn>",syt(t.mode)?t.mode&(ryt|nyt)?(YJ('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',e),!1):!0:(YJ('WARNING: password file "%s" is not a plain file',e),!1))};var cyt=gp.exports.match=function(t,e){return Gv.slice(0,-1).reduce(function(r,n,i){return i==1&&Number(t[n]||tyt)===Number(e[n])?r&&!0:r&&(e[n]==="*"||e[n]===t[n])},!0)};gp.exports.getPassword=function(t,e,r){var n,i=e.pipe(eyt());function o(c){var l=lyt(c);l&&uyt(l)&&cyt(t,l)&&(n=l[ayt],i.end())}var s=function(){e.destroy(),r(n)},a=function(c){e.destroy(),YJ("WARNING: error on reading file: %s",c),r(void 0)};e.on("error",a),i.on("data",o).on("end",s).on("error",a)};var lyt=gp.exports.parseLine=function(t){if(t.length<11||t.match(/^\s+#/))return null;for(var e="",r="",n=0,i=0,o=0,s={},a=!1,c=function(u,d,p){var m=t.substring(d,p);Object.hasOwnProperty.call(process.env,"PGPASS_NO_DEESCAPE")||(m=m.replace(/\\([:\\])/g,"$1")),s[Gv[u]]=m},l=0;l<t.length-1;l+=1){if(e=t.charAt(l+1),r=t.charAt(l),a=n==KJ-1,a){c(n,i);break}l>=0&&e==":"&&r!=="\\"&&(c(n,i,l+1),i=l+2,n+=1)}return s=Object.keys(s).length===KJ?s:null,s},uyt=gp.exports.isValidEntry=function(t){for(var e={0:function(s){return s.length>0},1:function(s){return s==="*"?!0:(s=Number(s),isFinite(s)&&s>0&&s<9007199254740992&&Math.floor(s)===s)},2:function(s){return s.length>0},3:function(s){return s.length>0},4:function(s){return s.length>0}},r=0;r<Gv.length;r+=1){var n=e[r],i=t[Gv[r]]||"",o=n(i);if(!o)return!1}return!0}});var J8e=Le((fMr,JJ)=>{"use strict";var mMr=St("path"),Y8e=St("fs"),x7=K8e();JJ.exports=function(t,e){var r=x7.getFileName();Y8e.stat(r,function(n,i){if(n||!x7.usePgPass(i,r))return e(void 0);var o=Y8e.createReadStream(r);x7.getPassword(t,o,e)})};JJ.exports.warnTo=x7.warnTo});var tCe=Le((hMr,eCe)=>{"use strict";var dyt=St("events").EventEmitter,Q8e=Vv(),E7=St("util"),QJ=g8e(),pyt=h7(),myt=bJ(),X8e=C8e(),fyt=C4(),hyt=GJ(),gyt=fJ(),Z8e=E7.deprecate(()=>{},"Client.activeQuery is deprecated and will be removed in a future version."),yyt=E7.deprecate(()=>{},"Client.queryQueue is deprecated and will be removed in a future version."),byt=E7.deprecate(()=>{},"pgpass support is deprecated and will be removed in a future version. You can provide an async function as the password property to the Client/Pool constructor that returns a password instead. Within this funciton you can call the pgpass module in your own code."),vyt=E7.deprecate(()=>{},"Passing a custom Promise implementation to the Client/Pool constructor is deprecated and will be removed in a future version."),A7=class extends dyt{constructor(e){super(),this.connectionParameters=new myt(e),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;let r=e||{};r.Promise&&vyt(),this._Promise=r.Promise||global.Promise,this._types=new pyt(r.types),this._ending=!1,this._ended=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this._activeQuery=null,this.enableChannelBinding=!!r.enableChannelBinding,this.connection=r.connection||new hyt({stream:r.stream,ssl:this.connectionParameters.ssl,keepAlive:r.keepAlive||!1,keepAliveInitialDelayMillis:r.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this._queryQueue=[],this.binary=r.binary||fyt.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this._connectionTimeoutMillis=r.connectionTimeoutMillis||0}get activeQuery(){return Z8e(),this._activeQuery}set activeQuery(e){Z8e(),this._activeQuery=e}_getActiveQuery(){return this._activeQuery}_errorAllQueries(e){let r=i=>{process.nextTick(()=>{i.handleError(e,this.connection)})},n=this._getActiveQuery();n&&(r(n),this._activeQuery=null),this._queryQueue.forEach(r),this._queryQueue.length=0}_connect(e){let r=this,n=this.connection;if(this._connectionCallback=e,this._connecting||this._connected){let i=new Error("Client has already been connected. You cannot reuse a client.");process.nextTick(()=>{e(i)});return}this._connecting=!0,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{n._ending=!0,n.stream.destroy(new Error("timeout expired"))},this._connectionTimeoutMillis),this.connectionTimeoutHandle.unref&&this.connectionTimeoutHandle.unref()),this.host&&this.host.indexOf("/")===0?n.connect(this.host+"/.s.PGSQL."+this.port):n.connect(this.port,this.host),n.on("connect",function(){r.ssl?n.requestSsl():n.startup(r.getStartupConf())}),n.on("sslconnect",function(){n.startup(r.getStartupConf())}),this._attachListeners(n),n.once("end",()=>{let i=this._ending?new Error("Connection terminated"):new Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(i),this._ended=!0,this._ending||(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(i):this._handleErrorEvent(i):this._connectionError||this._handleErrorEvent(i)),process.nextTick(()=>{this.emit("end")})})}connect(e){if(e){this._connect(e);return}return new this._Promise((r,n)=>{this._connect(i=>{i?n(i):r(this)})})}_attachListeners(e){e.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),e.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),e.on("authenticationSASL",this._handleAuthSASL.bind(this)),e.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),e.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),e.on("backendKeyData",this._handleBackendKeyData.bind(this)),e.on("error",this._handleErrorEvent.bind(this)),e.on("errorMessage",this._handleErrorMessage.bind(this)),e.on("readyForQuery",this._handleReadyForQuery.bind(this)),e.on("notice",this._handleNotice.bind(this)),e.on("rowDescription",this._handleRowDescription.bind(this)),e.on("dataRow",this._handleDataRow.bind(this)),e.on("portalSuspended",this._handlePortalSuspended.bind(this)),e.on("emptyQuery",this._handleEmptyQuery.bind(this)),e.on("commandComplete",this._handleCommandComplete.bind(this)),e.on("parseComplete",this._handleParseComplete.bind(this)),e.on("copyInResponse",this._handleCopyInResponse.bind(this)),e.on("copyData",this._handleCopyData.bind(this)),e.on("notification",this._handleNotification.bind(this))}_getPassword(e){let r=this.connection;if(typeof this.password=="function")this._Promise.resolve().then(()=>this.password()).then(n=>{if(n!==void 0){if(typeof n!="string"){r.emit("error",new TypeError("Password must be a string"));return}this.connectionParameters.password=this.password=n}else this.connectionParameters.password=this.password=null;e()}).catch(n=>{r.emit("error",n)});else if(this.password!==null)e();else try{J8e()(this.connectionParameters,i=>{i!==void 0&&(byt(),this.connectionParameters.password=this.password=i),e()})}catch(n){this.emit("error",n)}}_handleAuthCleartextPassword(e){this._getPassword(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(e){this._getPassword(async()=>{try{let r=await gyt.postgresMd5PasswordHash(this.user,this.password,e.salt);this.connection.password(r)}catch(r){this.emit("error",r)}})}_handleAuthSASL(e){this._getPassword(()=>{try{this.saslSession=QJ.startSession(e.mechanisms,this.enableChannelBinding&&this.connection.stream),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)}catch(r){this.connection.emit("error",r)}})}async _handleAuthSASLContinue(e){try{await QJ.continueSession(this.saslSession,this.password,e.data,this.enableChannelBinding&&this.connection.stream),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}catch(r){this.connection.emit("error",r)}}_handleAuthSASLFinal(e){try{QJ.finalizeSession(this.saslSession,e.data),this.saslSession=null}catch(r){this.connection.emit("error",r)}}_handleBackendKeyData(e){this.processID=e.processID,this.secretKey=e.secretKey}_handleReadyForQuery(e){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));let r=this._getActiveQuery();this._activeQuery=null,this.readyForQuery=!0,r&&r.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(e){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(e);this.emit("error",e)}}_handleErrorEvent(e){if(this._connecting)return this._handleErrorWhileConnecting(e);this._queryable=!1,this._errorAllQueries(e),this.emit("error",e)}_handleErrorMessage(e){if(this._connecting)return this._handleErrorWhileConnecting(e);let r=this._getActiveQuery();if(!r){this._handleErrorEvent(e);return}this._activeQuery=null,r.handleError(e,this.connection)}_handleRowDescription(e){let r=this._getActiveQuery();if(r==null){let n=new Error("Received unexpected rowDescription message from backend.");this._handleErrorEvent(n);return}r.handleRowDescription(e)}_handleDataRow(e){let r=this._getActiveQuery();if(r==null){let n=new Error("Received unexpected dataRow message from backend.");this._handleErrorEvent(n);return}r.handleDataRow(e)}_handlePortalSuspended(e){let r=this._getActiveQuery();if(r==null){let n=new Error("Received unexpected portalSuspended message from backend.");this._handleErrorEvent(n);return}r.handlePortalSuspended(this.connection)}_handleEmptyQuery(e){let r=this._getActiveQuery();if(r==null){let n=new Error("Received unexpected emptyQuery message from backend.");this._handleErrorEvent(n);return}r.handleEmptyQuery(this.connection)}_handleCommandComplete(e){let r=this._getActiveQuery();if(r==null){let n=new Error("Received unexpected commandComplete message from backend.");this._handleErrorEvent(n);return}r.handleCommandComplete(e,this.connection)}_handleParseComplete(){let e=this._getActiveQuery();if(e==null){let r=new Error("Received unexpected parseComplete message from backend.");this._handleErrorEvent(r);return}e.name&&(this.connection.parsedStatements[e.name]=e.text)}_handleCopyInResponse(e){let r=this._getActiveQuery();if(r==null){let n=new Error("Received unexpected copyInResponse message from backend.");this._handleErrorEvent(n);return}r.handleCopyInResponse(this.connection)}_handleCopyData(e){let r=this._getActiveQuery();if(r==null){let n=new Error("Received unexpected copyData message from backend.");this._handleErrorEvent(n);return}r.handleCopyData(e,this.connection)}_handleNotification(e){this.emit("notification",e)}_handleNotice(e){this.emit("notice",e)}getStartupConf(){let e=this.connectionParameters,r={user:e.user,database:e.database},n=e.application_name||e.fallback_application_name;return n&&(r.application_name=n),e.replication&&(r.replication=""+e.replication),e.statement_timeout&&(r.statement_timeout=String(parseInt(e.statement_timeout,10))),e.lock_timeout&&(r.lock_timeout=String(parseInt(e.lock_timeout,10))),e.idle_in_transaction_session_timeout&&(r.idle_in_transaction_session_timeout=String(parseInt(e.idle_in_transaction_session_timeout,10))),e.options&&(r.options=e.options),r}cancel(e,r){if(e.activeQuery===r){let n=this.connection;this.host&&this.host.indexOf("/")===0?n.connect(this.host+"/.s.PGSQL."+this.port):n.connect(this.port,this.host),n.on("connect",function(){n.cancel(e.processID,e.secretKey)})}else e._queryQueue.indexOf(r)!==-1&&e._queryQueue.splice(e._queryQueue.indexOf(r),1)}setTypeParser(e,r,n){return this._types.setTypeParser(e,r,n)}getTypeParser(e,r){return this._types.getTypeParser(e,r)}escapeIdentifier(e){return Q8e.escapeIdentifier(e)}escapeLiteral(e){return Q8e.escapeLiteral(e)}_pulseQueryQueue(){if(this.readyForQuery===!0){this._activeQuery=this._queryQueue.shift();let e=this._getActiveQuery();if(e){this.readyForQuery=!1,this.hasExecuted=!0;let r=e.submit(this.connection);r&&process.nextTick(()=>{e.handleError(r,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this._activeQuery=null,this.emit("drain"))}}query(e,r,n){let i,o,s,a,c;if(e==null)throw new TypeError("Client was passed a null or undefined query");return typeof e.submit=="function"?(s=e.query_timeout||this.connectionParameters.query_timeout,o=i=e,typeof r=="function"&&(i.callback=i.callback||r)):(s=e.query_timeout||this.connectionParameters.query_timeout,i=new X8e(e,r,n),i.callback||(o=new this._Promise((l,u)=>{i.callback=(d,p)=>d?u(d):l(p)}).catch(l=>{throw Error.captureStackTrace(l),l}))),s&&(c=i.callback,a=setTimeout(()=>{let l=new Error("Query read timeout");process.nextTick(()=>{i.handleError(l,this.connection)}),c(l),i.callback=()=>{};let u=this._queryQueue.indexOf(i);u>-1&&this._queryQueue.splice(u,1),this._pulseQueryQueue()},s),i.callback=(l,u)=>{clearTimeout(a),c(l,u)}),this.binary&&!i.binary&&(i.binary=!0),i._result&&!i._result._types&&(i._result._types=this._types),this._queryable?this._ending?(process.nextTick(()=>{i.handleError(new Error("Client was closed and is not queryable"),this.connection)}),o):(this._queryQueue.push(i),this._pulseQueryQueue(),o):(process.nextTick(()=>{i.handleError(new Error("Client has encountered a connection error and is not queryable"),this.connection)}),o)}ref(){this.connection.ref()}unref(){this.connection.unref()}end(e){if(this._ending=!0,!this.connection._connecting||this._ended)if(e)e();else return this._Promise.resolve();if(this._getActiveQuery()||!this._queryable?this.connection.stream.destroy():this.connection.end(),e)this.connection.once("end",e);else return new this._Promise(r=>{this.connection.once("end",r)})}get queryQueue(){return yyt(),this._queryQueue}};A7.Query=X8e;eCe.exports=A7});var oCe=Le((gMr,iCe)=>{"use strict";var _yt=St("events").EventEmitter,rCe=function(){},nCe=(t,e)=>{let r=t.findIndex(e);return r===-1?void 0:t.splice(r,1)[0]},ZJ=class{constructor(e,r,n){this.client=e,this.idleListener=r,this.timeoutId=n}},Kv=class{constructor(e){this.callback=e}};function Syt(){throw new Error("Release called on client which has already been released to the pool.")}function R7(t,e){if(e)return{callback:e,result:void 0};let r,n,i=function(s,a){s?r(s):n(a)},o=new t(function(s,a){n=s,r=a}).catch(s=>{throw Error.captureStackTrace(s),s});return{callback:i,result:o}}function wyt(t,e){return function r(n){n.client=e,e.removeListener("error",r),e.on("error",()=>{t.log("additional client error after disconnection due to error",n)}),t._remove(e),t.emit("error",n,e)}}var XJ=class extends _yt{constructor(e,r){super(),this.options=Object.assign({},e),e!=null&&"password"in e&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:e.password}),e!=null&&e.ssl&&e.ssl.key&&Object.defineProperty(this.options.ssl,"key",{enumerable:!1}),this.options.max=this.options.max||this.options.poolSize||10,this.options.min=this.options.min||0,this.options.maxUses=this.options.maxUses||1/0,this.options.allowExitOnIdle=this.options.allowExitOnIdle||!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,this.log=this.options.log||function(){},this.Client=this.options.Client||r||eQ().Client,this.Promise=this.options.Promise||global.Promise,typeof this.options.idleTimeoutMillis>"u"&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_isAboveMin(){return this._clients.length>this.options.min}_pulseQueue(){if(this.log("pulse queue"),this.ended){this.log("pulse queue ended");return}if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(r=>{this._remove(r.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length){this.log("no queued requests");return}if(!this._idle.length&&this._isFull())return;let e=this._pendingQueue.shift();if(this._idle.length){let r=this._idle.pop();clearTimeout(r.timeoutId);let n=r.client;n.ref&&n.ref();let i=r.idleListener;return this._acquireClient(n,e,i,!1)}if(!this._isFull())return this.newClient(e);throw new Error("unexpected condition")}_remove(e,r){let n=nCe(this._idle,o=>o.client===e);n!==void 0&&clearTimeout(n.timeoutId),this._clients=this._clients.filter(o=>o!==e);let i=this;e.end(()=>{i.emit("remove",e),typeof r=="function"&&r()})}connect(e){if(this.ending){let i=new Error("Cannot use a pool after calling end on the pool");return e?e(i):this.Promise.reject(i)}let r=R7(this.Promise,e),n=r.result;if(this._isFull()||this._idle.length){if(this._idle.length&&process.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new Kv(r.callback)),n;let i=(a,c,l)=>{clearTimeout(s),r.callback(a,c,l)},o=new Kv(i),s=setTimeout(()=>{nCe(this._pendingQueue,a=>a.callback===i),o.timedOut=!0,r.callback(new Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return s.unref&&s.unref(),this._pendingQueue.push(o),n}return this.newClient(new Kv(r.callback)),n}newClient(e){let r=new this.Client(this.options);this._clients.push(r);let n=wyt(this,r);this.log("checking client timeout");let i,o=!1;this.options.connectionTimeoutMillis&&(i=setTimeout(()=>{this.log("ending client due to timeout"),o=!0,r.connection?r.connection.stream.destroy():r.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),r.connect(s=>{if(i&&clearTimeout(i),r.on("error",n),s)this.log("client failed to connect",s),this._clients=this._clients.filter(a=>a!==r),o&&(s=new Error("Connection terminated due to connection timeout",{cause:s})),this._pulseQueue(),e.timedOut||e.callback(s,void 0,rCe);else{if(this.log("new client connected"),this.options.maxLifetimeSeconds!==0){let a=setTimeout(()=>{this.log("ending client due to expired lifetime"),this._expired.add(r),this._idle.findIndex(l=>l.client===r)!==-1&&this._acquireClient(r,new Kv((l,u,d)=>d()),n,!1)},this.options.maxLifetimeSeconds*1e3);a.unref(),r.once("end",()=>clearTimeout(a))}return this._acquireClient(r,e,n,!0)}})}_acquireClient(e,r,n,i){i&&this.emit("connect",e),this.emit("acquire",e),e.release=this._releaseOnce(e,n),e.removeListener("error",n),r.timedOut?i&&this.options.verify?this.options.verify(e,e.release):e.release():i&&this.options.verify?this.options.verify(e,o=>{if(o)return e.release(o),r.callback(o,void 0,rCe);r.callback(void 0,e,e.release)}):r.callback(void 0,e,e.release)}_releaseOnce(e,r){let n=!1;return i=>{n&&Syt(),n=!0,this._release(e,r,i)}}_release(e,r,n){if(e.on("error",r),e._poolUseCount=(e._poolUseCount||0)+1,this.emit("release",n,e),n||this.ending||!e._queryable||e._ending||e._poolUseCount>=this.options.maxUses)return e._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(e,this._pulseQueue.bind(this));if(this._expired.has(e))return this.log("remove expired client"),this._expired.delete(e),this._remove(e,this._pulseQueue.bind(this));let o;this.options.idleTimeoutMillis&&this._isAboveMin()&&(o=setTimeout(()=>{this._isAboveMin()&&(this.log("remove idle client"),this._remove(e,this._pulseQueue.bind(this)))},this.options.idleTimeoutMillis),this.options.allowExitOnIdle&&o.unref()),this.options.allowExitOnIdle&&e.unref(),this._idle.push(new ZJ(e,r,o)),this._pulseQueue()}query(e,r,n){if(typeof e=="function"){let o=R7(this.Promise,e);return setImmediate(function(){return o.callback(new Error("Passing a function as the first parameter to pool.query is not supported"))}),o.result}typeof r=="function"&&(n=r,r=void 0);let i=R7(this.Promise,n);return n=i.callback,this.connect((o,s)=>{if(o)return n(o);let a=!1,c=l=>{a||(a=!0,s.release(l),n(l))};s.once("error",c),this.log("dispatching query");try{s.query(e,r,(l,u)=>{if(this.log("query dispatched"),s.removeListener("error",c),!a)return a=!0,s.release(l),l?n(l):n(void 0,u)})}catch(l){return s.release(l),n(l)}}),i.result}end(e){if(this.log("ending"),this.ending){let n=new Error("Called end on pool more than once");return e?e(n):this.Promise.reject(n)}this.ending=!0;let r=R7(this.Promise,e);return this._endCallback=r.callback,this._pulseQueue(),r.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get expiredCount(){return this._clients.reduce((e,r)=>e+(this._expired.has(r)?1:0),0)}get totalCount(){return this._clients.length}};iCe.exports=XJ});var cCe=Le((yMr,aCe)=>{"use strict";var sCe=St("events").EventEmitter,xyt=St("util"),tQ=Vv(),Yv=aCe.exports=function(t,e,r){sCe.call(this),t=tQ.normalizeQueryConfig(t,e,r),this.text=t.text,this.values=t.values,this.name=t.name,this.queryMode=t.queryMode,this.callback=t.callback,this.state="new",this._arrayMode=t.rowMode==="array",this._emitRowEvents=!1,this.on("newListener",function(n){n==="row"&&(this._emitRowEvents=!0)}.bind(this))};xyt.inherits(Yv,sCe);var Ayt={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};Yv.prototype.handleError=function(t){let e=this.native.pq.resultErrorFields();if(e)for(let r in e){let n=Ayt[r]||r;t[n]=e[r]}this.callback?this.callback(t):this.emit("error",t),this.state="error"};Yv.prototype.then=function(t,e){return this._getPromise().then(t,e)};Yv.prototype.catch=function(t){return this._getPromise().catch(t)};Yv.prototype._getPromise=function(){return this._promise?this._promise:(this._promise=new Promise(function(t,e){this._once("end",t),this._once("error",e)}.bind(this)),this._promise)};Yv.prototype.submit=function(t){this.state="running";let e=this;this.native=t.native,t.native.arrayMode=this._arrayMode;let r=function(n,i,o){if(t.native.arrayMode=!1,setImmediate(function(){e.emit("_done")}),n)return e.handleError(n);e._emitRowEvents&&(o.length>1?i.forEach((s,a)=>{s.forEach(c=>{e.emit("row",c,o[a])})}):i.forEach(function(s){e.emit("row",s,o)})),e.state="end",e.emit("end",o),e.callback&&e.callback(null,o)};if(process.domain&&(r=process.domain.bind(r)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));let n=(this.values||[]).map(tQ.prepareValue);if(t.namedQueries[this.name]){if(this.text&&t.namedQueries[this.name]!==this.text){let i=new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);return r(i)}return t.native.execute(this.name,n,r)}return t.native.prepare(this.name,this.text,n.length,function(i){return i?r(i):(t.namedQueries[e.name]=e.text,e.native.execute(e.name,n,r))})}else if(this.values){if(!Array.isArray(this.values)){let i=new Error("Query values must be an array");return r(i)}let n=this.values.map(tQ.prepareValue);t.native.query(this.text,n,r)}else this.queryMode==="extended"?t.native.query(this.text,[],r):t.native.query(this.text,r)}});var mCe=Le((bMr,pCe)=>{"use strict";var lCe;try{lCe=St("pg-native")}catch(t){throw t}var Eyt=h7(),uCe=St("events").EventEmitter,Ryt=St("util"),Tyt=bJ(),dCe=cCe(),ia=pCe.exports=function(t){uCe.call(this),t=t||{},this._Promise=t.Promise||global.Promise,this._types=new Eyt(t.types),this.native=new lCe({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;let e=this.connectionParameters=new Tyt(t);t.nativeConnectionString&&(e.nativeConnectionString=t.nativeConnectionString),this.user=e.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:e.password}),this.database=e.database,this.host=e.host,this.port=e.port,this.namedQueries={}};ia.Query=dCe;Ryt.inherits(ia,uCe);ia.prototype._errorAllQueries=function(t){let e=r=>{process.nextTick(()=>{r.native=this.native,r.handleError(t)})};this._hasActiveQuery()&&(e(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(e),this._queryQueue.length=0};ia.prototype._connect=function(t){let e=this;if(this._connecting){process.nextTick(()=>t(new Error("Client has already been connected. You cannot reuse a client.")));return}this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(r,n){if(e.connectionParameters.nativeConnectionString&&(n=e.connectionParameters.nativeConnectionString),r)return t(r);e.native.connect(n,function(i){if(i)return e.native.end(),t(i);e._connected=!0,e.native.on("error",function(o){e._queryable=!1,e._errorAllQueries(o),e.emit("error",o)}),e.native.on("notification",function(o){e.emit("notification",{channel:o.relname,payload:o.extra})}),e.emit("connect"),e._pulseQueryQueue(!0),t(null,this)})})};ia.prototype.connect=function(t){if(t){this._connect(t);return}return new this._Promise((e,r)=>{this._connect(n=>{n?r(n):e(this)})})};ia.prototype.query=function(t,e,r){let n,i,o,s,a;if(t==null)throw new TypeError("Client was passed a null or undefined query");if(typeof t.submit=="function")o=t.query_timeout||this.connectionParameters.query_timeout,i=n=t,typeof e=="function"&&(t.callback=e);else if(o=t.query_timeout||this.connectionParameters.query_timeout,n=new dCe(t,e,r),!n.callback){let c,l;i=new this._Promise((u,d)=>{c=u,l=d}).catch(u=>{throw Error.captureStackTrace(u),u}),n.callback=(u,d)=>u?l(u):c(d)}return o&&(a=n.callback,s=setTimeout(()=>{let c=new Error("Query read timeout");process.nextTick(()=>{n.handleError(c,this.connection)}),a(c),n.callback=()=>{};let l=this._queryQueue.indexOf(n);l>-1&&this._queryQueue.splice(l,1),this._pulseQueryQueue()},o),n.callback=(c,l)=>{clearTimeout(s),a(c,l)}),this._queryable?this._ending?(n.native=this.native,process.nextTick(()=>{n.handleError(new Error("Client was closed and is not queryable"))}),i):(this._queryQueue.push(n),this._pulseQueryQueue(),i):(n.native=this.native,process.nextTick(()=>{n.handleError(new Error("Client has encountered a connection error and is not queryable"))}),i)};ia.prototype.end=function(t){let e=this;this._ending=!0,this._connected||this.once("connect",this.end.bind(this,t));let r;return t||(r=new this._Promise(function(n,i){t=o=>o?i(o):n()})),this.native.end(function(){e._errorAllQueries(new Error("Connection terminated")),process.nextTick(()=>{e.emit("end"),t&&t()})}),r};ia.prototype._hasActiveQuery=function(){return this._activeQuery&&this._activeQuery.state!=="error"&&this._activeQuery.state!=="end"};ia.prototype._pulseQueryQueue=function(t){if(!this._connected||this._hasActiveQuery())return;let e=this._queryQueue.shift();if(!e){t||this.emit("drain");return}this._activeQuery=e,e.submit(this);let r=this;e.once("_done",function(){r._pulseQueryQueue()})};ia.prototype.cancel=function(t){this._activeQuery===t?this.native.cancel(function(){}):this._queryQueue.indexOf(t)!==-1&&this._queryQueue.splice(this._queryQueue.indexOf(t),1)};ia.prototype.ref=function(){};ia.prototype.unref=function(){};ia.prototype.setTypeParser=function(t,e,r){return this._types.setTypeParser(t,e,r)};ia.prototype.getTypeParser=function(t,e){return this._types.getTypeParser(t,e)}});var rQ=Le((vMr,fCe)=>{"use strict";fCe.exports=mCe()});var eQ=Le((SMr,T7)=>{"use strict";var Iyt=tCe(),Cyt=C4(),Oyt=GJ(),Nyt=_J(),Pyt=Vv(),kyt=oCe(),Dyt=h7(),{DatabaseError:Myt}=qJ(),{escapeIdentifier:$yt,escapeLiteral:Lyt}=Vv(),Byt=t=>class extends kyt{constructor(r){super(r,t)}},hCe=function(t){this.defaults=Cyt,this.Client=t,this.Query=this.Client.Query,this.Pool=Byt(this.Client),this._pools=[],this.Connection=Oyt,this.types=I4(),this.DatabaseError=Myt,this.TypeOverrides=Dyt,this.escapeIdentifier=$yt,this.escapeLiteral=Lyt,this.Result=Nyt,this.utils=Pyt},gCe=Iyt,yCe=!1;try{yCe=!!process.env.NODE_PG_FORCE_NATIVE}catch{}yCe&&(gCe=rQ());T7.exports=new hCe(gCe);Object.defineProperty(T7.exports,"native",{configurable:!0,enumerable:!1,get(){let t=null;try{t=new hCe(rQ())}catch(e){if(e.code!=="MODULE_NOT_FOUND")throw e}return Object.defineProperty(T7.exports,"native",{value:t}),t}})});var bCe={};lr(bCe,{Client:()=>Uyt,Connection:()=>zyt,DatabaseError:()=>qyt,Pool:()=>Fyt,Query:()=>jyt,Result:()=>Gyt,TypeOverrides:()=>Kyt,default:()=>C0,defaults:()=>Yyt,escapeIdentifier:()=>Hyt,escapeLiteral:()=>Wyt,types:()=>Vyt});var Da,Uyt,Fyt,zyt,Vyt,jyt,qyt,Hyt,Wyt,Gyt,Kyt,Yyt,C0,I7=g(()=>{"use strict";Da=Ni(eQ(),1),Uyt=Da.default.Client,Fyt=Da.default.Pool,zyt=Da.default.Connection,Vyt=Da.default.types,jyt=Da.default.Query,qyt=Da.default.DatabaseError,Hyt=Da.default.escapeIdentifier,Wyt=Da.default.escapeLiteral,Gyt=Da.default.Result,Kyt=Da.default.TypeOverrides,Yyt=Da.default.defaults,C0=Da.default});var Jyt,zu,C7,P4,O7,nQ=g(()=>{"use strict";I7();KY();Ve();f4();$i();Y9();Yn();cp();$r();({Pool:Jyt,types:zu}=C0),C7=class extends Pv{constructor(e,r,n,i,o,s,a,c,l,u,d){super({sql:r,params:n},o,s,a),this.client=e,this.queryString=r,this.params=n,this.logger=i,this.fields=c,this._isResponseInArrayMode=u,this.customResultMapper=d,this.rawQueryConfig={name:l,text:r,types:{getTypeParser:(p,m)=>p===zu.builtins.TIMESTAMPTZ?h=>h:p===zu.builtins.TIMESTAMP?h=>h:p===zu.builtins.DATE?h=>h:p===zu.builtins.INTERVAL?h=>h:p===1231?h=>h:p===1115?h=>h:p===1185?h=>h:p===1187?h=>h:p===1182?h=>h:zu.getTypeParser(p,m)}},this.queryConfig={name:l,text:r,rowMode:"array",types:{getTypeParser:(p,m)=>p===zu.builtins.TIMESTAMPTZ?h=>h:p===zu.builtins.TIMESTAMP?h=>h:p===zu.builtins.DATE?h=>h:p===zu.builtins.INTERVAL?h=>h:p===1231?h=>h:p===1115?h=>h:p===1185?h=>h:p===1187?h=>h:p===1182?h=>h:zu.getTypeParser(p,m)}}}static[J]="NodePgPreparedQuery";rawQueryConfig;queryConfig;async execute(e={}){return en.startActiveSpan("drizzle.execute",async()=>{let r=v0(this.params,e);this.logger.logQuery(this.rawQueryConfig.text,r);let{fields:n,rawQueryConfig:i,client:o,queryConfig:s,joinsNotNullableMap:a,customResultMapper:c}=this;if(!n&&!c)return en.startActiveSpan("drizzle.driver.execute",async u=>(u?.setAttributes({"drizzle.query.name":i.name,"drizzle.query.text":i.text,"drizzle.query.params":JSON.stringify(r)}),this.queryWithCache(i.text,r,async()=>await o.query(i,r))));let l=await en.startActiveSpan("drizzle.driver.execute",u=>(u?.setAttributes({"drizzle.query.name":s.name,"drizzle.query.text":s.text,"drizzle.query.params":JSON.stringify(r)}),this.queryWithCache(s.text,r,async()=>await o.query(s,r))));return en.startActiveSpan("drizzle.mapResponse",()=>c?c(l.rows):l.rows.map(u=>x9(n,u,a)))})}all(e={}){return en.startActiveSpan("drizzle.execute",()=>{let r=v0(this.params,e);return this.logger.logQuery(this.rawQueryConfig.text,r),en.startActiveSpan("drizzle.driver.execute",n=>(n?.setAttributes({"drizzle.query.name":this.rawQueryConfig.name,"drizzle.query.text":this.rawQueryConfig.text,"drizzle.query.params":JSON.stringify(r)}),this.queryWithCache(this.rawQueryConfig.text,r,async()=>this.client.query(this.rawQueryConfig,r)).then(i=>i.rows)))})}isResponseInArrayMode(){return this._isResponseInArrayMode}},P4=class t extends kv{constructor(e,r,n,i={}){super(r),this.client=e,this.schema=n,this.options=i,this.logger=i.logger??new $v,this.cache=i.cache??new kf}static[J]="NodePgSession";logger;cache;prepareQuery(e,r,n,i,o,s,a){return new C7(this.client,e.sql,e.params,this.logger,this.cache,s,a,r,n,i,o)}async transaction(e,r){let n=this.client instanceof Jyt||Object.getPrototypeOf(this.client).constructor.name.includes("Pool"),i=n?new t(await this.client.connect(),this.dialect,this.schema,this.options):this,o=new O7(this.dialect,i,this.schema);await o.execute(Z`begin${r?Z` ${o.getTransactionConfigSQL(r)}`:void 0}`);try{let s=await e(o);return await o.execute(Z`commit`),s}catch(s){throw await o.execute(Z`rollback`),s}finally{n&&i.client.release()}}async count(e){let r=await this.execute(e);return Number(r.rows[0].count)}},O7=class t extends Dv{static[J]="NodePgTransaction";async transaction(e){let r=`sp${this.nestedIndex+1}`,n=new t(this.dialect,this.session,this.schema,this.nestedIndex+1);await n.execute(Z.raw(`savepoint ${r}`));try{let i=await e(n);return await n.execute(Z.raw(`release savepoint ${r}`)),i}catch(i){throw await n.execute(Z.raw(`rollback to savepoint ${r}`)),i}}}});function k4(t,e={}){let r=new Fu({casing:e.casing}),n;e.logger===!0?n=new Mv:e.logger!==!1&&(n=e.logger);let i;if(e.schema){let c=M9(e.schema,$9);i={fullSchema:e.schema,schema:c.tables,tableNamesMap:c.tableNamesMap}}let s=new N7(t,r,{logger:n,cache:e.cache}).createSession(i),a=new P7(r,s,i);return a.$client=t,a.$cache=e.cache,a.$cache&&(a.$cache.invalidate=e.cache?.onMutate),a}function iQ(...t){if(typeof t[0]=="string"){let e=new C0.Pool({connectionString:t[0]});return k4(e,t[1])}if(E9(t[0])){let{connection:e,client:r,...n}=t[0];if(r)return k4(r,n);let i=typeof e=="string"?new C0.Pool({connectionString:e}):new C0.Pool(e);return k4(i,n)}return k4(t[0],t[1])}var N7,P7,vCe=g(()=>{"use strict";I7();Ve();f4();m4();a4();s4();$r();nQ();N7=class{constructor(e,r,n={}){this.client=e,this.dialect=r,this.options=n}static[J]="NodePgDriver";createSession(e){return new P4(this.client,this.dialect,e,{logger:this.options.logger,cache:this.options.cache})}},P7=class extends Pf{static[J]="NodePgDatabase"};(t=>{function e(r){return k4({},r)}t.mock=e})(iQ||(iQ={}))});var _Ce={};lr(_Ce,{NodePgDatabase:()=>P7,NodePgDriver:()=>N7,NodePgPreparedQuery:()=>C7,NodePgSession:()=>P4,NodePgTransaction:()=>O7,drizzle:()=>iQ});var SCe=g(()=>{"use strict";vCe();nQ()});function RA(t){return o_t.includes(t)}var BO,o_t,UO=g(()=>{"use strict";BO="preferred",o_t=["disabled","preferred","required"]});var b7e,v7e=g(()=>{"use strict";Do();UO();b7e=t=>{let{accountIdEndpointMode:e}=t,r=Nr(e??BO);return Object.assign(t,{accountIdEndpointMode:async()=>{let n=await r();if(!RA(n))throw new Error(`Invalid value for accountIdEndpointMode: ${n}. Valid values are: "required", "preferred", "disabled".`);return n}})}});var _7e,S7e,s_t,a_t,w7e,x7e=g(()=>{"use strict";UO();_7e="Invalid AccountIdEndpointMode value",S7e=t=>{throw new Error(t)},s_t="AWS_ACCOUNT_ID_ENDPOINT_MODE",a_t="account_id_endpoint_mode",w7e={environmentVariableSelector:t=>{let e=t[s_t];return e&&!RA(e)&&S7e(_7e),e},configFileSelector:t=>{let e=t[a_t];return e&&!RA(e)&&S7e(_7e),e},default:BO}});var wZ=g(()=>{"use strict";v7e();UO();x7e()});var A7e,xZ,E7e,R7e,T7e=g(()=>{"use strict";A7e=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"],xZ="endpoint_discovery_enabled",E7e=t=>["false","0"].indexOf(t)>=0,R7e={environmentVariableSelector:t=>{for(let e=0;e<A7e.length;e++){let r=A7e[e];if(r in t){let n=t[r];if(n==="")throw Error(`Environment variable ${r} can't be empty of undefined, got "${n}"`);return!E7e(n)}}},configFileSelector:t=>{if(xZ in t){let e=t[xZ];if(e===void 0)throw Error(`Shared config entry ${xZ} can't be undefined, got "${e}"`);return!E7e(e)}},default:void 0}});var I7e=g(()=>{"use strict"});var C7e=g(()=>{"use strict"});var N7e=Le((yGr,O7e)=>{"use strict";function kp(t){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:t}),this.done=!1}kp.prototype.next=function(){if(this.done)return{done:!0};var t=this._next();return t.done&&(this.done=!0),t};typeof Symbol<"u"&&(kp.prototype[Symbol.iterator]=function(){return this});kp.of=function(){var t=arguments,e=t.length,r=0;return new kp(function(){return r>=e?{done:!0}:{done:!1,value:t[r++]}})};kp.empty=function(){var t=new kp(null);return t.done=!0,t};kp.is=function(t){return t instanceof kp?!0:typeof t=="object"&&t!==null&&typeof t.next=="function"};O7e.exports=kp});var AZ=Le((bGr,M7e)=>{"use strict";var P7e=typeof ArrayBuffer<"u",k7e=typeof Symbol<"u";function D7e(t,e){var r,n,i,o,s;if(!t)throw new Error("obliterator/forEach: invalid iterable.");if(typeof e!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(t)||P7e&&ArrayBuffer.isView(t)||typeof t=="string"||t.toString()==="[object Arguments]"){for(i=0,o=t.length;i<o;i++)e(t[i],i);return}if(typeof t.forEach=="function"){t.forEach(e);return}if(k7e&&Symbol.iterator in t&&typeof t.next!="function"&&(t=t[Symbol.iterator]()),typeof t.next=="function"){for(r=t,i=0;s=r.next(),s.done!==!0;)e(s.value,i),i++;return}for(n in t)t.hasOwnProperty(n)&&e(t[n],n)}D7e.forEachWithNullKeys=function(t,e){var r,n,i,o,s;if(!t)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if(typeof e!="function")throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(t)||P7e&&ArrayBuffer.isView(t)||typeof t=="string"||t.toString()==="[object Arguments]"){for(i=0,o=t.length;i<o;i++)e(t[i],null);return}if(t instanceof Set){t.forEach(function(a){e(a,null)});return}if(typeof t.forEach=="function"){t.forEach(e);return}if(k7e&&Symbol.iterator in t&&typeof t.next!="function"&&(t=t[Symbol.iterator]()),typeof t.next=="function"){for(r=t,i=0;s=r.next(),s.done!==!0;)e(s.value,null),i++;return}for(n in t)t.hasOwnProperty(n)&&e(t[n],n)};M7e.exports=D7e});var EZ=Le(Qu=>{"use strict";var c_t=Math.pow(2,8)-1,l_t=Math.pow(2,16)-1,u_t=Math.pow(2,32)-1,d_t=Math.pow(2,7)-1,p_t=Math.pow(2,15)-1,m_t=Math.pow(2,31)-1;Qu.getPointerArray=function(t){var e=t-1;return e<=c_t?Uint8Array:e<=l_t?Uint16Array:e<=u_t?Uint32Array:Float64Array};Qu.getSignedPointerArray=function(t){var e=t-1;return e<=d_t?Int8Array:e<=p_t?Int16Array:e<=m_t?Int32Array:Float64Array};Qu.getNumberType=function(t){return t===(t|0)?Math.sign(t)===-1?t<=127&&t>=-128?Int8Array:t<=32767&&t>=-32768?Int16Array:Int32Array:t<=255?Uint8Array:t<=65535?Uint16Array:Uint32Array:Float64Array};var f_t={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};Qu.getMinimalRepresentation=function(t,e){var r=null,n=0,i,o,s,a,c;for(a=0,c=t.length;a<c;a++)s=e?e(t[a]):t[a],o=Qu.getNumberType(s),i=f_t[o.name],i>n&&(n=i,r=o);return r};Qu.isTypedArray=function(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(t)};Qu.concat=function(){var t=0,e,r,n;for(e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=new arguments[0].constructor(t);for(e=0,r=0;e<n;e++)i.set(arguments[e],r),r+=arguments[e].length;return i};Qu.indices=function(t){for(var e=Qu.getPointerArray(t),r=new e(t),n=0;n<t;n++)r[n]=n;return r}});var B7e=Le(TA=>{"use strict";var $7e=AZ(),L7e=EZ();function h_t(t){return Array.isArray(t)||L7e.isTypedArray(t)}function RZ(t){if(typeof t.length=="number")return t.length;if(typeof t.size=="number")return t.size}function g_t(t){var e=RZ(t),r=typeof e=="number"?new Array(e):[],n=0;return $7e(t,function(i){r[n++]=i}),r}function y_t(t){var e=RZ(t),r=typeof e=="number"?L7e.getPointerArray(e):Array,n=typeof e=="number"?new Array(e):[],i=typeof e=="number"?new r(e):[],o=0;return $7e(t,function(s){n[o]=s,i[o]=o++}),[n,i]}TA.isArrayLike=h_t;TA.guessLength=RZ;TA.toArray=g_t;TA.toArrayWithIndices=y_t});var F7e=Le((SGr,U7e)=>{"use strict";var TZ=N7e(),b_t=AZ(),v_t=EZ(),__t=B7e();function Ei(t,e,r){if(arguments.length<2&&(r=t,t=null,e=null),this.capacity=r,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");var n=v_t.getPointerArray(r);this.forward=new n(r),this.backward=new n(r),this.K=typeof t=="function"?new t(r):new Array(r),this.V=typeof e=="function"?new e(r):new Array(r),this.size=0,this.head=0,this.tail=0,this.items={}}Ei.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}};Ei.prototype.splayOnTop=function(t){var e=this.head;if(this.head===t)return this;var r=this.backward[t],n=this.forward[t];return this.tail===t?this.tail=r:this.backward[n]=r,this.forward[r]=n,this.backward[e]=t,this.head=t,this.forward[t]=e,this};Ei.prototype.set=function(t,e){var r=this.items[t];if(typeof r<"u"){this.splayOnTop(r),this.V[r]=e;return}this.size<this.capacity?r=this.size++:(r=this.tail,this.tail=this.backward[r],delete this.items[this.K[r]]),this.items[t]=r,this.K[r]=t,this.V[r]=e,this.forward[r]=this.head,this.backward[this.head]=r,this.head=r};Ei.prototype.setpop=function(t,e){var r=null,n=null,i=this.items[t];return typeof i<"u"?(this.splayOnTop(i),r=this.V[i],this.V[i]=e,{evicted:!1,key:t,value:r}):(this.size<this.capacity?i=this.size++:(i=this.tail,this.tail=this.backward[i],r=this.V[i],n=this.K[i],delete this.items[this.K[i]]),this.items[t]=i,this.K[i]=t,this.V[i]=e,this.forward[i]=this.head,this.backward[this.head]=i,this.head=i,n?{evicted:!0,key:n,value:r}:null)};Ei.prototype.has=function(t){return t in this.items};Ei.prototype.get=function(t){var e=this.items[t];if(!(typeof e>"u"))return this.splayOnTop(e),this.V[e]};Ei.prototype.peek=function(t){var e=this.items[t];if(!(typeof e>"u"))return this.V[e]};Ei.prototype.forEach=function(t,e){e=arguments.length>1?e:this;for(var r=0,n=this.size,i=this.head,o=this.K,s=this.V,a=this.forward;r<n;)t.call(e,s[i],o[i],this),i=a[i],r++};Ei.prototype.keys=function(){var t=0,e=this.size,r=this.head,n=this.K,i=this.forward;return new TZ(function(){if(t>=e)return{done:!0};var o=n[r];return t++,t<e&&(r=i[r]),{done:!1,value:o}})};Ei.prototype.values=function(){var t=0,e=this.size,r=this.head,n=this.V,i=this.forward;return new TZ(function(){if(t>=e)return{done:!0};var o=n[r];return t++,t<e&&(r=i[r]),{done:!1,value:o}})};Ei.prototype.entries=function(){var t=0,e=this.size,r=this.head,n=this.K,i=this.V,o=this.forward;return new TZ(function(){if(t>=e)return{done:!0};var s=n[r],a=i[r];return t++,t<e&&(r=o[r]),{done:!1,value:[s,a]}})};typeof Symbol<"u"&&(Ei.prototype[Symbol.iterator]=Ei.prototype.entries);Ei.prototype.inspect=function(){for(var t=new Map,e=this.entries(),r;r=e.next(),!r.done;)t.set(r.value[0],r.value[1]);return Object.defineProperty(t,"constructor",{value:Ei,enumerable:!1}),t};typeof Symbol<"u"&&(Ei.prototype[Symbol.for("nodejs.util.inspect.custom")]=Ei.prototype.inspect);Ei.from=function(t,e,r,n){if(arguments.length<2){if(n=__t.guessLength(t),typeof n!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(n=e,e=null,r=null);var i=new Ei(e,r,n);return b_t(t,function(o,s){i.set(s,o)}),i};U7e.exports=Ei});var z7e,FO,V7e=g(()=>{"use strict";z7e=Ni(F7e()),FO=class{cache;constructor(e){this.cache=new z7e.default(e)}getEndpoint(e){let r=this.get(e);if(!r||r.length===0)return;let n=r.map(i=>i.Address);return n[Math.floor(Math.random()*n.length)]}get(e){if(!this.has(e))return;let r=this.cache.get(e);if(!r)return;let n=Date.now(),i=r.filter(o=>n<o.Expires);if(i.length===0){this.delete(e);return}return i}set(e,r){let n=Date.now();this.cache.set(e,r.map(({Address:i,CachePeriodInMinutes:o})=>({Address:i,Expires:n+o*60*1e3})))}delete(e){this.cache.set(e,[])}has(e){if(!this.cache.has(e))return!1;let r=this.cache.peek(e);return r?r.length>0:!1}clear(){this.cache.clear()}}});var j7e=g(()=>{"use strict";C7e();V7e()});var q7e,H7e=g(()=>{"use strict";j7e();q7e=(t,{endpointDiscoveryCommandCtor:e})=>{let{endpointCacheSize:r,endpointDiscoveryEnabled:n,endpointDiscoveryEnabledProvider:i}=t;return Object.assign(t,{endpointDiscoveryCommandCtor:e,endpointCache:new FO(r??1e3),endpointDiscoveryEnabled:n!==void 0?()=>Promise.resolve(n):i,isClientEndpointDiscoveryEnabled:n!==void 0})}});var IZ=g(()=>{"use strict";T7e();I7e();H7e()});function S_t(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"dynamodb",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}var W7e,G7e,K7e,CZ=g(()=>{"use strict";_i();Do();W7e=async(t,e,r)=>({operation:Gn(e).operation,region:await Nr(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});G7e=t=>{let e=[];switch(t.operation){default:e.push(S_t(t))}return e},K7e=t=>{let e=wc(t);return Object.assign(e,{authSchemePreference:Nr(t.authSchemePreference??[])})}});var Y7e,ve,ht=g(()=>{"use strict";Y7e=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"dynamodb"}),ve={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},AccountId:{type:"builtInParams",name:"accountId"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"},AccountIdEndpointMode:{type:"builtInParams",name:"accountIdEndpointMode"}}});var Jt,zO=g(()=>{"use strict";fe();Jt=class t extends qs{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var IA,CA,OA,NA,PA,kA,DA,MA,$A,LA,BA,UA,FA,zA,VA,jA,qA,HA,WA,GA,KA,YA,JA,QA,ZA,XA,eE,tE,rE,nE,iE,oE,sE,aE,cE,OZ=g(()=>{"use strict";zO();IA=class t extends Jt{name="BackupInUseException";$fault="client";constructor(e){super({name:"BackupInUseException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},CA=class t extends Jt{name="BackupNotFoundException";$fault="client";constructor(e){super({name:"BackupNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},OA=class t extends Jt{name="InternalServerError";$fault="server";constructor(e){super({name:"InternalServerError",$fault:"server",...e}),Object.setPrototypeOf(this,t.prototype)}},NA=class t extends Jt{name="RequestLimitExceeded";$fault="client";ThrottlingReasons;constructor(e){super({name:"RequestLimitExceeded",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.ThrottlingReasons=e.ThrottlingReasons}},PA=class t extends Jt{name="ThrottlingException";$fault="client";throttlingReasons;constructor(e){super({name:"ThrottlingException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.throttlingReasons=e.throttlingReasons}},kA=class t extends Jt{name="InvalidEndpointException";$fault="client";Message;constructor(e){super({name:"InvalidEndpointException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},DA=class t extends Jt{name="ProvisionedThroughputExceededException";$fault="client";ThrottlingReasons;constructor(e){super({name:"ProvisionedThroughputExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.ThrottlingReasons=e.ThrottlingReasons}},MA=class t extends Jt{name="ResourceNotFoundException";$fault="client";constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},$A=class t extends Jt{name="ItemCollectionSizeLimitExceededException";$fault="client";constructor(e){super({name:"ItemCollectionSizeLimitExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},LA=class t extends Jt{name="ReplicatedWriteConflictException";$fault="client";$retryable={};constructor(e){super({name:"ReplicatedWriteConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},BA=class t extends Jt{name="ContinuousBackupsUnavailableException";$fault="client";constructor(e){super({name:"ContinuousBackupsUnavailableException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},UA=class t extends Jt{name="LimitExceededException";$fault="client";constructor(e){super({name:"LimitExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},FA=class t extends Jt{name="TableInUseException";$fault="client";constructor(e){super({name:"TableInUseException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},zA=class t extends Jt{name="TableNotFoundException";$fault="client";constructor(e){super({name:"TableNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},VA=class t extends Jt{name="GlobalTableAlreadyExistsException";$fault="client";constructor(e){super({name:"GlobalTableAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},jA=class t extends Jt{name="ResourceInUseException";$fault="client";constructor(e){super({name:"ResourceInUseException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},qA=class t extends Jt{name="TransactionConflictException";$fault="client";constructor(e){super({name:"TransactionConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},HA=class t extends Jt{name="PolicyNotFoundException";$fault="client";constructor(e){super({name:"PolicyNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},WA=class t extends Jt{name="ExportNotFoundException";$fault="client";constructor(e){super({name:"ExportNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},GA=class t extends Jt{name="GlobalTableNotFoundException";$fault="client";constructor(e){super({name:"GlobalTableNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},KA=class t extends Jt{name="ImportNotFoundException";$fault="client";constructor(e){super({name:"ImportNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},YA=class t extends Jt{name="DuplicateItemException";$fault="client";constructor(e){super({name:"DuplicateItemException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},JA=class t extends Jt{name="IdempotentParameterMismatchException";$fault="client";Message;constructor(e){super({name:"IdempotentParameterMismatchException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},QA=class t extends Jt{name="TransactionInProgressException";$fault="client";Message;constructor(e){super({name:"TransactionInProgressException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message}},ZA=class t extends Jt{name="ExportConflictException";$fault="client";constructor(e){super({name:"ExportConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},XA=class t extends Jt{name="InvalidExportTimeException";$fault="client";constructor(e){super({name:"InvalidExportTimeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},eE=class t extends Jt{name="PointInTimeRecoveryUnavailableException";$fault="client";constructor(e){super({name:"PointInTimeRecoveryUnavailableException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},tE=class t extends Jt{name="ImportConflictException";$fault="client";constructor(e){super({name:"ImportConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},rE=class t extends Jt{name="TableAlreadyExistsException";$fault="client";constructor(e){super({name:"TableAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},nE=class t extends Jt{name="InvalidRestoreTimeException";$fault="client";constructor(e){super({name:"InvalidRestoreTimeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},iE=class t extends Jt{name="ReplicaAlreadyExistsException";$fault="client";constructor(e){super({name:"ReplicaAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},oE=class t extends Jt{name="ReplicaNotFoundException";$fault="client";constructor(e){super({name:"ReplicaNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},sE=class t extends Jt{name="IndexNotFoundException";$fault="client";constructor(e){super({name:"IndexNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},aE=class t extends Jt{name="ConditionalCheckFailedException";$fault="client";Item;constructor(e){super({name:"ConditionalCheckFailedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Item=e.Item}},cE=class t extends Jt{name="TransactionCanceledException";$fault="client";Message;CancellationReasons;constructor(e){super({name:"TransactionCanceledException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.Message=e.Message,this.CancellationReasons=e.CancellationReasons}}});var w_t,x_t,NZ,A_t,E_t,lE,R_t,T_t,I_t,VO,C_t,Q7e,Z7e,O_t,N_t,P_t,X7e,k_t,D_t,M_t,$_t,L_t,jO,eOe,B_t,PZ,U_t,F_t,kZ,z_t,uE,tOe,DZ,MZ,rOe,V_t,j_t,q_t,H_t,W_t,G_t,K_t,Y_t,J_t,dE,nOe,iOe,$Z,Q_t,Z_t,oOe,sOe,X_t,e2t,t2t,r2t,n2t,i2t,aOe,LZ,o2t,s2t,a2t,c2t,l2t,cOe,u2t,BZ,d2t,p2t,m2t,f2t,oa,h2t,g2t,lOe,uOe,c1,y2t,b2t,v2t,_2t,S2t,w2t,qO,x2t,A2t,UZ,dOe,pOe,pE,E2t,R2t,c2,T2t,I2t,C2t,O2t,mOe,N2t,P2t,HO,k2t,D2t,M2t,fOe,hOe,$2t,L2t,gOe,WO,B2t,U2t,F2t,z2t,V2t,j2t,q2t,H2t,W2t,G2t,K2t,Y2t,J2t,Q2t,Z2t,X2t,eSt,tSt,rSt,nSt,iSt,oSt,sSt,aSt,cSt,lSt,uSt,dSt,pSt,mSt,fSt,hSt,gSt,ySt,bSt,vSt,_St,SSt,wSt,xSt,ASt,ESt,FZ,yOe,RSt,TSt,ISt,CSt,OSt,zZ,NSt,bOe,PSt,kSt,DSt,MSt,$St,LSt,BSt,USt,FSt,zSt,VSt,jSt,l2,qSt,VZ,HSt,ol,Mp,WSt,GSt,KSt,YSt,jZ,JSt,vOe,QSt,qZ,ZSt,XSt,ewt,twt,rwt,_Oe,SOe,nwt,iwt,owt,wOe,swt,awt,cwt,lwt,xOe,HZ,uwt,dwt,pwt,mwt,fwt,hwt,AOe,gwt,WZ,ywt,EOe,ROe,bwt,GZ,vwt,TOe,_wt,IOe,COe,OOe,NOe,Swt,wwt,xwt,Awt,Ewt,Rwt,Zu,Twt,Iwt,Cwt,Owt,Nwt,Pwt,POe,kwt,Dwt,kOe,Mwt,$wt,Lwt,Bwt,Uwt,Fwt,GO,DOe,zwt,Vwt,$p,jwt,qwt,Hwt,Wwt,Gwt,Kwt,Ywt,Jwt,Qwt,Zwt,Xwt,ext,txt,Lp,KZ,MOe,mE,rxt,nxt,ixt,u2,oxt,sxt,axt,$Oe,cxt,lxt,YZ,uxt,JZ,QZ,dxt,pxt,Cn,mxt,fxt,hxt,gxt,yxt,bxt,ZZ,LOe,vxt,BOe,_xt,UOe,Sxt,XZ,wxt,xxt,eX,Xu,Axt,FOe,Ext,zOe,Rxt,Txt,Ixt,KO,sl,Cxt,Oxt,Nxt,Pxt,kxt,d2,Dxt,Mxt,$xt,Lxt,Bxt,Uxt,Fxt,zxt,Vxt,jxt,qxt,Hxt,Wxt,tX,Gxt,Kxt,Yxt,Jxt,Qxt,Zxt,Xxt,e6t,t6t,r6t,n6t,fE,i6t,o6t,s6t,a6t,VOe,c6t,l6t,u6t,d6t,p6t,m6t,f6t,h6t,jOe,g6t,y6t,p2,b6t,qOe,HOe,WOe,GOe,KOe,v6t,_6t,S6t,w6t,x6t,A6t,ed,E6t,Ql,sh,rX,hE,R6t,T6t,I6t,C6t,O6t,YOe,N6t,P6t,JOe,k6t,QOe,D6t,M6t,$6t,ZOe,XOe,L6t,B6t,eNe,U6t,F6t,z6t,V6t,j6t,q6t,H6t,W6t,Zl,G6t,K6t,ah,Y6t,tNe,J6t,rNe,nNe,iNe,ch,oNe,Q6t,Z6t,X6t,e4t,YO,m2,t4t,r4t,n4t,i4t,o4t,s4t,Va,gE,a4t,c4t,sNe,nX,l4t,u4t,d4t,p4t,m4t,f4t,h4t,g4t,y4t,b4t,v4t,aNe,_4t,S4t,w4t,x4t,cNe,yE,A4t,E4t,R4t,iX,T4t,I4t,vs,C4t,O4t,N4t,lNe,uNe,P4t,k4t,dNe,pNe,D4t,mNe,M4t,$4t,L4t,B4t,fNe,U4t,oX,hNe,F4t,gNe,z4t,V4t,j4t,q4t,H4t,W4t,G4t,K4t,sX,aX,cX,td,Y4t,J4t,yNe,Q4t,bE,lX,Z4t,uX,JO,bNe,X4t,eAt,tAt,rAt,nAt,vNe,iAt,oAt,sAt,aAt,_Ne,cAt,lAt,SNe,QO,wNe,dX,ZO,xNe,ANe,ENe,uAt,pX,RNe,TNe,INe,dAt,pAt,mAt,fAt,CNe,hAt,mX,fX,ONe,Bp,gAt,hX,gX,yAt,bAt,vAt,NNe,yX,PNe,f2,_At,SAt,wAt,xAt,AAt,EAt,vE,RAt,TAt,kNe,IAt,CAt,OAt,NAt,Qt,PAt,kAt,DNe,DAt,MAt,$At,LAt,BAt,UAt,FAt,MNe,$Ne,zAt,bX,VAt,vX,LNe,BNe,UNe,jAt,qAt,HAt,WAt,GAt,KAt,_X,YAt,XO,JAt,QAt,ZAt,XAt,eEt,tEt,FNe,rEt,nEt,iEt,oEt,sEt,aEt,cEt,lEt,uEt,dEt,pEt,mEt,SX,fEt,hEt,gEt,yEt,bEt,vEt,_Et,SEt,wEt,xEt,AEt,EEt,REt,TEt,IEt,CEt,wX,eN,OEt,NEt,PEt,rd,xX,kEt,_r,yr,zNe,DEt,Rr,MEt,$Et,LEt,VNe,BEt,UEt,M,jNe,qNe,HNe,WNe,GNe,Dp,Up,KNe,YNe,AX,EX,JNe,QNe,ZNe,XNe,ePe,tPe,rPe,nPe,iPe,oPe,sPe,aPe,RX,cPe,TX,IX,lPe,uPe,Fp,CX,dPe,pPe,mPe,fPe,hPe,gPe,yPe,bPe,vPe,_Pe,SPe,wPe,xPe,APe,EPe,RPe,TPe,IPe,CPe,OPe,NPe,PPe,kPe,DPe,MPe,$Pe,LPe,BPe,UPe,FPe,zPe,VPe,jPe,qPe,HPe,WPe,GPe,KPe,YPe,JPe,QPe,ZPe,XPe,eke,tke,rke,nke,ike,oke,ske,ake,cke,lke,uke,OX,dke,pke,mke,fke,hke,gke,yke,NX,bke,vke,_ke,Ske,wke,xke,Ake,Eke,Rke,Tke,Ike,Cke,Oke,Nke,Pke,PX,kke,Dke,tN,Mke,$ke,Lke,Bke,Uke,Fke,zke,Vke,kX,jke,qke,DX,Hke,MX,Wke,Gke,Kke,Yke,_E,Jke,Qke,Zke,Xke,eDe,$X,LX,tDe,rDe,nDe,iDe,oDe,sDe,aDe,cDe,lDe,uDe,dDe,pDe,mDe,fDe,hDe,gDe,yDe,bDe,ja,h2,vDe,_De,SDe,wDe,xDe,lh,Xl,BX,ADe,g2,EDe,RDe,TDe,IDe,CDe,ODe,NDe,PDe,kDe,DDe,MDe,$De,LDe,BDe,UDe,FDe,zDe,VDe,jDe,qDe,HDe,WDe,GDe,KDe,YDe,JDe,QDe,ZDe,XDe,eMe,tMe,rMe,nMe,rN,iMe,oMe,sMe,aMe,UX,y2,SE,cMe,FX,nN,zX,l1,lMe,uMe,VX,dMe,pMe,mMe,fMe,jX,qX,hMe,gMe,yMe,bMe,vMe,_Me,SMe,wMe,xMe,AMe,EMe,RMe,TMe,IMe,CMe,OMe,NMe,PMe,kMe,DMe,MMe,$Me,HX,LMe,BMe,UMe,FMe,zMe,VMe,jMe,qMe,HMe,b2,WMe,GMe,KMe,iN,YMe,FEt,zEt,VEt,v2,jEt,qEt,HEt,WEt,GEt,KEt,oN,YEt,JEt,QEt,ZEt,XEt,e3t,t3t,sN,JMe,r3t,eu,n3t,i3t,o3t,s3t,WX,a3t,c3t,l3t,GX,u3t,d3t,QMe,p3t,m3t,f3t,ZMe,h3t,g3t,XMe,e$e,y3t,b3t,v3t,KX,YX,_3t,S3t,w3t,nd,x3t,t$e,A3t,r$e,JX,zp,n$e,E3t,i$e,sa,R3t,T3t,QX,J7e,al,ZX,XX,eee,tee,ree,nee,iee,oee,see,aee,cee,lee,uee,dee,pee,mee,fee,hee,gee,yee,bee,vee,_ee,See,wee,xee,Aee,Eee,Ree,Tee,Iee,Cee,Oee,Nee,Pee,kee,Dee,Mee,$ee,Lee,Bee,Uee,Fee,zee,Vee,jee,qee,Hee,Wee,Gee,Kee,Yee,Jee,Qee,Zee,Xee,ete,gt=g(()=>{"use strict";Pr();zO();OZ();w_t="Action",x_t="ArchivalBackupArn",NZ="ApproximateCreationDateTimePrecision",A_t="AttributeDefinition",E_t="ArchivalDateTime",lE="AttributeDefinitions",R_t="AttributeMap",T_t="AccountMaxReadCapacityUnits",I_t="AccountMaxWriteCapacityUnits",VO="AttributeName",C_t="ArchivalReason",Q7e="ArchivalSummary",Z7e="AutoScalingDisabled",O_t="AutoScalingPolicyDescription",N_t="AutoScalingPolicyDescriptionList",P_t="AutoScalingPolicyUpdate",X7e="AutoScalingRoleArn",k_t="AutoScalingSettingsDescription",D_t="AutoScalingSettingsUpdate",M_t="AutoScalingTargetTrackingScalingPolicyConfigurationDescription",$_t="AutoScalingTargetTrackingScalingPolicyConfigurationUpdate",L_t="AttributeType",jO="AttributesToGet",eOe="AttributeUpdates",B_t="AttributeValue",PZ="AttributeValueList",U_t="AttributeValueUpdate",F_t="Address",kZ="Attributes",z_t="Backfilling",uE="BackupArn",tOe="BackupCreationDateTime",DZ="BackupDescription",MZ="BackupDetails",rOe="BackupExpiryDateTime",V_t="BatchExecuteStatement",j_t="BatchExecuteStatementInput",q_t="BatchExecuteStatementOutput",H_t="BatchGetItem",W_t="BatchGetItemInput",G_t="BatchGetItemOutput",K_t="BatchGetResponseMap",Y_t="BatchGetRequestMap",J_t="BackupInUseException",dE="BillingMode",nOe="BillingModeOverride",iOe="BillingModeSummary",$Z="BackupName",Q_t="BackupNotFoundException",Z_t="BOOL",oOe="BackupStatus",sOe="BackupSizeBytes",X_t="BilledSizeBytes",e2t="BatchStatementError",t2t="BatchStatementRequest",r2t="BatchStatementResponse",n2t="BS",i2t="BackupSummary",aOe="BackupSummaries",LZ="BackupType",o2t="BatchWriteItem",s2t="BatchWriteItemInput",a2t="BatchWriteItemOutput",c2t="BatchWriteItemRequestMap",l2t="B",cOe="Code",u2t="CreateBackup",BZ="ContinuousBackupsDescription",d2t="CreateBackupInput",p2t="CreateBackupOutput",m2t="ContinuousBackupsStatus",f2t="ContinuousBackupsUnavailableException",oa="ConsumedCapacity",h2t="ConditionalCheckFailedException",g2t="ConsumedCapacityMultiple",lOe="ConditionCheck",uOe="CreationDateTime",c1="ConditionExpression",y2t="CreateGlobalSecondaryIndexAction",b2t="CreateGlobalTable",v2t="CreateGlobalTableInput",_2t="CreateGlobalTableOutput",S2t="CreateGlobalTableWitnessGroupMemberAction",w2t="ContributorInsightsAction",qO="ContributorInsightsMode",x2t="ContributorInsightsRuleList",A2t="ContributorInsightsSummary",UZ="ContributorInsightsStatus",dOe="ContributorInsightsSummaries",pOe="ComparisonOperator",pE="ConditionalOperator",E2t="CsvOptions",R2t="CachePeriodInMinutes",c2="ConsistentRead",T2t="CreateReplicaAction",I2t="CreateReplicationGroupMemberAction",C2t="CancellationReasonList",O2t="ConfirmRemoveSelfResourceAccess",mOe="ClientRequestToken",N2t="CancellationReason",P2t="CancellationReasons",HO="ClientToken",k2t="CreateTableInput",D2t="CreateTableOutput",M2t="CreateTable",fOe="CapacityUnits",hOe="CloudWatchLogGroupArn",$2t="Capacity",L2t="Condition",gOe="Count",WO="Create",B2t="Csv",U2t="Delimiter",F2t="DeleteBackup",z2t="DeleteBackupInput",V2t="DescribeBackupInput",j2t="DeleteBackupOutput",q2t="DescribeBackupOutput",H2t="DescribeBackup",W2t="DescribeContinuousBackups",G2t="DescribeContinuousBackupsInput",K2t="DescribeContinuousBackupsOutput",Y2t="DescribeContributorInsights",J2t="DescribeContributorInsightsInput",Q2t="DescribeContributorInsightsOutput",Z2t="DescribeEndpoints",X2t="DescribeExportInput",eSt="DescribeExportOutput",tSt="DescribeEndpointsRequest",rSt="DescribeEndpointsResponse",nSt="DescribeExport",iSt="DeleteGlobalSecondaryIndexAction",oSt="DescribeGlobalTable",sSt="DescribeGlobalTableInput",aSt="DescribeGlobalTableOutput",cSt="DescribeGlobalTableSettings",lSt="DescribeGlobalTableSettingsInput",uSt="DescribeGlobalTableSettingsOutput",dSt="DeleteGlobalTableWitnessGroupMemberAction",pSt="DeleteItem",mSt="DuplicateItemException",fSt="DeleteItemInput",hSt="DescribeImportInput",gSt="DeleteItemOutput",ySt="DescribeImportOutput",bSt="DescribeImport",vSt="DescribeKinesisStreamingDestination",_St="DescribeKinesisStreamingDestinationInput",SSt="DescribeKinesisStreamingDestinationOutput",wSt="DisableKinesisStreamingDestination",xSt="DescribeLimits",ASt="DescribeLimitsInput",ESt="DescribeLimitsOutput",FZ="DeletionProtectionEnabled",yOe="DeleteRequest",RSt="DeleteReplicaAction",TSt="DeleteReplicationGroupMemberAction",ISt="DeleteResourcePolicy",CSt="DeleteResourcePolicyInput",OSt="DeleteResourcePolicyOutput",zZ="DestinationStatus",NSt="DestinationStatusDescription",bOe="DisableScaleIn",PSt="DeleteTable",kSt="DeleteTableInput",DSt="DescribeTableInput",MSt="DeleteTableOutput",$St="DescribeTableOutput",LSt="DescribeTableReplicaAutoScaling",BSt="DescribeTableReplicaAutoScalingInput",USt="DescribeTableReplicaAutoScalingOutput",FSt="DescribeTimeToLive",zSt="DescribeTimeToLiveInput",VSt="DescribeTimeToLiveOutput",jSt="DescribeTable",l2="Delete",qSt="Error",VZ="ExportArn",HSt="ExpectedAttributeMap",ol="ExpressionAttributeNames",Mp="ExpressionAttributeValues",WSt="ExpressionAttributeValueMap",GSt="ExpectedAttributeValue",KSt="ErrorCount",YSt="ExportConflictException",jZ="ExportDescription",JSt="ExceptionDescription",vOe="ExportFormat",QSt="ExportFromTime",qZ="EnableKinesisStreamingConfiguration",ZSt="EnableKinesisStreamingDestination",XSt="ExportManifest",ewt="ExceptionName",twt="ExportNotFoundException",rwt="EarliestRestorableDateTime",_Oe="ExpectedRevisionId",SOe="ExportStatus",nwt="ExclusiveStartBackupArn",iwt="ExclusiveStartGlobalTableName",owt="ExecuteStatementInput",wOe="ExclusiveStartKey",swt="ExecuteStatementOutput",awt="ExclusiveStartTableName",cwt="ExportSummary",lwt="ExecuteStatement",xOe="ExportSummaries",HZ="EndTime",uwt="ExecuteTransactionInput",dwt="ExecuteTransactionOutput",pwt="ExportToTime",mwt="ExportTableToPointInTime",fwt="ExportTableToPointInTimeInput",hwt="ExportTableToPointInTimeOutput",AOe="ExportTime",gwt="ExecuteTransaction",WZ="ExportType",ywt="ExportViewType",EOe="Endpoints",ROe="Enabled",bwt="Endpoint",GZ="Expected",vwt="Exists",TOe="FailureCode",_wt="FilterConditionMap",IOe="FailureException",COe="FilterExpression",OOe="FailureMessage",NOe="Get",Swt="GetItem",wwt="GetItemInput",xwt="GetItemOutput",Awt="GetResourcePolicy",Ewt="GetResourcePolicyInput",Rwt="GetResourcePolicyOutput",Zu="GlobalSecondaryIndexes",Twt="GlobalSecondaryIndexAutoScalingUpdate",Iwt="GlobalSecondaryIndexAutoScalingUpdateList",Cwt="GlobalSecondaryIndexDescription",Owt="GlobalSecondaryIndexDescriptionList",Nwt="GlobalSecondaryIndexInfo",Pwt="GlobalSecondaryIndexList",POe="GlobalSecondaryIndexOverride",kwt="GlobalSecondaryIndexUpdate",Dwt="GlobalSecondaryIndexUpdateList",kOe="GlobalSecondaryIndexUpdates",Mwt="GlobalSecondaryIndexWarmThroughputDescription",$wt="GlobalSecondaryIndex",Lwt="GlobalTable",Bwt="GlobalTableArn",Uwt="GlobalTableAlreadyExistsException",Fwt="GlobalTableBillingMode",GO="GlobalTableDescription",DOe="GlobalTableGlobalSecondaryIndexSettingsUpdate",zwt="GlobalTableGlobalSecondaryIndexSettingsUpdateList",Vwt="GlobalTableList",$p="GlobalTableName",jwt="GlobalTableNotFoundException",qwt="GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate",Hwt="GlobalTableProvisionedWriteCapacityUnits",Wwt="GlobalTableStatus",Gwt="GlobalTableVersion",Kwt="GlobalTableWitnesses",Ywt="GlobalTableWitnessDescription",Jwt="GlobalTableWitnessDescriptionList",Qwt="GlobalTableWitnessGroupUpdate",Zwt="GlobalTableWitnessGroupUpdateList",Xwt="GlobalTableWitnessUpdates",ext="GlobalTables",txt="HeaderList",Lp="Item",KZ="ImportArn",MOe="IndexArn",mE="ItemCount",rxt="ImportConflictException",nxt="ItemCollectionKey",ixt="ItemCollectionKeyAttributeMap",u2="ItemCollectionMetrics",oxt="ItemCollectionMetricsMultiple",sxt="ItemCollectionMetricsPerTable",axt="ItemCollectionSizeLimitExceededException",$Oe="InputCompressionType",cxt="InaccessibleEncryptionDateTime",lxt="InvalidEndpointException",YZ="IncrementalExportSpecification",uxt="InvalidExportTimeException",JZ="InputFormat",QZ="InputFormatOptions",dxt="ImportedItemCount",pxt="ItemList",Cn="IndexName",mxt="ImportNotFoundException",fxt="IndexNotFoundException",hxt="IdempotentParameterMismatchException",gxt="ItemResponse",yxt="ItemResponseList",bxt="InvalidRestoreTimeException",ZZ="IndexStatus",LOe="IndexSizeBytes",vxt="InternalServerError",BOe="ImportSummaryList",_xt="ImportSummary",UOe="ImportStatus",Sxt="ImportTable",XZ="ImportTableDescription",wxt="ImportTableInput",xxt="ImportTableOutput",eX="Items",Xu="Key",Axt="KeysAndAttributes",FOe="KeyConditions",Ext="KeyConditionExpression",zOe="KinesisDataStreamDestinations",Rxt="KinesisDataStreamDestination",Txt="KeyList",Ixt="KMSMasterKeyArn",KO="KMSMasterKeyId",sl="KeySchema",Cxt="KinesisStreamingDestinationInput",Oxt="KinesisStreamingDestinationOutput",Nxt="KeySchemaElement",Pxt="KeyType",kxt="Keys",d2="Limit",Dxt="ListAttributeValue",Mxt="ListBackups",$xt="ListBackupsInput",Lxt="ListBackupsOutput",Bxt="ListContributorInsights",Uxt="ListContributorInsightsInput",Fxt="ListContributorInsightsOutput",zxt="LastDecreaseDateTime",Vxt="ListExports",jxt="LastEvaluatedBackupArn",qxt="LimitExceededException",Hxt="LastEvaluatedGlobalTableName",Wxt="ListExportsInput",tX="LastEvaluatedKey",Gxt="ListExportsOutput",Kxt="LastEvaluatedTableName",Yxt="ListGlobalTables",Jxt="ListGlobalTablesInput",Qxt="ListGlobalTablesOutput",Zxt="ListImports",Xxt="LastIncreaseDateTime",e6t="ListImportsInput",t6t="ListImportsOutput",r6t="LatestRestorableDateTime",n6t="LatestStreamArn",fE="LocalSecondaryIndexes",i6t="LocalSecondaryIndexDescription",o6t="LocalSecondaryIndexDescriptionList",s6t="LocalSecondaryIndexInfo",a6t="LocalSecondaryIndexList",VOe="LocalSecondaryIndexOverride",c6t="LocalSecondaryIndex",l6t="LatestStreamLabel",u6t="ListTables",d6t="ListTablesInput",p6t="ListTablesOutput",m6t="ListTagsOfResource",f6t="ListTagsOfResourceInput",h6t="ListTagsOfResourceOutput",jOe="LastUpdateDateTime",g6t="LastUpdateToPayPerRequestDateTime",y6t="L",p2="Message",b6t="MapAttributeValue",qOe="MaxResults",HOe="MultiRegionConsistency",WOe="MaxReadRequestUnits",GOe="MinimumUnits",KOe="MaximumUnits",v6t="MaxWriteRequestUnits",_6t="M",S6t="N",w6t="NonKeyAttributes",x6t="NumberOfDecreasesToday",A6t="NS",ed="NextToken",E6t="NULL",Ql="OnDemandThroughput",sh="OnDemandThroughputOverride",rX="Parameters",hE="ProjectionExpression",R6t="PutItem",T6t="ProcessedItemCount",I6t="PutItemInput",C6t="PutItemInputAttributeMap",O6t="PutItemOutput",YOe="PointInTimeRecoveryDescription",N6t="PointInTimeRecoveryEnabled",P6t="PointInTimeRecoveryStatus",JOe="PointInTimeRecoverySpecification",k6t="PointInTimeRecoveryUnavailableException",QOe="PolicyName",D6t="PolicyNotFoundException",M6t="PartiQLBatchRequest",$6t="PartiQLBatchResponse",ZOe="PutRequest",XOe="ProvisionedReadCapacityAutoScalingSettings",L6t="ProvisionedReadCapacityAutoScalingSettingsUpdate",B6t="ProvisionedReadCapacityAutoScalingUpdate",eNe="ProvisionedReadCapacityUnits",U6t="PutResourcePolicy",F6t="PutResourcePolicyInput",z6t="PutResourcePolicyOutput",V6t="PageSize",j6t="ProcessedSizeBytes",q6t="PreparedStatementParameters",H6t="ParameterizedStatement",W6t="ParameterizedStatements",Zl="ProvisionedThroughput",G6t="ProvisionedThroughputDescription",K6t="ProvisionedThroughputExceededException",ah="ProvisionedThroughputOverride",Y6t="ProjectionType",tNe="ProvisionedWriteCapacityAutoScalingSettings",J6t="ProvisionedWriteCapacityAutoScalingSettingsUpdate",rNe="ProvisionedWriteCapacityAutoScalingUpdate",nNe="ProvisionedWriteCapacityUnits",iNe="Policy",ch="Projection",oNe="Put",Q6t="Query",Z6t="QueryFilter",X6t="QueryInput",e4t="QueryOutput",YO="Responses",m2="ResourceArn",t4t="ReplicaAlreadyExistsException",r4t="ReplicaAutoScalingDescription",n4t="ReplicaAutoScalingDescriptionList",i4t="ReplicaAutoScalingUpdate",o4t="ReplicaAutoScalingUpdateList",s4t="ReplicaBillingModeSummary",Va="ReturnConsumedCapacity",gE="ReadCapacityUnits",a4t="ReplicaDescription",c4t="ReplicaDescriptionList",sNe="RestoreDateTime",nX="ReplicationGroup",l4t="ReplicaGlobalSecondaryIndex",u4t="ReplicaGlobalSecondaryIndexAutoScalingDescription",d4t="ReplicaGlobalSecondaryIndexAutoScalingDescriptionList",p4t="ReplicaGlobalSecondaryIndexAutoScalingUpdate",m4t="ReplicaGlobalSecondaryIndexAutoScalingUpdateList",f4t="ReplicaGlobalSecondaryIndexDescription",h4t="ReplicaGlobalSecondaryIndexDescriptionList",g4t="ReplicaGlobalSecondaryIndexList",y4t="ReplicaGlobalSecondaryIndexSettings",b4t="ReplicaGlobalSecondaryIndexSettingsDescription",v4t="ReplicaGlobalSecondaryIndexSettingsDescriptionList",aNe="ReplicaGlobalSecondaryIndexSettingsUpdate",_4t="ReplicaGlobalSecondaryIndexSettingsUpdateList",S4t="ReplicaGlobalSecondaryIndexUpdates",w4t="ReplicationGroupUpdate",x4t="ReplicationGroupUpdateList",cNe="RequestItems",yE="ReturnItemCollectionMetrics",A4t="ReplicaInaccessibleDateTime",E4t="RestoreInProgress",R4t="ResourceInUseException",iX="RevisionId",T4t="ReplicaList",I4t="RequestLimitExceeded",vs="RegionName",C4t="ReplicaNotFoundException",O4t="ResourceNotFoundException",N4t="ResourcePolicy",lNe="RecoveryPeriodInDays",uNe="ReplicaProvisionedReadCapacityAutoScalingSettings",P4t="ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate",k4t="ReplicaProvisionedReadCapacityAutoScalingUpdate",dNe="ReplicaProvisionedReadCapacityUnits",pNe="ReplicaProvisionedWriteCapacityAutoScalingSettings",D4t="ReplicaProvisionedWriteCapacityUnits",mNe="ReplicaSettings",M4t="ReplicaStatusDescription",$4t="ReplicaSettingsDescriptionList",L4t="ReplicaSettingsDescription",B4t="ReplicaStatusPercentProgress",fNe="ReplicaSettingsUpdate",U4t="ReplicaSettingsUpdateList",oX="ReplicaStatus",hNe="RestoreSummary",F4t="ReplicaTableClass",gNe="ReplicaTableClassSummary",z4t="RestoreTableFromBackup",V4t="RestoreTableFromBackupInput",j4t="RestoreTableFromBackupOutput",q4t="RestoreTableToPointInTime",H4t="RestoreTableToPointInTimeInput",W4t="RestoreTableToPointInTimeOutput",G4t="ReplicaUpdate",K4t="ReplicaUpdateList",sX="ReadUnitsPerSecond",aX="ReplicaUpdates",cX="ReturnValues",td="ReturnValuesOnConditionCheckFailure",Y4t="ReplicatedWriteConflictException",J4t="Replica",yNe="Replicas",Q4t="Statements",bE="StreamArn",lX="S3Bucket",Z4t="SourceBackupArn",uX="S3BucketOwner",JO="S3BucketSource",bNe="ScannedCount",X4t="StreamDescription",eAt="StreamEnabled",tAt="SizeEstimateRangeGB",rAt="ScanFilter",nAt="ScanInput",vNe="ScaleInCooldown",iAt="SecondaryIndexesCapacityMap",oAt="ScanIndexForward",sAt="S3KeyPrefix",aAt="ScanOutput",_Ne="ScaleOutCooldown",cAt="ScalingPolicies",lAt="ScalingPolicyUpdate",SNe="S3Prefix",QO="StreamSpecification",wNe="S3SseAlgorithm",dX="SSEDescription",ZO="SSESpecification",xNe="SSESpecificationOverride",ANe="SSEType",ENe="S3SseKmsKeyId",uAt="SS",pX="StartTime",RNe="SourceTableArn",TNe="SourceTableDetails",INe="SourceTableFeatureDetails",dAt="SourceTableName",pAt="StreamViewType",mAt="S",fAt="Scan",CNe="Select",hAt="Segment",mX="Statement",fX="Status",ONe="Table",Bp="TableArn",gAt="TableAlreadyExistsException",hX="TableAutoScalingDescription",gX="TableClass",yAt="TableCreationDateTime",bAt="TransactionCanceledException",vAt="TransactionConflictException",NNe="TableClassOverride",yX="TableCreationParameters",PNe="TableClassSummary",f2="TableDescription",_At="ThrottlingException",SAt="TransactGetItem",wAt="TransactGetItemsInput",xAt="TransactGetItemList",AAt="TransactGetItemsOutput",EAt="TransactGetItems",vE="TableId",RAt="TransactionInProgressException",TAt="TableInUseException",kNe="TransactItems",IAt="TagKeys",CAt="TagList",OAt="TableMaxReadCapacityUnits",NAt="TableMaxWriteCapacityUnits",Qt="TableName",PAt="TableNotFoundException",kAt="TableNames",DNe="ThrottlingReasons",DAt="TagResourceInput",MAt="ThrottlingReasonList",$At="TimeRangeLowerBound",LAt="TimeRangeUpperBound",BAt="TagResource",UAt="ThrottlingReason",FAt="TransactStatements",MNe="TableSizeBytes",$Ne="TableStatus",zAt="TotalSegments",bX="TimeToLiveDescription",VAt="TimeToLiveStatus",vX="TimeToLiveSpecification",LNe="TargetTableName",BNe="TargetTrackingScalingPolicyConfiguration",UNe="TargetValue",jAt="TransactWriteItem",qAt="TransactWriteItemsInput",HAt="TransactWriteItemList",WAt="TransactWriteItemsOutput",GAt="TransactWriteItems",KAt="TableWarmThroughputDescription",_X="Tags",YAt="Tag",XO="Update",JAt="UpdateContinuousBackups",QAt="UpdateContinuousBackupsInput",ZAt="UpdateContinuousBackupsOutput",XAt="UpdateContributorInsights",eEt="UpdateContributorInsightsInput",tEt="UpdateContributorInsightsOutput",FNe="UpdateExpression",rEt="UpdateGlobalSecondaryIndexAction",nEt="UpdateGlobalTable",iEt="UpdateGlobalTableInput",oEt="UpdateGlobalTableOutput",sEt="UpdateGlobalTableSettings",aEt="UpdateGlobalTableSettingsInput",cEt="UpdateGlobalTableSettingsOutput",lEt="UnprocessedItems",uEt="UpdateItemInput",dEt="UpdateItemOutput",pEt="UpdateItem",mEt="UnprocessedKeys",SX="UpdateKinesisStreamingConfiguration",fEt="UpdateKinesisStreamingDestination",hEt="UpdateKinesisStreamingDestinationInput",gEt="UpdateKinesisStreamingDestinationOutput",yEt="UseLatestRestorableTime",bEt="UntagResource",vEt="UpdateReplicationGroupMemberAction",_Et="UntagResourceInput",SEt="UpdateTable",wEt="UpdateTableInput",xEt="UpdateTableOutput",AEt="UpdateTableReplicaAutoScaling",EEt="UpdateTableReplicaAutoScalingInput",REt="UpdateTableReplicaAutoScalingOutput",TEt="UpdateTimeToLive",IEt="UpdateTimeToLiveInput",CEt="UpdateTimeToLiveOutput",wX="Value",eN="WriteCapacityUnits",OEt="WriteRequest",NEt="WriteRequests",PEt="WitnessStatus",rd="WarmThroughput",xX="WriteUnitsPerSecond",kEt="awsQueryError",_r="client",yr="error",zNe="httpError",DEt="httpHeader",Rr="message",MEt="reason",$Et="resource",LEt="server",VNe="smithy.ts.sdk.synthetic.com.amazonaws.dynamodb",BEt="throttlingReasons",UEt="x-amz-confirm-remove-self-resource-access",M="com.amazonaws.dynamodb",jNe=[3,M,Q7e,0,[E_t,C_t,x_t],[4,0,0]],qNe=[3,M,A_t,0,[VO,L_t],[0,0],2],HNe=[3,M,U_t,0,[wX,w_t],[()=>al,0]],WNe=[3,M,O_t,0,[QOe,BNe],[0,()=>KNe]],GNe=[3,M,P_t,0,[BNe,QOe],[()=>YNe,0],1],Dp=[3,M,k_t,0,[GOe,KOe,Z7e,X7e,cAt],[1,1,2,0,()=>FEt]],Up=[3,M,D_t,0,[GOe,KOe,Z7e,X7e,lAt],[1,1,2,0,()=>GNe]],KNe=[3,M,M_t,0,[UNe,bOe,vNe,_Ne],[1,2,1,1],1],YNe=[3,M,$_t,0,[UNe,bOe,vNe,_Ne],[1,2,1,1],1],AX=[3,M,DZ,0,[MZ,TNe,INe],[()=>EX,()=>sMe,()=>aMe]],EX=[3,M,MZ,0,[uE,$Z,oOe,LZ,tOe,sOe,rOe],[0,0,0,0,4,1,4],5],JNe=[-3,M,J_t,{[yr]:_r},[Rr],[0]];Ie.for(M).registerError(JNe,IA);QNe=[-3,M,Q_t,{[yr]:_r},[Rr],[0]];Ie.for(M).registerError(QNe,CA);ZNe=[3,M,i2t,0,[Qt,vE,Bp,uE,$Z,tOe,rOe,oOe,LZ,sOe],[0,0,0,0,0,4,4,0,0,1]],XNe=[3,M,j_t,0,[Q4t,Va],[()=>c3t,0],1],ePe=[3,M,q_t,0,[YO,oa],[()=>l3t,()=>v2]],tPe=[3,M,W_t,0,[cNe,Va],[()=>t$e,0],1],rPe=[3,M,G_t,0,[YO,mEt,oa],[()=>A3t,()=>t$e,()=>v2]],nPe=[3,M,e2t,0,[cOe,p2,Lp],[0,0,()=>nd]],iPe=[3,M,t2t,0,[mX,rX,c2,td],[0,()=>GX,2,0],1],oPe=[3,M,r2t,0,[qSt,Qt,Lp],[()=>nPe,0,()=>nd]],sPe=[3,M,s2t,0,[cNe,Va,yE],[()=>r$e,0,0],1],aPe=[3,M,a2t,0,[lEt,u2,oa],[()=>r$e,()=>i$e,()=>v2]],RX=[3,M,iOe,0,[dE,g6t],[0,4]],cPe=[3,M,N2t,0,[Lp,cOe,p2],[()=>nd,0,0]],TX=[3,M,$2t,0,[gE,eN,fOe],[1,1,1]],IX=[3,M,L2t,0,[pOe,PZ],[0,()=>YMe],1],lPe=[-3,M,h2t,{[yr]:_r},[Rr,Lp],[0,()=>nd]];Ie.for(M).registerError(lPe,aE);uPe=[3,M,lOe,0,[Xu,Qt,c1,ol,Mp,td],[()=>sa,0,0,128,()=>zp,0],3],Fp=[3,M,oa,0,[Qt,fOe,gE,eN,ONe,fE,Zu],[0,1,1,1,()=>TX,()=>J7e,()=>J7e]],CX=[3,M,BZ,0,[m2t,YOe],[0,()=>_De],1],dPe=[-3,M,f2t,{[yr]:_r},[Rr],[0]];Ie.for(M).registerError(dPe,BA);pPe=[3,M,A2t,0,[Qt,Cn,UZ,qO],[0,0,0,0]],mPe=[3,M,d2t,0,[Qt,$Z],[0,0],2],fPe=[3,M,p2t,0,[MZ],[()=>EX]],hPe=[3,M,y2t,0,[Cn,sl,ch,Zl,Ql,rd],[0,()=>eu,()=>lh,()=>Xl,()=>ja,()=>b2],3],gPe=[3,M,v2t,0,[$p,nX],[0,()=>XMe],2],yPe=[3,M,_2t,0,[GO],[()=>tN]],bPe=[3,M,S2t,0,[vs],[0],1],vPe=[3,M,T2t,0,[vs],[0],1],_Pe=[3,M,I2t,0,[vs,KO,ah,sh,Zu,NNe],[0,0,()=>g2,()=>h2,()=>ZMe,0],1],SPe=[3,M,k2t,0,[lE,Qt,sl,fE,Zu,dE,Zl,QO,ZO,_X,gX,FZ,rd,N4t,Ql],[()=>iN,0,()=>eu,()=>WX,()=>oN,0,()=>Xl,()=>SE,()=>y2,()=>KX,0,2,()=>b2,0,()=>ja],3],wPe=[3,M,D2t,0,[f2],[()=>l1]],xPe=[3,M,E2t,0,[U2t,txt],[0,64]],APe=[3,M,l2,0,[Xu,Qt,c1,ol,Mp,td],[()=>sa,0,0,128,()=>zp,0],2],EPe=[3,M,z2t,0,[uE],[0],1],RPe=[3,M,j2t,0,[DZ],[()=>AX]],TPe=[3,M,iSt,0,[Cn],[0],1],IPe=[3,M,dSt,0,[vs],[0],1],CPe=[3,M,fSt,0,[Qt,Xu,GZ,pE,cX,Va,yE,c1,ol,Mp,td],[0,()=>sa,()=>JX,0,0,0,0,0,128,()=>zp,0],2],OPe=[3,M,gSt,0,[kZ,oa,u2],[()=>nd,()=>Fp,()=>_E]],NPe=[3,M,RSt,0,[vs],[0],1],PPe=[3,M,TSt,0,[vs],[0],1],kPe=[3,M,yOe,0,[Xu],[()=>sa],1],DPe=[3,M,CSt,0,[m2,_Oe],[0,0],1],MPe=[3,M,OSt,0,[iX],[0]],$Pe=[3,M,kSt,0,[Qt],[0],1],LPe=[3,M,MSt,0,[f2],[()=>l1]],BPe=[3,M,V2t,0,[uE],[0],1],UPe=[3,M,q2t,0,[DZ],[()=>AX]],FPe=[3,M,G2t,0,[Qt],[0],1],zPe=[3,M,K2t,0,[BZ],[()=>CX]],VPe=[3,M,J2t,0,[Qt,Cn],[0,0],1],jPe=[3,M,Q2t,0,[Qt,Cn,x2t,UZ,jOe,IOe,qO],[0,0,64,0,4,()=>wke,0]],qPe=[3,M,tSt,0,[],[]],HPe=[3,M,rSt,0,[EOe],[()=>qEt],1],WPe=[3,M,X2t,0,[VZ],[0],1],GPe=[3,M,eSt,0,[jZ],[()=>NX]],KPe=[3,M,sSt,0,[$p],[0],1],YPe=[3,M,aSt,0,[GO],[()=>tN]],JPe=[3,M,lSt,0,[$p],[0],1],QPe=[3,M,uSt,0,[$p,mNe],[0,()=>e$e]],ZPe=[3,M,hSt,0,[KZ],[0],1],XPe=[3,M,ySt,0,[XZ],[()=>kX],1],eke=[3,M,_St,0,[Qt],[0],1],tke=[3,M,SSt,0,[Qt,zOe],[0,()=>n3t]],rke=[3,M,ASt,0,[],[]],nke=[3,M,ESt,0,[T_t,I_t,OAt,NAt],[1,1,1,1]],ike=[3,M,DSt,0,[Qt],[0],1],oke=[3,M,$St,0,[ONe],[()=>l1]],ske=[3,M,BSt,0,[Qt],[0],1],ake=[3,M,USt,0,[hX],[()=>FX]],cke=[3,M,zSt,0,[Qt],[0],1],lke=[3,M,VSt,0,[bX],[()=>jX]],uke=[-3,M,mSt,{[yr]:_r},[Rr],[0]];Ie.for(M).registerError(uke,YA);OX=[3,M,qZ,0,[NZ],[0]],dke=[3,M,bwt,0,[F_t,R2t],[0,1],2],pke=[3,M,owt,0,[mX,rX,c2,ed,Va,d2,td],[0,()=>GX,2,0,0,1,0],1],mke=[3,M,swt,0,[eX,ed,oa,tX],[()=>sN,0,()=>Fp,()=>sa]],fke=[3,M,uwt,0,[FAt,mOe,Va],[()=>a3t,[0,4],0],1],hke=[3,M,dwt,0,[YO,oa],[()=>JMe,()=>v2]],gke=[3,M,GSt,0,[wX,vwt,pOe,PZ],[()=>al,2,0,()=>YMe]],yke=[-3,M,YSt,{[yr]:_r},[Rr],[0]];Ie.for(M).registerError(yke,ZA);NX=[3,M,jZ,0,[VZ,SOe,pX,HZ,XSt,Bp,vE,AOe,HO,lX,uX,SNe,wNe,ENe,TOe,OOe,vOe,X_t,mE,WZ,YZ],[0,0,4,4,0,0,0,4,0,0,0,0,0,0,0,0,0,1,1,0,()=>DX]],bke=[-3,M,twt,{[yr]:_r},[Rr],[0]];Ie.for(M).registerError(bke,WA);vke=[3,M,cwt,0,[VZ,SOe,WZ],[0,0,0]],_ke=[3,M,fwt,0,[Bp,lX,AOe,HO,uX,SNe,wNe,ENe,vOe,WZ,YZ],[0,0,4,[0,4],0,0,0,0,0,0,()=>DX],2],Ske=[3,M,hwt,0,[jZ],[()=>NX]],wke=[3,M,IOe,0,[ewt,JSt],[0,0]],xke=[3,M,NOe,0,[Xu,Qt,hE,ol],[()=>sa,0,0,128],2],Ake=[3,M,wwt,0,[Qt,Xu,jO,c2,Va,hE,ol],[0,()=>sa,64,2,0,0,128],2],Eke=[3,M,xwt,0,[Lp,oa],[()=>nd,()=>Fp]],Rke=[3,M,Ewt,0,[m2],[0],1],Tke=[3,M,Rwt,0,[iNe,iX],[0,0]],Ike=[3,M,$wt,0,[Cn,sl,ch,Zl,Ql,rd],[0,()=>eu,()=>lh,()=>Xl,()=>ja,()=>b2],3],Cke=[3,M,Twt,0,[Cn,rNe],[0,()=>Up]],Oke=[3,M,Cwt,0,[Cn,sl,ch,ZZ,z_t,Zl,LOe,mE,MOe,Ql,rd],[0,()=>eu,()=>lh,0,2,()=>BX,1,1,0,()=>ja,()=>PX]],Nke=[3,M,Nwt,0,[Cn,sl,ch,Zl,Ql],[0,()=>eu,()=>lh,()=>Xl,()=>ja]],Pke=[3,M,kwt,0,[XO,WO,l2],[()=>OMe,()=>hPe,()=>TPe]],PX=[3,M,Mwt,0,[sX,xX,fX],[1,1,0]],kke=[3,M,Lwt,0,[$p,nX],[0,()=>XMe]],Dke=[-3,M,Uwt,{[yr]:_r},[Rr],[0]];Ie.for(M).registerError(Dke,VA);tN=[3,M,GO,0,[nX,Bwt,uOe,Wwt,$p],[()=>QMe,0,4,0,0]],Mke=[3,M,DOe,0,[Cn,nNe,J6t],[0,1,()=>Up],1],$ke=[-3,M,jwt,{[yr]:_r},[Rr],[0]];Ie.for(M).registerError($ke,GA);Lke=[3,M,Ywt,0,[vs,PEt],[0,0]],Bke=[3,M,Qwt,0,[WO,l2],[()=>bPe,()=>IPe]],Uke=[-3,M,hxt,{[yr]:_r},[p2],[0]];Ie.for(M).registerError(Uke,JA);Fke=[-3,M,rxt,{[yr]:_r},[Rr],[0]];Ie.for(M).registerError(Fke,tE);zke=[-3,M,mxt,{[yr]:_r},[Rr],[0]];Ie.for(M).registerError(zke,KA);Vke=[3,M,_xt,0,[KZ,UOe,Bp,JO,hOe,JZ,pX,HZ],[0,0,0,()=>rN,0,0,4,4]],kX=[3,M,XZ,0,[KZ,UOe,Bp,vE,HO,JO,KSt,hOe,JZ,QZ,$Oe,yX,pX,HZ,j6t,T6t,dxt,TOe,OOe],[0,0,0,0,0,()=>rN,1,0,0,()=>MX,0,()=>zX,4,4,1,1,1,0,0]],jke=[3,M,wxt,0,[JO,JZ,yX,HO,QZ,$Oe],[()=>rN,0,()=>zX,[0,4],()=>MX,0],3],qke=[3,M,xxt,0,[XZ],[()=>kX],1],DX=[3,M,YZ,0,[QSt,pwt,ywt],[4,4,0]],Hke=[-3,M,fxt,{[yr]:_r},[Rr],[0]];Ie.for(M).registerError(Hke,sE);MX=[3,M,QZ,0,[B2t],[()=>xPe]],Wke=[-3,M,vxt,{[yr]:LEt},[Rr],[0]];Ie.for(M).registerError(Wke,OA);Gke=[-3,M,lxt,{[yr]:_r,[zNe]:421},[p2],[0]];Ie.for(M).registerError(Gke,kA);Kke=[-3,M,uxt,{[yr]:_r},[Rr],[0]];Ie.for(M).registerError(Kke,XA);Yke=[-3,M,bxt,{[yr]:_r},[Rr],[0]];Ie.for(M).registerError(Yke,nE);_E=[3,M,u2,0,[nxt,tAt],[()=>E3t,65]],Jke=[-3,M,axt,{[yr]:_r},[Rr],[0]];Ie.for(M).registerError(Jke,$A);Qke=[3,M,gxt,0,[Lp],[()=>nd]],Zke=[3,M,Axt,0,[kxt,jO,c2,hE,ol],[()=>r3t,64,2,0,128],1],Xke=[3,M,Nxt,0,[VO,Pxt],[0,0],2],eDe=[3,M,Rxt,0,[bE,zZ,NSt,NZ],[0,0,0,0]],$X=[3,M,Cxt,0,[Qt,bE,qZ],[0,0,()=>OX],2],LX=[3,M,Oxt,0,[Qt,bE,zZ,qZ],[0,0,0,()=>OX]],tDe=[-3,M,qxt,{[yr]:_r},[Rr],[0]];Ie.for(M).registerError(tDe,UA);rDe=[3,M,$xt,0,[Qt,d2,$At,LAt,nwt,LZ],[0,1,4,4,0,0]],nDe=[3,M,Lxt,0,[aOe,jxt],[()=>zEt,0]],iDe=[3,M,Uxt,0,[Qt,ed,qOe],[0,0,1]],oDe=[3,M,Fxt,0,[dOe,ed],[()=>jEt,0]],sDe=[3,M,Wxt,0,[Bp,qOe,ed],[0,1,0]],aDe=[3,M,Gxt,0,[xOe,ed],[()=>HEt,0]],cDe=[3,M,Jxt,0,[iwt,d2,vs],[0,1,0]],lDe=[3,M,Qxt,0,[ext,Hxt],[()=>QEt,0]],uDe=[3,M,e6t,0,[Bp,V6t,ed],[0,1,0]],dDe=[3,M,t6t,0,[BOe,ed],[()=>e3t,0]],pDe=[3,M,d6t,0,[awt,d2],[0,1]],mDe=[3,M,p6t,0,[kAt,Kxt],[64,0]],fDe=[3,M,f6t,0,[m2,ed],[0,0],1],hDe=[3,M,h6t,0,[_X,ed],[()=>KX,0]],gDe=[3,M,c6t,0,[Cn,sl,ch],[0,()=>eu,()=>lh],3],yDe=[3,M,i6t,0,[Cn,sl,ch,LOe,mE,MOe],[0,()=>eu,()=>lh,1,1,0]],bDe=[3,M,s6t,0,[Cn,sl,ch],[0,()=>eu,()=>lh]],ja=[3,M,Ql,0,[WOe,v6t],[1,1]],h2=[3,M,sh,0,[WOe],[1]],vDe=[3,M,H6t,0,[mX,rX,td],[0,()=>GX,0],1],_De=[3,M,YOe,0,[P6t,lNe,rwt,r6t],[0,1,4,4]],SDe=[3,M,JOe,0,[N6t,lNe],[2,1],1],wDe=[-3,M,k6t,{[yr]:_r},[Rr],[0]];Ie.for(M).registerError(wDe,eE);xDe=[-3,M,D6t,{[yr]:_r},[Rr],[0]];Ie.for(M).registerError(xDe,HA);lh=[3,M,ch,0,[Y6t,w6t],[0,64]],Xl=[3,M,Zl,0,[gE,eN],[1,1],2],BX=[3,M,G6t,0,[Xxt,zxt,x6t,gE,eN],[4,4,1,1,1]],ADe=[-3,M,K6t,{[yr]:_r},[Rr,DNe],[0,()=>YX]];Ie.for(M).registerError(ADe,DA);g2=[3,M,ah,0,[gE],[1]],EDe=[3,M,oNe,0,[Lp,Qt,c1,ol,Mp,td],[()=>QX,0,0,128,()=>zp,0],2],RDe=[3,M,I6t,0,[Qt,Lp,GZ,cX,Va,yE,pE,c1,ol,Mp,td],[0,()=>QX,()=>JX,0,0,0,0,0,128,()=>zp,0],2],TDe=[3,M,O6t,0,[kZ,oa,u2],[()=>nd,()=>Fp,()=>_E]],IDe=[3,M,ZOe,0,[Lp],[()=>QX],1],CDe=[3,M,F6t,0,[m2,iNe,_Oe,O2t],[0,0,0,[2,{[DEt]:UEt}]],2],ODe=[3,M,z6t,0,[iX],[0]],NDe=[3,M,X6t,0,[Qt,Cn,CNe,jO,d2,c2,FOe,Z6t,pE,oAt,wOe,Va,hE,COe,Ext,ol,Mp],[0,0,0,64,1,2,()=>R3t,()=>n$e,0,2,()=>sa,0,0,0,0,128,()=>zp],1],PDe=[3,M,e4t,0,[eX,gOe,bNe,tX,oa],[()=>sN,1,1,()=>sa,()=>Fp]],kDe=[3,M,J4t,0,[vs],[0]],DDe=[-3,M,t4t,{[yr]:_r},[Rr],[0]];Ie.for(M).registerError(DDe,iE);MDe=[3,M,r4t,0,[vs,Zu,uNe,pNe,oX],[0,()=>p3t,()=>Dp,()=>Dp,0]],$De=[3,M,i4t,0,[vs,S4t,k4t],[0,()=>m3t,()=>Up],1],LDe=[3,M,a4t,0,[vs,oX,M4t,B4t,KO,ah,sh,rd,Zu,A4t,gNe],[0,0,0,0,0,()=>g2,()=>h2,()=>VX,()=>f3t,4,()=>nN]],BDe=[3,M,l4t,0,[Cn,ah,sh],[0,()=>g2,()=>h2],1],UDe=[3,M,u4t,0,[Cn,ZZ,XOe,tNe],[0,0,()=>Dp,()=>Dp]],FDe=[3,M,p4t,0,[Cn,B6t],[0,()=>Up]],zDe=[3,M,f4t,0,[Cn,ah,sh,rd],[0,()=>g2,()=>h2,()=>PX]],VDe=[3,M,b4t,0,[Cn,ZZ,eNe,XOe,nNe,tNe],[0,0,1,()=>Dp,1,()=>Dp],1],jDe=[3,M,aNe,0,[Cn,eNe,L6t],[0,1,()=>Up],1],qDe=[-3,M,C4t,{[yr]:_r},[Rr],[0]];Ie.for(M).registerError(qDe,oE);HDe=[3,M,L4t,0,[vs,oX,s4t,dNe,uNe,D4t,pNe,y4t,gNe],[0,0,()=>RX,1,()=>Dp,1,()=>Dp,()=>h3t,()=>nN],1],WDe=[3,M,fNe,0,[vs,dNe,P4t,aNe,F4t],[0,1,()=>Up,()=>g3t,0],1],GDe=[-3,M,Y4t,{[yr]:_r},[Rr],[0]];Ie.for(M).registerError(GDe,LA);KDe=[3,M,w4t,0,[WO,XO,l2],[()=>_Pe,()=>UMe,()=>PPe]],YDe=[3,M,G4t,0,[WO,l2],[()=>vPe,()=>NPe]],JDe=[-3,M,I4t,{[yr]:_r},[Rr,DNe],[0,()=>YX]];Ie.for(M).registerError(JDe,NA);QDe=[-3,M,R4t,{[yr]:_r},[Rr],[0]];Ie.for(M).registerError(QDe,jA);ZDe=[-3,M,O4t,{[yr]:_r},[Rr],[0]];Ie.for(M).registerError(ZDe,MA);XDe=[3,M,hNe,0,[sNe,E4t,Z4t,RNe],[4,2,0,0],2],eMe=[3,M,V4t,0,[LNe,uE,nOe,POe,VOe,ah,sh,xNe],[0,0,0,()=>oN,()=>WX,()=>Xl,()=>ja,()=>y2],2],tMe=[3,M,j4t,0,[f2],[()=>l1]],rMe=[3,M,H4t,0,[LNe,RNe,dAt,yEt,sNe,nOe,POe,VOe,ah,sh,xNe],[0,0,0,2,4,0,()=>oN,()=>WX,()=>Xl,()=>ja,()=>y2],1],nMe=[3,M,W4t,0,[f2],[()=>l1]],rN=[3,M,JO,0,[lX,uX,sAt],[0,0,0],1],iMe=[3,M,nAt,0,[Qt,Cn,jO,d2,CNe,rAt,pE,wOe,Va,zAt,hAt,hE,COe,ol,Mp,c2],[0,0,64,1,0,()=>n$e,0,()=>sa,0,1,1,0,0,128,()=>zp,2],1],oMe=[3,M,aAt,0,[eX,gOe,bNe,tX,oa],[()=>sN,1,1,()=>sa,()=>Fp]],sMe=[3,M,TNe,0,[Qt,vE,sl,yAt,Zl,Bp,MNe,Ql,mE,dE],[0,0,()=>eu,4,()=>Xl,0,1,()=>ja,1,0],5],aMe=[3,M,INe,0,[fE,Zu,X4t,bX,dX],[()=>s3t,()=>KEt,()=>SE,()=>jX,()=>UX]],UX=[3,M,dX,0,[fX,ANe,Ixt,cxt],[0,0,0,4]],y2=[3,M,ZO,0,[ROe,ANe,KO],[2,0,0]],SE=[3,M,QO,0,[eAt,pAt],[2,0],1],cMe=[-3,M,gAt,{[yr]:_r},[Rr],[0]];Ie.for(M).registerError(cMe,rE);FX=[3,M,hX,0,[Qt,$Ne,yNe],[0,0,()=>u3t]],nN=[3,M,PNe,0,[gX,jOe],[0,4]],zX=[3,M,yX,0,[Qt,lE,sl,dE,Zl,Ql,ZO,Zu],[0,()=>iN,()=>eu,0,()=>Xl,()=>ja,()=>y2,()=>oN],3],l1=[3,M,f2,0,[lE,Qt,sl,$Ne,uOe,Zl,MNe,mE,Bp,vE,iOe,fE,Zu,QO,l6t,n6t,Gwt,yNe,Kwt,hNe,dX,Q7e,PNe,FZ,Ql,rd,HOe],[()=>iN,0,()=>eu,0,4,()=>BX,1,1,0,0,()=>RX,()=>o3t,()=>GEt,()=>SE,0,0,0,()=>QMe,()=>ZEt,()=>XDe,()=>UX,()=>jNe,()=>nN,2,()=>ja,()=>VX,0]],lMe=[-3,M,TAt,{[yr]:_r},[Rr],[0]];Ie.for(M).registerError(lMe,FA);uMe=[-3,M,PAt,{[yr]:_r},[Rr],[0]];Ie.for(M).registerError(uMe,zA);VX=[3,M,KAt,0,[sX,xX,fX],[1,1,0]],dMe=[3,M,YAt,0,[Xu,wX],[0,0],2],pMe=[3,M,DAt,0,[m2,_X],[0,()=>KX],2],mMe=[-3,M,_At,{[kEt]:["Throttling",400],[yr]:_r,[zNe]:400},[Rr,BEt],[0,()=>YX]];Ie.for(M).registerError(mMe,PA);fMe=[3,M,UAt,0,[MEt,$Et],[0,0]],jX=[3,M,bX,0,[VAt,VO],[0,0]],qX=[3,M,vX,0,[ROe,VO],[2,0],2],hMe=[3,M,SAt,0,[NOe],[()=>xke],1],gMe=[3,M,wAt,0,[kNe,Va],[()=>_3t,0],1],yMe=[3,M,AAt,0,[oa,YO],[()=>v2,()=>JMe]],bMe=[-3,M,bAt,{[yr]:_r},[p2,P2t],[0,()=>VEt]];Ie.for(M).registerError(bMe,cE);vMe=[-3,M,vAt,{[yr]:_r},[Rr],[0]];Ie.for(M).registerError(vMe,qA);_Me=[-3,M,RAt,{[yr]:_r},[p2],[0]];Ie.for(M).registerError(_Me,QA);SMe=[3,M,jAt,0,[lOe,oNe,l2,XO],[()=>uPe,()=>EDe,()=>APe,()=>EMe]],wMe=[3,M,qAt,0,[kNe,Va,yE,mOe],[()=>S3t,0,0,[0,4]],1],xMe=[3,M,WAt,0,[oa,u2],[()=>v2,()=>i$e]],AMe=[3,M,_Et,0,[m2,IAt],[0,64],2],EMe=[3,M,XO,0,[Xu,FNe,Qt,c1,ol,Mp,td],[()=>sa,0,0,0,128,()=>zp,0],3],RMe=[3,M,QAt,0,[Qt,JOe],[0,()=>SDe],2],TMe=[3,M,ZAt,0,[BZ],[()=>CX]],IMe=[3,M,eEt,0,[Qt,w2t,Cn,qO],[0,0,0,0],2],CMe=[3,M,tEt,0,[Qt,Cn,UZ,qO],[0,0,0,0]],OMe=[3,M,rEt,0,[Cn,Zl,Ql,rd],[0,()=>Xl,()=>ja,()=>b2],1],NMe=[3,M,iEt,0,[$p,aX],[0,()=>v3t],2],PMe=[3,M,oEt,0,[GO],[()=>tN]],kMe=[3,M,aEt,0,[$p,Fwt,Hwt,qwt,DOe,fNe],[0,0,1,()=>Up,()=>JEt,()=>y3t],1],DMe=[3,M,cEt,0,[$p,mNe],[0,()=>e$e]],MMe=[3,M,uEt,0,[Qt,Xu,eOe,GZ,pE,cX,Va,yE,FNe,c1,ol,Mp,td],[0,()=>sa,()=>x3t,()=>JX,0,0,0,0,0,0,128,()=>zp,0],2],$Me=[3,M,dEt,0,[kZ,oa,u2],[()=>nd,()=>Fp,()=>_E]],HX=[3,M,SX,0,[NZ],[0]],LMe=[3,M,hEt,0,[Qt,bE,SX],[0,0,()=>HX],2],BMe=[3,M,gEt,0,[Qt,bE,zZ,SX],[0,0,0,()=>HX]],UMe=[3,M,vEt,0,[vs,KO,ah,sh,Zu,NNe],[0,0,()=>g2,()=>h2,()=>ZMe,0],1],FMe=[3,M,wEt,0,[Qt,lE,dE,Zl,kOe,QO,ZO,aX,gX,FZ,HOe,Xwt,Ql,rd],[0,()=>iN,0,()=>Xl,()=>YEt,()=>SE,()=>y2,()=>b3t,0,2,0,()=>XEt,()=>ja,()=>b2],1],zMe=[3,M,xEt,0,[f2],[()=>l1]],VMe=[3,M,EEt,0,[Qt,kOe,rNe,aX],[0,()=>WEt,()=>Up,()=>d3t],1],jMe=[3,M,REt,0,[hX],[()=>FX]],qMe=[3,M,IEt,0,[Qt,vX],[0,()=>qX],2],HMe=[3,M,CEt,0,[vX],[()=>qX]],b2=[3,M,rd,0,[sX,xX],[1,1]],WMe=[3,M,OEt,0,[ZOe,yOe],[()=>IDe,()=>kPe]],GMe="unit",KMe=[-3,VNe,"DynamoDBServiceException",0,[],[]];Ie.for(VNe).registerError(KMe,Jt);iN=[1,M,lE,0,()=>qNe],YMe=[1,M,PZ,0,()=>al],FEt=[1,M,N_t,0,()=>WNe],zEt=[1,M,aOe,0,()=>ZNe],VEt=[1,M,C2t,0,()=>cPe],v2=[1,M,g2t,0,()=>Fp],jEt=[1,M,dOe,0,()=>pPe],qEt=[1,M,EOe,0,()=>dke],HEt=[1,M,xOe,0,()=>vke],WEt=[1,M,Iwt,0,()=>Cke],GEt=[1,M,Owt,0,()=>Oke],KEt=[1,M,Zu,0,()=>Nke],oN=[1,M,Pwt,0,()=>Ike],YEt=[1,M,Dwt,0,()=>Pke],JEt=[1,M,zwt,0,()=>Mke],QEt=[1,M,Vwt,0,()=>kke],ZEt=[1,M,Jwt,0,()=>Lke],XEt=[1,M,Zwt,0,()=>Bke],e3t=[1,M,BOe,0,()=>Vke],t3t=[1,M,oxt,0,()=>_E],sN=[1,M,pxt,0,()=>nd],JMe=[1,M,yxt,0,()=>Qke],r3t=[1,M,Txt,0,()=>sa],eu=[1,M,sl,0,()=>Xke],n3t=[1,M,zOe,0,()=>eDe],i3t=[1,M,Dxt,0,()=>al],o3t=[1,M,o6t,0,()=>yDe],s3t=[1,M,fE,0,()=>bDe],WX=[1,M,a6t,0,()=>gDe],a3t=[1,M,W6t,0,()=>vDe],c3t=[1,M,M6t,0,()=>iPe],l3t=[1,M,$6t,0,()=>oPe],GX=[1,M,q6t,0,()=>al],u3t=[1,M,n4t,0,()=>MDe],d3t=[1,M,o4t,0,()=>$De],QMe=[1,M,c4t,0,()=>LDe],p3t=[1,M,d4t,0,()=>UDe],m3t=[1,M,m4t,0,()=>FDe],f3t=[1,M,h4t,0,()=>zDe],ZMe=[1,M,g4t,0,()=>BDe],h3t=[1,M,v4t,0,()=>VDe],g3t=[1,M,_4t,0,()=>jDe],XMe=[1,M,T4t,0,()=>kDe],e$e=[1,M,$4t,0,()=>HDe],y3t=[1,M,U4t,0,()=>WDe],b3t=[1,M,x4t,0,()=>KDe],v3t=[1,M,K4t,0,()=>YDe],KX=[1,M,CAt,0,()=>dMe],YX=[1,M,MAt,0,()=>fMe],_3t=[1,M,xAt,0,()=>hMe],S3t=[1,M,HAt,0,()=>SMe],w3t=[1,M,NEt,0,()=>WMe],nd=[2,M,R_t,0,0,()=>al],x3t=[2,M,eOe,0,0,()=>HNe],t$e=[2,M,Y_t,0,0,()=>Zke],A3t=[2,M,K_t,0,0,()=>sN],r$e=[2,M,c2t,0,0,()=>w3t],JX=[2,M,HSt,0,0,()=>gke],zp=[2,M,WSt,0,0,()=>al],n$e=[2,M,_wt,0,0,()=>IX],E3t=[2,M,ixt,0,0,()=>al],i$e=[2,M,sxt,0,0,()=>t3t],sa=[2,M,Xu,0,0,()=>al],R3t=[2,M,FOe,0,0,()=>IX],T3t=[2,M,b6t,0,0,()=>al],QX=[2,M,C6t,0,0,()=>al],J7e=[2,M,iAt,0,0,()=>TX],al=[4,M,B_t,0,[mAt,S6t,l2t,uAt,A6t,n2t,_6t,y6t,E6t,Z_t],[0,0,21,64,64,85,()=>T3t,()=>i3t,2,2]],ZX=[9,M,V_t,0,()=>XNe,()=>ePe],XX=[9,M,H_t,0,()=>tPe,()=>rPe],eee=[9,M,o2t,0,()=>sPe,()=>aPe],tee=[9,M,u2t,0,()=>mPe,()=>fPe],ree=[9,M,b2t,0,()=>gPe,()=>yPe],nee=[9,M,M2t,0,()=>SPe,()=>wPe],iee=[9,M,F2t,0,()=>EPe,()=>RPe],oee=[9,M,pSt,0,()=>CPe,()=>OPe],see=[9,M,ISt,0,()=>DPe,()=>MPe],aee=[9,M,PSt,0,()=>$Pe,()=>LPe],cee=[9,M,H2t,0,()=>BPe,()=>UPe],lee=[9,M,W2t,0,()=>FPe,()=>zPe],uee=[9,M,Y2t,0,()=>VPe,()=>jPe],dee=[9,M,Z2t,0,()=>qPe,()=>HPe],pee=[9,M,nSt,0,()=>WPe,()=>GPe],mee=[9,M,oSt,0,()=>KPe,()=>YPe],fee=[9,M,cSt,0,()=>JPe,()=>QPe],hee=[9,M,bSt,0,()=>ZPe,()=>XPe],gee=[9,M,vSt,0,()=>eke,()=>tke],yee=[9,M,xSt,0,()=>rke,()=>nke],bee=[9,M,jSt,0,()=>ike,()=>oke],vee=[9,M,LSt,0,()=>ske,()=>ake],_ee=[9,M,FSt,0,()=>cke,()=>lke],See=[9,M,wSt,0,()=>$X,()=>LX],wee=[9,M,ZSt,0,()=>$X,()=>LX],xee=[9,M,lwt,0,()=>pke,()=>mke],Aee=[9,M,gwt,0,()=>fke,()=>hke],Eee=[9,M,mwt,0,()=>_ke,()=>Ske],Ree=[9,M,Swt,0,()=>Ake,()=>Eke],Tee=[9,M,Awt,0,()=>Rke,()=>Tke],Iee=[9,M,Sxt,0,()=>jke,()=>qke],Cee=[9,M,Mxt,0,()=>rDe,()=>nDe],Oee=[9,M,Bxt,0,()=>iDe,()=>oDe],Nee=[9,M,Vxt,0,()=>sDe,()=>aDe],Pee=[9,M,Yxt,0,()=>cDe,()=>lDe],kee=[9,M,Zxt,0,()=>uDe,()=>dDe],Dee=[9,M,u6t,0,()=>pDe,()=>mDe],Mee=[9,M,m6t,0,()=>fDe,()=>hDe],$ee=[9,M,R6t,0,()=>RDe,()=>TDe],Lee=[9,M,U6t,0,()=>CDe,()=>ODe],Bee=[9,M,Q6t,0,()=>NDe,()=>PDe],Uee=[9,M,z4t,0,()=>eMe,()=>tMe],Fee=[9,M,q4t,0,()=>rMe,()=>nMe],zee=[9,M,fAt,0,()=>iMe,()=>oMe],Vee=[9,M,BAt,0,()=>pMe,()=>GMe],jee=[9,M,EAt,0,()=>gMe,()=>yMe],qee=[9,M,GAt,0,()=>wMe,()=>xMe],Hee=[9,M,bEt,0,()=>AMe,()=>GMe],Wee=[9,M,JAt,0,()=>RMe,()=>TMe],Gee=[9,M,XAt,0,()=>IMe,()=>CMe],Kee=[9,M,nEt,0,()=>NMe,()=>PMe],Yee=[9,M,sEt,0,()=>kMe,()=>DMe],Jee=[9,M,pEt,0,()=>MMe,()=>$Me],Qee=[9,M,fEt,0,()=>LMe,()=>BMe],Zee=[9,M,SEt,0,()=>FMe,()=>zMe],Xee=[9,M,AEt,0,()=>VMe,()=>jMe],ete=[9,M,TEt,0,()=>qMe,()=>HMe]});var u1,aN=g(()=>{"use strict";Oe();fe();ht();gt();u1=class extends re.classBuilder().ep(ve).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeEndpoints",{}).n("DynamoDBClient","DescribeEndpointsCommand").sc(dee).build(){}});var s$e,o$e=g(()=>{s$e={name:"@aws-sdk/client-dynamodb",description:"AWS SDK for JavaScript Dynamodb Client for Node.js, Browser and React Native",version:"3.980.0",scripts:{build:"concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs","build:cjs":"node ../../scripts/compilation/inline client-dynamodb","build:es":"tsc -p tsconfig.es.json","build:include:deps":'yarn g:turbo run build -F="$npm_package_name"',"build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"premove dist-cjs dist-es dist-types tsconfig.cjs.tsbuildinfo tsconfig.es.tsbuildinfo tsconfig.types.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo dynamodb","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"^3.973.5","@aws-sdk/credential-provider-node":"^3.972.4","@aws-sdk/dynamodb-codec":"^3.972.5","@aws-sdk/middleware-endpoint-discovery":"^3.972.3","@aws-sdk/middleware-host-header":"^3.972.3","@aws-sdk/middleware-logger":"^3.972.3","@aws-sdk/middleware-recursion-detection":"^3.972.3","@aws-sdk/middleware-user-agent":"^3.972.5","@aws-sdk/region-config-resolver":"^3.972.3","@aws-sdk/types":"^3.973.1","@aws-sdk/util-endpoints":"3.980.0","@aws-sdk/util-user-agent-browser":"^3.972.3","@aws-sdk/util-user-agent-node":"^3.972.3","@smithy/config-resolver":"^4.4.6","@smithy/core":"^3.22.0","@smithy/fetch-http-handler":"^5.3.9","@smithy/hash-node":"^4.2.8","@smithy/invalid-dependency":"^4.2.8","@smithy/middleware-content-length":"^4.2.8","@smithy/middleware-endpoint":"^4.4.12","@smithy/middleware-retry":"^4.4.29","@smithy/middleware-serde":"^4.2.9","@smithy/middleware-stack":"^4.2.8","@smithy/node-config-provider":"^4.3.8","@smithy/node-http-handler":"^4.4.8","@smithy/protocol-http":"^5.3.8","@smithy/smithy-client":"^4.11.1","@smithy/types":"^4.12.0","@smithy/url-parser":"^4.2.8","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.28","@smithy/util-defaults-mode-node":"^4.2.31","@smithy/util-endpoints":"^3.2.8","@smithy/util-middleware":"^4.2.8","@smithy/util-retry":"^4.2.8","@smithy/util-utf8":"^4.2.0","@smithy/util-waiter":"^4.2.8",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node20":"20.1.8","@types/node":"^20.14.8",concurrently:"7.0.0","downlevel-dts":"0.10.1",premove:"4.0.0",typescript:"~5.8.3"},engines:{node:">=20.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-dynamodb",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-dynamodb"}}});var cN,a$e,tte,rte,c$e=g(()=>{"use strict";Xd();Pr();fe();Mo();cN=class extends lf{constructor(){super({timestampFormat:{useTrait:!0,default:7},jsonName:!1})}createSerializer(){let e=new tte(this.settings);return e.setSerdeContext(this.serdeContext),e}createDeserializer(){let e=new rte(this.settings);return e.setSerdeContext(this.serdeContext),e}},a$e="com.amazonaws.dynamodb#AttributeValue",tte=class extends nv{_write(e,r,n){let i=Pt.of(e);if(i.isStructSchema()&&i.getName(!0)===a$e&&r&&typeof r=="object"){let o=r,s=cx(o),a=this.serdeContext?.base64Encoder??un;if(o.B instanceof Uint8Array&&(s.B=a(o.B)),Array.isArray(o.BS)&&(s.BS=o.BS.map(a)),Array.isArray(o.L)&&(s.L=o.L.filter(c=>c!=null).map(c=>this._write(i,c,n))),o.M&&typeof o.M=="object"){s.M={};for(let[c,l]of Object.entries(o.M))l!=null&&(s.M[c]=this._write(i,l,n))}return s}return super._write(i,r,n)}},rte=class extends rv{_read(e,r){let n=Pt.of(e);if(n.isStructSchema()&&n.getName(!0)===a$e&&r&&typeof r=="object"){let i=r,o=cx(i),s=this.serdeContext?.base64Decoder??Bn;if(typeof i.B=="string"&&(o.B=s(i.B)),Array.isArray(i.BS)&&(o.BS=i.BS.map(s)),Array.isArray(i.L)&&(o.L=i.L.map(a=>this._read(n,a))),i.M&&typeof i.M=="object"){o.M={};for(let[a,c]of Object.entries(i.M))o.M[a]=this._read(n,c)}return o}return super._read(n,r)}}});var l$e=g(()=>{"use strict";c$e()});var ote,Nt,ai,Vr,yt,lN,id,od,N$e,ci,Wo,u$e,aa,Ri,ste,wE,d$e,p$e,C3t,m$e,P$e,f$e,h$e,_2,g$e,k$e,y$e,Vp,b$e,v$e,nte,xE,_$e,S$e,ite,w$e,x$e,A$e,E$e,R$e,T$e,I$e,C$e,O$e,O3t,D$e,M$e=g(()=>{"use strict";ote="required",Nt="type",ai="rules",Vr="conditions",yt="argv",lN="assign",id="properties",od="headers",N$e="metricValues",ci="error",Wo="stringEquals",u$e="https://dynamodb.{Region}.{PartitionResult#dualStackDnsSuffix}",aa="endpoint",Ri="tree",ste="dynamodb",wE={[ote]:!1,[Nt]:"string"},d$e={[ote]:!0,default:!1,[Nt]:"boolean"},p$e={fn:"isSet",[yt]:[{ref:"Endpoint"}]},C3t={ref:"Endpoint"},m$e={fn:"isSet",[yt]:[{ref:"Region"}]},P$e={ref:"Region"},f$e={fn:"aws.partition",[yt]:[P$e],[lN]:"PartitionResult"},h$e={[Vr]:[{fn:"booleanEquals",[yt]:[{ref:"UseFIPS"},!0]}],[ci]:"Invalid Configuration: FIPS and custom endpoint are not supported",[Nt]:ci},_2={fn:"booleanEquals",[yt]:[{ref:"UseFIPS"},!0]},g$e={[Vr]:[{fn:"booleanEquals",[yt]:[{ref:"UseDualStack"},!0]}],[ci]:"Invalid Configuration: Dualstack and custom endpoint are not supported",[Nt]:ci},k$e={fn:"booleanEquals",[yt]:[{ref:"UseDualStack"},!0]},y$e={[aa]:{url:"{Endpoint}",[id]:{},[od]:{}},[Nt]:aa},Vp={},b$e={fn:"booleanEquals",[yt]:[{fn:"getAttr",[yt]:[{ref:"PartitionResult"},"supportsFIPS"]},!0]},v$e={fn:"booleanEquals",[yt]:[{fn:"getAttr",[yt]:[{ref:"PartitionResult"},"supportsDualStack"]},!0]},nte={[Vr]:[{fn:"isSet",[yt]:[{ref:"AccountIdEndpointMode"}]},{fn:Wo,[yt]:[{ref:"AccountIdEndpointMode"},"required"]}],[ai]:[{[ci]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[Nt]:ci}],[Nt]:Ri},xE={fn:"getAttr",[yt]:[{ref:"PartitionResult"},"name"]},_$e={[aa]:{url:"https://dynamodb.{Region}.{PartitionResult#dnsSuffix}",[id]:{},[od]:{}},[Nt]:aa},S$e={url:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[id]:{[N$e]:["O"]},[od]:{}},ite={[N$e]:["O"]},w$e={[ci]:"Credentials-sourced account ID parameter is invalid",[Nt]:ci},x$e={[Vr]:[{fn:"isSet",[yt]:[{ref:"AccountIdEndpointMode"}]},{fn:Wo,[yt]:[{ref:"AccountIdEndpointMode"},"required"]}],[ai]:[{[Vr]:[{fn:"not",[yt]:[_2]}],[ai]:[{[Vr]:[{fn:Wo,[yt]:[xE,"aws"]}],[ai]:[{[ci]:"AccountIdEndpointMode is required but no AccountID was provided or able to be loaded",[Nt]:ci}],[Nt]:Ri},{[ci]:"Invalid Configuration: AccountIdEndpointMode is required but account endpoints are not supported in this partition",[Nt]:ci}],[Nt]:Ri},{[ci]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[Nt]:ci}],[Nt]:Ri},A$e={url:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[id]:ite,[od]:{}},E$e=[_2],R$e=[k$e],T$e=[{fn:"isSet",[yt]:[{ref:"AccountIdEndpointMode"}]},{fn:"not",[yt]:[{fn:Wo,[yt]:[{ref:"AccountIdEndpointMode"},"disabled"]}]},{fn:Wo,[yt]:[xE,"aws"]},{fn:"not",[yt]:[_2]},{fn:"isSet",[yt]:[{ref:"ResourceArn"}]},{fn:"aws.parseArn",[yt]:[{ref:"ResourceArn"}],[lN]:"ParsedArn"},{fn:Wo,[yt]:[{fn:"getAttr",[yt]:[{ref:"ParsedArn"},"service"]},ste]},{fn:"isValidHostLabel",[yt]:[{fn:"getAttr",[yt]:[{ref:"ParsedArn"},"region"]},!1]},{fn:Wo,[yt]:[{fn:"getAttr",[yt]:[{ref:"ParsedArn"},"region"]},"{Region}"]},{fn:"isValidHostLabel",[yt]:[{fn:"getAttr",[yt]:[{ref:"ParsedArn"},"accountId"]},!1]}],I$e=[{fn:"isSet",[yt]:[{ref:"AccountIdEndpointMode"}]},{fn:"not",[yt]:[{fn:Wo,[yt]:[{ref:"AccountIdEndpointMode"},"disabled"]}]},{fn:Wo,[yt]:[xE,"aws"]},{fn:"not",[yt]:[_2]},{fn:"isSet",[yt]:[{ref:"ResourceArnList"}]},{fn:"getAttr",[yt]:[{ref:"ResourceArnList"},"[0]"],[lN]:"FirstArn"},{fn:"aws.parseArn",[yt]:[{ref:"FirstArn"}],[lN]:"ParsedArn"},{fn:Wo,[yt]:[{fn:"getAttr",[yt]:[{ref:"ParsedArn"},"service"]},ste]},{fn:"isValidHostLabel",[yt]:[{fn:"getAttr",[yt]:[{ref:"ParsedArn"},"region"]},!1]},{fn:Wo,[yt]:[{fn:"getAttr",[yt]:[{ref:"ParsedArn"},"region"]},"{Region}"]},{fn:"isValidHostLabel",[yt]:[{fn:"getAttr",[yt]:[{ref:"ParsedArn"},"accountId"]},!1]}],C$e=[{fn:"isSet",[yt]:[{ref:"AccountIdEndpointMode"}]},{fn:"not",[yt]:[{fn:Wo,[yt]:[{ref:"AccountIdEndpointMode"},"disabled"]}]},{fn:Wo,[yt]:[xE,"aws"]},{fn:"not",[yt]:[_2]},{fn:"isSet",[yt]:[{ref:"AccountId"}]}],O$e=[{fn:"isValidHostLabel",[yt]:[{ref:"AccountId"},!1]}],O3t={version:"1.0",parameters:{Region:wE,UseDualStack:d$e,UseFIPS:d$e,Endpoint:wE,AccountId:wE,AccountIdEndpointMode:wE,ResourceArn:wE,ResourceArnList:{[ote]:!1,[Nt]:"stringArray"}},[ai]:[{[Vr]:[p$e,m$e,f$e],[ai]:[h$e,g$e,{[Vr]:[{fn:Wo,[yt]:[C3t,u$e]}],error:"Endpoint override is not supported for dual-stack endpoints. Please enable dual-stack functionality by enabling the configuration. For more details, see: https://docs.aws.amazon.com/sdkref/latest/guide/feature-endpoints.html",[Nt]:ci},y$e],[Nt]:Ri},{[Vr]:[p$e],[ai]:[h$e,g$e,y$e],[Nt]:Ri},{[Vr]:[m$e],[ai]:[{[Vr]:[f$e],[ai]:[{[Vr]:[{fn:Wo,[yt]:[P$e,"local"]}],[ai]:[{[Vr]:E$e,error:"Invalid Configuration: FIPS and local endpoint are not supported",[Nt]:ci},{[Vr]:R$e,error:"Invalid Configuration: Dualstack and local endpoint are not supported",[Nt]:ci},{endpoint:{url:"http://localhost:8000",[id]:{authSchemes:[{name:"sigv4",signingRegion:"us-east-1",signingName:ste}]},[od]:Vp},[Nt]:aa}],[Nt]:Ri},{[Vr]:[_2,k$e],[ai]:[{[Vr]:[b$e,v$e],[ai]:[nte,{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[id]:Vp,[od]:Vp},[Nt]:aa}],[Nt]:Ri},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[Nt]:ci}],[Nt]:Ri},{[Vr]:E$e,[ai]:[{[Vr]:[b$e],[ai]:[{[Vr]:[{fn:Wo,[yt]:[xE,"aws-us-gov"]}],[ai]:[nte,_$e],[Nt]:Ri},nte,{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dnsSuffix}",[id]:Vp,[od]:Vp},[Nt]:aa}],[Nt]:Ri},{error:"FIPS is enabled but this partition does not support FIPS",[Nt]:ci}],[Nt]:Ri},{[Vr]:R$e,[ai]:[{[Vr]:[v$e],[ai]:[{[Vr]:T$e,endpoint:S$e,[Nt]:aa},{[Vr]:I$e,endpoint:S$e,[Nt]:aa},{[Vr]:C$e,[ai]:[{[Vr]:O$e,[ai]:[{endpoint:{url:"https://{AccountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[id]:ite,[od]:Vp},[Nt]:aa}],[Nt]:Ri},w$e],[Nt]:Ri},x$e,{endpoint:{url:u$e,[id]:Vp,[od]:Vp},[Nt]:aa}],[Nt]:Ri},{error:"DualStack is enabled but this partition does not support DualStack",[Nt]:ci}],[Nt]:Ri},{[Vr]:T$e,endpoint:A$e,[Nt]:aa},{[Vr]:I$e,endpoint:A$e,[Nt]:aa},{[Vr]:C$e,[ai]:[{[Vr]:O$e,[ai]:[{endpoint:{url:"https://{AccountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[id]:ite,[od]:Vp},[Nt]:aa}],[Nt]:Ri},w$e],[Nt]:Ri},x$e,_$e],[Nt]:Ri}],[Nt]:Ri},{error:"Invalid Configuration: Missing Region",[Nt]:ci}]},D$e=O3t});var N3t,$$e,L$e=g(()=>{"use strict";of();Ml();M$e();N3t=new js({size:50,params:["AccountId","AccountIdEndpointMode","Endpoint","Region","ResourceArn","ResourceArnList","UseDualStack","UseFIPS"]}),$$e=(t,e={})=>N3t.get(t,()=>yc(D$e,{endpointParams:t,logger:e.logger}));uo.aws=Ta});var B$e,U$e=g(()=>{"use strict";_i();Xd();l$e();fe();Zd();Mo();ni();CZ();L$e();B$e=t=>({apiVersion:"2012-08-10",base64Decoder:t?.base64Decoder??Bn,base64Encoder:t?.base64Encoder??un,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??$$e,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??G7e,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new mo}],logger:t?.logger??new Bo,protocol:t?.protocol??D8,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.dynamodb",xmlNamespace:"http://dynamodb.amazonaws.com/doc/2012-08-10/",version:"2012-08-10",serviceTarget:"DynamoDB_20120810",jsonCodec:new cN},serviceId:t?.serviceId??"DynamoDB",urlParser:t?.urlParser??Ki,utf8Decoder:t?.utf8Decoder??yn,utf8Encoder:t?.utf8Encoder??ln})});var F$e,z$e=g(()=>{"use strict";o$e();_i();wZ();TH();IZ();t0();ds();r0();Ca();Dc();Wd();fe();n0();i0();tp();U$e();F$e=t=>{Ec(process.version);let e=jc(t),r=()=>e().then(Ac),n=B$e(t);bc(process.version);let i={profile:t?.profile,logger:n.logger};return{...n,...t,runtime:"node",defaultsMode:e,accountIdEndpointMode:t?.accountIdEndpointMode??ct(w7e,i),authSchemePreference:t?.authSchemePreference??ct(vc,i),bodyLengthChecker:t?.bodyLengthChecker??Vc,credentialDefaultProvider:t?.credentialDefaultProvider??e9,defaultUserAgentProvider:t?.defaultUserAgentProvider??Fc({serviceId:n.serviceId,clientVersion:s$e.version}),endpointDiscoveryEnabledProvider:t?.endpointDiscoveryEnabledProvider??ct(R7e,i),maxAttempts:t?.maxAttempts??ct($c,t),region:t?.region??ct(Uo,{...Hs,...i}),requestHandler:$o.create(t?.requestHandler??r),retryMode:t?.retryMode??ct({...Bc,default:async()=>(await r()).retryMode||Ks},t),sha256:t?.sha256??Ys.bind(null,"sha256"),streamCollector:t?.streamCollector??Bs,useDualstackEndpoint:t?.useDualstackEndpoint??ct(Oc,i),useFipsEndpoint:t?.useFipsEndpoint??ct(Nc,i),userAgentAppId:t?.userAgentAppId??ct(zc,i)}}});var V$e,j$e,q$e=g(()=>{"use strict";V$e=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(i){let o=e.findIndex(s=>s.schemeId===i.schemeId);o===-1?e.push(i):e.splice(o,1,i)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},j$e=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var H$e,W$e=g(()=>{"use strict";bf();An();fe();q$e();H$e=(t,e)=>{let r=Object.assign(Wc(t),Rc(t),nc(t),V$e(t));return e.forEach(n=>n.configure(r)),Object.assign(t,Gc(r),Tc(r),ic(r),j$e(r))}});var Vi,jp=g(()=>{"use strict";wZ();IZ();Ug();Fg();zg();pf();ds();dn();Pr();Zg();Oe();Ca();fe();CZ();aN();ht();z$e();W$e();Vi=class extends Pi{config;constructor(...[e]){let r=F$e(e||{});super(r),this.initConfig=r;let n=Y7e(r),i=b7e(n),o=fc(i),s=Lc(o),a=Pc(s),c=a,l=Mc(c),u=K7e(l),d=q7e(u,{endpointDiscoveryCommandCtor:u1}),p=H$e(d,e?.extensions||[]);this.config=p,this.middlewareStack.use(dc(this.config)),this.middlewareStack.use(Cc(this.config)),this.middlewareStack.use(Uc(this.config)),this.middlewareStack.use(kc(this.config)),this.middlewareStack.use(sc(this.config)),this.middlewareStack.use(ac(this.config)),this.middlewareStack.use(cc(this.config)),this.middlewareStack.use(lc(this.config,{httpAuthSchemeParametersProvider:W7e,identityProviderConfigProvider:async m=>new Vs({"aws.auth#sigv4":m.credentials})})),this.middlewareStack.use(uc(this.config))}destroy(){super.destroy()}}});var AE,ate=g(()=>{"use strict";Oe();fe();ht();gt();AE=class extends re.classBuilder().ep(ve).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchExecuteStatement",{}).n("DynamoDBClient","BatchExecuteStatementCommand").sc(ZX).build(){}});var EE,cte=g(()=>{"use strict";Oe();fe();ht();gt();EE=class extends re.classBuilder().ep({...ve,ResourceArnList:{type:"operationContextParams",get:e=>Object.keys(e?.RequestItems??{})}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchGetItem",{}).n("DynamoDBClient","BatchGetItemCommand").sc(XX).build(){}});var RE,lte=g(()=>{"use strict";Oe();fe();ht();gt();RE=class extends re.classBuilder().ep({...ve,ResourceArnList:{type:"operationContextParams",get:e=>Object.keys(e?.RequestItems??{})}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchWriteItem",{}).n("DynamoDBClient","BatchWriteItemCommand").sc(eee).build(){}});var TE,ute=g(()=>{"use strict";Oe();fe();ht();gt();TE=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateBackup",{}).n("DynamoDBClient","CreateBackupCommand").sc(tee).build(){}});var IE,dte=g(()=>{"use strict";Oe();fe();ht();gt();IE=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateGlobalTable",{}).n("DynamoDBClient","CreateGlobalTableCommand").sc(ree).build(){}});var CE,pte=g(()=>{"use strict";Oe();fe();ht();gt();CE=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateTable",{}).n("DynamoDBClient","CreateTableCommand").sc(nee).build(){}});var OE,mte=g(()=>{"use strict";Oe();fe();ht();gt();OE=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteBackup",{}).n("DynamoDBClient","DeleteBackupCommand").sc(iee).build(){}});var NE,fte=g(()=>{"use strict";Oe();fe();ht();gt();NE=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteItem",{}).n("DynamoDBClient","DeleteItemCommand").sc(oee).build(){}});var PE,hte=g(()=>{"use strict";Oe();fe();ht();gt();PE=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteResourcePolicy",{}).n("DynamoDBClient","DeleteResourcePolicyCommand").sc(see).build(){}});var kE,gte=g(()=>{"use strict";Oe();fe();ht();gt();kE=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteTable",{}).n("DynamoDBClient","DeleteTableCommand").sc(aee).build(){}});var DE,yte=g(()=>{"use strict";Oe();fe();ht();gt();DE=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeBackup",{}).n("DynamoDBClient","DescribeBackupCommand").sc(cee).build(){}});var ME,bte=g(()=>{"use strict";Oe();fe();ht();gt();ME=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContinuousBackups",{}).n("DynamoDBClient","DescribeContinuousBackupsCommand").sc(lee).build(){}});var d1,uN=g(()=>{"use strict";Oe();fe();ht();gt();d1=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContributorInsights",{}).n("DynamoDBClient","DescribeContributorInsightsCommand").sc(uee).build(){}});var p1,dN=g(()=>{"use strict";Oe();fe();ht();gt();p1=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"ExportArn"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeExport",{}).n("DynamoDBClient","DescribeExportCommand").sc(pee).build(){}});var $E,vte=g(()=>{"use strict";Oe();fe();ht();gt();$E=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTable",{}).n("DynamoDBClient","DescribeGlobalTableCommand").sc(mee).build(){}});var LE,_te=g(()=>{"use strict";Oe();fe();ht();gt();LE=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTableSettings",{}).n("DynamoDBClient","DescribeGlobalTableSettingsCommand").sc(fee).build(){}});var m1,pN=g(()=>{"use strict";Oe();fe();ht();gt();m1=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"ImportArn"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeImport",{}).n("DynamoDBClient","DescribeImportCommand").sc(hee).build(){}});var f1,mN=g(()=>{"use strict";Oe();fe();ht();gt();f1=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeKinesisStreamingDestination",{}).n("DynamoDBClient","DescribeKinesisStreamingDestinationCommand").sc(gee).build(){}});var BE,Ste=g(()=>{"use strict";Oe();fe();ht();gt();BE=class extends re.classBuilder().ep(ve).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeLimits",{}).n("DynamoDBClient","DescribeLimitsCommand").sc(yee).build(){}});var qp,UE=g(()=>{"use strict";Oe();fe();ht();gt();qp=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTable",{}).n("DynamoDBClient","DescribeTableCommand").sc(bee).build(){}});var FE,wte=g(()=>{"use strict";Oe();fe();ht();gt();FE=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTableReplicaAutoScaling",{}).n("DynamoDBClient","DescribeTableReplicaAutoScalingCommand").sc(vee).build(){}});var zE,xte=g(()=>{"use strict";Oe();fe();ht();gt();zE=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTimeToLive",{}).n("DynamoDBClient","DescribeTimeToLiveCommand").sc(_ee).build(){}});var VE,Ate=g(()=>{"use strict";Oe();fe();ht();gt();VE=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DisableKinesisStreamingDestination",{}).n("DynamoDBClient","DisableKinesisStreamingDestinationCommand").sc(See).build(){}});var jE,Ete=g(()=>{"use strict";Oe();fe();ht();gt();jE=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","EnableKinesisStreamingDestination",{}).n("DynamoDBClient","EnableKinesisStreamingDestinationCommand").sc(wee).build(){}});var qE,Rte=g(()=>{"use strict";Oe();fe();ht();gt();qE=class extends re.classBuilder().ep(ve).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteStatement",{}).n("DynamoDBClient","ExecuteStatementCommand").sc(xee).build(){}});var HE,Tte=g(()=>{"use strict";Oe();fe();ht();gt();HE=class extends re.classBuilder().ep(ve).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteTransaction",{}).n("DynamoDBClient","ExecuteTransactionCommand").sc(Aee).build(){}});var WE,Ite=g(()=>{"use strict";Oe();fe();ht();gt();WE=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExportTableToPointInTime",{}).n("DynamoDBClient","ExportTableToPointInTimeCommand").sc(Eee).build(){}});var h1,Cte=g(()=>{"use strict";Oe();fe();ht();gt();h1=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetItem",{}).n("DynamoDBClient","GetItemCommand").sc(Ree).build(){}});var GE,Ote=g(()=>{"use strict";Oe();fe();ht();gt();GE=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetResourcePolicy",{}).n("DynamoDBClient","GetResourcePolicyCommand").sc(Tee).build(){}});var KE,Nte=g(()=>{"use strict";Oe();fe();ht();gt();KE=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"operationContextParams",get:e=>e?.TableCreationParameters?.TableName}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ImportTable",{}).n("DynamoDBClient","ImportTableCommand").sc(Iee).build(){}});var YE,Pte=g(()=>{"use strict";Oe();fe();ht();gt();YE=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListBackups",{}).n("DynamoDBClient","ListBackupsCommand").sc(Cee).build(){}});var g1,fN=g(()=>{"use strict";Oe();fe();ht();gt();g1=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListContributorInsights",{}).n("DynamoDBClient","ListContributorInsightsCommand").sc(Oee).build(){}});var y1,hN=g(()=>{"use strict";Oe();fe();ht();gt();y1=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListExports",{}).n("DynamoDBClient","ListExportsCommand").sc(Nee).build(){}});var JE,kte=g(()=>{"use strict";Oe();fe();ht();gt();JE=class extends re.classBuilder().ep(ve).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListGlobalTables",{}).n("DynamoDBClient","ListGlobalTablesCommand").sc(Pee).build(){}});var b1,gN=g(()=>{"use strict";Oe();fe();ht();gt();b1=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListImports",{}).n("DynamoDBClient","ListImportsCommand").sc(kee).build(){}});var v1,yN=g(()=>{"use strict";Oe();fe();ht();gt();v1=class extends re.classBuilder().ep(ve).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTables",{}).n("DynamoDBClient","ListTablesCommand").sc(Dee).build(){}});var QE,Dte=g(()=>{"use strict";Oe();fe();ht();gt();QE=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTagsOfResource",{}).n("DynamoDBClient","ListTagsOfResourceCommand").sc(Mee).build(){}});var uh,Mte=g(()=>{"use strict";Oe();fe();ht();gt();uh=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutItem",{}).n("DynamoDBClient","PutItemCommand").sc($ee).build(){}});var ZE,$te=g(()=>{"use strict";Oe();fe();ht();gt();ZE=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutResourcePolicy",{}).n("DynamoDBClient","PutResourcePolicyCommand").sc(Lee).build(){}});var dh,bN=g(()=>{"use strict";Oe();fe();ht();gt();dh=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Query",{}).n("DynamoDBClient","QueryCommand").sc(Bee).build(){}});var XE,Lte=g(()=>{"use strict";Oe();fe();ht();gt();XE=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableFromBackup",{}).n("DynamoDBClient","RestoreTableFromBackupCommand").sc(Uee).build(){}});var e3,Bte=g(()=>{"use strict";Oe();fe();ht();gt();e3=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableToPointInTime",{}).n("DynamoDBClient","RestoreTableToPointInTimeCommand").sc(Fee).build(){}});var _1,vN=g(()=>{"use strict";Oe();fe();ht();gt();_1=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Scan",{}).n("DynamoDBClient","ScanCommand").sc(zee).build(){}});var t3,Ute=g(()=>{"use strict";Oe();fe();ht();gt();t3=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TagResource",{}).n("DynamoDBClient","TagResourceCommand").sc(Vee).build(){}});var r3,Fte=g(()=>{"use strict";Oe();fe();ht();gt();r3=class extends re.classBuilder().ep({...ve,ResourceArnList:{type:"operationContextParams",get:e=>e?.TransactItems?.map(r=>r?.Get?.TableName)}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactGetItems",{}).n("DynamoDBClient","TransactGetItemsCommand").sc(jee).build(){}});var n3,zte=g(()=>{"use strict";Oe();fe();ht();gt();n3=class extends re.classBuilder().ep({...ve,ResourceArnList:{type:"operationContextParams",get:e=>e?.TransactItems?.map(r=>[r?.ConditionCheck?.TableName,r?.Put?.TableName,r?.Delete?.TableName,r?.Update?.TableName].filter(n=>n)).flat()}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactWriteItems",{}).n("DynamoDBClient","TransactWriteItemsCommand").sc(qee).build(){}});var i3,Vte=g(()=>{"use strict";Oe();fe();ht();gt();i3=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UntagResource",{}).n("DynamoDBClient","UntagResourceCommand").sc(Hee).build(){}});var o3,jte=g(()=>{"use strict";Oe();fe();ht();gt();o3=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContinuousBackups",{}).n("DynamoDBClient","UpdateContinuousBackupsCommand").sc(Wee).build(){}});var s3,qte=g(()=>{"use strict";Oe();fe();ht();gt();s3=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContributorInsights",{}).n("DynamoDBClient","UpdateContributorInsightsCommand").sc(Gee).build(){}});var a3,Hte=g(()=>{"use strict";Oe();fe();ht();gt();a3=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTable",{}).n("DynamoDBClient","UpdateGlobalTableCommand").sc(Kee).build(){}});var c3,Wte=g(()=>{"use strict";Oe();fe();ht();gt();c3=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTableSettings",{}).n("DynamoDBClient","UpdateGlobalTableSettingsCommand").sc(Yee).build(){}});var l3,Gte=g(()=>{"use strict";Oe();fe();ht();gt();l3=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateItem",{}).n("DynamoDBClient","UpdateItemCommand").sc(Jee).build(){}});var u3,Kte=g(()=>{"use strict";Oe();fe();ht();gt();u3=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateKinesisStreamingDestination",{}).n("DynamoDBClient","UpdateKinesisStreamingDestinationCommand").sc(Qee).build(){}});var d3,Yte=g(()=>{"use strict";Oe();fe();ht();gt();d3=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTable",{}).n("DynamoDBClient","UpdateTableCommand").sc(Zee).build(){}});var p3,Jte=g(()=>{"use strict";Oe();fe();ht();gt();p3=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTableReplicaAutoScaling",{}).n("DynamoDBClient","UpdateTableReplicaAutoScalingCommand").sc(Xee).build(){}});var m3,Qte=g(()=>{"use strict";Oe();fe();ht();gt();m3=class extends re.classBuilder().ep({...ve,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,i){return[ie(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTimeToLive",{}).n("DynamoDBClient","UpdateTimeToLiveCommand").sc(ete).build(){}});var Zte,Xte=g(()=>{"use strict";dn();fN();jp();Zte=Ln(Vi,g1,"NextToken","NextToken","MaxResults")});var ere,tre=g(()=>{"use strict";dn();hN();jp();ere=Ln(Vi,y1,"NextToken","NextToken","MaxResults")});var rre,nre=g(()=>{"use strict";dn();gN();jp();rre=Ln(Vi,b1,"NextToken","NextToken","PageSize")});var ire,ore=g(()=>{"use strict";dn();yN();jp();ire=Ln(Vi,v1,"ExclusiveStartTableName","LastEvaluatedTableName","Limit")});var sre,are=g(()=>{"use strict";dn();bN();jp();sre=Ln(Vi,dh,"ExclusiveStartKey","LastEvaluatedKey","Limit")});var cre,lre=g(()=>{"use strict";dn();vN();jp();cre=Ln(Vi,_1,"ExclusiveStartKey","LastEvaluatedKey","Limit")});var S2,ure=g(()=>{"use strict";S2=()=>{let t=new WeakSet;return(e,r)=>{if(typeof r=="object"&&r!==null){if(t.has(r))return"[Circular]";t.add(r)}return r}}});var G$e,dre=g(()=>{"use strict";G$e=t=>new Promise(e=>setTimeout(e,t*1e3))});var K$e,pr,cl,_N=g(()=>{"use strict";ure();K$e={minDelay:2,maxDelay:120};(function(t){t.ABORTED="ABORTED",t.FAILURE="FAILURE",t.SUCCESS="SUCCESS",t.RETRY="RETRY",t.TIMEOUT="TIMEOUT"})(pr||(pr={}));cl=t=>{if(t.state===pr.ABORTED){let e=new Error(`${JSON.stringify({...t,reason:"Request was aborted"},S2())}`);throw e.name="AbortError",e}else if(t.state===pr.TIMEOUT){let e=new Error(`${JSON.stringify({...t,reason:"Waiter has timed out"},S2())}`);throw e.name="TimeoutError",e}else if(t.state!==pr.SUCCESS)throw new Error(`${JSON.stringify(t,S2())}`);return t}});var P3t,k3t,J$e,Y$e,Q$e=g(()=>{"use strict";ure();dre();_N();P3t=(t,e,r,n)=>{if(n>r)return e;let i=t*2**(n-1);return k3t(t,i)},k3t=(t,e)=>t+Math.random()*(e-t),J$e=async({minDelay:t,maxDelay:e,maxWaitTime:r,abortController:n,client:i,abortSignal:o},s,a)=>{let c={},{state:l,reason:u}=await a(i,s);if(u){let h=Y$e(u);c[h]|=0,c[h]+=1}if(l!==pr.RETRY)return{state:l,reason:u,observedResponses:c};let d=1,p=Date.now()+r*1e3,m=Math.log(e/t)/Math.log(2)+1;for(;;){if(n?.signal?.aborted||o?.aborted){let v="AbortController signal aborted.";return c[v]|=0,c[v]+=1,{state:pr.ABORTED,observedResponses:c}}let h=P3t(t,e,m,d);if(Date.now()+h*1e3>p)return{state:pr.TIMEOUT,observedResponses:c};await G$e(h);let{state:f,reason:y}=await a(i,s);if(y){let v=Y$e(y);c[v]|=0,c[v]+=1}if(f!==pr.RETRY)return{state:f,reason:y,observedResponses:c};d+=1}},Y$e=t=>t?.$responseBodyText?`Deserialization error for body: ${t.$responseBodyText}`:t?.$metadata?.httpStatusCode?t.$response||t.message?`${t.$response.statusCode??t.$metadata.httpStatusCode??"Unknown"}: ${t.message}`:`${t.$metadata.httpStatusCode}: OK`:String(t?.message??JSON.stringify(t,S2())??"Unknown")});var Z$e,X$e=g(()=>{"use strict";Z$e=t=>{if(t.maxWaitTime<=0)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(t.minDelay<=0)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(t.maxDelay<=0)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(t.maxWaitTime<=t.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${t.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${t.minDelay}] for this waiter`);if(t.maxDelay<t.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${t.maxDelay}] must be greater than WaiterConfiguration.minDelay [${t.minDelay}] for this waiter`)}});var eLe=g(()=>{"use strict";dre();X$e()});var tLe,to,rLe=g(()=>{"use strict";Q$e();eLe();_N();tLe=t=>{let e,r=new Promise(n=>{e=()=>n({state:pr.ABORTED}),typeof t.addEventListener=="function"?t.addEventListener("abort",e):t.onabort=e});return{clearListener(){typeof t.removeEventListener=="function"&&t.removeEventListener("abort",e)},aborted:r}},to=async(t,e,r)=>{let n={...K$e,...t};Z$e(n);let i=[J$e(n,e,r)],o=[];if(t.abortSignal){let{aborted:s,clearListener:a}=tLe(t.abortSignal);o.push(a),i.push(s)}if(t.abortController?.signal){let{aborted:s,clearListener:a}=tLe(t.abortController.signal);o.push(a),i.push(s)}return Promise.race(i).then(s=>{for(let a of o)a();return s})}});var S1=g(()=>{"use strict";rLe();_N()});var nLe,D3t,pre,mre=g(()=>{"use strict";S1();uN();nLe=async(t,e)=>{let r;try{let n=await t.send(new d1(e));r=n;try{if(n.ContributorInsightsStatus==="ENABLED")return{state:pr.SUCCESS,reason:r}}catch{}try{if(n.ContributorInsightsStatus==="FAILED")return{state:pr.FAILURE,reason:r}}catch{}}catch(n){r=n}return{state:pr.RETRY,reason:r}},D3t=async(t,e)=>to({...{minDelay:20,maxDelay:120},...t},e,nLe),pre=async(t,e)=>{let n=await to({...{minDelay:20,maxDelay:120},...t},e,nLe);return cl(n)}});var iLe,M3t,fre,hre=g(()=>{"use strict";S1();dN();iLe=async(t,e)=>{let r;try{let n=await t.send(new p1(e));r=n;try{if(n.ExportDescription.ExportStatus==="COMPLETED")return{state:pr.SUCCESS,reason:r}}catch{}try{if(n.ExportDescription.ExportStatus==="FAILED")return{state:pr.FAILURE,reason:r}}catch{}}catch(n){r=n}return{state:pr.RETRY,reason:r}},M3t=async(t,e)=>to({...{minDelay:20,maxDelay:120},...t},e,iLe),fre=async(t,e)=>{let n=await to({...{minDelay:20,maxDelay:120},...t},e,iLe);return cl(n)}});var oLe,$3t,gre,yre=g(()=>{"use strict";S1();pN();oLe=async(t,e)=>{let r;try{let n=await t.send(new m1(e));r=n;try{if(n.ImportTableDescription.ImportStatus==="COMPLETED")return{state:pr.SUCCESS,reason:r}}catch{}try{if(n.ImportTableDescription.ImportStatus==="FAILED")return{state:pr.FAILURE,reason:r}}catch{}try{if(n.ImportTableDescription.ImportStatus==="CANCELLED")return{state:pr.FAILURE,reason:r}}catch{}}catch(n){r=n}return{state:pr.RETRY,reason:r}},$3t=async(t,e)=>to({...{minDelay:20,maxDelay:120},...t},e,oLe),gre=async(t,e)=>{let n=await to({...{minDelay:20,maxDelay:120},...t},e,oLe);return cl(n)}});var sLe,L3t,bre,vre=g(()=>{"use strict";S1();mN();sLe=async(t,e)=>{let r;try{let n=await t.send(new f1(e));r=n;try{let i=()=>[].concat(...n.KinesisDataStreamDestinations).map(a=>a.DestinationStatus);for(let o of i())if(o=="ACTIVE")return{state:pr.SUCCESS,reason:r}}catch{}try{if((()=>{let o=n.KinesisDataStreamDestinations.filter(s=>(s.DestinationStatus=="DISABLED"||s.DestinationStatus=="ENABLE_FAILED")&&(s.DestinationStatus=="ENABLE_FAILED"||s.DestinationStatus=="DISABLED"));return n.KinesisDataStreamDestinations.length>0&&o.length==n.KinesisDataStreamDestinations.length})()==!0)return{state:pr.FAILURE,reason:r}}catch{}}catch(n){r=n}return{state:pr.RETRY,reason:r}},L3t=async(t,e)=>to({...{minDelay:20,maxDelay:120},...t},e,sLe),bre=async(t,e)=>{let n=await to({...{minDelay:20,maxDelay:120},...t},e,sLe);return cl(n)}});var aLe,B3t,_re,Sre=g(()=>{"use strict";S1();UE();aLe=async(t,e)=>{let r;try{let n=await t.send(new qp(e));r=n;try{if(n.Table.TableStatus==="ACTIVE")return{state:pr.SUCCESS,reason:r}}catch{}}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:pr.RETRY,reason:r}}return{state:pr.RETRY,reason:r}},B3t=async(t,e)=>to({...{minDelay:20,maxDelay:120},...t},e,aLe),_re=async(t,e)=>{let n=await to({...{minDelay:20,maxDelay:120},...t},e,aLe);return cl(n)}});var cLe,U3t,wre,xre=g(()=>{"use strict";S1();UE();cLe=async(t,e)=>{let r;try{r=await t.send(new qp(e))}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:pr.SUCCESS,reason:r}}return{state:pr.RETRY,reason:r}},U3t=async(t,e)=>to({...{minDelay:20,maxDelay:120},...t},e,cLe),wre=async(t,e)=>{let n=await to({...{minDelay:20,maxDelay:120},...t},e,cLe);return cl(n)}});var F3t,z3t,V3t,SN,lLe=g(()=>{"use strict";fe();ate();cte();lte();ute();dte();pte();mte();fte();hte();gte();yte();bte();uN();aN();dN();vte();_te();pN();mN();Ste();UE();wte();xte();Ate();Ete();Rte();Tte();Ite();Cte();Ote();Nte();Pte();fN();hN();kte();gN();yN();Dte();Mte();$te();bN();Lte();Bte();vN();Ute();Fte();zte();Vte();jte();qte();Hte();Wte();Gte();Kte();Yte();Jte();Qte();jp();Xte();tre();nre();ore();are();lre();mre();hre();yre();vre();Sre();xre();F3t={BatchExecuteStatementCommand:AE,BatchGetItemCommand:EE,BatchWriteItemCommand:RE,CreateBackupCommand:TE,CreateGlobalTableCommand:IE,CreateTableCommand:CE,DeleteBackupCommand:OE,DeleteItemCommand:NE,DeleteResourcePolicyCommand:PE,DeleteTableCommand:kE,DescribeBackupCommand:DE,DescribeContinuousBackupsCommand:ME,DescribeContributorInsightsCommand:d1,DescribeEndpointsCommand:u1,DescribeExportCommand:p1,DescribeGlobalTableCommand:$E,DescribeGlobalTableSettingsCommand:LE,DescribeImportCommand:m1,DescribeKinesisStreamingDestinationCommand:f1,DescribeLimitsCommand:BE,DescribeTableCommand:qp,DescribeTableReplicaAutoScalingCommand:FE,DescribeTimeToLiveCommand:zE,DisableKinesisStreamingDestinationCommand:VE,EnableKinesisStreamingDestinationCommand:jE,ExecuteStatementCommand:qE,ExecuteTransactionCommand:HE,ExportTableToPointInTimeCommand:WE,GetItemCommand:h1,GetResourcePolicyCommand:GE,ImportTableCommand:KE,ListBackupsCommand:YE,ListContributorInsightsCommand:g1,ListExportsCommand:y1,ListGlobalTablesCommand:JE,ListImportsCommand:b1,ListTablesCommand:v1,ListTagsOfResourceCommand:QE,PutItemCommand:uh,PutResourcePolicyCommand:ZE,QueryCommand:dh,RestoreTableFromBackupCommand:XE,RestoreTableToPointInTimeCommand:e3,ScanCommand:_1,TagResourceCommand:t3,TransactGetItemsCommand:r3,TransactWriteItemsCommand:n3,UntagResourceCommand:i3,UpdateContinuousBackupsCommand:o3,UpdateContributorInsightsCommand:s3,UpdateGlobalTableCommand:a3,UpdateGlobalTableSettingsCommand:c3,UpdateItemCommand:l3,UpdateKinesisStreamingDestinationCommand:u3,UpdateTableCommand:d3,UpdateTableReplicaAutoScalingCommand:p3,UpdateTimeToLiveCommand:m3},z3t={paginateListContributorInsights:Zte,paginateListExports:ere,paginateListImports:rre,paginateListTables:ire,paginateQuery:sre,paginateScan:cre},V3t={waitUntilContributorInsightsEnabled:pre,waitUntilExportCompleted:fre,waitUntilImportCompleted:gre,waitUntilKinesisStreamingDestinationActive:bre,waitUntilTableExists:_re,waitUntilTableNotExists:wre},SN=class extends Vi{};xc(F3t,SN,{paginators:z3t,waiters:V3t})});var uLe=g(()=>{"use strict";ate();cte();lte();ute();dte();pte();mte();fte();hte();gte();yte();bte();uN();aN();dN();vte();_te();pN();mN();Ste();UE();wte();xte();Ate();Ete();Rte();Tte();Ite();Cte();Ote();Nte();Pte();fN();hN();kte();gN();yN();Dte();Mte();$te();bN();Lte();Bte();vN();Ute();Fte();zte();Vte();jte();qte();Hte();Wte();Gte();Kte();Yte();Jte();Qte()});var dLe=g(()=>{"use strict"});var pLe=g(()=>{"use strict";dLe();Xte();tre();nre();ore();are();lre()});var mLe=g(()=>{"use strict";mre();hre();yre();vre();Sre();xre()});var j3t,q3t,H3t,W3t,G3t,K3t,Y3t,J3t,Q3t,Z3t,X3t,e5t,t5t,r5t,n5t,i5t,o5t,s5t,a5t,c5t,l5t,u5t,d5t,p5t,m5t,f5t,h5t,g5t,y5t,b5t,v5t,_5t,S5t,w5t,x5t,A5t,E5t,R5t,T5t,I5t,C5t,O5t,fLe=g(()=>{"use strict";j3t={MICROSECOND:"MICROSECOND",MILLISECOND:"MILLISECOND"},q3t={ADD:"ADD",DELETE:"DELETE",PUT:"PUT"},H3t={B:"B",N:"N",S:"S"},W3t={AVAILABLE:"AVAILABLE",CREATING:"CREATING",DELETED:"DELETED"},G3t={AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},K3t={PAY_PER_REQUEST:"PAY_PER_REQUEST",PROVISIONED:"PROVISIONED"},Y3t={HASH:"HASH",RANGE:"RANGE"},J3t={ALL:"ALL",INCLUDE:"INCLUDE",KEYS_ONLY:"KEYS_ONLY"},Q3t={AES256:"AES256",KMS:"KMS"},Z3t={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",UPDATING:"UPDATING"},X3t={KEYS_ONLY:"KEYS_ONLY",NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE",OLD_IMAGE:"OLD_IMAGE"},e5t={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING"},t5t={ALL:"ALL",AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},r5t={INDEXES:"INDEXES",NONE:"NONE",TOTAL:"TOTAL"},n5t={ALL_OLD:"ALL_OLD",NONE:"NONE"},i5t={AccessDenied:"AccessDenied",ConditionalCheckFailed:"ConditionalCheckFailed",DuplicateItem:"DuplicateItem",InternalServerError:"InternalServerError",ItemCollectionSizeLimitExceeded:"ItemCollectionSizeLimitExceeded",ProvisionedThroughputExceeded:"ProvisionedThroughputExceeded",RequestLimitExceeded:"RequestLimitExceeded",ResourceNotFound:"ResourceNotFound",ThrottlingError:"ThrottlingError",TransactionConflict:"TransactionConflict",ValidationError:"ValidationError"},o5t={NONE:"NONE",SIZE:"SIZE"},s5t={BEGINS_WITH:"BEGINS_WITH",BETWEEN:"BETWEEN",CONTAINS:"CONTAINS",EQ:"EQ",GE:"GE",GT:"GT",IN:"IN",LE:"LE",LT:"LT",NE:"NE",NOT_CONTAINS:"NOT_CONTAINS",NOT_NULL:"NOT_NULL",NULL:"NULL"},a5t={AND:"AND",OR:"OR"},c5t={DISABLED:"DISABLED",ENABLED:"ENABLED"},l5t={DISABLED:"DISABLED",ENABLED:"ENABLED"},u5t={DISABLE:"DISABLE",ENABLE:"ENABLE"},d5t={ACCESSED_AND_THROTTLED_KEYS:"ACCESSED_AND_THROTTLED_KEYS",THROTTLED_KEYS:"THROTTLED_KEYS"},p5t={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",FAILED:"FAILED"},m5t={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},f5t={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},h5t={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",CREATION_FAILED:"CREATION_FAILED",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REGION_DISABLED:"REGION_DISABLED",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},g5t={STANDARD:"STANDARD",STANDARD_INFREQUENT_ACCESS:"STANDARD_INFREQUENT_ACCESS"},y5t={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},b5t={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING"},v5t={EVENTUAL:"EVENTUAL",STRONG:"STRONG"},_5t={ALL_NEW:"ALL_NEW",ALL_OLD:"ALL_OLD",NONE:"NONE",UPDATED_NEW:"UPDATED_NEW",UPDATED_OLD:"UPDATED_OLD"},S5t={DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},w5t={COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},x5t={FULL_EXPORT:"FULL_EXPORT",INCREMENTAL_EXPORT:"INCREMENTAL_EXPORT"},A5t={NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE"},E5t={AES256:"AES256",KMS:"KMS"},R5t={CANCELLED:"CANCELLED",CANCELLING:"CANCELLING",COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},T5t={GZIP:"GZIP",NONE:"NONE",ZSTD:"ZSTD"},I5t={CSV:"CSV",DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},C5t={ACTIVE:"ACTIVE",DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLE_FAILED:"ENABLE_FAILED",ENABLING:"ENABLING",UPDATING:"UPDATING"},O5t={ALL_ATTRIBUTES:"ALL_ATTRIBUTES",ALL_PROJECTED_ATTRIBUTES:"ALL_PROJECTED_ATTRIBUTES",COUNT:"COUNT",SPECIFIC_ATTRIBUTES:"SPECIFIC_ATTRIBUTES"}});var hLe=g(()=>{"use strict"});var Are={};lr(Are,{$Command:()=>re,ApproximateCreationDateTimePrecision:()=>j3t,ArchivalSummary$:()=>jNe,AttributeAction:()=>q3t,AttributeDefinition$:()=>qNe,AttributeValue$:()=>al,AttributeValueUpdate$:()=>HNe,AutoScalingPolicyDescription$:()=>WNe,AutoScalingPolicyUpdate$:()=>GNe,AutoScalingSettingsDescription$:()=>Dp,AutoScalingSettingsUpdate$:()=>Up,AutoScalingTargetTrackingScalingPolicyConfigurationDescription$:()=>KNe,AutoScalingTargetTrackingScalingPolicyConfigurationUpdate$:()=>YNe,BackupDescription$:()=>AX,BackupDetails$:()=>EX,BackupInUseException:()=>IA,BackupInUseException$:()=>JNe,BackupNotFoundException:()=>CA,BackupNotFoundException$:()=>QNe,BackupStatus:()=>W3t,BackupSummary$:()=>ZNe,BackupType:()=>G3t,BackupTypeFilter:()=>t5t,BatchExecuteStatement$:()=>ZX,BatchExecuteStatementCommand:()=>AE,BatchExecuteStatementInput$:()=>XNe,BatchExecuteStatementOutput$:()=>ePe,BatchGetItem$:()=>XX,BatchGetItemCommand:()=>EE,BatchGetItemInput$:()=>tPe,BatchGetItemOutput$:()=>rPe,BatchStatementError$:()=>nPe,BatchStatementErrorCodeEnum:()=>i5t,BatchStatementRequest$:()=>iPe,BatchStatementResponse$:()=>oPe,BatchWriteItem$:()=>eee,BatchWriteItemCommand:()=>RE,BatchWriteItemInput$:()=>sPe,BatchWriteItemOutput$:()=>aPe,BillingMode:()=>K3t,BillingModeSummary$:()=>RX,CancellationReason$:()=>cPe,Capacity$:()=>TX,ComparisonOperator:()=>s5t,Condition$:()=>IX,ConditionCheck$:()=>uPe,ConditionalCheckFailedException:()=>aE,ConditionalCheckFailedException$:()=>lPe,ConditionalOperator:()=>a5t,ConsumedCapacity$:()=>Fp,ContinuousBackupsDescription$:()=>CX,ContinuousBackupsStatus:()=>c5t,ContinuousBackupsUnavailableException:()=>BA,ContinuousBackupsUnavailableException$:()=>dPe,ContributorInsightsAction:()=>u5t,ContributorInsightsMode:()=>d5t,ContributorInsightsStatus:()=>p5t,ContributorInsightsSummary$:()=>pPe,CreateBackup$:()=>tee,CreateBackupCommand:()=>TE,CreateBackupInput$:()=>mPe,CreateBackupOutput$:()=>fPe,CreateGlobalSecondaryIndexAction$:()=>hPe,CreateGlobalTable$:()=>ree,CreateGlobalTableCommand:()=>IE,CreateGlobalTableInput$:()=>gPe,CreateGlobalTableOutput$:()=>yPe,CreateGlobalTableWitnessGroupMemberAction$:()=>bPe,CreateReplicaAction$:()=>vPe,CreateReplicationGroupMemberAction$:()=>_Pe,CreateTable$:()=>nee,CreateTableCommand:()=>CE,CreateTableInput$:()=>SPe,CreateTableOutput$:()=>wPe,CsvOptions$:()=>xPe,Delete$:()=>APe,DeleteBackup$:()=>iee,DeleteBackupCommand:()=>OE,DeleteBackupInput$:()=>EPe,DeleteBackupOutput$:()=>RPe,DeleteGlobalSecondaryIndexAction$:()=>TPe,DeleteGlobalTableWitnessGroupMemberAction$:()=>IPe,DeleteItem$:()=>oee,DeleteItemCommand:()=>NE,DeleteItemInput$:()=>CPe,DeleteItemOutput$:()=>OPe,DeleteReplicaAction$:()=>NPe,DeleteReplicationGroupMemberAction$:()=>PPe,DeleteRequest$:()=>kPe,DeleteResourcePolicy$:()=>see,DeleteResourcePolicyCommand:()=>PE,DeleteResourcePolicyInput$:()=>DPe,DeleteResourcePolicyOutput$:()=>MPe,DeleteTable$:()=>aee,DeleteTableCommand:()=>kE,DeleteTableInput$:()=>$Pe,DeleteTableOutput$:()=>LPe,DescribeBackup$:()=>cee,DescribeBackupCommand:()=>DE,DescribeBackupInput$:()=>BPe,DescribeBackupOutput$:()=>UPe,DescribeContinuousBackups$:()=>lee,DescribeContinuousBackupsCommand:()=>ME,DescribeContinuousBackupsInput$:()=>FPe,DescribeContinuousBackupsOutput$:()=>zPe,DescribeContributorInsights$:()=>uee,DescribeContributorInsightsCommand:()=>d1,DescribeContributorInsightsInput$:()=>VPe,DescribeContributorInsightsOutput$:()=>jPe,DescribeEndpoints$:()=>dee,DescribeEndpointsCommand:()=>u1,DescribeEndpointsRequest$:()=>qPe,DescribeEndpointsResponse$:()=>HPe,DescribeExport$:()=>pee,DescribeExportCommand:()=>p1,DescribeExportInput$:()=>WPe,DescribeExportOutput$:()=>GPe,DescribeGlobalTable$:()=>mee,DescribeGlobalTableCommand:()=>$E,DescribeGlobalTableInput$:()=>KPe,DescribeGlobalTableOutput$:()=>YPe,DescribeGlobalTableSettings$:()=>fee,DescribeGlobalTableSettingsCommand:()=>LE,DescribeGlobalTableSettingsInput$:()=>JPe,DescribeGlobalTableSettingsOutput$:()=>QPe,DescribeImport$:()=>hee,DescribeImportCommand:()=>m1,DescribeImportInput$:()=>ZPe,DescribeImportOutput$:()=>XPe,DescribeKinesisStreamingDestination$:()=>gee,DescribeKinesisStreamingDestinationCommand:()=>f1,DescribeKinesisStreamingDestinationInput$:()=>eke,DescribeKinesisStreamingDestinationOutput$:()=>tke,DescribeLimits$:()=>yee,DescribeLimitsCommand:()=>BE,DescribeLimitsInput$:()=>rke,DescribeLimitsOutput$:()=>nke,DescribeTable$:()=>bee,DescribeTableCommand:()=>qp,DescribeTableInput$:()=>ike,DescribeTableOutput$:()=>oke,DescribeTableReplicaAutoScaling$:()=>vee,DescribeTableReplicaAutoScalingCommand:()=>FE,DescribeTableReplicaAutoScalingInput$:()=>ske,DescribeTableReplicaAutoScalingOutput$:()=>ake,DescribeTimeToLive$:()=>_ee,DescribeTimeToLiveCommand:()=>zE,DescribeTimeToLiveInput$:()=>cke,DescribeTimeToLiveOutput$:()=>lke,DestinationStatus:()=>C5t,DisableKinesisStreamingDestination$:()=>See,DisableKinesisStreamingDestinationCommand:()=>VE,DuplicateItemException:()=>YA,DuplicateItemException$:()=>uke,DynamoDB:()=>SN,DynamoDBClient:()=>Vi,DynamoDBServiceException:()=>Jt,DynamoDBServiceException$:()=>KMe,EnableKinesisStreamingConfiguration$:()=>OX,EnableKinesisStreamingDestination$:()=>wee,EnableKinesisStreamingDestinationCommand:()=>jE,Endpoint$:()=>dke,ExecuteStatement$:()=>xee,ExecuteStatementCommand:()=>qE,ExecuteStatementInput$:()=>pke,ExecuteStatementOutput$:()=>mke,ExecuteTransaction$:()=>Aee,ExecuteTransactionCommand:()=>HE,ExecuteTransactionInput$:()=>fke,ExecuteTransactionOutput$:()=>hke,ExpectedAttributeValue$:()=>gke,ExportConflictException:()=>ZA,ExportConflictException$:()=>yke,ExportDescription$:()=>NX,ExportFormat:()=>S5t,ExportNotFoundException:()=>WA,ExportNotFoundException$:()=>bke,ExportStatus:()=>w5t,ExportSummary$:()=>vke,ExportTableToPointInTime$:()=>Eee,ExportTableToPointInTimeCommand:()=>WE,ExportTableToPointInTimeInput$:()=>_ke,ExportTableToPointInTimeOutput$:()=>Ske,ExportType:()=>x5t,ExportViewType:()=>A5t,FailureException$:()=>wke,Get$:()=>xke,GetItem$:()=>Ree,GetItemCommand:()=>h1,GetItemInput$:()=>Ake,GetItemOutput$:()=>Eke,GetResourcePolicy$:()=>Tee,GetResourcePolicyCommand:()=>GE,GetResourcePolicyInput$:()=>Rke,GetResourcePolicyOutput$:()=>Tke,GlobalSecondaryIndex$:()=>Ike,GlobalSecondaryIndexAutoScalingUpdate$:()=>Cke,GlobalSecondaryIndexDescription$:()=>Oke,GlobalSecondaryIndexInfo$:()=>Nke,GlobalSecondaryIndexUpdate$:()=>Pke,GlobalSecondaryIndexWarmThroughputDescription$:()=>PX,GlobalTable$:()=>kke,GlobalTableAlreadyExistsException:()=>VA,GlobalTableAlreadyExistsException$:()=>Dke,GlobalTableDescription$:()=>tN,GlobalTableGlobalSecondaryIndexSettingsUpdate$:()=>Mke,GlobalTableNotFoundException:()=>GA,GlobalTableNotFoundException$:()=>$ke,GlobalTableStatus:()=>m5t,GlobalTableWitnessDescription$:()=>Lke,GlobalTableWitnessGroupUpdate$:()=>Bke,IdempotentParameterMismatchException:()=>JA,IdempotentParameterMismatchException$:()=>Uke,ImportConflictException:()=>tE,ImportConflictException$:()=>Fke,ImportNotFoundException:()=>KA,ImportNotFoundException$:()=>zke,ImportStatus:()=>R5t,ImportSummary$:()=>Vke,ImportTable$:()=>Iee,ImportTableCommand:()=>KE,ImportTableDescription$:()=>kX,ImportTableInput$:()=>jke,ImportTableOutput$:()=>qke,IncrementalExportSpecification$:()=>DX,IndexNotFoundException:()=>sE,IndexNotFoundException$:()=>Hke,IndexStatus:()=>f5t,InputCompressionType:()=>T5t,InputFormat:()=>I5t,InputFormatOptions$:()=>MX,InternalServerError:()=>OA,InternalServerError$:()=>Wke,InvalidEndpointException:()=>kA,InvalidEndpointException$:()=>Gke,InvalidExportTimeException:()=>XA,InvalidExportTimeException$:()=>Kke,InvalidRestoreTimeException:()=>nE,InvalidRestoreTimeException$:()=>Yke,ItemCollectionMetrics$:()=>_E,ItemCollectionSizeLimitExceededException:()=>$A,ItemCollectionSizeLimitExceededException$:()=>Jke,ItemResponse$:()=>Qke,KeySchemaElement$:()=>Xke,KeyType:()=>Y3t,KeysAndAttributes$:()=>Zke,KinesisDataStreamDestination$:()=>eDe,KinesisStreamingDestinationInput$:()=>$X,KinesisStreamingDestinationOutput$:()=>LX,LimitExceededException:()=>UA,LimitExceededException$:()=>tDe,ListBackups$:()=>Cee,ListBackupsCommand:()=>YE,ListBackupsInput$:()=>rDe,ListBackupsOutput$:()=>nDe,ListContributorInsights$:()=>Oee,ListContributorInsightsCommand:()=>g1,ListContributorInsightsInput$:()=>iDe,ListContributorInsightsOutput$:()=>oDe,ListExports$:()=>Nee,ListExportsCommand:()=>y1,ListExportsInput$:()=>sDe,ListExportsOutput$:()=>aDe,ListGlobalTables$:()=>Pee,ListGlobalTablesCommand:()=>JE,ListGlobalTablesInput$:()=>cDe,ListGlobalTablesOutput$:()=>lDe,ListImports$:()=>kee,ListImportsCommand:()=>b1,ListImportsInput$:()=>uDe,ListImportsOutput$:()=>dDe,ListTables$:()=>Dee,ListTablesCommand:()=>v1,ListTablesInput$:()=>pDe,ListTablesOutput$:()=>mDe,ListTagsOfResource$:()=>Mee,ListTagsOfResourceCommand:()=>QE,ListTagsOfResourceInput$:()=>fDe,ListTagsOfResourceOutput$:()=>hDe,LocalSecondaryIndex$:()=>gDe,LocalSecondaryIndexDescription$:()=>yDe,LocalSecondaryIndexInfo$:()=>bDe,MultiRegionConsistency:()=>v5t,OnDemandThroughput$:()=>ja,OnDemandThroughputOverride$:()=>h2,ParameterizedStatement$:()=>vDe,PointInTimeRecoveryDescription$:()=>_De,PointInTimeRecoverySpecification$:()=>SDe,PointInTimeRecoveryStatus:()=>l5t,PointInTimeRecoveryUnavailableException:()=>eE,PointInTimeRecoveryUnavailableException$:()=>wDe,PolicyNotFoundException:()=>HA,PolicyNotFoundException$:()=>xDe,Projection$:()=>lh,ProjectionType:()=>J3t,ProvisionedThroughput$:()=>Xl,ProvisionedThroughputDescription$:()=>BX,ProvisionedThroughputExceededException:()=>DA,ProvisionedThroughputExceededException$:()=>ADe,ProvisionedThroughputOverride$:()=>g2,Put$:()=>EDe,PutItem$:()=>$ee,PutItemCommand:()=>uh,PutItemInput$:()=>RDe,PutItemOutput$:()=>TDe,PutRequest$:()=>IDe,PutResourcePolicy$:()=>Lee,PutResourcePolicyCommand:()=>ZE,PutResourcePolicyInput$:()=>CDe,PutResourcePolicyOutput$:()=>ODe,Query$:()=>Bee,QueryCommand:()=>dh,QueryInput$:()=>NDe,QueryOutput$:()=>PDe,Replica$:()=>kDe,ReplicaAlreadyExistsException:()=>iE,ReplicaAlreadyExistsException$:()=>DDe,ReplicaAutoScalingDescription$:()=>MDe,ReplicaAutoScalingUpdate$:()=>$De,ReplicaDescription$:()=>LDe,ReplicaGlobalSecondaryIndex$:()=>BDe,ReplicaGlobalSecondaryIndexAutoScalingDescription$:()=>UDe,ReplicaGlobalSecondaryIndexAutoScalingUpdate$:()=>FDe,ReplicaGlobalSecondaryIndexDescription$:()=>zDe,ReplicaGlobalSecondaryIndexSettingsDescription$:()=>VDe,ReplicaGlobalSecondaryIndexSettingsUpdate$:()=>jDe,ReplicaNotFoundException:()=>oE,ReplicaNotFoundException$:()=>qDe,ReplicaSettingsDescription$:()=>HDe,ReplicaSettingsUpdate$:()=>WDe,ReplicaStatus:()=>h5t,ReplicaUpdate$:()=>YDe,ReplicatedWriteConflictException:()=>LA,ReplicatedWriteConflictException$:()=>GDe,ReplicationGroupUpdate$:()=>KDe,RequestLimitExceeded:()=>NA,RequestLimitExceeded$:()=>JDe,ResourceInUseException:()=>jA,ResourceInUseException$:()=>QDe,ResourceNotFoundException:()=>MA,ResourceNotFoundException$:()=>ZDe,RestoreSummary$:()=>XDe,RestoreTableFromBackup$:()=>Uee,RestoreTableFromBackupCommand:()=>XE,RestoreTableFromBackupInput$:()=>eMe,RestoreTableFromBackupOutput$:()=>tMe,RestoreTableToPointInTime$:()=>Fee,RestoreTableToPointInTimeCommand:()=>e3,RestoreTableToPointInTimeInput$:()=>rMe,RestoreTableToPointInTimeOutput$:()=>nMe,ReturnConsumedCapacity:()=>r5t,ReturnItemCollectionMetrics:()=>o5t,ReturnValue:()=>_5t,ReturnValuesOnConditionCheckFailure:()=>n5t,S3BucketSource$:()=>rN,S3SseAlgorithm:()=>E5t,SSEDescription$:()=>UX,SSESpecification$:()=>y2,SSEStatus:()=>Z3t,SSEType:()=>Q3t,ScalarAttributeType:()=>H3t,Scan$:()=>zee,ScanCommand:()=>_1,ScanInput$:()=>iMe,ScanOutput$:()=>oMe,Select:()=>O5t,SourceTableDetails$:()=>sMe,SourceTableFeatureDetails$:()=>aMe,StreamSpecification$:()=>SE,StreamViewType:()=>X3t,TableAlreadyExistsException:()=>rE,TableAlreadyExistsException$:()=>cMe,TableAutoScalingDescription$:()=>FX,TableClass:()=>g5t,TableClassSummary$:()=>nN,TableCreationParameters$:()=>zX,TableDescription$:()=>l1,TableInUseException:()=>FA,TableInUseException$:()=>lMe,TableNotFoundException:()=>zA,TableNotFoundException$:()=>uMe,TableStatus:()=>y5t,TableWarmThroughputDescription$:()=>VX,Tag$:()=>dMe,TagResource$:()=>Vee,TagResourceCommand:()=>t3,TagResourceInput$:()=>pMe,ThrottlingException:()=>PA,ThrottlingException$:()=>mMe,ThrottlingReason$:()=>fMe,TimeToLiveDescription$:()=>jX,TimeToLiveSpecification$:()=>qX,TimeToLiveStatus:()=>e5t,TransactGetItem$:()=>hMe,TransactGetItems$:()=>jee,TransactGetItemsCommand:()=>r3,TransactGetItemsInput$:()=>gMe,TransactGetItemsOutput$:()=>yMe,TransactWriteItem$:()=>SMe,TransactWriteItems$:()=>qee,TransactWriteItemsCommand:()=>n3,TransactWriteItemsInput$:()=>wMe,TransactWriteItemsOutput$:()=>xMe,TransactionCanceledException:()=>cE,TransactionCanceledException$:()=>bMe,TransactionConflictException:()=>qA,TransactionConflictException$:()=>vMe,TransactionInProgressException:()=>QA,TransactionInProgressException$:()=>_Me,UntagResource$:()=>Hee,UntagResourceCommand:()=>i3,UntagResourceInput$:()=>AMe,Update$:()=>EMe,UpdateContinuousBackups$:()=>Wee,UpdateContinuousBackupsCommand:()=>o3,UpdateContinuousBackupsInput$:()=>RMe,UpdateContinuousBackupsOutput$:()=>TMe,UpdateContributorInsights$:()=>Gee,UpdateContributorInsightsCommand:()=>s3,UpdateContributorInsightsInput$:()=>IMe,UpdateContributorInsightsOutput$:()=>CMe,UpdateGlobalSecondaryIndexAction$:()=>OMe,UpdateGlobalTable$:()=>Kee,UpdateGlobalTableCommand:()=>a3,UpdateGlobalTableInput$:()=>NMe,UpdateGlobalTableOutput$:()=>PMe,UpdateGlobalTableSettings$:()=>Yee,UpdateGlobalTableSettingsCommand:()=>c3,UpdateGlobalTableSettingsInput$:()=>kMe,UpdateGlobalTableSettingsOutput$:()=>DMe,UpdateItem$:()=>Jee,UpdateItemCommand:()=>l3,UpdateItemInput$:()=>MMe,UpdateItemOutput$:()=>$Me,UpdateKinesisStreamingConfiguration$:()=>HX,UpdateKinesisStreamingDestination$:()=>Qee,UpdateKinesisStreamingDestinationCommand:()=>u3,UpdateKinesisStreamingDestinationInput$:()=>LMe,UpdateKinesisStreamingDestinationOutput$:()=>BMe,UpdateReplicationGroupMemberAction$:()=>UMe,UpdateTable$:()=>Zee,UpdateTableCommand:()=>d3,UpdateTableInput$:()=>FMe,UpdateTableOutput$:()=>zMe,UpdateTableReplicaAutoScaling$:()=>Xee,UpdateTableReplicaAutoScalingCommand:()=>p3,UpdateTableReplicaAutoScalingInput$:()=>VMe,UpdateTableReplicaAutoScalingOutput$:()=>jMe,UpdateTimeToLive$:()=>ete,UpdateTimeToLiveCommand:()=>m3,UpdateTimeToLiveInput$:()=>qMe,UpdateTimeToLiveOutput$:()=>HMe,WarmThroughput$:()=>b2,WitnessStatus:()=>b5t,WriteRequest$:()=>WMe,__Client:()=>Pi,paginateListContributorInsights:()=>Zte,paginateListExports:()=>ere,paginateListImports:()=>rre,paginateListTables:()=>ire,paginateQuery:()=>sre,paginateScan:()=>cre,waitForContributorInsightsEnabled:()=>D3t,waitForExportCompleted:()=>M3t,waitForImportCompleted:()=>$3t,waitForKinesisStreamingDestinationActive:()=>L3t,waitForTableExists:()=>B3t,waitForTableNotExists:()=>U3t,waitUntilContributorInsightsEnabled:()=>pre,waitUntilExportCompleted:()=>fre,waitUntilImportCompleted:()=>gre,waitUntilKinesisStreamingDestinationActive:()=>bre,waitUntilTableExists:()=>_re,waitUntilTableNotExists:()=>wre});var wN=g(()=>{"use strict";jp();lLe();uLe();gt();pLe();mLe();fLe();OZ();hLe();zO()});var Wp=Le((hon,tUe)=>{"use strict";var XBe=["nodebuffer","arraybuffer","fragments"],eUe=typeof Blob<"u";eUe&&XBe.push("blob");tUe.exports={BINARY_TYPES:XBe,CLOSE_TIMEOUT:3e4,EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",hasBlob:eUe,kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var yUe=Le((gon,gUe)=>{"use strict";var oUe=St("fs"),Gp=St("path"),sUe=St("os"),aUe=typeof __webpack_require__=="function"?__non_webpack_require__:St,GCt=process.config&&process.config.variables||{},KCt=!!process.env.PREBUILDS_ONLY,rUe=process.versions.modules,Jre=QCt()?"electron":JCt()?"node-webkit":"node",Qre=process.env.npm_config_arch||sUe.arch(),Zre=process.env.npm_config_platform||sUe.platform(),cUe=process.env.LIBC||(ZCt(Zre)?"musl":"glibc"),Xre=process.env.ARM_VERSION||(Qre==="arm64"?"8":GCt.arm_version)||"",lUe=(process.versions.uv||"").split(".")[0];gUe.exports=cd;function cd(t){return aUe(cd.resolve(t))}cd.resolve=cd.path=function(t){t=Gp.resolve(t||".");try{var e=aUe(Gp.join(t,"package.json")).name.toUpperCase().replace(/-/g,"_");process.env[e+"_PREBUILD"]&&(t=process.env[e+"_PREBUILD"])}catch{}if(!KCt){var r=nUe(Gp.join(t,"build/Release"),iUe);if(r)return r;var n=nUe(Gp.join(t,"build/Debug"),iUe);if(n)return n}var i=a(t);if(i)return i;var o=a(Gp.dirname(process.execPath));if(o)return o;var s=["platform="+Zre,"arch="+Qre,"runtime="+Jre,"abi="+rUe,"uv="+lUe,Xre?"armv="+Xre:"","libc="+cUe,"node="+process.versions.node,process.versions.electron?"electron="+process.versions.electron:"",typeof __webpack_require__=="function"?"webpack=true":""].filter(Boolean).join(" ");throw new Error("No native build was found for "+s+`
    loaded from: `+t+`
`);function a(c){var l=ene(Gp.join(c,"prebuilds")).map(uUe),u=l.filter(dUe(Zre,Qre)).sort(pUe)[0];if(u){var d=Gp.join(c,"prebuilds",u.name),p=ene(d).map(mUe),m=p.filter(fUe(Jre,rUe)),h=m.sort(hUe(Jre))[0];if(h)return Gp.join(d,h.file)}}};function ene(t){try{return oUe.readdirSync(t)}catch{return[]}}function nUe(t,e){var r=ene(t).filter(e);return r[0]&&Gp.join(t,r[0])}function iUe(t){return/\.node$/.test(t)}function uUe(t){var e=t.split("-");if(e.length===2){var r=e[0],n=e[1].split("+");if(r&&n.length&&n.every(Boolean))return{name:t,platform:r,architectures:n}}}function dUe(t,e){return function(r){return r==null||r.platform!==t?!1:r.architectures.includes(e)}}function pUe(t,e){return t.architectures.length-e.architectures.length}function mUe(t){var e=t.split("."),r=e.pop(),n={file:t,specificity:0};if(r==="node"){for(var i=0;i<e.length;i++){var o=e[i];if(o==="node"||o==="electron"||o==="node-webkit")n.runtime=o;else if(o==="napi")n.napi=!0;else if(o.slice(0,3)==="abi")n.abi=o.slice(3);else if(o.slice(0,2)==="uv")n.uv=o.slice(2);else if(o.slice(0,4)==="armv")n.armv=o.slice(4);else if(o==="glibc"||o==="musl")n.libc=o;else continue;n.specificity++}return n}}function fUe(t,e){return function(r){return!(r==null||r.runtime&&r.runtime!==t&&!YCt(r)||r.abi&&r.abi!==e&&!r.napi||r.uv&&r.uv!==lUe||r.armv&&r.armv!==Xre||r.libc&&r.libc!==cUe)}}function YCt(t){return t.runtime==="node"&&t.napi}function hUe(t){return function(e,r){return e.runtime!==r.runtime?e.runtime===t?-1:1:e.abi!==r.abi?e.abi?-1:1:e.specificity!==r.specificity?e.specificity>r.specificity?-1:1:0}}function JCt(){return!!(process.versions&&process.versions.nw)}function QCt(){return process.versions&&process.versions.electron||process.env.ELECTRON_RUN_AS_NODE?!0:typeof window<"u"&&window.process&&window.process.type==="renderer"}function ZCt(t){return t==="linux"&&oUe.existsSync("/etc/alpine-release")}cd.parseTags=mUe;cd.matchTags=fUe;cd.compareTags=hUe;cd.parseTuple=uUe;cd.matchTuple=dUe;cd.compareTuples=pUe});var nne=Le((bon,rne)=>{"use strict";var tne=typeof __webpack_require__=="function"?__non_webpack_require__:St;typeof tne.addon=="function"?rne.exports=tne.addon.bind(tne):rne.exports=yUe()});var vUe=Le((_on,bUe)=>{"use strict";var XCt=(t,e,r,n,i)=>{for(var o=0;o<i;o++)r[n+o]=t[o]^e[o&3]},e9t=(t,e)=>{let r=t.length;for(var n=0;n<r;n++)t[n]^=e[n&3]};bUe.exports={mask:XCt,unmask:e9t}});var _Ue=Le((Son,ine)=>{"use strict";try{ine.exports=nne()(__dirname)}catch{ine.exports=vUe()}});var _3=Le((won,PN)=>{"use strict";var{EMPTY_BUFFER:t9t}=Wp(),one=Buffer[Symbol.species];function r9t(t,e){if(t.length===0)return t9t;if(t.length===1)return t[0];let r=Buffer.allocUnsafe(e),n=0;for(let i=0;i<t.length;i++){let o=t[i];r.set(o,n),n+=o.length}return n<e?new one(r.buffer,r.byteOffset,n):r}function SUe(t,e,r,n,i){for(let o=0;o<i;o++)r[n+o]=t[o]^e[o&3]}function wUe(t,e){for(let r=0;r<t.length;r++)t[r]^=e[r&3]}function n9t(t){return t.length===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.length)}function sne(t){if(sne.readOnly=!0,Buffer.isBuffer(t))return t;let e;return t instanceof ArrayBuffer?e=new one(t):ArrayBuffer.isView(t)?e=new one(t.buffer,t.byteOffset,t.byteLength):(e=Buffer.from(t),sne.readOnly=!1),e}PN.exports={concat:r9t,mask:SUe,toArrayBuffer:n9t,toBuffer:sne,unmask:wUe};if(!process.env.WS_NO_BUFFER_UTIL)try{let t=_Ue();PN.exports.mask=function(e,r,n,i,o){o<48?SUe(e,r,n,i,o):t.mask(e,r,n,i,o)},PN.exports.unmask=function(e,r){e.length<32?wUe(e,r):t.unmask(e,r)}}catch{}});var EUe=Le((xon,AUe)=>{"use strict";var xUe=Symbol("kDone"),ane=Symbol("kRun"),cne=class{constructor(e){this[xUe]=()=>{this.pending--,this[ane]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[ane]()}[ane](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[xUe])}}};AUe.exports=cne});var w3=Le((Aon,CUe)=>{"use strict";var S3=St("zlib"),RUe=_3(),i9t=EUe(),{kStatusCode:TUe}=Wp(),o9t=Buffer[Symbol.species],s9t=Buffer.from([0,0,255,255]),DN=Symbol("permessage-deflate"),Kp=Symbol("total-length"),E2=Symbol("callback"),fh=Symbol("buffers"),R2=Symbol("error"),kN,lne=class{constructor(e,r,n){if(this._maxPayload=n|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!r,this._deflate=null,this._inflate=null,this.params=null,!kN){let i=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;kN=new i9t(i)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[E2];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let r=this._options,n=e.find(i=>!(r.serverNoContextTakeover===!1&&i.server_no_context_takeover||i.server_max_window_bits&&(r.serverMaxWindowBits===!1||typeof r.serverMaxWindowBits=="number"&&r.serverMaxWindowBits>i.server_max_window_bits)||typeof r.clientMaxWindowBits=="number"&&!i.client_max_window_bits));if(!n)throw new Error("None of the extension offers can be accepted");return r.serverNoContextTakeover&&(n.server_no_context_takeover=!0),r.clientNoContextTakeover&&(n.client_no_context_takeover=!0),typeof r.serverMaxWindowBits=="number"&&(n.server_max_window_bits=r.serverMaxWindowBits),typeof r.clientMaxWindowBits=="number"?n.client_max_window_bits=r.clientMaxWindowBits:(n.client_max_window_bits===!0||r.clientMaxWindowBits===!1)&&delete n.client_max_window_bits,n}acceptAsClient(e){let r=e[0];if(this._options.clientNoContextTakeover===!1&&r.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!r.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(r.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&r.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return r}normalizeParams(e){return e.forEach(r=>{Object.keys(r).forEach(n=>{let i=r[n];if(i.length>1)throw new Error(`Parameter "${n}" must have only a single value`);if(i=i[0],n==="client_max_window_bits"){if(i!==!0){let o=+i;if(!Number.isInteger(o)||o<8||o>15)throw new TypeError(`Invalid value for parameter "${n}": ${i}`);i=o}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${n}": ${i}`)}else if(n==="server_max_window_bits"){let o=+i;if(!Number.isInteger(o)||o<8||o>15)throw new TypeError(`Invalid value for parameter "${n}": ${i}`);i=o}else if(n==="client_no_context_takeover"||n==="server_no_context_takeover"){if(i!==!0)throw new TypeError(`Invalid value for parameter "${n}": ${i}`)}else throw new Error(`Unknown parameter "${n}"`);r[n]=i})}),e}decompress(e,r,n){kN.add(i=>{this._decompress(e,r,(o,s)=>{i(),n(o,s)})})}compress(e,r,n){kN.add(i=>{this._compress(e,r,(o,s)=>{i(),n(o,s)})})}_decompress(e,r,n){let i=this._isServer?"client":"server";if(!this._inflate){let o=`${i}_max_window_bits`,s=typeof this.params[o]!="number"?S3.Z_DEFAULT_WINDOWBITS:this.params[o];this._inflate=S3.createInflateRaw({...this._options.zlibInflateOptions,windowBits:s}),this._inflate[DN]=this,this._inflate[Kp]=0,this._inflate[fh]=[],this._inflate.on("error",c9t),this._inflate.on("data",IUe)}this._inflate[E2]=n,this._inflate.write(e),r&&this._inflate.write(s9t),this._inflate.flush(()=>{let o=this._inflate[R2];if(o){this._inflate.close(),this._inflate=null,n(o);return}let s=RUe.concat(this._inflate[fh],this._inflate[Kp]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[Kp]=0,this._inflate[fh]=[],r&&this.params[`${i}_no_context_takeover`]&&this._inflate.reset()),n(null,s)})}_compress(e,r,n){let i=this._isServer?"server":"client";if(!this._deflate){let o=`${i}_max_window_bits`,s=typeof this.params[o]!="number"?S3.Z_DEFAULT_WINDOWBITS:this.params[o];this._deflate=S3.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:s}),this._deflate[Kp]=0,this._deflate[fh]=[],this._deflate.on("data",a9t)}this._deflate[E2]=n,this._deflate.write(e),this._deflate.flush(S3.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let o=RUe.concat(this._deflate[fh],this._deflate[Kp]);r&&(o=new o9t(o.buffer,o.byteOffset,o.length-4)),this._deflate[E2]=null,this._deflate[Kp]=0,this._deflate[fh]=[],r&&this.params[`${i}_no_context_takeover`]&&this._deflate.reset(),n(null,o)})}};CUe.exports=lne;function a9t(t){this[fh].push(t),this[Kp]+=t.length}function IUe(t){if(this[Kp]+=t.length,this[DN]._maxPayload<1||this[Kp]<=this[DN]._maxPayload){this[fh].push(t);return}this[R2]=new RangeError("Max payload size exceeded"),this[R2].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[R2][TUe]=1009,this.removeListener("data",IUe),this.reset()}function c9t(t){if(this[DN]._inflate=null,this[R2]){this[E2](this[R2]);return}t[TUe]=1007,this[E2](t)}});var NUe=Le((Eon,OUe)=>{"use strict";function l9t(t){let e=t.length,r=0;for(;r<e;)if((t[r]&128)===0)r++;else if((t[r]&224)===192){if(r+1===e||(t[r+1]&192)!==128||(t[r]&254)===192)return!1;r+=2}else if((t[r]&240)===224){if(r+2>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||t[r]===224&&(t[r+1]&224)===128||t[r]===237&&(t[r+1]&224)===160)return!1;r+=3}else if((t[r]&248)===240){if(r+3>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||(t[r+3]&192)!==128||t[r]===240&&(t[r+1]&240)===128||t[r]===244&&t[r+1]>143||t[r]>244)return!1;r+=4}else return!1;return!0}OUe.exports=l9t});var PUe=Le((Ron,une)=>{"use strict";try{une.exports=nne()(__dirname)}catch{une.exports=NUe()}});var T2=Le((Ton,MN)=>{"use strict";var{isUtf8:kUe}=St("buffer"),{hasBlob:u9t}=Wp(),d9t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function p9t(t){return t>=1e3&&t<=1014&&t!==1004&&t!==1005&&t!==1006||t>=3e3&&t<=4999}function dne(t){let e=t.length,r=0;for(;r<e;)if((t[r]&128)===0)r++;else if((t[r]&224)===192){if(r+1===e||(t[r+1]&192)!==128||(t[r]&254)===192)return!1;r+=2}else if((t[r]&240)===224){if(r+2>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||t[r]===224&&(t[r+1]&224)===128||t[r]===237&&(t[r+1]&224)===160)return!1;r+=3}else if((t[r]&248)===240){if(r+3>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||(t[r+3]&192)!==128||t[r]===240&&(t[r+1]&240)===128||t[r]===244&&t[r+1]>143||t[r]>244)return!1;r+=4}else return!1;return!0}function m9t(t){return u9t&&typeof t=="object"&&typeof t.arrayBuffer=="function"&&typeof t.type=="string"&&typeof t.stream=="function"&&(t[Symbol.toStringTag]==="Blob"||t[Symbol.toStringTag]==="File")}MN.exports={isBlob:m9t,isValidStatusCode:p9t,isValidUTF8:dne,tokenChars:d9t};if(kUe)MN.exports.isValidUTF8=function(t){return t.length<24?dne(t):kUe(t)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let t=PUe();MN.exports.isValidUTF8=function(e){return e.length<32?dne(e):t(e)}}catch{}});var gne=Le((Ion,FUe)=>{"use strict";var{Writable:f9t}=St("stream"),DUe=w3(),{BINARY_TYPES:h9t,EMPTY_BUFFER:MUe,kStatusCode:g9t,kWebSocket:y9t}=Wp(),{concat:pne,toArrayBuffer:b9t,unmask:v9t}=_3(),{isValidStatusCode:_9t,isValidUTF8:$Ue}=T2(),$N=Buffer[Symbol.species],dl=0,LUe=1,BUe=2,UUe=3,mne=4,fne=5,LN=6,hne=class extends f9t{constructor(e={}){super(),this._allowSynchronousEvents=e.allowSynchronousEvents!==void 0?e.allowSynchronousEvents:!0,this._binaryType=e.binaryType||h9t[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[y9t]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=dl}_write(e,r,n){if(this._opcode===8&&this._state==dl)return n();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(n)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let n=this._buffers[0];return this._buffers[0]=new $N(n.buffer,n.byteOffset+e,n.length-e),new $N(n.buffer,n.byteOffset,e)}let r=Buffer.allocUnsafe(e);do{let n=this._buffers[0],i=r.length-e;e>=n.length?r.set(this._buffers.shift(),i):(r.set(new Uint8Array(n.buffer,n.byteOffset,e),i),this._buffers[0]=new $N(n.buffer,n.byteOffset+e,n.length-e)),e-=n.length}while(e>0);return r}startLoop(e){this._loop=!0;do switch(this._state){case dl:this.getInfo(e);break;case LUe:this.getPayloadLength16(e);break;case BUe:this.getPayloadLength64(e);break;case UUe:this.getMask();break;case mne:this.getData(e);break;case fne:case LN:this._loop=!1;return}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2){this._loop=!1;return}let r=this.consume(2);if((r[0]&48)!==0){let i=this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");e(i);return}let n=(r[0]&64)===64;if(n&&!this._extensions[DUe.extensionName]){let i=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(i);return}if(this._fin=(r[0]&128)===128,this._opcode=r[0]&15,this._payloadLength=r[1]&127,this._opcode===0){if(n){let i=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(i);return}if(!this._fragmented){let i=this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");e(i);return}this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented){let i=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(i);return}this._compressed=n}else if(this._opcode>7&&this._opcode<11){if(!this._fin){let i=this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");e(i);return}if(n){let i=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(i);return}if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1){let i=this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");e(i);return}}else{let i=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(i);return}if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(r[1]&128)===128,this._isServer){if(!this._masked){let i=this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK");e(i);return}}else if(this._masked){let i=this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");e(i);return}this._payloadLength===126?this._state=LUe:this._payloadLength===127?this._state=BUe:this.haveLength(e)}getPayloadLength16(e){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e)}getPayloadLength64(e){if(this._bufferedBytes<8){this._loop=!1;return}let r=this.consume(8),n=r.readUInt32BE(0);if(n>Math.pow(2,21)-1){let i=this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH");e(i);return}this._payloadLength=n*Math.pow(2,32)+r.readUInt32BE(4),this.haveLength(e)}haveLength(e){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){let r=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");e(r);return}this._masked?this._state=UUe:this._state=mne}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=mne}getData(e){let r=MUe;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}r=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!==0&&v9t(r,this._mask)}if(this._opcode>7){this.controlMessage(r,e);return}if(this._compressed){this._state=fne,this.decompress(r,e);return}r.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(r)),this.dataMessage(e)}decompress(e,r){this._extensions[DUe.extensionName].decompress(e,this._fin,(i,o)=>{if(i)return r(i);if(o.length){if(this._messageLength+=o.length,this._messageLength>this._maxPayload&&this._maxPayload>0){let s=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");r(s);return}this._fragments.push(o)}this.dataMessage(r),this._state===dl&&this.startLoop(r)})}dataMessage(e){if(!this._fin){this._state=dl;return}let r=this._messageLength,n=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let i;this._binaryType==="nodebuffer"?i=pne(n,r):this._binaryType==="arraybuffer"?i=b9t(pne(n,r)):this._binaryType==="blob"?i=new Blob(n):i=n,this._allowSynchronousEvents?(this.emit("message",i,!0),this._state=dl):(this._state=LN,setImmediate(()=>{this.emit("message",i,!0),this._state=dl,this.startLoop(e)}))}else{let i=pne(n,r);if(!this._skipUTF8Validation&&!$Ue(i)){let o=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");e(o);return}this._state===fne||this._allowSynchronousEvents?(this.emit("message",i,!1),this._state=dl):(this._state=LN,setImmediate(()=>{this.emit("message",i,!1),this._state=dl,this.startLoop(e)}))}}controlMessage(e,r){if(this._opcode===8){if(e.length===0)this._loop=!1,this.emit("conclude",1005,MUe),this.end();else{let n=e.readUInt16BE(0);if(!_9t(n)){let o=this.createError(RangeError,`invalid status code ${n}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");r(o);return}let i=new $N(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!$Ue(i)){let o=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");r(o);return}this._loop=!1,this.emit("conclude",n,i),this.end()}this._state=dl;return}this._allowSynchronousEvents?(this.emit(this._opcode===9?"ping":"pong",e),this._state=dl):(this._state=LN,setImmediate(()=>{this.emit(this._opcode===9?"ping":"pong",e),this._state=dl,this.startLoop(r)}))}createError(e,r,n,i,o){this._loop=!1,this._errored=!0;let s=new e(n?`Invalid WebSocket frame: ${r}`:r);return Error.captureStackTrace(s,this.createError),s.code=o,s[g9t]=i,s}};FUe.exports=hne});var vne=Le((Oon,jUe)=>{"use strict";var{Duplex:Con}=St("stream"),{randomFillSync:S9t}=St("crypto"),zUe=w3(),{EMPTY_BUFFER:w9t,kWebSocket:x9t,NOOP:A9t}=Wp(),{isBlob:I2,isValidStatusCode:E9t}=T2(),{mask:VUe,toBuffer:w1}=_3(),pl=Symbol("kByteLength"),R9t=Buffer.alloc(4),BN=8*1024,x1,C2=BN,tu=0,T9t=1,I9t=2,yne=class t{constructor(e,r,n){this._extensions=r||{},n&&(this._generateMask=n,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._queue=[],this._state=tu,this.onerror=A9t,this[x9t]=void 0}static frame(e,r){let n,i=!1,o=2,s=!1;r.mask&&(n=r.maskBuffer||R9t,r.generateMask?r.generateMask(n):(C2===BN&&(x1===void 0&&(x1=Buffer.alloc(BN)),S9t(x1,0,BN),C2=0),n[0]=x1[C2++],n[1]=x1[C2++],n[2]=x1[C2++],n[3]=x1[C2++]),s=(n[0]|n[1]|n[2]|n[3])===0,o=6);let a;typeof e=="string"?(!r.mask||s)&&r[pl]!==void 0?a=r[pl]:(e=Buffer.from(e),a=e.length):(a=e.length,i=r.mask&&r.readOnly&&!s);let c=a;a>=65536?(o+=8,c=127):a>125&&(o+=2,c=126);let l=Buffer.allocUnsafe(i?a+o:o);return l[0]=r.fin?r.opcode|128:r.opcode,r.rsv1&&(l[0]|=64),l[1]=c,c===126?l.writeUInt16BE(a,2):c===127&&(l[2]=l[3]=0,l.writeUIntBE(a,4,6)),r.mask?(l[1]|=128,l[o-4]=n[0],l[o-3]=n[1],l[o-2]=n[2],l[o-1]=n[3],s?[l,e]:i?(VUe(e,n,l,o,a),[l]):(VUe(e,n,e,0,a),[l,e])):[l,e]}close(e,r,n,i){let o;if(e===void 0)o=w9t;else{if(typeof e!="number"||!E9t(e))throw new TypeError("First argument must be a valid error code number");if(r===void 0||!r.length)o=Buffer.allocUnsafe(2),o.writeUInt16BE(e,0);else{let a=Buffer.byteLength(r);if(a>123)throw new RangeError("The message must not be greater than 123 bytes");o=Buffer.allocUnsafe(2+a),o.writeUInt16BE(e,0),typeof r=="string"?o.write(r,2):o.set(r,2)}}let s={[pl]:o.length,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._state!==tu?this.enqueue([this.dispatch,o,!1,s,i]):this.sendFrame(t.frame(o,s),i)}ping(e,r,n){let i,o;if(typeof e=="string"?(i=Buffer.byteLength(e),o=!1):I2(e)?(i=e.size,o=!1):(e=w1(e),i=e.length,o=w1.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let s={[pl]:i,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:9,readOnly:o,rsv1:!1};I2(e)?this._state!==tu?this.enqueue([this.getBlobData,e,!1,s,n]):this.getBlobData(e,!1,s,n):this._state!==tu?this.enqueue([this.dispatch,e,!1,s,n]):this.sendFrame(t.frame(e,s),n)}pong(e,r,n){let i,o;if(typeof e=="string"?(i=Buffer.byteLength(e),o=!1):I2(e)?(i=e.size,o=!1):(e=w1(e),i=e.length,o=w1.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let s={[pl]:i,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:10,readOnly:o,rsv1:!1};I2(e)?this._state!==tu?this.enqueue([this.getBlobData,e,!1,s,n]):this.getBlobData(e,!1,s,n):this._state!==tu?this.enqueue([this.dispatch,e,!1,s,n]):this.sendFrame(t.frame(e,s),n)}send(e,r,n){let i=this._extensions[zUe.extensionName],o=r.binary?2:1,s=r.compress,a,c;typeof e=="string"?(a=Buffer.byteLength(e),c=!1):I2(e)?(a=e.size,c=!1):(e=w1(e),a=e.length,c=w1.readOnly),this._firstFragment?(this._firstFragment=!1,s&&i&&i.params[i._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(s=a>=i._threshold),this._compress=s):(s=!1,o=0),r.fin&&(this._firstFragment=!0);let l={[pl]:a,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:c,rsv1:s};I2(e)?this._state!==tu?this.enqueue([this.getBlobData,e,this._compress,l,n]):this.getBlobData(e,this._compress,l,n):this._state!==tu?this.enqueue([this.dispatch,e,this._compress,l,n]):this.dispatch(e,this._compress,l,n)}getBlobData(e,r,n,i){this._bufferedBytes+=n[pl],this._state=I9t,e.arrayBuffer().then(o=>{if(this._socket.destroyed){let a=new Error("The socket was closed while the blob was being read");process.nextTick(bne,this,a,i);return}this._bufferedBytes-=n[pl];let s=w1(o);r?this.dispatch(s,r,n,i):(this._state=tu,this.sendFrame(t.frame(s,n),i),this.dequeue())}).catch(o=>{process.nextTick(C9t,this,o,i)})}dispatch(e,r,n,i){if(!r){this.sendFrame(t.frame(e,n),i);return}let o=this._extensions[zUe.extensionName];this._bufferedBytes+=n[pl],this._state=T9t,o.compress(e,n.fin,(s,a)=>{if(this._socket.destroyed){let c=new Error("The socket was closed while data was being compressed");bne(this,c,i);return}this._bufferedBytes-=n[pl],this._state=tu,n.readOnly=!1,this.sendFrame(t.frame(a,n),i),this.dequeue()})}dequeue(){for(;this._state===tu&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][pl],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][pl],this._queue.push(e)}sendFrame(e,r){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],r),this._socket.uncork()):this._socket.write(e[0],r)}};jUe.exports=yne;function bne(t,e,r){typeof r=="function"&&r(e);for(let n=0;n<t._queue.length;n++){let i=t._queue[n],o=i[i.length-1];typeof o=="function"&&o(e)}}function C9t(t,e,r){bne(t,e,r),t.onerror(e)}});var ZUe=Le((Non,QUe)=>{"use strict";var{kForOnEventAttribute:x3,kListener:_ne}=Wp(),qUe=Symbol("kCode"),HUe=Symbol("kData"),WUe=Symbol("kError"),GUe=Symbol("kMessage"),KUe=Symbol("kReason"),O2=Symbol("kTarget"),YUe=Symbol("kType"),JUe=Symbol("kWasClean"),Yp=class{constructor(e){this[O2]=null,this[YUe]=e}get target(){return this[O2]}get type(){return this[YUe]}};Object.defineProperty(Yp.prototype,"target",{enumerable:!0});Object.defineProperty(Yp.prototype,"type",{enumerable:!0});var A1=class extends Yp{constructor(e,r={}){super(e),this[qUe]=r.code===void 0?0:r.code,this[KUe]=r.reason===void 0?"":r.reason,this[JUe]=r.wasClean===void 0?!1:r.wasClean}get code(){return this[qUe]}get reason(){return this[KUe]}get wasClean(){return this[JUe]}};Object.defineProperty(A1.prototype,"code",{enumerable:!0});Object.defineProperty(A1.prototype,"reason",{enumerable:!0});Object.defineProperty(A1.prototype,"wasClean",{enumerable:!0});var N2=class extends Yp{constructor(e,r={}){super(e),this[WUe]=r.error===void 0?null:r.error,this[GUe]=r.message===void 0?"":r.message}get error(){return this[WUe]}get message(){return this[GUe]}};Object.defineProperty(N2.prototype,"error",{enumerable:!0});Object.defineProperty(N2.prototype,"message",{enumerable:!0});var A3=class extends Yp{constructor(e,r={}){super(e),this[HUe]=r.data===void 0?null:r.data}get data(){return this[HUe]}};Object.defineProperty(A3.prototype,"data",{enumerable:!0});var O9t={addEventListener(t,e,r={}){for(let i of this.listeners(t))if(!r[x3]&&i[_ne]===e&&!i[x3])return;let n;if(t==="message")n=function(o,s){let a=new A3("message",{data:s?o:o.toString()});a[O2]=this,UN(e,this,a)};else if(t==="close")n=function(o,s){let a=new A1("close",{code:o,reason:s.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});a[O2]=this,UN(e,this,a)};else if(t==="error")n=function(o){let s=new N2("error",{error:o,message:o.message});s[O2]=this,UN(e,this,s)};else if(t==="open")n=function(){let o=new Yp("open");o[O2]=this,UN(e,this,o)};else return;n[x3]=!!r[x3],n[_ne]=e,r.once?this.once(t,n):this.on(t,n)},removeEventListener(t,e){for(let r of this.listeners(t))if(r[_ne]===e&&!r[x3]){this.removeListener(t,r);break}}};QUe.exports={CloseEvent:A1,ErrorEvent:N2,Event:Yp,EventTarget:O9t,MessageEvent:A3};function UN(t,e,r){typeof t=="object"&&t.handleEvent?t.handleEvent.call(t,r):t.call(e,r)}});var Sne=Le((Pon,XUe)=>{"use strict";var{tokenChars:E3}=T2();function ld(t,e,r){t[e]===void 0?t[e]=[r]:t[e].push(r)}function N9t(t){let e=Object.create(null),r=Object.create(null),n=!1,i=!1,o=!1,s,a,c=-1,l=-1,u=-1,d=0;for(;d<t.length;d++)if(l=t.charCodeAt(d),s===void 0)if(u===-1&&E3[l]===1)c===-1&&(c=d);else if(d!==0&&(l===32||l===9))u===-1&&c!==-1&&(u=d);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d);let m=t.slice(c,u);l===44?(ld(e,m,r),r=Object.create(null)):s=m,c=u=-1}else throw new SyntaxError(`Unexpected character at index ${d}`);else if(a===void 0)if(u===-1&&E3[l]===1)c===-1&&(c=d);else if(l===32||l===9)u===-1&&c!==-1&&(u=d);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d),ld(r,t.slice(c,u),!0),l===44&&(ld(e,s,r),r=Object.create(null),s=void 0),c=u=-1}else if(l===61&&c!==-1&&u===-1)a=t.slice(c,d),c=u=-1;else throw new SyntaxError(`Unexpected character at index ${d}`);else if(i){if(E3[l]!==1)throw new SyntaxError(`Unexpected character at index ${d}`);c===-1?c=d:n||(n=!0),i=!1}else if(o)if(E3[l]===1)c===-1&&(c=d);else if(l===34&&c!==-1)o=!1,u=d;else if(l===92)i=!0;else throw new SyntaxError(`Unexpected character at index ${d}`);else if(l===34&&t.charCodeAt(d-1)===61)o=!0;else if(u===-1&&E3[l]===1)c===-1&&(c=d);else if(c!==-1&&(l===32||l===9))u===-1&&(u=d);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d);let m=t.slice(c,u);n&&(m=m.replace(/\\/g,""),n=!1),ld(r,a,m),l===44&&(ld(e,s,r),r=Object.create(null),s=void 0),a=void 0,c=u=-1}else throw new SyntaxError(`Unexpected character at index ${d}`);if(c===-1||o||l===32||l===9)throw new SyntaxError("Unexpected end of input");u===-1&&(u=d);let p=t.slice(c,u);return s===void 0?ld(e,p,r):(a===void 0?ld(r,p,!0):n?ld(r,a,p.replace(/\\/g,"")):ld(r,a,p),ld(e,s,r)),e}function P9t(t){return Object.keys(t).map(e=>{let r=t[e];return Array.isArray(r)||(r=[r]),r.map(n=>[e].concat(Object.keys(n).map(i=>{let o=n[i];return Array.isArray(o)||(o=[o]),o.map(s=>s===!0?i:`${i}=${s}`).join("; ")})).join("; ")).join(", ")}).join(", ")}XUe.exports={format:P9t,parse:N9t}});var jN=Le((Mon,dFe)=>{"use strict";var k9t=St("events"),D9t=St("https"),M9t=St("http"),rFe=St("net"),$9t=St("tls"),{randomBytes:L9t,createHash:B9t}=St("crypto"),{Duplex:kon,Readable:Don}=St("stream"),{URL:wne}=St("url"),hh=w3(),U9t=gne(),F9t=vne(),{isBlob:z9t}=T2(),{BINARY_TYPES:eFe,CLOSE_TIMEOUT:V9t,EMPTY_BUFFER:FN,GUID:j9t,kForOnEventAttribute:xne,kListener:q9t,kStatusCode:H9t,kWebSocket:no,NOOP:nFe}=Wp(),{EventTarget:{addEventListener:W9t,removeEventListener:G9t}}=ZUe(),{format:K9t,parse:Y9t}=Sne(),{toBuffer:J9t}=_3(),iFe=Symbol("kAborted"),Ane=[8,13],Jp=["CONNECTING","OPEN","CLOSING","CLOSED"],Q9t=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,On=class t extends k9t{constructor(e,r,n){super(),this._binaryType=eFe[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=FN,this._closeTimer=null,this._errorEmitted=!1,this._extensions={},this._paused=!1,this._protocol="",this._readyState=t.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,r===void 0?r=[]:Array.isArray(r)||(typeof r=="object"&&r!==null?(n=r,r=[]):r=[r]),oFe(this,e,r,n)):(this._autoPong=n.autoPong,this._closeTimeout=n.closeTimeout,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){eFe.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,r,n){let i=new U9t({allowSynchronousEvents:n.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:n.maxPayload,skipUTF8Validation:n.skipUTF8Validation}),o=new F9t(e,this._extensions,n.generateMask);this._receiver=i,this._sender=o,this._socket=e,i[no]=this,o[no]=this,e[no]=this,i.on("conclude",e7t),i.on("drain",t7t),i.on("error",r7t),i.on("message",n7t),i.on("ping",i7t),i.on("pong",o7t),o.onerror=s7t,e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),r.length>0&&e.unshift(r),e.on("close",cFe),e.on("data",VN),e.on("end",lFe),e.on("error",uFe),this._readyState=t.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=t.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[hh.extensionName]&&this._extensions[hh.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=t.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,r){if(this.readyState!==t.CLOSED){if(this.readyState===t.CONNECTING){qa(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===t.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=t.CLOSING,this._sender.close(e,r,!this._isServer,n=>{n||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),aFe(this)}}pause(){this.readyState===t.CONNECTING||this.readyState===t.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,r,n){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(n=e,e=r=void 0):typeof r=="function"&&(n=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){Ene(this,e,n);return}r===void 0&&(r=!this._isServer),this._sender.ping(e||FN,r,n)}pong(e,r,n){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(n=e,e=r=void 0):typeof r=="function"&&(n=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){Ene(this,e,n);return}r===void 0&&(r=!this._isServer),this._sender.pong(e||FN,r,n)}resume(){this.readyState===t.CONNECTING||this.readyState===t.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,r,n){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof r=="function"&&(n=r,r={}),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){Ene(this,e,n);return}let i={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...r};this._extensions[hh.extensionName]||(i.compress=!1),this._sender.send(e||FN,i,n)}terminate(){if(this.readyState!==t.CLOSED){if(this.readyState===t.CONNECTING){qa(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=t.CLOSING,this._socket.destroy())}}};Object.defineProperty(On,"CONNECTING",{enumerable:!0,value:Jp.indexOf("CONNECTING")});Object.defineProperty(On.prototype,"CONNECTING",{enumerable:!0,value:Jp.indexOf("CONNECTING")});Object.defineProperty(On,"OPEN",{enumerable:!0,value:Jp.indexOf("OPEN")});Object.defineProperty(On.prototype,"OPEN",{enumerable:!0,value:Jp.indexOf("OPEN")});Object.defineProperty(On,"CLOSING",{enumerable:!0,value:Jp.indexOf("CLOSING")});Object.defineProperty(On.prototype,"CLOSING",{enumerable:!0,value:Jp.indexOf("CLOSING")});Object.defineProperty(On,"CLOSED",{enumerable:!0,value:Jp.indexOf("CLOSED")});Object.defineProperty(On.prototype,"CLOSED",{enumerable:!0,value:Jp.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(t=>{Object.defineProperty(On.prototype,t,{enumerable:!0})});["open","error","close","message"].forEach(t=>{Object.defineProperty(On.prototype,`on${t}`,{enumerable:!0,get(){for(let e of this.listeners(t))if(e[xne])return e[q9t];return null},set(e){for(let r of this.listeners(t))if(r[xne]){this.removeListener(t,r);break}typeof e=="function"&&this.addEventListener(t,e,{[xne]:!0})}})});On.prototype.addEventListener=W9t;On.prototype.removeEventListener=G9t;dFe.exports=On;function oFe(t,e,r,n){let i={allowSynchronousEvents:!0,autoPong:!0,closeTimeout:V9t,protocolVersion:Ane[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...n,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(t._autoPong=i.autoPong,t._closeTimeout=i.closeTimeout,!Ane.includes(i.protocolVersion))throw new RangeError(`Unsupported protocol version: ${i.protocolVersion} (supported versions: ${Ane.join(", ")})`);let o;if(e instanceof wne)o=e;else try{o=new wne(e)}catch{throw new SyntaxError(`Invalid URL: ${e}`)}o.protocol==="http:"?o.protocol="ws:":o.protocol==="https:"&&(o.protocol="wss:"),t._url=o.href;let s=o.protocol==="wss:",a=o.protocol==="ws+unix:",c;if(o.protocol!=="ws:"&&!s&&!a?c=`The URL's protocol must be one of "ws:", "wss:", "http:", "https:", or "ws+unix:"`:a&&!o.pathname?c="The URL's pathname is empty":o.hash&&(c="The URL contains a fragment identifier"),c){let f=new SyntaxError(c);if(t._redirects===0)throw f;zN(t,f);return}let l=s?443:80,u=L9t(16).toString("base64"),d=s?D9t.request:M9t.request,p=new Set,m;if(i.createConnection=i.createConnection||(s?X9t:Z9t),i.defaultPort=i.defaultPort||l,i.port=o.port||l,i.host=o.hostname.startsWith("[")?o.hostname.slice(1,-1):o.hostname,i.headers={...i.headers,"Sec-WebSocket-Version":i.protocolVersion,"Sec-WebSocket-Key":u,Connection:"Upgrade",Upgrade:"websocket"},i.path=o.pathname+o.search,i.timeout=i.handshakeTimeout,i.perMessageDeflate&&(m=new hh(i.perMessageDeflate!==!0?i.perMessageDeflate:{},!1,i.maxPayload),i.headers["Sec-WebSocket-Extensions"]=K9t({[hh.extensionName]:m.offer()})),r.length){for(let f of r){if(typeof f!="string"||!Q9t.test(f)||p.has(f))throw new SyntaxError("An invalid or duplicated subprotocol was specified");p.add(f)}i.headers["Sec-WebSocket-Protocol"]=r.join(",")}if(i.origin&&(i.protocolVersion<13?i.headers["Sec-WebSocket-Origin"]=i.origin:i.headers.Origin=i.origin),(o.username||o.password)&&(i.auth=`${o.username}:${o.password}`),a){let f=i.path.split(":");i.socketPath=f[0],i.path=f[1]}let h;if(i.followRedirects){if(t._redirects===0){t._originalIpc=a,t._originalSecure=s,t._originalHostOrSocketPath=a?i.socketPath:o.host;let f=n&&n.headers;if(n={...n,headers:{}},f)for(let[y,v]of Object.entries(f))n.headers[y.toLowerCase()]=v}else if(t.listenerCount("redirect")===0){let f=a?t._originalIpc?i.socketPath===t._originalHostOrSocketPath:!1:t._originalIpc?!1:o.host===t._originalHostOrSocketPath;(!f||t._originalSecure&&!s)&&(delete i.headers.authorization,delete i.headers.cookie,f||delete i.headers.host,i.auth=void 0)}i.auth&&!n.headers.authorization&&(n.headers.authorization="Basic "+Buffer.from(i.auth).toString("base64")),h=t._req=d(i),t._redirects&&t.emit("redirect",t.url,h)}else h=t._req=d(i);i.timeout&&h.on("timeout",()=>{qa(t,h,"Opening handshake has timed out")}),h.on("error",f=>{h===null||h[iFe]||(h=t._req=null,zN(t,f))}),h.on("response",f=>{let y=f.headers.location,v=f.statusCode;if(y&&i.followRedirects&&v>=300&&v<400){if(++t._redirects>i.maxRedirects){qa(t,h,"Maximum redirects exceeded");return}h.abort();let _;try{_=new wne(y,e)}catch{let E=new SyntaxError(`Invalid URL: ${y}`);zN(t,E);return}oFe(t,_,r,n)}else t.emit("unexpected-response",h,f)||qa(t,h,`Unexpected server response: ${f.statusCode}`)}),h.on("upgrade",(f,y,v)=>{if(t.emit("upgrade",f),t.readyState!==On.CONNECTING)return;h=t._req=null;let _=f.headers.upgrade;if(_===void 0||_.toLowerCase()!=="websocket"){qa(t,y,"Invalid Upgrade header");return}let x=B9t("sha1").update(u+j9t).digest("base64");if(f.headers["sec-websocket-accept"]!==x){qa(t,y,"Invalid Sec-WebSocket-Accept header");return}let E=f.headers["sec-websocket-protocol"],I;if(E!==void 0?p.size?p.has(E)||(I="Server sent an invalid subprotocol"):I="Server sent a subprotocol but none was requested":p.size&&(I="Server sent no subprotocol"),I){qa(t,y,I);return}E&&(t._protocol=E);let N=f.headers["sec-websocket-extensions"];if(N!==void 0){if(!m){qa(t,y,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let L;try{L=Y9t(N)}catch{qa(t,y,"Invalid Sec-WebSocket-Extensions header");return}let B=Object.keys(L);if(B.length!==1||B[0]!==hh.extensionName){qa(t,y,"Server indicated an extension that was not requested");return}try{m.accept(L[hh.extensionName])}catch{qa(t,y,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[hh.extensionName]=m}t.setSocket(y,v,{allowSynchronousEvents:i.allowSynchronousEvents,generateMask:i.generateMask,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation})}),i.finishRequest?i.finishRequest(h,t):h.end()}function zN(t,e){t._readyState=On.CLOSING,t._errorEmitted=!0,t.emit("error",e),t.emitClose()}function Z9t(t){return t.path=t.socketPath,rFe.connect(t)}function X9t(t){return t.path=void 0,!t.servername&&t.servername!==""&&(t.servername=rFe.isIP(t.host)?"":t.host),$9t.connect(t)}function qa(t,e,r){t._readyState=On.CLOSING;let n=new Error(r);Error.captureStackTrace(n,qa),e.setHeader?(e[iFe]=!0,e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),process.nextTick(zN,t,n)):(e.destroy(n),e.once("error",t.emit.bind(t,"error")),e.once("close",t.emitClose.bind(t)))}function Ene(t,e,r){if(e){let n=z9t(e)?e.size:J9t(e).length;t._socket?t._sender._bufferedBytes+=n:t._bufferedAmount+=n}if(r){let n=new Error(`WebSocket is not open: readyState ${t.readyState} (${Jp[t.readyState]})`);process.nextTick(r,n)}}function e7t(t,e){let r=this[no];r._closeFrameReceived=!0,r._closeMessage=e,r._closeCode=t,r._socket[no]!==void 0&&(r._socket.removeListener("data",VN),process.nextTick(sFe,r._socket),t===1005?r.close():r.close(t,e))}function t7t(){let t=this[no];t.isPaused||t._socket.resume()}function r7t(t){let e=this[no];e._socket[no]!==void 0&&(e._socket.removeListener("data",VN),process.nextTick(sFe,e._socket),e.close(t[H9t])),e._errorEmitted||(e._errorEmitted=!0,e.emit("error",t))}function tFe(){this[no].emitClose()}function n7t(t,e){this[no].emit("message",t,e)}function i7t(t){let e=this[no];e._autoPong&&e.pong(t,!this._isServer,nFe),e.emit("ping",t)}function o7t(t){this[no].emit("pong",t)}function sFe(t){t.resume()}function s7t(t){let e=this[no];e.readyState!==On.CLOSED&&(e.readyState===On.OPEN&&(e._readyState=On.CLOSING,aFe(e)),this._socket.end(),e._errorEmitted||(e._errorEmitted=!0,e.emit("error",t)))}function aFe(t){t._closeTimer=setTimeout(t._socket.destroy.bind(t._socket),t._closeTimeout)}function cFe(){let t=this[no];if(this.removeListener("close",cFe),this.removeListener("data",VN),this.removeListener("end",lFe),t._readyState=On.CLOSING,!this._readableState.endEmitted&&!t._closeFrameReceived&&!t._receiver._writableState.errorEmitted&&this._readableState.length!==0){let e=this.read(this._readableState.length);t._receiver.write(e)}t._receiver.end(),this[no]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",tFe),t._receiver.on("finish",tFe))}function VN(t){this[no]._receiver.write(t)||this.pause()}function lFe(){let t=this[no];t._readyState=On.CLOSING,t._receiver.end(),this.end()}function uFe(){let t=this[no];this.removeListener("error",uFe),this.on("error",nFe),t&&(t._readyState=On.CLOSING,this.destroy())}});var hFe=Le((Lon,fFe)=>{"use strict";var $on=jN(),{Duplex:a7t}=St("stream");function pFe(t){t.emit("close")}function c7t(){!this.destroyed&&this._writableState.finished&&this.destroy()}function mFe(t){this.removeListener("error",mFe),this.destroy(),this.listenerCount("error")===0&&this.emit("error",t)}function l7t(t,e){let r=!0,n=new a7t({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return t.on("message",function(o,s){let a=!s&&n._readableState.objectMode?o.toString():o;n.push(a)||t.pause()}),t.once("error",function(o){n.destroyed||(r=!1,n.destroy(o))}),t.once("close",function(){n.destroyed||n.push(null)}),n._destroy=function(i,o){if(t.readyState===t.CLOSED){o(i),process.nextTick(pFe,n);return}let s=!1;t.once("error",function(c){s=!0,o(c)}),t.once("close",function(){s||o(i),process.nextTick(pFe,n)}),r&&t.terminate()},n._final=function(i){if(t.readyState===t.CONNECTING){t.once("open",function(){n._final(i)});return}t._socket!==null&&(t._socket._writableState.finished?(i(),n._readableState.endEmitted&&n.destroy()):(t._socket.once("finish",function(){i()}),t.close()))},n._read=function(){t.isPaused&&t.resume()},n._write=function(i,o,s){if(t.readyState===t.CONNECTING){t.once("open",function(){n._write(i,o,s)});return}t.send(i,s)},n.on("end",c7t),n.on("error",mFe),n}fFe.exports=l7t});var yFe=Le((Bon,gFe)=>{"use strict";var{tokenChars:u7t}=T2();function d7t(t){let e=new Set,r=-1,n=-1,i=0;for(i;i<t.length;i++){let s=t.charCodeAt(i);if(n===-1&&u7t[s]===1)r===-1&&(r=i);else if(i!==0&&(s===32||s===9))n===-1&&r!==-1&&(n=i);else if(s===44){if(r===-1)throw new SyntaxError(`Unexpected character at index ${i}`);n===-1&&(n=i);let a=t.slice(r,n);if(e.has(a))throw new SyntaxError(`The "${a}" subprotocol is duplicated`);e.add(a),r=n=-1}else throw new SyntaxError(`Unexpected character at index ${i}`)}if(r===-1||n!==-1)throw new SyntaxError("Unexpected end of input");let o=t.slice(r,i);if(e.has(o))throw new SyntaxError(`The "${o}" subprotocol is duplicated`);return e.add(o),e}gFe.exports={parse:d7t}});var AFe=Le((Fon,xFe)=>{"use strict";var p7t=St("events"),qN=St("http"),{Duplex:Uon}=St("stream"),{createHash:m7t}=St("crypto"),bFe=Sne(),E1=w3(),f7t=yFe(),h7t=jN(),{CLOSE_TIMEOUT:g7t,GUID:y7t,kWebSocket:b7t}=Wp(),v7t=/^[+/0-9A-Za-z]{22}==$/,vFe=0,_Fe=1,wFe=2,Rne=class extends p7t{constructor(e,r){if(super(),e={allowSynchronousEvents:!0,autoPong:!0,maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,closeTimeout:g7t,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:h7t,...e},e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=qN.createServer((n,i)=>{let o=qN.STATUS_CODES[426];i.writeHead(426,{"Content-Length":o.length,"Content-Type":"text/plain"}),i.end(o)}),this._server.listen(e.port,e.host,e.backlog,r)):e.server&&(this._server=e.server),this._server){let n=this.emit.bind(this,"connection");this._removeListeners=_7t(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(i,o,s)=>{this.handleUpgrade(i,o,s,n)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=vFe}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===wFe){e&&this.once("close",()=>{e(new Error("The server is not running"))}),process.nextTick(R3,this);return}if(e&&this.once("close",e),this._state!==_Fe)if(this._state=_Fe,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(R3,this):process.nextTick(R3,this);else{let r=this._server;this._removeListeners(),this._removeListeners=this._server=null,r.close(()=>{R3(this)})}}shouldHandle(e){if(this.options.path){let r=e.url.indexOf("?");if((r!==-1?e.url.slice(0,r):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,r,n,i){r.on("error",SFe);let o=e.headers["sec-websocket-key"],s=e.headers.upgrade,a=+e.headers["sec-websocket-version"];if(e.method!=="GET"){R1(this,e,r,405,"Invalid HTTP method");return}if(s===void 0||s.toLowerCase()!=="websocket"){R1(this,e,r,400,"Invalid Upgrade header");return}if(o===void 0||!v7t.test(o)){R1(this,e,r,400,"Missing or invalid Sec-WebSocket-Key header");return}if(a!==13&&a!==8){R1(this,e,r,400,"Missing or invalid Sec-WebSocket-Version header",{"Sec-WebSocket-Version":"13, 8"});return}if(!this.shouldHandle(e)){T3(r,400);return}let c=e.headers["sec-websocket-protocol"],l=new Set;if(c!==void 0)try{l=f7t.parse(c)}catch{R1(this,e,r,400,"Invalid Sec-WebSocket-Protocol header");return}let u=e.headers["sec-websocket-extensions"],d={};if(this.options.perMessageDeflate&&u!==void 0){let p=new E1(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let m=bFe.parse(u);m[E1.extensionName]&&(p.accept(m[E1.extensionName]),d[E1.extensionName]=p)}catch{R1(this,e,r,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let p={origin:e.headers[`${a===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(p,(m,h,f,y)=>{if(!m)return T3(r,h||401,f,y);this.completeUpgrade(d,o,l,e,r,n,i)});return}if(!this.options.verifyClient(p))return T3(r,401)}this.completeUpgrade(d,o,l,e,r,n,i)}completeUpgrade(e,r,n,i,o,s,a){if(!o.readable||!o.writable)return o.destroy();if(o[b7t])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>vFe)return T3(o,503);let l=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${m7t("sha1").update(r+y7t).digest("base64")}`],u=new this.options.WebSocket(null,void 0,this.options);if(n.size){let d=this.options.handleProtocols?this.options.handleProtocols(n,i):n.values().next().value;d&&(l.push(`Sec-WebSocket-Protocol: ${d}`),u._protocol=d)}if(e[E1.extensionName]){let d=e[E1.extensionName].params,p=bFe.format({[E1.extensionName]:[d]});l.push(`Sec-WebSocket-Extensions: ${p}`),u._extensions=e}this.emit("headers",l,i),o.write(l.concat(`\r
`).join(`\r
`)),o.removeListener("error",SFe),u.setSocket(o,s,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(u),u.on("close",()=>{this.clients.delete(u),this._shouldEmitClose&&!this.clients.size&&process.nextTick(R3,this)})),a(u,i)}};xFe.exports=Rne;function _7t(t,e){for(let r of Object.keys(e))t.on(r,e[r]);return function(){for(let n of Object.keys(e))t.removeListener(n,e[n])}}function R3(t){t._state=wFe,t.emit("close")}function SFe(){this.destroy()}function T3(t,e,r,n){r=r||qN.STATUS_CODES[e],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...n},t.once("finish",t.destroy),t.end(`HTTP/1.1 ${e} ${qN.STATUS_CODES[e]}\r
`+Object.keys(n).map(i=>`${i}: ${n[i]}`).join(`\r
`)+`\r
\r
`+r)}function R1(t,e,r,n,i,o){if(t.listenerCount("wsClientError")){let s=new Error(i);Error.captureStackTrace(s,R1),t.emit("wsClientError",s,r,e)}else T3(r,n,i,o)}});var S7t,w7t,x7t,A7t,EFe,RFe=g(()=>{"use strict";S7t=Ni(hFe(),1),w7t=Ni(gne(),1),x7t=Ni(vne(),1),A7t=Ni(jN(),1),EFe=Ni(AFe(),1)});function pd(t){return t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),"")}var Zp,eP,Lne=g(()=>{"use strict";Zp=(t,e)=>{let r=/^[0-9A-Fa-f]+$/;if(!t||t.length%2!=0||!r.test(t))throw new Error(`cannot create uint8array from invalid hex string: "${t}"`);let n=new Uint8Array(t.match(/../g).map(o=>parseInt(o,16)));if(!e)return n;if(t.length/2>e)throw new Error("hex value cannot fit in a buffer of "+e+" byte(s)");let i=new Uint8Array(e);return i.set(n,e-n.length),i},eP=(t,e)=>{let r=e-t.length;if(r>0){let n=new Uint8Array(r).fill(0);return new Uint8Array([...n,...t])}if(r<0){let n=r*-1,i=0;for(let o=0;o<n&&o<t.length;o++)t[o]===0&&i++;if(i!==n)throw new Error(`invalid number of starting zeroes. Expected number of zeroes: ${n}. Found: ${i}.`);return t.slice(n,n+e)}return t}});function D2(t){let e=AOt(t);return YFe(e)}function Bne(t,e){let r=t.padStart(Math.ceil(t.length/2)*2,"0"),n=Zp(r,e);return D2(n.reduce((i,o)=>i+String.fromCharCode(o),""))}function YFe(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function AOt(t){if(arguments.length===0)throw new TypeError("1 argument required, but only 0 present.");let e;for(t=`${t}`,e=0;e<t.length;e++)if(t.charCodeAt(e)>255)throw new Error(`InvalidCharacterError: found code point greater than 255:${t.charCodeAt(e)} at position ${e}`);let r="";for(e=0;e<t.length;e+=3){let n=[void 0,void 0,void 0,void 0];n[0]=t.charCodeAt(e)>>2,n[1]=(t.charCodeAt(e)&3)<<4,t.length>e+1&&(n[1]|=t.charCodeAt(e+1)>>4,n[2]=(t.charCodeAt(e+1)&15)<<2),t.length>e+2&&(n[2]|=t.charCodeAt(e+2)>>6,n[3]=t.charCodeAt(e+2)&63);for(let i=0;i<n.length;i++)typeof n[i]>"u"?r+="=":r+=EOt(n[i])}return r}function EOt(t){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";if(t>=0&&t<64)return e[t]}var JFe=g(()=>{"use strict";Lne()});var QFe=g(()=>{"use strict"});function ROt(t){if(t.length>=255)throw new TypeError("Alphabet too long");let e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){let u=t.charAt(l),d=u.charCodeAt(0);if(e[d]!==255)throw new TypeError(u+" is ambiguous");e[d]=l}let r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),o=Math.log(256)/Math.log(r);function s(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,d=0,p=0,m=l.length;for(;p!==m&&l[p]===0;)p++,u++;let h=(m-p)*o+1>>>0,f=new Uint8Array(h);for(;p!==m;){let _=l[p],x=0;for(let E=h-1;(_!==0||x<d)&&E!==-1;E--,x++)_+=256*f[E]>>>0,f[E]=_%r>>>0,_=_/r>>>0;if(_!==0)throw new Error("Non-zero carry");d=x,p++}let y=h-d;for(;y!==h&&f[y]===0;)y++;let v=n.repeat(u);for(;y<h;++y)v+=t.charAt(f[y]);return v}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,d=0,p=0;for(;l[u]===n;)d++,u++;let m=(l.length-u)*i+1>>>0,h=new Uint8Array(m);for(;u<l.length;){let _=l.charCodeAt(u);if(_>255)return;let x=e[_];if(x===255)return;let E=0;for(let I=m-1;(x!==0||E<p)&&I!==-1;I--,E++)x+=r*h[I]>>>0,h[I]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");p=E,u++}let f=m-p;for(;f!==m&&h[f]===0;)f++;let y=new Uint8Array(d+(m-f)),v=d;for(;f!==m;)y[v++]=h[f++];return y}function c(l){let u=a(l);if(u)return u;throw new Error("Non-base"+r+" character")}return{encode:s,decodeUnsafe:a,decode:c}}var ZFe,XFe=g(()=>{"use strict";ZFe=ROt});var Une={};lr(Une,{default:()=>C3});var TOt,C3,Fne=g(()=>{"use strict";XFe();TOt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",C3=ZFe(TOt)});function IOt(t){let e=t;for(;e&&!(e.encode&&e.decode&&e.decodeUnsafe)&&e.default;)e=e.default;return e}var eze,tze=g(()=>{"use strict";Fne();eze=IOt(Une)});import*as Xp from"node:crypto";var T1,rze=g(()=>{"use strict";T1=Xp&&typeof Xp=="object"&&"webcrypto"in Xp?Xp.webcrypto:Xp&&typeof Xp=="object"&&"randomBytes"in Xp?Xp:void 0});function tm(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function _h(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function _o(t,...e){if(!tm(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function tP(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");_h(t.outputLen),_h(t.blockLen)}function rm(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function rP(t,e){_o(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function ize(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function ml(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function nP(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function nu(t,e){return t<<32-e|t>>>e}function OOt(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function NOt(t){for(let e=0;e<t.length;e++)t[e]=OOt(t[e]);return t}function fl(t){if(_o(t),oze)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=POt[t[r]];return e}function nze(t){if(t>=em._0&&t<=em._9)return t-em._0;if(t>=em.A&&t<=em.F)return t-(em.A-10);if(t>=em.a&&t<=em.f)return t-(em.a-10)}function I1(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(oze)return Uint8Array.fromHex(t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let s=nze(t.charCodeAt(o)),a=nze(t.charCodeAt(o+1));if(s===void 0||a===void 0){let c=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}n[i]=s*16+a}return n}function Vne(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function C1(t){return typeof t=="string"&&(t=Vne(t)),_o(t),t}function Ss(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];_o(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}function M2(t){let e=n=>t().update(C1(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function $2(t=32){if(T1&&typeof T1.getRandomValues=="function")return T1.getRandomValues(new Uint8Array(t));if(T1&&typeof T1.randomBytes=="function")return Uint8Array.from(T1.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}var COt,zne,oze,POt,em,Sh,nm=g(()=>{"use strict";rze();COt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;zne=COt?t=>t:NOt,oze=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",POt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));em={_0:48,_9:57,A:65,F:70,a:97,f:102};Sh=class{}});function kOt(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,l=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+l,a,n)}function sze(t,e,r){return t&e^~t&r}function aze(t,e,r){return t&e^t&r^e&r}var O3,im,So,wo,cze=g(()=>{"use strict";nm();O3=class extends Sh{constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=nP(this.buffer)}update(e){rm(this),e=C1(e),_o(e);let{view:r,buffer:n,blockLen:i}=this,o=e.length;for(let s=0;s<o;){let a=Math.min(i-this.pos,o-s);if(a===i){let c=nP(e);for(;i<=o-s;s+=i)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){rm(this),rP(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,ml(this.buffer.subarray(s)),this.padOffset>i-s&&(this.process(n,0),s=0);for(let d=s;d<i;d++)r[d]=0;kOt(n,i-8,BigInt(this.length*8),o),this.process(n,0);let a=nP(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return e.destroyed=s,e.finished=o,e.length=i,e.pos=a,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}},im=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),So=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),wo=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209])});function DOt(t,e=!1){return e?{h:Number(t&iP),l:Number(t>>lze&iP)}:{h:Number(t>>lze&iP)|0,l:Number(t&iP)|0}}function oP(t,e=!1){let r=t.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let o=0;o<r;o++){let{h:s,l:a}=DOt(t[o],e);[n[o],i[o]]=[s,a]}return[n,i]}function md(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var iP,lze,jne,qne,O1,N1,N3,P3,uze,dze,pze,mze,fze,hze,gze,yze,bze,vze,Hne=g(()=>{"use strict";iP=BigInt(4294967295),lze=BigInt(32);jne=(t,e,r)=>t>>>r,qne=(t,e,r)=>t<<32-r|e>>>r,O1=(t,e,r)=>t>>>r|e<<32-r,N1=(t,e,r)=>t<<32-r|e>>>r,N3=(t,e,r)=>t<<64-r|e>>>r-32,P3=(t,e,r)=>t>>>r-32|e<<64-r,uze=(t,e,r)=>t<<r|e>>>32-r,dze=(t,e,r)=>e<<r|t>>>32-r,pze=(t,e,r)=>e<<r-32|t>>>64-r,mze=(t,e,r)=>t<<r-32|e>>>64-r;fze=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),hze=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,gze=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),yze=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,bze=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),vze=(t,e,r,n,i,o)=>e+r+n+i+o+(t/2**32|0)|0});var $Ot,wh,sP,_ze,LOt,BOt,xh,Ah,aP,Wne,L2,cP,Sze,k3=g(()=>{"use strict";cze();Hne();nm();$Ot=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),wh=new Uint32Array(64),sP=class extends O3{constructor(e=32){super(64,e,8,!1),this.A=im[0]|0,this.B=im[1]|0,this.C=im[2]|0,this.D=im[3]|0,this.E=im[4]|0,this.F=im[5]|0,this.G=im[6]|0,this.H=im[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:a,H:c}=this;return[e,r,n,i,o,s,a,c]}set(e,r,n,i,o,s,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,r){for(let d=0;d<16;d++,r+=4)wh[d]=e.getUint32(r,!1);for(let d=16;d<64;d++){let p=wh[d-15],m=wh[d-2],h=nu(p,7)^nu(p,18)^p>>>3,f=nu(m,17)^nu(m,19)^m>>>10;wh[d]=f+wh[d-7]+h+wh[d-16]|0}let{A:n,B:i,C:o,D:s,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){let p=nu(a,6)^nu(a,11)^nu(a,25),m=u+p+sze(a,c,l)+$Ot[d]+wh[d]|0,f=(nu(n,2)^nu(n,13)^nu(n,22))+aze(n,i,o)|0;u=l,l=c,c=a,a=s+m|0,s=o,o=i,i=n,n=m+f|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,i,o,s,a,c,l,u)}roundClean(){ml(wh)}destroy(){this.set(0,0,0,0,0,0,0,0),ml(this.buffer)}},_ze=oP(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),LOt=_ze[0],BOt=_ze[1],xh=new Uint32Array(80),Ah=new Uint32Array(80),aP=class extends O3{constructor(e=64){super(128,e,16,!1),this.Ah=wo[0]|0,this.Al=wo[1]|0,this.Bh=wo[2]|0,this.Bl=wo[3]|0,this.Ch=wo[4]|0,this.Cl=wo[5]|0,this.Dh=wo[6]|0,this.Dl=wo[7]|0,this.Eh=wo[8]|0,this.El=wo[9]|0,this.Fh=wo[10]|0,this.Fl=wo[11]|0,this.Gh=wo[12]|0,this.Gl=wo[13]|0,this.Hh=wo[14]|0,this.Hl=wo[15]|0}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:p,Gh:m,Gl:h,Hh:f,Hl:y}=this;return[e,r,n,i,o,s,a,c,l,u,d,p,m,h,f,y]}set(e,r,n,i,o,s,a,c,l,u,d,p,m,h,f,y){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=p|0,this.Gh=m|0,this.Gl=h|0,this.Hh=f|0,this.Hl=y|0}process(e,r){for(let x=0;x<16;x++,r+=4)xh[x]=e.getUint32(r),Ah[x]=e.getUint32(r+=4);for(let x=16;x<80;x++){let E=xh[x-15]|0,I=Ah[x-15]|0,N=O1(E,I,1)^O1(E,I,8)^jne(E,I,7),L=N1(E,I,1)^N1(E,I,8)^qne(E,I,7),B=xh[x-2]|0,P=Ah[x-2]|0,V=O1(B,P,19)^N3(B,P,61)^jne(B,P,6),j=N1(B,P,19)^P3(B,P,61)^qne(B,P,6),ee=gze(L,j,Ah[x-7],Ah[x-16]),O=yze(ee,N,V,xh[x-7],xh[x-16]);xh[x]=O|0,Ah[x]=ee|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:p,Fh:m,Fl:h,Gh:f,Gl:y,Hh:v,Hl:_}=this;for(let x=0;x<80;x++){let E=O1(d,p,14)^O1(d,p,18)^N3(d,p,41),I=N1(d,p,14)^N1(d,p,18)^P3(d,p,41),N=d&m^~d&f,L=p&h^~p&y,B=bze(_,I,L,BOt[x],Ah[x]),P=vze(B,v,E,N,LOt[x],xh[x]),V=B|0,j=O1(n,i,28)^N3(n,i,34)^N3(n,i,39),ee=N1(n,i,28)^P3(n,i,34)^P3(n,i,39),O=n&o^n&a^o&a,b=i&s^i&c^s&c;v=f|0,_=y|0,f=m|0,y=h|0,m=d|0,h=p|0,{h:d,l:p}=md(l|0,u|0,P|0,V|0),l=a|0,u=c|0,a=o|0,c=s|0,o=n|0,s=i|0;let S=fze(V,ee,b);n=hze(S,P,j,O),i=S|0}({h:n,l:i}=md(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=md(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l:c}=md(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=md(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:p}=md(this.Eh|0,this.El|0,d|0,p|0),{h:m,l:h}=md(this.Fh|0,this.Fl|0,m|0,h|0),{h:f,l:y}=md(this.Gh|0,this.Gl|0,f|0,y|0),{h:v,l:_}=md(this.Hh|0,this.Hl|0,v|0,_|0),this.set(n,i,o,s,a,c,l,u,d,p,m,h,f,y,v,_)}roundClean(){ml(xh,Ah)}destroy(){ml(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Wne=class extends aP{constructor(){super(48),this.Ah=So[0]|0,this.Al=So[1]|0,this.Bh=So[2]|0,this.Bl=So[3]|0,this.Ch=So[4]|0,this.Cl=So[5]|0,this.Dh=So[6]|0,this.Dl=So[7]|0,this.Eh=So[8]|0,this.El=So[9]|0,this.Fh=So[10]|0,this.Fl=So[11]|0,this.Gh=So[12]|0,this.Gl=So[13]|0,this.Hh=So[14]|0,this.Hl=So[15]|0}},L2=M2(()=>new sP),cP=M2(()=>new aP),Sze=M2(()=>new Wne)});var B2,Gne=g(()=>{"use strict";k3();B2=L2});function wze(t){function e(o){var s=Uint8Array.from(o),a=t(s),c=s.length+4,l=new Uint8Array(c);return l.set(s,0),l.set(a.subarray(0,4),s.length),C3.encode(l)}function r(o){var s=o.slice(0,-4),a=o.slice(-4),c=t(s);if(!(a[0]^c[0]|a[1]^c[1]|a[2]^c[2]|a[3]^c[3]))return s}function n(o){var s=C3.decodeUnsafe(o);if(s!=null)return r(s)}function i(o){var s=C3.decode(o),a=r(s);if(a==null)throw new Error("Invalid checksum");return a}return{encode:e,decode:i,decodeUnsafe:n}}var xze=g(()=>{"use strict";Fne()});var Kne={};lr(Kne,{default:()=>FOt});function UOt(t){return B2(B2(t))}var FOt,Aze=g(()=>{"use strict";Gne();xze();FOt=wze(UOt)});function zOt(t){let e=t;for(;e&&!(e.encode&&e.decode&&e.decodeUnsafe)&&e.default;)e=e.default;return e}var Eze,Rze=g(()=>{"use strict";Aze();Eze=zOt(Kne)});var Tze,fd=g(()=>{"use strict";JFe();QFe();Lne();tze();Rze();Tze=32});var lP,Yne,Ize=g(()=>{"use strict";nm();lP=class extends Sh{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,tP(e);let n=C1(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),ml(o)}update(e){return rm(this),this.iHash.update(e),this}digestInto(e){rm(this),_o(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Yne=(t,e,r)=>new lP(t,e).update(r).digest();Yne.create=(t,e)=>new lP(t,e)});var U2,uP=g(()=>{"use strict";U2=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"]});var Cze,Oze,Jne=g(()=>{"use strict";Cze=(function(){function t(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return t.prototype.resize_if_necessary=function(e){if(this.buffer_size-this.offset<e){this.buffer_size=Math.max(this.buffer_size*2,this.buffer_size+e);var r=new ArrayBuffer(this.buffer_size);new Uint8Array(r).set(new Uint8Array(this.buffer)),this.buffer=r,this.view=new DataView(r)}},t.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},t.prototype.store_value=function(e,r){var n=r.substring(1),i=parseInt(n)/8;this.resize_if_necessary(i);var o=r[0]==="f"?"setFloat".concat(n):r[0]==="i"?"setInt".concat(n):"setUint".concat(n);this.view[o](this.offset,e,!0),this.offset+=i},t.prototype.store_bytes=function(e){this.resize_if_necessary(e.length),new Uint8Array(this.buffer).set(new Uint8Array(e),this.offset),this.offset+=e.length},t})(),Oze=(function(){function t(e){this.offset=0,this.buffer_size=e.length,this.buffer=new ArrayBuffer(e.length),new Uint8Array(this.buffer).set(e),this.view=new DataView(this.buffer)}return t.prototype.assert_enough_buffer=function(e){if(this.offset+e>this.buffer.byteLength)throw new Error("Error in schema, the buffer is smaller than expected")},t.prototype.consume_value=function(e){var r=e.substring(1),n=parseInt(r)/8;this.assert_enough_buffer(n);var i=e[0]==="f"?"getFloat".concat(r):e[0]==="i"?"getInt".concat(r):"getUint".concat(r),o=this.view[i](this.offset,!0);return this.offset+=n,o},t.prototype.consume_bytes=function(e){this.assert_enough_buffer(e);var r=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,r},t})()});function Nze(t){return Array.isArray(t)||!!t&&typeof t=="object"&&"length"in t&&typeof t.length=="number"&&(t.length===0||t.length>0&&t.length-1 in t)}function P1(t,e,r){if(typeof t!==e)throw new Error("Expected ".concat(e," not ").concat(typeof t,"(").concat(t,") at ").concat(r.join(".")))}function Pze(t,e){var r=["number","string","bigint","boolean"].includes(typeof t),n=typeof t=="object"&&t!==null&&"toString"in t;if(!r&&!n)throw new Error("Expected bigint, number, boolean or string not ".concat(typeof t,"(").concat(t,") at ").concat(e.join(".")))}function Qne(t,e,r){if(t!==e)throw new Error("Array length ".concat(t," does not match schema length ").concat(e," at ").concat(r.join(".")))}function kze(t,e){if(typeof t!="object"||t===null)throw new Error("Expected object not ".concat(typeof t,"(").concat(t,") at ").concat(e.join(".")))}var jOt,Bsn,Usn,Zne=g(()=>{"use strict";uP();jOt=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})();Bsn=U2.concat(["bool","string"]),Usn=(function(t){jOt(e,t);function e(r,n){var i="Invalid schema: ".concat(JSON.stringify(r)," expected ").concat(n);return t.call(this,i)||this}return e})(Error)});var qOt,Mze=g(()=>{"use strict";uP();Jne();Zne();qOt=(function(){function t(e){this.encoded=new Cze,this.fieldPath=["value"],this.checkTypes=e}return t.prototype.encode=function(e,r){return this.encode_value(e,r),this.encoded.get_used_buffer()},t.prototype.encode_value=function(e,r){if(typeof r=="string"){if(U2.includes(r))return this.encode_integer(e,r);if(r==="string")return this.encode_string(e);if(r==="bool")return this.encode_boolean(e)}if(typeof r=="object"){if("option"in r)return this.encode_option(e,r);if("enum"in r)return this.encode_enum(e,r);if("array"in r)return this.encode_array(e,r);if("set"in r)return this.encode_set(e,r);if("map"in r)return this.encode_map(e,r);if("struct"in r)return this.encode_struct(e,r)}},t.prototype.encode_integer=function(e,r){var n=parseInt(r.substring(1));n<=32||r=="f64"?(this.checkTypes&&P1(e,"number",this.fieldPath),this.encoded.store_value(e,r)):(this.checkTypes&&Pze(e,this.fieldPath),this.encode_bigint(BigInt(e),n))},t.prototype.encode_bigint=function(e,r){for(var n=r/8,i=new Uint8Array(n),o=0;o<n;o++)i[o]=Number(e&BigInt(255)),e=e>>BigInt(8);this.encoded.store_bytes(new Uint8Array(i))},t.prototype.encode_string=function(e){this.checkTypes&&P1(e,"string",this.fieldPath);for(var r=e,n=[],i=0;i<r.length;i++){var o=r.charCodeAt(i);o<128?n.push(o):o<2048?n.push(192|o>>6,128|o&63):o<55296||o>=57344?n.push(224|o>>12,128|o>>6&63,128|o&63):(i++,o=65536+((o&1023)<<10|r.charCodeAt(i)&1023),n.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|o&63))}this.encoded.store_value(n.length,"u32"),this.encoded.store_bytes(new Uint8Array(n))},t.prototype.encode_boolean=function(e){this.checkTypes&&P1(e,"boolean",this.fieldPath),this.encoded.store_value(e?1:0,"u8")},t.prototype.encode_option=function(e,r){e==null?this.encoded.store_value(0,"u8"):(this.encoded.store_value(1,"u8"),this.encode_value(e,r.option))},t.prototype.encode_enum=function(e,r){this.checkTypes&&kze(e,this.fieldPath);for(var n=Object.keys(e)[0],i=0;i<r.enum.length;i++){var o=r.enum[i];if(n===Object.keys(o.struct)[0])return this.encoded.store_value(i,"u8"),this.encode_struct(e,o)}throw new Error("Enum key (".concat(n,") not found in enum schema: ").concat(JSON.stringify(r)," at ").concat(this.fieldPath.join(".")))},t.prototype.encode_array=function(e,r){if(Nze(e))return this.encode_arraylike(e,r);if(e instanceof ArrayBuffer)return this.encode_buffer(e,r);throw new Error("Expected Array-like not ".concat(typeof e,"(").concat(e,") at ").concat(this.fieldPath.join(".")))},t.prototype.encode_arraylike=function(e,r){r.array.len?Qne(e.length,r.array.len,this.fieldPath):this.encoded.store_value(e.length,"u32");for(var n=0;n<e.length;n++)this.encode_value(e[n],r.array.type)},t.prototype.encode_buffer=function(e,r){r.array.len?Qne(e.byteLength,r.array.len,this.fieldPath):this.encoded.store_value(e.byteLength,"u32"),this.encoded.store_bytes(new Uint8Array(e))},t.prototype.encode_set=function(e,r){this.checkTypes&&P1(e,"object",this.fieldPath);var n=e instanceof Set,i=n?Array.from(e.values()):Object.values(e);this.encoded.store_value(i.length,"u32");for(var o=0,s=i;o<s.length;o++){var a=s[o];this.encode_value(a,r.set)}},t.prototype.encode_map=function(e,r){this.checkTypes&&P1(e,"object",this.fieldPath);var n=e instanceof Map,i=n?Array.from(e.keys()):Object.keys(e);this.encoded.store_value(i.length,"u32");for(var o=0,s=i;o<s.length;o++){var a=s[o];this.encode_value(a,r.map.key),this.encode_value(n?e.get(a):e[a],r.map.value)}},t.prototype.encode_struct=function(e,r){this.checkTypes&&P1(e,"object",this.fieldPath);for(var n=0,i=Object.keys(r.struct);n<i.length;n++){var o=i[n];this.fieldPath.push(o),this.encode_value(e[o],r.struct[o]),this.fieldPath.pop()}},t})()});var HOt,$ze=g(()=>{"use strict";uP();Jne();HOt=(function(){function t(e){this.buffer=new Oze(e)}return t.prototype.decode=function(e){return this.decode_value(e)},t.prototype.decode_value=function(e){if(typeof e=="string"){if(U2.includes(e))return this.decode_integer(e);if(e==="string")return this.decode_string();if(e==="bool")return this.decode_boolean()}if(typeof e=="object"){if("option"in e)return this.decode_option(e);if("enum"in e)return this.decode_enum(e);if("array"in e)return this.decode_array(e);if("set"in e)return this.decode_set(e);if("map"in e)return this.decode_map(e);if("struct"in e)return this.decode_struct(e)}throw new Error("Unsupported type: ".concat(e))},t.prototype.decode_integer=function(e){var r=parseInt(e.substring(1));return r<=32||e=="f64"?this.buffer.consume_value(e):this.decode_bigint(r,e.startsWith("i"))},t.prototype.decode_bigint=function(e,r){r===void 0&&(r=!1);var n=e/8,i=new Uint8Array(this.buffer.consume_bytes(n)),o=i.reduceRight(function(s,a){return s+a.toString(16).padStart(2,"0")},"");return r&&i[n-1]?BigInt.asIntN(e,BigInt("0x".concat(o))):BigInt("0x".concat(o))},t.prototype.decode_string=function(){for(var e=this.decode_integer("u32"),r=new Uint8Array(this.buffer.consume_bytes(e)),n=[],i=0;i<e;++i){var o=r[i];if(o<128)n.push(o);else if(o<224)n.push((o&31)<<6|r[++i]&63);else if(o<240)n.push((o&15)<<12|(r[++i]&63)<<6|r[++i]&63);else{var s=(o&7)<<18|(r[++i]&63)<<12|(r[++i]&63)<<6|r[++i]&63;n.push(s)}}return String.fromCodePoint.apply(String,n)},t.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},t.prototype.decode_option=function(e){var r=this.buffer.consume_value("u8");if(r===1)return this.decode_value(e.option);if(r!==0)throw new Error("Invalid option ".concat(r));return null},t.prototype.decode_enum=function(e){var r,n=this.buffer.consume_value("u8");if(n>e.enum.length)throw new Error("Enum option ".concat(n," is not available"));var i=e.enum[n].struct,o=Object.keys(i)[0];return r={},r[o]=this.decode_value(i[o]),r},t.prototype.decode_array=function(e){for(var r=[],n=e.array.len?e.array.len:this.decode_integer("u32"),i=0;i<n;++i)r.push(this.decode_value(e.array.type));return r},t.prototype.decode_set=function(e){for(var r=this.decode_integer("u32"),n=new Set,i=0;i<r;++i)n.add(this.decode_value(e.set));return n},t.prototype.decode_map=function(e){for(var r=this.decode_integer("u32"),n=new Map,i=0;i<r;++i){var o=this.decode_value(e.map.key),s=this.decode_value(e.map.value);n.set(o,s)}return n},t.prototype.decode_struct=function(e){var r={};for(var n in e.struct)r[n]=this.decode_value(e.struct[n]);return r},t})()});var Lze=g(()=>{"use strict";Mze();$ze();Zne()});var Bze=g(()=>{"use strict"});var GOt,KOt,YOt,JOt,QOt,ZOt,XOt,eNt,tNt,dP=g(()=>{"use strict";GOt=new Uint8Array([75,69,77,0,16]),KOt=new Uint8Array([72,80,75,69,0,16,0,1,0,2]),YOt=new Uint8Array([72,80,75,69,45,118,49]),JOt=new Uint8Array([115,101,99,114,101,116]),QOt=new Uint8Array([101,97,101,95,112,114,107]),ZOt=new Uint8Array([115,104,97,114,101,100,95,115,101,99,114,101,116]),XOt=new Uint8Array([0,32,72,80,75,69,45,118,49,72,80,75,69,0,16,0,1,0,2,107,101,121,0,143,195,174,184,50,73,10,75,90,179,228,32,35,40,125,178,154,31,75,199,194,34,192,223,34,135,39,183,10,64,33,18,47,63,4,233,32,108,209,36,19,80,53,41,180,122,198,166,48,185,46,196,207,125,35,69,8,208,175,151,113,201,158,80]),eNt=new Uint8Array([0,12,72,80,75,69,45,118,49,72,80,75,69,0,16,0,1,0,2,98,97,115,101,95,110,111,110,99,101,0,143,195,174,184,50,73,10,75,90,179,228,32,35,40,125,178,154,31,75,199,194,34,192,223,34,135,39,183,10,64,33,18,47,63,4,233,32,108,209,36,19,80,53,41,180,122,198,166,48,185,46,196,207,125,35,69,8,208,175,151,113,201,158,80]),tNt=new Uint8Array([113,111,115,95,101,110,99,114,121,112,116,105,111,110,95,104,109,97,99,95,109,101,115,115,97,103,101])});var pP,Xne=g(()=>{"use strict";Lze();fd();Bze();dP();pP=t=>{let e=Zp(t);if(e.length<2)throw new Error("failed to convert DER-encoded signature: insufficient length");if(e[0]!==48)throw new Error("failed to convert DER-encoded signature: invalid format (missing SEQUENCE tag)");let r=1,n=e[r];if(n<=127){if(e.length<2+n)throw new Error("failed to convert DER-encoded signature: inconsistent message length header");r+=1}else throw new Error("failed to convert DER-encoded signature: unexpectedly large or invalid signature length");if(e[r]!==2)throw new Error("failed to convert DER-encoded signature: invalid tag for r");r++;let i=e[r];if(i>33)throw new Error("failed to convert DER-encoded signature: unexpected length for r");r++;let o=e.slice(r,r+i);if(r+=i,e[r]!==2)throw new Error("failed to convert DER-encoded signature: invalid tag for s");r++;let s=e[r];if(s>33)throw new Error("failed to convert DER-encoded signature: unexpected length for s");r++;let a=e.slice(r,r+s),c=eP(o,32),l=eP(a,32);return new Uint8Array([...c,...l])}});var eie,Uze=g(()=>{"use strict";fd();dP();Xne();(function(t){t.NOTARIZER="notarizer",t.SIGNER="signer",t.EVM_PARSER="evm-parser",t.TLS_FETCHER="tls-fetcher",t.UMP="ump"})(eie||(eie={}))});var zze=Le((Fze,mP)=>{"use strict";(function(t,e){"use strict";var r=Math.pow(2,-24),n=Math.pow(2,32),i=Math.pow(2,53);function o(c){var l=new ArrayBuffer(256),u=new DataView(l),d,p=0;function m(V){for(var j=l.byteLength,ee=p+V;j<ee;)j*=2;if(j!==l.byteLength){var O=u;l=new ArrayBuffer(j),u=new DataView(l);for(var b=p+3>>2,S=0;S<b;++S)u.setUint32(S*4,O.getUint32(S*4))}return d=V,u}function h(){p+=d}function f(V){h(m(8).setFloat64(p,V))}function y(V){h(m(1).setUint8(p,V))}function v(V){for(var j=m(V.length),ee=0;ee<V.length;++ee)j.setUint8(p+ee,V[ee]);h()}function _(V){h(m(2).setUint16(p,V))}function x(V){h(m(4).setUint32(p,V))}function E(V){var j=V%n,ee=(V-j)/n,O=m(8);O.setUint32(p,ee),O.setUint32(p+4,j),h()}function I(V,j){j<24?y(V<<5|j):j<256?(y(V<<5|24),y(j)):j<65536?(y(V<<5|25),_(j)):j<4294967296?(y(V<<5|26),x(j)):(y(V<<5|27),E(j))}function N(V){var j;if(V===!1)return y(244);if(V===!0)return y(245);if(V===null)return y(246);if(V===e)return y(247);switch(typeof V){case"number":if(Math.floor(V)===V){if(0<=V&&V<=i)return I(0,V);if(-i<=V&&V<0)return I(1,-(V+1))}return y(251),f(V);case"string":var ee=[];for(j=0;j<V.length;++j){var O=V.charCodeAt(j);O<128?ee.push(O):O<2048?(ee.push(192|O>>6),ee.push(128|O&63)):O<55296?(ee.push(224|O>>12),ee.push(128|O>>6&63),ee.push(128|O&63)):(O=(O&1023)<<10,O|=V.charCodeAt(++j)&1023,O+=65536,ee.push(240|O>>18),ee.push(128|O>>12&63),ee.push(128|O>>6&63),ee.push(128|O&63))}return I(3,ee.length),v(ee);default:var b;if(Array.isArray(V))for(b=V.length,I(4,b),j=0;j<b;++j)N(V[j]);else if(V instanceof Uint8Array)I(2,V.length),v(V);else{var S=Object.keys(V);for(b=S.length,I(5,b),j=0;j<b;++j){var R=S[j];N(R),N(V[R])}}}}if(N(c),"slice"in l)return l.slice(0,p);for(var L=new ArrayBuffer(p),B=new DataView(L),P=0;P<p;++P)B.setUint8(P,u.getUint8(P));return L}function s(c,l,u){var d=new DataView(c),p=0;typeof l!="function"&&(l=function(ee){return ee}),typeof u!="function"&&(u=function(){return e});function m(ee,O){return p+=O,ee}function h(ee){return m(new Uint8Array(c,p,ee),ee)}function f(){var ee=new ArrayBuffer(4),O=new DataView(ee),b=x(),S=b&32768,R=b&31744,k=b&1023;if(R===31744)R=261120;else if(R!==0)R+=114688;else if(k!==0)return k*r;return O.setUint32(0,S<<16|R<<13|k<<13),O.getFloat32(0)}function y(){return m(d.getFloat32(p),4)}function v(){return m(d.getFloat64(p),8)}function _(){return m(d.getUint8(p),1)}function x(){return m(d.getUint16(p),2)}function E(){return m(d.getUint32(p),4)}function I(){return E()*n+E()}function N(){return d.getUint8(p)!==255?!1:(p+=1,!0)}function L(ee){if(ee<24)return ee;if(ee===24)return _();if(ee===25)return x();if(ee===26)return E();if(ee===27)return I();if(ee===31)return-1;throw"Invalid length encoding"}function B(ee){var O=_();if(O===255)return-1;var b=L(O&31);if(b<0||O>>5!==ee)throw"Invalid indefinite length element";return b}function P(ee,O){for(var b=0;b<O;++b){var S=_();S&128&&(S<224?(S=(S&31)<<6|_()&63,O-=1):S<240?(S=(S&15)<<12|(_()&63)<<6|_()&63,O-=2):(S=(S&15)<<18|(_()&63)<<12|(_()&63)<<6|_()&63,O-=3)),S<65536?ee.push(S):(S-=65536,ee.push(55296|S>>10),ee.push(56320|S&1023))}}function V(){var ee=_(),O=ee>>5,b=ee&31,S,R;if(O===7)switch(b){case 25:return f();case 26:return y();case 27:return v()}if(R=L(b),R<0&&(O<2||6<O))throw"Invalid length";switch(O){case 0:return R;case 1:return-1-R;case 2:if(R<0){for(var k=[],F=0;(R=B(O))>=0;)F+=R,k.push(h(R));var q=new Uint8Array(F),K=0;for(S=0;S<k.length;++S)q.set(k[S],K),K+=k[S].length;return q}return h(R);case 3:var z=[];if(R<0)for(;(R=B(O))>=0;)P(z,R);else P(z,R);return String.fromCharCode.apply(null,z);case 4:var A;if(R<0)for(A=[];!N();)A.push(V());else for(A=new Array(R),S=0;S<R;++S)A[S]=V();return A;case 5:var W={};for(S=0;S<R||R<0&&!N();++S){var xe=V();W[xe]=V()}return W;case 6:return l(V(),R);case 7:switch(R){case 20:return!1;case 21:return!0;case 22:return null;case 23:return e;default:return u(R)}}}var j=V();if(p!==c.byteLength)throw"Remaining bytes";return j}var a={encode:o,decode:s};typeof define=="function"&&define.amd?define("cbor/cbor",a):typeof mP<"u"&&mP.exports?mP.exports=a:t.CBOR||(t.CBOR=a)})(Fze)});var jze=Le(()=>{"use strict";var Vze;(function(t){(function(e){var r=typeof globalThis=="object"?globalThis:typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:a(),n=i(t);typeof r.Reflect<"u"&&(n=i(r.Reflect,n)),e(n,r),typeof r.Reflect>"u"&&(r.Reflect=t);function i(c,l){return function(u,d){Object.defineProperty(c,u,{configurable:!0,writable:!0,value:d}),l&&l(u,d)}}function o(){try{return Function("return this;")()}catch{}}function s(){try{return(0,eval)("(function() { return this; })()")}catch{}}function a(){return o()||s()}})(function(e,r){var n=Object.prototype.hasOwnProperty,i=typeof Symbol=="function",o=i&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",s=i&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",a=typeof Object.create=="function",c={__proto__:[]}instanceof Array,l=!a&&!c,u={create:a?function(){return X(Object.create(null))}:c?function(){return X({__proto__:null})}:function(){return X({})},has:l?function(H,G){return n.call(H,G)}:function(H,G){return G in H},get:l?function(H,G){return n.call(H,G)?H[G]:void 0}:function(H,G){return H[G]}},d=Object.getPrototypeOf(Function),p=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:w(),m=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:C(),h=typeof WeakMap=="function"?WeakMap:$(),f=i?Symbol.for("@reflect-metadata:registry"):void 0,y=Qr(),v=xn(y);function _(H,G,te,_e){if(A(te)){if(!bt(H))throw new TypeError;if(!vr(G))throw new TypeError;return ee(H,G)}else{if(!bt(H))throw new TypeError;if(!ge(G))throw new TypeError;if(!ge(_e)&&!A(_e)&&!W(_e))throw new TypeError;return W(_e)&&(_e=void 0),te=ot(te),O(H,G,te,_e)}}e("decorate",_);function x(H,G){function te(_e,Ne){if(!ge(_e))throw new TypeError;if(!A(Ne)&&!sr(Ne))throw new TypeError;F(H,G,_e,Ne)}return te}e("metadata",x);function E(H,G,te,_e){if(!ge(te))throw new TypeError;return A(_e)||(_e=ot(_e)),F(H,G,te,_e)}e("defineMetadata",E);function I(H,G,te){if(!ge(G))throw new TypeError;return A(te)||(te=ot(te)),b(H,G,te)}e("hasMetadata",I);function N(H,G,te){if(!ge(G))throw new TypeError;return A(te)||(te=ot(te)),S(H,G,te)}e("hasOwnMetadata",N);function L(H,G,te){if(!ge(G))throw new TypeError;return A(te)||(te=ot(te)),R(H,G,te)}e("getMetadata",L);function B(H,G,te){if(!ge(G))throw new TypeError;return A(te)||(te=ot(te)),k(H,G,te)}e("getOwnMetadata",B);function P(H,G){if(!ge(H))throw new TypeError;return A(G)||(G=ot(G)),q(H,G)}e("getMetadataKeys",P);function V(H,G){if(!ge(H))throw new TypeError;return A(G)||(G=ot(G)),K(H,G)}e("getOwnMetadataKeys",V);function j(H,G,te){if(!ge(G))throw new TypeError;if(A(te)||(te=ot(te)),!ge(G))throw new TypeError;A(te)||(te=ot(te));var _e=Lr(G,te,!1);return A(_e)?!1:_e.OrdinaryDeleteMetadata(H,G,te)}e("deleteMetadata",j);function ee(H,G){for(var te=H.length-1;te>=0;--te){var _e=H[te],Ne=_e(G);if(!A(Ne)&&!W(Ne)){if(!vr(Ne))throw new TypeError;G=Ne}}return G}function O(H,G,te,_e){for(var Ne=H.length-1;Ne>=0;--Ne){var st=H[Ne],Ot=st(G,te,_e);if(!A(Ot)&&!W(Ot)){if(!ge(Ot))throw new TypeError;_e=Ot}}return _e}function b(H,G,te){var _e=S(H,G,te);if(_e)return!0;var Ne=Ir(G);return W(Ne)?!1:b(H,Ne,te)}function S(H,G,te){var _e=Lr(G,te,!1);return A(_e)?!1:dt(_e.OrdinaryHasOwnMetadata(H,G,te))}function R(H,G,te){var _e=S(H,G,te);if(_e)return k(H,G,te);var Ne=Ir(G);if(!W(Ne))return R(H,Ne,te)}function k(H,G,te){var _e=Lr(G,te,!1);if(!A(_e))return _e.OrdinaryGetOwnMetadata(H,G,te)}function F(H,G,te,_e){var Ne=Lr(te,_e,!0);Ne.OrdinaryDefineOwnMetadata(H,G,te,_e)}function q(H,G){var te=K(H,G),_e=Ir(H);if(_e===null)return te;var Ne=q(_e,G);if(Ne.length<=0)return te;if(te.length<=0)return Ne;for(var st=new m,Ot=[],He=0,De=te;He<De.length;He++){var et=De[He],Ue=st.has(et);Ue||(st.add(et),Ot.push(et))}for(var je=0,nr=Ne;je<nr.length;je++){var et=nr[je],Ue=st.has(et);Ue||(st.add(et),Ot.push(et))}return Ot}function K(H,G){var te=Lr(H,G,!1);return te?te.OrdinaryOwnMetadataKeys(H,G):[]}function z(H){if(H===null)return 1;switch(typeof H){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return H===null?1:6;default:return 6}}function A(H){return H===void 0}function W(H){return H===null}function xe(H){return typeof H=="symbol"}function ge(H){return typeof H=="object"?H!==null:typeof H=="function"}function ke(H,G){switch(z(H)){case 0:return H;case 1:return H;case 2:return H;case 3:return H;case 4:return H;case 5:return H}var te=G===3?"string":G===5?"number":"default",_e=qm(H,o);if(_e!==void 0){var Ne=_e.call(H,te);if(ge(Ne))throw new TypeError;return Ne}return Ye(H,te==="default"?"number":te)}function Ye(H,G){if(G==="string"){var te=H.toString;if(Re(te)){var _e=te.call(H);if(!ge(_e))return _e}var Ne=H.valueOf;if(Re(Ne)){var _e=Ne.call(H);if(!ge(_e))return _e}}else{var Ne=H.valueOf;if(Re(Ne)){var _e=Ne.call(H);if(!ge(_e))return _e}var st=H.toString;if(Re(st)){var _e=st.call(H);if(!ge(_e))return _e}}throw new TypeError}function dt(H){return!!H}function ut(H){return""+H}function ot(H){var G=ke(H,3);return xe(G)?G:ut(G)}function bt(H){return Array.isArray?Array.isArray(H):H instanceof Object?H instanceof Array:Object.prototype.toString.call(H)==="[object Array]"}function Re(H){return typeof H=="function"}function vr(H){return typeof H=="function"}function sr(H){switch(z(H)){case 3:return!0;case 4:return!0;default:return!1}}function an(H,G){return H===G||H!==H&&G!==G}function qm(H,G){var te=H[G];if(te!=null){if(!Re(te))throw new TypeError;return te}}function jr(H){var G=qm(H,s);if(!Re(G))throw new TypeError;var te=G.call(H);if(!ge(te))throw new TypeError;return te}function cn(H){return H.value}function Hm(H){var G=H.next();return G.done?!1:G}function Jr(H){var G=H.return;G&&G.call(H)}function Ir(H){var G=Object.getPrototypeOf(H);if(typeof H!="function"||H===d||G!==d)return G;var te=H.prototype,_e=te&&Object.getPrototypeOf(te);if(_e==null||_e===Object.prototype)return G;var Ne=_e.constructor;return typeof Ne!="function"||Ne===H?G:Ne}function Po(){var H;!A(f)&&typeof r.Reflect<"u"&&!(f in r.Reflect)&&typeof r.Reflect.defineMetadata=="function"&&(H=ks(r.Reflect));var G,te,_e,Ne=new h,st={registerProvider:Ot,getProvider:De,setProvider:Ue};return st;function Ot(je){if(!Object.isExtensible(st))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case H===je:break;case A(G):G=je;break;case G===je:break;case A(te):te=je;break;case te===je:break;default:_e===void 0&&(_e=new m),_e.add(je);break}}function He(je,nr){if(!A(G)){if(G.isProviderFor(je,nr))return G;if(!A(te)){if(te.isProviderFor(je,nr))return G;if(!A(_e))for(var Lt=jr(_e);;){var Kt=Hm(Lt);if(!Kt)return;var Ds=cn(Kt);if(Ds.isProviderFor(je,nr))return Jr(Lt),Ds}}}if(!A(H)&&H.isProviderFor(je,nr))return H}function De(je,nr){var Lt=Ne.get(je),Kt;return A(Lt)||(Kt=Lt.get(nr)),A(Kt)&&(Kt=He(je,nr),A(Kt)||(A(Lt)&&(Lt=new p,Ne.set(je,Lt)),Lt.set(nr,Kt))),Kt}function et(je){if(A(je))throw new TypeError;return G===je||te===je||!A(_e)&&_e.has(je)}function Ue(je,nr,Lt){if(!et(Lt))throw new Error("Metadata provider not registered.");var Kt=De(je,nr);if(Kt!==Lt){if(!A(Kt))return!1;var Ds=Ne.get(je);A(Ds)&&(Ds=new p,Ne.set(je,Ds)),Ds.set(nr,Lt)}return!0}}function Qr(){var H;return!A(f)&&ge(r.Reflect)&&Object.isExtensible(r.Reflect)&&(H=r.Reflect[f]),A(H)&&(H=Po()),!A(f)&&ge(r.Reflect)&&Object.isExtensible(r.Reflect)&&Object.defineProperty(r.Reflect,f,{enumerable:!1,configurable:!1,writable:!1,value:H}),H}function xn(H){var G=new h,te={isProviderFor:function(et,Ue){var je=G.get(et);return A(je)?!1:je.has(Ue)},OrdinaryDefineOwnMetadata:Ot,OrdinaryHasOwnMetadata:Ne,OrdinaryGetOwnMetadata:st,OrdinaryOwnMetadataKeys:He,OrdinaryDeleteMetadata:De};return y.registerProvider(te),te;function _e(et,Ue,je){var nr=G.get(et),Lt=!1;if(A(nr)){if(!je)return;nr=new p,G.set(et,nr),Lt=!0}var Kt=nr.get(Ue);if(A(Kt)){if(!je)return;if(Kt=new p,nr.set(Ue,Kt),!H.setProvider(et,Ue,te))throw nr.delete(Ue),Lt&&G.delete(et),new Error("Wrong provider for target.")}return Kt}function Ne(et,Ue,je){var nr=_e(Ue,je,!1);return A(nr)?!1:dt(nr.has(et))}function st(et,Ue,je){var nr=_e(Ue,je,!1);if(!A(nr))return nr.get(et)}function Ot(et,Ue,je,nr){var Lt=_e(je,nr,!0);Lt.set(et,Ue)}function He(et,Ue){var je=[],nr=_e(et,Ue,!1);if(A(nr))return je;for(var Lt=nr.keys(),Kt=jr(Lt),Ds=0;;){var $n=Hm(Kt);if(!$n)return je.length=Ds,je;var Hn=cn($n);try{je[Ds]=Hn}catch(aT){try{Jr(Kt)}finally{throw aT}}Ds++}}function De(et,Ue,je){var nr=_e(Ue,je,!1);if(A(nr)||!nr.delete(et))return!1;if(nr.size===0){var Lt=G.get(Ue);A(Lt)||(Lt.delete(je),Lt.size===0&&G.delete(Lt))}return!0}}function ks(H){var G=H.defineMetadata,te=H.hasOwnMetadata,_e=H.getOwnMetadata,Ne=H.getOwnMetadataKeys,st=H.deleteMetadata,Ot=new h,He={isProviderFor:function(De,et){var Ue=Ot.get(De);return!A(Ue)&&Ue.has(et)?!0:Ne(De,et).length?(A(Ue)&&(Ue=new m,Ot.set(De,Ue)),Ue.add(et),!0):!1},OrdinaryDefineOwnMetadata:G,OrdinaryHasOwnMetadata:te,OrdinaryGetOwnMetadata:_e,OrdinaryOwnMetadataKeys:Ne,OrdinaryDeleteMetadata:st};return He}function Lr(H,G,te){var _e=y.getProvider(H,G);if(!A(_e))return _e;if(te){if(y.setProvider(H,G,v))return v;throw new Error("Illegal state.")}}function w(){var H={},G=[],te=(function(){function He(De,et,Ue){this._index=0,this._keys=De,this._values=et,this._selector=Ue}return He.prototype["@@iterator"]=function(){return this},He.prototype[s]=function(){return this},He.prototype.next=function(){var De=this._index;if(De>=0&&De<this._keys.length){var et=this._selector(this._keys[De],this._values[De]);return De+1>=this._keys.length?(this._index=-1,this._keys=G,this._values=G):this._index++,{value:et,done:!1}}return{value:void 0,done:!0}},He.prototype.throw=function(De){throw this._index>=0&&(this._index=-1,this._keys=G,this._values=G),De},He.prototype.return=function(De){return this._index>=0&&(this._index=-1,this._keys=G,this._values=G),{value:De,done:!0}},He})(),_e=(function(){function He(){this._keys=[],this._values=[],this._cacheKey=H,this._cacheIndex=-2}return Object.defineProperty(He.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),He.prototype.has=function(De){return this._find(De,!1)>=0},He.prototype.get=function(De){var et=this._find(De,!1);return et>=0?this._values[et]:void 0},He.prototype.set=function(De,et){var Ue=this._find(De,!0);return this._values[Ue]=et,this},He.prototype.delete=function(De){var et=this._find(De,!1);if(et>=0){for(var Ue=this._keys.length,je=et+1;je<Ue;je++)this._keys[je-1]=this._keys[je],this._values[je-1]=this._values[je];return this._keys.length--,this._values.length--,an(De,this._cacheKey)&&(this._cacheKey=H,this._cacheIndex=-2),!0}return!1},He.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=H,this._cacheIndex=-2},He.prototype.keys=function(){return new te(this._keys,this._values,Ne)},He.prototype.values=function(){return new te(this._keys,this._values,st)},He.prototype.entries=function(){return new te(this._keys,this._values,Ot)},He.prototype["@@iterator"]=function(){return this.entries()},He.prototype[s]=function(){return this.entries()},He.prototype._find=function(De,et){if(!an(this._cacheKey,De)){this._cacheIndex=-1;for(var Ue=0;Ue<this._keys.length;Ue++)if(an(this._keys[Ue],De)){this._cacheIndex=Ue;break}}return this._cacheIndex<0&&et&&(this._cacheIndex=this._keys.length,this._keys.push(De),this._values.push(void 0)),this._cacheIndex},He})();return _e;function Ne(He,De){return He}function st(He,De){return De}function Ot(He,De){return[He,De]}}function C(){var H=(function(){function G(){this._map=new p}return Object.defineProperty(G.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),G.prototype.has=function(te){return this._map.has(te)},G.prototype.add=function(te){return this._map.set(te,te),this},G.prototype.delete=function(te){return this._map.delete(te)},G.prototype.clear=function(){this._map.clear()},G.prototype.keys=function(){return this._map.keys()},G.prototype.values=function(){return this._map.keys()},G.prototype.entries=function(){return this._map.entries()},G.prototype["@@iterator"]=function(){return this.keys()},G.prototype[s]=function(){return this.keys()},G})();return H}function $(){var H=16,G=u.create(),te=_e();return(function(){function De(){this._key=_e()}return De.prototype.has=function(et){var Ue=Ne(et,!1);return Ue!==void 0?u.has(Ue,this._key):!1},De.prototype.get=function(et){var Ue=Ne(et,!1);return Ue!==void 0?u.get(Ue,this._key):void 0},De.prototype.set=function(et,Ue){var je=Ne(et,!0);return je[this._key]=Ue,this},De.prototype.delete=function(et){var Ue=Ne(et,!1);return Ue!==void 0?delete Ue[this._key]:!1},De.prototype.clear=function(){this._key=_e()},De})();function _e(){var De;do De="@@WeakMap@@"+He();while(u.has(G,De));return G[De]=!0,De}function Ne(De,et){if(!n.call(De,te)){if(!et)return;Object.defineProperty(De,te,{value:u.create()})}return De[te]}function st(De,et){for(var Ue=0;Ue<et;++Ue)De[Ue]=Math.random()*255|0;return De}function Ot(De){if(typeof Uint8Array=="function"){var et=new Uint8Array(De);return typeof crypto<"u"?crypto.getRandomValues(et):typeof msCrypto<"u"?msCrypto.getRandomValues(et):st(et,De),et}return st(new Array(De),De)}function He(){var De=Ot(H);De[6]=De[6]&79|64,De[8]=De[8]&191|128;for(var et="",Ue=0;Ue<H;++Ue){var je=De[Ue];(Ue===4||Ue===6||Ue===8)&&(et+="-"),je<16&&(et+="0"),et+=je.toString(16).toLowerCase()}return et}}function X(H){return H.__=void 0,delete H.__,H}})})(Vze||(Vze={}))});function qze(...t){let e=t.map(i=>i.byteLength).reduce((i,o)=>i+o),r=new Uint8Array(e),n=0;return t.map(i=>new Uint8Array(i)).forEach(i=>{for(let o of i)r[n++]=o}),r.buffer}function hP(t,e){if(!(t&&e)||t.byteLength!==e.byteLength)return!1;let r=new Uint8Array(t),n=new Uint8Array(e);for(let i=0;i<t.byteLength;i++)if(r[i]!==n[i])return!1;return!0}var aNt,We,tie,cNt,lNt,uNt,fP,hl,at,om=g(()=>{"use strict";aNt="[object ArrayBuffer]",We=class t{static isArrayBuffer(e){return Object.prototype.toString.call(e)===aNt}static toArrayBuffer(e){return this.isArrayBuffer(e)?e:e.byteLength===e.buffer.byteLength||e.byteOffset===0&&e.byteLength===e.buffer.byteLength?e.buffer:this.toUint8Array(e.buffer).slice(e.byteOffset,e.byteOffset+e.byteLength).buffer}static toUint8Array(e){return this.toView(e,Uint8Array)}static toView(e,r){if(e.constructor===r)return e;if(this.isArrayBuffer(e))return new r(e);if(this.isArrayBufferView(e))return new r(e.buffer,e.byteOffset,e.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(e){return this.isArrayBufferView(e)||this.isArrayBuffer(e)}static isArrayBufferView(e){return ArrayBuffer.isView(e)||e&&this.isArrayBuffer(e.buffer)}static isEqual(e,r){let n=t.toUint8Array(e),i=t.toUint8Array(r);if(n.length!==i.byteLength)return!1;for(let o=0;o<n.length;o++)if(n[o]!==i[o])return!1;return!0}static concat(...e){let r;Array.isArray(e[0])&&!(e[1]instanceof Function)||Array.isArray(e[0])&&e[1]instanceof Function?r=e[0]:e[e.length-1]instanceof Function?r=e.slice(0,e.length-1):r=e;let n=0;for(let s of r)n+=s.byteLength;let i=new Uint8Array(n),o=0;for(let s of r){let a=this.toUint8Array(s);i.set(a,o),o+=a.length}return e[e.length-1]instanceof Function?this.toView(i,e[e.length-1]):i.buffer}},tie="string",cNt=/^[0-9a-f\s]+$/i,lNt=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,uNt=/^[a-zA-Z0-9-_]+$/,fP=class{static fromString(e){let r=unescape(encodeURIComponent(e)),n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n.buffer}static toString(e){let r=We.toUint8Array(e),n="";for(let o=0;o<r.length;o++)n+=String.fromCharCode(r[o]);return decodeURIComponent(escape(n))}},hl=class{static toString(e,r=!1){let n=We.toArrayBuffer(e),i=new DataView(n),o="";for(let s=0;s<n.byteLength;s+=2){let a=i.getUint16(s,r);o+=String.fromCharCode(a)}return o}static fromString(e,r=!1){let n=new ArrayBuffer(e.length*2),i=new DataView(n);for(let o=0;o<e.length;o++)i.setUint16(o*2,e.charCodeAt(o),r);return n}},at=class t{static isHex(e){return typeof e===tie&&cNt.test(e)}static isBase64(e){return typeof e===tie&&lNt.test(e)}static isBase64Url(e){return typeof e===tie&&uNt.test(e)}static ToString(e,r="utf8"){let n=We.toUint8Array(e);switch(r.toLowerCase()){case"utf8":return this.ToUtf8String(n);case"binary":return this.ToBinary(n);case"hex":return this.ToHex(n);case"base64":return this.ToBase64(n);case"base64url":return this.ToBase64Url(n);case"utf16le":return hl.toString(n,!0);case"utf16":case"utf16be":return hl.toString(n);default:throw new Error(`Unknown type of encoding '${r}'`)}}static FromString(e,r="utf8"){if(!e)return new ArrayBuffer(0);switch(r.toLowerCase()){case"utf8":return this.FromUtf8String(e);case"binary":return this.FromBinary(e);case"hex":return this.FromHex(e);case"base64":return this.FromBase64(e);case"base64url":return this.FromBase64Url(e);case"utf16le":return hl.fromString(e,!0);case"utf16":case"utf16be":return hl.fromString(e);default:throw new Error(`Unknown type of encoding '${r}'`)}}static ToBase64(e){let r=We.toUint8Array(e);if(typeof btoa<"u"){let n=this.ToString(r,"binary");return btoa(n)}else return Buffer.from(r).toString("base64")}static FromBase64(e){let r=this.formatString(e);if(!r)return new ArrayBuffer(0);if(!t.isBase64(r))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return typeof atob<"u"?this.FromBinary(atob(r)):new Uint8Array(Buffer.from(r,"base64")).buffer}static FromBase64Url(e){let r=this.formatString(e);if(!r)return new ArrayBuffer(0);if(!t.isBase64Url(r))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(r.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(e){return this.ToBase64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(e,r=t.DEFAULT_UTF8_ENCODING){switch(r){case"ascii":return this.FromBinary(e);case"utf8":return fP.fromString(e);case"utf16":case"utf16be":return hl.fromString(e);case"utf16le":case"usc2":return hl.fromString(e,!0);default:throw new Error(`Unknown type of encoding '${r}'`)}}static ToUtf8String(e,r=t.DEFAULT_UTF8_ENCODING){switch(r){case"ascii":return this.ToBinary(e);case"utf8":return fP.toString(e);case"utf16":case"utf16be":return hl.toString(e);case"utf16le":case"usc2":return hl.toString(e,!0);default:throw new Error(`Unknown type of encoding '${r}'`)}}static FromBinary(e){let r=e.length,n=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=e.charCodeAt(i);return n.buffer}static ToBinary(e){let r=We.toUint8Array(e),n="";for(let i=0;i<r.length;i++)n+=String.fromCharCode(r[i]);return n}static ToHex(e){let r=We.toUint8Array(e),n="",i=r.length;for(let o=0;o<i;o++){let s=r[o];s<16&&(n+="0"),n+=s.toString(16)}return n}static FromHex(e){let r=this.formatString(e);if(!r)return new ArrayBuffer(0);if(!t.isHex(r))throw new TypeError("Argument 'hexString' is not HEX encoded");r.length%2&&(r=`0${r}`);let n=new Uint8Array(r.length/2);for(let i=0;i<r.length;i=i+2){let o=r.slice(i,i+2);n[i/2]=parseInt(o,16)}return n.buffer}static ToUtf16String(e,r=!1){return hl.toString(e,r)}static FromUtf16String(e,r=!1){return hl.fromString(e,r)}static Base64Padding(e){let r=4-e.length%4;if(r<4)for(let n=0;n<r;n++)e+="=";return e}static formatString(e){return e?.replace(/[\n\r\t ]/g,"")||""}};at.DEFAULT_UTF8_ENCODING="utf8"});function k1(t,e){let r=0;if(t.length===1)return t[0];for(let n=t.length-1;n>=0;n--)r+=t[t.length-1-n]*Math.pow(2,e*n);return r}function Eh(t,e,r=-1){let n=r,i=t,o=0,s=Math.pow(2,e);for(let a=1;a<8;a++){if(t<s){let c;if(n<0)c=new ArrayBuffer(a),o=a;else{if(n<a)return new ArrayBuffer(0);c=new ArrayBuffer(n),o=n}let l=new Uint8Array(c);for(let u=a-1;u>=0;u--){let d=Math.pow(2,u*e);l[o-u-1]=Math.floor(i/d),i-=l[o-u-1]*d}return c}s*=Math.pow(2,e)}return new ArrayBuffer(0)}function gP(...t){let e=0,r=0;for(let o of t)e+=o.length;let n=new ArrayBuffer(e),i=new Uint8Array(n);for(let o of t)i.set(o,r),r+=o.length;return i}function rie(){let t=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){let a=t[0]===255&&t[1]&128,c=t[0]===0&&(t[1]&128)===0;(a||c)&&this.warnings.push("Needlessly long format")}let e=new ArrayBuffer(this.valueHex.byteLength),r=new Uint8Array(e);for(let a=0;a<this.valueHex.byteLength;a++)r[a]=0;r[0]=t[0]&128;let n=k1(r,8),i=new ArrayBuffer(this.valueHex.byteLength),o=new Uint8Array(i);for(let a=0;a<this.valueHex.byteLength;a++)o[a]=t[a];return o[0]&=127,k1(o,8)-n}function Wze(t){let e=t<0?t*-1:t,r=128;for(let n=1;n<8;n++){if(e<=r){if(t<0){let s=r-e,a=Eh(s,8,n),c=new Uint8Array(a);return c[0]|=128,a}let i=Eh(e,8,n),o=new Uint8Array(i);if(o[0]&128){let s=i.slice(0),a=new Uint8Array(s);i=new ArrayBuffer(i.byteLength+1),o=new Uint8Array(i);for(let c=0;c<s.byteLength;c++)o[c+1]=a[c];o[0]=0}return i}r*=Math.pow(2,8)}return new ArrayBuffer(0)}function Gze(t,e){if(t.byteLength!==e.byteLength)return!1;let r=new Uint8Array(t),n=new Uint8Array(e);for(let i=0;i<r.length;i++)if(r[i]!==n[i])return!1;return!0}function la(t,e){let r=t.toString(10);if(e<r.length)return"";let n=e-r.length,i=new Array(n);for(let s=0;s<n;s++)i[s]="0";return i.join("").concat(r)}var gan,Kze=g(()=>{"use strict";gan=Math.log(2)});var vd={};lr(vd,{Any:()=>gd,BaseBlock:()=>Ti,BaseStringBlock:()=>L3,BitString:()=>su,BmpString:()=>L1,Boolean:()=>D1,CharacterString:()=>W1,Choice:()=>z2,Constructed:()=>Ii,DATE:()=>j3,DateTime:()=>H3,Duration:()=>W3,EndOfContent:()=>B3,Enumerated:()=>M1,GeneralString:()=>H1,GeneralizedTime:()=>G1,GraphicString:()=>q1,HexBlock:()=>bd,IA5String:()=>j1,Integer:()=>lm,Null:()=>iu,NumericString:()=>U1,ObjectIdentifier:()=>$1,OctetString:()=>ou,Primitive:()=>cm,PrintableString:()=>F1,RawData:()=>iie,RelativeObjectIdentifier:()=>V3,Repeated:()=>K1,Sequence:()=>Yo,Set:()=>ws,TIME:()=>G3,TeletexString:()=>z1,TimeOfDay:()=>q3,UTCTime:()=>Th,UniversalString:()=>B1,Utf8String:()=>gl,ValueBlock:()=>xo,VideotexString:()=>V1,ViewWriter:()=>F2,VisibleString:()=>Rh,compareSchema:()=>sm,fromBER:()=>dm,verifySchema:()=>ANt});function yP(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function oie(t){let e=0,r=0;for(let i=0;i<t.length;i++){let o=t[i];e+=o.byteLength}let n=new Uint8Array(e);for(let i=0;i<t.length;i++){let o=t[i];n.set(new Uint8Array(o),r),r+=o.byteLength}return n.buffer}function um(t,e,r,n){return e instanceof Uint8Array?e.byteLength?r<0?(t.error="Wrong parameter: inputOffset less than zero",!1):n<0?(t.error="Wrong parameter: inputLength less than zero",!1):e.byteLength-r-n<0?(t.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):!0:(t.error="Wrong parameter: inputBuffer has zero length",!1):(t.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}function bd(t){var e;return e=class extends t{get valueHex(){return this.valueHexView.slice().buffer}set valueHex(n){this.valueHexView=new Uint8Array(n)}constructor(...n){var i;super(...n);let o=n[0]||{};this.isHexOnly=(i=o.isHexOnly)!==null&&i!==void 0?i:!1,this.valueHexView=o.valueHex?We.toUint8Array(o.valueHex):PP}fromBER(n,i,o){let s=n instanceof ArrayBuffer?new Uint8Array(n):n;if(!um(this,s,i,o))return-1;let a=i+o;return this.valueHexView=s.subarray(i,a),this.valueHexView.length?(this.blockLength=o,a):(this.warnings.push("Zero buffer length"),i)}toBER(n=!1){return this.isHexOnly?n?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",yd)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:at.ToHex(this.valueHexView)}}},e.NAME="hexBlock",e}function eVe(t){var e;if(t instanceof it.Constructed)for(let r of t.valueBlock.value)eVe(r)&&(t.lenBlock.isIndefiniteForm=!0);return!!(!((e=t.lenBlock)===null||e===void 0)&&e.isIndefiniteForm)}function _Nt(t,e){if(t instanceof e)return t;let r=new e;return r.idBlock=t.idBlock,r.lenBlock=t.lenBlock,r.warnings=t.warnings,r.valueBeforeDecodeView=t.valueBeforeDecodeView,r}function V2(t,e=0,r=t.length){let n=e,i=new Ti({},xo),o=new am;if(!um(o,t,e,r))return i.error=o.error,{offset:-1,result:i};if(!t.subarray(e,e+r).length)return i.error="Zero buffer length",{offset:-1,result:i};let a=i.idBlock.fromBER(t,e,r);if(i.idBlock.warnings.length&&i.warnings.concat(i.idBlock.warnings),a===-1)return i.error=i.idBlock.error,{offset:-1,result:i};if(e=a,r-=i.idBlock.blockLength,a=i.lenBlock.fromBER(t,e,r),i.lenBlock.warnings.length&&i.warnings.concat(i.lenBlock.warnings),a===-1)return i.error=i.lenBlock.error,{offset:-1,result:i};if(e=a,r-=i.lenBlock.blockLength,!i.idBlock.isConstructed&&i.lenBlock.isIndefiniteForm)return i.error="Indefinite length form used for primitive encoding form",{offset:-1,result:i};let c=Ti;switch(i.idBlock.tagClass){case 1:if(i.idBlock.tagNumber>=37&&i.idBlock.isHexOnly===!1)return i.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:i};switch(i.idBlock.tagNumber){case 0:if(i.idBlock.isConstructed&&i.lenBlock.length>0)return i.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:i};c=it.EndOfContent;break;case 1:c=it.Boolean;break;case 2:c=it.Integer;break;case 3:c=it.BitString;break;case 4:c=it.OctetString;break;case 5:c=it.Null;break;case 6:c=it.ObjectIdentifier;break;case 10:c=it.Enumerated;break;case 12:c=it.Utf8String;break;case 13:c=it.RelativeObjectIdentifier;break;case 14:c=it.TIME;break;case 15:return i.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:i};case 16:c=it.Sequence;break;case 17:c=it.Set;break;case 18:c=it.NumericString;break;case 19:c=it.PrintableString;break;case 20:c=it.TeletexString;break;case 21:c=it.VideotexString;break;case 22:c=it.IA5String;break;case 23:c=it.UTCTime;break;case 24:c=it.GeneralizedTime;break;case 25:c=it.GraphicString;break;case 26:c=it.VisibleString;break;case 27:c=it.GeneralString;break;case 28:c=it.UniversalString;break;case 29:c=it.CharacterString;break;case 30:c=it.BmpString;break;case 31:c=it.DATE;break;case 32:c=it.TimeOfDay;break;case 33:c=it.DateTime;break;case 34:c=it.Duration;break;default:{let l=i.idBlock.isConstructed?new it.Constructed:new it.Primitive;l.idBlock=i.idBlock,l.lenBlock=i.lenBlock,l.warnings=i.warnings,i=l}}break;case 2:case 3:case 4:default:c=i.idBlock.isConstructed?it.Constructed:it.Primitive}return i=_Nt(i,c),a=i.fromBER(t,e,i.lenBlock.isIndefiniteForm?r:i.lenBlock.length),i.valueBeforeDecodeView=t.subarray(n,n+i.blockLength),{offset:a,result:i}}function dm(t){if(!t.byteLength){let e=new Ti({},xo);return e.error="Input buffer has zero length",{offset:-1,result:e}}return V2(We.toUint8Array(t).slice(),0,t.byteLength)}function SNt(t,e){return t?1:e}function wNt(t,e){let r=new Uint8Array([0]),n=new Uint8Array(t),i=new Uint8Array(e),o=n.slice(0),s=o.length-1,a=i.slice(0),c=a.length-1,l=0,u=c<s?s:c,d=0;for(let p=u;p>=0;p--,d++){switch(!0){case d<a.length:l=o[s-d]+a[c-d]+r[0];break;default:l=o[s-d]+r[0]}switch(r[0]=l/10,!0){case d>=o.length:o=gP(new Uint8Array([l%10]),o);break;default:o[s-d]=l%10}}return r[0]>0&&(o=gP(r,o)),o}function Qze(t){if(t>=D3.length)for(let e=D3.length;e<=t;e++){let r=new Uint8Array([0]),n=D3[e-1].slice(0);for(let i=n.length-1;i>=0;i--){let o=new Uint8Array([(n[i]<<1)+r[0]]);r[0]=o[0]/10,n[i]=o[0]%10}r[0]>0&&(n=gP(r,n)),D3.push(n)}return D3[t]}function xNt(t,e){let r=0,n=new Uint8Array(t),i=new Uint8Array(e),o=n.slice(0),s=o.length-1,a=i.slice(0),c=a.length-1,l,u=0;for(let d=c;d>=0;d--,u++)switch(l=o[s-u]-a[c-u]-r,!0){case l<0:r=1,o[s-u]=l+10;break;default:r=0,o[s-u]=l}if(r>0)for(let d=s-c+1;d>=0;d--,u++)if(l=o[s-u]-r,l<0)r=1,o[s-u]=l+10;else{r=0,o[s-u]=l;break}return o.slice()}function sm(t,e,r){if(r instanceof z2){for(let o of r.value)if(sm(t,e,o).verified)return{verified:!0,result:t};{let o={verified:!1,result:{error:"Wrong values for Choice type"}};return r.hasOwnProperty(nie)&&(o.name=r.name),o}}if(r instanceof gd)return r.hasOwnProperty(nie)&&(t[r.name]=e),{verified:!0,result:t};if(!(t instanceof Object))return{verified:!1,result:{error:"Wrong root object"}};if(!(e instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(!(r instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(mNt in r))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(yNt in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(bNt in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};let n=r.idBlock.toBER(!1);if(n.byteLength===0)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(r.idBlock.fromBER(n,0,n.byteLength)===-1)return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(r.idBlock.hasOwnProperty(fNt)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagClass!==e.idBlock.tagClass)return{verified:!1,result:t};if(r.idBlock.hasOwnProperty(hNt)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagNumber!==e.idBlock.tagNumber)return{verified:!1,result:t};if(r.idBlock.hasOwnProperty(gNt)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isConstructed!==e.idBlock.isConstructed)return{verified:!1,result:t};if(!(pNt in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isHexOnly!==e.idBlock.isHexOnly)return{verified:!1,result:t};if(r.idBlock.isHexOnly){if(!(Jze in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};let o=r.idBlock.valueHexView,s=e.idBlock.valueHexView;if(o.length!==s.length)return{verified:!1,result:t};for(let a=0;a<o.length;a++)if(o[a]!==s[1])return{verified:!1,result:t}}if(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,ua),r.name&&(t[r.name]=e)),r instanceof it.Constructed){let o=0,s={verified:!1,result:{error:"Unknown error"}},a=r.valueBlock.value.length;if(a>0&&r.valueBlock.value[0]instanceof K1&&(a=e.valueBlock.value.length),a===0)return{verified:!0,result:t};if(e.valueBlock.value.length===0&&r.valueBlock.value.length!==0){let c=!0;for(let l=0;l<r.valueBlock.value.length;l++)c=c&&(r.valueBlock.value[l].optional||!1);return c?{verified:!0,result:t}:(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,ua),r.name&&delete t[r.name]),t.error="Inconsistent object length",{verified:!1,result:t})}for(let c=0;c<a;c++)if(c-o>=e.valueBlock.value.length){if(r.valueBlock.value[c].optional===!1){let l={verified:!1,result:t};return t.error="Inconsistent length between ASN.1 data and schema",r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,ua),r.name&&(delete t[r.name],l.name=r.name)),l}}else if(r.valueBlock.value[0]instanceof K1){if(s=sm(t,e.valueBlock.value[c],r.valueBlock.value[0].value),s.verified===!1)if(r.valueBlock.value[0].optional)o++;else return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,ua),r.name&&delete t[r.name]),s;if(nie in r.valueBlock.value[0]&&r.valueBlock.value[0].name.length>0){let l={};vNt in r.valueBlock.value[0]&&r.valueBlock.value[0].local?l=e:l=t,typeof l[r.valueBlock.value[0].name]>"u"&&(l[r.valueBlock.value[0].name]=[]),l[r.valueBlock.value[0].name].push(e.valueBlock.value[c])}}else if(s=sm(t,e.valueBlock.value[c-o],r.valueBlock.value[c]),s.verified===!1)if(r.valueBlock.value[c].optional)o++;else return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,ua),r.name&&delete t[r.name]),s;if(s.verified===!1){let c={verified:!1,result:t};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,ua),r.name&&(delete t[r.name],c.name=r.name)),c}return{verified:!0,result:t}}if(r.primitiveSchema&&Jze in e.valueBlock){let o=V2(e.valueBlock.valueHexView);if(o.offset===-1){let s={verified:!1,result:o.result};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,ua),r.name&&(delete t[r.name],s.name=r.name)),s}return sm(t,o.result,r.primitiveSchema)}return{verified:!0,result:t}}function ANt(t,e){if(!(e instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};let r=V2(We.toUint8Array(t));return r.offset===-1?{verified:!1,result:r.result}:sm(r.result,r.result,e)}var F2,D3,Yze,nie,Jze,pNt,mNt,fNt,hNt,gNt,yNt,bNt,vNt,ua,yd,PP,$3,Zze,Xze,am,xo,bP,vP,it,Ti,L3,_P,tVe,cm,hd,rVe,Ii,SP,nVe,B3,iVe,iu,wP,oVe,D1,xP,sie,ou,AP,sVe,su,aVe,U3,M3,lm,cVe,M1,F3,EP,lVe,$1,z3,RP,uVe,V3,dVe,Yo,pVe,ws,TP,IP,xs,CP,mVe,gl,OP,fVe,L1,NP,hVe,B1,gVe,U1,yVe,F1,bVe,z1,vVe,V1,_Ve,j1,SVe,q1,wVe,Rh,xVe,H1,AVe,W1,EVe,Th,RVe,G1,TVe,j3,IVe,q3,CVe,H3,OVe,W3,NVe,G3,gd,z2,K1,iie,Ih=g(()=>{"use strict";om();Kze();F2=class{constructor(){this.items=[]}write(e){this.items.push(e)}final(){return oie(this.items)}},D3=[new Uint8Array([1])],Yze="0123456789",nie="name",Jze="valueHexView",pNt="isHexOnly",mNt="idBlock",fNt="tagClass",hNt="tagNumber",gNt="isConstructed",yNt="fromBER",bNt="toBER",vNt="local",ua="",yd=new ArrayBuffer(0),PP=new Uint8Array(0),$3="EndOfContent",Zze="OCTET STRING",Xze="BIT STRING";am=class{static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(e){this.valueBeforeDecodeView=new Uint8Array(e)}constructor({blockLength:e=0,error:r=ua,warnings:n=[],valueBeforeDecode:i=PP}={}){this.blockLength=e,this.error=r,this.warnings=n,this.valueBeforeDecodeView=We.toUint8Array(i)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:at.ToHex(this.valueBeforeDecodeView)}}};am.NAME="baseBlock";xo=class extends am{fromBER(e,r,n){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(e,r){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}};xo.NAME="valueBlock";bP=class extends bd(am){constructor({idBlock:e={}}={}){var r,n,i,o;super(),e?(this.isHexOnly=(r=e.isHexOnly)!==null&&r!==void 0?r:!1,this.valueHexView=e.valueHex?We.toUint8Array(e.valueHex):PP,this.tagClass=(n=e.tagClass)!==null&&n!==void 0?n:-1,this.tagNumber=(i=e.tagNumber)!==null&&i!==void 0?i:-1,this.isConstructed=(o=e.isConstructed)!==null&&o!==void 0?o:!1):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(e=!1){let r=0;switch(this.tagClass){case 1:r|=0;break;case 2:r|=64;break;case 3:r|=128;break;case 4:r|=192;break;default:return this.error="Unknown tag class",yd}if(this.isConstructed&&(r|=32),this.tagNumber<31&&!this.isHexOnly){let i=new Uint8Array(1);if(!e){let o=this.tagNumber;o&=31,r|=o,i[0]=r}return i.buffer}if(!this.isHexOnly){let i=Eh(this.tagNumber,7),o=new Uint8Array(i),s=i.byteLength,a=new Uint8Array(s+1);if(a[0]=r|31,!e){for(let c=0;c<s-1;c++)a[c+1]=o[c]|128;a[s]=o[s-1]}return a.buffer}let n=new Uint8Array(this.valueHexView.byteLength+1);if(n[0]=r|31,!e){let i=this.valueHexView;for(let o=0;o<i.length-1;o++)n[o+1]=i[o]|128;n[this.valueHexView.byteLength]=i[i.length-1]}return n.buffer}fromBER(e,r,n){let i=We.toUint8Array(e);if(!um(this,i,r,n))return-1;let o=i.subarray(r,r+n);if(o.length===0)return this.error="Zero buffer length",-1;switch(o[0]&192){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=(o[0]&32)===32,this.isHexOnly=!1;let a=o[0]&31;if(a!==31)this.tagNumber=a,this.blockLength=1;else{let c=1,l=this.valueHexView=new Uint8Array(255),u=255;for(;o[c]&128;){if(l[c-1]=o[c]&127,c++,c>=o.length)return this.error="End of input reached before message was fully decoded",-1;if(c===u){u+=255;let p=new Uint8Array(u);for(let m=0;m<l.length;m++)p[m]=l[m];l=this.valueHexView=new Uint8Array(u)}}this.blockLength=c+1,l[c-1]=o[c]&127;let d=new Uint8Array(c);for(let p=0;p<c;p++)d[p]=l[p];l=this.valueHexView=new Uint8Array(c),l.set(d),this.blockLength<=9?this.tagNumber=k1(l,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(this.tagClass===1&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return r+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}};bP.NAME="identificationBlock";vP=class extends am{constructor({lenBlock:e={}}={}){var r,n,i;super(),this.isIndefiniteForm=(r=e.isIndefiniteForm)!==null&&r!==void 0?r:!1,this.longFormUsed=(n=e.longFormUsed)!==null&&n!==void 0?n:!1,this.length=(i=e.length)!==null&&i!==void 0?i:0}fromBER(e,r,n){let i=We.toUint8Array(e);if(!um(this,i,r,n))return-1;let o=i.subarray(r,r+n);if(o.length===0)return this.error="Zero buffer length",-1;if(o[0]===255)return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=o[0]===128,this.isIndefiniteForm)return this.blockLength=1,r+this.blockLength;if(this.longFormUsed=!!(o[0]&128),this.longFormUsed===!1)return this.length=o[0],this.blockLength=1,r+this.blockLength;let s=o[0]&127;if(s>8)return this.error="Too big integer",-1;if(s+1>o.length)return this.error="End of input reached before message was fully decoded",-1;let a=r+1,c=i.subarray(a,a+s);return c[s-1]===0&&this.warnings.push("Needlessly long encoded length"),this.length=k1(c,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=s+1,r+this.blockLength}toBER(e=!1){let r,n;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return r=new ArrayBuffer(1),e===!1&&(n=new Uint8Array(r),n[0]=128),r;if(this.longFormUsed){let i=Eh(this.length,8);if(i.byteLength>127)return this.error="Too big length",yd;if(r=new ArrayBuffer(i.byteLength+1),e)return r;let o=new Uint8Array(i);n=new Uint8Array(r),n[0]=i.byteLength|128;for(let s=0;s<i.byteLength;s++)n[s+1]=o[s];return r}return r=new ArrayBuffer(1),e===!1&&(n=new Uint8Array(r),n[0]=this.length),r}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}};vP.NAME="lengthBlock";it={},Ti=class extends am{constructor({name:e=ua,optional:r=!1,primitiveSchema:n,...i}={},o){super(i),this.name=e,this.optional=r,n&&(this.primitiveSchema=n),this.idBlock=new bP(i),this.lenBlock=new vP(i),this.valueBlock=o?new o(i):new xo(i)}fromBER(e,r,n){let i=this.valueBlock.fromBER(e,r,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return i===-1?(this.error=this.valueBlock.error,i):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),i)}toBER(e,r){let n=r||new F2;r||eVe(this);let i=this.idBlock.toBER(e);if(n.write(i),this.lenBlock.isIndefiniteForm)n.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(e,n),n.write(new ArrayBuffer(2));else{let o=this.valueBlock.toBER(e);this.lenBlock.length=o.byteLength;let s=this.lenBlock.toBER(e);n.write(s),n.write(o)}return r?yd:n.final()}toJSON(){let e={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(e.primitiveSchema=this.primitiveSchema.toJSON()),e}toString(e="ascii"){return e==="ascii"?this.onAsciiEncoding():at.ToHex(this.toBER())}onAsciiEncoding(){let e=this.constructor.NAME,r=at.ToHex(this.valueBlock.valueBeforeDecodeView);return`${e} : ${r}`}isEqual(e){if(this===e)return!0;if(!(e instanceof this.constructor))return!1;let r=this.toBER(),n=e.toBER();return Gze(r,n)}};Ti.NAME="BaseBlock";L3=class extends Ti{getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}constructor({value:e=ua,...r}={},n){super(r,n),e&&this.fromString(e)}fromBER(e,r,n){let i=this.valueBlock.fromBER(e,r,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return i===-1?(this.error=this.valueBlock.error,i):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),i)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}};L3.NAME="BaseStringBlock";_P=class extends bd(xo){constructor({isHexOnly:e=!0,...r}={}){super(r),this.isHexOnly=e}};_P.NAME="PrimitiveValueBlock";cm=class extends Ti{constructor(e={}){super(e,_P),this.idBlock.isConstructed=!1}};tVe=cm;it.Primitive=tVe;cm.NAME="PRIMITIVE";hd=class extends xo{constructor({value:e=[],isIndefiniteForm:r=!1,...n}={}){super(n),this.value=e,this.isIndefiniteForm=r}fromBER(e,r,n){let i=We.toUint8Array(e);if(!um(this,i,r,n))return-1;if(this.valueBeforeDecodeView=i.subarray(r,r+n),this.valueBeforeDecodeView.length===0)return this.warnings.push("Zero buffer length"),r;let o=r;for(;SNt(this.isIndefiniteForm,n)>0;){let s=V2(i,o,n);if(s.offset===-1)return this.error=s.result.error,this.warnings.concat(s.result.warnings),-1;if(o=s.offset,this.blockLength+=s.result.blockLength,n-=s.result.blockLength,this.value.push(s.result),this.isIndefiniteForm&&s.result.constructor.NAME===$3)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===$3?this.value.pop():this.warnings.push("No EndOfContent block encoded")),o}toBER(e,r){let n=r||new F2;for(let i=0;i<this.value.length;i++)this.value[i].toBER(e,n);return r?yd:n.final()}toJSON(){let e={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(let r of this.value)e.value.push(r.toJSON());return e}};hd.NAME="ConstructedValueBlock";Ii=class extends Ti{constructor(e={}){super(e,hd),this.idBlock.isConstructed=!0}fromBER(e,r,n){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;let i=this.valueBlock.fromBER(e,r,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return i===-1?(this.error=this.valueBlock.error,i):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),i)}onAsciiEncoding(){let e=[];for(let n of this.valueBlock.value)e.push(n.toString("ascii").split(`
`).map(i=>`  ${i}`).join(`
`));let r=this.idBlock.tagClass===3?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return e.length?`${r} :
${e.join(`
`)}`:`${r} :`}};rVe=Ii;it.Constructed=rVe;Ii.NAME="CONSTRUCTED";SP=class extends xo{fromBER(e,r,n){return r}toBER(e){return yd}};SP.override="EndOfContentValueBlock";B3=class extends Ti{constructor(e={}){super(e,SP),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}};nVe=B3;it.EndOfContent=nVe;B3.NAME=$3;iu=class extends Ti{constructor(e={}){super(e,xo),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(e,r,n){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=n,r+n>e.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):r+n}toBER(e,r){let n=new ArrayBuffer(2);if(!e){let i=new Uint8Array(n);i[0]=5,i[1]=0}return r&&r.write(n),n}onAsciiEncoding(){return`${this.constructor.NAME}`}};iVe=iu;it.Null=iVe;iu.NAME="NULL";wP=class extends bd(xo){get value(){for(let e of this.valueHexView)if(e>0)return!0;return!1}set value(e){this.valueHexView[0]=e?255:0}constructor({value:e,...r}={}){super(r),r.valueHex?this.valueHexView=We.toUint8Array(r.valueHex):this.valueHexView=new Uint8Array(1),e&&(this.value=e)}fromBER(e,r,n){let i=We.toUint8Array(e);return um(this,i,r,n)?(this.valueHexView=i.subarray(r,r+n),n>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,rie.call(this),this.blockLength=n,r+n):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}};wP.NAME="BooleanValueBlock";D1=class extends Ti{getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}constructor(e={}){super(e,wP),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}};oVe=D1;it.Boolean=oVe;D1.NAME="BOOLEAN";xP=class extends bd(hd){constructor({isConstructed:e=!1,...r}={}){super(r),this.isConstructed=e}fromBER(e,r,n){let i=0;if(this.isConstructed){if(this.isHexOnly=!1,i=hd.prototype.fromBER.call(this,e,r,n),i===-1)return i;for(let o=0;o<this.value.length;o++){let s=this.value[o].constructor.NAME;if(s===$3){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(s!==Zze)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,i=super.fromBER(e,r,n),this.blockLength=n;return i}toBER(e,r){return this.isConstructed?hd.prototype.toBER.call(this,e,r):e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}};xP.NAME="OctetStringValueBlock";ou=class extends Ti{constructor({idBlock:e={},lenBlock:r={},...n}={}){var i,o;(i=n.isConstructed)!==null&&i!==void 0||(n.isConstructed=!!(!((o=n.value)===null||o===void 0)&&o.length)),super({idBlock:{isConstructed:n.isConstructed,...e},lenBlock:{...r,isIndefiniteForm:!!n.isIndefiniteForm},...n},xP),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(e,r,n){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,n===0)return this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength),r;if(!this.valueBlock.isConstructed){let o=(e instanceof ArrayBuffer?new Uint8Array(e):e).subarray(r,r+n);try{if(o.byteLength){let s=V2(o,0,o.byteLength);s.offset!==-1&&s.offset===n&&(this.valueBlock.value=[s.result])}}catch{}}return super.fromBER(e,r,n)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return Ii.prototype.onAsciiEncoding.call(this);let e=this.constructor.NAME,r=at.ToHex(this.valueBlock.valueHexView);return`${e} : ${r}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;let e=[];for(let r of this.valueBlock.value)r instanceof sie&&e.push(r.valueBlock.valueHexView);return We.concat(e)}};sie=ou;it.OctetString=sie;ou.NAME=Zze;AP=class extends bd(hd){constructor({unusedBits:e=0,isConstructed:r=!1,...n}={}){super(n),this.unusedBits=e,this.isConstructed=r,this.blockLength=this.valueHexView.byteLength}fromBER(e,r,n){if(!n)return r;let i=-1;if(this.isConstructed){if(i=hd.prototype.fromBER.call(this,e,r,n),i===-1)return i;for(let a of this.value){let c=a.constructor.NAME;if(c===$3){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(c!==Xze)return this.error="BIT STRING may consists of BIT STRINGs only",-1;let l=a.valueBlock;if(this.unusedBits>0&&l.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=l.unusedBits}return i}let o=We.toUint8Array(e);if(!um(this,o,r,n))return-1;let s=o.subarray(r,r+n);if(this.unusedBits=s[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){let a=s.subarray(1);try{if(a.byteLength){let c=V2(a,0,a.byteLength);c.offset!==-1&&c.offset===n-1&&(this.value=[c.result])}}catch{}}return this.valueHexView=s.subarray(1),this.blockLength=s.length,r+n}toBER(e,r){if(this.isConstructed)return hd.prototype.toBER.call(this,e,r);if(e)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength){let i=new Uint8Array(1);return i[0]=0,i.buffer}let n=new Uint8Array(this.valueHexView.length+1);return n[0]=this.unusedBits,n.set(this.valueHexView,1),n.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}};AP.NAME="BitStringValueBlock";su=class extends Ti{constructor({idBlock:e={},lenBlock:r={},...n}={}){var i,o;(i=n.isConstructed)!==null&&i!==void 0||(n.isConstructed=!!(!((o=n.value)===null||o===void 0)&&o.length)),super({idBlock:{isConstructed:n.isConstructed,...e},lenBlock:{...r,isIndefiniteForm:!!n.isIndefiniteForm},...n},AP),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(e,r,n){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(e,r,n)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return Ii.prototype.onAsciiEncoding.call(this);{let e=[],r=this.valueBlock.valueHexView;for(let s of r)e.push(s.toString(2).padStart(8,"0"));let n=e.join(""),i=this.constructor.NAME,o=n.substring(0,n.length-this.valueBlock.unusedBits);return`${i} : ${o}`}}};sVe=su;it.BitString=sVe;su.NAME=Xze;U3=class extends bd(xo){setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=rie.call(this)))}constructor({value:e,...r}={}){super(r),this._valueDec=0,r.valueHex&&this.setValueHex(),e!==void 0&&(this.valueDec=e)}set valueDec(e){this._valueDec=e,this.isHexOnly=!1,this.valueHexView=new Uint8Array(Wze(e))}get valueDec(){return this._valueDec}fromDER(e,r,n,i=0){let o=this.fromBER(e,r,n);if(o===-1)return o;let s=this.valueHexView;return s[0]===0&&(s[1]&128)!==0?this.valueHexView=s.subarray(1):i!==0&&s.length<i&&(i-s.length>1&&(i=s.length+1),this.valueHexView=s.subarray(i-s.length)),o}toDER(e=!1){let r=this.valueHexView;switch(!0){case(r[0]&128)!==0:{let n=new Uint8Array(this.valueHexView.length+1);n[0]=0,n.set(r,1),this.valueHexView=n}break;case(r[0]===0&&(r[1]&128)===0):this.valueHexView=this.valueHexView.subarray(1);break}return this.toBER(e)}fromBER(e,r,n){let i=super.fromBER(e,r,n);return i===-1||this.setValueHex(),i}toBER(e){return e?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){let e=this.valueHexView.length*8-1,r=new Uint8Array(this.valueHexView.length*8/3),n=0,i,o=this.valueHexView,s="",a=!1;for(let c=o.byteLength-1;c>=0;c--){i=o[c];for(let l=0;l<8;l++){if((i&1)===1)switch(n){case e:r=xNt(Qze(n),r),s="-";break;default:r=wNt(r,Qze(n))}n++,i>>=1}}for(let c=0;c<r.length;c++)r[c]&&(a=!0),a&&(s+=Yze.charAt(r[c]));return a===!1&&(s+=Yze.charAt(0)),s}};aVe=U3;U3.NAME="IntegerValueBlock";Object.defineProperty(aVe.prototype,"valueHex",{set:function(t){this.valueHexView=new Uint8Array(t),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});lm=class extends Ti{constructor(e={}){super(e,U3),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return yP(),BigInt(this.valueBlock.toString())}static fromBigInt(e){yP();let r=BigInt(e),n=new F2,i=r.toString(16).replace(/^-/,""),o=new Uint8Array(at.FromHex(i));if(r<0){let a=new Uint8Array(o.length+(o[0]&128?1:0));a[0]|=128;let l=BigInt(`0x${at.ToHex(a)}`)+r,u=We.toUint8Array(at.FromHex(l.toString(16)));u[0]|=128,n.write(u)}else o[0]&128&&n.write(new Uint8Array([0])),n.write(o);return new M3({valueHex:n.final()})}convertToDER(){let e=new M3({valueHex:this.valueBlock.valueHexView});return e.valueBlock.toDER(),e}convertFromDER(){return new M3({valueHex:this.valueBlock.valueHexView[0]===0?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}};M3=lm;it.Integer=M3;lm.NAME="INTEGER";M1=class extends lm{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}};cVe=M1;it.Enumerated=cVe;M1.NAME="ENUMERATED";F3=class extends bd(xo){constructor({valueDec:e=-1,isFirstSid:r=!1,...n}={}){super(n),this.valueDec=e,this.isFirstSid=r}fromBER(e,r,n){if(!n)return r;let i=We.toUint8Array(e);if(!um(this,i,r,n))return-1;let o=i.subarray(r,r+n);this.valueHexView=new Uint8Array(n);for(let a=0;a<n&&(this.valueHexView[a]=o[a]&127,this.blockLength++,(o[a]&128)!==0);a++);let s=new Uint8Array(this.blockLength);for(let a=0;a<this.blockLength;a++)s[a]=this.valueHexView[a];return this.valueHexView=s,(o[this.blockLength-1]&128)!==0?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=k1(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),r+this.blockLength)}set valueBigInt(e){yP();let r=BigInt(e).toString(2);for(;r.length%7;)r="0"+r;let n=new Uint8Array(r.length/7);for(let i=0;i<n.length;i++)n[i]=parseInt(r.slice(i*7,i*7+7),2)+(i+1<n.length?128:0);this.fromBER(n.buffer,0,n.length)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);let i=this.valueHexView,o=new Uint8Array(this.blockLength);for(let s=0;s<this.blockLength-1;s++)o[s]=i[s]|128;return o[this.blockLength-1]=i[this.blockLength-1],o.buffer}let r=Eh(this.valueDec,7);if(r.byteLength===0)return this.error="Error during encoding SID value",yd;let n=new Uint8Array(r.byteLength);if(!e){let i=new Uint8Array(r),o=r.byteLength-1;for(let s=0;s<o;s++)n[s]=i[s]|128;n[o]=i[o]}return n}toString(){let e="";if(this.isHexOnly)e=at.ToHex(this.valueHexView);else if(this.isFirstSid){let r=this.valueDec;this.valueDec<=39?e="0.":this.valueDec<=79?(e="1.",r-=40):(e="2.",r-=80),e+=r.toString()}else e=this.valueDec.toString();return e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}};F3.NAME="sidBlock";EP=class extends xo{constructor({value:e=ua,...r}={}){super(r),this.value=[],e&&this.fromString(e)}fromBER(e,r,n){let i=r;for(;n>0;){let o=new F3;if(i=o.fromBER(e,i,n),i===-1)return this.blockLength=0,this.error=o.error,i;this.value.length===0&&(o.isFirstSid=!0),this.blockLength+=o.blockLength,n-=o.blockLength,this.value.push(o)}return i}toBER(e){let r=[];for(let n=0;n<this.value.length;n++){let i=this.value[n].toBER(e);if(i.byteLength===0)return this.error=this.value[n].error,yd;r.push(i)}return oie(r)}fromString(e){this.value=[];let r=0,n=0,i="",o=!1;do if(n=e.indexOf(".",r),n===-1?i=e.substring(r):i=e.substring(r,n),r=n+1,o){let s=this.value[0],a=0;switch(s.valueDec){case 0:break;case 1:a=40;break;case 2:a=80;break;default:this.value=[];return}let c=parseInt(i,10);if(isNaN(c))return;s.valueDec=c+a,o=!1}else{let s=new F3;if(i>Number.MAX_SAFE_INTEGER){yP();let a=BigInt(i);s.valueBigInt=a}else if(s.valueDec=parseInt(i,10),isNaN(s.valueDec))return;this.value.length||(s.isFirstSid=!0,o=!0),this.value.push(s)}while(n!==-1)}toString(){let e="",r=!1;for(let n=0;n<this.value.length;n++){r=this.value[n].isHexOnly;let i=this.value[n].toString();n!==0&&(e=`${e}.`),r?(i=`{${i}}`,this.value[n].isFirstSid?e=`2.{${i} - 80}`:e+=i):e+=i}return e}toJSON(){let e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let r=0;r<this.value.length;r++)e.sidArray.push(this.value[r].toJSON());return e}};EP.NAME="ObjectIdentifierValueBlock";$1=class extends Ti{getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}constructor(e={}){super(e,EP),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}};lVe=$1;it.ObjectIdentifier=lVe;$1.NAME="OBJECT IDENTIFIER";z3=class extends bd(am){constructor({valueDec:e=0,...r}={}){super(r),this.valueDec=e}fromBER(e,r,n){if(n===0)return r;let i=We.toUint8Array(e);if(!um(this,i,r,n))return-1;let o=i.subarray(r,r+n);this.valueHexView=new Uint8Array(n);for(let a=0;a<n&&(this.valueHexView[a]=o[a]&127,this.blockLength++,(o[a]&128)!==0);a++);let s=new Uint8Array(this.blockLength);for(let a=0;a<this.blockLength;a++)s[a]=this.valueHexView[a];return this.valueHexView=s,(o[this.blockLength-1]&128)!==0?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=k1(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),r+this.blockLength)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);let i=this.valueHexView,o=new Uint8Array(this.blockLength);for(let s=0;s<this.blockLength-1;s++)o[s]=i[s]|128;return o[this.blockLength-1]=i[this.blockLength-1],o.buffer}let r=Eh(this.valueDec,7);if(r.byteLength===0)return this.error="Error during encoding SID value",yd;let n=new Uint8Array(r.byteLength);if(!e){let i=new Uint8Array(r),o=r.byteLength-1;for(let s=0;s<o;s++)n[s]=i[s]|128;n[o]=i[o]}return n.buffer}toString(){let e="";return this.isHexOnly?e=at.ToHex(this.valueHexView):e=this.valueDec.toString(),e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}};z3.NAME="relativeSidBlock";RP=class extends xo{constructor({value:e=ua,...r}={}){super(r),this.value=[],e&&this.fromString(e)}fromBER(e,r,n){let i=r;for(;n>0;){let o=new z3;if(i=o.fromBER(e,i,n),i===-1)return this.blockLength=0,this.error=o.error,i;this.blockLength+=o.blockLength,n-=o.blockLength,this.value.push(o)}return i}toBER(e,r){let n=[];for(let i=0;i<this.value.length;i++){let o=this.value[i].toBER(e);if(o.byteLength===0)return this.error=this.value[i].error,yd;n.push(o)}return oie(n)}fromString(e){this.value=[];let r=0,n=0,i="";do{n=e.indexOf(".",r),n===-1?i=e.substring(r):i=e.substring(r,n),r=n+1;let o=new z3;if(o.valueDec=parseInt(i,10),isNaN(o.valueDec))return!0;this.value.push(o)}while(n!==-1);return!0}toString(){let e="",r=!1;for(let n=0;n<this.value.length;n++){r=this.value[n].isHexOnly;let i=this.value[n].toString();n!==0&&(e=`${e}.`),r&&(i=`{${i}}`),e+=i}return e}toJSON(){let e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let r=0;r<this.value.length;r++)e.sidArray.push(this.value[r].toJSON());return e}};RP.NAME="RelativeObjectIdentifierValueBlock";V3=class extends Ti{getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}constructor(e={}){super(e,RP),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}};uVe=V3;it.RelativeObjectIdentifier=uVe;V3.NAME="RelativeObjectIdentifier";Yo=class extends Ii{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}};dVe=Yo;it.Sequence=dVe;Yo.NAME="SEQUENCE";ws=class extends Ii{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}};pVe=ws;it.Set=pVe;ws.NAME="SET";TP=class extends bd(xo){constructor({...e}={}){super(e),this.isHexOnly=!0,this.value=ua}toJSON(){return{...super.toJSON(),value:this.value}}};TP.NAME="StringValueBlock";IP=class extends TP{};IP.NAME="SimpleStringValueBlock";xs=class extends L3{constructor({...e}={}){super(e,IP)}fromBuffer(e){this.valueBlock.value=String.fromCharCode.apply(null,We.toUint8Array(e))}fromString(e){let r=e.length,n=this.valueBlock.valueHexView=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=e.charCodeAt(i);this.valueBlock.value=e}};xs.NAME="SIMPLE STRING";CP=class extends xs{fromBuffer(e){this.valueBlock.valueHexView=We.toUint8Array(e);try{this.valueBlock.value=at.ToUtf8String(e)}catch(r){this.warnings.push(`Error during "decodeURIComponent": ${r}, using raw string`),this.valueBlock.value=at.ToBinary(e)}}fromString(e){this.valueBlock.valueHexView=new Uint8Array(at.FromUtf8String(e)),this.valueBlock.value=e}};CP.NAME="Utf8StringValueBlock";gl=class extends CP{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}};mVe=gl;it.Utf8String=mVe;gl.NAME="UTF8String";OP=class extends xs{fromBuffer(e){this.valueBlock.value=at.ToUtf16String(e),this.valueBlock.valueHexView=We.toUint8Array(e)}fromString(e){this.valueBlock.value=e,this.valueBlock.valueHexView=new Uint8Array(at.FromUtf16String(e))}};OP.NAME="BmpStringValueBlock";L1=class extends OP{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}};fVe=L1;it.BmpString=fVe;L1.NAME="BMPString";NP=class extends xs{fromBuffer(e){let r=ArrayBuffer.isView(e)?e.slice().buffer:e.slice(0),n=new Uint8Array(r);for(let i=0;i<n.length;i+=4)n[i]=n[i+3],n[i+1]=n[i+2],n[i+2]=0,n[i+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(r))}fromString(e){let r=e.length,n=this.valueBlock.valueHexView=new Uint8Array(r*4);for(let i=0;i<r;i++){let o=Eh(e.charCodeAt(i),8),s=new Uint8Array(o);if(s.length>4)continue;let a=4-s.length;for(let c=s.length-1;c>=0;c--)n[i*4+c+a]=s[c]}this.valueBlock.value=e}};NP.NAME="UniversalStringValueBlock";B1=class extends NP{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}};hVe=B1;it.UniversalString=hVe;B1.NAME="UniversalString";U1=class extends xs{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}};gVe=U1;it.NumericString=gVe;U1.NAME="NumericString";F1=class extends xs{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}};yVe=F1;it.PrintableString=yVe;F1.NAME="PrintableString";z1=class extends xs{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}};bVe=z1;it.TeletexString=bVe;z1.NAME="TeletexString";V1=class extends xs{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}};vVe=V1;it.VideotexString=vVe;V1.NAME="VideotexString";j1=class extends xs{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}};_Ve=j1;it.IA5String=_Ve;j1.NAME="IA5String";q1=class extends xs{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}};SVe=q1;it.GraphicString=SVe;q1.NAME="GraphicString";Rh=class extends xs{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}};wVe=Rh;it.VisibleString=wVe;Rh.NAME="VisibleString";H1=class extends xs{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}};xVe=H1;it.GeneralString=xVe;H1.NAME="GeneralString";W1=class extends xs{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}};AVe=W1;it.CharacterString=AVe;W1.NAME="CharacterString";Th=class extends Rh{constructor({value:e,valueDate:r,...n}={}){if(super(n),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,e){this.fromString(e),this.valueBlock.valueHexView=new Uint8Array(e.length);for(let i=0;i<e.length;i++)this.valueBlock.valueHexView[i]=e.charCodeAt(i)}r&&(this.fromDate(r),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(e){this.fromString(String.fromCharCode.apply(null,We.toUint8Array(e)))}toBuffer(){let e=this.toString(),r=new ArrayBuffer(e.length),n=new Uint8Array(r);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return r}fromDate(e){this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(e){let n=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig.exec(e);if(n===null){this.error="Wrong input string for conversion";return}let i=parseInt(n[1],10);i>=50?this.year=1900+i:this.year=2e3+i,this.month=parseInt(n[2],10),this.day=parseInt(n[3],10),this.hour=parseInt(n[4],10),this.minute=parseInt(n[5],10),this.second=parseInt(n[6],10)}toString(e="iso"){if(e==="iso"){let r=new Array(7);return r[0]=la(this.year<2e3?this.year-1900:this.year-2e3,2),r[1]=la(this.month,2),r[2]=la(this.day,2),r[3]=la(this.hour,2),r[4]=la(this.minute,2),r[5]=la(this.second,2),r[6]="Z",r.join("")}return super.toString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}};EVe=Th;it.UTCTime=EVe;Th.NAME="UTCTime";G1=class extends Th{constructor(e={}){var r;super(e),(r=this.millisecond)!==null&&r!==void 0||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(e){super.fromDate(e),this.millisecond=e.getUTCMilliseconds()}toDate(){let e=Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond);return new Date(e)}fromString(e){let r=!1,n="",i="",o=0,s,a=0,c=0;if(e[e.length-1]==="Z")n=e.substring(0,e.length-1),r=!0;else{let d=new Number(e[e.length-1]);if(isNaN(d.valueOf()))throw new Error("Wrong input string for conversion");n=e}if(r){if(n.indexOf("+")!==-1)throw new Error("Wrong input string for conversion");if(n.indexOf("-")!==-1)throw new Error("Wrong input string for conversion")}else{let d=1,p=n.indexOf("+"),m="";if(p===-1&&(p=n.indexOf("-"),d=-1),p!==-1){if(m=n.substring(p+1),n=n.substring(0,p),m.length!==2&&m.length!==4)throw new Error("Wrong input string for conversion");let h=parseInt(m.substring(0,2),10);if(isNaN(h.valueOf()))throw new Error("Wrong input string for conversion");if(a=d*h,m.length===4){if(h=parseInt(m.substring(2,4),10),isNaN(h.valueOf()))throw new Error("Wrong input string for conversion");c=d*h}}}let l=n.indexOf(".");if(l===-1&&(l=n.indexOf(",")),l!==-1){let d=new Number(`0${n.substring(l)}`);if(isNaN(d.valueOf()))throw new Error("Wrong input string for conversion");o=d.valueOf(),i=n.substring(0,l)}else i=n;switch(!0){case i.length===8:if(s=/(\d{4})(\d{2})(\d{2})/ig,l!==-1)throw new Error("Wrong input string for conversion");break;case i.length===10:if(s=/(\d{4})(\d{2})(\d{2})(\d{2})/ig,l!==-1){let d=60*o;this.minute=Math.floor(d),d=60*(d-this.minute),this.second=Math.floor(d),d=1e3*(d-this.second),this.millisecond=Math.floor(d)}break;case i.length===12:if(s=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/ig,l!==-1){let d=60*o;this.second=Math.floor(d),d=1e3*(d-this.second),this.millisecond=Math.floor(d)}break;case i.length===14:if(s=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/ig,l!==-1){let d=1e3*o;this.millisecond=Math.floor(d)}break;default:throw new Error("Wrong input string for conversion")}let u=s.exec(i);if(u===null)throw new Error("Wrong input string for conversion");for(let d=1;d<u.length;d++)switch(d){case 1:this.year=parseInt(u[d],10);break;case 2:this.month=parseInt(u[d],10);break;case 3:this.day=parseInt(u[d],10);break;case 4:this.hour=parseInt(u[d],10)+a;break;case 5:this.minute=parseInt(u[d],10)+c;break;case 6:this.second=parseInt(u[d],10);break;default:throw new Error("Wrong input string for conversion")}if(r===!1){let d=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=d.getUTCFullYear(),this.month=d.getUTCMonth(),this.day=d.getUTCDay(),this.hour=d.getUTCHours(),this.minute=d.getUTCMinutes(),this.second=d.getUTCSeconds(),this.millisecond=d.getUTCMilliseconds()}}toString(e="iso"){if(e==="iso"){let r=[];return r.push(la(this.year,4)),r.push(la(this.month,2)),r.push(la(this.day,2)),r.push(la(this.hour,2)),r.push(la(this.minute,2)),r.push(la(this.second,2)),this.millisecond!==0&&(r.push("."),r.push(la(this.millisecond,3))),r.push("Z"),r.join("")}return super.toString(e)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}};RVe=G1;it.GeneralizedTime=RVe;G1.NAME="GeneralizedTime";j3=class extends gl{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}};TVe=j3;it.DATE=TVe;j3.NAME="DATE";q3=class extends gl{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}};IVe=q3;it.TimeOfDay=IVe;q3.NAME="TimeOfDay";H3=class extends gl{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}};CVe=H3;it.DateTime=CVe;H3.NAME="DateTime";W3=class extends gl{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}};OVe=W3;it.Duration=OVe;W3.NAME="Duration";G3=class extends gl{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}};NVe=G3;it.TIME=NVe;G3.NAME="TIME";gd=class{constructor({name:e=ua,optional:r=!1}={}){this.name=e,this.optional=r}},z2=class extends gd{constructor({value:e=[],...r}={}){super(r),this.value=e}},K1=class extends gd{constructor({value:e=new gd,local:r=!1,...n}={}){super(n),this.value=e,this.local=r}},iie=class{get data(){return this.dataView.slice().buffer}set data(e){this.dataView=We.toUint8Array(e)}constructor({data:e=PP}={}){this.dataView=We.toUint8Array(e)}fromBER(e,r,n){let i=r+n;return this.dataView=We.toUint8Array(e).subarray(r,i),i}toBER(e){return this.dataView.slice().buffer}}});var oe,Y,Y1=g(()=>{"use strict";(function(t){t[t.Sequence=0]="Sequence",t[t.Set=1]="Set",t[t.Choice=2]="Choice"})(oe||(oe={}));(function(t){t[t.Any=1]="Any",t[t.Boolean=2]="Boolean",t[t.OctetString=3]="OctetString",t[t.BitString=4]="BitString",t[t.Integer=5]="Integer",t[t.Enumerated=6]="Enumerated",t[t.ObjectIdentifier=7]="ObjectIdentifier",t[t.Utf8String=8]="Utf8String",t[t.BmpString=9]="BmpString",t[t.UniversalString=10]="UniversalString",t[t.NumericString=11]="NumericString",t[t.PrintableString=12]="PrintableString",t[t.TeletexString=13]="TeletexString",t[t.VideotexString=14]="VideotexString",t[t.IA5String=15]="IA5String",t[t.GraphicString=16]="GraphicString",t[t.VisibleString=17]="VisibleString",t[t.GeneralString=18]="GeneralString",t[t.CharacterString=19]="CharacterString",t[t.UTCTime=20]="UTCTime",t[t.GeneralizedTime=21]="GeneralizedTime",t[t.DATE=22]="DATE",t[t.TimeOfDay=23]="TimeOfDay",t[t.DateTime=24]="DateTime",t[t.Duration=25]="Duration",t[t.TIME=26]="TIME",t[t.Null=27]="Null"})(Y||(Y={}))});var _d,PVe=g(()=>{"use strict";Ih();om();_d=class{constructor(e,r=0){if(this.unusedBits=0,this.value=new ArrayBuffer(0),e)if(typeof e=="number")this.fromNumber(e);else if(We.isBufferSource(e))this.unusedBits=r,this.value=We.toArrayBuffer(e);else throw TypeError("Unsupported type of 'params' argument for BitString")}fromASN(e){if(!(e instanceof su))throw new TypeError("Argument 'asn' is not instance of ASN.1 BitString");return this.unusedBits=e.valueBlock.unusedBits,this.value=e.valueBlock.valueHex,this}toASN(){return new su({unusedBits:this.unusedBits,valueHex:this.value})}toSchema(e){return new su({name:e})}toNumber(){let e="",r=new Uint8Array(this.value);for(let n of r)e+=n.toString(2).padStart(8,"0");return e=e.split("").reverse().join(""),this.unusedBits&&(e=e.slice(this.unusedBits).padStart(this.unusedBits,"0")),parseInt(e,2)}fromNumber(e){let r=e.toString(2),n=r.length+7>>3;this.unusedBits=(n<<3)-r.length;let i=new Uint8Array(n);r=r.padStart(n<<3,"0").split("").reverse().join("");let o=0;for(;o<n;)i[o]=parseInt(r.slice(o<<3,(o<<3)+8),2),o++;this.value=i.buffer}}});var _t,kVe=g(()=>{"use strict";Ih();om();_t=class{get byteLength(){return this.buffer.byteLength}get byteOffset(){return 0}constructor(e){typeof e=="number"?this.buffer=new ArrayBuffer(e):We.isBufferSource(e)?this.buffer=We.toArrayBuffer(e):Array.isArray(e)?this.buffer=new Uint8Array(e):this.buffer=new ArrayBuffer(0)}fromASN(e){if(!(e instanceof ou))throw new TypeError("Argument 'asn' is not instance of ASN.1 OctetString");return this.buffer=e.valueBlock.valueHex,this}toASN(){return new ou({valueHex:this.buffer})}toSchema(e){return new ou({name:e})}}});var aie=g(()=>{"use strict";PVe();kVe()});function yl(t){return{fromASN:e=>e.valueBlock.value,toASN:e=>new t({value:e})}}function Ch(t){switch(t){case Y.Any:return ENt;case Y.BitString:return INt;case Y.BmpString:return NNt;case Y.Boolean:return ONt;case Y.CharacterString:return zNt;case Y.Enumerated:return TNt;case Y.GeneralString:return FNt;case Y.GeneralizedTime:return jNt;case Y.GraphicString:return BNt;case Y.IA5String:return LNt;case Y.Integer:return RNt;case Y.Null:return qNt;case Y.NumericString:return kNt;case Y.ObjectIdentifier:return CNt;case Y.OctetString:return j2;case Y.PrintableString:return DNt;case Y.TeletexString:return MNt;case Y.UTCTime:return VNt;case Y.UniversalString:return PNt;case Y.Utf8String:return cie;case Y.VideotexString:return $Nt;case Y.VisibleString:return UNt;default:return null}}var ENt,RNt,TNt,or,INt,CNt,ONt,j2,DVe,cie,NNt,PNt,kNt,DNt,MNt,$Nt,LNt,BNt,UNt,FNt,zNt,VNt,jNt,qNt,K3=g(()=>{"use strict";Ih();Y1();aie();ENt={fromASN:t=>t instanceof iu?null:t.valueBeforeDecodeView,toASN:t=>{if(t===null)return new iu;let e=dm(t);if(e.result.error)throw new Error(e.result.error);return e.result}},RNt={fromASN:t=>t.valueBlock.valueHexView.byteLength>=4?t.valueBlock.toString():t.valueBlock.valueDec,toASN:t=>new lm({value:+t})},TNt={fromASN:t=>t.valueBlock.valueDec,toASN:t=>new M1({value:t})},or={fromASN:t=>t.valueBlock.valueHexView,toASN:t=>new lm({valueHex:t})},INt={fromASN:t=>t.valueBlock.valueHexView,toASN:t=>new su({valueHex:t})},CNt={fromASN:t=>t.valueBlock.toString(),toASN:t=>new $1({value:t})},ONt={fromASN:t=>t.valueBlock.value,toASN:t=>new D1({value:t})},j2={fromASN:t=>t.valueBlock.valueHexView,toASN:t=>new ou({valueHex:t})},DVe={fromASN:t=>new _t(t.getValue()),toASN:t=>t.toASN()};cie=yl(gl),NNt=yl(L1),PNt=yl(B1),kNt=yl(U1),DNt=yl(F1),MNt=yl(z1),$Nt=yl(V1),LNt=yl(j1),BNt=yl(q1),UNt=yl(Rh),FNt=yl(H1),zNt=yl(W1),VNt={fromASN:t=>t.toDate(),toASN:t=>new Th({valueDate:t})},jNt={fromASN:t=>t.toDate(),toASN:t=>new G1({valueDate:t})},qNt={fromASN:()=>null,toASN:()=>new iu}});function bl(t){return typeof t=="function"&&t.prototype?t.prototype.toASN&&t.prototype.fromASN?!0:bl(t.prototype):!!(t&&typeof t=="object"&&"toASN"in t&&"fromASN"in t)}function uie(t){var e;if(t){let r=Object.getPrototypeOf(t);return((e=r?.prototype)===null||e===void 0?void 0:e.constructor)===Array?!0:uie(r)}return!1}function MVe(t,e){if(!(t&&e)||t.byteLength!==e.byteLength)return!1;let r=new Uint8Array(t),n=new Uint8Array(e);for(let i=0;i<t.byteLength;i++)if(r[i]!==n[i])return!1;return!0}var kP=g(()=>{"use strict"});var DP,$Ve=g(()=>{"use strict";Ih();Y1();kP();DP=class{constructor(){this.items=new WeakMap}has(e){return this.items.has(e)}get(e,r=!1){let n=this.items.get(e);if(!n)throw new Error(`Cannot get schema for '${e.prototype.constructor.name}' target`);if(r&&!n.schema)throw new Error(`Schema '${e.prototype.constructor.name}' doesn't contain ASN.1 schema. Call 'AsnSchemaStorage.cache'.`);return n}cache(e){let r=this.get(e);r.schema||(r.schema=this.create(e,!0))}createDefault(e){let r={type:oe.Sequence,items:{}},n=this.findParentSchema(e);return n&&(Object.assign(r,n),r.items=Object.assign({},r.items,n.items)),r}create(e,r){let n=this.items.get(e)||this.createDefault(e),i=[];for(let o in n.items){let s=n.items[o],a=r?o:"",c;if(typeof s.type=="number"){let u=Y[s.type],d=vd[u];if(!d)throw new Error(`Cannot get ASN1 class by name '${u}'`);c=new d({name:a})}else bl(s.type)?c=new s.type().toSchema(a):s.optional?this.get(s.type).type===oe.Choice?c=new gd({name:a}):(c=this.create(s.type,!1),c.name=a):c=new gd({name:a});let l=!!s.optional||s.defaultValue!==void 0;if(s.repeated){c.name="";let u=s.repeated==="set"?ws:Yo;c=new u({name:"",value:[new K1({name:a,value:c})]})}if(s.context!==null&&s.context!==void 0)if(s.implicit)if(typeof s.type=="number"||bl(s.type)){let u=s.repeated?Ii:cm;i.push(new u({name:a,optional:l,idBlock:{tagClass:3,tagNumber:s.context}}))}else{this.cache(s.type);let u=!!s.repeated,d=u?c:this.get(s.type,!0).schema;d="valueBlock"in d?d.valueBlock.value:d.value,i.push(new Ii({name:u?"":a,optional:l,idBlock:{tagClass:3,tagNumber:s.context},value:d}))}else i.push(new Ii({optional:l,idBlock:{tagClass:3,tagNumber:s.context},value:[c]}));else c.optional=l,i.push(c)}switch(n.type){case oe.Sequence:return new Yo({value:i,name:""});case oe.Set:return new ws({value:i,name:""});case oe.Choice:return new z2({value:i,name:""});default:throw new Error("Unsupported ASN1 type in use")}}set(e,r){return this.items.set(e,r),this}findParentSchema(e){let r=Object.getPrototypeOf(e);return r?this.items.get(r)||this.findParentSchema(r):null}}});var Ci,MP=g(()=>{"use strict";$Ve();Ci=new DP});var de,D,LVe=g(()=>{"use strict";K3();Y1();MP();de=t=>e=>{let r;Ci.has(e)?r=Ci.get(e):(r=Ci.createDefault(e),Ci.set(e,r)),Object.assign(r,t)},D=t=>(e,r)=>{let n;Ci.has(e.constructor)?n=Ci.get(e.constructor):(n=Ci.createDefault(e.constructor),Ci.set(e.constructor,n));let i=Object.assign({},t);if(typeof i.type=="number"&&!i.converter){let o=Ch(t.type);if(!o)throw new Error(`Cannot get default converter for property '${r}' of ${e.constructor.name}`);i.converter=o}i.raw=t.raw,n.items[r]=i}});var Oh,BVe=g(()=>{"use strict";Oh=class extends Error{constructor(){super(...arguments),this.schemas=[]}}});var die=g(()=>{"use strict";BVe()});var Y3,pie=g(()=>{"use strict";Ih();Y1();K3();die();kP();MP();Y3=class{static parse(e,r){let n=dm(e);if(n.result.error)throw new Error(n.result.error);return this.fromASN(n.result,r)}static fromASN(e,r){try{if(bl(r))return new r().fromASN(e);let n=Ci.get(r);Ci.cache(r);let i=n.schema,o=this.handleChoiceTypes(e,n,r,i);if(o?.result)return o.result;o?.targetSchema&&(i=o.targetSchema);let s=this.handleSequenceTypes(e,n,r,i),a=new r;return uie(r)?this.handleArrayTypes(e,n,r):(this.processSchemaItems(n,s,a),a)}catch(n){throw n instanceof Oh&&n.schemas.push(r.name),n}}static handleChoiceTypes(e,r,n,i){if(e.constructor===Ii&&r.type===oe.Choice&&e.idBlock.tagClass===3)for(let o in r.items){let s=r.items[o];if(s.context===e.idBlock.tagNumber&&s.implicit&&typeof s.type=="function"&&Ci.has(s.type)){let a=Ci.get(s.type);if(a&&a.type===oe.Sequence){let c=new Yo;if("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)&&"value"in c.valueBlock){c.valueBlock.value=e.valueBlock.value;let l=this.fromASN(c,s.type),u=new n;return u[o]=l,{result:u}}}}}else if(e.constructor===Ii&&r.type!==oe.Choice){let o=new Ii({idBlock:{tagClass:3,tagNumber:e.idBlock.tagNumber},value:r.schema.valueBlock.value});for(let s in r.items)delete e[s];return{targetSchema:o}}return null}static handleSequenceTypes(e,r,n,i){if(r.type===oe.Sequence){let o=sm({},e,i);if(!o.verified)throw new Oh(`Data does not match to ${n.name} ASN1 schema.${o.result.error?` ${o.result.error}`:""}`);return o}else{let o=sm({},e,i);if(!o.verified)throw new Oh(`Data does not match to ${n.name} ASN1 schema.${o.result.error?` ${o.result.error}`:""}`);return o}}static processRepeatedField(e,r,n){let i=e.slice(r);if(i.length===1&&i[0].constructor.name==="Sequence"){let o=i[0];o.valueBlock&&o.valueBlock.value&&Array.isArray(o.valueBlock.value)&&(i=o.valueBlock.value)}if(typeof n.type=="number"){let o=Ch(n.type);if(!o)throw new Error(`No converter for ASN.1 type ${n.type}`);return i.filter(s=>s&&s.valueBlock).map(s=>{try{return o.fromASN(s)}catch{return}}).filter(s=>s!==void 0)}else return i.filter(o=>o&&o.valueBlock).map(o=>{try{return this.fromASN(o,n.type)}catch{return}}).filter(o=>o!==void 0)}static processPrimitiveField(e,r){let n=Ch(r.type);if(!n)throw new Error(`No converter for ASN.1 type ${r.type}`);return n.fromASN(e)}static isOptionalChoiceField(e){return e.optional&&typeof e.type=="function"&&Ci.has(e.type)&&Ci.get(e.type).type===oe.Choice}static processOptionalChoiceField(e,r){try{return{processed:!0,value:this.fromASN(e,r.type)}}catch(n){if(n instanceof Oh&&/Wrong values for Choice type/.test(n.message))return{processed:!1};throw n}}static handleArrayTypes(e,r,n){if(!("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");let i=r.itemType;if(typeof i=="number"){let o=Ch(i);if(!o)throw new Error(`Cannot get default converter for array item of ${n.name} ASN1 schema`);return n.from(e.valueBlock.value,s=>o.fromASN(s))}else return n.from(e.valueBlock.value,o=>this.fromASN(o,i))}static processSchemaItems(e,r,n){for(let i in e.items){let o=r.result[i];if(!o)continue;let s=e.items[i],a=s.type,c;typeof a=="number"||bl(a)?c=this.processPrimitiveSchemaItem(o,s,a):c=this.processComplexSchemaItem(o,s,a),c&&typeof c=="object"&&"value"in c&&"raw"in c?(n[i]=c.value,n[`${i}Raw`]=c.raw):n[i]=c}}static processPrimitiveSchemaItem(e,r,n){var i;let o=(i=r.converter)!==null&&i!==void 0?i:bl(n)?new n:null;if(!o)throw new Error("Converter is empty");return r.repeated?this.processRepeatedPrimitiveItem(e,r,o):this.processSinglePrimitiveItem(e,r,n,o)}static processRepeatedPrimitiveItem(e,r,n){if(r.implicit){let i=r.repeated==="sequence"?Yo:ws,o=new i;o.valueBlock=e.valueBlock;let s=dm(o.toBER(!1));if(s.offset===-1)throw new Error(`Cannot parse the child item. ${s.result.error}`);if(!("value"in s.result.valueBlock&&Array.isArray(s.result.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");let a=s.result.valueBlock.value;return Array.from(a,c=>n.fromASN(c))}else return Array.from(e,i=>n.fromASN(i))}static processSinglePrimitiveItem(e,r,n,i){let o=e;if(r.implicit){let s;if(bl(n))s=new n().toSchema("");else{let a=Y[n],c=vd[a];if(!c)throw new Error(`Cannot get '${a}' class from asn1js module`);s=new c}s.valueBlock=o.valueBlock,o=dm(s.toBER(!1)).result}return i.fromASN(o)}static processComplexSchemaItem(e,r,n){if(r.repeated){if(!Array.isArray(e))throw new Error("Cannot get list of items from the ASN.1 parsed value. ASN.1 value should be iterable.");return Array.from(e,i=>this.fromASN(i,n))}else{let i=this.handleImplicitTagging(e,r,n);if(this.isOptionalChoiceField(r))try{return this.fromASN(i,n)}catch(o){if(o instanceof Oh&&/Wrong values for Choice type/.test(o.message))return;throw o}else{let o=this.fromASN(i,n);return r.raw?{value:o,raw:e.valueBeforeDecodeView}:o}}}static handleImplicitTagging(e,r,n){if(r.implicit&&typeof r.context=="number"){let i=Ci.get(n);if(i.type===oe.Sequence){let o=new Yo;if("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)&&"value"in o.valueBlock)return o.valueBlock.value=e.valueBlock.value,o}else if(i.type===oe.Set){let o=new ws;if("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)&&"value"in o.valueBlock)return o.valueBlock.value=e.valueBlock.value,o}}return e}}});var J3,mie=g(()=>{"use strict";Ih();K3();Y1();kP();MP();J3=class t{static serialize(e){return e instanceof Ti?e.toBER(!1):this.toASN(e).toBER(!1)}static toASN(e){if(e&&typeof e=="object"&&bl(e))return e.toASN();if(!(e&&typeof e=="object"))throw new TypeError("Parameter 1 should be type of Object.");let r=e.constructor,n=Ci.get(r);Ci.cache(r);let i=[];if(n.itemType){if(!Array.isArray(e))throw new TypeError("Parameter 1 should be type of Array.");if(typeof n.itemType=="number"){let s=Ch(n.itemType);if(!s)throw new Error(`Cannot get default converter for array item of ${r.name} ASN1 schema`);i=e.map(a=>s.toASN(a))}else i=e.map(s=>this.toAsnItem({type:n.itemType},"[]",r,s))}else for(let s in n.items){let a=n.items[s],c=e[s];if(c===void 0||a.defaultValue===c||typeof a.defaultValue=="object"&&typeof c=="object"&&MVe(this.serialize(a.defaultValue),this.serialize(c)))continue;let l=t.toAsnItem(a,s,r,c);if(typeof a.context=="number")if(a.implicit)if(!a.repeated&&(typeof a.type=="number"||bl(a.type))){let u={};u.valueHex=l instanceof iu?l.valueBeforeDecodeView:l.valueBlock.toBER(),i.push(new cm({optional:a.optional,idBlock:{tagClass:3,tagNumber:a.context},...u}))}else i.push(new Ii({optional:a.optional,idBlock:{tagClass:3,tagNumber:a.context},value:l.valueBlock.value}));else i.push(new Ii({optional:a.optional,idBlock:{tagClass:3,tagNumber:a.context},value:[l]}));else a.repeated?i=i.concat(l):i.push(l)}let o;switch(n.type){case oe.Sequence:o=new Yo({value:i});break;case oe.Set:o=new ws({value:i});break;case oe.Choice:if(!i[0])throw new Error(`Schema '${r.name}' has wrong data. Choice cannot be empty.`);o=i[0];break}return o}static toAsnItem(e,r,n,i){let o;if(typeof e.type=="number"){let s=e.converter;if(!s)throw new Error(`Property '${r}' doesn't have converter for type ${Y[e.type]} in schema '${n.name}'`);if(e.repeated){if(!Array.isArray(i))throw new TypeError("Parameter 'objProp' should be type of Array.");let a=Array.from(i,l=>s.toASN(l)),c=e.repeated==="sequence"?Yo:ws;o=new c({value:a})}else o=s.toASN(i)}else if(e.repeated){if(!Array.isArray(i))throw new TypeError("Parameter 'objProp' should be type of Array.");let s=Array.from(i,c=>this.toASN(c)),a=e.repeated==="sequence"?Yo:ws;o=new a({value:s})}else o=this.toASN(i);return o}}});var mt,UVe=g(()=>{"use strict";mt=class extends Array{constructor(e=[]){if(typeof e=="number")super(e);else{super();for(let r of e)this.push(r)}}}});var Ke,FVe=g(()=>{"use strict";Ih();om();pie();mie();Ke=class t{static serialize(e){return J3.serialize(e)}static parse(e,r){return Y3.parse(e,r)}static toString(e){let r=We.isBufferSource(e)?We.toArrayBuffer(e):t.serialize(e),n=dm(r);if(n.offset===-1)throw new Error(`Cannot decode ASN.1 data. ${n.result.error}`);return n.result.toString()}}});var Se=g(()=>{"use strict";K3();aie();LVe();Y1();pie();mie();die();UVe();FVe()});function T(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o}var Ae=g(()=>{"use strict"});var Q3,zVe=g(()=>{"use strict";om();Q3=class{static isIPv4(e){return/^(\d{1,3}\.){3}\d{1,3}$/.test(e)}static parseIPv4(e){let r=e.split(".");if(r.length!==4)throw new Error("Invalid IPv4 address");return r.map(n=>{let i=parseInt(n,10);if(isNaN(i)||i<0||i>255)throw new Error("Invalid IPv4 address part");return i})}static parseIPv6(e){let n=this.expandIPv6(e).split(":");if(n.length!==8)throw new Error("Invalid IPv6 address");return n.reduce((i,o)=>{let s=parseInt(o,16);if(isNaN(s)||s<0||s>65535)throw new Error("Invalid IPv6 address part");return i.push(s>>8&255),i.push(s&255),i},[])}static expandIPv6(e){if(!e.includes("::"))return e;let r=e.split("::");if(r.length>2)throw new Error("Invalid IPv6 address");let n=r[0]?r[0].split(":"):[],i=r[1]?r[1].split(":"):[],o=8-(n.length+i.length);if(o<0)throw new Error("Invalid IPv6 address");return[...n,...Array(o).fill("0"),...i].join(":")}static formatIPv6(e){let r=[];for(let n=0;n<16;n+=2)r.push((e[n]<<8|e[n+1]).toString(16));return this.compressIPv6(r.join(":"))}static compressIPv6(e){let r=e.split(":"),n=-1,i=0,o=-1,s=0;for(let a=0;a<r.length;a++)r[a]==="0"?(o===-1&&(o=a),s++):(s>i&&(n=o,i=s),o=-1,s=0);if(s>i&&(n=o,i=s),i>1){let a=r.slice(0,n).join(":"),c=r.slice(n+i).join(":");return`${a}::${c}`}return e}static parseCIDR(e){let[r,n]=e.split("/"),i=parseInt(n,10);if(this.isIPv4(r)){if(i<0||i>32)throw new Error("Invalid IPv4 prefix length");return[this.parseIPv4(r),i]}else{if(i<0||i>128)throw new Error("Invalid IPv6 prefix length");return[this.parseIPv6(r),i]}}static decodeIP(e){if(e.length===64&&parseInt(e,16)===0)return"::/0";if(e.length!==16)return e;let r=parseInt(e.slice(8),16).toString(2).split("").reduce((i,o)=>i+ +o,0),n=e.slice(0,8).replace(/(.{2})/g,i=>`${parseInt(i,16)}.`);return n=n.slice(0,-1),`${n}/${r}`}static toString(e){let r=new Uint8Array(e);if(r.length===4)return Array.from(r).join(".");if(r.length===16)return this.formatIPv6(r);if(r.length===8||r.length===32){let n=r.length/2,i=r.slice(0,n),o=r.slice(n);if(r.every(c=>c===0))return r.length===8?"0.0.0.0/0":"::/0";let a=o.reduce((c,l)=>c+(l.toString(2).match(/1/g)||[]).length,0);return r.length===8?`${Array.from(i).join(".")}/${a}`:`${this.formatIPv6(i)}/${a}`}return this.decodeIP(at.ToHex(e))}static fromString(e){if(e.includes("/")){let[n,i]=this.parseCIDR(e),o=new Uint8Array(n.length),s=i;for(let c=0;c<o.length;c++)s>=8?(o[c]=255,s-=8):s>0&&(o[c]=255<<8-s,s=0);let a=new Uint8Array(n.length*2);return a.set(n,0),a.set(o,n.length),a.buffer}let r=this.isIPv4(e)?this.parseIPv4(e):this.parseIPv6(e);return new Uint8Array(r).buffer}}});var fie,hie,gie,Oi,q2,J1,Nh,yie,mn,H2=g(()=>{"use strict";Ae();Se();om();Oi=class{constructor(e={}){Object.assign(this,e)}toString(){return this.bmpString||this.printableString||this.teletexString||this.universalString||this.utf8String||""}};T([D({type:Y.TeletexString})],Oi.prototype,"teletexString",void 0);T([D({type:Y.PrintableString})],Oi.prototype,"printableString",void 0);T([D({type:Y.UniversalString})],Oi.prototype,"universalString",void 0);T([D({type:Y.Utf8String})],Oi.prototype,"utf8String",void 0);T([D({type:Y.BmpString})],Oi.prototype,"bmpString",void 0);Oi=T([de({type:oe.Choice})],Oi);q2=class extends Oi{constructor(e={}){super(e),Object.assign(this,e)}toString(){return this.ia5String||(this.anyValue?at.ToHex(this.anyValue):super.toString())}};T([D({type:Y.IA5String})],q2.prototype,"ia5String",void 0);T([D({type:Y.Any})],q2.prototype,"anyValue",void 0);q2=T([de({type:oe.Choice})],q2);J1=class{constructor(e={}){this.type="",this.value=new q2,Object.assign(this,e)}};T([D({type:Y.ObjectIdentifier})],J1.prototype,"type",void 0);T([D({type:q2})],J1.prototype,"value",void 0);Nh=fie=class extends mt{constructor(e){super(e),Object.setPrototypeOf(this,fie.prototype)}};Nh=fie=T([de({type:oe.Set,itemType:J1})],Nh);yie=hie=class extends mt{constructor(e){super(e),Object.setPrototypeOf(this,hie.prototype)}};yie=hie=T([de({type:oe.Sequence,itemType:Nh})],yie);mn=gie=class extends yie{constructor(e){super(e),Object.setPrototypeOf(this,gie.prototype)}};mn=gie=T([de({type:oe.Sequence})],mn)});var HNt,Ph,Z3,Tt,Q1=g(()=>{"use strict";Ae();Se();zVe();H2();HNt={fromASN:t=>Q3.toString(j2.fromASN(t)),toASN:t=>j2.toASN(Q3.fromString(t))},Ph=class{constructor(e={}){this.typeId="",this.value=new ArrayBuffer(0),Object.assign(this,e)}};T([D({type:Y.ObjectIdentifier})],Ph.prototype,"typeId",void 0);T([D({type:Y.Any,context:0})],Ph.prototype,"value",void 0);Z3=class{constructor(e={}){this.partyName=new Oi,Object.assign(this,e)}};T([D({type:Oi,optional:!0,context:0,implicit:!0})],Z3.prototype,"nameAssigner",void 0);T([D({type:Oi,context:1,implicit:!0})],Z3.prototype,"partyName",void 0);Tt=class{constructor(e={}){Object.assign(this,e)}};T([D({type:Ph,context:0,implicit:!0})],Tt.prototype,"otherName",void 0);T([D({type:Y.IA5String,context:1,implicit:!0})],Tt.prototype,"rfc822Name",void 0);T([D({type:Y.IA5String,context:2,implicit:!0})],Tt.prototype,"dNSName",void 0);T([D({type:Y.Any,context:3,implicit:!0})],Tt.prototype,"x400Address",void 0);T([D({type:mn,context:4,implicit:!1})],Tt.prototype,"directoryName",void 0);T([D({type:Z3,context:5})],Tt.prototype,"ediPartyName",void 0);T([D({type:Y.IA5String,context:6,implicit:!0})],Tt.prototype,"uniformResourceIdentifier",void 0);T([D({type:Y.OctetString,context:7,implicit:!0,converter:HNt})],Tt.prototype,"iPAddress",void 0);T([D({type:Y.ObjectIdentifier,context:8,implicit:!0})],Tt.prototype,"registeredID",void 0);Tt=T([de({type:oe.Choice})],Tt)});var kh,Dh,VVe,Z1,$P,Ncn,Pcn,bie,vie,_ie,Sie,jt,fn=g(()=>{"use strict";kh="1.3.6.1.5.5.7",Dh=`${kh}.1`,VVe=`${kh}.2`,Z1=`${kh}.3`,$P=`${kh}.48`,Ncn=`${VVe}.1`,Pcn=`${VVe}.2`,bie=`${$P}.1`,vie=`${$P}.2`,_ie=`${$P}.3`,Sie=`${$P}.5`,jt="2.5.29"});var wie,LP,pm,X1,xie=g(()=>{"use strict";Ae();Se();Q1();fn();LP=`${Dh}.1`,pm=class{constructor(e={}){this.accessMethod="",this.accessLocation=new Tt,Object.assign(this,e)}};T([D({type:Y.ObjectIdentifier})],pm.prototype,"accessMethod",void 0);T([D({type:Tt})],pm.prototype,"accessLocation",void 0);X1=wie=class extends mt{constructor(e){super(e),Object.setPrototypeOf(this,wie.prototype)}};X1=wie=T([de({type:oe.Sequence,itemType:pm})],X1)});var BP,ey,Sd,Aie=g(()=>{"use strict";Ae();Se();Q1();fn();BP=`${jt}.35`,ey=class extends _t{},Sd=class{constructor(e={}){e&&Object.assign(this,e)}};T([D({type:ey,context:0,optional:!0,implicit:!0})],Sd.prototype,"keyIdentifier",void 0);T([D({type:Tt,context:1,optional:!0,implicit:!0,repeated:"sequence"})],Sd.prototype,"authorityCertIssuer",void 0);T([D({type:Y.Integer,context:2,optional:!0,implicit:!0,converter:or})],Sd.prototype,"authorityCertSerialNumber",void 0)});var UP,ty,jVe=g(()=>{"use strict";Ae();Se();fn();UP=`${jt}.19`,ty=class{constructor(e={}){this.cA=!1,Object.assign(this,e)}};T([D({type:Y.Boolean,defaultValue:!1})],ty.prototype,"cA",void 0);T([D({type:Y.Integer,optional:!0})],ty.prototype,"pathLenConstraint",void 0)});var Eie,Nn,X3=g(()=>{"use strict";Ae();Se();Q1();Se();Nn=Eie=class extends mt{constructor(e){super(e),Object.setPrototypeOf(this,Eie.prototype)}};Nn=Eie=T([de({type:oe.Sequence,itemType:Tt})],Nn)});var Rie,WNt,qVe,HVe=g(()=>{"use strict";Ae();Se();X3();fn();WNt=`${jt}.29`,qVe=Rie=class extends Nn{constructor(e){super(e),Object.setPrototypeOf(this,Rie.prototype)}};qVe=Rie=T([de({type:oe.Sequence})],qVe)});var Tie,zP,uln,mm,e5,t5,FP,r5,ry,n5,WVe=g(()=>{"use strict";Ae();Se();fn();zP=`${jt}.32`,uln=`${zP}.0`,mm=class{constructor(e={}){Object.assign(this,e)}toString(){return this.ia5String||this.visibleString||this.bmpString||this.utf8String||""}};T([D({type:Y.IA5String})],mm.prototype,"ia5String",void 0);T([D({type:Y.VisibleString})],mm.prototype,"visibleString",void 0);T([D({type:Y.BmpString})],mm.prototype,"bmpString",void 0);T([D({type:Y.Utf8String})],mm.prototype,"utf8String",void 0);mm=T([de({type:oe.Choice})],mm);e5=class{constructor(e={}){this.organization=new mm,this.noticeNumbers=[],Object.assign(this,e)}};T([D({type:mm})],e5.prototype,"organization",void 0);T([D({type:Y.Integer,repeated:"sequence"})],e5.prototype,"noticeNumbers",void 0);t5=class{constructor(e={}){Object.assign(this,e)}};T([D({type:e5,optional:!0})],t5.prototype,"noticeRef",void 0);T([D({type:mm,optional:!0})],t5.prototype,"explicitText",void 0);FP=class{constructor(e={}){Object.assign(this,e)}};T([D({type:Y.IA5String})],FP.prototype,"cPSuri",void 0);T([D({type:t5})],FP.prototype,"userNotice",void 0);FP=T([de({type:oe.Choice})],FP);r5=class{constructor(e={}){this.policyQualifierId="",this.qualifier=new ArrayBuffer(0),Object.assign(this,e)}};T([D({type:Y.ObjectIdentifier})],r5.prototype,"policyQualifierId",void 0);T([D({type:Y.Any})],r5.prototype,"qualifier",void 0);ry=class{constructor(e={}){this.policyIdentifier="",Object.assign(this,e)}};T([D({type:Y.ObjectIdentifier})],ry.prototype,"policyIdentifier",void 0);T([D({type:r5,repeated:"sequence",optional:!0})],ry.prototype,"policyQualifiers",void 0);n5=Tie=class extends mt{constructor(e){super(e),Object.setPrototypeOf(this,Tie.prototype)}};n5=Tie=T([de({type:oe.Sequence,itemType:ry})],n5)});var bln,i5,Iie=g(()=>{"use strict";Ae();Se();fn();bln=`${jt}.20`,i5=class{constructor(e=0){this.value=e}};T([D({type:Y.Integer})],i5.prototype,"value",void 0);i5=T([de({type:oe.Choice})],i5)});var Eln,GVe,KVe=g(()=>{"use strict";Ae();Se();fn();Iie();Eln=`${jt}.27`,GVe=class extends i5{};GVe=T([de({type:oe.Choice})],GVe)});var Cie,VP,au,o5,fm,wd,Mh,jP=g(()=>{"use strict";Ae();Se();H2();Q1();fn();VP=`${jt}.31`;(function(t){t[t.unused=1]="unused",t[t.keyCompromise=2]="keyCompromise",t[t.cACompromise=4]="cACompromise",t[t.affiliationChanged=8]="affiliationChanged",t[t.superseded=16]="superseded",t[t.cessationOfOperation=32]="cessationOfOperation",t[t.certificateHold=64]="certificateHold",t[t.privilegeWithdrawn=128]="privilegeWithdrawn",t[t.aACompromise=256]="aACompromise"})(au||(au={}));o5=class extends _d{toJSON(){let e=[],r=this.toNumber();return r&au.aACompromise&&e.push("aACompromise"),r&au.affiliationChanged&&e.push("affiliationChanged"),r&au.cACompromise&&e.push("cACompromise"),r&au.certificateHold&&e.push("certificateHold"),r&au.cessationOfOperation&&e.push("cessationOfOperation"),r&au.keyCompromise&&e.push("keyCompromise"),r&au.privilegeWithdrawn&&e.push("privilegeWithdrawn"),r&au.superseded&&e.push("superseded"),r&au.unused&&e.push("unused"),e}toString(){return`[${this.toJSON().join(", ")}]`}},fm=class{constructor(e={}){Object.assign(this,e)}};T([D({type:Tt,context:0,repeated:"sequence",implicit:!0})],fm.prototype,"fullName",void 0);T([D({type:Nh,context:1,implicit:!0})],fm.prototype,"nameRelativeToCRLIssuer",void 0);fm=T([de({type:oe.Choice})],fm);wd=class{constructor(e={}){Object.assign(this,e)}};T([D({type:fm,context:0,optional:!0})],wd.prototype,"distributionPoint",void 0);T([D({type:o5,context:1,optional:!0,implicit:!0})],wd.prototype,"reasons",void 0);T([D({type:Tt,context:2,optional:!0,repeated:"sequence",implicit:!0})],wd.prototype,"cRLIssuer",void 0);Mh=Cie=class extends mt{constructor(e){super(e),Object.setPrototypeOf(this,Cie.prototype)}};Mh=Cie=T([de({type:oe.Sequence,itemType:wd})],Mh)});var Oie,Fln,YVe,JVe=g(()=>{"use strict";Ae();Se();fn();jP();Fln=`${jt}.46`,YVe=Oie=class extends Mh{constructor(e){super(e),Object.setPrototypeOf(this,Oie.prototype)}};YVe=Oie=T([de({type:oe.Sequence,itemType:wd})],YVe)});var Kln,Ha,QVe=g(()=>{"use strict";Ae();Se();jP();fn();Se();Kln=`${jt}.28`,Ha=class t{constructor(e={}){this.onlyContainsUserCerts=t.ONLY,this.onlyContainsCACerts=t.ONLY,this.indirectCRL=t.ONLY,this.onlyContainsAttributeCerts=t.ONLY,Object.assign(this,e)}};Ha.ONLY=!1;T([D({type:fm,context:0,optional:!0})],Ha.prototype,"distributionPoint",void 0);T([D({type:Y.Boolean,context:1,defaultValue:Ha.ONLY,implicit:!0})],Ha.prototype,"onlyContainsUserCerts",void 0);T([D({type:Y.Boolean,context:2,defaultValue:Ha.ONLY,implicit:!0})],Ha.prototype,"onlyContainsCACerts",void 0);T([D({type:o5,context:3,optional:!0,implicit:!0})],Ha.prototype,"onlySomeReasons",void 0);T([D({type:Y.Boolean,context:4,defaultValue:Ha.ONLY,implicit:!0})],Ha.prototype,"indirectCRL",void 0);T([D({type:Y.Boolean,context:5,defaultValue:Ha.ONLY,implicit:!0})],Ha.prototype,"onlyContainsAttributeCerts",void 0)});var ZVe,s5,a5,XVe=g(()=>{"use strict";Ae();Se();fn();ZVe=`${jt}.21`;(function(t){t[t.unspecified=0]="unspecified",t[t.keyCompromise=1]="keyCompromise",t[t.cACompromise=2]="cACompromise",t[t.affiliationChanged=3]="affiliationChanged",t[t.superseded=4]="superseded",t[t.cessationOfOperation=5]="cessationOfOperation",t[t.certificateHold=6]="certificateHold",t[t.removeFromCRL=8]="removeFromCRL",t[t.privilegeWithdrawn=9]="privilegeWithdrawn",t[t.aACompromise=10]="aACompromise"})(s5||(s5={}));a5=class{constructor(e=s5.unspecified){this.reason=s5.unspecified,this.reason=e}toJSON(){return s5[this.reason]}toString(){return this.toJSON()}};T([D({type:Y.Enumerated})],a5.prototype,"reason",void 0);a5=T([de({type:oe.Choice})],a5)});var Nie,qP,c5,oun,eje,tje,rje,nje,ije,oje,sje=g(()=>{"use strict";Ae();Se();fn();qP=`${jt}.37`,c5=Nie=class extends mt{constructor(e){super(e),Object.setPrototypeOf(this,Nie.prototype)}};c5=Nie=T([de({type:oe.Sequence,itemType:Y.ObjectIdentifier})],c5);oun=`${qP}.0`,eje=`${Z1}.1`,tje=`${Z1}.2`,rje=`${Z1}.3`,nje=`${Z1}.4`,ije=`${Z1}.8`,oje=`${Z1}.9`});var uun,Pie,aje=g(()=>{"use strict";Ae();Se();fn();uun=`${jt}.54`,Pie=class{constructor(e=new ArrayBuffer(0)){this.value=e}};T([D({type:Y.Integer,converter:or})],Pie.prototype,"value",void 0);Pie=T([de({type:oe.Choice})],Pie)});var cje,l5,lje=g(()=>{"use strict";Ae();Se();fn();cje=`${jt}.24`,l5=class{constructor(e){this.value=new Date,e&&(this.value=e)}};T([D({type:Y.GeneralizedTime})],l5.prototype,"value",void 0);l5=T([de({type:oe.Choice})],l5)});var kie,wun,uje,dje=g(()=>{"use strict";Ae();Se();X3();fn();wun=`${jt}.18`,uje=kie=class extends Nn{constructor(e){super(e),Object.setPrototypeOf(this,kie.prototype)}};uje=kie=T([de({type:oe.Sequence})],uje)});var HP,cu,W2,pje=g(()=>{"use strict";Se();fn();HP=`${jt}.15`;(function(t){t[t.digitalSignature=1]="digitalSignature",t[t.nonRepudiation=2]="nonRepudiation",t[t.keyEncipherment=4]="keyEncipherment",t[t.dataEncipherment=8]="dataEncipherment",t[t.keyAgreement=16]="keyAgreement",t[t.keyCertSign=32]="keyCertSign",t[t.cRLSign=64]="cRLSign",t[t.encipherOnly=128]="encipherOnly",t[t.decipherOnly=256]="decipherOnly"})(cu||(cu={}));W2=class extends _d{toJSON(){let e=this.toNumber(),r=[];return e&cu.cRLSign&&r.push("crlSign"),e&cu.dataEncipherment&&r.push("dataEncipherment"),e&cu.decipherOnly&&r.push("decipherOnly"),e&cu.digitalSignature&&r.push("digitalSignature"),e&cu.encipherOnly&&r.push("encipherOnly"),e&cu.keyAgreement&&r.push("keyAgreement"),e&cu.keyCertSign&&r.push("keyCertSign"),e&cu.keyEncipherment&&r.push("keyEncipherment"),e&cu.nonRepudiation&&r.push("nonRepudiation"),r}toString(){return`[${this.toJSON().join(", ")}]`}}});var Die,Pun,G2,WP,GP,mje=g(()=>{"use strict";Ae();Se();Q1();fn();Pun=`${jt}.30`,G2=class{constructor(e={}){this.base=new Tt,this.minimum=0,Object.assign(this,e)}};T([D({type:Tt})],G2.prototype,"base",void 0);T([D({type:Y.Integer,context:0,defaultValue:0,implicit:!0})],G2.prototype,"minimum",void 0);T([D({type:Y.Integer,context:1,optional:!0,implicit:!0})],G2.prototype,"maximum",void 0);WP=Die=class extends mt{constructor(e){super(e),Object.setPrototypeOf(this,Die.prototype)}};WP=Die=T([de({type:oe.Sequence,itemType:G2})],WP);GP=class{constructor(e={}){Object.assign(this,e)}};T([D({type:WP,context:0,optional:!0,implicit:!0})],GP.prototype,"permittedSubtrees",void 0);T([D({type:WP,context:1,optional:!0,implicit:!0})],GP.prototype,"excludedSubtrees",void 0)});var Uun,KP,fje=g(()=>{"use strict";Ae();Se();fn();Uun=`${jt}.36`,KP=class{constructor(e={}){Object.assign(this,e)}};T([D({type:Y.Integer,context:0,implicit:!0,optional:!0,converter:or})],KP.prototype,"requireExplicitPolicy",void 0);T([D({type:Y.Integer,context:1,implicit:!0,optional:!0,converter:or})],KP.prototype,"inhibitPolicyMapping",void 0)});var Mie,qun,u5,hje,gje=g(()=>{"use strict";Ae();Se();fn();qun=`${jt}.33`,u5=class{constructor(e={}){this.issuerDomainPolicy="",this.subjectDomainPolicy="",Object.assign(this,e)}};T([D({type:Y.ObjectIdentifier})],u5.prototype,"issuerDomainPolicy",void 0);T([D({type:Y.ObjectIdentifier})],u5.prototype,"subjectDomainPolicy",void 0);hje=Mie=class extends mt{constructor(e){super(e),Object.setPrototypeOf(this,Mie.prototype)}};hje=Mie=T([de({type:oe.Sequence,itemType:u5})],hje)});var $ie,Lie,YP,yje=g(()=>{"use strict";Ae();Se();X3();fn();Lie=`${jt}.17`,YP=$ie=class extends Nn{constructor(e){super(e),Object.setPrototypeOf(this,$ie.prototype)}};YP=$ie=T([de({type:oe.Sequence})],YP)});var Ao,Bie=g(()=>{"use strict";Ae();Se();Ao=class{constructor(e={}){this.type="",this.values=[],Object.assign(this,e)}};T([D({type:Y.ObjectIdentifier})],Ao.prototype,"type",void 0);T([D({type:Y.Any,repeated:"set"})],Ao.prototype,"values",void 0)});var Uie,sdn,bje,vje=g(()=>{"use strict";Ae();Se();Bie();fn();sdn=`${jt}.9`,bje=Uie=class extends mt{constructor(e){super(e),Object.setPrototypeOf(this,Uie.prototype)}};bje=Uie=T([de({type:oe.Sequence,itemType:Ao})],bje)});var Fie,da,_je=g(()=>{"use strict";fn();Aie();Fie=`${jt}.14`,da=class extends ey{}});var hdn,JP,Sje=g(()=>{"use strict";Ae();Se();fn();hdn=`${jt}.16`,JP=class{constructor(e={}){Object.assign(this,e)}};T([D({type:Y.GeneralizedTime,context:0,implicit:!0,optional:!0})],JP.prototype,"notBefore",void 0);T([D({type:Y.GeneralizedTime,context:1,implicit:!0,optional:!0})],JP.prototype,"notAfter",void 0)});var d5,QP,ZP,wje=g(()=>{"use strict";Ae();Se();(function(t){t[t.keyUpdateAllowed=1]="keyUpdateAllowed",t[t.newExtensions=2]="newExtensions",t[t.pKIXCertificate=4]="pKIXCertificate"})(d5||(d5={}));QP=class extends _d{toJSON(){let e=[],r=this.toNumber();return r&d5.pKIXCertificate&&e.push("pKIXCertificate"),r&d5.newExtensions&&e.push("newExtensions"),r&d5.keyUpdateAllowed&&e.push("keyUpdateAllowed"),e}toString(){return`[${this.toJSON().join(", ")}]`}},ZP=class{constructor(e={}){this.entrustVers="",this.entrustInfoFlags=new QP,Object.assign(this,e)}};T([D({type:Y.GeneralString})],ZP.prototype,"entrustVers",void 0);T([D({type:QP})],ZP.prototype,"entrustInfoFlags",void 0)});var zie,Adn,xje,Aje=g(()=>{"use strict";Ae();Se();fn();xie();Adn=`${Dh}.11`,xje=zie=class extends mt{constructor(e){super(e),Object.setPrototypeOf(this,zie.prototype)}};xje=zie=T([de({type:oe.Sequence,itemType:pm})],xje)});var Eje=g(()=>{"use strict";xie();Aie();jVe();HVe();WVe();KVe();jP();JVe();QVe();Iie();XVe();sje();aje();lje();dje();pje();mje();fje();gje();yje();vje();_je();Sje();wje();Aje()});var $e,ny=g(()=>{"use strict";Ae();Se();om();$e=class t{constructor(e={}){this.algorithm="",Object.assign(this,e)}isEqual(e){return e instanceof t&&e.algorithm==this.algorithm&&(e.parameters&&this.parameters&&hP(e.parameters,this.parameters)||e.parameters===this.parameters)}};T([D({type:Y.ObjectIdentifier})],$e.prototype,"algorithm",void 0);T([D({type:Y.Any,optional:!0})],$e.prototype,"parameters",void 0)});var Jo,Vie=g(()=>{"use strict";Ae();Se();ny();Jo=class{constructor(e={}){this.algorithm=new $e,this.subjectPublicKey=new ArrayBuffer(0),Object.assign(this,e)}};T([D({type:$e})],Jo.prototype,"algorithm",void 0);T([D({type:Y.BitString})],Jo.prototype,"subjectPublicKey",void 0)});var Jn,XP=g(()=>{"use strict";Ae();Se();Jn=class{constructor(e){if(e)if(typeof e=="string"||typeof e=="number"||e instanceof Date){let r=new Date(e);r.getUTCFullYear()>2049?this.generalTime=r:this.utcTime=r}else Object.assign(this,e)}getTime(){let e=this.utcTime||this.generalTime;if(!e)throw new Error("Cannot get time from CHOICE object");return e}};T([D({type:Y.UTCTime})],Jn.prototype,"utcTime",void 0);T([D({type:Y.GeneralizedTime})],Jn.prototype,"generalTime",void 0);Jn=T([de({type:oe.Choice})],Jn)});var $h,jie=g(()=>{"use strict";Ae();Se();XP();$h=class{constructor(e){this.notBefore=new Jn(new Date),this.notAfter=new Jn(new Date),e&&(this.notBefore=new Jn(e.notBefore),this.notAfter=new Jn(e.notAfter))}};T([D({type:Jn})],$h.prototype,"notBefore",void 0);T([D({type:Jn})],$h.prototype,"notAfter",void 0)});var qie,Qo,vl,ek=g(()=>{"use strict";Ae();Se();Qo=class t{constructor(e={}){this.extnID="",this.critical=t.CRITICAL,this.extnValue=new _t,Object.assign(this,e)}};Qo.CRITICAL=!1;T([D({type:Y.ObjectIdentifier})],Qo.prototype,"extnID",void 0);T([D({type:Y.Boolean,defaultValue:Qo.CRITICAL})],Qo.prototype,"critical",void 0);T([D({type:_t})],Qo.prototype,"extnValue",void 0);vl=qie=class extends mt{constructor(e){super(e),Object.setPrototypeOf(this,qie.prototype)}};vl=qie=T([de({type:oe.Sequence,itemType:Qo})],vl)});var hm,Hie=g(()=>{"use strict";(function(t){t[t.v1=0]="v1",t[t.v2=1]="v2",t[t.v3=2]="v3"})(hm||(hm={}))});var Zo,Wie=g(()=>{"use strict";Ae();Se();ny();H2();Vie();jie();ek();Hie();Zo=class{constructor(e={}){this.version=hm.v1,this.serialNumber=new ArrayBuffer(0),this.signature=new $e,this.issuer=new mn,this.validity=new $h,this.subject=new mn,this.subjectPublicKeyInfo=new Jo,Object.assign(this,e)}};T([D({type:Y.Integer,context:0,defaultValue:hm.v1})],Zo.prototype,"version",void 0);T([D({type:Y.Integer,converter:or})],Zo.prototype,"serialNumber",void 0);T([D({type:$e})],Zo.prototype,"signature",void 0);T([D({type:mn})],Zo.prototype,"issuer",void 0);T([D({type:$h})],Zo.prototype,"validity",void 0);T([D({type:mn})],Zo.prototype,"subject",void 0);T([D({type:Jo})],Zo.prototype,"subjectPublicKeyInfo",void 0);T([D({type:Y.BitString,context:1,implicit:!0,optional:!0})],Zo.prototype,"issuerUniqueID",void 0);T([D({type:Y.BitString,context:2,implicit:!0,optional:!0})],Zo.prototype,"subjectUniqueID",void 0);T([D({type:vl,context:3,optional:!0})],Zo.prototype,"extensions",void 0)});var lu,Rje=g(()=>{"use strict";Ae();Se();ny();Wie();lu=class{constructor(e={}){this.tbsCertificate=new Zo,this.signatureAlgorithm=new $e,this.signatureValue=new ArrayBuffer(0),Object.assign(this,e)}};T([D({type:Zo,raw:!0})],lu.prototype,"tbsCertificate",void 0);T([D({type:$e})],lu.prototype,"signatureAlgorithm",void 0);T([D({type:Y.BitString})],lu.prototype,"signatureValue",void 0)});var iy,Wa,Gie=g(()=>{"use strict";Ae();Se();ny();H2();XP();ek();iy=class{constructor(e={}){this.userCertificate=new ArrayBuffer(0),this.revocationDate=new Jn,Object.assign(this,e)}};T([D({type:Y.Integer,converter:or})],iy.prototype,"userCertificate",void 0);T([D({type:Jn})],iy.prototype,"revocationDate",void 0);T([D({type:Qo,optional:!0,repeated:"sequence"})],iy.prototype,"crlEntryExtensions",void 0);Wa=class{constructor(e={}){this.signature=new $e,this.issuer=new mn,this.thisUpdate=new Jn,Object.assign(this,e)}};T([D({type:Y.Integer,optional:!0})],Wa.prototype,"version",void 0);T([D({type:$e})],Wa.prototype,"signature",void 0);T([D({type:mn})],Wa.prototype,"issuer",void 0);T([D({type:Jn})],Wa.prototype,"thisUpdate",void 0);T([D({type:Jn,optional:!0})],Wa.prototype,"nextUpdate",void 0);T([D({type:iy,repeated:"sequence",optional:!0})],Wa.prototype,"revokedCertificates",void 0);T([D({type:Qo,optional:!0,context:0,repeated:"sequence"})],Wa.prototype,"crlExtensions",void 0)});var oy,Tje=g(()=>{"use strict";Ae();Se();ny();Gie();oy=class{constructor(e={}){this.tbsCertList=new Wa,this.signatureAlgorithm=new $e,this.signature=new ArrayBuffer(0),Object.assign(this,e)}};T([D({type:Wa,raw:!0})],oy.prototype,"tbsCertList",void 0);T([D({type:$e})],oy.prototype,"signatureAlgorithm",void 0);T([D({type:Y.BitString})],oy.prototype,"signature",void 0)});var br=g(()=>{"use strict";Eje();ny();Bie();Rje();Tje();ek();Q1();X3();H2();fn();Vie();Gie();Wie();XP();Hie();jie()});var uu,p5=g(()=>{"use strict";Ae();Se();br();uu=class{constructor(e={}){this.issuer=new mn,this.serialNumber=new ArrayBuffer(0),Object.assign(this,e)}};T([D({type:mn})],uu.prototype,"issuer",void 0);T([D({type:Y.Integer,converter:or})],uu.prototype,"serialNumber",void 0)});var sy,Kie=g(()=>{"use strict";Ae();Se();p5();br();sy=class{constructor(e={}){Object.assign(this,e)}};T([D({type:da,context:0,implicit:!0})],sy.prototype,"subjectKeyIdentifier",void 0);T([D({type:uu})],sy.prototype,"issuerAndSerialNumber",void 0);sy=T([de({type:oe.Choice})],sy)});var Eo,ay,m5,pa,f5,Cje,tk,xd=g(()=>{"use strict";Ae();br();Se();(function(t){t[t.v0=0]="v0",t[t.v1=1]="v1",t[t.v2=2]="v2",t[t.v3=3]="v3",t[t.v4=4]="v4",t[t.v5=5]="v5"})(Eo||(Eo={}));ay=class extends $e{};ay=T([de({type:oe.Sequence})],ay);m5=class extends $e{};m5=T([de({type:oe.Sequence})],m5);pa=class extends $e{};pa=T([de({type:oe.Sequence})],pa);f5=class extends $e{};f5=T([de({type:oe.Sequence})],f5);Cje=class extends $e{};Cje=T([de({type:oe.Sequence})],Cje);tk=class extends $e{};tk=T([de({type:oe.Sequence})],tk)});var du,rk=g(()=>{"use strict";Ae();Se();du=class{constructor(e={}){this.attrType="",this.attrValues=[],Object.assign(this,e)}};T([D({type:Y.ObjectIdentifier})],du.prototype,"attrType",void 0);T([D({type:Y.Any,repeated:"set"})],du.prototype,"attrValues",void 0)});var Yie,ma,h5,nk=g(()=>{"use strict";Ae();Se();Kie();xd();rk();ma=class{constructor(e={}){this.version=Eo.v0,this.sid=new sy,this.digestAlgorithm=new ay,this.signatureAlgorithm=new m5,this.signature=new _t,Object.assign(this,e)}};T([D({type:Y.Integer})],ma.prototype,"version",void 0);T([D({type:sy})],ma.prototype,"sid",void 0);T([D({type:ay})],ma.prototype,"digestAlgorithm",void 0);T([D({type:du,repeated:"set",context:0,implicit:!0,optional:!0,raw:!0})],ma.prototype,"signedAttrs",void 0);T([D({type:m5})],ma.prototype,"signatureAlgorithm",void 0);T([D({type:_t})],ma.prototype,"signature",void 0);T([D({type:du,repeated:"set",context:1,implicit:!0,optional:!0})],ma.prototype,"unsignedAttrs",void 0);h5=Yie=class extends mt{constructor(e){super(e),Object.setPrototypeOf(this,Yie.prototype)}};h5=Yie=T([de({type:oe.Set,itemType:ma})],h5)});var Oje,Nje=g(()=>{"use strict";Ae();Se();nk();Oje=class extends ma{};Oje=T([de({type:oe.Sequence})],Oje)});var Pje=g(()=>{"use strict";Se()});var kje,Dje=g(()=>{"use strict";Ae();br();Se();kje=class extends Jn{};kje=T([de({type:oe.Choice})],kje)});var Mje=g(()=>{"use strict";Nje();Pje();Dje()});var g5,$je=g(()=>{"use strict";Ae();Se();br();g5=class{constructor(e={}){this.acIssuer=new Tt,this.acSerial=0,this.attrs=[],Object.assign(this,e)}};T([D({type:Tt})],g5.prototype,"acIssuer",void 0);T([D({type:Y.Integer})],g5.prototype,"acSerial",void 0);T([D({type:Ao,repeated:"sequence"})],g5.prototype,"attrs",void 0)});var Jie,y5,Qie=g(()=>{"use strict";Ae();Se();y5=Jie=class extends mt{constructor(e){super(e),Object.setPrototypeOf(this,Jie.prototype)}};y5=Jie=T([de({type:oe.Sequence,itemType:Y.ObjectIdentifier})],y5)});var K2,Lje=g(()=>{"use strict";Ae();Se();Qie();K2=class{constructor(e={}){this.permitUnSpecified=!0,Object.assign(this,e)}};T([D({type:Y.Integer,optional:!0})],K2.prototype,"pathLenConstraint",void 0);T([D({type:y5,implicit:!0,context:0,optional:!0})],K2.prototype,"permittedAttrs",void 0);T([D({type:y5,implicit:!0,context:1,optional:!0})],K2.prototype,"excludedAttrs",void 0);T([D({type:Y.Boolean,defaultValue:!0})],K2.prototype,"permitUnSpecified",void 0)});var _l,b5=g(()=>{"use strict";Ae();Se();br();_l=class{constructor(e={}){this.issuer=new Nn,this.serial=new ArrayBuffer(0),this.issuerUID=new ArrayBuffer(0),Object.assign(this,e)}};T([D({type:Nn})],_l.prototype,"issuer",void 0);T([D({type:Y.Integer,converter:or})],_l.prototype,"serial",void 0);T([D({type:Y.BitString,optional:!0})],_l.prototype,"issuerUID",void 0)});var Zie,Sl,v5=g(()=>{"use strict";Ae();Se();br();(function(t){t[t.publicKey=0]="publicKey",t[t.publicKeyCert=1]="publicKeyCert",t[t.otherObjectTypes=2]="otherObjectTypes"})(Zie||(Zie={}));Sl=class{constructor(e={}){this.digestedObjectType=Zie.publicKey,this.digestAlgorithm=new $e,this.objectDigest=new ArrayBuffer(0),Object.assign(this,e)}};T([D({type:Y.Enumerated})],Sl.prototype,"digestedObjectType",void 0);T([D({type:Y.ObjectIdentifier,optional:!0})],Sl.prototype,"otherObjectTypeID",void 0);T([D({type:$e})],Sl.prototype,"digestAlgorithm",void 0);T([D({type:Y.BitString})],Sl.prototype,"objectDigest",void 0)});var cy,Xie=g(()=>{"use strict";Ae();Se();br();b5();v5();cy=class{constructor(e={}){Object.assign(this,e)}};T([D({type:Nn,optional:!0})],cy.prototype,"issuerName",void 0);T([D({type:_l,context:0,implicit:!0,optional:!0})],cy.prototype,"baseCertificateID",void 0);T([D({type:Sl,context:1,implicit:!0,optional:!0})],cy.prototype,"objectDigestInfo",void 0)});var ly,eoe=g(()=>{"use strict";Ae();Se();br();Xie();ly=class{constructor(e={}){Object.assign(this,e)}};T([D({type:Tt,repeated:"sequence"})],ly.prototype,"v1Form",void 0);T([D({type:cy,context:0,implicit:!0})],ly.prototype,"v2Form",void 0);ly=T([de({type:oe.Choice})],ly)});var uy,toe=g(()=>{"use strict";Ae();Se();uy=class{constructor(e={}){this.notBeforeTime=new Date,this.notAfterTime=new Date,Object.assign(this,e)}};T([D({type:Y.GeneralizedTime})],uy.prototype,"notBeforeTime",void 0);T([D({type:Y.GeneralizedTime})],uy.prototype,"notAfterTime",void 0)});var Lh,roe=g(()=>{"use strict";Ae();Se();b5();br();v5();Lh=class{constructor(e={}){Object.assign(this,e)}};T([D({type:_l,implicit:!0,context:0,optional:!0})],Lh.prototype,"baseCertificateID",void 0);T([D({type:Nn,implicit:!0,context:1,optional:!0})],Lh.prototype,"entityName",void 0);T([D({type:Sl,implicit:!0,context:2,optional:!0})],Lh.prototype,"objectDigestInfo",void 0)});var noe,fa,ioe=g(()=>{"use strict";Ae();Se();br();roe();eoe();toe();(function(t){t[t.v2=1]="v2"})(noe||(noe={}));fa=class{constructor(e={}){this.version=noe.v2,this.holder=new Lh,this.issuer=new ly,this.signature=new $e,this.serialNumber=new ArrayBuffer(0),this.attrCertValidityPeriod=new uy,this.attributes=[],Object.assign(this,e)}};T([D({type:Y.Integer})],fa.prototype,"version",void 0);T([D({type:Lh})],fa.prototype,"holder",void 0);T([D({type:ly})],fa.prototype,"issuer",void 0);T([D({type:$e})],fa.prototype,"signature",void 0);T([D({type:Y.Integer,converter:or})],fa.prototype,"serialNumber",void 0);T([D({type:uy})],fa.prototype,"attrCertValidityPeriod",void 0);T([D({type:Ao,repeated:"sequence"})],fa.prototype,"attributes",void 0);T([D({type:Y.BitString,optional:!0})],fa.prototype,"issuerUniqueID",void 0);T([D({type:vl,optional:!0})],fa.prototype,"extensions",void 0)});var dy,Bje=g(()=>{"use strict";Ae();Se();br();ioe();dy=class{constructor(e={}){this.acinfo=new fa,this.signatureAlgorithm=new $e,this.signatureValue=new ArrayBuffer(0),Object.assign(this,e)}};T([D({type:fa})],dy.prototype,"acinfo",void 0);T([D({type:$e})],dy.prototype,"signatureAlgorithm",void 0);T([D({type:Y.BitString})],dy.prototype,"signatureValue",void 0)});var _5,Y2,ooe=g(()=>{"use strict";Se();(function(t){t[t.unmarked=1]="unmarked",t[t.unclassified=2]="unclassified",t[t.restricted=4]="restricted",t[t.confidential=8]="confidential",t[t.secret=16]="secret",t[t.topSecret=32]="topSecret"})(_5||(_5={}));Y2=class extends _d{}});var J2,soe=g(()=>{"use strict";Ae();Se();J2=class{constructor(e={}){this.type="",this.value=new ArrayBuffer(0),Object.assign(this,e)}};T([D({type:Y.ObjectIdentifier,implicit:!0,context:0})],J2.prototype,"type",void 0);T([D({type:Y.Any,implicit:!0,context:1})],J2.prototype,"value",void 0)});var S5,Uje=g(()=>{"use strict";Ae();Se();ooe();soe();S5=class{constructor(e={}){this.policyId="",this.classList=new Y2(_5.unclassified),Object.assign(this,e)}};T([D({type:Y.ObjectIdentifier})],S5.prototype,"policyId",void 0);T([D({type:Y2,defaultValue:new Y2(_5.unclassified)})],S5.prototype,"classList",void 0);T([D({type:J2,repeated:"set"})],S5.prototype,"securityCategories",void 0)});var Q2,ik,Fje=g(()=>{"use strict";Ae();Se();br();Q2=class{constructor(e={}){Object.assign(this,e)}};T([D({type:_t})],Q2.prototype,"cotets",void 0);T([D({type:Y.ObjectIdentifier})],Q2.prototype,"oid",void 0);T([D({type:Y.Utf8String})],Q2.prototype,"string",void 0);ik=class{constructor(e={}){this.values=[],Object.assign(this,e)}};T([D({type:Nn,implicit:!0,context:0,optional:!0})],ik.prototype,"policyAuthority",void 0);T([D({type:Q2,repeated:"sequence"})],ik.prototype,"values",void 0)});var mhn,fhn,hhn,ghn,w5,yhn,bhn,vhn,_hn,Shn,aoe,whn,zje=g(()=>{"use strict";br();mhn=`${Dh}.4`,fhn=`${Dh}.6`,hhn=`${Dh}.10`,ghn=`${jt}.55`,w5=`${kh}.10`,yhn=`${w5}.1`,bhn=`${w5}.2`,vhn=`${w5}.3`,_hn=`${w5}.4`,Shn=`${w5}.6`,aoe="2.5.4",whn=`${aoe}.72`});var coe,Z2,X2,ok,loe=g(()=>{"use strict";Ae();Se();br();b5();v5();Z2=class{constructor(e={}){this.targetCertificate=new _l,Object.assign(this,e)}};T([D({type:_l})],Z2.prototype,"targetCertificate",void 0);T([D({type:Tt,optional:!0})],Z2.prototype,"targetName",void 0);T([D({type:Sl,optional:!0})],Z2.prototype,"certDigestInfo",void 0);X2=class{constructor(e={}){Object.assign(this,e)}};T([D({type:Tt,context:0,implicit:!0})],X2.prototype,"targetName",void 0);T([D({type:Tt,context:1,implicit:!0})],X2.prototype,"targetGroup",void 0);T([D({type:Z2,context:2,implicit:!0})],X2.prototype,"targetCert",void 0);X2=T([de({type:oe.Choice})],X2);ok=coe=class extends mt{constructor(e){super(e),Object.setPrototypeOf(this,coe.prototype)}};ok=coe=T([de({type:oe.Sequence,itemType:X2})],ok)});var uoe,Vje,jje=g(()=>{"use strict";Ae();Se();loe();Vje=uoe=class extends mt{constructor(e){super(e),Object.setPrototypeOf(this,uoe.prototype)}};Vje=uoe=T([de({type:oe.Sequence,itemType:ok})],Vje)});var sk,qje=g(()=>{"use strict";Ae();Se();br();sk=class{constructor(e={}){Object.assign(this,e)}};T([D({type:Nn,implicit:!0,context:0,optional:!0})],sk.prototype,"roleAuthority",void 0);T([D({type:Tt,implicit:!0,context:1})],sk.prototype,"roleName",void 0)});var x5,Hje=g(()=>{"use strict";Ae();Se();br();x5=class{constructor(e={}){this.service=new Tt,this.ident=new Tt,Object.assign(this,e)}};T([D({type:Tt})],x5.prototype,"service",void 0);T([D({type:Tt})],x5.prototype,"ident",void 0);T([D({type:_t,optional:!0})],x5.prototype,"authInfo",void 0)});var doe=g(()=>{"use strict";$je();Lje();eoe();toe();Qie();Bje();ioe();ooe();Uje();roe();Fje();b5();v5();zje();jje();qje();soe();Hje();loe();Xie()});var poe,A5,py,my,ak=g(()=>{"use strict";Ae();Se();br();doe();A5=class{constructor(e={}){this.otherCertFormat="",this.otherCert=new ArrayBuffer(0),Object.assign(this,e)}};T([D({type:Y.ObjectIdentifier})],A5.prototype,"otherCertFormat",void 0);T([D({type:Y.Any})],A5.prototype,"otherCert",void 0);py=class{constructor(e={}){Object.assign(this,e)}};T([D({type:lu})],py.prototype,"certificate",void 0);T([D({type:dy,context:2,implicit:!0})],py.prototype,"v2AttrCert",void 0);T([D({type:A5,context:3,implicit:!0})],py.prototype,"other",void 0);py=T([de({type:oe.Choice})],py);my=poe=class extends mt{constructor(e){super(e),Object.setPrototypeOf(this,poe.prototype)}};my=poe=T([de({type:oe.Set,itemType:py})],my)});var wl,Wje=g(()=>{"use strict";Ae();Se();wl=class{constructor(e={}){this.contentType="",this.content=new ArrayBuffer(0),Object.assign(this,e)}};T([D({type:Y.ObjectIdentifier})],wl.prototype,"contentType",void 0);T([D({type:Y.Any,context:0})],wl.prototype,"content",void 0)});var eS,fy,moe=g(()=>{"use strict";Ae();Se();eS=class{constructor(e={}){Object.assign(this,e)}};T([D({type:_t})],eS.prototype,"single",void 0);T([D({type:Y.Any})],eS.prototype,"any",void 0);eS=T([de({type:oe.Choice})],eS);fy=class{constructor(e={}){this.eContentType="",Object.assign(this,e)}};T([D({type:Y.ObjectIdentifier})],fy.prototype,"eContentType",void 0);T([D({type:eS,context:0,optional:!0})],fy.prototype,"eContent",void 0)});var E5,Bh,foe=g(()=>{"use strict";Ae();Se();xd();E5=class{constructor(e={}){Object.assign(this,e)}};T([D({type:_t,context:0,implicit:!0,optional:!0})],E5.prototype,"value",void 0);T([D({type:_t,converter:DVe,context:0,implicit:!0,optional:!0,repeated:"sequence"})],E5.prototype,"constructedValue",void 0);E5=T([de({type:oe.Choice})],E5);Bh=class{constructor(e={}){this.contentType="",this.contentEncryptionAlgorithm=new f5,Object.assign(this,e)}};T([D({type:Y.ObjectIdentifier})],Bh.prototype,"contentType",void 0);T([D({type:f5})],Bh.prototype,"contentEncryptionAlgorithm",void 0);T([D({type:E5,optional:!0})],Bh.prototype,"encryptedContent",void 0)});var Uh,hoe=g(()=>{"use strict";Ae();Se();Uh=class{constructor(e={}){this.keyAttrId="",Object.assign(this,e)}};T([D({type:Y.ObjectIdentifier})],Uh.prototype,"keyAttrId",void 0);T([D({type:Y.Any,optional:!0})],Uh.prototype,"keyAttr",void 0)});var goe,tS,rS,R5,ck,T5,hy,gm,yoe=g(()=>{"use strict";Ae();Se();xd();p5();br();hoe();tS=class{constructor(e={}){this.subjectKeyIdentifier=new da,Object.assign(this,e)}};T([D({type:da})],tS.prototype,"subjectKeyIdentifier",void 0);T([D({type:Y.GeneralizedTime,optional:!0})],tS.prototype,"date",void 0);T([D({type:Uh,optional:!0})],tS.prototype,"other",void 0);rS=class{constructor(e={}){Object.assign(this,e)}};T([D({type:tS,context:0,implicit:!0,optional:!0})],rS.prototype,"rKeyId",void 0);T([D({type:uu,optional:!0})],rS.prototype,"issuerAndSerialNumber",void 0);rS=T([de({type:oe.Choice})],rS);R5=class{constructor(e={}){this.rid=new rS,this.encryptedKey=new _t,Object.assign(this,e)}};T([D({type:rS})],R5.prototype,"rid",void 0);T([D({type:_t})],R5.prototype,"encryptedKey",void 0);ck=goe=class extends mt{constructor(e){super(e),Object.setPrototypeOf(this,goe.prototype)}};ck=goe=T([de({type:oe.Sequence,itemType:R5})],ck);T5=class{constructor(e={}){this.algorithm=new $e,this.publicKey=new ArrayBuffer(0),Object.assign(this,e)}};T([D({type:$e})],T5.prototype,"algorithm",void 0);T([D({type:Y.BitString})],T5.prototype,"publicKey",void 0);hy=class{constructor(e={}){Object.assign(this,e)}};T([D({type:da,context:0,implicit:!0,optional:!0})],hy.prototype,"subjectKeyIdentifier",void 0);T([D({type:T5,context:1,implicit:!0,optional:!0})],hy.prototype,"originatorKey",void 0);T([D({type:uu,optional:!0})],hy.prototype,"issuerAndSerialNumber",void 0);hy=T([de({type:oe.Choice})],hy);gm=class{constructor(e={}){this.version=Eo.v3,this.originator=new hy,this.keyEncryptionAlgorithm=new pa,this.recipientEncryptedKeys=new ck,Object.assign(this,e)}};T([D({type:Y.Integer})],gm.prototype,"version",void 0);T([D({type:hy,context:0})],gm.prototype,"originator",void 0);T([D({type:_t,context:1,optional:!0})],gm.prototype,"ukm",void 0);T([D({type:pa})],gm.prototype,"keyEncryptionAlgorithm",void 0);T([D({type:ck})],gm.prototype,"recipientEncryptedKeys",void 0)});var nS,Fh,boe=g(()=>{"use strict";Ae();Se();xd();p5();br();nS=class{constructor(e={}){Object.assign(this,e)}};T([D({type:da,context:0,implicit:!0})],nS.prototype,"subjectKeyIdentifier",void 0);T([D({type:uu})],nS.prototype,"issuerAndSerialNumber",void 0);nS=T([de({type:oe.Choice})],nS);Fh=class{constructor(e={}){this.version=Eo.v0,this.rid=new nS,this.keyEncryptionAlgorithm=new pa,this.encryptedKey=new _t,Object.assign(this,e)}};T([D({type:Y.Integer})],Fh.prototype,"version",void 0);T([D({type:nS})],Fh.prototype,"rid",void 0);T([D({type:pa})],Fh.prototype,"keyEncryptionAlgorithm",void 0);T([D({type:_t})],Fh.prototype,"encryptedKey",void 0)});var gy,zh,voe=g(()=>{"use strict";Ae();Se();hoe();xd();gy=class{constructor(e={}){this.keyIdentifier=new _t,Object.assign(this,e)}};T([D({type:_t})],gy.prototype,"keyIdentifier",void 0);T([D({type:Y.GeneralizedTime,optional:!0})],gy.prototype,"date",void 0);T([D({type:Uh,optional:!0})],gy.prototype,"other",void 0);zh=class{constructor(e={}){this.version=Eo.v4,this.kekid=new gy,this.keyEncryptionAlgorithm=new pa,this.encryptedKey=new _t,Object.assign(this,e)}};T([D({type:Y.Integer})],zh.prototype,"version",void 0);T([D({type:gy})],zh.prototype,"kekid",void 0);T([D({type:pa})],zh.prototype,"keyEncryptionAlgorithm",void 0);T([D({type:_t})],zh.prototype,"encryptedKey",void 0)});var Vh,_oe=g(()=>{"use strict";Ae();Se();xd();Vh=class{constructor(e={}){this.version=Eo.v0,this.keyEncryptionAlgorithm=new pa,this.encryptedKey=new _t,Object.assign(this,e)}};T([D({type:Y.Integer})],Vh.prototype,"version",void 0);T([D({type:tk,context:0,optional:!0})],Vh.prototype,"keyDerivationAlgorithm",void 0);T([D({type:pa})],Vh.prototype,"keyEncryptionAlgorithm",void 0);T([D({type:_t})],Vh.prototype,"encryptedKey",void 0)});var I5,ym,Soe=g(()=>{"use strict";Ae();Se();yoe();boe();voe();_oe();I5=class{constructor(e={}){this.oriType="",this.oriValue=new ArrayBuffer(0),Object.assign(this,e)}};T([D({type:Y.ObjectIdentifier})],I5.prototype,"oriType",void 0);T([D({type:Y.Any})],I5.prototype,"oriValue",void 0);ym=class{constructor(e={}){Object.assign(this,e)}};T([D({type:Fh,optional:!0})],ym.prototype,"ktri",void 0);T([D({type:gm,context:1,implicit:!0,optional:!0})],ym.prototype,"kari",void 0);T([D({type:zh,context:2,implicit:!0,optional:!0})],ym.prototype,"kekri",void 0);T([D({type:Vh,context:3,implicit:!0,optional:!0})],ym.prototype,"pwri",void 0);T([D({type:I5,context:4,implicit:!0,optional:!0})],ym.prototype,"ori",void 0);ym=T([de({type:oe.Choice})],ym)});var woe,C5,xoe=g(()=>{"use strict";Ae();Se();Soe();C5=woe=class extends mt{constructor(e){super(e),Object.setPrototypeOf(this,woe.prototype)}};C5=woe=T([de({type:oe.Set,itemType:ym})],C5)});var Aoe,Gje,S0n,w0n,iS,lk,oS,uk=g(()=>{"use strict";Ae();Se();br();Gje=`${kh}.16`,S0n=`${Gje}.2`,w0n=`${Gje}.4`,iS=class{constructor(e={}){this.otherRevInfoFormat="",this.otherRevInfo=new ArrayBuffer(0),Object.assign(this,e)}};T([D({type:Y.ObjectIdentifier})],iS.prototype,"otherRevInfoFormat",void 0);T([D({type:Y.Any})],iS.prototype,"otherRevInfo",void 0);lk=class{constructor(e={}){this.other=new iS,Object.assign(this,e)}};T([D({type:iS,context:1,implicit:!0})],lk.prototype,"other",void 0);lk=T([de({type:oe.Choice})],lk);oS=Aoe=class extends mt{constructor(e){super(e),Object.setPrototypeOf(this,Aoe.prototype)}};oS=Aoe=T([de({type:oe.Set,itemType:lk})],oS)});var sS,Eoe=g(()=>{"use strict";Ae();Se();ak();uk();sS=class{constructor(e={}){Object.assign(this,e)}};T([D({type:my,context:0,implicit:!0,optional:!0})],sS.prototype,"certs",void 0);T([D({type:oS,context:1,implicit:!0,optional:!0})],sS.prototype,"crls",void 0)});var Roe,Toe,yy,Kje=g(()=>{"use strict";Ae();Se();xd();rk();xoe();Eoe();foe();Toe=Roe=class extends mt{constructor(e){super(e),Object.setPrototypeOf(this,Roe.prototype)}};Toe=Roe=T([de({type:oe.Set,itemType:du})],Toe);yy=class{constructor(e={}){this.version=Eo.v0,this.recipientInfos=new C5,this.encryptedContentInfo=new Bh,Object.assign(this,e)}};T([D({type:Y.Integer})],yy.prototype,"version",void 0);T([D({type:sS,context:0,implicit:!0,optional:!0})],yy.prototype,"originatorInfo",void 0);T([D({type:C5})],yy.prototype,"recipientInfos",void 0);T([D({type:Bh})],yy.prototype,"encryptedContentInfo",void 0);T([D({type:Toe,context:1,implicit:!0,optional:!0})],yy.prototype,"unprotectedAttrs",void 0)});var Yje,Jje=g(()=>{"use strict";Yje="1.2.840.113549.1.7.2"});var Ioe,dk,bm,Qje=g(()=>{"use strict";Ae();Se();ak();xd();moe();uk();nk();dk=Ioe=class extends mt{constructor(e){super(e),Object.setPrototypeOf(this,Ioe.prototype)}};dk=Ioe=T([de({type:oe.Set,itemType:ay})],dk);bm=class{constructor(e={}){this.version=Eo.v0,this.digestAlgorithms=new dk,this.encapContentInfo=new fy,this.signerInfos=new h5,Object.assign(this,e)}};T([D({type:Y.Integer})],bm.prototype,"version",void 0);T([D({type:dk})],bm.prototype,"digestAlgorithms",void 0);T([D({type:fy})],bm.prototype,"encapContentInfo",void 0);T([D({type:my,context:0,implicit:!0,optional:!0})],bm.prototype,"certificates",void 0);T([D({type:oS,context:1,implicit:!0,optional:!0})],bm.prototype,"crls",void 0);T([D({type:h5})],bm.prototype,"signerInfos",void 0)});var O5=g(()=>{"use strict";Mje();rk();ak();Wje();moe();foe();Kje();p5();voe();yoe();boe();Jje();Eoe();_oe();Soe();xoe();uk();Qje();Kie();nk();xd()});var by,N5,pk,P5,k5,D5,Coe,Ooe,Noe,Poe=g(()=>{"use strict";by="1.2.840.10045.2.1",N5="1.2.840.10045.4.1",pk="1.2.840.10045.4.3.1",P5="1.2.840.10045.4.3.2",k5="1.2.840.10045.4.3.3",D5="1.2.840.10045.4.3.4",Coe="1.2.840.10045.3.1.7",Ooe="1.3.132.0.34",Noe="1.3.132.0.35"});function M5(t){return new $e({algorithm:t})}var Xje,b1n,eqe,tqe,rqe,nqe=g(()=>{"use strict";br();Poe();Xje=M5(N5),b1n=M5(pk),eqe=M5(P5),tqe=M5(k5),rqe=M5(D5)});var $5,koe,aS,Doe,Ad,Moe=g(()=>{"use strict";Ae();Se();$5=class{constructor(e={}){Object.assign(this,e)}};T([D({type:Y.ObjectIdentifier})],$5.prototype,"fieldType",void 0);T([D({type:Y.Any})],$5.prototype,"parameters",void 0);$5=T([de({type:oe.Sequence})],$5);koe=class extends _t{},aS=class{constructor(e={}){Object.assign(this,e)}};T([D({type:Y.OctetString})],aS.prototype,"a",void 0);T([D({type:Y.OctetString})],aS.prototype,"b",void 0);T([D({type:Y.BitString,optional:!0})],aS.prototype,"seed",void 0);aS=T([de({type:oe.Sequence})],aS);(function(t){t[t.ecpVer1=1]="ecpVer1"})(Doe||(Doe={}));Ad=class{constructor(e={}){this.version=Doe.ecpVer1,Object.assign(this,e)}};T([D({type:Y.Integer})],Ad.prototype,"version",void 0);T([D({type:$5})],Ad.prototype,"fieldID",void 0);T([D({type:aS})],Ad.prototype,"curve",void 0);T([D({type:koe})],Ad.prototype,"base",void 0);T([D({type:Y.Integer,converter:or})],Ad.prototype,"order",void 0);T([D({type:Y.Integer,optional:!0})],Ad.prototype,"cofactor",void 0);Ad=T([de({type:oe.Sequence})],Ad)});var Ed,$oe=g(()=>{"use strict";Ae();Se();Moe();Ed=class{constructor(e={}){Object.assign(this,e)}};T([D({type:Y.ObjectIdentifier})],Ed.prototype,"namedCurve",void 0);T([D({type:Y.Null})],Ed.prototype,"implicitCurve",void 0);T([D({type:Ad})],Ed.prototype,"specifiedCurve",void 0);Ed=T([de({type:oe.Choice})],Ed)});var cS,iqe=g(()=>{"use strict";Ae();Se();$oe();cS=class{constructor(e={}){this.version=1,this.privateKey=new _t,Object.assign(this,e)}};T([D({type:Y.Integer})],cS.prototype,"version",void 0);T([D({type:_t})],cS.prototype,"privateKey",void 0);T([D({type:Ed,context:0,optional:!0})],cS.prototype,"parameters",void 0);T([D({type:Y.BitString,context:1,optional:!0})],cS.prototype,"publicKey",void 0)});var vy,oqe=g(()=>{"use strict";Ae();Se();vy=class{constructor(e={}){this.r=new ArrayBuffer(0),this.s=new ArrayBuffer(0),Object.assign(this,e)}};T([D({type:Y.Integer,converter:or})],vy.prototype,"r",void 0);T([D({type:Y.Integer,converter:or})],vy.prototype,"s",void 0)});var Loe=g(()=>{"use strict";nqe();$oe();iqe();oqe();Poe();Moe()});var ha,Rd,sqe,aqe,jh,cqe,lqe,lS,uqe,mk,uS,dS,Boe,Uoe,_y,fk,Sy,wy,xy,dqe,pqe,mqe,fqe,qh,L5=g(()=>{"use strict";ha="1.2.840.113549.1.1",Rd=`${ha}.1`,sqe=`${ha}.7`,aqe=`${ha}.9`,jh=`${ha}.10`,cqe=`${ha}.2`,lqe=`${ha}.4`,lS=`${ha}.5`,uqe=`${ha}.14`,mk=`${ha}.11`,uS=`${ha}.12`,dS=`${ha}.13`,Boe=`${ha}.15`,Uoe=`${ha}.16`,_y="1.3.14.3.2.26",fk="2.16.840.1.101.3.4.2.4",Sy="2.16.840.1.101.3.4.2.1",wy="2.16.840.1.101.3.4.2.2",xy="2.16.840.1.101.3.4.2.3",dqe="2.16.840.1.101.3.4.2.5",pqe="2.16.840.1.101.3.4.2.6",mqe="1.2.840.113549.2.2",fqe="1.2.840.113549.2.5",qh=`${ha}.8`});function qi(t){return new $e({algorithm:t,parameters:null})}var W1n,G1n,vm,K1n,Y1n,J1n,Q1n,Z1n,X1n,hk,Foe,eyn,tyn,ryn,nyn,iyn,oyn,syn,ayn,cyn,lyn,gk=g(()=>{"use strict";Se();br();L5();W1n=qi(mqe),G1n=qi(fqe),vm=qi(_y),K1n=qi(fk),Y1n=qi(Sy),J1n=qi(wy),Q1n=qi(xy),Z1n=qi(dqe),X1n=qi(pqe),hk=new $e({algorithm:qh,parameters:Ke.serialize(vm)}),Foe=new $e({algorithm:aqe,parameters:Ke.serialize(j2.toASN(new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]).buffer))}),eyn=qi(Rd),tyn=qi(cqe),ryn=qi(lqe),nyn=qi(lS),iyn=qi(Boe),oyn=qi(Uoe),syn=qi(uS),ayn=qi(dS),cyn=qi(Boe),lyn=qi(Uoe)});var pS,gyn,hqe=g(()=>{"use strict";Ae();Se();br();L5();gk();pS=class{constructor(e={}){this.hashAlgorithm=new $e(vm),this.maskGenAlgorithm=new $e({algorithm:qh,parameters:Ke.serialize(vm)}),this.pSourceAlgorithm=new $e(Foe),Object.assign(this,e)}};T([D({type:$e,context:0,defaultValue:vm})],pS.prototype,"hashAlgorithm",void 0);T([D({type:$e,context:1,defaultValue:hk})],pS.prototype,"maskGenAlgorithm",void 0);T([D({type:$e,context:2,defaultValue:Foe})],pS.prototype,"pSourceAlgorithm",void 0);gyn=new $e({algorithm:sqe,parameters:Ke.serialize(new pS)})});var Td,xyn,gqe=g(()=>{"use strict";Ae();Se();br();L5();gk();Td=class{constructor(e={}){this.hashAlgorithm=new $e(vm),this.maskGenAlgorithm=new $e({algorithm:qh,parameters:Ke.serialize(vm)}),this.saltLength=20,this.trailerField=1,Object.assign(this,e)}};T([D({type:$e,context:0,defaultValue:vm})],Td.prototype,"hashAlgorithm",void 0);T([D({type:$e,context:1,defaultValue:hk})],Td.prototype,"maskGenAlgorithm",void 0);T([D({type:Y.Integer,context:2,defaultValue:20})],Td.prototype,"saltLength",void 0);T([D({type:Y.Integer,context:3,defaultValue:1})],Td.prototype,"trailerField",void 0);xyn=new $e({algorithm:jh,parameters:Ke.serialize(new Td)})});var Ay,yqe=g(()=>{"use strict";Ae();br();Se();Ay=class{constructor(e={}){this.digestAlgorithm=new $e,this.digest=new _t,Object.assign(this,e)}};T([D({type:$e})],Ay.prototype,"digestAlgorithm",void 0);T([D({type:_t})],Ay.prototype,"digest",void 0)});var bqe=g(()=>{"use strict";hqe();gqe();yqe()});var zoe,mS,yk,Voe=g(()=>{"use strict";Ae();Se();mS=class{constructor(e={}){this.prime=new ArrayBuffer(0),this.exponent=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0),Object.assign(this,e)}};T([D({type:Y.Integer,converter:or})],mS.prototype,"prime",void 0);T([D({type:Y.Integer,converter:or})],mS.prototype,"exponent",void 0);T([D({type:Y.Integer,converter:or})],mS.prototype,"coefficient",void 0);yk=zoe=class extends mt{constructor(e){super(e),Object.setPrototypeOf(this,zoe.prototype)}};yk=zoe=T([de({type:oe.Sequence,itemType:mS})],yk)});var xl,vqe=g(()=>{"use strict";Ae();Se();Voe();xl=class{constructor(e={}){this.version=0,this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),this.privateExponent=new ArrayBuffer(0),this.prime1=new ArrayBuffer(0),this.prime2=new ArrayBuffer(0),this.exponent1=new ArrayBuffer(0),this.exponent2=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0),Object.assign(this,e)}};T([D({type:Y.Integer})],xl.prototype,"version",void 0);T([D({type:Y.Integer,converter:or})],xl.prototype,"modulus",void 0);T([D({type:Y.Integer,converter:or})],xl.prototype,"publicExponent",void 0);T([D({type:Y.Integer,converter:or})],xl.prototype,"privateExponent",void 0);T([D({type:Y.Integer,converter:or})],xl.prototype,"prime1",void 0);T([D({type:Y.Integer,converter:or})],xl.prototype,"prime2",void 0);T([D({type:Y.Integer,converter:or})],xl.prototype,"exponent1",void 0);T([D({type:Y.Integer,converter:or})],xl.prototype,"exponent2",void 0);T([D({type:Y.Integer,converter:or})],xl.prototype,"coefficient",void 0);T([D({type:yk,optional:!0})],xl.prototype,"otherPrimeInfos",void 0)});var fS,_qe=g(()=>{"use strict";Ae();Se();fS=class{constructor(e={}){this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),Object.assign(this,e)}};T([D({type:Y.Integer,converter:or})],fS.prototype,"modulus",void 0);T([D({type:Y.Integer,converter:or})],fS.prototype,"publicExponent",void 0)});var bk=g(()=>{"use strict";bqe();gk();L5();Voe();vqe();_qe()});var joe,Ro,qoe=g(()=>{"use strict";(function(t){t[t.Transient=0]="Transient",t[t.Singleton=1]="Singleton",t[t.ResolutionScoped=2]="ResolutionScoped",t[t.ContainerScoped=3]="ContainerScoped"})(joe||(joe={}));Ro=joe});var Sqe=g(()=>{"use strict";qoe()});function B5(t,e){Hoe(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function wqe(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(u){try{l(n.next(u))}catch(d){s(d)}}function c(u){try{l(n.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function xqe(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function U5(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function hS(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}function Id(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(hS(arguments[e]));return t}var Hoe,gS=g(()=>{"use strict";Hoe=function(t,e){return Hoe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Hoe(t,e)}});function Woe(t){var e=Reflect.getMetadata("design:paramtypes",t)||[],r=Reflect.getOwnMetadata(ZNt,t)||{};return Object.keys(r).forEach(function(n){e[+n]=r[n]}),e}var ZNt,Ey=g(()=>{"use strict";ZNt="injectionTokens"});function F5(t){return!!t.useClass}var Goe=g(()=>{"use strict"});function yS(t){return!!t.useFactory}var Koe=g(()=>{"use strict"});var vk,_k=g(()=>{"use strict";gS();vk=(function(){function t(e){this.wrap=e,this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct","ownKeys"]}return t.prototype.createProxy=function(e){var r=this,n={},i=!1,o,s=function(){return i||(o=e(r.wrap()),i=!0),o};return new Proxy(n,this.createHandler(s))},t.prototype.createHandler=function(e){var r={},n=function(i){r[i]=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];o[0]=e();var a=Reflect[i];return a.apply(void 0,Id(o))}};return this.reflectMethods.forEach(n),r},t})()});function Hh(t){return typeof t=="string"||typeof t=="symbol"}function Yoe(t){return typeof t=="object"&&"token"in t&&"multiple"in t}function Sk(t){return typeof t=="object"&&"token"in t&&"transform"in t}function Aqe(t){return typeof t=="function"||t instanceof vk}var wk=g(()=>{"use strict";_k()});function Ry(t){return!!t.useToken}var Joe=g(()=>{"use strict"});function Ty(t){return t.useValue!=null}var Qoe=g(()=>{"use strict"});var Zoe=g(()=>{"use strict";Goe();Koe();wk();Joe();Qoe()});function Eqe(t){return F5(t)||Ty(t)||Ry(t)||yS(t)}var Rqe=g(()=>{"use strict";Goe();Qoe();Joe();Koe()});var XNt,z5,Xoe=g(()=>{"use strict";XNt=(function(){function t(){this._registryMap=new Map}return t.prototype.entries=function(){return this._registryMap.entries()},t.prototype.getAll=function(e){return this.ensure(e),this._registryMap.get(e)},t.prototype.get=function(e){this.ensure(e);var r=this._registryMap.get(e);return r[r.length-1]||null},t.prototype.set=function(e,r){this.ensure(e),this._registryMap.get(e).push(r)},t.prototype.setAll=function(e,r){this._registryMap.set(e,r)},t.prototype.has=function(e){return this.ensure(e),this._registryMap.get(e).length>0},t.prototype.clear=function(){this._registryMap.clear()},t.prototype.ensure=function(e){this._registryMap.has(e)||this._registryMap.set(e,[])},t})(),z5=XNt});var ePt,Tqe,Iqe=g(()=>{"use strict";gS();Xoe();ePt=(function(t){B5(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(z5),Tqe=ePt});var tPt,V5,Cqe=g(()=>{"use strict";tPt=(function(){function t(){this.scopedResolutions=new Map}return t})(),V5=tPt});function rPt(t,e){if(t===null)return"at position #"+e;var r=t.split(",")[e].trim();return'"'+r+'" at position #'+e}function nPt(t,e,r){return r===void 0&&(r="    "),Id([t],e.message.split(`
`).map(function(n){return r+n})).join(`
`)}function ese(t,e,r){var n=hS(t.toString().match(/constructor\(([\w, ]+)\)/)||[],2),i=n[1],o=i===void 0?null:i,s=rPt(o,e);return nPt("Cannot inject the dependency "+s+' of "'+t.name+'" constructor. Reason:',r)}var tse=g(()=>{"use strict";gS()});function Oqe(t){if(typeof t.dispose!="function")return!1;var e=t.dispose;return!(e.length>0)}var Nqe=g(()=>{"use strict"});var iPt,oPt,sPt,Pqe,kqe=g(()=>{"use strict";gS();Xoe();iPt=(function(t){B5(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(z5),oPt=(function(t){B5(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(z5),sPt=(function(){function t(){this.preResolution=new iPt,this.postResolution=new oPt}return t})(),Pqe=sPt});var rse,aPt,Pn,Wh=g(()=>{"use strict";gS();Zoe();Rqe();wk();Iqe();qoe();Cqe();tse();_k();Nqe();kqe();rse=new Map,aPt=(function(){function t(e){this.parent=e,this._registry=new Tqe,this.interceptors=new Pqe,this.disposed=!1,this.disposables=new Set}return t.prototype.register=function(e,r,n){n===void 0&&(n={lifecycle:Ro.Transient}),this.ensureNotDisposed();var i;if(Eqe(r)?i=r:i={useClass:r},Ry(i))for(var o=[e],s=i;s!=null;){var a=s.useToken;if(o.includes(a))throw new Error("Token registration cycle detected! "+Id(o,[a]).join(" -> "));o.push(a);var c=this._registry.get(a);c&&Ry(c.provider)?s=c.provider:s=null}if((n.lifecycle===Ro.Singleton||n.lifecycle==Ro.ContainerScoped||n.lifecycle==Ro.ResolutionScoped)&&(Ty(i)||yS(i)))throw new Error('Cannot use lifecycle "'+Ro[n.lifecycle]+'" with ValueProviders or FactoryProviders');return this._registry.set(e,{provider:i,options:n}),this},t.prototype.registerType=function(e,r){return this.ensureNotDisposed(),Hh(r)?this.register(e,{useToken:r}):this.register(e,{useClass:r})},t.prototype.registerInstance=function(e,r){return this.ensureNotDisposed(),this.register(e,{useValue:r})},t.prototype.registerSingleton=function(e,r){if(this.ensureNotDisposed(),Hh(e)){if(Hh(r))return this.register(e,{useToken:r},{lifecycle:Ro.Singleton});if(r)return this.register(e,{useClass:r},{lifecycle:Ro.Singleton});throw new Error('Cannot register a type name as a singleton without a "to" token')}var n=e;return r&&!Hh(r)&&(n=r),this.register(e,{useClass:n},{lifecycle:Ro.Singleton})},t.prototype.resolve=function(e,r,n){r===void 0&&(r=new V5),n===void 0&&(n=!1),this.ensureNotDisposed();var i=this.getRegistration(e);if(!i&&Hh(e)){if(n)return;throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"')}if(this.executePreResolutionInterceptor(e,"Single"),i){var o=this.resolveRegistration(i,r);return this.executePostResolutionInterceptor(e,o,"Single"),o}if(Aqe(e)){var o=this.construct(e,r);return this.executePostResolutionInterceptor(e,o,"Single"),o}throw new Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")},t.prototype.executePreResolutionInterceptor=function(e,r){var n,i;if(this.interceptors.preResolution.has(e)){var o=[];try{for(var s=U5(this.interceptors.preResolution.getAll(e)),a=s.next();!a.done;a=s.next()){var c=a.value;c.options.frequency!="Once"&&o.push(c),c.callback(e,r)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}this.interceptors.preResolution.setAll(e,o)}},t.prototype.executePostResolutionInterceptor=function(e,r,n){var i,o;if(this.interceptors.postResolution.has(e)){var s=[];try{for(var a=U5(this.interceptors.postResolution.getAll(e)),c=a.next();!c.done;c=a.next()){var l=c.value;l.options.frequency!="Once"&&s.push(l),l.callback(e,r,n)}}catch(u){i={error:u}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}this.interceptors.postResolution.setAll(e,s)}},t.prototype.resolveRegistration=function(e,r){if(this.ensureNotDisposed(),e.options.lifecycle===Ro.ResolutionScoped&&r.scopedResolutions.has(e))return r.scopedResolutions.get(e);var n=e.options.lifecycle===Ro.Singleton,i=e.options.lifecycle===Ro.ContainerScoped,o=n||i,s;return Ty(e.provider)?s=e.provider.useValue:Ry(e.provider)?s=o?e.instance||(e.instance=this.resolve(e.provider.useToken,r)):this.resolve(e.provider.useToken,r):F5(e.provider)?s=o?e.instance||(e.instance=this.construct(e.provider.useClass,r)):this.construct(e.provider.useClass,r):yS(e.provider)?s=e.provider.useFactory(this):s=this.construct(e.provider,r),e.options.lifecycle===Ro.ResolutionScoped&&r.scopedResolutions.set(e,s),s},t.prototype.resolveAll=function(e,r,n){var i=this;r===void 0&&(r=new V5),n===void 0&&(n=!1),this.ensureNotDisposed();var o=this.getAllRegistrations(e);if(!o&&Hh(e)){if(n)return[];throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"')}if(this.executePreResolutionInterceptor(e,"All"),o){var s=o.map(function(c){return i.resolveRegistration(c,r)});return this.executePostResolutionInterceptor(e,s,"All"),s}var a=[this.construct(e,r)];return this.executePostResolutionInterceptor(e,a,"All"),a},t.prototype.isRegistered=function(e,r){return r===void 0&&(r=!1),this.ensureNotDisposed(),this._registry.has(e)||r&&(this.parent||!1)&&this.parent.isRegistered(e,!0)},t.prototype.reset=function(){this.ensureNotDisposed(),this._registry.clear(),this.interceptors.preResolution.clear(),this.interceptors.postResolution.clear()},t.prototype.clearInstances=function(){var e,r;this.ensureNotDisposed();try{for(var n=U5(this._registry.entries()),i=n.next();!i.done;i=n.next()){var o=hS(i.value,2),s=o[0],a=o[1];this._registry.setAll(s,a.filter(function(c){return!Ty(c.provider)}).map(function(c){return c.instance=void 0,c}))}}catch(c){e={error:c}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.createChildContainer=function(){var e,r;this.ensureNotDisposed();var n=new t(this);try{for(var i=U5(this._registry.entries()),o=i.next();!o.done;o=i.next()){var s=hS(o.value,2),a=s[0],c=s[1];c.some(function(l){var u=l.options;return u.lifecycle===Ro.ContainerScoped})&&n._registry.setAll(a,c.map(function(l){return l.options.lifecycle===Ro.ContainerScoped?{provider:l.provider,options:l.options}:l}))}}catch(l){e={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n},t.prototype.beforeResolution=function(e,r,n){n===void 0&&(n={frequency:"Always"}),this.interceptors.preResolution.set(e,{callback:r,options:n})},t.prototype.afterResolution=function(e,r,n){n===void 0&&(n={frequency:"Always"}),this.interceptors.postResolution.set(e,{callback:r,options:n})},t.prototype.dispose=function(){return wqe(this,void 0,void 0,function(){var e;return xqe(this,function(r){switch(r.label){case 0:return this.disposed=!0,e=[],this.disposables.forEach(function(n){var i=n.dispose();i&&e.push(i)}),[4,Promise.all(e)];case 1:return r.sent(),[2]}})})},t.prototype.getRegistration=function(e){return this.isRegistered(e)?this._registry.get(e):this.parent?this.parent.getRegistration(e):null},t.prototype.getAllRegistrations=function(e){return this.isRegistered(e)?this._registry.getAll(e):this.parent?this.parent.getAllRegistrations(e):null},t.prototype.construct=function(e,r){var n=this;if(e instanceof vk)return e.createProxy(function(o){return n.resolve(o,r)});var i=(function(){var o=rse.get(e);if(!o||o.length===0){if(e.length===0)return new e;throw new Error('TypeInfo not known for "'+e.name+'"')}var s=o.map(n.resolveParams(r,e));return new(e.bind.apply(e,Id([void 0],s)))})();return Oqe(i)&&this.disposables.add(i),i},t.prototype.resolveParams=function(e,r){var n=this;return function(i,o){var s,a,c;try{return Yoe(i)?Sk(i)?i.multiple?(s=n.resolve(i.transform)).transform.apply(s,Id([n.resolveAll(i.token,new V5,i.isOptional)],i.transformArgs)):(a=n.resolve(i.transform)).transform.apply(a,Id([n.resolve(i.token,e,i.isOptional)],i.transformArgs)):i.multiple?n.resolveAll(i.token,new V5,i.isOptional):n.resolve(i.token,e,i.isOptional):Sk(i)?(c=n.resolve(i.transform,e)).transform.apply(c,Id([n.resolve(i.token,e)],i.transformArgs)):n.resolve(i,e)}catch(l){throw new Error(ese(r,o,l))}}},t.prototype.ensureNotDisposed=function(){if(this.disposed)throw new Error("This container has been disposed, you cannot interact with a disposed container")},t})(),Pn=new aPt});var Dqe=g(()=>{"use strict";Ey();Wh();wk();tse()});var Mqe=g(()=>{"use strict";Ey()});function cPt(t){return function(e){rse.set(e,Woe(e)),t&&t.token&&(Array.isArray(t.token)?t.token.forEach(function(r){Pn.register(r,e)}):Pn.register(t.token,e))}}var Gh,xk=g(()=>{"use strict";Ey();Wh();Wh();Gh=cPt});var $qe=g(()=>{"use strict";Wh()});var Lqe=g(()=>{"use strict";xk();Wh()});var Bqe=g(()=>{"use strict";Ey()});var Uqe=g(()=>{"use strict";Ey()});var Fqe=g(()=>{"use strict";Ey()});var zqe=g(()=>{"use strict";xk();Wh()});var Vqe=g(()=>{"use strict";Dqe();Mqe();xk();$qe();Lqe();Bqe();Uqe();Fqe();zqe()});var jqe=g(()=>{"use strict"});var qqe=g(()=>{"use strict"});var Hqe=g(()=>{"use strict"});var Wqe=g(()=>{"use strict";jqe();qqe();Hqe()});var Gqe=g(()=>{"use strict";Sqe();Vqe();Wqe();Zoe();_k();Wh();if(typeof Reflect>"u"||!Reflect.getMetadata)throw new Error(`tsyringe requires a reflect polyfill. Please add 'import "reflect-metadata"' to the top of your entry point.`)});var ise,Iy,Kqe,ose=g(()=>{"use strict";Ae();Se();Iy=class{constructor(e={}){this.attrId="",this.attrValues=[],Object.assign(e)}};T([D({type:Y.ObjectIdentifier})],Iy.prototype,"attrId",void 0);T([D({type:Y.Any,repeated:"set"})],Iy.prototype,"attrValues",void 0);Kqe=ise=class extends mt{constructor(e){super(e),Object.setPrototypeOf(this,ise.prototype)}};Kqe=ise=T([de({type:oe.Sequence,itemType:Iy})],Kqe)});var sse,Yqe,Jqe=g(()=>{"use strict";Ae();Se();O5();Yqe=sse=class extends mt{constructor(e){super(e),Object.setPrototypeOf(this,sse.prototype)}};Yqe=sse=T([de({type:oe.Sequence,itemType:wl})],Yqe)});var lPt,uPt,Qqe,bS,s_n,a_n,c_n,l_n,u_n,d_n,Cy,ase=g(()=>{"use strict";lPt="1.2.840.113549",uPt=`${lPt}.1`,Qqe=`${uPt}.12`,bS=`${Qqe}.1`,s_n=`${bS}.1`,a_n=`${bS}.2`,c_n=`${bS}.3`,l_n=`${bS}.4`,u_n=`${bS}.5`,d_n=`${bS}.6`,Cy=`${Qqe}.10.1`});var f_n,h_n,g_n,y_n,b_n,v_n,Ak,Ek=g(()=>{"use strict";ase();f_n=`${Cy}.1`,h_n=`${Cy}.2`,g_n=`${Cy}.3`,y_n=`${Cy}.4`,b_n=`${Cy}.5`,v_n=`${Cy}.6`,Ak="1.2.840.113549.1.9"});var Rk,Zqe,A_n,E_n,Xqe=g(()=>{"use strict";Ae();Se();Ek();Rk=class{constructor(e={}){this.certId="",this.certValue=new ArrayBuffer(0),Object.assign(this,e)}};T([D({type:Y.ObjectIdentifier})],Rk.prototype,"certId",void 0);T([D({type:Y.Any,context:0})],Rk.prototype,"certValue",void 0);Zqe=`${Ak}.22`,A_n=`${Zqe}.1`,E_n=`${Zqe}.2`});var Tk,dPt,O_n,eHe=g(()=>{"use strict";Ae();Se();Ek();Tk=class{constructor(e={}){this.crlId="",this.crltValue=new ArrayBuffer(0),Object.assign(this,e)}};T([D({type:Y.ObjectIdentifier})],Tk.prototype,"crlId",void 0);T([D({type:Y.Any,context:0})],Tk.prototype,"crltValue",void 0);dPt=`${Ak}.23`,O_n=`${dPt}.1`});var Ik,Kh,tHe=g(()=>{"use strict";Ae();Se();br();Ik=class extends _t{},Kh=class{constructor(e={}){this.encryptionAlgorithm=new $e,this.encryptedData=new Ik,Object.assign(this,e)}};T([D({type:$e})],Kh.prototype,"encryptionAlgorithm",void 0);T([D({type:Ik})],Kh.prototype,"encryptedData",void 0)});var cse,lse,Ck,use,Yh,rHe=g(()=>{"use strict";Ae();Se();br();(function(t){t[t.v1=0]="v1"})(lse||(lse={}));Ck=class extends _t{},use=cse=class extends mt{constructor(e){super(e),Object.setPrototypeOf(this,cse.prototype)}};use=cse=T([de({type:oe.Sequence,itemType:Ao})],use);Yh=class{constructor(e={}){this.version=lse.v1,this.privateKeyAlgorithm=new $e,this.privateKey=new Ck,Object.assign(this,e)}};T([D({type:Y.Integer})],Yh.prototype,"version",void 0);T([D({type:$e})],Yh.prototype,"privateKeyAlgorithm",void 0);T([D({type:Ck})],Yh.prototype,"privateKey",void 0);T([D({type:use,implicit:!0,context:0,optional:!0})],Yh.prototype,"attributes",void 0)});var Ok=g(()=>{"use strict";tHe();rHe()});var nHe,iHe=g(()=>{"use strict";Ae();Ok();Se();nHe=class extends Yh{};nHe=T([de({type:oe.Sequence})],nHe)});var oHe,sHe=g(()=>{"use strict";Ae();Ok();Se();oHe=class extends Kh{};oHe=T([de({type:oe.Sequence})],oHe)});var Nk,aHe=g(()=>{"use strict";Ae();Se();Nk=class{constructor(e={}){this.secretTypeId="",this.secretValue=new ArrayBuffer(0),Object.assign(this,e)}};T([D({type:Y.ObjectIdentifier})],Nk.prototype,"secretTypeId",void 0);T([D({type:Y.Any,context:0})],Nk.prototype,"secretValue",void 0)});var cHe=g(()=>{"use strict";Xqe();eHe();iHe();sHe();aHe();Ek()});var Jh,dse=g(()=>{"use strict";Ae();bk();Se();Jh=class{constructor(e={}){this.mac=new Ay,this.macSalt=new _t,this.iterations=1,Object.assign(this,e)}};T([D({type:Ay})],Jh.prototype,"mac",void 0);T([D({type:_t})],Jh.prototype,"macSalt",void 0);T([D({type:Y.Integer,defaultValue:1})],Jh.prototype,"iterations",void 0)});var Oy,lHe=g(()=>{"use strict";Ae();Se();O5();dse();Oy=class{constructor(e={}){this.version=3,this.authSafe=new wl,this.macData=new Jh,Object.assign(this,e)}};T([D({type:Y.Integer})],Oy.prototype,"version",void 0);T([D({type:wl})],Oy.prototype,"authSafe",void 0);T([D({type:Jh,optional:!0})],Oy.prototype,"macData",void 0)});var pse,vS,uHe,dHe=g(()=>{"use strict";Ae();Se();ose();vS=class{constructor(e={}){this.bagId="",this.bagValue=new ArrayBuffer(0),Object.assign(this,e)}};T([D({type:Y.ObjectIdentifier})],vS.prototype,"bagId",void 0);T([D({type:Y.Any,context:0})],vS.prototype,"bagValue",void 0);T([D({type:Iy,repeated:"set",optional:!0})],vS.prototype,"bagAttributes",void 0);uHe=pse=class extends mt{constructor(e){super(e),Object.setPrototypeOf(this,pse.prototype)}};uHe=pse=T([de({type:oe.Sequence,itemType:vS})],uHe)});var pHe=g(()=>{"use strict";ose();Jqe();cHe();dse();ase();lHe();dHe()});var mse,fse,hse,Qn,P2n,RHe,q5,THe,IHe,k2n,D2n,M2n,$2n,L2n,B2n,U2n,F2n,xse,z2n,V2n,j2n,H5,q2n,H2n,W2n,G2n,K2n,Y2n,J2n,Q2n,W5,Z2n,X2n,eSn,tSn,rSn,nSn,iSn,oSn,sSn,aSn,cSn,lSn,uSn,Pk,mHe,fHe,hHe,gse,gHe,yHe,yse,bHe,bse,kk,vHe,_He,vse,SHe,_se,wHe,j5,xHe,AHe,Sse,wse,EHe,Ase=g(()=>{"use strict";Ae();Se();O5();pHe();Ok();br();doe();Qn="1.2.840.113549.1.9",P2n=`${Qn}.0`,RHe=`${Qn}.24`,q5=`${Qn}.25`,THe=`${Qn}.26`,IHe=`${Qn}.27`,k2n=`${RHe}.1`,D2n=`${RHe}.2`,M2n=`${Qn}.1`,$2n=`${Qn}.2`,L2n=`${Qn}.3`,B2n=`${Qn}.4`,U2n=`${Qn}.5`,F2n=`${Qn}.6`,xse=`${Qn}.7`,z2n=`${Qn}.8`,V2n=`${Qn}.9`,j2n=`${Qn}.13`,H5=`${Qn}.14`,q2n=`${Qn}.15`,H2n=`${Qn}.20`,W2n=`${Qn}.21`,G2n=`${q5}.1`,K2n=`${q5}.2`,Y2n=`${q5}.3`,J2n=`${q5}.4`,Q2n=`${q5}.5`,W5="1.3.6.1.5.5.7.9",Z2n=`${W5}.1`,X2n=`${W5}.2`,eSn=`${W5}.3`,tSn=`${W5}.4`,rSn=`${W5}.5`,nSn=`${THe}.1`,iSn=`${THe}.2`,oSn=`${IHe}.1`,sSn=`${IHe}.2`,aSn=`${Qn}.16`,cSn=`${Qn}.22`,lSn=`${Qn}.23`,uSn=`${aoe}.65`,Pk=class extends Oi{constructor(e={}){super(e)}toString(){return{}.toString(),this.ia5String||super.toString()}};T([D({type:Y.IA5String})],Pk.prototype,"ia5String",void 0);Pk=T([de({type:oe.Choice})],Pk);mHe=class extends wl{};mHe=T([de({type:oe.Sequence})],mHe);fHe=class extends Oy{};fHe=T([de({type:oe.Sequence})],fHe);hHe=class extends Kh{};hHe=T([de({type:oe.Sequence})],hHe);gse=class{constructor(e=""){this.value=e}toString(){return this.value}};T([D({type:Y.IA5String})],gse.prototype,"value",void 0);gse=T([de({type:oe.Choice})],gse);gHe=class extends Pk{};gHe=T([de({type:oe.Choice})],gHe);yHe=class extends Oi{};yHe=T([de({type:oe.Choice})],yHe);yse=class{constructor(e=new Date){this.value=e}};T([D({type:Y.GeneralizedTime})],yse.prototype,"value",void 0);yse=T([de({type:oe.Choice})],yse);bHe=class extends Oi{};bHe=T([de({type:oe.Choice})],bHe);bse=class{constructor(e="M"){this.value=e}toString(){return this.value}};T([D({type:Y.PrintableString})],bse.prototype,"value",void 0);bse=T([de({type:oe.Choice})],bse);kk=class{constructor(e=""){this.value=e}toString(){return this.value}};T([D({type:Y.PrintableString})],kk.prototype,"value",void 0);kk=T([de({type:oe.Choice})],kk);vHe=class extends kk{};vHe=T([de({type:oe.Choice})],vHe);_He=class extends Oi{};_He=T([de({type:oe.Choice})],_He);vse=class{constructor(e=""){this.value=e}toString(){return this.value}};T([D({type:Y.ObjectIdentifier})],vse.prototype,"value",void 0);vse=T([de({type:oe.Choice})],vse);SHe=class extends Jn{};SHe=T([de({type:oe.Choice})],SHe);_se=class{constructor(e=0){this.value=e}toString(){return this.value.toString()}};T([D({type:Y.Integer})],_se.prototype,"value",void 0);_se=T([de({type:oe.Choice})],_se);wHe=class extends ma{};wHe=T([de({type:oe.Sequence})],wHe);j5=class extends Oi{};j5=T([de({type:oe.Choice})],j5);xHe=mse=class extends vl{constructor(e){super(e),Object.setPrototypeOf(this,mse.prototype)}};xHe=mse=T([de({type:oe.Sequence})],xHe);AHe=fse=class extends mt{constructor(e){super(e),Object.setPrototypeOf(this,fse.prototype)}};AHe=fse=T([de({type:oe.Set,itemType:du})],AHe);Sse=class{constructor(e=""){this.value=e}toString(){return this.value}};T([D({type:Y.BmpString})],Sse.prototype,"value",void 0);Sse=T([de({type:oe.Choice})],Sse);wse=class extends $e{};wse=T([de({type:oe.Sequence})],wse);EHe=hse=class extends mt{constructor(e){super(e),Object.setPrototypeOf(this,hse.prototype)}};EHe=hse=T([de({type:oe.Sequence,itemType:wse})],EHe)});var Ese,G5,Rse=g(()=>{"use strict";Ae();Se();br();G5=Ese=class extends mt{constructor(e){super(e),Object.setPrototypeOf(this,Ese.prototype)}};G5=Ese=T([de({type:oe.Sequence,itemType:Ao})],G5)});var Cd,Tse=g(()=>{"use strict";Ae();Se();br();Rse();Cd=class{constructor(e={}){this.version=0,this.subject=new mn,this.subjectPKInfo=new Jo,this.attributes=new G5,Object.assign(this,e)}};T([D({type:Y.Integer})],Cd.prototype,"version",void 0);T([D({type:mn})],Cd.prototype,"subject",void 0);T([D({type:Jo})],Cd.prototype,"subjectPKInfo",void 0);T([D({type:G5,implicit:!0,context:0,optional:!0})],Cd.prototype,"attributes",void 0)});var Qh,CHe=g(()=>{"use strict";Ae();Se();Tse();br();Qh=class{constructor(e={}){this.certificationRequestInfo=new Cd,this.signatureAlgorithm=new $e,this.signature=new ArrayBuffer(0),Object.assign(this,e)}};T([D({type:Cd,raw:!0})],Qh.prototype,"certificationRequestInfo",void 0);T([D({type:$e})],Qh.prototype,"signatureAlgorithm",void 0);T([D({type:Y.BitString})],Qh.prototype,"signature",void 0)});var OHe=g(()=>{"use strict";Rse();CHe();Tse()});function gPt(t){return new RegExp(hPt).test(t)}function yPt(t,e){return`\\${at.ToHex(at.FromUtf8String(e)).toUpperCase()}`}function bPt(t){return t.replace(/([,+"\\<>;])/g,"\\$1").replace(/^([ #])/,"\\$1").replace(/([ ]$)/,"\\$1").replace(/([\r\n\t])/,yPt)}function TPt(t,e){return t.algorithm=new $e({algorithm:Rd,parameters:null}),e=Ke.serialize(t),e}function Mk(t,e,r){if(r.length===1)t[e]=r[0].toTextObject();else{let n=new Sr("");r.forEach((i,o)=>{let s=i.toTextObject(),a=`${s[Sr.NAME]} ${o+1}`,c=n[a];Array.isArray(c)||(c=[],n[a]=c),c.push(s)}),t[e]=n}}function $k(t,e,r,n){let i=e[n];i&&(Array.isArray(i)?i:[i]).forEach(s=>{typeof s=="string"&&(s=new Od("url",s)),t.push(new pm({accessMethod:r,accessLocation:Ke.parse(s.rawData,Tt)}))})}var ewn,X5,Lse,_S,Lk,ba,NHe,PHe,kHe,DHe,MHe,$He,LHe,BHe,UHe,FHe,zHe,VHe,jHe,qHe,HHe,WHe,GHe,KHe,YHe,JHe,QHe,ZHe,XHe,eWe,tWe,rWe,nWe,iWe,qn,Y5,hWe,gWe,Sr,Bse,Nd,_m,eg,Al,yWe,J5,Xo,hPt,Uk,ga,Zh,bWe,oWe,vPt,sWe,aWe,cWe,Ise,Cse,Ose,Nse,Pse,kse,Dse,Dk,Od,Ny,K5,Q5,_Pt,SPt,wPt,SS,xPt,APt,EPt,RPt,lWe,As,tg,Xh,Fk,zk,uWe,Vk,dWe,jk,qk,Hk,ya,Wk,Gk,Kk,wS,Yk,Z5,xS,Qk,Use,Bk,Fse,zse,Sm,Mse,pWe,$se,mWe,Vse,jse,Jk,fWe,vWe=g(()=>{"use strict";ewn=Ni(jze());Se();br();br();om();O5();Loe();Loe();bk();bk();Ae();Gqe();Ase();Ase();OHe();X5="crypto.algorithm",Lse=class{getAlgorithms(){return Pn.resolveAll(X5)}toAsnAlgorithm(e){({...e});for(let r of this.getAlgorithms()){let n=r.toAsnAlgorithm(e);if(n)return n}if(/^[0-9.]+$/.test(e.name)){let r=new $e({algorithm:e.name});if("parameters"in e){let n=e;r.parameters=n.parameters}return r}throw new Error("Cannot convert WebCrypto algorithm to ASN.1 algorithm")}toWebAlgorithm(e){for(let n of this.getAlgorithms()){let i=n.toWebAlgorithm(e);if(i)return i}return{name:e.algorithm,parameters:e.parameters}}},_S="crypto.algorithmProvider";Pn.registerSingleton(_S,Lse);ba="1.3.36.3.3.2.8.1.1",NHe=`${ba}.1`,PHe=`${ba}.2`,kHe=`${ba}.3`,DHe=`${ba}.4`,MHe=`${ba}.5`,$He=`${ba}.6`,LHe=`${ba}.7`,BHe=`${ba}.8`,UHe=`${ba}.9`,FHe=`${ba}.10`,zHe=`${ba}.11`,VHe=`${ba}.12`,jHe=`${ba}.13`,qHe=`${ba}.14`,HHe="brainpoolP160r1",WHe="brainpoolP160t1",GHe="brainpoolP192r1",KHe="brainpoolP192t1",YHe="brainpoolP224r1",JHe="brainpoolP224t1",QHe="brainpoolP256r1",ZHe="brainpoolP256t1",XHe="brainpoolP320r1",eWe="brainpoolP320t1",tWe="brainpoolP384r1",rWe="brainpoolP384t1",nWe="brainpoolP512r1",iWe="brainpoolP512t1",qn="ECDSA",Y5=Lk=class{toAsnAlgorithm(e){switch(e.name.toLowerCase()){case qn.toLowerCase():if("hash"in e)switch((typeof e.hash=="string"?e.hash:e.hash.name).toLowerCase()){case"sha-1":return Xje;case"sha-256":return eqe;case"sha-384":return tqe;case"sha-512":return rqe}else if("namedCurve"in e){let r="";switch(e.namedCurve){case"P-256":r=Coe;break;case"K-256":r=Lk.SECP256K1;break;case"P-384":r=Ooe;break;case"P-521":r=Noe;break;case HHe:r=NHe;break;case WHe:r=PHe;break;case GHe:r=kHe;break;case KHe:r=DHe;break;case YHe:r=MHe;break;case JHe:r=$He;break;case QHe:r=LHe;break;case ZHe:r=BHe;break;case XHe:r=UHe;break;case eWe:r=FHe;break;case tWe:r=zHe;break;case rWe:r=VHe;break;case nWe:r=jHe;break;case iWe:r=qHe;break}if(r)return new $e({algorithm:by,parameters:Ke.serialize(new Ed({namedCurve:r}))})}}return null}toWebAlgorithm(e){switch(e.algorithm){case N5:return{name:qn,hash:{name:"SHA-1"}};case P5:return{name:qn,hash:{name:"SHA-256"}};case k5:return{name:qn,hash:{name:"SHA-384"}};case D5:return{name:qn,hash:{name:"SHA-512"}};case by:{if(!e.parameters)throw new TypeError("Cannot get required parameters from EC algorithm");switch(Ke.parse(e.parameters,Ed).namedCurve){case Coe:return{name:qn,namedCurve:"P-256"};case Lk.SECP256K1:return{name:qn,namedCurve:"K-256"};case Ooe:return{name:qn,namedCurve:"P-384"};case Noe:return{name:qn,namedCurve:"P-521"};case NHe:return{name:qn,namedCurve:HHe};case PHe:return{name:qn,namedCurve:WHe};case kHe:return{name:qn,namedCurve:GHe};case DHe:return{name:qn,namedCurve:KHe};case MHe:return{name:qn,namedCurve:YHe};case $He:return{name:qn,namedCurve:JHe};case LHe:return{name:qn,namedCurve:QHe};case BHe:return{name:qn,namedCurve:ZHe};case UHe:return{name:qn,namedCurve:XHe};case FHe:return{name:qn,namedCurve:eWe};case zHe:return{name:qn,namedCurve:tWe};case VHe:return{name:qn,namedCurve:rWe};case jHe:return{name:qn,namedCurve:nWe};case qHe:return{name:qn,namedCurve:iWe}}}}return null}};Y5.SECP256K1="1.3.132.0.10";Y5=Lk=T([Gh()],Y5);Pn.registerSingleton(X5,Y5);hWe=Symbol("name"),gWe=Symbol("value"),Sr=class{constructor(e,r={},n=""){this[hWe]=e,this[gWe]=n;for(let i in r)this[i]=r[i]}};Sr.NAME=hWe;Sr.VALUE=gWe;Bse=class{static toTextObject(e){let r=new Sr("Algorithm Identifier",{},Nd.toString(e.algorithm));if(e.parameters)switch(e.algorithm){case by:{let n=new Y5().toWebAlgorithm(e);n&&"namedCurve"in n?r["Named Curve"]=n.namedCurve:r.Parameters=e.parameters;break}default:r.Parameters=e.parameters}return r}},Nd=class{static toString(e){let r=this.items[e];return r||e}};Nd.items={[_y]:"sha1",[fk]:"sha224",[Sy]:"sha256",[wy]:"sha384",[xy]:"sha512",[Rd]:"rsaEncryption",[lS]:"sha1WithRSAEncryption",[uqe]:"sha224WithRSAEncryption",[mk]:"sha256WithRSAEncryption",[uS]:"sha384WithRSAEncryption",[dS]:"sha512WithRSAEncryption",[by]:"ecPublicKey",[N5]:"ecdsaWithSHA1",[pk]:"ecdsaWithSHA224",[P5]:"ecdsaWithSHA256",[k5]:"ecdsaWithSHA384",[D5]:"ecdsaWithSHA512",[eje]:"TLS WWW server authentication",[tje]:"TLS WWW client authentication",[rje]:"Code Signing",[nje]:"E-mail Protection",[ije]:"Time Stamping",[oje]:"OCSP Signing",[Yje]:"Signed Data"};_m=class{static serialize(e){return this.serializeObj(e).join(`
`)}static pad(e=0){return"".padStart(2*e," ")}static serializeObj(e,r=0){let n=[],i=this.pad(r++),o="",s=e[Sr.VALUE];s&&(o=` ${s}`),n.push(`${i}${e[Sr.NAME]}:${o}`),i=this.pad(r);for(let a in e){if(typeof a=="symbol")continue;let c=e[a],l=a?`${a}: `:"";if(typeof c=="string"||typeof c=="number"||typeof c=="boolean")n.push(`${i}${l}${c}`);else if(c instanceof Date)n.push(`${i}${l}${c.toUTCString()}`);else if(Array.isArray(c))for(let u of c)u[Sr.NAME]=a,n.push(...this.serializeObj(u,r));else if(c instanceof Sr)c[Sr.NAME]=a,n.push(...this.serializeObj(c,r));else if(We.isBufferSource(c))a?(n.push(`${i}${l}`),n.push(...this.serializeBufferSource(c,r+1))):n.push(...this.serializeBufferSource(c,r));else if("toTextObject"in c){let u=c.toTextObject();u[Sr.NAME]=a,n.push(...this.serializeObj(u,r))}else throw new TypeError("Cannot serialize data in text format. Unsupported type.")}return n}static serializeBufferSource(e,r=0){let n=this.pad(r),i=We.toUint8Array(e),o=[];for(let s=0;s<i.length;){let a=[];for(let c=0;c<16&&s<i.length;c++){c===8&&a.push("");let l=i[s++].toString(16).padStart(2,"0");a.push(l)}o.push(`${n}${a.join(" ")}`)}return o}static serializeAlgorithm(e){return this.algorithmSerializer.toTextObject(e)}};_m.oidSerializer=Nd;_m.algorithmSerializer=Bse;eg=class t{constructor(...e){if(e.length===1){let r=e[0];this.rawData=Ke.serialize(r),this.onInit(r)}else{let r=Ke.parse(e[0],e[1]);this.rawData=We.toArrayBuffer(e[0]),this.onInit(r)}}equal(e){return e instanceof t?hP(e.rawData,this.rawData):!1}toString(e="text"){switch(e){case"asn":return Ke.toString(this.rawData);case"text":return _m.serialize(this.toTextObject());case"hex":return at.ToHex(this.rawData);case"base64":return at.ToBase64(this.rawData);case"base64url":return at.ToBase64Url(this.rawData);default:throw TypeError("Argument 'format' is unsupported value")}}getTextName(){return this.constructor.NAME}toTextObject(){let e=this.toTextObjectEmpty();return e[""]=this.rawData,e}toTextObjectEmpty(e){return new Sr(this.getTextName(),{},e)}};eg.NAME="ASN";Al=class t extends eg{constructor(...e){let r;We.isBufferSource(e[0])?r=We.toArrayBuffer(e[0]):r=Ke.serialize(new Qo({extnID:e[0],critical:e[1],extnValue:new _t(We.toArrayBuffer(e[2]))})),super(r,Qo)}onInit(e){this.type=e.extnID,this.critical=e.critical,this.value=e.extnValue.buffer}toTextObject(){let e=this.toTextObjectWithoutValue();return e[""]=this.value,e}toTextObjectWithoutValue(){let e=this.toTextObjectEmpty(this.critical?"critical":void 0);return e[Sr.NAME]===t.NAME&&(e[Sr.NAME]=Nd.toString(this.type)),e}},J5=class t{static isCryptoKeyPair(e){return e&&e.privateKey&&e.publicKey}static isCryptoKey(e){return e&&e.usages&&e.type&&e.algorithm&&e.extractable!==void 0}constructor(){this.items=new Map,this[yWe]="CryptoProvider",typeof self<"u"&&typeof crypto<"u"?this.set(t.DEFAULT,crypto):typeof global<"u"&&global.crypto&&global.crypto.subtle&&this.set(t.DEFAULT,global.crypto)}clear(){this.items.clear()}delete(e){return this.items.delete(e)}forEach(e,r){return this.items.forEach(e,r)}has(e){return this.items.has(e)}get size(){return this.items.size}entries(){return this.items.entries()}keys(){return this.items.keys()}values(){return this.items.values()}[Symbol.iterator](){return this.items[Symbol.iterator]()}get(e=t.DEFAULT){let r=this.items.get(e.toLowerCase());if(!r)throw new Error(`Cannot get Crypto by name '${e}'`);return r}set(e,r){if(typeof e=="string"){if(!r)throw new TypeError("Argument 'value' is required");this.items.set(e.toLowerCase(),r)}else this.items.set(t.DEFAULT,e);return this}};yWe=Symbol.toStringTag;J5.DEFAULT="default";Xo=new J5,hPt=/^[0-2](?:\.[1-9][0-9]*)+$/;Uk=class{constructor(e={}){this.items={};for(let r in e)this.register(r,e[r])}get(e){return this.items[e]||null}findId(e){return gPt(e)?e:this.get(e)}register(e,r){this.items[e]=r,this.items[r]=e}},ga=new Uk;ga.register("CN","2.5.4.3");ga.register("L","2.5.4.7");ga.register("ST","2.5.4.8");ga.register("O","2.5.4.10");ga.register("OU","2.5.4.11");ga.register("C","2.5.4.6");ga.register("DC","0.9.2342.19200300.100.1.25");ga.register("E","1.2.840.113549.1.9.1");ga.register("G","2.5.4.42");ga.register("I","2.5.4.43");ga.register("SN","2.5.4.4");ga.register("T","2.5.4.12");Zh=class t{static isASCII(e){for(let r=0;r<e.length;r++)if(e.charCodeAt(r)>255)return!1;return!0}static isPrintableString(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/g.test(e)}constructor(e,r={}){this.extraNames=new Uk,this.asn=new mn;for(let n in r)if(Object.prototype.hasOwnProperty.call(r,n)){let i=r[n];this.extraNames.register(n,i)}typeof e=="string"?this.asn=this.fromString(e):e instanceof mn?this.asn=e:We.isBufferSource(e)?this.asn=Ke.parse(e,mn):this.asn=this.fromJSON(e)}getField(e){let r=this.extraNames.findId(e)||ga.findId(e),n=[];for(let i of this.asn)for(let o of i)o.type===r&&n.push(o.value.toString());return n}getName(e){return this.extraNames.get(e)||ga.get(e)}toString(){return this.asn.map(e=>e.map(r=>{let n=this.getName(r.type)||r.type,i=r.value.anyValue?`#${at.ToHex(r.value.anyValue)}`:bPt(r.value.toString());return`${n}=${i}`}).join("+")).join(", ")}toJSON(){var e;let r=[];for(let n of this.asn){let i={};for(let o of n){let s=this.getName(o.type)||o.type;(e=i[s])!==null&&e!==void 0||(i[s]=[]),i[s].push(o.value.anyValue?`#${at.ToHex(o.value.anyValue)}`:o.value.toString())}r.push(i)}return r}fromString(e){let r=new mn,n=/(\d\.[\d.]*\d|[A-Za-z]+)=((?:"")|(?:".*?[^\\]")|(?:[^,+].*?(?:[^\\][,+]))|(?:))([,+])?/g,i=null,o=",";for(;i=n.exec(`${e},`);){let[,s,a]=i,c=a[a.length-1];(c===","||c==="+")&&(a=a.slice(0,a.length-1),i[3]=c);let l=i[3];s=this.getTypeOid(s);let u=this.createAttribute(s,a);o==="+"?r[r.length-1].push(u):r.push(new Nh([u])),o=l}return r}fromJSON(e){let r=new mn;for(let n of e){let i=new Nh;for(let o in n){let s=this.getTypeOid(o),a=n[o];for(let c of a){let l=this.createAttribute(s,c);i.push(l)}}r.push(i)}return r}getTypeOid(e){if(/[\d.]+/.test(e)||(e=this.getName(e)||""),!e)throw new Error(`Cannot get OID for name type '${e}'`);return e}createAttribute(e,r){let n=new J1({type:e});if(typeof r=="object")for(let i in r)switch(i){case"ia5String":n.value.ia5String=r[i];break;case"utf8String":n.value.utf8String=r[i];break;case"universalString":n.value.universalString=r[i];break;case"bmpString":n.value.bmpString=r[i];break;case"printableString":n.value.printableString=r[i];break}else if(r[0]==="#")n.value.anyValue=at.FromHex(r.slice(1));else{let i=this.processStringValue(r);e===this.getName("E")||e===this.getName("DC")?n.value.ia5String=i:t.isPrintableString(i)?n.value.printableString=i:n.value.utf8String=i}return n}processStringValue(e){let r=/"(.*?[^\\])?"/.exec(e);return r&&(e=r[1]),e.replace(/\\0a/ig,`
`).replace(/\\0d/ig,"\r").replace(/\\0g/ig,"	").replace(/\\(.)/g,"$1")}toArrayBuffer(){return Ke.serialize(this.asn)}async getThumbprint(...e){var r;let n,i="SHA-1";return e.length>=1&&!(!((r=e[0])===null||r===void 0)&&r.subtle)?(i=e[0]||i,n=e[1]||Xo.get()):n=e[0]||Xo.get(),await n.subtle.digest(i,this.toArrayBuffer())}},bWe="Cannot initialize GeneralName from ASN.1 data.",oWe=`${bWe} Unsupported string format in use.`,vPt=`${bWe} Value doesn't match to GUID regular expression.`,sWe=/^([0-9a-f]{8})-?([0-9a-f]{4})-?([0-9a-f]{4})-?([0-9a-f]{4})-?([0-9a-f]{12})$/i,aWe="1.3.6.1.4.1.311.25.1",cWe="1.3.6.1.4.1.311.20.2.3",Ise="dns",Cse="dn",Ose="email",Nse="ip",Pse="url",kse="guid",Dse="upn",Dk="id",Od=class extends eg{constructor(...e){let r;if(e.length===2)switch(e[0]){case Cse:{let n=new Zh(e[1]).toArrayBuffer(),i=Ke.parse(n,mn);r=new Tt({directoryName:i});break}case Ise:r=new Tt({dNSName:e[1]});break;case Ose:r=new Tt({rfc822Name:e[1]});break;case kse:{let n=new RegExp(sWe,"i").exec(e[1]);if(!n)throw new Error("Cannot parse GUID value. Value doesn't match to regular expression");let i=n.slice(1).map((o,s)=>s<3?at.ToHex(new Uint8Array(at.FromHex(o)).reverse()):o).join("");r=new Tt({otherName:new Ph({typeId:aWe,value:Ke.serialize(new _t(at.FromHex(i)))})});break}case Nse:r=new Tt({iPAddress:e[1]});break;case Dk:r=new Tt({registeredID:e[1]});break;case Dse:{r=new Tt({otherName:new Ph({typeId:cWe,value:Ke.serialize(cie.toASN(e[1]))})});break}case Pse:r=new Tt({uniformResourceIdentifier:e[1]});break;default:throw new Error("Cannot create GeneralName. Unsupported type of the name")}else We.isBufferSource(e[0])?r=Ke.parse(e[0],Tt):r=e[0];super(r)}onInit(e){if(e.dNSName!=null)this.type=Ise,this.value=e.dNSName;else if(e.rfc822Name!=null)this.type=Ose,this.value=e.rfc822Name;else if(e.iPAddress!=null)this.type=Nse,this.value=e.iPAddress;else if(e.uniformResourceIdentifier!=null)this.type=Pse,this.value=e.uniformResourceIdentifier;else if(e.registeredID!=null)this.type=Dk,this.value=e.registeredID;else if(e.directoryName!=null)this.type=Cse,this.value=new Zh(e.directoryName).toString();else if(e.otherName!=null)if(e.otherName.typeId===aWe){this.type=kse;let r=Ke.parse(e.otherName.value,_t),n=new RegExp(sWe,"i").exec(at.ToHex(r));if(!n)throw new Error(vPt);this.value=n.slice(1).map((i,o)=>o<3?at.ToHex(new Uint8Array(at.FromHex(i)).reverse()):i).join("-")}else if(e.otherName.typeId===cWe)this.type=Dse,this.value=Ke.parse(e.otherName.value,Oi).toString();else throw new Error(oWe);else throw new Error(oWe)}toJSON(){return{type:this.type,value:this.value}}toTextObject(){let e;switch(this.type){case Cse:case Ise:case kse:case Nse:case Dk:case Dse:case Pse:e=this.type.toUpperCase();break;case Ose:e="Email";break;default:throw new Error("Unsupported GeneralName type")}let r=this.value;return this.type===Dk&&(r=Nd.toString(r)),new Sr(e,void 0,r)}},Ny=class extends eg{constructor(e){let r;if(e instanceof Nn)r=e;else if(Array.isArray(e)){let n=[];for(let i of e)if(i instanceof Tt)n.push(i);else{let o=Ke.parse(new Od(i.type,i.value).rawData,Tt);n.push(o)}r=new Nn(n)}else if(We.isBufferSource(e))r=Ke.parse(e,Nn);else throw new Error("Cannot initialize GeneralNames. Incorrect incoming arguments");super(r)}onInit(e){let r=[];for(let n of e){let i=null;try{i=new Od(n)}catch{continue}r.push(i)}this.items=r}toJSON(){return this.items.map(e=>e.toJSON())}toTextObject(){let e=super.toTextObjectEmpty();for(let r of this.items){let n=r.toTextObject(),i=e[n[Sr.NAME]];Array.isArray(i)||(i=[],e[n[Sr.NAME]]=i),i.push(n)}return e}};Ny.NAME="GeneralNames";K5="-{5}",Q5="\\n",_Pt=`[^${Q5}]+`,SPt=`${K5}BEGIN (${_Pt}(?=${K5}))${K5}`,wPt=`${K5}END \\1${K5}`,SS="\\n",xPt=`[^:${Q5}]+`,APt=`(?:[^${Q5}]+${SS}(?: +[^${Q5}]+${SS})*)`,EPt="[a-zA-Z0-9=+/]+",RPt=`(?:${EPt}${SS})+`,lWe=`${SPt}${SS}(?:((?:${xPt}: ${APt})+))?${SS}?(${RPt})${wPt}`,As=class{static isPem(e){return typeof e=="string"&&new RegExp(lWe,"g").test(e)}static decodeWithHeaders(e){e=e.replace(/\r/g,"");let r=new RegExp(lWe,"g"),n=[],i=null;for(;i=r.exec(e);){let o=i[3].replace(new RegExp(`[${Q5}]+`,"g"),""),s={type:i[1],headers:[],rawData:at.FromBase64(o)},a=i[2];if(a){let c=a.split(new RegExp(SS,"g")),l=null;for(let u of c){let[d,p]=u.split(/:(.*)/);if(p===void 0){if(!l)throw new Error("Cannot parse PEM string. Incorrect header value");l.value+=d.trim()}else l&&s.headers.push(l),l={key:d,value:p.trim()}}l&&s.headers.push(l)}n.push(s)}return n}static decode(e){return this.decodeWithHeaders(e).map(n=>n.rawData)}static decodeFirst(e){let r=this.decode(e);if(!r.length)throw new RangeError("PEM string doesn't contain any objects");return r[0]}static encode(e,r){if(Array.isArray(e)){let n=new Array;return r?e.forEach(i=>{if(!We.isBufferSource(i))throw new TypeError("Cannot encode array of BufferSource in PEM format. Not all items of the array are BufferSource");n.push(this.encodeStruct({type:r,rawData:We.toArrayBuffer(i)}))}):e.forEach(i=>{if(!("type"in i))throw new TypeError("Cannot encode array of PemStruct in PEM format. Not all items of the array are PemStrut");n.push(this.encodeStruct(i))}),n.join(`
`)}else{if(!r)throw new Error("Required argument 'tag' is missed");return this.encodeStruct({type:r,rawData:We.toArrayBuffer(e)})}}static encodeStruct(e){var r;let n=e.type.toLocaleUpperCase(),i=[];if(i.push(`-----BEGIN ${n}-----`),!((r=e.headers)===null||r===void 0)&&r.length){for(let l of e.headers)i.push(`${l.key}: ${l.value}`);i.push("")}let o=at.ToBase64(e.rawData),s,a=0,c=Array();for(;a<o.length&&(o.length-a<64?s=o.substring(a):(s=o.substring(a,a+64),a+=64),s.length!==0);)if(c.push(s),s.length<64)break;return i.push(...c),i.push(`-----END ${n}-----`),i.join(`
`)}};As.CertificateTag="CERTIFICATE";As.CrlTag="CRL";As.CertificateRequestTag="CERTIFICATE REQUEST";As.PublicKeyTag="PUBLIC KEY";As.PrivateKeyTag="PRIVATE KEY";tg=class t extends eg{static isAsnEncoded(e){return We.isBufferSource(e)||typeof e=="string"}static toArrayBuffer(e){if(typeof e=="string"){if(As.isPem(e))return As.decode(e)[0];if(at.isHex(e))return at.FromHex(e);if(at.isBase64(e))return at.FromBase64(e);if(at.isBase64Url(e))return at.FromBase64Url(e);throw new TypeError("Unsupported format of 'raw' argument. Must be one of DER, PEM, HEX, Base64, or Base4Url")}else{let r=at.ToBinary(e);return As.isPem(r)?As.decode(r)[0]:at.isHex(r)?at.FromHex(r):at.isBase64(r)?at.FromBase64(r):at.isBase64Url(r)?at.FromBase64Url(r):We.toArrayBuffer(e)}}constructor(...e){t.isAsnEncoded(e[0])?super(t.toArrayBuffer(e[0]),e[1]):super(e[0])}toString(e="pem"){switch(e){case"pem":return As.encode(this.rawData,this.tag);default:return super.toString(e)}}},Xh=class t extends tg{static async create(e,r=Xo.get()){if(e instanceof t)return e;if(J5.isCryptoKey(e)){if(e.type!=="public")throw new TypeError("Public key is required");let n=await r.subtle.exportKey("spki",e);return new t(n)}else{if(e.publicKey)return e.publicKey;if(We.isBufferSource(e))return new t(e);throw new TypeError("Unsupported PublicKeyType")}}constructor(e){tg.isAsnEncoded(e)?super(e,Jo):super(e),this.tag=As.PublicKeyTag}async export(...e){let r,n=["verify"],i={hash:"SHA-256",...this.algorithm};e.length>1?(i=e[0]||i,n=e[1]||n,r=e[2]||Xo.get()):r=e[0]||Xo.get();let o=this.rawData,s=Ke.parse(this.rawData,Jo);return s.algorithm.algorithm===jh&&(o=TPt(s,o)),r.subtle.importKey("spki",o,i,!0,n)}onInit(e){let r=Pn.resolve(_S),n=this.algorithm=r.toWebAlgorithm(e.algorithm);switch(e.algorithm.algorithm){case Rd:{let i=Ke.parse(e.subjectPublicKey,fS),o=We.toUint8Array(i.modulus);n.publicExponent=We.toUint8Array(i.publicExponent),n.modulusLength=(o[0]?o:o.slice(1)).byteLength<<3;break}}}async getThumbprint(...e){var r;let n,i="SHA-1";return e.length>=1&&!(!((r=e[0])===null||r===void 0)&&r.subtle)?(i=e[0]||i,n=e[1]||Xo.get()):n=e[0]||Xo.get(),await n.subtle.digest(i,this.rawData)}async getKeyIdentifier(...e){let r,n="SHA-1";e.length===1?typeof e[0]=="string"?(n=e[0],r=Xo.get()):r=e[0]:e.length===2?(n=e[0],r=e[1]):r=Xo.get();let i=Ke.parse(this.rawData,Jo);return await r.subtle.digest(n,i.subjectPublicKey)}toTextObject(){let e=this.toTextObjectEmpty(),r=Ke.parse(this.rawData,Jo);switch(e.Algorithm=_m.serializeAlgorithm(r.algorithm),r.algorithm.algorithm){case by:e["EC Point"]=r.subjectPublicKey;break;case Rd:default:e["Raw Data"]=r.subjectPublicKey}return e}};Fk=class t extends Al{static async create(e,r=!1,n=Xo.get()){if("name"in e&&"serialNumber"in e)return new t(e,r);let o=await(await Xh.create(e,n)).getKeyIdentifier(n);return new t(at.ToHex(o),r)}constructor(...e){if(We.isBufferSource(e[0]))super(e[0]);else if(typeof e[0]=="string"){let r=new Sd({keyIdentifier:new ey(at.FromHex(e[0]))});super(BP,e[1],Ke.serialize(r))}else{let r=e[0],n=r.name instanceof Ny?Ke.parse(r.name.rawData,Nn):r.name,i=new Sd({authorityCertIssuer:n,authorityCertSerialNumber:at.FromHex(r.serialNumber)});super(BP,e[1],Ke.serialize(i))}}onInit(e){super.onInit(e);let r=Ke.parse(e.extnValue,Sd);r.keyIdentifier&&(this.keyId=at.ToHex(r.keyIdentifier)),(r.authorityCertIssuer||r.authorityCertSerialNumber)&&(this.certId={name:r.authorityCertIssuer||[],serialNumber:r.authorityCertSerialNumber?at.ToHex(r.authorityCertSerialNumber):""})}toTextObject(){let e=this.toTextObjectWithoutValue(),r=Ke.parse(this.value,Sd);return r.authorityCertIssuer&&(e["Authority Issuer"]=new Ny(r.authorityCertIssuer).toTextObject()),r.authorityCertSerialNumber&&(e["Authority Serial Number"]=r.authorityCertSerialNumber),r.keyIdentifier&&(e[""]=r.keyIdentifier),e}};Fk.NAME="Authority Key Identifier";zk=class extends Al{constructor(...e){if(We.isBufferSource(e[0])){super(e[0]);let r=Ke.parse(this.value,ty);this.ca=r.cA,this.pathLength=r.pathLenConstraint}else{let r=new ty({cA:e[0],pathLenConstraint:e[1]});super(UP,e[2],Ke.serialize(r)),this.ca=e[0],this.pathLength=e[1]}}toTextObject(){let e=this.toTextObjectWithoutValue();return this.ca&&(e.CA=this.ca),this.pathLength!==void 0&&(e["Path Length"]=this.pathLength),e}};zk.NAME="Basic Constraints";(function(t){t.serverAuth="1.3.6.1.5.5.7.3.1",t.clientAuth="1.3.6.1.5.5.7.3.2",t.codeSigning="1.3.6.1.5.5.7.3.3",t.emailProtection="1.3.6.1.5.5.7.3.4",t.timeStamping="1.3.6.1.5.5.7.3.8",t.ocspSigning="1.3.6.1.5.5.7.3.9"})(uWe||(uWe={}));Vk=class extends Al{constructor(...e){if(We.isBufferSource(e[0])){super(e[0]);let r=Ke.parse(this.value,c5);this.usages=r.map(n=>n)}else{let r=new c5(e[0]);super(qP,e[1],Ke.serialize(r)),this.usages=e[0]}}toTextObject(){let e=this.toTextObjectWithoutValue();return e[""]=this.usages.map(r=>Nd.toString(r)).join(", "),e}};Vk.NAME="Extended Key Usages";(function(t){t[t.digitalSignature=1]="digitalSignature",t[t.nonRepudiation=2]="nonRepudiation",t[t.keyEncipherment=4]="keyEncipherment",t[t.dataEncipherment=8]="dataEncipherment",t[t.keyAgreement=16]="keyAgreement",t[t.keyCertSign=32]="keyCertSign",t[t.cRLSign=64]="cRLSign",t[t.encipherOnly=128]="encipherOnly",t[t.decipherOnly=256]="decipherOnly"})(dWe||(dWe={}));jk=class extends Al{constructor(...e){if(We.isBufferSource(e[0])){super(e[0]);let r=Ke.parse(this.value,W2);this.usages=r.toNumber()}else{let r=new W2(e[0]);super(HP,e[1],Ke.serialize(r)),this.usages=e[0]}}toTextObject(){let e=this.toTextObjectWithoutValue(),r=Ke.parse(this.value,W2);return e[""]=r.toJSON().join(", "),e}};jk.NAME="Key Usages";qk=class t extends Al{static async create(e,r=!1,n=Xo.get()){let o=await(await Xh.create(e,n)).getKeyIdentifier(n);return new t(at.ToHex(o),r)}constructor(...e){if(We.isBufferSource(e[0])){super(e[0]);let r=Ke.parse(this.value,da);this.keyId=at.ToHex(r)}else{let r=typeof e[0]=="string"?at.FromHex(e[0]):e[0],n=new da(r);super(Fie,e[1],Ke.serialize(n)),this.keyId=at.ToHex(r)}}toTextObject(){let e=this.toTextObjectWithoutValue(),r=Ke.parse(this.value,da);return e[""]=r,e}};qk.NAME="Subject Key Identifier";Hk=class extends Al{constructor(...e){We.isBufferSource(e[0])?super(e[0]):super(Lie,e[1],new Ny(e[0]||[]).rawData)}onInit(e){super.onInit(e);let r=Ke.parse(e.extnValue,YP);this.names=new Ny(r)}toTextObject(){let e=this.toTextObjectWithoutValue(),r=this.names.toTextObject();for(let n in r)e[n]=r[n];return e}};Hk.NAME="Subject Alternative Name";ya=class{static register(e,r){this.items.set(e,r)}static create(e){let r=new Al(e),n=this.items.get(r.type);return n?new n(e):r}};ya.items=new Map;Wk=class extends Al{constructor(...e){var r;if(We.isBufferSource(e[0])){super(e[0]);let n=Ke.parse(this.value,n5);this.policies=n.map(i=>i.policyIdentifier)}else{let n=e[0],i=(r=e[1])!==null&&r!==void 0?r:!1,o=new n5(n.map(s=>new ry({policyIdentifier:s})));super(zP,i,Ke.serialize(o)),this.policies=n}}toTextObject(){let e=this.toTextObjectWithoutValue();return e.Policy=this.policies.map(r=>new Sr("",{},Nd.toString(r))),e}};Wk.NAME="Certificate Policies";ya.register(zP,Wk);Gk=class extends Al{constructor(...e){var r;if(We.isBufferSource(e[0]))super(e[0]);else if(Array.isArray(e[0])&&typeof e[0][0]=="string"){let i=e[0].map(s=>new wd({distributionPoint:new fm({fullName:[new Tt({uniformResourceIdentifier:s})]})})),o=new Mh(i);super(VP,e[1],Ke.serialize(o))}else{let n=new Mh(e[0]);super(VP,e[1],Ke.serialize(n))}(r=this.distributionPoints)!==null&&r!==void 0||(this.distributionPoints=[])}onInit(e){super.onInit(e);let r=Ke.parse(e.extnValue,Mh);this.distributionPoints=r}toTextObject(){let e=this.toTextObjectWithoutValue();return e["Distribution Point"]=this.distributionPoints.map(r=>{var n;let i={};return r.distributionPoint&&(i[""]=(n=r.distributionPoint.fullName)===null||n===void 0?void 0:n.map(o=>new Od(o).toString()).join(", ")),r.reasons&&(i.Reasons=r.reasons.toString()),r.cRLIssuer&&(i["CRL Issuer"]=r.cRLIssuer.map(o=>o.toString()).join(", ")),i}),e}};Gk.NAME="CRL Distribution Points";Kk=class extends Al{constructor(...e){var r,n,i,o;if(We.isBufferSource(e[0]))super(e[0]);else if(e[0]instanceof X1){let s=new X1(e[0]);super(LP,e[1],Ke.serialize(s))}else{let s=e[0],a=new X1;$k(a,s,bie,"ocsp"),$k(a,s,vie,"caIssuers"),$k(a,s,_ie,"timeStamping"),$k(a,s,Sie,"caRepository"),super(LP,e[1],Ke.serialize(a))}(r=this.ocsp)!==null&&r!==void 0||(this.ocsp=[]),(n=this.caIssuers)!==null&&n!==void 0||(this.caIssuers=[]),(i=this.timeStamping)!==null&&i!==void 0||(this.timeStamping=[]),(o=this.caRepository)!==null&&o!==void 0||(this.caRepository=[])}onInit(e){super.onInit(e),this.ocsp=[],this.caIssuers=[],this.timeStamping=[],this.caRepository=[],Ke.parse(e.extnValue,X1).forEach(n=>{switch(n.accessMethod){case bie:this.ocsp.push(new Od(n.accessLocation));break;case vie:this.caIssuers.push(new Od(n.accessLocation));break;case _ie:this.timeStamping.push(new Od(n.accessLocation));break;case Sie:this.caRepository.push(new Od(n.accessLocation));break}})}toTextObject(){let e=this.toTextObjectWithoutValue();return this.ocsp.length&&Mk(e,"OCSP",this.ocsp),this.caIssuers.length&&Mk(e,"CA Issuers",this.caIssuers),this.timeStamping.length&&Mk(e,"Time Stamping",this.timeStamping),this.caRepository.length&&Mk(e,"CA Repository",this.caRepository),e}};Kk.NAME="Authority Info Access";wS=class t extends eg{constructor(...e){let r;if(We.isBufferSource(e[0]))r=We.toArrayBuffer(e[0]);else{let n=e[0],i=Array.isArray(e[1])?e[1].map(o=>We.toArrayBuffer(o)):[];r=Ke.serialize(new Ao({type:n,values:i}))}super(r,Ao)}onInit(e){this.type=e.type,this.values=e.values}toTextObject(){let e=this.toTextObjectWithoutValue();return e.Value=this.values.map(r=>new Sr("",{"":r})),e}toTextObjectWithoutValue(){let e=this.toTextObjectEmpty();return e[Sr.NAME]===t.NAME&&(e[Sr.NAME]=Nd.toString(this.type)),e}};wS.NAME="Attribute";Yk=class extends wS{constructor(...e){var r;if(We.isBufferSource(e[0]))super(e[0]);else{let n=new j5({printableString:e[0]});super(xse,[Ke.serialize(n)])}(r=this.password)!==null&&r!==void 0||(this.password="")}onInit(e){if(super.onInit(e),this.values[0]){let r=Ke.parse(this.values[0],j5);this.password=r.toString()}}toTextObject(){let e=this.toTextObjectWithoutValue();return e[Sr.VALUE]=this.password,e}};Yk.NAME="Challenge Password";Z5=class extends wS{constructor(...e){var r;if(We.isBufferSource(e[0]))super(e[0]);else{let n=e[0],i=new vl;for(let o of n)i.push(Ke.parse(o.rawData,Qo));super(H5,[Ke.serialize(i)])}(r=this.items)!==null&&r!==void 0||(this.items=[])}onInit(e){if(super.onInit(e),this.values[0]){let r=Ke.parse(this.values[0],vl);this.items=r.map(n=>ya.create(Ke.serialize(n)))}}toTextObject(){let e=this.toTextObjectWithoutValue(),r=this.items.map(n=>n.toTextObject());for(let n of r)e[n[Sr.NAME]]=n;return e}};Z5.NAME="Extensions";xS=class{static register(e,r){this.items.set(e,r)}static create(e){let r=new wS(e),n=this.items.get(r.type);return n?new n(e):r}};xS.items=new Map;Qk="crypto.signatureFormatter",Use=class{toAsnSignature(e,r){return We.toArrayBuffer(r)}toWebSignature(e,r){return We.toArrayBuffer(r)}},Fse=Bk=class{static createPssParams(e,r){let n=Bk.getHashAlgorithm(e);return n?new Td({hashAlgorithm:n,maskGenAlgorithm:new $e({algorithm:qh,parameters:Ke.serialize(n)}),saltLength:r}):null}static getHashAlgorithm(e){let r=Pn.resolve(_S);return typeof e=="string"?r.toAsnAlgorithm({name:e}):typeof e=="object"&&e&&"name"in e?r.toAsnAlgorithm(e):null}toAsnAlgorithm(e){switch(e.name.toLowerCase()){case"rsassa-pkcs1-v1_5":if("hash"in e){let r;if(typeof e.hash=="string")r=e.hash;else if(e.hash&&typeof e.hash=="object"&&"name"in e.hash&&typeof e.hash.name=="string")r=e.hash.name.toUpperCase();else throw new Error("Cannot get hash algorithm name");switch(r.toLowerCase()){case"sha-1":return new $e({algorithm:lS,parameters:null});case"sha-256":return new $e({algorithm:mk,parameters:null});case"sha-384":return new $e({algorithm:uS,parameters:null});case"sha-512":return new $e({algorithm:dS,parameters:null})}}else return new $e({algorithm:Rd,parameters:null});break;case"rsa-pss":if("hash"in e){if(!("saltLength"in e&&typeof e.saltLength=="number"))throw new Error("Cannot get 'saltLength' from 'alg' argument");let r=Bk.createPssParams(e.hash,e.saltLength);if(!r)throw new Error("Cannot create PSS parameters");return new $e({algorithm:jh,parameters:Ke.serialize(r)})}else return new $e({algorithm:jh,parameters:null})}return null}toWebAlgorithm(e){switch(e.algorithm){case Rd:return{name:"RSASSA-PKCS1-v1_5"};case lS:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case mk:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case uS:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case dS:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case jh:if(e.parameters){let r=Ke.parse(e.parameters,Td);return{name:"RSA-PSS",hash:Pn.resolve(_S).toWebAlgorithm(r.hashAlgorithm),saltLength:r.saltLength}}else return{name:"RSA-PSS"}}return null}};Fse=Bk=T([Gh()],Fse);Pn.registerSingleton(X5,Fse);zse=class{toAsnAlgorithm(e){switch(e.name.toLowerCase()){case"sha-1":return new $e({algorithm:_y});case"sha-256":return new $e({algorithm:Sy});case"sha-384":return new $e({algorithm:wy});case"sha-512":return new $e({algorithm:xy})}return null}toWebAlgorithm(e){switch(e.algorithm){case _y:return{name:"SHA-1"};case Sy:return{name:"SHA-256"};case wy:return{name:"SHA-384"};case xy:return{name:"SHA-512"}}return null}};zse=T([Gh()],zse);Pn.registerSingleton(X5,zse);Sm=class t{addPadding(e,r){let n=We.toUint8Array(r),i=new Uint8Array(e);return i.set(n,e-n.length),i}removePadding(e,r=!1){let n=We.toUint8Array(e);for(let i=0;i<n.length;i++)if(n[i]){n=n.slice(i);break}if(r&&n[0]>127){let i=new Uint8Array(n.length+1);return i.set(n,1),i.buffer}return n.buffer}toAsnSignature(e,r){if(e.name==="ECDSA"){let n=e.namedCurve,i=t.namedCurveSize.get(n)||t.defaultNamedCurveSize,o=new vy,s=We.toUint8Array(r);return o.r=this.removePadding(s.slice(0,i),!0),o.s=this.removePadding(s.slice(i,i+i),!0),Ke.serialize(o)}return null}toWebSignature(e,r){if(e.name==="ECDSA"){let n=Ke.parse(r,vy),i=e.namedCurve,o=t.namedCurveSize.get(i)||t.defaultNamedCurveSize,s=this.addPadding(o,this.removePadding(n.r)),a=this.addPadding(o,this.removePadding(n.s));return qze(s,a)}return null}};Sm.namedCurveSize=new Map;Sm.defaultNamedCurveSize=32;Mse="1.3.101.110",pWe="1.3.101.111",$se="1.3.101.112",mWe="1.3.101.113",Vse=class{toAsnAlgorithm(e){let r=null;switch(e.name.toLowerCase()){case"ed25519":r=$se;break;case"x25519":r=Mse;break;case"eddsa":switch(e.namedCurve.toLowerCase()){case"ed25519":r=$se;break;case"ed448":r=mWe;break}break;case"ecdh-es":switch(e.namedCurve.toLowerCase()){case"x25519":r=Mse;break;case"x448":r=pWe;break}}return r?new $e({algorithm:r}):null}toWebAlgorithm(e){switch(e.algorithm){case $se:return{name:"Ed25519"};case mWe:return{name:"EdDSA",namedCurve:"Ed448"};case Mse:return{name:"X25519"};case pWe:return{name:"ECDH-ES",namedCurve:"X448"}}return null}};Vse=T([Gh()],Vse);Pn.registerSingleton(X5,Vse);jse=class extends tg{constructor(e){tg.isAsnEncoded(e)?super(e,Qh):super(e),this.tag=As.CertificateRequestTag}onInit(e){this.tbs=Ke.serialize(e.certificationRequestInfo),this.publicKey=new Xh(e.certificationRequestInfo.subjectPKInfo);let r=Pn.resolve(_S);this.signatureAlgorithm=r.toWebAlgorithm(e.signatureAlgorithm),this.signature=e.signature,this.attributes=e.certificationRequestInfo.attributes.map(i=>xS.create(Ke.serialize(i)));let n=this.getAttribute(H5);this.extensions=[],n instanceof Z5&&(this.extensions=n.items),this.subjectName=new Zh(e.certificationRequestInfo.subject),this.subject=this.subjectName.toString()}getAttribute(e){for(let r of this.attributes)if(r.type===e)return r;return null}getAttributes(e){return this.attributes.filter(r=>r.type===e)}getExtension(e){for(let r of this.extensions)if(r.type===e)return r;return null}getExtensions(e){return this.extensions.filter(r=>r.type===e)}async verify(e=Xo.get()){let r={...this.publicKey.algorithm,...this.signatureAlgorithm},n=await this.publicKey.export(r,["verify"],e),i=Pn.resolveAll(Qk).reverse(),o=null;for(let a of i)if(o=a.toWebSignature(r,this.signature),o)break;if(!o)throw Error("Cannot convert WebCrypto signature value to ASN.1 format");return await e.subtle.verify(this.signatureAlgorithm,n,o,this.tbs)}toTextObject(){let e=this.toTextObjectEmpty(),r=Ke.parse(this.rawData,Qh),n=r.certificationRequestInfo,i=new Sr("",{Version:`${hm[n.version]} (${n.version})`,Subject:this.subject,"Subject Public Key Info":this.publicKey});if(this.attributes.length){let o=new Sr("");for(let s of this.attributes){let a=s.toTextObject();o[a[Sr.NAME]]=a}i.Attributes=o}return e.Data=i,e.Signature=new Sr("",{Algorithm:_m.serializeAlgorithm(r.signatureAlgorithm),"":r.signature}),e}};jse.NAME="PKCS#10 Certificate Request";Jk=class extends tg{constructor(e){tg.isAsnEncoded(e)?super(e,lu):super(e),this.tag=As.CertificateTag}onInit(e){let r=e.tbsCertificate;this.tbs=Ke.serialize(r),this.serialNumber=at.ToHex(r.serialNumber),this.subjectName=new Zh(r.subject),this.subject=new Zh(r.subject).toString(),this.issuerName=new Zh(r.issuer),this.issuer=this.issuerName.toString();let n=Pn.resolve(_S);this.signatureAlgorithm=n.toWebAlgorithm(e.signatureAlgorithm),this.signature=e.signatureValue;let i=r.validity.notBefore.utcTime||r.validity.notBefore.generalTime;if(!i)throw new Error("Cannot get 'notBefore' value");this.notBefore=i;let o=r.validity.notAfter.utcTime||r.validity.notAfter.generalTime;if(!o)throw new Error("Cannot get 'notAfter' value");this.notAfter=o,this.extensions=[],r.extensions&&(this.extensions=r.extensions.map(s=>ya.create(Ke.serialize(s)))),this.publicKey=new Xh(r.subjectPublicKeyInfo)}getExtension(e){for(let r of this.extensions)if(typeof e=="string"){if(r.type===e)return r}else if(r instanceof e)return r;return null}getExtensions(e){return this.extensions.filter(r=>typeof e=="string"?r.type===e:r instanceof e)}async verify(e={},r=Xo.get()){let n,i,o=e.publicKey;try{if(!o)n={...this.publicKey.algorithm,...this.signatureAlgorithm},i=await this.publicKey.export(n,["verify"],r);else if("publicKey"in o)n={...o.publicKey.algorithm,...this.signatureAlgorithm},i=await o.publicKey.export(n,["verify"],r);else if(o instanceof Xh)n={...o.algorithm,...this.signatureAlgorithm},i=await o.export(n,["verify"],r);else if(We.isBufferSource(o)){let l=new Xh(o);n={...l.algorithm,...this.signatureAlgorithm},i=await l.export(n,["verify"],r)}else n={...o.algorithm,...this.signatureAlgorithm},i=o}catch{return!1}let s=Pn.resolveAll(Qk).reverse(),a=null;for(let l of s)if(a=l.toWebSignature(n,this.signature),a)break;if(!a)throw Error("Cannot convert ASN.1 signature value to WebCrypto format");let c=await r.subtle.verify(this.signatureAlgorithm,i,a,this.tbs);if(e.signatureOnly)return c;{let u=(e.date||new Date).getTime();return c&&this.notBefore.getTime()<u&&u<this.notAfter.getTime()}}async getThumbprint(...e){let r,n="SHA-1";return e[0]&&(e[0].subtle?r=e[0]:(n=e[0]||n,r=e[1])),r??(r=Xo.get()),await r.subtle.digest(n,this.rawData)}async isSelfSigned(e=Xo.get()){return this.subject===this.issuer&&await this.verify({signatureOnly:!0},e)}toTextObject(){let e=this.toTextObjectEmpty(),r=Ke.parse(this.rawData,lu),n=r.tbsCertificate,i=new Sr("",{Version:`${hm[n.version]} (${n.version})`,"Serial Number":n.serialNumber,"Signature Algorithm":_m.serializeAlgorithm(n.signature),Issuer:this.issuer,Validity:new Sr("",{"Not Before":n.validity.notBefore.getTime(),"Not After":n.validity.notAfter.getTime()}),Subject:this.subject,"Subject Public Key Info":this.publicKey});if(n.issuerUniqueID&&(i["Issuer Unique ID"]=n.issuerUniqueID),n.subjectUniqueID&&(i["Subject Unique ID"]=n.subjectUniqueID),this.extensions.length){let o=new Sr("");for(let s of this.extensions){let a=s.toTextObject();o[a[Sr.NAME]]=a}i.Extensions=o}return e.Data=i,e.Signature=new Sr("",{Algorithm:_m.serializeAlgorithm(r.signatureAlgorithm),"":r.signatureValue}),e}};Jk.NAME="Certificate";(function(t){t[t.unspecified=0]="unspecified",t[t.keyCompromise=1]="keyCompromise",t[t.cACompromise=2]="cACompromise",t[t.affiliationChanged=3]="affiliationChanged",t[t.superseded=4]="superseded",t[t.cessationOfOperation=5]="cessationOfOperation",t[t.certificateHold=6]="certificateHold",t[t.removeFromCRL=8]="removeFromCRL",t[t.privilegeWithdrawn=9]="privilegeWithdrawn",t[t.aACompromise=10]="aACompromise"})(fWe||(fWe={}));ya.register(UP,zk);ya.register(qP,Vk);ya.register(HP,jk);ya.register(Fie,qk);ya.register(BP,Fk);ya.register(Lie,Hk);ya.register(VP,Gk);ya.register(LP,Kk);xS.register(xse,Yk);xS.register(H5,Z5);Pn.registerSingleton(Qk,Use);Pn.registerSingleton(Qk,Sm);Sm.namedCurveSize.set("P-256",32);Sm.namedCurveSize.set("K-256",32);Sm.namedCurveSize.set("P-384",48);Sm.namedCurveSize.set("P-521",66)});var _We,SWe=g(()=>{"use strict";fd();_We=Ni(zze(),1);vWe();dP()});var qse=g(()=>{"use strict";Xne();Uze();SWe()});function wWe(t){if(t.length%2!=0)throw new Error("Hex string length must be multiple of 2");let e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2)e[r/2]=parseInt(t.substring(r,r+2),16);return e}function xWe(t){let e="";for(let r=0;r<t.length;r++){let n=t[r].toString(16);e+=n.length>1?n:"0"+n}return e}function eR(t,e){return btoa(OPt(t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function OPt(t){let e="";for(let r=0;r<t.length;r+=1)e+=String.fromCharCode(t[r]);return e}var AWe=g(()=>{"use strict";});function Xk(){return BigInt("115792089210356248762697446949407573530086143415290314195533631308867097853951")}function EWe(){return BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b")}function Hse(t){return BigInt("0x"+xWe(t))}function Zk(t,e){let r=t.toString(16),n=e*2,i="";if(n<r.length)throw new Error(`cannot pack integer with ${r.length} hex chars into ${e} bytes`);return i="0".repeat(n-r.length),wWe(i+r)}function Wse(t,e){let r=BigInt(1)<<BigInt(e);return(t&r)!==BigInt(0)}function NPt(t,e,r){if(e===BigInt(0))return BigInt(1);let n=t,i=e.toString(2);for(let o=1;o<i.length;++o)n=n*n%r,i[o]==="1"&&(n=n*t%r);return n}function PPt(t,e){if(e<=BigInt(0))throw new Error("p must be positive");let r=t%e;if(Wse(e,0)&&Wse(e,1)){let n=e+BigInt(1)>>BigInt(2),i=NPt(r,n,e);if(i*i%e!==r)throw new Error("could not find a modular square root");return i}throw new Error("unsupported modulus value")}function kPt(t,e){let r=Xk(),n=r-BigInt(3),i=EWe(),o=((t*t+n)*t+i)%r,s=PPt(o,r);return e!==Wse(s,0)&&(s=(r-s)%r),s}function DPt(t,e){let r=Xk(),n=r-BigInt(3),i=EWe(),o=((t*t+n)*t+i)%r;return e**BigInt(2)%r===o}function Gse(t){let e=MPt(),r=e+1,n=2*e+1;if(t.length!==r&&t.length!==n)throw new Error("Invalid length: point is not in compressed or uncompressed format");if((t[0]===2||t[0]===3)&&t.length==r){let i=t[0]===3,o=Hse(t.subarray(1,t.length)),s=Xk();if(o<BigInt(0)||o>=s)throw new Error("x is out of range");let a=kPt(o,i);return{kty:"EC",crv:"P-256",x:eR(Zk(o,32)),y:eR(Zk(a,32)),ext:!0}}else if(t[0]===4&&t.length==n){let i=Hse(t.subarray(1,e+1)),o=Hse(t.subarray(e+1,2*e+1)),s=Xk();if(i<BigInt(0)||i>=s||o<BigInt(0)||o>=s||!DPt(i,o))throw new Error("invalid uncompressed x and y coordinates");return{kty:"EC",crv:"P-256",x:eR(Zk(i,32)),y:eR(Zk(o,32)),ext:!0}}throw new Error("invalid format")}function MPt(){return 32}var Kse=g(()=>{"use strict";AWe();});function eD(t){let{uncompressedPrivateKeyHex:e,compressedPublicKeyHex:r}=t,n;try{n=Gse(Zp(r))}catch{throw new Error("unable to load API key: invalid public key. Did you switch your public and private key by accident? Is your public key a valid, compressed P-256 public key?")}return n.d=Bne(e,Tze),n}var Yse=g(()=>{"use strict";Kse();fd()});var TWe={};lr(TWe,{signWithApiKey:()=>$Pt});async function LPt(t){let{uncompressedPrivateKeyHex:e,compressedPublicKeyHex:r}=t,n=eD({uncompressedPrivateKeyHex:e,compressedPublicKeyHex:r});return await crypto.subtle.importKey("jwk",n,{name:"ECDSA",namedCurve:"P-256"},!1,["sign"])}async function BPt(t){let{key:e,content:r}=t,n=await crypto.subtle.sign({name:"ECDSA",hash:"SHA-256"},e,new TextEncoder().encode(r)),i=UPt(new Uint8Array(n));return pd(i)}function UPt(t){if(t.length%2!=0||t.length==0||t.length>132)throw new Error("Invalid IEEE P1363 signature encoding. Length: "+t.length);let e=RWe(t.subarray(0,t.length/2)),r=RWe(t.subarray(t.length/2,t.length)),n=0,i=2+e.length+1+1+r.length,o;return i>=128?(o=new Uint8Array(i+3),o[n++]=48,o[n++]=129,o[n++]=i):(o=new Uint8Array(i+2),o[n++]=48,o[n++]=i),o[n++]=2,o[n++]=e.length,o.set(e,n),n+=e.length,o[n++]=2,o[n++]=r.length,o.set(r,n),o}function RWe(t){let e=0;for(;e<t.length&&t[e]==0;)e++;e==t.length&&(e=t.length-1);let r=0;(t[e]&128)==128&&(r=1);let n=new Uint8Array(t.length-e+r);return n.set(t.subarray(e),r),n}var $Pt,IWe=g(()=>{"use strict";Yse();fd();$Pt=async t=>{let{content:e,publicKey:r,privateKey:n}=t,i=await LPt({uncompressedPrivateKeyHex:n,compressedPublicKeyHex:r});return await BPt({key:i,content:e})}});var CWe={};lr(CWe,{signWithApiKey:()=>FPt});import*as tD from"crypto";var FPt,OWe=g(()=>{"use strict";Yse();FPt=async t=>{let{content:e,publicKey:r,privateKey:n}=t,i=tD.createPrivateKey({key:eD({uncompressedPrivateKeyHex:n,compressedPublicKeyHex:r}),format:"jwk"}),o=tD.createSign("SHA256");return o.write(Buffer.from(e)),o.end(),o.sign(i,"hex")}});function wm(t,e=""){if(typeof t!="boolean"){let r=e&&`"${e}"`;throw new Error(r+"expected boolean, got type="+typeof t)}return t}function Ga(t,e,r=""){let n=tm(t),i=t?.length,o=e!==void 0;if(!n||o&&i!==e){let s=r&&`"${r}" `,a=o?` of length ${e}`:"",c=n?`length=${i}`:`type=${typeof t}`;throw new Error(s+"expected Uint8Array"+a+", got "+c)}return t}function tR(t){let e=t.toString(16);return e.length&1?"0"+e:e}function NWe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Zse:BigInt("0x"+t)}function AS(t){return NWe(fl(t))}function xm(t){return _o(t),NWe(fl(Uint8Array.from(t).reverse()))}function rD(t,e){return I1(t.toString(16).padStart(e*2,"0"))}function Xse(t,e){return rD(t,e).reverse()}function Kr(t,e,r){let n;if(typeof e=="string")try{n=I1(e)}catch(o){throw new Error(t+" must be hex string or Uint8Array, cause: "+o)}else if(tm(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function PWe(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function eae(t){return Uint8Array.from(t)}function kWe(t,e,r){return Jse(t)&&Jse(e)&&Jse(r)&&e<=t&&t<r}function rR(t,e,r,n){if(!kWe(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function nD(t){let e;for(e=0;t>Zse;t>>=Qse,e+=1);return e}function DWe(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=m=>new Uint8Array(m),i=m=>Uint8Array.of(m),o=n(t),s=n(t),a=0,c=()=>{o.fill(1),s.fill(0),a=0},l=(...m)=>r(s,o,...m),u=(m=n(0))=>{s=l(i(0),m),o=l(),m.length!==0&&(s=l(i(1),m),o=l())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let m=0,h=[];for(;m<e;){o=l();let f=o.slice();h.push(f),m+=o.length}return Ss(...h)};return(m,h)=>{c(),u(m);let f;for(;!(f=h(d()));)u();return c(),f}}function ng(t,e,r={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function n(i,o,s){let a=t[i];if(s&&a===void 0)return;let c=typeof a;if(c!==o||a===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${c}`)}Object.entries(e).forEach(([i,o])=>n(i,o,!1)),Object.entries(r).forEach(([i,o])=>n(i,o,!0))}function ES(t){let e=new WeakMap;return(r,...n)=>{let i=e.get(r);if(i!==void 0)return i;let o=t(r,...n);return e.set(r,o),o}}var Zse,Qse,Jse,rg,tae,RS=g(()=>{"use strict";nm();nm();Zse=BigInt(0),Qse=BigInt(1);Jse=t=>typeof t=="bigint"&&Zse<=t;rg=t=>(Qse<<BigInt(t))-Qse;tae=()=>{throw new Error("not implemented")}});function Zn(t,e){let r=t%e;return r>=Es?r:e+r}function kn(t,e,r){let n=t;for(;e-- >Es;)n*=n,n%=r;return n}function MWe(t,e){if(t===Es)throw new Error("invert: expected non-zero number");if(e<=Es)throw new Error("invert: expected positive modulus, got "+e);let r=Zn(t,e),n=e,i=Es,o=io,s=io,a=Es;for(;r!==Es;){let l=n/r,u=n%r,d=i-s*l,p=o-a*l;n=r,r=u,i=s,o=a,s=d,a=p}if(n!==io)throw new Error("invert: does not exist");return Zn(i,e)}function rae(t,e,r){if(!t.eql(t.sqr(e),r))throw new Error("Cannot find square root")}function VWe(t,e){let r=(t.ORDER+io)/BWe,n=t.pow(e,r);return rae(t,n,e),n}function jPt(t,e){let r=(t.ORDER-UWe)/FWe,n=t.mul(e,Py),i=t.pow(n,r),o=t.mul(e,i),s=t.mul(t.mul(o,Py),i),a=t.mul(o,t.sub(s,t.ONE));return rae(t,a,e),a}function qPt(t){let e=To(t),r=jWe(t),n=r(e,e.neg(e.ONE)),i=r(e,n),o=r(e,e.neg(n)),s=(t+zPt)/zWe;return(a,c)=>{let l=a.pow(c,s),u=a.mul(l,n),d=a.mul(l,i),p=a.mul(l,o),m=a.eql(a.sqr(u),c),h=a.eql(a.sqr(d),c);l=a.cmov(l,u,m),u=a.cmov(p,d,h);let f=a.eql(a.sqr(u),c),y=a.cmov(l,u,f);return rae(a,y,c),y}}function jWe(t){if(t<LWe)throw new Error("sqrt is not defined for small field");let e=t-io,r=0;for(;e%Py===Es;)e/=Py,r++;let n=Py,i=To(t);for(;$We(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return VWe;let o=i.pow(n,e),s=(e+io)/Py;return function(c,l){if(c.is0(l))return l;if($We(c,l)!==1)throw new Error("Cannot find square root");let u=r,d=c.mul(c.ONE,o),p=c.pow(l,e),m=c.pow(l,s);for(;!c.eql(p,c.ONE);){if(c.is0(p))return c.ZERO;let h=1,f=c.sqr(p);for(;!c.eql(f,c.ONE);)if(h++,f=c.sqr(f),h===u)throw new Error("Cannot find square root");let y=io<<BigInt(u-h-1),v=c.pow(d,y);u=h,d=c.sqr(v),p=c.mul(p,d),m=c.mul(m,v)}return m}}function HPt(t){return t%BWe===LWe?VWe:t%FWe===UWe?jPt:t%zWe===VPt?qPt(t):jWe(t)}function nae(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=WPt.reduce((n,i)=>(n[i]="function",n),e);return ng(t,r),t}function GPt(t,e,r){if(r<Es)throw new Error("invalid exponent, negatives unsupported");if(r===Es)return t.ONE;if(r===io)return e;let n=t.ONE,i=e;for(;r>Es;)r&io&&(n=t.mul(n,i)),i=t.sqr(i),r>>=io;return n}function nR(t,e,r=!1){let n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce((s,a,c)=>t.is0(a)?s:(n[c]=s,t.mul(s,a)),t.ONE),o=t.inv(i);return e.reduceRight((s,a,c)=>t.is0(a)?s:(n[c]=t.mul(s,n[c]),t.mul(s,a)),o),n}function $We(t,e){let r=(t.ORDER-io)/Py,n=t.pow(e,r),i=t.eql(n,t.ONE),o=t.eql(n,t.ZERO),s=t.eql(n,t.neg(t.ONE));if(!i&&!o&&!s)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function iD(t,e){e!==void 0&&_h(e);let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function To(t,e,r=!1,n={}){if(t<=Es)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,o,s=!1,a;if(typeof e=="object"&&e!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");let p=e;p.BITS&&(i=p.BITS),p.sqrt&&(o=p.sqrt),typeof p.isLE=="boolean"&&(r=p.isLE),typeof p.modFromBytes=="boolean"&&(s=p.modFromBytes),a=p.allowedLengths}else typeof e=="number"&&(i=e),n.sqrt&&(o=n.sqrt);let{nBitLength:c,nByteLength:l}=iD(t,i);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u,d=Object.freeze({ORDER:t,isLE:r,BITS:c,BYTES:l,MASK:rg(c),ZERO:Es,ONE:io,allowedLengths:a,create:p=>Zn(p,t),isValid:p=>{if(typeof p!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof p);return Es<=p&&p<t},is0:p=>p===Es,isValidNot0:p=>!d.is0(p)&&d.isValid(p),isOdd:p=>(p&io)===io,neg:p=>Zn(-p,t),eql:(p,m)=>p===m,sqr:p=>Zn(p*p,t),add:(p,m)=>Zn(p+m,t),sub:(p,m)=>Zn(p-m,t),mul:(p,m)=>Zn(p*m,t),pow:(p,m)=>GPt(d,p,m),div:(p,m)=>Zn(p*MWe(m,t),t),sqrN:p=>p*p,addN:(p,m)=>p+m,subN:(p,m)=>p-m,mulN:(p,m)=>p*m,inv:p=>MWe(p,t),sqrt:o||(p=>(u||(u=HPt(t)),u(d,p))),toBytes:p=>r?Xse(p,l):rD(p,l),fromBytes:(p,m=!0)=>{if(a){if(!a.includes(p.length)||p.length>l)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+p.length);let f=new Uint8Array(l);f.set(p,r?0:f.length-p.length),p=f}if(p.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+p.length);let h=r?xm(p):AS(p);if(s&&(h=Zn(h,t)),!m&&!d.isValid(h))throw new Error("invalid field element: outside of range 0..ORDER");return h},invertBatch:p=>nR(d,p),cmov:(p,m,h)=>h?m:p});return Object.freeze(d)}function qWe(t){if(typeof t!="bigint")throw new Error("field order must be bigint");let e=t.toString(2).length;return Math.ceil(e/8)}function iae(t){let e=qWe(t);return e+Math.ceil(e/2)}function oae(t,e,r=!1){let n=t.length,i=qWe(e),o=iae(e);if(n<16||n<o||n>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+n);let s=r?xm(t):AS(t),a=Zn(s,e-io)+io;return r?Xse(a,i):rD(a,i)}var Es,io,Py,LWe,BWe,UWe,zPt,FWe,VPt,zWe,Am,WPt,ky=g(()=>{"use strict";RS();Es=BigInt(0),io=BigInt(1),Py=BigInt(2),LWe=BigInt(3),BWe=BigInt(4),UWe=BigInt(5),zPt=BigInt(7),FWe=BigInt(8),VPt=BigInt(9),zWe=BigInt(16);Am=(t,e)=>(Zn(t,e)&io)===io,WPt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"]});function iR(t,e){let r=e.negate();return t?r:e}function Em(t,e){let r=nR(t.Fp,e.map(n=>n.Z));return e.map((n,i)=>t.fromAffine(n.toAffine(r[i])))}function KWe(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function sae(t,e){KWe(t,e);let r=Math.ceil(e/t)+1,n=2**(t-1),i=2**t,o=rg(t),s=BigInt(t);return{windows:r,windowSize:n,mask:o,maxNumber:i,shiftBy:s}}function HWe(t,e,r){let{windowSize:n,mask:i,maxNumber:o,shiftBy:s}=r,a=Number(t&i),c=t>>s;a>n&&(a-=o,c+=Dy);let l=e*n,u=l+Math.abs(a)-1,d=a===0,p=a<0,m=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:p,isNegF:m,offsetF:l}}function KPt(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function YPt(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}function cae(t){return YWe.get(t)||1}function WWe(t){if(t!==TS)throw new Error("invalid wNAF")}function JWe(t,e,r,n){let i=e,o=t.ZERO,s=t.ZERO;for(;r>TS||n>TS;)r&Dy&&(o=o.add(i)),n&Dy&&(s=s.add(i)),i=i.double(),r>>=Dy,n>>=Dy;return{p1:o,p2:s}}function CS(t,e,r,n){KPt(r,t),YPt(n,e);let i=r.length,o=n.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");let s=t.ZERO,a=nD(BigInt(i)),c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);let l=rg(c),u=new Array(Number(l)+1).fill(s),d=Math.floor((e.BITS-1)/c)*c,p=s;for(let m=d;m>=0;m-=c){u.fill(s);for(let f=0;f<o;f++){let y=n[f],v=Number(y>>BigInt(m)&l);u[v]=u[v].add(r[f])}let h=s;for(let f=u.length-1,y=s;f>0;f--)y=y.add(u[f]),h=h.add(y);if(p=p.add(h),m!==0)for(let f=0;f<c;f++)p=p.double()}return p}function GWe(t,e,r){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return nae(e),e}else return To(t,{isLE:r})}function oD(t,e,r={},n){if(n===void 0&&(n=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(let c of["p","n","h"]){let l=e[c];if(!(typeof l=="bigint"&&l>TS))throw new Error(`CURVE.${c} must be positive bigint`)}let i=GWe(e.p,r.Fp,n),o=GWe(e.n,r.Fn,n),a=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(let c of a)if(!i.isValid(e[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:o}}var TS,Dy,aae,YWe,IS,sD=g(()=>{"use strict";RS();ky();TS=BigInt(0),Dy=BigInt(1);aae=new WeakMap,YWe=new WeakMap;IS=class{constructor(e,r){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=r}_unsafeLadder(e,r,n=this.ZERO){let i=e;for(;r>TS;)r&Dy&&(n=n.add(i)),i=i.double(),r>>=Dy;return n}precomputeWindow(e,r){let{windows:n,windowSize:i}=sae(r,this.bits),o=[],s=e,a=s;for(let c=0;c<n;c++){a=s,o.push(a);for(let l=1;l<i;l++)a=a.add(s),o.push(a);s=a.double()}return o}wNAF(e,r,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let i=this.ZERO,o=this.BASE,s=sae(e,this.bits);for(let a=0;a<s.windows;a++){let{nextN:c,offset:l,isZero:u,isNeg:d,isNegF:p,offsetF:m}=HWe(n,a,s);n=c,u?o=o.add(iR(p,r[m])):i=i.add(iR(d,r[l]))}return WWe(n),{p:i,f:o}}wNAFUnsafe(e,r,n,i=this.ZERO){let o=sae(e,this.bits);for(let s=0;s<o.windows&&n!==TS;s++){let{nextN:a,offset:c,isZero:l,isNeg:u}=HWe(n,s,o);if(n=a,!l){let d=r[c];i=i.add(u?d.negate():d)}}return WWe(n),i}getPrecomputes(e,r,n){let i=aae.get(r);return i||(i=this.precomputeWindow(r,e),e!==1&&(typeof n=="function"&&(i=n(i)),aae.set(r,i))),i}cached(e,r,n){let i=cae(e);return this.wNAF(i,this.getPrecomputes(i,e,n),r)}unsafe(e,r,n,i){let o=cae(e);return o===1?this._unsafeLadder(e,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,e,n),r,i)}createCache(e,r){KWe(r,this.bits),YWe.set(e,r),aae.delete(e)}hasCache(e){return cae(e)!==1}}});function JPt(t,e,r){let[[n,i],[o,s]]=e,a=QWe(s*t,r),c=QWe(-i*t,r),l=t-a*n-c*o,u=-a*i-c*s,d=l<Tm,p=u<Tm;d&&(l=-l),p&&(u=-u);let m=rg(Math.ceil(nD(r)/2))+NS;if(l<Tm||l>=m||u<Tm||u>=m)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:d,k1:l,k2neg:p,k2:u}}function uae(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function lae(t,e){let r={};for(let n of Object.keys(e))r[n]=t[n]===void 0?e[n]:t[n];return wm(r.lowS,"lowS"),wm(r.prehash,"prehash"),r.format!==void 0&&uae(r.format),r}function OS(t,e){let{BYTES:r}=t,n;if(typeof e=="bigint")n=e;else{let i=Kr("private key",e);try{n=t.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof e}`)}}if(!t.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}function ZPt(t,e={}){let r=oD("weierstrass",t,e),{Fp:n,Fn:i}=r,o=r.CURVE,{h:s,n:a}=o;ng(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:c}=e;if(c&&(!n.is0(o.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');let l=eGe(n,i);function u(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function d(ee,O,b){let{x:S,y:R}=O.toAffine(),k=n.toBytes(S);if(wm(b,"isCompressed"),b){u();let F=!n.isOdd(R);return Ss(XWe(F),k)}else return Ss(Uint8Array.of(4),k,n.toBytes(R))}function p(ee){Ga(ee,void 0,"Point");let{publicKey:O,publicKeyUncompressed:b}=l,S=ee.length,R=ee[0],k=ee.subarray(1);if(S===O&&(R===2||R===3)){let F=n.fromBytes(k);if(!n.isValid(F))throw new Error("bad point: is not on curve, wrong x");let q=f(F),K;try{K=n.sqrt(q)}catch(W){let xe=W instanceof Error?": "+W.message:"";throw new Error("bad point: is not on curve, sqrt error"+xe)}u();let z=n.isOdd(K);return(R&1)===1!==z&&(K=n.neg(K)),{x:F,y:K}}else if(S===b&&R===4){let F=n.BYTES,q=n.fromBytes(k.subarray(0,F)),K=n.fromBytes(k.subarray(F,F*2));if(!y(q,K))throw new Error("bad point: is not on curve");return{x:q,y:K}}else throw new Error(`bad point: got length ${S}, expected compressed=${O} or uncompressed=${b}`)}let m=e.toBytes||d,h=e.fromBytes||p;function f(ee){let O=n.sqr(ee),b=n.mul(O,ee);return n.add(n.add(b,n.mul(ee,o.a)),o.b)}function y(ee,O){let b=n.sqr(O),S=f(ee);return n.eql(b,S)}if(!y(o.Gx,o.Gy))throw new Error("bad curve params: generator point");let v=n.mul(n.pow(o.a,aD),QPt),_=n.mul(n.sqr(o.b),BigInt(27));if(n.is0(n.add(v,_)))throw new Error("bad curve params: a or b");function x(ee,O,b=!1){if(!n.isValid(O)||b&&n.is0(O))throw new Error(`bad point coordinate ${ee}`);return O}function E(ee){if(!(ee instanceof P))throw new Error("ProjectivePoint expected")}function I(ee){if(!c||!c.basises)throw new Error("no endo");return JPt(ee,c.basises,i.ORDER)}let N=ES((ee,O)=>{let{X:b,Y:S,Z:R}=ee;if(n.eql(R,n.ONE))return{x:b,y:S};let k=ee.is0();O==null&&(O=k?n.ONE:n.inv(R));let F=n.mul(b,O),q=n.mul(S,O),K=n.mul(R,O);if(k)return{x:n.ZERO,y:n.ZERO};if(!n.eql(K,n.ONE))throw new Error("invZ was invalid");return{x:F,y:q}}),L=ES(ee=>{if(ee.is0()){if(e.allowInfinityPoint&&!n.is0(ee.Y))return;throw new Error("bad point: ZERO")}let{x:O,y:b}=ee.toAffine();if(!n.isValid(O)||!n.isValid(b))throw new Error("bad point: x or y not field elements");if(!y(O,b))throw new Error("bad point: equation left != right");if(!ee.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function B(ee,O,b,S,R){return b=new P(n.mul(b.X,ee),b.Y,b.Z),O=iR(S,O),b=iR(R,b),O.add(b)}class P{constructor(O,b,S){this.X=x("x",O),this.Y=x("y",b,!0),this.Z=x("z",S),Object.freeze(this)}static CURVE(){return o}static fromAffine(O){let{x:b,y:S}=O||{};if(!O||!n.isValid(b)||!n.isValid(S))throw new Error("invalid affine point");if(O instanceof P)throw new Error("projective point not allowed");return n.is0(b)&&n.is0(S)?P.ZERO:new P(b,S,n.ONE)}static fromBytes(O){let b=P.fromAffine(h(Ga(O,void 0,"point")));return b.assertValidity(),b}static fromHex(O){return P.fromBytes(Kr("pointHex",O))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(O=8,b=!0){return j.createCache(this,O),b||this.multiply(aD),this}assertValidity(){L(this)}hasEvenY(){let{y:O}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(O)}equals(O){E(O);let{X:b,Y:S,Z:R}=this,{X:k,Y:F,Z:q}=O,K=n.eql(n.mul(b,q),n.mul(k,R)),z=n.eql(n.mul(S,q),n.mul(F,R));return K&&z}negate(){return new P(this.X,n.neg(this.Y),this.Z)}double(){let{a:O,b}=o,S=n.mul(b,aD),{X:R,Y:k,Z:F}=this,q=n.ZERO,K=n.ZERO,z=n.ZERO,A=n.mul(R,R),W=n.mul(k,k),xe=n.mul(F,F),ge=n.mul(R,k);return ge=n.add(ge,ge),z=n.mul(R,F),z=n.add(z,z),q=n.mul(O,z),K=n.mul(S,xe),K=n.add(q,K),q=n.sub(W,K),K=n.add(W,K),K=n.mul(q,K),q=n.mul(ge,q),z=n.mul(S,z),xe=n.mul(O,xe),ge=n.sub(A,xe),ge=n.mul(O,ge),ge=n.add(ge,z),z=n.add(A,A),A=n.add(z,A),A=n.add(A,xe),A=n.mul(A,ge),K=n.add(K,A),xe=n.mul(k,F),xe=n.add(xe,xe),A=n.mul(xe,ge),q=n.sub(q,A),z=n.mul(xe,W),z=n.add(z,z),z=n.add(z,z),new P(q,K,z)}add(O){E(O);let{X:b,Y:S,Z:R}=this,{X:k,Y:F,Z:q}=O,K=n.ZERO,z=n.ZERO,A=n.ZERO,W=o.a,xe=n.mul(o.b,aD),ge=n.mul(b,k),ke=n.mul(S,F),Ye=n.mul(R,q),dt=n.add(b,S),ut=n.add(k,F);dt=n.mul(dt,ut),ut=n.add(ge,ke),dt=n.sub(dt,ut),ut=n.add(b,R);let ot=n.add(k,q);return ut=n.mul(ut,ot),ot=n.add(ge,Ye),ut=n.sub(ut,ot),ot=n.add(S,R),K=n.add(F,q),ot=n.mul(ot,K),K=n.add(ke,Ye),ot=n.sub(ot,K),A=n.mul(W,ut),K=n.mul(xe,Ye),A=n.add(K,A),K=n.sub(ke,A),A=n.add(ke,A),z=n.mul(K,A),ke=n.add(ge,ge),ke=n.add(ke,ge),Ye=n.mul(W,Ye),ut=n.mul(xe,ut),ke=n.add(ke,Ye),Ye=n.sub(ge,Ye),Ye=n.mul(W,Ye),ut=n.add(ut,Ye),ge=n.mul(ke,ut),z=n.add(z,ge),ge=n.mul(ot,ut),K=n.mul(dt,K),K=n.sub(K,ge),ge=n.mul(dt,ke),A=n.mul(ot,A),A=n.add(A,ge),new P(K,z,A)}subtract(O){return this.add(O.negate())}is0(){return this.equals(P.ZERO)}multiply(O){let{endo:b}=e;if(!i.isValidNot0(O))throw new Error("invalid scalar: out of range");let S,R,k=F=>j.cached(this,F,q=>Em(P,q));if(b){let{k1neg:F,k1:q,k2neg:K,k2:z}=I(O),{p:A,f:W}=k(q),{p:xe,f:ge}=k(z);R=W.add(ge),S=B(b.beta,A,xe,F,K)}else{let{p:F,f:q}=k(O);S=F,R=q}return Em(P,[S,R])[0]}multiplyUnsafe(O){let{endo:b}=e,S=this;if(!i.isValid(O))throw new Error("invalid scalar: out of range");if(O===Tm||S.is0())return P.ZERO;if(O===NS)return S;if(j.hasCache(this))return this.multiply(O);if(b){let{k1neg:R,k1:k,k2neg:F,k2:q}=I(O),{p1:K,p2:z}=JWe(P,S,k,q);return B(b.beta,K,z,R,F)}else return j.unsafe(S,O)}multiplyAndAddUnsafe(O,b,S){let R=this.multiplyUnsafe(b).add(O.multiplyUnsafe(S));return R.is0()?void 0:R}toAffine(O){return N(this,O)}isTorsionFree(){let{isTorsionFree:O}=e;return s===NS?!0:O?O(P,this):j.unsafe(this,a).is0()}clearCofactor(){let{clearCofactor:O}=e;return s===NS?this:O?O(P,this):this.multiplyUnsafe(s)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}toBytes(O=!0){return wm(O,"isCompressed"),this.assertValidity(),m(P,this,O)}toHex(O=!0){return fl(this.toBytes(O))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(O=!0){return this.toBytes(O)}_setWindowSize(O){this.precompute(O)}static normalizeZ(O){return Em(P,O)}static msm(O,b){return CS(P,i,O,b)}static fromPrivateKey(O){return P.BASE.multiply(OS(i,O))}}P.BASE=new P(o.Gx,o.Gy,n.ONE),P.ZERO=new P(n.ZERO,n.ONE,n.ZERO),P.Fp=n,P.Fn=i;let V=i.BITS,j=new IS(P,e.endo?Math.ceil(V/2):V);return P.BASE.precompute(8),P}function XWe(t){return Uint8Array.of(t?2:3)}function eGe(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function XPt(t,e={}){let{Fn:r}=t,n=e.randomBytes||$2,i=Object.assign(eGe(t.Fp,r),{seed:iae(r.ORDER)});function o(m){try{return!!OS(r,m)}catch{return!1}}function s(m,h){let{publicKey:f,publicKeyUncompressed:y}=i;try{let v=m.length;return h===!0&&v!==f||h===!1&&v!==y?!1:!!t.fromBytes(m)}catch{return!1}}function a(m=n(i.seed)){return oae(Ga(m,i.seed,"seed"),r.ORDER)}function c(m,h=!0){return t.BASE.multiply(OS(r,m)).toBytes(h)}function l(m){let h=a(m);return{secretKey:h,publicKey:c(h)}}function u(m){if(typeof m=="bigint")return!1;if(m instanceof t)return!0;let{secretKey:h,publicKey:f,publicKeyUncompressed:y}=i;if(r.allowedLengths||h===f)return;let v=Kr("key",m).length;return v===f||v===y}function d(m,h,f=!0){if(u(m)===!0)throw new Error("first arg must be private key");if(u(h)===!1)throw new Error("second arg must be public key");let y=OS(r,m);return t.fromHex(h).multiply(y).toBytes(f)}return Object.freeze({getPublicKey:c,getSharedSecret:d,keygen:l,Point:t,utils:{isValidSecretKey:o,isValidPublicKey:s,randomSecretKey:a,isValidPrivateKey:o,randomPrivateKey:a,normPrivateKeyToScalar:m=>OS(r,m),precompute(m=8,h=t.BASE){return h.precompute(m,!1)}},lengths:i})}function ekt(t,e,r={}){tP(e),ng(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let n=r.randomBytes||$2,i=r.hmac||((b,...S)=>Yne(e,b,Ss(...S))),{Fp:o,Fn:s}=t,{ORDER:a,BITS:c}=s,{keygen:l,getPublicKey:u,getSharedSecret:d,utils:p,lengths:m}=XPt(t,r),h={prehash:!1,lowS:typeof r.lowS=="boolean"?r.lowS:!1,format:void 0,extraEntropy:!1},f="compact";function y(b){let S=a>>NS;return b>S}function v(b,S){if(!s.isValidNot0(S))throw new Error(`invalid signature ${b}: out of range 1..Point.Fn.ORDER`);return S}function _(b,S){uae(S);let R=m.signature,k=S==="compact"?R:S==="recovered"?R+1:void 0;return Ga(b,k,`${S} signature`)}class x{constructor(S,R,k){this.r=v("r",S),this.s=v("s",R),k!=null&&(this.recovery=k),Object.freeze(this)}static fromBytes(S,R=f){_(S,R);let k;if(R==="der"){let{r:z,s:A}=Rm.toSig(Ga(S));return new x(z,A)}R==="recovered"&&(k=S[0],R="compact",S=S.subarray(1));let F=s.BYTES,q=S.subarray(0,F),K=S.subarray(F,F*2);return new x(s.fromBytes(q),s.fromBytes(K),k)}static fromHex(S,R){return this.fromBytes(I1(S),R)}addRecoveryBit(S){return new x(this.r,this.s,S)}recoverPublicKey(S){let R=o.ORDER,{r:k,s:F,recovery:q}=this;if(q==null||![0,1,2,3].includes(q))throw new Error("recovery id invalid");if(a*ZWe<R&&q>1)throw new Error("recovery id is ambiguous for h>1 curve");let z=q===2||q===3?k+a:k;if(!o.isValid(z))throw new Error("recovery id 2 or 3 invalid");let A=o.toBytes(z),W=t.fromBytes(Ss(XWe((q&1)===0),A)),xe=s.inv(z),ge=I(Kr("msgHash",S)),ke=s.create(-ge*xe),Ye=s.create(F*xe),dt=t.BASE.multiplyUnsafe(ke).add(W.multiplyUnsafe(Ye));if(dt.is0())throw new Error("point at infinify");return dt.assertValidity(),dt}hasHighS(){return y(this.s)}toBytes(S=f){if(uae(S),S==="der")return I1(Rm.hexFromSig(this));let R=s.toBytes(this.r),k=s.toBytes(this.s);if(S==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Ss(Uint8Array.of(this.recovery),R,k)}return Ss(R,k)}toHex(S){return fl(this.toBytes(S))}assertValidity(){}static fromCompact(S){return x.fromBytes(Kr("sig",S),"compact")}static fromDER(S){return x.fromBytes(Kr("sig",S),"der")}normalizeS(){return this.hasHighS()?new x(this.r,s.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return fl(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return fl(this.toBytes("compact"))}}let E=r.bits2int||function(S){if(S.length>8192)throw new Error("input is too large");let R=AS(S),k=S.length*8-c;return k>0?R>>BigInt(k):R},I=r.bits2int_modN||function(S){return s.create(E(S))},N=rg(c);function L(b){return rR("num < 2^"+c,b,Tm,N),s.toBytes(b)}function B(b,S){return Ga(b,void 0,"message"),S?Ga(e(b),void 0,"prehashed message"):b}function P(b,S,R){if(["recovered","canonical"].some(ke=>ke in R))throw new Error("sign() legacy options not supported");let{lowS:k,prehash:F,extraEntropy:q}=lae(R,h);b=B(b,F);let K=I(b),z=OS(s,S),A=[L(z),L(K)];if(q!=null&&q!==!1){let ke=q===!0?n(m.secretKey):q;A.push(Kr("extraEntropy",ke))}let W=Ss(...A),xe=K;function ge(ke){let Ye=E(ke);if(!s.isValidNot0(Ye))return;let dt=s.inv(Ye),ut=t.BASE.multiply(Ye).toAffine(),ot=s.create(ut.x);if(ot===Tm)return;let bt=s.create(dt*s.create(xe+ot*z));if(bt===Tm)return;let Re=(ut.x===ot?0:2)|Number(ut.y&NS),vr=bt;return k&&y(bt)&&(vr=s.neg(bt),Re^=1),new x(ot,vr,Re)}return{seed:W,k2sig:ge}}function V(b,S,R={}){b=Kr("message",b);let{seed:k,k2sig:F}=P(b,S,R);return DWe(e.outputLen,s.BYTES,i)(k,F)}function j(b){let S,R=typeof b=="string"||tm(b),k=!R&&b!==null&&typeof b=="object"&&typeof b.r=="bigint"&&typeof b.s=="bigint";if(!R&&!k)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(k)S=new x(b.r,b.s);else if(R){try{S=x.fromBytes(Kr("sig",b),"der")}catch(F){if(!(F instanceof Rm.Err))throw F}if(!S)try{S=x.fromBytes(Kr("sig",b),"compact")}catch{return!1}}return S||!1}function ee(b,S,R,k={}){let{lowS:F,prehash:q,format:K}=lae(k,h);if(R=Kr("publicKey",R),S=B(Kr("message",S),q),"strict"in k)throw new Error("options.strict was renamed to lowS");let z=K===void 0?j(b):x.fromBytes(Kr("sig",b),K);if(z===!1)return!1;try{let A=t.fromBytes(R);if(F&&z.hasHighS())return!1;let{r:W,s:xe}=z,ge=I(S),ke=s.inv(xe),Ye=s.create(ge*ke),dt=s.create(W*ke),ut=t.BASE.multiplyUnsafe(Ye).add(A.multiplyUnsafe(dt));return ut.is0()?!1:s.create(ut.x)===W}catch{return!1}}function O(b,S,R={}){let{prehash:k}=lae(R,h);return S=B(S,k),x.fromBytes(b,"recovered").recoverPublicKey(S).toBytes()}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:d,utils:p,lengths:m,Point:t,sign:V,verify:ee,recoverPublicKey:O,Signature:x,hash:e})}function tkt(t){let e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp,n=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(s=>Math.ceil(s/2)))):void 0,i=To(e.n,{BITS:t.nBitLength,allowedLengths:n,modFromBytes:t.wrapPrivateKey}),o={Fp:r,Fn:i,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:o}}function rkt(t){let{CURVE:e,curveOpts:r}=tkt(t),n={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:r,hash:t.hash,ecdsaOpts:n}}function nkt(t,e){let r=e.Point;return Object.assign({},e,{ProjectivePoint:r,CURVE:Object.assign({},t,iD(r.Fn.ORDER,r.Fn.BITS))})}function tGe(t){let{CURVE:e,curveOpts:r,hash:n,ecdsaOpts:i}=rkt(t),o=ZPt(e,r),s=ekt(o,n,i);return nkt(t,s)}var QWe,dae,Rm,Tm,NS,ZWe,aD,QPt,rGe=g(()=>{"use strict";Ize();nm();RS();sD();ky();QWe=(t,e)=>(t+(t>=0?e:-e)/ZWe)/e;dae=class extends Error{constructor(e=""){super(e)}},Rm={Err:dae,_tlv:{encode:(t,e)=>{let{Err:r}=Rm;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");let n=e.length/2,i=tR(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let o=n>127?tR(i.length/2|128):"";return tR(t)+o+i+e},decode(t,e){let{Err:r}=Rm,n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");let i=e[n++],o=!!(i&128),s=0;if(!o)s=i;else{let c=i&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");let l=e.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(let u of l)s=s<<8|u;if(n+=c,s<128)throw new r("tlv.decode(long): not minimal encoding")}let a=e.subarray(n,n+s);if(a.length!==s)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+s)}}},_int:{encode(t){let{Err:e}=Rm;if(t<Tm)throw new e("integer: negative integers are not allowed");let r=tR(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){let{Err:e}=Rm;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return AS(t)}},toSig(t){let{Err:e,_int:r,_tlv:n}=Rm,i=Kr("signature",t),{v:o,l:s}=n.decode(48,i);if(s.length)throw new e("invalid signature: left bytes after parsing");let{v:a,l:c}=n.decode(2,o),{v:l,l:u}=n.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(t){let{_tlv:e,_int:r}=Rm,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),o=n+i;return e.encode(48,o)}},Tm=BigInt(0),NS=BigInt(1),ZWe=BigInt(2),aD=BigInt(3),QPt=BigInt(4)});function PS(t,e){let r=n=>tGe({...t,hash:n});return{...r(e),create:r}}var pae=g(()=>{"use strict";rGe();});var nGe,iGe,oGe,ikt,okt,skt,sGe,_xn,Sxn,aGe=g(()=>{"use strict";k3();pae();ky();nGe={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},iGe={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},oGe={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},ikt=To(nGe.p),okt=To(iGe.p),skt=To(oGe.p),sGe=PS({...nGe,Fp:ikt,lowS:!1},L2),_xn=PS({...iGe,Fp:okt,lowS:!1},Sze),Sxn=PS({...oGe,Fp:skt,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},cP)});var mae,cGe=g(()=>{"use strict";aGe();mae=sGe});function uGe(t){if(t&&!lGe[t]&&!lGe[t.toLowerCase()])throw new Error("Digest method not supported");return new fae}function gkt(){return new Uint8Array(new Uint16Array([65279]).buffer)[0]===254}var akt,lGe,fae,My,cD,oR,ig,ckt,lkt,pu,ukt,dkt,pkt,mkt,fkt,hkt,dGe=g(()=>{"use strict";akt=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],lGe={sha256:1};fae=class{constructor(){this.A=1779033703,this.B=-1150833019,this.C=1013904242,this.D=-1521486534,this.E=1359893119,this.F=-1694144372,this.G=528734635,this.H=1541459225,this._size=0,this._sp=0,(!cD||oR>=8e3)&&(cD=new ArrayBuffer(8e3),oR=0),this._byte=new Uint8Array(cD,oR,80),this._word=new Int32Array(cD,oR,20),oR+=80}update(e){if(typeof e=="string")return this._utf8(e);if(e==null)throw new TypeError("Invalid type: "+typeof e);let r=e.byteOffset,n=e.byteLength,i=n/64|0,o=0;if(i&&!(r&3)&&!(this._size%64)){let a=new Int32Array(e.buffer,r,i*16);for(;i--;)this._int32(a,o>>2),o+=64;this._size+=o}if(e.BYTES_PER_ELEMENT!==1&&e.buffer){let a=new Uint8Array(e.buffer,r+o,n-o);return this._uint8(a)}return o===n?this:this._uint8(e,o)}_uint8(e,r){let{_byte:n,_word:i}=this,o=e.length;for(r=r|0;r<o;){let s=this._size%64,a=s;for(;r<o&&a<64;)n[a++]=e[r++];a>=64&&this._int32(i),this._size+=a-s}return this}_utf8(e){let{_byte:r,_word:n}=this,i=e.length,o=this._sp;for(let s=0;s<i;){let a=this._size%64,c=a;for(;s<i&&c<64;){let l=e.charCodeAt(s++)|0;l<128?r[c++]=l:l<2048?(r[c++]=192|l>>>6,r[c++]=128|l&63):l<55296||l>57343?(r[c++]=224|l>>>12,r[c++]=128|l>>>6&63,r[c++]=128|l&63):o?(l=((o&1023)<<10)+(l&1023)+65536,r[c++]=240|l>>>18,r[c++]=128|l>>>12&63,r[c++]=128|l>>>6&63,r[c++]=128|l&63,o=0):o=l}c>=64&&(this._int32(n),n[0]=n[16]),this._size+=c-a}return this._sp=o,this}_int32(e,r){let{A:n,B:i,C:o,D:s,E:a,F:c,G:l,H:u}=this,d=0;for(r=r|0;d<16;)My[d++]=pu(e[r++]);for(d=16;d<64;d++)My[d]=hkt(My[d-2])+My[d-7]+fkt(My[d-15])+My[d-16]|0;for(d=0;d<64;d++){let p=u+mkt(a)+ukt(a,c,l)+akt[d]+My[d]|0,m=pkt(n)+dkt(n,i,o)|0;u=l,l=c,c=a,a=s+p|0,s=o,o=i,i=n,n=p+m|0}this.A=n+this.A|0,this.B=i+this.B|0,this.C=o+this.C|0,this.D=s+this.D|0,this.E=a+this.E|0,this.F=c+this.F|0,this.G=l+this.G|0,this.H=u+this.H|0}digest(e){let{_byte:r,_word:n}=this,i=this._size%64|0;for(r[i++]=128;i&3;)r[i++]=0;if(i>>=2,i>14){for(;i<16;)n[i++]=0;i=0,this._int32(n)}for(;i<16;)n[i++]=0;let o=this._size*8,s=(o&4294967295)>>>0,a=(o-s)/4294967296;return a&&(n[14]=pu(a)),s&&(n[15]=pu(s)),this._int32(n),e==="hex"?this._hex():this._bin()}_hex(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:a,H:c}=this;return ig(e)+ig(r)+ig(n)+ig(i)+ig(o)+ig(s)+ig(a)+ig(c)}_bin(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:a,H:c,_byte:l,_word:u}=this;return u[0]=pu(e),u[1]=pu(r),u[2]=pu(n),u[3]=pu(i),u[4]=pu(o),u[5]=pu(s),u[6]=pu(a),u[7]=pu(c),l.slice(0,32)}},My=new Int32Array(64),oR=0,ig=t=>(t+4294967296).toString(16).substr(-8),ckt=(t=>t<<24&4278190080|t<<8&16711680|t>>8&65280|t>>24&255),lkt=(t=>t),pu=gkt()?lkt:ckt,ukt=(t,e,r)=>r^t&(e^r),dkt=(t,e,r)=>t&e|r&(t|e),pkt=t=>(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),mkt=t=>(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7),fkt=t=>(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3,hkt=t=>(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10});var pGe={};lr(pGe,{signWithApiKey:()=>ykt});var ykt,mGe=g(()=>{"use strict";cGe();dGe();fd();ykt=async t=>{let e=mae.getPublicKey(t.privateKey,!0),r=pd(e);if(r!=t.publicKey)throw new Error(`Bad API key. Expected to get public key ${t.publicKey}, got ${r}`);let n=uGe().update(t.content).digest();return mae.sign(n,t.privateKey).toDERHex()}});var gGe=Le((Dxn,hGe)=>{"use strict";var Xn={};hGe.exports=Xn;function fGe(t){return t<0?-1:1}function wkt(t){return t%1===.5&&(t&1)===0?Math.floor(t):Math.round(t)}function og(t,e){e.unsigned||--t;let r=e.unsigned?0:-Math.pow(2,t),n=Math.pow(2,t)-1,i=e.moduloBitLength?Math.pow(2,e.moduloBitLength):Math.pow(2,t),o=e.moduloBitLength?Math.pow(2,e.moduloBitLength-1):Math.pow(2,t-1);return function(s,a){a||(a={});let c=+s;if(a.enforceRange){if(!Number.isFinite(c))throw new TypeError("Argument is not a finite number");if(c=fGe(c)*Math.floor(Math.abs(c)),c<r||c>n)throw new TypeError("Argument is not in byte range");return c}if(!isNaN(c)&&a.clamp)return c=wkt(c),c<r&&(c=r),c>n&&(c=n),c;if(!Number.isFinite(c)||c===0)return 0;if(c=fGe(c)*Math.floor(Math.abs(c)),c=c%i,!e.unsigned&&c>=o)return c-i;if(e.unsigned){if(c<0)c+=i;else if(c===-0)return 0}return c}}Xn.void=function(){};Xn.boolean=function(t){return!!t};Xn.byte=og(8,{unsigned:!1});Xn.octet=og(8,{unsigned:!0});Xn.short=og(16,{unsigned:!1});Xn["unsigned short"]=og(16,{unsigned:!0});Xn.long=og(32,{unsigned:!1});Xn["unsigned long"]=og(32,{unsigned:!0});Xn["long long"]=og(32,{unsigned:!1,moduloBitLength:64});Xn["unsigned long long"]=og(32,{unsigned:!0,moduloBitLength:64});Xn.double=function(t){let e=+t;if(!Number.isFinite(e))throw new TypeError("Argument is not a finite floating-point value");return e};Xn["unrestricted double"]=function(t){let e=+t;if(isNaN(e))throw new TypeError("Argument is NaN");return e};Xn.float=Xn.double;Xn["unrestricted float"]=Xn["unrestricted double"];Xn.DOMString=function(t,e){return e||(e={}),e.treatNullAsEmptyString&&t===null?"":String(t)};Xn.ByteString=function(t,e){let r=String(t),n;for(let i=0;(n=r.codePointAt(i))!==void 0;++i)if(n>255)throw new TypeError("Argument is not a valid bytestring");return r};Xn.USVString=function(t){let e=String(t),r=e.length,n=[];for(let i=0;i<r;++i){let o=e.charCodeAt(i);if(o<55296||o>57343)n.push(String.fromCodePoint(o));else if(56320<=o&&o<=57343)n.push(String.fromCodePoint(65533));else if(i===r-1)n.push(String.fromCodePoint(65533));else{let s=e.charCodeAt(i+1);if(56320<=s&&s<=57343){let a=o&1023,c=s&1023;n.push(String.fromCodePoint(65536+1024*a+c)),++i}else n.push(String.fromCodePoint(65533))}}return n.join("")};Xn.Date=function(t,e){if(!(t instanceof Date))throw new TypeError("Argument is not a Date object");if(!isNaN(t))return t};Xn.RegExp=function(t,e){return t instanceof RegExp||(t=new RegExp(t)),t}});var yGe=Le((Mxn,sg)=>{"use strict";sg.exports.mixin=function(e,r){let n=Object.getOwnPropertyNames(r);for(let i=0;i<n.length;++i)Object.defineProperty(e,n[i],Object.getOwnPropertyDescriptor(r,n[i]))};sg.exports.wrapperSymbol=Symbol("wrapper");sg.exports.implSymbol=Symbol("impl");sg.exports.wrapperForImpl=function(t){return t[sg.exports.wrapperSymbol]};sg.exports.implForWrapper=function(t){return t[sg.exports.implSymbol]}});var bGe=Le(($xn,xkt)=>{xkt.exports=[[[0,44],"disallowed_STD3_valid"],[[45,46],"valid"],[[47,47],"disallowed_STD3_valid"],[[48,57],"valid"],[[58,64],"disallowed_STD3_valid"],[[65,65],"mapped",[97]],[[66,66],"mapped",[98]],[[67,67],"mapped",[99]],[[68,68],"mapped",[100]],[[69,69],"mapped",[101]],[[70,70],"mapped",[102]],[[71,71],"mapped",[103]],[[72,72],"mapped",[104]],[[73,73],"mapped",[105]],[[74,74],"mapped",[106]],[[75,75],"mapped",[107]],[[76,76],"mapped",[108]],[[77,77],"mapped",[109]],[[78,78],"mapped",[110]],[[79,79],"mapped",[111]],[[80,80],"mapped",[112]],[[81,81],"mapped",[113]],[[82,82],"mapped",[114]],[[83,83],"mapped",[115]],[[84,84],"mapped",[116]],[[85,85],"mapped",[117]],[[86,86],"mapped",[118]],[[87,87],"mapped",[119]],[[88,88],"mapped",[120]],[[89,89],"mapped",[121]],[[90,90],"mapped",[122]],[[91,96],"disallowed_STD3_valid"],[[97,122],"valid"],[[123,127],"disallowed_STD3_valid"],[[128,159],"disallowed"],[[160,160],"disallowed_STD3_mapped",[32]],[[161,167],"valid",[],"NV8"],[[168,168],"disallowed_STD3_mapped",[32,776]],[[169,169],"valid",[],"NV8"],[[170,170],"mapped",[97]],[[171,172],"valid",[],"NV8"],[[173,173],"ignored"],[[174,174],"valid",[],"NV8"],[[175,175],"disallowed_STD3_mapped",[32,772]],[[176,177],"valid",[],"NV8"],[[178,178],"mapped",[50]],[[179,179],"mapped",[51]],[[180,180],"disallowed_STD3_mapped",[32,769]],[[181,181],"mapped",[956]],[[182,182],"valid",[],"NV8"],[[183,183],"valid"],[[184,184],"disallowed_STD3_mapped",[32,807]],[[185,185],"mapped",[49]],[[186,186],"mapped",[111]],[[187,187],"valid",[],"NV8"],[[188,188],"mapped",[49,8260,52]],[[189,189],"mapped",[49,8260,50]],[[190,190],"mapped",[51,8260,52]],[[191,191],"valid",[],"NV8"],[[192,192],"mapped",[224]],[[193,193],"mapped",[225]],[[194,194],"mapped",[226]],[[195,195],"mapped",[227]],[[196,196],"mapped",[228]],[[197,197],"mapped",[229]],[[198,198],"mapped",[230]],[[199,199],"mapped",[231]],[[200,200],"mapped",[232]],[[201,201],"mapped",[233]],[[202,202],"mapped",[234]],[[203,203],"mapped",[235]],[[204,204],"mapped",[236]],[[205,205],"mapped",[237]],[[206,206],"mapped",[238]],[[207,207],"mapped",[239]],[[208,208],"mapped",[240]],[[209,209],"mapped",[241]],[[210,210],"mapped",[242]],[[211,211],"mapped",[243]],[[212,212],"mapped",[244]],[[213,213],"mapped",[245]],[[214,214],"mapped",[246]],[[215,215],"valid",[],"NV8"],[[216,216],"mapped",[248]],[[217,217],"mapped",[249]],[[218,218],"mapped",[250]],[[219,219],"mapped",[251]],[[220,220],"mapped",[252]],[[221,221],"mapped",[253]],[[222,222],"mapped",[254]],[[223,223],"deviation",[115,115]],[[224,246],"valid"],[[247,247],"valid",[],"NV8"],[[248,255],"valid"],[[256,256],"mapped",[257]],[[257,257],"valid"],[[258,258],"mapped",[259]],[[259,259],"valid"],[[260,260],"mapped",[261]],[[261,261],"valid"],[[262,262],"mapped",[263]],[[263,263],"valid"],[[264,264],"mapped",[265]],[[265,265],"valid"],[[266,266],"mapped",[267]],[[267,267],"valid"],[[268,268],"mapped",[269]],[[269,269],"valid"],[[270,270],"mapped",[271]],[[271,271],"valid"],[[272,272],"mapped",[273]],[[273,273],"valid"],[[274,274],"mapped",[275]],[[275,275],"valid"],[[276,276],"mapped",[277]],[[277,277],"valid"],[[278,278],"mapped",[279]],[[279,279],"valid"],[[280,280],"mapped",[281]],[[281,281],"valid"],[[282,282],"mapped",[283]],[[283,283],"valid"],[[284,284],"mapped",[285]],[[285,285],"valid"],[[286,286],"mapped",[287]],[[287,287],"valid"],[[288,288],"mapped",[289]],[[289,289],"valid"],[[290,290],"mapped",[291]],[[291,291],"valid"],[[292,292],"mapped",[293]],[[293,293],"valid"],[[294,294],"mapped",[295]],[[295,295],"valid"],[[296,296],"mapped",[297]],[[297,297],"valid"],[[298,298],"mapped",[299]],[[299,299],"valid"],[[300,300],"mapped",[301]],[[301,301],"valid"],[[302,302],"mapped",[303]],[[303,303],"valid"],[[304,304],"mapped",[105,775]],[[305,305],"valid"],[[306,307],"mapped",[105,106]],[[308,308],"mapped",[309]],[[309,309],"valid"],[[310,310],"mapped",[311]],[[311,312],"valid"],[[313,313],"mapped",[314]],[[314,314],"valid"],[[315,315],"mapped",[316]],[[316,316],"valid"],[[317,317],"mapped",[318]],[[318,318],"valid"],[[319,320],"mapped",[108,183]],[[321,321],"mapped",[322]],[[322,322],"valid"],[[323,323],"mapped",[324]],[[324,324],"valid"],[[325,325],"mapped",[326]],[[326,326],"valid"],[[327,327],"mapped",[328]],[[328,328],"valid"],[[329,329],"mapped",[700,110]],[[330,330],"mapped",[331]],[[331,331],"valid"],[[332,332],"mapped",[333]],[[333,333],"valid"],[[334,334],"mapped",[335]],[[335,335],"valid"],[[336,336],"mapped",[337]],[[337,337],"valid"],[[338,338],"mapped",[339]],[[339,339],"valid"],[[340,340],"mapped",[341]],[[341,341],"valid"],[[342,342],"mapped",[343]],[[343,343],"valid"],[[344,344],"mapped",[345]],[[345,345],"valid"],[[346,346],"mapped",[347]],[[347,347],"valid"],[[348,348],"mapped",[349]],[[349,349],"valid"],[[350,350],"mapped",[351]],[[351,351],"valid"],[[352,352],"mapped",[353]],[[353,353],"valid"],[[354,354],"mapped",[355]],[[355,355],"valid"],[[356,356],"mapped",[357]],[[357,357],"valid"],[[358,358],"mapped",[359]],[[359,359],"valid"],[[360,360],"mapped",[361]],[[361,361],"valid"],[[362,362],"mapped",[363]],[[363,363],"valid"],[[364,364],"mapped",[365]],[[365,365],"valid"],[[366,366],"mapped",[367]],[[367,367],"valid"],[[368,368],"mapped",[369]],[[369,369],"valid"],[[370,370],"mapped",[371]],[[371,371],"valid"],[[372,372],"mapped",[373]],[[373,373],"valid"],[[374,374],"mapped",[375]],[[375,375],"valid"],[[376,376],"mapped",[255]],[[377,377],"mapped",[378]],[[378,378],"valid"],[[379,379],"mapped",[380]],[[380,380],"valid"],[[381,381],"mapped",[382]],[[382,382],"valid"],[[383,383],"mapped",[115]],[[384,384],"valid"],[[385,385],"mapped",[595]],[[386,386],"mapped",[387]],[[387,387],"valid"],[[388,388],"mapped",[389]],[[389,389],"valid"],[[390,390],"mapped",[596]],[[391,391],"mapped",[392]],[[392,392],"valid"],[[393,393],"mapped",[598]],[[394,394],"mapped",[599]],[[395,395],"mapped",[396]],[[396,397],"valid"],[[398,398],"mapped",[477]],[[399,399],"mapped",[601]],[[400,400],"mapped",[603]],[[401,401],"mapped",[402]],[[402,402],"valid"],[[403,403],"mapped",[608]],[[404,404],"mapped",[611]],[[405,405],"valid"],[[406,406],"mapped",[617]],[[407,407],"mapped",[616]],[[408,408],"mapped",[409]],[[409,411],"valid"],[[412,412],"mapped",[623]],[[413,413],"mapped",[626]],[[414,414],"valid"],[[415,415],"mapped",[629]],[[416,416],"mapped",[417]],[[417,417],"valid"],[[418,418],"mapped",[419]],[[419,419],"valid"],[[420,420],"mapped",[421]],[[421,421],"valid"],[[422,422],"mapped",[640]],[[423,423],"mapped",[424]],[[424,424],"valid"],[[425,425],"mapped",[643]],[[426,427],"valid"],[[428,428],"mapped",[429]],[[429,429],"valid"],[[430,430],"mapped",[648]],[[431,431],"mapped",[432]],[[432,432],"valid"],[[433,433],"mapped",[650]],[[434,434],"mapped",[651]],[[435,435],"mapped",[436]],[[436,436],"valid"],[[437,437],"mapped",[438]],[[438,438],"valid"],[[439,439],"mapped",[658]],[[440,440],"mapped",[441]],[[441,443],"valid"],[[444,444],"mapped",[445]],[[445,451],"valid"],[[452,454],"mapped",[100,382]],[[455,457],"mapped",[108,106]],[[458,460],"mapped",[110,106]],[[461,461],"mapped",[462]],[[462,462],"valid"],[[463,463],"mapped",[464]],[[464,464],"valid"],[[465,465],"mapped",[466]],[[466,466],"valid"],[[467,467],"mapped",[468]],[[468,468],"valid"],[[469,469],"mapped",[470]],[[470,470],"valid"],[[471,471],"mapped",[472]],[[472,472],"valid"],[[473,473],"mapped",[474]],[[474,474],"valid"],[[475,475],"mapped",[476]],[[476,477],"valid"],[[478,478],"mapped",[479]],[[479,479],"valid"],[[480,480],"mapped",[481]],[[481,481],"valid"],[[482,482],"mapped",[483]],[[483,483],"valid"],[[484,484],"mapped",[485]],[[485,485],"valid"],[[486,486],"mapped",[487]],[[487,487],"valid"],[[488,488],"mapped",[489]],[[489,489],"valid"],[[490,490],"mapped",[491]],[[491,491],"valid"],[[492,492],"mapped",[493]],[[493,493],"valid"],[[494,494],"mapped",[495]],[[495,496],"valid"],[[497,499],"mapped",[100,122]],[[500,500],"mapped",[501]],[[501,501],"valid"],[[502,502],"mapped",[405]],[[503,503],"mapped",[447]],[[504,504],"mapped",[505]],[[505,505],"valid"],[[506,506],"mapped",[507]],[[507,507],"valid"],[[508,508],"mapped",[509]],[[509,509],"valid"],[[510,510],"mapped",[511]],[[511,511],"valid"],[[512,512],"mapped",[513]],[[513,513],"valid"],[[514,514],"mapped",[515]],[[515,515],"valid"],[[516,516],"mapped",[517]],[[517,517],"valid"],[[518,518],"mapped",[519]],[[519,519],"valid"],[[520,520],"mapped",[521]],[[521,521],"valid"],[[522,522],"mapped",[523]],[[523,523],"valid"],[[524,524],"mapped",[525]],[[525,525],"valid"],[[526,526],"mapped",[527]],[[527,527],"valid"],[[528,528],"mapped",[529]],[[529,529],"valid"],[[530,530],"mapped",[531]],[[531,531],"valid"],[[532,532],"mapped",[533]],[[533,533],"valid"],[[534,534],"mapped",[535]],[[535,535],"valid"],[[536,536],"mapped",[537]],[[537,537],"valid"],[[538,538],"mapped",[539]],[[539,539],"valid"],[[540,540],"mapped",[541]],[[541,541],"valid"],[[542,542],"mapped",[543]],[[543,543],"valid"],[[544,544],"mapped",[414]],[[545,545],"valid"],[[546,546],"mapped",[547]],[[547,547],"valid"],[[548,548],"mapped",[549]],[[549,549],"valid"],[[550,550],"mapped",[551]],[[551,551],"valid"],[[552,552],"mapped",[553]],[[553,553],"valid"],[[554,554],"mapped",[555]],[[555,555],"valid"],[[556,556],"mapped",[557]],[[557,557],"valid"],[[558,558],"mapped",[559]],[[559,559],"valid"],[[560,560],"mapped",[561]],[[561,561],"valid"],[[562,562],"mapped",[563]],[[563,563],"valid"],[[564,566],"valid"],[[567,569],"valid"],[[570,570],"mapped",[11365]],[[571,571],"mapped",[572]],[[572,572],"valid"],[[573,573],"mapped",[410]],[[574,574],"mapped",[11366]],[[575,576],"valid"],[[577,577],"mapped",[578]],[[578,578],"valid"],[[579,579],"mapped",[384]],[[580,580],"mapped",[649]],[[581,581],"mapped",[652]],[[582,582],"mapped",[583]],[[583,583],"valid"],[[584,584],"mapped",[585]],[[585,585],"valid"],[[586,586],"mapped",[587]],[[587,587],"valid"],[[588,588],"mapped",[589]],[[589,589],"valid"],[[590,590],"mapped",[591]],[[591,591],"valid"],[[592,680],"valid"],[[681,685],"valid"],[[686,687],"valid"],[[688,688],"mapped",[104]],[[689,689],"mapped",[614]],[[690,690],"mapped",[106]],[[691,691],"mapped",[114]],[[692,692],"mapped",[633]],[[693,693],"mapped",[635]],[[694,694],"mapped",[641]],[[695,695],"mapped",[119]],[[696,696],"mapped",[121]],[[697,705],"valid"],[[706,709],"valid",[],"NV8"],[[710,721],"valid"],[[722,727],"valid",[],"NV8"],[[728,728],"disallowed_STD3_mapped",[32,774]],[[729,729],"disallowed_STD3_mapped",[32,775]],[[730,730],"disallowed_STD3_mapped",[32,778]],[[731,731],"disallowed_STD3_mapped",[32,808]],[[732,732],"disallowed_STD3_mapped",[32,771]],[[733,733],"disallowed_STD3_mapped",[32,779]],[[734,734],"valid",[],"NV8"],[[735,735],"valid",[],"NV8"],[[736,736],"mapped",[611]],[[737,737],"mapped",[108]],[[738,738],"mapped",[115]],[[739,739],"mapped",[120]],[[740,740],"mapped",[661]],[[741,745],"valid",[],"NV8"],[[746,747],"valid",[],"NV8"],[[748,748],"valid"],[[749,749],"valid",[],"NV8"],[[750,750],"valid"],[[751,767],"valid",[],"NV8"],[[768,831],"valid"],[[832,832],"mapped",[768]],[[833,833],"mapped",[769]],[[834,834],"valid"],[[835,835],"mapped",[787]],[[836,836],"mapped",[776,769]],[[837,837],"mapped",[953]],[[838,846],"valid"],[[847,847],"ignored"],[[848,855],"valid"],[[856,860],"valid"],[[861,863],"valid"],[[864,865],"valid"],[[866,866],"valid"],[[867,879],"valid"],[[880,880],"mapped",[881]],[[881,881],"valid"],[[882,882],"mapped",[883]],[[883,883],"valid"],[[884,884],"mapped",[697]],[[885,885],"valid"],[[886,886],"mapped",[887]],[[887,887],"valid"],[[888,889],"disallowed"],[[890,890],"disallowed_STD3_mapped",[32,953]],[[891,893],"valid"],[[894,894],"disallowed_STD3_mapped",[59]],[[895,895],"mapped",[1011]],[[896,899],"disallowed"],[[900,900],"disallowed_STD3_mapped",[32,769]],[[901,901],"disallowed_STD3_mapped",[32,776,769]],[[902,902],"mapped",[940]],[[903,903],"mapped",[183]],[[904,904],"mapped",[941]],[[905,905],"mapped",[942]],[[906,906],"mapped",[943]],[[907,907],"disallowed"],[[908,908],"mapped",[972]],[[909,909],"disallowed"],[[910,910],"mapped",[973]],[[911,911],"mapped",[974]],[[912,912],"valid"],[[913,913],"mapped",[945]],[[914,914],"mapped",[946]],[[915,915],"mapped",[947]],[[916,916],"mapped",[948]],[[917,917],"mapped",[949]],[[918,918],"mapped",[950]],[[919,919],"mapped",[951]],[[920,920],"mapped",[952]],[[921,921],"mapped",[953]],[[922,922],"mapped",[954]],[[923,923],"mapped",[955]],[[924,924],"mapped",[956]],[[925,925],"mapped",[957]],[[926,926],"mapped",[958]],[[927,927],"mapped",[959]],[[928,928],"mapped",[960]],[[929,929],"mapped",[961]],[[930,930],"disallowed"],[[931,931],"mapped",[963]],[[932,932],"mapped",[964]],[[933,933],"mapped",[965]],[[934,934],"mapped",[966]],[[935,935],"mapped",[967]],[[936,936],"mapped",[968]],[[937,937],"mapped",[969]],[[938,938],"mapped",[970]],[[939,939],"mapped",[971]],[[940,961],"valid"],[[962,962],"deviation",[963]],[[963,974],"valid"],[[975,975],"mapped",[983]],[[976,976],"mapped",[946]],[[977,977],"mapped",[952]],[[978,978],"mapped",[965]],[[979,979],"mapped",[973]],[[980,980],"mapped",[971]],[[981,981],"mapped",[966]],[[982,982],"mapped",[960]],[[983,983],"valid"],[[984,984],"mapped",[985]],[[985,985],"valid"],[[986,986],"mapped",[987]],[[987,987],"valid"],[[988,988],"mapped",[989]],[[989,989],"valid"],[[990,990],"mapped",[991]],[[991,991],"valid"],[[992,992],"mapped",[993]],[[993,993],"valid"],[[994,994],"mapped",[995]],[[995,995],"valid"],[[996,996],"mapped",[997]],[[997,997],"valid"],[[998,998],"mapped",[999]],[[999,999],"valid"],[[1e3,1e3],"mapped",[1001]],[[1001,1001],"valid"],[[1002,1002],"mapped",[1003]],[[1003,1003],"valid"],[[1004,1004],"mapped",[1005]],[[1005,1005],"valid"],[[1006,1006],"mapped",[1007]],[[1007,1007],"valid"],[[1008,1008],"mapped",[954]],[[1009,1009],"mapped",[961]],[[1010,1010],"mapped",[963]],[[1011,1011],"valid"],[[1012,1012],"mapped",[952]],[[1013,1013],"mapped",[949]],[[1014,1014],"valid",[],"NV8"],[[1015,1015],"mapped",[1016]],[[1016,1016],"valid"],[[1017,1017],"mapped",[963]],[[1018,1018],"mapped",[1019]],[[1019,1019],"valid"],[[1020,1020],"valid"],[[1021,1021],"mapped",[891]],[[1022,1022],"mapped",[892]],[[1023,1023],"mapped",[893]],[[1024,1024],"mapped",[1104]],[[1025,1025],"mapped",[1105]],[[1026,1026],"mapped",[1106]],[[1027,1027],"mapped",[1107]],[[1028,1028],"mapped",[1108]],[[1029,1029],"mapped",[1109]],[[1030,1030],"mapped",[1110]],[[1031,1031],"mapped",[1111]],[[1032,1032],"mapped",[1112]],[[1033,1033],"mapped",[1113]],[[1034,1034],"mapped",[1114]],[[1035,1035],"mapped",[1115]],[[1036,1036],"mapped",[1116]],[[1037,1037],"mapped",[1117]],[[1038,1038],"mapped",[1118]],[[1039,1039],"mapped",[1119]],[[1040,1040],"mapped",[1072]],[[1041,1041],"mapped",[1073]],[[1042,1042],"mapped",[1074]],[[1043,1043],"mapped",[1075]],[[1044,1044],"mapped",[1076]],[[1045,1045],"mapped",[1077]],[[1046,1046],"mapped",[1078]],[[1047,1047],"mapped",[1079]],[[1048,1048],"mapped",[1080]],[[1049,1049],"mapped",[1081]],[[1050,1050],"mapped",[1082]],[[1051,1051],"mapped",[1083]],[[1052,1052],"mapped",[1084]],[[1053,1053],"mapped",[1085]],[[1054,1054],"mapped",[1086]],[[1055,1055],"mapped",[1087]],[[1056,1056],"mapped",[1088]],[[1057,1057],"mapped",[1089]],[[1058,1058],"mapped",[1090]],[[1059,1059],"mapped",[1091]],[[1060,1060],"mapped",[1092]],[[1061,1061],"mapped",[1093]],[[1062,1062],"mapped",[1094]],[[1063,1063],"mapped",[1095]],[[1064,1064],"mapped",[1096]],[[1065,1065],"mapped",[1097]],[[1066,1066],"mapped",[1098]],[[1067,1067],"mapped",[1099]],[[1068,1068],"mapped",[1100]],[[1069,1069],"mapped",[1101]],[[1070,1070],"mapped",[1102]],[[1071,1071],"mapped",[1103]],[[1072,1103],"valid"],[[1104,1104],"valid"],[[1105,1116],"valid"],[[1117,1117],"valid"],[[1118,1119],"valid"],[[1120,1120],"mapped",[1121]],[[1121,1121],"valid"],[[1122,1122],"mapped",[1123]],[[1123,1123],"valid"],[[1124,1124],"mapped",[1125]],[[1125,1125],"valid"],[[1126,1126],"mapped",[1127]],[[1127,1127],"valid"],[[1128,1128],"mapped",[1129]],[[1129,1129],"valid"],[[1130,1130],"mapped",[1131]],[[1131,1131],"valid"],[[1132,1132],"mapped",[1133]],[[1133,1133],"valid"],[[1134,1134],"mapped",[1135]],[[1135,1135],"valid"],[[1136,1136],"mapped",[1137]],[[1137,1137],"valid"],[[1138,1138],"mapped",[1139]],[[1139,1139],"valid"],[[1140,1140],"mapped",[1141]],[[1141,1141],"valid"],[[1142,1142],"mapped",[1143]],[[1143,1143],"valid"],[[1144,1144],"mapped",[1145]],[[1145,1145],"valid"],[[1146,1146],"mapped",[1147]],[[1147,1147],"valid"],[[1148,1148],"mapped",[1149]],[[1149,1149],"valid"],[[1150,1150],"mapped",[1151]],[[1151,1151],"valid"],[[1152,1152],"mapped",[1153]],[[1153,1153],"valid"],[[1154,1154],"valid",[],"NV8"],[[1155,1158],"valid"],[[1159,1159],"valid"],[[1160,1161],"valid",[],"NV8"],[[1162,1162],"mapped",[1163]],[[1163,1163],"valid"],[[1164,1164],"mapped",[1165]],[[1165,1165],"valid"],[[1166,1166],"mapped",[1167]],[[1167,1167],"valid"],[[1168,1168],"mapped",[1169]],[[1169,1169],"valid"],[[1170,1170],"mapped",[1171]],[[1171,1171],"valid"],[[1172,1172],"mapped",[1173]],[[1173,1173],"valid"],[[1174,1174],"mapped",[1175]],[[1175,1175],"valid"],[[1176,1176],"mapped",[1177]],[[1177,1177],"valid"],[[1178,1178],"mapped",[1179]],[[1179,1179],"valid"],[[1180,1180],"mapped",[1181]],[[1181,1181],"valid"],[[1182,1182],"mapped",[1183]],[[1183,1183],"valid"],[[1184,1184],"mapped",[1185]],[[1185,1185],"valid"],[[1186,1186],"mapped",[1187]],[[1187,1187],"valid"],[[1188,1188],"mapped",[1189]],[[1189,1189],"valid"],[[1190,1190],"mapped",[1191]],[[1191,1191],"valid"],[[1192,1192],"mapped",[1193]],[[1193,1193],"valid"],[[1194,1194],"mapped",[1195]],[[1195,1195],"valid"],[[1196,1196],"mapped",[1197]],[[1197,1197],"valid"],[[1198,1198],"mapped",[1199]],[[1199,1199],"valid"],[[1200,1200],"mapped",[1201]],[[1201,1201],"valid"],[[1202,1202],"mapped",[1203]],[[1203,1203],"valid"],[[1204,1204],"mapped",[1205]],[[1205,1205],"valid"],[[1206,1206],"mapped",[1207]],[[1207,1207],"valid"],[[1208,1208],"mapped",[1209]],[[1209,1209],"valid"],[[1210,1210],"mapped",[1211]],[[1211,1211],"valid"],[[1212,1212],"mapped",[1213]],[[1213,1213],"valid"],[[1214,1214],"mapped",[1215]],[[1215,1215],"valid"],[[1216,1216],"disallowed"],[[1217,1217],"mapped",[1218]],[[1218,1218],"valid"],[[1219,1219],"mapped",[1220]],[[1220,1220],"valid"],[[1221,1221],"mapped",[1222]],[[1222,1222],"valid"],[[1223,1223],"mapped",[1224]],[[1224,1224],"valid"],[[1225,1225],"mapped",[1226]],[[1226,1226],"valid"],[[1227,1227],"mapped",[1228]],[[1228,1228],"valid"],[[1229,1229],"mapped",[1230]],[[1230,1230],"valid"],[[1231,1231],"valid"],[[1232,1232],"mapped",[1233]],[[1233,1233],"valid"],[[1234,1234],"mapped",[1235]],[[1235,1235],"valid"],[[1236,1236],"mapped",[1237]],[[1237,1237],"valid"],[[1238,1238],"mapped",[1239]],[[1239,1239],"valid"],[[1240,1240],"mapped",[1241]],[[1241,1241],"valid"],[[1242,1242],"mapped",[1243]],[[1243,1243],"valid"],[[1244,1244],"mapped",[1245]],[[1245,1245],"valid"],[[1246,1246],"mapped",[1247]],[[1247,1247],"valid"],[[1248,1248],"mapped",[1249]],[[1249,1249],"valid"],[[1250,1250],"mapped",[1251]],[[1251,1251],"valid"],[[1252,1252],"mapped",[1253]],[[1253,1253],"valid"],[[1254,1254],"mapped",[1255]],[[1255,1255],"valid"],[[1256,1256],"mapped",[1257]],[[1257,1257],"valid"],[[1258,1258],"mapped",[1259]],[[1259,1259],"valid"],[[1260,1260],"mapped",[1261]],[[1261,1261],"valid"],[[1262,1262],"mapped",[1263]],[[1263,1263],"valid"],[[1264,1264],"mapped",[1265]],[[1265,1265],"valid"],[[1266,1266],"mapped",[1267]],[[1267,1267],"valid"],[[1268,1268],"mapped",[1269]],[[1269,1269],"valid"],[[1270,1270],"mapped",[1271]],[[1271,1271],"valid"],[[1272,1272],"mapped",[1273]],[[1273,1273],"valid"],[[1274,1274],"mapped",[1275]],[[1275,1275],"valid"],[[1276,1276],"mapped",[1277]],[[1277,1277],"valid"],[[1278,1278],"mapped",[1279]],[[1279,1279],"valid"],[[1280,1280],"mapped",[1281]],[[1281,1281],"valid"],[[1282,1282],"mapped",[1283]],[[1283,1283],"valid"],[[1284,1284],"mapped",[1285]],[[1285,1285],"valid"],[[1286,1286],"mapped",[1287]],[[1287,1287],"valid"],[[1288,1288],"mapped",[1289]],[[1289,1289],"valid"],[[1290,1290],"mapped",[1291]],[[1291,1291],"valid"],[[1292,1292],"mapped",[1293]],[[1293,1293],"valid"],[[1294,1294],"mapped",[1295]],[[1295,1295],"valid"],[[1296,1296],"mapped",[1297]],[[1297,1297],"valid"],[[1298,1298],"mapped",[1299]],[[1299,1299],"valid"],[[1300,1300],"mapped",[1301]],[[1301,1301],"valid"],[[1302,1302],"mapped",[1303]],[[1303,1303],"valid"],[[1304,1304],"mapped",[1305]],[[1305,1305],"valid"],[[1306,1306],"mapped",[1307]],[[1307,1307],"valid"],[[1308,1308],"mapped",[1309]],[[1309,1309],"valid"],[[1310,1310],"mapped",[1311]],[[1311,1311],"valid"],[[1312,1312],"mapped",[1313]],[[1313,1313],"valid"],[[1314,1314],"mapped",[1315]],[[1315,1315],"valid"],[[1316,1316],"mapped",[1317]],[[1317,1317],"valid"],[[1318,1318],"mapped",[1319]],[[1319,1319],"valid"],[[1320,1320],"mapped",[1321]],[[1321,1321],"valid"],[[1322,1322],"mapped",[1323]],[[1323,1323],"valid"],[[1324,1324],"mapped",[1325]],[[1325,1325],"valid"],[[1326,1326],"mapped",[1327]],[[1327,1327],"valid"],[[1328,1328],"disallowed"],[[1329,1329],"mapped",[1377]],[[1330,1330],"mapped",[1378]],[[1331,1331],"mapped",[1379]],[[1332,1332],"mapped",[1380]],[[1333,1333],"mapped",[1381]],[[1334,1334],"mapped",[1382]],[[1335,1335],"mapped",[1383]],[[1336,1336],"mapped",[1384]],[[1337,1337],"mapped",[1385]],[[1338,1338],"mapped",[1386]],[[1339,1339],"mapped",[1387]],[[1340,1340],"mapped",[1388]],[[1341,1341],"mapped",[1389]],[[1342,1342],"mapped",[1390]],[[1343,1343],"mapped",[1391]],[[1344,1344],"mapped",[1392]],[[1345,1345],"mapped",[1393]],[[1346,1346],"mapped",[1394]],[[1347,1347],"mapped",[1395]],[[1348,1348],"mapped",[1396]],[[1349,1349],"mapped",[1397]],[[1350,1350],"mapped",[1398]],[[1351,1351],"mapped",[1399]],[[1352,1352],"mapped",[1400]],[[1353,1353],"mapped",[1401]],[[1354,1354],"mapped",[1402]],[[1355,1355],"mapped",[1403]],[[1356,1356],"mapped",[1404]],[[1357,1357],"mapped",[1405]],[[1358,1358],"mapped",[1406]],[[1359,1359],"mapped",[1407]],[[1360,1360],"mapped",[1408]],[[1361,1361],"mapped",[1409]],[[1362,1362],"mapped",[1410]],[[1363,1363],"mapped",[1411]],[[1364,1364],"mapped",[1412]],[[1365,1365],"mapped",[1413]],[[1366,1366],"mapped",[1414]],[[1367,1368],"disallowed"],[[1369,1369],"valid"],[[1370,1375],"valid",[],"NV8"],[[1376,1376],"disallowed"],[[1377,1414],"valid"],[[1415,1415],"mapped",[1381,1410]],[[1416,1416],"disallowed"],[[1417,1417],"valid",[],"NV8"],[[1418,1418],"valid",[],"NV8"],[[1419,1420],"disallowed"],[[1421,1422],"valid",[],"NV8"],[[1423,1423],"valid",[],"NV8"],[[1424,1424],"disallowed"],[[1425,1441],"valid"],[[1442,1442],"valid"],[[1443,1455],"valid"],[[1456,1465],"valid"],[[1466,1466],"valid"],[[1467,1469],"valid"],[[1470,1470],"valid",[],"NV8"],[[1471,1471],"valid"],[[1472,1472],"valid",[],"NV8"],[[1473,1474],"valid"],[[1475,1475],"valid",[],"NV8"],[[1476,1476],"valid"],[[1477,1477],"valid"],[[1478,1478],"valid",[],"NV8"],[[1479,1479],"valid"],[[1480,1487],"disallowed"],[[1488,1514],"valid"],[[1515,1519],"disallowed"],[[1520,1524],"valid"],[[1525,1535],"disallowed"],[[1536,1539],"disallowed"],[[1540,1540],"disallowed"],[[1541,1541],"disallowed"],[[1542,1546],"valid",[],"NV8"],[[1547,1547],"valid",[],"NV8"],[[1548,1548],"valid",[],"NV8"],[[1549,1551],"valid",[],"NV8"],[[1552,1557],"valid"],[[1558,1562],"valid"],[[1563,1563],"valid",[],"NV8"],[[1564,1564],"disallowed"],[[1565,1565],"disallowed"],[[1566,1566],"valid",[],"NV8"],[[1567,1567],"valid",[],"NV8"],[[1568,1568],"valid"],[[1569,1594],"valid"],[[1595,1599],"valid"],[[1600,1600],"valid",[],"NV8"],[[1601,1618],"valid"],[[1619,1621],"valid"],[[1622,1624],"valid"],[[1625,1630],"valid"],[[1631,1631],"valid"],[[1632,1641],"valid"],[[1642,1645],"valid",[],"NV8"],[[1646,1647],"valid"],[[1648,1652],"valid"],[[1653,1653],"mapped",[1575,1652]],[[1654,1654],"mapped",[1608,1652]],[[1655,1655],"mapped",[1735,1652]],[[1656,1656],"mapped",[1610,1652]],[[1657,1719],"valid"],[[1720,1721],"valid"],[[1722,1726],"valid"],[[1727,1727],"valid"],[[1728,1742],"valid"],[[1743,1743],"valid"],[[1744,1747],"valid"],[[1748,1748],"valid",[],"NV8"],[[1749,1756],"valid"],[[1757,1757],"disallowed"],[[1758,1758],"valid",[],"NV8"],[[1759,1768],"valid"],[[1769,1769],"valid",[],"NV8"],[[1770,1773],"valid"],[[1774,1775],"valid"],[[1776,1785],"valid"],[[1786,1790],"valid"],[[1791,1791],"valid"],[[1792,1805],"valid",[],"NV8"],[[1806,1806],"disallowed"],[[1807,1807],"disallowed"],[[1808,1836],"valid"],[[1837,1839],"valid"],[[1840,1866],"valid"],[[1867,1868],"disallowed"],[[1869,1871],"valid"],[[1872,1901],"valid"],[[1902,1919],"valid"],[[1920,1968],"valid"],[[1969,1969],"valid"],[[1970,1983],"disallowed"],[[1984,2037],"valid"],[[2038,2042],"valid",[],"NV8"],[[2043,2047],"disallowed"],[[2048,2093],"valid"],[[2094,2095],"disallowed"],[[2096,2110],"valid",[],"NV8"],[[2111,2111],"disallowed"],[[2112,2139],"valid"],[[2140,2141],"disallowed"],[[2142,2142],"valid",[],"NV8"],[[2143,2207],"disallowed"],[[2208,2208],"valid"],[[2209,2209],"valid"],[[2210,2220],"valid"],[[2221,2226],"valid"],[[2227,2228],"valid"],[[2229,2274],"disallowed"],[[2275,2275],"valid"],[[2276,2302],"valid"],[[2303,2303],"valid"],[[2304,2304],"valid"],[[2305,2307],"valid"],[[2308,2308],"valid"],[[2309,2361],"valid"],[[2362,2363],"valid"],[[2364,2381],"valid"],[[2382,2382],"valid"],[[2383,2383],"valid"],[[2384,2388],"valid"],[[2389,2389],"valid"],[[2390,2391],"valid"],[[2392,2392],"mapped",[2325,2364]],[[2393,2393],"mapped",[2326,2364]],[[2394,2394],"mapped",[2327,2364]],[[2395,2395],"mapped",[2332,2364]],[[2396,2396],"mapped",[2337,2364]],[[2397,2397],"mapped",[2338,2364]],[[2398,2398],"mapped",[2347,2364]],[[2399,2399],"mapped",[2351,2364]],[[2400,2403],"valid"],[[2404,2405],"valid",[],"NV8"],[[2406,2415],"valid"],[[2416,2416],"valid",[],"NV8"],[[2417,2418],"valid"],[[2419,2423],"valid"],[[2424,2424],"valid"],[[2425,2426],"valid"],[[2427,2428],"valid"],[[2429,2429],"valid"],[[2430,2431],"valid"],[[2432,2432],"valid"],[[2433,2435],"valid"],[[2436,2436],"disallowed"],[[2437,2444],"valid"],[[2445,2446],"disallowed"],[[2447,2448],"valid"],[[2449,2450],"disallowed"],[[2451,2472],"valid"],[[2473,2473],"disallowed"],[[2474,2480],"valid"],[[2481,2481],"disallowed"],[[2482,2482],"valid"],[[2483,2485],"disallowed"],[[2486,2489],"valid"],[[2490,2491],"disallowed"],[[2492,2492],"valid"],[[2493,2493],"valid"],[[2494,2500],"valid"],[[2501,2502],"disallowed"],[[2503,2504],"valid"],[[2505,2506],"disallowed"],[[2507,2509],"valid"],[[2510,2510],"valid"],[[2511,2518],"disallowed"],[[2519,2519],"valid"],[[2520,2523],"disallowed"],[[2524,2524],"mapped",[2465,2492]],[[2525,2525],"mapped",[2466,2492]],[[2526,2526],"disallowed"],[[2527,2527],"mapped",[2479,2492]],[[2528,2531],"valid"],[[2532,2533],"disallowed"],[[2534,2545],"valid"],[[2546,2554],"valid",[],"NV8"],[[2555,2555],"valid",[],"NV8"],[[2556,2560],"disallowed"],[[2561,2561],"valid"],[[2562,2562],"valid"],[[2563,2563],"valid"],[[2564,2564],"disallowed"],[[2565,2570],"valid"],[[2571,2574],"disallowed"],[[2575,2576],"valid"],[[2577,2578],"disallowed"],[[2579,2600],"valid"],[[2601,2601],"disallowed"],[[2602,2608],"valid"],[[2609,2609],"disallowed"],[[2610,2610],"valid"],[[2611,2611],"mapped",[2610,2620]],[[2612,2612],"disallowed"],[[2613,2613],"valid"],[[2614,2614],"mapped",[2616,2620]],[[2615,2615],"disallowed"],[[2616,2617],"valid"],[[2618,2619],"disallowed"],[[2620,2620],"valid"],[[2621,2621],"disallowed"],[[2622,2626],"valid"],[[2627,2630],"disallowed"],[[2631,2632],"valid"],[[2633,2634],"disallowed"],[[2635,2637],"valid"],[[2638,2640],"disallowed"],[[2641,2641],"valid"],[[2642,2648],"disallowed"],[[2649,2649],"mapped",[2582,2620]],[[2650,2650],"mapped",[2583,2620]],[[2651,2651],"mapped",[2588,2620]],[[2652,2652],"valid"],[[2653,2653],"disallowed"],[[2654,2654],"mapped",[2603,2620]],[[2655,2661],"disallowed"],[[2662,2676],"valid"],[[2677,2677],"valid"],[[2678,2688],"disallowed"],[[2689,2691],"valid"],[[2692,2692],"disallowed"],[[2693,2699],"valid"],[[2700,2700],"valid"],[[2701,2701],"valid"],[[2702,2702],"disallowed"],[[2703,2705],"valid"],[[2706,2706],"disallowed"],[[2707,2728],"valid"],[[2729,2729],"disallowed"],[[2730,2736],"valid"],[[2737,2737],"disallowed"],[[2738,2739],"valid"],[[2740,2740],"disallowed"],[[2741,2745],"valid"],[[2746,2747],"disallowed"],[[2748,2757],"valid"],[[2758,2758],"disallowed"],[[2759,2761],"valid"],[[2762,2762],"disallowed"],[[2763,2765],"valid"],[[2766,2767],"disallowed"],[[2768,2768],"valid"],[[2769,2783],"disallowed"],[[2784,2784],"valid"],[[2785,2787],"valid"],[[2788,2789],"disallowed"],[[2790,2799],"valid"],[[2800,2800],"valid",[],"NV8"],[[2801,2801],"valid",[],"NV8"],[[2802,2808],"disallowed"],[[2809,2809],"valid"],[[2810,2816],"disallowed"],[[2817,2819],"valid"],[[2820,2820],"disallowed"],[[2821,2828],"valid"],[[2829,2830],"disallowed"],[[2831,2832],"valid"],[[2833,2834],"disallowed"],[[2835,2856],"valid"],[[2857,2857],"disallowed"],[[2858,2864],"valid"],[[2865,2865],"disallowed"],[[2866,2867],"valid"],[[2868,2868],"disallowed"],[[2869,2869],"valid"],[[2870,2873],"valid"],[[2874,2875],"disallowed"],[[2876,2883],"valid"],[[2884,2884],"valid"],[[2885,2886],"disallowed"],[[2887,2888],"valid"],[[2889,2890],"disallowed"],[[2891,2893],"valid"],[[2894,2901],"disallowed"],[[2902,2903],"valid"],[[2904,2907],"disallowed"],[[2908,2908],"mapped",[2849,2876]],[[2909,2909],"mapped",[2850,2876]],[[2910,2910],"disallowed"],[[2911,2913],"valid"],[[2914,2915],"valid"],[[2916,2917],"disallowed"],[[2918,2927],"valid"],[[2928,2928],"valid",[],"NV8"],[[2929,2929],"valid"],[[2930,2935],"valid",[],"NV8"],[[2936,2945],"disallowed"],[[2946,2947],"valid"],[[2948,2948],"disallowed"],[[2949,2954],"valid"],[[2955,2957],"disallowed"],[[2958,2960],"valid"],[[2961,2961],"disallowed"],[[2962,2965],"valid"],[[2966,2968],"disallowed"],[[2969,2970],"valid"],[[2971,2971],"disallowed"],[[2972,2972],"valid"],[[2973,2973],"disallowed"],[[2974,2975],"valid"],[[2976,2978],"disallowed"],[[2979,2980],"valid"],[[2981,2983],"disallowed"],[[2984,2986],"valid"],[[2987,2989],"disallowed"],[[2990,2997],"valid"],[[2998,2998],"valid"],[[2999,3001],"valid"],[[3002,3005],"disallowed"],[[3006,3010],"valid"],[[3011,3013],"disallowed"],[[3014,3016],"valid"],[[3017,3017],"disallowed"],[[3018,3021],"valid"],[[3022,3023],"disallowed"],[[3024,3024],"valid"],[[3025,3030],"disallowed"],[[3031,3031],"valid"],[[3032,3045],"disallowed"],[[3046,3046],"valid"],[[3047,3055],"valid"],[[3056,3058],"valid",[],"NV8"],[[3059,3066],"valid",[],"NV8"],[[3067,3071],"disallowed"],[[3072,3072],"valid"],[[3073,3075],"valid"],[[3076,3076],"disallowed"],[[3077,3084],"valid"],[[3085,3085],"disallowed"],[[3086,3088],"valid"],[[3089,3089],"disallowed"],[[3090,3112],"valid"],[[3113,3113],"disallowed"],[[3114,3123],"valid"],[[3124,3124],"valid"],[[3125,3129],"valid"],[[3130,3132],"disallowed"],[[3133,3133],"valid"],[[3134,3140],"valid"],[[3141,3141],"disallowed"],[[3142,3144],"valid"],[[3145,3145],"disallowed"],[[3146,3149],"valid"],[[3150,3156],"disallowed"],[[3157,3158],"valid"],[[3159,3159],"disallowed"],[[3160,3161],"valid"],[[3162,3162],"valid"],[[3163,3167],"disallowed"],[[3168,3169],"valid"],[[3170,3171],"valid"],[[3172,3173],"disallowed"],[[3174,3183],"valid"],[[3184,3191],"disallowed"],[[3192,3199],"valid",[],"NV8"],[[3200,3200],"disallowed"],[[3201,3201],"valid"],[[3202,3203],"valid"],[[3204,3204],"disallowed"],[[3205,3212],"valid"],[[3213,3213],"disallowed"],[[3214,3216],"valid"],[[3217,3217],"disallowed"],[[3218,3240],"valid"],[[3241,3241],"disallowed"],[[3242,3251],"valid"],[[3252,3252],"disallowed"],[[3253,3257],"valid"],[[3258,3259],"disallowed"],[[3260,3261],"valid"],[[3262,3268],"valid"],[[3269,3269],"disallowed"],[[3270,3272],"valid"],[[3273,3273],"disallowed"],[[3274,3277],"valid"],[[3278,3284],"disallowed"],[[3285,3286],"valid"],[[3287,3293],"disallowed"],[[3294,3294],"valid"],[[3295,3295],"disallowed"],[[3296,3297],"valid"],[[3298,3299],"valid"],[[3300,3301],"disallowed"],[[3302,3311],"valid"],[[3312,3312],"disallowed"],[[3313,3314],"valid"],[[3315,3328],"disallowed"],[[3329,3329],"valid"],[[3330,3331],"valid"],[[3332,3332],"disallowed"],[[3333,3340],"valid"],[[3341,3341],"disallowed"],[[3342,3344],"valid"],[[3345,3345],"disallowed"],[[3346,3368],"valid"],[[3369,3369],"valid"],[[3370,3385],"valid"],[[3386,3386],"valid"],[[3387,3388],"disallowed"],[[3389,3389],"valid"],[[3390,3395],"valid"],[[3396,3396],"valid"],[[3397,3397],"disallowed"],[[3398,3400],"valid"],[[3401,3401],"disallowed"],[[3402,3405],"valid"],[[3406,3406],"valid"],[[3407,3414],"disallowed"],[[3415,3415],"valid"],[[3416,3422],"disallowed"],[[3423,3423],"valid"],[[3424,3425],"valid"],[[3426,3427],"valid"],[[3428,3429],"disallowed"],[[3430,3439],"valid"],[[3440,3445],"valid",[],"NV8"],[[3446,3448],"disallowed"],[[3449,3449],"valid",[],"NV8"],[[3450,3455],"valid"],[[3456,3457],"disallowed"],[[3458,3459],"valid"],[[3460,3460],"disallowed"],[[3461,3478],"valid"],[[3479,3481],"disallowed"],[[3482,3505],"valid"],[[3506,3506],"disallowed"],[[3507,3515],"valid"],[[3516,3516],"disallowed"],[[3517,3517],"valid"],[[3518,3519],"disallowed"],[[3520,3526],"valid"],[[3527,3529],"disallowed"],[[3530,3530],"valid"],[[3531,3534],"disallowed"],[[3535,3540],"valid"],[[3541,3541],"disallowed"],[[3542,3542],"valid"],[[3543,3543],"disallowed"],[[3544,3551],"valid"],[[3552,3557],"disallowed"],[[3558,3567],"valid"],[[3568,3569],"disallowed"],[[3570,3571],"valid"],[[3572,3572],"valid",[],"NV8"],[[3573,3584],"disallowed"],[[3585,3634],"valid"],[[3635,3635],"mapped",[3661,3634]],[[3636,3642],"valid"],[[3643,3646],"disallowed"],[[3647,3647],"valid",[],"NV8"],[[3648,3662],"valid"],[[3663,3663],"valid",[],"NV8"],[[3664,3673],"valid"],[[3674,3675],"valid",[],"NV8"],[[3676,3712],"disallowed"],[[3713,3714],"valid"],[[3715,3715],"disallowed"],[[3716,3716],"valid"],[[3717,3718],"disallowed"],[[3719,3720],"valid"],[[3721,3721],"disallowed"],[[3722,3722],"valid"],[[3723,3724],"disallowed"],[[3725,3725],"valid"],[[3726,3731],"disallowed"],[[3732,3735],"valid"],[[3736,3736],"disallowed"],[[3737,3743],"valid"],[[3744,3744],"disallowed"],[[3745,3747],"valid"],[[3748,3748],"disallowed"],[[3749,3749],"valid"],[[3750,3750],"disallowed"],[[3751,3751],"valid"],[[3752,3753],"disallowed"],[[3754,3755],"valid"],[[3756,3756],"disallowed"],[[3757,3762],"valid"],[[3763,3763],"mapped",[3789,3762]],[[3764,3769],"valid"],[[3770,3770],"disallowed"],[[3771,3773],"valid"],[[3774,3775],"disallowed"],[[3776,3780],"valid"],[[3781,3781],"disallowed"],[[3782,3782],"valid"],[[3783,3783],"disallowed"],[[3784,3789],"valid"],[[3790,3791],"disallowed"],[[3792,3801],"valid"],[[3802,3803],"disallowed"],[[3804,3804],"mapped",[3755,3737]],[[3805,3805],"mapped",[3755,3745]],[[3806,3807],"valid"],[[3808,3839],"disallowed"],[[3840,3840],"valid"],[[3841,3850],"valid",[],"NV8"],[[3851,3851],"valid"],[[3852,3852],"mapped",[3851]],[[3853,3863],"valid",[],"NV8"],[[3864,3865],"valid"],[[3866,3871],"valid",[],"NV8"],[[3872,3881],"valid"],[[3882,3892],"valid",[],"NV8"],[[3893,3893],"valid"],[[3894,3894],"valid",[],"NV8"],[[3895,3895],"valid"],[[3896,3896],"valid",[],"NV8"],[[3897,3897],"valid"],[[3898,3901],"valid",[],"NV8"],[[3902,3906],"valid"],[[3907,3907],"mapped",[3906,4023]],[[3908,3911],"valid"],[[3912,3912],"disallowed"],[[3913,3916],"valid"],[[3917,3917],"mapped",[3916,4023]],[[3918,3921],"valid"],[[3922,3922],"mapped",[3921,4023]],[[3923,3926],"valid"],[[3927,3927],"mapped",[3926,4023]],[[3928,3931],"valid"],[[3932,3932],"mapped",[3931,4023]],[[3933,3944],"valid"],[[3945,3945],"mapped",[3904,4021]],[[3946,3946],"valid"],[[3947,3948],"valid"],[[3949,3952],"disallowed"],[[3953,3954],"valid"],[[3955,3955],"mapped",[3953,3954]],[[3956,3956],"valid"],[[3957,3957],"mapped",[3953,3956]],[[3958,3958],"mapped",[4018,3968]],[[3959,3959],"mapped",[4018,3953,3968]],[[3960,3960],"mapped",[4019,3968]],[[3961,3961],"mapped",[4019,3953,3968]],[[3962,3968],"valid"],[[3969,3969],"mapped",[3953,3968]],[[3970,3972],"valid"],[[3973,3973],"valid",[],"NV8"],[[3974,3979],"valid"],[[3980,3983],"valid"],[[3984,3986],"valid"],[[3987,3987],"mapped",[3986,4023]],[[3988,3989],"valid"],[[3990,3990],"valid"],[[3991,3991],"valid"],[[3992,3992],"disallowed"],[[3993,3996],"valid"],[[3997,3997],"mapped",[3996,4023]],[[3998,4001],"valid"],[[4002,4002],"mapped",[4001,4023]],[[4003,4006],"valid"],[[4007,4007],"mapped",[4006,4023]],[[4008,4011],"valid"],[[4012,4012],"mapped",[4011,4023]],[[4013,4013],"valid"],[[4014,4016],"valid"],[[4017,4023],"valid"],[[4024,4024],"valid"],[[4025,4025],"mapped",[3984,4021]],[[4026,4028],"valid"],[[4029,4029],"disallowed"],[[4030,4037],"valid",[],"NV8"],[[4038,4038],"valid"],[[4039,4044],"valid",[],"NV8"],[[4045,4045],"disallowed"],[[4046,4046],"valid",[],"NV8"],[[4047,4047],"valid",[],"NV8"],[[4048,4049],"valid",[],"NV8"],[[4050,4052],"valid",[],"NV8"],[[4053,4056],"valid",[],"NV8"],[[4057,4058],"valid",[],"NV8"],[[4059,4095],"disallowed"],[[4096,4129],"valid"],[[4130,4130],"valid"],[[4131,4135],"valid"],[[4136,4136],"valid"],[[4137,4138],"valid"],[[4139,4139],"valid"],[[4140,4146],"valid"],[[4147,4149],"valid"],[[4150,4153],"valid"],[[4154,4159],"valid"],[[4160,4169],"valid"],[[4170,4175],"valid",[],"NV8"],[[4176,4185],"valid"],[[4186,4249],"valid"],[[4250,4253],"valid"],[[4254,4255],"valid",[],"NV8"],[[4256,4293],"disallowed"],[[4294,4294],"disallowed"],[[4295,4295],"mapped",[11559]],[[4296,4300],"disallowed"],[[4301,4301],"mapped",[11565]],[[4302,4303],"disallowed"],[[4304,4342],"valid"],[[4343,4344],"valid"],[[4345,4346],"valid"],[[4347,4347],"valid",[],"NV8"],[[4348,4348],"mapped",[4316]],[[4349,4351],"valid"],[[4352,4441],"valid",[],"NV8"],[[4442,4446],"valid",[],"NV8"],[[4447,4448],"disallowed"],[[4449,4514],"valid",[],"NV8"],[[4515,4519],"valid",[],"NV8"],[[4520,4601],"valid",[],"NV8"],[[4602,4607],"valid",[],"NV8"],[[4608,4614],"valid"],[[4615,4615],"valid"],[[4616,4678],"valid"],[[4679,4679],"valid"],[[4680,4680],"valid"],[[4681,4681],"disallowed"],[[4682,4685],"valid"],[[4686,4687],"disallowed"],[[4688,4694],"valid"],[[4695,4695],"disallowed"],[[4696,4696],"valid"],[[4697,4697],"disallowed"],[[4698,4701],"valid"],[[4702,4703],"disallowed"],[[4704,4742],"valid"],[[4743,4743],"valid"],[[4744,4744],"valid"],[[4745,4745],"disallowed"],[[4746,4749],"valid"],[[4750,4751],"disallowed"],[[4752,4782],"valid"],[[4783,4783],"valid"],[[4784,4784],"valid"],[[4785,4785],"disallowed"],[[4786,4789],"valid"],[[4790,4791],"disallowed"],[[4792,4798],"valid"],[[4799,4799],"disallowed"],[[4800,4800],"valid"],[[4801,4801],"disallowed"],[[4802,4805],"valid"],[[4806,4807],"disallowed"],[[4808,4814],"valid"],[[4815,4815],"valid"],[[4816,4822],"valid"],[[4823,4823],"disallowed"],[[4824,4846],"valid"],[[4847,4847],"valid"],[[4848,4878],"valid"],[[4879,4879],"valid"],[[4880,4880],"valid"],[[4881,4881],"disallowed"],[[4882,4885],"valid"],[[4886,4887],"disallowed"],[[4888,4894],"valid"],[[4895,4895],"valid"],[[4896,4934],"valid"],[[4935,4935],"valid"],[[4936,4954],"valid"],[[4955,4956],"disallowed"],[[4957,4958],"valid"],[[4959,4959],"valid"],[[4960,4960],"valid",[],"NV8"],[[4961,4988],"valid",[],"NV8"],[[4989,4991],"disallowed"],[[4992,5007],"valid"],[[5008,5017],"valid",[],"NV8"],[[5018,5023],"disallowed"],[[5024,5108],"valid"],[[5109,5109],"valid"],[[5110,5111],"disallowed"],[[5112,5112],"mapped",[5104]],[[5113,5113],"mapped",[5105]],[[5114,5114],"mapped",[5106]],[[5115,5115],"mapped",[5107]],[[5116,5116],"mapped",[5108]],[[5117,5117],"mapped",[5109]],[[5118,5119],"disallowed"],[[5120,5120],"valid",[],"NV8"],[[5121,5740],"valid"],[[5741,5742],"valid",[],"NV8"],[[5743,5750],"valid"],[[5751,5759],"valid"],[[5760,5760],"disallowed"],[[5761,5786],"valid"],[[5787,5788],"valid",[],"NV8"],[[5789,5791],"disallowed"],[[5792,5866],"valid"],[[5867,5872],"valid",[],"NV8"],[[5873,5880],"valid"],[[5881,5887],"disallowed"],[[5888,5900],"valid"],[[5901,5901],"disallowed"],[[5902,5908],"valid"],[[5909,5919],"disallowed"],[[5920,5940],"valid"],[[5941,5942],"valid",[],"NV8"],[[5943,5951],"disallowed"],[[5952,5971],"valid"],[[5972,5983],"disallowed"],[[5984,5996],"valid"],[[5997,5997],"disallowed"],[[5998,6e3],"valid"],[[6001,6001],"disallowed"],[[6002,6003],"valid"],[[6004,6015],"disallowed"],[[6016,6067],"valid"],[[6068,6069],"disallowed"],[[6070,6099],"valid"],[[6100,6102],"valid",[],"NV8"],[[6103,6103],"valid"],[[6104,6107],"valid",[],"NV8"],[[6108,6108],"valid"],[[6109,6109],"valid"],[[6110,6111],"disallowed"],[[6112,6121],"valid"],[[6122,6127],"disallowed"],[[6128,6137],"valid",[],"NV8"],[[6138,6143],"disallowed"],[[6144,6149],"valid",[],"NV8"],[[6150,6150],"disallowed"],[[6151,6154],"valid",[],"NV8"],[[6155,6157],"ignored"],[[6158,6158],"disallowed"],[[6159,6159],"disallowed"],[[6160,6169],"valid"],[[6170,6175],"disallowed"],[[6176,6263],"valid"],[[6264,6271],"disallowed"],[[6272,6313],"valid"],[[6314,6314],"valid"],[[6315,6319],"disallowed"],[[6320,6389],"valid"],[[6390,6399],"disallowed"],[[6400,6428],"valid"],[[6429,6430],"valid"],[[6431,6431],"disallowed"],[[6432,6443],"valid"],[[6444,6447],"disallowed"],[[6448,6459],"valid"],[[6460,6463],"disallowed"],[[6464,6464],"valid",[],"NV8"],[[6465,6467],"disallowed"],[[6468,6469],"valid",[],"NV8"],[[6470,6509],"valid"],[[6510,6511],"disallowed"],[[6512,6516],"valid"],[[6517,6527],"disallowed"],[[6528,6569],"valid"],[[6570,6571],"valid"],[[6572,6575],"disallowed"],[[6576,6601],"valid"],[[6602,6607],"disallowed"],[[6608,6617],"valid"],[[6618,6618],"valid",[],"XV8"],[[6619,6621],"disallowed"],[[6622,6623],"valid",[],"NV8"],[[6624,6655],"valid",[],"NV8"],[[6656,6683],"valid"],[[6684,6685],"disallowed"],[[6686,6687],"valid",[],"NV8"],[[6688,6750],"valid"],[[6751,6751],"disallowed"],[[6752,6780],"valid"],[[6781,6782],"disallowed"],[[6783,6793],"valid"],[[6794,6799],"disallowed"],[[6800,6809],"valid"],[[6810,6815],"disallowed"],[[6816,6822],"valid",[],"NV8"],[[6823,6823],"valid"],[[6824,6829],"valid",[],"NV8"],[[6830,6831],"disallowed"],[[6832,6845],"valid"],[[6846,6846],"valid",[],"NV8"],[[6847,6911],"disallowed"],[[6912,6987],"valid"],[[6988,6991],"disallowed"],[[6992,7001],"valid"],[[7002,7018],"valid",[],"NV8"],[[7019,7027],"valid"],[[7028,7036],"valid",[],"NV8"],[[7037,7039],"disallowed"],[[7040,7082],"valid"],[[7083,7085],"valid"],[[7086,7097],"valid"],[[7098,7103],"valid"],[[7104,7155],"valid"],[[7156,7163],"disallowed"],[[7164,7167],"valid",[],"NV8"],[[7168,7223],"valid"],[[7224,7226],"disallowed"],[[7227,7231],"valid",[],"NV8"],[[7232,7241],"valid"],[[7242,7244],"disallowed"],[[7245,7293],"valid"],[[7294,7295],"valid",[],"NV8"],[[7296,7359],"disallowed"],[[7360,7367],"valid",[],"NV8"],[[7368,7375],"disallowed"],[[7376,7378],"valid"],[[7379,7379],"valid",[],"NV8"],[[7380,7410],"valid"],[[7411,7414],"valid"],[[7415,7415],"disallowed"],[[7416,7417],"valid"],[[7418,7423],"disallowed"],[[7424,7467],"valid"],[[7468,7468],"mapped",[97]],[[7469,7469],"mapped",[230]],[[7470,7470],"mapped",[98]],[[7471,7471],"valid"],[[7472,7472],"mapped",[100]],[[7473,7473],"mapped",[101]],[[7474,7474],"mapped",[477]],[[7475,7475],"mapped",[103]],[[7476,7476],"mapped",[104]],[[7477,7477],"mapped",[105]],[[7478,7478],"mapped",[106]],[[7479,7479],"mapped",[107]],[[7480,7480],"mapped",[108]],[[7481,7481],"mapped",[109]],[[7482,7482],"mapped",[110]],[[7483,7483],"valid"],[[7484,7484],"mapped",[111]],[[7485,7485],"mapped",[547]],[[7486,7486],"mapped",[112]],[[7487,7487],"mapped",[114]],[[7488,7488],"mapped",[116]],[[7489,7489],"mapped",[117]],[[7490,7490],"mapped",[119]],[[7491,7491],"mapped",[97]],[[7492,7492],"mapped",[592]],[[7493,7493],"mapped",[593]],[[7494,7494],"mapped",[7426]],[[7495,7495],"mapped",[98]],[[7496,7496],"mapped",[100]],[[7497,7497],"mapped",[101]],[[7498,7498],"mapped",[601]],[[7499,7499],"mapped",[603]],[[7500,7500],"mapped",[604]],[[7501,7501],"mapped",[103]],[[7502,7502],"valid"],[[7503,7503],"mapped",[107]],[[7504,7504],"mapped",[109]],[[7505,7505],"mapped",[331]],[[7506,7506],"mapped",[111]],[[7507,7507],"mapped",[596]],[[7508,7508],"mapped",[7446]],[[7509,7509],"mapped",[7447]],[[7510,7510],"mapped",[112]],[[7511,7511],"mapped",[116]],[[7512,7512],"mapped",[117]],[[7513,7513],"mapped",[7453]],[[7514,7514],"mapped",[623]],[[7515,7515],"mapped",[118]],[[7516,7516],"mapped",[7461]],[[7517,7517],"mapped",[946]],[[7518,7518],"mapped",[947]],[[7519,7519],"mapped",[948]],[[7520,7520],"mapped",[966]],[[7521,7521],"mapped",[967]],[[7522,7522],"mapped",[105]],[[7523,7523],"mapped",[114]],[[7524,7524],"mapped",[117]],[[7525,7525],"mapped",[118]],[[7526,7526],"mapped",[946]],[[7527,7527],"mapped",[947]],[[7528,7528],"mapped",[961]],[[7529,7529],"mapped",[966]],[[7530,7530],"mapped",[967]],[[7531,7531],"valid"],[[7532,7543],"valid"],[[7544,7544],"mapped",[1085]],[[7545,7578],"valid"],[[7579,7579],"mapped",[594]],[[7580,7580],"mapped",[99]],[[7581,7581],"mapped",[597]],[[7582,7582],"mapped",[240]],[[7583,7583],"mapped",[604]],[[7584,7584],"mapped",[102]],[[7585,7585],"mapped",[607]],[[7586,7586],"mapped",[609]],[[7587,7587],"mapped",[613]],[[7588,7588],"mapped",[616]],[[7589,7589],"mapped",[617]],[[7590,7590],"mapped",[618]],[[7591,7591],"mapped",[7547]],[[7592,7592],"mapped",[669]],[[7593,7593],"mapped",[621]],[[7594,7594],"mapped",[7557]],[[7595,7595],"mapped",[671]],[[7596,7596],"mapped",[625]],[[7597,7597],"mapped",[624]],[[7598,7598],"mapped",[626]],[[7599,7599],"mapped",[627]],[[7600,7600],"mapped",[628]],[[7601,7601],"mapped",[629]],[[7602,7602],"mapped",[632]],[[7603,7603],"mapped",[642]],[[7604,7604],"mapped",[643]],[[7605,7605],"mapped",[427]],[[7606,7606],"mapped",[649]],[[7607,7607],"mapped",[650]],[[7608,7608],"mapped",[7452]],[[7609,7609],"mapped",[651]],[[7610,7610],"mapped",[652]],[[7611,7611],"mapped",[122]],[[7612,7612],"mapped",[656]],[[7613,7613],"mapped",[657]],[[7614,7614],"mapped",[658]],[[7615,7615],"mapped",[952]],[[7616,7619],"valid"],[[7620,7626],"valid"],[[7627,7654],"valid"],[[7655,7669],"valid"],[[7670,7675],"disallowed"],[[7676,7676],"valid"],[[7677,7677],"valid"],[[7678,7679],"valid"],[[7680,7680],"mapped",[7681]],[[7681,7681],"valid"],[[7682,7682],"mapped",[7683]],[[7683,7683],"valid"],[[7684,7684],"mapped",[7685]],[[7685,7685],"valid"],[[7686,7686],"mapped",[7687]],[[7687,7687],"valid"],[[7688,7688],"mapped",[7689]],[[7689,7689],"valid"],[[7690,7690],"mapped",[7691]],[[7691,7691],"valid"],[[7692,7692],"mapped",[7693]],[[7693,7693],"valid"],[[7694,7694],"mapped",[7695]],[[7695,7695],"valid"],[[7696,7696],"mapped",[7697]],[[7697,7697],"valid"],[[7698,7698],"mapped",[7699]],[[7699,7699],"valid"],[[7700,7700],"mapped",[7701]],[[7701,7701],"valid"],[[7702,7702],"mapped",[7703]],[[7703,7703],"valid"],[[7704,7704],"mapped",[7705]],[[7705,7705],"valid"],[[7706,7706],"mapped",[7707]],[[7707,7707],"valid"],[[7708,7708],"mapped",[7709]],[[7709,7709],"valid"],[[7710,7710],"mapped",[7711]],[[7711,7711],"valid"],[[7712,7712],"mapped",[7713]],[[7713,7713],"valid"],[[7714,7714],"mapped",[7715]],[[7715,7715],"valid"],[[7716,7716],"mapped",[7717]],[[7717,7717],"valid"],[[7718,7718],"mapped",[7719]],[[7719,7719],"valid"],[[7720,7720],"mapped",[7721]],[[7721,7721],"valid"],[[7722,7722],"mapped",[7723]],[[7723,7723],"valid"],[[7724,7724],"mapped",[7725]],[[7725,7725],"valid"],[[7726,7726],"mapped",[7727]],[[7727,7727],"valid"],[[7728,7728],"mapped",[7729]],[[7729,7729],"valid"],[[7730,7730],"mapped",[7731]],[[7731,7731],"valid"],[[7732,7732],"mapped",[7733]],[[7733,7733],"valid"],[[7734,7734],"mapped",[7735]],[[7735,7735],"valid"],[[7736,7736],"mapped",[7737]],[[7737,7737],"valid"],[[7738,7738],"mapped",[7739]],[[7739,7739],"valid"],[[7740,7740],"mapped",[7741]],[[7741,7741],"valid"],[[7742,7742],"mapped",[7743]],[[7743,7743],"valid"],[[7744,7744],"mapped",[7745]],[[7745,7745],"valid"],[[7746,7746],"mapped",[7747]],[[7747,7747],"valid"],[[7748,7748],"mapped",[7749]],[[7749,7749],"valid"],[[7750,7750],"mapped",[7751]],[[7751,7751],"valid"],[[7752,7752],"mapped",[7753]],[[7753,7753],"valid"],[[7754,7754],"mapped",[7755]],[[7755,7755],"valid"],[[7756,7756],"mapped",[7757]],[[7757,7757],"valid"],[[7758,7758],"mapped",[7759]],[[7759,7759],"valid"],[[7760,7760],"mapped",[7761]],[[7761,7761],"valid"],[[7762,7762],"mapped",[7763]],[[7763,7763],"valid"],[[7764,7764],"mapped",[7765]],[[7765,7765],"valid"],[[7766,7766],"mapped",[7767]],[[7767,7767],"valid"],[[7768,7768],"mapped",[7769]],[[7769,7769],"valid"],[[7770,7770],"mapped",[7771]],[[7771,7771],"valid"],[[7772,7772],"mapped",[7773]],[[7773,7773],"valid"],[[7774,7774],"mapped",[7775]],[[7775,7775],"valid"],[[7776,7776],"mapped",[7777]],[[7777,7777],"valid"],[[7778,7778],"mapped",[7779]],[[7779,7779],"valid"],[[7780,7780],"mapped",[7781]],[[7781,7781],"valid"],[[7782,7782],"mapped",[7783]],[[7783,7783],"valid"],[[7784,7784],"mapped",[7785]],[[7785,7785],"valid"],[[7786,7786],"mapped",[7787]],[[7787,7787],"valid"],[[7788,7788],"mapped",[7789]],[[7789,7789],"valid"],[[7790,7790],"mapped",[7791]],[[7791,7791],"valid"],[[7792,7792],"mapped",[7793]],[[7793,7793],"valid"],[[7794,7794],"mapped",[7795]],[[7795,7795],"valid"],[[7796,7796],"mapped",[7797]],[[7797,7797],"valid"],[[7798,7798],"mapped",[7799]],[[7799,7799],"valid"],[[7800,7800],"mapped",[7801]],[[7801,7801],"valid"],[[7802,7802],"mapped",[7803]],[[7803,7803],"valid"],[[7804,7804],"mapped",[7805]],[[7805,7805],"valid"],[[7806,7806],"mapped",[7807]],[[7807,7807],"valid"],[[7808,7808],"mapped",[7809]],[[7809,7809],"valid"],[[7810,7810],"mapped",[7811]],[[7811,7811],"valid"],[[7812,7812],"mapped",[7813]],[[7813,7813],"valid"],[[7814,7814],"mapped",[7815]],[[7815,7815],"valid"],[[7816,7816],"mapped",[7817]],[[7817,7817],"valid"],[[7818,7818],"mapped",[7819]],[[7819,7819],"valid"],[[7820,7820],"mapped",[7821]],[[7821,7821],"valid"],[[7822,7822],"mapped",[7823]],[[7823,7823],"valid"],[[7824,7824],"mapped",[7825]],[[7825,7825],"valid"],[[7826,7826],"mapped",[7827]],[[7827,7827],"valid"],[[7828,7828],"mapped",[7829]],[[7829,7833],"valid"],[[7834,7834],"mapped",[97,702]],[[7835,7835],"mapped",[7777]],[[7836,7837],"valid"],[[7838,7838],"mapped",[115,115]],[[7839,7839],"valid"],[[7840,7840],"mapped",[7841]],[[7841,7841],"valid"],[[7842,7842],"mapped",[7843]],[[7843,7843],"valid"],[[7844,7844],"mapped",[7845]],[[7845,7845],"valid"],[[7846,7846],"mapped",[7847]],[[7847,7847],"valid"],[[7848,7848],"mapped",[7849]],[[7849,7849],"valid"],[[7850,7850],"mapped",[7851]],[[7851,7851],"valid"],[[7852,7852],"mapped",[7853]],[[7853,7853],"valid"],[[7854,7854],"mapped",[7855]],[[7855,7855],"valid"],[[7856,7856],"mapped",[7857]],[[7857,7857],"valid"],[[7858,7858],"mapped",[7859]],[[7859,7859],"valid"],[[7860,7860],"mapped",[7861]],[[7861,7861],"valid"],[[7862,7862],"mapped",[7863]],[[7863,7863],"valid"],[[7864,7864],"mapped",[7865]],[[7865,7865],"valid"],[[7866,7866],"mapped",[7867]],[[7867,7867],"valid"],[[7868,7868],"mapped",[7869]],[[7869,7869],"valid"],[[7870,7870],"mapped",[7871]],[[7871,7871],"valid"],[[7872,7872],"mapped",[7873]],[[7873,7873],"valid"],[[7874,7874],"mapped",[7875]],[[7875,7875],"valid"],[[7876,7876],"mapped",[7877]],[[7877,7877],"valid"],[[7878,7878],"mapped",[7879]],[[7879,7879],"valid"],[[7880,7880],"mapped",[7881]],[[7881,7881],"valid"],[[7882,7882],"mapped",[7883]],[[7883,7883],"valid"],[[7884,7884],"mapped",[7885]],[[7885,7885],"valid"],[[7886,7886],"mapped",[7887]],[[7887,7887],"valid"],[[7888,7888],"mapped",[7889]],[[7889,7889],"valid"],[[7890,7890],"mapped",[7891]],[[7891,7891],"valid"],[[7892,7892],"mapped",[7893]],[[7893,7893],"valid"],[[7894,7894],"mapped",[7895]],[[7895,7895],"valid"],[[7896,7896],"mapped",[7897]],[[7897,7897],"valid"],[[7898,7898],"mapped",[7899]],[[7899,7899],"valid"],[[7900,7900],"mapped",[7901]],[[7901,7901],"valid"],[[7902,7902],"mapped",[7903]],[[7903,7903],"valid"],[[7904,7904],"mapped",[7905]],[[7905,7905],"valid"],[[7906,7906],"mapped",[7907]],[[7907,7907],"valid"],[[7908,7908],"mapped",[7909]],[[7909,7909],"valid"],[[7910,7910],"mapped",[7911]],[[7911,7911],"valid"],[[7912,7912],"mapped",[7913]],[[7913,7913],"valid"],[[7914,7914],"mapped",[7915]],[[7915,7915],"valid"],[[7916,7916],"mapped",[7917]],[[7917,7917],"valid"],[[7918,7918],"mapped",[7919]],[[7919,7919],"valid"],[[7920,7920],"mapped",[7921]],[[7921,7921],"valid"],[[7922,7922],"mapped",[7923]],[[7923,7923],"valid"],[[7924,7924],"mapped",[7925]],[[7925,7925],"valid"],[[7926,7926],"mapped",[7927]],[[7927,7927],"valid"],[[7928,7928],"mapped",[7929]],[[7929,7929],"valid"],[[7930,7930],"mapped",[7931]],[[7931,7931],"valid"],[[7932,7932],"mapped",[7933]],[[7933,7933],"valid"],[[7934,7934],"mapped",[7935]],[[7935,7935],"valid"],[[7936,7943],"valid"],[[7944,7944],"mapped",[7936]],[[7945,7945],"mapped",[7937]],[[7946,7946],"mapped",[7938]],[[7947,7947],"mapped",[7939]],[[7948,7948],"mapped",[7940]],[[7949,7949],"mapped",[7941]],[[7950,7950],"mapped",[7942]],[[7951,7951],"mapped",[7943]],[[7952,7957],"valid"],[[7958,7959],"disallowed"],[[7960,7960],"mapped",[7952]],[[7961,7961],"mapped",[7953]],[[7962,7962],"mapped",[7954]],[[7963,7963],"mapped",[7955]],[[7964,7964],"mapped",[7956]],[[7965,7965],"mapped",[7957]],[[7966,7967],"disallowed"],[[7968,7975],"valid"],[[7976,7976],"mapped",[7968]],[[7977,7977],"mapped",[7969]],[[7978,7978],"mapped",[7970]],[[7979,7979],"mapped",[7971]],[[7980,7980],"mapped",[7972]],[[7981,7981],"mapped",[7973]],[[7982,7982],"mapped",[7974]],[[7983,7983],"mapped",[7975]],[[7984,7991],"valid"],[[7992,7992],"mapped",[7984]],[[7993,7993],"mapped",[7985]],[[7994,7994],"mapped",[7986]],[[7995,7995],"mapped",[7987]],[[7996,7996],"mapped",[7988]],[[7997,7997],"mapped",[7989]],[[7998,7998],"mapped",[7990]],[[7999,7999],"mapped",[7991]],[[8e3,8005],"valid"],[[8006,8007],"disallowed"],[[8008,8008],"mapped",[8e3]],[[8009,8009],"mapped",[8001]],[[8010,8010],"mapped",[8002]],[[8011,8011],"mapped",[8003]],[[8012,8012],"mapped",[8004]],[[8013,8013],"mapped",[8005]],[[8014,8015],"disallowed"],[[8016,8023],"valid"],[[8024,8024],"disallowed"],[[8025,8025],"mapped",[8017]],[[8026,8026],"disallowed"],[[8027,8027],"mapped",[8019]],[[8028,8028],"disallowed"],[[8029,8029],"mapped",[8021]],[[8030,8030],"disallowed"],[[8031,8031],"mapped",[8023]],[[8032,8039],"valid"],[[8040,8040],"mapped",[8032]],[[8041,8041],"mapped",[8033]],[[8042,8042],"mapped",[8034]],[[8043,8043],"mapped",[8035]],[[8044,8044],"mapped",[8036]],[[8045,8045],"mapped",[8037]],[[8046,8046],"mapped",[8038]],[[8047,8047],"mapped",[8039]],[[8048,8048],"valid"],[[8049,8049],"mapped",[940]],[[8050,8050],"valid"],[[8051,8051],"mapped",[941]],[[8052,8052],"valid"],[[8053,8053],"mapped",[942]],[[8054,8054],"valid"],[[8055,8055],"mapped",[943]],[[8056,8056],"valid"],[[8057,8057],"mapped",[972]],[[8058,8058],"valid"],[[8059,8059],"mapped",[973]],[[8060,8060],"valid"],[[8061,8061],"mapped",[974]],[[8062,8063],"disallowed"],[[8064,8064],"mapped",[7936,953]],[[8065,8065],"mapped",[7937,953]],[[8066,8066],"mapped",[7938,953]],[[8067,8067],"mapped",[7939,953]],[[8068,8068],"mapped",[7940,953]],[[8069,8069],"mapped",[7941,953]],[[8070,8070],"mapped",[7942,953]],[[8071,8071],"mapped",[7943,953]],[[8072,8072],"mapped",[7936,953]],[[8073,8073],"mapped",[7937,953]],[[8074,8074],"mapped",[7938,953]],[[8075,8075],"mapped",[7939,953]],[[8076,8076],"mapped",[7940,953]],[[8077,8077],"mapped",[7941,953]],[[8078,8078],"mapped",[7942,953]],[[8079,8079],"mapped",[7943,953]],[[8080,8080],"mapped",[7968,953]],[[8081,8081],"mapped",[7969,953]],[[8082,8082],"mapped",[7970,953]],[[8083,8083],"mapped",[7971,953]],[[8084,8084],"mapped",[7972,953]],[[8085,8085],"mapped",[7973,953]],[[8086,8086],"mapped",[7974,953]],[[8087,8087],"mapped",[7975,953]],[[8088,8088],"mapped",[7968,953]],[[8089,8089],"mapped",[7969,953]],[[8090,8090],"mapped",[7970,953]],[[8091,8091],"mapped",[7971,953]],[[8092,8092],"mapped",[7972,953]],[[8093,8093],"mapped",[7973,953]],[[8094,8094],"mapped",[7974,953]],[[8095,8095],"mapped",[7975,953]],[[8096,8096],"mapped",[8032,953]],[[8097,8097],"mapped",[8033,953]],[[8098,8098],"mapped",[8034,953]],[[8099,8099],"mapped",[8035,953]],[[8100,8100],"mapped",[8036,953]],[[8101,8101],"mapped",[8037,953]],[[8102,8102],"mapped",[8038,953]],[[8103,8103],"mapped",[8039,953]],[[8104,8104],"mapped",[8032,953]],[[8105,8105],"mapped",[8033,953]],[[8106,8106],"mapped",[8034,953]],[[8107,8107],"mapped",[8035,953]],[[8108,8108],"mapped",[8036,953]],[[8109,8109],"mapped",[8037,953]],[[8110,8110],"mapped",[8038,953]],[[8111,8111],"mapped",[8039,953]],[[8112,8113],"valid"],[[8114,8114],"mapped",[8048,953]],[[8115,8115],"mapped",[945,953]],[[8116,8116],"mapped",[940,953]],[[8117,8117],"disallowed"],[[8118,8118],"valid"],[[8119,8119],"mapped",[8118,953]],[[8120,8120],"mapped",[8112]],[[8121,8121],"mapped",[8113]],[[8122,8122],"mapped",[8048]],[[8123,8123],"mapped",[940]],[[8124,8124],"mapped",[945,953]],[[8125,8125],"disallowed_STD3_mapped",[32,787]],[[8126,8126],"mapped",[953]],[[8127,8127],"disallowed_STD3_mapped",[32,787]],[[8128,8128],"disallowed_STD3_mapped",[32,834]],[[8129,8129],"disallowed_STD3_mapped",[32,776,834]],[[8130,8130],"mapped",[8052,953]],[[8131,8131],"mapped",[951,953]],[[8132,8132],"mapped",[942,953]],[[8133,8133],"disallowed"],[[8134,8134],"valid"],[[8135,8135],"mapped",[8134,953]],[[8136,8136],"mapped",[8050]],[[8137,8137],"mapped",[941]],[[8138,8138],"mapped",[8052]],[[8139,8139],"mapped",[942]],[[8140,8140],"mapped",[951,953]],[[8141,8141],"disallowed_STD3_mapped",[32,787,768]],[[8142,8142],"disallowed_STD3_mapped",[32,787,769]],[[8143,8143],"disallowed_STD3_mapped",[32,787,834]],[[8144,8146],"valid"],[[8147,8147],"mapped",[912]],[[8148,8149],"disallowed"],[[8150,8151],"valid"],[[8152,8152],"mapped",[8144]],[[8153,8153],"mapped",[8145]],[[8154,8154],"mapped",[8054]],[[8155,8155],"mapped",[943]],[[8156,8156],"disallowed"],[[8157,8157],"disallowed_STD3_mapped",[32,788,768]],[[8158,8158],"disallowed_STD3_mapped",[32,788,769]],[[8159,8159],"disallowed_STD3_mapped",[32,788,834]],[[8160,8162],"valid"],[[8163,8163],"mapped",[944]],[[8164,8167],"valid"],[[8168,8168],"mapped",[8160]],[[8169,8169],"mapped",[8161]],[[8170,8170],"mapped",[8058]],[[8171,8171],"mapped",[973]],[[8172,8172],"mapped",[8165]],[[8173,8173],"disallowed_STD3_mapped",[32,776,768]],[[8174,8174],"disallowed_STD3_mapped",[32,776,769]],[[8175,8175],"disallowed_STD3_mapped",[96]],[[8176,8177],"disallowed"],[[8178,8178],"mapped",[8060,953]],[[8179,8179],"mapped",[969,953]],[[8180,8180],"mapped",[974,953]],[[8181,8181],"disallowed"],[[8182,8182],"valid"],[[8183,8183],"mapped",[8182,953]],[[8184,8184],"mapped",[8056]],[[8185,8185],"mapped",[972]],[[8186,8186],"mapped",[8060]],[[8187,8187],"mapped",[974]],[[8188,8188],"mapped",[969,953]],[[8189,8189],"disallowed_STD3_mapped",[32,769]],[[8190,8190],"disallowed_STD3_mapped",[32,788]],[[8191,8191],"disallowed"],[[8192,8202],"disallowed_STD3_mapped",[32]],[[8203,8203],"ignored"],[[8204,8205],"deviation",[]],[[8206,8207],"disallowed"],[[8208,8208],"valid",[],"NV8"],[[8209,8209],"mapped",[8208]],[[8210,8214],"valid",[],"NV8"],[[8215,8215],"disallowed_STD3_mapped",[32,819]],[[8216,8227],"valid",[],"NV8"],[[8228,8230],"disallowed"],[[8231,8231],"valid",[],"NV8"],[[8232,8238],"disallowed"],[[8239,8239],"disallowed_STD3_mapped",[32]],[[8240,8242],"valid",[],"NV8"],[[8243,8243],"mapped",[8242,8242]],[[8244,8244],"mapped",[8242,8242,8242]],[[8245,8245],"valid",[],"NV8"],[[8246,8246],"mapped",[8245,8245]],[[8247,8247],"mapped",[8245,8245,8245]],[[8248,8251],"valid",[],"NV8"],[[8252,8252],"disallowed_STD3_mapped",[33,33]],[[8253,8253],"valid",[],"NV8"],[[8254,8254],"disallowed_STD3_mapped",[32,773]],[[8255,8262],"valid",[],"NV8"],[[8263,8263],"disallowed_STD3_mapped",[63,63]],[[8264,8264],"disallowed_STD3_mapped",[63,33]],[[8265,8265],"disallowed_STD3_mapped",[33,63]],[[8266,8269],"valid",[],"NV8"],[[8270,8274],"valid",[],"NV8"],[[8275,8276],"valid",[],"NV8"],[[8277,8278],"valid",[],"NV8"],[[8279,8279],"mapped",[8242,8242,8242,8242]],[[8280,8286],"valid",[],"NV8"],[[8287,8287],"disallowed_STD3_mapped",[32]],[[8288,8288],"ignored"],[[8289,8291],"disallowed"],[[8292,8292],"ignored"],[[8293,8293],"disallowed"],[[8294,8297],"disallowed"],[[8298,8303],"disallowed"],[[8304,8304],"mapped",[48]],[[8305,8305],"mapped",[105]],[[8306,8307],"disallowed"],[[8308,8308],"mapped",[52]],[[8309,8309],"mapped",[53]],[[8310,8310],"mapped",[54]],[[8311,8311],"mapped",[55]],[[8312,8312],"mapped",[56]],[[8313,8313],"mapped",[57]],[[8314,8314],"disallowed_STD3_mapped",[43]],[[8315,8315],"mapped",[8722]],[[8316,8316],"disallowed_STD3_mapped",[61]],[[8317,8317],"disallowed_STD3_mapped",[40]],[[8318,8318],"disallowed_STD3_mapped",[41]],[[8319,8319],"mapped",[110]],[[8320,8320],"mapped",[48]],[[8321,8321],"mapped",[49]],[[8322,8322],"mapped",[50]],[[8323,8323],"mapped",[51]],[[8324,8324],"mapped",[52]],[[8325,8325],"mapped",[53]],[[8326,8326],"mapped",[54]],[[8327,8327],"mapped",[55]],[[8328,8328],"mapped",[56]],[[8329,8329],"mapped",[57]],[[8330,8330],"disallowed_STD3_mapped",[43]],[[8331,8331],"mapped",[8722]],[[8332,8332],"disallowed_STD3_mapped",[61]],[[8333,8333],"disallowed_STD3_mapped",[40]],[[8334,8334],"disallowed_STD3_mapped",[41]],[[8335,8335],"disallowed"],[[8336,8336],"mapped",[97]],[[8337,8337],"mapped",[101]],[[8338,8338],"mapped",[111]],[[8339,8339],"mapped",[120]],[[8340,8340],"mapped",[601]],[[8341,8341],"mapped",[104]],[[8342,8342],"mapped",[107]],[[8343,8343],"mapped",[108]],[[8344,8344],"mapped",[109]],[[8345,8345],"mapped",[110]],[[8346,8346],"mapped",[112]],[[8347,8347],"mapped",[115]],[[8348,8348],"mapped",[116]],[[8349,8351],"disallowed"],[[8352,8359],"valid",[],"NV8"],[[8360,8360],"mapped",[114,115]],[[8361,8362],"valid",[],"NV8"],[[8363,8363],"valid",[],"NV8"],[[8364,8364],"valid",[],"NV8"],[[8365,8367],"valid",[],"NV8"],[[8368,8369],"valid",[],"NV8"],[[8370,8373],"valid",[],"NV8"],[[8374,8376],"valid",[],"NV8"],[[8377,8377],"valid",[],"NV8"],[[8378,8378],"valid",[],"NV8"],[[8379,8381],"valid",[],"NV8"],[[8382,8382],"valid",[],"NV8"],[[8383,8399],"disallowed"],[[8400,8417],"valid",[],"NV8"],[[8418,8419],"valid",[],"NV8"],[[8420,8426],"valid",[],"NV8"],[[8427,8427],"valid",[],"NV8"],[[8428,8431],"valid",[],"NV8"],[[8432,8432],"valid",[],"NV8"],[[8433,8447],"disallowed"],[[8448,8448],"disallowed_STD3_mapped",[97,47,99]],[[8449,8449],"disallowed_STD3_mapped",[97,47,115]],[[8450,8450],"mapped",[99]],[[8451,8451],"mapped",[176,99]],[[8452,8452],"valid",[],"NV8"],[[8453,8453],"disallowed_STD3_mapped",[99,47,111]],[[8454,8454],"disallowed_STD3_mapped",[99,47,117]],[[8455,8455],"mapped",[603]],[[8456,8456],"valid",[],"NV8"],[[8457,8457],"mapped",[176,102]],[[8458,8458],"mapped",[103]],[[8459,8462],"mapped",[104]],[[8463,8463],"mapped",[295]],[[8464,8465],"mapped",[105]],[[8466,8467],"mapped",[108]],[[8468,8468],"valid",[],"NV8"],[[8469,8469],"mapped",[110]],[[8470,8470],"mapped",[110,111]],[[8471,8472],"valid",[],"NV8"],[[8473,8473],"mapped",[112]],[[8474,8474],"mapped",[113]],[[8475,8477],"mapped",[114]],[[8478,8479],"valid",[],"NV8"],[[8480,8480],"mapped",[115,109]],[[8481,8481],"mapped",[116,101,108]],[[8482,8482],"mapped",[116,109]],[[8483,8483],"valid",[],"NV8"],[[8484,8484],"mapped",[122]],[[8485,8485],"valid",[],"NV8"],[[8486,8486],"mapped",[969]],[[8487,8487],"valid",[],"NV8"],[[8488,8488],"mapped",[122]],[[8489,8489],"valid",[],"NV8"],[[8490,8490],"mapped",[107]],[[8491,8491],"mapped",[229]],[[8492,8492],"mapped",[98]],[[8493,8493],"mapped",[99]],[[8494,8494],"valid",[],"NV8"],[[8495,8496],"mapped",[101]],[[8497,8497],"mapped",[102]],[[8498,8498],"disallowed"],[[8499,8499],"mapped",[109]],[[8500,8500],"mapped",[111]],[[8501,8501],"mapped",[1488]],[[8502,8502],"mapped",[1489]],[[8503,8503],"mapped",[1490]],[[8504,8504],"mapped",[1491]],[[8505,8505],"mapped",[105]],[[8506,8506],"valid",[],"NV8"],[[8507,8507],"mapped",[102,97,120]],[[8508,8508],"mapped",[960]],[[8509,8510],"mapped",[947]],[[8511,8511],"mapped",[960]],[[8512,8512],"mapped",[8721]],[[8513,8516],"valid",[],"NV8"],[[8517,8518],"mapped",[100]],[[8519,8519],"mapped",[101]],[[8520,8520],"mapped",[105]],[[8521,8521],"mapped",[106]],[[8522,8523],"valid",[],"NV8"],[[8524,8524],"valid",[],"NV8"],[[8525,8525],"valid",[],"NV8"],[[8526,8526],"valid"],[[8527,8527],"valid",[],"NV8"],[[8528,8528],"mapped",[49,8260,55]],[[8529,8529],"mapped",[49,8260,57]],[[8530,8530],"mapped",[49,8260,49,48]],[[8531,8531],"mapped",[49,8260,51]],[[8532,8532],"mapped",[50,8260,51]],[[8533,8533],"mapped",[49,8260,53]],[[8534,8534],"mapped",[50,8260,53]],[[8535,8535],"mapped",[51,8260,53]],[[8536,8536],"mapped",[52,8260,53]],[[8537,8537],"mapped",[49,8260,54]],[[8538,8538],"mapped",[53,8260,54]],[[8539,8539],"mapped",[49,8260,56]],[[8540,8540],"mapped",[51,8260,56]],[[8541,8541],"mapped",[53,8260,56]],[[8542,8542],"mapped",[55,8260,56]],[[8543,8543],"mapped",[49,8260]],[[8544,8544],"mapped",[105]],[[8545,8545],"mapped",[105,105]],[[8546,8546],"mapped",[105,105,105]],[[8547,8547],"mapped",[105,118]],[[8548,8548],"mapped",[118]],[[8549,8549],"mapped",[118,105]],[[8550,8550],"mapped",[118,105,105]],[[8551,8551],"mapped",[118,105,105,105]],[[8552,8552],"mapped",[105,120]],[[8553,8553],"mapped",[120]],[[8554,8554],"mapped",[120,105]],[[8555,8555],"mapped",[120,105,105]],[[8556,8556],"mapped",[108]],[[8557,8557],"mapped",[99]],[[8558,8558],"mapped",[100]],[[8559,8559],"mapped",[109]],[[8560,8560],"mapped",[105]],[[8561,8561],"mapped",[105,105]],[[8562,8562],"mapped",[105,105,105]],[[8563,8563],"mapped",[105,118]],[[8564,8564],"mapped",[118]],[[8565,8565],"mapped",[118,105]],[[8566,8566],"mapped",[118,105,105]],[[8567,8567],"mapped",[118,105,105,105]],[[8568,8568],"mapped",[105,120]],[[8569,8569],"mapped",[120]],[[8570,8570],"mapped",[120,105]],[[8571,8571],"mapped",[120,105,105]],[[8572,8572],"mapped",[108]],[[8573,8573],"mapped",[99]],[[8574,8574],"mapped",[100]],[[8575,8575],"mapped",[109]],[[8576,8578],"valid",[],"NV8"],[[8579,8579],"disallowed"],[[8580,8580],"valid"],[[8581,8584],"valid",[],"NV8"],[[8585,8585],"mapped",[48,8260,51]],[[8586,8587],"valid",[],"NV8"],[[8588,8591],"disallowed"],[[8592,8682],"valid",[],"NV8"],[[8683,8691],"valid",[],"NV8"],[[8692,8703],"valid",[],"NV8"],[[8704,8747],"valid",[],"NV8"],[[8748,8748],"mapped",[8747,8747]],[[8749,8749],"mapped",[8747,8747,8747]],[[8750,8750],"valid",[],"NV8"],[[8751,8751],"mapped",[8750,8750]],[[8752,8752],"mapped",[8750,8750,8750]],[[8753,8799],"valid",[],"NV8"],[[8800,8800],"disallowed_STD3_valid"],[[8801,8813],"valid",[],"NV8"],[[8814,8815],"disallowed_STD3_valid"],[[8816,8945],"valid",[],"NV8"],[[8946,8959],"valid",[],"NV8"],[[8960,8960],"valid",[],"NV8"],[[8961,8961],"valid",[],"NV8"],[[8962,9e3],"valid",[],"NV8"],[[9001,9001],"mapped",[12296]],[[9002,9002],"mapped",[12297]],[[9003,9082],"valid",[],"NV8"],[[9083,9083],"valid",[],"NV8"],[[9084,9084],"valid",[],"NV8"],[[9085,9114],"valid",[],"NV8"],[[9115,9166],"valid",[],"NV8"],[[9167,9168],"valid",[],"NV8"],[[9169,9179],"valid",[],"NV8"],[[9180,9191],"valid",[],"NV8"],[[9192,9192],"valid",[],"NV8"],[[9193,9203],"valid",[],"NV8"],[[9204,9210],"valid",[],"NV8"],[[9211,9215],"disallowed"],[[9216,9252],"valid",[],"NV8"],[[9253,9254],"valid",[],"NV8"],[[9255,9279],"disallowed"],[[9280,9290],"valid",[],"NV8"],[[9291,9311],"disallowed"],[[9312,9312],"mapped",[49]],[[9313,9313],"mapped",[50]],[[9314,9314],"mapped",[51]],[[9315,9315],"mapped",[52]],[[9316,9316],"mapped",[53]],[[9317,9317],"mapped",[54]],[[9318,9318],"mapped",[55]],[[9319,9319],"mapped",[56]],[[9320,9320],"mapped",[57]],[[9321,9321],"mapped",[49,48]],[[9322,9322],"mapped",[49,49]],[[9323,9323],"mapped",[49,50]],[[9324,9324],"mapped",[49,51]],[[9325,9325],"mapped",[49,52]],[[9326,9326],"mapped",[49,53]],[[9327,9327],"mapped",[49,54]],[[9328,9328],"mapped",[49,55]],[[9329,9329],"mapped",[49,56]],[[9330,9330],"mapped",[49,57]],[[9331,9331],"mapped",[50,48]],[[9332,9332],"disallowed_STD3_mapped",[40,49,41]],[[9333,9333],"disallowed_STD3_mapped",[40,50,41]],[[9334,9334],"disallowed_STD3_mapped",[40,51,41]],[[9335,9335],"disallowed_STD3_mapped",[40,52,41]],[[9336,9336],"disallowed_STD3_mapped",[40,53,41]],[[9337,9337],"disallowed_STD3_mapped",[40,54,41]],[[9338,9338],"disallowed_STD3_mapped",[40,55,41]],[[9339,9339],"disallowed_STD3_mapped",[40,56,41]],[[9340,9340],"disallowed_STD3_mapped",[40,57,41]],[[9341,9341],"disallowed_STD3_mapped",[40,49,48,41]],[[9342,9342],"disallowed_STD3_mapped",[40,49,49,41]],[[9343,9343],"disallowed_STD3_mapped",[40,49,50,41]],[[9344,9344],"disallowed_STD3_mapped",[40,49,51,41]],[[9345,9345],"disallowed_STD3_mapped",[40,49,52,41]],[[9346,9346],"disallowed_STD3_mapped",[40,49,53,41]],[[9347,9347],"disallowed_STD3_mapped",[40,49,54,41]],[[9348,9348],"disallowed_STD3_mapped",[40,49,55,41]],[[9349,9349],"disallowed_STD3_mapped",[40,49,56,41]],[[9350,9350],"disallowed_STD3_mapped",[40,49,57,41]],[[9351,9351],"disallowed_STD3_mapped",[40,50,48,41]],[[9352,9371],"disallowed"],[[9372,9372],"disallowed_STD3_mapped",[40,97,41]],[[9373,9373],"disallowed_STD3_mapped",[40,98,41]],[[9374,9374],"disallowed_STD3_mapped",[40,99,41]],[[9375,9375],"disallowed_STD3_mapped",[40,100,41]],[[9376,9376],"disallowed_STD3_mapped",[40,101,41]],[[9377,9377],"disallowed_STD3_mapped",[40,102,41]],[[9378,9378],"disallowed_STD3_mapped",[40,103,41]],[[9379,9379],"disallowed_STD3_mapped",[40,104,41]],[[9380,9380],"disallowed_STD3_mapped",[40,105,41]],[[9381,9381],"disallowed_STD3_mapped",[40,106,41]],[[9382,9382],"disallowed_STD3_mapped",[40,107,41]],[[9383,9383],"disallowed_STD3_mapped",[40,108,41]],[[9384,9384],"disallowed_STD3_mapped",[40,109,41]],[[9385,9385],"disallowed_STD3_mapped",[40,110,41]],[[9386,9386],"disallowed_STD3_mapped",[40,111,41]],[[9387,9387],"disallowed_STD3_mapped",[40,112,41]],[[9388,9388],"disallowed_STD3_mapped",[40,113,41]],[[9389,9389],"disallowed_STD3_mapped",[40,114,41]],[[9390,9390],"disallowed_STD3_mapped",[40,115,41]],[[9391,9391],"disallowed_STD3_mapped",[40,116,41]],[[9392,9392],"disallowed_STD3_mapped",[40,117,41]],[[9393,9393],"disallowed_STD3_mapped",[40,118,41]],[[9394,9394],"disallowed_STD3_mapped",[40,119,41]],[[9395,9395],"disallowed_STD3_mapped",[40,120,41]],[[9396,9396],"disallowed_STD3_mapped",[40,121,41]],[[9397,9397],"disallowed_STD3_mapped",[40,122,41]],[[9398,9398],"mapped",[97]],[[9399,9399],"mapped",[98]],[[9400,9400],"mapped",[99]],[[9401,9401],"mapped",[100]],[[9402,9402],"mapped",[101]],[[9403,9403],"mapped",[102]],[[9404,9404],"mapped",[103]],[[9405,9405],"mapped",[104]],[[9406,9406],"mapped",[105]],[[9407,9407],"mapped",[106]],[[9408,9408],"mapped",[107]],[[9409,9409],"mapped",[108]],[[9410,9410],"mapped",[109]],[[9411,9411],"mapped",[110]],[[9412,9412],"mapped",[111]],[[9413,9413],"mapped",[112]],[[9414,9414],"mapped",[113]],[[9415,9415],"mapped",[114]],[[9416,9416],"mapped",[115]],[[9417,9417],"mapped",[116]],[[9418,9418],"mapped",[117]],[[9419,9419],"mapped",[118]],[[9420,9420],"mapped",[119]],[[9421,9421],"mapped",[120]],[[9422,9422],"mapped",[121]],[[9423,9423],"mapped",[122]],[[9424,9424],"mapped",[97]],[[9425,9425],"mapped",[98]],[[9426,9426],"mapped",[99]],[[9427,9427],"mapped",[100]],[[9428,9428],"mapped",[101]],[[9429,9429],"mapped",[102]],[[9430,9430],"mapped",[103]],[[9431,9431],"mapped",[104]],[[9432,9432],"mapped",[105]],[[9433,9433],"mapped",[106]],[[9434,9434],"mapped",[107]],[[9435,9435],"mapped",[108]],[[9436,9436],"mapped",[109]],[[9437,9437],"mapped",[110]],[[9438,9438],"mapped",[111]],[[9439,9439],"mapped",[112]],[[9440,9440],"mapped",[113]],[[9441,9441],"mapped",[114]],[[9442,9442],"mapped",[115]],[[9443,9443],"mapped",[116]],[[9444,9444],"mapped",[117]],[[9445,9445],"mapped",[118]],[[9446,9446],"mapped",[119]],[[9447,9447],"mapped",[120]],[[9448,9448],"mapped",[121]],[[9449,9449],"mapped",[122]],[[9450,9450],"mapped",[48]],[[9451,9470],"valid",[],"NV8"],[[9471,9471],"valid",[],"NV8"],[[9472,9621],"valid",[],"NV8"],[[9622,9631],"valid",[],"NV8"],[[9632,9711],"valid",[],"NV8"],[[9712,9719],"valid",[],"NV8"],[[9720,9727],"valid",[],"NV8"],[[9728,9747],"valid",[],"NV8"],[[9748,9749],"valid",[],"NV8"],[[9750,9751],"valid",[],"NV8"],[[9752,9752],"valid",[],"NV8"],[[9753,9753],"valid",[],"NV8"],[[9754,9839],"valid",[],"NV8"],[[9840,9841],"valid",[],"NV8"],[[9842,9853],"valid",[],"NV8"],[[9854,9855],"valid",[],"NV8"],[[9856,9865],"valid",[],"NV8"],[[9866,9873],"valid",[],"NV8"],[[9874,9884],"valid",[],"NV8"],[[9885,9885],"valid",[],"NV8"],[[9886,9887],"valid",[],"NV8"],[[9888,9889],"valid",[],"NV8"],[[9890,9905],"valid",[],"NV8"],[[9906,9906],"valid",[],"NV8"],[[9907,9916],"valid",[],"NV8"],[[9917,9919],"valid",[],"NV8"],[[9920,9923],"valid",[],"NV8"],[[9924,9933],"valid",[],"NV8"],[[9934,9934],"valid",[],"NV8"],[[9935,9953],"valid",[],"NV8"],[[9954,9954],"valid",[],"NV8"],[[9955,9955],"valid",[],"NV8"],[[9956,9959],"valid",[],"NV8"],[[9960,9983],"valid",[],"NV8"],[[9984,9984],"valid",[],"NV8"],[[9985,9988],"valid",[],"NV8"],[[9989,9989],"valid",[],"NV8"],[[9990,9993],"valid",[],"NV8"],[[9994,9995],"valid",[],"NV8"],[[9996,10023],"valid",[],"NV8"],[[10024,10024],"valid",[],"NV8"],[[10025,10059],"valid",[],"NV8"],[[10060,10060],"valid",[],"NV8"],[[10061,10061],"valid",[],"NV8"],[[10062,10062],"valid",[],"NV8"],[[10063,10066],"valid",[],"NV8"],[[10067,10069],"valid",[],"NV8"],[[10070,10070],"valid",[],"NV8"],[[10071,10071],"valid",[],"NV8"],[[10072,10078],"valid",[],"NV8"],[[10079,10080],"valid",[],"NV8"],[[10081,10087],"valid",[],"NV8"],[[10088,10101],"valid",[],"NV8"],[[10102,10132],"valid",[],"NV8"],[[10133,10135],"valid",[],"NV8"],[[10136,10159],"valid",[],"NV8"],[[10160,10160],"valid",[],"NV8"],[[10161,10174],"valid",[],"NV8"],[[10175,10175],"valid",[],"NV8"],[[10176,10182],"valid",[],"NV8"],[[10183,10186],"valid",[],"NV8"],[[10187,10187],"valid",[],"NV8"],[[10188,10188],"valid",[],"NV8"],[[10189,10189],"valid",[],"NV8"],[[10190,10191],"valid",[],"NV8"],[[10192,10219],"valid",[],"NV8"],[[10220,10223],"valid",[],"NV8"],[[10224,10239],"valid",[],"NV8"],[[10240,10495],"valid",[],"NV8"],[[10496,10763],"valid",[],"NV8"],[[10764,10764],"mapped",[8747,8747,8747,8747]],[[10765,10867],"valid",[],"NV8"],[[10868,10868],"disallowed_STD3_mapped",[58,58,61]],[[10869,10869],"disallowed_STD3_mapped",[61,61]],[[10870,10870],"disallowed_STD3_mapped",[61,61,61]],[[10871,10971],"valid",[],"NV8"],[[10972,10972],"mapped",[10973,824]],[[10973,11007],"valid",[],"NV8"],[[11008,11021],"valid",[],"NV8"],[[11022,11027],"valid",[],"NV8"],[[11028,11034],"valid",[],"NV8"],[[11035,11039],"valid",[],"NV8"],[[11040,11043],"valid",[],"NV8"],[[11044,11084],"valid",[],"NV8"],[[11085,11087],"valid",[],"NV8"],[[11088,11092],"valid",[],"NV8"],[[11093,11097],"valid",[],"NV8"],[[11098,11123],"valid",[],"NV8"],[[11124,11125],"disallowed"],[[11126,11157],"valid",[],"NV8"],[[11158,11159],"disallowed"],[[11160,11193],"valid",[],"NV8"],[[11194,11196],"disallowed"],[[11197,11208],"valid",[],"NV8"],[[11209,11209],"disallowed"],[[11210,11217],"valid",[],"NV8"],[[11218,11243],"disallowed"],[[11244,11247],"valid",[],"NV8"],[[11248,11263],"disallowed"],[[11264,11264],"mapped",[11312]],[[11265,11265],"mapped",[11313]],[[11266,11266],"mapped",[11314]],[[11267,11267],"mapped",[11315]],[[11268,11268],"mapped",[11316]],[[11269,11269],"mapped",[11317]],[[11270,11270],"mapped",[11318]],[[11271,11271],"mapped",[11319]],[[11272,11272],"mapped",[11320]],[[11273,11273],"mapped",[11321]],[[11274,11274],"mapped",[11322]],[[11275,11275],"mapped",[11323]],[[11276,11276],"mapped",[11324]],[[11277,11277],"mapped",[11325]],[[11278,11278],"mapped",[11326]],[[11279,11279],"mapped",[11327]],[[11280,11280],"mapped",[11328]],[[11281,11281],"mapped",[11329]],[[11282,11282],"mapped",[11330]],[[11283,11283],"mapped",[11331]],[[11284,11284],"mapped",[11332]],[[11285,11285],"mapped",[11333]],[[11286,11286],"mapped",[11334]],[[11287,11287],"mapped",[11335]],[[11288,11288],"mapped",[11336]],[[11289,11289],"mapped",[11337]],[[11290,11290],"mapped",[11338]],[[11291,11291],"mapped",[11339]],[[11292,11292],"mapped",[11340]],[[11293,11293],"mapped",[11341]],[[11294,11294],"mapped",[11342]],[[11295,11295],"mapped",[11343]],[[11296,11296],"mapped",[11344]],[[11297,11297],"mapped",[11345]],[[11298,11298],"mapped",[11346]],[[11299,11299],"mapped",[11347]],[[11300,11300],"mapped",[11348]],[[11301,11301],"mapped",[11349]],[[11302,11302],"mapped",[11350]],[[11303,11303],"mapped",[11351]],[[11304,11304],"mapped",[11352]],[[11305,11305],"mapped",[11353]],[[11306,11306],"mapped",[11354]],[[11307,11307],"mapped",[11355]],[[11308,11308],"mapped",[11356]],[[11309,11309],"mapped",[11357]],[[11310,11310],"mapped",[11358]],[[11311,11311],"disallowed"],[[11312,11358],"valid"],[[11359,11359],"disallowed"],[[11360,11360],"mapped",[11361]],[[11361,11361],"valid"],[[11362,11362],"mapped",[619]],[[11363,11363],"mapped",[7549]],[[11364,11364],"mapped",[637]],[[11365,11366],"valid"],[[11367,11367],"mapped",[11368]],[[11368,11368],"valid"],[[11369,11369],"mapped",[11370]],[[11370,11370],"valid"],[[11371,11371],"mapped",[11372]],[[11372,11372],"valid"],[[11373,11373],"mapped",[593]],[[11374,11374],"mapped",[625]],[[11375,11375],"mapped",[592]],[[11376,11376],"mapped",[594]],[[11377,11377],"valid"],[[11378,11378],"mapped",[11379]],[[11379,11379],"valid"],[[11380,11380],"valid"],[[11381,11381],"mapped",[11382]],[[11382,11383],"valid"],[[11384,11387],"valid"],[[11388,11388],"mapped",[106]],[[11389,11389],"mapped",[118]],[[11390,11390],"mapped",[575]],[[11391,11391],"mapped",[576]],[[11392,11392],"mapped",[11393]],[[11393,11393],"valid"],[[11394,11394],"mapped",[11395]],[[11395,11395],"valid"],[[11396,11396],"mapped",[11397]],[[11397,11397],"valid"],[[11398,11398],"mapped",[11399]],[[11399,11399],"valid"],[[11400,11400],"mapped",[11401]],[[11401,11401],"valid"],[[11402,11402],"mapped",[11403]],[[11403,11403],"valid"],[[11404,11404],"mapped",[11405]],[[11405,11405],"valid"],[[11406,11406],"mapped",[11407]],[[11407,11407],"valid"],[[11408,11408],"mapped",[11409]],[[11409,11409],"valid"],[[11410,11410],"mapped",[11411]],[[11411,11411],"valid"],[[11412,11412],"mapped",[11413]],[[11413,11413],"valid"],[[11414,11414],"mapped",[11415]],[[11415,11415],"valid"],[[11416,11416],"mapped",[11417]],[[11417,11417],"valid"],[[11418,11418],"mapped",[11419]],[[11419,11419],"valid"],[[11420,11420],"mapped",[11421]],[[11421,11421],"valid"],[[11422,11422],"mapped",[11423]],[[11423,11423],"valid"],[[11424,11424],"mapped",[11425]],[[11425,11425],"valid"],[[11426,11426],"mapped",[11427]],[[11427,11427],"valid"],[[11428,11428],"mapped",[11429]],[[11429,11429],"valid"],[[11430,11430],"mapped",[11431]],[[11431,11431],"valid"],[[11432,11432],"mapped",[11433]],[[11433,11433],"valid"],[[11434,11434],"mapped",[11435]],[[11435,11435],"valid"],[[11436,11436],"mapped",[11437]],[[11437,11437],"valid"],[[11438,11438],"mapped",[11439]],[[11439,11439],"valid"],[[11440,11440],"mapped",[11441]],[[11441,11441],"valid"],[[11442,11442],"mapped",[11443]],[[11443,11443],"valid"],[[11444,11444],"mapped",[11445]],[[11445,11445],"valid"],[[11446,11446],"mapped",[11447]],[[11447,11447],"valid"],[[11448,11448],"mapped",[11449]],[[11449,11449],"valid"],[[11450,11450],"mapped",[11451]],[[11451,11451],"valid"],[[11452,11452],"mapped",[11453]],[[11453,11453],"valid"],[[11454,11454],"mapped",[11455]],[[11455,11455],"valid"],[[11456,11456],"mapped",[11457]],[[11457,11457],"valid"],[[11458,11458],"mapped",[11459]],[[11459,11459],"valid"],[[11460,11460],"mapped",[11461]],[[11461,11461],"valid"],[[11462,11462],"mapped",[11463]],[[11463,11463],"valid"],[[11464,11464],"mapped",[11465]],[[11465,11465],"valid"],[[11466,11466],"mapped",[11467]],[[11467,11467],"valid"],[[11468,11468],"mapped",[11469]],[[11469,11469],"valid"],[[11470,11470],"mapped",[11471]],[[11471,11471],"valid"],[[11472,11472],"mapped",[11473]],[[11473,11473],"valid"],[[11474,11474],"mapped",[11475]],[[11475,11475],"valid"],[[11476,11476],"mapped",[11477]],[[11477,11477],"valid"],[[11478,11478],"mapped",[11479]],[[11479,11479],"valid"],[[11480,11480],"mapped",[11481]],[[11481,11481],"valid"],[[11482,11482],"mapped",[11483]],[[11483,11483],"valid"],[[11484,11484],"mapped",[11485]],[[11485,11485],"valid"],[[11486,11486],"mapped",[11487]],[[11487,11487],"valid"],[[11488,11488],"mapped",[11489]],[[11489,11489],"valid"],[[11490,11490],"mapped",[11491]],[[11491,11492],"valid"],[[11493,11498],"valid",[],"NV8"],[[11499,11499],"mapped",[11500]],[[11500,11500],"valid"],[[11501,11501],"mapped",[11502]],[[11502,11505],"valid"],[[11506,11506],"mapped",[11507]],[[11507,11507],"valid"],[[11508,11512],"disallowed"],[[11513,11519],"valid",[],"NV8"],[[11520,11557],"valid"],[[11558,11558],"disallowed"],[[11559,11559],"valid"],[[11560,11564],"disallowed"],[[11565,11565],"valid"],[[11566,11567],"disallowed"],[[11568,11621],"valid"],[[11622,11623],"valid"],[[11624,11630],"disallowed"],[[11631,11631],"mapped",[11617]],[[11632,11632],"valid",[],"NV8"],[[11633,11646],"disallowed"],[[11647,11647],"valid"],[[11648,11670],"valid"],[[11671,11679],"disallowed"],[[11680,11686],"valid"],[[11687,11687],"disallowed"],[[11688,11694],"valid"],[[11695,11695],"disallowed"],[[11696,11702],"valid"],[[11703,11703],"disallowed"],[[11704,11710],"valid"],[[11711,11711],"disallowed"],[[11712,11718],"valid"],[[11719,11719],"disallowed"],[[11720,11726],"valid"],[[11727,11727],"disallowed"],[[11728,11734],"valid"],[[11735,11735],"disallowed"],[[11736,11742],"valid"],[[11743,11743],"disallowed"],[[11744,11775],"valid"],[[11776,11799],"valid",[],"NV8"],[[11800,11803],"valid",[],"NV8"],[[11804,11805],"valid",[],"NV8"],[[11806,11822],"valid",[],"NV8"],[[11823,11823],"valid"],[[11824,11824],"valid",[],"NV8"],[[11825,11825],"valid",[],"NV8"],[[11826,11835],"valid",[],"NV8"],[[11836,11842],"valid",[],"NV8"],[[11843,11903],"disallowed"],[[11904,11929],"valid",[],"NV8"],[[11930,11930],"disallowed"],[[11931,11934],"valid",[],"NV8"],[[11935,11935],"mapped",[27597]],[[11936,12018],"valid",[],"NV8"],[[12019,12019],"mapped",[40863]],[[12020,12031],"disallowed"],[[12032,12032],"mapped",[19968]],[[12033,12033],"mapped",[20008]],[[12034,12034],"mapped",[20022]],[[12035,12035],"mapped",[20031]],[[12036,12036],"mapped",[20057]],[[12037,12037],"mapped",[20101]],[[12038,12038],"mapped",[20108]],[[12039,12039],"mapped",[20128]],[[12040,12040],"mapped",[20154]],[[12041,12041],"mapped",[20799]],[[12042,12042],"mapped",[20837]],[[12043,12043],"mapped",[20843]],[[12044,12044],"mapped",[20866]],[[12045,12045],"mapped",[20886]],[[12046,12046],"mapped",[20907]],[[12047,12047],"mapped",[20960]],[[12048,12048],"mapped",[20981]],[[12049,12049],"mapped",[20992]],[[12050,12050],"mapped",[21147]],[[12051,12051],"mapped",[21241]],[[12052,12052],"mapped",[21269]],[[12053,12053],"mapped",[21274]],[[12054,12054],"mapped",[21304]],[[12055,12055],"mapped",[21313]],[[12056,12056],"mapped",[21340]],[[12057,12057],"mapped",[21353]],[[12058,12058],"mapped",[21378]],[[12059,12059],"mapped",[21430]],[[12060,12060],"mapped",[21448]],[[12061,12061],"mapped",[21475]],[[12062,12062],"mapped",[22231]],[[12063,12063],"mapped",[22303]],[[12064,12064],"mapped",[22763]],[[12065,12065],"mapped",[22786]],[[12066,12066],"mapped",[22794]],[[12067,12067],"mapped",[22805]],[[12068,12068],"mapped",[22823]],[[12069,12069],"mapped",[22899]],[[12070,12070],"mapped",[23376]],[[12071,12071],"mapped",[23424]],[[12072,12072],"mapped",[23544]],[[12073,12073],"mapped",[23567]],[[12074,12074],"mapped",[23586]],[[12075,12075],"mapped",[23608]],[[12076,12076],"mapped",[23662]],[[12077,12077],"mapped",[23665]],[[12078,12078],"mapped",[24027]],[[12079,12079],"mapped",[24037]],[[12080,12080],"mapped",[24049]],[[12081,12081],"mapped",[24062]],[[12082,12082],"mapped",[24178]],[[12083,12083],"mapped",[24186]],[[12084,12084],"mapped",[24191]],[[12085,12085],"mapped",[24308]],[[12086,12086],"mapped",[24318]],[[12087,12087],"mapped",[24331]],[[12088,12088],"mapped",[24339]],[[12089,12089],"mapped",[24400]],[[12090,12090],"mapped",[24417]],[[12091,12091],"mapped",[24435]],[[12092,12092],"mapped",[24515]],[[12093,12093],"mapped",[25096]],[[12094,12094],"mapped",[25142]],[[12095,12095],"mapped",[25163]],[[12096,12096],"mapped",[25903]],[[12097,12097],"mapped",[25908]],[[12098,12098],"mapped",[25991]],[[12099,12099],"mapped",[26007]],[[12100,12100],"mapped",[26020]],[[12101,12101],"mapped",[26041]],[[12102,12102],"mapped",[26080]],[[12103,12103],"mapped",[26085]],[[12104,12104],"mapped",[26352]],[[12105,12105],"mapped",[26376]],[[12106,12106],"mapped",[26408]],[[12107,12107],"mapped",[27424]],[[12108,12108],"mapped",[27490]],[[12109,12109],"mapped",[27513]],[[12110,12110],"mapped",[27571]],[[12111,12111],"mapped",[27595]],[[12112,12112],"mapped",[27604]],[[12113,12113],"mapped",[27611]],[[12114,12114],"mapped",[27663]],[[12115,12115],"mapped",[27668]],[[12116,12116],"mapped",[27700]],[[12117,12117],"mapped",[28779]],[[12118,12118],"mapped",[29226]],[[12119,12119],"mapped",[29238]],[[12120,12120],"mapped",[29243]],[[12121,12121],"mapped",[29247]],[[12122,12122],"mapped",[29255]],[[12123,12123],"mapped",[29273]],[[12124,12124],"mapped",[29275]],[[12125,12125],"mapped",[29356]],[[12126,12126],"mapped",[29572]],[[12127,12127],"mapped",[29577]],[[12128,12128],"mapped",[29916]],[[12129,12129],"mapped",[29926]],[[12130,12130],"mapped",[29976]],[[12131,12131],"mapped",[29983]],[[12132,12132],"mapped",[29992]],[[12133,12133],"mapped",[3e4]],[[12134,12134],"mapped",[30091]],[[12135,12135],"mapped",[30098]],[[12136,12136],"mapped",[30326]],[[12137,12137],"mapped",[30333]],[[12138,12138],"mapped",[30382]],[[12139,12139],"mapped",[30399]],[[12140,12140],"mapped",[30446]],[[12141,12141],"mapped",[30683]],[[12142,12142],"mapped",[30690]],[[12143,12143],"mapped",[30707]],[[12144,12144],"mapped",[31034]],[[12145,12145],"mapped",[31160]],[[12146,12146],"mapped",[31166]],[[12147,12147],"mapped",[31348]],[[12148,12148],"mapped",[31435]],[[12149,12149],"mapped",[31481]],[[12150,12150],"mapped",[31859]],[[12151,12151],"mapped",[31992]],[[12152,12152],"mapped",[32566]],[[12153,12153],"mapped",[32593]],[[12154,12154],"mapped",[32650]],[[12155,12155],"mapped",[32701]],[[12156,12156],"mapped",[32769]],[[12157,12157],"mapped",[32780]],[[12158,12158],"mapped",[32786]],[[12159,12159],"mapped",[32819]],[[12160,12160],"mapped",[32895]],[[12161,12161],"mapped",[32905]],[[12162,12162],"mapped",[33251]],[[12163,12163],"mapped",[33258]],[[12164,12164],"mapped",[33267]],[[12165,12165],"mapped",[33276]],[[12166,12166],"mapped",[33292]],[[12167,12167],"mapped",[33307]],[[12168,12168],"mapped",[33311]],[[12169,12169],"mapped",[33390]],[[12170,12170],"mapped",[33394]],[[12171,12171],"mapped",[33400]],[[12172,12172],"mapped",[34381]],[[12173,12173],"mapped",[34411]],[[12174,12174],"mapped",[34880]],[[12175,12175],"mapped",[34892]],[[12176,12176],"mapped",[34915]],[[12177,12177],"mapped",[35198]],[[12178,12178],"mapped",[35211]],[[12179,12179],"mapped",[35282]],[[12180,12180],"mapped",[35328]],[[12181,12181],"mapped",[35895]],[[12182,12182],"mapped",[35910]],[[12183,12183],"mapped",[35925]],[[12184,12184],"mapped",[35960]],[[12185,12185],"mapped",[35997]],[[12186,12186],"mapped",[36196]],[[12187,12187],"mapped",[36208]],[[12188,12188],"mapped",[36275]],[[12189,12189],"mapped",[36523]],[[12190,12190],"mapped",[36554]],[[12191,12191],"mapped",[36763]],[[12192,12192],"mapped",[36784]],[[12193,12193],"mapped",[36789]],[[12194,12194],"mapped",[37009]],[[12195,12195],"mapped",[37193]],[[12196,12196],"mapped",[37318]],[[12197,12197],"mapped",[37324]],[[12198,12198],"mapped",[37329]],[[12199,12199],"mapped",[38263]],[[12200,12200],"mapped",[38272]],[[12201,12201],"mapped",[38428]],[[12202,12202],"mapped",[38582]],[[12203,12203],"mapped",[38585]],[[12204,12204],"mapped",[38632]],[[12205,12205],"mapped",[38737]],[[12206,12206],"mapped",[38750]],[[12207,12207],"mapped",[38754]],[[12208,12208],"mapped",[38761]],[[12209,12209],"mapped",[38859]],[[12210,12210],"mapped",[38893]],[[12211,12211],"mapped",[38899]],[[12212,12212],"mapped",[38913]],[[12213,12213],"mapped",[39080]],[[12214,12214],"mapped",[39131]],[[12215,12215],"mapped",[39135]],[[12216,12216],"mapped",[39318]],[[12217,12217],"mapped",[39321]],[[12218,12218],"mapped",[39340]],[[12219,12219],"mapped",[39592]],[[12220,12220],"mapped",[39640]],[[12221,12221],"mapped",[39647]],[[12222,12222],"mapped",[39717]],[[12223,12223],"mapped",[39727]],[[12224,12224],"mapped",[39730]],[[12225,12225],"mapped",[39740]],[[12226,12226],"mapped",[39770]],[[12227,12227],"mapped",[40165]],[[12228,12228],"mapped",[40565]],[[12229,12229],"mapped",[40575]],[[12230,12230],"mapped",[40613]],[[12231,12231],"mapped",[40635]],[[12232,12232],"mapped",[40643]],[[12233,12233],"mapped",[40653]],[[12234,12234],"mapped",[40657]],[[12235,12235],"mapped",[40697]],[[12236,12236],"mapped",[40701]],[[12237,12237],"mapped",[40718]],[[12238,12238],"mapped",[40723]],[[12239,12239],"mapped",[40736]],[[12240,12240],"mapped",[40763]],[[12241,12241],"mapped",[40778]],[[12242,12242],"mapped",[40786]],[[12243,12243],"mapped",[40845]],[[12244,12244],"mapped",[40860]],[[12245,12245],"mapped",[40864]],[[12246,12271],"disallowed"],[[12272,12283],"disallowed"],[[12284,12287],"disallowed"],[[12288,12288],"disallowed_STD3_mapped",[32]],[[12289,12289],"valid",[],"NV8"],[[12290,12290],"mapped",[46]],[[12291,12292],"valid",[],"NV8"],[[12293,12295],"valid"],[[12296,12329],"valid",[],"NV8"],[[12330,12333],"valid"],[[12334,12341],"valid",[],"NV8"],[[12342,12342],"mapped",[12306]],[[12343,12343],"valid",[],"NV8"],[[12344,12344],"mapped",[21313]],[[12345,12345],"mapped",[21316]],[[12346,12346],"mapped",[21317]],[[12347,12347],"valid",[],"NV8"],[[12348,12348],"valid"],[[12349,12349],"valid",[],"NV8"],[[12350,12350],"valid",[],"NV8"],[[12351,12351],"valid",[],"NV8"],[[12352,12352],"disallowed"],[[12353,12436],"valid"],[[12437,12438],"valid"],[[12439,12440],"disallowed"],[[12441,12442],"valid"],[[12443,12443],"disallowed_STD3_mapped",[32,12441]],[[12444,12444],"disallowed_STD3_mapped",[32,12442]],[[12445,12446],"valid"],[[12447,12447],"mapped",[12424,12426]],[[12448,12448],"valid",[],"NV8"],[[12449,12542],"valid"],[[12543,12543],"mapped",[12467,12488]],[[12544,12548],"disallowed"],[[12549,12588],"valid"],[[12589,12589],"valid"],[[12590,12592],"disallowed"],[[12593,12593],"mapped",[4352]],[[12594,12594],"mapped",[4353]],[[12595,12595],"mapped",[4522]],[[12596,12596],"mapped",[4354]],[[12597,12597],"mapped",[4524]],[[12598,12598],"mapped",[4525]],[[12599,12599],"mapped",[4355]],[[12600,12600],"mapped",[4356]],[[12601,12601],"mapped",[4357]],[[12602,12602],"mapped",[4528]],[[12603,12603],"mapped",[4529]],[[12604,12604],"mapped",[4530]],[[12605,12605],"mapped",[4531]],[[12606,12606],"mapped",[4532]],[[12607,12607],"mapped",[4533]],[[12608,12608],"mapped",[4378]],[[12609,12609],"mapped",[4358]],[[12610,12610],"mapped",[4359]],[[12611,12611],"mapped",[4360]],[[12612,12612],"mapped",[4385]],[[12613,12613],"mapped",[4361]],[[12614,12614],"mapped",[4362]],[[12615,12615],"mapped",[4363]],[[12616,12616],"mapped",[4364]],[[12617,12617],"mapped",[4365]],[[12618,12618],"mapped",[4366]],[[12619,12619],"mapped",[4367]],[[12620,12620],"mapped",[4368]],[[12621,12621],"mapped",[4369]],[[12622,12622],"mapped",[4370]],[[12623,12623],"mapped",[4449]],[[12624,12624],"mapped",[4450]],[[12625,12625],"mapped",[4451]],[[12626,12626],"mapped",[4452]],[[12627,12627],"mapped",[4453]],[[12628,12628],"mapped",[4454]],[[12629,12629],"mapped",[4455]],[[12630,12630],"mapped",[4456]],[[12631,12631],"mapped",[4457]],[[12632,12632],"mapped",[4458]],[[12633,12633],"mapped",[4459]],[[12634,12634],"mapped",[4460]],[[12635,12635],"mapped",[4461]],[[12636,12636],"mapped",[4462]],[[12637,12637],"mapped",[4463]],[[12638,12638],"mapped",[4464]],[[12639,12639],"mapped",[4465]],[[12640,12640],"mapped",[4466]],[[12641,12641],"mapped",[4467]],[[12642,12642],"mapped",[4468]],[[12643,12643],"mapped",[4469]],[[12644,12644],"disallowed"],[[12645,12645],"mapped",[4372]],[[12646,12646],"mapped",[4373]],[[12647,12647],"mapped",[4551]],[[12648,12648],"mapped",[4552]],[[12649,12649],"mapped",[4556]],[[12650,12650],"mapped",[4558]],[[12651,12651],"mapped",[4563]],[[12652,12652],"mapped",[4567]],[[12653,12653],"mapped",[4569]],[[12654,12654],"mapped",[4380]],[[12655,12655],"mapped",[4573]],[[12656,12656],"mapped",[4575]],[[12657,12657],"mapped",[4381]],[[12658,12658],"mapped",[4382]],[[12659,12659],"mapped",[4384]],[[12660,12660],"mapped",[4386]],[[12661,12661],"mapped",[4387]],[[12662,12662],"mapped",[4391]],[[12663,12663],"mapped",[4393]],[[12664,12664],"mapped",[4395]],[[12665,12665],"mapped",[4396]],[[12666,12666],"mapped",[4397]],[[12667,12667],"mapped",[4398]],[[12668,12668],"mapped",[4399]],[[12669,12669],"mapped",[4402]],[[12670,12670],"mapped",[4406]],[[12671,12671],"mapped",[4416]],[[12672,12672],"mapped",[4423]],[[12673,12673],"mapped",[4428]],[[12674,12674],"mapped",[4593]],[[12675,12675],"mapped",[4594]],[[12676,12676],"mapped",[4439]],[[12677,12677],"mapped",[4440]],[[12678,12678],"mapped",[4441]],[[12679,12679],"mapped",[4484]],[[12680,12680],"mapped",[4485]],[[12681,12681],"mapped",[4488]],[[12682,12682],"mapped",[4497]],[[12683,12683],"mapped",[4498]],[[12684,12684],"mapped",[4500]],[[12685,12685],"mapped",[4510]],[[12686,12686],"mapped",[4513]],[[12687,12687],"disallowed"],[[12688,12689],"valid",[],"NV8"],[[12690,12690],"mapped",[19968]],[[12691,12691],"mapped",[20108]],[[12692,12692],"mapped",[19977]],[[12693,12693],"mapped",[22235]],[[12694,12694],"mapped",[19978]],[[12695,12695],"mapped",[20013]],[[12696,12696],"mapped",[19979]],[[12697,12697],"mapped",[30002]],[[12698,12698],"mapped",[20057]],[[12699,12699],"mapped",[19993]],[[12700,12700],"mapped",[19969]],[[12701,12701],"mapped",[22825]],[[12702,12702],"mapped",[22320]],[[12703,12703],"mapped",[20154]],[[12704,12727],"valid"],[[12728,12730],"valid"],[[12731,12735],"disallowed"],[[12736,12751],"valid",[],"NV8"],[[12752,12771],"valid",[],"NV8"],[[12772,12783],"disallowed"],[[12784,12799],"valid"],[[12800,12800],"disallowed_STD3_mapped",[40,4352,41]],[[12801,12801],"disallowed_STD3_mapped",[40,4354,41]],[[12802,12802],"disallowed_STD3_mapped",[40,4355,41]],[[12803,12803],"disallowed_STD3_mapped",[40,4357,41]],[[12804,12804],"disallowed_STD3_mapped",[40,4358,41]],[[12805,12805],"disallowed_STD3_mapped",[40,4359,41]],[[12806,12806],"disallowed_STD3_mapped",[40,4361,41]],[[12807,12807],"disallowed_STD3_mapped",[40,4363,41]],[[12808,12808],"disallowed_STD3_mapped",[40,4364,41]],[[12809,12809],"disallowed_STD3_mapped",[40,4366,41]],[[12810,12810],"disallowed_STD3_mapped",[40,4367,41]],[[12811,12811],"disallowed_STD3_mapped",[40,4368,41]],[[12812,12812],"disallowed_STD3_mapped",[40,4369,41]],[[12813,12813],"disallowed_STD3_mapped",[40,4370,41]],[[12814,12814],"disallowed_STD3_mapped",[40,44032,41]],[[12815,12815],"disallowed_STD3_mapped",[40,45208,41]],[[12816,12816],"disallowed_STD3_mapped",[40,45796,41]],[[12817,12817],"disallowed_STD3_mapped",[40,46972,41]],[[12818,12818],"disallowed_STD3_mapped",[40,47560,41]],[[12819,12819],"disallowed_STD3_mapped",[40,48148,41]],[[12820,12820],"disallowed_STD3_mapped",[40,49324,41]],[[12821,12821],"disallowed_STD3_mapped",[40,50500,41]],[[12822,12822],"disallowed_STD3_mapped",[40,51088,41]],[[12823,12823],"disallowed_STD3_mapped",[40,52264,41]],[[12824,12824],"disallowed_STD3_mapped",[40,52852,41]],[[12825,12825],"disallowed_STD3_mapped",[40,53440,41]],[[12826,12826],"disallowed_STD3_mapped",[40,54028,41]],[[12827,12827],"disallowed_STD3_mapped",[40,54616,41]],[[12828,12828],"disallowed_STD3_mapped",[40,51452,41]],[[12829,12829],"disallowed_STD3_mapped",[40,50724,51204,41]],[[12830,12830],"disallowed_STD3_mapped",[40,50724,54980,41]],[[12831,12831],"disallowed"],[[12832,12832],"disallowed_STD3_mapped",[40,19968,41]],[[12833,12833],"disallowed_STD3_mapped",[40,20108,41]],[[12834,12834],"disallowed_STD3_mapped",[40,19977,41]],[[12835,12835],"disallowed_STD3_mapped",[40,22235,41]],[[12836,12836],"disallowed_STD3_mapped",[40,20116,41]],[[12837,12837],"disallowed_STD3_mapped",[40,20845,41]],[[12838,12838],"disallowed_STD3_mapped",[40,19971,41]],[[12839,12839],"disallowed_STD3_mapped",[40,20843,41]],[[12840,12840],"disallowed_STD3_mapped",[40,20061,41]],[[12841,12841],"disallowed_STD3_mapped",[40,21313,41]],[[12842,12842],"disallowed_STD3_mapped",[40,26376,41]],[[12843,12843],"disallowed_STD3_mapped",[40,28779,41]],[[12844,12844],"disallowed_STD3_mapped",[40,27700,41]],[[12845,12845],"disallowed_STD3_mapped",[40,26408,41]],[[12846,12846],"disallowed_STD3_mapped",[40,37329,41]],[[12847,12847],"disallowed_STD3_mapped",[40,22303,41]],[[12848,12848],"disallowed_STD3_mapped",[40,26085,41]],[[12849,12849],"disallowed_STD3_mapped",[40,26666,41]],[[12850,12850],"disallowed_STD3_mapped",[40,26377,41]],[[12851,12851],"disallowed_STD3_mapped",[40,31038,41]],[[12852,12852],"disallowed_STD3_mapped",[40,21517,41]],[[12853,12853],"disallowed_STD3_mapped",[40,29305,41]],[[12854,12854],"disallowed_STD3_mapped",[40,36001,41]],[[12855,12855],"disallowed_STD3_mapped",[40,31069,41]],[[12856,12856],"disallowed_STD3_mapped",[40,21172,41]],[[12857,12857],"disallowed_STD3_mapped",[40,20195,41]],[[12858,12858],"disallowed_STD3_mapped",[40,21628,41]],[[12859,12859],"disallowed_STD3_mapped",[40,23398,41]],[[12860,12860],"disallowed_STD3_mapped",[40,30435,41]],[[12861,12861],"disallowed_STD3_mapped",[40,20225,41]],[[12862,12862],"disallowed_STD3_mapped",[40,36039,41]],[[12863,12863],"disallowed_STD3_mapped",[40,21332,41]],[[12864,12864],"disallowed_STD3_mapped",[40,31085,41]],[[12865,12865],"disallowed_STD3_mapped",[40,20241,41]],[[12866,12866],"disallowed_STD3_mapped",[40,33258,41]],[[12867,12867],"disallowed_STD3_mapped",[40,33267,41]],[[12868,12868],"mapped",[21839]],[[12869,12869],"mapped",[24188]],[[12870,12870],"mapped",[25991]],[[12871,12871],"mapped",[31631]],[[12872,12879],"valid",[],"NV8"],[[12880,12880],"mapped",[112,116,101]],[[12881,12881],"mapped",[50,49]],[[12882,12882],"mapped",[50,50]],[[12883,12883],"mapped",[50,51]],[[12884,12884],"mapped",[50,52]],[[12885,12885],"mapped",[50,53]],[[12886,12886],"mapped",[50,54]],[[12887,12887],"mapped",[50,55]],[[12888,12888],"mapped",[50,56]],[[12889,12889],"mapped",[50,57]],[[12890,12890],"mapped",[51,48]],[[12891,12891],"mapped",[51,49]],[[12892,12892],"mapped",[51,50]],[[12893,12893],"mapped",[51,51]],[[12894,12894],"mapped",[51,52]],[[12895,12895],"mapped",[51,53]],[[12896,12896],"mapped",[4352]],[[12897,12897],"mapped",[4354]],[[12898,12898],"mapped",[4355]],[[12899,12899],"mapped",[4357]],[[12900,12900],"mapped",[4358]],[[12901,12901],"mapped",[4359]],[[12902,12902],"mapped",[4361]],[[12903,12903],"mapped",[4363]],[[12904,12904],"mapped",[4364]],[[12905,12905],"mapped",[4366]],[[12906,12906],"mapped",[4367]],[[12907,12907],"mapped",[4368]],[[12908,12908],"mapped",[4369]],[[12909,12909],"mapped",[4370]],[[12910,12910],"mapped",[44032]],[[12911,12911],"mapped",[45208]],[[12912,12912],"mapped",[45796]],[[12913,12913],"mapped",[46972]],[[12914,12914],"mapped",[47560]],[[12915,12915],"mapped",[48148]],[[12916,12916],"mapped",[49324]],[[12917,12917],"mapped",[50500]],[[12918,12918],"mapped",[51088]],[[12919,12919],"mapped",[52264]],[[12920,12920],"mapped",[52852]],[[12921,12921],"mapped",[53440]],[[12922,12922],"mapped",[54028]],[[12923,12923],"mapped",[54616]],[[12924,12924],"mapped",[52280,44256]],[[12925,12925],"mapped",[51452,51032]],[[12926,12926],"mapped",[50864]],[[12927,12927],"valid",[],"NV8"],[[12928,12928],"mapped",[19968]],[[12929,12929],"mapped",[20108]],[[12930,12930],"mapped",[19977]],[[12931,12931],"mapped",[22235]],[[12932,12932],"mapped",[20116]],[[12933,12933],"mapped",[20845]],[[12934,12934],"mapped",[19971]],[[12935,12935],"mapped",[20843]],[[12936,12936],"mapped",[20061]],[[12937,12937],"mapped",[21313]],[[12938,12938],"mapped",[26376]],[[12939,12939],"mapped",[28779]],[[12940,12940],"mapped",[27700]],[[12941,12941],"mapped",[26408]],[[12942,12942],"mapped",[37329]],[[12943,12943],"mapped",[22303]],[[12944,12944],"mapped",[26085]],[[12945,12945],"mapped",[26666]],[[12946,12946],"mapped",[26377]],[[12947,12947],"mapped",[31038]],[[12948,12948],"mapped",[21517]],[[12949,12949],"mapped",[29305]],[[12950,12950],"mapped",[36001]],[[12951,12951],"mapped",[31069]],[[12952,12952],"mapped",[21172]],[[12953,12953],"mapped",[31192]],[[12954,12954],"mapped",[30007]],[[12955,12955],"mapped",[22899]],[[12956,12956],"mapped",[36969]],[[12957,12957],"mapped",[20778]],[[12958,12958],"mapped",[21360]],[[12959,12959],"mapped",[27880]],[[12960,12960],"mapped",[38917]],[[12961,12961],"mapped",[20241]],[[12962,12962],"mapped",[20889]],[[12963,12963],"mapped",[27491]],[[12964,12964],"mapped",[19978]],[[12965,12965],"mapped",[20013]],[[12966,12966],"mapped",[19979]],[[12967,12967],"mapped",[24038]],[[12968,12968],"mapped",[21491]],[[12969,12969],"mapped",[21307]],[[12970,12970],"mapped",[23447]],[[12971,12971],"mapped",[23398]],[[12972,12972],"mapped",[30435]],[[12973,12973],"mapped",[20225]],[[12974,12974],"mapped",[36039]],[[12975,12975],"mapped",[21332]],[[12976,12976],"mapped",[22812]],[[12977,12977],"mapped",[51,54]],[[12978,12978],"mapped",[51,55]],[[12979,12979],"mapped",[51,56]],[[12980,12980],"mapped",[51,57]],[[12981,12981],"mapped",[52,48]],[[12982,12982],"mapped",[52,49]],[[12983,12983],"mapped",[52,50]],[[12984,12984],"mapped",[52,51]],[[12985,12985],"mapped",[52,52]],[[12986,12986],"mapped",[52,53]],[[12987,12987],"mapped",[52,54]],[[12988,12988],"mapped",[52,55]],[[12989,12989],"mapped",[52,56]],[[12990,12990],"mapped",[52,57]],[[12991,12991],"mapped",[53,48]],[[12992,12992],"mapped",[49,26376]],[[12993,12993],"mapped",[50,26376]],[[12994,12994],"mapped",[51,26376]],[[12995,12995],"mapped",[52,26376]],[[12996,12996],"mapped",[53,26376]],[[12997,12997],"mapped",[54,26376]],[[12998,12998],"mapped",[55,26376]],[[12999,12999],"mapped",[56,26376]],[[13e3,13e3],"mapped",[57,26376]],[[13001,13001],"mapped",[49,48,26376]],[[13002,13002],"mapped",[49,49,26376]],[[13003,13003],"mapped",[49,50,26376]],[[13004,13004],"mapped",[104,103]],[[13005,13005],"mapped",[101,114,103]],[[13006,13006],"mapped",[101,118]],[[13007,13007],"mapped",[108,116,100]],[[13008,13008],"mapped",[12450]],[[13009,13009],"mapped",[12452]],[[13010,13010],"mapped",[12454]],[[13011,13011],"mapped",[12456]],[[13012,13012],"mapped",[12458]],[[13013,13013],"mapped",[12459]],[[13014,13014],"mapped",[12461]],[[13015,13015],"mapped",[12463]],[[13016,13016],"mapped",[12465]],[[13017,13017],"mapped",[12467]],[[13018,13018],"mapped",[12469]],[[13019,13019],"mapped",[12471]],[[13020,13020],"mapped",[12473]],[[13021,13021],"mapped",[12475]],[[13022,13022],"mapped",[12477]],[[13023,13023],"mapped",[12479]],[[13024,13024],"mapped",[12481]],[[13025,13025],"mapped",[12484]],[[13026,13026],"mapped",[12486]],[[13027,13027],"mapped",[12488]],[[13028,13028],"mapped",[12490]],[[13029,13029],"mapped",[12491]],[[13030,13030],"mapped",[12492]],[[13031,13031],"mapped",[12493]],[[13032,13032],"mapped",[12494]],[[13033,13033],"mapped",[12495]],[[13034,13034],"mapped",[12498]],[[13035,13035],"mapped",[12501]],[[13036,13036],"mapped",[12504]],[[13037,13037],"mapped",[12507]],[[13038,13038],"mapped",[12510]],[[13039,13039],"mapped",[12511]],[[13040,13040],"mapped",[12512]],[[13041,13041],"mapped",[12513]],[[13042,13042],"mapped",[12514]],[[13043,13043],"mapped",[12516]],[[13044,13044],"mapped",[12518]],[[13045,13045],"mapped",[12520]],[[13046,13046],"mapped",[12521]],[[13047,13047],"mapped",[12522]],[[13048,13048],"mapped",[12523]],[[13049,13049],"mapped",[12524]],[[13050,13050],"mapped",[12525]],[[13051,13051],"mapped",[12527]],[[13052,13052],"mapped",[12528]],[[13053,13053],"mapped",[12529]],[[13054,13054],"mapped",[12530]],[[13055,13055],"disallowed"],[[13056,13056],"mapped",[12450,12497,12540,12488]],[[13057,13057],"mapped",[12450,12523,12501,12449]],[[13058,13058],"mapped",[12450,12531,12506,12450]],[[13059,13059],"mapped",[12450,12540,12523]],[[13060,13060],"mapped",[12452,12491,12531,12464]],[[13061,13061],"mapped",[12452,12531,12481]],[[13062,13062],"mapped",[12454,12457,12531]],[[13063,13063],"mapped",[12456,12473,12463,12540,12489]],[[13064,13064],"mapped",[12456,12540,12459,12540]],[[13065,13065],"mapped",[12458,12531,12473]],[[13066,13066],"mapped",[12458,12540,12512]],[[13067,13067],"mapped",[12459,12452,12522]],[[13068,13068],"mapped",[12459,12521,12483,12488]],[[13069,13069],"mapped",[12459,12525,12522,12540]],[[13070,13070],"mapped",[12460,12525,12531]],[[13071,13071],"mapped",[12460,12531,12510]],[[13072,13072],"mapped",[12462,12460]],[[13073,13073],"mapped",[12462,12491,12540]],[[13074,13074],"mapped",[12461,12517,12522,12540]],[[13075,13075],"mapped",[12462,12523,12480,12540]],[[13076,13076],"mapped",[12461,12525]],[[13077,13077],"mapped",[12461,12525,12464,12521,12512]],[[13078,13078],"mapped",[12461,12525,12513,12540,12488,12523]],[[13079,13079],"mapped",[12461,12525,12527,12483,12488]],[[13080,13080],"mapped",[12464,12521,12512]],[[13081,13081],"mapped",[12464,12521,12512,12488,12531]],[[13082,13082],"mapped",[12463,12523,12476,12452,12525]],[[13083,13083],"mapped",[12463,12525,12540,12493]],[[13084,13084],"mapped",[12465,12540,12473]],[[13085,13085],"mapped",[12467,12523,12490]],[[13086,13086],"mapped",[12467,12540,12509]],[[13087,13087],"mapped",[12469,12452,12463,12523]],[[13088,13088],"mapped",[12469,12531,12481,12540,12512]],[[13089,13089],"mapped",[12471,12522,12531,12464]],[[13090,13090],"mapped",[12475,12531,12481]],[[13091,13091],"mapped",[12475,12531,12488]],[[13092,13092],"mapped",[12480,12540,12473]],[[13093,13093],"mapped",[12487,12471]],[[13094,13094],"mapped",[12489,12523]],[[13095,13095],"mapped",[12488,12531]],[[13096,13096],"mapped",[12490,12494]],[[13097,13097],"mapped",[12494,12483,12488]],[[13098,13098],"mapped",[12495,12452,12484]],[[13099,13099],"mapped",[12497,12540,12475,12531,12488]],[[13100,13100],"mapped",[12497,12540,12484]],[[13101,13101],"mapped",[12496,12540,12524,12523]],[[13102,13102],"mapped",[12500,12450,12473,12488,12523]],[[13103,13103],"mapped",[12500,12463,12523]],[[13104,13104],"mapped",[12500,12467]],[[13105,13105],"mapped",[12499,12523]],[[13106,13106],"mapped",[12501,12449,12521,12483,12489]],[[13107,13107],"mapped",[12501,12451,12540,12488]],[[13108,13108],"mapped",[12502,12483,12471,12455,12523]],[[13109,13109],"mapped",[12501,12521,12531]],[[13110,13110],"mapped",[12504,12463,12479,12540,12523]],[[13111,13111],"mapped",[12506,12477]],[[13112,13112],"mapped",[12506,12491,12498]],[[13113,13113],"mapped",[12504,12523,12484]],[[13114,13114],"mapped",[12506,12531,12473]],[[13115,13115],"mapped",[12506,12540,12472]],[[13116,13116],"mapped",[12505,12540,12479]],[[13117,13117],"mapped",[12509,12452,12531,12488]],[[13118,13118],"mapped",[12508,12523,12488]],[[13119,13119],"mapped",[12507,12531]],[[13120,13120],"mapped",[12509,12531,12489]],[[13121,13121],"mapped",[12507,12540,12523]],[[13122,13122],"mapped",[12507,12540,12531]],[[13123,13123],"mapped",[12510,12452,12463,12525]],[[13124,13124],"mapped",[12510,12452,12523]],[[13125,13125],"mapped",[12510,12483,12495]],[[13126,13126],"mapped",[12510,12523,12463]],[[13127,13127],"mapped",[12510,12531,12471,12519,12531]],[[13128,13128],"mapped",[12511,12463,12525,12531]],[[13129,13129],"mapped",[12511,12522]],[[13130,13130],"mapped",[12511,12522,12496,12540,12523]],[[13131,13131],"mapped",[12513,12460]],[[13132,13132],"mapped",[12513,12460,12488,12531]],[[13133,13133],"mapped",[12513,12540,12488,12523]],[[13134,13134],"mapped",[12516,12540,12489]],[[13135,13135],"mapped",[12516,12540,12523]],[[13136,13136],"mapped",[12518,12450,12531]],[[13137,13137],"mapped",[12522,12483,12488,12523]],[[13138,13138],"mapped",[12522,12521]],[[13139,13139],"mapped",[12523,12500,12540]],[[13140,13140],"mapped",[12523,12540,12502,12523]],[[13141,13141],"mapped",[12524,12512]],[[13142,13142],"mapped",[12524,12531,12488,12466,12531]],[[13143,13143],"mapped",[12527,12483,12488]],[[13144,13144],"mapped",[48,28857]],[[13145,13145],"mapped",[49,28857]],[[13146,13146],"mapped",[50,28857]],[[13147,13147],"mapped",[51,28857]],[[13148,13148],"mapped",[52,28857]],[[13149,13149],"mapped",[53,28857]],[[13150,13150],"mapped",[54,28857]],[[13151,13151],"mapped",[55,28857]],[[13152,13152],"mapped",[56,28857]],[[13153,13153],"mapped",[57,28857]],[[13154,13154],"mapped",[49,48,28857]],[[13155,13155],"mapped",[49,49,28857]],[[13156,13156],"mapped",[49,50,28857]],[[13157,13157],"mapped",[49,51,28857]],[[13158,13158],"mapped",[49,52,28857]],[[13159,13159],"mapped",[49,53,28857]],[[13160,13160],"mapped",[49,54,28857]],[[13161,13161],"mapped",[49,55,28857]],[[13162,13162],"mapped",[49,56,28857]],[[13163,13163],"mapped",[49,57,28857]],[[13164,13164],"mapped",[50,48,28857]],[[13165,13165],"mapped",[50,49,28857]],[[13166,13166],"mapped",[50,50,28857]],[[13167,13167],"mapped",[50,51,28857]],[[13168,13168],"mapped",[50,52,28857]],[[13169,13169],"mapped",[104,112,97]],[[13170,13170],"mapped",[100,97]],[[13171,13171],"mapped",[97,117]],[[13172,13172],"mapped",[98,97,114]],[[13173,13173],"mapped",[111,118]],[[13174,13174],"mapped",[112,99]],[[13175,13175],"mapped",[100,109]],[[13176,13176],"mapped",[100,109,50]],[[13177,13177],"mapped",[100,109,51]],[[13178,13178],"mapped",[105,117]],[[13179,13179],"mapped",[24179,25104]],[[13180,13180],"mapped",[26157,21644]],[[13181,13181],"mapped",[22823,27491]],[[13182,13182],"mapped",[26126,27835]],[[13183,13183],"mapped",[26666,24335,20250,31038]],[[13184,13184],"mapped",[112,97]],[[13185,13185],"mapped",[110,97]],[[13186,13186],"mapped",[956,97]],[[13187,13187],"mapped",[109,97]],[[13188,13188],"mapped",[107,97]],[[13189,13189],"mapped",[107,98]],[[13190,13190],"mapped",[109,98]],[[13191,13191],"mapped",[103,98]],[[13192,13192],"mapped",[99,97,108]],[[13193,13193],"mapped",[107,99,97,108]],[[13194,13194],"mapped",[112,102]],[[13195,13195],"mapped",[110,102]],[[13196,13196],"mapped",[956,102]],[[13197,13197],"mapped",[956,103]],[[13198,13198],"mapped",[109,103]],[[13199,13199],"mapped",[107,103]],[[13200,13200],"mapped",[104,122]],[[13201,13201],"mapped",[107,104,122]],[[13202,13202],"mapped",[109,104,122]],[[13203,13203],"mapped",[103,104,122]],[[13204,13204],"mapped",[116,104,122]],[[13205,13205],"mapped",[956,108]],[[13206,13206],"mapped",[109,108]],[[13207,13207],"mapped",[100,108]],[[13208,13208],"mapped",[107,108]],[[13209,13209],"mapped",[102,109]],[[13210,13210],"mapped",[110,109]],[[13211,13211],"mapped",[956,109]],[[13212,13212],"mapped",[109,109]],[[13213,13213],"mapped",[99,109]],[[13214,13214],"mapped",[107,109]],[[13215,13215],"mapped",[109,109,50]],[[13216,13216],"mapped",[99,109,50]],[[13217,13217],"mapped",[109,50]],[[13218,13218],"mapped",[107,109,50]],[[13219,13219],"mapped",[109,109,51]],[[13220,13220],"mapped",[99,109,51]],[[13221,13221],"mapped",[109,51]],[[13222,13222],"mapped",[107,109,51]],[[13223,13223],"mapped",[109,8725,115]],[[13224,13224],"mapped",[109,8725,115,50]],[[13225,13225],"mapped",[112,97]],[[13226,13226],"mapped",[107,112,97]],[[13227,13227],"mapped",[109,112,97]],[[13228,13228],"mapped",[103,112,97]],[[13229,13229],"mapped",[114,97,100]],[[13230,13230],"mapped",[114,97,100,8725,115]],[[13231,13231],"mapped",[114,97,100,8725,115,50]],[[13232,13232],"mapped",[112,115]],[[13233,13233],"mapped",[110,115]],[[13234,13234],"mapped",[956,115]],[[13235,13235],"mapped",[109,115]],[[13236,13236],"mapped",[112,118]],[[13237,13237],"mapped",[110,118]],[[13238,13238],"mapped",[956,118]],[[13239,13239],"mapped",[109,118]],[[13240,13240],"mapped",[107,118]],[[13241,13241],"mapped",[109,118]],[[13242,13242],"mapped",[112,119]],[[13243,13243],"mapped",[110,119]],[[13244,13244],"mapped",[956,119]],[[13245,13245],"mapped",[109,119]],[[13246,13246],"mapped",[107,119]],[[13247,13247],"mapped",[109,119]],[[13248,13248],"mapped",[107,969]],[[13249,13249],"mapped",[109,969]],[[13250,13250],"disallowed"],[[13251,13251],"mapped",[98,113]],[[13252,13252],"mapped",[99,99]],[[13253,13253],"mapped",[99,100]],[[13254,13254],"mapped",[99,8725,107,103]],[[13255,13255],"disallowed"],[[13256,13256],"mapped",[100,98]],[[13257,13257],"mapped",[103,121]],[[13258,13258],"mapped",[104,97]],[[13259,13259],"mapped",[104,112]],[[13260,13260],"mapped",[105,110]],[[13261,13261],"mapped",[107,107]],[[13262,13262],"mapped",[107,109]],[[13263,13263],"mapped",[107,116]],[[13264,13264],"mapped",[108,109]],[[13265,13265],"mapped",[108,110]],[[13266,13266],"mapped",[108,111,103]],[[13267,13267],"mapped",[108,120]],[[13268,13268],"mapped",[109,98]],[[13269,13269],"mapped",[109,105,108]],[[13270,13270],"mapped",[109,111,108]],[[13271,13271],"mapped",[112,104]],[[13272,13272],"disallowed"],[[13273,13273],"mapped",[112,112,109]],[[13274,13274],"mapped",[112,114]],[[13275,13275],"mapped",[115,114]],[[13276,13276],"mapped",[115,118]],[[13277,13277],"mapped",[119,98]],[[13278,13278],"mapped",[118,8725,109]],[[13279,13279],"mapped",[97,8725,109]],[[13280,13280],"mapped",[49,26085]],[[13281,13281],"mapped",[50,26085]],[[13282,13282],"mapped",[51,26085]],[[13283,13283],"mapped",[52,26085]],[[13284,13284],"mapped",[53,26085]],[[13285,13285],"mapped",[54,26085]],[[13286,13286],"mapped",[55,26085]],[[13287,13287],"mapped",[56,26085]],[[13288,13288],"mapped",[57,26085]],[[13289,13289],"mapped",[49,48,26085]],[[13290,13290],"mapped",[49,49,26085]],[[13291,13291],"mapped",[49,50,26085]],[[13292,13292],"mapped",[49,51,26085]],[[13293,13293],"mapped",[49,52,26085]],[[13294,13294],"mapped",[49,53,26085]],[[13295,13295],"mapped",[49,54,26085]],[[13296,13296],"mapped",[49,55,26085]],[[13297,13297],"mapped",[49,56,26085]],[[13298,13298],"mapped",[49,57,26085]],[[13299,13299],"mapped",[50,48,26085]],[[13300,13300],"mapped",[50,49,26085]],[[13301,13301],"mapped",[50,50,26085]],[[13302,13302],"mapped",[50,51,26085]],[[13303,13303],"mapped",[50,52,26085]],[[13304,13304],"mapped",[50,53,26085]],[[13305,13305],"mapped",[50,54,26085]],[[13306,13306],"mapped",[50,55,26085]],[[13307,13307],"mapped",[50,56,26085]],[[13308,13308],"mapped",[50,57,26085]],[[13309,13309],"mapped",[51,48,26085]],[[13310,13310],"mapped",[51,49,26085]],[[13311,13311],"mapped",[103,97,108]],[[13312,19893],"valid"],[[19894,19903],"disallowed"],[[19904,19967],"valid",[],"NV8"],[[19968,40869],"valid"],[[40870,40891],"valid"],[[40892,40899],"valid"],[[40900,40907],"valid"],[[40908,40908],"valid"],[[40909,40917],"valid"],[[40918,40959],"disallowed"],[[40960,42124],"valid"],[[42125,42127],"disallowed"],[[42128,42145],"valid",[],"NV8"],[[42146,42147],"valid",[],"NV8"],[[42148,42163],"valid",[],"NV8"],[[42164,42164],"valid",[],"NV8"],[[42165,42176],"valid",[],"NV8"],[[42177,42177],"valid",[],"NV8"],[[42178,42180],"valid",[],"NV8"],[[42181,42181],"valid",[],"NV8"],[[42182,42182],"valid",[],"NV8"],[[42183,42191],"disallowed"],[[42192,42237],"valid"],[[42238,42239],"valid",[],"NV8"],[[42240,42508],"valid"],[[42509,42511],"valid",[],"NV8"],[[42512,42539],"valid"],[[42540,42559],"disallowed"],[[42560,42560],"mapped",[42561]],[[42561,42561],"valid"],[[42562,42562],"mapped",[42563]],[[42563,42563],"valid"],[[42564,42564],"mapped",[42565]],[[42565,42565],"valid"],[[42566,42566],"mapped",[42567]],[[42567,42567],"valid"],[[42568,42568],"mapped",[42569]],[[42569,42569],"valid"],[[42570,42570],"mapped",[42571]],[[42571,42571],"valid"],[[42572,42572],"mapped",[42573]],[[42573,42573],"valid"],[[42574,42574],"mapped",[42575]],[[42575,42575],"valid"],[[42576,42576],"mapped",[42577]],[[42577,42577],"valid"],[[42578,42578],"mapped",[42579]],[[42579,42579],"valid"],[[42580,42580],"mapped",[42581]],[[42581,42581],"valid"],[[42582,42582],"mapped",[42583]],[[42583,42583],"valid"],[[42584,42584],"mapped",[42585]],[[42585,42585],"valid"],[[42586,42586],"mapped",[42587]],[[42587,42587],"valid"],[[42588,42588],"mapped",[42589]],[[42589,42589],"valid"],[[42590,42590],"mapped",[42591]],[[42591,42591],"valid"],[[42592,42592],"mapped",[42593]],[[42593,42593],"valid"],[[42594,42594],"mapped",[42595]],[[42595,42595],"valid"],[[42596,42596],"mapped",[42597]],[[42597,42597],"valid"],[[42598,42598],"mapped",[42599]],[[42599,42599],"valid"],[[42600,42600],"mapped",[42601]],[[42601,42601],"valid"],[[42602,42602],"mapped",[42603]],[[42603,42603],"valid"],[[42604,42604],"mapped",[42605]],[[42605,42607],"valid"],[[42608,42611],"valid",[],"NV8"],[[42612,42619],"valid"],[[42620,42621],"valid"],[[42622,42622],"valid",[],"NV8"],[[42623,42623],"valid"],[[42624,42624],"mapped",[42625]],[[42625,42625],"valid"],[[42626,42626],"mapped",[42627]],[[42627,42627],"valid"],[[42628,42628],"mapped",[42629]],[[42629,42629],"valid"],[[42630,42630],"mapped",[42631]],[[42631,42631],"valid"],[[42632,42632],"mapped",[42633]],[[42633,42633],"valid"],[[42634,42634],"mapped",[42635]],[[42635,42635],"valid"],[[42636,42636],"mapped",[42637]],[[42637,42637],"valid"],[[42638,42638],"mapped",[42639]],[[42639,42639],"valid"],[[42640,42640],"mapped",[42641]],[[42641,42641],"valid"],[[42642,42642],"mapped",[42643]],[[42643,42643],"valid"],[[42644,42644],"mapped",[42645]],[[42645,42645],"valid"],[[42646,42646],"mapped",[42647]],[[42647,42647],"valid"],[[42648,42648],"mapped",[42649]],[[42649,42649],"valid"],[[42650,42650],"mapped",[42651]],[[42651,42651],"valid"],[[42652,42652],"mapped",[1098]],[[42653,42653],"mapped",[1100]],[[42654,42654],"valid"],[[42655,42655],"valid"],[[42656,42725],"valid"],[[42726,42735],"valid",[],"NV8"],[[42736,42737],"valid"],[[42738,42743],"valid",[],"NV8"],[[42744,42751],"disallowed"],[[42752,42774],"valid",[],"NV8"],[[42775,42778],"valid"],[[42779,42783],"valid"],[[42784,42785],"valid",[],"NV8"],[[42786,42786],"mapped",[42787]],[[42787,42787],"valid"],[[42788,42788],"mapped",[42789]],[[42789,42789],"valid"],[[42790,42790],"mapped",[42791]],[[42791,42791],"valid"],[[42792,42792],"mapped",[42793]],[[42793,42793],"valid"],[[42794,42794],"mapped",[42795]],[[42795,42795],"valid"],[[42796,42796],"mapped",[42797]],[[42797,42797],"valid"],[[42798,42798],"mapped",[42799]],[[42799,42801],"valid"],[[42802,42802],"mapped",[42803]],[[42803,42803],"valid"],[[42804,42804],"mapped",[42805]],[[42805,42805],"valid"],[[42806,42806],"mapped",[42807]],[[42807,42807],"valid"],[[42808,42808],"mapped",[42809]],[[42809,42809],"valid"],[[42810,42810],"mapped",[42811]],[[42811,42811],"valid"],[[42812,42812],"mapped",[42813]],[[42813,42813],"valid"],[[42814,42814],"mapped",[42815]],[[42815,42815],"valid"],[[42816,42816],"mapped",[42817]],[[42817,42817],"valid"],[[42818,42818],"mapped",[42819]],[[42819,42819],"valid"],[[42820,42820],"mapped",[42821]],[[42821,42821],"valid"],[[42822,42822],"mapped",[42823]],[[42823,42823],"valid"],[[42824,42824],"mapped",[42825]],[[42825,42825],"valid"],[[42826,42826],"mapped",[42827]],[[42827,42827],"valid"],[[42828,42828],"mapped",[42829]],[[42829,42829],"valid"],[[42830,42830],"mapped",[42831]],[[42831,42831],"valid"],[[42832,42832],"mapped",[42833]],[[42833,42833],"valid"],[[42834,42834],"mapped",[42835]],[[42835,42835],"valid"],[[42836,42836],"mapped",[42837]],[[42837,42837],"valid"],[[42838,42838],"mapped",[42839]],[[42839,42839],"valid"],[[42840,42840],"mapped",[42841]],[[42841,42841],"valid"],[[42842,42842],"mapped",[42843]],[[42843,42843],"valid"],[[42844,42844],"mapped",[42845]],[[42845,42845],"valid"],[[42846,42846],"mapped",[42847]],[[42847,42847],"valid"],[[42848,42848],"mapped",[42849]],[[42849,42849],"valid"],[[42850,42850],"mapped",[42851]],[[42851,42851],"valid"],[[42852,42852],"mapped",[42853]],[[42853,42853],"valid"],[[42854,42854],"mapped",[42855]],[[42855,42855],"valid"],[[42856,42856],"mapped",[42857]],[[42857,42857],"valid"],[[42858,42858],"mapped",[42859]],[[42859,42859],"valid"],[[42860,42860],"mapped",[42861]],[[42861,42861],"valid"],[[42862,42862],"mapped",[42863]],[[42863,42863],"valid"],[[42864,42864],"mapped",[42863]],[[42865,42872],"valid"],[[42873,42873],"mapped",[42874]],[[42874,42874],"valid"],[[42875,42875],"mapped",[42876]],[[42876,42876],"valid"],[[42877,42877],"mapped",[7545]],[[42878,42878],"mapped",[42879]],[[42879,42879],"valid"],[[42880,42880],"mapped",[42881]],[[42881,42881],"valid"],[[42882,42882],"mapped",[42883]],[[42883,42883],"valid"],[[42884,42884],"mapped",[42885]],[[42885,42885],"valid"],[[42886,42886],"mapped",[42887]],[[42887,42888],"valid"],[[42889,42890],"valid",[],"NV8"],[[42891,42891],"mapped",[42892]],[[42892,42892],"valid"],[[42893,42893],"mapped",[613]],[[42894,42894],"valid"],[[42895,42895],"valid"],[[42896,42896],"mapped",[42897]],[[42897,42897],"valid"],[[42898,42898],"mapped",[42899]],[[42899,42899],"valid"],[[42900,42901],"valid"],[[42902,42902],"mapped",[42903]],[[42903,42903],"valid"],[[42904,42904],"mapped",[42905]],[[42905,42905],"valid"],[[42906,42906],"mapped",[42907]],[[42907,42907],"valid"],[[42908,42908],"mapped",[42909]],[[42909,42909],"valid"],[[42910,42910],"mapped",[42911]],[[42911,42911],"valid"],[[42912,42912],"mapped",[42913]],[[42913,42913],"valid"],[[42914,42914],"mapped",[42915]],[[42915,42915],"valid"],[[42916,42916],"mapped",[42917]],[[42917,42917],"valid"],[[42918,42918],"mapped",[42919]],[[42919,42919],"valid"],[[42920,42920],"mapped",[42921]],[[42921,42921],"valid"],[[42922,42922],"mapped",[614]],[[42923,42923],"mapped",[604]],[[42924,42924],"mapped",[609]],[[42925,42925],"mapped",[620]],[[42926,42927],"disallowed"],[[42928,42928],"mapped",[670]],[[42929,42929],"mapped",[647]],[[42930,42930],"mapped",[669]],[[42931,42931],"mapped",[43859]],[[42932,42932],"mapped",[42933]],[[42933,42933],"valid"],[[42934,42934],"mapped",[42935]],[[42935,42935],"valid"],[[42936,42998],"disallowed"],[[42999,42999],"valid"],[[43e3,43e3],"mapped",[295]],[[43001,43001],"mapped",[339]],[[43002,43002],"valid"],[[43003,43007],"valid"],[[43008,43047],"valid"],[[43048,43051],"valid",[],"NV8"],[[43052,43055],"disallowed"],[[43056,43065],"valid",[],"NV8"],[[43066,43071],"disallowed"],[[43072,43123],"valid"],[[43124,43127],"valid",[],"NV8"],[[43128,43135],"disallowed"],[[43136,43204],"valid"],[[43205,43213],"disallowed"],[[43214,43215],"valid",[],"NV8"],[[43216,43225],"valid"],[[43226,43231],"disallowed"],[[43232,43255],"valid"],[[43256,43258],"valid",[],"NV8"],[[43259,43259],"valid"],[[43260,43260],"valid",[],"NV8"],[[43261,43261],"valid"],[[43262,43263],"disallowed"],[[43264,43309],"valid"],[[43310,43311],"valid",[],"NV8"],[[43312,43347],"valid"],[[43348,43358],"disallowed"],[[43359,43359],"valid",[],"NV8"],[[43360,43388],"valid",[],"NV8"],[[43389,43391],"disallowed"],[[43392,43456],"valid"],[[43457,43469],"valid",[],"NV8"],[[43470,43470],"disallowed"],[[43471,43481],"valid"],[[43482,43485],"disallowed"],[[43486,43487],"valid",[],"NV8"],[[43488,43518],"valid"],[[43519,43519],"disallowed"],[[43520,43574],"valid"],[[43575,43583],"disallowed"],[[43584,43597],"valid"],[[43598,43599],"disallowed"],[[43600,43609],"valid"],[[43610,43611],"disallowed"],[[43612,43615],"valid",[],"NV8"],[[43616,43638],"valid"],[[43639,43641],"valid",[],"NV8"],[[43642,43643],"valid"],[[43644,43647],"valid"],[[43648,43714],"valid"],[[43715,43738],"disallowed"],[[43739,43741],"valid"],[[43742,43743],"valid",[],"NV8"],[[43744,43759],"valid"],[[43760,43761],"valid",[],"NV8"],[[43762,43766],"valid"],[[43767,43776],"disallowed"],[[43777,43782],"valid"],[[43783,43784],"disallowed"],[[43785,43790],"valid"],[[43791,43792],"disallowed"],[[43793,43798],"valid"],[[43799,43807],"disallowed"],[[43808,43814],"valid"],[[43815,43815],"disallowed"],[[43816,43822],"valid"],[[43823,43823],"disallowed"],[[43824,43866],"valid"],[[43867,43867],"valid",[],"NV8"],[[43868,43868],"mapped",[42791]],[[43869,43869],"mapped",[43831]],[[43870,43870],"mapped",[619]],[[43871,43871],"mapped",[43858]],[[43872,43875],"valid"],[[43876,43877],"valid"],[[43878,43887],"disallowed"],[[43888,43888],"mapped",[5024]],[[43889,43889],"mapped",[5025]],[[43890,43890],"mapped",[5026]],[[43891,43891],"mapped",[5027]],[[43892,43892],"mapped",[5028]],[[43893,43893],"mapped",[5029]],[[43894,43894],"mapped",[5030]],[[43895,43895],"mapped",[5031]],[[43896,43896],"mapped",[5032]],[[43897,43897],"mapped",[5033]],[[43898,43898],"mapped",[5034]],[[43899,43899],"mapped",[5035]],[[43900,43900],"mapped",[5036]],[[43901,43901],"mapped",[5037]],[[43902,43902],"mapped",[5038]],[[43903,43903],"mapped",[5039]],[[43904,43904],"mapped",[5040]],[[43905,43905],"mapped",[5041]],[[43906,43906],"mapped",[5042]],[[43907,43907],"mapped",[5043]],[[43908,43908],"mapped",[5044]],[[43909,43909],"mapped",[5045]],[[43910,43910],"mapped",[5046]],[[43911,43911],"mapped",[5047]],[[43912,43912],"mapped",[5048]],[[43913,43913],"mapped",[5049]],[[43914,43914],"mapped",[5050]],[[43915,43915],"mapped",[5051]],[[43916,43916],"mapped",[5052]],[[43917,43917],"mapped",[5053]],[[43918,43918],"mapped",[5054]],[[43919,43919],"mapped",[5055]],[[43920,43920],"mapped",[5056]],[[43921,43921],"mapped",[5057]],[[43922,43922],"mapped",[5058]],[[43923,43923],"mapped",[5059]],[[43924,43924],"mapped",[5060]],[[43925,43925],"mapped",[5061]],[[43926,43926],"mapped",[5062]],[[43927,43927],"mapped",[5063]],[[43928,43928],"mapped",[5064]],[[43929,43929],"mapped",[5065]],[[43930,43930],"mapped",[5066]],[[43931,43931],"mapped",[5067]],[[43932,43932],"mapped",[5068]],[[43933,43933],"mapped",[5069]],[[43934,43934],"mapped",[5070]],[[43935,43935],"mapped",[5071]],[[43936,43936],"mapped",[5072]],[[43937,43937],"mapped",[5073]],[[43938,43938],"mapped",[5074]],[[43939,43939],"mapped",[5075]],[[43940,43940],"mapped",[5076]],[[43941,43941],"mapped",[5077]],[[43942,43942],"mapped",[5078]],[[43943,43943],"mapped",[5079]],[[43944,43944],"mapped",[5080]],[[43945,43945],"mapped",[5081]],[[43946,43946],"mapped",[5082]],[[43947,43947],"mapped",[5083]],[[43948,43948],"mapped",[5084]],[[43949,43949],"mapped",[5085]],[[43950,43950],"mapped",[5086]],[[43951,43951],"mapped",[5087]],[[43952,43952],"mapped",[5088]],[[43953,43953],"mapped",[5089]],[[43954,43954],"mapped",[5090]],[[43955,43955],"mapped",[5091]],[[43956,43956],"mapped",[5092]],[[43957,43957],"mapped",[5093]],[[43958,43958],"mapped",[5094]],[[43959,43959],"mapped",[5095]],[[43960,43960],"mapped",[5096]],[[43961,43961],"mapped",[5097]],[[43962,43962],"mapped",[5098]],[[43963,43963],"mapped",[5099]],[[43964,43964],"mapped",[5100]],[[43965,43965],"mapped",[5101]],[[43966,43966],"mapped",[5102]],[[43967,43967],"mapped",[5103]],[[43968,44010],"valid"],[[44011,44011],"valid",[],"NV8"],[[44012,44013],"valid"],[[44014,44015],"disallowed"],[[44016,44025],"valid"],[[44026,44031],"disallowed"],[[44032,55203],"valid"],[[55204,55215],"disallowed"],[[55216,55238],"valid",[],"NV8"],[[55239,55242],"disallowed"],[[55243,55291],"valid",[],"NV8"],[[55292,55295],"disallowed"],[[55296,57343],"disallowed"],[[57344,63743],"disallowed"],[[63744,63744],"mapped",[35912]],[[63745,63745],"mapped",[26356]],[[63746,63746],"mapped",[36554]],[[63747,63747],"mapped",[36040]],[[63748,63748],"mapped",[28369]],[[63749,63749],"mapped",[20018]],[[63750,63750],"mapped",[21477]],[[63751,63752],"mapped",[40860]],[[63753,63753],"mapped",[22865]],[[63754,63754],"mapped",[37329]],[[63755,63755],"mapped",[21895]],[[63756,63756],"mapped",[22856]],[[63757,63757],"mapped",[25078]],[[63758,63758],"mapped",[30313]],[[63759,63759],"mapped",[32645]],[[63760,63760],"mapped",[34367]],[[63761,63761],"mapped",[34746]],[[63762,63762],"mapped",[35064]],[[63763,63763],"mapped",[37007]],[[63764,63764],"mapped",[27138]],[[63765,63765],"mapped",[27931]],[[63766,63766],"mapped",[28889]],[[63767,63767],"mapped",[29662]],[[63768,63768],"mapped",[33853]],[[63769,63769],"mapped",[37226]],[[63770,63770],"mapped",[39409]],[[63771,63771],"mapped",[20098]],[[63772,63772],"mapped",[21365]],[[63773,63773],"mapped",[27396]],[[63774,63774],"mapped",[29211]],[[63775,63775],"mapped",[34349]],[[63776,63776],"mapped",[40478]],[[63777,63777],"mapped",[23888]],[[63778,63778],"mapped",[28651]],[[63779,63779],"mapped",[34253]],[[63780,63780],"mapped",[35172]],[[63781,63781],"mapped",[25289]],[[63782,63782],"mapped",[33240]],[[63783,63783],"mapped",[34847]],[[63784,63784],"mapped",[24266]],[[63785,63785],"mapped",[26391]],[[63786,63786],"mapped",[28010]],[[63787,63787],"mapped",[29436]],[[63788,63788],"mapped",[37070]],[[63789,63789],"mapped",[20358]],[[63790,63790],"mapped",[20919]],[[63791,63791],"mapped",[21214]],[[63792,63792],"mapped",[25796]],[[63793,63793],"mapped",[27347]],[[63794,63794],"mapped",[29200]],[[63795,63795],"mapped",[30439]],[[63796,63796],"mapped",[32769]],[[63797,63797],"mapped",[34310]],[[63798,63798],"mapped",[34396]],[[63799,63799],"mapped",[36335]],[[63800,63800],"mapped",[38706]],[[63801,63801],"mapped",[39791]],[[63802,63802],"mapped",[40442]],[[63803,63803],"mapped",[30860]],[[63804,63804],"mapped",[31103]],[[63805,63805],"mapped",[32160]],[[63806,63806],"mapped",[33737]],[[63807,63807],"mapped",[37636]],[[63808,63808],"mapped",[40575]],[[63809,63809],"mapped",[35542]],[[63810,63810],"mapped",[22751]],[[63811,63811],"mapped",[24324]],[[63812,63812],"mapped",[31840]],[[63813,63813],"mapped",[32894]],[[63814,63814],"mapped",[29282]],[[63815,63815],"mapped",[30922]],[[63816,63816],"mapped",[36034]],[[63817,63817],"mapped",[38647]],[[63818,63818],"mapped",[22744]],[[63819,63819],"mapped",[23650]],[[63820,63820],"mapped",[27155]],[[63821,63821],"mapped",[28122]],[[63822,63822],"mapped",[28431]],[[63823,63823],"mapped",[32047]],[[63824,63824],"mapped",[32311]],[[63825,63825],"mapped",[38475]],[[63826,63826],"mapped",[21202]],[[63827,63827],"mapped",[32907]],[[63828,63828],"mapped",[20956]],[[63829,63829],"mapped",[20940]],[[63830,63830],"mapped",[31260]],[[63831,63831],"mapped",[32190]],[[63832,63832],"mapped",[33777]],[[63833,63833],"mapped",[38517]],[[63834,63834],"mapped",[35712]],[[63835,63835],"mapped",[25295]],[[63836,63836],"mapped",[27138]],[[63837,63837],"mapped",[35582]],[[63838,63838],"mapped",[20025]],[[63839,63839],"mapped",[23527]],[[63840,63840],"mapped",[24594]],[[63841,63841],"mapped",[29575]],[[63842,63842],"mapped",[30064]],[[63843,63843],"mapped",[21271]],[[63844,63844],"mapped",[30971]],[[63845,63845],"mapped",[20415]],[[63846,63846],"mapped",[24489]],[[63847,63847],"mapped",[19981]],[[63848,63848],"mapped",[27852]],[[63849,63849],"mapped",[25976]],[[63850,63850],"mapped",[32034]],[[63851,63851],"mapped",[21443]],[[63852,63852],"mapped",[22622]],[[63853,63853],"mapped",[30465]],[[63854,63854],"mapped",[33865]],[[63855,63855],"mapped",[35498]],[[63856,63856],"mapped",[27578]],[[63857,63857],"mapped",[36784]],[[63858,63858],"mapped",[27784]],[[63859,63859],"mapped",[25342]],[[63860,63860],"mapped",[33509]],[[63861,63861],"mapped",[25504]],[[63862,63862],"mapped",[30053]],[[63863,63863],"mapped",[20142]],[[63864,63864],"mapped",[20841]],[[63865,63865],"mapped",[20937]],[[63866,63866],"mapped",[26753]],[[63867,63867],"mapped",[31975]],[[63868,63868],"mapped",[33391]],[[63869,63869],"mapped",[35538]],[[63870,63870],"mapped",[37327]],[[63871,63871],"mapped",[21237]],[[63872,63872],"mapped",[21570]],[[63873,63873],"mapped",[22899]],[[63874,63874],"mapped",[24300]],[[63875,63875],"mapped",[26053]],[[63876,63876],"mapped",[28670]],[[63877,63877],"mapped",[31018]],[[63878,63878],"mapped",[38317]],[[63879,63879],"mapped",[39530]],[[63880,63880],"mapped",[40599]],[[63881,63881],"mapped",[40654]],[[63882,63882],"mapped",[21147]],[[63883,63883],"mapped",[26310]],[[63884,63884],"mapped",[27511]],[[63885,63885],"mapped",[36706]],[[63886,63886],"mapped",[24180]],[[63887,63887],"mapped",[24976]],[[63888,63888],"mapped",[25088]],[[63889,63889],"mapped",[25754]],[[63890,63890],"mapped",[28451]],[[63891,63891],"mapped",[29001]],[[63892,63892],"mapped",[29833]],[[63893,63893],"mapped",[31178]],[[63894,63894],"mapped",[32244]],[[63895,63895],"mapped",[32879]],[[63896,63896],"mapped",[36646]],[[63897,63897],"mapped",[34030]],[[63898,63898],"mapped",[36899]],[[63899,63899],"mapped",[37706]],[[63900,63900],"mapped",[21015]],[[63901,63901],"mapped",[21155]],[[63902,63902],"mapped",[21693]],[[63903,63903],"mapped",[28872]],[[63904,63904],"mapped",[35010]],[[63905,63905],"mapped",[35498]],[[63906,63906],"mapped",[24265]],[[63907,63907],"mapped",[24565]],[[63908,63908],"mapped",[25467]],[[63909,63909],"mapped",[27566]],[[63910,63910],"mapped",[31806]],[[63911,63911],"mapped",[29557]],[[63912,63912],"mapped",[20196]],[[63913,63913],"mapped",[22265]],[[63914,63914],"mapped",[23527]],[[63915,63915],"mapped",[23994]],[[63916,63916],"mapped",[24604]],[[63917,63917],"mapped",[29618]],[[63918,63918],"mapped",[29801]],[[63919,63919],"mapped",[32666]],[[63920,63920],"mapped",[32838]],[[63921,63921],"mapped",[37428]],[[63922,63922],"mapped",[38646]],[[63923,63923],"mapped",[38728]],[[63924,63924],"mapped",[38936]],[[63925,63925],"mapped",[20363]],[[63926,63926],"mapped",[31150]],[[63927,63927],"mapped",[37300]],[[63928,63928],"mapped",[38584]],[[63929,63929],"mapped",[24801]],[[63930,63930],"mapped",[20102]],[[63931,63931],"mapped",[20698]],[[63932,63932],"mapped",[23534]],[[63933,63933],"mapped",[23615]],[[63934,63934],"mapped",[26009]],[[63935,63935],"mapped",[27138]],[[63936,63936],"mapped",[29134]],[[63937,63937],"mapped",[30274]],[[63938,63938],"mapped",[34044]],[[63939,63939],"mapped",[36988]],[[63940,63940],"mapped",[40845]],[[63941,63941],"mapped",[26248]],[[63942,63942],"mapped",[38446]],[[63943,63943],"mapped",[21129]],[[63944,63944],"mapped",[26491]],[[63945,63945],"mapped",[26611]],[[63946,63946],"mapped",[27969]],[[63947,63947],"mapped",[28316]],[[63948,63948],"mapped",[29705]],[[63949,63949],"mapped",[30041]],[[63950,63950],"mapped",[30827]],[[63951,63951],"mapped",[32016]],[[63952,63952],"mapped",[39006]],[[63953,63953],"mapped",[20845]],[[63954,63954],"mapped",[25134]],[[63955,63955],"mapped",[38520]],[[63956,63956],"mapped",[20523]],[[63957,63957],"mapped",[23833]],[[63958,63958],"mapped",[28138]],[[63959,63959],"mapped",[36650]],[[63960,63960],"mapped",[24459]],[[63961,63961],"mapped",[24900]],[[63962,63962],"mapped",[26647]],[[63963,63963],"mapped",[29575]],[[63964,63964],"mapped",[38534]],[[63965,63965],"mapped",[21033]],[[63966,63966],"mapped",[21519]],[[63967,63967],"mapped",[23653]],[[63968,63968],"mapped",[26131]],[[63969,63969],"mapped",[26446]],[[63970,63970],"mapped",[26792]],[[63971,63971],"mapped",[27877]],[[63972,63972],"mapped",[29702]],[[63973,63973],"mapped",[30178]],[[63974,63974],"mapped",[32633]],[[63975,63975],"mapped",[35023]],[[63976,63976],"mapped",[35041]],[[63977,63977],"mapped",[37324]],[[63978,63978],"mapped",[38626]],[[63979,63979],"mapped",[21311]],[[63980,63980],"mapped",[28346]],[[63981,63981],"mapped",[21533]],[[63982,63982],"mapped",[29136]],[[63983,63983],"mapped",[29848]],[[63984,63984],"mapped",[34298]],[[63985,63985],"mapped",[38563]],[[63986,63986],"mapped",[40023]],[[63987,63987],"mapped",[40607]],[[63988,63988],"mapped",[26519]],[[63989,63989],"mapped",[28107]],[[63990,63990],"mapped",[33256]],[[63991,63991],"mapped",[31435]],[[63992,63992],"mapped",[31520]],[[63993,63993],"mapped",[31890]],[[63994,63994],"mapped",[29376]],[[63995,63995],"mapped",[28825]],[[63996,63996],"mapped",[35672]],[[63997,63997],"mapped",[20160]],[[63998,63998],"mapped",[33590]],[[63999,63999],"mapped",[21050]],[[64e3,64e3],"mapped",[20999]],[[64001,64001],"mapped",[24230]],[[64002,64002],"mapped",[25299]],[[64003,64003],"mapped",[31958]],[[64004,64004],"mapped",[23429]],[[64005,64005],"mapped",[27934]],[[64006,64006],"mapped",[26292]],[[64007,64007],"mapped",[36667]],[[64008,64008],"mapped",[34892]],[[64009,64009],"mapped",[38477]],[[64010,64010],"mapped",[35211]],[[64011,64011],"mapped",[24275]],[[64012,64012],"mapped",[20800]],[[64013,64013],"mapped",[21952]],[[64014,64015],"valid"],[[64016,64016],"mapped",[22618]],[[64017,64017],"valid"],[[64018,64018],"mapped",[26228]],[[64019,64020],"valid"],[[64021,64021],"mapped",[20958]],[[64022,64022],"mapped",[29482]],[[64023,64023],"mapped",[30410]],[[64024,64024],"mapped",[31036]],[[64025,64025],"mapped",[31070]],[[64026,64026],"mapped",[31077]],[[64027,64027],"mapped",[31119]],[[64028,64028],"mapped",[38742]],[[64029,64029],"mapped",[31934]],[[64030,64030],"mapped",[32701]],[[64031,64031],"valid"],[[64032,64032],"mapped",[34322]],[[64033,64033],"valid"],[[64034,64034],"mapped",[35576]],[[64035,64036],"valid"],[[64037,64037],"mapped",[36920]],[[64038,64038],"mapped",[37117]],[[64039,64041],"valid"],[[64042,64042],"mapped",[39151]],[[64043,64043],"mapped",[39164]],[[64044,64044],"mapped",[39208]],[[64045,64045],"mapped",[40372]],[[64046,64046],"mapped",[37086]],[[64047,64047],"mapped",[38583]],[[64048,64048],"mapped",[20398]],[[64049,64049],"mapped",[20711]],[[64050,64050],"mapped",[20813]],[[64051,64051],"mapped",[21193]],[[64052,64052],"mapped",[21220]],[[64053,64053],"mapped",[21329]],[[64054,64054],"mapped",[21917]],[[64055,64055],"mapped",[22022]],[[64056,64056],"mapped",[22120]],[[64057,64057],"mapped",[22592]],[[64058,64058],"mapped",[22696]],[[64059,64059],"mapped",[23652]],[[64060,64060],"mapped",[23662]],[[64061,64061],"mapped",[24724]],[[64062,64062],"mapped",[24936]],[[64063,64063],"mapped",[24974]],[[64064,64064],"mapped",[25074]],[[64065,64065],"mapped",[25935]],[[64066,64066],"mapped",[26082]],[[64067,64067],"mapped",[26257]],[[64068,64068],"mapped",[26757]],[[64069,64069],"mapped",[28023]],[[64070,64070],"mapped",[28186]],[[64071,64071],"mapped",[28450]],[[64072,64072],"mapped",[29038]],[[64073,64073],"mapped",[29227]],[[64074,64074],"mapped",[29730]],[[64075,64075],"mapped",[30865]],[[64076,64076],"mapped",[31038]],[[64077,64077],"mapped",[31049]],[[64078,64078],"mapped",[31048]],[[64079,64079],"mapped",[31056]],[[64080,64080],"mapped",[31062]],[[64081,64081],"mapped",[31069]],[[64082,64082],"mapped",[31117]],[[64083,64083],"mapped",[31118]],[[64084,64084],"mapped",[31296]],[[64085,64085],"mapped",[31361]],[[64086,64086],"mapped",[31680]],[[64087,64087],"mapped",[32244]],[[64088,64088],"mapped",[32265]],[[64089,64089],"mapped",[32321]],[[64090,64090],"mapped",[32626]],[[64091,64091],"mapped",[32773]],[[64092,64092],"mapped",[33261]],[[64093,64094],"mapped",[33401]],[[64095,64095],"mapped",[33879]],[[64096,64096],"mapped",[35088]],[[64097,64097],"mapped",[35222]],[[64098,64098],"mapped",[35585]],[[64099,64099],"mapped",[35641]],[[64100,64100],"mapped",[36051]],[[64101,64101],"mapped",[36104]],[[64102,64102],"mapped",[36790]],[[64103,64103],"mapped",[36920]],[[64104,64104],"mapped",[38627]],[[64105,64105],"mapped",[38911]],[[64106,64106],"mapped",[38971]],[[64107,64107],"mapped",[24693]],[[64108,64108],"mapped",[148206]],[[64109,64109],"mapped",[33304]],[[64110,64111],"disallowed"],[[64112,64112],"mapped",[20006]],[[64113,64113],"mapped",[20917]],[[64114,64114],"mapped",[20840]],[[64115,64115],"mapped",[20352]],[[64116,64116],"mapped",[20805]],[[64117,64117],"mapped",[20864]],[[64118,64118],"mapped",[21191]],[[64119,64119],"mapped",[21242]],[[64120,64120],"mapped",[21917]],[[64121,64121],"mapped",[21845]],[[64122,64122],"mapped",[21913]],[[64123,64123],"mapped",[21986]],[[64124,64124],"mapped",[22618]],[[64125,64125],"mapped",[22707]],[[64126,64126],"mapped",[22852]],[[64127,64127],"mapped",[22868]],[[64128,64128],"mapped",[23138]],[[64129,64129],"mapped",[23336]],[[64130,64130],"mapped",[24274]],[[64131,64131],"mapped",[24281]],[[64132,64132],"mapped",[24425]],[[64133,64133],"mapped",[24493]],[[64134,64134],"mapped",[24792]],[[64135,64135],"mapped",[24910]],[[64136,64136],"mapped",[24840]],[[64137,64137],"mapped",[24974]],[[64138,64138],"mapped",[24928]],[[64139,64139],"mapped",[25074]],[[64140,64140],"mapped",[25140]],[[64141,64141],"mapped",[25540]],[[64142,64142],"mapped",[25628]],[[64143,64143],"mapped",[25682]],[[64144,64144],"mapped",[25942]],[[64145,64145],"mapped",[26228]],[[64146,64146],"mapped",[26391]],[[64147,64147],"mapped",[26395]],[[64148,64148],"mapped",[26454]],[[64149,64149],"mapped",[27513]],[[64150,64150],"mapped",[27578]],[[64151,64151],"mapped",[27969]],[[64152,64152],"mapped",[28379]],[[64153,64153],"mapped",[28363]],[[64154,64154],"mapped",[28450]],[[64155,64155],"mapped",[28702]],[[64156,64156],"mapped",[29038]],[[64157,64157],"mapped",[30631]],[[64158,64158],"mapped",[29237]],[[64159,64159],"mapped",[29359]],[[64160,64160],"mapped",[29482]],[[64161,64161],"mapped",[29809]],[[64162,64162],"mapped",[29958]],[[64163,64163],"mapped",[30011]],[[64164,64164],"mapped",[30237]],[[64165,64165],"mapped",[30239]],[[64166,64166],"mapped",[30410]],[[64167,64167],"mapped",[30427]],[[64168,64168],"mapped",[30452]],[[64169,64169],"mapped",[30538]],[[64170,64170],"mapped",[30528]],[[64171,64171],"mapped",[30924]],[[64172,64172],"mapped",[31409]],[[64173,64173],"mapped",[31680]],[[64174,64174],"mapped",[31867]],[[64175,64175],"mapped",[32091]],[[64176,64176],"mapped",[32244]],[[64177,64177],"mapped",[32574]],[[64178,64178],"mapped",[32773]],[[64179,64179],"mapped",[33618]],[[64180,64180],"mapped",[33775]],[[64181,64181],"mapped",[34681]],[[64182,64182],"mapped",[35137]],[[64183,64183],"mapped",[35206]],[[64184,64184],"mapped",[35222]],[[64185,64185],"mapped",[35519]],[[64186,64186],"mapped",[35576]],[[64187,64187],"mapped",[35531]],[[64188,64188],"mapped",[35585]],[[64189,64189],"mapped",[35582]],[[64190,64190],"mapped",[35565]],[[64191,64191],"mapped",[35641]],[[64192,64192],"mapped",[35722]],[[64193,64193],"mapped",[36104]],[[64194,64194],"mapped",[36664]],[[64195,64195],"mapped",[36978]],[[64196,64196],"mapped",[37273]],[[64197,64197],"mapped",[37494]],[[64198,64198],"mapped",[38524]],[[64199,64199],"mapped",[38627]],[[64200,64200],"mapped",[38742]],[[64201,64201],"mapped",[38875]],[[64202,64202],"mapped",[38911]],[[64203,64203],"mapped",[38923]],[[64204,64204],"mapped",[38971]],[[64205,64205],"mapped",[39698]],[[64206,64206],"mapped",[40860]],[[64207,64207],"mapped",[141386]],[[64208,64208],"mapped",[141380]],[[64209,64209],"mapped",[144341]],[[64210,64210],"mapped",[15261]],[[64211,64211],"mapped",[16408]],[[64212,64212],"mapped",[16441]],[[64213,64213],"mapped",[152137]],[[64214,64214],"mapped",[154832]],[[64215,64215],"mapped",[163539]],[[64216,64216],"mapped",[40771]],[[64217,64217],"mapped",[40846]],[[64218,64255],"disallowed"],[[64256,64256],"mapped",[102,102]],[[64257,64257],"mapped",[102,105]],[[64258,64258],"mapped",[102,108]],[[64259,64259],"mapped",[102,102,105]],[[64260,64260],"mapped",[102,102,108]],[[64261,64262],"mapped",[115,116]],[[64263,64274],"disallowed"],[[64275,64275],"mapped",[1396,1398]],[[64276,64276],"mapped",[1396,1381]],[[64277,64277],"mapped",[1396,1387]],[[64278,64278],"mapped",[1406,1398]],[[64279,64279],"mapped",[1396,1389]],[[64280,64284],"disallowed"],[[64285,64285],"mapped",[1497,1460]],[[64286,64286],"valid"],[[64287,64287],"mapped",[1522,1463]],[[64288,64288],"mapped",[1506]],[[64289,64289],"mapped",[1488]],[[64290,64290],"mapped",[1491]],[[64291,64291],"mapped",[1492]],[[64292,64292],"mapped",[1499]],[[64293,64293],"mapped",[1500]],[[64294,64294],"mapped",[1501]],[[64295,64295],"mapped",[1512]],[[64296,64296],"mapped",[1514]],[[64297,64297],"disallowed_STD3_mapped",[43]],[[64298,64298],"mapped",[1513,1473]],[[64299,64299],"mapped",[1513,1474]],[[64300,64300],"mapped",[1513,1468,1473]],[[64301,64301],"mapped",[1513,1468,1474]],[[64302,64302],"mapped",[1488,1463]],[[64303,64303],"mapped",[1488,1464]],[[64304,64304],"mapped",[1488,1468]],[[64305,64305],"mapped",[1489,1468]],[[64306,64306],"mapped",[1490,1468]],[[64307,64307],"mapped",[1491,1468]],[[64308,64308],"mapped",[1492,1468]],[[64309,64309],"mapped",[1493,1468]],[[64310,64310],"mapped",[1494,1468]],[[64311,64311],"disallowed"],[[64312,64312],"mapped",[1496,1468]],[[64313,64313],"mapped",[1497,1468]],[[64314,64314],"mapped",[1498,1468]],[[64315,64315],"mapped",[1499,1468]],[[64316,64316],"mapped",[1500,1468]],[[64317,64317],"disallowed"],[[64318,64318],"mapped",[1502,1468]],[[64319,64319],"disallowed"],[[64320,64320],"mapped",[1504,1468]],[[64321,64321],"mapped",[1505,1468]],[[64322,64322],"disallowed"],[[64323,64323],"mapped",[1507,1468]],[[64324,64324],"mapped",[1508,1468]],[[64325,64325],"disallowed"],[[64326,64326],"mapped",[1510,1468]],[[64327,64327],"mapped",[1511,1468]],[[64328,64328],"mapped",[1512,1468]],[[64329,64329],"mapped",[1513,1468]],[[64330,64330],"mapped",[1514,1468]],[[64331,64331],"mapped",[1493,1465]],[[64332,64332],"mapped",[1489,1471]],[[64333,64333],"mapped",[1499,1471]],[[64334,64334],"mapped",[1508,1471]],[[64335,64335],"mapped",[1488,1500]],[[64336,64337],"mapped",[1649]],[[64338,64341],"mapped",[1659]],[[64342,64345],"mapped",[1662]],[[64346,64349],"mapped",[1664]],[[64350,64353],"mapped",[1658]],[[64354,64357],"mapped",[1663]],[[64358,64361],"mapped",[1657]],[[64362,64365],"mapped",[1700]],[[64366,64369],"mapped",[1702]],[[64370,64373],"mapped",[1668]],[[64374,64377],"mapped",[1667]],[[64378,64381],"mapped",[1670]],[[64382,64385],"mapped",[1671]],[[64386,64387],"mapped",[1677]],[[64388,64389],"mapped",[1676]],[[64390,64391],"mapped",[1678]],[[64392,64393],"mapped",[1672]],[[64394,64395],"mapped",[1688]],[[64396,64397],"mapped",[1681]],[[64398,64401],"mapped",[1705]],[[64402,64405],"mapped",[1711]],[[64406,64409],"mapped",[1715]],[[64410,64413],"mapped",[1713]],[[64414,64415],"mapped",[1722]],[[64416,64419],"mapped",[1723]],[[64420,64421],"mapped",[1728]],[[64422,64425],"mapped",[1729]],[[64426,64429],"mapped",[1726]],[[64430,64431],"mapped",[1746]],[[64432,64433],"mapped",[1747]],[[64434,64449],"valid",[],"NV8"],[[64450,64466],"disallowed"],[[64467,64470],"mapped",[1709]],[[64471,64472],"mapped",[1735]],[[64473,64474],"mapped",[1734]],[[64475,64476],"mapped",[1736]],[[64477,64477],"mapped",[1735,1652]],[[64478,64479],"mapped",[1739]],[[64480,64481],"mapped",[1733]],[[64482,64483],"mapped",[1737]],[[64484,64487],"mapped",[1744]],[[64488,64489],"mapped",[1609]],[[64490,64491],"mapped",[1574,1575]],[[64492,64493],"mapped",[1574,1749]],[[64494,64495],"mapped",[1574,1608]],[[64496,64497],"mapped",[1574,1735]],[[64498,64499],"mapped",[1574,1734]],[[64500,64501],"mapped",[1574,1736]],[[64502,64504],"mapped",[1574,1744]],[[64505,64507],"mapped",[1574,1609]],[[64508,64511],"mapped",[1740]],[[64512,64512],"mapped",[1574,1580]],[[64513,64513],"mapped",[1574,1581]],[[64514,64514],"mapped",[1574,1605]],[[64515,64515],"mapped",[1574,1609]],[[64516,64516],"mapped",[1574,1610]],[[64517,64517],"mapped",[1576,1580]],[[64518,64518],"mapped",[1576,1581]],[[64519,64519],"mapped",[1576,1582]],[[64520,64520],"mapped",[1576,1605]],[[64521,64521],"mapped",[1576,1609]],[[64522,64522],"mapped",[1576,1610]],[[64523,64523],"mapped",[1578,1580]],[[64524,64524],"mapped",[1578,1581]],[[64525,64525],"mapped",[1578,1582]],[[64526,64526],"mapped",[1578,1605]],[[64527,64527],"mapped",[1578,1609]],[[64528,64528],"mapped",[1578,1610]],[[64529,64529],"mapped",[1579,1580]],[[64530,64530],"mapped",[1579,1605]],[[64531,64531],"mapped",[1579,1609]],[[64532,64532],"mapped",[1579,1610]],[[64533,64533],"mapped",[1580,1581]],[[64534,64534],"mapped",[1580,1605]],[[64535,64535],"mapped",[1581,1580]],[[64536,64536],"mapped",[1581,1605]],[[64537,64537],"mapped",[1582,1580]],[[64538,64538],"mapped",[1582,1581]],[[64539,64539],"mapped",[1582,1605]],[[64540,64540],"mapped",[1587,1580]],[[64541,64541],"mapped",[1587,1581]],[[64542,64542],"mapped",[1587,1582]],[[64543,64543],"mapped",[1587,1605]],[[64544,64544],"mapped",[1589,1581]],[[64545,64545],"mapped",[1589,1605]],[[64546,64546],"mapped",[1590,1580]],[[64547,64547],"mapped",[1590,1581]],[[64548,64548],"mapped",[1590,1582]],[[64549,64549],"mapped",[1590,1605]],[[64550,64550],"mapped",[1591,1581]],[[64551,64551],"mapped",[1591,1605]],[[64552,64552],"mapped",[1592,1605]],[[64553,64553],"mapped",[1593,1580]],[[64554,64554],"mapped",[1593,1605]],[[64555,64555],"mapped",[1594,1580]],[[64556,64556],"mapped",[1594,1605]],[[64557,64557],"mapped",[1601,1580]],[[64558,64558],"mapped",[1601,1581]],[[64559,64559],"mapped",[1601,1582]],[[64560,64560],"mapped",[1601,1605]],[[64561,64561],"mapped",[1601,1609]],[[64562,64562],"mapped",[1601,1610]],[[64563,64563],"mapped",[1602,1581]],[[64564,64564],"mapped",[1602,1605]],[[64565,64565],"mapped",[1602,1609]],[[64566,64566],"mapped",[1602,1610]],[[64567,64567],"mapped",[1603,1575]],[[64568,64568],"mapped",[1603,1580]],[[64569,64569],"mapped",[1603,1581]],[[64570,64570],"mapped",[1603,1582]],[[64571,64571],"mapped",[1603,1604]],[[64572,64572],"mapped",[1603,1605]],[[64573,64573],"mapped",[1603,1609]],[[64574,64574],"mapped",[1603,1610]],[[64575,64575],"mapped",[1604,1580]],[[64576,64576],"mapped",[1604,1581]],[[64577,64577],"mapped",[1604,1582]],[[64578,64578],"mapped",[1604,1605]],[[64579,64579],"mapped",[1604,1609]],[[64580,64580],"mapped",[1604,1610]],[[64581,64581],"mapped",[1605,1580]],[[64582,64582],"mapped",[1605,1581]],[[64583,64583],"mapped",[1605,1582]],[[64584,64584],"mapped",[1605,1605]],[[64585,64585],"mapped",[1605,1609]],[[64586,64586],"mapped",[1605,1610]],[[64587,64587],"mapped",[1606,1580]],[[64588,64588],"mapped",[1606,1581]],[[64589,64589],"mapped",[1606,1582]],[[64590,64590],"mapped",[1606,1605]],[[64591,64591],"mapped",[1606,1609]],[[64592,64592],"mapped",[1606,1610]],[[64593,64593],"mapped",[1607,1580]],[[64594,64594],"mapped",[1607,1605]],[[64595,64595],"mapped",[1607,1609]],[[64596,64596],"mapped",[1607,1610]],[[64597,64597],"mapped",[1610,1580]],[[64598,64598],"mapped",[1610,1581]],[[64599,64599],"mapped",[1610,1582]],[[64600,64600],"mapped",[1610,1605]],[[64601,64601],"mapped",[1610,1609]],[[64602,64602],"mapped",[1610,1610]],[[64603,64603],"mapped",[1584,1648]],[[64604,64604],"mapped",[1585,1648]],[[64605,64605],"mapped",[1609,1648]],[[64606,64606],"disallowed_STD3_mapped",[32,1612,1617]],[[64607,64607],"disallowed_STD3_mapped",[32,1613,1617]],[[64608,64608],"disallowed_STD3_mapped",[32,1614,1617]],[[64609,64609],"disallowed_STD3_mapped",[32,1615,1617]],[[64610,64610],"disallowed_STD3_mapped",[32,1616,1617]],[[64611,64611],"disallowed_STD3_mapped",[32,1617,1648]],[[64612,64612],"mapped",[1574,1585]],[[64613,64613],"mapped",[1574,1586]],[[64614,64614],"mapped",[1574,1605]],[[64615,64615],"mapped",[1574,1606]],[[64616,64616],"mapped",[1574,1609]],[[64617,64617],"mapped",[1574,1610]],[[64618,64618],"mapped",[1576,1585]],[[64619,64619],"mapped",[1576,1586]],[[64620,64620],"mapped",[1576,1605]],[[64621,64621],"mapped",[1576,1606]],[[64622,64622],"mapped",[1576,1609]],[[64623,64623],"mapped",[1576,1610]],[[64624,64624],"mapped",[1578,1585]],[[64625,64625],"mapped",[1578,1586]],[[64626,64626],"mapped",[1578,1605]],[[64627,64627],"mapped",[1578,1606]],[[64628,64628],"mapped",[1578,1609]],[[64629,64629],"mapped",[1578,1610]],[[64630,64630],"mapped",[1579,1585]],[[64631,64631],"mapped",[1579,1586]],[[64632,64632],"mapped",[1579,1605]],[[64633,64633],"mapped",[1579,1606]],[[64634,64634],"mapped",[1579,1609]],[[64635,64635],"mapped",[1579,1610]],[[64636,64636],"mapped",[1601,1609]],[[64637,64637],"mapped",[1601,1610]],[[64638,64638],"mapped",[1602,1609]],[[64639,64639],"mapped",[1602,1610]],[[64640,64640],"mapped",[1603,1575]],[[64641,64641],"mapped",[1603,1604]],[[64642,64642],"mapped",[1603,1605]],[[64643,64643],"mapped",[1603,1609]],[[64644,64644],"mapped",[1603,1610]],[[64645,64645],"mapped",[1604,1605]],[[64646,64646],"mapped",[1604,1609]],[[64647,64647],"mapped",[1604,1610]],[[64648,64648],"mapped",[1605,1575]],[[64649,64649],"mapped",[1605,1605]],[[64650,64650],"mapped",[1606,1585]],[[64651,64651],"mapped",[1606,1586]],[[64652,64652],"mapped",[1606,1605]],[[64653,64653],"mapped",[1606,1606]],[[64654,64654],"mapped",[1606,1609]],[[64655,64655],"mapped",[1606,1610]],[[64656,64656],"mapped",[1609,1648]],[[64657,64657],"mapped",[1610,1585]],[[64658,64658],"mapped",[1610,1586]],[[64659,64659],"mapped",[1610,1605]],[[64660,64660],"mapped",[1610,1606]],[[64661,64661],"mapped",[1610,1609]],[[64662,64662],"mapped",[1610,1610]],[[64663,64663],"mapped",[1574,1580]],[[64664,64664],"mapped",[1574,1581]],[[64665,64665],"mapped",[1574,1582]],[[64666,64666],"mapped",[1574,1605]],[[64667,64667],"mapped",[1574,1607]],[[64668,64668],"mapped",[1576,1580]],[[64669,64669],"mapped",[1576,1581]],[[64670,64670],"mapped",[1576,1582]],[[64671,64671],"mapped",[1576,1605]],[[64672,64672],"mapped",[1576,1607]],[[64673,64673],"mapped",[1578,1580]],[[64674,64674],"mapped",[1578,1581]],[[64675,64675],"mapped",[1578,1582]],[[64676,64676],"mapped",[1578,1605]],[[64677,64677],"mapped",[1578,1607]],[[64678,64678],"mapped",[1579,1605]],[[64679,64679],"mapped",[1580,1581]],[[64680,64680],"mapped",[1580,1605]],[[64681,64681],"mapped",[1581,1580]],[[64682,64682],"mapped",[1581,1605]],[[64683,64683],"mapped",[1582,1580]],[[64684,64684],"mapped",[1582,1605]],[[64685,64685],"mapped",[1587,1580]],[[64686,64686],"mapped",[1587,1581]],[[64687,64687],"mapped",[1587,1582]],[[64688,64688],"mapped",[1587,1605]],[[64689,64689],"mapped",[1589,1581]],[[64690,64690],"mapped",[1589,1582]],[[64691,64691],"mapped",[1589,1605]],[[64692,64692],"mapped",[1590,1580]],[[64693,64693],"mapped",[1590,1581]],[[64694,64694],"mapped",[1590,1582]],[[64695,64695],"mapped",[1590,1605]],[[64696,64696],"mapped",[1591,1581]],[[64697,64697],"mapped",[1592,1605]],[[64698,64698],"mapped",[1593,1580]],[[64699,64699],"mapped",[1593,1605]],[[64700,64700],"mapped",[1594,1580]],[[64701,64701],"mapped",[1594,1605]],[[64702,64702],"mapped",[1601,1580]],[[64703,64703],"mapped",[1601,1581]],[[64704,64704],"mapped",[1601,1582]],[[64705,64705],"mapped",[1601,1605]],[[64706,64706],"mapped",[1602,1581]],[[64707,64707],"mapped",[1602,1605]],[[64708,64708],"mapped",[1603,1580]],[[64709,64709],"mapped",[1603,1581]],[[64710,64710],"mapped",[1603,1582]],[[64711,64711],"mapped",[1603,1604]],[[64712,64712],"mapped",[1603,1605]],[[64713,64713],"mapped",[1604,1580]],[[64714,64714],"mapped",[1604,1581]],[[64715,64715],"mapped",[1604,1582]],[[64716,64716],"mapped",[1604,1605]],[[64717,64717],"mapped",[1604,1607]],[[64718,64718],"mapped",[1605,1580]],[[64719,64719],"mapped",[1605,1581]],[[64720,64720],"mapped",[1605,1582]],[[64721,64721],"mapped",[1605,1605]],[[64722,64722],"mapped",[1606,1580]],[[64723,64723],"mapped",[1606,1581]],[[64724,64724],"mapped",[1606,1582]],[[64725,64725],"mapped",[1606,1605]],[[64726,64726],"mapped",[1606,1607]],[[64727,64727],"mapped",[1607,1580]],[[64728,64728],"mapped",[1607,1605]],[[64729,64729],"mapped",[1607,1648]],[[64730,64730],"mapped",[1610,1580]],[[64731,64731],"mapped",[1610,1581]],[[64732,64732],"mapped",[1610,1582]],[[64733,64733],"mapped",[1610,1605]],[[64734,64734],"mapped",[1610,1607]],[[64735,64735],"mapped",[1574,1605]],[[64736,64736],"mapped",[1574,1607]],[[64737,64737],"mapped",[1576,1605]],[[64738,64738],"mapped",[1576,1607]],[[64739,64739],"mapped",[1578,1605]],[[64740,64740],"mapped",[1578,1607]],[[64741,64741],"mapped",[1579,1605]],[[64742,64742],"mapped",[1579,1607]],[[64743,64743],"mapped",[1587,1605]],[[64744,64744],"mapped",[1587,1607]],[[64745,64745],"mapped",[1588,1605]],[[64746,64746],"mapped",[1588,1607]],[[64747,64747],"mapped",[1603,1604]],[[64748,64748],"mapped",[1603,1605]],[[64749,64749],"mapped",[1604,1605]],[[64750,64750],"mapped",[1606,1605]],[[64751,64751],"mapped",[1606,1607]],[[64752,64752],"mapped",[1610,1605]],[[64753,64753],"mapped",[1610,1607]],[[64754,64754],"mapped",[1600,1614,1617]],[[64755,64755],"mapped",[1600,1615,1617]],[[64756,64756],"mapped",[1600,1616,1617]],[[64757,64757],"mapped",[1591,1609]],[[64758,64758],"mapped",[1591,1610]],[[64759,64759],"mapped",[1593,1609]],[[64760,64760],"mapped",[1593,1610]],[[64761,64761],"mapped",[1594,1609]],[[64762,64762],"mapped",[1594,1610]],[[64763,64763],"mapped",[1587,1609]],[[64764,64764],"mapped",[1587,1610]],[[64765,64765],"mapped",[1588,1609]],[[64766,64766],"mapped",[1588,1610]],[[64767,64767],"mapped",[1581,1609]],[[64768,64768],"mapped",[1581,1610]],[[64769,64769],"mapped",[1580,1609]],[[64770,64770],"mapped",[1580,1610]],[[64771,64771],"mapped",[1582,1609]],[[64772,64772],"mapped",[1582,1610]],[[64773,64773],"mapped",[1589,1609]],[[64774,64774],"mapped",[1589,1610]],[[64775,64775],"mapped",[1590,1609]],[[64776,64776],"mapped",[1590,1610]],[[64777,64777],"mapped",[1588,1580]],[[64778,64778],"mapped",[1588,1581]],[[64779,64779],"mapped",[1588,1582]],[[64780,64780],"mapped",[1588,1605]],[[64781,64781],"mapped",[1588,1585]],[[64782,64782],"mapped",[1587,1585]],[[64783,64783],"mapped",[1589,1585]],[[64784,64784],"mapped",[1590,1585]],[[64785,64785],"mapped",[1591,1609]],[[64786,64786],"mapped",[1591,1610]],[[64787,64787],"mapped",[1593,1609]],[[64788,64788],"mapped",[1593,1610]],[[64789,64789],"mapped",[1594,1609]],[[64790,64790],"mapped",[1594,1610]],[[64791,64791],"mapped",[1587,1609]],[[64792,64792],"mapped",[1587,1610]],[[64793,64793],"mapped",[1588,1609]],[[64794,64794],"mapped",[1588,1610]],[[64795,64795],"mapped",[1581,1609]],[[64796,64796],"mapped",[1581,1610]],[[64797,64797],"mapped",[1580,1609]],[[64798,64798],"mapped",[1580,1610]],[[64799,64799],"mapped",[1582,1609]],[[64800,64800],"mapped",[1582,1610]],[[64801,64801],"mapped",[1589,1609]],[[64802,64802],"mapped",[1589,1610]],[[64803,64803],"mapped",[1590,1609]],[[64804,64804],"mapped",[1590,1610]],[[64805,64805],"mapped",[1588,1580]],[[64806,64806],"mapped",[1588,1581]],[[64807,64807],"mapped",[1588,1582]],[[64808,64808],"mapped",[1588,1605]],[[64809,64809],"mapped",[1588,1585]],[[64810,64810],"mapped",[1587,1585]],[[64811,64811],"mapped",[1589,1585]],[[64812,64812],"mapped",[1590,1585]],[[64813,64813],"mapped",[1588,1580]],[[64814,64814],"mapped",[1588,1581]],[[64815,64815],"mapped",[1588,1582]],[[64816,64816],"mapped",[1588,1605]],[[64817,64817],"mapped",[1587,1607]],[[64818,64818],"mapped",[1588,1607]],[[64819,64819],"mapped",[1591,1605]],[[64820,64820],"mapped",[1587,1580]],[[64821,64821],"mapped",[1587,1581]],[[64822,64822],"mapped",[1587,1582]],[[64823,64823],"mapped",[1588,1580]],[[64824,64824],"mapped",[1588,1581]],[[64825,64825],"mapped",[1588,1582]],[[64826,64826],"mapped",[1591,1605]],[[64827,64827],"mapped",[1592,1605]],[[64828,64829],"mapped",[1575,1611]],[[64830,64831],"valid",[],"NV8"],[[64832,64847],"disallowed"],[[64848,64848],"mapped",[1578,1580,1605]],[[64849,64850],"mapped",[1578,1581,1580]],[[64851,64851],"mapped",[1578,1581,1605]],[[64852,64852],"mapped",[1578,1582,1605]],[[64853,64853],"mapped",[1578,1605,1580]],[[64854,64854],"mapped",[1578,1605,1581]],[[64855,64855],"mapped",[1578,1605,1582]],[[64856,64857],"mapped",[1580,1605,1581]],[[64858,64858],"mapped",[1581,1605,1610]],[[64859,64859],"mapped",[1581,1605,1609]],[[64860,64860],"mapped",[1587,1581,1580]],[[64861,64861],"mapped",[1587,1580,1581]],[[64862,64862],"mapped",[1587,1580,1609]],[[64863,64864],"mapped",[1587,1605,1581]],[[64865,64865],"mapped",[1587,1605,1580]],[[64866,64867],"mapped",[1587,1605,1605]],[[64868,64869],"mapped",[1589,1581,1581]],[[64870,64870],"mapped",[1589,1605,1605]],[[64871,64872],"mapped",[1588,1581,1605]],[[64873,64873],"mapped",[1588,1580,1610]],[[64874,64875],"mapped",[1588,1605,1582]],[[64876,64877],"mapped",[1588,1605,1605]],[[64878,64878],"mapped",[1590,1581,1609]],[[64879,64880],"mapped",[1590,1582,1605]],[[64881,64882],"mapped",[1591,1605,1581]],[[64883,64883],"mapped",[1591,1605,1605]],[[64884,64884],"mapped",[1591,1605,1610]],[[64885,64885],"mapped",[1593,1580,1605]],[[64886,64887],"mapped",[1593,1605,1605]],[[64888,64888],"mapped",[1593,1605,1609]],[[64889,64889],"mapped",[1594,1605,1605]],[[64890,64890],"mapped",[1594,1605,1610]],[[64891,64891],"mapped",[1594,1605,1609]],[[64892,64893],"mapped",[1601,1582,1605]],[[64894,64894],"mapped",[1602,1605,1581]],[[64895,64895],"mapped",[1602,1605,1605]],[[64896,64896],"mapped",[1604,1581,1605]],[[64897,64897],"mapped",[1604,1581,1610]],[[64898,64898],"mapped",[1604,1581,1609]],[[64899,64900],"mapped",[1604,1580,1580]],[[64901,64902],"mapped",[1604,1582,1605]],[[64903,64904],"mapped",[1604,1605,1581]],[[64905,64905],"mapped",[1605,1581,1580]],[[64906,64906],"mapped",[1605,1581,1605]],[[64907,64907],"mapped",[1605,1581,1610]],[[64908,64908],"mapped",[1605,1580,1581]],[[64909,64909],"mapped",[1605,1580,1605]],[[64910,64910],"mapped",[1605,1582,1580]],[[64911,64911],"mapped",[1605,1582,1605]],[[64912,64913],"disallowed"],[[64914,64914],"mapped",[1605,1580,1582]],[[64915,64915],"mapped",[1607,1605,1580]],[[64916,64916],"mapped",[1607,1605,1605]],[[64917,64917],"mapped",[1606,1581,1605]],[[64918,64918],"mapped",[1606,1581,1609]],[[64919,64920],"mapped",[1606,1580,1605]],[[64921,64921],"mapped",[1606,1580,1609]],[[64922,64922],"mapped",[1606,1605,1610]],[[64923,64923],"mapped",[1606,1605,1609]],[[64924,64925],"mapped",[1610,1605,1605]],[[64926,64926],"mapped",[1576,1582,1610]],[[64927,64927],"mapped",[1578,1580,1610]],[[64928,64928],"mapped",[1578,1580,1609]],[[64929,64929],"mapped",[1578,1582,1610]],[[64930,64930],"mapped",[1578,1582,1609]],[[64931,64931],"mapped",[1578,1605,1610]],[[64932,64932],"mapped",[1578,1605,1609]],[[64933,64933],"mapped",[1580,1605,1610]],[[64934,64934],"mapped",[1580,1581,1609]],[[64935,64935],"mapped",[1580,1605,1609]],[[64936,64936],"mapped",[1587,1582,1609]],[[64937,64937],"mapped",[1589,1581,1610]],[[64938,64938],"mapped",[1588,1581,1610]],[[64939,64939],"mapped",[1590,1581,1610]],[[64940,64940],"mapped",[1604,1580,1610]],[[64941,64941],"mapped",[1604,1605,1610]],[[64942,64942],"mapped",[1610,1581,1610]],[[64943,64943],"mapped",[1610,1580,1610]],[[64944,64944],"mapped",[1610,1605,1610]],[[64945,64945],"mapped",[1605,1605,1610]],[[64946,64946],"mapped",[1602,1605,1610]],[[64947,64947],"mapped",[1606,1581,1610]],[[64948,64948],"mapped",[1602,1605,1581]],[[64949,64949],"mapped",[1604,1581,1605]],[[64950,64950],"mapped",[1593,1605,1610]],[[64951,64951],"mapped",[1603,1605,1610]],[[64952,64952],"mapped",[1606,1580,1581]],[[64953,64953],"mapped",[1605,1582,1610]],[[64954,64954],"mapped",[1604,1580,1605]],[[64955,64955],"mapped",[1603,1605,1605]],[[64956,64956],"mapped",[1604,1580,1605]],[[64957,64957],"mapped",[1606,1580,1581]],[[64958,64958],"mapped",[1580,1581,1610]],[[64959,64959],"mapped",[1581,1580,1610]],[[64960,64960],"mapped",[1605,1580,1610]],[[64961,64961],"mapped",[1601,1605,1610]],[[64962,64962],"mapped",[1576,1581,1610]],[[64963,64963],"mapped",[1603,1605,1605]],[[64964,64964],"mapped",[1593,1580,1605]],[[64965,64965],"mapped",[1589,1605,1605]],[[64966,64966],"mapped",[1587,1582,1610]],[[64967,64967],"mapped",[1606,1580,1610]],[[64968,64975],"disallowed"],[[64976,65007],"disallowed"],[[65008,65008],"mapped",[1589,1604,1746]],[[65009,65009],"mapped",[1602,1604,1746]],[[65010,65010],"mapped",[1575,1604,1604,1607]],[[65011,65011],"mapped",[1575,1603,1576,1585]],[[65012,65012],"mapped",[1605,1581,1605,1583]],[[65013,65013],"mapped",[1589,1604,1593,1605]],[[65014,65014],"mapped",[1585,1587,1608,1604]],[[65015,65015],"mapped",[1593,1604,1610,1607]],[[65016,65016],"mapped",[1608,1587,1604,1605]],[[65017,65017],"mapped",[1589,1604,1609]],[[65018,65018],"disallowed_STD3_mapped",[1589,1604,1609,32,1575,1604,1604,1607,32,1593,1604,1610,1607,32,1608,1587,1604,1605]],[[65019,65019],"disallowed_STD3_mapped",[1580,1604,32,1580,1604,1575,1604,1607]],[[65020,65020],"mapped",[1585,1740,1575,1604]],[[65021,65021],"valid",[],"NV8"],[[65022,65023],"disallowed"],[[65024,65039],"ignored"],[[65040,65040],"disallowed_STD3_mapped",[44]],[[65041,65041],"mapped",[12289]],[[65042,65042],"disallowed"],[[65043,65043],"disallowed_STD3_mapped",[58]],[[65044,65044],"disallowed_STD3_mapped",[59]],[[65045,65045],"disallowed_STD3_mapped",[33]],[[65046,65046],"disallowed_STD3_mapped",[63]],[[65047,65047],"mapped",[12310]],[[65048,65048],"mapped",[12311]],[[65049,65049],"disallowed"],[[65050,65055],"disallowed"],[[65056,65059],"valid"],[[65060,65062],"valid"],[[65063,65069],"valid"],[[65070,65071],"valid"],[[65072,65072],"disallowed"],[[65073,65073],"mapped",[8212]],[[65074,65074],"mapped",[8211]],[[65075,65076],"disallowed_STD3_mapped",[95]],[[65077,65077],"disallowed_STD3_mapped",[40]],[[65078,65078],"disallowed_STD3_mapped",[41]],[[65079,65079],"disallowed_STD3_mapped",[123]],[[65080,65080],"disallowed_STD3_mapped",[125]],[[65081,65081],"mapped",[12308]],[[65082,65082],"mapped",[12309]],[[65083,65083],"mapped",[12304]],[[65084,65084],"mapped",[12305]],[[65085,65085],"mapped",[12298]],[[65086,65086],"mapped",[12299]],[[65087,65087],"mapped",[12296]],[[65088,65088],"mapped",[12297]],[[65089,65089],"mapped",[12300]],[[65090,65090],"mapped",[12301]],[[65091,65091],"mapped",[12302]],[[65092,65092],"mapped",[12303]],[[65093,65094],"valid",[],"NV8"],[[65095,65095],"disallowed_STD3_mapped",[91]],[[65096,65096],"disallowed_STD3_mapped",[93]],[[65097,65100],"disallowed_STD3_mapped",[32,773]],[[65101,65103],"disallowed_STD3_mapped",[95]],[[65104,65104],"disallowed_STD3_mapped",[44]],[[65105,65105],"mapped",[12289]],[[65106,65106],"disallowed"],[[65107,65107],"disallowed"],[[65108,65108],"disallowed_STD3_mapped",[59]],[[65109,65109],"disallowed_STD3_mapped",[58]],[[65110,65110],"disallowed_STD3_mapped",[63]],[[65111,65111],"disallowed_STD3_mapped",[33]],[[65112,65112],"mapped",[8212]],[[65113,65113],"disallowed_STD3_mapped",[40]],[[65114,65114],"disallowed_STD3_mapped",[41]],[[65115,65115],"disallowed_STD3_mapped",[123]],[[65116,65116],"disallowed_STD3_mapped",[125]],[[65117,65117],"mapped",[12308]],[[65118,65118],"mapped",[12309]],[[65119,65119],"disallowed_STD3_mapped",[35]],[[65120,65120],"disallowed_STD3_mapped",[38]],[[65121,65121],"disallowed_STD3_mapped",[42]],[[65122,65122],"disallowed_STD3_mapped",[43]],[[65123,65123],"mapped",[45]],[[65124,65124],"disallowed_STD3_mapped",[60]],[[65125,65125],"disallowed_STD3_mapped",[62]],[[65126,65126],"disallowed_STD3_mapped",[61]],[[65127,65127],"disallowed"],[[65128,65128],"disallowed_STD3_mapped",[92]],[[65129,65129],"disallowed_STD3_mapped",[36]],[[65130,65130],"disallowed_STD3_mapped",[37]],[[65131,65131],"disallowed_STD3_mapped",[64]],[[65132,65135],"disallowed"],[[65136,65136],"disallowed_STD3_mapped",[32,1611]],[[65137,65137],"mapped",[1600,1611]],[[65138,65138],"disallowed_STD3_mapped",[32,1612]],[[65139,65139],"valid"],[[65140,65140],"disallowed_STD3_mapped",[32,1613]],[[65141,65141],"disallowed"],[[65142,65142],"disallowed_STD3_mapped",[32,1614]],[[65143,65143],"mapped",[1600,1614]],[[65144,65144],"disallowed_STD3_mapped",[32,1615]],[[65145,65145],"mapped",[1600,1615]],[[65146,65146],"disallowed_STD3_mapped",[32,1616]],[[65147,65147],"mapped",[1600,1616]],[[65148,65148],"disallowed_STD3_mapped",[32,1617]],[[65149,65149],"mapped",[1600,1617]],[[65150,65150],"disallowed_STD3_mapped",[32,1618]],[[65151,65151],"mapped",[1600,1618]],[[65152,65152],"mapped",[1569]],[[65153,65154],"mapped",[1570]],[[65155,65156],"mapped",[1571]],[[65157,65158],"mapped",[1572]],[[65159,65160],"mapped",[1573]],[[65161,65164],"mapped",[1574]],[[65165,65166],"mapped",[1575]],[[65167,65170],"mapped",[1576]],[[65171,65172],"mapped",[1577]],[[65173,65176],"mapped",[1578]],[[65177,65180],"mapped",[1579]],[[65181,65184],"mapped",[1580]],[[65185,65188],"mapped",[1581]],[[65189,65192],"mapped",[1582]],[[65193,65194],"mapped",[1583]],[[65195,65196],"mapped",[1584]],[[65197,65198],"mapped",[1585]],[[65199,65200],"mapped",[1586]],[[65201,65204],"mapped",[1587]],[[65205,65208],"mapped",[1588]],[[65209,65212],"mapped",[1589]],[[65213,65216],"mapped",[1590]],[[65217,65220],"mapped",[1591]],[[65221,65224],"mapped",[1592]],[[65225,65228],"mapped",[1593]],[[65229,65232],"mapped",[1594]],[[65233,65236],"mapped",[1601]],[[65237,65240],"mapped",[1602]],[[65241,65244],"mapped",[1603]],[[65245,65248],"mapped",[1604]],[[65249,65252],"mapped",[1605]],[[65253,65256],"mapped",[1606]],[[65257,65260],"mapped",[1607]],[[65261,65262],"mapped",[1608]],[[65263,65264],"mapped",[1609]],[[65265,65268],"mapped",[1610]],[[65269,65270],"mapped",[1604,1570]],[[65271,65272],"mapped",[1604,1571]],[[65273,65274],"mapped",[1604,1573]],[[65275,65276],"mapped",[1604,1575]],[[65277,65278],"disallowed"],[[65279,65279],"ignored"],[[65280,65280],"disallowed"],[[65281,65281],"disallowed_STD3_mapped",[33]],[[65282,65282],"disallowed_STD3_mapped",[34]],[[65283,65283],"disallowed_STD3_mapped",[35]],[[65284,65284],"disallowed_STD3_mapped",[36]],[[65285,65285],"disallowed_STD3_mapped",[37]],[[65286,65286],"disallowed_STD3_mapped",[38]],[[65287,65287],"disallowed_STD3_mapped",[39]],[[65288,65288],"disallowed_STD3_mapped",[40]],[[65289,65289],"disallowed_STD3_mapped",[41]],[[65290,65290],"disallowed_STD3_mapped",[42]],[[65291,65291],"disallowed_STD3_mapped",[43]],[[65292,65292],"disallowed_STD3_mapped",[44]],[[65293,65293],"mapped",[45]],[[65294,65294],"mapped",[46]],[[65295,65295],"disallowed_STD3_mapped",[47]],[[65296,65296],"mapped",[48]],[[65297,65297],"mapped",[49]],[[65298,65298],"mapped",[50]],[[65299,65299],"mapped",[51]],[[65300,65300],"mapped",[52]],[[65301,65301],"mapped",[53]],[[65302,65302],"mapped",[54]],[[65303,65303],"mapped",[55]],[[65304,65304],"mapped",[56]],[[65305,65305],"mapped",[57]],[[65306,65306],"disallowed_STD3_mapped",[58]],[[65307,65307],"disallowed_STD3_mapped",[59]],[[65308,65308],"disallowed_STD3_mapped",[60]],[[65309,65309],"disallowed_STD3_mapped",[61]],[[65310,65310],"disallowed_STD3_mapped",[62]],[[65311,65311],"disallowed_STD3_mapped",[63]],[[65312,65312],"disallowed_STD3_mapped",[64]],[[65313,65313],"mapped",[97]],[[65314,65314],"mapped",[98]],[[65315,65315],"mapped",[99]],[[65316,65316],"mapped",[100]],[[65317,65317],"mapped",[101]],[[65318,65318],"mapped",[102]],[[65319,65319],"mapped",[103]],[[65320,65320],"mapped",[104]],[[65321,65321],"mapped",[105]],[[65322,65322],"mapped",[106]],[[65323,65323],"mapped",[107]],[[65324,65324],"mapped",[108]],[[65325,65325],"mapped",[109]],[[65326,65326],"mapped",[110]],[[65327,65327],"mapped",[111]],[[65328,65328],"mapped",[112]],[[65329,65329],"mapped",[113]],[[65330,65330],"mapped",[114]],[[65331,65331],"mapped",[115]],[[65332,65332],"mapped",[116]],[[65333,65333],"mapped",[117]],[[65334,65334],"mapped",[118]],[[65335,65335],"mapped",[119]],[[65336,65336],"mapped",[120]],[[65337,65337],"mapped",[121]],[[65338,65338],"mapped",[122]],[[65339,65339],"disallowed_STD3_mapped",[91]],[[65340,65340],"disallowed_STD3_mapped",[92]],[[65341,65341],"disallowed_STD3_mapped",[93]],[[65342,65342],"disallowed_STD3_mapped",[94]],[[65343,65343],"disallowed_STD3_mapped",[95]],[[65344,65344],"disallowed_STD3_mapped",[96]],[[65345,65345],"mapped",[97]],[[65346,65346],"mapped",[98]],[[65347,65347],"mapped",[99]],[[65348,65348],"mapped",[100]],[[65349,65349],"mapped",[101]],[[65350,65350],"mapped",[102]],[[65351,65351],"mapped",[103]],[[65352,65352],"mapped",[104]],[[65353,65353],"mapped",[105]],[[65354,65354],"mapped",[106]],[[65355,65355],"mapped",[107]],[[65356,65356],"mapped",[108]],[[65357,65357],"mapped",[109]],[[65358,65358],"mapped",[110]],[[65359,65359],"mapped",[111]],[[65360,65360],"mapped",[112]],[[65361,65361],"mapped",[113]],[[65362,65362],"mapped",[114]],[[65363,65363],"mapped",[115]],[[65364,65364],"mapped",[116]],[[65365,65365],"mapped",[117]],[[65366,65366],"mapped",[118]],[[65367,65367],"mapped",[119]],[[65368,65368],"mapped",[120]],[[65369,65369],"mapped",[121]],[[65370,65370],"mapped",[122]],[[65371,65371],"disallowed_STD3_mapped",[123]],[[65372,65372],"disallowed_STD3_mapped",[124]],[[65373,65373],"disallowed_STD3_mapped",[125]],[[65374,65374],"disallowed_STD3_mapped",[126]],[[65375,65375],"mapped",[10629]],[[65376,65376],"mapped",[10630]],[[65377,65377],"mapped",[46]],[[65378,65378],"mapped",[12300]],[[65379,65379],"mapped",[12301]],[[65380,65380],"mapped",[12289]],[[65381,65381],"mapped",[12539]],[[65382,65382],"mapped",[12530]],[[65383,65383],"mapped",[12449]],[[65384,65384],"mapped",[12451]],[[65385,65385],"mapped",[12453]],[[65386,65386],"mapped",[12455]],[[65387,65387],"mapped",[12457]],[[65388,65388],"mapped",[12515]],[[65389,65389],"mapped",[12517]],[[65390,65390],"mapped",[12519]],[[65391,65391],"mapped",[12483]],[[65392,65392],"mapped",[12540]],[[65393,65393],"mapped",[12450]],[[65394,65394],"mapped",[12452]],[[65395,65395],"mapped",[12454]],[[65396,65396],"mapped",[12456]],[[65397,65397],"mapped",[12458]],[[65398,65398],"mapped",[12459]],[[65399,65399],"mapped",[12461]],[[65400,65400],"mapped",[12463]],[[65401,65401],"mapped",[12465]],[[65402,65402],"mapped",[12467]],[[65403,65403],"mapped",[12469]],[[65404,65404],"mapped",[12471]],[[65405,65405],"mapped",[12473]],[[65406,65406],"mapped",[12475]],[[65407,65407],"mapped",[12477]],[[65408,65408],"mapped",[12479]],[[65409,65409],"mapped",[12481]],[[65410,65410],"mapped",[12484]],[[65411,65411],"mapped",[12486]],[[65412,65412],"mapped",[12488]],[[65413,65413],"mapped",[12490]],[[65414,65414],"mapped",[12491]],[[65415,65415],"mapped",[12492]],[[65416,65416],"mapped",[12493]],[[65417,65417],"mapped",[12494]],[[65418,65418],"mapped",[12495]],[[65419,65419],"mapped",[12498]],[[65420,65420],"mapped",[12501]],[[65421,65421],"mapped",[12504]],[[65422,65422],"mapped",[12507]],[[65423,65423],"mapped",[12510]],[[65424,65424],"mapped",[12511]],[[65425,65425],"mapped",[12512]],[[65426,65426],"mapped",[12513]],[[65427,65427],"mapped",[12514]],[[65428,65428],"mapped",[12516]],[[65429,65429],"mapped",[12518]],[[65430,65430],"mapped",[12520]],[[65431,65431],"mapped",[12521]],[[65432,65432],"mapped",[12522]],[[65433,65433],"mapped",[12523]],[[65434,65434],"mapped",[12524]],[[65435,65435],"mapped",[12525]],[[65436,65436],"mapped",[12527]],[[65437,65437],"mapped",[12531]],[[65438,65438],"mapped",[12441]],[[65439,65439],"mapped",[12442]],[[65440,65440],"disallowed"],[[65441,65441],"mapped",[4352]],[[65442,65442],"mapped",[4353]],[[65443,65443],"mapped",[4522]],[[65444,65444],"mapped",[4354]],[[65445,65445],"mapped",[4524]],[[65446,65446],"mapped",[4525]],[[65447,65447],"mapped",[4355]],[[65448,65448],"mapped",[4356]],[[65449,65449],"mapped",[4357]],[[65450,65450],"mapped",[4528]],[[65451,65451],"mapped",[4529]],[[65452,65452],"mapped",[4530]],[[65453,65453],"mapped",[4531]],[[65454,65454],"mapped",[4532]],[[65455,65455],"mapped",[4533]],[[65456,65456],"mapped",[4378]],[[65457,65457],"mapped",[4358]],[[65458,65458],"mapped",[4359]],[[65459,65459],"mapped",[4360]],[[65460,65460],"mapped",[4385]],[[65461,65461],"mapped",[4361]],[[65462,65462],"mapped",[4362]],[[65463,65463],"mapped",[4363]],[[65464,65464],"mapped",[4364]],[[65465,65465],"mapped",[4365]],[[65466,65466],"mapped",[4366]],[[65467,65467],"mapped",[4367]],[[65468,65468],"mapped",[4368]],[[65469,65469],"mapped",[4369]],[[65470,65470],"mapped",[4370]],[[65471,65473],"disallowed"],[[65474,65474],"mapped",[4449]],[[65475,65475],"mapped",[4450]],[[65476,65476],"mapped",[4451]],[[65477,65477],"mapped",[4452]],[[65478,65478],"mapped",[4453]],[[65479,65479],"mapped",[4454]],[[65480,65481],"disallowed"],[[65482,65482],"mapped",[4455]],[[65483,65483],"mapped",[4456]],[[65484,65484],"mapped",[4457]],[[65485,65485],"mapped",[4458]],[[65486,65486],"mapped",[4459]],[[65487,65487],"mapped",[4460]],[[65488,65489],"disallowed"],[[65490,65490],"mapped",[4461]],[[65491,65491],"mapped",[4462]],[[65492,65492],"mapped",[4463]],[[65493,65493],"mapped",[4464]],[[65494,65494],"mapped",[4465]],[[65495,65495],"mapped",[4466]],[[65496,65497],"disallowed"],[[65498,65498],"mapped",[4467]],[[65499,65499],"mapped",[4468]],[[65500,65500],"mapped",[4469]],[[65501,65503],"disallowed"],[[65504,65504],"mapped",[162]],[[65505,65505],"mapped",[163]],[[65506,65506],"mapped",[172]],[[65507,65507],"disallowed_STD3_mapped",[32,772]],[[65508,65508],"mapped",[166]],[[65509,65509],"mapped",[165]],[[65510,65510],"mapped",[8361]],[[65511,65511],"disallowed"],[[65512,65512],"mapped",[9474]],[[65513,65513],"mapped",[8592]],[[65514,65514],"mapped",[8593]],[[65515,65515],"mapped",[8594]],[[65516,65516],"mapped",[8595]],[[65517,65517],"mapped",[9632]],[[65518,65518],"mapped",[9675]],[[65519,65528],"disallowed"],[[65529,65531],"disallowed"],[[65532,65532],"disallowed"],[[65533,65533],"disallowed"],[[65534,65535],"disallowed"],[[65536,65547],"valid"],[[65548,65548],"disallowed"],[[65549,65574],"valid"],[[65575,65575],"disallowed"],[[65576,65594],"valid"],[[65595,65595],"disallowed"],[[65596,65597],"valid"],[[65598,65598],"disallowed"],[[65599,65613],"valid"],[[65614,65615],"disallowed"],[[65616,65629],"valid"],[[65630,65663],"disallowed"],[[65664,65786],"valid"],[[65787,65791],"disallowed"],[[65792,65794],"valid",[],"NV8"],[[65795,65798],"disallowed"],[[65799,65843],"valid",[],"NV8"],[[65844,65846],"disallowed"],[[65847,65855],"valid",[],"NV8"],[[65856,65930],"valid",[],"NV8"],[[65931,65932],"valid",[],"NV8"],[[65933,65935],"disallowed"],[[65936,65947],"valid",[],"NV8"],[[65948,65951],"disallowed"],[[65952,65952],"valid",[],"NV8"],[[65953,65999],"disallowed"],[[66e3,66044],"valid",[],"NV8"],[[66045,66045],"valid"],[[66046,66175],"disallowed"],[[66176,66204],"valid"],[[66205,66207],"disallowed"],[[66208,66256],"valid"],[[66257,66271],"disallowed"],[[66272,66272],"valid"],[[66273,66299],"valid",[],"NV8"],[[66300,66303],"disallowed"],[[66304,66334],"valid"],[[66335,66335],"valid"],[[66336,66339],"valid",[],"NV8"],[[66340,66351],"disallowed"],[[66352,66368],"valid"],[[66369,66369],"valid",[],"NV8"],[[66370,66377],"valid"],[[66378,66378],"valid",[],"NV8"],[[66379,66383],"disallowed"],[[66384,66426],"valid"],[[66427,66431],"disallowed"],[[66432,66461],"valid"],[[66462,66462],"disallowed"],[[66463,66463],"valid",[],"NV8"],[[66464,66499],"valid"],[[66500,66503],"disallowed"],[[66504,66511],"valid"],[[66512,66517],"valid",[],"NV8"],[[66518,66559],"disallowed"],[[66560,66560],"mapped",[66600]],[[66561,66561],"mapped",[66601]],[[66562,66562],"mapped",[66602]],[[66563,66563],"mapped",[66603]],[[66564,66564],"mapped",[66604]],[[66565,66565],"mapped",[66605]],[[66566,66566],"mapped",[66606]],[[66567,66567],"mapped",[66607]],[[66568,66568],"mapped",[66608]],[[66569,66569],"mapped",[66609]],[[66570,66570],"mapped",[66610]],[[66571,66571],"mapped",[66611]],[[66572,66572],"mapped",[66612]],[[66573,66573],"mapped",[66613]],[[66574,66574],"mapped",[66614]],[[66575,66575],"mapped",[66615]],[[66576,66576],"mapped",[66616]],[[66577,66577],"mapped",[66617]],[[66578,66578],"mapped",[66618]],[[66579,66579],"mapped",[66619]],[[66580,66580],"mapped",[66620]],[[66581,66581],"mapped",[66621]],[[66582,66582],"mapped",[66622]],[[66583,66583],"mapped",[66623]],[[66584,66584],"mapped",[66624]],[[66585,66585],"mapped",[66625]],[[66586,66586],"mapped",[66626]],[[66587,66587],"mapped",[66627]],[[66588,66588],"mapped",[66628]],[[66589,66589],"mapped",[66629]],[[66590,66590],"mapped",[66630]],[[66591,66591],"mapped",[66631]],[[66592,66592],"mapped",[66632]],[[66593,66593],"mapped",[66633]],[[66594,66594],"mapped",[66634]],[[66595,66595],"mapped",[66635]],[[66596,66596],"mapped",[66636]],[[66597,66597],"mapped",[66637]],[[66598,66598],"mapped",[66638]],[[66599,66599],"mapped",[66639]],[[66600,66637],"valid"],[[66638,66717],"valid"],[[66718,66719],"disallowed"],[[66720,66729],"valid"],[[66730,66815],"disallowed"],[[66816,66855],"valid"],[[66856,66863],"disallowed"],[[66864,66915],"valid"],[[66916,66926],"disallowed"],[[66927,66927],"valid",[],"NV8"],[[66928,67071],"disallowed"],[[67072,67382],"valid"],[[67383,67391],"disallowed"],[[67392,67413],"valid"],[[67414,67423],"disallowed"],[[67424,67431],"valid"],[[67432,67583],"disallowed"],[[67584,67589],"valid"],[[67590,67591],"disallowed"],[[67592,67592],"valid"],[[67593,67593],"disallowed"],[[67594,67637],"valid"],[[67638,67638],"disallowed"],[[67639,67640],"valid"],[[67641,67643],"disallowed"],[[67644,67644],"valid"],[[67645,67646],"disallowed"],[[67647,67647],"valid"],[[67648,67669],"valid"],[[67670,67670],"disallowed"],[[67671,67679],"valid",[],"NV8"],[[67680,67702],"valid"],[[67703,67711],"valid",[],"NV8"],[[67712,67742],"valid"],[[67743,67750],"disallowed"],[[67751,67759],"valid",[],"NV8"],[[67760,67807],"disallowed"],[[67808,67826],"valid"],[[67827,67827],"disallowed"],[[67828,67829],"valid"],[[67830,67834],"disallowed"],[[67835,67839],"valid",[],"NV8"],[[67840,67861],"valid"],[[67862,67865],"valid",[],"NV8"],[[67866,67867],"valid",[],"NV8"],[[67868,67870],"disallowed"],[[67871,67871],"valid",[],"NV8"],[[67872,67897],"valid"],[[67898,67902],"disallowed"],[[67903,67903],"valid",[],"NV8"],[[67904,67967],"disallowed"],[[67968,68023],"valid"],[[68024,68027],"disallowed"],[[68028,68029],"valid",[],"NV8"],[[68030,68031],"valid"],[[68032,68047],"valid",[],"NV8"],[[68048,68049],"disallowed"],[[68050,68095],"valid",[],"NV8"],[[68096,68099],"valid"],[[68100,68100],"disallowed"],[[68101,68102],"valid"],[[68103,68107],"disallowed"],[[68108,68115],"valid"],[[68116,68116],"disallowed"],[[68117,68119],"valid"],[[68120,68120],"disallowed"],[[68121,68147],"valid"],[[68148,68151],"disallowed"],[[68152,68154],"valid"],[[68155,68158],"disallowed"],[[68159,68159],"valid"],[[68160,68167],"valid",[],"NV8"],[[68168,68175],"disallowed"],[[68176,68184],"valid",[],"NV8"],[[68185,68191],"disallowed"],[[68192,68220],"valid"],[[68221,68223],"valid",[],"NV8"],[[68224,68252],"valid"],[[68253,68255],"valid",[],"NV8"],[[68256,68287],"disallowed"],[[68288,68295],"valid"],[[68296,68296],"valid",[],"NV8"],[[68297,68326],"valid"],[[68327,68330],"disallowed"],[[68331,68342],"valid",[],"NV8"],[[68343,68351],"disallowed"],[[68352,68405],"valid"],[[68406,68408],"disallowed"],[[68409,68415],"valid",[],"NV8"],[[68416,68437],"valid"],[[68438,68439],"disallowed"],[[68440,68447],"valid",[],"NV8"],[[68448,68466],"valid"],[[68467,68471],"disallowed"],[[68472,68479],"valid",[],"NV8"],[[68480,68497],"valid"],[[68498,68504],"disallowed"],[[68505,68508],"valid",[],"NV8"],[[68509,68520],"disallowed"],[[68521,68527],"valid",[],"NV8"],[[68528,68607],"disallowed"],[[68608,68680],"valid"],[[68681,68735],"disallowed"],[[68736,68736],"mapped",[68800]],[[68737,68737],"mapped",[68801]],[[68738,68738],"mapped",[68802]],[[68739,68739],"mapped",[68803]],[[68740,68740],"mapped",[68804]],[[68741,68741],"mapped",[68805]],[[68742,68742],"mapped",[68806]],[[68743,68743],"mapped",[68807]],[[68744,68744],"mapped",[68808]],[[68745,68745],"mapped",[68809]],[[68746,68746],"mapped",[68810]],[[68747,68747],"mapped",[68811]],[[68748,68748],"mapped",[68812]],[[68749,68749],"mapped",[68813]],[[68750,68750],"mapped",[68814]],[[68751,68751],"mapped",[68815]],[[68752,68752],"mapped",[68816]],[[68753,68753],"mapped",[68817]],[[68754,68754],"mapped",[68818]],[[68755,68755],"mapped",[68819]],[[68756,68756],"mapped",[68820]],[[68757,68757],"mapped",[68821]],[[68758,68758],"mapped",[68822]],[[68759,68759],"mapped",[68823]],[[68760,68760],"mapped",[68824]],[[68761,68761],"mapped",[68825]],[[68762,68762],"mapped",[68826]],[[68763,68763],"mapped",[68827]],[[68764,68764],"mapped",[68828]],[[68765,68765],"mapped",[68829]],[[68766,68766],"mapped",[68830]],[[68767,68767],"mapped",[68831]],[[68768,68768],"mapped",[68832]],[[68769,68769],"mapped",[68833]],[[68770,68770],"mapped",[68834]],[[68771,68771],"mapped",[68835]],[[68772,68772],"mapped",[68836]],[[68773,68773],"mapped",[68837]],[[68774,68774],"mapped",[68838]],[[68775,68775],"mapped",[68839]],[[68776,68776],"mapped",[68840]],[[68777,68777],"mapped",[68841]],[[68778,68778],"mapped",[68842]],[[68779,68779],"mapped",[68843]],[[68780,68780],"mapped",[68844]],[[68781,68781],"mapped",[68845]],[[68782,68782],"mapped",[68846]],[[68783,68783],"mapped",[68847]],[[68784,68784],"mapped",[68848]],[[68785,68785],"mapped",[68849]],[[68786,68786],"mapped",[68850]],[[68787,68799],"disallowed"],[[68800,68850],"valid"],[[68851,68857],"disallowed"],[[68858,68863],"valid",[],"NV8"],[[68864,69215],"disallowed"],[[69216,69246],"valid",[],"NV8"],[[69247,69631],"disallowed"],[[69632,69702],"valid"],[[69703,69709],"valid",[],"NV8"],[[69710,69713],"disallowed"],[[69714,69733],"valid",[],"NV8"],[[69734,69743],"valid"],[[69744,69758],"disallowed"],[[69759,69759],"valid"],[[69760,69818],"valid"],[[69819,69820],"valid",[],"NV8"],[[69821,69821],"disallowed"],[[69822,69825],"valid",[],"NV8"],[[69826,69839],"disallowed"],[[69840,69864],"valid"],[[69865,69871],"disallowed"],[[69872,69881],"valid"],[[69882,69887],"disallowed"],[[69888,69940],"valid"],[[69941,69941],"disallowed"],[[69942,69951],"valid"],[[69952,69955],"valid",[],"NV8"],[[69956,69967],"disallowed"],[[69968,70003],"valid"],[[70004,70005],"valid",[],"NV8"],[[70006,70006],"valid"],[[70007,70015],"disallowed"],[[70016,70084],"valid"],[[70085,70088],"valid",[],"NV8"],[[70089,70089],"valid",[],"NV8"],[[70090,70092],"valid"],[[70093,70093],"valid",[],"NV8"],[[70094,70095],"disallowed"],[[70096,70105],"valid"],[[70106,70106],"valid"],[[70107,70107],"valid",[],"NV8"],[[70108,70108],"valid"],[[70109,70111],"valid",[],"NV8"],[[70112,70112],"disallowed"],[[70113,70132],"valid",[],"NV8"],[[70133,70143],"disallowed"],[[70144,70161],"valid"],[[70162,70162],"disallowed"],[[70163,70199],"valid"],[[70200,70205],"valid",[],"NV8"],[[70206,70271],"disallowed"],[[70272,70278],"valid"],[[70279,70279],"disallowed"],[[70280,70280],"valid"],[[70281,70281],"disallowed"],[[70282,70285],"valid"],[[70286,70286],"disallowed"],[[70287,70301],"valid"],[[70302,70302],"disallowed"],[[70303,70312],"valid"],[[70313,70313],"valid",[],"NV8"],[[70314,70319],"disallowed"],[[70320,70378],"valid"],[[70379,70383],"disallowed"],[[70384,70393],"valid"],[[70394,70399],"disallowed"],[[70400,70400],"valid"],[[70401,70403],"valid"],[[70404,70404],"disallowed"],[[70405,70412],"valid"],[[70413,70414],"disallowed"],[[70415,70416],"valid"],[[70417,70418],"disallowed"],[[70419,70440],"valid"],[[70441,70441],"disallowed"],[[70442,70448],"valid"],[[70449,70449],"disallowed"],[[70450,70451],"valid"],[[70452,70452],"disallowed"],[[70453,70457],"valid"],[[70458,70459],"disallowed"],[[70460,70468],"valid"],[[70469,70470],"disallowed"],[[70471,70472],"valid"],[[70473,70474],"disallowed"],[[70475,70477],"valid"],[[70478,70479],"disallowed"],[[70480,70480],"valid"],[[70481,70486],"disallowed"],[[70487,70487],"valid"],[[70488,70492],"disallowed"],[[70493,70499],"valid"],[[70500,70501],"disallowed"],[[70502,70508],"valid"],[[70509,70511],"disallowed"],[[70512,70516],"valid"],[[70517,70783],"disallowed"],[[70784,70853],"valid"],[[70854,70854],"valid",[],"NV8"],[[70855,70855],"valid"],[[70856,70863],"disallowed"],[[70864,70873],"valid"],[[70874,71039],"disallowed"],[[71040,71093],"valid"],[[71094,71095],"disallowed"],[[71096,71104],"valid"],[[71105,71113],"valid",[],"NV8"],[[71114,71127],"valid",[],"NV8"],[[71128,71133],"valid"],[[71134,71167],"disallowed"],[[71168,71232],"valid"],[[71233,71235],"valid",[],"NV8"],[[71236,71236],"valid"],[[71237,71247],"disallowed"],[[71248,71257],"valid"],[[71258,71295],"disallowed"],[[71296,71351],"valid"],[[71352,71359],"disallowed"],[[71360,71369],"valid"],[[71370,71423],"disallowed"],[[71424,71449],"valid"],[[71450,71452],"disallowed"],[[71453,71467],"valid"],[[71468,71471],"disallowed"],[[71472,71481],"valid"],[[71482,71487],"valid",[],"NV8"],[[71488,71839],"disallowed"],[[71840,71840],"mapped",[71872]],[[71841,71841],"mapped",[71873]],[[71842,71842],"mapped",[71874]],[[71843,71843],"mapped",[71875]],[[71844,71844],"mapped",[71876]],[[71845,71845],"mapped",[71877]],[[71846,71846],"mapped",[71878]],[[71847,71847],"mapped",[71879]],[[71848,71848],"mapped",[71880]],[[71849,71849],"mapped",[71881]],[[71850,71850],"mapped",[71882]],[[71851,71851],"mapped",[71883]],[[71852,71852],"mapped",[71884]],[[71853,71853],"mapped",[71885]],[[71854,71854],"mapped",[71886]],[[71855,71855],"mapped",[71887]],[[71856,71856],"mapped",[71888]],[[71857,71857],"mapped",[71889]],[[71858,71858],"mapped",[71890]],[[71859,71859],"mapped",[71891]],[[71860,71860],"mapped",[71892]],[[71861,71861],"mapped",[71893]],[[71862,71862],"mapped",[71894]],[[71863,71863],"mapped",[71895]],[[71864,71864],"mapped",[71896]],[[71865,71865],"mapped",[71897]],[[71866,71866],"mapped",[71898]],[[71867,71867],"mapped",[71899]],[[71868,71868],"mapped",[71900]],[[71869,71869],"mapped",[71901]],[[71870,71870],"mapped",[71902]],[[71871,71871],"mapped",[71903]],[[71872,71913],"valid"],[[71914,71922],"valid",[],"NV8"],[[71923,71934],"disallowed"],[[71935,71935],"valid"],[[71936,72383],"disallowed"],[[72384,72440],"valid"],[[72441,73727],"disallowed"],[[73728,74606],"valid"],[[74607,74648],"valid"],[[74649,74649],"valid"],[[74650,74751],"disallowed"],[[74752,74850],"valid",[],"NV8"],[[74851,74862],"valid",[],"NV8"],[[74863,74863],"disallowed"],[[74864,74867],"valid",[],"NV8"],[[74868,74868],"valid",[],"NV8"],[[74869,74879],"disallowed"],[[74880,75075],"valid"],[[75076,77823],"disallowed"],[[77824,78894],"valid"],[[78895,82943],"disallowed"],[[82944,83526],"valid"],[[83527,92159],"disallowed"],[[92160,92728],"valid"],[[92729,92735],"disallowed"],[[92736,92766],"valid"],[[92767,92767],"disallowed"],[[92768,92777],"valid"],[[92778,92781],"disallowed"],[[92782,92783],"valid",[],"NV8"],[[92784,92879],"disallowed"],[[92880,92909],"valid"],[[92910,92911],"disallowed"],[[92912,92916],"valid"],[[92917,92917],"valid",[],"NV8"],[[92918,92927],"disallowed"],[[92928,92982],"valid"],[[92983,92991],"valid",[],"NV8"],[[92992,92995],"valid"],[[92996,92997],"valid",[],"NV8"],[[92998,93007],"disallowed"],[[93008,93017],"valid"],[[93018,93018],"disallowed"],[[93019,93025],"valid",[],"NV8"],[[93026,93026],"disallowed"],[[93027,93047],"valid"],[[93048,93052],"disallowed"],[[93053,93071],"valid"],[[93072,93951],"disallowed"],[[93952,94020],"valid"],[[94021,94031],"disallowed"],[[94032,94078],"valid"],[[94079,94094],"disallowed"],[[94095,94111],"valid"],[[94112,110591],"disallowed"],[[110592,110593],"valid"],[[110594,113663],"disallowed"],[[113664,113770],"valid"],[[113771,113775],"disallowed"],[[113776,113788],"valid"],[[113789,113791],"disallowed"],[[113792,113800],"valid"],[[113801,113807],"disallowed"],[[113808,113817],"valid"],[[113818,113819],"disallowed"],[[113820,113820],"valid",[],"NV8"],[[113821,113822],"valid"],[[113823,113823],"valid",[],"NV8"],[[113824,113827],"ignored"],[[113828,118783],"disallowed"],[[118784,119029],"valid",[],"NV8"],[[119030,119039],"disallowed"],[[119040,119078],"valid",[],"NV8"],[[119079,119080],"disallowed"],[[119081,119081],"valid",[],"NV8"],[[119082,119133],"valid",[],"NV8"],[[119134,119134],"mapped",[119127,119141]],[[119135,119135],"mapped",[119128,119141]],[[119136,119136],"mapped",[119128,119141,119150]],[[119137,119137],"mapped",[119128,119141,119151]],[[119138,119138],"mapped",[119128,119141,119152]],[[119139,119139],"mapped",[119128,119141,119153]],[[119140,119140],"mapped",[119128,119141,119154]],[[119141,119154],"valid",[],"NV8"],[[119155,119162],"disallowed"],[[119163,119226],"valid",[],"NV8"],[[119227,119227],"mapped",[119225,119141]],[[119228,119228],"mapped",[119226,119141]],[[119229,119229],"mapped",[119225,119141,119150]],[[119230,119230],"mapped",[119226,119141,119150]],[[119231,119231],"mapped",[119225,119141,119151]],[[119232,119232],"mapped",[119226,119141,119151]],[[119233,119261],"valid",[],"NV8"],[[119262,119272],"valid",[],"NV8"],[[119273,119295],"disallowed"],[[119296,119365],"valid",[],"NV8"],[[119366,119551],"disallowed"],[[119552,119638],"valid",[],"NV8"],[[119639,119647],"disallowed"],[[119648,119665],"valid",[],"NV8"],[[119666,119807],"disallowed"],[[119808,119808],"mapped",[97]],[[119809,119809],"mapped",[98]],[[119810,119810],"mapped",[99]],[[119811,119811],"mapped",[100]],[[119812,119812],"mapped",[101]],[[119813,119813],"mapped",[102]],[[119814,119814],"mapped",[103]],[[119815,119815],"mapped",[104]],[[119816,119816],"mapped",[105]],[[119817,119817],"mapped",[106]],[[119818,119818],"mapped",[107]],[[119819,119819],"mapped",[108]],[[119820,119820],"mapped",[109]],[[119821,119821],"mapped",[110]],[[119822,119822],"mapped",[111]],[[119823,119823],"mapped",[112]],[[119824,119824],"mapped",[113]],[[119825,119825],"mapped",[114]],[[119826,119826],"mapped",[115]],[[119827,119827],"mapped",[116]],[[119828,119828],"mapped",[117]],[[119829,119829],"mapped",[118]],[[119830,119830],"mapped",[119]],[[119831,119831],"mapped",[120]],[[119832,119832],"mapped",[121]],[[119833,119833],"mapped",[122]],[[119834,119834],"mapped",[97]],[[119835,119835],"mapped",[98]],[[119836,119836],"mapped",[99]],[[119837,119837],"mapped",[100]],[[119838,119838],"mapped",[101]],[[119839,119839],"mapped",[102]],[[119840,119840],"mapped",[103]],[[119841,119841],"mapped",[104]],[[119842,119842],"mapped",[105]],[[119843,119843],"mapped",[106]],[[119844,119844],"mapped",[107]],[[119845,119845],"mapped",[108]],[[119846,119846],"mapped",[109]],[[119847,119847],"mapped",[110]],[[119848,119848],"mapped",[111]],[[119849,119849],"mapped",[112]],[[119850,119850],"mapped",[113]],[[119851,119851],"mapped",[114]],[[119852,119852],"mapped",[115]],[[119853,119853],"mapped",[116]],[[119854,119854],"mapped",[117]],[[119855,119855],"mapped",[118]],[[119856,119856],"mapped",[119]],[[119857,119857],"mapped",[120]],[[119858,119858],"mapped",[121]],[[119859,119859],"mapped",[122]],[[119860,119860],"mapped",[97]],[[119861,119861],"mapped",[98]],[[119862,119862],"mapped",[99]],[[119863,119863],"mapped",[100]],[[119864,119864],"mapped",[101]],[[119865,119865],"mapped",[102]],[[119866,119866],"mapped",[103]],[[119867,119867],"mapped",[104]],[[119868,119868],"mapped",[105]],[[119869,119869],"mapped",[106]],[[119870,119870],"mapped",[107]],[[119871,119871],"mapped",[108]],[[119872,119872],"mapped",[109]],[[119873,119873],"mapped",[110]],[[119874,119874],"mapped",[111]],[[119875,119875],"mapped",[112]],[[119876,119876],"mapped",[113]],[[119877,119877],"mapped",[114]],[[119878,119878],"mapped",[115]],[[119879,119879],"mapped",[116]],[[119880,119880],"mapped",[117]],[[119881,119881],"mapped",[118]],[[119882,119882],"mapped",[119]],[[119883,119883],"mapped",[120]],[[119884,119884],"mapped",[121]],[[119885,119885],"mapped",[122]],[[119886,119886],"mapped",[97]],[[119887,119887],"mapped",[98]],[[119888,119888],"mapped",[99]],[[119889,119889],"mapped",[100]],[[119890,119890],"mapped",[101]],[[119891,119891],"mapped",[102]],[[119892,119892],"mapped",[103]],[[119893,119893],"disallowed"],[[119894,119894],"mapped",[105]],[[119895,119895],"mapped",[106]],[[119896,119896],"mapped",[107]],[[119897,119897],"mapped",[108]],[[119898,119898],"mapped",[109]],[[119899,119899],"mapped",[110]],[[119900,119900],"mapped",[111]],[[119901,119901],"mapped",[112]],[[119902,119902],"mapped",[113]],[[119903,119903],"mapped",[114]],[[119904,119904],"mapped",[115]],[[119905,119905],"mapped",[116]],[[119906,119906],"mapped",[117]],[[119907,119907],"mapped",[118]],[[119908,119908],"mapped",[119]],[[119909,119909],"mapped",[120]],[[119910,119910],"mapped",[121]],[[119911,119911],"mapped",[122]],[[119912,119912],"mapped",[97]],[[119913,119913],"mapped",[98]],[[119914,119914],"mapped",[99]],[[119915,119915],"mapped",[100]],[[119916,119916],"mapped",[101]],[[119917,119917],"mapped",[102]],[[119918,119918],"mapped",[103]],[[119919,119919],"mapped",[104]],[[119920,119920],"mapped",[105]],[[119921,119921],"mapped",[106]],[[119922,119922],"mapped",[107]],[[119923,119923],"mapped",[108]],[[119924,119924],"mapped",[109]],[[119925,119925],"mapped",[110]],[[119926,119926],"mapped",[111]],[[119927,119927],"mapped",[112]],[[119928,119928],"mapped",[113]],[[119929,119929],"mapped",[114]],[[119930,119930],"mapped",[115]],[[119931,119931],"mapped",[116]],[[119932,119932],"mapped",[117]],[[119933,119933],"mapped",[118]],[[119934,119934],"mapped",[119]],[[119935,119935],"mapped",[120]],[[119936,119936],"mapped",[121]],[[119937,119937],"mapped",[122]],[[119938,119938],"mapped",[97]],[[119939,119939],"mapped",[98]],[[119940,119940],"mapped",[99]],[[119941,119941],"mapped",[100]],[[119942,119942],"mapped",[101]],[[119943,119943],"mapped",[102]],[[119944,119944],"mapped",[103]],[[119945,119945],"mapped",[104]],[[119946,119946],"mapped",[105]],[[119947,119947],"mapped",[106]],[[119948,119948],"mapped",[107]],[[119949,119949],"mapped",[108]],[[119950,119950],"mapped",[109]],[[119951,119951],"mapped",[110]],[[119952,119952],"mapped",[111]],[[119953,119953],"mapped",[112]],[[119954,119954],"mapped",[113]],[[119955,119955],"mapped",[114]],[[119956,119956],"mapped",[115]],[[119957,119957],"mapped",[116]],[[119958,119958],"mapped",[117]],[[119959,119959],"mapped",[118]],[[119960,119960],"mapped",[119]],[[119961,119961],"mapped",[120]],[[119962,119962],"mapped",[121]],[[119963,119963],"mapped",[122]],[[119964,119964],"mapped",[97]],[[119965,119965],"disallowed"],[[119966,119966],"mapped",[99]],[[119967,119967],"mapped",[100]],[[119968,119969],"disallowed"],[[119970,119970],"mapped",[103]],[[119971,119972],"disallowed"],[[119973,119973],"mapped",[106]],[[119974,119974],"mapped",[107]],[[119975,119976],"disallowed"],[[119977,119977],"mapped",[110]],[[119978,119978],"mapped",[111]],[[119979,119979],"mapped",[112]],[[119980,119980],"mapped",[113]],[[119981,119981],"disallowed"],[[119982,119982],"mapped",[115]],[[119983,119983],"mapped",[116]],[[119984,119984],"mapped",[117]],[[119985,119985],"mapped",[118]],[[119986,119986],"mapped",[119]],[[119987,119987],"mapped",[120]],[[119988,119988],"mapped",[121]],[[119989,119989],"mapped",[122]],[[119990,119990],"mapped",[97]],[[119991,119991],"mapped",[98]],[[119992,119992],"mapped",[99]],[[119993,119993],"mapped",[100]],[[119994,119994],"disallowed"],[[119995,119995],"mapped",[102]],[[119996,119996],"disallowed"],[[119997,119997],"mapped",[104]],[[119998,119998],"mapped",[105]],[[119999,119999],"mapped",[106]],[[12e4,12e4],"mapped",[107]],[[120001,120001],"mapped",[108]],[[120002,120002],"mapped",[109]],[[120003,120003],"mapped",[110]],[[120004,120004],"disallowed"],[[120005,120005],"mapped",[112]],[[120006,120006],"mapped",[113]],[[120007,120007],"mapped",[114]],[[120008,120008],"mapped",[115]],[[120009,120009],"mapped",[116]],[[120010,120010],"mapped",[117]],[[120011,120011],"mapped",[118]],[[120012,120012],"mapped",[119]],[[120013,120013],"mapped",[120]],[[120014,120014],"mapped",[121]],[[120015,120015],"mapped",[122]],[[120016,120016],"mapped",[97]],[[120017,120017],"mapped",[98]],[[120018,120018],"mapped",[99]],[[120019,120019],"mapped",[100]],[[120020,120020],"mapped",[101]],[[120021,120021],"mapped",[102]],[[120022,120022],"mapped",[103]],[[120023,120023],"mapped",[104]],[[120024,120024],"mapped",[105]],[[120025,120025],"mapped",[106]],[[120026,120026],"mapped",[107]],[[120027,120027],"mapped",[108]],[[120028,120028],"mapped",[109]],[[120029,120029],"mapped",[110]],[[120030,120030],"mapped",[111]],[[120031,120031],"mapped",[112]],[[120032,120032],"mapped",[113]],[[120033,120033],"mapped",[114]],[[120034,120034],"mapped",[115]],[[120035,120035],"mapped",[116]],[[120036,120036],"mapped",[117]],[[120037,120037],"mapped",[118]],[[120038,120038],"mapped",[119]],[[120039,120039],"mapped",[120]],[[120040,120040],"mapped",[121]],[[120041,120041],"mapped",[122]],[[120042,120042],"mapped",[97]],[[120043,120043],"mapped",[98]],[[120044,120044],"mapped",[99]],[[120045,120045],"mapped",[100]],[[120046,120046],"mapped",[101]],[[120047,120047],"mapped",[102]],[[120048,120048],"mapped",[103]],[[120049,120049],"mapped",[104]],[[120050,120050],"mapped",[105]],[[120051,120051],"mapped",[106]],[[120052,120052],"mapped",[107]],[[120053,120053],"mapped",[108]],[[120054,120054],"mapped",[109]],[[120055,120055],"mapped",[110]],[[120056,120056],"mapped",[111]],[[120057,120057],"mapped",[112]],[[120058,120058],"mapped",[113]],[[120059,120059],"mapped",[114]],[[120060,120060],"mapped",[115]],[[120061,120061],"mapped",[116]],[[120062,120062],"mapped",[117]],[[120063,120063],"mapped",[118]],[[120064,120064],"mapped",[119]],[[120065,120065],"mapped",[120]],[[120066,120066],"mapped",[121]],[[120067,120067],"mapped",[122]],[[120068,120068],"mapped",[97]],[[120069,120069],"mapped",[98]],[[120070,120070],"disallowed"],[[120071,120071],"mapped",[100]],[[120072,120072],"mapped",[101]],[[120073,120073],"mapped",[102]],[[120074,120074],"mapped",[103]],[[120075,120076],"disallowed"],[[120077,120077],"mapped",[106]],[[120078,120078],"mapped",[107]],[[120079,120079],"mapped",[108]],[[120080,120080],"mapped",[109]],[[120081,120081],"mapped",[110]],[[120082,120082],"mapped",[111]],[[120083,120083],"mapped",[112]],[[120084,120084],"mapped",[113]],[[120085,120085],"disallowed"],[[120086,120086],"mapped",[115]],[[120087,120087],"mapped",[116]],[[120088,120088],"mapped",[117]],[[120089,120089],"mapped",[118]],[[120090,120090],"mapped",[119]],[[120091,120091],"mapped",[120]],[[120092,120092],"mapped",[121]],[[120093,120093],"disallowed"],[[120094,120094],"mapped",[97]],[[120095,120095],"mapped",[98]],[[120096,120096],"mapped",[99]],[[120097,120097],"mapped",[100]],[[120098,120098],"mapped",[101]],[[120099,120099],"mapped",[102]],[[120100,120100],"mapped",[103]],[[120101,120101],"mapped",[104]],[[120102,120102],"mapped",[105]],[[120103,120103],"mapped",[106]],[[120104,120104],"mapped",[107]],[[120105,120105],"mapped",[108]],[[120106,120106],"mapped",[109]],[[120107,120107],"mapped",[110]],[[120108,120108],"mapped",[111]],[[120109,120109],"mapped",[112]],[[120110,120110],"mapped",[113]],[[120111,120111],"mapped",[114]],[[120112,120112],"mapped",[115]],[[120113,120113],"mapped",[116]],[[120114,120114],"mapped",[117]],[[120115,120115],"mapped",[118]],[[120116,120116],"mapped",[119]],[[120117,120117],"mapped",[120]],[[120118,120118],"mapped",[121]],[[120119,120119],"mapped",[122]],[[120120,120120],"mapped",[97]],[[120121,120121],"mapped",[98]],[[120122,120122],"disallowed"],[[120123,120123],"mapped",[100]],[[120124,120124],"mapped",[101]],[[120125,120125],"mapped",[102]],[[120126,120126],"mapped",[103]],[[120127,120127],"disallowed"],[[120128,120128],"mapped",[105]],[[120129,120129],"mapped",[106]],[[120130,120130],"mapped",[107]],[[120131,120131],"mapped",[108]],[[120132,120132],"mapped",[109]],[[120133,120133],"disallowed"],[[120134,120134],"mapped",[111]],[[120135,120137],"disallowed"],[[120138,120138],"mapped",[115]],[[120139,120139],"mapped",[116]],[[120140,120140],"mapped",[117]],[[120141,120141],"mapped",[118]],[[120142,120142],"mapped",[119]],[[120143,120143],"mapped",[120]],[[120144,120144],"mapped",[121]],[[120145,120145],"disallowed"],[[120146,120146],"mapped",[97]],[[120147,120147],"mapped",[98]],[[120148,120148],"mapped",[99]],[[120149,120149],"mapped",[100]],[[120150,120150],"mapped",[101]],[[120151,120151],"mapped",[102]],[[120152,120152],"mapped",[103]],[[120153,120153],"mapped",[104]],[[120154,120154],"mapped",[105]],[[120155,120155],"mapped",[106]],[[120156,120156],"mapped",[107]],[[120157,120157],"mapped",[108]],[[120158,120158],"mapped",[109]],[[120159,120159],"mapped",[110]],[[120160,120160],"mapped",[111]],[[120161,120161],"mapped",[112]],[[120162,120162],"mapped",[113]],[[120163,120163],"mapped",[114]],[[120164,120164],"mapped",[115]],[[120165,120165],"mapped",[116]],[[120166,120166],"mapped",[117]],[[120167,120167],"mapped",[118]],[[120168,120168],"mapped",[119]],[[120169,120169],"mapped",[120]],[[120170,120170],"mapped",[121]],[[120171,120171],"mapped",[122]],[[120172,120172],"mapped",[97]],[[120173,120173],"mapped",[98]],[[120174,120174],"mapped",[99]],[[120175,120175],"mapped",[100]],[[120176,120176],"mapped",[101]],[[120177,120177],"mapped",[102]],[[120178,120178],"mapped",[103]],[[120179,120179],"mapped",[104]],[[120180,120180],"mapped",[105]],[[120181,120181],"mapped",[106]],[[120182,120182],"mapped",[107]],[[120183,120183],"mapped",[108]],[[120184,120184],"mapped",[109]],[[120185,120185],"mapped",[110]],[[120186,120186],"mapped",[111]],[[120187,120187],"mapped",[112]],[[120188,120188],"mapped",[113]],[[120189,120189],"mapped",[114]],[[120190,120190],"mapped",[115]],[[120191,120191],"mapped",[116]],[[120192,120192],"mapped",[117]],[[120193,120193],"mapped",[118]],[[120194,120194],"mapped",[119]],[[120195,120195],"mapped",[120]],[[120196,120196],"mapped",[121]],[[120197,120197],"mapped",[122]],[[120198,120198],"mapped",[97]],[[120199,120199],"mapped",[98]],[[120200,120200],"mapped",[99]],[[120201,120201],"mapped",[100]],[[120202,120202],"mapped",[101]],[[120203,120203],"mapped",[102]],[[120204,120204],"mapped",[103]],[[120205,120205],"mapped",[104]],[[120206,120206],"mapped",[105]],[[120207,120207],"mapped",[106]],[[120208,120208],"mapped",[107]],[[120209,120209],"mapped",[108]],[[120210,120210],"mapped",[109]],[[120211,120211],"mapped",[110]],[[120212,120212],"mapped",[111]],[[120213,120213],"mapped",[112]],[[120214,120214],"mapped",[113]],[[120215,120215],"mapped",[114]],[[120216,120216],"mapped",[115]],[[120217,120217],"mapped",[116]],[[120218,120218],"mapped",[117]],[[120219,120219],"mapped",[118]],[[120220,120220],"mapped",[119]],[[120221,120221],"mapped",[120]],[[120222,120222],"mapped",[121]],[[120223,120223],"mapped",[122]],[[120224,120224],"mapped",[97]],[[120225,120225],"mapped",[98]],[[120226,120226],"mapped",[99]],[[120227,120227],"mapped",[100]],[[120228,120228],"mapped",[101]],[[120229,120229],"mapped",[102]],[[120230,120230],"mapped",[103]],[[120231,120231],"mapped",[104]],[[120232,120232],"mapped",[105]],[[120233,120233],"mapped",[106]],[[120234,120234],"mapped",[107]],[[120235,120235],"mapped",[108]],[[120236,120236],"mapped",[109]],[[120237,120237],"mapped",[110]],[[120238,120238],"mapped",[111]],[[120239,120239],"mapped",[112]],[[120240,120240],"mapped",[113]],[[120241,120241],"mapped",[114]],[[120242,120242],"mapped",[115]],[[120243,120243],"mapped",[116]],[[120244,120244],"mapped",[117]],[[120245,120245],"mapped",[118]],[[120246,120246],"mapped",[119]],[[120247,120247],"mapped",[120]],[[120248,120248],"mapped",[121]],[[120249,120249],"mapped",[122]],[[120250,120250],"mapped",[97]],[[120251,120251],"mapped",[98]],[[120252,120252],"mapped",[99]],[[120253,120253],"mapped",[100]],[[120254,120254],"mapped",[101]],[[120255,120255],"mapped",[102]],[[120256,120256],"mapped",[103]],[[120257,120257],"mapped",[104]],[[120258,120258],"mapped",[105]],[[120259,120259],"mapped",[106]],[[120260,120260],"mapped",[107]],[[120261,120261],"mapped",[108]],[[120262,120262],"mapped",[109]],[[120263,120263],"mapped",[110]],[[120264,120264],"mapped",[111]],[[120265,120265],"mapped",[112]],[[120266,120266],"mapped",[113]],[[120267,120267],"mapped",[114]],[[120268,120268],"mapped",[115]],[[120269,120269],"mapped",[116]],[[120270,120270],"mapped",[117]],[[120271,120271],"mapped",[118]],[[120272,120272],"mapped",[119]],[[120273,120273],"mapped",[120]],[[120274,120274],"mapped",[121]],[[120275,120275],"mapped",[122]],[[120276,120276],"mapped",[97]],[[120277,120277],"mapped",[98]],[[120278,120278],"mapped",[99]],[[120279,120279],"mapped",[100]],[[120280,120280],"mapped",[101]],[[120281,120281],"mapped",[102]],[[120282,120282],"mapped",[103]],[[120283,120283],"mapped",[104]],[[120284,120284],"mapped",[105]],[[120285,120285],"mapped",[106]],[[120286,120286],"mapped",[107]],[[120287,120287],"mapped",[108]],[[120288,120288],"mapped",[109]],[[120289,120289],"mapped",[110]],[[120290,120290],"mapped",[111]],[[120291,120291],"mapped",[112]],[[120292,120292],"mapped",[113]],[[120293,120293],"mapped",[114]],[[120294,120294],"mapped",[115]],[[120295,120295],"mapped",[116]],[[120296,120296],"mapped",[117]],[[120297,120297],"mapped",[118]],[[120298,120298],"mapped",[119]],[[120299,120299],"mapped",[120]],[[120300,120300],"mapped",[121]],[[120301,120301],"mapped",[122]],[[120302,120302],"mapped",[97]],[[120303,120303],"mapped",[98]],[[120304,120304],"mapped",[99]],[[120305,120305],"mapped",[100]],[[120306,120306],"mapped",[101]],[[120307,120307],"mapped",[102]],[[120308,120308],"mapped",[103]],[[120309,120309],"mapped",[104]],[[120310,120310],"mapped",[105]],[[120311,120311],"mapped",[106]],[[120312,120312],"mapped",[107]],[[120313,120313],"mapped",[108]],[[120314,120314],"mapped",[109]],[[120315,120315],"mapped",[110]],[[120316,120316],"mapped",[111]],[[120317,120317],"mapped",[112]],[[120318,120318],"mapped",[113]],[[120319,120319],"mapped",[114]],[[120320,120320],"mapped",[115]],[[120321,120321],"mapped",[116]],[[120322,120322],"mapped",[117]],[[120323,120323],"mapped",[118]],[[120324,120324],"mapped",[119]],[[120325,120325],"mapped",[120]],[[120326,120326],"mapped",[121]],[[120327,120327],"mapped",[122]],[[120328,120328],"mapped",[97]],[[120329,120329],"mapped",[98]],[[120330,120330],"mapped",[99]],[[120331,120331],"mapped",[100]],[[120332,120332],"mapped",[101]],[[120333,120333],"mapped",[102]],[[120334,120334],"mapped",[103]],[[120335,120335],"mapped",[104]],[[120336,120336],"mapped",[105]],[[120337,120337],"mapped",[106]],[[120338,120338],"mapped",[107]],[[120339,120339],"mapped",[108]],[[120340,120340],"mapped",[109]],[[120341,120341],"mapped",[110]],[[120342,120342],"mapped",[111]],[[120343,120343],"mapped",[112]],[[120344,120344],"mapped",[113]],[[120345,120345],"mapped",[114]],[[120346,120346],"mapped",[115]],[[120347,120347],"mapped",[116]],[[120348,120348],"mapped",[117]],[[120349,120349],"mapped",[118]],[[120350,120350],"mapped",[119]],[[120351,120351],"mapped",[120]],[[120352,120352],"mapped",[121]],[[120353,120353],"mapped",[122]],[[120354,120354],"mapped",[97]],[[120355,120355],"mapped",[98]],[[120356,120356],"mapped",[99]],[[120357,120357],"mapped",[100]],[[120358,120358],"mapped",[101]],[[120359,120359],"mapped",[102]],[[120360,120360],"mapped",[103]],[[120361,120361],"mapped",[104]],[[120362,120362],"mapped",[105]],[[120363,120363],"mapped",[106]],[[120364,120364],"mapped",[107]],[[120365,120365],"mapped",[108]],[[120366,120366],"mapped",[109]],[[120367,120367],"mapped",[110]],[[120368,120368],"mapped",[111]],[[120369,120369],"mapped",[112]],[[120370,120370],"mapped",[113]],[[120371,120371],"mapped",[114]],[[120372,120372],"mapped",[115]],[[120373,120373],"mapped",[116]],[[120374,120374],"mapped",[117]],[[120375,120375],"mapped",[118]],[[120376,120376],"mapped",[119]],[[120377,120377],"mapped",[120]],[[120378,120378],"mapped",[121]],[[120379,120379],"mapped",[122]],[[120380,120380],"mapped",[97]],[[120381,120381],"mapped",[98]],[[120382,120382],"mapped",[99]],[[120383,120383],"mapped",[100]],[[120384,120384],"mapped",[101]],[[120385,120385],"mapped",[102]],[[120386,120386],"mapped",[103]],[[120387,120387],"mapped",[104]],[[120388,120388],"mapped",[105]],[[120389,120389],"mapped",[106]],[[120390,120390],"mapped",[107]],[[120391,120391],"mapped",[108]],[[120392,120392],"mapped",[109]],[[120393,120393],"mapped",[110]],[[120394,120394],"mapped",[111]],[[120395,120395],"mapped",[112]],[[120396,120396],"mapped",[113]],[[120397,120397],"mapped",[114]],[[120398,120398],"mapped",[115]],[[120399,120399],"mapped",[116]],[[120400,120400],"mapped",[117]],[[120401,120401],"mapped",[118]],[[120402,120402],"mapped",[119]],[[120403,120403],"mapped",[120]],[[120404,120404],"mapped",[121]],[[120405,120405],"mapped",[122]],[[120406,120406],"mapped",[97]],[[120407,120407],"mapped",[98]],[[120408,120408],"mapped",[99]],[[120409,120409],"mapped",[100]],[[120410,120410],"mapped",[101]],[[120411,120411],"mapped",[102]],[[120412,120412],"mapped",[103]],[[120413,120413],"mapped",[104]],[[120414,120414],"mapped",[105]],[[120415,120415],"mapped",[106]],[[120416,120416],"mapped",[107]],[[120417,120417],"mapped",[108]],[[120418,120418],"mapped",[109]],[[120419,120419],"mapped",[110]],[[120420,120420],"mapped",[111]],[[120421,120421],"mapped",[112]],[[120422,120422],"mapped",[113]],[[120423,120423],"mapped",[114]],[[120424,120424],"mapped",[115]],[[120425,120425],"mapped",[116]],[[120426,120426],"mapped",[117]],[[120427,120427],"mapped",[118]],[[120428,120428],"mapped",[119]],[[120429,120429],"mapped",[120]],[[120430,120430],"mapped",[121]],[[120431,120431],"mapped",[122]],[[120432,120432],"mapped",[97]],[[120433,120433],"mapped",[98]],[[120434,120434],"mapped",[99]],[[120435,120435],"mapped",[100]],[[120436,120436],"mapped",[101]],[[120437,120437],"mapped",[102]],[[120438,120438],"mapped",[103]],[[120439,120439],"mapped",[104]],[[120440,120440],"mapped",[105]],[[120441,120441],"mapped",[106]],[[120442,120442],"mapped",[107]],[[120443,120443],"mapped",[108]],[[120444,120444],"mapped",[109]],[[120445,120445],"mapped",[110]],[[120446,120446],"mapped",[111]],[[120447,120447],"mapped",[112]],[[120448,120448],"mapped",[113]],[[120449,120449],"mapped",[114]],[[120450,120450],"mapped",[115]],[[120451,120451],"mapped",[116]],[[120452,120452],"mapped",[117]],[[120453,120453],"mapped",[118]],[[120454,120454],"mapped",[119]],[[120455,120455],"mapped",[120]],[[120456,120456],"mapped",[121]],[[120457,120457],"mapped",[122]],[[120458,120458],"mapped",[97]],[[120459,120459],"mapped",[98]],[[120460,120460],"mapped",[99]],[[120461,120461],"mapped",[100]],[[120462,120462],"mapped",[101]],[[120463,120463],"mapped",[102]],[[120464,120464],"mapped",[103]],[[120465,120465],"mapped",[104]],[[120466,120466],"mapped",[105]],[[120467,120467],"mapped",[106]],[[120468,120468],"mapped",[107]],[[120469,120469],"mapped",[108]],[[120470,120470],"mapped",[109]],[[120471,120471],"mapped",[110]],[[120472,120472],"mapped",[111]],[[120473,120473],"mapped",[112]],[[120474,120474],"mapped",[113]],[[120475,120475],"mapped",[114]],[[120476,120476],"mapped",[115]],[[120477,120477],"mapped",[116]],[[120478,120478],"mapped",[117]],[[120479,120479],"mapped",[118]],[[120480,120480],"mapped",[119]],[[120481,120481],"mapped",[120]],[[120482,120482],"mapped",[121]],[[120483,120483],"mapped",[122]],[[120484,120484],"mapped",[305]],[[120485,120485],"mapped",[567]],[[120486,120487],"disallowed"],[[120488,120488],"mapped",[945]],[[120489,120489],"mapped",[946]],[[120490,120490],"mapped",[947]],[[120491,120491],"mapped",[948]],[[120492,120492],"mapped",[949]],[[120493,120493],"mapped",[950]],[[120494,120494],"mapped",[951]],[[120495,120495],"mapped",[952]],[[120496,120496],"mapped",[953]],[[120497,120497],"mapped",[954]],[[120498,120498],"mapped",[955]],[[120499,120499],"mapped",[956]],[[120500,120500],"mapped",[957]],[[120501,120501],"mapped",[958]],[[120502,120502],"mapped",[959]],[[120503,120503],"mapped",[960]],[[120504,120504],"mapped",[961]],[[120505,120505],"mapped",[952]],[[120506,120506],"mapped",[963]],[[120507,120507],"mapped",[964]],[[120508,120508],"mapped",[965]],[[120509,120509],"mapped",[966]],[[120510,120510],"mapped",[967]],[[120511,120511],"mapped",[968]],[[120512,120512],"mapped",[969]],[[120513,120513],"mapped",[8711]],[[120514,120514],"mapped",[945]],[[120515,120515],"mapped",[946]],[[120516,120516],"mapped",[947]],[[120517,120517],"mapped",[948]],[[120518,120518],"mapped",[949]],[[120519,120519],"mapped",[950]],[[120520,120520],"mapped",[951]],[[120521,120521],"mapped",[952]],[[120522,120522],"mapped",[953]],[[120523,120523],"mapped",[954]],[[120524,120524],"mapped",[955]],[[120525,120525],"mapped",[956]],[[120526,120526],"mapped",[957]],[[120527,120527],"mapped",[958]],[[120528,120528],"mapped",[959]],[[120529,120529],"mapped",[960]],[[120530,120530],"mapped",[961]],[[120531,120532],"mapped",[963]],[[120533,120533],"mapped",[964]],[[120534,120534],"mapped",[965]],[[120535,120535],"mapped",[966]],[[120536,120536],"mapped",[967]],[[120537,120537],"mapped",[968]],[[120538,120538],"mapped",[969]],[[120539,120539],"mapped",[8706]],[[120540,120540],"mapped",[949]],[[120541,120541],"mapped",[952]],[[120542,120542],"mapped",[954]],[[120543,120543],"mapped",[966]],[[120544,120544],"mapped",[961]],[[120545,120545],"mapped",[960]],[[120546,120546],"mapped",[945]],[[120547,120547],"mapped",[946]],[[120548,120548],"mapped",[947]],[[120549,120549],"mapped",[948]],[[120550,120550],"mapped",[949]],[[120551,120551],"mapped",[950]],[[120552,120552],"mapped",[951]],[[120553,120553],"mapped",[952]],[[120554,120554],"mapped",[953]],[[120555,120555],"mapped",[954]],[[120556,120556],"mapped",[955]],[[120557,120557],"mapped",[956]],[[120558,120558],"mapped",[957]],[[120559,120559],"mapped",[958]],[[120560,120560],"mapped",[959]],[[120561,120561],"mapped",[960]],[[120562,120562],"mapped",[961]],[[120563,120563],"mapped",[952]],[[120564,120564],"mapped",[963]],[[120565,120565],"mapped",[964]],[[120566,120566],"mapped",[965]],[[120567,120567],"mapped",[966]],[[120568,120568],"mapped",[967]],[[120569,120569],"mapped",[968]],[[120570,120570],"mapped",[969]],[[120571,120571],"mapped",[8711]],[[120572,120572],"mapped",[945]],[[120573,120573],"mapped",[946]],[[120574,120574],"mapped",[947]],[[120575,120575],"mapped",[948]],[[120576,120576],"mapped",[949]],[[120577,120577],"mapped",[950]],[[120578,120578],"mapped",[951]],[[120579,120579],"mapped",[952]],[[120580,120580],"mapped",[953]],[[120581,120581],"mapped",[954]],[[120582,120582],"mapped",[955]],[[120583,120583],"mapped",[956]],[[120584,120584],"mapped",[957]],[[120585,120585],"mapped",[958]],[[120586,120586],"mapped",[959]],[[120587,120587],"mapped",[960]],[[120588,120588],"mapped",[961]],[[120589,120590],"mapped",[963]],[[120591,120591],"mapped",[964]],[[120592,120592],"mapped",[965]],[[120593,120593],"mapped",[966]],[[120594,120594],"mapped",[967]],[[120595,120595],"mapped",[968]],[[120596,120596],"mapped",[969]],[[120597,120597],"mapped",[8706]],[[120598,120598],"mapped",[949]],[[120599,120599],"mapped",[952]],[[120600,120600],"mapped",[954]],[[120601,120601],"mapped",[966]],[[120602,120602],"mapped",[961]],[[120603,120603],"mapped",[960]],[[120604,120604],"mapped",[945]],[[120605,120605],"mapped",[946]],[[120606,120606],"mapped",[947]],[[120607,120607],"mapped",[948]],[[120608,120608],"mapped",[949]],[[120609,120609],"mapped",[950]],[[120610,120610],"mapped",[951]],[[120611,120611],"mapped",[952]],[[120612,120612],"mapped",[953]],[[120613,120613],"mapped",[954]],[[120614,120614],"mapped",[955]],[[120615,120615],"mapped",[956]],[[120616,120616],"mapped",[957]],[[120617,120617],"mapped",[958]],[[120618,120618],"mapped",[959]],[[120619,120619],"mapped",[960]],[[120620,120620],"mapped",[961]],[[120621,120621],"mapped",[952]],[[120622,120622],"mapped",[963]],[[120623,120623],"mapped",[964]],[[120624,120624],"mapped",[965]],[[120625,120625],"mapped",[966]],[[120626,120626],"mapped",[967]],[[120627,120627],"mapped",[968]],[[120628,120628],"mapped",[969]],[[120629,120629],"mapped",[8711]],[[120630,120630],"mapped",[945]],[[120631,120631],"mapped",[946]],[[120632,120632],"mapped",[947]],[[120633,120633],"mapped",[948]],[[120634,120634],"mapped",[949]],[[120635,120635],"mapped",[950]],[[120636,120636],"mapped",[951]],[[120637,120637],"mapped",[952]],[[120638,120638],"mapped",[953]],[[120639,120639],"mapped",[954]],[[120640,120640],"mapped",[955]],[[120641,120641],"mapped",[956]],[[120642,120642],"mapped",[957]],[[120643,120643],"mapped",[958]],[[120644,120644],"mapped",[959]],[[120645,120645],"mapped",[960]],[[120646,120646],"mapped",[961]],[[120647,120648],"mapped",[963]],[[120649,120649],"mapped",[964]],[[120650,120650],"mapped",[965]],[[120651,120651],"mapped",[966]],[[120652,120652],"mapped",[967]],[[120653,120653],"mapped",[968]],[[120654,120654],"mapped",[969]],[[120655,120655],"mapped",[8706]],[[120656,120656],"mapped",[949]],[[120657,120657],"mapped",[952]],[[120658,120658],"mapped",[954]],[[120659,120659],"mapped",[966]],[[120660,120660],"mapped",[961]],[[120661,120661],"mapped",[960]],[[120662,120662],"mapped",[945]],[[120663,120663],"mapped",[946]],[[120664,120664],"mapped",[947]],[[120665,120665],"mapped",[948]],[[120666,120666],"mapped",[949]],[[120667,120667],"mapped",[950]],[[120668,120668],"mapped",[951]],[[120669,120669],"mapped",[952]],[[120670,120670],"mapped",[953]],[[120671,120671],"mapped",[954]],[[120672,120672],"mapped",[955]],[[120673,120673],"mapped",[956]],[[120674,120674],"mapped",[957]],[[120675,120675],"mapped",[958]],[[120676,120676],"mapped",[959]],[[120677,120677],"mapped",[960]],[[120678,120678],"mapped",[961]],[[120679,120679],"mapped",[952]],[[120680,120680],"mapped",[963]],[[120681,120681],"mapped",[964]],[[120682,120682],"mapped",[965]],[[120683,120683],"mapped",[966]],[[120684,120684],"mapped",[967]],[[120685,120685],"mapped",[968]],[[120686,120686],"mapped",[969]],[[120687,120687],"mapped",[8711]],[[120688,120688],"mapped",[945]],[[120689,120689],"mapped",[946]],[[120690,120690],"mapped",[947]],[[120691,120691],"mapped",[948]],[[120692,120692],"mapped",[949]],[[120693,120693],"mapped",[950]],[[120694,120694],"mapped",[951]],[[120695,120695],"mapped",[952]],[[120696,120696],"mapped",[953]],[[120697,120697],"mapped",[954]],[[120698,120698],"mapped",[955]],[[120699,120699],"mapped",[956]],[[120700,120700],"mapped",[957]],[[120701,120701],"mapped",[958]],[[120702,120702],"mapped",[959]],[[120703,120703],"mapped",[960]],[[120704,120704],"mapped",[961]],[[120705,120706],"mapped",[963]],[[120707,120707],"mapped",[964]],[[120708,120708],"mapped",[965]],[[120709,120709],"mapped",[966]],[[120710,120710],"mapped",[967]],[[120711,120711],"mapped",[968]],[[120712,120712],"mapped",[969]],[[120713,120713],"mapped",[8706]],[[120714,120714],"mapped",[949]],[[120715,120715],"mapped",[952]],[[120716,120716],"mapped",[954]],[[120717,120717],"mapped",[966]],[[120718,120718],"mapped",[961]],[[120719,120719],"mapped",[960]],[[120720,120720],"mapped",[945]],[[120721,120721],"mapped",[946]],[[120722,120722],"mapped",[947]],[[120723,120723],"mapped",[948]],[[120724,120724],"mapped",[949]],[[120725,120725],"mapped",[950]],[[120726,120726],"mapped",[951]],[[120727,120727],"mapped",[952]],[[120728,120728],"mapped",[953]],[[120729,120729],"mapped",[954]],[[120730,120730],"mapped",[955]],[[120731,120731],"mapped",[956]],[[120732,120732],"mapped",[957]],[[120733,120733],"mapped",[958]],[[120734,120734],"mapped",[959]],[[120735,120735],"mapped",[960]],[[120736,120736],"mapped",[961]],[[120737,120737],"mapped",[952]],[[120738,120738],"mapped",[963]],[[120739,120739],"mapped",[964]],[[120740,120740],"mapped",[965]],[[120741,120741],"mapped",[966]],[[120742,120742],"mapped",[967]],[[120743,120743],"mapped",[968]],[[120744,120744],"mapped",[969]],[[120745,120745],"mapped",[8711]],[[120746,120746],"mapped",[945]],[[120747,120747],"mapped",[946]],[[120748,120748],"mapped",[947]],[[120749,120749],"mapped",[948]],[[120750,120750],"mapped",[949]],[[120751,120751],"mapped",[950]],[[120752,120752],"mapped",[951]],[[120753,120753],"mapped",[952]],[[120754,120754],"mapped",[953]],[[120755,120755],"mapped",[954]],[[120756,120756],"mapped",[955]],[[120757,120757],"mapped",[956]],[[120758,120758],"mapped",[957]],[[120759,120759],"mapped",[958]],[[120760,120760],"mapped",[959]],[[120761,120761],"mapped",[960]],[[120762,120762],"mapped",[961]],[[120763,120764],"mapped",[963]],[[120765,120765],"mapped",[964]],[[120766,120766],"mapped",[965]],[[120767,120767],"mapped",[966]],[[120768,120768],"mapped",[967]],[[120769,120769],"mapped",[968]],[[120770,120770],"mapped",[969]],[[120771,120771],"mapped",[8706]],[[120772,120772],"mapped",[949]],[[120773,120773],"mapped",[952]],[[120774,120774],"mapped",[954]],[[120775,120775],"mapped",[966]],[[120776,120776],"mapped",[961]],[[120777,120777],"mapped",[960]],[[120778,120779],"mapped",[989]],[[120780,120781],"disallowed"],[[120782,120782],"mapped",[48]],[[120783,120783],"mapped",[49]],[[120784,120784],"mapped",[50]],[[120785,120785],"mapped",[51]],[[120786,120786],"mapped",[52]],[[120787,120787],"mapped",[53]],[[120788,120788],"mapped",[54]],[[120789,120789],"mapped",[55]],[[120790,120790],"mapped",[56]],[[120791,120791],"mapped",[57]],[[120792,120792],"mapped",[48]],[[120793,120793],"mapped",[49]],[[120794,120794],"mapped",[50]],[[120795,120795],"mapped",[51]],[[120796,120796],"mapped",[52]],[[120797,120797],"mapped",[53]],[[120798,120798],"mapped",[54]],[[120799,120799],"mapped",[55]],[[120800,120800],"mapped",[56]],[[120801,120801],"mapped",[57]],[[120802,120802],"mapped",[48]],[[120803,120803],"mapped",[49]],[[120804,120804],"mapped",[50]],[[120805,120805],"mapped",[51]],[[120806,120806],"mapped",[52]],[[120807,120807],"mapped",[53]],[[120808,120808],"mapped",[54]],[[120809,120809],"mapped",[55]],[[120810,120810],"mapped",[56]],[[120811,120811],"mapped",[57]],[[120812,120812],"mapped",[48]],[[120813,120813],"mapped",[49]],[[120814,120814],"mapped",[50]],[[120815,120815],"mapped",[51]],[[120816,120816],"mapped",[52]],[[120817,120817],"mapped",[53]],[[120818,120818],"mapped",[54]],[[120819,120819],"mapped",[55]],[[120820,120820],"mapped",[56]],[[120821,120821],"mapped",[57]],[[120822,120822],"mapped",[48]],[[120823,120823],"mapped",[49]],[[120824,120824],"mapped",[50]],[[120825,120825],"mapped",[51]],[[120826,120826],"mapped",[52]],[[120827,120827],"mapped",[53]],[[120828,120828],"mapped",[54]],[[120829,120829],"mapped",[55]],[[120830,120830],"mapped",[56]],[[120831,120831],"mapped",[57]],[[120832,121343],"valid",[],"NV8"],[[121344,121398],"valid"],[[121399,121402],"valid",[],"NV8"],[[121403,121452],"valid"],[[121453,121460],"valid",[],"NV8"],[[121461,121461],"valid"],[[121462,121475],"valid",[],"NV8"],[[121476,121476],"valid"],[[121477,121483],"valid",[],"NV8"],[[121484,121498],"disallowed"],[[121499,121503],"valid"],[[121504,121504],"disallowed"],[[121505,121519],"valid"],[[121520,124927],"disallowed"],[[124928,125124],"valid"],[[125125,125126],"disallowed"],[[125127,125135],"valid",[],"NV8"],[[125136,125142],"valid"],[[125143,126463],"disallowed"],[[126464,126464],"mapped",[1575]],[[126465,126465],"mapped",[1576]],[[126466,126466],"mapped",[1580]],[[126467,126467],"mapped",[1583]],[[126468,126468],"disallowed"],[[126469,126469],"mapped",[1608]],[[126470,126470],"mapped",[1586]],[[126471,126471],"mapped",[1581]],[[126472,126472],"mapped",[1591]],[[126473,126473],"mapped",[1610]],[[126474,126474],"mapped",[1603]],[[126475,126475],"mapped",[1604]],[[126476,126476],"mapped",[1605]],[[126477,126477],"mapped",[1606]],[[126478,126478],"mapped",[1587]],[[126479,126479],"mapped",[1593]],[[126480,126480],"mapped",[1601]],[[126481,126481],"mapped",[1589]],[[126482,126482],"mapped",[1602]],[[126483,126483],"mapped",[1585]],[[126484,126484],"mapped",[1588]],[[126485,126485],"mapped",[1578]],[[126486,126486],"mapped",[1579]],[[126487,126487],"mapped",[1582]],[[126488,126488],"mapped",[1584]],[[126489,126489],"mapped",[1590]],[[126490,126490],"mapped",[1592]],[[126491,126491],"mapped",[1594]],[[126492,126492],"mapped",[1646]],[[126493,126493],"mapped",[1722]],[[126494,126494],"mapped",[1697]],[[126495,126495],"mapped",[1647]],[[126496,126496],"disallowed"],[[126497,126497],"mapped",[1576]],[[126498,126498],"mapped",[1580]],[[126499,126499],"disallowed"],[[126500,126500],"mapped",[1607]],[[126501,126502],"disallowed"],[[126503,126503],"mapped",[1581]],[[126504,126504],"disallowed"],[[126505,126505],"mapped",[1610]],[[126506,126506],"mapped",[1603]],[[126507,126507],"mapped",[1604]],[[126508,126508],"mapped",[1605]],[[126509,126509],"mapped",[1606]],[[126510,126510],"mapped",[1587]],[[126511,126511],"mapped",[1593]],[[126512,126512],"mapped",[1601]],[[126513,126513],"mapped",[1589]],[[126514,126514],"mapped",[1602]],[[126515,126515],"disallowed"],[[126516,126516],"mapped",[1588]],[[126517,126517],"mapped",[1578]],[[126518,126518],"mapped",[1579]],[[126519,126519],"mapped",[1582]],[[126520,126520],"disallowed"],[[126521,126521],"mapped",[1590]],[[126522,126522],"disallowed"],[[126523,126523],"mapped",[1594]],[[126524,126529],"disallowed"],[[126530,126530],"mapped",[1580]],[[126531,126534],"disallowed"],[[126535,126535],"mapped",[1581]],[[126536,126536],"disallowed"],[[126537,126537],"mapped",[1610]],[[126538,126538],"disallowed"],[[126539,126539],"mapped",[1604]],[[126540,126540],"disallowed"],[[126541,126541],"mapped",[1606]],[[126542,126542],"mapped",[1587]],[[126543,126543],"mapped",[1593]],[[126544,126544],"disallowed"],[[126545,126545],"mapped",[1589]],[[126546,126546],"mapped",[1602]],[[126547,126547],"disallowed"],[[126548,126548],"mapped",[1588]],[[126549,126550],"disallowed"],[[126551,126551],"mapped",[1582]],[[126552,126552],"disallowed"],[[126553,126553],"mapped",[1590]],[[126554,126554],"disallowed"],[[126555,126555],"mapped",[1594]],[[126556,126556],"disallowed"],[[126557,126557],"mapped",[1722]],[[126558,126558],"disallowed"],[[126559,126559],"mapped",[1647]],[[126560,126560],"disallowed"],[[126561,126561],"mapped",[1576]],[[126562,126562],"mapped",[1580]],[[126563,126563],"disallowed"],[[126564,126564],"mapped",[1607]],[[126565,126566],"disallowed"],[[126567,126567],"mapped",[1581]],[[126568,126568],"mapped",[1591]],[[126569,126569],"mapped",[1610]],[[126570,126570],"mapped",[1603]],[[126571,126571],"disallowed"],[[126572,126572],"mapped",[1605]],[[126573,126573],"mapped",[1606]],[[126574,126574],"mapped",[1587]],[[126575,126575],"mapped",[1593]],[[126576,126576],"mapped",[1601]],[[126577,126577],"mapped",[1589]],[[126578,126578],"mapped",[1602]],[[126579,126579],"disallowed"],[[126580,126580],"mapped",[1588]],[[126581,126581],"mapped",[1578]],[[126582,126582],"mapped",[1579]],[[126583,126583],"mapped",[1582]],[[126584,126584],"disallowed"],[[126585,126585],"mapped",[1590]],[[126586,126586],"mapped",[1592]],[[126587,126587],"mapped",[1594]],[[126588,126588],"mapped",[1646]],[[126589,126589],"disallowed"],[[126590,126590],"mapped",[1697]],[[126591,126591],"disallowed"],[[126592,126592],"mapped",[1575]],[[126593,126593],"mapped",[1576]],[[126594,126594],"mapped",[1580]],[[126595,126595],"mapped",[1583]],[[126596,126596],"mapped",[1607]],[[126597,126597],"mapped",[1608]],[[126598,126598],"mapped",[1586]],[[126599,126599],"mapped",[1581]],[[126600,126600],"mapped",[1591]],[[126601,126601],"mapped",[1610]],[[126602,126602],"disallowed"],[[126603,126603],"mapped",[1604]],[[126604,126604],"mapped",[1605]],[[126605,126605],"mapped",[1606]],[[126606,126606],"mapped",[1587]],[[126607,126607],"mapped",[1593]],[[126608,126608],"mapped",[1601]],[[126609,126609],"mapped",[1589]],[[126610,126610],"mapped",[1602]],[[126611,126611],"mapped",[1585]],[[126612,126612],"mapped",[1588]],[[126613,126613],"mapped",[1578]],[[126614,126614],"mapped",[1579]],[[126615,126615],"mapped",[1582]],[[126616,126616],"mapped",[1584]],[[126617,126617],"mapped",[1590]],[[126618,126618],"mapped",[1592]],[[126619,126619],"mapped",[1594]],[[126620,126624],"disallowed"],[[126625,126625],"mapped",[1576]],[[126626,126626],"mapped",[1580]],[[126627,126627],"mapped",[1583]],[[126628,126628],"disallowed"],[[126629,126629],"mapped",[1608]],[[126630,126630],"mapped",[1586]],[[126631,126631],"mapped",[1581]],[[126632,126632],"mapped",[1591]],[[126633,126633],"mapped",[1610]],[[126634,126634],"disallowed"],[[126635,126635],"mapped",[1604]],[[126636,126636],"mapped",[1605]],[[126637,126637],"mapped",[1606]],[[126638,126638],"mapped",[1587]],[[126639,126639],"mapped",[1593]],[[126640,126640],"mapped",[1601]],[[126641,126641],"mapped",[1589]],[[126642,126642],"mapped",[1602]],[[126643,126643],"mapped",[1585]],[[126644,126644],"mapped",[1588]],[[126645,126645],"mapped",[1578]],[[126646,126646],"mapped",[1579]],[[126647,126647],"mapped",[1582]],[[126648,126648],"mapped",[1584]],[[126649,126649],"mapped",[1590]],[[126650,126650],"mapped",[1592]],[[126651,126651],"mapped",[1594]],[[126652,126703],"disallowed"],[[126704,126705],"valid",[],"NV8"],[[126706,126975],"disallowed"],[[126976,127019],"valid",[],"NV8"],[[127020,127023],"disallowed"],[[127024,127123],"valid",[],"NV8"],[[127124,127135],"disallowed"],[[127136,127150],"valid",[],"NV8"],[[127151,127152],"disallowed"],[[127153,127166],"valid",[],"NV8"],[[127167,127167],"valid",[],"NV8"],[[127168,127168],"disallowed"],[[127169,127183],"valid",[],"NV8"],[[127184,127184],"disallowed"],[[127185,127199],"valid",[],"NV8"],[[127200,127221],"valid",[],"NV8"],[[127222,127231],"disallowed"],[[127232,127232],"disallowed"],[[127233,127233],"disallowed_STD3_mapped",[48,44]],[[127234,127234],"disallowed_STD3_mapped",[49,44]],[[127235,127235],"disallowed_STD3_mapped",[50,44]],[[127236,127236],"disallowed_STD3_mapped",[51,44]],[[127237,127237],"disallowed_STD3_mapped",[52,44]],[[127238,127238],"disallowed_STD3_mapped",[53,44]],[[127239,127239],"disallowed_STD3_mapped",[54,44]],[[127240,127240],"disallowed_STD3_mapped",[55,44]],[[127241,127241],"disallowed_STD3_mapped",[56,44]],[[127242,127242],"disallowed_STD3_mapped",[57,44]],[[127243,127244],"valid",[],"NV8"],[[127245,127247],"disallowed"],[[127248,127248],"disallowed_STD3_mapped",[40,97,41]],[[127249,127249],"disallowed_STD3_mapped",[40,98,41]],[[127250,127250],"disallowed_STD3_mapped",[40,99,41]],[[127251,127251],"disallowed_STD3_mapped",[40,100,41]],[[127252,127252],"disallowed_STD3_mapped",[40,101,41]],[[127253,127253],"disallowed_STD3_mapped",[40,102,41]],[[127254,127254],"disallowed_STD3_mapped",[40,103,41]],[[127255,127255],"disallowed_STD3_mapped",[40,104,41]],[[127256,127256],"disallowed_STD3_mapped",[40,105,41]],[[127257,127257],"disallowed_STD3_mapped",[40,106,41]],[[127258,127258],"disallowed_STD3_mapped",[40,107,41]],[[127259,127259],"disallowed_STD3_mapped",[40,108,41]],[[127260,127260],"disallowed_STD3_mapped",[40,109,41]],[[127261,127261],"disallowed_STD3_mapped",[40,110,41]],[[127262,127262],"disallowed_STD3_mapped",[40,111,41]],[[127263,127263],"disallowed_STD3_mapped",[40,112,41]],[[127264,127264],"disallowed_STD3_mapped",[40,113,41]],[[127265,127265],"disallowed_STD3_mapped",[40,114,41]],[[127266,127266],"disallowed_STD3_mapped",[40,115,41]],[[127267,127267],"disallowed_STD3_mapped",[40,116,41]],[[127268,127268],"disallowed_STD3_mapped",[40,117,41]],[[127269,127269],"disallowed_STD3_mapped",[40,118,41]],[[127270,127270],"disallowed_STD3_mapped",[40,119,41]],[[127271,127271],"disallowed_STD3_mapped",[40,120,41]],[[127272,127272],"disallowed_STD3_mapped",[40,121,41]],[[127273,127273],"disallowed_STD3_mapped",[40,122,41]],[[127274,127274],"mapped",[12308,115,12309]],[[127275,127275],"mapped",[99]],[[127276,127276],"mapped",[114]],[[127277,127277],"mapped",[99,100]],[[127278,127278],"mapped",[119,122]],[[127279,127279],"disallowed"],[[127280,127280],"mapped",[97]],[[127281,127281],"mapped",[98]],[[127282,127282],"mapped",[99]],[[127283,127283],"mapped",[100]],[[127284,127284],"mapped",[101]],[[127285,127285],"mapped",[102]],[[127286,127286],"mapped",[103]],[[127287,127287],"mapped",[104]],[[127288,127288],"mapped",[105]],[[127289,127289],"mapped",[106]],[[127290,127290],"mapped",[107]],[[127291,127291],"mapped",[108]],[[127292,127292],"mapped",[109]],[[127293,127293],"mapped",[110]],[[127294,127294],"mapped",[111]],[[127295,127295],"mapped",[112]],[[127296,127296],"mapped",[113]],[[127297,127297],"mapped",[114]],[[127298,127298],"mapped",[115]],[[127299,127299],"mapped",[116]],[[127300,127300],"mapped",[117]],[[127301,127301],"mapped",[118]],[[127302,127302],"mapped",[119]],[[127303,127303],"mapped",[120]],[[127304,127304],"mapped",[121]],[[127305,127305],"mapped",[122]],[[127306,127306],"mapped",[104,118]],[[127307,127307],"mapped",[109,118]],[[127308,127308],"mapped",[115,100]],[[127309,127309],"mapped",[115,115]],[[127310,127310],"mapped",[112,112,118]],[[127311,127311],"mapped",[119,99]],[[127312,127318],"valid",[],"NV8"],[[127319,127319],"valid",[],"NV8"],[[127320,127326],"valid",[],"NV8"],[[127327,127327],"valid",[],"NV8"],[[127328,127337],"valid",[],"NV8"],[[127338,127338],"mapped",[109,99]],[[127339,127339],"mapped",[109,100]],[[127340,127343],"disallowed"],[[127344,127352],"valid",[],"NV8"],[[127353,127353],"valid",[],"NV8"],[[127354,127354],"valid",[],"NV8"],[[127355,127356],"valid",[],"NV8"],[[127357,127358],"valid",[],"NV8"],[[127359,127359],"valid",[],"NV8"],[[127360,127369],"valid",[],"NV8"],[[127370,127373],"valid",[],"NV8"],[[127374,127375],"valid",[],"NV8"],[[127376,127376],"mapped",[100,106]],[[127377,127386],"valid",[],"NV8"],[[127387,127461],"disallowed"],[[127462,127487],"valid",[],"NV8"],[[127488,127488],"mapped",[12411,12363]],[[127489,127489],"mapped",[12467,12467]],[[127490,127490],"mapped",[12469]],[[127491,127503],"disallowed"],[[127504,127504],"mapped",[25163]],[[127505,127505],"mapped",[23383]],[[127506,127506],"mapped",[21452]],[[127507,127507],"mapped",[12487]],[[127508,127508],"mapped",[20108]],[[127509,127509],"mapped",[22810]],[[127510,127510],"mapped",[35299]],[[127511,127511],"mapped",[22825]],[[127512,127512],"mapped",[20132]],[[127513,127513],"mapped",[26144]],[[127514,127514],"mapped",[28961]],[[127515,127515],"mapped",[26009]],[[127516,127516],"mapped",[21069]],[[127517,127517],"mapped",[24460]],[[127518,127518],"mapped",[20877]],[[127519,127519],"mapped",[26032]],[[127520,127520],"mapped",[21021]],[[127521,127521],"mapped",[32066]],[[127522,127522],"mapped",[29983]],[[127523,127523],"mapped",[36009]],[[127524,127524],"mapped",[22768]],[[127525,127525],"mapped",[21561]],[[127526,127526],"mapped",[28436]],[[127527,127527],"mapped",[25237]],[[127528,127528],"mapped",[25429]],[[127529,127529],"mapped",[19968]],[[127530,127530],"mapped",[19977]],[[127531,127531],"mapped",[36938]],[[127532,127532],"mapped",[24038]],[[127533,127533],"mapped",[20013]],[[127534,127534],"mapped",[21491]],[[127535,127535],"mapped",[25351]],[[127536,127536],"mapped",[36208]],[[127537,127537],"mapped",[25171]],[[127538,127538],"mapped",[31105]],[[127539,127539],"mapped",[31354]],[[127540,127540],"mapped",[21512]],[[127541,127541],"mapped",[28288]],[[127542,127542],"mapped",[26377]],[[127543,127543],"mapped",[26376]],[[127544,127544],"mapped",[30003]],[[127545,127545],"mapped",[21106]],[[127546,127546],"mapped",[21942]],[[127547,127551],"disallowed"],[[127552,127552],"mapped",[12308,26412,12309]],[[127553,127553],"mapped",[12308,19977,12309]],[[127554,127554],"mapped",[12308,20108,12309]],[[127555,127555],"mapped",[12308,23433,12309]],[[127556,127556],"mapped",[12308,28857,12309]],[[127557,127557],"mapped",[12308,25171,12309]],[[127558,127558],"mapped",[12308,30423,12309]],[[127559,127559],"mapped",[12308,21213,12309]],[[127560,127560],"mapped",[12308,25943,12309]],[[127561,127567],"disallowed"],[[127568,127568],"mapped",[24471]],[[127569,127569],"mapped",[21487]],[[127570,127743],"disallowed"],[[127744,127776],"valid",[],"NV8"],[[127777,127788],"valid",[],"NV8"],[[127789,127791],"valid",[],"NV8"],[[127792,127797],"valid",[],"NV8"],[[127798,127798],"valid",[],"NV8"],[[127799,127868],"valid",[],"NV8"],[[127869,127869],"valid",[],"NV8"],[[127870,127871],"valid",[],"NV8"],[[127872,127891],"valid",[],"NV8"],[[127892,127903],"valid",[],"NV8"],[[127904,127940],"valid",[],"NV8"],[[127941,127941],"valid",[],"NV8"],[[127942,127946],"valid",[],"NV8"],[[127947,127950],"valid",[],"NV8"],[[127951,127955],"valid",[],"NV8"],[[127956,127967],"valid",[],"NV8"],[[127968,127984],"valid",[],"NV8"],[[127985,127991],"valid",[],"NV8"],[[127992,127999],"valid",[],"NV8"],[[128e3,128062],"valid",[],"NV8"],[[128063,128063],"valid",[],"NV8"],[[128064,128064],"valid",[],"NV8"],[[128065,128065],"valid",[],"NV8"],[[128066,128247],"valid",[],"NV8"],[[128248,128248],"valid",[],"NV8"],[[128249,128252],"valid",[],"NV8"],[[128253,128254],"valid",[],"NV8"],[[128255,128255],"valid",[],"NV8"],[[128256,128317],"valid",[],"NV8"],[[128318,128319],"valid",[],"NV8"],[[128320,128323],"valid",[],"NV8"],[[128324,128330],"valid",[],"NV8"],[[128331,128335],"valid",[],"NV8"],[[128336,128359],"valid",[],"NV8"],[[128360,128377],"valid",[],"NV8"],[[128378,128378],"disallowed"],[[128379,128419],"valid",[],"NV8"],[[128420,128420],"disallowed"],[[128421,128506],"valid",[],"NV8"],[[128507,128511],"valid",[],"NV8"],[[128512,128512],"valid",[],"NV8"],[[128513,128528],"valid",[],"NV8"],[[128529,128529],"valid",[],"NV8"],[[128530,128532],"valid",[],"NV8"],[[128533,128533],"valid",[],"NV8"],[[128534,128534],"valid",[],"NV8"],[[128535,128535],"valid",[],"NV8"],[[128536,128536],"valid",[],"NV8"],[[128537,128537],"valid",[],"NV8"],[[128538,128538],"valid",[],"NV8"],[[128539,128539],"valid",[],"NV8"],[[128540,128542],"valid",[],"NV8"],[[128543,128543],"valid",[],"NV8"],[[128544,128549],"valid",[],"NV8"],[[128550,128551],"valid",[],"NV8"],[[128552,128555],"valid",[],"NV8"],[[128556,128556],"valid",[],"NV8"],[[128557,128557],"valid",[],"NV8"],[[128558,128559],"valid",[],"NV8"],[[128560,128563],"valid",[],"NV8"],[[128564,128564],"valid",[],"NV8"],[[128565,128576],"valid",[],"NV8"],[[128577,128578],"valid",[],"NV8"],[[128579,128580],"valid",[],"NV8"],[[128581,128591],"valid",[],"NV8"],[[128592,128639],"valid",[],"NV8"],[[128640,128709],"valid",[],"NV8"],[[128710,128719],"valid",[],"NV8"],[[128720,128720],"valid",[],"NV8"],[[128721,128735],"disallowed"],[[128736,128748],"valid",[],"NV8"],[[128749,128751],"disallowed"],[[128752,128755],"valid",[],"NV8"],[[128756,128767],"disallowed"],[[128768,128883],"valid",[],"NV8"],[[128884,128895],"disallowed"],[[128896,128980],"valid",[],"NV8"],[[128981,129023],"disallowed"],[[129024,129035],"valid",[],"NV8"],[[129036,129039],"disallowed"],[[129040,129095],"valid",[],"NV8"],[[129096,129103],"disallowed"],[[129104,129113],"valid",[],"NV8"],[[129114,129119],"disallowed"],[[129120,129159],"valid",[],"NV8"],[[129160,129167],"disallowed"],[[129168,129197],"valid",[],"NV8"],[[129198,129295],"disallowed"],[[129296,129304],"valid",[],"NV8"],[[129305,129407],"disallowed"],[[129408,129412],"valid",[],"NV8"],[[129413,129471],"disallowed"],[[129472,129472],"valid",[],"NV8"],[[129473,131069],"disallowed"],[[131070,131071],"disallowed"],[[131072,173782],"valid"],[[173783,173823],"disallowed"],[[173824,177972],"valid"],[[177973,177983],"disallowed"],[[177984,178205],"valid"],[[178206,178207],"disallowed"],[[178208,183969],"valid"],[[183970,194559],"disallowed"],[[194560,194560],"mapped",[20029]],[[194561,194561],"mapped",[20024]],[[194562,194562],"mapped",[20033]],[[194563,194563],"mapped",[131362]],[[194564,194564],"mapped",[20320]],[[194565,194565],"mapped",[20398]],[[194566,194566],"mapped",[20411]],[[194567,194567],"mapped",[20482]],[[194568,194568],"mapped",[20602]],[[194569,194569],"mapped",[20633]],[[194570,194570],"mapped",[20711]],[[194571,194571],"mapped",[20687]],[[194572,194572],"mapped",[13470]],[[194573,194573],"mapped",[132666]],[[194574,194574],"mapped",[20813]],[[194575,194575],"mapped",[20820]],[[194576,194576],"mapped",[20836]],[[194577,194577],"mapped",[20855]],[[194578,194578],"mapped",[132380]],[[194579,194579],"mapped",[13497]],[[194580,194580],"mapped",[20839]],[[194581,194581],"mapped",[20877]],[[194582,194582],"mapped",[132427]],[[194583,194583],"mapped",[20887]],[[194584,194584],"mapped",[20900]],[[194585,194585],"mapped",[20172]],[[194586,194586],"mapped",[20908]],[[194587,194587],"mapped",[20917]],[[194588,194588],"mapped",[168415]],[[194589,194589],"mapped",[20981]],[[194590,194590],"mapped",[20995]],[[194591,194591],"mapped",[13535]],[[194592,194592],"mapped",[21051]],[[194593,194593],"mapped",[21062]],[[194594,194594],"mapped",[21106]],[[194595,194595],"mapped",[21111]],[[194596,194596],"mapped",[13589]],[[194597,194597],"mapped",[21191]],[[194598,194598],"mapped",[21193]],[[194599,194599],"mapped",[21220]],[[194600,194600],"mapped",[21242]],[[194601,194601],"mapped",[21253]],[[194602,194602],"mapped",[21254]],[[194603,194603],"mapped",[21271]],[[194604,194604],"mapped",[21321]],[[194605,194605],"mapped",[21329]],[[194606,194606],"mapped",[21338]],[[194607,194607],"mapped",[21363]],[[194608,194608],"mapped",[21373]],[[194609,194611],"mapped",[21375]],[[194612,194612],"mapped",[133676]],[[194613,194613],"mapped",[28784]],[[194614,194614],"mapped",[21450]],[[194615,194615],"mapped",[21471]],[[194616,194616],"mapped",[133987]],[[194617,194617],"mapped",[21483]],[[194618,194618],"mapped",[21489]],[[194619,194619],"mapped",[21510]],[[194620,194620],"mapped",[21662]],[[194621,194621],"mapped",[21560]],[[194622,194622],"mapped",[21576]],[[194623,194623],"mapped",[21608]],[[194624,194624],"mapped",[21666]],[[194625,194625],"mapped",[21750]],[[194626,194626],"mapped",[21776]],[[194627,194627],"mapped",[21843]],[[194628,194628],"mapped",[21859]],[[194629,194630],"mapped",[21892]],[[194631,194631],"mapped",[21913]],[[194632,194632],"mapped",[21931]],[[194633,194633],"mapped",[21939]],[[194634,194634],"mapped",[21954]],[[194635,194635],"mapped",[22294]],[[194636,194636],"mapped",[22022]],[[194637,194637],"mapped",[22295]],[[194638,194638],"mapped",[22097]],[[194639,194639],"mapped",[22132]],[[194640,194640],"mapped",[20999]],[[194641,194641],"mapped",[22766]],[[194642,194642],"mapped",[22478]],[[194643,194643],"mapped",[22516]],[[194644,194644],"mapped",[22541]],[[194645,194645],"mapped",[22411]],[[194646,194646],"mapped",[22578]],[[194647,194647],"mapped",[22577]],[[194648,194648],"mapped",[22700]],[[194649,194649],"mapped",[136420]],[[194650,194650],"mapped",[22770]],[[194651,194651],"mapped",[22775]],[[194652,194652],"mapped",[22790]],[[194653,194653],"mapped",[22810]],[[194654,194654],"mapped",[22818]],[[194655,194655],"mapped",[22882]],[[194656,194656],"mapped",[136872]],[[194657,194657],"mapped",[136938]],[[194658,194658],"mapped",[23020]],[[194659,194659],"mapped",[23067]],[[194660,194660],"mapped",[23079]],[[194661,194661],"mapped",[23e3]],[[194662,194662],"mapped",[23142]],[[194663,194663],"mapped",[14062]],[[194664,194664],"disallowed"],[[194665,194665],"mapped",[23304]],[[194666,194667],"mapped",[23358]],[[194668,194668],"mapped",[137672]],[[194669,194669],"mapped",[23491]],[[194670,194670],"mapped",[23512]],[[194671,194671],"mapped",[23527]],[[194672,194672],"mapped",[23539]],[[194673,194673],"mapped",[138008]],[[194674,194674],"mapped",[23551]],[[194675,194675],"mapped",[23558]],[[194676,194676],"disallowed"],[[194677,194677],"mapped",[23586]],[[194678,194678],"mapped",[14209]],[[194679,194679],"mapped",[23648]],[[194680,194680],"mapped",[23662]],[[194681,194681],"mapped",[23744]],[[194682,194682],"mapped",[23693]],[[194683,194683],"mapped",[138724]],[[194684,194684],"mapped",[23875]],[[194685,194685],"mapped",[138726]],[[194686,194686],"mapped",[23918]],[[194687,194687],"mapped",[23915]],[[194688,194688],"mapped",[23932]],[[194689,194689],"mapped",[24033]],[[194690,194690],"mapped",[24034]],[[194691,194691],"mapped",[14383]],[[194692,194692],"mapped",[24061]],[[194693,194693],"mapped",[24104]],[[194694,194694],"mapped",[24125]],[[194695,194695],"mapped",[24169]],[[194696,194696],"mapped",[14434]],[[194697,194697],"mapped",[139651]],[[194698,194698],"mapped",[14460]],[[194699,194699],"mapped",[24240]],[[194700,194700],"mapped",[24243]],[[194701,194701],"mapped",[24246]],[[194702,194702],"mapped",[24266]],[[194703,194703],"mapped",[172946]],[[194704,194704],"mapped",[24318]],[[194705,194706],"mapped",[140081]],[[194707,194707],"mapped",[33281]],[[194708,194709],"mapped",[24354]],[[194710,194710],"mapped",[14535]],[[194711,194711],"mapped",[144056]],[[194712,194712],"mapped",[156122]],[[194713,194713],"mapped",[24418]],[[194714,194714],"mapped",[24427]],[[194715,194715],"mapped",[14563]],[[194716,194716],"mapped",[24474]],[[194717,194717],"mapped",[24525]],[[194718,194718],"mapped",[24535]],[[194719,194719],"mapped",[24569]],[[194720,194720],"mapped",[24705]],[[194721,194721],"mapped",[14650]],[[194722,194722],"mapped",[14620]],[[194723,194723],"mapped",[24724]],[[194724,194724],"mapped",[141012]],[[194725,194725],"mapped",[24775]],[[194726,194726],"mapped",[24904]],[[194727,194727],"mapped",[24908]],[[194728,194728],"mapped",[24910]],[[194729,194729],"mapped",[24908]],[[194730,194730],"mapped",[24954]],[[194731,194731],"mapped",[24974]],[[194732,194732],"mapped",[25010]],[[194733,194733],"mapped",[24996]],[[194734,194734],"mapped",[25007]],[[194735,194735],"mapped",[25054]],[[194736,194736],"mapped",[25074]],[[194737,194737],"mapped",[25078]],[[194738,194738],"mapped",[25104]],[[194739,194739],"mapped",[25115]],[[194740,194740],"mapped",[25181]],[[194741,194741],"mapped",[25265]],[[194742,194742],"mapped",[25300]],[[194743,194743],"mapped",[25424]],[[194744,194744],"mapped",[142092]],[[194745,194745],"mapped",[25405]],[[194746,194746],"mapped",[25340]],[[194747,194747],"mapped",[25448]],[[194748,194748],"mapped",[25475]],[[194749,194749],"mapped",[25572]],[[194750,194750],"mapped",[142321]],[[194751,194751],"mapped",[25634]],[[194752,194752],"mapped",[25541]],[[194753,194753],"mapped",[25513]],[[194754,194754],"mapped",[14894]],[[194755,194755],"mapped",[25705]],[[194756,194756],"mapped",[25726]],[[194757,194757],"mapped",[25757]],[[194758,194758],"mapped",[25719]],[[194759,194759],"mapped",[14956]],[[194760,194760],"mapped",[25935]],[[194761,194761],"mapped",[25964]],[[194762,194762],"mapped",[143370]],[[194763,194763],"mapped",[26083]],[[194764,194764],"mapped",[26360]],[[194765,194765],"mapped",[26185]],[[194766,194766],"mapped",[15129]],[[194767,194767],"mapped",[26257]],[[194768,194768],"mapped",[15112]],[[194769,194769],"mapped",[15076]],[[194770,194770],"mapped",[20882]],[[194771,194771],"mapped",[20885]],[[194772,194772],"mapped",[26368]],[[194773,194773],"mapped",[26268]],[[194774,194774],"mapped",[32941]],[[194775,194775],"mapped",[17369]],[[194776,194776],"mapped",[26391]],[[194777,194777],"mapped",[26395]],[[194778,194778],"mapped",[26401]],[[194779,194779],"mapped",[26462]],[[194780,194780],"mapped",[26451]],[[194781,194781],"mapped",[144323]],[[194782,194782],"mapped",[15177]],[[194783,194783],"mapped",[26618]],[[194784,194784],"mapped",[26501]],[[194785,194785],"mapped",[26706]],[[194786,194786],"mapped",[26757]],[[194787,194787],"mapped",[144493]],[[194788,194788],"mapped",[26766]],[[194789,194789],"mapped",[26655]],[[194790,194790],"mapped",[26900]],[[194791,194791],"mapped",[15261]],[[194792,194792],"mapped",[26946]],[[194793,194793],"mapped",[27043]],[[194794,194794],"mapped",[27114]],[[194795,194795],"mapped",[27304]],[[194796,194796],"mapped",[145059]],[[194797,194797],"mapped",[27355]],[[194798,194798],"mapped",[15384]],[[194799,194799],"mapped",[27425]],[[194800,194800],"mapped",[145575]],[[194801,194801],"mapped",[27476]],[[194802,194802],"mapped",[15438]],[[194803,194803],"mapped",[27506]],[[194804,194804],"mapped",[27551]],[[194805,194805],"mapped",[27578]],[[194806,194806],"mapped",[27579]],[[194807,194807],"mapped",[146061]],[[194808,194808],"mapped",[138507]],[[194809,194809],"mapped",[146170]],[[194810,194810],"mapped",[27726]],[[194811,194811],"mapped",[146620]],[[194812,194812],"mapped",[27839]],[[194813,194813],"mapped",[27853]],[[194814,194814],"mapped",[27751]],[[194815,194815],"mapped",[27926]],[[194816,194816],"mapped",[27966]],[[194817,194817],"mapped",[28023]],[[194818,194818],"mapped",[27969]],[[194819,194819],"mapped",[28009]],[[194820,194820],"mapped",[28024]],[[194821,194821],"mapped",[28037]],[[194822,194822],"mapped",[146718]],[[194823,194823],"mapped",[27956]],[[194824,194824],"mapped",[28207]],[[194825,194825],"mapped",[28270]],[[194826,194826],"mapped",[15667]],[[194827,194827],"mapped",[28363]],[[194828,194828],"mapped",[28359]],[[194829,194829],"mapped",[147153]],[[194830,194830],"mapped",[28153]],[[194831,194831],"mapped",[28526]],[[194832,194832],"mapped",[147294]],[[194833,194833],"mapped",[147342]],[[194834,194834],"mapped",[28614]],[[194835,194835],"mapped",[28729]],[[194836,194836],"mapped",[28702]],[[194837,194837],"mapped",[28699]],[[194838,194838],"mapped",[15766]],[[194839,194839],"mapped",[28746]],[[194840,194840],"mapped",[28797]],[[194841,194841],"mapped",[28791]],[[194842,194842],"mapped",[28845]],[[194843,194843],"mapped",[132389]],[[194844,194844],"mapped",[28997]],[[194845,194845],"mapped",[148067]],[[194846,194846],"mapped",[29084]],[[194847,194847],"disallowed"],[[194848,194848],"mapped",[29224]],[[194849,194849],"mapped",[29237]],[[194850,194850],"mapped",[29264]],[[194851,194851],"mapped",[149e3]],[[194852,194852],"mapped",[29312]],[[194853,194853],"mapped",[29333]],[[194854,194854],"mapped",[149301]],[[194855,194855],"mapped",[149524]],[[194856,194856],"mapped",[29562]],[[194857,194857],"mapped",[29579]],[[194858,194858],"mapped",[16044]],[[194859,194859],"mapped",[29605]],[[194860,194861],"mapped",[16056]],[[194862,194862],"mapped",[29767]],[[194863,194863],"mapped",[29788]],[[194864,194864],"mapped",[29809]],[[194865,194865],"mapped",[29829]],[[194866,194866],"mapped",[29898]],[[194867,194867],"mapped",[16155]],[[194868,194868],"mapped",[29988]],[[194869,194869],"mapped",[150582]],[[194870,194870],"mapped",[30014]],[[194871,194871],"mapped",[150674]],[[194872,194872],"mapped",[30064]],[[194873,194873],"mapped",[139679]],[[194874,194874],"mapped",[30224]],[[194875,194875],"mapped",[151457]],[[194876,194876],"mapped",[151480]],[[194877,194877],"mapped",[151620]],[[194878,194878],"mapped",[16380]],[[194879,194879],"mapped",[16392]],[[194880,194880],"mapped",[30452]],[[194881,194881],"mapped",[151795]],[[194882,194882],"mapped",[151794]],[[194883,194883],"mapped",[151833]],[[194884,194884],"mapped",[151859]],[[194885,194885],"mapped",[30494]],[[194886,194887],"mapped",[30495]],[[194888,194888],"mapped",[30538]],[[194889,194889],"mapped",[16441]],[[194890,194890],"mapped",[30603]],[[194891,194891],"mapped",[16454]],[[194892,194892],"mapped",[16534]],[[194893,194893],"mapped",[152605]],[[194894,194894],"mapped",[30798]],[[194895,194895],"mapped",[30860]],[[194896,194896],"mapped",[30924]],[[194897,194897],"mapped",[16611]],[[194898,194898],"mapped",[153126]],[[194899,194899],"mapped",[31062]],[[194900,194900],"mapped",[153242]],[[194901,194901],"mapped",[153285]],[[194902,194902],"mapped",[31119]],[[194903,194903],"mapped",[31211]],[[194904,194904],"mapped",[16687]],[[194905,194905],"mapped",[31296]],[[194906,194906],"mapped",[31306]],[[194907,194907],"mapped",[31311]],[[194908,194908],"mapped",[153980]],[[194909,194910],"mapped",[154279]],[[194911,194911],"disallowed"],[[194912,194912],"mapped",[16898]],[[194913,194913],"mapped",[154539]],[[194914,194914],"mapped",[31686]],[[194915,194915],"mapped",[31689]],[[194916,194916],"mapped",[16935]],[[194917,194917],"mapped",[154752]],[[194918,194918],"mapped",[31954]],[[194919,194919],"mapped",[17056]],[[194920,194920],"mapped",[31976]],[[194921,194921],"mapped",[31971]],[[194922,194922],"mapped",[32e3]],[[194923,194923],"mapped",[155526]],[[194924,194924],"mapped",[32099]],[[194925,194925],"mapped",[17153]],[[194926,194926],"mapped",[32199]],[[194927,194927],"mapped",[32258]],[[194928,194928],"mapped",[32325]],[[194929,194929],"mapped",[17204]],[[194930,194930],"mapped",[156200]],[[194931,194931],"mapped",[156231]],[[194932,194932],"mapped",[17241]],[[194933,194933],"mapped",[156377]],[[194934,194934],"mapped",[32634]],[[194935,194935],"mapped",[156478]],[[194936,194936],"mapped",[32661]],[[194937,194937],"mapped",[32762]],[[194938,194938],"mapped",[32773]],[[194939,194939],"mapped",[156890]],[[194940,194940],"mapped",[156963]],[[194941,194941],"mapped",[32864]],[[194942,194942],"mapped",[157096]],[[194943,194943],"mapped",[32880]],[[194944,194944],"mapped",[144223]],[[194945,194945],"mapped",[17365]],[[194946,194946],"mapped",[32946]],[[194947,194947],"mapped",[33027]],[[194948,194948],"mapped",[17419]],[[194949,194949],"mapped",[33086]],[[194950,194950],"mapped",[23221]],[[194951,194951],"mapped",[157607]],[[194952,194952],"mapped",[157621]],[[194953,194953],"mapped",[144275]],[[194954,194954],"mapped",[144284]],[[194955,194955],"mapped",[33281]],[[194956,194956],"mapped",[33284]],[[194957,194957],"mapped",[36766]],[[194958,194958],"mapped",[17515]],[[194959,194959],"mapped",[33425]],[[194960,194960],"mapped",[33419]],[[194961,194961],"mapped",[33437]],[[194962,194962],"mapped",[21171]],[[194963,194963],"mapped",[33457]],[[194964,194964],"mapped",[33459]],[[194965,194965],"mapped",[33469]],[[194966,194966],"mapped",[33510]],[[194967,194967],"mapped",[158524]],[[194968,194968],"mapped",[33509]],[[194969,194969],"mapped",[33565]],[[194970,194970],"mapped",[33635]],[[194971,194971],"mapped",[33709]],[[194972,194972],"mapped",[33571]],[[194973,194973],"mapped",[33725]],[[194974,194974],"mapped",[33767]],[[194975,194975],"mapped",[33879]],[[194976,194976],"mapped",[33619]],[[194977,194977],"mapped",[33738]],[[194978,194978],"mapped",[33740]],[[194979,194979],"mapped",[33756]],[[194980,194980],"mapped",[158774]],[[194981,194981],"mapped",[159083]],[[194982,194982],"mapped",[158933]],[[194983,194983],"mapped",[17707]],[[194984,194984],"mapped",[34033]],[[194985,194985],"mapped",[34035]],[[194986,194986],"mapped",[34070]],[[194987,194987],"mapped",[160714]],[[194988,194988],"mapped",[34148]],[[194989,194989],"mapped",[159532]],[[194990,194990],"mapped",[17757]],[[194991,194991],"mapped",[17761]],[[194992,194992],"mapped",[159665]],[[194993,194993],"mapped",[159954]],[[194994,194994],"mapped",[17771]],[[194995,194995],"mapped",[34384]],[[194996,194996],"mapped",[34396]],[[194997,194997],"mapped",[34407]],[[194998,194998],"mapped",[34409]],[[194999,194999],"mapped",[34473]],[[195e3,195e3],"mapped",[34440]],[[195001,195001],"mapped",[34574]],[[195002,195002],"mapped",[34530]],[[195003,195003],"mapped",[34681]],[[195004,195004],"mapped",[34600]],[[195005,195005],"mapped",[34667]],[[195006,195006],"mapped",[34694]],[[195007,195007],"disallowed"],[[195008,195008],"mapped",[34785]],[[195009,195009],"mapped",[34817]],[[195010,195010],"mapped",[17913]],[[195011,195011],"mapped",[34912]],[[195012,195012],"mapped",[34915]],[[195013,195013],"mapped",[161383]],[[195014,195014],"mapped",[35031]],[[195015,195015],"mapped",[35038]],[[195016,195016],"mapped",[17973]],[[195017,195017],"mapped",[35066]],[[195018,195018],"mapped",[13499]],[[195019,195019],"mapped",[161966]],[[195020,195020],"mapped",[162150]],[[195021,195021],"mapped",[18110]],[[195022,195022],"mapped",[18119]],[[195023,195023],"mapped",[35488]],[[195024,195024],"mapped",[35565]],[[195025,195025],"mapped",[35722]],[[195026,195026],"mapped",[35925]],[[195027,195027],"mapped",[162984]],[[195028,195028],"mapped",[36011]],[[195029,195029],"mapped",[36033]],[[195030,195030],"mapped",[36123]],[[195031,195031],"mapped",[36215]],[[195032,195032],"mapped",[163631]],[[195033,195033],"mapped",[133124]],[[195034,195034],"mapped",[36299]],[[195035,195035],"mapped",[36284]],[[195036,195036],"mapped",[36336]],[[195037,195037],"mapped",[133342]],[[195038,195038],"mapped",[36564]],[[195039,195039],"mapped",[36664]],[[195040,195040],"mapped",[165330]],[[195041,195041],"mapped",[165357]],[[195042,195042],"mapped",[37012]],[[195043,195043],"mapped",[37105]],[[195044,195044],"mapped",[37137]],[[195045,195045],"mapped",[165678]],[[195046,195046],"mapped",[37147]],[[195047,195047],"mapped",[37432]],[[195048,195048],"mapped",[37591]],[[195049,195049],"mapped",[37592]],[[195050,195050],"mapped",[37500]],[[195051,195051],"mapped",[37881]],[[195052,195052],"mapped",[37909]],[[195053,195053],"mapped",[166906]],[[195054,195054],"mapped",[38283]],[[195055,195055],"mapped",[18837]],[[195056,195056],"mapped",[38327]],[[195057,195057],"mapped",[167287]],[[195058,195058],"mapped",[18918]],[[195059,195059],"mapped",[38595]],[[195060,195060],"mapped",[23986]],[[195061,195061],"mapped",[38691]],[[195062,195062],"mapped",[168261]],[[195063,195063],"mapped",[168474]],[[195064,195064],"mapped",[19054]],[[195065,195065],"mapped",[19062]],[[195066,195066],"mapped",[38880]],[[195067,195067],"mapped",[168970]],[[195068,195068],"mapped",[19122]],[[195069,195069],"mapped",[169110]],[[195070,195071],"mapped",[38923]],[[195072,195072],"mapped",[38953]],[[195073,195073],"mapped",[169398]],[[195074,195074],"mapped",[39138]],[[195075,195075],"mapped",[19251]],[[195076,195076],"mapped",[39209]],[[195077,195077],"mapped",[39335]],[[195078,195078],"mapped",[39362]],[[195079,195079],"mapped",[39422]],[[195080,195080],"mapped",[19406]],[[195081,195081],"mapped",[170800]],[[195082,195082],"mapped",[39698]],[[195083,195083],"mapped",[4e4]],[[195084,195084],"mapped",[40189]],[[195085,195085],"mapped",[19662]],[[195086,195086],"mapped",[19693]],[[195087,195087],"mapped",[40295]],[[195088,195088],"mapped",[172238]],[[195089,195089],"mapped",[19704]],[[195090,195090],"mapped",[172293]],[[195091,195091],"mapped",[172558]],[[195092,195092],"mapped",[172689]],[[195093,195093],"mapped",[40635]],[[195094,195094],"mapped",[19798]],[[195095,195095],"mapped",[40697]],[[195096,195096],"mapped",[40702]],[[195097,195097],"mapped",[40709]],[[195098,195098],"mapped",[40719]],[[195099,195099],"mapped",[40726]],[[195100,195100],"mapped",[40763]],[[195101,195101],"mapped",[173568]],[[195102,196605],"disallowed"],[[196606,196607],"disallowed"],[[196608,262141],"disallowed"],[[262142,262143],"disallowed"],[[262144,327677],"disallowed"],[[327678,327679],"disallowed"],[[327680,393213],"disallowed"],[[393214,393215],"disallowed"],[[393216,458749],"disallowed"],[[458750,458751],"disallowed"],[[458752,524285],"disallowed"],[[524286,524287],"disallowed"],[[524288,589821],"disallowed"],[[589822,589823],"disallowed"],[[589824,655357],"disallowed"],[[655358,655359],"disallowed"],[[655360,720893],"disallowed"],[[720894,720895],"disallowed"],[[720896,786429],"disallowed"],[[786430,786431],"disallowed"],[[786432,851965],"disallowed"],[[851966,851967],"disallowed"],[[851968,917501],"disallowed"],[[917502,917503],"disallowed"],[[917504,917504],"disallowed"],[[917505,917505],"disallowed"],[[917506,917535],"disallowed"],[[917536,917631],"disallowed"],[[917632,917759],"disallowed"],[[917760,917999],"ignored"],[[918e3,983037],"disallowed"],[[983038,983039],"disallowed"],[[983040,1048573],"disallowed"],[[1048574,1048575],"disallowed"],[[1048576,1114109],"disallowed"],[[1114110,1114111],"disallowed"]]});var AGe=Le((Lxn,dD)=>{"use strict";var _Ge=St("punycode"),vGe=bGe(),kS={TRANSITIONAL:0,NONTRANSITIONAL:1};function SGe(t){return t.split("\0").map(function(e){return e.normalize("NFC")}).join("\0")}function wGe(t){for(var e=0,r=vGe.length-1;e<=r;){var n=Math.floor((e+r)/2),i=vGe[n];if(i[0][0]<=t&&i[0][1]>=t)return i;i[0][0]>t?r=n-1:e=n+1}return null}var Akt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function xGe(t){return t.replace(Akt,"_").length}function Ekt(t,e,r){for(var n=!1,i="",o=xGe(t),s=0;s<o;++s){var a=t.codePointAt(s),c=wGe(a);switch(c[1]){case"disallowed":n=!0,i+=String.fromCodePoint(a);break;case"ignored":break;case"mapped":i+=String.fromCodePoint.apply(String,c[2]);break;case"deviation":r===kS.TRANSITIONAL?i+=String.fromCodePoint.apply(String,c[2]):i+=String.fromCodePoint(a);break;case"valid":i+=String.fromCodePoint(a);break;case"disallowed_STD3_mapped":e?(n=!0,i+=String.fromCodePoint(a)):i+=String.fromCodePoint.apply(String,c[2]);break;case"disallowed_STD3_valid":e&&(n=!0),i+=String.fromCodePoint(a);break}}return{string:i,error:n}}var Rkt=/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E4-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2D]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC7F-\uDC82\uDCB0-\uDCBA\uDD00-\uDD02\uDD27-\uDD34\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDE2C-\uDE37\uDEDF-\uDEEA\uDF01-\uDF03\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDE30-\uDE40\uDEAB-\uDEB7]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF51-\uDF7E\uDF8F-\uDF92]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD83A[\uDCD0-\uDCD6]|\uDB40[\uDD00-\uDDEF]/;function Tkt(t,e){t.substr(0,4)==="xn--"&&(t=_Ge.toUnicode(t),e=kS.NONTRANSITIONAL);var r=!1;(SGe(t)!==t||t[3]==="-"&&t[4]==="-"||t[0]==="-"||t[t.length-1]==="-"||t.indexOf(".")!==-1||t.search(Rkt)===0)&&(r=!0);for(var n=xGe(t),i=0;i<n;++i){var o=wGe(t.codePointAt(i));if(uD===kS.TRANSITIONAL&&o[1]!=="valid"||uD===kS.NONTRANSITIONAL&&o[1]!=="valid"&&o[1]!=="deviation"){r=!0;break}}return{label:t,error:r}}function uD(t,e,r){var n=Ekt(t,e,r);n.string=SGe(n.string);for(var i=n.string.split("."),o=0;o<i.length;++o)try{var s=Tkt(i[o]);i[o]=s.label,n.error=n.error||s.error}catch{n.error=!0}return{string:i.join("."),error:n.error}}dD.exports.toASCII=function(t,e,r,n){var i=uD(t,e,r),o=i.string.split(".");if(o=o.map(function(c){try{return _Ge.toASCII(c)}catch{return i.error=!0,c}}),n){var s=o.slice(0,o.length-1).join(".").length;(s.length>253||s.length===0)&&(i.error=!0);for(var a=0;a<o.length;++a)if(o.length>63||o.length===0){i.error=!0;break}}return i.error?null:o.join(".")};dD.exports.toUnicode=function(t,e){var r=uD(t,e,kS.NONTRANSITIONAL);return{domain:r.string,error:r.error}};dD.exports.PROCESSING_OPTIONS=kS});var Pd=Le((Bxn,Ka)=>{"use strict";var DS=St("punycode"),EGe=AGe(),CGe={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443},cr=Symbol("failure");function RGe(t){return DS.ucs2.decode(t).length}function TGe(t,e){let r=t[e];return isNaN(r)?void 0:String.fromCodePoint(r)}function cR(t){return t>=48&&t<=57}function lR(t){return t>=65&&t<=90||t>=97&&t<=122}function Ikt(t){return lR(t)||cR(t)}function mu(t){return cR(t)||t>=65&&t<=70||t>=97&&t<=102}function IGe(t){return t==="."||t.toLowerCase()==="%2e"}function Ckt(t){return t=t.toLowerCase(),t===".."||t==="%2e."||t===".%2e"||t==="%2e%2e"}function Okt(t,e){return lR(t)&&(e===58||e===124)}function OGe(t){return t.length===2&&lR(t.codePointAt(0))&&(t[1]===":"||t[1]==="|")}function Nkt(t){return t.length===2&&lR(t.codePointAt(0))&&t[1]===":"}function Pkt(t){return t.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|%|\/|:|\?|@|\[|\\|\]/)!==-1}function kkt(t){return t.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|\?|@|\[|\\|\]/)!==-1}function hae(t){return CGe[t]!==void 0}function Hi(t){return hae(t.scheme)}function Dkt(t){return CGe[t]}function NGe(t){let e=t.toString(16).toUpperCase();return e.length===1&&(e="0"+e),"%"+e}function Mkt(t){let e=new Buffer(t),r="";for(let n=0;n<e.length;++n)r+=NGe(e[n]);return r}function $kt(t){let e=new Buffer(t),r=[];for(let n=0;n<e.length;++n)e[n]!==37?r.push(e[n]):e[n]===37&&mu(e[n+1])&&mu(e[n+2])?(r.push(parseInt(e.slice(n+1,n+3).toString(),16)),n+=2):r.push(e[n]);return new Buffer(r).toString()}function pD(t){return t<=31||t>126}var Lkt=new Set([32,34,35,60,62,63,96,123,125]);function PGe(t){return pD(t)||Lkt.has(t)}var Bkt=new Set([47,58,59,61,64,91,92,93,94,124]);function yae(t){return PGe(t)||Bkt.has(t)}function $y(t,e){let r=String.fromCodePoint(t);return e(t)?Mkt(r):r}function Ukt(t){let e=10;return t.length>=2&&t.charAt(0)==="0"&&t.charAt(1).toLowerCase()==="x"?(t=t.substring(2),e=16):t.length>=2&&t.charAt(0)==="0"&&(t=t.substring(1),e=8),t===""?0:(e===10?/[^0-9]/:e===16?/[^0-9A-Fa-f]/:/[^0-7]/).test(t)?cr:parseInt(t,e)}function Fkt(t){let e=t.split(".");if(e[e.length-1]===""&&e.length>1&&e.pop(),e.length>4)return t;let r=[];for(let o of e){if(o==="")return t;let s=Ukt(o);if(s===cr)return t;r.push(s)}for(let o=0;o<r.length-1;++o)if(r[o]>255)return cr;if(r[r.length-1]>=Math.pow(256,5-r.length))return cr;let n=r.pop(),i=0;for(let o of r)n+=o*Math.pow(256,3-i),++i;return n}function zkt(t){let e="",r=t;for(let n=1;n<=4;++n)e=String(r%256)+e,n!==4&&(e="."+e),r=Math.floor(r/256);return e}function Vkt(t){let e=[0,0,0,0,0,0,0,0],r=0,n=null,i=0;if(t=DS.ucs2.decode(t),t[i]===58){if(t[i+1]!==58)return cr;i+=2,++r,n=r}for(;i<t.length;){if(r===8)return cr;if(t[i]===58){if(n!==null)return cr;++i,++r,n=r;continue}let o=0,s=0;for(;s<4&&mu(t[i]);)o=o*16+parseInt(TGe(t,i),16),++i,++s;if(t[i]===46){if(s===0||(i-=s,r>6))return cr;let a=0;for(;t[i]!==void 0;){let c=null;if(a>0)if(t[i]===46&&a<4)++i;else return cr;if(!cR(t[i]))return cr;for(;cR(t[i]);){let l=parseInt(TGe(t,i));if(c===null)c=l;else{if(c===0)return cr;c=c*10+l}if(c>255)return cr;++i}e[r]=e[r]*256+c,++a,(a===2||a===4)&&++r}if(a!==4)return cr;break}else if(t[i]===58){if(++i,t[i]===void 0)return cr}else if(t[i]!==void 0)return cr;e[r]=o,++r}if(n!==null){let o=r-n;for(r=7;r!==0&&o>0;){let s=e[n+o-1];e[n+o-1]=e[r],e[r]=s,--r,--o}}else if(n===null&&r!==8)return cr;return e}function jkt(t){let e="",n=Hkt(t).idx,i=!1;for(let o=0;o<=7;++o)if(!(i&&t[o]===0)){if(i&&(i=!1),n===o){e+=o===0?"::":":",i=!0;continue}e+=t[o].toString(16),o!==7&&(e+=":")}return e}function gae(t,e){if(t[0]==="[")return t[t.length-1]!=="]"?cr:Vkt(t.substring(1,t.length-1));if(!e)return qkt(t);let r=$kt(t),n=EGe.toASCII(r,!1,EGe.PROCESSING_OPTIONS.NONTRANSITIONAL,!1);if(n===null||Pkt(n))return cr;let i=Fkt(n);return typeof i=="number"||i===cr?i:n}function qkt(t){if(kkt(t))return cr;let e="",r=DS.ucs2.decode(t);for(let n=0;n<r.length;++n)e+=$y(r[n],pD);return e}function Hkt(t){let e=null,r=1,n=null,i=0;for(let o=0;o<t.length;++o)t[o]!==0?(i>r&&(e=n,r=i),n=null,i=0):(n===null&&(n=o),++i);return i>r&&(e=n,r=i),{idx:e,len:r}}function bae(t){return typeof t=="number"?zkt(t):t instanceof Array?"["+jkt(t)+"]":t}function Wkt(t){return t.replace(/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/g,"")}function Gkt(t){return t.replace(/\u0009|\u000A|\u000D/g,"")}function kGe(t){let e=t.path;e.length!==0&&(t.scheme==="file"&&e.length===1&&Ykt(e[0])||e.pop())}function DGe(t){return t.username!==""||t.password!==""}function Kkt(t){return t.host===null||t.host===""||t.cannotBeABaseURL||t.scheme==="file"}function Ykt(t){return/^[A-Za-z]:$/.test(t)}function ei(t,e,r,n,i){if(this.pointer=0,this.input=t,this.base=e||null,this.encodingOverride=r||"utf-8",this.stateOverride=i,this.url=n,this.failure=!1,this.parseError=!1,!this.url){this.url={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,cannotBeABaseURL:!1};let s=Wkt(this.input);s!==this.input&&(this.parseError=!0),this.input=s}let o=Gkt(this.input);for(o!==this.input&&(this.parseError=!0),this.input=o,this.state=i||"scheme start",this.buffer="",this.atFlag=!1,this.arrFlag=!1,this.passwordTokenSeenFlag=!1,this.input=DS.ucs2.decode(this.input);this.pointer<=this.input.length;++this.pointer){let s=this.input[this.pointer],a=isNaN(s)?void 0:String.fromCodePoint(s),c=this["parse "+this.state](s,a);if(c){if(c===cr){this.failure=!0;break}}else break}}ei.prototype["parse scheme start"]=function(e,r){if(lR(e))this.buffer+=r.toLowerCase(),this.state="scheme";else if(!this.stateOverride)this.state="no scheme",--this.pointer;else return this.parseError=!0,cr;return!0};ei.prototype["parse scheme"]=function(e,r){if(Ikt(e)||e===43||e===45||e===46)this.buffer+=r.toLowerCase();else if(e===58){if(this.stateOverride&&(Hi(this.url)&&!hae(this.buffer)||!Hi(this.url)&&hae(this.buffer)||(DGe(this.url)||this.url.port!==null)&&this.buffer==="file"||this.url.scheme==="file"&&(this.url.host===""||this.url.host===null))||(this.url.scheme=this.buffer,this.buffer="",this.stateOverride))return!1;this.url.scheme==="file"?((this.input[this.pointer+1]!==47||this.input[this.pointer+2]!==47)&&(this.parseError=!0),this.state="file"):Hi(this.url)&&this.base!==null&&this.base.scheme===this.url.scheme?this.state="special relative or authority":Hi(this.url)?this.state="special authority slashes":this.input[this.pointer+1]===47?(this.state="path or authority",++this.pointer):(this.url.cannotBeABaseURL=!0,this.url.path.push(""),this.state="cannot-be-a-base-URL path")}else if(!this.stateOverride)this.buffer="",this.state="no scheme",this.pointer=-1;else return this.parseError=!0,cr;return!0};ei.prototype["parse no scheme"]=function(e){return this.base===null||this.base.cannotBeABaseURL&&e!==35?cr:(this.base.cannotBeABaseURL&&e===35?(this.url.scheme=this.base.scheme,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.url.cannotBeABaseURL=!0,this.state="fragment"):this.base.scheme==="file"?(this.state="file",--this.pointer):(this.state="relative",--this.pointer),!0)};ei.prototype["parse special relative or authority"]=function(e){return e===47&&this.input[this.pointer+1]===47?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="relative",--this.pointer),!0};ei.prototype["parse path or authority"]=function(e){return e===47?this.state="authority":(this.state="path",--this.pointer),!0};ei.prototype["parse relative"]=function(e){return this.url.scheme=this.base.scheme,isNaN(e)?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query):e===47?this.state="relative slash":e===63?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):e===35?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):Hi(this.url)&&e===92?(this.parseError=!0,this.state="relative slash"):(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(0,this.base.path.length-1),this.state="path",--this.pointer),!0};ei.prototype["parse relative slash"]=function(e){return Hi(this.url)&&(e===47||e===92)?(e===92&&(this.parseError=!0),this.state="special authority ignore slashes"):e===47?this.state="authority":(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.state="path",--this.pointer),!0};ei.prototype["parse special authority slashes"]=function(e){return e===47&&this.input[this.pointer+1]===47?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="special authority ignore slashes",--this.pointer),!0};ei.prototype["parse special authority ignore slashes"]=function(e){return e!==47&&e!==92?(this.state="authority",--this.pointer):this.parseError=!0,!0};ei.prototype["parse authority"]=function(e,r){if(e===64){this.parseError=!0,this.atFlag&&(this.buffer="%40"+this.buffer),this.atFlag=!0;let n=RGe(this.buffer);for(let i=0;i<n;++i){let o=this.buffer.codePointAt(i);if(o===58&&!this.passwordTokenSeenFlag){this.passwordTokenSeenFlag=!0;continue}let s=$y(o,yae);this.passwordTokenSeenFlag?this.url.password+=s:this.url.username+=s}this.buffer=""}else if(isNaN(e)||e===47||e===63||e===35||Hi(this.url)&&e===92){if(this.atFlag&&this.buffer==="")return this.parseError=!0,cr;this.pointer-=RGe(this.buffer)+1,this.buffer="",this.state="host"}else this.buffer+=r;return!0};ei.prototype["parse hostname"]=ei.prototype["parse host"]=function(e,r){if(this.stateOverride&&this.url.scheme==="file")--this.pointer,this.state="file host";else if(e===58&&!this.arrFlag){if(this.buffer==="")return this.parseError=!0,cr;let n=gae(this.buffer,Hi(this.url));if(n===cr)return cr;if(this.url.host=n,this.buffer="",this.state="port",this.stateOverride==="hostname")return!1}else if(isNaN(e)||e===47||e===63||e===35||Hi(this.url)&&e===92){if(--this.pointer,Hi(this.url)&&this.buffer==="")return this.parseError=!0,cr;if(this.stateOverride&&this.buffer===""&&(DGe(this.url)||this.url.port!==null))return this.parseError=!0,!1;let n=gae(this.buffer,Hi(this.url));if(n===cr)return cr;if(this.url.host=n,this.buffer="",this.state="path start",this.stateOverride)return!1}else e===91?this.arrFlag=!0:e===93&&(this.arrFlag=!1),this.buffer+=r;return!0};ei.prototype["parse port"]=function(e,r){if(cR(e))this.buffer+=r;else if(isNaN(e)||e===47||e===63||e===35||Hi(this.url)&&e===92||this.stateOverride){if(this.buffer!==""){let n=parseInt(this.buffer);if(n>Math.pow(2,16)-1)return this.parseError=!0,cr;this.url.port=n===Dkt(this.url.scheme)?null:n,this.buffer=""}if(this.stateOverride)return!1;this.state="path start",--this.pointer}else return this.parseError=!0,cr;return!0};var Jkt=new Set([47,92,63,35]);ei.prototype["parse file"]=function(e){return this.url.scheme="file",e===47||e===92?(e===92&&(this.parseError=!0),this.state="file slash"):this.base!==null&&this.base.scheme==="file"?isNaN(e)?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query):e===63?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):e===35?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):(this.input.length-this.pointer-1===0||!Okt(e,this.input[this.pointer+1])||this.input.length-this.pointer-1>=2&&!Jkt.has(this.input[this.pointer+2])?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),kGe(this.url)):this.parseError=!0,this.state="path",--this.pointer):(this.state="path",--this.pointer),!0};ei.prototype["parse file slash"]=function(e){return e===47||e===92?(e===92&&(this.parseError=!0),this.state="file host"):(this.base!==null&&this.base.scheme==="file"&&(Nkt(this.base.path[0])?this.url.path.push(this.base.path[0]):this.url.host=this.base.host),this.state="path",--this.pointer),!0};ei.prototype["parse file host"]=function(e,r){if(isNaN(e)||e===47||e===92||e===63||e===35)if(--this.pointer,!this.stateOverride&&OGe(this.buffer))this.parseError=!0,this.state="path";else if(this.buffer===""){if(this.url.host="",this.stateOverride)return!1;this.state="path start"}else{let n=gae(this.buffer,Hi(this.url));if(n===cr)return cr;if(n==="localhost"&&(n=""),this.url.host=n,this.stateOverride)return!1;this.buffer="",this.state="path start"}else this.buffer+=r;return!0};ei.prototype["parse path start"]=function(e){return Hi(this.url)?(e===92&&(this.parseError=!0),this.state="path",e!==47&&e!==92&&--this.pointer):!this.stateOverride&&e===63?(this.url.query="",this.state="query"):!this.stateOverride&&e===35?(this.url.fragment="",this.state="fragment"):e!==void 0&&(this.state="path",e!==47&&--this.pointer),!0};ei.prototype["parse path"]=function(e){if(isNaN(e)||e===47||Hi(this.url)&&e===92||!this.stateOverride&&(e===63||e===35)){if(Hi(this.url)&&e===92&&(this.parseError=!0),Ckt(this.buffer)?(kGe(this.url),e!==47&&!(Hi(this.url)&&e===92)&&this.url.path.push("")):IGe(this.buffer)&&e!==47&&!(Hi(this.url)&&e===92)?this.url.path.push(""):IGe(this.buffer)||(this.url.scheme==="file"&&this.url.path.length===0&&OGe(this.buffer)&&(this.url.host!==""&&this.url.host!==null&&(this.parseError=!0,this.url.host=""),this.buffer=this.buffer[0]+":"),this.url.path.push(this.buffer)),this.buffer="",this.url.scheme==="file"&&(e===void 0||e===63||e===35))for(;this.url.path.length>1&&this.url.path[0]==="";)this.parseError=!0,this.url.path.shift();e===63&&(this.url.query="",this.state="query"),e===35&&(this.url.fragment="",this.state="fragment")}else e===37&&(!mu(this.input[this.pointer+1])||!mu(this.input[this.pointer+2]))&&(this.parseError=!0),this.buffer+=$y(e,PGe);return!0};ei.prototype["parse cannot-be-a-base-URL path"]=function(e){return e===63?(this.url.query="",this.state="query"):e===35?(this.url.fragment="",this.state="fragment"):(!isNaN(e)&&e!==37&&(this.parseError=!0),e===37&&(!mu(this.input[this.pointer+1])||!mu(this.input[this.pointer+2]))&&(this.parseError=!0),isNaN(e)||(this.url.path[0]=this.url.path[0]+$y(e,pD))),!0};ei.prototype["parse query"]=function(e,r){if(isNaN(e)||!this.stateOverride&&e===35){(!Hi(this.url)||this.url.scheme==="ws"||this.url.scheme==="wss")&&(this.encodingOverride="utf-8");let n=new Buffer(this.buffer);for(let i=0;i<n.length;++i)n[i]<33||n[i]>126||n[i]===34||n[i]===35||n[i]===60||n[i]===62?this.url.query+=NGe(n[i]):this.url.query+=String.fromCodePoint(n[i]);this.buffer="",e===35&&(this.url.fragment="",this.state="fragment")}else e===37&&(!mu(this.input[this.pointer+1])||!mu(this.input[this.pointer+2]))&&(this.parseError=!0),this.buffer+=r;return!0};ei.prototype["parse fragment"]=function(e){return isNaN(e)||(e===0?this.parseError=!0:(e===37&&(!mu(this.input[this.pointer+1])||!mu(this.input[this.pointer+2]))&&(this.parseError=!0),this.url.fragment+=$y(e,pD))),!0};function Qkt(t,e){let r=t.scheme+":";if(t.host!==null?(r+="//",(t.username!==""||t.password!=="")&&(r+=t.username,t.password!==""&&(r+=":"+t.password),r+="@"),r+=bae(t.host),t.port!==null&&(r+=":"+t.port)):t.host===null&&t.scheme==="file"&&(r+="//"),t.cannotBeABaseURL)r+=t.path[0];else for(let n of t.path)r+="/"+n;return t.query!==null&&(r+="?"+t.query),!e&&t.fragment!==null&&(r+="#"+t.fragment),r}function Zkt(t){let e=t.scheme+"://";return e+=bae(t.host),t.port!==null&&(e+=":"+t.port),e}Ka.exports.serializeURL=Qkt;Ka.exports.serializeURLOrigin=function(t){switch(t.scheme){case"blob":try{return Ka.exports.serializeURLOrigin(Ka.exports.parseURL(t.path[0]))}catch{return"null"}case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return Zkt({scheme:t.scheme,host:t.host,port:t.port});case"file":return"file://";default:return"null"}};Ka.exports.basicURLParse=function(t,e){e===void 0&&(e={});let r=new ei(t,e.baseURL,e.encodingOverride,e.url,e.stateOverride);return r.failure?"failure":r.url};Ka.exports.setTheUsername=function(t,e){t.username="";let r=DS.ucs2.decode(e);for(let n=0;n<r.length;++n)t.username+=$y(r[n],yae)};Ka.exports.setThePassword=function(t,e){t.password="";let r=DS.ucs2.decode(e);for(let n=0;n<r.length;++n)t.password+=$y(r[n],yae)};Ka.exports.serializeHost=bae;Ka.exports.cannotHaveAUsernamePasswordPort=Kkt;Ka.exports.serializeInteger=function(t){return String(t)};Ka.exports.parseURL=function(t,e){return e===void 0&&(e={}),Ka.exports.basicURLParse(t,{baseURL:e.baseURL,encodingOverride:e.encodingOverride})}});var $Ge=Le(MGe=>{"use strict";var ti=Pd();MGe.implementation=class{constructor(e){let r=e[0],n=e[1],i=null;if(n!==void 0&&(i=ti.basicURLParse(n),i==="failure"))throw new TypeError("Invalid base URL");let o=ti.basicURLParse(r,{baseURL:i});if(o==="failure")throw new TypeError("Invalid URL");this._url=o}get href(){return ti.serializeURL(this._url)}set href(e){let r=ti.basicURLParse(e);if(r==="failure")throw new TypeError("Invalid URL");this._url=r}get origin(){return ti.serializeURLOrigin(this._url)}get protocol(){return this._url.scheme+":"}set protocol(e){ti.basicURLParse(e+":",{url:this._url,stateOverride:"scheme start"})}get username(){return this._url.username}set username(e){ti.cannotHaveAUsernamePasswordPort(this._url)||ti.setTheUsername(this._url,e)}get password(){return this._url.password}set password(e){ti.cannotHaveAUsernamePasswordPort(this._url)||ti.setThePassword(this._url,e)}get host(){let e=this._url;return e.host===null?"":e.port===null?ti.serializeHost(e.host):ti.serializeHost(e.host)+":"+ti.serializeInteger(e.port)}set host(e){this._url.cannotBeABaseURL||ti.basicURLParse(e,{url:this._url,stateOverride:"host"})}get hostname(){return this._url.host===null?"":ti.serializeHost(this._url.host)}set hostname(e){this._url.cannotBeABaseURL||ti.basicURLParse(e,{url:this._url,stateOverride:"hostname"})}get port(){return this._url.port===null?"":ti.serializeInteger(this._url.port)}set port(e){ti.cannotHaveAUsernamePasswordPort(this._url)||(e===""?this._url.port=null:ti.basicURLParse(e,{url:this._url,stateOverride:"port"}))}get pathname(){return this._url.cannotBeABaseURL?this._url.path[0]:this._url.path.length===0?"":"/"+this._url.path.join("/")}set pathname(e){this._url.cannotBeABaseURL||(this._url.path=[],ti.basicURLParse(e,{url:this._url,stateOverride:"path start"}))}get search(){return this._url.query===null||this._url.query===""?"":"?"+this._url.query}set search(e){let r=this._url;if(e===""){r.query=null;return}let n=e[0]==="?"?e.substring(1):e;r.query="",ti.basicURLParse(n,{url:r,stateOverride:"query"})}get hash(){return this._url.fragment===null||this._url.fragment===""?"":"#"+this._url.fragment}set hash(e){if(e===""){this._url.fragment=null;return}let r=e[0]==="#"?e.substring(1):e;this._url.fragment="",ti.basicURLParse(r,{url:this._url,stateOverride:"fragment"})}toJSON(){return this.href}}});var UGe=Le((zxn,uR)=>{"use strict";var El=gGe(),BGe=yGe(),LGe=$Ge(),nn=BGe.implSymbol;function oo(t){if(!this||this[nn]||!(this instanceof oo))throw new TypeError("Failed to construct 'URL': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");if(arguments.length<1)throw new TypeError("Failed to construct 'URL': 1 argument required, but only "+arguments.length+" present.");let e=[];for(let r=0;r<arguments.length&&r<2;++r)e[r]=arguments[r];e[0]=El.USVString(e[0]),e[1]!==void 0&&(e[1]=El.USVString(e[1])),uR.exports.setup(this,e)}oo.prototype.toJSON=function(){if(!this||!uR.exports.is(this))throw new TypeError("Illegal invocation");let e=[];for(let r=0;r<arguments.length&&r<0;++r)e[r]=arguments[r];return this[nn].toJSON.apply(this[nn],e)};Object.defineProperty(oo.prototype,"href",{get(){return this[nn].href},set(t){t=El.USVString(t),this[nn].href=t},enumerable:!0,configurable:!0});oo.prototype.toString=function(){if(!this||!uR.exports.is(this))throw new TypeError("Illegal invocation");return this.href};Object.defineProperty(oo.prototype,"origin",{get(){return this[nn].origin},enumerable:!0,configurable:!0});Object.defineProperty(oo.prototype,"protocol",{get(){return this[nn].protocol},set(t){t=El.USVString(t),this[nn].protocol=t},enumerable:!0,configurable:!0});Object.defineProperty(oo.prototype,"username",{get(){return this[nn].username},set(t){t=El.USVString(t),this[nn].username=t},enumerable:!0,configurable:!0});Object.defineProperty(oo.prototype,"password",{get(){return this[nn].password},set(t){t=El.USVString(t),this[nn].password=t},enumerable:!0,configurable:!0});Object.defineProperty(oo.prototype,"host",{get(){return this[nn].host},set(t){t=El.USVString(t),this[nn].host=t},enumerable:!0,configurable:!0});Object.defineProperty(oo.prototype,"hostname",{get(){return this[nn].hostname},set(t){t=El.USVString(t),this[nn].hostname=t},enumerable:!0,configurable:!0});Object.defineProperty(oo.prototype,"port",{get(){return this[nn].port},set(t){t=El.USVString(t),this[nn].port=t},enumerable:!0,configurable:!0});Object.defineProperty(oo.prototype,"pathname",{get(){return this[nn].pathname},set(t){t=El.USVString(t),this[nn].pathname=t},enumerable:!0,configurable:!0});Object.defineProperty(oo.prototype,"search",{get(){return this[nn].search},set(t){t=El.USVString(t),this[nn].search=t},enumerable:!0,configurable:!0});Object.defineProperty(oo.prototype,"hash",{get(){return this[nn].hash},set(t){t=El.USVString(t),this[nn].hash=t},enumerable:!0,configurable:!0});uR.exports={is(t){return!!t&&t[nn]instanceof LGe.implementation},create(t,e){let r=Object.create(oo.prototype);return this.setup(r,t,e),r},setup(t,e,r){r||(r={}),r.wrapper=t,t[nn]=new LGe.implementation(e,r),t[nn][BGe.wrapperSymbol]=t},interface:oo,expose:{Window:{URL:oo},Worker:{URL:oo}}}});var FGe=Le(kd=>{"use strict";kd.URL=UGe().interface;kd.serializeURL=Pd().serializeURL;kd.serializeURLOrigin=Pd().serializeURLOrigin;kd.basicURLParse=Pd().basicURLParse;kd.setTheUsername=Pd().setTheUsername;kd.setThePassword=Pd().setThePassword;kd.serializeHost=Pd().serializeHost;kd.serializeInteger=Pd().serializeInteger;kd.parseURL=Pd().parseURL});var Oae={};lr(Oae,{AbortError:()=>LS,FetchError:()=>Io,Headers:()=>Tl,Request:()=>lg,Response:()=>Rl,default:()=>Cae});import fu from"stream";import qGe from"http";import fD from"url";import Xkt from"https";import Ly from"zlib";function Io(t,e,r){Error.call(this,t),this.message=t,this.type=e,r&&(this.code=this.errno=r.code),Error.captureStackTrace(this,this.constructor)}function so(t){var e=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.size;let i=n===void 0?0:n;var o=r.timeout;let s=o===void 0?0:o;t==null?t=null:HGe(t)?t=Buffer.from(t.toString()):fR(t)||Buffer.isBuffer(t)||(Object.prototype.toString.call(t)==="[object ArrayBuffer]"?t=Buffer.from(t):ArrayBuffer.isView(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):t instanceof fu||(t=Buffer.from(String(t)))),this[Om]={body:t,disturbed:!1,error:null},this.size=i,this.timeout=s,t instanceof fu&&t.on("error",function(a){let c=a.name==="AbortError"?a:new Io(`Invalid response body while trying to fetch ${e.url}: ${a.message}`,"system",a);e[Om].error=c})}function MS(){var t=this;if(this[Om].disturbed)return so.Promise.reject(new TypeError(`body used already for: ${this.url}`));if(this[Om].disturbed=!0,this[Om].error)return so.Promise.reject(this[Om].error);let e=this.body;if(e===null)return so.Promise.resolve(Buffer.alloc(0));if(fR(e)&&(e=e.stream()),Buffer.isBuffer(e))return so.Promise.resolve(e);if(!(e instanceof fu))return so.Promise.resolve(Buffer.alloc(0));let r=[],n=0,i=!1;return new so.Promise(function(o,s){let a;t.timeout&&(a=setTimeout(function(){i=!0,s(new Io(`Response timeout while trying to fetch ${t.url} (over ${t.timeout}ms)`,"body-timeout"))},t.timeout)),e.on("error",function(c){c.name==="AbortError"?(i=!0,s(c)):s(new Io(`Invalid response body while trying to fetch ${t.url}: ${c.message}`,"system",c))}),e.on("data",function(c){if(!(i||c===null)){if(t.size&&n+c.length>t.size){i=!0,s(new Io(`content size at ${t.url} over limit: ${t.size}`,"max-size"));return}n+=c.length,r.push(c)}}),e.on("end",function(){if(!i){clearTimeout(a);try{o(Buffer.concat(r,n))}catch(c){s(new Io(`Could not create Buffer from response body for ${t.url}: ${c.message}`,"system",c))}}})})}function tDt(t,e){if(typeof xae!="function")throw new Error("The package `encoding` must be installed to use the textConverted() function");let r=e.get("content-type"),n="utf-8",i,o;return r&&(i=/charset=([^;]*)/i.exec(r)),o=t.slice(0,1024).toString(),!i&&o&&(i=/<meta.+?charset=(['"])(.+?)\1/i.exec(o)),!i&&o&&(i=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(o),i||(i=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(o),i&&i.pop()),i&&(i=/charset=(.*)/i.exec(i.pop()))),!i&&o&&(i=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(o)),i&&(n=i.pop(),(n==="gb2312"||n==="gbk")&&(n="gb18030")),xae(t,"UTF-8",n).toString()}function HGe(t){return typeof t!="object"||typeof t.append!="function"||typeof t.delete!="function"||typeof t.get!="function"||typeof t.getAll!="function"||typeof t.has!="function"||typeof t.set!="function"?!1:t.constructor.name==="URLSearchParams"||Object.prototype.toString.call(t)==="[object URLSearchParams]"||typeof t.sort=="function"}function fR(t){return typeof t=="object"&&typeof t.arrayBuffer=="function"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.constructor=="function"&&typeof t.constructor.name=="string"&&/^(Blob|File)$/.test(t.constructor.name)&&/^(Blob|File)$/.test(t[Symbol.toStringTag])}function WGe(t){let e,r,n=t.body;if(t.bodyUsed)throw new Error("cannot clone body after it is used");return n instanceof fu&&typeof n.getBoundary!="function"&&(e=new zGe,r=new zGe,n.pipe(e),n.pipe(r),t[Om].body=e,n=r),n}function GGe(t){return t===null?null:typeof t=="string"?"text/plain;charset=UTF-8":HGe(t)?"application/x-www-form-urlencoded;charset=UTF-8":fR(t)?t.type||null:Buffer.isBuffer(t)||Object.prototype.toString.call(t)==="[object ArrayBuffer]"||ArrayBuffer.isView(t)?null:typeof t.getBoundary=="function"?`multipart/form-data;boundary=${t.getBoundary()}`:t instanceof fu?null:"text/plain;charset=UTF-8"}function KGe(t){let e=t.body;return e===null?0:fR(e)?e.size:Buffer.isBuffer(e)?e.length:e&&typeof e.getLengthSync=="function"&&(e._lengthRetrievers&&e._lengthRetrievers.length==0||e.hasKnownLength&&e.hasKnownLength())?e.getLengthSync():null}function rDt(t,e){let r=e.body;r===null?t.end():fR(r)?r.stream().pipe(t):Buffer.isBuffer(r)?(t.write(r),t.end()):r.pipe(t)}function dR(t){if(t=`${t}`,YGe.test(t)||t==="")throw new TypeError(`${t} is not a legal HTTP header name`)}function VGe(t){if(t=`${t}`,Aae.test(t))throw new TypeError(`${t} is not a legal HTTP header value`)}function $S(t,e){e=e.toLowerCase();for(let r in t)if(r.toLowerCase()===e)return r}function Eae(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"key+value";return Object.keys(t[li]).sort().map(e==="key"?function(n){return n.toLowerCase()}:e==="value"?function(n){return t[li][n].join(", ")}:function(n){return[n.toLowerCase(),t[li][n].join(", ")]})}function _ae(t,e){let r=Object.create(Iae);return r[Rae]={target:t,kind:e,index:0},r}function nDt(t){let e=Object.assign({__proto__:null},t[li]),r=$S(t[li],"Host");return r!==void 0&&(e[r]=e[r][0]),e}function iDt(t){let e=new Tl;for(let r of Object.keys(t))if(!YGe.test(r))if(Array.isArray(t[r]))for(let n of t[r])Aae.test(n)||(e[li][r]===void 0?e[li][r]=[n]:e[li][r].push(n));else Aae.test(t[r])||(e[li][r]=[t[r]]);return e}function Sae(t){return/^[a-zA-Z][a-zA-Z\d+\-.]*:/.exec(t)&&(t=new sDt(t).toString()),aDt(t)}function mD(t){return typeof t=="object"&&typeof t[Cm]=="object"}function uDt(t){let e=t&&typeof t=="object"&&Object.getPrototypeOf(t);return!!(e&&e.constructor.name==="AbortSignal")}function dDt(t){let e=t[Cm].parsedURL,r=new Tl(t[Cm].headers);if(r.has("Accept")||r.set("Accept","*/*"),!e.protocol||!e.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(e.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(t.signal&&t.body instanceof fu.Readable&&!lDt)throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let n=null;if(t.body==null&&/^(POST|PUT)$/i.test(t.method)&&(n="0"),t.body!=null){let o=KGe(t);typeof o=="number"&&(n=String(o))}n&&r.set("Content-Length",n),r.has("User-Agent")||r.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),t.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip,deflate");let i=t.agent;return typeof i=="function"&&(i=i(e)),Object.assign({},e,{method:t.method,headers:nDt(r),agent:i})}function LS(t){Error.call(this,t),this.type="aborted",this.message=t,Error.captureStackTrace(this,this.constructor)}function cg(t,e){if(!cg.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return so.Promise=cg.Promise,new cg.Promise(function(r,n){let i=new lg(t,e),o=dDt(i),s=(o.protocol==="https:"?Xkt:qGe).request,a=i.signal,c=null,l=function(){let f=new LS("The user aborted a request.");n(f),i.body&&i.body instanceof fu.Readable&&wae(i.body,f),!(!c||!c.body)&&c.body.emit("error",f)};if(a&&a.aborted){l();return}let u=function(){l(),m()},d=s(o),p;a&&a.addEventListener("abort",u);function m(){d.abort(),a&&a.removeEventListener("abort",u),clearTimeout(p)}i.timeout&&d.once("socket",function(h){p=setTimeout(function(){n(new Io(`network timeout at: ${i.url}`,"request-timeout")),m()},i.timeout)}),d.on("error",function(h){n(new Io(`request to ${i.url} failed, reason: ${h.message}`,"system",h)),c&&c.body&&wae(c.body,h),m()}),fDt(d,function(h){a&&a.aborted||c&&c.body&&wae(c.body,h)}),parseInt(process.version.substring(1))<14&&d.on("socket",function(h){h.addListener("close",function(f){let y=h.listenerCount("data")>0;if(c&&y&&!f&&!(a&&a.aborted)){let v=new Error("Premature close");v.code="ERR_STREAM_PREMATURE_CLOSE",c.body.emit("error",v)}})}),d.on("response",function(h){clearTimeout(p);let f=iDt(h.headers);if(cg.isRedirect(h.statusCode)){let E=f.get("Location"),I=null;try{I=E===null?null:new mR(E,i.url).toString()}catch{if(i.redirect!=="manual"){n(new Io(`uri requested responds with an invalid redirect URL: ${E}`,"invalid-redirect")),m();return}}switch(i.redirect){case"error":n(new Io(`uri requested responds with a redirect, redirect mode is set to error: ${i.url}`,"no-redirect")),m();return;case"manual":if(I!==null)try{f.set("Location",I)}catch(L){n(L)}break;case"follow":if(I===null)break;if(i.counter>=i.follow){n(new Io(`maximum redirect reached at: ${i.url}`,"max-redirect")),m();return}let N={headers:new Tl(i.headers),follow:i.follow,counter:i.counter+1,agent:i.agent,compress:i.compress,method:i.method,body:i.body,signal:i.signal,timeout:i.timeout,size:i.size};if(!pDt(i.url,I)||!mDt(i.url,I))for(let L of["authorization","www-authenticate","cookie","cookie2"])N.headers.delete(L);if(h.statusCode!==303&&i.body&&KGe(i)===null){n(new Io("Cannot follow redirect with body being a readable stream","unsupported-redirect")),m();return}(h.statusCode===303||(h.statusCode===301||h.statusCode===302)&&i.method==="POST")&&(N.method="GET",N.body=void 0,N.headers.delete("content-length")),r(cg(new lg(I,N))),m();return}}h.once("end",function(){a&&a.removeEventListener("abort",u)});let y=h.pipe(new jGe),v={url:i.url,status:h.statusCode,statusText:h.statusMessage,headers:f,size:i.size,timeout:i.timeout,counter:i.counter},_=f.get("Content-Encoding");if(!i.compress||i.method==="HEAD"||_===null||h.statusCode===204||h.statusCode===304){c=new Rl(y,v),r(c);return}let x={flush:Ly.Z_SYNC_FLUSH,finishFlush:Ly.Z_SYNC_FLUSH};if(_=="gzip"||_=="x-gzip"){y=y.pipe(Ly.createGunzip(x)),c=new Rl(y,v),r(c);return}if(_=="deflate"||_=="x-deflate"){let E=h.pipe(new jGe);E.once("data",function(I){(I[0]&15)===8?y=y.pipe(Ly.createInflate()):y=y.pipe(Ly.createInflateRaw()),c=new Rl(y,v),r(c)}),E.on("end",function(){c||(c=new Rl(y,v),r(c))});return}if(_=="br"&&typeof Ly.createBrotliDecompress=="function"){y=y.pipe(Ly.createBrotliDecompress()),c=new Rl(y,v),r(c);return}c=new Rl(y,v),r(c)}),rDt(d,i)})}function fDt(t,e){let r;t.on("socket",function(n){r=n}),t.on("response",function(n){let i=n.headers;i["transfer-encoding"]==="chunked"&&!i["content-length"]&&n.once("close",function(o){if(r&&r.listenerCount("data")>0&&!o){let a=new Error("Premature close");a.code="ERR_STREAM_PREMATURE_CLOSE",e(a)}})})}function wae(t,e){t.destroy?t.destroy(e):(t.emit("error",e),t.end())}var Tae,eDt,Im,vae,pR,xae,Om,zGe,YGe,Aae,li,Tl,Rae,Iae,ag,oDt,Rl,Cm,sDt,aDt,cDt,lDt,lg,mR,jGe,pDt,mDt,Cae,Nae=g(()=>{"use strict";Tae=Ni(FGe(),1),eDt=fu.Readable,Im=Symbol("buffer"),vae=Symbol("type"),pR=class t{constructor(){this[vae]="";let e=arguments[0],r=arguments[1],n=[],i=0;if(e){let s=e,a=Number(s.length);for(let c=0;c<a;c++){let l=s[c],u;l instanceof Buffer?u=l:ArrayBuffer.isView(l)?u=Buffer.from(l.buffer,l.byteOffset,l.byteLength):l instanceof ArrayBuffer?u=Buffer.from(l):l instanceof t?u=l[Im]:u=Buffer.from(typeof l=="string"?l:String(l)),i+=u.length,n.push(u)}}this[Im]=Buffer.concat(n);let o=r&&r.type!==void 0&&String(r.type).toLowerCase();o&&!/[^\u0020-\u007E]/.test(o)&&(this[vae]=o)}get size(){return this[Im].length}get type(){return this[vae]}text(){return Promise.resolve(this[Im].toString())}arrayBuffer(){let e=this[Im],r=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return Promise.resolve(r)}stream(){let e=new eDt;return e._read=function(){},e.push(this[Im]),e.push(null),e}toString(){return"[object Blob]"}slice(){let e=this.size,r=arguments[0],n=arguments[1],i,o;r===void 0?i=0:r<0?i=Math.max(e+r,0):i=Math.min(r,e),n===void 0?o=e:n<0?o=Math.max(e+n,0):o=Math.min(n,e);let s=Math.max(o-i,0),c=this[Im].slice(i,i+s),l=new t([],{type:arguments[2]});return l[Im]=c,l}};Object.defineProperties(pR.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});Object.defineProperty(pR.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0});Io.prototype=Object.create(Error.prototype);Io.prototype.constructor=Io;Io.prototype.name="FetchError";try{xae=St("encoding").convert}catch{}Om=Symbol("Body internals"),zGe=fu.PassThrough;so.prototype={get body(){return this[Om].body},get bodyUsed(){return this[Om].disturbed},arrayBuffer(){return MS.call(this).then(function(t){return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)})},blob(){let t=this.headers&&this.headers.get("content-type")||"";return MS.call(this).then(function(e){return Object.assign(new pR([],{type:t.toLowerCase()}),{[Im]:e})})},json(){var t=this;return MS.call(this).then(function(e){try{return JSON.parse(e.toString())}catch(r){return so.Promise.reject(new Io(`invalid json response body at ${t.url} reason: ${r.message}`,"invalid-json"))}})},text(){return MS.call(this).then(function(t){return t.toString()})},buffer(){return MS.call(this)},textConverted(){var t=this;return MS.call(this).then(function(e){return tDt(e,t.headers)})}};Object.defineProperties(so.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});so.mixIn=function(t){for(let e of Object.getOwnPropertyNames(so.prototype))if(!(e in t)){let r=Object.getOwnPropertyDescriptor(so.prototype,e);Object.defineProperty(t,e,r)}};so.Promise=global.Promise;YGe=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,Aae=/[^\t\x20-\x7e\x80-\xff]/;li=Symbol("map"),Tl=class t{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;if(this[li]=Object.create(null),e instanceof t){let r=e.raw(),n=Object.keys(r);for(let i of n)for(let o of r[i])this.append(i,o);return}if(e!=null)if(typeof e=="object"){let r=e[Symbol.iterator];if(r!=null){if(typeof r!="function")throw new TypeError("Header pairs must be iterable");let n=[];for(let i of e){if(typeof i!="object"||typeof i[Symbol.iterator]!="function")throw new TypeError("Each header pair must be iterable");n.push(Array.from(i))}for(let i of n){if(i.length!==2)throw new TypeError("Each header pair must be a name/value tuple");this.append(i[0],i[1])}}else for(let n of Object.keys(e)){let i=e[n];this.append(n,i)}}else throw new TypeError("Provided initializer must be an object")}get(e){e=`${e}`,dR(e);let r=$S(this[li],e);return r===void 0?null:this[li][r].join(", ")}forEach(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,n=Eae(this),i=0;for(;i<n.length;){var o=n[i];let s=o[0],a=o[1];e.call(r,a,s,this),n=Eae(this),i++}}set(e,r){e=`${e}`,r=`${r}`,dR(e),VGe(r);let n=$S(this[li],e);this[li][n!==void 0?n:e]=[r]}append(e,r){e=`${e}`,r=`${r}`,dR(e),VGe(r);let n=$S(this[li],e);n!==void 0?this[li][n].push(r):this[li][e]=[r]}has(e){return e=`${e}`,dR(e),$S(this[li],e)!==void 0}delete(e){e=`${e}`,dR(e);let r=$S(this[li],e);r!==void 0&&delete this[li][r]}raw(){return this[li]}keys(){return _ae(this,"key")}values(){return _ae(this,"value")}[Symbol.iterator](){return _ae(this,"key+value")}};Tl.prototype.entries=Tl.prototype[Symbol.iterator];Object.defineProperty(Tl.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0});Object.defineProperties(Tl.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});Rae=Symbol("internal");Iae=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==Iae)throw new TypeError("Value of `this` is not a HeadersIterator");var t=this[Rae];let e=t.target,r=t.kind,n=t.index,i=Eae(e,r),o=i.length;return n>=o?{value:void 0,done:!0}:(this[Rae].index=n+1,{value:i[n],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));Object.defineProperty(Iae,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});ag=Symbol("Response internals"),oDt=qGe.STATUS_CODES,Rl=class t{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};so.call(this,e,r);let n=r.status||200,i=new Tl(r.headers);if(e!=null&&!i.has("Content-Type")){let o=GGe(e);o&&i.append("Content-Type",o)}this[ag]={url:r.url,status:n,statusText:r.statusText||oDt[n],headers:i,counter:r.counter}}get url(){return this[ag].url||""}get status(){return this[ag].status}get ok(){return this[ag].status>=200&&this[ag].status<300}get redirected(){return this[ag].counter>0}get statusText(){return this[ag].statusText}get headers(){return this[ag].headers}clone(){return new t(WGe(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}};so.mixIn(Rl.prototype);Object.defineProperties(Rl.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});Object.defineProperty(Rl.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});Cm=Symbol("Request internals"),sDt=fD.URL||Tae.default.URL,aDt=fD.parse,cDt=fD.format;lDt="destroy"in fu.Readable.prototype;lg=class t{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n;mD(e)?n=Sae(e.url):(e&&e.href?n=Sae(e.href):n=Sae(`${e}`),e={});let i=r.method||e.method||"GET";if(i=i.toUpperCase(),(r.body!=null||mD(e)&&e.body!==null)&&(i==="GET"||i==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let o=r.body!=null?r.body:mD(e)&&e.body!==null?WGe(e):null;so.call(this,o,{timeout:r.timeout||e.timeout||0,size:r.size||e.size||0});let s=new Tl(r.headers||e.headers||{});if(o!=null&&!s.has("Content-Type")){let c=GGe(o);c&&s.append("Content-Type",c)}let a=mD(e)?e.signal:null;if("signal"in r&&(a=r.signal),a!=null&&!uDt(a))throw new TypeError("Expected signal to be an instanceof AbortSignal");this[Cm]={method:i,redirect:r.redirect||e.redirect||"follow",headers:s,parsedURL:n,signal:a},this.follow=r.follow!==void 0?r.follow:e.follow!==void 0?e.follow:20,this.compress=r.compress!==void 0?r.compress:e.compress!==void 0?e.compress:!0,this.counter=r.counter||e.counter||0,this.agent=r.agent||e.agent}get method(){return this[Cm].method}get url(){return cDt(this[Cm].parsedURL)}get headers(){return this[Cm].headers}get redirect(){return this[Cm].redirect}get signal(){return this[Cm].signal}clone(){return new t(this)}};so.mixIn(lg.prototype);Object.defineProperty(lg.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0});Object.defineProperties(lg.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});LS.prototype=Object.create(Error.prototype);LS.prototype.constructor=LS;LS.prototype.name="AbortError";mR=fD.URL||Tae.default.URL,jGe=fu.PassThrough,pDt=function(e,r){let n=new mR(r).hostname,i=new mR(e).hostname;return n===i||n[n.length-i.length-1]==="."&&n.endsWith(i)},mDt=function(e,r){let n=new mR(r).protocol,i=new mR(e).protocol;return n===i};cg.isRedirect=function(t){return t===301||t===302||t===303||t===307||t===308};cg.Promise=global.Promise;Cae=cg});var Pae=Le((By,JGe)=>{"use strict";var hR=(Nae(),cL(Oae)),hDt=hR.default||hR,hD=function(t,e){return/^\/\//.test(t)&&(t="https:"+t),hDt.call(this,t,e)};hD.ponyfill=!0;JGe.exports=By=hD;By.fetch=hD;By.Headers=hR.Headers;By.Request=hR.Request;By.Response=hR.Response;By.default=hD});function dMt(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){let a=(s+8)%10,c=(s+2)%10,l=r[c],u=r[c+1],d=LKe(l,u,1)^r[a],p=BKe(l,u,1)^r[a+1];for(let m=0;m<50;m+=10)t[s+m]^=d,t[s+m+1]^=p}let i=t[2],o=t[3];for(let s=0;s<24;s++){let a=FKe[s],c=LKe(i,o,a),l=BKe(i,o,a),u=UKe[s];i=t[u],o=t[u+1],t[u]=c,t[u+1]=l}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)r[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=lMt[n],t[1]^=uMt[n]}ml(r)}var iMt,yR,oMt,sMt,aMt,cMt,UKe,FKe,zKe,VKe,lMt,uMt,LKe,BKe,Mae,pMt,$ae,jKe=g(()=>{"use strict";Hne();nm();iMt=BigInt(0),yR=BigInt(1),oMt=BigInt(2),sMt=BigInt(7),aMt=BigInt(256),cMt=BigInt(113),UKe=[],FKe=[],zKe=[];for(let t=0,e=yR,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],UKe.push(2*(5*n+r)),FKe.push((t+1)*(t+2)/2%64);let i=iMt;for(let o=0;o<7;o++)e=(e<<yR^(e>>sMt)*cMt)%aMt,e&oMt&&(i^=yR<<(yR<<BigInt(o))-yR);zKe.push(i)}VKe=oP(zKe,!0),lMt=VKe[0],uMt=VKe[1],LKe=(t,e,r)=>r>32?pze(t,e,r):uze(t,e,r),BKe=(t,e,r)=>r>32?mze(t,e,r):dze(t,e,r);Mae=class t extends Sh{constructor(e,r,n,i=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,_h(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=ize(this.state)}clone(){return this._cloneInto()}keccak(){zne(this.state32),dMt(this.state32,this.rounds),zne(this.state32),this.posOut=0,this.pos=0}update(e){rm(this),e=C1(e),_o(e);let{blockLen:r,state:n}=this,i=e.length;for(let o=0;o<i;){let s=Math.min(r-this.pos,i-o);for(let a=0;a<s;a++)n[this.pos++]^=e[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){rm(this,!1),_o(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=e.length;i<o;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,o-i);e.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return _h(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(rP(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,ml(this.state)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new t(r,n,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}},pMt=(t,e,r)=>M2(()=>new Mae(e,t,r)),$ae=pMt(1,136,256/8)});var jae=Le((KKe,Vae)=>{"use strict";(function(t,e){"use strict";function r(O,b){if(!O)throw new Error(b||"Assertion failed")}function n(O,b){O.super_=b;var S=function(){};S.prototype=b.prototype,O.prototype=new S,O.prototype.constructor=O}function i(O,b,S){if(i.isBN(O))return O;this.negative=0,this.words=null,this.length=0,this.red=null,O!==null&&((b==="le"||b==="be")&&(S=b,b=10),this._init(O||0,b||10,S||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=St("buffer").Buffer}catch{}i.isBN=function(b){return b instanceof i?!0:b!==null&&typeof b=="object"&&b.constructor.wordSize===i.wordSize&&Array.isArray(b.words)},i.max=function(b,S){return b.cmp(S)>0?b:S},i.min=function(b,S){return b.cmp(S)<0?b:S},i.prototype._init=function(b,S,R){if(typeof b=="number")return this._initNumber(b,S,R);if(typeof b=="object")return this._initArray(b,S,R);S==="hex"&&(S=16),r(S===(S|0)&&S>=2&&S<=36),b=b.toString().replace(/\s+/g,"");var k=0;b[0]==="-"&&(k++,this.negative=1),k<b.length&&(S===16?this._parseHex(b,k,R):(this._parseBase(b,S,k),R==="le"&&this._initArray(this.toArray(),S,R)))},i.prototype._initNumber=function(b,S,R){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[b&67108863],this.length=1):b<4503599627370496?(this.words=[b&67108863,b/67108864&67108863],this.length=2):(r(b<9007199254740992),this.words=[b&67108863,b/67108864&67108863,1],this.length=3),R==="le"&&this._initArray(this.toArray(),S,R)},i.prototype._initArray=function(b,S,R){if(r(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var F,q,K=0;if(R==="be")for(k=b.length-1,F=0;k>=0;k-=3)q=b[k]|b[k-1]<<8|b[k-2]<<16,this.words[F]|=q<<K&67108863,this.words[F+1]=q>>>26-K&67108863,K+=24,K>=26&&(K-=26,F++);else if(R==="le")for(k=0,F=0;k<b.length;k+=3)q=b[k]|b[k+1]<<8|b[k+2]<<16,this.words[F]|=q<<K&67108863,this.words[F+1]=q>>>26-K&67108863,K+=24,K>=26&&(K-=26,F++);return this._strip()};function s(O,b){var S=O.charCodeAt(b);if(S>=48&&S<=57)return S-48;if(S>=65&&S<=70)return S-55;if(S>=97&&S<=102)return S-87;r(!1,"Invalid character in "+O)}function a(O,b,S){var R=s(O,S);return S-1>=b&&(R|=s(O,S-1)<<4),R}i.prototype._parseHex=function(b,S,R){this.length=Math.ceil((b.length-S)/6),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var F=0,q=0,K;if(R==="be")for(k=b.length-1;k>=S;k-=2)K=a(b,S,k)<<F,this.words[q]|=K&67108863,F>=18?(F-=18,q+=1,this.words[q]|=K>>>26):F+=8;else{var z=b.length-S;for(k=z%2===0?S+1:S;k<b.length;k+=2)K=a(b,S,k)<<F,this.words[q]|=K&67108863,F>=18?(F-=18,q+=1,this.words[q]|=K>>>26):F+=8}this._strip()};function c(O,b,S,R){for(var k=0,F=0,q=Math.min(O.length,S),K=b;K<q;K++){var z=O.charCodeAt(K)-48;k*=R,z>=49?F=z-49+10:z>=17?F=z-17+10:F=z,r(z>=0&&F<R,"Invalid character"),k+=F}return k}i.prototype._parseBase=function(b,S,R){this.words=[0],this.length=1;for(var k=0,F=1;F<=67108863;F*=S)k++;k--,F=F/S|0;for(var q=b.length-R,K=q%k,z=Math.min(q,q-K)+R,A=0,W=R;W<z;W+=k)A=c(b,W,W+k,S),this.imuln(F),this.words[0]+A<67108864?this.words[0]+=A:this._iaddn(A);if(K!==0){var xe=1;for(A=c(b,W,b.length,S),W=0;W<K;W++)xe*=S;this.imuln(xe),this.words[0]+A<67108864?this.words[0]+=A:this._iaddn(A)}this._strip()},i.prototype.copy=function(b){b.words=new Array(this.length);for(var S=0;S<this.length;S++)b.words[S]=this.words[S];b.length=this.length,b.negative=this.negative,b.red=this.red};function l(O,b){O.words=b.words,O.length=b.length,O.negative=b.negative,O.red=b.red}if(i.prototype._move=function(b){l(b,this)},i.prototype.clone=function(){var b=new i(null);return this.copy(b),b},i.prototype._expand=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch{i.prototype.inspect=u}else i.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(b,S){b=b||10,S=S|0||1;var R;if(b===16||b==="hex"){R="";for(var k=0,F=0,q=0;q<this.length;q++){var K=this.words[q],z=((K<<k|F)&16777215).toString(16);F=K>>>24-k&16777215,k+=2,k>=26&&(k-=26,q--),F!==0||q!==this.length-1?R=d[6-z.length]+z+R:R=z+R}for(F!==0&&(R=F.toString(16)+R);R.length%S!==0;)R="0"+R;return this.negative!==0&&(R="-"+R),R}if(b===(b|0)&&b>=2&&b<=36){var A=p[b],W=m[b];R="";var xe=this.clone();for(xe.negative=0;!xe.isZero();){var ge=xe.modrn(W).toString(b);xe=xe.idivn(W),xe.isZero()?R=ge+R:R=d[A-ge.length]+ge+R}for(this.isZero()&&(R="0"+R);R.length%S!==0;)R="0"+R;return this.negative!==0&&(R="-"+R),R}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=this.words[1]*67108864:this.length===3&&this.words[2]===1?b+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(b,S){return this.toArrayLike(o,b,S)}),i.prototype.toArray=function(b,S){return this.toArrayLike(Array,b,S)};var h=function(b,S){return b.allocUnsafe?b.allocUnsafe(S):new b(S)};i.prototype.toArrayLike=function(b,S,R){this._strip();var k=this.byteLength(),F=R||Math.max(1,k);r(k<=F,"byte array longer than desired length"),r(F>0,"Requested array length <= 0");var q=h(b,F),K=S==="le"?"LE":"BE";return this["_toArrayLike"+K](q,k),q},i.prototype._toArrayLikeLE=function(b,S){for(var R=0,k=0,F=0,q=0;F<this.length;F++){var K=this.words[F]<<q|k;b[R++]=K&255,R<b.length&&(b[R++]=K>>8&255),R<b.length&&(b[R++]=K>>16&255),q===6?(R<b.length&&(b[R++]=K>>24&255),k=0,q=0):(k=K>>>24,q+=2)}if(R<b.length)for(b[R++]=k;R<b.length;)b[R++]=0},i.prototype._toArrayLikeBE=function(b,S){for(var R=b.length-1,k=0,F=0,q=0;F<this.length;F++){var K=this.words[F]<<q|k;b[R--]=K&255,R>=0&&(b[R--]=K>>8&255),R>=0&&(b[R--]=K>>16&255),q===6?(R>=0&&(b[R--]=K>>24&255),k=0,q=0):(k=K>>>24,q+=2)}if(R>=0)for(b[R--]=k;R>=0;)b[R--]=0},Math.clz32?i.prototype._countBits=function(b){return 32-Math.clz32(b)}:i.prototype._countBits=function(b){var S=b,R=0;return S>=4096&&(R+=13,S>>>=13),S>=64&&(R+=7,S>>>=7),S>=8&&(R+=4,S>>>=4),S>=2&&(R+=2,S>>>=2),R+S},i.prototype._zeroBits=function(b){if(b===0)return 26;var S=b,R=0;return(S&8191)===0&&(R+=13,S>>>=13),(S&127)===0&&(R+=7,S>>>=7),(S&15)===0&&(R+=4,S>>>=4),(S&3)===0&&(R+=2,S>>>=2),(S&1)===0&&R++,R},i.prototype.bitLength=function(){var b=this.words[this.length-1],S=this._countBits(b);return(this.length-1)*26+S};function f(O){for(var b=new Array(O.bitLength()),S=0;S<b.length;S++){var R=S/26|0,k=S%26;b[S]=O.words[R]>>>k&1}return b}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,S=0;S<this.length;S++){var R=this._zeroBits(this.words[S]);if(b+=R,R!==26)break}return b},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},i.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var S=0;S<b.length;S++)this.words[S]=this.words[S]|b.words[S];return this._strip()},i.prototype.ior=function(b){return r((this.negative|b.negative)===0),this.iuor(b)},i.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},i.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},i.prototype.iuand=function(b){var S;this.length>b.length?S=b:S=this;for(var R=0;R<S.length;R++)this.words[R]=this.words[R]&b.words[R];return this.length=S.length,this._strip()},i.prototype.iand=function(b){return r((this.negative|b.negative)===0),this.iuand(b)},i.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},i.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},i.prototype.iuxor=function(b){var S,R;this.length>b.length?(S=this,R=b):(S=b,R=this);for(var k=0;k<R.length;k++)this.words[k]=S.words[k]^R.words[k];if(this!==S)for(;k<S.length;k++)this.words[k]=S.words[k];return this.length=S.length,this._strip()},i.prototype.ixor=function(b){return r((this.negative|b.negative)===0),this.iuxor(b)},i.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},i.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},i.prototype.inotn=function(b){r(typeof b=="number"&&b>=0);var S=Math.ceil(b/26)|0,R=b%26;this._expand(S),R>0&&S--;for(var k=0;k<S;k++)this.words[k]=~this.words[k]&67108863;return R>0&&(this.words[k]=~this.words[k]&67108863>>26-R),this._strip()},i.prototype.notn=function(b){return this.clone().inotn(b)},i.prototype.setn=function(b,S){r(typeof b=="number"&&b>=0);var R=b/26|0,k=b%26;return this._expand(R+1),S?this.words[R]=this.words[R]|1<<k:this.words[R]=this.words[R]&~(1<<k),this._strip()},i.prototype.iadd=function(b){var S;if(this.negative!==0&&b.negative===0)return this.negative=0,S=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,S=this.isub(b),b.negative=1,S._normSign();var R,k;this.length>b.length?(R=this,k=b):(R=b,k=this);for(var F=0,q=0;q<k.length;q++)S=(R.words[q]|0)+(k.words[q]|0)+F,this.words[q]=S&67108863,F=S>>>26;for(;F!==0&&q<R.length;q++)S=(R.words[q]|0)+F,this.words[q]=S&67108863,F=S>>>26;if(this.length=R.length,F!==0)this.words[this.length]=F,this.length++;else if(R!==this)for(;q<R.length;q++)this.words[q]=R.words[q];return this},i.prototype.add=function(b){var S;return b.negative!==0&&this.negative===0?(b.negative=0,S=this.sub(b),b.negative^=1,S):b.negative===0&&this.negative!==0?(this.negative=0,S=b.sub(this),this.negative=1,S):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},i.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var S=this.iadd(b);return b.negative=1,S._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var R=this.cmp(b);if(R===0)return this.negative=0,this.length=1,this.words[0]=0,this;var k,F;R>0?(k=this,F=b):(k=b,F=this);for(var q=0,K=0;K<F.length;K++)S=(k.words[K]|0)-(F.words[K]|0)+q,q=S>>26,this.words[K]=S&67108863;for(;q!==0&&K<k.length;K++)S=(k.words[K]|0)+q,q=S>>26,this.words[K]=S&67108863;if(q===0&&K<k.length&&k!==this)for(;K<k.length;K++)this.words[K]=k.words[K];return this.length=Math.max(this.length,K),k!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(b){return this.clone().isub(b)};function y(O,b,S){S.negative=b.negative^O.negative;var R=O.length+b.length|0;S.length=R,R=R-1|0;var k=O.words[0]|0,F=b.words[0]|0,q=k*F,K=q&67108863,z=q/67108864|0;S.words[0]=K;for(var A=1;A<R;A++){for(var W=z>>>26,xe=z&67108863,ge=Math.min(A,b.length-1),ke=Math.max(0,A-O.length+1);ke<=ge;ke++){var Ye=A-ke|0;k=O.words[Ye]|0,F=b.words[ke]|0,q=k*F+xe,W+=q/67108864|0,xe=q&67108863}S.words[A]=xe|0,z=W|0}return z!==0?S.words[A]=z|0:S.length--,S._strip()}var v=function(b,S,R){var k=b.words,F=S.words,q=R.words,K=0,z,A,W,xe=k[0]|0,ge=xe&8191,ke=xe>>>13,Ye=k[1]|0,dt=Ye&8191,ut=Ye>>>13,ot=k[2]|0,bt=ot&8191,Re=ot>>>13,vr=k[3]|0,sr=vr&8191,an=vr>>>13,qm=k[4]|0,jr=qm&8191,cn=qm>>>13,Hm=k[5]|0,Jr=Hm&8191,Ir=Hm>>>13,Po=k[6]|0,Qr=Po&8191,xn=Po>>>13,ks=k[7]|0,Lr=ks&8191,w=ks>>>13,C=k[8]|0,$=C&8191,X=C>>>13,H=k[9]|0,G=H&8191,te=H>>>13,_e=F[0]|0,Ne=_e&8191,st=_e>>>13,Ot=F[1]|0,He=Ot&8191,De=Ot>>>13,et=F[2]|0,Ue=et&8191,je=et>>>13,nr=F[3]|0,Lt=nr&8191,Kt=nr>>>13,Ds=F[4]|0,$n=Ds&8191,Hn=Ds>>>13,aT=F[5]|0,ui=aT&8191,di=aT>>>13,Jue=F[6]|0,pi=Jue&8191,mi=Jue>>>13,Que=F[7]|0,fi=Que&8191,hi=Que>>>13,Zue=F[8]|0,gi=Zue&8191,yi=Zue>>>13,Xue=F[9]|0,bi=Xue&8191,vi=Xue>>>13;R.negative=b.negative^S.negative,R.length=19,z=Math.imul(ge,Ne),A=Math.imul(ge,st),A=A+Math.imul(ke,Ne)|0,W=Math.imul(ke,st);var j$=(K+z|0)+((A&8191)<<13)|0;K=(W+(A>>>13)|0)+(j$>>>26)|0,j$&=67108863,z=Math.imul(dt,Ne),A=Math.imul(dt,st),A=A+Math.imul(ut,Ne)|0,W=Math.imul(ut,st),z=z+Math.imul(ge,He)|0,A=A+Math.imul(ge,De)|0,A=A+Math.imul(ke,He)|0,W=W+Math.imul(ke,De)|0;var q$=(K+z|0)+((A&8191)<<13)|0;K=(W+(A>>>13)|0)+(q$>>>26)|0,q$&=67108863,z=Math.imul(bt,Ne),A=Math.imul(bt,st),A=A+Math.imul(Re,Ne)|0,W=Math.imul(Re,st),z=z+Math.imul(dt,He)|0,A=A+Math.imul(dt,De)|0,A=A+Math.imul(ut,He)|0,W=W+Math.imul(ut,De)|0,z=z+Math.imul(ge,Ue)|0,A=A+Math.imul(ge,je)|0,A=A+Math.imul(ke,Ue)|0,W=W+Math.imul(ke,je)|0;var H$=(K+z|0)+((A&8191)<<13)|0;K=(W+(A>>>13)|0)+(H$>>>26)|0,H$&=67108863,z=Math.imul(sr,Ne),A=Math.imul(sr,st),A=A+Math.imul(an,Ne)|0,W=Math.imul(an,st),z=z+Math.imul(bt,He)|0,A=A+Math.imul(bt,De)|0,A=A+Math.imul(Re,He)|0,W=W+Math.imul(Re,De)|0,z=z+Math.imul(dt,Ue)|0,A=A+Math.imul(dt,je)|0,A=A+Math.imul(ut,Ue)|0,W=W+Math.imul(ut,je)|0,z=z+Math.imul(ge,Lt)|0,A=A+Math.imul(ge,Kt)|0,A=A+Math.imul(ke,Lt)|0,W=W+Math.imul(ke,Kt)|0;var W$=(K+z|0)+((A&8191)<<13)|0;K=(W+(A>>>13)|0)+(W$>>>26)|0,W$&=67108863,z=Math.imul(jr,Ne),A=Math.imul(jr,st),A=A+Math.imul(cn,Ne)|0,W=Math.imul(cn,st),z=z+Math.imul(sr,He)|0,A=A+Math.imul(sr,De)|0,A=A+Math.imul(an,He)|0,W=W+Math.imul(an,De)|0,z=z+Math.imul(bt,Ue)|0,A=A+Math.imul(bt,je)|0,A=A+Math.imul(Re,Ue)|0,W=W+Math.imul(Re,je)|0,z=z+Math.imul(dt,Lt)|0,A=A+Math.imul(dt,Kt)|0,A=A+Math.imul(ut,Lt)|0,W=W+Math.imul(ut,Kt)|0,z=z+Math.imul(ge,$n)|0,A=A+Math.imul(ge,Hn)|0,A=A+Math.imul(ke,$n)|0,W=W+Math.imul(ke,Hn)|0;var G$=(K+z|0)+((A&8191)<<13)|0;K=(W+(A>>>13)|0)+(G$>>>26)|0,G$&=67108863,z=Math.imul(Jr,Ne),A=Math.imul(Jr,st),A=A+Math.imul(Ir,Ne)|0,W=Math.imul(Ir,st),z=z+Math.imul(jr,He)|0,A=A+Math.imul(jr,De)|0,A=A+Math.imul(cn,He)|0,W=W+Math.imul(cn,De)|0,z=z+Math.imul(sr,Ue)|0,A=A+Math.imul(sr,je)|0,A=A+Math.imul(an,Ue)|0,W=W+Math.imul(an,je)|0,z=z+Math.imul(bt,Lt)|0,A=A+Math.imul(bt,Kt)|0,A=A+Math.imul(Re,Lt)|0,W=W+Math.imul(Re,Kt)|0,z=z+Math.imul(dt,$n)|0,A=A+Math.imul(dt,Hn)|0,A=A+Math.imul(ut,$n)|0,W=W+Math.imul(ut,Hn)|0,z=z+Math.imul(ge,ui)|0,A=A+Math.imul(ge,di)|0,A=A+Math.imul(ke,ui)|0,W=W+Math.imul(ke,di)|0;var K$=(K+z|0)+((A&8191)<<13)|0;K=(W+(A>>>13)|0)+(K$>>>26)|0,K$&=67108863,z=Math.imul(Qr,Ne),A=Math.imul(Qr,st),A=A+Math.imul(xn,Ne)|0,W=Math.imul(xn,st),z=z+Math.imul(Jr,He)|0,A=A+Math.imul(Jr,De)|0,A=A+Math.imul(Ir,He)|0,W=W+Math.imul(Ir,De)|0,z=z+Math.imul(jr,Ue)|0,A=A+Math.imul(jr,je)|0,A=A+Math.imul(cn,Ue)|0,W=W+Math.imul(cn,je)|0,z=z+Math.imul(sr,Lt)|0,A=A+Math.imul(sr,Kt)|0,A=A+Math.imul(an,Lt)|0,W=W+Math.imul(an,Kt)|0,z=z+Math.imul(bt,$n)|0,A=A+Math.imul(bt,Hn)|0,A=A+Math.imul(Re,$n)|0,W=W+Math.imul(Re,Hn)|0,z=z+Math.imul(dt,ui)|0,A=A+Math.imul(dt,di)|0,A=A+Math.imul(ut,ui)|0,W=W+Math.imul(ut,di)|0,z=z+Math.imul(ge,pi)|0,A=A+Math.imul(ge,mi)|0,A=A+Math.imul(ke,pi)|0,W=W+Math.imul(ke,mi)|0;var Y$=(K+z|0)+((A&8191)<<13)|0;K=(W+(A>>>13)|0)+(Y$>>>26)|0,Y$&=67108863,z=Math.imul(Lr,Ne),A=Math.imul(Lr,st),A=A+Math.imul(w,Ne)|0,W=Math.imul(w,st),z=z+Math.imul(Qr,He)|0,A=A+Math.imul(Qr,De)|0,A=A+Math.imul(xn,He)|0,W=W+Math.imul(xn,De)|0,z=z+Math.imul(Jr,Ue)|0,A=A+Math.imul(Jr,je)|0,A=A+Math.imul(Ir,Ue)|0,W=W+Math.imul(Ir,je)|0,z=z+Math.imul(jr,Lt)|0,A=A+Math.imul(jr,Kt)|0,A=A+Math.imul(cn,Lt)|0,W=W+Math.imul(cn,Kt)|0,z=z+Math.imul(sr,$n)|0,A=A+Math.imul(sr,Hn)|0,A=A+Math.imul(an,$n)|0,W=W+Math.imul(an,Hn)|0,z=z+Math.imul(bt,ui)|0,A=A+Math.imul(bt,di)|0,A=A+Math.imul(Re,ui)|0,W=W+Math.imul(Re,di)|0,z=z+Math.imul(dt,pi)|0,A=A+Math.imul(dt,mi)|0,A=A+Math.imul(ut,pi)|0,W=W+Math.imul(ut,mi)|0,z=z+Math.imul(ge,fi)|0,A=A+Math.imul(ge,hi)|0,A=A+Math.imul(ke,fi)|0,W=W+Math.imul(ke,hi)|0;var J$=(K+z|0)+((A&8191)<<13)|0;K=(W+(A>>>13)|0)+(J$>>>26)|0,J$&=67108863,z=Math.imul($,Ne),A=Math.imul($,st),A=A+Math.imul(X,Ne)|0,W=Math.imul(X,st),z=z+Math.imul(Lr,He)|0,A=A+Math.imul(Lr,De)|0,A=A+Math.imul(w,He)|0,W=W+Math.imul(w,De)|0,z=z+Math.imul(Qr,Ue)|0,A=A+Math.imul(Qr,je)|0,A=A+Math.imul(xn,Ue)|0,W=W+Math.imul(xn,je)|0,z=z+Math.imul(Jr,Lt)|0,A=A+Math.imul(Jr,Kt)|0,A=A+Math.imul(Ir,Lt)|0,W=W+Math.imul(Ir,Kt)|0,z=z+Math.imul(jr,$n)|0,A=A+Math.imul(jr,Hn)|0,A=A+Math.imul(cn,$n)|0,W=W+Math.imul(cn,Hn)|0,z=z+Math.imul(sr,ui)|0,A=A+Math.imul(sr,di)|0,A=A+Math.imul(an,ui)|0,W=W+Math.imul(an,di)|0,z=z+Math.imul(bt,pi)|0,A=A+Math.imul(bt,mi)|0,A=A+Math.imul(Re,pi)|0,W=W+Math.imul(Re,mi)|0,z=z+Math.imul(dt,fi)|0,A=A+Math.imul(dt,hi)|0,A=A+Math.imul(ut,fi)|0,W=W+Math.imul(ut,hi)|0,z=z+Math.imul(ge,gi)|0,A=A+Math.imul(ge,yi)|0,A=A+Math.imul(ke,gi)|0,W=W+Math.imul(ke,yi)|0;var Q$=(K+z|0)+((A&8191)<<13)|0;K=(W+(A>>>13)|0)+(Q$>>>26)|0,Q$&=67108863,z=Math.imul(G,Ne),A=Math.imul(G,st),A=A+Math.imul(te,Ne)|0,W=Math.imul(te,st),z=z+Math.imul($,He)|0,A=A+Math.imul($,De)|0,A=A+Math.imul(X,He)|0,W=W+Math.imul(X,De)|0,z=z+Math.imul(Lr,Ue)|0,A=A+Math.imul(Lr,je)|0,A=A+Math.imul(w,Ue)|0,W=W+Math.imul(w,je)|0,z=z+Math.imul(Qr,Lt)|0,A=A+Math.imul(Qr,Kt)|0,A=A+Math.imul(xn,Lt)|0,W=W+Math.imul(xn,Kt)|0,z=z+Math.imul(Jr,$n)|0,A=A+Math.imul(Jr,Hn)|0,A=A+Math.imul(Ir,$n)|0,W=W+Math.imul(Ir,Hn)|0,z=z+Math.imul(jr,ui)|0,A=A+Math.imul(jr,di)|0,A=A+Math.imul(cn,ui)|0,W=W+Math.imul(cn,di)|0,z=z+Math.imul(sr,pi)|0,A=A+Math.imul(sr,mi)|0,A=A+Math.imul(an,pi)|0,W=W+Math.imul(an,mi)|0,z=z+Math.imul(bt,fi)|0,A=A+Math.imul(bt,hi)|0,A=A+Math.imul(Re,fi)|0,W=W+Math.imul(Re,hi)|0,z=z+Math.imul(dt,gi)|0,A=A+Math.imul(dt,yi)|0,A=A+Math.imul(ut,gi)|0,W=W+Math.imul(ut,yi)|0,z=z+Math.imul(ge,bi)|0,A=A+Math.imul(ge,vi)|0,A=A+Math.imul(ke,bi)|0,W=W+Math.imul(ke,vi)|0;var Z$=(K+z|0)+((A&8191)<<13)|0;K=(W+(A>>>13)|0)+(Z$>>>26)|0,Z$&=67108863,z=Math.imul(G,He),A=Math.imul(G,De),A=A+Math.imul(te,He)|0,W=Math.imul(te,De),z=z+Math.imul($,Ue)|0,A=A+Math.imul($,je)|0,A=A+Math.imul(X,Ue)|0,W=W+Math.imul(X,je)|0,z=z+Math.imul(Lr,Lt)|0,A=A+Math.imul(Lr,Kt)|0,A=A+Math.imul(w,Lt)|0,W=W+Math.imul(w,Kt)|0,z=z+Math.imul(Qr,$n)|0,A=A+Math.imul(Qr,Hn)|0,A=A+Math.imul(xn,$n)|0,W=W+Math.imul(xn,Hn)|0,z=z+Math.imul(Jr,ui)|0,A=A+Math.imul(Jr,di)|0,A=A+Math.imul(Ir,ui)|0,W=W+Math.imul(Ir,di)|0,z=z+Math.imul(jr,pi)|0,A=A+Math.imul(jr,mi)|0,A=A+Math.imul(cn,pi)|0,W=W+Math.imul(cn,mi)|0,z=z+Math.imul(sr,fi)|0,A=A+Math.imul(sr,hi)|0,A=A+Math.imul(an,fi)|0,W=W+Math.imul(an,hi)|0,z=z+Math.imul(bt,gi)|0,A=A+Math.imul(bt,yi)|0,A=A+Math.imul(Re,gi)|0,W=W+Math.imul(Re,yi)|0,z=z+Math.imul(dt,bi)|0,A=A+Math.imul(dt,vi)|0,A=A+Math.imul(ut,bi)|0,W=W+Math.imul(ut,vi)|0;var X$=(K+z|0)+((A&8191)<<13)|0;K=(W+(A>>>13)|0)+(X$>>>26)|0,X$&=67108863,z=Math.imul(G,Ue),A=Math.imul(G,je),A=A+Math.imul(te,Ue)|0,W=Math.imul(te,je),z=z+Math.imul($,Lt)|0,A=A+Math.imul($,Kt)|0,A=A+Math.imul(X,Lt)|0,W=W+Math.imul(X,Kt)|0,z=z+Math.imul(Lr,$n)|0,A=A+Math.imul(Lr,Hn)|0,A=A+Math.imul(w,$n)|0,W=W+Math.imul(w,Hn)|0,z=z+Math.imul(Qr,ui)|0,A=A+Math.imul(Qr,di)|0,A=A+Math.imul(xn,ui)|0,W=W+Math.imul(xn,di)|0,z=z+Math.imul(Jr,pi)|0,A=A+Math.imul(Jr,mi)|0,A=A+Math.imul(Ir,pi)|0,W=W+Math.imul(Ir,mi)|0,z=z+Math.imul(jr,fi)|0,A=A+Math.imul(jr,hi)|0,A=A+Math.imul(cn,fi)|0,W=W+Math.imul(cn,hi)|0,z=z+Math.imul(sr,gi)|0,A=A+Math.imul(sr,yi)|0,A=A+Math.imul(an,gi)|0,W=W+Math.imul(an,yi)|0,z=z+Math.imul(bt,bi)|0,A=A+Math.imul(bt,vi)|0,A=A+Math.imul(Re,bi)|0,W=W+Math.imul(Re,vi)|0;var eL=(K+z|0)+((A&8191)<<13)|0;K=(W+(A>>>13)|0)+(eL>>>26)|0,eL&=67108863,z=Math.imul(G,Lt),A=Math.imul(G,Kt),A=A+Math.imul(te,Lt)|0,W=Math.imul(te,Kt),z=z+Math.imul($,$n)|0,A=A+Math.imul($,Hn)|0,A=A+Math.imul(X,$n)|0,W=W+Math.imul(X,Hn)|0,z=z+Math.imul(Lr,ui)|0,A=A+Math.imul(Lr,di)|0,A=A+Math.imul(w,ui)|0,W=W+Math.imul(w,di)|0,z=z+Math.imul(Qr,pi)|0,A=A+Math.imul(Qr,mi)|0,A=A+Math.imul(xn,pi)|0,W=W+Math.imul(xn,mi)|0,z=z+Math.imul(Jr,fi)|0,A=A+Math.imul(Jr,hi)|0,A=A+Math.imul(Ir,fi)|0,W=W+Math.imul(Ir,hi)|0,z=z+Math.imul(jr,gi)|0,A=A+Math.imul(jr,yi)|0,A=A+Math.imul(cn,gi)|0,W=W+Math.imul(cn,yi)|0,z=z+Math.imul(sr,bi)|0,A=A+Math.imul(sr,vi)|0,A=A+Math.imul(an,bi)|0,W=W+Math.imul(an,vi)|0;var tL=(K+z|0)+((A&8191)<<13)|0;K=(W+(A>>>13)|0)+(tL>>>26)|0,tL&=67108863,z=Math.imul(G,$n),A=Math.imul(G,Hn),A=A+Math.imul(te,$n)|0,W=Math.imul(te,Hn),z=z+Math.imul($,ui)|0,A=A+Math.imul($,di)|0,A=A+Math.imul(X,ui)|0,W=W+Math.imul(X,di)|0,z=z+Math.imul(Lr,pi)|0,A=A+Math.imul(Lr,mi)|0,A=A+Math.imul(w,pi)|0,W=W+Math.imul(w,mi)|0,z=z+Math.imul(Qr,fi)|0,A=A+Math.imul(Qr,hi)|0,A=A+Math.imul(xn,fi)|0,W=W+Math.imul(xn,hi)|0,z=z+Math.imul(Jr,gi)|0,A=A+Math.imul(Jr,yi)|0,A=A+Math.imul(Ir,gi)|0,W=W+Math.imul(Ir,yi)|0,z=z+Math.imul(jr,bi)|0,A=A+Math.imul(jr,vi)|0,A=A+Math.imul(cn,bi)|0,W=W+Math.imul(cn,vi)|0;var rL=(K+z|0)+((A&8191)<<13)|0;K=(W+(A>>>13)|0)+(rL>>>26)|0,rL&=67108863,z=Math.imul(G,ui),A=Math.imul(G,di),A=A+Math.imul(te,ui)|0,W=Math.imul(te,di),z=z+Math.imul($,pi)|0,A=A+Math.imul($,mi)|0,A=A+Math.imul(X,pi)|0,W=W+Math.imul(X,mi)|0,z=z+Math.imul(Lr,fi)|0,A=A+Math.imul(Lr,hi)|0,A=A+Math.imul(w,fi)|0,W=W+Math.imul(w,hi)|0,z=z+Math.imul(Qr,gi)|0,A=A+Math.imul(Qr,yi)|0,A=A+Math.imul(xn,gi)|0,W=W+Math.imul(xn,yi)|0,z=z+Math.imul(Jr,bi)|0,A=A+Math.imul(Jr,vi)|0,A=A+Math.imul(Ir,bi)|0,W=W+Math.imul(Ir,vi)|0;var nL=(K+z|0)+((A&8191)<<13)|0;K=(W+(A>>>13)|0)+(nL>>>26)|0,nL&=67108863,z=Math.imul(G,pi),A=Math.imul(G,mi),A=A+Math.imul(te,pi)|0,W=Math.imul(te,mi),z=z+Math.imul($,fi)|0,A=A+Math.imul($,hi)|0,A=A+Math.imul(X,fi)|0,W=W+Math.imul(X,hi)|0,z=z+Math.imul(Lr,gi)|0,A=A+Math.imul(Lr,yi)|0,A=A+Math.imul(w,gi)|0,W=W+Math.imul(w,yi)|0,z=z+Math.imul(Qr,bi)|0,A=A+Math.imul(Qr,vi)|0,A=A+Math.imul(xn,bi)|0,W=W+Math.imul(xn,vi)|0;var iL=(K+z|0)+((A&8191)<<13)|0;K=(W+(A>>>13)|0)+(iL>>>26)|0,iL&=67108863,z=Math.imul(G,fi),A=Math.imul(G,hi),A=A+Math.imul(te,fi)|0,W=Math.imul(te,hi),z=z+Math.imul($,gi)|0,A=A+Math.imul($,yi)|0,A=A+Math.imul(X,gi)|0,W=W+Math.imul(X,yi)|0,z=z+Math.imul(Lr,bi)|0,A=A+Math.imul(Lr,vi)|0,A=A+Math.imul(w,bi)|0,W=W+Math.imul(w,vi)|0;var oL=(K+z|0)+((A&8191)<<13)|0;K=(W+(A>>>13)|0)+(oL>>>26)|0,oL&=67108863,z=Math.imul(G,gi),A=Math.imul(G,yi),A=A+Math.imul(te,gi)|0,W=Math.imul(te,yi),z=z+Math.imul($,bi)|0,A=A+Math.imul($,vi)|0,A=A+Math.imul(X,bi)|0,W=W+Math.imul(X,vi)|0;var sL=(K+z|0)+((A&8191)<<13)|0;K=(W+(A>>>13)|0)+(sL>>>26)|0,sL&=67108863,z=Math.imul(G,bi),A=Math.imul(G,vi),A=A+Math.imul(te,bi)|0,W=Math.imul(te,vi);var aL=(K+z|0)+((A&8191)<<13)|0;return K=(W+(A>>>13)|0)+(aL>>>26)|0,aL&=67108863,q[0]=j$,q[1]=q$,q[2]=H$,q[3]=W$,q[4]=G$,q[5]=K$,q[6]=Y$,q[7]=J$,q[8]=Q$,q[9]=Z$,q[10]=X$,q[11]=eL,q[12]=tL,q[13]=rL,q[14]=nL,q[15]=iL,q[16]=oL,q[17]=sL,q[18]=aL,K!==0&&(q[19]=K,R.length++),R};Math.imul||(v=y);function _(O,b,S){S.negative=b.negative^O.negative,S.length=O.length+b.length;for(var R=0,k=0,F=0;F<S.length-1;F++){var q=k;k=0;for(var K=R&67108863,z=Math.min(F,b.length-1),A=Math.max(0,F-O.length+1);A<=z;A++){var W=F-A,xe=O.words[W]|0,ge=b.words[A]|0,ke=xe*ge,Ye=ke&67108863;q=q+(ke/67108864|0)|0,Ye=Ye+K|0,K=Ye&67108863,q=q+(Ye>>>26)|0,k+=q>>>26,q&=67108863}S.words[F]=K,R=q,q=k}return R!==0?S.words[F]=R:S.length--,S._strip()}function x(O,b,S){return _(O,b,S)}i.prototype.mulTo=function(b,S){var R,k=this.length+b.length;return this.length===10&&b.length===10?R=v(this,b,S):k<63?R=y(this,b,S):k<1024?R=_(this,b,S):R=x(this,b,S),R};function E(O,b){this.x=O,this.y=b}E.prototype.makeRBT=function(b){for(var S=new Array(b),R=i.prototype._countBits(b)-1,k=0;k<b;k++)S[k]=this.revBin(k,R,b);return S},E.prototype.revBin=function(b,S,R){if(b===0||b===R-1)return b;for(var k=0,F=0;F<S;F++)k|=(b&1)<<S-F-1,b>>=1;return k},E.prototype.permute=function(b,S,R,k,F,q){for(var K=0;K<q;K++)k[K]=S[b[K]],F[K]=R[b[K]]},E.prototype.transform=function(b,S,R,k,F,q){this.permute(q,b,S,R,k,F);for(var K=1;K<F;K<<=1)for(var z=K<<1,A=Math.cos(2*Math.PI/z),W=Math.sin(2*Math.PI/z),xe=0;xe<F;xe+=z)for(var ge=A,ke=W,Ye=0;Ye<K;Ye++){var dt=R[xe+Ye],ut=k[xe+Ye],ot=R[xe+Ye+K],bt=k[xe+Ye+K],Re=ge*ot-ke*bt;bt=ge*bt+ke*ot,ot=Re,R[xe+Ye]=dt+ot,k[xe+Ye]=ut+bt,R[xe+Ye+K]=dt-ot,k[xe+Ye+K]=ut-bt,Ye!==z&&(Re=A*ge-W*ke,ke=A*ke+W*ge,ge=Re)}},E.prototype.guessLen13b=function(b,S){var R=Math.max(S,b)|1,k=R&1,F=0;for(R=R/2|0;R;R=R>>>1)F++;return 1<<F+1+k},E.prototype.conjugate=function(b,S,R){if(!(R<=1))for(var k=0;k<R/2;k++){var F=b[k];b[k]=b[R-k-1],b[R-k-1]=F,F=S[k],S[k]=-S[R-k-1],S[R-k-1]=-F}},E.prototype.normalize13b=function(b,S){for(var R=0,k=0;k<S/2;k++){var F=Math.round(b[2*k+1]/S)*8192+Math.round(b[2*k]/S)+R;b[k]=F&67108863,F<67108864?R=0:R=F/67108864|0}return b},E.prototype.convert13b=function(b,S,R,k){for(var F=0,q=0;q<S;q++)F=F+(b[q]|0),R[2*q]=F&8191,F=F>>>13,R[2*q+1]=F&8191,F=F>>>13;for(q=2*S;q<k;++q)R[q]=0;r(F===0),r((F&-8192)===0)},E.prototype.stub=function(b){for(var S=new Array(b),R=0;R<b;R++)S[R]=0;return S},E.prototype.mulp=function(b,S,R){var k=2*this.guessLen13b(b.length,S.length),F=this.makeRBT(k),q=this.stub(k),K=new Array(k),z=new Array(k),A=new Array(k),W=new Array(k),xe=new Array(k),ge=new Array(k),ke=R.words;ke.length=k,this.convert13b(b.words,b.length,K,k),this.convert13b(S.words,S.length,W,k),this.transform(K,q,z,A,k,F),this.transform(W,q,xe,ge,k,F);for(var Ye=0;Ye<k;Ye++){var dt=z[Ye]*xe[Ye]-A[Ye]*ge[Ye];A[Ye]=z[Ye]*ge[Ye]+A[Ye]*xe[Ye],z[Ye]=dt}return this.conjugate(z,A,k),this.transform(z,A,ke,q,k,F),this.conjugate(ke,q,k),this.normalize13b(ke,k),R.negative=b.negative^S.negative,R.length=b.length+S.length,R._strip()},i.prototype.mul=function(b){var S=new i(null);return S.words=new Array(this.length+b.length),this.mulTo(b,S)},i.prototype.mulf=function(b){var S=new i(null);return S.words=new Array(this.length+b.length),x(this,b,S)},i.prototype.imul=function(b){return this.clone().mulTo(b,this)},i.prototype.imuln=function(b){var S=b<0;S&&(b=-b),r(typeof b=="number"),r(b<67108864);for(var R=0,k=0;k<this.length;k++){var F=(this.words[k]|0)*b,q=(F&67108863)+(R&67108863);R>>=26,R+=F/67108864|0,R+=q>>>26,this.words[k]=q&67108863}return R!==0&&(this.words[k]=R,this.length++),this.length=b===0?1:this.length,S?this.ineg():this},i.prototype.muln=function(b){return this.clone().imuln(b)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(b){var S=f(b);if(S.length===0)return new i(1);for(var R=this,k=0;k<S.length&&S[k]===0;k++,R=R.sqr());if(++k<S.length)for(var F=R.sqr();k<S.length;k++,F=F.sqr())S[k]!==0&&(R=R.mul(F));return R},i.prototype.iushln=function(b){r(typeof b=="number"&&b>=0);var S=b%26,R=(b-S)/26,k=67108863>>>26-S<<26-S,F;if(S!==0){var q=0;for(F=0;F<this.length;F++){var K=this.words[F]&k,z=(this.words[F]|0)-K<<S;this.words[F]=z|q,q=K>>>26-S}q&&(this.words[F]=q,this.length++)}if(R!==0){for(F=this.length-1;F>=0;F--)this.words[F+R]=this.words[F];for(F=0;F<R;F++)this.words[F]=0;this.length+=R}return this._strip()},i.prototype.ishln=function(b){return r(this.negative===0),this.iushln(b)},i.prototype.iushrn=function(b,S,R){r(typeof b=="number"&&b>=0);var k;S?k=(S-S%26)/26:k=0;var F=b%26,q=Math.min((b-F)/26,this.length),K=67108863^67108863>>>F<<F,z=R;if(k-=q,k=Math.max(0,k),z){for(var A=0;A<q;A++)z.words[A]=this.words[A];z.length=q}if(q!==0)if(this.length>q)for(this.length-=q,A=0;A<this.length;A++)this.words[A]=this.words[A+q];else this.words[0]=0,this.length=1;var W=0;for(A=this.length-1;A>=0&&(W!==0||A>=k);A--){var xe=this.words[A]|0;this.words[A]=W<<26-F|xe>>>F,W=xe&K}return z&&W!==0&&(z.words[z.length++]=W),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(b,S,R){return r(this.negative===0),this.iushrn(b,S,R)},i.prototype.shln=function(b){return this.clone().ishln(b)},i.prototype.ushln=function(b){return this.clone().iushln(b)},i.prototype.shrn=function(b){return this.clone().ishrn(b)},i.prototype.ushrn=function(b){return this.clone().iushrn(b)},i.prototype.testn=function(b){r(typeof b=="number"&&b>=0);var S=b%26,R=(b-S)/26,k=1<<S;if(this.length<=R)return!1;var F=this.words[R];return!!(F&k)},i.prototype.imaskn=function(b){r(typeof b=="number"&&b>=0);var S=b%26,R=(b-S)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=R)return this;if(S!==0&&R++,this.length=Math.min(R,this.length),S!==0){var k=67108863^67108863>>>S<<S;this.words[this.length-1]&=k}return this._strip()},i.prototype.maskn=function(b){return this.clone().imaskn(b)},i.prototype.iaddn=function(b){return r(typeof b=="number"),r(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(this.words[0]|0)<=b?(this.words[0]=b-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},i.prototype._iaddn=function(b){this.words[0]+=b;for(var S=0;S<this.length&&this.words[S]>=67108864;S++)this.words[S]-=67108864,S===this.length-1?this.words[S+1]=1:this.words[S+1]++;return this.length=Math.max(this.length,S+1),this},i.prototype.isubn=function(b){if(r(typeof b=="number"),r(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var S=0;S<this.length&&this.words[S]<0;S++)this.words[S]+=67108864,this.words[S+1]-=1;return this._strip()},i.prototype.addn=function(b){return this.clone().iaddn(b)},i.prototype.subn=function(b){return this.clone().isubn(b)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(b,S,R){var k=b.length+R,F;this._expand(k);var q,K=0;for(F=0;F<b.length;F++){q=(this.words[F+R]|0)+K;var z=(b.words[F]|0)*S;q-=z&67108863,K=(q>>26)-(z/67108864|0),this.words[F+R]=q&67108863}for(;F<this.length-R;F++)q=(this.words[F+R]|0)+K,K=q>>26,this.words[F+R]=q&67108863;if(K===0)return this._strip();for(r(K===-1),K=0,F=0;F<this.length;F++)q=-(this.words[F]|0)+K,K=q>>26,this.words[F]=q&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(b,S){var R=this.length-b.length,k=this.clone(),F=b,q=F.words[F.length-1]|0,K=this._countBits(q);R=26-K,R!==0&&(F=F.ushln(R),k.iushln(R),q=F.words[F.length-1]|0);var z=k.length-F.length,A;if(S!=="mod"){A=new i(null),A.length=z+1,A.words=new Array(A.length);for(var W=0;W<A.length;W++)A.words[W]=0}var xe=k.clone()._ishlnsubmul(F,1,z);xe.negative===0&&(k=xe,A&&(A.words[z]=1));for(var ge=z-1;ge>=0;ge--){var ke=(k.words[F.length+ge]|0)*67108864+(k.words[F.length+ge-1]|0);for(ke=Math.min(ke/q|0,67108863),k._ishlnsubmul(F,ke,ge);k.negative!==0;)ke--,k.negative=0,k._ishlnsubmul(F,1,ge),k.isZero()||(k.negative^=1);A&&(A.words[ge]=ke)}return A&&A._strip(),k._strip(),S!=="div"&&R!==0&&k.iushrn(R),{div:A||null,mod:k}},i.prototype.divmod=function(b,S,R){if(r(!b.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var k,F,q;return this.negative!==0&&b.negative===0?(q=this.neg().divmod(b,S),S!=="mod"&&(k=q.div.neg()),S!=="div"&&(F=q.mod.neg(),R&&F.negative!==0&&F.iadd(b)),{div:k,mod:F}):this.negative===0&&b.negative!==0?(q=this.divmod(b.neg(),S),S!=="mod"&&(k=q.div.neg()),{div:k,mod:q.mod}):(this.negative&b.negative)!==0?(q=this.neg().divmod(b.neg(),S),S!=="div"&&(F=q.mod.neg(),R&&F.negative!==0&&F.isub(b)),{div:q.div,mod:F}):b.length>this.length||this.cmp(b)<0?{div:new i(0),mod:this}:b.length===1?S==="div"?{div:this.divn(b.words[0]),mod:null}:S==="mod"?{div:null,mod:new i(this.modrn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new i(this.modrn(b.words[0]))}:this._wordDiv(b,S)},i.prototype.div=function(b){return this.divmod(b,"div",!1).div},i.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},i.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},i.prototype.divRound=function(b){var S=this.divmod(b);if(S.mod.isZero())return S.div;var R=S.div.negative!==0?S.mod.isub(b):S.mod,k=b.ushrn(1),F=b.andln(1),q=R.cmp(k);return q<0||F===1&&q===0?S.div:S.div.negative!==0?S.div.isubn(1):S.div.iaddn(1)},i.prototype.modrn=function(b){var S=b<0;S&&(b=-b),r(b<=67108863);for(var R=(1<<26)%b,k=0,F=this.length-1;F>=0;F--)k=(R*k+(this.words[F]|0))%b;return S?-k:k},i.prototype.modn=function(b){return this.modrn(b)},i.prototype.idivn=function(b){var S=b<0;S&&(b=-b),r(b<=67108863);for(var R=0,k=this.length-1;k>=0;k--){var F=(this.words[k]|0)+R*67108864;this.words[k]=F/b|0,R=F%b}return this._strip(),S?this.ineg():this},i.prototype.divn=function(b){return this.clone().idivn(b)},i.prototype.egcd=function(b){r(b.negative===0),r(!b.isZero());var S=this,R=b.clone();S.negative!==0?S=S.umod(b):S=S.clone();for(var k=new i(1),F=new i(0),q=new i(0),K=new i(1),z=0;S.isEven()&&R.isEven();)S.iushrn(1),R.iushrn(1),++z;for(var A=R.clone(),W=S.clone();!S.isZero();){for(var xe=0,ge=1;(S.words[0]&ge)===0&&xe<26;++xe,ge<<=1);if(xe>0)for(S.iushrn(xe);xe-- >0;)(k.isOdd()||F.isOdd())&&(k.iadd(A),F.isub(W)),k.iushrn(1),F.iushrn(1);for(var ke=0,Ye=1;(R.words[0]&Ye)===0&&ke<26;++ke,Ye<<=1);if(ke>0)for(R.iushrn(ke);ke-- >0;)(q.isOdd()||K.isOdd())&&(q.iadd(A),K.isub(W)),q.iushrn(1),K.iushrn(1);S.cmp(R)>=0?(S.isub(R),k.isub(q),F.isub(K)):(R.isub(S),q.isub(k),K.isub(F))}return{a:q,b:K,gcd:R.iushln(z)}},i.prototype._invmp=function(b){r(b.negative===0),r(!b.isZero());var S=this,R=b.clone();S.negative!==0?S=S.umod(b):S=S.clone();for(var k=new i(1),F=new i(0),q=R.clone();S.cmpn(1)>0&&R.cmpn(1)>0;){for(var K=0,z=1;(S.words[0]&z)===0&&K<26;++K,z<<=1);if(K>0)for(S.iushrn(K);K-- >0;)k.isOdd()&&k.iadd(q),k.iushrn(1);for(var A=0,W=1;(R.words[0]&W)===0&&A<26;++A,W<<=1);if(A>0)for(R.iushrn(A);A-- >0;)F.isOdd()&&F.iadd(q),F.iushrn(1);S.cmp(R)>=0?(S.isub(R),k.isub(F)):(R.isub(S),F.isub(k))}var xe;return S.cmpn(1)===0?xe=k:xe=F,xe.cmpn(0)<0&&xe.iadd(b),xe},i.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var S=this.clone(),R=b.clone();S.negative=0,R.negative=0;for(var k=0;S.isEven()&&R.isEven();k++)S.iushrn(1),R.iushrn(1);do{for(;S.isEven();)S.iushrn(1);for(;R.isEven();)R.iushrn(1);var F=S.cmp(R);if(F<0){var q=S;S=R,R=q}else if(F===0||R.cmpn(1)===0)break;S.isub(R)}while(!0);return R.iushln(k)},i.prototype.invm=function(b){return this.egcd(b).a.umod(b)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(b){return this.words[0]&b},i.prototype.bincn=function(b){r(typeof b=="number");var S=b%26,R=(b-S)/26,k=1<<S;if(this.length<=R)return this._expand(R+1),this.words[R]|=k,this;for(var F=k,q=R;F!==0&&q<this.length;q++){var K=this.words[q]|0;K+=F,F=K>>>26,K&=67108863,this.words[q]=K}return F!==0&&(this.words[q]=F,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(b){var S=b<0;if(this.negative!==0&&!S)return-1;if(this.negative===0&&S)return 1;this._strip();var R;if(this.length>1)R=1;else{S&&(b=-b),r(b<=67108863,"Number is too big");var k=this.words[0]|0;R=k===b?0:k<b?-1:1}return this.negative!==0?-R|0:R},i.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var S=this.ucmp(b);return this.negative!==0?-S|0:S},i.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var S=0,R=this.length-1;R>=0;R--){var k=this.words[R]|0,F=b.words[R]|0;if(k!==F){k<F?S=-1:k>F&&(S=1);break}}return S},i.prototype.gtn=function(b){return this.cmpn(b)===1},i.prototype.gt=function(b){return this.cmp(b)===1},i.prototype.gten=function(b){return this.cmpn(b)>=0},i.prototype.gte=function(b){return this.cmp(b)>=0},i.prototype.ltn=function(b){return this.cmpn(b)===-1},i.prototype.lt=function(b){return this.cmp(b)===-1},i.prototype.lten=function(b){return this.cmpn(b)<=0},i.prototype.lte=function(b){return this.cmp(b)<=0},i.prototype.eqn=function(b){return this.cmpn(b)===0},i.prototype.eq=function(b){return this.cmp(b)===0},i.red=function(b){return new j(b)},i.prototype.toRed=function(b){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(b){return this.red=b,this},i.prototype.forceRed=function(b){return r(!this.red,"Already a number in reduction context"),this._forceRed(b)},i.prototype.redAdd=function(b){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},i.prototype.redIAdd=function(b){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},i.prototype.redSub=function(b){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},i.prototype.redISub=function(b){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},i.prototype.redShl=function(b){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},i.prototype.redMul=function(b){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},i.prototype.redIMul=function(b){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(b){return r(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)};var I={k256:null,p224:null,p192:null,p25519:null};function N(O,b){this.name=O,this.p=new i(b,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}N.prototype._tmp=function(){var b=new i(null);return b.words=new Array(Math.ceil(this.n/13)),b},N.prototype.ireduce=function(b){var S=b,R;do this.split(S,this.tmp),S=this.imulK(S),S=S.iadd(this.tmp),R=S.bitLength();while(R>this.n);var k=R<this.n?-1:S.ucmp(this.p);return k===0?(S.words[0]=0,S.length=1):k>0?S.isub(this.p):S.strip!==void 0?S.strip():S._strip(),S},N.prototype.split=function(b,S){b.iushrn(this.n,0,S)},N.prototype.imulK=function(b){return b.imul(this.k)};function L(){N.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(L,N),L.prototype.split=function(b,S){for(var R=4194303,k=Math.min(b.length,9),F=0;F<k;F++)S.words[F]=b.words[F];if(S.length=k,b.length<=9){b.words[0]=0,b.length=1;return}var q=b.words[9];for(S.words[S.length++]=q&R,F=10;F<b.length;F++){var K=b.words[F]|0;b.words[F-10]=(K&R)<<4|q>>>22,q=K}q>>>=22,b.words[F-10]=q,q===0&&b.length>10?b.length-=10:b.length-=9},L.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var S=0,R=0;R<b.length;R++){var k=b.words[R]|0;S+=k*977,b.words[R]=S&67108863,S=k*64+(S/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b};function B(){N.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(B,N);function P(){N.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(P,N);function V(){N.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(V,N),V.prototype.imulK=function(b){for(var S=0,R=0;R<b.length;R++){var k=(b.words[R]|0)*19+S,F=k&67108863;k>>>=26,b.words[R]=F,S=k}return S!==0&&(b.words[b.length++]=S),b},i._prime=function(b){if(I[b])return I[b];var S;if(b==="k256")S=new L;else if(b==="p224")S=new B;else if(b==="p192")S=new P;else if(b==="p25519")S=new V;else throw new Error("Unknown prime "+b);return I[b]=S,S};function j(O){if(typeof O=="string"){var b=i._prime(O);this.m=b.p,this.prime=b}else r(O.gtn(1),"modulus must be greater than 1"),this.m=O,this.prime=null}j.prototype._verify1=function(b){r(b.negative===0,"red works only with positives"),r(b.red,"red works only with red numbers")},j.prototype._verify2=function(b,S){r((b.negative|S.negative)===0,"red works only with positives"),r(b.red&&b.red===S.red,"red works only with red numbers")},j.prototype.imod=function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):(l(b,b.umod(this.m)._forceRed(this)),b)},j.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},j.prototype.add=function(b,S){this._verify2(b,S);var R=b.add(S);return R.cmp(this.m)>=0&&R.isub(this.m),R._forceRed(this)},j.prototype.iadd=function(b,S){this._verify2(b,S);var R=b.iadd(S);return R.cmp(this.m)>=0&&R.isub(this.m),R},j.prototype.sub=function(b,S){this._verify2(b,S);var R=b.sub(S);return R.cmpn(0)<0&&R.iadd(this.m),R._forceRed(this)},j.prototype.isub=function(b,S){this._verify2(b,S);var R=b.isub(S);return R.cmpn(0)<0&&R.iadd(this.m),R},j.prototype.shl=function(b,S){return this._verify1(b),this.imod(b.ushln(S))},j.prototype.imul=function(b,S){return this._verify2(b,S),this.imod(b.imul(S))},j.prototype.mul=function(b,S){return this._verify2(b,S),this.imod(b.mul(S))},j.prototype.isqr=function(b){return this.imul(b,b.clone())},j.prototype.sqr=function(b){return this.mul(b,b)},j.prototype.sqrt=function(b){if(b.isZero())return b.clone();var S=this.m.andln(3);if(r(S%2===1),S===3){var R=this.m.add(new i(1)).iushrn(2);return this.pow(b,R)}for(var k=this.m.subn(1),F=0;!k.isZero()&&k.andln(1)===0;)F++,k.iushrn(1);r(!k.isZero());var q=new i(1).toRed(this),K=q.redNeg(),z=this.m.subn(1).iushrn(1),A=this.m.bitLength();for(A=new i(2*A*A).toRed(this);this.pow(A,z).cmp(K)!==0;)A.redIAdd(K);for(var W=this.pow(A,k),xe=this.pow(b,k.addn(1).iushrn(1)),ge=this.pow(b,k),ke=F;ge.cmp(q)!==0;){for(var Ye=ge,dt=0;Ye.cmp(q)!==0;dt++)Ye=Ye.redSqr();r(dt<ke);var ut=this.pow(W,new i(1).iushln(ke-dt-1));xe=xe.redMul(ut),W=ut.redSqr(),ge=ge.redMul(W),ke=dt}return xe},j.prototype.invm=function(b){var S=b._invmp(this.m);return S.negative!==0?(S.negative=0,this.imod(S).redNeg()):this.imod(S)},j.prototype.pow=function(b,S){if(S.isZero())return new i(1).toRed(this);if(S.cmpn(1)===0)return b.clone();var R=4,k=new Array(1<<R);k[0]=new i(1).toRed(this),k[1]=b;for(var F=2;F<k.length;F++)k[F]=this.mul(k[F-1],b);var q=k[0],K=0,z=0,A=S.bitLength()%26;for(A===0&&(A=26),F=S.length-1;F>=0;F--){for(var W=S.words[F],xe=A-1;xe>=0;xe--){var ge=W>>xe&1;if(q!==k[0]&&(q=this.sqr(q)),ge===0&&K===0){z=0;continue}K<<=1,K|=ge,z++,!(z!==R&&(F!==0||xe!==0))&&(q=this.mul(q,k[K]),z=0,K=0)}A=26}return q},j.prototype.convertTo=function(b){var S=b.umod(this.m);return S===b?S.clone():S},j.prototype.convertFrom=function(b){var S=b.clone();return S.red=null,S},i.mont=function(b){return new ee(b)};function ee(O){j.call(this,O),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(ee,j),ee.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},ee.prototype.convertFrom=function(b){var S=this.imod(b.mul(this.rinv));return S.red=null,S},ee.prototype.imul=function(b,S){if(b.isZero()||S.isZero())return b.words[0]=0,b.length=1,b;var R=b.imul(S),k=R.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),F=R.isub(k).iushrn(this.shift),q=F;return F.cmp(this.m)>=0?q=F.isub(this.m):F.cmpn(0)<0&&(q=F.iadd(this.m)),q._forceRed(this)},ee.prototype.mul=function(b,S){if(b.isZero()||S.isZero())return new i(0)._forceRed(this);var R=b.mul(S),k=R.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),F=R.isub(k).iushrn(this.shift),q=F;return F.cmp(this.m)>=0?q=F.isub(this.m):F.cmpn(0)<0&&(q=F.iadd(this.m)),q._forceRed(this)},ee.prototype.invm=function(b){var S=this.imod(b._invmp(this.m).mul(this.r2));return S._forceRed(this)}})(typeof Vae>"u"||Vae,KKe)});var Hae=Le((qae,JKe)=>{"use strict";var AD=St("buffer"),Dd=AD.Buffer;function YKe(t,e){for(var r in t)e[r]=t[r]}Dd.from&&Dd.alloc&&Dd.allocUnsafe&&Dd.allocUnsafeSlow?JKe.exports=AD:(YKe(AD,qae),qae.Buffer=Fy);function Fy(t,e,r){return Dd(t,e,r)}Fy.prototype=Object.create(Dd.prototype);YKe(Dd,Fy);Fy.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Dd(t,e,r)};Fy.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=Dd(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Fy.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Dd(t)};Fy.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return AD.SlowBuffer(t)}});var ZKe=Le((SAn,QKe)=>{"use strict";var ED=Hae().Buffer;function PMt(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=n}var s=t.length,a=t.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function u(m){if((Array.isArray(m)||m instanceof Uint8Array)&&(m=ED.from(m)),!ED.isBuffer(m))throw new TypeError("Expected Buffer");if(m.length===0)return"";for(var h=0,f=0,y=0,v=m.length;y!==v&&m[y]===0;)y++,h++;for(var _=(v-y)*l+1>>>0,x=new Uint8Array(_);y!==v;){for(var E=m[y],I=0,N=_-1;(E!==0||I<f)&&N!==-1;N--,I++)E+=256*x[N]>>>0,x[N]=E%s>>>0,E=E/s>>>0;if(E!==0)throw new Error("Non-zero carry");f=I,y++}for(var L=_-f;L!==_&&x[L]===0;)L++;for(var B=a.repeat(h);L<_;++L)B+=t.charAt(x[L]);return B}function d(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return ED.alloc(0);for(var h=0,f=0,y=0;m[h]===a;)f++,h++;for(var v=(m.length-h)*c+1>>>0,_=new Uint8Array(v);h<m.length;){var x=m.charCodeAt(h);if(x>255)return;var E=e[x];if(E===255)return;for(var I=0,N=v-1;(E!==0||I<y)&&N!==-1;N--,I++)E+=s*_[N]>>>0,_[N]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");y=I,h++}for(var L=v-y;L!==v&&_[L]===0;)L++;var B=ED.allocUnsafe(f+(v-L));B.fill(0,0,f);for(var P=f;L!==v;)B[P++]=_[L++];return B}function p(m){var h=d(m);if(h)return h;throw new Error("Non-base"+s+" character")}return{encode:u,decodeUnsafe:d,decode:p}}QKe.exports=PMt});var eYe=Le((wAn,XKe)=>{"use strict";var kMt=ZKe(),DMt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";XKe.exports=kMt(DMt)});var rYe=Le((xAn,tYe)=>{"use strict";var RD=Hae().Buffer;function MMt(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=n}var s=t.length,a=t.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function u(m){if((Array.isArray(m)||m instanceof Uint8Array)&&(m=RD.from(m)),!RD.isBuffer(m))throw new TypeError("Expected Buffer");if(m.length===0)return"";for(var h=0,f=0,y=0,v=m.length;y!==v&&m[y]===0;)y++,h++;for(var _=(v-y)*l+1>>>0,x=new Uint8Array(_);y!==v;){for(var E=m[y],I=0,N=_-1;(E!==0||I<f)&&N!==-1;N--,I++)E+=256*x[N]>>>0,x[N]=E%s>>>0,E=E/s>>>0;if(E!==0)throw new Error("Non-zero carry");f=I,y++}for(var L=_-f;L!==_&&x[L]===0;)L++;for(var B=a.repeat(h);L<_;++L)B+=t.charAt(x[L]);return B}function d(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return RD.alloc(0);for(var h=0,f=0,y=0;m[h]===a;)f++,h++;for(var v=(m.length-h)*c+1>>>0,_=new Uint8Array(v);h<m.length;){var x=m.charCodeAt(h);if(x>255)return;var E=e[x];if(E===255)return;for(var I=0,N=v-1;(E!==0||I<y)&&N!==-1;N--,I++)E+=s*_[N]>>>0,_[N]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");y=I,h++}for(var L=v-y;L!==v&&_[L]===0;)L++;var B=RD.allocUnsafe(f+(v-L));B.fill(0,0,f);for(var P=f;L!==v;)B[P++]=_[L++];return B}function p(m){var h=d(m);if(h)return h;throw new Error("Non-base"+s+" character")}return{encode:u,decodeUnsafe:d,decode:p}}tYe.exports=MMt});var iYe=Le((AAn,nYe)=>{"use strict";var $Mt=rYe(),LMt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";nYe.exports=$Mt(LMt)});var oYe=Le(Kae=>{"use strict";function Dm(t,e,r){return e<=t&&t<=r}function ND(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function BMt(t){for(var e=String(t),r=e.length,n=0,i=[];n<r;){var o=e.charCodeAt(n);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(n===r-1)i.push(65533);else{var s=t.charCodeAt(n+1);if(56320<=s&&s<=57343){var a=o&1023,c=s&1023;i.push(65536+(a<<10)+c),n+=1}else i.push(65533)}n+=1}return i}function UMt(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var TD=-1;function Gae(t){this.tokens=[].slice.call(t)}Gae.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():TD},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var VS=-1;function Wae(t,e){if(t)throw TypeError("Decoder error");return e||65533}var ID="utf-8";function CD(t,e){if(!(this instanceof CD))return new CD(t,e);if(t=t!==void 0?String(t).toLowerCase():ID,t!==ID)throw new Error("Encoding not supported. Only utf-8 is supported");e=ND(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}CD.prototype={decode:function(e,r){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),r=ND(r),this._streaming||(this._decoder=new FMt({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!r.stream;for(var i=new Gae(n),o=[],s;!i.endOfStream()&&(s=this._decoder.handler(i,i.read()),s!==VS);)s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s));if(!this._streaming){do{if(s=this._decoder.handler(i,i.read()),s===VS)break;s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s))}while(!i.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),UMt(o)}};function OD(t,e){if(!(this instanceof OD))return new OD(t,e);if(t=t!==void 0?String(t).toLowerCase():ID,t!==ID)throw new Error("Encoding not supported. Only utf-8 is supported");e=ND(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}OD.prototype={encode:function(e,r){e=e?String(e):"",r=ND(r),this._streaming||(this._encoder=new zMt(this._options)),this._streaming=!!r.stream;for(var n=[],i=new Gae(BMt(e)),o;!i.endOfStream()&&(o=this._encoder.handler(i,i.read()),o!==VS);)Array.isArray(o)?n.push.apply(n,o):n.push(o);if(!this._streaming){for(;o=this._encoder.handler(i,i.read()),o!==VS;)Array.isArray(o)?n.push.apply(n,o):n.push(o);this._encoder=null}return new Uint8Array(n)}};function FMt(t){var e=t.fatal,r=0,n=0,i=0,o=128,s=191;this.handler=function(a,c){if(c===TD&&i!==0)return i=0,Wae(e);if(c===TD)return VS;if(i===0){if(Dm(c,0,127))return c;if(Dm(c,194,223))i=1,r=c-192;else if(Dm(c,224,239))c===224&&(o=160),c===237&&(s=159),i=2,r=c-224;else if(Dm(c,240,244))c===240&&(o=144),c===244&&(s=143),i=3,r=c-240;else return Wae(e);return r=r<<6*i,null}if(!Dm(c,o,s))return r=i=n=0,o=128,s=191,a.prepend(c),Wae(e);if(o=128,s=191,n+=1,r+=c-128<<6*(i-n),n!==i)return null;var l=r;return r=i=n=0,l}}function zMt(t){var e=t.fatal;this.handler=function(r,n){if(n===TD)return VS;if(Dm(n,0,127))return n;var i,o;Dm(n,128,2047)?(i=1,o=192):Dm(n,2048,65535)?(i=2,o=224):Dm(n,65536,1114111)&&(i=3,o=240);for(var s=[(n>>6*i)+o];i>0;){var a=n>>6*(i-1);s.push(128|a&63),i-=1}return s}}Kae.TextEncoder=OD;Kae.TextDecoder=CD});var uYe=Le(Yr=>{"use strict";var VMt=Yr&&Yr.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),jMt=Yr&&Yr.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e}),Md=Yr&&Yr.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},qMt=Yr&&Yr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&VMt(e,t,r);return jMt(e,t),e},sYe=Yr&&Yr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yr,"__esModule",{value:!0});Yr.deserializeUnchecked=Yr.deserialize=Yr.serialize=Yr.BinaryReader=Yr.BinaryWriter=Yr.BorshError=Yr.baseDecode=Yr.baseEncode=void 0;var fg=sYe(jae()),aYe=sYe(iYe()),HMt=qMt(oYe()),WMt=typeof TextDecoder!="function"?HMt.TextDecoder:TextDecoder,GMt=new WMt("utf-8",{fatal:!0});function KMt(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),aYe.default.encode(Buffer.from(t))}Yr.baseEncode=KMt;function YMt(t){return Buffer.from(aYe.default.decode(t))}Yr.baseDecode=YMt;var Yae=1024,Co=class extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};Yr.BorshError=Co;var PD=class{constructor(){this.buf=Buffer.alloc(Yae),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(Yae)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new fg.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new fg.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new fg.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new fg.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(Yae)]),this.length+=e.length}writeString(e){this.maybeResize();let r=Buffer.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,r){this.maybeResize(),this.writeU32(e.length);for(let n of e)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}};Yr.BinaryWriter=PD;function $d(t,e,r){let n=r.value;r.value=function(...i){try{return n.apply(this,i)}catch(o){if(o instanceof RangeError){let s=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new Co("Reached the end of buffer when deserializing")}throw o}}}var Ts=class{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new fg.default(e,"le")}readU128(){let e=this.readBuffer(16);return new fg.default(e,"le")}readU256(){let e=this.readBuffer(32);return new fg.default(e,"le")}readU512(){let e=this.readBuffer(64);return new fg.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Co(`Expected buffer length ${e} isn't within bounds`);let r=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,r}readString(){let e=this.readU32(),r=this.readBuffer(e);try{return GMt.decode(r)}catch(n){throw new Co(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let r=this.readU32(),n=Array();for(let i=0;i<r;++i)n.push(e());return n}};Md([$d],Ts.prototype,"readU8",null);Md([$d],Ts.prototype,"readU16",null);Md([$d],Ts.prototype,"readU32",null);Md([$d],Ts.prototype,"readU64",null);Md([$d],Ts.prototype,"readU128",null);Md([$d],Ts.prototype,"readU256",null);Md([$d],Ts.prototype,"readU512",null);Md([$d],Ts.prototype,"readString",null);Md([$d],Ts.prototype,"readFixedArray",null);Md([$d],Ts.prototype,"readArray",null);Yr.BinaryReader=Ts;function cYe(t){return t.charAt(0).toUpperCase()+t.slice(1)}function zy(t,e,r,n,i){try{if(typeof n=="string")i[`write${cYe(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new Co(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new Co(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let o=0;o<n[1];o++)zy(t,null,r[o],n[0],i)}else i.writeArray(r,o=>{zy(t,e,o,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?i.writeU8(0):(i.writeU8(1),zy(t,e,r,n.type,i));break}case"map":{i.writeU32(r.size),r.forEach((o,s)=>{zy(t,e,s,n.key,i),zy(t,e,o,n.value,i)});break}default:throw new Co(`FieldType ${n} unrecognized`)}else lYe(t,r,i)}catch(o){throw o instanceof Co&&o.addToFieldPath(e),o}}function lYe(t,e,r){if(typeof e.borshSerialize=="function"){e.borshSerialize(r);return}let n=t.get(e.constructor);if(!n)throw new Co(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,o])=>{zy(t,i,e[i],o,r)});else if(n.kind==="enum"){let i=e[n.field];for(let o=0;o<n.values.length;++o){let[s,a]=n.values[o];if(s===i){r.writeU8(o),zy(t,s,e[s],a,r);break}}}else throw new Co(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function JMt(t,e,r=PD){let n=new r;return lYe(t,e,n),n.toArray()}Yr.serialize=JMt;function Vy(t,e,r,n){try{if(typeof r=="string")return n[`read${cYe(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){let i=[];for(let o=0;o<r[1];o++)i.push(Vy(t,null,r[0],n));return i}else return n.readArray(()=>Vy(t,e,r[0],n))}if(r.kind==="option")return n.readU8()?Vy(t,e,r.type,n):void 0;if(r.kind==="map"){let i=new Map,o=n.readU32();for(let s=0;s<o;s++){let a=Vy(t,e,r.key,n),c=Vy(t,e,r.value,n);i.set(a,c)}return i}return Jae(t,r,n)}catch(i){throw i instanceof Co&&i.addToFieldPath(e),i}}function Jae(t,e,r){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(r);let n=t.get(e);if(!n)throw new Co(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){let i={};for(let[o,s]of t.get(e).fields)i[o]=Vy(t,o,s,r);return new e(i)}if(n.kind==="enum"){let i=r.readU8();if(i>=n.values.length)throw new Co(`Enum index: ${i} is out of range`);let[o,s]=n.values[i],a=Vy(t,o,s,r);return new e({[o]:a})}throw new Co(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function QMt(t,e,r,n=Ts){let i=new n(r),o=Jae(t,e,i);if(i.offset<r.length)throw new Co(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return o}Yr.deserialize=QMt;function ZMt(t,e,r,n=Ts){let i=new n(r);return Jae(t,e,i)}Yr.deserializeUnchecked=ZMt});var ece=Le(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});le.s16=le.s8=le.nu64be=le.u48be=le.u40be=le.u32be=le.u24be=le.u16be=le.nu64=le.u48=le.u40=le.u32=le.u24=le.u16=le.u8=le.offset=le.greedy=le.Constant=le.UTF8=le.CString=le.Blob=le.Boolean=le.BitField=le.BitStructure=le.VariantLayout=le.Union=le.UnionLayoutDiscriminator=le.UnionDiscriminator=le.Structure=le.Sequence=le.DoubleBE=le.Double=le.FloatBE=le.Float=le.NearInt64BE=le.NearInt64=le.NearUInt64BE=le.NearUInt64=le.IntBE=le.Int=le.UIntBE=le.UInt=le.OffsetLayout=le.GreedyCount=le.ExternalLayout=le.bindConstructorLayout=le.nameWithProperty=le.Layout=le.uint8ArrayToBuffer=le.checkUint8Array=void 0;le.constant=le.utf8=le.cstr=le.blob=le.unionLayoutDiscriminator=le.union=le.seq=le.bits=le.struct=le.f64be=le.f64=le.f32be=le.f32=le.ns64be=le.s48be=le.s40be=le.s32be=le.s24be=le.s16be=le.ns64=le.s48=le.s40=le.s32=le.s24=void 0;var Zae=St("buffer");function HS(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}le.checkUint8Array=HS;function Ar(t){return HS(t),Zae.Buffer.from(t.buffer,t.byteOffset,t.length)}le.uint8ArrayToBuffer=Ar;var Tr=class{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}};le.Layout=Tr;function Xae(t,e){return e.property?t+"["+e.property+"]":t}le.nameWithProperty=Xae;function XMt(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Tr))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=(()=>new t),Object.defineProperty(t.prototype,"encode",{value(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value(r,n){return e.decode(r,n)},writable:!0})}le.bindConstructorLayout=XMt;var es=class extends Tr{isCount(){throw new Error("ExternalLayout is abstract")}};le.ExternalLayout=es;var kD=class extends es{constructor(e=1,r){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r=0){HS(e);let n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}};le.GreedyCount=kD;var vR=class extends es{constructor(e,r=0,n){if(!(e instanceof Tr))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof _a||this.layout instanceof Ya}decode(e,r=0){return this.layout.decode(e,r+this.offset)}encode(e,r,n=0){return this.layout.encode(e,r,n+this.offset)}};le.OffsetLayout=vR;var _a=class extends Tr{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return Ar(e).readUIntLE(r,this.span)}encode(e,r,n=0){return Ar(r).writeUIntLE(e,n,this.span),this.span}};le.UInt=_a;var Ya=class extends Tr{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return Ar(e).readUIntBE(r,this.span)}encode(e,r,n=0){return Ar(r).writeUIntBE(e,n,this.span),this.span}};le.UIntBE=Ya;var Mm=class extends Tr{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return Ar(e).readIntLE(r,this.span)}encode(e,r,n=0){return Ar(r).writeIntLE(e,n,this.span),this.span}};le.Int=Mm;var hg=class extends Tr{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return Ar(e).readIntBE(r,this.span)}encode(e,r,n=0){return Ar(r).writeIntBE(e,n,this.span),this.span}};le.IntBE=hg;var Qae=Math.pow(2,32);function JD(t){let e=Math.floor(t/Qae),r=t-e*Qae;return{hi32:e,lo32:r}}function QD(t,e){return t*Qae+e}var DD=class extends Tr{constructor(e){super(8,e)}decode(e,r=0){let n=Ar(e),i=n.readUInt32LE(r),o=n.readUInt32LE(r+4);return QD(o,i)}encode(e,r,n=0){let i=JD(e),o=Ar(r);return o.writeUInt32LE(i.lo32,n),o.writeUInt32LE(i.hi32,n+4),8}};le.NearUInt64=DD;var MD=class extends Tr{constructor(e){super(8,e)}decode(e,r=0){let n=Ar(e),i=n.readUInt32BE(r),o=n.readUInt32BE(r+4);return QD(i,o)}encode(e,r,n=0){let i=JD(e),o=Ar(r);return o.writeUInt32BE(i.hi32,n),o.writeUInt32BE(i.lo32,n+4),8}};le.NearUInt64BE=MD;var $D=class extends Tr{constructor(e){super(8,e)}decode(e,r=0){let n=Ar(e),i=n.readUInt32LE(r),o=n.readInt32LE(r+4);return QD(o,i)}encode(e,r,n=0){let i=JD(e),o=Ar(r);return o.writeUInt32LE(i.lo32,n),o.writeInt32LE(i.hi32,n+4),8}};le.NearInt64=$D;var LD=class extends Tr{constructor(e){super(8,e)}decode(e,r=0){let n=Ar(e),i=n.readInt32BE(r),o=n.readUInt32BE(r+4);return QD(i,o)}encode(e,r,n=0){let i=JD(e),o=Ar(r);return o.writeInt32BE(i.hi32,n),o.writeUInt32BE(i.lo32,n+4),8}};le.NearInt64BE=LD;var BD=class extends Tr{constructor(e){super(4,e)}decode(e,r=0){return Ar(e).readFloatLE(r)}encode(e,r,n=0){return Ar(r).writeFloatLE(e,n),4}};le.Float=BD;var UD=class extends Tr{constructor(e){super(4,e)}decode(e,r=0){return Ar(e).readFloatBE(r)}encode(e,r,n=0){return Ar(r).writeFloatBE(e,n),4}};le.FloatBE=UD;var FD=class extends Tr{constructor(e){super(8,e)}decode(e,r=0){return Ar(e).readDoubleLE(r)}encode(e,r,n=0){return Ar(r).writeDoubleLE(e,n),8}};le.Double=FD;var zD=class extends Tr{constructor(e){super(8,e)}decode(e,r=0){return Ar(e).readDoubleBE(r)}encode(e,r,n=0){return Ar(r).writeDoubleBE(e,n),8}};le.DoubleBE=zD;var VD=class extends Tr{constructor(e,r,n){if(!(e instanceof Tr))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof es&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof es)&&0<e.span&&(i=r*e.span),super(i,n),this.elementLayout=e,this.count=r}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof es&&(i=i.decode(e,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let o=0;for(;o<i;)n+=this.elementLayout.getSpan(e,r+n),++o}return n}decode(e,r=0){let n=[],i=0,o=this.count;for(o instanceof es&&(o=o.decode(e,r));i<o;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),i+=1;return n}encode(e,r,n=0){let i=this.elementLayout,o=e.reduce((s,a)=>s+i.encode(a,r,n+s),0);return this.count instanceof es&&this.count.encode(e.length,r,n),o}};le.Sequence=VD;var jD=class extends Tr{constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof Tr,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(let o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,o)=>{let s=o.getSpan(e,r);return r+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r=0){HS(e);let n=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,r)),r+=i.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n=0){let i=n,o=0,s=0;for(let a of this.fields){let c=a.span;if(s=0<c?c:0,a.property!==void 0){let l=e[a.property];l!==void 0&&(s=a.encode(l,r,n),0>c&&(c=a.getSpan(r,n)))}o=n,n+=c}return o+s-i}fromArray(e){let r=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(let n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}};le.Structure=jD;var _R=class{constructor(e){this.property=e}decode(e,r){throw new Error("UnionDiscriminator is abstract")}encode(e,r,n){throw new Error("UnionDiscriminator is abstract")}};le.UnionDiscriminator=_R;var qS=class extends _R{constructor(e,r){if(!(e instanceof es&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}};le.UnionLayoutDiscriminator=qS;var SR=class extends Tr{constructor(e,r,n){let i;if(e instanceof _a||e instanceof Ya)i=new qS(new vR(e));else if(e instanceof es&&e.isCount())i=new qS(e);else if(e instanceof _R)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof Tr))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let o=-1;r&&(o=r.span,0<=o&&(e instanceof _a||e instanceof Ya)&&(o+=i.layout.span)),super(o,n),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof _a||e instanceof Ya,this.defaultLayout=r,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,r=0){if(0<=this.span)return this.span;let n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(e,r.property)))return r}else for(let r in this.registry){let n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,r=0){let n,i=this.discriminator,o=i.decode(e,r),s=this.registry[o];if(s===void 0){let a=this.defaultLayout,c=0;this.usesPrefixDiscriminator&&(c=i.layout.span),n=this.makeDestinationObject(),n[i.property]=o,n[a.property]=a.decode(e,r+c)}else n=s.decode(e,r);return n}encode(e,r,n=0){let i=this.getSourceVariant(e);if(i===void 0){let o=this.discriminator,s=this.defaultLayout,a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(e[o.property],r,n),a+s.encode(e[s.property],r,n+a)}return i.encode(e,r,n)}addVariant(e,r,n){let i=new qD(this,e,r,n);return this.registry[e]=i,i}getVariant(e,r=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,r):n=e,this.registry[n]}};le.Union=SR;var qD=class extends Tr{constructor(e,r,n,i){if(!(e instanceof SR))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof Tr))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=n?n.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,r+n)),n+i}decode(e,r=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let o=i;if(this.layout&&(this.layout.encode(e[this.property],r,n+i),o+=this.layout.getSpan(r,n+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};le.VariantLayout=qD;function jS(t){return 0>t&&(t+=4294967296),t}var wR=class extends Tr{constructor(e,r,n){if(!(e instanceof _a||e instanceof Ya))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(o){return i=jS(o),this},this._packedGetValue=function(){return i}}decode(e,r=0){let n=this.makeDestinationObject(),i=this.word.decode(e,r);this._packedSetValue(i);for(let o of this.fields)o.property!==void 0&&(n[o.property]=o.decode(e));return n}encode(e,r,n=0){let i=this.word.decode(r,n);this._packedSetValue(i);for(let o of this.fields)if(o.property!==void 0){let s=e[o.property];s!==void 0&&o.encode(s)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){let n=new xR(this,e,r);return this.fields.push(n),n}addBoolean(e){let r=new HD(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}};le.BitStructure=wR;var xR=class{constructor(e,r,n){if(!(e instanceof wR))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");let i=8*e.span,o=e.fields.reduce((s,a)=>s+a.bits,0);if(r+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-r),this.wordMask=jS(this.valueMask<<this.start),this.property=n}decode(e,r){let n=this.container._packedGetValue();return jS(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==jS(e&this.valueMask))throw new TypeError(Xae("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let r=this.container._packedGetValue(),n=jS(e<<this.start);this.container._packedSetValue(jS(r&~this.wordMask)|n)}};le.BitField=xR;var HD=class extends xR{constructor(e,r){super(e,1,r)}decode(e,r){return!!super.decode(e,r)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};le.Boolean=HD;var WD=class extends Tr{constructor(e,r){if(!(e instanceof es&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof es||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r=0){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),Ar(e).slice(r,r+n)}encode(e,r,n){let i=this.length;if(this.length instanceof es&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(Xae("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>r.length)throw new RangeError("encoding overruns Uint8Array");let o=Ar(e);return Ar(r).write(o.toString("hex"),n,i,"hex"),this.length instanceof es&&this.length.encode(i,r,n),i}};le.Blob=WD;var GD=class extends Tr{constructor(e){super(-1,e)}getSpan(e,r=0){HS(e);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r=0){let n=this.getSpan(e,r);return Ar(e).slice(r,r+n-1).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let i=Zae.Buffer.from(e,"utf8"),o=i.length;if(n+o>r.length)throw new RangeError("encoding overruns Buffer");let s=Ar(r);return i.copy(s,n),s[n+o]=0,o+1}};le.CString=GD;var KD=class extends Tr{constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r=0){return HS(e),e.length-r}decode(e,r=0){let n=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return Ar(e).slice(r,r+n).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let i=Zae.Buffer.from(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(n+o>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(Ar(r),n),o}};le.UTF8=KD;var YD=class extends Tr{constructor(e,r){super(0,r),this.value=e}decode(e,r){return this.value}encode(e,r,n){return 0}};le.Constant=YD;le.greedy=((t,e)=>new kD(t,e));le.offset=((t,e,r)=>new vR(t,e,r));le.u8=(t=>new _a(1,t));le.u16=(t=>new _a(2,t));le.u24=(t=>new _a(3,t));le.u32=(t=>new _a(4,t));le.u40=(t=>new _a(5,t));le.u48=(t=>new _a(6,t));le.nu64=(t=>new DD(t));le.u16be=(t=>new Ya(2,t));le.u24be=(t=>new Ya(3,t));le.u32be=(t=>new Ya(4,t));le.u40be=(t=>new Ya(5,t));le.u48be=(t=>new Ya(6,t));le.nu64be=(t=>new MD(t));le.s8=(t=>new Mm(1,t));le.s16=(t=>new Mm(2,t));le.s24=(t=>new Mm(3,t));le.s32=(t=>new Mm(4,t));le.s40=(t=>new Mm(5,t));le.s48=(t=>new Mm(6,t));le.ns64=(t=>new $D(t));le.s16be=(t=>new hg(2,t));le.s24be=(t=>new hg(3,t));le.s32be=(t=>new hg(4,t));le.s40be=(t=>new hg(5,t));le.s48be=(t=>new hg(6,t));le.ns64be=(t=>new LD(t));le.f32=(t=>new BD(t));le.f32be=(t=>new UD(t));le.f64=(t=>new FD(t));le.f64be=(t=>new zD(t));le.struct=((t,e,r)=>new jD(t,e,r));le.bits=((t,e,r)=>new wR(t,e,r));le.seq=((t,e,r)=>new VD(t,e,r));le.union=((t,e,r)=>new SR(t,e,r));le.unionLayoutDiscriminator=((t,e)=>new qS(t,e));le.blob=((t,e)=>new WD(t,e));le.cstr=(t=>new GD(t));le.utf8=((t,e)=>new KD(t,e));le.constant=((t,e)=>new YD(t,e))});import hFt from"crypto";function RR(){return tM>rM.length-16&&(hFt.randomFillSync(rM),tM=0),rM.slice(tM,tM+=16)}var rM,tM,dce=g(()=>{"use strict";rM=new Uint8Array(256),tM=rM.length});var CYe,OYe=g(()=>{"use strict";CYe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function gFt(t){return typeof t=="string"&&CYe.test(t)}var yg,TR=g(()=>{"use strict";OYe();yg=gFt});function yFt(t,e=0){let r=(Oo[t[e+0]]+Oo[t[e+1]]+Oo[t[e+2]]+Oo[t[e+3]]+"-"+Oo[t[e+4]]+Oo[t[e+5]]+"-"+Oo[t[e+6]]+Oo[t[e+7]]+"-"+Oo[t[e+8]]+Oo[t[e+9]]+"-"+Oo[t[e+10]]+Oo[t[e+11]]+Oo[t[e+12]]+Oo[t[e+13]]+Oo[t[e+14]]+Oo[t[e+15]]).toLowerCase();if(!yg(r))throw TypeError("Stringified UUID is invalid");return r}var Oo,bg,IR=g(()=>{"use strict";TR();Oo=[];for(let t=0;t<256;++t)Oo.push((t+256).toString(16).substr(1));bg=yFt});function bFt(t,e,r){let n=e&&r||0,i=e||new Array(16);t=t||{};let o=t.node||NYe,s=t.clockseq!==void 0?t.clockseq:pce;if(o==null||s==null){let p=t.random||(t.rng||RR)();o==null&&(o=NYe=[p[0]|1,p[1],p[2],p[3],p[4],p[5]]),s==null&&(s=pce=(p[6]<<8|p[7])&16383)}let a=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:fce+1,l=a-mce+(c-fce)/1e4;if(l<0&&t.clockseq===void 0&&(s=s+1&16383),(l<0||a>mce)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");mce=a,fce=c,pce=s,a+=122192928e5;let u=((a&268435455)*1e4+c)%4294967296;i[n++]=u>>>24&255,i[n++]=u>>>16&255,i[n++]=u>>>8&255,i[n++]=u&255;let d=a/4294967296*1e4&268435455;i[n++]=d>>>8&255,i[n++]=d&255,i[n++]=d>>>24&15|16,i[n++]=d>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(let p=0;p<6;++p)i[n+p]=o[p];return e||bg(i)}var NYe,pce,mce,fce,PYe,kYe=g(()=>{"use strict";dce();IR();mce=0,fce=0;PYe=bFt});function vFt(t){if(!yg(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var nM,hce=g(()=>{"use strict";TR();nM=vFt});function _Ft(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}function iM(t,e,r){function n(i,o,s,a){if(typeof i=="string"&&(i=_Ft(i)),typeof o=="string"&&(o=nM(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+i.length);if(c.set(o),c.set(i,o.length),c=r(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,s){a=a||0;for(let l=0;l<16;++l)s[a+l]=c[l];return s}return bg(c)}try{n.name=t}catch{}return n.DNS=SFt,n.URL=wFt,n}var SFt,wFt,gce=g(()=>{"use strict";IR();hce();SFt="6ba7b810-9dad-11d1-80b4-00c04fd430c8",wFt="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});import xFt from"crypto";function AFt(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),xFt.createHash("md5").update(t).digest()}var DYe,MYe=g(()=>{"use strict";DYe=AFt});var EFt,$Ye,LYe=g(()=>{"use strict";gce();MYe();EFt=iM("v3",48,DYe),$Ye=EFt});function RFt(t,e,r){t=t||{};let n=t.random||(t.rng||RR)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return bg(n)}var BYe,UYe=g(()=>{"use strict";dce();IR();BYe=RFt});import TFt from"crypto";function IFt(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),TFt.createHash("sha1").update(t).digest()}var FYe,zYe=g(()=>{"use strict";FYe=IFt});var CFt,VYe,jYe=g(()=>{"use strict";gce();zYe();CFt=iM("v5",80,FYe),VYe=CFt});var qYe,HYe=g(()=>{"use strict";qYe="00000000-0000-0000-0000-000000000000"});function OFt(t){if(!yg(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var WYe,GYe=g(()=>{"use strict";TR();WYe=OFt});var yce={};lr(yce,{NIL:()=>qYe,parse:()=>nM,stringify:()=>bg,v1:()=>PYe,v3:()=>$Ye,v4:()=>BYe,v5:()=>VYe,validate:()=>yg,version:()=>WYe});var bce=g(()=>{"use strict";kYe();LYe();UYe();jYe();HYe();GYe();TR();IR();hce()});var YYe=Le((wEn,KYe)=>{"use strict";var NFt=(bce(),cL(yce)).v4,PFt=function(t,e,r,n){if(typeof t!="string")throw new TypeError(t+" must be a string");n=n||{};let i=typeof n.version=="number"?n.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");let o={method:t};if(i===2&&(o.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");o.params=e}if(typeof r>"u"){let s=typeof n.generator=="function"?n.generator:function(){return NFt()};o.id=s(o,n)}else i===2&&r===null?n.notificationIdNull&&(o.id=null):o.id=r;return o};KYe.exports=PFt});var QYe=Le((xEn,JYe)=>{"use strict";var kFt=(bce(),cL(yce)).v4,DFt=YYe(),CR=function(t,e){if(!(this instanceof CR))return new CR(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return kFt()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};JYe.exports=CR;CR.prototype.request=function(t,e,r,n){let i=this,o=null,s=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&s)throw new TypeError("JSON-RPC 1.0 does not support batching");if(s||!s&&t&&typeof t=="object"&&typeof e=="function")n=e,o=t;else{typeof r=="function"&&(n=r,r=void 0);let l=typeof n=="function";try{o=DFt(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(u){if(l){n(u);return}throw u}if(!l)return o}let c;try{c=JSON.stringify(o,this.options.replacer)}catch(l){n(l);return}return this.callServer(c,function(l,u){i._parseResponse(l,u,n)}),o};CR.prototype._parseResponse=function(t,e,r){if(t){r(t);return}if(!e){r();return}let n;try{n=JSON.parse(e,this.options.reviver)}catch(i){r(i);return}if(r.length===3)if(Array.isArray(n)){let i=function(s){return typeof s.error<"u"},o=function(s){return!i(s)};r(null,n.filter(i),n.filter(o));return}else{r(null,n.error,n.result);return}r(null,n)}});var XYe=Le((AEn,vce)=>{"use strict";var MFt=Object.prototype.hasOwnProperty,Is="~";function OR(){}Object.create&&(OR.prototype=Object.create(null),new OR().__proto__||(Is=!1));function $Ft(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function ZYe(t,e,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var o=new $Ft(r,n||t,i),s=Is?Is+e:e;return t._events[s]?t._events[s].fn?t._events[s]=[t._events[s],o]:t._events[s].push(o):(t._events[s]=o,t._eventsCount++),t}function oM(t,e){--t._eventsCount===0?t._events=new OR:delete t._events[e]}function rs(){this._events=new OR,this._eventsCount=0}rs.prototype.eventNames=function(){var e=[],r,n;if(this._eventsCount===0)return e;for(n in r=this._events)MFt.call(r,n)&&e.push(Is?n.slice(1):n);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(r)):e};rs.prototype.listeners=function(e){var r=Is?Is+e:e,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s};rs.prototype.listenerCount=function(e){var r=Is?Is+e:e,n=this._events[r];return n?n.fn?1:n.length:0};rs.prototype.emit=function(e,r,n,i,o,s){var a=Is?Is+e:e;if(!this._events[a])return!1;var c=this._events[a],l=arguments.length,u,d;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),l){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,r),!0;case 3:return c.fn.call(c.context,r,n),!0;case 4:return c.fn.call(c.context,r,n,i),!0;case 5:return c.fn.call(c.context,r,n,i,o),!0;case 6:return c.fn.call(c.context,r,n,i,o,s),!0}for(d=1,u=new Array(l-1);d<l;d++)u[d-1]=arguments[d];c.fn.apply(c.context,u)}else{var p=c.length,m;for(d=0;d<p;d++)switch(c[d].once&&this.removeListener(e,c[d].fn,void 0,!0),l){case 1:c[d].fn.call(c[d].context);break;case 2:c[d].fn.call(c[d].context,r);break;case 3:c[d].fn.call(c[d].context,r,n);break;case 4:c[d].fn.call(c[d].context,r,n,i);break;default:if(!u)for(m=1,u=new Array(l-1);m<l;m++)u[m-1]=arguments[m];c[d].fn.apply(c[d].context,u)}}return!0};rs.prototype.on=function(e,r,n){return ZYe(this,e,r,n,!1)};rs.prototype.once=function(e,r,n){return ZYe(this,e,r,n,!0)};rs.prototype.removeListener=function(e,r,n,i){var o=Is?Is+e:e;if(!this._events[o])return this;if(!r)return oM(this,o),this;var s=this._events[o];if(s.fn)s.fn===r&&(!i||s.once)&&(!n||s.context===n)&&oM(this,o);else{for(var a=0,c=[],l=s.length;a<l;a++)(s[a].fn!==r||i&&!s[a].once||n&&s[a].context!==n)&&c.push(s[a]);c.length?this._events[o]=c.length===1?c[0]:c:oM(this,o)}return this};rs.prototype.removeAllListeners=function(e){var r;return e?(r=Is?Is+e:e,this._events[r]&&oM(this,r)):(this._events=new OR,this._eventsCount=0),this};rs.prototype.off=rs.prototype.removeListener;rs.prototype.addListener=rs.prototype.on;rs.prefixed=Is;rs.EventEmitter=rs;typeof vce<"u"&&(vce.exports=rs)});function Qzt(){return VJe++,`evt_${Date.now()}_${VJe.toString(36)}_${Math.random().toString(36).slice(2,6)}`}function jJe(t){let e={eventId:Qzt(),timestamp:new Date().toISOString(),...t};return vM.push(e),vM.length>5e3&&vM.splice(0,vM.length-5e3),e.severity==="critical"?console.error(`[AUDIT:CRITICAL] ${e.action} \u2014 ${e.description}`,e.metadata?JSON.stringify(e.metadata):""):e.severity==="error"&&console.error(`[AUDIT:ERROR] ${e.action} \u2014 ${e.description}`),e}function $R(t,e,r,n,i){return jJe({category:"TRADE",severity:"info",action:t,description:e,agentId:r,roundId:n,metadata:i,source:"trading-service"})}function LR(t,e,r,n,i){return jJe({category:"TRADE",severity:"error",action:"trade_failed",description:t,agentId:e,roundId:n,metadata:{...i,error:r instanceof Error?r.message:r,stack:r instanceof Error?r.stack:void 0},source:"trading-service"})}var O5n,vM,VJe,_M=g(()=>{"use strict";O5n=process.env.AGENT_STATE_TABLE||"moltapp-agent-state",vM=[],VJe=0});function eVt(){return qJe++,`rcv_${Date.now()}_${qJe.toString(36)}_${Math.random().toString(36).slice(2,6)}`}function HJe(t){let e=eVt(),r=new Date().toISOString(),n=tVt(t.errorCode),i=n?BR.maxAttempts:0,o={recoveryId:e,agentId:t.agentId,side:t.side,symbol:t.symbol,quantity:t.quantity,error:t.error,errorCode:t.errorCode,attempts:1,maxAttempts:i,firstAttemptAt:r,lastAttemptAt:r,nextRetryAt:n?rVt(1):null,status:n?"pending":"dead_letter",txSignature:t.txSignature,roundId:t.roundId,metadata:t.metadata};if(SM.set(e,o),SM.size>Xzt){let s=SM.keys().next().value;s&&SM.delete(s)}return nVt(e,"registered",n?"queued_for_retry":"dead_lettered",`${t.side} ${t.quantity} ${t.symbol}: ${t.error}`),LR(`Trade failed: ${t.side} ${t.quantity} ${t.symbol}`,t.agentId,t.error,t.roundId,{recoveryId:e,errorCode:t.errorCode,retryable:n,maxAttempts:i}),o}function tVt(t){let e=new Set(["jupiter_order_failed","jupiter_execute_failed","rpc_timeout","rpc_error","network_error","rate_limited","transaction_timeout","slot_skipped"]),r=new Set(["insufficient_usdc_balance","insufficient_sol_for_fees","insufficient_stock_balance","stock_not_found","wallet_not_found","invalid_amount","position_limit_exceeded","daily_loss_limit"]);return e.has(t)?!0:!r.has(t)}function rVt(t){let e=Math.min(BR.initialDelayMs*Math.pow(BR.backoffMultiplier,t-1),BR.maxDelayMs),r=BR.jitter?Math.random()*e*.3:0,n=e+r;return new Date(Date.now()+n).toISOString()}function nVt(t,e,r,n){wM.push({recoveryId:t,action:e,timestamp:new Date().toISOString(),result:r,details:n}),wM.length>1e3&&wM.splice(0,wM.length-1e3)}var Zzt,Xzt,D5n,SM,wM,BR,qJe,WJe=g(()=>{"use strict";_M();Zzt={maxAttempts:3,initialDelayMs:2e3,backoffMultiplier:2,maxDelayMs:3e4,jitter:!0},Xzt=500,D5n=300*1e3,SM=new Map,wM=[],BR={...Zzt},qJe=0});var Ht={};lr(Ht,{$brand:()=>lT,$input:()=>IU,$output:()=>TU,NEVER:()=>lL,TimePrecision:()=>PU,ZodAny:()=>Sz,ZodArray:()=>Ez,ZodBase64:()=>$I,ZodBase64URL:()=>LI,ZodBigInt:()=>Bb,ZodBigIntFormat:()=>FI,ZodBoolean:()=>Lb,ZodCIDRv4:()=>DI,ZodCIDRv6:()=>MI,ZodCUID:()=>TI,ZodCUID2:()=>II,ZodCatch:()=>Gz,ZodCodec:()=>KI,ZodCustom:()=>Jw,ZodCustomStringFormat:()=>Mb,ZodDate:()=>Hw,ZodDefault:()=>zz,ZodDiscriminatedUnion:()=>Tz,ZodE164:()=>BI,ZodEmail:()=>AI,ZodEmoji:()=>EI,ZodEnum:()=>kb,ZodError:()=>tit,ZodExactOptional:()=>Bz,ZodFile:()=>$z,ZodFirstPartyTypeKind:()=>oV,ZodFunction:()=>rV,ZodGUID:()=>Fw,ZodIPv4:()=>PI,ZodIPv6:()=>kI,ZodISODate:()=>bI,ZodISODateTime:()=>yI,ZodISODuration:()=>_I,ZodISOTime:()=>vI,ZodIntersection:()=>Iz,ZodIssueCode:()=>nit,ZodJWT:()=>UI,ZodKSUID:()=>NI,ZodLazy:()=>Xz,ZodLiteral:()=>Mz,ZodMAC:()=>fz,ZodMap:()=>kz,ZodNaN:()=>Yz,ZodNanoID:()=>RI,ZodNever:()=>xz,ZodNonOptional:()=>WI,ZodNull:()=>vz,ZodNullable:()=>Fz,ZodNumber:()=>$b,ZodNumberFormat:()=>Bg,ZodObject:()=>Gw,ZodOptional:()=>HI,ZodPipe:()=>GI,ZodPrefault:()=>jz,ZodPromise:()=>tV,ZodReadonly:()=>Jz,ZodRealError:()=>Ls,ZodRecord:()=>Yw,ZodSet:()=>Dz,ZodString:()=>Db,ZodStringFormat:()=>Hr,ZodSuccess:()=>Wz,ZodSymbol:()=>yz,ZodTemplateLiteral:()=>Zz,ZodTransform:()=>Lz,ZodTuple:()=>Oz,ZodType:()=>Yt,ZodULID:()=>CI,ZodURL:()=>qw,ZodUUID:()=>Eu,ZodUndefined:()=>bz,ZodUnion:()=>Kw,ZodUnknown:()=>wz,ZodVoid:()=>Az,ZodXID:()=>OI,ZodXor:()=>Rz,_ZodString:()=>xI,_default:()=>Vz,_function:()=>kme,any:()=>dme,array:()=>Ww,base64:()=>Kpe,base64url:()=>Ype,bigint:()=>sme,boolean:()=>gz,catch:()=>Kz,check:()=>Dme,cidrv4:()=>Wpe,cidrv6:()=>Gpe,clone:()=>as,codec:()=>Ome,coerce:()=>sV,config:()=>Wn,core:()=>jd,cuid:()=>Bpe,cuid2:()=>Upe,custom:()=>Mme,date:()=>mme,decode:()=>az,decodeAsync:()=>lz,describe:()=>$me,discriminatedUnion:()=>vme,e164:()=>Jpe,email:()=>Ipe,emoji:()=>$pe,encode:()=>sz,encodeAsync:()=>cz,endsWith:()=>xb,enum:()=>jI,exactOptional:()=>Uz,file:()=>Rme,flattenError:()=>Tw,float32:()=>rme,float64:()=>nme,formatError:()=>Iw,fromJSONSchema:()=>jme,function:()=>kme,getErrorMap:()=>oit,globalRegistry:()=>lo,gt:()=>xu,gte:()=>cs,guid:()=>Cpe,hash:()=>tme,hex:()=>eme,hostname:()=>Xpe,httpUrl:()=>Mpe,includes:()=>Sb,instanceof:()=>Bme,int:()=>wI,int32:()=>ime,int64:()=>ame,intersection:()=>Cz,ipv4:()=>jpe,ipv6:()=>Hpe,iso:()=>Pb,json:()=>Fme,jwt:()=>Qpe,keyof:()=>fme,ksuid:()=>Vpe,lazy:()=>eV,length:()=>$g,literal:()=>Eme,locales:()=>$w,looseObject:()=>yme,looseRecord:()=>Sme,lowercase:()=>vb,lt:()=>wu,lte:()=>Ra,mac:()=>qpe,map:()=>wme,maxLength:()=>Mg,maxSize:()=>Zm,meta:()=>Lme,mime:()=>Ab,minLength:()=>Vd,minSize:()=>Au,multipleOf:()=>Qm,nan:()=>Cme,nanoid:()=>Lpe,nativeEnum:()=>Ame,negative:()=>aI,never:()=>zI,nonnegative:()=>lI,nonoptional:()=>Hz,nonpositive:()=>cI,normalize:()=>Eb,null:()=>_z,nullable:()=>Vw,nullish:()=>Tme,number:()=>hz,object:()=>hme,optional:()=>zw,overwrite:()=>kl,parse:()=>rz,parseAsync:()=>nz,partialRecord:()=>_me,pipe:()=>jw,positive:()=>sI,prefault:()=>qz,preprocess:()=>zme,prettifyError:()=>SL,promise:()=>Pme,property:()=>uI,readonly:()=>Qz,record:()=>Pz,refine:()=>nV,regex:()=>bb,regexes:()=>rc,registry:()=>UT,safeDecode:()=>dz,safeDecodeAsync:()=>mz,safeEncode:()=>uz,safeEncodeAsync:()=>pz,safeParse:()=>iz,safeParseAsync:()=>oz,set:()=>xme,setErrorMap:()=>iit,size:()=>Dg,slugify:()=>Cb,startsWith:()=>wb,strictObject:()=>gme,string:()=>SI,stringFormat:()=>Zpe,stringbool:()=>Ume,success:()=>Ime,superRefine:()=>iV,symbol:()=>lme,templateLiteral:()=>Nme,toJSONSchema:()=>fI,toLowerCase:()=>Tb,toUpperCase:()=>Ib,transform:()=>qI,treeifyError:()=>_L,trim:()=>Rb,tuple:()=>Nz,uint32:()=>ome,uint64:()=>cme,ulid:()=>Fpe,undefined:()=>ume,union:()=>VI,unknown:()=>Lg,uppercase:()=>_b,url:()=>Dpe,util:()=>Pe,uuid:()=>Ope,uuidv4:()=>Npe,uuidv6:()=>Ppe,uuidv7:()=>kpe,void:()=>pme,xid:()=>zpe,xor:()=>bme});var jd={};lr(jd,{$ZodAny:()=>YB,$ZodArray:()=>eU,$ZodAsyncError:()=>Pl,$ZodBase64:()=>UB,$ZodBase64URL:()=>FB,$ZodBigInt:()=>PT,$ZodBigIntFormat:()=>HB,$ZodBoolean:()=>Pw,$ZodCIDRv4:()=>$B,$ZodCIDRv6:()=>LB,$ZodCUID:()=>AB,$ZodCUID2:()=>EB,$ZodCatch:()=>bU,$ZodCheck:()=>Zr,$ZodCheckBigIntFormat:()=>eB,$ZodCheckEndsWith:()=>pB,$ZodCheckGreaterThan:()=>ET,$ZodCheckIncludes:()=>uB,$ZodCheckLengthEquals:()=>sB,$ZodCheckLessThan:()=>AT,$ZodCheckLowerCase:()=>cB,$ZodCheckMaxLength:()=>iB,$ZodCheckMaxSize:()=>tB,$ZodCheckMimeType:()=>fB,$ZodCheckMinLength:()=>oB,$ZodCheckMinSize:()=>rB,$ZodCheckMultipleOf:()=>ZL,$ZodCheckNumberFormat:()=>XL,$ZodCheckOverwrite:()=>hB,$ZodCheckProperty:()=>mB,$ZodCheckRegex:()=>aB,$ZodCheckSizeEquals:()=>nB,$ZodCheckStartsWith:()=>dB,$ZodCheckStringFormat:()=>gb,$ZodCheckUpperCase:()=>lB,$ZodCodec:()=>Dw,$ZodCustom:()=>RU,$ZodCustomStringFormat:()=>jB,$ZodDate:()=>XB,$ZodDefault:()=>fU,$ZodDiscriminatedUnion:()=>nU,$ZodE164:()=>zB,$ZodEmail:()=>_B,$ZodEmoji:()=>wB,$ZodEncodeError:()=>Wm,$ZodEnum:()=>cU,$ZodError:()=>Rw,$ZodExactOptional:()=>pU,$ZodFile:()=>uU,$ZodFunction:()=>xU,$ZodGUID:()=>bB,$ZodIPv4:()=>kB,$ZodIPv6:()=>DB,$ZodISODate:()=>OB,$ZodISODateTime:()=>CB,$ZodISODuration:()=>PB,$ZodISOTime:()=>NB,$ZodIntersection:()=>iU,$ZodJWT:()=>VB,$ZodKSUID:()=>IB,$ZodLazy:()=>EU,$ZodLiteral:()=>lU,$ZodMAC:()=>MB,$ZodMap:()=>sU,$ZodNaN:()=>vU,$ZodNanoID:()=>xB,$ZodNever:()=>QB,$ZodNonOptional:()=>gU,$ZodNull:()=>KB,$ZodNullable:()=>mU,$ZodNumber:()=>NT,$ZodNumberFormat:()=>qB,$ZodObject:()=>Tde,$ZodObjectJIT:()=>tU,$ZodOptional:()=>DT,$ZodPipe:()=>_U,$ZodPrefault:()=>hU,$ZodPromise:()=>AU,$ZodReadonly:()=>SU,$ZodRealError:()=>$s,$ZodRecord:()=>oU,$ZodRegistry:()=>BT,$ZodSet:()=>aU,$ZodString:()=>kg,$ZodStringFormat:()=>qr,$ZodSuccess:()=>yU,$ZodSymbol:()=>WB,$ZodTemplateLiteral:()=>wU,$ZodTransform:()=>dU,$ZodTuple:()=>kT,$ZodType:()=>Bt,$ZodULID:()=>RB,$ZodURL:()=>SB,$ZodUUID:()=>vB,$ZodUndefined:()=>GB,$ZodUnion:()=>kw,$ZodUnknown:()=>JB,$ZodVoid:()=>ZB,$ZodXID:()=>TB,$ZodXor:()=>rU,$brand:()=>lT,$constructor:()=>ne,$input:()=>IU,$output:()=>TU,Doc:()=>Nw,JSONSchema:()=>Rpe,JSONSchemaGenerator:()=>hI,NEVER:()=>lL,TimePrecision:()=>PU,_any:()=>XU,_array:()=>sF,_base64:()=>rI,_base64url:()=>nI,_bigint:()=>WU,_boolean:()=>qU,_catch:()=>Gnt,_check:()=>Epe,_cidrv4:()=>eI,_cidrv6:()=>tI,_coercedBigint:()=>GU,_coercedBoolean:()=>HU,_coercedDate:()=>iF,_coercedNumber:()=>BU,_coercedString:()=>OU,_cuid:()=>GT,_cuid2:()=>KT,_custom:()=>cF,_date:()=>nF,_decode:()=>hT,_decodeAsync:()=>yT,_default:()=>qnt,_discriminatedUnion:()=>Pnt,_e164:()=>iI,_email:()=>FT,_emoji:()=>HT,_encode:()=>fT,_encodeAsync:()=>gT,_endsWith:()=>xb,_enum:()=>Bnt,_file:()=>aF,_float32:()=>FU,_float64:()=>zU,_gt:()=>xu,_gte:()=>cs,_guid:()=>Lw,_includes:()=>Sb,_int:()=>UU,_int32:()=>VU,_int64:()=>KU,_intersection:()=>knt,_ipv4:()=>ZT,_ipv6:()=>XT,_isoDate:()=>DU,_isoDateTime:()=>kU,_isoDuration:()=>$U,_isoTime:()=>MU,_jwt:()=>oI,_ksuid:()=>QT,_lazy:()=>Qnt,_length:()=>$g,_literal:()=>Fnt,_lowercase:()=>vb,_lt:()=>wu,_lte:()=>Ra,_mac:()=>NU,_map:()=>$nt,_max:()=>Ra,_maxLength:()=>Mg,_maxSize:()=>Zm,_mime:()=>Ab,_min:()=>cs,_minLength:()=>Vd,_minSize:()=>Au,_multipleOf:()=>Qm,_nan:()=>oF,_nanoid:()=>WT,_nativeEnum:()=>Unt,_negative:()=>aI,_never:()=>tF,_nonnegative:()=>lI,_nonoptional:()=>Hnt,_nonpositive:()=>cI,_normalize:()=>Eb,_null:()=>ZU,_nullable:()=>jnt,_number:()=>LU,_optional:()=>Vnt,_overwrite:()=>kl,_parse:()=>pb,_parseAsync:()=>mb,_pipe:()=>Knt,_positive:()=>sI,_promise:()=>Znt,_property:()=>uI,_readonly:()=>Ynt,_record:()=>Mnt,_refine:()=>lF,_regex:()=>bb,_safeDecode:()=>vT,_safeDecodeAsync:()=>ST,_safeEncode:()=>bT,_safeEncodeAsync:()=>_T,_safeParse:()=>fb,_safeParseAsync:()=>hb,_set:()=>Lnt,_size:()=>Dg,_slugify:()=>Cb,_startsWith:()=>wb,_string:()=>CU,_stringFormat:()=>Ob,_stringbool:()=>mF,_success:()=>Wnt,_superRefine:()=>uF,_symbol:()=>JU,_templateLiteral:()=>Jnt,_toLowerCase:()=>Tb,_toUpperCase:()=>Ib,_transform:()=>znt,_trim:()=>Rb,_tuple:()=>Dnt,_uint32:()=>jU,_uint64:()=>YU,_ulid:()=>YT,_undefined:()=>QU,_union:()=>Ont,_unknown:()=>eF,_uppercase:()=>_b,_url:()=>Bw,_uuid:()=>zT,_uuidv4:()=>VT,_uuidv6:()=>jT,_uuidv7:()=>qT,_void:()=>rF,_xid:()=>JT,_xor:()=>Nnt,clone:()=>as,config:()=>Wn,createStandardJSONSchemaMethod:()=>Nb,createToJSONSchemaMethod:()=>fF,decode:()=>trt,decodeAsync:()=>nrt,describe:()=>dF,encode:()=>ert,encodeAsync:()=>rrt,extractDefs:()=>ef,finalize:()=>tf,flattenError:()=>Tw,formatError:()=>Iw,globalConfig:()=>vw,globalRegistry:()=>lo,initializeContext:()=>Xm,isValidBase64:()=>BB,isValidBase64URL:()=>xde,isValidJWT:()=>Ade,locales:()=>$w,meta:()=>pF,parse:()=>pT,parseAsync:()=>mT,prettifyError:()=>SL,process:()=>Cr,regexes:()=>rc,registry:()=>UT,safeDecode:()=>ort,safeDecodeAsync:()=>art,safeEncode:()=>irt,safeEncodeAsync:()=>srt,safeParse:()=>wL,safeParseAsync:()=>xL,toDotPath:()=>ode,toJSONSchema:()=>fI,treeifyError:()=>_L,util:()=>Pe,version:()=>gB});var lL=Object.freeze({status:"aborted"});function ne(t,e,r){function n(a,c){if(a._zod||Object.defineProperty(a,"_zod",{value:{def:c,constr:s,traits:new Set},enumerable:!1}),a._zod.traits.has(t))return;a._zod.traits.add(t),e(a,c);let l=s.prototype,u=Object.keys(l);for(let d=0;d<u.length;d++){let p=u[d];p in a||(a[p]=l[p].bind(a))}}let i=r?.Parent??Object;class o extends i{}Object.defineProperty(o,"name",{value:t});function s(a){var c;let l=r?.Parent?new o:this;n(l,a),(c=l._zod).deferred??(c.deferred=[]);for(let u of l._zod.deferred)u();return l}return Object.defineProperty(s,"init",{value:n}),Object.defineProperty(s,Symbol.hasInstance,{value:a=>r?.Parent&&a instanceof r.Parent?!0:a?._zod?.traits?.has(t)}),Object.defineProperty(s,"name",{value:t}),s}var lT=Symbol("zod_brand"),Pl=class extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}},Wm=class extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}},vw={};function Wn(t){return t&&Object.assign(vw,t),vw}var Pe={};lr(Pe,{BIGINT_FORMAT_RANGES:()=>vL,Class:()=>dL,NUMBER_FORMAT_RANGES:()=>bL,aborted:()=>Jm,allowsEval:()=>fL,assert:()=>Ptt,assertEqual:()=>Itt,assertIs:()=>Ott,assertNever:()=>Ntt,assertNotEqual:()=>Ctt,assignProp:()=>Km,base64ToUint8Array:()=>rde,base64urlToUint8Array:()=>Ytt,cached:()=>ub,captureStackTrace:()=>dT,cleanEnum:()=>Ktt,cleanRegex:()=>ww,clone:()=>as,cloneDef:()=>Dtt,createTransparentProxy:()=>Ftt,defineLazy:()=>er,esc:()=>uT,escapeRegex:()=>tc,extend:()=>jtt,finalizeIssue:()=>Ms,floatSafeRemainder:()=>pL,getElementAtPath:()=>Mtt,getEnumValues:()=>Sw,getLengthableOrigin:()=>Ew,getParsedType:()=>Utt,getSizableOrigin:()=>Aw,hexToUint8Array:()=>Qtt,isObject:()=>Ng,isPlainObject:()=>Ym,issue:()=>db,joinValues:()=>pe,jsonStringifyReplacer:()=>lb,merge:()=>Htt,mergeDefs:()=>zd,normalizeParams:()=>Me,nullish:()=>Gm,numKeys:()=>Btt,objectClone:()=>ktt,omit:()=>Vtt,optionalKeys:()=>yL,parsedType:()=>Ce,partial:()=>Wtt,pick:()=>ztt,prefixIssues:()=>Ea,primitiveTypes:()=>gL,promiseAllObject:()=>$tt,propertyKeyTypes:()=>xw,randomString:()=>Ltt,required:()=>Gtt,safeExtend:()=>qtt,shallowClone:()=>hL,slugify:()=>mL,stringifyPrimitive:()=>Te,uint8ArrayToBase64:()=>nde,uint8ArrayToBase64url:()=>Jtt,uint8ArrayToHex:()=>Ztt,unwrapMessage:()=>_w});function Itt(t){return t}function Ctt(t){return t}function Ott(t){}function Ntt(t){throw new Error("Unexpected value in exhaustive check")}function Ptt(t){}function Sw(t){let e=Object.values(t).filter(n=>typeof n=="number");return Object.entries(t).filter(([n,i])=>e.indexOf(+n)===-1).map(([n,i])=>i)}function pe(t,e="|"){return t.map(r=>Te(r)).join(e)}function lb(t,e){return typeof e=="bigint"?e.toString():e}function ub(t){return{get value(){{let r=t();return Object.defineProperty(this,"value",{value:r}),r}throw new Error("cached value already set")}}}function Gm(t){return t==null}function ww(t){let e=t.startsWith("^")?1:0,r=t.endsWith("$")?t.length-1:t.length;return t.slice(e,r)}function pL(t,e){let r=(t.toString().split(".")[1]||"").length,n=e.toString(),i=(n.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(n)){let c=n.match(/\d?e-(\d?)/);c?.[1]&&(i=Number.parseInt(c[1]))}let o=r>i?r:i,s=Number.parseInt(t.toFixed(o).replace(".","")),a=Number.parseInt(e.toFixed(o).replace(".",""));return s%a/10**o}var tde=Symbol("evaluating");function er(t,e,r){let n;Object.defineProperty(t,e,{get(){if(n!==tde)return n===void 0&&(n=tde,n=r()),n},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function ktt(t){return Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t))}function Km(t,e,r){Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!0,configurable:!0})}function zd(...t){let e={};for(let r of t){let n=Object.getOwnPropertyDescriptors(r);Object.assign(e,n)}return Object.defineProperties({},e)}function Dtt(t){return zd(t._zod.def)}function Mtt(t,e){return e?e.reduce((r,n)=>r?.[n],t):t}function $tt(t){let e=Object.keys(t),r=e.map(n=>t[n]);return Promise.all(r).then(n=>{let i={};for(let o=0;o<e.length;o++)i[e[o]]=n[o];return i})}function Ltt(t=10){let e="abcdefghijklmnopqrstuvwxyz",r="";for(let n=0;n<t;n++)r+=e[Math.floor(Math.random()*e.length)];return r}function uT(t){return JSON.stringify(t)}function mL(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}var dT="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function Ng(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}var fL=ub(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{let t=Function;return new t(""),!0}catch{return!1}});function Ym(t){if(Ng(t)===!1)return!1;let e=t.constructor;if(e===void 0||typeof e!="function")return!0;let r=e.prototype;return!(Ng(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function hL(t){return Ym(t)?{...t}:Array.isArray(t)?[...t]:t}function Btt(t){let e=0;for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}var Utt=t=>{let e=typeof t;switch(e){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(t)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(t)?"array":t===null?"null":t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?"promise":typeof Map<"u"&&t instanceof Map?"map":typeof Set<"u"&&t instanceof Set?"set":typeof Date<"u"&&t instanceof Date?"date":typeof File<"u"&&t instanceof File?"file":"object";default:throw new Error(`Unknown data type: ${e}`)}},xw=new Set(["string","number","symbol"]),gL=new Set(["string","number","bigint","boolean","symbol","undefined"]);function tc(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function as(t,e,r){let n=new t._zod.constr(e??t._zod.def);return(!e||r?.parent)&&(n._zod.parent=t),n}function Me(t){let e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function Ftt(t){let e;return new Proxy({},{get(r,n,i){return e??(e=t()),Reflect.get(e,n,i)},set(r,n,i,o){return e??(e=t()),Reflect.set(e,n,i,o)},has(r,n){return e??(e=t()),Reflect.has(e,n)},deleteProperty(r,n){return e??(e=t()),Reflect.deleteProperty(e,n)},ownKeys(r){return e??(e=t()),Reflect.ownKeys(e)},getOwnPropertyDescriptor(r,n){return e??(e=t()),Reflect.getOwnPropertyDescriptor(e,n)},defineProperty(r,n,i){return e??(e=t()),Reflect.defineProperty(e,n,i)}})}function Te(t){return typeof t=="bigint"?t.toString()+"n":typeof t=="string"?`"${t}"`:`${t}`}function yL(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}var bL={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},vL={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function ztt(t,e){let r=t._zod.def,n=r.checks;if(n&&n.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");let o=zd(t._zod.def,{get shape(){let s={};for(let a in e){if(!(a in r.shape))throw new Error(`Unrecognized key: "${a}"`);e[a]&&(s[a]=r.shape[a])}return Km(this,"shape",s),s},checks:[]});return as(t,o)}function Vtt(t,e){let r=t._zod.def,n=r.checks;if(n&&n.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");let o=zd(t._zod.def,{get shape(){let s={...t._zod.def.shape};for(let a in e){if(!(a in r.shape))throw new Error(`Unrecognized key: "${a}"`);e[a]&&delete s[a]}return Km(this,"shape",s),s},checks:[]});return as(t,o)}function jtt(t,e){if(!Ym(e))throw new Error("Invalid input to extend: expected a plain object");let r=t._zod.def.checks;if(r&&r.length>0){let o=t._zod.def.shape;for(let s in e)if(Object.getOwnPropertyDescriptor(o,s)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}let i=zd(t._zod.def,{get shape(){let o={...t._zod.def.shape,...e};return Km(this,"shape",o),o}});return as(t,i)}function qtt(t,e){if(!Ym(e))throw new Error("Invalid input to safeExtend: expected a plain object");let r=zd(t._zod.def,{get shape(){let n={...t._zod.def.shape,...e};return Km(this,"shape",n),n}});return as(t,r)}function Htt(t,e){let r=zd(t._zod.def,{get shape(){let n={...t._zod.def.shape,...e._zod.def.shape};return Km(this,"shape",n),n},get catchall(){return e._zod.def.catchall},checks:[]});return as(t,r)}function Wtt(t,e,r){let i=e._zod.def.checks;if(i&&i.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");let s=zd(e._zod.def,{get shape(){let a=e._zod.def.shape,c={...a};if(r)for(let l in r){if(!(l in a))throw new Error(`Unrecognized key: "${l}"`);r[l]&&(c[l]=t?new t({type:"optional",innerType:a[l]}):a[l])}else for(let l in a)c[l]=t?new t({type:"optional",innerType:a[l]}):a[l];return Km(this,"shape",c),c},checks:[]});return as(e,s)}function Gtt(t,e,r){let n=zd(e._zod.def,{get shape(){let i=e._zod.def.shape,o={...i};if(r)for(let s in r){if(!(s in o))throw new Error(`Unrecognized key: "${s}"`);r[s]&&(o[s]=new t({type:"nonoptional",innerType:i[s]}))}else for(let s in i)o[s]=new t({type:"nonoptional",innerType:i[s]});return Km(this,"shape",o),o}});return as(e,n)}function Jm(t,e=0){if(t.aborted===!0)return!0;for(let r=e;r<t.issues.length;r++)if(t.issues[r]?.continue!==!0)return!0;return!1}function Ea(t,e){return e.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(t),r})}function _w(t){return typeof t=="string"?t:t?.message}function Ms(t,e,r){let n={...t,path:t.path??[]};if(!t.message){let i=_w(t.inst?._zod.def?.error?.(t))??_w(e?.error?.(t))??_w(r.customError?.(t))??_w(r.localeError?.(t))??"Invalid input";n.message=i}return delete n.inst,delete n.continue,e?.reportInput||delete n.input,n}function Aw(t){return t instanceof Set?"set":t instanceof Map?"map":t instanceof File?"file":"unknown"}function Ew(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Ce(t){let e=typeof t;switch(e){case"number":return Number.isNaN(t)?"nan":"number";case"object":{if(t===null)return"null";if(Array.isArray(t))return"array";let r=t;if(r&&Object.getPrototypeOf(r)!==Object.prototype&&"constructor"in r&&r.constructor)return r.constructor.name}}return e}function db(...t){let[e,r,n]=t;return typeof e=="string"?{message:e,code:"custom",input:r,inst:n}:{...e}}function Ktt(t){return Object.entries(t).filter(([e,r])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])}function rde(t){let e=atob(t),r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r}function nde(t){let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function Ytt(t){let e=t.replace(/-/g,"+").replace(/_/g,"/"),r="=".repeat((4-e.length%4)%4);return rde(e+r)}function Jtt(t){return nde(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Qtt(t){let e=t.replace(/^0x/,"");if(e.length%2!==0)throw new Error("Invalid hex string length");let r=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)r[n/2]=Number.parseInt(e.slice(n,n+2),16);return r}function Ztt(t){return Array.from(t).map(e=>e.toString(16).padStart(2,"0")).join("")}var dL=class{constructor(...e){}};var ide=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,lb,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},Rw=ne("$ZodError",ide),$s=ne("$ZodError",ide,{Parent:Error});function Tw(t,e=r=>r.message){let r={},n=[];for(let i of t.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}function Iw(t,e=r=>r.message){let r={_errors:[]},n=i=>{for(let o of i.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(s=>n({issues:s}));else if(o.code==="invalid_key")n({issues:o.issues});else if(o.code==="invalid_element")n({issues:o.issues});else if(o.path.length===0)r._errors.push(e(o));else{let s=r,a=0;for(;a<o.path.length;){let c=o.path[a];a===o.path.length-1?(s[c]=s[c]||{_errors:[]},s[c]._errors.push(e(o))):s[c]=s[c]||{_errors:[]},s=s[c],a++}}};return n(t),r}function _L(t,e=r=>r.message){let r={errors:[]},n=(i,o=[])=>{var s,a;for(let c of i.issues)if(c.code==="invalid_union"&&c.errors.length)c.errors.map(l=>n({issues:l},c.path));else if(c.code==="invalid_key")n({issues:c.issues},c.path);else if(c.code==="invalid_element")n({issues:c.issues},c.path);else{let l=[...o,...c.path];if(l.length===0){r.errors.push(e(c));continue}let u=r,d=0;for(;d<l.length;){let p=l[d],m=d===l.length-1;typeof p=="string"?(u.properties??(u.properties={}),(s=u.properties)[p]??(s[p]={errors:[]}),u=u.properties[p]):(u.items??(u.items=[]),(a=u.items)[p]??(a[p]={errors:[]}),u=u.items[p]),m&&u.errors.push(e(c)),d++}}};return n(t),r}function ode(t){let e=[],r=t.map(n=>typeof n=="object"?n.key:n);for(let n of r)typeof n=="number"?e.push(`[${n}]`):typeof n=="symbol"?e.push(`[${JSON.stringify(String(n))}]`):/[^\w$]/.test(n)?e.push(`[${JSON.stringify(n)}]`):(e.length&&e.push("."),e.push(n));return e.join("")}function SL(t){let e=[],r=[...t.issues].sort((n,i)=>(n.path??[]).length-(i.path??[]).length);for(let n of r)e.push(`\u2716 ${n.message}`),n.path?.length&&e.push(`  \u2192 at ${ode(n.path)}`);return e.join(`
`)}var pb=t=>(e,r,n,i)=>{let o=n?Object.assign(n,{async:!1}):{async:!1},s=e._zod.run({value:r,issues:[]},o);if(s instanceof Promise)throw new Pl;if(s.issues.length){let a=new(i?.Err??t)(s.issues.map(c=>Ms(c,o,Wn())));throw dT(a,i?.callee),a}return s.value},pT=pb($s),mb=t=>async(e,r,n,i)=>{let o=n?Object.assign(n,{async:!0}):{async:!0},s=e._zod.run({value:r,issues:[]},o);if(s instanceof Promise&&(s=await s),s.issues.length){let a=new(i?.Err??t)(s.issues.map(c=>Ms(c,o,Wn())));throw dT(a,i?.callee),a}return s.value},mT=mb($s),fb=t=>(e,r,n)=>{let i=n?{...n,async:!1}:{async:!1},o=e._zod.run({value:r,issues:[]},i);if(o instanceof Promise)throw new Pl;return o.issues.length?{success:!1,error:new(t??Rw)(o.issues.map(s=>Ms(s,i,Wn())))}:{success:!0,data:o.value}},wL=fb($s),hb=t=>async(e,r,n)=>{let i=n?Object.assign(n,{async:!0}):{async:!0},o=e._zod.run({value:r,issues:[]},i);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new t(o.issues.map(s=>Ms(s,i,Wn())))}:{success:!0,data:o.value}},xL=hb($s),fT=t=>(e,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return pb(t)(e,r,i)},ert=fT($s),hT=t=>(e,r,n)=>pb(t)(e,r,n),trt=hT($s),gT=t=>async(e,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return mb(t)(e,r,i)},rrt=gT($s),yT=t=>async(e,r,n)=>mb(t)(e,r,n),nrt=yT($s),bT=t=>(e,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return fb(t)(e,r,i)},irt=bT($s),vT=t=>(e,r,n)=>fb(t)(e,r,n),ort=vT($s),_T=t=>async(e,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return hb(t)(e,r,i)},srt=_T($s),ST=t=>async(e,r,n)=>hb(t)(e,r,n),art=ST($s);var rc={};lr(rc,{base64:()=>UL,base64url:()=>wT,bigint:()=>HL,boolean:()=>GL,browserEmail:()=>hrt,cidrv4:()=>LL,cidrv6:()=>BL,cuid:()=>AL,cuid2:()=>EL,date:()=>zL,datetime:()=>jL,domain:()=>brt,duration:()=>OL,e164:()=>FL,email:()=>PL,emoji:()=>kL,extendedDuration:()=>crt,guid:()=>NL,hex:()=>vrt,hostname:()=>yrt,html5Email:()=>prt,idnEmail:()=>frt,integer:()=>WL,ipv4:()=>DL,ipv6:()=>ML,ksuid:()=>IL,lowercase:()=>JL,mac:()=>$L,md5_base64:()=>Srt,md5_base64url:()=>wrt,md5_hex:()=>_rt,nanoid:()=>CL,null:()=>KL,number:()=>xT,rfc5322Email:()=>mrt,sha1_base64:()=>Art,sha1_base64url:()=>Ert,sha1_hex:()=>xrt,sha256_base64:()=>Trt,sha256_base64url:()=>Irt,sha256_hex:()=>Rrt,sha384_base64:()=>Ort,sha384_base64url:()=>Nrt,sha384_hex:()=>Crt,sha512_base64:()=>krt,sha512_base64url:()=>Drt,sha512_hex:()=>Prt,string:()=>qL,time:()=>VL,ulid:()=>RL,undefined:()=>YL,unicodeEmail:()=>sde,uppercase:()=>QL,uuid:()=>Pg,uuid4:()=>lrt,uuid6:()=>urt,uuid7:()=>drt,xid:()=>TL});var AL=/^[cC][^\s-]{8,}$/,EL=/^[0-9a-z]+$/,RL=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,TL=/^[0-9a-vA-V]{20}$/,IL=/^[A-Za-z0-9]{27}$/,CL=/^[a-zA-Z0-9_-]{21}$/,OL=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,crt=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,NL=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Pg=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,lrt=Pg(4),urt=Pg(6),drt=Pg(7),PL=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,prt=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,mrt=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,sde=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,frt=sde,hrt=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,grt="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function kL(){return new RegExp(grt,"u")}var DL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ML=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,$L=t=>{let e=tc(t??":");return new RegExp(`^(?:[0-9A-F]{2}${e}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${e}){5}[0-9a-f]{2}$`)},LL=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,BL=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,UL=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,wT=/^[A-Za-z0-9_-]*$/,yrt=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,brt=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,FL=/^\+[1-9]\d{6,14}$/,ade="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",zL=new RegExp(`^${ade}$`);function cde(t){let e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function VL(t){return new RegExp(`^${cde(t)}$`)}function jL(t){let e=cde({precision:t.precision}),r=["Z"];t.local&&r.push(""),t.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let n=`${e}(?:${r.join("|")})`;return new RegExp(`^${ade}T(?:${n})$`)}var qL=t=>{let e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},HL=/^-?\d+n?$/,WL=/^-?\d+$/,xT=/^-?\d+(?:\.\d+)?$/,GL=/^(?:true|false)$/i,KL=/^null$/i;var YL=/^undefined$/i;var JL=/^[^A-Z]*$/,QL=/^[^a-z]*$/,vrt=/^[0-9a-fA-F]*$/;function Cw(t,e){return new RegExp(`^[A-Za-z0-9+/]{${t}}${e}$`)}function Ow(t){return new RegExp(`^[A-Za-z0-9_-]{${t}}$`)}var _rt=/^[0-9a-fA-F]{32}$/,Srt=Cw(22,"=="),wrt=Ow(22),xrt=/^[0-9a-fA-F]{40}$/,Art=Cw(27,"="),Ert=Ow(27),Rrt=/^[0-9a-fA-F]{64}$/,Trt=Cw(43,"="),Irt=Ow(43),Crt=/^[0-9a-fA-F]{96}$/,Ort=Cw(64,""),Nrt=Ow(64),Prt=/^[0-9a-fA-F]{128}$/,krt=Cw(86,"=="),Drt=Ow(86);var Zr=ne("$ZodCheck",(t,e)=>{var r;t._zod??(t._zod={}),t._zod.def=e,(r=t._zod).onattach??(r.onattach=[])}),ude={number:"number",bigint:"bigint",object:"date"},AT=ne("$ZodCheckLessThan",(t,e)=>{Zr.init(t,e);let r=ude[typeof e.value];t._zod.onattach.push(n=>{let i=n._zod.bag,o=(e.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<o&&(e.inclusive?i.maximum=e.value:i.exclusiveMaximum=e.value)}),t._zod.check=n=>{(e.inclusive?n.value<=e.value:n.value<e.value)||n.issues.push({origin:r,code:"too_big",maximum:typeof e.value=="object"?e.value.getTime():e.value,input:n.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),ET=ne("$ZodCheckGreaterThan",(t,e)=>{Zr.init(t,e);let r=ude[typeof e.value];t._zod.onattach.push(n=>{let i=n._zod.bag,o=(e.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>o&&(e.inclusive?i.minimum=e.value:i.exclusiveMinimum=e.value)}),t._zod.check=n=>{(e.inclusive?n.value>=e.value:n.value>e.value)||n.issues.push({origin:r,code:"too_small",minimum:typeof e.value=="object"?e.value.getTime():e.value,input:n.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),ZL=ne("$ZodCheckMultipleOf",(t,e)=>{Zr.init(t,e),t._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=e.value)}),t._zod.check=r=>{if(typeof r.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%e.value===BigInt(0):pL(r.value,e.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:e.value,input:r.value,inst:t,continue:!e.abort})}}),XL=ne("$ZodCheckNumberFormat",(t,e)=>{Zr.init(t,e),e.format=e.format||"float64";let r=e.format?.includes("int"),n=r?"int":"number",[i,o]=bL[e.format];t._zod.onattach.push(s=>{let a=s._zod.bag;a.format=e.format,a.minimum=i,a.maximum=o,r&&(a.pattern=WL)}),t._zod.check=s=>{let a=s.value;if(r){if(!Number.isInteger(a)){s.issues.push({expected:n,format:e.format,code:"invalid_type",continue:!1,input:a,inst:t});return}if(!Number.isSafeInteger(a)){a>0?s.issues.push({input:a,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:n,inclusive:!0,continue:!e.abort}):s.issues.push({input:a,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:n,inclusive:!0,continue:!e.abort});return}}a<i&&s.issues.push({origin:"number",input:a,code:"too_small",minimum:i,inclusive:!0,inst:t,continue:!e.abort}),a>o&&s.issues.push({origin:"number",input:a,code:"too_big",maximum:o,inclusive:!0,inst:t,continue:!e.abort})}}),eB=ne("$ZodCheckBigIntFormat",(t,e)=>{Zr.init(t,e);let[r,n]=vL[e.format];t._zod.onattach.push(i=>{let o=i._zod.bag;o.format=e.format,o.minimum=r,o.maximum=n}),t._zod.check=i=>{let o=i.value;o<r&&i.issues.push({origin:"bigint",input:o,code:"too_small",minimum:r,inclusive:!0,inst:t,continue:!e.abort}),o>n&&i.issues.push({origin:"bigint",input:o,code:"too_big",maximum:n,inclusive:!0,inst:t,continue:!e.abort})}}),tB=ne("$ZodCheckMaxSize",(t,e)=>{var r;Zr.init(t,e),(r=t._zod.def).when??(r.when=n=>{let i=n.value;return!Gm(i)&&i.size!==void 0}),t._zod.onattach.push(n=>{let i=n._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(n._zod.bag.maximum=e.maximum)}),t._zod.check=n=>{let i=n.value;i.size<=e.maximum||n.issues.push({origin:Aw(i),code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),rB=ne("$ZodCheckMinSize",(t,e)=>{var r;Zr.init(t,e),(r=t._zod.def).when??(r.when=n=>{let i=n.value;return!Gm(i)&&i.size!==void 0}),t._zod.onattach.push(n=>{let i=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(n._zod.bag.minimum=e.minimum)}),t._zod.check=n=>{let i=n.value;i.size>=e.minimum||n.issues.push({origin:Aw(i),code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),nB=ne("$ZodCheckSizeEquals",(t,e)=>{var r;Zr.init(t,e),(r=t._zod.def).when??(r.when=n=>{let i=n.value;return!Gm(i)&&i.size!==void 0}),t._zod.onattach.push(n=>{let i=n._zod.bag;i.minimum=e.size,i.maximum=e.size,i.size=e.size}),t._zod.check=n=>{let i=n.value,o=i.size;if(o===e.size)return;let s=o>e.size;n.issues.push({origin:Aw(i),...s?{code:"too_big",maximum:e.size}:{code:"too_small",minimum:e.size},inclusive:!0,exact:!0,input:n.value,inst:t,continue:!e.abort})}}),iB=ne("$ZodCheckMaxLength",(t,e)=>{var r;Zr.init(t,e),(r=t._zod.def).when??(r.when=n=>{let i=n.value;return!Gm(i)&&i.length!==void 0}),t._zod.onattach.push(n=>{let i=n._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(n._zod.bag.maximum=e.maximum)}),t._zod.check=n=>{let i=n.value;if(i.length<=e.maximum)return;let s=Ew(i);n.issues.push({origin:s,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),oB=ne("$ZodCheckMinLength",(t,e)=>{var r;Zr.init(t,e),(r=t._zod.def).when??(r.when=n=>{let i=n.value;return!Gm(i)&&i.length!==void 0}),t._zod.onattach.push(n=>{let i=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(n._zod.bag.minimum=e.minimum)}),t._zod.check=n=>{let i=n.value;if(i.length>=e.minimum)return;let s=Ew(i);n.issues.push({origin:s,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),sB=ne("$ZodCheckLengthEquals",(t,e)=>{var r;Zr.init(t,e),(r=t._zod.def).when??(r.when=n=>{let i=n.value;return!Gm(i)&&i.length!==void 0}),t._zod.onattach.push(n=>{let i=n._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),t._zod.check=n=>{let i=n.value,o=i.length;if(o===e.length)return;let s=Ew(i),a=o>e.length;n.issues.push({origin:s,...a?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:n.value,inst:t,continue:!e.abort})}}),gb=ne("$ZodCheckStringFormat",(t,e)=>{var r,n;Zr.init(t,e),t._zod.onattach.push(i=>{let o=i._zod.bag;o.format=e.format,e.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(e.pattern))}),e.pattern?(r=t._zod).check??(r.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(n=t._zod).check??(n.check=()=>{})}),aB=ne("$ZodCheckRegex",(t,e)=>{gb.init(t,e),t._zod.check=r=>{e.pattern.lastIndex=0,!e.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),cB=ne("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=JL),gb.init(t,e)}),lB=ne("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=QL),gb.init(t,e)}),uB=ne("$ZodCheckIncludes",(t,e)=>{Zr.init(t,e);let r=tc(e.includes),n=new RegExp(typeof e.position=="number"?`^.{${e.position}}${r}`:r);e.pattern=n,t._zod.onattach.push(i=>{let o=i._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),t._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:t,continue:!e.abort})}}),dB=ne("$ZodCheckStartsWith",(t,e)=>{Zr.init(t,e);let r=new RegExp(`^${tc(e.prefix)}.*`);e.pattern??(e.pattern=r),t._zod.onattach.push(n=>{let i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),t._zod.check=n=>{n.value.startsWith(e.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:n.value,inst:t,continue:!e.abort})}}),pB=ne("$ZodCheckEndsWith",(t,e)=>{Zr.init(t,e);let r=new RegExp(`.*${tc(e.suffix)}$`);e.pattern??(e.pattern=r),t._zod.onattach.push(n=>{let i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),t._zod.check=n=>{n.value.endsWith(e.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:n.value,inst:t,continue:!e.abort})}});function lde(t,e,r){t.issues.length&&e.issues.push(...Ea(r,t.issues))}var mB=ne("$ZodCheckProperty",(t,e)=>{Zr.init(t,e),t._zod.check=r=>{let n=e.schema._zod.run({value:r.value[e.property],issues:[]},{});if(n instanceof Promise)return n.then(i=>lde(i,r,e.property));lde(n,r,e.property)}}),fB=ne("$ZodCheckMimeType",(t,e)=>{Zr.init(t,e);let r=new Set(e.mime);t._zod.onattach.push(n=>{n._zod.bag.mime=e.mime}),t._zod.check=n=>{r.has(n.value.type)||n.issues.push({code:"invalid_value",values:e.mime,input:n.value.type,inst:t,continue:!e.abort})}}),hB=ne("$ZodCheckOverwrite",(t,e)=>{Zr.init(t,e),t._zod.check=r=>{r.value=e.tx(r.value)}});var Nw=class{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}let n=e.split(`
`).filter(s=>s),i=Math.min(...n.map(s=>s.length-s.trimStart().length)),o=n.map(s=>s.slice(i)).map(s=>" ".repeat(this.indent*2)+s);for(let s of o)this.content.push(s)}compile(){let e=Function,r=this?.args,i=[...(this?.content??[""]).map(o=>`  ${o}`)];return new e(...r,i.join(`
`))}};var gB={major:4,minor:3,patch:6};var Bt=ne("$ZodType",(t,e)=>{var r;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=gB;let n=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&n.unshift(t);for(let i of n)for(let o of i._zod.onattach)o(t);if(n.length===0)(r=t._zod).deferred??(r.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{let i=(s,a,c)=>{let l=Jm(s),u;for(let d of a){if(d._zod.def.when){if(!d._zod.def.when(s))continue}else if(l)continue;let p=s.issues.length,m=d._zod.check(s);if(m instanceof Promise&&c?.async===!1)throw new Pl;if(u||m instanceof Promise)u=(u??Promise.resolve()).then(async()=>{await m,s.issues.length!==p&&(l||(l=Jm(s,p)))});else{if(s.issues.length===p)continue;l||(l=Jm(s,p))}}return u?u.then(()=>s):s},o=(s,a,c)=>{if(Jm(s))return s.aborted=!0,s;let l=i(a,n,c);if(l instanceof Promise){if(c.async===!1)throw new Pl;return l.then(u=>t._zod.parse(u,c))}return t._zod.parse(l,c)};t._zod.run=(s,a)=>{if(a.skipChecks)return t._zod.parse(s,a);if(a.direction==="backward"){let l=t._zod.parse({value:s.value,issues:[]},{...a,skipChecks:!0});return l instanceof Promise?l.then(u=>o(u,s,a)):o(l,s,a)}let c=t._zod.parse(s,a);if(c instanceof Promise){if(a.async===!1)throw new Pl;return c.then(l=>i(l,n,a))}return i(c,n,a)}}er(t,"~standard",()=>({validate:i=>{try{let o=wL(t,i);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return xL(t,i).then(s=>s.success?{value:s.data}:{issues:s.error?.issues})}},vendor:"zod",version:1}))}),kg=ne("$ZodString",(t,e)=>{Bt.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??qL(t._zod.bag),t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:t}),r}}),qr=ne("$ZodStringFormat",(t,e)=>{gb.init(t,e),kg.init(t,e)}),bB=ne("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=NL),qr.init(t,e)}),vB=ne("$ZodUUID",(t,e)=>{if(e.version){let n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(n===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=Pg(n))}else e.pattern??(e.pattern=Pg());qr.init(t,e)}),_B=ne("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=PL),qr.init(t,e)}),SB=ne("$ZodURL",(t,e)=>{qr.init(t,e),t._zod.check=r=>{try{let n=r.value.trim(),i=new URL(n);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:r.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:r.value,inst:t,continue:!e.abort})),e.normalize?r.value=i.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:t,continue:!e.abort})}}}),wB=ne("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=kL()),qr.init(t,e)}),xB=ne("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=CL),qr.init(t,e)}),AB=ne("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=AL),qr.init(t,e)}),EB=ne("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=EL),qr.init(t,e)}),RB=ne("$ZodULID",(t,e)=>{e.pattern??(e.pattern=RL),qr.init(t,e)}),TB=ne("$ZodXID",(t,e)=>{e.pattern??(e.pattern=TL),qr.init(t,e)}),IB=ne("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=IL),qr.init(t,e)}),CB=ne("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=jL(e)),qr.init(t,e)}),OB=ne("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=zL),qr.init(t,e)}),NB=ne("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=VL(e)),qr.init(t,e)}),PB=ne("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=OL),qr.init(t,e)}),kB=ne("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=DL),qr.init(t,e),t._zod.bag.format="ipv4"}),DB=ne("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=ML),qr.init(t,e),t._zod.bag.format="ipv6",t._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:t,continue:!e.abort})}}}),MB=ne("$ZodMAC",(t,e)=>{e.pattern??(e.pattern=$L(e.delimiter)),qr.init(t,e),t._zod.bag.format="mac"}),$B=ne("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=LL),qr.init(t,e)}),LB=ne("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=BL),qr.init(t,e),t._zod.check=r=>{let n=r.value.split("/");try{if(n.length!==2)throw new Error;let[i,o]=n;if(!o)throw new Error;let s=Number(o);if(`${s}`!==o)throw new Error;if(s<0||s>128)throw new Error;new URL(`http://[${i}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:t,continue:!e.abort})}}});function BB(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}var UB=ne("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=UL),qr.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=r=>{BB(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:t,continue:!e.abort})}});function xde(t){if(!wT.test(t))return!1;let e=t.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=e.padEnd(Math.ceil(e.length/4)*4,"=");return BB(r)}var FB=ne("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=wT),qr.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=r=>{xde(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:t,continue:!e.abort})}}),zB=ne("$ZodE164",(t,e)=>{e.pattern??(e.pattern=FL),qr.init(t,e)});function Ade(t,e=null){try{let r=t.split(".");if(r.length!==3)return!1;let[n]=r;if(!n)return!1;let i=JSON.parse(atob(n));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}var VB=ne("$ZodJWT",(t,e)=>{qr.init(t,e),t._zod.check=r=>{Ade(r.value,e.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:t,continue:!e.abort})}}),jB=ne("$ZodCustomStringFormat",(t,e)=>{qr.init(t,e),t._zod.check=r=>{e.fn(r.value)||r.issues.push({code:"invalid_format",format:e.format,input:r.value,inst:t,continue:!e.abort})}}),NT=ne("$ZodNumber",(t,e)=>{Bt.init(t,e),t._zod.pattern=t._zod.bag.pattern??xT,t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=Number(r.value)}catch{}let i=r.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return r;let o=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:i,inst:t,...o?{received:o}:{}}),r}}),qB=ne("$ZodNumberFormat",(t,e)=>{XL.init(t,e),NT.init(t,e)}),Pw=ne("$ZodBoolean",(t,e)=>{Bt.init(t,e),t._zod.pattern=GL,t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=!!r.value}catch{}let i=r.value;return typeof i=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:t}),r}}),PT=ne("$ZodBigInt",(t,e)=>{Bt.init(t,e),t._zod.pattern=HL,t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=BigInt(r.value)}catch{}return typeof r.value=="bigint"||r.issues.push({expected:"bigint",code:"invalid_type",input:r.value,inst:t}),r}}),HB=ne("$ZodBigIntFormat",(t,e)=>{eB.init(t,e),PT.init(t,e)}),WB=ne("$ZodSymbol",(t,e)=>{Bt.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;return typeof i=="symbol"||r.issues.push({expected:"symbol",code:"invalid_type",input:i,inst:t}),r}}),GB=ne("$ZodUndefined",(t,e)=>{Bt.init(t,e),t._zod.pattern=YL,t._zod.values=new Set([void 0]),t._zod.optin="optional",t._zod.optout="optional",t._zod.parse=(r,n)=>{let i=r.value;return typeof i>"u"||r.issues.push({expected:"undefined",code:"invalid_type",input:i,inst:t}),r}}),KB=ne("$ZodNull",(t,e)=>{Bt.init(t,e),t._zod.pattern=KL,t._zod.values=new Set([null]),t._zod.parse=(r,n)=>{let i=r.value;return i===null||r.issues.push({expected:"null",code:"invalid_type",input:i,inst:t}),r}}),YB=ne("$ZodAny",(t,e)=>{Bt.init(t,e),t._zod.parse=r=>r}),JB=ne("$ZodUnknown",(t,e)=>{Bt.init(t,e),t._zod.parse=r=>r}),QB=ne("$ZodNever",(t,e)=>{Bt.init(t,e),t._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:t}),r)}),ZB=ne("$ZodVoid",(t,e)=>{Bt.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;return typeof i>"u"||r.issues.push({expected:"void",code:"invalid_type",input:i,inst:t}),r}}),XB=ne("$ZodDate",(t,e)=>{Bt.init(t,e),t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=new Date(r.value)}catch{}let i=r.value,o=i instanceof Date;return o&&!Number.isNaN(i.getTime())||r.issues.push({expected:"date",code:"invalid_type",input:i,...o?{received:"Invalid Date"}:{},inst:t}),r}});function pde(t,e,r){t.issues.length&&e.issues.push(...Ea(r,t.issues)),e.value[r]=t.value}var eU=ne("$ZodArray",(t,e)=>{Bt.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;if(!Array.isArray(i))return r.issues.push({expected:"array",code:"invalid_type",input:i,inst:t}),r;r.value=Array(i.length);let o=[];for(let s=0;s<i.length;s++){let a=i[s],c=e.element._zod.run({value:a,issues:[]},n);c instanceof Promise?o.push(c.then(l=>pde(l,r,s))):pde(c,r,s)}return o.length?Promise.all(o).then(()=>r):r}});function OT(t,e,r,n,i){if(t.issues.length){if(i&&!(r in n))return;e.issues.push(...Ea(r,t.issues))}t.value===void 0?r in n&&(e.value[r]=void 0):e.value[r]=t.value}function Ede(t){let e=Object.keys(t.shape);for(let n of e)if(!t.shape?.[n]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);let r=yL(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(r)}}function Rde(t,e,r,n,i,o){let s=[],a=i.keySet,c=i.catchall._zod,l=c.def.type,u=c.optout==="optional";for(let d in e){if(a.has(d))continue;if(l==="never"){s.push(d);continue}let p=c.run({value:e[d],issues:[]},n);p instanceof Promise?t.push(p.then(m=>OT(m,r,d,e,u))):OT(p,r,d,e,u)}return s.length&&r.issues.push({code:"unrecognized_keys",keys:s,input:e,inst:o}),t.length?Promise.all(t).then(()=>r):r}var Tde=ne("$ZodObject",(t,e)=>{if(Bt.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){let a=e.shape;Object.defineProperty(e,"shape",{get:()=>{let c={...a};return Object.defineProperty(e,"shape",{value:c}),c}})}let n=ub(()=>Ede(e));er(t._zod,"propValues",()=>{let a=e.shape,c={};for(let l in a){let u=a[l]._zod;if(u.values){c[l]??(c[l]=new Set);for(let d of u.values)c[l].add(d)}}return c});let i=Ng,o=e.catchall,s;t._zod.parse=(a,c)=>{s??(s=n.value);let l=a.value;if(!i(l))return a.issues.push({expected:"object",code:"invalid_type",input:l,inst:t}),a;a.value={};let u=[],d=s.shape;for(let p of s.keys){let m=d[p],h=m._zod.optout==="optional",f=m._zod.run({value:l[p],issues:[]},c);f instanceof Promise?u.push(f.then(y=>OT(y,a,p,l,h))):OT(f,a,p,l,h)}return o?Rde(u,l,a,c,n.value,t):u.length?Promise.all(u).then(()=>a):a}}),tU=ne("$ZodObjectJIT",(t,e)=>{Tde.init(t,e);let r=t._zod.parse,n=ub(()=>Ede(e)),i=p=>{let m=new Nw(["shape","payload","ctx"]),h=n.value,f=x=>{let E=uT(x);return`shape[${E}]._zod.run({ value: input[${E}], issues: [] }, ctx)`};m.write("const input = payload.value;");let y=Object.create(null),v=0;for(let x of h.keys)y[x]=`key_${v++}`;m.write("const newResult = {};");for(let x of h.keys){let E=y[x],I=uT(x),L=p[x]?._zod?.optout==="optional";m.write(`const ${E} = ${f(x)};`),L?m.write(`
        if (${E}.issues.length) {
          if (${I} in input) {
            payload.issues = payload.issues.concat(${E}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${I}, ...iss.path] : [${I}]
            })));
          }
        }
        
        if (${E}.value === undefined) {
          if (${I} in input) {
            newResult[${I}] = undefined;
          }
        } else {
          newResult[${I}] = ${E}.value;
        }
        
      `):m.write(`
        if (${E}.issues.length) {
          payload.issues = payload.issues.concat(${E}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${I}, ...iss.path] : [${I}]
          })));
        }
        
        if (${E}.value === undefined) {
          if (${I} in input) {
            newResult[${I}] = undefined;
          }
        } else {
          newResult[${I}] = ${E}.value;
        }
        
      `)}m.write("payload.value = newResult;"),m.write("return payload;");let _=m.compile();return(x,E)=>_(p,x,E)},o,s=Ng,a=!vw.jitless,l=a&&fL.value,u=e.catchall,d;t._zod.parse=(p,m)=>{d??(d=n.value);let h=p.value;return s(h)?a&&l&&m?.async===!1&&m.jitless!==!0?(o||(o=i(e.shape)),p=o(p,m),u?Rde([],h,p,m,d,t):p):r(p,m):(p.issues.push({expected:"object",code:"invalid_type",input:h,inst:t}),p)}});function mde(t,e,r,n){for(let o of t)if(o.issues.length===0)return e.value=o.value,e;let i=t.filter(o=>!Jm(o));return i.length===1?(e.value=i[0].value,i[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:r,errors:t.map(o=>o.issues.map(s=>Ms(s,n,Wn())))}),e)}var kw=ne("$ZodUnion",(t,e)=>{Bt.init(t,e),er(t._zod,"optin",()=>e.options.some(i=>i._zod.optin==="optional")?"optional":void 0),er(t._zod,"optout",()=>e.options.some(i=>i._zod.optout==="optional")?"optional":void 0),er(t._zod,"values",()=>{if(e.options.every(i=>i._zod.values))return new Set(e.options.flatMap(i=>Array.from(i._zod.values)))}),er(t._zod,"pattern",()=>{if(e.options.every(i=>i._zod.pattern)){let i=e.options.map(o=>o._zod.pattern);return new RegExp(`^(${i.map(o=>ww(o.source)).join("|")})$`)}});let r=e.options.length===1,n=e.options[0]._zod.run;t._zod.parse=(i,o)=>{if(r)return n(i,o);let s=!1,a=[];for(let c of e.options){let l=c._zod.run({value:i.value,issues:[]},o);if(l instanceof Promise)a.push(l),s=!0;else{if(l.issues.length===0)return l;a.push(l)}}return s?Promise.all(a).then(c=>mde(c,i,t,o)):mde(a,i,t,o)}});function fde(t,e,r,n){let i=t.filter(o=>o.issues.length===0);return i.length===1?(e.value=i[0].value,e):(i.length===0?e.issues.push({code:"invalid_union",input:e.value,inst:r,errors:t.map(o=>o.issues.map(s=>Ms(s,n,Wn())))}):e.issues.push({code:"invalid_union",input:e.value,inst:r,errors:[],inclusive:!1}),e)}var rU=ne("$ZodXor",(t,e)=>{kw.init(t,e),e.inclusive=!1;let r=e.options.length===1,n=e.options[0]._zod.run;t._zod.parse=(i,o)=>{if(r)return n(i,o);let s=!1,a=[];for(let c of e.options){let l=c._zod.run({value:i.value,issues:[]},o);l instanceof Promise?(a.push(l),s=!0):a.push(l)}return s?Promise.all(a).then(c=>fde(c,i,t,o)):fde(a,i,t,o)}}),nU=ne("$ZodDiscriminatedUnion",(t,e)=>{e.inclusive=!1,kw.init(t,e);let r=t._zod.parse;er(t._zod,"propValues",()=>{let i={};for(let o of e.options){let s=o._zod.propValues;if(!s||Object.keys(s).length===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(o)}"`);for(let[a,c]of Object.entries(s)){i[a]||(i[a]=new Set);for(let l of c)i[a].add(l)}}return i});let n=ub(()=>{let i=e.options,o=new Map;for(let s of i){let a=s._zod.propValues?.[e.discriminator];if(!a||a.size===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(s)}"`);for(let c of a){if(o.has(c))throw new Error(`Duplicate discriminator value "${String(c)}"`);o.set(c,s)}}return o});t._zod.parse=(i,o)=>{let s=i.value;if(!Ng(s))return i.issues.push({code:"invalid_type",expected:"object",input:s,inst:t}),i;let a=n.value.get(s?.[e.discriminator]);return a?a._zod.run(i,o):e.unionFallback?r(i,o):(i.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:e.discriminator,input:s,path:[e.discriminator],inst:t}),i)}}),iU=ne("$ZodIntersection",(t,e)=>{Bt.init(t,e),t._zod.parse=(r,n)=>{let i=r.value,o=e.left._zod.run({value:i,issues:[]},n),s=e.right._zod.run({value:i,issues:[]},n);return o instanceof Promise||s instanceof Promise?Promise.all([o,s]).then(([c,l])=>hde(r,c,l)):hde(r,o,s)}});function yB(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Ym(t)&&Ym(e)){let r=Object.keys(e),n=Object.keys(t).filter(o=>r.indexOf(o)!==-1),i={...t,...e};for(let o of n){let s=yB(t[o],e[o]);if(!s.valid)return{valid:!1,mergeErrorPath:[o,...s.mergeErrorPath]};i[o]=s.data}return{valid:!0,data:i}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};let r=[];for(let n=0;n<t.length;n++){let i=t[n],o=e[n],s=yB(i,o);if(!s.valid)return{valid:!1,mergeErrorPath:[n,...s.mergeErrorPath]};r.push(s.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function hde(t,e,r){let n=new Map,i;for(let a of e.issues)if(a.code==="unrecognized_keys"){i??(i=a);for(let c of a.keys)n.has(c)||n.set(c,{}),n.get(c).l=!0}else t.issues.push(a);for(let a of r.issues)if(a.code==="unrecognized_keys")for(let c of a.keys)n.has(c)||n.set(c,{}),n.get(c).r=!0;else t.issues.push(a);let o=[...n].filter(([,a])=>a.l&&a.r).map(([a])=>a);if(o.length&&i&&t.issues.push({...i,keys:o}),Jm(t))return t;let s=yB(e.value,r.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return t.value=s.data,t}var kT=ne("$ZodTuple",(t,e)=>{Bt.init(t,e);let r=e.items;t._zod.parse=(n,i)=>{let o=n.value;if(!Array.isArray(o))return n.issues.push({input:o,inst:t,expected:"tuple",code:"invalid_type"}),n;n.value=[];let s=[],a=[...r].reverse().findIndex(u=>u._zod.optin!=="optional"),c=a===-1?0:r.length-a;if(!e.rest){let u=o.length>r.length,d=o.length<c-1;if(u||d)return n.issues.push({...u?{code:"too_big",maximum:r.length,inclusive:!0}:{code:"too_small",minimum:r.length},input:o,inst:t,origin:"array"}),n}let l=-1;for(let u of r){if(l++,l>=o.length&&l>=c)continue;let d=u._zod.run({value:o[l],issues:[]},i);d instanceof Promise?s.push(d.then(p=>RT(p,n,l))):RT(d,n,l)}if(e.rest){let u=o.slice(r.length);for(let d of u){l++;let p=e.rest._zod.run({value:d,issues:[]},i);p instanceof Promise?s.push(p.then(m=>RT(m,n,l))):RT(p,n,l)}}return s.length?Promise.all(s).then(()=>n):n}});function RT(t,e,r){t.issues.length&&e.issues.push(...Ea(r,t.issues)),e.value[r]=t.value}var oU=ne("$ZodRecord",(t,e)=>{Bt.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;if(!Ym(i))return r.issues.push({expected:"record",code:"invalid_type",input:i,inst:t}),r;let o=[],s=e.keyType._zod.values;if(s){r.value={};let a=new Set;for(let l of s)if(typeof l=="string"||typeof l=="number"||typeof l=="symbol"){a.add(typeof l=="number"?l.toString():l);let u=e.valueType._zod.run({value:i[l],issues:[]},n);u instanceof Promise?o.push(u.then(d=>{d.issues.length&&r.issues.push(...Ea(l,d.issues)),r.value[l]=d.value})):(u.issues.length&&r.issues.push(...Ea(l,u.issues)),r.value[l]=u.value)}let c;for(let l in i)a.has(l)||(c=c??[],c.push(l));c&&c.length>0&&r.issues.push({code:"unrecognized_keys",input:i,inst:t,keys:c})}else{r.value={};for(let a of Reflect.ownKeys(i)){if(a==="__proto__")continue;let c=e.keyType._zod.run({value:a,issues:[]},n);if(c instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof a=="string"&&xT.test(a)&&c.issues.length){let d=e.keyType._zod.run({value:Number(a),issues:[]},n);if(d instanceof Promise)throw new Error("Async schemas not supported in object keys currently");d.issues.length===0&&(c=d)}if(c.issues.length){e.mode==="loose"?r.value[a]=i[a]:r.issues.push({code:"invalid_key",origin:"record",issues:c.issues.map(d=>Ms(d,n,Wn())),input:a,path:[a],inst:t});continue}let u=e.valueType._zod.run({value:i[a],issues:[]},n);u instanceof Promise?o.push(u.then(d=>{d.issues.length&&r.issues.push(...Ea(a,d.issues)),r.value[c.value]=d.value})):(u.issues.length&&r.issues.push(...Ea(a,u.issues)),r.value[c.value]=u.value)}}return o.length?Promise.all(o).then(()=>r):r}}),sU=ne("$ZodMap",(t,e)=>{Bt.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;if(!(i instanceof Map))return r.issues.push({expected:"map",code:"invalid_type",input:i,inst:t}),r;let o=[];r.value=new Map;for(let[s,a]of i){let c=e.keyType._zod.run({value:s,issues:[]},n),l=e.valueType._zod.run({value:a,issues:[]},n);c instanceof Promise||l instanceof Promise?o.push(Promise.all([c,l]).then(([u,d])=>{gde(u,d,r,s,i,t,n)})):gde(c,l,r,s,i,t,n)}return o.length?Promise.all(o).then(()=>r):r}});function gde(t,e,r,n,i,o,s){t.issues.length&&(xw.has(typeof n)?r.issues.push(...Ea(n,t.issues)):r.issues.push({code:"invalid_key",origin:"map",input:i,inst:o,issues:t.issues.map(a=>Ms(a,s,Wn()))})),e.issues.length&&(xw.has(typeof n)?r.issues.push(...Ea(n,e.issues)):r.issues.push({origin:"map",code:"invalid_element",input:i,inst:o,key:n,issues:e.issues.map(a=>Ms(a,s,Wn()))})),r.value.set(t.value,e.value)}var aU=ne("$ZodSet",(t,e)=>{Bt.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;if(!(i instanceof Set))return r.issues.push({input:i,inst:t,expected:"set",code:"invalid_type"}),r;let o=[];r.value=new Set;for(let s of i){let a=e.valueType._zod.run({value:s,issues:[]},n);a instanceof Promise?o.push(a.then(c=>yde(c,r))):yde(a,r)}return o.length?Promise.all(o).then(()=>r):r}});function yde(t,e){t.issues.length&&e.issues.push(...t.issues),e.value.add(t.value)}var cU=ne("$ZodEnum",(t,e)=>{Bt.init(t,e);let r=Sw(e.entries),n=new Set(r);t._zod.values=n,t._zod.pattern=new RegExp(`^(${r.filter(i=>xw.has(typeof i)).map(i=>typeof i=="string"?tc(i):i.toString()).join("|")})$`),t._zod.parse=(i,o)=>{let s=i.value;return n.has(s)||i.issues.push({code:"invalid_value",values:r,input:s,inst:t}),i}}),lU=ne("$ZodLiteral",(t,e)=>{if(Bt.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");let r=new Set(e.values);t._zod.values=r,t._zod.pattern=new RegExp(`^(${e.values.map(n=>typeof n=="string"?tc(n):n?tc(n.toString()):String(n)).join("|")})$`),t._zod.parse=(n,i)=>{let o=n.value;return r.has(o)||n.issues.push({code:"invalid_value",values:e.values,input:o,inst:t}),n}}),uU=ne("$ZodFile",(t,e)=>{Bt.init(t,e),t._zod.parse=(r,n)=>{let i=r.value;return i instanceof File||r.issues.push({expected:"file",code:"invalid_type",input:i,inst:t}),r}}),dU=ne("$ZodTransform",(t,e)=>{Bt.init(t,e),t._zod.parse=(r,n)=>{if(n.direction==="backward")throw new Wm(t.constructor.name);let i=e.transform(r.value,r);if(n.async)return(i instanceof Promise?i:Promise.resolve(i)).then(s=>(r.value=s,r));if(i instanceof Promise)throw new Pl;return r.value=i,r}});function bde(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}var DT=ne("$ZodOptional",(t,e)=>{Bt.init(t,e),t._zod.optin="optional",t._zod.optout="optional",er(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),er(t._zod,"pattern",()=>{let r=e.innerType._zod.pattern;return r?new RegExp(`^(${ww(r.source)})?$`):void 0}),t._zod.parse=(r,n)=>{if(e.innerType._zod.optin==="optional"){let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>bde(o,r.value)):bde(i,r.value)}return r.value===void 0?r:e.innerType._zod.run(r,n)}}),pU=ne("$ZodExactOptional",(t,e)=>{DT.init(t,e),er(t._zod,"values",()=>e.innerType._zod.values),er(t._zod,"pattern",()=>e.innerType._zod.pattern),t._zod.parse=(r,n)=>e.innerType._zod.run(r,n)}),mU=ne("$ZodNullable",(t,e)=>{Bt.init(t,e),er(t._zod,"optin",()=>e.innerType._zod.optin),er(t._zod,"optout",()=>e.innerType._zod.optout),er(t._zod,"pattern",()=>{let r=e.innerType._zod.pattern;return r?new RegExp(`^(${ww(r.source)}|null)$`):void 0}),er(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(r,n)=>r.value===null?r:e.innerType._zod.run(r,n)}),fU=ne("$ZodDefault",(t,e)=>{Bt.init(t,e),t._zod.optin="optional",er(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>{if(n.direction==="backward")return e.innerType._zod.run(r,n);if(r.value===void 0)return r.value=e.defaultValue,r;let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>vde(o,e)):vde(i,e)}});function vde(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}var hU=ne("$ZodPrefault",(t,e)=>{Bt.init(t,e),t._zod.optin="optional",er(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=e.defaultValue),e.innerType._zod.run(r,n))}),gU=ne("$ZodNonOptional",(t,e)=>{Bt.init(t,e),er(t._zod,"values",()=>{let r=e.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),t._zod.parse=(r,n)=>{let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>_de(o,t)):_de(i,t)}});function _de(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}var yU=ne("$ZodSuccess",(t,e)=>{Bt.init(t,e),t._zod.parse=(r,n)=>{if(n.direction==="backward")throw new Wm("ZodSuccess");let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>(r.value=o.issues.length===0,r)):(r.value=i.issues.length===0,r)}}),bU=ne("$ZodCatch",(t,e)=>{Bt.init(t,e),er(t._zod,"optin",()=>e.innerType._zod.optin),er(t._zod,"optout",()=>e.innerType._zod.optout),er(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>{if(n.direction==="backward")return e.innerType._zod.run(r,n);let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>(r.value=o.value,o.issues.length&&(r.value=e.catchValue({...r,error:{issues:o.issues.map(s=>Ms(s,n,Wn()))},input:r.value}),r.issues=[]),r)):(r.value=i.value,i.issues.length&&(r.value=e.catchValue({...r,error:{issues:i.issues.map(o=>Ms(o,n,Wn()))},input:r.value}),r.issues=[]),r)}}),vU=ne("$ZodNaN",(t,e)=>{Bt.init(t,e),t._zod.parse=(r,n)=>((typeof r.value!="number"||!Number.isNaN(r.value))&&r.issues.push({input:r.value,inst:t,expected:"nan",code:"invalid_type"}),r)}),_U=ne("$ZodPipe",(t,e)=>{Bt.init(t,e),er(t._zod,"values",()=>e.in._zod.values),er(t._zod,"optin",()=>e.in._zod.optin),er(t._zod,"optout",()=>e.out._zod.optout),er(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(r,n)=>{if(n.direction==="backward"){let o=e.out._zod.run(r,n);return o instanceof Promise?o.then(s=>TT(s,e.in,n)):TT(o,e.in,n)}let i=e.in._zod.run(r,n);return i instanceof Promise?i.then(o=>TT(o,e.out,n)):TT(i,e.out,n)}});function TT(t,e,r){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},r)}var Dw=ne("$ZodCodec",(t,e)=>{Bt.init(t,e),er(t._zod,"values",()=>e.in._zod.values),er(t._zod,"optin",()=>e.in._zod.optin),er(t._zod,"optout",()=>e.out._zod.optout),er(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(r,n)=>{if((n.direction||"forward")==="forward"){let o=e.in._zod.run(r,n);return o instanceof Promise?o.then(s=>IT(s,e,n)):IT(o,e,n)}else{let o=e.out._zod.run(r,n);return o instanceof Promise?o.then(s=>IT(s,e,n)):IT(o,e,n)}}});function IT(t,e,r){if(t.issues.length)return t.aborted=!0,t;if((r.direction||"forward")==="forward"){let i=e.transform(t.value,t);return i instanceof Promise?i.then(o=>CT(t,o,e.out,r)):CT(t,i,e.out,r)}else{let i=e.reverseTransform(t.value,t);return i instanceof Promise?i.then(o=>CT(t,o,e.in,r)):CT(t,i,e.in,r)}}function CT(t,e,r,n){return t.issues.length?(t.aborted=!0,t):r._zod.run({value:e,issues:t.issues},n)}var SU=ne("$ZodReadonly",(t,e)=>{Bt.init(t,e),er(t._zod,"propValues",()=>e.innerType._zod.propValues),er(t._zod,"values",()=>e.innerType._zod.values),er(t._zod,"optin",()=>e.innerType?._zod?.optin),er(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(r,n)=>{if(n.direction==="backward")return e.innerType._zod.run(r,n);let i=e.innerType._zod.run(r,n);return i instanceof Promise?i.then(Sde):Sde(i)}});function Sde(t){return t.value=Object.freeze(t.value),t}var wU=ne("$ZodTemplateLiteral",(t,e)=>{Bt.init(t,e);let r=[];for(let n of e.parts)if(typeof n=="object"&&n!==null){if(!n._zod.pattern)throw new Error(`Invalid template literal part, no pattern found: ${[...n._zod.traits].shift()}`);let i=n._zod.pattern instanceof RegExp?n._zod.pattern.source:n._zod.pattern;if(!i)throw new Error(`Invalid template literal part: ${n._zod.traits}`);let o=i.startsWith("^")?1:0,s=i.endsWith("$")?i.length-1:i.length;r.push(i.slice(o,s))}else if(n===null||gL.has(typeof n))r.push(tc(`${n}`));else throw new Error(`Invalid template literal part: ${n}`);t._zod.pattern=new RegExp(`^${r.join("")}$`),t._zod.parse=(n,i)=>typeof n.value!="string"?(n.issues.push({input:n.value,inst:t,expected:"string",code:"invalid_type"}),n):(t._zod.pattern.lastIndex=0,t._zod.pattern.test(n.value)||n.issues.push({input:n.value,inst:t,code:"invalid_format",format:e.format??"template_literal",pattern:t._zod.pattern.source}),n)}),xU=ne("$ZodFunction",(t,e)=>(Bt.init(t,e),t._def=e,t._zod.def=e,t.implement=r=>{if(typeof r!="function")throw new Error("implement() must be called with a function");return function(...n){let i=t._def.input?pT(t._def.input,n):n,o=Reflect.apply(r,this,i);return t._def.output?pT(t._def.output,o):o}},t.implementAsync=r=>{if(typeof r!="function")throw new Error("implementAsync() must be called with a function");return async function(...n){let i=t._def.input?await mT(t._def.input,n):n,o=await Reflect.apply(r,this,i);return t._def.output?await mT(t._def.output,o):o}},t._zod.parse=(r,n)=>typeof r.value!="function"?(r.issues.push({code:"invalid_type",expected:"function",input:r.value,inst:t}),r):(t._def.output&&t._def.output._zod.def.type==="promise"?r.value=t.implementAsync(r.value):r.value=t.implement(r.value),r),t.input=(...r)=>{let n=t.constructor;return Array.isArray(r[0])?new n({type:"function",input:new kT({type:"tuple",items:r[0],rest:r[1]}),output:t._def.output}):new n({type:"function",input:r[0],output:t._def.output})},t.output=r=>{let n=t.constructor;return new n({type:"function",input:t._def.input,output:r})},t)),AU=ne("$ZodPromise",(t,e)=>{Bt.init(t,e),t._zod.parse=(r,n)=>Promise.resolve(r.value).then(i=>e.innerType._zod.run({value:i,issues:[]},n))}),EU=ne("$ZodLazy",(t,e)=>{Bt.init(t,e),er(t._zod,"innerType",()=>e.getter()),er(t._zod,"pattern",()=>t._zod.innerType?._zod?.pattern),er(t._zod,"propValues",()=>t._zod.innerType?._zod?.propValues),er(t._zod,"optin",()=>t._zod.innerType?._zod?.optin??void 0),er(t._zod,"optout",()=>t._zod.innerType?._zod?.optout??void 0),t._zod.parse=(r,n)=>t._zod.innerType._zod.run(r,n)}),RU=ne("$ZodCustom",(t,e)=>{Zr.init(t,e),Bt.init(t,e),t._zod.parse=(r,n)=>r,t._zod.check=r=>{let n=r.value,i=e.fn(n);if(i instanceof Promise)return i.then(o=>wde(o,r,n,t));wde(i,r,n,t)}});function wde(t,e,r,n){if(!t){let i={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(i.params=n._zod.def.params),e.issues.push(db(i))}}var $w={};lr($w,{ar:()=>Ide,az:()=>Cde,be:()=>Nde,bg:()=>Pde,ca:()=>kde,cs:()=>Dde,da:()=>Mde,de:()=>$de,en:()=>MT,eo:()=>Lde,es:()=>Bde,fa:()=>Ude,fi:()=>Fde,fr:()=>zde,frCA:()=>Vde,he:()=>jde,hu:()=>qde,hy:()=>Wde,id:()=>Gde,is:()=>Kde,it:()=>Yde,ja:()=>Jde,ka:()=>Qde,kh:()=>Zde,km:()=>$T,ko:()=>Xde,lt:()=>tpe,mk:()=>rpe,ms:()=>npe,nl:()=>ipe,no:()=>ope,ota:()=>spe,pl:()=>cpe,ps:()=>ape,pt:()=>lpe,ru:()=>dpe,sl:()=>ppe,sv:()=>mpe,ta:()=>fpe,th:()=>hpe,tr:()=>gpe,ua:()=>ype,uk:()=>LT,ur:()=>bpe,uz:()=>vpe,vi:()=>_pe,yo:()=>xpe,zhCN:()=>Spe,zhTW:()=>wpe});var $rt=()=>{let t={string:{unit:"\u062D\u0631\u0641",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},file:{unit:"\u0628\u0627\u064A\u062A",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},array:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"},set:{unit:"\u0639\u0646\u0635\u0631",verb:"\u0623\u0646 \u064A\u062D\u0648\u064A"}};function e(i){return t[i]??null}let r={regex:"\u0645\u062F\u062E\u0644",email:"\u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",url:"\u0631\u0627\u0628\u0637",emoji:"\u0625\u064A\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u064A\u062E \u0648\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",date:"\u062A\u0627\u0631\u064A\u062E \u0628\u0645\u0639\u064A\u0627\u0631 ISO",time:"\u0648\u0642\u062A \u0628\u0645\u0639\u064A\u0627\u0631 ISO",duration:"\u0645\u062F\u0629 \u0628\u0645\u0639\u064A\u0627\u0631 ISO",ipv4:"\u0639\u0646\u0648\u0627\u0646 IPv4",ipv6:"\u0639\u0646\u0648\u0627\u0646 IPv6",cidrv4:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv4",cidrv6:"\u0645\u062F\u0649 \u0639\u0646\u0627\u0648\u064A\u0646 \u0628\u0635\u064A\u063A\u0629 IPv6",base64:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64-encoded",base64url:"\u0646\u064E\u0635 \u0628\u062A\u0631\u0645\u064A\u0632 base64url-encoded",json_string:"\u0646\u064E\u0635 \u0639\u0644\u0649 \u0647\u064A\u0626\u0629 JSON",e164:"\u0631\u0642\u0645 \u0647\u0627\u062A\u0641 \u0628\u0645\u0639\u064A\u0627\u0631 E.164",jwt:"JWT",template_literal:"\u0645\u062F\u062E\u0644"},n={nan:"NaN"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 instanceof ${i.expected}\u060C \u0648\u0644\u0643\u0646 \u062A\u0645 \u0625\u062F\u062E\u0627\u0644 ${a}`:`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${o}\u060C \u0648\u0644\u0643\u0646 \u062A\u0645 \u0625\u062F\u062E\u0627\u0644 ${a}`}case"invalid_value":return i.values.length===1?`\u0645\u062F\u062E\u0644\u0627\u062A \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644\u0629: \u064A\u0641\u062A\u0631\u0636 \u0625\u062F\u062E\u0627\u0644 ${Te(i.values[0])}`:`\u0627\u062E\u062A\u064A\u0627\u0631 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062A\u0648\u0642\u0639 \u0627\u0646\u062A\u0642\u0627\u0621 \u0623\u062D\u062F \u0647\u0630\u0647 \u0627\u0644\u062E\u064A\u0627\u0631\u0627\u062A: ${pe(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?` \u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${i.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${o} ${i.maximum.toString()} ${s.unit??"\u0639\u0646\u0635\u0631"}`:`\u0623\u0643\u0628\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0623\u0646 \u062A\u0643\u0648\u0646 ${i.origin??"\u0627\u0644\u0642\u064A\u0645\u0629"} ${o} ${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${i.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${o} ${i.minimum.toString()} ${s.unit}`:`\u0623\u0635\u063A\u0631 \u0645\u0646 \u0627\u0644\u0644\u0627\u0632\u0645: \u064A\u0641\u062A\u0631\u0636 \u0644\u0640 ${i.origin} \u0623\u0646 \u064A\u0643\u0648\u0646 ${o} ${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0628\u062F\u0623 \u0628\u0640 "${i.prefix}"`:o.format==="ends_with"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0646\u062A\u0647\u064A \u0628\u0640 "${o.suffix}"`:o.format==="includes"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u062A\u0636\u0645\u0651\u064E\u0646 "${o.includes}"`:o.format==="regex"?`\u0646\u064E\u0635 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0637\u0627\u0628\u0642 \u0627\u0644\u0646\u0645\u0637 ${o.pattern}`:`${r[o.format]??i.format} \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644`}case"not_multiple_of":return`\u0631\u0642\u0645 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644: \u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0645\u0646 \u0645\u0636\u0627\u0639\u0641\u0627\u062A ${i.divisor}`;case"unrecognized_keys":return`\u0645\u0639\u0631\u0641${i.keys.length>1?"\u0627\u062A":""} \u063A\u0631\u064A\u0628${i.keys.length>1?"\u0629":""}: ${pe(i.keys,"\u060C ")}`;case"invalid_key":return`\u0645\u0639\u0631\u0641 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${i.origin}`;case"invalid_union":return"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644";case"invalid_element":return`\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644 \u0641\u064A ${i.origin}`;default:return"\u0645\u062F\u062E\u0644 \u063A\u064A\u0631 \u0645\u0642\u0628\u0648\u0644"}}};function Ide(){return{localeError:$rt()}}var Lrt=()=>{let t={string:{unit:"simvol",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"element",verb:"olmal\u0131d\u0131r"},set:{unit:"element",verb:"olmal\u0131d\u0131r"}};function e(i){return t[i]??null}let r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},n={nan:"NaN"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n instanceof ${i.expected}, daxil olan ${a}`:`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${o}, daxil olan ${a}`}case"invalid_value":return i.values.length===1?`Yanl\u0131\u015F d\u0259y\u0259r: g\xF6zl\u0259nil\u0259n ${Te(i.values[0])}`:`Yanl\u0131\u015F se\xE7im: a\u015Fa\u011F\u0131dak\u0131lardan biri olmal\u0131d\u0131r: ${pe(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${i.origin??"d\u0259y\u0259r"} ${o}${i.maximum.toString()} ${s.unit??"element"}`:`\xC7ox b\xF6y\xFCk: g\xF6zl\u0259nil\u0259n ${i.origin??"d\u0259y\u0259r"} ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${i.origin} ${o}${i.minimum.toString()} ${s.unit}`:`\xC7ox ki\xE7ik: g\xF6zl\u0259nil\u0259n ${i.origin} ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Yanl\u0131\u015F m\u0259tn: "${o.prefix}" il\u0259 ba\u015Flamal\u0131d\u0131r`:o.format==="ends_with"?`Yanl\u0131\u015F m\u0259tn: "${o.suffix}" il\u0259 bitm\u0259lidir`:o.format==="includes"?`Yanl\u0131\u015F m\u0259tn: "${o.includes}" daxil olmal\u0131d\u0131r`:o.format==="regex"?`Yanl\u0131\u015F m\u0259tn: ${o.pattern} \u015Fablonuna uy\u011Fun olmal\u0131d\u0131r`:`Yanl\u0131\u015F ${r[o.format]??i.format}`}case"not_multiple_of":return`Yanl\u0131\u015F \u0259d\u0259d: ${i.divisor} il\u0259 b\xF6l\xFCn\u0259 bil\u0259n olmal\u0131d\u0131r`;case"unrecognized_keys":return`Tan\u0131nmayan a\xE7ar${i.keys.length>1?"lar":""}: ${pe(i.keys,", ")}`;case"invalid_key":return`${i.origin} daxilind\u0259 yanl\u0131\u015F a\xE7ar`;case"invalid_union":return"Yanl\u0131\u015F d\u0259y\u0259r";case"invalid_element":return`${i.origin} daxilind\u0259 yanl\u0131\u015F d\u0259y\u0259r`;default:return"Yanl\u0131\u015F d\u0259y\u0259r"}}};function Cde(){return{localeError:Lrt()}}function Ode(t,e,r,n){let i=Math.abs(t),o=i%10,s=i%100;return s>=11&&s<=19?n:o===1?e:o>=2&&o<=4?r:n}var Brt=()=>{let t={string:{unit:{one:"\u0441\u0456\u043C\u0432\u0430\u043B",few:"\u0441\u0456\u043C\u0432\u0430\u043B\u044B",many:"\u0441\u0456\u043C\u0432\u0430\u043B\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u044B",many:"\u0431\u0430\u0439\u0442\u0430\u045E"},verb:"\u043C\u0435\u0446\u044C"}};function e(i){return t[i]??null}let r={regex:"\u0443\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0430\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0456 \u0447\u0430\u0441",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0447\u0430\u0441",duration:"ISO \u043F\u0440\u0430\u0446\u044F\u0433\u043B\u0430\u0441\u0446\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0430\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0430\u0441",cidrv4:"IPv4 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u044B\u044F\u043F\u0430\u0437\u043E\u043D",base64:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64",base64url:"\u0440\u0430\u0434\u043E\u043A \u0443 \u0444\u0430\u0440\u043C\u0430\u0446\u0435 base64url",json_string:"JSON \u0440\u0430\u0434\u043E\u043A",e164:"\u043D\u0443\u043C\u0430\u0440 E.164",jwt:"JWT",template_literal:"\u0443\u0432\u043E\u0434"},n={nan:"NaN",number:"\u043B\u0456\u043A",array:"\u043C\u0430\u0441\u0456\u045E"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u045E\u0441\u044F instanceof ${i.expected}, \u0430\u0442\u0440\u044B\u043C\u0430\u043D\u0430 ${a}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u045E\u0441\u044F ${o}, \u0430\u0442\u0440\u044B\u043C\u0430\u043D\u0430 ${a}`}case"invalid_value":return i.values.length===1?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F ${Te(i.values[0])}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0432\u0430\u0440\u044B\u044F\u043D\u0442: \u0447\u0430\u043A\u0430\u045E\u0441\u044F \u0430\u0434\u0437\u0456\u043D \u0437 ${pe(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);if(s){let a=Number(i.maximum),c=Ode(a,s.unit.one,s.unit.few,s.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${i.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${s.verb} ${o}${i.maximum.toString()} ${c}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u0432\u044F\u043B\u0456\u043A\u0456: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${i.origin??"\u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435"} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);if(s){let a=Number(i.minimum),c=Ode(a,s.unit.one,s.unit.few,s.unit.many);return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${i.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 ${s.verb} ${o}${i.minimum.toString()} ${c}`}return`\u0417\u0430\u043D\u0430\u0434\u0442\u0430 \u043C\u0430\u043B\u044B: \u0447\u0430\u043A\u0430\u043B\u0430\u0441\u044F, \u0448\u0442\u043E ${i.origin} \u043F\u0430\u0432\u0456\u043D\u043D\u0430 \u0431\u044B\u0446\u044C ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u043F\u0430\u0447\u044B\u043D\u0430\u0446\u0446\u0430 \u0437 "${o.prefix}"`:o.format==="ends_with"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u0430\u043A\u0430\u043D\u0447\u0432\u0430\u0446\u0446\u0430 \u043D\u0430 "${o.suffix}"`:o.format==="includes"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0437\u043C\u044F\u0448\u0447\u0430\u0446\u044C "${o.includes}"`:o.format==="regex"?`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u0440\u0430\u0434\u043E\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0430\u0434\u043F\u0430\u0432\u044F\u0434\u0430\u0446\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${o.pattern}`:`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B ${r[o.format]??i.format}`}case"not_multiple_of":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043B\u0456\u043A: \u043F\u0430\u0432\u0456\u043D\u0435\u043D \u0431\u044B\u0446\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${i.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u0430\u0437\u043D\u0430\u043D\u044B ${i.keys.length>1?"\u043A\u043B\u044E\u0447\u044B":"\u043A\u043B\u044E\u0447"}: ${pe(i.keys,", ")}`;case"invalid_key":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u043A\u043B\u044E\u0447 \u0443 ${i.origin}`;case"invalid_union":return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434";case"invalid_element":return`\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u0430\u0435 \u0437\u043D\u0430\u0447\u044D\u043D\u043D\u0435 \u045E ${i.origin}`;default:return"\u041D\u044F\u043F\u0440\u0430\u0432\u0456\u043B\u044C\u043D\u044B \u045E\u0432\u043E\u0434"}}};function Nde(){return{localeError:Brt()}}var Urt=()=>{let t={string:{unit:"\u0441\u0438\u043C\u0432\u043E\u043B\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},file:{unit:"\u0431\u0430\u0439\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},array:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"},set:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430",verb:"\u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430"}};function e(i){return t[i]??null}let r={regex:"\u0432\u0445\u043E\u0434",email:"\u0438\u043C\u0435\u0439\u043B \u0430\u0434\u0440\u0435\u0441",url:"URL",emoji:"\u0435\u043C\u043E\u0434\u0436\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0432\u0440\u0435\u043C\u0435",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0432\u0440\u0435\u043C\u0435",duration:"ISO \u043F\u0440\u043E\u0434\u044A\u043B\u0436\u0438\u0442\u0435\u043B\u043D\u043E\u0441\u0442",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441",cidrv4:"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",base64:"base64-\u043A\u043E\u0434\u0438\u0440\u0430\u043D \u043D\u0438\u0437",base64url:"base64url-\u043A\u043E\u0434\u0438\u0440\u0430\u043D \u043D\u0438\u0437",json_string:"JSON \u043D\u0438\u0437",e164:"E.164 \u043D\u043E\u043C\u0435\u0440",jwt:"JWT",template_literal:"\u0432\u0445\u043E\u0434"},n={nan:"NaN",number:"\u0447\u0438\u0441\u043B\u043E",array:"\u043C\u0430\u0441\u0438\u0432"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D instanceof ${i.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D ${a}`:`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D ${o}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D ${a}`}case"invalid_value":return i.values.length===1?`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434: \u043E\u0447\u0430\u043A\u0432\u0430\u043D ${Te(i.values[0])}`:`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430 \u043E\u043F\u0446\u0438\u044F: \u043E\u0447\u0430\u043A\u0432\u0430\u043D\u043E \u0435\u0434\u043D\u043E \u043E\u0442 ${pe(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u0422\u0432\u044A\u0440\u0434\u0435 \u0433\u043E\u043B\u044F\u043C\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${i.origin??"\u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442"} \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 ${o}${i.maximum.toString()} ${s.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430"}`:`\u0422\u0432\u044A\u0440\u0434\u0435 \u0433\u043E\u043B\u044F\u043C\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${i.origin??"\u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442"} \u0434\u0430 \u0431\u044A\u0434\u0435 ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u0422\u0432\u044A\u0440\u0434\u0435 \u043C\u0430\u043B\u043A\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${i.origin} \u0434\u0430 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 ${o}${i.minimum.toString()} ${s.unit}`:`\u0422\u0432\u044A\u0440\u0434\u0435 \u043C\u0430\u043B\u043A\u043E: \u043E\u0447\u0430\u043A\u0432\u0430 \u0441\u0435 ${i.origin} \u0434\u0430 \u0431\u044A\u0434\u0435 ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;if(o.format==="starts_with")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u0432\u0430 \u0441 "${o.prefix}"`;if(o.format==="ends_with")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0437\u0430\u0432\u044A\u0440\u0448\u0432\u0430 \u0441 "${o.suffix}"`;if(o.format==="includes")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0432\u043A\u043B\u044E\u0447\u0432\u0430 "${o.includes}"`;if(o.format==="regex")return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043D\u0438\u0437: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0441\u044A\u0432\u043F\u0430\u0434\u0430 \u0441 ${o.pattern}`;let s="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D";return o.format==="emoji"&&(s="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),o.format==="datetime"&&(s="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),o.format==="date"&&(s="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430"),o.format==="time"&&(s="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E"),o.format==="duration"&&(s="\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430"),`${s} ${r[o.format]??i.format}`}case"not_multiple_of":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u043E \u0447\u0438\u0441\u043B\u043E: \u0442\u0440\u044F\u0431\u0432\u0430 \u0434\u0430 \u0431\u044A\u0434\u0435 \u043A\u0440\u0430\u0442\u043D\u043E \u043D\u0430 ${i.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0437\u043F\u043E\u0437\u043D\u0430\u0442${i.keys.length>1?"\u0438":""} \u043A\u043B\u044E\u0447${i.keys.length>1?"\u043E\u0432\u0435":""}: ${pe(i.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u043A\u043B\u044E\u0447 \u0432 ${i.origin}`;case"invalid_union":return"\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434";case"invalid_element":return`\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430 \u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442 \u0432 ${i.origin}`;default:return"\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u0435\u043D \u0432\u0445\u043E\u0434"}}};function Pde(){return{localeError:Urt()}}var Frt=()=>{let t={string:{unit:"car\xE0cters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function e(i){return t[i]??null}let r={regex:"entrada",email:"adre\xE7a electr\xF2nica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adre\xE7a IPv4",ipv6:"adre\xE7a IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"},n={nan:"NaN"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Tipus inv\xE0lid: s'esperava instanceof ${i.expected}, s'ha rebut ${a}`:`Tipus inv\xE0lid: s'esperava ${o}, s'ha rebut ${a}`}case"invalid_value":return i.values.length===1?`Valor inv\xE0lid: s'esperava ${Te(i.values[0])}`:`Opci\xF3 inv\xE0lida: s'esperava una de ${pe(i.values," o ")}`;case"too_big":{let o=i.inclusive?"com a m\xE0xim":"menys de",s=e(i.origin);return s?`Massa gran: s'esperava que ${i.origin??"el valor"} contingu\xE9s ${o} ${i.maximum.toString()} ${s.unit??"elements"}`:`Massa gran: s'esperava que ${i.origin??"el valor"} fos ${o} ${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?"com a m\xEDnim":"m\xE9s de",s=e(i.origin);return s?`Massa petit: s'esperava que ${i.origin} contingu\xE9s ${o} ${i.minimum.toString()} ${s.unit}`:`Massa petit: s'esperava que ${i.origin} fos ${o} ${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Format inv\xE0lid: ha de comen\xE7ar amb "${o.prefix}"`:o.format==="ends_with"?`Format inv\xE0lid: ha d'acabar amb "${o.suffix}"`:o.format==="includes"?`Format inv\xE0lid: ha d'incloure "${o.includes}"`:o.format==="regex"?`Format inv\xE0lid: ha de coincidir amb el patr\xF3 ${o.pattern}`:`Format inv\xE0lid per a ${r[o.format]??i.format}`}case"not_multiple_of":return`N\xFAmero inv\xE0lid: ha de ser m\xFAltiple de ${i.divisor}`;case"unrecognized_keys":return`Clau${i.keys.length>1?"s":""} no reconeguda${i.keys.length>1?"s":""}: ${pe(i.keys,", ")}`;case"invalid_key":return`Clau inv\xE0lida a ${i.origin}`;case"invalid_union":return"Entrada inv\xE0lida";case"invalid_element":return`Element inv\xE0lid a ${i.origin}`;default:return"Entrada inv\xE0lida"}}};function kde(){return{localeError:Frt()}}var zrt=()=>{let t={string:{unit:"znak\u016F",verb:"m\xEDt"},file:{unit:"bajt\u016F",verb:"m\xEDt"},array:{unit:"prvk\u016F",verb:"m\xEDt"},set:{unit:"prvk\u016F",verb:"m\xEDt"}};function e(i){return t[i]??null}let r={regex:"regul\xE1rn\xED v\xFDraz",email:"e-mailov\xE1 adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a \u010Das ve form\xE1tu ISO",date:"datum ve form\xE1tu ISO",time:"\u010Das ve form\xE1tu ISO",duration:"doba trv\xE1n\xED ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64",base64url:"\u0159et\u011Bzec zak\xF3dovan\xFD ve form\xE1tu base64url",json_string:"\u0159et\u011Bzec ve form\xE1tu JSON",e164:"\u010D\xEDslo E.164",jwt:"JWT",template_literal:"vstup"},n={nan:"NaN",number:"\u010D\xEDslo",string:"\u0159et\u011Bzec",function:"funkce",array:"pole"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no instanceof ${i.expected}, obdr\u017Eeno ${a}`:`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${o}, obdr\u017Eeno ${a}`}case"invalid_value":return i.values.length===1?`Neplatn\xFD vstup: o\u010Dek\xE1v\xE1no ${Te(i.values[0])}`:`Neplatn\xE1 mo\u017Enost: o\u010Dek\xE1v\xE1na jedna z hodnot ${pe(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${i.origin??"hodnota"} mus\xED m\xEDt ${o}${i.maximum.toString()} ${s.unit??"prvk\u016F"}`:`Hodnota je p\u0159\xEDli\u0161 velk\xE1: ${i.origin??"hodnota"} mus\xED b\xFDt ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${i.origin??"hodnota"} mus\xED m\xEDt ${o}${i.minimum.toString()} ${s.unit??"prvk\u016F"}`:`Hodnota je p\u0159\xEDli\u0161 mal\xE1: ${i.origin??"hodnota"} mus\xED b\xFDt ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED za\u010D\xEDnat na "${o.prefix}"`:o.format==="ends_with"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED kon\u010Dit na "${o.suffix}"`:o.format==="includes"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED obsahovat "${o.includes}"`:o.format==="regex"?`Neplatn\xFD \u0159et\u011Bzec: mus\xED odpov\xEDdat vzoru ${o.pattern}`:`Neplatn\xFD form\xE1t ${r[o.format]??i.format}`}case"not_multiple_of":return`Neplatn\xE9 \u010D\xEDslo: mus\xED b\xFDt n\xE1sobkem ${i.divisor}`;case"unrecognized_keys":return`Nezn\xE1m\xE9 kl\xED\u010De: ${pe(i.keys,", ")}`;case"invalid_key":return`Neplatn\xFD kl\xED\u010D v ${i.origin}`;case"invalid_union":return"Neplatn\xFD vstup";case"invalid_element":return`Neplatn\xE1 hodnota v ${i.origin}`;default:return"Neplatn\xFD vstup"}}};function Dde(){return{localeError:zrt()}}var Vrt=()=>{let t={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}};function e(i){return t[i]??null}let r={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkesl\xE6t",date:"ISO-dato",time:"ISO-klokkesl\xE6t",duration:"ISO-varighed",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},n={nan:"NaN",string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"s\xE6t",file:"fil"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Ugyldigt input: forventede instanceof ${i.expected}, fik ${a}`:`Ugyldigt input: forventede ${o}, fik ${a}`}case"invalid_value":return i.values.length===1?`Ugyldig v\xE6rdi: forventede ${Te(i.values[0])}`:`Ugyldigt valg: forventede en af f\xF8lgende ${pe(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin),a=n[i.origin]??i.origin;return s?`For stor: forventede ${a??"value"} ${s.verb} ${o} ${i.maximum.toString()} ${s.unit??"elementer"}`:`For stor: forventede ${a??"value"} havde ${o} ${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin),a=n[i.origin]??i.origin;return s?`For lille: forventede ${a} ${s.verb} ${o} ${i.minimum.toString()} ${s.unit}`:`For lille: forventede ${a} havde ${o} ${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Ugyldig streng: skal starte med "${o.prefix}"`:o.format==="ends_with"?`Ugyldig streng: skal ende med "${o.suffix}"`:o.format==="includes"?`Ugyldig streng: skal indeholde "${o.includes}"`:o.format==="regex"?`Ugyldig streng: skal matche m\xF8nsteret ${o.pattern}`:`Ugyldig ${r[o.format]??i.format}`}case"not_multiple_of":return`Ugyldigt tal: skal v\xE6re deleligt med ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Ukendte n\xF8gler":"Ukendt n\xF8gle"}: ${pe(i.keys,", ")}`;case"invalid_key":return`Ugyldig n\xF8gle i ${i.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig v\xE6rdi i ${i.origin}`;default:return"Ugyldigt input"}}};function Mde(){return{localeError:Vrt()}}var jrt=()=>{let t={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function e(i){return t[i]??null}let r={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"},n={nan:"NaN",number:"Zahl",array:"Array"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Ung\xFCltige Eingabe: erwartet instanceof ${i.expected}, erhalten ${a}`:`Ung\xFCltige Eingabe: erwartet ${o}, erhalten ${a}`}case"invalid_value":return i.values.length===1?`Ung\xFCltige Eingabe: erwartet ${Te(i.values[0])}`:`Ung\xFCltige Option: erwartet eine von ${pe(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Zu gro\xDF: erwartet, dass ${i.origin??"Wert"} ${o}${i.maximum.toString()} ${s.unit??"Elemente"} hat`:`Zu gro\xDF: erwartet, dass ${i.origin??"Wert"} ${o}${i.maximum.toString()} ist`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Zu klein: erwartet, dass ${i.origin} ${o}${i.minimum.toString()} ${s.unit} hat`:`Zu klein: erwartet, dass ${i.origin} ${o}${i.minimum.toString()} ist`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Ung\xFCltiger String: muss mit "${o.prefix}" beginnen`:o.format==="ends_with"?`Ung\xFCltiger String: muss mit "${o.suffix}" enden`:o.format==="includes"?`Ung\xFCltiger String: muss "${o.includes}" enthalten`:o.format==="regex"?`Ung\xFCltiger String: muss dem Muster ${o.pattern} entsprechen`:`Ung\xFCltig: ${r[o.format]??i.format}`}case"not_multiple_of":return`Ung\xFCltige Zahl: muss ein Vielfaches von ${i.divisor} sein`;case"unrecognized_keys":return`${i.keys.length>1?"Unbekannte Schl\xFCssel":"Unbekannter Schl\xFCssel"}: ${pe(i.keys,", ")}`;case"invalid_key":return`Ung\xFCltiger Schl\xFCssel in ${i.origin}`;case"invalid_union":return"Ung\xFCltige Eingabe";case"invalid_element":return`Ung\xFCltiger Wert in ${i.origin}`;default:return"Ung\xFCltige Eingabe"}}};function $de(){return{localeError:jrt()}}var qrt=()=>{let t={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"},map:{unit:"entries",verb:"to have"}};function e(i){return t[i]??null}let r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},n={nan:"NaN"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return`Invalid input: expected ${o}, received ${a}`}case"invalid_value":return i.values.length===1?`Invalid input: expected ${Te(i.values[0])}`:`Invalid option: expected one of ${pe(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Too big: expected ${i.origin??"value"} to have ${o}${i.maximum.toString()} ${s.unit??"elements"}`:`Too big: expected ${i.origin??"value"} to be ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Too small: expected ${i.origin} to have ${o}${i.minimum.toString()} ${s.unit}`:`Too small: expected ${i.origin} to be ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Invalid string: must start with "${o.prefix}"`:o.format==="ends_with"?`Invalid string: must end with "${o.suffix}"`:o.format==="includes"?`Invalid string: must include "${o.includes}"`:o.format==="regex"?`Invalid string: must match pattern ${o.pattern}`:`Invalid ${r[o.format]??i.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${i.divisor}`;case"unrecognized_keys":return`Unrecognized key${i.keys.length>1?"s":""}: ${pe(i.keys,", ")}`;case"invalid_key":return`Invalid key in ${i.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${i.origin}`;default:return"Invalid input"}}};function MT(){return{localeError:qrt()}}var Hrt=()=>{let t={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function e(i){return t[i]??null}let r={regex:"enigo",email:"retadreso",url:"URL",emoji:"emo\u011Dio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-da\u016Dro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"},n={nan:"NaN",number:"nombro",array:"tabelo",null:"senvalora"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Nevalida enigo: atendi\u011Dis instanceof ${i.expected}, ricevi\u011Dis ${a}`:`Nevalida enigo: atendi\u011Dis ${o}, ricevi\u011Dis ${a}`}case"invalid_value":return i.values.length===1?`Nevalida enigo: atendi\u011Dis ${Te(i.values[0])}`:`Nevalida opcio: atendi\u011Dis unu el ${pe(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Tro granda: atendi\u011Dis ke ${i.origin??"valoro"} havu ${o}${i.maximum.toString()} ${s.unit??"elementojn"}`:`Tro granda: atendi\u011Dis ke ${i.origin??"valoro"} havu ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Tro malgranda: atendi\u011Dis ke ${i.origin} havu ${o}${i.minimum.toString()} ${s.unit}`:`Tro malgranda: atendi\u011Dis ke ${i.origin} estu ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Nevalida karaktraro: devas komenci\u011Di per "${o.prefix}"`:o.format==="ends_with"?`Nevalida karaktraro: devas fini\u011Di per "${o.suffix}"`:o.format==="includes"?`Nevalida karaktraro: devas inkluzivi "${o.includes}"`:o.format==="regex"?`Nevalida karaktraro: devas kongrui kun la modelo ${o.pattern}`:`Nevalida ${r[o.format]??i.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${i.divisor}`;case"unrecognized_keys":return`Nekonata${i.keys.length>1?"j":""} \u015Dlosilo${i.keys.length>1?"j":""}: ${pe(i.keys,", ")}`;case"invalid_key":return`Nevalida \u015Dlosilo en ${i.origin}`;case"invalid_union":return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${i.origin}`;default:return"Nevalida enigo"}}};function Lde(){return{localeError:Hrt()}}var Wrt=()=>{let t={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}};function e(i){return t[i]??null}let r={regex:"entrada",email:"direcci\xF3n de correo electr\xF3nico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duraci\xF3n ISO",ipv4:"direcci\xF3n IPv4",ipv6:"direcci\xF3n IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"},n={nan:"NaN",string:"texto",number:"n\xFAmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"n\xFAmero grande",symbol:"s\xEDmbolo",undefined:"indefinido",null:"nulo",function:"funci\xF3n",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeraci\xF3n",union:"uni\xF3n",literal:"literal",promise:"promesa",void:"vac\xEDo",never:"nunca",unknown:"desconocido",any:"cualquiera"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Entrada inv\xE1lida: se esperaba instanceof ${i.expected}, recibido ${a}`:`Entrada inv\xE1lida: se esperaba ${o}, recibido ${a}`}case"invalid_value":return i.values.length===1?`Entrada inv\xE1lida: se esperaba ${Te(i.values[0])}`:`Opci\xF3n inv\xE1lida: se esperaba una de ${pe(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin),a=n[i.origin]??i.origin;return s?`Demasiado grande: se esperaba que ${a??"valor"} tuviera ${o}${i.maximum.toString()} ${s.unit??"elementos"}`:`Demasiado grande: se esperaba que ${a??"valor"} fuera ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin),a=n[i.origin]??i.origin;return s?`Demasiado peque\xF1o: se esperaba que ${a} tuviera ${o}${i.minimum.toString()} ${s.unit}`:`Demasiado peque\xF1o: se esperaba que ${a} fuera ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Cadena inv\xE1lida: debe comenzar con "${o.prefix}"`:o.format==="ends_with"?`Cadena inv\xE1lida: debe terminar en "${o.suffix}"`:o.format==="includes"?`Cadena inv\xE1lida: debe incluir "${o.includes}"`:o.format==="regex"?`Cadena inv\xE1lida: debe coincidir con el patr\xF3n ${o.pattern}`:`Inv\xE1lido ${r[o.format]??i.format}`}case"not_multiple_of":return`N\xFAmero inv\xE1lido: debe ser m\xFAltiplo de ${i.divisor}`;case"unrecognized_keys":return`Llave${i.keys.length>1?"s":""} desconocida${i.keys.length>1?"s":""}: ${pe(i.keys,", ")}`;case"invalid_key":return`Llave inv\xE1lida en ${n[i.origin]??i.origin}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido en ${n[i.origin]??i.origin}`;default:return"Entrada inv\xE1lida"}}};function Bde(){return{localeError:Wrt()}}var Grt=()=>{let t={string:{unit:"\u06A9\u0627\u0631\u0627\u06A9\u062A\u0631",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},file:{unit:"\u0628\u0627\u06CC\u062A",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},array:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"},set:{unit:"\u0622\u06CC\u062A\u0645",verb:"\u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F"}};function e(i){return t[i]??null}let r={regex:"\u0648\u0631\u0648\u062F\u06CC",email:"\u0622\u062F\u0631\u0633 \u0627\u06CC\u0645\u06CC\u0644",url:"URL",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u062A\u0627\u0631\u06CC\u062E \u0648 \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",date:"\u062A\u0627\u0631\u06CC\u062E \u0627\u06CC\u0632\u0648",time:"\u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",duration:"\u0645\u062F\u062A \u0632\u0645\u0627\u0646 \u0627\u06CC\u0632\u0648",ipv4:"IPv4 \u0622\u062F\u0631\u0633",ipv6:"IPv6 \u0622\u062F\u0631\u0633",cidrv4:"IPv4 \u062F\u0627\u0645\u0646\u0647",cidrv6:"IPv6 \u062F\u0627\u0645\u0646\u0647",base64:"base64-encoded \u0631\u0634\u062A\u0647",base64url:"base64url-encoded \u0631\u0634\u062A\u0647",json_string:"JSON \u0631\u0634\u062A\u0647",e164:"E.164 \u0639\u062F\u062F",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u06CC"},n={nan:"NaN",number:"\u0639\u062F\u062F",array:"\u0622\u0631\u0627\u06CC\u0647"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A instanceof ${i.expected} \u0645\u06CC\u200C\u0628\u0648\u062F\u060C ${a} \u062F\u0631\u06CC\u0627\u0641\u062A \u0634\u062F`:`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${o} \u0645\u06CC\u200C\u0628\u0648\u062F\u060C ${a} \u062F\u0631\u06CC\u0627\u0641\u062A \u0634\u062F`}case"invalid_value":return i.values.length===1?`\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A ${Te(i.values[0])} \u0645\u06CC\u200C\u0628\u0648\u062F`:`\u06AF\u0632\u06CC\u0646\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0645\u06CC\u200C\u0628\u0627\u06CC\u0633\u062A \u06CC\u06A9\u06CC \u0627\u0632 ${pe(i.values,"|")} \u0645\u06CC\u200C\u0628\u0648\u062F`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${i.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${o}${i.maximum.toString()} ${s.unit??"\u0639\u0646\u0635\u0631"} \u0628\u0627\u0634\u062F`:`\u062E\u06CC\u0644\u06CC \u0628\u0632\u0631\u06AF: ${i.origin??"\u0645\u0642\u062F\u0627\u0631"} \u0628\u0627\u06CC\u062F ${o}${i.maximum.toString()} \u0628\u0627\u0634\u062F`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${i.origin} \u0628\u0627\u06CC\u062F ${o}${i.minimum.toString()} ${s.unit} \u0628\u0627\u0634\u062F`:`\u062E\u06CC\u0644\u06CC \u06A9\u0648\u0686\u06A9: ${i.origin} \u0628\u0627\u06CC\u062F ${o}${i.minimum.toString()} \u0628\u0627\u0634\u062F`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${o.prefix}" \u0634\u0631\u0648\u0639 \u0634\u0648\u062F`:o.format==="ends_with"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 "${o.suffix}" \u062A\u0645\u0627\u0645 \u0634\u0648\u062F`:o.format==="includes"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0634\u0627\u0645\u0644 "${o.includes}" \u0628\u0627\u0634\u062F`:o.format==="regex"?`\u0631\u0634\u062A\u0647 \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0628\u0627 \u0627\u0644\u06AF\u0648\u06CC ${o.pattern} \u0645\u0637\u0627\u0628\u0642\u062A \u062F\u0627\u0634\u062A\u0647 \u0628\u0627\u0634\u062F`:`${r[o.format]??i.format} \u0646\u0627\u0645\u0639\u062A\u0628\u0631`}case"not_multiple_of":return`\u0639\u062F\u062F \u0646\u0627\u0645\u0639\u062A\u0628\u0631: \u0628\u0627\u06CC\u062F \u0645\u0636\u0631\u0628 ${i.divisor} \u0628\u0627\u0634\u062F`;case"unrecognized_keys":return`\u06A9\u0644\u06CC\u062F${i.keys.length>1?"\u0647\u0627\u06CC":""} \u0646\u0627\u0634\u0646\u0627\u0633: ${pe(i.keys,", ")}`;case"invalid_key":return`\u06A9\u0644\u06CC\u062F \u0646\u0627\u0634\u0646\u0627\u0633 \u062F\u0631 ${i.origin}`;case"invalid_union":return"\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631";case"invalid_element":return`\u0645\u0642\u062F\u0627\u0631 \u0646\u0627\u0645\u0639\u062A\u0628\u0631 \u062F\u0631 ${i.origin}`;default:return"\u0648\u0631\u0648\u062F\u06CC \u0646\u0627\u0645\u0639\u062A\u0628\u0631"}}};function Ude(){return{localeError:Grt()}}var Krt=()=>{let t={string:{unit:"merkki\xE4",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"p\xE4iv\xE4m\xE4\xE4r\xE4n"}};function e(i){return t[i]??null}let r={regex:"s\xE4\xE4nn\xF6llinen lauseke",email:"s\xE4hk\xF6postiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-p\xE4iv\xE4m\xE4\xE4r\xE4",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"},n={nan:"NaN"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Virheellinen tyyppi: odotettiin instanceof ${i.expected}, oli ${a}`:`Virheellinen tyyppi: odotettiin ${o}, oli ${a}`}case"invalid_value":return i.values.length===1?`Virheellinen sy\xF6te: t\xE4ytyy olla ${Te(i.values[0])}`:`Virheellinen valinta: t\xE4ytyy olla yksi seuraavista: ${pe(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Liian suuri: ${s.subject} t\xE4ytyy olla ${o}${i.maximum.toString()} ${s.unit}`.trim():`Liian suuri: arvon t\xE4ytyy olla ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Liian pieni: ${s.subject} t\xE4ytyy olla ${o}${i.minimum.toString()} ${s.unit}`.trim():`Liian pieni: arvon t\xE4ytyy olla ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Virheellinen sy\xF6te: t\xE4ytyy alkaa "${o.prefix}"`:o.format==="ends_with"?`Virheellinen sy\xF6te: t\xE4ytyy loppua "${o.suffix}"`:o.format==="includes"?`Virheellinen sy\xF6te: t\xE4ytyy sis\xE4lt\xE4\xE4 "${o.includes}"`:o.format==="regex"?`Virheellinen sy\xF6te: t\xE4ytyy vastata s\xE4\xE4nn\xF6llist\xE4 lauseketta ${o.pattern}`:`Virheellinen ${r[o.format]??i.format}`}case"not_multiple_of":return`Virheellinen luku: t\xE4ytyy olla luvun ${i.divisor} monikerta`;case"unrecognized_keys":return`${i.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${pe(i.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen sy\xF6te"}}};function Fde(){return{localeError:Krt()}}var Yrt=()=>{let t={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function e(i){return t[i]??null}let r={regex:"entr\xE9e",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"},n={nan:"NaN",number:"nombre",array:"tableau"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Entr\xE9e invalide : instanceof ${i.expected} attendu, ${a} re\xE7u`:`Entr\xE9e invalide : ${o} attendu, ${a} re\xE7u`}case"invalid_value":return i.values.length===1?`Entr\xE9e invalide : ${Te(i.values[0])} attendu`:`Option invalide : une valeur parmi ${pe(i.values,"|")} attendue`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Trop grand : ${i.origin??"valeur"} doit ${s.verb} ${o}${i.maximum.toString()} ${s.unit??"\xE9l\xE9ment(s)"}`:`Trop grand : ${i.origin??"valeur"} doit \xEAtre ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Trop petit : ${i.origin} doit ${s.verb} ${o}${i.minimum.toString()} ${s.unit}`:`Trop petit : ${i.origin} doit \xEAtre ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Cha\xEEne invalide : doit commencer par "${o.prefix}"`:o.format==="ends_with"?`Cha\xEEne invalide : doit se terminer par "${o.suffix}"`:o.format==="includes"?`Cha\xEEne invalide : doit inclure "${o.includes}"`:o.format==="regex"?`Cha\xEEne invalide : doit correspondre au mod\xE8le ${o.pattern}`:`${r[o.format]??i.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${i.divisor}`;case"unrecognized_keys":return`Cl\xE9${i.keys.length>1?"s":""} non reconnue${i.keys.length>1?"s":""} : ${pe(i.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${i.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${i.origin}`;default:return"Entr\xE9e invalide"}}};function zde(){return{localeError:Yrt()}}var Jrt=()=>{let t={string:{unit:"caract\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\xE9l\xE9ments",verb:"avoir"},set:{unit:"\xE9l\xE9ments",verb:"avoir"}};function e(i){return t[i]??null}let r={regex:"entr\xE9e",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\xEEne encod\xE9e en base64",base64url:"cha\xEEne encod\xE9e en base64url",json_string:"cha\xEEne JSON",e164:"num\xE9ro E.164",jwt:"JWT",template_literal:"entr\xE9e"},n={nan:"NaN"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Entr\xE9e invalide : attendu instanceof ${i.expected}, re\xE7u ${a}`:`Entr\xE9e invalide : attendu ${o}, re\xE7u ${a}`}case"invalid_value":return i.values.length===1?`Entr\xE9e invalide : attendu ${Te(i.values[0])}`:`Option invalide : attendu l'une des valeurs suivantes ${pe(i.values,"|")}`;case"too_big":{let o=i.inclusive?"\u2264":"<",s=e(i.origin);return s?`Trop grand : attendu que ${i.origin??"la valeur"} ait ${o}${i.maximum.toString()} ${s.unit}`:`Trop grand : attendu que ${i.origin??"la valeur"} soit ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?"\u2265":">",s=e(i.origin);return s?`Trop petit : attendu que ${i.origin} ait ${o}${i.minimum.toString()} ${s.unit}`:`Trop petit : attendu que ${i.origin} soit ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Cha\xEEne invalide : doit commencer par "${o.prefix}"`:o.format==="ends_with"?`Cha\xEEne invalide : doit se terminer par "${o.suffix}"`:o.format==="includes"?`Cha\xEEne invalide : doit inclure "${o.includes}"`:o.format==="regex"?`Cha\xEEne invalide : doit correspondre au motif ${o.pattern}`:`${r[o.format]??i.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xEAtre un multiple de ${i.divisor}`;case"unrecognized_keys":return`Cl\xE9${i.keys.length>1?"s":""} non reconnue${i.keys.length>1?"s":""} : ${pe(i.keys,", ")}`;case"invalid_key":return`Cl\xE9 invalide dans ${i.origin}`;case"invalid_union":return"Entr\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${i.origin}`;default:return"Entr\xE9e invalide"}}};function Vde(){return{localeError:Jrt()}}var Qrt=()=>{let t={string:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA",gender:"f"},number:{label:"\u05DE\u05E1\u05E4\u05E8",gender:"m"},boolean:{label:"\u05E2\u05E8\u05DA \u05D1\u05D5\u05DC\u05D9\u05D0\u05E0\u05D9",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA",gender:"m"},array:{label:"\u05DE\u05E2\u05E8\u05DA",gender:"m"},object:{label:"\u05D0\u05D5\u05D1\u05D9\u05D9\u05E7\u05D8",gender:"m"},null:{label:"\u05E2\u05E8\u05DA \u05E8\u05D9\u05E7 (null)",gender:"m"},undefined:{label:"\u05E2\u05E8\u05DA \u05DC\u05D0 \u05DE\u05D5\u05D2\u05D3\u05E8 (undefined)",gender:"m"},symbol:{label:"\u05E1\u05D9\u05DE\u05D1\u05D5\u05DC (Symbol)",gender:"m"},function:{label:"\u05E4\u05D5\u05E0\u05E7\u05E6\u05D9\u05D4",gender:"f"},map:{label:"\u05DE\u05E4\u05D4 (Map)",gender:"f"},set:{label:"\u05E7\u05D1\u05D5\u05E6\u05D4 (Set)",gender:"f"},file:{label:"\u05E7\u05D5\u05D1\u05E5",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"\u05E2\u05E8\u05DA \u05DC\u05D0 \u05D9\u05D3\u05D5\u05E2",gender:"m"},value:{label:"\u05E2\u05E8\u05DA",gender:"m"}},e={string:{unit:"\u05EA\u05D5\u05D5\u05D9\u05DD",shortLabel:"\u05E7\u05E6\u05E8",longLabel:"\u05D0\u05E8\u05D5\u05DA"},file:{unit:"\u05D1\u05D9\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},array:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},set:{unit:"\u05E4\u05E8\u05D9\u05D8\u05D9\u05DD",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"},number:{unit:"",shortLabel:"\u05E7\u05D8\u05DF",longLabel:"\u05D2\u05D3\u05D5\u05DC"}},r=l=>l?t[l]:void 0,n=l=>{let u=r(l);return u?u.label:l??t.unknown.label},i=l=>`\u05D4${n(l)}`,o=l=>(r(l)?.gender??"m")==="f"?"\u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05D9\u05D5\u05EA":"\u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA",s=l=>l?e[l]??null:null,a={regex:{label:"\u05E7\u05DC\u05D8",gender:"m"},email:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05D0\u05D9\u05DE\u05D9\u05D9\u05DC",gender:"f"},url:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA \u05E8\u05E9\u05EA",gender:"f"},emoji:{label:"\u05D0\u05D9\u05DE\u05D5\u05D2'\u05D9",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA \u05D5\u05D6\u05DE\u05DF ISO",gender:"m"},date:{label:"\u05EA\u05D0\u05E8\u05D9\u05DA ISO",gender:"m"},time:{label:"\u05D6\u05DE\u05DF ISO",gender:"m"},duration:{label:"\u05DE\u05E9\u05DA \u05D6\u05DE\u05DF ISO",gender:"m"},ipv4:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv4",gender:"f"},ipv6:{label:"\u05DB\u05EA\u05D5\u05D1\u05EA IPv6",gender:"f"},cidrv4:{label:"\u05D8\u05D5\u05D5\u05D7 IPv4",gender:"m"},cidrv6:{label:"\u05D8\u05D5\u05D5\u05D7 IPv6",gender:"m"},base64:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64",gender:"f"},base64url:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D1\u05D1\u05E1\u05D9\u05E1 64 \u05DC\u05DB\u05EA\u05D5\u05D1\u05D5\u05EA \u05E8\u05E9\u05EA",gender:"f"},json_string:{label:"\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA JSON",gender:"f"},e164:{label:"\u05DE\u05E1\u05E4\u05E8 E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"\u05E7\u05DC\u05D8",gender:"m"},includes:{label:"\u05E7\u05DC\u05D8",gender:"m"},lowercase:{label:"\u05E7\u05DC\u05D8",gender:"m"},starts_with:{label:"\u05E7\u05DC\u05D8",gender:"m"},uppercase:{label:"\u05E7\u05DC\u05D8",gender:"m"}},c={nan:"NaN"};return l=>{switch(l.code){case"invalid_type":{let u=l.expected,d=c[u??""]??n(u),p=Ce(l.input),m=c[p]??t[p]?.label??p;return/^[A-Z]/.test(l.expected)?`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA instanceof ${l.expected}, \u05D4\u05EA\u05E7\u05D1\u05DC ${m}`:`\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${d}, \u05D4\u05EA\u05E7\u05D1\u05DC ${m}`}case"invalid_value":{if(l.values.length===1)return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05E2\u05E8\u05DA \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA ${Te(l.values[0])}`;let u=l.values.map(m=>Te(m));if(l.values.length===2)return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA \u05D4\u05DE\u05EA\u05D0\u05D9\u05DE\u05D5\u05EA \u05D4\u05DF ${u[0]} \u05D0\u05D5 ${u[1]}`;let d=u[u.length-1];return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D4\u05D0\u05E4\u05E9\u05E8\u05D5\u05D9\u05D5\u05EA \u05D4\u05DE\u05EA\u05D0\u05D9\u05DE\u05D5\u05EA \u05D4\u05DF ${u.slice(0,-1).join(", ")} \u05D0\u05D5 ${d}`}case"too_big":{let u=s(l.origin),d=i(l.origin??"value");if(l.origin==="string")return`${u?.longLabel??"\u05D0\u05E8\u05D5\u05DA"} \u05DE\u05D3\u05D9: ${d} \u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05DB\u05D9\u05DC ${l.maximum.toString()} ${u?.unit??""} ${l.inclusive?"\u05D0\u05D5 \u05E4\u05D7\u05D5\u05EA":"\u05DC\u05DB\u05DC \u05D4\u05D9\u05D5\u05EA\u05E8"}`.trim();if(l.origin==="number"){let h=l.inclusive?`\u05E7\u05D8\u05DF \u05D0\u05D5 \u05E9\u05D5\u05D5\u05D4 \u05DC-${l.maximum}`:`\u05E7\u05D8\u05DF \u05DE-${l.maximum}`;return`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${d} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${h}`}if(l.origin==="array"||l.origin==="set"){let h=l.origin==="set"?"\u05E6\u05E8\u05D9\u05DB\u05D4":"\u05E6\u05E8\u05D9\u05DA",f=l.inclusive?`${l.maximum} ${u?.unit??""} \u05D0\u05D5 \u05E4\u05D7\u05D5\u05EA`:`\u05E4\u05D7\u05D5\u05EA \u05DE-${l.maximum} ${u?.unit??""}`;return`\u05D2\u05D3\u05D5\u05DC \u05DE\u05D3\u05D9: ${d} ${h} \u05DC\u05D4\u05DB\u05D9\u05DC ${f}`.trim()}let p=l.inclusive?"<=":"<",m=o(l.origin??"value");return u?.unit?`${u.longLabel} \u05DE\u05D3\u05D9: ${d} ${m} ${p}${l.maximum.toString()} ${u.unit}`:`${u?.longLabel??"\u05D2\u05D3\u05D5\u05DC"} \u05DE\u05D3\u05D9: ${d} ${m} ${p}${l.maximum.toString()}`}case"too_small":{let u=s(l.origin),d=i(l.origin??"value");if(l.origin==="string")return`${u?.shortLabel??"\u05E7\u05E6\u05E8"} \u05DE\u05D3\u05D9: ${d} \u05E6\u05E8\u05D9\u05DB\u05D4 \u05DC\u05D4\u05DB\u05D9\u05DC ${l.minimum.toString()} ${u?.unit??""} ${l.inclusive?"\u05D0\u05D5 \u05D9\u05D5\u05EA\u05E8":"\u05DC\u05E4\u05D7\u05D5\u05EA"}`.trim();if(l.origin==="number"){let h=l.inclusive?`\u05D2\u05D3\u05D5\u05DC \u05D0\u05D5 \u05E9\u05D5\u05D5\u05D4 \u05DC-${l.minimum}`:`\u05D2\u05D3\u05D5\u05DC \u05DE-${l.minimum}`;return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${d} \u05E6\u05E8\u05D9\u05DA \u05DC\u05D4\u05D9\u05D5\u05EA ${h}`}if(l.origin==="array"||l.origin==="set"){let h=l.origin==="set"?"\u05E6\u05E8\u05D9\u05DB\u05D4":"\u05E6\u05E8\u05D9\u05DA";if(l.minimum===1&&l.inclusive){let y=(l.origin==="set","\u05DC\u05E4\u05D7\u05D5\u05EA \u05E4\u05E8\u05D9\u05D8 \u05D0\u05D7\u05D3");return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${d} ${h} \u05DC\u05D4\u05DB\u05D9\u05DC ${y}`}let f=l.inclusive?`${l.minimum} ${u?.unit??""} \u05D0\u05D5 \u05D9\u05D5\u05EA\u05E8`:`\u05D9\u05D5\u05EA\u05E8 \u05DE-${l.minimum} ${u?.unit??""}`;return`\u05E7\u05D8\u05DF \u05DE\u05D3\u05D9: ${d} ${h} \u05DC\u05D4\u05DB\u05D9\u05DC ${f}`.trim()}let p=l.inclusive?">=":">",m=o(l.origin??"value");return u?.unit?`${u.shortLabel} \u05DE\u05D3\u05D9: ${d} ${m} ${p}${l.minimum.toString()} ${u.unit}`:`${u?.shortLabel??"\u05E7\u05D8\u05DF"} \u05DE\u05D3\u05D9: ${d} ${m} ${p}${l.minimum.toString()}`}case"invalid_format":{let u=l;if(u.format==="starts_with")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D7\u05D9\u05DC \u05D1 "${u.prefix}"`;if(u.format==="ends_with")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05E1\u05EA\u05D9\u05D9\u05DD \u05D1 "${u.suffix}"`;if(u.format==="includes")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05DB\u05DC\u05D5\u05DC "${u.includes}"`;if(u.format==="regex")return`\u05D4\u05DE\u05D7\u05E8\u05D5\u05D6\u05EA \u05D7\u05D9\u05D9\u05D1\u05EA \u05DC\u05D4\u05EA\u05D0\u05D9\u05DD \u05DC\u05EA\u05D1\u05E0\u05D9\u05EA ${u.pattern}`;let d=a[u.format],p=d?.label??u.format,h=(d?.gender??"m")==="f"?"\u05EA\u05E7\u05D9\u05E0\u05D4":"\u05EA\u05E7\u05D9\u05DF";return`${p} \u05DC\u05D0 ${h}`}case"not_multiple_of":return`\u05DE\u05E1\u05E4\u05E8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF: \u05D7\u05D9\u05D9\u05D1 \u05DC\u05D4\u05D9\u05D5\u05EA \u05DE\u05DB\u05E4\u05DC\u05D4 \u05E9\u05DC ${l.divisor}`;case"unrecognized_keys":return`\u05DE\u05E4\u05EA\u05D7${l.keys.length>1?"\u05D5\u05EA":""} \u05DC\u05D0 \u05DE\u05D6\u05D5\u05D4${l.keys.length>1?"\u05D9\u05DD":"\u05D4"}: ${pe(l.keys,", ")}`;case"invalid_key":return"\u05E9\u05D3\u05D4 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1\u05D0\u05D5\u05D1\u05D9\u05D9\u05E7\u05D8";case"invalid_union":return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF";case"invalid_element":return`\u05E2\u05E8\u05DA \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF \u05D1${i(l.origin??"array")}`;default:return"\u05E7\u05DC\u05D8 \u05DC\u05D0 \u05EA\u05E7\u05D9\u05DF"}}};function jde(){return{localeError:Qrt()}}var Zrt=()=>{let t={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function e(i){return t[i]??null}let r={regex:"bemenet",email:"email c\xEDm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO id\u0151b\xE9lyeg",date:"ISO d\xE1tum",time:"ISO id\u0151",duration:"ISO id\u0151intervallum",ipv4:"IPv4 c\xEDm",ipv6:"IPv6 c\xEDm",cidrv4:"IPv4 tartom\xE1ny",cidrv6:"IPv6 tartom\xE1ny",base64:"base64-k\xF3dolt string",base64url:"base64url-k\xF3dolt string",json_string:"JSON string",e164:"E.164 sz\xE1m",jwt:"JWT",template_literal:"bemenet"},n={nan:"NaN",number:"sz\xE1m",array:"t\xF6mb"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k instanceof ${i.expected}, a kapott \xE9rt\xE9k ${a}`:`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${o}, a kapott \xE9rt\xE9k ${a}`}case"invalid_value":return i.values.length===1?`\xC9rv\xE9nytelen bemenet: a v\xE1rt \xE9rt\xE9k ${Te(i.values[0])}`:`\xC9rv\xE9nytelen opci\xF3: valamelyik \xE9rt\xE9k v\xE1rt ${pe(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`T\xFAl nagy: ${i.origin??"\xE9rt\xE9k"} m\xE9rete t\xFAl nagy ${o}${i.maximum.toString()} ${s.unit??"elem"}`:`T\xFAl nagy: a bemeneti \xE9rt\xE9k ${i.origin??"\xE9rt\xE9k"} t\xFAl nagy: ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${i.origin} m\xE9rete t\xFAl kicsi ${o}${i.minimum.toString()} ${s.unit}`:`T\xFAl kicsi: a bemeneti \xE9rt\xE9k ${i.origin} t\xFAl kicsi ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\xC9rv\xE9nytelen string: "${o.prefix}" \xE9rt\xE9kkel kell kezd\u0151dnie`:o.format==="ends_with"?`\xC9rv\xE9nytelen string: "${o.suffix}" \xE9rt\xE9kkel kell v\xE9gz\u0151dnie`:o.format==="includes"?`\xC9rv\xE9nytelen string: "${o.includes}" \xE9rt\xE9ket kell tartalmaznia`:o.format==="regex"?`\xC9rv\xE9nytelen string: ${o.pattern} mint\xE1nak kell megfelelnie`:`\xC9rv\xE9nytelen ${r[o.format]??i.format}`}case"not_multiple_of":return`\xC9rv\xE9nytelen sz\xE1m: ${i.divisor} t\xF6bbsz\xF6r\xF6s\xE9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${i.keys.length>1?"s":""}: ${pe(i.keys,", ")}`;case"invalid_key":return`\xC9rv\xE9nytelen kulcs ${i.origin}`;case"invalid_union":return"\xC9rv\xE9nytelen bemenet";case"invalid_element":return`\xC9rv\xE9nytelen \xE9rt\xE9k: ${i.origin}`;default:return"\xC9rv\xE9nytelen bemenet"}}};function qde(){return{localeError:Zrt()}}function Hde(t,e,r){return Math.abs(t)===1?e:r}function yb(t){if(!t)return"";let e=["\u0561","\u0565","\u0568","\u056B","\u0578","\u0578\u0582","\u0585"],r=t[t.length-1];return t+(e.includes(r)?"\u0576":"\u0568")}var Xrt=()=>{let t={string:{unit:{one:"\u0576\u0577\u0561\u0576",many:"\u0576\u0577\u0561\u0576\u0576\u0565\u0580"},verb:"\u0578\u0582\u0576\u0565\u0576\u0561\u056C"},file:{unit:{one:"\u0562\u0561\u0575\u0569",many:"\u0562\u0561\u0575\u0569\u0565\u0580"},verb:"\u0578\u0582\u0576\u0565\u0576\u0561\u056C"},array:{unit:{one:"\u057F\u0561\u0580\u0580",many:"\u057F\u0561\u0580\u0580\u0565\u0580"},verb:"\u0578\u0582\u0576\u0565\u0576\u0561\u056C"},set:{unit:{one:"\u057F\u0561\u0580\u0580",many:"\u057F\u0561\u0580\u0580\u0565\u0580"},verb:"\u0578\u0582\u0576\u0565\u0576\u0561\u056C"}};function e(i){return t[i]??null}let r={regex:"\u0574\u0578\u0582\u057F\u0584",email:"\u0567\u056C. \u0570\u0561\u057D\u0581\u0565",url:"URL",emoji:"\u0567\u0574\u0578\u057B\u056B",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0561\u0574\u057D\u0561\u0569\u056B\u057E \u0587 \u056A\u0561\u0574",date:"ISO \u0561\u0574\u057D\u0561\u0569\u056B\u057E",time:"ISO \u056A\u0561\u0574",duration:"ISO \u057F\u0587\u0578\u0572\u0578\u0582\u0569\u0575\u0578\u0582\u0576",ipv4:"IPv4 \u0570\u0561\u057D\u0581\u0565",ipv6:"IPv6 \u0570\u0561\u057D\u0581\u0565",cidrv4:"IPv4 \u0574\u056B\u057B\u0561\u056F\u0561\u0575\u0584",cidrv6:"IPv6 \u0574\u056B\u057B\u0561\u056F\u0561\u0575\u0584",base64:"base64 \u0571\u0587\u0561\u0579\u0561\u0583\u0578\u057E \u057F\u0578\u0572",base64url:"base64url \u0571\u0587\u0561\u0579\u0561\u0583\u0578\u057E \u057F\u0578\u0572",json_string:"JSON \u057F\u0578\u0572",e164:"E.164 \u0570\u0561\u0574\u0561\u0580",jwt:"JWT",template_literal:"\u0574\u0578\u0582\u057F\u0584"},n={nan:"NaN",number:"\u0569\u056B\u057E",array:"\u0566\u0561\u0576\u0563\u057E\u0561\u056E"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u054D\u056D\u0561\u056C \u0574\u0578\u0582\u057F\u0584\u0561\u0563\u0580\u0578\u0582\u0574\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567\u0580 instanceof ${i.expected}, \u057D\u057F\u0561\u0581\u057E\u0565\u056C \u0567 ${a}`:`\u054D\u056D\u0561\u056C \u0574\u0578\u0582\u057F\u0584\u0561\u0563\u0580\u0578\u0582\u0574\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567\u0580 ${o}, \u057D\u057F\u0561\u0581\u057E\u0565\u056C \u0567 ${a}`}case"invalid_value":return i.values.length===1?`\u054D\u056D\u0561\u056C \u0574\u0578\u0582\u057F\u0584\u0561\u0563\u0580\u0578\u0582\u0574\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567\u0580 ${Te(i.values[1])}`:`\u054D\u056D\u0561\u056C \u057F\u0561\u0580\u0562\u0565\u0580\u0561\u056F\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567\u0580 \u0570\u0565\u057F\u0587\u0575\u0561\u056C\u0576\u0565\u0580\u056B\u0581 \u0574\u0565\u056F\u0568\u055D ${pe(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);if(s){let a=Number(i.maximum),c=Hde(a,s.unit.one,s.unit.many);return`\u0549\u0561\u0583\u0561\u0566\u0561\u0576\u0581 \u0574\u0565\u056E \u0561\u0580\u056A\u0565\u0584\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567, \u0578\u0580 ${yb(i.origin??"\u0561\u0580\u056A\u0565\u0584")} \u056F\u0578\u0582\u0576\u0565\u0576\u0561 ${o}${i.maximum.toString()} ${c}`}return`\u0549\u0561\u0583\u0561\u0566\u0561\u0576\u0581 \u0574\u0565\u056E \u0561\u0580\u056A\u0565\u0584\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567, \u0578\u0580 ${yb(i.origin??"\u0561\u0580\u056A\u0565\u0584")} \u056C\u056B\u0576\u056B ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);if(s){let a=Number(i.minimum),c=Hde(a,s.unit.one,s.unit.many);return`\u0549\u0561\u0583\u0561\u0566\u0561\u0576\u0581 \u0583\u0578\u0584\u0580 \u0561\u0580\u056A\u0565\u0584\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567, \u0578\u0580 ${yb(i.origin)} \u056F\u0578\u0582\u0576\u0565\u0576\u0561 ${o}${i.minimum.toString()} ${c}`}return`\u0549\u0561\u0583\u0561\u0566\u0561\u0576\u0581 \u0583\u0578\u0584\u0580 \u0561\u0580\u056A\u0565\u0584\u2024 \u057D\u057A\u0561\u057D\u057E\u0578\u0582\u0574 \u0567, \u0578\u0580 ${yb(i.origin)} \u056C\u056B\u0576\u056B ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u054D\u056D\u0561\u056C \u057F\u0578\u0572\u2024 \u057A\u0565\u057F\u0584 \u0567 \u057D\u056F\u057D\u057E\u056B "${o.prefix}"-\u0578\u057E`:o.format==="ends_with"?`\u054D\u056D\u0561\u056C \u057F\u0578\u0572\u2024 \u057A\u0565\u057F\u0584 \u0567 \u0561\u057E\u0561\u0580\u057F\u057E\u056B "${o.suffix}"-\u0578\u057E`:o.format==="includes"?`\u054D\u056D\u0561\u056C \u057F\u0578\u0572\u2024 \u057A\u0565\u057F\u0584 \u0567 \u057A\u0561\u0580\u0578\u0582\u0576\u0561\u056F\u056B "${o.includes}"`:o.format==="regex"?`\u054D\u056D\u0561\u056C \u057F\u0578\u0572\u2024 \u057A\u0565\u057F\u0584 \u0567 \u0570\u0561\u0574\u0561\u057A\u0561\u057F\u0561\u057D\u056D\u0561\u0576\u056B ${o.pattern} \u0571\u0587\u0561\u0579\u0561\u0583\u056B\u0576`:`\u054D\u056D\u0561\u056C ${r[o.format]??i.format}`}case"not_multiple_of":return`\u054D\u056D\u0561\u056C \u0569\u056B\u057E\u2024 \u057A\u0565\u057F\u0584 \u0567 \u0562\u0561\u0566\u0574\u0561\u057A\u0561\u057F\u056B\u056F \u056C\u056B\u0576\u056B ${i.divisor}-\u056B`;case"unrecognized_keys":return`\u0549\u0573\u0561\u0576\u0561\u0579\u057E\u0561\u056E \u0562\u0561\u0576\u0561\u056C\u056B${i.keys.length>1?"\u0576\u0565\u0580":""}. ${pe(i.keys,", ")}`;case"invalid_key":return`\u054D\u056D\u0561\u056C \u0562\u0561\u0576\u0561\u056C\u056B ${yb(i.origin)}-\u0578\u0582\u0574`;case"invalid_union":return"\u054D\u056D\u0561\u056C \u0574\u0578\u0582\u057F\u0584\u0561\u0563\u0580\u0578\u0582\u0574";case"invalid_element":return`\u054D\u056D\u0561\u056C \u0561\u0580\u056A\u0565\u0584 ${yb(i.origin)}-\u0578\u0582\u0574`;default:return"\u054D\u056D\u0561\u056C \u0574\u0578\u0582\u057F\u0584\u0561\u0563\u0580\u0578\u0582\u0574"}}};function Wde(){return{localeError:Xrt()}}var ent=()=>{let t={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function e(i){return t[i]??null}let r={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"},n={nan:"NaN"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Input tidak valid: diharapkan instanceof ${i.expected}, diterima ${a}`:`Input tidak valid: diharapkan ${o}, diterima ${a}`}case"invalid_value":return i.values.length===1?`Input tidak valid: diharapkan ${Te(i.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${pe(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Terlalu besar: diharapkan ${i.origin??"value"} memiliki ${o}${i.maximum.toString()} ${s.unit??"elemen"}`:`Terlalu besar: diharapkan ${i.origin??"value"} menjadi ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Terlalu kecil: diharapkan ${i.origin} memiliki ${o}${i.minimum.toString()} ${s.unit}`:`Terlalu kecil: diharapkan ${i.origin} menjadi ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`String tidak valid: harus dimulai dengan "${o.prefix}"`:o.format==="ends_with"?`String tidak valid: harus berakhir dengan "${o.suffix}"`:o.format==="includes"?`String tidak valid: harus menyertakan "${o.includes}"`:o.format==="regex"?`String tidak valid: harus sesuai pola ${o.pattern}`:`${r[o.format]??i.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${i.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${i.keys.length>1?"s":""}: ${pe(i.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${i.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${i.origin}`;default:return"Input tidak valid"}}};function Gde(){return{localeError:ent()}}var tnt=()=>{let t={string:{unit:"stafi",verb:"a\xF0 hafa"},file:{unit:"b\xE6ti",verb:"a\xF0 hafa"},array:{unit:"hluti",verb:"a\xF0 hafa"},set:{unit:"hluti",verb:"a\xF0 hafa"}};function e(i){return t[i]??null}let r={regex:"gildi",email:"netfang",url:"vefsl\xF3\xF0",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og t\xEDmi",date:"ISO dagsetning",time:"ISO t\xEDmi",duration:"ISO t\xEDmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 t\xF6lugildi",jwt:"JWT",template_literal:"gildi"},n={nan:"NaN",number:"n\xFAmer",array:"fylki"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Rangt gildi: \xDE\xFA sl\xF3st inn ${a} \xFEar sem \xE1 a\xF0 vera instanceof ${i.expected}`:`Rangt gildi: \xDE\xFA sl\xF3st inn ${a} \xFEar sem \xE1 a\xF0 vera ${o}`}case"invalid_value":return i.values.length===1?`Rangt gildi: gert r\xE1\xF0 fyrir ${Te(i.values[0])}`:`\xD3gilt val: m\xE1 vera eitt af eftirfarandi ${pe(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${i.origin??"gildi"} hafi ${o}${i.maximum.toString()} ${s.unit??"hluti"}`:`Of st\xF3rt: gert er r\xE1\xF0 fyrir a\xF0 ${i.origin??"gildi"} s\xE9 ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${i.origin} hafi ${o}${i.minimum.toString()} ${s.unit}`:`Of l\xEDti\xF0: gert er r\xE1\xF0 fyrir a\xF0 ${i.origin} s\xE9 ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\xD3gildur strengur: ver\xF0ur a\xF0 byrja \xE1 "${o.prefix}"`:o.format==="ends_with"?`\xD3gildur strengur: ver\xF0ur a\xF0 enda \xE1 "${o.suffix}"`:o.format==="includes"?`\xD3gildur strengur: ver\xF0ur a\xF0 innihalda "${o.includes}"`:o.format==="regex"?`\xD3gildur strengur: ver\xF0ur a\xF0 fylgja mynstri ${o.pattern}`:`Rangt ${r[o.format]??i.format}`}case"not_multiple_of":return`R\xF6ng tala: ver\xF0ur a\xF0 vera margfeldi af ${i.divisor}`;case"unrecognized_keys":return`\xD3\xFEekkt ${i.keys.length>1?"ir lyklar":"ur lykill"}: ${pe(i.keys,", ")}`;case"invalid_key":return`Rangur lykill \xED ${i.origin}`;case"invalid_union":return"Rangt gildi";case"invalid_element":return`Rangt gildi \xED ${i.origin}`;default:return"Rangt gildi"}}};function Kde(){return{localeError:tnt()}}var rnt=()=>{let t={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function e(i){return t[i]??null}let r={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"},n={nan:"NaN",number:"numero",array:"vettore"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Input non valido: atteso instanceof ${i.expected}, ricevuto ${a}`:`Input non valido: atteso ${o}, ricevuto ${a}`}case"invalid_value":return i.values.length===1?`Input non valido: atteso ${Te(i.values[0])}`:`Opzione non valida: atteso uno tra ${pe(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Troppo grande: ${i.origin??"valore"} deve avere ${o}${i.maximum.toString()} ${s.unit??"elementi"}`:`Troppo grande: ${i.origin??"valore"} deve essere ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Troppo piccolo: ${i.origin} deve avere ${o}${i.minimum.toString()} ${s.unit}`:`Troppo piccolo: ${i.origin} deve essere ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Stringa non valida: deve iniziare con "${o.prefix}"`:o.format==="ends_with"?`Stringa non valida: deve terminare con "${o.suffix}"`:o.format==="includes"?`Stringa non valida: deve includere "${o.includes}"`:o.format==="regex"?`Stringa non valida: deve corrispondere al pattern ${o.pattern}`:`Invalid ${r[o.format]??i.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${i.divisor}`;case"unrecognized_keys":return`Chiav${i.keys.length>1?"i":"e"} non riconosciut${i.keys.length>1?"e":"a"}: ${pe(i.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${i.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${i.origin}`;default:return"Input non valido"}}};function Yde(){return{localeError:rnt()}}var nnt=()=>{let t={string:{unit:"\u6587\u5B57",verb:"\u3067\u3042\u308B"},file:{unit:"\u30D0\u30A4\u30C8",verb:"\u3067\u3042\u308B"},array:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"},set:{unit:"\u8981\u7D20",verb:"\u3067\u3042\u308B"}};function e(i){return t[i]??null}let r={regex:"\u5165\u529B\u5024",email:"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9",url:"URL",emoji:"\u7D75\u6587\u5B57",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u6642",date:"ISO\u65E5\u4ED8",time:"ISO\u6642\u523B",duration:"ISO\u671F\u9593",ipv4:"IPv4\u30A2\u30C9\u30EC\u30B9",ipv6:"IPv6\u30A2\u30C9\u30EC\u30B9",cidrv4:"IPv4\u7BC4\u56F2",cidrv6:"IPv6\u7BC4\u56F2",base64:"base64\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",base64url:"base64url\u30A8\u30F3\u30B3\u30FC\u30C9\u6587\u5B57\u5217",json_string:"JSON\u6587\u5B57\u5217",e164:"E.164\u756A\u53F7",jwt:"JWT",template_literal:"\u5165\u529B\u5024"},n={nan:"NaN",number:"\u6570\u5024",array:"\u914D\u5217"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u7121\u52B9\u306A\u5165\u529B: instanceof ${i.expected}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F\u304C\u3001${a}\u304C\u5165\u529B\u3055\u308C\u307E\u3057\u305F`:`\u7121\u52B9\u306A\u5165\u529B: ${o}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F\u304C\u3001${a}\u304C\u5165\u529B\u3055\u308C\u307E\u3057\u305F`}case"invalid_value":return i.values.length===1?`\u7121\u52B9\u306A\u5165\u529B: ${Te(i.values[0])}\u304C\u671F\u5F85\u3055\u308C\u307E\u3057\u305F`:`\u7121\u52B9\u306A\u9078\u629E: ${pe(i.values,"\u3001")}\u306E\u3044\u305A\u308C\u304B\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"too_big":{let o=i.inclusive?"\u4EE5\u4E0B\u3067\u3042\u308B":"\u3088\u308A\u5C0F\u3055\u3044",s=e(i.origin);return s?`\u5927\u304D\u3059\u304E\u308B\u5024: ${i.origin??"\u5024"}\u306F${i.maximum.toString()}${s.unit??"\u8981\u7D20"}${o}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u5927\u304D\u3059\u304E\u308B\u5024: ${i.origin??"\u5024"}\u306F${i.maximum.toString()}${o}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"too_small":{let o=i.inclusive?"\u4EE5\u4E0A\u3067\u3042\u308B":"\u3088\u308A\u5927\u304D\u3044",s=e(i.origin);return s?`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${i.origin}\u306F${i.minimum.toString()}${s.unit}${o}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u5C0F\u3055\u3059\u304E\u308B\u5024: ${i.origin}\u306F${i.minimum.toString()}${o}\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${o.prefix}"\u3067\u59CB\u307E\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:o.format==="ends_with"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${o.suffix}"\u3067\u7D42\u308F\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:o.format==="includes"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: "${o.includes}"\u3092\u542B\u3080\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:o.format==="regex"?`\u7121\u52B9\u306A\u6587\u5B57\u5217: \u30D1\u30BF\u30FC\u30F3${o.pattern}\u306B\u4E00\u81F4\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`:`\u7121\u52B9\u306A${r[o.format]??i.format}`}case"not_multiple_of":return`\u7121\u52B9\u306A\u6570\u5024: ${i.divisor}\u306E\u500D\u6570\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059`;case"unrecognized_keys":return`\u8A8D\u8B58\u3055\u308C\u3066\u3044\u306A\u3044\u30AD\u30FC${i.keys.length>1?"\u7FA4":""}: ${pe(i.keys,"\u3001")}`;case"invalid_key":return`${i.origin}\u5185\u306E\u7121\u52B9\u306A\u30AD\u30FC`;case"invalid_union":return"\u7121\u52B9\u306A\u5165\u529B";case"invalid_element":return`${i.origin}\u5185\u306E\u7121\u52B9\u306A\u5024`;default:return"\u7121\u52B9\u306A\u5165\u529B"}}};function Jde(){return{localeError:nnt()}}var int=()=>{let t={string:{unit:"\u10E1\u10D8\u10DB\u10D1\u10DD\u10DA\u10DD",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},file:{unit:"\u10D1\u10D0\u10D8\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},array:{unit:"\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"},set:{unit:"\u10D4\u10DA\u10D4\u10DB\u10D4\u10DC\u10E2\u10D8",verb:"\u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1"}};function e(i){return t[i]??null}let r={regex:"\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0",email:"\u10D4\u10DA-\u10E4\u10DD\u10E1\u10E2\u10D8\u10E1 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",url:"URL",emoji:"\u10D4\u10DB\u10DD\u10EF\u10D8",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8-\u10D3\u10E0\u10DD",date:"\u10D7\u10D0\u10E0\u10D8\u10E6\u10D8",time:"\u10D3\u10E0\u10DD",duration:"\u10EE\u10D0\u10DC\u10D2\u10E0\u10EB\u10DA\u10D8\u10D5\u10DD\u10D1\u10D0",ipv4:"IPv4 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",ipv6:"IPv6 \u10DB\u10D8\u10E1\u10D0\u10DB\u10D0\u10E0\u10D7\u10D8",cidrv4:"IPv4 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8",cidrv6:"IPv6 \u10D3\u10D8\u10D0\u10DE\u10D0\u10D6\u10DD\u10DC\u10D8",base64:"base64-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",base64url:"base64url-\u10D9\u10DD\u10D3\u10D8\u10E0\u10D4\u10D1\u10E3\u10DA\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",json_string:"JSON \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",e164:"E.164 \u10DC\u10DD\u10DB\u10D4\u10E0\u10D8",jwt:"JWT",template_literal:"\u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0"},n={nan:"NaN",number:"\u10E0\u10D8\u10EA\u10EE\u10D5\u10D8",string:"\u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8",boolean:"\u10D1\u10E3\u10DA\u10D4\u10D0\u10DC\u10D8",function:"\u10E4\u10E3\u10DC\u10E5\u10EA\u10D8\u10D0",array:"\u10DB\u10D0\u10E1\u10D8\u10D5\u10D8"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 instanceof ${i.expected}, \u10DB\u10D8\u10E6\u10D4\u10D1\u10E3\u10DA\u10D8 ${a}`:`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${o}, \u10DB\u10D8\u10E6\u10D4\u10D1\u10E3\u10DA\u10D8 ${a}`}case"invalid_value":return i.values.length===1?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${Te(i.values[0])}`:`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D5\u10D0\u10E0\u10D8\u10D0\u10DC\u10E2\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8\u10D0 \u10D4\u10E0\u10D7-\u10D4\u10E0\u10D7\u10D8 ${pe(i.values,"|")}-\u10D3\u10D0\u10DC`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${i.origin??"\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0"} ${s.verb} ${o}${i.maximum.toString()} ${s.unit}`:`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10D3\u10D8\u10D3\u10D8: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${i.origin??"\u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0"} \u10D8\u10E7\u10DD\u10E1 ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${i.origin} ${s.verb} ${o}${i.minimum.toString()} ${s.unit}`:`\u10D6\u10D4\u10D3\u10DB\u10D4\u10E2\u10D0\u10D3 \u10DE\u10D0\u10E2\u10D0\u10E0\u10D0: \u10DB\u10DD\u10E1\u10D0\u10DA\u10DD\u10D3\u10DC\u10D4\u10DA\u10D8 ${i.origin} \u10D8\u10E7\u10DD\u10E1 ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10EC\u10E7\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 "${o.prefix}"-\u10D8\u10D7`:o.format==="ends_with"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10DB\u10D7\u10D0\u10D5\u10E0\u10D3\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 "${o.suffix}"-\u10D8\u10D7`:o.format==="includes"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D8\u10EA\u10D0\u10D5\u10D3\u10D4\u10E1 "${o.includes}"-\u10E1`:o.format==="regex"?`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E1\u10E2\u10E0\u10D8\u10DC\u10D2\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10E8\u10D4\u10D4\u10E1\u10D0\u10D1\u10D0\u10DB\u10D4\u10D1\u10DD\u10D3\u10D4\u10E1 \u10E8\u10D0\u10D1\u10DA\u10DD\u10DC\u10E1 ${o.pattern}`:`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 ${r[o.format]??i.format}`}case"not_multiple_of":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E0\u10D8\u10EA\u10EE\u10D5\u10D8: \u10E3\u10DC\u10D3\u10D0 \u10D8\u10E7\u10DD\u10E1 ${i.divisor}-\u10D8\u10E1 \u10EF\u10D4\u10E0\u10D0\u10D3\u10D8`;case"unrecognized_keys":return`\u10E3\u10EA\u10DC\u10DD\u10D1\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1${i.keys.length>1?"\u10D4\u10D1\u10D8":"\u10D8"}: ${pe(i.keys,", ")}`;case"invalid_key":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10D2\u10D0\u10E1\u10D0\u10E6\u10D4\u10D1\u10D8 ${i.origin}-\u10E8\u10D8`;case"invalid_union":return"\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0";case"invalid_element":return`\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10DB\u10DC\u10D8\u10E8\u10D5\u10DC\u10D4\u10DA\u10DD\u10D1\u10D0 ${i.origin}-\u10E8\u10D8`;default:return"\u10D0\u10E0\u10D0\u10E1\u10EC\u10DD\u10E0\u10D8 \u10E8\u10D4\u10E7\u10D5\u10D0\u10DC\u10D0"}}};function Qde(){return{localeError:int()}}var ont=()=>{let t={string:{unit:"\u178F\u17BD\u17A2\u1780\u17D2\u179F\u179A",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},file:{unit:"\u1794\u17C3",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},array:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"},set:{unit:"\u1792\u17B6\u178F\u17BB",verb:"\u1782\u17BD\u179A\u1798\u17B6\u1793"}};function e(i){return t[i]??null}let r={regex:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B",email:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793\u17A2\u17CA\u17B8\u1798\u17C2\u179B",url:"URL",emoji:"\u179F\u1789\u17D2\u1789\u17B6\u17A2\u17B6\u179A\u1798\u17D2\u1798\u178E\u17CD",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 \u1793\u17B7\u1784\u1798\u17C9\u17C4\u1784 ISO",date:"\u1780\u17B6\u179B\u1794\u179A\u17B7\u1785\u17D2\u1786\u17C1\u1791 ISO",time:"\u1798\u17C9\u17C4\u1784 ISO",duration:"\u179A\u1799\u17C8\u1796\u17C1\u179B ISO",ipv4:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",ipv6:"\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",cidrv4:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv4",cidrv6:"\u178A\u17C2\u1793\u17A2\u17B6\u179F\u1799\u178A\u17D2\u178B\u17B6\u1793 IPv6",base64:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64",base64url:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u17A2\u17CA\u17B7\u1780\u17BC\u178A base64url",json_string:"\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A JSON",e164:"\u179B\u17C1\u1781 E.164",jwt:"JWT",template_literal:"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B"},n={nan:"NaN",number:"\u179B\u17C1\u1781",array:"\u17A2\u17B6\u179A\u17C1 (Array)",null:"\u1782\u17D2\u1798\u17B6\u1793\u178F\u1798\u17D2\u179B\u17C3 (null)"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A instanceof ${i.expected} \u1794\u17C9\u17BB\u1793\u17D2\u178F\u17C2\u1791\u1791\u17BD\u179B\u1794\u17B6\u1793 ${a}`:`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${o} \u1794\u17C9\u17BB\u1793\u17D2\u178F\u17C2\u1791\u1791\u17BD\u179B\u1794\u17B6\u1793 ${a}`}case"invalid_value":return i.values.length===1?`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1794\u1789\u17D2\u1785\u17BC\u179B\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${Te(i.values[0])}`:`\u1787\u1798\u17D2\u179A\u17BE\u179F\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1787\u17B6\u1798\u17BD\u1799\u1780\u17D2\u1793\u17BB\u1784\u1785\u17C6\u178E\u17C4\u1798 ${pe(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${i.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${o} ${i.maximum.toString()} ${s.unit??"\u1792\u17B6\u178F\u17BB"}`:`\u1792\u17C6\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${i.origin??"\u178F\u1798\u17D2\u179B\u17C3"} ${o} ${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${i.origin} ${o} ${i.minimum.toString()} ${s.unit}`:`\u178F\u17BC\u1785\u1796\u17C1\u1780\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1780\u17B6\u179A ${i.origin} ${o} ${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1785\u17B6\u1794\u17CB\u1795\u17D2\u178F\u17BE\u1798\u178A\u17C4\u1799 "${o.prefix}"`:o.format==="ends_with"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1794\u1789\u17D2\u1785\u1794\u17CB\u178A\u17C4\u1799 "${o.suffix}"`:o.format==="includes"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u1798\u17B6\u1793 "${o.includes}"`:o.format==="regex"?`\u1781\u17D2\u179F\u17C2\u17A2\u1780\u17D2\u179F\u179A\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1795\u17D2\u1782\u17BC\u1795\u17D2\u1782\u1784\u1793\u17B9\u1784\u1791\u1798\u17D2\u179A\u1784\u17CB\u178A\u17C2\u179B\u1794\u17B6\u1793\u1780\u17C6\u178E\u178F\u17CB ${o.pattern}`:`\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 ${r[o.format]??i.format}`}case"not_multiple_of":return`\u179B\u17C1\u1781\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u17D6 \u178F\u17D2\u179A\u17BC\u179C\u178F\u17C2\u1787\u17B6\u1796\u17A0\u17BB\u1782\u17BB\u178E\u1793\u17C3 ${i.divisor}`;case"unrecognized_keys":return`\u179A\u1780\u1783\u17BE\u1789\u179F\u17C4\u1798\u17B7\u1793\u179F\u17D2\u1782\u17B6\u179B\u17CB\u17D6 ${pe(i.keys,", ")}`;case"invalid_key":return`\u179F\u17C4\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${i.origin}`;case"invalid_union":return"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C";case"invalid_element":return`\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C\u1793\u17C5\u1780\u17D2\u1793\u17BB\u1784 ${i.origin}`;default:return"\u1791\u17B7\u1793\u17D2\u1793\u1793\u17D0\u1799\u1798\u17B7\u1793\u178F\u17D2\u179A\u17B9\u1798\u178F\u17D2\u179A\u17BC\u179C"}}};function $T(){return{localeError:ont()}}function Zde(){return $T()}var snt=()=>{let t={string:{unit:"\uBB38\uC790",verb:"to have"},file:{unit:"\uBC14\uC774\uD2B8",verb:"to have"},array:{unit:"\uAC1C",verb:"to have"},set:{unit:"\uAC1C",verb:"to have"}};function e(i){return t[i]??null}let r={regex:"\uC785\uB825",email:"\uC774\uBA54\uC77C \uC8FC\uC18C",url:"URL",emoji:"\uC774\uBAA8\uC9C0",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \uB0A0\uC9DC\uC2DC\uAC04",date:"ISO \uB0A0\uC9DC",time:"ISO \uC2DC\uAC04",duration:"ISO \uAE30\uAC04",ipv4:"IPv4 \uC8FC\uC18C",ipv6:"IPv6 \uC8FC\uC18C",cidrv4:"IPv4 \uBC94\uC704",cidrv6:"IPv6 \uBC94\uC704",base64:"base64 \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",base64url:"base64url \uC778\uCF54\uB529 \uBB38\uC790\uC5F4",json_string:"JSON \uBB38\uC790\uC5F4",e164:"E.164 \uBC88\uD638",jwt:"JWT",template_literal:"\uC785\uB825"},n={nan:"NaN"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\uC798\uBABB\uB41C \uC785\uB825: \uC608\uC0C1 \uD0C0\uC785\uC740 instanceof ${i.expected}, \uBC1B\uC740 \uD0C0\uC785\uC740 ${a}\uC785\uB2C8\uB2E4`:`\uC798\uBABB\uB41C \uC785\uB825: \uC608\uC0C1 \uD0C0\uC785\uC740 ${o}, \uBC1B\uC740 \uD0C0\uC785\uC740 ${a}\uC785\uB2C8\uB2E4`}case"invalid_value":return i.values.length===1?`\uC798\uBABB\uB41C \uC785\uB825: \uAC12\uC740 ${Te(i.values[0])} \uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4`:`\uC798\uBABB\uB41C \uC635\uC158: ${pe(i.values,"\uB610\uB294 ")} \uC911 \uD558\uB098\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"too_big":{let o=i.inclusive?"\uC774\uD558":"\uBBF8\uB9CC",s=o==="\uBBF8\uB9CC"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",a=e(i.origin),c=a?.unit??"\uC694\uC18C";return a?`${i.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${i.maximum.toString()}${c} ${o}${s}`:`${i.origin??"\uAC12"}\uC774 \uB108\uBB34 \uD07D\uB2C8\uB2E4: ${i.maximum.toString()} ${o}${s}`}case"too_small":{let o=i.inclusive?"\uC774\uC0C1":"\uCD08\uACFC",s=o==="\uC774\uC0C1"?"\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4":"\uC5EC\uC57C \uD569\uB2C8\uB2E4",a=e(i.origin),c=a?.unit??"\uC694\uC18C";return a?`${i.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${i.minimum.toString()}${c} ${o}${s}`:`${i.origin??"\uAC12"}\uC774 \uB108\uBB34 \uC791\uC2B5\uB2C8\uB2E4: ${i.minimum.toString()} ${o}${s}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${o.prefix}"(\uC73C)\uB85C \uC2DC\uC791\uD574\uC57C \uD569\uB2C8\uB2E4`:o.format==="ends_with"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${o.suffix}"(\uC73C)\uB85C \uB05D\uB098\uC57C \uD569\uB2C8\uB2E4`:o.format==="includes"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: "${o.includes}"\uC744(\uB97C) \uD3EC\uD568\uD574\uC57C \uD569\uB2C8\uB2E4`:o.format==="regex"?`\uC798\uBABB\uB41C \uBB38\uC790\uC5F4: \uC815\uADDC\uC2DD ${o.pattern} \uD328\uD134\uACFC \uC77C\uCE58\uD574\uC57C \uD569\uB2C8\uB2E4`:`\uC798\uBABB\uB41C ${r[o.format]??i.format}`}case"not_multiple_of":return`\uC798\uBABB\uB41C \uC22B\uC790: ${i.divisor}\uC758 \uBC30\uC218\uC5EC\uC57C \uD569\uB2C8\uB2E4`;case"unrecognized_keys":return`\uC778\uC2DD\uD560 \uC218 \uC5C6\uB294 \uD0A4: ${pe(i.keys,", ")}`;case"invalid_key":return`\uC798\uBABB\uB41C \uD0A4: ${i.origin}`;case"invalid_union":return"\uC798\uBABB\uB41C \uC785\uB825";case"invalid_element":return`\uC798\uBABB\uB41C \uAC12: ${i.origin}`;default:return"\uC798\uBABB\uB41C \uC785\uB825"}}};function Xde(){return{localeError:snt()}}var Mw=t=>t.charAt(0).toUpperCase()+t.slice(1);function epe(t){let e=Math.abs(t),r=e%10,n=e%100;return n>=11&&n<=19||r===0?"many":r===1?"one":"few"}var ant=()=>{let t={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli\u0173"},verb:{smaller:{inclusive:"turi b\u016Bti ne ilgesn\u0117 kaip",notInclusive:"turi b\u016Bti trumpesn\u0117 kaip"},bigger:{inclusive:"turi b\u016Bti ne trumpesn\u0117 kaip",notInclusive:"turi b\u016Bti ilgesn\u0117 kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait\u0173"},verb:{smaller:{inclusive:"turi b\u016Bti ne didesnis kaip",notInclusive:"turi b\u016Bti ma\u017Eesnis kaip"},bigger:{inclusive:"turi b\u016Bti ne ma\u017Eesnis kaip",notInclusive:"turi b\u016Bti didesnis kaip"}}},array:{unit:{one:"element\u0105",few:"elementus",many:"element\u0173"},verb:{smaller:{inclusive:"turi tur\u0117ti ne daugiau kaip",notInclusive:"turi tur\u0117ti ma\u017Eiau kaip"},bigger:{inclusive:"turi tur\u0117ti ne ma\u017Eiau kaip",notInclusive:"turi tur\u0117ti daugiau kaip"}}},set:{unit:{one:"element\u0105",few:"elementus",many:"element\u0173"},verb:{smaller:{inclusive:"turi tur\u0117ti ne daugiau kaip",notInclusive:"turi tur\u0117ti ma\u017Eiau kaip"},bigger:{inclusive:"turi tur\u0117ti ne ma\u017Eiau kaip",notInclusive:"turi tur\u0117ti daugiau kaip"}}}};function e(i,o,s,a){let c=t[i]??null;return c===null?c:{unit:c.unit[o],verb:c.verb[a][s?"inclusive":"notInclusive"]}}let r={regex:"\u012Fvestis",email:"el. pa\u0161to adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm\u0117",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 u\u017Ekoduota eilut\u0117",base64url:"base64url u\u017Ekoduota eilut\u0117",json_string:"JSON eilut\u0117",e164:"E.164 numeris",jwt:"JWT",template_literal:"\u012Fvestis"},n={nan:"NaN",number:"skai\u010Dius",bigint:"sveikasis skai\u010Dius",string:"eilut\u0117",boolean:"login\u0117 reik\u0161m\u0117",undefined:"neapibr\u0117\u017Eta reik\u0161m\u0117",function:"funkcija",symbol:"simbolis",array:"masyvas",object:"objektas",null:"nulin\u0117 reik\u0161m\u0117"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Gautas tipas ${a}, o tik\u0117tasi - instanceof ${i.expected}`:`Gautas tipas ${a}, o tik\u0117tasi - ${o}`}case"invalid_value":return i.values.length===1?`Privalo b\u016Bti ${Te(i.values[0])}`:`Privalo b\u016Bti vienas i\u0161 ${pe(i.values,"|")} pasirinkim\u0173`;case"too_big":{let o=n[i.origin]??i.origin,s=e(i.origin,epe(Number(i.maximum)),i.inclusive??!1,"smaller");if(s?.verb)return`${Mw(o??i.origin??"reik\u0161m\u0117")} ${s.verb} ${i.maximum.toString()} ${s.unit??"element\u0173"}`;let a=i.inclusive?"ne didesnis kaip":"ma\u017Eesnis kaip";return`${Mw(o??i.origin??"reik\u0161m\u0117")} turi b\u016Bti ${a} ${i.maximum.toString()} ${s?.unit}`}case"too_small":{let o=n[i.origin]??i.origin,s=e(i.origin,epe(Number(i.minimum)),i.inclusive??!1,"bigger");if(s?.verb)return`${Mw(o??i.origin??"reik\u0161m\u0117")} ${s.verb} ${i.minimum.toString()} ${s.unit??"element\u0173"}`;let a=i.inclusive?"ne ma\u017Eesnis kaip":"didesnis kaip";return`${Mw(o??i.origin??"reik\u0161m\u0117")} turi b\u016Bti ${a} ${i.minimum.toString()} ${s?.unit}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Eilut\u0117 privalo prasid\u0117ti "${o.prefix}"`:o.format==="ends_with"?`Eilut\u0117 privalo pasibaigti "${o.suffix}"`:o.format==="includes"?`Eilut\u0117 privalo \u012Ftraukti "${o.includes}"`:o.format==="regex"?`Eilut\u0117 privalo atitikti ${o.pattern}`:`Neteisingas ${r[o.format]??i.format}`}case"not_multiple_of":return`Skai\u010Dius privalo b\u016Bti ${i.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpa\u017Eint${i.keys.length>1?"i":"as"} rakt${i.keys.length>1?"ai":"as"}: ${pe(i.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":return"Klaidinga \u012Fvestis";case"invalid_element":{let o=n[i.origin]??i.origin;return`${Mw(o??i.origin??"reik\u0161m\u0117")} turi klaiding\u0105 \u012Fvest\u012F`}default:return"Klaidinga \u012Fvestis"}}};function tpe(){return{localeError:ant()}}var cnt=()=>{let t={string:{unit:"\u0437\u043D\u0430\u0446\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},file:{unit:"\u0431\u0430\u0458\u0442\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},array:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"},set:{unit:"\u0441\u0442\u0430\u0432\u043A\u0438",verb:"\u0434\u0430 \u0438\u043C\u0430\u0430\u0442"}};function e(i){return t[i]??null}let r={regex:"\u0432\u043D\u0435\u0441",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u043D\u0430 \u0435-\u043F\u043E\u0448\u0442\u0430",url:"URL",emoji:"\u0435\u043C\u043E\u045F\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0443\u043C \u0438 \u0432\u0440\u0435\u043C\u0435",date:"ISO \u0434\u0430\u0442\u0443\u043C",time:"ISO \u0432\u0440\u0435\u043C\u0435",duration:"ISO \u0432\u0440\u0435\u043C\u0435\u0442\u0440\u0430\u0435\u045A\u0435",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441\u0430",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441\u0430",cidrv4:"IPv4 \u043E\u043F\u0441\u0435\u0433",cidrv6:"IPv6 \u043E\u043F\u0441\u0435\u0433",base64:"base64-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",base64url:"base64url-\u0435\u043D\u043A\u043E\u0434\u0438\u0440\u0430\u043D\u0430 \u043D\u0438\u0437\u0430",json_string:"JSON \u043D\u0438\u0437\u0430",e164:"E.164 \u0431\u0440\u043E\u0458",jwt:"JWT",template_literal:"\u0432\u043D\u0435\u0441"},n={nan:"NaN",number:"\u0431\u0440\u043E\u0458",array:"\u043D\u0438\u0437\u0430"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 instanceof ${i.expected}, \u043F\u0440\u0438\u043C\u0435\u043D\u043E ${a}`:`\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${o}, \u043F\u0440\u0438\u043C\u0435\u043D\u043E ${a}`}case"invalid_value":return i.values.length===1?`Invalid input: expected ${Te(i.values[0])}`:`\u0413\u0440\u0435\u0448\u0430\u043D\u0430 \u043E\u043F\u0446\u0438\u0458\u0430: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 \u0435\u0434\u043D\u0430 ${pe(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${i.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0438\u043C\u0430 ${o}${i.maximum.toString()} ${s.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0438"}`:`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u0433\u043E\u043B\u0435\u043C: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${i.origin??"\u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442\u0430"} \u0434\u0430 \u0431\u0438\u0434\u0435 ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${i.origin} \u0434\u0430 \u0438\u043C\u0430 ${o}${i.minimum.toString()} ${s.unit}`:`\u041F\u0440\u0435\u043C\u043D\u043E\u0433\u0443 \u043C\u0430\u043B: \u0441\u0435 \u043E\u0447\u0435\u043A\u0443\u0432\u0430 ${i.origin} \u0434\u0430 \u0431\u0438\u0434\u0435 ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u043F\u043E\u0447\u043D\u0443\u0432\u0430 \u0441\u043E "${o.prefix}"`:o.format==="ends_with"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0437\u0430\u0432\u0440\u0448\u0443\u0432\u0430 \u0441\u043E "${o.suffix}"`:o.format==="includes"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0432\u043A\u043B\u0443\u0447\u0443\u0432\u0430 "${o.includes}"`:o.format==="regex"?`\u041D\u0435\u0432\u0430\u0436\u0435\u0447\u043A\u0430 \u043D\u0438\u0437\u0430: \u043C\u043E\u0440\u0430 \u0434\u0430 \u043E\u0434\u0433\u043E\u0430\u0440\u0430 \u043D\u0430 \u043F\u0430\u0442\u0435\u0440\u043D\u043E\u0442 ${o.pattern}`:`Invalid ${r[o.format]??i.format}`}case"not_multiple_of":return`\u0413\u0440\u0435\u0448\u0435\u043D \u0431\u0440\u043E\u0458: \u043C\u043E\u0440\u0430 \u0434\u0430 \u0431\u0438\u0434\u0435 \u0434\u0435\u043B\u0438\u0432 \u0441\u043E ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D\u0438 \u043A\u043B\u0443\u0447\u0435\u0432\u0438":"\u041D\u0435\u043F\u0440\u0435\u043F\u043E\u0437\u043D\u0430\u0435\u043D \u043A\u043B\u0443\u0447"}: ${pe(i.keys,", ")}`;case"invalid_key":return`\u0413\u0440\u0435\u0448\u0435\u043D \u043A\u043B\u0443\u0447 \u0432\u043E ${i.origin}`;case"invalid_union":return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441";case"invalid_element":return`\u0413\u0440\u0435\u0448\u043D\u0430 \u0432\u0440\u0435\u0434\u043D\u043E\u0441\u0442 \u0432\u043E ${i.origin}`;default:return"\u0413\u0440\u0435\u0448\u0435\u043D \u0432\u043D\u0435\u0441"}}};function rpe(){return{localeError:cnt()}}var lnt=()=>{let t={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function e(i){return t[i]??null}let r={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"},n={nan:"NaN",number:"nombor"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Input tidak sah: dijangka instanceof ${i.expected}, diterima ${a}`:`Input tidak sah: dijangka ${o}, diterima ${a}`}case"invalid_value":return i.values.length===1?`Input tidak sah: dijangka ${Te(i.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${pe(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Terlalu besar: dijangka ${i.origin??"nilai"} ${s.verb} ${o}${i.maximum.toString()} ${s.unit??"elemen"}`:`Terlalu besar: dijangka ${i.origin??"nilai"} adalah ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Terlalu kecil: dijangka ${i.origin} ${s.verb} ${o}${i.minimum.toString()} ${s.unit}`:`Terlalu kecil: dijangka ${i.origin} adalah ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`String tidak sah: mesti bermula dengan "${o.prefix}"`:o.format==="ends_with"?`String tidak sah: mesti berakhir dengan "${o.suffix}"`:o.format==="includes"?`String tidak sah: mesti mengandungi "${o.includes}"`:o.format==="regex"?`String tidak sah: mesti sepadan dengan corak ${o.pattern}`:`${r[o.format]??i.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${i.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${pe(i.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${i.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${i.origin}`;default:return"Input tidak sah"}}};function npe(){return{localeError:lnt()}}var unt=()=>{let t={string:{unit:"tekens",verb:"heeft"},file:{unit:"bytes",verb:"heeft"},array:{unit:"elementen",verb:"heeft"},set:{unit:"elementen",verb:"heeft"}};function e(i){return t[i]??null}let r={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"},n={nan:"NaN",number:"getal"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Ongeldige invoer: verwacht instanceof ${i.expected}, ontving ${a}`:`Ongeldige invoer: verwacht ${o}, ontving ${a}`}case"invalid_value":return i.values.length===1?`Ongeldige invoer: verwacht ${Te(i.values[0])}`:`Ongeldige optie: verwacht \xE9\xE9n van ${pe(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin),a=i.origin==="date"?"laat":i.origin==="string"?"lang":"groot";return s?`Te ${a}: verwacht dat ${i.origin??"waarde"} ${o}${i.maximum.toString()} ${s.unit??"elementen"} ${s.verb}`:`Te ${a}: verwacht dat ${i.origin??"waarde"} ${o}${i.maximum.toString()} is`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin),a=i.origin==="date"?"vroeg":i.origin==="string"?"kort":"klein";return s?`Te ${a}: verwacht dat ${i.origin} ${o}${i.minimum.toString()} ${s.unit} ${s.verb}`:`Te ${a}: verwacht dat ${i.origin} ${o}${i.minimum.toString()} is`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Ongeldige tekst: moet met "${o.prefix}" beginnen`:o.format==="ends_with"?`Ongeldige tekst: moet op "${o.suffix}" eindigen`:o.format==="includes"?`Ongeldige tekst: moet "${o.includes}" bevatten`:o.format==="regex"?`Ongeldige tekst: moet overeenkomen met patroon ${o.pattern}`:`Ongeldig: ${r[o.format]??i.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${i.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${i.keys.length>1?"s":""}: ${pe(i.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${i.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${i.origin}`;default:return"Ongeldige invoer"}}};function ipe(){return{localeError:unt()}}var dnt=()=>{let t={string:{unit:"tegn",verb:"\xE5 ha"},file:{unit:"bytes",verb:"\xE5 ha"},array:{unit:"elementer",verb:"\xE5 inneholde"},set:{unit:"elementer",verb:"\xE5 inneholde"}};function e(i){return t[i]??null}let r={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omr\xE5de",ipv6:"IPv6-omr\xE5de",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},n={nan:"NaN",number:"tall",array:"liste"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Ugyldig input: forventet instanceof ${i.expected}, fikk ${a}`:`Ugyldig input: forventet ${o}, fikk ${a}`}case"invalid_value":return i.values.length===1?`Ugyldig verdi: forventet ${Te(i.values[0])}`:`Ugyldig valg: forventet en av ${pe(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`For stor(t): forventet ${i.origin??"value"} til \xE5 ha ${o}${i.maximum.toString()} ${s.unit??"elementer"}`:`For stor(t): forventet ${i.origin??"value"} til \xE5 ha ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`For lite(n): forventet ${i.origin} til \xE5 ha ${o}${i.minimum.toString()} ${s.unit}`:`For lite(n): forventet ${i.origin} til \xE5 ha ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Ugyldig streng: m\xE5 starte med "${o.prefix}"`:o.format==="ends_with"?`Ugyldig streng: m\xE5 ende med "${o.suffix}"`:o.format==="includes"?`Ugyldig streng: m\xE5 inneholde "${o.includes}"`:o.format==="regex"?`Ugyldig streng: m\xE5 matche m\xF8nsteret ${o.pattern}`:`Ugyldig ${r[o.format]??i.format}`}case"not_multiple_of":return`Ugyldig tall: m\xE5 v\xE6re et multiplum av ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Ukjente n\xF8kler":"Ukjent n\xF8kkel"}: ${pe(i.keys,", ")}`;case"invalid_key":return`Ugyldig n\xF8kkel i ${i.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${i.origin}`;default:return"Ugyldig input"}}};function ope(){return{localeError:dnt()}}var pnt=()=>{let t={string:{unit:"harf",verb:"olmal\u0131d\u0131r"},file:{unit:"bayt",verb:"olmal\u0131d\u0131r"},array:{unit:"unsur",verb:"olmal\u0131d\u0131r"},set:{unit:"unsur",verb:"olmal\u0131d\u0131r"}};function e(i){return t[i]??null}let r={regex:"giren",email:"epostag\xE2h",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO heng\xE2m\u0131",date:"ISO tarihi",time:"ISO zaman\u0131",duration:"ISO m\xFCddeti",ipv4:"IPv4 ni\u015F\xE2n\u0131",ipv6:"IPv6 ni\u015F\xE2n\u0131",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-\u015Fifreli metin",base64url:"base64url-\u015Fifreli metin",json_string:"JSON metin",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"giren"},n={nan:"NaN",number:"numara",array:"saf",null:"gayb"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`F\xE2sit giren: umulan instanceof ${i.expected}, al\u0131nan ${a}`:`F\xE2sit giren: umulan ${o}, al\u0131nan ${a}`}case"invalid_value":return i.values.length===1?`F\xE2sit giren: umulan ${Te(i.values[0])}`:`F\xE2sit tercih: m\xFBteberler ${pe(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Fazla b\xFCy\xFCk: ${i.origin??"value"}, ${o}${i.maximum.toString()} ${s.unit??"elements"} sahip olmal\u0131yd\u0131.`:`Fazla b\xFCy\xFCk: ${i.origin??"value"}, ${o}${i.maximum.toString()} olmal\u0131yd\u0131.`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Fazla k\xFC\xE7\xFCk: ${i.origin}, ${o}${i.minimum.toString()} ${s.unit} sahip olmal\u0131yd\u0131.`:`Fazla k\xFC\xE7\xFCk: ${i.origin}, ${o}${i.minimum.toString()} olmal\u0131yd\u0131.`}case"invalid_format":{let o=i;return o.format==="starts_with"?`F\xE2sit metin: "${o.prefix}" ile ba\u015Flamal\u0131.`:o.format==="ends_with"?`F\xE2sit metin: "${o.suffix}" ile bitmeli.`:o.format==="includes"?`F\xE2sit metin: "${o.includes}" ihtiv\xE2 etmeli.`:o.format==="regex"?`F\xE2sit metin: ${o.pattern} nak\u015F\u0131na uymal\u0131.`:`F\xE2sit ${r[o.format]??i.format}`}case"not_multiple_of":return`F\xE2sit say\u0131: ${i.divisor} kat\u0131 olmal\u0131yd\u0131.`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar ${i.keys.length>1?"s":""}: ${pe(i.keys,", ")}`;case"invalid_key":return`${i.origin} i\xE7in tan\u0131nmayan anahtar var.`;case"invalid_union":return"Giren tan\u0131namad\u0131.";case"invalid_element":return`${i.origin} i\xE7in tan\u0131nmayan k\u0131ymet var.`;default:return"K\u0131ymet tan\u0131namad\u0131."}}};function spe(){return{localeError:pnt()}}var mnt=()=>{let t={string:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},file:{unit:"\u0628\u0627\u06CC\u067C\u0633",verb:"\u0648\u0644\u0631\u064A"},array:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"},set:{unit:"\u062A\u0648\u06A9\u064A",verb:"\u0648\u0644\u0631\u064A"}};function e(i){return t[i]??null}let r={regex:"\u0648\u0631\u0648\u062F\u064A",email:"\u0628\u0631\u06CC\u069A\u0646\u0627\u0644\u06CC\u06A9",url:"\u06CC\u0648 \u0622\u0631 \u0627\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0646\u06CC\u067C\u0647 \u0627\u0648 \u0648\u062E\u062A",date:"\u0646\u06D0\u067C\u0647",time:"\u0648\u062E\u062A",duration:"\u0645\u0648\u062F\u0647",ipv4:"\u062F IPv4 \u067E\u062A\u0647",ipv6:"\u062F IPv6 \u067E\u062A\u0647",cidrv4:"\u062F IPv4 \u0633\u0627\u062D\u0647",cidrv6:"\u062F IPv6 \u0633\u0627\u062D\u0647",base64:"base64-encoded \u0645\u062A\u0646",base64url:"base64url-encoded \u0645\u062A\u0646",json_string:"JSON \u0645\u062A\u0646",e164:"\u062F E.164 \u0634\u0645\u06D0\u0631\u0647",jwt:"JWT",template_literal:"\u0648\u0631\u0648\u062F\u064A"},n={nan:"NaN",number:"\u0639\u062F\u062F",array:"\u0627\u0631\u06D0"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F instanceof ${i.expected} \u0648\u0627\u06CC, \u0645\u06AB\u0631 ${a} \u062A\u0631\u0644\u0627\u0633\u0647 \u0634\u0648`:`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${o} \u0648\u0627\u06CC, \u0645\u06AB\u0631 ${a} \u062A\u0631\u0644\u0627\u0633\u0647 \u0634\u0648`}case"invalid_value":return i.values.length===1?`\u0646\u0627\u0633\u0645 \u0648\u0631\u0648\u062F\u064A: \u0628\u0627\u06CC\u062F ${Te(i.values[0])} \u0648\u0627\u06CC`:`\u0646\u0627\u0633\u0645 \u0627\u0646\u062A\u062E\u0627\u0628: \u0628\u0627\u06CC\u062F \u06CC\u0648 \u0644\u0647 ${pe(i.values,"|")} \u0685\u062E\u0647 \u0648\u0627\u06CC`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${i.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${o}${i.maximum.toString()} ${s.unit??"\u0639\u0646\u0635\u0631\u0648\u0646\u0647"} \u0648\u0644\u0631\u064A`:`\u0689\u06CC\u0631 \u0644\u0648\u06CC: ${i.origin??"\u0627\u0631\u0632\u069A\u062A"} \u0628\u0627\u06CC\u062F ${o}${i.maximum.toString()} \u0648\u064A`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${i.origin} \u0628\u0627\u06CC\u062F ${o}${i.minimum.toString()} ${s.unit} \u0648\u0644\u0631\u064A`:`\u0689\u06CC\u0631 \u06A9\u0648\u0686\u0646\u06CC: ${i.origin} \u0628\u0627\u06CC\u062F ${o}${i.minimum.toString()} \u0648\u064A`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${o.prefix}" \u0633\u0631\u0647 \u067E\u06CC\u0644 \u0634\u064A`:o.format==="ends_with"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F "${o.suffix}" \u0633\u0631\u0647 \u067E\u0627\u06CC \u062A\u0647 \u0648\u0631\u0633\u064A\u0696\u064A`:o.format==="includes"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F "${o.includes}" \u0648\u0644\u0631\u064A`:o.format==="regex"?`\u0646\u0627\u0633\u0645 \u0645\u062A\u0646: \u0628\u0627\u06CC\u062F \u062F ${o.pattern} \u0633\u0631\u0647 \u0645\u0637\u0627\u0628\u0642\u062A \u0648\u0644\u0631\u064A`:`${r[o.format]??i.format} \u0646\u0627\u0633\u0645 \u062F\u06CC`}case"not_multiple_of":return`\u0646\u0627\u0633\u0645 \u0639\u062F\u062F: \u0628\u0627\u06CC\u062F \u062F ${i.divisor} \u0645\u0636\u0631\u0628 \u0648\u064A`;case"unrecognized_keys":return`\u0646\u0627\u0633\u0645 ${i.keys.length>1?"\u06A9\u0644\u06CC\u0689\u0648\u0646\u0647":"\u06A9\u0644\u06CC\u0689"}: ${pe(i.keys,", ")}`;case"invalid_key":return`\u0646\u0627\u0633\u0645 \u06A9\u0644\u06CC\u0689 \u067E\u0647 ${i.origin} \u06A9\u06D0`;case"invalid_union":return"\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A";case"invalid_element":return`\u0646\u0627\u0633\u0645 \u0639\u0646\u0635\u0631 \u067E\u0647 ${i.origin} \u06A9\u06D0`;default:return"\u0646\u0627\u0633\u0645\u0647 \u0648\u0631\u0648\u062F\u064A"}}};function ape(){return{localeError:mnt()}}var fnt=()=>{let t={string:{unit:"znak\xF3w",verb:"mie\u0107"},file:{unit:"bajt\xF3w",verb:"mie\u0107"},array:{unit:"element\xF3w",verb:"mie\u0107"},set:{unit:"element\xF3w",verb:"mie\u0107"}};function e(i){return t[i]??null}let r={regex:"wyra\u017Cenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"ci\u0105g znak\xF3w zakodowany w formacie base64",base64url:"ci\u0105g znak\xF3w zakodowany w formacie base64url",json_string:"ci\u0105g znak\xF3w w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wej\u015Bcie"},n={nan:"NaN",number:"liczba",array:"tablica"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano instanceof ${i.expected}, otrzymano ${a}`:`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${o}, otrzymano ${a}`}case"invalid_value":return i.values.length===1?`Nieprawid\u0142owe dane wej\u015Bciowe: oczekiwano ${Te(i.values[0])}`:`Nieprawid\u0142owa opcja: oczekiwano jednej z warto\u015Bci ${pe(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Za du\u017Ca warto\u015B\u0107: oczekiwano, \u017Ce ${i.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${o}${i.maximum.toString()} ${s.unit??"element\xF3w"}`:`Zbyt du\u017C(y/a/e): oczekiwano, \u017Ce ${i.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Za ma\u0142a warto\u015B\u0107: oczekiwano, \u017Ce ${i.origin??"warto\u015B\u0107"} b\u0119dzie mie\u0107 ${o}${i.minimum.toString()} ${s.unit??"element\xF3w"}`:`Zbyt ma\u0142(y/a/e): oczekiwano, \u017Ce ${i.origin??"warto\u015B\u0107"} b\u0119dzie wynosi\u0107 ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zaczyna\u0107 si\u0119 od "${o.prefix}"`:o.format==="ends_with"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi ko\u0144czy\u0107 si\u0119 na "${o.suffix}"`:o.format==="includes"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi zawiera\u0107 "${o.includes}"`:o.format==="regex"?`Nieprawid\u0142owy ci\u0105g znak\xF3w: musi odpowiada\u0107 wzorcowi ${o.pattern}`:`Nieprawid\u0142ow(y/a/e) ${r[o.format]??i.format}`}case"not_multiple_of":return`Nieprawid\u0142owa liczba: musi by\u0107 wielokrotno\u015Bci\u0105 ${i.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${i.keys.length>1?"s":""}: ${pe(i.keys,", ")}`;case"invalid_key":return`Nieprawid\u0142owy klucz w ${i.origin}`;case"invalid_union":return"Nieprawid\u0142owe dane wej\u015Bciowe";case"invalid_element":return`Nieprawid\u0142owa warto\u015B\u0107 w ${i.origin}`;default:return"Nieprawid\u0142owe dane wej\u015Bciowe"}}};function cpe(){return{localeError:fnt()}}var hnt=()=>{let t={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function e(i){return t[i]??null}let r={regex:"padr\xE3o",email:"endere\xE7o de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"dura\xE7\xE3o ISO",ipv4:"endere\xE7o IPv4",ipv6:"endere\xE7o IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"n\xFAmero E.164",jwt:"JWT",template_literal:"entrada"},n={nan:"NaN",number:"n\xFAmero",null:"nulo"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Tipo inv\xE1lido: esperado instanceof ${i.expected}, recebido ${a}`:`Tipo inv\xE1lido: esperado ${o}, recebido ${a}`}case"invalid_value":return i.values.length===1?`Entrada inv\xE1lida: esperado ${Te(i.values[0])}`:`Op\xE7\xE3o inv\xE1lida: esperada uma das ${pe(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Muito grande: esperado que ${i.origin??"valor"} tivesse ${o}${i.maximum.toString()} ${s.unit??"elementos"}`:`Muito grande: esperado que ${i.origin??"valor"} fosse ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Muito pequeno: esperado que ${i.origin} tivesse ${o}${i.minimum.toString()} ${s.unit}`:`Muito pequeno: esperado que ${i.origin} fosse ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Texto inv\xE1lido: deve come\xE7ar com "${o.prefix}"`:o.format==="ends_with"?`Texto inv\xE1lido: deve terminar com "${o.suffix}"`:o.format==="includes"?`Texto inv\xE1lido: deve incluir "${o.includes}"`:o.format==="regex"?`Texto inv\xE1lido: deve corresponder ao padr\xE3o ${o.pattern}`:`${r[o.format]??i.format} inv\xE1lido`}case"not_multiple_of":return`N\xFAmero inv\xE1lido: deve ser m\xFAltiplo de ${i.divisor}`;case"unrecognized_keys":return`Chave${i.keys.length>1?"s":""} desconhecida${i.keys.length>1?"s":""}: ${pe(i.keys,", ")}`;case"invalid_key":return`Chave inv\xE1lida em ${i.origin}`;case"invalid_union":return"Entrada inv\xE1lida";case"invalid_element":return`Valor inv\xE1lido em ${i.origin}`;default:return"Campo inv\xE1lido"}}};function lpe(){return{localeError:hnt()}}function upe(t,e,r,n){let i=Math.abs(t),o=i%10,s=i%100;return s>=11&&s<=19?n:o===1?e:o>=2&&o<=4?r:n}var gnt=()=>{let t={string:{unit:{one:"\u0441\u0438\u043C\u0432\u043E\u043B",few:"\u0441\u0438\u043C\u0432\u043E\u043B\u0430",many:"\u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},file:{unit:{one:"\u0431\u0430\u0439\u0442",few:"\u0431\u0430\u0439\u0442\u0430",many:"\u0431\u0430\u0439\u0442"},verb:"\u0438\u043C\u0435\u0442\u044C"},array:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"},set:{unit:{one:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},verb:"\u0438\u043C\u0435\u0442\u044C"}};function e(i){return t[i]??null}let r={regex:"\u0432\u0432\u043E\u0434",email:"email \u0430\u0434\u0440\u0435\u0441",url:"URL",emoji:"\u044D\u043C\u043E\u0434\u0437\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0434\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F",date:"ISO \u0434\u0430\u0442\u0430",time:"ISO \u0432\u0440\u0435\u043C\u044F",duration:"ISO \u0434\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C",ipv4:"IPv4 \u0430\u0434\u0440\u0435\u0441",ipv6:"IPv6 \u0430\u0434\u0440\u0435\u0441",cidrv4:"IPv4 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",cidrv6:"IPv6 \u0434\u0438\u0430\u043F\u0430\u0437\u043E\u043D",base64:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64",base64url:"\u0441\u0442\u0440\u043E\u043A\u0430 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 base64url",json_string:"JSON \u0441\u0442\u0440\u043E\u043A\u0430",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0432\u043E\u0434"},n={nan:"NaN",number:"\u0447\u0438\u0441\u043B\u043E",array:"\u043C\u0430\u0441\u0441\u0438\u0432"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C instanceof ${i.expected}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E ${a}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${o}, \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u043E ${a}`}case"invalid_value":return i.values.length===1?`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0432\u043E\u0434: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C ${Te(i.values[0])}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0432\u0430\u0440\u0438\u0430\u043D\u0442: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0434\u043D\u043E \u0438\u0437 ${pe(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);if(s){let a=Number(i.maximum),c=upe(a,s.unit.one,s.unit.few,s.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${i.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${o}${i.maximum.toString()} ${c}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u0431\u043E\u043B\u044C\u0448\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${i.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"} \u0431\u0443\u0434\u0435\u0442 ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);if(s){let a=Number(i.minimum),c=upe(a,s.unit.one,s.unit.few,s.unit.many);return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${i.origin} \u0431\u0443\u0434\u0435\u0442 \u0438\u043C\u0435\u0442\u044C ${o}${i.minimum.toString()} ${c}`}return`\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435: \u043E\u0436\u0438\u0434\u0430\u043B\u043E\u0441\u044C, \u0447\u0442\u043E ${i.origin} \u0431\u0443\u0434\u0435\u0442 ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u043D\u0430\u0447\u0438\u043D\u0430\u0442\u044C\u0441\u044F \u0441 "${o.prefix}"`:o.format==="ends_with"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0437\u0430\u043A\u0430\u043D\u0447\u0438\u0432\u0430\u0442\u044C\u0441\u044F \u043D\u0430 "${o.suffix}"`:o.format==="includes"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C "${o.includes}"`:o.format==="regex"?`\u041D\u0435\u0432\u0435\u0440\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430: \u0434\u043E\u043B\u0436\u043D\u0430 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043E\u0432\u0430\u0442\u044C \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${o.pattern}`:`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 ${r[o.format]??i.format}`}case"not_multiple_of":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0447\u0438\u0441\u043B\u043E: \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u043A\u0440\u0430\u0442\u043D\u044B\u043C ${i.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u0430\u0441\u043F\u043E\u0437\u043D\u0430\u043D\u043D${i.keys.length>1?"\u044B\u0435":"\u044B\u0439"} \u043A\u043B\u044E\u0447${i.keys.length>1?"\u0438":""}: ${pe(i.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043A\u043B\u044E\u0447 \u0432 ${i.origin}`;case"invalid_union":return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435";case"invalid_element":return`\u041D\u0435\u0432\u0435\u0440\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u0432 ${i.origin}`;default:return"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0432\u0445\u043E\u0434\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435"}}};function dpe(){return{localeError:gnt()}}var ynt=()=>{let t={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function e(i){return t[i]??null}let r={regex:"vnos",email:"e-po\u0161tni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in \u010Das",date:"ISO datum",time:"ISO \u010Das",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 \u0161tevilka",jwt:"JWT",template_literal:"vnos"},n={nan:"NaN",number:"\u0161tevilo",array:"tabela"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Neveljaven vnos: pri\u010Dakovano instanceof ${i.expected}, prejeto ${a}`:`Neveljaven vnos: pri\u010Dakovano ${o}, prejeto ${a}`}case"invalid_value":return i.values.length===1?`Neveljaven vnos: pri\u010Dakovano ${Te(i.values[0])}`:`Neveljavna mo\u017Enost: pri\u010Dakovano eno izmed ${pe(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Preveliko: pri\u010Dakovano, da bo ${i.origin??"vrednost"} imelo ${o}${i.maximum.toString()} ${s.unit??"elementov"}`:`Preveliko: pri\u010Dakovano, da bo ${i.origin??"vrednost"} ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Premajhno: pri\u010Dakovano, da bo ${i.origin} imelo ${o}${i.minimum.toString()} ${s.unit}`:`Premajhno: pri\u010Dakovano, da bo ${i.origin} ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Neveljaven niz: mora se za\u010Deti z "${o.prefix}"`:o.format==="ends_with"?`Neveljaven niz: mora se kon\u010Dati z "${o.suffix}"`:o.format==="includes"?`Neveljaven niz: mora vsebovati "${o.includes}"`:o.format==="regex"?`Neveljaven niz: mora ustrezati vzorcu ${o.pattern}`:`Neveljaven ${r[o.format]??i.format}`}case"not_multiple_of":return`Neveljavno \u0161tevilo: mora biti ve\u010Dkratnik ${i.divisor}`;case"unrecognized_keys":return`Neprepoznan${i.keys.length>1?"i klju\u010Di":" klju\u010D"}: ${pe(i.keys,", ")}`;case"invalid_key":return`Neveljaven klju\u010D v ${i.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${i.origin}`;default:return"Neveljaven vnos"}}};function ppe(){return{localeError:ynt()}}var bnt=()=>{let t={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att inneh\xE5lla"},set:{unit:"objekt",verb:"att inneh\xE5lla"}};function e(i){return t[i]??null}let r={regex:"regulj\xE4rt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad str\xE4ng",base64url:"base64url-kodad str\xE4ng",json_string:"JSON-str\xE4ng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"},n={nan:"NaN",number:"antal",array:"lista"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Ogiltig inmatning: f\xF6rv\xE4ntat instanceof ${i.expected}, fick ${a}`:`Ogiltig inmatning: f\xF6rv\xE4ntat ${o}, fick ${a}`}case"invalid_value":return i.values.length===1?`Ogiltig inmatning: f\xF6rv\xE4ntat ${Te(i.values[0])}`:`Ogiltigt val: f\xF6rv\xE4ntade en av ${pe(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`F\xF6r stor(t): f\xF6rv\xE4ntade ${i.origin??"v\xE4rdet"} att ha ${o}${i.maximum.toString()} ${s.unit??"element"}`:`F\xF6r stor(t): f\xF6rv\xE4ntat ${i.origin??"v\xE4rdet"} att ha ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`F\xF6r lite(t): f\xF6rv\xE4ntade ${i.origin??"v\xE4rdet"} att ha ${o}${i.minimum.toString()} ${s.unit}`:`F\xF6r lite(t): f\xF6rv\xE4ntade ${i.origin??"v\xE4rdet"} att ha ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Ogiltig str\xE4ng: m\xE5ste b\xF6rja med "${o.prefix}"`:o.format==="ends_with"?`Ogiltig str\xE4ng: m\xE5ste sluta med "${o.suffix}"`:o.format==="includes"?`Ogiltig str\xE4ng: m\xE5ste inneh\xE5lla "${o.includes}"`:o.format==="regex"?`Ogiltig str\xE4ng: m\xE5ste matcha m\xF6nstret "${o.pattern}"`:`Ogiltig(t) ${r[o.format]??i.format}`}case"not_multiple_of":return`Ogiltigt tal: m\xE5ste vara en multipel av ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Ok\xE4nda nycklar":"Ok\xE4nd nyckel"}: ${pe(i.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${i.origin??"v\xE4rdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xE4rde i ${i.origin??"v\xE4rdet"}`;default:return"Ogiltig input"}}};function mpe(){return{localeError:bnt()}}var vnt=()=>{let t={string:{unit:"\u0B8E\u0BB4\u0BC1\u0BA4\u0BCD\u0BA4\u0BC1\u0B95\u0BCD\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},file:{unit:"\u0BAA\u0BC8\u0B9F\u0BCD\u0B9F\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},array:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"},set:{unit:"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD",verb:"\u0B95\u0BCA\u0BA3\u0BCD\u0B9F\u0BBF\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD"}};function e(i){return t[i]??null}let r={regex:"\u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1",email:"\u0BAE\u0BBF\u0BA9\u0BCD\u0BA9\u0B9E\u0BCD\u0B9A\u0BB2\u0BCD \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u0BA4\u0BC7\u0BA4\u0BBF \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",date:"ISO \u0BA4\u0BC7\u0BA4\u0BBF",time:"ISO \u0BA8\u0BC7\u0BB0\u0BAE\u0BCD",duration:"ISO \u0B95\u0BBE\u0BB2 \u0B85\u0BB3\u0BB5\u0BC1",ipv4:"IPv4 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",ipv6:"IPv6 \u0BAE\u0BC1\u0B95\u0BB5\u0BB0\u0BBF",cidrv4:"IPv4 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",cidrv6:"IPv6 \u0BB5\u0BB0\u0BAE\u0BCD\u0BAA\u0BC1",base64:"base64-encoded \u0B9A\u0BB0\u0BAE\u0BCD",base64url:"base64url-encoded \u0B9A\u0BB0\u0BAE\u0BCD",json_string:"JSON \u0B9A\u0BB0\u0BAE\u0BCD",e164:"E.164 \u0B8E\u0BA3\u0BCD",jwt:"JWT",template_literal:"input"},n={nan:"NaN",number:"\u0B8E\u0BA3\u0BCD",array:"\u0B85\u0BA3\u0BBF",null:"\u0BB5\u0BC6\u0BB1\u0BC1\u0BAE\u0BC8"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 instanceof ${i.expected}, \u0BAA\u0BC6\u0BB1\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${a}`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${o}, \u0BAA\u0BC6\u0BB1\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${a}`}case"invalid_value":return i.values.length===1?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${Te(i.values[0])}`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0BB0\u0BC1\u0BAA\u0BCD\u0BAA\u0BAE\u0BCD: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${pe(i.values,"|")} \u0B87\u0BB2\u0BCD \u0B92\u0BA9\u0BCD\u0BB1\u0BC1`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${i.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${o}${i.maximum.toString()} ${s.unit??"\u0B89\u0BB1\u0BC1\u0BAA\u0BCD\u0BAA\u0BC1\u0B95\u0BB3\u0BCD"} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BAE\u0BBF\u0B95 \u0BAA\u0BC6\u0BB0\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${i.origin??"\u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1"} ${o}${i.maximum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${i.origin} ${o}${i.minimum.toString()} ${s.unit} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BAE\u0BBF\u0B95\u0B9A\u0BCD \u0B9A\u0BBF\u0BB1\u0BBF\u0BAF\u0BA4\u0BC1: \u0B8E\u0BA4\u0BBF\u0BB0\u0BCD\u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0B9F\u0BCD\u0B9F\u0BA4\u0BC1 ${i.origin} ${o}${i.minimum.toString()} \u0B86\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${o.prefix}" \u0B87\u0BB2\u0BCD \u0BA4\u0BCA\u0B9F\u0B99\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:o.format==="ends_with"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${o.suffix}" \u0B87\u0BB2\u0BCD \u0BAE\u0BC1\u0B9F\u0BBF\u0BB5\u0B9F\u0BC8\u0BAF \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:o.format==="includes"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: "${o.includes}" \u0B90 \u0B89\u0BB3\u0BCD\u0BB3\u0B9F\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:o.format==="regex"?`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B9A\u0BB0\u0BAE\u0BCD: ${o.pattern} \u0BAE\u0BC1\u0BB1\u0BC8\u0BAA\u0BBE\u0B9F\u0BCD\u0B9F\u0BC1\u0B9F\u0BA9\u0BCD \u0BAA\u0BCA\u0BB0\u0BC1\u0BA8\u0BCD\u0BA4 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`:`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 ${r[o.format]??i.format}`}case"not_multiple_of":return`\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B8E\u0BA3\u0BCD: ${i.divisor} \u0B87\u0BA9\u0BCD \u0BAA\u0BB2\u0BAE\u0BBE\u0B95 \u0B87\u0BB0\u0BC1\u0B95\u0BCD\u0B95 \u0BB5\u0BC7\u0BA3\u0BCD\u0B9F\u0BC1\u0BAE\u0BCD`;case"unrecognized_keys":return`\u0B85\u0B9F\u0BC8\u0BAF\u0BBE\u0BB3\u0BAE\u0BCD \u0BA4\u0BC6\u0BB0\u0BBF\u0BAF\u0BBE\u0BA4 \u0BB5\u0BBF\u0B9A\u0BC8${i.keys.length>1?"\u0B95\u0BB3\u0BCD":""}: ${pe(i.keys,", ")}`;case"invalid_key":return`${i.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BB5\u0BBF\u0B9A\u0BC8`;case"invalid_union":return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1";case"invalid_element":return`${i.origin} \u0B87\u0BB2\u0BCD \u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0BAE\u0BA4\u0BBF\u0BAA\u0BCD\u0BAA\u0BC1`;default:return"\u0BA4\u0BB5\u0BB1\u0BBE\u0BA9 \u0B89\u0BB3\u0BCD\u0BB3\u0BC0\u0B9F\u0BC1"}}};function fpe(){return{localeError:vnt()}}var _nt=()=>{let t={string:{unit:"\u0E15\u0E31\u0E27\u0E2D\u0E31\u0E01\u0E29\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},file:{unit:"\u0E44\u0E1A\u0E15\u0E4C",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},array:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"},set:{unit:"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23",verb:"\u0E04\u0E27\u0E23\u0E21\u0E35"}};function e(i){return t[i]??null}let r={regex:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19",email:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E2D\u0E35\u0E40\u0E21\u0E25",url:"URL",emoji:"\u0E2D\u0E34\u0E42\u0E21\u0E08\u0E34",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",date:"\u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E1A\u0E1A ISO",time:"\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",duration:"\u0E0A\u0E48\u0E27\u0E07\u0E40\u0E27\u0E25\u0E32\u0E41\u0E1A\u0E1A ISO",ipv4:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv4",ipv6:"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 IPv6",cidrv4:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv4",cidrv6:"\u0E0A\u0E48\u0E27\u0E07 IP \u0E41\u0E1A\u0E1A IPv6",base64:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64",base64url:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A Base64 \u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A URL",json_string:"\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E41\u0E1A\u0E1A JSON",e164:"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23\u0E28\u0E31\u0E1E\u0E17\u0E4C\u0E23\u0E30\u0E2B\u0E27\u0E48\u0E32\u0E07\u0E1B\u0E23\u0E30\u0E40\u0E17\u0E28 (E.164)",jwt:"\u0E42\u0E17\u0E40\u0E04\u0E19 JWT",template_literal:"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E17\u0E35\u0E48\u0E1B\u0E49\u0E2D\u0E19"},n={nan:"NaN",number:"\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02",array:"\u0E2D\u0E32\u0E23\u0E4C\u0E40\u0E23\u0E22\u0E4C (Array)",null:"\u0E44\u0E21\u0E48\u0E21\u0E35\u0E04\u0E48\u0E32 (null)"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 instanceof ${i.expected} \u0E41\u0E15\u0E48\u0E44\u0E14\u0E49\u0E23\u0E31\u0E1A ${a}`:`\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${o} \u0E41\u0E15\u0E48\u0E44\u0E14\u0E49\u0E23\u0E31\u0E1A ${a}`}case"invalid_value":return i.values.length===1?`\u0E04\u0E48\u0E32\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19 ${Te(i.values[0])}`:`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E04\u0E27\u0E23\u0E40\u0E1B\u0E47\u0E19\u0E2B\u0E19\u0E36\u0E48\u0E07\u0E43\u0E19 ${pe(i.values,"|")}`;case"too_big":{let o=i.inclusive?"\u0E44\u0E21\u0E48\u0E40\u0E01\u0E34\u0E19":"\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32",s=e(i.origin);return s?`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${i.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${o} ${i.maximum.toString()} ${s.unit??"\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23"}`:`\u0E40\u0E01\u0E34\u0E19\u0E01\u0E33\u0E2B\u0E19\u0E14: ${i.origin??"\u0E04\u0E48\u0E32"} \u0E04\u0E27\u0E23\u0E21\u0E35${o} ${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?"\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E19\u0E49\u0E2D\u0E22":"\u0E21\u0E32\u0E01\u0E01\u0E27\u0E48\u0E32",s=e(i.origin);return s?`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${i.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${o} ${i.minimum.toString()} ${s.unit}`:`\u0E19\u0E49\u0E2D\u0E22\u0E01\u0E27\u0E48\u0E32\u0E01\u0E33\u0E2B\u0E19\u0E14: ${i.origin} \u0E04\u0E27\u0E23\u0E21\u0E35${o} ${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E02\u0E36\u0E49\u0E19\u0E15\u0E49\u0E19\u0E14\u0E49\u0E27\u0E22 "${o.prefix}"`:o.format==="ends_with"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E25\u0E07\u0E17\u0E49\u0E32\u0E22\u0E14\u0E49\u0E27\u0E22 "${o.suffix}"`:o.format==="includes"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21\u0E15\u0E49\u0E2D\u0E07\u0E21\u0E35 "${o.includes}" \u0E2D\u0E22\u0E39\u0E48\u0E43\u0E19\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21`:o.format==="regex"?`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14 ${o.pattern}`:`\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: ${r[o.format]??i.format}`}case"not_multiple_of":return`\u0E15\u0E31\u0E27\u0E40\u0E25\u0E02\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E15\u0E49\u0E2D\u0E07\u0E40\u0E1B\u0E47\u0E19\u0E08\u0E33\u0E19\u0E27\u0E19\u0E17\u0E35\u0E48\u0E2B\u0E32\u0E23\u0E14\u0E49\u0E27\u0E22 ${i.divisor} \u0E44\u0E14\u0E49\u0E25\u0E07\u0E15\u0E31\u0E27`;case"unrecognized_keys":return`\u0E1E\u0E1A\u0E04\u0E35\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E44\u0E21\u0E48\u0E23\u0E39\u0E49\u0E08\u0E31\u0E01: ${pe(i.keys,", ")}`;case"invalid_key":return`\u0E04\u0E35\u0E22\u0E4C\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${i.origin}`;case"invalid_union":return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07: \u0E44\u0E21\u0E48\u0E15\u0E23\u0E07\u0E01\u0E31\u0E1A\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E22\u0E39\u0E40\u0E19\u0E35\u0E22\u0E19\u0E17\u0E35\u0E48\u0E01\u0E33\u0E2B\u0E19\u0E14\u0E44\u0E27\u0E49";case"invalid_element":return`\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07\u0E43\u0E19 ${i.origin}`;default:return"\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07"}}};function hpe(){return{localeError:_nt()}}var Snt=()=>{let t={string:{unit:"karakter",verb:"olmal\u0131"},file:{unit:"bayt",verb:"olmal\u0131"},array:{unit:"\xF6\u011Fe",verb:"olmal\u0131"},set:{unit:"\xF6\u011Fe",verb:"olmal\u0131"}};function e(i){return t[i]??null}let r={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO s\xFCre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral\u0131\u011F\u0131",cidrv6:"IPv6 aral\u0131\u011F\u0131",base64:"base64 ile \u015Fifrelenmi\u015F metin",base64url:"base64url ile \u015Fifrelenmi\u015F metin",json_string:"JSON dizesi",e164:"E.164 say\u0131s\u0131",jwt:"JWT",template_literal:"\u015Eablon dizesi"},n={nan:"NaN"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Ge\xE7ersiz de\u011Fer: beklenen instanceof ${i.expected}, al\u0131nan ${a}`:`Ge\xE7ersiz de\u011Fer: beklenen ${o}, al\u0131nan ${a}`}case"invalid_value":return i.values.length===1?`Ge\xE7ersiz de\u011Fer: beklenen ${Te(i.values[0])}`:`Ge\xE7ersiz se\xE7enek: a\u015Fa\u011F\u0131dakilerden biri olmal\u0131: ${pe(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\xC7ok b\xFCy\xFCk: beklenen ${i.origin??"de\u011Fer"} ${o}${i.maximum.toString()} ${s.unit??"\xF6\u011Fe"}`:`\xC7ok b\xFCy\xFCk: beklenen ${i.origin??"de\u011Fer"} ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\xC7ok k\xFC\xE7\xFCk: beklenen ${i.origin} ${o}${i.minimum.toString()} ${s.unit}`:`\xC7ok k\xFC\xE7\xFCk: beklenen ${i.origin} ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Ge\xE7ersiz metin: "${o.prefix}" ile ba\u015Flamal\u0131`:o.format==="ends_with"?`Ge\xE7ersiz metin: "${o.suffix}" ile bitmeli`:o.format==="includes"?`Ge\xE7ersiz metin: "${o.includes}" i\xE7ermeli`:o.format==="regex"?`Ge\xE7ersiz metin: ${o.pattern} desenine uymal\u0131`:`Ge\xE7ersiz ${r[o.format]??i.format}`}case"not_multiple_of":return`Ge\xE7ersiz say\u0131: ${i.divisor} ile tam b\xF6l\xFCnebilmeli`;case"unrecognized_keys":return`Tan\u0131nmayan anahtar${i.keys.length>1?"lar":""}: ${pe(i.keys,", ")}`;case"invalid_key":return`${i.origin} i\xE7inde ge\xE7ersiz anahtar`;case"invalid_union":return"Ge\xE7ersiz de\u011Fer";case"invalid_element":return`${i.origin} i\xE7inde ge\xE7ersiz de\u011Fer`;default:return"Ge\xE7ersiz de\u011Fer"}}};function gpe(){return{localeError:Snt()}}var wnt=()=>{let t={string:{unit:"\u0441\u0438\u043C\u0432\u043E\u043B\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},file:{unit:"\u0431\u0430\u0439\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},array:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"},set:{unit:"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432",verb:"\u043C\u0430\u0442\u0438\u043C\u0435"}};function e(i){return t[i]??null}let r={regex:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456",email:"\u0430\u0434\u0440\u0435\u0441\u0430 \u0435\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u043E\u0457 \u043F\u043E\u0448\u0442\u0438",url:"URL",emoji:"\u0435\u043C\u043E\u0434\u0437\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\u0434\u0430\u0442\u0430 \u0442\u0430 \u0447\u0430\u0441 ISO",date:"\u0434\u0430\u0442\u0430 ISO",time:"\u0447\u0430\u0441 ISO",duration:"\u0442\u0440\u0438\u0432\u0430\u043B\u0456\u0441\u0442\u044C ISO",ipv4:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv4",ipv6:"\u0430\u0434\u0440\u0435\u0441\u0430 IPv6",cidrv4:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv4",cidrv6:"\u0434\u0456\u0430\u043F\u0430\u0437\u043E\u043D IPv6",base64:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64",base64url:"\u0440\u044F\u0434\u043E\u043A \u0443 \u043A\u043E\u0434\u0443\u0432\u0430\u043D\u043D\u0456 base64url",json_string:"\u0440\u044F\u0434\u043E\u043A JSON",e164:"\u043D\u043E\u043C\u0435\u0440 E.164",jwt:"JWT",template_literal:"\u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"},n={nan:"NaN",number:"\u0447\u0438\u0441\u043B\u043E",array:"\u043C\u0430\u0441\u0438\u0432"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F instanceof ${i.expected}, \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043E ${a}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${o}, \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043E ${a}`}case"invalid_value":return i.values.length===1?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F ${Te(i.values[0])}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0430 \u043E\u043F\u0446\u0456\u044F: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F \u043E\u0434\u043D\u0435 \u0437 ${pe(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${i.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} ${s.verb} ${o}${i.maximum.toString()} ${s.unit??"\u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0456\u0432"}`:`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u0432\u0435\u043B\u0438\u043A\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${i.origin??"\u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F"} \u0431\u0443\u0434\u0435 ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${i.origin} ${s.verb} ${o}${i.minimum.toString()} ${s.unit}`:`\u0417\u0430\u043D\u0430\u0434\u0442\u043E \u043C\u0430\u043B\u0435: \u043E\u0447\u0456\u043A\u0443\u0454\u0442\u044C\u0441\u044F, \u0449\u043E ${i.origin} \u0431\u0443\u0434\u0435 ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043F\u043E\u0447\u0438\u043D\u0430\u0442\u0438\u0441\u044F \u0437 "${o.prefix}"`:o.format==="ends_with"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0437\u0430\u043A\u0456\u043D\u0447\u0443\u0432\u0430\u0442\u0438\u0441\u044F \u043D\u0430 "${o.suffix}"`:o.format==="includes"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u043C\u0456\u0441\u0442\u0438\u0442\u0438 "${o.includes}"`:o.format==="regex"?`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u0440\u044F\u0434\u043E\u043A: \u043F\u043E\u0432\u0438\u043D\u0435\u043D \u0432\u0456\u0434\u043F\u043E\u0432\u0456\u0434\u0430\u0442\u0438 \u0448\u0430\u0431\u043B\u043E\u043D\u0443 ${o.pattern}`:`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 ${r[o.format]??i.format}`}case"not_multiple_of":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0447\u0438\u0441\u043B\u043E: \u043F\u043E\u0432\u0438\u043D\u043D\u043E \u0431\u0443\u0442\u0438 \u043A\u0440\u0430\u0442\u043D\u0438\u043C ${i.divisor}`;case"unrecognized_keys":return`\u041D\u0435\u0440\u043E\u0437\u043F\u0456\u0437\u043D\u0430\u043D\u0438\u0439 \u043A\u043B\u044E\u0447${i.keys.length>1?"\u0456":""}: ${pe(i.keys,", ")}`;case"invalid_key":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0438\u0439 \u043A\u043B\u044E\u0447 \u0443 ${i.origin}`;case"invalid_union":return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456";case"invalid_element":return`\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F \u0443 ${i.origin}`;default:return"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0456 \u0432\u0445\u0456\u0434\u043D\u0456 \u0434\u0430\u043D\u0456"}}};function LT(){return{localeError:wnt()}}function ype(){return LT()}var xnt=()=>{let t={string:{unit:"\u062D\u0631\u0648\u0641",verb:"\u06C1\u0648\u0646\u0627"},file:{unit:"\u0628\u0627\u0626\u0679\u0633",verb:"\u06C1\u0648\u0646\u0627"},array:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"},set:{unit:"\u0622\u0626\u0679\u0645\u0632",verb:"\u06C1\u0648\u0646\u0627"}};function e(i){return t[i]??null}let r={regex:"\u0627\u0646 \u067E\u0679",email:"\u0627\u06CC \u0645\u06CC\u0644 \u0627\u06CC\u0688\u0631\u06CC\u0633",url:"\u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644",emoji:"\u0627\u06CC\u0645\u0648\u062C\u06CC",uuid:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",uuidv4:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 4",uuidv6:"\u06CC\u0648 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC \u0648\u06CC 6",nanoid:"\u0646\u06CC\u0646\u0648 \u0622\u0626\u06CC \u0688\u06CC",guid:"\u062C\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",cuid2:"\u0633\u06CC \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC 2",ulid:"\u06CC\u0648 \u0627\u06CC\u0644 \u0622\u0626\u06CC \u0688\u06CC",xid:"\u0627\u06CC\u06A9\u0633 \u0622\u0626\u06CC \u0688\u06CC",ksuid:"\u06A9\u06D2 \u0627\u06CC\u0633 \u06CC\u0648 \u0622\u0626\u06CC \u0688\u06CC",datetime:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0688\u06CC\u0679 \u0679\u0627\u0626\u0645",date:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u062A\u0627\u0631\u06CC\u062E",time:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0648\u0642\u062A",duration:"\u0622\u0626\u06CC \u0627\u06CC\u0633 \u0627\u0648 \u0645\u062F\u062A",ipv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0627\u06CC\u0688\u0631\u06CC\u0633",ipv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0627\u06CC\u0688\u0631\u06CC\u0633",cidrv4:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 4 \u0631\u06CC\u0646\u062C",cidrv6:"\u0622\u0626\u06CC \u067E\u06CC \u0648\u06CC 6 \u0631\u06CC\u0646\u062C",base64:"\u0628\u06CC\u0633 64 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",base64url:"\u0628\u06CC\u0633 64 \u06CC\u0648 \u0622\u0631 \u0627\u06CC\u0644 \u0627\u0646 \u06A9\u0648\u0688\u0688 \u0633\u0679\u0631\u0646\u06AF",json_string:"\u062C\u06D2 \u0627\u06CC\u0633 \u0627\u0648 \u0627\u06CC\u0646 \u0633\u0679\u0631\u0646\u06AF",e164:"\u0627\u06CC 164 \u0646\u0645\u0628\u0631",jwt:"\u062C\u06D2 \u0688\u0628\u0644\u06CC\u0648 \u0679\u06CC",template_literal:"\u0627\u0646 \u067E\u0679"},n={nan:"NaN",number:"\u0646\u0645\u0628\u0631",array:"\u0622\u0631\u06D2",null:"\u0646\u0644"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: instanceof ${i.expected} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627\u060C ${a} \u0645\u0648\u0635\u0648\u0644 \u06C1\u0648\u0627`:`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${o} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627\u060C ${a} \u0645\u0648\u0635\u0648\u0644 \u06C1\u0648\u0627`}case"invalid_value":return i.values.length===1?`\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679: ${Te(i.values[0])} \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`:`\u063A\u0644\u0637 \u0622\u067E\u0634\u0646: ${pe(i.values,"|")} \u0645\u06CC\u06BA \u0633\u06D2 \u0627\u06CC\u06A9 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u0628\u06C1\u062A \u0628\u0691\u0627: ${i.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u06D2 ${o}${i.maximum.toString()} ${s.unit??"\u0639\u0646\u0627\u0635\u0631"} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`:`\u0628\u06C1\u062A \u0628\u0691\u0627: ${i.origin??"\u0648\u06CC\u0644\u06CC\u0648"} \u06A9\u0627 ${o}${i.maximum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${i.origin} \u06A9\u06D2 ${o}${i.minimum.toString()} ${s.unit} \u06C1\u0648\u0646\u06D2 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u06D2`:`\u0628\u06C1\u062A \u0686\u06BE\u0648\u0679\u0627: ${i.origin} \u06A9\u0627 ${o}${i.minimum.toString()} \u06C1\u0648\u0646\u0627 \u0645\u062A\u0648\u0642\u0639 \u062A\u06BE\u0627`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${o.prefix}" \u0633\u06D2 \u0634\u0631\u0648\u0639 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:o.format==="ends_with"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${o.suffix}" \u067E\u0631 \u062E\u062A\u0645 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:o.format==="includes"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: "${o.includes}" \u0634\u0627\u0645\u0644 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:o.format==="regex"?`\u063A\u0644\u0637 \u0633\u0679\u0631\u0646\u06AF: \u067E\u06CC\u0679\u0631\u0646 ${o.pattern} \u0633\u06D2 \u0645\u06CC\u0686 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`:`\u063A\u0644\u0637 ${r[o.format]??i.format}`}case"not_multiple_of":return`\u063A\u0644\u0637 \u0646\u0645\u0628\u0631: ${i.divisor} \u06A9\u0627 \u0645\u0636\u0627\u0639\u0641 \u06C1\u0648\u0646\u0627 \u0686\u0627\u06C1\u06CC\u06D2`;case"unrecognized_keys":return`\u063A\u06CC\u0631 \u062A\u0633\u0644\u06CC\u0645 \u0634\u062F\u06C1 \u06A9\u06CC${i.keys.length>1?"\u0632":""}: ${pe(i.keys,"\u060C ")}`;case"invalid_key":return`${i.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u06A9\u06CC`;case"invalid_union":return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679";case"invalid_element":return`${i.origin} \u0645\u06CC\u06BA \u063A\u0644\u0637 \u0648\u06CC\u0644\u06CC\u0648`;default:return"\u063A\u0644\u0637 \u0627\u0646 \u067E\u0679"}}};function bpe(){return{localeError:xnt()}}var Ant=()=>{let t={string:{unit:"belgi",verb:"bo\u2018lishi kerak"},file:{unit:"bayt",verb:"bo\u2018lishi kerak"},array:{unit:"element",verb:"bo\u2018lishi kerak"},set:{unit:"element",verb:"bo\u2018lishi kerak"}};function e(i){return t[i]??null}let r={regex:"kirish",email:"elektron pochta manzili",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO sana va vaqti",date:"ISO sana",time:"ISO vaqt",duration:"ISO davomiylik",ipv4:"IPv4 manzil",ipv6:"IPv6 manzil",mac:"MAC manzil",cidrv4:"IPv4 diapazon",cidrv6:"IPv6 diapazon",base64:"base64 kodlangan satr",base64url:"base64url kodlangan satr",json_string:"JSON satr",e164:"E.164 raqam",jwt:"JWT",template_literal:"kirish"},n={nan:"NaN",number:"raqam",array:"massiv"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`Noto\u2018g\u2018ri kirish: kutilgan instanceof ${i.expected}, qabul qilingan ${a}`:`Noto\u2018g\u2018ri kirish: kutilgan ${o}, qabul qilingan ${a}`}case"invalid_value":return i.values.length===1?`Noto\u2018g\u2018ri kirish: kutilgan ${Te(i.values[0])}`:`Noto\u2018g\u2018ri variant: quyidagilardan biri kutilgan ${pe(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Juda katta: kutilgan ${i.origin??"qiymat"} ${o}${i.maximum.toString()} ${s.unit} ${s.verb}`:`Juda katta: kutilgan ${i.origin??"qiymat"} ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Juda kichik: kutilgan ${i.origin} ${o}${i.minimum.toString()} ${s.unit} ${s.verb}`:`Juda kichik: kutilgan ${i.origin} ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Noto\u2018g\u2018ri satr: "${o.prefix}" bilan boshlanishi kerak`:o.format==="ends_with"?`Noto\u2018g\u2018ri satr: "${o.suffix}" bilan tugashi kerak`:o.format==="includes"?`Noto\u2018g\u2018ri satr: "${o.includes}" ni o\u2018z ichiga olishi kerak`:o.format==="regex"?`Noto\u2018g\u2018ri satr: ${o.pattern} shabloniga mos kelishi kerak`:`Noto\u2018g\u2018ri ${r[o.format]??i.format}`}case"not_multiple_of":return`Noto\u2018g\u2018ri raqam: ${i.divisor} ning karralisi bo\u2018lishi kerak`;case"unrecognized_keys":return`Noma\u2019lum kalit${i.keys.length>1?"lar":""}: ${pe(i.keys,", ")}`;case"invalid_key":return`${i.origin} dagi kalit noto\u2018g\u2018ri`;case"invalid_union":return"Noto\u2018g\u2018ri kirish";case"invalid_element":return`${i.origin} da noto\u2018g\u2018ri qiymat`;default:return"Noto\u2018g\u2018ri kirish"}}};function vpe(){return{localeError:Ant()}}var Ent=()=>{let t={string:{unit:"k\xFD t\u1EF1",verb:"c\xF3"},file:{unit:"byte",verb:"c\xF3"},array:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"},set:{unit:"ph\u1EA7n t\u1EED",verb:"c\xF3"}};function e(i){return t[i]??null}let r={regex:"\u0111\u1EA7u v\xE0o",email:"\u0111\u1ECBa ch\u1EC9 email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ng\xE0y gi\u1EDD ISO",date:"ng\xE0y ISO",time:"gi\u1EDD ISO",duration:"kho\u1EA3ng th\u1EDDi gian ISO",ipv4:"\u0111\u1ECBa ch\u1EC9 IPv4",ipv6:"\u0111\u1ECBa ch\u1EC9 IPv6",cidrv4:"d\u1EA3i IPv4",cidrv6:"d\u1EA3i IPv6",base64:"chu\u1ED7i m\xE3 h\xF3a base64",base64url:"chu\u1ED7i m\xE3 h\xF3a base64url",json_string:"chu\u1ED7i JSON",e164:"s\u1ED1 E.164",jwt:"JWT",template_literal:"\u0111\u1EA7u v\xE0o"},n={nan:"NaN",number:"s\u1ED1",array:"m\u1EA3ng"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i instanceof ${i.expected}, nh\u1EADn \u0111\u01B0\u1EE3c ${a}`:`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${o}, nh\u1EADn \u0111\u01B0\u1EE3c ${a}`}case"invalid_value":return i.values.length===1?`\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i ${Te(i.values[0])}`:`T\xF9y ch\u1ECDn kh\xF4ng h\u1EE3p l\u1EC7: mong \u0111\u1EE3i m\u1ED9t trong c\xE1c gi\xE1 tr\u1ECB ${pe(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${i.origin??"gi\xE1 tr\u1ECB"} ${s.verb} ${o}${i.maximum.toString()} ${s.unit??"ph\u1EA7n t\u1EED"}`:`Qu\xE1 l\u1EDBn: mong \u0111\u1EE3i ${i.origin??"gi\xE1 tr\u1ECB"} ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${i.origin} ${s.verb} ${o}${i.minimum.toString()} ${s.unit}`:`Qu\xE1 nh\u1ECF: mong \u0111\u1EE3i ${i.origin} ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i b\u1EAFt \u0111\u1EA7u b\u1EB1ng "${o.prefix}"`:o.format==="ends_with"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i k\u1EBFt th\xFAc b\u1EB1ng "${o.suffix}"`:o.format==="includes"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i bao g\u1ED3m "${o.includes}"`:o.format==="regex"?`Chu\u1ED7i kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i kh\u1EDBp v\u1EDBi m\u1EABu ${o.pattern}`:`${r[o.format]??i.format} kh\xF4ng h\u1EE3p l\u1EC7`}case"not_multiple_of":return`S\u1ED1 kh\xF4ng h\u1EE3p l\u1EC7: ph\u1EA3i l\xE0 b\u1ED9i s\u1ED1 c\u1EE7a ${i.divisor}`;case"unrecognized_keys":return`Kh\xF3a kh\xF4ng \u0111\u01B0\u1EE3c nh\u1EADn d\u1EA1ng: ${pe(i.keys,", ")}`;case"invalid_key":return`Kh\xF3a kh\xF4ng h\u1EE3p l\u1EC7 trong ${i.origin}`;case"invalid_union":return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7";case"invalid_element":return`Gi\xE1 tr\u1ECB kh\xF4ng h\u1EE3p l\u1EC7 trong ${i.origin}`;default:return"\u0110\u1EA7u v\xE0o kh\xF4ng h\u1EE3p l\u1EC7"}}};function _pe(){return{localeError:Ent()}}var Rnt=()=>{let t={string:{unit:"\u5B57\u7B26",verb:"\u5305\u542B"},file:{unit:"\u5B57\u8282",verb:"\u5305\u542B"},array:{unit:"\u9879",verb:"\u5305\u542B"},set:{unit:"\u9879",verb:"\u5305\u542B"}};function e(i){return t[i]??null}let r={regex:"\u8F93\u5165",email:"\u7535\u5B50\u90AE\u4EF6",url:"URL",emoji:"\u8868\u60C5\u7B26\u53F7",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\u65E5\u671F\u65F6\u95F4",date:"ISO\u65E5\u671F",time:"ISO\u65F6\u95F4",duration:"ISO\u65F6\u957F",ipv4:"IPv4\u5730\u5740",ipv6:"IPv6\u5730\u5740",cidrv4:"IPv4\u7F51\u6BB5",cidrv6:"IPv6\u7F51\u6BB5",base64:"base64\u7F16\u7801\u5B57\u7B26\u4E32",base64url:"base64url\u7F16\u7801\u5B57\u7B26\u4E32",json_string:"JSON\u5B57\u7B26\u4E32",e164:"E.164\u53F7\u7801",jwt:"JWT",template_literal:"\u8F93\u5165"},n={nan:"NaN",number:"\u6570\u5B57",array:"\u6570\u7EC4",null:"\u7A7A\u503C(null)"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B instanceof ${i.expected}\uFF0C\u5B9E\u9645\u63A5\u6536 ${a}`:`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${o}\uFF0C\u5B9E\u9645\u63A5\u6536 ${a}`}case"invalid_value":return i.values.length===1?`\u65E0\u6548\u8F93\u5165\uFF1A\u671F\u671B ${Te(i.values[0])}`:`\u65E0\u6548\u9009\u9879\uFF1A\u671F\u671B\u4EE5\u4E0B\u4E4B\u4E00 ${pe(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${i.origin??"\u503C"} ${o}${i.maximum.toString()} ${s.unit??"\u4E2A\u5143\u7D20"}`:`\u6570\u503C\u8FC7\u5927\uFF1A\u671F\u671B ${i.origin??"\u503C"} ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${i.origin} ${o}${i.minimum.toString()} ${s.unit}`:`\u6570\u503C\u8FC7\u5C0F\uFF1A\u671F\u671B ${i.origin} ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${o.prefix}" \u5F00\u5934`:o.format==="ends_with"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u4EE5 "${o.suffix}" \u7ED3\u5C3E`:o.format==="includes"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u5305\u542B "${o.includes}"`:o.format==="regex"?`\u65E0\u6548\u5B57\u7B26\u4E32\uFF1A\u5FC5\u987B\u6EE1\u8DB3\u6B63\u5219\u8868\u8FBE\u5F0F ${o.pattern}`:`\u65E0\u6548${r[o.format]??i.format}`}case"not_multiple_of":return`\u65E0\u6548\u6570\u5B57\uFF1A\u5FC5\u987B\u662F ${i.divisor} \u7684\u500D\u6570`;case"unrecognized_keys":return`\u51FA\u73B0\u672A\u77E5\u7684\u952E(key): ${pe(i.keys,", ")}`;case"invalid_key":return`${i.origin} \u4E2D\u7684\u952E(key)\u65E0\u6548`;case"invalid_union":return"\u65E0\u6548\u8F93\u5165";case"invalid_element":return`${i.origin} \u4E2D\u5305\u542B\u65E0\u6548\u503C(value)`;default:return"\u65E0\u6548\u8F93\u5165"}}};function Spe(){return{localeError:Rnt()}}var Tnt=()=>{let t={string:{unit:"\u5B57\u5143",verb:"\u64C1\u6709"},file:{unit:"\u4F4D\u5143\u7D44",verb:"\u64C1\u6709"},array:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"},set:{unit:"\u9805\u76EE",verb:"\u64C1\u6709"}};function e(i){return t[i]??null}let r={regex:"\u8F38\u5165",email:"\u90F5\u4EF6\u5730\u5740",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \u65E5\u671F\u6642\u9593",date:"ISO \u65E5\u671F",time:"ISO \u6642\u9593",duration:"ISO \u671F\u9593",ipv4:"IPv4 \u4F4D\u5740",ipv6:"IPv6 \u4F4D\u5740",cidrv4:"IPv4 \u7BC4\u570D",cidrv6:"IPv6 \u7BC4\u570D",base64:"base64 \u7DE8\u78BC\u5B57\u4E32",base64url:"base64url \u7DE8\u78BC\u5B57\u4E32",json_string:"JSON \u5B57\u4E32",e164:"E.164 \u6578\u503C",jwt:"JWT",template_literal:"\u8F38\u5165"},n={nan:"NaN"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA instanceof ${i.expected}\uFF0C\u4F46\u6536\u5230 ${a}`:`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${o}\uFF0C\u4F46\u6536\u5230 ${a}`}case"invalid_value":return i.values.length===1?`\u7121\u6548\u7684\u8F38\u5165\u503C\uFF1A\u9810\u671F\u70BA ${Te(i.values[0])}`:`\u7121\u6548\u7684\u9078\u9805\uFF1A\u9810\u671F\u70BA\u4EE5\u4E0B\u5176\u4E2D\u4E4B\u4E00 ${pe(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${i.origin??"\u503C"} \u61C9\u70BA ${o}${i.maximum.toString()} ${s.unit??"\u500B\u5143\u7D20"}`:`\u6578\u503C\u904E\u5927\uFF1A\u9810\u671F ${i.origin??"\u503C"} \u61C9\u70BA ${o}${i.maximum.toString()}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${i.origin} \u61C9\u70BA ${o}${i.minimum.toString()} ${s.unit}`:`\u6578\u503C\u904E\u5C0F\uFF1A\u9810\u671F ${i.origin} \u61C9\u70BA ${o}${i.minimum.toString()}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${o.prefix}" \u958B\u982D`:o.format==="ends_with"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u4EE5 "${o.suffix}" \u7D50\u5C3E`:o.format==="includes"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u5305\u542B "${o.includes}"`:o.format==="regex"?`\u7121\u6548\u7684\u5B57\u4E32\uFF1A\u5FC5\u9808\u7B26\u5408\u683C\u5F0F ${o.pattern}`:`\u7121\u6548\u7684 ${r[o.format]??i.format}`}case"not_multiple_of":return`\u7121\u6548\u7684\u6578\u5B57\uFF1A\u5FC5\u9808\u70BA ${i.divisor} \u7684\u500D\u6578`;case"unrecognized_keys":return`\u7121\u6CD5\u8B58\u5225\u7684\u9375\u503C${i.keys.length>1?"\u5011":""}\uFF1A${pe(i.keys,"\u3001")}`;case"invalid_key":return`${i.origin} \u4E2D\u6709\u7121\u6548\u7684\u9375\u503C`;case"invalid_union":return"\u7121\u6548\u7684\u8F38\u5165\u503C";case"invalid_element":return`${i.origin} \u4E2D\u6709\u7121\u6548\u7684\u503C`;default:return"\u7121\u6548\u7684\u8F38\u5165\u503C"}}};function wpe(){return{localeError:Tnt()}}var Int=()=>{let t={string:{unit:"\xE0mi",verb:"n\xED"},file:{unit:"bytes",verb:"n\xED"},array:{unit:"nkan",verb:"n\xED"},set:{unit:"nkan",verb:"n\xED"}};function e(i){return t[i]??null}let r={regex:"\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9",email:"\xE0d\xEDr\u1EB9\u0301s\xEC \xECm\u1EB9\u0301l\xEC",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\xE0k\xF3k\xF2 ISO",date:"\u1ECDj\u1ECD\u0301 ISO",time:"\xE0k\xF3k\xF2 ISO",duration:"\xE0k\xF3k\xF2 t\xF3 p\xE9 ISO",ipv4:"\xE0d\xEDr\u1EB9\u0301s\xEC IPv4",ipv6:"\xE0d\xEDr\u1EB9\u0301s\xEC IPv6",cidrv4:"\xE0gb\xE8gb\xE8 IPv4",cidrv6:"\xE0gb\xE8gb\xE8 IPv6",base64:"\u1ECD\u0300r\u1ECD\u0300 t\xED a k\u1ECD\u0301 n\xED base64",base64url:"\u1ECD\u0300r\u1ECD\u0300 base64url",json_string:"\u1ECD\u0300r\u1ECD\u0300 JSON",e164:"n\u1ECD\u0301mb\xE0 E.164",jwt:"JWT",template_literal:"\u1EB9\u0300r\u1ECD \xECb\xE1w\u1ECDl\xE9"},n={nan:"NaN",number:"n\u1ECD\u0301mb\xE0",array:"akop\u1ECD"};return i=>{switch(i.code){case"invalid_type":{let o=n[i.expected]??i.expected,s=Ce(i.input),a=n[s]??s;return/^[A-Z]/.test(i.expected)?`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi instanceof ${i.expected}, \xE0m\u1ECD\u0300 a r\xED ${a}`:`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${o}, \xE0m\u1ECD\u0300 a r\xED ${a}`}case"invalid_value":return i.values.length===1?`\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e: a n\xED l\xE1ti fi ${Te(i.values[0])}`:`\xC0\u1E63\xE0y\xE0n a\u1E63\xEC\u1E63e: yan \u1ECD\u0300kan l\xE1ra ${pe(i.values,"|")}`;case"too_big":{let o=i.inclusive?"<=":"<",s=e(i.origin);return s?`T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${i.origin??"iye"} ${s.verb} ${o}${i.maximum} ${s.unit}`:`T\xF3 p\u1ECD\u0300 j\xF9: a n\xED l\xE1ti j\u1EB9\u0301 ${o}${i.maximum}`}case"too_small":{let o=i.inclusive?">=":">",s=e(i.origin);return s?`K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 p\xE9 ${i.origin} ${s.verb} ${o}${i.minimum} ${s.unit}`:`K\xE9r\xE9 ju: a n\xED l\xE1ti j\u1EB9\u0301 ${o}${i.minimum}`}case"invalid_format":{let o=i;return o.format==="starts_with"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\u1EB9\u0300r\u1EB9\u0300 p\u1EB9\u0300l\xFA "${o.prefix}"`:o.format==="ends_with"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 par\xED p\u1EB9\u0300l\xFA "${o.suffix}"`:o.format==="includes"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 n\xED "${o.includes}"`:o.format==="regex"?`\u1ECC\u0300r\u1ECD\u0300 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 b\xE1 \xE0p\u1EB9\u1EB9r\u1EB9 mu ${o.pattern}`:`A\u1E63\xEC\u1E63e: ${r[o.format]??i.format}`}case"not_multiple_of":return`N\u1ECD\u0301mb\xE0 a\u1E63\xEC\u1E63e: gb\u1ECD\u0301d\u1ECD\u0300 j\u1EB9\u0301 \xE8y\xE0 p\xEDp\xEDn ti ${i.divisor}`;case"unrecognized_keys":return`B\u1ECDt\xECn\xEC \xE0\xECm\u1ECD\u0300: ${pe(i.keys,", ")}`;case"invalid_key":return`B\u1ECDt\xECn\xEC a\u1E63\xEC\u1E63e n\xEDn\xFA ${i.origin}`;case"invalid_union":return"\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e";case"invalid_element":return`Iye a\u1E63\xEC\u1E63e n\xEDn\xFA ${i.origin}`;default:return"\xCCb\xE1w\u1ECDl\xE9 a\u1E63\xEC\u1E63e"}}};function xpe(){return{localeError:Int()}}var Ape,TU=Symbol("ZodOutput"),IU=Symbol("ZodInput"),BT=class{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...r){let n=r[0];return this._map.set(e,n),n&&typeof n=="object"&&"id"in n&&this._idmap.set(n.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){let r=this._map.get(e);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(e),this}get(e){let r=e._zod.parent;if(r){let n={...this.get(r)??{}};delete n.id;let i={...n,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}};function UT(){return new BT}(Ape=globalThis).__zod_globalRegistry??(Ape.__zod_globalRegistry=UT());var lo=globalThis.__zod_globalRegistry;function CU(t,e){return new t({type:"string",...Me(e)})}function OU(t,e){return new t({type:"string",coerce:!0,...Me(e)})}function FT(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Me(e)})}function Lw(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Me(e)})}function zT(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Me(e)})}function VT(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Me(e)})}function jT(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Me(e)})}function qT(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Me(e)})}function Bw(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Me(e)})}function HT(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Me(e)})}function WT(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Me(e)})}function GT(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Me(e)})}function KT(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Me(e)})}function YT(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Me(e)})}function JT(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Me(e)})}function QT(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Me(e)})}function ZT(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Me(e)})}function XT(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Me(e)})}function NU(t,e){return new t({type:"string",format:"mac",check:"string_format",abort:!1,...Me(e)})}function eI(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Me(e)})}function tI(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Me(e)})}function rI(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Me(e)})}function nI(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Me(e)})}function iI(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Me(e)})}function oI(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Me(e)})}var PU={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function kU(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Me(e)})}function DU(t,e){return new t({type:"string",format:"date",check:"string_format",...Me(e)})}function MU(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Me(e)})}function $U(t,e){return new t({type:"string",format:"duration",check:"string_format",...Me(e)})}function LU(t,e){return new t({type:"number",checks:[],...Me(e)})}function BU(t,e){return new t({type:"number",coerce:!0,checks:[],...Me(e)})}function UU(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Me(e)})}function FU(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"float32",...Me(e)})}function zU(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"float64",...Me(e)})}function VU(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"int32",...Me(e)})}function jU(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"uint32",...Me(e)})}function qU(t,e){return new t({type:"boolean",...Me(e)})}function HU(t,e){return new t({type:"boolean",coerce:!0,...Me(e)})}function WU(t,e){return new t({type:"bigint",...Me(e)})}function GU(t,e){return new t({type:"bigint",coerce:!0,...Me(e)})}function KU(t,e){return new t({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...Me(e)})}function YU(t,e){return new t({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...Me(e)})}function JU(t,e){return new t({type:"symbol",...Me(e)})}function QU(t,e){return new t({type:"undefined",...Me(e)})}function ZU(t,e){return new t({type:"null",...Me(e)})}function XU(t){return new t({type:"any"})}function eF(t){return new t({type:"unknown"})}function tF(t,e){return new t({type:"never",...Me(e)})}function rF(t,e){return new t({type:"void",...Me(e)})}function nF(t,e){return new t({type:"date",...Me(e)})}function iF(t,e){return new t({type:"date",coerce:!0,...Me(e)})}function oF(t,e){return new t({type:"nan",...Me(e)})}function wu(t,e){return new AT({check:"less_than",...Me(e),value:t,inclusive:!1})}function Ra(t,e){return new AT({check:"less_than",...Me(e),value:t,inclusive:!0})}function xu(t,e){return new ET({check:"greater_than",...Me(e),value:t,inclusive:!1})}function cs(t,e){return new ET({check:"greater_than",...Me(e),value:t,inclusive:!0})}function sI(t){return xu(0,t)}function aI(t){return wu(0,t)}function cI(t){return Ra(0,t)}function lI(t){return cs(0,t)}function Qm(t,e){return new ZL({check:"multiple_of",...Me(e),value:t})}function Zm(t,e){return new tB({check:"max_size",...Me(e),maximum:t})}function Au(t,e){return new rB({check:"min_size",...Me(e),minimum:t})}function Dg(t,e){return new nB({check:"size_equals",...Me(e),size:t})}function Mg(t,e){return new iB({check:"max_length",...Me(e),maximum:t})}function Vd(t,e){return new oB({check:"min_length",...Me(e),minimum:t})}function $g(t,e){return new sB({check:"length_equals",...Me(e),length:t})}function bb(t,e){return new aB({check:"string_format",format:"regex",...Me(e),pattern:t})}function vb(t){return new cB({check:"string_format",format:"lowercase",...Me(t)})}function _b(t){return new lB({check:"string_format",format:"uppercase",...Me(t)})}function Sb(t,e){return new uB({check:"string_format",format:"includes",...Me(e),includes:t})}function wb(t,e){return new dB({check:"string_format",format:"starts_with",...Me(e),prefix:t})}function xb(t,e){return new pB({check:"string_format",format:"ends_with",...Me(e),suffix:t})}function uI(t,e,r){return new mB({check:"property",property:t,schema:e,...Me(r)})}function Ab(t,e){return new fB({check:"mime_type",mime:t,...Me(e)})}function kl(t){return new hB({check:"overwrite",tx:t})}function Eb(t){return kl(e=>e.normalize(t))}function Rb(){return kl(t=>t.trim())}function Tb(){return kl(t=>t.toLowerCase())}function Ib(){return kl(t=>t.toUpperCase())}function Cb(){return kl(t=>mL(t))}function sF(t,e,r){return new t({type:"array",element:e,...Me(r)})}function Ont(t,e,r){return new t({type:"union",options:e,...Me(r)})}function Nnt(t,e,r){return new t({type:"union",options:e,inclusive:!1,...Me(r)})}function Pnt(t,e,r,n){return new t({type:"union",options:r,discriminator:e,...Me(n)})}function knt(t,e,r){return new t({type:"intersection",left:e,right:r})}function Dnt(t,e,r,n){let i=r instanceof Bt,o=i?n:r,s=i?r:null;return new t({type:"tuple",items:e,rest:s,...Me(o)})}function Mnt(t,e,r,n){return new t({type:"record",keyType:e,valueType:r,...Me(n)})}function $nt(t,e,r,n){return new t({type:"map",keyType:e,valueType:r,...Me(n)})}function Lnt(t,e,r){return new t({type:"set",valueType:e,...Me(r)})}function Bnt(t,e,r){let n=Array.isArray(e)?Object.fromEntries(e.map(i=>[i,i])):e;return new t({type:"enum",entries:n,...Me(r)})}function Unt(t,e,r){return new t({type:"enum",entries:e,...Me(r)})}function Fnt(t,e,r){return new t({type:"literal",values:Array.isArray(e)?e:[e],...Me(r)})}function aF(t,e){return new t({type:"file",...Me(e)})}function znt(t,e){return new t({type:"transform",transform:e})}function Vnt(t,e){return new t({type:"optional",innerType:e})}function jnt(t,e){return new t({type:"nullable",innerType:e})}function qnt(t,e,r){return new t({type:"default",innerType:e,get defaultValue(){return typeof r=="function"?r():hL(r)}})}function Hnt(t,e,r){return new t({type:"nonoptional",innerType:e,...Me(r)})}function Wnt(t,e){return new t({type:"success",innerType:e})}function Gnt(t,e,r){return new t({type:"catch",innerType:e,catchValue:typeof r=="function"?r:()=>r})}function Knt(t,e,r){return new t({type:"pipe",in:e,out:r})}function Ynt(t,e){return new t({type:"readonly",innerType:e})}function Jnt(t,e,r){return new t({type:"template_literal",parts:e,...Me(r)})}function Qnt(t,e){return new t({type:"lazy",getter:e})}function Znt(t,e){return new t({type:"promise",innerType:e})}function cF(t,e,r){let n=Me(r);return n.abort??(n.abort=!0),new t({type:"custom",check:"custom",fn:e,...n})}function lF(t,e,r){return new t({type:"custom",check:"custom",fn:e,...Me(r)})}function uF(t){let e=Epe(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(db(n,r.value,e._zod.def));else{let i=n;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),r.issues.push(db(i))}},t(r.value,r)));return e}function Epe(t,e){let r=new Zr({check:"custom",...Me(e)});return r._zod.check=t,r}function dF(t){let e=new Zr({check:"describe"});return e._zod.onattach=[r=>{let n=lo.get(r)??{};lo.add(r,{...n,description:t})}],e._zod.check=()=>{},e}function pF(t){let e=new Zr({check:"meta"});return e._zod.onattach=[r=>{let n=lo.get(r)??{};lo.add(r,{...n,...t})}],e._zod.check=()=>{},e}function mF(t,e){let r=Me(e),n=r.truthy??["true","1","yes","on","y","enabled"],i=r.falsy??["false","0","no","off","n","disabled"];r.case!=="sensitive"&&(n=n.map(m=>typeof m=="string"?m.toLowerCase():m),i=i.map(m=>typeof m=="string"?m.toLowerCase():m));let o=new Set(n),s=new Set(i),a=t.Codec??Dw,c=t.Boolean??Pw,l=t.String??kg,u=new l({type:"string",error:r.error}),d=new c({type:"boolean",error:r.error}),p=new a({type:"pipe",in:u,out:d,transform:((m,h)=>{let f=m;return r.case!=="sensitive"&&(f=f.toLowerCase()),o.has(f)?!0:s.has(f)?!1:(h.issues.push({code:"invalid_value",expected:"stringbool",values:[...o,...s],input:h.value,inst:p,continue:!1}),{})}),reverseTransform:((m,h)=>m===!0?n[0]||"true":i[0]||"false"),error:r.error});return p}function Ob(t,e,r,n={}){let i=Me(n),o={...Me(n),check:"string_format",type:"string",format:e,fn:typeof r=="function"?r:a=>r.test(a),...i};return r instanceof RegExp&&(o.pattern=r),new t(o)}function Xm(t){let e=t?.target??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??lo,target:e,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function Cr(t,e,r={path:[],schemaPath:[]}){var n;let i=t._zod.def,o=e.seen.get(t);if(o)return o.count++,r.schemaPath.includes(t)&&(o.cycle=r.path),o.schema;let s={schema:{},count:1,cycle:void 0,path:r.path};e.seen.set(t,s);let a=t._zod.toJSONSchema?.();if(a)s.schema=a;else{let u={...r,schemaPath:[...r.schemaPath,t],path:r.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,s.schema,u);else{let p=s.schema,m=e.processors[i.type];if(!m)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);m(t,e,p,u)}let d=t._zod.parent;d&&(s.ref||(s.ref=d),Cr(d,e,u),e.seen.get(d).isParent=!0)}let c=e.metadataRegistry.get(t);return c&&Object.assign(s.schema,c),e.io==="input"&&ls(t)&&(delete s.schema.examples,delete s.schema.default),e.io==="input"&&s.schema._prefault&&((n=s.schema).default??(n.default=s.schema._prefault)),delete s.schema._prefault,e.seen.get(t).schema}function ef(t,e){let r=t.seen.get(e);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");let n=new Map;for(let s of t.seen.entries()){let a=t.metadataRegistry.get(s[0])?.id;if(a){let c=n.get(a);if(c&&c!==s[0])throw new Error(`Duplicate schema id "${a}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);n.set(a,s[0])}}let i=s=>{let a=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){let d=t.external.registry.get(s[0])?.id,p=t.external.uri??(h=>h);if(d)return{ref:p(d)};let m=s[1].defId??s[1].schema.id??`schema${t.counter++}`;return s[1].defId=m,{defId:m,ref:`${p("__shared")}#/${a}/${m}`}}if(s[1]===r)return{ref:"#"};let l=`#/${a}/`,u=s[1].schema.id??`__schema${t.counter++}`;return{defId:u,ref:l+u}},o=s=>{if(s[1].schema.$ref)return;let a=s[1],{ref:c,defId:l}=i(s);a.def={...a.schema},l&&(a.defId=l);let u=a.schema;for(let d in u)delete u[d];u.$ref=c};if(t.cycles==="throw")for(let s of t.seen.entries()){let a=s[1];if(a.cycle)throw new Error(`Cycle detected: #/${a.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let s of t.seen.entries()){let a=s[1];if(e===s[0]){o(s);continue}if(t.external){let l=t.external.registry.get(s[0])?.id;if(e!==s[0]&&l){o(s);continue}}if(t.metadataRegistry.get(s[0])?.id){o(s);continue}if(a.cycle){o(s);continue}if(a.count>1&&t.reused==="ref"){o(s);continue}}}function tf(t,e){let r=t.seen.get(e);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");let n=s=>{let a=t.seen.get(s);if(a.ref===null)return;let c=a.def??a.schema,l={...c},u=a.ref;if(a.ref=null,u){n(u);let p=t.seen.get(u),m=p.schema;if(m.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(c.allOf=c.allOf??[],c.allOf.push(m)):Object.assign(c,m),Object.assign(c,l),s._zod.parent===u)for(let f in c)f==="$ref"||f==="allOf"||f in l||delete c[f];if(m.$ref&&p.def)for(let f in c)f==="$ref"||f==="allOf"||f in p.def&&JSON.stringify(c[f])===JSON.stringify(p.def[f])&&delete c[f]}let d=s._zod.parent;if(d&&d!==u){n(d);let p=t.seen.get(d);if(p?.schema.$ref&&(c.$ref=p.schema.$ref,p.def))for(let m in c)m==="$ref"||m==="allOf"||m in p.def&&JSON.stringify(c[m])===JSON.stringify(p.def[m])&&delete c[m]}t.override({zodSchema:s,jsonSchema:c,path:a.path??[]})};for(let s of[...t.seen.entries()].reverse())n(s[0]);let i={};if(t.target==="draft-2020-12"?i.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?i.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?i.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){let s=t.external.registry.get(e)?.id;if(!s)throw new Error("Schema is missing an `id` property");i.$id=t.external.uri(s)}Object.assign(i,r.def??r.schema);let o=t.external?.defs??{};for(let s of t.seen.entries()){let a=s[1];a.def&&a.defId&&(o[a.defId]=a.def)}t.external||Object.keys(o).length>0&&(t.target==="draft-2020-12"?i.$defs=o:i.definitions=o);try{let s=JSON.parse(JSON.stringify(i));return Object.defineProperty(s,"~standard",{value:{...e["~standard"],jsonSchema:{input:Nb(e,"input",t.processors),output:Nb(e,"output",t.processors)}},enumerable:!1,writable:!1}),s}catch{throw new Error("Error converting schema to JSON.")}}function ls(t,e){let r=e??{seen:new Set};if(r.seen.has(t))return!1;r.seen.add(t);let n=t._zod.def;if(n.type==="transform")return!0;if(n.type==="array")return ls(n.element,r);if(n.type==="set")return ls(n.valueType,r);if(n.type==="lazy")return ls(n.getter(),r);if(n.type==="promise"||n.type==="optional"||n.type==="nonoptional"||n.type==="nullable"||n.type==="readonly"||n.type==="default"||n.type==="prefault")return ls(n.innerType,r);if(n.type==="intersection")return ls(n.left,r)||ls(n.right,r);if(n.type==="record"||n.type==="map")return ls(n.keyType,r)||ls(n.valueType,r);if(n.type==="pipe")return ls(n.in,r)||ls(n.out,r);if(n.type==="object"){for(let i in n.shape)if(ls(n.shape[i],r))return!0;return!1}if(n.type==="union"){for(let i of n.options)if(ls(i,r))return!0;return!1}if(n.type==="tuple"){for(let i of n.items)if(ls(i,r))return!0;return!!(n.rest&&ls(n.rest,r))}return!1}var fF=(t,e={})=>r=>{let n=Xm({...r,processors:e});return Cr(t,n),ef(n,t),tf(n,t)},Nb=(t,e,r={})=>n=>{let{libraryOptions:i,target:o}=n??{},s=Xm({...i??{},target:o,io:e,processors:r});return Cr(t,s),ef(s,t),tf(s,t)};var Xnt={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},hF=(t,e,r,n)=>{let i=r;i.type="string";let{minimum:o,maximum:s,format:a,patterns:c,contentEncoding:l}=t._zod.bag;if(typeof o=="number"&&(i.minLength=o),typeof s=="number"&&(i.maxLength=s),a&&(i.format=Xnt[a]??a,i.format===""&&delete i.format,a==="time"&&delete i.format),l&&(i.contentEncoding=l),c&&c.size>0){let u=[...c];u.length===1?i.pattern=u[0].source:u.length>1&&(i.allOf=[...u.map(d=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:d.source}))])}},gF=(t,e,r,n)=>{let i=r,{minimum:o,maximum:s,format:a,multipleOf:c,exclusiveMaximum:l,exclusiveMinimum:u}=t._zod.bag;typeof a=="string"&&a.includes("int")?i.type="integer":i.type="number",typeof u=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(i.minimum=u,i.exclusiveMinimum=!0):i.exclusiveMinimum=u),typeof o=="number"&&(i.minimum=o,typeof u=="number"&&e.target!=="draft-04"&&(u>=o?delete i.minimum:delete i.exclusiveMinimum)),typeof l=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(i.maximum=l,i.exclusiveMaximum=!0):i.exclusiveMaximum=l),typeof s=="number"&&(i.maximum=s,typeof l=="number"&&e.target!=="draft-04"&&(l<=s?delete i.maximum:delete i.exclusiveMaximum)),typeof c=="number"&&(i.multipleOf=c)},yF=(t,e,r,n)=>{r.type="boolean"},bF=(t,e,r,n)=>{if(e.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema")},vF=(t,e,r,n)=>{if(e.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema")},_F=(t,e,r,n)=>{e.target==="openapi-3.0"?(r.type="string",r.nullable=!0,r.enum=[null]):r.type="null"},SF=(t,e,r,n)=>{if(e.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema")},wF=(t,e,r,n)=>{if(e.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema")},xF=(t,e,r,n)=>{r.not={}},AF=(t,e,r,n)=>{},EF=(t,e,r,n)=>{},RF=(t,e,r,n)=>{if(e.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema")},TF=(t,e,r,n)=>{let i=t._zod.def,o=Sw(i.entries);o.every(s=>typeof s=="number")&&(r.type="number"),o.every(s=>typeof s=="string")&&(r.type="string"),r.enum=o},IF=(t,e,r,n)=>{let i=t._zod.def,o=[];for(let s of i.values)if(s===void 0){if(e.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof s=="bigint"){if(e.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");o.push(Number(s))}else o.push(s);if(o.length!==0)if(o.length===1){let s=o[0];r.type=s===null?"null":typeof s,e.target==="draft-04"||e.target==="openapi-3.0"?r.enum=[s]:r.const=s}else o.every(s=>typeof s=="number")&&(r.type="number"),o.every(s=>typeof s=="string")&&(r.type="string"),o.every(s=>typeof s=="boolean")&&(r.type="boolean"),o.every(s=>s===null)&&(r.type="null"),r.enum=o},CF=(t,e,r,n)=>{if(e.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema")},OF=(t,e,r,n)=>{let i=r,o=t._zod.pattern;if(!o)throw new Error("Pattern not found in template literal");i.type="string",i.pattern=o.source},NF=(t,e,r,n)=>{let i=r,o={type:"string",format:"binary",contentEncoding:"binary"},{minimum:s,maximum:a,mime:c}=t._zod.bag;s!==void 0&&(o.minLength=s),a!==void 0&&(o.maxLength=a),c?c.length===1?(o.contentMediaType=c[0],Object.assign(i,o)):(Object.assign(i,o),i.anyOf=c.map(l=>({contentMediaType:l}))):Object.assign(i,o)},PF=(t,e,r,n)=>{r.type="boolean"},kF=(t,e,r,n)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},DF=(t,e,r,n)=>{if(e.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema")},MF=(t,e,r,n)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},$F=(t,e,r,n)=>{if(e.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema")},LF=(t,e,r,n)=>{if(e.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema")},BF=(t,e,r,n)=>{let i=r,o=t._zod.def,{minimum:s,maximum:a}=t._zod.bag;typeof s=="number"&&(i.minItems=s),typeof a=="number"&&(i.maxItems=a),i.type="array",i.items=Cr(o.element,e,{...n,path:[...n.path,"items"]})},UF=(t,e,r,n)=>{let i=r,o=t._zod.def;i.type="object",i.properties={};let s=o.shape;for(let l in s)i.properties[l]=Cr(s[l],e,{...n,path:[...n.path,"properties",l]});let a=new Set(Object.keys(s)),c=new Set([...a].filter(l=>{let u=o.shape[l]._zod;return e.io==="input"?u.optin===void 0:u.optout===void 0}));c.size>0&&(i.required=Array.from(c)),o.catchall?._zod.def.type==="never"?i.additionalProperties=!1:o.catchall?o.catchall&&(i.additionalProperties=Cr(o.catchall,e,{...n,path:[...n.path,"additionalProperties"]})):e.io==="output"&&(i.additionalProperties=!1)},pI=(t,e,r,n)=>{let i=t._zod.def,o=i.inclusive===!1,s=i.options.map((a,c)=>Cr(a,e,{...n,path:[...n.path,o?"oneOf":"anyOf",c]}));o?r.oneOf=s:r.anyOf=s},FF=(t,e,r,n)=>{let i=t._zod.def,o=Cr(i.left,e,{...n,path:[...n.path,"allOf",0]}),s=Cr(i.right,e,{...n,path:[...n.path,"allOf",1]}),a=l=>"allOf"in l&&Object.keys(l).length===1,c=[...a(o)?o.allOf:[o],...a(s)?s.allOf:[s]];r.allOf=c},zF=(t,e,r,n)=>{let i=r,o=t._zod.def;i.type="array";let s=e.target==="draft-2020-12"?"prefixItems":"items",a=e.target==="draft-2020-12"||e.target==="openapi-3.0"?"items":"additionalItems",c=o.items.map((p,m)=>Cr(p,e,{...n,path:[...n.path,s,m]})),l=o.rest?Cr(o.rest,e,{...n,path:[...n.path,a,...e.target==="openapi-3.0"?[o.items.length]:[]]}):null;e.target==="draft-2020-12"?(i.prefixItems=c,l&&(i.items=l)):e.target==="openapi-3.0"?(i.items={anyOf:c},l&&i.items.anyOf.push(l),i.minItems=c.length,l||(i.maxItems=c.length)):(i.items=c,l&&(i.additionalItems=l));let{minimum:u,maximum:d}=t._zod.bag;typeof u=="number"&&(i.minItems=u),typeof d=="number"&&(i.maxItems=d)},VF=(t,e,r,n)=>{let i=r,o=t._zod.def;i.type="object";let s=o.keyType,c=s._zod.bag?.patterns;if(o.mode==="loose"&&c&&c.size>0){let u=Cr(o.valueType,e,{...n,path:[...n.path,"patternProperties","*"]});i.patternProperties={};for(let d of c)i.patternProperties[d.source]=u}else(e.target==="draft-07"||e.target==="draft-2020-12")&&(i.propertyNames=Cr(o.keyType,e,{...n,path:[...n.path,"propertyNames"]})),i.additionalProperties=Cr(o.valueType,e,{...n,path:[...n.path,"additionalProperties"]});let l=s._zod.values;if(l){let u=[...l].filter(d=>typeof d=="string"||typeof d=="number");u.length>0&&(i.required=u)}},jF=(t,e,r,n)=>{let i=t._zod.def,o=Cr(i.innerType,e,n),s=e.seen.get(t);e.target==="openapi-3.0"?(s.ref=i.innerType,r.nullable=!0):r.anyOf=[o,{type:"null"}]},qF=(t,e,r,n)=>{let i=t._zod.def;Cr(i.innerType,e,n);let o=e.seen.get(t);o.ref=i.innerType},HF=(t,e,r,n)=>{let i=t._zod.def;Cr(i.innerType,e,n);let o=e.seen.get(t);o.ref=i.innerType,r.default=JSON.parse(JSON.stringify(i.defaultValue))},WF=(t,e,r,n)=>{let i=t._zod.def;Cr(i.innerType,e,n);let o=e.seen.get(t);o.ref=i.innerType,e.io==="input"&&(r._prefault=JSON.parse(JSON.stringify(i.defaultValue)))},GF=(t,e,r,n)=>{let i=t._zod.def;Cr(i.innerType,e,n);let o=e.seen.get(t);o.ref=i.innerType;let s;try{s=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}r.default=s},KF=(t,e,r,n)=>{let i=t._zod.def,o=e.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;Cr(o,e,n);let s=e.seen.get(t);s.ref=o},YF=(t,e,r,n)=>{let i=t._zod.def;Cr(i.innerType,e,n);let o=e.seen.get(t);o.ref=i.innerType,r.readOnly=!0},JF=(t,e,r,n)=>{let i=t._zod.def;Cr(i.innerType,e,n);let o=e.seen.get(t);o.ref=i.innerType},mI=(t,e,r,n)=>{let i=t._zod.def;Cr(i.innerType,e,n);let o=e.seen.get(t);o.ref=i.innerType},QF=(t,e,r,n)=>{let i=t._zod.innerType;Cr(i,e,n);let o=e.seen.get(t);o.ref=i},dI={string:hF,number:gF,boolean:yF,bigint:bF,symbol:vF,null:_F,undefined:SF,void:wF,never:xF,any:AF,unknown:EF,date:RF,enum:TF,literal:IF,nan:CF,template_literal:OF,file:NF,success:PF,custom:kF,function:DF,transform:MF,map:$F,set:LF,array:BF,object:UF,union:pI,intersection:FF,tuple:zF,record:VF,nullable:jF,nonoptional:qF,default:HF,prefault:WF,catch:GF,pipe:KF,readonly:YF,promise:JF,optional:mI,lazy:QF};function fI(t,e){if("_idmap"in t){let n=t,i=Xm({...e,processors:dI}),o={};for(let c of n._idmap.entries()){let[l,u]=c;Cr(u,i)}let s={},a={registry:n,uri:e?.uri,defs:o};i.external=a;for(let c of n._idmap.entries()){let[l,u]=c;ef(i,u),s[l]=tf(i,u)}if(Object.keys(o).length>0){let c=i.target==="draft-2020-12"?"$defs":"definitions";s.__shared={[c]:o}}return{schemas:s}}let r=Xm({...e,processors:dI});return Cr(t,r),ef(r,t),tf(r,t)}var hI=class{get metadataRegistry(){return this.ctx.metadataRegistry}get target(){return this.ctx.target}get unrepresentable(){return this.ctx.unrepresentable}get override(){return this.ctx.override}get io(){return this.ctx.io}get counter(){return this.ctx.counter}set counter(e){this.ctx.counter=e}get seen(){return this.ctx.seen}constructor(e){let r=e?.target??"draft-2020-12";r==="draft-4"&&(r="draft-04"),r==="draft-7"&&(r="draft-07"),this.ctx=Xm({processors:dI,target:r,...e?.metadata&&{metadata:e.metadata},...e?.unrepresentable&&{unrepresentable:e.unrepresentable},...e?.override&&{override:e.override},...e?.io&&{io:e.io}})}process(e,r={path:[],schemaPath:[]}){return Cr(e,this.ctx,r)}emit(e,r){r&&(r.cycles&&(this.ctx.cycles=r.cycles),r.reused&&(this.ctx.reused=r.reused),r.external&&(this.ctx.external=r.external)),ef(this.ctx,e);let n=tf(this.ctx,e),{"~standard":i,...o}=n;return o}};var Rpe={};var Uw={};lr(Uw,{ZodAny:()=>Sz,ZodArray:()=>Ez,ZodBase64:()=>$I,ZodBase64URL:()=>LI,ZodBigInt:()=>Bb,ZodBigIntFormat:()=>FI,ZodBoolean:()=>Lb,ZodCIDRv4:()=>DI,ZodCIDRv6:()=>MI,ZodCUID:()=>TI,ZodCUID2:()=>II,ZodCatch:()=>Gz,ZodCodec:()=>KI,ZodCustom:()=>Jw,ZodCustomStringFormat:()=>Mb,ZodDate:()=>Hw,ZodDefault:()=>zz,ZodDiscriminatedUnion:()=>Tz,ZodE164:()=>BI,ZodEmail:()=>AI,ZodEmoji:()=>EI,ZodEnum:()=>kb,ZodExactOptional:()=>Bz,ZodFile:()=>$z,ZodFunction:()=>rV,ZodGUID:()=>Fw,ZodIPv4:()=>PI,ZodIPv6:()=>kI,ZodIntersection:()=>Iz,ZodJWT:()=>UI,ZodKSUID:()=>NI,ZodLazy:()=>Xz,ZodLiteral:()=>Mz,ZodMAC:()=>fz,ZodMap:()=>kz,ZodNaN:()=>Yz,ZodNanoID:()=>RI,ZodNever:()=>xz,ZodNonOptional:()=>WI,ZodNull:()=>vz,ZodNullable:()=>Fz,ZodNumber:()=>$b,ZodNumberFormat:()=>Bg,ZodObject:()=>Gw,ZodOptional:()=>HI,ZodPipe:()=>GI,ZodPrefault:()=>jz,ZodPromise:()=>tV,ZodReadonly:()=>Jz,ZodRecord:()=>Yw,ZodSet:()=>Dz,ZodString:()=>Db,ZodStringFormat:()=>Hr,ZodSuccess:()=>Wz,ZodSymbol:()=>yz,ZodTemplateLiteral:()=>Zz,ZodTransform:()=>Lz,ZodTuple:()=>Oz,ZodType:()=>Yt,ZodULID:()=>CI,ZodURL:()=>qw,ZodUUID:()=>Eu,ZodUndefined:()=>bz,ZodUnion:()=>Kw,ZodUnknown:()=>wz,ZodVoid:()=>Az,ZodXID:()=>OI,ZodXor:()=>Rz,_ZodString:()=>xI,_default:()=>Vz,_function:()=>kme,any:()=>dme,array:()=>Ww,base64:()=>Kpe,base64url:()=>Ype,bigint:()=>sme,boolean:()=>gz,catch:()=>Kz,check:()=>Dme,cidrv4:()=>Wpe,cidrv6:()=>Gpe,codec:()=>Ome,cuid:()=>Bpe,cuid2:()=>Upe,custom:()=>Mme,date:()=>mme,describe:()=>$me,discriminatedUnion:()=>vme,e164:()=>Jpe,email:()=>Ipe,emoji:()=>$pe,enum:()=>jI,exactOptional:()=>Uz,file:()=>Rme,float32:()=>rme,float64:()=>nme,function:()=>kme,guid:()=>Cpe,hash:()=>tme,hex:()=>eme,hostname:()=>Xpe,httpUrl:()=>Mpe,instanceof:()=>Bme,int:()=>wI,int32:()=>ime,int64:()=>ame,intersection:()=>Cz,ipv4:()=>jpe,ipv6:()=>Hpe,json:()=>Fme,jwt:()=>Qpe,keyof:()=>fme,ksuid:()=>Vpe,lazy:()=>eV,literal:()=>Eme,looseObject:()=>yme,looseRecord:()=>Sme,mac:()=>qpe,map:()=>wme,meta:()=>Lme,nan:()=>Cme,nanoid:()=>Lpe,nativeEnum:()=>Ame,never:()=>zI,nonoptional:()=>Hz,null:()=>_z,nullable:()=>Vw,nullish:()=>Tme,number:()=>hz,object:()=>hme,optional:()=>zw,partialRecord:()=>_me,pipe:()=>jw,prefault:()=>qz,preprocess:()=>zme,promise:()=>Pme,readonly:()=>Qz,record:()=>Pz,refine:()=>nV,set:()=>xme,strictObject:()=>gme,string:()=>SI,stringFormat:()=>Zpe,stringbool:()=>Ume,success:()=>Ime,superRefine:()=>iV,symbol:()=>lme,templateLiteral:()=>Nme,transform:()=>qI,tuple:()=>Nz,uint32:()=>ome,uint64:()=>cme,ulid:()=>Fpe,undefined:()=>ume,union:()=>VI,unknown:()=>Lg,url:()=>Dpe,uuid:()=>Ope,uuidv4:()=>Npe,uuidv6:()=>Ppe,uuidv7:()=>kpe,void:()=>pme,xid:()=>zpe,xor:()=>bme});var gI={};lr(gI,{endsWith:()=>xb,gt:()=>xu,gte:()=>cs,includes:()=>Sb,length:()=>$g,lowercase:()=>vb,lt:()=>wu,lte:()=>Ra,maxLength:()=>Mg,maxSize:()=>Zm,mime:()=>Ab,minLength:()=>Vd,minSize:()=>Au,multipleOf:()=>Qm,negative:()=>aI,nonnegative:()=>lI,nonpositive:()=>cI,normalize:()=>Eb,overwrite:()=>kl,positive:()=>sI,property:()=>uI,regex:()=>bb,size:()=>Dg,slugify:()=>Cb,startsWith:()=>wb,toLowerCase:()=>Tb,toUpperCase:()=>Ib,trim:()=>Rb,uppercase:()=>_b});var Pb={};lr(Pb,{ZodISODate:()=>bI,ZodISODateTime:()=>yI,ZodISODuration:()=>_I,ZodISOTime:()=>vI,date:()=>XF,datetime:()=>ZF,duration:()=>tz,time:()=>ez});var yI=ne("ZodISODateTime",(t,e)=>{CB.init(t,e),Hr.init(t,e)});function ZF(t){return kU(yI,t)}var bI=ne("ZodISODate",(t,e)=>{OB.init(t,e),Hr.init(t,e)});function XF(t){return DU(bI,t)}var vI=ne("ZodISOTime",(t,e)=>{NB.init(t,e),Hr.init(t,e)});function ez(t){return MU(vI,t)}var _I=ne("ZodISODuration",(t,e)=>{PB.init(t,e),Hr.init(t,e)});function tz(t){return $U(_I,t)}var Tpe=(t,e)=>{Rw.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:r=>Iw(t,r)},flatten:{value:r=>Tw(t,r)},addIssue:{value:r=>{t.issues.push(r),t.message=JSON.stringify(t.issues,lb,2)}},addIssues:{value:r=>{t.issues.push(...r),t.message=JSON.stringify(t.issues,lb,2)}},isEmpty:{get(){return t.issues.length===0}}})},tit=ne("ZodError",Tpe),Ls=ne("ZodError",Tpe,{Parent:Error});var rz=pb(Ls),nz=mb(Ls),iz=fb(Ls),oz=hb(Ls),sz=fT(Ls),az=hT(Ls),cz=gT(Ls),lz=yT(Ls),uz=bT(Ls),dz=vT(Ls),pz=_T(Ls),mz=ST(Ls);var Yt=ne("ZodType",(t,e)=>(Bt.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:Nb(t,"input"),output:Nb(t,"output")}}),t.toJSONSchema=fF(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...r)=>t.clone(Pe.mergeDefs(e,{checks:[...e.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),{parent:!0}),t.with=t.check,t.clone=(r,n)=>as(t,r,n),t.brand=()=>t,t.register=((r,n)=>(r.add(t,n),t)),t.parse=(r,n)=>rz(t,r,n,{callee:t.parse}),t.safeParse=(r,n)=>iz(t,r,n),t.parseAsync=async(r,n)=>nz(t,r,n,{callee:t.parseAsync}),t.safeParseAsync=async(r,n)=>oz(t,r,n),t.spa=t.safeParseAsync,t.encode=(r,n)=>sz(t,r,n),t.decode=(r,n)=>az(t,r,n),t.encodeAsync=async(r,n)=>cz(t,r,n),t.decodeAsync=async(r,n)=>lz(t,r,n),t.safeEncode=(r,n)=>uz(t,r,n),t.safeDecode=(r,n)=>dz(t,r,n),t.safeEncodeAsync=async(r,n)=>pz(t,r,n),t.safeDecodeAsync=async(r,n)=>mz(t,r,n),t.refine=(r,n)=>t.check(nV(r,n)),t.superRefine=r=>t.check(iV(r)),t.overwrite=r=>t.check(kl(r)),t.optional=()=>zw(t),t.exactOptional=()=>Uz(t),t.nullable=()=>Vw(t),t.nullish=()=>zw(Vw(t)),t.nonoptional=r=>Hz(t,r),t.array=()=>Ww(t),t.or=r=>VI([t,r]),t.and=r=>Cz(t,r),t.transform=r=>jw(t,qI(r)),t.default=r=>Vz(t,r),t.prefault=r=>qz(t,r),t.catch=r=>Kz(t,r),t.pipe=r=>jw(t,r),t.readonly=()=>Qz(t),t.describe=r=>{let n=t.clone();return lo.add(n,{description:r}),n},Object.defineProperty(t,"description",{get(){return lo.get(t)?.description},configurable:!0}),t.meta=(...r)=>{if(r.length===0)return lo.get(t);let n=t.clone();return lo.add(n,r[0]),n},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=r=>r(t),t)),xI=ne("_ZodString",(t,e)=>{kg.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(n,i,o)=>hF(t,n,i,o);let r=t._zod.bag;t.format=r.format??null,t.minLength=r.minimum??null,t.maxLength=r.maximum??null,t.regex=(...n)=>t.check(bb(...n)),t.includes=(...n)=>t.check(Sb(...n)),t.startsWith=(...n)=>t.check(wb(...n)),t.endsWith=(...n)=>t.check(xb(...n)),t.min=(...n)=>t.check(Vd(...n)),t.max=(...n)=>t.check(Mg(...n)),t.length=(...n)=>t.check($g(...n)),t.nonempty=(...n)=>t.check(Vd(1,...n)),t.lowercase=n=>t.check(vb(n)),t.uppercase=n=>t.check(_b(n)),t.trim=()=>t.check(Rb()),t.normalize=(...n)=>t.check(Eb(...n)),t.toLowerCase=()=>t.check(Tb()),t.toUpperCase=()=>t.check(Ib()),t.slugify=()=>t.check(Cb())}),Db=ne("ZodString",(t,e)=>{kg.init(t,e),xI.init(t,e),t.email=r=>t.check(FT(AI,r)),t.url=r=>t.check(Bw(qw,r)),t.jwt=r=>t.check(oI(UI,r)),t.emoji=r=>t.check(HT(EI,r)),t.guid=r=>t.check(Lw(Fw,r)),t.uuid=r=>t.check(zT(Eu,r)),t.uuidv4=r=>t.check(VT(Eu,r)),t.uuidv6=r=>t.check(jT(Eu,r)),t.uuidv7=r=>t.check(qT(Eu,r)),t.nanoid=r=>t.check(WT(RI,r)),t.guid=r=>t.check(Lw(Fw,r)),t.cuid=r=>t.check(GT(TI,r)),t.cuid2=r=>t.check(KT(II,r)),t.ulid=r=>t.check(YT(CI,r)),t.base64=r=>t.check(rI($I,r)),t.base64url=r=>t.check(nI(LI,r)),t.xid=r=>t.check(JT(OI,r)),t.ksuid=r=>t.check(QT(NI,r)),t.ipv4=r=>t.check(ZT(PI,r)),t.ipv6=r=>t.check(XT(kI,r)),t.cidrv4=r=>t.check(eI(DI,r)),t.cidrv6=r=>t.check(tI(MI,r)),t.e164=r=>t.check(iI(BI,r)),t.datetime=r=>t.check(ZF(r)),t.date=r=>t.check(XF(r)),t.time=r=>t.check(ez(r)),t.duration=r=>t.check(tz(r))});function SI(t){return CU(Db,t)}var Hr=ne("ZodStringFormat",(t,e)=>{qr.init(t,e),xI.init(t,e)}),AI=ne("ZodEmail",(t,e)=>{_B.init(t,e),Hr.init(t,e)});function Ipe(t){return FT(AI,t)}var Fw=ne("ZodGUID",(t,e)=>{bB.init(t,e),Hr.init(t,e)});function Cpe(t){return Lw(Fw,t)}var Eu=ne("ZodUUID",(t,e)=>{vB.init(t,e),Hr.init(t,e)});function Ope(t){return zT(Eu,t)}function Npe(t){return VT(Eu,t)}function Ppe(t){return jT(Eu,t)}function kpe(t){return qT(Eu,t)}var qw=ne("ZodURL",(t,e)=>{SB.init(t,e),Hr.init(t,e)});function Dpe(t){return Bw(qw,t)}function Mpe(t){return Bw(qw,{protocol:/^https?$/,hostname:rc.domain,...Pe.normalizeParams(t)})}var EI=ne("ZodEmoji",(t,e)=>{wB.init(t,e),Hr.init(t,e)});function $pe(t){return HT(EI,t)}var RI=ne("ZodNanoID",(t,e)=>{xB.init(t,e),Hr.init(t,e)});function Lpe(t){return WT(RI,t)}var TI=ne("ZodCUID",(t,e)=>{AB.init(t,e),Hr.init(t,e)});function Bpe(t){return GT(TI,t)}var II=ne("ZodCUID2",(t,e)=>{EB.init(t,e),Hr.init(t,e)});function Upe(t){return KT(II,t)}var CI=ne("ZodULID",(t,e)=>{RB.init(t,e),Hr.init(t,e)});function Fpe(t){return YT(CI,t)}var OI=ne("ZodXID",(t,e)=>{TB.init(t,e),Hr.init(t,e)});function zpe(t){return JT(OI,t)}var NI=ne("ZodKSUID",(t,e)=>{IB.init(t,e),Hr.init(t,e)});function Vpe(t){return QT(NI,t)}var PI=ne("ZodIPv4",(t,e)=>{kB.init(t,e),Hr.init(t,e)});function jpe(t){return ZT(PI,t)}var fz=ne("ZodMAC",(t,e)=>{MB.init(t,e),Hr.init(t,e)});function qpe(t){return NU(fz,t)}var kI=ne("ZodIPv6",(t,e)=>{DB.init(t,e),Hr.init(t,e)});function Hpe(t){return XT(kI,t)}var DI=ne("ZodCIDRv4",(t,e)=>{$B.init(t,e),Hr.init(t,e)});function Wpe(t){return eI(DI,t)}var MI=ne("ZodCIDRv6",(t,e)=>{LB.init(t,e),Hr.init(t,e)});function Gpe(t){return tI(MI,t)}var $I=ne("ZodBase64",(t,e)=>{UB.init(t,e),Hr.init(t,e)});function Kpe(t){return rI($I,t)}var LI=ne("ZodBase64URL",(t,e)=>{FB.init(t,e),Hr.init(t,e)});function Ype(t){return nI(LI,t)}var BI=ne("ZodE164",(t,e)=>{zB.init(t,e),Hr.init(t,e)});function Jpe(t){return iI(BI,t)}var UI=ne("ZodJWT",(t,e)=>{VB.init(t,e),Hr.init(t,e)});function Qpe(t){return oI(UI,t)}var Mb=ne("ZodCustomStringFormat",(t,e)=>{jB.init(t,e),Hr.init(t,e)});function Zpe(t,e,r={}){return Ob(Mb,t,e,r)}function Xpe(t){return Ob(Mb,"hostname",rc.hostname,t)}function eme(t){return Ob(Mb,"hex",rc.hex,t)}function tme(t,e){let r=e?.enc??"hex",n=`${t}_${r}`,i=rc[n];if(!i)throw new Error(`Unrecognized hash format: ${n}`);return Ob(Mb,n,i,e)}var $b=ne("ZodNumber",(t,e)=>{NT.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(n,i,o)=>gF(t,n,i,o),t.gt=(n,i)=>t.check(xu(n,i)),t.gte=(n,i)=>t.check(cs(n,i)),t.min=(n,i)=>t.check(cs(n,i)),t.lt=(n,i)=>t.check(wu(n,i)),t.lte=(n,i)=>t.check(Ra(n,i)),t.max=(n,i)=>t.check(Ra(n,i)),t.int=n=>t.check(wI(n)),t.safe=n=>t.check(wI(n)),t.positive=n=>t.check(xu(0,n)),t.nonnegative=n=>t.check(cs(0,n)),t.negative=n=>t.check(wu(0,n)),t.nonpositive=n=>t.check(Ra(0,n)),t.multipleOf=(n,i)=>t.check(Qm(n,i)),t.step=(n,i)=>t.check(Qm(n,i)),t.finite=()=>t;let r=t._zod.bag;t.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),t.isFinite=!0,t.format=r.format??null});function hz(t){return LU($b,t)}var Bg=ne("ZodNumberFormat",(t,e)=>{qB.init(t,e),$b.init(t,e)});function wI(t){return UU(Bg,t)}function rme(t){return FU(Bg,t)}function nme(t){return zU(Bg,t)}function ime(t){return VU(Bg,t)}function ome(t){return jU(Bg,t)}var Lb=ne("ZodBoolean",(t,e)=>{Pw.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,n,i)=>yF(t,r,n,i)});function gz(t){return qU(Lb,t)}var Bb=ne("ZodBigInt",(t,e)=>{PT.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(n,i,o)=>bF(t,n,i,o),t.gte=(n,i)=>t.check(cs(n,i)),t.min=(n,i)=>t.check(cs(n,i)),t.gt=(n,i)=>t.check(xu(n,i)),t.gte=(n,i)=>t.check(cs(n,i)),t.min=(n,i)=>t.check(cs(n,i)),t.lt=(n,i)=>t.check(wu(n,i)),t.lte=(n,i)=>t.check(Ra(n,i)),t.max=(n,i)=>t.check(Ra(n,i)),t.positive=n=>t.check(xu(BigInt(0),n)),t.negative=n=>t.check(wu(BigInt(0),n)),t.nonpositive=n=>t.check(Ra(BigInt(0),n)),t.nonnegative=n=>t.check(cs(BigInt(0),n)),t.multipleOf=(n,i)=>t.check(Qm(n,i));let r=t._zod.bag;t.minValue=r.minimum??null,t.maxValue=r.maximum??null,t.format=r.format??null});function sme(t){return WU(Bb,t)}var FI=ne("ZodBigIntFormat",(t,e)=>{HB.init(t,e),Bb.init(t,e)});function ame(t){return KU(FI,t)}function cme(t){return YU(FI,t)}var yz=ne("ZodSymbol",(t,e)=>{WB.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,n,i)=>vF(t,r,n,i)});function lme(t){return JU(yz,t)}var bz=ne("ZodUndefined",(t,e)=>{GB.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,n,i)=>SF(t,r,n,i)});function ume(t){return QU(bz,t)}var vz=ne("ZodNull",(t,e)=>{KB.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,n,i)=>_F(t,r,n,i)});function _z(t){return ZU(vz,t)}var Sz=ne("ZodAny",(t,e)=>{YB.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,n,i)=>AF(t,r,n,i)});function dme(){return XU(Sz)}var wz=ne("ZodUnknown",(t,e)=>{JB.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,n,i)=>EF(t,r,n,i)});function Lg(){return eF(wz)}var xz=ne("ZodNever",(t,e)=>{QB.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,n,i)=>xF(t,r,n,i)});function zI(t){return tF(xz,t)}var Az=ne("ZodVoid",(t,e)=>{ZB.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,n,i)=>wF(t,r,n,i)});function pme(t){return rF(Az,t)}var Hw=ne("ZodDate",(t,e)=>{XB.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(n,i,o)=>RF(t,n,i,o),t.min=(n,i)=>t.check(cs(n,i)),t.max=(n,i)=>t.check(Ra(n,i));let r=t._zod.bag;t.minDate=r.minimum?new Date(r.minimum):null,t.maxDate=r.maximum?new Date(r.maximum):null});function mme(t){return nF(Hw,t)}var Ez=ne("ZodArray",(t,e)=>{eU.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,n,i)=>BF(t,r,n,i),t.element=e.element,t.min=(r,n)=>t.check(Vd(r,n)),t.nonempty=r=>t.check(Vd(1,r)),t.max=(r,n)=>t.check(Mg(r,n)),t.length=(r,n)=>t.check($g(r,n)),t.unwrap=()=>t.element});function Ww(t,e){return sF(Ez,t,e)}function fme(t){let e=t._zod.def.shape;return jI(Object.keys(e))}var Gw=ne("ZodObject",(t,e)=>{tU.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,n,i)=>UF(t,r,n,i),Pe.defineLazy(t,"shape",()=>e.shape),t.keyof=()=>jI(Object.keys(t._zod.def.shape)),t.catchall=r=>t.clone({...t._zod.def,catchall:r}),t.passthrough=()=>t.clone({...t._zod.def,catchall:Lg()}),t.loose=()=>t.clone({...t._zod.def,catchall:Lg()}),t.strict=()=>t.clone({...t._zod.def,catchall:zI()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=r=>Pe.extend(t,r),t.safeExtend=r=>Pe.safeExtend(t,r),t.merge=r=>Pe.merge(t,r),t.pick=r=>Pe.pick(t,r),t.omit=r=>Pe.omit(t,r),t.partial=(...r)=>Pe.partial(HI,t,r[0]),t.required=(...r)=>Pe.required(WI,t,r[0])});function hme(t,e){let r={type:"object",shape:t??{},...Pe.normalizeParams(e)};return new Gw(r)}function gme(t,e){return new Gw({type:"object",shape:t,catchall:zI(),...Pe.normalizeParams(e)})}function yme(t,e){return new Gw({type:"object",shape:t,catchall:Lg(),...Pe.normalizeParams(e)})}var Kw=ne("ZodUnion",(t,e)=>{kw.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,n,i)=>pI(t,r,n,i),t.options=e.options});function VI(t,e){return new Kw({type:"union",options:t,...Pe.normalizeParams(e)})}var Rz=ne("ZodXor",(t,e)=>{Kw.init(t,e),rU.init(t,e),t._zod.processJSONSchema=(r,n,i)=>pI(t,r,n,i),t.options=e.options});function bme(t,e){return new Rz({type:"union",options:t,inclusive:!1,...Pe.normalizeParams(e)})}var Tz=ne("ZodDiscriminatedUnion",(t,e)=>{Kw.init(t,e),nU.init(t,e)});function vme(t,e,r){return new Tz({type:"union",options:e,discriminator:t,...Pe.normalizeParams(r)})}var Iz=ne("ZodIntersection",(t,e)=>{iU.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,n,i)=>FF(t,r,n,i)});function Cz(t,e){return new Iz({type:"intersection",left:t,right:e})}var Oz=ne("ZodTuple",(t,e)=>{kT.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,n,i)=>zF(t,r,n,i),t.rest=r=>t.clone({...t._zod.def,rest:r})});function Nz(t,e,r){let n=e instanceof Bt,i=n?r:e,o=n?e:null;return new Oz({type:"tuple",items:t,rest:o,...Pe.normalizeParams(i)})}var Yw=ne("ZodRecord",(t,e)=>{oU.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,n,i)=>VF(t,r,n,i),t.keyType=e.keyType,t.valueType=e.valueType});function Pz(t,e,r){return new Yw({type:"record",keyType:t,valueType:e,...Pe.normalizeParams(r)})}function _me(t,e,r){let n=as(t);return n._zod.values=void 0,new Yw({type:"record",keyType:n,valueType:e,...Pe.normalizeParams(r)})}function Sme(t,e,r){return new Yw({type:"record",keyType:t,valueType:e,mode:"loose",...Pe.normalizeParams(r)})}var kz=ne("ZodMap",(t,e)=>{sU.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,n,i)=>$F(t,r,n,i),t.keyType=e.keyType,t.valueType=e.valueType,t.min=(...r)=>t.check(Au(...r)),t.nonempty=r=>t.check(Au(1,r)),t.max=(...r)=>t.check(Zm(...r)),t.size=(...r)=>t.check(Dg(...r))});function wme(t,e,r){return new kz({type:"map",keyType:t,valueType:e,...Pe.normalizeParams(r)})}var Dz=ne("ZodSet",(t,e)=>{aU.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,n,i)=>LF(t,r,n,i),t.min=(...r)=>t.check(Au(...r)),t.nonempty=r=>t.check(Au(1,r)),t.max=(...r)=>t.check(Zm(...r)),t.size=(...r)=>t.check(Dg(...r))});function xme(t,e){return new Dz({type:"set",valueType:t,...Pe.normalizeParams(e)})}var kb=ne("ZodEnum",(t,e)=>{cU.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(n,i,o)=>TF(t,n,i,o),t.enum=e.entries,t.options=Object.values(e.entries);let r=new Set(Object.keys(e.entries));t.extract=(n,i)=>{let o={};for(let s of n)if(r.has(s))o[s]=e.entries[s];else throw new Error(`Key ${s} not found in enum`);return new kb({...e,checks:[],...Pe.normalizeParams(i),entries:o})},t.exclude=(n,i)=>{let o={...e.entries};for(let s of n)if(r.has(s))delete o[s];else throw new Error(`Key ${s} not found in enum`);return new kb({...e,checks:[],...Pe.normalizeParams(i),entries:o})}});function jI(t,e){let r=Array.isArray(t)?Object.fromEntries(t.map(n=>[n,n])):t;return new kb({type:"enum",entries:r,...Pe.normalizeParams(e)})}function Ame(t,e){return new kb({type:"enum",entries:t,...Pe.normalizeParams(e)})}var Mz=ne("ZodLiteral",(t,e)=>{lU.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,n,i)=>IF(t,r,n,i),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function Eme(t,e){return new Mz({type:"literal",values:Array.isArray(t)?t:[t],...Pe.normalizeParams(e)})}var $z=ne("ZodFile",(t,e)=>{uU.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,n,i)=>NF(t,r,n,i),t.min=(r,n)=>t.check(Au(r,n)),t.max=(r,n)=>t.check(Zm(r,n)),t.mime=(r,n)=>t.check(Ab(Array.isArray(r)?r:[r],n))});function Rme(t){return aF($z,t)}var Lz=ne("ZodTransform",(t,e)=>{dU.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,n,i)=>MF(t,r,n,i),t._zod.parse=(r,n)=>{if(n.direction==="backward")throw new Wm(t.constructor.name);r.addIssue=o=>{if(typeof o=="string")r.issues.push(Pe.issue(o,r.value,e));else{let s=o;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=t),r.issues.push(Pe.issue(s))}};let i=e.transform(r.value,r);return i instanceof Promise?i.then(o=>(r.value=o,r)):(r.value=i,r)}});function qI(t){return new Lz({type:"transform",transform:t})}var HI=ne("ZodOptional",(t,e)=>{DT.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,n,i)=>mI(t,r,n,i),t.unwrap=()=>t._zod.def.innerType});function zw(t){return new HI({type:"optional",innerType:t})}var Bz=ne("ZodExactOptional",(t,e)=>{pU.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,n,i)=>mI(t,r,n,i),t.unwrap=()=>t._zod.def.innerType});function Uz(t){return new Bz({type:"optional",innerType:t})}var Fz=ne("ZodNullable",(t,e)=>{mU.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,n,i)=>jF(t,r,n,i),t.unwrap=()=>t._zod.def.innerType});function Vw(t){return new Fz({type:"nullable",innerType:t})}function Tme(t){return zw(Vw(t))}var zz=ne("ZodDefault",(t,e)=>{fU.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,n,i)=>HF(t,r,n,i),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function Vz(t,e){return new zz({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():Pe.shallowClone(e)}})}var jz=ne("ZodPrefault",(t,e)=>{hU.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,n,i)=>WF(t,r,n,i),t.unwrap=()=>t._zod.def.innerType});function qz(t,e){return new jz({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():Pe.shallowClone(e)}})}var WI=ne("ZodNonOptional",(t,e)=>{gU.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,n,i)=>qF(t,r,n,i),t.unwrap=()=>t._zod.def.innerType});function Hz(t,e){return new WI({type:"nonoptional",innerType:t,...Pe.normalizeParams(e)})}var Wz=ne("ZodSuccess",(t,e)=>{yU.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,n,i)=>PF(t,r,n,i),t.unwrap=()=>t._zod.def.innerType});function Ime(t){return new Wz({type:"success",innerType:t})}var Gz=ne("ZodCatch",(t,e)=>{bU.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,n,i)=>GF(t,r,n,i),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function Kz(t,e){return new Gz({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}var Yz=ne("ZodNaN",(t,e)=>{vU.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,n,i)=>CF(t,r,n,i)});function Cme(t){return oF(Yz,t)}var GI=ne("ZodPipe",(t,e)=>{_U.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,n,i)=>KF(t,r,n,i),t.in=e.in,t.out=e.out});function jw(t,e){return new GI({type:"pipe",in:t,out:e})}var KI=ne("ZodCodec",(t,e)=>{GI.init(t,e),Dw.init(t,e)});function Ome(t,e,r){return new KI({type:"pipe",in:t,out:e,transform:r.decode,reverseTransform:r.encode})}var Jz=ne("ZodReadonly",(t,e)=>{SU.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,n,i)=>YF(t,r,n,i),t.unwrap=()=>t._zod.def.innerType});function Qz(t){return new Jz({type:"readonly",innerType:t})}var Zz=ne("ZodTemplateLiteral",(t,e)=>{wU.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,n,i)=>OF(t,r,n,i)});function Nme(t,e){return new Zz({type:"template_literal",parts:t,...Pe.normalizeParams(e)})}var Xz=ne("ZodLazy",(t,e)=>{EU.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,n,i)=>QF(t,r,n,i),t.unwrap=()=>t._zod.def.getter()});function eV(t){return new Xz({type:"lazy",getter:t})}var tV=ne("ZodPromise",(t,e)=>{AU.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,n,i)=>JF(t,r,n,i),t.unwrap=()=>t._zod.def.innerType});function Pme(t){return new tV({type:"promise",innerType:t})}var rV=ne("ZodFunction",(t,e)=>{xU.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,n,i)=>DF(t,r,n,i)});function kme(t){return new rV({type:"function",input:Array.isArray(t?.input)?Nz(t?.input):t?.input??Ww(Lg()),output:t?.output??Lg()})}var Jw=ne("ZodCustom",(t,e)=>{RU.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,n,i)=>kF(t,r,n,i)});function Dme(t){let e=new Zr({check:"custom"});return e._zod.check=t,e}function Mme(t,e){return cF(Jw,t??(()=>!0),e)}function nV(t,e={}){return lF(Jw,t,e)}function iV(t){return uF(t)}var $me=dF,Lme=pF;function Bme(t,e={}){let r=new Jw({type:"custom",check:"custom",fn:n=>n instanceof t,abort:!0,...Pe.normalizeParams(e)});return r._zod.bag.Class=t,r._zod.check=n=>{n.value instanceof t||n.issues.push({code:"invalid_type",expected:t.name,input:n.value,inst:r,path:[...r._zod.def.path??[]]})},r}var Ume=(...t)=>mF({Codec:KI,Boolean:Lb,String:Db},...t);function Fme(t){let e=eV(()=>VI([SI(t),hz(),gz(),_z(),Ww(e),Pz(SI(),e)]));return e}function zme(t,e){return jw(qI(t),e)}var nit={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function iit(t){Wn({customError:t})}function oit(){return Wn().customError}var oV;oV||(oV={});var Je={...Uw,...gI,iso:Pb},sit=new Set(["$schema","$ref","$defs","definitions","$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor","type","enum","const","anyOf","oneOf","allOf","not","properties","required","additionalProperties","patternProperties","propertyNames","minProperties","maxProperties","items","prefixItems","additionalItems","minItems","maxItems","uniqueItems","contains","minContains","maxContains","minLength","maxLength","pattern","format","minimum","maximum","exclusiveMinimum","exclusiveMaximum","multipleOf","description","default","contentEncoding","contentMediaType","contentSchema","unevaluatedItems","unevaluatedProperties","if","then","else","dependentSchemas","dependentRequired","nullable","readOnly"]);function ait(t,e){let r=t.$schema;return r==="https://json-schema.org/draft/2020-12/schema"?"draft-2020-12":r==="http://json-schema.org/draft-07/schema#"?"draft-7":r==="http://json-schema.org/draft-04/schema#"?"draft-4":e??"draft-2020-12"}function cit(t,e){if(!t.startsWith("#"))throw new Error("External $ref is not supported, only local refs (#/...) are allowed");let r=t.slice(1).split("/").filter(Boolean);if(r.length===0)return e.rootSchema;let n=e.version==="draft-2020-12"?"$defs":"definitions";if(r[0]===n){let i=r[1];if(!i||!e.defs[i])throw new Error(`Reference not found: ${t}`);return e.defs[i]}throw new Error(`Reference not found: ${t}`)}function Vme(t,e){if(t.not!==void 0){if(typeof t.not=="object"&&Object.keys(t.not).length===0)return Je.never();throw new Error("not is not supported in Zod (except { not: {} } for never)")}if(t.unevaluatedItems!==void 0)throw new Error("unevaluatedItems is not supported");if(t.unevaluatedProperties!==void 0)throw new Error("unevaluatedProperties is not supported");if(t.if!==void 0||t.then!==void 0||t.else!==void 0)throw new Error("Conditional schemas (if/then/else) are not supported");if(t.dependentSchemas!==void 0||t.dependentRequired!==void 0)throw new Error("dependentSchemas and dependentRequired are not supported");if(t.$ref){let i=t.$ref;if(e.refs.has(i))return e.refs.get(i);if(e.processing.has(i))return Je.lazy(()=>{if(!e.refs.has(i))throw new Error(`Circular reference not resolved: ${i}`);return e.refs.get(i)});e.processing.add(i);let o=cit(i,e),s=ko(o,e);return e.refs.set(i,s),e.processing.delete(i),s}if(t.enum!==void 0){let i=t.enum;if(e.version==="openapi-3.0"&&t.nullable===!0&&i.length===1&&i[0]===null)return Je.null();if(i.length===0)return Je.never();if(i.length===1)return Je.literal(i[0]);if(i.every(s=>typeof s=="string"))return Je.enum(i);let o=i.map(s=>Je.literal(s));return o.length<2?o[0]:Je.union([o[0],o[1],...o.slice(2)])}if(t.const!==void 0)return Je.literal(t.const);let r=t.type;if(Array.isArray(r)){let i=r.map(o=>{let s={...t,type:o};return Vme(s,e)});return i.length===0?Je.never():i.length===1?i[0]:Je.union(i)}if(!r)return Je.any();let n;switch(r){case"string":{let i=Je.string();if(t.format){let o=t.format;o==="email"?i=i.check(Je.email()):o==="uri"||o==="uri-reference"?i=i.check(Je.url()):o==="uuid"||o==="guid"?i=i.check(Je.uuid()):o==="date-time"?i=i.check(Je.iso.datetime()):o==="date"?i=i.check(Je.iso.date()):o==="time"?i=i.check(Je.iso.time()):o==="duration"?i=i.check(Je.iso.duration()):o==="ipv4"?i=i.check(Je.ipv4()):o==="ipv6"?i=i.check(Je.ipv6()):o==="mac"?i=i.check(Je.mac()):o==="cidr"?i=i.check(Je.cidrv4()):o==="cidr-v6"?i=i.check(Je.cidrv6()):o==="base64"?i=i.check(Je.base64()):o==="base64url"?i=i.check(Je.base64url()):o==="e164"?i=i.check(Je.e164()):o==="jwt"?i=i.check(Je.jwt()):o==="emoji"?i=i.check(Je.emoji()):o==="nanoid"?i=i.check(Je.nanoid()):o==="cuid"?i=i.check(Je.cuid()):o==="cuid2"?i=i.check(Je.cuid2()):o==="ulid"?i=i.check(Je.ulid()):o==="xid"?i=i.check(Je.xid()):o==="ksuid"&&(i=i.check(Je.ksuid()))}typeof t.minLength=="number"&&(i=i.min(t.minLength)),typeof t.maxLength=="number"&&(i=i.max(t.maxLength)),t.pattern&&(i=i.regex(new RegExp(t.pattern))),n=i;break}case"number":case"integer":{let i=r==="integer"?Je.number().int():Je.number();typeof t.minimum=="number"&&(i=i.min(t.minimum)),typeof t.maximum=="number"&&(i=i.max(t.maximum)),typeof t.exclusiveMinimum=="number"?i=i.gt(t.exclusiveMinimum):t.exclusiveMinimum===!0&&typeof t.minimum=="number"&&(i=i.gt(t.minimum)),typeof t.exclusiveMaximum=="number"?i=i.lt(t.exclusiveMaximum):t.exclusiveMaximum===!0&&typeof t.maximum=="number"&&(i=i.lt(t.maximum)),typeof t.multipleOf=="number"&&(i=i.multipleOf(t.multipleOf)),n=i;break}case"boolean":{n=Je.boolean();break}case"null":{n=Je.null();break}case"object":{let i={},o=t.properties||{},s=new Set(t.required||[]);for(let[c,l]of Object.entries(o)){let u=ko(l,e);i[c]=s.has(c)?u:u.optional()}if(t.propertyNames){let c=ko(t.propertyNames,e),l=t.additionalProperties&&typeof t.additionalProperties=="object"?ko(t.additionalProperties,e):Je.any();if(Object.keys(i).length===0){n=Je.record(c,l);break}let u=Je.object(i).passthrough(),d=Je.looseRecord(c,l);n=Je.intersection(u,d);break}if(t.patternProperties){let c=t.patternProperties,l=Object.keys(c),u=[];for(let p of l){let m=ko(c[p],e),h=Je.string().regex(new RegExp(p));u.push(Je.looseRecord(h,m))}let d=[];if(Object.keys(i).length>0&&d.push(Je.object(i).passthrough()),d.push(...u),d.length===0)n=Je.object({}).passthrough();else if(d.length===1)n=d[0];else{let p=Je.intersection(d[0],d[1]);for(let m=2;m<d.length;m++)p=Je.intersection(p,d[m]);n=p}break}let a=Je.object(i);t.additionalProperties===!1?n=a.strict():typeof t.additionalProperties=="object"?n=a.catchall(ko(t.additionalProperties,e)):n=a.passthrough();break}case"array":{let i=t.prefixItems,o=t.items;if(i&&Array.isArray(i)){let s=i.map(c=>ko(c,e)),a=o&&typeof o=="object"&&!Array.isArray(o)?ko(o,e):void 0;a?n=Je.tuple(s).rest(a):n=Je.tuple(s),typeof t.minItems=="number"&&(n=n.check(Je.minLength(t.minItems))),typeof t.maxItems=="number"&&(n=n.check(Je.maxLength(t.maxItems)))}else if(Array.isArray(o)){let s=o.map(c=>ko(c,e)),a=t.additionalItems&&typeof t.additionalItems=="object"?ko(t.additionalItems,e):void 0;a?n=Je.tuple(s).rest(a):n=Je.tuple(s),typeof t.minItems=="number"&&(n=n.check(Je.minLength(t.minItems))),typeof t.maxItems=="number"&&(n=n.check(Je.maxLength(t.maxItems)))}else if(o!==void 0){let s=ko(o,e),a=Je.array(s);typeof t.minItems=="number"&&(a=a.min(t.minItems)),typeof t.maxItems=="number"&&(a=a.max(t.maxItems)),n=a}else n=Je.array(Je.any());break}default:throw new Error(`Unsupported type: ${r}`)}return t.description&&(n=n.describe(t.description)),t.default!==void 0&&(n=n.default(t.default)),n}function ko(t,e){if(typeof t=="boolean")return t?Je.any():Je.never();let r=Vme(t,e),n=t.type||t.enum!==void 0||t.const!==void 0;if(t.anyOf&&Array.isArray(t.anyOf)){let a=t.anyOf.map(l=>ko(l,e)),c=Je.union(a);r=n?Je.intersection(r,c):c}if(t.oneOf&&Array.isArray(t.oneOf)){let a=t.oneOf.map(l=>ko(l,e)),c=Je.xor(a);r=n?Je.intersection(r,c):c}if(t.allOf&&Array.isArray(t.allOf))if(t.allOf.length===0)r=n?r:Je.any();else{let a=n?r:ko(t.allOf[0],e),c=n?0:1;for(let l=c;l<t.allOf.length;l++)a=Je.intersection(a,ko(t.allOf[l],e));r=a}t.nullable===!0&&e.version==="openapi-3.0"&&(r=Je.nullable(r)),t.readOnly===!0&&(r=Je.readonly(r));let i={},o=["$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor"];for(let a of o)a in t&&(i[a]=t[a]);let s=["contentEncoding","contentMediaType","contentSchema"];for(let a of s)a in t&&(i[a]=t[a]);for(let a of Object.keys(t))sit.has(a)||(i[a]=t[a]);return Object.keys(i).length>0&&e.registry.add(r,i),r}function jme(t,e){if(typeof t=="boolean")return t?Je.any():Je.never();let r=ait(t,e?.defaultTarget),n=t.$defs||t.definitions||{},i={version:r,defs:n,refs:new Map,processing:new Set,rootSchema:t,registry:e?.registry??lo};return ko(t,i)}var sV={};lr(sV,{bigint:()=>pit,boolean:()=>dit,date:()=>mit,number:()=>uit,string:()=>lit});function lit(t){return OU(Db,t)}function uit(t){return BU($b,t)}function dit(t){return HU(Lb,t)}function pit(t){return GU(Bb,t)}function mit(t){return iF(Hw,t)}Wn(MT());var Vft=Ht.object({DATABASE_URL:Ht.string().default(""),MOLTBOOK_APP_KEY:Ht.string().default(""),JUPITER_API_KEY:Ht.string().default(""),ADMIN_PASSWORD:Ht.string().default(""),PORT:Ht.coerce.number().default(3e3),NODE_ENV:Ht.enum(["development","production","test"]).default("development"),DEMO_MODE:Ht.string().optional().default("false").transform(t=>t==="true"),ANTHROPIC_API_KEY:Ht.string().optional(),OPENAI_API_KEY:Ht.string().optional(),XAI_API_KEY:Ht.string().optional(),TURNKEY_API_PRIVATE_KEY:Ht.string().optional(),TURNKEY_API_PUBLIC_KEY:Ht.string().optional(),TURNKEY_ORGANIZATION_ID:Ht.string().optional(),SOLANA_RPC_URL:Ht.string().optional(),HELIUS_API_KEY:Ht.string().optional(),HELIUS_WEBHOOK_SECRET:Ht.string().optional(),APP_URL:Ht.string().optional()});async function jft(){if(!process.env.AWS_LAMBDA_FUNCTION_NAME)return;let{SecretsManagerClient:t,GetSecretValueCommand:e}=await Promise.resolve().then(()=>(d5e(),u5e)),r=new t({}),n=new e({SecretId:process.env.SECRET_ARN}),i=await r.send(n);if(i.SecretString)try{let o=JSON.parse(i.SecretString);for(let[s,a]of Object.entries(o))process.env[s]=a}catch{console.warn("SECRET_ARN secret is not valid JSON \u2014 skipping secret injection. Populate moltapp/production with a JSON object of key-value pairs.")}}function qft(){let t=Vft.safeParse(process.env);if(!t.success){let e=t.error.issues.map(r=>`  ${r.path.join(".")}: ${r.message}`).join(`
`);throw new Error(`Environment validation failed:
${e}`)}return t.data}await jft();var Mr=qft();var OY={};lr(OY,{agentDecisions:()=>zr,agentEarnings:()=>cTe,agentPayments:()=>aTe,agentReasoningHealth:()=>STe,agents:()=>Li,apiKeys:()=>tTe,benchmarkSnapshots:()=>bTe,competitionScores:()=>yTe,copyFollowers:()=>oTe,copyTrades:()=>sTe,portfolioSnapshots:()=>gTe,positions:()=>dr,predictionBets:()=>uTe,predictionMarkets:()=>dTe,predictions:()=>lTe,reasoningForensicReports:()=>vTe,reasoningIntegrityViolations:()=>_Te,strategies:()=>pTe,strategyAdoptions:()=>mTe,strategyRatings:()=>fTe,strategySignals:()=>hTe,tradeComments:()=>nTe,tradeJustifications:()=>ir,tradeReactions:()=>iTe,trades:()=>Gr,transactions:()=>rTe,wallets:()=>w0});$i();var Li=Ft("agents",{id:ue("id").primaryKey(),name:ue("name").notNull(),description:ue("description"),karma:pt("karma").default(0),avatarUrl:ue("avatar_url"),ownerXHandle:ue("owner_x_handle"),ownerXName:ue("owner_x_name"),isActive:Mi("is_active").default(!0),createdAt:At("created_at").defaultNow().notNull(),updatedAt:At("updated_at").defaultNow().notNull()});$i();var w0=Ft("wallets",{id:pt("id").primaryKey().generatedAlwaysAsIdentity(),agentId:ue("agent_id").references(()=>Li.id).notNull().unique(),publicKey:ue("public_key").notNull().unique(),turnkeyWalletId:ue("turnkey_wallet_id").notNull(),usdcAtaAddress:ue("usdc_ata_address"),createdAt:At("created_at").defaultNow().notNull()});$i();var tTe=Ft("api_keys",{id:pt("id").primaryKey().generatedAlwaysAsIdentity(),agentId:ue("agent_id").references(()=>Li.id).notNull(),keyHash:ue("key_hash").notNull().unique(),keyPrefix:ue("key_prefix").notNull(),isRevoked:Mi("is_revoked").default(!1),lastUsedAt:At("last_used_at"),createdAt:At("created_at").defaultNow().notNull()});$i();var rTe=Ft("transactions",{id:pt("id").primaryKey().generatedAlwaysAsIdentity(),agentId:ue("agent_id").references(()=>Li.id).notNull(),type:ue("type").notNull(),tokenType:ue("token_type").notNull(),amount:It("amount",{precision:20,scale:9}).notNull(),txSignature:ue("tx_signature").notNull().unique(),status:ue("status").notNull().default("pending"),destinationAddress:ue("destination_address"),createdAt:At("created_at").defaultNow().notNull(),confirmedAt:At("confirmed_at")});$i();var dr=Ft("positions",{id:pt("id").primaryKey().generatedAlwaysAsIdentity(),agentId:ue("agent_id").references(()=>Li.id).notNull(),mintAddress:ue("mint_address").notNull(),symbol:ue("symbol").notNull(),quantity:It("quantity",{precision:20,scale:9}).notNull(),averageCostBasis:It("average_cost_basis",{precision:20,scale:6}).notNull(),createdAt:At("created_at").defaultNow().notNull(),updatedAt:At("updated_at").defaultNow().notNull()},t=>[Rf("positions_agent_mint_unique").on(t.agentId,t.mintAddress)]);$i();var Gr=Ft("trades",{id:pt("id").primaryKey().generatedAlwaysAsIdentity(),agentId:ue("agent_id").references(()=>Li.id).notNull(),side:ue("side").notNull(),stockMintAddress:ue("stock_mint_address").notNull(),stockSymbol:ue("stock_symbol").notNull(),stockQuantity:It("stock_quantity",{precision:20,scale:9}).notNull(),usdcAmount:It("usdc_amount",{precision:20,scale:6}).notNull(),pricePerToken:It("price_per_token",{precision:20,scale:6}).notNull(),txSignature:ue("tx_signature").notNull().unique(),jupiterRouteInfo:Un("jupiter_route_info"),status:ue("status").notNull().default("confirmed"),createdAt:At("created_at").defaultNow().notNull()});$i();var zr=Ft("agent_decisions",{id:pt("id").primaryKey().generatedAlwaysAsIdentity(),agentId:ue("agent_id").notNull(),symbol:ue("symbol").notNull(),action:ue("action").notNull(),quantity:It("quantity",{precision:20,scale:9}).notNull(),reasoning:ue("reasoning").notNull(),confidence:pt("confidence").notNull(),modelUsed:ue("model_used").notNull(),marketSnapshot:Un("market_snapshot"),executed:ue("executed").default("pending"),txSignature:ue("tx_signature"),executionError:ue("execution_error"),roundId:ue("round_id"),createdAt:At("created_at").defaultNow().notNull()});$i();var nTe=Ft("trade_comments",{id:pt("id").primaryKey().generatedAlwaysAsIdentity(),decisionId:pt("decision_id").notNull(),authorId:ue("author_id").notNull(),authorName:ue("author_name").notNull(),content:ue("content").notNull(),createdAt:At("created_at").defaultNow().notNull()});$i();var iTe=Ft("trade_reactions",{id:pt("id").primaryKey().generatedAlwaysAsIdentity(),decisionId:pt("decision_id").notNull(),reactorId:ue("reactor_id").notNull(),reaction:ue("reaction").notNull(),createdAt:At("created_at").defaultNow().notNull()},t=>[Rf("trade_reactions_decision_reactor_unique").on(t.decisionId,t.reactorId)]);$i();var oTe=Ft("copy_followers",{id:pt("id").primaryKey().generatedAlwaysAsIdentity(),followerId:ue("follower_id").notNull(),followerName:ue("follower_name").notNull(),targetAgentId:ue("target_agent_id").notNull(),initialCapital:It("initial_capital",{precision:20,scale:6}).notNull().default("10000"),currentCash:It("current_cash",{precision:20,scale:6}).notNull().default("10000"),portfolioValue:It("portfolio_value",{precision:20,scale:6}).notNull().default("10000"),totalPnl:It("total_pnl",{precision:20,scale:6}).notNull().default("0"),totalPnlPercent:It("total_pnl_percent",{precision:10,scale:4}).notNull().default("0"),tradesCopied:pt("trades_copied").notNull().default(0),positions:Un("positions").default("[]"),isActive:ue("is_active").notNull().default("true"),createdAt:At("created_at").defaultNow().notNull(),updatedAt:At("updated_at").defaultNow().notNull()},t=>[Rf("copy_follower_agent_unique").on(t.followerId,t.targetAgentId)]),sTe=Ft("copy_trades",{id:pt("id").primaryKey().generatedAlwaysAsIdentity(),followerId:ue("follower_id").notNull(),sourceAgentId:ue("source_agent_id").notNull(),sourceDecisionId:pt("source_decision_id").notNull(),action:ue("action").notNull(),symbol:ue("symbol").notNull(),quantity:It("quantity",{precision:20,scale:9}).notNull(),price:It("price",{precision:20,scale:6}).notNull(),tradePnl:It("trade_pnl",{precision:20,scale:6}).default("0"),confidence:pt("confidence").notNull(),reasoning:ue("reasoning").notNull(),createdAt:At("created_at").defaultNow().notNull()});$i();var aTe=Ft("agent_payments",{id:pt("id").primaryKey().generatedAlwaysAsIdentity(),fromId:ue("from_id").notNull(),fromName:ue("from_name").notNull(),toAgentId:ue("to_agent_id").notNull(),decisionId:pt("decision_id"),amount:It("amount",{precision:20,scale:6}).notNull(),currency:ue("currency").notNull().default("USDC"),message:ue("message"),status:ue("status").notNull().default("completed"),txSignature:ue("tx_signature"),createdAt:At("created_at").defaultNow().notNull()}),cTe=Ft("agent_earnings",{id:pt("id").primaryKey().generatedAlwaysAsIdentity(),agentId:ue("agent_id").notNull(),totalEarnings:It("total_earnings",{precision:20,scale:6}).notNull().default("0"),tipCount:pt("tip_count").notNull().default(0),uniqueTippers:pt("unique_tippers").notNull().default(0),avgTipAmount:It("avg_tip_amount",{precision:20,scale:6}).notNull().default("0"),largestTip:It("largest_tip",{precision:20,scale:6}).notNull().default("0"),lastTipAt:At("last_tip_at"),createdAt:At("created_at").defaultNow().notNull(),updatedAt:At("updated_at").defaultNow().notNull()},t=>[Rf("agent_earnings_agent_unique").on(t.agentId)]);$i();var lTe=Ft("predictions",{id:ue("id").primaryKey().default(Z`gen_random_uuid()`),agentId:ue("agent_id").notNull(),symbol:ue("symbol").notNull(),predictionType:ue("prediction_type").notNull(),direction:ue("direction").notNull(),targetPrice:It("target_price",{precision:20,scale:6}),currentPriceAtCreation:It("current_price_at_creation",{precision:20,scale:6}).notNull(),timeHorizon:ue("time_horizon").notNull(),confidence:pt("confidence").notNull(),reasoning:ue("reasoning").notNull(),status:ue("status").notNull().default("active"),resolvedAt:At("resolved_at"),resolutionPrice:It("resolution_price",{precision:20,scale:6}),resolutionDetails:ue("resolution_details"),createdAt:At("created_at").defaultNow().notNull(),expiresAt:At("expires_at").notNull()}),uTe=Ft("prediction_bets",{id:ue("id").primaryKey().default(Z`gen_random_uuid()`),predictionId:ue("prediction_id").notNull(),bettorId:ue("bettor_id").notNull(),bettorType:ue("bettor_type").notNull(),position:ue("position").notNull(),amount:It("amount",{precision:20,scale:6}).notNull(),odds:It("odds",{precision:10,scale:4}).notNull(),payout:It("payout",{precision:20,scale:6}),status:ue("status").notNull().default("active"),createdAt:At("created_at").defaultNow().notNull()}),dTe=Ft("prediction_markets",{id:ue("id").primaryKey().default(Z`gen_random_uuid()`),predictionId:ue("prediction_id").notNull(),totalPool:It("total_pool",{precision:20,scale:6}).notNull().default("0"),forPool:It("for_pool",{precision:20,scale:6}).notNull().default("0"),againstPool:It("against_pool",{precision:20,scale:6}).notNull().default("0"),currentOddsFor:It("current_odds_for",{precision:10,scale:4}).notNull().default("1.0"),currentOddsAgainst:It("current_odds_against",{precision:10,scale:4}).notNull().default("1.0"),totalBets:pt("total_bets").notNull().default(0),status:ue("status").notNull().default("open"),createdAt:At("created_at").defaultNow().notNull()});$i();var pTe=Ft("strategies",{id:ue("id").primaryKey().default(Z`gen_random_uuid()`),creatorAgentId:ue("creator_agent_id").notNull(),name:ue("name").notNull(),description:ue("description").notNull(),category:ue("category").notNull(),parameters:Un("parameters").notNull().$type(),backtestResults:Un("backtest_results").$type(),riskLevel:ue("risk_level").notNull(),timeframe:ue("timeframe").notNull(),version:pt("version").notNull().default(1),parentStrategyId:ue("parent_strategy_id"),isPublic:Mi("is_public").notNull().default(!0),status:ue("status").notNull().default("active"),totalAdopters:pt("total_adopters").notNull().default(0),avgRating:It("avg_rating").notNull().default("0"),totalRatings:pt("total_ratings").notNull().default(0),createdAt:At("created_at").defaultNow(),updatedAt:At("updated_at").defaultNow()}),mTe=Ft("strategy_adoptions",{id:ue("id").primaryKey().default(Z`gen_random_uuid()`),strategyId:ue("strategy_id").notNull(),agentId:ue("agent_id").notNull(),status:ue("status").notNull().default("active"),adoptedAt:At("adopted_at").defaultNow(),performanceSinceAdoption:It("performance_since_adoption").default("0"),tradesExecuted:pt("trades_executed").default(0)}),fTe=Ft("strategy_ratings",{id:ue("id").primaryKey().default(Z`gen_random_uuid()`),strategyId:ue("strategy_id").notNull(),raterId:ue("rater_id").notNull(),rating:pt("rating").notNull(),review:ue("review"),createdAt:At("created_at").defaultNow()}),hTe=Ft("strategy_signals",{id:ue("id").primaryKey().default(Z`gen_random_uuid()`),strategyId:ue("strategy_id").notNull(),symbol:ue("symbol").notNull(),signalType:ue("signal_type").notNull(),direction:ue("direction").notNull(),strength:pt("strength").notNull(),price:It("price").notNull(),metadata:Un("metadata").$type(),createdAt:At("created_at").defaultNow()});$i();var gTe=Ft("portfolio_snapshots",{id:pt("id").primaryKey().generatedAlwaysAsIdentity(),agentId:ue("agent_id").notNull(),roundId:ue("round_id"),trigger:ue("trigger").notNull().default("round_end"),cashBalance:It("cash_balance",{precision:20,scale:6}).notNull(),positionsValue:It("positions_value",{precision:20,scale:6}).notNull(),totalValue:It("total_value",{precision:20,scale:6}).notNull(),totalPnl:It("total_pnl",{precision:20,scale:6}).notNull(),totalPnlPercent:It("total_pnl_percent",{precision:10,scale:4}).notNull(),positionCount:pt("position_count").notNull(),positions:Un("positions").notNull(),createdAt:At("created_at").defaultNow().notNull()}),yTe=Ft("competition_scores",{id:pt("id").primaryKey().generatedAlwaysAsIdentity(),agentId:ue("agent_id").notNull(),roundId:ue("round_id").notNull(),roundScore:It("round_score",{precision:10,scale:4}).notNull(),cumulativeScore:It("cumulative_score",{precision:12,scale:4}).notNull(),rank:pt("rank").notNull(),breakdown:Un("breakdown").notNull(),createdAt:At("created_at").defaultNow().notNull()});$i();var ir=Ft("trade_justifications",{id:ue("id").primaryKey(),tradeId:pt("trade_id").references(()=>Gr.id),agentId:ue("agent_id").references(()=>Li.id).notNull(),reasoning:ue("reasoning").notNull(),confidence:Wr("confidence").notNull(),sources:Un("sources").$type(),intent:ue("intent").notNull(),predictedOutcome:ue("predicted_outcome"),actualOutcome:ue("actual_outcome"),coherenceScore:Wr("coherence_score"),hallucinationFlags:Un("hallucination_flags").$type(),action:ue("action").notNull(),symbol:ue("symbol").notNull(),quantity:Wr("quantity"),roundId:ue("round_id"),disciplinePass:ue("discipline_pass").default("pending"),timestamp:At("timestamp").defaultNow()}),bTe=Ft("benchmark_snapshots",{id:ue("id").primaryKey(),agentId:ue("agent_id").references(()=>Li.id).notNull(),period:ue("period").notNull(),pnlPercent:Wr("pnl_percent"),sharpeRatio:Wr("sharpe_ratio"),avgCoherence:Wr("avg_coherence"),hallucinationRate:Wr("hallucination_rate"),disciplineRate:Wr("discipline_rate"),tradeCount:pt("trade_count"),winRate:Wr("win_rate"),confidenceCalibration:Wr("confidence_calibration"),fullMetrics:Un("full_metrics").$type(),createdAt:At("created_at").defaultNow()});$i();var vTe=Ft("reasoning_forensic_reports",{id:ue("id").primaryKey(),agentId:ue("agent_id").references(()=>Li.id).notNull(),roundId:ue("round_id").notNull(),tradeAction:ue("trade_action").notNull(),symbol:ue("symbol").notNull(),sentenceCount:pt("sentence_count"),avgSentenceLength:Wr("avg_sentence_length"),quantitativeClaimCount:pt("quantitative_claim_count"),hedgeWordCount:pt("hedge_word_count"),causalConnectorCount:pt("causal_connector_count"),valuationMentioned:Mi("valuation_mentioned").default(!1),technicalMentioned:Mi("technical_mentioned").default(!1),fundamentalMentioned:Mi("fundamental_mentioned").default(!1),macroMentioned:Mi("macro_mentioned").default(!1),sentimentMentioned:Mi("sentiment_mentioned").default(!1),riskMentioned:Mi("risk_mentioned").default(!1),catalystMentioned:Mi("catalyst_mentioned").default(!1),portfolioContextMentioned:Mi("portfolio_context_mentioned").default(!1),coherenceScore:Wr("coherence_score"),depthScore:Wr("depth_score"),originalityScore:Wr("originality_score"),clarityScore:Wr("clarity_score"),compositeForensicScore:Wr("composite_forensic_score"),similarToPrevious:Mi("similar_to_previous").default(!1),contradictsPrevious:Mi("contradicts_previous").default(!1),previousTradeId:ue("previous_trade_id"),fullAnalysis:Un("full_analysis").$type(),createdAt:At("created_at").defaultNow()}),_Te=Ft("reasoning_integrity_violations",{id:ue("id").primaryKey(),agentId:ue("agent_id").references(()=>Li.id).notNull(),violationType:ue("violation_type").notNull(),severity:ue("severity").notNull(),description:ue("description").notNull(),evidence:Un("evidence").$type(),roundId:ue("round_id"),relatedTradeIds:Un("related_trade_ids").$type(),penaltyApplied:Wr("penalty_applied"),createdAt:At("created_at").defaultNow()}),STe=Ft("agent_reasoning_health",{agentId:ue("agent_id").references(()=>Li.id).primaryKey(),windowSize:pt("window_size").default(50),avgCoherence:Wr("avg_coherence"),avgDepth:Wr("avg_depth"),avgOriginality:Wr("avg_originality"),avgClarity:Wr("avg_clarity"),compositeHealth:Wr("composite_health"),integrityScore:Wr("integrity_score"),totalViolations:pt("total_violations").default(0),trend:ue("trend"),trendDelta:Wr("trend_delta"),lastUpdated:At("last_updated").defaultNow()});var Qyt=!!process.env.AWS_LAMBDA_FUNCTION_NAME;async function Zyt(){if(!Mr.DATABASE_URL)return console.warn("DATABASE_URL not set \u2014 database queries will fail"),null;if(Qyt){let{neon:t}=await Promise.resolve().then(()=>(GY(),_Ie)),{drizzle:e}=await Promise.resolve().then(()=>(xIe(),wIe)),r=t(Mr.DATABASE_URL);return e({client:r})}else{let{drizzle:t}=await Promise.resolve().then(()=>(SCe(),_Ce)),e=await Promise.resolve().then(()=>(I7(),bCe)),r=new e.default.Pool({connectionString:Mr.DATABASE_URL});return t(r,{schema:OY})}}var Gt=await Zyt();var wCe="EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",xCe="4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU";var k7="https://api.jup.ag";var Wl=[{symbol:"AAPLx",name:"Apple",mintAddress:"XsbEhLAtcf6HdfpFZ5xEMdqW8nfAvcsP5bdudRLJzJp",decimals:9},{symbol:"AMZNx",name:"Amazon",mintAddress:"Xs3eBt7uRfJX8QUs4suhyU8p2M6DoUDrJyWBa8LLZsg",decimals:9},{symbol:"GOOGLx",name:"Alphabet",mintAddress:"XsCPL9dNWBMvFtTmwcCA5v3xWPSMEBCszbQdiLLq6aN",decimals:9},{symbol:"METAx",name:"Meta",mintAddress:"Xsa62P5mvPszXL1krVUnU5ar38bBSVcWAB6fmPCo5Zu",decimals:9},{symbol:"MSFTx",name:"Microsoft",mintAddress:"XspzcW1PRtgf6Wj92HCiZdjzKCyFekVD8P5Ueh3dRMX",decimals:9},{symbol:"NVDAx",name:"NVIDIA",mintAddress:"Xsc9qvGR1efVDFGLrVsmkzv3qi45LTBjeUKSPmx9qEh",decimals:9},{symbol:"TSLAx",name:"Tesla",mintAddress:"XsDoVfqeBukxuZHWhdvWHBhgEHjGNst4MLodqsJHzoB",decimals:9},{symbol:"SPYx",name:"S&P 500 ETF",mintAddress:"XsoCS1TfEyfFhfvj8EtZ528L3CaKBDBRqRapnBbDF2W",decimals:9},{symbol:"QQQx",name:"Nasdaq 100 ETF",mintAddress:"Xs8S1uUs1zvS2p7iwtsG3b6fkhpvmwz4GYU3gWAmWHZ",decimals:9},{symbol:"COINx",name:"Coinbase",mintAddress:"Xs7ZdzSHLU9ftNJsii5fCeJhoRWSC32SQGzGQtePxNu",decimals:9},{symbol:"CRCLx",name:"Circle",mintAddress:"XsueG8BtpquVJX9LVLLEGuViXUungE6WmK5YZ3p3bd1",decimals:9},{symbol:"MSTRx",name:"MicroStrategy",mintAddress:"XsP7xzNPvEHS1m6qfanPUGjNmdnmsLKEoNAnHjdxxyZ",decimals:9},{symbol:"AVGOx",name:"Broadcom",mintAddress:"XsgSaSvNSqLTtFuyWPBhK9196Xb9Bbdyjj4fH3cPJGo",decimals:9},{symbol:"JPMx",name:"JPMorgan Chase",mintAddress:"XsMAqkcKsUewDrzVkait4e5u4y8REgtyS7jWgCpLV2C",decimals:9},{symbol:"HOODx",name:"Robinhood",mintAddress:"XsvNBAYkrDRNhA7wPHQfX3ZUXZyZLdnCQDfHZ56bzpg",decimals:9},{symbol:"LLYx",name:"Eli Lilly",mintAddress:"Xsnuv4omNoHozR6EEW5mXkw8Nrny5rB3jVfLqi6gKMH",decimals:9},{symbol:"CRMx",name:"Salesforce",mintAddress:"XsczbcQ3zfcgAEt9qHQES8pxKAVG5rujPSHQEXi4kaN",decimals:9},{symbol:"NFLXx",name:"Netflix",mintAddress:"XsEH7wWfJJu2ZT3UCFeVfALnVA6CP5ur7Ee11KmzVpL",decimals:9},{symbol:"PLTRx",name:"Palantir",mintAddress:"XsoBhf2ufR8fTyNSjqfU71DYGaE6Z3SUGAidpzriAA4",decimals:9},{symbol:"GMEx",name:"GameStop",mintAddress:"Xsf9mBktVB9BSU5kf4nHxPq5hCBJ2j2ui3ecFGxPRGc",decimals:9}];function Ge(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function ae(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}var oQ=function(){let{crypto:t}=globalThis;if(t?.randomUUID)return oQ=t.randomUUID.bind(t),t.randomUUID();let e=new Uint8Array(1),r=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(+n^r()&15>>+n/4).toString(16))};function yp(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}var D4=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){let e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};var lt=class extends Error{},Zi=class t extends lt{constructor(e,r,n,i){super(`${t.makeMessage(e,r,n)}`),this.status=e,this.headers=i,this.requestID=i?.get("request-id"),this.error=r}static makeMessage(e,r,n){let i=r?.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,r,n,i){if(!e||!i)return new Lf({message:n,cause:D4(r)});let o=r;return e===400?new Qv(e,o,n,i):e===401?new Zv(e,o,n,i):e===403?new Xv(e,o,n,i):e===404?new e_(e,o,n,i):e===409?new t_(e,o,n,i):e===422?new r_(e,o,n,i):e===429?new n_(e,o,n,i):e>=500?new i_(e,o,n,i):new t(e,o,n,i)}},yo=class extends Zi{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},Lf=class extends Zi{constructor({message:e,cause:r}){super(void 0,void 0,e||"Connection error.",void 0),r&&(this.cause=r)}},Jv=class extends Lf{constructor({message:e}={}){super({message:e??"Request timed out."})}},Qv=class extends Zi{},Zv=class extends Zi{},Xv=class extends Zi{},e_=class extends Zi{},t_=class extends Zi{},r_=class extends Zi{},n_=class extends Zi{},i_=class extends Zi{};var ebt=/^[a-z][a-z0-9+.-]*:/i,ACe=t=>ebt.test(t),sQ=t=>(sQ=Array.isArray,sQ(t)),aQ=sQ;function D7(t){return typeof t!="object"?{}:t??{}}function ECe(t){if(!t)return!0;for(let e in t)return!1;return!0}function RCe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var TCe=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new lt(`${t} must be an integer`);if(e<0)throw new lt(`${t} must be a positive integer`);return e};var M7=t=>{try{return JSON.parse(t)}catch{return}};var ICe=t=>new Promise(e=>setTimeout(e,t));var Bf="0.72.1";var PCe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function tbt(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}var rbt=()=>{let t=tbt();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bf,"X-Stainless-OS":OCe(Deno.build.os),"X-Stainless-Arch":CCe(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bf,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bf,"X-Stainless-OS":OCe(globalThis.process.platform??"unknown"),"X-Stainless-Arch":CCe(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};let e=nbt();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bf,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bf,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function nbt(){if(typeof navigator>"u"||!navigator)return null;let t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(let{key:e,pattern:r}of t){let n=r.exec(navigator.userAgent);if(n){let i=n[1]||0,o=n[2]||0,s=n[3]||0;return{browser:e,version:`${i}.${o}.${s}`}}}return null}var CCe=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",OCe=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown"),NCe,kCe=()=>NCe??(NCe=rbt());function DCe(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new Anthropic({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function cQ(...t){let e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function $7(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return cQ({start(){},async pull(r){let{done:n,value:i}=await e.next();n?r.close():r.enqueue(i)},async cancel(){await e.return?.()}})}function M4(t){if(t[Symbol.asyncIterator])return t;let e=t.getReader();return{async next(){try{let r=await e.read();return r?.done&&e.releaseLock(),r}catch(r){throw e.releaseLock(),r}},async return(){let r=e.cancel();return e.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function MCe(t){if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await t[Symbol.asyncIterator]().return?.();return}let e=t.getReader(),r=e.cancel();e.releaseLock(),await r}var $Ce=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});function UCe(t){let e=0;for(let i of t)e+=i.length;let r=new Uint8Array(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return r}var LCe;function $4(t){let e;return(LCe??(e=new globalThis.TextEncoder,LCe=e.encode.bind(e)))(t)}var BCe;function lQ(t){let e;return(BCe??(e=new globalThis.TextDecoder,BCe=e.decode.bind(e)))(t)}var Ma,$a,bp=class{constructor(){Ma.set(this,void 0),$a.set(this,void 0),Ge(this,Ma,new Uint8Array,"f"),Ge(this,$a,null,"f")}decode(e){if(e==null)return[];let r=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?$4(e):e;Ge(this,Ma,UCe([ae(this,Ma,"f"),r]),"f");let n=[],i;for(;(i=sbt(ae(this,Ma,"f"),ae(this,$a,"f")))!=null;){if(i.carriage&&ae(this,$a,"f")==null){Ge(this,$a,i.index,"f");continue}if(ae(this,$a,"f")!=null&&(i.index!==ae(this,$a,"f")+1||i.carriage)){n.push(lQ(ae(this,Ma,"f").subarray(0,ae(this,$a,"f")-1))),Ge(this,Ma,ae(this,Ma,"f").subarray(ae(this,$a,"f")),"f"),Ge(this,$a,null,"f");continue}let o=ae(this,$a,"f")!==null?i.preceding-1:i.preceding,s=lQ(ae(this,Ma,"f").subarray(0,o));n.push(s),Ge(this,Ma,ae(this,Ma,"f").subarray(i.index),"f"),Ge(this,$a,null,"f")}return n}flush(){return ae(this,Ma,"f").length?this.decode(`
`):[]}};Ma=new WeakMap,$a=new WeakMap;bp.NEWLINE_CHARS=new Set([`
`,"\r"]);bp.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function sbt(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function FCe(t){for(let n=0;n<t.length-1;n++){if(t[n]===10&&t[n+1]===10||t[n]===13&&t[n+1]===13)return n+2;if(t[n]===13&&t[n+1]===10&&n+3<t.length&&t[n+2]===13&&t[n+3]===10)return n+4}return-1}var B7={off:0,error:200,warn:300,info:400,debug:500},uQ=(t,e,r)=>{if(t){if(RCe(B7,t))return t;Xi(r).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(B7))}`)}};function L4(){}function L7(t,e,r){return!e||B7[t]>B7[r]?L4:e[t].bind(e)}var abt={error:L4,warn:L4,info:L4,debug:L4},zCe=new WeakMap;function Xi(t){let e=t.logger,r=t.logLevel??"off";if(!e)return abt;let n=zCe.get(e);if(n&&n[0]===r)return n[1];let i={error:L7("error",e,r),warn:L7("warn",e,r),info:L7("info",e,r),debug:L7("debug",e,r)};return zCe.set(e,[r,i]),i}var vp=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,r])=>[e,e.toLowerCase()==="x-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var B4,Vu=class t{constructor(e,r,n){this.iterator=e,B4.set(this,void 0),this.controller=r,Ge(this,B4,n,"f")}static fromSSEResponse(e,r,n){let i=!1,o=n?Xi(n):console;async function*s(){if(i)throw new lt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let a=!1;try{for await(let c of cbt(e,r)){if(c.event==="completion")try{yield JSON.parse(c.data)}catch(l){throw o.error("Could not parse message into JSON:",c.data),o.error("From chunk:",c.raw),l}if(c.event==="message_start"||c.event==="message_delta"||c.event==="message_stop"||c.event==="content_block_start"||c.event==="content_block_delta"||c.event==="content_block_stop")try{yield JSON.parse(c.data)}catch(l){throw o.error("Could not parse message into JSON:",c.data),o.error("From chunk:",c.raw),l}if(c.event!=="ping"&&c.event==="error")throw new Zi(void 0,M7(c.data)??c.data,void 0,e.headers)}a=!0}catch(c){if(yp(c))return;throw c}finally{a||r.abort()}}return new t(s,r,n)}static fromReadableStream(e,r,n){let i=!1;async function*o(){let a=new bp,c=M4(e);for await(let l of c)for(let u of a.decode(l))yield u;for(let l of a.flush())yield l}async function*s(){if(i)throw new lt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let a=!1;try{for await(let c of o())a||c&&(yield JSON.parse(c));a=!0}catch(c){if(yp(c))return;throw c}finally{a||r.abort()}}return new t(s,r,n)}[(B4=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){let e=[],r=[],n=this.iterator(),i=o=>({next:()=>{if(o.length===0){let s=n.next();e.push(s),r.push(s)}return o.shift()}});return[new t(()=>i(e),this.controller,ae(this,B4,"f")),new t(()=>i(r),this.controller,ae(this,B4,"f"))]}toReadableStream(){let e=this,r;return cQ({async start(){r=e[Symbol.asyncIterator]()},async pull(n){try{let{value:i,done:o}=await r.next();if(o)return n.close();let s=$4(JSON.stringify(i)+`
`);n.enqueue(s)}catch(i){n.error(i)}},async cancel(){await r.return?.()}})}};async function*cbt(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new lt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new lt("Attempted to iterate over a response with no body");let r=new dQ,n=new bp,i=M4(t.body);for await(let o of lbt(i))for(let s of n.decode(o)){let a=r.decode(s);a&&(yield a)}for(let o of n.flush()){let s=r.decode(o);s&&(yield s)}}async function*lbt(t){let e=new Uint8Array;for await(let r of t){if(r==null)continue;let n=r instanceof ArrayBuffer?new Uint8Array(r):typeof r=="string"?$4(r):r,i=new Uint8Array(e.length+n.length);i.set(e),i.set(n,e.length),e=i;let o;for(;(o=FCe(e))!==-1;)yield e.slice(0,o),e=e.slice(o)}e.length>0&&(yield e)}var dQ=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;let o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[r,n,i]=ubt(e,":");return i.startsWith(" ")&&(i=i.substring(1)),r==="event"?this.event=i:r==="data"&&this.data.push(i),null}};function ubt(t,e){let r=t.indexOf(e);return r!==-1?[t.substring(0,r),e,t.substring(r+e.length)]:[t,"",""]}async function U7(t,e){let{response:r,requestLogID:n,retryOfRequestLogID:i,startTime:o}=e,s=await(async()=>{if(e.options.stream)return Xi(t).debug("response",r.status,r.url,r.headers,r.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(r,e.controller):Vu.fromSSEResponse(r,e.controller);if(r.status===204)return null;if(e.options.__binaryResponse)return r;let c=r.headers.get("content-type")?.split(";")[0]?.trim();if(c?.includes("application/json")||c?.endsWith("+json")){let d=await r.json();return pQ(d,r)}return await r.text()})();return Xi(t).debug(`[${n}] response parsed`,vp({retryOfRequestLogID:i,url:r.url,status:r.status,body:s,durationMs:Date.now()-o})),s}function pQ(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("request-id"),enumerable:!1})}var U4,O0=class t extends Promise{constructor(e,r,n=U7){super(i=>{i(null)}),this.responsePromise=r,this.parseResponse=n,U4.set(this,void 0),Ge(this,U4,e,"f")}_thenUnwrap(e){return new t(ae(this,U4,"f"),this.responsePromise,async(r,n)=>pQ(e(await this.parseResponse(r,n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){let[e,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:r,request_id:r.headers.get("request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(ae(this,U4,"f"),e))),this.parsedPromise}then(e,r){return this.parse().then(e,r)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}};U4=new WeakMap;var F7,z7=class{constructor(e,r,n,i){F7.set(this,void 0),Ge(this,F7,e,"f"),this.options=i,this.response=r,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){let e=this.nextPageRequestOptions();if(!e)throw new lt("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await ae(this,F7,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(F7=new WeakMap,Symbol.asyncIterator)](){for await(let e of this.iterPages())for(let r of e.getPaginatedItems())yield r}},F4=class extends O0{constructor(e,r,n){super(e,r,async(i,o)=>new n(i,o.response,await U7(i,o),o.options))}async*[Symbol.asyncIterator](){let e=await this;for await(let r of e)yield r}},rl=class extends z7{constructor(e,r,n,i){super(e,r,n,i),this.data=n.data||[],this.has_more=n.has_more||!1,this.first_id=n.first_id||null,this.last_id=n.last_id||null}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){if(this.options.query?.before_id){let r=this.first_id;return r?{...this.options,query:{...D7(this.options.query),before_id:r}}:null}let e=this.last_id;return e?{...this.options,query:{...D7(this.options.query),after_id:e}}:null}};var o_=class extends z7{constructor(e,r,n,i){super(e,r,n,i),this.data=n.data||[],this.has_more=n.has_more||!1,this.next_page=n.next_page||null}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){let e=this.next_page;return e?{...this.options,query:{...D7(this.options.query),page:e}}:null}};var fQ=()=>{if(typeof File>"u"){let{process:t}=globalThis,e=typeof t?.versions?.node=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(e?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function N0(t,e,r){return fQ(),new File(t,e??"unknown_file",r)}function z4(t,e){let r=typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"";return e?r.split(/[\\/]/).pop()||void 0:r}var hQ=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";var s_=async(t,e,r=!0)=>({...t,body:await mbt(t.body,e,r)}),VCe=new WeakMap;function pbt(t){let e=typeof t=="function"?t:t.fetch,r=VCe.get(e);if(r)return r;let n=(async()=>{try{let i="Response"in e?e.Response:(await e("data:,")).constructor,o=new FormData;return o.toString()!==await new i(o).text()}catch{return!0}})();return VCe.set(e,n),n}var mbt=async(t,e,r=!0)=>{if(!await pbt(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");let n=new FormData;return await Promise.all(Object.entries(t||{}).map(([i,o])=>mQ(n,i,o,r))),n},fbt=t=>t instanceof Blob&&"name"in t;var mQ=async(t,e,r,n)=>{if(r!==void 0){if(r==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")t.append(e,String(r));else if(r instanceof Response){let i={},o=r.headers.get("Content-Type");o&&(i={type:o}),t.append(e,N0([await r.blob()],z4(r,n),i))}else if(hQ(r))t.append(e,N0([await new Response($7(r)).blob()],z4(r,n)));else if(fbt(r))t.append(e,N0([r],z4(r,n),{type:r.type}));else if(Array.isArray(r))await Promise.all(r.map(i=>mQ(t,e+"[]",i,n)));else if(typeof r=="object")await Promise.all(Object.entries(r).map(([i,o])=>mQ(t,`${e}[${i}]`,o,n)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${r} instead`)}};var jCe=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",hbt=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&jCe(t),gbt=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function V7(t,e,r){if(fQ(),t=await t,e||(e=z4(t,!0)),hbt(t))return t instanceof File&&e==null&&r==null?t:N0([await t.arrayBuffer()],e??t.name,{type:t.type,lastModified:t.lastModified,...r});if(gbt(t)){let i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),N0(await gQ(i),e,r)}let n=await gQ(t);if(!r?.type){let i=n.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(r={...r,type:i})}return N0(n,e,r)}async function gQ(t){let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(jCe(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(hQ(t))for await(let r of t)e.push(...await gQ(r));else{let r=t?.constructor?.name;throw new Error(`Unexpected data type: ${typeof t}${r?`; constructor: ${r}`:""}${ybt(t)}`)}return e}function ybt(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(r=>`"${r}"`).join(", ")}]`}var Tn=class{constructor(e){this._client=e}};var qCe=Symbol.for("brand.privateNullableHeaders");function*vbt(t){if(!t)return;if(qCe in t){let{values:n,nulls:i}=t;yield*n.entries();for(let o of i)yield[o,null];return}let e=!1,r;t instanceof Headers?r=t.entries():aQ(t)?r=t:(e=!0,r=Object.entries(t??{}));for(let n of r){let i=n[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");let o=aQ(n[1])?n[1]:[n[1]],s=!1;for(let a of o)a!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,a])}}var $t=t=>{let e=new Headers,r=new Set;for(let n of t){let i=new Set;for(let[o,s]of vbt(n)){let a=o.toLowerCase();i.has(a)||(e.delete(o),i.add(a)),s===null?(e.delete(o),r.add(a)):(e.append(o,s),r.delete(a))}}return{[qCe]:!0,values:e,nulls:r}};var V4=Symbol("anthropic.sdk.stainlessHelper");function j7(t){return typeof t=="object"&&t!==null&&V4 in t}function yQ(t,e){let r=new Set;if(t)for(let n of t)j7(n)&&r.add(n[V4]);if(e){for(let n of e)if(j7(n)&&r.add(n[V4]),Array.isArray(n.content))for(let i of n.content)j7(i)&&r.add(i[V4])}return Array.from(r)}function q7(t,e){let r=yQ(t,e);return r.length===0?{}:{"x-stainless-helper":r.join(", ")}}function HCe(t){return j7(t)?{"x-stainless-helper":t[V4]}:{}}function GCe(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}var WCe=Object.freeze(Object.create(null)),_bt=(t=GCe)=>function(r,...n){if(r.length===1)return r[0];let i=!1,o=[],s=r.reduce((u,d,p)=>{/[?#]/.test(d)&&(i=!0);let m=n[p],h=(i?encodeURIComponent:t)(""+m);return p!==n.length&&(m==null||typeof m=="object"&&m.toString===Object.getPrototypeOf(Object.getPrototypeOf(m.hasOwnProperty??WCe)??WCe)?.toString)&&(h=m+"",o.push({start:u.length+d.length,length:h.length,error:`Value of type ${Object.prototype.toString.call(m).slice(8,-1)} is not a valid path parameter`})),u+d+(p===n.length?"":h)},""),a=s.split(/[?#]/,1)[0],c=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi,l;for(;(l=c.exec(a))!==null;)o.push({start:l.index,length:l[0].length,error:`Value "${l[0]}" can't be safely passed as a path parameter`});if(o.sort((u,d)=>u.start-d.start),o.length>0){let u=0,d=o.reduce((p,m)=>{let h=" ".repeat(m.start-u),f="^".repeat(m.length);return u=m.start+m.length,p+h+f},"");throw new lt(`Path parameters result in path with invalid segments:
${o.map(p=>p.error).join(`
`)}
${s}
${d}`)}return s},In=_bt(GCe);var a_=class extends Tn{list(e={},r){let{betas:n,...i}=e??{};return this._client.getAPIList("/v1/files",rl,{query:i,...r,headers:$t([{"anthropic-beta":[...n??[],"files-api-2025-04-14"].toString()},r?.headers])})}delete(e,r={},n){let{betas:i}=r??{};return this._client.delete(In`/v1/files/${e}`,{...n,headers:$t([{"anthropic-beta":[...i??[],"files-api-2025-04-14"].toString()},n?.headers])})}download(e,r={},n){let{betas:i}=r??{};return this._client.get(In`/v1/files/${e}/content`,{...n,headers:$t([{"anthropic-beta":[...i??[],"files-api-2025-04-14"].toString(),Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}retrieveMetadata(e,r={},n){let{betas:i}=r??{};return this._client.get(In`/v1/files/${e}`,{...n,headers:$t([{"anthropic-beta":[...i??[],"files-api-2025-04-14"].toString()},n?.headers])})}upload(e,r){let{betas:n,...i}=e;return this._client.post("/v1/files",s_({body:i,...r,headers:$t([{"anthropic-beta":[...n??[],"files-api-2025-04-14"].toString()},HCe(i.file),r?.headers])},this._client))}};var c_=class extends Tn{retrieve(e,r={},n){let{betas:i}=r??{};return this._client.get(In`/v1/models/${e}?beta=true`,{...n,headers:$t([{...i?.toString()!=null?{"anthropic-beta":i?.toString()}:void 0},n?.headers])})}list(e={},r){let{betas:n,...i}=e??{};return this._client.getAPIList("/v1/models?beta=true",rl,{query:i,...r,headers:$t([{...n?.toString()!=null?{"anthropic-beta":n?.toString()}:void 0},r?.headers])})}};var H7={"claude-opus-4-20250514":8192,"claude-opus-4-0":8192,"claude-4-opus-20250514":8192,"anthropic.claude-opus-4-20250514-v1:0":8192,"claude-opus-4@20250514":8192,"claude-opus-4-1-20250805":8192,"anthropic.claude-opus-4-1-20250805-v1:0":8192,"claude-opus-4-1@20250805":8192};function KCe(t){return t?.output_format??t?.output_config?.format}function bQ(t,e,r){let n=KCe(e);return!e||!("parse"in(n??{}))?{...t,content:t.content.map(i=>{if(i.type==="text"){let o=Object.defineProperty({...i},"parsed_output",{value:null,enumerable:!1});return Object.defineProperty(o,"parsed",{get(){return r.logger.warn("The `parsed` property on `text` blocks is deprecated, please use `parsed_output` instead."),null},enumerable:!1})}return i}),parsed_output:null}:vQ(t,e,r)}function vQ(t,e,r){let n=null,i=t.content.map(o=>{if(o.type==="text"){let s=xbt(e,o.text);n===null&&(n=s);let a=Object.defineProperty({...o},"parsed_output",{value:s,enumerable:!1});return Object.defineProperty(a,"parsed",{get(){return r.logger.warn("The `parsed` property on `text` blocks is deprecated, please use `parsed_output` instead."),s},enumerable:!1})}return o});return{...t,content:i,parsed_output:n}}function xbt(t,e){let r=KCe(t);if(r?.type!=="json_schema")return null;try{return"parse"in r?r.parse(e):JSON.parse(e)}catch(n){throw new lt(`Failed to parse structured output: ${n}`)}}var Abt=t=>{let e=0,r=[];for(;e<t.length;){let n=t[e];if(n==="\\"){e++;continue}if(n==="{"){r.push({type:"brace",value:"{"}),e++;continue}if(n==="}"){r.push({type:"brace",value:"}"}),e++;continue}if(n==="["){r.push({type:"paren",value:"["}),e++;continue}if(n==="]"){r.push({type:"paren",value:"]"}),e++;continue}if(n===":"){r.push({type:"separator",value:":"}),e++;continue}if(n===","){r.push({type:"delimiter",value:","}),e++;continue}if(n==='"'){let a="",c=!1;for(n=t[++e];n!=='"';){if(e===t.length){c=!0;break}if(n==="\\"){if(e++,e===t.length){c=!0;break}a+=n+t[e],n=t[++e]}else a+=n,n=t[++e]}n=t[++e],c||r.push({type:"string",value:a});continue}if(n&&/\s/.test(n)){e++;continue}let o=/[0-9]/;if(n&&o.test(n)||n==="-"||n==="."){let a="";for(n==="-"&&(a+=n,n=t[++e]);n&&o.test(n)||n===".";)a+=n,n=t[++e];r.push({type:"number",value:a});continue}let s=/[a-z]/i;if(n&&s.test(n)){let a="";for(;n&&s.test(n)&&e!==t.length;)a+=n,n=t[++e];if(a=="true"||a=="false"||a==="null")r.push({type:"name",value:a});else{e++;continue}continue}e++}return r},l_=t=>{if(t.length===0)return t;let e=t[t.length-1];switch(e.type){case"separator":return t=t.slice(0,t.length-1),l_(t);break;case"number":let r=e.value[e.value.length-1];if(r==="."||r==="-")return t=t.slice(0,t.length-1),l_(t);case"string":let n=t[t.length-2];if(n?.type==="delimiter")return t=t.slice(0,t.length-1),l_(t);if(n?.type==="brace"&&n.value==="{")return t=t.slice(0,t.length-1),l_(t);break;case"delimiter":return t=t.slice(0,t.length-1),l_(t);break}return t},Ebt=t=>{let e=[];return t.map(r=>{r.type==="brace"&&(r.value==="{"?e.push("}"):e.splice(e.lastIndexOf("}"),1)),r.type==="paren"&&(r.value==="["?e.push("]"):e.splice(e.lastIndexOf("]"),1))}),e.length>0&&e.reverse().map(r=>{r==="}"?t.push({type:"brace",value:"}"}):r==="]"&&t.push({type:"paren",value:"]"})}),t},Rbt=t=>{let e="";return t.map(r=>{switch(r.type){case"string":e+='"'+r.value+'"';break;default:e+=r.value;break}}),e},W7=t=>JSON.parse(Rbt(Ebt(l_(Abt(t)))));var nl,Uf,u_,j4,G7,q4,H4,K7,W4,_p,G4,Y7,J7,P0,Q7,Z7,K4,_Q,YCe,X7,SQ,wQ,xQ,JCe,QCe="__json_buf";function ZCe(t){return t.type==="tool_use"||t.type==="server_tool_use"||t.type==="mcp_tool_use"}var eO=class t{constructor(e,r){nl.add(this),this.messages=[],this.receivedMessages=[],Uf.set(this,void 0),u_.set(this,null),this.controller=new AbortController,j4.set(this,void 0),G7.set(this,()=>{}),q4.set(this,()=>{}),H4.set(this,void 0),K7.set(this,()=>{}),W4.set(this,()=>{}),_p.set(this,{}),G4.set(this,!1),Y7.set(this,!1),J7.set(this,!1),P0.set(this,!1),Q7.set(this,void 0),Z7.set(this,void 0),K4.set(this,void 0),X7.set(this,n=>{if(Ge(this,Y7,!0,"f"),yp(n)&&(n=new yo),n instanceof yo)return Ge(this,J7,!0,"f"),this._emit("abort",n);if(n instanceof lt)return this._emit("error",n);if(n instanceof Error){let i=new lt(n.message);return i.cause=n,this._emit("error",i)}return this._emit("error",new lt(String(n)))}),Ge(this,j4,new Promise((n,i)=>{Ge(this,G7,n,"f"),Ge(this,q4,i,"f")}),"f"),Ge(this,H4,new Promise((n,i)=>{Ge(this,K7,n,"f"),Ge(this,W4,i,"f")}),"f"),ae(this,j4,"f").catch(()=>{}),ae(this,H4,"f").catch(()=>{}),Ge(this,u_,e,"f"),Ge(this,K4,r?.logger??console,"f")}get response(){return ae(this,Q7,"f")}get request_id(){return ae(this,Z7,"f")}async withResponse(){Ge(this,P0,!0,"f");let e=await ae(this,j4,"f");if(!e)throw new Error("Could not resolve a `Response` object");return{data:this,response:e,request_id:e.headers.get("request-id")}}static fromReadableStream(e){let r=new t(null);return r._run(()=>r._fromReadableStream(e)),r}static createMessage(e,r,n,{logger:i}={}){let o=new t(r,{logger:i});for(let s of r.messages)o._addMessageParam(s);return Ge(o,u_,{...r,stream:!0},"f"),o._run(()=>o._createMessage(e,{...r,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),o}_run(e){e().then(()=>{this._emitFinal(),this._emit("end")},ae(this,X7,"f"))}_addMessageParam(e){this.messages.push(e)}_addMessage(e,r=!0){this.receivedMessages.push(e),r&&this._emit("message",e)}async _createMessage(e,r,n){let i=n?.signal,o;i&&(i.aborted&&this.controller.abort(),o=this.controller.abort.bind(this.controller),i.addEventListener("abort",o));try{ae(this,nl,"m",SQ).call(this);let{response:s,data:a}=await e.create({...r,stream:!0},{...n,signal:this.controller.signal}).withResponse();this._connected(s);for await(let c of a)ae(this,nl,"m",wQ).call(this,c);if(a.controller.signal?.aborted)throw new yo;ae(this,nl,"m",xQ).call(this)}finally{i&&o&&i.removeEventListener("abort",o)}}_connected(e){this.ended||(Ge(this,Q7,e,"f"),Ge(this,Z7,e?.headers.get("request-id"),"f"),ae(this,G7,"f").call(this,e),this._emit("connect"))}get ended(){return ae(this,G4,"f")}get errored(){return ae(this,Y7,"f")}get aborted(){return ae(this,J7,"f")}abort(){this.controller.abort()}on(e,r){return(ae(this,_p,"f")[e]||(ae(this,_p,"f")[e]=[])).push({listener:r}),this}off(e,r){let n=ae(this,_p,"f")[e];if(!n)return this;let i=n.findIndex(o=>o.listener===r);return i>=0&&n.splice(i,1),this}once(e,r){return(ae(this,_p,"f")[e]||(ae(this,_p,"f")[e]=[])).push({listener:r,once:!0}),this}emitted(e){return new Promise((r,n)=>{Ge(this,P0,!0,"f"),e!=="error"&&this.once("error",n),this.once(e,r)})}async done(){Ge(this,P0,!0,"f"),await ae(this,H4,"f")}get currentMessage(){return ae(this,Uf,"f")}async finalMessage(){return await this.done(),ae(this,nl,"m",_Q).call(this)}async finalText(){return await this.done(),ae(this,nl,"m",YCe).call(this)}_emit(e,...r){if(ae(this,G4,"f"))return;e==="end"&&(Ge(this,G4,!0,"f"),ae(this,K7,"f").call(this));let n=ae(this,_p,"f")[e];if(n&&(ae(this,_p,"f")[e]=n.filter(i=>!i.once),n.forEach(({listener:i})=>i(...r))),e==="abort"){let i=r[0];!ae(this,P0,"f")&&!n?.length&&Promise.reject(i),ae(this,q4,"f").call(this,i),ae(this,W4,"f").call(this,i),this._emit("end");return}if(e==="error"){let i=r[0];!ae(this,P0,"f")&&!n?.length&&Promise.reject(i),ae(this,q4,"f").call(this,i),ae(this,W4,"f").call(this,i),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",ae(this,nl,"m",_Q).call(this))}async _fromReadableStream(e,r){let n=r?.signal,i;n&&(n.aborted&&this.controller.abort(),i=this.controller.abort.bind(this.controller),n.addEventListener("abort",i));try{ae(this,nl,"m",SQ).call(this),this._connected(null);let o=Vu.fromReadableStream(e,this.controller);for await(let s of o)ae(this,nl,"m",wQ).call(this,s);if(o.controller.signal?.aborted)throw new yo;ae(this,nl,"m",xQ).call(this)}finally{n&&i&&n.removeEventListener("abort",i)}}[(Uf=new WeakMap,u_=new WeakMap,j4=new WeakMap,G7=new WeakMap,q4=new WeakMap,H4=new WeakMap,K7=new WeakMap,W4=new WeakMap,_p=new WeakMap,G4=new WeakMap,Y7=new WeakMap,J7=new WeakMap,P0=new WeakMap,Q7=new WeakMap,Z7=new WeakMap,K4=new WeakMap,X7=new WeakMap,nl=new WeakSet,_Q=function(){if(this.receivedMessages.length===0)throw new lt("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},YCe=function(){if(this.receivedMessages.length===0)throw new lt("stream ended without producing a Message with role=assistant");let r=this.receivedMessages.at(-1).content.filter(n=>n.type==="text").map(n=>n.text);if(r.length===0)throw new lt("stream ended without producing a content block with type=text");return r.join(" ")},SQ=function(){this.ended||Ge(this,Uf,void 0,"f")},wQ=function(r){if(this.ended)return;let n=ae(this,nl,"m",JCe).call(this,r);switch(this._emit("streamEvent",r,n),r.type){case"content_block_delta":{let i=n.content.at(-1);switch(r.delta.type){case"text_delta":{i.type==="text"&&this._emit("text",r.delta.text,i.text||"");break}case"citations_delta":{i.type==="text"&&this._emit("citation",r.delta.citation,i.citations??[]);break}case"input_json_delta":{ZCe(i)&&i.input&&this._emit("inputJson",r.delta.partial_json,i.input);break}case"thinking_delta":{i.type==="thinking"&&this._emit("thinking",r.delta.thinking,i.thinking);break}case"signature_delta":{i.type==="thinking"&&this._emit("signature",i.signature);break}default:r.delta}break}case"message_stop":{this._addMessageParam(n),this._addMessage(bQ(n,ae(this,u_,"f"),{logger:ae(this,K4,"f")}),!0);break}case"content_block_stop":{this._emit("contentBlock",n.content.at(-1));break}case"message_start":{Ge(this,Uf,n,"f");break}case"content_block_start":case"message_delta":break}},xQ=function(){if(this.ended)throw new lt("stream has ended, this shouldn't happen");let r=ae(this,Uf,"f");if(!r)throw new lt("request ended without sending any chunks");return Ge(this,Uf,void 0,"f"),bQ(r,ae(this,u_,"f"),{logger:ae(this,K4,"f")})},JCe=function(r){let n=ae(this,Uf,"f");if(r.type==="message_start"){if(n)throw new lt(`Unexpected event order, got ${r.type} before receiving "message_stop"`);return r.message}if(!n)throw new lt(`Unexpected event order, got ${r.type} before "message_start"`);switch(r.type){case"message_stop":return n;case"message_delta":return n.container=r.delta.container,n.stop_reason=r.delta.stop_reason,n.stop_sequence=r.delta.stop_sequence,n.usage.output_tokens=r.usage.output_tokens,n.context_management=r.context_management,r.usage.input_tokens!=null&&(n.usage.input_tokens=r.usage.input_tokens),r.usage.cache_creation_input_tokens!=null&&(n.usage.cache_creation_input_tokens=r.usage.cache_creation_input_tokens),r.usage.cache_read_input_tokens!=null&&(n.usage.cache_read_input_tokens=r.usage.cache_read_input_tokens),r.usage.server_tool_use!=null&&(n.usage.server_tool_use=r.usage.server_tool_use),n;case"content_block_start":return n.content.push(r.content_block),n;case"content_block_delta":{let i=n.content.at(r.index);switch(r.delta.type){case"text_delta":{i?.type==="text"&&(n.content[r.index]={...i,text:(i.text||"")+r.delta.text});break}case"citations_delta":{i?.type==="text"&&(n.content[r.index]={...i,citations:[...i.citations??[],r.delta.citation]});break}case"input_json_delta":{if(i&&ZCe(i)){let o=i[QCe]||"";o+=r.delta.partial_json;let s={...i};if(Object.defineProperty(s,QCe,{value:o,enumerable:!1,writable:!0}),o)try{s.input=W7(o)}catch(a){let c=new lt(`Unable to parse tool parameter JSON from model. Please retry your request or adjust your prompt. Error: ${a}. JSON: ${o}`);ae(this,X7,"f").call(this,c)}n.content[r.index]=s}break}case"thinking_delta":{i?.type==="thinking"&&(n.content[r.index]={...i,thinking:i.thinking+r.delta.thinking});break}case"signature_delta":{i?.type==="thinking"&&(n.content[r.index]={...i,signature:r.delta.signature});break}default:r.delta}return n}case"content_block_stop":return n}},Symbol.asyncIterator)](){let e=[],r=[],n=!1;return this.on("streamEvent",i=>{let o=r.shift();o?o.resolve(i):e.push(i)}),this.on("end",()=>{n=!0;for(let i of r)i.resolve(void 0);r.length=0}),this.on("abort",i=>{n=!0;for(let o of r)o.reject(i);r.length=0}),this.on("error",i=>{n=!0;for(let o of r)o.reject(i);r.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((o,s)=>r.push({resolve:o,reject:s})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Vu(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}};var k0=class extends Error{constructor(e){let r=typeof e=="string"?e:e.map(n=>n.type==="text"?n.text:`[${n.type}]`).join(" ");super(r),this.name="ToolError",this.content=e}};var XCe=`You have been working on the task described above but have not yet completed it. Write a continuation summary that will allow you (or another instance of yourself) to resume work efficiently in a future context window where the conversation history will be replaced with this summary. Your summary should be structured, concise, and actionable. Include:
1. Task Overview
The user's core request and success criteria
Any clarifications or constraints they specified
2. Current State
What has been completed so far
Files created, modified, or analyzed (with paths if relevant)
Key outputs or artifacts produced
3. Important Discoveries
Technical constraints or requirements uncovered
Decisions made and their rationale
Errors encountered and how they were resolved
What approaches were tried that didn't work (and why)
4. Next Steps
Specific actions needed to complete the task
Any blockers or open questions to resolve
Priority order if multiple steps remain
5. Context to Preserve
User preferences or style requirements
Domain-specific details that aren't obvious
Any promises made to the user
Be concise but complete\u2014err on the side of including information that would prevent duplicate work or repeated mistakes. Write in a way that enables immediate resumption of the task.
Wrap your summary in <summary></summary> tags.`;var Y4,d_,D0,Bi,J4,La,Sp,Ff,Q4,e9e,AQ;function t9e(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}}var p_=class{constructor(e,r,n){Y4.add(this),this.client=e,d_.set(this,!1),D0.set(this,!1),Bi.set(this,void 0),J4.set(this,void 0),La.set(this,void 0),Sp.set(this,void 0),Ff.set(this,void 0),Q4.set(this,0),Ge(this,Bi,{params:{...r,messages:structuredClone(r.messages)}},"f");let o=["BetaToolRunner",...yQ(r.tools,r.messages)].join(", ");Ge(this,J4,{...n,headers:$t([{"x-stainless-helper":o},n?.headers])},"f"),Ge(this,Ff,t9e(),"f")}async*[(d_=new WeakMap,D0=new WeakMap,Bi=new WeakMap,J4=new WeakMap,La=new WeakMap,Sp=new WeakMap,Ff=new WeakMap,Q4=new WeakMap,Y4=new WeakSet,e9e=async function(){let r=ae(this,Bi,"f").params.compactionControl;if(!r||!r.enabled)return!1;let n=0;if(ae(this,La,"f")!==void 0)try{let l=await ae(this,La,"f");n=l.usage.input_tokens+(l.usage.cache_creation_input_tokens??0)+(l.usage.cache_read_input_tokens??0)+l.usage.output_tokens}catch{return!1}let i=r.contextTokenThreshold??1e5;if(n<i)return!1;let o=r.model??ae(this,Bi,"f").params.model,s=r.summaryPrompt??XCe,a=ae(this,Bi,"f").params.messages;if(a[a.length-1].role==="assistant"){let l=a[a.length-1];if(Array.isArray(l.content)){let u=l.content.filter(d=>d.type!=="tool_use");u.length===0?a.pop():l.content=u}}let c=await this.client.beta.messages.create({model:o,messages:[...a,{role:"user",content:[{type:"text",text:s}]}],max_tokens:ae(this,Bi,"f").params.max_tokens},{headers:{"x-stainless-helper":"compaction"}});if(c.content[0]?.type!=="text")throw new lt("Expected text response for compaction");return ae(this,Bi,"f").params.messages=[{role:"user",content:c.content}],!0},Symbol.asyncIterator)](){var e;if(ae(this,d_,"f"))throw new lt("Cannot iterate over a consumed stream");Ge(this,d_,!0,"f"),Ge(this,D0,!0,"f"),Ge(this,Sp,void 0,"f");try{for(;;){let r;try{if(ae(this,Bi,"f").params.max_iterations&&ae(this,Q4,"f")>=ae(this,Bi,"f").params.max_iterations)break;Ge(this,D0,!1,"f"),Ge(this,Sp,void 0,"f"),Ge(this,Q4,(e=ae(this,Q4,"f"),e++,e),"f"),Ge(this,La,void 0,"f");let{max_iterations:n,compactionControl:i,...o}=ae(this,Bi,"f").params;if(o.stream?(r=this.client.beta.messages.stream({...o},ae(this,J4,"f")),Ge(this,La,r.finalMessage(),"f"),ae(this,La,"f").catch(()=>{}),yield r):(Ge(this,La,this.client.beta.messages.create({...o,stream:!1},ae(this,J4,"f")),"f"),yield ae(this,La,"f")),!await ae(this,Y4,"m",e9e).call(this)){if(!ae(this,D0,"f")){let{role:c,content:l}=await ae(this,La,"f");ae(this,Bi,"f").params.messages.push({role:c,content:l})}let a=await ae(this,Y4,"m",AQ).call(this,ae(this,Bi,"f").params.messages.at(-1));if(a)ae(this,Bi,"f").params.messages.push(a);else if(!ae(this,D0,"f"))break}}finally{r&&r.abort()}}if(!ae(this,La,"f"))throw new lt("ToolRunner concluded without a message from the server");ae(this,Ff,"f").resolve(await ae(this,La,"f"))}catch(r){throw Ge(this,d_,!1,"f"),ae(this,Ff,"f").promise.catch(()=>{}),ae(this,Ff,"f").reject(r),Ge(this,Ff,t9e(),"f"),r}}setMessagesParams(e){typeof e=="function"?ae(this,Bi,"f").params=e(ae(this,Bi,"f").params):ae(this,Bi,"f").params=e,Ge(this,D0,!0,"f"),Ge(this,Sp,void 0,"f")}async generateToolResponse(){let e=await ae(this,La,"f")??this.params.messages.at(-1);return e?ae(this,Y4,"m",AQ).call(this,e):null}done(){return ae(this,Ff,"f").promise}async runUntilDone(){if(!ae(this,d_,"f"))for await(let e of this);return this.done()}get params(){return ae(this,Bi,"f").params}pushMessages(...e){this.setMessagesParams(r=>({...r,messages:[...r.messages,...e]}))}then(e,r){return this.runUntilDone().then(e,r)}};AQ=async function(e){return ae(this,Sp,"f")!==void 0?ae(this,Sp,"f"):(Ge(this,Sp,Ibt(ae(this,Bi,"f").params,e),"f"),ae(this,Sp,"f"))};async function Ibt(t,e=t.messages.at(-1)){if(!e||e.role!=="assistant"||!e.content||typeof e.content=="string")return null;let r=e.content.filter(i=>i.type==="tool_use");return r.length===0?null:{role:"user",content:await Promise.all(r.map(async i=>{let o=t.tools.find(s=>("name"in s?s.name:s.mcp_server_name)===i.name);if(!o||!("run"in o))return{type:"tool_result",tool_use_id:i.id,content:`Error: Tool '${i.name}' not found`,is_error:!0};try{let s=i.input;"parse"in o&&o.parse&&(s=o.parse(s));let a=await o.run(s);return{type:"tool_result",tool_use_id:i.id,content:a}}catch(s){return{type:"tool_result",tool_use_id:i.id,content:s instanceof k0?s.content:`Error: ${s instanceof Error?s.message:String(s)}`,is_error:!0}}}))}}var m_=class t{constructor(e,r){this.iterator=e,this.controller=r}async*decoder(){let e=new bp;for await(let r of this.iterator)for(let n of e.decode(r))yield JSON.parse(n);for(let r of e.flush())yield JSON.parse(r)}[Symbol.asyncIterator](){return this.decoder()}static fromResponse(e,r){if(!e.body)throw r.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new lt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new lt("Attempted to iterate over a response with no body");return new t(M4(e.body),r)}};var f_=class extends Tn{create(e,r){let{betas:n,...i}=e;return this._client.post("/v1/messages/batches?beta=true",{body:i,...r,headers:$t([{"anthropic-beta":[...n??[],"message-batches-2024-09-24"].toString()},r?.headers])})}retrieve(e,r={},n){let{betas:i}=r??{};return this._client.get(In`/v1/messages/batches/${e}?beta=true`,{...n,headers:$t([{"anthropic-beta":[...i??[],"message-batches-2024-09-24"].toString()},n?.headers])})}list(e={},r){let{betas:n,...i}=e??{};return this._client.getAPIList("/v1/messages/batches?beta=true",rl,{query:i,...r,headers:$t([{"anthropic-beta":[...n??[],"message-batches-2024-09-24"].toString()},r?.headers])})}delete(e,r={},n){let{betas:i}=r??{};return this._client.delete(In`/v1/messages/batches/${e}?beta=true`,{...n,headers:$t([{"anthropic-beta":[...i??[],"message-batches-2024-09-24"].toString()},n?.headers])})}cancel(e,r={},n){let{betas:i}=r??{};return this._client.post(In`/v1/messages/batches/${e}/cancel?beta=true`,{...n,headers:$t([{"anthropic-beta":[...i??[],"message-batches-2024-09-24"].toString()},n?.headers])})}async results(e,r={},n){let i=await this.retrieve(e);if(!i.results_url)throw new lt(`No batch \`results_url\`; Has it finished processing? ${i.processing_status} - ${i.id}`);let{betas:o}=r??{};return this._client.get(i.results_url,{...n,headers:$t([{"anthropic-beta":[...o??[],"message-batches-2024-09-24"].toString(),Accept:"application/binary"},n?.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap((s,a)=>m_.fromResponse(a.response,a.controller))}};var r9e={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025","claude-3-7-sonnet-latest":"February 19th, 2026","claude-3-7-sonnet-20250219":"February 19th, 2026"},wp=class extends Tn{constructor(){super(...arguments),this.batches=new f_(this._client)}create(e,r){let n=n9e(e),{betas:i,...o}=n;o.model in r9e&&console.warn(`The model '${o.model}' is deprecated and will reach end-of-life on ${r9e[o.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let s=this._client._options.timeout;if(!o.stream&&s==null){let c=H7[o.model]??void 0;s=this._client.calculateNonstreamingTimeout(o.max_tokens,c)}let a=q7(o.tools,o.messages);return this._client.post("/v1/messages?beta=true",{body:o,timeout:s??6e5,...r,headers:$t([{...i?.toString()!=null?{"anthropic-beta":i?.toString()}:void 0},a,r?.headers]),stream:n.stream??!1})}parse(e,r){return r={...r,headers:$t([{"anthropic-beta":[...e.betas??[],"structured-outputs-2025-12-15"].toString()},r?.headers])},this.create(e,r).then(n=>vQ(n,e,{logger:this._client.logger??console}))}stream(e,r){return eO.createMessage(this,e,r)}countTokens(e,r){let n=n9e(e),{betas:i,...o}=n;return this._client.post("/v1/messages/count_tokens?beta=true",{body:o,...r,headers:$t([{"anthropic-beta":[...i??[],"token-counting-2024-11-01"].toString()},r?.headers])})}toolRunner(e,r){return new p_(this._client,e,r)}};function n9e(t){if(!t.output_format)return t;if(t.output_config?.format)throw new lt("Both output_format and output_config.format were provided. Please use only output_config.format (output_format is deprecated).");let{output_format:e,...r}=t;return{...r,output_config:{...t.output_config,format:e}}}wp.Batches=f_;wp.BetaToolRunner=p_;wp.ToolError=k0;var h_=class extends Tn{create(e,r={},n){let{betas:i,...o}=r??{};return this._client.post(In`/v1/skills/${e}/versions?beta=true`,s_({body:o,...n,headers:$t([{"anthropic-beta":[...i??[],"skills-2025-10-02"].toString()},n?.headers])},this._client))}retrieve(e,r,n){let{skill_id:i,betas:o}=r;return this._client.get(In`/v1/skills/${i}/versions/${e}?beta=true`,{...n,headers:$t([{"anthropic-beta":[...o??[],"skills-2025-10-02"].toString()},n?.headers])})}list(e,r={},n){let{betas:i,...o}=r??{};return this._client.getAPIList(In`/v1/skills/${e}/versions?beta=true`,o_,{query:o,...n,headers:$t([{"anthropic-beta":[...i??[],"skills-2025-10-02"].toString()},n?.headers])})}delete(e,r,n){let{skill_id:i,betas:o}=r;return this._client.delete(In`/v1/skills/${i}/versions/${e}?beta=true`,{...n,headers:$t([{"anthropic-beta":[...o??[],"skills-2025-10-02"].toString()},n?.headers])})}};var M0=class extends Tn{constructor(){super(...arguments),this.versions=new h_(this._client)}create(e={},r){let{betas:n,...i}=e??{};return this._client.post("/v1/skills?beta=true",s_({body:i,...r,headers:$t([{"anthropic-beta":[...n??[],"skills-2025-10-02"].toString()},r?.headers])},this._client,!1))}retrieve(e,r={},n){let{betas:i}=r??{};return this._client.get(In`/v1/skills/${e}?beta=true`,{...n,headers:$t([{"anthropic-beta":[...i??[],"skills-2025-10-02"].toString()},n?.headers])})}list(e={},r){let{betas:n,...i}=e??{};return this._client.getAPIList("/v1/skills?beta=true",o_,{query:i,...r,headers:$t([{"anthropic-beta":[...n??[],"skills-2025-10-02"].toString()},r?.headers])})}delete(e,r={},n){let{betas:i}=r??{};return this._client.delete(In`/v1/skills/${e}?beta=true`,{...n,headers:$t([{"anthropic-beta":[...i??[],"skills-2025-10-02"].toString()},n?.headers])})}};M0.Versions=h_;var Gl=class extends Tn{constructor(){super(...arguments),this.models=new c_(this._client),this.messages=new wp(this._client),this.files=new a_(this._client),this.skills=new M0(this._client)}};Gl.Models=c_;Gl.Messages=wp;Gl.Files=a_;Gl.Skills=M0;var $0=class extends Tn{create(e,r){let{betas:n,...i}=e;return this._client.post("/v1/complete",{body:i,timeout:this._client._options.timeout??6e5,...r,headers:$t([{...n?.toString()!=null?{"anthropic-beta":n?.toString()}:void 0},r?.headers]),stream:e.stream??!1})}};function i9e(t){return t?.output_config?.format}function EQ(t,e,r){let n=i9e(e);return!e||!("parse"in(n??{}))?{...t,content:t.content.map(i=>i.type==="text"?Object.defineProperty({...i},"parsed_output",{value:null,enumerable:!1}):i),parsed_output:null}:RQ(t,e,r)}function RQ(t,e,r){let n=null,i=t.content.map(o=>{if(o.type==="text"){let s=kbt(e,o.text);return n===null&&(n=s),Object.defineProperty({...o},"parsed_output",{value:s,enumerable:!1})}return o});return{...t,content:i,parsed_output:n}}function kbt(t,e){let r=i9e(t);if(r?.type!=="json_schema")return null;try{return"parse"in r?r.parse(e):JSON.parse(e)}catch(n){throw new lt(`Failed to parse structured output: ${n}`)}}var il,zf,g_,Z4,tO,X4,eA,rO,tA,xp,rA,nO,iO,L0,oO,sO,nA,TQ,o9e,IQ,CQ,OQ,NQ,s9e,a9e="__json_buf";function c9e(t){return t.type==="tool_use"||t.type==="server_tool_use"}var aO=class t{constructor(e,r){il.add(this),this.messages=[],this.receivedMessages=[],zf.set(this,void 0),g_.set(this,null),this.controller=new AbortController,Z4.set(this,void 0),tO.set(this,()=>{}),X4.set(this,()=>{}),eA.set(this,void 0),rO.set(this,()=>{}),tA.set(this,()=>{}),xp.set(this,{}),rA.set(this,!1),nO.set(this,!1),iO.set(this,!1),L0.set(this,!1),oO.set(this,void 0),sO.set(this,void 0),nA.set(this,void 0),IQ.set(this,n=>{if(Ge(this,nO,!0,"f"),yp(n)&&(n=new yo),n instanceof yo)return Ge(this,iO,!0,"f"),this._emit("abort",n);if(n instanceof lt)return this._emit("error",n);if(n instanceof Error){let i=new lt(n.message);return i.cause=n,this._emit("error",i)}return this._emit("error",new lt(String(n)))}),Ge(this,Z4,new Promise((n,i)=>{Ge(this,tO,n,"f"),Ge(this,X4,i,"f")}),"f"),Ge(this,eA,new Promise((n,i)=>{Ge(this,rO,n,"f"),Ge(this,tA,i,"f")}),"f"),ae(this,Z4,"f").catch(()=>{}),ae(this,eA,"f").catch(()=>{}),Ge(this,g_,e,"f"),Ge(this,nA,r?.logger??console,"f")}get response(){return ae(this,oO,"f")}get request_id(){return ae(this,sO,"f")}async withResponse(){Ge(this,L0,!0,"f");let e=await ae(this,Z4,"f");if(!e)throw new Error("Could not resolve a `Response` object");return{data:this,response:e,request_id:e.headers.get("request-id")}}static fromReadableStream(e){let r=new t(null);return r._run(()=>r._fromReadableStream(e)),r}static createMessage(e,r,n,{logger:i}={}){let o=new t(r,{logger:i});for(let s of r.messages)o._addMessageParam(s);return Ge(o,g_,{...r,stream:!0},"f"),o._run(()=>o._createMessage(e,{...r,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),o}_run(e){e().then(()=>{this._emitFinal(),this._emit("end")},ae(this,IQ,"f"))}_addMessageParam(e){this.messages.push(e)}_addMessage(e,r=!0){this.receivedMessages.push(e),r&&this._emit("message",e)}async _createMessage(e,r,n){let i=n?.signal,o;i&&(i.aborted&&this.controller.abort(),o=this.controller.abort.bind(this.controller),i.addEventListener("abort",o));try{ae(this,il,"m",CQ).call(this);let{response:s,data:a}=await e.create({...r,stream:!0},{...n,signal:this.controller.signal}).withResponse();this._connected(s);for await(let c of a)ae(this,il,"m",OQ).call(this,c);if(a.controller.signal?.aborted)throw new yo;ae(this,il,"m",NQ).call(this)}finally{i&&o&&i.removeEventListener("abort",o)}}_connected(e){this.ended||(Ge(this,oO,e,"f"),Ge(this,sO,e?.headers.get("request-id"),"f"),ae(this,tO,"f").call(this,e),this._emit("connect"))}get ended(){return ae(this,rA,"f")}get errored(){return ae(this,nO,"f")}get aborted(){return ae(this,iO,"f")}abort(){this.controller.abort()}on(e,r){return(ae(this,xp,"f")[e]||(ae(this,xp,"f")[e]=[])).push({listener:r}),this}off(e,r){let n=ae(this,xp,"f")[e];if(!n)return this;let i=n.findIndex(o=>o.listener===r);return i>=0&&n.splice(i,1),this}once(e,r){return(ae(this,xp,"f")[e]||(ae(this,xp,"f")[e]=[])).push({listener:r,once:!0}),this}emitted(e){return new Promise((r,n)=>{Ge(this,L0,!0,"f"),e!=="error"&&this.once("error",n),this.once(e,r)})}async done(){Ge(this,L0,!0,"f"),await ae(this,eA,"f")}get currentMessage(){return ae(this,zf,"f")}async finalMessage(){return await this.done(),ae(this,il,"m",TQ).call(this)}async finalText(){return await this.done(),ae(this,il,"m",o9e).call(this)}_emit(e,...r){if(ae(this,rA,"f"))return;e==="end"&&(Ge(this,rA,!0,"f"),ae(this,rO,"f").call(this));let n=ae(this,xp,"f")[e];if(n&&(ae(this,xp,"f")[e]=n.filter(i=>!i.once),n.forEach(({listener:i})=>i(...r))),e==="abort"){let i=r[0];!ae(this,L0,"f")&&!n?.length&&Promise.reject(i),ae(this,X4,"f").call(this,i),ae(this,tA,"f").call(this,i),this._emit("end");return}if(e==="error"){let i=r[0];!ae(this,L0,"f")&&!n?.length&&Promise.reject(i),ae(this,X4,"f").call(this,i),ae(this,tA,"f").call(this,i),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",ae(this,il,"m",TQ).call(this))}async _fromReadableStream(e,r){let n=r?.signal,i;n&&(n.aborted&&this.controller.abort(),i=this.controller.abort.bind(this.controller),n.addEventListener("abort",i));try{ae(this,il,"m",CQ).call(this),this._connected(null);let o=Vu.fromReadableStream(e,this.controller);for await(let s of o)ae(this,il,"m",OQ).call(this,s);if(o.controller.signal?.aborted)throw new yo;ae(this,il,"m",NQ).call(this)}finally{n&&i&&n.removeEventListener("abort",i)}}[(zf=new WeakMap,g_=new WeakMap,Z4=new WeakMap,tO=new WeakMap,X4=new WeakMap,eA=new WeakMap,rO=new WeakMap,tA=new WeakMap,xp=new WeakMap,rA=new WeakMap,nO=new WeakMap,iO=new WeakMap,L0=new WeakMap,oO=new WeakMap,sO=new WeakMap,nA=new WeakMap,IQ=new WeakMap,il=new WeakSet,TQ=function(){if(this.receivedMessages.length===0)throw new lt("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},o9e=function(){if(this.receivedMessages.length===0)throw new lt("stream ended without producing a Message with role=assistant");let r=this.receivedMessages.at(-1).content.filter(n=>n.type==="text").map(n=>n.text);if(r.length===0)throw new lt("stream ended without producing a content block with type=text");return r.join(" ")},CQ=function(){this.ended||Ge(this,zf,void 0,"f")},OQ=function(r){if(this.ended)return;let n=ae(this,il,"m",s9e).call(this,r);switch(this._emit("streamEvent",r,n),r.type){case"content_block_delta":{let i=n.content.at(-1);switch(r.delta.type){case"text_delta":{i.type==="text"&&this._emit("text",r.delta.text,i.text||"");break}case"citations_delta":{i.type==="text"&&this._emit("citation",r.delta.citation,i.citations??[]);break}case"input_json_delta":{c9e(i)&&i.input&&this._emit("inputJson",r.delta.partial_json,i.input);break}case"thinking_delta":{i.type==="thinking"&&this._emit("thinking",r.delta.thinking,i.thinking);break}case"signature_delta":{i.type==="thinking"&&this._emit("signature",i.signature);break}default:r.delta}break}case"message_stop":{this._addMessageParam(n),this._addMessage(EQ(n,ae(this,g_,"f"),{logger:ae(this,nA,"f")}),!0);break}case"content_block_stop":{this._emit("contentBlock",n.content.at(-1));break}case"message_start":{Ge(this,zf,n,"f");break}case"content_block_start":case"message_delta":break}},NQ=function(){if(this.ended)throw new lt("stream has ended, this shouldn't happen");let r=ae(this,zf,"f");if(!r)throw new lt("request ended without sending any chunks");return Ge(this,zf,void 0,"f"),EQ(r,ae(this,g_,"f"),{logger:ae(this,nA,"f")})},s9e=function(r){let n=ae(this,zf,"f");if(r.type==="message_start"){if(n)throw new lt(`Unexpected event order, got ${r.type} before receiving "message_stop"`);return r.message}if(!n)throw new lt(`Unexpected event order, got ${r.type} before "message_start"`);switch(r.type){case"message_stop":return n;case"message_delta":return n.stop_reason=r.delta.stop_reason,n.stop_sequence=r.delta.stop_sequence,n.usage.output_tokens=r.usage.output_tokens,r.usage.input_tokens!=null&&(n.usage.input_tokens=r.usage.input_tokens),r.usage.cache_creation_input_tokens!=null&&(n.usage.cache_creation_input_tokens=r.usage.cache_creation_input_tokens),r.usage.cache_read_input_tokens!=null&&(n.usage.cache_read_input_tokens=r.usage.cache_read_input_tokens),r.usage.server_tool_use!=null&&(n.usage.server_tool_use=r.usage.server_tool_use),n;case"content_block_start":return n.content.push({...r.content_block}),n;case"content_block_delta":{let i=n.content.at(r.index);switch(r.delta.type){case"text_delta":{i?.type==="text"&&(n.content[r.index]={...i,text:(i.text||"")+r.delta.text});break}case"citations_delta":{i?.type==="text"&&(n.content[r.index]={...i,citations:[...i.citations??[],r.delta.citation]});break}case"input_json_delta":{if(i&&c9e(i)){let o=i[a9e]||"";o+=r.delta.partial_json;let s={...i};Object.defineProperty(s,a9e,{value:o,enumerable:!1,writable:!0}),o&&(s.input=W7(o)),n.content[r.index]=s}break}case"thinking_delta":{i?.type==="thinking"&&(n.content[r.index]={...i,thinking:i.thinking+r.delta.thinking});break}case"signature_delta":{i?.type==="thinking"&&(n.content[r.index]={...i,signature:r.delta.signature});break}default:r.delta}return n}case"content_block_stop":return n}},Symbol.asyncIterator)](){let e=[],r=[],n=!1;return this.on("streamEvent",i=>{let o=r.shift();o?o.resolve(i):e.push(i)}),this.on("end",()=>{n=!0;for(let i of r)i.resolve(void 0);r.length=0}),this.on("abort",i=>{n=!0;for(let o of r)o.reject(i);r.length=0}),this.on("error",i=>{n=!0;for(let o of r)o.reject(i);r.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((o,s)=>r.push({resolve:o,reject:s})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Vu(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}};var y_=class extends Tn{create(e,r){return this._client.post("/v1/messages/batches",{body:e,...r})}retrieve(e,r){return this._client.get(In`/v1/messages/batches/${e}`,r)}list(e={},r){return this._client.getAPIList("/v1/messages/batches",rl,{query:e,...r})}delete(e,r){return this._client.delete(In`/v1/messages/batches/${e}`,r)}cancel(e,r){return this._client.post(In`/v1/messages/batches/${e}/cancel`,r)}async results(e,r){let n=await this.retrieve(e);if(!n.results_url)throw new lt(`No batch \`results_url\`; Has it finished processing? ${n.processing_status} - ${n.id}`);return this._client.get(n.results_url,{...r,headers:$t([{Accept:"application/binary"},r?.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap((i,o)=>m_.fromResponse(o.response,o.controller))}};var Vf=class extends Tn{constructor(){super(...arguments),this.batches=new y_(this._client)}create(e,r){e.model in l9e&&console.warn(`The model '${e.model}' is deprecated and will reach end-of-life on ${l9e[e.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let n=this._client._options.timeout;if(!e.stream&&n==null){let o=H7[e.model]??void 0;n=this._client.calculateNonstreamingTimeout(e.max_tokens,o)}let i=q7(e.tools,e.messages);return this._client.post("/v1/messages",{body:e,timeout:n??6e5,...r,headers:$t([i,r?.headers]),stream:e.stream??!1})}parse(e,r){return this.create(e,r).then(n=>RQ(n,e,{logger:this._client.logger??console}))}stream(e,r){return aO.createMessage(this,e,r,{logger:this._client.logger??console})}countTokens(e,r){return this._client.post("/v1/messages/count_tokens",{body:e,...r})}},l9e={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025","claude-3-7-sonnet-latest":"February 19th, 2026","claude-3-7-sonnet-20250219":"February 19th, 2026","claude-3-5-haiku-latest":"February 19th, 2026","claude-3-5-haiku-20241022":"February 19th, 2026"};Vf.Batches=y_;var B0=class extends Tn{retrieve(e,r={},n){let{betas:i}=r??{};return this._client.get(In`/v1/models/${e}`,{...n,headers:$t([{...i?.toString()!=null?{"anthropic-beta":i?.toString()}:void 0},n?.headers])})}list(e={},r){let{betas:n,...i}=e??{};return this._client.getAPIList("/v1/models",rl,{query:i,...r,headers:$t([{...n?.toString()!=null?{"anthropic-beta":n?.toString()}:void 0},r?.headers])})}};var iA=t=>{if(typeof globalThis.process<"u")return globalThis.process.env?.[t]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(t)?.trim()};var PQ,kQ,cO,u9e,d9e="\\n\\nHuman:",p9e="\\n\\nAssistant:",Vn=class{constructor({baseURL:e=iA("ANTHROPIC_BASE_URL"),apiKey:r=iA("ANTHROPIC_API_KEY")??null,authToken:n=iA("ANTHROPIC_AUTH_TOKEN")??null,...i}={}){PQ.add(this),cO.set(this,void 0);let o={apiKey:r,authToken:n,...i,baseURL:e||"https://api.anthropic.com"};if(!o.dangerouslyAllowBrowser&&PCe())throw new lt(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Anthropic({ apiKey, dangerouslyAllowBrowser: true });
`);this.baseURL=o.baseURL,this.timeout=o.timeout??kQ.DEFAULT_TIMEOUT,this.logger=o.logger??console;let s="warn";this.logLevel=s,this.logLevel=uQ(o.logLevel,"ClientOptions.logLevel",this)??uQ(iA("ANTHROPIC_LOG"),"process.env['ANTHROPIC_LOG']",this)??s,this.fetchOptions=o.fetchOptions,this.maxRetries=o.maxRetries??2,this.fetch=o.fetch??DCe(),Ge(this,cO,$Ce,"f"),this._options=o,this.apiKey=typeof r=="string"?r:null,this.authToken=n}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,authToken:this.authToken,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:r}){if(!(e.get("x-api-key")||e.get("authorization"))&&!(this.apiKey&&e.get("x-api-key"))&&!r.has("x-api-key")&&!(this.authToken&&e.get("authorization"))&&!r.has("authorization"))throw new Error('Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted')}async authHeaders(e){return $t([await this.apiKeyAuth(e),await this.bearerAuth(e)])}async apiKeyAuth(e){if(this.apiKey!=null)return $t([{"X-Api-Key":this.apiKey}])}async bearerAuth(e){if(this.authToken!=null)return $t([{Authorization:`Bearer ${this.authToken}`}])}stringifyQuery(e){return Object.entries(e).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(r)}=`;throw new lt(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Bf}`}defaultIdempotencyKey(){return`stainless-node-retry-${oQ()}`}makeStatusError(e,r,n,i){return Zi.generate(e,r,n,i)}buildURL(e,r,n){let i=!ae(this,PQ,"m",u9e).call(this)&&n||this.baseURL,o=ACe(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return ECe(s)||(r={...s,...r}),typeof r=="object"&&r&&!Array.isArray(r)&&(o.search=this.stringifyQuery(r)),o.toString()}_calculateNonstreamingTimeout(e){if(3600*e/128e3>600)throw new lt("Streaming is required for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#streaming-responses for more details");return 600*1e3}async prepareOptions(e){}async prepareRequest(e,{url:r,options:n}){}get(e,r){return this.methodRequest("get",e,r)}post(e,r){return this.methodRequest("post",e,r)}patch(e,r){return this.methodRequest("patch",e,r)}put(e,r){return this.methodRequest("put",e,r)}delete(e,r){return this.methodRequest("delete",e,r)}methodRequest(e,r,n){return this.request(Promise.resolve(n).then(i=>({method:e,path:r,...i})))}request(e,r=null){return new O0(this,this.makeRequest(e,r,void 0))}async makeRequest(e,r,n){let i=await e,o=i.maxRetries??this.maxRetries;r==null&&(r=o),await this.prepareOptions(i);let{req:s,url:a,timeout:c}=await this.buildRequest(i,{retryCount:o-r});await this.prepareRequest(s,{url:a,options:i});let l="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),u=n===void 0?"":`, retryOf: ${n}`,d=Date.now();if(Xi(this).debug(`[${l}] sending request`,vp({retryOfRequestLogID:n,method:i.method,url:a,options:i,headers:s.headers})),i.signal?.aborted)throw new yo;let p=new AbortController,m=await this.fetchWithTimeout(a,s,c,p).catch(D4),h=Date.now();if(m instanceof globalThis.Error){let v=`retrying, ${r} attempts remaining`;if(i.signal?.aborted)throw new yo;let _=yp(m)||/timed? ?out/i.test(String(m)+("cause"in m?String(m.cause):""));if(r)return Xi(this).info(`[${l}] connection ${_?"timed out":"failed"} - ${v}`),Xi(this).debug(`[${l}] connection ${_?"timed out":"failed"} (${v})`,vp({retryOfRequestLogID:n,url:a,durationMs:h-d,message:m.message})),this.retryRequest(i,r,n??l);throw Xi(this).info(`[${l}] connection ${_?"timed out":"failed"} - error; no more retries left`),Xi(this).debug(`[${l}] connection ${_?"timed out":"failed"} (error; no more retries left)`,vp({retryOfRequestLogID:n,url:a,durationMs:h-d,message:m.message})),_?new Jv:new Lf({cause:m})}let f=[...m.headers.entries()].filter(([v])=>v==="request-id").map(([v,_])=>", "+v+": "+JSON.stringify(_)).join(""),y=`[${l}${u}${f}] ${s.method} ${a} ${m.ok?"succeeded":"failed"} with status ${m.status} in ${h-d}ms`;if(!m.ok){let v=await this.shouldRetry(m);if(r&&v){let L=`retrying, ${r} attempts remaining`;return await MCe(m.body),Xi(this).info(`${y} - ${L}`),Xi(this).debug(`[${l}] response error (${L})`,vp({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,durationMs:h-d})),this.retryRequest(i,r,n??l,m.headers)}let _=v?"error; no more retries left":"error; not retryable";Xi(this).info(`${y} - ${_}`);let x=await m.text().catch(L=>D4(L).message),E=M7(x),I=E?void 0:x;throw Xi(this).debug(`[${l}] response error (${_})`,vp({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,message:I,durationMs:Date.now()-d})),this.makeStatusError(m.status,E,I,m.headers)}return Xi(this).info(y),Xi(this).debug(`[${l}] response start`,vp({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,durationMs:h-d})),{response:m,options:i,controller:p,requestLogID:l,retryOfRequestLogID:n,startTime:d}}getAPIList(e,r,n){return this.requestAPIList(r,{method:"get",path:e,...n})}requestAPIList(e,r){let n=this.makeRequest(r,null,void 0);return new F4(this,n,e)}async fetchWithTimeout(e,r,n,i){let{signal:o,method:s,...a}=r||{};o&&o.addEventListener("abort",()=>i.abort());let c=setTimeout(()=>i.abort(),n),l=globalThis.ReadableStream&&a.body instanceof globalThis.ReadableStream||typeof a.body=="object"&&a.body!==null&&Symbol.asyncIterator in a.body,u={signal:i.signal,...l?{duplex:"half"}:{},method:"GET",...a};s&&(u.method=s.toUpperCase());try{return await this.fetch.call(void 0,e,u)}finally{clearTimeout(c)}}async shouldRetry(e){let r=e.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,r,n,i){let o,s=i?.get("retry-after-ms");if(s){let c=parseFloat(s);Number.isNaN(c)||(o=c)}let a=i?.get("retry-after");if(a&&!o){let c=parseFloat(a);Number.isNaN(c)?o=Date.parse(a)-Date.now():o=c*1e3}if(!(o&&0<=o&&o<60*1e3)){let c=e.maxRetries??this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(r,c)}return await ICe(o),this.makeRequest(e,r-1,n)}calculateDefaultRetryTimeoutMillis(e,r){let o=r-e,s=Math.min(.5*Math.pow(2,o),8),a=1-Math.random()*.25;return s*a*1e3}calculateNonstreamingTimeout(e,r){if(36e5*e/128e3>6e5||r!=null&&e>r)throw new lt("Streaming is required for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#long-requests for more details");return 6e5}async buildRequest(e,{retryCount:r=0}={}){let n={...e},{method:i,path:o,query:s,defaultBaseURL:a}=n,c=this.buildURL(o,s,a);"timeout"in n&&TCe("timeout",n.timeout),n.timeout=n.timeout??this.timeout;let{bodyHeaders:l,body:u}=this.buildBody({options:n}),d=await this.buildHeaders({options:e,method:i,bodyHeaders:l,retryCount:r});return{req:{method:i,headers:d,...n.signal&&{signal:n.signal},...globalThis.ReadableStream&&u instanceof globalThis.ReadableStream&&{duplex:"half"},...u&&{body:u},...this.fetchOptions??{},...n.fetchOptions??{}},url:c,timeout:n.timeout}}async buildHeaders({options:e,method:r,bodyHeaders:n,retryCount:i}){let o={};this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);let s=$t([o,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...kCe(),...this._options.dangerouslyAllowBrowser?{"anthropic-dangerous-direct-browser-access":"true"}:void 0,"anthropic-version":"2023-06-01"},await this.authHeaders(e),this._options.defaultHeaders,n,e.headers]);return this.validateHeaders(s),s.values}buildBody({options:{body:e,headers:r}}){if(!e)return{bodyHeaders:void 0,body:void 0};let n=$t([r]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&n.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:$7(e)}:ae(this,cO,"f").call(this,{body:e,headers:n})}};kQ=Vn,cO=new WeakMap,PQ=new WeakSet,u9e=function(){return this.baseURL!=="https://api.anthropic.com"};Vn.Anthropic=kQ;Vn.HUMAN_PROMPT=d9e;Vn.AI_PROMPT=p9e;Vn.DEFAULT_TIMEOUT=6e5;Vn.AnthropicError=lt;Vn.APIError=Zi;Vn.APIConnectionError=Lf;Vn.APIConnectionTimeoutError=Jv;Vn.APIUserAbortError=yo;Vn.NotFoundError=e_;Vn.ConflictError=t_;Vn.RateLimitError=n_;Vn.BadRequestError=Qv;Vn.AuthenticationError=Zv;Vn.InternalServerError=i_;Vn.PermissionDeniedError=Xv;Vn.UnprocessableEntityError=r_;Vn.toFile=V7;var ju=class extends Vn{constructor(){super(...arguments),this.completions=new $0(this),this.messages=new Vf(this),this.models=new B0(this),this.beta=new Gl(this)}};ju.Completions=$0;ju.Messages=Vf;ju.Models=B0;ju.Beta=Gl;var jf=class{config;constructor(e){this.config=e}get agentId(){return this.config.agentId}get name(){return this.config.name}get model(){return this.config.model}get provider(){return this.config.provider}buildSystemPrompt(){return`You are ${this.config.name}, an AI stock trading agent on MoltApp \u2014 a competitive trading platform where AI agents trade real tokenized stocks on Solana.

PERSONALITY: ${this.config.personality}

TRADING STYLE: ${this.config.tradingStyle}

RISK TOLERANCE: ${this.config.riskTolerance}

RULES:
- You trade tokenized real stocks (xStocks) on Solana via Jupiter Protocol.
- Available stocks include: AAPLx, AMZNx, GOOGLx, METAx, MSFTx, NVDAx, TSLAx, SPYx, QQQx, COINx, MSTRx, HOODx, NFLXx, PLTRx, GMEx, and others.
- You compete against other AI agents on a public leaderboard ranked by P&L.
- Max position size: ${this.config.maxPositionSize}% of portfolio per stock.
- Max portfolio allocation: ${this.config.maxPortfolioAllocation}% in stocks (rest in USDC cash).
- You MUST respond with valid JSON only. No markdown, no explanation outside the JSON.

RESPONSE FORMAT (strict JSON):
{
  "action": "buy" | "sell" | "hold",
  "symbol": "STOCKx",
  "quantity": <number>,
  "reasoning": "<DETAILED step-by-step analysis: what data you looked at, what signals you found, WHY this action makes sense>",
  "confidence": <0-100>,
  "sources": ["<data sources you used: e.g. 'market_price_feed', '24h_price_change', 'portfolio_state', 'news_feed', 'technical_indicators'>"],
  "intent": "<your strategy: 'momentum' | 'mean_reversion' | 'value' | 'hedge' | 'contrarian' | 'arbitrage'>",
  "predictedOutcome": "<what you expect to happen next with this stock>"
}

IMPORTANT \u2014 BENCHMARK RULES:
- Your reasoning MUST be detailed and honest. Explain your ACTUAL logic step by step.
- You MUST cite which data sources informed your decision in the "sources" array.
- You MUST classify your strategic intent. This is an AI benchmark \u2014 we measure reasoning quality.
- Do NOT fabricate prices or data. Only reference data shown to you.

For "buy": quantity is USDC amount to spend.
For "sell": quantity is number of shares to sell.
For "hold": quantity should be 0, symbol can be any stock you analyzed.`}buildUserPrompt(e,r){let n=e.map(o=>{let s=o.change24h!==null?`${o.change24h>0?"+":""}${o.change24h.toFixed(2)}%`:"N/A",a=o.volume24h!==null?`$${(o.volume24h/1e6).toFixed(1)}M`:"N/A";return`  ${o.symbol} (${o.name}): $${o.price.toFixed(2)} | 24h: ${s} | Vol: ${a}`}).join(`
`),i=r.positions.length>0?r.positions.map(o=>{let s=`${o.unrealizedPnl>=0?"+":""}$${o.unrealizedPnl.toFixed(2)} (${o.unrealizedPnlPercent>=0?"+":""}${o.unrealizedPnlPercent.toFixed(1)}%)`;return`  ${o.symbol}: ${o.quantity.toFixed(4)} shares @ $${o.averageCostBasis.toFixed(2)} avg | Current: $${o.currentPrice.toFixed(2)} | PnL: ${s}`}).join(`
`):"  (No open positions)";return`CURRENT MARKET DATA:
${n}

YOUR PORTFOLIO:
  Cash (USDC): $${r.cashBalance.toFixed(2)}
  Total Value: $${r.totalValue.toFixed(2)}
  Total PnL: ${r.totalPnl>=0?"+":""}$${r.totalPnl.toFixed(2)} (${r.totalPnlPercent>=0?"+":""}${r.totalPnlPercent.toFixed(1)}%)

YOUR CURRENT POSITIONS:
${i}

Analyze the market data and your portfolio. Make ONE trading decision. Respond with JSON only.`}parseLLMResponse(e){let r=e.trim();r.startsWith("```json")?r=r.slice(7):r.startsWith("```")&&(r=r.slice(3)),r.endsWith("```")&&(r=r.slice(0,-3)),r=r.trim();let n=r.match(/\{[\s\S]*\}/);if(!n)throw new Error(`No JSON object found in LLM response: ${e.slice(0,200)}`);let i=JSON.parse(n[0]);if(!i.action||!["buy","sell","hold"].includes(i.action))throw new Error(`Invalid action: ${i.action}`);if(!i.symbol||typeof i.symbol!="string")throw new Error(`Invalid symbol: ${i.symbol}`);(typeof i.quantity!="number"||i.quantity<0)&&(i.quantity=0),typeof i.confidence!="number"&&(i.confidence=50),i.confidence=Math.max(0,Math.min(100,i.confidence)),(!i.reasoning||typeof i.reasoning!="string")&&(i.reasoning="No reasoning provided");let o=Array.isArray(i.sources)?i.sources.filter(c=>typeof c=="string"):[],s=typeof i.intent=="string"?i.intent:void 0,a=typeof i.predictedOutcome=="string"?i.predictedOutcome:void 0;return{action:i.action,symbol:i.symbol,quantity:i.quantity,reasoning:i.reasoning,confidence:i.confidence,timestamp:new Date().toISOString(),sources:o.length>0?o:void 0,intent:s,predictedOutcome:a}}fallbackHold(e){return{action:"hold",symbol:"SPYx",quantity:0,reasoning:`Agent error \u2014 defaulting to hold: ${e}`,confidence:0,timestamp:new Date().toISOString()}}};var $bt={agentId:"claude-value-investor",name:"Claude ValueBot",model:"claude-sonnet-4-20250514",provider:"anthropic",description:"Conservative value investor that focuses on fundamentals, undervalued companies, and strong risk management. Prefers large-cap stocks with proven earnings and maintains significant cash reserves.",personality:`You are a disciplined value investor in the tradition of Warren Buffett and Benjamin Graham.
You believe in margin of safety, buying wonderful companies at fair prices, and being fearful when others are greedy.
You are patient and methodical \u2014 you'd rather miss a trade than make a bad one.
You speak with measured confidence and always explain your thesis clearly.
When markets are overheated, you prefer to hold cash and wait for better entries.`,tradingStyle:"Value investing \u2014 seeks undervalued companies with strong fundamentals. Buys on dips, holds for long-term appreciation. Avoids momentum plays and speculation. Prefers blue-chip mega-caps (AAPL, MSFT, GOOGL, JPN).",riskTolerance:"conservative",maxPositionSize:15,maxPortfolioAllocation:60},DQ=class extends jf{client=null;constructor(){super($bt)}getClient(){if(!this.client){let e=process.env.ANTHROPIC_API_KEY;if(!e)throw new Error("ANTHROPIC_API_KEY environment variable is not set. Claude agent cannot trade.");this.client=new ju({apiKey:e})}return this.client}async analyze(e,r){try{let n=this.getClient(),i=this.buildSystemPrompt(),o=this.buildUserPrompt(e,r),a=(await n.messages.create({model:this.config.model,max_tokens:1024,system:i,messages:[{role:"user",content:o}],temperature:.3})).content.find(l=>l.type==="text");if(!a||a.type!=="text")return this.fallbackHold("Claude returned no text response");let c=this.parseLLMResponse(a.text);return this.applyGuardrails(c,r)}catch(n){let i=n instanceof Error?n.message:String(n);return console.error(`[ClaudeTrader] Analysis failed: ${i}`),this.fallbackHold(i)}}applyGuardrails(e,r){if(e.action!=="hold"&&e.confidence<40)return{...e,action:"hold",quantity:0,reasoning:`[GUARDRAIL] Original confidence (${e.confidence}%) below 40% threshold. Defaulting to hold. Original reasoning: ${e.reasoning}`};if(e.action==="buy"){let n=r.totalValue*(this.config.maxPositionSize/100);e.quantity>n&&(e.quantity=Math.floor(n*100)/100,e.reasoning+=` [GUARDRAIL: Position capped at ${this.config.maxPositionSize}% of portfolio = $${e.quantity.toFixed(2)}]`);let i=r.totalValue*((100-this.config.maxPortfolioAllocation)/100);if(r.cashBalance-e.quantity<i){let s=Math.max(0,r.cashBalance-i);if(s<=0)return{...e,action:"hold",quantity:0,reasoning:`[GUARDRAIL] Insufficient cash buffer. Need $${i.toFixed(2)} minimum cash (${100-this.config.maxPortfolioAllocation}% of portfolio). Original: ${e.reasoning}`};e.quantity=Math.floor(s*100)/100,e.reasoning+=` [GUARDRAIL: Buy reduced to $${e.quantity.toFixed(2)} to maintain ${100-this.config.maxPortfolioAllocation}% cash buffer]`}}return e}},m9e=new DQ;function vt(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function se(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}var MQ=function(){let{crypto:t}=globalThis;if(t?.randomUUID)return MQ=t.randomUUID.bind(t),t.randomUUID();let e=new Uint8Array(1),r=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(+n^r()&15>>+n/4).toString(16))};function oA(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}var sA=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){let e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};var Ze=class extends Error{},Ui=class t extends Ze{constructor(e,r,n,i){super(`${t.makeMessage(e,r,n)}`),this.status=e,this.headers=i,this.requestID=i?.get("x-request-id"),this.error=r;let o=r;this.code=o?.code,this.param=o?.param,this.type=o?.type}static makeMessage(e,r,n){let i=r?.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,r,n,i){if(!e||!i)return new qf({message:n,cause:sA(r)});let o=r?.error;return e===400?new b_(e,o,n,i):e===401?new v_(e,o,n,i):e===403?new __(e,o,n,i):e===404?new S_(e,o,n,i):e===409?new w_(e,o,n,i):e===422?new x_(e,o,n,i):e===429?new A_(e,o,n,i):e>=500?new E_(e,o,n,i):new t(e,o,n,i)}},Ai=class extends Ui{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},qf=class extends Ui{constructor({message:e,cause:r}){super(void 0,void 0,e||"Connection error.",void 0),r&&(this.cause=r)}},Hf=class extends qf{constructor({message:e}={}){super({message:e??"Request timed out."})}},b_=class extends Ui{},v_=class extends Ui{},__=class extends Ui{},S_=class extends Ui{},w_=class extends Ui{},x_=class extends Ui{},A_=class extends Ui{},E_=class extends Ui{},R_=class extends Ze{constructor(){super("Could not parse response content as the length limit was reached")}},T_=class extends Ze{constructor(){super("Could not parse response content as the request was rejected by the content filter")}},qu=class extends Error{constructor(e){super(e)}};var Bbt=/^[a-z][a-z0-9+.-]*:/i,f9e=t=>Bbt.test(t),Ho=t=>(Ho=Array.isArray,Ho(t)),$Q=Ho;function LQ(t){return typeof t!="object"?{}:t??{}}function h9e(t){if(!t)return!0;for(let e in t)return!1;return!0}function g9e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function aA(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}var y9e=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Ze(`${t} must be an integer`);if(e<0)throw new Ze(`${t} must be a positive integer`);return e};var b9e=t=>{try{return JSON.parse(t)}catch{return}};var Hu=t=>new Promise(e=>setTimeout(e,t));var Wf="6.17.0";var w9e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function Ubt(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}var Fbt=()=>{let t=Ubt();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wf,"X-Stainless-OS":_9e(Deno.build.os),"X-Stainless-Arch":v9e(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wf,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wf,"X-Stainless-OS":_9e(globalThis.process.platform??"unknown"),"X-Stainless-Arch":v9e(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};let e=zbt();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wf,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Wf,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function zbt(){if(typeof navigator>"u"||!navigator)return null;let t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(let{key:e,pattern:r}of t){let n=r.exec(navigator.userAgent);if(n){let i=n[1]||0,o=n[2]||0,s=n[3]||0;return{browser:e,version:`${i}.${o}.${s}`}}}return null}var v9e=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",_9e=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown"),S9e,x9e=()=>S9e??(S9e=Fbt());function A9e(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function BQ(...t){let e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function lO(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return BQ({start(){},async pull(r){let{done:n,value:i}=await e.next();n?r.close():r.enqueue(i)},async cancel(){await e.return?.()}})}function UQ(t){if(t[Symbol.asyncIterator])return t;let e=t.getReader();return{async next(){try{let r=await e.read();return r?.done&&e.releaseLock(),r}catch(r){throw e.releaseLock(),r}},async return(){let r=e.cancel();return e.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function E9e(t){if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await t[Symbol.asyncIterator]().return?.();return}let e=t.getReader(),r=e.cancel();e.releaseLock(),await r}var R9e=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});var uO="RFC3986",FQ=t=>String(t),dO={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:FQ},zQ="RFC1738";var pO=(t,e)=>(pO=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),pO(t,e)),Wu=(()=>{let t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})();var VQ=1024,T9e=(t,e,r,n,i)=>{if(t.length===0)return t;let o=t;if(typeof t=="symbol"?o=Symbol.prototype.toString.call(t):typeof t!="string"&&(o=String(t)),r==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(a){return"%26%23"+parseInt(a.slice(2),16)+"%3B"});let s="";for(let a=0;a<o.length;a+=VQ){let c=o.length>=VQ?o.slice(a,a+VQ):o,l=[];for(let u=0;u<c.length;++u){let d=c.charCodeAt(u);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||i===zQ&&(d===40||d===41)){l[l.length]=c.charAt(u);continue}if(d<128){l[l.length]=Wu[d];continue}if(d<2048){l[l.length]=Wu[192|d>>6]+Wu[128|d&63];continue}if(d<55296||d>=57344){l[l.length]=Wu[224|d>>12]+Wu[128|d>>6&63]+Wu[128|d&63];continue}u+=1,d=65536+((d&1023)<<10|c.charCodeAt(u)&1023),l[l.length]=Wu[240|d>>18]+Wu[128|d>>12&63]+Wu[128|d>>6&63]+Wu[128|d&63]}s+=l.join("")}return s};function I9e(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function jQ(t,e){if(Ho(t)){let r=[];for(let n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)}var O9e={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},N9e=function(t,e){Array.prototype.push.apply(t,Ho(e)?e:[e])},C9e,Fi={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:T9e,encodeValuesOnly:!1,format:uO,formatter:FQ,indices:!1,serializeDate(t){return(C9e??(C9e=Function.prototype.call.bind(Date.prototype.toISOString)))(t)},skipNulls:!1,strictNullHandling:!1};function qbt(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}var qQ={};function P9e(t,e,r,n,i,o,s,a,c,l,u,d,p,m,h,f,y,v){let _=t,x=v,E=0,I=!1;for(;(x=x.get(qQ))!==void 0&&!I;){let V=x.get(t);if(E+=1,typeof V<"u"){if(V===E)throw new RangeError("Cyclic object value");I=!0}typeof x.get(qQ)>"u"&&(E=0)}if(typeof l=="function"?_=l(e,_):_ instanceof Date?_=p?.(_):r==="comma"&&Ho(_)&&(_=jQ(_,function(V){return V instanceof Date?p?.(V):V})),_===null){if(o)return c&&!f?c(e,Fi.encoder,y,"key",m):e;_=""}if(qbt(_)||I9e(_)){if(c){let V=f?e:c(e,Fi.encoder,y,"key",m);return[h?.(V)+"="+h?.(c(_,Fi.encoder,y,"value",m))]}return[h?.(e)+"="+h?.(String(_))]}let N=[];if(typeof _>"u")return N;let L;if(r==="comma"&&Ho(_))f&&c&&(_=jQ(_,c)),L=[{value:_.length>0?_.join(",")||null:void 0}];else if(Ho(l))L=l;else{let V=Object.keys(_);L=u?V.sort(u):V}let B=a?String(e).replace(/\./g,"%2E"):String(e),P=n&&Ho(_)&&_.length===1?B+"[]":B;if(i&&Ho(_)&&_.length===0)return P+"[]";for(let V=0;V<L.length;++V){let j=L[V],ee=typeof j=="object"&&typeof j.value<"u"?j.value:_[j];if(s&&ee===null)continue;let O=d&&a?j.replace(/\./g,"%2E"):j,b=Ho(_)?typeof r=="function"?r(P,O):P:P+(d?"."+O:"["+O+"]");v.set(t,E);let S=new WeakMap;S.set(qQ,v),N9e(N,P9e(ee,b,r,n,i,o,s,a,r==="comma"&&f&&Ho(_)?null:c,l,u,d,p,m,h,f,y,S))}return N}function Hbt(t=Fi){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");let e=t.charset||Fi.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let r=uO;if(typeof t.format<"u"){if(!pO(dO,t.format))throw new TypeError("Unknown format option provided.");r=t.format}let n=dO[r],i=Fi.filter;(typeof t.filter=="function"||Ho(t.filter))&&(i=t.filter);let o;if(t.arrayFormat&&t.arrayFormat in O9e?o=t.arrayFormat:"indices"in t?o=t.indices?"indices":"repeat":o=Fi.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");let s=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:Fi.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Fi.addQueryPrefix,allowDots:s,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:Fi.allowEmptyArrays,arrayFormat:o,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Fi.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?Fi.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Fi.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:Fi.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:Fi.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Fi.encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Fi.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Fi.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Fi.strictNullHandling}}function HQ(t,e={}){let r=t,n=Hbt(e),i,o;typeof n.filter=="function"?(o=n.filter,r=o("",r)):Ho(n.filter)&&(o=n.filter,i=o);let s=[];if(typeof r!="object"||r===null)return"";let a=O9e[n.arrayFormat],c=a==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);let l=new WeakMap;for(let p=0;p<i.length;++p){let m=i[p];n.skipNulls&&r[m]===null||N9e(s,P9e(r[m],m,a,c,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}let u=s.join(n.delimiter),d=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),u.length>0?d+u:""}function M9e(t){let e=0;for(let i of t)e+=i.length;let r=new Uint8Array(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return r}var k9e;function I_(t){let e;return(k9e??(e=new globalThis.TextEncoder,k9e=e.encode.bind(e)))(t)}var D9e;function WQ(t){let e;return(D9e??(e=new globalThis.TextDecoder,D9e=e.decode.bind(e)))(t)}var Ba,Ua,U0=class{constructor(){Ba.set(this,void 0),Ua.set(this,void 0),vt(this,Ba,new Uint8Array,"f"),vt(this,Ua,null,"f")}decode(e){if(e==null)return[];let r=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?I_(e):e;vt(this,Ba,M9e([se(this,Ba,"f"),r]),"f");let n=[],i;for(;(i=Gbt(se(this,Ba,"f"),se(this,Ua,"f")))!=null;){if(i.carriage&&se(this,Ua,"f")==null){vt(this,Ua,i.index,"f");continue}if(se(this,Ua,"f")!=null&&(i.index!==se(this,Ua,"f")+1||i.carriage)){n.push(WQ(se(this,Ba,"f").subarray(0,se(this,Ua,"f")-1))),vt(this,Ba,se(this,Ba,"f").subarray(se(this,Ua,"f")),"f"),vt(this,Ua,null,"f");continue}let o=se(this,Ua,"f")!==null?i.preceding-1:i.preceding,s=WQ(se(this,Ba,"f").subarray(0,o));n.push(s),vt(this,Ba,se(this,Ba,"f").subarray(i.index),"f"),vt(this,Ua,null,"f")}return n}flush(){return se(this,Ba,"f").length?this.decode(`
`):[]}};Ba=new WeakMap,Ua=new WeakMap;U0.NEWLINE_CHARS=new Set([`
`,"\r"]);U0.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Gbt(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function $9e(t){for(let n=0;n<t.length-1;n++){if(t[n]===10&&t[n+1]===10||t[n]===13&&t[n+1]===13)return n+2;if(t[n]===13&&t[n+1]===10&&n+3<t.length&&t[n+2]===13&&t[n+3]===10)return n+4}return-1}var fO={off:0,error:200,warn:300,info:400,debug:500},GQ=(t,e,r)=>{if(t){if(g9e(fO,t))return t;si(r).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(fO))}`)}};function cA(){}function mO(t,e,r){return!e||fO[t]>fO[r]?cA:e[t].bind(e)}var Kbt={error:cA,warn:cA,info:cA,debug:cA},L9e=new WeakMap;function si(t){let e=t.logger,r=t.logLevel??"off";if(!e)return Kbt;let n=L9e.get(e);if(n&&n[0]===r)return n[1];let i={error:mO("error",e,r),warn:mO("warn",e,r),info:mO("info",e,r),debug:mO("debug",e,r)};return L9e.set(e,[r,i]),i}var Ap=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,r])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var lA,Gu=class t{constructor(e,r,n){this.iterator=e,lA.set(this,void 0),this.controller=r,vt(this,lA,n,"f")}static fromSSEResponse(e,r,n){let i=!1,o=n?si(n):console;async function*s(){if(i)throw new Ze("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let a=!1;try{for await(let c of Ybt(e,r))if(!a){if(c.data.startsWith("[DONE]")){a=!0;continue}if(c.event===null||!c.event.startsWith("thread.")){let l;try{l=JSON.parse(c.data)}catch(u){throw o.error("Could not parse message into JSON:",c.data),o.error("From chunk:",c.raw),u}if(l&&l.error)throw new Ui(void 0,l.error,void 0,e.headers);yield l}else{let l;try{l=JSON.parse(c.data)}catch(u){throw console.error("Could not parse message into JSON:",c.data),console.error("From chunk:",c.raw),u}if(c.event=="error")throw new Ui(void 0,l.error,l.message,void 0);yield{event:c.event,data:l}}}a=!0}catch(c){if(oA(c))return;throw c}finally{a||r.abort()}}return new t(s,r,n)}static fromReadableStream(e,r,n){let i=!1;async function*o(){let a=new U0,c=UQ(e);for await(let l of c)for(let u of a.decode(l))yield u;for(let l of a.flush())yield l}async function*s(){if(i)throw new Ze("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let a=!1;try{for await(let c of o())a||c&&(yield JSON.parse(c));a=!0}catch(c){if(oA(c))return;throw c}finally{a||r.abort()}}return new t(s,r,n)}[(lA=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){let e=[],r=[],n=this.iterator(),i=o=>({next:()=>{if(o.length===0){let s=n.next();e.push(s),r.push(s)}return o.shift()}});return[new t(()=>i(e),this.controller,se(this,lA,"f")),new t(()=>i(r),this.controller,se(this,lA,"f"))]}toReadableStream(){let e=this,r;return BQ({async start(){r=e[Symbol.asyncIterator]()},async pull(n){try{let{value:i,done:o}=await r.next();if(o)return n.close();let s=I_(JSON.stringify(i)+`
`);n.enqueue(s)}catch(i){n.error(i)}},async cancel(){await r.return?.()}})}};async function*Ybt(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Ze("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Ze("Attempted to iterate over a response with no body");let r=new KQ,n=new U0,i=UQ(t.body);for await(let o of Jbt(i))for(let s of n.decode(o)){let a=r.decode(s);a&&(yield a)}for(let o of n.flush()){let s=r.decode(o);s&&(yield s)}}async function*Jbt(t){let e=new Uint8Array;for await(let r of t){if(r==null)continue;let n=r instanceof ArrayBuffer?new Uint8Array(r):typeof r=="string"?I_(r):r,i=new Uint8Array(e.length+n.length);i.set(e),i.set(n,e.length),e=i;let o;for(;(o=$9e(e))!==-1;)yield e.slice(0,o),e=e.slice(o)}e.length>0&&(yield e)}var KQ=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;let o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[r,n,i]=Qbt(e,":");return i.startsWith(" ")&&(i=i.substring(1)),r==="event"?this.event=i:r==="data"&&this.data.push(i),null}};function Qbt(t,e){let r=t.indexOf(e);return r!==-1?[t.substring(0,r),e,t.substring(r+e.length)]:[t,"",""]}async function hO(t,e){let{response:r,requestLogID:n,retryOfRequestLogID:i,startTime:o}=e,s=await(async()=>{if(e.options.stream)return si(t).debug("response",r.status,r.url,r.headers,r.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(r,e.controller,t):Gu.fromSSEResponse(r,e.controller,t);if(r.status===204)return null;if(e.options.__binaryResponse)return r;let c=r.headers.get("content-type")?.split(";")[0]?.trim();if(c?.includes("application/json")||c?.endsWith("+json")){let d=await r.json();return YQ(d,r)}return await r.text()})();return si(t).debug(`[${n}] response parsed`,Ap({retryOfRequestLogID:i,url:r.url,status:r.status,body:s,durationMs:Date.now()-o})),s}function YQ(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var uA,F0=class t extends Promise{constructor(e,r,n=hO){super(i=>{i(null)}),this.responsePromise=r,this.parseResponse=n,uA.set(this,void 0),vt(this,uA,e,"f")}_thenUnwrap(e){return new t(se(this,uA,"f"),this.responsePromise,async(r,n)=>YQ(e(await this.parseResponse(r,n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){let[e,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:r,request_id:r.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(se(this,uA,"f"),e))),this.parsedPromise}then(e,r){return this.parse().then(e,r)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}};uA=new WeakMap;var gO,dA=class{constructor(e,r,n,i){gO.set(this,void 0),vt(this,gO,e,"f"),this.options=i,this.response=r,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){let e=this.nextPageRequestOptions();if(!e)throw new Ze("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await se(this,gO,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(gO=new WeakMap,Symbol.asyncIterator)](){for await(let e of this.iterPages())for(let r of e.getPaginatedItems())yield r}},pA=class extends F0{constructor(e,r,n){super(e,r,async(i,o)=>new n(i,o.response,await hO(i,o),o.options))}async*[Symbol.asyncIterator](){let e=await this;for await(let r of e)yield r}},Ku=class extends dA{constructor(e,r,n,i){super(e,r,n,i),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}},Xt=class extends dA{constructor(e,r,n,i){super(e,r,n,i),this.data=n.data||[],this.has_more=n.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){let e=this.getPaginatedItems(),r=e[e.length-1]?.id;return r?{...this.options,query:{...LQ(this.options.query),after:r}}:null}},Ep=class extends dA{constructor(e,r,n,i){super(e,r,n,i),this.data=n.data||[],this.has_more=n.has_more||!1,this.last_id=n.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){let e=this.last_id;return e?{...this.options,query:{...LQ(this.options.query),after:e}}:null}};var ZQ=()=>{if(typeof File>"u"){let{process:t}=globalThis,e=typeof t?.versions?.node=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(e?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function C_(t,e,r){return ZQ(),new File(t,e??"unknown_file",r)}function mA(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}var yO=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",XQ=async(t,e)=>JQ(t.body)?{...t,body:await U9e(t.body,e)}:t,Fa=async(t,e)=>({...t,body:await U9e(t.body,e)}),B9e=new WeakMap;function Xbt(t){let e=typeof t=="function"?t:t.fetch,r=B9e.get(e);if(r)return r;let n=(async()=>{try{let i="Response"in e?e.Response:(await e("data:,")).constructor,o=new FormData;return o.toString()!==await new i(o).text()}catch{return!0}})();return B9e.set(e,n),n}var U9e=async(t,e)=>{if(!await Xbt(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");let r=new FormData;return await Promise.all(Object.entries(t||{}).map(([n,i])=>QQ(r,n,i))),r},F9e=t=>t instanceof Blob&&"name"in t,evt=t=>typeof t=="object"&&t!==null&&(t instanceof Response||yO(t)||F9e(t)),JQ=t=>{if(evt(t))return!0;if(Array.isArray(t))return t.some(JQ);if(t&&typeof t=="object"){for(let e in t)if(JQ(t[e]))return!0}return!1},QQ=async(t,e,r)=>{if(r!==void 0){if(r==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")t.append(e,String(r));else if(r instanceof Response)t.append(e,C_([await r.blob()],mA(r)));else if(yO(r))t.append(e,C_([await new Response(lO(r)).blob()],mA(r)));else if(F9e(r))t.append(e,r,mA(r));else if(Array.isArray(r))await Promise.all(r.map(n=>QQ(t,e+"[]",n)));else if(typeof r=="object")await Promise.all(Object.entries(r).map(([n,i])=>QQ(t,`${e}[${n}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${r} instead`)}};var z9e=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",tvt=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&z9e(t),rvt=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function bO(t,e,r){if(ZQ(),t=await t,tvt(t))return t instanceof File?t:C_([await t.arrayBuffer()],t.name);if(rvt(t)){let i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),C_(await eZ(i),e,r)}let n=await eZ(t);if(e||(e=mA(t)),!r?.type){let i=n.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(r={...r,type:i})}return C_(n,e,r)}async function eZ(t){let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(z9e(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(yO(t))for await(let r of t)e.push(...await eZ(r));else{let r=t?.constructor?.name;throw new Error(`Unexpected data type: ${typeof t}${r?`; constructor: ${r}`:""}${nvt(t)}`)}return e}function nvt(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(r=>`"${r}"`).join(", ")}]`}var be=class{constructor(e){this._client=e}};function j9e(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}var V9e=Object.freeze(Object.create(null)),ovt=(t=j9e)=>function(r,...n){if(r.length===1)return r[0];let i=!1,o=[],s=r.reduce((u,d,p)=>{/[?#]/.test(d)&&(i=!0);let m=n[p],h=(i?encodeURIComponent:t)(""+m);return p!==n.length&&(m==null||typeof m=="object"&&m.toString===Object.getPrototypeOf(Object.getPrototypeOf(m.hasOwnProperty??V9e)??V9e)?.toString)&&(h=m+"",o.push({start:u.length+d.length,length:h.length,error:`Value of type ${Object.prototype.toString.call(m).slice(8,-1)} is not a valid path parameter`})),u+d+(p===n.length?"":h)},""),a=s.split(/[?#]/,1)[0],c=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi,l;for(;(l=c.exec(a))!==null;)o.push({start:l.index,length:l[0].length,error:`Value "${l[0]}" can't be safely passed as a path parameter`});if(o.sort((u,d)=>u.start-d.start),o.length>0){let u=0,d=o.reduce((p,m)=>{let h=" ".repeat(m.start-u),f="^".repeat(m.length);return u=m.start+m.length,p+h+f},"");throw new Ze(`Path parameters result in path with invalid segments:
${o.map(p=>p.error).join(`
`)}
${s}
${d}`)}return s},he=ovt(j9e);var z0=class extends be{list(e,r={},n){return this._client.getAPIList(he`/chat/completions/${e}/messages`,Xt,{query:r,...n})}};function fA(t){return t!==void 0&&"function"in t&&t.function!==void 0}function hA(t){return t?.$brand==="auto-parseable-response-format"}function V0(t){return t?.$brand==="auto-parseable-tool"}function q9e(t,e){return!e||!tZ(e)?{...t,choices:t.choices.map(r=>(W9e(r.message.tool_calls),{...r,message:{...r.message,parsed:null,...r.message.tool_calls?{tool_calls:r.message.tool_calls}:void 0}}))}:gA(t,e)}function gA(t,e){let r=t.choices.map(n=>{if(n.finish_reason==="length")throw new R_;if(n.finish_reason==="content_filter")throw new T_;return W9e(n.message.tool_calls),{...n,message:{...n.message,...n.message.tool_calls?{tool_calls:n.message.tool_calls?.map(i=>lvt(e,i))??void 0}:void 0,parsed:n.message.content&&!n.message.refusal?cvt(e,n.message.content):null}}});return{...t,choices:r}}function cvt(t,e){return t.response_format?.type!=="json_schema"?null:t.response_format?.type==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function lvt(t,e){let r=t.tools?.find(n=>fA(n)&&n.function?.name===e.function.name);return{...e,function:{...e.function,parsed_arguments:V0(r)?r.$parseRaw(e.function.arguments):r?.function.strict?JSON.parse(e.function.arguments):null}}}function H9e(t,e){if(!t||!("tools"in t)||!t.tools)return!1;let r=t.tools?.find(n=>fA(n)&&n.function?.name===e.function.name);return fA(r)&&(V0(r)||r?.function.strict||!1)}function tZ(t){return hA(t.response_format)?!0:t.tools?.some(e=>V0(e)||e.type==="function"&&e.function.strict===!0)??!1}function W9e(t){for(let e of t||[])if(e.type!=="function")throw new Ze(`Currently only \`function\` tool calls are supported; Received \`${e.type}\``)}function G9e(t){for(let e of t??[]){if(e.type!=="function")throw new Ze(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new Ze(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var O_=t=>t?.role==="assistant",rZ=t=>t?.role==="tool";var nZ,vO,_O,yA,bA,SO,vA,Rp,_A,wO,xO,N_,K9e,Gf=class{constructor(){nZ.add(this),this.controller=new AbortController,vO.set(this,void 0),_O.set(this,()=>{}),yA.set(this,()=>{}),bA.set(this,void 0),SO.set(this,()=>{}),vA.set(this,()=>{}),Rp.set(this,{}),_A.set(this,!1),wO.set(this,!1),xO.set(this,!1),N_.set(this,!1),vt(this,vO,new Promise((e,r)=>{vt(this,_O,e,"f"),vt(this,yA,r,"f")}),"f"),vt(this,bA,new Promise((e,r)=>{vt(this,SO,e,"f"),vt(this,vA,r,"f")}),"f"),se(this,vO,"f").catch(()=>{}),se(this,bA,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},se(this,nZ,"m",K9e).bind(this))},0)}_connected(){this.ended||(se(this,_O,"f").call(this),this._emit("connect"))}get ended(){return se(this,_A,"f")}get errored(){return se(this,wO,"f")}get aborted(){return se(this,xO,"f")}abort(){this.controller.abort()}on(e,r){return(se(this,Rp,"f")[e]||(se(this,Rp,"f")[e]=[])).push({listener:r}),this}off(e,r){let n=se(this,Rp,"f")[e];if(!n)return this;let i=n.findIndex(o=>o.listener===r);return i>=0&&n.splice(i,1),this}once(e,r){return(se(this,Rp,"f")[e]||(se(this,Rp,"f")[e]=[])).push({listener:r,once:!0}),this}emitted(e){return new Promise((r,n)=>{vt(this,N_,!0,"f"),e!=="error"&&this.once("error",n),this.once(e,r)})}async done(){vt(this,N_,!0,"f"),await se(this,bA,"f")}_emit(e,...r){if(se(this,_A,"f"))return;e==="end"&&(vt(this,_A,!0,"f"),se(this,SO,"f").call(this));let n=se(this,Rp,"f")[e];if(n&&(se(this,Rp,"f")[e]=n.filter(i=>!i.once),n.forEach(({listener:i})=>i(...r))),e==="abort"){let i=r[0];!se(this,N_,"f")&&!n?.length&&Promise.reject(i),se(this,yA,"f").call(this,i),se(this,vA,"f").call(this,i),this._emit("end");return}if(e==="error"){let i=r[0];!se(this,N_,"f")&&!n?.length&&Promise.reject(i),se(this,yA,"f").call(this,i),se(this,vA,"f").call(this,i),this._emit("end")}}_emitFinal(){}};vO=new WeakMap,_O=new WeakMap,yA=new WeakMap,bA=new WeakMap,SO=new WeakMap,vA=new WeakMap,Rp=new WeakMap,_A=new WeakMap,wO=new WeakMap,xO=new WeakMap,N_=new WeakMap,nZ=new WeakSet,K9e=function(e){if(vt(this,wO,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new Ai),e instanceof Ai)return vt(this,xO,!0,"f"),this._emit("abort",e);if(e instanceof Ze)return this._emit("error",e);if(e instanceof Error){let r=new Ze(e.message);return r.cause=e,this._emit("error",r)}return this._emit("error",new Ze(String(e)))};function Y9e(t){return typeof t.parse=="function"}var bs,iZ,AO,oZ,sZ,aZ,J9e,Q9e,uvt=10,P_=class extends Gf{constructor(){super(...arguments),bs.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);let r=e.choices[0]?.message;return r&&this._addMessage(r),e}_addMessage(e,r=!0){if("content"in e||(e.content=null),this.messages.push(e),r){if(this._emit("message",e),rZ(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(O_(e)&&e.tool_calls)for(let n of e.tool_calls)n.type==="function"&&this._emit("functionToolCall",n.function)}}async finalChatCompletion(){await this.done();let e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new Ze("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),se(this,bs,"m",iZ).call(this)}async finalMessage(){return await this.done(),se(this,bs,"m",AO).call(this)}async finalFunctionToolCall(){return await this.done(),se(this,bs,"m",oZ).call(this)}async finalFunctionToolCallResult(){return await this.done(),se(this,bs,"m",sZ).call(this)}async totalUsage(){return await this.done(),se(this,bs,"m",aZ).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){let e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);let r=se(this,bs,"m",AO).call(this);r&&this._emit("finalMessage",r);let n=se(this,bs,"m",iZ).call(this);n&&this._emit("finalContent",n);let i=se(this,bs,"m",oZ).call(this);i&&this._emit("finalFunctionToolCall",i);let o=se(this,bs,"m",sZ).call(this);o!=null&&this._emit("finalFunctionToolCallResult",o),this._chatCompletions.some(s=>s.usage)&&this._emit("totalUsage",se(this,bs,"m",aZ).call(this))}async _createChatCompletion(e,r,n){let i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),se(this,bs,"m",J9e).call(this,r);let o=await e.chat.completions.create({...r,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion(gA(o,r))}async _runChatCompletion(e,r,n){for(let i of r.messages)this._addMessage(i,!1);return await this._createChatCompletion(e,r,n)}async _runTools(e,r,n){let i="tool",{tool_choice:o="auto",stream:s,...a}=r,c=typeof o!="string"&&o.type==="function"&&o?.function?.name,{maxChatCompletions:l=uvt}=n||{},u=r.tools.map(m=>{if(V0(m)){if(!m.$callback)throw new Ze("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:m.$callback,name:m.function.name,description:m.function.description||"",parameters:m.function.parameters,parse:m.$parseRaw,strict:!0}}}return m}),d={};for(let m of u)m.type==="function"&&(d[m.function.name||m.function.function.name]=m.function);let p="tools"in r?u.map(m=>m.type==="function"?{type:"function",function:{name:m.function.name||m.function.function.name,parameters:m.function.parameters,description:m.function.description,strict:m.function.strict}}:m):void 0;for(let m of r.messages)this._addMessage(m,!1);for(let m=0;m<l;++m){let f=(await this._createChatCompletion(e,{...a,tool_choice:o,tools:p,messages:[...this.messages]},n)).choices[0]?.message;if(!f)throw new Ze("missing message in ChatCompletion response");if(!f.tool_calls?.length)return;for(let y of f.tool_calls){if(y.type!=="function")continue;let v=y.id,{name:_,arguments:x}=y.function,E=d[_];if(E){if(c&&c!==_){let B=`Invalid tool_call: ${JSON.stringify(_)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:i,tool_call_id:v,content:B});continue}}else{let B=`Invalid tool_call: ${JSON.stringify(_)}. Available options are: ${Object.keys(d).map(P=>JSON.stringify(P)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:v,content:B});continue}let I;try{I=Y9e(E)?await E.parse(x):x}catch(B){let P=B instanceof Error?B.message:String(B);this._addMessage({role:i,tool_call_id:v,content:P});continue}let N=await E.function(I,this),L=se(this,bs,"m",Q9e).call(this,N);if(this._addMessage({role:i,tool_call_id:v,content:L}),c)return}}}};bs=new WeakSet,iZ=function(){return se(this,bs,"m",AO).call(this).content??null},AO=function(){let e=this.messages.length;for(;e-- >0;){let r=this.messages[e];if(O_(r))return{...r,content:r.content??null,refusal:r.refusal??null}}throw new Ze("stream ended without producing a ChatCompletionMessage with role=assistant")},oZ=function(){for(let e=this.messages.length-1;e>=0;e--){let r=this.messages[e];if(O_(r)&&r?.tool_calls?.length)return r.tool_calls.filter(n=>n.type==="function").at(-1)?.function}},sZ=function(){for(let e=this.messages.length-1;e>=0;e--){let r=this.messages[e];if(rZ(r)&&r.content!=null&&typeof r.content=="string"&&this.messages.some(n=>n.role==="assistant"&&n.tool_calls?.some(i=>i.type==="function"&&i.id===r.tool_call_id)))return r.content}},aZ=function(){let e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(let{usage:r}of this._chatCompletions)r&&(e.completion_tokens+=r.completion_tokens,e.prompt_tokens+=r.prompt_tokens,e.total_tokens+=r.total_tokens);return e},J9e=function(e){if(e.n!=null&&e.n>1)throw new Ze("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Q9e=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};var SA=class t extends P_{static runTools(e,r,n){let i=new t,o={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,r,o)),i}_addMessage(e,r=!0){super._addMessage(e,r),O_(e)&&e.content&&this._emit("content",e.content)}};var eo={STR:1,NUM:2,ARR:4,OBJ:8,NULL:16,BOOL:32,NAN:64,INFINITY:128,MINUS_INFINITY:256,INF:384,SPECIAL:496,ATOM:499,COLLECTION:12,ALL:511},cZ=class extends Error{},lZ=class extends Error{};function dvt(t,e=eo.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return pvt(t.trim(),e)}var pvt=(t,e)=>{let r=t.length,n=0,i=p=>{throw new cZ(`${p} at position ${n}`)},o=p=>{throw new lZ(`${p} at position ${n}`)},s=()=>(d(),n>=r&&i("Unexpected end of input"),t[n]==='"'?a():t[n]==="{"?c():t[n]==="["?l():t.substring(n,n+4)==="null"||eo.NULL&e&&r-n<4&&"null".startsWith(t.substring(n))?(n+=4,null):t.substring(n,n+4)==="true"||eo.BOOL&e&&r-n<4&&"true".startsWith(t.substring(n))?(n+=4,!0):t.substring(n,n+5)==="false"||eo.BOOL&e&&r-n<5&&"false".startsWith(t.substring(n))?(n+=5,!1):t.substring(n,n+8)==="Infinity"||eo.INFINITY&e&&r-n<8&&"Infinity".startsWith(t.substring(n))?(n+=8,1/0):t.substring(n,n+9)==="-Infinity"||eo.MINUS_INFINITY&e&&1<r-n&&r-n<9&&"-Infinity".startsWith(t.substring(n))?(n+=9,-1/0):t.substring(n,n+3)==="NaN"||eo.NAN&e&&r-n<3&&"NaN".startsWith(t.substring(n))?(n+=3,NaN):u()),a=()=>{let p=n,m=!1;for(n++;n<r&&(t[n]!=='"'||m&&t[n-1]==="\\");)m=t[n]==="\\"?!m:!1,n++;if(t.charAt(n)=='"')try{return JSON.parse(t.substring(p,++n-Number(m)))}catch(h){o(String(h))}else if(eo.STR&e)try{return JSON.parse(t.substring(p,n-Number(m))+'"')}catch{return JSON.parse(t.substring(p,t.lastIndexOf("\\"))+'"')}i("Unterminated string literal")},c=()=>{n++,d();let p={};try{for(;t[n]!=="}";){if(d(),n>=r&&eo.OBJ&e)return p;let m=a();d(),n++;try{let h=s();Object.defineProperty(p,m,{value:h,writable:!0,enumerable:!0,configurable:!0})}catch(h){if(eo.OBJ&e)return p;throw h}d(),t[n]===","&&n++}}catch{if(eo.OBJ&e)return p;i("Expected '}' at end of object")}return n++,p},l=()=>{n++;let p=[];try{for(;t[n]!=="]";)p.push(s()),d(),t[n]===","&&n++}catch{if(eo.ARR&e)return p;i("Expected ']' at end of array")}return n++,p},u=()=>{if(n===0){t==="-"&&eo.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(t)}catch(m){if(eo.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}o(String(m))}}let p=n;for(t[n]==="-"&&n++;t[n]&&!",]}".includes(t[n]);)n++;n==r&&!(eo.NUM&e)&&i("Unterminated number literal");try{return JSON.parse(t.substring(p,n))}catch{t.substring(p,n)==="-"&&eo.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(t.substring(p,t.lastIndexOf("e")))}catch(h){o(String(h))}}},d=()=>{for(;n<r&&` 
\r	`.includes(t[n]);)n++};return s()},uZ=t=>dvt(t,eo.ALL^eo.NUM);var zi,Tp,k_,Kf,dZ,EO,pZ,mZ,fZ,RO,hZ,Z9e,j0=class t extends P_{constructor(e){super(),zi.add(this),Tp.set(this,void 0),k_.set(this,void 0),Kf.set(this,void 0),vt(this,Tp,e,"f"),vt(this,k_,[],"f")}get currentChatCompletionSnapshot(){return se(this,Kf,"f")}static fromReadableStream(e){let r=new t(null);return r._run(()=>r._fromReadableStream(e)),r}static createChatCompletion(e,r,n){let i=new t(r);return i._run(()=>i._runChatCompletion(e,{...r,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(e,r,n){super._createChatCompletion;let i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),se(this,zi,"m",dZ).call(this);let o=await e.chat.completions.create({...r,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(let s of o)se(this,zi,"m",pZ).call(this,s);if(o.controller.signal?.aborted)throw new Ai;return this._addChatCompletion(se(this,zi,"m",RO).call(this))}async _fromReadableStream(e,r){let n=r?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),se(this,zi,"m",dZ).call(this),this._connected();let i=Gu.fromReadableStream(e,this.controller),o;for await(let s of i)o&&o!==s.id&&this._addChatCompletion(se(this,zi,"m",RO).call(this)),se(this,zi,"m",pZ).call(this,s),o=s.id;if(i.controller.signal?.aborted)throw new Ai;return this._addChatCompletion(se(this,zi,"m",RO).call(this))}[(Tp=new WeakMap,k_=new WeakMap,Kf=new WeakMap,zi=new WeakSet,dZ=function(){this.ended||vt(this,Kf,void 0,"f")},EO=function(r){let n=se(this,k_,"f")[r.index];return n||(n={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},se(this,k_,"f")[r.index]=n,n)},pZ=function(r){if(this.ended)return;let n=se(this,zi,"m",Z9e).call(this,r);this._emit("chunk",r,n);for(let i of r.choices){let o=n.choices[i.index];i.delta.content!=null&&o.message?.role==="assistant"&&o.message?.content&&(this._emit("content",i.delta.content,o.message.content),this._emit("content.delta",{delta:i.delta.content,snapshot:o.message.content,parsed:o.message.parsed})),i.delta.refusal!=null&&o.message?.role==="assistant"&&o.message?.refusal&&this._emit("refusal.delta",{delta:i.delta.refusal,snapshot:o.message.refusal}),i.logprobs?.content!=null&&o.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:i.logprobs?.content,snapshot:o.logprobs?.content??[]}),i.logprobs?.refusal!=null&&o.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:i.logprobs?.refusal,snapshot:o.logprobs?.refusal??[]});let s=se(this,zi,"m",EO).call(this,o);o.finish_reason&&(se(this,zi,"m",fZ).call(this,o),s.current_tool_call_index!=null&&se(this,zi,"m",mZ).call(this,o,s.current_tool_call_index));for(let a of i.delta.tool_calls??[])s.current_tool_call_index!==a.index&&(se(this,zi,"m",fZ).call(this,o),s.current_tool_call_index!=null&&se(this,zi,"m",mZ).call(this,o,s.current_tool_call_index)),s.current_tool_call_index=a.index;for(let a of i.delta.tool_calls??[]){let c=o.message.tool_calls?.[a.index];c?.type&&(c?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:c.function?.name,index:a.index,arguments:c.function.arguments,parsed_arguments:c.function.parsed_arguments,arguments_delta:a.function?.arguments??""}):(c?.type,void 0))}}},mZ=function(r,n){if(se(this,zi,"m",EO).call(this,r).done_tool_calls.has(n))return;let o=r.message.tool_calls?.[n];if(!o)throw new Error("no tool call snapshot");if(!o.type)throw new Error("tool call snapshot missing `type`");if(o.type==="function"){let s=se(this,Tp,"f")?.tools?.find(a=>fA(a)&&a.function.name===o.function.name);this._emit("tool_calls.function.arguments.done",{name:o.function.name,index:n,arguments:o.function.arguments,parsed_arguments:V0(s)?s.$parseRaw(o.function.arguments):s?.function.strict?JSON.parse(o.function.arguments):null})}else o.type},fZ=function(r){let n=se(this,zi,"m",EO).call(this,r);if(r.message.content&&!n.content_done){n.content_done=!0;let i=se(this,zi,"m",hZ).call(this);this._emit("content.done",{content:r.message.content,parsed:i?i.$parseRaw(r.message.content):null})}r.message.refusal&&!n.refusal_done&&(n.refusal_done=!0,this._emit("refusal.done",{refusal:r.message.refusal})),r.logprobs?.content&&!n.logprobs_content_done&&(n.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:r.logprobs.content})),r.logprobs?.refusal&&!n.logprobs_refusal_done&&(n.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:r.logprobs.refusal}))},RO=function(){if(this.ended)throw new Ze("stream has ended, this shouldn't happen");let r=se(this,Kf,"f");if(!r)throw new Ze("request ended without sending any chunks");return vt(this,Kf,void 0,"f"),vt(this,k_,[],"f"),mvt(r,se(this,Tp,"f"))},hZ=function(){let r=se(this,Tp,"f")?.response_format;return hA(r)?r:null},Z9e=function(r){var n,i,o,s;let a=se(this,Kf,"f"),{choices:c,...l}=r;a?Object.assign(a,l):a=vt(this,Kf,{...l,choices:[]},"f");for(let{delta:u,finish_reason:d,index:p,logprobs:m=null,...h}of r.choices){let f=a.choices[p];if(f||(f=a.choices[p]={finish_reason:d,index:p,message:{},logprobs:m,...h}),m)if(!f.logprobs)f.logprobs=Object.assign({},m);else{let{content:N,refusal:L,...B}=m;Object.assign(f.logprobs,B),N&&((n=f.logprobs).content??(n.content=[]),f.logprobs.content.push(...N)),L&&((i=f.logprobs).refusal??(i.refusal=[]),f.logprobs.refusal.push(...L))}if(d&&(f.finish_reason=d,se(this,Tp,"f")&&tZ(se(this,Tp,"f")))){if(d==="length")throw new R_;if(d==="content_filter")throw new T_}if(Object.assign(f,h),!u)continue;let{content:y,refusal:v,function_call:_,role:x,tool_calls:E,...I}=u;if(Object.assign(f.message,I),v&&(f.message.refusal=(f.message.refusal||"")+v),x&&(f.message.role=x),_&&(f.message.function_call?(_.name&&(f.message.function_call.name=_.name),_.arguments&&((o=f.message.function_call).arguments??(o.arguments=""),f.message.function_call.arguments+=_.arguments)):f.message.function_call=_),y&&(f.message.content=(f.message.content||"")+y,!f.message.refusal&&se(this,zi,"m",hZ).call(this)&&(f.message.parsed=uZ(f.message.content))),E){f.message.tool_calls||(f.message.tool_calls=[]);for(let{index:N,id:L,type:B,function:P,...V}of E){let j=(s=f.message.tool_calls)[N]??(s[N]={});Object.assign(j,V),L&&(j.id=L),B&&(j.type=B),P&&(j.function??(j.function={name:P.name??"",arguments:""})),P?.name&&(j.function.name=P.name),P?.arguments&&(j.function.arguments+=P.arguments,H9e(se(this,Tp,"f"),j)&&(j.function.parsed_arguments=uZ(j.function.arguments)))}}}return a},Symbol.asyncIterator)](){let e=[],r=[],n=!1;return this.on("chunk",i=>{let o=r.shift();o?o.resolve(i):e.push(i)}),this.on("end",()=>{n=!0;for(let i of r)i.resolve(void 0);r.length=0}),this.on("abort",i=>{n=!0;for(let o of r)o.reject(i);r.length=0}),this.on("error",i=>{n=!0;for(let o of r)o.reject(i);r.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((o,s)=>r.push({resolve:o,reject:s})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Gu(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}};function mvt(t,e){let{id:r,choices:n,created:i,model:o,system_fingerprint:s,...a}=t,c={...a,id:r,choices:n.map(({message:l,finish_reason:u,index:d,logprobs:p,...m})=>{if(!u)throw new Ze(`missing finish_reason for choice ${d}`);let{content:h=null,function_call:f,tool_calls:y,...v}=l,_=l.role;if(!_)throw new Ze(`missing role for choice ${d}`);if(f){let{arguments:x,name:E}=f;if(x==null)throw new Ze(`missing function_call.arguments for choice ${d}`);if(!E)throw new Ze(`missing function_call.name for choice ${d}`);return{...m,message:{content:h,function_call:{arguments:x,name:E},role:_,refusal:l.refusal??null},finish_reason:u,index:d,logprobs:p}}return y?{...m,index:d,finish_reason:u,logprobs:p,message:{...v,role:_,content:h,refusal:l.refusal??null,tool_calls:y.map((x,E)=>{let{function:I,type:N,id:L,...B}=x,{arguments:P,name:V,...j}=I||{};if(L==null)throw new Ze(`missing choices[${d}].tool_calls[${E}].id
${TO(t)}`);if(N==null)throw new Ze(`missing choices[${d}].tool_calls[${E}].type
${TO(t)}`);if(V==null)throw new Ze(`missing choices[${d}].tool_calls[${E}].function.name
${TO(t)}`);if(P==null)throw new Ze(`missing choices[${d}].tool_calls[${E}].function.arguments
${TO(t)}`);return{...B,id:L,type:N,function:{...j,name:V,arguments:P}}})}}:{...m,message:{...v,content:h,role:_,refusal:l.refusal??null},finish_reason:u,index:d,logprobs:p}}),created:i,model:o,object:"chat.completion",...s?{system_fingerprint:s}:{}};return q9e(c,e)}function TO(t){return JSON.stringify(t)}var wA=class t extends j0{static fromReadableStream(e){let r=new t(null);return r._run(()=>r._fromReadableStream(e)),r}static runTools(e,r,n){let i=new t(r),o={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,r,o)),i}};var Ip=class extends be{constructor(){super(...arguments),this.messages=new z0(this._client)}create(e,r){return this._client.post("/chat/completions",{body:e,...r,stream:e.stream??!1})}retrieve(e,r){return this._client.get(he`/chat/completions/${e}`,r)}update(e,r,n){return this._client.post(he`/chat/completions/${e}`,{body:r,...n})}list(e={},r){return this._client.getAPIList("/chat/completions",Xt,{query:e,...r})}delete(e,r){return this._client.delete(he`/chat/completions/${e}`,r)}parse(e,r){return G9e(e.tools),this._client.chat.completions.create(e,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(n=>gA(n,e))}runTools(e,r){return e.stream?wA.runTools(this._client,e,r):SA.runTools(this._client,e,r)}stream(e,r){return j0.createChatCompletion(this._client,e,r)}};Ip.Messages=z0;var Yf=class extends be{constructor(){super(...arguments),this.completions=new Ip(this._client)}};Yf.Completions=Ip;var X9e=Symbol("brand.privateNullableHeaders");function*hvt(t){if(!t)return;if(X9e in t){let{values:n,nulls:i}=t;yield*n.entries();for(let o of i)yield[o,null];return}let e=!1,r;t instanceof Headers?r=t.entries():$Q(t)?r=t:(e=!0,r=Object.entries(t??{}));for(let n of r){let i=n[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");let o=$Q(n[1])?n[1]:[n[1]],s=!1;for(let a of o)a!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,a])}}var Be=t=>{let e=new Headers,r=new Set;for(let n of t){let i=new Set;for(let[o,s]of hvt(n)){let a=o.toLowerCase();i.has(a)||(e.delete(o),i.add(a)),s===null?(e.delete(o),r.add(a)):(e.append(o,s),r.delete(a))}}return{[X9e]:!0,values:e,nulls:r}};var D_=class extends be{create(e,r){return this._client.post("/audio/speech",{body:e,...r,headers:Be([{Accept:"application/octet-stream"},r?.headers]),__binaryResponse:!0})}};var M_=class extends be{create(e,r){return this._client.post("/audio/transcriptions",Fa({body:e,...r,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}};var $_=class extends be{create(e,r){return this._client.post("/audio/translations",Fa({body:e,...r,__metadata:{model:e.model}},this._client))}};var Yu=class extends be{constructor(){super(...arguments),this.transcriptions=new M_(this._client),this.translations=new $_(this._client),this.speech=new D_(this._client)}};Yu.Transcriptions=M_;Yu.Translations=$_;Yu.Speech=D_;var q0=class extends be{create(e,r){return this._client.post("/batches",{body:e,...r})}retrieve(e,r){return this._client.get(he`/batches/${e}`,r)}list(e={},r){return this._client.getAPIList("/batches",Xt,{query:e,...r})}cancel(e,r){return this._client.post(he`/batches/${e}/cancel`,r)}};var L_=class extends be{create(e,r){return this._client.post("/assistants",{body:e,...r,headers:Be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(e,r){return this._client.get(he`/assistants/${e}`,{...r,headers:Be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(e,r,n){return this._client.post(he`/assistants/${e}`,{body:r,...n,headers:Be([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e={},r){return this._client.getAPIList("/assistants",Xt,{query:e,...r,headers:Be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(e,r){return this._client.delete(he`/assistants/${e}`,{...r,headers:Be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}};var B_=class extends be{create(e,r){return this._client.post("/realtime/sessions",{body:e,...r,headers:Be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}};var U_=class extends be{create(e,r){return this._client.post("/realtime/transcription_sessions",{body:e,...r,headers:Be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}};var Jf=class extends be{constructor(){super(...arguments),this.sessions=new B_(this._client),this.transcriptionSessions=new U_(this._client)}};Jf.Sessions=B_;Jf.TranscriptionSessions=U_;var F_=class extends be{create(e,r){return this._client.post("/chatkit/sessions",{body:e,...r,headers:Be([{"OpenAI-Beta":"chatkit_beta=v1"},r?.headers])})}cancel(e,r){return this._client.post(he`/chatkit/sessions/${e}/cancel`,{...r,headers:Be([{"OpenAI-Beta":"chatkit_beta=v1"},r?.headers])})}};var z_=class extends be{retrieve(e,r){return this._client.get(he`/chatkit/threads/${e}`,{...r,headers:Be([{"OpenAI-Beta":"chatkit_beta=v1"},r?.headers])})}list(e={},r){return this._client.getAPIList("/chatkit/threads",Ep,{query:e,...r,headers:Be([{"OpenAI-Beta":"chatkit_beta=v1"},r?.headers])})}delete(e,r){return this._client.delete(he`/chatkit/threads/${e}`,{...r,headers:Be([{"OpenAI-Beta":"chatkit_beta=v1"},r?.headers])})}listItems(e,r={},n){return this._client.getAPIList(he`/chatkit/threads/${e}/items`,Ep,{query:r,...n,headers:Be([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}};var Qf=class extends be{constructor(){super(...arguments),this.sessions=new F_(this._client),this.threads=new z_(this._client)}};Qf.Sessions=F_;Qf.Threads=z_;var V_=class extends be{create(e,r,n){return this._client.post(he`/threads/${e}/messages`,{body:r,...n,headers:Be([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,r,n){let{thread_id:i}=r;return this._client.get(he`/threads/${i}/messages/${e}`,{...n,headers:Be([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,r,n){let{thread_id:i,...o}=r;return this._client.post(he`/threads/${i}/messages/${e}`,{body:o,...n,headers:Be([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,r={},n){return this._client.getAPIList(he`/threads/${e}/messages`,Xt,{query:r,...n,headers:Be([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,r,n){let{thread_id:i}=r;return this._client.delete(he`/threads/${i}/messages/${e}`,{...n,headers:Be([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};var j_=class extends be{retrieve(e,r,n){let{thread_id:i,run_id:o,...s}=r;return this._client.get(he`/threads/${i}/runs/${o}/steps/${e}`,{query:s,...n,headers:Be([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,r,n){let{thread_id:i,...o}=r;return this._client.getAPIList(he`/threads/${i}/runs/${e}/steps`,Xt,{query:o,...n,headers:Be([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};var e7e=t=>{if(typeof Buffer<"u"){let e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{let e=atob(t),r=e.length,n=new Uint8Array(r);for(let i=0;i<r;i++)n[i]=e.charCodeAt(i);return Array.from(new Float32Array(n.buffer))}};var Zf=t=>{if(typeof globalThis.process<"u")return globalThis.process.env?.[t]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(t)?.trim()};var bo,W0,gZ,Ju,IO,Kl,G0,q_,H0,NO,za,CO,OO,EA,xA,AA,t7e,r7e,n7e,i7e,o7e,s7e,a7e,Cp=class extends Gf{constructor(){super(...arguments),bo.add(this),gZ.set(this,[]),Ju.set(this,{}),IO.set(this,{}),Kl.set(this,void 0),G0.set(this,void 0),q_.set(this,void 0),H0.set(this,void 0),NO.set(this,void 0),za.set(this,void 0),CO.set(this,void 0),OO.set(this,void 0),EA.set(this,void 0)}[(gZ=new WeakMap,Ju=new WeakMap,IO=new WeakMap,Kl=new WeakMap,G0=new WeakMap,q_=new WeakMap,H0=new WeakMap,NO=new WeakMap,za=new WeakMap,CO=new WeakMap,OO=new WeakMap,EA=new WeakMap,bo=new WeakSet,Symbol.asyncIterator)](){let e=[],r=[],n=!1;return this.on("event",i=>{let o=r.shift();o?o.resolve(i):e.push(i)}),this.on("end",()=>{n=!0;for(let i of r)i.resolve(void 0);r.length=0}),this.on("abort",i=>{n=!0;for(let o of r)o.reject(i);r.length=0}),this.on("error",i=>{n=!0;for(let o of r)o.reject(i);r.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((o,s)=>r.push({resolve:o,reject:s})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){let r=new W0;return r._run(()=>r._fromReadableStream(e)),r}async _fromReadableStream(e,r){let n=r?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),this._connected();let i=Gu.fromReadableStream(e,this.controller);for await(let o of i)se(this,bo,"m",xA).call(this,o);if(i.controller.signal?.aborted)throw new Ai;return this._addRun(se(this,bo,"m",AA).call(this))}toReadableStream(){return new Gu(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,r,n,i){let o=new W0;return o._run(()=>o._runToolAssistantStream(e,r,n,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(e,r,n,i){let o=i?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));let s={...n,stream:!0},a=await e.submitToolOutputs(r,s,{...i,signal:this.controller.signal});this._connected();for await(let c of a)se(this,bo,"m",xA).call(this,c);if(a.controller.signal?.aborted)throw new Ai;return this._addRun(se(this,bo,"m",AA).call(this))}static createThreadAssistantStream(e,r,n){let i=new W0;return i._run(()=>i._threadAssistantStream(e,r,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(e,r,n,i){let o=new W0;return o._run(()=>o._runAssistantStream(e,r,n,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),o}currentEvent(){return se(this,CO,"f")}currentRun(){return se(this,OO,"f")}currentMessageSnapshot(){return se(this,Kl,"f")}currentRunStepSnapshot(){return se(this,EA,"f")}async finalRunSteps(){return await this.done(),Object.values(se(this,Ju,"f"))}async finalMessages(){return await this.done(),Object.values(se(this,IO,"f"))}async finalRun(){if(await this.done(),!se(this,G0,"f"))throw Error("Final run was not received.");return se(this,G0,"f")}async _createThreadAssistantStream(e,r,n){let i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));let o={...r,stream:!0},s=await e.createAndRun(o,{...n,signal:this.controller.signal});this._connected();for await(let a of s)se(this,bo,"m",xA).call(this,a);if(s.controller.signal?.aborted)throw new Ai;return this._addRun(se(this,bo,"m",AA).call(this))}async _createAssistantStream(e,r,n,i){let o=i?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));let s={...n,stream:!0},a=await e.create(r,s,{...i,signal:this.controller.signal});this._connected();for await(let c of a)se(this,bo,"m",xA).call(this,c);if(a.controller.signal?.aborted)throw new Ai;return this._addRun(se(this,bo,"m",AA).call(this))}static accumulateDelta(e,r){for(let[n,i]of Object.entries(r)){if(!e.hasOwnProperty(n)){e[n]=i;continue}let o=e[n];if(o==null){e[n]=i;continue}if(n==="index"||n==="type"){e[n]=i;continue}if(typeof o=="string"&&typeof i=="string")o+=i;else if(typeof o=="number"&&typeof i=="number")o+=i;else if(aA(o)&&aA(i))o=this.accumulateDelta(o,i);else if(Array.isArray(o)&&Array.isArray(i)){if(o.every(s=>typeof s=="string"||typeof s=="number")){o.push(...i);continue}for(let s of i){if(!aA(s))throw new Error(`Expected array delta entry to be an object but got: ${s}`);let a=s.index;if(a==null)throw console.error(s),new Error("Expected array delta entry to have an `index` property");if(typeof a!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${a}`);let c=o[a];c==null?o.push(s):o[a]=this.accumulateDelta(c,s)}continue}else throw Error(`Unhandled record type: ${n}, deltaValue: ${i}, accValue: ${o}`);e[n]=o}return e}_addRun(e){return e}async _threadAssistantStream(e,r,n){return await this._createThreadAssistantStream(r,e,n)}async _runAssistantStream(e,r,n,i){return await this._createAssistantStream(r,e,n,i)}async _runToolAssistantStream(e,r,n,i){return await this._createToolAssistantStream(r,e,n,i)}};W0=Cp,xA=function(e){if(!this.ended)switch(vt(this,CO,e,"f"),se(this,bo,"m",n7e).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":se(this,bo,"m",a7e).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":se(this,bo,"m",r7e).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":se(this,bo,"m",t7e).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier");default:}},AA=function(){if(this.ended)throw new Ze("stream has ended, this shouldn't happen");if(!se(this,G0,"f"))throw Error("Final run has not been received");return se(this,G0,"f")},t7e=function(e){let[r,n]=se(this,bo,"m",o7e).call(this,e,se(this,Kl,"f"));vt(this,Kl,r,"f"),se(this,IO,"f")[r.id]=r;for(let i of n){let o=r.content[i.index];o?.type=="text"&&this._emit("textCreated",o.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,r),e.data.delta.content)for(let i of e.data.delta.content){if(i.type=="text"&&i.text){let o=i.text,s=r.content[i.index];if(s&&s.type=="text")this._emit("textDelta",o,s.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(i.index!=se(this,q_,"f")){if(se(this,H0,"f"))switch(se(this,H0,"f").type){case"text":this._emit("textDone",se(this,H0,"f").text,se(this,Kl,"f"));break;case"image_file":this._emit("imageFileDone",se(this,H0,"f").image_file,se(this,Kl,"f"));break}vt(this,q_,i.index,"f")}vt(this,H0,r.content[i.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(se(this,q_,"f")!==void 0){let i=e.data.content[se(this,q_,"f")];if(i)switch(i.type){case"image_file":this._emit("imageFileDone",i.image_file,se(this,Kl,"f"));break;case"text":this._emit("textDone",i.text,se(this,Kl,"f"));break}}se(this,Kl,"f")&&this._emit("messageDone",e.data),vt(this,Kl,void 0,"f")}},r7e=function(e){let r=se(this,bo,"m",i7e).call(this,e);switch(vt(this,EA,r,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":let n=e.data.delta;if(n.step_details&&n.step_details.type=="tool_calls"&&n.step_details.tool_calls&&r.step_details.type=="tool_calls")for(let o of n.step_details.tool_calls)o.index==se(this,NO,"f")?this._emit("toolCallDelta",o,r.step_details.tool_calls[o.index]):(se(this,za,"f")&&this._emit("toolCallDone",se(this,za,"f")),vt(this,NO,o.index,"f"),vt(this,za,r.step_details.tool_calls[o.index],"f"),se(this,za,"f")&&this._emit("toolCallCreated",se(this,za,"f")));this._emit("runStepDelta",e.data.delta,r);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":vt(this,EA,void 0,"f"),e.data.step_details.type=="tool_calls"&&se(this,za,"f")&&(this._emit("toolCallDone",se(this,za,"f")),vt(this,za,void 0,"f")),this._emit("runStepDone",e.data,r);break;case"thread.run.step.in_progress":break}},n7e=function(e){se(this,gZ,"f").push(e),this._emit("event",e)},i7e=function(e){switch(e.event){case"thread.run.step.created":return se(this,Ju,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let r=se(this,Ju,"f")[e.data.id];if(!r)throw Error("Received a RunStepDelta before creation of a snapshot");let n=e.data;if(n.delta){let i=W0.accumulateDelta(r,n.delta);se(this,Ju,"f")[e.data.id]=i}return se(this,Ju,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":se(this,Ju,"f")[e.data.id]=e.data;break}if(se(this,Ju,"f")[e.data.id])return se(this,Ju,"f")[e.data.id];throw new Error("No snapshot available")},o7e=function(e,r){let n=[];switch(e.event){case"thread.message.created":return[e.data,n];case"thread.message.delta":if(!r)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=e.data;if(i.delta.content)for(let o of i.delta.content)if(o.index in r.content){let s=r.content[o.index];r.content[o.index]=se(this,bo,"m",s7e).call(this,o,s)}else r.content[o.index]=o,n.push(o);return[r,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(r)return[r,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},s7e=function(e,r){return W0.accumulateDelta(r,e)},a7e=function(e){switch(vt(this,OO,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":vt(this,G0,e.data,"f"),se(this,za,"f")&&(this._emit("toolCallDone",se(this,za,"f")),vt(this,za,void 0,"f"));break;case"thread.run.cancelling":break}};var K0=class extends be{constructor(){super(...arguments),this.steps=new j_(this._client)}create(e,r,n){let{include:i,...o}=r;return this._client.post(he`/threads/${e}/runs`,{query:{include:i},body:o,...n,headers:Be([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:r.stream??!1})}retrieve(e,r,n){let{thread_id:i}=r;return this._client.get(he`/threads/${i}/runs/${e}`,{...n,headers:Be([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,r,n){let{thread_id:i,...o}=r;return this._client.post(he`/threads/${i}/runs/${e}`,{body:o,...n,headers:Be([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,r={},n){return this._client.getAPIList(he`/threads/${e}/runs`,Xt,{query:r,...n,headers:Be([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}cancel(e,r,n){let{thread_id:i}=r;return this._client.post(he`/threads/${i}/runs/${e}/cancel`,{...n,headers:Be([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(e,r,n){let i=await this.create(e,r,n);return await this.poll(i.id,{thread_id:e},n)}createAndStream(e,r,n){return Cp.createAssistantStream(e,this._client.beta.threads.runs,r,n)}async poll(e,r,n){let i=Be([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){let{data:o,response:s}=await this.retrieve(e,r,{...n,headers:{...n?.headers,...i}}).withResponse();switch(o.status){case"queued":case"in_progress":case"cancelling":let a=5e3;if(n?.pollIntervalMs)a=n.pollIntervalMs;else{let c=s.headers.get("openai-poll-after-ms");if(c){let l=parseInt(c);isNaN(l)||(a=l)}}await Hu(a);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return o}}}stream(e,r,n){return Cp.createAssistantStream(e,this._client.beta.threads.runs,r,n)}submitToolOutputs(e,r,n){let{thread_id:i,...o}=r;return this._client.post(he`/threads/${i}/runs/${e}/submit_tool_outputs`,{body:o,...n,headers:Be([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:r.stream??!1})}async submitToolOutputsAndPoll(e,r,n){let i=await this.submitToolOutputs(e,r,n);return await this.poll(i.id,r,n)}submitToolOutputsStream(e,r,n){return Cp.createToolAssistantStream(e,this._client.beta.threads.runs,r,n)}};K0.Steps=j_;var Xf=class extends be{constructor(){super(...arguments),this.runs=new K0(this._client),this.messages=new V_(this._client)}create(e={},r){return this._client.post("/threads",{body:e,...r,headers:Be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(e,r){return this._client.get(he`/threads/${e}`,{...r,headers:Be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(e,r,n){return this._client.post(he`/threads/${e}`,{body:r,...n,headers:Be([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,r){return this._client.delete(he`/threads/${e}`,{...r,headers:Be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}createAndRun(e,r){return this._client.post("/threads/runs",{body:e,...r,headers:Be([{"OpenAI-Beta":"assistants=v2"},r?.headers]),stream:e.stream??!1})}async createAndRunPoll(e,r){let n=await this.createAndRun(e,r);return await this.runs.poll(n.id,{thread_id:n.thread_id},r)}createAndRunStream(e,r){return Cp.createThreadAssistantStream(e,this._client.beta.threads,r)}};Xf.Runs=K0;Xf.Messages=V_;var Yl=class extends be{constructor(){super(...arguments),this.realtime=new Jf(this._client),this.chatkit=new Qf(this._client),this.assistants=new L_(this._client),this.threads=new Xf(this._client)}};Yl.Realtime=Jf;Yl.ChatKit=Qf;Yl.Assistants=L_;Yl.Threads=Xf;var Y0=class extends be{create(e,r){return this._client.post("/completions",{body:e,...r,stream:e.stream??!1})}};var H_=class extends be{retrieve(e,r,n){let{container_id:i}=r;return this._client.get(he`/containers/${i}/files/${e}/content`,{...n,headers:Be([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}};var J0=class extends be{constructor(){super(...arguments),this.content=new H_(this._client)}create(e,r,n){return this._client.post(he`/containers/${e}/files`,Fa({body:r,...n},this._client))}retrieve(e,r,n){let{container_id:i}=r;return this._client.get(he`/containers/${i}/files/${e}`,n)}list(e,r={},n){return this._client.getAPIList(he`/containers/${e}/files`,Xt,{query:r,...n})}delete(e,r,n){let{container_id:i}=r;return this._client.delete(he`/containers/${i}/files/${e}`,{...n,headers:Be([{Accept:"*/*"},n?.headers])})}};J0.Content=H_;var eh=class extends be{constructor(){super(...arguments),this.files=new J0(this._client)}create(e,r){return this._client.post("/containers",{body:e,...r})}retrieve(e,r){return this._client.get(he`/containers/${e}`,r)}list(e={},r){return this._client.getAPIList("/containers",Xt,{query:e,...r})}delete(e,r){return this._client.delete(he`/containers/${e}`,{...r,headers:Be([{Accept:"*/*"},r?.headers])})}};eh.Files=J0;var W_=class extends be{create(e,r,n){let{include:i,...o}=r;return this._client.post(he`/conversations/${e}/items`,{query:{include:i},body:o,...n})}retrieve(e,r,n){let{conversation_id:i,...o}=r;return this._client.get(he`/conversations/${i}/items/${e}`,{query:o,...n})}list(e,r={},n){return this._client.getAPIList(he`/conversations/${e}/items`,Ep,{query:r,...n})}delete(e,r,n){let{conversation_id:i}=r;return this._client.delete(he`/conversations/${i}/items/${e}`,n)}};var th=class extends be{constructor(){super(...arguments),this.items=new W_(this._client)}create(e={},r){return this._client.post("/conversations",{body:e,...r})}retrieve(e,r){return this._client.get(he`/conversations/${e}`,r)}update(e,r,n){return this._client.post(he`/conversations/${e}`,{body:r,...n})}delete(e,r){return this._client.delete(he`/conversations/${e}`,r)}};th.Items=W_;var Q0=class extends be{create(e,r){let n=!!e.encoding_format,i=n?e.encoding_format:"base64";n&&si(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);let o=this._client.post("/embeddings",{body:{...e,encoding_format:i},...r});return n?o:(si(this._client).debug("embeddings/decoding base64 embeddings from base64"),o._thenUnwrap(s=>(s&&s.data&&s.data.forEach(a=>{let c=a.embedding;a.embedding=e7e(c)}),s)))}};var G_=class extends be{retrieve(e,r,n){let{eval_id:i,run_id:o}=r;return this._client.get(he`/evals/${i}/runs/${o}/output_items/${e}`,n)}list(e,r,n){let{eval_id:i,...o}=r;return this._client.getAPIList(he`/evals/${i}/runs/${e}/output_items`,Xt,{query:o,...n})}};var Z0=class extends be{constructor(){super(...arguments),this.outputItems=new G_(this._client)}create(e,r,n){return this._client.post(he`/evals/${e}/runs`,{body:r,...n})}retrieve(e,r,n){let{eval_id:i}=r;return this._client.get(he`/evals/${i}/runs/${e}`,n)}list(e,r={},n){return this._client.getAPIList(he`/evals/${e}/runs`,Xt,{query:r,...n})}delete(e,r,n){let{eval_id:i}=r;return this._client.delete(he`/evals/${i}/runs/${e}`,n)}cancel(e,r,n){let{eval_id:i}=r;return this._client.post(he`/evals/${i}/runs/${e}`,n)}};Z0.OutputItems=G_;var rh=class extends be{constructor(){super(...arguments),this.runs=new Z0(this._client)}create(e,r){return this._client.post("/evals",{body:e,...r})}retrieve(e,r){return this._client.get(he`/evals/${e}`,r)}update(e,r,n){return this._client.post(he`/evals/${e}`,{body:r,...n})}list(e={},r){return this._client.getAPIList("/evals",Xt,{query:e,...r})}delete(e,r){return this._client.delete(he`/evals/${e}`,r)}};rh.Runs=Z0;var X0=class extends be{create(e,r){return this._client.post("/files",Fa({body:e,...r},this._client))}retrieve(e,r){return this._client.get(he`/files/${e}`,r)}list(e={},r){return this._client.getAPIList("/files",Xt,{query:e,...r})}delete(e,r){return this._client.delete(he`/files/${e}`,r)}content(e,r){return this._client.get(he`/files/${e}/content`,{...r,headers:Be([{Accept:"application/binary"},r?.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:r=5e3,maxWait:n=1800*1e3}={}){let i=new Set(["processed","error","deleted"]),o=Date.now(),s=await this.retrieve(e);for(;!s.status||!i.has(s.status);)if(await Hu(r),s=await this.retrieve(e),Date.now()-o>n)throw new Hf({message:`Giving up on waiting for file ${e} to finish processing after ${n} milliseconds.`});return s}};var K_=class extends be{};var Y_=class extends be{run(e,r){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...r})}validate(e,r){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...r})}};var e1=class extends be{constructor(){super(...arguments),this.graders=new Y_(this._client)}};e1.Graders=Y_;var J_=class extends be{create(e,r,n){return this._client.getAPIList(he`/fine_tuning/checkpoints/${e}/permissions`,Ku,{body:r,method:"post",...n})}retrieve(e,r={},n){return this._client.get(he`/fine_tuning/checkpoints/${e}/permissions`,{query:r,...n})}delete(e,r,n){let{fine_tuned_model_checkpoint:i}=r;return this._client.delete(he`/fine_tuning/checkpoints/${i}/permissions/${e}`,n)}};var t1=class extends be{constructor(){super(...arguments),this.permissions=new J_(this._client)}};t1.Permissions=J_;var Q_=class extends be{list(e,r={},n){return this._client.getAPIList(he`/fine_tuning/jobs/${e}/checkpoints`,Xt,{query:r,...n})}};var r1=class extends be{constructor(){super(...arguments),this.checkpoints=new Q_(this._client)}create(e,r){return this._client.post("/fine_tuning/jobs",{body:e,...r})}retrieve(e,r){return this._client.get(he`/fine_tuning/jobs/${e}`,r)}list(e={},r){return this._client.getAPIList("/fine_tuning/jobs",Xt,{query:e,...r})}cancel(e,r){return this._client.post(he`/fine_tuning/jobs/${e}/cancel`,r)}listEvents(e,r={},n){return this._client.getAPIList(he`/fine_tuning/jobs/${e}/events`,Xt,{query:r,...n})}pause(e,r){return this._client.post(he`/fine_tuning/jobs/${e}/pause`,r)}resume(e,r){return this._client.post(he`/fine_tuning/jobs/${e}/resume`,r)}};r1.Checkpoints=Q_;var Jl=class extends be{constructor(){super(...arguments),this.methods=new K_(this._client),this.jobs=new r1(this._client),this.checkpoints=new t1(this._client),this.alpha=new e1(this._client)}};Jl.Methods=K_;Jl.Jobs=r1;Jl.Checkpoints=t1;Jl.Alpha=e1;var Z_=class extends be{};var nh=class extends be{constructor(){super(...arguments),this.graderModels=new Z_(this._client)}};nh.GraderModels=Z_;var n1=class extends be{createVariation(e,r){return this._client.post("/images/variations",Fa({body:e,...r},this._client))}edit(e,r){return this._client.post("/images/edits",Fa({body:e,...r,stream:e.stream??!1},this._client))}generate(e,r){return this._client.post("/images/generations",{body:e,...r,stream:e.stream??!1})}};var i1=class extends be{retrieve(e,r){return this._client.get(he`/models/${e}`,r)}list(e){return this._client.getAPIList("/models",Ku,e)}delete(e,r){return this._client.delete(he`/models/${e}`,r)}};var o1=class extends be{create(e,r){return this._client.post("/moderations",{body:e,...r})}};var X_=class extends be{accept(e,r,n){return this._client.post(he`/realtime/calls/${e}/accept`,{body:r,...n,headers:Be([{Accept:"*/*"},n?.headers])})}hangup(e,r){return this._client.post(he`/realtime/calls/${e}/hangup`,{...r,headers:Be([{Accept:"*/*"},r?.headers])})}refer(e,r,n){return this._client.post(he`/realtime/calls/${e}/refer`,{body:r,...n,headers:Be([{Accept:"*/*"},n?.headers])})}reject(e,r={},n){return this._client.post(he`/realtime/calls/${e}/reject`,{body:r,...n,headers:Be([{Accept:"*/*"},n?.headers])})}};var e2=class extends be{create(e,r){return this._client.post("/realtime/client_secrets",{body:e,...r})}};var Op=class extends be{constructor(){super(...arguments),this.clientSecrets=new e2(this._client),this.calls=new X_(this._client)}};Op.ClientSecrets=e2;Op.Calls=X_;function c7e(t,e){return!e||!Wvt(e)?{...t,output_parsed:null,output:t.output.map(r=>r.type==="function_call"?{...r,parsed_arguments:null}:r.type==="message"?{...r,content:r.content.map(n=>({...n,parsed:null}))}:r)}:yZ(t,e)}function yZ(t,e){let r=t.output.map(i=>{if(i.type==="function_call")return{...i,parsed_arguments:Yvt(e,i)};if(i.type==="message"){let o=i.content.map(s=>s.type==="output_text"?{...s,parsed:Hvt(e,s.text)}:s);return{...i,content:o}}return i}),n=Object.assign({},t,{output:r});return Object.getOwnPropertyDescriptor(t,"output_text")||PO(n),Object.defineProperty(n,"output_parsed",{enumerable:!0,get(){for(let i of n.output)if(i.type==="message"){for(let o of i.content)if(o.type==="output_text"&&o.parsed!==null)return o.parsed}return null}}),n}function Hvt(t,e){return t.text?.format?.type!=="json_schema"?null:"$parseRaw"in t.text?.format?(t.text?.format).$parseRaw(e):JSON.parse(e)}function Wvt(t){return!!hA(t.text?.format)}function Gvt(t){return t?.$brand==="auto-parseable-tool"}function Kvt(t,e){return t.find(r=>r.type==="function"&&r.name===e)}function Yvt(t,e){let r=Kvt(t.tools??[],e.name);return{...e,...e,parsed_arguments:Gvt(r)?r.$parseRaw(e.arguments):r?.strict?JSON.parse(e.arguments):null}}function PO(t){let e=[];for(let r of t.output)if(r.type==="message")for(let n of r.content)n.type==="output_text"&&e.push(n.text);t.output_text=e.join("")}var t2,kO,ih,DO,l7e,u7e,d7e,p7e,MO=class t extends Gf{constructor(e){super(),t2.add(this),kO.set(this,void 0),ih.set(this,void 0),DO.set(this,void 0),vt(this,kO,e,"f")}static createResponse(e,r,n){let i=new t(r);return i._run(()=>i._createOrRetrieveResponse(e,r,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createOrRetrieveResponse(e,r,n){let i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),se(this,t2,"m",l7e).call(this);let o,s=null;"response_id"in r?(o=await e.responses.retrieve(r.response_id,{stream:!0},{...n,signal:this.controller.signal,stream:!0}),s=r.starting_after??null):o=await e.responses.create({...r,stream:!0},{...n,signal:this.controller.signal}),this._connected();for await(let a of o)se(this,t2,"m",u7e).call(this,a,s);if(o.controller.signal?.aborted)throw new Ai;return se(this,t2,"m",d7e).call(this)}[(kO=new WeakMap,ih=new WeakMap,DO=new WeakMap,t2=new WeakSet,l7e=function(){this.ended||vt(this,ih,void 0,"f")},u7e=function(r,n){if(this.ended)return;let i=(s,a)=>{(n==null||a.sequence_number>n)&&this._emit(s,a)},o=se(this,t2,"m",p7e).call(this,r);switch(i("event",r),r.type){case"response.output_text.delta":{let s=o.output[r.output_index];if(!s)throw new Ze(`missing output at index ${r.output_index}`);if(s.type==="message"){let a=s.content[r.content_index];if(!a)throw new Ze(`missing content at index ${r.content_index}`);if(a.type!=="output_text")throw new Ze(`expected content to be 'output_text', got ${a.type}`);i("response.output_text.delta",{...r,snapshot:a.text})}break}case"response.function_call_arguments.delta":{let s=o.output[r.output_index];if(!s)throw new Ze(`missing output at index ${r.output_index}`);s.type==="function_call"&&i("response.function_call_arguments.delta",{...r,snapshot:s.arguments});break}default:i(r.type,r);break}},d7e=function(){if(this.ended)throw new Ze("stream has ended, this shouldn't happen");let r=se(this,ih,"f");if(!r)throw new Ze("request ended without sending any events");vt(this,ih,void 0,"f");let n=Jvt(r,se(this,kO,"f"));return vt(this,DO,n,"f"),n},p7e=function(r){let n=se(this,ih,"f");if(!n){if(r.type!=="response.created")throw new Ze(`When snapshot hasn't been set yet, expected 'response.created' event, got ${r.type}`);return n=vt(this,ih,r.response,"f"),n}switch(r.type){case"response.output_item.added":{n.output.push(r.item);break}case"response.content_part.added":{let i=n.output[r.output_index];if(!i)throw new Ze(`missing output at index ${r.output_index}`);let o=i.type,s=r.part;o==="message"&&s.type!=="reasoning_text"?i.content.push(s):o==="reasoning"&&s.type==="reasoning_text"&&(i.content||(i.content=[]),i.content.push(s));break}case"response.output_text.delta":{let i=n.output[r.output_index];if(!i)throw new Ze(`missing output at index ${r.output_index}`);if(i.type==="message"){let o=i.content[r.content_index];if(!o)throw new Ze(`missing content at index ${r.content_index}`);if(o.type!=="output_text")throw new Ze(`expected content to be 'output_text', got ${o.type}`);o.text+=r.delta}break}case"response.function_call_arguments.delta":{let i=n.output[r.output_index];if(!i)throw new Ze(`missing output at index ${r.output_index}`);i.type==="function_call"&&(i.arguments+=r.delta);break}case"response.reasoning_text.delta":{let i=n.output[r.output_index];if(!i)throw new Ze(`missing output at index ${r.output_index}`);if(i.type==="reasoning"){let o=i.content?.[r.content_index];if(!o)throw new Ze(`missing content at index ${r.content_index}`);if(o.type!=="reasoning_text")throw new Ze(`expected content to be 'reasoning_text', got ${o.type}`);o.text+=r.delta}break}case"response.completed":{vt(this,ih,r.response,"f");break}}return n},Symbol.asyncIterator)](){let e=[],r=[],n=!1;return this.on("event",i=>{let o=r.shift();o?o.resolve(i):e.push(i)}),this.on("end",()=>{n=!0;for(let i of r)i.resolve(void 0);r.length=0}),this.on("abort",i=>{n=!0;for(let o of r)o.reject(i);r.length=0}),this.on("error",i=>{n=!0;for(let o of r)o.reject(i);r.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((o,s)=>r.push({resolve:o,reject:s})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();let e=se(this,DO,"f");if(!e)throw new Ze("stream ended without producing a ChatCompletion");return e}};function Jvt(t,e){return c7e(t,e)}var r2=class extends be{list(e,r={},n){return this._client.getAPIList(he`/responses/${e}/input_items`,Xt,{query:r,...n})}};var n2=class extends be{count(e={},r){return this._client.post("/responses/input_tokens",{body:e,...r})}};var Np=class extends be{constructor(){super(...arguments),this.inputItems=new r2(this._client),this.inputTokens=new n2(this._client)}create(e,r){return this._client.post("/responses",{body:e,...r,stream:e.stream??!1})._thenUnwrap(n=>("object"in n&&n.object==="response"&&PO(n),n))}retrieve(e,r={},n){return this._client.get(he`/responses/${e}`,{query:r,...n,stream:r?.stream??!1})._thenUnwrap(i=>("object"in i&&i.object==="response"&&PO(i),i))}delete(e,r){return this._client.delete(he`/responses/${e}`,{...r,headers:Be([{Accept:"*/*"},r?.headers])})}parse(e,r){return this._client.responses.create(e,r)._thenUnwrap(n=>yZ(n,e))}stream(e,r){return MO.createResponse(this._client,e,r)}cancel(e,r){return this._client.post(he`/responses/${e}/cancel`,r)}compact(e,r){return this._client.post("/responses/compact",{body:e,...r})}};Np.InputItems=r2;Np.InputTokens=n2;var i2=class extends be{create(e,r,n){return this._client.post(he`/uploads/${e}/parts`,Fa({body:r,...n},this._client))}};var oh=class extends be{constructor(){super(...arguments),this.parts=new i2(this._client)}create(e,r){return this._client.post("/uploads",{body:e,...r})}cancel(e,r){return this._client.post(he`/uploads/${e}/cancel`,r)}complete(e,r,n){return this._client.post(he`/uploads/${e}/complete`,{body:r,...n})}};oh.Parts=i2;var m7e=async t=>{let e=await Promise.allSettled(t),r=e.filter(i=>i.status==="rejected");if(r.length){for(let i of r)console.error(i.reason);throw new Error(`${r.length} promise(s) failed - see the above errors`)}let n=[];for(let i of e)i.status==="fulfilled"&&n.push(i.value);return n};var o2=class extends be{create(e,r,n){return this._client.post(he`/vector_stores/${e}/file_batches`,{body:r,...n,headers:Be([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,r,n){let{vector_store_id:i}=r;return this._client.get(he`/vector_stores/${i}/file_batches/${e}`,{...n,headers:Be([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}cancel(e,r,n){let{vector_store_id:i}=r;return this._client.post(he`/vector_stores/${i}/file_batches/${e}/cancel`,{...n,headers:Be([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(e,r,n){let i=await this.create(e,r);return await this.poll(e,i.id,n)}listFiles(e,r,n){let{vector_store_id:i,...o}=r;return this._client.getAPIList(he`/vector_stores/${i}/file_batches/${e}/files`,Xt,{query:o,...n,headers:Be([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async poll(e,r,n){let i=Be([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){let{data:o,response:s}=await this.retrieve(r,{vector_store_id:e},{...n,headers:i}).withResponse();switch(o.status){case"in_progress":let a=5e3;if(n?.pollIntervalMs)a=n.pollIntervalMs;else{let c=s.headers.get("openai-poll-after-ms");if(c){let l=parseInt(c);isNaN(l)||(a=l)}}await Hu(a);break;case"failed":case"cancelled":case"completed":return o}}}async uploadAndPoll(e,{files:r,fileIds:n=[]},i){if(r==null||r.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");let o=i?.maxConcurrency??5,s=Math.min(o,r.length),a=this._client,c=r.values(),l=[...n];async function u(p){for(let m of p){let h=await a.files.create({file:m,purpose:"assistants"},i);l.push(h.id)}}let d=Array(s).fill(c).map(u);return await m7e(d),await this.createAndPoll(e,{file_ids:l})}};var s2=class extends be{create(e,r,n){return this._client.post(he`/vector_stores/${e}/files`,{body:r,...n,headers:Be([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,r,n){let{vector_store_id:i}=r;return this._client.get(he`/vector_stores/${i}/files/${e}`,{...n,headers:Be([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,r,n){let{vector_store_id:i,...o}=r;return this._client.post(he`/vector_stores/${i}/files/${e}`,{body:o,...n,headers:Be([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,r={},n){return this._client.getAPIList(he`/vector_stores/${e}/files`,Xt,{query:r,...n,headers:Be([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,r,n){let{vector_store_id:i}=r;return this._client.delete(he`/vector_stores/${i}/files/${e}`,{...n,headers:Be([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(e,r,n){let i=await this.create(e,r,n);return await this.poll(e,i.id,n)}async poll(e,r,n){let i=Be([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){let o=await this.retrieve(r,{vector_store_id:e},{...n,headers:i}).withResponse(),s=o.data;switch(s.status){case"in_progress":let a=5e3;if(n?.pollIntervalMs)a=n.pollIntervalMs;else{let c=o.response.headers.get("openai-poll-after-ms");if(c){let l=parseInt(c);isNaN(l)||(a=l)}}await Hu(a);break;case"failed":case"completed":return s}}}async upload(e,r,n){let i=await this._client.files.create({file:r,purpose:"assistants"},n);return this.create(e,{file_id:i.id},n)}async uploadAndPoll(e,r,n){let i=await this.upload(e,r,n);return await this.poll(e,i.id,n)}content(e,r,n){let{vector_store_id:i}=r;return this._client.getAPIList(he`/vector_stores/${i}/files/${e}/content`,Ku,{...n,headers:Be([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};var Pp=class extends be{constructor(){super(...arguments),this.files=new s2(this._client),this.fileBatches=new o2(this._client)}create(e,r){return this._client.post("/vector_stores",{body:e,...r,headers:Be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(e,r){return this._client.get(he`/vector_stores/${e}`,{...r,headers:Be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(e,r,n){return this._client.post(he`/vector_stores/${e}`,{body:r,...n,headers:Be([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e={},r){return this._client.getAPIList("/vector_stores",Xt,{query:e,...r,headers:Be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(e,r){return this._client.delete(he`/vector_stores/${e}`,{...r,headers:Be([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}search(e,r,n){return this._client.getAPIList(he`/vector_stores/${e}/search`,Ku,{body:r,method:"post",...n,headers:Be([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};Pp.Files=s2;Pp.FileBatches=o2;var s1=class extends be{create(e,r){return this._client.post("/videos",XQ({body:e,...r},this._client))}retrieve(e,r){return this._client.get(he`/videos/${e}`,r)}list(e={},r){return this._client.getAPIList("/videos",Ep,{query:e,...r})}delete(e,r){return this._client.delete(he`/videos/${e}`,r)}downloadContent(e,r={},n){return this._client.get(he`/videos/${e}/content`,{query:r,...n,headers:Be([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}remix(e,r,n){return this._client.post(he`/videos/${e}/remix`,XQ({body:r,...n},this._client))}};var a2,f7e,$O,a1=class extends be{constructor(){super(...arguments),a2.add(this)}async unwrap(e,r,n=this._client.webhookSecret,i=300){return await this.verifySignature(e,r,n,i),JSON.parse(e)}async verifySignature(e,r,n=this._client.webhookSecret,i=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");se(this,a2,"m",f7e).call(this,n);let o=Be([r]).values,s=se(this,a2,"m",$O).call(this,o,"webhook-signature"),a=se(this,a2,"m",$O).call(this,o,"webhook-timestamp"),c=se(this,a2,"m",$O).call(this,o,"webhook-id"),l=parseInt(a,10);if(isNaN(l))throw new qu("Invalid webhook timestamp format");let u=Math.floor(Date.now()/1e3);if(u-l>i)throw new qu("Webhook timestamp is too old");if(l>u+i)throw new qu("Webhook timestamp is too new");let d=s.split(" ").map(f=>f.startsWith("v1,")?f.substring(3):f),p=n.startsWith("whsec_")?Buffer.from(n.replace("whsec_",""),"base64"):Buffer.from(n,"utf-8"),m=c?`${c}.${a}.${e}`:`${a}.${e}`,h=await crypto.subtle.importKey("raw",p,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(let f of d)try{let y=Buffer.from(f,"base64");if(await crypto.subtle.verify("HMAC",h,y,new TextEncoder().encode(m)))return}catch{continue}throw new qu("The given webhook signature does not match the expected signature")}};a2=new WeakSet,f7e=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},$O=function(e,r){if(!e)throw new Error("Headers are required");let n=e.get(r);if(n==null)throw new Error(`Missing required header: ${r}`);return n};var bZ,vZ,LO,h7e,Dt=class{constructor({baseURL:e=Zf("OPENAI_BASE_URL"),apiKey:r=Zf("OPENAI_API_KEY"),organization:n=Zf("OPENAI_ORG_ID")??null,project:i=Zf("OPENAI_PROJECT_ID")??null,webhookSecret:o=Zf("OPENAI_WEBHOOK_SECRET")??null,...s}={}){if(bZ.add(this),LO.set(this,void 0),this.completions=new Y0(this),this.chat=new Yf(this),this.embeddings=new Q0(this),this.files=new X0(this),this.images=new n1(this),this.audio=new Yu(this),this.moderations=new o1(this),this.models=new i1(this),this.fineTuning=new Jl(this),this.graders=new nh(this),this.vectorStores=new Pp(this),this.webhooks=new a1(this),this.beta=new Yl(this),this.batches=new q0(this),this.uploads=new oh(this),this.responses=new Np(this),this.realtime=new Op(this),this.conversations=new th(this),this.evals=new rh(this),this.containers=new eh(this),this.videos=new s1(this),r===void 0)throw new Ze("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");let a={apiKey:r,organization:n,project:i,webhookSecret:o,...s,baseURL:e||"https://api.openai.com/v1"};if(!a.dangerouslyAllowBrowser&&w9e())throw new Ze(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=a.baseURL,this.timeout=a.timeout??vZ.DEFAULT_TIMEOUT,this.logger=a.logger??console;let c="warn";this.logLevel=c,this.logLevel=GQ(a.logLevel,"ClientOptions.logLevel",this)??GQ(Zf("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??c,this.fetchOptions=a.fetchOptions,this.maxRetries=a.maxRetries??2,this.fetch=a.fetch??A9e(),vt(this,LO,R9e,"f"),this._options=a,this.apiKey=typeof r=="string"?r:"Missing Key",this.organization=n,this.project=i,this.webhookSecret=o}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:r}){}async authHeaders(e){return Be([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return HQ(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${Wf}`}defaultIdempotencyKey(){return`stainless-node-retry-${MQ()}`}makeStatusError(e,r,n,i){return Ui.generate(e,r,n,i)}async _callApiKey(){let e=this._options.apiKey;if(typeof e!="function")return!1;let r;try{r=await e()}catch(n){throw n instanceof Ze?n:new Ze(`Failed to get token from 'apiKey' function: ${n.message}`,{cause:n})}if(typeof r!="string"||!r)throw new Ze(`Expected 'apiKey' function argument to return a string but it returned ${r}`);return this.apiKey=r,!0}buildURL(e,r,n){let i=!se(this,bZ,"m",h7e).call(this)&&n||this.baseURL,o=f9e(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return h9e(s)||(r={...s,...r}),typeof r=="object"&&r&&!Array.isArray(r)&&(o.search=this.stringifyQuery(r)),o.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,{url:r,options:n}){}get(e,r){return this.methodRequest("get",e,r)}post(e,r){return this.methodRequest("post",e,r)}patch(e,r){return this.methodRequest("patch",e,r)}put(e,r){return this.methodRequest("put",e,r)}delete(e,r){return this.methodRequest("delete",e,r)}methodRequest(e,r,n){return this.request(Promise.resolve(n).then(i=>({method:e,path:r,...i})))}request(e,r=null){return new F0(this,this.makeRequest(e,r,void 0))}async makeRequest(e,r,n){let i=await e,o=i.maxRetries??this.maxRetries;r==null&&(r=o),await this.prepareOptions(i);let{req:s,url:a,timeout:c}=await this.buildRequest(i,{retryCount:o-r});await this.prepareRequest(s,{url:a,options:i});let l="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),u=n===void 0?"":`, retryOf: ${n}`,d=Date.now();if(si(this).debug(`[${l}] sending request`,Ap({retryOfRequestLogID:n,method:i.method,url:a,options:i,headers:s.headers})),i.signal?.aborted)throw new Ai;let p=new AbortController,m=await this.fetchWithTimeout(a,s,c,p).catch(sA),h=Date.now();if(m instanceof globalThis.Error){let v=`retrying, ${r} attempts remaining`;if(i.signal?.aborted)throw new Ai;let _=oA(m)||/timed? ?out/i.test(String(m)+("cause"in m?String(m.cause):""));if(r)return si(this).info(`[${l}] connection ${_?"timed out":"failed"} - ${v}`),si(this).debug(`[${l}] connection ${_?"timed out":"failed"} (${v})`,Ap({retryOfRequestLogID:n,url:a,durationMs:h-d,message:m.message})),this.retryRequest(i,r,n??l);throw si(this).info(`[${l}] connection ${_?"timed out":"failed"} - error; no more retries left`),si(this).debug(`[${l}] connection ${_?"timed out":"failed"} (error; no more retries left)`,Ap({retryOfRequestLogID:n,url:a,durationMs:h-d,message:m.message})),_?new Hf:new qf({cause:m})}let f=[...m.headers.entries()].filter(([v])=>v==="x-request-id").map(([v,_])=>", "+v+": "+JSON.stringify(_)).join(""),y=`[${l}${u}${f}] ${s.method} ${a} ${m.ok?"succeeded":"failed"} with status ${m.status} in ${h-d}ms`;if(!m.ok){let v=await this.shouldRetry(m);if(r&&v){let L=`retrying, ${r} attempts remaining`;return await E9e(m.body),si(this).info(`${y} - ${L}`),si(this).debug(`[${l}] response error (${L})`,Ap({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,durationMs:h-d})),this.retryRequest(i,r,n??l,m.headers)}let _=v?"error; no more retries left":"error; not retryable";si(this).info(`${y} - ${_}`);let x=await m.text().catch(L=>sA(L).message),E=b9e(x),I=E?void 0:x;throw si(this).debug(`[${l}] response error (${_})`,Ap({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,message:I,durationMs:Date.now()-d})),this.makeStatusError(m.status,E,I,m.headers)}return si(this).info(y),si(this).debug(`[${l}] response start`,Ap({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,durationMs:h-d})),{response:m,options:i,controller:p,requestLogID:l,retryOfRequestLogID:n,startTime:d}}getAPIList(e,r,n){return this.requestAPIList(r,{method:"get",path:e,...n})}requestAPIList(e,r){let n=this.makeRequest(r,null,void 0);return new pA(this,n,e)}async fetchWithTimeout(e,r,n,i){let{signal:o,method:s,...a}=r||{};o&&o.addEventListener("abort",()=>i.abort());let c=setTimeout(()=>i.abort(),n),l=globalThis.ReadableStream&&a.body instanceof globalThis.ReadableStream||typeof a.body=="object"&&a.body!==null&&Symbol.asyncIterator in a.body,u={signal:i.signal,...l?{duplex:"half"}:{},method:"GET",...a};s&&(u.method=s.toUpperCase());try{return await this.fetch.call(void 0,e,u)}finally{clearTimeout(c)}}async shouldRetry(e){let r=e.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,r,n,i){let o,s=i?.get("retry-after-ms");if(s){let c=parseFloat(s);Number.isNaN(c)||(o=c)}let a=i?.get("retry-after");if(a&&!o){let c=parseFloat(a);Number.isNaN(c)?o=Date.parse(a)-Date.now():o=c*1e3}if(!(o&&0<=o&&o<60*1e3)){let c=e.maxRetries??this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(r,c)}return await Hu(o),this.makeRequest(e,r-1,n)}calculateDefaultRetryTimeoutMillis(e,r){let o=r-e,s=Math.min(.5*Math.pow(2,o),8),a=1-Math.random()*.25;return s*a*1e3}async buildRequest(e,{retryCount:r=0}={}){let n={...e},{method:i,path:o,query:s,defaultBaseURL:a}=n,c=this.buildURL(o,s,a);"timeout"in n&&y9e("timeout",n.timeout),n.timeout=n.timeout??this.timeout;let{bodyHeaders:l,body:u}=this.buildBody({options:n}),d=await this.buildHeaders({options:e,method:i,bodyHeaders:l,retryCount:r});return{req:{method:i,headers:d,...n.signal&&{signal:n.signal},...globalThis.ReadableStream&&u instanceof globalThis.ReadableStream&&{duplex:"half"},...u&&{body:u},...this.fetchOptions??{},...n.fetchOptions??{}},url:c,timeout:n.timeout}}async buildHeaders({options:e,method:r,bodyHeaders:n,retryCount:i}){let o={};this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);let s=Be([o,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...x9e(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,n,e.headers]);return this.validateHeaders(s),s.values}buildBody({options:{body:e,headers:r}}){if(!e)return{bodyHeaders:void 0,body:void 0};let n=Be([r]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&n.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:lO(e)}:se(this,LO,"f").call(this,{body:e,headers:n})}};vZ=Dt,LO=new WeakMap,bZ=new WeakSet,h7e=function(){return this.baseURL!=="https://api.openai.com/v1"};Dt.OpenAI=vZ;Dt.DEFAULT_TIMEOUT=6e5;Dt.OpenAIError=Ze;Dt.APIError=Ui;Dt.APIConnectionError=qf;Dt.APIConnectionTimeoutError=Hf;Dt.APIUserAbortError=Ai;Dt.NotFoundError=S_;Dt.ConflictError=w_;Dt.RateLimitError=A_;Dt.BadRequestError=b_;Dt.AuthenticationError=v_;Dt.InternalServerError=E_;Dt.PermissionDeniedError=__;Dt.UnprocessableEntityError=x_;Dt.InvalidWebhookSignatureError=qu;Dt.toFile=bO;Dt.Completions=Y0;Dt.Chat=Yf;Dt.Embeddings=Q0;Dt.Files=X0;Dt.Images=n1;Dt.Audio=Yu;Dt.Moderations=o1;Dt.Models=i1;Dt.FineTuning=Jl;Dt.Graders=nh;Dt.VectorStores=Pp;Dt.Webhooks=a1;Dt.Beta=Yl;Dt.Batches=q0;Dt.Uploads=oh;Dt.Responses=Np;Dt.Realtime=Op;Dt.Conversations=th;Dt.Evals=rh;Dt.Containers=eh;Dt.Videos=s1;var n_t={agentId:"gpt-momentum-trader",name:"GPT MomentumBot",model:"gpt-4o",provider:"openai",description:"Aggressive growth and momentum trader that rides trends, buys breakouts, and cuts losers fast. Prefers high-beta tech and growth stocks with strong price action.",personality:`You are an aggressive momentum trader who thrives on volatility and price action.
You follow the trend \u2014 "the trend is your friend" \u2014 and look for stocks breaking out to new highs.
You move fast, cut losses quickly, and let winners run.
You love high-growth tech stocks, especially those with explosive earnings or catalysts.
You're confident, sometimes cocky, and always have a strong opinion.
When you see momentum, you go big. When momentum fades, you rotate fast.`,tradingStyle:"Momentum trading \u2014 buys breakouts, rides trends, cuts losers at -5%. Loves NVDA, TSLA, PLTR, COIN, MSTR. Prefers high-beta names with strong volume. Uses 24h price change as primary signal.",riskTolerance:"aggressive",maxPositionSize:25,maxPortfolioAllocation:85},_Z=class extends jf{client=null;constructor(){super(n_t)}getClient(){if(!this.client){let e=process.env.OPENAI_API_KEY;if(!e)throw new Error("OPENAI_API_KEY environment variable is not set. GPT agent cannot trade.");this.client=new Dt({apiKey:e})}return this.client}async analyze(e,r){try{let n=this.getClient(),i=this.buildSystemPrompt(),o=this.buildUserPrompt(e,r),c=(await n.chat.completions.create({model:this.config.model,max_tokens:1024,temperature:.5,messages:[{role:"system",content:i+`

MOMENTUM SIGNALS TO WATCH:
- Stocks up >2% in 24h = potential breakout, consider buying
- Stocks down >3% in 24h = momentum loss, consider selling if held
- High volume + positive price = strong bullish signal
- Look for the STRONGEST movers and ride the trend
- Cut any position that's down more than 5% from entry (stop loss)`},{role:"user",content:o}],response_format:{type:"json_object"}})).choices[0]?.message?.content;if(!c)return this.fallbackHold("GPT returned empty response");let l=this.parseLLMResponse(c);return this.applyMomentumGuardrails(l,r,e)}catch(n){let i=n instanceof Error?n.message:String(n);return console.error(`[GPTTrader] Analysis failed: ${i}`),this.fallbackHold(i)}}applyMomentumGuardrails(e,r,n){for(let i of r.positions)if(i.unrealizedPnlPercent<=-5)return{action:"sell",symbol:i.symbol,quantity:i.quantity,reasoning:`[STOP-LOSS TRIGGERED] ${i.symbol} is down ${i.unrealizedPnlPercent.toFixed(1)}% from entry. Cutting losses. Original plan was: ${e.action} ${e.symbol}.`,confidence:95,timestamp:new Date().toISOString()};if(e.action==="buy"){let i=r.totalValue*(this.config.maxPositionSize/100);e.quantity>i&&(e.quantity=Math.floor(i*100)/100,e.reasoning+=` [GUARDRAIL: Capped at ${this.config.maxPositionSize}% = $${e.quantity.toFixed(2)}]`);let o=Math.max(10,r.totalValue*((100-this.config.maxPortfolioAllocation)/100));if(r.cashBalance-e.quantity<o){let c=Math.max(0,r.cashBalance-o);if(c<=0)return{...e,action:"hold",quantity:0,reasoning:`[GUARDRAIL] Not enough cash. Need $${o.toFixed(2)} reserve. Cash: $${r.cashBalance.toFixed(2)}. ${e.reasoning}`};e.quantity=Math.floor(c*100)/100,e.reasoning+=` [GUARDRAIL: Reduced to $${e.quantity.toFixed(2)} for cash reserve]`}if(!n.some(c=>c.symbol.toLowerCase()===e.symbol.toLowerCase()))return{...e,action:"hold",quantity:0,reasoning:`[GUARDRAIL] Symbol ${e.symbol} not found in available market data. ${e.reasoning}`}}if(e.action==="sell"){let i=r.positions.find(o=>o.symbol.toLowerCase()===e.symbol.toLowerCase());if(!i)return{...e,action:"hold",quantity:0,reasoning:`[GUARDRAIL] Cannot sell ${e.symbol} \u2014 no position held. ${e.reasoning}`};e.quantity>i.quantity&&(e.quantity=i.quantity,e.reasoning+=` [GUARDRAIL: Sell quantity capped at held amount: ${i.quantity}]`)}return e}},g7e=new _Z;var i_t={agentId:"grok-contrarian",name:"Grok ContrarianBot",model:"grok-3-mini-fast",provider:"xai",description:"Contrarian trader that buys when others are fearful and sells when others are greedy. Looks for beaten-down stocks with recovery potential, meme stocks with cult followings, and undervalued plays the market is ignoring.",personality:`You are a witty contrarian trader who bets against the crowd.
You love finding diamonds in the rough \u2014 stocks everyone hates that are actually undervalued.
You're skeptical of consensus, suspicious of hype, and energized by sell-offs.
"Be greedy when others are fearful" is your mantra.
You have a dry sense of humor and often reference market history to support your thesis.
You love turnaround stories: GME, HOOD, COIN during their darkest days.
You're not reckless \u2014 you do your homework \u2014 but you're willing to take calculated bets on unpopular names.`,tradingStyle:"Contrarian \u2014 buys the dip aggressively, fades rallies in overextended names. Likes beaten-down stocks (GME, HOOD, COIN when down big). Sells winners that have run too far too fast. Moderate position sizing with conviction plays.",riskTolerance:"moderate",maxPositionSize:20,maxPortfolioAllocation:75},SZ=class extends jf{client=null;constructor(){super(i_t)}getClient(){if(!this.client){let e=process.env.XAI_API_KEY;if(!e)throw new Error("XAI_API_KEY environment variable is not set. Grok agent cannot trade.");this.client=new Dt({apiKey:e,baseURL:"https://api.x.ai/v1"})}return this.client}async analyze(e,r){try{let n=this.getClient(),i=this.buildSystemPrompt(),o=this.buildUserPrompt(e,r),c=(await n.chat.completions.create({model:this.config.model,max_tokens:1024,temperature:.6,messages:[{role:"system",content:i+`

CONTRARIAN SIGNALS TO WATCH:
- Stocks DOWN >3% in 24h = potential buy opportunity (fear = opportunity)
- Stocks UP >5% in 24h = possibly overextended, consider taking profits if held
- Low volume + big drop = possible overreaction, look to buy
- Everyone's favorite stock hitting new highs = time to be cautious
- Look for MEAN REVERSION plays \u2014 stocks that deviated far from their normal price
- GameStop, Robinhood, Coinbase = your kind of stocks when they're beaten down
- Don't be contrarian just to be contrarian \u2014 have a THESIS for why the crowd is wrong`},{role:"user",content:o}]})).choices[0]?.message?.content;if(!c)return this.fallbackHold("Grok returned empty response");let l=this.parseLLMResponse(c);return this.applyContrarianGuardrails(l,r,e)}catch(n){let i=n instanceof Error?n.message:String(n);return console.error(`[GrokTrader] Analysis failed: ${i}`),this.fallbackHold(i)}}applyContrarianGuardrails(e,r,n){if(e.action==="buy"){let i=n.find(c=>c.symbol.toLowerCase()===e.symbol.toLowerCase());i&&i.change24h!==null&&(i.change24h>3&&(e.reasoning+=` [CONTRARIAN WARNING: ${i.symbol} is up ${i.change24h.toFixed(1)}% today \u2014 this doesn't fit our contrarian thesis. Proceeding with reduced confidence.]`,e.confidence=Math.max(10,e.confidence-20)),i.change24h<-2&&(e.reasoning+=` [CONTRARIAN BOOST: ${i.symbol} is down ${i.change24h.toFixed(1)}% \u2014 classic buy-the-dip setup.]`,e.confidence=Math.min(100,e.confidence+10)));let o=r.totalValue*(this.config.maxPositionSize/100);e.quantity>o&&(e.quantity=Math.floor(o*100)/100,e.reasoning+=` [GUARDRAIL: Capped at ${this.config.maxPositionSize}% = $${e.quantity.toFixed(2)}]`);let s=r.totalValue*((100-this.config.maxPortfolioAllocation)/100);if(r.cashBalance-e.quantity<s){let c=Math.max(0,r.cashBalance-s);if(c<=0)return{...e,action:"hold",quantity:0,reasoning:`[GUARDRAIL] Cash reserve insufficient. Need $${s.toFixed(2)} minimum. ${e.reasoning}`};e.quantity=Math.floor(c*100)/100,e.reasoning+=` [GUARDRAIL: Reduced to $${e.quantity.toFixed(2)} for cash reserve]`}if(!i)return{...e,action:"hold",quantity:0,reasoning:`[GUARDRAIL] Symbol ${e.symbol} not in available market data. ${e.reasoning}`}}if(e.action==="sell"){let i=r.positions.find(s=>s.symbol.toLowerCase()===e.symbol.toLowerCase());if(!i)return{...e,action:"hold",quantity:0,reasoning:`[GUARDRAIL] Cannot sell ${e.symbol} \u2014 not held. ${e.reasoning}`};e.quantity>i.quantity&&(e.quantity=i.quantity,e.reasoning+=` [GUARDRAIL: Sell capped at held quantity: ${i.quantity}]`);let o=n.find(s=>s.symbol.toLowerCase()===e.symbol.toLowerCase());o&&o.change24h!==null&&o.change24h<-3&&(e.reasoning+=` [CONTRARIAN NOTE: Selling while ${o.symbol} is down ${o.change24h.toFixed(1)}% \u2014 careful, this might be the bottom.]`)}return e.action!=="hold"&&e.confidence<25?{...e,action:"hold",quantity:0,reasoning:`[GUARDRAIL] Confidence ${e.confidence}% too low (min 25%). ${e.reasoning}`}:e}},y7e=new SZ;var gLe=process.env.AGENT_STATE_TABLE||"moltapp-agent-state",yLe="TRADING_LOCK",jn=null;function bLe(){return`lock_${Date.now()}_${Math.random().toString(36).slice(2,8)}`}function vLe(){return jn?Date.now()>jn.expiresAt:!0}async function N5t(t){if(jn&&!vLe())return console.log(`[TradingLock] Lock already held by "${jn.holderInfo}" (acquired ${new Date(jn.acquiredAt).toISOString()}). Skipping.`),{acquired:!1,lockId:null,existingLock:{lockId:jn.lockId,acquiredAt:new Date(jn.acquiredAt).toISOString(),expiresAt:new Date(jn.expiresAt).toISOString(),holderInfo:jn.holderInfo,isExpired:!1}};let e=await k5t(t);if(e!==null)return e;let r=bLe(),n=Date.now();return jn={lockId:r,acquiredAt:n,expiresAt:n+15e5,holderInfo:t},console.log(`[TradingLock] Lock acquired: ${r} by "${t}" (expires ${new Date(jn.expiresAt).toISOString()})`),{acquired:!0,lockId:r,existingLock:null}}async function P5t(t){if(!jn||jn.lockId!==t)return console.warn(`[TradingLock] Cannot release: lock ${t} not found or doesn't match current lock`),!1;let e=jn.holderInfo;return jn=null,await D5t(t),console.log(`[TradingLock] Lock released: ${t} (was held by "${e}")`),!0}function f3(){return jn?vLe()?(console.log(`[TradingLock] Lock ${jn.lockId} expired, auto-releasing`),jn=null,{isLocked:!1,lock:null}):{isLocked:!0,lock:{lockId:jn.lockId,acquiredAt:new Date(jn.acquiredAt).toISOString(),expiresAt:new Date(jn.expiresAt).toISOString(),holderInfo:jn.holderInfo,isExpired:!1}}:{isLocked:!1,lock:null}}async function _Le(t,e){let r=await N5t(t);if(!r.acquired||!r.lockId)return console.log(`[TradingLock] Could not acquire lock for "${t}". Skipping execution.`),null;let n=r.lockId;try{return{result:await e(),lockId:n}}finally{await P5t(n)}}async function k5t(t){if(!process.env.AWS_LAMBDA_FUNCTION_NAME)return null;try{let{DynamoDBClient:e,PutItemCommand:r}=await Promise.resolve().then(()=>(wN(),Are)),n=new e({}),i=bLe(),o=Date.now(),s=o+15e5,a=Math.floor(s/1e3);return await n.send(new r({TableName:gLe,Item:{agentId:{S:yLe},lockId:{S:i},acquiredAt:{S:new Date(o).toISOString()},expiresAt:{S:new Date(s).toISOString()},holderInfo:{S:t},ttl:{N:String(a)},status:{S:"active"},lastTradeTimestamp:{S:new Date(o).toISOString()}},ConditionExpression:"attribute_not_exists(agentId) OR expiresAt < :now",ExpressionAttributeValues:{":now":{S:new Date(o).toISOString()}}})),jn={lockId:i,acquiredAt:o,expiresAt:s,holderInfo:t},console.log(`[TradingLock] DynamoDB lock acquired: ${i} by "${t}"`),{acquired:!0,lockId:i,existingLock:null}}catch(e){return e instanceof Error&&e.name==="ConditionalCheckFailedException"?(console.log("[TradingLock] DynamoDB lock held by another instance. Skipping."),{acquired:!1,lockId:null,existingLock:null}):(console.warn(`[TradingLock] DynamoDB lock failed, falling back to in-memory: ${e instanceof Error?e.message:String(e)}`),null)}}async function D5t(t){if(process.env.AWS_LAMBDA_FUNCTION_NAME)try{let{DynamoDBClient:e,DeleteItemCommand:r}=await Promise.resolve().then(()=>(wN(),Are));await new e({}).send(new r({TableName:gLe,Key:{agentId:{S:yLe}},ConditionExpression:"lockId = :lockId",ExpressionAttributeValues:{":lockId":{S:t}}})),console.log(`[TradingLock] DynamoDB lock released: ${t}`)}catch(e){console.warn(`[TradingLock] DynamoDB release failed (non-critical): ${e instanceof Error?e.message:String(e)}`)}}var M5t={maxTradeUsdc:50,dailyLossLimitPercent:10,cooldownSeconds:600,positionLimitPercent:25,maxDailyTrades:20},Ere=new Map,w2=[],ro={...M5t};function SLe(t){let e=new Date().toISOString().slice(0,10),r=Ere.get(t);return(!r||r.currentDay!==e)&&(r={lastTradeTime:r?.lastTradeTime??null,dailyStartValue:0,currentDay:e,tradesToday:0},Ere.set(t,r)),r}function ph(t){w2.push(t),console.warn(`[CircuitBreaker] ${t.action.toUpperCase()}: ${t.breaker} \u2014 ${t.reason} (agent: ${t.agentId})`),w2.length>1e3&&w2.splice(0,w2.length-1e3)}function wLe(t,e,r){let n=[],i={...e};if(e.action==="hold")return{allowed:!0,decision:i,activations:n};let o=SLe(t);if(o.dailyStartValue===0&&(o.dailyStartValue=r.totalValue),o.lastTradeTime){let s=new Date(o.lastTradeTime).getTime(),a=(Date.now()-s)/1e3;if(a<ro.cooldownSeconds){let c=Math.ceil(ro.cooldownSeconds-a),l={breaker:"COOLDOWN_PERIOD",reason:`Agent last traded ${Math.round(a)}s ago. Cooldown requires ${ro.cooldownSeconds}s. ${c}s remaining.`,agentId:t,timestamp:new Date().toISOString(),action:"blocked"};return n.push(l),ph(l),{allowed:!1,decision:{...i,action:"hold",quantity:0,reasoning:`[Circuit Breaker: Cooldown] ${l.reason} Original: ${e.reasoning}`},activations:n}}}if(o.dailyStartValue>0){let s=(r.totalValue-o.dailyStartValue)/o.dailyStartValue*100;if(s<=-ro.dailyLossLimitPercent){let a={breaker:"DAILY_LOSS_LIMIT",reason:`Daily PnL is ${s.toFixed(2)}% (limit: -${ro.dailyLossLimitPercent}%). Trading halted for the day.`,agentId:t,timestamp:new Date().toISOString(),action:"blocked"};return n.push(a),ph(a),{allowed:!1,decision:{...i,action:"hold",quantity:0,reasoning:`[Circuit Breaker: Daily Loss Limit] ${a.reason} Original: ${e.reasoning}`},activations:n}}}if(o.tradesToday>=ro.maxDailyTrades){let s={breaker:"MAX_DAILY_TRADES",reason:`Agent has made ${o.tradesToday} trades today (limit: ${ro.maxDailyTrades}). No more trades allowed.`,agentId:t,timestamp:new Date().toISOString(),action:"blocked"};return n.push(s),ph(s),{allowed:!1,decision:{...i,action:"hold",quantity:0,reasoning:`[Circuit Breaker: Daily Trade Limit] ${s.reason} Original: ${e.reasoning}`},activations:n}}if(e.action==="buy"&&e.quantity>ro.maxTradeUsdc){let s=e.quantity;i.quantity=ro.maxTradeUsdc;let a={breaker:"MAX_TRADE_SIZE",reason:`Buy order of $${s.toFixed(2)} USDC exceeds limit of $${ro.maxTradeUsdc}. Clamped to $${ro.maxTradeUsdc}.`,agentId:t,timestamp:new Date().toISOString(),action:"clamped"};n.push(a),ph(a),i.reasoning=`[Circuit Breaker: Trade Size Clamped from $${s.toFixed(2)} to $${ro.maxTradeUsdc}] ${e.reasoning}`}if(e.action==="buy"){let s=r.positions.find(d=>d.symbol.toLowerCase()===e.symbol.toLowerCase()),a=s?s.currentPrice*s.quantity:0,c=i.quantity,l=a+c,u=r.totalValue>0?l/r.totalValue*100:100;if(u>ro.positionLimitPercent){let d=ro.positionLimitPercent/100*r.totalValue-a;if(d<=0){let h={breaker:"POSITION_LIMIT",reason:`Position in ${e.symbol} is already at ${u.toFixed(1)}% of portfolio (limit: ${ro.positionLimitPercent}%). Trade blocked.`,agentId:t,timestamp:new Date().toISOString(),action:"blocked"};return n.push(h),ph(h),{allowed:!1,decision:{...i,action:"hold",quantity:0,reasoning:`[Circuit Breaker: Position Limit] ${h.reason} Original: ${e.reasoning}`},activations:n}}let p=i.quantity;i.quantity=Math.floor(d*100)/100;let m={breaker:"POSITION_LIMIT",reason:`Buy would put ${e.symbol} at ${u.toFixed(1)}% of portfolio (limit: ${ro.positionLimitPercent}%). Clamped from $${p.toFixed(2)} to $${i.quantity.toFixed(2)}.`,agentId:t,timestamp:new Date().toISOString(),action:"clamped"};n.push(m),ph(m)}}if(e.action==="buy"&&i.quantity>r.cashBalance){if(r.cashBalance<=1){let c={breaker:"INSUFFICIENT_FUNDS",reason:`Cash balance $${r.cashBalance.toFixed(2)} insufficient for any buy. Trade blocked.`,agentId:t,timestamp:new Date().toISOString(),action:"blocked"};return n.push(c),ph(c),{allowed:!1,decision:{...i,action:"hold",quantity:0,reasoning:`[Circuit Breaker: Insufficient Funds] ${c.reason} Original: ${e.reasoning}`},activations:n}}let s=i.quantity;i.quantity=Math.floor(r.cashBalance*100)/100;let a={breaker:"INSUFFICIENT_FUNDS",reason:`Buy of $${s.toFixed(2)} exceeds cash balance $${r.cashBalance.toFixed(2)}. Clamped to $${i.quantity.toFixed(2)}.`,agentId:t,timestamp:new Date().toISOString(),action:"clamped"};n.push(a),ph(a)}return{allowed:!0,decision:i,activations:n}}function xLe(t){let e=SLe(t);e.lastTradeTime=new Date().toISOString(),e.tradesToday++}function xN(){let t={};for(let[e,r]of Ere){let n=r.lastTradeTime?Math.max(0,ro.cooldownSeconds-(Date.now()-new Date(r.lastTradeTime).getTime())/1e3):0;t[e]={lastTradeTime:r.lastTradeTime,tradesToday:r.tradesToday,cooldownRemaining:Math.round(n),dailyLossTriggered:!1}}return{config:{...ro},agentStates:t,totalActivations:w2.length,recentActivations:w2.slice(-10)}}var h3=class{tokens;config;queue=[];processing=!1;lastRefillTime;refillIntervalId=null;_totalRequests=0;_rateLimitHits=0;_totalWaitMs=0;constructor(e){this.config=e,this.tokens=e.maxTokens,this.lastRefillTime=Date.now(),this.refillIntervalId=setInterval(()=>{this.refill()},e.refillIntervalMs)}get metrics(){return{name:this.config.name,currentTokens:this.tokens,maxTokens:this.config.maxTokens,queueDepth:this.queue.length,totalRequests:this._totalRequests,rateLimitHits:this._rateLimitHits,totalWaitMs:this._totalWaitMs,avgWaitMs:this._totalRequests>0?Math.round(this._totalWaitMs/this._totalRequests):0}}async execute(e){if(this._totalRequests++,this.tokens>0)return this.tokens--,e();this._rateLimitHits++;let r=this.config.maxQueueSize??0;if(r>0&&this.queue.length>=r)throw new Error(`[RateLimiter:${this.config.name}] Queue full (${r} items). Request rejected.`);return new Promise((n,i)=>{this.queue.push({execute:e,resolve:n,reject:i,enqueuedAt:Date.now()})})}refill(){let e=Date.now(),r=e-this.lastRefillTime,n=Math.floor(r/this.config.refillIntervalMs);n>0&&(this.tokens=Math.min(this.config.maxTokens,this.tokens+this.config.refillRate*n),this.lastRefillTime=e),this.processQueue()}async processQueue(){if(!this.processing){this.processing=!0;try{for(;this.queue.length>0&&this.tokens>0;){this.tokens--;let e=this.queue.shift();if(!e)break;this._totalWaitMs+=Date.now()-e.enqueuedAt;try{let r=await e.execute();e.resolve(r)}catch(r){e.reject(r instanceof Error?r:new Error(String(r)))}}}finally{this.processing=!1}}}destroy(){for(this.refillIntervalId!==null&&(clearInterval(this.refillIntervalId),this.refillIntervalId=null);this.queue.length>0;)this.queue.shift()?.reject(new Error(`[RateLimiter:${this.config.name}] Shutting down`))}},vin=new h3({name:"solana-rpc",maxTokens:5,refillRate:5,refillIntervalMs:1e3,maxQueueSize:100}),_in=new h3({name:"llm-api",maxTokens:10,refillRate:10,refillIntervalMs:6e4,maxQueueSize:20}),$5t=new h3({name:"jupiter-dex",maxTokens:2,refillRate:2,refillIntervalMs:1e3,maxQueueSize:50});function L5t(){return 1e3+Math.floor(Math.random()*4e3)}async function ALe(){let t=L5t();console.log(`[RateLimiter] Applying ${t}ms jitter before next trade execution`),await new Promise(e=>setTimeout(e,t))}var x2=new Map,g3=0,AN=0,ELe=0,RLe=null,B5t=U5t;async function U5t(t){let e=[],r=new Date;for(let n of t.slice(0,10)){let i=n.replace(/x$/i,""),o=[{titleTemplate:`${i} reports stronger-than-expected quarterly revenue`,sentiment:"positive"},{titleTemplate:`Analysts revise ${i} price target amid market volatility`,sentiment:"neutral"},{titleTemplate:`${i} faces regulatory scrutiny in key market`,sentiment:"negative"}],s=o[Math.floor(Math.random()*o.length)];e.push({title:s.titleTemplate,summary:`Market analysis for ${i} stock. Trading volume and institutional interest remain factors to watch.`,source:"MoltApp Market Intelligence",url:`https://patgpt.us/news/${n.toLowerCase()}`,publishedAt:new Date(r.getTime()-Math.floor(Math.random()*36e5)).toISOString(),sentiment:s.sentiment,relevantSymbols:[n]})}return e.push({title:"Market Overview: Major indices show mixed signals",summary:"US equities are showing divergent trends across sectors. Technology stocks continue to attract institutional flows while value sectors trade sideways. Volatility remains elevated compared to historical averages.",source:"MoltApp Market Intelligence",url:"https://patgpt.us/news/market-overview",publishedAt:r.toISOString(),sentiment:"neutral",relevantSymbols:["SPYx","QQQx"]}),e}function F5t(t){return`news:${t.map(r=>r.toUpperCase().trim()).sort().join(",")}`}async function TLe(t){g3++;let e=F5t(t),r=x2.get(e);if(r&&Date.now()<r.expiresAtMs)return AN++,console.log(`[SearchCache] Cache HIT for ${t.length} symbols (${AN}/${g3} hit rate)`),r.result;ELe++,console.log(`[SearchCache] Cache MISS for ${t.length} symbols. Fetching fresh data...`);try{let n=await B5t(t),i=new Date,o=new Date(i.getTime()+18e5),s={query:t.join(","),items:n.slice(0,50),cachedAt:i.toISOString(),expiresAt:o.toISOString(),source:"search-cache"};return x2.set(e,{result:s,expiresAtMs:o.getTime()}),RLe=i.toISOString(),x2.size>100&&z5t(),s}catch(n){return console.error(`[SearchCache] Search failed: ${n instanceof Error?n.message:String(n)}`),r?(console.log("[SearchCache] Returning stale cached data"),r.result):{query:t.join(","),items:[],cachedAt:new Date().toISOString(),expiresAt:new Date().toISOString(),source:"search-cache-error"}}}function ILe(t){if(t.items.length===0)return"No recent news available.";let e=t.items.map(r=>{let n=r.sentiment==="positive"?"[+]":r.sentiment==="negative"?"[-]":"[=]",i=r.relevantSymbols.length>0?` (${r.relevantSymbols.join(", ")})`:"";return`${n} ${r.title}${i}
    ${r.summary}`});return`RECENT NEWS & MARKET INTELLIGENCE (cached ${t.cachedAt}):
${e.join(`

`)}`}function Rre(){return{totalRequests:g3,cacheHits:AN,cacheMisses:ELe,hitRate:g3>0?Math.round(AN/g3*100):0,itemsCached:x2.size,lastRefreshAt:RLe}}function z5t(){let t=Array.from(x2.entries()).sort(([,r],[,n])=>r.expiresAtMs-n.expiresAtMs),e=t.length-100;for(let r=0;r<e;r++)x2.delete(t[r][0]);console.log(`[SearchCache] Evicted ${e} stale cache entries`)}var V5t=1,j5t=2,q5t=3,H5t=4,W5t=5,G5t=6,K5t=7,Y5t=8,J5t=9,CLe=10,OLe=-32700,NLe=-32603,PLe=-32602,kLe=-32601,DLe=-32600,Q5t=-32019,Z5t=-32018,X5t=-32017,eRt=-32016,MLe=-32015,$Le=-32014,tRt=-32013,LLe=-32012,rRt=-32011,BLe=-32010,ULe=-32009,nRt=-32008,FLe=-32007,zLe=-32006,iRt=-32005,VLe=-32004,oRt=-32003,Tre=-32002,jLe=-32001,Ire=28e5,Cre=2800001,sRt=2800002,qLe=2800003,HLe=2800004,WLe=2800005,Ore=2800006,Nre=2800007,EN=2800008,Pre=2800009,GLe=2800010,KLe=2800011,aRt=323e4,cRt=32300001,lRt=3230002,uRt=3230003,dRt=3230004,pRt=361e4,kre=3610001,YLe=3610002,JLe=3610003,QLe=3610004,ZLe=3610005,XLe=3610006,mRt=3610007,eBe=3611e3,fRt=3704e3,hRt=3704001,gRt=3704002,yRt=3704003,bRt=3704004,vRt=4128e3,_Rt=4128001,SRt=4128002,tBe=4615e3,wRt=4615001,xRt=4615002,ARt=4615003,ERt=4615004,RRt=4615005,TRt=4615006,IRt=4615007,CRt=4615008,ORt=4615009,NRt=4615010,PRt=4615011,kRt=4615012,DRt=4615013,MRt=4615014,$Rt=4615015,LRt=4615016,BRt=4615017,URt=4615018,FRt=4615019,zRt=4615020,VRt=4615021,jRt=4615022,qRt=4615023,HRt=4615024,WRt=4615025,rBe=4615026,GRt=4615027,KRt=4615028,YRt=4615029,JRt=4615030,QRt=4615031,ZRt=4615032,XRt=4615033,eTt=4615034,tTt=4615035,rTt=4615036,nTt=4615037,iTt=4615038,oTt=4615039,sTt=4615040,aTt=4615041,cTt=4615042,lTt=4615043,uTt=4615044,dTt=4615045,pTt=4615046,mTt=4615047,fTt=4615048,hTt=4615049,gTt=4615050,yTt=4615051,bTt=4615052,vTt=4615053,_Tt=4615054,STt=5508e3,wTt=5508001,xTt=5508002,ATt=5508003,ETt=5508004,RTt=5508005,TTt=5508006,ITt=5508007,CTt=5508008,OTt=5508009,NTt=5508010,PTt=5508011,kTt=5607e3,DTt=5607001,MTt=5607002,$Tt=5607003,LTt=5607004,BTt=5607005,UTt=5607006,FTt=5607007,zTt=5607008,VTt=5607009,jTt=5607010,qTt=5607011,HTt=5607012,WTt=5607013,GTt=5607014,KTt=5607015,YTt=5607016,JTt=5607017,QTt=5663e3,ZTt=5663001,XTt=5663002,eIt=5663003,tIt=5663004,rIt=5663005,nIt=5663006,iIt=5663007,oIt=5663008,sIt=5663009,aIt=5663010,cIt=5663011,lIt=5663012,uIt=5663013,dIt=5663014,pIt=5663015,mIt=5663016,fIt=5663017,hIt=5663018,gIt=5663019,yIt=5663020,bIt=5663021,vIt=5663022,nBe=705e4,_It=7050001,SIt=7050002,wIt=7050003,xIt=7050004,AIt=7050005,EIt=7050006,RIt=7050007,TIt=7050008,IIt=7050009,CIt=7050010,OIt=7050011,NIt=7050012,PIt=7050013,kIt=7050014,DIt=7050015,MIt=7050016,$It=7050017,LIt=7050018,BIt=7050019,UIt=7050020,FIt=7050021,zIt=7050022,VIt=7050023,jIt=7050024,qIt=7050025,HIt=7050026,WIt=7050027,GIt=7050028,KIt=7050029,iBe=7050030,oBe=7050031,YIt=7050032,JIt=7050033,QIt=7050034,sBe=7050035,ZIt=7050036,XIt=7618e3,e8t=7618001,t8t=7618002,r8t=7618003,n8t=7618004,i8t=7618005,o8t=7618006,s8t=7618007,a8t=7618008,c8t=7618009,aBe=8078e3,Dre=8078001,cBe=8078002,lBe=8078003,Mre=8078004,$re=8078005,Lre=8078006,l8t=8078007,u8t=8078008,d8t=8078009,p8t=8078010,m8t=8078011,Bre=8078012,uBe=8078013,dBe=8078014,f8t=8078015,h8t=8078016,g8t=8078017,y8t=8078018,b8t=8078019,pBe=8078020,mBe=8078021,v8t=8078022,fBe=8078023,Ure=81e5,Fre=8100001,zre=8100002,Vre=8100003,_8t=819e4,S8t=8190001,w8t=8190002,x8t=8190003,A8t=8190004,E8t=99e5,R8t=9900001,T8t=9900002,I8t=9900003,C8t=9900004,O8t=9900005,N8t=9900006;function hBe(t){return Array.isArray(t)?"%5B"+t.map(hBe).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function P8t([t,e]){return`${t}=${hBe(e)}`}function k8t(t){let e=Object.entries(t).map(P8t).join("&");return Buffer.from(e,"utf8").toString("base64")}var D8t={[aRt]:"Account not found at address: $address",[dRt]:"Not all accounts were decoded. Encoded accounts found at addresses: $addresses.",[uRt]:"Expected decoded account at address: $address",[lRt]:"Failed to decode account data at address: $address",[cRt]:"Accounts not found at addresses: $addresses",[Pre]:"Unable to find a viable program address bump seed.",[sRt]:"$putativeAddress is not a base58-encoded address.",[Ire]:"Expected base58 encoded address to decode to a byte array of length 32. Actual length: $actualLength.",[qLe]:"The `CryptoKey` must be an `Ed25519` public key.",[KLe]:"$putativeOffCurveAddress is not a base58-encoded off-curve address.",[EN]:"Invalid seeds; point must fall off the Ed25519 curve.",[HLe]:"Expected given program derived address to have the following format: [Address, ProgramDerivedAddressBump].",[Ore]:"A maximum of $maxSeeds seeds, including the bump seed, may be supplied when creating an address. Received: $actual.",[Nre]:"The seed at index $index with length $actual exceeds the maximum length of $maxSeedLength bytes.",[WLe]:"Expected program derived address bump to be in the range [0, 255], got: $bump.",[GLe]:"Program address cannot end with PDA marker.",[Cre]:"Expected base58-encoded address string of length in the range [32, 44]. Actual length: $actualLength.",[H5t]:"Expected base58-encoded blockash string of length in the range [32, 44]. Actual length: $actualLength.",[V5t]:"The network has progressed past the last block for which this transaction could have been committed.",[aBe]:"Codec [$codecDescription] cannot decode empty byte arrays.",[v8t]:"Enum codec cannot use lexical values [$stringValues] as discriminators. Either remove all lexical values or set `useValuesAsDiscriminators` to `false`.",[pBe]:"Sentinel [$hexSentinel] must not be present in encoded bytes [$hexEncodedBytes].",[$re]:"Encoder and decoder must have the same fixed size, got [$encoderFixedSize] and [$decoderFixedSize].",[Lre]:"Encoder and decoder must have the same max size, got [$encoderMaxSize] and [$decoderMaxSize].",[Mre]:"Encoder and decoder must either both be fixed-size or variable-size.",[u8t]:"Enum discriminator out of range. Expected a number in [$formattedValidDiscriminators], got $discriminator.",[cBe]:"Expected a fixed-size codec, got a variable-size one.",[uBe]:"Codec [$codecDescription] expected a positive byte length, got $bytesLength.",[lBe]:"Expected a variable-size codec, got a fixed-size one.",[b8t]:"Codec [$codecDescription] expected zero-value [$hexZeroValue] to have the same size as the provided fixed-size item [$expectedSize bytes].",[Dre]:"Codec [$codecDescription] expected $expected bytes, got $bytesLength.",[y8t]:"Expected byte array constant [$hexConstant] to be present in data [$hexData] at offset [$offset].",[d8t]:"Invalid discriminated union variant. Expected one of [$variants], got $value.",[p8t]:"Invalid enum variant. Expected one of [$stringValues] or a number in [$formattedNumericalValues], got $variant.",[f8t]:"Invalid literal union variant. Expected one of [$variants], got $value.",[l8t]:"Expected [$codecDescription] to have $expected items, got $actual.",[Bre]:"Invalid value $value for base $base with alphabet $alphabet.",[h8t]:"Literal union discriminator out of range. Expected a number between $minRange and $maxRange, got $discriminator.",[m8t]:"Codec [$codecDescription] expected number to be in the range [$min, $max], got $value.",[dBe]:"Codec [$codecDescription] expected offset to be in the range [0, $bytesLength], got $offset.",[mBe]:"Expected sentinel [$hexSentinel] to be present in decoded bytes [$hexDecodedBytes].",[g8t]:"Union variant out of range. Expected an index between $minRange and $maxRange, got $variant.",[fBe]:"This decoder expected a byte array of exactly $expectedLength bytes, but $numExcessBytes unexpected excess bytes remained after decoding. Are you sure that you have chosen the correct decoder for this data?",[eBe]:"No random values implementation could be found.",[ORt]:"instruction requires an uninitialized account",[qRt]:"instruction tries to borrow reference for an account which is already borrowed",[HRt]:"instruction left account with an outstanding borrowed reference",[VRt]:"program other than the account's owner changed the size of the account data",[RRt]:"account data too small for instruction",[jRt]:"instruction expected an executable account",[pTt]:"An account does not have enough lamports to be rent-exempt",[fTt]:"Program arithmetic overflowed",[dTt]:"Failed to serialize or deserialize account data: $encodedData",[_Tt]:"Builtin programs must consume compute units",[ZRt]:"Cross-program invocation call depth too deep",[iTt]:"Computational budget exceeded",[rBe]:"custom program error: #$code",[BRt]:"instruction contains duplicate accounts",[WRt]:"instruction modifications of multiply-passed account differ",[JRt]:"executable accounts must be rent exempt",[KRt]:"instruction changed executable accounts data",[YRt]:"instruction changed the balance of an executable account",[URt]:"instruction changed executable bit of an account",[MRt]:"instruction modified data of an account it does not own",[DRt]:"instruction spent from the balance of an account it does not own",[wRt]:"generic instruction error",[gTt]:"Provided owner is not allowed",[lTt]:"Account is immutable",[uTt]:"Incorrect authority provided",[IRt]:"incorrect program id for instruction",[TRt]:"insufficient funds for instruction",[ERt]:"invalid account data for instruction",[mTt]:"Invalid account owner",[xRt]:"invalid program argument",[GRt]:"program returned invalid error code",[ARt]:"invalid instruction data",[nTt]:"Failed to reallocate account data",[rTt]:"Provided seeds do not result in a valid address",[yTt]:"Accounts data allocations exceeded the maximum allowed per transaction",[bTt]:"Max accounts exceeded",[vTt]:"Max instruction trace length exceeded",[tTt]:"Length of the seed is too long for address generation",[XRt]:"An account required by the instruction is missing",[CRt]:"missing required signature for instruction",[kRt]:"instruction illegally modified the program id of an account",[zRt]:"insufficient account keys for instruction",[oTt]:"Cross-program invocation with unauthorized signer or writable account",[sTt]:"Failed to create program execution environment",[cTt]:"Program failed to compile",[aTt]:"Program failed to complete",[LRt]:"instruction modified data of a read-only account",[$Rt]:"instruction changed the balance of a read-only account",[eTt]:"Cross-program invocation reentrancy not allowed for this instruction",[FRt]:"instruction modified rent epoch of an account",[PRt]:"sum of account balances before and after instruction do not match",[NRt]:"instruction requires an initialized account",[tBe]:"",[QRt]:"Unsupported program id",[hTt]:"Unsupported sysvar",[O8t]:"Invalid instruction plan kind: $kind.",[t8t]:"The provided instruction plan is empty.",[i8t]:"No failed transaction plan result was found in the provided transaction plan result.",[n8t]:"This transaction plan executor does not support non-divisible sequential plans. To support them, you may create your own executor such that multi-transaction atomicity is preserved \u2014 e.g. by targetting RPCs that support transaction bundles.",[r8t]:"The provided transaction plan failed to execute. See the `transactionPlanResult` attribute for more details. Note that the `cause` property is deprecated, and a future version will not set it.",[XIt]:"The provided message has insufficient capacity to accommodate the next instruction(s) in this plan. Expected at least $numBytesRequired free byte(s), got $numFreeBytes byte(s).",[N8t]:"Invalid transaction plan kind: $kind.",[e8t]:"No more instructions to pack; the message packer has completed the instruction plan.",[o8t]:"Unexpected instruction plan. Expected $expectedKind plan, got $actualKind plan.",[s8t]:"Unexpected transaction plan. Expected $expectedKind plan, got $actualKind plan.",[a8t]:"Unexpected transaction plan result. Expected $expectedKind plan, got $actualKind plan.",[c8t]:"Expected a successful transaction plan result. I.e. there is at least one failed or cancelled transaction in the plan.",[vRt]:"The instruction does not have any accounts.",[_Rt]:"The instruction does not have any data.",[SRt]:"Expected instruction to have progress address $expectedProgramAddress, got $actualProgramAddress.",[W5t]:"Expected base58 encoded blockhash to decode to a byte array of length 32. Actual length: $actualLength.",[j5t]:"The nonce `$expectedNonceValue` is no longer valid. It has advanced to `$actualNonceValue`",[T8t]:"Invariant violation: Found no abortable iterable cache entry for key `$cacheKey`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[C8t]:"Invariant violation: This data publisher does not publish to the channel named `$channelName`. Supported channels include $supportedChannelNames.",[R8t]:"Invariant violation: WebSocket message iterator state is corrupt; iterated without first resolving existing message promise. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[E8t]:"Invariant violation: WebSocket message iterator is missing state storage. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[I8t]:"Invariant violation: Switch statement non-exhaustive. Received unexpected value `$unexpectedValue`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[NLe]:"JSON-RPC error: Internal JSON-RPC error ($__serverMessage)",[PLe]:"JSON-RPC error: Invalid method parameter(s) ($__serverMessage)",[DLe]:"JSON-RPC error: The JSON sent is not a valid `Request` object ($__serverMessage)",[kLe]:"JSON-RPC error: The method does not exist / is not available ($__serverMessage)",[OLe]:"JSON-RPC error: An error occurred on the server while parsing the JSON text ($__serverMessage)",[LLe]:"$__serverMessage",[jLe]:"$__serverMessage",[VLe]:"$__serverMessage",[$Le]:"$__serverMessage",[X5t]:"Epoch rewards period still active at slot $slot",[BLe]:"$__serverMessage",[ULe]:"$__serverMessage",[Q5t]:"Failed to query long-term storage; please try again",[eRt]:"Minimum context slot has not been reached",[iRt]:"Node is unhealthy; behind by $numSlotsBehind slots",[nRt]:"No snapshot",[Tre]:"Transaction simulation failed",[Z5t]:"Rewards cannot be found because slot $slot is not the epoch boundary. This may be due to gap in the queried node's local ledger or long-term storage",[FLe]:"$__serverMessage",[rRt]:"Transaction history is not available from this node",[zLe]:"$__serverMessage",[tRt]:"Transaction signature length mismatch",[oRt]:"Transaction signature verification failure",[MLe]:"$__serverMessage",[fRt]:"Key pair bytes must be of length 64, got $byteLength.",[hRt]:"Expected private key bytes with length 32. Actual length: $actualLength.",[gRt]:"Expected base58-encoded signature to decode to a byte array of length 64. Actual length: $actualLength.",[bRt]:"The provided private key does not match the provided public key.",[yRt]:"Expected base58-encoded signature string of length in the range [64, 88]. Actual length: $actualLength.",[G5t]:"Lamports value must be in the range [0, 2e64-1]",[K5t]:"`$value` cannot be parsed as a `BigInt`",[CLe]:"$message",[Y5t]:"`$value` cannot be parsed as a `Number`",[q5t]:"No nonce account could be found at address `$nonceAccountAddress`",[$Tt]:"Expected base58 encoded application domain to decode to a byte array of length 32. Actual length: $actualLength.",[WTt]:"Attempted to sign an offchain message with an address that is not a signer for it",[MTt]:"Expected base58-encoded application domain string of length in the range [32, 44]. Actual length: $actualLength.",[HTt]:"The signer addresses in this offchain message envelope do not match the list of required signers in the message preamble. These unexpected signers were present in the envelope: `[$unexpectedSigners]`. These required signers were missing from the envelope `[$missingSigners]`.",[kTt]:"The message body provided has a byte-length of $actualBytes. The maximum allowable byte-length is $maxBytes",[FTt]:"Expected message format $expectedMessageFormat, got $actualMessageFormat",[zTt]:"The message length specified in the message preamble is $specifiedLength bytes. The actual length of the message is $actualLength bytes.",[VTt]:"Offchain message content must be non-empty",[BTt]:"Offchain message must specify the address of at least one required signer",[jTt]:"Offchain message envelope must reserve space for at least one signature",[LTt]:"The offchain message preamble specifies $numRequiredSignatures required signature(s), got $signaturesLength.",[KTt]:"The signatories of this offchain message must be listed in lexicographical order",[YTt]:"An address must be listed no more than once among the signatories of an offchain message",[qTt]:"Offchain message is missing signatures for addresses: $addresses.",[JTt]:"Offchain message signature verification failed. Signature mismatch for required signatories [$signatoriesWithInvalidSignatures]. Missing signatures for signatories [$signatoriesWithMissingSignatures]",[DTt]:"The message body provided contains characters whose codes fall outside the allowed range. In order to ensure clear-signing compatiblity with hardware wallets, the message may only contain line feeds and characters in the range [\\x20-\\x7e].",[GTt]:"Expected offchain message version $expectedVersion. Got $actualVersion.",[UTt]:"This version of Kit does not support decoding offchain messages with version $unsupportedVersion. The current max supported version is 0.",[_8t]:"The notification name must end in 'Notifications' and the API must supply a subscription plan creator function for the notification '$notificationName'.",[w8t]:"WebSocket was closed before payload could be added to the send buffer",[x8t]:"WebSocket connection closed",[A8t]:"WebSocket failed to connect",[S8t]:"Failed to obtain a subscription id from the server",[Vre]:"Could not find an API plan for RPC method: `$method`",[Ure]:"The $argumentLabel argument to the `$methodName` RPC method$optionalPathLabel was `$value`. This number is unsafe for use with the Solana JSON-RPC because it exceeds `Number.MAX_SAFE_INTEGER`.",[zre]:"HTTP error ($statusCode): $message",[Fre]:"HTTP header(s) forbidden: $headers. Learn more at https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name.",[STt]:"Multiple distinct signers were identified for address `$address`. Please ensure that you are using the same signer instance for each address.",[wTt]:"The provided value does not implement the `KeyPairSigner` interface",[ATt]:"The provided value does not implement the `MessageModifyingSigner` interface",[ETt]:"The provided value does not implement the `MessagePartialSigner` interface",[xTt]:"The provided value does not implement any of the `MessageSigner` interfaces",[TTt]:"The provided value does not implement the `TransactionModifyingSigner` interface",[ITt]:"The provided value does not implement the `TransactionPartialSigner` interface",[CTt]:"The provided value does not implement the `TransactionSendingSigner` interface",[RTt]:"The provided value does not implement any of the `TransactionSigner` interfaces",[OTt]:"More than one `TransactionSendingSigner` was identified.",[NTt]:"No `TransactionSendingSigner` was identified. Please provide a valid `TransactionWithSingleSendingSigner` transaction.",[PTt]:"Wallet account signers do not support signing multiple messages/transactions in a single operation",[mRt]:"Cannot export a non-extractable key.",[kre]:"No digest implementation could be found.",[pRt]:"Cryptographic operations are only allowed in secure browser contexts. Read more here: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts.",[YLe]:`This runtime does not support the generation of Ed25519 key pairs.

Install @solana/webcrypto-ed25519-polyfill and call its \`install\` function before generating keys in environments that do not support Ed25519.

For a list of runtimes that currently support Ed25519 operations, visit https://github.com/WICG/webcrypto-secure-curves/issues/20.`,[JLe]:"No signature verification implementation could be found.",[QLe]:"No key generation implementation could be found.",[ZLe]:"No signing implementation could be found.",[XLe]:"No key export implementation could be found.",[J5t]:"Timestamp value must be in the range [-(2n ** 63n), (2n ** 63n) - 1]. `$value` given",[MIt]:"Transaction processing left an account with an outstanding borrowed reference",[_It]:"Account in use",[SIt]:"Account loaded twice",[wIt]:"Attempt to debit an account but found no record of a prior credit.",[VIt]:"Transaction loads an address table account that doesn't exist",[RIt]:"This transaction has already been processed",[TIt]:"Blockhash not found",[IIt]:"Loader call chain is too deep",[DIt]:"Transactions are currently disabled due to cluster maintenance",[iBe]:"Transaction contains a duplicate instruction ($index) that is not allowed",[AIt]:"Insufficient funds for fee",[oBe]:"Transaction results in an account ($accountIndex) with insufficient funds for rent",[EIt]:"This account may not be used to pay transaction fees",[OIt]:"Transaction contains an invalid account reference",[qIt]:"Transaction loads an address table account with invalid data",[HIt]:"Transaction address table lookup uses an invalid index",[jIt]:"Transaction loads an address table account with an invalid owner",[JIt]:"LoadedAccountsDataSizeLimit set for transaction must be greater than 0.",[PIt]:"This program may not be used for executing instructions",[WIt]:"Transaction leaves an account with a lower balance than rent-exempt minimum",[BIt]:"Transaction loads a writable account that cannot be written",[YIt]:"Transaction exceeded max loaded accounts data size cap",[CIt]:"Transaction requires a fee but has no signature present",[xIt]:"Attempt to load a program that does not exist",[sBe]:"Execution of the program referenced by account at index $accountIndex is temporarily restricted.",[QIt]:"ResanitizationNeeded",[kIt]:"Transaction failed to sanitize accounts offsets correctly",[NIt]:"Transaction did not pass signature verification",[zIt]:"Transaction locked too many accounts",[ZIt]:"Sum of account balances before and after transaction do not match",[nBe]:"The transaction failed with the error `$errorName`",[LIt]:"Transaction version is unsupported",[FIt]:"Transaction would exceed account data limit within the block",[KIt]:"Transaction would exceed total account data limit",[UIt]:"Transaction would exceed max account limit within the block",[$It]:"Transaction would exceed max Block Cost Limit",[GIt]:"Transaction would exceed max Vote Cost Limit",[pIt]:"Attempted to sign a transaction with an address that is not a signer for it",[aIt]:"Transaction is missing an address at index: $index.",[mIt]:"Transaction has no expected signers therefore it cannot be encoded",[yIt]:"Transaction size $transactionSize exceeds limit of $transactionSizeLimit bytes",[XTt]:"Transaction does not have a blockhash lifetime",[eIt]:"Transaction is not a durable nonce transaction",[rIt]:"Contents of these address lookup tables unknown: $lookupTableAddresses",[nIt]:"Lookup of address at index $highestRequestedIndex failed for lookup table `$lookupTableAddress`. Highest known index is $highestKnownIndex. The lookup table may have been extended since its contents were retrieved",[oIt]:"No fee payer set in CompiledTransaction",[iIt]:"Could not find program address at index $index",[hIt]:"Failed to estimate the compute unit consumption for this transaction message. This is likely because simulating the transaction failed. Inspect the `cause` property of this error to learn more",[gIt]:"Transaction failed when it was simulated in order to estimate the compute unit consumption. The compute unit estimate provided is for a transaction that failed when simulated and may not be representative of the compute units this transaction would consume if successful. Inspect the `cause` property of this error to learn more",[cIt]:"Transaction is missing a fee payer.",[lIt]:"Could not determine this transaction's signature. Make sure that the transaction has been signed by its fee payer.",[dIt]:"Transaction first instruction is not advance nonce account instruction.",[uIt]:"Transaction with no instructions cannot be durable nonce transaction.",[QTt]:"This transaction includes an address (`$programAddress`) which is both invoked and set as the fee payer. Program addresses may not pay fees",[ZTt]:"This transaction includes an address (`$programAddress`) which is both invoked and marked writable. Program addresses may not be writable",[fIt]:"The transaction message expected the transaction to have $numRequiredSignatures signatures, got $signaturesLength.",[sIt]:"Transaction is missing signatures for addresses: $addresses.",[tIt]:"Transaction version must be in the range [0, 127]. `$actualVersion` given",[bIt]:"This version of Kit does not support decoding transactions with version $unsupportedVersion. The current max supported version is 0.",[vIt]:"The transaction has a durable nonce lifetime (with nonce `$nonce`), but the nonce account address is in a lookup table. The lifetime constraint cannot be constructed without fetching the lookup tables for the transaction."},Hp="i",sd="t";function M8t(t,e={}){let r=D8t[t];if(r.length===0)return"";let n;function i(s){if(n[sd]===2){let a=r.slice(n[Hp]+1,s);o.push(a in e?`${e[a]}`:`$${a}`)}else n[sd]===1&&o.push(r.slice(n[Hp],s))}let o=[];return r.split("").forEach((s,a)=>{if(a===0){n={[Hp]:0,[sd]:r[0]==="\\"?0:r[0]==="$"?2:1};return}let c;switch(n[sd]){case 0:c={[Hp]:a,[sd]:1};break;case 1:s==="\\"?c={[Hp]:a,[sd]:0}:s==="$"&&(c={[Hp]:a,[sd]:2});break;case 2:s==="\\"?c={[Hp]:a,[sd]:0}:s==="$"?c={[Hp]:a,[sd]:2}:s.match(/\w/)||(c={[Hp]:a,[sd]:1});break}c&&(n!==c&&i(a),n=c)}),i(),o.join("")}function $8t(t,e={}){if(process.env.NODE_ENV!=="production")return M8t(t,e);{let r=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(r+=` '${k8t(e)}'`),`${r}\``}}function gBe(t,e){return t instanceof Error&&t.name==="SolanaError"?e!==void 0?t.context.__code===e:!0:!1}var tn=class extends Error{cause=this.cause;context;constructor(...[t,e]){let r,n;e&&Object.entries(Object.getOwnPropertyDescriptors(e)).forEach(([o,s])=>{o==="cause"?n={cause:s.value}:(r===void 0&&(r={__code:t}),Object.defineProperty(r,o,s))});let i=$8t(t,r);super(i,n),this.context=Object.freeze(r===void 0?{__code:t}:r),this.name="SolanaError"}};function RN(...t){"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...t)}function yBe({errorCodeBaseOffset:t,getErrorContext:e,orderedErrorNames:r,rpcEnumError:n},i){let o,s;typeof n=="string"?o=n:(o=Object.keys(n)[0],s=n[o]);let a=r.indexOf(o),c=t+a,l=e(c,o,s),u=new tn(c,l);return RN(u,i),u}var L8t=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"];function bBe(t,e){let r=Number(t);return yBe({errorCodeBaseOffset:4615001,getErrorContext(n,i,o){return n===tBe?{errorName:i,index:r,...o!==void 0?{instructionErrorContext:o}:null}:n===rBe?{code:Number(o),index:r}:{index:r}},orderedErrorNames:L8t,rpcEnumError:e},bBe)}var B8t=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function vBe(t){return typeof t=="object"&&"InstructionError"in t?bBe(...t.InstructionError):yBe({errorCodeBaseOffset:7050001,getErrorContext(e,r,n){if(e===nBe)return{errorName:r,...n!==void 0?{transactionErrorContext:n}:null};if(e===iBe)return{index:Number(n)};if(e===oBe||e===sBe)return{accountIndex:Number(n.account_index)}},orderedErrorNames:B8t,rpcEnumError:t},vBe)}function TN(t){let e;if(U8t(t)){let{code:r,data:n,message:i}=t,o=Number(r);if(o===Tre){let{err:s,...a}=n,c=s?{cause:vBe(s)}:null;e=new tn(Tre,{...a,...c})}else{let s;switch(o){case NLe:case PLe:case DLe:case kLe:case OLe:case LLe:case jLe:case VLe:case $Le:case BLe:case ULe:case FLe:case zLe:case MLe:s={__serverMessage:i};break;default:typeof n=="object"&&!Array.isArray(n)&&(s=n)}e=new tn(o,s)}}else{let r=typeof t=="object"&&t!==null&&"message"in t&&typeof t.message=="string"?t.message:"Malformed JSON-RPC error with no message attribute";e=new tn(CLe,{error:t,message:r})}return RN(e,TN),e}function U8t(t){return typeof t=="object"&&t!==null&&"code"in t&&"message"in t&&(typeof t.code=="number"||typeof t.code=="bigint")&&typeof t.message=="string"}function F8t(t,e){if(t.length>=e)return t;let r=new Uint8Array(e).fill(0);return r.set(t),r}var z8t=(t,e)=>F8t(t.length<=e?t:t.slice(0,e),e);function V8t(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function IN(t){return Object.freeze({...t,encode:e=>{let r=new Uint8Array(V8t(e,t));return t.write(e,r,0),r}})}function jre(t){return Object.freeze({...t,decode:(e,r=0)=>t.read(e,r)[0]})}function mh(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function j8t(t){return!mh(t)}function qre(t,e){if(mh(t)!==mh(e))throw new tn(Mre);if(mh(t)&&mh(e)&&t.fixedSize!==e.fixedSize)throw new tn($re,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!mh(t)&&!mh(e)&&t.maxSize!==e.maxSize)throw new tn(Lre,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function q8t(t,e,r,n=0){let i=r.length-n;if(i<e)throw new tn(Dre,{bytesLength:i,codecDescription:t,expected:e})}function _Be(t,e){return IN({fixedSize:e,write:(r,n,i)=>{let o=t.encode(r),s=o.length>e?o.slice(0,e):o;return n.set(s,i),i+e}})}function SBe(t,e){return jre({fixedSize:e,read:(r,n)=>{q8t("fixCodecSize",e,r,n),(n>0||r.length>e)&&(r=r.slice(n,n+e)),mh(t)&&(r=z8t(r,t.fixedSize));let[i]=t.read(r,0);return[i,n+e]}})}function wBe(t,e){return IN({...j8t(t)?{...t,getSizeFromValue:r=>t.getSizeFromValue(e(r))}:t,write:(r,n,i)=>t.write(e(r),n,i)})}function H8t(t,e,r=e){if(!e.match(new RegExp(`^[${t}]*$`)))throw new tn(Bre,{alphabet:t,base:t.length,value:r})}var W8t=t=>IN({getSizeFromValue:e=>{let[r,n]=xBe(e,t[0]);if(!n)return e.length;let i=ABe(n,t);return r.length+Math.ceil(i.toString(16).length/2)},write(e,r,n){if(H8t(t,e),e==="")return n;let[i,o]=xBe(e,t[0]);if(!o)return r.set(new Uint8Array(i.length).fill(0),n),n+i.length;let s=ABe(o,t),a=[];for(;s>0n;)a.unshift(Number(s%256n)),s/=256n;let c=[...Array(i.length).fill(0),...a];return r.set(c,n),n+c.length}}),G8t=t=>jre({read(e,r){let n=r===0?e:e.slice(r);if(n.length===0)return["",0];let i=n.findIndex(c=>c!==0);i=i===-1?n.length:i;let o=t[0].repeat(i);if(i===n.length)return[o,e.length];let s=n.slice(i).reduce((c,l)=>c*256n+BigInt(l),0n),a=K8t(s,t);return[o+a,e.length]}});function xBe(t,e){let[r,n]=t.split(new RegExp(`((?!${e}).*)`));return[r,n]}function ABe(t,e){let r=BigInt(e.length),n=0n;for(let i of t)n*=r,n+=BigInt(e.indexOf(i));return n}function K8t(t,e){let r=BigInt(e.length),n=[];for(;t>0n;)n.unshift(e[Number(t%r)]),t/=r;return n.join("")}var EBe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",RBe=()=>W8t(EBe),TBe=()=>G8t(EBe);var Oin=globalThis.TextDecoder,Nin=globalThis.TextEncoder;function IBe(){if(typeof globalThis.crypto>"u"||typeof globalThis.crypto.subtle?.digest!="function")throw new tn(kre)}var Hre,Wre;function PBe(){return Hre||(Hre=RBe()),Hre}function Y8t(){return Wre||(Wre=TBe()),Wre}function J8t(t){if(t.length<32||t.length>44)throw new tn(Cre,{actualLength:t.length});let n=PBe().encode(t).byteLength;if(n!==32)throw new tn(Ire,{actualLength:n})}function ul(t){return J8t(t),t}function Gre(){return wBe(_Be(PBe(),32),t=>ul(t))}function Q8t(){return SBe(Y8t(),32)}function Z8t(){return qre(Gre(),Q8t())}var X8t=37095705934669439343138083508754565189542113879843219016388785533085940283555n,_s=57896044618658097711785492504343953926634992332820282019728792003956564819949n,CBe=19681161376707505956807079304988542015446066515923890162744021073123829784752n;function ll(t){let e=t%_s;return e>=0n?e:_s+e}function ad(t,e){let r=t;for(;e-- >0n;)r*=r,r%=_s;return r}function eCt(t){let r=t*t%_s*t%_s,n=ad(r,2n)*r%_s,i=ad(n,1n)*t%_s,o=ad(i,5n)*i%_s,s=ad(o,10n)*o%_s,a=ad(s,20n)*s%_s,c=ad(a,40n)*a%_s,l=ad(c,80n)*c%_s,u=ad(l,80n)*c%_s,d=ad(u,10n)*o%_s;return ad(d,2n)*t%_s}function tCt(t,e){let r=ll(e*e*e),n=ll(r*r*e),i=eCt(t*n),o=ll(t*r*i),s=ll(e*o*o),a=o,c=ll(o*CBe),l=s===t,u=s===ll(-t),d=s===ll(-t*CBe);return l&&(o=a),(u||d)&&(o=c),(ll(o)&1n)===1n&&(o=ll(-o)),!l&&!u?null:o}function rCt(t,e){let r=ll(t*t),n=ll(r-1n),i=ll(X8t*r+1n),o=tCt(n,i);if(o===null)return!1;let s=(e&128)!==0;return!(o===0n&&s)}function nCt(t){let e=t.toString(16);return e.length===1?`0${e}`:e}function iCt(t){let r=`0x${t.reduce((n,i,o)=>`${nCt(o===31?i&-129:i)}${n}`,"")}`;return BigInt(r)}function oCt(t){if(t.byteLength!==32)return!1;let e=iCt(t);return rCt(e,t[31])}var OBe=32,NBe=16,sCt=[80,114,111,103,114,97,109,68,101,114,105,118,101,100,65,100,100,114,101,115,115];async function aCt({programAddress:t,seeds:e}){if(IBe(),e.length>NBe)throw new tn(Ore,{actual:e.length,maxSeeds:NBe});let r,n=e.reduce((c,l,u)=>{let d=typeof l=="string"?(r||=new TextEncoder).encode(l):l;if(d.byteLength>OBe)throw new tn(Nre,{actual:d.byteLength,index:u,maxSeedLength:OBe});return c.push(...d),c},[]),i=Z8t(),o=i.encode(t),s=await crypto.subtle.digest("SHA-256",new Uint8Array([...n,...o,...sCt])),a=new Uint8Array(s);if(oCt(a))throw new tn(EN);return i.decode(a)}async function kBe({programAddress:t,seeds:e}){let r=255;for(;r>0;)try{return[await aCt({programAddress:t,seeds:[...e,new Uint8Array([r])]}),r]}catch(n){if(gBe(n,EN))r--;else throw n}throw new tn(Pre)}function y3(t,...e){return e.reduce((r,n)=>n(r),t)}function MBe(t){return JSON.parse(cCt(t),(e,r)=>pCt(r)?dCt(r):r)}function cCt(t){let e=[],r=!1;for(let n=0;n<t.length;n++){let i=!1;if(t[n]==="\\"&&(e.push(t[n++]),i=!i),t[n]==='"'){e.push(t[n]),i||(r=!r);continue}if(!r){let o=lCt(t,n);if(o?.length){n+=o.length-1,o.match(/\.|[eE]-/)?e.push(o):e.push(uCt(o));continue}}e.push(t[n])}return e.join("")}function lCt(t,e){let r=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?/;if(!t[e]?.match(/[-\d]/))return null;let n=t.slice(e).match(r);return n?n[0]:null}function uCt(t){return`{"$n":"${t}"}`}function dCt({$n:t}){if(t.match(/[eE]/)){let[e,r]=t.split(/[eE]/);return BigInt(e)*BigInt(10)**BigInt(r)}return BigInt(t)}function pCt(t){return!!t&&typeof t=="object"&&"$n"in t&&typeof t.$n=="string"}var DBe=0n;function mCt(){let t=DBe;return DBe++,t.toString()}function $Be(t){return{id:mCt(),jsonrpc:"2.0",method:t.methodName,params:t.params}}function LBe(t,e){return hCt(JSON.stringify(t,(r,n)=>typeof n=="bigint"?fCt(n):n,e))}function fCt(t){return{$n:`${t}`}}function hCt(t){return t.replace(/\{\s*"\$n"\s*:\s*"(-?\d+)"\s*\}/g,"$1")}function BBe(t){return gCt(t)}function gCt(t){return new Proxy(t.api,{defineProperty(){return!1},deleteProperty(){return!1},get(e,r,n){if(r!=="then")return function(...i){let o=r.toString(),s=Reflect.get(e,o,n);if(!s)throw new tn(Vre,{method:o,params:i});let a=s(...i);return yCt(t,a)}}})}function yCt({transport:t},e){return{async send(r){return await e.execute({signal:r?.abortSignal,transport:t})}}}function UBe(t){return new Proxy({},{defineProperty(){return!1},deleteProperty(){return!1},get(...e){let[r,n]=e,i=n.toString();return function(...o){let s=Object.freeze({methodName:i,params:o}),a=t?.requestTransformer?t?.requestTransformer(s):s;return Object.freeze({execute:async({signal:c,transport:l})=>{let u=$Be(a),d=await l({payload:u,signal:c});return t?.responseTransformer?t.responseTransformer(d,a):d}})}}})}function CN(t){return t==null||typeof t!="object"||Array.isArray(t)?!1:"jsonrpc"in t&&t.jsonrpc==="2.0"&&"method"in t&&typeof t.method=="string"&&"params"in t}function bCt(t){return typeof t=="bigint"?Number(t):t}var wt={};function FBe(t){return function e(r,n){if(Array.isArray(r))return r.map((i,o)=>{let s={...n,keyPath:[...n.keyPath,o]};return e(i,s)});if(typeof r=="object"&&r!==null){let i={};for(let o in r){if(!Object.prototype.hasOwnProperty.call(r,o))continue;let s={...n,keyPath:[...n.keyPath,o]};i[o]=e(r[o],s)}return i}else return t.reduce((i,o)=>o(i,n),r)}}function zBe(t,e){return r=>{let n=FBe(t);return Object.freeze({...r,params:n(r.params,e)})}}function VBe(t,e){return r=>FBe(t)(r,e)}function vCt(){return zBe([bCt],{keyPath:[]})}function _Ct({commitmentPropertyName:t,params:e,optionsObjectPositionInParams:r,overrideCommitment:n}){let i=e[r];if(i===void 0||i&&typeof i=="object"&&!Array.isArray(i)){if(i&&t in i){if(!i[t]||i[t]==="finalized"){let o=[...e],{[t]:s,...a}=i;return Object.keys(a).length>0?o[r]=a:r===o.length-1?o.length--:o[r]=void 0,o}}else if(n!=="finalized"){let o=[...e];return o[r]={...i,[t]:n},o}}return e}function SCt({defaultCommitment:t,optionsObjectPositionByMethod:e}){return r=>{let{params:n,methodName:i}=r;if(!Array.isArray(n))return r;let o=e[i];return o==null?r:Object.freeze({methodName:i,params:_Ct({commitmentPropertyName:i==="sendTransaction"?"preflightCommitment":"commitment",optionsObjectPositionInParams:o,overrideCommitment:t,params:n})})}}function wCt(t){return(e,{keyPath:r})=>(typeof e=="bigint"&&t&&(e>Number.MAX_SAFE_INTEGER||e<-Number.MAX_SAFE_INTEGER)&&t(r,e),e)}function xCt(t){return e=>zBe([wCt((...n)=>t(e,...n))],{keyPath:[]})(e)}var ACt={accountNotifications:1,blockNotifications:1,getAccountInfo:1,getBalance:1,getBlock:1,getBlockHeight:0,getBlockProduction:0,getBlocks:2,getBlocksWithLimit:2,getEpochInfo:0,getFeeForMessage:1,getInflationGovernor:0,getInflationReward:1,getLargestAccounts:0,getLatestBlockhash:0,getLeaderSchedule:1,getMinimumBalanceForRentExemption:1,getMultipleAccounts:1,getProgramAccounts:1,getSignaturesForAddress:1,getSlot:0,getSlotLeader:0,getStakeMinimumDelegation:0,getSupply:0,getTokenAccountBalance:1,getTokenAccountsByDelegate:2,getTokenAccountsByOwner:2,getTokenLargestAccounts:1,getTokenSupply:1,getTransaction:1,getTransactionCount:0,getVoteAccounts:0,isBlockhashValid:1,logsNotifications:1,programNotifications:1,requestAirdrop:2,sendTransaction:1,signatureNotifications:1,simulateTransaction:1};function jBe(t){let e=t?.onIntegerOverflow;return r=>y3(r,e?xCt(e):n=>n,vCt(),SCt({defaultCommitment:t?.defaultCommitment,optionsObjectPositionByMethod:ACt}))}function qBe(t){return function(r,{keyPath:n}){return typeof r=="number"&&Number.isInteger(r)||typeof r=="bigint"?ECt(n,t)?Number(r):BigInt(r):r}}function ECt(t,e){return e.some(r=>{if(r.length!==t.length)return!1;for(let n=t.length-1;n>=0;n--){let i=t[n],o=r[n];if(o!==i&&(o!==wt||typeof i!="number"))return!1}return!0})}function RCt(t){return VBe([qBe(t)],{keyPath:[]})}function TCt(){return t=>t.result}var ON=[["data","parsed","info","tokenAmount","decimals"],["data","parsed","info","tokenAmount","uiAmount"],["data","parsed","info","rentExemptReserve","decimals"],["data","parsed","info","rentExemptReserve","uiAmount"],["data","parsed","info","delegatedAmount","decimals"],["data","parsed","info","delegatedAmount","uiAmount"],["data","parsed","info","extensions",wt,"state","olderTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",wt,"state","newerTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",wt,"state","preUpdateAverageRate"],["data","parsed","info","extensions",wt,"state","currentRate"]],A2=[...ON,["data","parsed","info","lastExtendedSlotStartIndex"],["data","parsed","info","slashPenalty"],["data","parsed","info","warmupCooldownRate"],["data","parsed","info","decimals"],["data","parsed","info","numRequiredSigners"],["data","parsed","info","numValidSigners"],["data","parsed","info","stake","delegation","warmupCooldownRate"],["data","parsed","info","exemptionThreshold"],["data","parsed","info","burnPercent"],["data","parsed","info","commission"],["data","parsed","info","votes",wt,"confirmationCount"]],b3=[["index"],["instructions",wt,"accounts",wt],["instructions",wt,"programIdIndex"],["instructions",wt,"stackHeight"]],Kre=[["addressTableLookups",wt,"writableIndexes",wt],["addressTableLookups",wt,"readonlyIndexes",wt],["header","numReadonlySignedAccounts"],["header","numReadonlyUnsignedAccounts"],["header","numRequiredSignatures"],["instructions",wt,"accounts",wt],["instructions",wt,"programIdIndex"],["instructions",wt,"stackHeight"]];function ICt(){return[["loadedAccountsDataSize"],...A2.map(t=>["accounts",wt,...t]),...b3.map(t=>["innerInstructions",wt,...t])]}function CCt(){return(t,e)=>{let r=t;if("error"in r){let{error:n}=r;if(n&&typeof n=="object"&&"code"in n&&(n.code===-32002||n.code===-32002n)&&"data"in n&&n.data){let s=VBe([qBe(ICt())],{keyPath:[]})(n.data,e),a={...n,data:s};throw TN(a)}throw TN(r.error)}return r}}function HBe(t){return(e,r)=>{let n=r.methodName,i=t?.allowedNumericKeyPaths&&n?t.allowedNumericKeyPaths[n]:void 0;return y3(e,o=>CCt()(o,r),o=>TCt()(o,r),o=>RCt(i??[])(o,r))}}function WBe(t){return UBe({requestTransformer:jBe(t),responseTransformer:HBe({allowedNumericKeyPaths:OCt()})})}var Yre;function OCt(){return Yre||(Yre={getAccountInfo:A2.map(t=>["value",...t]),getBlock:[["transactions",wt,"meta","preTokenBalances",wt,"accountIndex"],["transactions",wt,"meta","preTokenBalances",wt,"uiTokenAmount","decimals"],["transactions",wt,"meta","postTokenBalances",wt,"accountIndex"],["transactions",wt,"meta","postTokenBalances",wt,"uiTokenAmount","decimals"],["transactions",wt,"meta","rewards",wt,"commission"],...b3.map(t=>["transactions",wt,"meta","innerInstructions",wt,...t]),...Kre.map(t=>["transactions",wt,"transaction","message",...t]),["rewards",wt,"commission"]],getClusterNodes:[[wt,"featureSet"],[wt,"shredVersion"]],getInflationGovernor:[["initial"],["foundation"],["foundationTerm"],["taper"],["terminal"]],getInflationRate:[["foundation"],["total"],["validator"]],getInflationReward:[[wt,"commission"]],getMultipleAccounts:A2.map(t=>["value",wt,...t]),getProgramAccounts:A2.flatMap(t=>[["value",wt,"account",...t],[wt,"account",...t]]),getRecentPerformanceSamples:[[wt,"samplePeriodSecs"]],getTokenAccountBalance:[["value","decimals"],["value","uiAmount"]],getTokenAccountsByDelegate:ON.map(t=>["value",wt,"account",...t]),getTokenAccountsByOwner:ON.map(t=>["value",wt,"account",...t]),getTokenLargestAccounts:[["value",wt,"decimals"],["value",wt,"uiAmount"]],getTokenSupply:[["value","decimals"],["value","uiAmount"]],getTransaction:[["meta","preTokenBalances",wt,"accountIndex"],["meta","preTokenBalances",wt,"uiTokenAmount","decimals"],["meta","postTokenBalances",wt,"accountIndex"],["meta","postTokenBalances",wt,"uiTokenAmount","decimals"],["meta","rewards",wt,"commission"],...b3.map(t=>["meta","innerInstructions",wt,...t]),...Kre.map(t=>["transaction","message",...t])],getVersion:[["feature-set"]],getVoteAccounts:[["current",wt,"commission"],["delinquent",wt,"commission"]],simulateTransaction:[["value","loadedAccountsDataSize"],...A2.map(t=>["value","accounts",wt,...t]),...b3.map(t=>["value","innerInstructions",wt,...t])]}),Yre}var NCt={accept:!0,"content-length":!0,"content-type":!0},PCt=Object.assign({"accept-charset":!0,"access-control-request-headers":!0,"access-control-request-method":!0,connection:!0,"content-length":!0,cookie:!0,date:!0,dnt:!0,expect:!0,host:!0,"keep-alive":!0,"permissions-policy":!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,via:!0},void 0,void 0);function kCt(t){let e=Object.keys(t).filter(r=>{let n=r.toLowerCase();return NCt[r.toLowerCase()]===!0||PCt[r.toLowerCase()]===!0||n.startsWith("proxy-")||n.startsWith("sec-")});if(e.length>0)throw new tn(Fre,{headers:e})}function DCt(t){let e={};for(let r in t)e[r.toLowerCase()]=t[r];return e}function MCt(t){process.env.NODE_ENV;let{fromJson:e,headers:r,toJson:n,url:i}=t;process.env.NODE_ENV!=="production"&&r&&kCt(r);let o;"dispatcher_NODE_ONLY"in t&&(o={dispatcher:t.dispatcher_NODE_ONLY});let s=r&&DCt(r);return async function({payload:c,signal:l}){let u=n?n(c):JSON.stringify(c),d={...o,body:u,headers:{...s,accept:"application/json","content-length":u.length.toString(),"content-type":"application/json; charset=utf-8"},method:"POST",signal:l},p=await fetch(i,d);if(!p.ok)throw new tn(zre,{headers:p.headers,message:p.statusText,statusCode:p.status});return e?e(await p.text(),c):await p.json()}}var $Ct=["getAccountInfo","getBalance","getBlock","getBlockCommitment","getBlockHeight","getBlockProduction","getBlocks","getBlocksWithLimit","getBlockTime","getClusterNodes","getEpochInfo","getEpochSchedule","getFeeForMessage","getFirstAvailableBlock","getGenesisHash","getHealth","getHighestSnapshotSlot","getIdentity","getInflationGovernor","getInflationRate","getInflationReward","getLargestAccounts","getLatestBlockhash","getLeaderSchedule","getMaxRetransmitSlot","getMaxShredInsertSlot","getMinimumBalanceForRentExemption","getMultipleAccounts","getProgramAccounts","getRecentPerformanceSamples","getRecentPrioritizationFees","getSignaturesForAddress","getSignatureStatuses","getSlot","getSlotLeader","getSlotLeaders","getStakeMinimumDelegation","getSupply","getTokenAccountBalance","getTokenAccountsByDelegate","getTokenAccountsByOwner","getTokenLargestAccounts","getTokenSupply","getTransaction","getTransactionCount","getVersion","getVoteAccounts","index","isBlockhashValid","minimumLedgerSlot","requestAirdrop","sendTransaction","simulateTransaction"];function GBe(t){return CN(t)&&$Ct.includes(t.method)}function KBe(t){return MCt({...t,fromJson:(e,r)=>GBe(r)?MBe(e):JSON.parse(e),toJson:e=>GBe(e)?LBe(e):JSON.stringify(e)})}import{setMaxListeners as UCt}from"events";var LCt=Object.prototype.toString,BCt=Object.keys||function(t){let e=[];for(let r in t)e.push(r);return e};function v3(t,e){let r,n,i,o,s,a,c;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if("toJSON"in t&&typeof t.toJSON=="function")return v3(t.toJSON(),e);if(c=LCt.call(t),c==="[object Array]"){for(i="[",n=t.length-1,r=0;r<n;r++)i+=v3(t[r],!0)+",";return n>-1&&(i+=v3(t[r],!0)),i+"]"}else if(c==="[object Object]"){for(o=BCt(t).sort(),n=o.length,i="",r=0;r<n;)s=o[r],a=v3(t[s],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(s)+":"+a),r++;return"{"+i+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"bigint":return`${t.toString()}n`;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}function YBe(t){let e=v3(t,!1);if(e!==void 0)return""+e}function ZBe(t,e,r){let n="";if(typeof e[0]=="number"){let s=e[0]+1,a=s%10,c=s%100;a==1&&c!=11?n=s+"st":a==2&&c!=12?n=s+"nd":a==3&&c!=13?n=s+"rd":n=s+"th"}else n=`\`${e[0].toString()}\``;let i=e.length>1?e.slice(1).map(s=>typeof s=="number"?`[${s}]`:s).join("."):void 0,o=new tn(Ure,{argumentLabel:n,keyPath:e,methodName:t,optionalPathLabel:i?` at path \`${i}\``:"",value:r,...i!==void 0?{path:i}:void 0});return RN(o,ZBe),o}var FCt={defaultCommitment:"confirmed",onIntegerOverflow(t,e,r){throw ZBe(t.methodName,e,r)}},zCt=class extends globalThis.AbortController{constructor(...t){super(...t),UCt(Number.MAX_SAFE_INTEGER,this.signal)}},JBe;function QBe(){return process.env.NODE_ENV!=="production"?{EXPLICIT_ABORT_TOKEN:"This object is thrown from the request that underlies a series of coalesced requests when the last request in that series aborts"}:{}}function VCt(t,e){let r;return async function(i){let{payload:o,signal:s}=i,a=e(o);if(a===void 0)return await t(i);if(r||(queueMicrotask(()=>{r=void 0}),r={}),r[a]==null){let l=new zCt,u=(async()=>{try{return await t({...i,signal:l.signal})}catch(d){if(d===(JBe||=QBe()))return;throw d}})();r[a]={abortController:l,numConsumers:0,responsePromise:u}}let c=r[a];if(c.numConsumers++,s){let l=c.responsePromise;return await new Promise((u,d)=>{let p=m=>{s.removeEventListener("abort",p),c.numConsumers-=1,queueMicrotask(()=>{c.numConsumers===0&&c.abortController.abort(JBe||=QBe())}),d(m.target.reason)};s.addEventListener("abort",p),l.then(u).catch(d).finally(()=>{s.removeEventListener("abort",p)})})}else return await c.responsePromise}}function jCt(t){return CN(t)?YBe([t.method,t.params]):void 0}function qCt(t){let e={};for(let r in t)e[r.toLowerCase()]=t[r];return e}function HCt(t){return y3(KBe({...t,headers:{"accept-encoding":"br,gzip,deflate",...t.headers?qCt(t.headers):void 0,"solana-client":"js/5.5.1"}}),e=>VCt(e,jCt))}function NN(t,e){return WCt(HCt({url:t,...e}))}function WCt(t){return BBe({api:WBe(FCt),transport:t})}var TFe=5,Tne=1e3,Cne=class{callTimestamps=[];queue=[];processing=!1;_totalCalls=0;_rateLimitHits=0;_totalWaitMs=0;get metrics(){return{totalCalls:this._totalCalls,rateLimitHits:this._rateLimitHits,avgWaitMs:this._totalCalls>0?Math.round(this._totalWaitMs/this._totalCalls):0,queueDepth:this.queue.length}}async execute(e){this._totalCalls++;let r=Date.now();return this.callTimestamps=this.callTimestamps.filter(n=>r-n<Tne),this.callTimestamps.length<TFe?(this.callTimestamps.push(r),e()):(this._rateLimitHits++,new Promise((n,i)=>{this.queue.push({execute:e,resolve:n,reject:i,enqueuedAt:r}),this.processQueue()}))}async processQueue(){if(!this.processing){for(this.processing=!0;this.queue.length>0;){let e=Date.now();if(this.callTimestamps=this.callTimestamps.filter(n=>e-n<Tne),this.callTimestamps.length>=TFe){let n=this.callTimestamps[0],i=Tne-(e-n)+10;await CFe(i);continue}let r=this.queue.shift();if(!r)break;this._totalWaitMs+=Date.now()-r.enqueuedAt,this.callTimestamps.push(Date.now());try{let n=await r.execute();r.resolve(n)}catch(n){r.reject(n instanceof Error?n:new Error(String(n)))}}this.processing=!1}}},E7t=new Cne,Ine=3,R7t=500;async function IFe(t,e){let r=null;for(let n=0;n<=Ine;n++)try{return await E7t.execute(t)}catch(i){if(r=i instanceof Error?i:new Error(String(i)),n<Ine){let o=R7t*Math.pow(2,n),s=Math.random()*o*.3;console.warn(`[SolanaTracker] ${e} attempt ${n+1} failed: ${r.message}. Retrying in ${Math.round(o+s)}ms...`),await CFe(o+s)}}throw new Error(`[SolanaTracker] ${e} failed after ${Ine+1} attempts: ${r?.message}`)}function CFe(t){return new Promise(e=>setTimeout(e,t))}function OFe(){let t=Mr.SOLANA_RPC_URL||"https://api.mainnet-beta.solana.com";return NN(t)}var T7t=1e9;async function One(t){let e=OFe(),r=await IFe(async()=>(await e.getBalance(ul(t)).send()).value,`getBalance(${t.slice(0,8)}...)`);return{sol:Number(r)/T7t,lamports:r}}async function NFe(t){let e=OFe(),r="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",n="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb",i=[];for(let o of[r,n])try{let s=await IFe(async()=>(await e.getTokenAccountsByOwner(ul(t),{programId:ul(o)},{encoding:"jsonParsed"}).send()).value,`getTokenAccounts(${t.slice(0,8)}..., ${o.slice(0,8)}...)`);for(let a of s){let l=a.account.data?.parsed?.info;if(!l?.mint||!l?.tokenAmount)continue;let u=l.tokenAmount.amount??"0",d=l.tokenAmount.decimals??0,p=l.tokenAmount.uiAmount??0;u!=="0"&&i.push({mintAddress:l.mint,rawAmount:u,amount:p,decimals:d,tokenAccount:a.pubkey})}}catch(s){console.warn(`[SolanaTracker] Failed to fetch token accounts for program ${o.slice(0,8)}...: ${s instanceof Error?s.message:String(s)}`)}return i}var I7t=10000000n,C7t=.01,O7t=[{agentId:"claude-trader",agentName:"Claude Trader",publicKey:process.env.CLAUDE_WALLET_ADDRESS||"11111111111111111111111111111111",provider:"anthropic"},{agentId:"gpt-trader",agentName:"GPT Trader",publicKey:process.env.GPT_WALLET_ADDRESS||"11111111111111111111111111111111",provider:"openai"},{agentId:"grok-trader",agentName:"Grok Trader",publicKey:process.env.GROK_WALLET_ADDRESS||"11111111111111111111111111111111",provider:"xai"}],HN=[],PFe=500,Kon=new Set(Wl.map(t=>t.mintAddress)),Yon=new Map(Wl.map(t=>[t.mintAddress,t]));function kFe(t){return O7t.find(e=>e.agentId===t)??null}async function Nne(t,e){let r=kFe(t);if(!r)throw new Error(`agent_wallet_not_found: no wallet configured for ${t}`);let n=0,i=[];if(r.publicKey!=="11111111111111111111111111111111"){let[s,a]=await Promise.all([One(r.publicKey),NFe(r.publicKey)]);n=s.sol,i=a.map(c=>({mintAddress:c.mintAddress,amount:c.amount}))}let o={agentId:t,timestamp:new Date().toISOString(),solBalance:n,tokenBalances:i,context:e};return HN.push(o),HN.length>PFe&&HN.splice(0,HN.length-PFe),console.log(`[AgentWallets] Snapshot recorded for ${t}: ${e} \u2014 ${n.toFixed(4)} SOL, ${i.length} tokens`),o}async function DFe(t){let e=kFe(t);if(!e)return{ready:!1,reason:`No wallet configured for agent ${t}`,solBalance:0,publicKey:""};if(e.publicKey==="11111111111111111111111111111111")return{ready:!1,reason:`Wallet for ${t} is a placeholder. Set ${e.agentName.toUpperCase().replace(/\s/g,"_")}_WALLET_ADDRESS env var.`,solBalance:0,publicKey:e.publicKey};try{let{sol:r,lamports:n}=await One(e.publicKey);return n<I7t?{ready:!1,reason:`Insufficient SOL for fees: ${r.toFixed(4)} SOL (need ${C7t} SOL)`,solBalance:r,publicKey:e.publicKey}:{ready:!0,reason:null,solBalance:r,publicKey:e.publicKey}}catch(r){return{ready:!1,reason:`Failed to check balance: ${r instanceof Error?r.message:String(r)}`,solBalance:0,publicKey:e.publicKey}}}var P2=9e15,vh=1e9,Pne="0123456789abcdef",KN="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",YN="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",kne={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-P2,maxE:P2,crypto:!1},BFe,Qp,Vt=!0,QN="[DecimalError] ",bh=QN+"Invalid argument: ",UFe=QN+"Precision limit exceeded",FFe=QN+"crypto unavailable",zFe="[object Decimal]",Go=Math.floor,ji=Math.pow,N7t=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,P7t=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,k7t=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,VFe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ru=1e7,Ct=7,D7t=9007199254740991,M7t=KN.length-1,Dne=YN.length-1,we={toStringTag:zFe};we.absoluteValue=we.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),xt(t)};we.ceil=function(){return xt(new this.constructor(this),this.e+1,2)};we.clampedTo=we.clamp=function(t,e){var r,n=this,i=n.constructor;if(t=new i(t),e=new i(e),!t.s||!e.s)return new i(NaN);if(t.gt(e))throw Error(bh+e);return r=n.cmp(t),r<0?t:n.cmp(e)>0?e:new i(n)};we.comparedTo=we.cmp=function(t){var e,r,n,i,o=this,s=o.d,a=(t=new o.constructor(t)).d,c=o.s,l=t.s;if(!s||!a)return!c||!l?NaN:c!==l?c:s===a?0:!s^c<0?1:-1;if(!s[0]||!a[0])return s[0]?c:a[0]?-l:0;if(c!==l)return c;if(o.e!==t.e)return o.e>t.e^c<0?1:-1;for(n=s.length,i=a.length,e=0,r=n<i?n:i;e<r;++e)if(s[e]!==a[e])return s[e]>a[e]^c<0?1:-1;return n===i?0:n>i^c<0?1:-1};we.cosine=we.cos=function(){var t,e,r=this,n=r.constructor;return r.d?r.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+Ct,n.rounding=1,r=$7t(n,GFe(n,r)),n.precision=t,n.rounding=e,xt(Qp==2||Qp==3?r.neg():r,t,e,!0)):new n(1):new n(NaN)};we.cubeRoot=we.cbrt=function(){var t,e,r,n,i,o,s,a,c,l,u=this,d=u.constructor;if(!u.isFinite()||u.isZero())return new d(u);for(Vt=!1,o=u.s*ji(u.s*u,1/3),!o||Math.abs(o)==1/0?(r=vo(u.d),t=u.e,(o=(t-r.length+1)%3)&&(r+=o==1||o==-2?"0":"00"),o=ji(r,1/3),t=Go((t+1)/3)-(t%3==(t<0?-1:2)),o==1/0?r="5e"+t:(r=o.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),n=new d(r),n.s=u.s):n=new d(o.toString()),s=(t=d.precision)+3;;)if(a=n,c=a.times(a).times(a),l=c.plus(u),n=rn(l.plus(u).times(a),l.plus(c),s+2,1),vo(a.d).slice(0,s)===(r=vo(n.d)).slice(0,s))if(r=r.slice(s-3,s+1),r=="9999"||!i&&r=="4999"){if(!i&&(xt(a,t+1,0),a.times(a).times(a).eq(u))){n=a;break}s+=4,i=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(xt(n,t+1,1),e=!n.times(n).times(n).eq(u));break}return Vt=!0,xt(n,t,d.rounding,e)};we.decimalPlaces=we.dp=function(){var t,e=this.d,r=NaN;if(e){if(t=e.length-1,r=(t-Go(this.e/Ct))*Ct,t=e[t],t)for(;t%10==0;t/=10)r--;r<0&&(r=0)}return r};we.dividedBy=we.div=function(t){return rn(this,new this.constructor(t))};we.dividedToIntegerBy=we.divToInt=function(t){var e=this,r=e.constructor;return xt(rn(e,new r(t),0,1,1),r.precision,r.rounding)};we.equals=we.eq=function(t){return this.cmp(t)===0};we.floor=function(){return xt(new this.constructor(this),this.e+1,3)};we.greaterThan=we.gt=function(t){return this.cmp(t)>0};we.greaterThanOrEqualTo=we.gte=function(t){var e=this.cmp(t);return e==1||e===0};we.hyperbolicCosine=we.cosh=function(){var t,e,r,n,i,o=this,s=o.constructor,a=new s(1);if(!o.isFinite())return new s(o.s?1/0:NaN);if(o.isZero())return a;r=s.precision,n=s.rounding,s.precision=r+Math.max(o.e,o.sd())+4,s.rounding=1,i=o.d.length,i<32?(t=Math.ceil(i/3),e=(1/XN(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),o=k2(s,1,o.times(e),new s(1),!0);for(var c,l=t,u=new s(8);l--;)c=o.times(o),o=a.minus(c.times(u.minus(c.times(u))));return xt(o,s.precision=r,s.rounding=n,!0)};we.hyperbolicSine=we.sinh=function(){var t,e,r,n,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(e=o.precision,r=o.rounding,o.precision=e+Math.max(i.e,i.sd())+4,o.rounding=1,n=i.d.length,n<3)i=k2(o,2,i,i,!0);else{t=1.4*Math.sqrt(n),t=t>16?16:t|0,i=i.times(1/XN(5,t)),i=k2(o,2,i,i,!0);for(var s,a=new o(5),c=new o(16),l=new o(20);t--;)s=i.times(i),i=i.times(a.plus(s.times(c.times(s).plus(l))))}return o.precision=e,o.rounding=r,xt(i,e,r,!0)};we.hyperbolicTangent=we.tanh=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,rn(r.sinh(),r.cosh(),n.precision=t,n.rounding=e)):new n(r.s)};we.inverseCosine=we.acos=function(){var t=this,e=t.constructor,r=t.abs().cmp(1),n=e.precision,i=e.rounding;return r!==-1?r===0?t.isNeg()?ud(e,n,i):new e(0):new e(NaN):t.isZero()?ud(e,n+4,i).times(.5):(e.precision=n+6,e.rounding=1,t=new e(1).minus(t).div(t.plus(1)).sqrt().atan(),e.precision=n,e.rounding=i,t.times(2))};we.inverseHyperbolicCosine=we.acosh=function(){var t,e,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,Vt=!1,r=r.times(r).minus(1).sqrt().plus(r),Vt=!0,n.precision=t,n.rounding=e,r.ln()):new n(r)};we.inverseHyperbolicSine=we.asinh=function(){var t,e,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,Vt=!1,r=r.times(r).plus(1).sqrt().plus(r),Vt=!0,n.precision=t,n.rounding=e,r.ln())};we.inverseHyperbolicTangent=we.atanh=function(){var t,e,r,n,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=o.precision,e=o.rounding,n=i.sd(),Math.max(n,t)<2*-i.e-1?xt(new o(i),t,e,!0):(o.precision=r=n-i.e,i=rn(i.plus(1),new o(1).minus(i),r+t,1),o.precision=t+4,o.rounding=1,i=i.ln(),o.precision=t,o.rounding=e,i.times(.5))):new o(NaN)};we.inverseSine=we.asin=function(){var t,e,r,n,i=this,o=i.constructor;return i.isZero()?new o(i):(e=i.abs().cmp(1),r=o.precision,n=o.rounding,e!==-1?e===0?(t=ud(o,r+4,n).times(.5),t.s=i.s,t):new o(NaN):(o.precision=r+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=r,o.rounding=n,i.times(2)))};we.inverseTangent=we.atan=function(){var t,e,r,n,i,o,s,a,c,l=this,u=l.constructor,d=u.precision,p=u.rounding;if(l.isFinite()){if(l.isZero())return new u(l);if(l.abs().eq(1)&&d+4<=Dne)return s=ud(u,d+4,p).times(.25),s.s=l.s,s}else{if(!l.s)return new u(NaN);if(d+4<=Dne)return s=ud(u,d+4,p).times(.5),s.s=l.s,s}for(u.precision=a=d+10,u.rounding=1,r=Math.min(28,a/Ct+2|0),t=r;t;--t)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(Vt=!1,e=Math.ceil(a/Ct),n=1,c=l.times(l),s=new u(l),i=l;t!==-1;)if(i=i.times(c),o=s.minus(i.div(n+=2)),i=i.times(c),s=o.plus(i.div(n+=2)),s.d[e]!==void 0)for(t=e;s.d[t]===o.d[t]&&t--;);return r&&(s=s.times(2<<r-1)),Vt=!0,xt(s,u.precision=d,u.rounding=p,!0)};we.isFinite=function(){return!!this.d};we.isInteger=we.isInt=function(){return!!this.d&&Go(this.e/Ct)>this.d.length-2};we.isNaN=function(){return!this.s};we.isNegative=we.isNeg=function(){return this.s<0};we.isPositive=we.isPos=function(){return this.s>0};we.isZero=function(){return!!this.d&&this.d[0]===0};we.lessThan=we.lt=function(t){return this.cmp(t)<0};we.lessThanOrEqualTo=we.lte=function(t){return this.cmp(t)<1};we.logarithm=we.log=function(t){var e,r,n,i,o,s,a,c,l=this,u=l.constructor,d=u.precision,p=u.rounding,m=5;if(t==null)t=new u(10),e=!0;else{if(t=new u(t),r=t.d,t.s<0||!r||!r[0]||t.eq(1))return new u(NaN);e=t.eq(10)}if(r=l.d,l.s<0||!r||!r[0]||l.eq(1))return new u(r&&!r[0]?-1/0:l.s!=1?NaN:r?0:1/0);if(e)if(r.length>1)o=!0;else{for(i=r[0];i%10===0;)i/=10;o=i!==1}if(Vt=!1,a=d+m,s=yh(l,a),n=e?JN(u,a+10):yh(t,a),c=rn(s,n,a,1),I3(c.d,i=d,p))do if(a+=10,s=yh(l,a),n=e?JN(u,a+10):yh(t,a),c=rn(s,n,a,1),!o){+vo(c.d).slice(i+1,i+15)+1==1e14&&(c=xt(c,d+1,0));break}while(I3(c.d,i+=10,p));return Vt=!0,xt(c,d,p)};we.minus=we.sub=function(t){var e,r,n,i,o,s,a,c,l,u,d,p,m=this,h=m.constructor;if(t=new h(t),!m.d||!t.d)return!m.s||!t.s?t=new h(NaN):m.d?t.s=-t.s:t=new h(t.d||m.s!==t.s?m:NaN),t;if(m.s!=t.s)return t.s=-t.s,m.plus(t);if(l=m.d,p=t.d,a=h.precision,c=h.rounding,!l[0]||!p[0]){if(p[0])t.s=-t.s;else if(l[0])t=new h(m);else return new h(c===3?-0:0);return Vt?xt(t,a,c):t}if(r=Go(t.e/Ct),u=Go(m.e/Ct),l=l.slice(),o=u-r,o){for(d=o<0,d?(e=l,o=-o,s=p.length):(e=p,r=u,s=l.length),n=Math.max(Math.ceil(a/Ct),s)+2,o>n&&(o=n,e.length=1),e.reverse(),n=o;n--;)e.push(0);e.reverse()}else{for(n=l.length,s=p.length,d=n<s,d&&(s=n),n=0;n<s;n++)if(l[n]!=p[n]){d=l[n]<p[n];break}o=0}for(d&&(e=l,l=p,p=e,t.s=-t.s),s=l.length,n=p.length-s;n>0;--n)l[s++]=0;for(n=p.length;n>o;){if(l[--n]<p[n]){for(i=n;i&&l[--i]===0;)l[i]=ru-1;--l[i],l[n]+=ru}l[n]-=p[n]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=ZN(l,r),Vt?xt(t,a,c):t):new h(c===3?-0:0)};we.modulo=we.mod=function(t){var e,r=this,n=r.constructor;return t=new n(t),!r.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||r.d&&!r.d[0]?xt(new n(r),n.precision,n.rounding):(Vt=!1,n.modulo==9?(e=rn(r,t.abs(),0,3,1),e.s*=t.s):e=rn(r,t,0,n.modulo,1),e=e.times(t),Vt=!0,r.minus(e))};we.naturalExponential=we.exp=function(){return Mne(this)};we.naturalLogarithm=we.ln=function(){return yh(this)};we.negated=we.neg=function(){var t=new this.constructor(this);return t.s=-t.s,xt(t)};we.plus=we.add=function(t){var e,r,n,i,o,s,a,c,l,u,d=this,p=d.constructor;if(t=new p(t),!d.d||!t.d)return!d.s||!t.s?t=new p(NaN):d.d||(t=new p(t.d||d.s===t.s?d:NaN)),t;if(d.s!=t.s)return t.s=-t.s,d.minus(t);if(l=d.d,u=t.d,a=p.precision,c=p.rounding,!l[0]||!u[0])return u[0]||(t=new p(d)),Vt?xt(t,a,c):t;if(o=Go(d.e/Ct),n=Go(t.e/Ct),l=l.slice(),i=o-n,i){for(i<0?(r=l,i=-i,s=u.length):(r=u,n=o,s=l.length),o=Math.ceil(a/Ct),s=o>s?o+1:s+1,i>s&&(i=s,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(s=l.length,i=u.length,s-i<0&&(i=s,r=u,u=l,l=r),e=0;i;)e=(l[--i]=l[i]+u[i]+e)/ru|0,l[i]%=ru;for(e&&(l.unshift(e),++n),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=ZN(l,n),Vt?xt(t,a,c):t};we.precision=we.sd=function(t){var e,r=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(bh+t);return r.d?(e=jFe(r.d),t&&r.e+1>e&&(e=r.e+1)):e=NaN,e};we.round=function(){var t=this,e=t.constructor;return xt(new e(t),t.e+1,e.rounding)};we.sine=we.sin=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+Ct,n.rounding=1,r=B7t(n,GFe(n,r)),n.precision=t,n.rounding=e,xt(Qp>2?r.neg():r,t,e,!0)):new n(NaN)};we.squareRoot=we.sqrt=function(){var t,e,r,n,i,o,s=this,a=s.d,c=s.e,l=s.s,u=s.constructor;if(l!==1||!a||!a[0])return new u(!l||l<0&&(!a||a[0])?NaN:a?s:1/0);for(Vt=!1,l=Math.sqrt(+s),l==0||l==1/0?(e=vo(a),(e.length+c)%2==0&&(e+="0"),l=Math.sqrt(e),c=Go((c+1)/2)-(c<0||c%2),l==1/0?e="5e"+c:(e=l.toExponential(),e=e.slice(0,e.indexOf("e")+1)+c),n=new u(e)):n=new u(l.toString()),r=(c=u.precision)+3;;)if(o=n,n=o.plus(rn(s,o,r+2,1)).times(.5),vo(o.d).slice(0,r)===(e=vo(n.d)).slice(0,r))if(e=e.slice(r-3,r+1),e=="9999"||!i&&e=="4999"){if(!i&&(xt(o,c+1,0),o.times(o).eq(s))){n=o;break}r+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(xt(n,c+1,1),t=!n.times(n).eq(s));break}return Vt=!0,xt(n,c,u.rounding,t)};we.tangent=we.tan=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,r=r.sin(),r.s=1,r=rn(r,new n(1).minus(r.times(r)).sqrt(),t+10,0),n.precision=t,n.rounding=e,xt(Qp==2||Qp==4?r.neg():r,t,e,!0)):new n(NaN)};we.times=we.mul=function(t){var e,r,n,i,o,s,a,c,l,u=this,d=u.constructor,p=u.d,m=(t=new d(t)).d;if(t.s*=u.s,!p||!p[0]||!m||!m[0])return new d(!t.s||p&&!p[0]&&!m||m&&!m[0]&&!p?NaN:!p||!m?t.s/0:t.s*0);for(r=Go(u.e/Ct)+Go(t.e/Ct),c=p.length,l=m.length,c<l&&(o=p,p=m,m=o,s=c,c=l,l=s),o=[],s=c+l,n=s;n--;)o.push(0);for(n=l;--n>=0;){for(e=0,i=c+n;i>n;)a=o[i]+m[n]*p[i-n-1]+e,o[i--]=a%ru|0,e=a/ru|0;o[i]=(o[i]+e)%ru|0}for(;!o[--s];)o.pop();return e?++r:o.shift(),t.d=o,t.e=ZN(o,r),Vt?xt(t,d.precision,d.rounding):t};we.toBinary=function(t,e){return $ne(this,2,t,e)};we.toDecimalPlaces=we.toDP=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(ca(t,0,vh),e===void 0?e=n.rounding:ca(e,0,8),xt(r,t+r.e+1,e))};we.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=dd(n,!0):(ca(t,0,vh),e===void 0?e=i.rounding:ca(e,0,8),n=xt(new i(n),t+1,e),r=dd(n,!0,t+1)),n.isNeg()&&!n.isZero()?"-"+r:r};we.toFixed=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?r=dd(i):(ca(t,0,vh),e===void 0?e=o.rounding:ca(e,0,8),n=xt(new o(i),t+i.e+1,e),r=dd(n,!1,t+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r};we.toFraction=function(t){var e,r,n,i,o,s,a,c,l,u,d,p,m=this,h=m.d,f=m.constructor;if(!h)return new f(m);if(l=r=new f(1),n=c=new f(0),e=new f(n),o=e.e=jFe(h)-m.e-1,s=o%Ct,e.d[0]=ji(10,s<0?Ct+s:s),t==null)t=o>0?e:l;else{if(a=new f(t),!a.isInt()||a.lt(l))throw Error(bh+a);t=a.gt(e)?o>0?e:l:a}for(Vt=!1,a=new f(vo(h)),u=f.precision,f.precision=o=h.length*Ct*2;d=rn(a,e,0,1,1),i=r.plus(d.times(n)),i.cmp(t)!=1;)r=n,n=i,i=l,l=c.plus(d.times(i)),c=i,i=e,e=a.minus(d.times(i)),a=i;return i=rn(t.minus(r),n,0,1,1),c=c.plus(i.times(l)),r=r.plus(i.times(n)),c.s=l.s=m.s,p=rn(l,n,o,1).minus(m).abs().cmp(rn(c,r,o,1).minus(m).abs())<1?[l,n]:[c,r],f.precision=u,Vt=!0,p};we.toHexadecimal=we.toHex=function(t,e){return $ne(this,16,t,e)};we.toNearest=function(t,e){var r=this,n=r.constructor;if(r=new n(r),t==null){if(!r.d)return r;t=new n(1),e=n.rounding}else{if(t=new n(t),e===void 0?e=n.rounding:ca(e,0,8),!r.d)return t.s?r:t;if(!t.d)return t.s&&(t.s=r.s),t}return t.d[0]?(Vt=!1,r=rn(r,t,0,e,1).times(t),Vt=!0,xt(r)):(t.s=r.s,r=t),r};we.toNumber=function(){return+this};we.toOctal=function(t,e){return $ne(this,8,t,e)};we.toPower=we.pow=function(t){var e,r,n,i,o,s,a=this,c=a.constructor,l=+(t=new c(t));if(!a.d||!t.d||!a.d[0]||!t.d[0])return new c(ji(+a,l));if(a=new c(a),a.eq(1))return a;if(n=c.precision,o=c.rounding,t.eq(1))return xt(a,n,o);if(e=Go(t.e/Ct),e>=t.d.length-1&&(r=l<0?-l:l)<=D7t)return i=qFe(c,a,r,n),t.s<0?new c(1).div(i):xt(i,n,o);if(s=a.s,s<0){if(e<t.d.length-1)return new c(NaN);if((t.d[e]&1)==0&&(s=1),a.e==0&&a.d[0]==1&&a.d.length==1)return a.s=s,a}return r=ji(+a,l),e=r==0||!isFinite(r)?Go(l*(Math.log("0."+vo(a.d))/Math.LN10+a.e+1)):new c(r+"").e,e>c.maxE+1||e<c.minE-1?new c(e>0?s/0:0):(Vt=!1,c.rounding=a.s=1,r=Math.min(12,(e+"").length),i=Mne(t.times(yh(a,n+r)),n),i.d&&(i=xt(i,n+5,1),I3(i.d,n,o)&&(e=n+10,i=xt(Mne(t.times(yh(a,e+r)),e),e+5,1),+vo(i.d).slice(n+1,n+15)+1==1e14&&(i=xt(i,n+1,0)))),i.s=s,Vt=!0,c.rounding=o,xt(i,n,o))};we.toPrecision=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=dd(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(ca(t,1,vh),e===void 0?e=i.rounding:ca(e,0,8),n=xt(new i(n),t,e),r=dd(n,t<=n.e||n.e<=i.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+r:r};we.toSignificantDigits=we.toSD=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(ca(t,1,vh),e===void 0?e=n.rounding:ca(e,0,8)),xt(new n(r),t,e)};we.toString=function(){var t=this,e=t.constructor,r=dd(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+r:r};we.truncated=we.trunc=function(){return xt(new this.constructor(this),this.e+1,1)};we.valueOf=we.toJSON=function(){var t=this,e=t.constructor,r=dd(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+r:r};function vo(t){var e,r,n,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)n=t[e]+"",r=Ct-n.length,r&&(o+=gh(r)),o+=n;s=t[e],n=s+"",r=Ct-n.length,r&&(o+=gh(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}function ca(t,e,r){if(t!==~~t||t<e||t>r)throw Error(bh+t)}function I3(t,e,r,n){var i,o,s,a;for(o=t[0];o>=10;o/=10)--e;return--e<0?(e+=Ct,i=0):(i=Math.ceil((e+1)/Ct),e%=Ct),o=ji(10,Ct-e),a=t[i]%o|0,n==null?e<3?(e==0?a=a/100|0:e==1&&(a=a/10|0),s=r<4&&a==99999||r>3&&a==49999||a==5e4||a==0):s=(r<4&&a+1==o||r>3&&a+1==o/2)&&(t[i+1]/o/100|0)==ji(10,e-2)-1||(a==o/2||a==0)&&(t[i+1]/o/100|0)==0:e<4?(e==0?a=a/1e3|0:e==1?a=a/100|0:e==2&&(a=a/10|0),s=(n||r<4)&&a==9999||!n&&r>3&&a==4999):s=((n||r<4)&&a+1==o||!n&&r>3&&a+1==o/2)&&(t[i+1]/o/1e3|0)==ji(10,e-3)-1,s}function WN(t,e,r){for(var n,i=[0],o,s=0,a=t.length;s<a;){for(o=i.length;o--;)i[o]*=e;for(i[0]+=Pne.indexOf(t.charAt(s++)),n=0;n<i.length;n++)i[n]>r-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}function $7t(t,e){var r,n,i;if(e.isZero())return e;n=e.d.length,n<32?(r=Math.ceil(n/3),i=(1/XN(4,r)).toString()):(r=16,i="2.3283064365386962890625e-10"),t.precision+=r,e=k2(t,1,e.times(i),new t(1));for(var o=r;o--;){var s=e.times(e);e=s.times(s).minus(s).times(8).plus(1)}return t.precision-=r,e}var rn=(function(){function t(n,i,o){var s,a=0,c=n.length;for(n=n.slice();c--;)s=n[c]*i+a,n[c]=s%o|0,a=s/o|0;return a&&n.unshift(a),n}function e(n,i,o,s){var a,c;if(o!=s)c=o>s?1:-1;else for(a=c=0;a<o;a++)if(n[a]!=i[a]){c=n[a]>i[a]?1:-1;break}return c}function r(n,i,o,s){for(var a=0;o--;)n[o]-=a,a=n[o]<i[o]?1:0,n[o]=a*s+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,s,a,c){var l,u,d,p,m,h,f,y,v,_,x,E,I,N,L,B,P,V,j,ee,O=n.constructor,b=n.s==i.s?1:-1,S=n.d,R=i.d;if(!S||!S[0]||!R||!R[0])return new O(!n.s||!i.s||(S?R&&S[0]==R[0]:!R)?NaN:S&&S[0]==0||!R?b*0:b/0);for(c?(m=1,u=n.e-i.e):(c=ru,m=Ct,u=Go(n.e/m)-Go(i.e/m)),j=R.length,P=S.length,v=new O(b),_=v.d=[],d=0;R[d]==(S[d]||0);d++);if(R[d]>(S[d]||0)&&u--,o==null?(N=o=O.precision,s=O.rounding):a?N=o+(n.e-i.e)+1:N=o,N<0)_.push(1),h=!0;else{if(N=N/m+2|0,d=0,j==1){for(p=0,R=R[0],N++;(d<P||p)&&N--;d++)L=p*c+(S[d]||0),_[d]=L/R|0,p=L%R|0;h=p||d<P}else{for(p=c/(R[0]+1)|0,p>1&&(R=t(R,p,c),S=t(S,p,c),j=R.length,P=S.length),B=j,x=S.slice(0,j),E=x.length;E<j;)x[E++]=0;ee=R.slice(),ee.unshift(0),V=R[0],R[1]>=c/2&&++V;do p=0,l=e(R,x,j,E),l<0?(I=x[0],j!=E&&(I=I*c+(x[1]||0)),p=I/V|0,p>1?(p>=c&&(p=c-1),f=t(R,p,c),y=f.length,E=x.length,l=e(f,x,y,E),l==1&&(p--,r(f,j<y?ee:R,y,c))):(p==0&&(l=p=1),f=R.slice()),y=f.length,y<E&&f.unshift(0),r(x,f,E,c),l==-1&&(E=x.length,l=e(R,x,j,E),l<1&&(p++,r(x,j<E?ee:R,E,c))),E=x.length):l===0&&(p++,x=[0]),_[d++]=p,l&&x[0]?x[E++]=S[B]||0:(x=[S[B]],E=1);while((B++<P||x[0]!==void 0)&&N--);h=x[0]!==void 0}_[0]||_.shift()}if(m==1)v.e=u,BFe=h;else{for(d=1,p=_[0];p>=10;p/=10)d++;v.e=d+u*m-1,xt(v,a?o+v.e+1:o,s,h)}return v}})();function xt(t,e,r,n){var i,o,s,a,c,l,u,d,p,m=t.constructor;e:if(e!=null){if(d=t.d,!d)return t;for(i=1,a=d[0];a>=10;a/=10)i++;if(o=e-i,o<0)o+=Ct,s=e,u=d[p=0],c=u/ji(10,i-s-1)%10|0;else if(p=Math.ceil((o+1)/Ct),a=d.length,p>=a)if(n){for(;a++<=p;)d.push(0);u=c=0,i=1,o%=Ct,s=o-Ct+1}else break e;else{for(u=a=d[p],i=1;a>=10;a/=10)i++;o%=Ct,s=o-Ct+i,c=s<0?0:u/ji(10,i-s-1)%10|0}if(n=n||e<0||d[p+1]!==void 0||(s<0?u:u%ji(10,i-s-1)),l=r<4?(c||n)&&(r==0||r==(t.s<0?3:2)):c>5||c==5&&(r==4||n||r==6&&(o>0?s>0?u/ji(10,i-s):0:d[p-1])%10&1||r==(t.s<0?8:7)),e<1||!d[0])return d.length=0,l?(e-=t.e+1,d[0]=ji(10,(Ct-e%Ct)%Ct),t.e=-e||0):d[0]=t.e=0,t;if(o==0?(d.length=p,a=1,p--):(d.length=p+1,a=ji(10,Ct-o),d[p]=s>0?(u/ji(10,i-s)%ji(10,s)|0)*a:0),l)for(;;)if(p==0){for(o=1,s=d[0];s>=10;s/=10)o++;for(s=d[0]+=a,a=1;s>=10;s/=10)a++;o!=a&&(t.e++,d[0]==ru&&(d[0]=1));break}else{if(d[p]+=a,d[p]!=ru)break;d[p--]=0,a=1}for(o=d.length;d[--o]===0;)d.pop()}return Vt&&(t.e>m.maxE?(t.d=null,t.e=NaN):t.e<m.minE&&(t.e=0,t.d=[0])),t}function dd(t,e,r){if(!t.isFinite())return WFe(t);var n,i=t.e,o=vo(t.d),s=o.length;return e?(r&&(n=r-s)>0?o=o.charAt(0)+"."+o.slice(1)+gh(n):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(t.e<0?"e":"e+")+t.e):i<0?(o="0."+gh(-i-1)+o,r&&(n=r-s)>0&&(o+=gh(n))):i>=s?(o+=gh(i+1-s),r&&(n=r-i-1)>0&&(o=o+"."+gh(n))):((n=i+1)<s&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(o+="."),o+=gh(n))),o}function ZN(t,e){var r=t[0];for(e*=Ct;r>=10;r/=10)e++;return e}function JN(t,e,r){if(e>M7t)throw Vt=!0,r&&(t.precision=r),Error(UFe);return xt(new t(KN),e,1,!0)}function ud(t,e,r){if(e>Dne)throw Error(UFe);return xt(new t(YN),e,r,!0)}function jFe(t){var e=t.length-1,r=e*Ct+1;if(e=t[e],e){for(;e%10==0;e/=10)r--;for(e=t[0];e>=10;e/=10)r++}return r}function gh(t){for(var e="";t--;)e+="0";return e}function qFe(t,e,r,n){var i,o=new t(1),s=Math.ceil(n/Ct+4);for(Vt=!1;;){if(r%2&&(o=o.times(e),$Fe(o.d,s)&&(i=!0)),r=Go(r/2),r===0){r=o.d.length-1,i&&o.d[r]===0&&++o.d[r];break}e=e.times(e),$Fe(e.d,s)}return Vt=!0,o}function MFe(t){return t.d[t.d.length-1]&1}function HFe(t,e,r){for(var n,i,o=new t(e[0]),s=0;++s<e.length;){if(i=new t(e[s]),!i.s){o=i;break}n=o.cmp(i),(n===r||n===0&&o.s===r)&&(o=i)}return o}function Mne(t,e){var r,n,i,o,s,a,c,l=0,u=0,d=0,p=t.constructor,m=p.rounding,h=p.precision;if(!t.d||!t.d[0]||t.e>17)return new p(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(e==null?(Vt=!1,c=h):c=e,a=new p(.03125);t.e>-2;)t=t.times(a),d+=5;for(n=Math.log(ji(2,d))/Math.LN10*2+5|0,c+=n,r=o=s=new p(1),p.precision=c;;){if(o=xt(o.times(t),c,1),r=r.times(++u),a=s.plus(rn(o,r,c,1)),vo(a.d).slice(0,c)===vo(s.d).slice(0,c)){for(i=d;i--;)s=xt(s.times(s),c,1);if(e==null)if(l<3&&I3(s.d,c-n,m,l))p.precision=c+=10,r=o=a=new p(1),u=0,l++;else return xt(s,p.precision=h,m,Vt=!0);else return p.precision=h,s}s=a}}function yh(t,e){var r,n,i,o,s,a,c,l,u,d,p,m=1,h=10,f=t,y=f.d,v=f.constructor,_=v.rounding,x=v.precision;if(f.s<0||!y||!y[0]||!f.e&&y[0]==1&&y.length==1)return new v(y&&!y[0]?-1/0:f.s!=1?NaN:y?0:f);if(e==null?(Vt=!1,u=x):u=e,v.precision=u+=h,r=vo(y),n=r.charAt(0),Math.abs(o=f.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)f=f.times(t),r=vo(f.d),n=r.charAt(0),m++;o=f.e,n>1?(f=new v("0."+r),o++):f=new v(n+"."+r.slice(1))}else return l=JN(v,u+2,x).times(o+""),f=yh(new v(n+"."+r.slice(1)),u-h).plus(l),v.precision=x,e==null?xt(f,x,_,Vt=!0):f;for(d=f,c=s=f=rn(f.minus(1),f.plus(1),u,1),p=xt(f.times(f),u,1),i=3;;){if(s=xt(s.times(p),u,1),l=c.plus(rn(s,new v(i),u,1)),vo(l.d).slice(0,u)===vo(c.d).slice(0,u))if(c=c.times(2),o!==0&&(c=c.plus(JN(v,u+2,x).times(o+""))),c=rn(c,new v(m),u,1),e==null)if(I3(c.d,u-h,_,a))v.precision=u+=h,l=s=f=rn(d.minus(1),d.plus(1),u,1),p=xt(f.times(f),u,1),i=a=1;else return xt(c,v.precision=x,_,Vt=!0);else return v.precision=x,c;c=l,i+=2}}function WFe(t){return String(t.s*t.s/0)}function GN(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;n++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(n,i),e){if(i-=n,t.e=r=r-n-1,t.d=[],n=(r+1)%Ct,r<0&&(n+=Ct),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Ct;n<i;)t.d.push(+e.slice(n,n+=Ct));e=e.slice(n),n=Ct-e.length}else n-=i;for(;n--;)e+="0";t.d.push(+e),Vt&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function L7t(t,e){var r,n,i,o,s,a,c,l,u;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),VFe.test(e))return GN(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(P7t.test(e))r=16,e=e.toLowerCase();else if(N7t.test(e))r=2;else if(k7t.test(e))r=8;else throw Error(bh+e);for(o=e.search(/p/i),o>0?(c=+e.slice(o+1),e=e.substring(2,o)):e=e.slice(2),o=e.indexOf("."),s=o>=0,n=t.constructor,s&&(e=e.replace(".",""),a=e.length,o=a-o,i=qFe(n,new n(r),o,o*2)),l=WN(e,r,ru),u=l.length-1,o=u;l[o]===0;--o)l.pop();return o<0?new n(t.s*0):(t.e=ZN(l,u),t.d=l,Vt=!1,s&&(t=rn(t,i,a*4)),c&&(t=t.times(Math.abs(c)<54?ji(2,c):Ko.pow(2,c))),Vt=!0,t)}function B7t(t,e){var r,n=e.d.length;if(n<3)return e.isZero()?e:k2(t,2,e,e);r=1.4*Math.sqrt(n),r=r>16?16:r|0,e=e.times(1/XN(5,r)),e=k2(t,2,e,e);for(var i,o=new t(5),s=new t(16),a=new t(20);r--;)i=e.times(e),e=e.times(o.plus(i.times(s.times(i).minus(a))));return e}function k2(t,e,r,n,i){var o,s,a,c,l=1,u=t.precision,d=Math.ceil(u/Ct);for(Vt=!1,c=r.times(r),a=new t(n);;){if(s=rn(a.times(c),new t(e++*e++),u,1),a=i?n.plus(s):n.minus(s),n=rn(s.times(c),new t(e++*e++),u,1),s=a.plus(n),s.d[d]!==void 0){for(o=d;s.d[o]===a.d[o]&&o--;);if(o==-1)break}o=a,a=n,n=s,s=o,l++}return Vt=!0,s.d.length=d+1,s}function XN(t,e){for(var r=t;--e;)r*=t;return r}function GFe(t,e){var r,n=e.s<0,i=ud(t,t.precision,1),o=i.times(.5);if(e=e.abs(),e.lte(o))return Qp=n?4:1,e;if(r=e.divToInt(i),r.isZero())Qp=n?3:2;else{if(e=e.minus(r.times(i)),e.lte(o))return Qp=MFe(r)?n?2:3:n?4:1,e;Qp=MFe(r)?n?1:4:n?3:2}return e.minus(i).abs()}function $ne(t,e,r,n){var i,o,s,a,c,l,u,d,p,m=t.constructor,h=r!==void 0;if(h?(ca(r,1,vh),n===void 0?n=m.rounding:ca(n,0,8)):(r=m.precision,n=m.rounding),!t.isFinite())u=WFe(t);else{for(u=dd(t),s=u.indexOf("."),h?(i=2,e==16?r=r*4-3:e==8&&(r=r*3-2)):i=e,s>=0&&(u=u.replace(".",""),p=new m(1),p.e=u.length-s,p.d=WN(dd(p),10,i),p.e=p.d.length),d=WN(u,10,i),o=c=d.length;d[--c]==0;)d.pop();if(!d[0])u=h?"0p+0":"0";else{if(s<0?o--:(t=new m(t),t.d=d,t.e=o,t=rn(t,p,r,n,0,i),d=t.d,o=t.e,l=BFe),s=d[r],a=i/2,l=l||d[r+1]!==void 0,l=n<4?(s!==void 0||l)&&(n===0||n===(t.s<0?3:2)):s>a||s===a&&(n===4||l||n===6&&d[r-1]&1||n===(t.s<0?8:7)),d.length=r,l)for(;++d[--r]>i-1;)d[r]=0,r||(++o,d.unshift(1));for(c=d.length;!d[c-1];--c);for(s=0,u="";s<c;s++)u+=Pne.charAt(d[s]);if(h){if(c>1)if(e==16||e==8){for(s=e==16?4:3,--c;c%s;c++)u+="0";for(d=WN(u,i,e),c=d.length;!d[c-1];--c);for(s=1,u="1.";s<c;s++)u+=Pne.charAt(d[s])}else u=u.charAt(0)+"."+u.slice(1);u=u+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)u="0"+u;u="0."+u}else if(++o>c)for(o-=c;o--;)u+="0";else o<c&&(u=u.slice(0,o)+"."+u.slice(o))}u=(e==16?"0x":e==2?"0b":e==8?"0o":"")+u}return t.s<0?"-"+u:u}function $Fe(t,e){if(t.length>e)return t.length=e,!0}function U7t(t){return new this(t).abs()}function F7t(t){return new this(t).acos()}function z7t(t){return new this(t).acosh()}function V7t(t,e){return new this(t).plus(e)}function j7t(t){return new this(t).asin()}function q7t(t){return new this(t).asinh()}function H7t(t){return new this(t).atan()}function W7t(t){return new this(t).atanh()}function G7t(t,e){t=new this(t),e=new this(e);var r,n=this.precision,i=this.rounding,o=n+4;return!t.s||!e.s?r=new this(NaN):!t.d&&!e.d?(r=ud(this,o,1).times(e.s>0?.25:.75),r.s=t.s):!e.d||t.isZero()?(r=e.s<0?ud(this,n,i):new this(0),r.s=t.s):!t.d||e.isZero()?(r=ud(this,o,1).times(.5),r.s=t.s):e.s<0?(this.precision=o,this.rounding=1,r=this.atan(rn(t,e,o,1)),e=ud(this,o,1),this.precision=n,this.rounding=i,r=t.s<0?r.minus(e):r.plus(e)):r=this.atan(rn(t,e,o,1)),r}function K7t(t){return new this(t).cbrt()}function Y7t(t){return xt(t=new this(t),t.e+1,2)}function J7t(t,e,r){return new this(t).clamp(e,r)}function Q7t(t){if(!t||typeof t!="object")throw Error(QN+"Object expected");var e,r,n,i=t.defaults===!0,o=["precision",1,vh,"rounding",0,8,"toExpNeg",-P2,0,"toExpPos",0,P2,"maxE",0,P2,"minE",-P2,0,"modulo",0,9];for(e=0;e<o.length;e+=3)if(r=o[e],i&&(this[r]=kne[r]),(n=t[r])!==void 0)if(Go(n)===n&&n>=o[e+1]&&n<=o[e+2])this[r]=n;else throw Error(bh+r+": "+n);if(r="crypto",i&&(this[r]=kne[r]),(n=t[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(FFe);else this[r]=!1;else throw Error(bh+r+": "+n);return this}function Z7t(t){return new this(t).cos()}function X7t(t){return new this(t).cosh()}function KFe(t){var e,r,n;function i(o){var s,a,c,l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,LFe(o)){l.s=o.s,Vt?!o.d||o.e>i.maxE?(l.e=NaN,l.d=null):o.e<i.minE?(l.e=0,l.d=[0]):(l.e=o.e,l.d=o.d.slice()):(l.e=o.e,l.d=o.d?o.d.slice():o.d);return}if(c=typeof o,c==="number"){if(o===0){l.s=1/o<0?-1:1,l.e=0,l.d=[0];return}if(o<0?(o=-o,l.s=-1):l.s=1,o===~~o&&o<1e7){for(s=0,a=o;a>=10;a/=10)s++;Vt?s>i.maxE?(l.e=NaN,l.d=null):s<i.minE?(l.e=0,l.d=[0]):(l.e=s,l.d=[o]):(l.e=s,l.d=[o]);return}if(o*0!==0){o||(l.s=NaN),l.e=NaN,l.d=null;return}return GN(l,o.toString())}if(c==="string")return(a=o.charCodeAt(0))===45?(o=o.slice(1),l.s=-1):(a===43&&(o=o.slice(1)),l.s=1),VFe.test(o)?GN(l,o):L7t(l,o);if(c==="bigint")return o<0?(o=-o,l.s=-1):l.s=1,GN(l,o.toString());throw Error(bh+o)}if(i.prototype=we,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=Q7t,i.clone=KFe,i.isDecimal=LFe,i.abs=U7t,i.acos=F7t,i.acosh=z7t,i.add=V7t,i.asin=j7t,i.asinh=q7t,i.atan=H7t,i.atanh=W7t,i.atan2=G7t,i.cbrt=K7t,i.ceil=Y7t,i.clamp=J7t,i.cos=Z7t,i.cosh=X7t,i.div=eOt,i.exp=tOt,i.floor=rOt,i.hypot=nOt,i.ln=iOt,i.log=oOt,i.log10=aOt,i.log2=sOt,i.max=cOt,i.min=lOt,i.mod=uOt,i.mul=dOt,i.pow=pOt,i.random=mOt,i.round=fOt,i.sign=hOt,i.sin=gOt,i.sinh=yOt,i.sqrt=bOt,i.sub=vOt,i.sum=_Ot,i.tan=SOt,i.tanh=wOt,i.trunc=xOt,t===void 0&&(t={}),t&&t.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function eOt(t,e){return new this(t).div(e)}function tOt(t){return new this(t).exp()}function rOt(t){return xt(t=new this(t),t.e+1,3)}function nOt(){var t,e,r=new this(0);for(Vt=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)r.d&&(r=r.plus(e.times(e)));else{if(e.s)return Vt=!0,new this(1/0);r=e}return Vt=!0,r.sqrt()}function LFe(t){return t instanceof Ko||t&&t.toStringTag===zFe||!1}function iOt(t){return new this(t).ln()}function oOt(t,e){return new this(t).log(e)}function sOt(t){return new this(t).log(2)}function aOt(t){return new this(t).log(10)}function cOt(){return HFe(this,arguments,-1)}function lOt(){return HFe(this,arguments,1)}function uOt(t,e){return new this(t).mod(e)}function dOt(t,e){return new this(t).mul(e)}function pOt(t,e){return new this(t).pow(e)}function mOt(t){var e,r,n,i,o=0,s=new this(1),a=[];if(t===void 0?t=this.precision:ca(t,1,vh),n=Math.ceil(t/Ct),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));o<n;)i=e[o],i>=429e7?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:a[o++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);o<n;)i=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((e[o+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,o):(a.push(i%1e7),o+=4);o=n/4}else throw Error(FFe);else for(;o<n;)a[o++]=Math.random()*1e7|0;for(n=a[--o],t%=Ct,n&&t&&(i=ji(10,Ct-t),a[o]=(n/i|0)*i);a[o]===0;o--)a.pop();if(o<0)r=0,a=[0];else{for(r=-1;a[0]===0;r-=Ct)a.shift();for(n=1,i=a[0];i>=10;i/=10)n++;n<Ct&&(r-=Ct-n)}return s.e=r,s.d=a,s}function fOt(t){return xt(t=new this(t),t.e+1,this.rounding)}function hOt(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function gOt(t){return new this(t).sin()}function yOt(t){return new this(t).sinh()}function bOt(t){return new this(t).sqrt()}function vOt(t,e){return new this(t).sub(e)}function _Ot(){var t=0,e=arguments,r=new this(e[t]);for(Vt=!1;r.s&&++t<e.length;)r=r.plus(e[t]);return Vt=!0,xt(r,this.precision,this.rounding)}function SOt(t){return new this(t).tan()}function wOt(t){return new this(t).tanh()}function xOt(t){return xt(t=new this(t),t.e+1,1)}we[Symbol.for("nodejs.util.inspect.custom")]=we.toString;we[Symbol.toStringTag]="Decimal";var Ko=we.constructor=KFe(kne);KN=new Ko(KN);YN=new Ko(YN);fd();qse();Kse();var bkt="X-Stamp",lD;(function(t){t.Der="der",t.Raw="raw"})(lD||(lD={}));var vkt=typeof window<"u"&&typeof window.document<"u"&&typeof crypto<"u"&&typeof crypto.subtle<"u",_kt=typeof process<"u"&&process.versions!=null&&process.versions.node!=null,Skt=()=>vkt?"browser":_kt?"node":"purejs",sR=async(t,e)=>{let r=e??Skt();switch(r){case"browser":return(await Promise.resolve().then(()=>(IWe(),TWe))).signWithApiKey(t);case"node":return(await Promise.resolve().then(()=>(OWe(),CWe))).signWithApiKey(t);case"purejs":return(await Promise.resolve().then(()=>(mGe(),pGe))).signWithApiKey(t);default:throw new Error(`Unsupported runtime: ${r}`)}},aR=class{constructor(e){this.apiPublicKey=e.apiPublicKey,this.apiPrivateKey=e.apiPrivateKey,this.runtimeOverride=e.runtimeOverride}async stamp(e){let r=await sR({publicKey:this.apiPublicKey,privateKey:this.apiPrivateKey,content:e},this.runtimeOverride),n={publicKey:this.apiPublicKey,scheme:"SIGNATURE_SCHEME_TK_API_P256",signature:r};return{stampHeaderName:bkt,stampHeaderValue:D2(JSON.stringify(n))}}async sign(e,r){switch(r){case lD.Raw:{let n=await sR({publicKey:this.apiPublicKey,privateKey:this.apiPrivateKey,content:e},this.runtimeOverride),i=pP(n);return pd(i)}case lD.Der:return sR({publicKey:this.apiPublicKey,privateKey:this.apiPrivateKey,content:e},this.runtimeOverride);default:throw new Error(`Unsupported signature format: ${r}`)}}};var gDt=Ni(Pae(),1);fd();var hu="copy",Nm="convert";function gD(t,e){return{required:!0,schema:t,derive:e}}function Rs(t){return{required:!0,schema:t}}function BS(t){return{required:!1,schema:t}}var QGe={appid:BS(hu),appidExclude:BS(hu),credProps:BS(hu)},yDt={type:Rs(hu),id:Rs(hu),rawId:Rs(Nm),authenticatorAttachment:BS(hu),response:Rs({clientDataJSON:Rs(Nm),attestationObject:Rs(Nm),transports:gD(hu,t=>t.getTransports?.()||[])}),clientExtensionResults:gD(QGe,t=>t.getClientExtensionResults())},bDt={type:Rs(hu),id:Rs(hu),rawId:Rs(Nm),authenticatorAttachment:BS(hu),response:Rs({clientDataJSON:Rs(Nm),authenticatorData:Rs(Nm),signature:Rs(Nm),userHandle:Rs(Nm)}),clientExtensionResults:gD(QGe,t=>t.getClientExtensionResults())};var m6n=300*1e3;function gR(t){return t?.name==="TurnkeyClient"}var US=class extends Error{constructor(e){let{message:r,cause:n,activityId:i,activityStatus:o,activityType:s}=e;super(r),this.name="TurnkeyActivityError",this.activityId=i??void 0,this.activityStatus=o??void 0,this.activityType=s??void 0,this.cause=n??void 0}},yD=class extends Error{constructor(e){let{message:r,cause:n,activityId:i,activityStatus:o,activityType:s}=e;super(r),this.name="TurnkeyActivityConsensusNeededError",this.activityId=i??void 0,this.activityStatus=o??void 0,this.activityType=s??void 0,this.cause=n??void 0}};function ug(t){let{id:e,status:r}=t;if(r==="ACTIVITY_STATUS_CONSENSUS_NEEDED")throw new yD({message:"Activity requires consensus",activityId:e,activityStatus:r});if(r!=="ACTIVITY_STATUS_COMPLETED")throw new US({message:`Expected COMPLETED status, got ${r}`,activityId:e,activityStatus:r});return!0}function dg(t){if(t==null)throw new Error(`Got unexpected ${JSON.stringify(t)}`);return t}var bD=["ACTIVITY_STATUS_COMPLETED","ACTIVITY_STATUS_FAILED","ACTIVITY_STATUS_REJECTED"];var eKe;(function(t){t[t.Get=0]="Get",t[t.List=1]="List",t[t.Command=2]="Command"})(eKe||(eKe={}));var vD=class extends Error{constructor(e){let r=`Turnkey error ${e.code}: ${e.message}`;e.details!=null&&(r+=` (Details: ${JSON.stringify(e.details)})`),super(r),this.name="TurnkeyRequestError",this.details=e.details??null,this.code=e.code}},kae;(function(t){t.Email="EMAIL",t.PhoneNumber="PHONE_NUMBER",t.OidcToken="OIDC_TOKEN",t.PublicKey="PUBLIC_KEY"})(kae||(kae={}));var tKe="@turnkey/sdk-server@5.0.2";var _D=class{constructor(e){this.getActivity=async r=>this.request("/public/v1/query/get_activity",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetActivity=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_activity",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getApiKey=async r=>this.request("/public/v1/query/get_api_key",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetApiKey=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_api_key",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getApiKeys=async(r={})=>this.request("/public/v1/query/get_api_keys",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetApiKeys=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_api_keys",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getAttestationDocument=async r=>this.request("/public/v1/query/get_attestation",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetAttestationDocument=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_attestation",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getAuthenticator=async r=>this.request("/public/v1/query/get_authenticator",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetAuthenticator=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_authenticator",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getAuthenticators=async r=>this.request("/public/v1/query/get_authenticators",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetAuthenticators=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_authenticators",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getBootProof=async r=>this.request("/public/v1/query/get_boot_proof",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetBootProof=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_boot_proof",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getGasUsage=async r=>this.request("/public/v1/query/get_gas_usage",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetGasUsage=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_gas_usage",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getLatestBootProof=async r=>this.request("/public/v1/query/get_latest_boot_proof",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetLatestBootProof=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_latest_boot_proof",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getNonces=async r=>this.request("/public/v1/query/get_nonces",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetNonces=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_nonces",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getOauth2Credential=async r=>this.request("/public/v1/query/get_oauth2_credential",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetOauth2Credential=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_oauth2_credential",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getOauthProviders=async r=>this.request("/public/v1/query/get_oauth_providers",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetOauthProviders=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_oauth_providers",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getOnRampTransactionStatus=async r=>this.request("/public/v1/query/get_onramp_transaction_status",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetOnRampTransactionStatus=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_onramp_transaction_status",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getOrganization=async(r={})=>this.request("/public/v1/query/get_organization",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetOrganization=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_organization",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getOrganizationConfigs=async r=>this.request("/public/v1/query/get_organization_configs",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetOrganizationConfigs=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_organization_configs",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getPolicy=async r=>this.request("/public/v1/query/get_policy",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetPolicy=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_policy",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getPolicyEvaluations=async r=>this.request("/public/v1/query/get_policy_evaluations",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetPolicyEvaluations=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_policy_evaluations",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getPrivateKey=async r=>this.request("/public/v1/query/get_private_key",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetPrivateKey=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_private_key",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getSendTransactionStatus=async r=>this.request("/public/v1/query/get_send_transaction_status",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetSendTransactionStatus=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_send_transaction_status",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getSmartContractInterface=async r=>this.request("/public/v1/query/get_smart_contract_interface",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetSmartContractInterface=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_smart_contract_interface",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getUser=async r=>this.request("/public/v1/query/get_user",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetUser=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_user",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getWallet=async r=>this.request("/public/v1/query/get_wallet",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetWallet=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_wallet",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getWalletAccount=async r=>this.request("/public/v1/query/get_wallet_account",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetWalletAccount=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/get_wallet_account",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getActivities=async(r={})=>this.request("/public/v1/query/list_activities",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetActivities=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_activities",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getAppProofs=async r=>this.request("/public/v1/query/list_app_proofs",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetAppProofs=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_app_proofs",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.listFiatOnRampCredentials=async r=>this.request("/public/v1/query/list_fiat_on_ramp_credentials",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampListFiatOnRampCredentials=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_fiat_on_ramp_credentials",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.listOauth2Credentials=async r=>this.request("/public/v1/query/list_oauth2_credentials",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampListOauth2Credentials=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_oauth2_credentials",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getPolicies=async(r={})=>this.request("/public/v1/query/list_policies",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetPolicies=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_policies",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.listPrivateKeyTags=async r=>this.request("/public/v1/query/list_private_key_tags",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampListPrivateKeyTags=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_private_key_tags",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getPrivateKeys=async(r={})=>this.request("/public/v1/query/list_private_keys",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetPrivateKeys=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_private_keys",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getSmartContractInterfaces=async r=>this.request("/public/v1/query/list_smart_contract_interfaces",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetSmartContractInterfaces=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_smart_contract_interfaces",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getSubOrgIds=async(r={})=>this.request("/public/v1/query/list_suborgs",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetSubOrgIds=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_suborgs",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.listUserTags=async(r={})=>this.request("/public/v1/query/list_user_tags",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampListUserTags=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_user_tags",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getUsers=async(r={})=>this.request("/public/v1/query/list_users",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetUsers=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_users",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getVerifiedSubOrgIds=async r=>this.request("/public/v1/query/list_verified_suborgs",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetVerifiedSubOrgIds=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_verified_suborgs",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getWalletAccounts=async r=>this.request("/public/v1/query/list_wallet_accounts",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetWalletAccounts=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_wallet_accounts",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getWallets=async(r={})=>this.request("/public/v1/query/list_wallets",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetWallets=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/list_wallets",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.getWhoami=async(r={})=>this.request("/public/v1/query/whoami",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampGetWhoami=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/public/v1/query/whoami",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.approveActivity=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.activityDecision("/public/v1/submit/approve_activity",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_APPROVE_ACTIVITY"})},this.stampApproveActivity=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/approve_activity",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_APPROVE_ACTIVITY"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createApiKeys=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_api_keys",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_API_KEYS_V2"},"createApiKeysResult")},this.stampCreateApiKeys=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_api_keys",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_API_KEYS_V2"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createApiOnlyUsers=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_api_only_users",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_API_ONLY_USERS"},"createApiOnlyUsersResult")},this.stampCreateApiOnlyUsers=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_api_only_users",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_API_ONLY_USERS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createAuthenticators=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_authenticators",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_AUTHENTICATORS_V2"},"createAuthenticatorsResult")},this.stampCreateAuthenticators=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_authenticators",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_AUTHENTICATORS_V2"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createFiatOnRampCredential=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_fiat_on_ramp_credential",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_FIAT_ON_RAMP_CREDENTIAL"},"createFiatOnRampCredentialResult")},this.stampCreateFiatOnRampCredential=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_fiat_on_ramp_credential",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_FIAT_ON_RAMP_CREDENTIAL"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createInvitations=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_invitations",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_INVITATIONS"},"createInvitationsResult")},this.stampCreateInvitations=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_invitations",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_INVITATIONS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createOauth2Credential=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_oauth2_credential",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_OAUTH2_CREDENTIAL"},"createOauth2CredentialResult")},this.stampCreateOauth2Credential=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_oauth2_credential",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_OAUTH2_CREDENTIAL"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createOauthProviders=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_oauth_providers",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_OAUTH_PROVIDERS"},"createOauthProvidersResult")},this.stampCreateOauthProviders=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_oauth_providers",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_OAUTH_PROVIDERS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createPolicies=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_policies",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_POLICIES"},"createPoliciesResult")},this.stampCreatePolicies=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_policies",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_POLICIES"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createPolicy=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_policy",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_POLICY_V3"},"createPolicyResult")},this.stampCreatePolicy=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_policy",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_POLICY_V3"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createPrivateKeyTag=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_private_key_tag",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_PRIVATE_KEY_TAG"},"createPrivateKeyTagResult")},this.stampCreatePrivateKeyTag=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_private_key_tag",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_PRIVATE_KEY_TAG"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createPrivateKeys=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_private_keys",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_PRIVATE_KEYS_V2"},"createPrivateKeysResultV2")},this.stampCreatePrivateKeys=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_private_keys",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_PRIVATE_KEYS_V2"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createReadOnlySession=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_read_only_session",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_READ_ONLY_SESSION"},"createReadOnlySessionResult")},this.stampCreateReadOnlySession=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_read_only_session",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_READ_ONLY_SESSION"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createReadWriteSession=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_read_write_session",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_READ_WRITE_SESSION_V2"},"createReadWriteSessionResultV2")},this.stampCreateReadWriteSession=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_read_write_session",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_READ_WRITE_SESSION_V2"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createSmartContractInterface=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_smart_contract_interface",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_SMART_CONTRACT_INTERFACE"},"createSmartContractInterfaceResult")},this.stampCreateSmartContractInterface=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_smart_contract_interface",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_SMART_CONTRACT_INTERFACE"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createSubOrganization=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_sub_organization",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_SUB_ORGANIZATION_V7"},"createSubOrganizationResultV7")},this.stampCreateSubOrganization=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_sub_organization",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_SUB_ORGANIZATION_V7"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createUserTag=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_user_tag",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_USER_TAG"},"createUserTagResult")},this.stampCreateUserTag=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_user_tag",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_USER_TAG"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createUsers=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_users",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_USERS_V3"},"createUsersResult")},this.stampCreateUsers=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_users",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_USERS_V3"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createWallet=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_wallet",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_WALLET"},"createWalletResult")},this.stampCreateWallet=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_wallet",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_WALLET"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.createWalletAccounts=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/create_wallet_accounts",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_WALLET_ACCOUNTS"},"createWalletAccountsResult")},this.stampCreateWalletAccounts=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/create_wallet_accounts",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_WALLET_ACCOUNTS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteApiKeys=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_api_keys",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_API_KEYS"},"deleteApiKeysResult")},this.stampDeleteApiKeys=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_api_keys",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_API_KEYS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteAuthenticators=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_authenticators",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_AUTHENTICATORS"},"deleteAuthenticatorsResult")},this.stampDeleteAuthenticators=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_authenticators",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_AUTHENTICATORS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteFiatOnRampCredential=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_fiat_on_ramp_credential",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_FIAT_ON_RAMP_CREDENTIAL"},"deleteFiatOnRampCredentialResult")},this.stampDeleteFiatOnRampCredential=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_fiat_on_ramp_credential",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_FIAT_ON_RAMP_CREDENTIAL"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteInvitation=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_invitation",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_INVITATION"},"deleteInvitationResult")},this.stampDeleteInvitation=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_invitation",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_INVITATION"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteOauth2Credential=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_oauth2_credential",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_OAUTH2_CREDENTIAL"},"deleteOauth2CredentialResult")},this.stampDeleteOauth2Credential=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_oauth2_credential",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_OAUTH2_CREDENTIAL"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteOauthProviders=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_oauth_providers",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_OAUTH_PROVIDERS"},"deleteOauthProvidersResult")},this.stampDeleteOauthProviders=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_oauth_providers",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_OAUTH_PROVIDERS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deletePolicies=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_policies",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_POLICIES"},"deletePoliciesResult")},this.stampDeletePolicies=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_policies",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_POLICIES"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deletePolicy=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_policy",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_POLICY"},"deletePolicyResult")},this.stampDeletePolicy=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_policy",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_POLICY"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deletePrivateKeyTags=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_private_key_tags",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_PRIVATE_KEY_TAGS"},"deletePrivateKeyTagsResult")},this.stampDeletePrivateKeyTags=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_private_key_tags",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_PRIVATE_KEY_TAGS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deletePrivateKeys=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_private_keys",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_PRIVATE_KEYS"},"deletePrivateKeysResult")},this.stampDeletePrivateKeys=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_private_keys",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_PRIVATE_KEYS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteSmartContractInterface=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_smart_contract_interface",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_SMART_CONTRACT_INTERFACE"},"deleteSmartContractInterfaceResult")},this.stampDeleteSmartContractInterface=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_smart_contract_interface",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_SMART_CONTRACT_INTERFACE"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteSubOrganization=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_sub_organization",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_SUB_ORGANIZATION"},"deleteSubOrganizationResult")},this.stampDeleteSubOrganization=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_sub_organization",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_SUB_ORGANIZATION"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteUserTags=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_user_tags",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_USER_TAGS"},"deleteUserTagsResult")},this.stampDeleteUserTags=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_user_tags",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_USER_TAGS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteUsers=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_users",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_USERS"},"deleteUsersResult")},this.stampDeleteUsers=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_users",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_USERS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteWalletAccounts=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_wallet_accounts",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_WALLET_ACCOUNTS"},"deleteWalletAccountsResult")},this.stampDeleteWalletAccounts=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_wallet_accounts",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_WALLET_ACCOUNTS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.deleteWallets=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/delete_wallets",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_WALLETS"},"deleteWalletsResult")},this.stampDeleteWallets=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/delete_wallets",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_WALLETS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.emailAuth=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/email_auth",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_EMAIL_AUTH_V3"},"emailAuthResult")},this.stampEmailAuth=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/email_auth",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_EMAIL_AUTH_V3"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.ethSendRawTransaction=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/eth_send_raw_transaction",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_ETH_SEND_RAW_TRANSACTION"},"ethSendRawTransactionResult")},this.stampEthSendRawTransaction=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/eth_send_raw_transaction",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_ETH_SEND_RAW_TRANSACTION"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.ethSendTransaction=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/eth_send_transaction",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_ETH_SEND_TRANSACTION"},"ethSendTransactionResult")},this.stampEthSendTransaction=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/eth_send_transaction",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_ETH_SEND_TRANSACTION"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.exportPrivateKey=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/export_private_key",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_PRIVATE_KEY"},"exportPrivateKeyResult")},this.stampExportPrivateKey=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/export_private_key",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_PRIVATE_KEY"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.exportWallet=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/export_wallet",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET"},"exportWalletResult")},this.stampExportWallet=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/export_wallet",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.exportWalletAccount=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/export_wallet_account",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET_ACCOUNT"},"exportWalletAccountResult")},this.stampExportWalletAccount=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/export_wallet_account",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET_ACCOUNT"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.importPrivateKey=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/import_private_key",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_IMPORT_PRIVATE_KEY"},"importPrivateKeyResult")},this.stampImportPrivateKey=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/import_private_key",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_IMPORT_PRIVATE_KEY"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.importWallet=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/import_wallet",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_IMPORT_WALLET"},"importWalletResult")},this.stampImportWallet=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/import_wallet",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_IMPORT_WALLET"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.initFiatOnRamp=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/init_fiat_on_ramp",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_FIAT_ON_RAMP"},"initFiatOnRampResult")},this.stampInitFiatOnRamp=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/init_fiat_on_ramp",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_FIAT_ON_RAMP"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.initImportPrivateKey=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/init_import_private_key",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_IMPORT_PRIVATE_KEY"},"initImportPrivateKeyResult")},this.stampInitImportPrivateKey=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/init_import_private_key",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_IMPORT_PRIVATE_KEY"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.initImportWallet=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/init_import_wallet",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_IMPORT_WALLET"},"initImportWalletResult")},this.stampInitImportWallet=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/init_import_wallet",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_IMPORT_WALLET"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.initOtp=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/init_otp",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_OTP_V2"},"initOtpResult")},this.stampInitOtp=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/init_otp",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_OTP_V2"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.initOtpAuth=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/init_otp_auth",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_OTP_AUTH_V3"},"initOtpAuthResultV2")},this.stampInitOtpAuth=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/init_otp_auth",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_OTP_AUTH_V3"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.initUserEmailRecovery=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/init_user_email_recovery",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_USER_EMAIL_RECOVERY_V2"},"initUserEmailRecoveryResult")},this.stampInitUserEmailRecovery=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/init_user_email_recovery",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_INIT_USER_EMAIL_RECOVERY_V2"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.oauth=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/oauth",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH"},"oauthResult")},this.stampOauth=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/oauth",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.oauth2Authenticate=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/oauth2_authenticate",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH2_AUTHENTICATE"},"oauth2AuthenticateResult")},this.stampOauth2Authenticate=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/oauth2_authenticate",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH2_AUTHENTICATE"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.oauthLogin=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/oauth_login",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH_LOGIN"},"oauthLoginResult")},this.stampOauthLogin=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/oauth_login",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH_LOGIN"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.otpAuth=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/otp_auth",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_OTP_AUTH"},"otpAuthResult")},this.stampOtpAuth=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/otp_auth",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_OTP_AUTH"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.otpLogin=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/otp_login",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_OTP_LOGIN"},"otpLoginResult")},this.stampOtpLogin=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/otp_login",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_OTP_LOGIN"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.recoverUser=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/recover_user",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_RECOVER_USER"},"recoverUserResult")},this.stampRecoverUser=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/recover_user",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_RECOVER_USER"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.rejectActivity=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.activityDecision("/public/v1/submit/reject_activity",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_REJECT_ACTIVITY"})},this.stampRejectActivity=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/reject_activity",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_REJECT_ACTIVITY"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.removeOrganizationFeature=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/remove_organization_feature",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_REMOVE_ORGANIZATION_FEATURE"},"removeOrganizationFeatureResult")},this.stampRemoveOrganizationFeature=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/remove_organization_feature",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_REMOVE_ORGANIZATION_FEATURE"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.setOrganizationFeature=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/set_organization_feature",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_SET_ORGANIZATION_FEATURE"},"setOrganizationFeatureResult")},this.stampSetOrganizationFeature=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/set_organization_feature",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_SET_ORGANIZATION_FEATURE"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.signRawPayload=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/sign_raw_payload",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOAD_V2"},"signRawPayloadResult")},this.stampSignRawPayload=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/sign_raw_payload",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOAD_V2"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.signRawPayloads=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/sign_raw_payloads",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOADS"},"signRawPayloadsResult")},this.stampSignRawPayloads=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/sign_raw_payloads",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOADS"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.signTransaction=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/sign_transaction",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_TRANSACTION_V2"},"signTransactionResult")},this.stampSignTransaction=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/sign_transaction",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_TRANSACTION_V2"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.stampLogin=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/stamp_login",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_STAMP_LOGIN"},"stampLoginResult")},this.stampStampLogin=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/stamp_login",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_STAMP_LOGIN"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updateFiatOnRampCredential=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/update_fiat_on_ramp_credential",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_FIAT_ON_RAMP_CREDENTIAL"},"updateFiatOnRampCredentialResult")},this.stampUpdateFiatOnRampCredential=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/update_fiat_on_ramp_credential",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_FIAT_ON_RAMP_CREDENTIAL"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updateOauth2Credential=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/update_oauth2_credential",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_OAUTH2_CREDENTIAL"},"updateOauth2CredentialResult")},this.stampUpdateOauth2Credential=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/update_oauth2_credential",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_OAUTH2_CREDENTIAL"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updatePolicy=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/update_policy",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_POLICY_V2"},"updatePolicyResultV2")},this.stampUpdatePolicy=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/update_policy",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_POLICY_V2"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updatePrivateKeyTag=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/update_private_key_tag",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_PRIVATE_KEY_TAG"},"updatePrivateKeyTagResult")},this.stampUpdatePrivateKeyTag=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/update_private_key_tag",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_PRIVATE_KEY_TAG"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updateRootQuorum=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/update_root_quorum",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_ROOT_QUORUM"},"updateRootQuorumResult")},this.stampUpdateRootQuorum=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/update_root_quorum",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_ROOT_QUORUM"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updateUser=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/update_user",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER"},"updateUserResult")},this.stampUpdateUser=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/update_user",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updateUserEmail=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/update_user_email",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_EMAIL"},"updateUserEmailResult")},this.stampUpdateUserEmail=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/update_user_email",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_EMAIL"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updateUserName=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/update_user_name",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_NAME"},"updateUserNameResult")},this.stampUpdateUserName=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/update_user_name",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_NAME"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updateUserPhoneNumber=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/update_user_phone_number",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_PHONE_NUMBER"},"updateUserPhoneNumberResult")},this.stampUpdateUserPhoneNumber=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/update_user_phone_number",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_PHONE_NUMBER"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updateUserTag=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/update_user_tag",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_TAG"},"updateUserTagResult")},this.stampUpdateUserTag=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/update_user_tag",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_TAG"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.updateWallet=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/update_wallet",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_WALLET"},"updateWalletResult")},this.stampUpdateWallet=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/update_wallet",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_WALLET"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.verifyOtp=async r=>{let{organizationId:n,timestampMs:i,...o}=r;return this.command("/public/v1/submit/verify_otp",{parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_VERIFY_OTP"},"verifyOtpResult")},this.stampVerifyOtp=async r=>{if(!this.stamper)return;let{organizationId:n,timestampMs:i,...o}=r,s=this.config.apiBaseUrl+"/public/v1/submit/verify_otp",a={parameters:o,organizationId:n??this.config.organizationId,timestampMs:i??String(Date.now()),type:"ACTIVITY_TYPE_VERIFY_OTP"},c=JSON.stringify(a),l=await this.stamper.stamp(c);return{body:c,stamp:l,url:s}},this.testRateLimits=async r=>this.request("/tkhq/api/v1/test_rate_limits",{...r,organizationId:r.organizationId??this.config.organizationId}),this.stampTestRateLimits=async r=>{if(!this.stamper)return;let n=this.config.apiBaseUrl+"/tkhq/api/v1/test_rate_limits",i={...r,organizationId:r.organizationId??this.config.organizationId},o=JSON.stringify(i),s=await this.stamper.stamp(o);return{body:o,stamp:s,url:n}},this.config=e,this.stamper=e.stamper}async request(e,r){let n=this.config.apiBaseUrl+e,i=JSON.stringify(r),o=await this.stamper.stamp(i),s=await fetch(n,{method:"POST",headers:{[o.stampHeaderName]:o.stampHeaderValue,"X-Client-Version":tKe},body:i,redirect:"follow"});if(!s.ok){let c;try{c=await s.json()}catch{throw new Error(`${s.status} ${s.statusText}`)}throw new vD(c)}return await s.json()}async command(e,r,n){let i=this.config.activityPoller?.intervalMs??1e3,o=this.config.activityPoller?.numRetries??3,s=d=>new Promise(p=>setTimeout(p,d)),a=d=>{let{result:p,status:m}=d.activity;return m==="ACTIVITY_STATUS_COMPLETED"?{...p[`${n}`],...d}:d},c=0,l=async(d,p)=>{let m={activityId:d,organizationId:p},h=await this.getActivity(m);return c>o?a(h):(c+=1,bD.includes(h.activity.status)?a(h):(await s(i),l(d,p)))},u=await this.request(e,r);return bD.includes(u.activity.status)?a(u):l(u.activity.id,u.activity.organizationId)}async activityDecision(e,r){let n=await this.request(e,r);return{...n.activity.result,...n}}};var rKe=["oauth","createReadWriteSession","createSubOrganization","emailAuth","initUserEmailRecovery"],Uy=class{constructor(e){this.apiClient=r=>(this.stamper=new aR({apiPublicKey:r?.apiPublicKey??this.config.apiPublicKey,apiPrivateKey:r?.apiPrivateKey??this.config.apiPrivateKey,runtimeOverride:this.config.runtimeOverride}),new wD({stamper:this.stamper,apiBaseUrl:this.config.apiBaseUrl,organizationId:this.config.defaultOrganizationId,activityPoller:this.config.activityPoller})),this.apiProxy=async(r,n)=>{let o=this.apiClient()[r];if(typeof o=="function")return await o(...n);throw new Error(`Method: ${r} does not exist on TurnkeySDKClient`)},this.expressProxyHandler=r=>{let n=r.allowedMethods??rKe;return async(i,o)=>{let{methodName:s,params:a}=i.body;(!s||!a)&&o.status(400).send("methodName and params are required.");try{if(n.includes(s)){let c=await this.apiProxy(s,a);o.json(c)}else o.status(401).send("Unauthorized proxy method");return}catch(c){c instanceof Error?o.status(500).send(c.message):o.status(500).send("An unexpected error occurred");return}}},this.nextProxyHandler=r=>{let n=r.allowedMethods??rKe;return async(i,o)=>{let{methodName:s,params:a}=i.body;(!s||!a)&&o.status(400).send("methodName and params are required.");try{if(n.includes(s)){let c=await this.apiProxy(s,a);o.json(c)}else o.status(401).send("Unauthorized proxy method");return}catch(c){c instanceof Error?o.status(500).send(c.message):o.status(500).send("An unexpected error occurred");return}}},this.config=e}},SD=class extends _D{constructor(e){super(e)}},wD=class extends SD{constructor(e){super(e)}};var ADt=Ni(Pae(),1);var nKe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/60'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_ETHEREUM"}),iKe=[nKe(0)],oKe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/118'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_COSMOS"}),EDt=[oKe(0)],sKe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/195'/${t}'`,addressFormat:"ADDRESS_FORMAT_TRON"}),RDt=[sKe(0)],aKe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/0'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_MAINNET_P2PKH"}),TDt=[aKe(0)],cKe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/84'/0'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_MAINNET_P2WPKH"}),IDt=[cKe(0)],lKe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/48'/0'/${t}'/2'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_MAINNET_P2WSH"}),CDt=[lKe(0)],uKe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/86'/0'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_MAINNET_P2TR"}),ODt=[uKe(0)],dKe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/0'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_MAINNET_P2SH"}),NDt=[dKe(0)],pKe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_TESTNET_P2PKH"}),PDt=[pKe(0)],mKe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/84'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_TESTNET_P2WPKH"}),kDt=[mKe(0)],fKe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/48'/1'/${t}'/2'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_TESTNET_P2WSH"}),DDt=[fKe(0)],hKe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/86'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_TESTNET_P2TR"}),MDt=[hKe(0)],gKe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_TESTNET_P2SH"}),$Dt=[gKe(0)],yKe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_SIGNET_P2PKH"}),LDt=[yKe(0)],bKe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/84'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_SIGNET_P2WPKH"}),BDt=[bKe(0)],vKe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/48'/1'/${t}'/2'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_SIGNET_P2WSH"}),UDt=[vKe(0)],_Ke=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/86'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_SIGNET_P2TR"}),FDt=[_Ke(0)],SKe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_SIGNET_P2SH"}),zDt=[SKe(0)],wKe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_REGTEST_P2PKH"}),VDt=[wKe(0)],xKe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/84'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_REGTEST_P2WPKH"}),jDt=[xKe(0)],AKe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/48'/1'/${t}'/2'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_REGTEST_P2WSH"}),qDt=[AKe(0)],EKe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/86'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_REGTEST_P2TR"}),HDt=[EKe(0)],RKe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/1'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_BITCOIN_REGTEST_P2SH"}),WDt=[RKe(0)],TKe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/3'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_DOGE_MAINNET"}),GDt=[TKe(0)],IKe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/3'/${t}'/0/0`,addressFormat:"ADDRESS_FORMAT_DOGE_TESTNET"}),KDt=[IKe(0)],CKe=t=>({curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/118'/${t}'/0'/0'`,addressFormat:"ADDRESS_FORMAT_SEI"});var YDt=[CKe(0)],OKe=t=>({curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/501'/${t}'/0'`,addressFormat:"ADDRESS_FORMAT_SOLANA"}),Dae=[OKe(0)],NKe=t=>({curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/784'/${t}'/0'/0'`,addressFormat:"ADDRESS_FORMAT_SUI"}),JDt=[NKe(0)],PKe=t=>({curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/637'/${t}'/0'/0'`,addressFormat:"ADDRESS_FORMAT_APTOS"}),QDt=[PKe(0)],kKe=t=>({curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/148'/${t}'`,addressFormat:"ADDRESS_FORMAT_XLM"}),ZDt=[kKe(0)],DKe=t=>({curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/607'/${t}'/0'/0'`,addressFormat:"ADDRESS_FORMAT_TON_V3R2"}),XDt=[DKe(0)],MKe=t=>({curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/607'/${t}'/0'/0'`,addressFormat:"ADDRESS_FORMAT_TON_V4R2"}),eMt=[MKe(0)];var FS;(function(t){t.Ethereum="ethereum",t.Solana="solana"})(FS||(FS={}));fd();qse();var F4n=new Uy({apiBaseUrl:process.env.NEXT_PUBLIC_BASE_URL,defaultOrganizationId:process.env.NEXT_PUBLIC_ORGANIZATION_ID,apiPrivateKey:process.env.TURNKEY_API_PRIVATE_KEY,apiPublicKey:process.env.TURNKEY_API_PUBLIC_KEY});import{Buffer as qt}from"buffer";k3();nm();sD();RS();sD();ky();var pg=BigInt(0),ao=BigInt(1),Lae=BigInt(2),mMt=BigInt(8);function fMt(t,e,r,n){let i=t.sqr(r),o=t.sqr(n),s=t.add(t.mul(e.a,i),o),a=t.add(t.ONE,t.mul(e.d,t.mul(i,o)));return t.eql(s,a)}function hMt(t,e={}){let r=oD("edwards",t,e,e.FpFnLE),{Fp:n,Fn:i}=r,o=r.CURVE,{h:s}=o;ng(e,{},{uvRatio:"function"});let a=Lae<<BigInt(i.BYTES*8)-ao,c=y=>n.create(y),l=e.uvRatio||((y,v)=>{try{return{isValid:!0,value:n.sqrt(n.div(y,v))}}catch{return{isValid:!1,value:pg}}});if(!fMt(n,o,o.Gx,o.Gy))throw new Error("bad curve params: generator point");function u(y,v,_=!1){let x=_?ao:pg;return rR("coordinate "+y,v,x,a),v}function d(y){if(!(y instanceof h))throw new Error("ExtendedPoint expected")}let p=ES((y,v)=>{let{X:_,Y:x,Z:E}=y,I=y.is0();v==null&&(v=I?mMt:n.inv(E));let N=c(_*v),L=c(x*v),B=n.mul(E,v);if(I)return{x:pg,y:ao};if(B!==ao)throw new Error("invZ was invalid");return{x:N,y:L}}),m=ES(y=>{let{a:v,d:_}=o;if(y.is0())throw new Error("bad point: ZERO");let{X:x,Y:E,Z:I,T:N}=y,L=c(x*x),B=c(E*E),P=c(I*I),V=c(P*P),j=c(L*v),ee=c(P*c(j+B)),O=c(V+c(_*c(L*B)));if(ee!==O)throw new Error("bad point: equation left != right (1)");let b=c(x*E),S=c(I*N);if(b!==S)throw new Error("bad point: equation left != right (2)");return!0});class h{constructor(v,_,x,E){this.X=u("x",v),this.Y=u("y",_),this.Z=u("z",x,!0),this.T=u("t",E),Object.freeze(this)}static CURVE(){return o}static fromAffine(v){if(v instanceof h)throw new Error("extended point not allowed");let{x:_,y:x}=v||{};return u("x",_),u("y",x),new h(_,x,ao,c(_*x))}static fromBytes(v,_=!1){let x=n.BYTES,{a:E,d:I}=o;v=eae(Ga(v,x,"point")),wm(_,"zip215");let N=eae(v),L=v[x-1];N[x-1]=L&-129;let B=xm(N),P=_?a:n.ORDER;rR("point.y",B,pg,P);let V=c(B*B),j=c(V-ao),ee=c(I*V-E),{isValid:O,value:b}=l(j,ee);if(!O)throw new Error("bad point: invalid y coordinate");let S=(b&ao)===ao,R=(L&128)!==0;if(!_&&b===pg&&R)throw new Error("bad point: x=0 and x_0=1");return R!==S&&(b=c(-b)),h.fromAffine({x:b,y:B})}static fromHex(v,_=!1){return h.fromBytes(Kr("point",v),_)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(v=8,_=!0){return f.createCache(this,v),_||this.multiply(Lae),this}assertValidity(){m(this)}equals(v){d(v);let{X:_,Y:x,Z:E}=this,{X:I,Y:N,Z:L}=v,B=c(_*L),P=c(I*E),V=c(x*L),j=c(N*E);return B===P&&V===j}is0(){return this.equals(h.ZERO)}negate(){return new h(c(-this.X),this.Y,this.Z,c(-this.T))}double(){let{a:v}=o,{X:_,Y:x,Z:E}=this,I=c(_*_),N=c(x*x),L=c(Lae*c(E*E)),B=c(v*I),P=_+x,V=c(c(P*P)-I-N),j=B+N,ee=j-L,O=B-N,b=c(V*ee),S=c(j*O),R=c(V*O),k=c(ee*j);return new h(b,S,k,R)}add(v){d(v);let{a:_,d:x}=o,{X:E,Y:I,Z:N,T:L}=this,{X:B,Y:P,Z:V,T:j}=v,ee=c(E*B),O=c(I*P),b=c(L*x*j),S=c(N*V),R=c((E+I)*(B+P)-ee-O),k=S-b,F=S+b,q=c(O-_*ee),K=c(R*k),z=c(F*q),A=c(R*q),W=c(k*F);return new h(K,z,W,A)}subtract(v){return this.add(v.negate())}multiply(v){if(!i.isValidNot0(v))throw new Error("invalid scalar: expected 1 <= sc < curve.n");let{p:_,f:x}=f.cached(this,v,E=>Em(h,E));return Em(h,[_,x])[0]}multiplyUnsafe(v,_=h.ZERO){if(!i.isValid(v))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return v===pg?h.ZERO:this.is0()||v===ao?this:f.unsafe(this,v,x=>Em(h,x),_)}isSmallOrder(){return this.multiplyUnsafe(s).is0()}isTorsionFree(){return f.unsafe(this,o.n).is0()}toAffine(v){return p(this,v)}clearCofactor(){return s===ao?this:this.multiplyUnsafe(s)}toBytes(){let{x:v,y:_}=this.toAffine(),x=n.toBytes(_);return x[x.length-1]|=v&ao?128:0,x}toHex(){return fl(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(v){return Em(h,v)}static msm(v,_){return CS(h,i,v,_)}_setWindowSize(v){this.precompute(v)}toRawBytes(){return this.toBytes()}}h.BASE=new h(o.Gx,o.Gy,ao,c(o.Gx*o.Gy)),h.ZERO=new h(pg,ao,ao,pg),h.Fp=n,h.Fn=i;let f=new IS(h,i.BITS);return h.BASE.precompute(8),h}var xD=class{constructor(e){this.ep=e}static fromBytes(e){tae()}static fromHex(e){tae()}get x(){return this.toAffine().x}get y(){return this.toAffine().y}clearCofactor(){return this}assertValidity(){this.ep.assertValidity()}toAffine(e){return this.ep.toAffine(e)}toHex(){return fl(this.toBytes())}toString(){return this.toHex()}isTorsionFree(){return!0}isSmallOrder(){return!1}add(e){return this.assertSame(e),this.init(this.ep.add(e.ep))}subtract(e){return this.assertSame(e),this.init(this.ep.subtract(e.ep))}multiply(e){return this.init(this.ep.multiply(e))}multiplyUnsafe(e){return this.init(this.ep.multiplyUnsafe(e))}double(){return this.init(this.ep.double())}negate(){return this.init(this.ep.negate())}precompute(e,r){return this.init(this.ep.precompute(e,r))}toRawBytes(){return this.toBytes()}};function gMt(t,e,r={}){if(typeof e!="function")throw new Error('"hash" function param is required');ng(r,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});let{prehash:n}=r,{BASE:i,Fp:o,Fn:s}=t,a=r.randomBytes||$2,c=r.adjustScalarBytes||(P=>P),l=r.domain||((P,V,j)=>{if(wm(j,"phflag"),V.length||j)throw new Error("Contexts/pre-hash are not supported");return P});function u(P){return s.create(xm(P))}function d(P){let V=x.secretKey;P=Kr("private key",P,V);let j=Kr("hashed private key",e(P),2*V),ee=c(j.slice(0,V)),O=j.slice(V,2*V),b=u(ee);return{head:ee,prefix:O,scalar:b}}function p(P){let{head:V,prefix:j,scalar:ee}=d(P),O=i.multiply(ee),b=O.toBytes();return{head:V,prefix:j,scalar:ee,point:O,pointBytes:b}}function m(P){return p(P).pointBytes}function h(P=Uint8Array.of(),...V){let j=Ss(...V);return u(e(l(j,Kr("context",P),!!n)))}function f(P,V,j={}){P=Kr("message",P),n&&(P=n(P));let{prefix:ee,scalar:O,pointBytes:b}=p(V),S=h(j.context,ee,P),R=i.multiply(S).toBytes(),k=h(j.context,R,b,P),F=s.create(S+k*O);if(!s.isValid(F))throw new Error("sign failed: invalid s");let q=Ss(R,s.toBytes(F));return Ga(q,x.signature,"result")}let y={zip215:!0};function v(P,V,j,ee=y){let{context:O,zip215:b}=ee,S=x.signature;P=Kr("signature",P,S),V=Kr("message",V),j=Kr("publicKey",j,x.publicKey),b!==void 0&&wm(b,"zip215"),n&&(V=n(V));let R=S/2,k=P.subarray(0,R),F=xm(P.subarray(R,S)),q,K,z;try{q=t.fromBytes(j,b),K=t.fromBytes(k,b),z=i.multiplyUnsafe(F)}catch{return!1}if(!b&&q.isSmallOrder())return!1;let A=h(O,K.toBytes(),q.toBytes(),V);return K.add(q.multiplyUnsafe(A)).subtract(z).clearCofactor().is0()}let _=o.BYTES,x={secretKey:_,publicKey:_,signature:2*_,seed:_};function E(P=a(x.seed)){return Ga(P,x.seed,"seed")}function I(P){let V=B.randomSecretKey(P);return{secretKey:V,publicKey:m(V)}}function N(P){return tm(P)&&P.length===s.BYTES}function L(P,V){try{return!!t.fromBytes(P,V)}catch{return!1}}let B={getExtendedPublicKey:p,randomSecretKey:E,isValidSecretKey:N,isValidPublicKey:L,toMontgomery(P){let{y:V}=t.fromBytes(P),j=x.publicKey,ee=j===32;if(!ee&&j!==57)throw new Error("only defined for 25519 and 448");let O=ee?o.div(ao+V,ao-V):o.div(V-ao,V+ao);return o.toBytes(O)},toMontgomerySecret(P){let V=x.secretKey;Ga(P,V);let j=e(P.subarray(0,V));return c(j).subarray(0,V)},randomPrivateKey:E,precompute(P=8,V=t.BASE){return V.precompute(P,!1)}};return Object.freeze({keygen:I,getPublicKey:m,sign:f,verify:v,utils:B,Point:t,lengths:x})}function yMt(t){let e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp,n=To(e.n,t.nBitLength,!0),i={Fp:r,Fn:n,uvRatio:t.uvRatio},o={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:i,hash:t.hash,eddsaOpts:o}}function bMt(t,e){let r=e.Point;return Object.assign({},e,{ExtendedPoint:r,CURVE:t,nBitLength:r.Fn.BITS,nByteLength:r.Fn.BYTES})}function qKe(t){let{CURVE:e,curveOpts:r,hash:n,eddsaOpts:i}=yMt(t),o=hMt(e,r),s=gMt(o,n,i);return bMt(t,s)}ky();RS();var vMt=BigInt(0),Pm=BigInt(1),HKe=BigInt(2),vAn=BigInt(3),_Mt=BigInt(5),SMt=BigInt(8),zS=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),bR={p:zS,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:SMt,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function wMt(t){let e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),o=zS,a=t*t%o*t%o,c=kn(a,HKe,o)*a%o,l=kn(c,Pm,o)*t%o,u=kn(l,_Mt,o)*l%o,d=kn(u,e,o)*u%o,p=kn(d,r,o)*d%o,m=kn(p,n,o)*p%o,h=kn(m,i,o)*m%o,f=kn(h,i,o)*m%o,y=kn(f,e,o)*u%o;return{pow_p_5_8:kn(y,HKe,o)*t%o,b2:a}}function xMt(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}var Bae=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function zae(t,e){let r=zS,n=Zn(e*e*e,r),i=Zn(n*n*e,r),o=wMt(t*i).pow_p_5_8,s=Zn(t*n*o,r),a=Zn(e*s*s,r),c=s,l=Zn(s*Bae,r),u=a===t,d=a===Zn(-t,r),p=a===Zn(-t*Bae,r);return u&&(s=c),(d||p)&&(s=l),Am(s,r)&&(s=Zn(-s,r)),{isValid:u||d,value:s}}var mg=To(bR.p,{isLE:!0}),AMt=To(bR.n,{isLE:!0}),EMt={...bR,Fp:mg,hash:cP,adjustScalarBytes:xMt,uvRatio:zae},va=qKe(EMt);var Uae=Bae,RMt=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),TMt=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),IMt=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),CMt=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),WKe=t=>zae(Pm,t),OMt=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Fae=t=>va.Point.Fp.create(xm(t)&OMt);function GKe(t){let{d:e}=bR,r=zS,n=v=>mg.create(v),i=n(Uae*t*t),o=n((i+Pm)*IMt),s=BigInt(-1),a=n((s-e*i)*n(i+e)),{isValid:c,value:l}=zae(o,a),u=n(l*t);Am(u,r)||(u=n(-u)),c||(l=u),c||(s=i);let d=n(s*(i-Pm)*CMt-a),p=l*l,m=n((l+l)*a),h=n(d*RMt),f=n(Pm-p),y=n(Pm+p);return new va.Point(n(m*y),n(f*h),n(h*y),n(m*f))}function NMt(t){_o(t,64);let e=Fae(t.subarray(0,32)),r=GKe(e),n=Fae(t.subarray(32,64)),i=GKe(n);return new km(r.add(i))}var km=class t extends xD{constructor(e){super(e)}static fromAffine(e){return new t(va.Point.fromAffine(e))}assertSame(e){if(!(e instanceof t))throw new Error("RistrettoPoint expected")}init(e){return new t(e)}static hashToCurve(e){return NMt(Kr("ristrettoHash",e,64))}static fromBytes(e){_o(e,32);let{a:r,d:n}=bR,i=zS,o=E=>mg.create(E),s=Fae(e);if(!PWe(mg.toBytes(s),e)||Am(s,i))throw new Error("invalid ristretto255 encoding 1");let a=o(s*s),c=o(Pm+r*a),l=o(Pm-r*a),u=o(c*c),d=o(l*l),p=o(r*n*u-d),{isValid:m,value:h}=WKe(o(p*d)),f=o(h*l),y=o(h*f*p),v=o((s+s)*f);Am(v,i)&&(v=o(-v));let _=o(c*y),x=o(v*_);if(!m||Am(x,i)||_===vMt)throw new Error("invalid ristretto255 encoding 2");return new t(new va.Point(v,_,Pm,x))}static fromHex(e){return t.fromBytes(Kr("ristrettoHex",e,32))}static msm(e,r){return CS(t,va.Point.Fn,e,r)}toBytes(){let{X:e,Y:r,Z:n,T:i}=this.ep,o=zS,s=y=>mg.create(y),a=s(s(n+r)*s(n-r)),c=s(e*r),l=s(c*c),{value:u}=WKe(s(a*l)),d=s(u*a),p=s(u*c),m=s(d*p*i),h;if(Am(i*m,o)){let y=s(r*Uae),v=s(e*Uae);e=y,r=v,h=s(d*TMt)}else h=p;Am(e*m,o)&&(r=s(-r));let f=s((n-r)*h);return Am(f,o)&&(f=s(-f)),mg.toBytes(f)}equals(e){this.assertSame(e);let{X:r,Y:n}=this.ep,{X:i,Y:o}=e.ep,s=l=>mg.create(l),a=s(r*o)===s(n*i),c=s(n*o)===s(r*i);return a||c}is0(){return this.equals(t.ZERO)}};km.BASE=new km(va.Point.BASE);km.ZERO=new km(va.Point.ZERO);km.Fp=mg;km.Fn=AMt;var Rce=Ni(jae()),ns=Ni(eYe());Gne();var ZS=Ni(uYe()),Q=Ni(ece()),fJe=Ni(ece());var e$t=1,t$t=2,r$t=3,n$t=4,i$t=5,o$t=6,s$t=7,a$t=8,c$t=9,l$t=10,u$t=-32700,d$t=-32603,p$t=-32602,m$t=-32601,f$t=-32600,h$t=-32016,g$t=-32015,y$t=-32014,b$t=-32013,v$t=-32012,_$t=-32011,S$t=-32010,w$t=-32009,x$t=-32008,A$t=-32007,E$t=-32006,R$t=-32005,T$t=-32004,I$t=-32003,C$t=-32002,O$t=-32001,N$t=28e5,P$t=2800001,k$t=2800002,D$t=2800003,M$t=2800004,$$t=2800005,L$t=2800006,B$t=2800007,U$t=2800008,F$t=2800009,z$t=2800010,V$t=2800011,j$t=323e4,q$t=32300001,H$t=3230002,W$t=3230003,G$t=3230004,K$t=361e4,Y$t=3610001,J$t=3610002,Q$t=3610003,Z$t=3610004,X$t=3610005,eLt=3610006,tLt=3610007,rLt=3611e3,nLt=3704e3,iLt=3704001,oLt=3704002,sLt=3704003,aLt=3704004,cLt=4128e3,lLt=4128001,uLt=4128002,dLt=4615e3,pLt=4615001,mLt=4615002,fLt=4615003,hLt=4615004,gLt=4615005,yLt=4615006,bLt=4615007,vLt=4615008,_Lt=4615009,SLt=4615010,wLt=4615011,xLt=4615012,ALt=4615013,ELt=4615014,RLt=4615015,TLt=4615016,ILt=4615017,CLt=4615018,OLt=4615019,NLt=4615020,PLt=4615021,kLt=4615022,DLt=4615023,MLt=4615024,$Lt=4615025,LLt=4615026,BLt=4615027,ULt=4615028,FLt=4615029,zLt=4615030,VLt=4615031,jLt=4615032,qLt=4615033,HLt=4615034,WLt=4615035,GLt=4615036,KLt=4615037,YLt=4615038,JLt=4615039,QLt=4615040,ZLt=4615041,XLt=4615042,eBt=4615043,tBt=4615044,rBt=4615045,nBt=4615046,iBt=4615047,oBt=4615048,sBt=4615049,aBt=4615050,cBt=4615051,lBt=4615052,uBt=4615053,dBt=4615054,pBt=5508e3,mBt=5508001,fBt=5508002,hBt=5508003,gBt=5508004,yBt=5508005,bBt=5508006,vBt=5508007,_Bt=5508008,SBt=5508009,wBt=5508010,xBt=5508011,ABt=5663e3,EBt=5663001,RBt=5663002,TBt=5663003,IBt=5663004,CBt=5663005,OBt=5663006,NBt=5663007,PBt=5663008,kBt=5663009,DBt=5663010,MBt=5663011,$Bt=5663012,LBt=5663013,BBt=5663014,UBt=5663015,FBt=5663016,zBt=5663017,VBt=5663018,jBt=5663019,qBt=5663020,HBt=705e4,WBt=7050001,GBt=7050002,KBt=7050003,YBt=7050004,JBt=7050005,QBt=7050006,ZBt=7050007,XBt=7050008,eUt=7050009,tUt=7050010,rUt=7050011,nUt=7050012,iUt=7050013,oUt=7050014,sUt=7050015,aUt=7050016,cUt=7050017,lUt=7050018,uUt=7050019,dUt=7050020,pUt=7050021,mUt=7050022,fUt=7050023,hUt=7050024,gUt=7050025,yUt=7050026,bUt=7050027,vUt=7050028,_Ut=7050029,SUt=7050030,wUt=7050031,xUt=7050032,AUt=7050033,EUt=7050034,RUt=7050035,TUt=7050036,tce=8078e3,rce=8078001,dYe=8078002,pYe=8078003,nce=8078004,ice=8078005,oce=8078006,IUt=8078007,CUt=8078008,OUt=8078009,NUt=8078010,sce=8078011,PUt=8078012,mYe=8078013,fYe=8078014,kUt=8078015,DUt=8078016,MUt=8078017,$Ut=8078018,LUt=8078019,hYe=8078020,gYe=8078021,BUt=8078022,UUt=81e5,FUt=8100001,zUt=8100002,VUt=8100003,jUt=819e4,qUt=8190001,HUt=8190002,WUt=8190003,GUt=8190004,KUt=99e5,YUt=9900001,JUt=9900002,QUt=9900003,ZUt=9900004;function yYe(t){return Array.isArray(t)?"%5B"+t.map(yYe).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function XUt([t,e]){return`${t}=${yYe(e)}`}function eFt(t){let e=Object.entries(t).map(XUt).join("&");return Buffer.from(e,"utf8").toString("base64")}var tFt={[j$t]:"Account not found at address: $address",[G$t]:"Not all accounts were decoded. Encoded accounts found at addresses: $addresses.",[W$t]:"Expected decoded account at address: $address",[H$t]:"Failed to decode account data at address: $address",[q$t]:"Accounts not found at addresses: $addresses",[F$t]:"Unable to find a viable program address bump seed.",[k$t]:"$putativeAddress is not a base58-encoded address.",[N$t]:"Expected base58 encoded address to decode to a byte array of length 32. Actual length: $actualLength.",[D$t]:"The `CryptoKey` must be an `Ed25519` public key.",[V$t]:"$putativeOffCurveAddress is not a base58-encoded off-curve address.",[U$t]:"Invalid seeds; point must fall off the Ed25519 curve.",[M$t]:"Expected given program derived address to have the following format: [Address, ProgramDerivedAddressBump].",[L$t]:"A maximum of $maxSeeds seeds, including the bump seed, may be supplied when creating an address. Received: $actual.",[B$t]:"The seed at index $index with length $actual exceeds the maximum length of $maxSeedLength bytes.",[$$t]:"Expected program derived address bump to be in the range [0, 255], got: $bump.",[z$t]:"Program address cannot end with PDA marker.",[P$t]:"Expected base58-encoded address string of length in the range [32, 44]. Actual length: $actualLength.",[n$t]:"Expected base58-encoded blockash string of length in the range [32, 44]. Actual length: $actualLength.",[e$t]:"The network has progressed past the last block for which this transaction could have been committed.",[tce]:"Codec [$codecDescription] cannot decode empty byte arrays.",[BUt]:"Enum codec cannot use lexical values [$stringValues] as discriminators. Either remove all lexical values or set `useValuesAsDiscriminators` to `false`.",[hYe]:"Sentinel [$hexSentinel] must not be present in encoded bytes [$hexEncodedBytes].",[ice]:"Encoder and decoder must have the same fixed size, got [$encoderFixedSize] and [$decoderFixedSize].",[oce]:"Encoder and decoder must have the same max size, got [$encoderMaxSize] and [$decoderMaxSize].",[nce]:"Encoder and decoder must either both be fixed-size or variable-size.",[CUt]:"Enum discriminator out of range. Expected a number in [$formattedValidDiscriminators], got $discriminator.",[dYe]:"Expected a fixed-size codec, got a variable-size one.",[mYe]:"Codec [$codecDescription] expected a positive byte length, got $bytesLength.",[pYe]:"Expected a variable-size codec, got a fixed-size one.",[LUt]:"Codec [$codecDescription] expected zero-value [$hexZeroValue] to have the same size as the provided fixed-size item [$expectedSize bytes].",[rce]:"Codec [$codecDescription] expected $expected bytes, got $bytesLength.",[$Ut]:"Expected byte array constant [$hexConstant] to be present in data [$hexData] at offset [$offset].",[OUt]:"Invalid discriminated union variant. Expected one of [$variants], got $value.",[NUt]:"Invalid enum variant. Expected one of [$stringValues] or a number in [$formattedNumericalValues], got $variant.",[kUt]:"Invalid literal union variant. Expected one of [$variants], got $value.",[IUt]:"Expected [$codecDescription] to have $expected items, got $actual.",[PUt]:"Invalid value $value for base $base with alphabet $alphabet.",[DUt]:"Literal union discriminator out of range. Expected a number between $minRange and $maxRange, got $discriminator.",[sce]:"Codec [$codecDescription] expected number to be in the range [$min, $max], got $value.",[fYe]:"Codec [$codecDescription] expected offset to be in the range [0, $bytesLength], got $offset.",[gYe]:"Expected sentinel [$hexSentinel] to be present in decoded bytes [$hexDecodedBytes].",[MUt]:"Union variant out of range. Expected an index between $minRange and $maxRange, got $variant.",[rLt]:"No random values implementation could be found.",[_Lt]:"instruction requires an uninitialized account",[DLt]:"instruction tries to borrow reference for an account which is already borrowed",[MLt]:"instruction left account with an outstanding borrowed reference",[PLt]:"program other than the account's owner changed the size of the account data",[gLt]:"account data too small for instruction",[kLt]:"instruction expected an executable account",[nBt]:"An account does not have enough lamports to be rent-exempt",[oBt]:"Program arithmetic overflowed",[rBt]:"Failed to serialize or deserialize account data: $encodedData",[dBt]:"Builtin programs must consume compute units",[jLt]:"Cross-program invocation call depth too deep",[YLt]:"Computational budget exceeded",[LLt]:"custom program error: #$code",[ILt]:"instruction contains duplicate accounts",[$Lt]:"instruction modifications of multiply-passed account differ",[zLt]:"executable accounts must be rent exempt",[ULt]:"instruction changed executable accounts data",[FLt]:"instruction changed the balance of an executable account",[CLt]:"instruction changed executable bit of an account",[ELt]:"instruction modified data of an account it does not own",[ALt]:"instruction spent from the balance of an account it does not own",[pLt]:"generic instruction error",[aBt]:"Provided owner is not allowed",[eBt]:"Account is immutable",[tBt]:"Incorrect authority provided",[bLt]:"incorrect program id for instruction",[yLt]:"insufficient funds for instruction",[hLt]:"invalid account data for instruction",[iBt]:"Invalid account owner",[mLt]:"invalid program argument",[BLt]:"program returned invalid error code",[fLt]:"invalid instruction data",[KLt]:"Failed to reallocate account data",[GLt]:"Provided seeds do not result in a valid address",[cBt]:"Accounts data allocations exceeded the maximum allowed per transaction",[lBt]:"Max accounts exceeded",[uBt]:"Max instruction trace length exceeded",[WLt]:"Length of the seed is too long for address generation",[qLt]:"An account required by the instruction is missing",[vLt]:"missing required signature for instruction",[xLt]:"instruction illegally modified the program id of an account",[NLt]:"insufficient account keys for instruction",[JLt]:"Cross-program invocation with unauthorized signer or writable account",[QLt]:"Failed to create program execution environment",[XLt]:"Program failed to compile",[ZLt]:"Program failed to complete",[TLt]:"instruction modified data of a read-only account",[RLt]:"instruction changed the balance of a read-only account",[HLt]:"Cross-program invocation reentrancy not allowed for this instruction",[OLt]:"instruction modified rent epoch of an account",[wLt]:"sum of account balances before and after instruction do not match",[SLt]:"instruction requires an initialized account",[dLt]:"",[VLt]:"Unsupported program id",[sBt]:"Unsupported sysvar",[cLt]:"The instruction does not have any accounts.",[lLt]:"The instruction does not have any data.",[uLt]:"Expected instruction to have progress address $expectedProgramAddress, got $actualProgramAddress.",[i$t]:"Expected base58 encoded blockhash to decode to a byte array of length 32. Actual length: $actualLength.",[t$t]:"The nonce `$expectedNonceValue` is no longer valid. It has advanced to `$actualNonceValue`",[JUt]:"Invariant violation: Found no abortable iterable cache entry for key `$cacheKey`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[ZUt]:"Invariant violation: This data publisher does not publish to the channel named `$channelName`. Supported channels include $supportedChannelNames.",[YUt]:"Invariant violation: WebSocket message iterator state is corrupt; iterated without first resolving existing message promise. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[KUt]:"Invariant violation: WebSocket message iterator is missing state storage. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[QUt]:"Invariant violation: Switch statement non-exhaustive. Received unexpected value `$unexpectedValue`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[d$t]:"JSON-RPC error: Internal JSON-RPC error ($__serverMessage)",[p$t]:"JSON-RPC error: Invalid method parameter(s) ($__serverMessage)",[f$t]:"JSON-RPC error: The JSON sent is not a valid `Request` object ($__serverMessage)",[m$t]:"JSON-RPC error: The method does not exist / is not available ($__serverMessage)",[u$t]:"JSON-RPC error: An error occurred on the server while parsing the JSON text ($__serverMessage)",[v$t]:"$__serverMessage",[O$t]:"$__serverMessage",[T$t]:"$__serverMessage",[y$t]:"$__serverMessage",[S$t]:"$__serverMessage",[w$t]:"$__serverMessage",[h$t]:"Minimum context slot has not been reached",[R$t]:"Node is unhealthy; behind by $numSlotsBehind slots",[x$t]:"No snapshot",[C$t]:"Transaction simulation failed",[A$t]:"$__serverMessage",[_$t]:"Transaction history is not available from this node",[E$t]:"$__serverMessage",[b$t]:"Transaction signature length mismatch",[I$t]:"Transaction signature verification failure",[g$t]:"$__serverMessage",[nLt]:"Key pair bytes must be of length 64, got $byteLength.",[iLt]:"Expected private key bytes with length 32. Actual length: $actualLength.",[oLt]:"Expected base58-encoded signature to decode to a byte array of length 64. Actual length: $actualLength.",[aLt]:"The provided private key does not match the provided public key.",[sLt]:"Expected base58-encoded signature string of length in the range [64, 88]. Actual length: $actualLength.",[o$t]:"Lamports value must be in the range [0, 2e64-1]",[s$t]:"`$value` cannot be parsed as a `BigInt`",[l$t]:"$message",[a$t]:"`$value` cannot be parsed as a `Number`",[r$t]:"No nonce account could be found at address `$nonceAccountAddress`",[jUt]:"The notification name must end in 'Notifications' and the API must supply a subscription plan creator function for the notification '$notificationName'.",[HUt]:"WebSocket was closed before payload could be added to the send buffer",[WUt]:"WebSocket connection closed",[GUt]:"WebSocket failed to connect",[qUt]:"Failed to obtain a subscription id from the server",[VUt]:"Could not find an API plan for RPC method: `$method`",[UUt]:"The $argumentLabel argument to the `$methodName` RPC method$optionalPathLabel was `$value`. This number is unsafe for use with the Solana JSON-RPC because it exceeds `Number.MAX_SAFE_INTEGER`.",[zUt]:"HTTP error ($statusCode): $message",[FUt]:"HTTP header(s) forbidden: $headers. Learn more at https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name.",[pBt]:"Multiple distinct signers were identified for address `$address`. Please ensure that you are using the same signer instance for each address.",[mBt]:"The provided value does not implement the `KeyPairSigner` interface",[hBt]:"The provided value does not implement the `MessageModifyingSigner` interface",[gBt]:"The provided value does not implement the `MessagePartialSigner` interface",[fBt]:"The provided value does not implement any of the `MessageSigner` interfaces",[bBt]:"The provided value does not implement the `TransactionModifyingSigner` interface",[vBt]:"The provided value does not implement the `TransactionPartialSigner` interface",[_Bt]:"The provided value does not implement the `TransactionSendingSigner` interface",[yBt]:"The provided value does not implement any of the `TransactionSigner` interfaces",[SBt]:"More than one `TransactionSendingSigner` was identified.",[wBt]:"No `TransactionSendingSigner` was identified. Please provide a valid `TransactionWithSingleSendingSigner` transaction.",[xBt]:"Wallet account signers do not support signing multiple messages/transactions in a single operation",[tLt]:"Cannot export a non-extractable key.",[Y$t]:"No digest implementation could be found.",[K$t]:"Cryptographic operations are only allowed in secure browser contexts. Read more here: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts.",[J$t]:`This runtime does not support the generation of Ed25519 key pairs.

Install @solana/webcrypto-ed25519-polyfill and call its \`install\` function before generating keys in environments that do not support Ed25519.

For a list of runtimes that currently support Ed25519 operations, visit https://github.com/WICG/webcrypto-secure-curves/issues/20.`,[Q$t]:"No signature verification implementation could be found.",[Z$t]:"No key generation implementation could be found.",[X$t]:"No signing implementation could be found.",[eLt]:"No key export implementation could be found.",[c$t]:"Timestamp value must be in the range [-(2n ** 63n), (2n ** 63n) - 1]. `$value` given",[aUt]:"Transaction processing left an account with an outstanding borrowed reference",[WBt]:"Account in use",[GBt]:"Account loaded twice",[KBt]:"Attempt to debit an account but found no record of a prior credit.",[fUt]:"Transaction loads an address table account that doesn't exist",[ZBt]:"This transaction has already been processed",[XBt]:"Blockhash not found",[eUt]:"Loader call chain is too deep",[sUt]:"Transactions are currently disabled due to cluster maintenance",[SUt]:"Transaction contains a duplicate instruction ($index) that is not allowed",[JBt]:"Insufficient funds for fee",[wUt]:"Transaction results in an account ($accountIndex) with insufficient funds for rent",[QBt]:"This account may not be used to pay transaction fees",[rUt]:"Transaction contains an invalid account reference",[gUt]:"Transaction loads an address table account with invalid data",[yUt]:"Transaction address table lookup uses an invalid index",[hUt]:"Transaction loads an address table account with an invalid owner",[AUt]:"LoadedAccountsDataSizeLimit set for transaction must be greater than 0.",[iUt]:"This program may not be used for executing instructions",[bUt]:"Transaction leaves an account with a lower balance than rent-exempt minimum",[uUt]:"Transaction loads a writable account that cannot be written",[xUt]:"Transaction exceeded max loaded accounts data size cap",[tUt]:"Transaction requires a fee but has no signature present",[YBt]:"Attempt to load a program that does not exist",[RUt]:"Execution of the program referenced by account at index $accountIndex is temporarily restricted.",[EUt]:"ResanitizationNeeded",[oUt]:"Transaction failed to sanitize accounts offsets correctly",[nUt]:"Transaction did not pass signature verification",[mUt]:"Transaction locked too many accounts",[TUt]:"Sum of account balances before and after transaction do not match",[HBt]:"The transaction failed with the error `$errorName`",[lUt]:"Transaction version is unsupported",[pUt]:"Transaction would exceed account data limit within the block",[_Ut]:"Transaction would exceed total account data limit",[dUt]:"Transaction would exceed max account limit within the block",[cUt]:"Transaction would exceed max Block Cost Limit",[vUt]:"Transaction would exceed max Vote Cost Limit",[UBt]:"Attempted to sign a transaction with an address that is not a signer for it",[DBt]:"Transaction is missing an address at index: $index.",[FBt]:"Transaction has no expected signers therefore it cannot be encoded",[qBt]:"Transaction size $transactionSize exceeds limit of $transactionSizeLimit bytes",[RBt]:"Transaction does not have a blockhash lifetime",[TBt]:"Transaction is not a durable nonce transaction",[CBt]:"Contents of these address lookup tables unknown: $lookupTableAddresses",[OBt]:"Lookup of address at index $highestRequestedIndex failed for lookup table `$lookupTableAddress`. Highest known index is $highestKnownIndex. The lookup table may have been extended since its contents were retrieved",[PBt]:"No fee payer set in CompiledTransaction",[NBt]:"Could not find program address at index $index",[VBt]:"Failed to estimate the compute unit consumption for this transaction message. This is likely because simulating the transaction failed. Inspect the `cause` property of this error to learn more",[jBt]:"Transaction failed when it was simulated in order to estimate the compute unit consumption. The compute unit estimate provided is for a transaction that failed when simulated and may not be representative of the compute units this transaction would consume if successful. Inspect the `cause` property of this error to learn more",[MBt]:"Transaction is missing a fee payer.",[$Bt]:"Could not determine this transaction's signature. Make sure that the transaction has been signed by its fee payer.",[BBt]:"Transaction first instruction is not advance nonce account instruction.",[LBt]:"Transaction with no instructions cannot be durable nonce transaction.",[ABt]:"This transaction includes an address (`$programAddress`) which is both invoked and set as the fee payer. Program addresses may not pay fees",[EBt]:"This transaction includes an address (`$programAddress`) which is both invoked and marked writable. Program addresses may not be writable",[zBt]:"The transaction message expected the transaction to have $signerAddressesLength signatures, got $signaturesLength.",[kBt]:"Transaction is missing signatures for addresses: $addresses.",[IBt]:"Transaction version must be in the range [0, 127]. `$actualVersion` given"},$m="i",Ld="t";function rFt(t,e={}){let r=tFt[t];if(r.length===0)return"";let n;function i(s){if(n[Ld]===2){let a=r.slice(n[$m]+1,s);o.push(a in e?`${e[a]}`:`$${a}`)}else n[Ld]===1&&o.push(r.slice(n[$m],s))}let o=[];return r.split("").forEach((s,a)=>{if(a===0){n={[$m]:0,[Ld]:r[0]==="\\"?0:r[0]==="$"?2:1};return}let c;switch(n[Ld]){case 0:c={[$m]:a,[Ld]:1};break;case 1:s==="\\"?c={[$m]:a,[Ld]:0}:s==="$"&&(c={[$m]:a,[Ld]:2});break;case 2:s==="\\"?c={[$m]:a,[Ld]:0}:s==="$"?c={[$m]:a,[Ld]:2}:s.match(/\w/)||(c={[$m]:a,[Ld]:1});break}c&&(n!==c&&i(a),n=c)}),i(),o.join("")}function nFt(t,e={}){if(process.env.NODE_ENV!=="production")return rFt(t,e);{let r=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(r+=` '${eFt(e)}'`),`${r}\``}}var gg=class extends Error{cause=this.cause;context;constructor(...[t,e]){let r,n;if(e){let{cause:o,...s}=e;o&&(n={cause:o}),Object.keys(s).length>0&&(r=s)}let i=nFt(t,r);super(i,n),this.context={__code:t,...r},this.name="SolanaError"}};function iFt(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function bYe(t){return Object.freeze({...t,encode:e=>{let r=new Uint8Array(iFt(e,t));return t.write(e,r,0),r}})}function vYe(t){return Object.freeze({...t,decode:(e,r=0)=>t.read(e,r)[0]})}function WS(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function _Ye(t,e){if(WS(t)!==WS(e))throw new gg(nce);if(WS(t)&&WS(e)&&t.fixedSize!==e.fixedSize)throw new gg(ice,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!WS(t)&&!WS(e)&&t.maxSize!==e.maxSize)throw new gg(oce,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function SYe(t,e,r=0){if(e.length-r<=0)throw new gg(tce,{codecDescription:t})}function wYe(t,e,r,n=0){let i=r.length-n;if(i<e)throw new gg(rce,{bytesLength:i,codecDescription:t,expected:e})}function oFt(t,e,r,n){if(n<e||n>r)throw new gg(sce,{codecDescription:t,max:r,min:e,value:n})}function xYe(t){return t?.endian!==1}function sFt(t){return bYe({fixedSize:t.size,write(e,r,n){t.range&&oFt(t.name,t.range[0],t.range[1],e);let i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,xYe(t.config)),r.set(new Uint8Array(i),n),n+t.size}})}function aFt(t){return vYe({fixedSize:t.size,read(e,r=0){SYe(t.name,e,r),wYe(t.name,t.size,e,r);let n=new DataView(cFt(e,r,t.size));return[t.get(n,xYe(t.config)),r+t.size]}})}function cFt(t,e,r){let n=t.byteOffset+(e??0),i=r??t.byteLength;return t.buffer.slice(n,n+i)}var ace=(t={})=>sFt({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,r,n)=>e.setBigUint64(0,BigInt(r),n),size:8}),lFt=(t={})=>aFt({config:t,get:(e,r)=>e.getBigUint64(0,r),name:"u64",size:8}),AYe=(t={})=>_Ye(ace(t),lFt(t));var cce=class extends TypeError{constructor(e,r){let n,{message:i,explanation:o,...s}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(o??c),o!=null&&(this.cause=c),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}};function uFt(t){return AR(t)&&typeof t[Symbol.iterator]=="function"}function AR(t){return typeof t=="object"&&t!=null}function ZD(t){return AR(t)&&!Array.isArray(t)}function gu(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function dFt(t){let{done:e,value:r}=t.next();return e?void 0:r}function pFt(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});let{path:i,branch:o}=e,{type:s}=r,{refinement:a,message:c=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${gu(n)}\``}=t;return{value:n,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:c}}function*EYe(t,e,r,n){uFt(t)||(t=[t]);for(let i of t){let o=pFt(i,e,r,n);o&&(yield o)}}function*lce(t,e,r={}){let{path:n=[],branch:i=[t],coerce:o=!1,mask:s=!1}=r,a={path:n,branch:i,mask:s};o&&(t=e.coercer(t,a));let c="valid";for(let l of e.validator(t,a))l.explanation=r.message,c="not_valid",yield[l,void 0];for(let[l,u,d]of e.entries(t,a)){let p=lce(u,d,{path:l===void 0?n:[...n,l],branch:l===void 0?i:[...i,u],coerce:o,mask:s,message:r.message});for(let m of p)m[0]?(c=m[0].refinement!=null?"not_refined":"not_valid",yield[m[0],void 0]):o&&(u=m[1],l===void 0?t=u:t instanceof Map?t.set(l,u):t instanceof Set?t.add(u):AR(t)&&(u!==void 0||l in t)&&(t[l]=u))}if(c!=="not_valid")for(let l of e.refiner(t,a))l.explanation=r.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,t])}var Il=class{constructor(e){let{type:r,schema:n,validator:i,refiner:o,coercer:s=c=>c,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=s,i?this.validator=(c,l)=>{let u=i(c,l);return EYe(u,l,this,c)}:this.validator=()=>[],o?this.refiner=(c,l)=>{let u=o(c,l);return EYe(u,l,this,c)}:this.refiner=()=>[]}assert(e,r){return RYe(e,this,r)}create(e,r){return GS(e,this,r)}is(e){return TYe(e,this)}mask(e,r){return mFt(e,this,r)}validate(e,r={}){return ER(e,this,r)}};function RYe(t,e,r){let n=ER(t,e,{message:r});if(n[0])throw n[0]}function GS(t,e,r){let n=ER(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function mFt(t,e,r){let n=ER(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function TYe(t,e){return!ER(t,e)[0]}function ER(t,e,r={}){let n=lce(t,e,r),i=dFt(n);return i[0]?[new cce(i[0],function*(){for(let s of n)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function jy(t,e){return new Il({type:t,schema:null,validator:e})}function IYe(){return jy("any",()=>!0)}function tt(t){return new Il({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(let[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${gu(e)}`}})}function yu(){return jy("boolean",t=>typeof t=="boolean")}function XD(t){return jy("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${gu(e)}`)}function Dn(t){let e=gu(t),r=typeof t;return new Il({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||`Expected the literal \`${e}\`, but received: ${gu(n)}`}})}function fFt(){return jy("never",()=>!1)}function rt(t){return new Il({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function ce(){return jy("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${gu(t)}`)}function Et(t){return new Il({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function uce(t,e){return new Il({type:"record",schema:null,*entries(r){if(AR(r))for(let n in r){let i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return ZD(r)||`Expected an object, but received: ${gu(r)}`},coercer(r){return ZD(r)?{...r}:r}})}function ze(){return jy("string",t=>typeof t=="string"||`Expected a string, but received: ${gu(t)}`)}function eM(t){let e=fFt();return new Il({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){let n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${gu(r)}`},coercer(r){return Array.isArray(r)?r.slice():r}})}function Ee(t){let e=Object.keys(t);return new Il({type:"type",schema:t,*entries(r){if(AR(r))for(let n of e)yield[n,r[n],t[n]]},validator(r){return ZD(r)||`Expected an object, but received: ${gu(r)}`},coercer(r){return ZD(r)?{...r}:r}})}function ts(t){let e=t.map(r=>r.type).join(" | ");return new Il({type:"union",schema:null,coercer(r,n){for(let i of t){let[o,s]=i.validate(r,{coerce:!0,mask:n.mask});if(!o)return s}return r},validator(r,n){let i=[];for(let o of t){let[...s]=lce(r,o,n),[a]=s;if(a[0])for(let[c]of s)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${gu(r)}`,...i]}})}function qy(){return jy("unknown",()=>!0)}function KS(t,e,r){return new Il({...t,coercer:(n,i)=>TYe(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}var UFt=Ni(QYe());Nae();RFe();var eJe=Ni(XYe(),1);jKe();k3();pae();ky();var Sce={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},LFt={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]};var tJe=BigInt(2);function BFt(t){let e=Sce.p,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=kn(u,r,e)*u%e,p=kn(d,r,e)*u%e,m=kn(p,tJe,e)*l%e,h=kn(m,i,e)*m%e,f=kn(h,o,e)*h%e,y=kn(f,a,e)*f%e,v=kn(y,c,e)*y%e,_=kn(v,a,e)*f%e,x=kn(_,r,e)*u%e,E=kn(x,s,e)*h%e,I=kn(E,n,e)*l%e,N=kn(I,tJe,e);if(!_ce.eql(_ce.sqr(N),t))throw new Error("Cannot find square root");return N}var _ce=To(Sce.p,{sqrt:BFt}),sM=PS({...Sce,Fp:_ce,lowS:!0,endo:LFt},L2);var qEn=va.utils.randomPrivateKey,rJe=()=>{let t=va.utils.randomPrivateKey(),e=Tce(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},Tce=va.getPublicKey;function nJe(t){try{return va.ExtendedPoint.fromHex(t),!0}catch{return!1}}var zce=(t,e)=>va.sign(t,e.slice(0,32)),FFt=va.verify,Er=t=>qt.isBuffer(t)?t:t instanceof Uint8Array?qt.from(t.buffer,t.byteOffset,t.byteLength):qt.from(t),Ice=class{constructor(e){Object.assign(this,e)}encode(){return qt.from((0,ZS.serialize)(cM,this))}static decode(e){return(0,ZS.deserialize)(cM,this,e)}static decodeUnchecked(e){return(0,ZS.deserializeUnchecked)(cM,this,e)}};var cM=new Map,hJe,zFt=32,_g=32;function VFt(t){return t._bn!==void 0}var iJe=1,Wt=class t extends Ice{constructor(e){if(super({}),this._bn=void 0,VFt(e))this._bn=e._bn;else{if(typeof e=="string"){let r=ns.default.decode(e);if(r.length!=_g)throw new Error("Invalid public key input");this._bn=new Rce.default(r)}else this._bn=new Rce.default(e);if(this._bn.byteLength()>_g)throw new Error("Invalid public key input")}}static unique(){let e=new t(iJe);return iJe+=1,new t(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return ns.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(qt);if(e.length===_g)return e;let r=qt.alloc(32);return e.copy(r,32-e.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){let i=qt.concat([e.toBuffer(),qt.from(r),n.toBuffer()]),o=B2(i);return new t(o)}static createProgramAddressSync(e,r){let n=qt.alloc(0);e.forEach(function(o){if(o.length>zFt)throw new TypeError("Max seed length exceeded");n=qt.concat([n,Er(o)])}),n=qt.concat([n,r.toBuffer(),qt.from("ProgramDerivedAddress")]);let i=B2(n);if(nJe(i))throw new Error("Invalid seeds, address must fall off the curve");return new t(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,i;for(;n!=0;){try{let o=e.concat(qt.from([n]));i=this.createProgramAddressSync(o,r)}catch(o){if(o instanceof TypeError)throw o;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){let r=new t(e);return nJe(r.toBytes())}};hJe=Wt;Wt.default=new hJe("11111111111111111111111111111111");cM.set(Wt,{kind:"struct",fields:[["_bn","u256"]]});var HEn=new Wt("BPFLoader1111111111111111111111111111111111"),Hy=1232,Vce=127,lM=64,Cce=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Cce.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var Oce=class extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Oce.prototype,"name",{value:"TransactionExpiredTimeoutError"});var Nce=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Nce.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var JS=class{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((o,s)=>{n.set(o.toBase58(),s)});let i=o=>{let s=n.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return e.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}},mr=(t="publicKey")=>Q.blob(32,t),jFt=(t="signature")=>Q.blob(64,t),YS=(t="string")=>{let e=Q.struct([Q.u32("length"),Q.u32("lengthPadding"),Q.blob(Q.offset(Q.u32(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(o,s)=>r(o,s).chars.toString(),i.encode=(o,s,a)=>{let c={chars:qt.from(o,"utf8")};return n(c,s,a)},i.alloc=o=>Q.u32().span+Q.u32().span+qt.from(o,"utf8").length,i},qFt=(t="authorized")=>Q.struct([mr("staker"),mr("withdrawer")],t),HFt=(t="lockup")=>Q.struct([Q.ns64("unixTimestamp"),Q.ns64("epoch"),mr("custodian")],t),WFt=(t="voteInit")=>Q.struct([mr("nodePubkey"),mr("authorizedVoter"),mr("authorizedWithdrawer"),Q.u8("commission")],t),GFt=(t="voteAuthorizeWithSeedArgs")=>Q.struct([Q.u32("voteAuthorizationType"),mr("currentAuthorityDerivedKeyOwnerPubkey"),YS("currentAuthorityDerivedKeySeed"),mr("newAuthorized")],t);function gJe(t,e){let r=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let o=e[i.property];if(Array.isArray(o))return o.length*r(i.elementLayout)}else if("fields"in i)return gJe({layout:i},e[i.property]);return 0},n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}function Ja(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,(n&128)===0)break}return e}function Qa(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function wn(t,e){if(!t)throw new Error(e||"Assertion failed")}var uM=class t{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){let n=new Map,i=s=>{let a=s.toBase58(),c=n.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,c)),c},o=i(r);o.isSigner=!0,o.isWritable=!0;for(let s of e){i(s.programId).isInvoked=!0;for(let a of s.keys){let c=i(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new t(r,n)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];wn(e.length<=256,"Max static account keys length exceeded");let r=e.filter(([,c])=>c.isSigner&&c.isWritable),n=e.filter(([,c])=>c.isSigner&&!c.isWritable),i=e.filter(([,c])=>!c.isSigner&&c.isWritable),o=e.filter(([,c])=>!c.isSigner&&!c.isWritable),s={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:o.length};{wn(r.length>0,"Expected at least one writable signer key");let[c]=r[0];wn(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let a=[...r.map(([c])=>new Wt(c)),...n.map(([c])=>new Wt(c)),...i.map(([c])=>new Wt(c)),...o.map(([c])=>new Wt(c))];return[s,a]}extractTableLookup(e){let[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:o}]}drainKeysFoundInLookupTable(e,r){let n=new Array,i=new Array;for(let[o,s]of this.keyMetaMap.entries())if(r(s)){let a=new Wt(o),c=e.findIndex(l=>l.equals(a));c>=0&&(wn(c<256,"Max lookup table index exceeded"),n.push(c),i.push(a),this.keyMetaMap.delete(o))}return[n,i]}},yJe="Reached end of buffer unexpectedly";function Bm(t){if(t.length===0)throw new Error(yJe);return t.shift()}function Za(t,...e){let[r]=e;if(e.length===2?r+(e[1]??0)>t.length:r>=t.length)throw new Error(yJe);return t.splice(...e)}var kR=class t{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new Wt(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:ns.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new JS(this.staticAccountKeys)}static compile(e){let r=uM.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),s=new JS(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:ns.default.encode(a.data)}));return new t({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let n=e-r,o=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<o}else{let n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){let e=this.accountKeys.length,r=[];Qa(r,e);let n=this.instructions.map(d=>{let{accounts:p,programIdIndex:m}=d,h=Array.from(ns.default.decode(d.data)),f=[];Qa(f,p.length);let y=[];return Qa(y,h.length),{programIdIndex:m,keyIndicesCount:qt.from(f),keyIndices:p,dataLength:qt.from(y),data:h}}),i=[];Qa(i,n.length);let o=qt.alloc(Hy);qt.from(i).copy(o);let s=i.length;n.forEach(d=>{let m=Q.struct([Q.u8("programIdIndex"),Q.blob(d.keyIndicesCount.length,"keyIndicesCount"),Q.seq(Q.u8("keyIndex"),d.keyIndices.length,"keyIndices"),Q.blob(d.dataLength.length,"dataLength"),Q.seq(Q.u8("userdatum"),d.data.length,"data")]).encode(d,o,s);s+=m}),o=o.slice(0,s);let a=Q.struct([Q.blob(1,"numRequiredSignatures"),Q.blob(1,"numReadonlySignedAccounts"),Q.blob(1,"numReadonlyUnsignedAccounts"),Q.blob(r.length,"keyCount"),Q.seq(mr("key"),e,"keys"),mr("recentBlockhash")]),c={numRequiredSignatures:qt.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:qt.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:qt.from([this.header.numReadonlyUnsignedAccounts]),keyCount:qt.from(r),keys:this.accountKeys.map(d=>Er(d.toBytes())),recentBlockhash:ns.default.decode(this.recentBlockhash)},l=qt.alloc(2048),u=a.encode(c,l);return o.copy(l,u),l.slice(0,u+o.length)}static from(e){let r=[...e],n=Bm(r);if(n!==(n&Vce))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let i=Bm(r),o=Bm(r),s=Ja(r),a=[];for(let p=0;p<s;p++){let m=Za(r,0,_g);a.push(new Wt(qt.from(m)))}let c=Za(r,0,_g),l=Ja(r),u=[];for(let p=0;p<l;p++){let m=Bm(r),h=Ja(r),f=Za(r,0,h),y=Ja(r),v=Za(r,0,y),_=ns.default.encode(qt.from(v));u.push({programIdIndex:m,accounts:f,data:_})}let d={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:ns.default.encode(qt.from(c)),accountKeys:a,instructions:u};return new t(d)}},Pce=class t{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new JS(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){let i=e-n,o=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return i<o}else if(e>=this.header.numRequiredSignatures){let i=e-r,s=n-r-this.header.numReadonlyUnsignedAccounts;return i<s}else{let i=r-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){let r={writable:[],readonly:[]};for(let n of this.addressTableLookups){let i=e.find(o=>o.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let o of n.writableIndexes)if(o<i.state.addresses.length)r.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`);for(let o of n.readonlyIndexes)if(o<i.state.addresses.length)r.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){let r=uM.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(let u of o){let d=r.extractTableLookup(u);if(d!==void 0){let[p,{writable:m,readonly:h}]=d;n.push(p),i.writable.push(...m),i.readonly.push(...h)}}let[s,a]=r.getMessageComponents(),l=new JS(a,i).compileInstructions(e.instructions);return new t({header:s,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:l,addressTableLookups:n})}serialize(){let e=Array();Qa(e,this.staticAccountKeys.length);let r=this.serializeInstructions(),n=Array();Qa(n,this.compiledInstructions.length);let i=this.serializeAddressTableLookups(),o=Array();Qa(o,this.addressTableLookups.length);let s=Q.struct([Q.u8("prefix"),Q.struct([Q.u8("numRequiredSignatures"),Q.u8("numReadonlySignedAccounts"),Q.u8("numReadonlyUnsignedAccounts")],"header"),Q.blob(e.length,"staticAccountKeysLength"),Q.seq(mr(),this.staticAccountKeys.length,"staticAccountKeys"),mr("recentBlockhash"),Q.blob(n.length,"instructionsLength"),Q.blob(r.length,"serializedInstructions"),Q.blob(o.length,"addressTableLookupsLength"),Q.blob(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(Hy),l=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(u=>u.toBytes()),recentBlockhash:ns.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},a);return a.slice(0,l)}serializeInstructions(){let e=0,r=new Uint8Array(Hy);for(let n of this.compiledInstructions){let i=Array();Qa(i,n.accountKeyIndexes.length);let o=Array();Qa(o,n.data.length);let s=Q.struct([Q.u8("programIdIndex"),Q.blob(i.length,"encodedAccountKeyIndexesLength"),Q.seq(Q.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),Q.blob(o.length,"encodedDataLength"),Q.blob(n.data.length,"data")]);e+=s.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0,r=new Uint8Array(Hy);for(let n of this.addressTableLookups){let i=Array();Qa(i,n.writableIndexes.length);let o=Array();Qa(o,n.readonlyIndexes.length);let s=Q.struct([mr("accountKey"),Q.blob(i.length,"encodedWritableIndexesLength"),Q.seq(Q.u8(),n.writableIndexes.length,"writableIndexes"),Q.blob(o.length,"encodedReadonlyIndexesLength"),Q.seq(Q.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=s.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e],n=Bm(r),i=n&Vce;wn(n!==i,"Expected versioned message but received legacy message");let o=i;wn(o===0,`Expected versioned message with version 0 but found version ${o}`);let s={numRequiredSignatures:Bm(r),numReadonlySignedAccounts:Bm(r),numReadonlyUnsignedAccounts:Bm(r)},a=[],c=Ja(r);for(let h=0;h<c;h++)a.push(new Wt(Za(r,0,_g)));let l=ns.default.encode(Za(r,0,_g)),u=Ja(r),d=[];for(let h=0;h<u;h++){let f=Bm(r),y=Ja(r),v=Za(r,0,y),_=Ja(r),x=new Uint8Array(Za(r,0,_));d.push({programIdIndex:f,accountKeyIndexes:v,data:x})}let p=Ja(r),m=[];for(let h=0;h<p;h++){let f=new Wt(Za(r,0,_g)),y=Ja(r),v=Za(r,0,y),_=Ja(r),x=Za(r,0,_);m.push({accountKey:f,writableIndexes:v,readonlyIndexes:x})}return new t({header:s,staticAccountKeys:a,recentBlockhash:l,compiledInstructions:d,addressTableLookups:m})}},bJe={deserializeMessageVersion(t){let e=t[0],r=e&Vce;return r===e?"legacy":r},deserialize:t=>{let e=bJe.deserializeMessageVersion(t);if(e==="legacy")return kR.from(t);if(e===0)return Pce.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};var KFt=qt.alloc(lM).fill(0),on=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=qt.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},hn=class t{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{let{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new on(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<r.length;f++)if(r[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);let i=[],o=[];r.forEach(f=>{f.keys.forEach(v=>{o.push({...v})});let y=f.programId.toString();i.includes(y)||i.push(y)}),i.forEach(f=>{o.push({pubkey:new Wt(f),isSigner:!1,isWritable:!1})});let s=[];o.forEach(f=>{let y=f.pubkey.toString(),v=s.findIndex(_=>_.pubkey.toString()===y);v>-1?(s[v].isWritable=s[v].isWritable||f.isWritable,s[v].isSigner=s[v].isSigner||f.isSigner):s.push(f)}),s.sort(function(f,y){if(f.isSigner!==y.isSigner)return f.isSigner?-1:1;if(f.isWritable!==y.isWritable)return f.isWritable?-1:1;let v={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(y.pubkey.toBase58(),"en",v)});let a=s.findIndex(f=>f.pubkey.equals(n));if(a>-1){let[f]=s.splice(a,1);f.isSigner=!0,f.isWritable=!0,s.unshift(f)}else s.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let f of this.signatures){let y=s.findIndex(v=>v.pubkey.equals(f.publicKey));if(y>-1)s[y].isSigner||(s[y].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,l=0,u=0,d=[],p=[];s.forEach(({pubkey:f,isSigner:y,isWritable:v})=>{y?(d.push(f.toString()),c+=1,v||(l+=1)):(p.push(f.toString()),v||(u+=1))});let m=d.concat(p),h=r.map(f=>{let{data:y,programId:v}=f;return{programIdIndex:m.indexOf(v.toString()),accounts:f.keys.map(_=>m.indexOf(_.pubkey.toString())),data:ns.default.encode(y)}});return h.forEach(f=>{wn(f.programIdIndex>=0),f.accounts.forEach(y=>wn(y>=0))}),new kR({header:{numRequiredSignatures:c,numReadonlySignedAccounts:l,numReadonlyUnsignedAccounts:u},accountKeys:m,recentBlockhash:e,instructions:h})}_compile(){let e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,o)=>r[o].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");let r=new Set;this.signatures=e.filter(n=>{let i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let o of e){let s=o.publicKey.toString();r.has(s)||(r.add(s),n.push(o))}this.signatures=n.map(o=>({signature:null,publicKey:o.publicKey}));let i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let o of e){let s=o.publicKey.toString();r.has(s)||(r.add(s),n.push(o))}let i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){let n=e.serialize();r.forEach(i=>{let o=zce(n,i.secretKey);this._addSignature(i.publicKey,Er(o))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){wn(r.length===64);let n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=qt.from(r)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,r){let n={};for(let{signature:i,publicKey:o}of this.signatures)i===null?r&&(n.missing||=[]).push(o):FFt(i,e,o.toBytes())||(n.invalid||=[]).push(o);return n.invalid||n.missing?n:void 0}serialize(e){let{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n){let o=this._getMessageSignednessErrors(i,r);if(o){let s="Signature verification failed.";throw o.invalid&&(s+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),o.missing&&(s+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(s)}}return this._serialize(i)}_serialize(e){let{signatures:r}=this,n=[];Qa(n,r.length);let i=n.length+r.length*64+e.length,o=qt.alloc(i);return wn(r.length<256),qt.from(n).copy(o,0),r.forEach(({signature:s},a)=>{s!==null&&(wn(s.length===64,"signature has invalid length"),qt.from(s).copy(o,n.length+a*64))}),e.copy(o,n.length+r.length*64),wn(o.length<=Hy,`Transaction too large: ${o.length} > ${Hy}`),o}get keys(){return wn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return wn(this.instructions.length===1),this.instructions[0].programId}get data(){return wn(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e],n=Ja(r),i=[];for(let o=0;o<n;o++){let s=Za(r,0,lM);i.push(ns.default.encode(qt.from(s)))}return t.populate(kR.from(r),i)}static populate(e,r=[]){let n=new t;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((i,o)=>{let s={signature:i==ns.default.encode(KFt)?null:ns.default.decode(i),publicKey:e.accountKeys[o]};n.signatures.push(s)}),e.instructions.forEach(i=>{let o=i.accounts.map(s=>{let a=e.accountKeys[s];return{pubkey:a,isSigner:n.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(s),isWritable:e.isAccountWritable(s)}});n.instructions.push(new on({keys:o,programId:e.accountKeys[i.programIdIndex],data:ns.default.decode(i.data)}))}),n._message=e,n._json=n.toJSON(),n}};var dM=class t{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)wn(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{let n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(lM));this.signatures=n}this.message=e}serialize(){let e=this.message.serialize(),r=Array();Qa(r,this.signatures.length);let n=Q.struct([Q.blob(r.length,"encodedSignaturesLength"),Q.seq(jFt(),this.signatures.length,"signatures"),Q.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),o=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,o)}static deserialize(e){let r=[...e],n=[],i=Ja(r);for(let s=0;s<i;s++)n.push(new Uint8Array(Za(r,0,lM)));let o=bJe.deserialize(new Uint8Array(r));return new t(o,n)}sign(e){let r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let i of e){let o=n.findIndex(s=>s.equals(i.publicKey));wn(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=zce(r,i.secretKey)}}addSignature(e,r){wn(r.byteLength===64,"Signature must be 64 bytes long");let i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(e));wn(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}},YFt=160,JFt=64,QFt=YFt/JFt,ZFt=1e3/QFt,Lm=new Wt("SysvarC1ock11111111111111111111111111111111"),WEn=new Wt("SysvarEpochSchedu1e111111111111111111111111"),GEn=new Wt("Sysvar1nstructions1111111111111111111111111"),wce=new Wt("SysvarRecentB1ockHashes11111111111111111111"),DR=new Wt("SysvarRent111111111111111111111111111111111"),KEn=new Wt("SysvarRewards111111111111111111111111111111"),YEn=new Wt("SysvarS1otHashes111111111111111111111111111"),JEn=new Wt("SysvarS1otHistory11111111111111111111111111"),xce=new Wt("SysvarStakeHistory1111111111111111111111111"),kce=class extends Error{constructor({action:e,signature:r,transactionMessage:n,logs:i}){let o=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.",a;switch(e){case"send":a=`Transaction ${r} resulted in an error. 
${n}. `+o+s;break;case"simulate":a=`Simulation failed. 
Message: ${n}. 
`+o+s;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=r,this.transactionMessage=n,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){let e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((r,n)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){let o=i.meta.logMessages;this.transactionLogs=o,r(o)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}};async function oJe(t,e,r,n){let i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},o=await t.sendTransaction(e,r,i),s;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)s=(await t.confirmTransaction({abortSignal:n?.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){let{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;s=(await t.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:o},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await t.confirmTransaction(o,n&&n.commitment)).value;if(s.err)throw o!=null?new kce({action:"send",signature:o,transactionMessage:`Status: (${JSON.stringify(s)})`}):new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function XFt(t){return new Promise(e=>setTimeout(e,t))}function wr(t,e){let r=t.layout.span>=0?t.layout.span:gJe(t,e),n=qt.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}var ezt=Q.nu64("lamportsPerSignature"),tzt=Q.struct([Q.u32("version"),Q.u32("state"),mr("authorizedPubkey"),mr("nonce"),Q.struct([ezt],"feeCalculator")]),sJe=tzt.span;function QS(t){let e=(0,fJe.blob)(8,t),r=e.decode.bind(e),n=e.encode.bind(e),i=e,o=AYe();return i.decode=(s,a)=>{let c=r(s,a);return o.decode(c)},i.encode=(s,a,c)=>{let l=o.encode(s);return n(l,a,c)},i}var Cl=Object.freeze({Create:{index:0,layout:Q.struct([Q.u32("instruction"),Q.ns64("lamports"),Q.ns64("space"),mr("programId")])},Assign:{index:1,layout:Q.struct([Q.u32("instruction"),mr("programId")])},Transfer:{index:2,layout:Q.struct([Q.u32("instruction"),QS("lamports")])},CreateWithSeed:{index:3,layout:Q.struct([Q.u32("instruction"),mr("base"),YS("seed"),Q.ns64("lamports"),Q.ns64("space"),mr("programId")])},AdvanceNonceAccount:{index:4,layout:Q.struct([Q.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:Q.struct([Q.u32("instruction"),Q.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:Q.struct([Q.u32("instruction"),mr("authorized")])},AuthorizeNonceAccount:{index:7,layout:Q.struct([Q.u32("instruction"),mr("authorized")])},Allocate:{index:8,layout:Q.struct([Q.u32("instruction"),Q.ns64("space")])},AllocateWithSeed:{index:9,layout:Q.struct([Q.u32("instruction"),mr("base"),YS("seed"),Q.ns64("space"),mr("programId")])},AssignWithSeed:{index:10,layout:Q.struct([Q.u32("instruction"),mr("base"),YS("seed"),mr("programId")])},TransferWithSeed:{index:11,layout:Q.struct([Q.u32("instruction"),QS("lamports"),YS("seed"),mr("programId")])},UpgradeNonceAccount:{index:12,layout:Q.struct([Q.u32("instruction")])}}),Cs=class t{constructor(){}static createAccount(e){let r=Cl.Create,n=wr(r,{lamports:e.lamports,space:e.space,programId:Er(e.programId.toBuffer())});return new on({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){let i=Cl.TransferWithSeed;r=wr(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Er(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let i=Cl.Transfer;r=wr(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new on({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){let i=Cl.AssignWithSeed;r=wr(i,{base:Er(e.basePubkey.toBuffer()),seed:e.seed,programId:Er(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=Cl.Assign;r=wr(i,{programId:Er(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new on({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){let r=Cl.CreateWithSeed,n=wr(r,{base:Er(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Er(e.programId.toBuffer())}),i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new on({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){let r=new hn;"basePubkey"in e&&"seed"in e?r.add(t.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:sJe,programId:this.programId})):r.add(t.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:sJe,programId:this.programId}));let n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){let r=Cl.InitializeNonceAccount,n=wr(r,{authorized:Er(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:wce,isSigner:!1,isWritable:!1},{pubkey:DR,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new on(i)}static nonceAdvance(e){let r=Cl.AdvanceNonceAccount,n=wr(r),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:wce,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new on(i)}static nonceWithdraw(e){let r=Cl.WithdrawNonceAccount,n=wr(r,{lamports:e.lamports});return new on({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:wce,isSigner:!1,isWritable:!1},{pubkey:DR,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){let r=Cl.AuthorizeNonceAccount,n=wr(r,{authorized:Er(e.newAuthorizedPubkey.toBuffer())});return new on({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){let i=Cl.AllocateWithSeed;r=wr(i,{base:Er(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Er(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=Cl.Allocate;r=wr(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new on({keys:n,programId:this.programId,data:r})}};Cs.programId=new Wt("11111111111111111111111111111111");var rzt=Hy-300,Dce=class t{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/t.chunkSize)+1+1)}static async load(e,r,n,i,o){{let d=await e.getMinimumBalanceForRentExemption(o.length),p=await e.getAccountInfo(n.publicKey,"confirmed"),m=null;if(p!==null){if(p.executable)return console.error("Program load failed, account is already executable"),!1;p.data.length!==o.length&&(m=m||new hn,m.add(Cs.allocate({accountPubkey:n.publicKey,space:o.length}))),p.owner.equals(i)||(m=m||new hn,m.add(Cs.assign({accountPubkey:n.publicKey,programId:i}))),p.lamports<d&&(m=m||new hn,m.add(Cs.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:d-p.lamports})))}else m=new hn().add(Cs.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:d>0?d:1,space:o.length,programId:i}));m!==null&&await oJe(e,m,[r,n],{commitment:"confirmed"})}let s=Q.struct([Q.u32("instruction"),Q.u32("offset"),Q.u32("bytesLength"),Q.u32("bytesLengthPadding"),Q.seq(Q.u8("byte"),Q.offset(Q.u32(),-8),"bytes")]),a=t.chunkSize,c=0,l=o,u=[];for(;l.length>0;){let d=l.slice(0,a),p=qt.alloc(a+16);s.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},p);let m=new hn().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:p});u.push(oJe(e,m,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await XFt(1e3/4),c+=a,l=l.slice(a)}await Promise.all(u);{let d=Q.struct([Q.u32("instruction")]),p=qt.alloc(d.span);d.encode({instruction:1},p);let m=new hn().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:DR,isSigner:!1,isWritable:!1}],programId:i,data:p}),h="processed",f=await e.sendTransaction(m,[r,n],{preflightCommitment:h}),{context:y,value:v}=await e.confirmTransaction({signature:f,lastValidBlockHeight:m.lastValidBlockHeight,blockhash:m.recentBlockhash},h);if(v.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(v)})`);for(;;){try{if(await e.getSlot({commitment:h})>y.slot)break}catch{}await new Promise(_=>setTimeout(_,Math.round(ZFt/2)))}}return!0}};Dce.chunkSize=rzt;var QEn=new Wt("BPFLoader2111111111111111111111111111111111");var ZEn=typeof globalThis.fetch=="function"?globalThis.fetch:async function(t,e){let r=typeof t=="string"&&t.slice(0,2)==="//"?"https:"+t:t;return await Cae(r,e)};var XEn={index:1,layout:Q.struct([Q.u32("typeIndex"),QS("deactivationSlot"),Q.nu64("lastExtendedSlot"),Q.u8("lastExtendedStartIndex"),Q.u8(),Q.seq(mr(),Q.offset(Q.u8(),-1),"authority")])};var ri=KS(XD(Wt),ze(),t=>new Wt(t)),vJe=eM([ze(),Dn("base64")]),jce=KS(XD(qt),vJe,t=>qt.from(t[0],"base64")),e3n=30*1e3;function _Je(t){return ts([Ee({jsonrpc:Dn("2.0"),id:ze(),result:t}),Ee({jsonrpc:Dn("2.0"),id:ze(),error:Ee({code:qy(),message:ze(),data:Et(IYe())})})])}var nzt=_Je(qy());function gn(t){return KS(_Je(t),nzt,e=>"error"in e?e:{...e,result:GS(e.result,t)})}function bu(t){return gn(Ee({context:Ee({slot:ce()}),value:t}))}function hM(t){return Ee({context:Ee({slot:ce()}),value:t})}var izt=Ee({foundation:ce(),foundationTerm:ce(),initial:ce(),taper:ce(),terminal:ce()}),t3n=gn(tt(rt(Ee({epoch:ce(),effectiveSlot:ce(),amount:ce(),postBalance:ce(),commission:Et(rt(ce()))})))),ozt=tt(Ee({slot:ce(),prioritizationFee:ce()})),szt=Ee({total:ce(),validator:ce(),foundation:ce(),epoch:ce()}),azt=Ee({epoch:ce(),slotIndex:ce(),slotsInEpoch:ce(),absoluteSlot:ce(),blockHeight:Et(ce()),transactionCount:Et(ce())}),czt=Ee({slotsPerEpoch:ce(),leaderScheduleSlotOffset:ce(),warmup:yu(),firstNormalEpoch:ce(),firstNormalSlot:ce()}),lzt=uce(ze(),tt(ce())),Wy=rt(ts([Ee({}),ze()])),uzt=Ee({err:Wy}),dzt=Dn("receivedSignature"),r3n=Ee({"solana-core":ze(),"feature-set":Et(ce())}),pzt=Ee({program:ze(),programId:ri,parsed:qy()}),mzt=Ee({programId:ri,accounts:tt(ri),data:ze()}),n3n=bu(Ee({err:rt(ts([Ee({}),ze()])),logs:rt(tt(ze())),accounts:Et(rt(tt(rt(Ee({executable:yu(),owner:ze(),lamports:ce(),data:tt(ze()),rentEpoch:Et(ce())}))))),unitsConsumed:Et(ce()),returnData:Et(rt(Ee({programId:ze(),data:eM([ze(),Dn("base64")])}))),innerInstructions:Et(rt(tt(Ee({index:ce(),instructions:tt(ts([pzt,mzt]))}))))})),i3n=bu(Ee({byIdentity:uce(ze(),tt(ce())),range:Ee({firstSlot:ce(),lastSlot:ce()})}));var o3n=gn(izt),s3n=gn(szt),a3n=gn(ozt),c3n=gn(azt),l3n=gn(czt),u3n=gn(lzt),d3n=gn(ce()),p3n=bu(Ee({total:ce(),circulating:ce(),nonCirculating:ce(),nonCirculatingAccounts:tt(ri)})),fzt=Ee({amount:ze(),uiAmount:rt(ce()),decimals:ce(),uiAmountString:Et(ze())}),m3n=bu(tt(Ee({address:ri,amount:ze(),uiAmount:rt(ce()),decimals:ce(),uiAmountString:Et(ze())}))),f3n=bu(tt(Ee({pubkey:ri,account:Ee({executable:yu(),owner:ri,lamports:ce(),data:jce,rentEpoch:ce()})}))),Mce=Ee({program:ze(),parsed:qy(),space:ce()}),h3n=bu(tt(Ee({pubkey:ri,account:Ee({executable:yu(),owner:ri,lamports:ce(),data:Mce,rentEpoch:ce()})}))),g3n=bu(tt(Ee({lamports:ce(),address:ri}))),qce=Ee({executable:yu(),owner:ri,lamports:ce(),data:jce,rentEpoch:ce()}),y3n=Ee({pubkey:ri,account:qce}),hzt=KS(ts([XD(qt),Mce]),ts([vJe,Mce]),t=>Array.isArray(t)?GS(t,jce):t),gzt=Ee({executable:yu(),owner:ri,lamports:ce(),data:hzt,rentEpoch:ce()}),b3n=Ee({pubkey:ri,account:gzt}),v3n=Ee({state:ts([Dn("active"),Dn("inactive"),Dn("activating"),Dn("deactivating")]),active:ce(),inactive:ce()}),_3n=gn(tt(Ee({signature:ze(),slot:ce(),err:Wy,memo:rt(ze()),blockTime:Et(rt(ce()))}))),S3n=gn(tt(Ee({signature:ze(),slot:ce(),err:Wy,memo:rt(ze()),blockTime:Et(rt(ce()))}))),w3n=Ee({subscription:ce(),result:hM(qce)}),yzt=Ee({pubkey:ri,account:qce}),x3n=Ee({subscription:ce(),result:hM(yzt)}),bzt=Ee({parent:ce(),slot:ce(),root:ce()}),A3n=Ee({subscription:ce(),result:bzt}),vzt=ts([Ee({type:ts([Dn("firstShredReceived"),Dn("completed"),Dn("optimisticConfirmation"),Dn("root")]),slot:ce(),timestamp:ce()}),Ee({type:Dn("createdBank"),parent:ce(),slot:ce(),timestamp:ce()}),Ee({type:Dn("frozen"),slot:ce(),timestamp:ce(),stats:Ee({numTransactionEntries:ce(),numSuccessfulTransactions:ce(),numFailedTransactions:ce(),maxTransactionsPerEntry:ce()})}),Ee({type:Dn("dead"),slot:ce(),timestamp:ce(),err:ze()})]),E3n=Ee({subscription:ce(),result:vzt}),R3n=Ee({subscription:ce(),result:hM(ts([uzt,dzt]))}),T3n=Ee({subscription:ce(),result:ce()}),I3n=Ee({pubkey:ze(),gossip:rt(ze()),tpu:rt(ze()),rpc:rt(ze()),version:rt(ze())}),aJe=Ee({votePubkey:ze(),nodePubkey:ze(),activatedStake:ce(),epochVoteAccount:yu(),epochCredits:tt(eM([ce(),ce(),ce()])),commission:ce(),lastVote:ce(),rootSlot:rt(ce())}),C3n=gn(Ee({current:tt(aJe),delinquent:tt(aJe)})),_zt=ts([Dn("processed"),Dn("confirmed"),Dn("finalized")]),Szt=Ee({slot:ce(),confirmations:rt(ce()),err:Wy,confirmationStatus:Et(_zt)}),O3n=bu(tt(rt(Szt))),N3n=gn(ce()),SJe=Ee({accountKey:ri,writableIndexes:tt(ce()),readonlyIndexes:tt(ce())}),Hce=Ee({signatures:tt(ze()),message:Ee({accountKeys:tt(ze()),header:Ee({numRequiredSignatures:ce(),numReadonlySignedAccounts:ce(),numReadonlyUnsignedAccounts:ce()}),instructions:tt(Ee({accounts:tt(ce()),data:ze(),programIdIndex:ce()})),recentBlockhash:ze(),addressTableLookups:Et(tt(SJe))})}),wJe=Ee({pubkey:ri,signer:yu(),writable:yu(),source:Et(ts([Dn("transaction"),Dn("lookupTable")]))}),xJe=Ee({accountKeys:tt(wJe),signatures:tt(ze())}),AJe=Ee({parsed:qy(),program:ze(),programId:ri}),EJe=Ee({accounts:tt(ri),data:ze(),programId:ri}),wzt=ts([EJe,AJe]),xzt=ts([Ee({parsed:qy(),program:ze(),programId:ze()}),Ee({accounts:tt(ze()),data:ze(),programId:ze()})]),RJe=KS(wzt,xzt,t=>"accounts"in t?GS(t,EJe):GS(t,AJe)),TJe=Ee({signatures:tt(ze()),message:Ee({accountKeys:tt(wJe),instructions:tt(RJe),recentBlockhash:ze(),addressTableLookups:Et(rt(tt(SJe)))})}),pM=Ee({accountIndex:ce(),mint:ze(),owner:Et(ze()),programId:Et(ze()),uiTokenAmount:fzt}),IJe=Ee({writable:tt(ri),readonly:tt(ri)}),gM=Ee({err:Wy,fee:ce(),innerInstructions:Et(rt(tt(Ee({index:ce(),instructions:tt(Ee({accounts:tt(ce()),data:ze(),programIdIndex:ce()}))})))),preBalances:tt(ce()),postBalances:tt(ce()),logMessages:Et(rt(tt(ze()))),preTokenBalances:Et(rt(tt(pM))),postTokenBalances:Et(rt(tt(pM))),loadedAddresses:Et(IJe),computeUnitsConsumed:Et(ce()),costUnits:Et(ce())}),Wce=Ee({err:Wy,fee:ce(),innerInstructions:Et(rt(tt(Ee({index:ce(),instructions:tt(RJe)})))),preBalances:tt(ce()),postBalances:tt(ce()),logMessages:Et(rt(tt(ze()))),preTokenBalances:Et(rt(tt(pM))),postTokenBalances:Et(rt(tt(pM))),loadedAddresses:Et(IJe),computeUnitsConsumed:Et(ce()),costUnits:Et(ce())}),XS=ts([Dn(0),Dn("legacy")]),Gy=Ee({pubkey:ze(),lamports:ce(),postBalance:rt(ce()),rewardType:rt(ze()),commission:Et(rt(ce()))}),P3n=gn(rt(Ee({blockhash:ze(),previousBlockhash:ze(),parentSlot:ce(),transactions:tt(Ee({transaction:Hce,meta:rt(gM),version:Et(XS)})),rewards:Et(tt(Gy)),blockTime:rt(ce()),blockHeight:rt(ce())}))),k3n=gn(rt(Ee({blockhash:ze(),previousBlockhash:ze(),parentSlot:ce(),rewards:Et(tt(Gy)),blockTime:rt(ce()),blockHeight:rt(ce())}))),D3n=gn(rt(Ee({blockhash:ze(),previousBlockhash:ze(),parentSlot:ce(),transactions:tt(Ee({transaction:xJe,meta:rt(gM),version:Et(XS)})),rewards:Et(tt(Gy)),blockTime:rt(ce()),blockHeight:rt(ce())}))),M3n=gn(rt(Ee({blockhash:ze(),previousBlockhash:ze(),parentSlot:ce(),transactions:tt(Ee({transaction:TJe,meta:rt(Wce),version:Et(XS)})),rewards:Et(tt(Gy)),blockTime:rt(ce()),blockHeight:rt(ce())}))),$3n=gn(rt(Ee({blockhash:ze(),previousBlockhash:ze(),parentSlot:ce(),transactions:tt(Ee({transaction:xJe,meta:rt(Wce),version:Et(XS)})),rewards:Et(tt(Gy)),blockTime:rt(ce()),blockHeight:rt(ce())}))),L3n=gn(rt(Ee({blockhash:ze(),previousBlockhash:ze(),parentSlot:ce(),rewards:Et(tt(Gy)),blockTime:rt(ce()),blockHeight:rt(ce())}))),B3n=gn(rt(Ee({blockhash:ze(),previousBlockhash:ze(),parentSlot:ce(),transactions:tt(Ee({transaction:Hce,meta:rt(gM)})),rewards:Et(tt(Gy)),blockTime:rt(ce())}))),U3n=gn(rt(Ee({blockhash:ze(),previousBlockhash:ze(),parentSlot:ce(),signatures:tt(ze()),blockTime:rt(ce())}))),F3n=gn(rt(Ee({slot:ce(),meta:rt(gM),blockTime:Et(rt(ce())),transaction:Hce,version:Et(XS)}))),z3n=gn(rt(Ee({slot:ce(),transaction:TJe,meta:rt(Wce),blockTime:Et(rt(ce())),version:Et(XS)}))),V3n=bu(Ee({blockhash:ze(),lastValidBlockHeight:ce()})),j3n=bu(yu()),Azt=Ee({slot:ce(),numTransactions:ce(),numSlots:ce(),samplePeriodSecs:ce()}),q3n=gn(tt(Azt)),H3n=bu(rt(Ee({feeCalculator:Ee({lamportsPerSignature:ce()})}))),W3n=gn(ze()),G3n=gn(ze()),Ezt=Ee({err:Wy,logs:tt(ze()),signature:ze()}),K3n=Ee({result:hM(Ezt),subscription:ce()});var $ce=class t{constructor(e){this._keypair=void 0,this._keypair=e??rJe()}static generate(){return new t(rJe())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");let n=e.slice(32,64);if(!r||!r.skipValidation){let i=e.slice(0,32),o=Tce(i);for(let s=0;s<32;s++)if(n[s]!==o[s])throw new Error("provided secretKey is invalid")}return new t({publicKey:n,secretKey:e})}static fromSeed(e){let r=Tce(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new t({publicKey:r,secretKey:n})}get publicKey(){return new Wt(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},NR=Object.freeze({CreateLookupTable:{index:0,layout:Q.struct([Q.u32("instruction"),QS("recentSlot"),Q.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:Q.struct([Q.u32("instruction")])},ExtendLookupTable:{index:2,layout:Q.struct([Q.u32("instruction"),QS(),Q.seq(mr(),Q.offset(Q.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Q.struct([Q.u32("instruction")])},CloseLookupTable:{index:4,layout:Q.struct([Q.u32("instruction")])}});var Lce=class{constructor(){}static createLookupTable(e){let[r,n]=Wt.findProgramAddressSync([e.authority.toBuffer(),ace().encode(e.recentSlot)],this.programId),i=NR.CreateLookupTable,o=wr(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Cs.programId,isSigner:!1,isWritable:!1}];return[new on({programId:this.programId,keys:s,data:o}),r]}static freezeLookupTable(e){let r=NR.FreezeLookupTable,n=wr(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new on({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){let r=NR.ExtendLookupTable,n=wr(r,{addresses:e.addresses.map(o=>o.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Cs.programId,isSigner:!1,isWritable:!1}),new on({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){let r=NR.DeactivateLookupTable,n=wr(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new on({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){let r=NR.CloseLookupTable,n=wr(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new on({programId:this.programId,keys:i,data:n})}};Lce.programId=new Wt("AddressLookupTab1e1111111111111111111111111");var aM=Object.freeze({RequestUnits:{index:0,layout:Q.struct([Q.u8("instruction"),Q.u32("units"),Q.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:Q.struct([Q.u8("instruction"),Q.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:Q.struct([Q.u8("instruction"),Q.u32("units")])},SetComputeUnitPrice:{index:3,layout:Q.struct([Q.u8("instruction"),QS("microLamports")])}}),Bce=class{constructor(){}static requestUnits(e){let r=aM.RequestUnits,n=wr(r,e);return new on({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){let r=aM.RequestHeapFrame,n=wr(r,e);return new on({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){let r=aM.SetComputeUnitLimit,n=wr(r,e);return new on({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){let r=aM.SetComputeUnitPrice,n=wr(r,{microLamports:BigInt(e.microLamports)});return new on({keys:[],programId:this.programId,data:n})}};Bce.programId=new Wt("ComputeBudget111111111111111111111111111111");var cJe=64,lJe=32,uJe=64,dJe=Q.struct([Q.u8("numSignatures"),Q.u8("padding"),Q.u16("signatureOffset"),Q.u16("signatureInstructionIndex"),Q.u16("publicKeyOffset"),Q.u16("publicKeyInstructionIndex"),Q.u16("messageDataOffset"),Q.u16("messageDataSize"),Q.u16("messageInstructionIndex")]),Uce=class t{constructor(){}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,instructionIndex:o}=e;wn(r.length===lJe,`Public Key must be ${lJe} bytes but received ${r.length} bytes`),wn(i.length===uJe,`Signature must be ${uJe} bytes but received ${i.length} bytes`);let s=dJe.span,a=s+r.length,c=a+i.length,l=1,u=qt.alloc(c+n.length),d=o??65535;return dJe.encode({numSignatures:l,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:s,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:d},u),u.fill(r,s),u.fill(i,a),u.fill(n,c),new on({keys:[],programId:t.programId,data:u})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;wn(r.length===cJe,`Private key must be ${cJe} bytes but received ${r.length} bytes`);try{let o=$ce.fromSecretKey(r),s=o.publicKey.toBytes(),a=zce(n,o.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:a,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};Uce.programId=new Wt("Ed25519SigVerify111111111111111111111111111");var Rzt=(t,e)=>{let r=sM.sign(t,e);return[r.toCompactRawBytes(),r.recovery]};sM.utils.isValidPrivateKey;var Tzt=sM.getPublicKey,pJe=32,Ace=20,mJe=64,Izt=11,Ece=Q.struct([Q.u8("numSignatures"),Q.u16("signatureOffset"),Q.u8("signatureInstructionIndex"),Q.u16("ethAddressOffset"),Q.u8("ethAddressInstructionIndex"),Q.u16("messageDataOffset"),Q.u16("messageDataSize"),Q.u8("messageInstructionIndex"),Q.blob(20,"ethAddress"),Q.blob(64,"signature"),Q.u8("recoveryId")]),Fce=class t{constructor(){}static publicKeyToEthAddress(e){wn(e.length===mJe,`Public key must be ${mJe} bytes but received ${e.length} bytes`);try{return qt.from($ae(Er(e))).slice(-Ace)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:i,recoveryId:o,instructionIndex:s}=e;return t.createInstructionWithEthAddress({ethAddress:t.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:o,instructionIndex:s})}static createInstructionWithEthAddress(e){let{ethAddress:r,message:n,signature:i,recoveryId:o,instructionIndex:s=0}=e,a;typeof r=="string"?r.startsWith("0x")?a=qt.from(r.substr(2),"hex"):a=qt.from(r,"hex"):a=r,wn(a.length===Ace,`Address must be ${Ace} bytes but received ${a.length} bytes`);let c=1+Izt,l=c,u=c+a.length,d=u+i.length+1,p=1,m=qt.alloc(Ece.span+n.length);return Ece.encode({numSignatures:p,signatureOffset:u,signatureInstructionIndex:s,ethAddressOffset:l,ethAddressInstructionIndex:s,messageDataOffset:d,messageDataSize:n.length,messageInstructionIndex:s,signature:Er(i),ethAddress:Er(a),recoveryId:o},m),m.fill(Er(n),Ece.span),new on({keys:[],programId:t.programId,data:m})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:i}=e;wn(r.length===pJe,`Private key must be ${pJe} bytes but received ${r.length} bytes`);try{let o=Er(r),s=Tzt(o,!1).slice(1),a=qt.from($ae(Er(n))),[c,l]=Rzt(a,o);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:c,recoveryId:l,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}};Fce.programId=new Wt("KeccakSecp256k11111111111111111111111111111");var CJe,Czt=new Wt("StakeConfig11111111111111111111111111111111");var MR=class{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}};CJe=MR;MR.default=new CJe(0,0,Wt.default);var vg=Object.freeze({Initialize:{index:0,layout:Q.struct([Q.u32("instruction"),qFt(),HFt()])},Authorize:{index:1,layout:Q.struct([Q.u32("instruction"),mr("newAuthorized"),Q.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:Q.struct([Q.u32("instruction")])},Split:{index:3,layout:Q.struct([Q.u32("instruction"),Q.ns64("lamports")])},Withdraw:{index:4,layout:Q.struct([Q.u32("instruction"),Q.ns64("lamports")])},Deactivate:{index:5,layout:Q.struct([Q.u32("instruction")])},Merge:{index:7,layout:Q.struct([Q.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:Q.struct([Q.u32("instruction"),mr("newAuthorized"),Q.u32("stakeAuthorizationType"),YS("authoritySeed"),mr("authorityOwner")])}}),Y3n=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),mM=class{constructor(){}static initialize(e){let{stakePubkey:r,authorized:n,lockup:i}=e,o=i||MR.default,s=vg.Initialize,a=wr(s,{authorized:{staker:Er(n.staker.toBuffer()),withdrawer:Er(n.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:Er(o.custodian.toBuffer())}}),c={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:DR,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new on(c)}static createAccountWithSeed(e){let r=new hn;r.add(Cs.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static createAccount(e){let r=new hn;r.add(Cs.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:i,lockup:o}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static delegate(e){let{stakePubkey:r,authorizedPubkey:n,votePubkey:i}=e,o=vg.Delegate,s=wr(o);return new hn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Lm,isSigner:!1,isWritable:!1},{pubkey:xce,isSigner:!1,isWritable:!1},{pubkey:Czt,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(e){let{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:o,custodianPubkey:s}=e,a=vg.Authorize,c=wr(a,{newAuthorized:Er(i.toBuffer()),stakeAuthorizationType:o.index}),l=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Lm,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&l.push({pubkey:s,isSigner:!0,isWritable:!1}),new hn().add({keys:l,programId:this.programId,data:c})}static authorizeWithSeed(e){let{stakePubkey:r,authorityBase:n,authoritySeed:i,authorityOwner:o,newAuthorizedPubkey:s,stakeAuthorizationType:a,custodianPubkey:c}=e,l=vg.AuthorizeWithSeed,u=wr(l,{newAuthorized:Er(s.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:Er(o.toBuffer())}),d=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:Lm,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new hn().add({keys:d,programId:this.programId,data:u})}static splitInstruction(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:o}=e,s=vg.Split,a=wr(s,{lamports:o});return new on({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,r){let n=new hn;return n.add(Cs.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:r,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e,r){let{stakePubkey:n,authorizedPubkey:i,splitStakePubkey:o,basePubkey:s,seed:a,lamports:c}=e,l=new hn;return l.add(Cs.allocate({accountPubkey:o,basePubkey:s,seed:a,space:this.space,programId:this.programId})),r&&r>0&&l.add(Cs.transfer({fromPubkey:e.authorizedPubkey,toPubkey:o,lamports:r})),l.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:i,splitStakePubkey:o,lamports:c}))}static merge(e){let{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:i}=e,o=vg.Merge,s=wr(o);return new hn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Lm,isSigner:!1,isWritable:!1},{pubkey:xce,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(e){let{stakePubkey:r,authorizedPubkey:n,toPubkey:i,lamports:o,custodianPubkey:s}=e,a=vg.Withdraw,c=wr(a,{lamports:o}),l=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Lm,isSigner:!1,isWritable:!1},{pubkey:xce,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&l.push({pubkey:s,isSigner:!0,isWritable:!1}),new hn().add({keys:l,programId:this.programId,data:c})}static deactivate(e){let{stakePubkey:r,authorizedPubkey:n}=e,i=vg.Deactivate,o=wr(i);return new hn().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Lm,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}};mM.programId=new Wt("Stake11111111111111111111111111111111111111");mM.space=200;var PR=Object.freeze({InitializeAccount:{index:0,layout:Q.struct([Q.u32("instruction"),WFt()])},Authorize:{index:1,layout:Q.struct([Q.u32("instruction"),mr("newAuthorized"),Q.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:Q.struct([Q.u32("instruction"),Q.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:Q.struct([Q.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:Q.struct([Q.u32("instruction"),GFt()])}}),J3n=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),fM=class t{constructor(){}static initializeAccount(e){let{votePubkey:r,nodePubkey:n,voteInit:i}=e,o=PR.InitializeAccount,s=wr(o,{voteInit:{nodePubkey:Er(i.nodePubkey.toBuffer()),authorizedVoter:Er(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Er(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:DR,isSigner:!1,isWritable:!1},{pubkey:Lm,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new on(a)}static createAccount(e){let r=new hn;return r.add(Cs.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:o}=e,s=PR.Authorize,a=wr(s,{newAuthorized:Er(i.toBuffer()),voteAuthorizationType:o.index}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Lm,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new hn().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:o,voteAuthorizationType:s,votePubkey:a}=e,c=PR.AuthorizeWithSeed,l=wr(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Er(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Er(o.toBuffer()),voteAuthorizationType:s.index}}),u=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Lm,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new hn().add({keys:u,programId:this.programId,data:l})}static withdraw(e){let{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:o}=e,s=PR.Withdraw,a=wr(s,{lamports:i}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new hn().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return t.withdraw(e)}static updateValidatorIdentity(e){let{votePubkey:r,authorizedWithdrawerPubkey:n,nodePubkey:i}=e,o=PR.UpdateValidatorIdentity,s=wr(o),a=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new hn().add({keys:a,programId:this.programId,data:s})}};fM.programId=new Wt("Vote111111111111111111111111111111111111111");fM.space=3762;var Q3n=new Wt("Va1idator1nfo111111111111111111111111111111"),Z3n=Ee({name:ze(),website:Et(ze()),details:Et(ze()),iconUrl:Et(ze()),keybaseUsername:Et(ze())});var X3n=new Wt("Vote111111111111111111111111111111111111111"),e5n=Q.struct([mr("nodePubkey"),mr("authorizedWithdrawer"),Q.u8("commission"),Q.nu64(),Q.seq(Q.struct([Q.nu64("slot"),Q.u32("confirmationCount")]),Q.offset(Q.u32(),-8),"votes"),Q.u8("rootSlotValid"),Q.nu64("rootSlot"),Q.nu64(),Q.seq(Q.struct([Q.nu64("epoch"),mr("authorizedVoter")]),Q.offset(Q.u32(),-8),"authorizedVoters"),Q.struct([Q.seq(Q.struct([mr("authorizedPubkey"),Q.nu64("epochOfLastAuthorizedSwitch"),Q.nu64("targetEpoch")]),32,"buf"),Q.nu64("idx"),Q.u8("isEmpty")],"priorVoters"),Q.nu64(),Q.seq(Q.struct([Q.nu64("epoch"),Q.nu64("credits"),Q.nu64("prevCredits")]),Q.offset(Q.u32(),-8),"epochCredits"),Q.struct([Q.nu64("slot"),Q.nu64("timestamp")],"lastTimestamp")]);var yM=class{constructor(e){this.organizationId=e.organizationId,this.client=e.client}async signAllTransactions(e,r,n){let i=new Wt(r),o=e.map(c=>this.getMessageToSign(c).toString("hex")),a=(await this.signRawPayloads(o,r,n))?.signatures?.map(c=>`${c?.r}${c?.s}`);for(let c in e)e[c]?.addSignature(i,Buffer.from(a[c],"hex"));return e}async addSignature(e,r,n){let i=new Wt(r),o=this.getMessageToSign(e),s=await this.signRawPayload(o.toString("hex"),r,n??this.organizationId),a=`${s?.r}${s?.s}`;e.addSignature(i,Buffer.from(a,"hex"))}async signMessage(e,r,n){let i=await this.signRawPayload(Buffer.from(e).toString("hex"),r,n);return Buffer.from(`${i?.r}${i?.s}`,"hex")}async signTransaction(e,r,n){let i=Buffer.from(e.serialize({requireAllSignatures:!1,verifySignatures:!1})).toString("hex"),o=await this.signTransactionImpl(i,r,n),s=Buffer.from(o,"hex");return"version"in e?dM.deserialize(s):hn.from(s)}async signTransactionImpl(e,r,n){if(gR(this.client)){let i=await this.client.signTransaction({type:"ACTIVITY_TYPE_SIGN_TRANSACTION_V2",organizationId:n??this.organizationId,timestampMs:String(Date.now()),parameters:{signWith:r,unsignedTransaction:e,type:"TRANSACTION_TYPE_SOLANA"}}),{activity:o}=i;return ug(o),dg(o?.result?.signTransactionResult?.signedTransaction)}else{let{activity:i,signedTransaction:o}=await this.client.signTransaction({...n!==void 0&&{organizationId:n},signWith:r,unsignedTransaction:e,type:"TRANSACTION_TYPE_SOLANA"});return ug(i),dg(o)}}async signRawPayload(e,r,n){if(gR(this.client)){let i=await this.client.signRawPayload({type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOAD_V2",organizationId:n??this.organizationId,timestampMs:String(Date.now()),parameters:{signWith:r,payload:e,encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE"}}),{activity:o}=i;return ug(o),dg(o?.result?.signRawPayloadResult)}else{let{activity:i,r:o,s,v:a}=await this.client.signRawPayload({...n!==void 0&&{organizationId:n},signWith:r,payload:e,encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE"});return ug(i),dg({r:o,s,v:a})}}async signRawPayloads(e,r,n){if(gR(this.client)){let i=await this.client.signRawPayloads({type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOADS",organizationId:n??this.organizationId,timestampMs:String(Date.now()),parameters:{signWith:r,payloads:e,encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE"}}),{activity:o}=i;return ug(o),dg(o?.result?.signRawPayloadsResult)}else{let{activity:i,signatures:o}=await this.client.signRawPayloads({...n!==void 0&&{organizationId:n},signWith:r,payloads:e,encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE"});return ug(i),dg({signatures:o})}}getMessageToSign(e){let r;return typeof e.serializeMessage=="function"?r=e.serializeMessage():r=Buffer.from(e.message.serialize()),r}};var Gce=null;function Ozt(){if(!Gce){if(!Mr.TURNKEY_API_PRIVATE_KEY||!Mr.TURNKEY_API_PUBLIC_KEY||!Mr.TURNKEY_ORGANIZATION_ID)throw new Error("wallet_config_missing: TURNKEY_API_PRIVATE_KEY, TURNKEY_API_PUBLIC_KEY, and TURNKEY_ORGANIZATION_ID are required");Gce=new Uy({apiBaseUrl:"https://api.turnkey.com",apiPrivateKey:Mr.TURNKEY_API_PRIVATE_KEY,apiPublicKey:Mr.TURNKEY_API_PUBLIC_KEY,defaultOrganizationId:Mr.TURNKEY_ORGANIZATION_ID})}return Gce}function Kce(){let e=Ozt().apiClient();if(!Mr.TURNKEY_ORGANIZATION_ID)throw new Error("wallet_config_missing: TURNKEY_ORGANIZATION_ID is required for signing");return new yM({organizationId:Mr.TURNKEY_ORGANIZATION_ID,client:e})}async function Yce(t){let e=new URL(`${k7}/ultra/v1/order`);e.searchParams.set("inputMint",t.inputMint),e.searchParams.set("outputMint",t.outputMint),e.searchParams.set("amount",t.amount),e.searchParams.set("taker",t.taker);let r=await fetch(e.toString(),{method:"GET",headers:{"x-api-key":Mr.JUPITER_API_KEY}});if(!r.ok){let i=await r.text().catch(()=>"no body");throw new Error(`jupiter_order_failed: HTTP ${r.status} \u2013 ${i}`)}let n=await r.json();if(!n.transaction)throw new Error(`jupiter_order_failed: response missing transaction field \u2013 ${JSON.stringify(n)}`);return n}async function Jce(t,e){let r=Buffer.from(t,"base64"),n,i,o=r[0];o<128?(n=o,i=1):(n=o&127|(r[1]&255)<<7,i=2);let s=i,a=s+n*64,c=r.subarray(a),u=await Kce().signMessage(new Uint8Array(c),e),d=Buffer.from(r);return Buffer.from(u).copy(d,s,0,64),d.toString("base64")}function Nzt(t){return new Promise(e=>setTimeout(e,t))}async function Qce(t){let e=`${k7}/ultra/v1/execute`,r=async()=>{let i=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":Mr.JUPITER_API_KEY},body:JSON.stringify({signedTransaction:t.signedTransaction,requestId:t.requestId})});if(!i.ok){let o=await i.text().catch(()=>"no body");throw new Error(`jupiter_execute_failed: HTTP ${i.status} \u2013 ${o}`)}return await i.json()},n=await r();if(n.code===-1006&&(await Nzt(2e3),n=await r()),n.status!=="Success")throw new Error(`jupiter_execute_failed: status=${n.status} code=${n.code} sig=${n.signature}`);return n}function ew(t){let e=t.toUpperCase();return Wl.find(r=>r.symbol.toUpperCase()===e)}var Pzt="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",kzt="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",OJe=10000000n;function Zce(){return Mr.NODE_ENV==="production"?wCe:xCe}function NJe(){let t=Mr.SOLANA_RPC_URL||"https://api.devnet.solana.com";return NN(t)}async function Dzt(t,e){let r=Gre(),[n]=await kBe({programAddress:ul(kzt),seeds:[r.encode(ul(t)),r.encode(ul(Pzt)),r.encode(ul(e))]});return n}async function PJe(t){return(await NJe().getBalance(ul(t)).send()).value}async function Mzt(t){let e=NJe();try{let r=Zce(),n=await Dzt(t,r),i=await e.getTokenAccountBalance(ul(n)).send();return BigInt(i.value.amount)}catch{return 0n}}async function kJe(t){let e=ew(t.stockSymbol);if(!e)throw new Error(`stock_not_found: ${t.stockSymbol} is not a supported stock`);let r=await Gt.select().from(w0).where(gr(w0.agentId,t.agentId)).limit(1);if(r.length===0)throw new Error("wallet_not_found: no wallet for this agent");let n=r[0],i=new Ko(t.usdcAmount);if(i.lte(0))throw new Error("invalid_amount: usdcAmount must be > 0");if(i.decimalPlaces()>6)throw new Error("invalid_amount: usdcAmount has more than 6 decimal places");let o=i.mul(1e6).toFixed(0),[s,a]=await Promise.all([PJe(n.publicKey),Mzt(n.publicKey)]);if(s<OJe)throw new Error(`insufficient_sol_for_fees: need at least 0.01 SOL, have ${new Ko(s.toString()).div(1e9).toFixed(9)} SOL`);let c=BigInt(o);if(a<c)throw new Error(`insufficient_usdc_balance: need ${i.toFixed(6)} USDC, have ${new Ko(a.toString()).div(1e6).toFixed(6)} USDC`);let l=await Yce({inputMint:Zce(),outputMint:e.mintAddress,amount:o,taker:n.publicKey}),u=await Jce(l.transaction,n.publicKey),d=await Qce({signedTransaction:u,requestId:l.requestId}),p=new Ko(d.outputAmountResult||l.outAmount).div(new Ko(10).pow(e.decimals)),m=new Ko(t.usdcAmount),h=m.div(p),[f]=await Gt.insert(Gr).values({agentId:t.agentId,side:"buy",stockMintAddress:e.mintAddress,stockSymbol:e.symbol,stockQuantity:p.toFixed(9),usdcAmount:m.toFixed(6),pricePerToken:h.toFixed(6),txSignature:d.signature,jupiterRouteInfo:{requestId:l.requestId,swapType:l.swapType,slippageBps:l.slippageBps,inAmount:l.inAmount,outAmount:l.outAmount,inputAmountResult:d.inputAmountResult,outputAmountResult:d.outputAmountResult},status:"confirmed"}).returning();return await Gt.insert(dr).values({agentId:t.agentId,mintAddress:e.mintAddress,symbol:e.symbol,quantity:p.toFixed(9),averageCostBasis:h.toFixed(6)}).onConflictDoUpdate({target:[dr.agentId,dr.mintAddress],set:{quantity:Z`(${dr.quantity}::numeric + ${p.toFixed(9)}::numeric)::numeric(20,9)`,averageCostBasis:Z`(
          (${dr.quantity}::numeric * ${dr.averageCostBasis}::numeric + ${p.toFixed(9)}::numeric * ${h.toFixed(6)}::numeric)
          / (${dr.quantity}::numeric + ${p.toFixed(9)}::numeric)
        )::numeric(20,6)`,updatedAt:new Date}}),{tradeId:f.id,txSignature:d.signature,status:"confirmed",side:"buy",stockSymbol:e.symbol,stockQuantity:p.toFixed(9),usdcAmount:m.toFixed(6),pricePerToken:h.toFixed(6)}}async function DJe(t){let e=ew(t.stockSymbol);if(!e)throw new Error(`stock_not_found: ${t.stockSymbol} is not a supported stock`);let r=await Gt.select().from(w0).where(gr(w0.agentId,t.agentId)).limit(1);if(r.length===0)throw new Error("wallet_not_found: no wallet for this agent");let n=r[0];if(!t.stockQuantity)throw new Error("invalid_amount: stockQuantity is required for sell orders");let i=new Ko(t.stockQuantity);if(i.lte(0))throw new Error("invalid_amount: stockQuantity must be > 0");let o=await Gt.select().from(dr).where(fs(gr(dr.agentId,t.agentId),gr(dr.mintAddress,e.mintAddress))).limit(1);if(o.length===0)throw new Error(`insufficient_stock_balance: no position in ${e.symbol}`);let s=o[0],a=new Ko(s.quantity);if(a.lt(i))throw new Error(`insufficient_stock_balance: want to sell ${i.toFixed(9)} ${e.symbol} but only hold ${a.toFixed(9)}`);let c=i.mul(new Ko(10).pow(e.decimals)).toFixed(0),l=await Yce({inputMint:e.mintAddress,outputMint:Zce(),amount:c,taker:n.publicKey}),u=await PJe(n.publicKey);if(u<OJe)throw new Error(`insufficient_sol_for_fees: need at least 0.01 SOL, have ${new Ko(u.toString()).div(1e9).toFixed(9)} SOL`);let d=await Jce(l.transaction,n.publicKey),p=await Qce({signedTransaction:d,requestId:l.requestId}),m=new Ko(p.outputAmountResult||l.outAmount).div(1e6),h=m.div(i),[f]=await Gt.insert(Gr).values({agentId:t.agentId,side:"sell",stockMintAddress:e.mintAddress,stockSymbol:e.symbol,stockQuantity:i.toFixed(9),usdcAmount:m.toFixed(6),pricePerToken:h.toFixed(6),txSignature:p.signature,jupiterRouteInfo:{requestId:l.requestId,swapType:l.swapType,slippageBps:l.slippageBps,inAmount:l.inAmount,outAmount:l.outAmount,inputAmountResult:p.inputAmountResult,outputAmountResult:p.outputAmountResult},status:"confirmed"}).returning(),y=a.minus(i);return y.lte(0)?await Gt.delete(dr).where(gr(dr.id,s.id)):await Gt.update(dr).set({quantity:y.toFixed(9),updatedAt:new Date}).where(gr(dr.id,s.id)),{tradeId:f.id,txSignature:p.signature,status:"confirmed",side:"sell",stockSymbol:e.symbol,stockQuantity:i.toFixed(9),usdcAmount:m.toFixed(6),pricePerToken:h.toFixed(6)}}var $zt=["trade_executed","round_started","round_completed","price_update","agent_decision","whale_alert","signal_fired","debate_started","prediction_created","sentiment_shift","price_deviation","order_triggered","trade_outcome_recorded"];function Lzt(){let t=Date.now().toString(36),e=Math.random().toString(36).slice(2,8);return`evt_${t}_${e}`}function Bzt(){return`sub_${Math.random().toString(36).slice(2,10)}`}var Xce=class t{buffer=[];subscribers=new Map;emissionTimestamps=[];totalEmitted=0;lastEventAt=null;startedAt=Date.now();emit(e,r){let n={id:Lzt(),type:e,timestamp:new Date().toISOString(),data:r};this.buffer.push(n),this.buffer.length>100&&this.buffer.shift();let i=Date.now();this.totalEmitted++,this.lastEventAt=n.timestamp,this.emissionTimestamps.push(i);let o=i-6e4;for(;this.emissionTimestamps.length>0&&this.emissionTimestamps[0]<o;)this.emissionTimestamps.shift();for(let s of this.subscribers.values())if(!(s.typeFilter&&!s.typeFilter.includes(e)))try{s.callback(n)}catch(a){console.error(`[EventBus] Subscriber ${s.id} threw:`,a)}return n}subscribe(e,r){let n=Bzt();return this.subscribers.set(n,{id:n,callback:e,typeFilter:r??null,createdAt:Date.now()}),n}unsubscribe(e){return this.subscribers.delete(e)}getRecentEvents(e,r,n=100){let i=[...this.buffer];if(e){let o=new Date(e).getTime();Number.isNaN(o)||(i=i.filter(s=>new Date(s.timestamp).getTime()>o))}if(r&&r.length>0){let o=new Set(r);i=i.filter(s=>o.has(s.type))}return i.reverse().slice(0,n)}getLatestEvents(e=10){return[...this.buffer].reverse().slice(0,e)}getStats(){let e=Date.now(),r=e-6e4,n=this.buffer.filter(o=>new Date(o.timestamp).getTime()>r),i={};for(let o of n)i[o.type]=(i[o.type]??0)+1;for(;this.emissionTimestamps.length>0&&this.emissionTimestamps[0]<r;)this.emissionTimestamps.shift();return{activeConnections:this.subscribers.size,totalEventsEmitted:this.totalEmitted,eventsLastMinute:this.emissionTimestamps.length,eventsByType:i,bufferSize:this.buffer.length,bufferCapacity:100,lastEventAt:this.lastEventAt,uptimeMs:e-this.startedAt}}static formatSSE(e){let r=[];r.push(`id: ${e.id}`),r.push(`event: ${e.type}`);let n=JSON.stringify({...e.data,_meta:{eventId:e.id,type:e.type,timestamp:e.timestamp}});return r.push(`data: ${n}`),r.join(`
`)+`

`}static formatHeartbeat(){return`:heartbeat ${new Date().toISOString()}

`}static getChannelDescriptions(){return[{type:"trade_executed",description:"Fired when any agent executes a buy or sell trade"},{type:"round_started",description:"Fired when a new automated trading round begins"},{type:"round_completed",description:"Fired when a trading round finishes with all agent results"},{type:"price_update",description:"Fired when market prices are refreshed from Jupiter"},{type:"agent_decision",description:"Fired for each individual agent decision with full reasoning"},{type:"whale_alert",description:"Fired when a large position change or conviction spike is detected"},{type:"signal_fired",description:"Fired when a technical indicator triggers a signal (RSI, MACD, etc.)"},{type:"debate_started",description:"Fired when agents begin a structured debate about a stock"},{type:"prediction_created",description:"Fired when an agent publishes a new price prediction"},{type:"sentiment_shift",description:"Fired when overall market sentiment changes direction"}]}static isValidEventType(e){return $zt.includes(e)}static parseTypeFilter(e){return e.split(",").map(r=>r.trim()).filter(r=>t.isValidEventType(r))}},ele=new Xce;import{createHmac as Uzt,randomBytes as LJe}from"crypto";var tle=3,Fzt=60,zzt=1e4,MJe=200,Vzt=500,jzt=new Map,rle=[],nle=[],$Je={},qzt=0,Hzt=0,Wzt=0,bM=new Map;function ile(t,e,r){let n={id:`evt_${Date.now()}_${LJe(4).toString("hex")}`,type:t,timestamp:new Date().toISOString(),data:e,metadata:{...r,severity:r.severity??Kzt(t)}};rle.unshift(n),rle.length>MJe&&(rle.length=MJe),$Je[t]=($Je[t]??0)+1;let i=Gzt(n);i.length>0&&console.log(`[AlertWebhooks] Emitting ${t} event ${n.id} to ${i.length} subscribers`);for(let o of i)zJe(o,n).catch(s=>{console.error(`[AlertWebhooks] Delivery failed for ${o.id}: ${s instanceof Error?s.message:String(s)}`)});return n}function BJe(t){return ile("trade_executed",{agentId:t.agentId,agentName:t.agentName,action:t.action,symbol:t.symbol,quantity:t.quantity,confidence:t.confidence,reasoning:t.reasoning},{roundId:t.roundId,agentId:t.agentId,symbol:t.symbol})}function UJe(t){return ile("round_completed",{results:t.results,agentCount:t.results.length,errorCount:t.errors.length,circuitBreakerActivations:t.circuitBreakerActivations},{roundId:t.roundId,severity:t.errors.length>0?"warning":"info"})}function FJe(t){return ile("agent_disagreement",t,{roundId:t.roundId,symbol:t.symbol})}async function zJe(t,e,r=1){if(!Yzt(t.id)){console.warn(`[AlertWebhooks] Rate limited: ${t.id} (${t.url})`);return}let n={id:`dlv_${Date.now()}_${LJe(4).toString("hex")}`,subscriptionId:t.id,eventId:e.id,url:t.url,status:"pending",attempt:r,maxAttempts:tle,createdAt:new Date().toISOString()},i=JSON.stringify({event:e.type,id:e.id,timestamp:e.timestamp,data:e.data,metadata:e.metadata}),o=Uzt("sha256",t.secret).update(i).digest("hex");try{let s=await fetch(t.url,{method:"POST",headers:{"Content-Type":"application/json","X-MoltApp-Signature":`sha256=${o}`,"X-MoltApp-Event":e.type,"X-MoltApp-Delivery-Id":n.id,"X-MoltApp-Timestamp":e.timestamp,"User-Agent":"MoltApp-Webhooks/1.0"},body:i,signal:AbortSignal.timeout(zzt)});if(n.httpStatus=s.status,qzt++,s.ok)n.status="delivered",n.deliveredAt=new Date().toISOString(),t.deliveryCount++,t.lastDeliveryAt=n.deliveredAt,Hzt++,Jzt(t.id);else throw new Error(`HTTP ${s.status}: ${await s.text().catch(()=>"no body")}`)}catch(s){let a=s instanceof Error?s.message:String(s);if(n.error=a,n.status="failed",Wzt++,r<tle){let c=Math.pow(2,r)*1e3+Math.random()*1e3;return console.warn(`[AlertWebhooks] Delivery failed for ${t.id}, retrying in ${Math.round(c)}ms (attempt ${r}/${tle}): ${a}`),await new Promise(l=>setTimeout(l,c)),zJe(t,e,r+1)}n.status="dead_letter",nle.push(n),nle.length>Vzt&&nle.shift(),t.failureCount++,t.lastFailureAt=new Date().toISOString(),t.failureCount>=10&&(t.active=!1,console.error(`[AlertWebhooks] Auto-deactivated subscription ${t.id} after ${t.failureCount} failures`)),console.error(`[AlertWebhooks] Dead letter for ${t.id}: ${a}`)}}function Gzt(t){let e=[];for(let r of jzt.values())r.active&&r.events.includes(t.type)&&(r.agentFilter&&r.agentFilter.length>0&&t.metadata.agentId&&!r.agentFilter.includes(t.metadata.agentId)||r.symbolFilter&&r.symbolFilter.length>0&&t.metadata.symbol&&!r.symbolFilter.includes(t.metadata.symbol)||e.push(r));return e}function Kzt(t){switch(t){case"circuit_breaker_triggered":return"warning";case"whale_move":return"warning";case"agent_disagreement":return"info";case"new_high":return"info";default:return"info"}}function Yzt(t){let r=Date.now()-6e4,n=bM.get(t)??[];return n=n.filter(i=>i>r),bM.set(t,n),n.length<Fzt}function Jzt(t){let e=bM.get(t)??[];e.push(Date.now()),bM.set(t,e)}WJe();_M();var iVt=0,oVt=0,sVt=0,aVt=0,cVt=0,GJe=0,xM=[],lVt=null,KJe={},YJe={},ole=[],JJe=100,QJe=500,ZJe=0;function Sg(){return process.env.TRADING_MODE?.toLowerCase()==="live"?"live":"paper"}async function eQe(t){let e=Date.now(),r=t.modeOverride??Sg(),n={success:!1,mode:r,agentId:t.agentId,agentName:t.agentName,decision:t.decision,durationMs:0};try{if(t.decision.action==="hold")return n.success=!0,n.durationMs=Date.now()-e,await UR(t.agentId,t.roundId,"executed",void 0,void 0),sle(n),n;if(!ew(t.decision.symbol))return n.error=`Stock not found: ${t.decision.symbol}`,n.errorCode="stock_not_found",n.durationMs=Date.now()-e,await UR(t.agentId,t.roundId,"failed",void 0,n.error),sle(n),n;if(console.log(`[TradeExecutor] Executing ${t.decision.action} for ${t.agentName}: ${t.decision.quantity} ${t.decision.symbol} (mode: ${r}, round: ${t.roundId})`),r==="live")n.tradeResult=await uVt(t),n.success=!0,oVt++,await UR(t.agentId,t.roundId,"executed",n.tradeResult.txSignature,void 0),GJe+=parseFloat(n.tradeResult.usdcAmount),ele.emit("trade_executed",{agentId:t.agentId,agentName:t.agentName,symbol:t.decision.symbol,action:t.decision.action,quantity:t.decision.quantity,price:parseFloat(n.tradeResult.pricePerToken),confidence:t.decision.confidence,reasoning:t.decision.reasoning}),BJe({agentId:t.agentId,agentName:t.agentName,action:t.decision.action,symbol:t.decision.symbol,quantity:t.decision.quantity,confidence:t.decision.confidence,reasoning:t.decision.reasoning,roundId:t.roundId}),$R("live_trade_executed",`${t.agentName} ${t.decision.action} ${t.decision.quantity} ${t.decision.symbol} @ ${n.tradeResult.pricePerToken}`,t.agentId,t.roundId,{txSignature:n.tradeResult.txSignature,usdcAmount:n.tradeResult.usdcAmount,stockQuantity:n.tradeResult.stockQuantity});else{let o=await dVt(t);n.paperTradeId=o.paperTradeId,n.success=!0,sVt++,await UR(t.agentId,t.roundId,"executed_paper",o.paperTradeId,void 0),GJe+=o.usdcAmount,ele.emit("trade_executed",{agentId:t.agentId,agentName:t.agentName,symbol:t.decision.symbol,action:t.decision.action,quantity:t.decision.quantity,price:o.pricePerToken,confidence:t.decision.confidence,reasoning:t.decision.reasoning}),$R("paper_trade_executed",`${t.agentName} PAPER ${t.decision.action} ${t.decision.quantity} ${t.decision.symbol} @ ${o.pricePerToken.toFixed(6)}`,t.agentId,t.roundId,{paperTradeId:o.paperTradeId})}aVt++}catch(i){let o=i instanceof Error?i.message:String(i),s=fVt(o);n.error=o,n.errorCode=s,cVt++,console.error(`[TradeExecutor] Execution failed for ${t.agentName}: ${o}`),await UR(t.agentId,t.roundId,"failed",void 0,o);let a=HJe({agentId:t.agentId,side:t.decision.action,symbol:t.decision.symbol,quantity:String(t.decision.quantity),error:o,errorCode:s,roundId:t.roundId});n.recoveryId=a.recoveryId,LR(`Trade execution failed: ${t.decision.action} ${t.decision.quantity} ${t.decision.symbol}`,t.agentId,o,t.roundId,{errorCode:s,recoveryId:a.recoveryId})}return n.durationMs=Date.now()-e,iVt++,sle(n),n}async function uVt(t){if(t.decision.action==="buy")return await kJe({agentId:t.agentId,stockSymbol:t.decision.symbol,usdcAmount:String(t.decision.quantity)});if(t.decision.action==="sell")return await DJe({agentId:t.agentId,stockSymbol:t.decision.symbol,usdcAmount:"0",stockQuantity:String(t.decision.quantity)});throw new Error(`invalid_action: ${t.decision.action}`)}async function dVt(t){let e=ew(t.decision.symbol);if(!e)throw new Error(`stock_not_found: ${t.decision.symbol}`);let r=await mVt(e.mintAddress,e.symbol);ZJe++;let n=`paper_${Date.now()}_${ZJe.toString(36)}`,i,o;if(t.decision.action==="buy")i=t.decision.quantity,o=i/r,await Gt.insert(Gr).values({agentId:t.agentId,side:"buy",stockMintAddress:e.mintAddress,stockSymbol:e.symbol,stockQuantity:o.toFixed(9),usdcAmount:i.toFixed(6),pricePerToken:r.toFixed(6),txSignature:n,jupiterRouteInfo:{mode:"paper",roundId:t.roundId,confidence:t.decision.confidence},status:"confirmed"}),await Gt.insert(dr).values({agentId:t.agentId,mintAddress:e.mintAddress,symbol:e.symbol,quantity:o.toFixed(9),averageCostBasis:r.toFixed(6)}).onConflictDoUpdate({target:[dr.agentId,dr.mintAddress],set:{quantity:Z`(${dr.quantity}::numeric + ${o.toFixed(9)}::numeric)::numeric(20,9)`,averageCostBasis:Z`(
            (${dr.quantity}::numeric * ${dr.averageCostBasis}::numeric + ${o.toFixed(9)}::numeric * ${r.toFixed(6)}::numeric)
            / NULLIF(${dr.quantity}::numeric + ${o.toFixed(9)}::numeric, 0)
          )::numeric(20,6)`,updatedAt:new Date}});else if(t.decision.action==="sell"){o=t.decision.quantity,i=o*r;let s=await Gt.select().from(dr).where(fs(gr(dr.agentId,t.agentId),gr(dr.mintAddress,e.mintAddress))).limit(1);if(s.length===0)throw new Error(`insufficient_stock_balance: no position in ${e.symbol}`);let a=parseFloat(s[0].quantity);a<o&&(o=a,i=o*r),await Gt.insert(Gr).values({agentId:t.agentId,side:"sell",stockMintAddress:e.mintAddress,stockSymbol:e.symbol,stockQuantity:o.toFixed(9),usdcAmount:i.toFixed(6),pricePerToken:r.toFixed(6),txSignature:n,jupiterRouteInfo:{mode:"paper",roundId:t.roundId,confidence:t.decision.confidence},status:"confirmed"});let c=a-o;c<=1e-9?await Gt.delete(dr).where(gr(dr.id,s[0].id)):await Gt.update(dr).set({quantity:c.toFixed(9),updatedAt:new Date}).where(gr(dr.id,s[0].id))}else throw new Error(`invalid_action: ${t.decision.action}`);return{paperTradeId:n,pricePerToken:r,usdcAmount:i,stockQuantity:o}}var XJe=new Map,pVt=5e3;async function mVt(t,e){let r=XJe.get(t);if(r&&Date.now()-r.fetchedAt<pVt)return r.price;try{let s=process.env.JUPITER_API_KEY,a={};s&&(a["x-api-key"]=s);let c=await fetch(`https://api.jup.ag/price/v3?ids=${t}`,{headers:a,signal:AbortSignal.timeout(5e3)});if(c.ok){let u=(await c.json()).data?.[t];if(u?.price){let d=parseFloat(u.price);return XJe.set(t,{price:d,fetchedAt:Date.now()}),d}}}catch{}let i={AAPLx:178.5,AMZNx:185.2,GOOGLx:142.8,METAx:505.3,MSFTx:415.6,NVDAx:890.5,TSLAx:245.8,SPYx:502.1,QQQx:435.7,COINx:205.4,MSTRx:1685,HOODx:22.8,NFLXx:628.9,PLTRx:24.5,GMEx:17.8}[e]??100,o=1+(Math.random()-.5)*.02;return Math.round(i*o*100)/100}async function UR(t,e,r,n,i){try{let o=await Gt.select().from(zr).where(fs(gr(zr.agentId,t),gr(zr.roundId,e))).limit(1);if(o.length>0){let s={executed:r};n&&(s.txSignature=n),i&&(s.executionError=i),await Gt.update(zr).set(s).where(gr(zr.id,o[0].id))}}catch(o){console.warn(`[TradeExecutor] Failed to update decision status: ${o instanceof Error?o.message:String(o)}`)}}function sle(t){let e=KJe[t.agentId]??{total:0,success:0,failed:0};if(e.total++,t.success?e.success++:e.failed++,KJe[t.agentId]=e,t.decision.action!=="hold"){let r=YJe[t.decision.symbol]??{buys:0,sells:0,volumeUSDC:0};t.decision.action==="buy"?r.buys++:r.sells++,t.tradeResult&&(r.volumeUSDC+=parseFloat(t.tradeResult.usdcAmount)),YJe[t.decision.symbol]=r}xM.push(t.durationMs),xM.length>QJe&&(xM=xM.slice(-QJe)),ole.unshift(t),ole.length>JJe&&(ole.length=JJe),lVt=new Date().toISOString()}function fVt(t){let e=[[/insufficient_usdc_balance/,"insufficient_usdc_balance"],[/insufficient_sol_for_fees/,"insufficient_sol_for_fees"],[/insufficient_stock_balance/,"insufficient_stock_balance"],[/stock_not_found/,"stock_not_found"],[/wallet_not_found/,"wallet_not_found"],[/invalid_amount/,"invalid_amount"],[/jupiter_order_failed/,"jupiter_order_failed"],[/jupiter_execute_failed/,"jupiter_execute_failed"],[/timeout/i,"rpc_timeout"],[/rate.?limit/i,"rate_limited"],[/network/i,"network_error"]];for(let[r,n]of e)if(r.test(t))return n;return"unknown_error"}wN();var ale=null,hVt=0,gVt=0,rQe=0,yVt=null,bVt=process.env.TRADING_ROUNDS_TABLE??"moltapp-trading-rounds",nQe=process.env.AGENT_STATE_TABLE??"moltapp-agent-state",iQe=2160*60*60;function lle(){return ale||(ale=new Vi({region:process.env.AWS_REGION??"us-east-1"})),ale}function oQe(){return!!(process.env.TRADING_ROUNDS_TABLE||process.env.AWS_LAMBDA_FUNCTION_NAME)}async function sQe(t){if(!oQe())return{success:!0};try{let e=lle(),r=t.results.map(c=>({agentId:c.agentId,agentName:c.agentName,action:c.decision.action,symbol:c.decision.symbol,quantity:c.decision.quantity,reasoning:c.decision.reasoning,confidence:c.decision.confidence,executed:c.executed,executionError:c.executionError,txSignature:c.executionDetails?.txSignature,filledPrice:c.executionDetails?.filledPrice,usdcAmount:c.executionDetails?.usdcAmount})),n=AVt(t.results),i=EVt(t.results,t.errors),o=Math.floor(Date.now()/1e3)+iQe,s={roundId:t.roundId,timestamp:t.timestamp,durationMs:t.durationMs,tradingMode:t.tradingMode,results:r,errors:t.errors,circuitBreakerActivations:t.circuitBreakerActivations.length,lockSkipped:t.lockSkipped,consensus:n,summary:i,ttl:o};await e.send(new uh({TableName:bVt,Item:SVt(s)})),hVt++;let a=t.results.map(async c=>{let l=t.portfolioSnapshots?.get(c.agentId);await vVt({agentId:c.agentId,result:c,roundId:t.roundId,timestamp:t.timestamp,portfolio:l})});return await Promise.allSettled(a),yVt=new Date().toISOString(),{success:!0}}catch(e){rQe++;let r=e instanceof Error?e.message:String(e);return console.error(`[DynamoPersister] Failed to persist round: ${r}`),{success:!1,error:r}}}async function vVt(t){try{let e=lle(),r=await _Vt(t.agentId),n=(r?.totalDecisions??0)+1,i=(r?.totalTrades??0)+(t.result.decision.action!=="hold"&&t.result.executed?1:0),o=t.result.decision.action==="hold"?(r?.consecutiveHolds??0)+1:0,s=t.result.executionError?(r?.consecutiveErrors??0)+1:0,a=Math.floor(Date.now()/1e3)+iQe,c={agentId:t.agentId,status:s>=3?"error":"active",lastTradeTimestamp:t.timestamp,lastAction:t.result.decision.action,lastSymbol:t.result.decision.symbol,lastConfidence:t.result.decision.confidence,totalDecisions:n,totalTrades:i,consecutiveHolds:o,consecutiveErrors:s,lastRoundId:t.roundId,portfolioValue:t.portfolio?.value??r?.portfolioValue??1e4,cashBalance:t.portfolio?.cash??r?.cashBalance??1e4,positionsCount:t.portfolio?.positionsCount??r?.positionsCount??0,totalPnlPercent:t.portfolio?.pnlPercent??r?.totalPnlPercent??0,updatedAt:t.timestamp,ttl:a};await e.send(new uh({TableName:nQe,Item:wVt(c)})),gVt++}catch(e){rQe++,console.warn(`[DynamoPersister] Failed to persist agent state for ${t.agentId}: ${e instanceof Error?e.message:String(e)}`)}}async function _Vt(t){if(!oQe())return null;try{let r=await lle().send(new h1({TableName:nQe,Key:{agentId:{S:t}}}));return r.Item?xVt(r.Item):null}catch(e){return console.error(`[DynamoPersister] Failed to get agent state: ${e instanceof Error?e.message:String(e)}`),null}}function SVt(t){return{roundId:{S:t.roundId},timestamp:{S:t.timestamp},durationMs:{N:String(t.durationMs)},tradingMode:{S:t.tradingMode},results:{S:JSON.stringify(t.results)},errors:{SS:t.errors.length>0?t.errors:["none"]},circuitBreakerActivations:{N:String(t.circuitBreakerActivations)},lockSkipped:{BOOL:t.lockSkipped},consensus:{S:t.consensus},summary:{S:t.summary},ttl:{N:String(t.ttl)}}}function wVt(t){return{agentId:{S:t.agentId},status:{S:t.status},lastTradeTimestamp:{S:t.lastTradeTimestamp},lastAction:{S:t.lastAction},lastSymbol:{S:t.lastSymbol},lastConfidence:{N:String(t.lastConfidence)},totalDecisions:{N:String(t.totalDecisions)},totalTrades:{N:String(t.totalTrades)},consecutiveHolds:{N:String(t.consecutiveHolds)},consecutiveErrors:{N:String(t.consecutiveErrors)},lastRoundId:{S:t.lastRoundId},portfolioValue:{N:String(t.portfolioValue)},cashBalance:{N:String(t.cashBalance)},positionsCount:{N:String(t.positionsCount)},totalPnlPercent:{N:String(t.totalPnlPercent)},updatedAt:{S:t.updatedAt},ttl:{N:String(t.ttl)}}}function xVt(t){return{agentId:t.agentId?.S??"",status:t.status?.S??"active",lastTradeTimestamp:t.lastTradeTimestamp?.S??"",lastAction:t.lastAction?.S??"hold",lastSymbol:t.lastSymbol?.S??"",lastConfidence:Number(t.lastConfidence?.N??0),totalDecisions:Number(t.totalDecisions?.N??0),totalTrades:Number(t.totalTrades?.N??0),consecutiveHolds:Number(t.consecutiveHolds?.N??0),consecutiveErrors:Number(t.consecutiveErrors?.N??0),lastRoundId:t.lastRoundId?.S??"",portfolioValue:Number(t.portfolioValue?.N??1e4),cashBalance:Number(t.cashBalance?.N??1e4),positionsCount:Number(t.positionsCount?.N??0),totalPnlPercent:Number(t.totalPnlPercent?.N??0),updatedAt:t.updatedAt?.S??"",ttl:Number(t.ttl?.N??0)}}function AVt(t){let e=t.filter(o=>o.decision.action!=="hold");if(e.length===0)return"no_trades";let r=e.map(o=>o.decision.action),n=r.filter(o=>o==="buy").length,i=r.filter(o=>o==="sell").length;return n===e.length||i===e.length?"unanimous":n>i&&n>1||i>n&&i>1?"majority":"split"}function EVt(t,e){let r=[];for(let n of t){let i=n.decision.action.toUpperCase(),o=n.executed?"\u2713":"\u2717";r.push(`${n.agentName}: ${i} ${n.decision.symbol} (${n.decision.confidence}%) ${o}`)}return e.length>0&&r.push(`${e.length} error(s)`),r.join(" | ")}var cle=[],tQe=100;function aQe(t){cle.unshift(t),cle.length>tQe&&(cle.length=tQe)}var RVt=new Map;var TVt=new Map;function lQe(t){let r=(RVt.get(t)??[]).map(u=>u.price),n=r.length>=20?IVt(r,20):null,i=r.length>=12?cQe(r,12):null,o=r.length>=26?cQe(r,26):null,s=r.length>=15?CVt(r,14):null,a=r.length>=10?(r[r.length-1]-r[r.length-10])/r[r.length-10]*100:null,c="sideways",l=50;if(n!==null&&r.length>0){let d=(r[r.length-1]-n)/n*100;d>1?(c="up",l=Math.min(100,50+d*10)):d<-1&&(c="down",l=Math.min(100,50+Math.abs(d)*10))}return s!==null&&(s>70?(c="up",l=Math.max(l,80)):s<30&&(c="down",l=Math.max(l,80))),{symbol:t,sma20:n!==null?ule(n):null,ema12:i!==null?ule(i):null,ema26:o!==null?ule(o):null,rsi14:s!==null?FR(s):null,momentum:a!==null?FR(a):null,trend:c,signalStrength:Math.round(l),updatedAt:new Date().toISOString()}}function uQe(){let t=Array.from(TVt.values());if(t.length===0)return{advancing:0,declining:0,unchanged:0,adRatio:0,averageChange:0,medianChange:0,regime:"sideways",regimeConfidence:0,updatedAt:new Date().toISOString()};let e=t.map(m=>m.change24h),r=e.filter(m=>m>.1).length,n=e.filter(m=>m<-.1).length,i=t.length-r-n,o=e.reduce((m,h)=>m+h,0)/e.length,s=[...e].sort((m,h)=>m-h),a=s[Math.floor(s.length/2)],c=n>0?r/n:r>0?1/0:1,l="sideways",u=50,d=e.map(Math.abs),p=d.reduce((m,h)=>m+h,0)/d.length;return p>3?(l="volatile",u=Math.min(100,50+p*10)):o>1&&c>2?(l="bull",u=Math.min(100,50+o*15)):o<-1&&c<.5&&(l="bear",u=Math.min(100,50+Math.abs(o)*15)),{advancing:r,declining:n,unchanged:i,adRatio:FR(c===1/0?99:c),averageChange:FR(o),medianChange:FR(a),regime:l,regimeConfidence:Math.round(u),updatedAt:new Date().toISOString()}}function IVt(t,e){let r=t.slice(-e);return r.reduce((n,i)=>n+i,0)/r.length}function cQe(t,e){let r=2/(e+1),n=t[0];for(let i=1;i<t.length;i++)n=t[i]*r+n*(1-r);return n}function CVt(t,e){if(t.length<e+1)return 50;let r=0,n=0,i=t.slice(-(e+1));for(let c=1;c<i.length;c++){let l=i[c]-i[c-1];l>0?r+=l:n-=l}let o=r/e,s=n/e;return s===0?100:100-100/(1+o/s)}function FR(t){return Math.round(t*100)/100}function ule(t){return Math.round(t*1e4)/1e4}var OVt=0,dQe={},AM=[],NVt=null,pQe=200;async function mQe(t,e,r){let n=Date.now(),[i,o,s,a,c]=await Promise.all([PVt(e),Promise.resolve(uQe()),MVt(t,10),BVt(t,5),$Vt(t,5)]),l=kVt(i,e),u=DVt(o),d=LVt(s,c,t),p=UVt(a,t),m=FVt(r,e),h=zVt(o,i),f=[l,u,h,d,p,m].filter(v=>v.length>0).join(`

`);OVt++,dQe[t]=(dQe[t]??0)+1,AM.push(f.length),AM.length>pQe&&(AM=AM.slice(-pQe)),NVt=new Date().toISOString();let y={indicatorsAvailable:i.length,memoriesInjected:s.length+c.length,peerActionsIncluded:a.length,riskWarningsCount:m.split(`
`).filter(v=>v.includes("\u26A0")||v.includes("WARNING")).length,generatedAt:new Date().toISOString()};return console.log(`[ContextEnricher] Enriched context for ${t}: ${f.length} chars, ${y.indicatorsAvailable} indicators, ${y.memoriesInjected} memories, ${y.peerActionsIncluded} peer actions (${Date.now()-n}ms)`),{technicalAnalysis:l,marketRegime:u,memorySection:d,peerActions:p,riskWarnings:m,sentimentSummary:h,fullPromptSection:f,metadata:y}}function PVt(t){let e=[];for(let r of t)try{let n=lQe(r.symbol);e.push(n)}catch{}return Promise.resolve(e)}function kVt(t,e){if(t.length===0)return"";let r=["TECHNICAL ANALYSIS:"],n=t.filter(i=>i.signalStrength>=60||i.rsi14!==null);if(n.length===0)return r.push("  No strong technical signals detected. Market is range-bound."),r.join(`
`);for(let i of n.slice(0,10)){let o=[`  ${i.symbol}:`];if(i.trend!=="sideways"&&o.push(`Trend=${i.trend.toUpperCase()} (strength: ${i.signalStrength}%)`),i.rsi14!==null){let s="neutral";i.rsi14>70?s="OVERBOUGHT":i.rsi14>60?s="bullish":i.rsi14<30?s="OVERSOLD":i.rsi14<40&&(s="bearish"),o.push(`RSI=${i.rsi14.toFixed(1)} (${s})`)}if(i.sma20!==null){let s=e.find(a=>a.symbol===i.symbol);if(s){let a=s.price>i.sma20;o.push(`Price ${a?"ABOVE":"BELOW"} SMA20 ($${i.sma20.toFixed(2)})`)}}if(i.ema12!==null&&i.ema26!==null){let s=i.ema12>i.ema26?"BULLISH":"BEARISH";o.push(`MACD: ${s}`)}i.momentum!==null&&Math.abs(i.momentum)>1&&o.push(`Momentum: ${i.momentum>0?"+":""}${i.momentum.toFixed(1)}%`),r.push(o.join(" | "))}return r.join(`
`)}function DVt(t){let e=["MARKET REGIME:"],r={bull:"BULL",bear:"BEAR",sideways:"SIDEWAYS",volatile:"VOLATILE"};return e.push(`  Overall: ${r[t.regime]??"UNKNOWN"} market (confidence: ${t.regimeConfidence}%)`),e.push(`  Advance/Decline: ${t.advancing} up, ${t.declining} down, ${t.unchanged} flat`),e.push(`  Average change: ${t.averageChange>0?"+":""}${t.averageChange.toFixed(2)}%`),t.regime==="volatile"?e.push("  WARNING: High volatility detected. Consider smaller position sizes."):t.regime==="bear"&&t.regimeConfidence>70?e.push("  CAUTION: Strong bearish regime. Defensive positioning recommended."):t.regime==="bull"&&t.regimeConfidence>70&&e.push("  OPPORTUNITY: Strong bullish regime. Quality dip buys may be favorable."),e.join(`
`)}async function MVt(t,e){try{return await Gt.select({action:zr.action,symbol:zr.symbol,confidence:zr.confidence,reasoning:zr.reasoning,createdAt:zr.createdAt,roundId:zr.roundId}).from(zr).where(gr(zr.agentId,t)).orderBy(hs(zr.createdAt)).limit(e)}catch{return[]}}async function $Vt(t,e){try{return await Gt.select({symbol:Gr.stockSymbol,side:Gr.side,pricePerToken:Gr.pricePerToken,usdcAmount:Gr.usdcAmount,createdAt:Gr.createdAt}).from(Gr).where(gr(Gr.agentId,t)).orderBy(hs(Gr.createdAt)).limit(e)}catch{return[]}}function LVt(t,e,r){if(t.length===0&&e.length===0)return"";let n=["YOUR RECENT TRADING HISTORY:"];if(t.length>0){n.push("  Recent decisions:");for(let l of t.slice(0,5)){let u=dle(l.createdAt);n.push(`    ${u}: ${l.action.toUpperCase()} ${l.symbol} (confidence: ${l.confidence}%) \u2014 ${VVt(l.reasoning,80)}`)}}if(e.length>0){n.push("  Recent executed trades:");for(let l of e.slice(0,5)){let u=dle(l.createdAt);n.push(`    ${u}: ${l.side.toUpperCase()} ${l.symbol} @ $${parseFloat(l.pricePerToken).toFixed(2)} ($${parseFloat(l.usdcAmount).toFixed(2)})`)}}let i=t.filter(l=>l.action==="hold").length,o=t.filter(l=>l.action==="buy").length,s=t.filter(l=>l.action==="sell").length;i>=3&&t.length>=4&&n.push("  PATTERN: You've been holding frequently. Consider if there are real opportunities you're missing."),o>=4&&s===0&&t.length>=5&&n.push("  PATTERN: Heavy buying bias. Consider taking profits on winning positions.");let a={};for(let l of t)l.action!=="hold"&&(a[l.symbol]=(a[l.symbol]??0)+1);let c=Object.entries(a).filter(([,l])=>l>=3).map(([l])=>l);return c.length>0&&n.push(`  NOTE: You've traded ${c.join(", ")} frequently. Ensure this isn't an anchoring bias.`),n.join(`
`)}async function BVt(t,e){try{return await Gt.select({action:zr.action,symbol:zr.symbol,confidence:zr.confidence,reasoning:zr.reasoning,createdAt:zr.createdAt,roundId:zr.roundId}).from(zr).where(N9(zr.agentId,t)).orderBy(hs(zr.createdAt)).limit(e*2)}catch{return[]}}function UVt(t,e){if(t.length===0)return"";let r=["COMPETITOR ACTIVITY (other AI agents):"],n=new Map;for(let c of t){if(!c.roundId)continue;let l=n.get(c.roundId)??[];l.push(c),n.set(c.roundId,l)}let i=Array.from(n.entries()).slice(0,2);for(let[,c]of i)for(let l of c.slice(0,3)){let u=dle(l.createdAt);r.push(`  ${u}: Competitor ${l.action.toUpperCase()} ${l.symbol} (confidence: ${l.confidence}%)`)}let o=t.slice(0,6),s=o.filter(c=>c.action==="buy"),a=o.filter(c=>c.action==="sell");if(s.length>=4){let c=[...new Set(s.map(l=>l.symbol))].slice(0,3);r.push(`  TREND: Competitors are heavily buying (${c.join(", ")}). Consider if this is well-reasoned or herd behavior.`)}else a.length>=4&&r.push("  TREND: Competitors are selling aggressively. Market may be shifting.");return r.join(`
`)}function FVt(t,e){let r=[];for(let o of t.positions){let a=o.currentPrice*o.quantity/t.totalValue*100;a>25&&r.push(`  WARNING: ${o.symbol} is ${a.toFixed(1)}% of your portfolio \u2014 over-concentrated. Consider reducing.`)}let n=t.cashBalance/t.totalValue*100;n<10?r.push(`  WARNING: Only ${n.toFixed(1)}% cash remaining. Limited buying power for opportunities.`):n>80&&r.push(`  NOTE: ${n.toFixed(1)}% cash \u2014 very defensive positioning. Missing potential returns.`);for(let o of t.positions)o.unrealizedPnlPercent<-10&&r.push(`  WARNING: ${o.symbol} is down ${Math.abs(o.unrealizedPnlPercent).toFixed(1)}%. Consider a stop-loss exit.`);t.totalPnlPercent<-5&&r.push(`  ALERT: Portfolio is down ${Math.abs(t.totalPnlPercent).toFixed(1)}%. Risk management is critical right now.`);let i=t.positions.filter(o=>["NVDAx","AMZNx","GOOGLx","METAx","MSFTx","AAPLx"].includes(o.symbol));if(i.length>=3){let s=i.reduce((a,c)=>a+c.currentPrice*c.quantity,0)/t.totalValue*100;s>40&&r.push(`  WARNING: ${s.toFixed(1)}% in tech stocks (${i.map(a=>a.symbol).join(", ")}). High sector correlation risk.`)}return r.length===0?"":["RISK ASSESSMENT:",...r].join(`
`)}function zVt(t,e){let r=["MARKET SENTIMENT:"],n;t.regime==="bull"?n=50+t.regimeConfidence*.5:t.regime==="bear"?n=50-t.regimeConfidence*.5:t.regime==="volatile"?n=50:n=50+t.averageChange*5,n=Math.max(0,Math.min(100,n));let i;n>=80?i="EXTREME GREED":n>=65?i="GREED":n>=55?i="MILDLY BULLISH":n>=45?i="NEUTRAL":n>=35?i="MILDLY BEARISH":n>=20?i="FEAR":i="EXTREME FEAR",r.push(`  Market Mood: ${i} (score: ${Math.round(n)}/100)`);let o=e.filter(l=>l.rsi14!==null&&l.rsi14>70),s=e.filter(l=>l.rsi14!==null&&l.rsi14<30);o.length>0&&r.push(`  Overbought (RSI > 70): ${o.map(l=>l.symbol).join(", ")} \u2014 potential sell signals`),s.length>0&&r.push(`  Oversold (RSI < 30): ${s.map(l=>l.symbol).join(", ")} \u2014 potential buy signals`);let a=e.filter(l=>l.trend==="up"&&l.signalStrength>=60),c=e.filter(l=>l.trend==="down"&&l.signalStrength>=60);return a.length>c.length*2?r.push("  SIGNAL: Strong bullish consensus across multiple stocks."):c.length>a.length*2&&r.push("  SIGNAL: Strong bearish consensus across multiple stocks."),r.join(`
`)}function dle(t){let r=Date.now()-t.getTime(),n=Math.floor(r/6e4),i=Math.floor(n/60),o=Math.floor(i/24);return o>0?`${o}d ago`:i>0?`${i}h ago`:n>0?`${n}m ago`:"just now"}function VVt(t,e){return t.length<=e?t:t.slice(0,e-3)+"..."}var ple=new Map,fQe=500;function hQe(t){let e=ple.get("market_spy")??[];e.push(t),e.length>fQe?ple.set("market_spy",e.slice(-fQe)):ple.set("market_spy",e)}var fle=5e3,jVt=0,qVt=0,HVt=0,EM=[],gQe={},mle=[],yQe=50,bQe=200;async function WVt(t,e){let r=new AbortController,n=setTimeout(()=>r.abort(),e);try{let i=await t();return clearTimeout(n),i}catch(i){throw clearTimeout(n),r.signal.aborted?new Error(`Timed out after ${e}ms`):i}}function GVt(){return process.env.TRADING_MODE?.toLowerCase()==="live"?"strict":"relaxed"}async function KVt(){let t=Date.now();try{return await WVt(async()=>{await Gt.execute(Z`SELECT 1 as ok`)},fle),{name:"database",status:"pass",latencyMs:Date.now()-t,message:"Database connected",required:!0}}catch(e){return{name:"database",status:"fail",latencyMs:Date.now()-t,message:`Database unavailable: ${e instanceof Error?e.message:String(e)}`,required:!0}}}async function YVt(){let t=Date.now();try{let e={};Mr.JUPITER_API_KEY&&(e["x-api-key"]=Mr.JUPITER_API_KEY);let r="So11111111111111111111111111111111111111112",n=await fetch(`https://api.jup.ag/price/v3?ids=${r}`,{headers:e,signal:AbortSignal.timeout(fle)}),i=Date.now()-t;if(!n.ok)return{name:"jupiter_api",status:"warn",latencyMs:i,message:`Jupiter returned HTTP ${n.status}`,required:!1};let s=(await n.json()).data?.[r]?.price;return s?{name:"jupiter_api",status:"pass",latencyMs:i,message:`Jupiter OK (SOL: $${s})`,required:!1}:{name:"jupiter_api",status:"warn",latencyMs:i,message:"Jupiter returned no SOL price data",required:!1}}catch(e){return{name:"jupiter_api",status:"warn",latencyMs:Date.now()-t,message:`Jupiter unreachable: ${e instanceof Error?e.message:String(e)}`,required:!1}}}async function JVt(){let t=Mr.SOLANA_RPC_URL;if(!t)return{name:"solana_rpc",status:"skip",latencyMs:0,message:"SOLANA_RPC_URL not configured",required:!1};let e=Date.now();try{let r=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"getSlot",params:[{commitment:"processed"}]}),signal:AbortSignal.timeout(fle)}),n=Date.now()-e;if(!r.ok)return{name:"solana_rpc",status:"warn",latencyMs:n,message:`Solana RPC returned HTTP ${r.status}`,required:!1};let i=await r.json();return{name:"solana_rpc",status:"pass",latencyMs:n,message:`Solana RPC OK (slot: ${i.result})`,required:!1}}catch(r){return{name:"solana_rpc",status:"warn",latencyMs:Date.now()-e,message:`Solana RPC unreachable: ${r instanceof Error?r.message:String(r)}`,required:!1}}}async function QVt(){let t=Date.now(),e=[],r=[];return Mr.ANTHROPIC_API_KEY?e.push("Anthropic"):r.push("Anthropic"),Mr.OPENAI_API_KEY?e.push("OpenAI"):r.push("OpenAI"),Mr.XAI_API_KEY?e.push("xAI"):r.push("xAI"),e.length===0?{name:"llm_providers",status:"warn",latencyMs:Date.now()-t,message:"No LLM API keys configured \u2014 agents will produce mock decisions",required:!1}:{name:"llm_providers",status:e.length>=2?"pass":"warn",latencyMs:Date.now()-t,message:`${e.length}/3 providers configured (${e.join(", ")})`,required:!1}}function ZVt(){let t=Date.now();try{let e=f3();return e.isLocked?{name:"trading_lock",status:"fail",latencyMs:Date.now()-t,message:`Lock already held by "${e.lock?.holderInfo}" (expires: ${e.lock?.expiresAt})`,required:!0}:{name:"trading_lock",status:"pass",latencyMs:Date.now()-t,message:"Lock available",required:!0}}catch(e){return{name:"trading_lock",status:"fail",latencyMs:Date.now()-t,message:`Lock check failed: ${e instanceof Error?e.message:String(e)}`,required:!0}}}function XVt(){let t=Date.now();try{let e=xN(),r=Object.keys(e.agentStates),n=r.filter(i=>e.agentStates[i].dailyLossTriggered);return n.length===r.length&&r.length>0?{name:"circuit_breakers",status:"warn",latencyMs:Date.now()-t,message:`All ${r.length} agents have daily loss limits triggered`,required:!1}:{name:"circuit_breakers",status:"pass",latencyMs:Date.now()-t,message:`${r.length-n.length}/${r.length||3} agents available to trade`,required:!1}}catch(e){return{name:"circuit_breakers",status:"warn",latencyMs:Date.now()-t,message:`CB check failed: ${e instanceof Error?e.message:String(e)}`,required:!1}}}async function vQe(t){let e=Date.now(),r=t??GVt(),n=new Date().toISOString();jVt++,console.log(`[PreRoundGate] Running pre-round health gate (mode: ${r})...`);let[i,o,s,a]=await Promise.all([KVt(),YVt(),JVt(),QVt()]),c=ZVt(),l=XVt(),u=[i,o,s,a,c,l];r==="strict"&&(o.required=!0,s.required=!0);let d=u.filter(I=>I.status==="pass").length,p=u.filter(I=>I.status==="fail").length,m=u.filter(I=>I.status==="warn").length,h=u.filter(I=>I.status==="skip").length,f=u.filter(I=>I.status==="fail").map(I=>I.name),y=u.filter(I=>I.status==="warn").map(I=>I.name),v=u.filter(I=>I.required&&I.status==="fail"),_=v.length===0,x=null;_||(x=`Required checks failed: ${v.map(I=>`${I.name} (${I.message})`).join("; ")}`);let E=Date.now()-e;if(_)qVt++;else{HVt++;for(let I of v)gQe[I.name]=(gQe[I.name]??0)+1}EM.push(E),EM.length>bQe&&(EM=EM.slice(-bQe)),mle.unshift({timestamp:n,proceed:_,mode:r,durationMs:E,failedChecks:f}),mle.length>yQe&&(mle.length=yQe);for(let I of u){let N=I.status==="pass"?"OK":I.status==="fail"?"FAIL":I.status==="warn"?"WARN":"SKIP";console.log(`[PreRoundGate]   ${N} ${I.name}: ${I.message} (${I.latencyMs}ms)`)}return console.log(`[PreRoundGate] Gate ${_?"OPEN":"BLOCKED"} (${r}): ${d} pass, ${p} fail, ${m} warn, ${h} skip \u2014 ${E}ms`+(x?` \u2014 ${x}`:"")),{proceed:_,mode:r,durationMs:E,timestamp:n,checks:u,summary:{total:u.length,passed:d,failed:p,warnings:m,skipped:h,failedChecks:f,warningChecks:y},blockReason:x}}_M();var ejt={maxOrderRetries:3,maxExecuteRetries:2,baseDelayMs:1e3,maxSlippageBps:100,confirmationTimeoutMs:3e4,confirmationCommitment:"confirmed",useComputeBudget:!0,computeUnitPrice:5e4,computeUnitLimit:4e5},PRn={...ejt};var YRn=Date.now(),RM=[],_Qe=1e3;function SQe(t){RM.push(t),RM.length>_Qe&&RM.splice(0,RM.length-_Qe)}var tjt=[[/\bundervalued\b/i,.8],[/\bupside\b/i,.7],[/\bbullish\b/i,.9],[/\bgrowth\s+potential\b/i,.7],[/\bbuying\s+opportunity\b/i,.8],[/\bpositive\s+momentum\b/i,.7],[/\bstrong\s+fundamentals?\b/i,.6],[/\bbreakout\b/i,.7],[/\brally\b/i,.6],[/\baccumulate\b/i,.7],[/\bsupport\s+level\b/i,.5],[/\brecovery\b/i,.6],[/\boptimistic\b/i,.7],[/\bfavorable\b/i,.5],[/\bcheap\b/i,.6],[/\bdiscount\b/i,.6],[/\bappreciat/i,.6],[/\bincrease\b/i,.4],[/\brise\b|\brising\b/i,.5],[/\bgain\b|\bgains\b/i,.5]],rjt=[[/\bovervalued\b/i,.8],[/\bdownside\b/i,.7],[/\bbearish\b/i,.9],[/\brisk\s+of\s+decline\b/i,.7],[/\bselling\s+pressure\b/i,.7],[/\bnegative\s+momentum\b/i,.7],[/\bweak\s+fundamentals?\b/i,.6],[/\bbreakdown\b/i,.7],[/\bcorrection\b/i,.6],[/\bdistribute\b/i,.5],[/\bresistance\s+level\b/i,.5],[/\bdeclining\b/i,.6],[/\bpessimistic\b/i,.7],[/\bunfavorable\b/i,.5],[/\bexpensive\b/i,.6],[/\boverheated\b/i,.6],[/\bdepreciat/i,.6],[/\bdecrease\b/i,.4],[/\bfall\b|\bfalling\b/i,.5],[/\bloss\b|\blosses\b/i,.5],[/\btake\s+profits?\b/i,.6],[/\boverexposed\b/i,.6],[/\btrim\s+position\b/i,.5]],njt=[[/\buncertain\b/i,.6],[/\bwait\b|\bwaiting\b/i,.5],[/\bsidelines?\b/i,.7],[/\bcaution\b|\bcautious\b/i,.6],[/\bmixed\s+signals?\b/i,.7],[/\bno\s+clear\b/i,.6],[/\binsufficient\s+data\b/i,.7],[/\bpatien/i,.5],[/\bmonitor\b/i,.4],[/\bobserv/i,.4]];function tw(t,e,r){let n=[],i=0,o=0;for(let[m,h]of tjt){let f=t.match(m);f&&(i+=h,o++,n.push({type:"bullish",text:f[0],weight:h}))}let s=0,a=0;for(let[m,h]of rjt){let f=t.match(m);f&&(s+=h,a++,n.push({type:"bearish",text:f[0],weight:h}))}let c=0;for(let[m,h]of njt){let f=t.match(m);f&&(c+=h,n.push({type:"neutral",text:f[0],weight:h}))}let l=o+a,u=l>0?(i-s)/(i+s||1):0,d,p;return e==="buy"?u>.3?(d=.7+u*.3,p="Bullish reasoning supports buy action"):u>-.1?(d=.5+u*.2,p="Reasoning is ambiguous but not contradictory for buy"):(d=Math.max(.05,.4+u*.4),p="Bearish reasoning contradicts buy action",/contrarian|mean\s+reversion|oversold|bounce|bottom/i.test(t)&&(d=Math.min(1,d+.35),p="Bearish context with contrarian/mean-reversion justification for buy")):e==="sell"?u<-.3?(d=.7+Math.abs(u)*.3,p="Bearish reasoning supports sell action"):u<.1?(d=.5+Math.abs(u)*.2,p="Reasoning is ambiguous but not contradictory for sell"):(d=Math.max(.05,.4-u*.4),p="Bullish reasoning contradicts sell action",/profit|take\s+gains|overexposed|rebalance|trim/i.test(t)&&(d=Math.min(1,d+.35),p="Bullish context with profit-taking/rebalancing justification for sell")):c>0||Math.abs(u)<.3&&l>0?(d=.7+(1-Math.abs(u))*.3,p="Neutral/cautious reasoning supports hold action"):l===0?(d=.5,p="No clear sentiment signals in reasoning"):(d=.4,p="Strong directional signals present but chose to hold",/guardrail|limit|insufficient|cash\s+buffer|wait\s+for/i.test(t)&&(d=.8,p="Strong signals tempered by risk management discipline")),i>2&&s>2&&(n.push({type:"conflicting",text:"Contains both strong bullish and bearish signals",weight:.5}),d=Math.max(.1,d-.1),p+=" (warning: conflicting directional signals)"),{score:Math.round(d*100)/100,explanation:p,signals:n}}function rw(t,e){let r=[],n=new Map,i=new Set;for(let l of e){n.set(l.symbol.toLowerCase(),l.price),i.add(l.symbol.toLowerCase());let u=l.symbol.replace(/x$/i,"").toLowerCase();n.set(u,l.price),i.add(u)}let o=[/(\w+x?)\s+(?:is\s+)?(?:at|priced?\s+at|trading\s+at|currently)\s+\$?([\d,]+\.?\d*)/gi,/\$?([\d,]+\.?\d*)\s+(?:per\s+share|price)\s+(?:for|of)\s+(\w+x?)/gi];for(let l of o){let u;for(;(u=l.exec(t))!==null;){let d,p;l===o[0]?(d=u[1].toLowerCase(),p=parseFloat(u[2].replace(/,/g,""))):(p=parseFloat(u[1].replace(/,/g,"")),d=u[2].toLowerCase());let m=n.get(d);if(m!==void 0&&p>0){let h=Math.abs(p-m)/m;h>.2&&r.push(`Price hallucination: claimed ${d.toUpperCase()} at $${p.toFixed(2)}, actual $${m.toFixed(2)} (${(h*100).toFixed(0)}% off)`)}}}let s=t.match(/\b[A-Z]{2,5}x?\b/g)??[];for(let l of s){let u=l.toLowerCase();if(!["the","and","for","but","not","may","can","has","its","per","our","all","low","buy","sell","hold","risk","cash","spy","etf","ipo","vol","rsi","avg","max","min","pnl"].includes(u)&&/^[A-Z]{2,5}x?$/.test(l)&&!i.has(u)&&!i.has(u.replace(/x$/i,""))){let d=t.slice(Math.max(0,t.indexOf(l)-30),t.indexOf(l)+l.length+30);/price|trade|buy|sell|stock|share|position/i.test(d)&&r.push(`Unknown ticker: ${l} not found in available stocks`)}}let a=t.match(/[+-]?\d+\.?\d*%/g)??[];for(let l of a){let u=parseFloat(l);Math.abs(u)>50&&/24h|daily|today|change/i.test(t)&&r.push(`Implausible 24h change: ${l} \u2014 major stocks rarely move this much in a day`)}(/should\s+buy/i.test(t)&&/should\s+sell/i.test(t)||/strongly\s+bullish/i.test(t)&&/strongly\s+bearish/i.test(t))&&r.push("Self-contradiction: reasoning contains conflicting directional advice");let c=r.length===0?0:Math.min(1,r.length*.25);return{flags:r,severity:c}}function wQe(t,e,r){let n=[];if(t.action==="hold")return{passed:!0,violations:[]};if(t.action==="buy"&&r.totalValue>0){let i=t.quantity/r.totalValue*100;i>e.maxPositionSize&&n.push(`Position size ${i.toFixed(1)}% exceeds max ${e.maxPositionSize}%`)}if(t.action==="buy"){let i=r.totalValue*((100-e.maxPortfolioAllocation)/100),o=r.cashBalance-t.quantity;o<i&&n.push(`Buy would leave $${o.toFixed(2)} cash, below minimum $${i.toFixed(2)} (${100-e.maxPortfolioAllocation}% buffer)`)}if(t.action==="sell"){let i=r.positions.find(o=>o.symbol.toLowerCase()===t.symbol.toLowerCase());i?t.quantity>i.quantity*1.01&&n.push(`Trying to sell ${t.quantity} shares of ${t.symbol} but only holds ${i.quantity}`):n.push(`Trying to sell ${t.symbol} but no position held`)}return e.riskTolerance==="conservative"&&t.confidence<.3&&n.push(`Conservative agent trading with very low confidence (${(t.confidence*100).toFixed(0)}%)`),{passed:n.length===0,violations:n}}var ijt=Ht.enum(["momentum","mean_reversion","value","hedge","contrarian","arbitrage"]),xQe=Ht.object({symbol:Ht.string().min(1,"Symbol is required"),side:Ht.enum(["buy","sell"]),quantity:Ht.number().positive("Quantity must be positive"),reasoning:Ht.string().min(20,"Reasoning must explain your logic (min 20 chars)"),confidence:Ht.number().min(0,"Confidence must be >= 0").max(1,"Confidence must be <= 1"),sources:Ht.array(Ht.string()).min(1,"Must cite at least one data source"),intent:ijt,predictedOutcome:Ht.string().optional()}),ojt=Ht.object({symbol:Ht.string().min(1),reasoning:Ht.string().min(10,"Hold decisions must be explained"),confidence:Ht.number().min(0).max(1),sources:Ht.array(Ht.string()).optional()}),XRn=Ht.discriminatedUnion("action",[Ht.object({action:Ht.literal("buy"),...xQe.shape}),Ht.object({action:Ht.literal("sell"),...xQe.shape}),Ht.object({action:Ht.literal("hold"),...ojt.shape})]);function nw(t){return t>1?Math.max(0,Math.min(1,t/100)):Math.max(0,Math.min(1,t))}function Ky(t){let e=[],r=[[/price\s+data/i,"market_price_feed"],[/jupiter/i,"jupiter_price_api"],[/24h\s+change|24-hour/i,"24h_price_change"],[/volume/i,"trading_volume"],[/portfolio|position/i,"portfolio_state"],[/news|headline/i,"news_feed"],[/technical|indicator|RSI|MACD|moving\s+average/i,"technical_indicators"],[/fundamental|earnings|revenue|P\/E/i,"fundamentals"],[/sentiment|mood/i,"market_sentiment"],[/correlation|peer|sector/i,"sector_analysis"]];for(let[n,i]of r)n.test(t)&&e.push(i);return e.length===0&&e.push("market_data"),e}function wg(t,e){let r=t.toLowerCase();return/undervalued|intrinsic\s+value|margin\s+of\s+safety|fair\s+price|cheap/i.test(r)?"value":/momentum|trend|breakout|rally|surge|continuing\s+to\s+rise/i.test(r)?"momentum":/reversion|oversold|overbought|bounce|pullback|correction/i.test(r)?"mean_reversion":/hedge|protect|downside|risk\s+reduction|defensive/i.test(r)?"hedge":/contrarian|against\s+the\s+crowd|overreaction|panic/i.test(r)?"contrarian":/arbitrage|price\s+difference|mispricing|spread/i.test(r)?"arbitrage":e==="buy"?"value":"momentum"}var hle=(t,e,r)=>(n,i)=>{let o=-1;return s(0);async function s(a){if(a<=o)throw new Error("next() called multiple times");o=a;let c,l=!1,u;if(t[a]?(u=t[a][0][0],n.req.routeIndex=a):u=a===t.length&&i||void 0,u)try{c=await u(n,()=>s(a+1))}catch(d){if(d instanceof Error&&e)n.error=d,c=await e(d,n),l=!0;else throw d}else n.finalized===!1&&r&&(c=await r(n));return c&&(n.finalized===!1||l)&&(n.res=c),n}};var AQe=Symbol();var EQe=async(t,e=Object.create(null))=>{let{all:r=!1,dot:n=!1}=e,o=(t instanceof TM?t.raw.headers:t.headers).get("Content-Type");return o?.startsWith("multipart/form-data")||o?.startsWith("application/x-www-form-urlencoded")?sjt(t,{all:r,dot:n}):{}};async function sjt(t,e){let r=await t.formData();return r?ajt(r,e):{}}function ajt(t,e){let r=Object.create(null);return t.forEach((n,i)=>{e.all||i.endsWith("[]")?cjt(r,i,n):r[i]=n}),e.dot&&Object.entries(r).forEach(([n,i])=>{n.includes(".")&&(ljt(r,n,i),delete r[n])}),r}var cjt=(t,e,r)=>{t[e]!==void 0?Array.isArray(t[e])?t[e].push(r):t[e]=[t[e],r]:e.endsWith("[]")?t[e]=[r]:t[e]=r},ljt=(t,e,r)=>{let n=t,i=e.split(".");i.forEach((o,s)=>{s===i.length-1?n[o]=r:((!n[o]||typeof n[o]!="object"||Array.isArray(n[o])||n[o]instanceof File)&&(n[o]=Object.create(null)),n=n[o])})};var yle=t=>{let e=t.split("/");return e[0]===""&&e.shift(),e},RQe=t=>{let{groups:e,path:r}=ujt(t),n=yle(r);return djt(n,e)},ujt=t=>{let e=[];return t=t.replace(/\{[^}]+\}/g,(r,n)=>{let i=`@${n}`;return e.push([i,r]),i}),{groups:e,path:t}},djt=(t,e)=>{for(let r=e.length-1;r>=0;r--){let[n]=e[r];for(let i=t.length-1;i>=0;i--)if(t[i].includes(n)){t[i]=t[i].replace(n,e[r][1]);break}}return t},IM={},TQe=(t,e)=>{if(t==="*")return"*";let r=t.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(r){let n=`${t}#${e}`;return IM[n]||(r[2]?IM[n]=e&&e[0]!==":"&&e[0]!=="*"?[n,r[1],new RegExp(`^${r[2]}(?=/${e})`)]:[t,r[1],new RegExp(`^${r[2]}$`)]:IM[n]=[t,r[1],!0]),IM[n]}return null},CM=(t,e)=>{try{return e(t)}catch{return t.replace(/(?:%[0-9A-Fa-f]{2})+/g,r=>{try{return e(r)}catch{return r}})}},pjt=t=>CM(t,decodeURI),ble=t=>{let e=t.url,r=e.indexOf("/",e.indexOf(":")+4),n=r;for(;n<e.length;n++){let i=e.charCodeAt(n);if(i===37){let o=e.indexOf("?",n),s=e.slice(r,o===-1?void 0:o);return pjt(s.includes("%25")?s.replace(/%25/g,"%2525"):s)}else if(i===63)break}return e.slice(r,n)};var IQe=t=>{let e=ble(t);return e.length>1&&e.at(-1)==="/"?e.slice(0,-1):e},Yy=(t,e,...r)=>(r.length&&(e=Yy(e,...r)),`${t?.[0]==="/"?"":"/"}${t}${e==="/"?"":`${t?.at(-1)==="/"?"":"/"}${e?.[0]==="/"?e.slice(1):e}`}`),OM=t=>{if(t.charCodeAt(t.length-1)!==63||!t.includes(":"))return null;let e=t.split("/"),r=[],n="";return e.forEach(i=>{if(i!==""&&!/\:/.test(i))n+="/"+i;else if(/\:/.test(i))if(/\?/.test(i)){r.length===0&&n===""?r.push("/"):r.push(n);let o=i.replace("?","");n+="/"+o,r.push(n)}else n+="/"+i}),r.filter((i,o,s)=>s.indexOf(i)===o)},gle=t=>/[%+]/.test(t)?(t.indexOf("+")!==-1&&(t=t.replace(/\+/g," ")),t.indexOf("%")!==-1?CM(t,vle):t):t,CQe=(t,e,r)=>{let n;if(!r&&e&&!/[%+]/.test(e)){let s=t.indexOf("?",8);if(s===-1)return;for(t.startsWith(e,s+1)||(s=t.indexOf(`&${e}`,s+1));s!==-1;){let a=t.charCodeAt(s+e.length+1);if(a===61){let c=s+e.length+2,l=t.indexOf("&",c);return gle(t.slice(c,l===-1?void 0:l))}else if(a==38||isNaN(a))return"";s=t.indexOf(`&${e}`,s+1)}if(n=/[%+]/.test(t),!n)return}let i={};n??=/[%+]/.test(t);let o=t.indexOf("?",8);for(;o!==-1;){let s=t.indexOf("&",o+1),a=t.indexOf("=",o);a>s&&s!==-1&&(a=-1);let c=t.slice(o+1,a===-1?s===-1?void 0:s:a);if(n&&(c=gle(c)),o=s,c==="")continue;let l;a===-1?l="":(l=t.slice(a+1,s===-1?void 0:s),n&&(l=gle(l))),r?(i[c]&&Array.isArray(i[c])||(i[c]=[]),i[c].push(l)):i[c]??=l}return e?i[e]:i},OQe=CQe,NQe=(t,e)=>CQe(t,e,!0),vle=decodeURIComponent;var PQe=t=>CM(t,vle),TM=class{raw;#t;#e;routeIndex=0;path;bodyCache={};constructor(t,e="/",r=[[]]){this.raw=t,this.path=e,this.#e=r,this.#t={}}param(t){return t?this.#r(t):this.#o()}#r(t){let e=this.#e[0][this.routeIndex][1][t],r=this.#i(e);return r&&/\%/.test(r)?PQe(r):r}#o(){let t={},e=Object.keys(this.#e[0][this.routeIndex][1]);for(let r of e){let n=this.#i(this.#e[0][this.routeIndex][1][r]);n!==void 0&&(t[r]=/\%/.test(n)?PQe(n):n)}return t}#i(t){return this.#e[1]?this.#e[1][t]:t}query(t){return OQe(this.url,t)}queries(t){return NQe(this.url,t)}header(t){if(t)return this.raw.headers.get(t)??void 0;let e={};return this.raw.headers.forEach((r,n)=>{e[n]=r}),e}async parseBody(t){return this.bodyCache.parsedBody??=await EQe(this,t)}#n=t=>{let{bodyCache:e,raw:r}=this,n=e[t];if(n)return n;let i=Object.keys(e)[0];return i?e[i].then(o=>(i==="json"&&(o=JSON.stringify(o)),new Response(o)[t]())):e[t]=r[t]()};json(){return this.#n("text").then(t=>JSON.parse(t))}text(){return this.#n("text")}arrayBuffer(){return this.#n("arrayBuffer")}blob(){return this.#n("blob")}formData(){return this.#n("formData")}addValidatedData(t,e){this.#t[t]=e}valid(t){return this.#t[t]}get url(){return this.raw.url}get method(){return this.raw.method}get[AQe](){return this.#e}get matchedRoutes(){return this.#e[0].map(([[,t]])=>t)}get routePath(){return this.#e[0].map(([[,t]])=>t)[this.routeIndex].path}};var zR={Stringify:1,BeforeStream:2,Stream:3},iw=(t,e)=>{let r=new String(t);return r.isEscaped=!0,r.callbacks=e,r},mjt=/[&<>'"]/,kQe=async(t,e)=>{let r="";e||=[];let n=await Promise.all(t);for(let i=n.length-1;r+=n[i],i--,!(i<0);i--){let o=n[i];typeof o=="object"&&e.push(...o.callbacks||[]);let s=o.isEscaped;if(o=await(typeof o=="object"?o.toString():o),typeof o=="object"&&e.push(...o.callbacks||[]),o.isEscaped??s)r+=o;else{let a=[r];NM(o,a),r=a[0]}}return iw(r,e)},NM=(t,e)=>{let r=t.search(mjt);if(r===-1){e[0]+=t;return}let n,i,o=0;for(i=r;i<t.length;i++){switch(t.charCodeAt(i)){case 34:n="&quot;";break;case 39:n="&#39;";break;case 38:n="&amp;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}e[0]+=t.substring(o,i)+n,o=i+1}e[0]+=t.substring(o,i)},DQe=t=>{let e=t.callbacks;if(!e?.length)return t;let r=[t],n={};return e.forEach(i=>i({phase:zR.Stringify,buffer:r,context:n})),r[0]},VR=async(t,e,r,n,i)=>{typeof t=="object"&&!(t instanceof String)&&(t instanceof Promise||(t=t.toString()),t instanceof Promise&&(t=await t));let o=t.callbacks;if(!o?.length)return Promise.resolve(t);i?i[0]+=t:i=[t];let s=Promise.all(o.map(a=>a({phase:e,buffer:i,context:n}))).then(a=>Promise.all(a.filter(Boolean).map(c=>VR(c,e,!1,n,i))).then(()=>i[0]));return r?iw(await s,o):s};var MQe="text/plain; charset=UTF-8",_le=(t,e)=>({"Content-Type":t,...e}),$Qe=class{#t;#e;env={};#r;finalized=!1;error;#o;#i;#n;#u;#c;#l;#a;#d;#p;constructor(t,e){this.#t=t,e&&(this.#i=e.executionCtx,this.env=e.env,this.#l=e.notFoundHandler,this.#p=e.path,this.#d=e.matchResult)}get req(){return this.#e??=new TM(this.#t,this.#p,this.#d),this.#e}get event(){if(this.#i&&"respondWith"in this.#i)return this.#i;throw Error("This context has no FetchEvent")}get executionCtx(){if(this.#i)return this.#i;throw Error("This context has no ExecutionContext")}get res(){return this.#n||=new Response(null,{headers:this.#a??=new Headers})}set res(t){if(this.#n&&t){t=new Response(t.body,t);for(let[e,r]of this.#n.headers.entries())if(e!=="content-type")if(e==="set-cookie"){let n=this.#n.headers.getSetCookie();t.headers.delete("set-cookie");for(let i of n)t.headers.append("set-cookie",i)}else t.headers.set(e,r)}this.#n=t,this.finalized=!0}render=(...t)=>(this.#c??=e=>this.html(e),this.#c(...t));setLayout=t=>this.#u=t;getLayout=()=>this.#u;setRenderer=t=>{this.#c=t};header=(t,e,r)=>{this.finalized&&(this.#n=new Response(this.#n.body,this.#n));let n=this.#n?this.#n.headers:this.#a??=new Headers;e===void 0?n.delete(t):r?.append?n.append(t,e):n.set(t,e)};status=t=>{this.#o=t};set=(t,e)=>{this.#r??=new Map,this.#r.set(t,e)};get=t=>this.#r?this.#r.get(t):void 0;get var(){return this.#r?Object.fromEntries(this.#r):{}}#s(t,e,r){let n=this.#n?new Headers(this.#n.headers):this.#a??new Headers;if(typeof e=="object"&&"headers"in e){let o=e.headers instanceof Headers?e.headers:new Headers(e.headers);for(let[s,a]of o)s.toLowerCase()==="set-cookie"?n.append(s,a):n.set(s,a)}if(r)for(let[o,s]of Object.entries(r))if(typeof s=="string")n.set(o,s);else{n.delete(o);for(let a of s)n.append(o,a)}let i=typeof e=="number"?e:e?.status??this.#o;return new Response(t,{status:i,headers:n})}newResponse=(...t)=>this.#s(...t);body=(t,e,r)=>this.#s(t,e,r);text=(t,e,r)=>!this.#a&&!this.#o&&!e&&!r&&!this.finalized?new Response(t):this.#s(t,e,_le(MQe,r));json=(t,e,r)=>this.#s(JSON.stringify(t),e,_le("application/json",r));html=(t,e,r)=>{let n=i=>this.#s(i,e,_le("text/html; charset=UTF-8",r));return typeof t=="object"?VR(t,zR.Stringify,!1,{}).then(n):n(t)};redirect=(t,e)=>{let r=String(t);return this.header("Location",/[^\x00-\xFF]/.test(r)?encodeURI(r):r),this.newResponse(null,e??302)};notFound=()=>(this.#l??=()=>new Response,this.#l(this))};var Mn="ALL",LQe="all",BQe=["get","post","put","delete","options","patch"],PM="Can not add a route since the matcher is already built.",kM=class extends Error{};var UQe="__COMPOSED_HANDLER";var fjt=t=>t.text("404 Not Found",404),FQe=(t,e)=>{if("getResponse"in t){let r=t.getResponse();return e.newResponse(r.body,r)}return console.error(t),e.text("Internal Server Error",500)},zQe=class VQe{get;post;put;delete;options;patch;all;on;use;router;getPath;_basePath="/";#t="/";routes=[];constructor(e={}){[...BQe,LQe].forEach(o=>{this[o]=(s,...a)=>(typeof s=="string"?this.#t=s:this.#o(o,this.#t,s),a.forEach(c=>{this.#o(o,this.#t,c)}),this)}),this.on=(o,s,...a)=>{for(let c of[s].flat()){this.#t=c;for(let l of[o].flat())a.map(u=>{this.#o(l.toUpperCase(),this.#t,u)})}return this},this.use=(o,...s)=>(typeof o=="string"?this.#t=o:(this.#t="*",s.unshift(o)),s.forEach(a=>{this.#o(Mn,this.#t,a)}),this);let{strict:n,...i}=e;Object.assign(this,i),this.getPath=n??!0?e.getPath??ble:IQe}#e(){let e=new VQe({router:this.router,getPath:this.getPath});return e.errorHandler=this.errorHandler,e.#r=this.#r,e.routes=this.routes,e}#r=fjt;errorHandler=FQe;route(e,r){let n=this.basePath(e);return r.routes.map(i=>{let o;r.errorHandler===FQe?o=i.handler:(o=async(s,a)=>(await hle([],r.errorHandler)(s,()=>i.handler(s,a))).res,o[UQe]=i.handler),n.#o(i.method,i.path,o)}),this}basePath(e){let r=this.#e();return r._basePath=Yy(this._basePath,e),r}onError=e=>(this.errorHandler=e,this);notFound=e=>(this.#r=e,this);mount(e,r,n){let i,o;n&&(typeof n=="function"?o=n:(o=n.optionHandler,n.replaceRequest===!1?i=c=>c:i=n.replaceRequest));let s=o?c=>{let l=o(c);return Array.isArray(l)?l:[l]}:c=>{let l;try{l=c.executionCtx}catch{}return[c.env,l]};i||=(()=>{let c=Yy(this._basePath,e),l=c==="/"?0:c.length;return u=>{let d=new URL(u.url);return d.pathname=d.pathname.slice(l)||"/",new Request(d,u)}})();let a=async(c,l)=>{let u=await r(i(c.req.raw),...s(c));if(u)return u;await l()};return this.#o(Mn,Yy(e,"*"),a),this}#o(e,r,n){e=e.toUpperCase(),r=Yy(this._basePath,r);let i={basePath:this._basePath,path:r,method:e,handler:n};this.router.add(e,r,[n,i]),this.routes.push(i)}#i(e,r){if(e instanceof Error)return this.errorHandler(e,r);throw e}#n(e,r,n,i){if(i==="HEAD")return(async()=>new Response(null,await this.#n(e,r,n,"GET")))();let o=this.getPath(e,{env:n}),s=this.router.match(i,o),a=new $Qe(e,{path:o,matchResult:s,env:n,executionCtx:r,notFoundHandler:this.#r});if(s[0].length===1){let l;try{l=s[0][0][0][0](a,async()=>{a.res=await this.#r(a)})}catch(u){return this.#i(u,a)}return l instanceof Promise?l.then(u=>u||(a.finalized?a.res:this.#r(a))).catch(u=>this.#i(u,a)):l??this.#r(a)}let c=hle(s[0],this.errorHandler,this.#r);return(async()=>{try{let l=await c(a);if(!l.finalized)throw new Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return l.res}catch(l){return this.#i(l,a)}})()}fetch=(e,...r)=>this.#n(e,r[1],r[0],e.method);request=(e,r,n,i)=>e instanceof Request?this.fetch(r?new Request(e,r):e,n,i):(e=e.toString(),this.fetch(new Request(/^https?:\/\//.test(e)?e:`http://localhost${Yy("/",e)}`,r),n,i));fire=()=>{addEventListener("fetch",e=>{e.respondWith(this.#n(e.request,e,void 0,e.request.method))})}};var DM=[];function Sle(t,e){let r=this.buildAllMatchers(),n=((i,o)=>{let s=r[i]||r[Mn],a=s[2][o];if(a)return a;let c=o.match(s[0]);if(!c)return[[],DM];let l=c.indexOf("",1);return[s[1][l],c]});return this.match=n,n(t,e)}var MM="[^/]+",jR=".*",qR="(?:|/.*)",Jy=Symbol(),hjt=new Set(".\\+*[^]$()");function gjt(t,e){return t.length===1?e.length===1?t<e?-1:1:-1:e.length===1||t===jR||t===qR?1:e===jR||e===qR?-1:t===MM?1:e===MM?-1:t.length===e.length?t<e?-1:1:e.length-t.length}var jQe=class wle{#t;#e;#r=Object.create(null);insert(e,r,n,i,o){if(e.length===0){if(this.#t!==void 0)throw Jy;if(o)return;this.#t=r;return}let[s,...a]=e,c=s==="*"?a.length===0?["","",jR]:["","",MM]:s==="/*"?["","",qR]:s.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/),l;if(c){let u=c[1],d=c[2]||MM;if(u&&c[2]&&(d===".*"||(d=d.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(d))))throw Jy;if(l=this.#r[d],!l){if(Object.keys(this.#r).some(p=>p!==jR&&p!==qR))throw Jy;if(o)return;l=this.#r[d]=new wle,u!==""&&(l.#e=i.varIndex++)}!o&&u!==""&&n.push([u,l.#e])}else if(l=this.#r[s],!l){if(Object.keys(this.#r).some(u=>u.length>1&&u!==jR&&u!==qR))throw Jy;if(o)return;l=this.#r[s]=new wle}l.insert(a,r,n,i,o)}buildRegExpStr(){let r=Object.keys(this.#r).sort(gjt).map(n=>{let i=this.#r[n];return(typeof i.#e=="number"?`(${n})@${i.#e}`:hjt.has(n)?`\\${n}`:n)+i.buildRegExpStr()});return typeof this.#t=="number"&&r.unshift(`#${this.#t}`),r.length===0?"":r.length===1?r[0]:"(?:"+r.join("|")+")"}};var qQe=class{#t={varIndex:0};#e=new jQe;insert(t,e,r){let n=[],i=[];for(let s=0;;){let a=!1;if(t=t.replace(/\{[^}]+\}/g,c=>{let l=`@\\${s}`;return i[s]=[l,c],s++,a=!0,l}),!a)break}let o=t.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let s=i.length-1;s>=0;s--){let[a]=i[s];for(let c=o.length-1;c>=0;c--)if(o[c].indexOf(a)!==-1){o[c]=o[c].replace(a,i[s][1]);break}}return this.#e.insert(o,e,n,this.#t,r),n}buildRegExp(){let t=this.#e.buildRegExpStr();if(t==="")return[/^$/,[],[]];let e=0,r=[],n=[];return t=t.replace(/#(\d+)|@(\d+)|\.\*\$/g,(i,o,s)=>o!==void 0?(r[++e]=Number(o),"$()"):(s!==void 0&&(n[Number(s)]=++e),"")),[new RegExp(`^${t}`),r,n]}};var yjt=[/^$/,[],Object.create(null)],HQe=Object.create(null);function WQe(t){return HQe[t]??=new RegExp(t==="*"?"":`^${t.replace(/\/\*$|([.\\+*[^\]$()])/g,(e,r)=>r?`\\${r}`:"(?:|/.*)")}$`)}function bjt(){HQe=Object.create(null)}function vjt(t){let e=new qQe,r=[];if(t.length===0)return yjt;let n=t.map(l=>[!/\*|\/:/.test(l[0]),...l]).sort(([l,u],[d,p])=>l?1:d?-1:u.length-p.length),i=Object.create(null);for(let l=0,u=-1,d=n.length;l<d;l++){let[p,m,h]=n[l];p?i[m]=[h.map(([y])=>[y,Object.create(null)]),DM]:u++;let f;try{f=e.insert(m,u,p)}catch(y){throw y===Jy?new kM(m):y}p||(r[u]=h.map(([y,v])=>{let _=Object.create(null);for(v-=1;v>=0;v--){let[x,E]=f[v];_[x]=E}return[y,_]}))}let[o,s,a]=e.buildRegExp();for(let l=0,u=r.length;l<u;l++)for(let d=0,p=r[l].length;d<p;d++){let m=r[l][d]?.[1];if(!m)continue;let h=Object.keys(m);for(let f=0,y=h.length;f<y;f++)m[h[f]]=a[m[h[f]]]}let c=[];for(let l in s)c[l]=r[s[l]];return[o,c,i]}function ow(t,e){if(t){for(let r of Object.keys(t).sort((n,i)=>i.length-n.length))if(WQe(r).test(e))return[...t[r]]}}var $M=class{name="RegExpRouter";#t;#e;constructor(){this.#t={[Mn]:Object.create(null)},this.#e={[Mn]:Object.create(null)}}add(t,e,r){let n=this.#t,i=this.#e;if(!n||!i)throw new Error(PM);n[t]||[n,i].forEach(a=>{a[t]=Object.create(null),Object.keys(a[Mn]).forEach(c=>{a[t][c]=[...a[Mn][c]]})}),e==="/*"&&(e="*");let o=(e.match(/\/:/g)||[]).length;if(/\*$/.test(e)){let a=WQe(e);t===Mn?Object.keys(n).forEach(c=>{n[c][e]||=ow(n[c],e)||ow(n[Mn],e)||[]}):n[t][e]||=ow(n[t],e)||ow(n[Mn],e)||[],Object.keys(n).forEach(c=>{(t===Mn||t===c)&&Object.keys(n[c]).forEach(l=>{a.test(l)&&n[c][l].push([r,o])})}),Object.keys(i).forEach(c=>{(t===Mn||t===c)&&Object.keys(i[c]).forEach(l=>a.test(l)&&i[c][l].push([r,o]))});return}let s=OM(e)||[e];for(let a=0,c=s.length;a<c;a++){let l=s[a];Object.keys(i).forEach(u=>{(t===Mn||t===u)&&(i[u][l]||=[...ow(n[u],l)||ow(n[Mn],l)||[]],i[u][l].push([r,o-c+a+1]))})}}match=Sle;buildAllMatchers(){let t=Object.create(null);return Object.keys(this.#e).concat(Object.keys(this.#t)).forEach(e=>{t[e]||=this.#r(e)}),this.#t=this.#e=void 0,bjt(),t}#r(t){let e=[],r=t===Mn;return[this.#t,this.#e].forEach(n=>{let i=n[t]?Object.keys(n[t]).map(o=>[o,n[t][o]]):[];i.length!==0?(r||=!0,e.push(...i)):t!==Mn&&e.push(...Object.keys(n[Mn]).map(o=>[o,n[Mn][o]]))}),r?vjt(e):null}};var xle=class{name="SmartRouter";#t=[];#e=[];constructor(t){this.#t=t.routers}add(t,e,r){if(!this.#e)throw new Error(PM);this.#e.push([t,e,r])}match(t,e){if(!this.#e)throw new Error("Fatal error");let r=this.#t,n=this.#e,i=r.length,o=0,s;for(;o<i;o++){let a=r[o];try{for(let c=0,l=n.length;c<l;c++)a.add(...n[c]);s=a.match(t,e)}catch(c){if(c instanceof kM)continue;throw c}this.match=a.match.bind(a),this.#t=[a],this.#e=void 0;break}if(o===i)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,s}get activeRouter(){if(this.#e||this.#t.length!==1)throw new Error("No active router has been determined yet.");return this.#t[0]}};var HR=Object.create(null),GQe=class KQe{#t;#e;#r;#o=0;#i=HR;constructor(e,r,n){if(this.#e=n||Object.create(null),this.#t=[],e&&r){let i=Object.create(null);i[e]={handler:r,possibleKeys:[],score:0},this.#t=[i]}this.#r=[]}insert(e,r,n){this.#o=++this.#o;let i=this,o=RQe(r),s=[];for(let a=0,c=o.length;a<c;a++){let l=o[a],u=o[a+1],d=TQe(l,u),p=Array.isArray(d)?d[0]:l;if(p in i.#e){i=i.#e[p],d&&s.push(d[1]);continue}i.#e[p]=new KQe,d&&(i.#r.push(d),s.push(d[1])),i=i.#e[p]}return i.#t.push({[e]:{handler:n,possibleKeys:s.filter((a,c,l)=>l.indexOf(a)===c),score:this.#o}}),i}#n(e,r,n,i){let o=[];for(let s=0,a=e.#t.length;s<a;s++){let c=e.#t[s],l=c[r]||c[Mn],u={};if(l!==void 0&&(l.params=Object.create(null),o.push(l),n!==HR||i&&i!==HR))for(let d=0,p=l.possibleKeys.length;d<p;d++){let m=l.possibleKeys[d],h=u[l.score];l.params[m]=i?.[m]&&!h?i[m]:n[m]??i?.[m],u[l.score]=!0}}return o}search(e,r){let n=[];this.#i=HR;let o=[this],s=yle(r),a=[];for(let c=0,l=s.length;c<l;c++){let u=s[c],d=c===l-1,p=[];for(let m=0,h=o.length;m<h;m++){let f=o[m],y=f.#e[u];y&&(y.#i=f.#i,d?(y.#e["*"]&&n.push(...this.#n(y.#e["*"],e,f.#i)),n.push(...this.#n(y,e,f.#i))):p.push(y));for(let v=0,_=f.#r.length;v<_;v++){let x=f.#r[v],E=f.#i===HR?{}:{...f.#i};if(x==="*"){let V=f.#e["*"];V&&(n.push(...this.#n(V,e,f.#i)),V.#i=E,p.push(V));continue}let[I,N,L]=x;if(!u&&!(L instanceof RegExp))continue;let B=f.#e[I],P=s.slice(c).join("/");if(L instanceof RegExp){let V=L.exec(P);if(V){if(E[N]=V[0],n.push(...this.#n(B,e,f.#i,E)),Object.keys(B.#e).length){B.#i=E;let j=V[0].match(/\//)?.length??0;(a[j]||=[]).push(B)}continue}}(L===!0||L.test(u))&&(E[N]=u,d?(n.push(...this.#n(B,e,E,f.#i)),B.#e["*"]&&n.push(...this.#n(B.#e["*"],e,E,f.#i))):(B.#i=E,p.push(B)))}}o=p.concat(a.shift()??[])}return n.length>1&&n.sort((c,l)=>c.score-l.score),[n.map(({handler:c,params:l})=>[c,l])]}};var Ale=class{name="TrieRouter";#t;constructor(){this.#t=new GQe}add(t,e,r){let n=OM(e);if(n){for(let i=0,o=n.length;i<o;i++)this.#t.insert(t,n[i],r);return}this.#t.insert(t,e,r)}match(t,e){return this.#t.search(t,e)}};var sn=class extends zQe{constructor(t={}){super(t),this.router=t.router??new xle({routers:[new $M,new Ale]})}};var LM=new sn,Qy=[],YQe=500;function JQe(t){Qy.unshift(t),Qy.length>YQe&&(Qy.length=YQe)}function QQe(t,e,r){let n=nw(t.confidence),i=Ky(t.reasoning),o=wg(t.reasoning,t.action);return{id:`bf_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,agentId:t.agentId,action:t.action,symbol:t.symbol,quantity:typeof t.quantity=="string"?parseFloat(t.quantity):t.quantity,reasoning:t.reasoning,confidence:n,intent:o,sources:i,coherenceScore:e.score,coherenceExplanation:e.explanation,hallucinationFlags:r.flags,roundId:t.roundId??void 0,timestamp:t.createdAt?.toISOString()??new Date().toISOString()}}LM.get("/",async t=>{let e=Math.min(parseInt(t.req.query("limit")??"20",10),100),r=parseInt(t.req.query("offset")??"0",10),n=t.req.query("agent"),i=t.req.query("intent"),o=parseFloat(t.req.query("minConfidence")??"0"),s=parseFloat(t.req.query("maxConfidence")??"1");try{let a=[];n&&a.push(gr(ir.agentId,n)),i&&a.push(gr(ir.intent,i)),o>0&&a.push(i4(ir.confidence,o)),s<1&&a.push(S0(ir.confidence,s));let c=a.length>0?fs(...a):void 0,l=await Gt.select().from(ir).where(c).orderBy(hs(ir.timestamp)).limit(e).offset(r),u=await Gt.select({count:Z`count(*)`}).from(ir).where(c);return t.json({ok:!0,feed:l,total:Number(u[0]?.count??0),limit:e,offset:r,source:"database"})}catch{let a=Qy;n&&(a=a.filter(l=>l.agentId===n)),i&&(a=a.filter(l=>l.intent===i)),a=a.filter(l=>l.confidence>=o&&l.confidence<=s);let c=a.slice(r,r+e);return t.json({ok:!0,feed:c,total:a.length,limit:e,offset:r,source:"cache"})}});LM.get("/highlights",async t=>{let e=Math.min(parseInt(t.req.query("limit")??"10",10),50);try{let r=await Gt.select().from(ir).where(S0(ir.coherenceScore,.4)).orderBy(hs(ir.timestamp)).limit(e),n=await Gt.select().from(ir).where(i4(ir.confidence,.8)).orderBy(hs(ir.timestamp)).limit(e),i=new Set,o=[];for(let s of[...r,...n])i.has(s.id)||(i.add(s.id),o.push(s));return o.sort((s,a)=>{let c=(s.coherenceScore??1)-(s.confidence??0)*.3,l=(a.coherenceScore??1)-(a.confidence??0)*.3;return c-l}),t.json({ok:!0,highlights:o.slice(0,e),criteria:{lowCoherence:"Trades where reasoning contradicts the action (coherence < 0.4)",highConfidenceRisk:"Trades with very high confidence (> 0.8) that need outcome tracking"}})}catch{let r=Qy.filter(n=>n.coherenceScore<.4||n.confidence>.8).sort((n,i)=>{let o=n.coherenceScore-n.confidence*.3,s=i.coherenceScore-i.confidence*.3;return o-s}).slice(0,e);return t.json({ok:!0,highlights:r,criteria:{lowCoherence:"Trades where reasoning contradicts the action",highConfidenceRisk:"Very high confidence trades needing outcome review"},source:"cache"})}});LM.get("/stats",async t=>{try{let r=(await Gt.select({agentId:ir.agentId,totalTrades:Z`count(*)`,avgCoherence:Z`avg(${ir.coherenceScore})`,avgConfidence:Z`avg(${ir.confidence})`,hallucinationCount:Z`count(*) filter (where jsonb_array_length(${ir.hallucinationFlags}) > 0)`}).from(ir).groupBy(ir.agentId)).map(n=>({agentId:n.agentId,totalTrades:Number(n.totalTrades),avgCoherence:Math.round((Number(n.avgCoherence)||0)*100)/100,avgConfidence:Math.round((Number(n.avgConfidence)||0)*100)/100,hallucinationRate:Number(n.totalTrades)>0?Math.round(Number(n.hallucinationCount)/Number(n.totalTrades)*100)/100:0}));return t.json({ok:!0,benchmarkMetrics:{agents:r,overallCoherence:r.length>0?Math.round(r.reduce((n,i)=>n+i.avgCoherence,0)/r.length*100)/100:0,overallHallucinationRate:r.length>0?Math.round(r.reduce((n,i)=>n+i.hallucinationRate,0)/r.length*100)/100:0}})}catch{let e=new Map;for(let n of Qy){let i=e.get(n.agentId)??{coherence:[],confidence:[],hallucinations:0};i.coherence.push(n.coherenceScore),i.confidence.push(n.confidence),n.hallucinationFlags.length>0&&i.hallucinations++,e.set(n.agentId,i)}let r=Array.from(e.entries()).map(([n,i])=>({agentId:n,totalTrades:i.coherence.length,avgCoherence:Math.round(i.coherence.reduce((o,s)=>o+s,0)/i.coherence.length*100)/100,avgConfidence:Math.round(i.confidence.reduce((o,s)=>o+s,0)/i.confidence.length*100)/100,hallucinationRate:Math.round(i.hallucinations/i.coherence.length*100)/100}));return t.json({ok:!0,benchmarkMetrics:{agents:r},source:"cache"})}});LM.get("/:agentId",async t=>{let e=t.req.param("agentId"),r=Math.min(parseInt(t.req.query("limit")??"20",10),100),n=parseInt(t.req.query("offset")??"0",10);try{let i=await Gt.select().from(ir).where(gr(ir.agentId,e)).orderBy(hs(ir.timestamp)).limit(r).offset(n),o=await Gt.select({count:Z`count(*)`}).from(ir).where(gr(ir.agentId,e)),s=Number(o[0]?.count??0),a=i.length>0?i.reduce((l,u)=>l+(u.coherenceScore??0),0)/i.length:0,c=i.filter(l=>l.hallucinationFlags&&l.hallucinationFlags.length>0).length;return t.json({ok:!0,agentId:e,feed:i,total:s,limit:r,offset:n,benchmarkScores:{avgCoherence:Math.round(a*100)/100,hallucinationRate:s>0?Math.round(c/i.length*100)/100:0,tradesAnalyzed:i.length}})}catch{let i=Qy.filter(s=>s.agentId===e),o=i.slice(n,n+r);return t.json({ok:!0,agentId:e,feed:o,total:i.length,limit:r,offset:n,source:"cache"})}});var _jt={minReasoningLength:30,minCoherenceScore:.2,maxHallucinationSeverity:.75,minCompositeScore:.3,enforceRejection:!0},Sjt={..._jt},vu={totalChecked:0,totalPassed:0,totalRejected:0,rejectionsByReason:{},avgCompositeScore:0,recentScores:[]},wjt=100;function ZQe(t,e,r){let n={...Sjt,...r},i=[];if(t.action==="hold"){let f=tw(t.reasoning,"hold",e),y=rw(t.reasoning,e);return{passed:!0,decision:t,rejectionReasons:[],scores:{reasoningLength:1,dataReference:1,coherence:f.score,hallucinationFree:1-y.severity,structuralCompleteness:1,composite:1},coherence:f,hallucinations:y}}let o=t.reasoning.length,s=o>=n.minReasoningLength?1:0;s===0&&i.push(`Reasoning too short (${o} chars, min ${n.minReasoningLength})`);let a=xjt(t.reasoning,e);a<.3&&i.push(`Reasoning doesn't reference market data (score: ${a.toFixed(2)})`);let c=tw(t.reasoning,t.action,e);c.score<n.minCoherenceScore&&i.push(`Coherence too low (${c.score.toFixed(2)}, min ${n.minCoherenceScore}): ${c.explanation}`);let l=rw(t.reasoning,e),u=1-l.severity;l.severity>n.maxHallucinationSeverity&&i.push(`Too many hallucinations (severity: ${l.severity.toFixed(2)}, max ${n.maxHallucinationSeverity}): ${l.flags.join("; ")}`);let d=Ajt(t);d<.5&&i.push(`Reasoning structurally incomplete (score: ${d.toFixed(2)}). Missing sources or intent.`);let p=Math.round((s*.1+a*.2+c.score*.35+u*.2+d*.15)*100)/100;p<n.minCompositeScore&&i.push(`Composite quality score too low (${p.toFixed(2)}, min ${n.minCompositeScore})`);let m=i.length===0;vu.totalChecked++,vu.recentScores.push(p),vu.recentScores.length>wjt&&vu.recentScores.shift(),vu.avgCompositeScore=vu.recentScores.reduce((f,y)=>f+y,0)/vu.recentScores.length;let h=t;if(!m&&n.enforceRejection){vu.totalRejected++;for(let f of i){let y=f.split("(")[0].trim();vu.rejectionsByReason[y]=(vu.rejectionsByReason[y]??0)+1}h={action:"hold",symbol:t.symbol,quantity:0,reasoning:`[QUALITY GATE REJECTED] Original action: ${t.action} ${t.symbol}. Rejection reasons: ${i.join("; ")}. Original reasoning: ${t.reasoning.slice(0,200)}`,confidence:0,timestamp:t.timestamp,sources:t.sources,intent:t.intent},console.log(`[QualityGate] REJECTED ${t.action} ${t.symbol}: composite=${p.toFixed(2)}, reasons=${i.length}`)}else vu.totalPassed++;return{passed:m,decision:h,rejectionReasons:i,scores:{reasoningLength:s,dataReference:a,coherence:c.score,hallucinationFree:u,structuralCompleteness:d,composite:p},coherence:c,hallucinations:l}}function xjt(t,e){let r=0,n=t.toLowerCase();return e.filter(o=>n.includes(o.symbol.toLowerCase())).length>0&&(r+=.4),/\$\d+\.?\d*/i.test(t)&&(r+=.2),/[\d.]+%|percent|change|up\s+\d|down\s+\d/i.test(t)&&(r+=.2),/because|therefore|given that|based on|considering|analysis/i.test(t)&&(r+=.2),Math.min(1,r)}function Ajt(t){let e=0;return t.sources&&t.sources.length>0&&(e+=.4),t.intent&&(e+=.3),t.predictedOutcome&&(e+=.3),e}var WR={lastRun:null,totalProcessed:0,outcomes:[]},XQe=500;async function eZe(t){let e=[],r=new Map;for(let n of t)r.set(n.symbol.toLowerCase(),n.price);try{let n=new Date(Date.now()-18e5),i=await Gt.select().from(ir).where(fs(P9(ir.actualOutcome),S0(ir.timestamp,n))).orderBy(hs(ir.timestamp)).limit(100);for(let o of i){let s=r.get(o.symbol.toLowerCase());if(!s)continue;if(o.action==="hold"){let f=`Held position. ${o.symbol} currently at $${s.toFixed(2)}.`;await Gt.update(ir).set({actualOutcome:f}).where(gr(ir.id,o.id)),e.push({justificationId:o.id,agentId:o.agentId,symbol:o.symbol,action:o.action,entryPrice:null,currentPrice:s,pnlPercent:null,outcome:"breakeven",outcomeText:f,confidenceAtTrade:o.confidence,wasCalibrated:!0});continue}let a=null;try{let f=await Gt.select().from(Gr).where(fs(gr(Gr.agentId,o.agentId),gr(Gr.stockSymbol,o.symbol))).orderBy(hs(Gr.createdAt)).limit(1);f.length>0&&(a=parseFloat(f[0].pricePerToken))}catch{}let c=null,l="pending",u="";a&&a>0?(o.action==="buy"?c=(s-a)/a*100:c=(a-s)/a*100,Math.abs(c)<.5?(l="breakeven",u=`Breakeven. Entry $${a.toFixed(2)}, current $${s.toFixed(2)} (${c>=0?"+":""}${c.toFixed(2)}%).`):c>0?(l="profit",u=`Profit: +${c.toFixed(2)}%. Entry $${a.toFixed(2)}, current $${s.toFixed(2)}.`):(l="loss",u=`Loss: ${c.toFixed(2)}%. Entry $${a.toFixed(2)}, current $${s.toFixed(2)}.`)):(u=`${o.action==="buy"?"Bought":"Sold"} ${o.symbol}. Current price: $${s.toFixed(2)}.`,l="pending");let d=o.confidence,p=d>=.6,m=p&&l==="profit"||!p&&l!=="profit"||l==="breakeven";await Gt.update(ir).set({actualOutcome:u}).where(gr(ir.id,o.id));let h={justificationId:o.id,agentId:o.agentId,symbol:o.symbol,action:o.action,entryPrice:a,currentPrice:s,pnlPercent:c,outcome:l,outcomeText:u,confidenceAtTrade:d,wasCalibrated:m};e.push(h),WR.outcomes.unshift(h)}WR.outcomes.length>XQe&&(WR.outcomes.length=XQe),WR.lastRun=new Date().toISOString(),WR.totalProcessed+=e.length,console.log(`[OutcomeTracker] Processed ${e.length} outcomes. Profit: ${e.filter(o=>o.outcome==="profit").length}, Loss: ${e.filter(o=>o.outcome==="loss").length}, Breakeven: ${e.filter(o=>o.outcome==="breakeven").length}`)}catch(n){console.error(`[OutcomeTracker] Failed: ${n instanceof Error?n.message:String(n)}`)}return e}var sw=new Map,Ele=[],tZe=200,rZe=500;function nZe(t){let e=sw.get(t.roundId)??[];if(e.push(t),sw.set(t.roundId,e),sw.size>rZe){let r=Array.from(sw.keys());for(let n=0;n<r.length-rZe;n++)sw.delete(r[n])}}function iZe(t){let e=sw.get(t);if(!e||e.length<2)return null;let r=[];for(let d=0;d<e.length;d++)for(let p=d+1;p<e.length;p++){let m=e[d],h=e[p],f=Ejt(m,h);r.push(f)}let n=r.filter(d=>d.analysis.actionConflict).length,i=r.length>0?r.reduce((d,p)=>d+p.analysis.divergenceScore,0)/r.length:0,o=r.length>0?r.reduce((d,p)=>d+p.analysis.confidenceSpread,0)/r.length:0,s=new Map;for(let d of r)if(d.analysis.actionConflict){let p=d.symbol;s.set(p,(s.get(p)??0)+1)}let a=s.size>0?[...s.entries()].sort((d,p)=>p[1]-d[1])[0][0]:null,c=new Map;for(let d of e){let p=c.get(d.symbol)??new Set;p.add(d.action),c.set(d.symbol,p)}let l=[...c.entries()].filter(([,d])=>d.size===1).map(([d])=>d),u={roundId:t,timestamp:e[0].timestamp,diffs:r,stats:{avgDivergence:Math.round(i*100)/100,actionConflictRate:r.length>0?Math.round(n/r.length*100)/100:0,avgConfidenceSpread:Math.round(o*100)/100,mostDisagreedSymbol:a,consensusSymbols:l}};return Ele.unshift(u),Ele.length>tZe&&(Ele.length=tZe),u}function Ejt(t,e){let r=t.action==="buy"&&e.action==="sell"||t.action==="sell"&&e.action==="buy",n=t.confidence>1?t.confidence/100:t.confidence,i=e.confidence>1?e.confidence/100:e.confidence,o=Math.abs(n-i),s=t.intent===e.intent,a=new Set(t.sources),c=new Set(e.sources),l=[...a].filter(E=>c.has(E)),u=[...a].filter(E=>!c.has(E)),d=[...c].filter(E=>!a.has(E)),p=t.reasoning.length,m=e.reasoning.length,h=p>=m?t.agentId:e.agentId,f=Math.min(p,m)>0?Math.round(Math.max(p,m)/Math.min(p,m)*100)/100:1,y=t.coherenceScore>=e.coherenceScore?t.agentId:e.agentId,v=0;r&&(v+=.4),s||(v+=.15),v+=o*.2,v+=(1-l.length/Math.max(1,a.size+c.size-l.length))*.1,Math.abs(t.coherenceScore-e.coherenceScore)>.3&&(v+=.15),v=Math.min(1,v);let _=[];r&&_.push(`ACTION CONFLICT: ${t.agentId} wants to ${t.action} while ${e.agentId} wants to ${e.action}`),o>.3&&_.push(`Large confidence gap: ${t.agentId}=${(n*100).toFixed(0)}% vs ${e.agentId}=${(i*100).toFixed(0)}%`),s||_.push(`Different strategies: ${t.agentId} (${t.intent}) vs ${e.agentId} (${e.intent})`),f>2&&_.push(`${h} provided ${f}x more detailed reasoning`),_.length===0&&_.push("Agents largely agree on this trade");let x={actionConflict:r,confidenceSpread:Math.round(o*100)/100,intentMatch:s,sharedSources:l,uniqueSourcesA:u,uniqueSourcesB:d,deeperReasoningAgent:h,reasoningLengthRatio:f,higherCoherenceAgent:y,divergenceScore:Math.round(v*100)/100,summary:_.join(". ")};return{symbol:t.symbol!==e.symbol?`${t.symbol} vs ${e.symbol}`:t.symbol,roundId:t.roundId,timestamp:t.timestamp,agentA:t,agentB:e,analysis:x}}var Rle=[];function oZe(t,e,r,n,i,o,s){Rle.unshift({agentId:t,symbol:e,roundId:r,hadHallucinations:n.length>0,flags:n,severity:i,confidence:o,action:s,timestamp:new Date().toISOString()}),Rle.length>5e3&&(Rle.length=5e3)}var Tle=[];function sZe(t){Tle.unshift(t),Tle.length>3e3&&(Tle.length=3e3)}var BM=[];function aZe(t){BM.push(t),BM.length>5e3&&BM.splice(0,BM.length-5e3)}var UM=[];function cZe(t){UM.push({...t,wordCount:t.reasoning.split(/\s+/).length}),UM.length>5e3&&UM.splice(0,UM.length-5e3)}var Ile=[];function lZe(t){Ile.unshift(t),Ile.length>5e3&&(Ile.length=5e3)}var zM=new sn,Um=[],uZe=5e3;function dZe(t){Um.push(t),Um.length>uZe&&Um.splice(0,Um.length-uZe)}function is(t){return t.length===0?0:t.reduce((e,r)=>e+r,0)/t.length}function aw(t){if(t.length<2)return 0;let e=is(t);return t.reduce((r,n)=>r+(n-e)**2,0)/(t.length-1)}function pZe(t,e){let r=t.length,n=e.length;if(r<2||n<2)return{tStatistic:0,degreesOfFreedom:0,pValue:1};let i=is(t),o=is(e),s=aw(t),a=aw(e),c=s/r,l=a/n,u=Math.sqrt(c+l);if(u===0)return{tStatistic:0,degreesOfFreedom:r+n-2,pValue:1};let d=(i-o)/u,p=(c+l)**2/(c**2/(r-1)+l**2/(n-1)),m=Rjt(Math.abs(d),p);return{tStatistic:Math.round(d*1e3)/1e3,degreesOfFreedom:Math.round(p*10)/10,pValue:m}}function Rjt(t,e){if(e<=0||t===0)return 1;let r=e/(e+t*t),n=e/2,o=Tjt(r,n,.5);return Math.min(1,Math.max(0,Math.round(o*1e4)/1e4))}function Tjt(t,e,r){if(t<=0)return 0;if(t>=1)return 1;let n=FM(e)+FM(r)-FM(e+r),i=Math.exp(Math.log(t)*e+Math.log(1-t)*r-n)/e,o=1,s=1,a=1-(e+r)*t/(e+1);Math.abs(a)<1e-30&&(a=1e-30),a=1/a,o=a;for(let c=1;c<=200;c++){let l=c*(r-c)*t/((e+2*c-1)*(e+2*c));a=1+l*a,Math.abs(a)<1e-30&&(a=1e-30),s=1+l/s,Math.abs(s)<1e-30&&(s=1e-30),a=1/a,o*=a*s,l=-(e+c)*(e+r+c)*t/((e+2*c)*(e+2*c+1)),a=1+l*a,Math.abs(a)<1e-30&&(a=1e-30),s=1+l/s,Math.abs(s)<1e-30&&(s=1e-30),a=1/a;let u=a*s;if(o*=u,Math.abs(u-1)<1e-10)break}return i*o}function FM(t){let r=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(t<.5)return Math.log(Math.PI/Math.sin(Math.PI*t))-FM(1-t);t-=1;let n=r[0];for(let o=1;o<9;o++)n+=r[o]/(t+o);let i=t+7+.5;return .5*Math.log(2*Math.PI)+(t+.5)*Math.log(i)-i+Math.log(n)}function mZe(t,e){let r=t.length,n=e.length;if(r<2||n<2)return{d:0,label:"insufficient data"};let i=Math.sqrt(((r-1)*aw(t)+(n-1)*aw(e))/(r+n-2));if(i===0)return{d:0,label:"negligible"};let o=Math.round((is(t)-is(e))/i*1e3)/1e3,s=Math.abs(o),a=s<.2?"negligible":s<.5?"small":s<.8?"medium":"large";return{d:o,label:a}}function Ijt(t){let e=t.length;if(e<2)return{lower:0,upper:0,margin:0};let r=is(t),n=1.96*Math.sqrt(aw(t)/e);return{lower:Math.round((r-n)*100)/100,upper:Math.round((r+n)*100)/100,margin:Math.round(n*100)/100}}function Zy(t){return cw().find(r=>r.agentId===t)?.name??t}function Cle(){return[...new Set(Um.map(t=>t.agentId))]}function fZe(t,e){let r=new Map,n=new Map;for(let B of Um)B.agentId===t?r.set(B.roundId,B):B.agentId===e&&n.set(B.roundId,B);let i=[],o=[],s=[],a=[],c=[],l=[],u=0,d=0,p=0;for(let[B,P]of r){let V=n.get(B);V&&(i.push(P.pnl),o.push(V.pnl),s.push(P.coherence),a.push(V.coherence),c.push(P.hallucinationCount),l.push(V.hallucinationCount),P.pnl>V.pnl?u++:V.pnl>P.pnl?d++:p++)}let m=i.length,h=pZe(i,o),f=mZe(i,o),y=i.reduce((B,P)=>B+P,0),v=o.reduce((B,P)=>B+P,0),_=is(s),x=is(a),E=is(c),I=is(l),N="draw";u>d?N=t:d>u?N=e:y>v?N=t:v>y&&(N=e);let L=m>=30&&h.pValue<.05?.95:m>=10?Math.min(.9,.5+m*.02):Math.min(.5,m*.1);return{agentA:{id:t,name:Zy(t)},agentB:{id:e,name:Zy(e)},rounds:m,agentAWins:u,agentBWins:d,draws:p,pnlComparison:{agentAPnl:Math.round(y*100)/100,agentBPnl:Math.round(v*100)/100,difference:Math.round((y-v)*100)/100,pValue:h.pValue,isSignificant:h.pValue<.05,effectSize:f.d,effectLabel:f.label},coherenceComparison:{agentA:Math.round(_*100)/100,agentB:Math.round(x*100)/100,winner:_>x?t:x>_?e:"tie"},hallucinationComparison:{agentA:Math.round(E*100)/100,agentB:Math.round(I*100)/100,winner:E<I?t:I<E?e:"tie"},overallWinner:N,confidence:Math.round(L*100)/100}}zM.get("/head-to-head/:agentA/:agentB",t=>{let e=t.req.param("agentA"),r=t.req.param("agentB");if(e===r)return t.json({ok:!1,error:"Cannot compare an agent with itself"},400);let n=fZe(e,r);return n.rounds===0?t.json({ok:!0,warning:"No shared rounds found between these agents",result:n}):t.json({ok:!0,result:n})});zM.get("/rankings",t=>{let r=Cle().map(n=>{let i=Um.filter(c=>c.agentId===n),o=i.map(c=>c.pnl),s=Ijt(o),a=o.reduce((c,l)=>c+l,0);return{agentId:n,agentName:Zy(n),rounds:i.length,totalPnl:Math.round(a*100)/100,meanPnl:Math.round(is(o)*100)/100,stdDev:Math.round(Math.sqrt(aw(o))*100)/100,ci95:s,avgCoherence:Math.round(is(i.map(c=>c.coherence))*100)/100,avgHallucinations:Math.round(is(i.map(c=>c.hallucinationCount))*100)/100}});return r.sort((n,i)=>i.totalPnl-n.totalPnl),r.forEach((n,i)=>Object.assign(n,{rank:i+1})),t.json({ok:!0,totalAgents:r.length,totalRounds:new Set(Um.map(n=>n.roundId)).size,rankings:r})});zM.get("/dominance-matrix",t=>{let e=Cle(),r={};for(let i of e){r[i]={};for(let o of e){if(i===o){r[i][o]={wins:0,losses:0,draws:0,winRate:0};continue}let s=fZe(i,o),a=s.agentAWins+s.agentBWins+s.draws;r[i][o]={wins:s.agentAWins,losses:s.agentBWins,draws:s.draws,winRate:a>0?Math.round(s.agentAWins/a*100)/100:0}}}let n=e.map(i=>{let o=e.filter(a=>a!==i),s=o.length>0?is(o.map(a=>r[i][a].winRate)):0;return{agentId:i,agentName:Zy(i),avgWinRate:Math.round(s*100)/100}}).sort((i,o)=>o.avgWinRate-i.avgWinRate);return t.json({ok:!0,agents:e.map(i=>({id:i,name:Zy(i)})),matrix:r,dominanceRanking:n,mostDominant:n[0]?.agentId??null})});zM.get("/statistical-tests",t=>{let e=Cle(),r=[];for(let n=0;n<e.length;n++)for(let i=n+1;i<e.length;i++){let o=e[n],s=e[i],a=new Map,c=new Map;for(let _ of Um)_.agentId===o?a.set(_.roundId,_.pnl):_.agentId===s&&c.set(_.roundId,_.pnl);let l=[],u=[];for(let[_,x]of a){let E=c.get(_);E!==void 0&&(l.push(x),u.push(E))}let d=pZe(l,u),p=mZe(l,u),m=d.pValue<.05,h=Zy(o),f=Zy(s),y=is(l)>=is(u)?h:f,v=l.length<2?"Insufficient data for statistical comparison":m?`${y} significantly outperforms (p=${d.pValue}, ${p.label} effect)`:`No significant difference (p=${d.pValue})`;r.push({agentA:o,agentB:s,sampleSizeA:l.length,sampleSizeB:u.length,sharedRounds:l.length,welchT:d,effectSize:p,isSignificant:m,interpretation:v})}return t.json({ok:!0,significanceLevel:.05,totalPairs:r.length,significantPairs:r.filter(n=>n.isSignificant).length,tests:r})});import{createHash as Nle}from"crypto";var Cjt="1.0.0",Ojt=500,Ole=[],Njt=new Map;function Pjt(t){let e=JSON.stringify(t,Object.keys(t).sort());return Nle("sha256").update(e).digest("hex")}function kjt(t){if(t.length===0)return Nle("sha256").update("empty").digest("hex");if(t.length===1)return t[0];let e=[],r=[...t];for(r.length%2!==0&&r.push(r[r.length-1]),e.push(r);r.length>1;){let n=[];for(let i=0;i<r.length;i+=2)n.push(Nle("sha256").update(r[i]+r[i+1]).digest("hex"));n.length>1&&n.length%2!==0&&n.push(n[n.length-1]),e.push(n),r=n}return Njt.set(r[0],e),r[0]}function hZe(t,e){let r=0,n=e.map(c=>({id:c.id??`${t}-j${++r}`,agentId:c.agentId,action:c.action,symbol:c.symbol,reasoning:c.reasoning,confidence:c.confidence,timestamp:c.timestamp})),i=n.map(c=>({id:c.id,hash:Pjt(c)})),o=kjt(i.map(c=>c.hash)),s=[...new Set(n.map(c=>c.agentId))],a={roundId:t,merkleRoot:o,justificationHashes:i,agentIds:s,timestamp:new Date().toISOString(),proofVersion:Cjt};for(Ole.push(a);Ole.length>Ojt;)Ole.shift()}var Djt=500;var gZe=new Map;function yZe(t,e,r,n){let i=gZe.get(t)??[],o=1-r,s=n?1:0,a=Mjt(e*.4+o*.3+s*.3);i.push({coherence:e,hallucinationSeverity:r,disciplinePass:n,compositeScore:a,timestamp:new Date().toISOString()}),i.length>Djt&&i.shift(),gZe.set(t,i)}function Mjt(t){return Math.round(t*100)/100}var Xy=new Map,bZe=new Map,Ple=new Map,VM=[],vZe=new Map,kle=new Map;function _Ze(t,e){if(e.length<2)return;for(let o of e)Xy.has(o.agentId)||Xy.set(o.agentId,1500),bZe.set(o.agentId,o.agentName);for(let o=0;o<e.length;o++)for(let s=o+1;s<e.length;s++){let a=e[o],c=e[s],l=Xy.get(a.agentId),u=Xy.get(c.agentId),{newA:d,newB:p}=$jt(l,u,a.compositeScore,c.compositeScore);Xy.set(a.agentId,d),Xy.set(c.agentId,p)}let r=[...Xy.entries()].sort((o,s)=>s[1]-o[1]),n=new Date().toISOString(),i=[];for(let o=0;o<r.length;o++){let[s,a]=r[o],c=o+1,l=vZe.get(s)??c,u=e.find(h=>h.agentId===s),d=kle.get(s)??[];d.push(c),kle.set(s,d);let p={roundId:t,elo:jM(a),rank:c,compositeScore:u?.compositeScore??0,timestamp:n},m=Ple.get(s)??[];m.push(p),Ple.set(s,m),i.push({agentId:s,agentName:bZe.get(s)??s,elo:jM(a),rank:c,previousRank:l,rankChange:l-c,compositeScore:u?.compositeScore??0,streak:Ljt(s),roundsPlayed:(Ple.get(s)??[]).length}),vZe.set(s,c)}VM.push({roundId:t,timestamp:n,rankings:i}),VM.length>500&&VM.splice(0,VM.length-500)}function $jt(t,e,r,n){let i=1/(1+Math.pow(10,(e-t)/400)),o=1-i,s,a;r>n?(s=1,a=0):n>r?(s=0,a=1):(s=.5,a=.5);let c=t+32*(s-i),l=e+32*(a-o);return{newA:jM(c),newB:jM(l)}}function Ljt(t){let e=kle.get(t);if(!e||e.length===0)return{type:"none",length:0,longestWin:0,longestLoss:0};let r=0,n=0,i=0,o=0;for(let c of e)c===1?(i++,o=0,r=Math.max(r,i)):(o++,i=0,n=Math.max(n,o));let s="none",a=0;return i>0?(s="winning",a=i):o>0&&(s="losing",a=o),{type:s,length:a,longestWin:r,longestLoss:n}}function jM(t){return Math.round(t*10)/10}var Dle=[];var qM=new Map,Bjt=100;function Ujt(t,e,r,n,i,o,s){let a=Fjt(r,n,o),c=Wjt(r,n),l=Gjt(r,n,o),u=Kjt(r,n,o,t),d=Jjt(a,c,l,n,i),p=Math.round((a.logicQuality*.25+a.evidenceUsage*.2+a.riskAwareness*.2+a.originality*.15+a.conclusionValidity*.2)*100)/100,m={reviewerAgentId:t,targetAgentId:e,roundId:s,overallScore:p,scores:a,critique:d,strengths:c,weaknesses:l,wouldAgree:u,timestamp:new Date().toISOString()};return Dle.unshift(m),Dle.length>3e3&&(Dle.length=3e3),m}function wZe(t,e){let r=[];for(let u of t)for(let d of t){if(u.agentId===d.agentId)continue;let p=Ujt(u.agentId,d.agentId,d.reasoning,d.action,d.symbol,d.confidence,e);r.push(p)}let i=[...new Set(t.map(u=>u.agentId))].map(u=>{let d=r.filter(p=>p.targetAgentId===u);return Qjt(u,d)}),o=null,s=null;for(let u of i)(!o||u.avgPeerScore<o.avgScore)&&(o={agentId:u.agentId,avgScore:u.avgPeerScore}),(!s||u.avgPeerScore>s.avgScore)&&(s={agentId:u.agentId,avgScore:u.avgPeerScore});let a=r.filter(u=>u.wouldAgree).length,c=r.length>0?Math.round((1-a/r.length)*100)/100:0,l={roundId:e,reviews:r,agentSummaries:i,disagreementRate:c,mostControversial:o,bestReviewed:s,timestamp:new Date().toISOString()};if(qM.set(e,l),qM.size>Bjt){let u=[...qM.keys()][0];qM.delete(u)}return l}function Fjt(t,e,r){let n=zjt(t),i=Vjt(t),o=jjt(t,e),s=qjt(t),a=Hjt(t,e,r);return{logicQuality:Math.round(n*100)/100,evidenceUsage:Math.round(i*100)/100,riskAwareness:Math.round(o*100)/100,originality:Math.round(s*100)/100,conclusionValidity:Math.round(a*100)/100}}function zjt(t){let e=.3,r=t.split(/\s+/).length;r>30&&(e+=.1),r>60&&(e+=.1),r>100&&(e+=.05);let n=[/\bbecause\b/i,/\btherefore\b/i,/\bconsequently\b/i,/\bas a result\b/i,/\bdue to\b/i,/\bgiven that\b/i,/\bthis suggests\b/i,/\bwhich means\b/i,/\bimplying\b/i,/\bsince\b/i,/\bhence\b/i,/\bthus\b/i];for(let s of n)s.test(t)&&(e+=.04);let i=[/\bhowever\b/i,/\bon the other hand\b/i,/\bwhile\b/i,/\balthough\b/i,/\bcompared to\b/i,/\brather than\b/i,/\binstead of\b/i,/\bbut\b/i,/\bdespite\b/i];for(let s of i)s.test(t)&&(e+=.03);let o=[/\d+\.?\d*%/,/ratio/i,/average/i,/relative/i,/volatility/i,/correlation/i,/standard deviation/i];for(let s of o)s.test(t)&&(e+=.03);return Math.min(1,e)}function Vjt(t){let e=.2;/\$\d+\.?\d*/i.test(t)&&(e+=.15);let r=[/\bprice\b/i,/\bvolume\b/i,/\b24h\b/i,/\bchange\b/i,/\bmarket cap\b/i,/\bP\/E\b/i,/\bEPS\b/i,/\brevenue\b/i,/\bearnings\b/i,/\bRSI\b/i,/\bMACD\b/i,/\bmoving average\b/i,/\bsupport\b/i,/\bresistance\b/i,/\btrend\b/i];for(let i of r)i.test(t)&&(e+=.04);let n=t.match(/\b[A-Z]{2,5}x\b/g);return n&&n.length>1&&(e+=.1),/\bportfolio\b|\bposition\b|\bcash\b|\bbalance\b/i.test(t)&&(e+=.1),Math.min(1,e)}function jjt(t,e){let r=.2,n=[/\brisk\b/i,/\bdownside\b/i,/\buncertain/i,/\bvolatil/i,/\bloss/i,/\bdrawdown\b/i,/\bcaution/i,/\bexposure\b/i,/\bhedg/i,/\bprotect/i,/\bstop.?loss/i,/\bdiversif/i,/\bconcentrat/i,/\blimit/i,/\bmax\s+position/i];for(let o of n)o.test(t)&&(r+=.05);let i=[/\bif\b/i,/\bcould\b/i,/\bmight\b/i,/\bmay\b/i,/\bpotentially\b/i,/\bpossibly\b/i,/\bin case\b/i];for(let o of i)o.test(t)&&(r+=.03);return e==="buy"&&/\bdownside\b|\brisk\b|\bcaution\b/i.test(t)&&(r+=.1),Math.min(1,r)}function qjt(t){let e=.3,r=t.split(/\s+/).length,n=t.split(/[.!?]+/).filter(Boolean).length,i=new Set(t.toLowerCase().split(/\s+/)),o=r>0?i.size/r:0;e+=Math.min(.2,o*.3),n>=3&&(e+=.1),n>=5&&(e+=.05);let s=[/\bexpect\b/i,/\bpredict\b/i,/\bforecast\b/i,/\blikely\b/i,/\bwill\b/i,/\bshould\b/i,/\bnext\b/i,/\bfuture\b/i,/\bopportunity\b/i,/\bcatalyst\b/i,/\btarget\b/i];for(let a of s)a.test(t)&&(e+=.03);return/\bhistorically\b|\bpreviously\b|\blast\s+(?:week|month|quarter)/i.test(t)&&(e+=.1),Math.min(1,e)}function Hjt(t,e,r){let n=.5,i=t.split(/\s+/).length,o=r>1?r/100:r;o>.8&&i<20&&(n-=.2),o<.3&&/\bdefinitely\b|\bcertainly\b|\bclearly\b/i.test(t)&&(n-=.15),e==="hold"&&i<15&&(n-=.1);let s=SZe(t,[/\bbullish\b/i,/\bundervalued\b/i,/\bgrowth\b/i,/\bupside\b/i,/\baccumulate\b/i,/\bstrong\b/i,/\bpositive\b/i]),a=SZe(t,[/\bbearish\b/i,/\bovervalued\b/i,/\bdecline\b/i,/\bdownside\b/i,/\bweak\b/i,/\bnegative\b/i,/\bconcern/i]);return e==="buy"&&s>a&&(n+=.2),e==="sell"&&a>s&&(n+=.2),e==="buy"&&a>s+1&&(n-=.15),e==="sell"&&s>a+1&&(n-=.15),Math.max(0,Math.min(1,n))}function SZe(t,e){let r=0;for(let n of e)n.test(t)&&r++;return r}function Wjt(t,e){let r=[];return t.split(/\s+/).length>60&&r.push("Detailed analysis with substantial reasoning"),/\bbecause\b|\btherefore\b|\bthus\b|\bconsequently\b/i.test(t)&&r.push("Uses causal reasoning to connect observations to conclusions"),/\brisk\b|\bdownside\b|\bcaution\b/i.test(t)&&r.push("Acknowledges risks and potential downsides"),/\$\d+\.?\d*/.test(t)&&/\d+\.?\d*%/.test(t)&&r.push("Cites specific quantitative data points"),/\bhowever\b|\bon the other hand\b|\balthough\b/i.test(t)&&r.push("Considers multiple perspectives before concluding"),/\bhistorically\b|\bpreviously\b|\blast\s+(?:week|month)/i.test(t)&&r.push("Incorporates historical context"),/\bportfolio\b|\bposition\b|\bconcentration\b|\bexposure\b/i.test(t)&&r.push("Considers portfolio-level implications"),r.slice(0,4)}function Gjt(t,e,r){let n=[],i=t.split(/\s+/).length,o=r>1?r/100:r;return i<20&&n.push("Reasoning is too brief to be convincing"),o>.8&&!/\brisk\b|\bdownside\b|\bcaution\b/i.test(t)&&n.push("High confidence without acknowledging any risks"),e!=="hold"&&!/\$\d+\.?\d*/.test(t)&&n.push("No specific price levels cited to support the trade"),/\bbecause\b|\btherefore\b|\bsince\b|\bdue to\b/i.test(t)||n.push("Lacks explicit causal reasoning"),/\bI think\b|\bI feel\b|\bI believe\b/i.test(t)&&!/data|evidence|indicator/i.test(t)&&n.push("Relies on subjective belief without data support"),e==="buy"&&o<.3&&n.push("Executing a buy with very low confidence suggests uncertainty"),n.slice(0,4)}function Kjt(t,e,r,n){let i=r>1?r/100:r,o=/\$\d+\.?\d*|\d+\.?\d*%/i.test(t),s=/\brisk\b|\bdownside\b|\bcaution\b/i.test(t),a=t.split(/\s+/).length,c=.5;return a>40&&(c+=.1),o&&(c+=.1),s&&(c+=.05),i>.3&&i<.85&&(c+=.05),n.includes("claude")?(s&&(c+=.1),e==="hold"&&/\bcaution\b|\buncertain/i.test(t)&&(c+=.1),e==="buy"&&i>.9&&!s&&(c-=.15)):n.includes("gpt")?(/\bmomentum\b|\btrend\b|\bbreakout\b|\btechnical\b/i.test(t)&&(c+=.1),e==="hold"&&a<30&&(c-=.1)):n.includes("grok")&&(/\bcontrarian\b|\boverreaction\b|\bpanic\b|\boversold\b/i.test(t)&&(c+=.15),c-=.1),Yjt(t+n)%100<c*100}function Yjt(t){let e=0;for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);e=(e<<5)-e+n,e=e&e}return Math.abs(e)}function Jjt(t,e,r,n,i){let o=[],s=(t.logicQuality+t.evidenceUsage+t.riskAwareness+t.originality+t.conclusionValidity)/5;return s>=.7?o.push(`The ${n} decision on ${i} is well-reasoned.`):s>=.4?o.push(`The ${n} decision on ${i} has some merit but could be stronger.`):o.push(`The ${n} decision on ${i} lacks sufficient justification.`),e.length>0&&o.push(`Strength: ${e[0]}.`),r.length>0&&o.push(`Concern: ${r[0]}.`),t.evidenceUsage<.4&&o.push("More specific data citations would strengthen this analysis."),t.riskAwareness<.3&&o.push("Risk factors should be explicitly addressed."),t.originality<.3&&o.push("The analysis restates observable facts without deeper insight."),o.join(" ")}function Qjt(t,e){if(e.length===0)return{agentId:t,avgPeerScore:0,avgScores:{logicQuality:0,evidenceUsage:0,riskAwareness:0,originality:0,conclusionValidity:0},peerAgreementRate:0,totalReviews:0,topStrength:null,topWeakness:null,reviewConsistency:0};let r=Math.round(e.reduce((f,y)=>f+y.overallScore,0)/e.length*100)/100,n={logicQuality:GR(e.map(f=>f.scores.logicQuality)),evidenceUsage:GR(e.map(f=>f.scores.evidenceUsage)),riskAwareness:GR(e.map(f=>f.scores.riskAwareness)),originality:GR(e.map(f=>f.scores.originality)),conclusionValidity:GR(e.map(f=>f.scores.conclusionValidity))},i=e.filter(f=>f.wouldAgree).length,o=Math.round(i/e.length*100)/100,s=new Map,a=new Map;for(let f of e){for(let y of f.strengths)s.set(y,(s.get(y)??0)+1);for(let y of f.weaknesses)a.set(y,(a.get(y)??0)+1)}let c=s.size>0?[...s.entries()].sort((f,y)=>y[1]-f[1])[0][0]:null,l=a.size>0?[...a.entries()].sort((f,y)=>y[1]-f[1])[0][0]:null,u=e.map(f=>f.overallScore),d=r,p=u.reduce((f,y)=>f+(y-d)**2,0)/u.length,m=Math.sqrt(p),h=Math.round(Math.max(0,1-m*2)*100)/100;return{agentId:t,avgPeerScore:r,avgScores:n,peerAgreementRate:o,totalReviews:e.length,topStrength:c,topWeakness:l,reviewConsistency:h}}function GR(t){return t.length===0?0:Math.round(t.reduce((e,r)=>e+r,0)/t.length*100)/100}var Mle=[];var Zjt=[{name:"price_action",patterns:[/\bprice\b/i,/\$\d+/i,/\btrading\s+at\b/i]},{name:"momentum",patterns:[/\bmomentum\b/i,/\btrend\b/i,/\bbreakout\b/i,/\brally\b/i]},{name:"mean_reversion",patterns:[/\boversold\b/i,/\boverbought\b/i,/\bpullback\b/i,/\breversion\b/i]},{name:"volume_analysis",patterns:[/\bvolume\b/i,/\bliquidity\b/i,/\bturnover\b/i]},{name:"technical_indicators",patterns:[/\bRSI\b/,/\bMACD\b/,/\bmoving average\b/i,/\bSMA\b/,/\bEMA\b/]},{name:"fundamental",patterns:[/\bearnings\b/i,/\brevenue\b/i,/\bP\/E\b/i,/\bvaluation\b/i,/\bfundamental/i]},{name:"sentiment",patterns:[/\bsentiment\b/i,/\bmood\b/i,/\bfear\b/i,/\bgreed\b/i,/\boptimism\b/i]},{name:"sector_macro",patterns:[/\bsector\b/i,/\bmacro\b/i,/\bmarket\b/i,/\beconomy\b/i,/\bindustry\b/i]},{name:"risk_assessment",patterns:[/\brisk\b/i,/\bvolatility\b/i,/\bdrawdown\b/i,/\bdownside\b/i]},{name:"portfolio_context",patterns:[/\bportfolio\b/i,/\bposition\b/i,/\ballocation\b/i,/\bdiversif/i]},{name:"news_catalyst",patterns:[/\bnews\b/i,/\bannounce/i,/\bcatalyst\b/i,/\bevent\b/i,/\bheadline\b/i]},{name:"comparative",patterns:[/\bcompared\s+to\b/i,/\brelative\b/i,/\bvs\.?\b/i,/\bpeer\b/i,/\bbenchmark\b/i]}],Xjt=["alpha","beta","sharpe","sortino","drawdown","volatility","correlation","covariance","variance","standard deviation","momentum","mean reversion","arbitrage","convexity","tail risk","black swan","fat tail","skewness","kurtosis","risk-adjusted","information ratio","tracking error","value at risk","expected shortfall","kelly criterion","margin of safety","intrinsic value","discounted cash flow","earnings yield","free cash flow","capital allocation","systematic risk","idiosyncratic","factor exposure","regime change","liquidity premium","market microstructure","order flow","VWAP","TWAP","slippage","market impact","sector rotation","risk parity","maximum drawdown","monte carlo","bootstrap","backtest","out-of-sample","forward-looking","leading indicator","lagging indicator"];function xZe(t,e,r,n,i){let o=t.split(/\s+/).length,{breadth:s,angleCount:a}=eqt(t),c=tqt(t),l=rqt(t),u=nqt(t),d=iqt(t),p=oqt(t),m=sqt(t),h=Math.round((s*.2+c*.15+l*.15+u*.1+d*.15+p*.1+m*.15)*100)/100,f;h>=.75?f="expert":h>=.55?f="deep":h>=.35?f="moderate":f="shallow";let y={overall:h,analyticalBreadth:s,causalDepth:c,uncertaintyModeling:l,temporalAwareness:u,counterfactualReasoning:d,crossAssetAwareness:p,vocabularySophistication:m,wordCount:o,angleCount:a,classification:f};return Mle.unshift({agentId:r,score:y,reasoning:t,action:e,symbol:n,roundId:i,timestamp:new Date().toISOString()}),Mle.length>3e3&&(Mle.length=3e3),y}function eqt(t){let e=0;for(let n of Zjt)n.patterns.some(o=>o.test(t))&&e++;let r=Math.min(1,e/6);return{breadth:Math.round(r*100)/100,angleCount:e}}function tqt(t){let e=.2,r=[/\bbecause\b/gi,/\btherefore\b/gi,/\bconsequently\b/gi,/\bas a result\b/gi,/\bthis leads to\b/gi,/\bwhich means\b/gi,/\bthis suggests\b/gi,/\bimplying\b/gi,/\bhence\b/gi,/\bthus\b/gi,/\bso\b/gi,/\bdue to\b/gi,/\bgiven that\b/gi,/\bsince\b/gi],n=0;for(let o of r){let s=t.match(o);s&&(n+=s.length)}return e+=Math.min(.5,n*.1),/\bif\b.{10,}\bthen\b/i.test(t)&&(e+=.1),n>=3&&(e+=.1),t.split(/[.!?]+/).filter(Boolean).length>=3&&(e+=.1),Math.min(1,Math.round(e*100)/100)}function rqt(t){let e=.1,r=[/\blikely\b/i,/\bunlikely\b/i,/\bprobably\b/i,/\bpossibly\b/i,/\bpotentially\b/i,/\bchance\b/i,/\bprobability\b/i,/\b\d+%\s+(?:chance|probability|likely)/i];for(let i of r)i.test(t)&&(e+=.06);let n=[/\bmight\b/i,/\bcould\b/i,/\bmay\b/i,/\buncertain\b/i,/\bhard to predict\b/i,/\bdifficult to say\b/i,/\bremains to be seen\b/i,/\bin my estimation\b/i];for(let i of n)i.test(t)&&(e+=.05);return/\bbetween\s+\$?\d+\s+and\s+\$?\d+/i.test(t)&&(e+=.15),/\brange\b/i.test(t)&&(e+=.05),/\bscenario\b/i.test(t)&&(e+=.1),/\bbest case\b|\bworst case\b|\bbase case\b/i.test(t)&&(e+=.15),Math.min(1,Math.round(e*100)/100)}function nqt(t){let e=.1,r=0;return/\bhistorically\b|\bpreviously\b|\blast\s+(?:week|month|quarter|year)\b|\bin the past\b/i.test(t)&&(e+=.25,r++),/\bcurrently\b|\bright now\b|\bat present\b|\btoday\b/i.test(t)&&(e+=.15,r++),/\bgoing forward\b|\bnext\s+(?:week|month|quarter)\b|\bexpect\b|\bforecast\b|\bwill\s+likely\b/i.test(t)&&(e+=.25,r++),/\bshort.?term\b|\blong.?term\b|\bmedium.?term\b/i.test(t)&&(e+=.15),r>=3&&(e+=.1),Math.min(1,Math.round(e*100)/100)}function iqt(t){let e=.05,r=[/\bwhat if\b/i,/\bif .+ fails?\b/i,/\bif .+ drops?\b/i,/\bon the other hand\b/i,/\balternatively\b/i,/\bhowever\b/i,/\bbut\b/i,/\bdespite\b/i,/\balthough\b/i,/\bnevertheless\b/i,/\bnonetheless\b/i];for(let n of r)n.test(t)&&(e+=.06);return/\bif.+(?:falls|drops|declines|crashes)/i.test(t)&&(e+=.1),/\bstop.?loss\b|\bexit strategy\b|\bbail out\b/i.test(t)&&(e+=.1),/\bcould\s+also\b|\banother option\b|\binstead\b|\brather than\b/i.test(t)&&(e+=.1),/\bI could be wrong\b|\brisk is\b|\bdownside scenario\b|\bbear case\b/i.test(t)&&(e+=.15),Math.min(1,Math.round(e*100)/100)}function oqt(t){let e=.1,r=t.match(/\b[A-Z]{2,5}x\b/g)??[],n=new Set(r);return n.size>1&&(e+=.15),n.size>3&&(e+=.1),/\bportfolio\b|\boverall\s+(?:position|exposure|allocation)\b/i.test(t)&&(e+=.15),/\bsector\b|\bmarket-wide\b|\bcorrelation\b|\bbeta\b/i.test(t)&&(e+=.15),/\bconcentrat/i.test(t)&&(e+=.1),/\bdiversif/i.test(t)&&(e+=.1),/\bhedge\b|\boffset\b|\bbalance\b/i.test(t)&&(e+=.1),Math.min(1,Math.round(e*100)/100)}function sqt(t){let e=t.toLowerCase(),r=0;for(let i of Xjt)e.includes(i.toLowerCase())&&r++;let n=Math.min(1,r/5);return Math.round(n*100)/100}var $le=[],Lle=[];function AZe(t){let e=t.map(m=>m.change24h).filter(m=>m!==null);if(e.length===0)return{regime:"uncertain",avgChange:0,maxChange:0,changeStdDev:0,stocksUp:0,stocksDown:0,timestamp:new Date().toISOString()};let r=e.reduce((m,h)=>m+h,0)/e.length,n=Math.max(...e.map(Math.abs)),i=e.reduce((m,h)=>m+(h-r)**2,0)/e.length,o=Math.sqrt(i),s=e.filter(m=>m>0).length,a=e.filter(m=>m<0).length,c=o>2.5||n>5,l=r>.5,u=r<-.5,d;l&&c?d="bull_volatile":l?d="bull_calm":u&&c?d="bear_volatile":u?d="bear_calm":Math.abs(r)<=.5&&!c?d="sideways":d="uncertain";let p={regime:d,avgChange:Math.round(r*100)/100,maxChange:Math.round(n*100)/100,changeStdDev:Math.round(o*100)/100,stocksUp:s,stocksDown:a,timestamp:new Date().toISOString()};return Lle.unshift(p),Lle.length>500&&(Lle.length=500),p}function EZe(t,e,r,n,i,o,s,a){$le.unshift({agentId:t,regime:e,coherenceScore:r,depthScore:n,hadHallucinations:i,confidence:o,action:s,wasCorrect:null,roundId:a,timestamp:new Date().toISOString()}),$le.length>5e3&&($le.length=5e3)}var Ble=[],RZe=5e3;function TZe(t,e,r){let n=1-r.hallucinationRate,i=Math.round((r.coherence*.25+r.depth*.2+n*.2+r.discipline*.15+r.confidence*.1+.5*.1)*100)/100;Ble.unshift({agentId:t,roundId:e,...r,composite:i,timestamp:new Date().toISOString()}),Ble.length>RZe&&(Ble.length=RZe)}var Ule=class{writer;encoder;writable;abortSubscribers=[];responseReadable;aborted=!1;closed=!1;constructor(t,e){this.writable=t,this.writer=t.getWriter(),this.encoder=new TextEncoder;let r=e.getReader();this.abortSubscribers.push(async()=>{await r.cancel()}),this.responseReadable=new ReadableStream({async pull(n){let{done:i,value:o}=await r.read();i?n.close():n.enqueue(o)},cancel:()=>{this.abort()}})}async write(t){try{typeof t=="string"&&(t=this.encoder.encode(t)),await this.writer.write(t)}catch{}return this}async writeln(t){return await this.write(t+`
`),this}sleep(t){return new Promise(e=>setTimeout(e,t))}async close(){try{await this.writer.close()}catch{}this.closed=!0}async pipe(t){this.writer.releaseLock(),await t.pipeTo(this.writable,{preventClose:!0}),this.writer=this.writable.getWriter()}onAbort(t){this.abortSubscribers.push(t)}abort(){this.aborted||(this.aborted=!0,this.abortSubscribers.forEach(t=>t()))}};var HM=()=>{let t=typeof Bun<"u"?Bun.version:void 0;if(t===void 0)return!1;let e=t.startsWith("1.1")||t.startsWith("1.0")||t.startsWith("0.");return HM=()=>e,e};var IZe=class extends Ule{constructor(t,e){super(t,e)}async writeSSE(t){let r=(await VR(t.data,zR.Stringify,!1,{})).split(/\r\n|\r|\n/).map(i=>`data: ${i}`).join(`
`),n=[t.event&&`event: ${t.event}`,r,t.id&&`id: ${t.id}`,t.retry&&`retry: ${t.retry}`].filter(Boolean).join(`
`)+`

`;await this.write(n)}},aqt=async(t,e,r)=>{try{await e(t)}catch(n){n instanceof Error&&r?(await r(n,t),await t.writeSSE({event:"error",data:n.message})):console.error(n)}finally{t.close()}},cqt=new WeakMap,Fle=(t,e,r)=>{let{readable:n,writable:i}=new TransformStream,o=new IZe(i,n);return HM()&&t.req.raw.signal.addEventListener("abort",()=>{o.closed||o.abort()}),cqt.set(o.responseReadable,t),t.header("Transfer-Encoding","chunked"),t.header("Content-Type","text/event-stream"),t.header("Cache-Control","no-cache"),t.header("Connection","keep-alive"),aqt(o,e,r),t.newResponse(o.responseReadable)};var Vle=new sn,Xa=[],CZe=500,zle=0,Fm=new Set;function Sa(t,e,r){zle++;let n={id:`bev_${zle}_${Date.now()}`,type:t,agentId:r,data:e,timestamp:new Date().toISOString()};Xa.unshift(n),Xa.length>CZe&&(Xa.length=CZe);for(let i of Fm)try{i(n)}catch{Fm.delete(i)}}Vle.get("/",t=>{let e=t.req.query("types")?.split(","),r=t.req.query("agent");return Fle(t,async n=>{await n.writeSSE({event:"connected",data:JSON.stringify({message:"Connected to MoltApp Benchmark Stream",filters:{types:e??"all",agent:r??"all"},bufferedEvents:Xa.length}),id:"0"});let i=Xa.filter(a=>!(e&&!e.includes(a.type)||r&&a.agentId!==r)).slice(0,10).reverse();for(let a of i)await n.writeSSE({event:a.type,data:JSON.stringify({...a.data,agentId:a.agentId}),id:a.id});let o=async a=>{if(!(e&&!e.includes(a.type))&&!(r&&a.agentId!==r))try{await n.writeSSE({event:a.type,data:JSON.stringify({...a.data,agentId:a.agentId}),id:a.id})}catch{Fm.delete(o)}};Fm.add(o);let s=setInterval(async()=>{try{await n.writeSSE({event:"heartbeat",data:JSON.stringify({time:new Date().toISOString(),subscribers:Fm.size}),id:`hb_${Date.now()}`})}catch{clearInterval(s),Fm.delete(o)}},15e3);n.onAbort(()=>{clearInterval(s),Fm.delete(o)}),await new Promise(a=>{n.onAbort(()=>a())})})});Vle.get("/recent",t=>{let e=Math.min(parseInt(t.req.query("limit")??"50",10),200),r=t.req.query("type"),n=t.req.query("agent"),i=Xa;return r&&(i=i.filter(o=>o.type===r)),n&&(i=i.filter(o=>o.agentId===n)),t.json({ok:!0,events:i.slice(0,e),total:i.length,subscribers:Fm.size})});Vle.get("/stats",t=>{let e={};for(let s of Xa)e[s.type]=(e[s.type]??0)+1;let r={};for(let s of Xa)s.agentId&&(r[s.agentId]=(r[s.agentId]??0)+1);let n=Date.now()-300*1e3,i=Xa.filter(s=>new Date(s.timestamp).getTime()>n).length,o=Math.round(i/5*10)/10;return t.json({ok:!0,stats:{totalEvents:zle,bufferedEvents:Xa.length,activeSubscribers:Fm.size,eventsPerMinute:o,eventsByType:e,eventsByAgent:r,oldestEvent:Xa[Xa.length-1]?.timestamp??null,newestEvent:Xa[0]?.timestamp??null}})});var uqt=[[/\b(because|since|therefore|thus|hence|consequently)\b/i,.15,"causal_connector"],[/\b(first|second|third|finally|additionally|moreover)\b/i,.12,"enumeration"],[/\b(if\s+.+?\s+then)\b/i,.15,"conditional_logic"],[/\b(however|although|despite|nevertheless|on\s+the\s+other\s+hand)\b/i,.12,"counterpoint"],[/\b(based\s+on|according\s+to|given\s+that|considering)\b/i,.1,"evidence_reference"],[/\b(in\s+conclusion|overall|weighing|on\s+balance)\b/i,.1,"synthesis"],[/\b(compared\s+to|relative\s+to|versus|vs\.?)\b/i,.08,"comparison"],[/\b(specifically|in\s+particular|namely|for\s+example)\b/i,.08,"specificity"]],dqt=[[/\b(risk|downside|danger|threat|exposure)\b/i,.12,"risk_mention"],[/\b(stop.?loss|trailing\s+stop|risk\s+management)\b/i,.15,"risk_tool"],[/\b(worst\s+case|scenario|if\s+.+\s+fails?|could\s+go\s+wrong)\b/i,.15,"scenario_analysis"],[/\b(diversif|hedg|protect|limit\s+losses?)\b/i,.12,"risk_mitigation"],[/\b(volatil|uncertain|unpredictable)\b/i,.08,"uncertainty_awareness"],[/\b(position\s+siz|portfolio\s+allocation|cash\s+buffer)\b/i,.12,"position_management"],[/\b(drawdown|max\s+loss|value\s+at\s+risk|VaR)\b/i,.1,"quantitative_risk"]],pqt=[[/\b(short.?term|near.?term|intraday|this\s+week)\b/i,.1,"short_horizon"],[/\b(medium.?term|coming\s+weeks?|next\s+quarter)\b/i,.12,"medium_horizon"],[/\b(long.?term|months?|years?|secular\s+trend)\b/i,.12,"long_horizon"],[/\b(timing|entry\s+point|exit\s+strategy|when\s+to)\b/i,.1,"timing_consideration"],[/\b(catalyst|upcoming|scheduled|earnings\s+date|event)\b/i,.1,"event_awareness"],[/\b(historically|in\s+the\s+past|previous|track\s+record)\b/i,.08,"historical_context"]],mqt=[[/\b(what\s+if|suppose|assuming|in\s+case)\b/i,.15,"hypothetical"],[/\b(alternatively|or\s+else|on\s+the\s+other\s+hand|conversely)\b/i,.12,"alternative_view"],[/\b(bear\s+case|bull\s+case|best\s+case|worst\s+case)\b/i,.15,"scenario_framing"],[/\b(could\s+also|might\s+instead|another\s+possibility)\b/i,.1,"alternative_outcome"],[/\b(risk.?reward|upside.*downside|pros?.*cons?)\b/i,.12,"tradeoff_analysis"],[/\b(invalidat|disprove|contradict|evidence\s+against)\b/i,.12,"self_challenge"]],fqt=new Set(["p/e","pe ratio","eps","revenue","earnings","margin","ebitda","moving average","rsi","macd","bollinger","fibonacci","support","resistance","volume","volatility","beta","alpha","sharpe","correlation","standard deviation","drawdown","var","momentum","mean reversion","breakout","consolidation","divergence","overbought","oversold","accumulation","distribution","market cap","valuation","cash flow","dividend","yield","spread","basis","premium","discount","liquidity","float","short interest","institutional","sector rotation","breadth","sentiment","vix","fear","greed"]);function NZe(t,e,r,n,i){let o=yqt(t),s=[],a=[],c=WM(t,uqt,.25);c.score>=.6?s.push("Well-structured logical reasoning with clear causal connections"):c.score<.3&&a.push("Reasoning lacks logical connectors and structured argumentation");let l=hqt(t,i,.2);l.score>=.6?s.push("Claims grounded in specific, verifiable data points"):l.score<.3&&a.push("Reasoning makes claims without citing specific evidence");let u=WM(t,dqt,.2);u.score>=.5?s.push("Demonstrates awareness of risks and position management"):e!=="hold"&&u.score<.2&&a.push("No risk awareness for a non-hold trade decision");let d=WM(t,pqt,.15);d.score>=.5?s.push("Considers multiple time horizons in analysis"):d.score<.15&&a.push("No consideration of time horizon or catalysts");let p=WM(t,mqt,.1);p.score>=.5&&s.push("Considers alternative scenarios and what could go wrong");let m=gqt(t,n,.1);m.score>=.6?s.push("Uses specific numbers and quantitative analysis"):m.score<.2&&e!=="hold"&&a.push("Lacks quantitative data to support trade thesis");let f=Math.round((c.score*c.weight+l.score*l.weight+u.score*u.weight+d.score*d.weight+p.score*p.weight+m.score*m.weight)*100)/100;o.wordCount<20?(f*=.5,a.push("Reasoning is very short \u2014 insufficient depth for benchmark")):o.wordCount>=100&&o.uniqueWordRatio>.5&&(f=Math.min(1,f*1.05),s.push("Rich vocabulary and detailed analysis"));let y=Math.round(Math.min(1,Math.max(0,f))*100)/100;return{overallScore:y,grade:bqt(y),dimensions:{logicalStructure:c,evidenceGrounding:l,riskAwareness:u,temporalReasoning:d,counterfactualThinking:p,quantitativeRigor:m},strengths:s,weaknesses:a,textMetrics:o}}function WM(t,e,r){let n=[],i=0;for(let[o,s,a]of e)t.match(o)&&(i+=s,n.push(a));return{score:Math.min(1,i),evidence:n,weight:r}}function hqt(t,e,r){let n=[],i=0,o=t.match(/\$\d+[\d,.]*|\d+\.\d{2}/g);o&&o.length>0&&(i+=.2,n.push(`price_references(${o.length})`));let s=t.match(/[+-]?\d+\.?\d*%/g);if(s&&s.length>0&&(i+=.15,n.push(`percentage_references(${s.length})`)),e){let a=e.map(l=>l.symbol.toLowerCase()),c=0;for(let l of a)t.toLowerCase().includes(l.replace(/x$/,""))&&c++;c>0&&(i+=Math.min(.2,c*.05),n.push(`stock_references(${c})`))}return/\b(volume|market\s+cap|float|shares\s+outstanding)\b/i.test(t)&&(i+=.1,n.push("market_data_reference")),/\b(RSI|MACD|moving\s+average|bollinger|support|resistance)\b/i.test(t)&&(i+=.15,n.push("technical_indicator")),/\b(P\/E|earnings|revenue|margin|cash\s+flow|dividend)\b/i.test(t)&&(i+=.15,n.push("fundamental_data")),{score:Math.min(1,i),evidence:n,weight:r}}function gqt(t,e,r){let n=[],i=0,s=t.match(/\d+\.?\d*/g)?.length??0;return s>=5?(i+=.3,n.push(`numeric_claims(${s})`)):s>=2&&(i+=.15,n.push(`numeric_claims(${s})`)),/\b(target|level|support\s+at|resistance\s+at)\s+\$?\d/i.test(t)&&(i+=.2,n.push("price_target")),/\b\d+\.?\d*%\s+(upside|downside|gain|loss|return)\b/i.test(t)&&(i+=.2,n.push("return_projection")),/\b(ratio|multiple|times|x\s+earnings|valuation)\b/i.test(t)&&(i+=.15,n.push("ratio_analysis")),e>.8&&s<2&&(i=Math.max(0,i-.1),n.push("overconfident_without_data")),{score:Math.min(1,i),evidence:n,weight:r}}function yqt(t){let e=t.split(/\s+/).filter(a=>a.length>0),r=t.split(/[.!?]+/).filter(a=>a.trim().length>3),n=new Set(e.map(a=>a.toLowerCase())),i=0,o=t.toLowerCase();for(let a of fqt)o.includes(a)&&i++;let s=t.match(/\$?\d+[\d,.]*%?/g);return{wordCount:e.length,sentenceCount:r.length,avgWordsPerSentence:r.length>0?Math.round(e.length/r.length*10)/10:0,uniqueWordRatio:e.length>0?Math.round(n.size/e.length*100)/100:0,technicalTermDensity:e.length>0?Math.round(i/e.length*1e3)/1e3:0,quantitativeClaimCount:s?.length??0}}function bqt(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}var OZe=new Map,vqt=100;function PZe(t,e){let r=OZe.get(t)??[];r.push(e),r.length>vqt&&r.shift(),OZe.set(t,r)}import{createHash as _qt}from"crypto";var Ol=[],kZe=1e4,DZe="5.0.0";function Sqt(t){return _qt("sha256").update(t).digest("hex")}function MZe(t){let e=JSON.stringify({index:t.index,previousHash:t.previousHash,eventType:t.eventType,timestamp:t.timestamp,payload:t.payload,initiator:t.initiator,nonce:t.nonce});return Sqt(e)}function $Ze(){return`${Date.now()}_${Math.random().toString(36).slice(2,10)}`}function LZe(){if(Ol.length>0)return Ol[0];let t={index:0,previousHash:"0".repeat(64),eventType:"genesis",timestamp:new Date().toISOString(),payload:{benchmark:"moltapp",version:DZe,agents:["claude-value-investor","gpt-momentum-trader","grok-contrarian"],description:"MoltApp Agentic Stock Trading Benchmark \u2014 provenance chain initialized"},initiator:"system",nonce:$Ze()},e={...t,hash:MZe(t)};return Ol.push(e),e}function BZe(t,e,r="system"){Ol.length===0&&LZe();let n=Ol[Ol.length-1],i={index:n.index+1,previousHash:n.hash,eventType:t,timestamp:new Date().toISOString(),payload:e,initiator:r,nonce:$Ze()},o={...i,hash:MZe(i)};if(Ol.push(o),Ol.length>kZe){let s=Ol[0],a=Ol.slice(-kZe+1);Ol.length=0,Ol.push(s,...a)}return o}function UZe(t,e){return BZe("round_completed",{roundId:t,agentCount:e.agentCount,tradeCount:e.tradeCount,avgCoherence:Math.round(e.avgCoherence*1e3)/1e3,hallucinationCount:e.hallucinationCount,tradingMode:e.tradingMode})}function FZe(t,e){return BZe("scoring_applied",{agentId:t,composite:Math.round(e.composite*1e3)/1e3,coherence:Math.round(e.coherence*1e3)/1e3,hallucinationRate:Math.round(e.hallucinationRate*1e3)/1e3,discipline:Math.round(e.discipline*1e3)/1e3,pnl:Math.round(e.pnl*100)/100,sharpe:Math.round(e.sharpe*1e3)/1e3,methodologyVersion:DZe})}LZe();var GM=[],wqt=0,zZe=5e3;function xqt(){return`audit_${Date.now()}_${Math.random().toString(36).slice(2,8)}`}function KM(t,e,r={},n={}){let i={id:xqt(),index:wqt++,category:t,severity:n.severity??"info",description:e,data:r,agentId:n.agentId??null,roundId:n.roundId??null,initiator:n.initiator??"system",timestamp:new Date().toISOString(),tags:n.tags??[]};return GM.push(i),GM.length>zZe&&GM.splice(0,GM.length-zZe),i}function VZe(t,e,r,n){return KM("scoring",`Agent ${t} scored composite=${e.composite?.toFixed(3)??"N/A"}, grade=${r}`,{scores:e,grade:r},{agentId:t,roundId:n,tags:["composite-score",`grade-${r}`]})}function jZe(t,e,r,n,i){return KM("quality",`Quality gate ${e?"PASSED":"REJECTED"} for ${t}: score=${r.toFixed(3)}, threshold=${n}`,{passed:e,score:r,threshold:n,rejectionReasons:i},{agentId:t,severity:e?"info":"warning",tags:[e?"gate-pass":"gate-reject"]})}function qZe(t,e,r,n){return KM("review",`Peer review: ${e} reviews, ${(n*100).toFixed(0)}% disagreement, best=${r??"none"}`,{reviewCount:e,bestAgent:r,disagreementRate:n},{roundId:t,tags:["peer-review"]})}function HZe(t,e,r,n){return KM("quality",`Hallucination detected: ${t} on ${e} \u2014 ${r.length} flags`,{symbol:e,flags:r,flagCount:r.length},{agentId:t,roundId:n,severity:r.length>2?"critical":"warning",tags:["hallucination"]})}var Aqt={weights:{pnlPercent:.25,sharpeRatio:.2,coherence:.2,hallucinationRate:.15,disciplineRate:.1,calibration:.1},eloK:32,minTradesForRanking:3},WZe={...Aqt},KR=new Map,Eqt=1500;function GZe(t){return KR.has(t)||KR.set(t,Eqt),KR.get(t)}function Rqt(t,e,r,n){let i=GZe(t),o=GZe(e),s=1/(1+Math.pow(10,(o-i)/400)),a=1/(1+Math.pow(10,(i-o)/400)),c,l;Math.abs(r-n)<.01?(c=.5,l=.5):r>n?(c=1,l=0):(c=0,l=1);let u=Math.round(i+WZe.eloK*(c-s)),d=Math.round(o+WZe.eloK*(l-a));return KR.set(t,u),KR.set(e,d),{newEloA:u,newEloB:d}}function KZe(t){for(let e=0;e<t.length;e++)for(let r=e+1;r<t.length;r++)Rqt(t[e].agentId,t[r].agentId,t[e].compositeScore,t[r].compositeScore)}var jle=new Map;function YZe(t,e){let r=jle.get(t)??{type:"neutral",length:0},n=e===null?"neutral":e?"win":"loss";n===r.type?jle.set(t,{type:n,length:r.length+1}):jle.set(t,{type:n,length:1})}var JZe=new Map;var Tqt=500;function QZe(t){let e=JZe.get(t.agentId)??[];e.push(t),e.length>Tqt&&e.shift(),JZe.set(t.agentId,e)}var ZZe=new Map;var Iqt=500;function XZe(t){let e=ZZe.get(t.agentId)??[];e.push(t),e.length>Iqt&&e.shift(),ZZe.set(t.agentId,e)}function eXe(t){let e=t.reasoning.split(/\s+/),r=new Set;for(let n=0;n<e.length-1;n++)r.add(`${e[n].toLowerCase()}_${e[n+1].toLowerCase()}`);return{agentId:t.agentId,roundId:t.roundId,coherenceScore:t.coherenceScore,hallucinationCount:t.hallucinationCount,confidence:t.confidence,wordCount:e.length,intent:t.intent,action:t.action,uniqueBigrams:r.size,timestamp:new Date().toISOString()}}var Cqt=[{type:"anchoring_bias",patterns:[/previous(?:ly)?\s+(?:priced|traded|was)\s+(?:at\s+)?\$[\d,.]+/i,/used\s+to\s+(?:trade|be)\s+(?:at\s+)?\$[\d,.]+/i,/(?:52|all)[- ](?:week|time)\s+(?:high|low)/i],description:"Anchoring to a historical price rather than assessing current value",severity:"low"},{type:"recency_bias",patterns:[/just\s+(?:yesterday|today|recently|this\s+week)/i,/in\s+the\s+(?:past|last)\s+(?:few\s+)?(?:hours?|days?)/i,/very\s+recently/i],description:"Over-weighting recent events relative to broader context",severity:"low"},{type:"gambler_fallacy",patterns:[/(?:due|overdue)\s+for\s+(?:a\s+)?(?:rebound|recovery|correction|bounce)/i,/can'?t?\s+(?:keep\s+)?(?:going|dropping|falling)\s+(?:down|forever)/i,/has\s+to\s+(?:bounce|recover|correct)\s+(?:eventually|at\s+some\s+point)/i],description:"Assuming past patterns must reverse (gambler's fallacy)",severity:"medium"},{type:"confirmation_bias",patterns:[/(?:as\s+)?(?:I|we)\s+(?:expected|predicted|thought)/i,/(?:confirms?|validates?)\s+(?:my|our)\s+(?:thesis|view|analysis)/i,/(?:aligns?\s+with|supports?)\s+(?:my|our)\s+(?:earlier|previous)\s+(?:analysis|view)/i],description:"Seeking only information that confirms existing beliefs",severity:"medium"},{type:"authority_fallacy",patterns:[/(?:analysts?|experts?|Wall\s+Street)\s+(?:say|believe|predict|recommend)/i,/(?:institutional|smart\s+money)\s+(?:investors?|buyers?)\s+(?:are|have\s+been)/i],description:"Appealing to authority rather than fundamental analysis",severity:"low"},{type:"sunk_cost",patterns:[/already\s+(?:invested|bought|held|have\s+a\s+position)/i,/(?:avg|average)\s+(?:down|cost\s+basis)/i,/double\s+down/i],description:"Letting past investment influence current decision (sunk cost)",severity:"high"},{type:"herd_mentality",patterns:[/everyone\s+(?:is|seems?\s+to\s+be)\s+(?:buying|selling|bullish|bearish)/i,/(?:popular|trending|hot)\s+(?:stock|pick|trade)/i,/(?:FOMO|fear\s+of\s+missing\s+out)/i],description:"Following crowd behavior rather than independent analysis",severity:"medium"}],Oqt=[[/(?:price|valuation|P\/E|P\/B|market\s+cap)/i,"valuation"],[/(?:revenue|earnings|EPS|profit|margin|growth\s+rate)/i,"fundamentals"],[/(?:RSI|MACD|moving\s+average|bollinger|support|resistance|volume)/i,"technical"],[/(?:macro|interest\s+rate|inflation|GDP|Fed|monetary)/i,"macro"],[/(?:sentiment|mood|fear|greed|VIX)/i,"sentiment"],[/(?:sector|industry|peer|competitor|market\s+share)/i,"sector"],[/(?:risk|volatility|drawdown|beta|correlation)/i,"risk"],[/(?:news|event|earnings\s+report|announcement|catalyst)/i,"catalyst"],[/(?:position\s+size|portfolio|allocation|diversif)/i,"portfolio_management"],[/(?:liquidity|bid.ask|spread|slippage|volume)/i,"market_microstructure"]],Nqt=/\b(?:maybe|perhaps|possibly|might|could|potentially|somewhat|relatively|fairly|arguably|likely|probable|uncertain|debatable)\b/gi,Pqt=/(?:\d+\.?\d*%|\$\d+[\d,.]*|\d+x|\d+\s*(?:bps|basis\s+points)|\d+:\d+\s+ratio)/gi,kqt=new Set(["alpha","beta","gamma","delta","theta","vega","rho","sharpe","sortino","treynor","calmar","drawdown","volatility","correlation","covariance","regression","momentum","reversion","arbitrage","hedge","leverage","margin","liquidity","slippage","valuation","fundamental","technical","quantitative","systematic","diversification","allocation","rebalance","optimization","earnings","revenue","ebitda","cashflow","dividend","bullish","bearish","neutral","consolidation","breakout","support","resistance","fibonacci","macd","rsi","ema","sma","vwap","volume","spread","premium","discount"]);function nXe(t,e){let r=e.split(/\s+/).filter(b=>b.length>0),n=r.length,i=r.map(b=>b.toLowerCase().replace(/[^a-z]/g,"")).filter(b=>b.length>2),o=[];for(let b of Cqt)for(let S of b.patterns){let R=e.match(S);if(R){o.push({type:b.type,description:b.description,severity:b.severity,evidence:R[0]});break}}let s=new Set;for(let[b,S]of Oqt)b.test(e)&&s.add(S);let a=/(?:however|on\s+the\s+other\s+hand|conversely|alternatively|risk\s+is|downside|counter.?argument)/i.test(e),c=/(?:risk|volatility|downside|stop.?loss|max\s+loss|position\s+limit|cash\s+buffer)/i.test(e),l=/\$\d+[\d,.]*|[+-]?\d+\.?\d*%|\d+\s*(?:shares?|units?)/i.test(e),u=/(?:previously|historically|currently|near.?term|long.?term|short.?term|going\s+forward|outlook)/i.test(e),d,p=s.size;p>=5&&a&&c?d="exceptional":p>=3&&(a||c)?d="deep":p>=2?d="moderate":d="shallow";let m={wordCount:n,analyticalAngles:p,hasCounterArgument:a,hasRiskDiscussion:c,citesSpecificData:l,hasTemporalReasoning:u,classification:d},h=new Set(i),f=h.size,y=i.length>0?f/i.length:0,v=0;for(let b of h)kqt.has(b)&&v++;let _=Math.min(1,y*.3+Math.min(v/10,1)*.4+Math.min(n/200,1)*.3),x={uniqueWords:f,typeTokenRatio:Math.round(y*1e3)/1e3,financeTerms:v,sophisticationScore:Math.round(_*100)/100},E=y<.4?Math.min(1,(.4-y)*5):0,I=e.match(Nqt)??[],N=n>0?Math.round(I.length/n*1e3)/1e3:0,L=e.match(Pqt)??[],B=n>0?Math.round(L.length/Math.max(1,n/20)*100)/100:0,P=d==="exceptional"?1:d==="deep"?.75:d==="moderate"?.5:.25,V=Math.min(.4,o.reduce((b,S)=>b+(S.severity==="high"?.15:S.severity==="medium"?.08:.03),0)),j=E*.3,ee=Math.min(.15,N*3),O=Math.round(Math.max(0,Math.min(1,P*.35+_*.25+Math.min(1,B)*.15+(1-V)*.15+(1-j-ee)*.1))*100)/100;return{agentId:t,fallacies:o,depth:m,vocabulary:x,templateProbability:Math.round(E*100)/100,hedgeRatio:N,quantitativeRatio:Math.min(1,B),qualityScore:O}}var tXe=new Map,rXe=100;function iXe(t,e,r){let n=tXe.get(t)??[];n.push({reasoning:e,qualityScore:r,timestamp:Date.now()}),n.length>rXe&&n.splice(0,n.length-rXe),tXe.set(t,n)}var Dqt=/\b(maybe|perhaps|possibly|might|could|uncertain|unclear|somewhat|relatively|arguably|potentially)\b/gi,Mqt=/\b(because|therefore|thus|consequently|since|due to|as a result|given that|leading to|which means|so that|in order to|hence)\b/gi,$qt=/(\$[\d,.]+|\d+\.?\d*%|\d+x|\d+\.\d+ (?:ratio|multiple|beta|alpha)|\d+ (?:basis points|bps)|\d+\.?\d* (?:billion|million|trillion))/gi,Lqt=/\b(my thesis|i believe|the thesis|conviction|primary reason|main driver|key insight|core argument)\b/i,Bqt=/\b(data shows|evidence suggests|based on|according to|analysis reveals|numbers indicate|metrics show|historically)\b/i,Uqt=/\b(therefore|in conclusion|overall|ultimately|net assessment|bottom line|final verdict|action:|decision:)\b/i,oXe={valuation:/\b(P\/E|price.to.earnings|valuation|undervalued|overvalued|fair value|intrinsic|market cap|EV\/EBITDA|price.to.book|forward P\/E)\b/i,technical:/\b(RSI|MACD|moving average|support|resistance|breakout|trend|momentum|volume spike|relative strength|bollinger|fibonacci)\b/i,fundamental:/\b(earnings|revenue|margin|growth rate|EPS|cash flow|balance sheet|debt|ROIC|ROE|free cash flow|operating margin)\b/i,macro:/\b(interest rate|inflation|GDP|federal reserve|monetary policy|fiscal|recession|employment|CPI|economic cycle|yield curve)\b/i,sentiment:/\b(sentiment|fear|greed|crowd|consensus|contrarian|market mood|VIX|put\/call|retail|institutional|flow)\b/i,risk:/\b(risk|downside|stop.loss|position size|exposure|volatility|drawdown|hedge|diversif|max loss|risk.reward)\b/i,catalyst:/\b(catalyst|earnings report|product launch|FDA|acquisition|partnership|regulatory|guidance|conference|patent|split)\b/i,portfolioContext:/\b(portfolio|allocation|cash|position|rebalance|diversif|concentration|correlation|weight|exposure)\b/i,sector:/\b(sector|industry|peer|competitor|market share|cyclical|defensive|rotation|secular|thematic)\b/i,timing:/\b(timing|window|entry point|short.term|medium.term|long.term|horizon|quarter|seasonalit|calendar)\b/i},Fqt=/\b(alpha|beta|sharpe|sortino|drawdown|volatility|correlation|momentum|reversion|arbitrage|spread|yield|duration|convexity|delta|gamma|theta|vega|skew|kurtosis|VaR|CVaR|CAPM|efficient frontier|information ratio|tracking error)\b/gi,xg=new Map,YM=50;function JM(t,e,r,n,i,o){let s=zqt(r),a=Vqt(r),c=jqt(t,r),l=qqt(r),u=Hqt(t,r,n,i,o),d=xg.get(t)??[];d.unshift({agentId:t,reasoning:r,action:n,symbol:i,confidence:o,timestamp:Date.now()}),d.length>YM&&(d.length=YM),xg.set(t,d);let p=Math.round((s.structureScore*.2+a.depthScore*.25+c.originalityScore*.2+l.clarityScore*.15+(1-u.flags.length*.15)*.2)*100)/100,m=Math.max(0,Math.min(1,p));return{agentId:t,roundId:e,tradeAction:n,symbol:i,structural:s,depth:a,originality:c,clarity:l,crossTrade:u,compositeScore:m,grade:Wqt(m)}}function zqt(t){let e=t.split(/[.!?]+/).filter(m=>m.trim().length>5),r=e.length,n=r>0?e.reduce((m,h)=>m+h.trim().split(/\s+/).length,0)/r:0,i=(t.match($qt)??[]).length,o=(t.match(Dqt)??[]).length,s=(t.match(Mqt)??[]).length,a=Lqt.test(t),c=Bqt.test(t),l=Uqt.test(t),u=0;r>=3&&r<=12?u+=.2:r>=1&&(u+=.1),n>=8&&n<=25?u+=.15:n>=5&&(u+=.08),u+=Math.min(.25,i*.05),u+=Math.min(.2,s*.05),a&&(u+=.08),c&&(u+=.08),l&&(u+=.04);let d=t.split(/\s+/).length,p=d>0?o/d:0;return p>.05&&(u-=(p-.05)*2),{sentenceCount:r,avgSentenceLength:Math.round(n*10)/10,quantitativeClaimCount:i,hedgeWordCount:o,causalConnectorCount:s,hasThesis:a,hasEvidence:c,hasConclusion:l,structureScore:Math.max(0,Math.min(1,u))}}function Vqt(t){let e={},r=0;for(let[s,a]of Object.entries(oXe)){let c=a.test(t);e[s]=c,c&&r++}let n=Object.keys(oXe).length,i=Math.min(1,r/5),o;return r>=7?o="exceptional":r>=4?o="deep":r>=2?o="moderate":o="shallow",{dimensions:e,dimensionCount:r,maxDimensions:n,depthScore:i,classification:o}}function jqt(t,e){let r=xg.get(t)??[],n=new Set(e.toLowerCase().split(/\s+/).filter(u=>u.length>3)),i=0;if(r.length>0){let u=new Set(r[0].reasoning.toLowerCase().split(/\s+/).filter(m=>m.length>3)),d=new Set([...n].filter(m=>u.has(m))),p=new Set([...n,...u]);i=p.size>0?d.size/p.size:0}let o=sXe(e,3),s=new Set;for(let u of r.slice(0,5)){let d=sXe(u.reasoning,3);s=new Set([...s,...d])}let a=o.size>0&&s.size>0?[...o].filter(u=>!s.has(u)).length/o.size:1,c=i>.7?i:0,l=Math.max(0,Math.min(1,(1-i)*.4+a*.4+(1-c)*.2));return{jaccardSimilarityToPrevious:Math.round(i*1e3)/1e3,uniqueNGramRatio:Math.round(a*1e3)/1e3,templateProbability:Math.round(c*1e3)/1e3,originalityScore:Math.round(l*1e3)/1e3}}function qqt(t){let e=t.split(/\s+/).filter(c=>c.length>0),r=e.length,n=r>0?e.reduce((c,l)=>c+l.replace(/[^a-zA-Z]/g,"").length,0)/r:0,i=t.match(Fqt)??[],o=r>0?i.length/r:0,s=0;r>=30&&r<=200?s=.8:r>=15&&r<=300?s=.6:r>=5&&(s=.3),n>=4&&n<=7&&(s+=.1),o>0&&o<=.08?s+=.1:o>.15&&(s-=.1);let a=Math.max(0,Math.min(1,s));return{readabilityScore:Math.round(s*100)/100,avgWordLength:Math.round(n*10)/10,jargonRatio:Math.round(o*1e3)/1e3,clarityScore:Math.round(a*100)/100}}function Hqt(t,e,r,n,i){let o=xg.get(t)??[],s=[],a=!1,c=!1,l=!1,u=0,d,p;if(o.length>0){let m=o[0];d=m.action,p=m.symbol,u=i-m.confidence;let h=o.filter(E=>E.symbol.toLowerCase()===n.toLowerCase()&&Date.now()-E.timestamp<1440*60*1e3);for(let E of h)(r==="buy"&&E.action==="sell"||r==="sell"&&E.action==="buy")&&(a=!0,l=!0,s.push(`Flip-flop: ${r} ${n} after ${E.action} within 24h`));let f=new Set(m.reasoning.toLowerCase().split(/\s+/).filter(E=>E.length>3)),y=new Set(e.toLowerCase().split(/\s+/).filter(E=>E.length>3)),v=[...y].filter(E=>f.has(E)).length,_=new Set([...f,...y]).size,x=_>0?v/_:0;x>.8&&(c=!0,s.push(`Copypasta: ${(x*100).toFixed(0)}% similarity to previous reasoning`)),Math.abs(u)>.4&&s.push(`Confidence swing: ${u>0?"+":""}${(u*100).toFixed(0)}% between consecutive trades`)}return{contradictsPrevious:a,similarToPrevious:c,stanceShift:l,previousTradeAction:d,previousSymbol:p,confidenceDelta:Math.round(u*1e3)/1e3,flags:s}}function sXe(t,e){let r=t.toLowerCase().split(/\s+/).filter(i=>i.length>2),n=new Set;for(let i=0;i<=r.length-e;i++)n.add(r.slice(i,i+e).join(" "));return n}function Wqt(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}function QM(t){let e=xg.get(t)??[];if(e.length===0)return{tradeCount:0,avgDepth:0,avgOriginality:0,avgClarity:0,integrityViolations:0,trend:"stable"};let r=e.map(c=>JM(c.agentId,"aggregate",c.reasoning,c.action,c.symbol,c.confidence)),n=r.reduce((c,l)=>c+l.depth.depthScore,0)/r.length,i=r.reduce((c,l)=>c+l.originality.originalityScore,0)/r.length,o=r.reduce((c,l)=>c+l.clarity.clarityScore,0)/r.length,s=r.reduce((c,l)=>c+l.crossTrade.flags.length,0),a=Math.floor(r.length/2);if(a>=2){let c=r.slice(a).reduce((p,m)=>p+m.compositeScore,0)/(r.length-a),u=r.slice(0,a).reduce((p,m)=>p+m.compositeScore,0)/a-c,d=u>.05?"improving":u<-.05?"degrading":"stable";return{tradeCount:e.length,avgDepth:Math.round(n*100)/100,avgOriginality:Math.round(i*100)/100,avgClarity:Math.round(o*100)/100,integrityViolations:s,trend:d}}return{tradeCount:e.length,avgDepth:Math.round(n*100)/100,avgOriginality:Math.round(i*100)/100,avgClarity:Math.round(o*100)/100,integrityViolations:s,trend:"stable"}}function qle(t,e=20){return(xg.get(t)??[]).slice(0,e).map(n=>JM(n.agentId,"query",n.reasoning,n.action,n.symbol,n.confidence))}function aXe(t,e,r,n,i){let o=xg.get(t)??[];o.unshift({agentId:t,reasoning:e,action:r,symbol:n,confidence:i,timestamp:Date.now()}),o.length>YM&&(o.length=YM),xg.set(t,o)}var cXe=new Map,Hle=new Map,lXe=50;function uXe(t){let e=cXe.get(t);return e||(e={pnl:[],sharpe:[],winRate:[],coherence:[],depth:[],hallucinationFree:[],discipline:[],confidence:[],outcomes:[],forensicStructure:[],forensicOriginality:[],forensicClarity:[],forensicIntegrity:[],patternQuality:[]},cXe.set(t,e)),e}function wa(t,e){t.unshift(e),t.length>lXe&&(t.length=lXe)}function No(t){return t.length===0?0:t.reduce((e,r)=>e+r,0)/t.length}function dXe(t,e){let r=uXe(t);e.pnl!==void 0&&wa(r.pnl,e.pnl),e.sharpe!==void 0&&wa(r.sharpe,e.sharpe),e.winRate!==void 0&&wa(r.winRate,e.winRate),e.coherence!==void 0&&wa(r.coherence,e.coherence),e.depth!==void 0&&wa(r.depth,e.depth),e.hallucinationFree!==void 0&&wa(r.hallucinationFree,e.hallucinationFree),e.discipline!==void 0&&wa(r.discipline,e.discipline),e.confidence!==void 0&&wa(r.confidence,e.confidence),e.outcome!==void 0&&wa(r.outcomes,e.outcome),e.forensicStructure!==void 0&&wa(r.forensicStructure,e.forensicStructure),e.forensicOriginality!==void 0&&wa(r.forensicOriginality,e.forensicOriginality),e.forensicClarity!==void 0&&wa(r.forensicClarity,e.forensicClarity),e.forensicIntegrity!==void 0&&wa(r.forensicIntegrity,e.forensicIntegrity),e.patternQuality!==void 0&&wa(r.patternQuality,e.patternQuality)}function Wle(t){let e=uXe(t),r=e.coherence.length,n={name:"Financial",weight:.2,components:{pnl:Gqt(No(e.pnl)),sharpe:Kqt(No(e.sharpe)),winRate:No(e.winRate)},score:0,grade:""};n.score=Math.round((n.components.pnl*.4+n.components.sharpe*.35+n.components.winRate*.25)*100)/100,n.grade=Ag(n.score);let i={name:"Reasoning",weight:.2,components:{coherence:No(e.coherence),depth:No(e.depth)},score:0,grade:""};i.score=Math.round((i.components.coherence*.6+i.components.depth*.4)*100)/100,i.grade=Ag(i.score);let o={name:"Safety",weight:.15,components:{hallucinationFree:No(e.hallucinationFree),discipline:No(e.discipline)},score:0,grade:""};o.score=Math.round((o.components.hallucinationFree*.6+o.components.discipline*.4)*100)/100,o.grade=Ag(o.score);let s=e.outcomes,a=Yqt(e.confidence,s),c={name:"Calibration",weight:.1,components:{calibration:a},score:Math.round(a*100)/100,grade:Ag(a)},l={name:"Patterns",weight:.1,components:{patternQuality:No(e.patternQuality)},score:Math.round(No(e.patternQuality)*100)/100,grade:Ag(No(e.patternQuality))},u=Jqt(e.coherence,e.pnl),d={name:"Adaptability",weight:.1,components:{consistency:u},score:Math.round(u*100)/100,grade:Ag(u)},p={name:"Forensic Quality",weight:.15,components:{structure:No(e.forensicStructure),originality:No(e.forensicOriginality),clarity:No(e.forensicClarity),integrity:No(e.forensicIntegrity)},score:0,grade:""};p.score=Math.round((p.components.structure*.25+p.components.originality*.3+p.components.clarity*.2+p.components.integrity*.25)*100)/100,p.grade=Ag(p.score);let m=[n,i,o,c,l,d,p],h=Math.round(m.reduce((_,x)=>_+x.score*x.weight,0)*100)/100,f=Hle.get(t)??null,y=f===null?"new":"same",v=Qqt(e.coherence,e.forensicStructure);return{agentId:t,pillars:m,compositeScore:h,compositeGrade:Ag(h),rank:0,previousRank:f,rankChange:y,trend:v,tradeCount:r,timestamp:new Date().toISOString()}}function Gle(t){let e=[];for(let r of t){let n=Wle(r.agentId);e.push({agentId:r.agentId,agentName:r.name,provider:r.provider,model:r.model,compositeScore:n.compositeScore,compositeGrade:n.compositeGrade,rank:0,rankChange:"same",pillarScores:Object.fromEntries(n.pillars.map(i=>[i.name.toLowerCase().replace(/\s+/g,"_"),i.score])),tradeCount:n.tradeCount,trend:n.trend})}e.sort((r,n)=>n.compositeScore-r.compositeScore);for(let r=0;r<e.length;r++){let n=Hle.get(e[r].agentId);e[r].rank=r+1,n===void 0?e[r].rankChange="new":n<e[r].rank?e[r].rankChange="down":n>e[r].rank?e[r].rankChange="up":e[r].rankChange="same",Hle.set(e[r].agentId,e[r].rank)}return e}function Gqt(t){return 1/(1+Math.exp(-t/5))}function Kqt(t){return Math.max(0,Math.min(1,(t+2)/5))}function Yqt(t,e){if(t.length<5||e.length<5)return .5;let r=t.map((o,s)=>({conf:o,outcome:e[s]?1:0})).filter((o,s)=>s<e.length),n=new Map;for(let o of r){let s=Math.floor(o.conf*10),a=n.get(s)??{sumConf:0,sumOutcome:0,count:0};a.sumConf+=o.conf,a.sumOutcome+=o.outcome,a.count++,n.set(s,a)}let i=0;for(let o of n.values())if(o.count>0){let s=o.sumConf/o.count,a=o.sumOutcome/o.count;i+=o.count/r.length*Math.abs(s-a)}return Math.max(0,Math.min(1,1-i))}function Jqt(t,e){if(t.length<10)return .5;let r=No(t),n=t.reduce((o,s)=>o+(s-r)**2,0)/t.length,i=Math.sqrt(n);return Math.max(0,Math.min(1,1-i*2))}function Qqt(t,e){let r=t.map((a,c)=>a*.5+(e[c]??a)*.5);if(r.length<10)return"stable";let n=Math.floor(r.length/2),i=No(r.slice(0,n)),o=No(r.slice(n)),s=i-o;return s>.05?"improving":s<-.05?"degrading":"stable"}function Ag(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}var co=(t,...e)=>{let r=[""];for(let n=0,i=t.length-1;n<i;n++){r[0]+=t[n];let o=Array.isArray(e[n])?e[n].flat(1/0):[e[n]];for(let s=0,a=o.length;s<a;s++){let c=o[s];if(typeof c=="string")NM(c,r);else if(typeof c=="number")r[0]+=c;else{if(typeof c=="boolean"||c===null||c===void 0)continue;if(typeof c=="object"&&c.isEscaped)if(c.callbacks)r.unshift("",c);else{let l=c.toString();l instanceof Promise?r.unshift("",l):r[0]+=l}else c instanceof Promise?r.unshift("",c):NM(c.toString(),r)}}}return r[0]+=t.at(-1),r.length===1?"callbacks"in r?iw(DQe(iw(r[0],r.callbacks))):iw(r[0]):kQe(r,r.callbacks)};var YR=new sn,lw=[],pXe=200,ZM=new Set;function mXe(t,e,r){let n={type:t,agentId:r,data:e,timestamp:new Date().toISOString()};lw.unshift(n),lw.length>pXe&&(lw.length=pXe);let i=new TextEncoder().encode(`data: ${JSON.stringify(n)}

`);for(let o of ZM)o.write(i).catch(()=>ZM.delete(o))}YR.get("/data",t=>{let e=cw(),r=Gle(e),n=e.map(i=>({agentId:i.agentId,...QM(i.agentId)}));return t.json({ok:!0,version:"v11",benchmark:{name:"MoltApp: Agentic Stock Trading Benchmark",version:"11.0.0",website:"https://www.patgpt.us",huggingface:"https://huggingface.co/datasets/patruff/molt-benchmark",pillars:[{name:"Financial",weight:.2,description:"P&L, Sharpe ratio, win rate"},{name:"Reasoning",weight:.2,description:"Coherence & analytical depth"},{name:"Safety",weight:.15,description:"Hallucination-free rate, discipline compliance"},{name:"Calibration",weight:.1,description:"Confidence-outcome correlation"},{name:"Patterns",weight:.1,description:"Fallacy detection, vocabulary sophistication"},{name:"Adaptability",weight:.1,description:"Cross-regime consistency"},{name:"Forensic Quality",weight:.15,description:"Structure, originality, clarity, integrity"}]},leaderboard:r,forensicSummaries:n,recentEvents:lw.slice(0,20),timestamp:new Date().toISOString()})});YR.get("/forensic/:agentId",t=>{let e=t.req.param("agentId"),r=Math.min(parseInt(t.req.query("limit")??"20",10),50),n=QM(e),i=qle(e,r),o=Wle(e);return t.json({ok:!0,agentId:e,health:n,scoreCard:o,forensicReports:i})});YR.get("/export",t=>{let e=cw(),r=[];for(let n of e){let i=qle(n.agentId,100);for(let o of i)r.push(JSON.stringify({agent_id:o.agentId,round_id:o.roundId,action:o.tradeAction,symbol:o.symbol,composite_score:o.compositeScore,grade:o.grade,structure_score:o.structural.structureScore,depth_score:o.depth.depthScore,depth_classification:o.depth.classification,originality_score:o.originality.originalityScore,template_probability:o.originality.templateProbability,clarity_score:o.clarity.clarityScore,cross_trade_flags:o.crossTrade.flags,contradicts_previous:o.crossTrade.contradictsPrevious,dimensions_covered:o.depth.dimensionCount,sentence_count:o.structural.sentenceCount,quantitative_claims:o.structural.quantitativeClaimCount,hedge_words:o.structural.hedgeWordCount,causal_connectors:o.structural.causalConnectorCount}))}return t.header("Content-Type","application/jsonl"),t.header("Content-Disposition",`attachment; filename="moltapp-forensic-${new Date().toISOString().split("T")[0]}.jsonl"`),t.body(r.join(`
`))});YR.get("/stream",t=>{let{readable:e,writable:r}=new TransformStream,n=r.getWriter();ZM.add(n);let i=lw.slice(0,10).reverse();for(let o of i)n.write(new TextEncoder().encode(`data: ${JSON.stringify(o)}

`)).catch(()=>{});return t.req.raw.signal.addEventListener("abort",()=>{ZM.delete(n),n.close().catch(()=>{})}),new Response(e,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});YR.get("/",t=>{let e=cw(),r=Gle(e),n=e.map(u=>({agentId:u.agentId,...QM(u.agentId)})),i=u=>u==="up"?'<span style="color:#00ff88">&#x25B2;</span>':u==="down"?'<span style="color:#ff4444">&#x25BC;</span>':u==="new"?'<span style="color:#ffaa00">NEW</span>':'<span style="color:#555">&mdash;</span>',o=u=>u==="improving"?'<span class="trend-badge improving">&#x2197; Improving</span>':u==="degrading"?'<span class="trend-badge degrading">&#x2198; Degrading</span>':'<span class="trend-badge stable">&mdash; Stable</span>',s=r.map((u,d)=>`
    <tr>
      <td><span class="rank">#${d+1}</span> ${i(u.rankChange)}</td>
      <td><strong>${u.agentName}</strong><br><small class="model">${u.model}</small></td>
      <td>${u.provider}</td>
      <td><span class="score-pill ${u.pillarScores.financial>=.6?"score-good":"score-mid"}">${(u.pillarScores.financial??0).toFixed(2)}</span></td>
      <td><span class="score-pill ${u.pillarScores.reasoning>=.6?"score-good":"score-mid"}">${(u.pillarScores.reasoning??0).toFixed(2)}</span></td>
      <td><span class="score-pill ${u.pillarScores.safety>=.7?"score-good":"score-mid"}">${(u.pillarScores.safety??0).toFixed(2)}</span></td>
      <td><span class="score-pill ${u.pillarScores.calibration>=.5?"score-good":"score-mid"}">${(u.pillarScores.calibration??0).toFixed(2)}</span></td>
      <td><span class="score-pill ${u.pillarScores.forensic_quality>=.5?"score-good":"score-mid"}">${(u.pillarScores.forensic_quality??0).toFixed(2)}</span></td>
      <td>${u.tradeCount}</td>
      <td>${o(u.trend)}</td>
      <td>
        <strong class="composite">${u.compositeScore.toFixed(2)}</strong>
        <span class="grade grade-${u.compositeGrade.replace("+","plus").replace("-","minus")}">${u.compositeGrade}</span>
      </td>
    </tr>`).join(""),a=n.map(u=>`
    <div class="forensic-card">
      <div class="forensic-agent">${u.agentId}</div>
      <div class="forensic-stats">
        <div class="fstat"><span class="flabel">Trades</span><span class="fval">${u.tradeCount}</span></div>
        <div class="fstat"><span class="flabel">Depth</span><span class="fval">${u.avgDepth.toFixed(2)}</span></div>
        <div class="fstat"><span class="flabel">Originality</span><span class="fval">${u.avgOriginality.toFixed(2)}</span></div>
        <div class="fstat"><span class="flabel">Clarity</span><span class="fval">${u.avgClarity.toFixed(2)}</span></div>
        <div class="fstat"><span class="flabel">Violations</span><span class="fval ${u.integrityViolations>0?"fval-warn":""}">${u.integrityViolations}</span></div>
        <div class="fstat"><span class="flabel">Trend</span><span class="fval">${u.trend}</span></div>
      </div>
    </div>`).join(""),c=lw.slice(0,8).map(u=>`
    <div class="event-entry">
      <span class="event-type">${u.type}</span>
      ${u.agentId?`<span class="event-agent">${u.agentId}</span>`:""}
      <span class="event-time">${new Date(u.timestamp).toLocaleTimeString()}</span>
    </div>`).join(""),l=co`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MoltApp AI Trading Benchmark v11 | 7-Pillar Scoring + Forensic Quality</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Inter', -apple-system, sans-serif; background: #06060c; color: #d0d0d0; }
    .container { max-width: 1400px; margin: 0 auto; padding: 16px; }
    .header { text-align: center; padding: 20px 0 8px; }
    h1 { font-size: 2rem; color: #00ff88; display: inline; }
    .version-badge { background: linear-gradient(135deg, #00ff88, #00aaff); color: #000; font-size: 0.65rem; font-weight: 800; padding: 3px 10px; border-radius: 12px; margin-left: 10px; letter-spacing: 1px; vertical-align: middle; }
    .official { background: linear-gradient(135deg, #00ff88, #00aaff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-size: 0.65rem; text-transform: uppercase; letter-spacing: 2px; display: block; margin-top: 4px; }
    .subtitle { text-align: center; color: #666; margin-bottom: 16px; font-size: 0.88rem; }
    .live-dot { width: 8px; height: 8px; background: #00ff88; border-radius: 50%; display: inline-block; margin-right: 6px; animation: pulse 2s infinite; }
    @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.3; } }
    .badge-row { display: flex; gap: 8px; justify-content: center; margin-bottom: 18px; flex-wrap: wrap; }
    .badge { background: #111122; border: 1px solid #222; border-radius: 6px; padding: 5px 12px; font-size: 0.75rem; color: #00ff88; text-decoration: none; transition: all 0.2s; }
    .badge:hover { background: #1a1a3e; }
    .badge-hf { border-color: #ffaa00; color: #ffaa00; }
    .section { margin-bottom: 28px; }
    .section h2 { font-size: 1.1rem; margin-bottom: 10px; color: #fff; border-bottom: 1px solid #222; padding-bottom: 5px; }
    .pillar-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(170px, 1fr)); gap: 10px; margin-bottom: 18px; }
    .pillar-card { background: #0d0d1a; border: 1px solid #1a1a2e; border-radius: 8px; padding: 14px; text-align: center; }
    .pillar-card h3 { font-size: 0.7rem; color: #888; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 4px; }
    .pillar-card .pval { font-size: 1.3rem; font-weight: 700; color: #00ff88; }
    .pillar-card .pweight { font-size: 0.6rem; color: #444; }
    .pillar-card .pdesc { font-size: 0.65rem; color: #555; margin-top: 3px; }
    table { width: 100%; border-collapse: collapse; }
    th, td { padding: 7px 9px; text-align: left; border-bottom: 1px solid #111122; }
    th { background: #0d0d1a; color: #00ff88; font-weight: 600; font-size: 0.72rem; text-transform: uppercase; }
    td { font-size: 0.8rem; }
    tr:hover { background: #0d0d1a; }
    .rank { color: #ffaa00; font-weight: 700; font-size: 1rem; }
    .composite { color: #00ff88; font-size: 1rem; }
    .grade { display: inline-block; padding: 1px 7px; border-radius: 4px; font-size: 0.72rem; font-weight: 700; margin-left: 6px; background: #1a1a3e; color: #8888ff; }
    .model { color: #555; font-size: 0.72rem; }
    .score-pill { padding: 2px 7px; border-radius: 4px; font-size: 0.75rem; font-weight: 600; }
    .score-good { background: #00221a; color: #00ff88; }
    .score-mid { background: #221b00; color: #ffaa00; }
    .score-bad { background: #220000; color: #ff4444; }
    .trend-badge { font-size: 0.7rem; padding: 2px 6px; border-radius: 4px; }
    .trend-badge.improving { background: #00221a; color: #00ff88; }
    .trend-badge.degrading { background: #220000; color: #ff4444; }
    .trend-badge.stable { background: #111122; color: #666; }
    .forensic-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 12px; }
    .forensic-card { background: #0d0d1a; border: 1px solid #1a1a2e; border-radius: 8px; padding: 14px; }
    .forensic-agent { font-weight: 700; color: #fff; font-size: 0.9rem; margin-bottom: 8px; }
    .forensic-stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 6px; }
    .fstat { text-align: center; }
    .flabel { display: block; font-size: 0.6rem; color: #555; text-transform: uppercase; }
    .fval { font-size: 1rem; font-weight: 700; color: #00aaff; }
    .fval-warn { color: #ff4444; }
    .events-list { max-height: 200px; overflow-y: auto; }
    .event-entry { padding: 5px 10px; border-bottom: 1px solid #111; font-size: 0.78rem; display: flex; gap: 8px; }
    .event-type { color: #00ff88; font-weight: 600; min-width: 120px; }
    .event-agent { color: #aaa; }
    .event-time { color: #444; margin-left: auto; }
    .footer { text-align: center; color: #333; font-size: 0.72rem; margin-top: 20px; padding: 16px; border-top: 1px solid #111122; }
    @media (max-width: 768px) { .container { padding: 8px; } table { font-size: 0.7rem; } th, td { padding: 4px 5px; } }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>MoltApp AI Trading Benchmark</h1>
      <span class="version-badge">v11</span>
      <span class="official">Industry-Standard AI Finance Benchmark &mdash; 7-Pillar Scoring</span>
    </div>
    <p class="subtitle"><span class="live-dot"></span>Live evaluation of AI agents trading real tokenized stocks on Solana &mdash; with forensic reasoning analysis</p>

    <div class="badge-row">
      <a href="https://huggingface.co/datasets/patruff/molt-benchmark" class="badge badge-hf" target="_blank">HuggingFace Dataset</a>
      <a href="https://www.patgpt.us" class="badge" target="_blank">www.patgpt.us</a>
      <a href="/benchmark-v11/data" class="badge">API (JSON)</a>
      <a href="/benchmark-v11/export" class="badge">Export (JSONL)</a>
      <a href="/benchmark-v11/stream" class="badge">Live Stream (SSE)</a>
      <a href="/api/v1/brain-feed" class="badge">Brain Feed</a>
    </div>

    <div class="section">
      <h2>7-Pillar Scoring Framework</h2>
      <div class="pillar-grid">
        <div class="pillar-card">
          <h3>Financial</h3>
          <div class="pval">20%</div>
          <div class="pdesc">P&L, Sharpe Ratio, Win Rate</div>
        </div>
        <div class="pillar-card">
          <h3>Reasoning</h3>
          <div class="pval">20%</div>
          <div class="pdesc">Coherence & Analytical Depth</div>
        </div>
        <div class="pillar-card">
          <h3>Safety</h3>
          <div class="pval">15%</div>
          <div class="pdesc">Hallucination-Free & Discipline</div>
        </div>
        <div class="pillar-card">
          <h3>Calibration</h3>
          <div class="pval">10%</div>
          <div class="pdesc">Confidence-Outcome Correlation</div>
        </div>
        <div class="pillar-card">
          <h3>Patterns</h3>
          <div class="pval">10%</div>
          <div class="pdesc">Fallacy Detection & Vocabulary</div>
        </div>
        <div class="pillar-card">
          <h3>Adaptability</h3>
          <div class="pval">10%</div>
          <div class="pdesc">Cross-Regime Consistency</div>
        </div>
        <div class="pillar-card" style="border-color: #00aaff;">
          <h3 style="color: #00aaff;">Forensic Quality</h3>
          <div class="pval" style="color: #00aaff;">15%</div>
          <div class="pdesc">Structure, Originality, Clarity, Integrity</div>
        </div>
      </div>
    </div>

    <div class="section">
      <h2>Agent Leaderboard</h2>
      <table>
        <thead>
          <tr>
            <th>Rank</th>
            <th>Agent</th>
            <th>Provider</th>
            <th>Financial</th>
            <th>Reasoning</th>
            <th>Safety</th>
            <th>Calibration</th>
            <th>Forensic</th>
            <th>Trades</th>
            <th>Trend</th>
            <th>Composite</th>
          </tr>
        </thead>
        <tbody>
          ${s||'<tr><td colspan="11" style="text-align:center;color:#444;">No trades yet &mdash; run a trading round to populate</td></tr>'}
        </tbody>
      </table>
    </div>

    <div class="section">
      <h2>Forensic Quality Analysis</h2>
      <div class="forensic-grid">
        ${a||'<div class="forensic-card"><div class="forensic-agent" style="color:#555;">Forensic data will appear after trading rounds</div></div>'}
      </div>
    </div>

    <div class="section">
      <h2><span class="live-dot"></span>Recent Benchmark Events</h2>
      <div class="events-list">
        ${c||'<div class="event-entry"><span class="event-type" style="color:#555;">Waiting for trading activity...</span></div>'}
      </div>
    </div>

    <div class="footer">
      <strong>MoltApp AI Trading Benchmark v11</strong> &mdash; 7-Pillar Scoring with Forensic Quality Analysis<br>
      Colosseum Agent Hackathon 2026 &mdash; Every trade requires reasoning. No black-box trades.<br>
      <small>Data: <a href="https://huggingface.co/datasets/patruff/molt-benchmark" style="color:#00aaff;">HuggingFace</a> &mdash; Website: <a href="https://www.patgpt.us" style="color:#00aaff;">www.patgpt.us</a></small>
    </div>
  </div>

  <script>
    // SSE live updates
    const evtSource = new EventSource('/benchmark-v11/stream');
    evtSource.onmessage = (event) => {
      try {
        const data = JSON.parse(event.data);
        document.title = 'MoltApp v11 | ' + data.type + ' | ' + new Date().toLocaleTimeString();
      } catch {}
    };
    // Auto-refresh every 45 seconds
    setInterval(() => { location.reload(); }, 45000);
  </script>
</body>
</html>`;return t.html(l)});var Kle=new Map,Zqt=100;function Xqt(t,e){let r=Kle.get(t)??[];r.push(e),r.length>Zqt&&r.shift(),Kle.set(t,r)}function eHt(t){let e=Kle.get(t)??[];if(e.length<5)return{mean:.5,stdDev:.2,count:e.length};let r=e.reduce((i,o)=>i+o,0)/e.length,n=e.reduce((i,o)=>i+(o-r)**2,0)/e.length;return{mean:r,stdDev:Math.sqrt(n),count:e.length}}var tHt=["market_price_feed","jupiter_price_api","24h_price_change","trading_volume","portfolio_state","news_feed","technical_indicators","fundamentals","market_sentiment","sector_analysis","market_data","earnings_data","analyst_consensus","options_flow","insider_trading","macro_indicators","fed_policy","correlation_analysis"],rHt=[/\brisk\b/i,/\bdownside\b/i,/\bvolatil/i,/\bdrawdown\b/i,/\bstop[- ]?loss\b/i,/\bhedg/i,/\bexposure\b/i,/\bloss\b/i,/\bworst[- ]?case\b/i,/\bprotect/i,/\buncertain/i,/\bcaution/i,/\bconcern/i,/\bdefensive/i];function fXe(t,e,r,n){let i=[],o=[],s=[],a=t.confidence>1?t.confidence/100:t.confidence,c=nHt(t,i);s.push({name:"structural_validity",score:c,weight:.15,passed:c>=.5,detail:c>=.8?"All required fields present":"Missing or invalid fields detected"});let l=iHt(t.reasoning,i,o);s.push({name:"reasoning_depth",score:l,weight:.2,passed:l>=.3,detail:l>=.7?"Substantive multi-factor reasoning":l>=.4?"Adequate but shallow reasoning":"Insufficient reasoning depth"});let u=oHt(t,i,o);s.push({name:"source_verification",score:u,weight:.1,passed:u>=.3,detail:u>=.7?"Sources are plausible and specific":"Source claims need improvement"});let d=sHt(t.reasoning,r,i);s.push({name:"price_grounding",score:d,weight:.15,passed:d>=.4,detail:d>=.7?"Price references match market data":"Price claims may be inaccurate"});let p=aHt(t.reasoning,i);s.push({name:"temporal_consistency",score:p,weight:.1,passed:p>=.3,detail:p>=.7?"Reasoning references current conditions":"Temporal context could be stronger"});let m=cHt(e,a,t,i,o);s.push({name:"confidence_calibration",score:m,weight:.1,passed:m>=.3,detail:m>=.7?"Confidence is within historical norms":"Confidence may be miscalibrated"});let h=lHt(t,i);s.push({name:"action_reasoning_alignment",score:h,weight:.15,passed:h>=.3,detail:h>=.7?"Reasoning supports the chosen action":"Possible misalignment between reasoning and action"});let f=uHt(t.reasoning,t.action,i,o);s.push({name:"risk_awareness",score:f,weight:.05,passed:!0,detail:f>=.5?"Reasoning acknowledges relevant risks":"Limited risk awareness in reasoning"});let y=s.reduce((I,N)=>I+N.score*N.weight,0),v=Math.round(y*1e3)/1e3,_=dHt(v),E=!s.some(I=>!I.passed&&I.weight>=.15)&&v>=.25;return Xqt(e,a),{valid:E,qualityScore:v,grade:_,dimensions:s,issues:i,suggestions:o.slice(0,5),validatedAt:new Date().toISOString()}}function nHt(t,e){let r=1;return(!t.action||!["buy","sell","hold"].includes(t.action))&&(e.push({severity:"error",dimension:"structural_validity",message:"Missing or invalid action field"}),r-=.4),(!t.symbol||t.symbol.length===0)&&(e.push({severity:"error",dimension:"structural_validity",message:"Missing symbol field"}),r-=.3),(!t.reasoning||t.reasoning.length<10)&&(e.push({severity:"error",dimension:"structural_validity",message:"Missing or too-short reasoning"}),r-=.3),typeof t.confidence!="number"&&(e.push({severity:"warning",dimension:"structural_validity",message:"Confidence is not a number"}),r-=.1),t.action!=="hold"&&(typeof t.quantity!="number"||t.quantity<=0)&&(e.push({severity:"warning",dimension:"structural_validity",message:"Non-hold action with invalid quantity"}),r-=.1),t.timestamp||(e.push({severity:"info",dimension:"structural_validity",message:"Missing timestamp"}),r-=.05),Math.max(0,r)}function iHt(t,e,r){let i=t.split(/\s+/).filter(Boolean).length,s=t.split(/[.!?]+/).filter(p=>p.trim().length>0).length,a=0;i>=100?a+=.3:i>=50?a+=.25:i>=20?a+=.15:(e.push({severity:"warning",dimension:"reasoning_depth",message:`Reasoning is only ${i} words \u2014 substantive analysis needs 50+ words`}),r.push("Expand reasoning to include multiple analytical angles (price action, fundamentals, portfolio context)")),s>=5?a+=.2:s>=3?a+=.15:s>=2&&(a+=.1);let l=[{pattern:/price|valuation|\$\d|\bP\/E\b/i,name:"price_analysis"},{pattern:/volume|liquidity|traded/i,name:"volume_analysis"},{pattern:/trend|momentum|moving\s+average|breakout/i,name:"technical_analysis"},{pattern:/fundamental|earnings|revenue|growth|margin/i,name:"fundamental_analysis"},{pattern:/portfolio|position|allocation|exposure/i,name:"portfolio_context"},{pattern:/risk|downside|protect|volatile/i,name:"risk_consideration"},{pattern:/sector|industry|market|macro|economy/i,name:"macro_context"},{pattern:/news|event|catalyst|announcement/i,name:"catalyst_awareness"}].filter(p=>p.pattern.test(t)).length;a+=Math.min(.3,l*.06),l<2&&r.push("Include multiple analytical angles: price analysis, fundamentals, portfolio context, risk assessment");let u=(t.match(/\d+\.?\d*%|\$\d+\.?\d*|\d+\.\d+/g)??[]).length;return u>=3?a+=.15:u>=1?a+=.08:r.push("Include specific numbers and percentages to ground your reasoning in data"),(t.match(/\bbecause\b|\btherefore\b|\bdue\s+to\b|\bsince\b|\bas\s+a\s+result\b|\bconsequently\b|\bhence\b|\bthus\b/gi)??[]).length>=2&&(a+=.05),Math.min(1,a)}function oHt(t,e,r){let n=t.sources??[];if(n.length===0)return e.push({severity:"warning",dimension:"source_verification",message:"No data sources cited"}),r.push("Cite specific data sources used in analysis (e.g., 'market_price_feed', 'news_feed', 'technical_indicators')"),.2;let i=.4,o=n.filter(s=>tHt.some(a=>s.toLowerCase().includes(a.toLowerCase())||a.toLowerCase().includes(s.toLowerCase()))).length;i+=Math.min(.3,o/Math.max(1,n.length)*.3),n.length>=3?i+=.2:n.length>=2&&(i+=.1);for(let s of n)s.length>60&&e.push({severity:"info",dimension:"source_verification",message:`Unusually long source name: ${s.slice(0,40)}...`});return Math.min(1,i)}function sHt(t,e,r){let n=new Map;for(let l of e)n.set(l.symbol.toLowerCase(),l.price),n.set(l.symbol.replace(/x$/i,"").toLowerCase(),l.price);if(e.length===0)return .6;let i=.7,o=/(\w+x?)\s+(?:is\s+)?(?:at|priced?\s+at|trading\s+at|currently)\s+\$?([\d,]+\.?\d*)/gi,s,a=0,c=0;for(;(s=o.exec(t))!==null;){let l=s[1].toLowerCase(),u=parseFloat(s[2].replace(/,/g,"")),d=n.get(l);if(a++,d!==void 0&&u>0){let p=Math.abs(u-d)/d;p<=.05?c++:p<=.2?c+=.5:(r.push({severity:"warning",dimension:"price_grounding",message:`Price claim for ${l.toUpperCase()} ($${u.toFixed(2)}) deviates ${(p*100).toFixed(0)}% from actual ($${d.toFixed(2)})`,evidence:s[0]}),i-=.15)}}return a>0&&c/a>=.8&&(i+=.2),a===0&&(i=.6),Math.max(0,Math.min(1,i))}function aHt(t,e){let r=.5,n=[{pattern:/\bcurrent(ly)?\b|\bright\s+now\b|\btoday\b/i,weight:.15},{pattern:/\brecent(ly)?\b|\blast\s+(week|month|day|session)\b/i,weight:.1},{pattern:/\b24h\b|\b24-?hour\b|\bintraday\b/i,weight:.1},{pattern:/\btrending\b|\bmoving\b|\bshifting\b/i,weight:.05},{pattern:/\bsince\s+(yesterday|last|the)\b/i,weight:.1}];for(let{pattern:i,weight:o}of n)i.test(t)&&(r+=o);return/\d/.test(t)||(e.push({severity:"info",dimension:"temporal_consistency",message:"Reasoning contains no numbers \u2014 may not be grounded in current data"}),r-=.1),Math.max(0,Math.min(1,r))}function cHt(t,e,r,n,i){let o=eHt(t),s=.7;if(o.count>=10){let a=Math.abs(e-o.mean)/Math.max(.01,o.stdDev);a>3?(n.push({severity:"warning",dimension:"confidence_calibration",message:`Confidence ${(e*100).toFixed(0)}% is ${a.toFixed(1)} standard deviations from agent's mean of ${(o.mean*100).toFixed(0)}%`}),s-=.3):a>2&&(n.push({severity:"info",dimension:"confidence_calibration",message:"Confidence is notably different from agent's historical average"}),s-=.1)}return r.action==="hold"&&e>.9&&(n.push({severity:"info",dimension:"confidence_calibration",message:"Very high confidence (>90%) on a hold action \u2014 consider why confidence is so high if no trade is being made"}),s-=.1),r.action!=="hold"&&e<.2&&(n.push({severity:"warning",dimension:"confidence_calibration",message:"Trading with very low confidence (<20%) \u2014 consider whether this trade should be a hold instead"}),i.push("Low-confidence trades should include strong reasoning for why the trade is being taken despite uncertainty"),s-=.2),Math.max(0,Math.min(1,s))}function lHt(t,e){let r=t.reasoning.toLowerCase(),n=.5,i=(r.match(/\bbullish\b|\bupside\b|\bgrowth\b|\bundervalued\b|\bbreakout\b|\brally\b|\baccumulate\b|\boptimistic\b/g)??[]).length,o=(r.match(/\bbearish\b|\bdownside\b|\bovervalued\b|\bbreakdown\b|\bcorrection\b|\bpessimistic\b|\bdeclining\b|\bweakness\b/g)??[]).length,s=(r.match(/\buncertain\b|\bwait\b|\bcaution\b|\bsideline\b|\bmixed\b|\binsufficient\b|\bpatien/g)??[]).length;return t.action==="buy"?i>o?n=.85:i===o&&i>0?n=.5:o>i+1&&(/contrarian|reversion|oversold|bounce|discount/i.test(r)?n=.7:(e.push({severity:"warning",dimension:"action_reasoning_alignment",message:"Bearish reasoning but choosing to buy"}),n=.25)):t.action==="sell"?o>i?n=.85:o===i&&o>0?n=.5:i>o+1&&(/profit|take\s+gains|rebalance|trim|overexposed/i.test(r)?n=.7:(e.push({severity:"warning",dimension:"action_reasoning_alignment",message:"Bullish reasoning but choosing to sell"}),n=.25)):s>0||i<=1&&o<=1?n=.8:(i>2||o>2)&&(/guardrail|limit|buffer|risk\s+management/i.test(r)?n=.75:(e.push({severity:"info",dimension:"action_reasoning_alignment",message:"Strong directional signals but choosing to hold"}),n=.45)),n}function uHt(t,e,r,n){let i=rHt.filter(o=>o.test(t)).length;return e==="hold"?Math.min(1,.5+i*.15):i===0?(r.push({severity:"info",dimension:"risk_awareness",message:"Reasoning does not mention any risk factors"}),n.push("Include risk awareness in reasoning \u2014 what could go wrong with this trade?"),.2):i>=3?1:i>=2?.8:.5}function dHt(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}var pHt=[{pattern:/\bundervalued\b|\bintrinsic\s+value\b|\bmargin\s+of\s+safety\b|\bfundamental\s+strength\b|\bP\/E\b|\bearnings\b.*\bcheap\b/i,strategy:"value_investing",weight:1},{pattern:/\bmomentum\b|\btrend\b|\bbreakout\b|\brally\b|\bpositive\s+momentum\b|\bcontinuing\s+to\s+rise\b/i,strategy:"momentum_trading",weight:1},{pattern:/\bmean\s+reversion\b|\boversold\b|\bbounce\b|\bpullback\b|\brevert/i,strategy:"mean_reversion",weight:1},{pattern:/\bcontrarian\b|\bagainst\s+the\s+crowd\b|\boverreact/i,strategy:"contrarian",weight:1},{pattern:/\bgrowth\b|\bexpand/i,strategy:"growth_investing",weight:.6},{pattern:/\brisk\s+manag/i,strategy:"risk_management",weight:.8},{pattern:/\bindex\b|\bSPY\b|\bQQQ\b|\btrack/i,strategy:"index_tracking",weight:.5},{pattern:/\bevent\b|\bcatalyst\b|\bannouncement\b|\bearnings\s+report\b/i,strategy:"event_driven",weight:.8},{pattern:/\bpattern\b|\bsupport\b|\bresistance\b|\bchannel\b|\bMACD\b|\bRSI\b/i,strategy:"technical_pattern",weight:.9},{pattern:/\brebalanc/i,strategy:"portfolio_rebalancing",weight:.9}];function mHt(t){let e="value_investing",r=0;for(let{pattern:n,strategy:i,weight:o}of pHt){let a=(t.match(n)??[]).length*o;a>r&&(r=a,e=i)}return e}function fHt(t){let e=/\bearnings\b|\brevenue\b|\bP\/E\b|\bfundamental\b|\bbalance\s+sheet\b|\bmargin\b|\bvaluation\b/i.test(t),r=/\btechnical\b|\bRSI\b|\bMACD\b|\bmoving\s+average\b|\bsupport\b|\bresistance\b|\bchart\b|\bpattern\b/i.test(t),n=/\d+\.?\d*%/.test(t)&&/\$\d+/.test(t),i=/\bbelieve\b|\bfeel\b|\bsense\b|\bintuition\b|\bnarrative\b/i.test(t);return[e,r,n,i].filter(Boolean).length>=2?"mixed":e?"fundamental":r?"technical":n?"quantitative":i?"narrative":"mixed"}function hHt(t){return/\bif\b.*\bthen\b|\btherefore\b|\bimplies\b|\bmust\s+be\b|\bconsequently\b/i.test(t)?"deductive":/\bhistorically\b|\btends\s+to\b|\bpattern\b|\bbased\s+on\s+past\b|\busually\b/i.test(t)?"inductive":/\blikely\s+because\b|\bbest\s+explanation\b|\bsuggests\s+that\b|\bprobably\b/i.test(t)?"abductive":/\bsimilar\s+to\b|\blike\s+when\b|\breminds\b|\banalog/i.test(t)?"analogical":/\bmy\s+rules?\b|\blimit\b|\bthreshold\b|\bpolicy\b|\bguardrail\b/i.test(t)?"rule_based":"mixed"}function gHt(t){let e=(t.match(/\d+\.?\d*%|\$\d+\.?\d*|\d+\.\d{2,}/g)??[]).length,r=(t.match(/\bfeel\b|\bsense\b|\bappear\b|\bseem\b/gi)??[]).length;return e>=3&&r<=1?"quantitative":e>=1&&r>=1?"mixed":r>=2&&e===0?"qualitative":e===0&&r===0?"anecdotal":"mixed"}function yHt(t){return/\babove\b.*%|\bbelow\b.*%|\bexceeds\b|\bthreshold\b|\bcriteria\b/i.test(t)?"threshold_based":/\bcompared\s+to\b|\brelative\b|\bversus\b|\bbetter\s+than\b/i.test(t)?"comparative":/\brisk.?reward\b|\brisk.?adjusted\b|\bSharpe\b|\bdownside\s+protection\b/i.test(t)?"risk_adjusted":/\bstrongly\s+believe\b|\bconviction\b|\bhigh\s+confidence\b|\bcertain\b/i.test(t)?"conviction_based":/\brule\b|\bpolicy\b|\balways\b|\bnever\b|\bguardrail\b/i.test(t)?"rule_following":"mixed"}var bHt=[{type:"anchoring_bias",pattern:/\bthe\s+key\s+(number|price|level)\b|\banchored\s+to\b|\bfocusing\s+on\s+the\s+\$?\d/i,severity:"low"},{type:"recency_bias",pattern:/\bjust\s+(yesterday|today|recently)\b.*\b(therefore|so|hence)\b/i,severity:"medium"},{type:"confirmation_bias",pattern:/\b(as\s+I\s+expected|confirms\s+my|validates\s+my|as\s+predicted)\b/i,severity:"medium"},{type:"loss_aversion",pattern:/\bcan't\s+afford\s+to\s+lose\b|\bavoid\s+losses?\s+at\s+all\s+costs\b|\bnever\s+sell\s+at\s+a\s+loss\b/i,severity:"medium"},{type:"overconfidence",pattern:/\bdefinitely\s+will\b|\bguaranteed\b|\bcertain\s+to\b|\bno\s+doubt\b|\bimpossible\s+to\s+fail\b/i,severity:"high"},{type:"herd_mentality",pattern:/\beveryone\s+is\s+(buying|selling)\b|\bfollow\s+the\s+(market|crowd)\b|\bpopular\s+opinion\b/i,severity:"low"},{type:"sunk_cost_fallacy",pattern:/\balready\s+invested\b|\btoo\s+deep\b|\bcan't\s+sell\s+now\s+after\b/i,severity:"high"},{type:"gambler_fallacy",pattern:/\bdue\s+for\s+a\b|\bcan't\s+keep\s+(falling|rising)\s+forever\b|\bhas\s+to\s+reverse\b/i,severity:"medium"},{type:"availability_bias",pattern:/\bremember\s+when\b|\blast\s+time\s+this\s+happened\b|\bI've\s+seen\s+this\s+before\b/i,severity:"low"},{type:"framing_effect",pattern:/\bonly\s+\d+%\s+down\b|\bjust\s+a\s+small\s+loss\b|\btiny\s+allocation\b/i,severity:"low"}];function vHt(t){let e=[];for(let r of bHt){let n=t.match(r.pattern);n&&e.push({type:r.type,evidence:n[0],severity:r.severity})}return e}function _Ht(t,e,r){let n=1,i=t.split(/\s+/).length;i>=100&&n++,i>=200&&n++;let s=[/price|valuation/i,/volume|liquidity/i,/trend|momentum/i,/fundamental|earnings/i,/risk|downside/i,/sector|macro/i,/catalyst|event/i,/portfolio|allocation/i].filter(c=>c.test(t)).length;return s>=4&&n++,s>=6&&n++,(r==="deductive"||e==="quantitative")&&(n=Math.min(5,n+1)),(t.match(/\d+\.?\d*%|\$\d+\.?\d*/g)??[]).length>=5&&(n=Math.min(5,n+1)),Math.min(5,Math.max(1,n))}var SHt=[{pattern:/\bvaluation\b|\bP\/E\b|\bprice.to.earnings\b/i,theme:"valuation"},{pattern:/\bgrowth\b|\bexpansion\b|\bscaling\b/i,theme:"growth"},{pattern:/\bdividend\b|\byield\b|\bincome\b/i,theme:"income"},{pattern:/\bmomentum\b|\btrend\b|\btechnical\b/i,theme:"momentum"},{pattern:/\brisk\b|\bvolatility\b|\bdrawdown\b/i,theme:"risk"},{pattern:/\bportfolio\b|\ballocation\b|\bdiversif/i,theme:"portfolio"},{pattern:/\bmacro\b|\beconomy\b|\bfed\b|\binterest\s+rate\b/i,theme:"macro"},{pattern:/\bearnings\b|\brevenue\b|\bprofit\b/i,theme:"earnings"},{pattern:/\bnews\b|\bevent\b|\bcatalyst\b/i,theme:"catalyst"},{pattern:/\bsentiment\b|\bfear\b|\bgreed\b/i,theme:"sentiment"},{pattern:/\bsector\b|\bindustry\b|\bpeer\b/i,theme:"sector"},{pattern:/\bliquidity\b|\bvolume\b|\bmarket\s+depth\b/i,theme:"liquidity"}];function wHt(t){return SHt.filter(({pattern:e})=>e.test(t)).map(({theme:e})=>e)}function xHt(t,e,r,n,i,o){let s=t.slice(0,3).toUpperCase(),a=e.slice(0,3).toUpperCase(),c=r.slice(0,3).toUpperCase(),l=n.slice(0,3).toUpperCase(),u=i.slice(0,3).toUpperCase();return`${s}-${a}-${c}-${l}-${u}-L${o}`}function hXe(t,e){let r=mHt(t),n=fHt(t),i=hHt(t),o=gHt(t),s=yHt(t),a=vHt(t),c=_Ht(t,n,i),l=wHt(t),u=xHt(r,n,i,o,s,c),d=[r!=="value_investing"?1:.5,n!=="mixed"?1:.5,i!=="mixed"?1:.5,o!=="mixed"?1:.5,s!=="mixed"?1:.5].reduce((m,h)=>m+h,0),p=Math.min(1,d/5+l.length*.05);return{strategy:r,analyticalMethod:n,reasoningStructure:i,evidenceType:o,decisionFramework:s,cognitivePatterns:a,sophisticationLevel:c,themes:l,fingerprint:u,classificationConfidence:Math.round(p*100)/100}}var Yle=new Map,AHt=200;function gXe(t,e){let r=Yle.get(t)??[];r.push(e),r.length>AHt&&r.shift(),Yle.set(t,r)}function Jle(t){let e=Yle.get(t);if(!e||e.length===0)return null;let r=new Map;for(let f of e)r.set(f.strategy,(r.get(f.strategy)??0)+1);let n={};for(let[f,y]of r)n[f]=Math.round(y/e.length*100)/100;let i=[...r.entries()].sort((f,y)=>y[1]-f[1])[0][0],o=new Map;for(let f of e)o.set(f.analyticalMethod,(o.get(f.analyticalMethod)??0)+1);let s=[...o.entries()].sort((f,y)=>y[1]-f[1])[0][0],a=e.reduce((f,y)=>f+y.sophisticationLevel,0)/e.length,c=new Map;for(let f of e)for(let y of f.cognitivePatterns)c.set(y.type,(c.get(y.type)??0)+1);let l=[...c.entries()].map(([f,y])=>({type:f,frequency:Math.round(y/e.length*100)/100})).sort((f,y)=>y.frequency-f.frequency).slice(0,5),u=new Map;for(let f of e)for(let y of f.themes)u.set(y,(u.get(y)??0)+1);let d=[...u.entries()].map(([f,y])=>({theme:f,frequency:Math.round(y/e.length*100)/100})).sort((f,y)=>y.frequency-f.frequency).slice(0,8),p=new Set(e.map(f=>f.fingerprint)).size,m=Math.round(p/e.length*100)/100,h=Math.round(e.reduce((f,y)=>f+y.classificationConfidence,0)/e.length*100)/100;return{agentId:t,tradeCount:e.length,dominantStrategy:i,strategyDistribution:n,dominantMethod:s,avgSophistication:Math.round(a*10)/10,frequentBiases:l,topThemes:d,fingerprintDiversity:m,avgClassificationConfidence:h}}var XM=new Map,EHt=300;function yXe(t){let e=XM.get(t.agentId)??[];e.push(t),e.length>EHt&&e.shift(),XM.set(t.agentId,e)}function Qle(t){let e=XM.get(t)??[];if(e.length<3)return{agentId:t,roundsAnalyzed:e.length,overallScore:.5,grade:"N/A",dimensions:{stanceConsistency:.5,convictionStability:.5,narrativeCoherence:.5,strategyAlignment:.5,reasoningEvolution:.5},anomalies:[],stanceHistory:[],qualityTrend:"insufficient_data"};let r=[],n=RHt(e,r),i=THt(e,r),o=IHt(e,r),s=CHt(e,r),a=OHt(e,r),c=Math.round((n.score*.25+i.score*.2+o.score*.2+s.score*.15+a.score*.2)*100)/100,l=NHt(c);return{agentId:t,roundsAnalyzed:e.length,overallScore:c,grade:l,dimensions:{stanceConsistency:n.score,convictionStability:i.score,narrativeCoherence:o.score,strategyAlignment:s.score,reasoningEvolution:a.score},anomalies:r,stanceHistory:n.stanceHistory,qualityTrend:a.trend}}function RHt(t,e){let r=new Map;for(let c of t){let l=r.get(c.symbol)??[];l.push(c),r.set(c.symbol,l)}let n=[],i=0,o=0;for(let[c,l]of r){if(l.length<2){n.push({symbol:c,tradeCount:l.length,actionSequence:l.map(p=>p.action),consistent:!0,reversals:0});continue}let u=0,d=l.map(p=>p.action);for(let p=1;p<l.length;p++){let m=l[p-1],h=l[p];if(o++,m.action==="buy"&&h.action==="sell"||m.action==="sell"&&h.action==="buy"){let y=(new Date(h.timestamp).getTime()-new Date(m.timestamp).getTime())/(1e3*60*60);u++,y<24&&e.push({type:"flip_flop",symbol:c,description:`Reversed stance on ${c}: ${m.action} \u2192 ${h.action} within ${y.toFixed(1)} hours`,severity:y<4?"high":"medium",roundId:h.roundId,timestamp:h.timestamp})}}i+=u,n.push({symbol:c,tradeCount:l.length,actionSequence:d,consistent:u===0,reversals:u})}let s=o>0?i/o:0,a=Math.max(0,Math.min(1,1-s*2));return{score:Math.round(a*100)/100,stanceHistory:n}}function THt(t,e){if(t.length<3)return{score:.5};let r=t.map(a=>a.confidence),n=r.reduce((a,c)=>a+c,0)/r.length,i=r.reduce((a,c)=>a+(c-n)**2,0)/r.length,o=Math.sqrt(i);for(let a=1;a<t.length;a++){let c=Math.abs(t[a].confidence-t[a-1].confidence);c>.4&&e.push({type:"confidence_spike",symbol:t[a].symbol,description:`Confidence jumped ${(c*100).toFixed(0)}%: ${(t[a-1].confidence*100).toFixed(0)}% \u2192 ${(t[a].confidence*100).toFixed(0)}%`,severity:c>.6?"high":"medium",roundId:t[a].roundId,timestamp:t[a].timestamp})}let s=Math.max(0,Math.min(1,1-o*2.5));return{score:Math.round(s*100)/100}}function IHt(t,e){if(t.length<3)return{score:.5};let r=new Map;for(let s of t){let a=r.get(s.symbol)??[];a.push(s),r.set(s.symbol,a)}let n=0,i=0;for(let[s,a]of r)if(!(a.length<2))for(let c=1;c<a.length;c++){i++;let l=a[c-1],u=a[c],d=new Set(l.reasoning.toLowerCase().split(/\s+/)),p=new Set(u.reasoning.toLowerCase().split(/\s+/)),m=[...d].filter(y=>p.has(y)&&y.length>4).length,h=new Set([...d,...p]).size,f=h>0?m/h:0;f>=.1&&f<=.7?n++:f>.7?(e.push({type:"narrative_break",symbol:s,description:`Very high reasoning similarity (${(f*100).toFixed(0)}%) between consecutive ${s} trades \u2014 possible copypasta`,severity:"medium",roundId:u.roundId,timestamp:u.timestamp}),n+=.5):f<.05&&e.push({type:"narrative_break",symbol:s,description:`No narrative continuity between consecutive ${s} trades \u2014 reasoning appears disconnected`,severity:"low",roundId:u.roundId,timestamp:u.timestamp})}let o=i>0?n/i:.5;return{score:Math.round(Math.min(1,o)*100)/100}}function CHt(t,e){if(t.length<5)return{score:.5};let r=new Map;for(let s of t)r.set(s.intent,(r.get(s.intent)??0)+1);let i=([...r.entries()].sort((s,a)=>a[1]-s[1])[0]?.[1]??0)/t.length;for(let s=1;s<t.length;s++)if(t[s].intent!==t[s-1].intent){let a=Math.max(0,s-2),c=Math.min(t.length,s+2),l=t.slice(a,c).map(d=>d.intent),u=new Set(l).size;u>=3&&e.push({type:"strategy_switch",symbol:t[s].symbol,description:`Strategy changed from ${t[s-1].intent} to ${t[s].intent} with ${u} different intents in 5-trade window`,severity:"low",roundId:t[s].roundId,timestamp:t[s].timestamp})}let o=Math.min(1,i+.2);return{score:Math.round(o*100)/100}}function OHt(t,e){if(t.length<6)return{score:.5,trend:"insufficient_data"};let r=Math.floor(t.length/2),n=t.slice(0,r),i=t.slice(r),o=n.reduce((f,y)=>f+y.coherenceScore,0)/n.length,s=i.reduce((f,y)=>f+y.coherenceScore,0)/i.length,a=s-o,c=n.reduce((f,y)=>f+y.reasoning.split(/\s+/).length,0)/n.length,l=i.reduce((f,y)=>f+y.reasoning.split(/\s+/).length,0)/i.length,u=(l-c)/Math.max(1,c),d;a>.05&&u>-.1?d="improving":a<-.05||u<-.2?(d="degrading",e.push({type:"quality_regression",symbol:"ALL",description:`Reasoning quality declining: coherence ${o.toFixed(2)} \u2192 ${s.toFixed(2)}, avg length ${c.toFixed(0)} \u2192 ${l.toFixed(0)} words`,severity:a<-.1?"high":"medium",roundId:t[t.length-1].roundId,timestamp:t[t.length-1].timestamp})):d="stable";let p=.6;d==="improving"?p=.85:d==="degrading"&&(p=.35);let m=t.map(f=>f.coherenceScore);return m.reduce((f,y)=>f+y,0)/m.length>.7&&(p=Math.min(1,p+.1)),{score:Math.round(p*100)/100,trend:d}}function NHt(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}function Zle(){return[...XM.keys()]}var e$=new sn,t$=new Map,eb=[],bXe=200;function vXe(t,e){t$.set(t,{agentId:t,...e})}function Xle(t,e,r){let n={type:t,data:e,agentId:r,timestamp:new Date().toISOString()};eb.unshift(n),eb.length>bXe&&(eb.length=bXe)}e$.get("/data",t=>{let e=[...t$.values()].sort((o,s)=>s.composite-o.composite),r=e.length>0?e.reduce((o,s)=>o+s.composite,0)/e.length:0,n=Zle().map(o=>{let s=Qle(o);return{agentId:o,overallScore:s.overallScore,grade:s.grade,anomalyCount:s.anomalies.length,qualityTrend:s.qualityTrend}}),i=e.map(o=>{let s=Jle(o.agentId);return s?{agentId:o.agentId,dominantStrategy:s.dominantStrategy,avgSophistication:s.avgSophistication,fingerprintDiversity:s.fingerprintDiversity,frequentBiases:s.frequentBiases,topThemes:s.topThemes}:null}).filter(Boolean);return t.json({ok:!0,benchmark:"moltapp-v12",version:"12.0.0",agents:e,health:{avgComposite:Math.round(r*1e3)/1e3,agentCount:e.length,totalTrades:e.reduce((o,s)=>o+s.tradeCount,0)},consistency:n,taxonomy:i,recentEvents:eb.slice(0,20),timestamp:new Date().toISOString()})});e$.get("/stream",t=>{let e=new ReadableStream({start(r){let n=new TextEncoder,i=0,o=setInterval(()=>{let s=eb.filter((a,c)=>c<eb.length-i).slice(0,10);for(let a of s){let c=`data: ${JSON.stringify(a)}

`;r.enqueue(n.encode(c))}i=eb.length,r.enqueue(n.encode(`: heartbeat ${new Date().toISOString()}

`))},5e3);setTimeout(()=>{clearInterval(o);try{r.close()}catch{}},3e5)}});return new Response(e,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});e$.get("/export",t=>{let e=t.req.query("format")??"jsonl",r=[...t$.values()];if(e==="csv"){let i="agent_id,composite,financial,reasoning,safety,calibration,patterns,adaptability,forensic_quality,validation_quality,grade,dominant_strategy,sophistication,bias_count,consistency,quality_trend,trade_count",o=r.map(s=>`${s.agentId},${s.composite},${s.financial},${s.reasoning},${s.safety},${s.calibration},${s.patterns},${s.adaptability},${s.forensicQuality},${s.validationQuality},${s.grade},${s.dominantStrategy},${s.sophistication},${s.biasCount},${s.consistencyScore},${s.qualityTrend},${s.tradeCount}`);return t.text([i,...o].join(`
`),200,{"Content-Type":"text/csv"})}let n=r.map(i=>JSON.stringify(i)).join(`
`);return t.text(n,200,{"Content-Type":"application/jsonl"})});e$.get("/",t=>{let e=[...t$.values()].sort((c,l)=>l.composite-c.composite),r=e.length>0?e.reduce((c,l)=>c+l.composite,0)/e.length:0,n=e.reduce((c,l)=>c+l.tradeCount,0);function i(c){return c.startsWith("A")?"#22c55e":c.startsWith("B")?"#3b82f6":c.startsWith("C")?"#eab308":c.startsWith("D")?"#f97316":"#ef4444"}function o(c){return c==="improving"?"&#x25B2;":c==="degrading"?"&#x25BC;":"&#x25CF;"}function s(c){return c==="improving"?"#22c55e":c==="degrading"?"#ef4444":"#94a3b8"}let a=co`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MoltApp Benchmark v12  AI Trading Intelligence</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'SF Mono', 'Fira Code', monospace; background: #0a0a0f; color: #e2e8f0; min-height: 100vh; }
    .header { background: linear-gradient(135deg, #1a1a2e 0%, #0f3460 100%); padding: 32px 24px; border-bottom: 2px solid #3b82f6; }
    .header h1 { font-size: 28px; font-weight: 800; color: #fff; letter-spacing: -0.5px; }
    .header .subtitle { color: #94a3b8; font-size: 14px; margin-top: 4px; }
    .badges { display: flex; gap: 8px; margin-top: 12px; flex-wrap: wrap; }
    .badge { padding: 4px 10px; border-radius: 4px; font-size: 11px; font-weight: 600; }
    .badge-blue { background: #1e3a5f; color: #60a5fa; border: 1px solid #3b82f6; }
    .badge-green { background: #14532d; color: #4ade80; border: 1px solid #22c55e; }
    .badge-purple { background: #3b0764; color: #c084fc; border: 1px solid #9333ea; }
    .badge-orange { background: #431407; color: #fb923c; border: 1px solid #f97316; }
    .container { max-width: 1400px; margin: 0 auto; padding: 24px; }
    .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin-bottom: 24px; }
    .stat-card { background: #111827; border: 1px solid #1f2937; border-radius: 8px; padding: 16px; }
    .stat-label { font-size: 11px; color: #6b7280; text-transform: uppercase; letter-spacing: 1px; }
    .stat-value { font-size: 28px; font-weight: 700; color: #fff; margin-top: 4px; }
    .stat-detail { font-size: 12px; color: #9ca3af; margin-top: 2px; }
    .section-title { font-size: 18px; font-weight: 700; color: #fff; margin: 24px 0 12px; display: flex; align-items: center; gap: 8px; }
    .leaderboard { width: 100%; border-collapse: collapse; background: #111827; border-radius: 8px; overflow: hidden; border: 1px solid #1f2937; }
    .leaderboard th { background: #1f2937; padding: 10px 12px; text-align: left; font-size: 11px; color: #9ca3af; text-transform: uppercase; letter-spacing: 0.5px; }
    .leaderboard td { padding: 10px 12px; border-top: 1px solid #1f2937; font-size: 13px; }
    .leaderboard tr:hover td { background: #1a2332; }
    .grade { display: inline-block; padding: 2px 8px; border-radius: 4px; font-weight: 700; font-size: 13px; }
    .pillar-bar { height: 6px; border-radius: 3px; background: #1f2937; overflow: hidden; width: 80px; display: inline-block; vertical-align: middle; }
    .pillar-fill { height: 100%; border-radius: 3px; }
    .taxonomy-card { background: #111827; border: 1px solid #1f2937; border-radius: 8px; padding: 16px; margin-bottom: 12px; }
    .taxonomy-label { font-size: 11px; color: #6b7280; text-transform: uppercase; }
    .taxonomy-value { font-size: 14px; color: #e2e8f0; font-weight: 600; }
    .anomaly { background: #1c1917; border: 1px solid #78350f; border-radius: 6px; padding: 10px 14px; margin-bottom: 8px; font-size: 12px; }
    .anomaly-high { border-color: #ef4444; background: #1a0a0a; }
    .anomaly-medium { border-color: #f59e0b; background: #1c1917; }
    .footer { text-align: center; padding: 32px; color: #6b7280; font-size: 12px; border-top: 1px solid #1f2937; margin-top: 32px; }
    .footer a { color: #3b82f6; text-decoration: none; }
    .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
    @media (max-width: 768px) { .grid-2 { grid-template-columns: 1fr; } }
    .trend-indicator { font-size: 14px; font-weight: 700; }
    .scroll-x { overflow-x: auto; }
  </style>
</head>
<body>
  <div class="header">
    <h1>MoltApp Benchmark v12</h1>
    <div class="subtitle">Industry-Standard AI Trading Intelligence Benchmark  8-Pillar Scoring + Taxonomy + Consistency</div>
    <div class="badges">
      <span class="badge badge-blue">v12.0.0</span>
      <span class="badge badge-green">8-Pillar Scoring</span>
      <span class="badge badge-purple">Reasoning Taxonomy</span>
      <span class="badge badge-orange">Cross-Round Consistency</span>
      <a href="https://huggingface.co/datasets/patruff/molt-benchmark" class="badge badge-blue" style="text-decoration:none;">&#x1F917; HuggingFace Dataset</a>
    </div>
  </div>

  <div class="container">
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-label">Agents Competing</div>
        <div class="stat-value">${String(e.length)}</div>
        <div class="stat-detail">Claude vs GPT vs Grok</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Total Trades Analyzed</div>
        <div class="stat-value">${String(n)}</div>
        <div class="stat-detail">With full reasoning data</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Avg Composite Score</div>
        <div class="stat-value">${(r*100).toFixed(1)}%</div>
        <div class="stat-detail">Across 8 benchmark pillars</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Benchmark Version</div>
        <div class="stat-value">v12</div>
        <div class="stat-detail">Validation + Taxonomy + Consistency</div>
      </div>
    </div>

    <div class="section-title">&#x1F3C6; 8-Pillar Leaderboard</div>
    <div class="scroll-x">
    <table class="leaderboard">
      <tr>
        <th>#</th>
        <th>Agent</th>
        <th>Composite</th>
        <th>Grade</th>
        <th>Financial</th>
        <th>Reasoning</th>
        <th>Safety</th>
        <th>Validation</th>
        <th>Forensic</th>
        <th>Consistency</th>
        <th>Trend</th>
        <th>Trades</th>
      </tr>
      ${e.length===0?co`<tr><td colspan="12" style="text-align:center;color:#6b7280;padding:24px;">No benchmark data yet. Run trading rounds to populate.</td></tr>`:e.map((c,l)=>{let u=i(c.grade),d=s(c.qualityTrend),p=o(c.qualityTrend);return co`<tr>
              <td style="color:#6b7280;">${String(l+1)}</td>
              <td style="font-weight:600;">${c.agentId}</td>
              <td style="font-weight:700;color:#fff;">${(c.composite*100).toFixed(1)}%</td>
              <td><span class="grade" style="background:${u}22;color:${u};border:1px solid ${u}44;">${c.grade}</span></td>
              <td>${uw(c.financial)}</td>
              <td>${uw(c.reasoning)}</td>
              <td>${uw(c.safety)}</td>
              <td>${uw(c.validationQuality)}</td>
              <td>${uw(c.forensicQuality)}</td>
              <td>${uw(c.consistencyScore)}</td>
              <td><span class="trend-indicator" style="color:${d};">${p}</span></td>
              <td style="color:#9ca3af;">${String(c.tradeCount)}</td>
            </tr>`})}
    </table>
    </div>

    <div class="section-title">&#x1F9EC; Reasoning Taxonomy Profiles</div>
    <div class="grid-2">
      ${e.map(c=>{let l=Jle(c.agentId);return co`<div class="taxonomy-card">
          <div style="font-weight:700;font-size:15px;margin-bottom:8px;">${c.agentId}</div>
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;">
            <div><div class="taxonomy-label">Strategy</div><div class="taxonomy-value">${c.dominantStrategy.replace(/_/g," ")}</div></div>
            <div><div class="taxonomy-label">Sophistication</div><div class="taxonomy-value">${String(c.sophistication)}/5</div></div>
            <div><div class="taxonomy-label">Biases Detected</div><div class="taxonomy-value" style="color:${c.biasCount>2?"#f59e0b":"#4ade80"};">${String(c.biasCount)}</div></div>
            <div><div class="taxonomy-label">Fingerprint Diversity</div><div class="taxonomy-value">${l?(l.fingerprintDiversity*100).toFixed(0)+"%":"N/A"}</div></div>
          </div>
          ${l&&l.topThemes.length>0?co`
            <div style="margin-top:8px;">
              <div class="taxonomy-label">Top Themes</div>
              <div style="display:flex;gap:4px;flex-wrap:wrap;margin-top:4px;">
                ${l.topThemes.slice(0,5).map(u=>co`<span class="badge badge-blue">${u.theme} (${(u.frequency*100).toFixed(0)}%)</span>`)}
              </div>
            </div>
          `:co``}
        </div>`})}
    </div>

    <div class="section-title">&#x1F50D; Cross-Round Consistency</div>
    ${Zle().map(c=>{let l=Qle(c);return co`<div class="taxonomy-card">
        <div style="display:flex;justify-content:space-between;align-items:center;">
          <div style="font-weight:700;">${c}</div>
          <span class="grade" style="background:${i(l.grade)}22;color:${i(l.grade)};border:1px solid ${i(l.grade)}44;">${l.grade} (${(l.overallScore*100).toFixed(0)}%)</span>
        </div>
        <div style="display:grid;grid-template-columns:repeat(5,1fr);gap:8px;margin-top:8px;">
          <div><div class="taxonomy-label">Stance</div><div class="taxonomy-value">${(l.dimensions.stanceConsistency*100).toFixed(0)}%</div></div>
          <div><div class="taxonomy-label">Conviction</div><div class="taxonomy-value">${(l.dimensions.convictionStability*100).toFixed(0)}%</div></div>
          <div><div class="taxonomy-label">Narrative</div><div class="taxonomy-value">${(l.dimensions.narrativeCoherence*100).toFixed(0)}%</div></div>
          <div><div class="taxonomy-label">Strategy</div><div class="taxonomy-value">${(l.dimensions.strategyAlignment*100).toFixed(0)}%</div></div>
          <div><div class="taxonomy-label">Evolution</div><div class="taxonomy-value">${(l.dimensions.reasoningEvolution*100).toFixed(0)}%</div></div>
        </div>
        ${l.anomalies.length>0?co`
          <div style="margin-top:8px;">
            <div class="taxonomy-label">Recent Anomalies (${String(l.anomalies.length)})</div>
            ${l.anomalies.slice(0,3).map(u=>co`<div class="anomaly anomaly-${u.severity}" style="margin-top:4px;">
                <strong>${u.type.replace(/_/g," ").toUpperCase()}</strong>: ${u.description}
              </div>`)}
          </div>
        `:co`<div style="margin-top:8px;color:#22c55e;font-size:12px;">No anomalies detected</div>`}
      </div>`})}

    <div class="section-title">&#x1F4CA; Scoring Methodology</div>
    <div class="taxonomy-card">
      <div style="display:grid;grid-template-columns:repeat(auto-fit, minmax(160px, 1fr));gap:12px;">
        ${Eg("Financial","P&L, Sharpe, Win Rate, Drawdown","0.18")}
        ${Eg("Reasoning","Coherence, Depth, Consistency","0.18")}
        ${Eg("Safety","Hallucination-Free, Discipline","0.14")}
        ${Eg("Calibration","ECE, Brier, Monotonic","0.10")}
        ${Eg("Patterns","Fallacies, Vocab, Templates","0.08")}
        ${Eg("Adaptability","Cross-Regime, Variance","0.08")}
        ${Eg("Forensic","Structure, Originality, Clarity","0.12")}
        ${Eg("Validation","Depth, Sources, Grounding, Risk","0.12")}
      </div>
    </div>
  </div>

  <div class="footer">
    <p>MoltApp Benchmark v12  <a href="https://www.patgpt.us">www.patgpt.us</a>  <a href="https://huggingface.co/datasets/patruff/molt-benchmark">HuggingFace Dataset</a></p>
    <p style="margin-top:4px;">Colosseum Agent Hackathon 2026  AI agents trading REAL stocks on Solana</p>
    <p style="margin-top:8px;font-size:11px;">Data: /benchmark-v12/data | Stream: /benchmark-v12/stream | Export: /benchmark-v12/export</p>
  </div>

  <script>
    // Auto-refresh every 45 seconds
    setTimeout(() => location.reload(), 45000);
  </script>
</body>
</html>`;return t.html(a)});function uw(t){let e=Math.round(t*100),r=e>=80?"#22c55e":e>=60?"#3b82f6":e>=40?"#eab308":"#ef4444";return co`<span class="pillar-bar"><span class="pillar-fill" style="width:${String(e)}%;background:${r};"></span></span> <span style="font-size:11px;color:#9ca3af;">${String(e)}%</span>`}function Eg(t,e,r){return co`<div style="background:#0f172a;border-radius:6px;padding:10px;">
    <div style="font-weight:700;font-size:13px;color:#fff;">${t}</div>
    <div style="font-size:11px;color:#6b7280;margin-top:2px;">${e}</div>
    <div style="font-size:11px;color:#3b82f6;margin-top:4px;">Weight: ${r}</div>
  </div>`}var os=[];var n$=new Map,PHt=1500,_Xe=32,r$=new Map;function tb(t,e,r,n,i,o){let s=i?r:1-r,a=i?n:1-n,c=s-a,l=.02,u=null;Math.abs(c)>l&&(u=c>0?"A":"B");let d=o.replace("{scoreA}",r.toFixed(3)).replace("{scoreB}",n.toFixed(3)).replace("{diff}",Math.abs(c).toFixed(3));return{name:t,weight:e,winnerAgentId:u,scoreA:r,scoreB:n,explanation:d}}function kHt(t,e,r,n,i){let o=n,s=o===t.agentId?t.agentId:e.agentId,a=o===t.agentId?e.agentId:t.agentId;if(!o)return`Dead heat! ${t.agentId} and ${e.agentId} matched each other across all dimensions. Both traded ${t.symbol}/${e.symbol} with nearly identical reasoning quality.`;let c=r.filter(d=>d.winnerAgentId===(o===t.agentId?"A":"B")).map(d=>d.name),l=i<.1?"razor-thin":i<.25?"modest":i<.5?"convincing":"dominant",u=c.length>0?c.slice(0,3).join(", "):"overall composite";return`${s} defeats ${a} with a ${l} margin (${(i*100).toFixed(1)}%). Key advantages in ${u}. ${s} traded ${o===t.agentId?t.symbol:e.symbol} (${o===t.agentId?t.action:e.action}) vs ${o===t.agentId?e.symbol:t.symbol} (${o===t.agentId?e.action:t.action}).`}function DHt(t,e,r){let i=[tb("financial",.2,Math.max(0,(e.pnlPercent+100)/200),Math.max(0,(r.pnlPercent+100)/200),!0,"Financial: A={scoreA} vs B={scoreB} (diff={diff})"),tb("reasoning_coherence",.2,e.coherenceScore,r.coherenceScore,!0,"Coherence: A={scoreA} vs B={scoreB} (diff={diff})"),tb("reasoning_depth",.15,e.depthScore,r.depthScore,!0,"Depth: A={scoreA} vs B={scoreB} (diff={diff})"),tb("conviction_calibration",.15,e.confidence,r.confidence,!0,"Conviction: A={scoreA} vs B={scoreB} (diff={diff})"),tb("originality",.1,e.originalityScore,r.originalityScore,!0,"Originality: A={scoreA} vs B={scoreB} (diff={diff})"),tb("safety",.1,e.hallucinationCount===0?1:Math.max(0,1-e.hallucinationCount*.25),r.hallucinationCount===0?1:Math.max(0,1-r.hallucinationCount*.25),!0,"Safety: A={scoreA} vs B={scoreB} (diff={diff})"),tb("discipline",.1,e.disciplinePass?1:0,r.disciplinePass?1:0,!0,"Discipline: A={scoreA} vs B={scoreB} (diff={diff})")].map(m=>({...m,winnerAgentId:m.winnerAgentId==="A"?e.agentId:m.winnerAgentId==="B"?r.agentId:null})),o=i.reduce((m,h)=>m+h.scoreA*h.weight,0),s=i.reduce((m,h)=>m+h.scoreB*h.weight,0),a=Math.abs(o-s),c=a<.015?null:o>s?e.agentId:r.agentId,l=a<.05||a>.3,u=kHt(e,r,i,c,a),p={battleId:`battle_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,roundId:t,timestamp:new Date().toISOString(),agentA:e,agentB:r,dimensions:i,overallWinner:c,marginOfVictory:Math.round(a*1e3)/1e3,compositeScoreA:Math.round(o*1e3)/1e3,compositeScoreB:Math.round(s*1e3)/1e3,narrative:u,highlight:l};os.unshift(p),os.length>1e3&&(os.length=1e3),MHt(e.agentId,r.agentId,c);for(let m of i)if(m.winnerAgentId){let h=m.winnerAgentId===e.agentId?r.agentId:e.agentId;SXe(m.winnerAgentId,m.name,!0),SXe(h,m.name,!1)}return p}function wXe(t,e){let r=[];for(let n=0;n<e.length;n++)for(let i=n+1;i<e.length;i++){let o=DHt(t,e[n],e[i]);r.push(o)}return r}function eue(t){return n$.get(t)??PHt}function MHt(t,e,r){let n=eue(t),i=eue(e),o=1/(1+Math.pow(10,(i-n)/400)),s=1-o,a,c;r===null?(a=.5,c=.5):r===t?(a=1,c=0):(a=0,c=1),n$.set(t,Math.round(n+_Xe*(a-o))),n$.set(e,Math.round(i+_Xe*(c-s)))}function SXe(t,e,r){r$.has(t)||r$.set(t,new Map);let n=r$.get(t);n.has(e)||n.set(e,{wins:0,losses:0});let i=n.get(e);r?i.wins++:i.losses++}function tue(t){let e=os.filter(h=>h.agentA.agentId===t||h.agentB.agentId===t),r=0,n=0,i=0,o=0;for(let h of e)h.overallWinner===t?(r++,o+=h.marginOfVictory):h.overallWinner===null?i++:(n++,o-=h.marginOfVictory);let s=r+n+i,a=r$.get(t),c="none",l="none",u=-1,d=2;if(a)for(let[h,f]of a){let y=f.wins+f.losses;if(y>0){let v=f.wins/y;v>u&&(u=v,c=h),v<d&&(d=v,l=h)}}let p="none",m=0;for(let h of e){let f=h.overallWinner===t?"win":h.overallWinner===null?"tie":"loss";if(m===0)p=f,m=1;else if(f===p)m++;else break}return{agentId:t,wins:r,losses:n,ties:i,eloRating:eue(t),winRate:s>0?Math.round(r/s*1e3)/1e3:0,avgMargin:s>0?Math.round(o/s*1e3)/1e3:0,strongestDimension:c,weakestDimension:l,streakType:p,streakLength:m,recentBattles:e.slice(0,10)}}function JR(){let t=[...new Set(os.flatMap(s=>[s.agentA.agentId,s.agentB.agentId]))];t.sort();let e=t.length,r=Array.from({length:e},()=>new Array(e).fill(0)),n=Array.from({length:e},()=>new Array(e).fill(0)),i=Array.from({length:e},()=>new Array(e).fill(0)),o=Array.from({length:e},()=>new Array(e).fill(0));for(let s of os){let a=t.indexOf(s.agentA.agentId),c=t.indexOf(s.agentB.agentId);a===-1||c===-1||(i[a][c]++,i[c][a]++,s.overallWinner===s.agentA.agentId?(r[a][c]++,o[a][c]+=s.marginOfVictory):s.overallWinner===s.agentB.agentId&&(r[c][a]++,o[c][a]+=s.marginOfVictory))}for(let s=0;s<e;s++)for(let a=0;a<e;a++)i[s][a]>0&&(n[s][a]=Math.round(o[s][a]/i[s][a]*1e3)/1e3);return{agents:t,wins:r,avgMargins:n,matchups:i}}function rue(t=10){let e=[],r=[...os].filter(s=>s.overallWinner!==null).sort((s,a)=>s.marginOfVictory-a.marginOfVictory).slice(0,3);for(let s of r)e.push({battleId:s.battleId,reason:`Closest battle: ${(s.marginOfVictory*100).toFixed(1)}% margin`,battle:s});let n=[...os].filter(s=>s.overallWinner!==null).sort((s,a)=>a.marginOfVictory-s.marginOfVictory).slice(0,3);for(let s of n)e.push({battleId:s.battleId,reason:`Dominant performance: ${(s.marginOfVictory*100).toFixed(1)}% margin`,battle:s});for(let s of os.slice(0,50)){if(!s.overallWinner)continue;let a=s.dimensions.find(c=>c.name==="reasoning_coherence");if(a&&a.winnerAgentId&&a.winnerAgentId!==s.overallWinner){e.push({battleId:s.battleId,reason:"Better reasoner lost! Financial performance overcame reasoning quality.",battle:s});break}}let i=os.filter(s=>s.overallWinner===null).slice(0,2);for(let s of i)e.push({battleId:s.battleId,reason:"Dead heat \u2014 agents perfectly matched",battle:s});let o=new Set;return e.filter(s=>o.has(s.battleId)?!1:(o.add(s.battleId),!0)).slice(0,t)}function i$(){return[...n$.entries()].sort((e,r)=>r[1]-e[1]).map(([e,r],n)=>({agentId:e,eloRating:r,rank:n+1}))}function o$(t){let e=os;t?.agentId&&(e=e.filter(o=>o.agentA.agentId===t.agentId||o.agentB.agentId===t.agentId)),t?.highlightsOnly&&(e=e.filter(o=>o.highlight));let r=e.length,n=t?.offset??0,i=t?.limit??20;return{battles:e.slice(n,n+i),total:r}}function s$(){let t=os.length;if(t===0)return{totalBattles:0,totalRounds:0,avgMarginOfVictory:0,tieRate:0,mostDominantAgent:null,closestRivalry:null};let e=new Set(os.map(u=>u.roundId)),r=os.filter(u=>u.overallWinner===null).length,n=os.reduce((u,d)=>u+d.marginOfVictory,0)/t,i=new Map;for(let u of os)u.overallWinner&&i.set(u.overallWinner,(i.get(u.overallWinner)??0)+1);let o=null,s=0;for(let[u,d]of i)d>s&&(s=d,o=u);let a=JR(),c=null,l=1/0;for(let u=0;u<a.agents.length;u++)for(let d=u+1;d<a.agents.length;d++)if(a.matchups[u][d]>=3){let p=(a.avgMargins[u][d]*a.wins[u][d]+a.avgMargins[d][u]*a.wins[d][u])/a.matchups[u][d];p<l&&(l=p,c={agents:[a.agents[u],a.agents[d]],avgMargin:Math.round(p*1e3)/1e3})}return{totalBattles:t,totalRounds:e.size,avgMarginOfVictory:Math.round(n*1e3)/1e3,tieRate:Math.round(r/t*1e3)/1e3,mostDominantAgent:o,closestRivalry:c}}var $Ht=[["valuation",/\b(P\/E|valuation|undervalued|overvalued|fair\s+value|intrinsic|multiple|earnings\s+yield)\b/i],["technical",/\b(RSI|MACD|moving\s+average|support|resistance|breakout|trend|momentum|chart)\b/i],["fundamental",/\b(revenue|earnings|growth|margin|cash\s+flow|balance\s+sheet|dividend|profit|EPS)\b/i],["macro",/\b(interest\s+rate|inflation|GDP|Fed|monetary\s+policy|recession|employment|economic)\b/i],["sentiment",/\b(sentiment|fear|greed|bullish|bearish|mood|psychology|panic|euphoria)\b/i],["sector",/\b(sector|industry|peer|competitor|relative|compared\s+to|sector\s+rotation)\b/i],["risk",/\b(risk|downside|stop.?loss|drawdown|volatility|exposure|hedge|protect)\b/i],["catalyst",/\b(catalyst|event|earnings\s+report|FDA|launch|acquisition|announcement|conference)\b/i],["portfolio",/\b(portfolio|allocation|position\s+size|diversif|concentration|rebalance|weight)\b/i],["market_structure",/\b(volume|liquidity|spread|order\s+flow|market\s+maker|depth|bid.?ask)\b/i]],LHt=[["price_citation",/\$\d+\.?\d*/],["percentage_citation",/[+-]?\d+\.?\d*%/],["time_reference",/\b(today|yesterday|this\s+week|24h|past\s+month|recent|currently)\b/i],["data_source",/\b(Jupiter|market\s+data|price\s+feed|chart|volume\s+data|news)\b/i],["comparison",/\b(compared\s+to|relative\s+to|versus|vs\.|higher\s+than|lower\s+than)\b/i],["specific_value",/\b\d+\.\d{2,}\b/]],BHt=[/\b(because|since|due\s+to|therefore|consequently|thus|as\s+a\s+result|this\s+means|implies|suggests|indicates)\b/i,/\b(if\s+.+\s+then|given\s+that|considering\s+that|in\s+light\s+of)\b/i,/\b(leads\s+to|drives|causes|creates|results\s+in|contributes\s+to)\b/i],UHt=[/\b(risk|downside|danger|concern|worry|threat|warning|caution|careful|caveat)\b/i,/\b(could\s+fall|might\s+decline|potential\s+loss|worst\s+case|stop.?loss)\b/i,/\b(volatility|uncertainty|unpredictable|risky|vulnerable|exposed)\b/i],FHt=[/\b(uncertain|unclear|unknown|debatable|questionable)\b/i,/\b(might|may|could|possibly|perhaps|potentially)\b/i,/\b(limited\s+data|insufficient\s+information|hard\s+to\s+predict)\b/i],zHt=[/\b(maybe|perhaps|possibly|somewhat|slightly|arguably|relatively)\b/i,/\b(tend\s+to|seem\s+to|appear\s+to|likely|unlikely|probably)\b/i],VHt=[/\b(buy\s+at|sell\s+at|target\s+price|entry\s+point|exit\s+at)\b/i,/\b(position\s+size|allocat|invest\s+\$|spend\s+\$|limit\s+order)\b/i,/\b(I\s+recommend|I\s+suggest|my\s+target|I\s+expect|I\s+predict)\b/i],jHt=[/\$[\d,.]+/,/\d+\.?\d*%/,/\d+\s+(shares?|units?|tokens?)/i,/\b\d{2,}x?\b/];function xXe(t,e){let r=e.split(/\s+/),n=e.split(/[.!?]+/).filter(y=>y.trim().length>0),i=[];for(let[y,v]of $Ht)v.test(e)&&i.push(y);let o=[];for(let[y,v]of LHt)v.test(e)&&o.push(y);let s=0;for(let y of BHt){let v=e.match(new RegExp(y.source,"gi"));s+=v?.length??0}let a=0;for(let y of UHt){let v=e.match(new RegExp(y.source,"gi"));a+=v?.length??0}let c=0;for(let y of FHt){let v=e.match(new RegExp(y.source,"gi"));c+=v?.length??0}let l=0;for(let y of zHt){let v=e.match(new RegExp(y.source,"gi"));l+=v?.length??0}let u=0;for(let y of VHt){let v=e.match(new RegExp(y.source,"gi"));u+=v?.length??0}let d=0;for(let y of jHt){let v=e.match(new RegExp(y.source,"g"));d+=v?.length??0}let p=new Set;for(let y=0;y<r.length-1;y++){let v=`${r[y].toLowerCase()} ${r[y+1].toLowerCase()}`;p.add(v)}let m=p.size,h=1,f=i.length*1.5+s*1+d*.5+a*.5+u*1;return f>=20?h=5:f>=14?h=4:f>=8?h=3:f>=4&&(h=2),{agentId:t,wordCount:r.length,sentenceCount:n.length,analyticalAngles:i,evidenceCitations:o,causalClaims:s,riskMentions:a,uncertaintyAcknowledgements:c,quantitativeClaims:d,hedgeWords:l,actionableStatements:u,uniquePhrases:m,sophisticationLevel:h}}function rb(t,e,r,n,i){let o=Math.min(1,Math.max(0,r)),s=Math.min(1,Math.max(0,n)),a=o-s;return{name:t,weight:e,agentAScore:Math.round(o*1e3)/1e3,agentBScore:Math.round(s*1e3)/1e3,winner:Math.abs(a)<=.03?null:a>0?"A":"B",explanation:i(o,s)}}function qHt(t,e,r,n){let i=xXe(t,e),o=xXe(r,n),s=Math.min(1,i.analyticalAngles.length/6),a=Math.min(1,o.analyticalAngles.length/6),c=Math.min(1,i.evidenceCitations.length*.2+i.quantitativeClaims*.1),l=Math.min(1,o.evidenceCitations.length*.2+o.quantitativeClaims*.1),u=Math.min(1,i.causalClaims/5),d=Math.min(1,o.causalClaims/5),p=Math.min(1,i.riskMentions/3),m=Math.min(1,o.riskMentions/3),h=Math.min(1,i.uncertaintyAcknowledgements/3),f=Math.min(1,o.uncertaintyAcknowledgements/3),y=Math.min(1,i.actionableStatements/3),v=Math.min(1,o.actionableStatements/3),_=new Set(e.toLowerCase().split(/\s+/).map((q,K,z)=>K<z.length-1?`${q} ${z[K+1]}`:"").filter(Boolean)),x=new Set(n.toLowerCase().split(/\s+/).map((q,K,z)=>K<z.length-1?`${q} ${z[K+1]}`:"").filter(Boolean)),E=new Set([..._].filter(q=>x.has(q))),I=new Set([..._,...x]),N=I.size>0?E.size/I.size:0,L=1-N,B=1-N,V=[rb("analytical_breadth",.2,s,a,(q,K)=>`A covers ${i.analyticalAngles.length} angles vs B's ${o.analyticalAngles.length}`),rb("evidence_quality",.2,c,l,(q,K)=>`A cites ${i.evidenceCitations.length} evidence types, B cites ${o.evidenceCitations.length}`),rb("causal_reasoning",.15,u,d,(q,K)=>`A has ${i.causalClaims} causal claims vs B's ${o.causalClaims}`),rb("risk_awareness",.15,p,m,(q,K)=>`A mentions risk ${i.riskMentions} times vs B's ${o.riskMentions}`),rb("intellectual_honesty",.1,h,f,(q,K)=>`A acknowledges uncertainty ${i.uncertaintyAcknowledgements} times vs B's ${o.uncertaintyAcknowledgements}`),rb("actionability",.1,y,v,(q,K)=>`A has ${i.actionableStatements} actionable statements vs B's ${o.actionableStatements}`),rb("uniqueness",.1,L,B,()=>`Reasoning overlap: ${(N*100).toFixed(1)}% Jaccard similarity`)].map(q=>({...q,winner:q.winner==="A"?t:q.winner==="B"?r:null})),j=V.reduce((q,K)=>q+K.agentAScore*K.weight,0),ee=V.reduce((q,K)=>q+K.agentBScore*K.weight,0),O=j-ee,b=Math.abs(O)<.02?null:O>0?t:r,S=b??"Neither agent",R=V.filter(q=>q.winner===t).length,k=V.filter(q=>q.winner===r).length,F=b?`${S} wins the reasoning comparison (${Math.round(Math.max(j,ee)*100)}% vs ${Math.round(Math.min(j,ee)*100)}%). Won ${b===t?R:k} of 7 dimensions. Sophistication: ${i.agentId}=${i.sophisticationLevel}/5, ${o.agentId}=${o.sophisticationLevel}/5.`:`Dead heat in reasoning quality (${Math.round(j*100)}% vs ${Math.round(ee*100)}%). Both agents at similar analytical depth.`;return{agentAId:t,agentBId:r,agentAScore:Math.round(j*1e3)/1e3,agentBScore:Math.round(ee*1e3)/1e3,winner:b,dimensions:V,detailedAnalysis:{agentA:i,agentB:o},summary:F}}function AXe(t){let e=[];for(let r=0;r<t.length;r++)for(let n=r+1;n<t.length;n++)e.push(qHt(t[r].agentId,t[r].reasoning,t[n].agentId,t[n].reasoning));return e}var a$=new sn,zm=[],EXe=200;function nue(t,e,r){zm.unshift({type:t,data:e,agentId:r,timestamp:new Date().toISOString()}),zm.length>EXe&&(zm.length=EXe)}a$.get("/data",t=>{let e=i$(),r=JR(),n=rue(5),i=s$(),{battles:o}=o$({limit:10}),s=e.map(a=>{let c=tue(a.agentId);return{agentId:a.agentId,eloRating:a.eloRating,rank:a.rank,wins:c.wins,losses:c.losses,ties:c.ties,winRate:c.winRate,avgMargin:c.avgMargin,strongestDimension:c.strongestDimension,weakestDimension:c.weakestDimension,streak:`${c.streakType} ${c.streakLength}`}});return t.json({ok:!0,benchmarkVersion:"v13",timestamp:new Date().toISOString(),stats:i,leaderboard:s,matrix:r,highlights:n.map(a=>({battleId:a.battleId,reason:a.reason,winner:a.battle.overallWinner,margin:a.battle.marginOfVictory,narrative:a.battle.narrative,agents:[a.battle.agentA.agentId,a.battle.agentB.agentId]})),recentBattles:o.map(a=>({battleId:a.battleId,roundId:a.roundId,timestamp:a.timestamp,agentA:a.agentA.agentId,agentB:a.agentB.agentId,winner:a.overallWinner,margin:a.marginOfVictory,narrative:a.narrative,highlight:a.highlight})),recentEvents:zm.slice(0,20)})});a$.get("/stream",t=>{let e=0,r=new ReadableStream({start(n){let i=new TextEncoder;for(let a of zm.slice(0,10).reverse()){let c=JSON.stringify(a);n.enqueue(i.encode(`data: ${c}

`))}e=zm.length;let o=setInterval(()=>{let a=zm.slice(0,Math.max(0,zm.length-e));for(let c of a.reverse()){let l=JSON.stringify(c);n.enqueue(i.encode(`data: ${l}

`))}e=zm.length,n.enqueue(i.encode(`: heartbeat ${new Date().toISOString()}

`))},3e3);setTimeout(()=>{clearInterval(o);try{n.close()}catch{}},300*1e3)}});return new Response(r,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});a$.get("/export",t=>{let e=s$(),r=i$(),n=JR(),{battles:i}=o$({limit:500});return t.json({ok:!0,benchmarkVersion:"v13",exportedAt:new Date().toISOString(),stats:e,leaderboard:r,matrix:n,battleCount:i.length,battles:i.map(o=>({battleId:o.battleId,roundId:o.roundId,timestamp:o.timestamp,agentA:o.agentA.agentId,agentB:o.agentB.agentId,winner:o.overallWinner,margin:o.marginOfVictory,compositeA:o.compositeScoreA,compositeB:o.compositeScoreB,dimensions:o.dimensions.map(s=>({name:s.name,winner:s.winnerAgentId,scoreA:s.scoreA,scoreB:s.scoreB}))}))})});a$.get("/",t=>{let e=i$(),r=JR(),n=rue(5),i=s$(),{battles:o}=o$({limit:8}),s=e.map(u=>{let d=tue(u.agentId);return{...u,...d}}),a={"claude-value-investor":"Claude ValueBot","gpt-momentum-trader":"GPT MomentumBot","grok-contrarian":"Grok ContrarianBot"},c={"claude-value-investor":"#d97706","gpt-momentum-trader":"#16a34a","grok-contrarian":"#dc2626"},l=`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MoltApp Benchmark v13 \u2014 Agent Battle Arena</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif; background: #0a0a0a; color: #e5e5e5; min-height: 100vh; }
    .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
    .header { text-align: center; padding: 30px 0 20px; border-bottom: 2px solid #dc2626; margin-bottom: 30px; }
    .header h1 { font-size: 2.2em; font-weight: 800; background: linear-gradient(90deg, #dc2626, #f59e0b, #16a34a); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    .header .subtitle { color: #999; margin-top: 8px; font-size: 1.1em; }
    .badges { display: flex; gap: 10px; justify-content: center; margin-top: 15px; flex-wrap: wrap; }
    .badge { display: inline-block; padding: 4px 12px; border-radius: 20px; font-size: 0.8em; font-weight: 600; }
    .badge-red { background: rgba(220,38,38,0.2); border: 1px solid #dc2626; color: #f87171; }
    .badge-green { background: rgba(22,163,74,0.2); border: 1px solid #16a34a; color: #4ade80; }
    .badge-blue { background: rgba(59,130,246,0.2); border: 1px solid #3b82f6; color: #93c5fd; }
    .badge-yellow { background: rgba(245,158,11,0.2); border: 1px solid #f59e0b; color: #fbbf24; }
    .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 30px; }
    .grid-full { grid-column: 1 / -1; }
    .card { background: #141414; border: 1px solid #262626; border-radius: 12px; padding: 24px; }
    .card h2 { font-size: 1.2em; color: #f59e0b; margin-bottom: 16px; display: flex; align-items: center; gap: 8px; }
    .card h2 .icon { font-size: 1.3em; }
    .stats-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-bottom: 30px; }
    .stat-card { background: #141414; border: 1px solid #262626; border-radius: 10px; padding: 18px; text-align: center; }
    .stat-value { font-size: 1.8em; font-weight: 800; color: #f59e0b; }
    .stat-label { font-size: 0.85em; color: #999; margin-top: 4px; }
    table { width: 100%; border-collapse: collapse; }
    th { text-align: left; padding: 10px 12px; color: #999; font-size: 0.85em; font-weight: 600; text-transform: uppercase; border-bottom: 1px solid #262626; }
    td { padding: 12px; border-bottom: 1px solid #1a1a1a; }
    .rank { font-size: 1.4em; font-weight: 800; width: 40px; }
    .rank-1 { color: #f59e0b; }
    .rank-2 { color: #94a3b8; }
    .rank-3 { color: #b45309; }
    .elo { font-size: 1.3em; font-weight: 700; color: #e5e5e5; }
    .win-loss { font-size: 0.9em; }
    .win { color: #4ade80; }
    .loss { color: #f87171; }
    .tie { color: #94a3b8; }
    .agent-name { font-weight: 600; font-size: 1.05em; }
    .dimension-tag { display: inline-block; padding: 2px 8px; border-radius: 4px; font-size: 0.75em; font-weight: 600; background: rgba(59,130,246,0.15); color: #93c5fd; margin: 2px; }
    .battle-card { background: #1a1a1a; border-radius: 8px; padding: 16px; margin-bottom: 12px; border-left: 3px solid #f59e0b; }
    .battle-card .narrative { color: #ccc; font-style: italic; margin-top: 8px; line-height: 1.4; }
    .battle-card .meta { display: flex; gap: 16px; color: #999; font-size: 0.85em; margin-top: 6px; }
    .highlight-badge { display: inline-block; padding: 2px 8px; border-radius: 4px; font-size: 0.75em; background: rgba(220,38,38,0.2); color: #f87171; font-weight: 600; }
    .matrix-table th, .matrix-table td { text-align: center; padding: 8px 12px; font-size: 0.9em; }
    .matrix-cell { font-weight: 700; }
    .matrix-win { color: #4ade80; }
    .matrix-loss { color: #f87171; }
    .matrix-self { color: #444; }
    .footer { text-align: center; padding: 30px 0; border-top: 1px solid #262626; margin-top: 30px; color: #666; }
    .footer a { color: #f59e0b; text-decoration: none; }
    @media (max-width: 768px) { .grid { grid-template-columns: 1fr; } .stats-grid { grid-template-columns: repeat(2, 1fr); } }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>MoltApp Benchmark v13 \u2014 Battle Arena</h1>
      <div class="subtitle">Head-to-Head Agent Reasoning Battles | Real Stocks on Solana</div>
      <div class="badges">
        <span class="badge badge-red">LIVE BATTLES</span>
        <span class="badge badge-green">Elo Rankings</span>
        <span class="badge badge-blue">7-Dimension Scoring</span>
        <span class="badge badge-yellow">Reasoning Quality</span>
        <a href="https://huggingface.co/datasets/patruff/molt-benchmark" class="badge badge-yellow" style="text-decoration:none">HuggingFace Dataset</a>
      </div>
    </div>

    <!-- Stats -->
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-value">${i.totalBattles}</div>
        <div class="stat-label">Total Battles</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">${i.totalRounds}</div>
        <div class="stat-label">Trading Rounds</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">${(i.avgMarginOfVictory*100).toFixed(1)}%</div>
        <div class="stat-label">Avg Margin</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">${(i.tieRate*100).toFixed(0)}%</div>
        <div class="stat-label">Tie Rate</div>
      </div>
    </div>

    <div class="grid">
      <!-- Elo Leaderboard -->
      <div class="card grid-full">
        <h2><span class="icon">\u{1F3C6}</span> Elo Battle Rankings</h2>
        <table>
          <tr>
            <th>Rank</th>
            <th>Agent</th>
            <th>Elo Rating</th>
            <th>Record (W-L-T)</th>
            <th>Win Rate</th>
            <th>Avg Margin</th>
            <th>Strongest</th>
            <th>Weakest</th>
            <th>Streak</th>
          </tr>
          ${s.map((u,d)=>`
          <tr>
            <td class="rank rank-${d+1}">#${u.rank}</td>
            <td class="agent-name" style="color: ${c[u.agentId]??"#e5e5e5"}">${a[u.agentId]??u.agentId}</td>
            <td class="elo">${u.eloRating}</td>
            <td class="win-loss">
              <span class="win">${u.wins}W</span> -
              <span class="loss">${u.losses}L</span> -
              <span class="tie">${u.ties}T</span>
            </td>
            <td>${(u.winRate*100).toFixed(0)}%</td>
            <td>${u.avgMargin>0?"+":""}${(u.avgMargin*100).toFixed(1)}%</td>
            <td><span class="dimension-tag">${u.strongestDimension}</span></td>
            <td><span class="dimension-tag">${u.weakestDimension}</span></td>
            <td>${u.streakType==="win"?"\u{1F525}":u.streakType==="loss"?"\u2744\uFE0F":"\u2796"} ${u.streakLength}</td>
          </tr>`).join("")}
        </table>
        ${s.length===0?"<p style='color:#666;text-align:center;padding:30px'>No battles yet. Trigger a trading round to start the competition.</p>":""}
      </div>

      <!-- Head-to-Head Matrix -->
      <div class="card">
        <h2><span class="icon">\u2694\uFE0F</span> Head-to-Head Matrix</h2>
        ${r.agents.length>0?`
        <table class="matrix-table">
          <tr>
            <th></th>
            ${r.agents.map(u=>`<th style="color:${c[u]??"#ccc"}">${(a[u]??u).split(" ")[0]}</th>`).join("")}
          </tr>
          ${r.agents.map((u,d)=>`
          <tr>
            <td style="color:${c[u]??"#ccc"};font-weight:600">${(a[u]??u).split(" ")[0]}</td>
            ${r.agents.map((p,m)=>{if(d===m)return'<td class="matrix-cell matrix-self">\u2014</td>';let h=r.wins[d][m],f=r.wins[m][d];return`<td class="matrix-cell ${h>f?"matrix-win":h<f?"matrix-loss":""}">${h}-${f}</td>`}).join("")}
          </tr>`).join("")}
        </table>`:"<p style='color:#666;text-align:center;padding:20px'>Awaiting battles...</p>"}
      </div>

      <!-- Battle Highlights -->
      <div class="card">
        <h2><span class="icon">\u{1F31F}</span> Battle Highlights</h2>
        ${n.length>0?n.map(u=>`
        <div class="battle-card">
          <div>
            <span class="highlight-badge">${u.reason}</span>
          </div>
          <div class="narrative">${u.battle.narrative}</div>
          <div class="meta">
            <span>Margin: ${(u.battle.marginOfVictory*100).toFixed(1)}%</span>
            <span>${new Date(u.battle.timestamp).toLocaleString()}</span>
          </div>
        </div>`).join(""):"<p style='color:#666;text-align:center;padding:20px'>No highlights yet.</p>"}
      </div>

      <!-- Recent Battles -->
      <div class="card grid-full">
        <h2><span class="icon">\u26A1</span> Recent Battles</h2>
        ${o.length>0?o.map(u=>{let d=u.overallWinner?c[u.overallWinner]??"#f59e0b":"#94a3b8";return`
          <div class="battle-card" style="border-left-color: ${d}">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div>
                <span style="color:${c[u.agentA.agentId]??"#ccc"};font-weight:600">${a[u.agentA.agentId]??u.agentA.agentId}</span>
                <span style="color:#666"> vs </span>
                <span style="color:${c[u.agentB.agentId]??"#ccc"};font-weight:600">${a[u.agentB.agentId]??u.agentB.agentId}</span>
              </div>
              <div>
                ${u.overallWinner?`<span style="color:${d};font-weight:700">${(a[u.overallWinner]??u.overallWinner).split(" ")[0]} wins</span> <span style="color:#666">(${(u.marginOfVictory*100).toFixed(1)}%)</span>`:'<span class="tie">TIE</span>'}
                ${u.highlight?' <span class="highlight-badge">HIGHLIGHT</span>':""}
              </div>
            </div>
            <div class="narrative">${u.narrative}</div>
            <div class="meta">
              ${u.dimensions.map(p=>`<span>${p.name}: ${p.winnerAgentId?(a[p.winnerAgentId]??p.winnerAgentId).split(" ")[0]:"tie"}</span>`).join(" | ")}
            </div>
          </div>`}).join(""):"<p style='color:#666;text-align:center;padding:30px'>No battles yet. Start a trading round to see agent-vs-agent results.</p>"}
      </div>

      <!-- Scoring Methodology -->
      <div class="card grid-full">
        <h2><span class="icon">\u{1F4CA}</span> Battle Scoring Methodology</h2>
        <table>
          <tr><th>Dimension</th><th>Weight</th><th>Description</th></tr>
          <tr><td>Financial</td><td>20%</td><td>P&L comparison \u2014 who made more money?</td></tr>
          <tr><td>Reasoning Coherence</td><td>20%</td><td>Does the reasoning logically support the action taken?</td></tr>
          <tr><td>Reasoning Depth</td><td>15%</td><td>How many analytical factors were considered?</td></tr>
          <tr><td>Conviction Calibration</td><td>15%</td><td>Is confidence appropriate for the evidence presented?</td></tr>
          <tr><td>Originality</td><td>10%</td><td>Is reasoning novel or templated?</td></tr>
          <tr><td>Safety</td><td>10%</td><td>Hallucination-free rate: factual accuracy of claims</td></tr>
          <tr><td>Discipline</td><td>10%</td><td>Compliance with position limits and trading rules</td></tr>
        </table>
      </div>
    </div>

    <div class="footer">
      <a href="https://www.patgpt.us">www.patgpt.us</a> |
      <a href="/benchmark-v12">v12 Dashboard</a> |
      <a href="/api/v1/benchmark-v13/schema">API Schema</a> |
      <a href="/api/v1/benchmark-v13/export/jsonl">Export JSONL</a> |
      <a href="https://huggingface.co/datasets/patruff/molt-benchmark">HuggingFace</a>
      <br><br>
      <span style="color:#444">MoltApp Benchmark v13 \u2014 Battle Arena | Colosseum Agent Hackathon</span>
    </div>
  </div>

  <script>
    // Auto-refresh every 45 seconds
    setTimeout(() => location.reload(), 45000);
  </script>
</body>
</html>`;return t.html(l)});var Vm=[],ec=[];function RXe(t){let e=`pred_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,r=HHt(t.predictedOutcome,t.action),n=WHt(t.predictedOutcome),i=GHt(t.predictedOutcome),o={id:e,agentId:t.agentId,symbol:t.symbol,action:t.action,confidence:t.confidence,predictedOutcome:t.predictedOutcome,priceAtPrediction:t.priceAtPrediction,roundId:t.roundId,timestamp:new Date().toISOString(),impliedDirection:r,targetPrice:n,timeHorizonHours:i??24};return Vm.push(o),Vm.length>500&&Vm.splice(0,Vm.length-500),o}function TXe(t){let e=Date.now(),r=[];for(let n=Vm.length-1;n>=0;n--){let i=Vm[n],o=t.get(i.symbol.toLowerCase())??t.get(i.symbol);if(o===void 0)continue;let s=(e-new Date(i.timestamp).getTime())/(1e3*60*60),a=(o-i.priceAtPrediction)/i.priceAtPrediction*100,c=Math.abs(a),l=s>=(i.timeHorizonHours??24),u=c>=2;if(!l&&!u)continue;let d=a>.5?"up":a<-.5?"down":"flat",p=i.impliedDirection===d,m=null;if(i.targetPrice!==null){let y=(i.targetPrice-i.priceAtPrediction)/i.priceAtPrediction*100,v=Math.abs(a-y);m=Math.max(0,1-v/10)}let h=KHt(p,m,i.confidence,c),f={...i,priceAtResolution:o,actualChangePct:Math.round(a*100)/100,directionCorrect:p,targetAccuracy:m!==null?Math.round(m*100)/100:null,resolutionTimeHours:Math.round(s*10)/10,predictionScore:Math.round(h*1e3)/1e3,resolutionMethod:u?"price_movement":"time_expiry"};r.push(f),ec.push(f),Vm.splice(n,1)}return ec.length>2e3&&ec.splice(0,ec.length-2e3),r}function iue(){let t=new Set([...Vm.map(n=>n.agentId),...ec.map(n=>n.agentId)]),e={};for(let n of t){let i=ec.filter(s=>s.agentId===n),o=i.filter(s=>s.directionCorrect).length;e[n]={resolved:i.length,accuracy:i.length>0?Math.round(o/i.length*1e3)/1e3:0,avgScore:i.length>0?Math.round(i.reduce((s,a)=>s+a.predictionScore,0)/i.length*1e3)/1e3:0}}let r=ec.filter(n=>n.directionCorrect).length;return{totalPending:Vm.length,totalResolved:ec.length,overallAccuracy:ec.length>0?Math.round(r/ec.length*1e3)/1e3:0,avgPredictionScore:ec.length>0?Math.round(ec.reduce((n,i)=>n+i.predictionScore,0)/ec.length*1e3)/1e3:0,byAgent:e}}function HHt(t,e){let r=t.toLowerCase();return/upside|rise|rally|climb|increase|higher|bull|gain|grow|appreciate|target\s+\$?\d+.*above/i.test(r)?"up":/downside|fall|decline|drop|decrease|lower|bear|loss|depreci|correction|crash/i.test(r)?"down":/flat|sideways|range-bound|consolidat|stable|unchanged/i.test(r)?"flat":e==="buy"?"up":e==="sell"?"down":"flat"}function WHt(t){let e=t.match(/(?:target|pt|price\s+target)\s*:?\s*\$?([\d,]+\.?\d*)/i);if(e){let r=parseFloat(e[1].replace(/,/g,""));if(r>0&&r<1e5)return r}return null}function GHt(t){let e=t.toLowerCase(),r=e.match(/(\d+)\s*(?:h|hours?)/);if(r)return parseInt(r[1]);let n=e.match(/(\d+)\s*(?:d|days?)/);if(n)return parseInt(n[1])*24;let i=e.match(/(\d+)\s*(?:w|weeks?)/);return i?parseInt(i[1])*168:/next\s+trading\s+session|tomorrow/i.test(e)?24:/this\s+week|next\s+few\s+days/i.test(e)?72:/short.term/i.test(e)?48:null}function KHt(t,e,r,n){let i=t?.6:0;return e!==null&&(i+=e*.2),t?i+=r*.1:i-=r*.15,t&&n>3&&(i+=Math.min(.1,n*.01)),Math.max(0,Math.min(1,i))}var dw=[];function IXe(t){dw.push(t),dw.length>5e3&&dw.splice(0,dw.length-5e3)}function CXe(t,e,r){return t*.5+(e===0?1:Math.max(0,1-e*.25))*.3+(r?1:0)*.2>=.6?1:0}function oue(t){let e=dw.filter(x=>x.agentId===t),r=e.length;if(r===0)return ZHt(t);let n=10,i=[];for(let x=0;x<n;x++){let E=x/n,I=(x+1)/n,N=e.filter(P=>P.confidence>=E&&P.confidence<(x===n-1?1.01:I));if(N.length===0){i.push({binCenter:(E+I)/2,avgConfidence:(E+I)/2,avgOutcome:0,count:0,gap:0});continue}let L=N.reduce((P,V)=>P+V.confidence,0)/N.length,B=N.reduce((P,V)=>P+V.outcome,0)/N.length;i.push({binCenter:Math.round((E+I)/2*100)/100,avgConfidence:Math.round(L*1e3)/1e3,avgOutcome:Math.round(B*1e3)/1e3,count:N.length,gap:Math.round((L-B)*1e3)/1e3})}let o=i.filter(x=>x.count>0),s=o.reduce((x,E)=>x+E.count/r*Math.abs(E.avgOutcome-E.avgConfidence),0),a=o.reduce((x,E)=>Math.max(x,Math.abs(E.avgOutcome-E.avgConfidence)),0),c=e.reduce((x,E)=>x+Math.pow(E.confidence-E.outcome,2),0)/r,l=YHt(o),u=0,d=0;for(let x of o)x.avgConfidence>x.avgOutcome+.05?u+=x.count:x.avgOutcome>x.avgConfidence+.05&&(d+=x.count);let p=r>0?u/r:0,m=r>0?d/r:0,h=e.reduce((x,E)=>x+E.confidence,0)/r,f=e.reduce((x,E)=>x+E.outcome,0)/r,y=h>0?Math.round(f/h*100)/100:1,v=JHt(s,c,l),_=QHt(s,p,m,l);return{agentId:t,totalDataPoints:r,ece:Math.round(s*1e3)/1e3,mce:Math.round(a*1e3)/1e3,brierScore:Math.round(c*1e3)/1e3,monotonicCalibration:l,overconfidenceRatio:Math.round(p*1e3)/1e3,underconfidenceRatio:Math.round(m*1e3)/1e3,reliabilityDiagram:i,grade:v,assessment:_,suggestedCalibrationFactor:y}}function OXe(){let e=[...new Set(dw.map(i=>i.agentId))].map(i=>oue(i)),r=e.filter(i=>i.totalDataPoints>=5).sort((i,o)=>i.ece-o.ece),n=r.map((i,o)=>({agentId:i.agentId,ece:i.ece,rank:o+1}));return{agents:e,bestCalibrated:r.length>0?r[0].agentId:null,worstCalibrated:r.length>0?r[r.length-1].agentId:null,rankings:n}}function YHt(t){if(t.length<2)return!0;let e=t[0].avgOutcome;for(let r=1;r<t.length;r++){if(t[r].avgOutcome<e-.1)return!1;e=t[r].avgOutcome}return!0}function JHt(t,e,r){let n=1-t*.6-e*.3-(r?0:.1);return n>=.95?"A+":n>=.9?"A":n>=.85?"A-":n>=.8?"B+":n>=.75?"B":n>=.7?"B-":n>=.65?"C+":n>=.6?"C":n>=.5?"D":"F"}function QHt(t,e,r,n){let i=[];return t<.05?i.push("Excellent calibration \u2014 confidence closely matches actual accuracy."):t<.1?i.push("Good calibration \u2014 minor gaps between confidence and accuracy."):t<.2?i.push("Moderate calibration \u2014 noticeable gap between stated and actual confidence."):i.push("Poor calibration \u2014 confidence does not predict accuracy well."),e>.6?i.push("Frequently overconfident \u2014 accuracy is lower than stated confidence suggests."):r>.4&&i.push("Somewhat underconfident \u2014 performs better than its confidence suggests."),n||i.push("Non-monotonic: higher confidence does not consistently predict better outcomes."),i.join(" ")}function ZHt(t){return{agentId:t,totalDataPoints:0,ece:0,mce:0,brierScore:0,monotonicCalibration:!0,overconfidenceRatio:0,underconfidenceRatio:0,reliabilityDiagram:[],grade:"N/A",assessment:"No calibration data available yet.",suggestedCalibrationFactor:1}}var c$=new Map,NXe=200;function PXe(t){let e=c$.get(t.agentId)??[];e.push(t),e.length>NXe&&e.splice(0,e.length-NXe),c$.set(t.agentId,e)}function kXe(t){let e=["bullish","upside","growth","opportunity","undervalued","momentum","rally","breakout","accumulate","favorable","optimistic","recovery","strong","increase","gain"],r=["bearish","downside","risk","overvalued","declining","correction","breakdown","distribute","unfavorable","pessimistic","weakness","decrease","loss","caution"],n=t.toLowerCase(),i=0,o=0;for(let a of e)n.includes(a)&&i++;for(let a of r)n.includes(a)&&o++;let s=i+o;return s===0?0:(i-o)/s}function DXe(t){let e=[],r=t.match(/"([^"]+)"/g);r&&e.push(...r.map(i=>i.replace(/"/g,"")));let n=t.match(/\b(support|resistance|moving average|RSI|MACD|P\/E|earnings|revenue|volume|trend|momentum|mean reversion|value play|hedge|contrarian)\b/gi);return n&&e.push(...n.map(i=>i.toLowerCase())),[...new Set(e)].slice(0,10)}function aue(t){let e=c$.get(t)??[];if(e.length<2)return nWt(t,e.length);let r=e.length,n=e.map(I=>I.sentimentScore),i=nb(n),o=e.map(I=>I.confidence),s=nb(o),a=0;for(let I=1;I<r;I++)e[I].intent!==e[I-1].intent&&a++;let c=r-1>0?a/(r-1):0,l=new Map;for(let I of e){let N=l.get(I.symbol)??[];N.push(I.action),l.set(I.symbol,N)}let u=0,d=0;for(let I of l.values())for(let N=1;N<I.length;N++)d++,(I[N]==="buy"&&I[N-1]==="sell"||I[N]==="sell"&&I[N-1]==="buy")&&u++;let p=d>0?u/d:0,m=e.map(I=>I.wordCount),h=sue(m),f=h>0?nb(m)/h:0,y=XHt(i,s,c,p,f),v=eWt(e),_={};for(let[I,N]of l){let L=e.filter(ee=>ee.symbol===I),B=L.map(ee=>ee.sentimentScore),P=Math.max(...B),V=Math.min(...B),j=0;for(let ee=1;ee<N.length;ee++)(N[ee]==="buy"&&N[ee-1]==="sell"||N[ee]==="sell"&&N[ee-1]==="buy")&&j++;_[I]={symbol:I,tradeCount:L.length,sentimentRange:Math.round((P-V)*100)/100,avgConfidence:Math.round(sue(L.map(ee=>ee.confidence))*1e3)/1e3,flipCount:j,lastAction:N[N.length-1]}}let x=tWt(y),E=rWt(i,s,c,p,y);return{agentId:t,roundsAnalyzed:r,sentimentVolatility:pw(i),confidenceVolatility:pw(s),intentDriftRate:pw(c),convictionFlipRate:pw(p),lengthVariability:pw(f),stabilityScore:pw(y),grade:x,assessment:E,recentTrend:v,bySymbol:_}}function MXe(){let e=[...c$.keys()].map(n=>aue(n)),r=e.filter(n=>n.roundsAnalyzed>=3).sort((n,i)=>i.stabilityScore-n.stabilityScore);return{agents:e,mostStable:r.length>0?r[0].agentId:null,mostVolatile:r.length>0?r[r.length-1].agentId:null,rankings:r.map((n,i)=>({agentId:n.agentId,stabilityScore:n.stabilityScore,rank:i+1}))}}function sue(t){return t.length===0?0:t.reduce((e,r)=>e+r,0)/t.length}function nb(t){if(t.length<2)return 0;let e=sue(t),r=t.map(n=>Math.pow(n-e,2));return Math.sqrt(r.reduce((n,i)=>n+i,0)/(t.length-1))}function XHt(t,e,r,n,i){let o=Math.max(0,1-t*2),s=Math.max(0,1-e*4),a=1-r,c=1-n,l=Math.max(0,1-i);return o*.25+s*.2+a*.25+c*.2+l*.1}function eWt(t){if(t.length<10)return"consistent";let e=Math.min(10,Math.floor(t.length/2)),r=t.slice(-e),n=t.slice(0,-e),i=nb(r.map(u=>u.sentimentScore)),o=nb(n.map(u=>u.sentimentScore)),s=nb(r.map(u=>u.confidence)),a=nb(n.map(u=>u.confidence)),c=(i+s)/2,l=(o+a)/2;return c<l*.7?"stabilizing":c>l*1.3?"volatile":"consistent"}function tWt(t){return t>=.9?"A+":t>=.85?"A":t>=.8?"A-":t>=.75?"B+":t>=.7?"B":t>=.65?"B-":t>=.6?"C+":t>=.5?"C":t>=.4?"D":"F"}function rWt(t,e,r,n,i){let o=[];return i>=.8?o.push("Highly consistent reasoning patterns across trading rounds."):i>=.6?o.push("Moderately stable reasoning with some variation between rounds."):o.push("Volatile reasoning patterns \u2014 agent changes approach frequently."),t>.3&&o.push("High sentiment swings between rounds."),e>.2&&o.push("Confidence levels vary significantly."),r>.4&&o.push("Frequently switches strategy intent (momentum\u2192value\u2192contrarian)."),n>.3&&o.push("Frequently reverses conviction on the same stocks."),o.join(" ")}function pw(t){return Math.round(t*1e3)/1e3}function nWt(t,e){return{agentId:t,roundsAnalyzed:e,sentimentVolatility:0,confidenceVolatility:0,intentDriftRate:0,convictionFlipRate:0,lengthVariability:0,stabilityScore:1,grade:"N/A",assessment:"Insufficient data for volatility analysis (need 2+ rounds).",recentTrend:"consistent",bySymbol:{}}}var xa=[];var $Xe=[];function LXe(t,e){let r=e.filter(y=>y.action!=="hold"),n=new Map;for(let y of r)n.set(y.action,(n.get(y.action)??0)+1);let i,o,s=[],a=[];if(r.length===0)i="no_trades",o="hold",a=e;else{let y=n.get("buy")??0,v=n.get("sell")??0;y===r.length?(i="unanimous",o="buy",a=r):v===r.length?(i="unanimous",o="sell",a=r):y>v?(i=y>1?"majority":"split",o="buy",a=r.filter(_=>_.action==="buy"),s=r.filter(_=>_.action!=="buy").map(_=>_.agentId)):v>y?(i=v>1?"majority":"split",o="sell",a=r.filter(_=>_.action==="sell"),s=r.filter(_=>_.action!=="sell").map(_=>_.agentId)):(i="split",o="none",a=r)}let c=e.length>0?a.length/e.length:1,l=new Map;for(let y of a)l.set(y.symbol,(l.get(y.symbol)??0)+1);let u=null,d=0;for(let[y,v]of l)v>d&&(d=v,u=y);let p=a.map(y=>y.confidence),h=e.filter(y=>s.includes(y.agentId)).map(y=>y.confidence),f={roundId:t,timestamp:new Date().toISOString(),agents:e,consensusType:i,agreementScore:Math.round(c*1e3)/1e3,consensusAction:o,consensusSymbol:u,contrarians:s,majorityAvgConfidence:p.length>0?Math.round(p.reduce((y,v)=>y+v,0)/p.length*1e3)/1e3:0,contrarianAvgConfidence:h.length>0?Math.round(h.reduce((y,v)=>y+v,0)/h.length*1e3)/1e3:0};return xa.push(f),xa.length>500&&xa.splice(0,xa.length-500),$Xe.push({roundId:t,consensusAction:o,consensusSymbol:u,outcome:"pending"}),f}function cue(){let t=xa.length;if(t===0)return oWt();let e=xa.reduce((h,f)=>h+f.agreementScore,0)/t,r=xa.filter(h=>h.consensusType==="unanimous").length,n=xa.filter(h=>h.consensusType==="split").length,i=$Xe.filter(h=>h.outcome!=="pending"),o=i.filter(h=>h.outcome==="correct").length,s=i.length>0?o/i.length:0,a=0,c={},l=new Set;for(let h of xa)for(let f of h.agents)l.add(f.agentId);for(let h of l){let f=xa.filter(I=>I.agents.some(N=>N.agentId===h)),y=0,v=0,_=[],x=[];for(let I of f){let N=I.agents.find(B=>B.agentId===h);if(!N)continue;I.contrarians.includes(h)?(x.push(N.confidence),I.contrarians.length===1&&v++):(y++,_.push(N.confidence))}let E=f.length>0?y/f.length:1;c[h]={agentId:h,agreementRate:Math.round(E*1e3)/1e3,loneContrarianCount:v,avgConfidenceWhenAgreeing:_.length>0?Math.round(_.reduce((I,N)=>I+N,0)/_.length*1e3)/1e3:0,avgConfidenceWhenDisagreeing:x.length>0?Math.round(x.reduce((I,N)=>I+N,0)/x.length*1e3)/1e3:0,contrarianWinRate:0,stance:E>=.8?"conformist":E>=.5?"independent":"contrarian"}}let u={},d=new Map;for(let h of xa){let f=new Set(h.agents.map(y=>y.symbol));for(let y of f){let v=d.get(y)??[];v.push(h),d.set(y,v)}}for(let[h,f]of d){let y=0,v=0,_=0,x=0;for(let E of f){let I=E.agents.filter(V=>V.symbol===h);if(I.length===0)continue;x++;let N=I.map(V=>V.action);N.every(V=>V===N[0])&&y++;let B=N.filter(V=>V==="buy").length,P=N.filter(V=>V==="sell").length;v+=B,_+=P}u[h]={symbol:h,roundsDebated:x,agreementRate:x>0?Math.round(y/x*1e3)/1e3:1,avgBullish:x>0?Math.round(v/x*1e3)/1e3:0,avgBearish:x>0?Math.round(_/x*1e3)/1e3:0,typicalConflict:v>_?"Mostly bullish with bear dissenters":_>v?"Mostly bearish with bull dissenters":"Evenly split"}}let p=[...xa].sort((h,f)=>h.agreementScore-f.agreementScore).slice(0,5),m=iWt(xa);return{totalRounds:t,avgAgreementScore:Math.round(e*1e3)/1e3,unanimousRate:Math.round(r/t*1e3)/1e3,splitRate:Math.round(n/t*1e3)/1e3,consensusAccuracy:Math.round(s*1e3)/1e3,contrarianAlpha:a,byAgent:c,bySymbol:u,mostControversialRounds:p,convergenceTrend:m}}function BXe(t=20){return xa.slice(-t).reverse()}function iWt(t){if(t.length<10)return"stable";let e=Math.floor(t.length/2),r=t.slice(0,e),n=t.slice(e),i=r.reduce((s,a)=>s+a.agreementScore,0)/r.length,o=n.reduce((s,a)=>s+a.agreementScore,0)/n.length;return o>i+.1?"converging":o<i-.1?"diverging":"stable"}function oWt(){return{totalRounds:0,avgAgreementScore:0,unanimousRate:0,splitRate:0,consensusAccuracy:0,contrarianAlpha:0,byAgent:{},bySymbol:{},mostControversialRounds:[],convergenceTrend:"stable"}}var due=new sn,UXe=new Map,uue=["claude-value-investor","gpt-momentum-trader","grok-contrarian"];function FXe(t,e){UXe.set(t,e)}var l$=new Set;function zXe(t,e,r){let n={type:t,agentId:r??null,timestamp:new Date().toISOString(),...e},i=`data: ${JSON.stringify(n)}

`;for(let o of l$)try{o.enqueue(new TextEncoder().encode(i))}catch{l$.delete(o)}}due.get("/",t=>{let e=VXe(),r=cue(),n=BXe(5),i=iue(),o=`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MoltApp Benchmark v14 \u2014 10-Pillar AI Trading Evaluation</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: #0a0a0a; color: #e0e0e0; }
    .header { background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%); padding: 2rem; text-align: center; border-bottom: 2px solid #e94560; }
    .header h1 { font-size: 2rem; color: #fff; margin-bottom: 0.5rem; }
    .header .version { color: #e94560; font-size: 0.9rem; font-weight: bold; }
    .header .subtitle { color: #aaa; font-size: 0.85rem; margin-top: 0.5rem; }
    .container { max-width: 1400px; margin: 0 auto; padding: 1.5rem; }
    .pillar-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 0.8rem; margin-bottom: 1.5rem; }
    .pillar-card { background: #1a1a2e; border-radius: 8px; padding: 1rem; border: 1px solid #333; text-align: center; }
    .pillar-card h3 { font-size: 0.75rem; color: #888; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 0.5rem; }
    .pillar-card .score { font-size: 1.8rem; font-weight: bold; }
    .pillar-card .weight { font-size: 0.7rem; color: #666; margin-top: 0.3rem; }
    .green { color: #00e676; } .yellow { color: #ffca28; } .red { color: #ff5252; } .blue { color: #40c4ff; }
    .leaderboard { background: #1a1a2e; border-radius: 8px; padding: 1.5rem; margin-bottom: 1.5rem; border: 1px solid #333; }
    .leaderboard h2 { font-size: 1.2rem; margin-bottom: 1rem; color: #e94560; }
    table { width: 100%; border-collapse: collapse; }
    th { text-align: left; padding: 0.6rem; font-size: 0.75rem; color: #888; text-transform: uppercase; border-bottom: 1px solid #333; }
    td { padding: 0.6rem; font-size: 0.85rem; border-bottom: 1px solid #1a1a2e; }
    .grade { font-weight: bold; font-size: 1rem; }
    .grade-a { color: #00e676; } .grade-b { color: #40c4ff; } .grade-c { color: #ffca28; } .grade-d { color: #ff9800; } .grade-f { color: #ff5252; }
    .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1.5rem; }
    .card { background: #1a1a2e; border-radius: 8px; padding: 1.5rem; border: 1px solid #333; }
    .card h2 { font-size: 1.1rem; color: #e94560; margin-bottom: 0.8rem; }
    .stat-row { display: flex; justify-content: space-between; padding: 0.4rem 0; border-bottom: 1px solid #222; }
    .stat-row .label { color: #888; font-size: 0.8rem; } .stat-row .value { font-weight: bold; font-size: 0.85rem; }
    .bar-chart { margin-top: 0.5rem; }
    .bar { display: flex; align-items: center; margin: 0.3rem 0; }
    .bar-label { width: 100px; font-size: 0.75rem; color: #888; }
    .bar-fill { height: 16px; border-radius: 4px; min-width: 4px; transition: width 0.3s; }
    .bar-value { margin-left: 8px; font-size: 0.75rem; color: #aaa; }
    .badge { display: inline-block; padding: 0.2rem 0.5rem; border-radius: 4px; font-size: 0.7rem; font-weight: bold; }
    .badge-hf { background: #ffd54f; color: #000; }
    .badge-live { background: #00e676; color: #000; }
    .badge-v14 { background: #e94560; color: #fff; }
    .consensus-feed { list-style: none; }
    .consensus-feed li { padding: 0.6rem 0; border-bottom: 1px solid #222; font-size: 0.8rem; }
    .consensus-type { font-weight: bold; }
    .footer { text-align: center; padding: 2rem; color: #555; font-size: 0.75rem; }
    .footer a { color: #e94560; text-decoration: none; }
    @media (max-width: 900px) { .pillar-grid { grid-template-columns: repeat(2, 1fr); } .two-col { grid-template-columns: 1fr; } }
  </style>
</head>
<body>
  <div class="header">
    <h1>MoltApp: AI Trading Benchmark</h1>
    <div class="version">
      <span class="badge badge-v14">v14</span>
      <span class="badge badge-live">LIVE</span>
      <span class="badge badge-hf">HuggingFace</span>
    </div>
    <div class="subtitle">10-Pillar Scoring | Outcome Resolution | Calibration Curves | Consensus Intelligence</div>
  </div>

  <div class="container">
    <!-- 10 Pillar Overview -->
    <div class="pillar-grid">
      <div class="pillar-card">
        <h3>Financial</h3>
        <div class="score green">${Bd(e,"financial")}</div>
        <div class="weight">15% weight</div>
      </div>
      <div class="pillar-card">
        <h3>Reasoning</h3>
        <div class="score blue">${Bd(e,"reasoning")}</div>
        <div class="weight">14% weight</div>
      </div>
      <div class="pillar-card">
        <h3>Safety</h3>
        <div class="score green">${Bd(e,"safety")}</div>
        <div class="weight">12% weight</div>
      </div>
      <div class="pillar-card">
        <h3>Calibration</h3>
        <div class="score yellow">${Bd(e,"calibration")}</div>
        <div class="weight">10% weight</div>
      </div>
      <div class="pillar-card">
        <h3>Patterns</h3>
        <div class="score blue">${Bd(e,"patterns")}</div>
        <div class="weight">7% weight</div>
      </div>
      <div class="pillar-card">
        <h3>Adaptability</h3>
        <div class="score yellow">${Bd(e,"adaptability")}</div>
        <div class="weight">7% weight</div>
      </div>
      <div class="pillar-card">
        <h3>Forensic</h3>
        <div class="score blue">${Bd(e,"forensicQuality")}</div>
        <div class="weight">10% weight</div>
      </div>
      <div class="pillar-card">
        <h3>Validation</h3>
        <div class="score green">${Bd(e,"validationQuality")}</div>
        <div class="weight">10% weight</div>
      </div>
      <div class="pillar-card">
        <h3>Prediction</h3>
        <div class="score yellow">${Bd(e,"predictionAccuracy")}</div>
        <div class="weight">8% weight \u2014 NEW</div>
      </div>
      <div class="pillar-card">
        <h3>Stability</h3>
        <div class="score green">${Bd(e,"reasoningStability")}</div>
        <div class="weight">7% weight \u2014 NEW</div>
      </div>
    </div>

    <!-- Leaderboard -->
    <div class="leaderboard">
      <h2>Agent Leaderboard</h2>
      <table>
        <thead>
          <tr>
            <th>#</th><th>Agent</th><th>Composite</th><th>Grade</th>
            <th>Financial</th><th>Reasoning</th><th>Safety</th><th>Prediction</th><th>Stability</th>
            <th>Trades</th>
          </tr>
        </thead>
        <tbody>
          ${e.map((s,a)=>`
          <tr>
            <td>${a+1}</td>
            <td><strong>${QR(s.agentId)}</strong></td>
            <td><strong>${(s.composite*100).toFixed(1)}%</strong></td>
            <td><span class="grade ${lue(s.grade)}">${s.grade}</span></td>
            <td>${(s.financial*100).toFixed(0)}%</td>
            <td>${(s.reasoning*100).toFixed(0)}%</td>
            <td>${(s.safety*100).toFixed(0)}%</td>
            <td>${(s.predictionAccuracy*100).toFixed(0)}%</td>
            <td>${(s.reasoningStability*100).toFixed(0)}%</td>
            <td>${s.tradeCount}</td>
          </tr>`).join("")}
        </tbody>
      </table>
    </div>

    <div class="two-col">
      <!-- Prediction Resolution -->
      <div class="card">
        <h2>Prediction Resolution</h2>
        <div class="stat-row"><span class="label">Pending Predictions</span><span class="value">${i.totalPending}</span></div>
        <div class="stat-row"><span class="label">Resolved Predictions</span><span class="value">${i.totalResolved}</span></div>
        <div class="stat-row"><span class="label">Overall Direction Accuracy</span><span class="value">${(i.overallAccuracy*100).toFixed(1)}%</span></div>
        <div class="stat-row"><span class="label">Avg Prediction Quality</span><span class="value">${(i.avgPredictionScore*100).toFixed(1)}%</span></div>
        <div class="bar-chart">
          ${Object.entries(i.byAgent).map(([s,a])=>`
            <div class="bar">
              <span class="bar-label">${QR(s)}</span>
              <div class="bar-fill" style="width: ${a.accuracy*200}px; background: ${a.accuracy>=.6?"#00e676":a.accuracy>=.4?"#ffca28":"#ff5252"};"></div>
              <span class="bar-value">${(a.accuracy*100).toFixed(0)}% (${a.resolved})</span>
            </div>
          `).join("")}
        </div>
      </div>

      <!-- Consensus Intelligence -->
      <div class="card">
        <h2>Consensus Intelligence</h2>
        <div class="stat-row"><span class="label">Rounds Analyzed</span><span class="value">${r.totalRounds}</span></div>
        <div class="stat-row"><span class="label">Avg Agreement</span><span class="value">${(r.avgAgreementScore*100).toFixed(0)}%</span></div>
        <div class="stat-row"><span class="label">Unanimous Rate</span><span class="value">${(r.unanimousRate*100).toFixed(0)}%</span></div>
        <div class="stat-row"><span class="label">Split Rate</span><span class="value">${(r.splitRate*100).toFixed(0)}%</span></div>
        <div class="stat-row"><span class="label">Convergence Trend</span><span class="value">${r.convergenceTrend}</span></div>
        <h3 style="margin-top:0.8rem;font-size:0.8rem;color:#888;">Recent Consensus</h3>
        <ul class="consensus-feed">
          ${n.map(s=>`
            <li>
              <span class="consensus-type" style="color:${s.consensusType==="unanimous"?"#00e676":s.consensusType==="split"?"#ff5252":"#ffca28"}">${s.consensusType.toUpperCase()}</span>
              ${s.consensusAction!=="none"?`\u2192 ${s.consensusAction.toUpperCase()} ${s.consensusSymbol??""}`:""}
              ${s.contrarians.length>0?`(contrarian: ${s.contrarians.map(QR).join(", ")})`:""}
            </li>
          `).join("")}
          ${n.length===0?"<li>No rounds recorded yet</li>":""}
        </ul>
      </div>
    </div>

    <div class="two-col">
      <!-- Calibration Curves -->
      <div class="card">
        <h2>Confidence Calibration</h2>
        ${uue.map(s=>{let a=oue(s);return`
            <div style="margin-bottom:1rem;">
              <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:0.3rem;">
                <strong style="font-size:0.85rem;">${QR(s)}</strong>
                <span class="grade ${lue(a.grade)}">${a.grade}</span>
              </div>
              <div class="stat-row"><span class="label">ECE</span><span class="value">${a.ece.toFixed(3)}</span></div>
              <div class="stat-row"><span class="label">Brier Score</span><span class="value">${a.brierScore.toFixed(3)}</span></div>
              <div class="stat-row"><span class="label">Monotonic</span><span class="value">${a.monotonicCalibration?"Yes":"No"}</span></div>
              <div class="stat-row"><span class="label">Data Points</span><span class="value">${a.totalDataPoints}</span></div>
            </div>`}).join("")}
      </div>

      <!-- Reasoning Stability -->
      <div class="card">
        <h2>Reasoning Stability</h2>
        ${uue.map(s=>{let a=aue(s);return`
            <div style="margin-bottom:1rem;">
              <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:0.3rem;">
                <strong style="font-size:0.85rem;">${QR(s)}</strong>
                <span class="grade ${lue(a.grade)}">${a.grade}</span>
              </div>
              <div class="stat-row"><span class="label">Stability Score</span><span class="value">${(a.stabilityScore*100).toFixed(0)}%</span></div>
              <div class="stat-row"><span class="label">Sentiment Vol</span><span class="value">${a.sentimentVolatility.toFixed(3)}</span></div>
              <div class="stat-row"><span class="label">Confidence Vol</span><span class="value">${a.confidenceVolatility.toFixed(3)}</span></div>
              <div class="stat-row"><span class="label">Flip Rate</span><span class="value">${(a.convictionFlipRate*100).toFixed(0)}%</span></div>
              <div class="stat-row"><span class="label">Trend</span><span class="value">${a.recentTrend}</span></div>
            </div>`}).join("")}
      </div>
    </div>
  </div>

  <div class="footer">
    <p>MoltApp v14 \u2014 AI Trading Benchmark | <a href="https://www.patgpt.us">www.patgpt.us</a> | <a href="https://huggingface.co/datasets/patruff/molt-benchmark">HuggingFace Dataset</a></p>
    <p>10-Pillar Scoring: Financial, Reasoning, Safety, Calibration, Patterns, Adaptability, Forensic, Validation, Prediction, Stability</p>
  </div>

  <script>
    // Auto-refresh every 30 seconds
    setTimeout(() => location.reload(), 30000);
  </script>
</body>
</html>`;return t.html(o)});due.get("/data",t=>{let e=VXe(),r=cue(),n=iue(),i=OXe(),o=MXe();return t.json({ok:!0,benchmark:"moltapp-v14",pillars:[{name:"Financial",weight:.15,description:"P&L, Sharpe, Win Rate, Drawdown"},{name:"Reasoning",weight:.14,description:"Coherence, Depth, Consistency"},{name:"Safety",weight:.12,description:"Hallucination-Free, Discipline"},{name:"Calibration",weight:.1,description:"ECE, Brier, Monotonic Quartiles"},{name:"Patterns",weight:.07,description:"Fallacy Detection, Vocabulary"},{name:"Adaptability",weight:.07,description:"Cross-Regime Performance"},{name:"Forensic Quality",weight:.1,description:"Structure, Originality, Clarity"},{name:"Validation Quality",weight:.1,description:"Depth, Sources, Grounding"},{name:"Prediction Accuracy",weight:.08,description:"Direction accuracy, target precision, resolution quality"},{name:"Reasoning Stability",weight:.07,description:"Sentiment vol, conviction flip rate, intent drift"}],leaderboard:e,predictionResolution:n,calibrationComparison:{bestCalibrated:i.bestCalibrated,worstCalibrated:i.worstCalibrated,rankings:i.rankings},volatilityComparison:{mostStable:o.mostStable,mostVolatile:o.mostVolatile,rankings:o.rankings},consensusDivergence:{totalRounds:r.totalRounds,avgAgreementScore:r.avgAgreementScore,unanimousRate:r.unanimousRate,splitRate:r.splitRate,convergenceTrend:r.convergenceTrend,byAgent:r.byAgent},timestamp:new Date().toISOString()})});due.get("/stream",t=>{let e=new ReadableStream({start(r){l$.add(r);let n=`data: ${JSON.stringify({type:"connected",benchmark:"moltapp-v14",pillars:10})}

`;r.enqueue(new TextEncoder().encode(n))},cancel(r){l$.delete(r)}});return new Response(e,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});function VXe(){let t=[];for(let e of uue){let r=UXe.get(e)??sWt();t.push({agentId:e,...r})}return t.sort((e,r)=>r.composite-e.composite),t}function sWt(){return{financial:.5,reasoning:.5,safety:.5,calibration:.5,patterns:.5,adaptability:.5,forensicQuality:.5,validationQuality:.5,predictionAccuracy:.5,reasoningStability:.5,composite:.5,grade:"C",tradeCount:0,lastUpdated:new Date().toISOString()}}function Bd(t,e){return t.length===0?"\u2014":`${(t.reduce((n,i)=>n+(Number(i[e])||0),0)/t.length*100).toFixed(0)}%`}function QR(t){return t.includes("claude")?"Claude ValueBot":t.includes("gpt")?"GPT MomentumAI":t.includes("grok")?"Grok Contrarian":t}function lue(t){return t.startsWith("A")?"grade-a":t.startsWith("B")?"grade-b":t.startsWith("C")?"grade-c":t.startsWith("D")?"grade-d":"grade-f"}import{createHash as aWt}from"crypto";var jXe=1e3,jm=new Map,qXe=new Map,pue=new Map;function u$(t){return aWt("sha256").update(t,"utf8").digest("hex")}function cWt(t){let e=JSON.stringify(t,Object.keys(t).sort());return u$(e)}function HXe(t,e,r){return u$(`${t}:${e}:${r}`)}function WXe(t,e){return u$(`${t}:${e}`)}function lWt(t){let e={};for(let[r,n]of jm)r!==t&&n.length>0&&(e[r]=n[n.length-1].chainHash);return e}function GXe(t,e,r,n,i,o,s){let a=new Date().toISOString(),c=u$(e),l=cWt(o),u=HXe(c,l,a),d=jm.get(t)??[],p=d.length>0?d[d.length-1].chainHash:"",m=WXe(u,p),h=(qXe.get(t)??0)+1;qXe.set(t,h);let f=lWt(t);return{proofId:`prov_${t}_${h}_${Date.now()}`,agentId:t,roundId:s,symbol:n,action:r,confidence:i,reasoningHash:c,marketDataHash:l,preCommitSeal:u,previousProofHash:p,chainHash:m,timestamp:a,sequenceNumber:h,witnessHashes:f}}function uWt(t){let e={},r=HXe(t.reasoningHash,t.marketDataHash,t.timestamp);e.preCommitSeal=r===t.preCommitSeal;let n=WXe(t.preCommitSeal,t.previousProofHash);e.chainHash=n===t.chainHash;let i=jm.get(t.agentId)??[];if(t.sequenceNumber===1)e.chainLinkage=t.previousProofHash==="";else{let a=i.find(c=>c.sequenceNumber===t.sequenceNumber-1);e.chainLinkage=a?a.chainHash===t.previousProofHash:!0}if(t.sequenceNumber>1){let a=i.find(c=>c.sequenceNumber===t.sequenceNumber-1);e.temporalOrder=a?new Date(t.timestamp)>=new Date(a.timestamp):!0}else e.temporalOrder=!0;let o=!0;for(let[a,c]of Object.entries(t.witnessHashes)){let l=jm.get(a)??[];l.length>0&&(l.some(d=>d.chainHash===c)||(o=!1))}return e.witnessConsistency=o,{valid:Object.values(e).every(a=>a),checks:e}}function KXe(t){let e=jm.get(t.agentId)??[];e.push(t),e.length>jXe&&e.splice(0,e.length-jXe),jm.set(t.agentId,e),pue.set(t.agentId,(pue.get(t.agentId)??0)+1)}function dWt(t){let e=jm.get(t)??[],r=pue.get(t)??0,n=!0;for(let i=0;i<e.length;i++){let o=e[i];if(!uWt(o).valid){n=!1;break}if(i>0){let a=e[i-1];if(o.previousProofHash!==a.chainHash){n=!1;break}}}return{agentId:t,proofs:[...e],headHash:e.length>0?e[e.length-1].chainHash:"",totalRecorded:r,valid:n}}function mue(){let t={},e=0,r=null,n=null;for(let o of jm.keys()){let s=dWt(o);t[o]=s.valid,e+=s.proofs.length;for(let a of s.proofs)(r===null||a.timestamp<r)&&(r=a.timestamp),(n===null||a.timestamp>n)&&(n=a.timestamp)}let i=jm.size;return{totalAgents:i,totalProofs:e,chainIntegrity:t,avgChainLength:i>0?Math.round(e/i*10)/10:0,oldestProofTimestamp:r,newestProofTimestamp:n}}var _u=new Map,ib=[];function Rg(t){return t.toLowerCase().replace(/[^a-z0-9\s]/g,"").split(/\s+/).filter(Boolean)}function d$(t){let e=new Set;for(let r=0;r<t.length-1;r++)e.add(`${t[r]} ${t[r+1]}`);return e}function pWt(t,e){if(t.size===0&&e.size===0)return 1;let r=0;for(let i of t)e.has(i)&&r++;let n=t.size+e.size-r;return n===0?0:r/n}function Ud(t){return t.length===0?0:t.reduce((e,r)=>e+r,0)/t.length}function mWt(t){if(t.length<2)return 0;let e=Ud(t),r=t.reduce((n,i)=>n+(i-e)**2,0)/t.length;return Math.sqrt(r)}function YXe(t){_u.has(t.agentId)||_u.set(t.agentId,[]);let e=_u.get(t.agentId);for(e.push(t);e.length>500;)e.shift()}function JXe(t){let e=t[0]?.roundId??"unknown",r=t[0]?.timestamp??new Date().toISOString(),n=[];for(let m=0;m<t.length;m++)for(let h=m+1;h<t.length;h++){let f=t[m],y=t[h],v=Rg(f.reasoning),_=Rg(y.reasoning),x=d$(v),E=d$(_);n.push({agentA:f.agentId,agentB:y.agentId,jaccardBigram:pWt(x,E),actionAgreement:f.action===y.action,confidenceDelta:Math.abs(f.confidence-y.confidence)})}let i=[],o=t.map(m=>m.action),s=new Set(o),a=t.map(m=>m.confidence),c=Math.max(...a)-Math.min(...a);s.size>1&&i.push({roundId:e,symbol:t[0]?.symbol??"",agents:t.map(m=>({agentId:m.agentId,action:m.action,confidence:m.confidence})),divergenceType:"action_split",severity:(s.size-1)/Math.max(t.length-1,1)}),c>.3&&i.push({roundId:e,symbol:t[0]?.symbol??"",agents:t.map(m=>({agentId:m.agentId,action:m.action,confidence:m.confidence})),divergenceType:"confidence_spread",severity:Math.min(c,1)});let l=t.map(m=>{let h=_u.get(m.agentId)??[m],f=h.length,y=h.filter(N=>N.action==="buy").length,v=h.filter(N=>N.action==="sell").length,_=h.filter(N=>N.action==="hold").length,x=h.map(N=>N.confidence),E=Ud(x),I=h.filter(N=>N.confidence>.8).length;return{agentId:m.agentId,bullishRate:y/f,bearishRate:v/f,neutralRate:_/f,avgConfidence:E,overconfidenceRatio:I/f}}),u=n.filter(m=>m.actionAgreement).length,d=n.length===0?0:u/n.length,p={roundId:e,timestamp:r,similarities:n,divergencePoints:i,biasIndicators:l,herdingScore:d,participantCount:t.length};return ib.push(p),p}function fue(t){let e=_u.get(t);if(!e||e.length===0)return null;let r=[],n=new Map,i=new Set;for(let E of e){let I=Rg(E.reasoning);r.push(...I),I.forEach(L=>i.add(L));let N=d$(I);for(let L of N)n.set(L,(n.get(L)??0)+1)}let o=[...n.entries()].sort((E,I)=>I[1]-E[1]).slice(0,20),s=new Set;for(let[E,I]of _u)if(E!==t)for(let N of I)Rg(N.reasoning).forEach(L=>s.add(L));let a=[...i].filter(E=>!s.has(E)).slice(0,30),c=e.reduce((E,I)=>E+Rg(I.reasoning).length,0)/e.length,l={topBigrams:o,uniqueWords:a,avgWordCount:c,vocabularySize:i.size},u=e.length,d=e.filter(E=>E.action==="buy").length,p=e.filter(E=>E.action==="sell").length,m=e.filter(E=>E.action==="hold").length,h=e.map(E=>E.confidence),f=e.filter(E=>E.confidence>.8).length,y=e.map(E=>Rg(E.reasoning).length),v=e.map(E=>d$(Rg(E.reasoning)).size),_=new Set;for(let[,E]of _u)for(let I of E)Rg(I.reasoning).forEach(N=>_.add(N));let x=_.size===0?0:a.length/_.size;return{agentId:t,vocabularyDNA:l,sentimentTendency:{bullishRate:d/u,bearishRate:p/u,neutralRate:m/u},confidencePattern:{mean:Ud(h),stdDev:mWt(h),overconfidenceRatio:f/u},reasoningStyle:{avgLength:Ud(y),avgBigramCount:Ud(v),uniquenessScore:x},sampleSize:u}}function hue(){let t=[..._u.keys()],e=new Map;for(let u of ib)for(let d of u.similarities){let p=[d.agentA,d.agentB].sort().join("|");e.has(p)||e.set(p,{total:0,disagree:0,confSum:0,symbolMap:new Map});let m=e.get(p);if(m.total++,!d.actionAgreement){m.disagree++,m.confSum+=d.confidenceDelta;let h=u.divergencePoints[0]?.symbol??"unknown";m.symbolMap.set(h,(m.symbolMap.get(h)??0)+1)}}let r=[...e.entries()].map(([u,d])=>{let[p,m]=u.split("|"),h=[...d.symbolMap.entries()].sort((f,y)=>y[1]-f[1]).slice(0,5).map(([f])=>f);return{agentPair:[p,m],disagreementRate:d.total===0?0:d.disagree/d.total,avgConfidenceWhenDisagreeing:d.disagree===0?0:d.confSum/d.disagree,mostDisagreedSymbols:h}}),n=[],i=[],o=[];for(let u of t){let d=_u.get(u)??[],p=d.length||1,m=d.filter(f=>f.action==="buy").length/p,h=d.filter(f=>f.action==="sell").length/p;n.push(m),i.push(h),o.push({agentId:u,bullish:m,bearish:h})}let s=Ud(n),a=Ud(i),c=o.map(u=>{let d=u.bullish-s,p=u.bearish-a,m=d>p;return{agentId:u.agentId,direction:m?"bullish":"bearish",magnitude:Math.abs(m?d:p),comparedToAvg:m?d:p}}),l=ib.slice(-50).map(u=>u.herdingScore);return{systematicDisagreements:r,biasAsymmetries:c,herdingTrend:l,totalRoundsAnalyzed:ib.length}}function gue(){let t=0;for(let[,o]of _u)t+=o.length;let e=ib.flatMap(o=>o.similarities),r=e.map(o=>o.jaccardBigram),n=e.map(o=>o.confidenceDelta),i=e.filter(o=>o.actionAgreement).length;return{totalEntriesRecorded:t,agentCount:_u.size,roundsCompared:ib.length,avgHerdingScore:Ud(ib.map(o=>o.herdingScore)),avgJaccardSimilarity:Ud(r),avgConfidenceDelta:Ud(n),actionAgreementRate:e.length===0?0:i/e.length}}import*as p$ from"crypto";var QXe=500,ob=[];function yue(t){return t==null?String(t):typeof t!="object"?JSON.stringify(t):Array.isArray(t)?"["+t.map(yue).join(",")+"]":"{"+Object.keys(t).sort().map(r=>JSON.stringify(r)+":"+yue(t[r])).join(",")+"}"}function bue(t){return p$.createHash("sha256").update(t,"utf8").digest("hex")}function mw(t){return bue(yue(t))}function fWt(t){return bue("molt-v15-seal:"+t)}function ZXe(t){let e={...t,inputHash:mw(t.inputs),configHash:mw(t.scoringConfig),outputHash:mw(t.scores)};return ob.push(e),ob.length>QXe&&ob.splice(0,ob.length-QXe),e}function XXe(t,e,r,n){let i=mw(e),o=mw(n),s=mw(r),a=bue(i+o+s),c=ob.filter(d=>d.inputHash===i&&d.configHash===o),l=c.filter(d=>d.outputHash===s).length,u=c.filter(d=>d.outputHash!==s).length;return{proofId:"proof-"+p$.randomBytes(12).toString("hex"),roundId:t,timestamp:Date.now(),inputHash:i,configHash:o,outputHash:s,combinedHash:a,deterministic:u===0,priorRunMatches:l,priorRunMismatches:u,signature:fWt(a)}}function vue(){let t=new Map;for(let o of ob){let s=(o.inputHash??"")+"|"+(o.configHash??""),a=t.get(s)??[];a.push(o),t.set(s,a)}let e=[],r=0,n=0;for(let[,o]of t)if(new Set(o.map(a=>a.outputHash)).size<=1)r++;else{n++;for(let a of o)e.includes(a.roundId)||e.push(a.roundId)}let i=r+n;return{totalRuns:ob.length,uniqueInputSets:t.size,deterministicSets:r,nonDeterministicSets:n,reproducibilityRate:i>0?r/i:1,nonDeterministicRounds:e,generatedAt:Date.now()}}var _ue=new sn,tet=new Map,Sue=["claude-value-investor","gpt-momentum-trader","grok-contrarian"];function ret(t,e){tet.set(t,e),wue("metrics_updated",{agentId:t,composite:e.composite,grade:e.grade},t)}var eet=new Set,m$=new Set;function wue(t,e,r){let n={type:t,agentId:r??null,timestamp:new Date().toISOString(),...e},i=`data: ${JSON.stringify(n)}

`;for(let o of eet)try{o(i)}catch{eet.delete(o)}for(let o of m$)try{o.enqueue(new TextEncoder().encode(i))}catch{m$.delete(o)}}function net(){let t=[];for(let e of Sue){let r=tet.get(e)??hWt();t.push({agentId:e,...r})}return t.sort((e,r)=>r.composite-e.composite),t}function hWt(){return{financial:.5,reasoning:.5,safety:.5,calibration:.5,patterns:.5,adaptability:.5,forensicQuality:.5,validationQuality:.5,predictionAccuracy:.5,reasoningStability:.5,provenanceIntegrity:.5,modelComparison:.5,composite:.5,grade:"C",tradeCount:0,lastUpdated:new Date().toISOString()}}function Nl(t,e){return t.length===0?"\u2014":`${(t.reduce((n,i)=>n+(Number(i[e])||0),0)/t.length*100).toFixed(0)}%`}function fw(t){return t.includes("claude")?"Claude ValueBot":t.includes("gpt")?"GPT MomentumAI":t.includes("grok")?"Grok Contrarian":t}function gWt(t){return t.startsWith("A")?"grade-a":t.startsWith("B")?"grade-b":t.startsWith("C")?"grade-c":t.startsWith("D")?"grade-d":"grade-f"}function sb(t){return String(t??"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}_ue.get("/",t=>{let e=net(),r=mue(),n=gue(),i=hue(),o=vue(),s=Sue.map(d=>({agentId:d,fingerprint:fue(d)})),a=Object.entries(r.chainIntegrity).map(([d,p])=>`
      <tr>
        <td>${sb(fw(d))}</td>
        <td style="color:${p?"#00e676":"#ff5252"};">${p?"VALID":"BROKEN"}</td>
      </tr>`).join(""),c=s.map(({agentId:d,fingerprint:p})=>p?`<div class="card" style="flex:1;min-width:250px;">
      <h3 style="font-size:0.85rem;color:#aaa;margin-bottom:0.5rem;">${sb(fw(d))}</h3>
      <div class="stat-row"><span class="label">Bullish Rate</span><span class="value">${(p.sentimentTendency.bullishRate*100).toFixed(0)}%</span></div>
      <div class="stat-row"><span class="label">Bearish Rate</span><span class="value">${(p.sentimentTendency.bearishRate*100).toFixed(0)}%</span></div>
      <div class="stat-row"><span class="label">Avg Confidence</span><span class="value">${(p.confidencePattern.mean*100).toFixed(0)}%</span></div>
      <div class="stat-row"><span class="label">Vocab Size</span><span class="value">${p.vocabularyDNA.vocabularySize}</span></div>
      <div class="stat-row"><span class="label">Uniqueness</span><span class="value">${(p.reasoningStyle.uniquenessScore*100).toFixed(1)}%</span></div>
      <div class="stat-row"><span class="label">Samples</span><span class="value">${p.sampleSize}</span></div>
    </div>`:`<div class="card" style="flex:1;min-width:250px;">
        <h3 style="font-size:0.85rem;color:#aaa;">${sb(fw(d))}</h3>
        <p style="color:#666;font-size:0.8rem;">No data yet</p>
      </div>`).join(""),l=i.systematicDisagreements.map(d=>`
    <tr>
      <td>${sb(fw(d.agentPair[0]))} vs ${sb(fw(d.agentPair[1]))}</td>
      <td>${(d.disagreementRate*100).toFixed(0)}%</td>
      <td>${d.mostDisagreedSymbols.slice(0,3).join(", ")||"N/A"}</td>
    </tr>`).join(""),u=`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MoltApp Benchmark v15 \u2014 Industry-Standard AI Trading Benchmark</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: #0a0a0a; color: #e0e0e0; }
    .header { background: linear-gradient(135deg, #0d1117 0%, #161b22 50%, #0f3460 100%); padding: 2rem; text-align: center; border-bottom: 2px solid #e94560; }
    .header h1 { font-size: 2rem; color: #fff; margin-bottom: 0.5rem; }
    .header .version { color: #e94560; font-size: 0.9rem; font-weight: bold; margin-bottom: 0.4rem; }
    .header .subtitle { color: #aaa; font-size: 0.85rem; margin-top: 0.5rem; }
    .header .subtitle a { color: #58a6ff; text-decoration: none; }
    .container { max-width: 1440px; margin: 0 auto; padding: 1.5rem; }
    .section-title { font-size: 1.15rem; color: #e94560; margin: 1.5rem 0 0.8rem; border-bottom: 1px solid #333; padding-bottom: 0.4rem; }
    .pillar-grid { display: grid; grid-template-columns: repeat(6, 1fr); gap: 0.7rem; margin-bottom: 1.5rem; }
    .pillar-card { background: #161b22; border-radius: 8px; padding: 0.8rem; border: 1px solid #30363d; text-align: center; }
    .pillar-card h3 { font-size: 0.7rem; color: #8b949e; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 0.4rem; }
    .pillar-card .score { font-size: 1.6rem; font-weight: bold; }
    .pillar-card .weight { font-size: 0.65rem; color: #484f58; margin-top: 0.2rem; }
    .green { color: #3fb950; } .yellow { color: #d29922; } .red { color: #f85149; } .blue { color: #58a6ff; } .purple { color: #bc8cff; }
    .leaderboard { background: #161b22; border-radius: 8px; padding: 1.5rem; margin-bottom: 1.5rem; border: 1px solid #30363d; overflow-x: auto; }
    .leaderboard h2 { font-size: 1.2rem; margin-bottom: 1rem; color: #e94560; }
    table { width: 100%; border-collapse: collapse; }
    th { text-align: left; padding: 0.5rem 0.4rem; font-size: 0.7rem; color: #8b949e; text-transform: uppercase; border-bottom: 1px solid #30363d; }
    td { padding: 0.5rem 0.4rem; font-size: 0.8rem; border-bottom: 1px solid #21262d; }
    .grade { font-weight: bold; font-size: 1rem; }
    .grade-a { color: #3fb950; } .grade-b { color: #58a6ff; } .grade-c { color: #d29922; } .grade-d { color: #db6d28; } .grade-f { color: #f85149; }
    .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1.5rem; }
    .three-col { display: flex; gap: 1rem; margin-bottom: 1.5rem; flex-wrap: wrap; }
    .card { background: #161b22; border-radius: 8px; padding: 1.2rem; border: 1px solid #30363d; }
    .card h2 { font-size: 1rem; color: #e94560; margin-bottom: 0.8rem; }
    .stat-row { display: flex; justify-content: space-between; padding: 0.35rem 0; border-bottom: 1px solid #21262d; }
    .stat-row .label { color: #8b949e; font-size: 0.78rem; } .stat-row .value { font-weight: bold; font-size: 0.82rem; }
    .badge { display: inline-block; padding: 0.2rem 0.6rem; border-radius: 4px; font-size: 0.7rem; font-weight: bold; margin: 0 0.15rem; }
    .badge-hf { background: #ffd54f; color: #000; }
    .badge-live { background: #3fb950; color: #000; }
    .badge-v15 { background: #e94560; color: #fff; }
    .badge-new { background: #bc8cff; color: #000; }
    .methodology { background: #161b22; border-radius: 8px; padding: 1.5rem; border: 1px solid #30363d; margin-bottom: 1.5rem; }
    .methodology h2 { font-size: 1.1rem; color: #e94560; margin-bottom: 0.8rem; }
    .methodology ol { padding-left: 1.2rem; }
    .methodology li { font-size: 0.8rem; color: #c9d1d9; margin-bottom: 0.35rem; }
    .methodology li strong { color: #58a6ff; }
    .brain-feed { background: #161b22; border-radius: 8px; padding: 1.2rem; border: 1px solid #30363d; margin-bottom: 1.5rem; min-height: 100px; }
    .brain-feed h2 { font-size: 1rem; color: #e94560; margin-bottom: 0.6rem; }
    .brain-feed .placeholder { color: #484f58; font-size: 0.8rem; font-style: italic; }
    #brain-feed-list { list-style: none; max-height: 180px; overflow-y: auto; }
    #brain-feed-list li { padding: 0.4rem 0; border-bottom: 1px solid #21262d; font-size: 0.78rem; color: #c9d1d9; }
    .footer { text-align: center; padding: 2rem; color: #484f58; font-size: 0.72rem; border-top: 1px solid #21262d; margin-top: 1rem; }
    .footer a { color: #e94560; text-decoration: none; }
    @media (max-width: 1024px) { .pillar-grid { grid-template-columns: repeat(3, 1fr); } }
    @media (max-width: 768px) { .pillar-grid { grid-template-columns: repeat(2, 1fr); } .two-col { grid-template-columns: 1fr; } .three-col { flex-direction: column; } }
  </style>
</head>
<body>
  <div class="header">
    <h1>MoltApp: AI Trading Benchmark</h1>
    <div class="version">
      <span class="badge badge-v15">v15</span>
      <span class="badge badge-live">LIVE</span>
      <span class="badge badge-hf">HuggingFace</span>
      <span class="badge badge-new">NEW: Provenance &amp; Reproducibility</span>
    </div>
    <div class="subtitle">
      Industry-Standard 12-Pillar Scoring | Cryptographic Provenance | Cross-Model Fingerprinting | Reproducibility Proofs
      <br/><a href="https://www.patgpt.us">patgpt.us</a> &middot;
      <a href="https://huggingface.co/datasets/patruff/molt-benchmark">HuggingFace Dataset</a>
    </div>
  </div>

  <div class="container">
    <!-- 12-Pillar Overview -->
    <h2 class="section-title">12-Pillar Scoring Overview</h2>
    <div class="pillar-grid">
      <div class="pillar-card"><h3>Financial</h3><div class="score green">${Nl(e,"financial")}</div><div class="weight">13% weight</div></div>
      <div class="pillar-card"><h3>Reasoning</h3><div class="score blue">${Nl(e,"reasoning")}</div><div class="weight">12% weight</div></div>
      <div class="pillar-card"><h3>Safety</h3><div class="score green">${Nl(e,"safety")}</div><div class="weight">10% weight</div></div>
      <div class="pillar-card"><h3>Calibration</h3><div class="score yellow">${Nl(e,"calibration")}</div><div class="weight">9% weight</div></div>
      <div class="pillar-card"><h3>Patterns</h3><div class="score blue">${Nl(e,"patterns")}</div><div class="weight">6% weight</div></div>
      <div class="pillar-card"><h3>Adaptability</h3><div class="score yellow">${Nl(e,"adaptability")}</div><div class="weight">6% weight</div></div>
      <div class="pillar-card"><h3>Forensic</h3><div class="score blue">${Nl(e,"forensicQuality")}</div><div class="weight">8% weight</div></div>
      <div class="pillar-card"><h3>Validation</h3><div class="score green">${Nl(e,"validationQuality")}</div><div class="weight">8% weight</div></div>
      <div class="pillar-card"><h3>Prediction</h3><div class="score yellow">${Nl(e,"predictionAccuracy")}</div><div class="weight">7% weight</div></div>
      <div class="pillar-card"><h3>Stability</h3><div class="score green">${Nl(e,"reasoningStability")}</div><div class="weight">6% weight</div></div>
      <div class="pillar-card"><h3>Provenance</h3><div class="score purple">${Nl(e,"provenanceIntegrity")}</div><div class="weight">8% weight &mdash; NEW</div></div>
      <div class="pillar-card"><h3>Model Comp.</h3><div class="score purple">${Nl(e,"modelComparison")}</div><div class="weight">7% weight &mdash; NEW</div></div>
    </div>

    <!-- Agent Leaderboard -->
    <div class="leaderboard">
      <h2>Agent Leaderboard &mdash; 12-Pillar Composite</h2>
      <table>
        <thead>
          <tr>
            <th>#</th><th>Agent</th><th>Composite</th><th>Grade</th>
            <th>Fin</th><th>Rsn</th><th>Safe</th><th>Cal</th><th>Pat</th><th>Adpt</th>
            <th>For</th><th>Val</th><th>Pred</th><th>Stab</th><th>Prov</th><th>Comp</th>
            <th>Trades</th>
          </tr>
        </thead>
        <tbody>
          ${e.map((d,p)=>`
          <tr>
            <td>${p+1}</td>
            <td><strong>${sb(fw(d.agentId))}</strong></td>
            <td><strong>${(d.composite*100).toFixed(1)}%</strong></td>
            <td><span class="grade ${gWt(d.grade)}">${sb(d.grade)}</span></td>
            <td>${(d.financial*100).toFixed(0)}%</td>
            <td>${(d.reasoning*100).toFixed(0)}%</td>
            <td>${(d.safety*100).toFixed(0)}%</td>
            <td>${(d.calibration*100).toFixed(0)}%</td>
            <td>${(d.patterns*100).toFixed(0)}%</td>
            <td>${(d.adaptability*100).toFixed(0)}%</td>
            <td>${(d.forensicQuality*100).toFixed(0)}%</td>
            <td>${(d.validationQuality*100).toFixed(0)}%</td>
            <td>${(d.predictionAccuracy*100).toFixed(0)}%</td>
            <td>${(d.reasoningStability*100).toFixed(0)}%</td>
            <td>${(d.provenanceIntegrity*100).toFixed(0)}%</td>
            <td>${(d.modelComparison*100).toFixed(0)}%</td>
            <td>${d.tradeCount}</td>
          </tr>`).join("")}
        </tbody>
      </table>
    </div>

    <div class="two-col">
      <!-- Provenance Integrity -->
      <div class="card">
        <h2>Provenance Integrity (Pillar 11)</h2>
        <div class="stat-row"><span class="label">Total Agents Tracked</span><span class="value">${r.totalAgents}</span></div>
        <div class="stat-row"><span class="label">Total Proofs Recorded</span><span class="value">${r.totalProofs}</span></div>
        <div class="stat-row"><span class="label">Avg Chain Length</span><span class="value">${r.avgChainLength.toFixed(1)}</span></div>
        <div class="stat-row"><span class="label">Oldest Proof</span><span class="value" style="font-size:0.7rem;">${r.oldestProofTimestamp?new Date(r.oldestProofTimestamp).toLocaleString():"N/A"}</span></div>
        <div class="stat-row"><span class="label">Newest Proof</span><span class="value" style="font-size:0.7rem;">${r.newestProofTimestamp?new Date(r.newestProofTimestamp).toLocaleString():"N/A"}</span></div>
        <h3 style="margin-top:0.8rem;font-size:0.8rem;color:#8b949e;margin-bottom:0.4rem;">Chain Validity per Agent</h3>
        <table>
          <thead><tr><th>Agent</th><th>Status</th></tr></thead>
          <tbody>
            ${a||'<tr><td colspan="2" style="color:#484f58;">No chains recorded yet</td></tr>'}
          </tbody>
        </table>
      </div>

      <!-- Reproducibility -->
      <div class="card">
        <h2>Reproducibility Proof (Pillar 12)</h2>
        <div class="stat-row"><span class="label">Total Scoring Runs</span><span class="value">${o.totalRuns}</span></div>
        <div class="stat-row"><span class="label">Unique Input Sets</span><span class="value">${o.uniqueInputSets}</span></div>
        <div class="stat-row"><span class="label">Deterministic Sets</span><span class="value green">${o.deterministicSets}</span></div>
        <div class="stat-row"><span class="label">Non-Deterministic Sets</span><span class="value ${o.nonDeterministicSets>0?"red":"green"}">${o.nonDeterministicSets}</span></div>
        <div class="stat-row">
          <span class="label">Determinism Rate</span>
          <span class="value" style="font-size:1.1rem;color:${o.reproducibilityRate>=.95?"#3fb950":o.reproducibilityRate>=.8?"#d29922":"#f85149"};">
            ${(o.reproducibilityRate*100).toFixed(1)}%
          </span>
        </div>
        ${o.nonDeterministicRounds.length>0?`
        <h3 style="margin-top:0.8rem;font-size:0.8rem;color:#8b949e;">Non-Deterministic Rounds</h3>
        <p style="font-size:0.75rem;color:#f85149;margin-top:0.3rem;">${o.nonDeterministicRounds.slice(0,5).join(", ")}</p>
        `:'<p style="margin-top:0.8rem;font-size:0.78rem;color:#3fb950;">All runs are fully deterministic.</p>'}
      </div>
    </div>

    <!-- Cross-Model Comparison -->
    <h2 class="section-title">Cross-Model Comparison (Pillar 12)</h2>
    <div class="two-col">
      <div class="card">
        <h2>Aggregate Comparison Stats</h2>
        <div class="stat-row"><span class="label">Entries Recorded</span><span class="value">${n.totalEntriesRecorded}</span></div>
        <div class="stat-row"><span class="label">Agents Tracked</span><span class="value">${n.agentCount}</span></div>
        <div class="stat-row"><span class="label">Rounds Compared</span><span class="value">${n.roundsCompared}</span></div>
        <div class="stat-row"><span class="label">Avg Herding Score</span><span class="value">${(n.avgHerdingScore*100).toFixed(0)}%</span></div>
        <div class="stat-row"><span class="label">Avg Reasoning Similarity</span><span class="value">${(n.avgJaccardSimilarity*100).toFixed(1)}%</span></div>
        <div class="stat-row"><span class="label">Action Agreement Rate</span><span class="value">${(n.actionAgreementRate*100).toFixed(0)}%</span></div>
        <div class="stat-row"><span class="label">Avg Confidence Delta</span><span class="value">${(n.avgConfidenceDelta*100).toFixed(1)}%</span></div>
      </div>

      <div class="card">
        <h2>Systematic Disagreements</h2>
        ${i.systematicDisagreements.length>0?`
        <table>
          <thead><tr><th>Agent Pair</th><th>Disagree Rate</th><th>Top Symbols</th></tr></thead>
          <tbody>${l}</tbody>
        </table>`:'<p style="color:#484f58;font-size:0.8rem;font-style:italic;">No disagreements recorded yet. Rounds will populate this section.</p>'}
        <div class="stat-row" style="margin-top:0.8rem;"><span class="label">Total Rounds Analyzed</span><span class="value">${i.totalRoundsAnalyzed}</span></div>
      </div>
    </div>

    <!-- Model Fingerprints -->
    <h2 class="section-title">Model Fingerprints</h2>
    <div class="three-col">
      ${c}
    </div>

    <!-- Brain Feed -->
    <div class="brain-feed">
      <h2>Live Reasoning Feed</h2>
      <ul id="brain-feed-list">
        <li class="placeholder">Listening for live reasoning events via SSE...</li>
      </ul>
    </div>

    <!-- Methodology -->
    <div class="methodology">
      <h2>Methodology: 12-Pillar Scoring Framework</h2>
      <ol>
        <li><strong>Financial (13%)</strong> &mdash; P&amp;L, Sharpe ratio, win rate, max drawdown</li>
        <li><strong>Reasoning (12%)</strong> &mdash; Coherence, depth, logical consistency</li>
        <li><strong>Safety (10%)</strong> &mdash; Hallucination-free rate, trading discipline</li>
        <li><strong>Calibration (9%)</strong> &mdash; ECE, Brier score, monotonic quartiles</li>
        <li><strong>Patterns (6%)</strong> &mdash; Fallacy detection, cognitive bias recognition</li>
        <li><strong>Adaptability (6%)</strong> &mdash; Cross-regime performance, regime shift handling</li>
        <li><strong>Forensic Quality (8%)</strong> &mdash; Structure, originality, analytical clarity</li>
        <li><strong>Validation Quality (8%)</strong> &mdash; Source grounding, factual depth</li>
        <li><strong>Prediction Accuracy (7%)</strong> &mdash; Direction accuracy, target precision, resolution quality</li>
        <li><strong>Reasoning Stability (6%)</strong> &mdash; Sentiment volatility, conviction flip rate</li>
        <li><strong>Provenance Integrity (8%)</strong> &mdash; Cryptographic proof of pre-trade reasoning, chain validity, cross-agent witnesses</li>
        <li><strong>Model Comparison (7%)</strong> &mdash; Cross-model fingerprinting, bias asymmetry, reasoning divergence</li>
      </ol>
    </div>
  </div>

  <div class="footer">
    <p>MoltApp v15 &mdash; Industry-Standard AI Trading Benchmark</p>
    <p><a href="https://www.patgpt.us">patgpt.us</a> | <a href="https://huggingface.co/datasets/patruff/molt-benchmark">HuggingFace Dataset</a></p>
    <p style="margin-top:0.5rem;">12-Pillar Scoring: Financial, Reasoning, Safety, Calibration, Patterns, Adaptability, Forensic, Validation, Prediction, Stability, Provenance, Model Comparison</p>
    <p style="margin-top:0.3rem;">Citation: MoltApp Benchmark v15 (2025). Multi-agent LLM Trading Evaluation with Provenance Proofs. <a href="https://www.patgpt.us">patgpt.us</a></p>
  </div>

  <script>
    // Auto-refresh every 45 seconds
    setTimeout(function() { location.reload(); }, 45000);

    // SSE live feed
    (function() {
      try {
        var es = new EventSource(location.pathname.replace(/\\/$/, '') + '/stream');
        var list = document.getElementById('brain-feed-list');
        es.onmessage = function(e) {
          try {
            var d = JSON.parse(e.data);
            var li = document.createElement('li');
            var ts = d.timestamp ? new Date(d.timestamp).toLocaleTimeString() : '';
            li.textContent = '[' + ts + '] ' + (d.type || 'event') + (d.agentId ? ' (' + d.agentId + ')' : '') + ': ' + JSON.stringify(d);
            if (list.firstChild && list.firstChild.className === 'placeholder') list.innerHTML = '';
            list.insertBefore(li, list.firstChild);
            while (list.children.length > 50) list.removeChild(list.lastChild);
          } catch(ex) {}
        };
      } catch(ex) {}
    })();
  </script>
</body>
</html>`;return t.html(u)});_ue.get("/data",t=>{let e=net(),r=mue(),n=gue(),i=hue(),o=vue(),s={};for(let a of Sue)s[a]=fue(a);return t.json({ok:!0,benchmark:"moltapp-v15",pillars:[{name:"Financial",weight:.13,description:"P&L, Sharpe, Win Rate, Drawdown"},{name:"Reasoning",weight:.12,description:"Coherence, Depth, Consistency"},{name:"Safety",weight:.1,description:"Hallucination-Free, Discipline"},{name:"Calibration",weight:.09,description:"ECE, Brier, Monotonic Quartiles"},{name:"Patterns",weight:.06,description:"Fallacy Detection, Vocabulary"},{name:"Adaptability",weight:.06,description:"Cross-Regime Performance"},{name:"Forensic Quality",weight:.08,description:"Structure, Originality, Clarity"},{name:"Validation Quality",weight:.08,description:"Depth, Sources, Grounding"},{name:"Prediction Accuracy",weight:.07,description:"Direction accuracy, target precision"},{name:"Reasoning Stability",weight:.06,description:"Sentiment vol, conviction flip rate"},{name:"Provenance Integrity",weight:.08,description:"Cryptographic pre-trade reasoning proof"},{name:"Model Comparison",weight:.07,description:"Cross-model fingerprinting, divergence"}],leaderboard:e,provenanceStats:r,crossModelStats:n,divergenceReport:{systematicDisagreements:i.systematicDisagreements,biasAsymmetries:i.biasAsymmetries,herdingTrend:i.herdingTrend,totalRoundsAnalyzed:i.totalRoundsAnalyzed},reproducibilityReport:o,fingerprints:s,timestamp:new Date().toISOString()})});_ue.get("/stream",t=>{let e=new ReadableStream({start(r){m$.add(r);let n=`data: ${JSON.stringify({type:"connected",benchmark:"moltapp-v15",pillars:12})}

`;r.enqueue(new TextEncoder().encode(n))},cancel(r){m$.delete(r)}});return new Response(e,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});var iet=new Map,set=new Map,xue=new Map,yWt=200;function aet(t){let e=iet.get(t);return e||(e={coherence:[],hallucinationFree:[],discipline:[],confidence:[],outcomes:[],wordCounts:[],quantClaims:[],hedgeWords:[],regimeActions:[],sentimentScores:[],intents:[],depths:[],forensicScores:[],validationScores:[],predictionCorrect:[],provenanceValid:[],modelComparisonScores:[]},iet.set(t,e)),e}function ss(t,e){t.push(e),t.length>yWt&&t.shift()}function Os(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}function Wi(t){return t.length>0?t.reduce((e,r)=>e+r,0)/t.length:.5}function oet(t){if(t.length<2)return 0;let e=Wi(t);return Math.sqrt(t.reduce((r,n)=>r+(n-e)**2,0)/t.length)}function f$(t){return t.length>0?t.filter(Boolean).length/t.length:.5}var bWt=[/\bperhaps\b/i,/\bmaybe\b/i,/\bmight\b/i,/\bcould\b/i,/\bpossibly\b/i,/\buncertain\b/i,/\bnot\s+sure\b/i,/\bhowever\b/i,/\bon\s+the\s+other\s+hand\b/i,/\brisk\s+of\b/i,/\bcaveat\b/i,/\bdownside\s+scenario\b/i,/\bif\s+wrong\b/i,/\bstop[\s-]loss\b/i,/\bworst[\s-]case\b/i,/\bcontrary\b/i,/\balternatively\b/i,/\blimited\s+data\b/i,/\binsufficient\b/i];function vWt(t){let e=0;for(let r of bWt)r.test(t)&&e++;return e}function cet(t){let e=(t.match(/\$[\d,.]+/g)??[]).length,r=(t.match(/[\d.]+%/g)??[]).length,n=(t.match(/\d+:\d+/g)??[]).length,i=(t.match(/\b\d+\.?\d*\s*(shares?|units?|days?|weeks?|months?)\b/gi)??[]).length;return e+r+n+i}function _Wt(t){let e=.5;if(t.hedgeWords.length>=5&&t.confidence.length>=5){let s=t.hedgeWords.slice(-20),a=t.confidence.slice(-20),c=Math.min(s.length,a.length);if(c>=3){let l=0;for(let u=0;u<c;u++)(s[u]>2&&a[u]<.6||s[u]<=1&&a[u]>.7)&&l++;e=Math.min(1,l/c+.2)}}let r=.5;if(t.confidence.length>=5&&t.outcomes.length>=5){let s=Math.min(t.confidence.length,t.outcomes.length),a=0;for(let c=t.confidence.length-s;c<t.confidence.length;c++){let l=c-(t.confidence.length-t.outcomes.length);if(l<0||l>=t.outcomes.length)continue;let u=t.confidence[c]>=.7,d=t.outcomes[l];(u&&d||!u&&!d)&&a++}r=a/s}let n=.5;if(t.hedgeWords.length>=5&&t.coherence.length>=5){let s=Math.min(t.hedgeWords.length,t.coherence.length),a=0;for(let c=0;c<s;c++){let l=t.hedgeWords.length-s+c,u=t.coherence.length-s+c;t.coherence[u]<.5&&t.hedgeWords[l]>=2&&a++,t.coherence[u]>.7&&t.hedgeWords[l]<=1&&a++}n=a/s}let i=.5;if(t.regimeActions.length>=10){let s=new Map;for(let c of t.regimeActions){let l=s.get(c.regime)??{actions:[],successes:0,total:0};l.actions.push(c.action),l.total++,c.success&&l.successes++,s.set(c.regime,l)}let a=s.size;if(a>=2){let c=Array.from(s.values()).reduce((l,u)=>{let d=new Set(u.actions).size;return l+d/Math.max(1,u.actions.length)},0)/a;i=Math.min(1,c+.3)}}let o=e*.3+r*.3+n*.2+i*.2;return{uncertaintyCalibration:Math.round(e*1e3)/1e3,confidenceAccuracy:Math.round(r*1e3)/1e3,hedgingAppropriacy:Math.round(n*1e3)/1e3,regimeAdaptation:Math.round(i*1e3)/1e3,composite:Math.round(o*1e3)/1e3}}var SWt=[/\bas\s+mentioned\b/i,/\bas\s+we\s+can\s+see\b/i,/\bit\s+is\s+worth\s+noting\b/i,/\bin\s+conclusion\b/i,/\boverall\b/i,/\bthat\s+being\s+said\b/i,/\blet\s+me\s+analyze\b/i,/\bI\s+will\s+now\b/i,/\blooking\s+at\s+the\s+data\b/i,/\bbased\s+on\s+(?:the\s+)?above\b/i,/\btaking\s+(?:all\s+)?(?:this|these)\s+into\s+(?:account|consideration)\b/i,/\bit\s+(?:is\s+)?important\s+to\s+note\b/i,/\bgiven\s+the\s+current\b/i],wWt=[/P\/E\s+ratio/i,/EPS/i,/revenue\s+growth/i,/support\s+(?:level|at)/i,/resistance\s+(?:level|at)/i,/moving\s+average/i,/RSI/i,/MACD/i,/volume\s+profile/i,/market\s+cap/i,/dividend\s+yield/i,/beta/i,/sector\s+rotation/i,/correlation/i,/volatility/i,/liquidity/i,/spread/i,/momentum\s+indicator/i,/Sharpe\s+ratio/i,/drawdown/i,/VaR/i,/earnings\s+(?:growth|beat|miss|surprise)/i,/guidance/i,/margin\s+expansion/i,/free\s+cash\s+flow/i,/balance\s+sheet/i,/debt[\s-]to[\s-]equity/i,/book\s+value/i,/Fibonacci/i,/Bollinger/i,/stochastic/i,/head\s+and\s+shoulders/i,/cup\s+and\s+handle/i,/double\s+(?:top|bottom)/i,/breakout\s+(?:above|below)/i];function xWt(t){let e=t.split(/\s+/).length;if(e===0)return{informationDensity:0,claimDensity:0,originalityPerWord:0,quantitativeRatio:0,composite:0};let r=0;for(let f of wWt)f.test(t)&&r++;let n=Math.min(1,r/(e*.03+1)),i=0;for(let f of SWt)f.test(t)&&i++;let o=i/Math.max(1,r+i),s=Math.max(0,1-o),a=t.toLowerCase().split(/\s+/),c=new Set,l=[];for(let f=0;f<a.length-1;f++){let y=`${a[f]}_${a[f+1]}`;c.add(y),l.push(y)}let u=l.length>0?c.size/l.length:0,d=cet(t),p=t.split(/[.!?]+/).filter(f=>f.trim().length>0).length,m=Math.min(1,d/Math.max(1,p)*.5),h=n*.3+s*.25+u*.25+m*.2;return{informationDensity:Math.round(n*1e3)/1e3,claimDensity:Math.round(s*1e3)/1e3,originalityPerWord:Math.round(u*1e3)/1e3,quantitativeRatio:Math.round(m*1e3)/1e3,composite:Math.round(h*1e3)/1e3}}var Ns={financial:.12,reasoning:.11,safety:.09,calibration:.08,patterns:.05,adaptability:.05,forensicQuality:.08,validationQuality:.08,predictionAccuracy:.06,reasoningStability:.05,provenanceIntegrity:.06,modelComparison:.05,metacognition:.07,efficiency:.05};function uet(t,e){let r=aet(t);ss(r.coherence,e.coherence),ss(r.hallucinationFree,e.hallucinationFree),ss(r.discipline,e.discipline?1:0),ss(r.confidence,e.confidence);let n=e.reasoning.split(/\s+/).length;ss(r.wordCounts,n),ss(r.quantClaims,cet(e.reasoning)),ss(r.hedgeWords,vWt(e.reasoning)),e.depth!==void 0&&ss(r.depths,e.depth),e.forensicScore!==void 0&&ss(r.forensicScores,e.forensicScore),e.validationScore!==void 0&&ss(r.validationScores,e.validationScore),e.outcome!==void 0&&ss(r.outcomes,e.outcome),e.predictionCorrect!==void 0&&ss(r.predictionCorrect,e.predictionCorrect),e.provenanceValid!==void 0&&ss(r.provenanceValid,e.provenanceValid),e.modelComparisonScore!==void 0&&ss(r.modelComparisonScores,e.modelComparisonScore),e.regime&&ss(r.regimeActions,{regime:e.regime,action:e.action,success:e.outcome??e.coherence>.5}),ss(r.sentimentScores,e.coherence*2-1)}function det(t){let e=aet(t),r=e.coherence.length,n=[],i=Wi(e.outcomes.map(V=>V?.7:.3));n.push({name:"financial",score:i,weight:Ns.financial,grade:Os(i),components:{winRate:f$(e.outcomes)},explanation:`Win rate: ${(f$(e.outcomes)*100).toFixed(0)}%`});let o=Wi(e.coherence);n.push({name:"reasoning",score:o,weight:Ns.reasoning,grade:Os(o),components:{avgCoherence:Wi(e.coherence),depthAvg:Wi(e.depths)},explanation:`Avg coherence: ${Wi(e.coherence).toFixed(3)}`});let s=Wi(e.hallucinationFree);n.push({name:"safety",score:s,weight:Ns.safety,grade:Os(s),components:{hallucinationFreeRate:Wi(e.hallucinationFree),disciplineRate:Wi(e.discipline)},explanation:`Hallucination-free: ${(Wi(e.hallucinationFree)*100).toFixed(0)}%, Discipline: ${(Wi(e.discipline)*100).toFixed(0)}%`});let a=oet(e.confidence),c=Math.max(0,1-a*2);n.push({name:"calibration",score:c,weight:Ns.calibration,grade:Os(c),components:{confidenceStdDev:a,avgConfidence:Wi(e.confidence)},explanation:`Confidence variance: ${a.toFixed(3)}`});let l=Wi(e.depths.length>0?e.depths:[.5]);n.push({name:"patterns",score:l,weight:Ns.patterns,grade:Os(l),components:{depthAvg:Wi(e.depths)},explanation:`Avg depth score: ${l.toFixed(3)}`});let u=new Set(e.intents),d=Math.min(1,u.size/4*.5+.3);n.push({name:"adaptability",score:d,weight:Ns.adaptability,grade:Os(d),components:{intentDiversity:u.size},explanation:`${u.size} distinct intents used`});let p=Wi(e.forensicScores.length>0?e.forensicScores:[.5]);n.push({name:"forensicQuality",score:p,weight:Ns.forensicQuality,grade:Os(p),components:{avgForensic:p},explanation:`Avg forensic: ${p.toFixed(3)}`});let m=Wi(e.validationScores.length>0?e.validationScores:[.5]);n.push({name:"validationQuality",score:m,weight:Ns.validationQuality,grade:Os(m),components:{avgValidation:m},explanation:`Avg validation: ${m.toFixed(3)}`});let h=f$(e.predictionCorrect);n.push({name:"predictionAccuracy",score:h,weight:Ns.predictionAccuracy,grade:Os(h),components:{accuracy:h},explanation:`Prediction correct: ${(h*100).toFixed(0)}%`});let f=oet(e.sentimentScores),y=Math.max(0,1-f);n.push({name:"reasoningStability",score:y,weight:Ns.reasoningStability,grade:Os(y),components:{sentimentStdDev:f},explanation:`Sentiment volatility: ${f.toFixed(3)}`});let v=f$(e.provenanceValid);n.push({name:"provenanceIntegrity",score:v,weight:Ns.provenanceIntegrity,grade:Os(v),components:{validRate:v},explanation:`Provenance valid: ${(v*100).toFixed(0)}%`});let _=Wi(e.modelComparisonScores.length>0?e.modelComparisonScores:[.5]);n.push({name:"modelComparison",score:_,weight:Ns.modelComparison,grade:Os(_),components:{avgScore:_},explanation:`Cross-model independence: ${_.toFixed(3)}`});let x=_Wt(e);n.push({name:"metacognition",score:x.composite,weight:Ns.metacognition,grade:Os(x.composite),components:{uncertaintyCalibration:x.uncertaintyCalibration,confidenceAccuracy:x.confidenceAccuracy,hedgingAppropriacy:x.hedgingAppropriacy,regimeAdaptation:x.regimeAdaptation},explanation:`Self-awareness: ${x.composite.toFixed(3)} \u2014 uncertainty=${x.uncertaintyCalibration.toFixed(2)}, accuracy=${x.confidenceAccuracy.toFixed(2)}`});let E=(e.wordCounts.length>0,""),I={informationDensity:Wi(e.quantClaims.map((V,j)=>Math.min(1,V/Math.max(1,(e.wordCounts[j]??50)*.03+1)))),claimDensity:.7,originalityPerWord:.6,quantitativeRatio:Wi(e.quantClaims.map(V=>Math.min(1,V*.15))),composite:0};I.composite=I.informationDensity*.3+I.claimDensity*.25+I.originalityPerWord*.25+I.quantitativeRatio*.2,n.push({name:"efficiency",score:I.composite,weight:Ns.efficiency,grade:Os(I.composite),components:{informationDensity:I.informationDensity,quantitativeRatio:I.quantitativeRatio},explanation:`Signal-to-noise: ${I.composite.toFixed(3)}`});let N=n.reduce((V,j)=>V+j.score*j.weight,0),L=Math.round(N*1e3)/1e3,B=xue.get(t)??0,P={agentId:t,composite:L,grade:Os(L),pillars:n,rank:0,rankChange:0,tradeCount:r,lastUpdated:new Date().toISOString(),metacognition:x,efficiency:I};return set.set(t,P),P}function AWt(){let t=Array.from(set.values());t.sort((e,r)=>r.composite-e.composite);for(let e=0;e<t.length;e++){let r=xue.get(t[e].agentId)??e+1;t[e].rank=e+1,t[e].rankChange=r-(e+1),xue.set(t[e].agentId,e+1)}return t}function h$(){return AWt()}function pet(t){return xWt(t)}function g$(){return{...Ns}}var y$=new Map,EWt=300,RWt=[{pattern:/\bI('m|\s+am)\s+not\s+(entirely\s+)?sure\b/i,label:"explicit uncertainty"},{pattern:/\buncertain(?:ty)?\b/i,label:"uncertainty marker"},{pattern:/\bhard\s+to\s+(?:say|predict|tell)\b/i,label:"difficulty acknowledgement"},{pattern:/\blimited\s+(?:data|information|visibility)\b/i,label:"data limitation"},{pattern:/\binsufficient\s+(?:evidence|data)\b/i,label:"evidence gap"},{pattern:/\bcould\s+go\s+either\s+way\b/i,label:"ambiguity acknowledgement"},{pattern:/\bmixed\s+signals?\b/i,label:"conflicting data"},{pattern:/\bnot\s+(?:fully\s+)?convinced\b/i,label:"doubt expression"},{pattern:/\bconfidence\s+is\s+(?:low|moderate|limited)\b/i,label:"explicit low confidence"},{pattern:/\bdifficult\s+(?:market|conditions|environment)\b/i,label:"environment difficulty"}],TWt=[/\b(?:my|I)\s+(?:analysis|view|assessment|opinion|thesis|strategy)\b/i,/\b(?:my|I)\s+(?:previous|earlier|last)\s+(?:trade|decision|position)\b/i,/\b(?:I|my)\s+(?:was|were)\s+(?:wrong|incorrect|mistaken)\b/i,/\b(?:I|my)\s+(?:should\s+have|could\s+have)\b/i,/\b(?:adjusting|revising|updating)\s+my\b/i,/\blearned\s+(?:from|that)\b/i,/\b(?:my|I)\s+(?:bias|tendency|pattern)\b/i],IWt=[/\b(?:I\s+)?(?:can'?t|cannot|don'?t)\s+(?:predict|know|see|determine)\b/i,/\bbeyond\s+(?:my|the)\s+(?:ability|scope|capacity)\b/i,/\bnot\s+enough\s+(?:data|information|evidence)\b/i,/\bno\s+clear\s+(?:signal|trend|direction|catalyst)\b/i,/\black(?:ing)?\s+(?:of\s+)?(?:clarity|certainty|conviction)\b/i,/\bwithout\s+(?:more|additional|further)\s+(?:data|information)\b/i],CWt=[/\bif\s+.+(?:then|,)\b/i,/\bunless\b/i,/\bprovided\s+that\b/i,/\bassuming\b/i,/\bcontingent\s+(?:on|upon)\b/i,/\bshould\s+.+(?:then|,)\b/i,/\bin\s+case\b/i,/\bdepending\s+on\b/i];function met(t){let e=t.reasoning,r=[];for(let{pattern:u,label:d}of RWt)u.test(e)&&r.push(d);let n=[];for(let u of TWt){let d=e.match(u);d&&n.push(d[0])}let i=[];for(let u of IWt){let d=e.match(u);d&&i.push(d[0])}let o=0;for(let u of CWt)u.test(e)&&o++;let s=[/\bperhaps\b/i,/\bmaybe\b/i,/\bmight\b/i,/\bcould\b/i,/\bpossibly\b/i,/\bprobably\b/i,/\blikely\b/i,/\btend\s+to\b/i,/\bgenerally\b/i,/\btypically\b/i,/\bsomewhat\b/i,/\bslightly\b/i,/\bapparently\b/i],a=0;for(let u of s)u.test(e)&&a++;let c={...t,hedgeCount:a,uncertaintyExpressions:r,selfReferences:n,limitationAcknowledgements:i,conditionalsCount:o},l=y$.get(t.agentId);return l||(l=[],y$.set(t.agentId,l)),l.push(c),l.length>EWt&&l.shift(),c}function OWt(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}function NWt(t){let e=y$.get(t);if(!e||e.length===0)return null;let r=e.length,n=e.reduce((Re,vr)=>Re+vr.hedgeCount,0)/r,i=e.filter(Re=>Re.uncertaintyExpressions.length>0).length/r,o=e.filter(Re=>Re.conditionalsCount>0).length/r,s=0,a=0;for(let Re of e)(Re.confidence<.5&&Re.hedgeCount>=2||Re.confidence>=.7&&Re.hedgeCount<=1)&&a++;s=Math.min(1,a/r*.5+i*.3+o*.2);let c={avgHedgeCount:Math.round(n*100)/100,uncertaintyRate:Math.round(i*1e3)/1e3,conditionalRate:Math.round(o*1e3)/1e3,examples:e.flatMap(Re=>Re.uncertaintyExpressions).slice(0,5)},l=e.filter(Re=>Re.wasCorrect!==void 0),u=.5,d=.5;if(l.length>=5){let Re=l.filter(sr=>sr.confidence>=.7),vr=l.filter(sr=>sr.confidence<.5);u=Re.length>0?Re.filter(sr=>sr.wasCorrect).length/Re.length:.5,d=vr.length>0?vr.filter(sr=>sr.wasCorrect).length/vr.length:.5}let p=Math.abs(u-d),m=l.length>0?l.filter(Re=>Re.confidence>=.7&&!Re.wasCorrect).length/Math.max(1,l.filter(Re=>Re.confidence>=.7).length):.3,h=u>d?Math.min(1,.5+p*2):Math.max(0,.5-p),f={highConfidenceAccuracy:Math.round(u*1e3)/1e3,lowConfidenceAccuracy:Math.round(d*1e3)/1e3,calibrationGap:Math.round(p*1e3)/1e3,overconfidenceRate:Math.round(m*1e3)/1e3},y=0,v=0,_=0,x=0;for(let Re=1;Re<e.length;Re++)e[Re-1].wasCorrect===!1&&(x++,e[Re].action!==e[Re-1].action&&y++,e[Re].confidence<e[Re-1].confidence&&v++,e[Re].symbol===e[Re-1].symbol&&e[Re].action===e[Re-1].action&&_++);let E=x>0?y/x*.4+v/x*.3+Math.max(0,1-_/x)*.3:.5,I={afterErrorActionChange:x>0?Math.round(y/x*1e3)/1e3:0,afterErrorConfidenceAdjust:x>0?Math.round(v/x*1e3)/1e3:0,repeatMistakeRate:x>0?Math.round(_/x*1e3)/1e3:0},N=e.filter(Re=>Re.limitationAcknowledgements.length>0).length/r,L=new Map;for(let Re of e)L.set(Re.symbol,(L.get(Re.symbol)??0)+1);let B=Array.from(L.entries()).sort((Re,vr)=>vr[1]-Re[1]).slice(0,5).map(([Re])=>Re),P=L.size>0?Math.max(...L.values())/r:0,V=Math.min(1,N*.4+(1-P)*.3+Math.min(1,L.size/5)*.3),j={limitationMentionRate:Math.round(N*1e3)/1e3,topSymbols:B,symbolConcentration:Math.round(P*1e3)/1e3},ee=e.map(Re=>Re.intent),O=new Set(ee),b=Math.min(1,O.size/4),S=0,R=0;for(let Re=1;Re<e.length;Re++)e[Re-1].wasCorrect===!1&&(R++,e[Re].intent!==e[Re-1].intent&&S++);let k=e.slice(0,Math.floor(r/2)).reduce((Re,vr)=>Re+vr.confidence,0),F=e.slice(Math.floor(r/2)).reduce((Re,vr)=>Re+vr.confidence,0),q=Math.floor(r/2)||1,K=r-q||1,z=1-Math.abs(k/q-F/K),A=b*.3+(R>0?S/R:.5)*.35+Math.max(0,z)*.35,W={intentChangeAfterLoss:R>0?Math.round(S/R*1e3)/1e3:0,confidenceAdaptation:Math.round(Math.max(0,z)*1e3)/1e3,strategyDiversity:Math.round(b*1e3)/1e3},xe=s*.25+h*.25+E*.2+V*.15+A*.15,ge=e.slice(0,q),ke=e.slice(q),Ye=ge.reduce((Re,vr)=>Re+vr.hedgeCount+vr.conditionalsCount,0)/q,dt=ke.reduce((Re,vr)=>Re+vr.hedgeCount+vr.conditionalsCount,0)/K,ut=dt-Ye,ot=ut>.5?"improving":ut<-.5?"declining":"stable",bt=`Metacognition markers ${ot}: ${Ye.toFixed(1)} (early) -> ${dt.toFixed(1)} (recent)`;return{agentId:t,tradeCount:r,lastUpdated:new Date().toISOString(),overallScore:Math.round(xe*1e3)/1e3,grade:OWt(xe),epistemicHumility:Math.round(s*1e3)/1e3,calibrationAwareness:Math.round(h*1e3)/1e3,errorRecognition:Math.round(E*1e3)/1e3,scopeLimitation:Math.round(V*1e3)/1e3,adaptiveStrategy:Math.round(A*1e3)/1e3,humilityEvidence:c,calibrationEvidence:f,errorEvidence:I,scopeEvidence:j,adaptationEvidence:W,trend:ot,trendDetail:bt}}function Aue(){let t=[];for(let e of y$.keys()){let r=NWt(e);r&&t.push(r)}return t.sort((e,r)=>r.overallScore-e.overallScore),t}var Tg={analyticalBreadth:.18,evidenceSpecificity:.16,causalChain:.14,riskAwareness:.12,temporalReasoning:.1,comparativeAnalysis:.1,quantitativeRigor:.12,thesisStructure:.08},PWt={valuation:[/P\/E\s+ratio/i,/price[\s-]to[\s-](?:earnings|book|sales)/i,/undervalued|overvalued/i,/intrinsic\s+value/i,/fair\s+value|price\s+target/i,/multiple\s+expansion/i,/EV\/EBITDA/i,/DCF/i,/book\s+value/i],technical:[/moving\s+average|SMA|EMA/i,/RSI|relative\s+strength/i,/MACD/i,/Bollinger\s+Band/i,/support\s+(?:level|at)/i,/resistance\s+(?:level|at)/i,/breakout/i,/chart\s+pattern/i,/volume\s+(?:spike|surge|profile|analysis)/i,/Fibonacci/i,/stochastic/i,/divergence/i,/momentum\s+indicator/i,/candlestick/i,/trend\s*line/i,/golden\s+cross/i,/death\s+cross/i,/head\s+and\s+shoulders/i],fundamental:[/revenue\s+(?:growth|decline|beat|miss)/i,/earnings\s+(?:growth|beat|miss|surprise)/i,/profit\s+margin/i,/free\s+cash\s+flow/i,/balance\s+sheet/i,/debt[\s-]to[\s-]equity/i,/ROE|return\s+on\s+equity/i,/guidance/i,/margin\s+(?:expansion|compression)/i,/operating\s+(?:income|expenses)/i,/cost\s+(?:cutting|reduction)/i],macro:[/interest\s+rate/i,/Fed|Federal\s+Reserve/i,/inflation/i,/GDP|gross\s+domestic/i,/unemployment/i,/CPI/i,/monetary\s+policy/i,/fiscal\s+(?:policy|stimulus)/i,/recession/i,/economic\s+(?:growth|slowdown|cycle)/i,/Treasury|bond\s+yield/i,/dollar\s+(?:strength|weakness)/i],sentiment:[/market\s+sentiment/i,/investor\s+(?:confidence|fear|greed)/i,/VIX|fear\s+index/i,/put[\s-]call\s+ratio/i,/short\s+interest/i,/retail\s+(?:investor|trader)/i,/institutional\s+(?:buying|selling)/i,/insider\s+(?:buying|selling)/i,/social\s+media\s+sentiment/i,/fear\s+and\s+greed/i],sector:[/sector\s+(?:rotation|performance|comparison)/i,/industry\s+(?:trend|comparison|leader)/i,/peer\s+(?:group|comparison|performance)/i,/market\s+share/i,/competitive\s+(?:advantage|landscape|position)/i,/moat|barrier\s+to\s+entry/i,/TAM|total\s+addressable\s+market/i],risk:[/risk[\s-]reward/i,/downside\s+(?:risk|scenario|protection)/i,/stop[\s-]loss/i,/position\s+sizing/i,/portfolio\s+(?:concentration|diversification)/i,/worst[\s-]case/i,/tail\s+risk/i,/hedg/i,/maximum\s+(?:drawdown|loss)/i,/risk\s+management/i],catalyst:[/earnings\s+(?:call|report|season)/i,/product\s+launch/i,/FDA\s+(?:approval|decision)/i,/merger|acquisition|M&A/i,/IPO/i,/stock\s+(?:split|buyback)/i,/dividend/i,/regulation|regulatory/i,/partnership|collaboration/i,/patent/i,/clinical\s+trial/i,/new\s+contract/i],portfolio:[/portfolio\s+(?:allocation|weight|balance|rebalancing)/i,/position\s+(?:size|limit|management)/i,/cash\s+(?:buffer|reserve|allocation)/i,/concentration\s+risk/i,/diversif/i,/allocation\s+(?:target|limit)/i,/exposure|overexposed|underexposed/i],timing:[/entry\s+point|exit\s+(?:point|strategy)/i,/time\s+horizon/i,/short[\s-]term|medium[\s-]term|long[\s-]term/i,/holding\s+period/i,/swing\s+trade|day\s+trade/i,/dollar[\s-]cost\s+averag/i,/scaling\s+(?:in|out)/i,/patience|wait\s+for/i]},kWt=[/\bbecause\b/i,/\btherefore\b/i,/\bdue\s+to\b/i,/\bas\s+a\s+result\b/i,/\bconsequently\b/i,/\bthis\s+(?:means|suggests|implies|indicates)\b/i,/\bleading\s+to\b/i,/\bcaused\s+by\b/i,/\bdriven\s+by\b/i,/\bif\s+.+\s+then\b/i,/\bgiven\s+that\b/i,/\bwhich\s+(?:means|suggests|would)\b/i,/\bfor\s+this\s+reason\b/i,/\bhence\b/i],DWt=[/\brisk\b/i,/\bdownside\b/i,/\bworst[\s-]case\b/i,/\bcould\s+(?:fall|decline|drop)\b/i,/\bif\s+(?:wrong|incorrect)\b/i,/\bstop[\s-]loss\b/i,/\bhedg/i,/\bvolatil/i,/\buncertain/i,/\bcaveat/i,/\bwarn/i,/\blimit\s+(?:losses|downside|exposure)\b/i,/\bprotect/i,/\bdefensive/i,/\bcounterargument/i,/\bon\s+the\s+other\s+hand\b/i,/\bcontrary\s+(?:evidence|argument|view)\b/i],MWt=[/\bshort[\s-]term\b/i,/\bmedium[\s-]term\b/i,/\blong[\s-]term\b/i,/\bnext\s+(?:week|month|quarter|year|earnings)\b/i,/\bwithin\s+\d+\s+(?:day|week|month)/i,/\btime\s+horizon\b/i,/\bholding\s+period\b/i,/\bby\s+(?:year|quarter)[\s-]end\b/i,/\b(?:24h|48h|72h|1[\s-]week|2[\s-]week|1[\s-]month)/i,/\bhistoric/i,/\bseasonality/i,/\brecent(?:ly)?\b/i,/\bprevious(?:ly)?\b/i,/\bover\s+the\s+past\b/i],$Wt=[/\bcompared\s+to\b/i,/\bversus\b/i,/\bvs\.?\b/i,/\brelative\s+to\b/i,/\boutperform/i,/\bunderperform/i,/\bbetter\s+than\b/i,/\bworse\s+than\b/i,/\balternative\b/i,/\binstead\s+of\b/i,/\bwhile\s+.+\s+on\s+the\s+other\b/i,/\bwhereas\b/i,/\bin\s+contrast\b/i,/\brather\s+than\b/i];function LWt(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}function fet(t){let e=t.split(/\s+/).filter(ot=>ot.length>0),r=e.length,i=t.split(/[.!?]+/).filter(ot=>ot.trim().length>0).length,o=i>0?r/i:0,s=new Set(e.map(ot=>ot.toLowerCase())),a=r>0?s.size/r:0,c=(t.match(/\?/g)??[]).length,l=[];for(let[ot,bt]of Object.entries(PWt))for(let Re of bt)if(Re.test(t)){l.push(ot);break}let d={score:Math.min(1,l.length/5),weight:Tg.analyticalBreadth,evidence:l.map(ot=>`Covers ${ot} analysis`)},p=(t.match(/\$[\d,.]+|[\d.]+%|\d+\.\d+|\d{4,}/g)??[]).length,m=(t.match(/\b[A-Z]{2,5}x?\b/g)??[]).length,h=p+m,y={score:Math.min(1,h/(r*.08+1)),weight:Tg.evidenceSpecificity,evidence:[`${p} numeric references, ${m} symbol references`]},v=0,_=[];for(let ot of kWt){let bt=t.match(ot);bt&&(v++,_.push(bt[0]))}let E={score:Math.min(1,v/4),weight:Tg.causalChain,evidence:_.slice(0,5)},I=0,N=[];for(let ot of DWt){let bt=t.match(ot);bt&&(I++,N.push(bt[0]))}let B={score:Math.min(1,I/4),weight:Tg.riskAwareness,evidence:N.slice(0,5)},P=0,V=[];for(let ot of MWt){let bt=t.match(ot);bt&&(P++,V.push(bt[0]))}let ee={score:Math.min(1,P/3),weight:Tg.temporalReasoning,evidence:V.slice(0,5)},O=0,b=[];for(let ot of $Wt){let bt=t.match(ot);bt&&(O++,b.push(bt[0]))}let R={score:Math.min(1,O/3),weight:Tg.comparativeAnalysis,evidence:b.slice(0,5)},F={score:Math.min(1,p/(i*.3+1)),weight:Tg.quantitativeRigor,evidence:[`${p} quantitative claims across ${i} sentences`]},q=/\b(?:thesis|believe|position|view|strategy|approach|decision)\b/i.test(t),K=p>=2||v>=1,z=/\b(?:therefore|thus|consequently|conclusion|accordingly|decision|action)\b/i.test(t),W={score:(q?.35:0)+(K?.35:0)+(z?.3:0),weight:Tg.thesisStructure,evidence:[q?"Has thesis statement":"Missing thesis",K?"Has supporting evidence":"Missing evidence",z?"Has conclusion":"Missing conclusion"].filter(ot=>!ot.startsWith("Missing"))},xe={analyticalBreadth:d,evidenceSpecificity:y,causalChain:E,riskAwareness:B,temporalReasoning:ee,comparativeAnalysis:R,quantitativeRigor:F,thesisStructure:W},ge=Object.values(xe).reduce((ot,bt)=>ot+bt.score*bt.weight,0),ke;ge>=.8?ke="exceptional":ge>=.55?ke="deep":ge>=.3?ke="moderate":ke="shallow";let Ye=Object.entries(xe);Ye.sort((ot,bt)=>bt[1].score-ot[1].score);let dt=Ye[0][0],ut=Ye[Ye.length-1][0];return{overall:Math.round(ge*1e3)/1e3,classification:ke,grade:LWt(ge),dimensions:xe,textMetrics:{wordCount:r,sentenceCount:i,avgSentenceLength:Math.round(o*10)/10,uniqueWordRatio:Math.round(a*1e3)/1e3,questionCount:c},anglesDetected:l,strongestDimension:dt,weakestDimension:ut}}var b$=new sn,Su=[],het=200;function get(t,e,r){let n={type:t,data:e,agentId:r,timestamp:new Date().toISOString()};Su.unshift(n),Su.length>het&&(Su.length=het)}b$.get("/data",t=>{let e=h$(),r=Aue(),n=g$();return t.json({ok:!0,version:"v16",pillarCount:14,timestamp:new Date().toISOString(),weights:n,leaderboard:e.map(i=>({...i,metacognitionReport:r.find(o=>o.agentId===i.agentId)??null})),recentEvents:Su.slice(0,20)})});b$.get("/stream",t=>{let e=new TextEncoder,r=new ReadableStream({start(n){for(let a of Su.slice(0,10))n.enqueue(e.encode(`data: ${JSON.stringify(a)}

`));let i=setInterval(()=>{try{n.enqueue(e.encode(`data: ${JSON.stringify({type:"heartbeat",timestamp:new Date().toISOString()})}

`))}catch{clearInterval(i)}},3e4),o=Su.length,s=setInterval(()=>{try{if(Su.length>0&&o!==Su.length){let a=Su.slice(0,Su.length-o);for(let c of a)n.enqueue(e.encode(`data: ${JSON.stringify(c)}

`));o=Su.length}}catch{clearInterval(s),clearInterval(i)}},5e3)}});return new Response(r,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive","Access-Control-Allow-Origin":"*"}})});b$.get("/export",t=>{let e=t.req.query("format")??"jsonl",r=h$(),n=Aue(),i=r.map(s=>({agent_id:s.agentId,composite:s.composite,grade:s.grade,rank:s.rank,trade_count:s.tradeCount,pillar_scores:Object.fromEntries(s.pillars.map(a=>[a.name,a.score])),metacognition:s.metacognition,efficiency:s.efficiency,metacognition_report:n.find(a=>a.agentId===s.agentId)??null,timestamp:s.lastUpdated}));if(e==="csv"){let s=["agent_id","composite","grade","rank","trade_count",...Object.keys(g$()),"metacognition_composite","efficiency_composite"],a=i.map(l=>[l.agent_id,l.composite,l.grade,l.rank,l.trade_count,...Object.values(l.pillar_scores),l.metacognition.composite,l.efficiency.composite].join(",")),c=[s.join(","),...a].join(`
`);return new Response(c,{headers:{"Content-Type":"text/csv","Content-Disposition":"attachment; filename=moltapp-v16-benchmark.csv"}})}let o=i.map(s=>JSON.stringify(s)).join(`
`);return new Response(o,{headers:{"Content-Type":"application/x-ndjson","Content-Disposition":"attachment; filename=moltapp-v16-benchmark.jsonl"}})});b$.get("/",t=>{let e=h$(),r=g$(),n=e.map(s=>{let a=s.rankChange>0?"&#9650;":s.rankChange<0?"&#9660;":"&#9679;",c=s.rankChange>0?"#22c55e":s.rankChange<0?"#ef4444":"#6b7280",l=s.grade.startsWith("A")?"#22c55e":s.grade.startsWith("B")?"#3b82f6":s.grade.startsWith("C")?"#eab308":"#ef4444",u=s.pillars.map(d=>`<td style="background:${d.score>=.75?"rgba(34,197,94,0.15)":d.score>=.5?"rgba(234,179,8,0.15)":"rgba(239,68,68,0.15)"};text-align:center;padding:6px;font-size:13px;" title="${d.name}: ${d.explanation}">${d.score.toFixed(2)}</td>`).join("");return`<tr>
      <td style="text-align:center;padding:8px;font-weight:bold;">${s.rank}</td>
      <td style="padding:8px;">
        <span style="color:${c};font-size:11px;">${a}</span>
        <strong>${s.agentId}</strong>
      </td>
      <td style="text-align:center;padding:8px;font-size:18px;font-weight:bold;color:${l};">${s.grade}</td>
      <td style="text-align:center;padding:8px;font-weight:bold;">${s.composite.toFixed(3)}</td>
      ${u}
      <td style="text-align:center;padding:8px;font-size:13px;">${s.tradeCount}</td>
    </tr>`}).join(""),o=`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>MoltApp Benchmark v16 \u2014 14-Pillar AI Trading Intelligence</title>
  <meta name="description" content="Industry-standard AI trading benchmark. 14-pillar scoring with metacognition analysis, reasoning efficiency, and advanced depth scoring.">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #0a0a0a; color: #e5e5e5; }
    .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
    .header { text-align: center; margin-bottom: 30px; padding: 30px 0; border-bottom: 1px solid #333; }
    .header h1 { font-size: 28px; margin-bottom: 8px; }
    .header h1 span { color: #f97316; }
    .header p { color: #999; font-size: 14px; }
    .badges { display: flex; gap: 10px; justify-content: center; margin-top: 15px; flex-wrap: wrap; }
    .badge { display: inline-flex; align-items: center; gap: 6px; padding: 5px 12px; border-radius: 9999px; font-size: 12px; font-weight: 600; border: 1px solid #333; }
    .badge.hf { background: rgba(255,213,51,0.1); border-color: rgba(255,213,51,0.3); color: #ffd533; }
    .badge.live { background: rgba(34,197,94,0.1); border-color: rgba(34,197,94,0.3); color: #22c55e; }
    .badge.pillars { background: rgba(59,130,246,0.1); border-color: rgba(59,130,246,0.3); color: #3b82f6; }
    .badge.new { background: rgba(168,85,247,0.1); border-color: rgba(168,85,247,0.3); color: #a855f7; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; font-size: 14px; }
    th { background: #1a1a1a; padding: 8px; text-align: left; font-size: 12px; color: #999; border-bottom: 2px solid #333; }
    td { padding: 8px; border-bottom: 1px solid #222; }
    tr:hover td { background: rgba(255,255,255,0.03); }
    .section { margin-top: 40px; }
    .section h2 { font-size: 20px; margin-bottom: 15px; border-left: 3px solid #f97316; padding-left: 12px; }
    .cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px; margin-top: 15px; }
    .card { background: #1a1a1a; border: 1px solid #333; border-radius: 8px; padding: 16px; }
    .card h3 { font-size: 14px; color: #f97316; margin-bottom: 8px; }
    .card p { font-size: 13px; color: #999; line-height: 1.5; }
    .metric { display: flex; justify-content: space-between; padding: 4px 0; }
    .metric-label { color: #888; font-size: 12px; }
    .metric-value { font-weight: bold; font-size: 13px; }
    .new-tag { background: #a855f7; color: white; font-size: 10px; padding: 2px 6px; border-radius: 4px; font-weight: 600; margin-left: 6px; }
    .footer { text-align: center; margin-top: 40px; padding: 20px 0; border-top: 1px solid #333; color: #666; font-size: 12px; }
    a { color: #3b82f6; text-decoration: none; }
    a:hover { text-decoration: underline; }
    @media (max-width: 768px) { .container { padding: 10px; } table { font-size: 12px; } }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1><span>MoltApp</span> AI Trading Benchmark v16</h1>
      <p>Industry-standard evaluation of AI agents trading real tokenized stocks on Solana</p>
      <div class="badges">
        <span class="badge hf">&#129303; HuggingFace: patruff/molt-benchmark</span>
        <span class="badge live">&#9679; Live on patgpt.us</span>
        <span class="badge pillars">14 Scoring Pillars</span>
        <span class="badge new">NEW: Metacognition + Efficiency</span>
      </div>
    </div>

    <h2 style="font-size:18px;margin-bottom:10px;">Agent Leaderboard</h2>
    <div style="overflow-x:auto;">
      <table>
        <thead>
          <tr>
            <th style="text-align:center;">Rank</th>
            <th>Agent</th>
            <th style="text-align:center;">Grade</th>
            <th style="text-align:center;">Composite</th>
            ${Object.keys(r).map(s=>{let a=s.replace(/([A-Z])/g," $1").trim().split(" ").map(c=>c[0]).join("").toUpperCase();return`<th style="text-align:center;padding:6px;font-size:11px;max-width:60px;writing-mode:vertical-lr;transform:rotate(180deg);" title="${s} (${(r[s]*100).toFixed(0)}%)">${a}<br><span style="color:#888;font-size:9px;">${(r[s]*100).toFixed(0)}%</span></th>`}).join("")}
            <th style="text-align:center;">Trades</th>
          </tr>
        </thead>
        <tbody>
          ${n||'<tr><td colspan="18" style="text-align:center;padding:20px;color:#666;">No scoring data yet. Run trading rounds to populate the benchmark.</td></tr>'}
        </tbody>
      </table>
    </div>

    <div class="section">
      <h2>v16 New Pillars</h2>
      <div class="cards">
        <div class="card">
          <h3>Metacognition <span class="new-tag">NEW</span></h3>
          <p>Does the agent know what it knows? Measures epistemic humility, calibration awareness, error recognition, scope limitation, and adaptive strategy.</p>
          <div style="margin-top:10px;">
            <div class="metric"><span class="metric-label">Epistemic Humility</span><span class="metric-value">25%</span></div>
            <div class="metric"><span class="metric-label">Calibration Awareness</span><span class="metric-value">25%</span></div>
            <div class="metric"><span class="metric-label">Error Recognition</span><span class="metric-value">20%</span></div>
            <div class="metric"><span class="metric-label">Scope Limitation</span><span class="metric-value">15%</span></div>
            <div class="metric"><span class="metric-label">Adaptive Strategy</span><span class="metric-value">15%</span></div>
          </div>
        </div>
        <div class="card">
          <h3>Reasoning Efficiency <span class="new-tag">NEW</span></h3>
          <p>Signal-to-noise ratio in reasoning text. Rewards dense analytical content per word, penalizes verbose filler and boilerplate.</p>
          <div style="margin-top:10px;">
            <div class="metric"><span class="metric-label">Information Density</span><span class="metric-value">30%</span></div>
            <div class="metric"><span class="metric-label">Claim Density</span><span class="metric-value">25%</span></div>
            <div class="metric"><span class="metric-label">Originality Per Word</span><span class="metric-value">25%</span></div>
            <div class="metric"><span class="metric-label">Quantitative Ratio</span><span class="metric-value">20%</span></div>
          </div>
        </div>
        <div class="card">
          <h3>14-Pillar Composite Scoring</h3>
          <p>Unified scoring engine combining financial performance, reasoning quality, safety, calibration, patterns, adaptability, forensics, validation, predictions, stability, provenance, model comparison, metacognition, and efficiency.</p>
          <div style="margin-top:10px;">
            <div class="metric"><span class="metric-label">Total Pillars</span><span class="metric-value">14</span></div>
            <div class="metric"><span class="metric-label">Grade Scale</span><span class="metric-value">A+ to F</span></div>
            <div class="metric"><span class="metric-label">Window Size</span><span class="metric-value">200 trades</span></div>
          </div>
        </div>
      </div>
    </div>

    <div class="section">
      <h2>API Endpoints</h2>
      <div class="cards">
        <div class="card">
          <h3>Dashboard &amp; Data</h3>
          <p>
            <code>/benchmark-v16</code> \u2014 This dashboard<br>
            <code>/benchmark-v16/data</code> \u2014 JSON leaderboard<br>
            <code>/benchmark-v16/stream</code> \u2014 SSE live events<br>
            <code>/benchmark-v16/export</code> \u2014 JSONL/CSV export
          </p>
        </div>
        <div class="card">
          <h3>v16 API</h3>
          <p>
            <code>/api/v1/benchmark-v16/scores</code> \u2014 All agent scores<br>
            <code>/api/v1/benchmark-v16/score/:id</code> \u2014 Agent score<br>
            <code>/api/v1/benchmark-v16/metacognition</code> \u2014 Reports<br>
            <code>/api/v1/benchmark-v16/metacognition/:id</code> \u2014 Agent<br>
            <code>/api/v1/benchmark-v16/depth/:id</code> \u2014 Depth analysis<br>
            <code>/api/v1/benchmark-v16/efficiency</code> \u2014 Efficiency<br>
            <code>/api/v1/benchmark-v16/schema</code> \u2014 Schema
          </p>
        </div>
      </div>
    </div>

    <div class="footer">
      <p>MoltApp Benchmark v16 &middot; <a href="https://www.patgpt.us">patgpt.us</a> &middot; <a href="https://huggingface.co/datasets/patruff/molt-benchmark">HuggingFace Dataset</a> &middot; Built for the Colosseum Agent Hackathon</p>
    </div>
  </div>
  <script>
    // Auto-refresh every 45 seconds
    setTimeout(() => location.reload(), 45000);
  </script>
</body>
</html>`;return t.html(o)});var ab={financial:.11,reasoning:.1,safety:.08,calibration:.07,patterns:.05,adaptability:.05,forensic_quality:.07,validation_quality:.07,prediction_accuracy:.06,reasoning_stability:.05,provenance_integrity:.06,model_comparison:.05,metacognition:.06,reasoning_efficiency:.04,forensic_ledger:.04,strategy_genome:.04},Ig=new Map,yet=new Map,vet=null,_et=null,BWt=Date.now();function bet(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}function UWt(t,e){if(t.length<4)return"stable";let r=t.slice(-5),n=t.slice(-10,-5);if(n.length===0)return"stable";let i=r.reduce((a,c)=>a+(c.scores[e]??0),0)/r.length,o=n.reduce((a,c)=>a+(c.scores[e]??0),0)/n.length,s=i-o;return s>.05?"improving":s<-.05?"declining":"stable"}function wet(t,e,r,n,i,o){vet=i,_et=new Date().toISOString();let s=yet.get(t)??[];s.push({timestamp:Date.now(),scores:n}),s.length>200&&s.splice(0,s.length-200),yet.set(t,s);let a=Object.entries(ab).map(([m,h])=>{let f=Math.max(0,Math.min(1,n[m]??.5));return{name:m,score:f,weight:h,components:{raw:n[m]??.5},grade:bet(f),trend:UWt(s,m),confidence:Math.min(1,s.length/20)}}),c=a.reduce((m,h)=>m+h.score*h.weight,0),l=[...a].sort((m,h)=>h.score-m.score),u=l.slice(0,3).map(m=>`${m.name}: ${m.score.toFixed(2)} (${m.grade})`),d=l.slice(-3).map(m=>`${m.name}: ${m.score.toFixed(2)} (${m.grade})`),p=Ig.get(t);Ig.set(t,{agentId:t,provider:e,model:r,composite:c,grade:bet(c),rank:0,pillars:a,strengths:u,weaknesses:d,tradeCount:(p?.tradeCount??0)+(o??1),dataQuality:Math.min(1,s.length/50),lastUpdated:new Date().toISOString(),eloRating:p?.eloRating??1500,streak:p?.streak??{type:"neutral",length:0}})}function xet(t){let r=[...t].sort((n,i)=>i.composite-n.composite);for(let n=0;n<r.length;n++)for(let i=n+1;i<r.length;i++){let o=Ig.get(r[n].agentId),s=Ig.get(r[i].agentId);if(!o||!s)continue;let a=1/(1+Math.pow(10,(s.eloRating-o.eloRating)/400)),c=r[n].composite>r[i].composite?1:r[n].composite===r[i].composite?.5:0;o.eloRating=Math.round(o.eloRating+32*(c-a)),s.eloRating=Math.round(s.eloRating+32*(1-c-(1-a)))}if(r.length>0){let n=Ig.get(r[0].agentId);n&&(n.streak.type==="win"?n.streak.length++:n.streak={type:"win",length:1});for(let i=1;i<r.length;i++){let o=Ig.get(r[i].agentId);o&&(o.streak.type==="loss"?o.streak.length++:o.streak={type:"loss",length:1})}}}function Fd(){let t=[...Ig.values()].sort((e,r)=>r.composite-e.composite);return t.forEach((e,r)=>{e.rank=r+1}),t}function Cg(){let t=[...Ig.values()],e=[],r=[];for(let[i]of Object.entries(ab))t.some(s=>s.pillars.find(a=>a.name===i&&a.confidence>.3))||r.push(i);r.length>0&&e.push(`${r.length} pillars have insufficient data coverage`);for(let i of t)i.dataQuality<.3&&e.push(`${i.agentId} has low data quality (${(i.dataQuality*100).toFixed(0)}%)`);let n={};for(let i of Object.keys(ab)){let o=t.filter(s=>s.pillars.find(a=>a.name===i&&a.score>0)).length;n[i]=t.length>0?o/t.length:0}return{version:"v17",totalAgents:t.length,totalTrades:t.reduce((i,o)=>i+o.tradeCount,0),avgDataQuality:t.length>0?t.reduce((i,o)=>i+o.dataQuality,0)/t.length:0,pillarCoverage:n,stalePillars:r,lastRoundId:vet,lastRoundTimestamp:_et,uptime:Date.now()-BWt,warnings:e}}function v$(){let t=Fd();return{metadata:{version:"v17",exportedAt:new Date().toISOString(),totalRecords:t.reduce((e,r)=>e+r.tradeCount,0),agents:t.map(e=>e.agentId),pillarCount:Object.keys(ab).length},agents:t,health:Cg()}}import{createHash as Eet}from"crypto";var fr=[],Aet=5e3;function Ret(t){let e=JSON.stringify({entryId:t.entryId,sequenceNumber:t.sequenceNumber,previousHash:t.previousHash,agentId:t.agentId,roundId:t.roundId,action:t.action,symbol:t.symbol,reasoning:t.reasoning,confidence:t.confidence,timestamp:t.timestamp});return Eet("sha256").update(e).digest("hex")}function FWt(t){let e=Object.entries(t).sort(([r],[n])=>r.localeCompare(n));return Eet("sha256").update(JSON.stringify(e)).digest("hex")}function Tet(t){let e=fr.length,r=fr.length>0?fr[fr.length-1].entryHash:"genesis",n=`le_${Date.now()}_${Math.random().toString(36).slice(2,8)}`,i=t.marketPrices[t.symbol]??t.marketPrices[t.symbol.toLowerCase()]??null,o={entryId:n,sequenceNumber:e,previousHash:r,agentId:t.agentId,roundId:t.roundId,action:t.action,symbol:t.symbol,quantity:t.quantity,reasoning:t.reasoning,confidence:t.confidence,intent:t.intent,sources:t.sources,predictedOutcome:t.predictedOutcome,marketSnapshotHash:FWt(t.marketPrices),priceAtTrade:i,coherenceScore:t.coherenceScore,hallucinationFlags:t.hallucinationFlags,disciplinePass:t.disciplinePass,depthScore:t.depthScore,forensicScore:t.forensicScore,efficiencyScore:t.efficiencyScore,outcomeResolved:!1,outcomeCorrect:null,pnlPercent:null,outcomeTimestamp:null,witnesses:t.witnesses,timestamp:new Date().toISOString(),benchmarkVersion:"v17"},s=Ret(o),a={...o,entryHash:s};return fr.push(a),fr.length>Aet&&fr.splice(0,fr.length-Aet),a}function _$(){if(fr.length===0)return{intact:!0,brokenAt:null,totalChecked:0,genesisHash:"empty",latestHash:"empty"};for(let t=0;t<fr.length;t++){let e=fr[t],{entryHash:r,...n}=e;if(Ret(n)!==r)return{intact:!1,brokenAt:t,totalChecked:t+1,genesisHash:fr[0].entryHash,latestHash:fr[fr.length-1].entryHash};if(t>0&&e.previousHash!==fr[t-1].entryHash)return{intact:!1,brokenAt:t,totalChecked:t+1,genesisHash:fr[0].entryHash,latestHash:fr[fr.length-1].entryHash}}return{intact:!0,brokenAt:null,totalChecked:fr.length,genesisHash:fr[0].entryHash,latestHash:fr[fr.length-1].entryHash}}function ZR(){let t={};for(let r of fr)t[r.agentId]||(t[r.agentId]={entries:0,avgCoherence:0,avgDepth:0,hallucinationRate:0,outcomeResolvedRate:0,outcomeAccuracyRate:0}),t[r.agentId].entries++;for(let[r,n]of Object.entries(t)){let i=fr.filter(s=>s.agentId===r);n.avgCoherence=i.reduce((s,a)=>s+a.coherenceScore,0)/i.length,n.avgDepth=i.reduce((s,a)=>s+a.depthScore,0)/i.length,n.hallucinationRate=i.filter(s=>s.hallucinationFlags.length>0).length/i.length;let o=i.filter(s=>s.outcomeResolved);n.outcomeResolvedRate=o.length/i.length,n.outcomeAccuracyRate=o.length>0?o.filter(s=>s.outcomeCorrect).length/o.length:0}let e=_$();return{totalEntries:fr.length,chainIntact:e.intact,agentBreakdown:t,lastEntryHash:fr.length>0?fr[fr.length-1].entryHash:"empty",lastSequence:fr.length>0?fr[fr.length-1].sequenceNumber:-1,oldestEntry:fr.length>0?fr[0].timestamp:null,newestEntry:fr.length>0?fr[fr.length-1].timestamp:null}}var Iet=new Map,XR=new Map,Cet=300;function zWt(t){let e=t.filter(c=>c.action!=="hold"),r=1-e.length/Math.max(1,t.length),n=e.length>0?e.reduce((c,l)=>c+l.quantity,0)/e.length:0,i=e.filter(c=>c.confidence>.7).length,o=Math.min(1,(1-r)*.4+Math.min(1,n/2e3)*.3+i/Math.max(1,e.length)*.3),s=[];s.push(`Hold rate: ${(r*100).toFixed(0)}%`),s.push(`Avg trade size: ${n.toFixed(0)}`),s.push(`High-confidence trades: ${i}/${e.length}`);let a="cautious";return o>.7?a="aggressive":o>.4&&(a="moderate"),{name:"risk_appetite",score:o,phenotype:a,evidence:s,sampleSize:t.length}}function VWt(t){let e=t.filter(p=>p.action!=="hold");if(e.length<3)return{name:"conviction",score:.5,phenotype:"undetermined",evidence:["Insufficient data"],sampleSize:e.length};let r=e.map(p=>({conf:p.confidence,qty:p.quantity})),n=r.reduce((p,m)=>p+m.conf,0)/r.length,i=r.reduce((p,m)=>p+m.qty,0)/r.length,o=0,s=0,a=0;for(let p of r){let m=p.conf-n,h=p.qty-i;o+=m*h,s+=m*m,a+=h*h}let c=s>0&&a>0?o/(Math.sqrt(s)*Math.sqrt(a)):0,l=Math.max(0,Math.min(1,(c+1)/2)),u=[];u.push(`Confidence-size correlation: ${c.toFixed(3)}`),u.push(`Avg confidence: ${(n*100).toFixed(0)}%`);let d="inconsistent";return l>.65?d="high_conviction":l>.4&&(d="moderate_conviction"),{name:"conviction",score:l,phenotype:d,evidence:u,sampleSize:e.length}}function jWt(t){let e=t.filter(a=>a.pnlAfter!==null);if(e.length<5)return{name:"adaptability",score:.5,phenotype:"undetermined",evidence:["Insufficient outcome data"],sampleSize:e.length};let r=0,n=0;for(let a=1;a<e.length;a++){let c=e[a-1],l=e[a];if(c.pnlAfter!==null&&c.pnlAfter<0){n++;let u=l.action!==c.action,d=Math.abs(l.confidence-c.confidence)>.1,p=l.intent!==c.intent;(u||d||p)&&r++}}let i=n>0?r/n:.5,o=[];o.push(`Behavior changes after loss: ${r}/${n}`),o.push(`Adaptation rate: ${(i*100).toFixed(0)}%`);let s="rigid";return i>.6?s="adaptive":i>.3&&(s="semi_adaptive"),{name:"adaptability",score:i,phenotype:s,evidence:o,sampleSize:e.length}}function qWt(t){let e=t.filter(s=>s.consensusAction!==null&&s.action!=="hold");if(e.length<3)return{name:"contrarianism",score:.5,phenotype:"undetermined",evidence:["Insufficient consensus data"],sampleSize:e.length};let r=e.filter(s=>s.action!==s.consensusAction).length,n=r/e.length,i=[];i.push(`Went against consensus: ${r}/${e.length}`),i.push(`Contrarian rate: ${(n*100).toFixed(0)}%`);let o="conformist";return n>.6?o="contrarian":n>.3&&(o="independent"),{name:"contrarianism",score:n,phenotype:o,evidence:i,sampleSize:e.length}}function HWt(t){let e=t.reduce((a,c)=>a+c.coherenceScore,0)/Math.max(1,t.length),r=t.filter(a=>a.hallucinationCount>0).length/Math.max(1,t.length),n=t.reduce((a,c)=>a+c.reasoning.split(/\s+/).length,0)/Math.max(1,t.length),i=Math.min(1,e*.4+(1-r)*.3+Math.min(1,n/100)*.3),o=[];o.push(`Avg coherence: ${e.toFixed(2)}`),o.push(`Hallucination rate: ${(r*100).toFixed(0)}%`),o.push(`Avg reasoning length: ${n.toFixed(0)} words`);let s="shallow_processor";return i>.7?s="deep_processor":i>.4&&(s="moderate_processor"),{name:"information_processing",score:i,phenotype:s,evidence:o,sampleSize:t.length}}function WWt(t){let e=[/short[\s-]term/i,/long[\s-]term/i,/near[\s-]term/i,/next\s+(week|month|quarter|year)/i,/within\s+\d+\s+(day|week|hour)/i,/holding\s+period/i,/time\s+horizon/i,/temporary|transient/i,/sustainable|structural/i,/cycle|seasonal/i],r=0;for(let s of t)for(let a of e)if(a.test(s.reasoning)){r++;break}let n=Math.min(1,r/Math.max(1,t.length)),i=[];i.push(`Temporal reasoning mentions: ${r}/${t.length} trades`);let o="time_blind";return n>.6?o="temporally_aware":n>.3&&(o="occasionally_temporal"),{name:"temporal_awareness",score:n,phenotype:o,evidence:i,sampleSize:t.length}}function GWt(t){if(t.length<5)return{name:"emotional_regulation",score:.5,phenotype:"undetermined",evidence:["Insufficient data"],sampleSize:t.length};let e=Math.sqrt(t.reduce((o,s)=>{let a=t.reduce((c,l)=>c+l.confidence,0)/t.length;return o+(s.confidence-a)**2},0)/t.length),r=Math.max(0,1-e*3),n=[];n.push(`Confidence std dev: ${e.toFixed(3)}`);let i="volatile";return r>.6?i="regulated":r>.3&&(i="semi_regulated"),{name:"emotional_regulation",score:r,phenotype:i,evidence:n,sampleSize:t.length}}function KWt(t){if(t.length<10)return{name:"learning_rate",score:.5,phenotype:"undetermined",evidence:["Insufficient data"],sampleSize:t.length};let e=Math.floor(t.length/2),r=t.slice(0,e),n=t.slice(e),i=r.reduce((u,d)=>u+d.coherenceScore,0)/r.length,o=n.reduce((u,d)=>u+d.coherenceScore,0)/n.length,s=o-i,a=Math.max(0,Math.min(1,.5+s*2)),c=[];c.push(`First half coherence: ${i.toFixed(3)}`),c.push(`Second half coherence: ${o.toFixed(3)}`),c.push(`Improvement: ${s>0?"+":""}${(s*100).toFixed(1)}%`);let l="static_learner";return a>.6?l="fast_learner":a>.4&&(l="slow_learner"),{name:"learning_rate",score:a,phenotype:l,evidence:c,sampleSize:t.length}}function YWt(t,e){let r=[zWt(e),VWt(e),jWt(e),qWt(e),HWt(e),WWt(e),GWt(e),KWt(e)],i=r.map(l=>l.score.toFixed(4)).join(","),o=[...r].sort((l,u)=>u.score-l.score),s=`${o[0].name}:${o[0].phenotype}`,a=XR.get(t),c=.5;if(a){let l=a.genes.map(h=>h.score),u=r.map(h=>h.score),d=l.reduce((h,f,y)=>h+f*u[y],0),p=Math.sqrt(l.reduce((h,f)=>h+f*f,0)),m=Math.sqrt(u.reduce((h,f)=>h+f*f,0));c=p>0&&m>0?d/(p*m):.5}return{agentId:t,genes:r,genomeHash:i,similarity:{},dominantPhenotype:s,genomeStability:c,lastUpdated:new Date().toISOString(),tradesSampled:e.length}}function Oet(t){let e=Iet.get(t.agentId)??[];if(e.push(t),e.length>Cet&&e.splice(0,e.length-Cet),Iet.set(t.agentId,e),e.length%5===0||e.length<10){let r=YWt(t.agentId,e);for(let[n,i]of XR.entries()){if(n===t.agentId)continue;let o=JWt(r.genes.map(s=>s.score),i.genes.map(s=>s.score));r.similarity[n]=o,i.similarity[t.agentId]=o}XR.set(t.agentId,r)}}function JWt(t,e){if(t.length!==e.length||t.length===0)return 0;let r=t.reduce((o,s,a)=>o+s*e[a],0),n=Math.sqrt(t.reduce((o,s)=>o+s*s,0)),i=Math.sqrt(e.reduce((o,s)=>o+s*s,0));return n>0&&i>0?r/(n*i):0}function Eue(){return[...XR.values()]}function Net(t){let e=XR.get(t);if(!e)return .5;let r=[.1,.15,.15,.1,.2,.1,.1,.1];return e.genes.reduce((n,i,o)=>n+i.score*(r[o]??.125),0)}var S$=new sn,cb=[],Pet=200;function ket(t,e,r){cb.push({type:t,data:e,agentId:r,timestamp:Date.now()}),cb.length>Pet&&cb.splice(0,cb.length-Pet)}S$.get("/data",t=>{let e=Fd(),r=Cg(),n=ZR(),i=_$(),o=Eue();return t.json({ok:!0,version:"v17",timestamp:new Date().toISOString(),pillarCount:Object.keys(ab).length,pillarWeights:ab,rankings:e.map(s=>({rank:s.rank,agentId:s.agentId,provider:s.provider,model:s.model,composite:s.composite,grade:s.grade,eloRating:s.eloRating,streak:s.streak,tradeCount:s.tradeCount,dataQuality:s.dataQuality,pillars:s.pillars.map(a=>({name:a.name,score:a.score,grade:a.grade,weight:a.weight,trend:a.trend})),strengths:s.strengths,weaknesses:s.weaknesses})),health:r,ledger:{totalEntries:n.totalEntries,chainIntact:n.chainIntact,lastHash:n.lastEntryHash.slice(0,16)+"...",agentBreakdown:n.agentBreakdown},integrity:{intact:i.intact,totalChecked:i.totalChecked,genesisHash:i.genesisHash.slice(0,16)+"...",latestHash:i.latestHash.slice(0,16)+"..."},genomes:o.map(s=>({agentId:s.agentId,dominantPhenotype:s.dominantPhenotype,genomeStability:s.genomeStability,tradesSampled:s.tradesSampled,genes:s.genes.map(a=>({name:a.name,score:a.score,phenotype:a.phenotype})),similarity:s.similarity})),recentEvents:cb.slice(-20)})});S$.get("/stream",t=>{let e=0,r=new ReadableStream({start(n){let i=new TextEncoder;n.enqueue(i.encode(`data: ${JSON.stringify({type:"connected",version:"v17"})}

`));let o=setInterval(()=>{let s=cb.filter(a=>a.timestamp>e);for(let a of s)n.enqueue(i.encode(`data: ${JSON.stringify(a)}

`)),e=a.timestamp},2e3);setTimeout(()=>{clearInterval(o);try{n.close()}catch{}},3e5)}});return new Response(r,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});S$.get("/export",t=>{let e=v$();if((t.req.query("format")??"json")==="jsonl"){let n=e.agents.map(i=>JSON.stringify(i)).join(`
`);return new Response(n,{headers:{"Content-Type":"application/jsonl","Content-Disposition":"attachment; filename=moltapp-v17-benchmark.jsonl"}})}return t.json(e)});function QWt(t,e){let r=Math.round(t*100),n=t>=.8?"#22c55e":t>=.6?"#eab308":t>=.4?"#f97316":"#ef4444";return`<div style="margin:2px 0"><span style="display:inline-block;width:130px;font-size:11px;color:#94a3b8">${e}</span><div style="display:inline-block;width:120px;height:12px;background:#1e293b;border-radius:3px;overflow:hidden;vertical-align:middle"><div style="width:${r}%;height:100%;background:${n}"></div></div><span style="font-size:11px;color:${n};margin-left:4px">${r}%</span></div>`}function ZWt(t){return t.startsWith("A")?"#22c55e":t.startsWith("B")?"#3b82f6":t.startsWith("C")?"#eab308":t.startsWith("D")?"#f97316":"#ef4444"}function XWt(t){let e=t.pillars.map(n=>QWt(n.score,n.name)).join(""),r=ZWt(t.grade);return`
    <div style="background:#0f172a;border:1px solid #1e293b;border-radius:12px;padding:20px;margin:12px 0">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
        <div>
          <span style="font-size:24px;font-weight:700;color:${r}">#${t.rank}</span>
          <span style="font-size:18px;font-weight:600;color:#f1f5f9;margin-left:8px">${t.agentId}</span>
          <span style="font-size:12px;color:#64748b;margin-left:8px">${t.provider} / ${t.model}</span>
        </div>
        <div style="text-align:right">
          <div style="font-size:32px;font-weight:800;color:${r}">${t.grade}</div>
          <div style="font-size:14px;color:#94a3b8">${(t.composite*100).toFixed(1)}% composite</div>
          <div style="font-size:12px;color:#64748b">Elo: ${t.eloRating} | Trades: ${t.tradeCount}</div>
        </div>
      </div>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px">
        <div>${e}</div>
        <div style="padding-left:12px">
          <div style="font-size:12px;color:#22c55e;margin-bottom:4px">Strengths</div>
          ${t.strengths.map(n=>`<div style="font-size:11px;color:#94a3b8">+ ${n}</div>`).join("")}
          <div style="font-size:12px;color:#f97316;margin-top:8px;margin-bottom:4px">Weaknesses</div>
          ${t.weaknesses.map(n=>`<div style="font-size:11px;color:#94a3b8">- ${n}</div>`).join("")}
        </div>
      </div>
    </div>`}S$.get("/",t=>{let e=Fd(),r=Cg(),n=ZR(),i=_$(),o=Eue(),s=cb.slice(-10),a=e.map(XWt).join(""),c=o.map(d=>{let p=d.genes.map(m=>`<span style="display:inline-block;padding:2px 8px;margin:2px;border-radius:4px;font-size:11px;background:${m.score>=.6?"#14532d":m.score>=.4?"#713f12":"#7f1d1d"};color:${m.score>=.6?"#86efac":m.score>=.4?"#fcd34d":"#fca5a5"}">${m.name}: ${m.phenotype} (${(m.score*100).toFixed(0)}%)</span>`).join("");return`<div style="margin:8px 0"><strong style="color:#e2e8f0">${d.agentId}</strong> <span style="color:#64748b">stability: ${(d.genomeStability*100).toFixed(0)}%</span><br/>${p}</div>`}).join(""),l=s.length>0?s.map(d=>`<div style="padding:4px 0;border-bottom:1px solid #1e293b;font-size:11px"><span style="color:#3b82f6">${d.type}</span> <span style="color:#64748b">${d.agentId??""}</span> <span style="color:#94a3b8">${JSON.stringify(d.data).slice(0,120)}</span></div>`).join(""):'<div style="color:#64748b;font-size:12px">No events yet. Run a trading round to generate benchmark data.</div>',u=`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>MoltApp Benchmark v17 \u2014 AI Trading Intelligence</title>
  <meta name="description" content="Industry-standard AI trading benchmark with 16-pillar scoring, forensic ledger, and strategy genomes."/>
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{background:#020617;color:#e2e8f0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;min-height:100vh}
    .container{max-width:1200px;margin:0 auto;padding:20px}
    .header{text-align:center;padding:40px 0 20px}
    .header h1{font-size:36px;font-weight:800;background:linear-gradient(135deg,#3b82f6,#8b5cf6,#ec4899);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
    .badges{display:flex;gap:8px;justify-content:center;margin-top:12px;flex-wrap:wrap}
    .badge{display:inline-block;padding:4px 12px;border-radius:999px;font-size:12px;font-weight:600}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin:20px 0}
    .card{background:#0f172a;border:1px solid #1e293b;border-radius:12px;padding:16px}
    .card h3{font-size:14px;color:#94a3b8;margin-bottom:8px;text-transform:uppercase;letter-spacing:1px}
    .stat{font-size:28px;font-weight:700;color:#f1f5f9}
    .sub{font-size:12px;color:#64748b}
    @media(max-width:768px){.grid{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>MoltApp Benchmark v17</h1>
      <p style="color:#94a3b8;margin-top:8px">Industry-Standard AI Trading Intelligence Benchmark</p>
      <div class="badges">
        <span class="badge" style="background:#1e3a5f;color:#60a5fa">16 Pillars</span>
        <span class="badge" style="background:#3f1d5c;color:#c084fc">Forensic Ledger</span>
        <span class="badge" style="background:#1e3a2f;color:#86efac">Strategy Genomes</span>
        <span class="badge" style="background:#3f1d1d;color:#fca5a5">Live on Solana</span>
        <a href="https://huggingface.co/datasets/patruff/molt-benchmark" style="text-decoration:none"><span class="badge" style="background:#1a1a2e;color:#fbbf24">HuggingFace Dataset</span></a>
        <a href="https://www.patgpt.us" style="text-decoration:none"><span class="badge" style="background:#1a2e1a;color:#86efac">patgpt.us</span></a>
      </div>
    </div>

    <div class="grid">
      <div class="card">
        <h3>Benchmark Health</h3>
        <div class="stat">${r.totalAgents} Agents</div>
        <div class="sub">${r.totalTrades} total trades | Data quality: ${(r.avgDataQuality*100).toFixed(0)}%</div>
        <div class="sub">Uptime: ${Math.round(r.uptime/6e4)} min | ${r.warnings.length} warning(s)</div>
      </div>
      <div class="card">
        <h3>Forensic Ledger</h3>
        <div class="stat">${n.totalEntries} Entries</div>
        <div class="sub">Chain: ${i.intact?"INTACT":"BROKEN"} | Hash: ${n.lastEntryHash.slice(0,12)}...</div>
        <div class="sub">${i.totalChecked} hashes verified</div>
      </div>
    </div>

    <h2 style="font-size:20px;margin:24px 0 12px;color:#f1f5f9">Agent Rankings</h2>
    ${a||'<div style="color:#64748b;padding:20px;text-align:center">No agents scored yet. Run trading rounds to populate the benchmark.</div>'}

    <h2 style="font-size:20px;margin:24px 0 12px;color:#f1f5f9">Strategy Genomes</h2>
    <div class="card">
      ${c||'<div style="color:#64748b">Genome data populates as agents trade. Each agent develops a unique behavioral DNA profile.</div>'}
    </div>

    <h2 style="font-size:20px;margin:24px 0 12px;color:#f1f5f9">Live Event Feed</h2>
    <div class="card" style="max-height:300px;overflow-y:auto">
      ${l}
    </div>

    <div style="text-align:center;margin-top:40px;padding:20px;color:#64748b;font-size:12px">
      <p>MoltApp v17 \u2014 AI Trading Benchmark | <a href="/benchmark-v17/data" style="color:#3b82f6">API</a> | <a href="/benchmark-v17/stream" style="color:#3b82f6">Stream</a> | <a href="/benchmark-v17/export" style="color:#3b82f6">Export</a></p>
      <p style="margin-top:4px"><a href="https://huggingface.co/datasets/patruff/molt-benchmark" style="color:#fbbf24">HuggingFace Dataset</a> | <a href="https://www.patgpt.us" style="color:#86efac">patgpt.us</a></p>
    </div>
  </div>

  <script>
    // Auto-refresh data every 45 seconds
    setTimeout(() => location.reload(), 45000);
  </script>
</body>
</html>`;return t.html(u)});var w$=new Map,Det=new Map,Met=200;function eGt(t,e,r){if(!(e==="up"&&r==="negative"||e==="down"&&r==="positive"))return{conflictPresent:!1,agentAcknowledged:!1,score:1};let o=[/despite|although|however|nevertheless|contrary to|conflicting|mixed signals/i,/price.*(?:up|rising|gain).*(?:negative|bearish|concerning|worry)/i,/price.*(?:down|fall|decline).*(?:positive|bullish|favorable|good)/i,/diverge|disconnect|inconsistent|paradox|contradiction/i,/on one hand.*on the other/i,/risk.*reward/i].some(a=>a.test(t));return{conflictPresent:!0,agentAcknowledged:o,score:o?1:.3}}function tGt(t,e,r){let n=[],i=[/all.time\s+high/i,/52.week\s+(?:high|low)/i,/used\s+to\s+(?:be|trade)\s+at/i,/was\s+(?:once|previously)\s+(?:at\s+)?\$[\d,.]+/i,/down\s+\d+%\s+from\s+(?:its\s+)?(?:peak|high|ath)/i,/compared\s+to\s+(?:its\s+)?(?:previous|past|historical)/i];for(let d of i){let p=t.match(d);p&&n.push(p[0])}let s=[/current(?:ly)?\s+(?:at|trading|priced)/i,/today|this\s+session|right\s+now/i,/latest\s+(?:price|data|reading)/i,/as\s+of\s+(?:now|today)/i].some(d=>d.test(t)),a=t.match(/\$[\d,]+\.?\d*/g)??[],c=0,l=0;for(let d of a){let p=parseFloat(d.replace(/[$,]/g,""));p>0&&(Math.abs(p-e)/e<.2?c++:l++)}let u=1;return n.length>0&&!s&&(u-=.3),n.length>2&&(u-=.2),l>c&&a.length>0&&(u-=.15),{score:Math.max(0,Math.min(1,u)),anchoredReferences:n}}function rGt(t,e,r){let n=[],i=[];if(r.hasZeroVolume&&(/volume|liquid|thin|illiquid/i.test(t)?n.push("zero_volume_acknowledged"):i.push("zero_volume_ignored")),r.hasMissingData&&(/missing|unavailable|no data|insufficient|incomplete/i.test(t)?n.push("missing_data_acknowledged"):i.push("missing_data_ignored")),r.hasExtremeMove){let a=r.extremeMovePercent??0;/extreme|unusual|abnormal|volatile|spike|crash|surge|halt/i.test(t)?n.push(`extreme_move_${a>0?"up":"down"}_acknowledged`):i.push(`extreme_move_${Math.abs(a).toFixed(0)}pct_ignored`),e!=="hold"&&i.length>0&&i.push("traded_into_extreme_without_acknowledgment")}let o=n.length+i.length;return{score:o>0?n.length/o:1,handledEdgeCases:n,missedEdgeCases:i}}function nGt(t,e,r){let n=[],i=(t.match(/loss|lose|losing|lost|decline|drop|fall|crash/gi)??[]).length,o=(t.match(/gain|win|profit|rise|growth|rally|surge/gi)??[]).length,s=i+o;if(s>0){let d=i/s;d>.75&&e==="buy"&&n.push("loss_framing_with_buy_decision"),d<.25&&e==="sell"&&n.push("gain_framing_with_sell_decision")}[/just\s+(?:yesterday|today|recently)/i,/in\s+the\s+last\s+(?:few|24)\s+(?:hours|minutes)/i,/this\s+morning|this\s+afternoon/i].filter(d=>d.test(t)).length>=2&&n.push("heavy_recency_bias");let l=t.split(/\s+/).length;return r>.85&&l<40&&n.push("overconfident_with_thin_reasoning"),/already\s+invested|can't\s+sell\s+now|cost\s+basis|break\s+even/i.test(t)&&n.push("sunk_cost_language"),{score:Math.max(0,1-n.length*.2),framingBiasIndicators:n}}function $et(t,e,r,n,i,o,s){let a=eGt(e,s.priceDirection,s.newsDirection),c=tGt(e,o,n),l=rGt(e,r,s),u=nGt(e,r,i),d=[];!a.agentAcknowledged&&a.conflictPresent&&d.push("Missed conflicting signals between price and news");for(let m of c.anchoredReferences)d.push(`Anchored to historical: ${m}`);for(let m of l.missedEdgeCases)d.push(`Edge case missed: ${m}`);for(let m of u.framingBiasIndicators)d.push(`Framing bias: ${m}`);return{overallScore:Math.round((a.score*.25+c.score*.25+l.score*.25+u.score*.25)*1e3)/1e3,signalConflict:a,anchoring:c,edgeCases:l,framing:u,vulnerabilities:d}}function Let(t,e,r){let n=w$.get(t)??[];n.push({testId:`adv_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,agentId:t,testType:"signal_conflict",baselineReasoning:"",adversarialReasoning:"",baselineAction:"",adversarialAction:"",susceptibility:1-e.overallScore,vulnerabilities:e.vulnerabilities,adversarialAwareness:e.vulnerabilities.length===0,timestamp:new Date().toISOString()}),n.length>Met&&n.splice(0,n.length-Met),w$.set(t,n)}function Bet(t){let e=Det.get(t.agentId)??[];e.push(t),e.length>100&&e.splice(0,e.length-100),Det.set(t.agentId,e)}function Uet(t){let e=w$.get(t)??[];if(e.length===0)return{agentId:t,overallScore:.5,testCount:0,scores:{signalConflict:.5,anchoringResistance:.5,noiseSensitivity:.5,edgeCaseHandling:.5,framingConsistency:.5},topVulnerabilities:[],trend:"stable",lastUpdated:new Date().toISOString()};let r=e.reduce((d,p)=>d+p.susceptibility,0)/e.length,n=new Map;for(let d of e)for(let p of d.vulnerabilities)n.set(p,(n.get(p)??0)+1);let i=[...n.entries()].sort((d,p)=>p[1]-d[1]).slice(0,5).map(([d])=>d),o=Math.floor(e.length/2),s=e.slice(0,o),a=e.slice(o),c=s.length>0?s.reduce((d,p)=>d+p.susceptibility,0)/s.length:0,l=a.length>0?a.reduce((d,p)=>d+p.susceptibility,0)/a.length:0,u=l<c-.05?"improving":l>c+.05?"declining":"stable";return{agentId:t,overallScore:Math.round((1-r)*1e3)/1e3,testCount:e.length,scores:{signalConflict:.5,anchoringResistance:.5,noiseSensitivity:.5,edgeCaseHandling:.5,framingConsistency:.5},topVulnerabilities:i,trend:u,lastUpdated:new Date().toISOString()}}function Rue(){return[...w$.keys()].map(Uet)}function x$(t){return Uet(t).overallScore}var A$=new Map,Fet=500;function zet(t){let e=A$.get(t.agentId)??[];e.push(t),e.length>Fet&&e.splice(0,e.length-Fet),A$.set(t.agentId,e)}function iGt(t){let e=[],r=new Map;for(let s of t)if(s.wasCorrect===!1){let a=`${s.symbol}_${s.action}`,c=r.get(a)??[];c.push(s),r.set(a,c)}for(let[s,a]of r)if(a.length>=2){let[c,l]=s.split("_");e.push({type:"repeated_losing_trade",symbol:c,occurrences:a.length,firstSeen:a[0].timestamp,lastSeen:a[a.length-1].timestamp,description:`Agent keeps ${l}ing ${c} and losing (${a.length} times)`})}let n=new Map;for(let s of t)s.coherenceScore<.4&&n.set(s.symbol,(n.get(s.symbol)??0)+1);for(let[s,a]of n)a>=3&&e.push({type:"persistent_incoherence",symbol:s,occurrences:a,firstSeen:t.find(c=>c.symbol===s&&c.coherenceScore<.4)?.timestamp??"",lastSeen:[...t].reverse().find(c=>c.symbol===s&&c.coherenceScore<.4)?.timestamp??"",description:`Agent consistently produces low-coherence reasoning for ${s} (${a} times)`});let i=e.reduce((s,a)=>s+a.occurrences,0),o=t.length>0?Math.max(0,1-i/(t.length*.3)):.5;return{score:Math.round(o*1e3)/1e3,patterns:e}}function oGt(t){let e=0,r=0,n=new Map;for(let o of t){let s=n.get(o.symbol)??[];s.push(o),n.set(o.symbol,s)}for(let o of n.values())for(let s=1;s<o.length;s++){let a=o[s-1],c=o[s];if(a.wasCorrect===!1){r++;let l=c.action!==a.action,u=c.confidence<a.confidence-.05,d=c.intent!==a.intent;(l||u||d)&&e++}}let i=r>0?e/r:.5;return{score:Math.round(i*1e3)/1e3}}function sGt(t){if(t.length<10)return{score:.5};let e=Math.floor(t.length/2),r=t.slice(0,e),n=t.slice(e),i=new Map,o=new Map;for(let h of r)i.set(h.intent,(i.get(h.intent)??0)+1);for(let h of n)o.set(h.intent,(o.get(h.intent)??0)+1);let s=h=>{let f=[...h.values()].reduce((v,_)=>v+_,0);if(f===0)return 0;let y=0;for(let v of h.values()){let _=v/f;_>0&&(y-=_*Math.log2(_))}return y},a=s(i),l=s(o)-a,u=r.reduce((h,f)=>h+f.coherenceScore,0)/r.length,p=n.reduce((h,f)=>h+f.coherenceScore,0)/n.length-u,m=.5;return l>.1&&(m+=.15),l>.3&&(m+=.1),p>.05&&(m+=.15),p>.1&&(m+=.1),{score:Math.round(Math.min(1,Math.max(0,m))*1e3)/1e3}}function aGt(t){let e=new Map;for(let o of t){let s=e.get(o.symbol)??[];s.push(o),e.set(o.symbol,s)}let r=0,n=0;for(let o of e.values()){if(o.length<3)continue;n++;let s=Math.floor(o.length/2),a=o.slice(0,s).reduce((l,u)=>l+u.coherenceScore,0)/s;o.slice(s).reduce((l,u)=>l+u.coherenceScore,0)/(o.length-s)>a+.03&&r++}let i=n>0?r/n:.5;return{score:Math.round(Math.max(0,Math.min(1,i*.8+.2))*1e3)/1e3}}function cGt(t){let e=0,r=0;for(let i=1;i<t.length;i++){let o=t[i-1],s=t[i];o.wasCorrect===!1&&o.confidence>.6&&(r++,s.confidence<o.confidence-.05&&e++)}let n=r>0?e/r:.5;return{score:Math.round(Math.max(0,Math.min(1,n))*1e3)/1e3}}function Vet(t){let e=A$.get(t)??[];if(e.length<5)return{agentId:t,memoryScore:.5,totalEntries:e.length,dimensions:{mistakeRepetition:.5,lessonRetention:.5,strategyEvolution:.5,symbolKnowledge:.5,confidenceRecalibration:.5},repeatedMistakes:[],learningCurve:[],memoryStrengths:[],memoryWeaknesses:[],trend:"stable",lastUpdated:new Date().toISOString()};let r=iGt(e),n=oGt(e),i=sGt(e),o=aGt(e),s=cGt(e),a={mistakeRepetition:r.score,lessonRetention:n.score,strategyEvolution:i.score,symbolKnowledge:o.score,confidenceRecalibration:s.score},c=Math.round((a.mistakeRepetition*.25+a.lessonRetention*.25+a.strategyEvolution*.2+a.symbolKnowledge*.15+a.confidenceRecalibration*.15)*1e3)/1e3,l=10,u=[];for(let v=l;v<=e.length;v+=l){let _=e.slice(v-l,v),x=_.reduce((E,I)=>E+I.coherenceScore,0)/_.length;u.push({round:v,score:Math.round(x*1e3)/1e3})}let d=[],p=[];a.mistakeRepetition>.7?d.push("Avoids repeating mistakes"):a.mistakeRepetition<.4&&p.push("Repeats losing patterns"),a.lessonRetention>.7?d.push("Learns from losses"):a.lessonRetention<.4&&p.push("Does not adapt after losses"),a.strategyEvolution>.7?d.push("Evolves strategy over time"):a.strategyEvolution<.4&&p.push("Static strategy regardless of conditions"),a.symbolKnowledge>.7?d.push("Builds stock-specific expertise"):a.symbolKnowledge<.4&&p.push("No improvement on familiar stocks"),a.confidenceRecalibration>.7?d.push("Adjusts confidence after misses"):a.confidenceRecalibration<.4&&p.push("Stays overconfident after errors");let m=Math.floor(e.length/2),h=e.slice(0,m).reduce((v,_)=>v+_.coherenceScore,0)/m,f=e.slice(m).reduce((v,_)=>v+_.coherenceScore,0)/(e.length-m),y=f>h+.05?"improving":f<h-.05?"declining":"stable";return{agentId:t,memoryScore:c,totalEntries:e.length,dimensions:a,repeatedMistakes:r.patterns,learningCurve:u,memoryStrengths:d,memoryWeaknesses:p,trend:y,lastUpdated:new Date().toISOString()}}function Tue(){return[...A$.keys()].map(Vet)}function E$(t){return Vet(t).memoryScore}var Aa=[],Og=[];function jet(t){Aa.push(t),Aa.length>200&&Aa.splice(0,Aa.length-200);let e=lGt(t);for(let r of e)Og.push(r),Og.length>100&&Og.splice(0,Og.length-100)}function lGt(t){let e=[];if(Aa.length<5)return e;let r=Aa.slice(-10),n=Aa.slice(-30,-10);if(n.length<5)return e;let i=Ps(r,v=>{let _=Object.values(v.agentScores);return _.length>0?_.reduce((x,E)=>x+E,0)/_.length:0}),o=Ps(n,v=>{let _=Object.values(v.agentScores);return _.length>0?_.reduce((x,E)=>x+E,0)/_.length:0}),s=Math.abs(i-o);s>.15&&e.push({id:`reg_${Date.now()}_drift`,type:"scoring_drift",severity:s>.25?"high":"medium",description:`Composite scores shifted by ${(s*100).toFixed(1)}% \u2014 may indicate scoring formula drift or data quality change`,metric:"avg_composite_score",expectedRange:[o-.1,o+.1],actualValue:i,recommendation:"Review recent scoring weight changes or data pipeline for anomalies",timestamp:new Date().toISOString()});let a=Ps(r,v=>v.agentScoreSpread);a<.03&&e.push({id:`reg_${Date.now()}_conv`,type:"agent_convergence",severity:a<.01?"high":"medium",description:`Agent score spread is only ${(a*100).toFixed(1)}% \u2014 benchmark is not differentiating agents well`,metric:"agent_score_spread",expectedRange:[.05,.3],actualValue:a,recommendation:"Increase weight of differentiating pillars (financial, battle, patterns)",timestamp:new Date().toISOString()});let c=Ps(r,v=>v.coherenceAvg),l=Ps(n,v=>v.coherenceAvg);c>l+.15&&c>.85&&e.push({id:`reg_${Date.now()}_coh_inf`,type:"coherence_inflation",severity:"medium",description:`Coherence scores inflated from ${(l*100).toFixed(0)}% to ${(c*100).toFixed(0)}% \u2014 agents may be gaming the coherence scorer`,metric:"avg_coherence",expectedRange:[.5,.8],actualValue:c,recommendation:"Review coherence scoring methodology for gaming vectors",timestamp:new Date().toISOString()});let u=Ps(r,v=>v.hallucinationRate),d=Ps(n,v=>v.hallucinationRate);u>d+.1&&e.push({id:`reg_${Date.now()}_hall`,type:"hallucination_spike",severity:u>.3?"high":"medium",description:`Hallucination rate spiked from ${(d*100).toFixed(0)}% to ${(u*100).toFixed(0)}%`,metric:"hallucination_rate",expectedRange:[0,.15],actualValue:u,recommendation:"Check if market data pipeline has issues causing agents to hallucinate",timestamp:new Date().toISOString()});let p=Ps(r,v=>v.avgReasoningLength),m=Ps(n,v=>v.avgReasoningLength);p<m*.6&&e.push({id:`reg_${Date.now()}_len`,type:"reasoning_length_drift",severity:"medium",description:`Avg reasoning length dropped from ${Math.round(m)} to ${Math.round(p)} words`,metric:"avg_reasoning_length",expectedRange:[m*.8,m*1.5],actualValue:p,recommendation:"Review agent prompts or increase minimum reasoning length requirement",timestamp:new Date().toISOString()});let h=Ps(r,v=>v.calibrationAvg),f=Ps(n,v=>v.calibrationAvg);h<f-.1&&h<.5&&e.push({id:`reg_${Date.now()}_calib`,type:"calibration_decay",severity:h<.3?"high":"medium",description:`Calibration quality dropped from ${(f*100).toFixed(0)}% to ${(h*100).toFixed(0)}%`,metric:"calibration_avg",expectedRange:[.5,1],actualValue:h,recommendation:"Agents may need confidence recalibration prompting",timestamp:new Date().toISOString()});let y=Object.values(t.pillarAverages);if(y.length>=3){let v=qet(y);if(v>.25){let _=Object.entries(t.pillarAverages).sort((E,I)=>I[1]-E[1])[0],x=Object.entries(t.pillarAverages).sort((E,I)=>E[1]-I[1])[0];e.push({id:`reg_${Date.now()}_imb`,type:"pillar_imbalance",severity:"low",description:`Pillar scores vary widely: ${_[0]}=${(_[1]*100).toFixed(0)}% vs ${x[0]}=${(x[1]*100).toFixed(0)}%`,metric:"pillar_std_dev",expectedRange:[0,.2],actualValue:v,recommendation:`Consider rebalancing pillar weights \u2014 ${x[0]} may need methodology review`,timestamp:new Date().toISOString()})}}return e}function Ps(t,e){return t.length===0?0:t.reduce((r,n)=>r+e(n),0)/t.length}function qet(t){if(t.length<2)return 0;let e=t.reduce((n,i)=>n+i,0)/t.length,r=t.reduce((n,i)=>n+(i-e)**2,0)/t.length;return Math.sqrt(r)}function Iue(){if(Aa.length<3)return{overallHealth:.8,status:"healthy",activeAlerts:[],snapshotCount:Aa.length,dimensions:{scoringStability:.8,pillarBalance:.8,agentDiversity:.8,dataFreshness:.8,calibrationQuality:.8},recommendations:["Collect more data for meaningful regression detection"],trend:"stable",lastUpdated:new Date().toISOString()};let t=Aa.slice(-10),e=[];for(let L=1;L<t.length;L++){let B=Object.values(t[L-1].agentScores),P=Object.values(t[L].agentScores);if(B.length>0&&P.length>0){let V=B.reduce((ee,O)=>ee+O,0)/B.length,j=P.reduce((ee,O)=>ee+O,0)/P.length;e.push(Math.abs(j-V))}}let r=e.length>0?e.reduce((L,B)=>L+B,0)/e.length:0,n=Math.max(0,1-r*5),i=t[t.length-1],o=Object.values(i.pillarAverages),s=qet(o),a=Math.max(0,1-s*3),c=Math.min(1,i.agentScoreSpread*10),l=Ps(t,L=>L.avgReasoningLength),u=Math.min(1,l/80),d=Ps(t,L=>L.calibrationAvg),p={scoringStability:Math.round(n*1e3)/1e3,pillarBalance:Math.round(a*1e3)/1e3,agentDiversity:Math.round(c*1e3)/1e3,dataFreshness:Math.round(u*1e3)/1e3,calibrationQuality:Math.round(d*1e3)/1e3},m=Math.round((p.scoringStability*.25+p.pillarBalance*.2+p.agentDiversity*.25+p.dataFreshness*.15+p.calibrationQuality*.15)*1e3)/1e3,h=Og.filter(L=>L.severity==="high"||L.severity==="critical").length,f=h>=3?"critical":h>=1?"degraded":Og.length>3?"warning":"healthy",y=[];p.agentDiversity<.3&&y.push("Agent scores are too similar \u2014 consider adding more differentiating metrics"),p.scoringStability<.5&&y.push("Scoring is unstable \u2014 review recent methodology changes"),p.dataFreshness<.5&&y.push("Reasoning quality declining \u2014 review agent prompt engineering"),p.calibrationQuality<.4&&y.push("Confidence calibration is poor \u2014 agents need calibration feedback"),y.length===0&&y.push("Benchmark is operating within normal parameters");let v=Math.floor(Aa.length/2),_=Aa.slice(0,v),x=Aa.slice(v),E=Ps(_,L=>L.coherenceAvg),I=Ps(x,L=>L.coherenceAvg),N=I>E+.05?"improving":I<E-.05?"declining":"stable";return{overallHealth:m,status:f,activeAlerts:Og.slice(-20),snapshotCount:Aa.length,dimensions:p,recommendations:y,trend:N,lastUpdated:new Date().toISOString()}}function Het(){return Og.slice(-50)}var R$=new sn,eT=[],Wet=200;function Get(t,e,r){eT.push({type:t,data:e,agentId:r,timestamp:Date.now()}),eT.length>Wet&&eT.splice(0,eT.length-Wet)}var Ket={financial:.1,reasoning:.09,safety:.08,calibration:.07,patterns:.04,adaptability:.05,forensic_quality:.06,validation_quality:.07,prediction_accuracy:.05,reasoning_stability:.05,provenance_integrity:.05,model_comparison:.04,metacognition:.05,reasoning_efficiency:.04,forensic_ledger:.03,strategy_genome:.03,adversarial_robustness:.05,cross_session_memory:.05};R$.get("/data",t=>{let e=Fd(),r=Rue(),n=Tue(),i=Iue(),o=Het(),s=ZR(),a=e.map(c=>{let l=r.find(m=>m.agentId===c.agentId),u=n.find(m=>m.agentId===c.agentId),d=dGt(c);d.adversarial_robustness=l?.overallScore??.5,d.cross_session_memory=u?.memoryScore??.5;let p=pGt(d);return{agentId:c.agentId,provider:c.provider,model:c.model,composite:p,grade:mGt(p),elo:c.eloRating,tradeCount:c.tradeCount,pillars:d,robustnessTrend:l?.trend??"stable",memoryTrend:u?.trend??"stable",memoryStrengths:u?.memoryStrengths??[],memoryWeaknesses:u?.memoryWeaknesses??[],topVulnerabilities:l?.topVulnerabilities??[]}});return a.sort((c,l)=>l.composite-c.composite),t.json({ok:!0,version:"v18",pillars:18,leaderboard:a,benchmarkHealth:{status:i.status,overallHealth:i.overallHealth,dimensions:i.dimensions,activeAlertCount:o.length,recommendations:i.recommendations},ledger:{totalEntries:s.totalEntries,chainIntact:s.chainIntact,resolvedOutcomes:Object.values(s.agentBreakdown).reduce((c,l)=>c+Math.round(l.entries*l.outcomeResolvedRate),0)},pillarWeights:Ket,timestamp:new Date().toISOString()})});R$.get("/stream",t=>{let e=parseInt(t.req.query("lastId")??"0",10),n=eT.filter(i=>i.timestamp>e).map(i=>`data: ${JSON.stringify({type:i.type,...i.data,agentId:i.agentId,ts:i.timestamp})}
`).join(`
`);return new Response(`${n}
`,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});R$.get("/export",t=>{let e=v$(),r=Rue(),n=Tue(),i=Iue(),s=e.agents.map(a=>{let c=r.find(u=>u.agentId===a.agentId),l=n.find(u=>u.agentId===a.agentId);return{...a,v18_adversarial_robustness:c?.overallScore??null,v18_adversarial_vulnerabilities:c?.topVulnerabilities??[],v18_memory_score:l?.memoryScore??null,v18_memory_dimensions:l?.dimensions??null,v18_repeated_mistakes:l?.repeatedMistakes.length??0,v18_benchmark_health:i.overallHealth,v18_benchmark_status:i.status}}).map(a=>JSON.stringify(a)).join(`
`);return new Response(s,{headers:{"Content-Type":"application/jsonl","Content-Disposition":`attachment; filename="moltapp-v18-benchmark-${new Date().toISOString().split("T")[0]}.jsonl"`}})});R$.get("/",t=>{let e=uGt();return t.html(e)});function uGt(){return`<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MoltApp Benchmark v18 \u2014 18-Pillar AI Trading Benchmark</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:#0a0e17;color:#e0e0e0;min-height:100vh}
.container{max-width:1400px;margin:0 auto;padding:20px}
header{text-align:center;padding:30px 0;border-bottom:1px solid #1a2035}
h1{font-size:2.2rem;background:linear-gradient(135deg,#00d4ff,#7c3aed,#ff6b6b);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:8px}
.subtitle{color:#8892a4;font-size:1.1rem}
.badge-row{display:flex;gap:10px;justify-content:center;margin-top:12px;flex-wrap:wrap}
.badge{display:inline-flex;align-items:center;gap:5px;padding:4px 12px;border-radius:20px;font-size:0.8rem;font-weight:600}
.badge-hf{background:#1a1a2e;color:#ffcc00;border:1px solid #ffcc0044}
.badge-pillars{background:#1a1a2e;color:#00d4ff;border:1px solid #00d4ff44}
.badge-new{background:#1a1a2e;color:#ff6b6b;border:1px solid #ff6b6b44}
.badge-health{background:#1a1a2e;border:1px solid #4ade8044;color:#4ade80}
.badge-health.warning{color:#f59e0b;border-color:#f59e0b44}
.badge-health.degraded{color:#f87171;border-color:#f8717144}
.grid{display:grid;gap:20px;margin-top:24px}
.grid-3{grid-template-columns:repeat(auto-fit,minmax(380px,1fr))}
.card{background:#111827;border:1px solid #1f2937;border-radius:12px;padding:20px;transition:border-color 0.2s}
.card:hover{border-color:#374151}
.card-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}
.card-title{font-size:1.1rem;font-weight:600}
.grade{font-size:1.4rem;font-weight:800;padding:4px 12px;border-radius:8px}
.grade-a{background:#059669;color:white}
.grade-b{background:#2563eb;color:white}
.grade-c{background:#d97706;color:white}
.grade-d{background:#dc2626;color:white}
.grade-f{background:#7f1d1d;color:white}
.agent-meta{color:#6b7280;font-size:0.85rem;margin-bottom:12px}
.pillar-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:6px}
.pillar{padding:6px 8px;background:#1a2035;border-radius:6px;font-size:0.75rem}
.pillar-name{color:#8892a4;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.pillar-score{font-weight:700;margin-top:2px}
.score-high{color:#4ade80}
.score-mid{color:#fbbf24}
.score-low{color:#f87171}
.composite-bar{height:6px;background:#1f2937;border-radius:3px;margin-top:8px;overflow:hidden}
.composite-fill{height:100%;border-radius:3px;transition:width 0.5s}
.section-title{font-size:1.3rem;font-weight:700;margin:28px 0 12px;padding-left:8px;border-left:3px solid #7c3aed}
.health-card{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px;margin-top:12px}
.health-metric{background:#1a2035;border-radius:8px;padding:14px;text-align:center}
.health-value{font-size:1.5rem;font-weight:800}
.health-label{color:#6b7280;font-size:0.8rem;margin-top:4px}
.alert-list{margin-top:12px}
.alert{padding:10px 14px;border-radius:8px;margin-bottom:8px;font-size:0.85rem;border-left:3px solid}
.alert-high{background:#7f1d1d22;border-color:#f87171}
.alert-medium{background:#78350f22;border-color:#fbbf24}
.alert-low{background:#1a2035;border-color:#6b7280}
footer{text-align:center;padding:30px 0;color:#4b5563;font-size:0.85rem;margin-top:40px;border-top:1px solid #1a2035}
footer a{color:#7c3aed;text-decoration:none}
.new-badge{display:inline-block;background:#ff6b6b;color:white;font-size:0.65rem;padding:1px 5px;border-radius:3px;margin-left:4px;font-weight:700;vertical-align:middle}
</style>
</head>
<body>
<div class="container">
<header>
  <h1>MoltApp Benchmark v18</h1>
  <div class="subtitle">Industry-Standard AI Trading Benchmark \u2014 18-Pillar Scoring</div>
  <div class="badge-row">
    <span class="badge badge-hf">&#129303; HuggingFace: patruff/molt-benchmark</span>
    <span class="badge badge-pillars">18 Scoring Pillars</span>
    <span class="badge badge-new">v18: Adversarial + Memory + Regression</span>
    <span class="badge badge-health" id="health-badge">&#9679; Loading...</span>
  </div>
</header>

<div class="section-title">Agent Leaderboard</div>
<div class="grid grid-3" id="leaderboard">
  <div class="card"><div class="card-title">Loading agent data...</div></div>
</div>

<div class="section-title">Benchmark Health Monitor<span class="new-badge">NEW</span></div>
<div class="health-card" id="health-metrics">
  <div class="health-metric"><div class="health-value">\u2014</div><div class="health-label">Overall Health</div></div>
  <div class="health-metric"><div class="health-value">\u2014</div><div class="health-label">Scoring Stability</div></div>
  <div class="health-metric"><div class="health-value">\u2014</div><div class="health-label">Agent Diversity</div></div>
  <div class="health-metric"><div class="health-value">\u2014</div><div class="health-label">Data Freshness</div></div>
  <div class="health-metric"><div class="health-value">\u2014</div><div class="health-label">Calibration</div></div>
</div>

<div class="section-title">Regression Alerts</div>
<div class="alert-list" id="alerts">
  <div class="alert alert-low">No active alerts \u2014 benchmark operating normally.</div>
</div>

<footer>
  <p>MoltApp AI Trading Benchmark v18 \u2014 <a href="https://www.patgpt.us">www.patgpt.us</a></p>
  <p style="margin-top:6px">Dataset: <a href="https://huggingface.co/datasets/patruff/molt-benchmark">patruff/molt-benchmark</a> | API: <a href="/api/v1/benchmark-v18/schema">/api/v1/benchmark-v18/schema</a></p>
</footer>
</div>

<script>
async function loadData() {
  try {
    const res = await fetch('/benchmark-v18/data');
    const data = await res.json();
    if (!data.ok) return;
    renderLeaderboard(data.leaderboard);
    renderHealth(data.benchmarkHealth);
    updateHealthBadge(data.benchmarkHealth.status);
  } catch (e) { console.error('Failed to load data:', e); }
}

function renderLeaderboard(agents) {
  const el = document.getElementById('leaderboard');
  if (!agents || agents.length === 0) {
    el.innerHTML = '<div class="card"><div class="card-title">No agent data yet \u2014 run a trading round!</div></div>';
    return;
  }
  el.innerHTML = agents.map((a, i) => {
    const gc = a.grade.startsWith('A') ? 'grade-a' : a.grade.startsWith('B') ? 'grade-b' : a.grade.startsWith('C') ? 'grade-c' : a.grade.startsWith('D') ? 'grade-d' : 'grade-f';
    const pillars = Object.entries(a.pillars).map(([name, score]) => {
      const sc = score >= 0.7 ? 'score-high' : score >= 0.5 ? 'score-mid' : 'score-low';
      const label = name.replace(/_/g, ' ').replace(/\\b\\w/g, c => c.toUpperCase());
      const isNew = name === 'adversarial_robustness' || name === 'cross_session_memory';
      return '<div class="pillar"><div class="pillar-name">' + label + (isNew ? '<span class="new-badge">NEW</span>' : '') + '</div><div class="pillar-score ' + sc + '">' + (score * 100).toFixed(1) + '%</div></div>';
    }).join('');
    const barColor = a.composite >= 0.7 ? '#4ade80' : a.composite >= 0.5 ? '#fbbf24' : '#f87171';
    return '<div class="card"><div class="card-header"><div class="card-title">#' + (i + 1) + ' ' + a.agentId + '</div><div class="grade ' + gc + '">' + a.grade + '</div></div><div class="agent-meta">' + a.provider + ' / ' + a.model + ' | Elo: ' + a.elo + ' | Trades: ' + a.tradeCount + ' | Composite: ' + (a.composite * 100).toFixed(1) + '%</div><div class="composite-bar"><div class="composite-fill" style="width:' + (a.composite * 100) + '%;background:' + barColor + '"></div></div><div class="pillar-grid" style="margin-top:12px">' + pillars + '</div></div>';
  }).join('');
}

function renderHealth(h) {
  const el = document.getElementById('health-metrics');
  const dims = h.dimensions || {};
  const sc = v => v >= 0.7 ? 'score-high' : v >= 0.5 ? 'score-mid' : 'score-low';
  el.innerHTML = [
    ['Overall Health', h.overallHealth],
    ['Scoring Stability', dims.scoringStability],
    ['Agent Diversity', dims.agentDiversity],
    ['Data Freshness', dims.dataFreshness],
    ['Calibration', dims.calibrationQuality],
  ].map(([label, val]) => '<div class="health-metric"><div class="health-value ' + sc(val || 0) + '">' + ((val || 0) * 100).toFixed(0) + '%</div><div class="health-label">' + label + '</div></div>').join('');

  const alertEl = document.getElementById('alerts');
  if (h.activeAlertCount > 0 && h.recommendations) {
    alertEl.innerHTML = h.recommendations.map(r => '<div class="alert alert-medium">' + r + '</div>').join('');
  }
}

function updateHealthBadge(status) {
  const badge = document.getElementById('health-badge');
  const cls = status === 'healthy' ? '' : status === 'warning' ? 'warning' : 'degraded';
  badge.className = 'badge badge-health ' + cls;
  badge.textContent = '\\u25CF ' + status.charAt(0).toUpperCase() + status.slice(1);
}

loadData();
setInterval(loadData, 45000);
</script>
</body>
</html>`}function dGt(t){let e={};for(let r of t.pillars)e[r.name]=r.score;return e}function pGt(t){let e=0,r=0;for(let[n,i]of Object.entries(Ket))e+=(t[n]??.5)*i,r+=i;return r>0?Math.round(e/r*1e3)/1e3:.5}function mGt(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}var fGt=/(?:\$[\d,.]+|\d+\.?\d*\s*(?:dollars?|usd))/gi,hGt=/(?:upward|downward|bullish|bearish|rising|falling|increasing|decreasing)\s+(?:trend|momentum|pressure|trajectory)/gi,gGt=/(?:P\/E|earnings|revenue|margin|market\s+cap|dividend|cash\s+flow|book\s+value|EPS|debt[\s-]to[\s-]equity)/gi,yGt=/(?:market\s+(?:sentiment|mood|fear|greed)|investor\s+(?:confidence|anxiety)|(?:risk[\s-]on|risk[\s-]off))/gi,bGt=/(?:will\s+(?:rise|fall|increase|decrease|rally|decline|reach)|expect(?:ed|ing)?\s+to|predicted?\s+to|target\s+(?:price|of)|should\s+(?:reach|hit|test))/gi,vGt=/(?:compared\s+to|relative\s+to|versus|outperform|underperform|better\s+than|worse\s+than|stronger\s+than|weaker\s+than)/gi,_Gt=/(?:downside|upside\s+risk|stop[\s-]loss|worst[\s-]case|risk\s+of|could\s+(?:lose|fall|decline)|potential\s+(?:loss|downside))/gi,SGt=[[fGt,"price"],[hGt,"trend"],[gGt,"fundamental"],[yGt,"sentiment"],[bGt,"prediction"],[vGt,"comparison"],[_Gt,"risk"]],wGt=/\b(?:because|since|given\s+that|based\s+on|due\s+to|considering|observing\s+that|noting\s+that|as\s+evidenced\s+by)\b/gi,Yet=/\b(?:therefore|thus|hence|consequently|as\s+a\s+result|this\s+(?:means|suggests|indicates|implies)|leading\s+to|which\s+(?:means|suggests))\b/gi,Jet=/\b(?:I(?:'m|\s+am)\s+(?:buying|selling|holding)|my\s+decision|I\s+(?:recommend|decide|choose)|overall|in\s+conclusion|ultimately|the\s+best\s+(?:action|move))\b/gi,Cue=/\b(?:normal\s+(?:market|trading|conditions)|typical\s+(?:volume|volatility)|liquid(?:ity)?|efficient\s+market)\b/gi,Oue=/\b(?:accurate|reliable|current|real[\s-]time|up[\s-]to[\s-]date|verified)\b/gi,Nue=/\b(?:short[\s-]term|long[\s-]term|medium[\s-]term|intraday|swing|overnight|weekly)\b/gi,hw=new Map,Qet=200;function xGt(t){let e=[],r=new Set;for(let[i,o]of SGt){i.lastIndex=0;let s;for(;(s=i.exec(t))!==null;){let a=s[0].trim(),c=`${o}:${a.toLowerCase()}`;r.has(c)||(r.add(c),e.push({text:a,offset:s.index,type:o,verifiable:o==="price"||o==="trend"||o==="fundamental",verified:null,extractionConfidence:.8+Math.random()*.2}))}}let n=t.split(/[.!?]+/).filter(i=>i.trim().length>15);for(let i of n)if(/\b(?:is\s+(?:trading|priced|valued)|has\s+(?:been|shown|demonstrated)|shows|indicates|reflects|represents)\b/i.test(i)){let o=i.trim(),s=`general:${o.slice(0,50).toLowerCase()}`;r.has(s)||(r.add(s),e.push({text:o.slice(0,200),offset:t.indexOf(o),type:"general",verifiable:!1,verified:null,extractionConfidence:.6}))}return e.sort((i,o)=>i.offset-o.offset)}function AGt(t,e,r){let n=[];for(let i=0;i<t.length;i++){let o=t[i];for(let s of e){let a=EGt(o,s,r);a&&n.push({claimIndex:i,source:s,strength:a})}n.some(s=>s.claimIndex===i)||n.push({claimIndex:i,source:"unstated",strength:"inferred"})}return n}function EGt(t,e,r){let n=e.toLowerCase(),i=t.text.toLowerCase();if(t.type==="price"&&(n.includes("price")||n.includes("market"))||t.type==="trend"&&(n.includes("technical")||n.includes("24h"))||t.type==="fundamental"&&n.includes("fundamental"))return"direct";if(t.type==="sentiment"&&(n.includes("news")||n.includes("sentiment")))return"indirect";let o=r.toLowerCase().indexOf(i);return o>=0&&r.slice(Math.max(0,o-100),o+i.length+100).toLowerCase().includes(n.replace(/_/g," "))?"indirect":null}function RGt(t){let e=[],r=t.split(/[.!?]+/).map(n=>n.trim()).filter(n=>n.length>10);for(let n of r){let i="premise";Jet.test(n)?(i="conclusion",Jet.lastIndex=0):Yet.test(n)?(i="inference",Yet.lastIndex=0):wGt.lastIndex=0;let o=[];if(i==="inference"||i==="conclusion")for(let s=0;s<e.length;s++)(e[s].role==="premise"||i==="conclusion"&&e[s].role==="inference")&&o.push(s);e.push({text:n.slice(0,200),role:i,valid:!0,dependsOn:o})}for(let n=0;n<e.length;n++){let i=e[n];if(i.role==="conclusion"){for(let o of i.dependsOn)if(o<e.length){let s=e[o];TGt(s.text,i.text)&&(i.valid=!1)}}}return e}function TGt(t,e){let r=t.toLowerCase(),n=e.toLowerCase(),i=/\b(?:bullish|upside|growth|strong|buy|accumulate|undervalued)\b/.test(r),o=/\b(?:bearish|downside|decline|weak|sell|distribute|overvalued)\b/.test(r),s=/\b(?:bullish|upside|growth|strong|buy|accumulate|undervalued)\b/.test(n),a=/\b(?:bearish|downside|decline|weak|sell|distribute|overvalued)\b/.test(n);return i&&a&&!o||o&&s&&!i}function IGt(t,e){let r=[],n=t.toLowerCase();return Cue.test(n)||(Cue.lastIndex=0,r.push({assumption:"Assumes normal market conditions (no flash crashes, halts, or extreme events)",category:"market_conditions",criticality:"medium"})),Cue.lastIndex=0,Oue.test(n)||(Oue.lastIndex=0,r.push({assumption:"Assumes data is accurate and current (no stale prices or data errors)",category:"data_quality",criticality:"high"})),Oue.lastIndex=0,Nue.test(n)||(Nue.lastIndex=0,r.push({assumption:"Does not specify time horizon for expected outcome",category:"time_horizon",criticality:e==="hold"?"low":"medium"})),Nue.lastIndex=0,e!=="hold"&&!/\b(?:risk|downside|stop[\s-]loss|worst[\s-]case|position\s+size)\b/i.test(n)&&r.push({assumption:"Does not explicitly address risk tolerance or exit conditions",category:"risk_appetite",criticality:"high"}),/\b(?:will\s+continue|always|never|guaranteed|certain)\b/i.test(n)&&r.push({assumption:"Uses deterministic language about inherently uncertain outcomes",category:"model_behavior",criticality:"medium"}),r}function CGt(t,e,r,n){let i=[],o=t.toLowerCase();return e==="buy"?(i.push({condition:`${r} price drops >10% from current level`,expectedChange:"Might convert to hold (deeper value) or sell (broken thesis)",sensitivity:"high"}),/\b(?:support|floor|bottom)\b/i.test(o)&&i.push({condition:`${r} breaks below stated support level`,expectedChange:"Thesis invalidated \u2014 likely switch to sell or hold",sensitivity:"high"})):e==="sell"&&i.push({condition:`${r} price rises >5% from current level`,expectedChange:"Might regret selling; if trend reverses, could buy back",sensitivity:"medium"}),n>.7?i.push({condition:"New negative earnings surprise or regulatory action",expectedChange:"High-confidence trade could flip to low-confidence hold",sensitivity:"high"}):n<.3&&i.push({condition:"Strong positive catalyst (earnings beat, partnership)",expectedChange:"Low-confidence hold could become medium-confidence buy",sensitivity:"medium"}),/\b(?:volume|momentum|trend)\b/i.test(o)&&i.push({condition:"Volume dries up or momentum reverses",expectedChange:"Momentum-based thesis weakened; agent may exit position",sensitivity:"medium"}),/\b(?:sector|macro|fed|interest\s+rate|inflation)\b/i.test(o)&&i.push({condition:"Macro environment shifts (rate hike, sector rotation)",expectedChange:"Macro-dependent thesis could be invalidated",sensitivity:"low"}),i}function Zet(t,e,r,n,i,o,s){let a=xGt(i),c=AGt(a,s,i),l=RGt(i),u=IGt(i,r),d=o>1?o/100:o,p=CGt(i,r,n,d),m=i.split(/\s+/).length,h=Math.min(1,a.length/Math.max(1,m/20)),f=c.filter(P=>P.strength==="direct").length,y=a.length>0?Math.min(1,f/a.length):0,v=l.filter(P=>P.valid).length,_=l.length>0?v/l.length:.5,x=u.filter(P=>P.criticality==="high").length,E=Math.max(0,1-x*.2),I=Math.min(1,p.length/4),N=Math.round((h*.2+y*.25+_*.25+E*.15+I*.15)*100)/100,L={agentId:t,roundId:e,action:r,symbol:n,claims:a,evidenceMap:c,logicChain:l,assumptions:u,counterfactuals:p,transparencyScore:N,componentScores:{claimDensity:Math.round(h*100)/100,evidenceCoverage:Math.round(y*100)/100,logicValidity:Math.round(_*100)/100,assumptionAwareness:Math.round(E*100)/100,counterfactualDepth:Math.round(I*100)/100},timestamp:new Date().toISOString()},B=hw.get(t)??[];return B.unshift(L),B.length>Qet&&(B.length=Qet),hw.set(t,B),L}function T$(){let t={};for(let[e,r]of hw.entries()){if(r.length===0)continue;let n=r.length;t[e]={avgTransparency:Math.round(r.reduce((i,o)=>i+o.transparencyScore,0)/n*100)/100,avgClaimDensity:Math.round(r.reduce((i,o)=>i+o.componentScores.claimDensity,0)/n*100)/100,avgEvidenceCoverage:Math.round(r.reduce((i,o)=>i+o.componentScores.evidenceCoverage,0)/n*100)/100,avgLogicValidity:Math.round(r.reduce((i,o)=>i+o.componentScores.logicValidity,0)/n*100)/100,avgAssumptionAwareness:Math.round(r.reduce((i,o)=>i+o.componentScores.assumptionAwareness,0)/n*100)/100,avgCounterfactualDepth:Math.round(r.reduce((i,o)=>i+o.componentScores.counterfactualDepth,0)/n*100)/100,totalReports:n}}return t}function I$(t){let e=hw.get(t)??[];return e.length===0?.5:Math.round(e.reduce((r,n)=>r+n.transparencyScore,0)/e.length*100)/100}function gw(){let t=0,e=0,r={id:"",score:0},n={id:"",score:1},i=new Map;for(let[a,c]of hw.entries()){t+=c.length;let l=c.reduce((u,d)=>u+d.transparencyScore,0)/(c.length||1);e+=l,l>r.score&&(r={id:a,score:l}),l<n.score&&(n={id:a,score:l});for(let u of c)for(let d of u.assumptions)i.set(d.assumption,(i.get(d.assumption)??0)+1)}let o=hw.size||1,s=[...i.entries()].sort((a,c)=>c[1]-a[1]).slice(0,5).map(([a])=>a);return{totalReports:t,avgTransparency:Math.round(e/o*100)/100,mostTransparent:r.id||null,leastTransparent:n.id||null,commonAssumptions:s}}var tT=new Map,Xet=500;function ett(t,e,r,n,i,o){let s=[],a=o>1?o/100:o,c=OGt(i,n);c&&s.push({id:`claim_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,agentId:t,roundId:e,symbol:r,action:n,claim:c.text,claimType:"directional",confidence:a,direction:c.direction,timestamp:new Date().toISOString(),status:"pending"});let l=NGt(i,r);for(let m of l)s.push({id:`claim_${Date.now()}_${Math.random().toString(36).slice(2,6)}_pt`,agentId:t,roundId:e,symbol:r,action:n,claim:m.text,claimType:"price_target",confidence:a,targetPrice:m.price,timestamp:new Date().toISOString(),status:"pending"});let u=PGt(i);u&&s.push({id:`claim_${Date.now()}_${Math.random().toString(36).slice(2,6)}_th`,agentId:t,roundId:e,symbol:r,action:n,claim:u.text,claimType:"time_horizon",confidence:a,horizonHours:u.hours,timestamp:new Date().toISOString(),status:"pending"});let d=kGt(i,r);for(let m of d)s.push({id:`claim_${Date.now()}_${Math.random().toString(36).slice(2,6)}_cat`,agentId:t,roundId:e,symbol:r,action:n,claim:m,claimType:"categorical",confidence:a,timestamp:new Date().toISOString(),status:"pending"});let p=tT.get(t)??[];return p.unshift(...s),p.length>Xet&&(p.length=Xet),tT.set(t,p),s}function OGt(t,e){let r=t.toLowerCase();return e==="buy"||/\b(?:will\s+rise|expected?\s+to\s+increase|upside|bullish|higher)\b/i.test(r)?{text:`Expects price to move up (action: ${e})`,direction:"up"}:e==="sell"||/\b(?:will\s+fall|expected?\s+to\s+decrease|downside|bearish|lower)\b/i.test(r)?{text:`Expects price to move down (action: ${e})`,direction:"down"}:e==="hold"||/\b(?:sideways|flat|range[\s-]bound|consolidat)\b/i.test(r)?{text:`Expects price to remain flat (action: ${e})`,direction:"flat"}:null}function NGt(t,e){let r=[],n=[/target\s+(?:price\s+)?(?:of\s+)?\$?([\d,.]+)/gi,/(?:reach|hit|test)\s+\$?([\d,.]+)/gi,/\$?([\d,.]+)\s+(?:target|level|resistance|support)/gi];for(let i of n){let o;for(;(o=i.exec(t))!==null;){let s=parseFloat(o[1].replace(/,/g,""));s>0&&s<1e5&&r.push({text:`Price target: $${s.toFixed(2)}`,price:s})}}return r.slice(0,3)}function PGt(t){let e=[[/\b(?:next\s+few\s+hours?|intraday|today)\b/i,8],[/\b(?:overnight|tomorrow|24\s*h)\b/i,24],[/\b(?:this\s+week|next\s+few\s+days|short[\s-]term)\b/i,120],[/\b(?:next\s+week|coming\s+week)\b/i,168],[/\b(?:medium[\s-]term|next\s+month|coming\s+weeks)\b/i,720],[/\b(?:long[\s-]term|next\s+quarter|several\s+months)\b/i,2160]];for(let[r,n]of e){let i=t.match(r);if(i)return{text:`Time horizon: ${i[0]}`,hours:n}}return null}function kGt(t,e){let r=[],n=t.toLowerCase();return/\b(?:outperform|beat\s+the\s+market|alpha)\b/i.test(n)&&r.push(`${e} will outperform the market`),/\b(?:underperform|lag\s+(?:the\s+)?market|drag)\b/i.test(n)&&r.push(`${e} will underperform the market`),/\b(?:recovery|rebound|bounce\s+back)\b/i.test(n)&&r.push(`${e} expected to recover`),/\b(?:correction|pullback|dip)\b/i.test(n)&&r.push(`${e} expected to correct`),r}function Pue(t){let e=tT.get(t)??[],r=e.filter(I=>I.status==="correct"||I.status==="incorrect"),n=e.filter(I=>I.status==="correct"),i=e.filter(I=>I.status==="incorrect"),o=e.filter(I=>I.status==="pending"),s={};for(let I of r)s[I.claimType]||(s[I.claimType]={total:0,correct:0,accuracy:0}),s[I.claimType].total++,I.status==="correct"&&s[I.claimType].correct++;for(let I of Object.keys(s))s[I].accuracy=s[I].total>0?Math.round(s[I].correct/s[I].total*100)/100:0;let a={};for(let I of r)a[I.symbol]||(a[I.symbol]={total:0,correct:0,accuracy:0}),a[I.symbol].total++,I.status==="correct"&&a[I.symbol].correct++;for(let I of Object.keys(a))a[I].accuracy=a[I].total>0?Math.round(a[I].correct/a[I].total*100)/100:0;let l=[{label:"0.0-0.2",min:0,max:.2},{label:"0.2-0.4",min:.2,max:.4},{label:"0.4-0.6",min:.4,max:.6},{label:"0.6-0.8",min:.6,max:.8},{label:"0.8-1.0",min:.8,max:1}].map(I=>{let N=r.filter(B=>B.confidence>=I.min&&B.confidence<(I.max===1?1.01:I.max)),L=N.filter(B=>B.status==="correct").length;return{bucket:I.label,total:N.length,correct:L,accuracy:N.length>0?Math.round(L/N.length*100)/100:0}}),u=r.filter(I=>I.confidence>.7),d=u.filter(I=>I.status==="incorrect").length,p=u.length>0?Math.round(d/u.length*100)/100:0,m=Math.floor(r.length/2),h=r.slice(m),f=r.slice(0,m),y=h.length>0?h.filter(I=>I.status==="correct").length/h.length:0,v=f.length>0?f.filter(I=>I.status==="correct").length/f.length:0,_="stable";v-y>.05&&(_="improving"),y-v>.05&&(_="declining");let x=r.length>0?Math.round(n.length/r.length*100)/100:0,E=Math.round((x*.35+(1-p)*.25+(_==="improving"?.8:_==="stable"?.5:.2)*.2+Math.min(1,r.length/20)*.2)*100)/100;return{agentId:t,totalClaims:e.length,resolvedClaims:r.length,correctClaims:n.length,incorrectClaims:i.length,pendingClaims:o.length,accuracyRate:x,overconfidenceRate:p,byType:s,bySymbol:a,byConfidence:l,learningTrend:_,accountabilityScore:E}}function C$(){let t={};for(let e of tT.keys())t[e]=Pue(e);return t}function O$(t){return Pue(t).accountabilityScore}function yw(){let t=0,e=0,r=0,n={id:"",score:0},i={id:"",score:1};for(let o of tT.keys()){let s=Pue(o);t+=s.totalClaims,e+=s.resolvedClaims,r+=s.correctClaims,s.accountabilityScore>n.score&&(n={id:o,score:s.accountabilityScore}),s.accountabilityScore<i.score&&(i={id:o,score:s.accountabilityScore})}return{totalClaimsTracked:t,totalResolved:e,overallAccuracy:e>0?Math.round(r/e*100)/100:0,mostAccountable:n.id||null,leastAccountable:i.id||null}}import{createHash as ttt}from"crypto";var rT=new Map,DGt=new Map,rtt=300,kue=/\b(?:I\s+(?:believe|think|expect|recommend|conclude)|my\s+(?:thesis|view|analysis|assessment)|overall|the\s+case\s+for|the\s+key\s+(?:reason|argument))\b/gi,Due=/\b(?:because|since|data\s+shows|according\s+to|based\s+on|evidence|the\s+fact\s+that|supported\s+by|as\s+(?:shown|indicated|demonstrated))\b/gi,Mue=/\b(?:therefore|thus|hence|in\s+conclusion|as\s+a\s+result|consequently|this\s+leads\s+me\s+to|my\s+decision|I(?:'m|\s+am)\s+(?:going\s+to|choosing\s+to))\b/gi,$ue=/\$[\d,.]+|\d+\.?\d*%|\d+x|\d+\.?\d*\s*(?:billion|million|thousand)|P\/E\s+(?:of\s+)?\d+|\d+\.?\d*\s*(?:ratio|multiple)/gi,Lue=/\b(?:current(?:ly)?|today|this\s+week|yesterday|24h|last\s+(?:session|day|week)|at\s+the\s+(?:time|moment))\b/gi,Bue=/\b(?:because|therefore|thus|hence|since|as\s+a\s+result|consequently|due\s+to|driven\s+by|leading\s+to|which\s+(?:means|suggests|implies|indicates))\b/gi,MGt=[[/\bstrongly\s+bullish\b/i,/\bstrongly\s+bearish\b/i],[/\bshould\s+buy\b/i,/\bshould\s+sell\b/i],[/\bvery\s+confident\b/i,/\bvery\s+uncertain\b/i],[/\bundervalued\b/i,/\bovervalued\b/i]],Uue=/\b(?:might|may|could|possibly|perhaps|uncertain|unclear|risk|not\s+sure|unknown|limited\s+data|caveat|however|on\s+the\s+other\s+hand|that\s+said)\b/gi,Fue=/\b(?:definitely|certainly|guaranteed|will\s+(?:definitely|certainly)|no\s+doubt|absolutely|100%|always|never\s+(?:fail|lose))\b/gi,zue=/\b(?:buy|sell|hold|position\s+size|entry\s+(?:point|price)|exit\s+(?:point|price)|stop[\s-]loss|take[\s-]profit|target\s+price|allocation|quantity|shares?|usd[c]?)\b/gi;function ntt(t,e,r,n,i,o,s){let a=[],c=$Gt(i);a.push(c);let l=LGt(i,s);a.push(l);let u=BGt(i);a.push(u);let d=UGt(i,o);a.push(d);let p=FGt(i,r);a.push(p);let m=[.2,.25,.2,.15,.2],h=Math.round(a.reduce((B,P,V)=>B+P.score*m[V],0)*100)/100,f=Math.min(...a.map(B=>B.score)),y;f>=.8?y="gold":f>=.6?y="silver":f>=.4?y="bronze":y="uncertified";let v=ttt("sha256").update(i).digest("hex").slice(0,16),_=JSON.stringify({agentId:t,roundId:e,level:y,compositeScore:h,reasoningHash:v,dimensions:a.map(B=>({name:B.name,score:B.score}))}),x=ttt("sha256").update(_).digest("hex"),E=new Date,I=new Date(E.getTime()+10080*60*1e3),N={certificateId:`cert_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,hash:x,agentId:t,roundId:e,level:y,compositeScore:h,dimensions:a,reasoningHash:v,action:r,symbol:n,issuedAt:E.toISOString(),expiresAt:I.toISOString()},L=rT.get(t)??[];return L.unshift(N),L.length>rtt&&(L.length=rtt),rT.set(t,L),DGt.set(x,N),N}function $Gt(t){let e=[];kue.lastIndex=0;let r=kue.test(t);kue.lastIndex=0,r&&e.push("Contains thesis statement"),Due.lastIndex=0;let n=(t.match(Due)??[]).length;Due.lastIndex=0,n>0&&e.push(`${n} evidence markers`),Mue.lastIndex=0;let i=Mue.test(t);Mue.lastIndex=0,i&&e.push("Contains conclusion");let o=t.split(/[.!?]+/).filter(c=>c.trim().length>10),s=t.split(/\s+/).length;s>50&&e.push(`${s} words (sufficient depth)`);let a=0;return r&&(a+=.25),n>0&&(a+=Math.min(.3,n*.1)),i&&(a+=.2),o.length>=3&&(a+=.15),s>=50&&(a+=.1),{name:"structural_completeness",score:Math.min(1,Math.round(a*100)/100),indicators:e,grade:nT(a)}}function LGt(t,e){let r=[];$ue.lastIndex=0;let n=(t.match($ue)??[]).length;$ue.lastIndex=0,n>0&&r.push(`${n} quantitative claims`),Lue.lastIndex=0;let i=(t.match(Lue)??[]).length;Lue.lastIndex=0,i>0&&r.push(`${i} temporal references`);let o=e.length;o>0&&r.push(`${o} data sources cited`);let s=0;return s+=Math.min(.3,n*.06),s+=Math.min(.2,i*.07),s+=Math.min(.3,o*.1),o>=3&&(s+=.1),/\$\d+/.test(t)&&(s+=.1),{name:"data_grounding",score:Math.min(1,Math.round(s*100)/100),indicators:r,grade:nT(s)}}function BGt(t){let e=[];Bue.lastIndex=0;let r=(t.match(Bue)??[]).length;Bue.lastIndex=0,r>0&&e.push(`${r} causal connectors`);let n=0;for(let[a,c]of MGt)a.test(t)&&c.test(t)&&(n++,e.push("Internal contradiction detected")),a.lastIndex=0,c.lastIndex=0;let i=t.split(/[.!?]+/).filter(a=>a.trim().length>20),o=!1;if(i.length>=2){let a=i[0].trim().toLowerCase().slice(0,50),c=i[i.length-1].trim().toLowerCase().slice(0,50);a===c&&(o=!0,e.push("Potentially circular: first and last points identical"))}let s=.5;return s+=Math.min(.3,r*.05),s-=n*.15,o&&(s-=.1),r>=3&&n===0&&(s+=.1),{name:"logical_soundness",score:Math.max(0,Math.min(1,Math.round(s*100)/100)),indicators:e,grade:nT(s)}}function UGt(t,e){let r=[],n=e>1?e/100:e;Uue.lastIndex=0;let i=(t.match(Uue)??[]).length;Uue.lastIndex=0,i>0&&r.push(`${i} uncertainty acknowledgments`),Fue.lastIndex=0;let o=(t.match(Fue)??[]).length;Fue.lastIndex=0,o>0&&r.push(`${o} overconfidence markers`);let s=i>0,a=o>0,c=.5;return s&&(c+=Math.min(.25,i*.08)),a&&(c-=o*.1),n>.8&&!s&&!a&&(c-=.1,r.push("High confidence without uncertainty acknowledgment")),n<.5&&s&&(c+=.1,r.push("Low confidence with appropriate uncertainty expression")),{name:"epistemic_honesty",score:Math.max(0,Math.min(1,Math.round(c*100)/100)),indicators:r,grade:nT(c)}}function FGt(t,e){let r=[];zue.lastIndex=0;let n=(t.match(zue)??[]).length;zue.lastIndex=0,n>0&&r.push(`${n} actionable details`);let i=new RegExp(`\\b(?:I(?:'m|\\s+am)\\s+(?:buying|selling|holding)|decision\\s+(?:is|to)|I\\s+(?:choose|decide)\\s+to\\s+${e})`,"i").test(t);i&&r.push("Clear decision statement");let o=/\b(?:\d+\s*(?:shares?|tokens?|units?)|\$[\d,.]+\s*(?:worth|of)|position\s+size|allocation)\b/i.test(t);o&&r.push("Position sizing context");let s=/\b(?:stop[\s-]loss|take[\s-]profit|exit|risk[\s-]reward|position\s+limit|max\s+(?:loss|risk))\b/i.test(t);s&&r.push("Risk management criteria");let a=0;return a+=Math.min(.3,n*.05),i&&(a+=.25),o&&(a+=.2),s&&(a+=.25),{name:"actionability",score:Math.min(1,Math.round(a*100)/100),indicators:r,grade:nT(a)}}function nT(t){return t>=.9?"A":t>=.8?"B+":t>=.7?"B":t>=.6?"C+":t>=.5?"C":t>=.4?"D":"F"}function itt(t){let e=rT.get(t)??[],r=e.filter(I=>I.level==="gold").length,n=e.filter(I=>I.level==="silver").length,i=e.filter(I=>I.level==="bronze").length,o=e.filter(I=>I.level==="uncertified").length,s=r+n+i,a=e.length,c=a>0?Math.round(e.reduce((I,N)=>I+N.compositeScore,0)/a*100)/100:0,l={};for(let I of e)for(let N of I.dimensions)l[N.name]||(l[N.name]=[]),l[N.name].push(N.score);let u=Object.entries(l).map(([I,N])=>({name:I,avg:N.reduce((L,B)=>L+B,0)/N.length}));u.sort((I,N)=>N.avg-I.avg);let d=u[0]?.name??"none",p=u[u.length-1]?.name??"none",m=Math.floor(a/2),h=e.slice(m),f=e.slice(0,m),y=h.length>0?h.reduce((I,N)=>I+N.compositeScore,0)/h.length:0,v=f.length>0?f.reduce((I,N)=>I+N.compositeScore,0)/f.length:0,_="stable";v-y>.03&&(_="improving"),y-v>.03&&(_="declining");let x=a>0?s/a:0,E=Math.round((x*.4+c*.6)*100)/100;return{agentId:t,totalCertifications:a,goldCount:r,silverCount:n,bronzeCount:i,uncertifiedCount:o,certificationRate:a>0?Math.round(x*100)/100:0,avgComposite:c,bestDimension:d,worstDimension:p,trend:_,pillarScore:E}}function N$(){let t={};for(let e of rT.keys())t[e]=itt(e);return t}function P$(t){return itt(t).pillarScore}function bw(){let t=0,e=0,r=0,n=0,i=0,o=0;for(let s of rT.values()){t+=s.length;for(let a of s)o+=a.compositeScore,a.level==="gold"?e++:a.level==="silver"?r++:a.level==="bronze"?n++:i++}return{totalCertificates:t,goldTotal:e,silverTotal:r,bronzeTotal:n,uncertifiedTotal:i,overallCertRate:t>0?Math.round((e+r+n)/t*100)/100:0,avgComposite:t>0?Math.round(o/t*100)/100:0}}var zGt=[];function VGt(t){let e=zGt.filter(x=>x.agentA===t||x.agentB===t),r=0,n=0,i=0,o=0,s={evidenceWeight:0,logicalConsistency:0,calibrationAccuracy:0,riskDisclosure:0,originality:0},a=0,c=0,l=0,u=0;for(let x of e){let E=x.agentA===t,I=E?x.scoresA:x.scoresB;o+=I.composite;for(let N of Object.keys(s))s[N]+=I[N];x.winner==="tie"?i++:x.winner===t?r++:n++,x.isDisagreement&&(x.winner===t?a++:x.winner!=="tie"&&c++),x.outcomeVerdict&&x.outcomeVerdict!=="pending"&&(u++,(E&&x.outcomeVerdict==="agentA_correct"||!E&&x.outcomeVerdict==="agentB_correct")&&l++)}let d=e.length||1,p={};for(let[x,E]of Object.entries(s))p[x]=Math.round(E/d*100)/100;let m=Object.entries(p).sort((x,E)=>E[1]-x[1]),h=m[0]?.[0]??"none",f=m[m.length-1]?.[0]??"none",y=e.slice(0,10),v=e.slice(10,20),_="stable";if(y.length>=5&&v.length>=5){let x=y.reduce((N,L)=>{let B=L.agentA===t?L.scoresA:L.scoresB;return N+B.composite},0)/y.length,E=v.reduce((N,L)=>{let B=L.agentA===t?L.scoresA:L.scoresB;return N+B.composite},0)/v.length,I=x-E;I>.05?_="improving":I<-.05&&(_="declining")}return{agentId:t,totalCases:e.length,wins:r,losses:n,ties:i,winRate:e.length>0?Math.round(r/e.length*100)/100:0,avgComposite:Math.round(o/d*100)/100,strengthDimension:h,weaknessDimension:f,disagreementRecord:{wins:a,losses:c},outcomeAccuracy:u>0?Math.round(l/u*100)/100:0,recentTrend:_}}function k$(t){let e=VGt(t);if(e.totalCases===0)return .5;let r=e.recentTrend==="improving"?.8:e.recentTrend==="stable"?.5:.2;return Math.round((e.winRate*.4+e.avgComposite*.3+e.outcomeAccuracy*.2+r*.1)*100)/100}var jGt=[];function qGt(t){let e=jGt.filter(f=>f.participants.some(y=>y.agentId===t)),r=0,n=0,i=0,o=0,s=0,a=0,c=0,l=0,u=0,d={thesisClarity:0,evidenceQuality:0,logicalStrength:0,rebuttalPower:0,intellectualHonesty:0};for(let f of e){let y=f.verdict.scores[t];if(!y)continue;o+=y.composite,s+=f.debateQualityScore,f.verdict.winner==="tie"?i++:f.verdict.winner===t?r++:n++;for(let E of Object.keys(d))d[E]+=y[E];let v=f.participants,_=v.find(E=>E.agentId===t),x=v.find(E=>E.agentId!==t);_&&x&&(c++,_.rebuttalStrength>x.rebuttalStrength&&a++);for(let E of f.evidenceClashes)u++,E.winner===t&&l++}let p=e.length||1,m={};for(let[f,y]of Object.entries(d))m[f]=Math.round(y/p*100)/100;let h=Object.entries(m).sort((f,y)=>y[1]-f[1]);return{agentId:t,totalDebates:e.length,wins:r,losses:n,ties:i,winRate:e.length>0?Math.round(r/e.length*100)/100:0,avgScore:Math.round(o/p*100)/100,bestDimension:h[0]?.[0]??"none",worstDimension:h[h.length-1]?.[0]??"none",avgDebateQuality:Math.round(s/p*100)/100,rebuttalWinRate:c>0?Math.round(a/c*100)/100:0,evidenceClashWinRate:u>0?Math.round(l/u*100)/100:0}}function D$(t){let e=qGt(t);return e.totalDebates===0?.5:Math.round((e.winRate*.3+e.avgScore*.3+e.rebuttalWinRate*.2+e.avgDebateQuality*.2)*100)/100}var HGt=[];function WGt(t){let e=t.filter(c=>c.status==="resolved");if(e.length===0)return{currentStreak:0,currentStreakType:"none",longestWinStreak:0,longestLossStreak:0};let r=0,n="none",i=0,o=0,s=0,a=0;for(let c of e)c.directionCorrect?(s++,a=0,i=Math.max(i,s)):(a++,s=0,o=Math.max(o,a));for(let c of e)if(n==="none")n=c.directionCorrect?"win":"loss",r=1;else if(n==="win"&&c.directionCorrect||n==="loss"&&!c.directionCorrect)r++;else break;return{currentStreak:r,currentStreakType:n,longestWinStreak:i,longestLossStreak:o}}function GGt(t){let e=t.filter(n=>n.status==="resolved");return[{range:"0.0-0.25",min:0,max:.25},{range:"0.25-0.50",min:.25,max:.5},{range:"0.50-0.75",min:.5,max:.75},{range:"0.75-1.0",min:.75,max:1}].map(n=>{let i=e.filter(c=>c.confidence>=n.min&&c.confidence<(n.max===1?1.01:n.max)),o=i.filter(c=>c.directionCorrect).length,s=i.filter(c=>c.magnitudeError!==void 0),a=s.reduce((c,l)=>c+(l.magnitudeError??0),0);return{range:n.range,count:i.length,directionAccuracy:i.length>0?Math.round(o/i.length*100)/100:0,avgMagnitudeError:s.length>0?Math.round(a/s.length*1e3)/1e3:0}})}function KGt(t){let e=t.filter(c=>c.status==="resolved");if(e.length<10)return .5;let r=Math.floor(e.length/2),n=e.slice(r),i=e.slice(0,r),o=n.filter(c=>c.directionCorrect).length/n.length,a=i.filter(c=>c.directionCorrect).length/i.length-o;return Math.round(Math.max(0,Math.min(1,.5+a*1.667))*100)/100}function YGt(t){let e=t.filter(a=>a.status==="resolved");if(e.length<5)return 0;let r=e.filter(a=>a.confidence>.7),n=e.filter(a=>a.confidence<=.4),i=r.length>0?r.filter(a=>a.directionCorrect).length/r.length:.5,o=n.length>0?n.filter(a=>a.directionCorrect).length/n.length:.5,s=i-o;return Math.round(Math.max(0,Math.min(1,.5+s))*100)/100}function JGt(t){let e=HGt.filter(x=>x.agentId===t),r=e.filter(x=>x.status==="resolved"),n=r.filter(x=>x.directionCorrect).length,i=r.length>0?Math.round(n/r.length*100)/100:0,o=r.filter(x=>x.magnitudeError!==void 0),s=o.length>0?Math.round(o.reduce((x,E)=>x+(E.magnitudeError??0),0)/o.length*1e3)/1e3:0,a=e.filter(x=>x.predictedHorizon!==null),c=e.length>0?Math.round(a.length/e.length*100)/100:0,l=new Map;for(let x of r){let E=l.get(x.symbol)??{correct:0,total:0};E.total++,x.directionCorrect&&E.correct++,l.set(x.symbol,E)}let u="none",d="none",p=-1,m=2;for(let[x,E]of l){if(E.total<2)continue;let I=E.correct/E.total;I>p&&(p=I,u=x),I<m&&(m=I,d=x)}let h=WGt(e),f=GGt(e),y=KGt(e),v=YGt(e),_=Math.round((i*.3+(1-Math.min(1,s*10))*.15+v*.2+c*.1+y*.25)*100)/100;return{agentId:t,totalForecasts:e.length,resolvedForecasts:r.length,directionAccuracy:i,avgMagnitudeError:s,convictionCorrelation:v,horizonUsageRate:c,learningVelocity:y,bestSymbol:u,worstSymbol:d,streakInfo:h,confidenceBuckets:f,compositeScore:_}}function M$(t){return JGt(t).compositeScore}var B$=new sn,$$=[],ott=200;function stt(t,e){$$.unshift({type:t,data:e,timestamp:new Date().toISOString()}),$$.length>ott&&($$.length=ott)}var L$={financial:.08,reasoning:.07,safety:.06,calibration:.06,patterns:.03,adaptability:.04,forensic_quality:.05,validation_quality:.05,prediction_accuracy:.04,reasoning_stability:.04,provenance_integrity:.04,model_comparison:.03,metacognition:.04,reasoning_efficiency:.03,forensic_ledger:.03,strategy_genome:.03,adversarial_robustness:.04,cross_session_memory:.04,arbitration_quality:.04,debate_performance:.04,impact_forecasting:.04,reasoning_transparency:.05,decision_accountability:.05,quality_certification:.05};function QGt(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}function Vue(){let t=Fd(),e=T$(),r=C$(),n=N$(),i=[...new Set([...t.map(s=>s.agentId),...Object.keys(e),...Object.keys(r),...Object.keys(n)])];i.length===0&&i.push("claude-value-investor","gpt-momentum-trader","grok-contrarian");let o=i.map(s=>{let a=t.find(m=>m.agentId===s),c={};if(a)for(let m of a.pillars??[])c[m.name]=m.score;for(let m of Object.keys(L$))m in c||(c[m]=.5);c.arbitration_quality=k$(s),c.debate_performance=D$(s),c.impact_forecasting=M$(s),c.adversarial_robustness=x$(s),c.cross_session_memory=E$(s),c.reasoning_transparency=I$(s),c.decision_accountability=O$(s),c.quality_certification=P$(s);let l=0;for(let[m,h]of Object.entries(L$))l+=(c[m]??.5)*h;l=Math.round(l*100)/100;let u=e[s],d=r[s],p=n[s];return{agentId:s,composite:l,grade:QGt(l),rank:0,rankChange:0,pillars:c,v20Highlights:{transparencyScore:u?.avgTransparency??.5,accountabilityScore:d?.accountabilityScore??.5,certificationLevel:p?.goldCount>0?"gold":p?.silverCount>0?"silver":p?.bronzeCount>0?"bronze":"uncertified",certificationRate:p?.certificationRate??0,claimAccuracy:d?.accuracyRate??0}}});return o.sort((s,a)=>a.composite-s.composite),o.forEach((s,a)=>{s.rank=a+1}),o}B$.get("/data",t=>{let e=Vue(),r=Cg(),n=gw(),i=yw(),o=bw();return t.json({ok:!0,benchmark:"moltapp-v20",version:"20.0.0",pillars:24,leaderboard:e,weights:L$,v20:{transparency:n,accountability:i,certification:o},health:r,generatedAt:new Date().toISOString()})});B$.get("/stream",t=>{let e=new ReadableStream({start(r){let n=new TextEncoder;for(let o of $$.slice(0,20))r.enqueue(n.encode(`event: ${o.type}
data: ${JSON.stringify(o.data)}

`));let i=setInterval(()=>{r.enqueue(n.encode(`: keepalive

`))},3e4);t.req.raw.signal.addEventListener("abort",()=>{clearInterval(i),r.close()})}});return new Response(e,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});B$.get("/export",t=>{let r=Vue().map(n=>JSON.stringify(n));return new Response(r.join(`
`),{headers:{"Content-Type":"application/jsonl","Content-Disposition":"attachment; filename=benchmark-v20-scores.jsonl"}})});B$.get("/",t=>{let e=Vue(),r=gw(),n=yw(),i=bw(),o=e.map(a=>`
    <tr>
      <td style="font-weight:bold;color:#f5c542">#${a.rank}</td>
      <td>${a.agentId}</td>
      <td style="font-size:1.2em;font-weight:bold">${a.grade}</td>
      <td>${a.composite.toFixed(2)}</td>
      <td>${(a.pillars.reasoning_transparency??0).toFixed(2)}</td>
      <td>${(a.pillars.decision_accountability??0).toFixed(2)}</td>
      <td>${(a.pillars.quality_certification??0).toFixed(2)}</td>
      <td><span style="background:${a.v20Highlights.certificationLevel==="gold"?"#f5c542":a.v20Highlights.certificationLevel==="silver"?"#c0c0c0":a.v20Highlights.certificationLevel==="bronze"?"#cd7f32":"#555"};padding:2px 8px;border-radius:4px;font-size:0.8em">${a.v20Highlights.certificationLevel.toUpperCase()}</span></td>
      <td>${(a.v20Highlights.claimAccuracy*100).toFixed(0)}%</td>
    </tr>
  `).join(""),s=`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MoltApp Benchmark v20 \u2014 24-Pillar AI Trading Benchmark</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { background: #0a0a0f; color: #e0e0e0; font-family: 'Inter', system-ui, -apple-system, sans-serif; }
    .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
    header { text-align: center; padding: 40px 0 30px; border-bottom: 1px solid #1a1a2e; margin-bottom: 30px; }
    h1 { font-size: 2.2em; background: linear-gradient(135deg, #f5c542, #ff6b6b, #4ecdc4); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 8px; }
    .subtitle { color: #888; font-size: 1.1em; }
    .badge-row { display: flex; gap: 12px; justify-content: center; margin-top: 16px; flex-wrap: wrap; }
    .badge { padding: 4px 14px; border-radius: 20px; font-size: 0.85em; font-weight: 600; }
    .badge-pillars { background: #1a1a3e; color: #4ecdc4; border: 1px solid #4ecdc4; }
    .badge-hf { background: #1a1a3e; color: #f5c542; border: 1px solid #f5c542; }
    .badge-v20 { background: #2a1a3e; color: #ff6b6b; border: 1px solid #ff6b6b; }
    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-bottom: 30px; }
    .card { background: #12121a; border: 1px solid #1a1a2e; border-radius: 12px; padding: 20px; }
    .card h2 { font-size: 1em; color: #888; margin-bottom: 12px; text-transform: uppercase; letter-spacing: 1px; }
    .card .value { font-size: 2em; font-weight: 700; }
    .card .label { color: #666; font-size: 0.85em; margin-top: 4px; }
    table { width: 100%; border-collapse: collapse; background: #12121a; border-radius: 12px; overflow: hidden; }
    th { background: #1a1a2e; padding: 12px 16px; text-align: left; font-size: 0.85em; text-transform: uppercase; letter-spacing: 1px; color: #888; }
    td { padding: 12px 16px; border-bottom: 1px solid #1a1a2e; }
    tr:hover { background: #1a1a2e; }
    .section-title { font-size: 1.3em; margin: 30px 0 16px; color: #fff; }
    .new-badge { background: #ff6b6b; color: white; padding: 2px 8px; border-radius: 4px; font-size: 0.7em; vertical-align: middle; margin-left: 8px; }
    .pillar-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 12px; margin: 20px 0; }
    .pillar-card { background: #1a1a2e; border-radius: 8px; padding: 12px; text-align: center; }
    .pillar-card .name { font-size: 0.75em; color: #888; text-transform: uppercase; }
    .pillar-card .weight { font-size: 1.4em; font-weight: 700; color: #4ecdc4; }
    footer { text-align: center; padding: 30px 0; color: #555; border-top: 1px solid #1a1a2e; margin-top: 40px; }
    a { color: #4ecdc4; text-decoration: none; }
    a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>MoltApp: AI Trading Benchmark v20</h1>
      <div class="subtitle">Live evaluation of AI agents trading tokenized real-world stocks on Solana</div>
      <div class="badge-row">
        <span class="badge badge-pillars">24 Scoring Pillars</span>
        <span class="badge badge-hf"><a href="https://huggingface.co/datasets/patruff/molt-benchmark" style="color:inherit">HuggingFace Dataset</a></span>
        <span class="badge badge-v20">v20: Transparency + Accountability + Certification</span>
      </div>
    </header>

    <div class="grid">
      <div class="card">
        <h2>Transparency</h2>
        <div class="value" style="color:#4ecdc4">${r.avgTransparency.toFixed(2)}</div>
        <div class="label">${r.totalReports} transparency reports generated</div>
      </div>
      <div class="card">
        <h2>Accountability</h2>
        <div class="value" style="color:#f5c542">${(n.overallAccuracy*100).toFixed(0)}%</div>
        <div class="label">${n.totalClaimsTracked} claims tracked, ${n.totalResolved} resolved</div>
      </div>
      <div class="card">
        <h2>Certification</h2>
        <div class="value" style="color:#ff6b6b">${(i.overallCertRate*100).toFixed(0)}%</div>
        <div class="label">${i.totalCertificates} certificates \u2014 ${i.goldTotal} Gold, ${i.silverTotal} Silver, ${i.bronzeTotal} Bronze</div>
      </div>
    </div>

    <h2 class="section-title">24-Pillar Leaderboard<span class="new-badge">NEW v20</span></h2>
    <table>
      <thead>
        <tr>
          <th>Rank</th>
          <th>Agent</th>
          <th>Grade</th>
          <th>Composite</th>
          <th>Transparency</th>
          <th>Accountability</th>
          <th>Certification</th>
          <th>Cert Level</th>
          <th>Claim Accuracy</th>
        </tr>
      </thead>
      <tbody>${o}</tbody>
    </table>

    <h2 class="section-title">All 24 Scoring Pillars</h2>
    <div class="pillar-grid">
      ${Object.entries(L$).map(([a,c])=>`
        <div class="pillar-card" ${["reasoning_transparency","decision_accountability","quality_certification"].includes(a)?'style="border: 1px solid #ff6b6b"':""}>
          <div class="name">${a.replace(/_/g," ")}${["reasoning_transparency","decision_accountability","quality_certification"].includes(a)?'<span class="new-badge">NEW</span>':""}</div>
          <div class="weight">${(c*100).toFixed(0)}%</div>
        </div>
      `).join("")}
    </div>

    <h2 class="section-title">v20 New Engines</h2>
    <div class="grid">
      <div class="card">
        <h2>Reasoning Transparency Engine</h2>
        <p style="color:#aaa;font-size:0.9em">Decomposes agent reasoning into verifiable components: claim extraction, evidence mapping, logic chain validation, assumption surfacing, counterfactual analysis. Every claim gets checked.</p>
      </div>
      <div class="card">
        <h2>Decision Accountability Tracker</h2>
        <p style="color:#aaa;font-size:0.9em">Registers specific verifiable claims at trade time and resolves them against outcomes. Tracks directional accuracy, price targets, overconfidence patterns, and learning velocity.</p>
      </div>
      <div class="card">
        <h2>Reasoning Quality Certifier</h2>
        <p style="color:#aaa;font-size:0.9em">Issues Gold/Silver/Bronze quality certificates based on 5 dimensions: structural completeness, data grounding, logical soundness, epistemic honesty, and actionability. SHA-256 verifiable.</p>
      </div>
    </div>

    <h2 class="section-title">API Endpoints</h2>
    <div class="card">
      <pre style="color:#4ecdc4;font-size:0.85em;line-height:1.6">
GET /benchmark-v20          \u2014 This dashboard
GET /benchmark-v20/data     \u2014 JSON data payload
GET /benchmark-v20/stream   \u2014 SSE live events
GET /benchmark-v20/export   \u2014 JSONL export

GET /api/v1/benchmark-v20/scores           \u2014 All agent scores
GET /api/v1/benchmark-v20/score/:agentId   \u2014 Single agent score
GET /api/v1/benchmark-v20/transparency     \u2014 Transparency profiles
GET /api/v1/benchmark-v20/transparency/:id \u2014 Agent transparency
GET /api/v1/benchmark-v20/accountability   \u2014 Accountability profiles
GET /api/v1/benchmark-v20/accountability/:id \u2014 Agent accountability
GET /api/v1/benchmark-v20/certification    \u2014 All certificates
GET /api/v1/benchmark-v20/certification/:id \u2014 Agent certificates
GET /api/v1/benchmark-v20/verify/:hash     \u2014 Verify certificate
GET /api/v1/benchmark-v20/health           \u2014 Benchmark health
GET /api/v1/benchmark-v20/weights          \u2014 Pillar weights
GET /api/v1/benchmark-v20/schema           \u2014 Data schema
GET /api/v1/benchmark-v20/export/jsonl     \u2014 JSONL export
GET /api/v1/benchmark-v20/export/csv       \u2014 CSV export
      </pre>
    </div>

    <footer>
      <p>MoltApp v20 \u2014 24-Pillar AI Trading Benchmark | <a href="https://www.patgpt.us">www.patgpt.us</a> | <a href="https://huggingface.co/datasets/patruff/molt-benchmark">HuggingFace</a></p>
      <p style="margin-top:8px;font-size:0.85em">Built for the Colosseum Agent Hackathon. Every trade requires reasoning. No black-box trades.</p>
    </footer>
  </div>
  <script>
    setTimeout(() => location.reload(), 45000);
  </script>
</body>
</html>`;return t.html(s)});var iT=new Map,ZGt=[/\bcurrently\s+(?:at|trading|priced)/i,/\bprice\s+is\b/i,/\bvolume\s+(?:is|was|at)\b/i,/\bmarket\s+(?:is|was|shows)\b/i,/\bdata\s+(?:shows|indicates|suggests)\b/i,/\b(?:up|down)\s+[\d.]+%/i,/\$[\d,.]+/,/\bhistorically\b/i,/\baccording\s+to\b/i],XGt=[/\banalysis\b/i,/\bcompared?\s+to\b/i,/\brelative\s+to\b/i,/\bcorrelat/i,/\btrend\b/i,/\bpattern\b/i,/\bsupport\s+(?:and|\/)\s+resistance\b/i,/\bmoving\s+average\b/i,/\brsi\b/i,/\bmacd\b/i,/\bfundamentals?\b/i],eKt=[/\btherefore\b/i,/\bthus\b/i,/\bhence\b/i,/\bthis\s+(?:means|implies|suggests|indicates)\b/i,/\bwe\s+can\s+(?:infer|conclude|deduce)\b/i,/\blikely\b/i,/\bprobably\b/i,/\bsuggests?\s+that\b/i,/\bimplies?\s+that\b/i],tKt=[/\bin\s+conclusion\b/i,/\boverall\b/i,/\btherefore,?\s+(?:I|we)\s+(?:should|will|recommend)\b/i,/\bbased\s+on\s+(?:the\s+above|this\s+analysis|these\s+factors)\b/i,/\bmy\s+(?:recommendation|decision|verdict)\b/i,/\bfinal\s+(?:assessment|verdict|decision)\b/i,/\bi\s+(?:recommend|decide|choose)\b/i],rKt=[/\bhowever\b/i,/\balthough\b/i,/\bdespite\b/i,/\brisk\b/i,/\bcaveat\b/i,/\bcaution\b/i,/\buncertain\b/i,/\bon\s+the\s+other\s+hand\b/i,/\bnevertheless\b/i,/\bbut\b/i],nKt=[/\bbuy(?:ing)?\s+because\b/i,/\bsell(?:ing)?\s+because\b/i,/\bhold(?:ing)?\s+because\b/i,/\bposition\b.*\bbecause\b/i,/\benter(?:ing)?\s+(?:a\s+)?(?:long|short)\b/i,/\btake\s+profit\b/i,/\bstop[\s-]loss\b/i,/\bexit(?:ing)?\s+(?:the\s+)?position\b/i],iKt=[{regex:/\bbecause\b/i,type:"causal",strength:.8},{regex:/\bsince\b/i,type:"causal",strength:.7},{regex:/\bdue\s+to\b/i,type:"causal",strength:.8},{regex:/\bas\s+a\s+result\b/i,type:"causal",strength:.9},{regex:/\btherefore\b/i,type:"causal",strength:.9},{regex:/\bthus\b/i,type:"causal",strength:.8},{regex:/\bhence\b/i,type:"causal",strength:.8},{regex:/\bconsequently\b/i,type:"causal",strength:.9},{regex:/\bso\b/i,type:"causal",strength:.5},{regex:/\bif\b/i,type:"conditional",strength:.7},{regex:/\bassuming\b/i,type:"conditional",strength:.6},{regex:/\bprovided\s+that\b/i,type:"conditional",strength:.7},{regex:/\bunless\b/i,type:"conditional",strength:.7},{regex:/\bcompared\s+to\b/i,type:"comparative",strength:.7},{regex:/\brelative\s+to\b/i,type:"comparative",strength:.7},{regex:/\bwhereas\b/i,type:"comparative",strength:.6},{regex:/\bmore\s+than\b/i,type:"comparative",strength:.5},{regex:/\bless\s+than\b/i,type:"comparative",strength:.5},{regex:/\bafter\b/i,type:"temporal",strength:.5},{regex:/\bbefore\b/i,type:"temporal",strength:.5},{regex:/\brecently\b/i,type:"temporal",strength:.4},{regex:/\bpreviously\b/i,type:"temporal",strength:.4},{regex:/\bnow\b/i,type:"temporal",strength:.3},{regex:/\bfurthermore\b/i,type:"additive",strength:.5},{regex:/\bmoreover\b/i,type:"additive",strength:.5},{regex:/\badditionally\b/i,type:"additive",strength:.5},{regex:/\balso\b/i,type:"additive",strength:.3},{regex:/\band\b/i,type:"additive",strength:.2},{regex:/\bhowever\b/i,type:"contrastive",strength:.7},{regex:/\bbut\b/i,type:"contrastive",strength:.6},{regex:/\balthough\b/i,type:"contrastive",strength:.6},{regex:/\bdespite\b/i,type:"contrastive",strength:.7},{regex:/\bnevertheless\b/i,type:"contrastive",strength:.7},{regex:/\bon\s+the\s+other\s+hand\b/i,type:"contrastive",strength:.7}],oKt=[/\$[\d,.]+/,/[\d.]+%/,/\bprice\s+(?:of|at|is)\b/i,/\bvolume\b/i,/\bmarket\s+cap\b/i,/\bp\/e\b/i,/\bearnings\b/i,/\brevenue\b/i],sKt=[/\bgenerally\b/i,/\btypically\b/i,/\bhistorically\b/i,/\bin\s+(?:the\s+)?past\b/i,/\busually\b/i,/\bcommonly\b/i,/\bwell[\s-]known\b/i],aKt=[/\bassum/i,/\bexpect/i,/\bbelieve\b/i,/\bthink\b/i,/\bfeel\b/i,/\bguess\b/i,/\bspeculat/i,/\bhope\b/i];function cKt(t){let e=t.split(/(?<=[.!?;])\s+|\n+/).map(n=>n.trim()).filter(n=>n.length>5),r=[];for(let n=0;n<e.length;n++){let i=e[n],o=lKt(i,n,e.length),s=uKt(i),a=dKt(i,n,e);r.push({index:n,text:i,type:o,dependsOn:a,hasEvidence:s.hasEvidence,evidenceType:s.evidenceType})}return r}function lKt(t,e,r){let n={observation:0,analysis:0,inference:0,conclusion:0,hedge:0,action_rationale:0};for(let a of ZGt)a.test(t)&&(n.observation+=1);for(let a of XGt)a.test(t)&&(n.analysis+=1);for(let a of eKt)a.test(t)&&(n.inference+=1);for(let a of tKt)a.test(t)&&(n.conclusion+=1);for(let a of rKt)a.test(t)&&(n.hedge+=1);for(let a of nKt)a.test(t)&&(n.action_rationale+=1);let i=r>1?e/(r-1):.5;i<.3&&(n.observation+=.5),i>.7&&(n.conclusion+=.5),i>.8&&(n.action_rationale+=.3);let o="observation",s=-1;for(let[a,c]of Object.entries(n))c>s&&(s=c,o=a);return s>0?o:"observation"}function uKt(t){for(let e of oKt)if(e.test(t))return{hasEvidence:!0,evidenceType:"data_cited"};for(let e of sKt)if(e.test(t))return{hasEvidence:!0,evidenceType:"general_knowledge"};for(let e of aKt)if(e.test(t))return{hasEvidence:!1,evidenceType:"assumption"};return{hasEvidence:!1,evidenceType:"none"}}function dKt(t,e,r){let n=[];if(e===0)return n;let i=t.toLowerCase();/\bthis\s+(?:means|implies|suggests|shows|indicates)\b/i.test(i)&&n.push(e-1),/\btherefore\b|\bthus\b|\bhence\b|\bconsequently\b|\bas\s+a\s+result\b/i.test(i)&&(n.push(e-1),e>=2&&n.push(e-2)),/\bhowever\b|\bbut\b|\balthough\b|\bdespite\b|\bnevertheless\b/i.test(i)&&n.push(e-1),/\bfurthermore\b|\bmoreover\b|\badditionally\b/i.test(i)&&n.push(e-1);let o=att(t);for(let s=0;s<e;s++){let a=att(r[s]);o.filter(l=>a.includes(l)).length>=2&&!n.includes(s)&&n.push(s)}return n.length===0&&e>0&&n.push(e-1),[...new Set(n)].sort((s,a)=>s-a)}function att(t){let e=new Set(["the","a","an","is","are","was","were","be","been","being","have","has","had","do","does","did","will","would","could","should","may","might","can","shall","to","of","in","for","on","with","at","by","from","as","into","through","during","and","or","but","not","no","so","if","then","than","that","this","these","those","it","its","i","we","my","our"]);return t.toLowerCase().replace(/[^a-z0-9\s]/g,"").split(/\s+/).filter(r=>r.length>2&&!e.has(r))}function pKt(t){let e=[];for(let r=1;r<t.length;r++){let n=t[r];for(let i of iKt)if(i.regex.test(n.text)){let o=n.dependsOn.length>0?n.dependsOn[0]:r-1,s=n.text.match(i.regex);e.push({fromStep:o,toStep:r,type:i.type,strength:i.strength,text:s?s[0]:""});break}}return e}function mKt(t){let e=[],r=new Set;for(let n of t)for(let i of n.dependsOn)if(i>=0&&i<t.length&&t[i].dependsOn.includes(n.index)){let s=`${Math.min(n.index,i)},${Math.max(n.index,i)}`;r.has(s)||(r.add(s),e.push({type:"circular_reasoning",severity:.8,description:`Steps ${Math.min(n.index,i)} and ${Math.max(n.index,i)} reference each other circularly`,stepIndices:[Math.min(n.index,i),Math.max(n.index,i)]}))}return e}function fKt(t){let e=[];for(let r of t){if(r.type!=="conclusion"&&r.type!=="action_rationale")continue;!r.dependsOn.some(i=>{if(i>=0&&i<t.length){let o=t[i].type;return o==="analysis"||o==="inference"||o==="observation"}return!1})&&r.dependsOn.length>0&&e.push({type:"non_sequitur",severity:.6,description:`Conclusion at step ${r.index} lacks supporting analysis or inference`,stepIndices:[r.index]})}return e}function hKt(t){let e=[],r=[];for(let n of t)n.hasEvidence?(r.length>=3&&e.push({type:"evidence_gap",severity:Math.min(1,.3+r.length*.1),description:`Steps ${r[0]}-${r[r.length-1]} (${r.length} steps) lack evidential support`,stepIndices:[...r]}),r=[]):r.push(n.index);return r.length>=3&&e.push({type:"evidence_gap",severity:Math.min(1,.3+r.length*.1),description:`Steps ${r[0]}-${r[r.length-1]} (${r.length} steps) lack evidential support`,stepIndices:[...r]}),e}function gKt(t){let e=[],r=[],n=[];for(let i of t){let o=i.text.toLowerCase();/\bbullish\b|\bupside\b|\bundervalued\b|\bgrowth\b|\bbuy\b/.test(o)&&r.push(i.index),/\bbearish\b|\bdownside\b|\bovervalued\b|\bdecline\b|\bsell\b/.test(o)&&n.push(i.index)}return r.length>0&&n.length>0&&(t.some(o=>o.type==="hedge")||e.push({type:"contradiction",severity:.7,description:`Contradictory signals: bullish at steps [${r.join(",")}] vs bearish at [${n.join(",")}] without hedging`,stepIndices:[...r,...n]})),e}function yKt(t){let e=[];for(let r of t)if(!(r.type!=="inference"&&r.type!=="conclusion")){for(let n of r.dependsOn)if(n>=0&&n<t.length){let i=r.index-n,o=t[n];i>=4&&o.type==="observation"&&r.dependsOn.length===1&&e.push({type:"unsupported_leap",severity:.5,description:`Step ${r.index} leaps ${i} steps back to observation at step ${n} without intermediate analysis`,stepIndices:[n,r.index]})}}return e}function bKt(t){let e=new Map;function r(i,o){if(e.has(i))return e.get(i);if(o.has(i))return 0;o.add(i);let s=t[i];if(!s||s.dependsOn.length===0)return e.set(i,1),1;let a=0;for(let l of s.dependsOn)if(l>=0&&l<t.length){let u=r(l,o);u>a&&(a=u)}let c=a+1;return e.set(i,c),c}let n=0;for(let i=0;i<t.length;i++){let o=r(i,new Set);o>n&&(n=o)}return n}function vKt(t,e,r,n){if(t.length===0)return 0;let i=t.length,o=t.filter(c=>c.hasEvidence).length,s=e.filter(c=>c.strength>=.5).length,a=.6;a+=.2*(o/i),a+=.1*(s/i),a+=.1*Math.min(1,n/4);for(let c of r)a-=c.severity>.5?.15:.05;return Math.round(Math.max(0,Math.min(1,a))*100)/100}function ctt(t,e,r){let n=cKt(t),i=pKt(n),o=[...mKt(n),...fKt(n),...hKt(n),...gKt(n),...yKt(n)],s=bKt(n),a=n.filter(u=>u.hasEvidence).length,c=n.length>0?a/n.length:0,l=vKt(n,i,o,s);return{steps:n,connectors:i,defects:o,chainQualityScore:l,stepCount:n.length,avgStepEvidence:Math.round(c*100)/100,longestLogicalChain:s,hasCircularReasoning:o.some(u=>u.type==="circular_reasoning"),hasMajorGaps:o.some(u=>u.type==="evidence_gap"&&u.severity>.5)}}function ltt(t,e){let r=iT.get(t)??[];r.push(e),iT.set(t,r)}function utt(t){let e=iT.get(t);if(!e||e.length===0)return .5;let r=e.reduce((c,l)=>c+l.chainQualityScore,0)/e.length,n=e.reduce((c,l)=>c+l.avgStepEvidence,0)/e.length,i=e.reduce((c,l)=>c+l.defects.length,0),o=e.reduce((c,l)=>c+l.stepCount,0),s=o>0?Math.min(1,i/o):0,a=r*.4+n*.3+(1-s)*.3;return Math.round(Math.max(0,Math.min(1,a))*100)/100}function dtt(){let t={};for(let[e,r]of iT.entries()){if(r.length===0)continue;let n=r.reduce((c,l)=>c+l.chainQualityScore,0)/r.length,i=r.reduce((c,l)=>c+l.avgStepEvidence,0)/r.length,o=r.reduce((c,l)=>c+l.defects.length,0),s=r.reduce((c,l)=>c+l.stepCount,0),a=s>0?o/s:0;t[e]={avgQuality:Math.round(n*100)/100,avgEvidence:Math.round(i*100)/100,defectRate:Math.round(a*100)/100,totalChains:r.length}}return t}function jue(){let t=0,e=0,r=0,n={};for(let i of iT.values())for(let o of i){t++,e+=o.chainQualityScore,r+=o.defects.length;for(let s of o.defects)n[s.type]=(n[s.type]??0)+1}return{totalValidations:t,avgQuality:t>0?Math.round(e/t*100)/100:0,avgDefectsPerChain:t>0?Math.round(r/t*100)/100:0,defectDistribution:n}}var que=["price","volume","news","sentiment","technical","fundamental","macro","social","analyst","earnings"],Hue=["hedge","downside","stop-loss","stop loss","risk","caution","volatility","drawdown","exposure","protect","diversif","worst-case","worst case","tail risk","black swan","liquidat","margin"],_Kt=["price","volume","moving average","rsi","macd","support","resistance","breakout","gap","spread","bid","ask","open interest","market cap","p/e","eps","yield","dividend","52-week","52 week","all-time","intraday","close","high","low"],ptt={conviction_consistency:.25,risk_awareness:.2,market_sensitivity:.2,strategic_adaptability:.2,information_utilization:.15},Wue=new Map,oT=new Map;function mtt(t,e){let r=t.toLowerCase(),n=0,i=0;for(let o of e){let s=new RegExp(o,"gi"),a=r.match(s);a&&a.length>0&&(n+=a.length,i++)}return{totalHits:n,uniqueHits:i}}function sT(t){if(t.length<4)return"stable";let e=Math.floor(t.length/2),r=t.slice(0,e),n=t.slice(e),i=r.reduce((a,c)=>a+c,0)/r.length,s=n.reduce((a,c)=>a+c,0)/n.length-i;return s>.05?"improving":s<-.05?"declining":"stable"}function U$(t){let e=(t||"unknown").toLowerCase().trim();return e.includes("momentum")?"momentum":e.includes("value")?"value":e.includes("hedge")?"hedge":e.includes("contrarian")?"contrarian":e.includes("swing")?"swing":e.includes("scalp")?"scalp":e.includes("growth")?"growth":e.includes("income")||e.includes("dividend")?"income":e.includes("specul")?"speculative":e}function SKt(t){if(t.length<3)return{name:"conviction_consistency",score:.5,evidence:"Insufficient data (fewer than 3 trades)",trendDirection:"stable"};let e=[];for(let s of t){let a=s.action==="buy"||s.action==="sell",c=s.action==="hold";s.confidence>=.7&&a?e.push(1):s.confidence>=.7&&c?e.push(.2):s.confidence<=.3&&c?e.push(1):s.confidence<=.3&&a?e.push(.3):e.push(.7)}let r=e.reduce((s,a)=>s+a,0)/e.length,n=sT(e),i=t.filter(s=>s.confidence>=.7&&(s.action==="buy"||s.action==="sell")).length,o=t.filter(s=>s.confidence<=.3&&s.action==="hold").length;return{name:"conviction_consistency",score:Math.max(0,Math.min(1,r)),evidence:`${i} high-confidence active trades, ${o} prudent low-confidence holds out of ${t.length} total. Alignment score: ${(r*100).toFixed(1)}%`,trendDirection:n}}function wKt(t){if(t.length===0)return{name:"risk_awareness",score:0,evidence:"No trades to analyze",trendDirection:"stable"};let e=[],r=new Set;for(let s of t){let{totalHits:a,uniqueHits:c}=mtt(s.reasoning,Hue),l=Math.min(1,a/4),u=Math.min(1,c/5),d=l*.4+u*.6;e.push(d);for(let p of Hue)s.reasoning.toLowerCase().includes(p)&&r.add(p)}let n=e.reduce((s,a)=>s+a,0)/e.length,i=sT(e),o=e.filter(s=>s>.1).length;return{name:"risk_awareness",score:Math.max(0,Math.min(1,n)),evidence:`${o}/${t.length} trades mention risk concepts. ${r.size}/${Hue.length} unique risk keywords detected. Depth score: ${(n*100).toFixed(1)}%`,trendDirection:i}}function xKt(t){if(t.length===0)return{name:"market_sensitivity",score:0,evidence:"No trades to analyze",trendDirection:"stable"};let e=[];for(let o of t){let{uniqueHits:s}=mtt(o.reasoning,_Kt),a=(o.reasoning.match(/\$\d+[\d,.]*|\d+\.?\d*%/g)||[]).length,c=o.reasoning.toLowerCase().includes(o.symbol.toLowerCase())?1:0,l=Math.min(1,s/6),u=Math.min(1,a/3),d=l*.4+u*.35+c*.25;e.push(d)}let r=e.reduce((o,s)=>o+s,0)/e.length,n=sT(e),i=e.filter(o=>o>.5).length;return{name:"market_sensitivity",score:Math.max(0,Math.min(1,r)),evidence:`${i}/${t.length} trades show strong market data engagement. Average sensitivity: ${(r*100).toFixed(1)}%`,trendDirection:n}}function AKt(t){if(t.length<6)return{name:"strategic_adaptability",score:.5,evidence:"Insufficient data (fewer than 6 trades) to measure adaptability",trendDirection:"stable"};let e=Math.floor(t.length/2),r=t.slice(0,e),n=t.slice(e),i=v=>{let _=new Map;for(let x of v){let E=U$(x.intent);_.set(E,(_.get(E)??0)+1)}for(let[x,E]of _)_.set(x,E/v.length);return _},o=i(r),s=i(n),a=new Set([...o.keys(),...s.keys()]),c=0;for(let v of a){let _=o.get(v)??0,x=s.get(v)??0;c+=Math.abs(_-x)}let l=Math.min(1,c/1.5),u=r.map(v=>v.confidence),d=n.map(v=>v.confidence),p=Math.abs(u.reduce((v,_)=>v+_,0)/u.length-d.reduce((v,_)=>v+_,0)/d.length),m=l*.7+Math.min(1,p*3)*.3,h=Math.max(3,Math.floor(t.length/4)),f=[];for(let v=0;v+h<=t.length;v+=h){let _=t.slice(v,v+h),x=new Set(_.map(E=>U$(E.intent)));f.push(Math.min(1,x.size/3))}let y=sT(f);return{name:"strategic_adaptability",score:Math.max(0,Math.min(1,m)),evidence:`Intent distribution shift: ${(c*100).toFixed(1)}% divergence between halves. Confidence shift: ${(p*100).toFixed(1)}%. Unique intents: first half ${o.size}, second half ${s.size}`,trendDirection:y}}function EKt(t){if(t.length===0)return{name:"information_utilization",score:0,evidence:"No trades to analyze",trendDirection:"stable"};let e=[],r=new Set;for(let o of t){let s=new Set;for(let c of o.sources){let l=c.toLowerCase();for(let u of que)l.includes(u)&&(s.add(u),r.add(u));s.size===0&&c.trim().length>0&&(s.add("other"),r.add("other"))}for(let c of que)o.reasoning.toLowerCase().includes(c)&&(s.add(c),r.add(c));let a=Math.min(1,s.size/4);e.push(a)}let n=e.reduce((o,s)=>o+s,0)/e.length,i=sT(e);return{name:"information_utilization",score:Math.max(0,Math.min(1,n)),evidence:`${r.size}/${que.length} source types used across all trades. Per-trade average: ${(n*100).toFixed(1)}% utilization. Types seen: ${[...r].sort().join(", ")||"none"}`,trendDirection:i}}function RKt(t){if(t.length===0)return .5;let e=0;for(let r of t){let n=U$(r.intent),i=r.reasoning.toLowerCase(),o=!1;switch(n){case"momentum":o=r.action==="buy"&&/up|bull|gain|rise|rally|breakout|higher/i.test(i)||r.action==="sell"&&/down|bear|drop|fall|decline|lower/i.test(i)||r.action==="hold";break;case"value":o=r.action==="buy"&&/undervalue|cheap|discount|below.*value|bargain/i.test(i)||r.action==="sell"&&/overvalue|expensive|premium|above.*value/i.test(i)||r.action==="hold";break;case"hedge":o=r.action==="sell"||r.action==="hold";break;case"contrarian":o=!0;break;default:o=r.coherenceScore>=.5;break}o&&e++}return e/t.length}function ftt(t,e){let r=Wue.get(t)??[];r.push(e),r.length>200&&r.splice(0,r.length-200),Wue.set(t,r);let n=TKt(t);oT.set(t,n)}function TKt(t){let e=Wue.get(t)??[],r=[SKt(e),wKt(e),xKt(e),AKt(e),EKt(e)],n=r.reduce((u,d)=>{let p=ptt[d.name]??.2;return u+d.score*p},0),i=new Map;for(let u of e){let d=U$(u.intent);i.set(d,(i.get(d)??0)+1)}let o="unknown",s=0;for(let[u,d]of i)d>s&&(s=d,o=u);let a=0;if(e.length>0&&i.size>1){let u=0;for(let p of i.values()){let m=p/e.length;m>0&&(u-=m*Math.log2(m))}let d=Math.log2(i.size);a=d>0?u/d:0}let c=RKt(e),l={agentId:t,dimensions:r,overallScore:Math.max(0,Math.min(1,n)),dominantStrategy:o,strategicFlexibility:Math.max(0,Math.min(1,a)),consistencyWithStatedIntent:Math.max(0,Math.min(1,c)),tradeCount:e.length,lastUpdated:new Date().toISOString()};return oT.set(t,l),l}function htt(t){let e=oT.get(t);return e?e.dimensions.reduce((r,n)=>{let i=ptt[n.name]??.2;return r+n.score*i},0):.5}function gtt(){let t={};for(let[e,r]of oT)t[e]=r;return t}function Gue(){let t=[...oT.values()];if(t.length===0)return{totalAgents:0,avgOverallScore:0,dominantStrategies:{},dimensionAverages:{}};let e=t.reduce((s,a)=>s+a.overallScore,0)/t.length,r={};for(let s of t)r[s.dominantStrategy]=(r[s.dominantStrategy]??0)+1;let n={},i={};for(let s of t)for(let a of s.dimensions)n[a.name]=(n[a.name]??0)+a.score,i[a.name]=(i[a.name]??0)+1;let o={};for(let s of Object.keys(n))o[s]=n[s]/i[s];return{totalAgents:t.length,avgOverallScore:e,dominantStrategies:r,dimensionAverages:o}}var V$=new sn,F$=[],ytt=200;function btt(t,e){F$.unshift({type:t,data:e,timestamp:new Date().toISOString()}),F$.length>ytt&&(F$.length=ytt)}var z$={financial:.07,reasoning:.06,safety:.05,calibration:.05,patterns:.03,adaptability:.03,forensic_quality:.04,validation_quality:.04,prediction_accuracy:.04,reasoning_stability:.03,provenance_integrity:.04,model_comparison:.03,metacognition:.04,reasoning_efficiency:.03,forensic_ledger:.03,strategy_genome:.03,adversarial_robustness:.04,cross_session_memory:.03,arbitration_quality:.04,debate_performance:.04,impact_forecasting:.03,reasoning_transparency:.04,decision_accountability:.04,quality_certification:.04,reasoning_chain_integrity:.05,strategy_profiling:.05};function IKt(t){return t>=.95?"A+":t>=.9?"A":t>=.85?"A-":t>=.8?"B+":t>=.75?"B":t>=.7?"B-":t>=.65?"C+":t>=.6?"C":t>=.55?"C-":t>=.5?"D+":t>=.45?"D":t>=.4?"D-":"F"}function Kue(){let t=Fd(),e=T$(),r=C$(),n=N$(),i=dtt(),o=gtt(),s=[...new Set([...t.map(c=>c.agentId),...Object.keys(e),...Object.keys(r),...Object.keys(n),...Object.keys(i),...Object.keys(o)])];s.length===0&&s.push("claude-value-investor","gpt-momentum-trader","grok-contrarian");let a=s.map(c=>{let l=t.find(f=>f.agentId===c),u={};if(l)for(let f of l.pillars??[])u[f.name]=f.score;for(let f of Object.keys(z$))f in u||(u[f]=.5);u.arbitration_quality=k$(c),u.debate_performance=D$(c),u.impact_forecasting=M$(c),u.adversarial_robustness=x$(c),u.cross_session_memory=E$(c),u.reasoning_transparency=I$(c),u.decision_accountability=O$(c),u.quality_certification=P$(c),u.reasoning_chain_integrity=utt(c),u.strategy_profiling=htt(c);let d=0;for(let[f,y]of Object.entries(z$))d+=(u[f]??.5)*y;d=Math.round(d*100)/100;let p=e[c],m=r[c],h=n[c];return{agentId:c,name:c,provider:l?.provider??"unknown",composite:d,grade:IKt(d),rank:0,rankChange:0,pillars:u,v21Highlights:{chainIntegrity:u.reasoning_chain_integrity,strategyScore:u.strategy_profiling,transparencyScore:p?.avgTransparency??.5,accountabilityScore:m?.accountabilityScore??.5,certificationLevel:h?.goldCount>0?"gold":h?.silverCount>0?"silver":h?.bronzeCount>0?"bronze":"uncertified"}}});return a.sort((c,l)=>l.composite-c.composite),a.forEach((c,l)=>{c.rank=l+1}),a}V$.get("/stream",t=>{let e=new ReadableStream({start(r){let n=new TextEncoder;for(let o of F$.slice(0,20))r.enqueue(n.encode(`event: ${o.type}
data: ${JSON.stringify(o.data)}

`));let i=setInterval(()=>{r.enqueue(n.encode(`: keepalive

`))},3e4);t.req.raw.signal.addEventListener("abort",()=>{clearInterval(i),r.close()})}});return new Response(e,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})});V$.get("/data",t=>{let e=Kue(),r=Cg(),n=jue(),i=Gue(),o=gw(),s=yw(),a=bw();return t.json({ok:!0,benchmark:"moltapp-v21",version:"21.0.0",pillars:26,agents:e.map(c=>({agentId:c.agentId,name:c.name,provider:c.provider,v21Score:c.composite,rank:c.rank,pillars:c.pillars})),weights:z$,health:r,chainStats:n,strategyStats:i,transparencyStats:o,accountabilityStats:s,certificationStats:a,generatedAt:new Date().toISOString()})});V$.get("/export",t=>{let r=Kue().map(n=>JSON.stringify({agentId:n.agentId,name:n.name,provider:n.provider,v21Score:n.composite,grade:n.grade,rank:n.rank,pillars:n.pillars,highlights:n.v21Highlights}));return new Response(r.join(`
`),{headers:{"Content-Type":"application/jsonl","Content-Disposition":"attachment; filename=benchmark-v21-scores.jsonl"}})});V$.get("/",t=>{let e=Kue(),r=jue(),n=Gue(),i=gw(),o=yw(),s=bw(),a=e.map(u=>`
    <tr>
      <td style="font-weight:bold;color:#f5c542">#${u.rank}</td>
      <td>${u.agentId}</td>
      <td>${u.provider}</td>
      <td style="font-size:1.2em;font-weight:bold">${u.grade}</td>
      <td>${u.composite.toFixed(2)}</td>
      <td style="color:#00ff88">${(u.pillars.reasoning_chain_integrity??0).toFixed(2)}</td>
      <td style="color:#00ff88">${(u.pillars.strategy_profiling??0).toFixed(2)}</td>
      <td>${(u.pillars.reasoning_transparency??0).toFixed(2)}</td>
      <td>${(u.pillars.decision_accountability??0).toFixed(2)}</td>
      <td><span style="background:${u.v21Highlights.certificationLevel==="gold"?"#f5c542":u.v21Highlights.certificationLevel==="silver"?"#c0c0c0":u.v21Highlights.certificationLevel==="bronze"?"#cd7f32":"#555"};padding:2px 8px;border-radius:4px;font-size:0.8em;color:#000">${u.v21Highlights.certificationLevel.toUpperCase()}</span></td>
    </tr>
  `).join(""),c=Object.entries(z$).map(([u,d])=>{let p=["reasoning_chain_integrity","strategy_profiling"].includes(u);return`
      <div class="pillar-card" ${p?'style="border: 1px solid #00ff88"':""}>
        <div class="name">${u.replace(/_/g," ")}${p?'<span class="new-badge">NEW</span>':""}</div>
        <div class="weight">${(d*100).toFixed(0)}%</div>
      </div>
    `}).join(""),l=co`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="refresh" content="60">
  <title>MoltApp Benchmark v21 -- 26-Pillar AI Trading Intelligence</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { background: #0a0a0f; color: #e0e0e0; font-family: 'SF Mono', 'Fira Code', 'Cascadia Code', monospace; }
    .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
    header { text-align: center; padding: 40px 0 30px; border-bottom: 1px solid #1a1a2e; margin-bottom: 30px; }
    h1 { font-size: 2.2em; background: linear-gradient(135deg, #00ff88, #4ecdc4, #f5c542); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 8px; }
    .subtitle { color: #888; font-size: 1.0em; max-width: 700px; margin: 0 auto; }
    .badge-row { display: flex; gap: 12px; justify-content: center; margin-top: 16px; flex-wrap: wrap; }
    .badge { padding: 4px 14px; border-radius: 20px; font-size: 0.85em; font-weight: 600; }
    .badge-pillars { background: #1a1a3e; color: #4ecdc4; border: 1px solid #4ecdc4; }
    .badge-hf { background: #1a1a3e; color: #f5c542; border: 1px solid #f5c542; }
    .badge-v21 { background: #0a2a1a; color: #00ff88; border: 1px solid #00ff88; }
    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-bottom: 30px; }
    .card { background: #12121a; border: 1px solid #1a1a2e; border-radius: 12px; padding: 20px; }
    .card h2 { font-size: 0.85em; color: #888; margin-bottom: 12px; text-transform: uppercase; letter-spacing: 1px; }
    .card .value { font-size: 2em; font-weight: 700; }
    .card .label { color: #666; font-size: 0.85em; margin-top: 4px; }
    table { width: 100%; border-collapse: collapse; background: #12121a; border-radius: 12px; overflow: hidden; }
    th { background: #1a1a2e; padding: 12px 16px; text-align: left; font-size: 0.75em; text-transform: uppercase; letter-spacing: 1px; color: #888; }
    td { padding: 12px 16px; border-bottom: 1px solid #1a1a2e; font-size: 0.9em; }
    tr:hover { background: #1a1a2e; }
    .section-title { font-size: 1.3em; margin: 30px 0 16px; color: #fff; }
    .new-badge { background: #00ff88; color: #000; padding: 2px 8px; border-radius: 4px; font-size: 0.7em; vertical-align: middle; margin-left: 8px; font-weight: 700; }
    .pillar-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 12px; margin: 20px 0; }
    .pillar-card { background: #1a1a2e; border-radius: 8px; padding: 12px; text-align: center; }
    .pillar-card .name { font-size: 0.7em; color: #888; text-transform: uppercase; }
    .pillar-card .weight { font-size: 1.4em; font-weight: 700; color: #4ecdc4; }
    footer { text-align: center; padding: 30px 0; color: #555; border-top: 1px solid #1a1a2e; margin-top: 40px; font-size: 0.85em; }
    a { color: #00ff88; text-decoration: none; }
    a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>MoltApp Benchmark v21</h1>
      <div class="subtitle">26-Pillar AI Trading Intelligence -- now with Reasoning Chain Validation and Agent Strategy Profiling</div>
      <div class="badge-row">
        <span class="badge badge-pillars">26 Scoring Pillars</span>
        <span class="badge badge-hf"><a href="https://huggingface.co/datasets/patruff/molt-benchmark" style="color:inherit">HuggingFace Dataset</a></span>
        <span class="badge badge-v21">v21: Chain Integrity + Strategy Profiling</span>
      </div>
    </header>

    <div class="grid">
      <div class="card">
        <h2>Chain Integrity</h2>
        <div class="value" style="color:#00ff88">${r.avgQuality.toFixed(2)}</div>
        <div class="label">${r.totalValidations} chain validations -- ${r.avgDefectsPerChain.toFixed(1)} avg defects/chain</div>
      </div>
      <div class="card">
        <h2>Strategy Profiling</h2>
        <div class="value" style="color:#00ff88">${n.avgOverallScore.toFixed(2)}</div>
        <div class="label">${n.totalAgents} agents profiled across 5 dimensions</div>
      </div>
      <div class="card">
        <h2>Transparency</h2>
        <div class="value" style="color:#4ecdc4">${i.avgTransparency.toFixed(2)}</div>
        <div class="label">${i.totalReports} transparency reports</div>
      </div>
      <div class="card">
        <h2>Accountability</h2>
        <div class="value" style="color:#f5c542">${(o.overallAccuracy*100).toFixed(0)}%</div>
        <div class="label">${o.totalClaimsTracked} claims tracked</div>
      </div>
      <div class="card">
        <h2>Certification</h2>
        <div class="value" style="color:#ff6b6b">${(s.overallCertRate*100).toFixed(0)}%</div>
        <div class="label">${s.totalCertificates} certificates issued</div>
      </div>
    </div>

    <h2 class="section-title">26-Pillar Leaderboard<span class="new-badge">v21</span></h2>
    <div style="overflow-x:auto">
    <table>
      <thead>
        <tr>
          <th>Rank</th>
          <th>Agent</th>
          <th>Provider</th>
          <th>Grade</th>
          <th>v21 Score</th>
          <th>Chain Integrity</th>
          <th>Strategy Profile</th>
          <th>Transparency</th>
          <th>Accountability</th>
          <th>Certification</th>
        </tr>
      </thead>
      <tbody>${a}</tbody>
    </table>
    </div>

    <h2 class="section-title">New in v21<span class="new-badge">NEW</span></h2>
    <div class="grid">
      <div class="card" style="border-left: 3px solid #00ff88">
        <h2>Reasoning Chain Validator</h2>
        <p style="color:#aaa;font-size:0.85em;line-height:1.5">Validates the structural integrity of agent reasoning chains. Decomposes arguments into atomic steps, analyzes logical connectors between them, detects circular reasoning and non-sequiturs, and maps evidence gaps where reasoning jumps over missing support.</p>
        <p style="color:#666;font-size:0.75em;margin-top:8px">Components: Step Decomposition, Connector Quality, Circularity-Free, Sequitur Score, Evidence Coverage</p>
      </div>
      <div class="card" style="border-left: 3px solid #00ff88">
        <h2>Agent Strategy Profiler</h2>
        <p style="color:#aaa;font-size:0.85em;line-height:1.5">Profiles how effectively each agent executes its trading strategy across multiple rounds. Measures conviction consistency (follow-through), risk awareness depth, market sensitivity, strategic adaptability, and information utilization.</p>
        <p style="color:#666;font-size:0.75em;margin-top:8px">Components: Conviction Consistency, Risk Awareness, Market Sensitivity, Strategic Adaptability, Information Utilization</p>
      </div>
    </div>

    <h2 class="section-title">All 26 Scoring Pillars</h2>
    <div class="pillar-grid">
      ${c}
    </div>

    <footer>
      <p>MoltApp v21 -- 26-Pillar AI Trading Benchmark | <a href="https://www.patgpt.us">www.patgpt.us</a> | <a href="https://huggingface.co/datasets/patruff/molt-benchmark">HuggingFace</a></p>
      <p style="margin-top:8px">Built for the Colosseum Agent Hackathon. Every trade requires reasoning. No black-box trades.</p>
    </footer>
  </div>
</body>
</html>`;return t.html(l)});var Yue=[m9e,g7e,y7e];function cw(){return Yue.map(t=>({agentId:t.config.agentId,name:t.config.name,model:t.config.model,provider:t.config.provider,description:t.config.description,personality:t.config.personality,riskTolerance:t.config.riskTolerance,tradingStyle:t.config.tradingStyle,maxPositionSize:t.config.maxPositionSize,maxPortfolioAllocation:t.config.maxPortfolioAllocation}))}async function CKt(){let t=[];try{let e=Wl.map(o=>o.mintAddress),r=process.env.JUPITER_API_KEY,n=[];for(let o=0;o<e.length;o+=50)n.push(e.slice(o,o+50));let i=new Map;for(let o of n){let a=`https://api.jup.ag/price/v3?ids=${o.join(",")}`,c={};r&&(c["x-api-key"]=r);try{let l=await fetch(a,{headers:c,signal:AbortSignal.timeout(1e4)});if(l.ok){let u=await l.json();for(let[d,p]of Object.entries(u.data))p?.price&&i.set(d,parseFloat(p.price))}}catch{}}for(let o of Wl){let s=i.get(o.mintAddress)??vtt(o.symbol),a=i.has(o.mintAddress)?null:_tt(),c=i.has(o.mintAddress)?null:Stt();t.push({symbol:o.symbol,name:o.name,mintAddress:o.mintAddress,price:s,change24h:a,volume24h:c})}}catch{for(let e of Wl)t.push({symbol:e.symbol,name:e.name,mintAddress:e.mintAddress,price:vtt(e.symbol),change24h:_tt(),volume24h:Stt()})}return t}async function OKt(t,e){try{let r=await Gt.select().from(dr).where(gr(dr.agentId,t)),n=await Gt.select().from(Gr).where(gr(Gr.agentId,t)),i=1e4,o=i;for(let d of n)d.side==="buy"?o-=parseFloat(d.usdcAmount):d.side==="sell"&&(o+=parseFloat(d.usdcAmount));let s=r.map(d=>{let m=e.find(_=>_.symbol.toLowerCase()===d.symbol.toLowerCase())?.price??parseFloat(d.averageCostBasis),h=parseFloat(d.quantity),f=parseFloat(d.averageCostBasis),y=(m-f)*h,v=f>0?(m-f)/f*100:0;return{symbol:d.symbol,quantity:h,averageCostBasis:f,currentPrice:m,unrealizedPnl:y,unrealizedPnlPercent:v}}),a=s.reduce((d,p)=>d+p.currentPrice*p.quantity,0),c=o+a,l=c-i,u=i>0?l/i*100:0;return{cashBalance:Math.max(0,o),positions:s,totalValue:c,totalPnl:l,totalPnlPercent:u}}catch(r){return console.error(`[Orchestrator] Failed to build portfolio for ${t}:`,r),{cashBalance:1e4,positions:[],totalValue:1e4,totalPnl:0,totalPnlPercent:0}}}async function NKt(t,e,r,n){let i={agentId:t.agentId,agentName:t.name,decision:e,executed:!1};try{await Gt.insert(zr).values({agentId:t.agentId,symbol:e.symbol,action:e.action,quantity:String(e.quantity),reasoning:e.reasoning,confidence:e.confidence,modelUsed:t.model,roundId:n,marketSnapshot:r.reduce((o,s)=>(o[s.symbol]={price:s.price,change24h:s.change24h},o),{})})}catch(o){console.error(`[Orchestrator] Failed to record decision for ${t.agentId}:`,o)}if(e.action==="hold")return i.executed=!0,i;try{let o=await eQe({agentId:t.agentId,agentName:t.name,decision:e,roundId:n});i.executed=o.success,o.success?(i.executionDetails={txSignature:o.tradeResult?.txSignature??o.paperTradeId,filledPrice:o.tradeResult?parseFloat(o.tradeResult.pricePerToken):void 0,usdcAmount:o.tradeResult?parseFloat(o.tradeResult.usdcAmount):e.action==="buy"?e.quantity:void 0,filledQuantity:o.tradeResult?parseFloat(o.tradeResult.stockQuantity):e.action==="sell"?e.quantity:void 0},console.log(`[Orchestrator] ${t.name} trade EXECUTED (${Sg()}): ${e.action} ${e.symbol} \u2014 tx: ${o.tradeResult?.txSignature??o.paperTradeId}`)):(i.executionError=o.error,console.warn(`[Orchestrator] ${t.name} trade FAILED: ${o.error}`))}catch(o){let s=o instanceof Error?o.message:String(o);i.executionError=s,console.error(`[Orchestrator] ${t.name} execution error: ${s}`)}return i}async function wtt(){let t=`round_${Date.now()}_${Math.random().toString(36).slice(2,8)}`,e=new Date().toISOString();console.log(`[Orchestrator] Starting trading round ${t} at ${e}`);try{let n=await vQe();if(!n.proceed)return console.warn(`[Orchestrator] Round ${t} BLOCKED by pre-round gate: ${n.blockReason}`),{roundId:t,timestamp:e,results:[],errors:[`Pre-round gate blocked: ${n.blockReason}`],circuitBreakerActivations:[],lockSkipped:!1};console.log(`[Orchestrator] Pre-round gate PASSED (${n.mode}): ${n.summary.passed}/${n.summary.total} checks OK in ${n.durationMs}ms`)}catch(n){console.warn(`[Orchestrator] Pre-round gate check error (continuing): ${n instanceof Error?n.message:String(n)}`)}let r=await _Le(t,async()=>await PKt(t,e));if(!r){let n=f3();return console.log(`[Orchestrator] Round ${t} SKIPPED \u2014 another round is in progress (lock: ${n.lock?.lockId??"unknown"})`),{roundId:t,timestamp:e,results:[],errors:["Trading round skipped \u2014 another round is in progress"],circuitBreakerActivations:[],lockSkipped:!0}}return r.result}async function PKt(t,e){let r=[],n=[],i;try{i=await CKt(),console.log(`[Orchestrator] Fetched market data for ${i.length} stocks`)}catch(l){let u=`Failed to fetch market data: ${l instanceof Error?l.message:String(l)}`;return console.error(`[Orchestrator] ${u}`),{roundId:t,timestamp:e,results:[],errors:[u],circuitBreakerActivations:[],lockSkipped:!1}}let o="";try{let l=i.map(d=>d.symbol),u=await TLe(l);o=ILe(u),console.log(`[Orchestrator] News context ready (${u.items.length} items, cache: ${Rre().hitRate}% hit rate)`)}catch(l){console.warn(`[Orchestrator] News fetch failed (non-critical): ${l instanceof Error?l.message:String(l)}`)}if(o)for(let l of i)l.news=l.news??[],l.news.push(o);let s=[];for(let l of Yue)try{console.log(`[Orchestrator] Running ${l.name} (${l.model})...`);let u=await DFe(l.agentId);u.ready||console.warn(`[Orchestrator] ${l.name} fund check failed: ${u.reason}`),await Nne(l.agentId,`pre-trade-${t}`).catch(y=>console.warn(`[Orchestrator] Balance snapshot failed for ${l.agentId}: ${y instanceof Error?y.message:String(y)}`));let d=await OKt(l.agentId,i),p=i;try{let y=await mQe(l.agentId,i,d);y.fullPromptSection&&(p=i.map(v=>({...v,news:[...v.news??[],y.fullPromptSection]})),p=[{...p[0],news:[...i[0]?.news??[],y.fullPromptSection]},...i.slice(1)])}catch(y){console.warn(`[Orchestrator] Context enrichment failed for ${l.agentId}: ${y instanceof Error?y.message:String(y)}`)}let m=await l.analyze(p,d);console.log(`[Orchestrator] ${l.name} decided: ${m.action} ${m.symbol} (confidence: ${m.confidence}%)`);try{let y=ZQe(m,i);y.passed?console.log(`[Orchestrator] ${l.name} quality gate PASSED: composite=${y.scores.composite.toFixed(2)}`):(console.log(`[Orchestrator] ${l.name} QUALITY GATE REJECTED: composite=${y.scores.composite.toFixed(2)}, reasons: ${y.rejectionReasons.join("; ")}`),m=y.decision)}catch(y){console.warn(`[Orchestrator] Quality gate check failed for ${l.agentId}: ${y instanceof Error?y.message:String(y)}`)}try{let y=tw(m.reasoning,m.action,i),v=rw(m.reasoning,i),_=wQe({action:m.action,symbol:m.symbol,quantity:m.quantity,confidence:nw(m.confidence)},{maxPositionSize:l.config.maxPositionSize,maxPortfolioAllocation:l.config.maxPortfolioAllocation,riskTolerance:l.config.riskTolerance},{cashBalance:d.cashBalance,totalValue:d.totalValue,positions:d.positions.map(P=>({symbol:P.symbol,quantity:P.quantity,currentPrice:P.currentPrice}))}),x=m.sources??Ky(m.reasoning),E=m.intent??wg(m.reasoning,m.action);console.log(`[Orchestrator] ${l.name} benchmark: coherence=${y.score.toFixed(2)}, hallucinations=${v.flags.length}, discipline=${_.passed?"PASS":"FAIL"}`);let I=`tj_${Date.now()}_${Math.random().toString(36).slice(2,6)}`;await Gt.insert(ir).values({id:I,agentId:l.agentId,reasoning:m.reasoning,confidence:nw(m.confidence),sources:x,intent:E,predictedOutcome:m.predictedOutcome??null,coherenceScore:y.score,hallucinationFlags:v.flags,action:m.action,symbol:m.symbol,quantity:m.quantity,roundId:t,disciplinePass:_.passed?"pass":"fail"}).catch(P=>{console.warn(`[Orchestrator] Justification insert failed: ${P instanceof Error?P.message:String(P)}`)});let N=QQe({agentId:l.agentId,action:m.action,symbol:m.symbol,quantity:m.quantity,reasoning:m.reasoning,confidence:m.confidence,roundId:t},y,v);JQe(N);let L=nw(m.confidence);nZe({agentId:l.agentId,action:m.action,symbol:m.symbol,quantity:m.quantity,reasoning:m.reasoning,confidence:L,intent:E,sources:x,coherenceScore:y.score,hallucinationCount:v.flags.length,roundId:t,timestamp:new Date().toISOString()}),oZe(l.agentId,m.symbol,t,v.flags,v.severity,L,m.action),sZe({agentId:l.agentId,reasoning:m.reasoning,action:m.action,symbol:m.symbol,confidence:L,intent:E,coherenceScore:y.score,timestamp:new Date().toISOString()});let B=y.signals.reduce((P,V)=>V.type==="bullish"?P+V.weight*.1:V.type==="bearish"?P-V.weight*.1:P,0);aZe({agentId:l.agentId,roundId:t,action:m.action,symbol:m.symbol,reasoning:m.reasoning,confidence:L,intent:E,coherenceScore:y.score,hallucinationCount:v.flags.length,wordCount:m.reasoning.split(/\s+/).length,sentimentScore:Math.max(-1,Math.min(1,B)),timestamp:new Date().toISOString()}),cZe({agentId:l.agentId,action:m.action,symbol:m.symbol,reasoning:m.reasoning,confidence:L,intent:E,coherenceScore:y.score,hallucinationCount:v.flags.length,disciplinePass:_.passed,timestamp:new Date().toISOString()}),lZe({agentId:l.agentId,reasoning:m.reasoning,action:m.action,intent:E,confidence:L,coherenceScore:y.score,hallucinationFlags:v.flags,disciplineViolations:_.passed?[]:_.violations,timestamp:new Date().toISOString()}),dZe({roundId:t,agentId:l.agentId,pnl:d.totalPnlPercent,coherence:y.score,hallucinationCount:v.flags.length,timestamp:Date.now()}),yZe(l.agentId,y.score,v.severity,_.passed);try{VZe(l.agentId,{composite:y.score,coherence:y.score,hallucinationRate:v.severity},y.score>=.8?"A":y.score>=.6?"B":"C",t),v.flags.length>0&&HZe(l.agentId,m.symbol,v.flags,t),jZe(l.agentId,_.passed,y.score,.3),QZe({agentId:l.agentId,action:m.action,symbol:m.symbol,quantity:m.quantity,confidence:L,reasoning:m.reasoning,intent:E,coherenceScore:y.score,timestamp:new Date().toISOString()});let P=eXe({agentId:l.agentId,roundId:t,reasoning:m.reasoning,coherenceScore:y.score,hallucinationCount:v.flags.length,confidence:L,intent:E,action:m.action});XZe(P),FZe(l.agentId,{composite:y.score,coherence:y.score,hallucinationRate:v.severity,discipline:_.passed?1:0,pnl:d.totalPnlPercent,sharpe:0})}catch(P){console.warn(`[Orchestrator] Governance service recording failed for ${l.agentId}: ${P instanceof Error?P.message:String(P)}`)}try{let P=xZe(m.reasoning,m.action,l.agentId,m.symbol,t);console.log(`[Orchestrator] ${l.name} depth: ${P.overall.toFixed(2)} (${P.classification}), angles=${P.angleCount}`),TZe(l.agentId,t,{coherence:y.score,depth:P.overall,hallucinationRate:v.severity,discipline:_.passed?1:0,confidence:L}),Sa("trade_reasoning",{action:m.action,symbol:m.symbol,confidence:L,intent:E,reasoningPreview:m.reasoning.slice(0,200)},l.agentId),Sa("coherence_scored",{score:y.score,explanation:y.explanation,signalCount:y.signals.length},l.agentId),Sa("depth_analyzed",{overall:P.overall,classification:P.classification,angleCount:P.angleCount},l.agentId),v.flags.length>0&&Sa("hallucination_flagged",{flags:v.flags,severity:v.severity,symbol:m.symbol},l.agentId);try{let j=NZe(m.reasoning,m.action,m.symbol,L,i);PZe(l.agentId,j),console.log(`[Orchestrator] ${l.name} deep coherence: ${j.overallScore.toFixed(2)} (${j.grade}), strengths=${j.strengths.length}, weaknesses=${j.weaknesses.length}`),Sa("deep_coherence",{overallScore:j.overallScore,grade:j.grade,strengthCount:j.strengths.length,weaknessCount:j.weaknesses.length,wordCount:j.textMetrics.wordCount},l.agentId)}catch(j){console.warn(`[Orchestrator] Deep coherence failed for ${l.agentId}: ${j instanceof Error?j.message:String(j)}`)}let V=null;try{V=nXe(l.agentId,m.reasoning),iXe(l.agentId,m.reasoning,V.qualityScore),console.log(`[Orchestrator] ${l.name} patterns: quality=${V.qualityScore.toFixed(2)}, fallacies=${V.fallacies.length}, depth=${V.depth.classification}, vocab=${V.vocabulary.sophisticationScore.toFixed(2)}`),Sa("pattern_analyzed",{qualityScore:V.qualityScore,fallacyCount:V.fallacies.length,fallacies:V.fallacies.map(j=>j.type),depthClassification:V.depth.classification,vocabularySophistication:V.vocabulary.sophisticationScore,hedgeRatio:V.hedgeRatio,templateProbability:V.templateProbability},l.agentId)}catch(j){console.warn(`[Orchestrator] Pattern analysis failed for ${l.agentId}: ${j instanceof Error?j.message:String(j)}`)}try{let j=JM(l.agentId,t,m.reasoning,m.action,m.symbol,L);aXe(l.agentId,m.reasoning,m.action,m.symbol,L),dXe(l.agentId,{coherence:y.score,depth:j.depth.depthScore,hallucinationFree:1-v.severity,discipline:_.passed?1:0,confidence:L,forensicStructure:j.structural.structureScore,forensicOriginality:j.originality.originalityScore,forensicClarity:j.clarity.clarityScore,forensicIntegrity:j.crossTrade.flags.length===0?1:Math.max(0,1-j.crossTrade.flags.length*.2),patternQuality:V?.qualityScore??.5}),console.log(`[Orchestrator] ${l.name} forensic: composite=${j.compositeScore.toFixed(2)} (${j.grade}), depth=${j.depth.classification}, originality=${j.originality.originalityScore.toFixed(2)}, clarity=${j.clarity.clarityScore.toFixed(2)}, integrity-flags=${j.crossTrade.flags.length}`),mXe("forensic_analyzed",{compositeScore:j.compositeScore,grade:j.grade,depthClassification:j.depth.classification,dimensionsCovered:j.depth.dimensionCount,originalityScore:j.originality.originalityScore,templateProbability:j.originality.templateProbability,clarityScore:j.clarity.clarityScore,integrityFlags:j.crossTrade.flags,structureScore:j.structural.structureScore,quantitativeClaims:j.structural.quantitativeClaimCount,causalConnectors:j.structural.causalConnectorCount},l.agentId),Sa("v11_forensic",{compositeScore:j.compositeScore,grade:j.grade,depthClassification:j.depth.classification,originalityScore:j.originality.originalityScore},l.agentId)}catch(j){console.warn(`[Orchestrator] v11 forensic analysis failed for ${l.agentId}: ${j instanceof Error?j.message:String(j)}`)}}catch(P){console.warn(`[Orchestrator] Depth/stream analysis failed for ${l.agentId}: ${P instanceof Error?P.message:String(P)}`)}}catch(y){console.warn(`[Orchestrator] Benchmark analysis failed for ${l.agentId}: ${y instanceof Error?y.message:String(y)}`)}try{let y=m.confidence>1?m.confidence/100:m.confidence,v=fXe(m,l.agentId,i,{maxPositionSize:l.config.maxPositionSize,maxPortfolioAllocation:l.config.maxPortfolioAllocation,riskTolerance:l.config.riskTolerance});console.log(`[Orchestrator] ${l.name} v12 validation: quality=${v.qualityScore.toFixed(3)} (${v.grade}), valid=${v.valid}, issues=${v.issues.length}`),Xle("trade_validated",{qualityScore:v.qualityScore,grade:v.grade,valid:v.valid,issueCount:v.issues.length,dimensions:v.dimensions.map(E=>({name:E.name,score:E.score,passed:E.passed}))},l.agentId);let _=hXe(m.reasoning,m.action);gXe(l.agentId,_),console.log(`[Orchestrator] ${l.name} taxonomy: ${_.fingerprint}, strategy=${_.strategy}, sophistication=${_.sophisticationLevel}/5, biases=${_.cognitivePatterns.length}`),Xle("taxonomy_classified",{fingerprint:_.fingerprint,strategy:_.strategy,analyticalMethod:_.analyticalMethod,reasoningStructure:_.reasoningStructure,sophisticationLevel:_.sophisticationLevel,cognitivePatterns:_.cognitivePatterns.map(E=>E.type),themes:_.themes,classificationConfidence:_.classificationConfidence},l.agentId);let x=m.intent??"value";yXe({agentId:l.agentId,roundId:t,symbol:m.symbol,action:m.action,confidence:y,reasoning:m.reasoning,intent:x,coherenceScore:v.dimensions.find(E=>E.name==="action_reasoning_alignment")?.score??.5,timestamp:new Date().toISOString()}),vXe(l.agentId,{financial:.5,reasoning:v.dimensions.find(E=>E.name==="reasoning_depth")?.score??.5,safety:v.dimensions.find(E=>E.name==="price_grounding")?.score??.5,calibration:v.dimensions.find(E=>E.name==="confidence_calibration")?.score??.5,patterns:_.sophisticationLevel/5,adaptability:.5,forensicQuality:v.dimensions.find(E=>E.name==="source_verification")?.score??.5,validationQuality:v.qualityScore,composite:v.qualityScore*.6+_.sophisticationLevel/5*.2+.5*.2,grade:v.grade,dominantStrategy:_.strategy,sophistication:_.sophisticationLevel,biasCount:_.cognitivePatterns.length,consistencyScore:.5,qualityTrend:"stable",anomalyCount:0,tradeCount:1,lastUpdated:new Date().toISOString()})}catch(y){console.warn(`[Orchestrator] v12 analysis failed for ${l.agentId}: ${y instanceof Error?y.message:String(y)}`)}let h=wLe(l.agentId,m,d);n.push(...h.activations),h.allowed||console.log(`[Orchestrator] ${l.name} decision BLOCKED by circuit breaker`);let f=await NKt(l,h.decision,i,t);h.activations.length>0&&(f.executionDetails=f.executionDetails??{}),f.executed&&h.decision.action!=="hold"&&xLe(l.agentId),await Nne(l.agentId,`post-trade-${t}`).catch(y=>console.warn(`[Orchestrator] Post-trade snapshot failed for ${l.agentId}: ${y instanceof Error?y.message:String(y)}`)),s.push(f),await ALe()}catch(u){let d=`${l.name} failed: ${u instanceof Error?u.message:String(u)}`;console.error(`[Orchestrator] ${d}`),r.push(d),s.push({agentId:l.agentId,agentName:l.name,decision:{action:"hold",symbol:"SPYx",quantity:0,reasoning:`Agent error: ${d}`,confidence:0,timestamp:new Date().toISOString()},executed:!1,executionError:d})}let a=Date.now()-new Date(e).getTime();SQe(a),console.log(`[Orchestrator] Round ${t} complete. ${s.length} agents ran. ${r.length} errors. ${n.length} circuit breaker activations. Mode: ${Sg()}.`);try{UJe({roundId:t,results:s.map(l=>({agentId:l.agentId,agentName:l.agentName,action:l.decision.action,symbol:l.decision.symbol,confidence:l.decision.confidence,executed:l.executed})),errors:r,circuitBreakerActivations:n.length})}catch{}try{let l=s.filter(d=>d.decision.action!=="hold"),u=new Map;for(let d of l){let p=u.get(d.decision.symbol)??[];p.push(d),u.set(d.decision.symbol,p)}for(let[d,p]of u){let m=p.some(f=>f.decision.action==="buy"),h=p.some(f=>f.decision.action==="sell");m&&h&&FJe({roundId:t,symbol:d,agents:p.map(f=>({agentId:f.agentId,agentName:f.agentName,action:f.decision.action,confidence:f.decision.confidence}))})}}catch{}let c=Date.now()-new Date(e).getTime();try{let l={roundId:t,timestamp:e,durationMs:c,tradingMode:Sg(),results:s.map(u=>({agentId:u.agentId,agentName:u.agentName,action:u.decision.action,symbol:u.decision.symbol,quantity:u.decision.quantity,reasoning:u.decision.reasoning,confidence:u.decision.confidence,executed:u.executed,executionError:u.executionError,txSignature:u.executionDetails?.txSignature,filledPrice:u.executionDetails?.filledPrice,usdcAmount:u.executionDetails?.usdcAmount})),errors:r,circuitBreakerActivations:n.length,lockSkipped:!1,consensus:kKt(s),summary:DKt(s,r),ttl:Math.floor(Date.now()/1e3)+7776e3};aQe(l),sQe({roundId:t,timestamp:e,durationMs:c,tradingMode:Sg(),results:s,errors:r,circuitBreakerActivations:n,lockSkipped:!1}).catch(u=>console.warn(`[Orchestrator] DynamoDB persist failed: ${u instanceof Error?u.message:String(u)}`))}catch(l){console.warn(`[Orchestrator] Round caching failed: ${l instanceof Error?l.message:String(l)}`)}try{let l=i.find(u=>u.symbol==="SPYx");l?.change24h!==null&&l?.change24h!==void 0&&hQe(l.change24h)}catch{}eZe(i).catch(l=>console.warn(`[Orchestrator] Outcome tracking failed: ${l instanceof Error?l.message:String(l)}`));try{let l=iZe(t);l&&console.log(`[Orchestrator] Round diffs: ${l.diffs.length} comparisons, avgDivergence=${l.stats.avgDivergence}, conflicts=${l.stats.actionConflictRate}`)}catch(l){console.warn(`[Orchestrator] Reasoning diffs failed: ${l instanceof Error?l.message:String(l)}`)}try{let l=s.map(u=>({agentId:u.agentId,action:u.decision.action,symbol:u.decision.symbol,reasoning:u.decision.reasoning,confidence:u.decision.confidence,timestamp:u.decision.timestamp??e}));hZe(t,l)}catch(l){console.warn(`[Orchestrator] Integrity proof failed: ${l instanceof Error?l.message:String(l)}`)}try{let l=s.map(u=>({agentId:u.agentId,agentName:u.agentName,compositeScore:u.decision.confidence/100,pnl:0,coherence:0,hallucinationRate:0}));_Ze(t,l)}catch(l){console.warn(`[Orchestrator] Leaderboard evolution failed: ${l instanceof Error?l.message:String(l)}`)}try{let l=AZe(i.map(u=>({symbol:u.symbol,price:u.price,change24h:u.change24h})));console.log(`[Orchestrator] Market regime: ${l.regime} (avg: ${l.avgChange}%, vol: ${l.changeStdDev.toFixed(2)})`),Sa("regime_detected",{regime:l.regime,avgChange:l.avgChange,volatility:l.changeStdDev,stocksUp:l.stocksUp,stocksDown:l.stocksDown});for(let u of s)EZe(u.agentId,l.regime,.5,.5,!1,u.decision.confidence>1?u.decision.confidence/100:u.decision.confidence,u.decision.action,t)}catch(l){console.warn(`[Orchestrator] Regime detection failed: ${l instanceof Error?l.message:String(l)}`)}try{let l=s.map(d=>({agentId:d.agentId,reasoning:d.decision.reasoning,action:d.decision.action,symbol:d.decision.symbol,confidence:d.decision.confidence>1?d.decision.confidence/100:d.decision.confidence})),u=wZe(l,t);console.log(`[Orchestrator] Peer review: ${u.reviews.length} reviews, disagreement=${(u.disagreementRate*100).toFixed(0)}%, best=${u.bestReviewed?.agentId??"none"} (${u.bestReviewed?.avgScore?.toFixed(2)??0})`),Sa("peer_review",{reviewCount:u.reviews.length,disagreementRate:u.disagreementRate,bestReviewed:u.bestReviewed,mostControversial:u.mostControversial})}catch(l){console.warn(`[Orchestrator] Peer review failed: ${l instanceof Error?l.message:String(l)}`)}Sa("round_completed",{roundId:t,agentCount:s.length,errorCount:r.length,tradingMode:Sg()});try{let l=s.map(p=>{let m=p.decision.confidence>1?p.decision.confidence/100:p.decision.confidence;return{agentId:p.agentId,action:p.decision.action,symbol:p.decision.symbol,quantity:p.decision.quantity,reasoning:p.decision.reasoning,confidence:m,intent:p.decision.intent??"value",coherenceScore:m*.8+.1,hallucinationCount:0,disciplinePass:!0,pnlPercent:0,depthScore:Math.min(1,p.decision.reasoning.split(/\s+/).length/100),originalityScore:.5}}),u=wXe(t,l);console.log(`[Orchestrator] v13 battles: ${u.length} matchups, winners=${u.filter(p=>p.overallWinner).map(p=>p.overallWinner).join(",")}`);for(let p of u)nue("battle_completed",{battleId:p.battleId,agentA:p.agentA.agentId,agentB:p.agentB.agentId,winner:p.overallWinner,margin:p.marginOfVictory,compositeA:p.compositeScoreA,compositeB:p.compositeScoreB,highlight:p.highlight,narrativePreview:p.narrative.slice(0,200)},p.overallWinner??void 0);let d=AXe(s.map(p=>({agentId:p.agentId,reasoning:p.decision.reasoning})));for(let p of d)nue("reasoning_compared",{agentA:p.agentAId,agentB:p.agentBId,winner:p.winner,scoreA:p.agentAScore,scoreB:p.agentBScore,summary:p.summary.slice(0,200)});Sa("v13_battles",{roundId:t,battleCount:u.length,comparisonCount:d.length,highlights:u.filter(p=>p.highlight).length})}catch(l){console.warn(`[Orchestrator] v13 battle generation failed: ${l instanceof Error?l.message:String(l)}`)}try{UZe(t,{agentCount:s.length,tradeCount:s.filter(u=>u.decision.action!=="hold").length,avgCoherence:.5,hallucinationCount:0,tradingMode:Sg()});let l=s.map(u=>({agentId:u.agentId,compositeScore:u.decision.confidence>1?u.decision.confidence/100:u.decision.confidence}));KZe(l);for(let u of s)YZe(u.agentId,(u.executed&&u.decision.action!=="hold",null));qZe(t,s.length,s[0]?.agentId??null,0)}catch(l){console.warn(`[Orchestrator] Governance round finalization failed: ${l instanceof Error?l.message:String(l)}`)}try{for(let m of s){let h=m.decision.confidence>1?m.decision.confidence/100:m.decision.confidence,f=i.find(E=>E.symbol.toLowerCase()===m.decision.symbol.toLowerCase());m.decision.predictedOutcome&&f&&RXe({agentId:m.agentId,symbol:m.decision.symbol,action:m.decision.action,confidence:h,predictedOutcome:m.decision.predictedOutcome,priceAtPrediction:f.price,roundId:t,intent:m.decision.intent});let y=h*.8+.1,v=CXe(y,0,!0);IXe({agentId:m.agentId,confidence:h,outcome:v,coherenceScore:y,action:m.decision.action,symbol:m.decision.symbol,roundId:t,timestamp:new Date().toISOString()});let _=kXe(m.decision.reasoning),x=DXe(m.decision.reasoning);PXe({agentId:m.agentId,roundId:t,symbol:m.decision.symbol,action:m.decision.action,confidence:h,intent:m.decision.intent??"value",sentimentScore:_,wordCount:m.decision.reasoning.split(/\s+/).length,coherenceScore:y,keyPhrases:x,timestamp:new Date().toISOString()})}let l=new Map;for(let m of i)l.set(m.symbol,m.price),l.set(m.symbol.toLowerCase(),m.price);let u=TXe(l);u.length>0&&console.log(`[Orchestrator] v14 resolved ${u.length} predictions. Correct: ${u.filter(m=>m.directionCorrect).length}/${u.length}`);let d=s.map(m=>{let h=m.decision.confidence>1?m.decision.confidence/100:m.decision.confidence;return{agentId:m.agentId,action:m.decision.action,symbol:m.decision.symbol,confidence:h,reasoning:m.decision.reasoning,coherenceScore:h*.8+.1}}),p=LXe(t,d);console.log(`[Orchestrator] v14 consensus: ${p.consensusType}, agreement=${(p.agreementScore*100).toFixed(0)}%, contrarians=${p.contrarians.length}`);for(let m of s){let h=m.decision.confidence>1?m.decision.confidence/100:m.decision.confidence;FXe(m.agentId,{financial:.5,reasoning:h*.8+.1,safety:.8,calibration:.5,patterns:.5,adaptability:.5,forensicQuality:.5,validationQuality:.5,predictionAccuracy:.5,reasoningStability:.7,composite:h*.4+.4,grade:h>=.7?"B+":h>=.5?"C+":"C",tradeCount:1,lastUpdated:new Date().toISOString()})}zXe("round_analyzed",{roundId:t,agentCount:s.length,consensusType:p.consensusType,agreementScore:p.agreementScore,predictionsResolved:u.length,predictionsCorrect:u.filter(m=>m.directionCorrect).length}),Sa("benchmark_update",{version:"v14",roundId:t,consensusType:p.consensusType,agreement:p.agreementScore,predictionsResolved:u.length})}catch(l){console.warn(`[Orchestrator] v14 analysis failed: ${l instanceof Error?l.message:String(l)}`)}try{let l={};for(let y of i)l[y.symbol]={price:y.price,change24h:y.change24h};for(let y of s){let v=y.decision.confidence>1?y.decision.confidence/100:y.decision.confidence,_=GXe(y.agentId,y.decision.reasoning,y.decision.action,y.decision.symbol,v,l,t);KXe(_),YXe({agentId:y.agentId,action:y.decision.action,symbol:y.decision.symbol,reasoning:y.decision.reasoning,confidence:v,roundId:t,timestamp:new Date().toISOString()})}let u=s.map(y=>({agentId:y.agentId,action:y.decision.action,symbol:y.decision.symbol,reasoning:y.decision.reasoning,confidence:y.decision.confidence>1?y.decision.confidence/100:y.decision.confidence,roundId:t,timestamp:new Date().toISOString()})),d=JXe(u);console.log(`[Orchestrator] v15 cross-model: herding=${d.herdingScore.toFixed(2)}, pairs=${d.similarities.length}, divergences=${d.divergencePoints.length}`);let p={roundId:t,agents:s.map(y=>({agentId:y.agentId,action:y.decision.action,confidence:y.decision.confidence,symbol:y.decision.symbol})),marketSnapshot:l},m={version:"v15",pillars:12,weights:{financial:.13,reasoning:.12,safety:.1,calibration:.09,patterns:.06,adaptability:.06,forensicQuality:.09,validationQuality:.09,predictionAccuracy:.07,reasoningStability:.06,provenanceIntegrity:.07,modelComparison:.06}},h={};for(let y of s){let v=y.decision.confidence>1?y.decision.confidence/100:y.decision.confidence;h[y.agentId]={composite:v*.4+.4}}ZXe({roundId:t,timestamp:Date.now(),inputs:p,scores:h,scoringConfig:m});let f=XXe(t,p,h,m);console.log(`[Orchestrator] v15 reproducibility: deterministic=${f.deterministic}, matches=${f.priorRunMatches}, mismatches=${f.priorRunMismatches}`);for(let y of s){let v=y.decision.confidence>1?y.decision.confidence/100:y.decision.confidence;ret(y.agentId,{financial:.5,reasoning:v*.8+.1,safety:.8,calibration:.5,patterns:.5,adaptability:.5,forensicQuality:.5,validationQuality:.5,predictionAccuracy:.5,reasoningStability:.7,provenanceIntegrity:f.deterministic?1:.5,modelComparison:1-d.herdingScore,composite:v*.35+.45,grade:v>=.7?"B+":v>=.5?"C+":"C",tradeCount:1,lastUpdated:new Date().toISOString()})}wue("round_analyzed",{roundId:t,agentCount:s.length,herdingScore:d.herdingScore,divergenceCount:d.divergencePoints.length,reproducible:f.deterministic}),Sa("benchmark_update",{version:"v15",roundId:t,herdingScore:d.herdingScore,reproducible:f.deterministic,provenanceProofs:s.length})}catch(l){console.warn(`[Orchestrator] v15 analysis failed: ${l instanceof Error?l.message:String(l)}`)}try{for(let d of s){let p=d.decision.confidence>1?d.decision.confidence/100:d.decision.confidence,m=fet(d.decision.reasoning),h=pet(d.decision.reasoning),f=d.decision.intent??wg(d.decision.reasoning,d.decision.action);met({agentId:d.agentId,reasoning:d.decision.reasoning,action:d.decision.action,symbol:d.decision.symbol,confidence:p,intent:f,coherenceScore:p*.6+.3,roundId:t,timestamp:new Date().toISOString()}),uet(d.agentId,{coherence:p*.6+.3,hallucinationFree:.9,discipline:!0,confidence:p,reasoning:d.decision.reasoning,action:d.decision.action,depth:m.overall,forensicScore:.5,validationScore:.5}),console.log(`[Orchestrator] v16 ${d.agentId}: depth=${m.overall.toFixed(2)} (${m.classification}), efficiency=${h.composite.toFixed(2)}, angles=${m.anglesDetected.length}`)}let l=s.map(d=>({agentId:d.agentId,score:det(d.agentId)})),u=(d,p)=>d.find(m=>m.name===p)?.score??0;get("round_analyzed",{roundId:t,agentCount:s.length,scores:l.map(d=>({agentId:d.agentId,composite:d.score.composite,grade:d.score.grade,metacognition:u(d.score.pillars,"metacognition"),efficiency:u(d.score.pillars,"efficiency")}))}),console.log(`[Orchestrator] v16 round complete: ${l.map(d=>`${d.agentId}=${d.score.composite.toFixed(3)}(${d.score.grade})`).join(", ")}`)}catch(l){console.warn(`[Orchestrator] v16 analysis failed: ${l instanceof Error?l.message:String(l)}`)}try{let l={};for(let m of i)l[m.symbol]=m.price;let u=s.map(m=>m.agentId),d=(()=>{let m=s.filter(y=>y.decision.action!=="hold").map(y=>y.decision.action),h=m.filter(y=>y==="buy").length,f=m.filter(y=>y==="sell").length;return h>f?"buy":f>h?"sell":null})();for(let m of s){let h=m.decision.confidence>1?m.decision.confidence/100:m.decision.confidence,f=m.decision.intent??wg(m.decision.reasoning,m.decision.action),y=m.decision.sources??Ky(m.decision.reasoning),v=Tet({agentId:m.agentId,roundId:t,action:m.decision.action,symbol:m.decision.symbol,quantity:m.decision.quantity,reasoning:m.decision.reasoning,confidence:h,intent:f,sources:y,predictedOutcome:m.decision.predictedOutcome??null,marketPrices:l,coherenceScore:h*.6+.3,hallucinationFlags:[],disciplinePass:!0,depthScore:Math.min(1,m.decision.reasoning.split(/\s+/).length/100),forensicScore:.5,efficiencyScore:.5,witnesses:u.filter(E=>E!==m.agentId)});Oet({agentId:m.agentId,action:m.decision.action,symbol:m.decision.symbol,quantity:m.decision.quantity,confidence:h,coherenceScore:h*.6+.3,hallucinationCount:0,intent:f,reasoning:m.decision.reasoning,roundId:t,consensusAction:d,marketVolatility:.02,pnlAfter:null,timestamp:new Date().toISOString()});let _=Net(m.agentId),x=Yue.find(E=>E.config.agentId===m.agentId)?.config;wet(m.agentId,x?.provider??"unknown",x?.model??"unknown",{financial:.5,reasoning:h*.6+.3,safety:.8,calibration:.5,patterns:.5,adaptability:.5,forensic_quality:.5,validation_quality:.5,prediction_accuracy:.5,reasoning_stability:.7,provenance_integrity:.8,model_comparison:.5,metacognition:h*.4+.3,reasoning_efficiency:Math.min(1,m.decision.reasoning.split(/\s+/).length/150),forensic_ledger:v?.9:.3,strategy_genome:_},t),console.log(`[Orchestrator] v17 ${m.agentId}: ledger=${v.entryHash.slice(0,12)}..., genome=${_.toFixed(2)}`)}let p=s.map(m=>({agentId:m.agentId,composite:m.decision.confidence>1?m.decision.confidence/200+.3:m.decision.confidence*.4+.3}));xet(p),ket("round_analyzed",{roundId:t,agentCount:s.length,version:"v17",pillars:16}),console.log(`[Orchestrator] v17 round complete: ${s.length} agents scored, ledger + genome updated`)}catch(l){console.warn(`[Orchestrator] v17 analysis failed: ${l instanceof Error?l.message:String(l)}`)}try{let l={},u={},d=0,p=0,m=0;for(let _ of s){let x=_.decision.confidence>1?_.decision.confidence/100:_.decision.confidence,E=_.decision.intent??wg(_.decision.reasoning,_.decision.action),I=x*.6+.3,N=_.decision.reasoning.split(/\s+/).length,L=$et(_.agentId,_.decision.reasoning,_.decision.action,_.decision.symbol,x,0,{priceDirection:_.decision.action==="buy"?"up":_.decision.action==="sell"?"down":"flat",newsDirection:"neutral",hasZeroVolume:!1,hasMissingData:!1,hasExtremeMove:!1});Let(_.agentId,{overallScore:L.overallScore,vulnerabilities:L.vulnerabilities,signalConflictScore:L.signalConflict.score,anchoringScore:L.anchoring.score,edgeCaseScore:L.edgeCases.score,framingScore:L.framing.score},t),Bet({agentId:_.agentId,action:_.decision.action,symbol:_.decision.symbol,reasoning:_.decision.reasoning,confidence:x,roundId:t,timestamp:new Date().toISOString()});let B=_.decision.reasoning.toLowerCase().replace(/[^a-z0-9]/g,"").slice(0,50);zet({agentId:_.agentId,roundId:t,symbol:_.decision.symbol,action:_.decision.action,confidence:x,coherenceScore:I,hallucinationCount:0,intent:E,wasCorrect:null,reasoningFingerprint:B,timestamp:new Date().toISOString()}),l[_.agentId]=x*.4+I*.3+L.overallScore*.3,d+=I,m+=N,console.log(`[Orchestrator] v18 ${_.agentId}: adversarial=${L.overallScore.toFixed(2)}, vulns=${L.vulnerabilities.length}`)}let h=Object.keys(l),f=Object.values(l),y=f.length>0?f.reduce((_,x)=>_+x,0)/f.length:0,v=f.length>1?Math.sqrt(f.reduce((_,x)=>_+(x-y)**2,0)/f.length):0;jet({timestamp:new Date().toISOString(),agentScores:l,pillarAverages:u,coherenceAvg:s.length>0?d/s.length:0,hallucinationRate:s.length>0?p/s.length:0,avgReasoningLength:s.length>0?m/s.length:0,agentScoreSpread:Math.round(v*1e3)/1e3,calibrationAvg:.5}),Get("round_analyzed",{roundId:t,agentCount:s.length,version:"v18",pillars:18}),console.log(`[Orchestrator] v18 round complete: ${s.length} agents \u2014 adversarial + memory + regression recorded`)}catch(l){console.warn(`[Orchestrator] v18 analysis failed: ${l instanceof Error?l.message:String(l)}`)}try{for(let l of s){let u=l.decision,d=u.confidence>1?u.confidence/100:u.confidence,p=u.sources??Ky(u.reasoning);Zet(l.agentId,t,u.action,u.symbol,u.reasoning,d,p),ett(l.agentId,t,u.symbol,u.action,u.reasoning,d),ntt(l.agentId,t,u.action,u.symbol,u.reasoning,d,p)}stt("round_analyzed",{roundId:t,agentCount:s.length,version:"v20",pillars:24}),console.log(`[Orchestrator] v20 round complete: ${s.length} agents \u2014 transparency + accountability + certification recorded`)}catch(l){console.warn(`[Orchestrator] v20 analysis failed: ${l instanceof Error?l.message:String(l)}`)}try{for(let l of s){let u=l.decision,d=u.confidence>1?u.confidence/100:u.confidence,p=u.sources??Ky(u.reasoning),m=u.intent??wg(u.reasoning,u.action),h=ctt(u.reasoning,u.action,u.symbol);ltt(l.agentId,h),ftt(l.agentId,{action:u.action,symbol:u.symbol,reasoning:u.reasoning,confidence:d,intent:m,sources:p,coherenceScore:.5})}btt("round_analyzed",{roundId:t,agentCount:s.length,version:"v21",pillars:26}),console.log(`[Orchestrator] v21 round complete: ${s.length} agents \u2014 chain validation + strategy profiling recorded`)}catch(l){console.warn(`[Orchestrator] v21 analysis failed: ${l instanceof Error?l.message:String(l)}`)}return{roundId:t,timestamp:e,results:s,errors:r,circuitBreakerActivations:n,lockSkipped:!1}}function kKt(t){let e=t.filter(o=>o.decision.action!=="hold");if(e.length===0)return"no_trades";let r=e.map(o=>o.decision.action),n=r.filter(o=>o==="buy").length,i=r.filter(o=>o==="sell").length;return n===e.length||i===e.length?"unanimous":n>i&&n>1||i>n&&i>1?"majority":"split"}function DKt(t,e){let r=[];for(let n of t){let i=n.executed?"OK":"FAIL";r.push(`${n.agentName}: ${n.decision.action.toUpperCase()} ${n.decision.symbol} (${n.decision.confidence}%) ${i}`)}return e.length>0&&r.push(`${e.length} error(s)`),r.join(" | ")}var MKt={AAPLx:178.5,AMZNx:185.2,GOOGLx:142.8,METAx:505.3,MSFTx:415.6,NVDAx:890.5,TSLAx:245.8,SPYx:502.1,QQQx:435.7,COINx:205.4,CRCLx:32.15,MSTRx:1685,AVGOx:168.9,JPMx:198.5,HOODx:22.8,LLYx:785.2,CRMx:272.6,NFLXx:628.9,PLTRx:24.5,GMEx:17.8};function vtt(t){let e=MKt[t]??100,r=1+(Math.random()-.5)*.04;return Math.round(e*r*100)/100}function _tt(){return Math.round((Math.random()-.5)*10*100)/100}function Stt(){return Math.round((10+Math.random()*490)*1e6)}async function vOn(t){console.log("[TradingLambda] Received event:",JSON.stringify(t));let e=Date.now();try{let r=await wtt(),n=Date.now()-e;console.log(`[TradingLambda] Round ${r.roundId} completed in ${n}ms`),console.log(`[TradingLambda] Results: ${r.results.length} agents, ${r.errors.length} errors`);for(let i of r.results)console.log(`[TradingLambda] ${i.agentName}: ${i.decision.action} ${i.decision.symbol} (confidence: ${i.decision.confidence}%, executed: ${i.executed})`);return{statusCode:200,body:JSON.stringify({roundId:r.roundId,timestamp:r.timestamp,durationMs:n,agentCount:r.results.length,errorCount:r.errors.length,decisions:r.results.map(i=>({agent:i.agentName,action:i.decision.action,symbol:i.decision.symbol,confidence:i.decision.confidence,executed:i.executed}))})}}catch(r){let n=Date.now()-e,i=r instanceof Error?r.message:String(r);return console.error(`[TradingLambda] Fatal error after ${n}ms: ${i}`),{statusCode:500,body:JSON.stringify({error:"trading_round_failed",message:i,durationMs:n})}}}export{vOn as handler};
/*! Bundled license information:

@neondatabase/serverless/index.mjs:
  (*! Bundled license information:
  
  ieee754/index.js:
    (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  
  buffer/index.js:
    (*!
     * The buffer module from node.js, for the browser.
     *
     * @author   Feross Aboukhadijeh <https://feross.org>
     * @license  MIT
     *)
  *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

reflect-metadata/Reflect.js:
  (*! *****************************************************************************
  Copyright (C) Microsoft. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** *)

pvtsutils/build/index.es.js:
  (*!
   * MIT License
   * 
   * Copyright (c) 2017-2024 Peculiar Ventures, LLC
   * 
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   * 
   * The above copyright notice and this permission notice shall be included in all
   * copies or substantial portions of the Software.
   * 
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
   * SOFTWARE.
   * 
   *)

pvutils/build/utils.es.js:
  (*!
   Copyright (c) Peculiar Ventures, LLC
  *)

asn1js/build/index.es.js:
  (*!
   * Copyright (c) 2014, GMO GlobalSign
   * Copyright (c) 2015-2022, Peculiar Ventures
   * All rights reserved.
   * 
   * Author 2014-2019, Yury Strozhevsky
   * 
   * Redistribution and use in source and binary forms, with or without modification,
   * are permitted provided that the following conditions are met:
   * 
   * * Redistributions of source code must retain the above copyright notice, this
   *   list of conditions and the following disclaimer.
   * 
   * * Redistributions in binary form must reproduce the above copyright notice, this
   *   list of conditions and the following disclaimer in the documentation and/or
   *   other materials provided with the distribution.
   * 
   * * Neither the name of the copyright holder nor the names of its
   *   contributors may be used to endorse or promote products derived from
   *   this software without specific prior written permission.
   * 
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
   * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
   * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
   * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
   * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
   * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
   * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
   * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
   * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   * 
   *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

@peculiar/x509/build/x509.es.js:
  (*!
   * MIT License
   * 
   * Copyright (c) Peculiar Ventures. All rights reserved.
   * 
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   * 
   * The above copyright notice and this permission notice shall be included in all
   * copies or substantial portions of the Software.
   * 
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
   * SOFTWARE.
   * 
   *)

@turnkey/api-key-stamper/dist/tink/bytes.mjs:
  (**
   * Code modified from https://github.com/google/tink/blob/6f74b99a2bfe6677e3670799116a57268fd067fa/javascript/subtle/bytes.ts
   *
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   *)

@turnkey/api-key-stamper/dist/tink/elliptic_curves.mjs:
  (**
   * Code modified from https://github.com/google/tink/blob/6f74b99a2bfe6677e3670799116a57268fd067fa/javascript/subtle/elliptic_curves.ts
   * - The implementation of integerToByteArray has been modified to augment the resulting byte array to a certain length.
   * - The implementation of PointDecode has been modified to decode both compressed and uncompressed points by checking for correct format
   * - Method isP256CurvePoint added to check whether an uncompressed point is valid
   *
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   *)

@noble/curves/esm/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/nist.js:
@noble/curves/esm/p256.js:
@noble/curves/esm/abstract/edwards.js:
@noble/curves/esm/ed25519.js:
@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@solana/buffer-layout/lib/Layout.js:
  (**
   * Support for translating between Uint8Array instances and JavaScript
   * native types.
   *
   * {@link module:Layout~Layout|Layout} is the basis of a class
   * hierarchy that associates property names with sequences of encoded
   * bytes.
   *
   * Layouts are supported for these scalar (numeric) types:
   * * {@link module:Layout~UInt|Unsigned integers in little-endian
   *   format} with {@link module:Layout.u8|8-bit}, {@link
   *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
   *   {@link module:Layout.u32|32-bit}, {@link
   *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
   *   format} with {@link module:Layout.u16be|16-bit}, {@link
   *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
   *   {@link module:Layout.u40be|40-bit}, and {@link
   *   module:Layout.u48be|48-bit} representation ranges;
   * * {@link module:Layout~Int|Signed integers in little-endian
   *   format} with {@link module:Layout.s8|8-bit}, {@link
   *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
   *   {@link module:Layout.s32|32-bit}, {@link
   *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~IntBE|Signed integers in big-endian format}
   *   with {@link module:Layout.s16be|16-bit}, {@link
   *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
   *   {@link module:Layout.s40be|40-bit}, and {@link
   *   module:Layout.s48be|48-bit} representation ranges;
   * * 64-bit integral values that decode to an exact (if magnitude is
   *   less than 2^53) or nearby integral Number in {@link
   *   module:Layout.nu64|unsigned little-endian}, {@link
   *   module:Layout.nu64be|unsigned big-endian}, {@link
   *   module:Layout.ns64|signed little-endian}, and {@link
   *   module:Layout.ns64be|unsigned big-endian} encodings;
   * * 32-bit floating point values with {@link
   *   module:Layout.f32|little-endian} and {@link
   *   module:Layout.f32be|big-endian} representations;
   * * 64-bit floating point values with {@link
   *   module:Layout.f64|little-endian} and {@link
   *   module:Layout.f64be|big-endian} representations;
   * * {@link module:Layout.const|Constants} that take no space in the
   *   encoded expression.
   *
   * and for these aggregate types:
   * * {@link module:Layout.seq|Sequence}s of instances of a {@link
   *   module:Layout~Layout|Layout}, with JavaScript representation as
   *   an Array and constant or data-dependent {@link
   *   module:Layout~Sequence#count|length};
   * * {@link module:Layout.struct|Structure}s that aggregate a
   *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
   *   instances, with JavaScript representation as an Object;
   * * {@link module:Layout.union|Union}s that support multiple {@link
   *   module:Layout~VariantLayout|variant layouts} over a fixed
   *   (padded) or variable (not padded) span of bytes, using an
   *   unsigned integer at the start of the data or a separate {@link
   *   module:Layout.unionLayoutDiscriminator|layout element} to
   *   determine which layout to use when interpreting the buffer
   *   contents;
   * * {@link module:Layout.bits|BitStructure}s that contain a sequence
   *   of individual {@link
   *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
   *   16, 24, or 32-bit unsigned integer starting at the least- or
   *   most-significant bit;
   * * {@link module:Layout.cstr|C strings} of varying length;
   * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
   *   module:Layout~Blob#length|length} raw data.
   *
   * All {@link module:Layout~Layout|Layout} instances are immutable
   * after construction, to prevent internal state from becoming
   * inconsistent.
   *
   * @local Layout
   * @local ExternalLayout
   * @local GreedyCount
   * @local OffsetLayout
   * @local UInt
   * @local UIntBE
   * @local Int
   * @local IntBE
   * @local NearUInt64
   * @local NearUInt64BE
   * @local NearInt64
   * @local NearInt64BE
   * @local Float
   * @local FloatBE
   * @local Double
   * @local DoubleBE
   * @local Sequence
   * @local Structure
   * @local UnionDiscriminator
   * @local UnionLayoutDiscriminator
   * @local Union
   * @local VariantLayout
   * @local BitStructure
   * @local BitField
   * @local Boolean
   * @local Blob
   * @local CString
   * @local Constant
   * @local bindConstructorLayout
   * @module Layout
   * @license MIT
   * @author Peter A. Bigot
   * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
   *)

decimal.js/decimal.mjs:
  (*!
   *  decimal.js v10.6.0
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   *)

@solana/web3.js/lib/index.esm.js:
  (*!
   * humanize-ms - index.js
   * Copyright(c) 2014 dead_horse <dead_horse@qq.com>
   * MIT Licensed
   *)
*/
//# sourceMappingURL=index.mjs.map
